import{g as L,j as e,h as T,e as f,H as A,r as R,k as E,p as I,n as D,u as p,o as v,q as U,v as F,w as M,x as B,y as V,z as P,C as _,D as z,E as H,F as O,G as Y,T as $,J as G,K as q,L as K,M as J,B as Q,N as W,O as X,P as Z,Q as ee,a as se,R as ae,U as te}from"./index.js";import{S as y,C as ne,B as ie,g as le}from"./DNDLayout-ad7f971c.js";import{Y as re,S as oe,_ as C}from"./ui-e578ee10.js";import{r as x,i as ce}from"./core-ed2e5051.js";import{R as de,C as b}from"./index-2c235288.js";import"./utils-db1e3024.js";const ue=()=>{const t=L();return e.jsxs("footer",{className:"AppFooter",children:[e.jsxs("a",{className:"linkItem",href:T,onClick:()=>f("Feature Request"),children:[e.jsx(A,{className:"linkItemIcon"})," New Feature?"]}),e.jsxs("a",{className:"linkItem",href:R,target:"_blank",onClick:()=>f("Source Code"),rel:"noreferrer",children:[e.jsx(de,{className:"linkItemIcon"})," Source code"]}),e.jsx("a",{className:"linkItem",href:E,onClick:()=>f("Terms And Conditions"),children:"Terms & conditions"}),e.jsx("a",{className:"linkItem",href:I,onClick:()=>f("Privacy Policy"),children:"Privacy policy"}),t&&e.jsxs("a",{className:"linkItem",href:R,target:"_blank",rel:"noreferrer",onClick:()=>f("Source Code"),children:["v",t]})]})};const j=({title:t,description:i,children:n})=>e.jsxs("div",{className:"settingsContent",children:[e.jsxs("header",{children:[e.jsx("h1",{className:"title",children:t}),e.jsx("p",{className:"description",children:i})]}),e.jsx("main",{className:"settingsBody scrollable",children:n})]});const he=({item:t,appendRef:i=!1})=>{const{unbookmarkPost:n}=D(),{userCustomCards:o}=p(),a=[...y,...o].find(l=>l.value===t.source),c={[v.TRIGERED_FROM]:"bookmarks",[v.TITLE]:t.title,[v.LINK]:t.url,[v.SOURCE]:t.source},d=()=>{n(t),U(c),re("Link removed from the bookmarks",{theme:"defaultToast"})};return e.jsxs("div",{className:"bookmarkItem",children:[e.jsxs(ne,{className:"body",link:t.url,appendRef:i,analyticsAttributes:c,children:[e.jsx("div",{className:"title",children:t.title}),a&&e.jsxs("div",{className:"source",children:[a.type==="supported"?e.jsx("span",{className:"icon",children:a.icon}):e.jsx("img",{className:"icon",src:a.icon,alt:""}),e.jsx("span",{children:a.label})]})]}),e.jsx("div",{className:"actions",children:e.jsx("button",{className:"btn","aria-label":"Remove from bookmarks",onClick:d,children:e.jsx(ie,{})})})]})},Se=()=>{const{userBookmarks:t}=D();return e.jsx(j,{title:"Bookmarks",description:"Find all your bookmarks here. You can remove a bookmark by clicking on the remove icon.",children:e.jsx("div",{className:"bookmarks",children:t.map(i=>e.jsx(he,{item:i},i.url))})})};const N=[{value:15,label:"For 15 minutes"},{value:30,label:"For 30 minutes"},{value:60,label:"For 1 hour"},{value:"always",label:"Until you turn it off"}],me=()=>{const[t,i]=x.useState(),n=ce(),{DNDDuration:o,setDNDDuration:s}=p(),a=()=>{if(t){if(typeof t=="string")s(t);else{const r=t,m=new Date;m.setMinutes(m.getMinutes()+r),s({value:t,countdown:m.getTime()})}F(t),n("/")}},c=r=>{r&&i(r.value)},d=()=>{if(typeof o=="string")return N.find(r=>r.value===o);if(typeof o=="object"){const r=o;return N.find(m=>m.value===r.value)}},l=()=>{if(typeof o=="object"){const r=o,m=new Date(r.countdown),g=new Date;return`DND will turn off in ${M(m.getTime(),g.getTime())} Minutes`}};return e.jsxs("div",{className:"settingRow",children:[e.jsxs("p",{className:"settingTitle",children:["Do not disturb",e.jsx("br",{}),e.jsx("span",{className:"settingHint",children:"Pause Hackertab for a period of time"})]}),e.jsxs("div",{className:"settingContent",children:[e.jsxs("div",{className:"form",children:[e.jsx("div",{style:{flex:1},children:e.jsx(oe,{options:N,placeholder:"For x minutes",isMulti:!1,isClearable:!1,isSearchable:!1,defaultValue:d(),classNamePrefix:"hackertab",onChange:c})}),e.jsx("button",{onClick:a,children:"Apply"})]}),l()&&e.jsx("div",{className:"settingHint",children:e.jsx("p",{children:l()})})]})]})};const Ce=()=>{const{openLinksNewTab:t,listingMode:i,theme:n,searchEngine:o,maxVisibleCards:s,setTheme:a,setListingMode:c,setMaxVisibleCards:d,setOpenLinksNewTab:l}=p(),r=u=>{const h=u.target.checked;B(h),V(h),l(h)},m=u=>{const h=u.target.checked?"compact":"normal";P(h),_(h),c(h)},g=()=>{const u=n==="dark"?"light":"dark";a(u),z(u),H(u)},k=u=>{if(u.length){const h=parseInt(u[0].value);d(h),O(h),Y(h)}};return e.jsx(j,{title:"General Settings",description:"Customize your experience by selecting the number of cards you want to see, the search engine you want to use and more.",children:e.jsxs("div",{children:[e.jsxs("div",{className:"settingRow",children:[e.jsx("p",{className:"settingTitle",children:"Max number of cards to display"}),e.jsxs("div",{className:"settingContent",children:[e.jsx(b,{className:"noMargin alternative-color",canSelectMultiple:!1,options:[{label:"3 cards",value:"3"},{label:"4 cards",value:"4"},{label:"5 cards",value:"5"},{label:"6 cards",value:"6"}],defaultValues:[s.toString()],onChange:(u,h)=>{k(h)}}),e.jsx("p",{className:"settingHint",children:"To ensure a seamless experience, we may adjust the selected number to align with the resolution of your screen."})]})]}),e.jsxs("div",{className:"settingRow",children:[e.jsx("p",{className:"settingTitle",children:"Dark Mode"}),e.jsx("div",{className:"settingContent",children:e.jsx(C,{checked:n==="dark",icons:!1,onChange:g})})]}),e.jsxs("div",{className:"settingRow",children:[e.jsx("p",{className:"settingTitle",children:"Open links in a new tab"}),e.jsx("div",{className:"settingContent",children:e.jsx(C,{checked:t,icons:!1,onChange:r})})]}),e.jsxs("div",{className:"settingRow",children:[e.jsx("p",{className:"settingTitle",children:"Compact mode"}),e.jsx("div",{className:"settingContent",children:e.jsx(C,{checked:i==="compact",icons:!1,onChange:m})})]}),e.jsx(me,{}),e.jsx(ue,{})]})})},w=t=>{var i=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,})(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");return!!i.test(t)},ge=()=>{const{addSearchEngine:t,searchEngines:i}=p(),[n,o]=x.useState(),[s,a]=x.useState(),c=async()=>{if(!n){a("Please provide a valid Search engine URL");return}if(!w(n)){a("Invalid Search Engine URL. Please check and try again");return}if(i.some(r=>r.url===n)){a("Search Engine already exists");return}const l=new URL(n).hostname.replace("www.","").split(".")[0];t({label:l,url:n,default:!1}),a("Search Engine added successfully")};return e.jsxs("div",{className:"settingRow",children:[e.jsx("p",{className:"settingTitle",children:"Search Engine URL"}),e.jsxs("div",{className:"settingContent",children:[e.jsxs("div",{className:"form",children:[e.jsx("input",{type:"text",value:n||"",onChange:d=>o(d.target.value),placeholder:"https://google.com?q="}),e.jsx("div",{children:e.jsxs("button",{onClick:c,children:[e.jsx($,{})," Add"]})})]}),s&&e.jsx("div",{className:"settingHint",children:e.jsx("p",{children:s})})]})]})},Ne=()=>{var s;const{searchEngine:t,searchEngines:i,removeSearchEngine:n,setSearchEngine:o}=p();return e.jsx(j,{title:"Search Engine",description:`
      Choose your favorite search engine to use in the search bar. 
      You can also add a new search engine by providing the search engine URL.
    `,children:e.jsxs(e.Fragment,{children:[e.jsx(b,{canSelectMultiple:!1,options:i.map(a=>({label:a.label,value:a.url,removeable:a.default===!1,icon:a.default===!1?e.jsx(G,{}):e.jsx("img",{className:"lang_icon",src:`/searchengine_logos/${a.label.toLowerCase()}_logo.svg`})})),defaultValues:[((s=i.find(a=>a.label===t))==null?void 0:s.url)||""],onRemove:a=>{n(a.value)},onChange:a=>{const c=a.option;q(c.label),K(c.label),o(c.label)}}),e.jsx("hr",{}),e.jsxs(e.Fragment,{children:[e.jsxs("header",{children:[e.jsx("h3",{className:"title",children:"Add new Search Engine"}),e.jsx("p",{className:"description",children:"Can't find your favorite search engine? Add it here and it."})]}),e.jsx(ge,{})]})]})})},pe=()=>{const{cards:t,setCards:i,userCustomCards:n,setUserCustomCards:o}=p(),[s,a]=x.useState(),[c,d]=x.useState(),[l,r]=x.useState(!1),m=async()=>{if(!s){d("Please provide an RSS Feed URL");return}if(!w(s)){d("Invalid RSS Feed URL. Please check and try again");return}r(!0);try{const g=await le(s);let k=g.title.toLowerCase();if(n.some(S=>S.link===g.link)){d("RSS Feed already exists");return}let u={feedUrl:s,label:g.title,value:k,analyticsTag:k,link:g.link,type:"rss",icon:g.icon};o([...n,u]);const h=[...t,{id:t.length,name:u.value,type:u.type}];i(h),W(h.map(S=>S.name)),X(u.value),a(""),d("RSS Feed Added")}catch{d("Error occured. Please check and try again")}finally{r(!1)}};return e.jsxs("div",{className:"settingRow",children:[e.jsx("p",{className:"settingTitle",children:"RSS Feed URL"}),e.jsxs("div",{className:"settingContent",children:[e.jsxs("div",{className:"form",children:[e.jsx("input",{type:"text",value:s||"",onChange:g=>a(g.target.value),placeholder:"https://url.com/rss/feed"}),l?e.jsx(J,{color:"#A9B2BD",loading:l,size:6}):e.jsx("div",{children:e.jsxs("button",{className:"rssButton",onClick:m,children:[e.jsx(Q,{})," Add"]})})]}),c&&e.jsx("div",{className:"settingHint",children:e.jsx("p",{children:c})})]})]})},ye=()=>{const{cards:t,setCards:i,userCustomCards:n}=p(),o=[...y.map(s=>({label:s.label,value:s.value,icon:s.icon})),...n.map(s=>({label:s.label,value:s.value,icon:e.jsx("img",{src:s.icon,alt:""})}))].sort((s,a)=>s.label>a.label?1:-1);return e.jsx(j,{title:"Sources",description:"Your feed will be tailored by following the sources you are interested in.",children:e.jsxs(e.Fragment,{children:[e.jsx(b,{canSelectMultiple:!0,options:o,defaultValues:t.map(s=>s.name),onChange:(s,a)=>{const d=a.map(l=>l.value).map((l,r)=>y.find(m=>m.value===l)?{id:r,name:l,type:"supported"}:n.find(m=>m.value===l)?{id:r,name:l,type:"rss"}:null).filter(Boolean);i(d),s.action=="ADD"?Z(s.option.value):ee(s.option.value)}}),e.jsx("hr",{}),e.jsxs(e.Fragment,{children:[e.jsxs("header",{children:[e.jsx("h3",{className:"title",children:"Add new Source"}),e.jsx("p",{className:"description",children:"Can't find your favorite source? Add its RSS feed URL here and it will be available in your feed."})]}),e.jsx(pe,{})]})]})})},Re=()=>{const{userSelectedTags:t,setTags:i}=p(),{supportedTags:n}=se(),o=n.map(s=>({label:s.label,value:s.value})).sort((s,a)=>s.label>a.label?1:-1);return e.jsx(j,{title:"Topics",description:"Your feed will be tailored by following the technologies you are interested in.",children:e.jsx(b,{canSelectMultiple:!0,options:o,defaultValues:t.map(s=>s.value),onChange:(s,a)=>{const c=a.map(d=>n.find(l=>l.value===d.value)).filter(Boolean)||[];i(c),s.action=="ADD"?ae(s.option.value):te(s.option.value)}})})};export{Se as BookmarkSettings,Ce as GeneralSettings,Ne as SearchEngineSettings,ye as SourceSettings,Re as TopicSettings};

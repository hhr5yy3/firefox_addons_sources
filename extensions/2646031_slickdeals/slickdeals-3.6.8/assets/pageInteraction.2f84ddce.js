var u=Object.defineProperty;var h=(e,t,n)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var a=(e,t,n)=>(h(e,typeof t!="symbol"?t+"":t,n),n);import{o as f,s as I}from"./index.0a1d9bc1.js";function m(e){return class extends e{constructor(){super(...arguments);a(this,"classInstanceState",0);a(this,"initializableInitPromise",null)}async init(){this.initializableInitPromise&&await this.initializableInitPromise,![1].includes(this.classInstanceState)&&(this.initializableInitPromise=super.init(),await this.initializableInitPromise,this.initializableInitPromise=null,this.classInstanceState=1)}}}const P=e=>(...t)=>(typeof t[1]=="object"&&t[1]!==null&&(t[1]=JSON.parse(JSON.stringify(t[1]))),e(...t)),b=P(I),S=f;function p(){return new Promise(e=>{document.readyState!=="loading"?e(null):document.addEventListener("DOMContentLoaded",()=>e(null))})}var g=Object.defineProperty,w=Object.getOwnPropertyDescriptor,_=(e,t,n,r)=>{for(var i=r>1?void 0:r?w(t,n):t,o=e.length-1,c;o>=0;o--)(c=e[o])&&(i=(r?c(t,n,i):c(i))||i);return r&&i&&g(t,n,i),i};const d=["mousedown","keydown"];var l;let s=(l=class{constructor(){a(this,"listeners",{})}static create(){var e;return s.instance=(e=s.instance)!=null?e:new this,s.instance}async init(){await p(),this.initInteractionListeners()}initInteractionListeners(){d.forEach(e=>{const t=this.interactedWithPage.bind(this);document.addEventListener(e,t),this.listeners[e]=t})}teardownInteractionListeners(){d.forEach(e=>{document.removeEventListener(e,this.listeners[e]),delete this.listeners[e]})}async interactedWithPage(){await b("userInteractedWithPage",null,"background"),this.teardownInteractionListeners()}},a(l,"instance"),l);s=_([m],s);const z=Object.freeze(Object.defineProperty({__proto__:null,get default(){return s}},Symbol.toStringTag,{value:"Module"}));export{p as d,m as i,S as o,z as p,b as s};

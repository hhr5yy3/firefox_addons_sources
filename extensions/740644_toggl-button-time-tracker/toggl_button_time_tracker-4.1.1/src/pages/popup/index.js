import"../../../assets/modulepreload-polyfill.js";import{j as o,I as Me,a as M,$ as yo,l as m,c as v,F as U,A as zr,u as _e,S as wo,b as Wt,B as ut,T as Ft,d as le,e as pt,f as ko,g as lt,h as ee,W as Co,i as Pe,k as So,m as _o,n as be,o as To,p as Oo,q as Io,C as Mo,r as Br,s as nt,t as Po,v as Lo,w as De,x as Do,L as $o,y as Eo,H as jo,z as Ro,D as me,E as ue,G as Ht,P as Wr,J as Ao,K as Ze,M as Vt,N as zo,O as Fr,Q as Bo,R as Et,U as Wo,V as Fo,X as Ho,Y as Vo,Z as No,_ as qo,a0 as Uo,a1 as Go,a2 as Ko,a3 as Zo,a4 as Xo,a5 as Yo}from"../../../assets/Logo.js";import{l as Nt,D as Qo}from"../../../assets/errorReport.js";import{e as Te,c as te,f as Jo,_ as at,u as ft,i as dr,F as en,g as tn,h as gt,D as J,j as rn,k as on,a as nn,Q as an,m as sn,b as ln}from"../../../assets/ProjectsCreateService.js";import{as as u,au as cn,ap as ht,av as Hr,am as dn,aw as tt,ax as rt,ay as vt,az as Vr,at as mt,ao as qt,aA as Ee,T as un,aB as pn,aC as fn}from"../../../assets/constants.js";import{c as gn,u as hn,b as vn,O as mn,d as Nr,e as xn,T as qr,g as ur,f as bn}from"../../../assets/UserUpdateService.js";import{B as we,b as Ie,c as Ue}from"../../../assets/browser-polyfill.js";var yn=typeof Element!="undefined",wn=typeof Map=="function",kn=typeof Set=="function",Cn=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function it(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,n,i;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(!it(e[n],t[n]))return!1;return!0}var a;if(wn&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(a=e.entries();!(n=a.next()).done;)if(!t.has(n.value[0]))return!1;for(a=e.entries();!(n=a.next()).done;)if(!it(n.value[1],t.get(n.value[0])))return!1;return!0}if(kn&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(a=e.entries();!(n=a.next()).done;)if(!t.has(n.value[0]))return!1;return!0}if(Cn&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(e[n]!==t[n])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[n]))return!1;if(yn&&e instanceof Element)return!1;for(n=r;n--!==0;)if(!((i[n]==="_owner"||i[n]==="__v"||i[n]==="__o")&&e.$$typeof)&&!it(e[i[n]],t[i[n]]))return!1;return!0}return e!==e&&t!==t}var Sn=function(t,r){try{return it(t,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const _n=e=>o(Me,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true",width:"1em",height:"1em",...e,children:o("path",{fillRule:"evenodd",d:"M9.208 3.293a1 1 0 0 1 1.32-.083l.094.083a1 1 0 0 1 0 1.414L7.33 8l3.292 3.293a1 1 0 0 1 .083 1.32l-.083.094a1 1 0 0 1-1.414 0l-4.001-4a1 1 0 0 1 0-1.414l4-4Z",clipRule:"evenodd"})}),Tn=e=>o(Me,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true",width:"1em",height:"1em",...e,children:o("path",{fillRule:"evenodd",d:"M8.5 0a1 1 0 0 1 1 1v.613c1.567.354 2.93 1.514 3.449 3.07a1 1 0 0 1-1.897.633c-.243-.728-.84-1.318-1.551-1.612v3.511C11.988 7.87 13 8.677 13 10.8c0 1.835-1.496 3.255-3.5 3.612V15a1 1 0 1 1-2 0l-.001-.58c-1.733-.29-2.871-1.372-3.448-3.104a1 1 0 0 1 1.897-.632c.305.915.772 1.462 1.55 1.69v-3.59C5.014 8.13 4 7.324 4 5.2c0-1.835 1.495-3.255 3.5-3.613V1a1 1 0 0 1 1-1Zm1.002 9.29v3.075C10.418 12.098 11 11.479 11 10.8c0-.78-.32-1.148-1.498-1.51ZM6 5.2c0 .78.321 1.148 1.5 1.51V3.635C6.582 3.9 6 4.521 6 5.2Z",clipRule:"evenodd"})}),Ut=e=>o(Me,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true",width:"1em",height:"1em",...e,children:o("path",{fillRule:"evenodd",d:"m6.269 9.687 6.033-6.286a.944.944 0 0 1 1.285-.25.884.884 0 0 1 .257 1.248l-6.66 7.2a.944.944 0 0 1-1.427.137L2.271 8.418a.882.882 0 0 1 0-1.273.946.946 0 0 1 1.311 0l2.687 2.542Z",clipRule:"evenodd"})}),On=e=>o(Me,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true",width:"1em",height:"1em",...e,children:o("path",{fillRule:"evenodd",d:"M7.757 4 5.756 6H3a1 1 0 0 0-.993.883L2 7v6a1 1 0 0 0 .883.993L3 14h6a1 1 0 0 0 .993-.883L10 13v-2.758l2-2V14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h5.757ZM15.704.286c.229.228.32.542.275.838V7a.977.977 0 1 1-1.953 0V3.346L7.617 9.714a.977.977 0 1 1-1.38-1.38l6.408-6.37H8.944a.977.977 0 0 1 0-1.953h5.922a.975.975 0 0 1 .838.275Z",clipRule:"evenodd"})}),In=e=>o(Me,{xmlns:"http://www.w3.org/2000/svg",style:{overflow:"visible"},viewBox:"1 0 16 16",fill:"currentColor","aria-hidden":"true",width:"1em",height:"1em",...e,children:o("path",{fillRule:"evenodd",d:"M4.066 8a5 5 0 0 0 7.489 4.338 1 1 0 0 1 .997 1.734A7 7 0 0 1 2.066 8h-1.01c-.539 0-.721-.358-.39-.8l1.8-2.4c.334-.445.869-.442 1.2 0l1.8 2.4c.334.445.156.8-.39.8h-1.01Zm9.978-.467a5 5 0 0 0-7.49-3.857 1 1 0 1 1-1.008-1.728A7 7 0 0 1 16.05 7.533h1.025c.547 0 .725.355.391.8l-1.8 2.4c-.331.441-.866.445-1.2 0l-1.8-2.4c-.331-.442-.149-.8.39-.8h.989Z",clipRule:"evenodd"})}),Mn=e=>o(Me,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true",width:"1em",height:"1em",...e,children:o("path",{fillRule:"evenodd",d:"M8 11a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm.3-11c.387 0 .8.298.922.666l.533 1.595c.37.113.726.261 1.063.44l1.504-.751c.346-.173.85-.093 1.122.18l.425.426c.274.273.354.775.181 1.122l-.752 1.504c.18.337.328.693.442 1.064l1.594.532c.367.122.666.535.666.921V8.3c0 .387-.298.8-.666.922l-1.595.533c-.113.37-.261.726-.44 1.063l.751 1.504c.173.346.092.85-.18 1.122l-.426.425c-.273.274-.775.354-1.122.181l-1.504-.752c-.337.18-.692.328-1.063.441l-.533 1.595C9.1 15.701 8.687 16 8.3 16h-.602c-.386 0-.798-.298-.92-.666l-.533-1.594a5.964 5.964 0 0 1-1.064-.442l-1.504.752c-.346.173-.85.092-1.122-.18l-.425-.426c-.274-.273-.354-.775-.181-1.122l.752-1.504a5.96 5.96 0 0 1-.442-1.064L.666 9.222C.299 9.1 0 8.687 0 8.3v-.602c0-.386.298-.798.666-.92l1.595-.534c.113-.37.261-.726.44-1.063L1.95 3.678c-.173-.346-.093-.85.18-1.122l.426-.425c.273-.274.775-.354 1.122-.181l1.504.752c.337-.18.693-.328 1.064-.442L6.778.666C6.9.299 7.313 0 7.7 0H8.3Z",clipRule:"evenodd"})}),Pn=e=>o(Me,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true",width:"1em",height:"1em",...e,children:o("path",{fillRule:"evenodd",d:"M5.915 1c1.096 0 2.632.633 3.412 1.413l5.077 5.076a2 2 0 0 1-.003 2.83L10.318 14.4a2.004 2.004 0 0 1-2.829.003L2.413 9.327C1.633 8.547 1 7.02 1 5.915V3c0-1.096.895-2 2-2h2.915ZM4.95 2.976a1.976 1.976 0 1 0 0 3.95 1.976 1.976 0 0 0 0-3.95Z",clipRule:"evenodd"})}),Ln=e=>M(Me,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true",width:"1em",height:"1em",...e,children:[o("path",{fillRule:"evenodd",d:"M6.648 0a3 3 0 0 0-2.976 2.628L3.625 3H2a2 2 0 0 0-2 2v2h16V5a2 2 0 0 0-2-2h-1.625l-.046-.372A3 3 0 0 0 9.351 0H6.648ZM5.8 3h4.4l-.04-.196A1 1 0 0 0 9.18 2H6.82a1 1 0 0 0-.98.804L5.8 3Z",clipRule:"evenodd"}),o("path",{d:"M16 8H0v5a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8Z"})]}),Dn=({children:e,delayDuration:t=500,...r})=>o(yo,{delayDuration:t,...r,children:e}),Ur=({color:e,size:t=36,...r})=>o("svg",{...r,xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 36 36",children:M("g",{fill:"none",fillRule:"evenodd",children:[o("rect",{width:"36",height:"36",fill:e!=null?e:m.colors.accent.regular,rx:"18"}),o("path",{fill:m.colors.ui_000.regular,d:"M13 11.994c0-1.101.773-1.553 1.745-.997l10.51 6.005c.964.55.972 1.439 0 1.994l-10.51 6.007c-.964.55-1.745.102-1.745-.997V11.994z"})]})}),$n=({color:e,size:t=36,...r})=>o("svg",{...r,xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 36 36",children:M("g",{fill:"none",fillRule:"evenodd",children:[o("rect",{width:"36",height:"36",fill:e!=null?e:m.colors.accent.regular,rx:"18"}),o("rect",{width:"4",height:"20",x:"16",y:"8",fill:m.colors.ui_000.regular,rx:"1.5"}),o("rect",{width:"20",height:"4",x:"8",y:"16",fill:m.colors.ui_000.regular,rx:"1.5"})]})}),En=({color:e,size:t=36,...r})=>o("svg",{...r,xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 36 36",children:M("g",{fill:"none",fillRule:"evenodd",children:[o("rect",{width:"36",height:"36",fill:e!=null?e:m.colors.orange.regular,rx:"18"}),o("rect",{width:"14",height:"14",x:"11",y:"11",fill:m.colors.ui_000.regular,rx:"1.5"})]})});function jn(e,t){return`${e} returned \`undefined\`. Seems you forgot to wrap component within ${t}`}function Gr(e={}){const{name:t,strict:r=!0,hookName:n="useContext",providerName:i="Provider",errorMessage:a,defaultValue:s}=e,l=u.exports.createContext(s);l.displayName=t;function c(){var d;const p=u.exports.useContext(l);if(!p&&r){const f=new Error(a!=null?a:jn(n,i));throw f.name="ContextError",(d=Error.captureStackTrace)==null||d.call(Error,f,c),f}return p}return[l.Provider,c,l]}const[Rn,Gt]=Gr({strict:!1,name:"OnboardingContext"}),An=({children:e,...t})=>{const[r,n,{isCacheLoading:i}]=cn(gn.storage,"initial","sync");return o(Rn,{value:{currentStep:r,setCurrentStep:n,isLoading:i},children:e})},zn=v("div",{target:"e7hia7n0"})("z-index:1;display:",e=>e.open?"block":"none",";position:fixed;top:0;left:0;right:0;bottom:0;height:100vh;background:transparent;"),Bn=({children:e,scrollable:t,className:r,transitionDuration:n=.075})=>{const i=u.exports.useRef(null),a=Wn(i);return o("div",{style:{height:a,overflow:t?"auto":"hidden",transition:`height ${n}s ease`,scrollbarGutter:t?"stable":void 0},className:r,children:o("div",{ref:i,children:e})})},Wn=e=>{const[t,r]=u.exports.useState("");return u.exports.useEffect(()=>{const n=e.current,i=new ResizeObserver(a=>{const l=`${a[0].contentRect.height}px`;r(l)});return n&&i.observe(n),()=>{n&&i.unobserve(n)}},[e]),t},Fn=te({noMatchingWorkspaces:{id:"OrganizationWorkspaceMenu.noMatchingWorkspaces",defaultMessage:"No matching workspaces or organizations"}});function Hn({organizations:e,filter:t}){const[r,n]=Te(),i=u.exports.useMemo(()=>e.map(a=>({...a,workspaces:a.name.toLowerCase().includes(t.toLowerCase())?a.workspaces:a.workspaces.filter(s=>s.name.toLowerCase().includes(t.toLowerCase()))})),[e,t]);return M(Vn,{children:[i==null?void 0:i.map(a=>o(u.exports.Fragment,{children:a.workspaces.map(s=>M(Nn,{"data-selected":r===s.id,onClick:()=>n(s.id),children:[M("p",{children:[o("span",{children:a.name}),M("span",{children:["  /  ",s.name]})]}),o(Un,{"data-selected":r===s.id,size:"2x",color:"accent"})]},s.id))},a.id)),o(qn,{children:o(U,{...Fn.noMatchingWorkspaces})})]})}const Vn=v("ul",{target:"e13srbni3"})("padding:0 ",m.spacings["2x"]," ",m.spacings["1x"],";overflow:auto;"),Nn=v("button",{target:"e13srbni2"})(m.unset.button,";",m.text.nextP1Body,";padding:0 ",m.spacings["2x"],";width:100%;display:flex;justify-content:space-between;align-items:center;border-radius:",m.radii.regular,";transition:background-color 0.15s ease-in;font-weight:",m.text.fontWeight.normal,";&[data-selected='true']{font-weight:",m.text.fontWeight.medium,";}&:hover,&:focus-visible{transition:background-color 0.1s ease-out;background-color:",m.colors.surface_tertiary.hover,";}p span:first-of-type{color:",m.colors.ui_060.regular,";}"),qn=v("div",{target:"e13srbni1"})("padding:",m.spacings["2x"],";display:none;&:only-child{display:block;}"),Un=v(Ut,{target:"e13srbni0"})({name:"1vp6bp9",styles:"opacity:0;filter:blur(2px);transition:opacity 0.15s ease-in,filter 0.15s ease-in;&[data-selected='true']{opacity:1;filter:blur(0);transition:opacity 0.25s ease-out,filter 0.25s ease-out;}"}),Gn=u.exports.forwardRef(({organization:e,isSelected:t,onOrganizationExpand:r,expandedOrganizationId:n,children:i},a)=>{const s=e.id===n;return o(Kn,{hidden:e.workspaces.length===0,children:M(Zn,{ref:a,open:s,onClick:r(e),"data-organization-selected":t,children:[M(Xn,{isOpen:s,className:"OrganizationItem",children:[M(Yn,{selected:t,children:[o(Qn,{"data-selected":t,size:"2x",color:"accent"}),o(Jn,{children:e.name})]}),o(ea,{color:"ui_050",isOpen:s})]}),i]})})}),Kn=v("li",{target:"e4m7w0j6"})({name:"qr8q5p",styles:"list-style:none"}),Zn=v("div",{target:"e4m7w0j5"})("transition:all 0.15s ease-in;border-radius:",m.radii.regular,";border:1px solid transparent;scroll-margin:60px;:hover,& .OrganizationItem:focus-visible{transition:all 0.1s ease-out;background-color:",m.colors.surface_tertiary.hover,";}&[open],&[data-organization-selected='true']{background-color:",m.colors.surface_secondary.regular,";border-color:",m.colors.ui_010.regular,";}"),Xn=v("div",{target:"e4m7w0j4"})(m.text.nextH5Subtitle,";display:flex;justify-content:space-between;align-items:center;padding:",m.spacings["1.5x"]," ",m.spacings["2x"],";list-style-type:none;border-radius:",m.radii.regular,";cursor:pointer;",({isOpen:e})=>e&&`border-radius: ${m.radii.regular} ${m.radii.regular} 0 0;`,";"),Yn=v("span",{target:"e4m7w0j3"})("display:inline-flex;align-items:center;gap:",m.spacings["1x"],";overflow:hidden;max-width:275px;>svg{flex-shrink:0;}",({selected:e})=>e?`
      transform: translateX(0);
      transition: transform 0.2s ease-out;
      `:`
      transform: translateX(-23px);
      transition: transform 0.15s ease-in;
      `,";"),Qn=v(Ut,{target:"e4m7w0j2"})({name:"1vp6bp9",styles:"opacity:0;filter:blur(2px);transition:opacity 0.15s ease-in,filter 0.15s ease-in;&[data-selected='true']{opacity:1;filter:blur(0);transition:opacity 0.25s ease-out,filter 0.25s ease-out;}"}),Jn=v("span",{target:"e4m7w0j1"})(m.text.noOverflow,";"),ea=v(zr,{target:"e4m7w0j0"})("transition:transform 0.25s cubic-bezier(0.39, 0.575, 0.565, 1);",({isOpen:e})=>e?"transform: rotate(180deg);":"transform: rotate(0deg);",";"),pr=te({default:{id:"workspaceItem.default",defaultMessage:"Default"},setDefault:{id:"workspaceItem.setDefault",defaultMessage:"Set as default"}}),ta="https://assets.track.toggl.com/images/workspace.jpg";var ra={name:"c6q43d",styles:"letter-spacing:1px;font-weight:500"},oa={name:"4zleql",styles:"display:block"};function na({workspace:e}){const[t]=ht(),[r,n]=Te(),i=hn(),a=_e(),s=r===e.id,l=(t==null?void 0:t.default_workspace_id)===e.id,c=d=>{l||(d.preventDefault(),d.stopPropagation(),i.mutate({default_workspace_id:e.id},{onError:f=>{a.addToast({type:"error",title:"Error updating default workspace",message:f.message})}}))};return o(aa,{children:M(ia,{"data-workspace-selected":s,onClick:d=>{d.preventDefault(),d.stopPropagation(),n(e.id)},children:[M(ca,{children:[o(da,{"data-selected":s,size:"2x",color:"accent"}),e.logo_url===ta?o(Ln,{color:"ui_040"}):o("img",{css:oa,height:20,src:e.logo_url,alt:e.name}),o(la,{children:e.name})]}),l?o(wo,{type:"info",size:"xs",css:ra,children:o(U,{...pr.default})}):o(sa,{onClick:c,disabled:i.isLoading,children:i.isLoading?o(Wt,{}):o(U,{...pr.setDefault})})]})})}const aa=v("li",{target:"e1vpds3s5"})({name:"qr8q5p",styles:"list-style:none"}),ia=v("button",{target:"e1vpds3s4"})(m.unset.button,";",m.text.nextP1Body,";width:100%;padding:",m.spacings["1.5x"]," ",m.spacings["2x"],";display:flex;justify-content:space-between;align-items:center;cursor:pointer;transition:background-color 0.15s ease-in;&[data-workspace-selected='true']{font-weight:",m.text.fontWeight.bold,";}:hover,:focus-visible,:focus-within{transition:background-color 0.1s ease-out;background-color:",m.colors.surface_tertiary.hover,";}"),sa=v("button",{target:"e1vpds3s3"})(m.unset.button,";",m.text.nextH6SubtitleCaps,";flex-shrink:0;color:",m.colors.accent_120.regular,";padding:",m.spacings["0.25x"]," ",m.spacings["0.5x"],";border-radius:",m.radii.regular,";cursor:pointer;opacity:0;transition:opacity 0.15s ease-out,color 0.1s ease-out;.WorkspaceItem:hover &,.WorkspaceItem:focus-visible &{transition:opacity 0.1s ease-out 0.3s,color 0.1s ease-out,background-color 0.1s ease-out;opacity:1;}:hover,:focus-visible{opacity:1;color:",m.colors.accent_120.hover,";}:hover{transition:opacity 0.025s ease-out,color 0.1s ease-out;}:focus-visible{transition:opacity 0.15s ease-out,background-color 0.1s ease-out,color 0.15s ease-out;opacity:1;color:",m.colors.accent_120.onClick,";background-color:",m.colors.accent_020.onClick,";}"),la=v("span",{target:"e1vpds3s2"})(m.text.noOverflow,";"),ca=v("span",{target:"e1vpds3s1"})("display:inline-flex;align-items:center;gap:",m.spacings["1x"],";overflow:hidden;max-width:275px;>svg{flex-shrink:0;}"),da=v(Ut,{target:"e1vpds3s0"})({name:"1vp6bp9",styles:"opacity:0;filter:blur(2px);transition:opacity 0.15s ease-in,filter 0.15s ease-in;&[data-selected='true']{opacity:1;filter:blur(0);transition:opacity 0.25s ease-out,filter 0.25s ease-out;}"}),Ne=te({manageWorkspaces:{id:"OrganizationWorkspaceMenu.manageWorkspaces",defaultMessage:"Manage Workspaces"},labelWorkspaces:{id:"OrganizationWorkspaceMenu.labelWorkspaces",defaultMessage:"Workspaces"},labelWorkspace:{id:"OrganizationWorkspaceMenu.labelWorkspace",defaultMessage:"Workspace"},labelOrganization:{id:"OrganizationWorkspaceMenu.labelOrganizations",defaultMessage:"Organizations"},filterPlaceholder:{id:"OrganizationWorkspaceMenu.filterPlaceholder",defaultMessage:"Find Workspaces..."}});function ua(e){const t=_e(),r=Jo(),[n,i]=u.exports.useState(-1),[a,s]=u.exports.useState(""),[l]=Te(),[c]=vn(),p=u.exports.useMemo(()=>at.chain(e.workspaceMap).values().groupBy("organization_id").value(),[e.workspaceMap]),d=u.exports.useMemo(()=>(c!=null?c:[]).sort((g,T)=>g.name.localeCompare(T.name)).map(g=>{var T;return Object.assign(g,{workspaces:(T=p[g.id])!=null?T:[]})}),[p,c]),f=c==null?void 0:c.find(g=>{var T,b;return g.id===((b=(T=e.workspaceMap)==null?void 0:T[l!=null?l:""])==null?void 0:b.organization_id)});u.exports.useEffect(()=>{mn.dispatch().catch(g=>{t.addToast({title:"Error loading organizations",message:g.message,type:"error"})})},[t]);const k=g=>()=>{i(T=>g.id===T?-1:g.id)},x=u.exports.useRef(null);u.exports.useEffect(()=>{x.current&&x.current.scrollIntoView({behavior:"smooth"})},[f]);const _=u.exports.useCallback(g=>g.stopPropagation(),[]),C=u.exports.useCallback(g=>s(g.target.value),[]);return M(pa,{...e,children:[o(ba,{tabIndex:0,value:a,onClick:_,onChange:C,placeholder:r.formatMessage(Ne.filterPlaceholder)}),M(ma,{children:[o(U,{...Ne.labelOrganization}),M(xa,{"aria-hidden":!a,children:[" / ",o(U,{...Ne.labelWorkspaces})]})]}),!c&&o(ya,{children:o(Wt,{})}),a&&o(Hn,{organizations:d,filter:a}),!a&&o(ga,{children:d.map(g=>o(Gn,{ref:(f==null?void 0:f.id)===g.id?x:void 0,organization:g,isSelected:(f==null?void 0:f.id)===g.id,expandedOrganizationId:n,onOrganizationExpand:k,children:o(Bn,{transitionDuration:.2,children:n===g.id&&M(va,{isOpen:n===g.id,children:[o(ha,{children:o(U,{...Ne[g.workspaces.length===1?"labelWorkspace":"labelWorkspaces"]})}),g.workspaces.map(T=>o(na,{workspace:T},T.id))]})})},g.id))}),o(fa,{onClick:()=>{var T,b;const g=(b=(T=e.workspaceMap)==null?void 0:T[l!=null?l:""])==null?void 0:b.organization_id;we.tabs.create({url:`https://track.toggl.com/organization/${g}/workspaces`})},children:o(U,{...Ne.manageWorkspaces})})]})}const pa=v("div",{target:"ew9a8tw8"})("z-index:2;position:relative;top:5px;border-radius:8px;box-shadow:0 2px 6px 0 rgba(0, 0, 0, 0.1);border:1px solid rgba(0, 0, 0, 0.1);display:flex;flex-flow:column nowrap;padding:0;background:",m.colors.surface_primary.regular,";color:",({theme:e})=>m.colors.ui.regular,";"),fa=v(ut,{target:"ew9a8tw7"})("font-size:14px;color:",({disabled:e})=>e?m.colors.ui.disabled:m.colors.ui.regular,";display:flex;align-items:center;justify-content:center;gap:8px;border:none;padding:",m.spacings["1x"],";border-radius:0 0 ",m.radii.regular," ",m.radii.regular,";border-top:1px solid ",m.colors.ui_020.regular,";svg{width:16px;height:16px;fill:",({disabled:e})=>e?m.colors.accent.disabled:m.colors.accent.regular,";}&:hover{background:",m.colors.surface_secondary.hover,";}"),ga=v("ul",{target:"ew9a8tw6"})("padding:",m.spacings["1x"]," ",m.spacings["2x"],";overflow:auto;display:grid;gap:",m.spacings["0.5x"],";"),ha=v("span",{target:"ew9a8tw5"})(m.text.nextH6SubtitleCaps,";display:block;padding:",m.spacings["2x"]," ",m.spacings["2x"]," ",m.spacings["1x"],";color:",m.colors.ui_060.regular,";"),va=v("ul",{target:"ew9a8tw4"})("display:grid;padding:0;border-top:1px solid transparent;",({isOpen:e})=>e?`
    transition: border-color 0.5s ease-out;
    transition-delay: 0.2s;

    border-color: ${m.colors.ui_020.regular};
  `:"",";"),ma=v("span",{target:"ew9a8tw3"})(m.text.label,";font-size:11px;padding:",m.spacings["2x"]," ",m.spacings["3.5x"]," ",m.spacings["1x"],";"),xa=v("span",{target:"ew9a8tw2"})({name:"93232z",styles:"transition:opacity 0.15s ease-in,filter 0.15s ease-in;&[aria-hidden='true']{opacity:0;filter:blur(2px);}&[aria-hidden='false']{opacity:1;filter:blur(0);transition:opacity 0.25s ease-out,filter 0.25s ease-out;}"}),ba=v(Ft,{target:"ew9a8tw1"})("width:auto!important;margin:",m.spacings["2x"]," ",m.spacings["2x"]," 0;"),ya=v("div",{target:"ew9a8tw0"})({name:"1azakc",styles:"text-align:center"});function wa(e){return o(le,{content:"icon-right",size:"regular",variant:"tertiary",active:e.isOpen,onClick:e.onOpenChange,icon:o(zr,{}),children:o(ka,{children:e.workspaceName})})}const ka=v("h1",{target:"e1bwupuf0"})(m.typography.h5Subtitle," white-space:nowrap;overflow:hidden;max-width:250px;text-overflow:ellipsis;margin:0;");function Ca(){var s;const[e,t]=u.exports.useState(!1),[r]=Hr(),[n]=ht(),[i]=Te(),a=r==null?void 0:r[i!=null?i:""];return n?M(Sa,{children:[o(wa,{workspaceName:(s=a==null?void 0:a.name)!=null?s:"Loading ...",isOpen:e,onOpenChange:()=>t(l=>!l)}),e&&o(pt,{children:o(_a,{workspaceMap:r})}),o(zn,{open:e,onClick:()=>t(l=>!l)})]}):null}const Sa=v("div",{target:"e1lxyrs81"})({name:"bjn8wh",styles:"position:relative"}),_a=v(ua,{target:"e1lxyrs80"})("position:absolute;top:40px;left:-30px;z-index:11;width:425px;max-height:400px;border-radius:",m.radii.regular,";"),wt=te({openSettings:{id:"header.links.openSettings",defaultMessage:"Open Settings"},sync:{id:"header.links.sync",defaultMessage:"Sync"},goToWebapp:{id:"header.links.goToWebapp",defaultMessage:"Open Toggl"}});function fr(){const e=_e(),[t]=Nr(),n=ft(async()=>{await Ie.exports.runtime.sendMessage({type:"activate",payload:{forwardError:!0}})}),i=()=>n.mutate(void 0,{onError(a){e.addToast({type:"error",message:a.message,title:"Sync error"})}});return o(pt,{enforceColorScheme:"dark",children:M(Ta,{children:[o(ko,{active:!0}),o(Ca,{}),M(Oa,{children:[o(U,{...wt.goToWebapp,children:a=>o(le,{onClick:()=>Ie.exports.tabs.create({url:"https://track.toggl.com?utm_source=toggl-button&utm_medium=referral"}),title:String(a),content:"icon-only",size:"small",icon:o(On,{}),variant:"tertiary"})}),o(U,{...wt.sync,children:a=>M(lt,{enabled:!!(t!=null&&t.error),children:[o(le,{loading:n.isLoading||(t==null?void 0:t.loading),onClick:i,title:String(a),content:"icon-only",size:"small",icon:o(In,{color:t!=null&&t.error?"error":"ui"}),variant:"tertiary"}),o(lt.Content,{children:(t==null?void 0:t.error)&&M("div",{css:ee(m.typography.p1Body," display:flex;align-items:center;gap:",m.spacings["1x"],";",""),children:[o(Co,{color:"error"}),t==null?void 0:t.error]})})]})}),o(U,{...wt.openSettings,children:a=>o(le,{onClick:()=>Ie.exports.tabs.create({url:Ie.exports.runtime.getURL("settings.html")}),title:String(a),content:"icon-only",size:"small",icon:o(Mn,{}),variant:"tertiary"})})]})]})})}const Ta=v("div",{target:"eoeooqr1"})({name:"ouvfud",styles:"display:flex;flex-direction:row;align-items:center;height:48px;padding:0 8px;background-color:#2c1338;z-index:10;gap:5px"}),Oa=v("div",{target:"eoeooqr0"})({name:"yft2ng",styles:"display:flex;flex-direction:row;gap:4px;align-items:center;margin-left:auto"});function Ia(){const[e,,{isCacheLoading:t}]=ht(),[r,n]=u.exports.useState("default"),[i,a]=u.exports.useState(void 0);return{loading:t,view:r,user:e,editingEntry:i,changeView:n,changeEditingEntry:l=>{a(l)}}}const Ma={loading:!1,view:"default",user:null,editingEntry:void 0,changeView:e=>e,changeEditingEntry:e=>e},Kr=u.exports.createContext(Ma),He=()=>u.exports.useContext(Kr),jt=()=>{const e=Pe();return o(Pa,{children:o(So,{size:36,color:e.colors.ui_050.regular})})},Pa=v("div",{target:"e1gojouk0"})("position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;background-color:",({theme:e})=>e.colors.surface_primary.regular,";"),Kt=()=>{const[e,,{isCacheLoading:t}]=dn("Pomodoro.State",dr);return t?dr:e},[La,Zt]=Gr({strict:!1,name:"PopupContext"}),Da=({children:e,...t})=>{const r=Kt(),[n,i]=u.exports.useState("LIST");return u.exports.useEffect(()=>{(r.computed.isRunningBreak||r.isRunning)&&i("POMODORO")},[r.computed.isRunningBreak,r.isRunning]),o(La,{value:{activeView:n,setActiveView:i},...t,children:e})},Zr=v("div",{target:"e1l548108"})("display:flex;justify-content:center;align-items:center;height:36px;min-width:36px;border-radius:8px;cursor:pointer;",({highlight:e,theme:t})=>e&&ee("background-color:",t.colors.accent_020.hover,";svg{fill:",t.colors.accent.regular,"!important;path{fill:",t.colors.accent.regular,"!important;opacity:1;}}","")," &:hover{background-color:",({theme:e})=>e.colors.surface_secondary.hover,";}"),Xr=v("div",{target:"e1l548106"})("display:flex;flex-direction:column;box-sizing:border-box;font-size:14px;box-shadow:0px 1px 4px rgba(44, 19, 56, 0.1);background:",({theme:e})=>e.colors.surface_primary.regular,";"),Yr=v("div",{target:"e1l548105"})("display:flex;box-sizing:border-box;font-size:14px;flex-direction:row;align-items:center;height:66px;box-shadow:",({theme:e})=>e.colors.surface_primary.regular," 0px -1px 0px 0px inset;background:",({theme:e})=>e.colors.surface_primary.regular,";padding:0.5rem 0.8rem;>div:first-child{flex:1;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;}>div:last-child{display:flex;align-items:center;}"),Qr=v("div",{target:"e1l548104"})({name:"1sk845m",styles:"display:flex;gap:4px;padding:0 8px;position:relative"}),$a=v("div",{target:"e1l548103"})("flex:1;font-size:16px;font-weight:",({theme:e})=>e.typography.fontWeight.semibold,";"),Ea=v("div",{target:"e1l548101"})({name:"150agpn",styles:"display:inline-block;width:40px;height:40px;background-position:55% 50%;background-size:38px;border:none;cursor:pointer"}),ja=_o`
  ${Ba().map(([e,t])=>`${e}% { transform: scale(${t}); }`)}
`;var Ra={name:"l4j8xs",styles:"&:active:before{animation:none;transform:scale(var(--button-breathe-hover-size));}"},Aa={name:"1w8yoc9",styles:":before{transform:scale(var(--button-breathe-hover-size));transition-duration:var(--button-hover-on-duration);}"};function za({theme:e,isStop:t}){return ee("--button-hover-on-duration:0.2s;--button-hover-off-duration:0.25s;--button-breathe-normal-size:1.3;--button-breathe-hover-size:1.2;--button-breathe-shrunk-size:1.1;--button-breathe-expanded-size:1.35;--button-breathe-animation-duration:4s;--button-breathe-animation-delay:0.5s;--button-breathe-opacity:16%;position:relative;z-index:0;transition:background-color 0.2s;&:before{display:block;position:absolute;top:0;width:100%;height:100%;z-index:-1;content:' ';pointer-events:none;border-radius:inherit;background:",e.colors.accent.regular,";opacity:var(--button-breathe-opacity);transform-origin:center center;transform:scale(var(--button-breathe-normal-size));transition:all var(--button-hover-off-duration) linear;",t&&ee("background:",e.colors.orange.regular,";transform:scale(var(--button-breathe-shrunk-size));animation:",ja," var(--button-breathe-animation-duration) linear;animation-delay:var(--button-breathe-animation-delay);animation-iteration-count:infinite;@media (prefers-reduced-motion: reduce){animation:none;}",""),";}&:not(:disabled){&:hover,&:focus{",!t&&Aa,";svg rect:first-of-type{fill:",t?e.colors.orange.hover:e.colors.accent.hover,";}}&:focus:not(:hover):not(:focus-visible){svg rect:first-of-type{fill:",t?e.colors.orange.regular:e.colors.accent.regular,";}:before{transform:scale(var(--button-breathe-normal-size));}}&:active{svg rect:first-of-type{fill:",t?e.colors.orange.onClick:e.colors.accent.onClick,";}}}",t&&Ra,";","")}function Ba(){function n(a){const s=Math.sin(a*Math.PI/2);return 1.1+s*.25}function i(a){const s=a*a*a;return 1.1+s*.25}return[[5,n(.1)],[10,n(.2)],[15,n(.3)],[20,n(.4)],[25,n(.5)],[30,n(.6)],[35,n(.7)],[40,n(.8)],[45,n(.9)],[50,n(1)],[55,i(.9)],[60,i(.8)],[65,i(.7)],[70,i(.6)],[75,i(.5)],[80,i(.4)],[85,i(.3)],[90,i(.2)],[95,i(.1)],[100,i(0)]]}const Jr=v(Ea,{target:"e1l548100"})("display:flex;align-items:center;justify-content:center;width:36px;height:36px;cursor:pointer;user-select:none;border-radius:50%;border:3px solid transparent;",({theme:e,isStop:t})=>za({theme:e,isStop:t}),";");function eo(e){return o(Zr,{highlight:e.billable,onClick:()=>e.onChange(!e.billable),"data-heap-id":"extension:mark-billable",children:o(Tn,{color:"ui_050",size:"2x"})})}const to=u.exports.forwardRef(({withKeyboardNavigation:e=!0,date:t,maxDate:r,minDate:n,...i},a)=>{const s=u.exports.useMemo(()=>be(t),[t]),[l,c]=To(),p=u.exports.useCallback(f=>r&&f.isAfter(r,"day")||n&&f.isBefore(n,"day")?!0:l(f),[l,r,n]),d=u.exports.useRef(null);return Oo(d,e),Io(a,d),o(Wa,{ref:d,children:o(Mo,{...i,isOutsideRange:p,renderDayContents:c,date:s})})});to.displayName="DayPicker";const Wa=v("div",{target:"ekmxvpl0"})("border-top:1px solid ",({theme:e})=>e.colors.surface_primary.regular,";position:relative;width:100%;height:360px;");function gr(e){if(!e)return;let t=!0;return r=>{let n={...r,preventDefault(){r.preventDefault()},isDefaultPrevented(){return r.isDefaultPrevented()},stopPropagation(){console.error("stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior.")},continuePropagation(){t=!1}};e(n),t&&r.stopPropagation()}}function Qe(e){return{keyboardProps:e.isDisabled?{}:{onKeyDown:gr(e.onKeyDown),onKeyUp:gr(e.onKeyUp)}}}const Fa=te({today:{id:"StartTimeInput.today",defaultMessage:"Today"}}),Ha=e=>M(Va,{onClick:t=>{e.onClick&&e.onClick(t)},children:[o(Br,{value:e.value,onChange:e.onChange,hourCycle:24,onClick:e.onClick}),o("span",{children:be(e.date).isSame(be().valueOf(),"d")?o(U,{...Fa.today}):o(en,{value:e.date.toISOString(),day:"2-digit",month:"2-digit"})})]}),Va=v("div",{target:"e13fc3ad0"})("display:flex;justify-content:space-between;align-items:center;border:1px solid ",({theme:e})=>e.colors.ui_040.regular,";border-radius:8px;span{color:",({theme:e})=>e.colors.accent_120.regular,";font-size:14px;font-weight:300;margin-right:12px;}&>div{border:none;}"),Na=e=>{var t;return M(qa,{children:[o(Br,{value:e.value,onChange:e.onChange,hourCycle:(t=e.hourCycle)!=null?t:24,isDisabled:e.disabled}),e.leapingDays&&o(Ua,{children:e.leapingDays})]})},qa=v("div",{target:"eijbx4u1"})({name:"bjn8wh",styles:"position:relative"}),Ua=v("span",{target:"eijbx4u0"})("position:absolute;display:inline-block;min-width:18px;height:18px;line-height:18px;top:-5px;right:-5px;border-radius:30px;font-size:12px;font-weight:600;text-align:center;color:",({theme:e})=>e.colors.ui.regular,";background-color:",({theme:e})=>e.colors.ui.regular,";"),hr=te({start:{id:"DateTimeInput.start",defaultMessage:"Start"},stop:{id:"DateTimeInput.stop",defaultMessage:"Stop"}});var Ga={name:"s5xdrg",styles:"display:flex;align-items:center"};const Xt=e=>{var C;const[t,r]=u.exports.useState(!1),[n,i]=u.exports.useState(e.start?tt(be(e.start).format("HH:mm")):new rt),[a,s]=u.exports.useState(e.stop?tt(e.stop):new rt),[l,c]=u.exports.useState((C=be(e.start))!=null?C:be());u.exports.useEffect(()=>{i(e.start?tt(be(e.start).format("HH:mm")):new rt),s(e.stop?tt(e.stop):new rt)},[e.start,e.stop]);const p=({start:g,stop:T,date:b})=>{const O=b.clone().set({hour:g.hour,minute:g.minute}),y=b.clone().set({hour:T==null?void 0:T.hour,minute:T==null?void 0:T.minute});y.isBefore(O)?e.onDatesChange(O.toISOString(),y.add(1,"day").toISOString()):e.onDatesChange(O.toISOString(),y.toISOString())},d=g=>{i(g),p({start:g,stop:a,date:l})},f=g=>{s(g),p({start:n,stop:g,date:l})},k=g=>{c(g),p({start:n,stop:a,date:g})},{createEntry:x}=e,_=u.exports.useCallback(g=>{var T;x&&(r(!0),(T=x==null?void 0:x(g))==null||T.catch().finally(()=>r(!1)))},[x]);return M(Ka,{children:[M(Za,{children:[M(vr,{children:[o("label",{children:o(U,{...hr.start})}),o(Ha,{date:l,onChange:d,value:n})]}),M(vr,{children:[o("label",{children:o(U,{...hr.stop})}),o(Na,{value:a,onChange:f,leapingDays:a&&a<n?1:void 0,disabled:e.disableStop})]}),!e.disableManualCreation&&o("div",{css:Ga,children:o(le,{loading:t,onClick:_,content:"icon-only",size:"regular",variant:"tertiary",icon:o($n,{size:18})})})]}),o(to,{firstDayOfWeek:1,withKeyboardNavigation:!0,date:l,onDateChange:k})]})},Ka=v("div",{target:"e4cvh0a2"})("display:flex;flex-direction:column;width:fit-content;background-color:",({theme:e})=>e.colors.surface_primary.regular,";box-shadow:0px 2px 16px rgba(44, 19, 56, 0.3);border:1px solid ",({theme:e})=>e.colors.ui_010.regular,";border-radius:8px;"),Za=v("div",{target:"e4cvh0a1"})({name:"54u9mq",styles:"display:flex;justify-content:space-between;padding:16px;gap:16px"}),vr=v(nt,{target:"e4cvh0a0"})("display:flex;flex-direction:column;width:100%;label{margin-bottom:4px;font-size:11px;text-transform:uppercase;color:",({theme:e})=>e.colors.ui_060.regular,";font-weight:",({theme:e})=>e.typography.fontWeight.semibold,";}");function Xa(e,t){const[r,n]=u.exports.useState([]),[i,a]=u.exports.useState(!1),[s,l]=u.exports.useState({}),c=u.exports.useCallback(d=>{const{filteredTags:f,filteredTagExists:k}=d.data;n(f),a(k)},[n,a]),{postMessage:p}=Po("src/workers/tagsPopdownFilter.worker.js",c);return u.exports.useEffect(()=>{const d=t.selectedIds.reduce((f,k)=>(f[k]=!0,f),{});l(d)},[t.selectedIds]),u.exports.useEffect(()=>{p({selectedTagIds:t.selectedIds,wid:t.wid,filter:e,tags:t.tagsMap})},[e,t.tagsMap,t.wid,p,t.open]),u.exports.useMemo(()=>({tags:r,filteredTagExists:i,selectedIdsMap:s}),[r,i,s])}const Ya=-1;function Qa({items:e,onSelectItem:t,onClose:r,defaultFocusedIndex:n=Ya,searchInputRef:i}){const a=u.exports.useRef(n),{scrollToIndex:s,setScrollToIndex:l,isVirtualIndexRendered:c,ensureVirtualIndex:p,onVirtualRowsRendered:d}=Lo(),f=u.exports.useCallback(_=>{a.current=_,c(_)?l(_):p(a.current)},[p,c,l]);u.exports.useEffect(()=>{e.length>0&&a.current!==n&&(a.current=n)},[n,e.length]);const k=u.exports.useCallback(_=>{if(e.length===0)return;const C=a.current||0,g=(e.length+C+_)%e.length;f(g)},[e.length,f]),x=u.exports.useCallback(_=>{const C=_.which,g=C===De("down"),T=C===De("up"),b=C===De("enter");if(C===De("esc"))r();else if(g||T)_.preventDefault(),k(g?1:-1);else if(a.current!=null&&b){const O=e[a.current];_.preventDefault(),t(O),C===De("enter")&&_.stopPropagation()}},[e,k,r,t]);return u.exports.useMemo(()=>({scrollToIndex:s,onVirtualRowsRendered:d,moveFocus:k,focusIndex:a,onKeyDownHandler:x}),[k,d,s,x])}const Ja=({size:e=36,color:t,...r})=>o("svg",{xmlns:"http://www.w3.org/2000/svg",height:"16",width:"16",fill:t,viewBox:"2 2 20 20",children:o("path",{d:"M11 19v-6H5v-2h6V5h2v6h6v2h-6v6Z"})}),ei=275,ti=60,ri=36,kt=32,Ct=te({createTag:{id:"tagsDropdown.createTag",defaultMessage:'Create a tag "{name}"'},createTagEmpty:{id:"tagsDropdown.createTagEmpty",defaultMessage:"Create a tag"},placeholder:{id:"tagsDropdown.placeholder",defaultMessage:`<b>No matching tags</b>
    Try a different keyword or press Cmd+Enter to create a new tag`}});var oi={name:"51l2f1",styles:"position:absolute;bottom:0;left:0;right:0"},ni={name:"zdz8xi",styles:"height:30px"},ai={name:"1d3w5wq",styles:"width:100%"};const ro=({contentPosition:e,tagsMap:t,selectedIds:r,onChange:n,onOpenChange:i,customTrigger:a,maxHeight:s,wid:l})=>{const c=_e(),[p,d]=u.exports.useState(!1),[f,k]=u.exports.useState(""),[x]=Te(),_=u.exports.useRef(null),C=u.exports.useRef({}),{tags:g,filteredTagExists:T,selectedIdsMap:b}=Xa(f,{tagsMap:t,selectedIds:r,wid:l,open:p}),O=xn();u.exports.useEffect(()=>{var z;i&&i(p),p&&((z=_.current)==null||z.focus())},[p,i]);const{onVirtualRowsRendered:y,scrollToIndex:A,focusIndex:I,onKeyDownHandler:N}=Qa({defaultFocusedIndex:0,onClose(){d(!1)},onSelectItem(z){n(Number(z.id))},searchInputRef:_,items:g}),G=(z,w)=>{O.mutate({name:z,workspaceId:w},{onSuccess:h=>{n(Number(h.id))},onError:h=>{c.addToast({title:"Something went wrong",message:h.message,type:"error"})}})},{keyboardProps:L}=Qe({onKeyDown:z=>{N(z),C.current={...C.current,[z.key]:!0},(C.current.Meta||C.current.Control)&&C.current.Enter&&!T&&G(f,x!=null?x:0)},onKeyUp:z=>{C.current={...C.current,[z.key]:!1}}}),H=({key:z,index:w,style:h})=>{const S=g[w];return M(fi,{style:h,focused:I.current===w,selected:b[Number(S.id)],htmlFor:`tag-${S.id}`,children:[o(Eo,{id:`tag-${S.id}`,checked:b[Number(S.id)],onClick:()=>n(Number(S.id))}),o(vi,{autoEscape:!0,highlightStyle:{backgroundColor:"transparent",color:m.colors.ui.regular,fontWeight:"bold"},searchWords:[f],textToHighlight:S.name})]},z)},K=u.exports.useCallback(({index:z})=>z===g.length-1?kt+4:kt,[g.length]),B=(()=>{const z=g.length*kt;return Math.min(z,s!=null?s:ei)})();return o(ii,{open:p,hasCustomTrigger:!!a,children:M("div",{css:ai,children:[o(ui,{"data-heap-id":"extension:add-tag",onClick:()=>d(z=>!z),children:a!=null?a:o(Zr,{highlight:!!(r!=null&&r.length)||p,title:"tags",children:o(Pn,{color:"ui_050",size:"2x"})})}),o(si,{open:p,onClick:()=>d(!p)}),M(ci,{open:p,position:e,css:ee("min-height:",B+ti+ri,"px;",""),children:[o(di,{children:o(Ft,{...L,ref:_,css:ni,placeholder:"Find tags...",value:f,onChange:z=>k(z.target.value)})}),M(pi,{children:[!!g.length&&o(Do,{children:({width:z})=>o($o,{tabIndex:-1,height:B,width:z,onRowsRendered:y,overscanRowCount:10,rowCount:g.length,rowHeight:K,rowRenderer:H,scrollToIndex:A,focusedItemIndex:I.current})},""+p),!g.length&&o(gi,{children:o(U,{...Ct.placeholder,values:{b:z=>M(u.exports.Fragment,{children:[o("b",{children:z}),o("br",{})]})}})})]}),o("div",{css:oi,children:M(hi,{disabled:!f.length||!!T,onClick:()=>G(f,x!=null?x:0),children:[o(Ja,{}),f.length?o(U,{...Ct.createTag,values:{name:f}}):o(U,{...Ct.createTagEmpty})]})})]})]})})},ii=v("div",{target:"e9nop0q9"})("position:relative;&:focus{outline:2px solid #8ab7f7;}",e=>e.open&&!e.hasCustomTrigger&&"background-color: hsla(0, 0%, 69.4%, 0.07)",";&>*{display:block;height:36px;margin-bottom:10px;}"),si=v("div",{target:"e9nop0q8"})("z-index:1;display:",e=>e.open?"block":"none",";position:fixed;top:0;left:0;right:0;bottom:0;height:100vh;background:transparent;");var li={name:"1d3w5wq",styles:"width:100%"};const ci=v("div",{target:"e9nop0q7"})("z-index:2;position:absolute;width:fit-content;",({position:e})=>e?ee("left:",e.left,"px;top:",e.top,"px;width:240px;",""):li," border-radius:8px;box-shadow:0 2px 6px 0 rgba(0, 0, 0, 0.1);border:1px solid rgba(0, 0, 0, 0.1);display:flex;flex-flow:column nowrap;padding:0;overflow:auto;background:",({theme:e})=>e.colors.surface_primary.regular,";color:",({theme:e})=>e.colors.ui.regular,";display:",e=>e.open?"block":"none",";max-height:",({maxHeight:e})=>e?`${e}px`:"302px",";"),di=v("div",{target:"e9nop0q6"})("padding:8px;position:sticky;background:",({theme:e})=>e.colors.surface_primary.regular,";top:0;z-index:10;height:40px;"),ui=v("div",{target:"e9nop0q5"})({name:"8af0fh",styles:"height:100%;display:flex;align-items:center"}),pi=v("ul",{target:"e9nop0q4"})({name:"1xq8pfp",styles:"padding:0px 4px;list-style:none;margin:0;margin-bottom:32px;gap:2px"}),fi=v("label",{target:"e9nop0q3"})("height:25px;line-height:25px;border-radius:4px;display:flex;align-items:center;gap:10px;white-space:nowrap;padding:2px 12px;margin:2px 0;font-size:14px;color:",({theme:e})=>e.colors.ui.regular,";background-color:",({selected:e,focused:t,theme:r})=>t?r.colors.accent_020.hover:e?r.colors.accent_020.regular:"",";text-overflow:ellipsis;overflow:hidden;word-wrap:break-word;&:hover{color:",({theme:e,selected:t})=>!t&&e.colors.ui.regular,";background-color:",({theme:e,selected:t})=>!t&&e.colors.surface_secondary.hover,";cursor:pointer;}"),gi=v("div",{target:"e9nop0q2"})("padding:4px;font-size:14px;line-height:143%;color:",({theme:e})=>e.colors.ui_060.regular,";"),hi=v(ut,{target:"e9nop0q1"})("font-size:14px;color:",({theme:e,disabled:t})=>t?e.colors.ui.disabled:e.colors.ui.regular,";display:flex;align-items:center;justify-content:center;gap:8px;border:none;border-radius:0;border-top:1px solid ",({theme:e})=>e.colors.ui_020.regular,";svg{width:16px;height:16px;fill:",({theme:e,disabled:t})=>t?e.colors.accent.disabled:e.colors.accent.regular,";}"),vi=v(jo,{target:"e9nop0q0"})({name:"1h52dri",styles:"overflow:hidden;text-overflow:ellipsis;white-space:nowrap"}),mi=({color:e,width:t,height:r,...n})=>{const i=Pe();return o("svg",{...n,width:t!=null?t:14,height:r!=null?r:14,viewBox:"0 0 14 14",children:o("path",{d:"M7 14A7 7 0 117 0a7 7 0 010 14zm0-6l.117-.007C7.617 7.936 8 7.513 8 7V4c0-.556-.448-1-1-1l-.117.007A.997.997 0 006 4v3c0 .556.448 1 1 1zm0 3a1 1 0 100-2 1 1 0 000 2z",fill:e!=null?e:i.colors.orange.regular,fillRule:"evenodd"})})},Rt=te({cta:{id:"unmetConstraintsTooltip.cta",defaultMessage:"Fill out the required fields to stop the timer and save this time entry"},add:{id:"unmetConstraintsTooltip.add",defaultMessage:"Add "},description:{id:"unmetConstraintsTooltip.description",defaultMessage:"Description"},tag:{id:"unmetConstraintsTooltip.tag",defaultMessage:"Tag"},task:{id:"unmetConstraintsTooltip.task",defaultMessage:"Task"},project:{id:"unmetConstraintsTooltip.project",defaultMessage:"Project"}});var xi={name:"1hetg88",styles:"max-width:300px"};const oo=e=>M(lt,{enabled:e.enabled,asChild:!0,delayDuration:0,children:[e.children,o(lt.Content,{side:e.placement||"bottom",onClick:e.onClick,children:M("div",{css:xi,children:[o(yi,{missingProps:e.missingProps}),o(U,{tagName:wi,...Rt.cta})]})})]});var bi={name:"1q4vxyr",styles:"margin-left:8px"};const yi=e=>M("div",{css:ee(m.typography.h5Subtitle," display:flex;align-items:center;",""),children:[o(mi,{}),o(tn,{type:"conjunction",value:e.missingProps,children:t=>M("div",{css:bi,children:[o(U,{...Rt.add}),t.map((r,n)=>n%2===0?Ro(U,{...Rt[r.value],key:`${r.value}-${n}`}):o("span",{children:r.value},`${r.value}-${n}`))]})})]}),wi=v("div",{target:"e9g528x0"})(m.typography.p1Body," margin-top:",m.spacings["1x"],";white-space:break-spaces;"),ki={dispatch(e){return we.runtime.sendMessage({type:"delete-entry",payload:e})}},Ci=()=>ft(e=>ki.dispatch(e),{onError:e=>Nt.error(e)}),Si={dispatch(e){return we.runtime.sendMessage({type:"update-entry",payload:e})}},Yt=()=>ft(e=>Si.dispatch({entry:e.entry,from:e.integration}),{onError:e=>Nt.error(e)}),St=te({doneButton:{id:"editTimeEntry.doneButton",defaultMessage:"Done"},cancelButton:{id:"editTimeEntry.cancelButton",defaultMessage:"Cancel"},deleteButton:{id:"editTimeEntry.cancelButton",defaultMessage:"Delete"},billableText:{id:"editTimeEntry.billableText",defaultMessage:"Billable"},duration:{id:"editTimeEntry.duration",defaultMessage:"Duration"}});var _i={name:"1d3w5wq",styles:"width:100%"},Ti={name:"41mhbn",styles:"overflow:hidden;text-overflow:ellipsis;max-width:285px"},Oi={name:"xx25pl",styles:"position:relative;flex-wrap:wrap;padding:0"};const Ii=e=>{var P,V,W,q,Z,Y;const t=_e(),[,r]=vt(),[,n]=gt(),[i]=Te(),{editingEntry:a,changeEditingEntry:s,changeView:l}=He(),c=Yt(),p=Ci(),d=Vr(a==null?void 0:a.workspace_id),[f]=mt(),[k]=qt(),[x,_]=u.exports.useState(!1),[C,g]=u.exports.useState(!1),T=u.exports.useRef(null),[b,O]=u.exports.useState(a==null?void 0:a.billable),[y,A]=u.exports.useState((P=a==null?void 0:a.tag_ids)!=null?P:[]),[I,N]=u.exports.useState(a==null?void 0:a.project_id),[G,L]=u.exports.useState(a==null?void 0:a.task_id),[H,K]=u.exports.useState(me(a==null?void 0:a.start,a==null?void 0:a.stop)),[$,B]=u.exports.useState((V=a==null?void 0:a.description)!=null?V:""),z=u.exports.useMemo(()=>({...a,description:$,billable:!!b,tag_ids:y,project_id:I,task_id:G,start:a==null?void 0:a.start,stop:a==null?void 0:a.stop,duration:a==null?void 0:a.duration}),[a,y,I,b,G,$]),w=qr.check((W=d==null?void 0:d.te_constraints)!=null?W:null,z),h=f&&I?(q=f[I])==null?void 0:q.workspace_id:i,S=F=>{!a||a.duration<0||s({...a,stop:Ao(a.start,Ze(F.target.value).toMillis()/1e3),duration:Ze(F.target.value).toMillis()/1e3})},E=(F,X)=>{if(!a||a.duration<0)return;const re=be(F),ne=be(X),he=ne.diff(re,"seconds");s({...a,start:re.toISOString(),stop:ne.toISOString(),duration:he})};u.exports.useEffect(()=>{K(me(a==null?void 0:a.start,a==null?void 0:a.stop))},[a]);const D=F=>{y!=null&&y.includes(F)?A(y.filter(X=>X!==F)):A([F,...y])},j=F=>{F.preventDefault(),a&&(_(!0),c.mutate({entry:{...a,description:$,billable:!!b,tag_ids:y,project_id:I,task_id:G,start:a.start,stop:a.stop,duration:a.duration},integration:e.fromIntegration},{onSuccess:X=>{n(re=>({...re,[X.id]:X})),l("default"),s(void 0),e.submitOrCancelCB&&e.submitOrCancelCB()},onSettled:()=>{_(!1)},onError:X=>{t.addToast({title:"Something went wrong",message:X.message,type:"error"})}}))},R=F=>{F.preventDefault(),a&&(g(!0),p.mutate(a,{onSuccess:(X,re)=>{r(null),n(ne=>{const he={...ne};return delete he[re.id],he}),l("default"),s(void 0),e.submitOrCancelCB&&e.submitOrCancelCB()},onSettled:()=>{g(!1)},onError:X=>{t.addToast({title:"Something went wrong",message:X.message,type:"error"})}}))};return o(Pi,{id:"homeRoot",children:M(Li,{children:[e.fromIntegration.type==="popup"&&!e.hideDurationInput&&M(nt,{css:ee("margin-top:",m.spacings["1.5x"],";margin-bottom:",m.spacings["2x"],";",""),children:[o(Mi,{children:o(U,{...St.duration})}),M(ue,{onItemClick:F=>null,children:[o(ue.RawTrigger,{children:o(Ht,{css:ee(m.typography.p1Body,";text-align:left;",""),value:H,onChange:F=>K(F.target.value),onBlur:S})}),o(ue.Overlay,{}),o(ue.DateTimeContent,{position:e.durationPopdownPosition,children:o(Xt,{disableManualCreation:!0,start:a==null?void 0:a.start,stop:(a==null?void 0:a.stop)&&be(a.stop).format("HH:mm"),onDatesChange:E})})]})]}),o(nt,{children:o(Ft,{css:ee("width:100%!important;border-color:",m.colors.ui_060.regular,";",""),type:"text",placeholder:"What are you doing?",value:$,onKeyDown:F=>{F.stopPropagation()},onChange:F=>B(F.target.value)})}),M(Qr,{css:Oi,children:[o("div",{css:Ti,children:o(Wr,{contentPosition:(Z=e.projectPopdownPosition)!=null?Z:{left:0,top:40},selectedProjectId:I,selectedTaskId:G,onChange:F=>{N(F.projectId),L(F.taskId),O(F.billable)},maxHeight:276})}),o(ro,{contentPosition:(Y=e.tagPopdownPosition)!=null?Y:{left:0,top:40},wid:h,tagsMap:k,selectedIds:y,onChange:D,maxHeight:238}),o(eo,{billable:b,onChange:O})]}),o(oo,{enabled:!!w.length,placement:"bottom",missingProps:w,children:o(nt,{ref:T,children:o(le,{loading:x,disabled:w.length>0,onClick:j,content:"text",size:"regular",variant:"primary",css:_i,children:o(U,{...St.doneButton})})})}),o(le,{loading:C,color:"destructive",onClick:R,content:"text",size:"regular",variant:"tertiary",children:o(U,{...St.deleteButton})})]})})},Mi=v("label",{target:"elcusa82"})(m.text.label," display:block;margin-bottom:",m.spacings["1x"],";"),Pi=v("div",{target:"elcusa81"})("background-color:",({theme:e})=>e.colors.surface_primary.regular,";position:relative;height:auto;border-radius:8px;padding:",m.spacings["5px"],";width:350px;box-shadow:0 1px 3px rgba(128, 128, 128, 0.5);"),Li=v("div",{target:"elcusa80"})("display:flex;padding:",m.spacings["3x"],";flex-direction:column;"),Di=()=>{const e=[];for(let t=0;t<48;t++){const r=t%4===0,n=6,i=r?2:1,a=r?m.colors.ui.regular:m.colors.ui_040.regular;e.push(o("path",{d:`M150 150 m0 -120 v${n}`,stroke:a,strokeWidth:i,transform:`rotate(${t*7.5} 150 150)`},t))}return e},$i=(e,t)=>{const r=360*(e/100),n=150+140*Math.sin(Math.PI*r/180),i=150-140*Math.cos(Math.PI*r/180),a=r>180?1:0;return e===100?o("path",{d:"M150 10 A140 140 0 1 1 150 290 A140 140 0 1 1 150 10",fill:"none",stroke:t,strokeWidth:"20",strokeLinecap:"round"}):o("path",{d:`M150 10 A140 140 0 ${a} 1 ${n} ${i}`,fill:"none",stroke:t,strokeWidth:"20",strokeLinecap:"round"})};function Ei({label:e,children:t,progress:r,opts:n={color:m.colors.ui_020.regular}}){const i=u.exports.useMemo(()=>Di(),[]),a=$i(r,n.color);return M("svg",{width:"100%",height:"100%",viewBox:"0 0 300 300",preserveAspectRatio:"xMidYMid meet",xmlns:"http://www.w3.org/2000/svg",children:[o("circle",{cx:"150",cy:"150",r:"140",fill:m.colors.surface_secondary.regular}),o("circle",{cx:"150",cy:"150",r:"140",fill:"none",stroke:m.colors.ui_040.regular,strokeWidth:"20"}),a,o("g",{children:i}),o("text",{x:"150",y:"120",fontSize:"24",textAnchor:"middle",fill:m.colors.ui.regular,style:{fontFamily:"GT Haptik, sans-serif"},children:e}),o("text",{x:"150",y:"180",fontSize:"48",fontWeight:"bold",textAnchor:"middle",fill:m.colors.ui.regular,style:{fontFamily:"GT Haptik, sans-serif"},children:t})]})}const ji=e=>{const[t,r]=u.exports.useState(e.duration);return u.exports.useEffect(()=>{let n;if(!!e)return e.isRunning||(r(e.duration),clearInterval(n)),e.isRunning&&(r(ur(e.isRunning,e.duration)),n=setInterval(()=>r(ur(e.isRunning,e.duration)),1e3)),()=>clearInterval(n)},[e,e==null?void 0:e.duration,e==null?void 0:e.isRunning]),t},Ri=()=>{const[e,t]=u.exports.useState(null);u.exports.useEffect(()=>{const i=we.runtime.connect({name:"POPUP"});return t(i),()=>{i.disconnect()}},[]);const r=u.exports.useCallback(()=>{e&&e.postMessage({type:"Pomodoro.start"})},[e]),n=u.exports.useCallback(()=>{e&&e.postMessage({type:"Pomodoro.goToNextState"})},[e]);return{start:r,goToNextState:n}},Ai=e=>!e.isRunning&&!e.isBreak&&!e.isLargeBreak?"Start Session":!e.isRunning&&(e.isBreak||e.isLargeBreak)?"Start Break":e.isRunning&&(e.isBreak||e.isLargeBreak)?"Skip Break":"Stop",zi=(e,t={singleMinuteDigit:!1})=>new Date(e*1e3).toISOString().slice(t.singleMinuteDigit?15:14,19),Bi=e=>!e.isRunning&&!e.isBreak&&!e.isLargeBreak?{arc:m.colors.accent.regular,background:m.colors.accent_020.regular}:e.isBreak||e.isLargeBreak?{arc:m.colors.success_120.regular,background:m.colors.success_020.regular}:{arc:m.colors.orange.regular,background:m.colors.background_secondary.regular},Wi=e=>e.isBreak?"Break":e.isLargeBreak?"Long Break":"Focus",_t=v("div",{target:"e1pn96ny0"})(""),Fi={dispatch(e){return we.runtime.sendMessage({type:"start-entry",payload:e})}},xt=()=>ft(e=>Fi.dispatch({entry:e.entry,from:e.integration}),{onError:e=>Nt.error(e)});var Hi={name:"1d3w5wq",styles:"width:100%"};function Vi(){const{user:e}=He(),t=Kt(),r=Ri(),n=ji(t),i=xt(),a=Yt(),[s]=vt(),[l]=Vt(),c=()=>{we.tabs.create({url:we.runtime.getURL("settings.html#/pomodoro")})},p=()=>{var _;if(t.computed.isIdle&&i.mutate({entry:{at:new Date().toISOString(),billable:!1,description:"",duration:-1,start:new Date().toISOString(),tags:[],tag_ids:[],workspace_id:(_=e==null?void 0:e.default_workspace_id)!=null?_:0,created_with:""},integration:{type:"popup"}}),t.computed.isIdleBreak&&r.start(),t.computed.isRunningBreak&&r.goToNextState(),t.computed.isRunningFocus){if(!s)return!1;const C=new Date,g=new Date(s.start),T=Math.floor((C.getTime()-g.getTime())/1e3);a.mutate({entry:{...s,stop:C.toISOString(),duration:T},integration:{type:"popup"}})}},d=n<1?1:n/t.duration*100,f=Wi(t),k=Bi(t),x=Ai(t);return o(_t,{css:ee({flex:1,overflowY:"auto",backgroundColor:m.colors.surface_secondary.regular},"",""),children:M(_t,{css:ee({margin:m.spacings["2x"],padding:`${m.spacings["2x"]} 0px`,borderRadius:8,backgroundColor:k.background},"",""),children:[o(_t,{css:ee({padding:`${m.spacings["1.5x"]} 118px`},"",""),children:o(Ei,{progress:d,label:`${f} ${t.session}/${l==null?void 0:l.sessions}`,opts:{color:k.arc},children:zi(n)})}),M(zo,{css:ee({flexDirection:"column",gap:m.spacings["2x"],margin:`${m.spacings["2x"]} ${m.spacings["4x"]}`},"",""),children:[o(le,{color:"regular",content:"text",size:"regular",variant:"primary",css:ee({width:"100%",backgroundColor:k.arc,"&:hover":{backgroundColor:k.arc}},"",""),onClick:p,disabled:i.isLoading||a.isLoading,children:x}),o(le,{content:"text",size:"regular",variant:"tertiary",onClick:c,css:Hi,children:"Pomodoro Settings"})]})]})})}const mr=te({today:{id:"summary.today",defaultMessage:"Today"},thisWeek:{id:"summary.thisWeek",defaultMessage:"Week total"}});function Ni({totals:e}){return M(qi,{children:[M("div",{children:[o(U,{...mr.today,tagName:xr}),e.today]}),M("div",{children:[o(U,{...mr.thisWeek,tagName:xr}),e.week]})]})}const qi=v("div",{target:"ef1ft1e1"})("display:flex;justify-content:space-between;align-items:center;padding:16px 8px;background-color:",({theme:e})=>e.colors.surface_secondary.regular,";color:",({theme:e})=>e.colors.ui.regular,";font-weight:",({theme:e})=>e.typography.fontWeight.bold,";font-size:11px;"),xr=v("span",{target:"ef1ft1e0"})("color:",({theme:e})=>e.colors.ui_060.regular,";text-transform:uppercase;margin-right:8px;");var Ui="/assets/ilustration.svg";const Oe=te({ilustrationAlt:{id:"tesListOnboarding.ilustrationAlt",defaultMessage:"Puzzle image"},title:{id:"tesListOnboarding.title",defaultMessage:"Psst! One more thing"},great:{id:"tesListOnboarding.great",defaultMessage:"Great!"},description:{id:"tesListOnboarding.description",defaultMessage:"Toggl extension lets you track time in {br} 100+ popular web tools. {br} Would you like to enable all supported tools?"},enableAll:{id:"tesListOnboarding.enableAll",defaultMessage:"Enable all"},enableManually:{id:"tesListOnboarding.enableManually",defaultMessage:"Later"},allEnabled:{id:"tesListOnboarding.allEnabled",defaultMessage:"Now go ahead and try it out in the tools you use \u2013 {br} you\u2019ll see a new control there"},manuallyEnabled:{id:"tesListOnboarding.manuallyEnabled",defaultMessage:"You can enable the tools any time in the {br} <a>Extension settings</a>"}}),Gi=({showImg:e})=>{const t=Pe(),{currentStep:r,setCurrentStep:n}=Gt(),i=()=>{n("enable_manually"),Ee("enable-integrations",{context:"Later"})},a=o(U,{tagName:br,...Oe.title}),s=o(U,{tagName:br,...Oe.great}),l=M(u.exports.Fragment,{children:[a,o(U,{tagName:Tt,...Oe.description,values:{br:o("br",{})}}),M(Yi,{children:[o(U,{...Oe.enableAll,children:k=>o(Fr,{onClick:()=>d(),children:k})}),o(U,{...Oe.enableManually,children:k=>o(Qi,{onClick:i,children:k})})]})]}),c=M(u.exports.Fragment,{children:[s,o(U,{tagName:Tt,...Oe.allEnabled,values:{br:o("br",{})}})]}),p=M(u.exports.Fragment,{children:[s,o(U,{tagName:Tt,...Oe.manuallyEnabled,values:{br:o("br",{}),a:k=>o(Xi,{onClick:()=>Ie.exports.tabs.create({url:Ie.exports.runtime.getURL("settings.html")}),children:k})}})]}),d=()=>{Ie.exports.permissions.request({origins:["<all_urls>"]}),Ee("enable-integrations",{context:"Enable all in-app"})},f={initial:l,all_enabled:c,enable_manually:p,finished:null};return M(Ki,{minimize:!e&&r!=="initial",children:[!e&&o(Zi,{color:t.colors.ui_050.regular,onClick:()=>n("finished")}),(r==="initial"||e)&&o(U,{...Oe.ilustrationAlt,children:k=>o("img",{src:Ui,alt:k})}),r&&f[r]]})},Ki=v("div",{target:"etkawki6"})("display:flex;flex:1;flex-direction:column;justify-content:center;align-items:center;gap:",({minimize:e})=>e?"8px":"16px",";padding:",({minimize:e})=>e?"16px 40px":"64px 40px 40px 40px",";position:relative;background-color:",({theme:e})=>e.colors.surface_secondary.regular,";color:",({theme:e})=>e.colors.ui.regular,";"),Zi=v(Bo,{target:"etkawki5"})({name:"1vbx9dk",styles:"position:absolute;right:16px;top:16px;cursor:pointer"}),br=v("span",{target:"etkawki4"})({name:"150e1pf",styles:"font-weight:500;font-size:20px;line-height:32px"}),Tt=v("span",{target:"etkawki3"})({name:"1al5p7u",styles:"font-weight:400;font-size:14px;line-height:20px;text-align:center"}),Xi=v("a",{target:"etkawki2"})("cursor:pointer;text-decoration:underline;color:",({theme:e})=>e.colors.grape_120.regular,";&:hover{color:",({theme:e})=>e.colors.grape_120.hover,";}"),Yi=v("div",{target:"etkawki1"})({name:"qkhqau",styles:"width:250px;display:flex;flex-direction:column;margin-top:16px;gap:8px"}),Qi=v(ut,{target:"etkawki0"})("background:transparent;border:none;&:hover{background-color:",({theme:e})=>e.colors.surface_secondary.hover,";}");var Ji="/assets/empty_list.svg";const es=te({startTimer:{id:"clearerOnboarding.startTimer",defaultMessage:"Start the <i>timer</i>."}});var ts={name:"1th3ern",styles:"font-family:GT Haptik Rotalic,sans-serif;font-weight:500"};const rs=()=>{const e=_e(),t=Pe(),[r]=Te(),{user:n}=He(),[i,a]=u.exports.useState(!1),s=xt(),l=u.exports.useCallback(c=>{if(c.preventDefault(),!n)return;const p=new Date,d={at:p.toISOString(),billable:!1,description:"",duration:-parseInt((p.getTime()/1e3).toFixed(0),10),start:p.toISOString(),tags:[],tag_ids:[],workspace_id:r};s.mutate({entry:d,integration:{type:"popup"}},{onSuccess:()=>{Ee("start-time-entry",{context:"clearer-onboarding-experiment"})},onError:f=>{e.addToast({title:"Something went wrong",message:f.message,type:"error"})}})},[n,r,s,e]);return M(os,{children:[o(ss,{theme:t,animate:i,onClick:()=>a(!0),onTransitionEnd:c=>i&&l(c),children:o(Ur,{size:96})}),o(as,{animate:i,children:o(U,{...es.startTimer,values:{i:c=>o("span",{css:ts,children:c})}})})]})},os=v("div",{target:"e1m4a29p2"})({name:"1keagfe",styles:"width:100%;height:500px;display:flex;align-items:center;justify-content:center;flex-direction:column;gap:24px"});var ns={name:"mws4fn",styles:"opacity:0"};const as=v("span",{target:"e1m4a29p1"})("color:",({theme:e})=>e.colors.ui.regular,";font-size:45px;font-weight:500;transition:all 0.3s ease-in-out;",({animate:e})=>e&&ns,";");var is={name:"rnqex9",styles:"transform:translate(180%, -155%) scale(0.3)"};const ss=v(Jr,{target:"e1m4a29p0"})("width:106px;height:106px;transition:all 0.3s ease-in-out;",({animate:e})=>e&&is,";"),ls=v("div",{target:"evups3e1"})("display:flex;align-items:center;color:",({theme:e})=>e.colors.ui_050.regular,";&:before{display:inline-block;margin:0 7px 1px;line-height:1;content:'\u2022';font-family:",({theme:e})=>e.typography.fontFamily.arial,";font-weight:",({theme:e})=>e.typography.fontWeight.bold,";color:",({theme:e})=>e.colors.ui_010.regular,";}&:before{font-size:26px;}color:",({theme:e,color:t})=>t||e.colors.ui_010.regular,";&:before{color:",({theme:e,color:t})=>t||e.colors.ui_010.regular,";margin:0 5px 0 0;}"),cs=({color:e,width:t=17,height:r=16,...n})=>{const i=Pe();return o(ds,{...n,xmlns:"http://www.w3.org/2000/svg",width:t,height:r,viewBox:"0 0 8 12",children:o("path",{fill:e||i.colors.ui_050.regular,d:"M4,0A1,1,0,0,1,5,1v.41A3.84,3.84,0,0,1,7.76,3.6a.72.72,0,0,1-.54.92.89.89,0,0,1-1.07-.46A2.09,2.09,0,0,0,5,3V5.47C7,5.94,7.8,6.53,7.8,8c0,1.29-1.19,2.29-2.8,2.59V11a1,1,0,0,1-1,1,1,1,0,0,1-1-1v-.38A3.42,3.42,0,0,1,.24,8.4a.72.72,0,0,1,.54-.92.89.89,0,0,1,1.07.46A1.79,1.79,0,0,0,3,9.12V6.53C1,6.06.2,5.47.2,4,.2,2.69,1.39,1.69,3,1.39V1A1,1,0,0,1,4,0ZM5,7V9.11C5.68,8.9,6.11,8.48,6.11,8S5.87,7.22,5,7ZM1.89,4c0,.53.24.8,1.11,1V2.89C2.31,3.1,1.89,3.52,1.89,4Z"})})},ds=v("svg",{target:"eg3z55s0"})("&>path{fill:",({theme:e})=>e.colors.ui_050.regular,";}&:hover>path{fill:",({theme:e})=>e.colors.ui_050.hover,";}"),us=({color:e,size:t,...r})=>{const n=Pe();return o("svg",{width:t!=null?t:28,height:t!=null?t:28,viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r,children:o("path",{d:"M23.2727 12.8821C24.2424 13.379 24.2424 14.621 23.2727 15.1179L10.1818 21.8251C9.21212 22.322 8 21.7009 8 20.7073L8 7.29274C8 6.29907 9.21212 5.67803 10.1818 6.17486L23.2727 12.8821Z",fill:r.active?n.colors.accent.regular:n.colors.ui_050.regular})})};function ps(e){return o(fs,{...e,children:o(gs,{width:17,height:16,children:o("path",{d:"M0 6c0 1.1.6 2.6 1.4 3.4l6.2 6.2c.8.8 2 .8 2.8 0l5.2-5.2c.8-.8.8-2 0-2.8L9.4 1.4C8.6.6 7.1 0 6 0H2C.9 0 0 .9 0 2v4zm4 0c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z",fillRule:"evenodd"})})})}const fs=v("span",{target:"e1o9xrmx1"})({name:"1amee4m",styles:"line-height:0"}),gs=v("svg",{target:"e1o9xrmx0"})("&>path{fill:",({theme:e})=>e.colors.ui_050.regular,";}&:hover>path{fill:",({theme:e})=>e.colors.ui_050.hover,";}");function hs(){const e=Pe();return o(vs,{width:12,height:15,viewBox:"0 0.5 12 15",children:o("path",{fill:e.colors.ui.regular,d:"M3.334 7.318h5.334V5.273c0-.752-.26-1.395-.781-1.928a2.54 2.54 0 0 0-1.885-.799c-.737 0-1.366.266-1.885.799a2.653 2.653 0 0 0-.783 1.928v2.045zM12 8.341v6.136a.993.993 0 0 1-.291.725.952.952 0 0 1-.708.297H1a.955.955 0 0 1-.708-.297.998.998 0 0 1-.292-.725V8.341c0-.285.098-.525.292-.725A.96.96 0 0 1 1 7.318h.334V5.273c0-1.306.457-2.429 1.375-3.365C3.625.969 4.724.5 6.002.5c1.277 0 2.374.469 3.292 1.408.916.935 1.375 2.059 1.375 3.365v2.046h.333c.277 0 .513.1.708.297a1 1 0 0 1 .29.725z"})})}const vs=v("svg",{target:"e1jelv5a0"})({name:"1e4psmq",styles:"margin:0 12px"});var ms={name:"u3oidd",styles:"display:flex;align-self:center"};const xs=()=>o("div",{css:ms,children:o(hs,{})}),bs=te({emptyList:{id:"timeEntriesList.emptyList",defaultMessage:"Get ready to track time and boost your productivity!"}}),ys="(no description)",ws="(no project)",ks=e=>{const t=e.reduce((r,n)=>r.concat(n),[]).reduce((r,{duration:n})=>r+n,0);return me(J.now().minus({seconds:t}).toISO())};function Cs({data:e,projects:t}){const[r]=vt();return Object.keys(e).length===0?M(u.exports.Fragment,{children:[o("div",{}),r?M(Ls,{children:[o("img",{src:Ji,width:"177px",height:"179px"}),o(Ds,{children:o(U,{...bs.emptyList})})]}):o(rs,{})]}):o(u.exports.Fragment,{children:Object.entries(e).map(([n,i],a)=>M($s,{children:[M(js,{children:[o("span",{children:J.fromISO(n).toFormat("EEE, d MMM")}),o("span",{children:ks(i)})]},`tegroup-${a}`),i.map((s,l)=>o(Ss,{timeEntries:s,project:s[0].project_id&&t[s[0].project_id]||null},`te-${a}-${l}`))]},a))})}function Ss({timeEntries:e,project:t}){const{changeEditingEntry:r,changeView:n}=He(),[i,a]=u.exports.useState(!0),s=e[0],l=e.reduce((_,C)=>(C.duration>0&&(_+=C.duration),_),0),c=e.length,p=J.fromISO(e[e.length-1].start).toFormat("HH:mm"),d=c>1&&i,f=u.exports.useCallback(()=>a(_=>!_),[a]),k=(_,C)=>{_.preventDefault(),r(C),n("editEntry")},x=[c>1&&o(yr,{renderHeader:!0,timeEntry:s,onRowClick:f,project:t,entriesCount:c,earliestStartTime:p,totalDuration:l},`grouped-${s.id}`)].concat((d?[]:e).map(_=>o(yr,{renderHeader:!1,timeEntry:_,onRowClick:C=>k(C,_),project:t,indent:c>1},_.id)));return o(u.exports.Fragment,{children:x})}var _s={name:"fc36c9",styles:"padding-right:5px;padding-left:5px"};function yr({timeEntry:e,onRowClick:t,project:r,renderHeader:n,entriesCount:i,earliestStartTime:a,totalDuration:s,indent:l}){const c=_e(),[p]=bn(),d=xt(),f=p==null?void 0:p.report_locked_at,k=f&&J.fromISO(e.start)<J.fromISO(f),x=e.description,_=!!e.billable,C=e.tags&&e.tags.length>0?e.tags.join(", "):"",g=T=>{var y,A;T.preventDefault(),T.stopPropagation();const b=new Date,O={at:b.toISOString(),billable:e.billable,description:x,duration:-parseInt((b.getTime()/1e3).toFixed(0),10),start:b.toISOString(),tags:(y=e.tags)!=null?y:[],tag_ids:(A=e.tag_ids)!=null?A:[],task_id:e.task_id,project_id:e.project_id,workspace_id:e.workspace_id};d.mutate({entry:O,integration:{type:"popup"}},{onSuccess:()=>{Ee("start-time-entry",{context:"History"})},onError:I=>{c.addToast({title:"Something went wrong",message:I.message,type:"error"})}})};return M(Es,{onClick:k?void 0:t,indent:l,children:[k?o(xs,{}):void 0,n&&i&&a&&o(Ts,{children:o(Os,{title:`${i} entries since ${a}`,children:i})}),M(Rs,{children:[o(Ms,{title:x&&x,children:x||o(no,{children:ys})}),o(Ps,{project:r})]}),M(As,{children:[o(Is,{duration:s||e.duration}),M(zs,{children:[_&&o(cs,{}),C&&o("div",{css:ee("margin-left:",m.spacings["1x"],";",""),children:o(ps,{title:C})}),o(le,{title:"Continue Time Entry",css:d.isLoading?null:_s,loading:d.isLoading,onClick:g,content:"icon-only",size:"small",variant:"tertiary",icon:o("div",{css:ee("path{fill:",m.colors.ui_050.regular,"!important;}&:hover{path{fill:",m.colors.ui_050.hover,"!important;}}",""),children:o(us,{size:22})})})]})]})]})}const Ts=v("div",{target:"e1ndzizu12"})({name:"707wvd",styles:"display:flex;align-items:center;justify-content:center;margin-right:10px"}),Os=v("div",{target:"e1ndzizu11"})("display:flex;align-items:center;justify-content:center;text-align:center;flex-shrink:0;border-radius:14px;cursor:pointer;transition:background ease-in 0.05s,color ease-in 0.05s;border:1px solid ",({theme:e})=>e.colors.surface_secondary.regular,";background-color:",({theme:e})=>e.colors.surface_primary.regular,";color:",({theme:e})=>e.colors.ui_060.regular,";width:24px;height:24px;font-size:14px;");function Is({duration:e}){if(typeof e!="number"||e<0)return null;const t=J.now().minus({seconds:e}).toISO();return o("div",{children:me(t)})}const Ms=v("div",{target:"e1ndzizu9"})("flex:1;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;color:",({theme:e})=>e.colors.ui.regular,";");function Ps({project:e}){return o("div",{style:{overflow:"hidden"},children:e?o(ls,{color:e.color,children:o("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.name})}):o(no,{children:ws})})}const Ls=v("div",{target:"e1ndzizu8"})({name:"1y2thb4",styles:"display:flex;flex-direction:column;align-items:center;padding:20px"}),Ds=v("p",{target:"e1ndzizu7"})("color:",({theme:e})=>e.colors.ui.regular,";margin-top:25px;font-size:14px;"),no=v("span",{target:"e1ndzizu6"})("color:",({theme:e})=>e.colors.ui_060.regular,";"),$s=v("div",{target:"e1ndzizu5"})("margin-top:15px;background:",({theme:e})=>e.colors.surface_primary.regular,";box-shadow:rgba(0, 0, 0, 0.1) 1px 1px 3px 0px;&:first-of-type{margin-top:0;}"),Es=v("li",{target:"e1ndzizu4"})("box-sizing:border-box;display:flex;align-items:stretch;padding:10px 15px;",({indent:e})=>e?"padding-left: 53px;":""," font-size:14px;&:not(:last-child){border-bottom:1px solid ",({theme:e})=>e.colors.surface_secondary.regular,";}cursor:pointer;&:hover{background-color:",({theme:e})=>e.colors.surface_secondary.hover,";}"),js=v("div",{target:"e1ndzizu3"})("display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:15px;height:25px;color:",({theme:e})=>e.colors.ui.regular,";font-weight:",({theme:e})=>e.typography.fontWeight.bold,";font-size:12px;"),Rs=v("div",{target:"e1ndzizu2"})({name:"1ytakg8",styles:"display:flex;flex-direction:column;justify-content:center;flex:1 1 auto;padding-right:10px;overflow:hidden;>*{display:flex;align-items:center;height:22px;}"}),As=v("div",{target:"e1ndzizu1"})("display:flex;flex-direction:column;align-items:flex-end;color:",({theme:e})=>e.colors.ui.regular,";>*{height:28px;display:flex;align-items:center;}"),zs=v("div",{target:"e1ndzizu0"})({name:"1vcke9q",styles:"display:flex;flex-direction:row;align-items:center;justify-content:space-between;gap:0.25rem"});function ao(e){return o("div",{css:ee("min-height:",m.spacings["7x"],";min-width:",m.spacings["7x"],";display:flex;align-items:center;justify-content:center;",""),children:e.loading?o(Wt,{color:m.colors.ui.regular}):o(Jr,{isStop:e.isStop,onClick:e.onClick,tabIndex:0,onKeyUp:t=>{De(t.which)==="enter"&&e.onClick(t)},children:e.icon})})}const Bs=({timeEntry:e,setTimeEntry:t,startTimer:r,createEntry:n,...i})=>{var T;const[a,s]=u.exports.useState(!1),[l,c]=u.exports.useState("0:00:00"),p=b=>{var O;Ee("start-time-entry",{context:(O=i.heapContext)!=null?O:"Default"}),r(b)},d=b=>(Ee("start-time-entry",{context:"Manual"}),n==null?void 0:n(b)),f=u.exports.useRef(null),{onDatesChange:k}=i,x=u.exports.useCallback((b,O)=>{t(y=>({...y,start:b,stop:O})),c(me(b,O)),k&&k(b,O!=null?O:J.now().toISO())},[k,t]),_=b=>{var y;const O=(y=Et(Ze(b.target.value).toMillis()/1e3))!=null?y:"";t(A=>({...A,start:O})),c(me(O)),i.onDatesChange&&i.onDatesChange(O,J.now().toISO())},C=()=>{var b;(b=f.current)==null||b.select()},{keyboardProps:g}=Qe({onKeyDown(b){var O;if(b.key==="Enter")if(a){const y=(O=Et(Ze(l).toMillis()/1e3))!=null?O:"";t(A=>({...A,start:y})),c(me(y)),s(!1)}else p(b);else b.key==="Escape"&&(b.preventDefault(),c(e.start?me(e.start):"0:00:00"),s(!1))}});return M(u.exports.Fragment,{children:[M(ue,{onOpenChange:b=>s(b),children:[o(ue.RawTrigger,{tabIndex:0,onFocus:()=>s(!0),width:80,children:o(Ws,{...g,ref:f,active:!!e.start,value:l,onFocus:C,onChange:b=>c(b.target.value),onBlur:_})}),o(ue.Overlay,{}),o(ue.DateTimeContent,{open:a,position:{left:-207,top:40,width:344},children:o(Xt,{start:(T=e.start)!=null?T:J.now().toISO(),stop:e.stop?J.fromISO(e.stop).toFormat("HH:mm"):J.now().toFormat("HH:mm"),onDatesChange:x,createEntry:d})})]}),o(ao,{loading:i.loading,onClick:p,icon:o(Ur,{})})]})},Ws=v(Ht,{target:"eezbod40"})("border-radius:8px;height:32px;width:80px;padding-right:0;cursor:pointer;border:none;padding:0 0.8rem;font-weight:",({theme:e})=>e.typography.fontWeight.semibold,";font-size:16px;color:",({active:e,theme:t})=>e?"":t.colors.ui_060.regular,";&:hover{background-color:",({theme:e})=>e.colors.surface_secondary.hover,";}");var Fs="Expected a function",wr=0/0,Hs="[object Symbol]",Vs=/^\s+|\s+$/g,Ns=/^[-+]0x[0-9a-f]+$/i,qs=/^0b[01]+$/i,Us=/^0o[0-7]+$/i,Gs=parseInt,Ks=typeof Ue=="object"&&Ue&&Ue.Object===Object&&Ue,Zs=typeof self=="object"&&self&&self.Object===Object&&self,Xs=Ks||Zs||Function("return this")(),Ys=Object.prototype,Qs=Ys.toString,Js=Math.max,el=Math.min,Ot=function(){return Xs.Date.now()};function tl(e,t,r){var n,i,a,s,l,c,p=0,d=!1,f=!1,k=!0;if(typeof e!="function")throw new TypeError(Fs);t=kr(t)||0,At(r)&&(d=!!r.leading,f="maxWait"in r,a=f?Js(kr(r.maxWait)||0,t):a,k="trailing"in r?!!r.trailing:k);function x(I){var N=n,G=i;return n=i=void 0,p=I,s=e.apply(G,N),s}function _(I){return p=I,l=setTimeout(T,t),d?x(I):s}function C(I){var N=I-c,G=I-p,L=t-N;return f?el(L,a-G):L}function g(I){var N=I-c,G=I-p;return c===void 0||N>=t||N<0||f&&G>=a}function T(){var I=Ot();if(g(I))return b(I);l=setTimeout(T,C(I))}function b(I){return l=void 0,k&&n?x(I):(n=i=void 0,s)}function O(){l!==void 0&&clearTimeout(l),p=0,n=c=i=l=void 0}function y(){return l===void 0?s:b(Ot())}function A(){var I=Ot(),N=g(I);if(n=arguments,i=this,c=I,N){if(l===void 0)return _(c);if(f)return l=setTimeout(T,t),x(c)}return l===void 0&&(l=setTimeout(T,t)),s}return A.cancel=O,A.flush=y,A}function At(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function rl(e){return!!e&&typeof e=="object"}function ol(e){return typeof e=="symbol"||rl(e)&&Qs.call(e)==Hs}function kr(e){if(typeof e=="number")return e;if(ol(e))return wr;if(At(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=At(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(Vs,"");var r=qs.test(e);return r||Us.test(e)?Gs(e.slice(2),r?2:8):Ns.test(e)?wr:+e}var nl=tl,Cr=function(t){return t.reduce(function(r,n){var i=n[0],a=n[1];return r[i]=a,r},{})},Sr=typeof window!="undefined"&&window.document&&window.document.createElement?u.exports.useLayoutEffect:u.exports.useEffect,ae="top",fe="bottom",ge="right",ie="left",Qt="auto",Je=[ae,fe,ge,ie],ze="start",Xe="end",al="clippingParents",io="viewport",qe="popper",il="reference",_r=Je.reduce(function(e,t){return e.concat([t+"-"+ze,t+"-"+Xe])},[]),so=[].concat(Je,[Qt]).reduce(function(e,t){return e.concat([t,t+"-"+ze,t+"-"+Xe])},[]),sl="beforeRead",ll="read",cl="afterRead",dl="beforeMain",ul="main",pl="afterMain",fl="beforeWrite",gl="write",hl="afterWrite",vl=[sl,ll,cl,dl,ul,pl,fl,gl,hl];function ke(e){return e?(e.nodeName||"").toLowerCase():null}function ce(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function je(e){var t=ce(e).Element;return e instanceof t||e instanceof Element}function pe(e){var t=ce(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Jt(e){if(typeof ShadowRoot=="undefined")return!1;var t=ce(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function ml(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var n=t.styles[r]||{},i=t.attributes[r]||{},a=t.elements[r];!pe(a)||!ke(a)||(Object.assign(a.style,n),Object.keys(i).forEach(function(s){var l=i[s];l===!1?a.removeAttribute(s):a.setAttribute(s,l===!0?"":l)}))})}function xl(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(n){var i=t.elements[n],a=t.attributes[n]||{},s=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:r[n]),l=s.reduce(function(c,p){return c[p]="",c},{});!pe(i)||!ke(i)||(Object.assign(i.style,l),Object.keys(a).forEach(function(c){i.removeAttribute(c)}))})}}var bl={name:"applyStyles",enabled:!0,phase:"write",fn:ml,effect:xl,requires:["computeStyles"]};function ye(e){return e.split("-")[0]}var $e=Math.max,ct=Math.min,Be=Math.round;function zt(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function lo(){return!/^((?!chrome|android).)*safari/i.test(zt())}function We(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=e.getBoundingClientRect(),i=1,a=1;t&&pe(e)&&(i=e.offsetWidth>0&&Be(n.width)/e.offsetWidth||1,a=e.offsetHeight>0&&Be(n.height)/e.offsetHeight||1);var s=je(e)?ce(e):window,l=s.visualViewport,c=!lo()&&r,p=(n.left+(c&&l?l.offsetLeft:0))/i,d=(n.top+(c&&l?l.offsetTop:0))/a,f=n.width/i,k=n.height/a;return{width:f,height:k,top:d,right:p+f,bottom:d+k,left:p,x:p,y:d}}function er(e){var t=We(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function co(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&Jt(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Se(e){return ce(e).getComputedStyle(e)}function yl(e){return["table","td","th"].indexOf(ke(e))>=0}function Le(e){return((je(e)?e.ownerDocument:e.document)||window.document).documentElement}function bt(e){return ke(e)==="html"?e:e.assignedSlot||e.parentNode||(Jt(e)?e.host:null)||Le(e)}function Tr(e){return!pe(e)||Se(e).position==="fixed"?null:e.offsetParent}function wl(e){var t=/firefox/i.test(zt()),r=/Trident/i.test(zt());if(r&&pe(e)){var n=Se(e);if(n.position==="fixed")return null}var i=bt(e);for(Jt(i)&&(i=i.host);pe(i)&&["html","body"].indexOf(ke(i))<0;){var a=Se(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||t&&a.willChange==="filter"||t&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function et(e){for(var t=ce(e),r=Tr(e);r&&yl(r)&&Se(r).position==="static";)r=Tr(r);return r&&(ke(r)==="html"||ke(r)==="body"&&Se(r).position==="static")?t:r||wl(e)||t}function tr(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Ge(e,t,r){return $e(e,ct(t,r))}function kl(e,t,r){var n=Ge(e,t,r);return n>r?r:n}function uo(){return{top:0,right:0,bottom:0,left:0}}function po(e){return Object.assign({},uo(),e)}function fo(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var Cl=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,po(typeof t!="number"?t:fo(t,Je))};function Sl(e){var t,r=e.state,n=e.name,i=e.options,a=r.elements.arrow,s=r.modifiersData.popperOffsets,l=ye(r.placement),c=tr(l),p=[ie,ge].indexOf(l)>=0,d=p?"height":"width";if(!(!a||!s)){var f=Cl(i.padding,r),k=er(a),x=c==="y"?ae:ie,_=c==="y"?fe:ge,C=r.rects.reference[d]+r.rects.reference[c]-s[c]-r.rects.popper[d],g=s[c]-r.rects.reference[c],T=et(a),b=T?c==="y"?T.clientHeight||0:T.clientWidth||0:0,O=C/2-g/2,y=f[x],A=b-k[d]-f[_],I=b/2-k[d]/2+O,N=Ge(y,I,A),G=c;r.modifiersData[n]=(t={},t[G]=N,t.centerOffset=N-I,t)}}function _l(e){var t=e.state,r=e.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||!co(t.elements.popper,i)||(t.elements.arrow=i))}var Tl={name:"arrow",enabled:!0,phase:"main",fn:Sl,effect:_l,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Fe(e){return e.split("-")[1]}var Ol={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Il(e,t){var r=e.x,n=e.y,i=t.devicePixelRatio||1;return{x:Be(r*i)/i||0,y:Be(n*i)/i||0}}function Or(e){var t,r=e.popper,n=e.popperRect,i=e.placement,a=e.variation,s=e.offsets,l=e.position,c=e.gpuAcceleration,p=e.adaptive,d=e.roundOffsets,f=e.isFixed,k=s.x,x=k===void 0?0:k,_=s.y,C=_===void 0?0:_,g=typeof d=="function"?d({x,y:C}):{x,y:C};x=g.x,C=g.y;var T=s.hasOwnProperty("x"),b=s.hasOwnProperty("y"),O=ie,y=ae,A=window;if(p){var I=et(r),N="clientHeight",G="clientWidth";if(I===ce(r)&&(I=Le(r),Se(I).position!=="static"&&l==="absolute"&&(N="scrollHeight",G="scrollWidth")),I=I,i===ae||(i===ie||i===ge)&&a===Xe){y=fe;var L=f&&I===A&&A.visualViewport?A.visualViewport.height:I[N];C-=L-n.height,C*=c?1:-1}if(i===ie||(i===ae||i===fe)&&a===Xe){O=ge;var H=f&&I===A&&A.visualViewport?A.visualViewport.width:I[G];x-=H-n.width,x*=c?1:-1}}var K=Object.assign({position:l},p&&Ol),$=d===!0?Il({x,y:C},ce(r)):{x,y:C};if(x=$.x,C=$.y,c){var B;return Object.assign({},K,(B={},B[y]=b?"0":"",B[O]=T?"0":"",B.transform=(A.devicePixelRatio||1)<=1?"translate("+x+"px, "+C+"px)":"translate3d("+x+"px, "+C+"px, 0)",B))}return Object.assign({},K,(t={},t[y]=b?C+"px":"",t[O]=T?x+"px":"",t.transform="",t))}function Ml(e){var t=e.state,r=e.options,n=r.gpuAcceleration,i=n===void 0?!0:n,a=r.adaptive,s=a===void 0?!0:a,l=r.roundOffsets,c=l===void 0?!0:l,p={placement:ye(t.placement),variation:Fe(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Or(Object.assign({},p,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Or(Object.assign({},p,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var Pl={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Ml,data:{}},ot={passive:!0};function Ll(e){var t=e.state,r=e.instance,n=e.options,i=n.scroll,a=i===void 0?!0:i,s=n.resize,l=s===void 0?!0:s,c=ce(t.elements.popper),p=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&p.forEach(function(d){d.addEventListener("scroll",r.update,ot)}),l&&c.addEventListener("resize",r.update,ot),function(){a&&p.forEach(function(d){d.removeEventListener("scroll",r.update,ot)}),l&&c.removeEventListener("resize",r.update,ot)}}var Dl={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Ll,data:{}},$l={left:"right",right:"left",bottom:"top",top:"bottom"};function st(e){return e.replace(/left|right|bottom|top/g,function(t){return $l[t]})}var El={start:"end",end:"start"};function Ir(e){return e.replace(/start|end/g,function(t){return El[t]})}function rr(e){var t=ce(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function or(e){return We(Le(e)).left+rr(e).scrollLeft}function jl(e,t){var r=ce(e),n=Le(e),i=r.visualViewport,a=n.clientWidth,s=n.clientHeight,l=0,c=0;if(i){a=i.width,s=i.height;var p=lo();(p||!p&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:a,height:s,x:l+or(e),y:c}}function Rl(e){var t,r=Le(e),n=rr(e),i=(t=e.ownerDocument)==null?void 0:t.body,a=$e(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=$e(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),l=-n.scrollLeft+or(e),c=-n.scrollTop;return Se(i||r).direction==="rtl"&&(l+=$e(r.clientWidth,i?i.clientWidth:0)-a),{width:a,height:s,x:l,y:c}}function nr(e){var t=Se(e),r=t.overflow,n=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function go(e){return["html","body","#document"].indexOf(ke(e))>=0?e.ownerDocument.body:pe(e)&&nr(e)?e:go(bt(e))}function Ke(e,t){var r;t===void 0&&(t=[]);var n=go(e),i=n===((r=e.ownerDocument)==null?void 0:r.body),a=ce(n),s=i?[a].concat(a.visualViewport||[],nr(n)?n:[]):n,l=t.concat(s);return i?l:l.concat(Ke(bt(s)))}function Bt(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Al(e,t){var r=We(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function Mr(e,t,r){return t===io?Bt(jl(e,r)):je(t)?Al(t,r):Bt(Rl(Le(e)))}function zl(e){var t=Ke(bt(e)),r=["absolute","fixed"].indexOf(Se(e).position)>=0,n=r&&pe(e)?et(e):e;return je(n)?t.filter(function(i){return je(i)&&co(i,n)&&ke(i)!=="body"}):[]}function Bl(e,t,r,n){var i=t==="clippingParents"?zl(e):[].concat(t),a=[].concat(i,[r]),s=a[0],l=a.reduce(function(c,p){var d=Mr(e,p,n);return c.top=$e(d.top,c.top),c.right=ct(d.right,c.right),c.bottom=ct(d.bottom,c.bottom),c.left=$e(d.left,c.left),c},Mr(e,s,n));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function ho(e){var t=e.reference,r=e.element,n=e.placement,i=n?ye(n):null,a=n?Fe(n):null,s=t.x+t.width/2-r.width/2,l=t.y+t.height/2-r.height/2,c;switch(i){case ae:c={x:s,y:t.y-r.height};break;case fe:c={x:s,y:t.y+t.height};break;case ge:c={x:t.x+t.width,y:l};break;case ie:c={x:t.x-r.width,y:l};break;default:c={x:t.x,y:t.y}}var p=i?tr(i):null;if(p!=null){var d=p==="y"?"height":"width";switch(a){case ze:c[p]=c[p]-(t[d]/2-r[d]/2);break;case Xe:c[p]=c[p]+(t[d]/2-r[d]/2);break}}return c}function Ye(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=n===void 0?e.placement:n,a=r.strategy,s=a===void 0?e.strategy:a,l=r.boundary,c=l===void 0?al:l,p=r.rootBoundary,d=p===void 0?io:p,f=r.elementContext,k=f===void 0?qe:f,x=r.altBoundary,_=x===void 0?!1:x,C=r.padding,g=C===void 0?0:C,T=po(typeof g!="number"?g:fo(g,Je)),b=k===qe?il:qe,O=e.rects.popper,y=e.elements[_?b:k],A=Bl(je(y)?y:y.contextElement||Le(e.elements.popper),c,d,s),I=We(e.elements.reference),N=ho({reference:I,element:O,strategy:"absolute",placement:i}),G=Bt(Object.assign({},O,N)),L=k===qe?G:I,H={top:A.top-L.top+T.top,bottom:L.bottom-A.bottom+T.bottom,left:A.left-L.left+T.left,right:L.right-A.right+T.right},K=e.modifiersData.offset;if(k===qe&&K){var $=K[i];Object.keys(H).forEach(function(B){var z=[ge,fe].indexOf(B)>=0?1:-1,w=[ae,fe].indexOf(B)>=0?"y":"x";H[B]+=$[w]*z})}return H}function Wl(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=r.boundary,a=r.rootBoundary,s=r.padding,l=r.flipVariations,c=r.allowedAutoPlacements,p=c===void 0?so:c,d=Fe(n),f=d?l?_r:_r.filter(function(_){return Fe(_)===d}):Je,k=f.filter(function(_){return p.indexOf(_)>=0});k.length===0&&(k=f);var x=k.reduce(function(_,C){return _[C]=Ye(e,{placement:C,boundary:i,rootBoundary:a,padding:s})[ye(C)],_},{});return Object.keys(x).sort(function(_,C){return x[_]-x[C]})}function Fl(e){if(ye(e)===Qt)return[];var t=st(e);return[Ir(e),t,Ir(t)]}function Hl(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var i=r.mainAxis,a=i===void 0?!0:i,s=r.altAxis,l=s===void 0?!0:s,c=r.fallbackPlacements,p=r.padding,d=r.boundary,f=r.rootBoundary,k=r.altBoundary,x=r.flipVariations,_=x===void 0?!0:x,C=r.allowedAutoPlacements,g=t.options.placement,T=ye(g),b=T===g,O=c||(b||!_?[st(g)]:Fl(g)),y=[g].concat(O).reduce(function(W,q){return W.concat(ye(q)===Qt?Wl(t,{placement:q,boundary:d,rootBoundary:f,padding:p,flipVariations:_,allowedAutoPlacements:C}):q)},[]),A=t.rects.reference,I=t.rects.popper,N=new Map,G=!0,L=y[0],H=0;H<y.length;H++){var K=y[H],$=ye(K),B=Fe(K)===ze,z=[ae,fe].indexOf($)>=0,w=z?"width":"height",h=Ye(t,{placement:K,boundary:d,rootBoundary:f,altBoundary:k,padding:p}),S=z?B?ge:ie:B?fe:ae;A[w]>I[w]&&(S=st(S));var E=st(S),D=[];if(a&&D.push(h[$]<=0),l&&D.push(h[S]<=0,h[E]<=0),D.every(function(W){return W})){L=K,G=!1;break}N.set(K,D)}if(G)for(var j=_?3:1,R=function(q){var Z=y.find(function(Y){var F=N.get(Y);if(F)return F.slice(0,q).every(function(X){return X})});if(Z)return L=Z,"break"},P=j;P>0;P--){var V=R(P);if(V==="break")break}t.placement!==L&&(t.modifiersData[n]._skip=!0,t.placement=L,t.reset=!0)}}var Vl={name:"flip",enabled:!0,phase:"main",fn:Hl,requiresIfExists:["offset"],data:{_skip:!1}};function Pr(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function Lr(e){return[ae,ge,fe,ie].some(function(t){return e[t]>=0})}function Nl(e){var t=e.state,r=e.name,n=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,s=Ye(t,{elementContext:"reference"}),l=Ye(t,{altBoundary:!0}),c=Pr(s,n),p=Pr(l,i,a),d=Lr(c),f=Lr(p);t.modifiersData[r]={referenceClippingOffsets:c,popperEscapeOffsets:p,isReferenceHidden:d,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":f})}var ql={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Nl};function Ul(e,t,r){var n=ye(e),i=[ie,ae].indexOf(n)>=0?-1:1,a=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,s=a[0],l=a[1];return s=s||0,l=(l||0)*i,[ie,ge].indexOf(n)>=0?{x:l,y:s}:{x:s,y:l}}function Gl(e){var t=e.state,r=e.options,n=e.name,i=r.offset,a=i===void 0?[0,0]:i,s=so.reduce(function(d,f){return d[f]=Ul(f,t.rects,a),d},{}),l=s[t.placement],c=l.x,p=l.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=p),t.modifiersData[n]=s}var Kl={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Gl};function Zl(e){var t=e.state,r=e.name;t.modifiersData[r]=ho({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var Xl={name:"popperOffsets",enabled:!0,phase:"read",fn:Zl,data:{}};function Yl(e){return e==="x"?"y":"x"}function Ql(e){var t=e.state,r=e.options,n=e.name,i=r.mainAxis,a=i===void 0?!0:i,s=r.altAxis,l=s===void 0?!1:s,c=r.boundary,p=r.rootBoundary,d=r.altBoundary,f=r.padding,k=r.tether,x=k===void 0?!0:k,_=r.tetherOffset,C=_===void 0?0:_,g=Ye(t,{boundary:c,rootBoundary:p,padding:f,altBoundary:d}),T=ye(t.placement),b=Fe(t.placement),O=!b,y=tr(T),A=Yl(y),I=t.modifiersData.popperOffsets,N=t.rects.reference,G=t.rects.popper,L=typeof C=="function"?C(Object.assign({},t.rects,{placement:t.placement})):C,H=typeof L=="number"?{mainAxis:L,altAxis:L}:Object.assign({mainAxis:0,altAxis:0},L),K=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,$={x:0,y:0};if(!!I){if(a){var B,z=y==="y"?ae:ie,w=y==="y"?fe:ge,h=y==="y"?"height":"width",S=I[y],E=S+g[z],D=S-g[w],j=x?-G[h]/2:0,R=b===ze?N[h]:G[h],P=b===ze?-G[h]:-N[h],V=t.elements.arrow,W=x&&V?er(V):{width:0,height:0},q=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:uo(),Z=q[z],Y=q[w],F=Ge(0,N[h],W[h]),X=O?N[h]/2-j-F-Z-H.mainAxis:R-F-Z-H.mainAxis,re=O?-N[h]/2+j+F+Y+H.mainAxis:P+F+Y+H.mainAxis,ne=t.elements.arrow&&et(t.elements.arrow),he=ne?y==="y"?ne.clientTop||0:ne.clientLeft||0:0,oe=(B=K==null?void 0:K[y])!=null?B:0,de=S+X-oe-he,Q=S+re-oe,Ce=Ge(x?ct(E,de):E,S,x?$e(D,Q):D);I[y]=Ce,$[y]=Ce-S}if(l){var se,Ve=y==="x"?ae:ie,ve=y==="x"?fe:ge,xe=I[A],Re=A==="y"?"height":"width",Ae=xe+g[Ve],ar=xe-g[ve],yt=[ae,ie].indexOf(T)!==-1,ir=(se=K==null?void 0:K[A])!=null?se:0,sr=yt?Ae:xe-N[Re]-G[Re]-ir+H.altAxis,lr=yt?xe+N[Re]+G[Re]-ir-H.altAxis:ar,cr=x&&yt?kl(sr,xe,lr):Ge(x?sr:Ae,xe,x?lr:ar);I[A]=cr,$[A]=cr-xe}t.modifiersData[n]=$}}var Jl={name:"preventOverflow",enabled:!0,phase:"main",fn:Ql,requiresIfExists:["offset"]};function ec(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function tc(e){return e===ce(e)||!pe(e)?rr(e):ec(e)}function rc(e){var t=e.getBoundingClientRect(),r=Be(t.width)/e.offsetWidth||1,n=Be(t.height)/e.offsetHeight||1;return r!==1||n!==1}function oc(e,t,r){r===void 0&&(r=!1);var n=pe(t),i=pe(t)&&rc(t),a=Le(t),s=We(e,i,r),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(n||!n&&!r)&&((ke(t)!=="body"||nr(a))&&(l=tc(t)),pe(t)?(c=We(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):a&&(c.x=or(a))),{x:s.left+l.scrollLeft-c.x,y:s.top+l.scrollTop-c.y,width:s.width,height:s.height}}function nc(e){var t=new Map,r=new Set,n=[];e.forEach(function(a){t.set(a.name,a)});function i(a){r.add(a.name);var s=[].concat(a.requires||[],a.requiresIfExists||[]);s.forEach(function(l){if(!r.has(l)){var c=t.get(l);c&&i(c)}}),n.push(a)}return e.forEach(function(a){r.has(a.name)||i(a)}),n}function ac(e){var t=nc(e);return vl.reduce(function(r,n){return r.concat(t.filter(function(i){return i.phase===n}))},[])}function ic(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function sc(e){var t=e.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var Dr={placement:"bottom",modifiers:[],strategy:"absolute"};function $r(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function lc(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,i=t.defaultOptions,a=i===void 0?Dr:i;return function(l,c,p){p===void 0&&(p=a);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},Dr,a),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},f=[],k=!1,x={state:d,setOptions:function(T){var b=typeof T=="function"?T(d.options):T;C(),d.options=Object.assign({},a,d.options,b),d.scrollParents={reference:je(l)?Ke(l):l.contextElement?Ke(l.contextElement):[],popper:Ke(c)};var O=ac(sc([].concat(n,d.options.modifiers)));return d.orderedModifiers=O.filter(function(y){return y.enabled}),_(),x.update()},forceUpdate:function(){if(!k){var T=d.elements,b=T.reference,O=T.popper;if(!!$r(b,O)){d.rects={reference:oc(b,et(O),d.options.strategy==="fixed"),popper:er(O)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(H){return d.modifiersData[H.name]=Object.assign({},H.data)});for(var y=0;y<d.orderedModifiers.length;y++){if(d.reset===!0){d.reset=!1,y=-1;continue}var A=d.orderedModifiers[y],I=A.fn,N=A.options,G=N===void 0?{}:N,L=A.name;typeof I=="function"&&(d=I({state:d,options:G,name:L,instance:x})||d)}}}},update:ic(function(){return new Promise(function(g){x.forceUpdate(),g(d)})}),destroy:function(){C(),k=!0}};if(!$r(l,c))return x;x.setOptions(p).then(function(g){!k&&p.onFirstUpdate&&p.onFirstUpdate(g)});function _(){d.orderedModifiers.forEach(function(g){var T=g.name,b=g.options,O=b===void 0?{}:b,y=g.effect;if(typeof y=="function"){var A=y({state:d,name:T,instance:x,options:O}),I=function(){};f.push(A||I)}})}function C(){f.forEach(function(g){return g()}),f=[]}return x}}var cc=[Dl,Xl,Pl,bl,Kl,Vl,Jl,Tl,ql],dc=lc({defaultModifiers:cc}),uc=[],pc=function(t,r,n){n===void 0&&(n={});var i=u.exports.useRef(null),a={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||uc},s=u.exports.useState({styles:{popper:{position:a.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),l=s[0],c=s[1],p=u.exports.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(x){var _=x.state,C=Object.keys(_.elements);Wo.exports.flushSync(function(){c({styles:Cr(C.map(function(g){return[g,_.styles[g]||{}]})),attributes:Cr(C.map(function(g){return[g,_.attributes[g]]}))})})},requires:["computeStyles"]}},[]),d=u.exports.useMemo(function(){var k={onFirstUpdate:a.onFirstUpdate,placement:a.placement,strategy:a.strategy,modifiers:[].concat(a.modifiers,[p,{name:"applyStyles",enabled:!1}])};return Sn(i.current,k)?i.current||k:(i.current=k,k)},[a.onFirstUpdate,a.placement,a.strategy,a.modifiers,p]),f=u.exports.useRef();return Sr(function(){f.current&&f.current.setOptions(d)},[d]),Sr(function(){if(!(t==null||r==null)){var k=n.createPopper||dc,x=k(t,r,d);return f.current=x,function(){x.destroy(),f.current=null}}},[t,r,n.createPopper]),{state:f.current?f.current.state:null,styles:l.styles,attributes:l.attributes,update:f.current?f.current.update:null,forceUpdate:f.current?f.current.forceUpdate:null}};const fc=document.getElementById("__root"),gc=e=>{var c,p;const t=Fo(),[r,n]=u.exports.useState(),i=e.arrow?[{name:"offset",options:{offset:[0,8]}}]:void 0,{attributes:a,styles:s}=pc(e.elementRef,r,{strategy:"absolute",placement:e.placement,modifiers:i}),l=d=>{d.preventDefault(),d.stopPropagation(),e.onClick&&e.onClick(d)};return t(M(vc,{ref:n,style:s.popper,...a.popper,onClick:l,className:e.className,children:[e.header&&o(mc,{children:e.header}),o(xc,{children:e.children}),e.arrow&&o(hc,{"data-popper-arrow":!0,"data-placement":(c=a==null?void 0:a.popper)==null?void 0:c["data-popper-placement"],...a.arrow,style:s.arrow})]}),(p=e.tooltipAnchor)!=null?p:fc)},hc=v("div",{target:"e1atujr83"})({name:"y67xba",styles:"position:absolute;width:8px;height:8px;background:inherit;visibility:hidden;&::before{position:absolute;width:8px;height:8px;background:inherit;border-style:solid;border-color:rgba(44, 19, 56, 0.2);visibility:visible;content:'';transform:rotate(45deg);}&[data-placement^='top']{bottom:-4px;&::before{border-width:0px 1px 1px 0px;}}&[data-placement^='bottom']{top:-4px;&::before{border-width:1px 0px 0px 1px;}}&[data-placement^='left']{right:-4px;&::before{border-width:1px 1px 0px 0px;}}&[data-placement^='right']{left:-4px;&::before{border-width:0px 0px 1px 1px;}}"}),vc=v("div",{target:"e1atujr82"})("display:flex;justify-content:start;flex-direction:column;max-width:50vw;width:50vw;transition:opacity 0.33s ease;position:relative;color:",({theme:e})=>e.colors.ui.regular,";font-size:14px;line-height:18px;text-align:center;padding:15px;border-radius:8px;box-shadow:0 2px 8px 0 rgba(44, 19, 56, 0.2);background-color:",({theme:e})=>e.colors.surface_primary.regular,";z-index:2000;"),mc=v("span",{target:"e1atujr81"})("color:",({theme:e})=>e.colors.ui.regular,";font-weight:",({theme:e})=>e.typography.fontWeight.semibold,";font-size:12px;text-align:left;margin-bottom:10px;"),xc=v("div",{target:"e1atujr80"})("color:",({theme:e})=>e.colors.ui.regular,";font-size:12px;font-weight:",({theme:e})=>e.typography.fontWeight.normal,";line-height:16px;text-align:left;"),bc=te({noProject:{id:"TETooltip.noProject",defaultMessage:"No project"}});function yc({className:e,description:t,positionRef:r,project:n,client:i,workspace:a}){const s=Pe();return o(wc,{className:e,elementRef:r.current,placement:"auto",arrow:!0,children:M(Tc,{children:[t&&o(kc,{children:t}),n?o(Er,{color:n.color,children:n.name}):o(Er,{color:s.colors.ui_060.regular,children:o(U,{...bc.noProject})}),i&&o(Cc,{children:i.name}),o(_c,{}),o(Sc,{children:a&&a.name})]})})}const wc=v(gc,{target:"ew8ubmb6"})({name:"kukyk2",styles:"min-width:fit-content;max-width:500px"}),kc=v("span",{target:"ew8ubmb5"})("margin-right:25px;white-space:'normal';font-size:'12px';color:",({theme:e})=>e.colors.ui.regular,";font-weight:",({theme:e})=>e.typography.fontWeight.normal,";"),Er=v("span",{target:"ew8ubmb4"})("white-space:'normal';font-size:'12px';font-weight:",({theme:e})=>e.typography.fontWeight.normal,";color:",e=>e.color,";&:before{display:inline-block;margin:0 8px 0px 4px;line-height:1;content:'\u2022';font-family:Arial,serif;font-size:30px;font-weight:bold;color:",e=>e.color,";vertical-align:middle;}"),Cc=v("span",{target:"ew8ubmb3"})("font-size:'12px';color:",({theme:e})=>e.colors.ui_060.regular,";font-weight:",({theme:e})=>e.typography.fontWeight.normal,";white-space:'normal';"),Sc=v("span",{target:"ew8ubmb2"})("white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:12px;color:",({theme:e})=>e.colors.ui_060.regular,";font-weight:",({theme:e})=>e.typography.fontWeight.normal,";"),_c=v("div",{target:"ew8ubmb1"})("width:38px;margin:10px 0;border-top:1px solid ",({theme:e})=>e.colors.ui_020.regular,";"),Tc=v("div",{target:"ew8ubmb0"})({name:"1ikm9n7",styles:"display:flex;flex-direction:column;flex-grow:0"});var vo={exports:{}};(function(e){((t,r)=>{e.exports?e.exports=r():t.fuzzysort=r()})(Ue,t=>{var r=(w,h)=>{if(w=="farzher")return{target:"farzher was here (^-^*)/",score:0,_indexes:[0]};if(!w||!h)return $;var S=d(w);G(h)||(h=p(h));var E=S.bitflags;return(E&h._bitflags)!==E?$:k(S,h)},n=(w,h,S)=>{if(w=="farzher")return[{target:"farzher was here (^-^*)/",score:0,_indexes:[0],obj:h?h[0]:$}];if(!w)return S&&S.all?f(w,h,S):K;var E=d(w),D=E.bitflags;E.containsSpace;var j=S&&S.threshold||H,R=S&&S.limit||L,P=0,V=0,W=h.length;if(S&&S.key)for(var q=S.key,Z=0;Z<W;++Z){var Y=h[Z],F=N(Y,q);if(!!F&&(G(F)||(F=p(F)),(D&F._bitflags)===D)){var X=k(E,F);X!==$&&(X.score<j||(X={target:X.target,_targetLower:"",_targetLowerCodes:$,_nextBeginningIndexes:$,_bitflags:0,score:X.score,_indexes:X._indexes,obj:Y},P<R?(z.add(X),++P):(++V,X.score>z.peek().score&&z.replaceTop(X))))}}else if(S&&S.keys)for(var re=S.scoreFn||I,ne=S.keys,he=ne.length,Z=0;Z<W;++Z){for(var Y=h[Z],oe=new Array(he),de=0;de<he;++de){var q=ne[de],F=N(Y,q);if(!F){oe[de]=$;continue}G(F)||(F=p(F)),(D&F._bitflags)!==D?oe[de]=$:oe[de]=k(E,F)}oe.obj=Y;var Q=re(oe);Q!==$&&(Q<j||(oe.score=Q,P<R?(z.add(oe),++P):(++V,Q>z.peek().score&&z.replaceTop(oe))))}else for(var Z=0;Z<W;++Z){var F=h[Z];if(!!F&&(G(F)||(F=p(F)),(D&F._bitflags)===D)){var X=k(E,F);X!==$&&(X.score<j||(P<R?(z.add(X),++P):(++V,X.score>z.peek().score&&z.replaceTop(X))))}}if(P===0)return K;for(var Ce=new Array(P),Z=P-1;Z>=0;--Z)Ce[Z]=z.poll();return Ce.total=P+V,Ce},i=(w,h,S)=>{if(typeof h=="function")return a(w,h);if(w===$)return $;h===void 0&&(h="<b>"),S===void 0&&(S="</b>");var E="",D=0,j=!1,R=w.target,P=R.length,V=w._indexes;V=V.slice(0,V.len).sort((Z,Y)=>Z-Y);for(var W=0;W<P;++W){var q=R[W];if(V[D]===W){if(++D,j||(j=!0,E+=h),D===V.length){E+=q+S+R.substr(W+1);break}}else j&&(j=!1,E+=S);E+=q}return E},a=(W,h)=>{if(W===$)return $;var S=W.target,E=S.length,D=W._indexes;D=D.slice(0,D.len).sort((Y,F)=>Y-F);for(var j="",R=0,P=0,V=!1,W=[],q=0;q<E;++q){var Z=S[q];if(D[P]===q){if(++P,V||(V=!0,W.push(j),j=""),P===D.length){j+=Z,W.push(h(j,R++)),j="",W.push(S.substr(q+1));break}}else V&&(V=!1,W.push(h(j,R++)),j="");j+=Z}return W},s=w=>w._indexes.slice(0,w._indexes.len).sort((h,S)=>h-S),l=w=>{typeof w!="string"&&(w="");var h=_(w);return{target:w,_targetLower:h._lower,_targetLowerCodes:h.lowerCodes,_nextBeginningIndexes:$,_bitflags:h.bitflags,score:$,_indexes:[0],obj:$}},c=w=>{typeof w!="string"&&(w=""),w=w.trim();var h=_(w),S=[];if(h.containsSpace){var E=w.split(/\s+/);E=[...new Set(E)];for(var D=0;D<E.length;D++)if(E[D]!==""){var j=_(E[D]);S.push({lowerCodes:j.lowerCodes,_lower:E[D].toLowerCase(),containsSpace:!1})}}return{lowerCodes:h.lowerCodes,bitflags:h.bitflags,containsSpace:h.containsSpace,_lower:h._lower,spaceSearches:S}},p=w=>{if(w.length>999)return l(w);var h=b.get(w);return h!==void 0||(h=l(w),b.set(w,h)),h},d=w=>{if(w.length>999)return c(w);var h=O.get(w);return h!==void 0||(h=c(w),O.set(w,h)),h},f=(w,h,S)=>{var E=[];E.total=h.length;var D=S&&S.limit||L;if(S&&S.key)for(var j=0;j<h.length;j++){var R=h[j],P=N(R,S.key);if(!!P){G(P)||(P=p(P)),P.score=H,P._indexes.len=0;var V=P;if(V={target:V.target,_targetLower:"",_targetLowerCodes:$,_nextBeginningIndexes:$,_bitflags:0,score:P.score,_indexes:$,obj:R},E.push(V),E.length>=D)return E}}else if(S&&S.keys)for(var j=0;j<h.length;j++){for(var R=h[j],W=new Array(S.keys.length),q=S.keys.length-1;q>=0;--q){var P=N(R,S.keys[q]);if(!P){W[q]=$;continue}G(P)||(P=p(P)),P.score=H,P._indexes.len=0,W[q]=P}if(W.obj=R,W.score=H,E.push(W),E.length>=D)return E}else for(var j=0;j<h.length;j++){var P=h[j];if(!!P&&(G(P)||(P=p(P)),P.score=H,P._indexes.len=0,E.push(P),E.length>=D))return E}return E},k=(w,h,S=!1)=>{if(S===!1&&w.containsSpace)return x(w,h);for(var E=w._lower,D=w.lowerCodes,j=D[0],R=h._targetLowerCodes,P=D.length,V=R.length,Y=0,W=0,q=0;;){var Z=j===R[W];if(Z){if(y[q++]=W,++Y,Y===P)break;j=D[Y]}if(++W,W>=V)return $}var Y=0,F=!1,X=0,re=h._nextBeginningIndexes;re===$&&(re=h._nextBeginningIndexes=g(h.target)),W=y[0]===0?0:re[y[0]-1];var ne=0;if(W!==V)for(;;)if(W>=V){if(Y<=0||(++ne,ne>200))break;--Y;var he=A[--X];W=re[he]}else{var Z=D[Y]===R[W];if(Z){if(A[X++]=W,++Y,Y===P){F=!0;break}++W}else W=re[W]}var oe=h._targetLower.indexOf(E,y[0]),de=~oe;if(de&&!F)for(var Q=0;Q<q;++Q)y[Q]=oe+Q;var Ce=!1;de&&(Ce=h._nextBeginningIndexes[oe-1]===oe);{if(F)var se=A,Ve=X;else var se=y,Ve=q;for(var ve=0,xe=0,Q=1;Q<P;++Q)se[Q]-se[Q-1]!==1&&(ve-=se[Q],++xe);var Re=se[P-1]-se[0]-(P-1);if(ve-=(12+Re)*xe,se[0]!==0&&(ve-=se[0]*se[0]*.2),!F)ve*=1e3;else{for(var Ae=1,Q=re[0];Q<V;Q=re[Q])++Ae;Ae>24&&(ve*=(Ae-24)*10)}de&&(ve/=1+P*P*1),Ce&&(ve/=1+P*P*1),ve-=V-P,h.score=ve;for(var Q=0;Q<Ve;++Q)h._indexes[Q]=se[Q];return h._indexes.len=Ve,h}},x=(w,h)=>{for(var S=new Set,E=0,D=$,j=0,R=w.spaceSearches,q=0;q<R.length;++q){var P=R[q];if(D=k(P,h),D===$)return $;E+=D.score,D._indexes[0]<j&&(E-=j-D._indexes[0]),j=D._indexes[0];for(var V=0;V<D._indexes.len;++V)S.add(D._indexes[V])}var W=k(w,h,!0);if(W!==$&&W.score>E)return W;D.score=E;var q=0;for(let Z of S)D._indexes[q++]=Z;return D._indexes.len=q,D},_=w=>{for(var h=w.length,S=w.toLowerCase(),E=[],D=0,j=!1,R=0;R<h;++R){var P=E[R]=S.charCodeAt(R);if(P===32){j=!0;continue}var V=P>=97&&P<=122?P-97:P>=48&&P<=57?26:P<=127?30:31;D|=1<<V}return{lowerCodes:E,bitflags:D,containsSpace:j,_lower:S}},C=w=>{for(var h=w.length,S=[],E=0,D=!1,j=!1,R=0;R<h;++R){var P=w.charCodeAt(R),V=P>=65&&P<=90,W=V||P>=97&&P<=122||P>=48&&P<=57,q=V&&!D||!j||!W;D=V,j=W,q&&(S[E++]=R)}return S},g=w=>{for(var h=w.length,S=C(w),E=[],D=S[0],j=0,R=0;R<h;++R)D>R?E[R]=D:(D=S[++j],E[R]=D===void 0?h:D);return E},T=()=>{b.clear(),O.clear(),y=[],A=[]},b=new Map,O=new Map,y=[],A=[],I=w=>{for(var h=H,S=w.length,E=0;E<S;++E){var D=w[E];if(D!==$){var j=D.score;j>h&&(h=j)}}return h===H?$:h},N=(w,h)=>{var S=w[h];if(S!==void 0)return S;var E=h;Array.isArray(h)||(E=h.split("."));for(var D=E.length,j=-1;w&&++j<D;)w=w[E[j]];return w},G=w=>typeof w=="object",L=1/0,H=-L,K=[];K.total=0;var $=null,B=w=>{var h=[],S=0,E={},D=j=>{for(var R=0,P=h[R],V=1;V<S;){var W=V+1;R=V,W<S&&h[W].score<h[V].score&&(R=W),h[R-1>>1]=h[R],V=1+(R<<1)}for(var q=R-1>>1;R>0&&P.score<h[q].score;q=(R=q)-1>>1)h[R]=h[q];h[R]=P};return E.add=j=>{var R=S;h[S++]=j;for(var P=R-1>>1;R>0&&j.score<h[P].score;P=(R=P)-1>>1)h[R]=h[P];h[R]=j},E.poll=j=>{if(S!==0){var R=h[0];return h[0]=h[--S],D(),R}},E.peek=j=>{if(S!==0)return h[0]},E.replaceTop=j=>{h[0]=j,D()},E},z=B();return{single:r,go:n,highlight:i,prepare:l,indexes:s,cleanup:T}})})(vo);var It=vo.exports;const Mt=te({timeEntryGroup:{id:"AutocompletePopdown.timeEntries",defaultMessage:"Previously tracked time entries"},taskGroup:{id:"AutocompletePopdown.tasks",defaultMessage:"Tasks"},projectGroup:{id:"AutocompletePopdown.projects",defaultMessage:"Projects"}}),jr=500,Oc=(e,t,r)=>r.every(n=>`${e[n]}`.toLowerCase()===`${t[n]}`.toLowerCase()),Pt=(e,t)=>e.filter((r,n,i)=>n===i.findIndex(a=>Oc(a,r,t))),Ic=u.exports.forwardRef(function({show:t,hide:r,description:n,onClick:i},a){const[s]=Hr(),[l]=gt(),[c,p]=u.exports.useState([]),d=u.exports.useMemo(()=>n&&n!=="",[n]),[f,k]=u.exports.useState([]),[x,_]=u.exports.useState([]),[C,g]=u.exports.useState(-1),T=u.exports.useRef([]),[b]=mt(),[O]=rn(),[y]=on();u.exports.useEffect(()=>{if(l){const L=Object.values(l).filter(B=>B.description&&B.stop),H=n&&n!==""?It.go(n,L,{key:"description",limit:100,threshold:-1e4}).map(B=>B.obj):L,$=Pt(H,["description"]).filter(B=>{var z;return{...B,project_id:(z=b==null?void 0:b[`${B.project_id}`])!=null&&z.active?B.project_id:null}});p((d?$:$.reverse()).slice(0,10))}if(b&&d){const L=Object.values(b).filter($=>$.active).map($=>{var B;return{...$,_filter:`${$.name} ${(B=y==null?void 0:y[`${$.cid}`])==null?void 0:B.name}`}}),H=n&&n!==""?It.go(n,L,{key:"_filter",limit:100,threshold:-1e4}).map($=>$.obj):L,K=Pt(H,["name"]);k(K.slice(0,10))}if(O&&d){const L=Object.values(O).filter($=>{var B;return(B=b==null?void 0:b[`${$.project_id}`])==null?void 0:B.active}),H=n&&n!==""?It.go(n,L,{key:"name",limit:100,threshold:-1e4}).map($=>$.obj):L,K=Pt(H,["name","project_id"]);_(K.slice(0,10))}},[y,n,d,b,O,l]);const A=u.exports.useCallback((L,H)=>{i({description:L.description||"",workspace_id:L.workspace_id,project_id:L.project_id,task_id:L.task_id,tag_ids:L.tag_ids,billable:L.billable},H),r()},[i,r]),I=u.exports.useCallback((L,H)=>{i({description:"",workspace_id:L.workspace_id,project_id:L.id,task_id:null,billable:L.billable},H),r()},[i,r]),N=u.exports.useCallback((L,H)=>{const K=b==null?void 0:b[`${L.project_id}`];i({description:"",workspace_id:L.project_id,project_id:L.project_id,task_id:L.id,billable:K?K.billable:!1},H),r()},[b,i,r]),{keyboardProps:G}=Qe({onKeyDown:L=>{L.preventDefault(),L.key==="ArrowDown"&&g(H=>H+1<c.length+f.length+x.length?H+1:0),L.key==="ArrowUp"&&C-1>=0&&g(H=>H-1),L.key==="Escape"&&r()}});return u.exports.useEffect(()=>{var L;return(L=T.current[C])==null?void 0:L.focus()},[C]),!t||!(c!=null&&c.length)&&!(f!=null&&f.length)&&!(x!=null&&x.length)?null:M(u.exports.Fragment,{children:[o(Mc,{onClick:()=>r()}),o(Pc,{tabIndex:-1,ref:a,...G,onFocus:()=>{C===-1&&g(0)},children:M(Lc,{children:[!!(c!=null&&c.length)&&M(u.exports.Fragment,{children:[o(Dt,{children:o(U,{...Mt.timeEntryGroup})}),c.map((L,H)=>{var K;return o(Lt,{description:L.description,project:b==null?void 0:b[`${L.project_id}`],workspace:s==null?void 0:s[`${L.workspace_id}`],onClick:$=>A(L,$),ref:$=>$&&(T.current[H]=$),client:y==null?void 0:y[`${(K=b==null?void 0:b[`${L.project_id}`])==null?void 0:K.client_id}`]},`te-${L.id}`)})]}),!!(x!=null&&x.length)&&d&&M(u.exports.Fragment,{children:[o(Dt,{children:o(U,{...Mt.taskGroup})}),x.map((L,H)=>{var K;return o(Lt,{description:L.name,project:b==null?void 0:b[`${L.project_id}`],workspace:s==null?void 0:s[`${L.workspace_id}`],client:y==null?void 0:y[`${(K=b==null?void 0:b[`${L.project_id}`])==null?void 0:K.client_id}`],ref:$=>$&&(T.current[H+c.length]=$),onClick:$=>N(L,$)},`task-${L.id}`)})]}),!!(f!=null&&f.length)&&d&&M(u.exports.Fragment,{children:[o(Dt,{children:o(U,{...Mt.projectGroup})}),f.map((L,H)=>o(Lt,{project:L,workspace:s==null?void 0:s[`${L.workspace_id}`],client:y==null?void 0:y[`${L.client_id}`],showClient:!0,ref:K=>K&&(T.current[H+c.length+x.length]=K),onClick:K=>I(L,K)},`project-${L.id}`))]})]})})]})}),Lt=u.exports.forwardRef(function({description:t,project:r,client:n,showClient:i=!1,workspace:a,onClick:s},l){const[c,p]=u.exports.useState(!1),d=u.exports.useRef(null);let f;const k=()=>{f&&clearTimeout(f),f=setTimeout(()=>p(!0),jr)},x=()=>{f&&clearTimeout(f),f=setTimeout(()=>p(!1),jr/2)};u.exports.useImperativeHandle(l,()=>({focus(){var C;(C=d.current)==null||C.focus()}}),[]);const{keyboardProps:_}=Qe({onKeyDown(C){if(C.key==="Enter")return s(C);C.continuePropagation()}});return M(u.exports.Fragment,{children:[M(Dc,{..._,onClick:s,ref:d,onMouseOver:k,onMouseLeave:x,tabIndex:-1,children:[t&&o($c,{children:t}),r&&o(Ec,{color:r.color,children:r.name}),n&&i&&o(jc,{children:n.name})]}),c&&o(yc,{description:t,project:r,client:n,workspace:a,positionRef:d})]})}),Mc=v("div",{target:"e3ugkik7"})({name:"kcjulr",styles:"z-index:1;position:fixed;top:0;left:0;height:100vh;width:100vw;background:transparent"}),Pc=v("div",{target:"e3ugkik6"})("z-index:2;position:absolute;top:100px;left:8px;right:8px;border-radius:8px;box-shadow:0 2px 6px 0 rgba(0, 0, 0, 0.1);border:1px solid rgba(0, 0, 0, 0.1);flex-flow:column nowrap;max-height:350px;height:fit-content;padding:2px 8px;overflow:auto;background:",({theme:e})=>e.colors.surface_primary.regular,";color:",({theme:e})=>e.colors.ui.regular,";display:'block';"),Lc=v("ul",{target:"e3ugkik5"})({name:"1aotukn",styles:"padding:0px;list-style:none;margin:0;gap:2px"}),Dc=v("li",{target:"e3ugkik4"})("height:25px;line-height:25px;border-radius:4px;display:flex;align-items:center;gap:1px;padding:2px 8px;margin:2px 0;font-size:14px;color:",({theme:e})=>e.colors.ui.regular,";text-overflow:ellipsis;overflow:hidden;word-wrap:break-word;&:hover{color:",({theme:e})=>e.colors.ui.hover,";background-color:",({theme:e})=>e.colors.surface_primary.hover,";cursor:pointer;}&:focus{color:",({theme:e})=>e.colors.ui.hover,";background-color:",({theme:e})=>e.colors.surface_primary.hover,";cursor:pointer;outline:none;}"),Dt=v("li",{target:"e3ugkik3"})("display:flex;align-items:center;overflow:hidden;padding:8px;font-style:normal;font-weight:",({theme:e})=>e.typography.fontWeight.semibold,";font-size:11px;color:",({theme:e})=>e.colors.ui_060.regular,";cursor:default;text-transform:uppercase;letter-spacing:0.4px;"),$c=v("span",{target:"e3ugkik2"})("text-overflow:ellipsis;overflow:hidden;margin-right:25px;white-space:nowrap;font-size:14px;color:",({theme:e})=>e.colors.ui.regular,";font-weight:",({theme:e})=>e.typography.fontWeight.normal,";"),Ec=v("span",{target:"e3ugkik1"})("text-overflow:ellipsis;overflow:hidden;white-space:nowrap;font-size:14px;font-weight:",({theme:e})=>e.typography.fontWeight.normal,";color:",e=>e.color,";&:before{display:inline-block;margin:0 8px 0px 4px;line-height:1;content:'\u2022';font-family:Arial,serif;font-size:30px;font-weight:bold;color:",e=>e.color,";vertical-align:middle;}"),jc=v("span",{target:"e3ugkik0"})("font-size:14px;color:",({theme:e})=>e.colors.ui_060.regular,";font-weight:",({theme:e})=>e.typography.fontWeight.normal,";white-space:'nowrap';text-overflow:ellipsis;overflow:hidden;padding-left:15px;&:before{display:inline-block;margin:0px 8px 0px 4px;line-height:1;content:'\u2022';font-family:Arial,serif;font-size:16px;font-weight:bold;color:",({theme:e})=>e.colors.ui_060.regular,";vertical-align:middle;}"),Rr=te({descriptionPlaceholder:{id:"timer.descriptionPlaceholder",defaultMessage:"What are you working on?"},runningDescriptionPlaceholder:{id:"timer.runningDescriptionPlaceholder",defaultMessage:"(no description)"}});function Rc(e){return e?Rr.runningDescriptionPlaceholder:Rr.descriptionPlaceholder}const Ac=({running:e=!1,timerMode:t="auto",description:r,onChange:n,onBlur:i,startTimer:a,onSelectTimeEntry:s,disableAutocomplete:l},c)=>{const[p,d]=u.exports.useState(!1),f=u.exports.useRef(null),k=u.exports.useCallback(g=>{De(g.which)==="enter"&&(a&&a(g),i&&i())},[i,a]),x=g=>{var T;g.key==="Escape"?(g.preventDefault(),p&&d(!1)):d(!0),(g.key==="ArrowDown"||g.key==="ArrowUp")&&(g.preventDefault(),(T=f.current)==null||T.focus())},_=u.exports.useCallback(g=>{g.preventDefault(),g.stopPropagation(),n(g.target.value)},[n]),C=u.exports.useCallback(g=>{g.preventDefault(),g.stopPropagation(),i&&i()},[i]);return M(Bc,{children:[o(U,{...Rc(e),children:g=>o(zc,{ref:c,id:"timerDescription",value:r,onChange:_,onKeyUp:k,onKeyDown:x,onBlur:C,placeholder:g,onFocus:()=>d(!0)})}),!l&&p&&o(Ic,{show:p&&t==="auto",hide:()=>d(!1),ref:f,description:r,onClick:s})]})};var mo=u.exports.forwardRef(Ac);const zc=v("input",{target:"e1vcuu2w1"})("flex:1;height:40px;border:none;font-size:16px;font-weight:",({theme:e})=>e.typography.fontWeight.normal,";background:",({theme:e})=>e.colors.surface_primary.regular,";color:",({theme:e})=>e.colors.ui.regular,";margin-right:10px;border-radius:20px;width:100%;text-overflow:ellipsis;&:hover,&:focus{outline:none;}"),Bc=v("div",{target:"e1vcuu2w0"})({name:"1x17g94",styles:"display:flex;align-items:center;width:100%"}),xo=({onDropdownsChange:e,timeEntry:t})=>{var T,b,O,y,A;const[r]=qt(),[n]=Te(),[i]=mt(),[a,s]=u.exports.useState((T=t==null?void 0:t.project_id)!=null?T:null),[l,c]=u.exports.useState((b=t==null?void 0:t.task_id)!=null?b:void 0),[p,d]=u.exports.useState((O=t==null?void 0:t.billable)!=null?O:!1),[f,k]=u.exports.useState((y=t==null?void 0:t.tag_ids)!=null?y:[]);u.exports.useEffect(()=>{var I;t&&(s(t.project_id),c(t.task_id),d((I=t.billable)!=null?I:!1)),(t==null?void 0:t.tag_ids)&&t.tag_ids!==f&&k(t.tag_ids)},[f,t]);const x=i&&a?(A=i[a])==null?void 0:A.workspace_id:n,_=I=>{const N=f!=null&&f.includes(I)?f.filter(G=>G!==I):[I,...f];e({billable:p,selectedProject:a,selectedTask:l,selectedTags:N})},C=I=>{s(I.projectId),c(I.taskId),d(I.billable),e({billable:I.billable,selectedTags:f,selectedTask:I.taskId,selectedProject:I.projectId})},g=()=>{d(!p),e({billable:!p,selectedProject:a,selectedTask:l,selectedTags:f})};return M(Qr,{children:[o(Wr,{contentPosition:{left:5,top:40},selectedProjectId:a,selectedTaskId:l,onChange:C}),o(ro,{wid:x,contentPosition:{left:0,top:40},tagsMap:r,selectedIds:f!=null?f:[],onChange:_}),o(eo,{billable:p,onChange:g})]})};function Wc(e,t){const r=u.exports.useRef();u.exports.useEffect(()=>{r.current=e},[e]),u.exports.useEffect(()=>{function n(){r.current&&requestAnimationFrame(r.current)}if(t!==null){const i=setInterval(n,t);return()=>clearInterval(i)}},[t])}const Fc=1e3,Hc=e=>{const[t,r]=u.exports.useState(Ar(e)),n=u.exports.useCallback(()=>{r(Ar(e))},[e,r]);return Wc(n,Fc),t};function Ar(e){return J.now().diff(J.fromISO(e),"seconds").seconds}function Vc({start:e,updateDuration:t,setDropdownOpen:r,disabled:n}){const i=Hc(e),[a,s]=u.exports.useState("0:00:00"),[l,c]=u.exports.useState(!1),p=u.exports.useRef(null),d=x=>{t(x),c(!1)},f=()=>{var x;s(me(e,J.fromISO(e).plus({seconds:i}).toISO())),(x=p.current)==null||x.select(),c(!0)},{keyboardProps:k}=Qe({onKeyDown(x){var _;x.key==="Enter"?((_=p.current)==null||_.blur(),r(!1)):x.key==="Escape"&&(x.preventDefault(),s(e?me(e):"0:00:00"),r(!1))}});return o(Nc,{...k,"data-heap-id":"extension:edit-time-entry",disabled:n,ref:p,value:l?a:me(e,J.fromISO(e).plus({seconds:i}).toISO()),onFocus:f,onChange:x=>s(x.target.value),onBlur:d})}const Nc=v(Ht,{target:"ek0gyi70"})("border-radius:8px;height:32px;width:80px;padding-right:0;cursor:pointer;border:none;padding:0 0.8rem;font-weight:",({theme:e})=>e.typography.fontWeight.semibold,";font-size:16px;color:",({theme:e})=>e.colors.ui_060.regular,";&:hover{background-color:",({theme:e})=>e.colors.surface_secondary.hover,";}");var qc={name:"bjn8wh",styles:"position:relative"},Uc={name:"1q872fu",styles:"font-size:24px;padding:0;aspect-ratio:1;border-radius:50%;margin-right:8px"};function Gc({disableAutocomplete:e,current:t,...r}){var H,K,$;const n=_e(),[i]=qt(),a=u.exports.useRef(null),{mutate:s}=Yt(),[l,c]=u.exports.useState(!1),[p,d]=u.exports.useState(!1),[,f]=gt(),k=Kt(),[x,_]=u.exports.useState(t.description),C=u.exports.useCallback(nl(s,500),[s]),g=Vr(t.workspace_id);u.exports.useEffect(()=>{(t==null?void 0:t.description)!==x&&_(t.description)},[t.description]);const T=qr.check((H=g==null?void 0:g.te_constraints)!=null?H:null,t),[b]=Vt(),{setActiveView:O}=Zt();u.exports.useEffect(()=>{let B=!1;(t==null?void 0:t.tag_ids)&&i&&t.tag_ids.forEach(z=>{var w;((w=i[z])==null?void 0:w.workspace_id)!==t.workspace_id&&(B=!0)}),B&&un.dispatch()},[t==null?void 0:t.tag_ids,t==null?void 0:t.workspace_id,i]);const y=u.exports.useCallback(B=>{var w;if(B.preventDefault(),B.stopPropagation(),!(T.length&&((w=g==null?void 0:g.te_constraints)==null?void 0:w.time_entry_constraints_enabled))){d(!0);const h=new Date,S=new Date(t.start);s({entry:{...t,stop:h.toISOString(),duration:Math.floor((h.getTime()-S.getTime())/1e3)},integration:{type:"popup"}},{onSuccess:E=>{f(D=>({...D,[E.id]:E}))},onError:()=>{d(!1)}})}},[t,T.length,s,f,(K=g==null?void 0:g.te_constraints)==null?void 0:K.time_entry_constraints_enabled]),A=B=>{s({entry:{...t,start:B},integration:{type:"popup"}},{onError:z=>{n.addToast({title:"Something went wrong",message:z.message,type:"error"})}})},I=B=>{var h;const z=(h=Et(Ze(B.target.value).toMillis()/1e3))!=null?h:"",w=-parseInt((J.fromISO(z).toMillis()/1e3).toFixed(0),10);s({entry:{...t,start:z,duration:w},integration:{type:"popup"}},{onError:S=>{n.addToast({title:"Something went wrong",message:S.message,type:"error"})}})},N=B=>{_(B),C({entry:{...t,description:B},integration:{type:"popup"}},{onError:z=>{n.addToast({title:"Something went wrong",message:z.message,type:"error"})}})},G=({billable:B,selectedTask:z,selectedProject:w,selectedTags:h})=>{s({entry:{...t,billable:B,task_id:z,project_id:w,tag_ids:h},integration:{type:"popup"}},{onError:S=>{n.addToast({title:"Something went wrong",message:S.message,type:"error"})}})},L=(B,z)=>{z.preventDefault(),s({entry:{...t,project_id:B.project_id,task_id:B.task_id,tag_ids:B.tag_ids,billable:B.billable,description:B.description},integration:{type:"popup"}},{onError:w=>{n.addToast({title:"Something went wrong",message:w.message,type:"error"})}})};return M(Xr,{...r,children:[M(Yr,{children:[(b==null?void 0:b.isEnabled)&&o(le,{variant:"tertiary",type:"button",size:"regular",content:"text",css:Uc,onClick:()=>O(B=>B==="LIST"?"POMODORO":"LIST"),children:o("img",{src:"/images/pomodoro-icon.png",alt:"Pomodoro Icon",height:28})}),o($a,{children:o(mo,{running:!0,description:x,onChange:N,onSelectTimeEntry:L,disableAutocomplete:e})}),M("div",{ref:a,css:qc,children:[(t==null?void 0:t.start)&&M(ue,{children:[o(ue.RawTrigger,{onFocus:()=>c(!0),children:o(Vc,{disabled:!!k.isRunning,start:t.start,updateDuration:I,setDropdownOpen:c})}),o(ue.Overlay,{}),o(ue.DateTimeContent,{open:l,position:{left:-192,top:40},children:o(Xt,{start:($=t.start)!=null?$:J.now().toISO(),stop:J.now().toFormat("HH:mm"),onDatesChange:A,disableStop:!0,disableManualCreation:!0})})]}),o(oo,{enabled:!!(T!=null&&T.length),missingProps:T,children:o("div",{children:o(ao,{isStop:!0,loading:p,onClick:y,icon:o(En,{})})})})]})]}),o(xo,{onDropdownsChange:G,timeEntry:t})]})}function Kc({hideSwitcher:e,disableAutocomplete:t,heapContext:r,...n}){const[i]=vt();return i?o(Gc,{current:i,disableAutocomplete:t,...n}):o(Xc,{hideSwitcher:e,disableAutocomplete:t,heapContext:r,...n})}var Zc={name:"1q872fu",styles:"font-size:24px;padding:0;aspect-ratio:1;border-radius:50%;margin-right:8px"};function Xc({hideSwitcher:e,disableAutocomplete:t,heapContext:r,...n}){const i=_e(),{user:a}=He(),[s,l]=u.exports.useState({}),[c,p]=u.exports.useState(""),d=xt(),[f]=Te(),{setActiveView:k}=Zt(),[x]=Vt(),_=u.exports.useCallback((O,y)=>{if(O.preventDefault(),!a)return;const A=s.start?new Date(s.start):new Date,I=y!=null?y:s,N={at:A.toISOString(),billable:!1,description:c,duration:-parseInt((A.getTime()/1e3).toFixed(0),10),start:A.toISOString(),tags:[],tag_ids:[],workspace_id:f,...I};d.mutate({entry:N,integration:{type:"popup"}},{onError:G=>{i.addToast({title:"Something went wrong",message:G.message,type:"error"})}})},[s,c,f,d,i,a]),C=O=>{if(O.preventDefault(),!a)return;const y=Math.floor((J.fromISO(s.stop).toMillis()-J.fromISO(s.start).toMillis())/1e3),A={at:J.now().toISO(),billable:!1,duration:y,tags:[],tag_ids:[],workspace_id:f,...s,description:c};return d.mutateAsync({entry:A,integration:{type:"popup"}},{onSuccess:I=>{l({...I,start:I.stop,stop:J.fromISO(I.stop).plus({seconds:I==null?void 0:I.duration}).toISO()})},onError:I=>{i.addToast({title:"Something went wrong",message:I.message,type:"error"})}})},g=u.exports.useCallback((O,y)=>{l(A=>({...A,start:O,stop:y}))},[l]),T=u.exports.useCallback(O=>{l(y=>({...y,billable:O.billable,tag_ids:O.selectedTags,project_id:O.selectedProject,task_id:O.selectedTask}))},[]),b=u.exports.useCallback((O,y)=>{l({project_id:O.project_id,task_id:O.task_id,tag_ids:O.tag_ids,billable:O.billable}),p(O.description),_(y,{project_id:O.project_id,task_id:O.task_id,tag_ids:O.tag_ids,billable:O.billable,description:O.description}),Ee("start-time-entry",{context:"Autocomplete"})},[_]);return M(Xr,{...n,children:[M(Yr,{children:[(x==null?void 0:x.isEnabled)&&o(le,{variant:"tertiary",type:"button",size:"regular",content:"text",css:Zc,onClick:()=>k(O=>O==="LIST"?"POMODORO":"LIST"),children:o("img",{src:"/images/pomodoro-icon.png",alt:"Pomodoro Icon",height:28})}),o(mo,{description:c,onChange:O=>p(O),startTimer:_,onSelectTimeEntry:b,disableAutocomplete:t}),o(Bs,{loading:d.isLoading,setTimeEntry:l,timeEntry:s,startTimer:_,createEntry:C,onDatesChange:g,heapContext:r})]}),o(xo,{onDropdownsChange:T,timeEntry:s})]})}const Yc=e=>{const t=e.start.split("T")[0],r=e.tags?e.tags.slice().sort().join(","):"";return[t,e.description,e.project_id,e.task_id,e.workspace_id,e.billable?"1":"0",r].join("|")},Qc=e=>{const t=at.chain(e).filter(n=>n.duration>=0).sortBy("start").reverse().value();return at.chain(t).groupBy(n=>n.start.split("T")[0]).mapValues(n=>at.chain(n).groupBy(Yc).values().value()).value()},Jc=te({surveyCTA:{id:"home.surveyCTA",defaultMessage:"Take a quick survey!"}}),ed=()=>{const{user:e}=He(),[t]=mt(),{currentStep:r}=Gt(),[n,i]=Ho("surveyTaken"),{activeView:a}=Zt(),[s,,{isCacheLoading:l}]=gt(),c=u.exports.useMemo(()=>Qc(Object.values(s!=null?s:{})),[s]);u.exports.useEffect(()=>{pn({id:String(e==null?void 0:e.id)})},[e==null?void 0:e.id]);const p=Object.values(s!=null?s:{});if(l)return o(jt,{});const d=a==="POMODORO",f=a==="LIST";return M(td,{id:"homeRoot",children:[!!p.length&&o(Kc,{}),r!=="finished"&&!d&&!!p&&o(Gi,{showImg:!p.length||r==="initial"}),r!=="initial"&&M(u.exports.Fragment,{children:[p.length>0&&e&&o(Ni,{totals:Vo(p,e.beginning_of_week)}),d&&o(Vi,{}),f&&s&&t&&M(rd,{children:[o(Cs,{data:c,projects:t}),!n&&!!(c!=null&&c.length)&&o(od,{children:o(nd,{href:"https://toggl.typeform.com/to/sI2cCiTE",target:"_blank",rel:"noreferrer",children:o(ad,{onClick:()=>{i(!0)},children:o(U,{...Jc.surveyCTA})})})})]})]})]})},td=v("div",{target:"e1ubjdub4"})("display:contents;background-color:",({theme:e})=>e.colors.surface_secondary.regular,";"),rd=v("div",{target:"e1ubjdub3"})("flex:1;overflow-y:auto;background-color:",({theme:e})=>e.colors.surface_secondary.regular,";scrollbar-width:none;-ms-overflow-style:none;&::-webkit-scrollbar{display:none;}"),od=v("div",{target:"e1ubjdub2"})({name:"4x6aai",styles:"width:100%;display:flex;justify-content:center;margin-bottom:16px;margin-top:16px"}),nd=v("a",{target:"e1ubjdub1"})({name:"y3so8k",styles:"width:100%;display:flex;justify-content:center;text-decoration:none"}),ad=v(ut,{target:"e1ubjdub0"})("width:fit-content;color:",({theme:e})=>e.colors.accent.regular,";border:none;font-weight:500;text-decoration:none;");var id="/assets/flower.png",sd="/assets/flower@2x.png",ld="/assets/flower@3x.png";const dt=te({heading:{id:"login.heading",defaultMessage:"Nearly there!"},subheading:{id:"login.subheading",defaultMessage:"Click the button below to log in and start tracking"},loginButton:{id:"login.loginButton",defaultMessage:"Log in"},createAccount:{id:"login.createAccount",defaultMessage:"Sign up instead"},loading:{id:"login.loggingIn",defaultMessage:"Logging in to Toggl Track Browser Extension"},error:{id:"login.error",defaultMessage:"Could not login to Toggl Track Browser Extension"},loggedIn:{id:"login.loggedIn",defaultMessage:"Welcome to Toggl Track Browser Extension"}}),cd=e=>o(u.exports.Fragment,{children:M(fd,{children:[o(No,{height:"38px",width:"157px"}),o(hd,{src:id,srcSet:`${sd} 2x, ${ld} 3x`,alt:"Toggl Track login required",css:ee(e.hideHeading&&"padding-bottom: 0;",";","")}),!e.hideHeading&&o(gd,{children:o(U,{...dt.heading})}),o("div",{children:e.customSubheading?e.customSubheading:o(U,{...dt.subheading})}),o(ud,{}),!e.hideSignup&&o(pd,{})]})});var dd={name:"1snjzzd",styles:"border-radius:32px;width:200px;height:36px"};const ud=()=>o("a",{href:"#",onClick:bo("https://accounts.toggl.com/track/login/"),children:o(Fr,{css:dd,children:o(U,{...dt.loginButton})})}),pd=()=>o(vd,{href:"#",onClick:bo("https://accounts.toggl.com/track/signup/?utm_source=toggl-button&utm_medium=referral"),children:o(U,{...dt.createAccount})}),bo=e=>()=>Ie.exports.tabs.create({url:e}),fd=v("div",{target:"ea3oe3l3"})("position:absolute;top:0;left:0;right:0;bottom:0;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:16px;background-color:",({theme:e})=>e.colors.background.regular,";color:",({theme:e})=>e.colors.ui.regular,";font-size:14px;font-weight:400;"),gd=v("h3",{target:"ea3oe3l2"})("margin:0;font-size:20px;font-weight:",({theme:e})=>e.typography.fontWeight.semibold,";line-height:1.6;"),hd=v("img",{target:"ea3oe3l1"})({name:"shoa2s",styles:"padding:10px 0"}),vd=v(qo,{target:"ea3oe3l0"})("font-weight:500;line-height:normal;color:",({theme:e})=>e.colors.ui.regular,";");var md="/assets/large-logo.svg",xd="/assets/illustration.svg";const $t=te({title:{id:"noPermission.title",defaultMessage:"Please enable permissions"},description:{id:"noPermission.description",defaultMessage:`To start using the extension, {br}
    click \u201CAdd Toggl Track\u201D in the link below `},cta:{id:"noPermission.cta",defaultMessage:"Enable permissions here"}}),bd=()=>M(yd,{children:[o("img",{src:md,alt:"Toggl Track Logo",height:38}),o("img",{src:xd,alt:"Clock with a flower",height:143}),M(wd,{children:[o(U,{...$t.title,tagName:kd}),o(U,{...$t.description,tagName:Cd,values:{br:o("br",{})}}),o(U,{...$t.cta,children:e=>o(Sd,{onClick:()=>we.tabs.create({url:we.runtime.getURL("src/pages/requestPermission/index.html")}),children:e})})]})]}),yd=v("div",{target:"e1j532814"})("position:absolute;top:0;left:0;right:0;bottom:0;display:flex;flex-direction:column;gap:32px;align-items:center;padding:122px 40px;background-color:",({theme:e})=>e.colors.background.regular,";color:",({theme:e})=>e.colors.ui.regular,";overflow:hidden;"),wd=v("div",{target:"e1j532813"})({name:"1rwvq",styles:"display:flex;flex-direction:column;align-items:center;text-align:center;gap:16px"}),kd=v("h1",{target:"e1j532812"})({name:"1b3ifnx",styles:"font-size:20px;font-weight:500;line-height:160%"}),Cd=v("span",{target:"e1j532811"})({name:"1qsdem2",styles:"font-weight:400;font-size:14px;line-height:143%"}),Sd=v("a",{target:"e1j532810"})("cursor:pointer;text-decoration:underline;color:",({theme:e})=>e.colors.grape_120.regular,";font-size:14px;&:hover{color:",({theme:e})=>e.colors.grape_120.hover,";}"),_d=te({back:{id:"popup.back",defaultMessage:"Back"}}),Td=()=>{const[e,t]=u.exports.useState(!0),[r,n]=u.exports.useState(!0);return u.exports.useEffect(()=>{we.permissions.contains({origins:fn()}).then(i=>n(i)).catch(()=>n(!1)).finally(()=>t(!1))},[]),{isLoading:e,isAllowed:r}},Od=()=>{const[e,t]=u.exports.useState(!0),[r,n]=u.exports.useState(!0);return u.exports.useEffect(()=>{nn.dispatch().catch(()=>n(!0)).finally(()=>t(!1))},[]),{isLoading:e,isError:r}},Id=()=>{const[e]=Nr(),t=Ia(),[r]=ht();Uo();const{isLoading:n}=Od(),{isLoading:i}=Gt(),{isLoading:a,isAllowed:s}=Td();u.exports.useEffect(()=>{r&&(window.heap&&window.heap.identify(`${r.id}`),Go.setAttributes({id:r.id}))},[r]);const l=n||a||i||(t==null?void 0:t.loading),c=(t==null?void 0:t.view)==="editEntry",p=d=>{d.preventDefault(),t.changeView("default"),t.changeEditingEntry(void 0)};return o(pt,{injectCSSVarAsGlobal:!0,children:M(Da,{children:[l&&o(jt,{}),!l&&!s&&o(bd,{}),!l&&s&&!(t!=null&&t.user)&&M(u.exports.Fragment,{children:[o(fr,{}),e!=null&&e.loading?o(jt,{}):o(cd,{})]}),!l&&s&&(t==null?void 0:t.user)&&M(Kr.Provider,{value:t,children:[o(fr,{}),c?M(Md,{children:[o(le,{onClick:p,css:ee("align-self:flex-start;margin-left:",m.spacings["5x"],";margin-top:",m.spacings["2x"],";margin-bottom:",m.spacings["1x"],";",""),content:"icon-left",size:"regular",variant:"tertiary",icon:o(_n,{color:"ui_050"}),children:o(U,{..._d.back})}),o(Ii,{fromIntegration:{type:"popup"},projectPopdownPosition:{left:-40,top:40},tagPopdownPosition:{left:-40,top:40},durationPopdownPosition:{left:-21,top:33,width:342}})]}):o(ed,{})]})]})})},Md=v("div",{target:"e1af74ft0"})("height:100%;width:100%;display:flex;flex-direction:column;align-items:center;background:",m.colors.surface_secondary.regular,";position:relative;");function Pd(){Qo.loadAll();const e=document.querySelector("#__root");if(!e)throw new Error("Can't find Popup root element");Ko(e).render(o(Yo,{children:o(an,{client:Zo,children:o(sn,{value:ln,children:o(pt,{injectCSSVarAsGlobal:!0,children:o(An,{children:o(Dn,{children:o(Xo,{position:"bottom",children:o(Id,{})})})})})})})}))}Pd();
//# sourceMappingURL=index.js.map

(()=>{var e={260:(e,t,n)=>{var r,i,s;!function(a){"use strict";if(null!=t&&"number"!=typeof t.nodeType)e.exports=a();else if(null!=n.amdO)i=[],void 0===(s="function"==typeof(r=a)?r.apply(t,i):r)||(e.exports=s);else{var o=a(),l="undefined"!=typeof self?self:$.global;"function"!=typeof l.btoa&&(l.btoa=o.btoa),"function"!=typeof l.atob&&(l.atob=o.atob)}}((function(){"use strict";var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function t(e){this.message=e}return t.prototype=new Error,t.prototype.name="InvalidCharacterError",{btoa:function(n){for(var r,i,s=String(n),a=0,o=e,l="";s.charAt(0|a)||(o="=",a%1);l+=o.charAt(63&r>>8-a%1*8)){if((i=s.charCodeAt(a+=3/4))>255)throw new t("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");r=r<<8|i}return l},atob:function(n){var r=String(n).replace(/[=]+$/,"");if(r.length%4==1)throw new t("'atob' failed: The string to be decoded is not correctly encoded.");for(var i,s,a=0,o=0,l="";s=r.charAt(o++);~s&&(i=a%4?64*i+s:s,a++%4)?l+=String.fromCharCode(255&i>>(-2*a&6)):0)s=e.indexOf(s);return l}}}))},102:(e,t,n)=>{var r=n(260),i=n(608),s=n(545),a=null;if(null==s||0==s.length)throw"Raw configuration object is null or empty. CI job configuration is invalid";try{a=JSON.parse(r.atob(s))}catch(e){throw`Failed to parse configuration object into JSON: ${e}`}var o={$raw:s};for(let[e,t]of Object.entries(a))o[e]=t;0===Object.keys(o).length&&o.constructor,o.keyExists=function(e){return!(null==o||!i.has(o,e))},o.key=function(e){return null!=o&&i.has(o,e)?o[e]:null},o.getKeys=function(){return null!=o?Object.keys(o):null},e.exports=o},545:e=>{e.exports="eyJDSUJ1aWxkTnVtYmVyIjoiNyIsIkNJQnVpbGRWZXJzaW9uIjoiNC4xOCIsIkNvbmZpZ3VyYXRpb25OYW1lIjoiUmVsZWFzZSIsIkV4dGVuc2lvbkhvbWVwYWdlIjoiaHR0cHM6Ly93d3cuYW50LmNvbS92aWRlby1kb3dubG9hZGVyIiwiRXh0ZW5zaW9uSWQiOiJla29pbWZta2VpZ2pvb2JrcGxlcGxwZmphaGxqY2RsYSIsIkV4dGVuc2lvbkluc3RhbGxlZFBhZ2VVcmxDUlgiOiJodHRwczovL3d3dy5hbnQuY29tL3ZpZGVvLWRvd25sb2FkZXIvY3J4LWluc3RhbGxlZC8/dmVyc2lvbj0iLCJFeHRlbnNpb25JbnN0YWxsZWRQYWdlVXJsTVNFREdFIjoiaHR0cHM6Ly93d3cuYW50LmNvbS92aWRlby1kb3dubG9hZGVyL21zZWRnZS1pbnN0YWxsZWQvP3ZlcnNpb249IiwiRXh0ZW5zaW9uSW5zdGFsbGVkUGFnZVVybE5FWCI6Imh0dHBzOi8vd3d3LmFudC5jb20vdmlkZW8tZG93bmxvYWRlci9uZXgtaW5zdGFsbGVkLz92ZXJzaW9uPSIsIkV4dGVuc2lvbkluc3RhbGxlZFBhZ2VVcmxYUEkiOiJodHRwczovL3d3dy5hbnQuY29tL3ZpZGVvLWRvd25sb2FkZXIveHBpLWluc3RhbGxlZC8/dmVyc2lvbj0iLCJFeHRlbnNpb25LZXkiOiJNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQTdlVXY5YTUvdTJ1c0pIZ3k4V0EyRVZTVXo2Z1gxaTJobDJjdFo5aXVEZTdEcTREMmxMcUc0UkwxYmdFT01LSWRlRGpCeVRxQ29RUlZ3QnhSMWwrVGFMRlgzMm1wNWM1M0w2NHZPSGlCdmxTbGdCdXNmQURIZjdnNldiMEtYYnFvSTNsUUh1QmRzWlJSVnFBMFQ3eGVSU1FtbmcrL0pjbk44OXVGYmJuUnliZE5Sdk5xZmJIcG55VnpjajVCVVozVkt5S3I0VVRhKzQyVm1QZElBVzRQTVRKbFlvNVdyRnd4a3JRaWJpOTgwL0lmOFVPRjNEd2hQZytsN2RzS0dXZTFJS1N2R3ZKZzVWNDBDVFZlNU9OeVExYWdKTG56WjZXaFJSTzNTS21vVVF4aFV4QWI5TXd3clUzcldFbWNXam1hQ0JvRDYvVXcwbGRscDJXckd0L3Rmd0lEQVFBQiIsIkV4dGVuc2lvbktleU1TRWRnZSI6Ik1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBbnNyKzhWTjNpdDZ0SDFpZ2lybno1QVNLOG9icGxrZTkwRjdwOUl5dFFEWmFrQTBuZkNwQmhzRENzRjRrdlNyQ0JZNzFsOWZubERRc1VIUHBBKzNHVEhXL3hMSlNQWjZDbURFbldIVzBOTGhYcEhzMys2K1FYaXpES1VHRm1xVXRWM1ZTSnkrZUNETk9DTFFJb0N3dGJSUmlBRWRZVWRMN3FzeE9HN2ZNb2tZaW1ZaGVhb2UzRko3L05UMVdyUE1GRWFXUlEzNGY0WkdkVGk3R3J0eU5VQXpzUXJPb3pCUmRqYjBXZnJoRGxWaksyc2VUYXpDZmIwVnNUcVNnamxqYytxMzUwS0RIeE82RHBSNGdzTTYxQVZyVDJUUXlSTldBQkZkbFNWMy9meXIyS3JWM0xZOWJYSnRXY01iL2hWcVJpSWYyczRHdGFVM0tleUZ2WGpJSVVRSURBUUFCIiwiRXh0ZW5zaW9uVGl0bGUiOiJBbnQgVmlkZW8gZG93bmxvYWRlciIsIkV4dGVuc2lvblVuaW5zdGFsbGVkUGFnZVVybENSWCI6Imh0dHBzOi8vd3d3LmFudC5jb20vdmlkZW8tZG93bmxvYWRlci9jcngtdW5pbnN0YWxsZWQvP3ZlcnNpb249IiwiRXh0ZW5zaW9uVW5pbnN0YWxsZWRQYWdlVXJsTVNFREdFIjoiaHR0cHM6Ly93d3cuYW50LmNvbS92aWRlby1kb3dubG9hZGVyL21zZWRnZS11bmluc3RhbGxlZC8/dmVyc2lvbj0iLCJFeHRlbnNpb25Vbmluc3RhbGxlZFBhZ2VVcmxORVgiOiJodHRwczovL3d3dy5hbnQuY29tL3ZpZGVvLWRvd25sb2FkZXIvbmV4LXVuaW5zdGFsbGVkLz92ZXJzaW9uPSIsIkV4dGVuc2lvblVuaW5zdGFsbGVkUGFnZVVybFhQSSI6Imh0dHBzOi8vd3d3LmFudC5jb20vdmlkZW8tZG93bmxvYWRlci94cGktdW5pbnN0YWxsZWQvP3ZlcnNpb249IiwiRXh0ZW5zaW9uVXBkYXRlVXJsQ3J4IjoiaHR0cHM6Ly93d3cuYW50LmNvbS92aWRlby1kb3dubG9hZGVyL2V4dGVuc2lvbi9jcngvdXBkYXRlLnhtbCIsIk1vekFwcGxpY2F0aW9uSWQiOiJhbnR0b29sYmFyQGFudC5jb20iLCJNb3pBcHBsaWNhdGlvblN0cmljdE1pblZlcnNpb24iOiI1Ny4wIiwiTmF0aXZlQXBwQWxsb3dlZENocm9taXVtT3JpZ2lucyI6ImVrb2ltZm1rZWlnam9vYmtwbGVwbHBmamFobGpjZGxhOyBlbGxtaG9vb2tnb2psZGlpa29hbmJoamplY25sa25hZDsgb3Bva2VmY2xjZ2xuaGVtbGxibHBlYmlkbmttbW5nbG0iLCJOYXRpdmVBcHBXaW4zMkxhdGVzdFVybCI6Imh0dHBzOi8vd3d3LmFudC5jb20vdmlkZW8tZG93bmxvYWRlci9uYXRpdmUvd2luZG93cy9sYXRlc3QiLCJOYXRpdmVBcHBXaW4zMlVwZGF0ZVVybCI6Imh0dHBzOi8vd3d3LmFudC5jb20vdmlkZW8tZG93bmxvYWRlci9uYXRpdmUvd2luZG93cy91cGRhdGUifQ=="},681:e=>{e.exports={general:{},nativeApp:{},extension:{startup:{},privacy:{allowDataSentToNA:"settings.extension.privacy.allowDataSentToNA",storeDownloadsInPrivate:{mode:"settings.extension.privacy.storeDownloadsInPrivate.mode",ModeNone:"storeDownloadsInPrivateNone",ModeInMemory:"storeDownloadsInPrivateInMemory",ModeInStorage:"storeDownloadsInPrivateInStorage"}},videoDetector:{enable:"settings.extension.videoDetector.enable",cyclicBuffer:{mode:"settings.extension.videoDetector.cyclicBuffer.mode",ModeNone:"cyclicBufferModeNone",PerTab:"cyclicBufferModePerTab",PerBrowser:"cyclicBufferModePerBrowser",perTab:{limit:"settings.extension.videoDetector.cyclicBuffer.perTab.limit"},perBrowser:{limit:"settings.extension.videoDetector.cyclicBuffer.perBrowser.limit"}},protocols:{clearDetectedOnDisable:"settings.extension.videoDetector.protocols.clearDetectedOnDisable",clearDetectedOnMute:"settings.extension.videoDetector.protocols.clearDetectedOnMute",yt:{enable:"settings.extension.videoDetector.protocols.yt.enable",decipherStreamUrls:"settings.extension.videoDetector.protocols.yt.decipherStreamUrls"},ytnp:{enable:"settings.extension.videoDetector.protocols.ytnp.enable"},hls:{enable:"settings.extension.videoDetector.protocols.hls.enable"},vimeo:{enable:"settings.extension.videoDetector.protocols.vimeo.enable"},mpd:{enable:"settings.extension.videoDetector.protocols.mpd.enable",ignoreUnsupported:"settings.extension.videoDetector.protocols.mpd.ignoreUnsupported"},scoring:{enable:"settings.extension.videoDetector.protocols.scoring.enable",detector:{ignore:{noSize:"settings.extension.videoDetector.protocols.scoring.detector.ignore.noSize",zeroSize:"settings.extension.videoDetector.protocols.scoring.detector.ignore.zeroSize",lessThanSize:{enabled:"settings.extension.videoDetector.protocols.scoring.detector.ignore.lessThanSize.enabled",limit:"settings.extension.videoDetector.protocols.scoring.detector.ignore.lessThanSize.limit",LimitDefault:2097152},octetStreamNoFile:"settings.extension.videoDetector.protocols.scoring.detector.ignore.octetStreamNoFile"}}}}},downloads:{private:{mode:"settings.extension.downloads.private.mode",ModeAskEachTime:"settings.extension.downloads.private.ModeAskEachTime",ModeUseNormalLocation:"settings.extension.downloads.private.ModeUseNormalLocation",ModeUseCustomLocation:"settings.extension.downloads.private.ModeUseCustomLocation"}},frontend:{theme:"settings.extension.frontend.theme",ThemeAuto:"ThemeAuto",ThemeLight:"ThemeLight",ThemeDark:"ThemeDark",downloads:{alerts:{noNAForYourSystemYet:{show:"settings.extension.frontend.downloads.alerts.noNAForYourSystemYet.show"},NAIsOutdated:{show:"settings.extension.frontend.downloads.alerts.NAIsOutdated.show"},idleVideosNotShown:{show:"settings.extension.frontend.downloads.alerts.idleVideosNotShown.show"},incognitoMode:{promote:{show:"settings.extension.frontend.downloads.alerts.incognitoMode.promote.show"},downloadsAreDisabled:{show:"settings.extension.frontend.downloads.alerts.incognitoMode.downloadsAreDisabled.show"}}},nav:{showFilterByState:"settings.extension.frontend.downloads.nav.showFilterByState",showFilterByProtocol:"settings.extension.frontend.downloads.nav.showFilterByProtocol",showFilterByTab:"settings.extension.frontend.downloads.nav.showFilterByTab",showFilterByWebsite:"settings.extension.frontend.downloads.nav.showFilterByWebsite"},videoList:{showIdleVideos:"settings.extension.frontend.downloads.videoList.showIdleVideos"},showGoToTabButton:"settings.extension.frontend.downloads.showGoToTabButton"},settings:{alerts:{reloadToTakeEffect:{show:"settings.extension.frontend.settings.alerts.reloadToTakeEffect.show"},settingsAffectBothModes:{show:"settings.extension.frontend.settings.alerts.settingsAffectBothModes.show"}}},popup:{downloadsCounter:{show:"settings.extension.frontend.popup.downloadsCounter.show"},browserServicePage:{},videoNotFound:{},videoDetected:{closeOnStartDownload:"settings.extension.frontend.popup.videoDetected.closeOnStartDownload",toolbar:{display:"settings.extension.frontend.popup.videoDetected.toolbar.display"},video:{sortQualities:{enable:"settings.extension.frontend.popup.videoDetected.video.sortQualities.enable",order:{bestQualitiesAtTheEnd:"settings.extension.frontend.popup.videoDetected.video.sortQualities.order.bestQualitiesAtTheEnd"}},preselectBestQuality:"settings.extension.frontend.popup.videoDetected.video.preselectBestQuality",showFilesize:"settings.extension.frontend.popup.videoDetected.video.showFilesize"},videoList:{sortVideos:{doSort:"settings.extension.frontend.popup.videoDetected.videoList.sortVideos.doSort",order:{newVideosComeFirst:"settings.extension.frontend.popup.videoDetected.videoList.sortVideos.order.newVideosComeFirst"}},limit:{enable:"settings.extension.frontend.popup.videoDetected.videoList.limit.enable",count:"settings.extension.frontend.popup.videoDetected.videoList.limit.count"},yt:{showChannelName:"settings.extension.frontend.popup.videoDetected.videoList.yt.showChannelName",preferred:{container:"settings.extension.frontend.popup.videoDetected.videoList.yt.preferred.container",ContainerAll:"settings.extension.frontend.popup.videoDetected.videoList.yt.preferred.ContainerAll",ContainerDirect:"settings.extension.frontend.popup.videoDetected.videoList.yt.preferred.ContainerDirect",ContainerMP4:"settings.extension.frontend.popup.videoDetected.videoList.yt.preferred.ContainerMP4",ContainerWEBM:"settings.extension.frontend.popup.videoDetected.videoList.yt.preferred.ContainerWEBM",ContainerDownloadAudio:"settings.extension.frontend.popup.videoDetected.videoList.yt.preferred.ContainerDownloadAudio",ContainerConvertAudio:"settings.extension.frontend.popup.videoDetected.videoList.yt.preferred.ContainerConvertAudio"}},ytnp:{alwaysOnTop:"settings.extension.frontend.popup.videoDetected.videoList.ytnp.alwaysOnTop",displayWarningOnIncompatibleStreams:"settings.extension.frontend.popup.videoDetected.videoList.ytnp.displayWarningOnIncompatibleStreams"}}}}}}}},651:e=>{e.exports=e=>new Promise((t=>setTimeout(t,e)))},447:e=>{var t=Array.prototype.slice;function n(e){var n=this,i=t.call(arguments,1);return new Promise((function(t,s){if("function"==typeof e&&(e=e.apply(n,i)),!e||"function"!=typeof e.next)return t(e);function a(t){var n;try{n=e.next(t)}catch(e){return s(e)}c(n)}function l(t){var n;try{n=e.throw(t)}catch(e){return s(e)}c(n)}function c(e){if(e.done)return t(e.value);var i=r.call(n,e.value);return i&&o(i)?i.then(a,l):l(new TypeError('You may only yield a function, promise, generator, array, or object, but the following object was passed: "'+String(e.value)+'"'))}a()}))}function r(e){return e?o(e)?e:function(e){var t=e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName||l(t.prototype))}(e)||l(e)?n.call(this,e):"function"==typeof e?i.call(this,e):Array.isArray(e)?s.call(this,e):function(e){return Object==e.constructor}(e)?a.call(this,e):e:e}function i(e){var n=this;return new Promise((function(r,i){e.call(n,(function(e,n){if(e)return i(e);arguments.length>2&&(n=t.call(arguments,1)),r(n)}))}))}function s(e){return Promise.all(e.map(r,this))}function a(e){for(var t=new e.constructor,n=Object.keys(e),i=[],s=0;s<n.length;s++){var a=n[s],l=r.call(this,e[a]);l&&o(l)?c(l,a):t[a]=e[a]}return Promise.all(i).then((function(){return t}));function c(e,n){t[n]=void 0,i.push(e.then((function(e){t[n]=e})))}}function o(e){return"function"==typeof e.then}function l(e){return"function"==typeof e.next&&"function"==typeof e.throw}e.exports=n.default=n.co=n,n.wrap=function(e){return t.__generatorFunction__=e,t;function t(){return n.call(this,e.apply(this,arguments))}}},750:e=>{var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=t},966:e=>{!function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],r=0;r<e.length;r+=3)for(var i=e[r]<<16|e[r+1]<<8|e[r+2],s=0;s<4;s++)8*r+6*s<=8*e.length?n.push(t.charAt(i>>>6*(3-s)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,i=0;r<e.length;i=++r%4)0!=i&&n.push((t.indexOf(e.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|t.indexOf(e.charAt(r))>>>6-2*i);return n}};e.exports=n}()},29:(e,t,n)=>{!function(){var t=n(966),r=n(750).utf8,i=n(750).bin,s=function(e,n){var s=t.wordsToBytes(function(e){e.constructor==String?e=r.stringToBytes(e):"undefined"!=typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());var n=t.bytesToWords(e),i=8*e.length,s=[],a=1732584193,o=-271733879,l=-1732584194,c=271733878,u=-1009589776;n[i>>5]|=128<<24-i%32,n[15+(i+64>>>9<<4)]=i;for(var h=0;h<n.length;h+=16){for(var p=a,d=o,f=l,m=c,g=u,y=0;y<80;y++){if(y<16)s[y]=n[h+y];else{var v=s[y-3]^s[y-8]^s[y-14]^s[y-16];s[y]=v<<1|v>>>31}var b=(a<<5|a>>>27)+u+(s[y]>>>0)+(y<20?1518500249+(o&l|~o&c):y<40?1859775393+(o^l^c):y<60?(o&l|o&c|l&c)-1894007588:(o^l^c)-899497514);u=c,c=l,l=o<<30|o>>>2,o=a,a=b}a+=p,o+=d,l+=f,c+=m,u+=g}return[a,o,l,c,u]}(e));return n&&n.asBytes?s:n&&n.asString?i.bytesToString(s):t.bytesToHex(s)};s._blocksize=16,s._digestsize=20,e.exports=s}()},812:function(e,t,n){e.exports=function(e){"use strict";var t=Object.freeze({__proto__:null,get FunctionDeclaration(){return de},get VariableDeclaration(){return fe},get VariableDeclarator(){return me},get ClassDeclaration(){return ge},get ClassBody(){return ye},get MethodDefinition(){return ve}}),r=Object.freeze({__proto__:null,get FunctionDeclaration(){return Fe},get VariableDeclaration(){return Ue},get VariableDeclarator(){return je},get ClassDeclaration(){return He},get ClassBody(){return qe},get MethodDefinition(){return We}}),i=Object.freeze,s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,o=Object.prototype.hasOwnProperty;function l(e,t){return o.call(e,t)}var c=Object.getOwnPropertyNames,u=Object.setPrototypeOf;var h=Object.getPrototypeOf;function p(e){return h?h(e):e.__proto__}var d=Object.getOwnPropertyDescriptor;function f(e,t,n){for(;t;){var r=d(t,n),i=void 0!==r&&void 0===r.writable&&"function"==typeof r[e]&&r[e];if(i)return i;t=p(t)}}function m(e,t){return f("get",e,t)}function g(e,t){return f("set",e,t)}var y=Object.create;function v(e,t){(function(e,t){u?u(e,t):e.__proto__=t})(e,t),e.prototype=y(t.prototype,{constructor:{value:e,writable:!0}})}var b=Object.assign||function(e){for(var t=1;t<arguments.length;++t){var n=arguments[t];for(var r in n)l(n,r)&&(e[r]=n[r])}return e},x=[],w=y(null);try{if(!window.Object)throw 0;x=c(w=window).filter((function(e){return"webkitStorageInfo"!==e}))}catch(e){try{if(!n.g.Object)throw 0;x=c(w=n.g).filter((function(e){return"GLOBAL"!==e&&"root"!==e}))}catch(e){try{w.Object=Object}catch(e){}try{w.Function=Function}catch(e){}try{w.Array=Array}catch(e){}try{w.Number=Number}catch(e){}try{w.parseFloat=parseFloat}catch(e){}try{w.parseInt=parseInt}catch(e){}try{w.Infinity=Infinity}catch(e){}try{w.NaN=NaN}catch(e){}try{w.undefined=void 0}catch(e){}try{w.Boolean=Boolean}catch(e){}try{w.String=String}catch(e){}try{w.Symbol=Symbol}catch(e){}try{w.Date=Date}catch(e){}try{w.Promise=Promise}catch(e){}try{w.RegExp=RegExp}catch(e){}try{w.Error=Error}catch(e){}try{w.EvalError=EvalError}catch(e){}try{w.RangeError=RangeError}catch(e){}try{w.ReferenceError=ReferenceError}catch(e){}try{w.SyntaxError=SyntaxError}catch(e){}try{w.TypeError=TypeError}catch(e){}try{w.URIError=URIError}catch(e){}try{w.JSON=JSON}catch(e){}try{w.Math=Math}catch(e){}try{w.console=console}catch(e){}try{w.Intl=Intl}catch(e){}try{w.ArrayBuffer=ArrayBuffer}catch(e){}try{w.Uint8Array=Uint8Array}catch(e){}try{w.Int8Array=Int8Array}catch(e){}try{w.Uint16Array=Uint16Array}catch(e){}try{w.Int16Array=Int16Array}catch(e){}try{w.Uint32Array=Uint32Array}catch(e){}try{w.Int32Array=Int32Array}catch(e){}try{w.Float32Array=Float32Array}catch(e){}try{w.Float64Array=Float64Array}catch(e){}try{w.Uint8ClampedArray=Uint8ClampedArray}catch(e){}try{w.DataView=DataView}catch(e){}try{w.Map=Map}catch(e){}try{w.Set=Set}catch(e){}try{w.WeakMap=WeakMap}catch(e){}try{w.WeakSet=WeakSet}catch(e){}try{w.Proxy=Proxy}catch(e){}try{w.Reflect=Reflect}catch(e){}try{w.decodeURI=decodeURI}catch(e){}try{w.decodeURIComponent=decodeURIComponent}catch(e){}try{w.encodeURI=encodeURI}catch(e){}try{w.encodeURIComponent=encodeURIComponent}catch(e){}try{w.escape=escape}catch(e){}try{w.unescape=unescape}catch(e){}try{w.eval=eval}catch(e){}try{w.isFinite=isFinite}catch(e){}try{w.isNaN=isNaN}catch(e){}try{w.SharedArrayBuffer=SharedArrayBuffer}catch(e){}try{w.Atomics=Atomics}catch(e){}try{w.WebAssembly=WebAssembly}catch(e){}try{w.clearInterval=clearInterval}catch(e){}try{w.clearTimeout=clearTimeout}catch(e){}try{w.setInterval=setInterval}catch(e){}try{w.setTimeout=setTimeout}catch(e){}try{w.crypto=crypto}catch(e){}x=c(w)}}w.Symbol&&(!w.Symbol.iterator&&(w.Symbol.iterator=C("iterator")),!w.Symbol.asyncIterator&&(w.Symbol.asyncIterator=C("asynciterator")));for(var _=y({}),k=0;k<x.length;k++){var S=x[k];try{_[S]=w[S]}catch(e){}}var E=C("window");function I(){var e;return b(y(((e={})[E]=w,e)),_)}function C(e){return e+Math.random().toString(36).substring(2)}var P={RES:void 0},A={RES:void 0},T=C("continue"),V=C("break"),D=C("super"),R=C("supercall"),N=C("noctor"),L=C("clsctor"),M=C("newtarget"),O=C("noinit"),B=C("deadzone"),F=function(){function e(e,t){this.kind=e,this.value=t}return e.prototype.get=function(){return this.value},e.prototype.set=function(e){if("const"===this.kind)throw new TypeError("Assignment to constant variable");return this.value=e},e}(),U=function(){function e(e,t){this.object=e,this.property=t}return e.prototype.get=function(){return this.object[this.property]},e.prototype.set=function(e){return this.object[this.property]=e,!0},e.prototype.del=function(){return delete this.object[this.property]},e}(),j=function(){function e(e,t){void 0===e&&(e=null),void 0===t&&(t=!1),this.context=y(null),this.parent=e,this.isolated=t}return e.prototype.global=function(){for(var e=this;e.parent;)e=e.parent;return e},e.prototype.clone=function(){var t=new e(this.parent,this.isolated);for(var n in this.context){var r=this.context[n];t[r.kind](n,r.get())}return t},e.prototype.find=function(e){if(this.context[e])return this.context[e];if(this.parent)return this.parent.find(e);var t=this.global().find("window").get();return e in t?new U(t,e):null},e.prototype.var=function(e,t){for(var n=this;n.parent&&!n.isolated;)n=n.parent;var r=n.context[e];if(r){if("var"!==r.kind)throw new SyntaxError("Identifier '"+e+"' has already been declared");t!==O&&r.set(t)}else n.context[e]=new F("var",t===O?void 0:t);if(!n.parent){var i=n.find("window").get();t!==O&&s(i,e,{value:t,writable:!0,enumerable:!0})}},e.prototype.let=function(e,t){var n=this.context[e];if(n&&n.get()!==B)throw new SyntaxError("Identifier '"+e+"' has already been declared");this.context[e]=new F("let",t)},e.prototype.const=function(e,t){var n=this.context[e];if(n&&n.get()!==B)throw new SyntaxError("Identifier '"+e+"' has already been declared");this.context[e]=new F("const",t)},e.prototype.func=function(e,t){var n=this.context[e];if(n&&"var"!==n.kind)throw new SyntaxError("Identifier '"+e+"' has already been declared");this.context[e]=new F("var",t)},e}();function H(e,t){var n,r,i,s,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}}function q(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function W(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return a}function z(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(W(arguments[t]));return e}function $(e,t,n){void 0===n&&(n={});var r=n.getVar,i=void 0!==r&&r,s=n.throwErr,a=void 0===s||s;if("undefined"!==e.name){var o=t.find(e.name);if(o){if(i)return o;var l=o.get();if(l===B)throw new ReferenceError(e.name+" is not defined");return l}if(a)throw new ReferenceError(e.name+" is not defined")}}var G=Object.freeze({__proto__:null,Identifier:$});function Q(e,t){return e.value}var Z=Object.freeze({__proto__:null,Literal:Q});function Y(e,t,n){void 0===n&&(n={});var r,i,a=n.getObj,o=void 0!==a&&a,l=n.getVar,c=void 0!==l&&l;if(r="Super"===e.object.type?J(e.object,t,{getProto:!0}):pe(e.object,t),o)return r;if(i=e.computed?pe(e.property,t):e.property.name,c){var u=g(r,i);if("Super"===e.object.type&&u){var h=t.find("this").get(),p=C(i);return s(h,p,{set:u}),new U(h,p)}return new U(r,i)}var d=m(r,i);return"Super"===e.object.type&&d?(h=t.find("this").get(),d.call(h)):r[i]}function K(e,t){return e.value.raw}function J(e,t,n){void 0===n&&(n={});var r=n.getProto,i=void 0!==r&&r,s=t.find(D).get();return i?s.prototype:s}function X(e,t){return pe(e.argument,t)}var ee=Object.freeze({__proto__:null,ThisExpression:function(e,t){var n=t.find(R);if(n&&!n.get())throw new ReferenceError("Must call super constructor in derived class before accessing 'this' or returning from derived constructor");return t.find("this").get()},ArrayExpression:function(e,t){for(var n=[],r=0;r<e.elements.length;r++){var i=e.elements[r];"SpreadElement"===i.type?n=n.concat(X(i,t)):n.push(pe(i,t))}return n},ObjectExpression:function(e,t){for(var n={},r=0;r<e.properties.length;r++){var i=e.properties[r];if("SpreadElement"===i.type)b(n,X(i,t));else{var o,l=i.key;o=i.computed?pe(l,t):"Identifier"===l.type?l.name:""+Q(l);var c=pe(i.value,t),u=i.kind;if("init"===u)n[o]=c;else if("get"===u){var h=a(n,o);s(n,o,{get:c,set:h&&h.set,enumerable:!0,configurable:!0})}else h=a(n,o),s(n,o,{get:h&&h.get,set:c,enumerable:!0,configurable:!0})}}return n},FunctionExpression:function(e,t){if(e.id&&e.id.name){var n=new j(t),r=tt(e,n);return n.const(e.id.name,r),r}return tt(e,t)},UnaryExpression:function(e,t){var n=e.argument;switch(e.operator){case"+":return+pe(n,t);case"-":return-pe(n,t);case"!":return!pe(n,t);case"~":return~pe(n,t);case"void":return void pe(n,t);case"typeof":return"Identifier"===n.type?typeof $(n,t,{throwErr:!1}):typeof pe(n,t);case"delete":if("MemberExpression"===n.type)return Y(n,t,{getVar:!0}).del();if("Identifier"===n.type)throw new SyntaxError("Delete of an unqualified identifier in strict mode");return pe(n,t),!0;default:throw new SyntaxError("Unexpected token "+e.operator)}},UpdateExpression:function(e,t){var n,r=e.argument;if("Identifier"===r.type)n=$(r,t,{getVar:!0});else{if("MemberExpression"!==r.type)throw new SyntaxError("Unexpected token");n=Y(r,t,{getVar:!0})}var i=n.get();if("++"===e.operator)return n.set(i+1),e.prefix?n.get():i;if("--"===e.operator)return n.set(i-1),e.prefix?n.get():i;throw new SyntaxError("Unexpected token "+e.operator)},BinaryExpression:function(e,t){var n=pe(e.left,t),r=pe(e.right,t);switch(e.operator){case"==":return n==r;case"!=":return n!=r;case"===":return n===r;case"!==":return n!==r;case"<":return n<r;case"<=":return n<=r;case">":return n>r;case">=":return n>=r;case"<<":return n<<r;case">>":return n>>r;case">>>":return n>>>r;case"+":return n+r;case"-":return n-r;case"*":return n*r;case"**":return Math.pow(n,r);case"/":return n/r;case"%":return n%r;case"|":return n|r;case"^":return n^r;case"&":return n&r;case"in":return n in r;case"instanceof":return n instanceof r;default:throw new SyntaxError("Unexpected token "+e.operator)}},AssignmentExpression:function(e,t){var n,r=pe(e.right,t),i=e.left;if("Identifier"===i.type){if(!(n=$(i,t,{getVar:!0,throwErr:!1}))){var s=t.global().find("window").get();n=new U(s,i.name)}}else{if("MemberExpression"!==i.type)return et(i,t,{feed:r});n=Y(i,t,{getVar:!0})}switch(e.operator){case"=":return n.set(r),n.get();case"+=":return n.set(n.get()+r),n.get();case"-=":return n.set(n.get()-r),n.get();case"*=":return n.set(n.get()*r),n.get();case"/=":return n.set(n.get()/r),n.get();case"%=":return n.set(n.get()%r),n.get();case"**=":return n.set(Math.pow(n.get(),r)),n.get();case"<<=":return n.set(n.get()<<r),n.get();case">>=":return n.set(n.get()>>r),n.get();case">>>=":return n.set(n.get()>>>r),n.get();case"|=":return n.set(n.get()|r),n.get();case"^=":return n.set(n.get()^r),n.get();case"&=":return n.set(n.get()&r),n.get();default:throw new SyntaxError("Unexpected token "+e.operator)}},LogicalExpression:function(e,t){switch(e.operator){case"||":return pe(e.left,t)||pe(e.right,t);case"&&":return pe(e.left,t)&&pe(e.right,t);default:throw new SyntaxError("Unexpected token "+e.operator)}},MemberExpression:Y,ConditionalExpression:function(e,t){return pe(e.test,t)?pe(e.consequent,t):pe(e.alternate,t)},CallExpression:function(e,t){var n,r;if("MemberExpression"===e.callee.type){r=Y(e.callee,t,{getObj:!0});var i;if(i=e.callee.computed?pe(e.callee.property,t):e.callee.property.name,"Super"===e.callee.object.type){var s=t.find("this").get();n=r[i].bind(s)}else n=r[i];if("function"!=typeof n)throw new TypeError(i+" is not a function");if(n[L])throw new TypeError("Class constructor "+i+" cannot be invoked without 'new'")}else if(r=t.find("this").get(),"function"!=typeof(n=pe(e.callee,t))||"Super"!==e.callee.type&&n[L]){var a;if("Identifier"===e.callee.type)a=e.callee.name;else try{a=JSON.stringify(n)}catch(e){a=""+n}throw"function"!=typeof n?new TypeError(a+" is not a function"):new TypeError("Class constructor "+a+" cannot be invoked without 'new'")}for(var o=[],l=0;l<e.arguments.length;l++){var c=e.arguments[l];"SpreadElement"===c.type?o=o.concat(X(c,t)):o.push(pe(c,t))}if("Super"===e.callee.type){if(t.find(R).get())throw new ReferenceError("Super constructor may only be called once");t.find(R).set(!0)}return r&&r[E]&&-1!==n.toString().indexOf("[native code]")?n.apply(r[E],o):n.apply(r,o)},NewExpression:function(e,t){var n=pe(e.callee,t);if("function"!=typeof n){var r;if("Identifier"===e.callee.type)r=e.callee.name;else try{r=JSON.stringify(n)}catch(e){r=""+n}throw new TypeError(r+" is not a constructor")}if(n[N])throw new TypeError((n.name||"(intermediate value)")+" is not a constructor");for(var i=[],s=0;s<e.arguments.length;s++){var a=e.arguments[s];"SpreadElement"===a.type?i=i.concat(X(a,t)):i.push(pe(a,t))}return new(n.bind.apply(n,z([void 0],i)))},MetaProperty:function(e,t){return t.find(M).get()},SequenceExpression:function(e,t){for(var n,r=0;r<e.expressions.length;r++)n=pe(e.expressions[r],t);return n},ArrowFunctionExpression:function(e,t){return tt(e,t)},TemplateLiteral:function(e,t){for(var n,r,i=e.quasis.slice(),s=e.expressions.slice(),a="";n=i.shift();)a+=K(n),(r=s.shift())&&(a+=pe(r,t));return a},TaggedTemplateExpression:function(e,t){var n=pe(e.tag,t),r=e.quasi.quasis,a=r.map((function(e){return e.value.cooked})),o=r.map((function(e){return e.value.raw}));s(a,"raw",{value:i(o)});var l=e.quasi.expressions,c=[];if(l)for(var u=0;u<l.length;u++)c.push(pe(l[u],t));return n.apply(void 0,z([i(a)],c))},TemplateElement:K,ClassExpression:function(e,t){if(e.id&&e.id.name){var n=new j(t),r=nt(e,n);return n.const(e.id.name,r),r}return nt(e,t)},Super:J,SpreadElement:X});function te(e,t,n){void 0===n&&(n={});var r=n.invasived,i=void 0!==r&&r,s=n.hoisted,a=void 0!==s&&s,o=i?t:new j(t);a||Je(e,o,{onlyBlock:!0});for(var l=0;l<e.body.length;l++){var c=pe(e.body[l],o);if(c===V||c===T||c===A)return c}}function ne(e,t){for(var n=0;n<e.consequent.length;n++){var r=pe(e.consequent[n],t);if(r===V||r===T||r===A)return r}}function re(e,t){return te(e.body,t,{invasived:!0})}var ie=Object.freeze({__proto__:null,ExpressionStatement:function(e,t){pe(e.expression,t)},BlockStatement:te,EmptyStatement:function(){},DebuggerStatement:function(){},ReturnStatement:function(e,t){return A.RES=e.argument?pe(e.argument,t):void 0,A},BreakStatement:function(){return V},ContinueStatement:function(){return T},IfStatement:function(e,t){return pe(e.test,t)?pe(e.consequent,t):pe(e.alternate,t)},SwitchStatement:function(e,t){for(var n=pe(e.discriminant,t),r=!1,i=0;i<e.cases.length;i++){var s=e.cases[i];if(r||s.test&&pe(s.test,t)!==n||(r=!0),r){var a=ne(s,t);if(a===V)break;if(a===T||a===A)return a}}},SwitchCase:ne,ThrowStatement:function(e,t){throw pe(e.argument,t)},TryStatement:function(e,t){try{return te(e.block,t)}catch(s){if(e.handler){var n=new j(t),r=e.handler.param;if(r)if("Identifier"===r.type){var i=r.name;n.var(i,s)}else et(r,t,{feed:s});return re(e.handler,n)}throw s}finally{if(e.finalizer){var s=te(e.finalizer,t);if(s===V||s===T||s===A)return s}}},CatchClause:re,WhileStatement:function(e,t){for(;pe(e.test,t);){var n=pe(e.body,t);if(n===V)break;if(n!==T&&n===A)return n}},DoWhileStatement:function(e,t){do{var n=pe(e.body,t);if(n===V)break;if(n!==T&&n===A)return n}while(pe(e.test,t))},ForStatement:function(e,t){var n=new j(t);for(pe(e.init,n);!e.test||pe(e.test,n);pe(e.update,n)){var r,i=new j(n);if((r="BlockStatement"===e.body.type?te(e.body,i,{invasived:!0}):pe(e.body,i))===V)break;if(r!==T&&r===A)return r}},ForInStatement:function(e,t){for(var n in pe(e.right,t)){var r=rt(e,t,{value:n});if(r===V)break;if(r!==T&&r===A)return r}},ForOfStatement:function(e,t){var n,r,i=pe(e.right,t);try{for(var s=q(i),a=s.next();!a.done;a=s.next()){var o=rt(e,t,{value:a.value});if(o===V)break;if(o!==T&&o===A)return o}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}});function se(e,t,n){void 0===n&&(n={});for(var r=n.kind,i=void 0===r?"var":r,s=n.hoist,a=void 0!==s&&s,o=n.onlyBlock,l=void 0!==o&&o,c=n.feed,u=void 0===c?{}:c,h=[],p=0;p<e.properties.length;p++){var d=e.properties[p];if(a)(l||"var"===i)&&("Property"===d.type?"Identifier"===(f=d.value).type?t[i](f.name,l?B:"var"===i?O:void 0):et(f,t,{kind:i,hoist:a,onlyBlock:l}):oe(d,t,{kind:i,hoist:a,onlyBlock:l}));else if("Property"===d.type){var f,m;m=d.computed?pe(d.key,t):d.key.name,h.push(m),"Identifier"===(f=d.value).type?t[i](f.name,u[m]):et(f,t,{kind:i,feed:u[m]})}else{for(var g=b({},u),y=0;y<h.length;y++)delete g[h[y]];oe(d,t,{kind:i,feed:g})}}}function ae(e,t,n){void 0===n&&(n={});for(var r=n.kind,i=n.hoist,s=void 0!==i&&i,a=n.onlyBlock,o=void 0!==a&&a,l=n.feed,c=void 0===l?[]:l,u=[],h=0;h<e.elements.length;h++){var p=e.elements[h];if(p)if(s)(o||"var"===r)&&("Identifier"===p.type?t[r](p.name,o?B:"var"===r?O:void 0):et(p,t,{kind:r,hoist:s,onlyBlock:o}));else if("Identifier"===p.type)if(r)t[r](p.name,c[h]);else{var d=$(p,t,{getVar:!0});d.set(c[h]),u.push(d.get())}else"RestElement"===p.type?oe(p,t,{kind:r,feed:c.slice(h)}):et(p,t,{kind:r,feed:c[h]})}if(u.length)return u}function oe(e,t,n){void 0===n&&(n={});var r=n.kind,i=n.hoist,s=void 0!==i&&i,a=n.onlyBlock,o=void 0!==a&&a,l=n.feed,c=void 0===l?[]:l,u=e.argument;s?(o||"var"===r)&&("Identifier"===u.type?t[r](u.name,o?B:"var"===r?O:void 0):et(u,t,{kind:r,hoist:s,onlyBlock:o})):"Identifier"===u.type?r?t[r](u.name,c):$(u,t,{getVar:!0}).set(c):et(u,t,{kind:r,feed:c})}function le(e,t,n){void 0===n&&(n={});var r=n.kind,i=void 0===r?"var":r,s=n.hoist,a=void 0!==s&&s,o=n.onlyBlock,l=void 0!==o&&o,c=n.feed,u=void 0===c?pe(e.right,t):c,h=e.left;a?(l||"var"===i)&&("Identifier"===h.type?t[i](h.name,l?B:"var"===i?O:void 0):et(h,t,{kind:i,hoist:a,onlyBlock:l})):"Identifier"===h.type?t[i](h.name,u):et(h,t,{kind:i,feed:u})}var ce=Object.freeze({__proto__:null,ObjectPattern:se,ArrayPattern:ae,RestElement:oe,AssignmentPattern:le});var ue,he=Object.freeze({__proto__:null,Program:function(e,t){for(var n=0;n<e.body.length;n++)pe(e.body[n],t)}});function pe(e,n){if(e){ue||(ue=b({},t,ee,G,ie,Z,ce,he));var r=ue[e.type];if(r)return r(e,n);throw new Error(e.type+" isn't implemented")}}function de(e,t){t.func(e.id.name,tt(e,t))}function fe(e,t,n){void 0===n&&(n={});for(var r=0;r<e.declarations.length;r++)me(e.declarations[r],t,b({kind:e.kind},n))}function me(e,t,n){void 0===n&&(n={});var r=n.kind,i=void 0===r?"var":r,a=n.hoist,o=void 0!==a&&a,l=n.onlyBlock,c=void 0!==l&&l,u=n.feed;if(o)(c||"var"===i)&&("Identifier"===e.id.type?t[i](e.id.name,c?B:"var"===i?O:void 0):et(e.id,t,{kind:i,hoist:o,onlyBlock:c}));else{var h="feed"in n,p=h?u:pe(e.init,t);if("Identifier"===e.id.type){var d=e.id.name;"var"!==i||e.init||h?t[i](d,p):t.var(d,O),e.init&&-1!==["ClassExpression","FunctionExpression","ArrowFunctionExpression"].indexOf(e.init.type)&&!p.name&&s(p,"name",{value:d,configurable:!0})}else et(e.id,t,{kind:i,feed:p})}}function ge(e,t){t.func(e.id.name,nt(e,t))}function ye(e,t,n){void 0===n&&(n={});for(var r=n.klass,i=n.superClass,s=0;s<e.body.length;s++)ve(e.body[s],t,{klass:r,superClass:i})}function ve(e,t,n){void 0===n&&(n={});var r,i=n.klass,o=n.superClass;if(e.computed)r=pe(e.key,t);else{if("Identifier"!==e.key.type)throw new SyntaxError("Unexpected token");r=e.key.name}var l=e.static?i:i.prototype,c=tt(e.value,t,{superClass:o});switch(e.kind){case"constructor":break;case"method":s(l,r,{value:c,writable:!0,configurable:!0});break;case"get":var u=a(l,r);s(l,r,{get:c,set:u&&u.set,configurable:!0});break;case"set":u=a(l,r),s(l,r,{get:u&&u.get,set:c,configurable:!0});break;default:throw new SyntaxError("Unexpected token")}}function be(e,t,n){var r,i,s,a,o,l;return void 0===n&&(n={}),H(this,(function(c){if(r=n.getVar,i=void 0!==r&&r,s=n.throwErr,a=void 0===s||s,"undefined"===e.name)return[2,void 0];if(o=t.find(e.name)){if(i)return[2,o];if((l=o.get())===B)throw new ReferenceError(e.name+" is not defined");return[2,l]}if(a)throw new ReferenceError(e.name+" is not defined");return[2,void 0]}))}var xe=Object.freeze({__proto__:null,Identifier:be});function we(e,t){return H(this,(function(t){return[2,e.value]}))}var _e=Object.freeze({__proto__:null,Literal:we});function ke(e,t,n){var r,i,a,o,l,c,u,h,p,d;return void 0===n&&(n={}),H(this,(function(f){switch(f.label){case 0:return r=n.getObj,i=void 0!==r&&r,a=n.getVar,o=void 0!==a&&a,"Super"!==e.object.type?[3,2]:[5,q(Ee(e.object,t,{getProto:!0}))];case 1:return l=f.sent(),[3,4];case 2:return[5,q(Be(e.object,t))];case 3:l=f.sent(),f.label=4;case 4:return i?[2,l]:e.computed?[5,q(Be(e.property,t))]:[3,6];case 5:return c=f.sent(),[3,7];case 6:c=e.property.name,f.label=7;case 7:return o?(u=g(l,c),"Super"===e.object.type&&u?(d=t.find("this").get(),h=C(c),s(d,h,{set:u}),[2,new U(d,h)]):[2,new U(l,c)]):(p=m(l,c),"Super"===e.object.type&&p?(d=t.find("this").get(),[2,p.call(d)]):[2,l[c]])}}))}function Se(e,t){return H(this,(function(t){return[2,e.value.raw]}))}function Ee(e,t,n){var r,i,s;return void 0===n&&(n={}),H(this,(function(e){return r=n.getProto,i=void 0!==r&&r,s=t.find(D).get(),[2,i?s.prototype:s]}))}function Ie(e,t){return H(this,(function(n){switch(n.label){case 0:return[5,q(Be(e.argument,t))];case 1:return[2,n.sent()]}}))}var Ce=Object.freeze({__proto__:null,ThisExpression:function(e,t){var n;return H(this,(function(e){if((n=t.find(R))&&!n.get())throw new ReferenceError("Must call super constructor in derived class before accessing 'this' or returning from derived constructor");return[2,t.find("this").get()]}))},ArrayExpression:function(e,t){var n,r,i,s,a,o,l;return H(this,(function(c){switch(c.label){case 0:n=[],r=0,c.label=1;case 1:return r<e.elements.length?"SpreadElement"!==(i=e.elements[r]).type?[3,3]:(a=(s=n).concat,[5,q(Ie(i,t))]):[3,6];case 2:return n=a.apply(s,[c.sent()]),[3,5];case 3:return l=(o=n).push,[5,q(Be(i,t))];case 4:l.apply(o,[c.sent()]),c.label=5;case 5:return r++,[3,1];case 6:return[2,n]}}))},ObjectExpression:function(e,t){var n,r,i,o,l,c,u,h,p,d,f;return H(this,(function(m){switch(m.label){case 0:n={},r=0,m.label=1;case 1:return r<e.properties.length?"SpreadElement"!==(i=e.properties[r]).type?[3,3]:(o=b,l=[n],[5,q(Ie(i,t))]):[3,11];case 2:return o.apply(void 0,l.concat([m.sent()])),[3,10];case 3:return c=void 0,u=i.key,i.computed?[5,q(Be(u,t))]:[3,5];case 4:return c=m.sent(),[3,8];case 5:return"Identifier"!==u.type?[3,6]:(c=u.name,[3,8]);case 6:return h="",[5,q(we(u))];case 7:c=h+m.sent(),m.label=8;case 8:return[5,q(Be(i.value,t))];case 9:p=m.sent(),"init"===(d=i.kind)?n[c]=p:"get"===d?(f=a(n,c),s(n,c,{get:p,set:f&&f.set,enumerable:!0,configurable:!0})):(f=a(n,c),s(n,c,{get:f&&f.get,set:p,enumerable:!0,configurable:!0})),m.label=10;case 10:return r++,[3,1];case 11:return[2,n]}}))},FunctionExpression:function(e,t){var n,r;return H(this,(function(i){return e.id&&e.id.name?(n=new j(t),r=Ze(e,n),n.const(e.id.name,r),[2,r]):[2,Ze(e,t)]}))},UnaryExpression:function(e,t){var n;return H(this,(function(r){switch(r.label){case 0:switch(n=e.argument,e.operator){case"+":return[3,1];case"-":return[3,3];case"!":return[3,5];case"~":return[3,7];case"void":return[3,9];case"typeof":return[3,11];case"delete":return[3,15]}return[3,20];case 1:case 3:case 5:case 7:case 9:case 13:case 18:return[5,q(Be(n,t))];case 2:return[2,+r.sent()];case 4:return[2,-r.sent()];case 6:return[2,!r.sent()];case 8:return[2,~r.sent()];case 10:return[2,void r.sent()];case 11:return"Identifier"!==n.type?[3,13]:[5,q(be(n,t,{throwErr:!1}))];case 12:case 14:return[2,typeof r.sent()];case 15:return"MemberExpression"!==n.type?[3,17]:[5,q(ke(n,t,{getVar:!0}))];case 16:return[2,r.sent().del()];case 17:if("Identifier"!==n.type)return[3,18];throw new SyntaxError("Delete of an unqualified identifier in strict mode");case 19:return r.sent(),[2,!0];case 20:throw new SyntaxError("Unexpected token "+e.operator)}}))},UpdateExpression:function(e,t){var n,r,i;return H(this,(function(s){switch(s.label){case 0:return"Identifier"!==(n=e.argument).type?[3,2]:[5,q(be(n,t,{getVar:!0}))];case 1:case 3:return r=s.sent(),[3,5];case 2:return"MemberExpression"!==n.type?[3,4]:[5,q(ke(n,t,{getVar:!0}))];case 4:throw new SyntaxError("Unexpected token");case 5:if(i=r.get(),"++"===e.operator)return r.set(i+1),[2,e.prefix?r.get():i];if("--"===e.operator)return r.set(i-1),[2,e.prefix?r.get():i];throw new SyntaxError("Unexpected token "+e.operator)}}))},BinaryExpression:function(e,t){var n,r;return H(this,(function(i){switch(i.label){case 0:return[5,q(Be(e.left,t))];case 1:return n=i.sent(),[5,q(Be(e.right,t))];case 2:switch(r=i.sent(),e.operator){case"==":return[2,n==r];case"!=":return[2,n!=r];case"===":return[2,n===r];case"!==":return[2,n!==r];case"<":return[2,n<r];case"<=":return[2,n<=r];case">":return[2,n>r];case">=":return[2,n>=r];case"<<":return[2,n<<r];case">>":return[2,n>>r];case">>>":return[2,n>>>r];case"+":return[2,n+r];case"-":return[2,n-r];case"*":return[2,n*r];case"**":return[2,Math.pow(n,r)];case"/":return[2,n/r];case"%":return[2,n%r];case"|":return[2,n|r];case"^":return[2,n^r];case"&":return[2,n&r];case"in":return[2,n in r];case"instanceof":return[2,n instanceof r];default:throw new SyntaxError("Unexpected token "+e.operator)}}}))},AssignmentExpression:function(e,t){var n,r,i,s;return H(this,(function(a){switch(a.label){case 0:return[5,q(Be(e.right,t))];case 1:return n=a.sent(),"Identifier"!==(r=e.left).type?[3,3]:[5,q(be(r,t,{getVar:!0,throwErr:!1}))];case 2:return(i=a.sent())||(s=t.global().find("window").get(),i=new U(s,r.name)),[3,7];case 3:return"MemberExpression"!==r.type?[3,5]:[5,q(ke(r,t,{getVar:!0}))];case 4:return i=a.sent(),[3,7];case 5:return[5,q(Qe(r,t,{feed:n}))];case 6:return[2,a.sent()];case 7:switch(e.operator){case"=":return i.set(n),[2,i.get()];case"+=":return i.set(i.get()+n),[2,i.get()];case"-=":return i.set(i.get()-n),[2,i.get()];case"*=":return i.set(i.get()*n),[2,i.get()];case"/=":return i.set(i.get()/n),[2,i.get()];case"%=":return i.set(i.get()%n),[2,i.get()];case"**=":return i.set(Math.pow(i.get(),n)),[2,i.get()];case"<<=":return i.set(i.get()<<n),[2,i.get()];case">>=":return i.set(i.get()>>n),[2,i.get()];case">>>=":return i.set(i.get()>>>n),[2,i.get()];case"|=":return i.set(i.get()|n),[2,i.get()];case"^=":return i.set(i.get()^n),[2,i.get()];case"&=":return i.set(i.get()&n),[2,i.get()];default:throw new SyntaxError("Unexpected token "+e.operator)}}}))},LogicalExpression:function(e,t){var n,r;return H(this,(function(i){switch(i.label){case 0:switch(e.operator){case"||":return[3,1];case"&&":return[3,5]}return[3,9];case 1:return[5,q(Be(e.left,t))];case 2:return(n=i.sent())?[3,4]:[5,q(Be(e.right,t))];case 3:n=i.sent(),i.label=4;case 4:return[2,n];case 5:return[5,q(Be(e.left,t))];case 6:return(r=i.sent())?[5,q(Be(e.right,t))]:[3,8];case 7:r=i.sent(),i.label=8;case 8:return[2,r];case 9:throw new SyntaxError("Unexpected token "+e.operator)}}))},MemberExpression:ke,ConditionalExpression:function(e,t){var n;return H(this,(function(r){switch(r.label){case 0:return[5,q(Be(e.test,t))];case 1:return r.sent()?[5,q(Be(e.consequent,t))]:[3,3];case 2:return n=r.sent(),[3,5];case 3:return[5,q(Be(e.alternate,t))];case 4:n=r.sent(),r.label=5;case 5:return[2,n]}}))},CallExpression:function(e,t){var n,r,i,s,a,o,l,c,u,h,p,d;return H(this,(function(f){switch(f.label){case 0:return"MemberExpression"!==e.callee.type?[3,5]:[5,q(ke(e.callee,t,{getObj:!0}))];case 1:return r=f.sent(),i=void 0,e.callee.computed?[5,q(Be(e.callee.property,t))]:[3,3];case 2:return i=f.sent(),[3,4];case 3:i=e.callee.property.name,f.label=4;case 4:if("Super"===e.callee.object.type?(s=t.find("this").get(),n=r[i].bind(s)):n=r[i],"function"!=typeof n)throw new TypeError(i+" is not a function");if(n[L])throw new TypeError("Class constructor "+i+" cannot be invoked without 'new'");return[3,7];case 5:return r=t.find("this").get(),[5,q(Be(e.callee,t))];case 6:if("function"!=typeof(n=f.sent())||"Super"!==e.callee.type&&n[L]){if("Identifier"===e.callee.type)a=e.callee.name;else try{a=JSON.stringify(n)}catch(e){a=""+n}throw"function"!=typeof n?new TypeError(a+" is not a function"):new TypeError("Class constructor "+a+" cannot be invoked without 'new'")}f.label=7;case 7:o=[],l=0,f.label=8;case 8:return l<e.arguments.length?"SpreadElement"!==(c=e.arguments[l]).type?[3,10]:(h=(u=o).concat,[5,q(Ie(c,t))]):[3,13];case 9:return o=h.apply(u,[f.sent()]),[3,12];case 10:return d=(p=o).push,[5,q(Be(c,t))];case 11:d.apply(p,[f.sent()]),f.label=12;case 12:return l++,[3,8];case 13:if("Super"===e.callee.type){if(t.find(R).get())throw new ReferenceError("Super constructor may only be called once");t.find(R).set(!0)}return r&&r[E]&&-1!==n.toString().indexOf("[native code]")?[2,n.apply(r[E],o)]:[2,n.apply(r,o)]}}))},NewExpression:function(e,t){var n,r,i,s,a,o,l,c,u;return H(this,(function(h){switch(h.label){case 0:return[5,q(Be(e.callee,t))];case 1:if("function"!=typeof(n=h.sent())){if("Identifier"===e.callee.type)r=e.callee.name;else try{r=JSON.stringify(n)}catch(e){r=""+n}throw new TypeError(r+" is not a constructor")}if(n[N])throw new TypeError((n.name||"(intermediate value)")+" is not a constructor");i=[],s=0,h.label=2;case 2:return s<e.arguments.length?"SpreadElement"!==(a=e.arguments[s]).type?[3,4]:(l=(o=i).concat,[5,q(Ie(a,t))]):[3,7];case 3:return i=l.apply(o,[h.sent()]),[3,6];case 4:return u=(c=i).push,[5,q(Be(a,t))];case 5:u.apply(c,[h.sent()]),h.label=6;case 6:return s++,[3,2];case 7:return[2,new(n.bind.apply(n,z([void 0],i)))]}}))},MetaProperty:function(e,t){return H(this,(function(e){return[2,t.find(M).get()]}))},SequenceExpression:function(e,t){var n,r;return H(this,(function(i){switch(i.label){case 0:r=0,i.label=1;case 1:return r<e.expressions.length?[5,q(Be(e.expressions[r],t))]:[3,4];case 2:n=i.sent(),i.label=3;case 3:return r++,[3,1];case 4:return[2,n]}}))},ArrowFunctionExpression:function(e,t){return H(this,(function(n){return[2,Ze(e,t)]}))},TemplateLiteral:function(e,t){var n,r,i,s,a,o,l;return H(this,(function(c){switch(c.label){case 0:n=e.quasis.slice(),r=e.expressions.slice(),i="",c.label=1;case 1:return(s=n.shift())?(o=i,[5,q(Se(s))]):[3,5];case 2:return i=o+c.sent(),(a=r.shift())?(l=i,[5,q(Be(a,t))]):[3,4];case 3:i=l+c.sent(),c.label=4;case 4:return[3,1];case 5:return[2,i]}}))},TaggedTemplateExpression:function(e,t){var n,r,a,o,l,c,u,h,p;return H(this,(function(d){switch(d.label){case 0:return[5,q(Be(e.tag,t))];case 1:if(n=d.sent(),r=e.quasi.quasis,a=r.map((function(e){return e.value.cooked})),o=r.map((function(e){return e.value.raw})),s(a,"raw",{value:i(o)}),l=e.quasi.expressions,c=[],!l)return[3,5];u=0,d.label=2;case 2:return u<l.length?(p=(h=c).push,[5,q(Be(l[u],t))]):[3,5];case 3:p.apply(h,[d.sent()]),d.label=4;case 4:return u++,[3,2];case 5:return[2,n.apply(void 0,z([i(a)],c))]}}))},TemplateElement:Se,ClassExpression:function(e,t){var n,r;return H(this,(function(i){switch(i.label){case 0:return e.id&&e.id.name?(n=new j(t),[5,q(Ye(e,n))]):[3,2];case 1:return r=i.sent(),n.const(e.id.name,r),[2,r];case 2:return[5,q(Ye(e,t))];case 3:return[2,i.sent()]}}))},Super:Ee,SpreadElement:Ie,YieldExpression:function(e,t){var n,r;return H(this,(function(i){switch(i.label){case 0:return[5,q(Be(e.argument,t))];case 1:return n=i.sent(),e.delegate?[5,q(n)]:[3,3];case 2:return r=i.sent(),[3,5];case 3:return[4,n];case 4:r=i.sent(),i.label=5;case 5:return[2,r]}}))},AwaitExpression:function(e,t){var n;return H(this,(function(r){switch(r.label){case 0:return n=P,[5,q(Be(e.argument,t))];case 1:return n.RES=r.sent(),[4,P];case 2:return[2,r.sent()]}}))}});function Pe(e,t,n){var r,i,s,a,o,l,c;return void 0===n&&(n={}),H(this,(function(u){switch(u.label){case 0:return r=n.invasived,i=void 0!==r&&r,s=n.hoisted,a=void 0!==s&&s,o=i?t:new j(t),a?[3,2]:[5,q($e(e,o,{onlyBlock:!0}))];case 1:u.sent(),u.label=2;case 2:l=0,u.label=3;case 3:return l<e.body.length?[5,q(Be(e.body[l],o))]:[3,6];case 4:if((c=u.sent())===V||c===T||c===A)return[2,c];u.label=5;case 5:return l++,[3,3];case 6:return[2]}}))}function Ae(e,t){var n,r;return H(this,(function(i){switch(i.label){case 0:n=0,i.label=1;case 1:return n<e.consequent.length?[5,q(Be(e.consequent[n],t))]:[3,4];case 2:if((r=i.sent())===V||r===T||r===A)return[2,r];i.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}function Te(e,t){return H(this,(function(n){switch(n.label){case 0:return[5,q(Pe(e.body,t,{invasived:!0}))];case 1:return[2,n.sent()]}}))}var Ve=Object.freeze({__proto__:null,ExpressionStatement:function(e,t){return H(this,(function(n){switch(n.label){case 0:return[5,q(Be(e.expression,t))];case 1:return n.sent(),[2]}}))},BlockStatement:Pe,EmptyStatement:function(){return H(this,(function(e){return[2]}))},DebuggerStatement:function(){return H(this,(function(e){return[2]}))},ReturnStatement:function(e,t){var n,r;return H(this,(function(i){switch(i.label){case 0:return n=A,e.argument?[5,q(Be(e.argument,t))]:[3,2];case 1:return r=i.sent(),[3,3];case 2:r=void 0,i.label=3;case 3:return n.RES=r,[2,A]}}))},BreakStatement:function(){return H(this,(function(e){return[2,V]}))},ContinueStatement:function(){return H(this,(function(e){return[2,T]}))},IfStatement:function(e,t){return H(this,(function(n){switch(n.label){case 0:return[5,q(Be(e.test,t))];case 1:return n.sent()?[5,q(Be(e.consequent,t))]:[3,3];case 2:case 4:return[2,n.sent()];case 3:return[5,q(Be(e.alternate,t))]}}))},SwitchStatement:function(e,t){var n,r,i,s,a,o,l;return H(this,(function(c){switch(c.label){case 0:return[5,q(Be(e.discriminant,t))];case 1:n=c.sent(),r=!1,i=0,c.label=2;case 2:return i<e.cases.length?(s=e.cases[i],(a=!r)?(o=!s.test)?[3,4]:[5,q(Be(s.test,t))]:[3,5]):[3,8];case 3:o=c.sent()===n,c.label=4;case 4:a=o,c.label=5;case 5:return a&&(r=!0),r?[5,q(Ae(s,t))]:[3,7];case 6:if((l=c.sent())===V)return[3,8];if(l===T||l===A)return[2,l];c.label=7;case 7:return i++,[3,2];case 8:return[2]}}))},SwitchCase:Ae,ThrowStatement:function(e,t){return H(this,(function(n){switch(n.label){case 0:return[5,q(Be(e.argument,t))];case 1:throw n.sent()}}))},TryStatement:function(e,t){var n,r,i,s,a;return H(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,9,12]),[5,q(Pe(e.block,t))];case 1:return[2,o.sent()];case 2:return n=o.sent(),e.handler?(r=new j(t),(i=e.handler.param)?"Identifier"!==i.type?[3,3]:(s=i.name,r.var(s,n),[3,5]):[3,5]):[3,7];case 3:return[5,q(Qe(i,t,{feed:n}))];case 4:o.sent(),o.label=5;case 5:return[5,q(Te(e.handler,r))];case 6:return[2,o.sent()];case 7:throw n;case 8:return[3,12];case 9:return e.finalizer?[5,q(Pe(e.finalizer,t))]:[3,11];case 10:if((a=o.sent())===V||a===T||a===A)return[2,a];o.label=11;case 11:return[7];case 12:return[2]}}))},CatchClause:Te,WhileStatement:function(e,t){var n;return H(this,(function(r){switch(r.label){case 0:return[5,q(Be(e.test,t))];case 1:return r.sent()?[5,q(Be(e.body,t))]:[3,3];case 2:return(n=r.sent())===V?[3,3]:n===T?[3,0]:n===A?[2,n]:[3,0];case 3:return[2]}}))},DoWhileStatement:function(e,t){var n;return H(this,(function(r){switch(r.label){case 0:return[5,q(Be(e.body,t))];case 1:if((n=r.sent())===V)return[3,4];if(n===T)return[3,2];if(n===A)return[2,n];r.label=2;case 2:return[5,q(Be(e.test,t))];case 3:if(r.sent())return[3,0];r.label=4;case 4:return[2]}}))},ForStatement:function(e,t){var n,r,i,s;return H(this,(function(a){switch(a.label){case 0:return n=new j(t),[5,q(Be(e.init,n))];case 1:a.sent(),a.label=2;case 2:return e.test?[5,q(Be(e.test,n))]:[3,4];case 3:return r=a.sent(),[3,5];case 4:r=!0,a.label=5;case 5:return r?(i=new j(n),s=void 0,"BlockStatement"!==e.body.type?[3,7]:[5,q(Pe(e.body,i,{invasived:!0}))]):[3,12];case 6:return s=a.sent(),[3,9];case 7:return[5,q(Be(e.body,i))];case 8:s=a.sent(),a.label=9;case 9:if(s===V)return[3,12];if(s===T)return[3,10];if(s===A)return[2,s];a.label=10;case 10:return[5,q(Be(e.update,n))];case 11:return a.sent(),[3,2];case 12:return[2]}}))},ForInStatement:function(e,t){var n,r,i,s,a;return H(this,(function(o){switch(o.label){case 0:return n=[],[5,q(Be(e.right,t))];case 1:for(r in o.sent())n.push(r);i=0,o.label=2;case 2:return i<n.length?(s=n[i],[5,q(Ke(e,t,{value:s}))]):[3,5];case 3:if((a=o.sent())===V)return[3,5];if(a===T)return[3,4];if(a===A)return[2,a];o.label=4;case 4:return i++,[3,2];case 5:return[2]}}))},ForOfStatement:function(e,t){var n,r,i,s,a,o,l,c,u,h;return H(this,(function(p){switch(p.label){case 0:return[5,q(Be(e.right,t))];case 1:return n=p.sent(),e.await?(r=function(e){var t;if("function"==typeof Symbol&&!(t=e[Symbol.asyncIterator])&&(t=e[Symbol.iterator]),t)return t.call(e);if("function"==typeof e.next)return e;var n=0;return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}(n),i=void 0,P.RES=r.next(),[4,P]):[3,8];case 2:i=p.sent(),p.label=3;case 3:return i.done?[3,7]:[5,q(Ke(e,t,{value:i.value}))];case 4:if((l=p.sent())===V)return[3,7];if(l===T)return[3,5];if(l===A)return[2,l];p.label=5;case 5:return P.RES=r.next(),[4,P];case 6:return i=p.sent(),[3,3];case 7:return[3,15];case 8:p.trys.push([8,13,14,15]),s=q(n),a=s.next(),p.label=9;case 9:return a.done?[3,12]:(o=a.value,[5,q(Ke(e,t,{value:o}))]);case 10:if((l=p.sent())===V)return[3,12];if(l===T)return[3,11];if(l===A)return[2,l];p.label=11;case 11:return a=s.next(),[3,9];case 12:return[3,15];case 13:return c=p.sent(),u={error:c},[3,15];case 14:try{a&&!a.done&&(h=s.return)&&h.call(s)}finally{if(u)throw u.error}return[7];case 15:return[2]}}))}});function De(e,t,n){var r,i,s,a,o,l,c,u,h,p,d,f,m,g,y;return void 0===n&&(n={}),H(this,(function(v){switch(v.label){case 0:r=n.kind,i=void 0===r?"var":r,s=n.hoist,a=void 0!==s&&s,o=n.onlyBlock,l=void 0!==o&&o,c=n.feed,u=void 0===c?{}:c,h=[],p=0,v.label=1;case 1:return p<e.properties.length?(d=e.properties[p],a?l||"var"===i?"Property"!==d.type?[3,5]:"Identifier"!==(m=d.value).type?[3,2]:(t[i](m.name,l?B:"var"===i?O:void 0),[3,4]):[3,7]:[3,8]):[3,18];case 2:return[5,q(Qe(m,t,{kind:i,hoist:a,onlyBlock:l}))];case 3:v.sent(),v.label=4;case 4:return[3,7];case 5:return[5,q(Ne(d,t,{kind:i,hoist:a,onlyBlock:l}))];case 6:v.sent(),v.label=7;case 7:return[3,17];case 8:return"Property"!==d.type?[3,15]:(f=void 0,d.computed?[5,q(Be(d.key,t))]:[3,10]);case 9:return f=v.sent(),[3,11];case 10:f=d.key.name,v.label=11;case 11:return h.push(f),"Identifier"!==(m=d.value).type?[3,12]:(t[i](m.name,u[f]),[3,14]);case 12:return[5,q(Qe(m,t,{kind:i,feed:u[f]}))];case 13:v.sent(),v.label=14;case 14:return[3,17];case 15:for(g=b({},u),y=0;y<h.length;y++)delete g[h[y]];return[5,q(Ne(d,t,{kind:i,feed:g}))];case 16:v.sent(),v.label=17;case 17:return p++,[3,1];case 18:return[2]}}))}function Re(e,t,n){var r,i,s,a,o,l,c,u,h,p,d;return void 0===n&&(n={}),H(this,(function(f){switch(f.label){case 0:r=n.kind,i=n.hoist,s=void 0!==i&&i,a=n.onlyBlock,o=void 0!==a&&a,l=n.feed,c=void 0===l?[]:l,u=[],h=0,f.label=1;case 1:return h<e.elements.length?(p=e.elements[h])?s?o||"var"===r?"Identifier"!==p.type?[3,2]:(t[r](p.name,o?B:"var"===r?O:void 0),[3,4]):[3,4]:[3,5]:[3,13]:[3,14];case 2:return[5,q(Qe(p,t,{kind:r,hoist:s,onlyBlock:o}))];case 3:f.sent(),f.label=4;case 4:return[3,13];case 5:return"Identifier"!==p.type?[3,9]:r?(t[r](p.name,c[h]),[3,8]):[3,6];case 6:return[5,q(be(p,t,{getVar:!0}))];case 7:(d=f.sent()).set(c[h]),u.push(d.get()),f.label=8;case 8:return[3,13];case 9:return"RestElement"!==p.type?[3,11]:[5,q(Ne(p,t,{kind:r,feed:c.slice(h)}))];case 10:return f.sent(),[3,13];case 11:return[5,q(Qe(p,t,{kind:r,feed:c[h]}))];case 12:f.sent(),f.label=13;case 13:return h++,[3,1];case 14:return u.length?[2,u]:[2]}}))}function Ne(e,t,n){var r,i,s,a,o,l,c,u;return void 0===n&&(n={}),H(this,(function(h){switch(h.label){case 0:return r=n.kind,i=n.hoist,s=void 0!==i&&i,a=n.onlyBlock,o=void 0!==a&&a,l=n.feed,c=void 0===l?[]:l,u=e.argument,s?o||"var"===r?"Identifier"!==u.type?[3,1]:(t[r](u.name,o?B:"var"===r?O:void 0),[3,3]):[3,3]:[3,4];case 1:return[5,q(Qe(u,t,{kind:r,hoist:s,onlyBlock:o}))];case 2:h.sent(),h.label=3;case 3:return[3,10];case 4:return"Identifier"!==u.type?[3,8]:r?(t[r](u.name,c),[3,7]):[3,5];case 5:return[5,q(be(u,t,{getVar:!0}))];case 6:h.sent().set(c),h.label=7;case 7:return[3,10];case 8:return[5,q(Qe(u,t,{kind:r,feed:c}))];case 9:h.sent(),h.label=10;case 10:return[2]}}))}function Le(e,t,n){var r,i,s,a,o,l,c,u,h,p;return void 0===n&&(n={}),H(this,(function(d){switch(d.label){case 0:return r=n.kind,i=void 0===r?"var":r,s=n.hoist,a=void 0!==s&&s,o=n.onlyBlock,l=void 0!==o&&o,void 0!==(c=n.feed)?[3,2]:[5,q(Be(e.right,t))];case 1:return h=d.sent(),[3,3];case 2:h=c,d.label=3;case 3:return u=h,p=e.left,a?l||"var"===i?"Identifier"!==p.type?[3,4]:(t[i](p.name,l?B:"var"===i?O:void 0),[3,6]):[3,6]:[3,7];case 4:return[5,q(Qe(p,t,{kind:i,hoist:a,onlyBlock:l}))];case 5:d.sent(),d.label=6;case 6:return[3,10];case 7:return"Identifier"!==p.type?[3,8]:(t[i](p.name,u),[3,10]);case 8:return[5,q(Qe(p,t,{kind:i,feed:u}))];case 9:d.sent(),d.label=10;case 10:return[2]}}))}var Me,Oe=Object.freeze({__proto__:null,ObjectPattern:De,ArrayPattern:Re,RestElement:Ne,AssignmentPattern:Le});function Be(e,t){var n;return H(this,(function(i){switch(i.label){case 0:return e?(Me||(Me=b({},r,Ce,xe,Ve,_e,Oe)),(n=Me[e.type])?[5,q(n(e,t))]:[3,2]):[2];case 1:return[2,i.sent()];case 2:throw new Error(e.type+" isn't implemented")}}))}function Fe(e,t){return H(this,(function(n){return t.func(e.id.name,Ze(e,t)),[2]}))}function Ue(e,t,n){var r;return void 0===n&&(n={}),H(this,(function(i){switch(i.label){case 0:r=0,i.label=1;case 1:return r<e.declarations.length?[5,q(je(e.declarations[r],t,b({kind:e.kind},n)))]:[3,4];case 2:i.sent(),i.label=3;case 3:return r++,[3,1];case 4:return[2]}}))}function je(e,t,n){var r,i,a,o,l,c,u,h,p,d,f;return void 0===n&&(n={}),H(this,(function(m){switch(m.label){case 0:return r=n.kind,i=void 0===r?"var":r,a=n.hoist,o=void 0!==a&&a,l=n.onlyBlock,c=void 0!==l&&l,u=n.feed,o?c||"var"===i?"Identifier"!==e.id.type?[3,1]:(t[i](e.id.name,c?B:"var"===i?O:void 0),[3,3]):[3,3]:[3,4];case 1:return[5,q(Qe(e.id,t,{kind:i,hoist:o,onlyBlock:c}))];case 2:m.sent(),m.label=3;case 3:return[3,10];case 4:return(h="feed"in n)?(d=u,[3,7]):[3,5];case 5:return[5,q(Be(e.init,t))];case 6:d=m.sent(),m.label=7;case 7:return p=d,"Identifier"!==e.id.type?[3,8]:(f=e.id.name,"var"!==i||e.init||h?t[i](f,p):t.var(f,O),e.init&&-1!==["ClassExpression","FunctionExpression","ArrowFunctionExpression"].indexOf(e.init.type)&&!p.name&&s(p,"name",{value:f,configurable:!0}),[3,10]);case 8:return[5,q(Qe(e.id,t,{kind:i,feed:p}))];case 9:m.sent(),m.label=10;case 10:return[2]}}))}function He(e,t){var n,r,i;return H(this,(function(s){switch(s.label){case 0:return r=(n=t).func,i=[e.id.name],[5,q(Ye(e,t))];case 1:return r.apply(n,i.concat([s.sent()])),[2]}}))}function qe(e,t,n){var r,i,s;return void 0===n&&(n={}),H(this,(function(a){switch(a.label){case 0:r=n.klass,i=n.superClass,s=0,a.label=1;case 1:return s<e.body.length?[5,q(We(e.body[s],t,{klass:r,superClass:i}))]:[3,4];case 2:a.sent(),a.label=3;case 3:return s++,[3,1];case 4:return[2]}}))}function We(e,t,n){var r,i,o,l,c,u;return void 0===n&&(n={}),H(this,(function(h){switch(h.label){case 0:return r=n.klass,i=n.superClass,e.computed?[5,q(Be(e.key,t))]:[3,2];case 1:return o=h.sent(),[3,3];case 2:if("Identifier"!==e.key.type)throw new SyntaxError("Unexpected token");o=e.key.name,h.label=3;case 3:switch(l=e.static?r:r.prototype,c=Ze(e.value,t,{superClass:i}),e.kind){case"constructor":break;case"method":s(l,o,{value:c,writable:!0,configurable:!0});break;case"get":u=a(l,o),s(l,o,{get:c,set:u&&u.set,configurable:!0});break;case"set":u=a(l,o),s(l,o,{get:u&&u.get,set:c,configurable:!0});break;default:throw new SyntaxError("Unexpected token")}return[2]}}))}function ze(e,t){void 0===t&&(t={});var n=t.res,r=t.err,i=t.ret,s=t.fullRet;return new Promise((function(a,o){if("ret"in t)return a(e.return(i));function l(t){var n;try{n=e.next(t)}catch(e){return o(e)}return u(n),null}function c(t){var n;try{n=e.throw(t)}catch(e){return o(e)}u(n)}function u(e){if(e.done)return a(s?e:e.value);if(e.value!==P)return a(e);var t=e.value.RES;return(t&&"function"===t.then?t:Promise.resolve(t)).then(l,c)}"err"in t?c(r):l(n)}))}function $e(e,t,n){var r,i,s,a,o,l;return void 0===n&&(n={}),H(this,(function(c){switch(c.label){case 0:r=n.onlyBlock,i=void 0!==r&&r,s=[],a=[],l=0,c.label=1;case 1:return l<e.body.length?"FunctionDeclaration"!==(o=e.body[l]).type?[3,2]:(s.push(o),a.push(l),[3,6]):[3,7];case 2:return"VariableDeclaration"!==o.type||-1===["const","let"].indexOf(o.kind)?[3,4]:[5,q(Ue(o,t,{hoist:!0,onlyBlock:!0}))];case 3:return c.sent(),[3,6];case 4:return i?[3,6]:[5,q(Ge(o,t))];case 5:c.sent(),c.label=6;case 6:return l++,[3,1];case 7:if(a.length){for(l=a.length-1;l>-1;l--)e.body.splice(a[l],1);e.body=s.concat(e.body)}return[2]}}))}function Ge(e,t){var n,r,i,s,a;return H(this,(function(o){switch(o.label){case 0:switch(e.type){case"VariableDeclaration":return[3,1];case"ForInStatement":case"ForOfStatement":return[3,3];case"ForStatement":return[3,5];case"WhileStatement":case"DoWhileStatement":return[3,7];case"IfStatement":return[3,9];case"BlockStatement":return[3,13];case"SwitchStatement":return[3,18];case"TryStatement":return[3,25]}return[3,38];case 1:return[5,q(Ue(e,t,{hoist:!0}))];case 2:return o.sent(),[3,38];case 3:return"VariableDeclaration"!==e.left.type?[3,5]:[5,q(Ue(e.left,t,{hoist:!0}))];case 4:o.sent(),o.label=5;case 5:return"ForStatement"!==e.type||"VariableDeclaration"!==e.init.type?[3,7]:[5,q(Ue(e.init,t,{hoist:!0}))];case 6:o.sent(),o.label=7;case 7:return[5,q(Ge(e.body,t))];case 8:return o.sent(),[3,38];case 9:return[5,q(Ge(e.consequent,t))];case 10:return o.sent(),e.alternate?[5,q(Ge(e.alternate,t))]:[3,12];case 11:o.sent(),o.label=12;case 12:return[3,38];case 13:a=0,o.label=14;case 14:return a<e.body.length?[5,q(Ge(e.body[a],t))]:[3,17];case 15:o.sent(),o.label=16;case 16:return a++,[3,14];case 17:return[3,38];case 18:a=0,o.label=19;case 19:if(!(a<e.cases.length))return[3,24];n=0,o.label=20;case 20:return n<e.cases[a].consequent.length?[5,q(Ge(e.cases[a].consequent[n],t))]:[3,23];case 21:o.sent(),o.label=22;case 22:return n++,[3,20];case 23:return a++,[3,19];case 24:return[3,38];case 25:r=e.block.body,a=0,o.label=26;case 26:return a<r.length?[5,q(Ge(r[a],t))]:[3,29];case 27:o.sent(),o.label=28;case 28:return a++,[3,26];case 29:if(!(i=e.handler&&e.handler.body.body))return[3,33];a=0,o.label=30;case 30:return a<i.length?[5,q(Ge(i[a],t))]:[3,33];case 31:o.sent(),o.label=32;case 32:return a++,[3,30];case 33:if(!(s=e.finalizer&&e.finalizer.body))return[3,37];a=0,o.label=34;case 34:return a<s.length?[5,q(Ge(s[a],t))]:[3,37];case 35:o.sent(),o.label=36;case 36:return a++,[3,34];case 37:return[3,38];case 38:return[2]}}))}function Qe(e,t,n){return void 0===n&&(n={}),H(this,(function(r){switch(r.label){case 0:switch(e.type){case"ObjectPattern":return[3,1];case"ArrayPattern":return[3,3];case"RestElement":return[3,5];case"AssignmentPattern":return[3,7]}return[3,9];case 1:return[5,q(De(e,t,n))];case 2:case 4:case 6:case 8:return[2,r.sent()];case 3:return[5,q(Re(e,t,n))];case 5:return[5,q(Ne(e,t,n))];case 7:return[5,q(Le(e,t,n))];case 9:throw new SyntaxError("Unexpected token")}}))}function Ze(e,t,n){if(void 0===n&&(n={}),!e.generator&&!e.async)return tt(e,t,n);var r,i=n.superClass,a=n.isCtor,o=e.params,l=function n(){var r,s,l,c,u,h=this&&this instanceof n?this.constructor:void 0,p=[];for(r=0;r<arguments.length;r++)p[r]=arguments[r];return H(this,(function(n){switch(n.label){case 0:s=new j(t,!0),"ArrowFunctionExpression"!==e.type&&(s.const("this",this),s.let("arguments",arguments),s.const(M,h),i&&(s.const(D,i),a&&s.let(R,!1))),l=0,n.label=1;case 1:return l<o.length?"Identifier"!==(c=o[l]).type?[3,2]:(s.var(c.name,p[l]),[3,6]):[3,7];case 2:return"RestElement"!==c.type?[3,4]:[5,q(Ne(c,s,{kind:"var",feed:p.slice(l)}))];case 3:return n.sent(),[3,6];case 4:return[5,q(Qe(c,s,{feed:p[l]}))];case 5:n.sent(),n.label=6;case 6:return l++,[3,1];case 7:return"BlockStatement"!==e.body.type?[3,10]:[5,q($e(e.body,s))];case 8:return n.sent(),[5,q(Pe(e.body,s,{invasived:!0,hoisted:!0}))];case 9:return u=n.sent(),[3,12];case 10:return[5,q(Be(e.body,s))];case 11:u=n.sent(),"ArrowFunctionExpression"===e.type&&(A.RES=u,u=A),n.label=12;case 12:return u===A?[2,u.RES]:[2]}}))};return r=e.async&&e.generator?function(){var e=l.apply(this,arguments),t=Promise.resolve(),n=!1,r=function(r){return t=t.then((function(){return ze(e,b({fullRet:!0},r))})).catch((function(e){if(!n)return n=!0,Promise.reject(e)}))},i={next:function(e){return r({res:e})},throw:function(e){return r({err:e})},return:function(e){return r({ret:e})}};return"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i}:e.async?function(){return ze(l.apply(this,arguments))}:l,s(r,N,{value:!0}),s(r,"name",{value:e.id&&e.id.name||"",configurable:!0}),s(r,"length",{value:o.length,configurable:!0}),r}function Ye(e,t){var n,r,i,a,o;return H(this,(function(l){switch(l.label){case 0:return[5,q(Be(e.superClass,t))];case 1:for(n=l.sent(),r=function(){n&&n.apply(this)},i=e.body.body,a=0;a<i.length;a++)if("constructor"===(o=i[a]).kind){r=Ze(o.value,t,{superClass:n,isCtor:!0});break}return n&&v(r,n),[5,q(qe(e.body,t,{klass:r,superClass:n}))];case 2:return l.sent(),s(r,L,{value:!0}),s(r,"name",{value:e.id&&e.id.name||"",configurable:!0}),[2,r]}}))}function Ke(e,t,n){var r,i,s,a;return H(this,(function(o){switch(o.label){case 0:return r=n.value,i=e.left,s=new j(t),"VariableDeclaration"!==i.type?[3,2]:[5,q(Ue(i,s,{feed:r}))];case 1:return o.sent(),[3,6];case 2:return"Identifier"!==i.type?[3,4]:[5,q($(i,t,{getVar:!0}))];case 3:return o.sent().set(r),[3,6];case 4:return[5,q(Qe(i,t,{feed:r}))];case 5:o.sent(),o.label=6;case 6:return"BlockStatement"!==e.body.type?[3,8]:[5,q(Pe(e.body,s,{invasived:!0}))];case 7:return a=o.sent(),[3,10];case 8:return[5,q(Be(e.body,s))];case 9:a=o.sent(),o.label=10;case 10:return[2,a]}}))}function Je(e,t,n){void 0===n&&(n={});for(var r=n.onlyBlock,i=void 0!==r&&r,s=[],a=[],o=0;o<e.body.length;o++){var l=e.body[o];"FunctionDeclaration"===l.type?(s.push(l),a.push(o)):"VariableDeclaration"===l.type&&-1!==["const","let"].indexOf(l.kind)?fe(l,t,{hoist:!0,onlyBlock:!0}):i||Xe(l,t)}if(a.length){for(o=a.length-1;o>-1;o--)e.body.splice(a[o],1);e.body=s.concat(e.body)}}function Xe(e,t){switch(e.type){case"VariableDeclaration":fe(e,t,{hoist:!0});break;case"ForInStatement":case"ForOfStatement":"VariableDeclaration"===e.left.type&&fe(e.left,t,{hoist:!0});case"ForStatement":"ForStatement"===e.type&&"VariableDeclaration"===e.init.type&&fe(e.init,t,{hoist:!0});case"WhileStatement":case"DoWhileStatement":Xe(e.body,t);break;case"IfStatement":Xe(e.consequent,t),e.alternate&&Xe(e.alternate,t);break;case"BlockStatement":for(var n=0;n<e.body.length;n++)Xe(e.body[n],t);break;case"SwitchStatement":for(n=0;n<e.cases.length;n++)for(var r=0;r<e.cases[n].consequent.length;r++)Xe(e.cases[n].consequent[r],t);break;case"TryStatement":var i=e.block.body;for(n=0;n<i.length;n++)Xe(i[n],t);var s=e.handler&&e.handler.body.body;if(s)for(n=0;n<s.length;n++)Xe(s[n],t);var a=e.finalizer&&e.finalizer.body;if(a)for(n=0;n<a.length;n++)Xe(a[n],t)}}function et(e,t,n){switch(void 0===n&&(n={}),e.type){case"ObjectPattern":return se(e,t,n);case"ArrayPattern":return ae(e,t,n);case"RestElement":return oe(e,t,n);case"AssignmentPattern":return le(e,t,n);default:throw new SyntaxError("Unexpected token")}}function tt(e,t,n){if(void 0===n&&(n={}),e.generator||e.async)return Ze(e,t,n);var r=n.superClass,i=n.isCtor,a=e.params,o=function n(){for(var s=this&&this instanceof n?this.constructor:void 0,o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];var c,u=new j(t,!0);"ArrowFunctionExpression"!==e.type&&(u.const("this",this),u.let("arguments",arguments),u.const(M,s),r&&(u.const(D,r),i&&u.let(R,!1)));for(var h=0;h<a.length;h++){var p=a[h];"Identifier"===p.type?u.var(p.name,o[h]):"RestElement"===p.type?oe(p,u,{kind:"var",feed:o.slice(h)}):et(p,u,{feed:o[h]})}if("BlockStatement"===e.body.type?(Je(e.body,u),c=te(e.body,u,{invasived:!0,hoisted:!0})):(c=pe(e.body,u),"ArrowFunctionExpression"===e.type&&(A.RES=c,c=A)),c===A)return c.RES};return"ArrowFunctionExpression"===e.type&&s(o,N,{value:!0}),s(o,"name",{value:e.id&&e.id.name||"",configurable:!0}),s(o,"length",{value:a.length,configurable:!0}),o}function nt(e,t){for(var n=pe(e.superClass,t),r=function(){n&&n.apply(this)},i=e.body.body,a=0;a<i.length;a++){var o=i[a];if("constructor"===o.kind){r=tt(o.value,t,{superClass:n,isCtor:!0});break}}return n&&v(r,n),ye(e.body,t,{klass:r,superClass:n}),s(r,L,{value:!0}),s(r,"name",{value:e.id&&e.id.name||"",configurable:!0}),r}function rt(e,t,n){var r=n.value,i=e.left,s=new j(t);return"VariableDeclaration"===i.type?fe(i,s,{feed:r}):"Identifier"===i.type?$(i,t,{getVar:!0}).set(r):et(i,t,{feed:r}),"BlockStatement"===e.body.type?te(e.body,s,{invasived:!0}):pe(e.body,s)}return function(){function t(e){void 0===e&&(e={}),this.options={},this.scope=new j(null,!0),this.exports={};var t=e.ecmaVer,n=void 0===t?9:t,r=e.sandBox,i=void 0===r||r;if(-1===[3,5,6,7,8,9,10].indexOf(n-=n<2015?0:2009))throw new Error("unsupported ecmaVer");if(this.options.ecmaVersion=n,i){var s=I();this.scope.let("window",s),this.scope.let("this",s)}else this.scope.let("window",w),this.scope.let("this",w);this.scope.const("exports",this.exports={})}return t.prototype.import=function(e,t){var n;if("string"==typeof e&&((n={})[e]=t,e=n),"object"==typeof e)for(var r=c(e),i=0;i<r.length;i++){var s=r[i];this.scope.var(s,e[s])}},t.prototype.parse=function(t,n){return"function"==typeof n?n(t,b({},this.options)):e.parse(t,this.options)},t.prototype.run=function(t){var n="string"==typeof t?e.parse(t,this.options):t;Je(n,this.scope),pe(n,this.scope)},t.version="0.4.8",t}()}(n(780))},608:function(e,t,n){e.exports=function(){var e="1.13.1",t="object"==typeof self&&self.self===self&&self||"object"==typeof n.g&&n.g.global===n.g&&n.g||Function("return this")()||{},r=Array.prototype,i=Object.prototype,s="undefined"!=typeof Symbol?Symbol.prototype:null,a=r.push,o=r.slice,l=i.toString,c=i.hasOwnProperty,u="undefined"!=typeof ArrayBuffer,h="undefined"!=typeof DataView,p=Array.isArray,d=Object.keys,f=Object.create,m=u&&ArrayBuffer.isView,g=isNaN,y=isFinite,v=!{toString:null}.propertyIsEnumerable("toString"),b=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],x=Math.pow(2,53)-1;function w(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r);case 2:return e.call(this,arguments[0],arguments[1],r)}var s=Array(t+1);for(i=0;i<t;i++)s[i]=arguments[i];return s[t]=r,e.apply(this,s)}}function _(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function k(e){return void 0===e}function S(e){return!0===e||!1===e||"[object Boolean]"===l.call(e)}function E(e){var t="[object "+e+"]";return function(e){return l.call(e)===t}}var I=E("String"),C=E("Number"),P=E("Date"),A=E("RegExp"),T=E("Error"),V=E("Symbol"),D=E("ArrayBuffer"),R=E("Function"),N=t.document&&t.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof N&&(R=function(e){return"function"==typeof e||!1});var L=R,M=E("Object"),O=h&&M(new DataView(new ArrayBuffer(8))),B="undefined"!=typeof Map&&M(new Map),F=E("DataView"),U=O?function(e){return null!=e&&L(e.getInt8)&&D(e.buffer)}:F,j=p||E("Array");function H(e,t){return null!=e&&c.call(e,t)}var q=E("Arguments");!function(){q(arguments)||(q=function(e){return H(e,"callee")})}();var W=q;function z(e){return C(e)&&g(e)}function $(e){return function(){return e}}function G(e){return function(t){var n=e(t);return"number"==typeof n&&n>=0&&n<=x}}function Q(e){return function(t){return null==t?void 0:t[e]}}var Z=Q("byteLength"),Y=G(Z),K=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/,J=u?function(e){return m?m(e)&&!U(e):Y(e)&&K.test(l.call(e))}:$(!1),X=Q("length");function ee(e,t){t=function(e){for(var t={},n=e.length,r=0;r<n;++r)t[e[r]]=!0;return{contains:function(e){return t[e]},push:function(n){return t[n]=!0,e.push(n)}}}(t);var n=b.length,r=e.constructor,s=L(r)&&r.prototype||i,a="constructor";for(H(e,a)&&!t.contains(a)&&t.push(a);n--;)(a=b[n])in e&&e[a]!==s[a]&&!t.contains(a)&&t.push(a)}function te(e){if(!_(e))return[];if(d)return d(e);var t=[];for(var n in e)H(e,n)&&t.push(n);return v&&ee(e,t),t}function ne(e,t){var n=te(t),r=n.length;if(null==e)return!r;for(var i=Object(e),s=0;s<r;s++){var a=n[s];if(t[a]!==i[a]||!(a in i))return!1}return!0}function re(e){return e instanceof re?e:this instanceof re?void(this._wrapped=e):new re(e)}function ie(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,Z(e))}re.VERSION=e,re.prototype.value=function(){return this._wrapped},re.prototype.valueOf=re.prototype.toJSON=re.prototype.value,re.prototype.toString=function(){return String(this._wrapped)};var se="[object DataView]";function ae(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var i=typeof e;return("function"===i||"object"===i||"object"==typeof t)&&function e(t,n,r,i){t instanceof re&&(t=t._wrapped),n instanceof re&&(n=n._wrapped);var a=l.call(t);if(a!==l.call(n))return!1;if(O&&"[object Object]"==a&&U(t)){if(!U(n))return!1;a=se}switch(a){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":return+t!=+t?+n!=+n:0==+t?1/+t==1/n:+t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object Symbol]":return s.valueOf.call(t)===s.valueOf.call(n);case"[object ArrayBuffer]":case se:return e(ie(t),ie(n),r,i)}var o="[object Array]"===a;if(!o&&J(t)){if(Z(t)!==Z(n))return!1;if(t.buffer===n.buffer&&t.byteOffset===n.byteOffset)return!0;o=!0}if(!o){if("object"!=typeof t||"object"!=typeof n)return!1;var c=t.constructor,u=n.constructor;if(c!==u&&!(L(c)&&c instanceof c&&L(u)&&u instanceof u)&&"constructor"in t&&"constructor"in n)return!1}i=i||[];for(var h=(r=r||[]).length;h--;)if(r[h]===t)return i[h]===n;if(r.push(t),i.push(n),o){if((h=t.length)!==n.length)return!1;for(;h--;)if(!ae(t[h],n[h],r,i))return!1}else{var p,d=te(t);if(h=d.length,te(n).length!==h)return!1;for(;h--;)if(!H(n,p=d[h])||!ae(t[p],n[p],r,i))return!1}return r.pop(),i.pop(),!0}(e,t,n,r)}function oe(e){if(!_(e))return[];var t=[];for(var n in e)t.push(n);return v&&ee(e,t),t}function le(e){var t=X(e);return function(n){if(null==n)return!1;var r=oe(n);if(X(r))return!1;for(var i=0;i<t;i++)if(!L(n[e[i]]))return!1;return e!==de||!L(n[ce])}}var ce="forEach",ue=["clear","delete"],he=["get","has","set"],pe=ue.concat(ce,he),de=ue.concat(he),fe=["add"].concat(ue,ce,"has"),me=B?le(pe):E("Map"),ge=B?le(de):E("WeakMap"),ye=B?le(fe):E("Set"),ve=E("WeakSet");function be(e){for(var t=te(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r}function xe(e){for(var t={},n=te(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t}function we(e){var t=[];for(var n in e)L(e[n])&&t.push(n);return t.sort()}function _e(e,t){return function(n){var r=arguments.length;if(t&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var s=arguments[i],a=e(s),o=a.length,l=0;l<o;l++){var c=a[l];t&&void 0!==n[c]||(n[c]=s[c])}return n}}var ke=_e(oe),Se=_e(te),Ee=_e(oe,!0);function Ie(e){if(!_(e))return{};if(f)return f(e);var t=function(){};t.prototype=e;var n=new t;return t.prototype=null,n}function Ce(e){return _(e)?j(e)?e.slice():ke({},e):e}function Pe(e){return j(e)?e:[e]}function Ae(e){return re.toPath(e)}function Te(e,t){for(var n=t.length,r=0;r<n;r++){if(null==e)return;e=e[t[r]]}return n?e:void 0}function Ve(e,t,n){var r=Te(e,Ae(t));return k(r)?n:r}function De(e){return e}function Re(e){return e=Se({},e),function(t){return ne(t,e)}}function Ne(e){return e=Ae(e),function(t){return Te(t,e)}}function Le(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,s){return e.call(t,n,r,i,s)}}return function(){return e.apply(t,arguments)}}function Me(e,t,n){return null==e?De:L(e)?Le(e,t,n):_(e)&&!j(e)?Re(e):Ne(e)}function Oe(e,t){return Me(e,t,1/0)}function Be(e,t,n){return re.iteratee!==Oe?re.iteratee(e,t):Me(e,t,n)}function Fe(){}function Ue(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}re.toPath=Pe,re.iteratee=Oe;var je=Date.now||function(){return(new Date).getTime()};function He(e){var t=function(t){return e[t]},n="(?:"+te(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}}var qe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},We=He(qe),ze=He(xe(qe)),$e=re.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},Ge=/(.)^/,Qe={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Ze=/\\|'|\r|\n|\u2028|\u2029/g;function Ye(e){return"\\"+Qe[e]}var Ke=/^\s*(\w|\$)+\s*$/,Je=0;function Xe(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var s=Ie(e.prototype),a=e.apply(s,i);return _(a)?a:s}var et=w((function(e,t){var n=et.placeholder,r=function(){for(var i=0,s=t.length,a=Array(s),o=0;o<s;o++)a[o]=t[o]===n?arguments[i++]:t[o];for(;i<arguments.length;)a.push(arguments[i++]);return Xe(e,r,this,this,a)};return r}));et.placeholder=re;var tt=w((function(e,t,n){if(!L(e))throw new TypeError("Bind must be called on a function");var r=w((function(i){return Xe(e,r,t,this,n.concat(i))}));return r})),nt=G(X);function rt(e,t,n,r){if(r=r||[],t||0===t){if(t<=0)return r.concat(e)}else t=1/0;for(var i=r.length,s=0,a=X(e);s<a;s++){var o=e[s];if(nt(o)&&(j(o)||W(o)))if(t>1)rt(o,t-1,n,r),i=r.length;else for(var l=0,c=o.length;l<c;)r[i++]=o[l++];else n||(r[i++]=o)}return r}var it=w((function(e,t){var n=(t=rt(t,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=t[n];e[r]=tt(e[r],e)}return e})),st=w((function(e,t,n){return setTimeout((function(){return e.apply(null,n)}),t)})),at=et(st,re,1);function ot(e){return function(){return!e.apply(this,arguments)}}function lt(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}}var ct=et(lt,2);function ut(e,t,n){t=Be(t,n);for(var r,i=te(e),s=0,a=i.length;s<a;s++)if(t(e[r=i[s]],r,e))return r}function ht(e){return function(t,n,r){n=Be(n,r);for(var i=X(t),s=e>0?0:i-1;s>=0&&s<i;s+=e)if(n(t[s],s,t))return s;return-1}}var pt=ht(1),dt=ht(-1);function ft(e,t,n,r){for(var i=(n=Be(n,r,1))(t),s=0,a=X(e);s<a;){var o=Math.floor((s+a)/2);n(e[o])<i?s=o+1:a=o}return s}function mt(e,t,n){return function(r,i,s){var a=0,l=X(r);if("number"==typeof s)e>0?a=s>=0?s:Math.max(s+l,a):l=s>=0?Math.min(s+1,l):s+l+1;else if(n&&s&&l)return r[s=n(r,i)]===i?s:-1;if(i!=i)return(s=t(o.call(r,a,l),z))>=0?s+a:-1;for(s=e>0?a:l-1;s>=0&&s<l;s+=e)if(r[s]===i)return s;return-1}}var gt=mt(1,pt,ft),yt=mt(-1,dt);function vt(e,t,n){var r=(nt(e)?pt:ut)(e,t,n);if(void 0!==r&&-1!==r)return e[r]}function bt(e,t,n){var r,i;if(t=Le(t,n),nt(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var s=te(e);for(r=0,i=s.length;r<i;r++)t(e[s[r]],s[r],e)}return e}function xt(e,t,n){t=Be(t,n);for(var r=!nt(e)&&te(e),i=(r||e).length,s=Array(i),a=0;a<i;a++){var o=r?r[a]:a;s[a]=t(e[o],o,e)}return s}function wt(e){var t=function(t,n,r,i){var s=!nt(t)&&te(t),a=(s||t).length,o=e>0?0:a-1;for(i||(r=t[s?s[o]:o],o+=e);o>=0&&o<a;o+=e){var l=s?s[o]:o;r=n(r,t[l],l,t)}return r};return function(e,n,r,i){var s=arguments.length>=3;return t(e,Le(n,i,4),r,s)}}var _t=wt(1),kt=wt(-1);function St(e,t,n){var r=[];return t=Be(t,n),bt(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r}function Et(e,t,n){t=Be(t,n);for(var r=!nt(e)&&te(e),i=(r||e).length,s=0;s<i;s++){var a=r?r[s]:s;if(!t(e[a],a,e))return!1}return!0}function It(e,t,n){t=Be(t,n);for(var r=!nt(e)&&te(e),i=(r||e).length,s=0;s<i;s++){var a=r?r[s]:s;if(t(e[a],a,e))return!0}return!1}function Ct(e,t,n,r){return nt(e)||(e=be(e)),("number"!=typeof n||r)&&(n=0),gt(e,t,n)>=0}var Pt=w((function(e,t,n){var r,i;return L(t)?i=t:(t=Ae(t),r=t.slice(0,-1),t=t[t.length-1]),xt(e,(function(e){var s=i;if(!s){if(r&&r.length&&(e=Te(e,r)),null==e)return;s=e[t]}return null==s?s:s.apply(e,n)}))}));function At(e,t){return xt(e,Ne(t))}function Tt(e,t,n){var r,i,s=-1/0,a=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var o=0,l=(e=nt(e)?e:be(e)).length;o<l;o++)null!=(r=e[o])&&r>s&&(s=r);else t=Be(t,n),bt(e,(function(e,n,r){((i=t(e,n,r))>a||i===-1/0&&s===-1/0)&&(s=e,a=i)}));return s}function Vt(e,t,n){if(null==t||n)return nt(e)||(e=be(e)),e[Ue(e.length-1)];var r=nt(e)?Ce(e):be(e),i=X(r);t=Math.max(Math.min(t,i),0);for(var s=i-1,a=0;a<t;a++){var o=Ue(a,s),l=r[a];r[a]=r[o],r[o]=l}return r.slice(0,t)}function Dt(e,t){return function(n,r,i){var s=t?[[],[]]:{};return r=Be(r,i),bt(n,(function(t,i){var a=r(t,i,n);e(s,t,a)})),s}}var Rt=Dt((function(e,t,n){H(e,n)?e[n].push(t):e[n]=[t]})),Nt=Dt((function(e,t,n){e[n]=t})),Lt=Dt((function(e,t,n){H(e,n)?e[n]++:e[n]=1})),Mt=Dt((function(e,t,n){e[n?0:1].push(t)}),!0),Ot=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Bt(e,t,n){return t in n}var Ft=w((function(e,t){var n={},r=t[0];if(null==e)return n;L(r)?(t.length>1&&(r=Le(r,t[1])),t=oe(e)):(r=Bt,t=rt(t,!1,!1),e=Object(e));for(var i=0,s=t.length;i<s;i++){var a=t[i],o=e[a];r(o,a,e)&&(n[a]=o)}return n})),Ut=w((function(e,t){var n,r=t[0];return L(r)?(r=ot(r),t.length>1&&(n=t[1])):(t=xt(rt(t,!1,!1),String),r=function(e,n){return!Ct(t,n)}),Ft(e,r,n)}));function jt(e,t,n){return o.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))}function Ht(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[0]:jt(e,e.length-t)}function qt(e,t,n){return o.call(e,null==t||n?1:t)}var Wt=w((function(e,t){return t=rt(t,!0,!0),St(e,(function(e){return!Ct(t,e)}))})),zt=w((function(e,t){return Wt(e,t)}));function $t(e,t,n,r){S(t)||(r=n,n=t,t=!1),null!=n&&(n=Be(n,r));for(var i=[],s=[],a=0,o=X(e);a<o;a++){var l=e[a],c=n?n(l,a,e):l;t&&!n?(a&&s===c||i.push(l),s=c):n?Ct(s,c)||(s.push(c),i.push(l)):Ct(i,l)||i.push(l)}return i}var Gt=w((function(e){return $t(rt(e,!0,!0))}));function Qt(e){for(var t=e&&Tt(e,X).length||0,n=Array(t),r=0;r<t;r++)n[r]=At(e,r);return n}var Zt=w(Qt);function Yt(e,t){return e._chain?re(t).chain():t}function Kt(e){return bt(we(e),(function(t){var n=re[t]=e[t];re.prototype[t]=function(){var e=[this._wrapped];return a.apply(e,arguments),Yt(this,n.apply(re,e))}})),re}bt(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var t=r[e];re.prototype[e]=function(){var n=this._wrapped;return null!=n&&(t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0]),Yt(this,n)}})),bt(["concat","join","slice"],(function(e){var t=r[e];re.prototype[e]=function(){var e=this._wrapped;return null!=e&&(e=t.apply(e,arguments)),Yt(this,e)}}));var Jt=Kt({__proto__:null,VERSION:e,restArguments:w,isObject:_,isNull:function(e){return null===e},isUndefined:k,isBoolean:S,isElement:function(e){return!(!e||1!==e.nodeType)},isString:I,isNumber:C,isDate:P,isRegExp:A,isError:T,isSymbol:V,isArrayBuffer:D,isDataView:U,isArray:j,isFunction:L,isArguments:W,isFinite:function(e){return!V(e)&&y(e)&&!isNaN(parseFloat(e))},isNaN:z,isTypedArray:J,isEmpty:function(e){if(null==e)return!0;var t=X(e);return"number"==typeof t&&(j(e)||I(e)||W(e))?0===t:0===X(te(e))},isMatch:ne,isEqual:function(e,t){return ae(e,t)},isMap:me,isWeakMap:ge,isSet:ye,isWeakSet:ve,keys:te,allKeys:oe,values:be,pairs:function(e){for(var t=te(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},invert:xe,functions:we,methods:we,extend:ke,extendOwn:Se,assign:Se,defaults:Ee,create:function(e,t){var n=Ie(e);return t&&Se(n,t),n},clone:Ce,tap:function(e,t){return t(e),e},get:Ve,has:function(e,t){for(var n=(t=Ae(t)).length,r=0;r<n;r++){var i=t[r];if(!H(e,i))return!1;e=e[i]}return!!n},mapObject:function(e,t,n){t=Be(t,n);for(var r=te(e),i=r.length,s={},a=0;a<i;a++){var o=r[a];s[o]=t(e[o],o,e)}return s},identity:De,constant:$,noop:Fe,toPath:Pe,property:Ne,propertyOf:function(e){return null==e?Fe:function(t){return Ve(e,t)}},matcher:Re,matches:Re,times:function(e,t,n){var r=Array(Math.max(0,e));t=Le(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r},random:Ue,now:je,escape:We,unescape:ze,templateSettings:$e,template:function(e,t,n){!t&&n&&(t=n),t=Ee({},t,re.templateSettings);var r=RegExp([(t.escape||Ge).source,(t.interpolate||Ge).source,(t.evaluate||Ge).source].join("|")+"|$","g"),i=0,s="__p+='";e.replace(r,(function(t,n,r,a,o){return s+=e.slice(i,o).replace(Ze,Ye),i=o+t.length,n?s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?s+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(s+="';\n"+a+"\n__p+='"),t})),s+="';\n";var a,o=t.variable;if(o){if(!Ke.test(o))throw new Error("variable is not a bare identifier: "+o)}else s="with(obj||{}){\n"+s+"}\n",o="obj";s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{a=new Function(o,"_",s)}catch(e){throw e.source=s,e}var l=function(e){return a.call(this,e,re)};return l.source="function("+o+"){\n"+s+"}",l},result:function(e,t,n){var r=(t=Ae(t)).length;if(!r)return L(n)?n.call(e):n;for(var i=0;i<r;i++){var s=null==e?void 0:e[t[i]];void 0===s&&(s=n,i=r),e=L(s)?s.call(e):s}return e},uniqueId:function(e){var t=++Je+"";return e?e+t:t},chain:function(e){var t=re(e);return t._chain=!0,t},iteratee:Oe,partial:et,bind:tt,bindAll:it,memoize:function(e,t){var n=function(r){var i=n.cache,s=""+(t?t.apply(this,arguments):r);return H(i,s)||(i[s]=e.apply(this,arguments)),i[s]};return n.cache={},n},delay:st,defer:at,throttle:function(e,t,n){var r,i,s,a,o=0;n||(n={});var l=function(){o=!1===n.leading?0:je(),r=null,a=e.apply(i,s),r||(i=s=null)},c=function(){var c=je();o||!1!==n.leading||(o=c);var u=t-(c-o);return i=this,s=arguments,u<=0||u>t?(r&&(clearTimeout(r),r=null),o=c,a=e.apply(i,s),r||(i=s=null)):r||!1===n.trailing||(r=setTimeout(l,u)),a};return c.cancel=function(){clearTimeout(r),o=0,r=i=s=null},c},debounce:function(e,t,n){var r,i,s,a,o,l=function(){var c=je()-i;t>c?r=setTimeout(l,t-c):(r=null,n||(a=e.apply(o,s)),r||(s=o=null))},c=w((function(c){return o=this,s=c,i=je(),r||(r=setTimeout(l,t),n&&(a=e.apply(o,s))),a}));return c.cancel=function(){clearTimeout(r),r=s=o=null},c},wrap:function(e,t){return et(t,e)},negate:ot,compose:function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},after:function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},before:lt,once:ct,findKey:ut,findIndex:pt,findLastIndex:dt,sortedIndex:ft,indexOf:gt,lastIndexOf:yt,find:vt,detect:vt,findWhere:function(e,t){return vt(e,Re(t))},each:bt,forEach:bt,map:xt,collect:xt,reduce:_t,foldl:_t,inject:_t,reduceRight:kt,foldr:kt,filter:St,select:St,reject:function(e,t,n){return St(e,ot(Be(t)),n)},every:Et,all:Et,some:It,any:It,contains:Ct,includes:Ct,include:Ct,invoke:Pt,pluck:At,where:function(e,t){return St(e,Re(t))},max:Tt,min:function(e,t,n){var r,i,s=1/0,a=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var o=0,l=(e=nt(e)?e:be(e)).length;o<l;o++)null!=(r=e[o])&&r<s&&(s=r);else t=Be(t,n),bt(e,(function(e,n,r){((i=t(e,n,r))<a||i===1/0&&s===1/0)&&(s=e,a=i)}));return s},shuffle:function(e){return Vt(e,1/0)},sample:Vt,sortBy:function(e,t,n){var r=0;return t=Be(t,n),At(xt(e,(function(e,n,i){return{value:e,index:r++,criteria:t(e,n,i)}})).sort((function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index})),"value")},groupBy:Rt,indexBy:Nt,countBy:Lt,partition:Mt,toArray:function(e){return e?j(e)?o.call(e):I(e)?e.match(Ot):nt(e)?xt(e,De):be(e):[]},size:function(e){return null==e?0:nt(e)?e.length:te(e).length},pick:Ft,omit:Ut,first:Ht,head:Ht,take:Ht,initial:jt,last:function(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[e.length-1]:qt(e,Math.max(0,e.length-t))},rest:qt,tail:qt,drop:qt,compact:function(e){return St(e,Boolean)},flatten:function(e,t){return rt(e,t,!1)},without:zt,uniq:$t,unique:$t,union:Gt,intersection:function(e){for(var t=[],n=arguments.length,r=0,i=X(e);r<i;r++){var s=e[r];if(!Ct(t,s)){var a;for(a=1;a<n&&Ct(arguments[a],s);a++);a===n&&t.push(s)}}return t},difference:Wt,unzip:Qt,transpose:Qt,zip:Zt,object:function(e,t){for(var n={},r=0,i=X(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},range:function(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),s=0;s<r;s++,e+=n)i[s]=e;return i},chunk:function(e,t){if(null==t||t<1)return[];for(var n=[],r=0,i=e.length;r<i;)n.push(o.call(e,r,r+=t));return n},mixin:Kt,default:re});return Jt._=Jt,Jt}()},780:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Node:()=>ae,Parser:()=>q,Position:()=>N,SourceLocation:()=>L,TokContext:()=>ce,Token:()=>De,TokenType:()=>g,defaultOptions:()=>O,getLineInfo:()=>M,isIdentifierChar:()=>m,isIdentifierStart:()=>f,isNewLine:()=>E,keywordTypes:()=>x,lineBreak:()=>k,lineBreakG:()=>S,nonASCIIwhitespace:()=>I,parse:()=>Oe,parseExpressionAt:()=>Be,tokContexts:()=>ue,tokTypes:()=>_,tokenizer:()=>Fe,version:()=>Me});var r={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},i="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",s={5:i,"5module":i+" export import",6:i+" const class extends export import super"},a=/^in(stanceof)?$/,o="---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",l="--------------------------------------------------------------------------------------------------------------------------------------------------",c=new RegExp("["+o+"]"),u=new RegExp("["+o+l+"]");o=l=null;var h=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,477,28,11,0,9,21,155,22,13,52,76,44,33,24,27,35,30,0,12,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,0,33,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,230,43,117,63,32,0,161,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,35,56,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,270,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,754,9486,286,50,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,2357,44,11,6,17,0,370,43,1301,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42710,42,4148,12,221,3,5761,15,7472,3104,541],p=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,525,10,176,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,4,9,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,232,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,135,4,60,6,26,9,1014,0,2,54,8,3,19723,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,419,13,1495,6,110,6,6,9,792487,239];function d(e,t){for(var n=65536,r=0;r<t.length;r+=2){if((n+=t[r])>e)return!1;if((n+=t[r+1])>=e)return!0}}function f(e,t){return e<65?36===e:e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&c.test(String.fromCharCode(e)):!1!==t&&d(e,h)))}function m(e,t){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&u.test(String.fromCharCode(e)):!1!==t&&(d(e,h)||d(e,p)))))}var g=function(e,t){void 0===t&&(t={}),this.label=e,this.keyword=t.keyword,this.beforeExpr=!!t.beforeExpr,this.startsExpr=!!t.startsExpr,this.isLoop=!!t.isLoop,this.isAssign=!!t.isAssign,this.prefix=!!t.prefix,this.postfix=!!t.postfix,this.binop=t.binop||null,this.updateContext=null};function y(e,t){return new g(e,{beforeExpr:!0,binop:t})}var v={beforeExpr:!0},b={startsExpr:!0},x={};function w(e,t){return void 0===t&&(t={}),t.keyword=e,x[e]=new g(e,t)}var _={num:new g("num",b),regexp:new g("regexp",b),string:new g("string",b),name:new g("name",b),eof:new g("eof"),bracketL:new g("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new g("]"),braceL:new g("{",{beforeExpr:!0,startsExpr:!0}),braceR:new g("}"),parenL:new g("(",{beforeExpr:!0,startsExpr:!0}),parenR:new g(")"),comma:new g(",",v),semi:new g(";",v),colon:new g(":",v),dot:new g("."),question:new g("?",v),arrow:new g("=>",v),template:new g("template"),invalidTemplate:new g("invalidTemplate"),ellipsis:new g("...",v),backQuote:new g("`",b),dollarBraceL:new g("${",{beforeExpr:!0,startsExpr:!0}),eq:new g("=",{beforeExpr:!0,isAssign:!0}),assign:new g("_=",{beforeExpr:!0,isAssign:!0}),incDec:new g("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new g("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:y("||",1),logicalAND:y("&&",2),bitwiseOR:y("|",3),bitwiseXOR:y("^",4),bitwiseAND:y("&",5),equality:y("==/!=/===/!==",6),relational:y("</>/<=/>=",7),bitShift:y("<</>>/>>>",8),plusMin:new g("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:y("%",10),star:y("*",10),slash:y("/",10),starstar:new g("**",{beforeExpr:!0}),_break:w("break"),_case:w("case",v),_catch:w("catch"),_continue:w("continue"),_debugger:w("debugger"),_default:w("default",v),_do:w("do",{isLoop:!0,beforeExpr:!0}),_else:w("else",v),_finally:w("finally"),_for:w("for",{isLoop:!0}),_function:w("function",b),_if:w("if"),_return:w("return",v),_switch:w("switch"),_throw:w("throw",v),_try:w("try"),_var:w("var"),_const:w("const"),_while:w("while",{isLoop:!0}),_with:w("with"),_new:w("new",{beforeExpr:!0,startsExpr:!0}),_this:w("this",b),_super:w("super",b),_class:w("class",b),_extends:w("extends",v),_export:w("export"),_import:w("import",b),_null:w("null",b),_true:w("true",b),_false:w("false",b),_in:w("in",{beforeExpr:!0,binop:7}),_instanceof:w("instanceof",{beforeExpr:!0,binop:7}),_typeof:w("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:w("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:w("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},k=/\r\n?|\n|\u2028|\u2029/,S=new RegExp(k.source,"g");function E(e,t){return 10===e||13===e||!t&&(8232===e||8233===e)}var I=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,C=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,P=Object.prototype,A=P.hasOwnProperty,T=P.toString;function V(e,t){return A.call(e,t)}var D=Array.isArray||function(e){return"[object Array]"===T.call(e)};function R(e){return new RegExp("^(?:"+e.replace(/ /g,"|")+")$")}var N=function(e,t){this.line=e,this.column=t};N.prototype.offset=function(e){return new N(this.line,this.column+e)};var L=function(e,t,n){this.start=t,this.end=n,null!==e.sourceFile&&(this.source=e.sourceFile)};function M(e,t){for(var n=1,r=0;;){S.lastIndex=r;var i=S.exec(e);if(!(i&&i.index<t))return new N(n,t-r);++n,r=i.index+i[0].length}}var O={ecmaVersion:9,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1};var B=2,F=1|B,U=4,j=8;function H(e,t){return B|(e?U:0)|(t?j:0)}var q=function(e,t,n){this.options=e=function(e){var t={};for(var n in O)t[n]=e&&V(e,n)?e[n]:O[n];if(t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),null==t.allowReserved&&(t.allowReserved=t.ecmaVersion<5),D(t.onToken)){var r=t.onToken;t.onToken=function(e){return r.push(e)}}return D(t.onComment)&&(t.onComment=function(e,t){return function(n,r,i,s,a,o){var l={type:n?"Block":"Line",value:r,start:i,end:s};e.locations&&(l.loc=new L(this,a,o)),e.ranges&&(l.range=[i,s]),t.push(l)}}(t,t.onComment)),t}(e),this.sourceFile=e.sourceFile,this.keywords=R(s[e.ecmaVersion>=6?6:"module"===e.sourceType?"5module":5]);var i="";if(!0!==e.allowReserved){for(var a=e.ecmaVersion;!(i=r[a]);a--);"module"===e.sourceType&&(i+=" await")}this.reservedWords=R(i);var o=(i?i+" ":"")+r.strict;this.reservedWordsStrict=R(o),this.reservedWordsStrictBind=R(o+" "+r.strictBind),this.input=String(t),this.containsEsc=!1,n?(this.pos=n,this.lineStart=this.input.lastIndexOf("\n",n-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(k).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=_.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule="module"===e.sourceType,this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports={},0===this.pos&&e.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(1),this.regexpState=null},W={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0}};q.prototype.parse=function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)},W.inFunction.get=function(){return(this.currentVarScope().flags&B)>0},W.inGenerator.get=function(){return(this.currentVarScope().flags&j)>0},W.inAsync.get=function(){return(this.currentVarScope().flags&U)>0},W.allowSuper.get=function(){return(64&this.currentThisScope().flags)>0},W.allowDirectSuper.get=function(){return(128&this.currentThisScope().flags)>0},W.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},q.prototype.inNonArrowFunction=function(){return(this.currentThisScope().flags&B)>0},q.extend=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var n=this,r=0;r<e.length;r++)n=e[r](n);return n},q.parse=function(e,t){return new this(t,e).parse()},q.parseExpressionAt=function(e,t,n){var r=new this(n,e,t);return r.nextToken(),r.parseExpression()},q.tokenizer=function(e,t){return new this(t,e)},Object.defineProperties(q.prototype,W);var z=q.prototype,$=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;function G(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1}z.strictDirective=function(e){for(;;){C.lastIndex=e,e+=C.exec(this.input)[0].length;var t=$.exec(this.input.slice(e));if(!t)return!1;if("use strict"===(t[1]||t[2]))return!0;e+=t[0].length,C.lastIndex=e,e+=C.exec(this.input)[0].length,";"===this.input[e]&&e++}},z.eat=function(e){return this.type===e&&(this.next(),!0)},z.isContextual=function(e){return this.type===_.name&&this.value===e&&!this.containsEsc},z.eatContextual=function(e){return!!this.isContextual(e)&&(this.next(),!0)},z.expectContextual=function(e){this.eatContextual(e)||this.unexpected()},z.canInsertSemicolon=function(){return this.type===_.eof||this.type===_.braceR||k.test(this.input.slice(this.lastTokEnd,this.start))},z.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},z.semicolon=function(){this.eat(_.semi)||this.insertSemicolon()||this.unexpected()},z.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0},z.expect=function(e){this.eat(e)||this.unexpected()},z.unexpected=function(e){this.raise(null!=e?e:this.start,"Unexpected token")},z.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var n=t?e.parenthesizedAssign:e.parenthesizedBind;n>-1&&this.raiseRecoverable(n,"Parenthesized pattern")}},z.checkExpressionErrors=function(e,t){if(!e)return!1;var n=e.shorthandAssign,r=e.doubleProto;if(!t)return n>=0||r>=0;n>=0&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),r>=0&&this.raiseRecoverable(r,"Redefinition of __proto__ property")},z.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},z.isSimpleAssignTarget=function(e){return"ParenthesizedExpression"===e.type?this.isSimpleAssignTarget(e.expression):"Identifier"===e.type||"MemberExpression"===e.type};var Q=q.prototype;Q.parseTopLevel=function(e){var t={};for(e.body||(e.body=[]);this.type!==_.eof;){var n=this.parseStatement(null,!0,t);e.body.push(n)}if(this.inModule)for(var r=0,i=Object.keys(this.undefinedExports);r<i.length;r+=1){var s=i[r];this.raiseRecoverable(this.undefinedExports[s].start,"Export '"+s+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};var Z={kind:"loop"},Y={kind:"switch"};Q.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;C.lastIndex=this.pos;var t=C.exec(this.input),n=this.pos+t[0].length,r=this.input.charCodeAt(n);if(91===r)return!0;if(e)return!1;if(123===r)return!0;if(f(r,!0)){for(var i=n+1;m(this.input.charCodeAt(i),!0);)++i;var s=this.input.slice(n,i);if(!a.test(s))return!0}return!1},Q.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;C.lastIndex=this.pos;var e=C.exec(this.input),t=this.pos+e[0].length;return!(k.test(this.input.slice(this.pos,t))||"function"!==this.input.slice(t,t+8)||t+8!==this.input.length&&m(this.input.charAt(t+8)))},Q.parseStatement=function(e,t,n){var r,i=this.type,s=this.startNode();switch(this.isLet(e)&&(i=_._var,r="let"),i){case _._break:case _._continue:return this.parseBreakContinueStatement(s,i.keyword);case _._debugger:return this.parseDebuggerStatement(s);case _._do:return this.parseDoStatement(s);case _._for:return this.parseForStatement(s);case _._function:return e&&(this.strict||"if"!==e&&"label"!==e)&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(s,!1,!e);case _._class:return e&&this.unexpected(),this.parseClass(s,!0);case _._if:return this.parseIfStatement(s);case _._return:return this.parseReturnStatement(s);case _._switch:return this.parseSwitchStatement(s);case _._throw:return this.parseThrowStatement(s);case _._try:return this.parseTryStatement(s);case _._const:case _._var:return r=r||this.value,e&&"var"!==r&&this.unexpected(),this.parseVarStatement(s,r);case _._while:return this.parseWhileStatement(s);case _._with:return this.parseWithStatement(s);case _.braceL:return this.parseBlock(!0,s);case _.semi:return this.parseEmptyStatement(s);case _._export:case _._import:if(this.options.ecmaVersion>10&&i===_._import){C.lastIndex=this.pos;var a=C.exec(this.input),o=this.pos+a[0].length;if(40===this.input.charCodeAt(o))return this.parseExpressionStatement(s,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),i===_._import?this.parseImport(s):this.parseExport(s,n);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(s,!0,!e);var l=this.value,c=this.parseExpression();return i===_.name&&"Identifier"===c.type&&this.eat(_.colon)?this.parseLabeledStatement(s,l,c,e):this.parseExpressionStatement(s,c)}},Q.parseBreakContinueStatement=function(e,t){var n="break"===t;this.next(),this.eat(_.semi)||this.insertSemicolon()?e.label=null:this.type!==_.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var r=0;r<this.labels.length;++r){var i=this.labels[r];if(null==e.label||i.name===e.label.name){if(null!=i.kind&&(n||"loop"===i.kind))break;if(e.label&&n)break}}return r===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,n?"BreakStatement":"ContinueStatement")},Q.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")},Q.parseDoStatement=function(e){return this.next(),this.labels.push(Z),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(_._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(_.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")},Q.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction)&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(Z),this.enterScope(0),this.expect(_.parenL),this.type===_.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var n=this.isLet();if(this.type===_._var||this.type===_._const||n){var r=this.startNode(),i=n?"let":this.value;return this.next(),this.parseVar(r,!0,i),this.finishNode(r,"VariableDeclaration"),(this.type===_._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&1===r.declarations.length?(this.options.ecmaVersion>=9&&(this.type===_._in?t>-1&&this.unexpected(t):e.await=t>-1),this.parseForIn(e,r)):(t>-1&&this.unexpected(t),this.parseFor(e,r))}var s=new G,a=this.parseExpression(!0,s);return this.type===_._in||this.options.ecmaVersion>=6&&this.isContextual("of")?(this.options.ecmaVersion>=9&&(this.type===_._in?t>-1&&this.unexpected(t):e.await=t>-1),this.toAssignable(a,!1,s),this.checkLVal(a),this.parseForIn(e,a)):(this.checkExpressionErrors(s,!0),t>-1&&this.unexpected(t),this.parseFor(e,a))},Q.parseFunctionStatement=function(e,t,n){return this.next(),this.parseFunction(e,J|(n?0:X),!1,t)},Q.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(_._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")},Q.parseReturnStatement=function(e){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(_.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")},Q.parseSwitchStatement=function(e){var t;this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(_.braceL),this.labels.push(Y),this.enterScope(0);for(var n=!1;this.type!==_.braceR;)if(this.type===_._case||this.type===_._default){var r=this.type===_._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),r?t.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,t.test=null),this.expect(_.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")},Q.parseThrowStatement=function(e){return this.next(),k.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var K=[];Q.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===_._catch){var t=this.startNode();if(this.next(),this.eat(_.parenL)){t.param=this.parseBindingAtom();var n="Identifier"===t.param.type;this.enterScope(n?32:0),this.checkLVal(t.param,n?4:2),this.expect(_.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0);t.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(_._finally)?this.parseBlock():null,e.handler||e.finalizer||this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")},Q.parseVarStatement=function(e,t){return this.next(),this.parseVar(e,!1,t),this.semicolon(),this.finishNode(e,"VariableDeclaration")},Q.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(Z),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")},Q.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")},Q.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")},Q.parseLabeledStatement=function(e,t,n,r){for(var i=0,s=this.labels;i<s.length;i+=1)s[i].name===t&&this.raise(n.start,"Label '"+t+"' is already declared");for(var a=this.type.isLoop?"loop":this.type===_._switch?"switch":null,o=this.labels.length-1;o>=0;o--){var l=this.labels[o];if(l.statementStart!==e.start)break;l.statementStart=this.start,l.kind=a}return this.labels.push({name:t,kind:a,statementStart:this.start}),e.body=this.parseStatement(r?-1===r.indexOf("label")?r+"label":r:"label"),this.labels.pop(),e.label=n,this.finishNode(e,"LabeledStatement")},Q.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")},Q.parseBlock=function(e,t){for(void 0===e&&(e=!0),void 0===t&&(t=this.startNode()),t.body=[],this.expect(_.braceL),e&&this.enterScope(0);!this.eat(_.braceR);){var n=this.parseStatement(null);t.body.push(n)}return e&&this.exitScope(),this.finishNode(t,"BlockStatement")},Q.parseFor=function(e,t){return e.init=t,this.expect(_.semi),e.test=this.type===_.semi?null:this.parseExpression(),this.expect(_.semi),e.update=this.type===_.parenR?null:this.parseExpression(),this.expect(_.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")},Q.parseForIn=function(e,t){var n=this.type===_._in;return this.next(),"VariableDeclaration"===t.type&&null!=t.declarations[0].init&&(!n||this.options.ecmaVersion<8||this.strict||"var"!==t.kind||"Identifier"!==t.declarations[0].id.type)?this.raise(t.start,(n?"for-in":"for-of")+" loop variable declaration may not have an initializer"):"AssignmentPattern"===t.type&&this.raise(t.start,"Invalid left-hand side in for-loop"),e.left=t,e.right=n?this.parseExpression():this.parseMaybeAssign(),this.expect(_.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,n?"ForInStatement":"ForOfStatement")},Q.parseVar=function(e,t,n){for(e.declarations=[],e.kind=n;;){var r=this.startNode();if(this.parseVarId(r,n),this.eat(_.eq)?r.init=this.parseMaybeAssign(t):"const"!==n||this.type===_._in||this.options.ecmaVersion>=6&&this.isContextual("of")?"Identifier"===r.id.type||t&&(this.type===_._in||this.isContextual("of"))?r.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.unexpected(),e.declarations.push(this.finishNode(r,"VariableDeclarator")),!this.eat(_.comma))break}return e},Q.parseVarId=function(e,t){e.id=this.parseBindingAtom(),this.checkLVal(e.id,"var"===t?1:2,!1)};var J=1,X=2;Q.parseFunction=function(e,t,n,r){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!r)&&(this.type===_.star&&t&X&&this.unexpected(),e.generator=this.eat(_.star)),this.options.ecmaVersion>=8&&(e.async=!!r),t&J&&(e.id=4&t&&this.type!==_.name?null:this.parseIdent(),!e.id||t&X||this.checkLVal(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?1:2:3));var i=this.yieldPos,s=this.awaitPos,a=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(H(e.async,e.generator)),t&J||(e.id=this.type===_.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,n,!1),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=a,this.finishNode(e,t&J?"FunctionDeclaration":"FunctionExpression")},Q.parseFunctionParams=function(e){this.expect(_.parenL),e.params=this.parseBindingList(_.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},Q.parseClass=function(e,t){this.next();var n=this.strict;this.strict=!0,this.parseClassId(e,t),this.parseClassSuper(e);var r=this.startNode(),i=!1;for(r.body=[],this.expect(_.braceL);!this.eat(_.braceR);){var s=this.parseClassElement(null!==e.superClass);s&&(r.body.push(s),"MethodDefinition"===s.type&&"constructor"===s.kind&&(i&&this.raise(s.start,"Duplicate constructor in the same class"),i=!0))}return e.body=this.finishNode(r,"ClassBody"),this.strict=n,this.finishNode(e,t?"ClassDeclaration":"ClassExpression")},Q.parseClassElement=function(e){var t=this;if(this.eat(_.semi))return null;var n=this.startNode(),r=function(e,r){void 0===r&&(r=!1);var i=t.start,s=t.startLoc;return!(!t.eatContextual(e)||(t.type===_.parenL||r&&t.canInsertSemicolon())&&(n.key&&t.unexpected(),n.computed=!1,n.key=t.startNodeAt(i,s),n.key.name=e,t.finishNode(n.key,"Identifier"),1))};n.kind="method",n.static=r("static");var i=this.eat(_.star),s=!1;i||(this.options.ecmaVersion>=8&&r("async",!0)?(s=!0,i=this.options.ecmaVersion>=9&&this.eat(_.star)):r("get")?n.kind="get":r("set")&&(n.kind="set")),n.key||this.parsePropertyName(n);var a=n.key,o=!1;return n.computed||n.static||!("Identifier"===a.type&&"constructor"===a.name||"Literal"===a.type&&"constructor"===a.value)?n.static&&"Identifier"===a.type&&"prototype"===a.name&&this.raise(a.start,"Classes may not have a static property named prototype"):("method"!==n.kind&&this.raise(a.start,"Constructor can't have get/set modifier"),i&&this.raise(a.start,"Constructor can't be a generator"),s&&this.raise(a.start,"Constructor can't be an async method"),n.kind="constructor",o=e),this.parseClassMethod(n,i,s,o),"get"===n.kind&&0!==n.value.params.length&&this.raiseRecoverable(n.value.start,"getter should have no params"),"set"===n.kind&&1!==n.value.params.length&&this.raiseRecoverable(n.value.start,"setter should have exactly one param"),"set"===n.kind&&"RestElement"===n.value.params[0].type&&this.raiseRecoverable(n.value.params[0].start,"Setter cannot use rest params"),n},Q.parseClassMethod=function(e,t,n,r){return e.value=this.parseMethod(t,n,r),this.finishNode(e,"MethodDefinition")},Q.parseClassId=function(e,t){this.type===_.name?(e.id=this.parseIdent(),t&&this.checkLVal(e.id,2,!1)):(!0===t&&this.unexpected(),e.id=null)},Q.parseClassSuper=function(e){e.superClass=this.eat(_._extends)?this.parseExprSubscripts():null},Q.parseExport=function(e,t){if(this.next(),this.eat(_.star))return this.expectContextual("from"),this.type!==_.string&&this.unexpected(),e.source=this.parseExprAtom(),this.semicolon(),this.finishNode(e,"ExportAllDeclaration");if(this.eat(_._default)){var n;if(this.checkExport(t,"default",this.lastTokStart),this.type===_._function||(n=this.isAsyncFunction())){var r=this.startNode();this.next(),n&&this.next(),e.declaration=this.parseFunction(r,4|J,!1,n)}else if(this.type===_._class){var i=this.startNode();e.declaration=this.parseClass(i,"nullableID")}else e.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(e,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())e.declaration=this.parseStatement(null),"VariableDeclaration"===e.declaration.type?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id.name,e.declaration.id.start),e.specifiers=[],e.source=null;else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==_.string&&this.unexpected(),e.source=this.parseExprAtom();else{for(var s=0,a=e.specifiers;s<a.length;s+=1){var o=a[s];this.checkUnreserved(o.local),this.checkLocalExport(o.local)}e.source=null}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")},Q.checkExport=function(e,t,n){e&&(V(e,t)&&this.raiseRecoverable(n,"Duplicate export '"+t+"'"),e[t]=!0)},Q.checkPatternExport=function(e,t){var n=t.type;if("Identifier"===n)this.checkExport(e,t.name,t.start);else if("ObjectPattern"===n)for(var r=0,i=t.properties;r<i.length;r+=1){var s=i[r];this.checkPatternExport(e,s)}else if("ArrayPattern"===n)for(var a=0,o=t.elements;a<o.length;a+=1){var l=o[a];l&&this.checkPatternExport(e,l)}else"Property"===n?this.checkPatternExport(e,t.value):"AssignmentPattern"===n?this.checkPatternExport(e,t.left):"RestElement"===n?this.checkPatternExport(e,t.argument):"ParenthesizedExpression"===n&&this.checkPatternExport(e,t.expression)},Q.checkVariableExport=function(e,t){if(e)for(var n=0,r=t;n<r.length;n+=1){var i=r[n];this.checkPatternExport(e,i.id)}},Q.shouldParseExportStatement=function(){return"var"===this.type.keyword||"const"===this.type.keyword||"class"===this.type.keyword||"function"===this.type.keyword||this.isLet()||this.isAsyncFunction()},Q.parseExportSpecifiers=function(e){var t=[],n=!0;for(this.expect(_.braceL);!this.eat(_.braceR);){if(n)n=!1;else if(this.expect(_.comma),this.afterTrailingComma(_.braceR))break;var r=this.startNode();r.local=this.parseIdent(!0),r.exported=this.eatContextual("as")?this.parseIdent(!0):r.local,this.checkExport(e,r.exported.name,r.exported.start),t.push(this.finishNode(r,"ExportSpecifier"))}return t},Q.parseImport=function(e){return this.next(),this.type===_.string?(e.specifiers=K,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===_.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(e,"ImportDeclaration")},Q.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===_.name){var n=this.startNode();if(n.local=this.parseIdent(),this.checkLVal(n.local,2),e.push(this.finishNode(n,"ImportDefaultSpecifier")),!this.eat(_.comma))return e}if(this.type===_.star){var r=this.startNode();return this.next(),this.expectContextual("as"),r.local=this.parseIdent(),this.checkLVal(r.local,2),e.push(this.finishNode(r,"ImportNamespaceSpecifier")),e}for(this.expect(_.braceL);!this.eat(_.braceR);){if(t)t=!1;else if(this.expect(_.comma),this.afterTrailingComma(_.braceR))break;var i=this.startNode();i.imported=this.parseIdent(!0),this.eatContextual("as")?i.local=this.parseIdent():(this.checkUnreserved(i.imported),i.local=i.imported),this.checkLVal(i.local,2),e.push(this.finishNode(i,"ImportSpecifier"))}return e},Q.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)},Q.isDirectiveCandidate=function(e){return"ExpressionStatement"===e.type&&"Literal"===e.expression.type&&"string"==typeof e.expression.value&&('"'===this.input[e.start]||"'"===this.input[e.start])};var ee=q.prototype;ee.toAssignable=function(e,t,n){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&"await"===e.name&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var r=0,i=e.properties;r<i.length;r+=1){var s=i[r];this.toAssignable(s,t),"RestElement"!==s.type||"ArrayPattern"!==s.argument.type&&"ObjectPattern"!==s.argument.type||this.raise(s.argument.start,"Unexpected token")}break;case"Property":"init"!==e.kind&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),"AssignmentPattern"===e.argument.type&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":"="!==e.operator&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);case"AssignmentPattern":break;case"ParenthesizedExpression":this.toAssignable(e.expression,t,n);break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return e},ee.toAssignableList=function(e,t){for(var n=e.length,r=0;r<n;r++){var i=e[r];i&&this.toAssignable(i,t)}if(n){var s=e[n-1];6===this.options.ecmaVersion&&t&&s&&"RestElement"===s.type&&"Identifier"!==s.argument.type&&this.unexpected(s.argument.start)}return e},ee.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")},ee.parseRestBinding=function(){var e=this.startNode();return this.next(),6===this.options.ecmaVersion&&this.type!==_.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")},ee.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case _.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(_.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case _.braceL:return this.parseObj(!0)}return this.parseIdent()},ee.parseBindingList=function(e,t,n){for(var r=[],i=!0;!this.eat(e);)if(i?i=!1:this.expect(_.comma),t&&this.type===_.comma)r.push(null);else{if(n&&this.afterTrailingComma(e))break;if(this.type===_.ellipsis){var s=this.parseRestBinding();this.parseBindingListItem(s),r.push(s),this.type===_.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}var a=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(a),r.push(a)}return r},ee.parseBindingListItem=function(e){return e},ee.parseMaybeDefault=function(e,t,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(_.eq))return n;var r=this.startNodeAt(e,t);return r.left=n,r.right=this.parseMaybeAssign(),this.finishNode(r,"AssignmentPattern")},ee.checkLVal=function(e,t,n){switch(void 0===t&&(t=0),e.type){case"Identifier":2===t&&"let"===e.name&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(t?"Binding ":"Assigning to ")+e.name+" in strict mode"),n&&(V(n,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),n[e.name]=!0),0!==t&&5!==t&&this.declareName(e.name,t,e.start);break;case"MemberExpression":t&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ObjectPattern":for(var r=0,i=e.properties;r<i.length;r+=1){var s=i[r];this.checkLVal(s,t,n)}break;case"Property":this.checkLVal(e.value,t,n);break;case"ArrayPattern":for(var a=0,o=e.elements;a<o.length;a+=1){var l=o[a];l&&this.checkLVal(l,t,n)}break;case"AssignmentPattern":this.checkLVal(e.left,t,n);break;case"RestElement":this.checkLVal(e.argument,t,n);break;case"ParenthesizedExpression":this.checkLVal(e.expression,t,n);break;default:this.raise(e.start,(t?"Binding":"Assigning to")+" rvalue")}};var te=q.prototype;te.checkPropClash=function(e,t,n){if(!(this.options.ecmaVersion>=9&&"SpreadElement"===e.type||this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var r,i=e.key;switch(i.type){case"Identifier":r=i.name;break;case"Literal":r=String(i.value);break;default:return}var s=e.kind;if(this.options.ecmaVersion>=6)"__proto__"===r&&"init"===s&&(t.proto&&(n&&n.doubleProto<0?n.doubleProto=i.start:this.raiseRecoverable(i.start,"Redefinition of __proto__ property")),t.proto=!0);else{var a=t[r="$"+r];a?("init"===s?this.strict&&a.init||a.get||a.set:a.init||a[s])&&this.raiseRecoverable(i.start,"Redefinition of property"):a=t[r]={init:!1,get:!1,set:!1},a[s]=!0}}},te.parseExpression=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeAssign(e,t);if(this.type===_.comma){var s=this.startNodeAt(n,r);for(s.expressions=[i];this.eat(_.comma);)s.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(s,"SequenceExpression")}return i},te.parseMaybeAssign=function(e,t,n){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var r=!1,i=-1,s=-1,a=-1;t?(i=t.parenthesizedAssign,s=t.trailingComma,a=t.shorthandAssign,t.parenthesizedAssign=t.trailingComma=t.shorthandAssign=-1):(t=new G,r=!0);var o=this.start,l=this.startLoc;this.type!==_.parenL&&this.type!==_.name||(this.potentialArrowAt=this.start);var c=this.parseMaybeConditional(e,t);if(n&&(c=n.call(this,c,o,l)),this.type.isAssign){var u=this.startNodeAt(o,l);return u.operator=this.value,u.left=this.type===_.eq?this.toAssignable(c,!1,t):c,r||G.call(t),t.shorthandAssign=-1,this.checkLVal(c),this.next(),u.right=this.parseMaybeAssign(e),this.finishNode(u,"AssignmentExpression")}return r&&this.checkExpressionErrors(t,!0),i>-1&&(t.parenthesizedAssign=i),s>-1&&(t.trailingComma=s),a>-1&&(t.shorthandAssign=a),c},te.parseMaybeConditional=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return i;if(this.eat(_.question)){var s=this.startNodeAt(n,r);return s.test=i,s.consequent=this.parseMaybeAssign(),this.expect(_.colon),s.alternate=this.parseMaybeAssign(e),this.finishNode(s,"ConditionalExpression")}return i},te.parseExprOps=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeUnary(t,!1);return this.checkExpressionErrors(t)||i.start===n&&"ArrowFunctionExpression"===i.type?i:this.parseExprOp(i,n,r,-1,e)},te.parseExprOp=function(e,t,n,r,i){var s=this.type.binop;if(null!=s&&(!i||this.type!==_._in)&&s>r){var a=this.type===_.logicalOR||this.type===_.logicalAND,o=this.value;this.next();var l=this.start,c=this.startLoc,u=this.parseExprOp(this.parseMaybeUnary(null,!1),l,c,s,i),h=this.buildBinary(t,n,e,u,o,a);return this.parseExprOp(h,t,n,r,i)}return e},te.buildBinary=function(e,t,n,r,i,s){var a=this.startNodeAt(e,t);return a.left=n,a.operator=i,a.right=r,this.finishNode(a,s?"LogicalExpression":"BinaryExpression")},te.parseMaybeUnary=function(e,t){var n,r=this.start,i=this.startLoc;if(this.isContextual("await")&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction))n=this.parseAwait(),t=!0;else if(this.type.prefix){var s=this.startNode(),a=this.type===_.incDec;s.operator=this.value,s.prefix=!0,this.next(),s.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(e,!0),a?this.checkLVal(s.argument):this.strict&&"delete"===s.operator&&"Identifier"===s.argument.type?this.raiseRecoverable(s.start,"Deleting local variable in strict mode"):t=!0,n=this.finishNode(s,a?"UpdateExpression":"UnaryExpression")}else{if(n=this.parseExprSubscripts(e),this.checkExpressionErrors(e))return n;for(;this.type.postfix&&!this.canInsertSemicolon();){var o=this.startNodeAt(r,i);o.operator=this.value,o.prefix=!1,o.argument=n,this.checkLVal(n),this.next(),n=this.finishNode(o,"UpdateExpression")}}return!t&&this.eat(_.starstar)?this.buildBinary(r,i,n,this.parseMaybeUnary(null,!1),"**",!1):n},te.parseExprSubscripts=function(e){var t=this.start,n=this.startLoc,r=this.parseExprAtom(e),i="ArrowFunctionExpression"===r.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd);if(this.checkExpressionErrors(e)||i)return r;var s=this.parseSubscripts(r,t,n);return e&&"MemberExpression"===s.type&&(e.parenthesizedAssign>=s.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=s.start&&(e.parenthesizedBind=-1)),s},te.parseSubscripts=function(e,t,n,r){for(var i=this.options.ecmaVersion>=8&&"Identifier"===e.type&&"async"===e.name&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&"async"===this.input.slice(e.start,e.end);;){var s=this.parseSubscript(e,t,n,r,i);if(s===e||"ArrowFunctionExpression"===s.type)return s;e=s}},te.parseSubscript=function(e,t,n,r,i){var s=this.eat(_.bracketL);if(s||this.eat(_.dot)){var a=this.startNodeAt(t,n);a.object=e,a.property=s?this.parseExpression():this.parseIdent("never"!==this.options.allowReserved),a.computed=!!s,s&&this.expect(_.bracketR),e=this.finishNode(a,"MemberExpression")}else if(!r&&this.eat(_.parenL)){var o=new G,l=this.yieldPos,c=this.awaitPos,u=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var h=this.parseExprList(_.parenR,this.options.ecmaVersion>=8&&"Import"!==e.type,!1,o);if(i&&!this.canInsertSemicolon()&&this.eat(_.arrow))return this.checkPatternErrors(o,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=l,this.awaitPos=c,this.awaitIdentPos=u,this.parseArrowExpression(this.startNodeAt(t,n),h,!0);this.checkExpressionErrors(o,!0),this.yieldPos=l||this.yieldPos,this.awaitPos=c||this.awaitPos,this.awaitIdentPos=u||this.awaitIdentPos;var p=this.startNodeAt(t,n);if(p.callee=e,p.arguments=h,"Import"===p.callee.type){1!==p.arguments.length&&this.raise(p.start,"import() requires exactly one argument");var d=p.arguments[0];d&&"SpreadElement"===d.type&&this.raise(d.start,"... is not allowed in import()")}e=this.finishNode(p,"CallExpression")}else if(this.type===_.backQuote){var f=this.startNodeAt(t,n);f.tag=e,f.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(f,"TaggedTemplateExpression")}return e},te.parseExprAtom=function(e){this.type===_.slash&&this.readRegexp();var t,n=this.potentialArrowAt===this.start;switch(this.type){case _._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),t=this.startNode(),this.next(),this.type!==_.parenL||this.allowDirectSuper||this.raise(t.start,"super() call outside constructor of a subclass"),this.type!==_.dot&&this.type!==_.bracketL&&this.type!==_.parenL&&this.unexpected(),this.finishNode(t,"Super");case _._this:return t=this.startNode(),this.next(),this.finishNode(t,"ThisExpression");case _.name:var r=this.start,i=this.startLoc,s=this.containsEsc,a=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!s&&"async"===a.name&&!this.canInsertSemicolon()&&this.eat(_._function))return this.parseFunction(this.startNodeAt(r,i),0,!1,!0);if(n&&!this.canInsertSemicolon()){if(this.eat(_.arrow))return this.parseArrowExpression(this.startNodeAt(r,i),[a],!1);if(this.options.ecmaVersion>=8&&"async"===a.name&&this.type===_.name&&!s)return a=this.parseIdent(!1),!this.canInsertSemicolon()&&this.eat(_.arrow)||this.unexpected(),this.parseArrowExpression(this.startNodeAt(r,i),[a],!0)}return a;case _.regexp:var o=this.value;return(t=this.parseLiteral(o.value)).regex={pattern:o.pattern,flags:o.flags},t;case _.num:case _.string:return this.parseLiteral(this.value);case _._null:case _._true:case _._false:return(t=this.startNode()).value=this.type===_._null?null:this.type===_._true,t.raw=this.type.keyword,this.next(),this.finishNode(t,"Literal");case _.parenL:var l=this.start,c=this.parseParenAndDistinguishExpression(n);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(c)&&(e.parenthesizedAssign=l),e.parenthesizedBind<0&&(e.parenthesizedBind=l)),c;case _.bracketL:return t=this.startNode(),this.next(),t.elements=this.parseExprList(_.bracketR,!0,!0,e),this.finishNode(t,"ArrayExpression");case _.braceL:return this.parseObj(!1,e);case _._function:return t=this.startNode(),this.next(),this.parseFunction(t,0);case _._class:return this.parseClass(this.startNode(),!1);case _._new:return this.parseNew();case _.backQuote:return this.parseTemplate();case _._import:return this.options.ecmaVersion>10?this.parseDynamicImport():this.unexpected();default:this.unexpected()}},te.parseDynamicImport=function(){var e=this.startNode();return this.next(),this.type!==_.parenL&&this.unexpected(),this.finishNode(e,"Import")},te.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),110===t.raw.charCodeAt(t.raw.length-1)&&(t.bigint=t.raw.slice(0,-1)),this.next(),this.finishNode(t,"Literal")},te.parseParenExpression=function(){this.expect(_.parenL);var e=this.parseExpression();return this.expect(_.parenR),e},te.parseParenAndDistinguishExpression=function(e){var t,n=this.start,r=this.startLoc,i=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var s,a=this.start,o=this.startLoc,l=[],c=!0,u=!1,h=new G,p=this.yieldPos,d=this.awaitPos;for(this.yieldPos=0,this.awaitPos=0;this.type!==_.parenR;){if(c?c=!1:this.expect(_.comma),i&&this.afterTrailingComma(_.parenR,!0)){u=!0;break}if(this.type===_.ellipsis){s=this.start,l.push(this.parseParenItem(this.parseRestBinding())),this.type===_.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}l.push(this.parseMaybeAssign(!1,h,this.parseParenItem))}var f=this.start,m=this.startLoc;if(this.expect(_.parenR),e&&!this.canInsertSemicolon()&&this.eat(_.arrow))return this.checkPatternErrors(h,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=p,this.awaitPos=d,this.parseParenArrowList(n,r,l);l.length&&!u||this.unexpected(this.lastTokStart),s&&this.unexpected(s),this.checkExpressionErrors(h,!0),this.yieldPos=p||this.yieldPos,this.awaitPos=d||this.awaitPos,l.length>1?((t=this.startNodeAt(a,o)).expressions=l,this.finishNodeAt(t,"SequenceExpression",f,m)):t=l[0]}else t=this.parseParenExpression();if(this.options.preserveParens){var g=this.startNodeAt(n,r);return g.expression=t,this.finishNode(g,"ParenthesizedExpression")}return t},te.parseParenItem=function(e){return e},te.parseParenArrowList=function(e,t,n){return this.parseArrowExpression(this.startNodeAt(e,t),n)};var ne=[];te.parseNew=function(){var e=this.startNode(),t=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(_.dot)){e.meta=t;var n=this.containsEsc;return e.property=this.parseIdent(!0),("target"!==e.property.name||n)&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is new.target"),this.inNonArrowFunction()||this.raiseRecoverable(e.start,"new.target can only be used in functions"),this.finishNode(e,"MetaProperty")}var r=this.start,i=this.startLoc;return e.callee=this.parseSubscripts(this.parseExprAtom(),r,i,!0),this.options.ecmaVersion>10&&"Import"===e.callee.type&&this.raise(e.callee.start,"Cannot use new with import(...)"),this.eat(_.parenL)?e.arguments=this.parseExprList(_.parenR,this.options.ecmaVersion>=8&&"Import"!==e.callee.type,!1):e.arguments=ne,this.finishNode(e,"NewExpression")},te.parseTemplateElement=function(e){var t=e.isTagged,n=this.startNode();return this.type===_.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value,cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),n.tail=this.type===_.backQuote,this.finishNode(n,"TemplateElement")},te.parseTemplate=function(e){void 0===e&&(e={});var t=e.isTagged;void 0===t&&(t=!1);var n=this.startNode();this.next(),n.expressions=[];var r=this.parseTemplateElement({isTagged:t});for(n.quasis=[r];!r.tail;)this.type===_.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(_.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(_.braceR),n.quasis.push(r=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(n,"TemplateLiteral")},te.isAsyncProp=function(e){return!e.computed&&"Identifier"===e.key.type&&"async"===e.key.name&&(this.type===_.name||this.type===_.num||this.type===_.string||this.type===_.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===_.star)&&!k.test(this.input.slice(this.lastTokEnd,this.start))},te.parseObj=function(e,t){var n=this.startNode(),r=!0,i={};for(n.properties=[],this.next();!this.eat(_.braceR);){if(r)r=!1;else if(this.expect(_.comma),this.afterTrailingComma(_.braceR))break;var s=this.parseProperty(e,t);e||this.checkPropClash(s,i,t),n.properties.push(s)}return this.finishNode(n,e?"ObjectPattern":"ObjectExpression")},te.parseProperty=function(e,t){var n,r,i,s,a=this.startNode();if(this.options.ecmaVersion>=9&&this.eat(_.ellipsis))return e?(a.argument=this.parseIdent(!1),this.type===_.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(a,"RestElement")):(this.type===_.parenL&&t&&(t.parenthesizedAssign<0&&(t.parenthesizedAssign=this.start),t.parenthesizedBind<0&&(t.parenthesizedBind=this.start)),a.argument=this.parseMaybeAssign(!1,t),this.type===_.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(a,"SpreadElement"));this.options.ecmaVersion>=6&&(a.method=!1,a.shorthand=!1,(e||t)&&(i=this.start,s=this.startLoc),e||(n=this.eat(_.star)));var o=this.containsEsc;return this.parsePropertyName(a),!e&&!o&&this.options.ecmaVersion>=8&&!n&&this.isAsyncProp(a)?(r=!0,n=this.options.ecmaVersion>=9&&this.eat(_.star),this.parsePropertyName(a,t)):r=!1,this.parsePropertyValue(a,e,n,r,i,s,t,o),this.finishNode(a,"Property")},te.parsePropertyValue=function(e,t,n,r,i,s,a,o){if((n||r)&&this.type===_.colon&&this.unexpected(),this.eat(_.colon))e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,a),e.kind="init";else if(this.options.ecmaVersion>=6&&this.type===_.parenL)t&&this.unexpected(),e.kind="init",e.method=!0,e.value=this.parseMethod(n,r);else if(t||o||!(this.options.ecmaVersion>=5)||e.computed||"Identifier"!==e.key.type||"get"!==e.key.name&&"set"!==e.key.name||this.type===_.comma||this.type===_.braceR)this.options.ecmaVersion>=6&&!e.computed&&"Identifier"===e.key.type?((n||r)&&this.unexpected(),this.checkUnreserved(e.key),"await"!==e.key.name||this.awaitIdentPos||(this.awaitIdentPos=i),e.kind="init",t?e.value=this.parseMaybeDefault(i,s,e.key):this.type===_.eq&&a?(a.shorthandAssign<0&&(a.shorthandAssign=this.start),e.value=this.parseMaybeDefault(i,s,e.key)):e.value=e.key,e.shorthand=!0):this.unexpected();else{(n||r)&&this.unexpected(),e.kind=e.key.name,this.parsePropertyName(e),e.value=this.parseMethod(!1);var l="get"===e.kind?0:1;if(e.value.params.length!==l){var c=e.value.start;"get"===e.kind?this.raiseRecoverable(c,"getter should have no params"):this.raiseRecoverable(c,"setter should have exactly one param")}else"set"===e.kind&&"RestElement"===e.value.params[0].type&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")}},te.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(_.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(_.bracketR),e.key;e.computed=!1}return e.key=this.type===_.num||this.type===_.string?this.parseExprAtom():this.parseIdent("never"!==this.options.allowReserved)},te.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)},te.parseMethod=function(e,t,n){var r=this.startNode(),i=this.yieldPos,s=this.awaitPos,a=this.awaitIdentPos;return this.initFunction(r),this.options.ecmaVersion>=6&&(r.generator=e),this.options.ecmaVersion>=8&&(r.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(64|H(t,r.generator)|(n?128:0)),this.expect(_.parenL),r.params=this.parseBindingList(_.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(r,!1,!0),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=a,this.finishNode(r,"FunctionExpression")},te.parseArrowExpression=function(e,t,n){var r=this.yieldPos,i=this.awaitPos,s=this.awaitIdentPos;return this.enterScope(16|H(n,!1)),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!n),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0,!1),this.yieldPos=r,this.awaitPos=i,this.awaitIdentPos=s,this.finishNode(e,"ArrowFunctionExpression")},te.parseFunctionBody=function(e,t,n){var r=t&&this.type!==_.braceL,i=this.strict,s=!1;if(r)e.body=this.parseMaybeAssign(),e.expression=!0,this.checkParams(e,!1);else{var a=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);i&&!a||(s=this.strictDirective(this.end))&&a&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list");var o=this.labels;this.labels=[],s&&(this.strict=!0),this.checkParams(e,!i&&!s&&!t&&!n&&this.isSimpleParamList(e.params)),e.body=this.parseBlock(!1),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=o}this.exitScope(),this.strict&&e.id&&this.checkLVal(e.id,5),this.strict=i},te.isSimpleParamList=function(e){for(var t=0,n=e;t<n.length;t+=1)if("Identifier"!==n[t].type)return!1;return!0},te.checkParams=function(e,t){for(var n={},r=0,i=e.params;r<i.length;r+=1){var s=i[r];this.checkLVal(s,1,t?null:n)}},te.parseExprList=function(e,t,n,r){for(var i=[],s=!0;!this.eat(e);){if(s)s=!1;else if(this.expect(_.comma),t&&this.afterTrailingComma(e))break;var a=void 0;n&&this.type===_.comma?a=null:this.type===_.ellipsis?(a=this.parseSpread(r),r&&this.type===_.comma&&r.trailingComma<0&&(r.trailingComma=this.start)):a=this.parseMaybeAssign(!1,r),i.push(a)}return i},te.checkUnreserved=function(e){var t=e.start,n=e.end,r=e.name;this.inGenerator&&"yield"===r&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&"await"===r&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),this.keywords.test(r)&&this.raise(t,"Unexpected keyword '"+r+"'"),this.options.ecmaVersion<6&&-1!==this.input.slice(t,n).indexOf("\\")||(this.strict?this.reservedWordsStrict:this.reservedWords).test(r)&&(this.inAsync||"await"!==r||this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+r+"' is reserved"))},te.parseIdent=function(e,t){var n=this.startNode();return this.type===_.name?n.name=this.value:this.type.keyword?(n.name=this.type.keyword,"class"!==n.name&&"function"!==n.name||this.lastTokEnd===this.lastTokStart+1&&46===this.input.charCodeAt(this.lastTokStart)||this.context.pop()):this.unexpected(),this.next(),this.finishNode(n,"Identifier"),e||(this.checkUnreserved(n),"await"!==n.name||this.awaitIdentPos||(this.awaitIdentPos=n.start)),n},te.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===_.semi||this.canInsertSemicolon()||this.type!==_.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(_.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")},te.parseAwait=function(){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0),this.finishNode(e,"AwaitExpression")};var re=q.prototype;re.raise=function(e,t){var n=M(this.input,e);t+=" ("+n.line+":"+n.column+")";var r=new SyntaxError(t);throw r.pos=e,r.loc=n,r.raisedAt=this.pos,r},re.raiseRecoverable=re.raise,re.curPosition=function(){if(this.options.locations)return new N(this.curLine,this.pos-this.lineStart)};var ie=q.prototype,se=function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[]};ie.enterScope=function(e){this.scopeStack.push(new se(e))},ie.exitScope=function(){this.scopeStack.pop()},ie.treatFunctionsAsVarInScope=function(e){return e.flags&B||!this.inModule&&1&e.flags},ie.declareName=function(e,t,n){var r=!1;if(2===t){var i=this.currentScope();r=i.lexical.indexOf(e)>-1||i.functions.indexOf(e)>-1||i.var.indexOf(e)>-1,i.lexical.push(e),this.inModule&&1&i.flags&&delete this.undefinedExports[e]}else if(4===t)this.currentScope().lexical.push(e);else if(3===t){var s=this.currentScope();r=this.treatFunctionsAsVar?s.lexical.indexOf(e)>-1:s.lexical.indexOf(e)>-1||s.var.indexOf(e)>-1,s.functions.push(e)}else for(var a=this.scopeStack.length-1;a>=0;--a){var o=this.scopeStack[a];if(o.lexical.indexOf(e)>-1&&!(32&o.flags&&o.lexical[0]===e)||!this.treatFunctionsAsVarInScope(o)&&o.functions.indexOf(e)>-1){r=!0;break}if(o.var.push(e),this.inModule&&1&o.flags&&delete this.undefinedExports[e],o.flags&F)break}r&&this.raiseRecoverable(n,"Identifier '"+e+"' has already been declared")},ie.checkLocalExport=function(e){-1===this.scopeStack[0].lexical.indexOf(e.name)&&-1===this.scopeStack[0].var.indexOf(e.name)&&(this.undefinedExports[e.name]=e)},ie.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},ie.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&F)return t}},ie.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&F&&!(16&t.flags))return t}};var ae=function(e,t,n){this.type="",this.start=t,this.end=0,e.options.locations&&(this.loc=new L(e,n)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[t,0])},oe=q.prototype;function le(e,t,n,r){return e.type=t,e.end=n,this.options.locations&&(e.loc.end=r),this.options.ranges&&(e.range[1]=n),e}oe.startNode=function(){return new ae(this,this.start,this.startLoc)},oe.startNodeAt=function(e,t){return new ae(this,e,t)},oe.finishNode=function(e,t){return le.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)},oe.finishNodeAt=function(e,t,n,r){return le.call(this,e,t,n,r)};var ce=function(e,t,n,r,i){this.token=e,this.isExpr=!!t,this.preserveSpace=!!n,this.override=r,this.generator=!!i},ue={b_stat:new ce("{",!1),b_expr:new ce("{",!0),b_tmpl:new ce("${",!1),p_stat:new ce("(",!1),p_expr:new ce("(",!0),q_tmpl:new ce("`",!0,!0,(function(e){return e.tryReadTemplateToken()})),f_stat:new ce("function",!1),f_expr:new ce("function",!0),f_expr_gen:new ce("function",!0,!1,null,!0),f_gen:new ce("function",!1,!1,null,!0)},he=q.prototype;he.initialContext=function(){return[ue.b_stat]},he.braceIsBlock=function(e){var t=this.curContext();return t===ue.f_expr||t===ue.f_stat||(e!==_.colon||t!==ue.b_stat&&t!==ue.b_expr?e===_._return||e===_.name&&this.exprAllowed?k.test(this.input.slice(this.lastTokEnd,this.start)):e===_._else||e===_.semi||e===_.eof||e===_.parenR||e===_.arrow||(e===_.braceL?t===ue.b_stat:e!==_._var&&e!==_._const&&e!==_.name&&!this.exprAllowed):!t.isExpr)},he.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if("function"===t.token)return t.generator}return!1},he.updateContext=function(e){var t,n=this.type;n.keyword&&e===_.dot?this.exprAllowed=!1:(t=n.updateContext)?t.call(this,e):this.exprAllowed=n.beforeExpr},_.parenR.updateContext=_.braceR.updateContext=function(){if(1!==this.context.length){var e=this.context.pop();e===ue.b_stat&&"function"===this.curContext().token&&(e=this.context.pop()),this.exprAllowed=!e.isExpr}else this.exprAllowed=!0},_.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?ue.b_stat:ue.b_expr),this.exprAllowed=!0},_.dollarBraceL.updateContext=function(){this.context.push(ue.b_tmpl),this.exprAllowed=!0},_.parenL.updateContext=function(e){var t=e===_._if||e===_._for||e===_._with||e===_._while;this.context.push(t?ue.p_stat:ue.p_expr),this.exprAllowed=!0},_.incDec.updateContext=function(){},_._function.updateContext=_._class.updateContext=function(e){!e.beforeExpr||e===_.semi||e===_._else||e===_._return&&k.test(this.input.slice(this.lastTokEnd,this.start))||(e===_.colon||e===_.braceL)&&this.curContext()===ue.b_stat?this.context.push(ue.f_stat):this.context.push(ue.f_expr),this.exprAllowed=!1},_.backQuote.updateContext=function(){this.curContext()===ue.q_tmpl?this.context.pop():this.context.push(ue.q_tmpl),this.exprAllowed=!1},_.star.updateContext=function(e){if(e===_._function){var t=this.context.length-1;this.context[t]===ue.f_expr?this.context[t]=ue.f_expr_gen:this.context[t]=ue.f_gen}this.exprAllowed=!0},_.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&e!==_.dot&&("of"===this.value&&!this.exprAllowed||"yield"===this.value&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var pe="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",de=pe+" Extended_Pictographic",fe={9:pe,10:de,11:de},me="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",ge="Adlam Adlm Ahom Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",ye=ge+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",ve={9:ge,10:ye,11:ye+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho"},be={};function xe(e){var t=be[e]={binary:R(fe[e]+" "+me),nonBinary:{General_Category:R(me),Script:R(ve[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}xe(9),xe(10),xe(11);var we=q.prototype,_e=function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":""),this.unicodeProperties=be[e.options.ecmaVersion>=11?11:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};function ke(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}function Se(e){return 36===e||e>=40&&e<=43||46===e||63===e||e>=91&&e<=94||e>=123&&e<=125}function Ee(e){return e>=65&&e<=90||e>=97&&e<=122}function Ie(e){return Ee(e)||95===e}function Ce(e){return Ie(e)||Pe(e)}function Pe(e){return e>=48&&e<=57}function Ae(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function Te(e){return e>=65&&e<=70?e-65+10:e>=97&&e<=102?e-97+10:e-48}function Ve(e){return e>=48&&e<=55}_e.prototype.reset=function(e,t,n){var r=-1!==n.indexOf("u");this.start=0|e,this.source=t+"",this.flags=n,this.switchU=r&&this.parser.options.ecmaVersion>=6,this.switchN=r&&this.parser.options.ecmaVersion>=9},_e.prototype.raise=function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},_e.prototype.at=function(e){var t=this.source,n=t.length;if(e>=n)return-1;var r=t.charCodeAt(e);if(!this.switchU||r<=55295||r>=57344||e+1>=n)return r;var i=t.charCodeAt(e+1);return i>=56320&&i<=57343?(r<<10)+i-56613888:r},_e.prototype.nextIndex=function(e){var t=this.source,n=t.length;if(e>=n)return n;var r,i=t.charCodeAt(e);return!this.switchU||i<=55295||i>=57344||e+1>=n||(r=t.charCodeAt(e+1))<56320||r>57343?e+1:e+2},_e.prototype.current=function(){return this.at(this.pos)},_e.prototype.lookahead=function(){return this.at(this.nextIndex(this.pos))},_e.prototype.advance=function(){this.pos=this.nextIndex(this.pos)},_e.prototype.eat=function(e){return this.current()===e&&(this.advance(),!0)},we.validateRegExpFlags=function(e){for(var t=e.validFlags,n=e.flags,r=0;r<n.length;r++){var i=n.charAt(r);-1===t.indexOf(i)&&this.raise(e.start,"Invalid regular expression flag"),n.indexOf(i,r+1)>-1&&this.raise(e.start,"Duplicate regular expression flag")}},we.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&e.groupNames.length>0&&(e.switchN=!0,this.regexp_pattern(e))},we.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames.length=0,e.backReferenceNames.length=0,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,n=e.backReferenceNames;t<n.length;t+=1){var r=n[t];-1===e.groupNames.indexOf(r)&&e.raise("Invalid named capture referenced")}},we.regexp_disjunction=function(e){for(this.regexp_alternative(e);e.eat(124);)this.regexp_alternative(e);this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")},we.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););},we.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):!!(e.switchU?this.regexp_eatAtom(e):this.regexp_eatExtendedAtom(e))&&(this.regexp_eatQuantifier(e),!0)},we.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var n=!1;if(this.options.ecmaVersion>=9&&(n=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!n,!0}return e.pos=t,!1},we.regexp_eatQuantifier=function(e,t){return void 0===t&&(t=!1),!!this.regexp_eatQuantifierPrefix(e,t)&&(e.eat(63),!0)},we.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)},we.regexp_eatBracedQuantifier=function(e,t){var n=e.pos;if(e.eat(123)){var r=0,i=-1;if(this.regexp_eatDecimalDigits(e)&&(r=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(i=e.lastIntValue),e.eat(125)))return-1!==i&&i<r&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=n}return!1},we.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)},we.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1},we.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)&&e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}e.pos=t}return!1},we.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):63===e.current()&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1},we.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)},we.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1},we.regexp_eatSyntaxCharacter=function(e){var t=e.current();return!!Se(t)&&(e.lastIntValue=t,e.advance(),!0)},we.regexp_eatPatternCharacters=function(e){for(var t=e.pos,n=0;-1!==(n=e.current())&&!Se(n);)e.advance();return e.pos!==t},we.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return!(-1===t||36===t||t>=40&&t<=43||46===t||63===t||91===t||94===t||124===t||(e.advance(),0))},we.regexp_groupSpecifier=function(e){if(e.eat(63)){if(this.regexp_eatGroupName(e))return-1!==e.groupNames.indexOf(e.lastStringValue)&&e.raise("Duplicate capture group name"),void e.groupNames.push(e.lastStringValue);e.raise("Invalid group")}},we.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1},we.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=ke(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=ke(e.lastIntValue);return!0}return!1},we.regexp_eatRegExpIdentifierStart=function(e){var t=e.pos,n=e.current();return e.advance(),92===n&&this.regexp_eatRegExpUnicodeEscapeSequence(e)&&(n=e.lastIntValue),function(e){return f(e,!0)||36===e||95===e}(n)?(e.lastIntValue=n,!0):(e.pos=t,!1)},we.regexp_eatRegExpIdentifierPart=function(e){var t=e.pos,n=e.current();return e.advance(),92===n&&this.regexp_eatRegExpUnicodeEscapeSequence(e)&&(n=e.lastIntValue),function(e){return m(e,!0)||36===e||95===e||8204===e||8205===e}(n)?(e.lastIntValue=n,!0):(e.pos=t,!1)},we.regexp_eatAtomEscape=function(e){return!!(this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e))||(e.switchU&&(99===e.current()&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)},we.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var n=e.lastIntValue;if(e.switchU)return n>e.maxBackReference&&(e.maxBackReference=n),!0;if(n<=e.numCapturingParens)return!0;e.pos=t}return!1},we.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1},we.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)},we.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1},we.regexp_eatZero=function(e){return 48===e.current()&&!Pe(e.lookahead())&&(e.lastIntValue=0,e.advance(),!0)},we.regexp_eatControlEscape=function(e){var t=e.current();return 116===t?(e.lastIntValue=9,e.advance(),!0):110===t?(e.lastIntValue=10,e.advance(),!0):118===t?(e.lastIntValue=11,e.advance(),!0):102===t?(e.lastIntValue=12,e.advance(),!0):114===t&&(e.lastIntValue=13,e.advance(),!0)},we.regexp_eatControlLetter=function(e){var t=e.current();return!!Ee(t)&&(e.lastIntValue=t%32,e.advance(),!0)},we.regexp_eatRegExpUnicodeEscapeSequence=function(e){var t=e.pos;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var n=e.lastIntValue;if(e.switchU&&n>=55296&&n<=56319){var r=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var i=e.lastIntValue;if(i>=56320&&i<=57343)return e.lastIntValue=1024*(n-55296)+(i-56320)+65536,!0}e.pos=r,e.lastIntValue=n}return!0}if(e.switchU&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&function(e){return e>=0&&e<=1114111}(e.lastIntValue))return!0;e.switchU&&e.raise("Invalid unicode escape"),e.pos=t}return!1},we.regexp_eatIdentityEscape=function(e){if(e.switchU)return!!this.regexp_eatSyntaxCharacter(e)||!!e.eat(47)&&(e.lastIntValue=47,!0);var t=e.current();return!(99===t||e.switchN&&107===t||(e.lastIntValue=t,e.advance(),0))},we.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do{e.lastIntValue=10*e.lastIntValue+(t-48),e.advance()}while((t=e.current())>=48&&t<=57);return!0}return!1},we.regexp_eatCharacterClassEscape=function(e){var t=e.current();if(function(e){return 100===e||68===e||115===e||83===e||119===e||87===e}(t))return e.lastIntValue=-1,e.advance(),!0;if(e.switchU&&this.options.ecmaVersion>=9&&(80===t||112===t)){if(e.lastIntValue=-1,e.advance(),e.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(e)&&e.eat(125))return!0;e.raise("Invalid property name")}return!1},we.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var n=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e)){var r=e.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(e,n,r),!0}}if(e.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(e)){var i=e.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(e,i),!0}return!1},we.regexp_validateUnicodePropertyNameAndValue=function(e,t,n){V(e.unicodeProperties.nonBinary,t)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[t].test(n)||e.raise("Invalid property value")},we.regexp_validateUnicodePropertyNameOrValue=function(e,t){e.unicodeProperties.binary.test(t)||e.raise("Invalid property name")},we.regexp_eatUnicodePropertyName=function(e){var t=0;for(e.lastStringValue="";Ie(t=e.current());)e.lastStringValue+=ke(t),e.advance();return""!==e.lastStringValue},we.regexp_eatUnicodePropertyValue=function(e){var t=0;for(e.lastStringValue="";Ce(t=e.current());)e.lastStringValue+=ke(t),e.advance();return""!==e.lastStringValue},we.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)},we.regexp_eatCharacterClass=function(e){if(e.eat(91)){if(e.eat(94),this.regexp_classRanges(e),e.eat(93))return!0;e.raise("Unterminated character class")}return!1},we.regexp_classRanges=function(e){for(;this.regexp_eatClassAtom(e);){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var n=e.lastIntValue;!e.switchU||-1!==t&&-1!==n||e.raise("Invalid character class"),-1!==t&&-1!==n&&t>n&&e.raise("Range out of order in character class")}}},we.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var n=e.current();(99===n||Ve(n))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var r=e.current();return 93!==r&&(e.lastIntValue=r,e.advance(),!0)},we.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)},we.regexp_eatClassControlLetter=function(e){var t=e.current();return!(!Pe(t)&&95!==t||(e.lastIntValue=t%32,e.advance(),0))},we.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1},we.regexp_eatDecimalDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;Pe(n=e.current());)e.lastIntValue=10*e.lastIntValue+(n-48),e.advance();return e.pos!==t},we.regexp_eatHexDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;Ae(n=e.current());)e.lastIntValue=16*e.lastIntValue+Te(n),e.advance();return e.pos!==t},we.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var n=e.lastIntValue;t<=3&&this.regexp_eatOctalDigit(e)?e.lastIntValue=64*t+8*n+e.lastIntValue:e.lastIntValue=8*t+n}else e.lastIntValue=t;return!0}return!1},we.regexp_eatOctalDigit=function(e){var t=e.current();return Ve(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)},we.regexp_eatFixedHexDigits=function(e,t){var n=e.pos;e.lastIntValue=0;for(var r=0;r<t;++r){var i=e.current();if(!Ae(i))return e.pos=n,!1;e.lastIntValue=16*e.lastIntValue+Te(i),e.advance()}return!0};var De=function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new L(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},Re=q.prototype;function Ne(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}Re.next=function(){this.options.onToken&&this.options.onToken(new De(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},Re.getToken=function(){return this.next(),new De(this)},"undefined"!=typeof Symbol&&(Re[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===_.eof,value:t}}}}),Re.curContext=function(){return this.context[this.context.length-1]},Re.nextToken=function(){var e=this.curContext();return e&&e.preserveSpace||this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(_.eof):e.override?e.override(this):void this.readToken(this.fullCharCodeAtPos())},Re.readToken=function(e){return f(e,this.options.ecmaVersion>=6)||92===e?this.readWord():this.getTokenFromCode(e)},Re.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);return e<=55295||e>=57344?e:(e<<10)+this.input.charCodeAt(this.pos+1)-56613888},Re.skipBlockComment=function(){var e,t=this.options.onComment&&this.curPosition(),n=this.pos,r=this.input.indexOf("*/",this.pos+=2);if(-1===r&&this.raise(this.pos-2,"Unterminated comment"),this.pos=r+2,this.options.locations)for(S.lastIndex=n;(e=S.exec(this.input))&&e.index<this.pos;)++this.curLine,this.lineStart=e.index+e[0].length;this.options.onComment&&this.options.onComment(!0,this.input.slice(n+2,r),n,this.pos,t,this.curPosition())},Re.skipLineComment=function(e){for(var t=this.pos,n=this.options.onComment&&this.curPosition(),r=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!E(r);)r=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,n,this.curPosition())},Re.skipSpace=function(){e:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:10===this.input.charCodeAt(this.pos+1)&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(!(e>8&&e<14||e>=5760&&I.test(String.fromCharCode(e))))break e;++this.pos}}},Re.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=e,this.value=t,this.updateContext(n)},Re.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&46===e&&46===t?(this.pos+=3,this.finishToken(_.ellipsis)):(++this.pos,this.finishToken(_.dot))},Re.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===e?this.finishOp(_.assign,2):this.finishOp(_.slash,1)},Re.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),n=1,r=42===e?_.star:_.modulo;return this.options.ecmaVersion>=7&&42===e&&42===t&&(++n,r=_.starstar,t=this.input.charCodeAt(this.pos+2)),61===t?this.finishOp(_.assign,n+1):this.finishOp(r,n)},Re.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?this.finishOp(124===e?_.logicalOR:_.logicalAND,2):61===t?this.finishOp(_.assign,2):this.finishOp(124===e?_.bitwiseOR:_.bitwiseAND,1)},Re.readToken_caret=function(){return 61===this.input.charCodeAt(this.pos+1)?this.finishOp(_.assign,2):this.finishOp(_.bitwiseXOR,1)},Re.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?45!==t||this.inModule||62!==this.input.charCodeAt(this.pos+2)||0!==this.lastTokEnd&&!k.test(this.input.slice(this.lastTokEnd,this.pos))?this.finishOp(_.incDec,2):(this.skipLineComment(3),this.skipSpace(),this.nextToken()):61===t?this.finishOp(_.assign,2):this.finishOp(_.plusMin,1)},Re.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),n=1;return t===e?(n=62===e&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+n)?this.finishOp(_.assign,n+1):this.finishOp(_.bitShift,n)):33!==t||60!==e||this.inModule||45!==this.input.charCodeAt(this.pos+2)||45!==this.input.charCodeAt(this.pos+3)?(61===t&&(n=2),this.finishOp(_.relational,n)):(this.skipLineComment(4),this.skipSpace(),this.nextToken())},Re.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return 61===t?this.finishOp(_.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===e&&62===t&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(_.arrow)):this.finishOp(61===e?_.eq:_.prefix,1)},Re.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(_.parenL);case 41:return++this.pos,this.finishToken(_.parenR);case 59:return++this.pos,this.finishToken(_.semi);case 44:return++this.pos,this.finishToken(_.comma);case 91:return++this.pos,this.finishToken(_.bracketL);case 93:return++this.pos,this.finishToken(_.bracketR);case 123:return++this.pos,this.finishToken(_.braceL);case 125:return++this.pos,this.finishToken(_.braceR);case 58:return++this.pos,this.finishToken(_.colon);case 63:return++this.pos,this.finishToken(_.question);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(_.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(120===t||88===t)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(111===t||79===t)return this.readRadixNumber(8);if(98===t||66===t)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 126:return this.finishOp(_.prefix,1)}this.raise(this.pos,"Unexpected character '"+Ne(e)+"'")},Re.finishOp=function(e,t){var n=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,n)},Re.readRegexp=function(){for(var e,t,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var r=this.input.charAt(this.pos);if(k.test(r)&&this.raise(n,"Unterminated regular expression"),e)e=!1;else{if("["===r)t=!0;else if("]"===r&&t)t=!1;else if("/"===r&&!t)break;e="\\"===r}++this.pos}var i=this.input.slice(n,this.pos);++this.pos;var s=this.pos,a=this.readWord1();this.containsEsc&&this.unexpected(s);var o=this.regexpState||(this.regexpState=new _e(this));o.reset(n,i,a),this.validateRegExpFlags(o),this.validateRegExpPattern(o);var l=null;try{l=new RegExp(i,a)}catch(e){}return this.finishToken(_.regexp,{pattern:i,flags:a,value:l})},Re.readInt=function(e,t){for(var n=this.pos,r=0,i=0,s=null==t?Infinity:t;i<s;++i){var a,o=this.input.charCodeAt(this.pos);if((a=o>=97?o-97+10:o>=65?o-65+10:o>=48&&o<=57?o-48:Infinity)>=e)break;++this.pos,r=r*e+a}return this.pos===n||null!=t&&this.pos-n!==t?null:r},Re.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var n=this.readInt(e);return null==n&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&110===this.input.charCodeAt(this.pos)?(n="undefined"!=typeof BigInt?BigInt(this.input.slice(t,this.pos)):null,++this.pos):f(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(_.num,n)},Re.readNumber=function(e){var t=this.pos;e||null!==this.readInt(10)||this.raise(t,"Invalid number");var n=this.pos-t>=2&&48===this.input.charCodeAt(t);n&&this.strict&&this.raise(t,"Invalid number"),n&&/[89]/.test(this.input.slice(t,this.pos))&&(n=!1);var r=this.input.charCodeAt(this.pos);if(!n&&!e&&this.options.ecmaVersion>=11&&110===r){var i=this.input.slice(t,this.pos),s="undefined"!=typeof BigInt?BigInt(i):null;return++this.pos,f(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(_.num,s)}46!==r||n||(++this.pos,this.readInt(10),r=this.input.charCodeAt(this.pos)),69!==r&&101!==r||n||(43!==(r=this.input.charCodeAt(++this.pos))&&45!==r||++this.pos,null===this.readInt(10)&&this.raise(t,"Invalid number")),f(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var a=this.input.slice(t,this.pos),o=n?parseInt(a,8):parseFloat(a);return this.finishToken(_.num,o)},Re.readCodePoint=function(){var e;if(123===this.input.charCodeAt(this.pos)){this.options.ecmaVersion<6&&this.unexpected();var t=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(t,"Code point out of bounds")}else e=this.readHexChar(4);return e},Re.readString=function(e){for(var t="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var r=this.input.charCodeAt(this.pos);if(r===e)break;92===r?(t+=this.input.slice(n,this.pos),t+=this.readEscapedChar(!1),n=this.pos):(E(r,this.options.ecmaVersion>=10)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(n,this.pos++),this.finishToken(_.string,t)};var Le={};Re.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e!==Le)throw e;this.readInvalidTemplateToken()}this.inTemplateElement=!1},Re.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Le;this.raise(e,t)},Re.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(96===n||36===n&&123===this.input.charCodeAt(this.pos+1))return this.pos!==this.start||this.type!==_.template&&this.type!==_.invalidTemplate?(e+=this.input.slice(t,this.pos),this.finishToken(_.template,e)):36===n?(this.pos+=2,this.finishToken(_.dollarBraceL)):(++this.pos,this.finishToken(_.backQuote));if(92===n)e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!0),t=this.pos;else if(E(n)){switch(e+=this.input.slice(t,this.pos),++this.pos,n){case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:e+="\n";break;default:e+=String.fromCharCode(n)}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}},Re.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if("{"!==this.input[this.pos+1])break;case"`":return this.finishToken(_.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},Re.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Ne(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";default:if(t>=48&&t<=55){var n=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],r=parseInt(n,8);return r>255&&(n=n.slice(0,-1),r=parseInt(n,8)),this.pos+=n.length-1,t=this.input.charCodeAt(this.pos),"0"===n&&56!==t&&57!==t||!this.strict&&!e||this.invalidStringToken(this.pos-1-n.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(r)}return E(t)?"":String.fromCharCode(t)}},Re.readHexChar=function(e){var t=this.pos,n=this.readInt(16,e);return null===n&&this.invalidStringToken(t,"Bad character escape sequence"),n},Re.readWord1=function(){this.containsEsc=!1;for(var e="",t=!0,n=this.pos,r=this.options.ecmaVersion>=6;this.pos<this.input.length;){var i=this.fullCharCodeAtPos();if(m(i,r))this.pos+=i<=65535?1:2;else{if(92!==i)break;this.containsEsc=!0,e+=this.input.slice(n,this.pos);var s=this.pos;117!==this.input.charCodeAt(++this.pos)&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var a=this.readCodePoint();(t?f:m)(a,r)||this.invalidStringToken(s,"Invalid Unicode escape"),e+=Ne(a),n=this.pos}t=!1}return e+this.input.slice(n,this.pos)},Re.readWord=function(){var e=this.readWord1(),t=_.name;return this.keywords.test(e)&&(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+e),t=x[e]),this.finishToken(t,e)};var Me="6.4.2";function Oe(e,t){return q.parse(e,t)}function Be(e,t,n){return q.parseExpressionAt(e,t,n)}function Fe(e,t){return q.tokenizer(e,t)}q.acorn={Parser:q,version:Me,defaultOptions:O,Position:N,SourceLocation:L,getLineInfo:M,Node:ae,TokenType:g,tokTypes:_,keywordTypes:x,TokContext:ce,tokContexts:ue,isIdentifierChar:m,isIdentifierStart:f,Token:De,isNewLine:E,lineBreak:k,lineBreakG:S,nonASCIIwhitespace:I}},15:(e,t,n)=>{"use strict";n.r(t),n.d(t,{VERSION:()=>i,after:()=>Nt,all:()=>en,allKeys:()=>ge,any:()=>tn,assign:()=>Ne,before:()=>Lt,bind:()=>_t,bindAll:()=>Et,chain:()=>vt,chunk:()=>Bn,clone:()=>Be,collect:()=>Qt,compact:()=>Cn,compose:()=>Rt,constant:()=>J,contains:()=>nn,countBy:()=>mn,create:()=>Oe,debounce:()=>Tt,default:()=>qn,defaults:()=>Le,defer:()=>Pt,delay:()=>Ct,detect:()=>zt,difference:()=>An,drop:()=>En,each:()=>Gt,escape:()=>at,every:()=>en,extend:()=>Re,extendOwn:()=>Ne,filter:()=>Jt,find:()=>zt,findIndex:()=>Ft,findKey:()=>Ot,findLastIndex:()=>Ut,findWhere:()=>$t,first:()=>Sn,flatten:()=>Pn,foldl:()=>Yt,foldr:()=>Kt,forEach:()=>Gt,functions:()=>Ve,get:()=>qe,groupBy:()=>dn,has:()=>We,head:()=>Sn,identity:()=>ze,include:()=>nn,includes:()=>nn,indexBy:()=>fn,indexOf:()=>qt,initial:()=>kn,inject:()=>Yt,intersection:()=>Rn,invert:()=>Te,invoke:()=>rn,isArguments:()=>Z,isArray:()=>$,isArrayBuffer:()=>O,isBoolean:()=>P,isDataView:()=>z,isDate:()=>R,isElement:()=>A,isEmpty:()=>le,isEqual:()=>me,isError:()=>L,isFinite:()=>Y,isFunction:()=>U,isMap:()=>Se,isMatch:()=>ce,isNaN:()=>K,isNull:()=>I,isNumber:()=>D,isObject:()=>E,isRegExp:()=>N,isSet:()=>Ie,isString:()=>V,isSymbol:()=>M,isTypedArray:()=>ie,isUndefined:()=>C,isWeakMap:()=>Ee,isWeakSet:()=>Ce,iteratee:()=>Ye,keys:()=>oe,last:()=>In,lastIndexOf:()=>Wt,map:()=>Qt,mapObject:()=>Je,matcher:()=>$e,matches:()=>$e,max:()=>on,memoize:()=>It,methods:()=>Ve,min:()=>ln,mixin:()=>Un,negate:()=>Dt,noop:()=>Xe,now:()=>rt,object:()=>Mn,omit:()=>_n,once:()=>Mt,pairs:()=>Ae,partial:()=>wt,partition:()=>gn,pick:()=>wn,pluck:()=>sn,property:()=>Ge,propertyOf:()=>et,random:()=>nt,range:()=>On,reduce:()=>Yt,reduceRight:()=>Kt,reject:()=>Xt,rest:()=>En,restArguments:()=>S,result:()=>mt,sample:()=>cn,select:()=>Jt,shuffle:()=>un,size:()=>bn,some:()=>tn,sortBy:()=>hn,sortedIndex:()=>jt,tail:()=>En,take:()=>Sn,tap:()=>Fe,template:()=>ft,templateSettings:()=>lt,throttle:()=>At,times:()=>tt,toArray:()=>vn,toPath:()=>Ue,transpose:()=>Nn,unescape:()=>ot,union:()=>Dn,uniq:()=>Vn,unique:()=>Vn,uniqueId:()=>yt,unzip:()=>Nn,values:()=>Pe,where:()=>an,without:()=>Tn,wrap:()=>Vt,zip:()=>Ln});var r={};n.r(r),n.d(r,{VERSION:()=>i,after:()=>Nt,all:()=>en,allKeys:()=>ge,any:()=>tn,assign:()=>Ne,before:()=>Lt,bind:()=>_t,bindAll:()=>Et,chain:()=>vt,chunk:()=>Bn,clone:()=>Be,collect:()=>Qt,compact:()=>Cn,compose:()=>Rt,constant:()=>J,contains:()=>nn,countBy:()=>mn,create:()=>Oe,debounce:()=>Tt,default:()=>jn,defaults:()=>Le,defer:()=>Pt,delay:()=>Ct,detect:()=>zt,difference:()=>An,drop:()=>En,each:()=>Gt,escape:()=>at,every:()=>en,extend:()=>Re,extendOwn:()=>Ne,filter:()=>Jt,find:()=>zt,findIndex:()=>Ft,findKey:()=>Ot,findLastIndex:()=>Ut,findWhere:()=>$t,first:()=>Sn,flatten:()=>Pn,foldl:()=>Yt,foldr:()=>Kt,forEach:()=>Gt,functions:()=>Ve,get:()=>qe,groupBy:()=>dn,has:()=>We,head:()=>Sn,identity:()=>ze,include:()=>nn,includes:()=>nn,indexBy:()=>fn,indexOf:()=>qt,initial:()=>kn,inject:()=>Yt,intersection:()=>Rn,invert:()=>Te,invoke:()=>rn,isArguments:()=>Z,isArray:()=>$,isArrayBuffer:()=>O,isBoolean:()=>P,isDataView:()=>z,isDate:()=>R,isElement:()=>A,isEmpty:()=>le,isEqual:()=>me,isError:()=>L,isFinite:()=>Y,isFunction:()=>U,isMap:()=>Se,isMatch:()=>ce,isNaN:()=>K,isNull:()=>I,isNumber:()=>D,isObject:()=>E,isRegExp:()=>N,isSet:()=>Ie,isString:()=>V,isSymbol:()=>M,isTypedArray:()=>ie,isUndefined:()=>C,isWeakMap:()=>Ee,isWeakSet:()=>Ce,iteratee:()=>Ye,keys:()=>oe,last:()=>In,lastIndexOf:()=>Wt,map:()=>Qt,mapObject:()=>Je,matcher:()=>$e,matches:()=>$e,max:()=>on,memoize:()=>It,methods:()=>Ve,min:()=>ln,mixin:()=>Un,negate:()=>Dt,noop:()=>Xe,now:()=>rt,object:()=>Mn,omit:()=>_n,once:()=>Mt,pairs:()=>Ae,partial:()=>wt,partition:()=>gn,pick:()=>wn,pluck:()=>sn,property:()=>Ge,propertyOf:()=>et,random:()=>nt,range:()=>On,reduce:()=>Yt,reduceRight:()=>Kt,reject:()=>Xt,rest:()=>En,restArguments:()=>S,result:()=>mt,sample:()=>cn,select:()=>Jt,shuffle:()=>un,size:()=>bn,some:()=>tn,sortBy:()=>hn,sortedIndex:()=>jt,tail:()=>En,take:()=>Sn,tap:()=>Fe,template:()=>ft,templateSettings:()=>lt,throttle:()=>At,times:()=>tt,toArray:()=>vn,toPath:()=>Ue,transpose:()=>Nn,unescape:()=>ot,union:()=>Dn,uniq:()=>Vn,unique:()=>Vn,uniqueId:()=>yt,unzip:()=>Nn,values:()=>Pe,where:()=>an,without:()=>Tn,wrap:()=>Vt,zip:()=>Ln});var i="1.13.1",s="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},a=Array.prototype,o=Object.prototype,l="undefined"!=typeof Symbol?Symbol.prototype:null,c=a.push,u=a.slice,h=o.toString,p=o.hasOwnProperty,d="undefined"!=typeof ArrayBuffer,f="undefined"!=typeof DataView,m=Array.isArray,g=Object.keys,y=Object.create,v=d&&ArrayBuffer.isView,b=isNaN,x=isFinite,w=!{toString:null}.propertyIsEnumerable("toString"),_=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],k=Math.pow(2,53)-1;function S(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r);case 2:return e.call(this,arguments[0],arguments[1],r)}var s=Array(t+1);for(i=0;i<t;i++)s[i]=arguments[i];return s[t]=r,e.apply(this,s)}}function E(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function I(e){return null===e}function C(e){return void 0===e}function P(e){return!0===e||!1===e||"[object Boolean]"===h.call(e)}function A(e){return!(!e||1!==e.nodeType)}function T(e){var t="[object "+e+"]";return function(e){return h.call(e)===t}}const V=T("String"),D=T("Number"),R=T("Date"),N=T("RegExp"),L=T("Error"),M=T("Symbol"),O=T("ArrayBuffer");var B=T("Function"),F=s.document&&s.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof F&&(B=function(e){return"function"==typeof e||!1});const U=B,j=T("Object");var H=f&&j(new DataView(new ArrayBuffer(8))),q="undefined"!=typeof Map&&j(new Map),W=T("DataView");const z=H?function(e){return null!=e&&U(e.getInt8)&&O(e.buffer)}:W,$=m||T("Array");function G(e,t){return null!=e&&p.call(e,t)}var Q=T("Arguments");!function(){Q(arguments)||(Q=function(e){return G(e,"callee")})}();const Z=Q;function Y(e){return!M(e)&&x(e)&&!isNaN(parseFloat(e))}function K(e){return D(e)&&b(e)}function J(e){return function(){return e}}function X(e){return function(t){var n=e(t);return"number"==typeof n&&n>=0&&n<=k}}function ee(e){return function(t){return null==t?void 0:t[e]}}const te=ee("byteLength"),ne=X(te);var re=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;const ie=d?function(e){return v?v(e)&&!z(e):ne(e)&&re.test(h.call(e))}:J(!1),se=ee("length");function ae(e,t){t=function(e){for(var t={},n=e.length,r=0;r<n;++r)t[e[r]]=!0;return{contains:function(e){return t[e]},push:function(n){return t[n]=!0,e.push(n)}}}(t);var n=_.length,r=e.constructor,i=U(r)&&r.prototype||o,s="constructor";for(G(e,s)&&!t.contains(s)&&t.push(s);n--;)(s=_[n])in e&&e[s]!==i[s]&&!t.contains(s)&&t.push(s)}function oe(e){if(!E(e))return[];if(g)return g(e);var t=[];for(var n in e)G(e,n)&&t.push(n);return w&&ae(e,t),t}function le(e){if(null==e)return!0;var t=se(e);return"number"==typeof t&&($(e)||V(e)||Z(e))?0===t:0===se(oe(e))}function ce(e,t){var n=oe(t),r=n.length;if(null==e)return!r;for(var i=Object(e),s=0;s<r;s++){var a=n[s];if(t[a]!==i[a]||!(a in i))return!1}return!0}function ue(e){return e instanceof ue?e:this instanceof ue?void(this._wrapped=e):new ue(e)}function he(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,te(e))}ue.VERSION=i,ue.prototype.value=function(){return this._wrapped},ue.prototype.valueOf=ue.prototype.toJSON=ue.prototype.value,ue.prototype.toString=function(){return String(this._wrapped)};var pe="[object DataView]";function de(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var i=typeof e;return("function"===i||"object"===i||"object"==typeof t)&&fe(e,t,n,r)}function fe(e,t,n,r){e instanceof ue&&(e=e._wrapped),t instanceof ue&&(t=t._wrapped);var i=h.call(e);if(i!==h.call(t))return!1;if(H&&"[object Object]"==i&&z(e)){if(!z(t))return!1;i=pe}switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return l.valueOf.call(e)===l.valueOf.call(t);case"[object ArrayBuffer]":case pe:return fe(he(e),he(t),n,r)}var s="[object Array]"===i;if(!s&&ie(e)){if(te(e)!==te(t))return!1;if(e.buffer===t.buffer&&e.byteOffset===t.byteOffset)return!0;s=!0}if(!s){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,o=t.constructor;if(a!==o&&!(U(a)&&a instanceof a&&U(o)&&o instanceof o)&&"constructor"in e&&"constructor"in t)return!1}r=r||[];for(var c=(n=n||[]).length;c--;)if(n[c]===e)return r[c]===t;if(n.push(e),r.push(t),s){if((c=e.length)!==t.length)return!1;for(;c--;)if(!de(e[c],t[c],n,r))return!1}else{var u,p=oe(e);if(c=p.length,oe(t).length!==c)return!1;for(;c--;)if(!G(t,u=p[c])||!de(e[u],t[u],n,r))return!1}return n.pop(),r.pop(),!0}function me(e,t){return de(e,t)}function ge(e){if(!E(e))return[];var t=[];for(var n in e)t.push(n);return w&&ae(e,t),t}function ye(e){var t=se(e);return function(n){if(null==n)return!1;var r=ge(n);if(se(r))return!1;for(var i=0;i<t;i++)if(!U(n[e[i]]))return!1;return e!==_e||!U(n[ve])}}var ve="forEach",be=["clear","delete"],xe=["get","has","set"],we=be.concat(ve,xe),_e=be.concat(xe),ke=["add"].concat(be,ve,"has");const Se=q?ye(we):T("Map"),Ee=q?ye(_e):T("WeakMap"),Ie=q?ye(ke):T("Set"),Ce=T("WeakSet");function Pe(e){for(var t=oe(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r}function Ae(e){for(var t=oe(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r}function Te(e){for(var t={},n=oe(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t}function Ve(e){var t=[];for(var n in e)U(e[n])&&t.push(n);return t.sort()}function De(e,t){return function(n){var r=arguments.length;if(t&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var s=arguments[i],a=e(s),o=a.length,l=0;l<o;l++){var c=a[l];t&&void 0!==n[c]||(n[c]=s[c])}return n}}const Re=De(ge),Ne=De(oe),Le=De(ge,!0);function Me(e){if(!E(e))return{};if(y)return y(e);var t=function(){};t.prototype=e;var n=new t;return t.prototype=null,n}function Oe(e,t){var n=Me(e);return t&&Ne(n,t),n}function Be(e){return E(e)?$(e)?e.slice():Re({},e):e}function Fe(e,t){return t(e),e}function Ue(e){return $(e)?e:[e]}function je(e){return ue.toPath(e)}function He(e,t){for(var n=t.length,r=0;r<n;r++){if(null==e)return;e=e[t[r]]}return n?e:void 0}function qe(e,t,n){var r=He(e,je(t));return C(r)?n:r}function We(e,t){for(var n=(t=je(t)).length,r=0;r<n;r++){var i=t[r];if(!G(e,i))return!1;e=e[i]}return!!n}function ze(e){return e}function $e(e){return e=Ne({},e),function(t){return ce(t,e)}}function Ge(e){return e=je(e),function(t){return He(t,e)}}function Qe(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,s){return e.call(t,n,r,i,s)}}return function(){return e.apply(t,arguments)}}function Ze(e,t,n){return null==e?ze:U(e)?Qe(e,t,n):E(e)&&!$(e)?$e(e):Ge(e)}function Ye(e,t){return Ze(e,t,Infinity)}function Ke(e,t,n){return ue.iteratee!==Ye?ue.iteratee(e,t):Ze(e,t,n)}function Je(e,t,n){t=Ke(t,n);for(var r=oe(e),i=r.length,s={},a=0;a<i;a++){var o=r[a];s[o]=t(e[o],o,e)}return s}function Xe(){}function et(e){return null==e?Xe:function(t){return qe(e,t)}}function tt(e,t,n){var r=Array(Math.max(0,e));t=Qe(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r}function nt(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}ue.toPath=Ue,ue.iteratee=Ye;const rt=Date.now||function(){return(new Date).getTime()};function it(e){var t=function(t){return e[t]},n="(?:"+oe(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}}const st={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},at=it(st),ot=it(Te(st)),lt=ue.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var ct=/(.)^/,ut={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},ht=/\\|'|\r|\n|\u2028|\u2029/g;function pt(e){return"\\"+ut[e]}var dt=/^\s*(\w|\$)+\s*$/;function ft(e,t,n){!t&&n&&(t=n),t=Le({},t,ue.templateSettings);var r=RegExp([(t.escape||ct).source,(t.interpolate||ct).source,(t.evaluate||ct).source].join("|")+"|$","g"),i=0,s="__p+='";e.replace(r,(function(t,n,r,a,o){return s+=e.slice(i,o).replace(ht,pt),i=o+t.length,n?s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?s+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(s+="';\n"+a+"\n__p+='"),t})),s+="';\n";var a,o=t.variable;if(o){if(!dt.test(o))throw new Error("variable is not a bare identifier: "+o)}else s="with(obj||{}){\n"+s+"}\n",o="obj";s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{a=new Function(o,"_",s)}catch(e){throw e.source=s,e}var l=function(e){return a.call(this,e,ue)};return l.source="function("+o+"){\n"+s+"}",l}function mt(e,t,n){var r=(t=je(t)).length;if(!r)return U(n)?n.call(e):n;for(var i=0;i<r;i++){var s=null==e?void 0:e[t[i]];void 0===s&&(s=n,i=r),e=U(s)?s.call(e):s}return e}var gt=0;function yt(e){var t=++gt+"";return e?e+t:t}function vt(e){var t=ue(e);return t._chain=!0,t}function bt(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var s=Me(e.prototype),a=e.apply(s,i);return E(a)?a:s}var xt=S((function(e,t){var n=xt.placeholder,r=function(){for(var i=0,s=t.length,a=Array(s),o=0;o<s;o++)a[o]=t[o]===n?arguments[i++]:t[o];for(;i<arguments.length;)a.push(arguments[i++]);return bt(e,r,this,this,a)};return r}));xt.placeholder=ue;const wt=xt,_t=S((function(e,t,n){if(!U(e))throw new TypeError("Bind must be called on a function");var r=S((function(i){return bt(e,r,t,this,n.concat(i))}));return r})),kt=X(se);function St(e,t,n,r){if(r=r||[],t||0===t){if(t<=0)return r.concat(e)}else t=Infinity;for(var i=r.length,s=0,a=se(e);s<a;s++){var o=e[s];if(kt(o)&&($(o)||Z(o)))if(t>1)St(o,t-1,n,r),i=r.length;else for(var l=0,c=o.length;l<c;)r[i++]=o[l++];else n||(r[i++]=o)}return r}const Et=S((function(e,t){var n=(t=St(t,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=t[n];e[r]=_t(e[r],e)}return e}));function It(e,t){var n=function(r){var i=n.cache,s=""+(t?t.apply(this,arguments):r);return G(i,s)||(i[s]=e.apply(this,arguments)),i[s]};return n.cache={},n}const Ct=S((function(e,t,n){return setTimeout((function(){return e.apply(null,n)}),t)})),Pt=wt(Ct,ue,1);function At(e,t,n){var r,i,s,a,o=0;n||(n={});var l=function(){o=!1===n.leading?0:rt(),r=null,a=e.apply(i,s),r||(i=s=null)},c=function(){var c=rt();o||!1!==n.leading||(o=c);var u=t-(c-o);return i=this,s=arguments,u<=0||u>t?(r&&(clearTimeout(r),r=null),o=c,a=e.apply(i,s),r||(i=s=null)):r||!1===n.trailing||(r=setTimeout(l,u)),a};return c.cancel=function(){clearTimeout(r),o=0,r=i=s=null},c}function Tt(e,t,n){var r,i,s,a,o,l=function(){var c=rt()-i;t>c?r=setTimeout(l,t-c):(r=null,n||(a=e.apply(o,s)),r||(s=o=null))},c=S((function(c){return o=this,s=c,i=rt(),r||(r=setTimeout(l,t),n&&(a=e.apply(o,s))),a}));return c.cancel=function(){clearTimeout(r),r=s=o=null},c}function Vt(e,t){return wt(t,e)}function Dt(e){return function(){return!e.apply(this,arguments)}}function Rt(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}}function Nt(e,t){return function(){if(--e<1)return t.apply(this,arguments)}}function Lt(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}}const Mt=wt(Lt,2);function Ot(e,t,n){t=Ke(t,n);for(var r,i=oe(e),s=0,a=i.length;s<a;s++)if(t(e[r=i[s]],r,e))return r}function Bt(e){return function(t,n,r){n=Ke(n,r);for(var i=se(t),s=e>0?0:i-1;s>=0&&s<i;s+=e)if(n(t[s],s,t))return s;return-1}}const Ft=Bt(1),Ut=Bt(-1);function jt(e,t,n,r){for(var i=(n=Ke(n,r,1))(t),s=0,a=se(e);s<a;){var o=Math.floor((s+a)/2);n(e[o])<i?s=o+1:a=o}return s}function Ht(e,t,n){return function(r,i,s){var a=0,o=se(r);if("number"==typeof s)e>0?a=s>=0?s:Math.max(s+o,a):o=s>=0?Math.min(s+1,o):s+o+1;else if(n&&s&&o)return r[s=n(r,i)]===i?s:-1;if(i!=i)return(s=t(u.call(r,a,o),K))>=0?s+a:-1;for(s=e>0?a:o-1;s>=0&&s<o;s+=e)if(r[s]===i)return s;return-1}}const qt=Ht(1,Ft,jt),Wt=Ht(-1,Ut);function zt(e,t,n){var r=(kt(e)?Ft:Ot)(e,t,n);if(void 0!==r&&-1!==r)return e[r]}function $t(e,t){return zt(e,$e(t))}function Gt(e,t,n){var r,i;if(t=Qe(t,n),kt(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var s=oe(e);for(r=0,i=s.length;r<i;r++)t(e[s[r]],s[r],e)}return e}function Qt(e,t,n){t=Ke(t,n);for(var r=!kt(e)&&oe(e),i=(r||e).length,s=Array(i),a=0;a<i;a++){var o=r?r[a]:a;s[a]=t(e[o],o,e)}return s}function Zt(e){var t=function(t,n,r,i){var s=!kt(t)&&oe(t),a=(s||t).length,o=e>0?0:a-1;for(i||(r=t[s?s[o]:o],o+=e);o>=0&&o<a;o+=e){var l=s?s[o]:o;r=n(r,t[l],l,t)}return r};return function(e,n,r,i){var s=arguments.length>=3;return t(e,Qe(n,i,4),r,s)}}const Yt=Zt(1),Kt=Zt(-1);function Jt(e,t,n){var r=[];return t=Ke(t,n),Gt(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r}function Xt(e,t,n){return Jt(e,Dt(Ke(t)),n)}function en(e,t,n){t=Ke(t,n);for(var r=!kt(e)&&oe(e),i=(r||e).length,s=0;s<i;s++){var a=r?r[s]:s;if(!t(e[a],a,e))return!1}return!0}function tn(e,t,n){t=Ke(t,n);for(var r=!kt(e)&&oe(e),i=(r||e).length,s=0;s<i;s++){var a=r?r[s]:s;if(t(e[a],a,e))return!0}return!1}function nn(e,t,n,r){return kt(e)||(e=Pe(e)),("number"!=typeof n||r)&&(n=0),qt(e,t,n)>=0}const rn=S((function(e,t,n){var r,i;return U(t)?i=t:(t=je(t),r=t.slice(0,-1),t=t[t.length-1]),Qt(e,(function(e){var s=i;if(!s){if(r&&r.length&&(e=He(e,r)),null==e)return;s=e[t]}return null==s?s:s.apply(e,n)}))}));function sn(e,t){return Qt(e,Ge(t))}function an(e,t){return Jt(e,$e(t))}function on(e,t,n){var r,i,s=-Infinity,a=-Infinity;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var o=0,l=(e=kt(e)?e:Pe(e)).length;o<l;o++)null!=(r=e[o])&&r>s&&(s=r);else t=Ke(t,n),Gt(e,(function(e,n,r){((i=t(e,n,r))>a||-Infinity===i&&-Infinity===s)&&(s=e,a=i)}));return s}function ln(e,t,n){var r,i,s=Infinity,a=Infinity;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var o=0,l=(e=kt(e)?e:Pe(e)).length;o<l;o++)null!=(r=e[o])&&r<s&&(s=r);else t=Ke(t,n),Gt(e,(function(e,n,r){((i=t(e,n,r))<a||Infinity===i&&Infinity===s)&&(s=e,a=i)}));return s}function cn(e,t,n){if(null==t||n)return kt(e)||(e=Pe(e)),e[nt(e.length-1)];var r=kt(e)?Be(e):Pe(e),i=se(r);t=Math.max(Math.min(t,i),0);for(var s=i-1,a=0;a<t;a++){var o=nt(a,s),l=r[a];r[a]=r[o],r[o]=l}return r.slice(0,t)}function un(e){return cn(e,Infinity)}function hn(e,t,n){var r=0;return t=Ke(t,n),sn(Qt(e,(function(e,n,i){return{value:e,index:r++,criteria:t(e,n,i)}})).sort((function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index})),"value")}function pn(e,t){return function(n,r,i){var s=t?[[],[]]:{};return r=Ke(r,i),Gt(n,(function(t,i){var a=r(t,i,n);e(s,t,a)})),s}}const dn=pn((function(e,t,n){G(e,n)?e[n].push(t):e[n]=[t]})),fn=pn((function(e,t,n){e[n]=t})),mn=pn((function(e,t,n){G(e,n)?e[n]++:e[n]=1})),gn=pn((function(e,t,n){e[n?0:1].push(t)}),!0);var yn=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function vn(e){return e?$(e)?u.call(e):V(e)?e.match(yn):kt(e)?Qt(e,ze):Pe(e):[]}function bn(e){return null==e?0:kt(e)?e.length:oe(e).length}function xn(e,t,n){return t in n}const wn=S((function(e,t){var n={},r=t[0];if(null==e)return n;U(r)?(t.length>1&&(r=Qe(r,t[1])),t=ge(e)):(r=xn,t=St(t,!1,!1),e=Object(e));for(var i=0,s=t.length;i<s;i++){var a=t[i],o=e[a];r(o,a,e)&&(n[a]=o)}return n})),_n=S((function(e,t){var n,r=t[0];return U(r)?(r=Dt(r),t.length>1&&(n=t[1])):(t=Qt(St(t,!1,!1),String),r=function(e,n){return!nn(t,n)}),wn(e,r,n)}));function kn(e,t,n){return u.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))}function Sn(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[0]:kn(e,e.length-t)}function En(e,t,n){return u.call(e,null==t||n?1:t)}function In(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[e.length-1]:En(e,Math.max(0,e.length-t))}function Cn(e){return Jt(e,Boolean)}function Pn(e,t){return St(e,t,!1)}const An=S((function(e,t){return t=St(t,!0,!0),Jt(e,(function(e){return!nn(t,e)}))})),Tn=S((function(e,t){return An(e,t)}));function Vn(e,t,n,r){P(t)||(r=n,n=t,t=!1),null!=n&&(n=Ke(n,r));for(var i=[],s=[],a=0,o=se(e);a<o;a++){var l=e[a],c=n?n(l,a,e):l;t&&!n?(a&&s===c||i.push(l),s=c):n?nn(s,c)||(s.push(c),i.push(l)):nn(i,l)||i.push(l)}return i}const Dn=S((function(e){return Vn(St(e,!0,!0))}));function Rn(e){for(var t=[],n=arguments.length,r=0,i=se(e);r<i;r++){var s=e[r];if(!nn(t,s)){var a;for(a=1;a<n&&nn(arguments[a],s);a++);a===n&&t.push(s)}}return t}function Nn(e){for(var t=e&&on(e,se).length||0,n=Array(t),r=0;r<t;r++)n[r]=sn(e,r);return n}const Ln=S(Nn);function Mn(e,t){for(var n={},r=0,i=se(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n}function On(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),s=0;s<r;s++,e+=n)i[s]=e;return i}function Bn(e,t){if(null==t||t<1)return[];for(var n=[],r=0,i=e.length;r<i;)n.push(u.call(e,r,r+=t));return n}function Fn(e,t){return e._chain?ue(t).chain():t}function Un(e){return Gt(Ve(e),(function(t){var n=ue[t]=e[t];ue.prototype[t]=function(){var e=[this._wrapped];return c.apply(e,arguments),Fn(this,n.apply(ue,e))}})),ue}Gt(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var t=a[e];ue.prototype[e]=function(){var n=this._wrapped;return null!=n&&(t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0]),Fn(this,n)}})),Gt(["concat","join","slice"],(function(e){var t=a[e];ue.prototype[e]=function(){var e=this._wrapped;return null!=e&&(e=t.apply(e,arguments)),Fn(this,e)}}));const jn=ue;var Hn=Un(r);Hn._=Hn;const qn=Hn}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.amdO={},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e=n(15),t=null;const r="crx",i="nex",s="ff",a="edge";let o=!1;if(window.navigator.userAgent&&window.navigator.userAgent.length>0&&(-1==window.navigator.userAgent.indexOf("Edge/")&&-1==window.navigator.userAgent.indexOf("Edg/")||(o=!0)),"undefined"!=typeof browser)t=browser;else if("undefined"!=typeof chrome)t=chrome;else try{o&&(t=browser)}catch(e){}if(null==t)throw"AVD CC: Warning! Browser object is undefined. Try updating to most recent version or contact support";if(t.$type="?","undefined"!=typeof browser?t.$type=s:"undefined"!=typeof chrome&&(t.$type=r),-1!=window.navigator.userAgent.indexOf("OPR/")?t.$type=i:o&&(t.$type=a),"?"==t.$type)throw"AVD CC: Warning! Unable to detect browser platform. This can be due to internal error or browser is unknown";t.runtime&&t.runtime.onMessage&&t.runtime.onMessage.addListener((function(t,n,r){t&&e.has(t,"id")&&"cs-query-tab-info"==t.id&&r({id:"cs-query-tab-info",tabId:n.tab.id,url:n.tab.url,title:n.tab.title})}));var l=n(29),c=n(15);function u(e,t){return null==e||-1==e||null==t||0==t.length?null:`csmeta:${e}:${l(t)}`}class h{constructor(){this.m_MetaFromContentScripts=new Map,t.tabs.onRemoved.addListener(this.onTabClosed.bind(this)),t.runtime.onMessage.addListener(this.onMessageHandler.bind(this))}onTabClosed(e,t){this.clearMetaFromCS(e)}onMessageHandler(e,t,n){e&&c.has(e,"method")&&"update-meta-from-cs"===e.method&&c.has(e,"meta")&&null!=e.meta&&this.updateMetaFromCS(e.meta)}clearMetaFromCS(e){if(this.m_MetaFromContentScripts&&this.m_MetaFromContentScripts.size>0){let t=new RegExp(`csmetaid_${e}_\\w+`,"i");for(let e of this.m_MetaFromContentScripts.keys())e&&e.length>0&&t.test(e)&&this.m_MetaFromContentScripts.delete(e)}}updateMetaFromCS(e){try{if(null==e)throw"AVDCCHelperContentScripts::updateMetaFromCS() -> input parameter is null";if(0==c.has(e,"tabId"))throw"AVDCCHelperContentScripts::updateMetaFromCS() -> input parameter does not contain tabId field";if(0==c.has(e,"tabUrl"))throw"AVDCCHelperContentScripts::updateMetaFromCS() -> input parameter does not contain tabUrl field";if(null==e.tabId||-1==e.tabId)throw"AVDCCHelperContentScripts::updateMetaFromCS() -> tabId is incorrect (null or -1)";if(null==e.tabUrl||0==e.tabUrl.length)throw"AVDCCHelperContentScripts::updateMetaFromCS() -> tabUrl is incorrect (null or empty)"}catch(e){return}this.m_MetaFromContentScripts.set(u(e.tabId,e.tabUrl),e)}queryMetaFromCS(e,t){let n=null,r=u(e,t);return 1==this.m_MetaFromContentScripts.has(r)&&(n=this.m_MetaFromContentScripts.get(r)),n}}const p={startDownload:"messages.downloader.startDownload",startDownloadViaBrowser:"messages.downloader.startDownloadViaBrowser",cancelDownload:"messages.downloader.cancelDownload",deleteDownload:"messages.downloader.deleteDownload",deleteDownloads:"messages.downloader.deleteDownloads",clearBySingleState:"messages.downloader.clearBySingleState"},d={query:"messages.session.query",openSettingsPage:"messages.session.openSettingsPage",openTopVideoSites:"messages.session.openTopVideoSites",openDebugPage:"messages.session.openDebugPage",wipeOut:"messages.session.wipeOut"},f={detector:{ytnp:{ignoreVideoDetection:"messages.video.detector.ytnp.ignoreVideoDetection"},yt:{sendInitialConfig:"messages.video.detector.yt.sendInitialConfig",sendSubsequentConfig:"messages.video.detector.yt.sendSubsequentConfig",sendEmbeddedConfig:"messages.video.detector.yt.sendEmbeddedConfig"}},handler:{videoDetection:"messages.video.handler.videoDetection",query:{all:"messages.video.handler.query.all",nonIdle:"messages.video.handler.query.nonIdle",byTab:"messages.video.handler.query.byTab",popupData:"messages.video.handler.query.popupData"},count:{byTab:"messages.video.handler.count.byTab"},removeFromList:"messages.video.handler.removeFromList",removeFromListBulk:"messages.video.handler.removeFromListBulk",resetVideo:"messages.video.handler.resetVideo",disconnectPeer:"messages.video.handler.disconnectPeer",events:{onVideoDetected:"messages.video.handler.events.onVideoDetected",onVideoUpdated:"messages.video.handler.events.onVideoUpdated",onVideoRemoved:"messages.video.handler.events.onVideoRemoved"}}},m={get:"messages.settings.get",set:"messages.settings.set",replace:"messages.settings.replace",reset:"messages.settings.reset",resetAll:"messages.settings.resetAll",events:{onSettingChanged:"messages.settings.events.onSettingChanged"}};var g=new class{constructor(){this.yt={youtubeVideoId:new RegExp("\\?v=([\\w\\-\\_]+)","i"),youtubeChannelId:new RegExp("youtube\\.com\\/channel\\/([\\w\\-\\_]+)(?:\\/join)?","i"),streamId:new RegExp("id=([\\w\\-_]+)","i"),itag:new RegExp("itag=(\\d+)","i"),mime:new RegExp("mime=([\\w\\%]+)","i"),ctier:new RegExp("ctier=(\\w+)","i"),clen:new RegExp("clen\\=(\\d+)","i"),streamTypeAudio:new RegExp("audio\\/","i"),streamTypeVideo:new RegExp("video\\/","i"),streamUrlHosts:[new RegExp(".*?youtube\\.com\\/videoplayback","i"),new RegExp(".*?googlevideo\\.com\\/videoplayback","i")],streamUrlStripTokens:[new RegExp("range=[^&#]+","i"),new RegExp("rn=[^&#]+","i"),new RegExp("rbuf=[^&#]+","i"),new RegExp("&+$","i")],codecs:new RegExp('codecs\\s*\\=\\s*\\"?([\\w\\.;]+)\\"?',"i"),qualityWidth:new RegExp("^(\\d+)p?","i"),nextCallUrl:new RegExp("youtube\\.com\\/youtubei\\/v\\d+\\/player\\?","i")},this.content={type:new RegExp('([\\w\\-_]+)\\/([\\w\\-_]+);?(?:\\s+)?([\\w\\=\\"\\.]+)?',"i"),range:{type1:new RegExp("\\s*(\\w+)\\s(\\d+|\\s?)\\-(\\d+|\\s?)\\/(\\d+|\\*|\\s?)","i"),type2:new RegExp("\\s*(\\w+)\\s\\*\\/(\\d+|\\*|\\s?)","i")}},this.streamKeyPattern=function(e,t){return`stream:${e}:${t}`},this.streamKey=new RegExp("^stream\\:([a-zA-Z\\d]+)\\:([\\w_\\-\\@\\*\\?\\#\\:]+)","i"),this.file={name:new RegExp("^(.+)(?:[?#].*)?","i"),extension:new RegExp("\\.([0-9a-z]+)(?=[?#])|(\\.)(?:[\\w]+)$","i"),filenameReplacementByOS:{win32:new RegExp('[\\/\\:\\*\\\\\\?\\!\\<\\>\\|\\"]',"ig"),mac:new RegExp("\\/|:","g"),gnubsd:new RegExp("\\/","g")}},this.url={httpx:new RegExp("(\\w+):\\/\\/([\\\\\\-\\w@][\\w\\-.:@]+)(\\/?[\\w\\.?=%&=\\-@\\/$,+~:_ \\*]*)","i")},this.text={splitBy:{semicolon:new RegExp("^([\\w_\\-\\s]+):(.*)$")},newLine:new RegExp("\\r\\n|\\n","i")},this.video={descriptor:{keyPattern:function(e,t){return`vd:${e}:${t}`},key:new RegExp("^vd\\:([\\$\\-\\w]+)\\:([\\w_\\-\\@\\*\\?\\#]+)","i")},previousDownload:{keyPattern:function(e,t){return`${e}:${t}`},key:new RegExp("^(S[\\w\\-]+)\\:(vd\\:[\\$\\-\\w]+\\:[\\w_\\-\\@\\*\\?\\#]+)","i")},resolution:{numericValue:new RegExp("^([\\s\\d]+)","i"),twoValues:new RegExp("(\\d+)[x|X](\\d+)","i")}},this.uuid={replacement:new RegExp("[xy]","g")},this.versionNumber={digitsTwo:new RegExp("^(\\d+)\\.(\\d+)$","i"),digitsThree:new RegExp("^(\\d+)\\.(\\d+)\\.(\\d+)$","i")},this.isInteger=new RegExp("^[-+]?(\\d+|Infinity)$","i"),this.websites={netu_hostname_cdn:new RegExp("\\.cf?[\\w\\_\\-]+cdn(?:[\\w\\_\\-]+)?\\.[\\w]+\\/","i")}}},y=n(15),v=new class{constructor(){this.m_PlatformInfo={os:null},this.m_Idx=0;var e=this;if(t.runtime.getPlatformInfo)t.runtime.getPlatformInfo((function(t){e.m_PlatformInfo=t}));else{let e=window.navigator.userAgent.toLowerCase();-1==e.indexOf("edge/")&&-1==e.indexOf("edg/")||(this.m_PlatformInfo.os="win")}}get platformOS(){return this.m_PlatformInfo.os}get nativeAppName(){return"com.ant.avdcc.host"}get xhrForbiddenHeadersArrayLC(){return["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","feature-policy","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}generateUUID(){let e=(new Date).getTime();return window.performance&&"function"==typeof window.performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(g.uuid.replacement,(function(t){let n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)}))}generateShortId(){let e=(new Date).getTime();return window.performance&&"function"==typeof window.performance.now&&(e+=performance.now()),"S-xxx-xxx".replace(g.uuid.replacement,(function(t){let n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)}))}concatAndResolveUrl(e,t){var n=e.split("/"),r=t.split("/"),i=[];for(let e=0,t=n.length;e<t;e++)if(".."==n[e])i.pop();else{if("."==n[e])continue;i.push(n[e])}for(let e=0,t=r.length;e<t;e++)if(".."==r[e])i.pop();else{if("."==r[e])continue;i.push(r[e])}return i.join("/")}sanitize(e){var t=null;switch(this.m_PlatformInfo.os){case"win":t=g.file.filenameReplacementByOS.win32;break;case"mac":t=g.file.filenameReplacementByOS.mac;break;case"linux":case"openbsd":t=g.file.filenameReplacementByOS.gnubsd;break;default:throw"Android and CrOS platforms are not supported"}return t?e.replaceAll(t," "):null}xhr3(e,t,n){return new Promise((function(r,i){try{var s=new XMLHttpRequest;if(s.open(e,t),null!=n&&y.isObject(n)&&0==y.isEmpty(n)){let e=Object.keys(n);for(let t of e){if(0==y.has(n,t))continue;if("function"==typeof n[t])continue;let e=t.toLowerCase();e.startsWith("proxy-")||e.startsWith("sec-")||v.includesAnySubstring(e,v.xhrForbiddenHeadersArrayLC)||s.setRequestHeader(t,n[t])}}s.onload=function(){var e={status:s.status,"request-url":t,"response-type":s.responseType,"response-value":s.response,"response-headers":[]},n=s.getAllResponseHeaders(),i=function(e){return null!=e&&e.length>0};if(null!=n&&n.length>0){var a=n.split("\r\n");for(var o of a)if(null!=o&&0!=o.length){var l=o.split(g.text.splitBy.semicolon).filter(i);2==l.length&&e["response-headers"].push({name:l[0].trim(),value:l[1].trim()})}}r(e)},s.onerror=function(){i(null)},s.send()}catch(e){i(null)}}))}isURL(e){return null!=e&&0!=e.length&&(1==v.startsWithHTTx(e)||g.url.httpx.test(e))}startsWithHTTx(e){if(null==e)return!1;if(0==e.length)return!1;let t=e.toLowerCase();return t.startsWith("http://")||t.startsWith("https://")}crackUrl(e){return null==e||0==e.length?null:e.match(g.url.httpx)}getHostnameFromUrl(e){var t=this.crackUrl(e);return null==t?null:t.length>=3?t[2]:null}getBaseUrl(e){var t=this.crackUrl(e);return null==t?null:`${t[1]}://${t[2]}/`}getPathFromUrl(e){var t=this.crackUrl(e);return null==t||4!=t.length?null:t[3]}getPathUrl(e){var t=this.crackUrl(e);if(null==t)return null;var n="",r=t[1],i=t[2];if(3==t.length)n=`${r}://${i}/`;else{if(4!=t.length)return null;var s=t[3].substring(0,t[3].lastIndexOf("/"));0==s.endsWith("/")&&(s+="/"),n=`${r}://${i}${s}`}return n}getPathUrl2(e){var t=this.crackUrl(e);if(null==t)return null;var n="",r=t[1],i=t[2];if(3==t.length)n=`${r}://${i}`;else{if(4!=t.length)return null;var s=t[3].substring(0,t[3].lastIndexOf("/"));1==s.endsWith("/")&&(s=1==s.length?"":s.substring(0,s.length-1)),n=`${r}://${i}${s}`}return n}extractFilenameFromURL(e){let t="",n=-1;return e&&0!=e.length?(t=e,n=e.indexOf("?"),-1!=n&&(t=t.substring(0,n)),n=t.lastIndexOf("/"),-1!=n&&(t=t.substring(n+1,t.length)),n=t.indexOf("#"),-1!=n&&(t=t.substring(0,n)),t):t}extractFilenameFromFilesystemPath(e){let t=-1,n="\\";return e&&0!=e.length?("win"!=this.m_PlatformInfo.os&&(n="/"),t=e.lastIndexOf(n),-1==t?e:e.substring(t+1,e.length)):null}tryGettingHeader(e,t){if(null==e||0==e.length)return null;if(null==t)return null;if("object"!=typeof t)return null;let n=Object.keys(t);for(let r=0;r<n.length;r++)if(y.has(t,n[r])&&n[r].toLowerCase()==e.toLowerCase())return t[n[r]];return null}headerExists(e,t){if(null==e||0==e.length)return!1;if(null==t)return!1;if("object"!=typeof t)return!1;let n=Object.keys(t);for(let r=0;r<n.length;r++)if(y.has(t,n[r])&&n[r].toLowerCase()==e.toLowerCase())return!0;return!1}headerDrop(e,t){if(null==e||0==e.length)return!1;if(null==t)return!1;if("object"!=typeof t)return!1;let n={},r=Object.keys(t);for(let i=0;i<r.length;i++){let s=r[i];if(y.has(t,s)){if(s.toLowerCase()==e.toLowerCase())continue;n[s]=t[s]}}return n}verifyNativeInstalled(e){if(e)try{t.runtime.sendNativeMessage(this.nativeAppName,{id:"query-version",isSyncCall:!0},(function(t){var n={available:!1,response:null};t&&(n.available=!0,n.response=t),e(n)}))}catch(t){e(null)}}compareVersionStrings(e,t){if(null==e)return;if(null==t)return;let n=e.toLowerCase(),r=t.toLowerCase();if(n==r)return 0;if(0==g.versionNumber.digitsTwo.test(n)&&0==g.versionNumber.digitsThree.test(n))return;if(0==g.versionNumber.digitsTwo.test(r)&&0==g.versionNumber.digitsThree.test(r))return;if(g.versionNumber.digitsTwo.test(n)&&(n+=".0"),g.versionNumber.digitsTwo.test(r)&&(r+=".0"),n==r)return 0;var i={left:{major:null,minor:null,build:null},right:{major:null,minor:null,build:null}};let s=n.match(g.versionNumber.digitsThree);return s&&4==s.length&&(i.left.major=Number(s[1]),i.left.minor=Number(s[2]),i.left.build=Number(s[3]),s=r.match(g.versionNumber.digitsThree),s&&4==s.length)?(i.right.major=Number(s[1]),i.right.minor=Number(s[2]),i.right.build=Number(s[3]),i.left.major!=i.right.major?i.left.major<i.right.major?-1:1:i.left.minor!=i.right.minor?i.left.minor<i.right.minor?-1:1:i.left.build==i.right.build?0:i.left.build<i.right.build?-1:1):void 0}calculateTextWidth(e,t){var n=document.createElement("canvas").getContext("2d");return n.font=t,n.measureText(e).width}makeShorterByFont(e,t,n){let r=v.calculateTextWidth(e,n);if(r>t){let i=e;do{i=i.substr(0,i.length-4)+"...",r=v.calculateTextWidth(i,n)}while(r>t);return i}return e}kilobytes(e){return 1024*e}megabytes(e){return e*v.kilobytes(1024)}isUCBrowser(e){if(null!=e&&0!=e.length)return-1!=e.toLowerCase().indexOf("ubrowser/")}includesAllSubstrings(e,t){if(null==e||0==e.length)return!1;if(null==t||0==t.length)return!1;for(let n of t)if("string"==typeof n){if(0==e.includes(n))return!1}else if("object"==typeof n&&y.has(n,"test")&&0==n.test(e))return!1;return!0}includesAnySubstring(e,t){if(null==e||0==e.length)return!1;if(null==t||0==t.length)return!1;for(let n of t)if("string"==typeof n){if(1==e.includes(n))return!0}else if("object"==typeof n&&y.has(n,"test")&&1==n.test(e))return!0;return!1}allMet(e){if(null!=e&&e.length>0){for(let t of e)if(0==t)return!1;return!0}return!1}isPromise(e){return e&&"[object Promise]"===Object.prototype.toString.call(e)}getBrowserIncognitoThemeColor(e){switch(e){case i:return"#893e65";case s:return"#1c1b22";case r:return"#35363a";case a:return"#242424"}return"#b5b5b5"}getBrowserIncognitoIcon(e){switch(e){case i:return"mdi-hat-fedora";case s:return"mdi-domino-mask";case r:return"mdi-incognito";case a:return"mdi-account-circle"}return"mdi-incognito"}getBrowserIncognitoModeName(e){switch(e){case i:return"Private mode";case s:return"Private browsing mode";case a:return"InPrivate mode";default:return"Incognito mode"}}isDebug(){return 0==y.isEmpty("production")&&"production".includes("development")}},b=n(15),x=n(447),w=new class{constructor(){this.downloads={search:function(e){return t.$type==s?t.downloads.search(e):new Promise((function(n,r){t.downloads.search(e,n)}))}}}getFromLocalStorage(e){return t.$type==s?t.storage.local.get(e):new Promise((function(n,r){t.storage.local.get(e,n)}))}setIntoLocalStorage(e){return t.$type==s?t.storage.local.set(e):new Promise((function(n,r){t.storage.local.set(e,n)}))}removeFromLocalStorage(e){return t.$type==s?t.storage.local.remove(e):new Promise((function(n,r){t.storage.local.remove(e,n)}))}clearLocalStorage(){return t.$type==s?t.storage.local.clear():new Promise((function(e,n){t.storage.local.clear(e)}))}getAllWindows(){return t.$type==s?t.windows.getAll({populate:!0}):new Promise((function(e,n){t.windows.getAll({populate:!0},e)}))}getCurrentWindow(){return t.$type==s?t.windows.getCurrent(null):new Promise((function(e,n){t.windows.getCurrent(null,e)}))}tabsQuery(){return t.$type==s?t.tabs.query({active:!0}):new Promise((function(e,n){t.tabs.query({active:!0},e)}))}tabsQueryAll(){return t.$type==s?t.tabs.query({}):new Promise((function(e,n){t.tabs.query({},e)}))}tabsUpdate(e){return t.$type==s?t.tabs.update(e):new Promise((function(n,r){t.tabs.update(e,n)}))}currentTabQuery(){var e={active:!0,currentWindow:!0};return t.$type==s?t.tabs.query(e):new Promise((function(n,r){t.tabs.query(e,n)}))}tabGetById(e){return t.$type==s?t.tabs.get(e):new Promise((function(n,r){t.tabs.get(e,n)}))}tabsHandleLastError(e){if(null!=e&&b.has(e,"message")&&null!=e.message){let t=["no tab with id","invalid tab id"],n=e.message.toLowerCase();for(let e of t)if(n.includes(e))return}}tabReloadById(e,n=!1){return t.$type==s?t.tabs.reload(e,{bypassCache:n}):new Promise((function(r,i){t.tabs.reload(e,{bypassCache:n},r)}))}cookiesGetAll(e){var n=null;return t.$type==s?(e.firstPartyDomain=null,n=t.cookies.getAll(e)):n=new Promise((function(n,r){t.cookies.getAll(e,n)})),n}sendMessage(e){return t.$type==s?t.runtime.sendMessage(e):new Promise((function(n,r){t.runtime.sendMessage(e,n)}))}sendMessageHandleLastError(e){if(null!=e&&b.has(e,"message")&&null!=e.message){let t=["could not establish connection. receiving end does not exist.","the message port closed before a response was received.",""],n=e.message.toLowerCase();for(let e of t)if(n.includes(e))return}}sendNativeMessage(e){return e.isSyncCall=!0,t.$type==s?t.runtime.sendNativeMessage(v.nativeAppName,e):new Promise((function(n,r){t.runtime.sendNativeMessage(v.nativeAppName,e,n)}))}NAQueryVersion(){var e={id:"query-version",isSyncCall:!0};return t.$type==s?t.runtime.sendNativeMessage(v.nativeAppName,e):new Promise((function(n,r){t.runtime.sendNativeMessage(v.nativeAppName,e,n)}))}async NAQueryVersionCheck(){let e=await this.NAQueryVersion();return!!(null!=e&&b.has(e,"id")&&b.has(e,"version")&&null!=e.id&&null!=e.version&&"query-version"==e.id.toLowerCase()&&e.version.length>0)}NAQueryDestinationFolder(){var e={id:"query-destination-folder",isSyncCall:!0};return t.$type==s?t.runtime.sendNativeMessage(v.nativeAppName,e):new Promise((function(n,r){t.runtime.sendNativeMessage(v.nativeAppName,e,n)}))}NAChangeDownloadsFolder(){var e={id:"set-destination-folder",isSyncCall:!0};return t.$type==s?t.runtime.sendNativeMessage(v.nativeAppName,e):new Promise((function(n,r){t.runtime.sendNativeMessage(v.nativeAppName,e,n)}))}NAChangePrivateDownloadsFolder(){var e={id:"set-private-destination-folder",isSyncCall:!0};return t.$type==s?t.runtime.sendNativeMessage(v.nativeAppName,e):new Promise((function(n,r){t.runtime.sendNativeMessage(v.nativeAppName,e,n)}))}NAResetDownloadsFolder(){var e={id:"reset-destination-folder",isSyncCall:!0};return t.$type==s?t.runtime.sendNativeMessage(v.nativeAppName,e):new Promise((function(n,r){t.runtime.sendNativeMessage(v.nativeAppName,e,n)}))}NAChangeTemporaryFilesFolder(){var e={id:"set-temporary-folder",isSyncCall:!0};return t.$type==s?t.runtime.sendNativeMessage(v.nativeAppName,e):new Promise((function(n,r){t.runtime.sendNativeMessage(v.nativeAppName,e,n)}))}NAOpenTemporaryFilesFolder(){var e={id:"open-temporary-folder",isSyncCall:!0};return t.$type==s?t.runtime.sendNativeMessage(v.nativeAppName,e):new Promise((function(n,r){t.runtime.sendNativeMessage(v.nativeAppName,e,n)}))}NAResetTemporaryFilesFolder(){var e={id:"reset-temporary-folder",isSyncCall:!0};return t.$type==s?t.runtime.sendNativeMessage(v.nativeAppName,e):new Promise((function(n,r){t.runtime.sendNativeMessage(v.nativeAppName,e,n)}))}NAOpenSessionTemporaryFilesFolder(e){var n={id:"open-temporary-folder-this-session",session:e,isSyncCall:!0};return t.$type==s?t.runtime.sendNativeMessage(v.nativeAppName,n):new Promise((function(e,r){t.runtime.sendNativeMessage(v.nativeAppName,n,e)}))}runtimeGetPlatformInfo(){return t.$type==s?t.runtime.getPlatformInfo():new Promise((function(e,n){t.runtime.getPlatformInfo(e)}))}runtimeGetBrowserInfo(){return t.$type==s?t.runtime.getBrowserInfo():new Promise((function(e,t){t("This method is implemented only on Mozilla Firefox")}))}smartOpenNewTab(e){if(null==e||0==e.length)return null;let n=e+"#",r=t.windows.WINDOW_ID_CURRENT,i=null;x((function*(){var s=yield w.getCurrentWindow();if(null!=s){var a=yield w.getAllWindows();if(1==s.incognito){var o,l=null,c=null;for(let s in a)if(1==a[s].incognito){null==c&&(c=a[s].id),1==a[s].focused&&(l=a[s].id);let o=a[s].tabs;for(let l in o){let c=o[l];if(c.url==e||c.url==n)return i=a[s].id,r!=i&&t.windows.update(i,{focused:!0}),t.tabs.update(c.id,{active:!0}),{updated:!0}}}return o=null!=l?l:c,t.tabs.create({url:e,active:!0,windowId:o}),{created:!0}}for(let s in a){let o=a[s].tabs;for(let l in o){let c=o[l];if(c.url==e||c.url==n)return i=a[s].id,r!=i&&t.windows.update(i,{focused:!0}),t.tabs.update(c.id,{active:!0}),{updated:!0}}}return t.tabs.create({url:e,active:!0}),{created:!0}}})).catch((e=>{}))}smartOpenNewTab2(e,n){if(null==e||0==e.length)return null;if(null==n||"boolean"!=typeof n)return null;let r=`${e}#`;x((function*(){let i=yield w.getCurrentWindow(),s=yield w.getAllWindows();for(let i of s)if(i.incognito==n){let n=i.tabs;for(let s of n)if(s.url==e||s.url==r)return t.windows.update(i.id,{focused:!0}),t.tabs.update(s.id,{active:!0}),{updated:!0}}t.tabs.create({url:e,active:!0,windowId:i.id})})).catch((e=>{}))}async smartOpenNewTabAsync(e){if(null==e||0==e.length)return null;let n=e+"#",r=t.windows.WINDOW_ID_CURRENT,i=null,s=null,a=null;try{s=await w.getCurrentWindow()}catch(e){}if(null!=s){try{a=await w.getAllWindows()}catch(e){}if(1==s.incognito){let s=null,o=null,l=null;if(null!=a)for(let l in a)if(1==a[l].incognito){null==o&&(o=a[l].id),1==a[l].focused&&(s=a[l].id);let c=a[l].tabs;for(let s in c){let o=c[s];if(o.url==e||o.url==n)return i=a[l].id,r!=i&&t.windows.update(i,{focused:!0}),t.tabs.update(o.id,{active:!0}),{updated:!0,incognito:!0}}}return l=null!=s?s:o,t.tabs.create({url:e,active:!0,windowId:l}),{created:!0,incognito:!0}}for(let s in a){let o=a[s].tabs;for(let l in o){let c=o[l];if(c.url==e||c.url==n)return i=a[s].id,r!=i&&t.windows.update(i,{focused:!0}),t.tabs.update(c.id,{active:!0}),{updated:!0,incognito:!1}}}return t.tabs.create({url:e,active:!0}),{created:!0,incognito:!1}}}downloadsDownload(e){return t.$type==s?t.downloads.download(e):new Promise((function(n,r){t.downloads.download(e,n)}))}downloadsCancel(e){return t.$type==s?t.downloads.cancel(e):new Promise((function(n,r){t.downloads.cancel(e,n)}))}};var _=n(681),k=n(15),S=n(447);class E extends Map{constructor(){super(),this.set(_.extension.downloads.private.mode,{type:3,value:_.extension.downloads.private.ModeAskEachTime,defaultValue:_.extension.downloads.private.ModeAskEachTime}),this.set(_.extension.frontend.theme,{type:3,value:_.extension.frontend.ThemeAuto,defaultValue:_.extension.frontend.ThemeAuto}),t.$type==s?(this.set(_.extension.privacy.allowDataSentToNA,{type:2,value:!1,defaultValue:!1}),this.set(_.extension.privacy.storeDownloadsInPrivate.mode,{type:3,value:_.extension.privacy.storeDownloadsInPrivate.ModeNone,defaultValue:_.extension.privacy.storeDownloadsInPrivate.ModeNone})):(this.set(_.extension.privacy.allowDataSentToNA,{type:2,value:!0,defaultValue:!0}),this.set(_.extension.privacy.storeDownloadsInPrivate.mode,{type:3,value:_.extension.privacy.storeDownloadsInPrivate.ModeInStorage,defaultValue:_.extension.privacy.storeDownloadsInPrivate.ModeInStorage})),this.set(_.extension.videoDetector.enable,{type:2,value:!0,defaultValue:!0}),this.set(_.extension.videoDetector.protocols.clearDetectedOnDisable,{type:2,value:!0,defaultValue:!0}),this.set(_.extension.videoDetector.protocols.clearDetectedOnMute,{type:2,value:!0,defaultValue:!0}),this.set(_.extension.videoDetector.protocols.yt.enable,{type:2,value:!0,defaultValue:!0}),this.set(_.extension.videoDetector.protocols.yt.decipherStreamUrls,{type:2,value:!1,defaultValue:!1}),this.set(_.extension.frontend.popup.videoDetected.videoList.yt.preferred.container,{type:3,value:_.extension.frontend.popup.videoDetected.videoList.yt.preferred.ContainerAll,defaultValue:_.extension.frontend.popup.videoDetected.videoList.yt.preferred.ContainerAll}),this.set(_.extension.videoDetector.protocols.ytnp.enable,{type:2,value:!0,defaultValue:!0}),this.set(_.extension.videoDetector.protocols.hls.enable,{type:2,value:!0,defaultValue:!0}),this.set(_.extension.videoDetector.protocols.vimeo.enable,{type:2,value:!0,defaultValue:!0}),this.set(_.extension.videoDetector.protocols.mpd.enable,{type:2,value:!0,defaultValue:!0}),this.set(_.extension.videoDetector.protocols.mpd.ignoreUnsupported,{type:2,value:!0,defaultValue:!0}),this.set(_.extension.videoDetector.protocols.scoring.enable,{type:2,value:!0,defaultValue:!0}),this.set(_.extension.videoDetector.protocols.scoring.detector.ignore.noSize,{type:2,value:!0,defaultValue:!0}),this.set(_.extension.videoDetector.protocols.scoring.detector.ignore.zeroSize,{type:2,value:!1,defaultValue:!1}),this.set(_.extension.videoDetector.protocols.scoring.detector.ignore.lessThanSize.enabled,{type:2,value:!0,defaultValue:!0}),this.set(_.extension.videoDetector.protocols.scoring.detector.ignore.lessThanSize.limit,{type:4,value:_.extension.videoDetector.protocols.scoring.detector.ignore.lessThanSize.LimitDefault,defaultValue:_.extension.videoDetector.protocols.scoring.detector.ignore.lessThanSize.LimitDefault}),this.set(_.extension.videoDetector.protocols.scoring.detector.ignore.octetStreamNoFile,{type:2,value:!0,defaultValue:!0}),this.set(_.extension.frontend.settings.alerts.reloadToTakeEffect.show,{type:2,value:!0,defaultValue:!1}),this.set(_.extension.frontend.settings.alerts.settingsAffectBothModes.show,{type:2,value:!0,defaultValue:!1}),this.set(_.extension.frontend.popup.downloadsCounter.show,{type:2,value:!0,defaultValue:!0}),this.set(_.extension.frontend.downloads.alerts.noNAForYourSystemYet.show,{type:2,value:!0,defaultValue:!1}),this.set(_.extension.frontend.downloads.alerts.NAIsOutdated.show,{type:2,value:!0,defaultValue:!1}),this.set(_.extension.frontend.downloads.alerts.idleVideosNotShown.show,{type:2,value:!0,defaultValue:!1}),this.set(_.extension.frontend.downloads.alerts.incognitoMode.promote.show,{type:2,value:!0,defaultValue:!1}),t.$type==s?this.set(_.extension.frontend.downloads.alerts.incognitoMode.downloadsAreDisabled.show,{type:2,value:!0,defaultValue:!0}):this.set(_.extension.frontend.downloads.alerts.incognitoMode.downloadsAreDisabled.show,{type:2,value:!1,defaultValue:!1}),this.set(_.extension.frontend.downloads.nav.showFilterByState,{type:2,value:!0,defaultValue:!0}),this.set(_.extension.frontend.downloads.nav.showFilterByProtocol,{type:2,value:!1,defaultValue:!1}),this.set(_.extension.frontend.downloads.nav.showFilterByTab,{type:2,value:!1,defaultValue:!1}),this.set(_.extension.frontend.downloads.nav.showFilterByWebsite,{type:2,value:!1,defaultValue:!1}),this.set(_.extension.frontend.downloads.showGoToTabButton,{type:2,value:!0,defaultValue:!0}),this.set(_.extension.frontend.popup.videoDetected.closeOnStartDownload,{type:2,value:!1,defaultValue:!1}),this.set(_.extension.frontend.popup.videoDetected.toolbar.display,{type:2,value:!0,defaultValue:!0}),this.set(_.extension.frontend.popup.videoDetected.video.sortQualities.enable,{type:2,value:!0,defaultValue:!0}),this.set(_.extension.frontend.popup.videoDetected.video.sortQualities.order.bestQualitiesAtTheEnd,{type:2,value:!0,defaultValue:!0}),this.set(_.extension.frontend.popup.videoDetected.video.preselectBestQuality,{type:2,value:!0,defaultValue:!0}),this.set(_.extension.frontend.popup.videoDetected.video.showFilesize,{type:2,value:!1,defaultValue:!1}),this.set(_.extension.frontend.popup.videoDetected.videoList.sortVideos.doSort,{type:2,value:!0,defaultValue:!0}),this.set(_.extension.frontend.popup.videoDetected.videoList.sortVideos.order.newVideosComeFirst,{type:2,value:!0,defaultValue:!0}),this.set(_.extension.frontend.popup.videoDetected.videoList.limit.enable,{type:2,value:!1,defaultValue:!1}),this.set(_.extension.frontend.popup.videoDetected.videoList.limit.count,{type:4,value:12,defaultValue:12}),this.set(_.extension.frontend.popup.videoDetected.videoList.yt.showChannelName,{type:2,value:!0,defaultValue:!0}),this.set(_.extension.frontend.popup.videoDetected.videoList.ytnp.alwaysOnTop,{type:2,value:!0,defaultValue:!0}),this.set(_.extension.frontend.popup.videoDetected.videoList.ytnp.displayWarningOnIncompatibleStreams,{type:2,value:!0,defaultValue:!0})}serialize(){return JSON.stringify([...this])}deserialize(e){if(k.isEmpty(e))return;let t=null;try{"string"==typeof e?t=new Map(JSON.parse(e)):"object"==typeof e&&k.has(e,"settings")&&0==k.isEmpty(e.settings)&&(t=new Map(JSON.parse(e.settings)))}catch(e){}if(t.size>0)for(let[e,n]of t.entries())this.set(e,n)}}var I=null;class C{constructor(e){this.m_Settings=new E,null!=e&&0==k.isEmpty(e)&&this.m_Settings.deserialize(e),t.runtime.onMessage.addListener(this.onMessageHandler.bind(this))}get(e){return this.m_Settings.has(e)?this.m_Settings.get(e):null}getValue(e){let t=this.get(e);return null!=t&&k.has(t,"value")?t.value:null}getByRegexp(e){let t={},n=null;n="string"==typeof e?new RegExp(e,"i"):e;for(let[e,r]of this.m_Settings.entries())"string"==typeof e&&null!=e&&0!=e.length&&n.test(e)&&(t[e]=r);return t}keys(){return 0==this.m_Settings.size?null:Array.from(this.m_Settings.keys())}async set(e,n){this.m_Settings.set(e,n);try{await w.setIntoLocalStorage({settings:this.m_Settings.serialize()})}catch(e){}try{let r={id:m.events.onSettingChanged,key:e,newValue:n};w.sendMessage(r).then((()=>{w.sendMessageHandleLastError(t.runtime.lastError)}),(e=>{}))}catch(e){}}async reset(e){if(this.m_Settings.has(e)){let t=this.m_Settings.get(e);k.has(t,"value")&&k.has(t,"defaultValue")&&(t.value=t.defaultValue),this.m_Settings.set(e,t)}}serialize(){return this.m_Settings.serialize()}internalQuerySettingsBySingleKey(e,t){let n=null!=t&&"function"==typeof t?t:function(){};if(null==e||0==e.length)return n({id:m.get,response:!0,success:!1,error:"Key is null or empty"}),null;let r=this.m_Settings.get(e);if(null!=r&&!k.isEmpty(r))return n({id:m.get,response:!0,key:e,value:r,success:!0}),r;n({id:m.get,response:!0,success:!1,error:`setting with key ${e} has null value`})}internalQuerySettingsByMultipleKeys(e,t){let n=null!=t&&"function"==typeof t?t:function(){};if(null==e||0==e.length)return n({id:m.get,response:!0,success:!1,error:"Keys array is null or empty"}),null;let r={};for(let t of e){if("string"!=typeof t)continue;if(null==t||0==t.length)continue;let e=this.m_Settings.get(t);null!=e&&(r[t]=e)}r.size,n({id:m.get,response:!0,result:r,success:!0})}internalQuerySettingsByRegexp(e,t){let n=null!=t&&"function"==typeof t?t:function(){};if(null==e)return n({id:m.get,response:!0,success:!1,error:"Keys array is null or empty"}),null;let r={};for(let[t,n]of this.m_Settings.entries())"string"==typeof t&&null!=t&&0!=t.length&&e.test(t)&&(r[t]=n);r.size,n({id:m.get,response:!0,result:r,success:!0})}onMessageHandler(e,t,n){if(null==e||0==k.has(e,"id")||null==e.id)return;if(null==this.m_Settings||0==this.m_Settings.size)return;let r=null!=n&&"function"==typeof n?n:function(){};switch(e.id){case m.get:if(k.has(e,"keys")&&null!=e.keys)return void("string"==typeof e.keys?this.internalQuerySettingsBySingleKey(e.keys,n):Array.isArray(e.keys)?this.internalQuerySettingsByMultipleKeys(e.keys,n):r({id:m.get,response:!0,success:!1,error:"Property 'keys' type is unsupported"}));if(!k.has(e,"regexp")||null==e.regexp)return void r({id:m.get,response:!0,success:!1,error:"Invalid message (no keys, no regexp)"});{let t=null;try{t=new RegExp(e.regexp,"i")}catch(e){return void r({id:m.get,response:!0,success:!1,error:"Invalid regular expression"})}this.internalQuerySettingsByRegexp(t,n)}break;case m.set:{let t=null;try{if(0==k.has(e,"key")||null==e.key||0==e.key.length)throw"Property 'key' is missing or empty";if(0==this.m_Settings.has(e.key))throw`There is no setting with key ${e.key}`;if(t=this.m_Settings.get(e.key),null==t||k.isEmpty(t))throw`Setting with key ${e.key} has null value`;if(0==k.has(e,"value")||null==e.value)throw"Property 'value' is missing or empty"}catch(e){return void r({id:m.set,response:!0,error:e})}var i=this;S((function*(){t.value=e.value,yield i.set(e.key,t),r({id:m.set,response:!0,key:e.key,success:!0})})).catch((e=>{}))}}}}function P(){return null==I?null:I}var A=n(102),T=n(15),V=n(447),D=null;function R(){return D}function N(){if(null!=D)return D.getSnapshot()}class L{constructor(){this.id=v.generateShortId(),this.ua=null,this.started=Date.now();let e=Object.keys(A);if(e.length>0)for(let t of e)if(t&&T.has(A,t)){if("$raw"==t)continue;if("function"==typeof A[t])continue}t.runtime.onInstalled.addListener(this.onInstalledEventListener.bind(this)),t.runtime.onMessage.addListener(this.onMessageEventListener.bind(this))}onInstalledEventListener(e){null!=e&&0!=T.has(e,"reason")&&null!=e.reason&&"install"==e.reason&&t.tabs.create({url:t.runtime.getURL("ui/frontend/static/installed.html"),active:!0})}onMessageEventListener(e,n,r){if(null!=e&&0!=T.has(e,"id")&&null!=e.id){var i=this;switch(e.id){case d.query:if(r){let e=R();null!=e&&r(e.getSnapshot())}break;case d.openSettingsPage:case"__stubRedirectSettingsPage":try{w.smartOpenNewTab(t.runtime.getURL("ui/frontend/dist/settings.html"))}catch(e){}break;case d.openTopVideoSites:try{w.smartOpenNewTab("https://www.ant.com/top")}catch(e){}break;case d.openDebugPage:try{w.smartOpenNewTab(t.runtime.getURL("ui/frontend/dist/debug.html"))}catch(e){}break;case d.wipeOut:V((function*(){yield i.wipeOut(e)})).catch((e=>{}))}}}async updateUserAgent(e){D.ua=e;try{await w.setIntoLocalStorage({session:D.getSnapshot()})}catch(e){}}async wipeOut(e){let n=!1;if(null!=e&&T.has(e,"keepSettings")&&null!=e.keepSettings&&"boolean"==typeof e.keepSettings&&(n=e.keepSettings),n){let e=null,t=null;try{e=await w.getFromLocalStorage(null),delete e.settings,t=Object.keys(e)}catch(e){}if(null!=t&&t.length>0)try{await w.removeFromLocalStorage(t)}catch(e){}}else try{await w.clearLocalStorage()}catch(e){}t.runtime.reload()}getSnapshot(){return{id:this.id,ua:this.ua,started:this.started}}}var M=n(15),O=n(29);const B={Unspecified:"<unspecificed>",Scoring:"scoring",HLS:"hls",Vimeo:"vimeo",MPD:"mpd",YTNP:"ytnp",YT:"yt"},F="vdExecTypeBrowser",U="vdExecTypeNativeApp",j="vdStateUnsupported",H="vdStateUnspecified",q="vdStateIdle",W="vdStatePreparingActive",z="vdStateDownloading",$="vdStateMerging",G="vdStateConverting",Q="vdStateFinished",Z="vdStateCanceling",Y="vdStateCanceled",K="vdStateError",J="vdStateYTDeciphering",X="vdStateMPDFetchingManifest",ee="vdStateMPDFetchingManifestFailed",te=[j,H,q],ne=[z,$,G];class re{static isKey(e){return null==e||"string"!=typeof e||0==e.length?null:g.video.descriptor.key.test(e)}static generateKey(e){if(null==e||M.isEmpty(e))return null;let t=null;if(0==M.has(e,"tabId")||null==e.tabId)return null;if(M.has(e,"hash")&&null!=e.hash)t=e.hash;else{if(!M.has(e,"url")||null==e.url)return null;t=O(e.url)}return g.video.descriptor.keyPattern(e.tabId,t)}static parseKey(e){if(null==e)return null;if("string"!=typeof e)return null;if(0==e.length)return null;let t=e.match(g.video.descriptor.key);if(null!=t&&t.length>=3){let n=t[1],r=t[2];return"string"==typeof n&&g.isInteger.test(n)&&(n=Number(n)),{tabId:n,hash:r,key:e}}return null}}class ie{static isKey(e){return null==e||"string"!=typeof e||0==e.length?null:g.video.previousDownload.key.test(e)}static generateKey(e){return null==e||M.isEmpty(e)||0==M.has(e,"sessionId")||null==e.sessionId||0==M.has(e,"key")||null==e.key?null:g.video.previousDownload.keyPattern(e.sessionId,e.key)}static parseKey(e){if(null==e)return null;if("string"!=typeof e)return null;if(0==e.length)return null;let t=e.match(g.video.previousDownload.key);return null!=t&&t.length>=3?{sessionId:t[1],key:t[2]}:null}}class se{constructor(e){if(this.version=2,this.key=null,this.url=null,this.session=null,this.promoteNA=!1,this.unconsented=!1,this.protocol=B.Unspecified,this.state=H,this.description={title:null,webpage:null,incognito:null},this.meta={},this.media={},this.download=se.getEmptyDownloadObject(),this.created=Date.now(),null!=e&&e instanceof Object!=0)try{Object.assign(this,e)}catch(e){}}static getEmptyDownloadObject(){return{selector:null,executor:{type:"vdExecTypeUnspecified",browserDownloadId:null},progress:{message:null},performance:{totalTimeSec:null,averageSpeed:null},target:{filename:null,filenameUpdatedByUser:!1,filenameProvidedByUser:null,size:null},error:null}}static tabId(e){if(null==e)return null;let t=null;if("string"==typeof e){if(0==e.length)return null;t=e}else{if("object"!=typeof e)return null;if(0==M.has(e,"key"))return null;if(null==e.key||0==e.key.length)return null;t=e.key}let n=re.parseKey(t);return null!=n&&M.has(n,"tabId")&&null!=n.tabId?n.tabId:null}serialize(){return JSON.stringify(this)}static deserialize(e){let t=JSON.parse(e);return new se(t)}static isVideoStateAny(e,t){if(M.isEmpty(e))return null;if(0==M.has(e,"state")||null==e.state)return null;if(null==t)return null;if(Array.isArray(t)){if(0==t.length)return null;for(let n of t)if(e.state==n)return!0}else if(e.state==t)return!0;return!1}}var ae=n(29);class oe{static isKey(e){return null==e||"string"!=typeof e||0==e.length?null:g.streamKey.test(e)}static generateKey(e,t){return null==e||0==e.length||null==t?null:g.streamKeyPattern(ae(e),t)}static parseKey(e){if(null==e)return null;if("string"!=typeof e)return null;if(0==e.length)return null;let t=e.match(g.streamKey);return null!=t&&t.length>=2?{tabId:null,streamHash:t[1],videoKey:t[2]}:null}}const le=-1;function ce(e){return null!=e&&(e===le||("string"!=typeof e||!isNaN(parseInt(e)))&&"number"==typeof e)}const ue="YouTubeDataSourceTypeConfigInitial",he="YouTubeDataSourceTypeConfigSubsequent",pe="YouTubeDataSourceTypeCallNext",de="YouTubeDataSourceTypeConfigEmbedded",fe="YouTubeDataSourceTypeHomepageInitial",me="youtubeNowPlayingStreamTypeSolid",ge="youtubeNowPlayingStreamTypeAudio",ye="youtubeNowPlayingStreamTypeVideo",ve=new Map([[18,{label:"360p",weight:360,type:me}],[22,{label:"360p",weight:360,type:me}],[43,{label:"360p",weight:360,type:me}],[133,{label:"240p",weight:240,type:ye}],[134,{label:"360p",weight:360,type:ye}],[135,{label:"480p",weight:480,type:ye}],[136,{label:"720p",weight:720,type:ye}],[137,{label:"1024p",weight:1024,type:ye}],[138,{label:"2160p",weight:2160,type:ye}],[140,{label:null,weight:null,type:ge}],[160,{label:"144p",weight:144,type:ye}],[171,{label:null,weight:null,type:ge}],[242,{label:"240p",weight:240,type:ye}],[243,{label:"360p",weight:360,type:ye}],[244,{label:"480p",weight:480,type:ye}],[247,{label:"720p",weight:720,type:ye}],[248,{label:"1080p",weight:1080,type:ye}],[249,{label:null,weight:null,type:ge}],[250,{label:null,weight:null,type:ge}],[251,{label:null,weight:null,type:ge}],[264,{label:"1440p",weight:1440,type:ye}],[266,{label:"1440p",weight:1440,type:ye}],[271,{label:"1440p",weight:1440,type:ye}],[272,{label:"4K/8K",weight:2160,type:ye}],[278,{label:"144p",weight:144,type:ye}],[298,{label:"720p60",weight:721,type:ye}],[299,{label:"1080p",weight:1080,type:ye}],[302,{label:"720p",weight:720,type:ye}],[303,{label:"1080p",weight:1080,type:ye}],[308,{label:"1440p60",weight:1441,type:ye}],[313,{label:"2160p",weight:2160,type:ye}],[315,{label:"2160p60",weight:2161,type:ye}],[330,{label:"144p60 HDR",weight:145,type:ye}],[331,{label:"240p60 HDR",weight:241,type:ye}],[332,{label:"360p60 HDR",weight:361,type:ye}],[333,{label:"480p60 HDR",weight:481,type:ye}],[334,{label:"720p60 HDR",weight:721,type:ye}],[335,{label:"1080p60 HDR",weight:1081,type:ye}],[336,{label:"1440p60 HDR",weight:1441,type:ye}],[337,{label:"2160p60 HDR",weight:2161,type:ye}],[394,{label:"144p",weight:144,type:ye}],[395,{label:"240p",weight:240,type:ye}],[396,{label:"320p",weight:320,type:ye}],[397,{label:"480p",weight:480,type:ye}],[398,{label:"720p",weight:720,type:ye}],[399,{label:"1080p",weight:1080,type:ye}],[400,{label:"4K",weight:2560,type:ye}],[401,{label:"4K",weight:3840,type:ye}],[571,{label:"8K",weight:4320,type:ye}]]);var be=n(29),xe=n(260),we=n(15);function _e(e,t){if(null==e)return;if(null==t||0==t.length)return;let n=be(t);return`${e}:${xe.btoa(n)}`}function ke(e){if(null==e||0==e.length)return null;if(0==Array.isArray(e))return e;let t={},n=!1;for(let r of e)"object"==typeof r&&we.has(r,"name")&&we.has(r,"value")&&r.name&&r.name.length>0&&(t[r.name]=r.value,n=!0);return n?t:null}n(681);var Se=n(651),Ee=n.n(Se),Ie=n(15),Ce=n(681);class Pe{constructor(){this.m_VideoHandler=br(),this.m_VideoHandler,this.m_SettingsManager=P(),this.m_SettingsManager,this.m_SkipMediaPlaylistKeys=new Map,this.m_PlaylistProcessorStarted=!1,this.m_PendingPlaylists=[],t.tabs.onRemoved.addListener(this.onTabRemovedEventListener.bind(this))}get name(){return B.HLS}isEnabled(e){return null==e||0==Ie.has(e,B.HLS)||null==e[B.HLS]||"boolean"!=typeof e[B.HLS]||e[B.HLS]}onTabRemovedEventListener(e,t){for(let[t]of this.m_SkipMediaPlaylistKeys){let n=re.parseKey(t);null!=n&&Ie.has(n,"tabId")&&n.tabId==e&&this.m_SkipMediaPlaylistKeys.delete(t)}}canApply(e){try{if(null==e)throw"HlsProtocol::canApply() ->  no data where provided";if(0==Ie.has(e,"responseData"))throw"HlsProtocol::canApply() ->  HTTP response is not present";if(Ie.isEmpty(e.responseData))throw"HlsProtocol::canApply() ->  HTTP response is empty";if(0==Ie.has(e.responseData,"url"))throw"HlsProtocol::canApply() ->  url is missing";if(null==e.responseData.url||0==e.responseData.url.length)throw"HlsProtocol::canApply() ->  url is null or empty"}catch(e){return-1}0==this.m_PlaylistProcessorStarted&&(this.m_PlaylistProcessorStarted=!0,this.processManifestAsync(this));var t=null,n=ke(e.responseData.responseHeaders),r=e.responseData.url.toLowerCase(),i=null,s=null;Ie.has(e,"requestData")&&null!=e.requestData&&Ie.has(e.requestData,"requestHeaders")&&null!=e.requestData.requestHeaders&&(t=ke(e.requestData.requestHeaders)),null!=t&&null!=(i=v.tryGettingHeader("referer",t))&&i.length>0&&(s=i.toLowerCase());var a=function(e,t){return null!=e&&0!=e.length&&null!=t&&0!=t.length&&!(-1==e.indexOf("vk.com")&&-1==e.indexOf("vkontakte.ru")||1!=t.endsWith(".m3u8")&&-1==t.indexOf(".m3u8?"))};let o=v.tryGettingHeader("content-type",n);if(null!=o){let e=o.toLowerCase(),t={standard:["application/vnd.apple.mpegurl","application/vnd.apple.mpegurl.audio","application/mpegurl","application/x-mpegurl","application/octet-stream-m3u8","audio/mpegurl","audio/x-mpegurl"],as_binary:["binary/octet-stream","application/x-mpeg"],as_textplain:["text/plain","text/html"],vk:["application/octet-stream"],text_css:["text/css"]};for(let n of t.standard)if(-1!=e.indexOf(n))return 0;for(let n of t.as_binary)if(-1!=e.indexOf(n)&&(1==r.endsWith(".m3u8")||-1!=r.indexOf(".m3u8?")))return 0;for(let n of t.as_textplain)if(-1!=e.indexOf(n)){if(1==r.endsWith(".m3u8")||-1!=r.indexOf(".m3u8?"))return 0;if(-1!=r.indexOf("/master.txt"))return 0;if(r.includes("/load_m3u8_xtremestream.php"))return 0;if(r.includes("toonanime.xyz")&&new RegExp("\\/playlist\\/[\\w\\/_\\-]+(?:\\?secure=[\\w\\-\\=]+)?","i").test(r))return 0}for(let n of t.vk)if(-1!=e.indexOf(n)){if(1==a(s,r))return 0;if(1==r.endsWith(".m3u8")||-1!=r.indexOf(".m3u8?"))return 0}for(let n of t.text_css)if(-1!=e.indexOf(n)&&(1==r.endsWith(".m3u8")||-1!=r.indexOf(".m3u8?")))return 0}else{let e=[a,function(e,t){return null!=e&&0!=e.length&&null!=t&&0!=t.length&&-1!=e.indexOf("mrdeepfakes.com")&&(1==t.endsWith(".m3u8")||-1!=t.indexOf(".m3u8?"))},function(e,t){return null!=t&&0!=t.length&&!!new RegExp("\\w+\\.\\w+\\/playlist\\/\\w+\\/\\d+","i").test(t)}];for(let t of e)if(1==t(s,r))return 0;if(1==r.endsWith(".m3u8")||-1!=r.indexOf(".m3u8?"))return 0}if(null!=s&&s.length>0){var l=new RegExp("[\\w\\.]+?uqvid\\.com\\/hls\\/[\\w\\/]+\\??","i"),c=new RegExp("[\\w\\.]+?uqvid\\.com\\/public\\/dist\\/index.html\\?","i");if(1==l.test(r)&&1==c.test(s))return 0}return r.includes("/hls")&&0==r.includes("/frag-")&&g.websites.netu_hostname_cdn.test(r)?0:1}apply(e){try{if(null==e)throw"HlsProtocol::apply: no data where provided";if(0==Ie.has(e,"responseData"))throw"HlsProtocol::apply: HTTP response is not present";if(Ie.isEmpty(e.responseData))throw"HlsProtocol::apply: HTTP response is empty";if(0==Ie.has(e.responseData,"url"))throw"HlsProtocol::apply: url is missing";if(null==e.responseData.url||0==e.responseData.url.length)throw"HlsProtocol::apply: url is null or empty";if(0==Ie.has(e.responseData,"tabId"))throw"HlsProtocol::apply: tabId is missing";if(null==e.responseData.tabId)throw"HlsProtocol::apply: tabId is null";if(e.responseData.tabId<0)throw"HlsProtocol::apply: tabless videos are not supported yet"}catch(e){return}this.m_PendingPlaylists.push(e)}async processManifestAsync(e){for(;;){let n=null;try{if(null==e){await Ee()(1e3);continue}if(null==e.m_PendingPlaylists){await Ee()(1e3);continue}if(0==e.m_PendingPlaylists.length){await Ee()(250);continue}if(null==e.m_SettingsManager){await Ee()(1e3);continue}if(n=e.m_PendingPlaylists.shift(),0==ce(n.responseData.tabId)){await Ee()(250);continue}let r=null,i=null,a=null,o=!1,l=null;if(r={key:re.generateKey({tabId:n.responseData.tabId,url:n.responseData.url}),url:n.responseData.url,session:N(),cookies:null,requestHeaders:ke(n.requestData.requestHeaders),responseHeaders:ke(n.responseData.responseHeaders)},e.m_SkipMediaPlaylistKeys.has(r.key))continue;e.m_SkipMediaPlaylistKeys.set(r.key,{});try{i=await w.tabGetById(n.responseData.tabId),w.tabsHandleLastError(t.runtime.lastError)}catch(e){}try{r.cookies=await w.cookiesGetAll({url:n.responseData.url})}catch(e){}if((null==r.cookies||0==r.cookies.length)&&null!=i&&Ie.has(i,"url")&&null!=i.url)try{r.cookies=await w.cookiesGetAll({url:i.url})}catch(e){}try{l=await w.NAQueryVersion(),w.sendMessageHandleLastError(t.runtime.lastError)}catch(e){}if(null!=l&&Ie.has(l,"id")&&Ie.has(l,"version")&&null!=l.id&&null!=l.version&&"query-version"==l.id.toLowerCase()&&l.version.length>0&&(o=!0),0==o)e.promoteNAInstall(e,r,i);else{if(t.$type==s){let t=e.m_SettingsManager.get(Ce.extension.privacy.allowDataSentToNA);if(!1===(null!=t&&void 0!==t&&Ie.has(t,"value")&&null!=t.value)||!1===t.value){e.storeUnconsentedVideo(e,r,i);continue}}let n={id:"hls-detect-playlist-simple",playlist:r};try{a=await w.sendNativeMessage(n),w.sendMessageHandleLastError(t.runtime.lastError)}catch(e){}null==a||e.storeDetectedVideo(e,a,r,i)}try{await Ee()(750)}catch(e){}}catch(e){}}}storeUnconsentedVideo(e,t,n){try{let r=new se({key:re.generateKey({tabId:n.id,url:n.url}),url:t.url,session:t.session,unconsented:!0,promoteNA:!1,protocol:B.HLS,description:{title:n.title,webpage:n.url,incognito:n.incognito}});try{null!=e.m_VideoHandler&&e.m_VideoHandler.detected(r)}catch(e){}}catch(e){}}promoteNAInstall(e,t,n){try{let r=new se({key:re.generateKey({tabId:n.id,url:n.url}),url:t.url,session:t.session,promoteNA:!0,protocol:B.HLS,description:{title:n.title,webpage:n.url,incognito:n.incognito}});try{null!=e.m_VideoHandler&&e.m_VideoHandler.detected(r)}catch(e){}}catch(e){}}storeDetectedVideo(e,t,n,r){try{if(null==e)throw"HlsProtocol::storeDetectedVideo: context is null";if(null==t)throw"HlsProtocol::storeDetectedVideo: response is null";if(0==Ie.has(t,"id"))throw"HlsProtocol::storeDetectedVideo: message has no field 'id'";if("host-error"==t.id.toLowerCase())return void(Ie.has(t,"message")&&null!=t.message&&t.message.length);if("hls-detect-playlist-simple"!=t.id.toLowerCase())throw`HlsProtocol::storeDetectedVideo: unknown response id '${t.id}'`;if(0==Ie.has(t,"result"))throw"HlsProtocol::storeDetectedVideo: message has no field 'result'";if(null==t.result||void 0===t.result)throw"HlsProtocol::storeDetectedVideo: result is null or undefined"}catch(e){return}0!=Ie.has(r,"title")&&null!=r.title||(r.title=null),0!=Ie.has(r,"url")&&null!=r.url||(r.url=null),0!=Ie.has(r,"incognito")&&null!=r.incognito||(r.incognito=!1),e.m_SkipMediaPlaylistKeys.has(n.key);let i=!1;if(Ie.has(t.result,"meta")&&null!=t.result.meta&&Ie.has(t.result.meta,"type")&&null!=t.result.meta.type&&(i=!0),i){if("hlsPlaylistTypeMaster"==t.result.meta.type){if(null!=t.result.media.playlists&&t.result.media.playlists.length>0){for(let i=0;i<t.result.media.playlists.length;i++){let s=t.result.media.playlists[i].url;t.result.media.playlists[i].key=oe.generateKey(s,n.key);let a=re.generateKey({tabId:r.id,url:s});e.m_SkipMediaPlaylistKeys.set(a,{})}let i=-1,s=-1;for(let e=0;e<t.result.media.playlists.length;e++){let n=t.result.media.playlists[e];null!=n&&Ie.has(n,"meta")&&null!=n.meta&&Ie.has(n.meta,"width")&&null!=n.meta.width&&Ie.has(n.meta,"resolutionRatio")&&null!=n.meta.resolutionRatio&&n.meta.resolutionRatio>1&&n.meta.width>i&&(i=n.meta.width,s=e)}-1!=s&&(t.result.media.playlists[s].meta.bestQuality=!0)}}else{if("hlsPlaylistTypeMedia"!=t.result.meta.type)return;t.result.key=oe.generateKey(t.result.url,n.key)}try{0!=Ie.has(t.result,"meta")&&null!=t.result.meta||(t.result.meta={}),t.result.meta.requestHeaders=n.requestHeaders,t.result.meta.responseHeaders=n.responseHeaders,0!=Ie.has(t.result,"media")&&null!=t.result.media||(t.result.media={});let i=new se({key:n.key,url:n.url,session:n.session,description:{title:r.title,webpage:r.url,incognito:r.incognito},promoteNA:!1,protocol:B.HLS,state:q,meta:t.result.meta,media:t.result.media});try{null!=e.m_VideoHandler&&e.m_VideoHandler.detected(i)}catch(e){}}catch(e){}}}}var Ae=n(15),Te=n(681);class Ve{constructor(){this.m_VideoHandler=br(),this.m_ManifestsQuery=[],this.processManifestsQueue(this)}get name(){return B.MPD}isEnabled(e){return null==e||0==Ae.has(e,B.MPD)||null==e[B.MPD]||"boolean"!=typeof e[B.MPD]||e[B.MPD]}canApply(e){try{if(null==e)throw"MpegDashProtocol::canApply() ->  no data where provided";if(0==Ae.has(e,"responseData"))throw"MpegDashProtocol::canApply() ->  HTTP response is not present";if(Ae.isEmpty(e.responseData))throw"MpegDashProtocol::canApply() ->  HTTP response is empty";if(0==Ae.has(e.responseData,"url"))throw"MpegDashProtocol::canApply() ->  url is missing";if(null==e.responseData.url||0==e.responseData.url.length)throw"MpegDashProtocol::canApply() ->  url is null or empty"}catch(e){return-1}let t=ke(e.responseData.responseHeaders),n=v.tryGettingHeader("content-type",t),r=1,i=["video/vnd.mpeg.dash.mpd","application/dash+xml","application/mpd"];if(null!=n){let t=n.toLowerCase();for(let e of i)if(-1!=t.indexOf(e)){r=0;break}t.includes("application/xml")&&e.responseData.url.toLowerCase().includes(".mpd")&&(r=0)}return r}promoteNAInstall(e,t,n){if(null!=e&&null!=t&&null!=n){t.key=re.generateKey({tabId:n.id,url:t.description.webpage}),t.promoteNA=!0,t.state=H;try{e.m_VideoHandler.detected(t)}catch(e){}}}storeUnconsentedVideo(e,t,n){if(null!=e&&null!=t&&null!=n){t.key=re.generateKey({tabId:n.id,url:t.description.webpage}),t.promoteNA=!1,t.unconsented=!0,t.state=H;try{e.m_VideoHandler.detected(t)}catch(e){}}}apply(e){this.m_ManifestsQuery.push(e)}async processManifestsQueue(e){for(var n=null;;)try{if(0==e.m_ManifestsQuery.length){await Ee()(250);continue}for(;void 0!==(n=e.m_ManifestsQuery.shift());){if(null==n){await Ee()(100);continue}try{if(0==Ae.has(n,"responseData"))throw"MpegDashProtocol::processManifestsQueue() ->  HTTP response is not present";if(Ae.isEmpty(n.responseData))throw"MpegDashProtocol::processManifestsQueue() ->  HTTP response is empty";if(0==Ae.has(n.responseData,"url"))throw"MpegDashProtocol::processManifestsQueue() ->  url is missing";if(null==n.responseData.url||0==n.responseData.url.length)throw"MpegDashProtocol::processManifestsQueue() ->  url is null or empty";if(0==Ae.has(n.responseData,"tabId"))throw"MpegDashProtocol::processManifestsQueue() ->  tabId is missing";if(null==n.responseData.tabId)throw"MpegDashProtocol::processManifestsQueue() ->  tabId is null";if(n.responseData.tabId<0)throw"MpegDashProtocol::processManifestsQueue() ->  tabless videos are not supported yet"}catch(e){continue}let r,i=ke(n.responseData.responseHeaders);Ae.has(n,"requestData")&&null!=n.requestData&&Ae.has(n.requestData,"requestHeaders")&&(r=ke(n.requestData.requestHeaders));let a=!1,o=null;try{o=await w.NAQueryVersion()}catch(e){}null!=o&&Ae.has(o,"id")&&Ae.has(o,"version")&&null!=o.id&&null!=o.version&&"query-version"==o.id.toLowerCase()&&o.version.length>0&&(a=!0);let l=null,c=null,u=null,h=null,p=N(),d=re.generateKey({tabId:n.responseData.tabId,url:n.responseData.url});c=new se({key:d,url:n.responseData.url,session:p,protocol:B.MPD,state:X,media:{videos:[],audios:[]}});try{l=await w.tabGetById(n.responseData.tabId),w.tabsHandleLastError(t.runtime.lastError)}catch(e){}if(null!=l&&(Ae.has(l,"url")&&(c.description.webpage=l.url),Ae.has(l,"title")&&(c.description.title=l.title),Ae.has(l,"incognito")&&(c.description.incognito=l.incognito)),0==a){e.promoteNAInstall(e,c,l);continue}if(t.$type==s){let t=!1,n=P();if(null==n||!0===n.getValue(Te.extension.privacy.allowDataSentToNA)&&(t=!0),0==t){e.storeUnconsentedVideo(e,c,l);continue}}try{e.m_VideoHandler.detected(c)}catch(e){}try{u=await w.sendNativeMessage({id:"mpd-fetch-and-parse-manifest",session:p,payload:{key:c.key,url:c.url,requestHeaders:r,responseHeaders:i}}),w.sendMessageHandleLastError(t.runtime.lastError)}catch(e){}try{if(null==u)throw"MpegDashProtocol::processManifestsQueue() ->  response object is null";if(0==Ae.has(u,"id"))throw"MpegDashProtocol::processManifestsQueue() ->  response object has no property 'id'";if("host-error"==u.id.toLowerCase()){if(Ae.has(u,"message")&&null!=u.message&&u.message.length>0)throw`MpegDashProtocol::processManifestsQueue() ->  NA returned error: ${u.message}`;throw'MpegDashProtocol::processManifestsQueue() ->  NA returned "host-error" response with no message'}if(0==Ae.has(u,"code"))throw"MpegDashProtocol::processManifestsQueue() ->  response object has no property 'code'";if(null==u.code)throw"MpegDashProtocol::processManifestsQueue() ->  property 'code' is null";if("mpd-fetch-and-parse-manifest"!=u.id)throw`MpegDashProtocol::processManifestsQueue() ->  unrecognized request ${u.id}, expected "mpd-fetch-and-parse-manifest"`;if(1!=u.code)throw`MpegDashProtocol::processManifestsQueue() ->  mpd-fetch-and-parse-manifest request returned code ${u.code}`;if(h=Ae.has(u,"result")?u.result:null,null==h)throw"MpegDashProtocol::processManifestsQueue() ->  property 'result' is null";if(0==Ae.has(h,"payload"))throw"MpegDashProtocol::processManifestsQueue() ->  result does not have property 'payload'";if(null==h.payload||Ae.isEmpty(h.payload)){c.state=ee;try{e.m_VideoHandler.detected(c)}catch(e){}continue}let t=null;if(Ae.has(h.payload,"programs")&&null!=h.payload.programs){if(0==h.payload.programs.length)throw"MpegDashProtocol::processManifestsQueue() -> manifest does not contain any programs";Ae.has(h.payload.programs[0],"streams")&&null!=h.payload.programs[0].streams&&(t=h.payload.programs[0].streams)}else if(Ae.has(h.payload,"streams")&&null!=h.payload.streams){if(0==h.payload.streams.length)throw"MpegDashProtocol::processManifestsQueue() -> payload streams array is empty";t=h.payload.streams}if(null==t)throw"MpegDashProtocol::processManifestsQueue() -> streams were not extracted from payload";for(let e of t)if(Ae.has(e,"codec_type")&&null!=e.codec_type){let t={index:null},n=!1,r=!1;if(!Ae.has(e,"index")||null==e.index)continue;switch(t.index=e.index,Ae.has(e,"codec_name")&&(t.codec_name=e.codec_name),Ae.has(e,"bit_rate")&&(t.bit_rate=e.bit_rate),e.codec_type.toLowerCase()){case"video":Ae.has(e,"width")&&(t.width=e.width,n=!0),Ae.has(e,"height")&&(t.height=e.height,r=!0),t.resolutionRatio=n&&r?t.width/t.height:0,c.media.videos.push(t);continue;case"audio":Ae.has(e,"sample_rate")&&(t.sample_rate=e.sample_rate),Ae.has(e,"channel_layout")&&(t.channel_layout=e.channel_layout),Ae.has(e,"channels")&&(t.channels=e.channels),c.media.audios.push(t);continue}}}catch(t){c.state=ee;try{e.m_VideoHandler.detected(c)}catch(e){}continue}0!=Ae.has(c,"meta")&&null!=c.meta||(c.meta={}),c.meta.resultLocalFile=Ae.get(h,"resultLocalFile"),c.meta.resultLocalFileSize=Ae.get(h,"resultLocalFileSize"),c.meta.requestHeaders=r,c.meta.responseHeaders=i;let f=-1,m=0;c.media.videos.forEach((e=>{e.resolutionRatio>1&&Ae.has(e,"width")&&null!=e.width&&e.width>m&&(m=e.width,f=e.index)})),-1!=f?c.media.videos.forEach(((e,t,n)=>{e.index==f&&(n[t].bestQuality=!0)})):(m=0,f=-1,c.media.videos.forEach((e=>{Ae.has(e,"height")&&null!=e.height&&e.height>m&&(m=e.height,f=e.index)})),-1!=f&&c.media.videos.forEach(((e,t,n)=>{e.index==f&&(n[t].bestQuality=!0)}))),c.state=q;try{e.m_VideoHandler.detected(c)}catch(e){}}}catch(e){}}}var De=n(15),Re=n(447),Ne=n(681);class Le{constructor(){this.m_VideoHandler=br()}get name(){return B.Vimeo}isEnabled(e){return null==e||0==De.has(e,B.Vimeo)||null==e[B.Vimeo]||"boolean"!=typeof e[B.Vimeo]||e[B.Vimeo]}canApply(e){try{if(null==e)throw"VimeoProtocol::canApply() -> no data where provided";if(0==De.has(e,"responseData"))throw"VimeoProtocol::canApply() -> HTTP response is not present";if(De.isEmpty(e.responseData))throw"VimeoProtocol::canApply() -> HTTP response is empty";if(0==De.has(e.responseData,"url"))throw"VimeoProtocol::canApply() -> url is missing";if(null==e.responseData.url||0==e.responseData.url.length)throw"VimeoProtocol::canApply() -> url is null or empty"}catch(e){return-1}var t=ke(e.responseData.responseHeaders),n=null,r=1;return 1==v.headerExists("content-type",t)&&(n=v.tryGettingHeader("content-type",t)),null!=n&&"application/json"===n.toLowerCase()&&-1!=e.responseData.url.toLowerCase().indexOf("/master.json")&&(r=0),r}apply(e){try{if(null==e)throw"VimeoProtocol::apply() -> no data where provided";if(0==De.has(e,"responseData"))throw"VimeoProtocol::apply() -> HTTP response is not present";if(De.isEmpty(e.responseData))throw"VimeoProtocol::apply() -> HTTP response is empty";if(0==De.has(e.responseData,"url"))throw"VimeoProtocol::apply() -> url is missing";if(null==e.responseData.url||0==e.responseData.url.length)throw"VimeoProtocol::apply() -> url is null or empty";if(0==De.has(e.responseData,"tabId"))throw"VimeoProtocol::apply() -> tabId is missing";if(null==e.responseData.tabId)throw"VimeoProtocol::apply() -> tabId is null";if(e.responseData.tabId<0)throw"VimeoProtocol::apply() -> tabless videos are not supported yet"}catch(e){return}var n=ke(e.requestData.requestHeaders),r=ke(e.responseData.responseHeaders),i=this;Re((function*(){let a=null,o=null,l=null,c=null,u=!1,h=null;try{a=yield w.tabGetById(e.responseData.tabId),w.tabsHandleLastError(t.runtime.lastError)}catch(e){}try{h=yield w.NAQueryVersion()}catch(e){}if(null!=h&&De.has(h,"id")&&De.has(h,"version")&&null!=h.id&&null!=h.version&&"query-version"==h.id.toLowerCase()&&h.version.length>0&&(u=!0),0==u)return void i.promoteNAInstall({url:e.responseData.url,session:N()},a);if(t.$type==s){let t=!1,n=P();if(null==n||!0===n.getValue(Ne.extension.privacy.allowDataSentToNA)&&(t=!0),0==t)return void i.storeUnconsentedVideo({url:e.responseData.url,session:N()},a)}c={key:re.generateKey({tabId:e.responseData.tabId,url:e.responseData.url}),url:e.responseData.url,session:N(),cookies:null,requestHeaders:n,responseHeaders:r};try{c.cookies=yield w.cookiesGetAll({url:e.responseData.url})}catch(e){}if((null==c.cookies||0==c.cookies.length)&&null!=a&&De.has(a,"url")&&null!=a.url)try{c.cookies=yield w.cookiesGetAll({url:a.url})}catch(e){}try{l=yield w.sendNativeMessage({id:"detector-vimeo-parse-manifest",manifest:c}),w.sendMessageHandleLastError(t.runtime.lastError)}catch(e){}try{if(null==l)throw"VimeoProtocol::apply() -> response object is null";if(0==De.has(l,"id"))throw"VimeoProtocol::apply() -> response object has no field 'id'";if(0==De.has(l,"code"))throw"VimeoProtocol::apply() -> response object has no field 'code'";if(null==l.code)throw"VimeoProtocol::apply() -> field 'code' is null";if("host-error"==l.id.toLowerCase())throw De.has(l,"message")&&null!=l.message&&l.message.length>0?`VimeoProtocol::apply() -> NA returned error: ${l.message}`:'VimeoProtocol::apply() -> NA returned "host-error" response with no message';if("detector-vimeo-parse-manifest"!=l.id)throw`VimeoProtocol::apply() -> unrecognized request "${l.id}", expected "detector-vimeo-parse-manifest"`;if(1!=l.code)throw`VimeoProtocol::apply() -> detector-vimeo-parse-manifest request returned code ${l.code}`;if(o=1==De.has(l,"result")?l.result:null,null==o)throw"VimeoProtocol::apply() -> NA returned result is null"}catch(e){return}let p=De.has(o,"media")&&null!=o.media&&De.has(o.media,"videos")&&null!=o.media.videos&&o.media.videos.length>0;if(p){let e=0,t=0;for(let e=0;e<o.media.videos.length;e++)if(De.has(o.media.videos[e],"idx")&&delete o.media.videos[e].idx,De.has(o.media.videos[e],"id")&&null!=o.media.videos[e].id)o.media.videos[e].key=oe.generateKey(o.media.videos[e].id,c.key);else if(De.has(o.media.videos[e],"width")&&De.has(o.media.videos[e],"height")){let t=null!=o.media.videos[e].width?o.media.videos[e].width:-1,n=null!=o.media.videos[e].height?o.media.videos[e].height:-1;o.media.videos[e].key=oe.generateKey(`${t*n}+${e}`,c.key)}else o.media.videos[e].key=oe.generateKey(v.generateUUID(),c.key);for(let n=0;n<o.media.videos.length;n++)try{e=Number(o.media.videos[n].meta.width),t=Number(o.media.videos[n].meta.height),e>0&&t>0&&(o.media.videos[n].meta.resolutionRatio=Number(e/t))}catch(e){}let n=-1,r=-1;for(let t=0;t<o.media.videos.length;t++)try{e=Number(o.media.videos[t].meta.width),e>0&&De.has(o.media.videos[t].meta,"resolutionRatio")&&null!=o.media.videos[t].meta.resolutionRatio&&o.media.videos[t].meta.resolutionRatio>1&&e>r&&(r=e,n=t)}catch(e){}-1!=n&&(o.media.videos[n].meta.bestQuality=!0);for(let e=0;e<o.media.videos.length;e++)o.media.videos[e]}if(p=De.has(o,"media")&&null!=o.media&&De.has(o.media,"audios")&&null!=o.media.audios&&o.media.audios.length>0,p){for(let e=0;e<o.media.audios.length;e++)De.has(o.media.audios[e],"idx")&&delete o.media.audios[e].idx,De.has(o.media.audios[e],"id")&&null!=o.media.audios[e].id?o.media.audios[e].key=oe.generateKey(o.media.audios[e].id,c.key):o.media.audios[e].key=oe.generateKey(v.generateUUID(),c.key);for(let e=0;e<o.media.audios.length;e++)o.media.audios[e]}try{let e=new se({key:c.key,url:c.url,session:c.session,description:{title:a.title,webpage:a.url,incognito:a.incognito},promoteNA:!1,protocol:B.Vimeo,state:q,meta:De.has(l.result,"meta")?l.result.meta:null,media:De.has(l.result,"media")?l.result.media:null});try{i.m_VideoHandler.detected(e)}catch(e){}}catch(e){}}))}promoteNAInstall(e,t){try{let n=new se({key:re.generateKey({tabId:t.id,url:t.url}),url:e.url,session:e.session,promoteNA:!0,protocol:B.Vimeo,description:{title:t.title,webpage:t.url,incognito:t.incognito}});try{this.m_VideoHandler.detected(n)}catch(e){}}catch(e){}}storeUnconsentedVideo(e,t){try{let n=new se({key:re.generateKey({tabId:t.id,url:t.url}),url:e.url,session:e.session,unconsented:!0,promoteNA:!1,protocol:B.Vimeo,description:{title:t.title,webpage:t.url,incognito:t.incognito}});try{this.m_VideoHandler.detected(n)}catch(e){}}catch(e){}}}var Me=n(15);class Oe{constructor(e){if(this.m_IsDebugMode=e,this.m_ElevateMap=[{name:"elevate-vivo.sx",urls:["vivo.sx/"],check:function(e){return 1==new RegExp("\\/\\d+$","i").test(e.url_lc)}},{name:"elevate-dizirun.com",referers:["player.stream4mafia.com/"],check:function(e){try{if(-1==e.url_lc.indexOf("googleapis.com/drive/"))return!1;let t=v.tryGettingHeader("content-type",e.responseHeaders);if(v.tryGettingHeader("content-length",e.responseHeaders)>=0&&("text/plain"==t.toLowerCase()||"application/octet-stream"==t.toLowerCase()))return!0}catch(e){}return!1}},{name:"elevate-celebjihad.com",urls:["celebjihad.com/"],check:function(e){return 1==e.url_lc.endsWith(".gif")}}],this.m_IsDebugMode){let e=0,t=0,n=0,r=0;for(let i of this.m_ElevateMap){let s=0,a=0;if(Me.has(i,"urls")&&null!=i.urls||Me.has(i,"referers")&&null!=i.referers){let o="...'"+i.name+"'";if(Me.has(i,"urls")&&null!=i.urls){s=0,a=0;for(let e of i.urls)"string"==typeof e&&s++,"object"==typeof e&&a++;e+=s,t+=a}if(o+=`, urls: ${s}, url regexps: ${a}`,Me.has(i,"referers")&&null!=i.referers){s=0,a=0;for(let e of i.referers)"string"==typeof e&&s++,"object"==typeof e&&a++;n+=s,r+=a}o+=`, referers: ${s}, referer regexps: ${a}`}}}}internalCrackUri(e){let t=e.url.match(this.m_UrlRegExp);return null!=t&&(e.$protocol=t[1],e.$host=t[2],e.$path=t[3]),e}isVideo(e){let t=!1,n=Me.has(e,"referer_lc")&&null!=e.referer_lc&&e.referer_lc.length>0,r=!1;e.$context=this;for(let i of this.m_ElevateMap){if(Me.has(i,"urls")&&null!=i.urls)for(let n of i.urls){if("string"==typeof n&&-1!=e.url_lc.indexOf(n)){t=!0;break}if("object"==typeof n&&n.test(e.url_lc)){t=!0;break}}if(n&&Me.has(i,"referers")&&null!=i.referers)for(let t of i.referers){if("string"==typeof t&&-1!=e.referer_lc.indexOf(t)){r=!0;break}if("object"==typeof t&&t.test(e.referer_lc)){r=!0;break}}}if(1==t)for(let t of this.m_ElevateMap)if(0!=Me.has(t,"urls")&&null!=t.urls)for(let n of t.urls)if("string"==typeof n){if(-1!=e.url_lc.indexOf(n))return t.check(e)}else if("object"==typeof n)try{if(1==n.test(e.url_lc))return t.check(e)}catch(e){}if(1==r)for(let t of this.m_ElevateMap)if(0!=Me.has(t,"referers")&&null!=t.referers)for(let n of t.referers)if("string"==typeof n){if(-1!=e.referer_lc.indexOf(n))return t.check(e)}else if("object"==typeof n)try{if(1==n.test(e.referer))return t.check(e)}catch(e){}let i=!1;for(let t of this.m_ElevateMap)if(Me.has(t,"urls")&&null!=t.urls&&1==t.urls.length&&"*"==t.urls[0])return 0==i&&(e=this.internalCrackUri(e),i=!0),t.check(e);return!1}}var Be=n(15);class Fe{constructor(e){if(this.m_IsDebugMode=e,this.m_TransformMap=[{name:"transform-vk-1",urls:["mycdn.me/?"],check:function(e){return v.includesAllSubstrings(e.url_lc,["expires","bytes","type","id"])?{requiresTranformation:!0,rule:this}:{requiresTranformation:!1,rule:null}},transform:function(e){e.url;let t=e;return t.url=e.url.replace(new RegExp("\\&bytes\\=\\d+\\-\\d+","i"),""),t.url_lc=t.url.toLowerCase(),t.responseHeaders&&v.headerExists("content-length",t.responseHeaders)&&(t.responseHeaders=v.headerDrop("content-length",t.responseHeaders)),t}}],this.m_IsDebugMode){let e=0,t=0,n=0,r=0;for(let i of this.m_TransformMap){let s=0,a=0;if(Be.has(i,"urls")&&null!=i.urls||Be.has(i,"referers")&&null!=i.referers){let o="...'"+i.name+"'";if(Be.has(i,"urls")&&null!=i.urls){s=0,a=0;for(let e of i.urls)"string"==typeof e&&s++,"object"==typeof e&&a++;e+=s,t+=a}if(o+=`, urls: ${s}, url regexps: ${a}`,Be.has(i,"referers")&&null!=i.referers){s=0,a=0;for(let e of i.referers)"string"==typeof e&&s++,"object"==typeof e&&a++;n+=s,r+=a}o+=`, referers: ${s}, referer regexps: ${a}`}}}}internalCrackUri(e){let t=e.url.match(this.m_UrlRegExp);return null!=t&&(e.$protocol=t[1],e.$host=t[2],e.$path=t[3]),e}doesRequireTranformation(e){let t=!1,n=Be.has(e,"referer_lc")&&null!=e.referer_lc&&e.referer_lc.length>0,r=!1;e.$context=this;for(let i of this.m_TransformMap){if(Be.has(i,"urls")&&null!=i.urls)for(let n of i.urls){if("string"==typeof n&&-1!=e.url_lc.indexOf(n)){t=!0;break}if("object"==typeof n&&n.test(e.url_lc)){t=!0;break}}if(n&&Be.has(i,"referers")&&null!=i.referers)for(let t of i.referers){if("string"==typeof t&&-1!=e.referer_lc.indexOf(t)){r=!0;break}if("object"==typeof t&&t.test(e.referer_lc)){r=!0;break}}}if(1==t)for(let t of this.m_TransformMap)if(0!=Be.has(t,"urls")&&null!=t.urls)for(let n of t.urls)if("string"==typeof n){if(-1!=e.url_lc.indexOf(n))return t.check(e)}else if("object"==typeof n)try{if(1==n.test(e.url_lc))return t.check(e)}catch(e){}if(1==r)for(let t of this.m_TransformMap)if(0!=Be.has(t,"referers")&&null!=t.referers)for(let n of t.referers)if(null!=n)if("string"==typeof n){if(-1!=e.referer_lc.indexOf(n))return t.check(e)}else if("object"==typeof n&&"function"==typeof n.test)try{if(1==n.test(e.referer))return t.check(e)}catch(e){}let i=!1;for(let t of this.m_TransformMap)if(Be.has(t,"urls")&&null!=t.urls&&1==t.urls.length&&"*"==t.urls[0])return 0==i&&(e=this.internalCrackUri(e),i=!0),t.check(e);return{isVideo:!1}}}var Ue=n(15);class je{constructor(e){if(this.m_IsDebugMode=e,this.m_UrlRegExp=new RegExp("(\\w+):\\/\\/([\\w@][\\w.:\\-@]+)(\\/?[\\w\\.?=%&=\\-@/$,]*)"),this.m_SegmentNameTemplates=[new RegExp("(ainit|vinit)\\.(mp4)\\??","i"),new RegExp("\\/(init|fragment)+[\\w\\-]+\\.(mp4|m4s)\\??","i"),new RegExp("(vseg|aseg)\\-\\d+\\.m4s\\??","i"),new RegExp("Seg\\d+\\-Frag\\d+\\??","i"),new RegExp("\\/seg[-\\d+\\w+]+\\.ts\\??","i"),new RegExp("seg\\-\\d+\\-\\w+\\-\\w+\\.ts\\??","i"),new RegExp("\\/seg[\\w\\-_]+\\.ts\\??","i"),new RegExp("\\.mp4\\/seg[\\w\\-_]+\\.ts\\??","i"),new RegExp("\\/seg[\\w\\-]+\\.jpg","i"),new RegExp("\\/stream_?\\d+\\-seg_?\\d+\\.ts\\??","i"),new RegExp("\\/[\\w\\-_]+_seg_\\d+_\\w+\\??","i"),new RegExp("\\/[\\w_]+_segmented_\\d+.ts\\??","i"),new RegExp("esplq\\.stream\\-\\d+\\.m4v\\??","i"),new RegExp("esplq\\.stream\\-init\\.m4v\\??","i"),new RegExp("\\/hls\\-[\\w\\-_]+\\.ts\\??","i"),new RegExp("segment\\-\\d+\\.(?:m4s|mp4)\\??","i"),new RegExp("fragment\\-[\\w\\-]+\\.m4s\\??","i"),new RegExp("\\/chunk_ct\\w+_rid[\\w_]+_mpd\\.m4s\\??","i"),new RegExp("\\/p[\\w_\\-]+\\.m4s\\??","i"),new RegExp("\\/media[\\w\\-_=]+\\.ts\\??","i"),new RegExp("\\/part[\\d]+\\.ts\\??","i"),new RegExp("\\/Frag\\-\\w+\\-\\w+\\-\\w+\\.ts","i"),new RegExp("index[\\d]+\\.ts\\??","i"),new RegExp("(?:\\-audio[=_])[\\w\\-_=]+(?:\\-video[=_])[\\w\\-_=]+\\.ts\\??","i"),new RegExp("https?:\\/\\/(?:[\\w\\.]+)\\/(?:[\\w\\-\\/#\\?]+)\\.ts\\??","i"),new RegExp("\\/[\\d]+\\w\\d+\\.ts\\??","i"),new RegExp("\\/[\\w\\.]+\\.ts","i"),new RegExp("cdn\\d+\\.\\w+\\.online\\/[\\/\\w\\_\\%\\(\\)\\[\\]]+\\.mp4\\??","i"),new RegExp("\\/\\d+\\/dash\\/\\w+\\.mp4","i"),new RegExp("/POW_[\\w\\d_\\-]+=\\d+\\-\\d+\\.dash","i"),new RegExp("[\\w\\-]+(?:audio|video)[\\=\\d\\-+]+\\.dash\\??","i"),new RegExp("\\/hls[/-_][\\w\\-=_]+\\.ts\\??","i"),new RegExp("\\/hls[/-_\\w]+\\.ts\\??","i"),new RegExp("\\/[\\d\\.\\-_]+\\.ts\\??","i"),new RegExp("\\/[\\w\\-_]+\\.ts","i"),new RegExp("\\/[\\w\\-]+\\/[\\w\\-_]+\\.ts\\?","i"),new RegExp("_\\w+\\.mp4\\.ts\\??","i"),new RegExp("\\/DASH\\/Live_\\w+\\.mp4\\??","i"),new RegExp("\\.mp4\\/chunk_(?:ctvideo|ctaudio)[\\w_\\-]+_(?:cinit|cs[\\w]+)_mpd\\.m4s\\??","i"),new RegExp("(?:video\\/)?\\d+\\.key\\??","i")],this.m_DowngradeMap=[{name:"drop-streaming-protocols-segments-generic",urls:["*"],check:function(e){let t=null;if(-1!=e.url_lc.indexOf("/fragments")&&-1!=e.url_lc.indexOf("format=")&&(t=new RegExp("\\.mpd\\??","i"),1!=t.test(e.url_lc)))return 1;try{for(t of e.$context.m_SegmentNameTemplates)if(1==t.test(e.url_lc))return 1}catch(e){}return 0}},{name:"drop-ads-and-banners-generic",urls:["/banner/","/banners/","/ads/","/advertiser/","db.bngpt.com/stream_","webseed.hdv.fun/","strm.yandex.ru/ping","socketio.d3.ru/socket.io/?","i.clean.gg/","mpsnare.iesnare.com/time.mp3?","playtube.ws/srt/empty.srt","skynews.com.au/proxy/event/start?","streamtape.com/get_video?","analytics.tiktok.com/api/v2/pixel","xvideos-cdn.com/v3/img/skins/common/blank.mp4",new RegExp("[\\w\\-\\.]+\\.gstatic\\.com\\/video\\?q\\=","i"),new RegExp("cdn\\.jmrnews\\.pro\\/\\w+\\/[\\w\\-_]+\\.mp4\\??","i"),new RegExp("[\\w\\.\\-]+\\.cdn13\\.com\\/\\w+\\.mp4\\??","i"),new RegExp("rivertraffic\\.com\\/\\w+\\.mp4\\??","i"),new RegExp("\\/[\\w\\._\\-]+\\/key$","i"),"adocean.pl/files/","https://static.c-span.org/assets/cache/liveEvents/liveEvents.txt","https://hqq.tv/video.mp4","https://hqq.to/video.mp4","/pre.xml?","dongphym.net/blank.mp4","static.voocdn.com/videojs7/plugins/vpaid/VPAIDFlash.swf","encrypt.key?","/hls/key.key","/message.mp3","chatango.com/pcache/sounds/message_received.mp3?","zdassets.com/web_widget/static/chat-incoming-message-notification.mp3","disqus.com/embed/comments/?base=","service.expressplay.com/hms/wv/rights/?ExpressPlayToken=",new RegExp("\\/favicon.ico\\??","i"),"support.ant.com/assets/sounds/",new RegExp("\\-images\\.alicdn\\.com\\/[\\w\\/\\-]+\\.svg\\w\\??"),new RegExp("bing\\.com\\/vs\\/ec\\/(?:start|stop)\\.mp\\w\\??","i"),"/manifest.webmanifest"],referers:["/banner/","/banners/","/ads/","/advertiser/"],check:function(e){return 1}},{name:"drop-generic-bells",urls:["imgsmail.ru/","ssl.gstatic.com/chat/sounds/","csi.gstatic.com/csi?","liqpay.ua/static/media/","tawk.to/","cdn.livechatinc.com/widget/static/media/new_message.","cdn.helpdeskeddy.com/js/modules/chat_widget/media/","vidazoo.com/","socialbars-web5.com/sb/notifications/","cdn.cloudfrale.com/managed/","dsp-media.eskimi.com/upload/","cdn.adhigh.net/media/","xvideos-cdn.com/v3/img/skins/common/blank.mp4","vcdn.tsyndicate.com/images/","media.adstatic.com/media/","i.bngprl.com/pre_roll/","player.vimeo.com/external/",new RegExp("[\\w\\-\\.]+\\.trafficjunky\\.net\\/","i"),"bcicdn.com/images/chat/video/video.mp4"],check:function(e){let t=[".mp3",".ogg",".mp4"];for(let n of t)if(e.url_lc.endsWith(n))return 1;return-1!=e.url_lc.indexOf("tawk.to/s/?k=")||-1!=e.url_lc.indexOf("vidazoo.com/")&&new RegExp("\\/[\\w]+\\.mp4\\??","i").test(e.url_lc)||-1!=e.url_lc.indexOf("player.vimeo.com/external/")&&-1!=e.url_lc.indexOf(".hd.mp4?")?1:0}},{name:"drop-google-youtube",urls:["googlevideo.com/videogoodput?","youtube.com/api/stats/atr?","youtube.com/api/stats/watchtime?","youtube.com/api/stats/qoe?","youtube.com/api/stats/playback?",new RegExp("google\\-analytics\\.com\\/\\w+\\/collect\\??","i"),new RegExp("youtube\\.com\\/\\w\\/search\\/audio\\/\\w+\\.mp3\\??","i")],check:function(e){return 1}},{name:"drop-youtube-segments",urls:["googlevideo.com/videoplayback?"],check:function(e){return!0===(e.url_lc.includes("expire=")&&e.url_lc.includes("id=")&&e.url_lc.includes("itag=")&&e.url_lc.includes("source=youtube"))?1:0}},{name:"drop-google-2",urls:["google.com/","googleapis.com/","ssl.gstatic.com/"],check:function(e){let t=new RegExp("\\w+.google.com\\/[\\w\\-_\\@\\/]+(?:account|permissions|viewerimpressions)\\?","i");return t.test(e.url_lc)?1:(t=new RegExp("googleapis\\.com\\/drive\\/v\\d+\\/files\\/","i"),t.test(e.url_lc)?e.referer_lc.includes("domdom.stream/")&&Ue.has(e,"responseHeaders")&&Ue.has(e.responseHeaders,"content-type")&&null!=e.responseHeaders["content-type"]&&e.responseHeaders["content-type"].includes("video/")?0:1:(t=new RegExp("ssl\\.gstatic\\.com\\/[\\w_\\/]+\\.(?:bin|mp3|ogg|mp4)\\??","i"),t.test(e.url_lc)?1:(t=new RegExp("\\w+\\.google\\.com\\/drive\\/v\\d+internal\\/files\\?\\w+\\=","i"),t.test(e.url_lc)?1:0)))}},{name:"drop-otg-vod-services",urls:["nflxvideo.net/range/","vcdn.biz/"],check:function(e){return e.url_lc.indexOf("_megogo/live/hls/")&&(e.url_lc.endsWith(".ts")||-1!=e.url_lc.indexOf(".ts?"))||-1!=e.url_lc.indexOf("nflxvideo.net/range/")?1:0}},{name:"drop-vimeo-segments",urls:["akamaihd.net/","akamaized.net/","slike.s.llnwi.net/","dlvr1.net/","drm.vimeocdn.com/"],check:function(e){let t=Ue.has(e,"referer_lc")&&null!=e.referer_lc&&e.referer_lc.length>0,n=[new RegExp("\\.(?:m4a|m4v|m4s|mp4|m4f)\\??","i"),new RegExp("\\/med[\\d_\\-]+med\\.mp3\\??","i"),new RegExp("\\/[\\w\\-_=]+\\=\\d+(?:\\-\\d+)?\\.dash","i"),new RegExp("\\/[\\w\\-_]+\\.mp4\\??","i"),new RegExp("\\/[\\w\\d_\\-]+\\.ts\\??","i"),new RegExp("\\/[a-zA-Z\\d\\-]+\\/parcel\\/audio\\/\\w+\\.mp4\\??","i"),new RegExp("\\/[\\w\\-]+\\.m4\\w\\?assetid=","i")];if(t){let t=["alphatv.gr/","linkedin.com/","igor.cx/","kettlebellsworkouts.com/"];if(v.includesAnySubstring(e.referer_lc,t))return 0;if(e.referer_lc.includes("vimeo.com/")){for(let t of n)if(null!=t&&t.test(e.url_lc))return 1;if(0==(e.referer_lc.includes("player.vimeo.com")&&e.referer_lc.includes("?wmode=opaque")))return 0}}if(-1!=e.url_lc.indexOf("akamaized.net/")&&-1!=e.url_lc.indexOf("/PreviewThumbnail.vtt?"))return 1;for(let t of n)if(null!=t&&t.test(e.url_lc))return 1;return 0}},{name:"drop-ad-hosts-1",urls:["admixer.net/test","ad.auditude.com/","trafficfactory.biz/banners/","h-cdn.com/preview.mp4?customer=","trafficjunky.net/uploaded_content","cdn.pljs.ru/b","ftv-publicite.fr/media/","youboranqs01.com/adStart?"],check:function(e){return 1}},{name:"drop-ad-hosts-2",urls:["dmcdn.net/"],check:function(e){return-1!=e.url_lc.indexOf("/mc/")?1:0}},{name:"drop-fbcdn.net",urls:["fbcdn.net/","fcdn.net/"],check:function(e){return 1==new RegExp("[\\w_]+\\.mp4\\??","i").test(e.url_lc)?e.url_lc.startsWith("https://instagram.")?0:1:0}},{name:"drop-xvideos",urls:["xvideos-cdn.com/","static.realsrv.com/","video.xxxjmp.com/models/"],check:function(e){let t=e.url_lc.includes("/videopreview/"),n=e.url_lc.endsWith(".mp4")||e.url_lc.includes(".mp4?");return t&&n?1:(t=e.url_lc.includes("videos/hls"),n=e.url_lc.endsWith(".ts")||e.url_lc.includes(".ts?"),t&&n?1:(t=e.url_lc.includes("static.realsrv.com/library/"),n=e.url_lc.endsWith(".mp4")||e.url_lc.includes(".mp4?"),t&&n||e.url_lc.endsWith(".mustache")?1:(t=e.url_lc.includes("video.xxxjmp.com/models/"),n=e.url_lc.endsWith("-nsfw.mp4")||e.url_lc.includes("-nsfw.mp4?"),t&&n?1:void 0)))}},{name:"drop-redtube-previews",urls:["rdtcdn.com/media/videos/","rdtcdn.com/videos/"],check:function(e){if(e.url_lc.includes("/webmFlipbook_")&&e.url_lc.endsWith(".webm"))return 1;if(e.url_lc.includes("_fb.mp4?")||e.url_lc.includes("_fb.webm?"))return 1;let t=Number(v.tryGettingHeader("content-length",e.responseHeaders));return(1==e.url_lc.endsWith(".mp4")||1==e.url_lc.endsWith(".webm"))&&t<v.megabytes(1)||new RegExp("\\/[\\w_\\-\\%]+\\.(?:webm|mp4)$","i").test(e.url_lc)?1:0}},{name:"drop-runetki",urls:["bcrncdn.com/hls/","bcrncdn.com/images/","i.bimbolive.com/"],check:function(e){return 1==e.url_lc.endsWith(".ts")||1==e.url_lc.indexOf(".ts?")||1==e.url_lc.endsWith("/chat/video/video.mp4")?1:0}},{name:"drop-camwhorestv",urls:["camwhores.tv/",new RegExp("static.cfgr\\d+.com\\/anim\\/assets","i")],check:function(e){return 1==e.url_lc.endsWith("video.webm")||1==e.url_lc.indexOf("video.webm?")||-1!=v.tryGettingHeader("content-type",e.responseHeaders).toLowerCase().indexOf("video/mp4")?1:0}},{name:"drop-camwhorestv-2",urls:[new RegExp("s\\d+widgets\\.skyprivate\\.com","i"),"cloudinary.payperminute.live/skpvideos/video/upload/","gateway.freecams.com/dotcms/"],check:function(e){return 1==e.url_lc.endsWith(".webm")||1==e.url_lc.indexOf(".webm?")||1==e.url_lc.endsWith(".mp4")||1==e.url_lc.indexOf(".mp4?")?1:0}},{name:"drop-tube8",urls:["contentabc.com/","t8cdn.com/",new RegExp("cdn\\d+\\.adtng\\.com\\/\\w+\\/creatives\\/","i")],check:function(e){let t=[new RegExp("\\/[\\d_\\-]+(?:video_with_sound|_video)\\.(?:mp4|webm)\\??","i"),new RegExp("\\/webm_[\\d]+\\.webm\\?","i")];for(let n of t)if(1==n.test(e.url_lc))return 1;return 0}},{name:"drop-pornhub",urls:["phncdn.com/","adtng.com/"],check:function(e){let t=new RegExp("[\\w_]+\\.mp4\\??","i"),n=[];if(-1!=e.url_lc.indexOf("/pre_videos")&&1==t.test(e.url_lc))return 1;for(t of(n.push(new RegExp("[\\d\\w_]+\\.webm\\?","i")),n.push(new RegExp("\\/[\\w\\-_]+\\.ts\\??","i")),n))if(1==t.test(e.url_lc))return 1;return t=new RegExp("\\/\\/[\\w\\-]+\\.adtng\\.com\\/","i"),t.test(e.url_lc)&&(t=new RegExp("\\/\\d+_video\\.mp4$","i"),t.test(e.url_lc))?1:0}},{name:"drop-youporn",urls:["ypncdn.com/","tsyndicate.com/videos/","ang-content.com/"],check:function(e){let t=[new RegExp("[\\d\\w_]+\\.webm\\??","i"),new RegExp("[\\d\\w_]+\\.quicktime\\??","i"),new RegExp("\\/[\\w_]+\\/[\\w\\-_\\%]+_fb.mp4\\??","i"),new RegExp("\\d+x\\d+\\.mp4\\??","i"),new RegExp("\\/[\\d_\\-]+(?:video_with_sound|_video)\\.(?:mp4|webm)\\??","i"),new RegExp("\\/video\\.mp4","i")];for(let n of t)if(1==n.test(e.url_lc))return 1;return 0}},{name:"drop-xhamster-1",urls:["ahcdn.com/","ahacdn.me/","pix-cdn.org/","xhcdn.com/"],check:function(e){let t=null;if(-1!=e.url_lc.indexOf("//thumb")&&(t=new RegExp("/\\d+x\\d+\\.?\\w?\\.\\w+","i"),1==t.test(e.url_lc)))return 1;if(-1!=e.url_lc.indexOf("media=hls")&&(t=new RegExp("\\/[\\w]+\\.[\\w]+\\.mp4\\??","i"),1==t.test(e.url_lc)))return 1;if(t=new RegExp("\\/[\\d]+_tr\\.mp4\\??","i"),1==t.test(e.url_lc))return 1;if(Ue.has(e,"referer_lc")&&null!=e.referer_lc&&e.referer_lc.length>0){let t=["txxx.com/","txxx.com/videos/","txxx.com/embed/","txxx.tube/","xtits.com/","hclips.com/","hclips.com/videos/","hdzog.com/","hdzog.com/videos/","tubepornclassic.com/","tubepornclassic.com/videos/","hotmovs.com/","hotmovs.com/videos/","vjav.com/","vjav.com/videos/","upornia.com/","thegay.tube/","thegay.com/","privatehomeclips.com/"];for(let n of t)if(-1!=e.referer_lc.indexOf(n))return e.url_lc.endsWith(".mp4")||-1!=e.url_lc.indexOf(".mp4?")?0:1}t=[new RegExp("\\/[\\w]+\\.mp4\\??","i"),new RegExp("\\/\\d+x\\d+(?:\\.t)?\\.mp4\\??","i")];for(let n of t)if(1==n.test(e.url_lc))return 1;return 0}},{name:"drop-xhamster-2",referers:["xhamster.com"],check:function(e){return 1==new RegExp("\\w+\\.\\w+\\.mp4","i").test(e.url_lc)?1:0}},{name:"drop-xnxx",urls:["xnxx-cdn.com/"],check:function(e){return e.url_lc.endsWith("/common/blank.mp4")||e.url_lc.endsWith(".mustache")||e.url_lc.includes("/videos")&&e.url_lc.includes("/videopreview")&&(e.url_lc.endsWith(".mp4")||e.url_lc.includes(".mp4?"))?1:0}},{name:"drop-porn-previews",urls:["pornflip.com/","pornoeggs.com/","static-clst.avgle.com/videos/","crazycloud.ru/videos/","daxab.com/videos/"],check:function(e){let t=e.url_lc.includes("/preview.mp4")||e.url_lc.includes("/preview.webm");return-1!=e.url_lc.indexOf("thumbs/")&&t||t?1:0}},{name:"drop-avgle.com",urls:["gcdn.co/","trwl1.com/"],check:function(e){return-1!=e.url_lc.indexOf("gcdn.co/promo_web/")||new RegExp("trwl1.com/\\w+?/rtb_heartbeat/v\\d+?\\??","i").test(e.url_lc)?1:0}},{name:"drop-spanvideo.org",urls:["spanvideo.org/","c-spanvideo.org/"],check:function(e){return 1==new RegExp("\\/[\\w\\.\\-_]+\\.ts\\??","i").test(e.url_lc)?1:0}},{name:"drop-7mmtv.tv",urls:["7mmtv.tv/censored/"],check:function(e){return 1==new RegExp("\\/[\\d]+_[A-Z]+\\-[\\d]+\\.mp4\\??","i").test(e.url_lc)?1:0}},{name:"drop-extremereach.io",urls:["extremereach.io/media"],check:function(e){return 1==new RegExp("([0-9A-Fa-f]{8}[-][0-9A-Fa-f]{4}[-][0-9A-Fa-f]{4}[-][0-9A-Fa-f]{4}[-][0-9A-Fa-f]{12})\\.mp4","i").test(e.url_lc)?1:0}},{name:"drop-taboola.com",urls:["vidstatb.taboola.com/vid/"],check:function(e){return e.url_lc.endsWith(".mp4")||-1!=e.url_lc.indexOf(".mp4?")?1:0}},{name:"drop-segments-olympus.gghfok.com",urls:["olympus.gghfok.com/tsfiles/"],check:function(e){return 1==new RegExp("[\\d\\-_]+\\.ts\\??","i").test(e.url_lc)?1:0}},{name:"drop-mp4-segments-misc",urls:["v.ankunding.biz/","static.exosrv.com","statserv.net/vid/"],check:function(e){let t=[new RegExp("\\/[\\w_]+\\.mp4\\??","i"),new RegExp("[\\d\\w_]+\\.mp4","i")];for(let n of t)if(1==n.test(e.url_lc))return 1;return 0}},{name:"drop-promo-bc.com",urls:["promo-bc.com/stream_"],check:function(e){return e.url_lc.endsWith(".webm")||-1!=e.url_lc.indexOf(".webm?")?1:0}},{name:"drop-pornhd.com",urls:["cdn-pics.pornhd.com/","awemwh.com/"],check:function(e){return e.url_lc.endsWith("/clipnew.webm")||new RegExp("\\/[\\w]+\\.mp4\\??","i").test(e.url_lc)?1:0}},{name:"drop-ice-pro-win-drtuber-nuvid-porn",urls:["iceppsn.com/media/videos/tmb/","prppsn.com/media/videos/tmb/","wnppsn.com/media/videos/tmb/","drtst.com/media/videos/tmb/","nvdst.com/media/videos/tmb/"],check:function(e){return new RegExp("\\/[\\d]+\\.mp4\\??","i").test(e.url_lc)?1:0}},{name:"drop-acdn.nuvid.com",urls:["acdn.nuvid.com/"],check:function(e){return new RegExp("\\/[\\w]+\\.mp4\\??","i").test(e.url_lc)?1:0}},{name:"drop-cdn3x.com",urls:["cdn3x.com/"],check:function(e){return new RegExp("\\/p_[\\d_]+\\.mp4\\??","i").test(e.url_lc)?1:0}},{name:"drop-spankbang-perfectgirls",urls:["sb-cd.com/","cdn.perfectgirls.net/mp4/"],check:function(e){return new RegExp("\\/[\\d]+\\-(?:td|tr|th)\\.mp4\\??","i").test(e.url_lc)?1:0}},{name:"drop-mediav.porn.com",urls:["mediav.porn.com/","vmedia.porn.com/system/files/videos/"],check:function(e){return e.url_lc.endsWith("/roll.mp4")||e.url_lc.endsWith("/roll.webm")||new RegExp("\\/t_[\\w]+\\.webm\\??","i").test(e.url_lc)?1:0}},{name:"drop-yespornplease.com",urls:["yespornplease.com/"],check:function(e){return e.url_lc.endsWith("/video.mp4")?1:0}},{name:"drop-doublepimpads.com",urls:["doublepimpads.com/"],check:function(e){return new RegExp("\\/m[\\w_]+\\.mp4\\??","i").test(e.url_lc)?1:0}},{name:"drop-tnaflix.com",urls:["tnaflix.com/trailer/tnaflix/"],check:function(e){return new RegExp("\\/[\\w]+\\.mp4\\??","i").test(e.url_lc)?1:0}},{name:"drop-porndoe.com",urls:["porndoe.com/movie/"],check:function(e){return e.url_lc.endsWith("-preview.mp4")?1:0}},{name:"drop-vporn.com",urls:["vporn.com/"],check:function(e){return e.url_lc.endsWith("/vpaidflash.swf")?1:0}},{name:"drop-youjizz.com",urls:["youjizz.com/videos/","gstatic-us.pro/","m.sancdn.net/","static.exoclick.com/library/"],check:function(e){let t=null;if(-1!=e.url_lc.indexOf(".flv-clip.mp4?"))return 1;if(-1!=e.url_lc.indexOf("static.exoclick.com/library/")&&(t=new RegExp("\\/[\\w]+\\.mp4","i"),t.test(e.url_lc)))return 1;if(-1!=e.url_lc.indexOf("m.sancdn.net/")){t=[new RegExp("\\/[\\d]+x[\\d]+(?:[\\d\\-]+)?\\.mp4\\??","i"),new RegExp("\\/[\\d]+x[\\d]+(?:[\\-\\d]+)?_montage\\.mp4\\??","i")];for(let n of t)if(n.test(e.url_lc))return 1}if(t=new RegExp("\\/[\\w\\-]+\\.mp4\\??","i"),t.test(e.url_lc)){let t=0;try{if(t=Number(v.tryGettingHeader("content-length",e.responseHeaders)),null!=t&&t>=v.megabytes(1))return 0}catch(e){}return 1}return 0}},{name:"drop-2mdn.net",urls:["2mdn.net/videoplayback/","gvt1.com/videoplayback/"],check:function(e){return new RegExp("\\/(?:\\d+|file)\\.?(?:mp4|webm)?\\??","i").test(e.url_lc)?1:0}},{name:"drop-flixcdn.com",urls:["flixcdn.com/"],check:function(e){return-1!=e.url_lc.indexOf("/video/")&&-1!=e.url_lc.indexOf("/preview/")&&new RegExp("\\/\\d+x\\d+\\.mp4\\??","i").test(e.url_lc)?1:0}},{name:"drop-highwebmedia.com",urls:["highwebmedia.com/"],check:function(e){return-1!=e.url_lc.indexOf("flash/")&&e.url_lc.endsWith(".swf")||-1!=e.url_lc.indexOf("/tsdefaultassets/sounds/classic/")||-1!=e.url_lc.indexOf("/videos/canautoplayinline.mp4")?1:0}},{name:"drop-anon-v.com",urls:["h-cdn.com/anon_v_com/gen/anon-v.com/get_file/"],check:function(e){if(-1!=e.url_lc.endsWith(".mp4/?")&&-1!=e.url_lc.indexOf("&hrange="))return 1}},{name:"drop-DM-segments",urls:["dailymotion.com/"],check:function(e){return e.url_lc.endsWith(".ts")?1:0}},{name:"drop-vk-beeps",urls:["vk.com/mp3/bb1.mp3","vk.com/mp3/bb2.mp3","vk.com/mp3/bb3.mp3","vk.com/images/blank.mp4"],check:function(e){return 1}},{name:"drop-cloudfront.net",urls:["cloudfront.net/"],check:function(e){let t;return e.url_lc.includes("hd_hls/")&&(t=new RegExp("\\/hd_[\\d]+\\.ts\\??","i"),t.test(e.url_lc))||(e.url_lc.includes("media/")||e.url_lc.includes("dash_vp9/"))&&(t=new RegExp("\\/(?:audio|video)[_\\w\\/]+\\.(?:mp4|webm)\\??","i"),t.test(e.url_lc))?1:0}},{name:"drop-vidalytics.com",urls:["vidalytics.com/video/"],check:function(e){return e.url_lc.endsWith("init.mp4")||-1!=e.url_lc.indexOf("/s_")&&(e.url_lc.endsWith(".m4s")||e.url_lc.endsWith(".webm"))?1:0}},{name:"drop-haku99",urls:["haku99.com/hls/"],check:function(e){return new RegExp("\\/[\\w]+\\.ts\\??","i").test(e.url_lc)?1:0}},{name:"drop-jwpsrv-player",urls:["jwpsrv.com/","jwplayer.com/"],check:function(e){let t=[new RegExp("\\/[\\w\\-]+\\.mp4\\-[\\d]+\\.ts\\??","i"),new RegExp("\\/thumbnails\\/[\\w\\-_]+\\.mp4\\??","i"),new RegExp("\\/v\\d+\\/[\\w\\-\\/_]+\\.mp4\\??","i")];for(let n of t)if(n.test(e.url_lc))return 1;return 0}},{name:"drop-vbox7.com",urls:["vbox7.com/"],check:function(e){return e.url_lc.endsWith("blank.mp4")||new RegExp("\\/[\\w\\-_]+_track[\\d]+_dashinit\\.mp4\\??","i").test(e.url_lc)?1:0}},{name:"drop-muchohentai.com",urls:["hwcdn.net/","tmncdn.io/"],check:function(e){return e.referer_lc.includes("jperotica.com/")?0:e.url_lc.endsWith(".mp4")||e.url_lc.endsWith(".webm")||new RegExp("\\/[\\w\\-_]+\\.mp4\\.ts\\?","i").test(e.url_lc)?1:0}},{name:"drop-acloudvideos.com",urls:["cdn.acloudvideos.com/v/nativeCPMgames/"],check:function(e){return new RegExp("\\d+\\.mp4","i").test(e.url_lc)?1:0}},{name:"drop-project1content.com",urls:["project1content.com/"],check:function(e){return new RegExp("\\/mediabook_\\d+p\\.mp4","i").test(e.url_lc)?1:0}},{name:"drop-uplynk.com",urls:["uplynk.com/"],check:function(e){let t=new RegExp("\\/[A-Z]+_init\\.mp4\\?","i");return t.test(e.url_lc)||e.url_lc.includes("uplynk.com/ausc/slices/")&&(t=new RegExp("\\/[\\w]+\\.m4f\\??","i"),t.test(e.url_lc))||e.url_lc.includes("/check2?b=")?1:0}},{name:"drop-twitter",urls:["video.twimg.com/","twitter.com/"],check:function(e){return e.url_lc.endsWith(".ts")||-1!=e.url_lc.indexOf(".ts?")||e.url_lc.includes("/ext_tw_video/")&&new RegExp("\\/[\\w_\\-]+\\.(?:mp4|m4s)\\??","i").test(e.url_lc)||new RegExp("\\/\\w\\/api\\/[\\w\\/\\-_\\.]+","i").test(e.url_lc)?1:0}},{name:"drop-pornbox.video",urls:["pornbox.video/assets/mediabooks/"],check:function(e){return e.url_lc.endsWith(".mp4")||-1!=e.url_lc.indexOf(".mp4?")?1:0}},{name:"drop-cwtv.com",urls:["s-static.innovid.com/media/encoded/","top.comcast.net/nosec/"],check:function(e){return e.url_lc.endsWith(".mp4")||e.url_lc.endsWith(".ts")?1:0}},{name:"drop-voxzer.org",urls:["voxzer.org/stream/"],check:function(e){return new RegExp("\\/index[\\d]+\\.ts\\??","i").test(e.url_lc)?1:0}},{name:"drop-primevideos.net",urls:["primevideos.net/"],check:function(e){return e.url_lc.endsWith(".ts")||-1!=e.url_lc.indexOf(".ts?")?1:0}},{name:"drop-6cloud.fr",urls:["6cloud.fr/videos/"],check:function(e){return e.url_lc.endsWith(".dash")||-1!=e.url_lc.indexOf(".dash?")?1:0}},{name:"drop-cdn.creativesumo.com",urls:["cdn.creativesumo.com/mp4/"],check:function(e){return new RegExp("\\/[\\w]+\\.mp4\\??","i").test(e.url_lc)?1:0}},{name:"drop-o2tv.cz",urls:["o2tv.cz/","ceskatelevize.cz/"],check:function(e){return e.url_lc.endsWith("/is.mp4")||e.url_lc.endsWith("/sub.vtt")?1:0}},{name:"drop-hdzog.com",urls:["hdzog.com/player/timelines.php?","tubepornclassic.com/player/timelines.php?"],check:function(e){return 1}},{name:"drop-123movies",urls:["123movies.st/","cache.cdnfile.info/","subcdnfile.xyz/","vidcloud9.com/","hlssrv.com/hls_serve/"],check:function(e){let t=null;return e.url_lc.endsWith(".vtt")||-1!=e.url_lc.indexOf("123movies.st/ajax/film/tooltip/")||-1!=e.url_lc.indexOf("vidcloud9.com/videos/hls/")&&(t=new RegExp("\\/sub[\\d\\.]+\\.ts\\??","i"),t.test(e.url_lc))||e.url_lc.endsWith("/init.mp4")?1:(t=new RegExp("\\/\\w+_\\d+\\.(?:mp4|m4s)\\??","i"),t.test(e.url_lc)?1:0)}},{name:"drop-eporner.com",urls:["eporner.com/thumbs/"],check:function(e){return e.url_lc.endsWith("-preview.mp4")?1:0}},{name:"drop-pornez.com",urls:["pornez.net/"],check:function(e){return e.url_lc.endsWith(".vtt")||new RegExp("\\.pornez\\.net\\/[\\w\\-_\\/]+==","i").test(e.url_lc)?1:0}},{name:"drop-uqvid.xyz",urls:["uqvid.xyz/"],check:function(e){return new RegExp("uqvid\\.xyz\\/hls[\\d]+\\/[\\w\\/\\-]+\\.png\\??","i").test(e.url_lc)?1:0}},{name:"drop-gstatic-eu.pro",urls:["gstatic-eu.pro/"],check:function(e){return new RegExp("\\/[\\w\\-]+\\.mp4\\??","i").test(e.url_lc)?1:0}},{name:"drop-rtp.pt",urls:["rtp.pt/"],check:function(e){let t=new RegExp("\\/[\\w]+\\-\\d+\\.ts\\??","i");return t.test(e.url_lc)||e.url_lc.includes("preview")&&e.url_lc.endsWith("_videoprv.mp4")?1:(t=new RegExp("\\/[\\w_\\-]+\\.mp4","i"),t.test(e.url_lc)?1:0)}},{name:"drop-conviva.com",urls:["conviva.com/"],check:function(e){return new RegExp("conviva\\.com\\/\\w+\\/wsg","i").test(e.url_lc)?1:0}},{name:"drop-eadplataforma.com",urls:["vdocipher.com/"],check:function(e){return new RegExp("\\/theme\\/\\w+\\.(?:html|css)","i").test(e.url_lc)?1:0}},{name:"drop-ok.ru",urls:["mycdn.me/"],check:function(e){return-1!=e.url_lc.indexOf("st.mycdn.me")&&e.url_lc.endsWith(".swf")||new RegExp("\\w+\\.mycdn.me\\/\\?expires=","i").test(e.url_lc)&&-1!=e.url_lc.indexOf("&bytes=")?1:0}},{name:"drop-googleusercontent.com",urls:["googleusercontent.com/"],check:function(e){return new RegExp("[\\w\\-]+\\.googleusercontent\\.com\\/gadgets\\/\\w+\\?","i").test(e.url_lc)?1:0}},{name:"drop-zammad",urls:[new RegExp("\\/assets\\/sounds\\/chat_\\w+\\.mp3","i")],check:function(e){return 1}},{name:"drop-globo",urls:["video.globo.com/"],check:function(e){return e.url_lc.endsWith(".ts")||-1!=e.url_lc.indexOf(".dref.mp4?")?1:0}},{name:"drop-mrdeepfakes",urls:["mrdeepfakes.com/remote_control.php?","awemdia.com/","ankunding.biz/"],check:function(e){let t=null;if(e.url_lc.includes("awemdia.com/")&&(t=new RegExp("\\/\\w+\\.mp4","i"),t.test(e.url_lc)))return 1;if(e.url_lc.includes("ankunding.biz/")&&(t=new RegExp("\\/[\\w_\\-]+\\.mp4\\??","i"),t.test(e.url_lc)))return 1;if(e.url_lc.includes("mrdeepfakes.com/remote_control.php?")&&v.includesAllSubstrings(e.url_lc,["time=","lr=","file=",new RegExp("(?:cv\\d+)=","i")])){let t=v.tryGettingHeader("content-disposition",e.responseHeaders);if(null!=t&&t.toLowerCase().includes("_preview."))return 1}return 0}},{name:"drop-uni-hohenheim.de",urls:["uni-hohenheim.de/"],check:function(e){return-1!=e.url_lc.indexOf(".mp4/dash/")?1:0}},{name:"drop-stuff.co.nz",urls:["play.stuff.co.nz/","manifest.prod.boltdns.net/"],check:function(e){if(e.url_lc.includes("play.stuff.co.nz/proxy/event/start?"))return 1;let t=new RegExp("/license/v\\d+/aes\\d+/[\\w\\-\\/]+\\?fastly_token\\=","i");return e.url_lc.includes("manifest.prod.boltdns.net/")&&t.test(e.url_lc)?1:0}},{name:"drop-simplerousercontent.net",urls:["simplerousercontent.net/uploads/asset/file/"],check:function(e){return new RegExp("\\/media\\-(?:audio|video)\\-(?:\\w+)\\-(?:\\w+)\\.mp4\\??","i").test(e.url_lc)?1:0}},{name:"drop-mxplay.com",urls:["mxplay.com/video/"],check:function(e){return new RegExp("\\/[\\w_]+_(?:init|\\d+k)\\.mp4","i").test(e.url_lc)?1:0}},{name:"drop-ackcdn.net",urls:["ackcdn.net/library/"],check:function(e){return e.url_lc.endsWith(".mp4")||-1!=e.url_lc.indexOf(".mp4?")?1:0}},{name:"drop-magenta-musik-360.de",urls:["streaming.magenta-musik-360.de/"],check:function(e){return new RegExp("\\/[\\w\\-]+\\.ts\\??","i").test(e.url_lc)?1:0}},{name:"drop-webui.booxtv.fi",urls:["webui.booxtv.fi/"],check:function(e){return!new RegExp("\\/web\\/\\#\\/recordings\\/saved\\/\\d+","i").test(e.url_lc)||-1==e.url_lc.indexOf(".ts")&&-1==e.url_lc.indexOf(".dash")?0:1}},{name:"drop-twitch",urls:["hls.ttvnw.net/v1/segment/"],check:function(e){return e.url_lc.endsWith(".ts")||e.url_lc.endsWith(".dash")||-1!=e.url_lc.indexOf(".ts?")||-1!=e.url_lc.indexOf(".dash?")?1:0}},{name:"drop-metacafe",urls:["cdn.mcstatic.com/"],check:function(e){return new RegExp("\\/[\\w]+\\.mp4","i").test(e.url_lc)?1:0}},{name:"drop-56.com",urls:["itc.cn/"],check:function(e){return-1!=e.url_lc.indexOf("data.vod.itc.cn/ip?new=")?1:0}},{name:"drop-media.azure.net",urls:["media.azure.net/"],check:function(e){return-1!=e.url_lc.indexOf("/?kid=")&&-1!=e.url_lc.indexOf("&token=")?1:0}},{name:"drop-la7.it",urls:["conax.cloud/","currency.prebid.org/"],check:function(e){return-1!=e.url_lc.indexOf("/license?")||e.url_lc.endsWith("/latest.json")?1:0}},{name:"drop-soundcloud",urls:["sndcdn.com/"],check:function(e){return new RegExp("\\/media\\/[\\w\\/_\\-\\.]+\\.mp3\\??","i").test(e.url_lc)?1:0}},{name:"drop-hanime.tv",urls:["hanime.tv/","deprecated.bitpix.top"],check:function(e){let t=["deprecated.bitpix.top/black_screen_hd.mp4","hanime.tv/sign.bin",new RegExp("hanime\\.tv\\/api\\/\\w+\\/playlists\\?source=","i"),new RegExp("hanime\\.tv\\/api\\/\\w+\\/[\\w\\-_\\/]+\\/play","i")];for(let n of t){if("string"==typeof n&&-1!=e.url_lc.indexOf(n))return 1;if("object"==typeof n&&"function"==typeof n.test&&n.test(e.url_lc))return 1}return 0}},{name:"drop-upornia",urls:["upornia.com/","thegay.com/"],check:function(e){return e.url_lc.endsWith("_tr.mp4")||e.url_lc.endsWith("_tr.mp4?")?1:0}},{name:"drop-liiift.io",urls:["liiift.io/"],check:function(e){let t=new RegExp("liiift\\.io\\/v\\d+","i"),n=new RegExp("\\/\\w+\\.m4s\\??","i");return t.test(e.url_lc)&&n.test(e.url_lc)?1:0}},{name:"drop-ott.cibntv.net",urls:["ott.cibntv.net/"],check:function(e){if(e.url_lc.includes("ott.cibntv.net")){if(e.url_lc.includes(".mp4.ts?"))return 1;if(e.url_lc.includes("mp4?sid="))return 1}return 0}},{name:"drop-reddit",urls:["redd.it/"],check:function(e){return new RegExp("\\w\\.redd\\.it\\/[\\w_\\-\\/]+\\/DASH_\\w+\\.mp4\\??","i").test(e.url_lc)?1:0}},{name:"drop-playvids",urls:["playvids.com/"],check:function(e){return e.url_lc.endsWith("/media/blank.mp4")||new RegExp("playvids\\.com\\/thumbs\\/[\\w+\\/]+\\/preview\\.mp4\\??","i").test(e.url_lc)?1:0}}],this.m_IsDebugMode){let e=0,t=0,n=0,r=0;for(let i of this.m_DowngradeMap){let s=0,a=0;if(Ue.has(i,"urls")&&null!=i.urls||Ue.has(i,"referers")&&null!=i.referers){let o="...'"+i.name+"'";if(Ue.has(i,"urls")&&null!=i.urls){s=0,a=0;for(let e of i.urls)"string"==typeof e&&s++,"object"==typeof e&&a++;e+=s,t+=a}if(o+=`, urls: ${s}, url regexps: ${a}`,Ue.has(i,"referers")&&null!=i.referers){s=0,a=0;for(let e of i.referers)"string"==typeof e&&s++,"object"==typeof e&&a++;n+=s,r+=a}o+=`, referers: ${s}, referer regexps: ${a}`}}}}internalCrackUri(e){let t=e.url.match(this.m_UrlRegExp);return null!=t&&(e.$protocol=t[1],e.$host=t[2],e.$path=t[3]),e}checkUri(e){let t=!1,n=Ue.has(e,"referer_lc")&&null!=e.referer_lc&&e.referer_lc.length>0,r=!1;e.$context=this;for(let i of this.m_DowngradeMap){if(Ue.has(i,"urls")&&null!=i.urls)for(let n of i.urls){if("string"==typeof n&&-1!=e.url_lc.indexOf(n)){t=!0;break}if("object"==typeof n&&n.test(e.url_lc)){t=!0;break}}if(n&&Ue.has(i,"referers")&&null!=i.referers)for(let t of i.referers){if("string"==typeof t&&-1!=e.referer_lc.indexOf(t)){r=!0;break}if("object"==typeof t&&t.test(e.referer_lc)){r=!0;break}}}if(1==t)for(let t of this.m_DowngradeMap)if(0!=Ue.has(t,"urls")&&null!=t.urls)for(let n of t.urls)if("string"==typeof n){if(-1!=e.url_lc.indexOf(n)&&1==t.check(e))return 1}else if("object"==typeof n)try{if(1==n.test(e.url_lc)&&1==t.check(e))return 1}catch(e){}if(1==r)for(let t of this.m_DowngradeMap)if(0!=Ue.has(t,"referers")&&null!=t.referers)for(let n of t.referers)if("string"==typeof n){if(-1!=e.referer_lc.indexOf(n)&&1==t.check(e))return 1}else if("object"==typeof n)try{if(1==n.test(e.referer)&&1==t.check(e))return 1}catch(e){}let i=!1;for(let t of this.m_DowngradeMap)if(Ue.has(t,"urls")&&null!=t.urls&&1==t.urls.length&&"*"==t.urls[0]&&(0==i&&(e=this.internalCrackUri(e),i=!0),1==t.check(e)))return 1;return 0}}var He=n(681),qe=n(15),We=n(447);class ze{constructor(){this.m_VideoHandler=br(),this.m_IsDebugMode=!1,this.m_ScoringSettings={doNotDetectFilesWithNoSize:null,doNotDetectFilesWith0Size:null,doNotDetectFilesSmallerThan:null,doNotDetectFilesSmallerThanSize:null,doNotDetectFilesWithNoCT:null},this.m_VideoFileExtensionsLC=[".264",".3g2",".3gp",".3mm",".3p2",".60d",".aaf",".aec",".ajp",".am4",".amv",".arf",".arv",".asd",".asf",".asx",".avb",".avchd",".avd",".avi",".avs",".ax",".axm",".bdmv",".bik",".bix",".box",".bup",".bin",".camrec",".cine",".cpi",".cvc",".d2v",".d3v",".dav",".dce",".ddat",".divx",".dkd",".dlx",".dm_84",".dmb",".dpg",".dream",".dsm",".dv",".dv2",".dvm",".dvr",".dvr-ms",".dvx",".dxr",".edl",".enc",".evo",".f4v",".fbr",".fbz",".flc",".fli",".flv",".gts",".gvi",".gvp",".h3r",".hdmov",".ifo",".ircp",".irf",".ivr",".ivs",".m1pg",".m21",".m2p",".m2t",".m2ts",".m2v",".m4a",".m4e",".m4p",".m4u",".m4v",".mbf",".mbt",".mbv",".mj2",".mjp",".mk3d",".mkv",".mnv",".mod",".moff",".moi",".mov",".mp2",".mp21",".mp3",".mp4",".mp4v",".mpe",".mpeg",".mpg",".mpg2",".mpv",".mqv",".mts",".mtv",".mvb",".mxf",".mzt",".ms-wmv",".msvideo",".nsv",".ogg",".ogv",".ogx",".pgi",".piv",".plb",".pmf",".pns",".psh",".pvr",".pxv",".qt",".qtl",".r3d",".ratdvd",".rm",".rms",".rmvb",".roq",".rpf",".rpl",".rum",".rv",".sdv",".sfvidcap",".slc",".smk",".spl",".sub",".svi",".swf",".thm",".tivo",".tod",".tp0",".trp",".ts",".udp",".usm",".vcr",".vft",".vgz",".viewlet",".vmb",".vob",".vp6",".vp7",".vro",".vvf",".vnd.objectvideo",".wd1",".webm",".wma",".wmv",".wtv",".xfl",".xvid",".zm1",".zm2",".zm3",".zmv"],this.m_AcceptedMediaContentTypesLC=["video/","audio/","flv-application/octet-stream","application/ogg","application/flv","application/mp4","application/m4v","application/f4v","application/webm","application/ms-wmv","application/ogg","application/msvideo","application/vnd.objectvideo"],this.m_AcceptedBinaryContentTypesLC=["application/octet-stream","application/octet-download"],this.initializeSettings(),t.runtime.onMessage.addListener(this.onMessageEventListener.bind(this)),this.m_SubsystemElevate=new Oe(this.m_IsDebugMode),this.m_SubsystemTransform=new Fe(this.m_IsDebugMode),this.m_SubsystemDowngrade=new je(this.m_IsDebugMode)}get isDebugMode(){return this.m_IsDebugMode}get name(){return B.Scoring}onMessageEventListener(e){}initializeSettings(){let e=null,t=P();null!=t&&(e=t.get(He.extension.videoDetector.protocols.scoring.detector.ignore.noSize),null!=e&&(this.m_ScoringSettings.doNotDetectFilesWithNoSize=e.value),e=t.get(He.extension.videoDetector.protocols.scoring.detector.ignore.zeroSize),null!=e&&(this.m_ScoringSettings.doNotDetectFilesWith0Size=e.value),e=t.get(He.extension.videoDetector.protocols.scoring.detector.ignore.lessThanSize.enabled),null!=e&&(this.m_ScoringSettings.doNotDetectFilesSmallerThan=e.value,e=t.get(He.extension.videoDetector.protocols.scoring.detector.ignore.lessThanSize.limit),null!=e&&(this.m_ScoringSettings.doNotDetectFilesSmallerThanSize=e.value)),e=t.get(He.extension.videoDetector.protocols.scoring.detector.ignore.octetStreamNoFile),null!=e&&(this.m_ScoringSettings.doNotDetectFilesWithNoCT=e.value))}validateAgainstSettings(e){if(!0===this.m_ScoringSettings.doNotDetectFilesWithNoSize&&0==v.headerExists("content-length",e.responseHeaders))return!1;if(!0===this.m_ScoringSettings.doNotDetectFilesWith0Size&&0===Number(v.tryGettingHeader("content-length",e.responseHeaders)))return!1;if(!0===this.m_ScoringSettings.doNotDetectFilesSmallerThan&&null!=this.m_ScoringSettings.doNotDetectFilesSmallerThanSize){let t=Number(this.m_ScoringSettings.doNotDetectFilesSmallerThanSize),n=Number(v.tryGettingHeader("content-length",e.responseHeaders)),r=0==Number.isNaN(t),i=0==Number.isNaN(n);if(r&&i&&n>0&&n<=t)return!1}if(!0===this.m_ScoringSettings.doNotDetectFilesWithNoCT){let t=v.tryGettingHeader("content-type",e.responseHeaders);if(null!=t&&t.length>0&&this.m_AcceptedBinaryContentTypesLC.includes(t.toLowerCase())){let t=!1;for(let n of this.m_VideoFileExtensionsLC)if(e.url_lc.includes(n)){t=!0;break}if(0==t)return!1}}return!0}isEnabled(e){return null==e||0==qe.has(e,B.Scoring)||null==e[B.Scoring]||"boolean"!=typeof e[B.Scoring]||e[B.Scoring]}isVideo(e){let t=0,n=null,r=null,i=null,s=!1,a=!1;null!=e.responseHeaders?(v.headerExists("content-type",e.responseHeaders)&&(n=v.tryGettingHeader("content-type",e.responseHeaders)),v.headerExists("content-length",e.responseHeaders)&&(r=v.tryGettingHeader("content-length",e.responseHeaders)),v.headerExists("content-range",e.responseHeaders)&&(i=v.tryGettingHeader("content-range",e.responseHeaders))):this.isDebugMode;for(let n of this.m_VideoFileExtensionsLC){if(1==e.url_lc.endsWith(n)){this.isDebugMode,t+=50;break}let r=!1,i=[n+"?",n+"&",n+"#"];for(let n of i)if(-1!=e.url_lc.indexOf(n)){this.isDebugMode,t+=50,r=!0;break}if(r)break}if(null!=n){let e=n.toLowerCase();for(let n of this.m_AcceptedMediaContentTypesLC)if(-1!=e.indexOf(n)){s=!0,a=!1,t+=25;break}if(0==s)for(let n of this.m_AcceptedBinaryContentTypesLC)if(-1!=e.indexOf(n)){s=a=!0,t+=25;break}}if(0==t)return t;if(1==s?this.isDebugMode:(this.isDebugMode,null!=n&&String(n)),this.isDebugMode,null!=r&&String(r),this.isDebugMode,null!=i&&String(i),null!=r&&null==i)r>0&&(t+=25);else if(null!=i)e:try{let e=null,n=null,s=null,a=null,o=!1;if(a=i.match(g.content.range.type1),null!=a?(e=a[2],n=a[3],s=a[4],o=!0):(a=i.match(g.content.range.type2),null!=a&&(s=a[2],o=!0)),0==o){this.isDebugMode;break e}if(null==s||0==s){this.isDebugMode;break e}if(null!=e&&0!=e){this.isDebugMode;break e}null==r?null!=n&&n>0?s==n-1&&(t+=25):t+=25:null!=n&&n>0?s==n+1==r&&(t+=25):s==r&&(t+=25)}catch(e){this.isDebugMode}return this.isDebugMode,t}canApply(e){return 0}apply(e){var n=null;try{if(null==e)throw"ScoringProtocol::apply() ->  no data where provided";if(0==qe.has(e,"responseData"))throw"ScoringProtocol::apply() ->  HTTP response is not present";if(qe.isEmpty(e.responseData))throw"ScoringProtocol::apply() ->  HTTP response is empty";if(0==qe.has(e.responseData,"url"))throw"ScoringProtocol::apply() ->  url is missing";if(null==e.responseData.url||0==e.responseData.url.length)throw"ScoringProtocol::apply() ->  url is null or empty";n=0==qe.has(e.responseData,"tabId")||null==e.responseData.tabId||e.responseData.tabId<0?le:e.responseData.tabId}catch(e){return}var r=null,i=0;if(r={url:e.responseData.url,url_lc:e.responseData.url.toLowerCase(),referer:"",referer_lc:"",requestHeaders:null,responseHeaders:ke(e.responseData.responseHeaders)},e.requestData&&e.requestData.requestHeaders&&(r.requestHeaders=ke(e.requestData.requestHeaders),v.headerExists("referer",r.requestHeaders)&&(r.referer=v.tryGettingHeader("referer",r.requestHeaders),r.referer_lc=r.referer.toLowerCase())),this.m_IsDebugMode,0!=this.validateAgainstSettings(r)){try{i=this.isVideo(r)}catch(e){return}try{if(0==i&&0==this.m_SubsystemElevate.isVideo(r))return}catch(e){return}try{let e=this.m_SubsystemTransform.doesRequireTranformation(r);1==e.requiresTranformation&&(r=e.rule.transform(r))}catch(e){return}try{if(1==this.m_SubsystemDowngrade.checkUri(r))return}catch(e){return}var s=this;We((function*(){let i=re.generateKey({tabId:n,url:r.url});if(s.m_IsDebugMode,r.requestHeaders&&v.headerExists("range",r.requestHeaders)){let e=v.tryGettingHeader("range",r.requestHeaders);0==("bytes=0-"==e.toLowerCase()||"bytes 0-"==e.toLowerCase())&&(-1!=e.indexOf("=")?r.requestHeaders.Range="bytes=0-":r.requestHeaders.Range="bytes 0-")}let a=new se({key:i,url:r.url,session:N(),protocol:B.Scoring,state:q,description:{title:null,webpage:null,incognito:null},meta:{requestHeaders:r.requestHeaders,responseHeaders:r.responseHeaders},media:null});try{if(n!=le){let n=yield w.tabGetById(e.responseData.tabId);w.tabsHandleLastError(t.runtime.lastError),null!=n&&(qe.has(n,"title")&&(a.description.title=n.title),qe.has(n,"url")&&(a.description.webpage=n.url),qe.has(n,"incognito")&&(a.description.incognito=n.incognito))}}catch(e){}try{s.m_VideoHandler.detected(a)}catch(e){}}))}}}var $e=n(15);class Ge extends se{constructor(){super(),this.session=async function(){let e=null;try{e=await w.sendMessage({id:d.query})}catch(e){}return e}(),this.protocol=B.YT,this.state=q,this.description={title:null,webpage:null,incognito:null,channel:{name:null,id:null},publishDate:null,viewCount:null,length:null},this.meta={ytId:null,ytStreamIds:[],cookies:null},this.media={solids:[],adaptive:[]},this.cipher={isCiphered:!1,playerUrl:null,playerId:null,status:null,statusProgress:0,statusMessage:null}}get id(){return this.key}get tabId(){return this.m_TabId}determineIfCiphered(){if(this.media.solids.length>0)for(let e of this.media.solids)if($e.has(e,"$avd")&&null!=e.$avd&&$e.has(e.$avd,"cipher")&&null!=e.$avd.cipher)return void(this.cipher.isCiphered=!0);if(this.media.adaptive.length>0)for(let e of this.media.adaptive)if($e.has(e,"$avd")&&null!=e.$avd&&$e.has(e.$avd,"cipher")&&null!=e.$avd.cipher)return void(this.cipher.isCiphered=!0);this.cipher.isCiphered=!1}decipherSetPlayerUrl(e){this.cipher.playerUrl=e;let t=!1,n=[new RegExp("\\b(vfl[a-zA-Z0-9_-]+)\\b.*?\\.([a-z]+)$","i"),new RegExp("\\/([a-zA-Z0-9_-]{8,})\\/player_ias\\\\.vflset(?:\\/[a-zA-Z]{2,3}_[a-zA-Z]{2,3})?\\/base\\\\.([a-z]+)$","i")];for(let e of n)if(this.cipher.playerUrl.match(e)){t=!0;break}}static splitKeyValuePairedString(e,t="&",n){if(null==e)return null;if(0==e.length)return null;let r={},i=e.split(t);for(let e of i){let t=e.split("=");if(null!=t&&2==t.length){let e=t[0],i=t[1];r[e]=null!=n?n(i):unescape(i)}}return r}static createFromPlayerResponse(e,t,n,r,i,s){try{if(null==e)throw"videoMgmtInstance is null";if(null==t)throw"playerResponse is null";if("object"!=typeof e)throw"config is not an object";if(null==n||-1==n)throw"tab id is null or -1"}catch(e){return null}try{let e=new Ge,a=new Map,o=null;e.key=re.generateKey({tabId:n,hash:t.videoDetails.videoId}),e.description.webpage=r,e.description.title=t.videoDetails.title,e.description.incognito=s,e.meta.cookies=i;try{e.description.channel.name=t.videoDetails.author}catch(e){}try{e.description.channel.id=t.videoDetails.channelId}catch(e){}try{e.description.publishDate=t.microformat.playerMicroformatRenderer.publishDate}catch(e){}try{null!=t.videoDetails.viewCount&&(e.description.viewCount=t.videoDetails.viewCount)}catch(n){try{null!=t.microformat.playerMicroformatRenderer.viewCount&&(e.description.viewCount=t.microformat.playerMicroformatRenderer.viewCount)}catch(e){}}e.description.viewCount;try{e.description.length=Number(t.videoDetails.lengthSeconds)}catch(e){}try{if(e.media.solids=t.streamingData.formats,e.media.solids,e.media.solids.length,e.media.solids.length>0)for(let t=0;t<e.media.solids.length;t++)if(null!=e.media.solids[t])if(e.media.solids[t].$avd={},e.media.solids[t].$avd.isVideoStream=!0,e.media.solids[t].$avd.isSolidVideo=!0,0==$e.has(e.media.solids[t],"url")){let n=e.media.solids[t].cipher||e.media.solids[t].signatureCipher;if(null==n)continue;if(e.media.solids[t].$avd.cipher=Ge.splitKeyValuePairedString(n),!$e.has(e.media.solids[t].$avd.cipher,"url")||null==e.media.solids[t].$avd.cipher.url)continue;o=e.media.solids[t].$avd.cipher.url.match(g.yt.streamId),null!=o&&a.set(o[1],null)}else o=e.media.solids[t].url.match(g.yt.streamId),null!=o&&a.set(o[1],null),e.media.solids[t].$avd.key=oe.generateKey(e.media.solids[t].url,e.key)}catch(e){}try{e.media.adaptive=t.streamingData.adaptiveFormats,e.media.adaptive,e.media.adaptive.length;for(let t=0;t<e.media.adaptive.length;t++)if(null!=e.media.adaptive[t]&&(e.media.adaptive[t].$avd={},e.media.adaptive[t].$avd.isSolidVideo=!1,$e.has(e.media.adaptive[t],"mimeType")&&null!=e.media.adaptive[t].mimeType&&e.media.adaptive[t].mimeType.length>0)){if(g.yt.streamTypeVideo.test(e.media.adaptive[t].mimeType))e.media.adaptive[t].$avd.isVideoStream=!0;else{if(!g.yt.streamTypeAudio.test(e.media.adaptive[t].mimeType))continue;e.media.adaptive[t].$avd.isAudioStream=!0}if(0==$e.has(e.media.adaptive[t],"url")){let n=null;if($e.has(e.media.adaptive[t],"cipher")&&null!=e.media.adaptive[t].cipher?n=e.media.adaptive[t].cipher:$e.has(e.media.adaptive[t],"signatureCipher")&&null!=e.media.adaptive[t].signatureCipher&&(n=e.media.adaptive[t].signatureCipher),null==n)continue;if(e.media.adaptive[t].$avd.cipher=Ge.splitKeyValuePairedString(n),!$e.has(e.media.adaptive[t].$avd.cipher,"url")||null==e.media.adaptive[t].$avd.cipher.url)continue;o=e.media.adaptive[t].$avd.cipher.url.match(g.yt.streamId),null!=o&&a.set(o[1],null)}else o=e.media.adaptive[t].url.match(g.yt.streamId),null!=o&&a.set(o[1],null),e.media.adaptive[t].$avd.key=oe.generateKey(e.media.adaptive[t].url,e.key)}}catch(e){}return e.meta.ytStreamIds=Array.from(a.keys()),e.determineIfCiphered(),e}catch(e){}return null}static createFromConfigInitial(e,t){let n=null;try{if(null==t||0==$e.has(t,"config"))throw"input parameter 'data' does not contain required field 'config'";if(0==$e.has(t.config,"playerConfig")||null==t.config.playerConfig)throw"data.config.playerConfig is missing or null"}catch(e){return null}if($e.has(t.config.playerConfig,"args")&&null!=$e.has(t.config.playerConfig.args)){if($e.has(t.config.playerConfig.args,"player_response")&&null!=t.config.playerConfig.args.player_response)try{n=JSON.parse(t.config.playerConfig.args.player_response)}catch(e){return null}}else n=t.config.playerConfig;if(null==n)return null;var r=Ge.createFromPlayerResponse(e,n,t.tabId,t.description.webpage,t.documentCookie,t.description.incognito);if(r.cipher.isCiphered){let n=null;$e.has(t.config.playerConfig,"assets")&&null!=t.config.playerConfig.assets&&$e.has(t.config.playerConfig.assets,"js")&&null!=t.config.playerConfig.assets.js&&(n=t.config.playerConfig.assets.js),null==n&&$e.has(t.config,"webPlayerContextConfig")&&null!=t.config.webPlayerContextConfig&&$e.has(t.config.webPlayerContextConfig,"jsUrl")&&null!=t.config.webPlayerContextConfig.jsUrl&&(n=t.config.webPlayerContextConfig.jsUrl),null==n&&$e.has(t.config,"playerJsUrl")&&null!=t.config.playerJsUrl&&(n=t.config.playerJsUrl),null!=n&&(n="https://www.youtube.com"+n,e.setPlayerUrlByTabId(t.tabId,n),r.decipherSetPlayerUrl(n))}return r}static createFromConfigSubsequent(e,t){var n=null,r=null,i=null;try{if(null==(n=JSON.parse(t.config)))throw"parsed config is null"}catch(e){return null}if(0==Array.isArray(n))i=n;else{for(let e of n)if($e.has(e,"player")&&null!=e.player&&$e.has(e.player,"args")&&null!=e.player.args&&$e.has(e.player.args,"player_response")&&null!=e.player.args.player_response)try{r=e.player,i=JSON.parse(e.player.args.player_response);break}catch(e){}if(null==i)for(let e of n)if($e.has(e,"playerResponse")&&null!=e.playerResponse){i=e.playerResponse;break}}if(null!=i){var s=Ge.createFromPlayerResponse(e,i,t.tabId,`https://www.youtube.com/watch?v=${i.videoDetails.videoId}`,t.documentCookie,t.description.incognito);if(s.cipher.isCiphered){let n=null;null!=r&&$e.has(r,"assets")&&null!=r.assets&&$e.has(r.assets,"js")&&null!=r.assets.js&&(n=r.assets.js),null==n&&(n=e.getPlayerUrlByTabId(t.tabId)),null!=n&&(0==n.includes("youtube.com")&&(n=`https://www.youtube.com${n}`),s.decipherSetPlayerUrl(n))}return s}}static createFromConfigEmbedded(e,t){try{if(null==t)throw"input parameter 'queueItem' is null";if(0==$e.has(t,"data"))throw"input parameter 'queueItem' does not contain required field 'data'";if(0==$e.has(t,"embeddedConfig"))throw"input parameter 'queueItem' does not contain required field 'embeddedConfig'";if(null==t.embeddedConfig)throw"'embeddedConfig' is null";if(0==t.embeddedConfig.length)throw"'embeddedConfig' is empty";if(0==$e.has(t,"embeddedPage"))throw"input parameter 'queueItem' does not contain required field 'embeddedPage'";if(null==t.embeddedPage)throw"'embeddedPage' is null";if(0==t.embeddedPage.length)throw"'embeddedPage' is empty"}catch(e){return null}let n=Ge.splitKeyValuePairedString(t.embeddedConfig,"&",decodeURIComponent);if($e.isEmpty(n))return null;if(0==$e.has(n,"player_response"))return null;let r=null;try{r=JSON.parse(n.player_response)}catch(e){return null}if(null==r)return null;let i=null;if($e.has(t.data,"requestData")&&null!=t.data.requestData&&$e.has(t.data.requestData,"requestHeaders")&&null!=t.data.requestData.requestHeaders&&t.data.requestData.requestHeaders.length>0)for(let e of t.data.requestData.requestHeaders)if(null!=e&&$e.has(e,"name")&&$e.has(e,"value")&&("cookie"==e.name.toLowerCase()||"cookies"==e.name.toLowerCase())){i=e.value;break}let s=null;try{if(s=Ge.createFromPlayerResponse(e,r,t.data.responseData.tabId,`https://www.youtube.com/watch?v=${r.videoDetails.videoId}`,i,t.data.description.incognito),null==s)throw"YouTubeVideo.createFromPlayerResponse() returned null";if(s.cipher.isCiphered){let e=new RegExp('<script(?:\\s+)?src=\\\\?\\"([\\w\\.\\-_\\/]+)\\\\?\\"(?:\\s+)?name=\\\\?\\"player_[\\w]+\\/base\\\\?\\"(?:\\s+)?><\\/script>',"i"),n=t.embeddedPage.match(e),r=null;if(null==n)throw"unable to extract player url from embedded page";r=n[1],s.decipherSetPlayerUrl(`https://www.youtube.com${r}`)}}catch(e){return null}return s}getAsVideoDescriptor(e){let t=Object.assign({protocol:B.YT,session:e},this);for(let e of this.media.solids){let n={meta:{$solid:!0}};if($e.has(e,"url")&&null!=e.url)n.url=e.url,n.$cipher=null;else{if(!$e.has(e,"$cipher")||null==e.$cipher)continue;n.url=null,n.$cipher=e.$cipher}n.key=null,$e.has(e,"key")&&(n.key=e.key),n.meta.itag=e.itag,n.meta.content_type=e.mimeType,$e.has(e,"width")&&null!=e.width&&(n.meta.width=e.width),$e.has(e,"height")&&null!=e.height&&(n.meta.height=e.height),$e.has(e,"qualityLabel")&&null!=e.qualityLabel?n.meta.quality=e.qualityLabel:$e.has(e,"quality")&&null!=e.quality&&(n.meta.quality=e.quality),$e.has(e,"contentLength")&&null!=e.contentLength&&(n.meta.size=e.contentLength),t.solids.push(n)}let n=!1,r=!1,i=-1,s=-1;for(let e=0;e<t.solids.length;e++){let a=t.solids[e];if(n=$e.has(a.meta,"width")&&null!=a.meta.width&&$e.has(a.meta,"height")&&null!=a.meta.height,r=$e.has(a.meta,"quality")&&null!=a.meta.quality,n){let n=Number(a.meta.width),r=Number(a.meta.height);n>0&&r>0&&(t.solids[e].meta.resolutionRatio=Number(n/r),t.solids[e].meta.resolutionRatio>1&&a.meta.width>i&&(i=a.meta.width,s=e))}else if(r){let t=a.meta.quality.match(g.yt.qualityWidth);if(null!=t&&t.length>=2){let n=Number(t[1]);n>i&&(i=n,s=e)}}}-1!=s&&(t.solids[s].meta.bestQuality=!0);for(let e of this.media.adaptive){let n={meta:{}};if($e.has(e,"url")&&null!=e.url)n.url=e.url,n.$cipher=null;else{if(!$e.has(e,"$cipher")||null==e.$cipher)continue;n.url=null,n.$cipher=e.$cipher}n.key=null,$e.has(e,"key")&&(n.key=e.key),n.meta.itag=e.itag,n.meta.content_type=e.mimeType,$e.has(e,"width")&&null!=e.width&&(n.meta.width=e.width),$e.has(e,"height")&&null!=e.height&&(n.meta.height=e.height),$e.has(e,"qualityLabel")&&null!=e.qualityLabel?n.meta.quality=e.qualityLabel:$e.has(e,"quality")&&null!=e.quality&&(n.meta.quality=e.quality),$e.has(e,"contentLength")&&null!=e.contentLength&&(n.meta.size=e.contentLength),$e.has(e,"$isVideoStream")&&1==e.$isVideoStream?t.videos.push(n):$e.has(e,"$isAudioStream")&&1==e.$isAudioStream&&($e.has(e,"bitrate")&&null!=e.bitrate&&(n.meta.bitrate=e.bitrate),$e.has(e,"averageBitrate")&&null!=e.averageBitrate&&(n.meta.averageBitrate=e.averageBitrate),$e.has(e,"audioSampleRate")&&null!=e.audioSampleRate&&(n.meta.sampleRate=e.audioSampleRate),$e.has(e,"audioChannels")&&null!=e.audioChannels&&(n.meta.channels=e.audioChannels),t.audios.push(n))}return new se(t)}}var Qe=n(15);class Ze{constructor(e){this.m_PlayerUrl=e||null,this.m_PlayerSrc=null,this.m_PlayerId=null,this.m_LastError=null}get src(){return this.m_PlayerSrc}get url(){return this.m_PlayerUrl}get isUrlNull(){return null==this.m_PlayerUrl}get id(){if(this.isUrlNull)return null;this.m_PlayerId=null;let e=[new RegExp("/([a-zA-Z0-9_-]{8,})/player_ias\\.vflset(?:/[a-zA-Z]{2,3}_[a-zA-Z]{2,3})?/base\\.([a-z]+)$","i"),new RegExp("\\b(vfl[a-zA-Z0-9_-]+)\\b.*?\\.([a-z]+)$","i")];for(let t of e)if(null!=this.url){let e=this.url.match(t);if(null!=e){this.m_PlayerId=e[1];break}}return this.m_PlayerId}get lastError(){return this.m_LastError}static getKey(e,t){return null!=e&&e.length>0&&null!=t&&t.length>0?`ytdf:${e}:${t.length}`:null}async download(e){let t=e||this.url||null;if(null==t)return void(this.m_LastError="Player URL is null or empty");this.m_PlayerSrc=this.m_PlayerId=this.m_LastError=null;let n=null;try{n=await v.xhr3("GET",t,null)}catch(e){}null==n||Qe.isEmpty(n)?this.m_LastError="XHR response is null or empty":(n.status,null!=n["response-value"]&&0!=n["response-value"].length?(this.m_PlayerUrl=t,this.m_PlayerSrc=n["response-value"]):this.m_LastError="XHR response value is null or empty (server did not send anything)")}}class Ye{constructor(){this.m_FunctionNameRegex=new RegExp("(\\w+)(?:\\s+)?=(?:\\s+)?function","i"),this.m_FunctionRegexArray=[new RegExp(/\b[cs]\s*&&\s*[adf]\.set\([^,]+\s*,\s*encodeURIComponent\s*\(\s*([a-zA-Z0-9$]+)\(/,"gmi"),new RegExp(/\b[a-zA-Z0-9]+\s*&&\s*[a-zA-Z0-9]+\.set\([^,]+\s*,\s*encodeURIComponent\s*\(\s*([a-zA-Z0-9$]+)\(/,"gmi"),new RegExp(/\b([a-zA-Z0-9$]{2})\s*=\s*function\(\s*a\s*\)\s*{\s*a\s*=\s*a\.split\(\s*""\s*\)/,"gmi"),new RegExp(/([a-zA-Z0-9$]+)\s*=\s*function\(\s*a\s*\)\s*{\s*a\s*=\s*a\.split\(\s*""\s*\)/,"gmi"),new RegExp(/(["\\'])signature\1\s*,\s*([a-zA-Z0-9$]+)\(/,"gmi"),new RegExp(/\.sig\|\|([a-zA-Z0-9$]+)\(/,"gmi"),new RegExp(/yt\.akamaized\.net\/\)\s*\|\|\s*.*?\s*[cs]\s*&&\s*[adf]\.set\([^,]+\s*,\s*(?:encodeURIComponent\s*\()?\s*([a-zA-Z0-9$]+)\(/,"gmi"),new RegExp(/\b[cs]\s*&&\s*[adf]\.set\([^,]+\s*,\s*([a-zA-Z0-9$]+)\(/,"gmi"),new RegExp(/\b[a-zA-Z0-9]+\s*&&\s*[a-zA-Z0-9]+\.set\([^,]+\s*,\s*([a-zA-Z0-9$]+)\(/,"gmi"),new RegExp(/\bc\s*&&\s*a\.set\([^,]+\s*,\s*\([^)]*\)\s*\(\s*([a-zA-Z0-9$]+)\(/,"gmi"),new RegExp(/\bc\s*&&\s*[a-zA-Z0-9]+\.set\([^,]+\s*,\s*\([^)]*\)\s*\(\s*([a-zA-Z0-9$]+)\(/,"gmi"),new RegExp(/\bc\s*&&\s*[a-zA-Z0-9]+\.set\([^,]+\s*,\s*\([^)]*\)\s*\(\s*([a-zA-Z0-9$]+)\(/,"gmi")]}findDecryptionFunction(e){if(null==e||0==e.length)return null;for(let t of this.m_FunctionRegexArray){let n=e.match(t);if(null!=n){let e=n[0].match(this.m_FunctionNameRegex);if(null!=e)return e[1]}}return null}}var Ke={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},Je="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",Xe={5:Je,"5module":Je+" export import",6:Je+" const class extends export import super"},et=/^in(stanceof)?$/,tt="---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",nt="----------------------------------------------------------------------------------------------------------------------------------------------------",rt=new RegExp("["+tt+"]"),it=new RegExp("["+tt+nt+"]");tt=nt=null;var st=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,107,20,28,22,13,52,76,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,230,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,35,56,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,190,0,80,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8952,286,50,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,2357,44,11,6,17,0,370,43,1301,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42717,35,4148,12,221,3,5761,15,7472,3104,541,1507,4938],at=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,154,10,176,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,135,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,419,13,1495,6,110,6,6,9,4759,9,787719,239];function ot(e,t){for(var n=65536,r=0;r<t.length;r+=2){if((n+=t[r])>e)return!1;if((n+=t[r+1])>=e)return!0}}function lt(e,t){return e<65?36===e:e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&rt.test(String.fromCharCode(e)):!1!==t&&ot(e,st)))}function ct(e,t){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&it.test(String.fromCharCode(e)):!1!==t&&(ot(e,st)||ot(e,at)))))}var ut=function(e,t){void 0===t&&(t={}),this.label=e,this.keyword=t.keyword,this.beforeExpr=!!t.beforeExpr,this.startsExpr=!!t.startsExpr,this.isLoop=!!t.isLoop,this.isAssign=!!t.isAssign,this.prefix=!!t.prefix,this.postfix=!!t.postfix,this.binop=t.binop||null,this.updateContext=null};function ht(e,t){return new ut(e,{beforeExpr:!0,binop:t})}var pt={beforeExpr:!0},dt={startsExpr:!0},ft={};function mt(e,t){return void 0===t&&(t={}),t.keyword=e,ft[e]=new ut(e,t)}var gt={num:new ut("num",dt),regexp:new ut("regexp",dt),string:new ut("string",dt),name:new ut("name",dt),privateId:new ut("privateId",dt),eof:new ut("eof"),bracketL:new ut("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new ut("]"),braceL:new ut("{",{beforeExpr:!0,startsExpr:!0}),braceR:new ut("}"),parenL:new ut("(",{beforeExpr:!0,startsExpr:!0}),parenR:new ut(")"),comma:new ut(",",pt),semi:new ut(";",pt),colon:new ut(":",pt),dot:new ut("."),question:new ut("?",pt),questionDot:new ut("?."),arrow:new ut("=>",pt),template:new ut("template"),invalidTemplate:new ut("invalidTemplate"),ellipsis:new ut("...",pt),backQuote:new ut("`",dt),dollarBraceL:new ut("${",{beforeExpr:!0,startsExpr:!0}),eq:new ut("=",{beforeExpr:!0,isAssign:!0}),assign:new ut("_=",{beforeExpr:!0,isAssign:!0}),incDec:new ut("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new ut("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:ht("||",1),logicalAND:ht("&&",2),bitwiseOR:ht("|",3),bitwiseXOR:ht("^",4),bitwiseAND:ht("&",5),equality:ht("==/!=/===/!==",6),relational:ht("</>/<=/>=",7),bitShift:ht("<</>>/>>>",8),plusMin:new ut("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:ht("%",10),star:ht("*",10),slash:ht("/",10),starstar:new ut("**",{beforeExpr:!0}),coalesce:ht("??",1),_break:mt("break"),_case:mt("case",pt),_catch:mt("catch"),_continue:mt("continue"),_debugger:mt("debugger"),_default:mt("default",pt),_do:mt("do",{isLoop:!0,beforeExpr:!0}),_else:mt("else",pt),_finally:mt("finally"),_for:mt("for",{isLoop:!0}),_function:mt("function",dt),_if:mt("if"),_return:mt("return",pt),_switch:mt("switch"),_throw:mt("throw",pt),_try:mt("try"),_var:mt("var"),_const:mt("const"),_while:mt("while",{isLoop:!0}),_with:mt("with"),_new:mt("new",{beforeExpr:!0,startsExpr:!0}),_this:mt("this",dt),_super:mt("super",dt),_class:mt("class",dt),_extends:mt("extends",pt),_export:mt("export"),_import:mt("import",dt),_null:mt("null",dt),_true:mt("true",dt),_false:mt("false",dt),_in:mt("in",{beforeExpr:!0,binop:7}),_instanceof:mt("instanceof",{beforeExpr:!0,binop:7}),_typeof:mt("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:mt("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:mt("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},yt=/\r\n?|\n|\u2028|\u2029/,vt=new RegExp(yt.source,"g");function bt(e,t){return 10===e||13===e||!t&&(8232===e||8233===e)}var xt=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,wt=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,_t=Object.prototype,kt=_t.hasOwnProperty,St=_t.toString;function Et(e,t){return kt.call(e,t)}var It=Array.isArray||function(e){return"[object Array]"===St.call(e)};function Ct(e){return new RegExp("^(?:"+e.replace(/ /g,"|")+")$")}var Pt=function(e,t){this.line=e,this.column=t};Pt.prototype.offset=function(e){return new Pt(this.line,this.column+e)};var At=function(e,t,n){this.start=t,this.end=n,null!==e.sourceFile&&(this.source=e.sourceFile)};function Tt(e,t){for(var n=1,r=0;;){vt.lastIndex=r;var i=vt.exec(e);if(!(i&&i.index<t))return new Pt(n,t-r);++n,r=i.index+i[0].length}}var Vt={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},Dt=!1;var Rt=2,Nt=1|Rt,Lt=4,Mt=8;function Ot(e,t){return Rt|(e?Lt:0)|(t?Mt:0)}var Bt=function(e,t,n){this.options=e=function(e){var t={};for(var n in Vt)t[n]=e&&Et(e,n)?e[n]:Vt[n];if("latest"===t.ecmaVersion?t.ecmaVersion=1e8:null==t.ecmaVersion?(!Dt&&"object"==typeof console&&console.warn&&(Dt=!0),t.ecmaVersion=11):t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),null==t.allowReserved&&(t.allowReserved=t.ecmaVersion<5),It(t.onToken)){var r=t.onToken;t.onToken=function(e){return r.push(e)}}return It(t.onComment)&&(t.onComment=function(e,t){return function(n,r,i,s,a,o){var l={type:n?"Block":"Line",value:r,start:i,end:s};e.locations&&(l.loc=new At(this,a,o)),e.ranges&&(l.range=[i,s]),t.push(l)}}(t,t.onComment)),t}(e),this.sourceFile=e.sourceFile,this.keywords=Ct(Xe[e.ecmaVersion>=6?6:"module"===e.sourceType?"5module":5]);var r="";!0!==e.allowReserved&&(r=Ke[e.ecmaVersion>=6?6:5===e.ecmaVersion?5:3],"module"===e.sourceType&&(r+=" await")),this.reservedWords=Ct(r);var i=(r?r+" ":"")+Ke.strict;this.reservedWordsStrict=Ct(i),this.reservedWordsStrictBind=Ct(i+" "+Ke.strictBind),this.input=String(t),this.containsEsc=!1,n?(this.pos=n,this.lineStart=this.input.lastIndexOf("\n",n-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(yt).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=gt.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule="module"===e.sourceType,this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),0===this.pos&&e.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(1),this.regexpState=null,this.privateNameStack=[]},Ft={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},inNonArrowFunction:{configurable:!0}};Bt.prototype.parse=function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)},Ft.inFunction.get=function(){return(this.currentVarScope().flags&Rt)>0},Ft.inGenerator.get=function(){return(this.currentVarScope().flags&Mt)>0&&!this.currentVarScope().inClassFieldInit},Ft.inAsync.get=function(){return(this.currentVarScope().flags&Lt)>0&&!this.currentVarScope().inClassFieldInit},Ft.allowSuper.get=function(){var e=this.currentThisScope(),t=e.flags,n=e.inClassFieldInit;return(64&t)>0||n},Ft.allowDirectSuper.get=function(){return(128&this.currentThisScope().flags)>0},Ft.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},Ft.inNonArrowFunction.get=function(){var e=this.currentThisScope(),t=e.flags,n=e.inClassFieldInit;return(t&Rt)>0||n},Bt.extend=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var n=this,r=0;r<e.length;r++)n=e[r](n);return n},Bt.parse=function(e,t){return new this(t,e).parse()},Bt.parseExpressionAt=function(e,t,n){var r=new this(n,e,t);return r.nextToken(),r.parseExpression()},Bt.tokenizer=function(e,t){return new this(t,e)},Object.defineProperties(Bt.prototype,Ft);var Ut=Bt.prototype,jt=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;function Ht(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1}Ut.strictDirective=function(e){for(;;){wt.lastIndex=e,e+=wt.exec(this.input)[0].length;var t=jt.exec(this.input.slice(e));if(!t)return!1;if("use strict"===(t[1]||t[2])){wt.lastIndex=e+t[0].length;var n=wt.exec(this.input),r=n.index+n[0].length,i=this.input.charAt(r);return";"===i||"}"===i||yt.test(n[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(i)||"!"===i&&"="===this.input.charAt(r+1))}e+=t[0].length,wt.lastIndex=e,e+=wt.exec(this.input)[0].length,";"===this.input[e]&&e++}},Ut.eat=function(e){return this.type===e&&(this.next(),!0)},Ut.isContextual=function(e){return this.type===gt.name&&this.value===e&&!this.containsEsc},Ut.eatContextual=function(e){return!!this.isContextual(e)&&(this.next(),!0)},Ut.expectContextual=function(e){this.eatContextual(e)||this.unexpected()},Ut.canInsertSemicolon=function(){return this.type===gt.eof||this.type===gt.braceR||yt.test(this.input.slice(this.lastTokEnd,this.start))},Ut.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},Ut.semicolon=function(){this.eat(gt.semi)||this.insertSemicolon()||this.unexpected()},Ut.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0},Ut.expect=function(e){this.eat(e)||this.unexpected()},Ut.unexpected=function(e){this.raise(null!=e?e:this.start,"Unexpected token")},Ut.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var n=t?e.parenthesizedAssign:e.parenthesizedBind;n>-1&&this.raiseRecoverable(n,"Parenthesized pattern")}},Ut.checkExpressionErrors=function(e,t){if(!e)return!1;var n=e.shorthandAssign,r=e.doubleProto;if(!t)return n>=0||r>=0;n>=0&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),r>=0&&this.raiseRecoverable(r,"Redefinition of __proto__ property")},Ut.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},Ut.isSimpleAssignTarget=function(e){return"ParenthesizedExpression"===e.type?this.isSimpleAssignTarget(e.expression):"Identifier"===e.type||"MemberExpression"===e.type};var qt=Bt.prototype;qt.parseTopLevel=function(e){var t=Object.create(null);for(e.body||(e.body=[]);this.type!==gt.eof;){var n=this.parseStatement(null,!0,t);e.body.push(n)}if(this.inModule)for(var r=0,i=Object.keys(this.undefinedExports);r<i.length;r+=1){var s=i[r];this.raiseRecoverable(this.undefinedExports[s].start,"Export '"+s+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};var Wt={kind:"loop"},zt={kind:"switch"};qt.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;wt.lastIndex=this.pos;var t=wt.exec(this.input),n=this.pos+t[0].length,r=this.input.charCodeAt(n);if(91===r)return!0;if(e)return!1;if(123===r)return!0;if(lt(r,!0)){for(var i=n+1;ct(this.input.charCodeAt(i),!0);)++i;var s=this.input.slice(n,i);if(!et.test(s))return!0}return!1},qt.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;wt.lastIndex=this.pos;var e=wt.exec(this.input),t=this.pos+e[0].length;return!(yt.test(this.input.slice(this.pos,t))||"function"!==this.input.slice(t,t+8)||t+8!==this.input.length&&ct(this.input.charAt(t+8)))},qt.parseStatement=function(e,t,n){var r,i=this.type,s=this.startNode();switch(this.isLet(e)&&(i=gt._var,r="let"),i){case gt._break:case gt._continue:return this.parseBreakContinueStatement(s,i.keyword);case gt._debugger:return this.parseDebuggerStatement(s);case gt._do:return this.parseDoStatement(s);case gt._for:return this.parseForStatement(s);case gt._function:return e&&(this.strict||"if"!==e&&"label"!==e)&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(s,!1,!e);case gt._class:return e&&this.unexpected(),this.parseClass(s,!0);case gt._if:return this.parseIfStatement(s);case gt._return:return this.parseReturnStatement(s);case gt._switch:return this.parseSwitchStatement(s);case gt._throw:return this.parseThrowStatement(s);case gt._try:return this.parseTryStatement(s);case gt._const:case gt._var:return r=r||this.value,e&&"var"!==r&&this.unexpected(),this.parseVarStatement(s,r);case gt._while:return this.parseWhileStatement(s);case gt._with:return this.parseWithStatement(s);case gt.braceL:return this.parseBlock(!0,s);case gt.semi:return this.parseEmptyStatement(s);case gt._export:case gt._import:if(this.options.ecmaVersion>10&&i===gt._import){wt.lastIndex=this.pos;var a=wt.exec(this.input),o=this.pos+a[0].length,l=this.input.charCodeAt(o);if(40===l||46===l)return this.parseExpressionStatement(s,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),i===gt._import?this.parseImport(s):this.parseExport(s,n);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(s,!0,!e);var c=this.value,u=this.parseExpression();return i===gt.name&&"Identifier"===u.type&&this.eat(gt.colon)?this.parseLabeledStatement(s,c,u,e):this.parseExpressionStatement(s,u)}},qt.parseBreakContinueStatement=function(e,t){var n="break"===t;this.next(),this.eat(gt.semi)||this.insertSemicolon()?e.label=null:this.type!==gt.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var r=0;r<this.labels.length;++r){var i=this.labels[r];if(null==e.label||i.name===e.label.name){if(null!=i.kind&&(n||"loop"===i.kind))break;if(e.label&&n)break}}return r===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,n?"BreakStatement":"ContinueStatement")},qt.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")},qt.parseDoStatement=function(e){return this.next(),this.labels.push(Wt),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(gt._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(gt.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")},qt.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction)&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(Wt),this.enterScope(0),this.expect(gt.parenL),this.type===gt.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var n=this.isLet();if(this.type===gt._var||this.type===gt._const||n){var r=this.startNode(),i=n?"let":this.value;return this.next(),this.parseVar(r,!0,i),this.finishNode(r,"VariableDeclaration"),(this.type===gt._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&1===r.declarations.length?(this.options.ecmaVersion>=9&&(this.type===gt._in?t>-1&&this.unexpected(t):e.await=t>-1),this.parseForIn(e,r)):(t>-1&&this.unexpected(t),this.parseFor(e,r))}var s=new Ht,a=this.parseExpression(!(t>-1)||"await",s);return this.type===gt._in||this.options.ecmaVersion>=6&&this.isContextual("of")?(this.options.ecmaVersion>=9&&(this.type===gt._in?t>-1&&this.unexpected(t):e.await=t>-1),this.toAssignable(a,!1,s),this.checkLValPattern(a),this.parseForIn(e,a)):(this.checkExpressionErrors(s,!0),t>-1&&this.unexpected(t),this.parseFor(e,a))},qt.parseFunctionStatement=function(e,t,n){return this.next(),this.parseFunction(e,Gt|(n?0:Qt),!1,t)},qt.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(gt._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")},qt.parseReturnStatement=function(e){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(gt.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")},qt.parseSwitchStatement=function(e){var t;this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(gt.braceL),this.labels.push(zt),this.enterScope(0);for(var n=!1;this.type!==gt.braceR;)if(this.type===gt._case||this.type===gt._default){var r=this.type===gt._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),r?t.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,t.test=null),this.expect(gt.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")},qt.parseThrowStatement=function(e){return this.next(),yt.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var $t=[];qt.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===gt._catch){var t=this.startNode();if(this.next(),this.eat(gt.parenL)){t.param=this.parseBindingAtom();var n="Identifier"===t.param.type;this.enterScope(n?32:0),this.checkLValPattern(t.param,n?4:2),this.expect(gt.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0);t.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(gt._finally)?this.parseBlock():null,e.handler||e.finalizer||this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")},qt.parseVarStatement=function(e,t){return this.next(),this.parseVar(e,!1,t),this.semicolon(),this.finishNode(e,"VariableDeclaration")},qt.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(Wt),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")},qt.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")},qt.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")},qt.parseLabeledStatement=function(e,t,n,r){for(var i=0,s=this.labels;i<s.length;i+=1)s[i].name===t&&this.raise(n.start,"Label '"+t+"' is already declared");for(var a=this.type.isLoop?"loop":this.type===gt._switch?"switch":null,o=this.labels.length-1;o>=0;o--){var l=this.labels[o];if(l.statementStart!==e.start)break;l.statementStart=this.start,l.kind=a}return this.labels.push({name:t,kind:a,statementStart:this.start}),e.body=this.parseStatement(r?-1===r.indexOf("label")?r+"label":r:"label"),this.labels.pop(),e.label=n,this.finishNode(e,"LabeledStatement")},qt.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")},qt.parseBlock=function(e,t,n){for(void 0===e&&(e=!0),void 0===t&&(t=this.startNode()),t.body=[],this.expect(gt.braceL),e&&this.enterScope(0);this.type!==gt.braceR;){var r=this.parseStatement(null);t.body.push(r)}return n&&(this.strict=!1),this.next(),e&&this.exitScope(),this.finishNode(t,"BlockStatement")},qt.parseFor=function(e,t){return e.init=t,this.expect(gt.semi),e.test=this.type===gt.semi?null:this.parseExpression(),this.expect(gt.semi),e.update=this.type===gt.parenR?null:this.parseExpression(),this.expect(gt.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")},qt.parseForIn=function(e,t){var n=this.type===gt._in;return this.next(),"VariableDeclaration"===t.type&&null!=t.declarations[0].init&&(!n||this.options.ecmaVersion<8||this.strict||"var"!==t.kind||"Identifier"!==t.declarations[0].id.type)&&this.raise(t.start,(n?"for-in":"for-of")+" loop variable declaration may not have an initializer"),e.left=t,e.right=n?this.parseExpression():this.parseMaybeAssign(),this.expect(gt.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,n?"ForInStatement":"ForOfStatement")},qt.parseVar=function(e,t,n){for(e.declarations=[],e.kind=n;;){var r=this.startNode();if(this.parseVarId(r,n),this.eat(gt.eq)?r.init=this.parseMaybeAssign(t):"const"!==n||this.type===gt._in||this.options.ecmaVersion>=6&&this.isContextual("of")?"Identifier"===r.id.type||t&&(this.type===gt._in||this.isContextual("of"))?r.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.unexpected(),e.declarations.push(this.finishNode(r,"VariableDeclarator")),!this.eat(gt.comma))break}return e},qt.parseVarId=function(e,t){e.id=this.parseBindingAtom(),this.checkLValPattern(e.id,"var"===t?1:2,!1)};var Gt=1,Qt=2;function Zt(e,t){var n=t.key.name,r=e[n],i="true";return"MethodDefinition"!==t.type||"get"!==t.kind&&"set"!==t.kind||(i=(t.static?"s":"i")+t.kind),"iget"===r&&"iset"===i||"iset"===r&&"iget"===i||"sget"===r&&"sset"===i||"sset"===r&&"sget"===i?(e[n]="true",!1):!!r||(e[n]=i,!1)}function Yt(e,t){var n=e.computed,r=e.key;return!n&&("Identifier"===r.type&&r.name===t||"Literal"===r.type&&r.value===t)}qt.parseFunction=function(e,t,n,r){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!r)&&(this.type===gt.star&&t&Qt&&this.unexpected(),e.generator=this.eat(gt.star)),this.options.ecmaVersion>=8&&(e.async=!!r),t&Gt&&(e.id=4&t&&this.type!==gt.name?null:this.parseIdent(),!e.id||t&Qt||this.checkLValSimple(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?1:2:3));var i=this.yieldPos,s=this.awaitPos,a=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Ot(e.async,e.generator)),t&Gt||(e.id=this.type===gt.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,n,!1),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=a,this.finishNode(e,t&Gt?"FunctionDeclaration":"FunctionExpression")},qt.parseFunctionParams=function(e){this.expect(gt.parenL),e.params=this.parseBindingList(gt.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},qt.parseClass=function(e,t){this.next();var n=this.strict;this.strict=!0,this.parseClassId(e,t),this.parseClassSuper(e);var r=this.enterClassBody(),i=this.startNode(),s=!1;for(i.body=[],this.expect(gt.braceL);this.type!==gt.braceR;){var a=this.parseClassElement(null!==e.superClass);a&&(i.body.push(a),"MethodDefinition"===a.type&&"constructor"===a.kind?(s&&this.raise(a.start,"Duplicate constructor in the same class"),s=!0):"PrivateIdentifier"===a.key.type&&Zt(r,a)&&this.raiseRecoverable(a.key.start,"Identifier '#"+a.key.name+"' has already been declared"))}return this.strict=n,this.next(),e.body=this.finishNode(i,"ClassBody"),this.exitClassBody(),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")},qt.parseClassElement=function(e){if(this.eat(gt.semi))return null;var t=this.options.ecmaVersion,n=this.startNode(),r="",i=!1,s=!1,a="method";if(n.static=!1,this.eatContextual("static")&&(this.isClassElementNameStart()||this.type===gt.star?n.static=!0:r="static"),!r&&t>=8&&this.eatContextual("async")&&(!this.isClassElementNameStart()&&this.type!==gt.star||this.canInsertSemicolon()?r="async":s=!0),!r&&(t>=9||!s)&&this.eat(gt.star)&&(i=!0),!r&&!s&&!i){var o=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?a=o:r=o)}if(r?(n.computed=!1,n.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),n.key.name=r,this.finishNode(n.key,"Identifier")):this.parseClassElementName(n),t<13||this.type===gt.parenL||"method"!==a||i||s){var l=!n.static&&Yt(n,"constructor"),c=l&&e;l&&"method"!==a&&this.raise(n.key.start,"Constructor can't have get/set modifier"),n.kind=l?"constructor":a,this.parseClassMethod(n,i,s,c)}else this.parseClassField(n);return n},qt.isClassElementNameStart=function(){return this.type===gt.name||this.type===gt.privateId||this.type===gt.num||this.type===gt.string||this.type===gt.bracketL||this.type.keyword},qt.parseClassElementName=function(e){this.type===gt.privateId?("constructor"===this.value&&this.raise(this.start,"Classes can't have an element named '#constructor'"),e.computed=!1,e.key=this.parsePrivateIdent()):this.parsePropertyName(e)},qt.parseClassMethod=function(e,t,n,r){var i=e.key;"constructor"===e.kind?(t&&this.raise(i.start,"Constructor can't be a generator"),n&&this.raise(i.start,"Constructor can't be an async method")):e.static&&Yt(e,"prototype")&&this.raise(i.start,"Classes may not have a static property named prototype");var s=e.value=this.parseMethod(t,n,r);return"get"===e.kind&&0!==s.params.length&&this.raiseRecoverable(s.start,"getter should have no params"),"set"===e.kind&&1!==s.params.length&&this.raiseRecoverable(s.start,"setter should have exactly one param"),"set"===e.kind&&"RestElement"===s.params[0].type&&this.raiseRecoverable(s.params[0].start,"Setter cannot use rest params"),this.finishNode(e,"MethodDefinition")},qt.parseClassField=function(e){if(Yt(e,"constructor")?this.raise(e.key.start,"Classes can't have a field named 'constructor'"):e.static&&Yt(e,"prototype")&&this.raise(e.key.start,"Classes can't have a static field named 'prototype'"),this.eat(gt.eq)){var t=this.currentThisScope(),n=t.inClassFieldInit;t.inClassFieldInit=!0,e.value=this.parseMaybeAssign(),t.inClassFieldInit=n}else e.value=null;return this.semicolon(),this.finishNode(e,"PropertyDefinition")},qt.parseClassId=function(e,t){this.type===gt.name?(e.id=this.parseIdent(),t&&this.checkLValSimple(e.id,2,!1)):(!0===t&&this.unexpected(),e.id=null)},qt.parseClassSuper=function(e){e.superClass=this.eat(gt._extends)?this.parseExprSubscripts():null},qt.enterClassBody=function(){var e={declared:Object.create(null),used:[]};return this.privateNameStack.push(e),e.declared},qt.exitClassBody=function(){for(var e=this.privateNameStack.pop(),t=e.declared,n=e.used,r=this.privateNameStack.length,i=0===r?null:this.privateNameStack[r-1],s=0;s<n.length;++s){var a=n[s];Et(t,a.name)||(i?i.used.push(a):this.raiseRecoverable(a.start,"Private field '#"+a.name+"' must be declared in an enclosing class"))}},qt.parseExport=function(e,t){if(this.next(),this.eat(gt.star))return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(e.exported=this.parseIdent(!0),this.checkExport(t,e.exported.name,this.lastTokStart)):e.exported=null),this.expectContextual("from"),this.type!==gt.string&&this.unexpected(),e.source=this.parseExprAtom(),this.semicolon(),this.finishNode(e,"ExportAllDeclaration");if(this.eat(gt._default)){var n;if(this.checkExport(t,"default",this.lastTokStart),this.type===gt._function||(n=this.isAsyncFunction())){var r=this.startNode();this.next(),n&&this.next(),e.declaration=this.parseFunction(r,4|Gt,!1,n)}else if(this.type===gt._class){var i=this.startNode();e.declaration=this.parseClass(i,"nullableID")}else e.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(e,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())e.declaration=this.parseStatement(null),"VariableDeclaration"===e.declaration.type?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id.name,e.declaration.id.start),e.specifiers=[],e.source=null;else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==gt.string&&this.unexpected(),e.source=this.parseExprAtom();else{for(var s=0,a=e.specifiers;s<a.length;s+=1){var o=a[s];this.checkUnreserved(o.local),this.checkLocalExport(o.local)}e.source=null}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")},qt.checkExport=function(e,t,n){e&&(Et(e,t)&&this.raiseRecoverable(n,"Duplicate export '"+t+"'"),e[t]=!0)},qt.checkPatternExport=function(e,t){var n=t.type;if("Identifier"===n)this.checkExport(e,t.name,t.start);else if("ObjectPattern"===n)for(var r=0,i=t.properties;r<i.length;r+=1){var s=i[r];this.checkPatternExport(e,s)}else if("ArrayPattern"===n)for(var a=0,o=t.elements;a<o.length;a+=1){var l=o[a];l&&this.checkPatternExport(e,l)}else"Property"===n?this.checkPatternExport(e,t.value):"AssignmentPattern"===n?this.checkPatternExport(e,t.left):"RestElement"===n?this.checkPatternExport(e,t.argument):"ParenthesizedExpression"===n&&this.checkPatternExport(e,t.expression)},qt.checkVariableExport=function(e,t){if(e)for(var n=0,r=t;n<r.length;n+=1){var i=r[n];this.checkPatternExport(e,i.id)}},qt.shouldParseExportStatement=function(){return"var"===this.type.keyword||"const"===this.type.keyword||"class"===this.type.keyword||"function"===this.type.keyword||this.isLet()||this.isAsyncFunction()},qt.parseExportSpecifiers=function(e){var t=[],n=!0;for(this.expect(gt.braceL);!this.eat(gt.braceR);){if(n)n=!1;else if(this.expect(gt.comma),this.afterTrailingComma(gt.braceR))break;var r=this.startNode();r.local=this.parseIdent(!0),r.exported=this.eatContextual("as")?this.parseIdent(!0):r.local,this.checkExport(e,r.exported.name,r.exported.start),t.push(this.finishNode(r,"ExportSpecifier"))}return t},qt.parseImport=function(e){return this.next(),this.type===gt.string?(e.specifiers=$t,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===gt.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(e,"ImportDeclaration")},qt.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===gt.name){var n=this.startNode();if(n.local=this.parseIdent(),this.checkLValSimple(n.local,2),e.push(this.finishNode(n,"ImportDefaultSpecifier")),!this.eat(gt.comma))return e}if(this.type===gt.star){var r=this.startNode();return this.next(),this.expectContextual("as"),r.local=this.parseIdent(),this.checkLValSimple(r.local,2),e.push(this.finishNode(r,"ImportNamespaceSpecifier")),e}for(this.expect(gt.braceL);!this.eat(gt.braceR);){if(t)t=!1;else if(this.expect(gt.comma),this.afterTrailingComma(gt.braceR))break;var i=this.startNode();i.imported=this.parseIdent(!0),this.eatContextual("as")?i.local=this.parseIdent():(this.checkUnreserved(i.imported),i.local=i.imported),this.checkLValSimple(i.local,2),e.push(this.finishNode(i,"ImportSpecifier"))}return e},qt.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)},qt.isDirectiveCandidate=function(e){return"ExpressionStatement"===e.type&&"Literal"===e.expression.type&&"string"==typeof e.expression.value&&('"'===this.input[e.start]||"'"===this.input[e.start])};var Kt=Bt.prototype;Kt.toAssignable=function(e,t,n){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&"await"===e.name&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var r=0,i=e.properties;r<i.length;r+=1){var s=i[r];this.toAssignable(s,t),"RestElement"!==s.type||"ArrayPattern"!==s.argument.type&&"ObjectPattern"!==s.argument.type||this.raise(s.argument.start,"Unexpected token")}break;case"Property":"init"!==e.kind&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),"AssignmentPattern"===e.argument.type&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":"="!==e.operator&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);break;case"ParenthesizedExpression":this.toAssignable(e.expression,t,n);break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return e},Kt.toAssignableList=function(e,t){for(var n=e.length,r=0;r<n;r++){var i=e[r];i&&this.toAssignable(i,t)}if(n){var s=e[n-1];6===this.options.ecmaVersion&&t&&s&&"RestElement"===s.type&&"Identifier"!==s.argument.type&&this.unexpected(s.argument.start)}return e},Kt.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")},Kt.parseRestBinding=function(){var e=this.startNode();return this.next(),6===this.options.ecmaVersion&&this.type!==gt.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")},Kt.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case gt.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(gt.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case gt.braceL:return this.parseObj(!0)}return this.parseIdent()},Kt.parseBindingList=function(e,t,n){for(var r=[],i=!0;!this.eat(e);)if(i?i=!1:this.expect(gt.comma),t&&this.type===gt.comma)r.push(null);else{if(n&&this.afterTrailingComma(e))break;if(this.type===gt.ellipsis){var s=this.parseRestBinding();this.parseBindingListItem(s),r.push(s),this.type===gt.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}var a=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(a),r.push(a)}return r},Kt.parseBindingListItem=function(e){return e},Kt.parseMaybeDefault=function(e,t,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(gt.eq))return n;var r=this.startNodeAt(e,t);return r.left=n,r.right=this.parseMaybeAssign(),this.finishNode(r,"AssignmentPattern")},Kt.checkLValSimple=function(e,t,n){void 0===t&&(t=0);var r=0!==t;switch(e.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(r?"Binding ":"Assigning to ")+e.name+" in strict mode"),r&&(2===t&&"let"===e.name&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),n&&(Et(n,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),n[e.name]=!0),5!==t&&this.declareName(e.name,t,e.start));break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":r&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ParenthesizedExpression":return r&&this.raiseRecoverable(e.start,"Binding parenthesized expression"),this.checkLValSimple(e.expression,t,n);default:this.raise(e.start,(r?"Binding":"Assigning to")+" rvalue")}},Kt.checkLValPattern=function(e,t,n){switch(void 0===t&&(t=0),e.type){case"ObjectPattern":for(var r=0,i=e.properties;r<i.length;r+=1){var s=i[r];this.checkLValInnerPattern(s,t,n)}break;case"ArrayPattern":for(var a=0,o=e.elements;a<o.length;a+=1){var l=o[a];l&&this.checkLValInnerPattern(l,t,n)}break;default:this.checkLValSimple(e,t,n)}},Kt.checkLValInnerPattern=function(e,t,n){switch(void 0===t&&(t=0),e.type){case"Property":this.checkLValInnerPattern(e.value,t,n);break;case"AssignmentPattern":this.checkLValPattern(e.left,t,n);break;case"RestElement":this.checkLValPattern(e.argument,t,n);break;default:this.checkLValPattern(e,t,n)}};var Jt=Bt.prototype;function Xt(e){return"MemberExpression"===e.type&&"PrivateIdentifier"===e.property.type||"ChainExpression"===e.type&&Xt(e.expression)}Jt.checkPropClash=function(e,t,n){if(!(this.options.ecmaVersion>=9&&"SpreadElement"===e.type||this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var r,i=e.key;switch(i.type){case"Identifier":r=i.name;break;case"Literal":r=String(i.value);break;default:return}var s=e.kind;if(this.options.ecmaVersion>=6)"__proto__"===r&&"init"===s&&(t.proto&&(n?n.doubleProto<0&&(n.doubleProto=i.start):this.raiseRecoverable(i.start,"Redefinition of __proto__ property")),t.proto=!0);else{var a=t[r="$"+r];a?("init"===s?this.strict&&a.init||a.get||a.set:a.init||a[s])&&this.raiseRecoverable(i.start,"Redefinition of property"):a=t[r]={init:!1,get:!1,set:!1},a[s]=!0}}},Jt.parseExpression=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeAssign(e,t);if(this.type===gt.comma){var s=this.startNodeAt(n,r);for(s.expressions=[i];this.eat(gt.comma);)s.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(s,"SequenceExpression")}return i},Jt.parseMaybeAssign=function(e,t,n){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var r=!1,i=-1,s=-1;t?(i=t.parenthesizedAssign,s=t.trailingComma,t.parenthesizedAssign=t.trailingComma=-1):(t=new Ht,r=!0);var a=this.start,o=this.startLoc;this.type!==gt.parenL&&this.type!==gt.name||(this.potentialArrowAt=this.start,this.potentialArrowInForAwait="await"===e);var l=this.parseMaybeConditional(e,t);if(n&&(l=n.call(this,l,a,o)),this.type.isAssign){var c=this.startNodeAt(a,o);return c.operator=this.value,this.type===gt.eq&&(l=this.toAssignable(l,!1,t)),r||(t.parenthesizedAssign=t.trailingComma=t.doubleProto=-1),t.shorthandAssign>=l.start&&(t.shorthandAssign=-1),this.type===gt.eq?this.checkLValPattern(l):this.checkLValSimple(l),c.left=l,this.next(),c.right=this.parseMaybeAssign(e),this.finishNode(c,"AssignmentExpression")}return r&&this.checkExpressionErrors(t,!0),i>-1&&(t.parenthesizedAssign=i),s>-1&&(t.trailingComma=s),l},Jt.parseMaybeConditional=function(e,t){var n=this.start,r=this.startLoc,i=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return i;if(this.eat(gt.question)){var s=this.startNodeAt(n,r);return s.test=i,s.consequent=this.parseMaybeAssign(),this.expect(gt.colon),s.alternate=this.parseMaybeAssign(e),this.finishNode(s,"ConditionalExpression")}return i},Jt.parseExprOps=function(e,t){var n=this.start,r=this.startLoc,i=this.parseMaybeUnary(t,!1);return this.checkExpressionErrors(t)||i.start===n&&"ArrowFunctionExpression"===i.type?i:this.parseExprOp(i,n,r,-1,e)},Jt.parseExprOp=function(e,t,n,r,i){var s=this.type.binop;if(null!=s&&(!i||this.type!==gt._in)&&s>r){var a=this.type===gt.logicalOR||this.type===gt.logicalAND,o=this.type===gt.coalesce;o&&(s=gt.logicalAND.binop);var l=this.value;this.next();var c=this.start,u=this.startLoc,h=this.parseExprOp(this.parseMaybeUnary(null,!1),c,u,s,i),p=this.buildBinary(t,n,e,h,l,a||o);return(a&&this.type===gt.coalesce||o&&(this.type===gt.logicalOR||this.type===gt.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(p,t,n,r,i)}return e},Jt.buildBinary=function(e,t,n,r,i,s){var a=this.startNodeAt(e,t);return a.left=n,a.operator=i,a.right=r,this.finishNode(a,s?"LogicalExpression":"BinaryExpression")},Jt.parseMaybeUnary=function(e,t,n){var r,i=this.start,s=this.startLoc;if(this.isContextual("await")&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction))r=this.parseAwait(),t=!0;else if(this.type.prefix){var a=this.startNode(),o=this.type===gt.incDec;a.operator=this.value,a.prefix=!0,this.next(),a.argument=this.parseMaybeUnary(null,!0,o),this.checkExpressionErrors(e,!0),o?this.checkLValSimple(a.argument):this.strict&&"delete"===a.operator&&"Identifier"===a.argument.type?this.raiseRecoverable(a.start,"Deleting local variable in strict mode"):"delete"===a.operator&&Xt(a.argument)?this.raiseRecoverable(a.start,"Private fields can not be deleted"):t=!0,r=this.finishNode(a,o?"UpdateExpression":"UnaryExpression")}else{if(r=this.parseExprSubscripts(e),this.checkExpressionErrors(e))return r;for(;this.type.postfix&&!this.canInsertSemicolon();){var l=this.startNodeAt(i,s);l.operator=this.value,l.prefix=!1,l.argument=r,this.checkLValSimple(r),this.next(),r=this.finishNode(l,"UpdateExpression")}}return n||!this.eat(gt.starstar)?r:t?void this.unexpected(this.lastTokStart):this.buildBinary(i,s,r,this.parseMaybeUnary(null,!1),"**",!1)},Jt.parseExprSubscripts=function(e){var t=this.start,n=this.startLoc,r=this.parseExprAtom(e);if("ArrowFunctionExpression"===r.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd))return r;var i=this.parseSubscripts(r,t,n);return e&&"MemberExpression"===i.type&&(e.parenthesizedAssign>=i.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=i.start&&(e.parenthesizedBind=-1),e.trailingComma>=i.start&&(e.trailingComma=-1)),i},Jt.parseSubscripts=function(e,t,n,r){for(var i=this.options.ecmaVersion>=8&&"Identifier"===e.type&&"async"===e.name&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&e.end-e.start==5&&this.potentialArrowAt===e.start,s=!1;;){var a=this.parseSubscript(e,t,n,r,i,s);if(a.optional&&(s=!0),a===e||"ArrowFunctionExpression"===a.type){if(s){var o=this.startNodeAt(t,n);o.expression=a,a=this.finishNode(o,"ChainExpression")}return a}e=a}},Jt.parseSubscript=function(e,t,n,r,i,s){var a=this.options.ecmaVersion>=11,o=a&&this.eat(gt.questionDot);r&&o&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var l=this.eat(gt.bracketL);if(l||o&&this.type!==gt.parenL&&this.type!==gt.backQuote||this.eat(gt.dot)){var c=this.startNodeAt(t,n);c.object=e,l?(c.property=this.parseExpression(),this.expect(gt.bracketR)):this.type===gt.privateId&&"Super"!==e.type?c.property=this.parsePrivateIdent():c.property=this.parseIdent("never"!==this.options.allowReserved),c.computed=!!l,a&&(c.optional=o),e=this.finishNode(c,"MemberExpression")}else if(!r&&this.eat(gt.parenL)){var u=new Ht,h=this.yieldPos,p=this.awaitPos,d=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var f=this.parseExprList(gt.parenR,this.options.ecmaVersion>=8,!1,u);if(i&&!o&&!this.canInsertSemicolon()&&this.eat(gt.arrow))return this.checkPatternErrors(u,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=h,this.awaitPos=p,this.awaitIdentPos=d,this.parseArrowExpression(this.startNodeAt(t,n),f,!0);this.checkExpressionErrors(u,!0),this.yieldPos=h||this.yieldPos,this.awaitPos=p||this.awaitPos,this.awaitIdentPos=d||this.awaitIdentPos;var m=this.startNodeAt(t,n);m.callee=e,m.arguments=f,a&&(m.optional=o),e=this.finishNode(m,"CallExpression")}else if(this.type===gt.backQuote){(o||s)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var g=this.startNodeAt(t,n);g.tag=e,g.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(g,"TaggedTemplateExpression")}return e},Jt.parseExprAtom=function(e){this.type===gt.slash&&this.readRegexp();var t,n=this.potentialArrowAt===this.start;switch(this.type){case gt._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),t=this.startNode(),this.next(),this.type!==gt.parenL||this.allowDirectSuper||this.raise(t.start,"super() call outside constructor of a subclass"),this.type!==gt.dot&&this.type!==gt.bracketL&&this.type!==gt.parenL&&this.unexpected(),this.finishNode(t,"Super");case gt._this:return t=this.startNode(),this.next(),this.finishNode(t,"ThisExpression");case gt.name:var r=this.start,i=this.startLoc,s=this.containsEsc,a=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!s&&"async"===a.name&&!this.canInsertSemicolon()&&this.eat(gt._function))return this.parseFunction(this.startNodeAt(r,i),0,!1,!0);if(n&&!this.canInsertSemicolon()){if(this.eat(gt.arrow))return this.parseArrowExpression(this.startNodeAt(r,i),[a],!1);if(this.options.ecmaVersion>=8&&"async"===a.name&&this.type===gt.name&&!s&&(!this.potentialArrowInForAwait||"of"!==this.value||this.containsEsc))return a=this.parseIdent(!1),!this.canInsertSemicolon()&&this.eat(gt.arrow)||this.unexpected(),this.parseArrowExpression(this.startNodeAt(r,i),[a],!0)}return a;case gt.regexp:var o=this.value;return(t=this.parseLiteral(o.value)).regex={pattern:o.pattern,flags:o.flags},t;case gt.num:case gt.string:return this.parseLiteral(this.value);case gt._null:case gt._true:case gt._false:return(t=this.startNode()).value=this.type===gt._null?null:this.type===gt._true,t.raw=this.type.keyword,this.next(),this.finishNode(t,"Literal");case gt.parenL:var l=this.start,c=this.parseParenAndDistinguishExpression(n);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(c)&&(e.parenthesizedAssign=l),e.parenthesizedBind<0&&(e.parenthesizedBind=l)),c;case gt.bracketL:return t=this.startNode(),this.next(),t.elements=this.parseExprList(gt.bracketR,!0,!0,e),this.finishNode(t,"ArrayExpression");case gt.braceL:return this.parseObj(!1,e);case gt._function:return t=this.startNode(),this.next(),this.parseFunction(t,0);case gt._class:return this.parseClass(this.startNode(),!1);case gt._new:return this.parseNew();case gt.backQuote:return this.parseTemplate();case gt._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.unexpected();default:this.unexpected()}},Jt.parseExprImport=function(){var e=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var t=this.parseIdent(!0);switch(this.type){case gt.parenL:return this.parseDynamicImport(e);case gt.dot:return e.meta=t,this.parseImportMeta(e);default:this.unexpected()}},Jt.parseDynamicImport=function(e){if(this.next(),e.source=this.parseMaybeAssign(),!this.eat(gt.parenR)){var t=this.start;this.eat(gt.comma)&&this.eat(gt.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(e,"ImportExpression")},Jt.parseImportMeta=function(e){this.next();var t=this.containsEsc;return e.property=this.parseIdent(!0),"meta"!==e.property.name&&this.raiseRecoverable(e.property.start,"The only valid meta property for import is 'import.meta'"),t&&this.raiseRecoverable(e.start,"'import.meta' must not contain escaped characters"),"module"===this.options.sourceType||this.options.allowImportExportEverywhere||this.raiseRecoverable(e.start,"Cannot use 'import.meta' outside a module"),this.finishNode(e,"MetaProperty")},Jt.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),110===t.raw.charCodeAt(t.raw.length-1)&&(t.bigint=t.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(t,"Literal")},Jt.parseParenExpression=function(){this.expect(gt.parenL);var e=this.parseExpression();return this.expect(gt.parenR),e},Jt.parseParenAndDistinguishExpression=function(e){var t,n=this.start,r=this.startLoc,i=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var s,a=this.start,o=this.startLoc,l=[],c=!0,u=!1,h=new Ht,p=this.yieldPos,d=this.awaitPos;for(this.yieldPos=0,this.awaitPos=0;this.type!==gt.parenR;){if(c?c=!1:this.expect(gt.comma),i&&this.afterTrailingComma(gt.parenR,!0)){u=!0;break}if(this.type===gt.ellipsis){s=this.start,l.push(this.parseParenItem(this.parseRestBinding())),this.type===gt.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}l.push(this.parseMaybeAssign(!1,h,this.parseParenItem))}var f=this.start,m=this.startLoc;if(this.expect(gt.parenR),e&&!this.canInsertSemicolon()&&this.eat(gt.arrow))return this.checkPatternErrors(h,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=p,this.awaitPos=d,this.parseParenArrowList(n,r,l);l.length&&!u||this.unexpected(this.lastTokStart),s&&this.unexpected(s),this.checkExpressionErrors(h,!0),this.yieldPos=p||this.yieldPos,this.awaitPos=d||this.awaitPos,l.length>1?((t=this.startNodeAt(a,o)).expressions=l,this.finishNodeAt(t,"SequenceExpression",f,m)):t=l[0]}else t=this.parseParenExpression();if(this.options.preserveParens){var g=this.startNodeAt(n,r);return g.expression=t,this.finishNode(g,"ParenthesizedExpression")}return t},Jt.parseParenItem=function(e){return e},Jt.parseParenArrowList=function(e,t,n){return this.parseArrowExpression(this.startNodeAt(e,t),n)};var en=[];Jt.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var e=this.startNode(),t=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(gt.dot)){e.meta=t;var n=this.containsEsc;return e.property=this.parseIdent(!0),"target"!==e.property.name&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is 'new.target'"),n&&this.raiseRecoverable(e.start,"'new.target' must not contain escaped characters"),this.inNonArrowFunction||this.raiseRecoverable(e.start,"'new.target' can only be used in functions"),this.finishNode(e,"MetaProperty")}var r=this.start,i=this.startLoc,s=this.type===gt._import;return e.callee=this.parseSubscripts(this.parseExprAtom(),r,i,!0),s&&"ImportExpression"===e.callee.type&&this.raise(r,"Cannot use new with import()"),this.eat(gt.parenL)?e.arguments=this.parseExprList(gt.parenR,this.options.ecmaVersion>=8,!1):e.arguments=en,this.finishNode(e,"NewExpression")},Jt.parseTemplateElement=function(e){var t=e.isTagged,n=this.startNode();return this.type===gt.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value,cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),n.tail=this.type===gt.backQuote,this.finishNode(n,"TemplateElement")},Jt.parseTemplate=function(e){void 0===e&&(e={});var t=e.isTagged;void 0===t&&(t=!1);var n=this.startNode();this.next(),n.expressions=[];var r=this.parseTemplateElement({isTagged:t});for(n.quasis=[r];!r.tail;)this.type===gt.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(gt.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(gt.braceR),n.quasis.push(r=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(n,"TemplateLiteral")},Jt.isAsyncProp=function(e){return!e.computed&&"Identifier"===e.key.type&&"async"===e.key.name&&(this.type===gt.name||this.type===gt.num||this.type===gt.string||this.type===gt.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===gt.star)&&!yt.test(this.input.slice(this.lastTokEnd,this.start))},Jt.parseObj=function(e,t){var n=this.startNode(),r=!0,i={};for(n.properties=[],this.next();!this.eat(gt.braceR);){if(r)r=!1;else if(this.expect(gt.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(gt.braceR))break;var s=this.parseProperty(e,t);e||this.checkPropClash(s,i,t),n.properties.push(s)}return this.finishNode(n,e?"ObjectPattern":"ObjectExpression")},Jt.parseProperty=function(e,t){var n,r,i,s,a=this.startNode();if(this.options.ecmaVersion>=9&&this.eat(gt.ellipsis))return e?(a.argument=this.parseIdent(!1),this.type===gt.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(a,"RestElement")):(this.type===gt.parenL&&t&&(t.parenthesizedAssign<0&&(t.parenthesizedAssign=this.start),t.parenthesizedBind<0&&(t.parenthesizedBind=this.start)),a.argument=this.parseMaybeAssign(!1,t),this.type===gt.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(a,"SpreadElement"));this.options.ecmaVersion>=6&&(a.method=!1,a.shorthand=!1,(e||t)&&(i=this.start,s=this.startLoc),e||(n=this.eat(gt.star)));var o=this.containsEsc;return this.parsePropertyName(a),!e&&!o&&this.options.ecmaVersion>=8&&!n&&this.isAsyncProp(a)?(r=!0,n=this.options.ecmaVersion>=9&&this.eat(gt.star),this.parsePropertyName(a,t)):r=!1,this.parsePropertyValue(a,e,n,r,i,s,t,o),this.finishNode(a,"Property")},Jt.parsePropertyValue=function(e,t,n,r,i,s,a,o){if((n||r)&&this.type===gt.colon&&this.unexpected(),this.eat(gt.colon))e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,a),e.kind="init";else if(this.options.ecmaVersion>=6&&this.type===gt.parenL)t&&this.unexpected(),e.kind="init",e.method=!0,e.value=this.parseMethod(n,r);else if(t||o||!(this.options.ecmaVersion>=5)||e.computed||"Identifier"!==e.key.type||"get"!==e.key.name&&"set"!==e.key.name||this.type===gt.comma||this.type===gt.braceR||this.type===gt.eq)this.options.ecmaVersion>=6&&!e.computed&&"Identifier"===e.key.type?((n||r)&&this.unexpected(),this.checkUnreserved(e.key),"await"!==e.key.name||this.awaitIdentPos||(this.awaitIdentPos=i),e.kind="init",t?e.value=this.parseMaybeDefault(i,s,this.copyNode(e.key)):this.type===gt.eq&&a?(a.shorthandAssign<0&&(a.shorthandAssign=this.start),e.value=this.parseMaybeDefault(i,s,this.copyNode(e.key))):e.value=this.copyNode(e.key),e.shorthand=!0):this.unexpected();else{(n||r)&&this.unexpected(),e.kind=e.key.name,this.parsePropertyName(e),e.value=this.parseMethod(!1);var l="get"===e.kind?0:1;if(e.value.params.length!==l){var c=e.value.start;"get"===e.kind?this.raiseRecoverable(c,"getter should have no params"):this.raiseRecoverable(c,"setter should have exactly one param")}else"set"===e.kind&&"RestElement"===e.value.params[0].type&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")}},Jt.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(gt.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(gt.bracketR),e.key;e.computed=!1}return e.key=this.type===gt.num||this.type===gt.string?this.parseExprAtom():this.parseIdent("never"!==this.options.allowReserved)},Jt.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)},Jt.parseMethod=function(e,t,n){var r=this.startNode(),i=this.yieldPos,s=this.awaitPos,a=this.awaitIdentPos;return this.initFunction(r),this.options.ecmaVersion>=6&&(r.generator=e),this.options.ecmaVersion>=8&&(r.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(64|Ot(t,r.generator)|(n?128:0)),this.expect(gt.parenL),r.params=this.parseBindingList(gt.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(r,!1,!0),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=a,this.finishNode(r,"FunctionExpression")},Jt.parseArrowExpression=function(e,t,n){var r=this.yieldPos,i=this.awaitPos,s=this.awaitIdentPos;return this.enterScope(16|Ot(n,!1)),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!n),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0,!1),this.yieldPos=r,this.awaitPos=i,this.awaitIdentPos=s,this.finishNode(e,"ArrowFunctionExpression")},Jt.parseFunctionBody=function(e,t,n){var r=t&&this.type!==gt.braceL,i=this.strict,s=!1;if(r)e.body=this.parseMaybeAssign(),e.expression=!0,this.checkParams(e,!1);else{var a=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);i&&!a||(s=this.strictDirective(this.end))&&a&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list");var o=this.labels;this.labels=[],s&&(this.strict=!0),this.checkParams(e,!i&&!s&&!t&&!n&&this.isSimpleParamList(e.params)),this.strict&&e.id&&this.checkLValSimple(e.id,5),e.body=this.parseBlock(!1,void 0,s&&!i),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=o}this.exitScope()},Jt.isSimpleParamList=function(e){for(var t=0,n=e;t<n.length;t+=1)if("Identifier"!==n[t].type)return!1;return!0},Jt.checkParams=function(e,t){for(var n=Object.create(null),r=0,i=e.params;r<i.length;r+=1){var s=i[r];this.checkLValInnerPattern(s,1,t?null:n)}},Jt.parseExprList=function(e,t,n,r){for(var i=[],s=!0;!this.eat(e);){if(s)s=!1;else if(this.expect(gt.comma),t&&this.afterTrailingComma(e))break;var a=void 0;n&&this.type===gt.comma?a=null:this.type===gt.ellipsis?(a=this.parseSpread(r),r&&this.type===gt.comma&&r.trailingComma<0&&(r.trailingComma=this.start)):a=this.parseMaybeAssign(!1,r),i.push(a)}return i},Jt.checkUnreserved=function(e){var t=e.start,n=e.end,r=e.name;this.inGenerator&&"yield"===r&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&"await"===r&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&"arguments"===r&&this.raiseRecoverable(t,"Cannot use 'arguments' in class field initializer"),this.keywords.test(r)&&this.raise(t,"Unexpected keyword '"+r+"'"),this.options.ecmaVersion<6&&-1!==this.input.slice(t,n).indexOf("\\")||(this.strict?this.reservedWordsStrict:this.reservedWords).test(r)&&(this.inAsync||"await"!==r||this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+r+"' is reserved"))},Jt.parseIdent=function(e,t){var n=this.startNode();return this.type===gt.name?n.name=this.value:this.type.keyword?(n.name=this.type.keyword,"class"!==n.name&&"function"!==n.name||this.lastTokEnd===this.lastTokStart+1&&46===this.input.charCodeAt(this.lastTokStart)||this.context.pop()):this.unexpected(),this.next(!!e),this.finishNode(n,"Identifier"),e||(this.checkUnreserved(n),"await"!==n.name||this.awaitIdentPos||(this.awaitIdentPos=n.start)),n},Jt.parsePrivateIdent=function(){var e=this.startNode();return this.type===gt.privateId?e.name=this.value:this.unexpected(),this.next(),this.finishNode(e,"PrivateIdentifier"),0===this.privateNameStack.length?this.raise(e.start,"Private field '#"+e.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(e),e},Jt.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===gt.semi||this.canInsertSemicolon()||this.type!==gt.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(gt.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")},Jt.parseAwait=function(){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0),this.finishNode(e,"AwaitExpression")};var tn=Bt.prototype;tn.raise=function(e,t){var n=Tt(this.input,e);t+=" ("+n.line+":"+n.column+")";var r=new SyntaxError(t);throw r.pos=e,r.loc=n,r.raisedAt=this.pos,r},tn.raiseRecoverable=tn.raise,tn.curPosition=function(){if(this.options.locations)return new Pt(this.curLine,this.pos-this.lineStart)};var nn=Bt.prototype,rn=function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};nn.enterScope=function(e){this.scopeStack.push(new rn(e))},nn.exitScope=function(){this.scopeStack.pop()},nn.treatFunctionsAsVarInScope=function(e){return e.flags&Rt||!this.inModule&&1&e.flags},nn.declareName=function(e,t,n){var r=!1;if(2===t){var i=this.currentScope();r=i.lexical.indexOf(e)>-1||i.functions.indexOf(e)>-1||i.var.indexOf(e)>-1,i.lexical.push(e),this.inModule&&1&i.flags&&delete this.undefinedExports[e]}else if(4===t)this.currentScope().lexical.push(e);else if(3===t){var s=this.currentScope();r=this.treatFunctionsAsVar?s.lexical.indexOf(e)>-1:s.lexical.indexOf(e)>-1||s.var.indexOf(e)>-1,s.functions.push(e)}else for(var a=this.scopeStack.length-1;a>=0;--a){var o=this.scopeStack[a];if(o.lexical.indexOf(e)>-1&&!(32&o.flags&&o.lexical[0]===e)||!this.treatFunctionsAsVarInScope(o)&&o.functions.indexOf(e)>-1){r=!0;break}if(o.var.push(e),this.inModule&&1&o.flags&&delete this.undefinedExports[e],o.flags&Nt)break}r&&this.raiseRecoverable(n,"Identifier '"+e+"' has already been declared")},nn.checkLocalExport=function(e){-1===this.scopeStack[0].lexical.indexOf(e.name)&&-1===this.scopeStack[0].var.indexOf(e.name)&&(this.undefinedExports[e.name]=e)},nn.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},nn.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&Nt)return t}},nn.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&Nt&&!(16&t.flags))return t}};var sn=function(e,t,n){this.type="",this.start=t,this.end=0,e.options.locations&&(this.loc=new At(e,n)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[t,0])},an=Bt.prototype;function on(e,t,n,r){return e.type=t,e.end=n,this.options.locations&&(e.loc.end=r),this.options.ranges&&(e.range[1]=n),e}an.startNode=function(){return new sn(this,this.start,this.startLoc)},an.startNodeAt=function(e,t){return new sn(this,e,t)},an.finishNode=function(e,t){return on.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)},an.finishNodeAt=function(e,t,n,r){return on.call(this,e,t,n,r)},an.copyNode=function(e){var t=new sn(this,e.start,this.startLoc);for(var n in e)t[n]=e[n];return t};var ln=function(e,t,n,r,i){this.token=e,this.isExpr=!!t,this.preserveSpace=!!n,this.override=r,this.generator=!!i},cn={b_stat:new ln("{",!1),b_expr:new ln("{",!0),b_tmpl:new ln("${",!1),p_stat:new ln("(",!1),p_expr:new ln("(",!0),q_tmpl:new ln("`",!0,!0,(function(e){return e.tryReadTemplateToken()})),f_stat:new ln("function",!1),f_expr:new ln("function",!0),f_expr_gen:new ln("function",!0,!1,null,!0),f_gen:new ln("function",!1,!1,null,!0)},un=Bt.prototype;un.initialContext=function(){return[cn.b_stat]},un.braceIsBlock=function(e){var t=this.curContext();return t===cn.f_expr||t===cn.f_stat||(e!==gt.colon||t!==cn.b_stat&&t!==cn.b_expr?e===gt._return||e===gt.name&&this.exprAllowed?yt.test(this.input.slice(this.lastTokEnd,this.start)):e===gt._else||e===gt.semi||e===gt.eof||e===gt.parenR||e===gt.arrow||(e===gt.braceL?t===cn.b_stat:e!==gt._var&&e!==gt._const&&e!==gt.name&&!this.exprAllowed):!t.isExpr)},un.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if("function"===t.token)return t.generator}return!1},un.updateContext=function(e){var t,n=this.type;n.keyword&&e===gt.dot?this.exprAllowed=!1:(t=n.updateContext)?t.call(this,e):this.exprAllowed=n.beforeExpr},gt.parenR.updateContext=gt.braceR.updateContext=function(){if(1!==this.context.length){var e=this.context.pop();e===cn.b_stat&&"function"===this.curContext().token&&(e=this.context.pop()),this.exprAllowed=!e.isExpr}else this.exprAllowed=!0},gt.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?cn.b_stat:cn.b_expr),this.exprAllowed=!0},gt.dollarBraceL.updateContext=function(){this.context.push(cn.b_tmpl),this.exprAllowed=!0},gt.parenL.updateContext=function(e){var t=e===gt._if||e===gt._for||e===gt._with||e===gt._while;this.context.push(t?cn.p_stat:cn.p_expr),this.exprAllowed=!0},gt.incDec.updateContext=function(){},gt._function.updateContext=gt._class.updateContext=function(e){!e.beforeExpr||e===gt._else||e===gt.semi&&this.curContext()!==cn.p_stat||e===gt._return&&yt.test(this.input.slice(this.lastTokEnd,this.start))||(e===gt.colon||e===gt.braceL)&&this.curContext()===cn.b_stat?this.context.push(cn.f_stat):this.context.push(cn.f_expr),this.exprAllowed=!1},gt.backQuote.updateContext=function(){this.curContext()===cn.q_tmpl?this.context.pop():this.context.push(cn.q_tmpl),this.exprAllowed=!1},gt.star.updateContext=function(e){if(e===gt._function){var t=this.context.length-1;this.context[t]===cn.f_expr?this.context[t]=cn.f_expr_gen:this.context[t]=cn.f_gen}this.exprAllowed=!0},gt.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&e!==gt.dot&&("of"===this.value&&!this.exprAllowed||"yield"===this.value&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var hn="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",pn=hn+" Extended_Pictographic",dn={9:hn,10:pn,11:pn,12:pn+" EBase EComp EMod EPres ExtPict"},fn="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",mn="Adlam Adlm Ahom Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",gn=mn+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",yn=gn+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",vn={9:mn,10:gn,11:yn,12:yn+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi"},bn={};function xn(e){var t=bn[e]={binary:Ct(dn[e]+" "+fn),nonBinary:{General_Category:Ct(fn),Script:Ct(vn[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}xn(9),xn(10),xn(11),xn(12);var wn=Bt.prototype,_n=function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":""),this.unicodeProperties=bn[e.options.ecmaVersion>=12?12:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};function kn(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}function Sn(e){return 36===e||e>=40&&e<=43||46===e||63===e||e>=91&&e<=94||e>=123&&e<=125}function En(e){return e>=65&&e<=90||e>=97&&e<=122}function In(e){return En(e)||95===e}function Cn(e){return In(e)||Pn(e)}function Pn(e){return e>=48&&e<=57}function An(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function Tn(e){return e>=65&&e<=70?e-65+10:e>=97&&e<=102?e-97+10:e-48}function Vn(e){return e>=48&&e<=55}_n.prototype.reset=function(e,t,n){var r=-1!==n.indexOf("u");this.start=0|e,this.source=t+"",this.flags=n,this.switchU=r&&this.parser.options.ecmaVersion>=6,this.switchN=r&&this.parser.options.ecmaVersion>=9},_n.prototype.raise=function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},_n.prototype.at=function(e,t){void 0===t&&(t=!1);var n=this.source,r=n.length;if(e>=r)return-1;var i=n.charCodeAt(e);if(!t&&!this.switchU||i<=55295||i>=57344||e+1>=r)return i;var s=n.charCodeAt(e+1);return s>=56320&&s<=57343?(i<<10)+s-56613888:i},_n.prototype.nextIndex=function(e,t){void 0===t&&(t=!1);var n=this.source,r=n.length;if(e>=r)return r;var i,s=n.charCodeAt(e);return!t&&!this.switchU||s<=55295||s>=57344||e+1>=r||(i=n.charCodeAt(e+1))<56320||i>57343?e+1:e+2},_n.prototype.current=function(e){return void 0===e&&(e=!1),this.at(this.pos,e)},_n.prototype.lookahead=function(e){return void 0===e&&(e=!1),this.at(this.nextIndex(this.pos,e),e)},_n.prototype.advance=function(e){void 0===e&&(e=!1),this.pos=this.nextIndex(this.pos,e)},_n.prototype.eat=function(e,t){return void 0===t&&(t=!1),this.current(t)===e&&(this.advance(t),!0)},wn.validateRegExpFlags=function(e){for(var t=e.validFlags,n=e.flags,r=0;r<n.length;r++){var i=n.charAt(r);-1===t.indexOf(i)&&this.raise(e.start,"Invalid regular expression flag"),n.indexOf(i,r+1)>-1&&this.raise(e.start,"Duplicate regular expression flag")}},wn.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&e.groupNames.length>0&&(e.switchN=!0,this.regexp_pattern(e))},wn.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames.length=0,e.backReferenceNames.length=0,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,n=e.backReferenceNames;t<n.length;t+=1){var r=n[t];-1===e.groupNames.indexOf(r)&&e.raise("Invalid named capture referenced")}},wn.regexp_disjunction=function(e){for(this.regexp_alternative(e);e.eat(124);)this.regexp_alternative(e);this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")},wn.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););},wn.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):!!(e.switchU?this.regexp_eatAtom(e):this.regexp_eatExtendedAtom(e))&&(this.regexp_eatQuantifier(e),!0)},wn.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var n=!1;if(this.options.ecmaVersion>=9&&(n=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!n,!0}return e.pos=t,!1},wn.regexp_eatQuantifier=function(e,t){return void 0===t&&(t=!1),!!this.regexp_eatQuantifierPrefix(e,t)&&(e.eat(63),!0)},wn.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)},wn.regexp_eatBracedQuantifier=function(e,t){var n=e.pos;if(e.eat(123)){var r=0,i=-1;if(this.regexp_eatDecimalDigits(e)&&(r=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(i=e.lastIntValue),e.eat(125)))return-1!==i&&i<r&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=n}return!1},wn.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)},wn.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1},wn.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)&&e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}e.pos=t}return!1},wn.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):63===e.current()&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1},wn.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)},wn.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1},wn.regexp_eatSyntaxCharacter=function(e){var t=e.current();return!!Sn(t)&&(e.lastIntValue=t,e.advance(),!0)},wn.regexp_eatPatternCharacters=function(e){for(var t=e.pos,n=0;-1!==(n=e.current())&&!Sn(n);)e.advance();return e.pos!==t},wn.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return!(-1===t||36===t||t>=40&&t<=43||46===t||63===t||91===t||94===t||124===t||(e.advance(),0))},wn.regexp_groupSpecifier=function(e){if(e.eat(63)){if(this.regexp_eatGroupName(e))return-1!==e.groupNames.indexOf(e.lastStringValue)&&e.raise("Duplicate capture group name"),void e.groupNames.push(e.lastStringValue);e.raise("Invalid group")}},wn.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1},wn.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=kn(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=kn(e.lastIntValue);return!0}return!1},wn.regexp_eatRegExpIdentifierStart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),92===r&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),function(e){return lt(e,!0)||36===e||95===e}(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)},wn.regexp_eatRegExpIdentifierPart=function(e){var t=e.pos,n=this.options.ecmaVersion>=11,r=e.current(n);return e.advance(n),92===r&&this.regexp_eatRegExpUnicodeEscapeSequence(e,n)&&(r=e.lastIntValue),function(e){return ct(e,!0)||36===e||95===e||8204===e||8205===e}(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)},wn.regexp_eatAtomEscape=function(e){return!!(this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e))||(e.switchU&&(99===e.current()&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)},wn.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var n=e.lastIntValue;if(e.switchU)return n>e.maxBackReference&&(e.maxBackReference=n),!0;if(n<=e.numCapturingParens)return!0;e.pos=t}return!1},wn.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1},wn.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e,!1)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)},wn.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1},wn.regexp_eatZero=function(e){return 48===e.current()&&!Pn(e.lookahead())&&(e.lastIntValue=0,e.advance(),!0)},wn.regexp_eatControlEscape=function(e){var t=e.current();return 116===t?(e.lastIntValue=9,e.advance(),!0):110===t?(e.lastIntValue=10,e.advance(),!0):118===t?(e.lastIntValue=11,e.advance(),!0):102===t?(e.lastIntValue=12,e.advance(),!0):114===t&&(e.lastIntValue=13,e.advance(),!0)},wn.regexp_eatControlLetter=function(e){var t=e.current();return!!En(t)&&(e.lastIntValue=t%32,e.advance(),!0)},wn.regexp_eatRegExpUnicodeEscapeSequence=function(e,t){void 0===t&&(t=!1);var n=e.pos,r=t||e.switchU;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var i=e.lastIntValue;if(r&&i>=55296&&i<=56319){var s=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var a=e.lastIntValue;if(a>=56320&&a<=57343)return e.lastIntValue=1024*(i-55296)+(a-56320)+65536,!0}e.pos=s,e.lastIntValue=i}return!0}if(r&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&function(e){return e>=0&&e<=1114111}(e.lastIntValue))return!0;r&&e.raise("Invalid unicode escape"),e.pos=n}return!1},wn.regexp_eatIdentityEscape=function(e){if(e.switchU)return!!this.regexp_eatSyntaxCharacter(e)||!!e.eat(47)&&(e.lastIntValue=47,!0);var t=e.current();return!(99===t||e.switchN&&107===t||(e.lastIntValue=t,e.advance(),0))},wn.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do{e.lastIntValue=10*e.lastIntValue+(t-48),e.advance()}while((t=e.current())>=48&&t<=57);return!0}return!1},wn.regexp_eatCharacterClassEscape=function(e){var t=e.current();if(function(e){return 100===e||68===e||115===e||83===e||119===e||87===e}(t))return e.lastIntValue=-1,e.advance(),!0;if(e.switchU&&this.options.ecmaVersion>=9&&(80===t||112===t)){if(e.lastIntValue=-1,e.advance(),e.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(e)&&e.eat(125))return!0;e.raise("Invalid property name")}return!1},wn.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var n=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e)){var r=e.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(e,n,r),!0}}if(e.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(e)){var i=e.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(e,i),!0}return!1},wn.regexp_validateUnicodePropertyNameAndValue=function(e,t,n){Et(e.unicodeProperties.nonBinary,t)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[t].test(n)||e.raise("Invalid property value")},wn.regexp_validateUnicodePropertyNameOrValue=function(e,t){e.unicodeProperties.binary.test(t)||e.raise("Invalid property name")},wn.regexp_eatUnicodePropertyName=function(e){var t=0;for(e.lastStringValue="";In(t=e.current());)e.lastStringValue+=kn(t),e.advance();return""!==e.lastStringValue},wn.regexp_eatUnicodePropertyValue=function(e){var t=0;for(e.lastStringValue="";Cn(t=e.current());)e.lastStringValue+=kn(t),e.advance();return""!==e.lastStringValue},wn.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)},wn.regexp_eatCharacterClass=function(e){if(e.eat(91)){if(e.eat(94),this.regexp_classRanges(e),e.eat(93))return!0;e.raise("Unterminated character class")}return!1},wn.regexp_classRanges=function(e){for(;this.regexp_eatClassAtom(e);){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var n=e.lastIntValue;!e.switchU||-1!==t&&-1!==n||e.raise("Invalid character class"),-1!==t&&-1!==n&&t>n&&e.raise("Range out of order in character class")}}},wn.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var n=e.current();(99===n||Vn(n))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var r=e.current();return 93!==r&&(e.lastIntValue=r,e.advance(),!0)},wn.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)},wn.regexp_eatClassControlLetter=function(e){var t=e.current();return!(!Pn(t)&&95!==t||(e.lastIntValue=t%32,e.advance(),0))},wn.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1},wn.regexp_eatDecimalDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;Pn(n=e.current());)e.lastIntValue=10*e.lastIntValue+(n-48),e.advance();return e.pos!==t},wn.regexp_eatHexDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;An(n=e.current());)e.lastIntValue=16*e.lastIntValue+Tn(n),e.advance();return e.pos!==t},wn.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var n=e.lastIntValue;t<=3&&this.regexp_eatOctalDigit(e)?e.lastIntValue=64*t+8*n+e.lastIntValue:e.lastIntValue=8*t+n}else e.lastIntValue=t;return!0}return!1},wn.regexp_eatOctalDigit=function(e){var t=e.current();return Vn(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)},wn.regexp_eatFixedHexDigits=function(e,t){var n=e.pos;e.lastIntValue=0;for(var r=0;r<t;++r){var i=e.current();if(!An(i))return e.pos=n,!1;e.lastIntValue=16*e.lastIntValue+Tn(i),e.advance()}return!0};var Dn=function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new At(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},Rn=Bt.prototype;function Nn(e){return"function"!=typeof BigInt?null:BigInt(e.replace(/_/g,""))}function Ln(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}Rn.next=function(e){!e&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Dn(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},Rn.getToken=function(){return this.next(),new Dn(this)},"undefined"!=typeof Symbol&&(Rn[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===gt.eof,value:t}}}}),Rn.curContext=function(){return this.context[this.context.length-1]},Rn.nextToken=function(){var e=this.curContext();return e&&e.preserveSpace||this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(gt.eof):e.override?e.override(this):void this.readToken(this.fullCharCodeAtPos())},Rn.readToken=function(e){return lt(e,this.options.ecmaVersion>=6)||92===e?this.readWord():this.getTokenFromCode(e)},Rn.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);if(e<=55295||e>=56320)return e;var t=this.input.charCodeAt(this.pos+1);return t<=56319||t>=57344?e:(e<<10)+t-56613888},Rn.skipBlockComment=function(){var e,t=this.options.onComment&&this.curPosition(),n=this.pos,r=this.input.indexOf("*/",this.pos+=2);if(-1===r&&this.raise(this.pos-2,"Unterminated comment"),this.pos=r+2,this.options.locations)for(vt.lastIndex=n;(e=vt.exec(this.input))&&e.index<this.pos;)++this.curLine,this.lineStart=e.index+e[0].length;this.options.onComment&&this.options.onComment(!0,this.input.slice(n+2,r),n,this.pos,t,this.curPosition())},Rn.skipLineComment=function(e){for(var t=this.pos,n=this.options.onComment&&this.curPosition(),r=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!bt(r);)r=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,n,this.curPosition())},Rn.skipSpace=function(){e:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:10===this.input.charCodeAt(this.pos+1)&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(!(e>8&&e<14||e>=5760&&xt.test(String.fromCharCode(e))))break e;++this.pos}}},Rn.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=e,this.value=t,this.updateContext(n)},Rn.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&46===e&&46===t?(this.pos+=3,this.finishToken(gt.ellipsis)):(++this.pos,this.finishToken(gt.dot))},Rn.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===e?this.finishOp(gt.assign,2):this.finishOp(gt.slash,1)},Rn.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),n=1,r=42===e?gt.star:gt.modulo;return this.options.ecmaVersion>=7&&42===e&&42===t&&(++n,r=gt.starstar,t=this.input.charCodeAt(this.pos+2)),61===t?this.finishOp(gt.assign,n+1):this.finishOp(r,n)},Rn.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?this.options.ecmaVersion>=12&&61===this.input.charCodeAt(this.pos+2)?this.finishOp(gt.assign,3):this.finishOp(124===e?gt.logicalOR:gt.logicalAND,2):61===t?this.finishOp(gt.assign,2):this.finishOp(124===e?gt.bitwiseOR:gt.bitwiseAND,1)},Rn.readToken_caret=function(){return 61===this.input.charCodeAt(this.pos+1)?this.finishOp(gt.assign,2):this.finishOp(gt.bitwiseXOR,1)},Rn.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?45!==t||this.inModule||62!==this.input.charCodeAt(this.pos+2)||0!==this.lastTokEnd&&!yt.test(this.input.slice(this.lastTokEnd,this.pos))?this.finishOp(gt.incDec,2):(this.skipLineComment(3),this.skipSpace(),this.nextToken()):61===t?this.finishOp(gt.assign,2):this.finishOp(gt.plusMin,1)},Rn.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),n=1;return t===e?(n=62===e&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+n)?this.finishOp(gt.assign,n+1):this.finishOp(gt.bitShift,n)):33!==t||60!==e||this.inModule||45!==this.input.charCodeAt(this.pos+2)||45!==this.input.charCodeAt(this.pos+3)?(61===t&&(n=2),this.finishOp(gt.relational,n)):(this.skipLineComment(4),this.skipSpace(),this.nextToken())},Rn.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return 61===t?this.finishOp(gt.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===e&&62===t&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(gt.arrow)):this.finishOp(61===e?gt.eq:gt.prefix,1)},Rn.readToken_question=function(){var e=this.options.ecmaVersion;if(e>=11){var t=this.input.charCodeAt(this.pos+1);if(46===t){var n=this.input.charCodeAt(this.pos+2);if(n<48||n>57)return this.finishOp(gt.questionDot,2)}if(63===t)return e>=12&&61===this.input.charCodeAt(this.pos+2)?this.finishOp(gt.assign,3):this.finishOp(gt.coalesce,2)}return this.finishOp(gt.question,1)},Rn.readToken_numberSign=function(){var e=35;if(this.options.ecmaVersion>=13&&(++this.pos,lt(e=this.fullCharCodeAtPos(),!0)||92===e))return this.finishToken(gt.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Ln(e)+"'")},Rn.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(gt.parenL);case 41:return++this.pos,this.finishToken(gt.parenR);case 59:return++this.pos,this.finishToken(gt.semi);case 44:return++this.pos,this.finishToken(gt.comma);case 91:return++this.pos,this.finishToken(gt.bracketL);case 93:return++this.pos,this.finishToken(gt.bracketR);case 123:return++this.pos,this.finishToken(gt.braceL);case 125:return++this.pos,this.finishToken(gt.braceR);case 58:return++this.pos,this.finishToken(gt.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(gt.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(120===t||88===t)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(111===t||79===t)return this.readRadixNumber(8);if(98===t||66===t)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 63:return this.readToken_question();case 126:return this.finishOp(gt.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Ln(e)+"'")},Rn.finishOp=function(e,t){var n=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,n)},Rn.readRegexp=function(){for(var e,t,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var r=this.input.charAt(this.pos);if(yt.test(r)&&this.raise(n,"Unterminated regular expression"),e)e=!1;else{if("["===r)t=!0;else if("]"===r&&t)t=!1;else if("/"===r&&!t)break;e="\\"===r}++this.pos}var i=this.input.slice(n,this.pos);++this.pos;var s=this.pos,a=this.readWord1();this.containsEsc&&this.unexpected(s);var o=this.regexpState||(this.regexpState=new _n(this));o.reset(n,i,a),this.validateRegExpFlags(o),this.validateRegExpPattern(o);var l=null;try{l=new RegExp(i,a)}catch(e){}return this.finishToken(gt.regexp,{pattern:i,flags:a,value:l})},Rn.readInt=function(e,t,n){for(var r=this.options.ecmaVersion>=12&&void 0===t,i=n&&48===this.input.charCodeAt(this.pos),s=this.pos,a=0,o=0,l=0,c=null==t?Infinity:t;l<c;++l,++this.pos){var u=this.input.charCodeAt(this.pos),h=void 0;if(r&&95===u)i&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),95===o&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),0===l&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),o=u;else{if((h=u>=97?u-97+10:u>=65?u-65+10:u>=48&&u<=57?u-48:Infinity)>=e)break;o=u,a=a*e+h}}return r&&95===o&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===s||null!=t&&this.pos-s!==t?null:a},Rn.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var n=this.readInt(e);return null==n&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&110===this.input.charCodeAt(this.pos)?(n=Nn(this.input.slice(t,this.pos)),++this.pos):lt(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(gt.num,n)},Rn.readNumber=function(e){var t=this.pos;e||null!==this.readInt(10,void 0,!0)||this.raise(t,"Invalid number");var n=this.pos-t>=2&&48===this.input.charCodeAt(t);n&&this.strict&&this.raise(t,"Invalid number");var r=this.input.charCodeAt(this.pos);if(!n&&!e&&this.options.ecmaVersion>=11&&110===r){var i=Nn(this.input.slice(t,this.pos));return++this.pos,lt(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(gt.num,i)}n&&/[89]/.test(this.input.slice(t,this.pos))&&(n=!1),46!==r||n||(++this.pos,this.readInt(10),r=this.input.charCodeAt(this.pos)),69!==r&&101!==r||n||(43!==(r=this.input.charCodeAt(++this.pos))&&45!==r||++this.pos,null===this.readInt(10)&&this.raise(t,"Invalid number")),lt(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var s=function(e,t){return t?parseInt(e,8):parseFloat(e.replace(/_/g,""))}(this.input.slice(t,this.pos),n);return this.finishToken(gt.num,s)},Rn.readCodePoint=function(){var e;if(123===this.input.charCodeAt(this.pos)){this.options.ecmaVersion<6&&this.unexpected();var t=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(t,"Code point out of bounds")}else e=this.readHexChar(4);return e},Rn.readString=function(e){for(var t="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var r=this.input.charCodeAt(this.pos);if(r===e)break;92===r?(t+=this.input.slice(n,this.pos),t+=this.readEscapedChar(!1),n=this.pos):(bt(r,this.options.ecmaVersion>=10)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(n,this.pos++),this.finishToken(gt.string,t)};var Mn={};Rn.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e!==Mn)throw e;this.readInvalidTemplateToken()}this.inTemplateElement=!1},Rn.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Mn;this.raise(e,t)},Rn.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(96===n||36===n&&123===this.input.charCodeAt(this.pos+1))return this.pos!==this.start||this.type!==gt.template&&this.type!==gt.invalidTemplate?(e+=this.input.slice(t,this.pos),this.finishToken(gt.template,e)):36===n?(this.pos+=2,this.finishToken(gt.dollarBraceL)):(++this.pos,this.finishToken(gt.backQuote));if(92===n)e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!0),t=this.pos;else if(bt(n)){switch(e+=this.input.slice(t,this.pos),++this.pos,n){case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:e+="\n";break;default:e+=String.fromCharCode(n)}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}},Rn.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if("{"!==this.input[this.pos+1])break;case"`":return this.finishToken(gt.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},Rn.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Ln(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),e){var n=this.pos-1;return this.invalidStringToken(n,"Invalid escape sequence in template string"),null}default:if(t>=48&&t<=55){var r=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],i=parseInt(r,8);return i>255&&(r=r.slice(0,-1),i=parseInt(r,8)),this.pos+=r.length-1,t=this.input.charCodeAt(this.pos),"0"===r&&56!==t&&57!==t||!this.strict&&!e||this.invalidStringToken(this.pos-1-r.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(i)}return bt(t)?"":String.fromCharCode(t)}},Rn.readHexChar=function(e){var t=this.pos,n=this.readInt(16,e);return null===n&&this.invalidStringToken(t,"Bad character escape sequence"),n},Rn.readWord1=function(){this.containsEsc=!1;for(var e="",t=!0,n=this.pos,r=this.options.ecmaVersion>=6;this.pos<this.input.length;){var i=this.fullCharCodeAtPos();if(ct(i,r))this.pos+=i<=65535?1:2;else{if(92!==i)break;this.containsEsc=!0,e+=this.input.slice(n,this.pos);var s=this.pos;117!==this.input.charCodeAt(++this.pos)&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var a=this.readCodePoint();(t?lt:ct)(a,r)||this.invalidStringToken(s,"Invalid Unicode escape"),e+=Ln(a),n=this.pos}t=!1}return e+this.input.slice(n,this.pos)},Rn.readWord=function(){var e=this.readWord1(),t=gt.name;return this.keywords.test(e)&&(t=ft[e]),this.finishToken(t,e)},Bt.acorn={Parser:Bt,version:"8.2.4",defaultOptions:Vt,Position:Pt,SourceLocation:At,getLineInfo:Tt,Node:sn,TokenType:ut,tokTypes:gt,keywordTypes:ft,TokContext:ln,tokContexts:cn,isIdentifierChar:ct,isIdentifierStart:lt,Token:Dn,isNewLine:bt,lineBreak:yt,lineBreakG:vt,nonASCIIwhitespace:xt};var On=function(e,t){this.node=e,this.state=t};function Bn(e,t,n,r,i,s){i||(i=jn),r=function(e){return"string"==typeof e?function(t){return t===e}:e||function(){return!0}}(r);try{!function e(s,a,o){var l=o||s.type;if((null==t||s.start<=t)&&(null==n||s.end>=n)&&i[l](s,a,e),(null==t||s.start===t)&&(null==n||s.end===n)&&r(l,s))throw new On(s,a)}(e,s)}catch(e){if(e instanceof On)return e;throw e}}function Fn(e,t,n){n(e,t)}function Un(e,t,n){}var jn={};jn.Program=jn.BlockStatement=function(e,t,n){for(var r=0,i=e.body;r<i.length;r+=1)n(i[r],t,"Statement")},jn.Statement=Fn,jn.EmptyStatement=Un,jn.ExpressionStatement=jn.ParenthesizedExpression=jn.ChainExpression=function(e,t,n){return n(e.expression,t,"Expression")},jn.IfStatement=function(e,t,n){n(e.test,t,"Expression"),n(e.consequent,t,"Statement"),e.alternate&&n(e.alternate,t,"Statement")},jn.LabeledStatement=function(e,t,n){return n(e.body,t,"Statement")},jn.BreakStatement=jn.ContinueStatement=Un,jn.WithStatement=function(e,t,n){n(e.object,t,"Expression"),n(e.body,t,"Statement")},jn.SwitchStatement=function(e,t,n){n(e.discriminant,t,"Expression");for(var r=0,i=e.cases;r<i.length;r+=1){var s=i[r];s.test&&n(s.test,t,"Expression");for(var a=0,o=s.consequent;a<o.length;a+=1)n(o[a],t,"Statement")}},jn.SwitchCase=function(e,t,n){e.test&&n(e.test,t,"Expression");for(var r=0,i=e.consequent;r<i.length;r+=1)n(i[r],t,"Statement")},jn.ReturnStatement=jn.YieldExpression=jn.AwaitExpression=function(e,t,n){e.argument&&n(e.argument,t,"Expression")},jn.ThrowStatement=jn.SpreadElement=function(e,t,n){return n(e.argument,t,"Expression")},jn.TryStatement=function(e,t,n){n(e.block,t,"Statement"),e.handler&&n(e.handler,t),e.finalizer&&n(e.finalizer,t,"Statement")},jn.CatchClause=function(e,t,n){e.param&&n(e.param,t,"Pattern"),n(e.body,t,"Statement")},jn.WhileStatement=jn.DoWhileStatement=function(e,t,n){n(e.test,t,"Expression"),n(e.body,t,"Statement")},jn.ForStatement=function(e,t,n){e.init&&n(e.init,t,"ForInit"),e.test&&n(e.test,t,"Expression"),e.update&&n(e.update,t,"Expression"),n(e.body,t,"Statement")},jn.ForInStatement=jn.ForOfStatement=function(e,t,n){n(e.left,t,"ForInit"),n(e.right,t,"Expression"),n(e.body,t,"Statement")},jn.ForInit=function(e,t,n){"VariableDeclaration"===e.type?n(e,t):n(e,t,"Expression")},jn.DebuggerStatement=Un,jn.FunctionDeclaration=function(e,t,n){return n(e,t,"Function")},jn.VariableDeclaration=function(e,t,n){for(var r=0,i=e.declarations;r<i.length;r+=1)n(i[r],t)},jn.VariableDeclarator=function(e,t,n){n(e.id,t,"Pattern"),e.init&&n(e.init,t,"Expression")},jn.Function=function(e,t,n){e.id&&n(e.id,t,"Pattern");for(var r=0,i=e.params;r<i.length;r+=1)n(i[r],t,"Pattern");n(e.body,t,e.expression?"Expression":"Statement")},jn.Pattern=function(e,t,n){"Identifier"===e.type?n(e,t,"VariablePattern"):"MemberExpression"===e.type?n(e,t,"MemberPattern"):n(e,t)},jn.VariablePattern=Un,jn.MemberPattern=Fn,jn.RestElement=function(e,t,n){return n(e.argument,t,"Pattern")},jn.ArrayPattern=function(e,t,n){for(var r=0,i=e.elements;r<i.length;r+=1){var s=i[r];s&&n(s,t,"Pattern")}},jn.ObjectPattern=function(e,t,n){for(var r=0,i=e.properties;r<i.length;r+=1){var s=i[r];"Property"===s.type?(s.computed&&n(s.key,t,"Expression"),n(s.value,t,"Pattern")):"RestElement"===s.type&&n(s.argument,t,"Pattern")}},jn.Expression=Fn,jn.ThisExpression=jn.Super=jn.MetaProperty=Un,jn.ArrayExpression=function(e,t,n){for(var r=0,i=e.elements;r<i.length;r+=1){var s=i[r];s&&n(s,t,"Expression")}},jn.ObjectExpression=function(e,t,n){for(var r=0,i=e.properties;r<i.length;r+=1)n(i[r],t)},jn.FunctionExpression=jn.ArrowFunctionExpression=jn.FunctionDeclaration,jn.SequenceExpression=function(e,t,n){for(var r=0,i=e.expressions;r<i.length;r+=1)n(i[r],t,"Expression")},jn.TemplateLiteral=function(e,t,n){for(var r=0,i=e.quasis;r<i.length;r+=1)n(i[r],t);for(var s=0,a=e.expressions;s<a.length;s+=1)n(a[s],t,"Expression")},jn.TemplateElement=Un,jn.UnaryExpression=jn.UpdateExpression=function(e,t,n){n(e.argument,t,"Expression")},jn.BinaryExpression=jn.LogicalExpression=function(e,t,n){n(e.left,t,"Expression"),n(e.right,t,"Expression")},jn.AssignmentExpression=jn.AssignmentPattern=function(e,t,n){n(e.left,t,"Pattern"),n(e.right,t,"Expression")},jn.ConditionalExpression=function(e,t,n){n(e.test,t,"Expression"),n(e.consequent,t,"Expression"),n(e.alternate,t,"Expression")},jn.NewExpression=jn.CallExpression=function(e,t,n){if(n(e.callee,t,"Expression"),e.arguments)for(var r=0,i=e.arguments;r<i.length;r+=1)n(i[r],t,"Expression")},jn.MemberExpression=function(e,t,n){n(e.object,t,"Expression"),e.computed&&n(e.property,t,"Expression")},jn.ExportNamedDeclaration=jn.ExportDefaultDeclaration=function(e,t,n){e.declaration&&n(e.declaration,t,"ExportNamedDeclaration"===e.type||e.declaration.id?"Statement":"Expression"),e.source&&n(e.source,t,"Expression")},jn.ExportAllDeclaration=function(e,t,n){e.exported&&n(e.exported,t),n(e.source,t,"Expression")},jn.ImportDeclaration=function(e,t,n){for(var r=0,i=e.specifiers;r<i.length;r+=1)n(i[r],t);n(e.source,t,"Expression")},jn.ImportExpression=function(e,t,n){n(e.source,t,"Expression")},jn.ImportSpecifier=jn.ImportDefaultSpecifier=jn.ImportNamespaceSpecifier=jn.Identifier=jn.PrivateIdentifier=jn.Literal=Un,jn.TaggedTemplateExpression=function(e,t,n){n(e.tag,t,"Expression"),n(e.quasi,t,"Expression")},jn.ClassDeclaration=jn.ClassExpression=function(e,t,n){return n(e,t,"Class")},jn.Class=function(e,t,n){e.id&&n(e.id,t,"Pattern"),e.superClass&&n(e.superClass,t,"Expression"),n(e.body,t)},jn.ClassBody=function(e,t,n){for(var r=0,i=e.body;r<i.length;r+=1)n(i[r],t)},jn.MethodDefinition=jn.PropertyDefinition=jn.Property=function(e,t,n){e.computed&&n(e.key,t,"Expression"),e.value&&n(e.value,t,"Expression")};var Hn=n(15);class qn{constructor(){this.m_PlayerSrc=null,this.m_PlayerSrcAST=null,this.m_LastError=null}get lastError(){return this.m_LastError}parse(e){if(null==e)return null;if(null==e.src||0==e.src.length)return null;this.m_PlayerSrc=this.m_PlayerSrcAST=this.m_LastError=null,this.m_PlayerSrc=e;try{this.m_PlayerSrcAST=function(e,t){return Bt.parse(e,{ecmaVersion:2020})}(e.src)}catch(e){return this.m_PlayerSrc=this.m_PlayerSrcAST=null,this.m_LastError=e,"object"==typeof e&&(this.m_LastError=`Failed to generate syntax tree from source code, syntax error at ${JSON.stringify(e)}`),!1}return!0}locateFunctionDefinition(e){if(null==this.m_PlayerSrcAST)return null;let t=!1,n=null;var r=this;try{if(Bn(this.m_PlayerSrcAST,null,null,(function(i,s){try{if(v.allMet([null!=i,i.length>0,"ExpressionStatement"==i,null!=s,Hn.has(s,"expression"),null!=s.expression,Hn.has(s.expression,"left"),null!=s.expression.left,Hn.has(s.expression.left,"type"),Hn.has(s.expression.left,"name"),Hn.has(s.expression,"right"),"Identifier"==s.expression.left.type,s.expression.left.name==e,null!=s.expression.right,Hn.has(s.expression.right,"type"),"FunctionExpression"==s.expression.right.type]))return t=!0,n={node:s,src:r.m_PlayerSrc.src.substring(Number(s.start),Number(s.end))},!0}catch(e){}return!1})),0==t||null==n)return null}catch(e){return null}return n}collectCallsFromFunction(e){let t=new Map,n=new Map,r=[];try{for(let r of e.expression.right.body.body)if("ExpressionStatement"==r.type&&"CallExpression"==r.expression.type)if(Hn.has(r.expression.callee,"object")){let e=r.expression.callee.object.name;0==t.has(e)&&t.set(e,null)}else if(Hn.has(r.expression.callee,"function")){let e=r.expression.callee.function.name;0==n.has(e)&&n.set(e,null)}}catch(e){}let i=!1;var s=this;if(t.size>0)for(let[e]of t)try{Bn(this.m_PlayerSrcAST,null,null,(function(t,n){try{let a=v.allMet([null!=t,t.length>0,null!=n,"VariableDeclaration"==t,Hn.has(n,"declarations"),null!=n.declarations,n.declarations.length>0]);if(a&&(a=v.allMet([null!=n.declarations[0],Hn.has(n.declarations[0],"type"),null!=n.declarations[0].type,"VariableDeclarator"==n.declarations[0].type,Hn.has(n.declarations[0].id,"type"),Hn.has(n.declarations[0].id,"name"),"Identifier"==n.declarations[0].id.type,n.declarations[0].id.name==e]),a))return i=!0,r.push(s.m_PlayerSrc.src.substring(Number(n.start),Number(n.end))),!0}catch(e){}return!1}))}catch(e){}return n.size,0==i?null:r}}var Wn=n(812),zn=n.n(Wn),$n=n(15),Gn=n(681);const Qn={ecmaVer:9,sandBox:!0};class Zn{constructor(){this.m_VideosQueue=[],this.m_CipheredVideosQueue=[],this.m_VideoHandler=br(),this.m_YoutubePlayerUrlsMap=new Map,this.m_JSInterpreter=new(zn())(Qn),t.tabs.onRemoved.addListener(this.onTabClosed.bind(this)),this.processVideosQueue(this),this.processCipheredVideosQueue(this)}onTabClosed(e,t){null!=this.m_YoutubePlayerUrlsMap&&this.m_YoutubePlayerUrlsMap.has(e)&&this.m_YoutubePlayerUrlsMap.delete(e)}setPlayerUrlByTabId(e,t){0==this.m_YoutubePlayerUrlsMap.has(e)&&this.m_YoutubePlayerUrlsMap.set(e,t)}getPlayerUrlByTabId(e){let t=this.m_YoutubePlayerUrlsMap.get(e);return null==t||void 0===t||0==t.length?null:t}addConfigInitial(e,t){try{if(null==e)throw"videoMgmtInstance is null";if(null==t)throw"no data where provided";if(null==$n.has(t,"config")||null==t.config)throw"config object is missing or null";if(null==t.tabId)throw"tabId is null or empty";if(t.tabId<0)throw"tabless videos are not supported yet"}catch(e){return}let n=Ge.createFromConfigInitial(e,t);null!=n&&(!0===n.cipher.isCiphered?e.m_CipheredVideosQueue.push(n):!1===n.cipher.isCiphered&&e.m_VideosQueue.push(n))}addConfigSubsequent(e,t){try{if(null==e)throw"videoMgmtInstance is null";if(null==t)throw"no data where provided";if(null==$n.has(t,"config")||null==t.config)throw"config object is missing or null";if(null==t.tabId)throw"tabId is null or empty";if(t.tabId<0)throw"tabless videos are not supported yet"}catch(e){return}let n=Ge.createFromConfigSubsequent(e,t);null!=n&&(n.cipher.isCiphered?e.m_CipheredVideosQueue.push(n):e.m_VideosQueue.push(n))}addConfigEmbedded(e,t){try{if(null==e)throw"videoMgmtInstance is null";if(null==t)throw"input parameter 'queueItem' is null"}catch(e){return}let n=Ge.createFromConfigEmbedded(e,t);null!=n&&(n.cipher.isCiphered?e.m_CipheredVideosQueue.push(n):e.m_VideosQueue.push(n))}extractPlayerUrlFromHomepage(e,t){try{if(null==e)throw"videoMgmtInstance is null";if(null==t)throw"input parameter 'queueItem' is null";if(0==$n.has(t,"homepageContents"))throw"input parameter 'queueItem.homepageContents' is null";if(null==t.homepageContents||0==t.homepageContents.length)throw"homepageContents is null or empty";if(null==t.data.responseData.tabId||-1==t.data.responseData.tabId)throw"tabId is null or -1"}catch(e){return}let n=new RegExp("window\\.ytplayer\\s*?=\\s*?{\\s*?};\\s*?ytcfg\\.set\\s*?\\(\\s*?{","i"),r=t.homepageContents.match(n),i=null,s=null,a=null;if(null!=r){i=function(e){if(null==e||0==e.length)return null;let t=0,n=null;if("{"!=e[0])return null;t=1;for(let r=1;r<e.length;r++)if("{"!=e[r]){if("}"==e[r]){if(t--,0!=t)continue;try{if(";"==e[r+1]||")"==e[r+1])return n=r+1,e.substring(0,n).trim()}catch(e){}}}else t++;return null}(t.homepageContents.substring(r.index+r[0].length-1));try{s=JSON.parse(i)}catch(e){return}if(!$n.isEmpty(s)){for(let[e,t]of Object.entries(s))if(null!=e&&e.length>0&&"player_js_url"==e.toLowerCase()){a=t;break}null!=a&&e.setPlayerUrlByTabId(t.data.responseData.tabId,a)}}}async processVideosQueue(e){if(null!=e)for(var t=null;;){try{if(null==e.m_VideosQueue||0==e.m_VideosQueue.length){try{await Ee()(750)}catch(e){}continue}for(;void 0!==(t=e.m_VideosQueue.shift());)if(null!=t){t.session=N();try{e.m_VideoHandler.detected(t)}catch(e){}}}catch(e){}try{await Ee()(750)}catch(e){}}}async processCipheredVideosQueue(e){if(null==e)return;let t=null,n=!1,r=new Ye,i=new qn;for(;;){try{if(null==e.m_CipheredVideosQueue||0==e.m_CipheredVideosQueue.length){try{await Ee()(750)}catch(e){}continue}for(;void 0!==(t=e.m_CipheredVideosQueue.shift());){if(null==t)continue;n=!0,t.session=N();let s=null,a=[];t.cipher.status=3,t.cipher.statusProgress=20;try{e.m_VideoHandler.detected(t)}catch(e){}let o=null;try{o=await P()}catch(e){}if(null!=o){let e=o.get(Gn.extension.videoDetector.protocols.yt.decipherStreamUrls);null!=e&&$n.has(e,"value")&&null!=e.value&&(n=e.value)}if(0==n){t.cipher.status=1,t.cipher.statusProgress=100;try{e.m_VideoHandler.detected(t)}catch(e){}}else try{let n=new Ze(t.cipher.playerUrl),o=Ze.getKey(n.id,n.url);try{s=await w.getFromLocalStorage(o)||null}catch(e){}if($n.isEmpty(s)){if(0==await n.download())throw n.lastError;t.cipher.statusProgress=40;try{e.m_VideoHandler.detected(t)}catch(e){}let l=r.findDecryptionFunction(n.src);if(null==l)throw"The name of decryption function was not found";if(0==i.parse(n))throw i.lastError;t.cipher.statusProgress=60;try{e.m_VideoHandler.detected(t)}catch(e){}let c=i.locateFunctionDefinition(l);if(null==c||null==c.node||null==c.src)throw"Decryption function name was not located in the AST";t.cipher.statusProgress=80;try{e.m_VideoHandler.detected(t)}catch(e){}let u=i.collectCallsFromFunction(c.node);null==u||0==u.length||(a=Array.prototype.concat([c.src],u)),a.reverse(),s={name:l,code:a.join(" ")};let h={};h[o]=s,await w.setIntoLocalStorage(h)}else s=s[o];t.cipher.statusProgress=80;try{e.m_VideoHandler.detected(t)}catch(e){}if(null!=t.media.solids&&t.media.solids.length>0)for(let n=0;n<t.media.solids.length;n++){let r="exports.decrypted = null; "+s.code+`exports.decrypted = ${s.name}('${t.media.solids[n].$avd.cipher.s}');`;e.m_JSInterpreter.run(r);let i=e.m_JSInterpreter.exports.decrypted,a=`${t.media.solids[n].$avd.cipher.url}&${t.media.solids[n].$avd.cipher.sp}=${i}`,o=oe.generateKey(a,t.key);t.media.solids[n].url=a,t.media.solids[n].$avd.key=o}t.cipher.statusProgress=95;try{e.m_VideoHandler.detected(t)}catch(e){}if(null!=t.media.adaptive&&t.media.adaptive.length>0)for(let n=0;n<t.media.adaptive.length;n++){let r="exports.decrypted = null; "+s.code+`exports.decrypted = ${s.name}('${t.media.adaptive[n].$avd.cipher.s}');`;e.m_JSInterpreter.run(r);let i=e.m_JSInterpreter.exports.decrypted,a=`${t.media.adaptive[n].$avd.cipher.url}&${t.media.adaptive[n].$avd.cipher.sp}=${i}`,o=oe.generateKey(a,t.key);t.media.adaptive[n].url=a,t.media.adaptive[n].$avd.key=o}t.cipher.statusProgress=100,t.cipher.statusMessage=null,t.cipher.status=4;try{e.m_VideoHandler.detected(t)}catch(e){}}catch(n){t.cipher.status=5,t.cipher.statusMessage=n;try{e.m_VideoHandler.detected(t)}catch(e){}continue}}}catch(e){}try{await Ee()(750)}catch(e){}}}}var Yn=n(15);class Kn{constructor(){this.m_Enabled=!0,this.m_Queue=[],this.m_VideoMgmt=new Zn,this.m_EmbeddedDataMap=new Map,this.m_VideoHandler=br(),t.runtime.onMessage.addListener(this.onMessageHandler.bind(this)),this.processQueueAsync(this)}get name(){return B.YT}enableProtocol(){this.m_Enabled=!0}disableProtocol(){this.m_Enabled=!1}isEnabled(e){return null==e||0==Yn.has(e,B.YT)||null==e[B.YT]||"boolean"!=typeof e[B.YT]||e[B.YT]}onMessageHandler(e,t,n){if(null!=e&&0!=Yn.has(e,"id")&&null!=e.id&&0!=this.m_Enabled)switch(e.id){case f.detector.yt.sendInitialConfig:Yn.has(e,"config")&&null!=e.config&&this.m_Queue.push({type:ue,data:e});break;case f.detector.yt.sendSubsequentConfig:Yn.has(e,"config")&&null!=e.config&&this.m_Queue.push({type:he,data:e});case f.detector.yt.sendEmbeddedConfig:}}canApply(e){try{if(null==e)throw"YouTubeProtocol::canApply() -> no data where provided";if(0==Yn.has(e,"responseData"))throw"YouTubeProtocol::canApply() -> HTTP response is not present";if(Yn.isEmpty(e.responseData))throw"YouTubeProtocol::canApply() -> HTTP response is empty";if(0==Yn.has(e.responseData,"url"))throw"YouTubeProtocol::canApply() -> url is missing";if(null==e.responseData.url||0==e.responseData.url.length)throw"YouTubeProtocol::canApply() -> url is null or empty";if(0==Yn.has(e.responseData,"tabId"))throw"YouTubeProtocol::canApply() -> tabId is missing";if(null==e.responseData.tabId||0==e.responseData.tabId.length)throw"YouTubeProtocol::canApply() -> tabId is null or empty"}catch(e){return-1}let t=ke(e.responseData.responseHeaders),n=v.tryGettingHeader("content-type",t);if(null!=n){let t=n.toLowerCase();if(e.responseData.url.toLowerCase().endsWith("www.youtube.com/")&&t.includes("text/html"))return 0;if(e.responseData.url.includes("youtube.com/watch?")&&t.includes("application/json"))return 2;if(g.yt.nextCallUrl.test(e.responseData.url)&&t.includes("application/json"))return 2;if(e.responseData.url.includes("youtube.com/get_video_info?")&&t.includes("application/x-www-form-urlencoded"))return 0;if(e.responseData.url.includes("youtube.com/embed/")&&t.includes("text/html"))return 0}return 1}apply(e){try{if(null==e)throw"YouTubeProtocol::apply() -> no data where provided";if(0==Yn.has(e,"responseData"))throw"YouTubeProtocol::apply() -> HTTP response is not present";if(Yn.isEmpty(e.responseData))throw"YouTubeProtocol::apply() -> HTTP response is empty";if(0==Yn.has(e.responseData,"url"))throw"YouTubeProtocol::apply() -> url is missing";if(null==e.responseData.url||0==e.responseData.url.length)throw"YouTubeProtocol::apply() -> url is null or empty";if(0==Yn.has(e.responseData,"tabId"))throw"YouTubeProtocol::apply() -> tabId is missing";if(null==e.responseData.tabId||0==e.responseData.tabId.length)throw"YouTubeProtocol::apply() -> tabId is null or empty";if(e.responseData.tabId<0)throw"YouTubeProtocol::apply() -> tabless videos are not supported yet"}catch(e){return}let t=ke(e.responseData.responseHeaders),n=v.tryGettingHeader("content-type",t);if(null!=n){let t=n.toLowerCase();if(e.responseData.url.toLowerCase().endsWith("www.youtube.com/")&&t.includes("text/html"))return void this.m_Queue.push({type:fe,data:e});if(e.responseData.url.toLowerCase().includes("youtube.com/embed/")&&-1!=t.indexOf("text/html")){let t=new RegExp("youtube\\.com\\/embed\\/([\\w\\-_]+)\\??","i"),n=e.responseData.url.match(t),r=null;if(null==n)return;if(r=n[1],null==r||0==r.length)return;this.m_EmbeddedDataMap.set(r,{pageUrl:e.responseData.url})}if(-1!=e.responseData.url.toLowerCase().indexOf("youtube.com/get_video_info?")&&-1!=t.indexOf("application/x-www-form-urlencoded")){let t=new RegExp("&video_id=([\\w\\-_]+)","i"),n=e.responseData.url.match(t),r=null;if(null==n)return;if(r=n[1],null==r)return;let i=this.m_EmbeddedDataMap.get(r);if(null==i)return;return this.m_Queue.push({type:de,videoId:r,embeddedPageUrl:i.pageUrl,data:e}),void this.m_EmbeddedDataMap.delete(r)}}}async processQueueAsync(e){let n=null,r=null;for(;;){try{if(0==e.m_Queue.length){try{await Ee()(250)}catch(e){}continue}for(;void 0!==(n=e.m_Queue.shift());){if(null==n)continue;try{if(0==Yn.has(n,"type"))throw"queue item does not have required field 'type'";if(null==n.type)throw"queue item field 'type' is null"}catch(e){continue}if(0==e.m_Enabled)continue;switch(n.type){case de:case fe:case pe:try{r=n.data.responseData.tabId}catch(e){continue}break;case ue:case he:try{r=n.data.tabId}catch(e){continue}break;default:continue}if(null==r||-1==r)continue;n.data.description={};let i=null;try{i=await w.tabGetById(r),w.tabsHandleLastError(t.runtime.lastError)}catch(e){}switch(null!=i&&(n.data.description.title=i.title,n.data.description.webpage=i.url,n.data.description.incognito=i.incognito,r=null),n.type){case ue:e.m_VideoMgmt.addConfigInitial(e.m_VideoMgmt,n.data);break;case he:n.data.description.webpage=n.data.description.title=null,e.m_VideoMgmt.addConfigSubsequent(e.m_VideoMgmt,n.data);break;case de:{n.data.description.webpage=n.data.description.title=null;let t=null;Yn.has(n.data.responseData,"documentUrl")&&null!=n.data.responseData.documentUrl&&n.data.responseData.documentUrl.length>0?t=n.data.responseData.documentUrl:Yn.has(n,"embeddedPageUrl")&&null!=n.embeddedPageUrl&&n.embeddedPageUrl.embeddedPageUrl.length>0&&(t=n.embeddedPageUrl.embeddedPageUrl);try{let e=await v.xhr3("GET",t,null);if(!e||Yn.isEmpty(e))throw"embedded page GET XHR result is null or empty";if(e.status,null==e["response-value"]||0==e["response-value"].length)throw"embedded page GET XHR result value is null or empty";n.embeddedPage=e["response-value"]}catch(e){break}try{let e=await v.xhr3("GET",n.data.responseData.url,null);if(!e||Yn.isEmpty(e))throw"embedded config GET XHR result is null or empty";if(e.status,null==e["response-value"]||0==e["response-value"].length)throw"embedded config GET XHR result value is null or empty";n.embeddedConfig=e["response-value"]}catch(e){break}e.m_VideoMgmt.addConfigEmbedded(e.m_VideoMgmt,n)}break;case fe:try{let e=await v.xhr3("GET",n.data.responseData.url,null);if(!e||Yn.isEmpty(e))throw"homepage GET XHR result is null or empty";if(e.status,null==e["response-value"]||0==e["response-value"].length)throw"homepage GET XHR result value is null or empty";n.homepageContents=e["response-value"]}catch(e){break}e.m_VideoMgmt.extractPlayerUrlFromHomepage(e.m_VideoMgmt,n);break;case pe:n.data.description.webpage=n.data.description.title=null;try{let e=await v.xhr3("GET",n.data.responseData.url,null);if(!e||Yn.isEmpty(e))throw"YouTubeDataSourceType.CallNext -> GET XHR result is null or empty";if(e.status,null==e["response-value"]||0==e["response-value"].length)throw"YouTubeDataSourceType.CallNext -> GET XHR result value is null or empty";n.config={playerConfig:e["response-value"]}}catch(e){break}e.m_VideoMgmt.addConfigInitial(e.m_VideoMgmt,n)}}}catch(e){}try{await Ee()(250)}catch(e){}}}}var Jn=n(29),Xn=n(15),er=n(447);class tr{constructor(){this.id=null,this.key=null,this.url=null,this.itag=null,this.contentType=null,this.type="youtubeNowPlayingStreamTypeUnknown",null!=arguments&&arguments.length>0&&null!=arguments[0]&&this.initialize(arguments[0])}get isVideo(){return null!=this.contentType?g.yt.streamTypeVideo.test(this.contentType):null}get isAudio(){return null!=this.contentType?g.yt.streamTypeAudio.test(this.contentType):null}get isSolid(){if(this.isVideo){let e=tr.getSolidItags();for(let t of e)if(this.itag==t)return!0;return!1}return null}static getSolidItags(){return["18","22","43"]}static getQualityLabelByItag(e){let t=ve.get(Number(e));return null!=t?t.label:null}getAsVdObject(){return this.key,{key:this.key,url:this.url,meta:{content_type:this.contentType,type:this.type,itag:this.itag}}}getStreamIdFromWebpage(e){if(void 0===e||null==e)return null;let t=null;try{if(t=e.match(g.yt.youtubeVideoId),null!=t)return t[1]}catch(e){}try{t=e.match(g.yt.youtubeChannelId),null!=t&&(this.id=t[1])}catch(e){}let n=[new RegExp("https\\:\\/\\/music\\.youtube\\.com","i"),new RegExp("https\\:\\/\\/www\\.youtube\\.com","i"),new RegExp("https\\:\\/\\/youtube\\.com","i")];for(let t of n)if(t.test(e))return Jn(e);return null}initialize(e){let t=null;if(this.id=this.getStreamIdFromWebpage(e.description.webpage),null==this.id)throw null;try{t=e.responseData.url.match(g.yt.itag),null!=t&&(this.itag=t[1])}catch(e){}this.url=e.responseData.url;for(let e of g.yt.streamUrlStripTokens)this.url=this.url.replace(e,"");if(t=e.responseData.url.match(g.yt.mime),null!=t)try{this.contentType=unescape(t[1]).toLowerCase(),this.isAudio?this.type=ge:this.isVideo?this.type=ye:this.isSolid&&(this.type=me)}catch(e){}}}class nr{constructor(){this.reset(),this.m_IgnoreVideosByTab=new Map,this.m_VideoHandler=br(),t.runtime.onMessage.addListener(this.onMessageEventListener.bind(this))}reset(){this.key=null,this.meta={ytVideoId:null,ytStreamId:null},this.m_SolidVideos=new Map,this.m_AudioStreams=new Map,this.m_VideoStreams=new Map,this.description={title:null,webpage:null,incognito:null}}onMessageEventListener(e,t,n){if(e&&Xn.has(e,"id")&&e.id==f.detector.ytnp.ignoreVideoDetection){if(0==Xn.has(e,"ytStreamId"))return;if(0==Xn.has(e,"tabId"))return;this.m_IgnoreVideosByTab.set(`${e.tabId}:${e.ytStreamId}`,{})}}addStream(e){try{if(null==e)throw"YouTubeNowPlayingVideo::addStream: no data where provided";if(0==Xn.has(e,"responseData"))throw"YouTubeNowPlayingVideo::addStream() -> HTTP response is not present";if(Xn.isEmpty(e.responseData))throw"YouTubeNowPlayingVideo::addStream() -> HTTP response is empty";if(0==Xn.has(e.responseData,"url"))throw"YouTubeNowPlayingVideo::addStream() -> url is missing";if(null==e.responseData.url||0==e.responseData.url.length)throw"YouTubeNowPlayingVideo::addStream() -> url is null or empty"}catch(e){return}let t=new tr(e);if(null!=t.id&&!this.m_IgnoreVideosByTab.has(`${e.responseData.tabId}:${this.meta.ytVideoId}`)){if(this.meta.ytVideoId!=t.id&&(this.reset(),this.meta.ytVideoId=t.id),this.key=re.generateKey({tabId:e.responseData.tabId,hash:`avd_ytnp_${this.meta.ytVideoId}`}),Xn.has(e,"description")&&null!=e.description&&Object.assign(this.description,e.description),t.isAudio)t.key=`stream:audio_${t.itag}:${this.key}`,this.m_AudioStreams.set(t.key,t);else if(t.isVideo)t.key=`stream:video_${t.itag}:${this.key}`,this.m_VideoStreams.set(t.key,t);else{if(!t.isSolid)return;t.key=`stream:solid_${t.itag}:${this.key}`,this.m_SolidVideos.set(t.key,t)}this.tryStoring()}}tryStoring(){if(0==(this.m_SolidVideos.size>0||this.m_AudioStreams.size>0&&this.m_VideoStreams.size>0))return;var e=this;let t=new se({key:this.key,url:null,session:N(),promoteNA:!1,protocol:B.YTNP,state:q,description:this.description,meta:{ytVideoId:this.meta.ytVideoId,ytStreamId:this.meta.ytStreamId},media:{solids:[],videos:[],audios:[]}});for(let[,e]of this.m_SolidVideos)t.media.solids.push(e.getAsVdObject());0==t.media.solids.length&&delete t.media.solids;for(let[,e]of this.m_AudioStreams)t.media.audios.push(e.getAsVdObject());for(let[,e]of this.m_VideoStreams)t.media.videos.push(e.getAsVdObject());er((function*(){let n=null,r=!1;try{n=yield w.NAQueryVersion()}catch(e){}if(null!=n&&Xn.has(n,"id")&&Xn.has(n,"version")&&null!=n.id&&null!=n.version&&"query-version"==n.id.toLowerCase()&&n.version.length>0&&(r=!0),0==r){let e=re.parseKey(t.key);null==e||(t.key=re.generateKey({tabId:e.tabId,url:t.description.webpage}),t.promoteNA=!0,t.state=H)}try{e.m_VideoHandler.detected(t)}catch(e){}})).catch((e=>{}))}}class rr{constructor(){this.m_StreamsQueue=[],this.m_NowPlayingVideo=new nr,this.m_VideoHandler=br(),t.tabs.onRemoved.addListener(this.onTabRemovedEventListener.bind(this)),this.processStreamsQueueAsync(this)}get name(){return B.YTNP}isEnabled(e){return null==e||0==Xn.has(e,B.YTNP)||null==e[B.YTNP]||"boolean"!=typeof e[B.YTNP]||e[B.YTNP]}onTabRemovedEventListener(e,t){try{null!=this.m_NowPlayingVideo&&this.m_NowPlayingVideo.reset();for(let t of this.m_IgnoreVideosByTab.keys())t.includes(e)&&this.m_IgnoreVideosByTab.delete(t)}catch(e){}}canApply(e){try{if(null==e)throw"YouTubeNowPlayingProtocol::canApply: no data where provided";if(0==Xn.has(e,"responseData"))throw"YouTubeNowPlayingProtocol::canApply: HTTP response is not present";if(Xn.isEmpty(e.responseData))throw"YouTubeNowPlayingProtocol::canApply: HTTP response is empty";if(0==Xn.has(e.responseData,"url"))throw"YouTubeNowPlayingProtocol::canApply: url is missing";if(null==e.responseData.url||0==e.responseData.url.length)throw"YouTubeNowPlayingProtocol::canApply: url is null or empty"}catch(e){return-1}for(let n of g.yt.streamUrlHosts)if(1==n.test(e.responseData.url)){var t=e.responseData.url.match(g.yt.ctier);return null!=t&&("L"!=t[1]&&t[1],"L"==t[1])?2:-1!=e.responseData.url.toLowerCase().indexOf("mpd_version")?1:0}return 1}apply(e){try{if(null==e)throw"YouTubeNowPlayingProtocol::apply() -> no data where provided";if(0==Xn.has(e,"responseData"))throw"YouTubeNowPlayingProtocol::apply() -> HTTP response is not present";if(Xn.isEmpty(e.responseData))throw"YouTubeNowPlayingProtocol::apply() -> HTTP response is empty";if(0==Xn.has(e.responseData,"url"))throw"YouTubeNowPlayingProtocol::apply() -> url is missing";if(null==e.responseData.url||0==e.responseData.url.length)throw"YouTubeNowPlayingProtocol::apply() -> url is null or empty";(0==Xn.has(e.responseData,"tabId")||null==e.responseData.tabId||0==e.responseData.tabId.length||e.responseData.tabId<0)&&(e.responseData.tabId=le)}catch(e){return}this.m_StreamsQueue.push(e)}async processStreamsQueueAsync(e){let n=null;if(0!=Xn.has(e,"m_NowPlayingVideo")&&null!=e.m_NowPlayingVideo)for(;;){try{if(0==e.m_StreamsQueue.length){try{await Ee()(750)}catch(e){}continue}for(;void 0!==(n=e.m_StreamsQueue.shift());)if(null!=n){if(n.responseData.tabId!=le){let e=null;try{e=await w.tabGetById(n.responseData.tabId),w.tabsHandleLastError(t.runtime.lastError)}catch(e){}null!=e&&(n.description={title:null,webpage:null,incognito:null},n.description.title=e.title,n.description.webpage=e.url,n.description.incognito=e.incognito)}try{e.m_NowPlayingVideo.addStream(n)}catch(e){}}}catch(e){}try{await Ee()(750)}catch(e){}}}}var ir=n(681),sr=n(15),ar=n(447),or=null;class lr{constructor(){this.m_EnableDetection=!0,this.m_ProtocolsEnabledMap={},this.mutedTabs=[],this.m_ProtocolsEnabledMap[B.YT]=!0,this.m_ProtocolsEnabledMap[B.YTNP]=!0,this.m_ProtocolsEnabledMap[B.HLS]=!0,this.m_ProtocolsEnabledMap[B.Vimeo]=!0,this.m_ProtocolsEnabledMap[B.MPD]=!0,this.m_ProtocolsEnabledMap[B.Scoring]=!0,this.m_Protocols={[B.YT]:null,[B.YTNP]:null,[B.HLS]:null,[B.Vimeo]:null,[B.MPD]:null,[B.Scoring]:null},this.m_LinkMap=new Map,this.m_KeyRegexp=new RegExp("(\\-?\\w+)\\:","i"),this.m_IsBrowserUserAgentSet=!1,this.m_IgnoreContentTypes=new Map([["stylesheet",!0],["script",!0],["image",!0],["font",!0]]);let e=P();null!=e&&(this.loadProtocols(),this.addHandlers(),!1===e.getValue(ir.extension.videoDetector.enable)&&this.disableDetection())}get detectionState(){return this.m_EnableDetection}loadProtocols(){try{this.m_Protocols[B.YTNP]=new rr}catch(e){}try{this.m_Protocols[B.YT]=new Kn}catch(e){}try{this.m_Protocols[B.HLS]=new Pe}catch(e){}try{this.m_Protocols[B.Vimeo]=new Le}catch(e){}try{this.m_Protocols[B.MPD]=new Ve}catch(e){}try{this.m_Protocols[B.Scoring]=new ze}catch(e){}Object.values(this.m_Protocols).length}addHandlers(){let e={urls:["<all_urls>"]},n=["requestHeaders"],r=["responseHeaders"];t.$type!=s&&(n.push("extraHeaders"),r.push("extraHeaders"));try{t.tabs.onRemoved.addListener(this.onTabRemovedEventListener.bind(this))}catch(e){}try{t.webRequest.onBeforeSendHeaders.addListener(this.OnBeforeSendHeadersListener.bind(this),e,n)}catch(n){try{t.webRequest.onBeforeSendHeaders.addListener(this.OnBeforeSendHeadersListener.bind(this),e,["requestHeaders"])}catch(e){}}try{t.webRequest.onHeadersReceived.addListener(this.onHeadersReceivedListener.bind(this),e,r)}catch(n){try{t.webRequest.onHeadersReceived.addListener(this.onHeadersReceivedListener.bind(this),e,["responseHeaders"])}catch(e){}}}enableDetection(){this.m_EnableDetection=!0,this.m_Protocols[B.YT].enableProtocol()}disableDetection(){this.m_EnableDetection=!1,this.m_Protocols[B.YT].disableProtocol()}muteTab(e){0==this.mutedTabs.includes(e)&&this.mutedTabs.push(e)}unmuteTab(e){this.mutedTabs.includes(e)&&this.mutedTabs.splice(this.mutedTabs.indexOf(e),1)}enableProtocol(e){sr.has(this.m_ProtocolsEnabledMap,e)&&(this.m_ProtocolsEnabledMap[e]=!0);for(let[t,n]of Object.entries(this.m_Protocols))t==e&&null!=n&&"function"==typeof n.enableProtocol&&n.enableProtocol()}disableProtocol(e){sr.has(this.m_ProtocolsEnabledMap,e)&&(this.m_ProtocolsEnabledMap[e]=!1);for(let[t,n]of Object.entries(this.m_Protocols))t==e&&null!=n&&"function"==typeof n.disableProtocol&&n.disableProtocol()}setScoringSetting(e,t){if(this.m_Protocols[B.Scoring])switch(e){case ir.extension.videoDetector.protocols.scoring.detector.ignore.noSize:"boolean"!=typeof t||(this.m_Protocols[B.Scoring].m_ScoringSettings.doNotDetectFilesWithNoSize=t);break;case ir.extension.videoDetector.protocols.scoring.detector.ignore.zeroSize:"boolean"!=typeof t||(this.m_Protocols[B.Scoring].m_ScoringSettings.doNotDetectFilesWith0Size=t);break;case ir.extension.videoDetector.protocols.scoring.detector.ignore.lessThanSize.enabled:"boolean"!=typeof t||(this.m_Protocols[B.Scoring].m_ScoringSettings.doNotDetectFilesSmallerThan=t);break;case ir.extension.videoDetector.protocols.scoring.detector.ignore.lessThanSize.limit:{let e=Number(t);Number.isNaN(e)||(this.m_Protocols[B.Scoring].m_ScoringSettings.doNotDetectFilesSmallerThanSize=e)}break;case ir.extension.videoDetector.protocols.scoring.detector.ignore.octetStreamNoFile:"boolean"!=typeof t||(this.m_Protocols[B.Scoring].m_ScoringSettings.doNotDetectFilesWithNoCT=t)}}onTabRemovedEventListener(e,t){this.mutedTabs.includes(e)&&this.mutedTabs.splice(this.mutedTabs.indexOf(e),1);let n=this.m_LinkMap.keys();if(null!=n&&n.length>0)for(let t of n)try{let n=t.match(this.m_KeyRegexp);null!=n&&n.length>=2&&n[1]==e&&this.m_LinkMap.delete(t)}catch(e){}}OnBeforeSendHeadersListener(e){if(0==this.m_IsBrowserUserAgentSet){let r=null;if(e.requestHeaders&&e.requestHeaders.length>0)for(let t of e.requestHeaders)if(null!=t&&sr.has(t,"name")&&null!=t.name&&"user-agent"==t.name.toLowerCase()){r=t.value;break}if(null!=r){var t=this,n=R();ar((function*(){yield n.updateUserAgent(r),t.m_IsBrowserUserAgentSet=!0})).catch((function(e){}))}}if(0!=this.m_EnableDetection&&!this.mutedTabs.includes(e.tabId)&&null!=e&&1!=this.m_IgnoreContentTypes.has(e.type)&&0!=sr.has(e,"url"))if(0!=sr.has(e,"tabId")&&null!=e.tabId||(e.tabId=le),e.tabId==le);else{let t=_e(e.tabId,e.url);0==this.m_LinkMap.has(t)&&this.m_LinkMap.set(t,{requestData:e})}}onHeadersReceivedListener(e){if(0!=this.m_EnableDetection&&!this.mutedTabs.includes(e.tabId)&&null!=e&&1!=this.m_IgnoreContentTypes.has(e.type)&&0!=sr.has(e,"url"))if(0!=sr.has(e,"tabId")&&null!=e.tabId||(e.tabId=le),e.tabId==le);else{let t=_e(e.tabId,e.url),n={};this.m_LinkMap.has(t)&&(n=this.m_LinkMap.get(t)),n.responseData=e;for(let[,e]of Object.entries(this.m_Protocols)){if(null==e||void 0===e)continue;if(0==e.isEnabled(this.m_ProtocolsEnabledMap))continue;let t=e.canApply(n);if(0==t)e.apply(n);else if(1==t)continue;break}this.m_LinkMap.delete(t)}}}function cr(){return null==or&&(or=new lr),or}var ur=n(15),hr=n(681),pr=n(447),dr=n(102),fr=null;const mr={TargetFilenameUpdatedByUser:"target-filename-updated-by-user",DownloadingProgress:"downloading-progress",MergingProgress:"download-merging",ConvertingProgress:"download-converting",DownloadingCancel:"downloading-cancel",DownloadingError:"downloading-error",HostError:"host-error",ProtocolError:"protocol-error",DownloadFinished:"download-finished"},gr={16:"icons/avd_16_bw.png",20:"icons/avd_20_bw.png",24:"icons/avd_24_bw.png",25:"icons/avd_25_bw.png",30:"icons/avd_30_bw.png",32:"icons/avd_32_bw.png",40:"icons/avd_40_bw.png",48:"icons/avd_48_bw.png",64:"icons/avd_64_bw.png",128:"icons/avd_128_bw.png",256:"icons/avd_256_bw.png"},yr={16:"icons/avd_16.png",20:"icons/avd_20.png",24:"icons/avd_24.png",25:"icons/avd_25.png",30:"icons/avd_30.png",32:"icons/avd_32.png",40:"icons/avd_40.png",48:"icons/avd_48.png",64:"icons/avd_64.png",128:"icons/avd_128.png",256:"icons/avd_256.png"};class vr{constructor(){this.videos_map={[le]:{}},this.queue=[],this.mutedTabs=[],this.isFirefox=t.$type==s,this.privateTabs={},this.connections={native:{},internal:{}},this.event_handlers={[f.handler.count.byTab]:this.onCountVideosByTabEvent.bind(this),[f.handler.query.popupData]:this.onQueryPopupDataEvent.bind(this),[f.handler.videoDetection]:this.onVideoDetectionControlEvent.bind(this)},this.msg_handlers={[f.handler.query.all]:{handler:this.onVideoHandlerQueryAll.bind(this),responseRequired:!0},[f.handler.query.nonIdle]:{handler:this.onVideoHandlerQueryNonIdle.bind(this),responseRequired:!0},[f.handler.query.byTab]:{handler:this.onVideoHandlerQueryByTab.bind(this),responseRequired:!0},[p.startDownload]:{handler:this.onStartDownload.bind(this),responseRequired:!1},[p.startDownloadViaBrowser]:{handler:this.onStartDownloadViaBrowser.bind(this),responseRequired:!1},[p.cancelDownload]:{handler:this.onCancelDownload.bind(this),responseRequired:!1},[p.deleteDownload]:{handler:this.onDeleteDownload.bind(this),responseRequired:!1},[p.deleteDownloads]:{handler:this.onDeleteDownloads.bind(this),responseRequired:!1},[f.handler.removeFromList]:{handler:this.onRemoveFromList.bind(this),responseRequired:!1},[f.handler.removeFromListBulk]:{handler:this.onRemoveFromListBulk.bind(this),responseRequired:!1},[f.handler.resetVideo]:{handler:this.onResetVideo.bind(this),responseRequired:!1},[f.handler.disconnectPeer]:{handler:this.onPeerDisconnect.bind(this),responseRequired:!1}},this.contextMenuIds={muteTab:null,enableVideoDetection:null,clearDetected:null,openDownloads:null,openSettings:null,openBlacklist:null},t.runtime.onMessage.addListener(this.onMessageEventListener.bind(this)),t.runtime.onConnect.addListener(this.onConnectHandler.bind(this)),t.downloads.onChanged.addListener(this.onBrowserDownloadsChanged.bind(this)),t.webNavigation.onCommitted.addListener(this.onWebNavigationCommited.bind(this)),t.contextMenus.onClicked.addListener(this.onContextMenuEventListener.bind(this)),t.tabs.onCreated.addListener(this.onTabCreated.bind(this)),t.tabs.onRemoved.addListener(this.onTabRemoved.bind(this)),this.contextMenuIds.muteTab=t.contextMenus.create({title:"Mute/Unmute video detection on this tab",contexts:["browser_action"]}),this.contextMenuIds.enableVideoDetection=t.contextMenus.create({title:"Enable/disable video detection (all tabs)",contexts:["browser_action"]}),this.contextMenuIds.clearDetected=t.contextMenus.create({title:"Clear videos for this tab (except active)",contexts:["browser_action"]}),this.contextMenuIds.openDownloads=t.contextMenus.create({title:"Open Downloads page",contexts:["browser_action"]}),this.contextMenuIds.openSettings=t.contextMenus.create({title:"Open Settings page",contexts:["browser_action"]}),this.loadPreviousPerBrowserDownloads(),this.processQueueAsync(this)}get(e){for(let t of Object.values(this.videos_map))if(ur.has(t,e))return t[e];return null}onMessageEventListener(e,t,n){try{if(ur.isEmpty(e))throw"Invalid argument 'message' (null or empty)";if(0==ur.has(e,"id")||null==e.id)throw"Invalid argument 'id' (null or empty)"}catch(e){return}for(let[r,i]of Object.entries(this.event_handlers))if(r==e.id&&null!=i&&"function"==typeof i)try{i(e,t,n)}catch(e){}}onConnectHandler(e){null!=e&&void 0!==e&&0!=ur.has(e,"name")&&null!=e.name&&(this.connections.internal[e.name]=e,this.connections.internal[e.name].onMessage.addListener(this.onInternalPortListener.bind({context:this,name:e.name})))}onInternalPortListener(e){try{if(0==ur.has(this,"context")||0==ur.has(this,"name"))throw"'this' is not properly initialized";if(null==this.context||null==this.name)throw"'this' is not properly initialized (contains null propeprties)";if(0==ur.has(this.context.connections.internal,this.name))throw`${this.name} is not implemented`;if(ur.isEmpty(e))throw"Invalid argument 'message' (null or empty)";if(0==ur.has(e,"id")||null==e.id)throw"Invalid argument 'id' (null or empty)"}catch(e){return}let t=!1;for(let[n,r]of Object.entries(this.context.msg_handlers))if(e.id==n&&ur.has(r,"handler")&&null!=r.handler&&"function"==typeof r.handler){t=!0;let i=r.handler(e);!0===r.responseRequired&&this.context.connections.internal[this.name].postMessage({id:n,response:i})}}onContextMenuEventListener(e,n){switch(e.menuItemId){case this.contextMenuIds.openDownloads:try{w.smartOpenNewTab2(t.runtime.getURL("ui/frontend/dist/downloads.html"),n.incognito)}catch(e){}return;case this.contextMenuIds.openSettings:try{w.smartOpenNewTab(t.runtime.getURL("ui/frontend/dist/settings.html"))}catch(e){}return;case this.contextMenuIds.clearDetected:return this.clearDetectedByTab(n.id);case this.contextMenuIds.muteTab:return this.onMuteUnmuteByTabContextMenuItemClick(n.id);case this.contextMenuIds.enableVideoDetection:return this.onEnableDisableVideoDetectionContextMenuItemClick()}}onTabCreated(e){!0===this.isFirefox&&!0===e.incognito&&0==ur.has(this.privateTabs,e.id)&&(this.privateTabs[e.id]=e)}onTabRemoved(e,t){if(this.mutedTabs.includes(e)&&this.mutedTabs.splice(this.mutedTabs.indexOf(e),1),!0===this.isFirefox&&ur.has(this.privateTabs,e)){let t=!0,n=P();if(null!=n&&(t=n.getValue(hr.extension.privacy.storeDownloadsInPrivate.mode)==hr.extension.privacy.storeDownloadsInPrivate.ModeNone),!0===t&&ur.has(this.videos_map,e)){let t=[];for(let[n,r]of Object.entries(this.videos_map[e]))0==ne.includes(r.state)&&(t.push(n),delete this.videos_map[e][n]);ur.isEmpty(this.videos_map[e])&&delete this.videos_map[e],t.length>0&&this.removingBulk(t)}delete this.privateTabs[e]}if(0!=ur.has(this.videos_map,e))try{let t=[];for(let[n,r]of Object.entries(this.videos_map[e]))te.includes(r.state)&&(t.push(n),delete this.videos_map[e][n]);t.length>0&&this.notifyInternalPeers({id:f.handler.events.onVideoRemoved,keys:t})}catch(e){}}onBrowserDownloadsChanged(e){if(0!=ur.has(e,"state")&&null!=e.state&&0!=ur.has(e.state,"current")&&null!=e.state.current){var n=this;pr((function*(){let r=null;for(let[,t]of Object.entries(n.videos_map))for(let[,n]of Object.entries(t))try{if(n.download.executor.browserDownloadId==e.id){r=n;break}}catch(e){continue}if(null==r)return;var i=ie.generateKey({sessionId:r.session.id,key:r.key});ur.has(e,"filename")&&null!=e.filename&&ur.has(e.filename,"current")&&null!=e.filename.current&&(r.download.target.filename=e.filename.current);let a=["interrupted","in_progress","complete"].includes(e.state.current),o=["in_progress","complete"].includes(e.state.current);if("interrupted"===e.state.current)r.state=K,r.download.error="Downloading was interrupted",ur.has(e,"error")&&null!=e.error&&ur.has(e.error,"current")&&e.error.current&&("USER_CANCELED"==e.error.current?(r.state=Y,r.download.error=null,r.download.progress.message="Download was cancelled by the user"):(r.state=K,r.download.error=`Error while downloading file: ${e.error.current}`)),w.removeFromLocalStorage([i]).then((()=>{}),(e=>{}));else if("in_progress"===e.state.current)r.state=z,r.download.progress.message="";else if("complete"===e.state.current&&(r.state=Q,null==r.download.target.filename||0==r.download.target.filename.length)){r.download.target.filename=`Browser download id ${r.download.executor.browserDownloadId} cannot be found`;try{let e=yield w.downloads.search({id:r.download.executor.browserDownloadId});if(null!=e&&e.length>0){let t=e[0];r.download.target.filename=t.filename}}catch(e){}}if(!0===a&&n.downloading(r),!0===o){let e=!0===r.description.incognito,n=!0;if(t.$type==s&&e){n=!1;let e=P();null==e||e.getValue(hr.extension.privacy.storeDownloadsInPrivate.mode)===hr.extension.privacy.storeDownloadsInPrivate.mode.ModeInStorage&&(n=!0)}if(!0===n){let e={[ie.generateKey({sessionId:r.session.id,key:r.key})]:{key:r.key,url:r.url,description:r.description,protocol:r.protocol,state:r.state,download:r.download,created:r.created}};yield w.setIntoLocalStorage(e)}}})).catch((e=>{}))}}onNativeMessagingPortListener(e){try{if(null==e)throw"input parameter is null";if(0==ur.has(e,"id"))throw`input parameter does not contain property 'id': ${JSON.stringify(e)}`;if(null==e.id)throw`message id is null: ${JSON.stringify(e)}`;if(0==ur.has(this,"context")||null==this.context)throw"this.context is not available";if(0==ur.has(this.context,"videos_map")||null==this.context.videos_map)throw"this.context.videos_map is not available";if(0==ur.has(this,"key")||null==this.key)throw"this.key is not available"}catch(e){return}let n=re.parseKey(this.key);if(null==this.context.videos_map[n.tabId][this.key]||void 0===this.context.videos_map[n.tabId][this.key])return;if([Z,Y].includes(this.context.videos_map[n.tabId][this.key].state)&&e.id!=mr.DownloadingCancel)return;let r=!1,i=!0===this.context.videos_map[n.tabId][this.key].description.incognito,a=!1,o=ie.generateKey({sessionId:this.context.videos_map[n.tabId][this.key].session.id,key:this.context.videos_map[n.tabId][this.key].key});switch(e.id){case mr.TargetFilenameUpdatedByUser:this.context.videos_map[n.tabId][this.key].download.target.filenameUpdatedByUser=!0,this.context.videos_map[n.tabId][this.key].download.target.filenameProvidedByUser=e["new-target-filename"];break;case mr.DownloadingProgress:this.context.videos_map[n.tabId][this.key].state=z,this.context.videos_map[n.tabId][this.key].download.progress.message=e.message,this.context.videos_map[n.tabId][this.key].download.progress["snack-message"]=e["snack-message"],this.context.videos_map[n.tabId][this.key].download.progress["eta-label"]=e["eta-label"],this.context.videos_map[n.tabId][this.key].download.progress.percentage=e.percentage,this.context.videos_map[n.tabId][this.key].download.progress.executorPID=e.executorPID;break;case mr.MergingProgress:this.context.videos_map[n.tabId][this.key].state=$,a=!0;break;case mr.ConvertingProgress:this.context.videos_map[n.tabId][this.key].state=G,a=!0;break;case mr.DownloadingCancel:this.context.videos_map[n.tabId][this.key].state=Y,r=!0;break;case mr.DownloadingError:case mr.HostError:case mr.ProtocolError:this.context.videos_map[n.tabId][this.key].state=K,ur.has(e,"message")&&null!=e.message&&(this.context.videos_map[n.tabId][this.key].download.error=e.message),r=!0;break;case mr.DownloadFinished:this.context.videos_map[n.tabId][this.key].state=Q,this.context.videos_map[n.tabId][this.key].download.target.filename=e["target-filename"],this.context.videos_map[n.tabId][this.key].download.target.size=e["target-size"],this.context.videos_map[n.tabId][this.key].download.progress={message:null},ur.has(e,"performance")&&null!=e.performance&&(this.context.videos_map[n.tabId][this.key].download.performance=e.performance)}if([mr.DownloadFinished,mr.DownloadingCancel,mr.DownloadingError,mr.HostError,mr.ProtocolError].includes(e.id))try{if(this.context.videos_map[n.tabId][this.key].download.executor.type==U&&ur.has(this.context.connections.native,this.key)){try{let e={session:N(),id:"host-exit"};this.context.connections.native[this.key].postMessage(e),this.context.connections.native[this.key].disconnect()}catch(e){}try{delete this.context.connections.native[this.key]}catch(e){}}}catch(e){}if(1==r)w.removeFromLocalStorage([o]).then((()=>{}),(e=>{}));else{if(t.$type==s&&!0===i){a=!0;let e=P();null==e||e.getValue(hr.extension.privacy.storeDownloadsInPrivate.mode)===hr.extension.privacy.storeDownloadsInPrivate.mode.ModeInStorage&&(a=!1)}if(0==a){let e={[o]:{key:this.context.videos_map[n.tabId][this.key].key,url:this.context.videos_map[n.tabId][this.key].url,description:this.context.videos_map[n.tabId][this.key].description,protocol:this.context.videos_map[n.tabId][this.key].protocol,state:this.context.videos_map[n.tabId][this.key].state,download:this.context.videos_map[n.tabId][this.key].download,created:this.context.videos_map[n.tabId][this.key].created}};w.setIntoLocalStorage(e).then((()=>{}),(e=>{}))}}this.context.downloading(this.context.videos_map[n.tabId][this.key])}onVideoHandlerQueryAll(e){if(e.id!=f.handler.query.all)return null;let t={};for(let e of Object.values(this.videos_map))Object.assign(t,e);return t}onVideoHandlerQueryNonIdle(e){if(e.id!=f.handler.query.nonIdle)return null;if(0==ur.has(e,"incognito")||null==e.incognito)return null;let t={},n=[q,j,H,J,X];for(let[,r]of Object.entries(this.videos_map))if(!ur.isEmpty(r))for(let[i,s]of Object.entries(r))n.includes(s.state)||1!=s.promoteNA&&s.description.incognito==e.incognito&&(t[i]=s);return t}onVideoHandlerQueryByTab(e){return e.id!=f.handler.query.byTab||0==ur.has(this.videos_map,e.tabId)?null:this.videos_map[e.tabId]}onStartDownload(e){try{if(ur.isEmpty(e))throw"Invalid argument 'message' (null or empty)";if(0==ur.has(e,"key")||null==e.key)throw"Invalid argument 'key' (null or empty)";if(0==ur.has(e,"selector"))throw"Required property 'selector' is missing"}catch(e){return}var n=this.get(e.key);if(null!=n&&!ur.isEmpty(n)&&!ne.includes(n.state)){var r=this;pr((function*(){let i=N();if(0==(yield w.NAQueryVersionCheck()))return n.state=K,n.download.error="Native app is not available",void r.downloading(n);let a=P();n.state=W,n.download.executor.type=U,n.download.selector=e.selector,r.downloading(n),!0===n.description.incognito&&(n.download.selector.privateDownloadsMode=a.getValue(hr.extension.downloads.private.mode));try{ur.has(r.connections.native,`${n.key}`)||(r.connections.native[n.key]=t.runtime.connectNative(v.nativeAppName))}catch(e){return n.state=K,n.download.error="Failed to connect to native app",void r.downloading(n)}r.connections.native[n.key].onMessage.addListener(r.onNativeMessagingPortListener.bind({context:r,key:n.key}));try{r.connections.native[n.key].postMessage({session:i,id:"start-download",descriptor:n})}catch(e){return n.state=K,n.download.error=`${e}`,void r.downloading(n)}let o=!0===n.description.incognito,l=!0;if(t.$type==s&&o&&(l=!1,null!=a)&&a.getValue(hr.extension.privacy.storeDownloadsInPrivate.mode)===hr.extension.privacy.storeDownloadsInPrivate.mode.ModeInStorage&&(l=!0),!0===l){let e=ie.generateKey({sessionId:n.session.id,key:n.key});yield w.setIntoLocalStorage({[e]:{key:n.key,url:n.url,description:n.description,protocol:n.protocol,state:n.state,download:n.download,created:n.created}})}})).catch((e=>{}))}}onStartDownloadViaBrowser(e){try{if(ur.isEmpty(e))throw"Invalid argument 'message' (null or empty)";if(0==ur.has(e,"key")||null==e.key)throw"Invalid argument 'key' (null or empty)";if(0==ur.has(e,"selector"))throw"Required property 'selector' is missing"}catch(e){return}var n=this.get(e.key);if(null==n)return;if(ur.isEmpty(n))return;if(ne.includes(n.state))return;if(n.download.selector=e.selector,0==[B.Scoring,B.YTNP,B.YT].includes(n.protocol))return n.state=K,n.download.error="Browser downloads are not supported for this protocol",void this.downloading(n);n.state=W,n.download.executor.type=F,this.downloading(n);let r="",i=".mp4",a=null;switch(n.protocol){case B.Scoring:a=n.url;break;case B.YT:{let t=null;if(ur.has(e.selector,"isSolid")&&1==e.selector.isSolid){if(t=n.media.solids.find((e=>e.$avd.key==n.download.selector.solidKey)),null!=t&&ur.has(t.meta,"content_type")&&null!=t.meta.content_type){let e=t.meta.content_type.match(g.content.type);null!=e&&e.length>=3&&(i="."+e[2].toLowerCase())}}else{if(!ur.has(e.selector,"downloadAudio")||1!=e.selector.downloadAudio)return n.state=K,n.download.error="Invalid selector",void this.downloading(n);if(t=n.media.adaptive.find((e=>e.$avd.key==n.download.selector.audioKey)),null!=t&&ur.has(t,"mimeType")&&null!=t.mimeType){let e=t.mimeType.match(g.content.type);null!=e&&e.length>=3&&(i="."+e[2].toLowerCase())}}if(null==t)return n.state=K,n.download.error="Stream was not found by given key",void this.downloading(n);a=t.url}break;case B.YTNP:return n.state=K,n.download.error="Support of YouTube Now Playing is not implemented yet",void this.downloading(n)}if(null==a)return n.state=K,n.download.error="URL was not extracted from the descriptor",void this.downloading(n);null!=n.description.title&&0!=n.description.title.length||(n.description.title="Unnamed media file");let o=v.getPathFromUrl(a);if(null!=o){let e=o.substring(o.lastIndexOf("/")+1,o.length).match(g.file.name);if(null!=e){r=e[1];var l=r.match(g.file.extension);null!=l&&l.length>0&&(i=l[0]),r=n.description.title==a?e[1]:n.description.title+i}}r=v.sanitize(r);let c={url:a,filename:r,conflictAction:"uniquify",saveAs:!0};t.$type==s&&(c.incognito=n.description.incognito);var u=ie.generateKey({sessionId:n.session.id,key:n.key}),h=this;w.downloadsDownload(c).then((e=>{if(void 0===e||null==e){let e="";return e=ur.has(t.runtime,"lastError")&&null!=t.runtime.lastError?`Failed to start download via browser: ${t.runtime.lastError.message}`:"Failed to start download via browser. No error was provided by the browser",n.state=K,n.download.error=e,void h.downloading(n)}n.state=z,n.download.executor.browserDownloadId=e,n.download.progress.message="",h.downloading(n);let r=!0===n.description.incognito,i=!0;if(t.$type==s&&r){i=!1;let e=P();null==e||e.getValue(hr.extension.privacy.storeDownloadsInPrivate.mode)===hr.extension.privacy.storeDownloadsInPrivate.mode.ModeInStorage&&(i=!0)}if(!0===i){let e={[u]:{key:n.key,url:n.url,description:n.description,protocol:n.protocol,state:n.state,download:n.download,created:n.created}};w.setIntoLocalStorage(e).then((()=>{}),(e=>{}))}}),(e=>{let t=null!=e&&"object"==typeof e?e.toString().toLowerCase():"unknown error (browser did not return any info)";t.startsWith("error: ")&&(t=t.replace("error: ","")),w.removeFromLocalStorage([u]).then((()=>{}),(e=>{})),n.state=K,n.download.error=t,h.downloading(n)}))}onDeleteDownload(e){}onDeleteDownloads(e){}onCountVideosByTabEvent(e,t,n){if(n){if(0==ur.has(e,"tabId")||null==e.tabId)return void n({error:!0,message:"Required property 'tabId' is missing or null"});if(0==ur.has(this.videos_map,e.tabId))return void n(0);n(Object.keys(this.videos_map[e.tabId]).length)}}onQueryPopupDataEvent(e,t,n){if(null==n||null==n||"function"!=typeof n)return;if(0==ur.has(e,"tabId")||null==e.tabId)return void n({error:!0,message:"required property 'tabId' is missing or null"});let r=0,i=0,s={},a={tabId:e.tabId,countVideosByTab:0,settingsSnapshot:null,session:N(),allDownloads:{count:null,tooltip:null}};ur.has(this.videos_map,e.tabId)&&(a.countVideosByTab=Object.keys(this.videos_map[e.tabId]).length);let o=P();o&&(a.settingsSnapshot=Object.assign({},o.getByRegexp("settings\\.extension\\.frontend\\.popup.*"),o.getByRegexp("settings\\.extension\\.privacy\\.*"),{[hr.extension.frontend.theme]:o.get(hr.extension.frontend.theme)}));for(let[e,t]of Object.entries(this.videos_map))for(let[,n]of Object.entries(t))ne.includes(n.state)&&(r++,0==ur.has(s,e)&&(s[e]={}));i=Object.keys(s).length,r>0&&i>0&&(a.allDownloads.count=r,1==a.allDownloads.count?a.allDownloads.tooltip="1 download from 1 tab":a.allDownloads.tooltip=1==i?`${r} downloads from 1 tab`:`${r} downloads from ${i} tabs`),n(a)}onVideoDetectionControlEvent(e,t,n){if(ur.has(e,"enable")&&null!=e.enable)return void(1==e.enable?this.enableVideoDetection():this.disableVideoDetection());if(ur.has(e,"suspend")&&null!=e.suspend){let t=cr();if(null==t)return;return void(1==e.suspend?t.disableDetection():t.enableDetection())}let r=!1;if(ur.has(e,"protocol")&&null!=e.protocol){let t=cr();if(null==t)return;if(r=ur.has(e.protocol,"name")&&null!=e.protocol.name&&ur.has(e.protocol,"enable")&&null!=e.protocol.enable,1==r)if(1==e.protocol.enable)t.enableProtocol(e.protocol.name);else{let n=P();t.disableProtocol(e.protocol.name),1==n.get(hr.extension.videoDetector.protocols.clearDetectedOnDisable).value&&this.clearDetectedByProtocol(e.protocol.name)}r=ur.has(e.protocol,"name")&&null!=e.protocol.name&&ur.has(e.protocol,"setting")&&null!=e.protocol.setting&&ur.has(e.protocol,"newValue")&&null!=e.protocol.newValue,1==r&&t.setScoringSetting(e.protocol.setting,e.protocol.newValue)}}onRemoveFromList(e){try{if(ur.isEmpty(e))throw"Invalid argument 'message' (null or empty)";if(0==ur.has(e,"key")||null==e.key)throw"Invalid argument 'key' (null or empty)"}catch(e){return}let t=this.get(e.key);null!=t&&(ur.isEmpty(t)||ne.includes(t.state)||this.removing(t))}onRemoveFromListBulk(e){try{if(ur.isEmpty(e))throw"Invalid argument 'message' (null or empty)";if(0==ur.has(e,"keys")||null==e.keys)throw"Invalid argument 'keys' (null or empty)"}catch(e){return}this.removingBulk(e.keys)}clearDetectedByTab(e){if(null==e&&-1==e)return;if(0==ur.has(this.videos_map,e))return;if(ur.isEmpty(this.videos_map[e]))return;let t=[];for(let n of Object.values(this.videos_map[e]))0==ne.includes(n.state)&&t.push(n.key);t.length>0&&this.removingBulk(t)}clearDetectedByProtocol(e){if(null==e&&0==e.length)return;if(ur.isEmpty(this.videos_map))return;let t=[];for(let[,n]of Object.entries(this.videos_map))for(let[,r]of Object.entries(n))r.protocol==e&&0==ne.includes(r.state)&&t.push(r.key);t.length>0&&this.removingBulk(t)}muteTab(e){let n=cr();if(null==n)return;this.mutedTabs.push(e),n.muteTab(e);let r=P();r&&1==r.get(hr.extension.videoDetector.protocols.clearDetectedOnMute).value&&this.clearDetectedByTab(e),t.browserAction.setIcon({path:gr,tabId:e}),t.browserAction.setTitle({title:"Video detection is disabled for this tab",tabId:e})}unmuteTab(e){let n=cr();null!=n&&(n.unmuteTab(e),this.mutedTabs.splice(this.mutedTabs.indexOf(e),1),t.browserAction.setIcon({path:yr,tabId:e}),t.browserAction.setTitle({title:"",tabId:e}),this.updateBadgeVideosCount(e))}onMuteUnmuteByTabContextMenuItemClick(e){0==this.mutedTabs.includes(e)?this.muteTab(e):this.unmuteTab(e)}enableVideoDetection(){let e=cr();if(null==e)return;let n=P();t.contextMenus.update(this.contextMenuIds.muteTab,{enabled:!0}),e.enableDetection(),t.browserAction.setIcon({path:yr}),t.browserAction.setTitle({title:""}),null!=n&&pr((function*(){yield n.set(hr.extension.videoDetector.enable,{type:2,value:!0,defaultValue:!0})})).catch((e=>{}))}disableVideoDetection(){let e=cr();if(null==e)return;let n=P();if(t.contextMenus.update(this.contextMenuIds.muteTab,{enabled:!1}),e.disableDetection(),t.browserAction.setIcon({path:gr}),t.browserAction.setTitle({title:"Video detection is disabled (for all tabs)"}),null!=n){pr((function*(){yield n.set(hr.extension.videoDetector.enable,{type:2,value:!1,defaultValue:!0})})).catch((e=>{}));let e=n.get(hr.extension.videoDetector.protocols.clearDetectedOnDisable);if(null!=e&&1==e.value){var r=this;Object.values(B).forEach((e=>r.clearDetectedByProtocol(e)))}}}onEnableDisableVideoDetectionContextMenuItemClick(){let e=cr();null!=e&&(1==e.detectionState?this.disableVideoDetection():this.enableVideoDetection())}onResetVideo(e){try{if(ur.isEmpty(e))throw"Invalid argument 'message' (null or empty)";if(0==ur.has(e,"key")||null==e.key)throw"Invalid argument 'key' (null or empty)"}catch(e){return}let t=this.get(e.key);null!=t&&(ur.isEmpty(t)||ne.includes(t.state)||(t.state=q,t.download=se.getEmptyDownloadObject(),this.detected(t)))}onPeerDisconnect(e){let t="<not set>";try{e.id==f.handler.disconnectPeer&&ur.has(this.connections.internal,e.name)&&(t=e.name,delete this.connections.internal[t])}catch(e){}}detected(e){this.queue.push({event:"detected",vd:e})}downloading(e){this.queue.push({event:"downloading",vd:e})}removing(e){this.queue.push({event:"removing",vd:e})}removingBulk(e){this.queue.push({event:"removing-bulk",keys:e})}onCancelDownload(e){try{if(ur.isEmpty(e))throw"Invalid argument 'message' (null or empty)";if(0==ur.has(e,"key")||null==e.key)throw"Invalid argument 'key' (null or empty)"}catch(e){return}var t=this.get(e.key),n=this;if(null!=t&&!ur.isEmpty(t))if(t.state=Z,n.downloading(t),t.download.executor.type==F)w.downloadsCancel(t.download.executor.browserDownloadId).then((()=>{t.state=Y,t.download.progress.message=null,t.download.error=null,n.downloading(t)}),(e=>{}));else{let e={session:N(),id:"cancel-download",descriptor:t};try{ur.has(this.connections.native,`${t.key}`)&&(this.connections.native[t.key].postMessage(e),delete this.connections.native[t.key])}catch(e){}t.state=Y,t.download.progress.message=null,t.download.error=null,n.downloading(t)}}getExtendedTooltipFF(e){let t=null,n=null;try{let r=[],i=0,s=0;for(let[,t]of Object.entries(this.videos_map[e]))ne.includes(t.state)?(i++,ur.has(t.download.progress,"percentage")&&null!=t.download.progress.percentage?r.push(t.download.progress.percentage):r.push(0)):t.state!=Q||s++;if(i>0||s>0){if(n="This tab:",i>0&&(n+=`\n- downloading: ${i}`,r.length>0)){let e=100*r.length,t=100*r.reduce(((e,t)=>e+t),0)/e||0;t>0&&(n+=` (total progress ${Number.parseFloat(t).toFixed()}%)`)}s>0&&(n+=`\n- finished: ${s}`)}r=[],i=0,s=0;for(let[,e]of Object.entries(this.videos_map))for(let[,t]of Object.entries(e))ne.includes(t.state)?(i++,ur.has(t.download.progress,"percentage")&&null!=t.download.progress.percentage?r.push(t.download.progress.percentage):r.push(0)):t.state!=Q||s++;if(i>0||s>0){if(t="Total:",i>0&&(t+=`\n- downloading: ${i}`,r.length>0)){let e=100*r.length,n=100*r.reduce(((e,t)=>e+t),0)/e||0;n>0&&(t+=` (total progress ${Number.parseFloat(n).toFixed()}%)`)}s>0&&(t+=`\n- finished: ${s}`)}return{global:t,perTab:n}}catch(e){}return null}updateBadgeVideosCount(e){let n=-1;if("number"!=typeof e){let t=Number(e);e=t}var r=this;w.tabGetById(e).then((i=>{if(w.tabsHandleLastError(t.runtime.lastError),void 0===i||null==i)return;ur.has(r.videos_map,e)&&(n=Object.keys(r.videos_map[e]).length);let a=function(n){if(t.$type!=s)return;let r=n.getExtendedTooltipFF(e);null!=r?null!=r&&(ur.has(r,"global")&&null!=r.global?t.browserAction.setTitle({title:`${dr.key("ExtensionTitle")}\n${r.global}`}):t.browserAction.setTitle({title:""}),ur.has(r,"perTab")&&null!=r.perTab?t.browserAction.setTitle({title:`${dr.key("ExtensionTitle")}\n${r.perTab}\n\n${r.global}`,tabId:e}):t.browserAction.setTitle({title:"",tabId:e})):t.browserAction.setTitle({title:""})};if(n<=0)return t.browserAction.setBadgeText({text:"",tabId:e}),void a(r);n>99&&(n="99+"),a(r),t.browserAction.setBadgeText({text:`${n}`,tabId:e}),t.browserAction.setBadgeBackgroundColor({color:"#000075",tabId:e})}),(e=>{w.tabsHandleLastError(t.runtime.lastError)}))}onWebNavigationCommited(e){let n=cr();if(null!=n&&0==n.detectionState)return t.browserAction.setIcon({path:gr}),void t.browserAction.setTitle({title:"Video detection is disabled (for all tabs)"});if(ur.has(e,"tabId")){if(this.mutedTabs.includes(e.tabId))return void t.browserAction.setIcon({path:gr,tabId:e.tabId});ur.has(this.videos_map,e.tabId)&&this.updateBadgeVideosCount(e.tabId)}}notifyInternalPeers(e){for(let t of Object.values(this.connections.internal))if(null!=t)try{t.postMessage(e)}catch(e){}}loadPreviousPerBrowserDownloads(){var e=N(),t=this;pr((function*(){let n=yield w.getFromLocalStorage(null);if(!ur.isEmpty(n))for(let[r,i]of Object.entries(n)){if(0==ie.isKey(r)||i.download.executor.type!=F||i.state!=z)continue;if(null==i.download.executor.browserDownloadId||i.download.executor.browserDownloadId<0)continue;let n=yield w.downloads.search({id:i.download.executor.browserDownloadId});if(null!=n&&n.length>0){n.length,n[0];let s=ie.parseKey(r),a=re.parseKey(s.key);s.sessionId=e.id;let o=ie.generateKey(s);yield w.removeFromLocalStorage([r]),yield w.setIntoLocalStorage({[o]:i}),i.session=e,0==ur.has(t.videos_map,a.tabId)&&(t.videos_map[a.tabId]={}),ur.has(t.videos_map[a.tabId],i.key)||(t.videos_map[a.tabId][i.key]=i)}}})).catch((e=>{}))}async processQueueAsync(e){if(null==e)return;let t=P(),n=null;for(;;)try{if(n=e.queue.shift(),void 0===n){await Ee()(100);continue}if(null==n){await Ee()(100);continue}if(0==ur.has(n,"event")||null==n.event){await Ee()(100);continue}let r=null;if(ur.has(n,"vd")&&0==ur.isEmpty(n.vd)&&ur.has(n.vd,"key")&&(r=re.parseKey(n.vd.key),null==r)){await Ee()(100);continue}switch(n.event){case"detected":{let i=null;if(n.vd.protocol==B.MPD&&n.vd.state==ee&&null!=t&&!0===t.get(hr.extension.videoDetector.protocols.mpd.ignoreUnsupported).value&&ur.has(e.videos_map[r.tabId],n.vd.key)){delete e.videos_map[r.tabId][n.vd.key],0==ur.has(e.videos_map,r.tabId)&&(e.videos_map[r.tabId]={}),e.notifyInternalPeers({id:f.handler.events.onVideoRemoved,keys:[n.vd.key]}),e.updateBadgeVideosCount(r.tabId);continue}if(0==ur.has(e.videos_map,r.tabId)&&(e.videos_map[r.tabId]={}),0==ur.has(e.videos_map[r.tabId],n.vd.key)){if(i=f.handler.events.onVideoDetected,e.videos_map[r.tabId][n.vd.key]=n.vd,0==n.vd.promoteNA&&0==n.vd.unconsented){let t=re.generateKey({tabId:r.tabId,url:n.vd.description.webpage});ur.has(e.videos_map[r.tabId],t)&&(delete e.videos_map[r.tabId][t],e.notifyInternalPeers({id:f.handler.events.onVideoRemoved,keys:[t]}),e.updateBadgeVideosCount(r.tabId))}}else{i=f.handler.events.onVideoUpdated;let t=["description","meta","media","cipher"];for(let i of t)ur.has(n.vd,i)&&(e.videos_map[r.tabId][n.vd.key][`${i}`]=n.vd[`${i}`])}let s=`${i}: `;s+=`key ${e.videos_map[r.tabId][n.vd.key].key}`,s+=`, ${e.videos_map[r.tabId][n.vd.key].protocol}`,s+=`, session id ${e.videos_map[r.tabId][n.vd.key].session.id}`,s+=`, ${e.videos_map[r.tabId][n.vd.key].state}`,s+=`, title ${e.videos_map[r.tabId][n.vd.key].description.title}`,e.notifyInternalPeers({id:i,vd:e.videos_map[r.tabId][n.vd.key]}),e.updateBadgeVideosCount(r.tabId)}break;case"downloading":if(0==ur.has(e.videos_map[r.tabId],n.vd.key))break;e.notifyInternalPeers({id:f.handler.events.onVideoUpdated,vd:e.videos_map[r.tabId][n.vd.key]}),e.updateBadgeVideosCount(r.tabId);break;case"removing":{if(0==ur.has(e.videos_map[r.tabId],n.vd.key))break;delete e.videos_map[r.tabId][n.vd.key],ur.isEmpty(e.videos_map[r.tabId])&&delete e.videos_map[r.tabId];let t=ie.generateKey({sessionId:n.vd.session.id,key:n.vd.key});w.removeFromLocalStorage([t]).then((()=>{}),(e=>{})),e.notifyInternalPeers({id:f.handler.events.onVideoRemoved,keys:[n.vd.key]}),e.updateBadgeVideosCount(r.tabId)}break;case"removing-bulk":{let t=[],r=[];for(let i of n.keys)for(let[n]of Object.entries(e.videos_map))ur.has(e.videos_map[n],i)&&(t.push(i),0==r.includes(n)&&r.push(n),delete e.videos_map[n][i],ur.isEmpty(e.videos_map,n)&&delete e.videos_map[n]);let i=[],s=N();for(let e of t){let t=ie.generateKey({sessionId:s.id,key:e});i.push(t)}if(i.length>0&&w.removeFromLocalStorage(i).then((()=>{}),(e=>{})),t.length>0&&(e.notifyInternalPeers({id:f.handler.events.onVideoRemoved,keys:t}),r.length>0))for(let t of r)e.updateBadgeVideosCount(t)}}}catch(e){}}}function br(){return null==fr&&(fr=new vr),fr}var xr=n(447);try{"function"==typeof avdOverrideLog&&avdOverrideLog()}catch(e){}xr((function*(){yield async function(){if(null==D){D=new L;try{await w.setIntoLocalStorage({session:D.getSnapshot()})}catch(e){}}}(),yield async function(){if(null==I){let e=null;try{e=await w.getFromLocalStorage("settings")}catch(e){}I=0==k.isEmpty(e)?new C(e):new C(null);try{await w.setIntoLocalStorage({settings:I.serialize()})}catch(e){}}return I}(),new h,br(),cr()})).catch((e=>{}))})()})();
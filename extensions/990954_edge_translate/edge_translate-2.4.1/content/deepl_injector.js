window!==window.parent&&window.addEventListener("message",(e=>{if(!e.data.type||"edge_translate_deepl_request"!==e.data.type)return;let t=0;window.location.href=e.data.url;const n=setInterval((()=>{const e=document.getElementById("target-dummydiv"),r=e?e.textContent.trim():"";r.length>0?(window.parent.postMessage({type:"edge_translate_deepl_response",status:200,result:r},chrome.runtime.getURL("")),clearInterval(n)):++t>10&&(window.parent.postMessage({type:"edge_translate_deepl_response",status:504,errorMsg:"Wait result timeout!"},chrome.runtime.getURL("")),clearInterval(n))}),500)}));
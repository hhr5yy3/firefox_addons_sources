!function(t){var e={};function o(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=e,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(s,n,function(e){return t[e]}.bind(null,n));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="./",o(o.s=8)}([function(t,e){t.exports=Vue},function(t,e){t.exports=VueI18n},function(t,e){t.exports=locales},function(t,e,o){},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){function o(t,e){for(var o=0;o<e.length;o++){var s=e[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}t.exports=function(t,e,s){return e&&o(t.prototype,e),s&&o(t,s),t},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE2LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgd2lkdGg9IjQzOC41NDlweCIgaGVpZ2h0PSI0MzguNTQ5cHgiIHZpZXdCb3g9IjAgMCA0MzguNTQ5IDQzOC41NDkiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQzOC41NDkgNDM4LjU0OTsiDQoJIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPGc+DQoJPHBhdGggZD0iTTQwOS4xMzIsMTE0LjU3M2MtMTkuNjA4LTMzLjU5Ni00Ni4yMDUtNjAuMTk0LTc5Ljc5OC03OS44QzI5NS43MzYsMTUuMTY2LDI1OS4wNTcsNS4zNjUsMjE5LjI3MSw1LjM2NQ0KCQljLTM5Ljc4MSwwLTc2LjQ3Miw5LjgwNC0xMTAuMDYzLDI5LjQwOGMtMzMuNTk2LDE5LjYwNS02MC4xOTIsNDYuMjA0LTc5LjgsNzkuOEM5LjgwMywxNDguMTY4LDAsMTg0Ljg1NCwwLDIyNC42Mw0KCQljMCw0Ny43OCwxMy45NCw5MC43NDUsNDEuODI3LDEyOC45MDZjMjcuODg0LDM4LjE2NCw2My45MDYsNjQuNTcyLDEwOC4wNjMsNzkuMjI3YzUuMTQsMC45NTQsOC45NDUsMC4yODMsMTEuNDE5LTEuOTk2DQoJCWMyLjQ3NS0yLjI4MiwzLjcxMS01LjE0LDMuNzExLTguNTYyYzAtMC41NzEtMC4wNDktNS43MDgtMC4xNDQtMTUuNDE3Yy0wLjA5OC05LjcwOS0wLjE0NC0xOC4xNzktMC4xNDQtMjUuNDA2bC02LjU2NywxLjEzNg0KCQljLTQuMTg3LDAuNzY3LTkuNDY5LDEuMDkyLTE1Ljg0NiwxYy02LjM3NC0wLjA4OS0xMi45OTEtMC43NTctMTkuODQyLTEuOTk5Yy02Ljg1NC0xLjIzMS0xMy4yMjktNC4wODYtMTkuMTMtOC41NTkNCgkJYy01Ljg5OC00LjQ3My0xMC4wODUtMTAuMzI4LTEyLjU2LTE3LjU1NmwtMi44NTUtNi41N2MtMS45MDMtNC4zNzQtNC44OTktOS4yMzMtOC45OTItMTQuNTU5DQoJCWMtNC4wOTMtNS4zMzEtOC4yMzItOC45NDUtMTIuNDE5LTEwLjg0OGwtMS45OTktMS40MzFjLTEuMzMyLTAuOTUxLTIuNTY4LTIuMDk4LTMuNzExLTMuNDI5Yy0xLjE0Mi0xLjMzMS0xLjk5Ny0yLjY2My0yLjU2OC0zLjk5Nw0KCQljLTAuNTcyLTEuMzM1LTAuMDk4LTIuNDMsMS40MjctMy4yODljMS41MjUtMC44NTksNC4yODEtMS4yNzYsOC4yOC0xLjI3Nmw1LjcwOCwwLjg1M2MzLjgwNywwLjc2Myw4LjUxNiwzLjA0MiwxNC4xMzMsNi44NTENCgkJYzUuNjE0LDMuODA2LDEwLjIyOSw4Ljc1NCwxMy44NDYsMTQuODQyYzQuMzgsNy44MDYsOS42NTcsMTMuNzU0LDE1Ljg0NiwxNy44NDdjNi4xODQsNC4wOTMsMTIuNDE5LDYuMTM2LDE4LjY5OSw2LjEzNg0KCQljNi4yOCwwLDExLjcwNC0wLjQ3NiwxNi4yNzQtMS40MjNjNC41NjUtMC45NTIsOC44NDgtMi4zODMsMTIuODQ3LTQuMjg1YzEuNzEzLTEyLjc1OCw2LjM3Ny0yMi41NTksMTMuOTg4LTI5LjQxDQoJCWMtMTAuODQ4LTEuMTQtMjAuNjAxLTIuODU3LTI5LjI2NC01LjE0Yy04LjY1OC0yLjI4Ni0xNy42MDUtNS45OTYtMjYuODM1LTExLjE0Yy05LjIzNS01LjEzNy0xNi44OTYtMTEuNTE2LTIyLjk4NS0xOS4xMjYNCgkJYy02LjA5LTcuNjE0LTExLjA4OC0xNy42MS0xNC45ODctMjkuOTc5Yy0zLjkwMS0xMi4zNzQtNS44NTItMjYuNjQ4LTUuODUyLTQyLjgyNmMwLTIzLjAzNSw3LjUyLTQyLjYzNywyMi41NTctNTguODE3DQoJCWMtNy4wNDQtMTcuMzE4LTYuMzc5LTM2LjczMiwxLjk5Ny01OC4yNGM1LjUyLTEuNzE1LDEzLjcwNi0wLjQyOCwyNC41NTQsMy44NTNjMTAuODUsNC4yODMsMTguNzk0LDcuOTUyLDIzLjg0LDEwLjk5NA0KCQljNS4wNDYsMy4wNDEsOS4wODksNS42MTgsMTIuMTM1LDcuNzA4YzE3LjcwNS00Ljk0NywzNS45NzYtNy40MjEsNTQuODE4LTcuNDIxczM3LjExNywyLjQ3NCw1NC44MjMsNy40MjFsMTAuODQ5LTYuODQ5DQoJCWM3LjQxOS00LjU3LDE2LjE4LTguNzU4LDI2LjI2Mi0xMi41NjVjMTAuMDg4LTMuODA1LDE3LjgwMi00Ljg1MywyMy4xMzQtMy4xMzhjOC41NjIsMjEuNTA5LDkuMzI1LDQwLjkyMiwyLjI3OSw1OC4yNA0KCQljMTUuMDM2LDE2LjE4LDIyLjU1OSwzNS43ODcsMjIuNTU5LDU4LjgxN2MwLDE2LjE3OC0xLjk1OCwzMC40OTctNS44NTMsNDIuOTY2Yy0zLjksMTIuNDcxLTguOTQxLDIyLjQ1Ny0xNS4xMjUsMjkuOTc5DQoJCWMtNi4xOTEsNy41MjEtMTMuOTAxLDEzLjg1LTIzLjEzMSwxOC45ODZjLTkuMjMyLDUuMTQtMTguMTgyLDguODUtMjYuODQsMTEuMTM2Yy04LjY2MiwyLjI4Ni0xOC40MTUsNC4wMDQtMjkuMjYzLDUuMTQ2DQoJCWM5Ljg5NCw4LjU2MiwxNC44NDIsMjIuMDc3LDE0Ljg0Miw0MC41Mzl2NjAuMjM3YzAsMy40MjIsMS4xOSw2LjI3OSwzLjU3Miw4LjU2MmMyLjM3OSwyLjI3OSw2LjEzNiwyLjk1LDExLjI3NiwxLjk5NQ0KCQljNDQuMTYzLTE0LjY1Myw4MC4xODUtNDEuMDYyLDEwOC4wNjgtNzkuMjI2YzI3Ljg4LTM4LjE2MSw0MS44MjUtODEuMTI2LDQxLjgyNS0xMjguOTA2DQoJCUM0MzguNTM2LDE4NC44NTEsNDI4LjcyOCwxNDguMTY4LDQwOS4xMzIsMTE0LjU3M3oiLz4NCjwvZz4NCjwvc3ZnPg0K"},function(t,e,o){"use strict";o(3)},function(t,e,o){"use strict";o.r(e);var s={mixins:[{computed:{browserItems:function(){return this.$root.globalBrowserItems||this.$root.browserItems},isFirefox:function(){return this.$root.isFirefox_}},methods:{tl:function(t){return this.$t("".concat(t,".message"))},stripTags:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ";return"string"!=typeof t?t:t.replace(/<\/?[^>]+(>|$)/g,e.repeat(2)).trim()},routeTo:function(t){this.pushRoute({name:t})},pushRoute:function(t){return this.$router.push(t).then((function(){return Promise.resolve()})).catch((function(t){if("NavigationDuplicated"!==t.name)return Promise.reject(t)}))}}}],data:function(){return{displayProperties:["id","title","comment","description","createDate","uploadDate","type","bookmarkCount","likeCount","responseCount","viewCount"],properties:null}},computed:{totalDownloaded:function(){var t=parseInt(this.browserItems.statIllustDownloaded)+parseInt(this.browserItems.statUgoiraDownloaded)+parseInt(this.browserItems.statMangaDownloaded)+parseInt(this.browserItems.statNovelDownloaded);return"<strong>".concat(t,"</strong> ")+this.tl("work"+(t>1?"s":""))}},mounted:function(){var t=this;browser.tabs.query({active:!0,currentWindow:!0},(function(e){if(e[0].url&&/^https?:\/{2}www\.pixiv\.net/.test(e[0].url)){var o=browser.tabs.connect(e[0].id,{name:"popup"});o.onMessage.addListener((function(e){t.properties=e.info})),o.postMessage({type:"fetch-info"})}}))},methods:{openOptionsPage:function(){browser.tabs.create({url:browser.runtime.getURL("options_page/index.html#/")})},openReportIssue:function(){browser.tabs.create({url:"https://github.com/leoding86/webextension-pixiv-toolkit/issues"})},openGithub:function(){browser.tabs.create({url:"https://github.com/leoding86/webextension-pixiv-toolkit"})},openVisitHistory:function(){browser.tabs.create({url:browser.runtime.getURL("options_page/index.html#/visit-history")})}}};o(7);var n=function(t,e,o,s,n,r,i,u){var M,L="function"==typeof t?t.options:t;if(e&&(L.render=e,L.staticRenderFns=o,L._compiled=!0),s&&(L.functional=!0),r&&(L._scopeId="data-v-"+r),i?(M=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},L._ssrRegister=M):n&&(M=u?function(){n.call(this,(L.functional?this.parent:this).$root.$options.shadowRoot)}:n),M)if(L.functional){L._injectStyles=M;var a=L.render;L.render=function(t,e){return M.call(e),a(t,e)}}else{var N=L.beforeCreate;L.beforeCreate=N?[].concat(N,M):[M]}return{exports:t,options:L}}(s,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"popup"}},[s("div",{staticClass:"top-header"},[t._m(0),t._v(" "),s("a",{staticClass:"starit",attrs:{href:"#"},on:{click:t.openGithub}},[s("img",{attrs:{src:o(6)}}),t._v(t._s(t.tl("_star_it"))+" !")])]),t._v(" "),s("div",{staticClass:"header"},[s("h2",[t._v(t._s(t.tl("_number_of_works_downloaded")))])]),t._v(" "),s("div",{staticClass:"body"},[s("div",{staticClass:"card",domProps:{innerHTML:t._s(t.totalDownloaded)}}),t._v(" "),t.properties?s("div",{staticClass:"work-info"},[s("div",{staticClass:"header"},[s("h2",[t._v(t._s(t.tl("_infomation_of_current_work")))])]),t._v(" "),s("div",{staticClass:"card"},[s("ul",t._l(t.displayProperties,(function(e){return s("li",{key:e,staticClass:"work-info__entity"},[void 0!==t.properties[e]?s("span",[s("span",{staticClass:"work-info__property"},[t._v(t._s(t.tl(e)))]),t._v(" "),s("strong",{staticClass:"work-info__proerty-value"},[t._v(t._s(t.stripTags(t.properties[e])))])]):t._e()])})),0)])]):t._e()]),t._v(" "),s("div",{staticClass:"footer"},[s("a",{staticClass:"button",attrs:{href:"#"},on:{click:t.openReportIssue}},[t._v(t._s(t.tl("_report_issue")))]),t._v(" "),s("a",{staticClass:"button",attrs:{href:"#"},on:{click:t.openOptionsPage}},[t._v(t._s(t.tl("_settings")))]),t._v(" "),s("a",{staticClass:"button",attrs:{href:"#"},on:{click:t.openVisitHistory}},[t._v(t._s(t.tl("illust_history")))])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",[e("span",[this._v("Pixiv")]),this._v("Toolkit")])}],!1,null,null,null).exports,r={getBrowser:function(){return window.chrome||chrome||browser}},i=o(4),u=o.n(i),M=o(5),L=o.n(M),a=o(0),N=o.n(a),c=o(1),j=o.n(c),l=o(2),T=o.n(l);N.a.use(j.a);var w=function(){function t(){u()(this,t)}return L()(t,null,[{key:"i18n",value:function(t){var e=new j.a({locale:t&&"default"!==t?t:"en",messages:{en:T.a.localeEn,zh_CN:T.a.localeZhCN}});return e}}]),t}();N.a.config.productionTip=!1,window.browser=r.getBrowser(),browser.storage.local.get(null,(function(t){var e=w.i18n(t.language);new N.a({el:"#app",i18n:e,render:function(t){return t(n)},data:function(){return{browserItems:t}},beforeMount:function(){var t=this;browser.storage.onChanged.addListener((function(e){for(var o in e)t.browserItems[o]=e[o].newValue}))}})}))}]);
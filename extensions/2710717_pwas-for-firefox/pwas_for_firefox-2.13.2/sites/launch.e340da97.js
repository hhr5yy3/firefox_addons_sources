function e(e,t,i,s){Object.defineProperty(e,t,{get:i,set:s,enumerable:!0,configurable:!0})}var t=globalThis,i={},s={},n=t.parcelRequire94c2;null==n&&((n=function(e){if(e in i)return i[e].exports;if(e in s){var t=s[e];delete s[e];var n={id:e,exports:{}};return i[e]=n,t.call(n.exports,n,n.exports),n.exports}var a=Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){s[e]=t},t.parcelRequire94c2=n);var a=n.register;a("k82Ot",function(e,t){var i=n("d8ymB");function s(e){document.getElementById("error-text").innerText=e.message,(0,i.default).getOrCreateInstance(document.getElementById("error-toast")).show()}window.addEventListener("error",function(e){return s(e.error),!1}),window.addEventListener("unhandledrejection",function(e){return s(e.reason),!1})}),a("d8ymB",function(t,i){e(t.exports,"default",()=>y);var s=n("hnAIs"),a=n("e3sMm"),o=n("8L2u6"),r=n("8psKi");let l=".bs.toast",c=`mouseover${l}`,u=`mouseout${l}`,d=`focusin${l}`,h=`focusout${l}`,m=`hide${l}`,f=`hidden${l}`,_=`show${l}`,g=`shown${l}`,p="hide",b="show",v="showing",L={animation:"boolean",autohide:"boolean",delay:"number"},E={animation:!0,autohide:!0,delay:5e3};class w extends s.default{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return E}static get DefaultType(){return L}static get NAME(){return"toast"}show(){(0,a.default).trigger(this._element,_).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(p),(0,r.reflow)(this._element),this._element.classList.add(b,v),this._queueCallback(()=>{this._element.classList.remove(v),(0,a.default).trigger(this._element,g),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!(0,a.default).trigger(this._element,m).defaultPrevented&&(this._element.classList.add(v),this._queueCallback(()=>{this._element.classList.add(p),this._element.classList.remove(v,b),(0,a.default).trigger(this._element,f)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(b),super.dispose()}isShown(){return this._element.classList.contains(b)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}if(t){this._clearTimeout();return}let i=e.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){(0,a.default).on(this._element,c,e=>this._onInteraction(e,!0)),(0,a.default).on(this._element,u,e=>this._onInteraction(e,!1)),(0,a.default).on(this._element,d,e=>this._onInteraction(e,!0)),(0,a.default).on(this._element,h,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){let t=w.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw TypeError(`No method named "${e}"`);t[e](this)}})}}(0,o.enableDismissTrigger)(w),(0,r.defineJQueryPlugin)(w);var y=w}),a("8L2u6",function(t,i){e(t.exports,"enableDismissTrigger",()=>r);var s=n("e3sMm"),a=n("5Xvlb"),o=n("8psKi");let r=(e,t="hide")=>{let i=`click.dismiss${e.EVENT_KEY}`,n=e.NAME;(0,s.default).on(document,i,`[data-bs-dismiss="${n}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),(0,o.isDisabled)(this))return;let s=(0,a.default).getElementFromSelector(this)||this.closest(`.${n}`);e.getOrCreateInstance(s)[t]()})}}),n("k82Ot"),n("eme3Z");var o=n("fEci9"),r=n("foKjy");async function l(){let{manifestUrl:e,documentUrl:t}=await (0,o.obtainUrls)(),i=Object.values(await (0,o.obtainSiteList)()).filter(t=>t.config.manifest_url===e),s=document.getElementById("instances-list");s.innerText="";let n=(await browser.storage.local.get(o.PREF_LAUNCH_CURRENT_URL))[o.PREF_LAUNCH_CURRENT_URL];for(let e of(n=void 0===n||n,i)){let i=(0,o.sanitizeString)(e.config.name||e.manifest.name||e.manifest.short_name),a=n?t:void 0,r=document.createElement("button");r.classList.add("list-group-item","list-group-item-action"),r.innerText=i||new URL(e.manifest.scope).host,r.addEventListener("click",()=>{(0,o.launchSite)(e,a)}),s.append(r)}{let e=document.createElement("button");e.classList.add("list-group-item","list-group-item-action");let t=document.createElement("em");t.innerText=await (0,r.getMessage)("launchPageInstallNewInstance"),e.append(t),e.addEventListener("click",async()=>{document.location="/sites/install.html"}),s.append(e)}}(0,o.setPopupSize)(),l();
(()=>{"use strict";var t={2875:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TooltipStylesheet=void 0,e.TooltipStylesheet=class{getCss(){return'\n<style>\n  tooltip-component {\n    position: relative;\n    display: inline-block;\n    cursor: pointer;\n  }\n  \n  .tooltip-not-selectionnable {\n    align-self: end;\n  }\n  \n  .tooltip-content {\n    position: absolute;\n    background-color: black;\n    color: white;\n    padding: 5px;\n    border-radius: 3px;\n    z-index: 10;\n    opacity: 0;\n    transition: opacity 0.3s;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n    pointer-events: none;\n    font-size: 12px;\n    width: max-content;\n  }\n  \n  .tooltip-content.visible {\n    opacity: 1;\n  }\n  \n  .tooltip-content.below {\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n  }\n  \n  .tooltip-content.above {\n    top: -135%;\n    left: 50%;\n    transform: translateX(-50%);\n  }\n  \n  .tooltip-triggerer::after {\n    content: "";\n    position: absolute;\n    right: 0;\n    left: 0;\n    margin: auto;\n    width: 0;\n    height: 0;\n    display: block;\n    border-style: solid;\n    opacity: 0;\n    transition: opacity 0.3s;\n  }\n  \n  .tooltip-triggerer.above::after {\n    top: -5px;\n    border-width: 5px 5px 0 5px;\n    border-color: black transparent transparent transparent;\n  }\n  \n  .tooltip-triggerer.below::after {\n    bottom: 0;\n    border-width: 0 5px 5px 5px;\n    border-color: transparent transparent black transparent;\n  }\n  \n  .tooltip-triggerer.visible::after {\n    opacity: 1;\n  }\n</style>\n  '}}},4791:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TooltipView=void 0;const o=i(2875);e.TooltipView=class{constructor(){this.styleSheet=new o.TooltipStylesheet}template(){return`\n      <template>\n        ${this.styleSheet.getCss()}\n        <span class="tooltip-content above" id="tooltip-container">\n          <slot name="content">Contenu par d√©faut</slot>\n        </span>\n        <slot name="triggerer" class="tooltip-triggerer">Hover me</slot>\n      </template>\n    `}}},4911:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.fromHTML=e.clearHighlight=e.smoothScrollToTargetedHtmlElement=e.hasSameFileTypeMoreThanOnce=e.getCountPerFileType=void 0;const o=i(2688);function s(t){return Object.entries(t.reduce(((t,e)=>{const i=e.type_fichier;return t[i]=(t[i]||0)+1,t}),{})).map((([t,e])=>({typeFichier:t,count:e})))}e.getCountPerFileType=s,e.hasSameFileTypeMoreThanOnce=function(t){const e=s(t);return e.filter((t=>t.count>1)).length>0||2===e.filter((t=>t.typeFichier===o.TypeFichier.IMAGE||t.typeFichier===o.TypeFichier.VIDEO)).length};e.smoothScrollToTargetedHtmlElement=function(t,e=0){const i=document.querySelector(`#${t}`);if(i){const t=function(t){let e=t.parentElement;for(;e;){const t=window.getComputedStyle(e);if("auto"===t.overflowY||"scroll"===t.overflowY)return e;e=e.parentElement}return null}(i);if(t){let o=i.getBoundingClientRect().top+t.scrollTop-e;o>t.scrollHeight-t.getBoundingClientRect().height&&(o=t.scrollHeight-t.getBoundingClientRect().height),l(Math.floor(o),t).then((()=>r(i)))}else{let t=i.getBoundingClientRect().top+window.scrollY-e;const o=function(){const t=document.body,e=document.documentElement;return Math.max(t.scrollHeight,t.offsetHeight,e.clientHeight,e.scrollHeight,e.offsetHeight)-window.innerHeight-40}();t>o&&(t=o),l(Math.floor(t)).then((()=>r(i)))}}};let n=null;function r(t){n&&n.classList.remove("poplab-highlighted"),n=t;let e=document.getElementById("poplab-highlight-stylesheet");e||(e=document.createElement("style"),e.id="poplab-highlight-stylesheet",e.textContent="\n        .poplab-highlighted {\n            border: solid 8px rgb(75, 198, 185);\n        }",document.head.appendChild(e)),setTimeout((()=>{t.classList.add("poplab-highlighted")}),100)}function l(t,e){return e?e.scrollTo({top:t,behavior:"smooth"}):window.scrollTo({top:t,behavior:"smooth"}),new Promise((i=>{const o=()=>{e?Math.floor(e.scrollTop)!==t&&Math.ceil(e.scrollTop)!==t||(e.removeEventListener("scroll",o),i()):Math.floor(window.scrollY)!==t&&Math.ceil(window.scrollY)!==t||(window.removeEventListener("scroll",o),i())};e?(e.removeEventListener("scroll",o),Math.floor(e.scrollTop)===t||Math.ceil(e.scrollTop)===t?i():e.addEventListener("scroll",o)):(window.removeEventListener("scroll",o),Math.floor(window.scrollY)===t||Math.ceil(window.scrollY)===t?i():window.addEventListener("scroll",o))}))}e.clearHighlight=function(){var t;const e=document.getElementById("poplab-highlight-stylesheet");e&&(null===(t=e.parentNode)||void 0===t||t.removeChild(e))},e.fromHTML=function(t){if(!t)return null;const e=document.createElement("template");e.innerHTML=t;const i=e.content.children;return 1===i.length?i[0]:i}},2688:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DocumentCaptureData=e.ElementCaptureData=e.CaptureData=e.FichierMediaObject=e.ExerciseurMediaObject=e.UrlMediaObject=e.AudioMediaObject=e.VideoMediaObject=e.ImageMediaObject=e.MediaObject=e.TypeFichier=e.CaptureType=void 0;const o=i(4393);var s,n;!function(t){t.BASIQUE="BASIQUE",t.UPLOAD="UPLOAD"}(s||(e.CaptureType=s={})),function(t){t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.FICHIER="FICHIER",t.LIEN="LIEN",t.EXERCISEUR="EXERCISEUR"}(n||(e.TypeFichier=n={}));class r{constructor(t,e,i,o,s,n,r){this.id=t,this.url=e,this.type_fichier=i,this.copyright=o,this.file=s,this.editeur=n,this.subTypeFichier=r}}e.MediaObject=r,e.ImageMediaObject=class extends r{constructor(t,e,i,o,s){super(t,e,n.IMAGE,i,o,s)}},e.VideoMediaObject=class extends r{constructor(t,e,i,o,s){super(t,e,n.VIDEO,i,o,s)}},e.AudioMediaObject=class extends r{constructor(t,e,i,o,s){super(t,e,n.AUDIO,i,o,s)}},e.UrlMediaObject=class extends r{constructor(t,e,i,o){super(t,e,n.LIEN,i),this.displayPreview=!1,this.bigPreview=!1,this.label=o}},e.ExerciseurMediaObject=class extends r{constructor(t,e,i){super(t,e,n.EXERCISEUR),this.typeExerciseur=i}},e.FichierMediaObject=class extends r{constructor(t,e,i,o,s){super(t,e,n.FICHIER,void 0,i,void 0,o),this.label=s}};class l{constructor(t,e,i){this.titre=t,this.description=e,this.auteurInitial=i}}e.CaptureData=l;class a extends l{constructor(t){var e,i,s,n,r,l,a;super(null==t?void 0:t.titre,null==t?void 0:t.description,null==t?void 0:t.auteurInitial),this.type=o.ElementType.ELEMENT,this.images=[],this.videos=[],this.audios=[],this.urls=[],this.exerciseurs=[],this.fichiers=[],this.credit=null==t?void 0:t.credit,this.images=null!==(e=null==t?void 0:t.images)&&void 0!==e?e:[],this.videos=null!==(i=null==t?void 0:t.videos)&&void 0!==i?i:[],this.audios=null!==(s=null==t?void 0:t.audios)&&void 0!==s?s:[],this.urls=null!==(n=null==t?void 0:t.urls)&&void 0!==n?n:[],this.exerciseurs=null!==(r=null==t?void 0:t.exerciseurs)&&void 0!==r?r:[],this.fichiers=null!==(l=null==t?void 0:t.fichiers)&&void 0!==l?l:[],this.type=null!==(a=null==t?void 0:t.type)&&void 0!==a?a:o.ElementType.ELEMENT,this.options=null==t?void 0:t.options,this.meta=null==t?void 0:t.meta}setTitre(t){return this.titre=t,this}setDescription(t){return this.description=t,this}setCredit(t){return this.credit=t,this}setImages(t){return this.images=t,this}setVideos(t){return this.videos=t,this}setAudios(t){return this.audios=t,this}setUrls(t){return this.urls=t,this}setExerciseurs(t){return this.exerciseurs=t,this}setType(t){return this.type=t,this}getMedias(){return this.images.concat(this.videos.concat(this.audios.concat(this.fichiers)))}getAllEmbeds(){return this.getMedias().concat(this.urls).concat(this.exerciseurs)}}e.ElementCaptureData=a,e.DocumentCaptureData=class extends l{constructor(t){super(null==t?void 0:t.titre,null==t?void 0:t.description,null==t?void 0:t.auteurInitial),this.elements=[],null==t||t.elements.forEach((t=>this.elements.push(new a(t)))),this.meta=null==t?void 0:t.meta}setTitre(t){return this.titre=t,this}setDescription(t){return this.description=t,this}setElements(t){return this.elements=t,this}}},4393:(t,e)=>{var i,o,s,n;Object.defineProperty(e,"__esModule",{value:!0}),e.Editeur=e.ElementType=e.ExerciseurType=e.PoplabElementCreationRequest=void 0,e.PoplabElementCreationRequest=class{constructor(t,e){var o,n,r;this.titre=null!==(o=t.titre)&&void 0!==o?o:"",this.description=null!==(n=t.description)&&void 0!==n?n:"",this.type=t.type,this.options={isnew:!0,separator:!1},this.type!==s.SECTION||this.titre||(this.options.separator=!0),this.credits=null!==(r=t.credit)&&void 0!==r?r:"",this.webAuteurInitial=t.auteurInitial,this.imageEmbed=t.images[0]?{url:t.images[0].url,type:i.IMAGE}:void 0,this.videoEmbed=t.videos[0]?{url:t.videos[0].url,type:i.VIDEO}:void 0,this.audioEmbed=t.audios[0]?{url:t.audios[0].url,type:i.AUDIO}:void 0,this.lienEmbed=t.urls[0]?{url:t.urls[0].url,label:t.urls[0].label,displayPreview:t.urls[0].displayPreview,bigPreview:t.urls[0].bigPreview,type:i.LIEN}:void 0,this.exerciseur=t.exerciseurs[0]?{url:t.exerciseurs[0].url,exerciseurType:t.exerciseurs[0].typeExerciseur,type:i.EXERCISEUR}:void 0,e&&(this.document=e),this.meta=t.meta}},function(t){t.LIEN="LIEN",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.FICHIER="FICHIER",t.EXERCISEUR="EXERCISEUR"}(i||(i={})),function(t){t.QUIZLET="QUIZLET",t.LEARNINGAPPS="LEARNINGAPPS",t.GENIALLY="GENIALLY",t.BOOKWIDGETS="BOOKWIDGETS",t.EDUPOOL="EDUPOOL",t.BELIN="BELIN"}(o||(e.ExerciseurType=o={})),function(t){t.ELEMENT="element",t.SECTION="section"}(s||(e.ElementType=s={})),function(t){t.BELIN="https://www.belin-education.com/"}(n||(e.Editeur=n={}))}},e={};function i(o){var s=e[o];if(void 0!==s)return s.exports;var n=e[o]={exports:{}};return t[o](n,n.exports,i),n.exports}(()=>{const t=i(4911),e=i(4791);class o extends HTMLElement{constructor(){super(),this.tooltipView=new e.TooltipView,this.showTooltip=()=>{this.tooltipContainer.classList.add("visible"),this.classList.add("visible"),this.adjustTooltipPosition()},this.hideTooltip=()=>{this.tooltipContainer.classList.remove("visible"),this.classList.remove("visible")},this.adjustTooltipPosition=()=>{const t=this.parentNode.getBoundingClientRect();this.tooltipContainer.style.maxWidth=t.width-10+"px",this.removeTooltipPosition();const e=this.getBoundingClientRect(),i=this.tooltipContainer.getBoundingClientRect();let o=0;i.right>t.right?(o=i.right-t.right,this.tooltipContainer.style.left=`calc(50% - ${o}px)`):i.left<t.left&&(o=t.left-i.left,this.tooltipContainer.style.left=`calc(50% + ${o}px)`);const s=this.tooltipContainer.offsetHeight;t.top+e.top<i.height?(this.tooltipContainer.classList.remove("above"),this.tooltipContainer.classList.add("below"),this.classList.remove("above"),this.classList.add("below")):(this.tooltipContainer.classList.remove("below"),this.tooltipContainer.classList.add("above"),this.classList.remove("below"),this.classList.add("above"),this.tooltipContainer.style.top=`-${s+5}px`)},this.removeTooltipPosition=()=>{this.tooltipContainer.style.left="",this.tooltipContainer.style.top=""},this.classList.add("tooltip-triggerer");const i=this.attachShadow({mode:"open"});i.appendChild((0,t.fromHTML)(this.tooltipView.template()).content.cloneNode(!0)),this.tooltipContainer=i.querySelector("#tooltip-container"),this.addEventListener("mouseenter",(()=>this.showTooltip())),this.addEventListener("mouseleave",(()=>this.hideTooltip()))}disconnectedCallback(){this.removeEventListener("mouseenter",this.showTooltip),this.removeEventListener("mouseleave",this.hideTooltip)}}customElements.define("tooltip-component",o)})()})();
/*! For license information please see 827.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunk_keplr_wallet_extension=self.webpackChunk_keplr_wallet_extension||[]).push([[827],{56559:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.KEPLR_EXT_ANALYTICS_API_AUTH_TOKEN=t.KEPLR_EXT_ANALYTICS_API_URL=t.ROUTE=void 0,t.ROUTE="analytics",t.KEPLR_EXT_ANALYTICS_API_URL="https://analytics.keplr.app",t.KEPLR_EXT_ANALYTICS_API_AUTH_TOKEN="D7THUjkEo3f_u!3eBfi"},10762:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getHandler=void 0;const r=n(75916);t.getHandler=e=>(t,n)=>{switch(n.constructor){case r.GetAnalyticsIdMsg:return i(e)(t,n);case r.SetDisableAnalyticsMsg:return o(e)(t,n);case r.LogAnalyticsEventMsg:return s(e)(t,n);default:throw new Error("Unknown msg type")}};const i=e=>(t,n)=>e.getAnalyticsIdOnlyIfPrivileged(t,n.origin),o=e=>(t,n)=>e.setDisabled(n.disabled),s=e=>(t,n)=>e.logEventIgnoreError(n.event,n.params)},52778:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(20238),t),i(n(75916),t)},61115:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;const r=n(75916),i=n(56559),o=n(10762);t.init=function(e,t){e.registerMessage(r.GetAnalyticsIdMsg),e.registerMessage(r.SetDisableAnalyticsMsg),e.registerMessage(r.LogAnalyticsEventMsg),e.addHandler(i.ROUTE,(0,o.getHandler)(t))}},91374:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(20238),t),i(n(61115),t)},75916:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LogAnalyticsEventMsg=t.SetDisableAnalyticsMsg=t.GetAnalyticsIdMsg=void 0;const r=n(47722),i=n(56559);class o extends r.Message{static type(){return"get-analytics-id"}constructor(){super()}validateBasic(){}approveExternal(){return!0}route(){return i.ROUTE}type(){return o.type()}}t.GetAnalyticsIdMsg=o;class s extends r.Message{static type(){return"set-disable-analytics"}constructor(e){super(),this.disabled=e}validateBasic(){}route(){return i.ROUTE}type(){return s.type()}}t.SetDisableAnalyticsMsg=s;class a extends r.Message{static type(){return"log-analytics-event"}constructor(e,t){super(),this.event=e,this.params=t}validateBasic(){if(!this.event)throw new Error("Empty event")}route(){return i.ROUTE}type(){return a.type()}}t.LogAnalyticsEventMsg=a},20238:function(e,t,n){var r=n(48834).Buffer,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AnalyticsService=void 0;const s=n(56559),a=n(86693),d=n(80075);class c{constructor(e,t,n){this.kvStore=e,this.privilegedOrigins=t,this.analyticsOptions=n,this.analyticsId="",this.disabled=!1,(0,d.makeObservable)(this)}init(){return o(this,void 0,void 0,(function*(){const e=yield this.kvStore.get("analyticsDisabled");(0,d.runInAction)((()=>{this.disabled=!!e})),(0,d.autorun)((()=>{this.kvStore.set("analyticsDisabled",this.disabled)}));const t=yield this.kvStore.get("analyticsId");if(t)return void(this.analyticsId=t);const n=new Uint8Array(20);crypto.getRandomValues(n);const r=Array.from(n).map((e=>{let t=e.toString(16);return 1===t.length&&(t="0"+t),t})).join("");this.analyticsId=r,yield this.kvStore.set("analyticsId",r)}))}getAnalyticsIdOnlyIfPrivileged(e,t){if(!e.isInternalMsg&&!this.privilegedOrigins.includes(t))throw new Error("Rejected");return this.analyticsId}logEvent(e,t){return o(this,void 0,void 0,(function*(){if(!s.KEPLR_EXT_ANALYTICS_API_URL||!s.KEPLR_EXT_ANALYTICS_API_AUTH_TOKEN)return;if("function"==typeof browser.runtime.getBrowserInfo&&"Firefox"===(yield browser.runtime.getBrowserInfo()).name)return;if(this.disabled)return;const n=r.from(JSON.stringify(Object.assign(Object.assign({},t),{event:e,analyticsId:this.analyticsId,v2:!0,platform:this.analyticsOptions.platform,mobileOS:this.analyticsOptions.mobileOS,webdriver:"undefined"!=typeof navigator&&!!navigator.webdriver}))).toString("base64");yield(0,a.simpleFetch)(s.KEPLR_EXT_ANALYTICS_API_URL,`/log?msg=${encodeURIComponent(n)}`,{headers:{Authorization:s.KEPLR_EXT_ANALYTICS_API_AUTH_TOKEN}})}))}logEventIgnoreError(e,t){this.logEvent(e,t).catch((e=>console.log(e)))}setDisabled(e){return this.disabled=e,this.disabled}}i([d.observable],c.prototype,"disabled",void 0),i([d.action],c.prototype,"setDisabled",null),t.AnalyticsService=c},42434:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ROUTE=void 0,t.ROUTE="auto-lock-account"},11959:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getHandler=void 0;const r=n(47722),i=n(74735);t.getHandler=e=>(t,n)=>{switch(n.constructor){case i.GetAutoLockAccountDurationMsg:return o(e)(t,n);case i.UpdateAutoLockAccountDurationMsg:return s(e)(t,n);case i.StartAutoLockMonitoringMsg:return a(e)(t,n);case i.GetLockOnSleepMsg:return d(e)(t,n);case i.SetLockOnSleepMsg:return c(e)(t,n);case i.GetAutoLockStateMsg:return u(e)(t,n);default:throw new r.KeplrError("auto-lock-account",100,"Unknown msg type")}};const o=e=>()=>e.getAutoLockDuration(),s=e=>(t,n)=>{if(!e.keyRingIsUnlocked)throw new Error("Keyring is not unlocked");return e.setDuration(n.duration)},a=e=>()=>e.startAppStateCheckTimer(),d=e=>()=>e.getLockOnSleep(),c=e=>(t,n)=>e.setLockOnSleep(n.lockOnSleep),u=e=>()=>({duration:e.getAutoLockDuration(),lockOnSleep:e.getLockOnSleep()})},85235:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(38798),t),i(n(74735),t)},76321:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;const r=n(74735),i=n(42434),o=n(11959);t.init=function(e,t){e.registerMessage(r.GetAutoLockAccountDurationMsg),e.registerMessage(r.UpdateAutoLockAccountDurationMsg),e.registerMessage(r.StartAutoLockMonitoringMsg),e.registerMessage(r.GetLockOnSleepMsg),e.registerMessage(r.SetLockOnSleepMsg),e.registerMessage(r.GetAutoLockStateMsg),e.addHandler(i.ROUTE,(0,o.getHandler)(t))}},94044:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(38798),t),i(n(76321),t)},74735:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GetAutoLockStateMsg=t.SetLockOnSleepMsg=t.GetLockOnSleepMsg=t.StartAutoLockMonitoringMsg=t.UpdateAutoLockAccountDurationMsg=t.GetAutoLockAccountDurationMsg=void 0;const r=n(47722),i=n(42434);class o extends r.Message{static type(){return"get-auto-lock-account-duration"}constructor(){super()}validateBasic(){}route(){return i.ROUTE}type(){return o.type()}}t.GetAutoLockAccountDurationMsg=o;class s extends r.Message{static type(){return"update-auto-lock-account-duration"}constructor(e){super(),this.duration=e}validateBasic(){if(this.duration<0)throw new r.KeplrError("auto-lock-account",101,"duration cannot be set to a negative number.")}route(){return i.ROUTE}type(){return s.type()}}t.UpdateAutoLockAccountDurationMsg=s;class a extends r.Message{static type(){return"start-auto-lock-monitoring"}constructor(){super()}validateBasic(){}route(){return i.ROUTE}type(){return a.type()}}t.StartAutoLockMonitoringMsg=a;class d extends r.Message{static type(){return"get-lock-on-sleep"}constructor(){super()}validateBasic(){}route(){return i.ROUTE}type(){return d.type()}}t.GetLockOnSleepMsg=d;class c extends r.Message{static type(){return"set-lock-on-sleep"}constructor(e){super(),this.lockOnSleep=e}validateBasic(){}route(){return i.ROUTE}type(){return c.type()}}t.SetLockOnSleepMsg=c;class u extends r.Message{static type(){return"get-auto-lock-state"}constructor(){super()}validateBasic(){}route(){return i.ROUTE}type(){return u.type()}}t.GetAutoLockStateMsg=u},38798:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AutoLockAccountService=void 0;const o=n(80075);class s{constructor(e,t,n){this.kvStore=e,this.keyRingService=t,this.addDeviceLockedListener=n,this.autoLockDuration=0,this.lockOnSleep=!1,this.autoLockTimer=null,(0,o.makeObservable)(this)}init(){return i(this,void 0,void 0,(function*(){const e=yield this.kvStore.get("autoLockDuration");(0,o.runInAction)((()=>{null==e||Number.isNaN(e)?this.autoLockDuration=0:this.autoLockDuration=e})),(0,o.autorun)((()=>{this.kvStore.set("autoLockDuration",this.autoLockDuration)}));const t=yield this.kvStore.get("lockOnSleep");(0,o.runInAction)((()=>{this.lockOnSleep=!!t})),(0,o.autorun)((()=>{this.kvStore.set("lockOnSleep",this.lockOnSleep)})),this.addDeviceLockedListener((()=>{this.onDeviceLocked()}))}))}onDeviceLocked(){this.autoLockDuration>0?(this.stopAutoLockTimer(),this.lock()):this.lockOnSleep&&this.lock()}startAppStateCheckTimer(){this.stopAutoLockTimer(),this.startAutoLockTimer()}startAutoLockTimer(){if(!this.keyRingIsUnlocked)throw new Error("Keyring is not unlocked");this.autoLockDuration<=0||(this.autoLockTimer=setTimeout((()=>{this.stopAutoLockTimer(),this.lock()}),this.autoLockDuration))}stopAutoLockTimer(){null!=this.autoLockTimer&&(clearTimeout(this.autoLockTimer),this.autoLockTimer=null)}lock(){this.keyRingIsUnlocked&&this.keyRingService.lockKeyRing()}get keyRingIsUnlocked(){return"unlocked"===this.keyRingService.keyRingStatus}getAutoLockDuration(){return this.autoLockDuration}setDuration(e){this.autoLockDuration=e,e<=0&&this.stopAutoLockTimer()}getLockOnSleep(){return this.lockOnSleep}setLockOnSleep(e){this.lockOnSleep=e}}r([o.observable],s.prototype,"autoLockDuration",void 0),r([o.observable],s.prototype,"lockOnSleep",void 0),r([o.action],s.prototype,"setDuration",null),r([o.action],s.prototype,"setLockOnSleep",null),t.AutoLockAccountService=s},15052:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ROUTE=void 0,t.ROUTE="chains-ui"},53427:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getHandler=void 0;const r=n(47722),i=n(97762);t.getHandler=e=>(t,n)=>{switch(n.constructor){case i.GetEnabledChainIdentifiersMsg:return o(e)(t,n);case i.ToggleChainsMsg:return s(e)(t,n);case i.EnableChainsMsg:return a(e)(t,n);case i.DisableChainsMsg:return d(e)(t,n);case i.GetVaultsByEnabledChainMsg:return c(e)(t,n);default:throw new r.KeplrError("chains",110,"Unknown msg type")}};const o=e=>(t,n)=>e.enabledChainIdentifiersForVault(n.vaultId),s=e=>(t,n)=>(e.toggleChain(n.vaultId,...n.chainIds),e.enabledChainIdentifiersForVault(n.vaultId)),a=e=>(t,n)=>(e.enableChain(n.vaultId,...n.chainIds),e.enabledChainIdentifiersForVault(n.vaultId)),d=e=>(t,n)=>(e.disableChain(n.vaultId,...n.chainIds),e.enabledChainIdentifiersForVault(n.vaultId)),c=e=>(t,n)=>e.getVaultsByEnabledChain(n.chainId)},24478:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(17851),t),i(n(97762),t)},57922:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;const r=n(97762),i=n(15052),o=n(53427);t.init=function(e,t){e.registerMessage(r.GetEnabledChainIdentifiersMsg),e.registerMessage(r.ToggleChainsMsg),e.registerMessage(r.EnableChainsMsg),e.registerMessage(r.DisableChainsMsg),e.registerMessage(r.GetVaultsByEnabledChainMsg),e.addHandler(i.ROUTE,(0,o.getHandler)(t))}},38460:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(17851),t),i(n(57922),t)},97762:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GetVaultsByEnabledChainMsg=t.DisableChainsMsg=t.EnableChainsMsg=t.ToggleChainsMsg=t.GetEnabledChainIdentifiersMsg=void 0;const r=n(47722),i=n(15052);class o extends r.Message{static type(){return"get-enabled-chain-identifiers"}constructor(e){super(),this.vaultId=e}validateBasic(){if(!this.vaultId)throw new Error("vaultId is not set")}route(){return i.ROUTE}type(){return o.type()}}t.GetEnabledChainIdentifiersMsg=o;class s extends r.Message{static type(){return"chains-ui-toggle-chains"}constructor(e,t){super(),this.vaultId=e,this.chainIds=t}validateBasic(){if(!this.vaultId)throw new Error("vaultId is not set");if(!this.chainIds||0===this.chainIds.length)throw new Error("chainIds are not set");const e=new Map;for(const t of this.chainIds){if(e.get(t))throw new Error(`chainId ${t} is duplicated`);e.set(t,!0)}}route(){return i.ROUTE}type(){return s.type()}}t.ToggleChainsMsg=s;class a extends r.Message{static type(){return"chains-ui-enable-chains"}constructor(e,t){super(),this.vaultId=e,this.chainIds=t}validateBasic(){if(!this.vaultId)throw new Error("vaultId is not set");if(!this.chainIds||0===this.chainIds.length)throw new Error("chainIds are not set");const e=new Map;for(const t of this.chainIds){if(e.get(t))throw new Error(`chainId ${t} is duplicated`);e.set(t,!0)}}route(){return i.ROUTE}type(){return a.type()}}t.EnableChainsMsg=a;class d extends r.Message{static type(){return"chains-ui-disable-chains"}constructor(e,t){super(),this.vaultId=e,this.chainIds=t}validateBasic(){if(!this.vaultId)throw new Error("vaultId is not set");if(!this.chainIds||0===this.chainIds.length)throw new Error("chainIds are not set");const e=new Map;for(const t of this.chainIds){if(e.get(t))throw new Error(`chainId ${t} is duplicated`);e.set(t,!0)}}route(){return i.ROUTE}type(){return d.type()}}t.DisableChainsMsg=d;class c extends r.Message{static type(){return"chains-ui-get-vaults-by-enabled-chain"}constructor(e){super(),this.chainId=e}validateBasic(){if(!this.chainId)throw new Error("chainId is not set")}route(){return i.ROUTE}type(){return c.type()}}t.GetVaultsByEnabledChainMsg=c},17851:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ChainsUIService=void 0;const o=n(80075),s=n(94531),a=n(58242);class d{constructor(e,t,n){this.kvStore=e,this.chainsService=t,this.vaultService=n,this.enabledChainIdentifiersMap=new Map,this.onChainUIEnabledChangedHandlers=[],this.enabledChainIdentifiersForVault=(0,a.computedFn)((e=>{var t;const n=(null!==(t=this.enabledChainIdentifiersMap.get(e))&&void 0!==t?t:[]).filter((e=>this.chainsService.hasModularChainInfo(e)));return 0===n.length?[s.ChainIdHelper.parse(this.chainsService.getChainInfos()[0].chainId).identifier]:n}),{keepAlive:!0}),this.enabledModularChainInfosForVault=(0,a.computedFn)((e=>this.enabledChainIdentifiersForVault(e).map((e=>this.chainsService.getModularChainInfoOrThrow(e))))),this.enabledChainIdentifierMapForVault=(0,a.computedFn)((e=>{const t=this.enabledChainIdentifiersForVault(e),n=new Map;for(const e of t)n.set(e,!0);return n}),{keepAlive:!0}),this.isEnabled=(0,a.computedFn)(((e,t)=>{const n=s.ChainIdHelper.parse(t).identifier;return!0===this.enabledChainIdentifierMapForVault(e).get(n)}),{keepAlive:!0}),this.getVaultsByEnabledChain=(0,a.computedFn)((e=>{const t=s.ChainIdHelper.parse(e).identifier,n=this.enabledChainIdentifiersMap.keys(),r=[];for(const e of n)this.enabledChainIdentifierMapForVault(e).get(t)&&r.push(e);return r}),{keepAlive:!0}),this.onChainRemoved=e=>{(0,o.runInAction)((()=>{const t=s.ChainIdHelper.parse(e.chainId).identifier,n=this.enabledChainIdentifiersMap.keys();for(const e of n)if(this.enabledChainIdentifierMapForVault(e).get(t)){const n=this.enabledChainIdentifiersForVault(e).slice(),r=n.findIndex((e=>e===t));r>=0&&n.splice(r,1),this.enabledChainIdentifiersMap.set(e,n)}}))},this.onVaultRemoved=(e,t)=>{(0,o.runInAction)((()=>{"keyRing"===e&&this.enabledChainIdentifiersMap.delete(t)}))},(0,o.makeObservable)(this)}init(){return i(this,void 0,void 0,(function*(){const e=yield this.kvStore.get("enabledChainIdentifiesMap");e&&(0,o.runInAction)((()=>{for(const[t,n]of Object.entries(e))this.enabledChainIdentifiersMap.set(t,n)})),(0,o.autorun)((()=>{const e=(0,o.toJS)(this.enabledChainIdentifiersMap),t=Object.fromEntries(e);this.kvStore.set("enabledChainIdentifiesMap",t)})),this.chainsService.addChainRemovedHandler(this.onChainRemoved),this.vaultService.addVaultRemovedHandler(this.onVaultRemoved)}))}toggleChain(e,...t){if(!this.vaultService.getVault("keyRing",e))throw new Error("Vault is null");const n=(t=Array.from(new Set([...t]))).map((e=>s.ChainIdHelper.parse(e).identifier)).filter((e=>this.chainsService.hasChainInfo(e))),r=this.enabledChainIdentifierMapForVault(e);for(const t of n)r.get(t)?this.disableChain(e,t):this.enableChain(e,t)}enableChain(e,...t){if(!this.vaultService.getVault("keyRing",e))throw new Error("Vault is null");const n=(t=Array.from(new Set([...t]))).map((e=>s.ChainIdHelper.parse(e).identifier)).filter((e=>this.chainsService.hasModularChainInfo(e))),r=this.enabledChainIdentifiersForVault(e).slice(),i=this.enabledChainIdentifierMapForVault(e);for(const e of n)i.get(e)||r.push(e);this.enabledChainIdentifiersMap.set(e,r);for(const t of this.onChainUIEnabledChangedHandlers)t(e,this.enabledChainIdentifiersForVault(e))}disableChain(e,...t){if(!this.vaultService.getVault("keyRing",e))throw new Error("Vault is null");const n=(t=Array.from(new Set([...t]))).map((e=>s.ChainIdHelper.parse(e).identifier)).filter((e=>this.chainsService.hasModularChainInfo(e))),r=this.enabledChainIdentifiersForVault(e).slice(),i=this.enabledChainIdentifierMapForVault(e);for(const e of n)if(i.get(e)){const t=r.findIndex((t=>t===e));t>=0&&r.splice(t,1)}this.enabledChainIdentifiersMap.set(e,r);for(const t of this.onChainUIEnabledChangedHandlers)t(e,this.enabledChainIdentifiersForVault(e))}get allEnabledChainIdentifiers(){const e=new Set;for(const t of this.enabledChainIdentifiersMap.values())for(const n of t)e.add(n);return Array.from(e).filter((e=>this.chainsService.hasChainInfo(e)))}addChainUIEnabledChangedHandler(e){this.onChainUIEnabledChangedHandlers.push(e)}}r([o.observable.shallow],d.prototype,"enabledChainIdentifiersMap",void 0),r([o.action],d.prototype,"toggleChain",null),r([o.action],d.prototype,"enableChain",null),r([o.action],d.prototype,"disableChain",null),r([o.computed],d.prototype,"allEnabledChainIdentifiers",null),t.ChainsUIService=d},36575:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ROUTE=void 0,t.ROUTE="chains-update"},30813:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getHandler=void 0;const i=n(47722),o=n(52745);t.getHandler=e=>(t,n)=>{switch(n.constructor){case o.TryUpdateAllChainInfosMsg:return s(e)(t,n);case o.TryUpdateEnabledChainInfosMsg:return a(e)(t,n);default:throw new i.KeplrError("chains-update",110,"Unknown msg type")}};const s=e=>()=>r(void 0,void 0,void 0,(function*(){return yield e.tryUpdateAllChainInfos()})),a=e=>()=>r(void 0,void 0,void 0,(function*(){return yield e.tryUpdateEnabledChainInfos()}))},43642:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(4699),t),i(n(52745),t)},87922:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;const r=n(52745),i=n(36575),o=n(30813);t.init=function(e,t){e.registerMessage(r.TryUpdateAllChainInfosMsg),e.registerMessage(r.TryUpdateEnabledChainInfosMsg),e.addHandler(i.ROUTE,(0,o.getHandler)(t))}},99657:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(4699),t),i(n(87922),t)},52745:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TryUpdateEnabledChainInfosMsg=t.TryUpdateAllChainInfosMsg=void 0;const r=n(47722),i=n(36575);class o extends r.Message{static type(){return"TryUpdateAllChainInfosMsg"}constructor(){super()}validateBasic(){}route(){return i.ROUTE}type(){return o.type()}}t.TryUpdateAllChainInfosMsg=o;class s extends r.Message{static type(){return"TryUpdateEnabledChainInfosMsg"}constructor(){super()}validateBasic(){}route(){return i.ROUTE}type(){return s.type()}}t.TryUpdateEnabledChainInfosMsg=s},4699:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ChainsUpdateService=void 0;const o=n(89642),s=n(94531),a=n(80075);class d{constructor(e,t,n,r){this.kvStore=e,this.chainsService=t,this.chainsUIService=n,this.disableUpdateLoop=r,this.lastUpdateStartTimeMap=new Map,this.windowsMap=new Map,this.onInitUpdateDate=void 0,(0,a.makeObservable)(this)}init(){return i(this,void 0,void 0,(function*(){const e=yield this.kvStore.get("onInitUpdateDate");e?(0,a.runInAction)((()=>{this.onInitUpdateDate={date:new Date(e.date)}})):(0,a.runInAction)((()=>{this.onInitUpdateDate=void 0})),(0,a.autorun)((()=>{const e=(0,a.toJS)(this.onInitUpdateDate);e?this.kvStore.set("onInitUpdateDate",Object.assign(Object.assign({},e),{date:e.date.toISOString()})):this.kvStore.set("onInitUpdateDate",null)})),this.disableUpdateLoop||this.startUpdateLoop(),this.chainsService.addChainSuggestedHandler((e=>{this.updateChainInfo(e.chainId).catch((e=>{console.log(e)}))})),this.chainsService.addChainRemovedHandler((e=>{this.updateChainInfo(e.chainId).catch((e=>{console.log(e)}))})),(0,o.isServiceWorker)()&&(browser.windows.onCreated.addListener((e=>{null!=e.id&&this.windowsMap.set(e.id,!0)})),browser.windows.onRemoved.addListener((e=>{let t=!1;this.windowsMap.get(e)&&(t=!0),this.windowsMap.delete(e),0!==this.windowsMap.size||t||(0,a.runInAction)((()=>{this.onInitUpdateDate=void 0}))})))}))}startUpdateLoop(){this.startUpdateChainInfosLoop(),this.startUpdateEnabledChainInfosLoop()}startUpdateChainInfosLoop(){return i(this,void 0,void 0,(function*(){let e=!0;for(;;){let t=!1;if(e&&(0,o.isServiceWorker)()&&this.onInitUpdateDate&&Date.now()-this.onInitUpdateDate.date.getTime()<108e5&&(t=!0),!t){(0,o.isServiceWorker)()&&(0,a.runInAction)((()=>{this.onInitUpdateDate={date:new Date}}));const e=this.chainsService.getChainInfos();for(const t of e)this.updateChainInfo(t.chainId).catch((e=>{console.log(e)}))}e=!1,yield new Promise((e=>{setTimeout(e,216e5)}))}}))}startUpdateEnabledChainInfosLoop(){return i(this,void 0,void 0,(function*(){for(;;){yield new Promise((e=>{setTimeout(e,36e5)}));const e=this.chainsUIService.allEnabledChainIdentifiers;for(const t of e)this.updateChainInfo(t).catch((e=>{console.log(e)}))}}))}tryUpdateAllChainInfos(){return i(this,void 0,void 0,(function*(){let e=!1;const t=[],n=this.chainsService.getChainInfos().map((e=>e.chainId));for(const r of n)t.push((()=>i(this,void 0,void 0,(function*(){(yield this.updateChainInfo(r))&&(e=!0)})))());return yield Promise.allSettled(t),e}))}tryUpdateEnabledChainInfos(){return i(this,void 0,void 0,(function*(){let e=!1;const t=[],n=this.chainsUIService.allEnabledChainIdentifiers;for(const r of n)t.push((()=>i(this,void 0,void 0,(function*(){(yield this.updateChainInfo(r))&&(e=!0)})))());return yield Promise.allSettled(t),e}))}updateChainInfo(e){return i(this,void 0,void 0,(function*(){const t=s.ChainIdHelper.parse(e).identifier,n=this.lastUpdateStartTimeMap.get(t);if(n&&Math.abs(Date.now()-n)<3e5)return!1;this.lastUpdateStartTimeMap.set(t,Date.now());const r=this.chainsService.getChainInfoWithCoreTypes(t);if(!r)return!1;let i=!1;if(!r.updateFromRepoDisabled)try{i=yield this.chainsService.tryUpdateChainInfoFromRepo(t)}catch(e){console.log(e)}const o=yield this.chainsService.tryUpdateChainInfoFromRpcOrRest(t);return i||o}))}}r([a.observable],d.prototype,"onInitUpdateDate",void 0),t.ChainsUpdateService=d},56694:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ROUTE=void 0,t.ROUTE="chains"},57247:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getHandler=void 0;const i=n(47722),o=n(67412),s=n(81375);t.getHandler=(e,t,n)=>(r,s)=>{switch(s.constructor){case o.PingMsg:return{};case o.GetChainInfosWithCoreTypesMsg:return a(e)(r,s);case o.GetChainInfosWithoutEndpointsMsg:return d(e,n)(r,s);case o.GetChainInfoWithoutEndpointsMsg:return c(e,n)(r,s);case o.SuggestChainInfoMsg:return u(e,t,n)(r,s);case o.NeedSuggestChainInfoInteractionMsg:return l(e)(r,s);case o.RemoveSuggestedChainInfoMsg:return h(e)(r,s);case o.SetChainEndpointsMsg:return p(e)(r,s);case o.ClearChainEndpointsMsg:return f(e)(r,s);case o.GetChainOriginalEndpointsMsg:return g(e)(r,s);case o.ClearAllSuggestedChainInfosMsg:return v(e)(r,s);case o.ClearAllChainEndpointsMsg:return m(e)(r,s);default:throw new i.KeplrError("chains",110,"Unknown msg type")}};const a=e=>()=>({chainInfos:e.getChainInfosWithCoreTypes(),modulrChainInfos:e.getModularChainInfos()}),d=(e,t)=>(n,i)=>r(void 0,void 0,void 0,(function*(){return yield t.checkOrGrantGetChainInfosWithoutEndpointsPermission(n,i.origin),{chainInfos:e.getChainInfosWithoutEndpoints()}})),c=(e,t)=>(n,i)=>r(void 0,void 0,void 0,(function*(){return yield t.ensureEnabled(n,[i.chainId],i.origin),{chainInfo:e.getChainInfoWithoutEndpoints(i.chainId)}})),u=(e,t,n)=>(i,o)=>r(void 0,void 0,void 0,(function*(){if(null!=e.getChainInfo(o.chainInfo.chainId))return;yield n.ensureKeyRingNotEmpty(i);const r=o.chainInfo;r.beta=!0,yield e.suggestChainInfo(i,r,o.origin),t.addPermission([r.chainId],(0,s.getBasicAccessPermissionType)(),[o.origin])})),l=e=>(t,n)=>r(void 0,void 0,void 0,(function*(){return null==e.getChainInfo(n.chainInfo.chainId)&&e.needSuggestChainInfoInteraction(n.origin)})),h=e=>(t,n)=>(e.removeSuggestedChainInfo(n.chainId),{chainInfos:e.getChainInfosWithCoreTypes(),modularChainInfos:e.getModularChainInfos()}),p=e=>(t,n)=>(e.setEndpoint(n.chainId,{rpc:n.rpc,rest:n.rest,evmRpc:n.evmRpc}),{chainInfos:e.getChainInfosWithCoreTypes(),modularChainInfos:e.getModularChainInfos()}),f=e=>(t,n)=>(e.clearEndpoint(n.chainId),{chainInfos:e.getChainInfosWithCoreTypes(),modularChainInfos:e.getModularChainInfos()}),g=e=>(t,n)=>e.getOriginalEndpoint(n.chainId),v=e=>()=>e.clearAllSuggestedChainInfos(),m=e=>()=>e.clearAllEndpoints()},56242:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(46768),t),i(n(67412),t),i(n(1771),t)},97859:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;const r=n(67412),i=n(56694),o=n(57247);t.init=function(e,t,n,s){e.registerMessage(r.PingMsg),e.registerMessage(r.GetChainInfosWithCoreTypesMsg),e.registerMessage(r.GetChainInfosWithoutEndpointsMsg),e.registerMessage(r.GetChainInfoWithoutEndpointsMsg),e.registerMessage(r.SuggestChainInfoMsg),e.registerMessage(r.NeedSuggestChainInfoInteractionMsg),e.registerMessage(r.RemoveSuggestedChainInfoMsg),e.registerMessage(r.SetChainEndpointsMsg),e.registerMessage(r.ClearChainEndpointsMsg),e.registerMessage(r.GetChainOriginalEndpointsMsg),e.registerMessage(r.ClearAllSuggestedChainInfosMsg),e.registerMessage(r.ClearAllChainEndpointsMsg),e.addHandler(i.ROUTE,(0,o.getHandler)(t,n,s))}},54078:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(46768),t),i(n(97859),t)},67412:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ClearAllChainEndpointsMsg=t.ClearAllSuggestedChainInfosMsg=t.GetChainOriginalEndpointsMsg=t.ClearChainEndpointsMsg=t.SetChainEndpointsMsg=t.RemoveSuggestedChainInfoMsg=t.NeedSuggestChainInfoInteractionMsg=t.SuggestChainInfoMsg=t.GetChainInfoWithoutEndpointsMsg=t.GetChainInfosWithoutEndpointsMsg=t.GetChainInfosWithCoreTypesMsg=t.PingMsg=void 0;const r=n(47722),i=n(56694);class o extends r.Message{static type(){return"keplr-ping"}validateBasic(){}route(){return i.ROUTE}approveExternal(){return!0}type(){return o.type()}}t.PingMsg=o;class s extends r.Message{static type(){return"get-chain-infos-with-core-types"}validateBasic(){}route(){return i.ROUTE}type(){return s.type()}}t.GetChainInfosWithCoreTypesMsg=s;class a extends r.Message{static type(){return"get-chain-infos-without-endpoints"}validateBasic(){}approveExternal(){return!0}route(){return i.ROUTE}type(){return a.type()}}t.GetChainInfosWithoutEndpointsMsg=a;class d extends r.Message{static type(){return"get-chain-info-without-endpoints"}constructor(e){super(),this.chainId=e}validateBasic(){if(!this.chainId)throw new r.KeplrError("chains",101,"Chain id not set")}approveExternal(){return!0}route(){return i.ROUTE}type(){return d.type()}}t.GetChainInfoWithoutEndpointsMsg=d;class c extends r.Message{static type(){return"suggest-chain-info"}constructor(e){super(),this.chainInfo=e}validateBasic(){if(!this.chainInfo)throw new r.KeplrError("chains",100,"Chain info not set")}approveExternal(){return!0}route(){return i.ROUTE}type(){return c.type()}}t.SuggestChainInfoMsg=c;class u extends r.Message{static type(){return"need-suggest-chain-info-interaction"}constructor(e){super(),this.chainInfo=e}validateBasic(){if(!this.chainInfo)throw new r.KeplrError("chains",100,"Chain info not set")}approveExternal(){return!0}route(){return i.ROUTE}type(){return u.type()}}t.NeedSuggestChainInfoInteractionMsg=u;class l extends r.Message{static type(){return"remove-suggested-chain-info"}constructor(e){super(),this.chainId=e}validateBasic(){if(!this.chainId)throw new r.KeplrError("chains",101,"Chain id not set")}route(){return i.ROUTE}type(){return l.type()}}t.RemoveSuggestedChainInfoMsg=l;class h extends r.Message{static type(){return"set-chain-endpoints"}constructor(e,t,n,r){super(),this.chainId=e,this.rpc=t,this.rest=n,this.evmRpc=r}validateBasic(){if(!this.chainId)throw new Error("Empty chain id");if(this.rpc){const e=new URL(this.rpc);if("http:"!==e.protocol&&"https:"!==e.protocol)throw new Error(`RPC has invalid protocol: ${e.protocol}`)}if(this.rest){const e=new URL(this.rest);if("http:"!==e.protocol&&"https:"!==e.protocol)throw new Error(`LCD has invalid protocol: ${e.protocol}`)}if(this.evmRpc){const e=new URL(this.evmRpc);if("http:"!==e.protocol&&"https:"!==e.protocol)throw new Error(`EVM RPC has invalid protocol: ${e.protocol}`)}}route(){return i.ROUTE}type(){return h.type()}}t.SetChainEndpointsMsg=h;class p extends r.Message{static type(){return"clear-chain-endpoints"}constructor(e){super(),this.chainId=e}validateBasic(){if(!this.chainId)throw new Error("Empty chain id")}route(){return i.ROUTE}type(){return p.type()}}t.ClearChainEndpointsMsg=p;class f extends r.Message{static type(){return"get-chain-original-endpoints"}constructor(e){super(),this.chainId=e}validateBasic(){if(!this.chainId)throw new Error("Empty chain id")}route(){return i.ROUTE}type(){return f.type()}}t.GetChainOriginalEndpointsMsg=f;class g extends r.Message{static type(){return"clear-all-suggested-chain-infos"}constructor(){super()}validateBasic(){}route(){return i.ROUTE}type(){return g.type()}}t.ClearAllSuggestedChainInfosMsg=g;class v extends r.Message{static type(){return"clear-all-chain-endpoints"}constructor(){super()}validateBasic(){}route(){return i.ROUTE}type(){return v.type()}}t.ClearAllChainEndpointsMsg=v},46768:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ChainsService=void 0;const o=n(89642),s=n(80075),a=n(94531),d=n(58242),c=n(32821),u=n(86693),l=n(67412),h=n(94822);class p{static getEVMInfo(e){return e.evm}constructor(e,t,n,r,i,c,u,l){this.kvStore=e,this.migrationKVStore=t,this.suggestChainPrivilegedOrigins=r,this.communityChainInfoRepo=i,this.analyticsService=c,this.interactionService=u,this.afterInitFn=l,this.updatedChainInfos=[],this.suggestedChainInfos=[],this.repoChainInfos=[],this.endpoints=[],this.onChainRemovedHandlers=[],this.onChainSuggestedHandlers=[],this.getChainInfos=(0,d.computedFn)((()=>this.mergeChainInfosWithDynamics(this.embedChainInfos.concat(this.suggestedChainInfos))),{keepAlive:!0}),this.getChainInfosWithoutEndpoints=(0,d.computedFn)((()=>this.mergeChainInfosWithDynamics(this.embedChainInfos.concat(this.suggestedChainInfos)).map((e=>Object.assign(Object.assign({},e),{rpc:void 0,rest:void 0,nodeProvider:void 0,updateFromRepoDisabled:void 0,embedded:void 0,evm:void 0!==e.evm?Object.assign(Object.assign({},e.evm),{rpc:void 0}):void 0})))),{keepAlive:!0}),this.getChainInfoWithoutEndpoints=(0,d.computedFn)((e=>this.getChainInfosWithoutEndpoints().find((t=>t.chainId===e))),{keepAlive:!0}),this.getChainInfo=(0,d.computedFn)((e=>this.chainInfoMap.get(a.ChainIdHelper.parse(e).identifier)),{keepAlive:!0}),this.getChainInfoByEVMChainId=(0,d.computedFn)((e=>this.getChainInfos().find((t=>t.evm&&t.evm.chainId===e))),{keepAlive:!0}),this.getChainInfosWithCoreTypes=(0,d.computedFn)((()=>this.mergeChainInfosWithDynamics(this.embedChainInfos.map((e=>Object.assign(Object.assign({},e),{embedded:!0}))).concat(this.suggestedChainInfos.map((e=>Object.assign(Object.assign({},e),{beta:!0,embedded:!1})))))),{keepAlive:!0}),this.getChainInfoWithCoreTypes=(0,d.computedFn)((e=>this.chainInfoMapWithCoreTypes.get(a.ChainIdHelper.parse(e).identifier)),{keepAlive:!0}),this.getOriginalEndpoint=(0,d.computedFn)((e=>{const t=a.ChainIdHelper.parse(e).identifier,n=this.embedChainInfos.concat(this.suggestedChainInfos),r=this.modularChainInfos.reduce(((e,t)=>("starknet"in t&&e.push(t.starknet),e)),[]),i=n.find((e=>a.ChainIdHelper.parse(e.chainId).identifier===t))||r.find((e=>a.ChainIdHelper.parse(e.chainId).identifier===t));if(i)return Object.assign(Object.assign({rpc:i.rpc},"rest"in i&&{rest:i.rest}),"evm"in i&&null!=i.evm&&{evmRpc:i.evm.rpc});throw new Error(`Unknown chain: ${e}`)}),{keepAlive:!0}),this.getModularChainInfos=(0,d.computedFn)((()=>this.modularChainInfos.slice().map((e=>{if(this.hasChainInfo(e.chainId)){const t=this.getChainInfoOrThrow(e.chainId);return{chainId:t.chainId,chainName:t.chainName,chainSymbolImageUrl:t.chainSymbolImageUrl,cosmos:t}}if("starknet"in e){const t=this.getEndpoint(e.chainId);return Object.assign(Object.assign({},e),{starknet:Object.assign(Object.assign({},e.starknet),{rpc:(null==t?void 0:t.rpc)||e.starknet.rpc})})}return e})).concat(this.mergeChainInfosWithDynamics(this.suggestedChainInfos).map((e=>({chainId:e.chainId,chainName:e.chainName,chainSymbolImageUrl:e.chainSymbolImageUrl,cosmos:e}))))),{keepAlive:!0}),this.hasModularChainInfo=(0,d.computedFn)((e=>this.getModularChainInfos().some((t=>a.ChainIdHelper.parse(t.chainId).identifier===a.ChainIdHelper.parse(e).identifier)))),this.getModularChainInfo=(0,d.computedFn)((e=>this.getModularChainInfos().find((t=>a.ChainIdHelper.parse(t.chainId).identifier===a.ChainIdHelper.parse(e).identifier)))),this.modularChainInfos=n.map((e=>"currencies"in e?{chainId:e.chainId,chainName:e.chainName,chainSymbolImageUrl:e.chainSymbolImageUrl,cosmos:e}:e)),this.embedChainInfos=n.filter((e=>"currencies"in e||"cosmos"in e)).map((e=>{if("currencies"in e)return e;if(!("cosmos"in e))throw new Error("Can't be happen");return Object.assign({},e.cosmos)})),this.updatedChainInfoKVStore=new o.PrefixKVStore(e,"updatedChainInfo"),this.suggestedChainInfoKVStore=new o.PrefixKVStore(e,"suggestedChainInfo"),this.repoChainInfoKVStore=new o.PrefixKVStore(e,"repoChainInfo"),this.endpointsKVStore=new o.PrefixKVStore(e,"endpoints"),this.suggestChainPrivilegedOrigins=this.suggestChainPrivilegedOrigins.map((e=>new URL(e).origin)),(0,s.makeObservable)(this)}init(){return i(this,void 0,void 0,(function*(){if(!(yield this.kvStore.get("migration/v1"))){const e=yield this.migrationKVStore.kvStore.get("chain-infos");if(e){const t=e.filter((e=>!this.embedChainInfos.some((t=>a.ChainIdHelper.parse(t.chainId).identifier===a.ChainIdHelper.parse(e.chainId).identifier))));for(const e of t)yield this.addSuggestedChainInfo(e,!0);const n=this.embedChainInfos.concat(t);for(const e of n){const t=a.ChainIdHelper.parse(e.chainId).identifier,n=yield this.migrationKVStore.updaterKVStore.get("updated-chain-info/"+t);if(n)try{const e=yield(0,c.validateBasicChainInfoType)(n);(0,s.runInAction)((()=>{this.repoChainInfos=[...this.repoChainInfos,e]}))}catch(e){console.log(e)}const r=yield this.migrationKVStore.updaterKVStore.get(t);r&&this.setUpdatedChainInfo(e.chainId,{chainId:r.chainId,features:r.features});const i=yield this.migrationKVStore.updaterKVStore.get("chain-info-endpoints/"+t);i&&this.setEndpoint(e.chainId,i)}}yield this.kvStore.set("migration/v1",!0)}{const e=yield this.updatedChainInfoKVStore.get("chainInfos");e&&(0,s.runInAction)((()=>{this.updatedChainInfos=e})),(0,s.autorun)((()=>{this.updatedChainInfoKVStore.set("chainInfos",this.updatedChainInfos)}))}{const e=yield this.suggestedChainInfoKVStore.get("chainInfos");e&&(0,s.runInAction)((()=>{this.suggestedChainInfos=e.filter((e=>!this.embedChainInfos.some((t=>a.ChainIdHelper.parse(e.chainId).identifier===a.ChainIdHelper.parse(t.chainId).identifier))))})),(0,s.autorun)((()=>{this.suggestedChainInfoKVStore.set("chainInfos",this.suggestedChainInfos)}))}{const e=yield this.repoChainInfoKVStore.get("chainInfos");e&&(0,s.runInAction)((()=>{this.repoChainInfos=e})),(0,s.autorun)((()=>{this.repoChainInfoKVStore.set("chainInfos",this.repoChainInfos)}))}{const e=yield this.endpointsKVStore.get("endpoints");e&&(0,s.runInAction)((()=>{this.endpoints=e})),(0,s.autorun)((()=>{this.endpointsKVStore.set("endpoints",this.endpoints)}))}(0,h.runIfOnlyAppStart)("analytics/test-cointypes",(()=>i(this,void 0,void 0,(function*(){var e;const t=new Map,n=this.getChainInfos();for(const r of n){118!==r.bip44.coinType&&60!==r.bip44.coinType&&t.set(r.bip44.coinType,!0);for(const n of null!==(e=r.alternativeBIP44s)&&void 0!==e?e:[])118!==n.coinType&&60!==n.coinType&&t.set(n.coinType,!0)}this.analyticsService.logEventIgnoreError("test-cointypes",{coinTypes:Array.from(t.keys())})}))))}))}afterInit(){return i(this,void 0,void 0,(function*(){const e=yield this.kvStore.get("last_embed_chain_infos");this.afterInitFn&&(yield this.afterInitFn(this,null!=e?e:[])),yield this.kvStore.set("last_embed_chain_infos",(0,s.toJS)(this.embedChainInfos))}))}hasChainInfo(e){return null!=this.getChainInfo(e)}getChainInfoOrThrow(e){const t=this.getChainInfo(e);if(!t)throw new Error(`There is no chain info for ${e}`);return t}tryUpdateChainInfoFromRepo(e){return i(this,void 0,void 0,(function*(){if(!this.hasChainInfo(e))throw new Error(`${e} is not registered`);if(this.getChainInfoOrThrow(e).updateFromRepoDisabled)return!1;const t=this.isEvmOnlyChain(e),n=yield this.fetchFromRepo(e,t);if(!this.hasChainInfo(e))throw new Error(`${e} became unregistered after fetching`);const r=a.ChainIdHelper.parse(e).identifier,i=this.getRepoChainInfo(e);if(!i||(0,o.sortedJsonByKeyStringify)(i)!==(0,o.sortedJsonByKeyStringify)(n)){const e=this.repoChainInfos.findIndex((e=>a.ChainIdHelper.parse(e.chainId).identifier===r));return(0,s.runInAction)((()=>{if(e>=0){const t=this.repoChainInfos.slice();t[e]=n,this.repoChainInfos=t}else{const e=this.repoChainInfos.slice();e.push(n),this.repoChainInfos=e}})),!0}return!1}))}fetchFromRepo(e,t){var n;return i(this,void 0,void 0,(function*(){const r=a.ChainIdHelper.parse(e).identifier,i=yield(0,u.simpleFetch)(this.communityChainInfoRepo.alternativeURL?this.communityChainInfoRepo.alternativeURL.replace("{chain_identifier}",r).replace("/cosmos/",t?"/evm/":"/cosmos/"):`https://raw.githubusercontent.com/${this.communityChainInfoRepo.organizationName}/${this.communityChainInfoRepo.repoName}/${this.communityChainInfoRepo.branchName}/${t?"evm":"cosmos"}/${r}.json`),o="rest"in i.data&&!t?i.data:Object.assign(Object.assign({},i.data),{rest:i.data.rpc,evm:Object.assign({chainId:parseInt(i.data.chainId.replace("eip155:",""),10),rpc:i.data.rpc},"websocket"in i.data&&{websocket:i.data.websocket}),features:["eth-address-gen","eth-key-sign"].concat(null!==(n=i.data.features)&&void 0!==n?n:[])}),s=a.ChainIdHelper.parse(o.chainId).identifier;if(r!==s)throw new Error(`The chainId is not valid.(${e} -> ${s})`);return yield(0,c.validateBasicChainInfoType)(o)}))}tryUpdateChainInfoFromRpcOrRest(e){var t;return i(this,void 0,void 0,(function*(){if(!this.hasChainInfo(e))throw new Error(`${e} is not registered`);const n=a.ChainIdHelper.parse(e).identifier,r=this.getChainInfoOrThrow(e);if(this.isEvmOnlyChain(r.chainId))return!1;let i=!1;const o=yield(0,u.simpleFetch)(r.rpc,"/status"),s=("result"in o.data?o.data.result:o.data).node_info.network;if(a.ChainIdHelper.parse(s).identifier!==n)throw new Error(`Chain id is different from rpc: (expected: ${e}, actual: ${s})`);if(r.chainId!==s){if(i=!0,!this.hasChainInfo(e))throw new Error(`${e} became unregistered after fetching`);this.setUpdatedChainInfo(e,{chainId:s})}const d=yield(0,c.checkChainFeatures)(r),l=0!==d.length;if(l){if(!this.hasChainInfo(e))throw new Error(`${e} became unregistered after fetching`);const n=[...new Set([...d,...null!==(t=r.features)&&void 0!==t?t:[]])];this.setUpdatedChainInfo(e,{features:n})}return i||l}))}setUpdatedChainInfo(e,t){if(!this.hasChainInfo(e))throw new Error(`${e} is not registered`);const n=a.ChainIdHelper.parse(e).identifier,r=this.updatedChainInfos.findIndex((e=>a.ChainIdHelper.parse(e.chainId).identifier===n));if(r>=0){const e=this.updatedChainInfos[r],n=this.updatedChainInfos.slice();n[r]=Object.assign(Object.assign({},e),t),this.updatedChainInfos=n}else{const n=this.getChainInfoOrThrow(e),r=this.updatedChainInfos.slice();r.push({chainId:t.chainId||n.chainId,features:t.features||n.features}),this.updatedChainInfos=r}}needSuggestChainInfoInteraction(e){return i(this,void 0,void 0,(function*(){return!this.suggestChainPrivilegedOrigins.includes(e)}))}suggestChainInfo(e,t,n){return i(this,void 0,void 0,(function*(){t=yield(0,c.validateBasicChainInfoType)(t);const r=e=>i(this,void 0,void 0,(function*(){if(this.hasChainInfo(e.chainId))return;const n=Object.assign(Object.assign({},yield(0,c.validateBasicChainInfoType)(e)),{beta:t.beta,updateFromRepoDisabled:e.updateFromRepoDisabled});n.updateFromRepoDisabled?console.log(`Chain ${n.chainName}(${n.chainId}) added with updateFromRepoDisabled`):console.log(`Chain ${n.chainName}(${n.chainId}) added`),yield this.addSuggestedChainInfo(n)}));if(e.isInternalMsg||this.suggestChainPrivilegedOrigins.includes(n)){try{const e=void 0!==t.evm&&"eip155"===t.chainId.split(":")[0];t=yield this.fetchFromRepo(t.chainId,e)}catch(e){console.log(e)}yield r(t)}else yield this.interactionService.waitApproveV2(e,"/suggest-chain",l.SuggestChainInfoMsg.type(),{chainInfo:t,origin:n},(e=>i(this,void 0,void 0,(function*(){yield r(e)}))))}))}addSuggestedChainInfo(e,t){return i(this,void 0,void 0,(function*(){if(!(this.suggestedChainInfos.findIndex((t=>a.ChainIdHelper.parse(t.chainId).identifier===a.ChainIdHelper.parse(e.chainId).identifier))<0))throw new Error(`There is already chain info for ${e.chainId}`);{const n=this.suggestedChainInfos.slice();if(n.push(e),(0,s.runInAction)((()=>{this.suggestedChainInfos=n})),!t){const t=this.mergeChainInfosWithDynamics([e])[0];for(const e of this.onChainSuggestedHandlers)try{yield e(t)}catch(e){console.error(e)}}}}))}removeSuggestedChainInfo(e){const t=this.suggestedChainInfos.findIndex((t=>a.ChainIdHelper.parse(t.chainId).identifier===a.ChainIdHelper.parse(e).identifier));if(!(t>=0))throw new Error(`There is no chain info for ${e}`);{const e=this.suggestedChainInfos[t],n=this.suggestedChainInfos.slice();n.splice(t,1),this.suggestedChainInfos=n,this.onChainRemoved(e)}}clearAllSuggestedChainInfos(){const e=this.suggestedChainInfos.slice();this.suggestedChainInfos=[];for(const t of e)this.onChainRemoved(t)}get chainInfoMap(){const e=new Map;for(const t of this.getChainInfos())e.set(a.ChainIdHelper.parse(t.chainId).identifier,t);return e}get chainInfoMapWithCoreTypes(){const e=new Map;for(const t of this.getChainInfosWithCoreTypes())e.set(a.ChainIdHelper.parse(t.chainId).identifier,t);return e}get updatedChainInfoMap(){const e=new Map;for(const t of this.updatedChainInfos)e.set(a.ChainIdHelper.parse(t.chainId).identifier,t);return e}getUpdatedChainInfo(e){return this.updatedChainInfoMap.get(a.ChainIdHelper.parse(e).identifier)}get repoChainInfoMap(){const e=new Map;for(const t of this.repoChainInfos)e.set(a.ChainIdHelper.parse(t.chainId).identifier,t);return e}getRepoChainInfo(e){return this.repoChainInfoMap.get(a.ChainIdHelper.parse(e).identifier)}setEndpoint(e,t){const n=Object.assign({},t);n.rpc||delete n.rpc,n.rest||delete n.rest,n.evmRpc||delete n.evmRpc;const r=a.ChainIdHelper.parse(e).identifier,i=this.endpoints.findIndex((e=>a.ChainIdHelper.parse(e.chainId).identifier===r));if(i>=0){const t=this.endpoints.slice();t[i]=Object.assign({chainId:e},n),this.endpoints=t}else{const t=this.endpoints.slice();t.push(Object.assign({chainId:e},n)),this.endpoints=t}}clearEndpoint(e){const t=a.ChainIdHelper.parse(e).identifier,n=this.endpoints.findIndex((e=>a.ChainIdHelper.parse(e.chainId).identifier===t));if(n>=0){const e=this.endpoints.slice();e.splice(n,1),this.endpoints=e}}clearAllEndpoints(){this.endpoints=[]}getEndpoint(e){return this.endpointMap.get(a.ChainIdHelper.parse(e).identifier)}get endpointMap(){const e=new Map;for(const t of this.endpoints)e.set(a.ChainIdHelper.parse(t.chainId).identifier,t);return e}mergeChainInfosWithDynamics(e){return e.map((e=>{var t,n,r,i;let o=Object.assign({},e);if(!e.updateFromRepoDisabled){const r=this.getRepoChainInfo(e.chainId);r&&(o=Object.assign(Object.assign(Object.assign({},o),r),{stakeCurrency:r.stakeCurrency?r.stakeCurrency:void 0,walletUrlForStaking:r.walletUrlForStaking||o.walletUrlForStaking,features:[...new Set([...null!==(t=r.features)&&void 0!==t?t:[],...null!==(n=o.features)&&void 0!==n?n:[]])],beta:o.beta}))}const s=this.getUpdatedChainInfo(e.chainId);s&&(o=Object.assign(Object.assign({},o),{chainId:s.chainId,features:[...new Set([...null!==(r=s.features)&&void 0!==r?r:[],...null!==(i=o.features)&&void 0!==i?i:[]])]}));const a=this.getEndpoint(e.chainId);return a&&(o=Object.assign(Object.assign(Object.assign({},o),{rpc:a.rpc||o.rpc,rest:a.rest||o.rest}),a.evmRpc&&o.evm&&{evm:Object.assign(Object.assign({},o.evm),{rpc:a.evmRpc})})),118!==o.bip44.coinType&&60!==o.bip44.coinType&&(o=Object.assign(Object.assign({},o),{alternativeBIP44s:(()=>{var e;let t=null!==(e=o.alternativeBIP44s)&&void 0!==e?e:[];return t.find((e=>118===e.coinType))||(t=[...t,{coinType:118}]),t})()})),o}))}onChainRemoved(e){const t=a.ChainIdHelper.parse(e.chainId).identifier,n=this.mergeChainInfosWithDynamics([e])[0];{const e=this.updatedChainInfos.slice();e.filter((e=>a.ChainIdHelper.parse(e.chainId).identifier!==t)),this.updatedChainInfos=e}{const e=this.suggestedChainInfos.slice();e.filter((e=>a.ChainIdHelper.parse(e.chainId).identifier!==t)),this.suggestedChainInfos=e}{const e=this.repoChainInfos.slice();e.filter((e=>a.ChainIdHelper.parse(e.chainId).identifier!==t)),this.repoChainInfos=e}{const e=this.endpoints.slice();e.filter((e=>a.ChainIdHelper.parse(e.chainId).identifier!==t)),this.endpoints=e}for(const e of this.onChainRemovedHandlers)e(n)}addChainRemovedHandler(e){this.onChainRemovedHandlers.push(e)}addChainSuggestedHandler(e){this.onChainSuggestedHandlers.push(e)}isEvmChain(e){return void 0!==this.getChainInfoOrThrow(e).evm}isEvmOnlyChain(e){return this.isEvmChain(e)&&"eip155"===e.split(":")[0]}getEVMInfoOrThrow(e){const t=this.getChainInfoOrThrow(e);if(void 0===t.evm)throw new Error(`There is no EVM info for ${e}`);return t.evm}getModularChainInfoOrThrow(e){const t=this.getModularChainInfo(e);if(!t)throw new Error(`There is no modular chain info for ${e}`);return t}hasStarknetChainInfo(e){const t=this.getModularChainInfo(e);return!!t&&"starknet"in t}getStarknetChainInfo(e){const t=this.getModularChainInfo(e);if(t)return"starknet"in t?t.starknet:void 0}getStarknetChainInfoOrThrow(e){const t=this.getStarknetChainInfo(e);if(!t)throw new Error(`There is no starknet chain info for ${e}`);return t}}r([s.observable.ref],p.prototype,"embedChainInfos",void 0),r([s.observable.ref],p.prototype,"modularChainInfos",void 0),r([s.observable.ref],p.prototype,"updatedChainInfos",void 0),r([s.observable.ref],p.prototype,"suggestedChainInfos",void 0),r([s.observable.ref],p.prototype,"repoChainInfos",void 0),r([s.observable.ref],p.prototype,"endpoints",void 0),r([s.action],p.prototype,"setUpdatedChainInfo",null),r([s.action],p.prototype,"removeSuggestedChainInfo",null),r([s.action],p.prototype,"clearAllSuggestedChainInfos",null),r([(0,s.computed)({keepAlive:!0})],p.prototype,"chainInfoMap",null),r([(0,s.computed)({keepAlive:!0})],p.prototype,"chainInfoMapWithCoreTypes",null),r([(0,s.computed)({keepAlive:!0})],p.prototype,"updatedChainInfoMap",null),r([(0,s.computed)({keepAlive:!0})],p.prototype,"repoChainInfoMap",null),r([s.action],p.prototype,"setEndpoint",null),r([s.action],p.prototype,"clearEndpoint",null),r([s.action],p.prototype,"clearAllEndpoints",null),r([(0,s.computed)({keepAlive:!0})],p.prototype,"endpointMap",null),r([s.action],p.prototype,"onChainRemoved",null),t.ChainsService=p},1771:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},8384:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ROUTE=void 0,t.ROUTE="interaction"},51916:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ROUTE=void 0,t.ROUTE="interaction-foreground"},99170:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getHandler=void 0;const r=n(47722),i=n(46851);t.getHandler=e=>(t,n)=>{switch(n.constructor){case i.PushInteractionDataMsg:return o(e)(t,n);case i.PushEventDataMsg:return s(e)(t,n);case i.InteractionPingMsg:return a(e)(t,n);default:throw new r.KeplrError("interaction",110,"Unknown msg type")}};const o=e=>(t,n)=>e.pushData(n.data),s=e=>(t,n)=>e.pushEvent(n.data),a=e=>(t,n)=>!!e.pingHandler&&e.pingHandler(n.windowId,n.ignoreWindowIdAndForcePing)},46329:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(87243),t),i(n(46851),t),i(n(35390),t),i(n(59458),t)},59458:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.interactionForegroundInit=void 0;const r=n(46851),i=n(51916),o=n(99170);t.interactionForegroundInit=function(e,t){e.registerMessage(r.PushInteractionDataMsg),e.registerMessage(r.PushEventDataMsg),e.registerMessage(r.InteractionPingMsg),e.addHandler(i.ROUTE,(0,o.getHandler)(t))}},46851:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PushEventDataMsg=t.PushInteractionDataMsg=t.InteractionPingMsg=void 0;const r=n(47722),i=n(51916);class o extends r.Message{static type(){return"interaction-ping"}constructor(e,t){super(),this.windowId=e,this.ignoreWindowIdAndForcePing=t}validateBasic(){}route(){return i.ROUTE}type(){return o.type()}}t.InteractionPingMsg=o;class s extends r.Message{static type(){return"push-interaction-data"}constructor(e){super(),this.data=e}validateBasic(){if(!this.data.type)throw new r.KeplrError("interaction",101,"Type should not be empty")}route(){return i.ROUTE}type(){return s.type()}}t.PushInteractionDataMsg=s;class a extends r.Message{static type(){return"push-event-data"}constructor(e){super(),this.data=e}validateBasic(){if(!this.data.type)throw new r.KeplrError("interaction",101,"Type should not be empty")}route(){return i.ROUTE}type(){return a.type()}}t.PushEventDataMsg=a},87243:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InteractionForegroundService=void 0,t.InteractionForegroundService=class{constructor(e,t){this.handler=e,this.pingHandler=t}pushData(e){this.handler.onInteractionDataReceived(e)}pushEvent(e){this.handler.onEventDataReceived(e)}}},35390:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},66898:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getHandler=void 0;const i=n(47722),o=n(654);t.getHandler=e=>(t,n)=>{switch(n.constructor){case o.GetInteractionWaitingDataArrayMsg:return s(e)(t,n);case o.ApproveInteractionMsg:return a(e)(t,n);case o.RejectInteractionMsg:return c(e)(t,n);case o.ApproveInteractionV2Msg:return d(e)(t,n);case o.RejectInteractionV2Msg:return u(e)(t,n);case o.InjectedWebpageClosedMsg:return l(e)(t,n);case o.PingContentScriptTabHasOpenedSidePanelMsg:return h(e)(t,n);default:throw new i.KeplrError("interaction",100,"Unknown msg type")}};const s=e=>(t,n)=>e.getInteractionWaitingDataArray(),a=e=>(t,n)=>e.approve(n.id,n.result),d=e=>(t,n)=>e.approveV2(n.id,n.result),c=e=>(t,n)=>e.reject(n.id),u=e=>(t,n)=>e.rejectV2(n.id),l=e=>t=>e.onInjectedWebpageClosed(t),h=e=>t=>r(void 0,void 0,void 0,(function*(){return!(!t.sender.tab||null==t.sender.tab.id)&&(yield e.pingContentScriptTabHasOpenedSidePanel(t.sender.tab.id))}))},24331:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(66449),t),i(n(654),t),i(n(74032),t),i(n(46329),t)},64058:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;const r=n(654),i=n(8384),o=n(66898);t.init=function(e,t){e.registerMessage(r.GetInteractionWaitingDataArrayMsg),e.registerMessage(r.ApproveInteractionMsg),e.registerMessage(r.RejectInteractionMsg),e.registerMessage(r.ApproveInteractionV2Msg),e.registerMessage(r.RejectInteractionV2Msg),e.registerMessage(r.PingContentScriptTabHasOpenedSidePanelMsg),e.registerMessage(r.InjectedWebpageClosedMsg),e.addHandler(i.ROUTE,(0,o.getHandler)(t))}},74327:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(66449),t),i(n(64058),t)},654:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PingContentScriptTabHasOpenedSidePanelMsg=t.InjectedWebpageClosedMsg=t.RejectInteractionV2Msg=t.RejectInteractionMsg=t.ApproveInteractionV2Msg=t.ApproveInteractionMsg=t.GetInteractionWaitingDataArrayMsg=void 0;const r=n(47722),i=n(8384);class o extends r.Message{static type(){return"GetInteractionWaitingDataArrayMsg"}constructor(){super()}validateBasic(){}route(){return i.ROUTE}type(){return o.type()}}t.GetInteractionWaitingDataArrayMsg=o;class s extends r.Message{static type(){return"approve-interaction"}constructor(e,t){super(),this.id=e,this.result=t}validateBasic(){}route(){return i.ROUTE}type(){return s.type()}}t.ApproveInteractionMsg=s;class a extends r.Message{static type(){return"approve-interaction-v2"}constructor(e,t){super(),this.id=e,this.result=t}validateBasic(){}route(){return i.ROUTE}type(){return a.type()}}t.ApproveInteractionV2Msg=a;class d extends r.Message{static type(){return"reject-interaction"}constructor(e){super(),this.id=e}validateBasic(){}route(){return i.ROUTE}type(){return d.type()}}t.RejectInteractionMsg=d;class c extends r.Message{static type(){return"reject-interaction-v2"}constructor(e){super(),this.id=e}validateBasic(){}route(){return i.ROUTE}type(){return c.type()}}t.RejectInteractionV2Msg=c;class u extends r.Message{static type(){return"injected-webpage-closed"}constructor(){super()}validateBasic(){}approveExternal(){return!0}route(){return i.ROUTE}type(){return u.type()}}t.InjectedWebpageClosedMsg=u;class l extends r.Message{static type(){return"ping-content-script-tab-has-opened-side-panel"}constructor(){super()}validateBasic(){}approveExternal(){return!0}route(){return i.ROUTE}type(){return l.type()}}t.PingContentScriptTabHasOpenedSidePanelMsg=l},66449:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.InteractionService=void 0;const i=n(47722),o=n(46329),s=n(48834),a=n(80075);t.InteractionService=class{constructor(e,t,n){this.eventMsgRequester=e,this.sidePanelService=t,this.extensionMessageRequesterToUI=n,this.waitingMap=new Map,this.resolverMap=new Map,this.resolverV2Map=new Map,this.isUIOpenedOnSidePanelMap=new Map}init(){return r(this,void 0,void 0,(function*(){let e=this.sidePanelService.getIsEnabled();(0,a.autorun)((()=>{const t=this.sidePanelService.getIsEnabled();if(e!==t){e=t;const n=this.waitingMap.values();for(const e of n)this.rejectV2(e.id)}}))}))}getInteractionWaitingDataArray(){return Array.from(this.waitingMap.values())}dispatchEvent(e,t,n){if(!t)throw new i.KeplrError("interaction",101,"Type should not be empty");const r=new o.PushEventDataMsg({type:t,data:n});this.eventMsgRequester.sendMessage(e,r).catch((t=>{console.log(`Failed to send the event to ${e}: ${t.message}`)}))}waitApprove(e,t,n,o,s){var a;return r(this,void 0,void 0,(function*(){if(!n)throw new i.KeplrError("interaction",101,"Type should not be empty");const r=this.addDataToMap(n,e.isInternalMsg,null===(a=e.sender.tab)||void 0===a?void 0:a.id,yield this.getWindowIdFromEnvOrCurrentWindowId(e),t,o);return yield this.wait(e,r,s)}))}waitApproveV2(e,t,n,o,s,a){var d;return r(this,void 0,void 0,(function*(){if(!n)throw new i.KeplrError("interaction",101,"Type should not be empty");const r=this.addDataToMap(n,e.isInternalMsg,null===(d=e.sender.tab)||void 0===d?void 0:d.id,yield this.getWindowIdFromEnvOrCurrentWindowId(e),t,o);try{const t=yield this.wait(e,r,a);return yield s(t)}finally{const e=this.resolverV2Map.get(r.id);if(e)for(const t of e)t.resolver();this.resolverV2Map.delete(r.id)}}))}wait(e,t,n){return r(this,void 0,void 0,(function*(){const r=new o.PushInteractionDataMsg(t),s=r.data.id;if(this.resolverMap.has(s))throw new i.KeplrError("interaction",100,"Id is aleady in use");return new Promise(((o,a)=>{this.resolverMap.set(s,{onApprove:o,onReject:a}),e.isInternalMsg?e.requestInteraction(t.uri,r,Object.assign(Object.assign({},n),{unstableOnClose:()=>{this.reject(s)}})):this.sidePanelService.getIsEnabled()?this.extensionMessageRequesterToUI&&this.extensionMessageRequesterToUI.sendMessage(i.APP_PORT,r):e.requestInteraction("",r,Object.assign(Object.assign({},n),{unstableOnClose:()=>{this.reject(s)},ignoreURIReplacement:!0}))}))}))}approve(e,t){this.resolverMap.has(e)&&(this.resolverMap.get(e).onApprove(t),this.resolverMap.delete(e)),this.removeDataFromMap(e)}approveV2(e,t){return new Promise((n=>{const r=this.resolverV2Map.get(e)||[];r.push({resolver:n}),this.resolverV2Map.set(e,r),this.resolverMap.has(e)&&(this.resolverMap.get(e).onApprove(t),this.resolverMap.delete(e)),this.removeDataFromMap(e)}))}reject(e){this.resolverMap.has(e)&&(this.resolverMap.get(e).onReject(new Error("Request rejected")),this.resolverMap.delete(e)),this.removeDataFromMap(e)}rejectV2(e){return new Promise((t=>{const n=this.resolverV2Map.get(e)||[];n.push({resolver:t}),this.resolverV2Map.set(e,n),this.resolverMap.has(e)&&(this.resolverMap.get(e).onReject(new Error("Request rejected")),this.resolverMap.delete(e)),this.removeDataFromMap(e)}))}addDataToMap(e,t,n,r,o,a){const d=new Uint8Array(12);crypto.getRandomValues(d);const c=s.Buffer.from(d).toString("hex"),u={id:c,type:e,isInternal:t,tabId:n,windowId:r,data:a,uri:o};if(this.waitingMap.has(c))throw new i.KeplrError("interaction",100,"Id is aleady in use");const l=0===this.waitingMap.size;return this.waitingMap.set(c,u),l&&this.extensionMessageRequesterToUI&&(this.sidePanelService.getIsEnabled()&&this.startCheckPingOnUIWithWindowId(),this.startCheckPingOnUI()),u}startCheckPingOnUIWithWindowId(){return r(this,void 0,void 0,(function*(){const e=new Map;for(;this.waitingMap.size>0&&this.extensionMessageRequesterToUI;){yield new Promise((e=>setTimeout(e,500)));const t=this.sidePanelService.getIsEnabled()?new Set(Array.from(this.waitingMap.values()).map((e=>e.windowId))):new Set([-1]);for(const n of t){if(null==n)continue;const t=Array.from(this.waitingMap.values()).filter((e=>e.windowId===n)),r=e.has(n)?e.get(n).wasPingSucceeded:(e.set(n,{wasPingSucceeded:!1}),!1);let s=!1;try{(yield this.extensionMessageRequesterToUI.sendMessage(i.APP_PORT,new o.InteractionPingMsg(-1===n?void 0:n,!1)))&&(s=!0)}catch(e){console.log(e)}if(r&&!s){for(const e of t)this.rejectV2(e.id);break}if(!r&&s){e.set(n,{wasPingSucceeded:!0});for(const e of t)this.isUIOpenedOnSidePanelMap.set(e.id,!0)}}}}))}startCheckPingOnUI(){return r(this,void 0,void 0,(function*(){let e=!1;for(;this.waitingMap.size>0&&this.extensionMessageRequesterToUI;){yield new Promise((e=>setTimeout(e,500)));let t=!1;try{(yield this.extensionMessageRequesterToUI.sendMessage(i.APP_PORT,new o.InteractionPingMsg(0,!0)))&&(t=!0)}catch(e){console.log(e)}if(e&&!t){const e=this.waitingMap.values();for(const t of e)this.rejectV2(t.id);break}!e&&t&&(e=!0)}}))}onInjectedWebpageClosed(e){var t;if((null===(t=e.sender.tab)||void 0===t?void 0:t.id)&&this.sidePanelService.getIsEnabled())for(const t of this.waitingMap.values())t.tabId!==e.sender.tab.id||this.isUIOpenedOnSidePanelMap.get(t.id)||this.rejectV2(t.id)}pingContentScriptTabHasOpenedSidePanel(e){return r(this,void 0,void 0,(function*(){if(!this.sidePanelService.getIsEnabled())return!1;if(!this.extensionMessageRequesterToUI)return!1;const t=yield browser.tabs.get(e);if(null==t.windowId)return!1;try{return yield this.extensionMessageRequesterToUI.sendMessage(i.APP_PORT,new o.InteractionPingMsg(t.windowId,!1))}catch(e){return!1}}))}getWindowIdFromEnvOrCurrentWindowId(e){return r(this,void 0,void 0,(function*(){if("undefined"==typeof browser||void 0===browser.windows||void 0===browser.tabs)return;const t=(yield browser.windows.getCurrent()).id;return e.sender.tab&&e.sender.tab.id&&(yield browser.tabs.get(e.sender.tab.id)).windowId||t}))}removeDataFromMap(e){this.waitingMap.delete(e),this.isUIOpenedOnSidePanelMap.delete(e)}}},74032:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},83329:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.trimAminoSignDoc=void 0;const i=r(n(72903)),o=i.default.object({chain_id:i.default.string().allow(""),account_number:i.default.string().allow(""),sequence:i.default.string().allow(""),fee:i.default.object({amount:i.default.array().items(i.default.object({denom:i.default.string().allow(""),amount:i.default.string().allow("")})),gas:i.default.string().allow(""),payer:i.default.string().allow(""),granter:i.default.string().allow(""),feePayer:i.default.string().allow("")}),msgs:i.default.array().items(i.default.any()),memo:i.default.string().allow(""),timeout_height:i.default.string().allow("")});t.trimAminoSignDoc=function(e){const t=o.validate(e,{stripUnknown:!0});if(t.error)throw t.error;return t.value}},24615:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ROUTE=void 0,t.ROUTE="keyring-cosmos"},24575:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.messageHash=t.domainHash=t.EIP712MessageValidator=t.EIP712DomainTypeValidator=t.EIP712PropertyFieldValidator=void 0;const i=r(n(72903)),o=n(94369);t.EIP712PropertyFieldValidator=i.default.object({name:i.default.string().min(1).required(),type:i.default.string().min(1).required()}),t.EIP712DomainTypeValidator=i.default.array().items(i.default.object({name:i.default.string().valid("name").required(),type:i.default.string().valid("string").required()}),i.default.object({name:i.default.string().valid("version").required(),type:i.default.string().valid("string").required()}),i.default.object({name:i.default.string().valid("chainId").required(),type:i.default.string().valid("uint256").required()}),i.default.object({name:i.default.string().valid("verifyingContract").required(),type:i.default.string().valid("address","string").required()}),i.default.object({name:i.default.string().valid("salt").required(),type:i.default.string().valid("bytes32","string").required()})).unique().min(1).custom((e=>{const t=["name","version","chainId","verifyingContract","salt"];return e.sort(((e,n)=>t.indexOf(e.name)-t.indexOf(n.name)))})),t.EIP712MessageValidator=i.default.object({types:i.default.object({EIP712Domain:t.EIP712DomainTypeValidator.required()}).unknown(!0).required(),primaryType:i.default.string().min(1).required(),domain:i.default.object().required(),message:i.default.object().required()}),t.domainHash=e=>o._TypedDataEncoder.hashStruct("EIP712Domain",{EIP712Domain:e.types.EIP712Domain},e.domain),t.messageHash=e=>o._TypedDataEncoder.from((()=>{const t=Object.assign({},e.types);delete t.EIP712Domain;const n=t[e.primaryType];if(!n)throw new Error(`No matched primary type: ${e.primaryType}`);return delete t[e.primaryType],Object.assign({[e.primaryType]:n},t)})()).hash(e.message)},59316:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getHandler=void 0;const i=n(47722),o=n(67001),s=n(3542);t.getHandler=(e,t)=>(n,r)=>{switch(r.constructor){case o.GetCosmosKeyMsg:return a(e,t)(n,r);case o.GetCosmosKeysSettledMsg:return d(e,t)(n,r);case o.RequestCosmosSignAminoMsg:return c(e,t)(n,r);case o.RequestCosmosSignDirectMsg:return u(e,t)(n,r);case o.RequestCosmosSignAminoADR36Msg:return l(e,t)(n,r);case o.VerifyCosmosSignAminoADR36Msg:return h(e,t)(n,r);case o.ComputeNotFinalizedKeyAddressesMsg:return p(e)(n,r);case o.PrivilegeCosmosSignAminoWithdrawRewardsMsg:return f(e)(n,r);case o.PrivilegeCosmosSignAminoDelegateMsg:return g(e)(n,r);case o.GetCosmosKeysForEachVaultSettledMsg:return v(e)(n,r);case o.GetCosmosKeysForEachVaultWithSearchSettledMsg:return m(e)(n,r);case o.RequestSignEIP712CosmosTxMsg_v0:return y(e,t)(n,r);case o.RequestICNSAdr36SignaturesMsg:return b(e,t)(n,r);case o.EnableVaultsWithCosmosAddressMsg:return S(e)(n,r);case o.RequestCosmosSignDirectAuxMsg:return w(e,t)(n,r);default:throw new i.KeplrError("keyring",221,"Unknown msg type")}};const a=(e,t)=>(n,i)=>r(void 0,void 0,void 0,(function*(){return yield t.ensureEnabled(n,[i.chainId],i.origin),yield e.getKeySelected(i.chainId)})),d=(e,t)=>(n,i)=>r(void 0,void 0,void 0,(function*(){return yield t.ensureEnabled(n,i.chainIds,i.origin),yield Promise.allSettled(i.chainIds.map((t=>e.getKeySelected(t))))})),c=(e,t)=>(n,i)=>r(void 0,void 0,void 0,(function*(){return yield t.ensureEnabled(n,[i.chainId],i.origin),yield e.signAminoSelected(n,i.origin,i.chainId,i.signer,i.signDoc,i.signOptions)})),u=(e,t)=>(n,i)=>r(void 0,void 0,void 0,(function*(){yield t.ensureEnabled(n,[i.chainId],i.origin);const r=s.SignDoc.fromPartial({bodyBytes:i.signDoc.bodyBytes,authInfoBytes:i.signDoc.authInfoBytes,chainId:i.signDoc.chainId,accountNumber:i.signDoc.accountNumber}),o=yield e.signDirectSelected(n,i.origin,i.chainId,i.signer,r,i.signOptions);return{signed:{bodyBytes:o.signed.bodyBytes,authInfoBytes:o.signed.authInfoBytes,chainId:o.signed.chainId,accountNumber:o.signed.accountNumber.toString()},signature:o.signature}})),l=(e,t)=>(n,i)=>r(void 0,void 0,void 0,(function*(){return yield t.ensureEnabled(n,[i.chainId],i.origin),(yield e.signAminoADR36Selected(n,i.origin,i.chainId,i.signer,i.data,i.signOptions)).signature})),h=(e,t)=>(n,i)=>r(void 0,void 0,void 0,(function*(){return yield t.ensureEnabled(n,[i.chainId],i.origin),yield e.verifyAminoADR36Selected(i.chainId,i.signer,i.data,i.signature)})),p=e=>(t,n)=>r(void 0,void 0,void 0,(function*(){return yield e.computeNotFinalizedKeyAddresses(n.id,n.chainId)})),f=e=>(t,n)=>r(void 0,void 0,void 0,(function*(){return yield e.privilegeSignAminoWithdrawRewards(t,n.origin,n.chainId,n.signer,n.signDoc)})),g=e=>(t,n)=>r(void 0,void 0,void 0,(function*(){return yield e.privilegeSignAminoDelegate(t,n.origin,n.chainId,n.signer,n.signDoc)})),v=e=>(t,n)=>r(void 0,void 0,void 0,(function*(){return yield Promise.allSettled(n.vaultIds.map((t=>r(void 0,void 0,void 0,(function*(){const r=yield e.getKey(t,n.chainId);return Object.assign({vaultId:t},r)})))))})),m=e=>(t,n)=>r(void 0,void 0,void 0,(function*(){const t=e.keyRingService.searchKeyRings(n.searchText,!0),i=new Map;for(const e of t)i.set(e.id,!0);const o=n.vaultIds.filter((e=>i.has(e)));return yield Promise.allSettled(o.map((t=>r(void 0,void 0,void 0,(function*(){const r=yield e.getKey(t,n.chainId);return Object.assign({vaultId:t},r)})))))})),y=(e,t)=>(n,i)=>r(void 0,void 0,void 0,(function*(){return yield t.ensureEnabled(n,[i.chainId],i.origin),yield e.requestSignEIP712CosmosTx_v0_selected(n,i.origin,i.chainId,i.signer,i.eip712,i.signDoc,i.signOptions)})),b=(e,t)=>(n,i)=>r(void 0,void 0,void 0,(function*(){return yield t.ensureEnabled(n,[i.chainId],i.origin),yield e.requestICNSAdr36SignaturesSelected(n,i.origin,i.chainId,i.contractAddress,i.owner,i.username,i.addressChainIds)})),S=e=>(t,n)=>r(void 0,void 0,void 0,(function*(){return yield e.enableVaultsWithCosmosAddress(n.chainId,n.bech32Address)})),w=(e,t)=>(n,i)=>r(void 0,void 0,void 0,(function*(){yield t.ensureEnabled(n,[i.chainId],i.origin);const r=s.SignDocDirectAux.fromPartial({bodyBytes:i.signDoc.bodyBytes,publicKey:i.signDoc.publicKey,chainId:i.signDoc.chainId,accountNumber:i.signDoc.accountNumber,sequence:i.signDoc.sequence}),o=yield e.signDirectAuxSelected(n,i.origin,i.chainId,i.signer,r,i.signOptions);return{signed:{bodyBytes:o.signed.bodyBytes,publicKey:o.signed.publicKey,chainId:o.signed.chainId,accountNumber:o.signed.accountNumber.toString(),sequence:o.signed.sequence.toString()},signature:o.signature}}))},98807:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(67001),t),i(n(97395),t),i(n(24575),t)},51537:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;const r=n(67001),i=n(24615),o=n(59316);t.init=function(e,t,n){e.registerMessage(r.GetCosmosKeyMsg),e.registerMessage(r.GetCosmosKeysSettledMsg),e.registerMessage(r.RequestCosmosSignAminoMsg),e.registerMessage(r.RequestCosmosSignAminoADR36Msg),e.registerMessage(r.RequestCosmosSignDirectMsg),e.registerMessage(r.VerifyCosmosSignAminoADR36Msg),e.registerMessage(r.ComputeNotFinalizedKeyAddressesMsg),e.registerMessage(r.PrivilegeCosmosSignAminoWithdrawRewardsMsg),e.registerMessage(r.PrivilegeCosmosSignAminoDelegateMsg),e.registerMessage(r.GetCosmosKeysForEachVaultSettledMsg),e.registerMessage(r.GetCosmosKeysForEachVaultWithSearchSettledMsg),e.registerMessage(r.RequestSignEIP712CosmosTxMsg_v0),e.registerMessage(r.RequestICNSAdr36SignaturesMsg),e.registerMessage(r.EnableVaultsWithCosmosAddressMsg),e.registerMessage(r.RequestCosmosSignDirectAuxMsg),e.addHandler(i.ROUTE,(0,o.getHandler)(t,n))}},64607:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(97395),t),i(n(51537),t)},67001:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.EnableVaultsWithCosmosAddressMsg=t.RequestICNSAdr36SignaturesMsg=t.RequestSignEIP712CosmosTxMsg_v0=t.GetCosmosKeysForEachVaultWithSearchSettledMsg=t.GetCosmosKeysForEachVaultSettledMsg=t.ComputeNotFinalizedKeyAddressesMsg=t.VerifyCosmosSignAminoADR36Msg=t.RequestCosmosSignAminoADR36Msg=t.PrivilegeCosmosSignAminoDelegateMsg=t.PrivilegeCosmosSignAminoWithdrawRewardsMsg=t.RequestCosmosSignDirectAuxMsg=t.RequestCosmosSignDirectMsg=t.RequestCosmosSignAminoMsg=t.GetCosmosKeysSettledMsg=t.GetCosmosKeyMsg=void 0;const i=n(47722),o=n(24615),s=n(94531),a=n(3542),d=n(19731),c=r(n(48166));class u extends i.Message{static type(){return"get-cosmos-key"}constructor(e){super(),this.chainId=e}validateBasic(){if(!this.chainId)throw new Error("chainId is not set")}approveExternal(){return!0}route(){return o.ROUTE}type(){return u.type()}}t.GetCosmosKeyMsg=u;class l extends i.Message{static type(){return"get-cosmos-keys-settled"}constructor(e){super(),this.chainIds=e}validateBasic(){if(!this.chainIds||0===this.chainIds.length)throw new Error("chainIds are not set");const e=new Map;for(const t of this.chainIds){if(e.get(t))throw new Error(`chainId ${t} is duplicated`);e.set(t,!0)}}approveExternal(){return!0}route(){return o.ROUTE}type(){return l.type()}}t.GetCosmosKeysSettledMsg=l;class h extends i.Message{static type(){return"request-cosmos-sign-amino"}constructor(e,t,n,r){super(),this.chainId=e,this.signer=t,this.signDoc=n,this.signOptions=r}validateBasic(){if(!this.chainId)throw new i.KeplrError("keyring",270,"chain id not set");if(!this.signer)throw new i.KeplrError("keyring",230,"signer not set");if(s.Bech32Address.validate(this.signer),(0,s.checkAndValidateADR36AminoSignDoc)(this.signDoc)){if(this.signDoc.msgs[0].value.signer!==this.signer)throw new i.KeplrError("keyring",233,"Unmatched signer in sign doc")}else if(this.signDoc.chain_id!==this.chainId)throw new i.KeplrError("keyring",234,"Chain id in the message is not matched with the requested chain id");if(!this.signOptions)throw new i.KeplrError("keyring",235,"Sign options are null")}approveExternal(){return!0}route(){return o.ROUTE}type(){return h.type()}}t.RequestCosmosSignAminoMsg=h;class p extends i.Message{static type(){return"request-cosmos-sign-direct"}constructor(e,t,n,r={}){super(),this.chainId=e,this.signer=t,this.signDoc=n,this.signOptions=r}validateBasic(){if(!this.chainId)throw new i.KeplrError("keyring",270,"chain id not set");if(!this.signer)throw new i.KeplrError("keyring",230,"signer not set");if(s.Bech32Address.validate(this.signer),a.SignDoc.fromPartial({bodyBytes:this.signDoc.bodyBytes,authInfoBytes:this.signDoc.authInfoBytes,chainId:this.signDoc.chainId,accountNumber:this.signDoc.accountNumber}).chainId!==this.chainId)throw new i.KeplrError("keyring",234,"Chain id in the message is not matched with the requested chain id");if(!this.signOptions)throw new i.KeplrError("keyring",235,"Sign options are null")}approveExternal(){return!0}route(){return o.ROUTE}type(){return p.type()}}t.RequestCosmosSignDirectMsg=p;class f extends i.Message{static type(){return"request-cosmos-sign-direct-aux"}constructor(e,t,n,r={}){super(),this.chainId=e,this.signer=t,this.signDoc=n,this.signOptions=r}validateBasic(){if(!this.chainId)throw new i.KeplrError("keyring",270,"chain id not set");if(!this.signer)throw new i.KeplrError("keyring",230,"signer not set");if(s.Bech32Address.validate(this.signer),a.SignDocDirectAux.fromPartial({bodyBytes:this.signDoc.bodyBytes,publicKey:this.signDoc.publicKey,chainId:this.signDoc.chainId,accountNumber:this.signDoc.accountNumber,sequence:this.signDoc.sequence}).chainId!==this.chainId)throw new i.KeplrError("keyring",234,"Chain id in the message is not matched with the requested chain id");if(!this.signOptions)throw new i.KeplrError("keyring",235,"Sign options are null")}approveExternal(){return!0}route(){return o.ROUTE}type(){return f.type()}}t.RequestCosmosSignDirectAuxMsg=f;class g extends i.Message{static type(){return"PrivilegeCosmosSignAminoWithdrawRewards"}constructor(e,t,n){super(),this.chainId=e,this.signer=t,this.signDoc=n}validateBasic(){if(!this.chainId)throw new i.KeplrError("keyring",270,"chain id not set");if(!this.signer)throw new i.KeplrError("keyring",230,"signer not set");if(s.Bech32Address.validate(this.signer),(0,s.checkAndValidateADR36AminoSignDoc)(this.signDoc))throw new Error("Can't use ADR-36 sign doc");if(this.signDoc.chain_id!==this.chainId)throw new i.KeplrError("keyring",234,"Chain id in the message is not matched with the requested chain id")}approveExternal(){return!0}route(){return o.ROUTE}type(){return g.type()}}t.PrivilegeCosmosSignAminoWithdrawRewardsMsg=g;class v extends i.Message{static type(){return"PrivilegeCosmosSignAminoDelegate"}constructor(e,t,n){super(),this.chainId=e,this.signer=t,this.signDoc=n}validateBasic(){if(!this.chainId)throw new i.KeplrError("keyring",270,"chain id not set");if(!this.signer)throw new i.KeplrError("keyring",230,"signer not set");if(s.Bech32Address.validate(this.signer),(0,s.checkAndValidateADR36AminoSignDoc)(this.signDoc))throw new Error("Can't use ADR-36 sign doc");if(this.signDoc.chain_id!==this.chainId)throw new i.KeplrError("keyring",234,"Chain id in the message is not matched with the requested chain id")}approveExternal(){return!0}route(){return o.ROUTE}type(){return v.type()}}t.PrivilegeCosmosSignAminoDelegateMsg=v;class m extends i.Message{static type(){return"request-cosmos-sign-amino-adr-36"}constructor(e,t,n,r){super(),this.chainId=e,this.signer=t,this.data=n,this.signOptions=r}validateBasic(){if(!this.chainId)throw new i.KeplrError("keyring",270,"chain id not set");if(!this.signer)throw new i.KeplrError("keyring",230,"signer not set");if(!this.signOptions)throw new i.KeplrError("keyring",235,"Sign options are null")}approveExternal(){return!0}route(){return o.ROUTE}type(){return m.type()}}t.RequestCosmosSignAminoADR36Msg=m;class y extends i.Message{static type(){return"verify-cosmos-sign-amino-adr-36"}constructor(e,t,n,r){super(),this.chainId=e,this.signer=t,this.data=n,this.signature=r}validateBasic(){if(!this.chainId)throw new i.KeplrError("keyring",270,"chain id not set");if(!this.signer)throw new i.KeplrError("keyring",230,"signer not set");if(!this.signature)throw new i.KeplrError("keyring",271,"Signature not set");s.Bech32Address.validate(this.signer)}approveExternal(){return!0}route(){return o.ROUTE}type(){return y.type()}}t.VerifyCosmosSignAminoADR36Msg=y;class b extends i.Message{static type(){return"compute-not-finalized-key-addresses"}constructor(e,t){super(),this.id=e,this.chainId=t}validateBasic(){if(!this.id)throw new Error("id not set");if(!this.chainId)throw new Error("chain id not set")}route(){return o.ROUTE}type(){return b.type()}}t.ComputeNotFinalizedKeyAddressesMsg=b;class S extends i.Message{static type(){return"GetCosmosKeysForEachVaultSettledMsg"}constructor(e,t){super(),this.chainId=e,this.vaultIds=t}validateBasic(){if(!this.chainId)throw new Error("chain id not set");if(!this.vaultIds||0===this.vaultIds.length)throw new Error("vaultIds are not set");const e=new Map;for(const t of this.vaultIds){if(e.get(t))throw new Error(`vaultId ${t} is duplicated`);e.set(t,!0)}}route(){return o.ROUTE}type(){return S.type()}}t.GetCosmosKeysForEachVaultSettledMsg=S;class w extends i.Message{static type(){return"GetCosmosKeysForEachVaultWithSearchSettledMsg"}constructor(e,t,n){super(),this.chainId=e,this.vaultIds=t,this.searchText=n}validateBasic(){if(!this.chainId)throw new Error("chain id not set");if(!this.vaultIds||0===this.vaultIds.length)throw new Error("vaultIds are not set");const e=new Map;for(const t of this.vaultIds){if(e.get(t))throw new Error(`vaultId ${t} is duplicated`);e.set(t,!0)}if(null==this.searchText)throw new Error("searchText not set")}route(){return o.ROUTE}type(){return w.type()}}t.GetCosmosKeysForEachVaultWithSearchSettledMsg=w;class I extends i.Message{static type(){return"request-sign-eip-712-cosmos-tx-v0"}constructor(e,t,n,r,i){super(),this.chainId=e,this.signer=t,this.eip712=n,this.signDoc=r,this.signOptions=i}validateBasic(){if(!this.chainId)throw new i.KeplrError("keyring",270,"chain id not set");if(!this.signer)throw new i.KeplrError("keyring",230,"signer not set");if(s.Bech32Address.validate(this.signer),(0,s.checkAndValidateADR36AminoSignDoc)(this.signDoc))throw new Error("Can't sign ADR-36 with EIP-712");{if(this.signDoc.chain_id!==this.chainId)throw new i.KeplrError("keyring",234,"Chain id in the message is not matched with the requested chain id");const{ethChainId:e}=s.EthermintChainIdHelper.parse(this.chainId);if(!(()=>{const e=this.eip712.domain.chainId;return"string"==typeof e&&e.startsWith("0x")?new d.Int((0,c.default)(e.replace("0x",""),16).toString()):new d.Int(e)})().equals(new d.Int(e)))throw new Error(`Unmatched chain id for eth (expected: ${e}, actual: ${this.eip712.domain.chainId})`)}if(!this.signOptions)throw new i.KeplrError("keyring",235,"Sign options are null")}approveExternal(){return!0}route(){return o.ROUTE}type(){return I.type()}}t.RequestSignEIP712CosmosTxMsg_v0=I;class k extends i.Message{static type(){return"request-icns-adr-36-signatures-v2"}constructor(e,t,n,r,i){super(),this.chainId=e,this.contractAddress=t,this.owner=n,this.username=r,this.addressChainIds=i}validateBasic(){if(!this.chainId)throw new Error("chain id not set");if(!this.contractAddress)throw new Error("contract address not set");if(s.Bech32Address.validate(this.contractAddress),!this.owner)throw new Error("signer not set");if(s.Bech32Address.validate(this.owner),!this.username)throw new Error("username not set");if(!this.addressChainIds||0===this.addressChainIds.length)throw new Error("address chain ids not set")}approveExternal(){return!0}route(){return o.ROUTE}type(){return k.type()}}t.RequestICNSAdr36SignaturesMsg=k;class O extends i.Message{static type(){return"EnableVaultsWithCosmosAddressMsg"}constructor(e,t){super(),this.chainId=e,this.bech32Address=t}validateBasic(){if(!this.chainId)throw new Error("chainId is not set");if(!this.bech32Address)throw new Error("bech32Address is not set")}route(){return o.ROUTE}type(){return O.type()}}t.EnableVaultsWithCosmosAddressMsg=O},97395:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.KeyRingCosmosService=void 0;const o=n(56242),s=n(31214),a=n(47722),d=n(94531),c=n(89642),u=n(83329),l=n(48834),h=n(3542),p=i(n(27808)),f=n(34298);class g{constructor(e,t,n,r,i,o){this.chainsService=e,this.keyRingService=t,this.interactionService=n,this.chainsUIService=r,this.analyticsService=i,this.msgPrivilegedOrigins=o}init(){return r(this,void 0,void 0,(function*(){this.chainsService.addChainSuggestedHandler(this.onChainSuggested.bind(this))}))}onChainSuggested(e){return r(this,void 0,void 0,(function*(){if("unlocked"===this.keyRingService.keyRingStatus)try{const t=this.keyRingService.selectedVaultId;if(t&&this.keyRingService.needKeyCoinTypeFinalize(t,e.chainId)){const n=yield this.computeNotFinalizedKeyAddresses(t,e.chainId);1===n.length&&this.keyRingService.finalizeKeyCoinType(t,e.chainId,n[0].coinType)}}catch(e){console.log(e)}}))}getKeySelected(e){return r(this,void 0,void 0,(function*(){return yield this.getKey(this.keyRingService.selectedVaultId,e)}))}getKey(e,t){var n,i;return r(this,void 0,void 0,(function*(){const r=this.chainsService.getChainInfoOrThrow(t),a=yield this.keyRingService.getPubKey(t,e),c=s.KeyRingService.isEthermintLike(r),u=o.ChainsService.getEVMInfo(r),l=this.keyRingService.getKeyInfo(e);if(!l)throw new Error("Null key info");c&&"ledger"===l.type&&g.throwErrorIfEthermintWithLedgerButNotSupported(t);const h=c||void 0!==u?a.getEthAddress():a.getCosmosAddress(),p=new d.Bech32Address(h);return{name:this.keyRingService.getKeyRingName(e),algo:c?"ethsecp256k1":"secp256k1",pubKey:a.toBytes(),address:h,bech32Address:p.toBech32(null!==(i=null===(n=r.bech32Config)||void 0===n?void 0:n.bech32PrefixAccAddr)&&void 0!==i?i:""),ethereumHexAddress:p.toHex(!0),isNanoLedger:"ledger"===l.type,isKeystone:"keystone"===l.type}}))}computeNotFinalizedKeyAddresses(e,t){var n,i;return r(this,void 0,void 0,(function*(){const r=this.chainsService.getChainInfoOrThrow(t),o=[r.bip44.coinType];r.alternativeBIP44s&&o.push(...r.alternativeBIP44s.map((e=>e.coinType)));const a=s.KeyRingService.isEthermintLike(r),c=[];for(const s of o){let o;try{o=yield this.keyRingService.getPubKeyWithNotFinalizedCoinType(t,e,s)}catch(e){console.log(e);continue}const u=a?o.getEthAddress():o.getCosmosAddress(),l=new d.Bech32Address(u);c.push({coinType:s,bech32Address:l.toBech32(null!==(i=null===(n=r.bech32Config)||void 0===n?void 0:n.bech32PrefixAccAddr)&&void 0!==i?i:"")})}return c}))}signAminoSelected(e,t,n,i,o,s){return r(this,void 0,void 0,(function*(){return yield this.signAmino(e,t,this.keyRingService.selectedVaultId,n,i,o,s)}))}signAmino(e,t,n,i,o,a,h){var p,f;return r(this,void 0,void 0,(function*(){const v=this.chainsService.getChainInfoOrThrow(i);if(v.hideInUI)throw new Error("Can't sign for hidden chain");const m=s.KeyRingService.isEthermintLike(v),y=this.keyRingService.getKeyInfo(n);if(!y)throw new Error("Null key info");m&&"ledger"===y.type&&g.throwErrorIfEthermintWithLedgerButNotSupported(i),a=Object.assign(Object.assign({},a),{memo:(0,c.escapeHTML)(a.memo)}),a=(0,u.trimAminoSignDoc)(a),a=(0,c.sortObjectByKey)(a);const b=yield this.getKey(n,i),S=null!==(f=null===(p=this.chainsService.getChainInfoOrThrow(i).bech32Config)||void 0===p?void 0:p.bech32PrefixAccAddr)&&void 0!==f?f:"",w=new d.Bech32Address(b.address).toBech32(S);if(o!==w)throw new Error("Signer mismatched");if((0,d.checkAndValidateADR36AminoSignDoc)(a,S)){if(a.msgs[0].value.signer!==o)throw new Error("Unmatched signer in sign doc");return yield this.signAminoADR36(e,t,n,i,o,l.Buffer.from(a.msgs[0].value.data,"base64"),{isADR36WithString:!1})}return yield this.interactionService.waitApproveV2(e,"/sign-cosmos","request-sign-cosmos",{origin:t,chainId:i,mode:"amino",signDoc:a,signer:o,pubKey:b.pubKey,signOptions:h,keyType:y.type,keyInsensitive:y.insensitive},(o=>r(this,void 0,void 0,(function*(){let r,s=o.newSignDoc;if(s=Object.assign(Object.assign({},s),{memo:(0,c.escapeHTML)(s.memo)}),"ledger"===y.type||"keystone"===y.type){if(!o.signature||0===o.signature.length)throw new Error("Frontend should provide signature");r=o.signature}else{const e=yield this.keyRingService.sign(i,n,(0,d.serializeSignDoc)(s),m?"keccak256":"sha256");r=new Uint8Array([...e.r,...e.s])}const a=s.msgs.filter((e=>e.type)).map((e=>e.type));return this.analyticsService.logEventIgnoreError("tx_signed",{chainId:i,isInternal:e.isInternalMsg,origin:t,signMode:"amino",msgTypes:a,isADR36SignDoc:!1}),{signed:s,signature:(0,d.encodeSecp256k1Signature)(b.pubKey,r)}}))))}))}privilegeSignAminoWithdrawRewards(e,t,n,i,o){var l,h;return r(this,void 0,void 0,(function*(){if(!e.isInternalMsg&&!this.msgPrivilegedOrigins.includes(t))throw new Error("Permission Rejected");const r=this.chainsService.getChainInfoOrThrow(n);if(r.hideInUI)throw new Error("Can't sign for hidden chain");const p=this.keyRingService.selectedVaultId,f=s.KeyRingService.isEthermintLike(r),v=this.keyRingService.getKeyInfo(p);if(!v)throw new Error("Null key info");f&&"ledger"===v.type&&g.throwErrorIfEthermintWithLedgerButNotSupported(n),o=Object.assign(Object.assign({},o),{memo:(0,c.escapeHTML)(o.memo)}),o=(0,u.trimAminoSignDoc)(o),o=(0,c.sortObjectByKey)(o);const m=yield this.getKey(p,n),y=null!==(h=null===(l=this.chainsService.getChainInfoOrThrow(n).bech32Config)||void 0===l?void 0:l.bech32PrefixAccAddr)&&void 0!==h?h:"",b=new d.Bech32Address(m.address).toBech32(y);if(i!==b)throw new Error("Signer mismatched");if((0,d.checkAndValidateADR36AminoSignDoc)(o,y))throw new Error("Can't use ADR-36 sign doc");if(!o.msgs||0===o.msgs.length)throw new Error("No msgs");for(const e of o.msgs){const t=e.type.indexOf("/");if(t<0)throw new Error("Invalid msg type");if("MsgWithdrawDelegationReward"!==e.type.slice(t+1))throw new Error("Invalid msg type")}try{const r=yield this.keyRingService.sign(n,p,(0,d.serializeSignDoc)(o),f?"keccak256":"sha256"),i=new Uint8Array([...r.r,...r.s]);return this.analyticsService.logEventIgnoreError("tx_signed",{chainId:n,isInternal:e.isInternalMsg,origin:t,signMode:"amino",privileged:"withdrawRewards"}),{signed:o,signature:(0,d.encodeSecp256k1Signature)(m.pubKey,i)}}finally{this.interactionService.dispatchEvent(a.APP_PORT,"request-sign-end",{})}}))}privilegeSignAminoDelegate(e,t,n,i,o){var l,h;return r(this,void 0,void 0,(function*(){if(!e.isInternalMsg&&!this.msgPrivilegedOrigins.includes(t))throw new Error("Permission Rejected");const r=this.chainsService.getChainInfoOrThrow(n);if(r.hideInUI)throw new Error("Can't sign for hidden chain");const p=this.keyRingService.selectedVaultId,f=s.KeyRingService.isEthermintLike(r),v=this.keyRingService.getKeyInfo(p);if(!v)throw new Error("Null key info");f&&"ledger"===v.type&&g.throwErrorIfEthermintWithLedgerButNotSupported(n),o=Object.assign(Object.assign({},o),{memo:(0,c.escapeHTML)(o.memo)}),o=(0,u.trimAminoSignDoc)(o),o=(0,c.sortObjectByKey)(o);const m=yield this.getKey(p,n),y=null!==(h=null===(l=this.chainsService.getChainInfoOrThrow(n).bech32Config)||void 0===l?void 0:l.bech32PrefixAccAddr)&&void 0!==h?h:"",b=new d.Bech32Address(m.address).toBech32(y);if(i!==b)throw new Error("Signer mismatched");if((0,d.checkAndValidateADR36AminoSignDoc)(o,y))throw new Error("Can't use ADR-36 sign doc");if(!o.msgs||0===o.msgs.length)throw new Error("No msgs");for(const e of o.msgs){const t=e.type.indexOf("/");if(t<0)throw new Error("Invalid msg type");if("MsgDelegate"!==e.type.slice(t+1))throw new Error("Invalid msg type")}try{const r=yield this.keyRingService.sign(n,p,(0,d.serializeSignDoc)(o),f?"keccak256":"sha256"),i=new Uint8Array([...r.r,...r.s]);return this.analyticsService.logEventIgnoreError("tx_signed",{chainId:n,isInternal:e.isInternalMsg,origin:t,signMode:"amino",privileged:"delegate"}),{signed:o,signature:(0,d.encodeSecp256k1Signature)(m.pubKey,i)}}finally{this.interactionService.dispatchEvent(a.APP_PORT,"request-sign-end",{})}}))}signAminoADR36Selected(e,t,n,i,o,s){return r(this,void 0,void 0,(function*(){return yield this.signAminoADR36(e,t,this.keyRingService.selectedVaultId,n,i,o,s)}))}signAminoADR36(e,t,n,i,o,a,c){var u,l;return r(this,void 0,void 0,(function*(){const h=this.chainsService.getChainInfoOrThrow(i);if(h.hideInUI)throw new Error("Can't sign for hidden chain");const p=s.KeyRingService.isEthermintLike(h),f=this.keyRingService.getKeyInfo(n);if(!f)throw new Error("Null key info");p&&"ledger"===f.type&&g.throwErrorIfEthermintWithLedgerButNotSupported(i);const v=yield this.getKey(n,i),m=null!==(l=null===(u=this.chainsService.getChainInfoOrThrow(i).bech32Config)||void 0===u?void 0:u.bech32PrefixAccAddr)&&void 0!==l?l:"",y=new d.Bech32Address(v.address).toBech32(m);if(o!==y)throw new Error("Signer mismatched");const b=(0,d.makeADR36AminoSignDoc)(o,a);return yield this.interactionService.waitApproveV2(e,"/sign-cosmos-adr36","request-sign-cosmos",{origin:t,chainId:i,mode:"amino",signDoc:b,signer:o,pubKey:v.pubKey,signOptions:c,keyType:f.type,keyInsensitive:f.insensitive},(o=>r(this,void 0,void 0,(function*(){const r=o.newSignDoc;if(!(0,d.checkAndValidateADR36AminoSignDoc)(r))throw new Error("Invalid ADR36 sign doc delivered from view");let s;if("ledger"===f.type||"keystone"===f.type){if(!o.signature||0===o.signature.length)throw new Error("Frontend should provide signature");s=o.signature}else{const e=yield this.keyRingService.sign(i,n,(0,d.serializeSignDoc)(r),p?"keccak256":"sha256");s=new Uint8Array([...e.r,...e.s])}const a=r.msgs.filter((e=>e.type)).map((e=>e.type));return this.analyticsService.logEventIgnoreError("tx_signed",{chainId:i,isInternal:e.isInternalMsg,origin:t,signMode:"amino",msgTypes:a,isADR36SignDoc:!0}),{signed:r,signature:(0,d.encodeSecp256k1Signature)(v.pubKey,s)}}))))}))}signDirect(e,t,n,i,o,a,c){var u,l;return r(this,void 0,void 0,(function*(){const f=this.chainsService.getChainInfoOrThrow(i);if(f.hideInUI)throw new Error("Can't sign for hidden chain");const v=s.KeyRingService.isEthermintLike(f),m=this.keyRingService.getKeyInfo(n);if(!m)throw new Error("Null key info");v&&"ledger"===m.type&&g.throwErrorIfEthermintWithLedgerButNotSupported(i);const y=yield this.getKey(n,i),b=null!==(l=null===(u=this.chainsService.getChainInfoOrThrow(i).bech32Config)||void 0===u?void 0:u.bech32PrefixAccAddr)&&void 0!==l?l:"",S=new d.Bech32Address(y.address).toBech32(b);if(o!==S)throw new Error("Signer mismatched");return yield this.interactionService.waitApproveV2(e,"/sign-cosmos","request-sign-cosmos",{origin:t,chainId:i,mode:"direct",signDocBytes:h.SignDoc.encode(a).finish(),signer:o,pubKey:y.pubKey,signOptions:c,keyType:m.type,keyInsensitive:m.insensitive},(o=>r(this,void 0,void 0,(function*(){const r=o.newSignDocBytes,s=h.SignDoc.decode(r);let a;if("ledger"===m.type||"keystone"===m.type){if(!o.signature||0===o.signature.length)throw new Error("Frontend should provide signature");a=o.signature}else{const e=yield this.keyRingService.sign(i,n,r,v?"keccak256":"sha256");a=new Uint8Array([...e.r,...e.s])}const c=h.TxBody.decode(s.bodyBytes).messages.map((e=>e.typeUrl));return this.analyticsService.logEventIgnoreError("tx_signed",{chainId:i,isInternal:e.isInternalMsg,origin:t,signMode:"direct",msgTypes:c}),{signed:Object.assign(Object.assign({},s),{accountNumber:p.default.fromString(s.accountNumber)}),signature:(0,d.encodeSecp256k1Signature)(y.pubKey,a)}}))))}))}signDirectSelected(e,t,n,i,o,s){return r(this,void 0,void 0,(function*(){return yield this.signDirect(e,t,this.keyRingService.selectedVaultId,n,i,o,s)}))}signDirectAux(e,t,n,i,o,a,c){var u,l;return r(this,void 0,void 0,(function*(){const f=this.chainsService.getChainInfoOrThrow(i);if(f.hideInUI)throw new Error("Can't sign for hidden chain");const v=s.KeyRingService.isEthermintLike(f),m=this.keyRingService.getKeyInfo(n);if(!m)throw new Error("Null key info");v&&"ledger"===m.type&&g.throwErrorIfEthermintWithLedgerButNotSupported(i);const y=yield this.getKey(n,i),b=null!==(l=null===(u=this.chainsService.getChainInfoOrThrow(i).bech32Config)||void 0===u?void 0:u.bech32PrefixAccAddr)&&void 0!==l?l:"",S=new d.Bech32Address(y.address).toBech32(b);if(o!==S)throw new Error("Signer mismatched");return yield this.interactionService.waitApproveV2(e,"/sign-cosmos","request-sign-cosmos",{origin:t,chainId:i,mode:"direct",signDocBytes:h.SignDocDirectAux.encode(a).finish(),isDirectAux:!0,signer:o,pubKey:y.pubKey,signOptions:{preferNoSetMemo:c.preferNoSetMemo,disableBalanceCheck:!0,preferNoSetFee:!0},keyType:m.type,keyInsensitive:m.insensitive},(o=>r(this,void 0,void 0,(function*(){const r=o.newSignDocBytes,s=h.SignDocDirectAux.decode(r);let a;if("ledger"===m.type||"keystone"===m.type){if(!o.signature||0===o.signature.length)throw new Error("Frontend should provide signature");a=o.signature}else{const e=yield this.keyRingService.sign(i,n,r,v?"keccak256":"sha256");a=new Uint8Array([...e.r,...e.s])}const c=h.TxBody.decode(s.bodyBytes).messages.map((e=>e.typeUrl));return this.analyticsService.logEventIgnoreError("tx_signed",{chainId:i,isInternal:e.isInternalMsg,origin:t,signMode:"direct",isDirectAux:!0,msgTypes:c}),{signed:Object.assign(Object.assign({},s),{accountNumber:p.default.fromString(s.accountNumber),sequence:p.default.fromString(s.sequence)}),signature:(0,d.encodeSecp256k1Signature)(y.pubKey,a)}}))))}))}signDirectAuxSelected(e,t,n,i,o,s){return r(this,void 0,void 0,(function*(){return yield this.signDirectAux(e,t,this.keyRingService.selectedVaultId,n,i,o,s)}))}verifyAminoADR36Selected(e,t,n,i){return r(this,void 0,void 0,(function*(){return yield this.verifyAminoADR36(this.keyRingService.selectedVaultId,e,t,n,i)}))}verifyAminoADR36(e,t,n,i,o){var a,c;return r(this,void 0,void 0,(function*(){const r=this.chainsService.getChainInfoOrThrow(t),u=s.KeyRingService.isEthermintLike(r),h=yield this.getKey(e,t),p=null!==(c=null===(a=r.bech32Config)||void 0===a?void 0:a.bech32PrefixAccAddr)&&void 0!==c?c:"",f=new d.Bech32Address(h.address).toBech32(p);if(n!==f)throw new Error("Signer mismatched");if("tendermint/PubKeySecp256k1"!==o.pub_key.type)throw new Error(`Unsupported type of pub key: ${o.pub_key.type}`);if(l.Buffer.from(h.pubKey).toString("base64")!==o.pub_key.value)throw new Error("Pub key unmatched");const g=(0,d.makeADR36AminoSignDoc)(n,i);return(0,d.verifyADR36AminoSignDoc)(p,g,l.Buffer.from(o.pub_key.value,"base64"),l.Buffer.from(o.signature,"base64"),u?"ethsecp256k1":"secp256k1")}))}requestSignEIP712CosmosTx_v0_selected(e,t,n,i,o,s,a){return r(this,void 0,void 0,(function*(){return this.requestSignEIP712CosmosTx_v0(e,this.keyRingService.selectedVaultId,t,n,i,o,s,a)}))}requestSignEIP712CosmosTx_v0(e,t,n,i,o,a,h,p){var f,v;return r(this,void 0,void 0,(function*(){const m=this.chainsService.getChainInfoOrThrow(i);if(m.hideInUI)throw new Error("Can't sign for hidden chain");const y=s.KeyRingService.isEthermintLike(m);if(!y)throw new Error("This feature is only usable on cosmos-sdk evm chain");const b=this.keyRingService.getKeyInfo(t);if(!b)throw new Error("Null key info");if("ledger"!==b.type)throw new Error("This feature is only usable on ledger ethereum app");y&&"ledger"===b.type&&g.throwErrorIfEthermintWithLedgerButNotSupported(i),h=Object.assign(Object.assign({},h),{memo:(0,c.escapeHTML)(h.memo)}),h=(0,u.trimAminoSignDoc)(h),h=(0,c.sortObjectByKey)(h);const S=yield this.getKey(t,i),w=null!==(v=null===(f=this.chainsService.getChainInfoOrThrow(i).bech32Config)||void 0===f?void 0:f.bech32PrefixAccAddr)&&void 0!==v?v:"",I=new d.Bech32Address(S.address).toBech32(w);if(o!==I)throw new Error("Signer mismatched");return yield this.interactionService.waitApproveV2(e,"/sign-cosmos","request-sign-cosmos",{origin:n,chainId:i,mode:"amino",signDoc:h,signer:o,pubKey:S.pubKey,signOptions:p,eip712:a,keyType:b.type,keyInsensitive:b.insensitive},(t=>r(this,void 0,void 0,(function*(){let r=t.newSignDoc;if(r=Object.assign(Object.assign({},r),{memo:(0,c.escapeHTML)(r.memo)}),!t.signature||0===t.signature.length)throw new Error("Frontend should provide signature");const o=r.msgs.filter((e=>e.type)).map((e=>e.type));return this.analyticsService.logEventIgnoreError("tx_signed",{chainId:i,isInternal:e.isInternalMsg,origin:n,ethSignType:"eip-712",msgTypes:o}),{signed:r,signature:{pub_key:(0,d.encodeSecp256k1Pubkey)(S.pubKey),signature:l.Buffer.from(t.signature).toString("base64")}}}))))}))}requestICNSAdr36SignaturesSelected(e,t,n,i,o,s,a){return r(this,void 0,void 0,(function*(){return yield this.requestICNSAdr36Signatures(e,t,this.keyRingService.selectedVaultId,n,i,o,s,a)}))}requestICNSAdr36Signatures(e,t,n,i,o,a,c,u){var l,h,p,g,v,m,y;return r(this,void 0,void 0,(function*(){const b={chainId:i,owner:a,username:c,origin:t,accountInfos:[]};{const e=this.chainsService.getChainInfoOrThrow(i);if(e.hideInUI)throw new Error("Can't sign for hidden chain");d.Bech32Address.validate(o,null===(l=e.bech32Config)||void 0===l?void 0:l.bech32PrefixAccAddr);const t=yield this.getKey(n,i),r=new d.Bech32Address(t.address).toBech32(null!==(p=null===(h=e.bech32Config)||void 0===h?void 0:h.bech32PrefixAccAddr)&&void 0!==p?p:"");if(r!==a)throw new Error(`Unmatched owner: (expected: ${r}, actual: ${a})`)}const S=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER);for(const e of u){const t=this.chainsService.getChainInfoOrThrow(e),r=yield this.getKey(n,e),i=new d.Bech32Address(r.address).toBech32(null!==(v=null===(g=t.bech32Config)||void 0===g?void 0:g.bech32PrefixAccAddr)&&void 0!==v?v:"");b.accountInfos.push({chainId:t.chainId,bech32Prefix:null!==(y=null===(m=t.bech32Config)||void 0===m?void 0:m.bech32PrefixAccAddr)&&void 0!==y?y:"",bech32Address:i,pubKey:r.pubKey})}return yield this.interactionService.waitApproveV2(e,"/sign-cosmos-icns","request-sign-icns-adr36",b,(()=>r(this,void 0,void 0,(function*(){const e=[],t=d.Bech32Address.fromBech32(a);for(const r of b.accountInfos){const u=s.KeyRingService.isEthermintLike(this.chainsService.getChainInfoOrThrow(r.chainId));if(t.toHex(!1)!==d.Bech32Address.fromBech32(r.bech32Address).toHex(!1)){const t=`The following is the information for ICNS registration for ${c}.${r.bech32Prefix}.\n\nChain id: ${i}\nContract Address: ${o}\nOwner: ${a}\nSalt: ${S}`,s=(0,d.makeADR36AminoSignDoc)(r.bech32Address,t),l=yield this.keyRingService.sign(r.chainId,n,(0,d.serializeSignDoc)(s),u?"keccak256":"sha256"),h=new Uint8Array([...l.r,...l.s]);e.push({chainId:r.chainId,bech32Prefix:r.bech32Prefix,bech32Address:r.bech32Address,addressHash:u?"ethereum":"cosmos",pubKey:new f.PubKeySecp256k1(r.pubKey).toBytes(u),signatureSalt:S,signature:h})}else e.push({chainId:r.chainId,bech32Prefix:r.bech32Prefix,bech32Address:r.bech32Address,addressHash:u?"ethereum":"cosmos",pubKey:new f.PubKeySecp256k1(r.pubKey).toBytes(u),signatureSalt:0,signature:new Uint8Array(0)})}return e}))))}))}legacySignArbitraryInternal(e,t){return r(this,void 0,void 0,(function*(){const n=yield this.keyRingService.sign(e,this.keyRingService.selectedVaultId,l.Buffer.from(JSON.stringify({account_number:0,chain_id:e,fee:[],memo:t,msgs:[],sequence:0})),"sha256");return new Uint8Array([...n.r,...n.s])}))}enableVaultsWithCosmosAddress(e,t){var n,i;return r(this,void 0,void 0,(function*(){const r=this.chainsService.getChainInfo(e);if(!r)throw new Error("ChainInfo not found");if(!t)throw new Error("Bech32Address is empty");d.Bech32Address.validate(t,null===(n=r.bech32Config)||void 0===n?void 0:n.bech32PrefixAccAddr);const o=new Set,s=this.keyRingService.getKeyInfos();for(const n of s)if(!(this.chainsUIService.isEnabled(n.id,e)||this.keyRingService.needKeyCoinTypeFinalize(n.id,e)&&0!==(null!==(i=r.alternativeBIP44s)&&void 0!==i?i:[]).length)){let i;try{i=yield this.getKey(n.id,e)}catch(e){console.log(e);continue}i.bech32Address===t&&(this.keyRingService.needKeyCoinTypeFinalize(n.id,e)&&this.keyRingService.finalizeKeyCoinType(n.id,e,r.bip44.coinType),this.chainsUIService.enableChain(n.id,e),o.add(n.id))}const a=[];for(const e of o)a.push({vaultId:e,newEnabledChains:this.chainsUIService.enabledChainIdentifiersForVault(e)});return a}))}static throwErrorIfEthermintWithLedgerButNotSupported(e){if(!(e.startsWith("evmos_")||e.startsWith("injective")||e.startsWith("dymension_")||e.startsWith("nim_")||e.startsWith("dimension_")||e.startsWith("zetachain_")||e.startsWith("eip155:")))throw new a.KeplrError("keyring",152,"Ledger is unsupported for this chain")}}t.KeyRingCosmosService=g},28125:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ROUTE=void 0,t.ROUTE="keyring-ethereum"},95740:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getHandler=void 0;const i=n(47722),o=n(34647);t.getHandler=(e,t)=>(n,r)=>{switch(r.constructor){case o.RequestSignEthereumMsg:return s(e,t)(n,r);case o.RequestJsonRpcToEvmMsg:return a(e,t)(n,r);default:throw new i.KeplrError("keyring",221,"Unknown msg type")}};const s=(e,t)=>(n,i)=>r(void 0,void 0,void 0,(function*(){return yield t.ensureEnabled(n,[i.chainId],i.origin),(yield e.signEthereumSelected(n,i.origin,i.chainId,i.signer,i.message,i.signType)).signature})),a=(e,t)=>(n,i)=>r(void 0,void 0,void 0,(function*(){return"keplr_initProviderState"!==i.method&&(yield t.ensureEnabledForEVM(n,i.origin)),yield e.request(n,i.origin,i.method,i.params,i.providerId,i.chainId)}))},36272:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validateEVMChainId=void 0,t.validateEVMChainId=e=>{if(!(Number.isSafeInteger(e)&&e>0&&e<=0xfffffffffffec))throw new Error("EVM chain ID must be greater than 0 and lower than 4503599627370476.");return e}},37245:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(34647),t),i(n(59694),t)},42341:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;const r=n(34647),i=n(28125),o=n(95740);t.init=function(e,t,n){e.registerMessage(r.RequestSignEthereumMsg),e.registerMessage(r.RequestJsonRpcToEvmMsg),e.addHandler(i.ROUTE,(0,o.getHandler)(t,n))}},81166:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(59694),t),i(n(42341),t)},34647:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RequestJsonRpcToEvmMsg=t.RequestSignEthereumMsg=void 0;const r=n(94531),i=n(47722),o=n(28125);class s extends i.Message{static type(){return"request-sign-ethereum"}constructor(e,t,n,r){super(),this.chainId=e,this.signer=t,this.message=n,this.signType=r}validateBasic(){if(!this.chainId)throw new Error("chain id not set");if(!this.signer)throw new Error("signer not set");if(!this.signType)throw new Error("sign type not set");try{r.Bech32Address.validate(this.signer)}catch(e){const t="0x"===this.signer.substring(0,2)?this.signer:"0x"+this.signer;if(!t.match(/^0x[0-9A-Fa-f]*$/)||42!==t.length)throw new Error("Signer is not valid hex address")}}approveExternal(){return!0}route(){return o.ROUTE}type(){return s.type()}}t.RequestSignEthereumMsg=s;class a extends i.Message{static type(){return"request-json-rpc-to-evm"}constructor(e,t,n,r){super(),this.method=e,this.params=t,this.providerId=n,this.chainId=r}validateBasic(){}approveExternal(){return!0}route(){return o.ROUTE}type(){return a.type()}}t.RequestJsonRpcToEvmMsg=a},59694:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.KeyRingEthereumService=void 0;const o=n(56242),s=n(31214),a=n(47722),d=n(65880),c=n(94531),u=n(48834),l=n(98807),h=n(75960),p=n(86693),f=n(81375),g=n(36272),v=n(80075);t.KeyRingEthereumService=class{constructor(e,t,n,r,i,o,s,a,d){this.chainsService=e,this.keyRingService=t,this.keyRingCosmosService=n,this.interactionService=r,this.analyticsService=i,this.permissionService=o,this.permissionInteractiveService=s,this.backgroundTxEthereumService=a,this.tokenERC20Service=d,this.websocketSubscriptionMap=new Map}init(){return r(this,void 0,void 0,(function*(){}))}signEthereumSelected(e,t,n,i,o,s){return r(this,void 0,void 0,(function*(){return yield this.signEthereum(e,t,this.keyRingService.selectedVaultId,n,i,o,s)}))}signEthereum(e,t,n,i,a,p,f){return r(this,void 0,void 0,(function*(){const g=this.chainsService.getChainInfoOrThrow(i);if(g.hideInUI)throw new Error("Can't sign for hidden chain");const v=s.KeyRingService.isEthermintLike(g),m=o.ChainsService.getEVMInfo(g);if(!v&&!m)throw new Error("Not ethermint like and EVM chain");const y=this.keyRingService.getKeyInfo(n);if(!y)throw new Error("Null key info");"ledger"===y.type&&l.KeyRingCosmosService.throwErrorIfEthermintWithLedgerButNotSupported(i);try{c.Bech32Address.validate(a)}catch(e){a=("0x"===a.substring(0,2)?a:"0x"+a).toLowerCase()}const b=yield this.keyRingCosmosService.getKey(n,i);if(a!==b.bech32Address&&a!==b.ethereumHexAddress.toLowerCase())throw new Error("Signer mismatched");return yield this.interactionService.waitApproveV2(e,"/sign-ethereum","request-sign-ethereum",{origin:t,chainId:i,signer:a,pubKey:b.pubKey,message:p,signType:f,keyType:y.type,keyInsensitive:y.insensitive},(o=>r(this,void 0,void 0,(function*(){const{signature:s,signingData:a}=yield(()=>r(this,void 0,void 0,(function*(){if("ledger"===y.type||"keystone"===y.type){if(!o.signature||0===o.signature.length)throw new Error("Frontend should provide signature");return{signingData:o.signingData,signature:o.signature}}switch(f){case d.EthSignType.MESSAGE:{const e=yield this.keyRingService.sign(i,n,u.Buffer.concat([u.Buffer.from("Ethereum Signed Message:\n"),u.Buffer.from(o.signingData.length.toString()),o.signingData]),"keccak256");return{signingData:o.signingData,signature:u.Buffer.concat([e.r,e.s,e.v?u.Buffer.from("1c","hex"):u.Buffer.from("1b","hex")])}}case d.EthSignType.TRANSACTION:{const e=JSON.parse(u.Buffer.from(o.signingData).toString());(!!e.maxFeePerGas||!!e.maxPriorityFeePerGas)&&(e.type=h.TransactionTypes.eip1559),delete e.from;const t=yield this.keyRingService.sign(i,n,u.Buffer.from((0,h.serialize)(e).replace("0x",""),"hex"),"keccak256");return{signingData:o.signingData,signature:u.Buffer.concat([t.r,t.s,t.v?u.Buffer.from("1c","hex"):u.Buffer.from("1b","hex")])}}case d.EthSignType.EIP712:{const e=yield l.EIP712MessageValidator.validateAsync(JSON.parse(u.Buffer.from(o.signingData).toString())),t=yield this.keyRingService.sign(i,n,u.Buffer.concat([u.Buffer.from("19","hex"),u.Buffer.from("01","hex"),u.Buffer.from((0,l.domainHash)(e).replace("0x",""),"hex"),u.Buffer.from((0,l.messageHash)(e).replace("0x",""),"hex")]),"keccak256");return{signingData:o.signingData,signature:u.Buffer.concat([t.r,t.s,t.v?u.Buffer.from("1c","hex"):u.Buffer.from("1b","hex")])}}default:throw new Error(`Unknown sign type: ${f}`)}})))();try{const n=f===d.EthSignType.TRANSACTION?JSON.parse(u.Buffer.from(a).toString()):void 0,o=yield(()=>r(this,void 0,void 0,(function*(){var r;if(f!==d.EthSignType.TRANSACTION)return;if(null==n.to||"0x"===n.to)return"deploy-contract";const o=yield this.request(e,t,"eth_getCode",[n.to,"latest"],void 0,i);return(null==n.data||"0x"===n.data)&&BigInt(n.value)>0&&"0x"===o?"send-native":(null===(r=n.data)||void 0===r?void 0:r.startsWith("0xa9059cbb"))?"execute-contract/send-erc20":"execute-contract"})))();this.analyticsService.logEventIgnoreError("evm_tx_signed",Object.assign(Object.assign({chainId:i,isInternal:e.isInternalMsg,origin:t,keyType:y.type,ethSignType:f},f===d.EthSignType.TRANSACTION&&{ethTxType:o}),o&&o.startsWith("execute-contract")&&n&&{contractAddress:n.to}))}catch(e){console.log(e)}return{signingData:a,signature:s}}))))}))}request(e,t,n,o,s,c){var l;return r(this,void 0,void 0,(function*(){if(e.isInternalMsg&&null==c)throw new Error("The chain id must be provided for the internal message.");const m=null!==(l=this.permissionService.getCurrentChainIdForEVM(t))&&void 0!==l?l:c;if(null==m)return"keplr_initProviderState"===n?{currentEvmChainId:null,currentChainId:null,selectedAddress:null}:(yield this.permissionService.removeAllSpecificTypePermission([t],(0,f.getBasicAccessPermissionType)()),yield this.permissionInteractiveService.ensureEnabledForEVM(e,t),this.request(e,t,n,o,s,c));const y=this.chainsService.getChainInfoOrThrow(m),b=this.chainsService.getEVMInfoOrThrow(m);return yield(()=>r(this,void 0,void 0,(function*(){var l,S,w;switch(n){case"keplr_initProviderState":case"keplr_connect":try{const e=yield this.keyRingService.getPubKeySelected(y.chainId),t=`0x${u.Buffer.from(e.getEthAddress()).toString("hex")}`;return{currentEvmChainId:b.chainId,currentChainId:y.chainId,selectedAddress:t}}catch(e){return console.error(e),null}case"keplr_disconnect":return this.permissionService.removeAllTypePermission([t]);case"eth_chainId":return`0x${b.chainId.toString(16)}`;case"net_version":return b.chainId.toString();case"eth_accounts":case"eth_requestAccounts":{const e=yield this.keyRingService.getPubKeySelected(y.chainId);return[`0x${u.Buffer.from(e.getEthAddress()).toString("hex")}`]}case"eth_sendTransaction":{const n=Array.isArray(o)&&(null==o?void 0:o[0])||null;if(!n)throw new Error("Invalid parameters: must provide a transaction.");if(n.chainId&&(0,g.validateEVMChainId)("string"==typeof n.chainId?n.chainId.startsWith("0x")?parseInt(n.chainId,16):parseInt(n.chainId,10):n.chainId)!==b.chainId)throw new Error("The current active chain id does not match the one in the transaction.");const r=yield this.keyRingService.getPubKeySelected(y.chainId),a=`0x${u.Buffer.from(r.getEthAddress()).toString("hex")}`,p=yield this.request(e,t,"eth_getTransactionCount",[a,"pending"],s,c),f=parseInt(p,16),{from:v,gas:S}=n,w=i(n,["from","gas"]),I=Object.assign(Object.assign({},w),{gasLimit:null!==(l=null==w?void 0:w.gasLimit)&&void 0!==l?l:S,chainId:b.chainId,nonce:f}),{signingData:k,signature:O}=yield this.signEthereumSelected(e,t,m,v,u.Buffer.from(JSON.stringify(I)),d.EthSignType.TRANSACTION),R=JSON.parse(u.Buffer.from(k).toString());(R.maxFeePerGas||R.maxPriorityFeePerGas)&&(R.type=h.TransactionTypes.eip1559);const A=u.Buffer.from((0,h.serialize)(R,O).replace("0x",""),"hex");return yield this.backgroundTxEthereumService.sendEthereumTx(t,m,A,{})}case"eth_signTransaction":{const n=Array.isArray(o)&&(null==o?void 0:o[0])||null;if(!n)throw new Error("Invalid parameters: must provide a transaction.");if(n.chainId&&(0,g.validateEVMChainId)("string"==typeof n.chainId?n.chainId.startsWith("0x")?parseInt(n.chainId,16):parseInt(n.chainId,10):n.chainId)!==b.chainId)throw new Error("The current active chain id does not match the one in the transaction.");const r=yield this.keyRingService.getPubKeySelected(y.chainId),a=`0x${u.Buffer.from(r.getEthAddress()).toString("hex")}`,l=yield this.request(e,t,"eth_getTransactionCount",[a,"pending"],s,c),p=parseInt(l,16),{from:f,gas:v}=n,w=i(n,["from","gas"]),I=Object.assign(Object.assign({},w),{gasLimit:null!==(S=null==w?void 0:w.gasLimit)&&void 0!==S?S:v,chainId:b.chainId,nonce:p}),{signingData:k,signature:O}=yield this.signEthereumSelected(e,t,m,f,u.Buffer.from(JSON.stringify(I)),d.EthSignType.TRANSACTION),R=JSON.parse(u.Buffer.from(k).toString());return(R.maxFeePerGas||R.maxPriorityFeePerGas)&&(R.type=h.TransactionTypes.eip1559),(0,h.serialize)(R,O)}case"personal_sign":{const n=Array.isArray(o)&&(null==o?void 0:o[0])||void 0;if(!n)throw new Error("Invalid parameters: must provide a stringified message.");const r=Array.isArray(o)&&(null==o?void 0:o[1])||void 0;if(!r||r&&!r.match(/^0x[0-9A-Fa-f]*$/))throw new Error("Invalid parameters: must provide an Ethereum address.");const{signature:i}=yield this.signEthereumSelected(e,t,m,r,u.Buffer.from(n),d.EthSignType.MESSAGE);return`0x${u.Buffer.from(i).toString("hex")}`}case"eth_signTypedData_v3":case"eth_signTypedData_v4":{const n=Array.isArray(o)&&(null==o?void 0:o[0])||void 0;if(!n||n&&!n.match(/^0x[0-9A-Fa-f]*$/))throw new Error("Invalid parameters: must provide an Ethereum address.");const r=Array.isArray(o)&&(null==o?void 0:o[1])||void 0,{signature:i}=yield this.signEthereumSelected(e,t,m,n,u.Buffer.from("string"==typeof r?r:JSON.stringify(r)),d.EthSignType.EIP712);return`0x${u.Buffer.from(i).toString("hex")}`}case"eth_subscribe":{if(!b.websocket)throw new Error("WebSocket endpoint for current chain has not been provided to Keplr.");const e=new WebSocket(b.websocket),r=yield new Promise(((r,i)=>{const d=()=>{e.send(JSON.stringify({jsonrpc:"2.0",id:1,method:n,params:o}))},c=n=>{const o=JSON.parse(n.data);o.error?(e.close(),i(o.error)):"eth_subscription"===o.method?this.interactionService.dispatchEvent(a.WEBPAGE_PORT,"keplr_ethSubscription",{origin:t,providerId:s,data:{subscription:o.params.subscription,result:o.params.result}}):r(o.result)},u=()=>{e.close(),i(new Error("Something went wrong with the WebSocket connection"))};e.addEventListener("open",d),e.addEventListener("message",c),e.addEventListener("error",u),e.addEventListener("close",(()=>{e.removeEventListener("open",d),e.removeEventListener("message",c),e.removeEventListener("error",u)}),{once:!0})}));return(0,v.runInAction)((()=>{const t=`${r}/${s}`;this.websocketSubscriptionMap.set(t,e)})),r}case"eth_unsubscribe":{const e=Array.isArray(o)&&(null==o?void 0:o[0])||void 0;if(!e)throw new Error("Invalid parameters: must provide a subscription id.");if(!b.websocket)throw new Error("WebSocket endpoint for current chain has not been provided to Keplr.");const t=this.websocketSubscriptionMap.get(e);if(!t)return!1;const r=new WebSocket(b.websocket);return yield new Promise(((i,a)=>{const d=()=>{r.send(JSON.stringify({jsonrpc:"2.0",id:1,method:n,params:o}))},c=n=>{r.close();const o=JSON.parse(n.data);o.error?a(o.error):(t.close(),(0,v.runInAction)((()=>{const t=`${e}/${s}`;this.websocketSubscriptionMap.delete(t)})),i(o.result))},u=()=>{r.close(),a(new Error("Something went wrong with the WebSocket connection"))};r.addEventListener("open",d),r.addEventListener("message",c),r.addEventListener("error",u),r.addEventListener("close",(()=>{r.removeEventListener("open",d),r.removeEventListener("message",c),r.removeEventListener("error",u)}),{once:!0})}))}case"wallet_switchEthereumChain":{const n=Array.isArray(o)&&(null==o?void 0:o[0])||void 0;if(!(null==n?void 0:n.chainId))throw new Error("Invalid parameters: must provide a chain id.");const r=(0,g.validateEVMChainId)(parseInt(n.chainId,16));if(r===b.chainId)return null;const i=this.chainsService.getChainInfoByEVMChainId(r);if(!i)throw new a.EthereumProviderRpcError(4902,`Unrecognized chain ID "${n.chainId}". Try adding the chain using wallet_addEthereumChain first.`);return yield this.permissionService.updateCurrentChainIdForEVM(e,t,i.chainId),null}case"wallet_addEthereumChain":{const n=Array.isArray(o)&&(null==o?void 0:o[0]);if(!n||"object"!=typeof n)throw new Error("Invalid parameters: must provide a single object parameter.");const i=(0,g.validateEVMChainId)(parseInt(n.chainId,16)),s=null!==(w=this.chainsService.getChainInfoByEVMChainId(i))&&void 0!==w?w:yield(()=>r(this,void 0,void 0,(function*(){const r=n.rpcUrls.find((e=>{try{const t=new URL(e);return"http:"===t.protocol||"https:"===t.protocol}catch(e){return!1}})),o=n.rpcUrls.find((e=>{try{const t=new URL(e);return"ws:"===t.protocol||"wss:"===t.protocol}catch(e){return!1}})),{chainName:s,nativeCurrency:a,iconUrls:d}=n,c={rpc:r,rest:r,chainId:`eip155:${i}`,bip44:{coinType:60},chainName:s,stakeCurrency:{coinDenom:a.symbol,coinMinimalDenom:a.symbol,coinDecimals:a.decimals},currencies:[{coinDenom:a.symbol,coinMinimalDenom:a.symbol,coinDecimals:a.decimals}],feeCurrencies:[{coinDenom:a.symbol,coinMinimalDenom:a.symbol,coinDecimals:a.decimals}],evm:{chainId:i,rpc:r,websocket:o},features:["eth-address-gen","eth-key-sign"],chainSymbolImageUrl:null==d?void 0:d[0],beta:!0};return yield this.chainsService.suggestChainInfo(e,c,t),c})))();return this.permissionService.addPermission([s.chainId],(0,f.getBasicAccessPermissionType)(),[t]),yield this.permissionService.updateCurrentChainIdForEVM(e,t,s.chainId),null}case"wallet_getPermissions":case"wallet_requestPermissions":return[{parentCapability:"eth_accounts"}];case"wallet_revokePermissions":{const e=Array.isArray(o)&&(null==o?void 0:o[0]);if(!e||"object"!=typeof e)throw new Error("Invalid parameters: must provide a single object parameter.");if(null==e.eth_accounts)throw new Error("Invalid parameters: must provide a single object parameter with the key 'eth_accounts'.");return yield this.permissionService.removeAllTypePermission([t]),null}case"wallet_watchAsset":{const t=o;if("ERC20"!==(null==t?void 0:t.type))throw new Error("Not a supported asset type.");const n=null==t?void 0:t.options.address;return yield this.tokenERC20Service.suggestERC20Token(e,m,n),!0}case"eth_call":case"eth_estimateGas":case"eth_getTransactionCount":case"eth_getTransactionByHash":case"eth_getTransactionByBlockHashAndIndex":case"eth_getTransactionByBlockNumberAndIndex":case"eth_getTransactionByHash":case"eth_getTransactionReceipt":case"eth_sendRawTransaction":case"eth_protocolVersion":case"eth_syncing":case"eth_getCode":case"eth_getLogs":case"eth_getProof":case"eth_getStorageAt":case"eth_getBalance":case"eth_blockNumber":case"eth_getBlockByHash":case"eth_getBlockByNumber":case"eth_gasPrice":case"eth_feeHistory":case"eth_maxPriorityFeePerGas":return(yield(0,p.simpleFetch)(b.rpc,{method:"POST",headers:{"content-type":"application/json","request-source":t},body:JSON.stringify({jsonrpc:"2.0",method:n,params:o,id:1})})).data.result;default:throw new Error(`The method "${n}" is not supported.`)}})))()}))}}},20286:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(72263),t),i(n(73098),t)},36438:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(72263),t),i(n(73098),t)},72263:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.KeyRingKeystoneService=void 0;const i=n(48834),o=n(34298),s=n(31214);t.KeyRingKeystoneService=class{init(){return r(this,void 0,void 0,(function*(){}))}supportedKeyRingType(){return"keystone"}createKeyRingVault(e){const t={};return e.keys.forEach((e=>{t[e.path]={pubKey:e.publicKey,chain:e.chain,name:e.name}})),Promise.resolve({insensitive:{xfp:e.masterFingerprint,device:e.device,deviceId:e.deviceId,keys:t,bip44Path:e.bip44Path,connectionType:e.connectionType},sensitive:{}})}getPubKey(e,t){let n;if(!e.insensitive.keys)throw new Error("Keystone is not initialized.");{const r=Object.keys(e.insensitive.keys).find((e=>s.KeyRingService.parseBIP44Path(e).coinType===t));if(!r)throw new Error(`CoinType ${t} is not supported.`);n=i.Buffer.from(e.insensitive.keys[r].pubKey,"hex")}return new o.PubKeySecp256k1(n)}sign(){throw new Error("Keystone can't sign message in background. You should provide the signature from frontend.")}}},73098:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},80259:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(88857),t)},88857:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.KeyRingLedgerService=void 0;const i=n(48834),o=n(34298),s=n(47722),a=n(31214);t.KeyRingLedgerService=class{init(){return r(this,void 0,void 0,(function*(){}))}supportedKeyRingType(){return"ledger"}createKeyRingVault(e,t,n){return Promise.resolve({insensitive:{[t]:{pubKey:i.Buffer.from(e).toString("hex")},bip44Path:n},sensitive:{}})}getPubKey(e,t,n){if("starknet"in n)throw new Error("'getPubKeyStarknet' should be called for Starknet chain");if(!("cosmos"in n))throw new Error("Chain is not a cosmos chain");let r="Cosmos";if(a.KeyRingService.isEthermintLike(n.cosmos)&&(r="Ethereum",!e.insensitive[r]))throw new s.KeplrError("keyring",901,"No Ethereum public key. Initialize Ethereum app on Ledger by selecting the chain in the extension");if("Cosmos"===r&&(e.insensitive.Terra&&(r="Terra"),e.insensitive.Secret&&(r="Secret")),!e.insensitive[r])throw new Error(`Ledger is not initialized for ${r}`);const d=i.Buffer.from(e.insensitive[r].pubKey,"hex");return new o.PubKeySecp256k1(d)}getPubKeyStarknet(e,t){if(!("starknet"in t))throw new Error("'modularChainInfo' should have Starknet chain info");if(!e.insensitive.Starknet)throw new s.KeplrError("keyring",901,"No Starknet public key. Initialize Starknet app on Ledger by selecting the chain in the extension");const n=i.Buffer.from(e.insensitive.Starknet.pubKey,"hex");return new o.PubKeyStarknet(n)}sign(){throw new Error("Ledger can't sign message in background. You should provide the signature from frontend.")}}},11432:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(49775),t)},49775:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.KeyRingMnemonicService=void 0;const i=n(48834),o=n(34298),s=n(36832);t.KeyRingMnemonicService=class{constructor(e){this.vaultService=e}init(){return r(this,void 0,void 0,(function*(){}))}supportedKeyRingType(){return"mnemonic"}createKeyRingVault(e,t){if(!e||"string"!=typeof e)throw new Error("Invalid arguments");try{s.mnemonicToEntropy(e)}catch(e){if("Invalid mnemonic checksum"!==e.message)throw e}const n=o.Mnemonic.generateMasterSeedFromMnemonic(e),r=i.Buffer.from(n).toString("hex");return Promise.resolve({insensitive:{bip44Path:t},sensitive:{masterSeedText:r,mnemonic:e}})}getPubKey(e,t){const n=this.getBIP44PathFromVault(e),r=`pubKey-m/44'/${t}'/${n.account}'/${n.change}/${n.addressIndex}`;if(e.insensitive[r]){const t=i.Buffer.from(e.insensitive[r],"hex");return new o.PubKeySecp256k1(t)}const s=this.getPrivKey(e,t).getPubKey(),a=i.Buffer.from(s.toBytes()).toString("hex");return this.vaultService.setAndMergeInsensitiveToVault("keyRing",e.id,{[r]:a}),s}sign(e,t,n,r){const i=this.getPrivKey(e,t);let s=new Uint8Array;switch(r){case"sha256":s=o.Hash.sha256(n);break;case"keccak256":s=o.Hash.keccak256(n);break;case"noop":s=n.slice();break;default:throw new Error(`Unknown digest method: ${r}`)}return i.signDigest32(s)}getPrivKey(e,t){const n=this.getBIP44PathFromVault(e),r=this.vaultService.decrypt(e.sensitive).masterSeedText;if(!r)throw new Error("masterSeedText is null");const s=i.Buffer.from(r,"hex");return new o.PrivKeySecp256k1(o.Mnemonic.generatePrivateKeyFromMasterSeed(s,`m/44'/${t}'/${n.account}'/${n.change}/${n.addressIndex}`))}getBIP44PathFromVault(e){return e.insensitive.bip44Path}}},70154:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(240),t)},240:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.KeyRingPrivateKeyService=void 0;const i=n(48834),o=n(34298);t.KeyRingPrivateKeyService=class{constructor(e){this.vaultService=e}init(){return r(this,void 0,void 0,(function*(){}))}supportedKeyRingType(){return"private-key"}createKeyRingVault(e){if(!e||0===e.length)throw new Error("Invalid arguments");const t=i.Buffer.from(new o.PrivKeySecp256k1(e).getPubKey().toBytes()).toString("hex");return Promise.resolve({insensitive:{publicKey:t},sensitive:{privateKey:i.Buffer.from(e).toString("hex")}})}getPubKey(e){const t=i.Buffer.from(e.insensitive.publicKey,"hex");return new o.PubKeySecp256k1(t)}sign(e,t,n,r){const s=this.vaultService.decrypt(e.sensitive).privateKey,a=new o.PrivKeySecp256k1(i.Buffer.from(s,"hex"));let d=new Uint8Array;switch(r){case"sha256":d=o.Hash.sha256(n);break;case"keccak256":d=o.Hash.keccak256(n);break;case"noop":d=n.slice();break;default:throw new Error(`Unknown digest method: ${r}`)}return a.signDigest32(d)}}},54583:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AccountImpl=void 0;const i=n(11047);class o extends i.Account{constructor(e,t,n,r,i){super(e,t,n,r,i)}executeWithSignUI(e,t,n,o,s){return r(this,void 0,void 0,(function*(){const r=i.num.toBigInt(yield this.getNonceSafe()),a=i.stark.toTransactionVersion(this.getPreferredVersion("0x1","0x3")),d=yield this.getChainId(),c=Object.assign(Object.assign({},i.stark.v3Details({})),{resourceBounds:{l1_gas:{max_amount:"0",max_price_per_unit:"0"},l2_gas:{max_amount:"0",max_price_per_unit:"0"}},maxFee:0,walletAddress:this.address,nonce:r,version:a,chainId:d,cairoVersion:yield this.getCairoVersion()}),{transactions:u,details:l,signature:h}=yield o.signStarknetTransactionSelected(e,t,n,s,c,!1),p=i.transaction.getExecuteCalldata(u,yield this.getCairoVersion());return this.invokeFunction({contractAddress:this.address,calldata:p,signature:h},Object.assign({},l))}))}}t.AccountImpl=o},50264:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ROUTE=void 0,t.ROUTE="keyring-starknet"},55535:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getHandler=void 0;const i=n(47722),o=n(15360);t.getHandler=(e,t)=>(n,r)=>{switch(r.constructor){case o.GetStarknetKeyMsg:return s(e,t)(n,r);case o.GetStarknetKeysSettledMsg:return a(e,t)(n,r);case o.RequestSignStarknetTx:return d(e,t)(n,r);case o.RequestSignStarknetMessage:return c(e,t)(n,r);case o.RequestSignStarknetDeployAccountTx:return u(e,t)(n,r);case o.RequestJsonRpcToStarknetMsg:return l(e,t)(n,r);case o.GetStarknetKeysForEachVaultSettledMsg:return h(e)(n,r);case o.GetStarknetKeyParamsSelectedMsg:return p(e)(n,r);default:throw new i.KeplrError("keyring",221,"Unknown msg type")}};const s=(e,t)=>(n,i)=>r(void 0,void 0,void 0,(function*(){return yield t.ensureEnabledForStarknet(n,i.origin),yield e.getStarknetKeySelected(i.chainId)})),a=(e,t)=>(n,i)=>r(void 0,void 0,void 0,(function*(){return yield t.ensureEnabledForStarknet(n,i.origin),yield Promise.allSettled(i.chainIds.map((t=>e.getStarknetKeySelected(t))))})),d=(e,t)=>(n,i)=>r(void 0,void 0,void 0,(function*(){return yield t.ensureEnabledForStarknet(n,i.origin),yield e.signStarknetTransactionSelected(n,i.origin,i.chainId,i.transactions,i.details,!1)})),c=(e,t)=>(n,i)=>r(void 0,void 0,void 0,(function*(){return yield t.ensureEnabledForStarknet(n,i.origin),yield e.signStarknetMessageSelected(n,i.origin,i.chainId,i.signer,i.message)})),u=(e,t)=>(n,i)=>r(void 0,void 0,void 0,(function*(){return yield t.ensureEnabledForStarknet(n,i.origin),yield e.signStarknetDeployAccountTransactionSelected(n,i.origin,i.chainId,i.transaction)})),l=(e,t)=>(n,i)=>r(void 0,void 0,void 0,(function*(){var r;let o=!1;return"keplr_initStarknetProviderState"===i.method&&(o=!0),"wallet_getPermissions"===i.method&&(o=!0),"wallet_requestAccounts"===i.method&&!Array.isArray(i.params)&&(null===(r=i.params)||void 0===r?void 0:r.silent_mode)&&(o=!0),o||(yield t.ensureEnabledForStarknet(n,i.origin)),yield e.request(n,i.origin,i.method,i.params,i.chainId)})),h=e=>(t,n)=>r(void 0,void 0,void 0,(function*(){return yield Promise.allSettled(n.vaultIds.map((t=>r(void 0,void 0,void 0,(function*(){const r=yield e.getStarknetKey(t,n.chainId);return Object.assign({vaultId:t},r)})))))})),p=e=>(t,n)=>r(void 0,void 0,void 0,(function*(){return yield e.getStarknetKeyParamsSelected(n.chainId)}))},87923:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(15360),t),i(n(26997),t)},34580:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;const r=n(15360),i=n(50264),o=n(55535);t.init=function(e,t,n){e.registerMessage(r.GetStarknetKeyMsg),e.registerMessage(r.GetStarknetKeysSettledMsg),e.registerMessage(r.RequestSignStarknetTx),e.registerMessage(r.RequestSignStarknetMessage),e.registerMessage(r.RequestSignStarknetDeployAccountTx),e.registerMessage(r.RequestJsonRpcToStarknetMsg),e.registerMessage(r.GetStarknetKeysForEachVaultSettledMsg),e.registerMessage(r.GetStarknetKeyParamsSelectedMsg),e.addHandler(i.ROUTE,(0,o.getHandler)(t,n))}},66048:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(26997),t),i(n(34580),t)},15360:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GetStarknetKeyParamsSelectedMsg=t.GetStarknetKeysForEachVaultSettledMsg=t.RequestJsonRpcToStarknetMsg=t.RequestSignStarknetDeployAccountTx=t.RequestSignStarknetMessage=t.RequestSignStarknetTx=t.GetStarknetKeysSettledMsg=t.GetStarknetKeyMsg=void 0;const r=n(47722),i=n(50264);class o extends r.Message{static type(){return"get-starknet-key"}constructor(e){super(),this.chainId=e}validateBasic(){if(!this.chainId)throw new Error("chainId is not set")}approveExternal(){return!0}route(){return i.ROUTE}type(){return o.type()}}t.GetStarknetKeyMsg=o;class s extends r.Message{static type(){return"get-starknet-keys-settled"}constructor(e){super(),this.chainIds=e}validateBasic(){if(!this.chainIds||0===this.chainIds.length)throw new Error("chainIds are not set");const e=new Map;for(const t of this.chainIds){if(e.get(t))throw new Error(`chainId ${t} is duplicated`);e.set(t,!0)}}approveExternal(){return!0}route(){return i.ROUTE}type(){return s.type()}}t.GetStarknetKeysSettledMsg=s;class a extends r.Message{static type(){return"request-sign-starknet-tx"}constructor(e,t,n){super(),this.chainId=e,this.transactions=t,this.details=n}validateBasic(){if(!this.chainId)throw new Error("chainId is not set");if(!this.transactions)throw new Error("transactions are not set");if(!this.details)throw new Error("details are not set")}approveExternal(){return!0}route(){return i.ROUTE}type(){return a.type()}}t.RequestSignStarknetTx=a;class d extends r.Message{static type(){return"request-sign-starknet-message"}constructor(e,t,n){super(),this.chainId=e,this.signer=t,this.message=n}validateBasic(){if(!this.chainId)throw new Error("chainId is not set");if(!this.signer)throw new Error("signer is not set");if(!this.message)throw new Error("message is not set");if(!this.signer.match(/^0x[0-9A-Fa-f]*$/)||66!==this.signer.length)throw new Error("signer is not valid hex address")}approveExternal(){return!0}route(){return i.ROUTE}type(){return a.type()}}t.RequestSignStarknetMessage=d;class c extends r.Message{static type(){return"request-sign-starknet-deploy-account-tx"}constructor(e,t){super(),this.chainId=e,this.transaction=t}validateBasic(){if(!this.chainId)throw new Error("chainId is not set");if(!this.transaction)throw new Error("transaction is not set")}approveExternal(){return!0}route(){return i.ROUTE}type(){return c.type()}}t.RequestSignStarknetDeployAccountTx=c;class u extends r.Message{static type(){return"request-json-rpc-to-starknet"}constructor(e,t,n){super(),this.method=e,this.params=t,this.chainId=n}validateBasic(){}approveExternal(){return!0}route(){return i.ROUTE}type(){return u.type()}}t.RequestJsonRpcToStarknetMsg=u;class l extends r.Message{static type(){return"GetStarknetKeysForEachVaultSettledMsg"}constructor(e,t){super(),this.chainId=e,this.vaultIds=t}validateBasic(){if(!this.chainId)throw new Error("chain id not set");if(!this.vaultIds||0===this.vaultIds.length)throw new Error("vaultIds are not set");const e=new Map;for(const t of this.vaultIds){if(e.get(t))throw new Error(`vaultId ${t} is duplicated`);e.set(t,!0)}}route(){return i.ROUTE}type(){return l.type()}}t.GetStarknetKeysForEachVaultSettledMsg=l;class h extends r.Message{static type(){return"get-starknet-key-params-selected"}constructor(e){super(),this.chainId=e}validateBasic(){if(!this.chainId)throw new Error("chainId is not set")}route(){return i.ROUTE}type(){return h.type()}}t.GetStarknetKeyParamsSelectedMsg=h},26997:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.KeyRingStarknetService=void 0;const i=n(48834),o=n(81375),s=n(11047),a=n(86693),d=n(54583),c=n(34298);t.KeyRingStarknetService=class{constructor(e,t,n,r,i,o,s){this.chainsService=e,this.vaultService=t,this.keyRingService=n,this.permissionService=r,this.tokenERC20Service=i,this.interactionService=o,this.backgroundTxService=s}init(){return r(this,void 0,void 0,(function*(){}))}generateAccountInterface(e,t,n){return new d.AccountImpl(this.generateProviderInterface(e,t),n,this.generateSignerInterface(e,t),"1")}generateSignerInterface(e,t){return new u(e,t,this.generateProviderInterface(e,t),this.keyRingService,this.permissionService,this)}generateProviderInterface(e,t){const n=this.permissionService.getCurrentChainIdForStarknet(t);if(!n)throw new Error("Chain id is not set");const r=this.chainsService.getModularChainInfoOrThrow(n);if(!("starknet"in r))throw new Error("Chain is not a starknet chain");return new s.RpcProvider({nodeUrl:r.starknet.rpc})}getStarknetKeySelected(e){return r(this,void 0,void 0,(function*(){return yield this.getStarknetKey(this.keyRingService.selectedVaultId,e)}))}getStarknetKey(e,t){return r(this,void 0,void 0,(function*(){const n=yield this.getStarknetKeyParams(e,t),r=this.keyRingService.getKeyInfo(e);if(!r)throw new Error("Null key info");return{name:this.keyRingService.getKeyRingName(e),hexAddress:`0x${i.Buffer.from(n.address).toString("hex")}`,pubKey:n.pubKey,address:n.address,isNanoLedger:"ledger"===r.type}}))}getStarknetKeyParamsSelected(e){return r(this,void 0,void 0,(function*(){return yield this.getStarknetKeyParams(this.keyRingService.selectedVaultId,e)}))}getStarknetKeyParams(e,t){return r(this,void 0,void 0,(function*(){const n=this.chainsService.getModularChainInfoOrThrow(t);if(!("starknet"in n))throw new Error("Chain is not a starknet chain");const o=this.vaultService.getVault("keyRing",e);if(!o)throw new Error("Vault not found");const s="ledger"===o.insensitive.keyRingType,{pubKey:a,salt:d,classHash:u}=yield(()=>r(this,void 0,void 0,(function*(){if(s){const n=yield this.keyRingService.getPubKeyStarknet(t,e);return{pubKey:n,salt:n.getStarknetPubKey(),classHash:i.Buffer.from("04a444ef8caf8fa0db05da60bf0ad9bae264c73fa7e32c61d245406f5523174b","hex")}}{const r=yield this.keyRingService.signWithVault(o,9004,i.Buffer.from("starknet_key_salt"),"sha256",n);return{pubKey:yield this.keyRingService.getPubKey(t,e),salt:c.Hash.sha256(i.Buffer.concat([r.r,r.s])).slice(0,24),classHash:i.Buffer.from("06cc43e9a4a0036cd09d8a997c61df18d7e4fa9459c907a4664b4e56b679d187","hex")}}})))(),l=a.getStarknetAddress(d,u),h=a.getStarknetAddressParams();return{pubKey:a.toBytes(),starknetPubKey:a.getStarknetPubKey(),address:l,salt:d,classHash:u,xLow:h.xLow,xHigh:h.xHigh,yLow:h.yLow,yHigh:h.yHigh}}))}request(e,t,n,i,d){var c;return r(this,void 0,void 0,(function*(){if(e.isInternalMsg&&null==d)throw new Error("The chain id must be provided for the internal message.");const u=null!==(c=this.permissionService.getCurrentChainIdForStarknet(t))&&void 0!==c?c:d;if(null==u){if("keplr_initStarknetProviderState"===n)return{currentChainId:null,selectedAddress:null,rpc:null};if("wallet_getPermissions"===n)return[];throw new Error(`${t} is not permitted. Please disconnect and reconnect to the website.`)}const l=(yield this.getStarknetKeySelected(u)).hexAddress,h=this.chainsService.getModularChainInfoOrThrow(u);if(!("starknet"in h))throw new Error("Chain is not a starknet chain");return yield(()=>r(this,void 0,void 0,(function*(){switch(n){case"keplr_initStarknetProviderState":case"keplr_enableStarknetProvider":return{currentChainId:u,selectedAddress:l,rpc:h.starknet.rpc};case"wallet_watchAsset":{const t=i;if("ERC20"!==(null==t?void 0:t.type))throw new Error("Not a supported asset type.");const n=t.options.address;return void(yield this.tokenERC20Service.suggestERC20Token(e,u,n))}case"wallet_requestAccounts":return[(yield this.getStarknetKeySelected(u)).hexAddress];case"wallet_getPermissions":return this.permissionService.hasPermission(u,(0,o.getBasicAccessPermissionType)(),t)?["accounts"]:[""];case"wallet_switchStarknetChain":{const n=Array.isArray(i)&&(null==i?void 0:i[0])||void 0;if(!(null==n?void 0:n.chainId))throw new Error("Invalid parameters: must provide a chain id.");const r=n.chainId,o=this.chainsService.getModularChainInfoOrThrow(r);if(!("starknet"in o))throw new Error("Chain is not a starknet chain");return yield this.permissionService.updateCurrentChainIdForStarknet(e,t,o.chainId),!0}case"wallet_requestChainId":return s.shortString.encodeShortString(u.replace("starknet:",""));case"wallet_deploymentData":case"wallet_addDeclareTransaction":throw new Error("Not implemented");case"wallet_addInvokeTransaction":{const n=this.generateAccountInterface(e,t,l),r=[];if(Array.isArray(i.calls))for(const e of i.calls)r.push({contractAddress:e.contract_address,entrypoint:e.entry_point,calldata:e.calldata});else r.push({contractAddress:i.calls.contract_address,entrypoint:i.calls.entry_point,calldata:i.calls.calldata});const o=yield n.executeWithSignUI(e,t,u,this,r);return this.backgroundTxService.waitStarknetTransaction(u,o.transaction_hash).catch((e=>{console.log(e)})),o}case"wallet_signTypedData":return yield this.signStarknetMessageSelected(e,t,u,(yield this.getStarknetKeySelected(u)).hexAddress,i);case"wallet_supportedSpecs":return[(yield(0,a.simpleFetch)(h.starknet.rpc,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({id:1,jsonrpc:"2.0",method:"starknet_specVersion",params:i})})).data.result];case"starknet_addDeclareTransaction":case"starknet_addDeployAccountTransaction":case"starknet_addInvokeTransaction":case"starknet_blockHashAndNumber":case"starknet_blockNumber":case"starknet_call":case"starknet_chainId":case"starknet_estimateFee":case"starknet_getBlockTransactionCount":case"starknet_getBlockWithTxHashes":case"starknet_getBlockWithTxs":case"starknet_getClass":case"starknet_getClassAt":case"starknet_getClassHashAt":case"starknet_getEvents":case"starknet_getNonce":case"starknet_getStateUpdate":case"starknet_getStorageAt":case"starknet_getTransactionByBlockIdAndIndex":case"starknet_getTransactionByHash":case"starknet_getTransactionReceipt":case"starknet_pendingTransactions":case"starknet_simulateTransactions":case"starknet_specVersion":case"starknet_syncing":return(yield(0,a.simpleFetch)(h.starknet.rpc,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({id:1,jsonrpc:"2.0",method:n,params:i})})).data.result;default:throw new Error(`The type "${n}" is not supported.`)}})))()}))}signStarknetMessageSelected(e,t,n,i,o){return r(this,void 0,void 0,(function*(){return yield this.signStarknetMessage(e,t,this.keyRingService.selectedVaultId,n,i,o)}))}signStarknetMessage(e,t,n,o,a,d){return r(this,void 0,void 0,(function*(){this.chainsService.getModularChainInfoOrThrow(o);const c=this.keyRingService.getKeyInfo(n);if(!c)throw new Error("Null key info");const u=yield this.getStarknetKey(n,o);if(u.hexAddress!==a)throw new Error("Signer mismatched");return yield this.interactionService.waitApproveV2(e,"/sign-starknet-message","request-sign-starknet-message",{origin:t,chainId:o,signer:a,pubKey:u.pubKey,message:d,keyType:c.type,keyInsensitive:c.insensitive},(e=>r(this,void 0,void 0,(function*(){const{message:t,signature:r}=e;if(null!=r)return r;let d=s.typedData.getMessageHash(t,a);d=d.replace("0x","");const c=64-d.length;if(c>0)d="0".repeat(c)+d;else if(c<0)throw new Error("Invalid length of msg hash");const u=yield this.keyRingService.sign(o,n,i.Buffer.from(d,"hex"),"noop");return this.formatEthSignature(u)}))))}))}signStarknetTransactionSelected(e,t,n,i,o,s){return r(this,void 0,void 0,(function*(){return yield this.signStarknetTransaction(e,t,this.keyRingService.selectedVaultId,n,i,o,s)}))}signStarknetTransaction(e,t,n,o,a,d,c){return r(this,void 0,void 0,(function*(){if(s.shortString.encodeShortString(o.replace("starknet:",""))!==d.chainId)throw new Error("Invalid chain id");const u=yield this.getStarknetKeySelected(o),p=this.keyRingService.getKeyInfo(n);if(!p)throw new Error("Null key info");return yield this.interactionService.waitApproveV2(e,"/sign-starknet-tx","request-sign-starknet-tx",{origin:t,vaultId:n,chainId:o,signer:u.hexAddress,pubKey:u.pubKey,transactions:a,details:d,noChangeTx:c,keyType:p.type,keyInsensitive:p.insensitive},(e=>r(this,void 0,void 0,(function*(){const{transactions:t,details:r,signature:a}=e;if(null!=a)return{transactions:t,details:r,signature:a};const d=s.transaction.getExecuteCalldata(t,r.cairoVersion);let c;if(Object.values(l).includes(r.version)){const e=r;c=s.hash.calculateInvokeTransactionHash(Object.assign(Object.assign({},e),{senderAddress:e.walletAddress,compiledCalldata:d,version:e.version}))}else{if(!Object.values(h).includes(r.version))throw Error("unsupported signTransaction version");{const e=r;c=s.hash.calculateInvokeTransactionHash(Object.assign(Object.assign({},e),{senderAddress:e.walletAddress,compiledCalldata:d,version:e.version,nonceDataAvailabilityMode:g(e.nonceDataAvailabilityMode),feeDataAvailabilityMode:g(e.feeDataAvailabilityMode)}))}}c=c.replace("0x","");const u=64-c.length;if(u>0)c="0".repeat(u)+c;else if(u<0)throw new Error("Invalid length of msg hash");const p=yield this.keyRingService.sign(o,n,i.Buffer.from(c,"hex"),"noop");return{transactions:t,details:r,signature:this.formatEthSignature(p)}}))))}))}signStarknetDeployAccountTransactionSelected(e,t,n,i){return r(this,void 0,void 0,(function*(){return yield this.signStarknetDeployAccountTransaction(e,t,this.keyRingService.selectedVaultId,n,i)}))}signStarknetDeployAccountTransaction(e,t,n,o,a){return r(this,void 0,void 0,(function*(){if(!e.isInternalMsg)throw new Error("This function is not yet allowed for the external message");const t=s.CallData.compile(a.constructorCalldata);let r;if(Object.values(l).includes(a.version)){const e=a;r=s.hash.calculateDeployAccountTransactionHash(Object.assign(Object.assign({},e),{salt:e.addressSalt,constructorCalldata:t,version:e.version}))}else{if(!Object.values(h).includes(a.version))throw Error("unsupported signDeployAccountTransaction version");{const e=a;r=s.hash.calculateDeployAccountTransactionHash(Object.assign(Object.assign({},e),{salt:e.addressSalt,compiledConstructorCalldata:t,version:e.version,nonceDataAvailabilityMode:g(e.nonceDataAvailabilityMode),feeDataAvailabilityMode:g(e.feeDataAvailabilityMode)}))}}r=r.replace("0x","");const d=64-r.length;if(d>0)r="0".repeat(d)+r;else if(d<0)throw new Error("Invalid length of msg hash");const c=yield this.keyRingService.sign(o,n,i.Buffer.from(r,"hex"),"noop");return{transaction:a,signature:this.formatEthSignature(c)}}))}signStarknetDeclareTransactionSelected(e,t,n,i){return r(this,void 0,void 0,(function*(){return yield this.signStarknetDeclareTransactionn(e,t,this.keyRingService.selectedVaultId,n,i)}))}signStarknetDeclareTransactionn(e,t,n,o,a){return r(this,void 0,void 0,(function*(){if(!e.isInternalMsg)throw new Error("This function is not yet allowed for the external message");let t;if(Object.values(l).includes(a.version)){const e=a;t=s.hash.calculateDeclareTransactionHash(Object.assign(Object.assign({},e),{version:e.version}))}else{if(!Object.values(h).includes(a.version))throw Error("unsupported signDeclareTransaction version");{const e=a;t=s.hash.calculateDeclareTransactionHash(Object.assign(Object.assign({},e),{version:e.version,nonceDataAvailabilityMode:g(e.nonceDataAvailabilityMode),feeDataAvailabilityMode:g(e.feeDataAvailabilityMode)}))}}t=t.replace("0x","");const r=64-t.length;if(r>0)t="0".repeat(r)+t;else if(r<0)throw new Error("Invalid length of msg hash");const d=yield this.keyRingService.sign(o,n,i.Buffer.from(t,"hex"),"noop");return this.formatEthSignature(d)}))}formatEthSignature(e){if(null==e.v)throw new Error("Invalid signature");const t=new s.CairoUint256("0x"+i.Buffer.from(e.r).toString("hex")).toUint256HexString(),n=new s.CairoUint256("0x"+i.Buffer.from(e.s).toString("hex")).toUint256HexString();return[t.low,t.high,n.low,n.high,"0x"+e.v.toString(16)]}};class u extends s.SignerInterface{constructor(e,t,n,r,i,o){super(),this.env=e,this.origin=t,this.ProviderInterface=n,this.keyRingService=r,this.permissionService=i,this.service=o}getChainId(){const e=this.permissionService.getCurrentChainIdForStarknet(this.origin);if(!e)throw new Error("Chain id is not set");return e}getPubKey(){return r(this,void 0,void 0,(function*(){return"0x"+i.Buffer.from((yield this.service.getStarknetKeySelected(this.getChainId())).pubKey).toString("hex")}))}signDeclareTransaction(e){return r(this,void 0,void 0,(function*(){return yield this.service.signStarknetDeclareTransactionSelected(this.env,this.origin,this.getChainId(),e)}))}signDeployAccountTransaction(e){return r(this,void 0,void 0,(function*(){return(yield this.service.signStarknetDeployAccountTransactionSelected(this.env,this.origin,this.getChainId(),e)).signature}))}signMessage(e,t){return r(this,void 0,void 0,(function*(){return yield this.service.signStarknetMessageSelected(this.env,this.origin,this.getChainId(),t,e)}))}signTransaction(e,t){return r(this,void 0,void 0,(function*(){return(yield this.service.signStarknetTransactionSelected(this.env,this.origin,this.getChainId(),e,t,!0)).signature}))}}const l={V1:"0x1",F1:"0x100000000000000000000000000000001"},h={V3:"0x3",F3:"0x100000000000000000000000000000003"},p={L1:"L1",L2:"L2"},f={L1:0,L2:1};function g(e){if(e===p.L1)return f.L1;if(e===p.L2)return f.L2;throw Error("EDAM conversion")}},46513:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ROUTE=void 0,t.ROUTE="keyring-v2"},68389:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getHandler=void 0;const i=n(47722),o=n(50485);t.getHandler=e=>(t,n)=>{switch(n.constructor){case o.GetIsLockedMsg:return s(e)(t,n);case o.GetKeyRingStatusMsg:return a(e)(t,n);case o.GetKeyRingStatusOnlyMsg:return d(e)(t,n);case o.SelectKeyRingMsg:return c(e)(t,n);case o.LockKeyRingMsg:return u(e)(t,n);case o.UnlockKeyRingMsg:return l(e)(t,n);case o.FinalizeKeyCoinTypeMsg:return h(e)(t,n);case o.NewMnemonicKeyMsg:return p(e)(t,n);case o.NewLedgerKeyMsg:return f(e)(t,n);case o.NewKeystoneKeyMsg:return g(e)(t,n);case o.NewPrivateKeyKeyMsg:return v(e)(t,n);case o.AppendLedgerKeyAppMsg:return m(e)(t,n);case o.ChangeKeyRingNameMsg:return y(e)(t,n);case o.DeleteKeyRingMsg:return b(e)(t,n);case o.ShowSensitiveKeyRingDataMsg:return S(e)(t,n);case o.ChangeUserPasswordMsg:return w(e)(t,n);case o.ChangeKeyRingNameInteractiveMsg:return I(e)(t,n);case o.ExportKeyRingDataMsg:return k(e)(t,n);case o.CheckLegacyKeyRingPasswordMsg:return O(e)(t,n);case o.GetLegacyKeyRingInfosMsg:return R(e)(t,n);case o.ShowSensitiveLegacyKeyRingDataMsg:return A(e)(t,n);case o.CheckPasswordMsg:return P(e)(t,n);case o.ExportKeyRingVaultsMsg:return E(e)(t,n);case o.SearchKeyRingsMsg:return T(e)(t,n);default:throw new i.KeplrError("keyring",221,"Unknown msg type")}};const s=e=>()=>"locked"===e.keyRingStatus,a=e=>()=>({status:e.keyRingStatus,keyInfos:e.getKeyInfos(),needMigration:e.needMigration,isMigrating:e.isMigrating}),d=e=>()=>({status:e.keyRingStatus}),c=e=>(t,n)=>(e.selectKeyRing(n.vaultId),{status:e.keyRingStatus,keyInfos:e.getKeyInfos()}),u=e=>()=>(e.lockKeyRing(),{status:e.keyRingStatus}),l=e=>(t,n)=>r(void 0,void 0,void 0,(function*(){return yield e.unlockKeyRing(n.password),{status:e.keyRingStatus,keyInfos:e.getKeyInfos()}})),h=e=>(t,n)=>(e.finalizeKeyCoinType(n.id,n.chainId,n.coinType),{status:e.keyRingStatus,keyInfos:e.getKeyInfos()}),p=e=>(t,n)=>r(void 0,void 0,void 0,(function*(){return{vaultId:yield e.createMnemonicKeyRing(n.mnemonic,n.bip44HDPath,n.name,n.password,n.meta),status:e.keyRingStatus,keyInfos:e.getKeyInfos()}})),f=e=>(t,n)=>r(void 0,void 0,void 0,(function*(){return{vaultId:yield e.createLedgerKeyRing(n.pubKey,n.app,n.bip44HDPath,n.name,n.password),status:e.keyRingStatus,keyInfos:e.getKeyInfos()}})),g=e=>(t,n)=>r(void 0,void 0,void 0,(function*(){return{vaultId:yield e.createKeystoneKeyRing(n.multiAccounts,n.name,n.password),status:e.keyRingStatus,keyInfos:e.getKeyInfos()}})),v=e=>(t,n)=>r(void 0,void 0,void 0,(function*(){return{vaultId:yield e.createPrivateKeyKeyRing(n.privateKey,n.meta,n.name,n.password),status:e.keyRingStatus,keyInfos:e.getKeyInfos()}})),m=e=>(t,n)=>(e.appendLedgerKeyRing(n.vaultId,n.pubKey,n.app),{status:e.keyRingStatus,keyInfos:e.getKeyInfos()}),y=e=>(t,n)=>(e.changeKeyRingName(n.vaultId,n.name),{status:e.keyRingStatus,keyInfos:e.getKeyInfos()}),b=e=>(t,n)=>r(void 0,void 0,void 0,(function*(){return{wasSelected:yield e.deleteKeyRing(n.vaultId,n.password),status:e.keyRingStatus,keyInfos:e.getKeyInfos()}})),S=e=>(t,n)=>r(void 0,void 0,void 0,(function*(){return yield e.showSensitiveKeyRingData(n.vaultId,n.password)})),w=e=>(t,n)=>r(void 0,void 0,void 0,(function*(){return yield e.changeUserPassword(n.prevUserPassword,n.newUserPassword)})),I=e=>(t,n)=>r(void 0,void 0,void 0,(function*(){return yield e.ensureUnlockInteractive(t),yield e.changeKeyRingNameInteractive(t,e.selectedVaultId,n.defaultName,n.editable)})),k=e=>(t,n)=>r(void 0,void 0,void 0,(function*(){return yield e.exportKeyRingData(n.password)})),O=e=>(t,n)=>r(void 0,void 0,void 0,(function*(){return yield e.checkLegacyKeyRingPassword(n.password)})),R=e=>()=>r(void 0,void 0,void 0,(function*(){return yield e.getLegacyKeyringInfos()})),A=e=>(t,n)=>r(void 0,void 0,void 0,(function*(){return yield e.showSensitiveLegacyKeyringData(n.index,n.password)})),P=e=>(t,n)=>r(void 0,void 0,void 0,(function*(){return yield e.checkUserPassword(n.password)})),E=e=>(t,n)=>r(void 0,void 0,void 0,(function*(){return yield e.exportKeyRingVaults(n.password)})),T=e=>(t,n)=>e.searchKeyRings(n.searchText)},31214:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.KeyRingLegacy=void 0,o(n(81426),t),o(n(50485),t),o(n(27834),t),t.KeyRingLegacy=s(n(25706))},14011:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;const r=n(50485),i=n(46513),o=n(68389);t.init=function(e,t){e.registerMessage(r.GetIsLockedMsg),e.registerMessage(r.GetKeyRingStatusMsg),e.registerMessage(r.GetKeyRingStatusOnlyMsg),e.registerMessage(r.SelectKeyRingMsg),e.registerMessage(r.FinalizeKeyCoinTypeMsg),e.registerMessage(r.NewMnemonicKeyMsg),e.registerMessage(r.NewLedgerKeyMsg),e.registerMessage(r.NewKeystoneKeyMsg),e.registerMessage(r.NewPrivateKeyKeyMsg),e.registerMessage(r.AppendLedgerKeyAppMsg),e.registerMessage(r.LockKeyRingMsg),e.registerMessage(r.UnlockKeyRingMsg),e.registerMessage(r.ChangeKeyRingNameMsg),e.registerMessage(r.DeleteKeyRingMsg),e.registerMessage(r.ShowSensitiveKeyRingDataMsg),e.registerMessage(r.ChangeUserPasswordMsg),e.registerMessage(r.ChangeKeyRingNameInteractiveMsg),e.registerMessage(r.ExportKeyRingDataMsg),e.registerMessage(r.CheckLegacyKeyRingPasswordMsg),e.registerMessage(r.CheckPasswordMsg),e.registerMessage(r.GetLegacyKeyRingInfosMsg),e.registerMessage(r.ShowSensitiveLegacyKeyRingDataMsg),e.registerMessage(r.ExportKeyRingVaultsMsg),e.registerMessage(r.SearchKeyRingsMsg),e.addHandler(i.ROUTE,(0,o.getHandler)(t))}},31917:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(27834),t),i(n(14011),t)},28668:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Crypto=void 0;const d=o(n(8202)),c=n(34298),u=a(n(30499)),l=n(48834);t.Crypto=class{static encrypt(e,t,n,r,i,o,a){return s(this,void 0,void 0,(function*(){let h=new Uint8Array(32);crypto.getRandomValues(h);const p=l.Buffer.from(h).toString("hex"),f={salt:p,dklen:32,n:131072,r:8,p:1},g=yield(()=>s(this,void 0,void 0,(function*(){switch(t){case"scrypt":return yield e.scrypt(i,f);case"sha256":return c.Hash.sha256(l.Buffer.from(`${p}/${i}`));case"pbkdf2":return new Promise(((e,t)=>{u.default.pbkdf2(i,p,4e3,32,"sha256",((n,r)=>{n?t(n):e(new Uint8Array(r))}))}));default:throw new Error("Unknown kdf")}})))(),v=l.Buffer.from(r);h=new Uint8Array(16),crypto.getRandomValues(h);const m=l.Buffer.from(h),y=new d.Counter(0);y.setBytes(m);const b=new d.default.ModeOfOperation.ctr(g,y),S=l.Buffer.from(b.encrypt(v)),w=c.Hash.sha256(l.Buffer.concat([l.Buffer.from(g.slice(g.length/2)),S]));return{version:"1.2",type:n,coinTypeForChain:{},bip44HDPath:a,meta:o,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:m.toString("hex")},ciphertext:S.toString("hex"),kdf:t,kdfparams:f,mac:l.Buffer.from(w).toString("hex")}}}))}static decrypt(e,t,n){return s(this,void 0,void 0,(function*(){const r=yield(()=>s(this,void 0,void 0,(function*(){switch(t.crypto.kdf){case"scrypt":return yield e.scrypt(n,t.crypto.kdfparams);case"sha256":return c.Hash.sha256(l.Buffer.from(`${t.crypto.kdfparams.salt}/${n}`));case"pbkdf2":return new Promise(((e,r)=>{u.default.pbkdf2(n,t.crypto.kdfparams.salt,4e3,32,"sha256",((t,n)=>{t?r(t):e(new Uint8Array(n))}))}));default:throw new Error("Unknown kdf")}})))(),i=new d.Counter(0);i.setBytes(l.Buffer.from(t.crypto.cipherparams.iv,"hex"));const o=new d.default.ModeOfOperation.ctr(r,i),a=c.Hash.sha256(l.Buffer.concat([l.Buffer.from(r.slice(r.length/2)),l.Buffer.from(t.crypto.ciphertext,"hex")]));if(!l.Buffer.from(a).equals(l.Buffer.from(t.crypto.mac,"hex")))throw new Error("Unmatched mac");return l.Buffer.from(o.decrypt(l.Buffer.from(t.crypto.ciphertext,"hex")))}))}}},25706:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(28668),t),i(n(95129),t)},95129:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},50485:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SearchKeyRingsMsg=t.CheckPasswordMsg=t.ShowSensitiveLegacyKeyRingDataMsg=t.GetLegacyKeyRingInfosMsg=t.CheckLegacyKeyRingPasswordMsg=t.ExportKeyRingDataMsg=t.ExportKeyRingVaultsMsg=t.ChangeUserPasswordMsg=t.ShowSensitiveKeyRingDataMsg=t.DeleteKeyRingMsg=t.ChangeKeyRingNameInteractiveMsg=t.ChangeKeyRingNameMsg=t.UnlockKeyRingMsg=t.LockKeyRingMsg=t.AppendLedgerKeyAppMsg=t.NewPrivateKeyKeyMsg=t.NewKeystoneKeyMsg=t.NewLedgerKeyMsg=t.NewMnemonicKeyMsg=t.FinalizeKeyCoinTypeMsg=t.SelectKeyRingMsg=t.GetKeyRingStatusOnlyMsg=t.GetKeyRingStatusMsg=t.GetIsLockedMsg=void 0;const r=n(47722),i=n(36832),o=n(46513);class s extends r.Message{static type(){return"GetIsLockedMsg"}constructor(){super()}validateBasic(){}approveExternal(){return!0}route(){return o.ROUTE}type(){return s.type()}}t.GetIsLockedMsg=s;class a extends r.Message{static type(){return"get-keyring-status"}constructor(){super()}validateBasic(){}route(){return o.ROUTE}type(){return a.type()}}t.GetKeyRingStatusMsg=a;class d extends r.Message{static type(){return"get-keyring-status-only"}constructor(){super()}validateBasic(){}route(){return o.ROUTE}type(){return d.type()}}t.GetKeyRingStatusOnlyMsg=d;class c extends r.Message{static type(){return"select-keyring"}constructor(e){super(),this.vaultId=e}validateBasic(){if(!this.vaultId)throw new Error("Vault id not set")}route(){return o.ROUTE}type(){return c.type()}}t.SelectKeyRingMsg=c;class u extends r.Message{static type(){return"finalize-key-coin-type"}constructor(e,t,n){super(),this.id=e,this.chainId=t,this.coinType=n}validateBasic(){if(!this.id)throw new Error("id not set");if(!this.chainId)throw new Error("chainId not set")}route(){return o.ROUTE}type(){return u.type()}}t.FinalizeKeyCoinTypeMsg=u;class l extends r.Message{static type(){return"new-mnemonic-key"}constructor(e,t,n,r,i){super(),this.mnemonic=e,this.bip44HDPath=t,this.name=n,this.password=r,this.meta=i}validateBasic(){if(!this.mnemonic)throw new Error("mnemonic not set");if(!this.name)throw new Error("name not set");try{i.mnemonicToEntropy(this.mnemonic)}catch(e){if("Invalid mnemonic checksum"!==e.message)throw e}}route(){return o.ROUTE}type(){return l.type()}}t.NewMnemonicKeyMsg=l;class h extends r.Message{static type(){return"new-ledger-key"}constructor(e,t,n,r,i){super(),this.pubKey=e,this.app=t,this.bip44HDPath=n,this.name=r,this.password=i}validateBasic(){if(!this.pubKey||0===this.pubKey.length)throw new Error("pub key not set");if(!this.app)throw new Error("app not set");if(!this.name)throw new Error("name not set")}route(){return o.ROUTE}type(){return h.type()}}t.NewLedgerKeyMsg=h;class p extends r.Message{static type(){return"new-keystone-key"}constructor(e,t,n){super(),this.multiAccounts=e,this.name=t,this.password=n}validateBasic(){if(!this.multiAccounts||0===this.multiAccounts.keys.length)throw new Error("pub key not set");if(!this.multiAccounts.masterFingerprint)throw new Error("masterFingerprint not set");if(!this.name)throw new Error("name not set")}route(){return o.ROUTE}type(){return p.type()}}t.NewKeystoneKeyMsg=p;class f extends r.Message{static type(){return"new-private-key-key"}constructor(e,t,n,r){super(),this.privateKey=e,this.meta=t,this.name=n,this.password=r}validateBasic(){if(!this.privateKey||0===this.privateKey.length)throw new Error("priv key not set");if(!this.meta)throw new Error("meta not set");if(!this.name)throw new Error("name not set")}route(){return o.ROUTE}type(){return f.type()}}t.NewPrivateKeyKeyMsg=f;class g extends r.Message{static type(){return"append-ledger-key-app"}constructor(e,t,n){super(),this.vaultId=e,this.pubKey=t,this.app=n}validateBasic(){if(!this.pubKey||0===this.pubKey.length)throw new Error("pub key not set");if(!this.app)throw new Error("app not set");if(!this.vaultId)throw new Error("vault id not set")}route(){return o.ROUTE}type(){return g.type()}}t.AppendLedgerKeyAppMsg=g;class v extends r.Message{static type(){return"lock-keyring"}constructor(){super()}validateBasic(){}route(){return o.ROUTE}type(){return v.type()}}t.LockKeyRingMsg=v;class m extends r.Message{static type(){return"unlock-keyring"}constructor(e){super(),this.password=e}validateBasic(){if(!this.password)throw new Error("password not set")}route(){return o.ROUTE}type(){return m.type()}}t.UnlockKeyRingMsg=m;class y extends r.Message{static type(){return"change-keyring-name"}constructor(e,t){super(),this.vaultId=e,this.name=t}validateBasic(){if(!this.vaultId)throw new Error("vaultId not set");if(!this.name)throw new Error("name not set")}route(){return o.ROUTE}type(){return y.type()}}t.ChangeKeyRingNameMsg=y;class b extends r.Message{static type(){return"change-keyring-name-interactive"}constructor(e,t){super(),this.defaultName=e,this.editable=t}validateBasic(){}approveExternal(){return!0}route(){return o.ROUTE}type(){return b.type()}}t.ChangeKeyRingNameInteractiveMsg=b;class S extends r.Message{static type(){return"v2/delete-keyring"}constructor(e,t){super(),this.vaultId=e,this.password=t}validateBasic(){if(!this.vaultId)throw new Error("vaultId not set");if(!this.password)throw new Error("password not set")}route(){return o.ROUTE}type(){return S.type()}}t.DeleteKeyRingMsg=S;class w extends r.Message{static type(){return"show-sensitive-keyring-data"}constructor(e,t){super(),this.vaultId=e,this.password=t}validateBasic(){if(!this.vaultId)throw new Error("vaultId not set");if(!this.password)throw new Error("password not set")}route(){return o.ROUTE}type(){return w.type()}}t.ShowSensitiveKeyRingDataMsg=w;class I extends r.Message{static type(){return"ChangeUserPasswordMsg"}constructor(e,t){super(),this.prevUserPassword=e,this.newUserPassword=t}validateBasic(){if(!this.prevUserPassword)throw new Error("prevUserPassword not set");if(!this.newUserPassword)throw new Error("newUserPassword not set")}route(){return o.ROUTE}type(){return I.type()}}t.ChangeUserPasswordMsg=I;class k extends r.Message{static type(){return"export-keyring-vaults"}constructor(e){super(),this.password=e}validateBasic(){if(!this.password)throw new Error("password not set")}route(){return o.ROUTE}type(){return k.type()}}t.ExportKeyRingVaultsMsg=k;class O extends r.Message{static type(){return"export-keyring-data"}constructor(e){super(),this.password=e}validateBasic(){if(!this.password)throw new Error("password not set")}route(){return o.ROUTE}type(){return O.type()}}t.ExportKeyRingDataMsg=O;class R extends r.Message{static type(){return"CheckLegacyKeyRingPassword"}constructor(e){super(),this.password=e}validateBasic(){if(!this.password)throw new Error("password not set")}route(){return o.ROUTE}type(){return R.type()}}t.CheckLegacyKeyRingPasswordMsg=R;class A extends r.Message{static type(){return"GetLegacyKeyRingInfos"}constructor(){super()}validateBasic(){}route(){return o.ROUTE}type(){return A.type()}}t.GetLegacyKeyRingInfosMsg=A;class P extends r.Message{static type(){return"ShowSensitiveLegacyKeyRingData"}constructor(e,t){super(),this.index=e,this.password=t}validateBasic(){if(!this.index)throw new Error("index not set");if(!this.password)throw new Error("password not set")}route(){return o.ROUTE}type(){return P.type()}}t.ShowSensitiveLegacyKeyRingDataMsg=P;class E extends r.Message{static type(){return"check-keyring-password"}constructor(e){super(),this.password=e}validateBasic(){if(!this.password)throw new Error("password not set")}route(){return o.ROUTE}type(){return E.type()}}t.CheckPasswordMsg=E;class T extends r.Message{static type(){return"search-keyrings"}constructor(e){super(),this.searchText=e}validateBasic(){if(null==this.searchText)throw new Error("searchText not set")}route(){return o.ROUTE}type(){return T.type()}}t.SearchKeyRingsMsg=T},27834:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.KeyRingService=void 0;const d=n(47722),c=n(34298),u=n(80075),l=n(94531),h=n(48834),p=s(n(25706)),f=n(94822);class g{constructor(e,t,n,r,i,o,s,a){this.kvStore=e,this.migrations=t,this.chainsService=n,this.chainsUIService=r,this.interactionService=i,this.vaultService=o,this.analyticsService=s,this.keyRings=a,this._needMigration=!1,this._isMigrating=!1,this._selectedVaultId=void 0,this.cacheKeySearchHexToBech32=new Map,(0,u.makeObservable)(this)}init(){return a(this,void 0,void 0,(function*(){if(!(yield this.kvStore.get("migration/v1"))){const e=yield this.migrations.kvStore.get("key-multi-store");e&&e.length>0&&(this._needMigration=!0)}const e=yield this.kvStore.get("selectedVaultId");e&&this.vaultService.getVault("keyRing",e)&&(0,u.runInAction)((()=>{this._selectedVaultId=e})),(0,u.autorun)((()=>{this._selectedVaultId?this.kvStore.set("selectedVaultId",this._selectedVaultId):this.kvStore.set("selectedVaultId",null)}));let t=!1;yield(0,f.runIfOnlyAppStart)("analytics/keyring-service",(()=>a(this,void 0,void 0,(function*(){t=!0}))));let n=!0;(0,u.autorun)((()=>{const e=this.getKeyRingVaults(),r={};for(const t of e){let e=t.insensitive.keyRingType;if("private-key"===e){const n=t.insensitive.keyRingMeta;n.web3Auth&&n.web3Auth.type&&(e="web3_auth_"+n.web3Auth.type)}e&&(e="keyring_"+e+"_num",r[e]||(r[e]=0),r[e]+=1)}!t&&n||this.analyticsService.logEvent("user_properties",Object.assign({keyring_num:e.length},r)),n=!1}))}))}lockKeyRing(){this.vaultService.lock()}ensureUnlockInteractive(e){return a(this,void 0,void 0,(function*(){this.vaultService.isLocked&&(yield this.interactionService.waitApproveV2(e,"/unlock","unlock",{},(()=>{})))}))}get needMigration(){return this._needMigration}get isMigrating(){return this._isMigrating}unlockKeyRing(e){return a(this,void 0,void 0,(function*(){this._needMigration?yield this.migrate(e):yield this.vaultService.unlock(e)}))}checkLegacyKeyRingPassword(e){return a(this,void 0,void 0,(function*(){if(!this._needMigration)throw new Error("Migration is not needed");const t=yield this.migrations.kvStore.get("key-multi-store");if(!t||0===t.length)throw new Error("No key store to migrate");yield p.Crypto.decrypt(this.migrations.commonCrypto,t[0],e)}))}getLegacyKeyringInfos(){return a(this,void 0,void 0,(function*(){return yield this.migrations.kvStore.get("key-multi-store")}))}showSensitiveLegacyKeyringData(e,t){return a(this,void 0,void 0,(function*(){const n=yield this.migrations.kvStore.get("key-multi-store");if(!n)throw new Error("No key store");const r=n.findIndex((t=>{var n;return(null===(n=t.meta)||void 0===n?void 0:n.__id__)===e}));if(r<0)throw new Error("Key not found");return h.Buffer.from(yield p.Crypto.decrypt(this.migrations.commonCrypto,n[r],t)).toString()}))}migrate(e){var t,n,r,i,o,s,d,c,u,f,v,m,y,b,S,w,I,k,O,R,A,P,E;return a(this,void 0,void 0,(function*(){if(!this._needMigration)throw new Error("Migration is not needed");if(this._isMigrating)throw new Error("Migration is already in progress");this.vaultService.isSignedUp&&this.vaultService.isLocked&&(yield this.vaultService.unlock(e)),this._isMigrating=!0;try{const a=yield this.migrations.kvStore.get("key-store"),T=yield this.migrations.kvStore.get("key-multi-store");let _;if(!T||0===T.length)throw new Error("No key store to migrate");const C=new Map;for(const e of yield this.migrations.getDisabledChainIdentifiers()){if(!this.chainsService.hasChainInfo(e))continue;const t=l.ChainIdHelper.parse(e).identifier;C.set(t,!0)}const M=e=>0!==C.size&&!0===C.get(l.ChainIdHelper.parse(e).identifier);for(const C of T){const T=null===(t=C.meta)||void 0===t?void 0:t.__id__;if(!T||!(yield this.kvStore.get("migration/v1/keyStore/"+T))){if("mnemonic"===C.type){const t=h.Buffer.from(yield p.Crypto.decrypt(this.migrations.commonCrypto,C,e)).toString(),c=yield this.createMnemonicKeyRing(t,null!==(n=C.bip44HDPath)&&void 0!==n?n:{account:0,change:0,addressIndex:0},null!==(i=null===(r=C.meta)||void 0===r?void 0:r.name)&&void 0!==i?i:"Keplr Account",e);if(C.coinTypeForChain)for(const e of this.chainsService.getChainInfos()){const t=C.coinTypeForChain[l.ChainIdHelper.parse(e.chainId).identifier];if(null!=t&&this.needKeyCoinTypeFinalize(c,e.chainId))if(e.bip44.coinType===t||(null!==(o=e.alternativeBIP44s)&&void 0!==o?o:[]).find((e=>e.coinType===t)))this.finalizeKeyCoinType(c,e.chainId,t);else{const n=(yield this.kvStore.get("__migrate_skip_coin_type"))||[];n.push({chainId:e.chainId,coinType:t}),yield this.kvStore.set("__migrate_skip_coin_type",n)}}for(const e of this.chainsService.getChainInfos())M(e.chainId)||this.needKeyCoinTypeFinalize(c,e.chainId)||this.migrations.chainsUIService.enableChain(c,e.chainId);(null===(s=C.meta)||void 0===s?void 0:s.__id__)===(null===(d=null==a?void 0:a.meta)||void 0===d?void 0:d.__id__)&&(_=c)}else if("privateKey"===C.type){const t=h.Buffer.from(h.Buffer.from(yield p.Crypto.decrypt(this.migrations.commonCrypto,C,e)).toString(),"hex"),n={};if(null===(c=C.meta)||void 0===c?void 0:c.email){const e=C.meta.socialType||"google";n.web3Auth={email:C.meta.email,type:e}}const r=yield this.createPrivateKeyKeyRing(t,n,null!==(f=null===(u=C.meta)||void 0===u?void 0:u.name)&&void 0!==f?f:"Keplr Account",e);for(const e of this.chainsService.getChainInfos())M(e.chainId)||this.migrations.chainsUIService.enableChain(r,e.chainId);(null===(v=C.meta)||void 0===v?void 0:v.__id__)===(null===(m=null==a?void 0:a.meta)||void 0===m?void 0:m.__id__)&&(_=r)}else if("ledger"===C.type){const t=yield p.Crypto.decrypt(this.migrations.commonCrypto,C,e);let n=!1;try{n=h.Buffer.from(h.Buffer.from(t).toString(),"hex").toString("hex").toLowerCase()!==h.Buffer.from(t).toString().toLowerCase()}catch(e){n=!0}if(n){const n=JSON.parse(h.Buffer.from(t).toString());if(n.cosmos){const t=h.Buffer.from(n.cosmos,"hex"),r=yield this.createLedgerKeyRing(t,"Terra"===(null===(y=C.meta)||void 0===y?void 0:y.__ledger__cosmos_app_like__)?"Terra":"Cosmos",null!==(b=C.bip44HDPath)&&void 0!==b?b:{account:0,change:0,addressIndex:0},null!==(w=null===(S=C.meta)||void 0===S?void 0:S.name)&&void 0!==w?w:"Keplr Account",e);let i=!1;if(n.ethereum){const e=h.Buffer.from(n.ethereum,"hex");this.appendLedgerKeyRing(r,e,"Ethereum"),i=!0}for(const e of this.chainsService.getChainInfos())M(e.chainId)||g.isEthermintLike(e)&&!i||this.migrations.chainsUIService.enableChain(r,e.chainId);(null===(I=C.meta)||void 0===I?void 0:I.__id__)===(null===(k=null==a?void 0:a.meta)||void 0===k?void 0:k.__id__)&&(_=r)}}else{const n=h.Buffer.from(h.Buffer.from(t).toString(),"hex"),r=yield this.createLedgerKeyRing(n,"Cosmos",null!==(O=C.bip44HDPath)&&void 0!==O?O:{account:0,change:0,addressIndex:0},null!==(A=null===(R=C.meta)||void 0===R?void 0:R.name)&&void 0!==A?A:"Keplr Account",e);for(const e of this.chainsService.getChainInfos())M(e.chainId)||g.isEthermintLike(e)||this.migrations.chainsUIService.enableChain(r,e.chainId);(null===(P=C.meta)||void 0===P?void 0:P.__id__)===(null===(E=null==a?void 0:a.meta)||void 0===E?void 0:E.__id__)&&(_=r)}}else console.log("Unknown key store type",C.type);T&&(yield this.kvStore.set("migration/v1/keyStore/"+T,!0))}}_&&this.vaultService.getVault("keyRing",_)&&this.selectKeyRing(_),yield this.kvStore.set("migration/v1",!0),this._needMigration=!1}finally{this._isMigrating=!1}}))}selectKeyRing(e){if(this.vaultService.isLocked)throw new Error("KeyRing is locked");if(!this.vaultService.getVault("keyRing",e))throw new Error("Unknown vault");this._selectedVaultId=e,this.interactionService.dispatchEvent(d.WEBPAGE_PORT,"keystore-changed",{})}get keyRingStatus(){return this._needMigration?"locked":this.vaultService.isSignedUp&&0!==this.vaultService.getVaults("keyRing").length?this.vaultService.isLocked?"locked":"unlocked":"empty"}getKeyRingVaults(){return this.vaultService.getVaults("keyRing")}getKeyInfos(){return this.getKeyRingVaults().map((e=>({id:e.id,name:e.insensitive.keyRingName,type:e.insensitive.keyRingType,isSelected:this._selectedVaultId===e.id,insensitive:e.insensitive})))}getKeyInfo(e){return this.getKeyInfos().find((t=>t.id===e))}get selectedVaultId(){if(this._selectedVaultId&&this.vaultService.getVault("keyRing",this._selectedVaultId))return this._selectedVaultId;const e=this.vaultService.getVaults("keyRing");if(0===e.length)throw new Error("Key ring is empty");return e[0].id}finalizeKeyCoinType(e,t,n){var r;if(this.vaultService.isLocked)throw new Error("KeyRing is locked");const i=this.chainsService.getModularChainInfoOrThrow(t);if("cosmos"in i){const e=i.cosmos;if(e.bip44.coinType!==n&&!(null!==(r=e.alternativeBIP44s)&&void 0!==r?r:[]).find((e=>e.coinType===n)))throw new Error("Coin type is not associated to chain")}if("starknet"in i&&9004!==n)throw new Error("Coin type is not associated to chain");const o=this.vaultService.getVault("keyRing",e);if(!o)throw new Error("Vault is null");if("mnemonic"!==o.insensitive.keyRingType&&"keystone"!==o.insensitive.keyRingType)throw new Error("Key is not needed to be finalized");const s=`keyRing-${l.ChainIdHelper.parse(t).identifier}-coinType`;if(o.insensitive[s])throw new Error("Coin type is already finalized");this.vaultService.setAndMergeInsensitiveToVault("keyRing",e,{[s]:n})}needKeyCoinTypeFinalize(e,t){if(this.vaultService.isLocked)throw new Error("KeyRing is locked");const n=this.vaultService.getVault("keyRing",e);if(!n)throw new Error("Vault is null");if("mnemonic"!==n.insensitive.keyRingType&&"keystone"!==n.insensitive.keyRingType)return!1;const r=`keyRing-${l.ChainIdHelper.parse(t).identifier}-coinType`;return!n.insensitive[r]}createMnemonicKeyRing(e,t,n,r,i){return a(this,void 0,void 0,(function*(){if(!this.vaultService.isSignedUp){if(!r)throw new Error("Must provide password to sign in to vault");yield this.vaultService.signUp(r)}g.validateBIP44Path(t);const o=this.getKeyRing("mnemonic"),s=yield o.createKeyRingVault(e,t),a={},c=this.chainsService.getChainInfos();for(const e of c)e.alternativeBIP44s&&0!==e.alternativeBIP44s.length||(a[`keyRing-${l.ChainIdHelper.parse(e.chainId).identifier}-coinType`]=e.bip44.coinType);const h=this.vaultService.addVault("keyRing",Object.assign(Object.assign(Object.assign({},s.insensitive),a),{keyRingName:n,keyRingType:o.supportedKeyRingType(),keyRingMeta:i}),s.sensitive);return(0,u.runInAction)((()=>{this._selectedVaultId=h})),this.interactionService.dispatchEvent(d.WEBPAGE_PORT,"keystore-changed",{}),h}))}createLedgerKeyRing(e,t,n,r,i){return a(this,void 0,void 0,(function*(){if(!this.vaultService.isSignedUp){if(!i)throw new Error("Must provide password to sign in to vault");yield this.vaultService.signUp(i)}g.validateBIP44Path(n);const o=this.getKeyRing("ledger"),s=yield o.createKeyRingVault(e,t,n),a=this.vaultService.addVault("keyRing",Object.assign(Object.assign({},s.insensitive),{keyRingName:r,keyRingType:o.supportedKeyRingType()}),s.sensitive);return(0,u.runInAction)((()=>{this._selectedVaultId=a})),this.interactionService.dispatchEvent(d.WEBPAGE_PORT,"keystore-changed",{}),a}))}createKeystoneKeyRing(e,t,n){return a(this,void 0,void 0,(function*(){if(!this.vaultService.isSignedUp){if(!n)throw new Error("Must provide password to sign in to vault");yield this.vaultService.signUp(n)}e.keys.forEach((e=>{const t=g.parseBIP44Path(e.path);g.validateBIP44Path(t.path)}));const r=this.getKeyRing("keystone"),i=yield r.createKeyRingVault(e),o={},s=this.chainsService.getChainInfos();for(const e of s)e.alternativeBIP44s&&0!==e.alternativeBIP44s.length||(o[`keyRing-${l.ChainIdHelper.parse(e.chainId).identifier}-coinType`]=e.bip44.coinType);const a=this.vaultService.addVault("keyRing",Object.assign(Object.assign(Object.assign({},i.insensitive),o),{keyRingName:t,keyRingType:r.supportedKeyRingType()}),i.sensitive);return(0,u.runInAction)((()=>{this._selectedVaultId=a})),this.interactionService.dispatchEvent(d.WEBPAGE_PORT,"keystore-changed",{}),a}))}createPrivateKeyKeyRing(e,t,n,r){return a(this,void 0,void 0,(function*(){if(!this.vaultService.isSignedUp){if(!r)throw new Error("Must provide password to sign in to vault");yield this.vaultService.signUp(r)}const i=this.getKeyRing("private-key"),o=yield i.createKeyRingVault(e),s=this.vaultService.addVault("keyRing",Object.assign(Object.assign({},o.insensitive),{keyRingName:n,keyRingType:i.supportedKeyRingType(),keyRingMeta:t}),o.sensitive);return(0,u.runInAction)((()=>{this._selectedVaultId=s})),this.interactionService.dispatchEvent(d.WEBPAGE_PORT,"keystore-changed",{}),s}))}appendLedgerKeyRing(e,t,n){const r=this.vaultService.getVault("keyRing",e);if(!r)throw new Error("Vault is null");if("ledger"!==r.insensitive.keyRingType)throw new Error("Key is not from ledger");if(r.insensitive[n])throw new Error("App is already appended");this.vaultService.setAndMergeInsensitiveToVault("keyRing",e,{[n]:{pubKey:h.Buffer.from(t).toString("hex")}})}getPubKeySelected(e){return this.getPubKey(e,this.selectedVaultId)}getKeyRingNameSelected(){return this.getKeyRingName(this.selectedVaultId)}getKeyRingName(e){const t=this.vaultService.getVault("keyRing",e);if(!t)throw new Error("Vault is null");return t.insensitive.keyRingName||"Keplr Account"}changeKeyRingName(e,t){if(this.vaultService.isLocked)throw new Error("KeyRing is locked");const n=this.vaultService.getVault("keyRing",e);if(!n)throw new Error("Vault is null");this.vaultService.setAndMergeInsensitiveToVault("keyRing",e,{keyRingName:t}),this.selectedVaultId===n.id&&this.interactionService.dispatchEvent(d.WEBPAGE_PORT,"keystore-changed",{})}changeKeyRingNameInteractive(e,t,n,r){return a(this,void 0,void 0,(function*(){if(this.vaultService.isLocked)throw new Error("KeyRing is locked");if(!this.vaultService.getVault("keyRing",t))throw new Error("Vault is null");return yield this.interactionService.waitApproveV2(e,`/wallet/change-name?id=${t}`,"change-keyring-name",{defaultName:n,editable:r},(e=>(this.changeKeyRingName(t,e),e)))}))}deleteKeyRing(e,t){return a(this,void 0,void 0,(function*(){if(this.vaultService.isLocked)throw new Error("KeyRing is locked");if(!this.vaultService.getVault("keyRing",e))throw new Error("Vault is null");yield this.vaultService.checkUserPassword(t);const n=this.selectedVaultId===e;return this.vaultService.removeVault("keyRing",e),n&&(0,u.runInAction)((()=>{const e=this.getKeyInfos();e.length>0?this._selectedVaultId=e[0].id:this._selectedVaultId=void 0})),n&&this.interactionService.dispatchEvent(d.WEBPAGE_PORT,"keystore-changed",{}),0===this.getKeyRingVaults().length&&(yield this.vaultService.clearAll(t)),n}))}signSelected(e,t,n){return this.sign(e,this.selectedVaultId,t,n)}getPubKey(e,t){if(this.vaultService.isLocked)throw new Error("KeyRing is locked");const n=this.chainsService.getModularChainInfoOrThrow(e),r=this.vaultService.getVault("keyRing",t);if(!r)throw new Error("Vault is null");const i=`keyRing-${l.ChainIdHelper.parse(e).identifier}-coinType`,o=(()=>{if(r.insensitive[i])return r.insensitive[i];if("cosmos"in n)return n.cosmos.bip44.coinType;if("starknet"in n)return 9004;throw new Error("Can't determine default coin type")})();return this.getPubKeyWithVault(r,o,n)}getPubKeyStarknet(e,t){if(this.vaultService.isLocked)throw new Error("KeyRing is locked");const n=this.chainsService.getModularChainInfoOrThrow(e),r=this.vaultService.getVault("keyRing",t);if(!r)throw new Error("Vault is null");return this.getStarknetPubKeyWithVault(r,n)}getPubKeyWithNotFinalizedCoinType(e,t,n){var r;if(this.vaultService.isLocked)throw new Error("KeyRing is locked");const i=this.chainsService.getModularChainInfoOrThrow(e);if("cosmos"in i){if(i.cosmos.bip44.coinType!==n&&!(null!==(r=i.cosmos.alternativeBIP44s)&&void 0!==r?r:[]).find((e=>e.coinType===n)))throw new Error("Coin type is not associated to chain")}else{if(!("starknet"in i))throw new Error("Can't know that the coin type is associated to chain");if(9004!==n)throw new Error("Coin type is not associated to chain")}const o=this.vaultService.getVault("keyRing",t);if(!o)throw new Error("Vault is null");if("mnemonic"!==o.insensitive.keyRingType&&"keystone"!==o.insensitive.keyRingType)throw new Error("Key is not needed to be finalized");const s=`keyRing-${l.ChainIdHelper.parse(e).identifier}-coinType`;if(o.insensitive[s])throw new Error("Coin type is already finalized");return this.getPubKeyWithVault(o,n,i)}sign(e,t,n,r){if(this.vaultService.isLocked)throw new Error("KeyRing is locked");const i=this.chainsService.getModularChainInfoOrThrow(e),o=this.vaultService.getVault("keyRing",t);if(!o)throw new Error("Vault is null");const s=(()=>{if("cosmos"in i){const t=`keyRing-${l.ChainIdHelper.parse(e).identifier}-coinType`;return o.insensitive[t]?o.insensitive[t]:i.cosmos.bip44.coinType}if("starknet"in i)return 9004;throw new Error("Can't determine default coin type")})(),a=this.signWithVault(o,s,n,r,i);return this.needKeyCoinTypeFinalize(o.id,e)&&this.finalizeKeyCoinType(o.id,e,s),a}getStarknetPubKeyWithVault(e,t){if(this.vaultService.isLocked)throw new Error("KeyRing is locked");const n=this.getVaultKeyRing(e);if("function"!=typeof n.getPubKeyStarknet)throw new Error("This keyring doesn't support 'getPubKeyStarknet'");return Promise.resolve(n.getPubKeyStarknet(e,t))}getPubKeyWithVault(e,t,n){if(this.vaultService.isLocked)throw new Error("KeyRing is locked");const r=this.getVaultKeyRing(e);return Promise.resolve(r.getPubKey(e,t,n))}signWithVault(e,t,n,r,i){if(this.vaultService.isLocked)throw new Error("KeyRing is locked");const o=this.getVaultKeyRing(e);return Promise.resolve(o.sign(e,t,n,r,i))}showSensitiveKeyRingData(e,t){return a(this,void 0,void 0,(function*(){if(this.vaultService.isLocked)throw new Error("KeyRing is locked");const n=this.vaultService.getVault("keyRing",e);if(!n)throw new Error("Vault is null");switch(yield this.vaultService.checkUserPassword(t),n.insensitive.keyRingType){case"mnemonic":return this.vaultService.decrypt(n.sensitive).mnemonic;case"private-key":return this.vaultService.decrypt(n.sensitive).privateKey;default:throw new Error("Unsupported keyRing type to show sensitive data")}}))}checkUserPassword(e){return a(this,void 0,void 0,(function*(){try{yield this.vaultService.checkUserPassword(e)}catch(e){return!1}return!0}))}changeUserPassword(e,t){return a(this,void 0,void 0,(function*(){yield this.vaultService.changeUserPassword(e,t)}))}exportKeyRingVaults(e){return a(this,void 0,void 0,(function*(){yield this.vaultService.checkUserPassword(e);const t=[];for(const e of this.getKeyRingVaults()){if("mnemonic"===e.insensitive.keyRingType){const n=this.vaultService.decrypt(e.sensitive);t.push({type:"mnemonic",id:e.id,insensitive:e.insensitive,sensitive:n.mnemonic})}if("private-key"===e.insensitive.keyRingType){const n=this.vaultService.decrypt(e.sensitive);t.push({type:"private-key",id:e.id,insensitive:e.insensitive,sensitive:n.privateKey})}}return t}))}exportKeyRingData(e){var t;return a(this,void 0,void 0,(function*(){yield this.vaultService.checkUserPassword(e);const n=[];for(const r of this.getKeyInfos()){const i={__id__:r.id,name:r.name};switch(r.type){case"mnemonic":{const o=yield this.showSensitiveKeyRingData(r.id,e);n.push({bip44HDPath:null!==(t=r.insensitive.bip44Path)&&void 0!==t?t:{account:0,change:0,addressIndex:0},coinTypeForChain:(()=>{const e={};for(const t of this.chainsService.getChainInfos()){const n=l.ChainIdHelper.parse(t.chainId).identifier,i=`keyRing-${n}-coinType`;null!=r.insensitive[i]&&(e[n]=r.insensitive[i])}return e})(),key:o,meta:i,type:"mnemonic"});break}case"private-key":{if("object"==typeof r.insensitive&&r.insensitive.keyRingMeta&&"object"==typeof r.insensitive.keyRingMeta&&r.insensitive.keyRingMeta.web3Auth&&"object"==typeof r.insensitive.keyRingMeta.web3Auth){const e=r.insensitive.keyRingMeta.web3Auth;if("google"!==e.type&&"apple"!==e.type||!e.email)continue;i.socialType=e.type,i.email=e.email}const t=(yield this.showSensitiveKeyRingData(r.id,e)).replace("0x","");n.push({bip44HDPath:{account:0,change:0,addressIndex:0},coinTypeForChain:{},key:t,meta:i,type:"privateKey"});break}}}return n}))}getVaultKeyRing(e){for(const t of this.keyRings)if(e.insensitive.keyRingType===t.supportedKeyRingType())return t;throw new Error("Unsupported keyRing vault")}getKeyRing(e){for(const t of this.keyRings)if(e===t.supportedKeyRingType())return t;throw new Error(`Unsupported keyRing ${e}`)}searchKeyRings(e,t=!1){e=e.trim();const n=this.getKeyInfos();if(!e)return n;const r=n.filter((t=>t.name.toLowerCase().includes(e.toLowerCase())));let i=[],o=[];if(e.length>=8&&(()=>{if(e.startsWith("0x"))return!0;try{return h.Buffer.from(e,"hex").toString().toLowerCase()===e.toLowerCase()}catch(e){return!1}})()&&(o=n.filter((n=>{const r=this.chainsUIService.enabledModularChainInfosForVault(n.id).filter((e=>"cosmos"in e)).map((e=>{if(!("cosmos"in e))throw new Error("Unsupported chain");return e.cosmos}));let i=!1;for(const e of r)g.isEthermintLike(e)&&(i=!0);if(!i&&!t)return!1;for(const[t,i]of Object.entries(n.insensitive))for(const o of r)try{if(g.getAddressHexStringFromKeyInfo(o,n,t,i,!0).includes(e.replace("0x","").toLowerCase()))return!0}catch(e){}}))),e.length>=3&&!(()=>{if(e.startsWith("0x"))return!0;try{return h.Buffer.from(e,"hex").toString().toLowerCase()===e.toLowerCase()}catch(e){return!1}})()){let r=(()=>{var t;const n=e.indexOf("1");if(n<0)return[];const r=e.slice(0,n),i=[];for(const e of this.chainsService.getChainInfos())(null===(t=e.bech32Config)||void 0===t?void 0:t.bech32PrefixAccAddr)===r&&i.push(e);return i})();i=n.filter((n=>{t||(r=r.filter((e=>this.chainsUIService.isEnabled(n.id,e.chainId))));const i=(()=>t?this.chainsService.getChainInfos():r.length>0?r:(()=>this.chainsUIService.enabledModularChainInfosForVault(n.id).filter((e=>"cosmos"in e)).map((e=>{if(!("cosmos"in e))throw new Error("Unsupported chain");return e.cosmos})))())();for(const t of i)for(const[r,i]of Object.entries(n.insensitive))try{const o=g.isEthermintLike(t),s=g.getAddressHexStringFromKeyInfo(t,n,r,i,o);if(null==t.bech32Config)return!1;if(this.getKeySearchBech32FromHex(t.bech32Config.bech32PrefixAccAddr,s).includes(e.toLowerCase()))return!0}catch(e){}}))}const s=new Map;for(const e of r)s.set(e.id,!0);for(const e of i)s.set(e.id,!0);for(const e of o)s.set(e.id,!0);return n.filter((e=>s.get(e.id)))}getKeySearchBech32FromHex(e,t){const n=`${e}/${t}`,r=this.cacheKeySearchHexToBech32.get(n);if(r)return r;const i=new l.Bech32Address(h.Buffer.from(t,"hex")).toBech32(e);return this.cacheKeySearchHexToBech32.set(n,i),i}static getAddressHexStringFromKeyInfo(e,t,n,r,i){let o="";if("ledger"===t.type)r&&"object"==typeof r&&r.pubKey&&"string"==typeof r.pubKey&&(o=r.pubKey);else if("string"==typeof r&&"private-key"===t.type&&"publicKey"===n)o=r;else if("string"==typeof r&&"mnemonic"===t.type&&n.startsWith("pubKey-m/")){const i=(()=>{const n=`keyRing-${l.ChainIdHelper.parse(e.chainId).identifier}-coinType`;return t.insensitive[n]?t.insensitive[n]:e.bip44.coinType})(),s=t.insensitive.bip44Path;s&&n===`pubKey-m/44'/${i}'/${s.account}'/${s.change}/${s.addressIndex}`&&(o=r)}if(!o)throw new Error("no public key text");const s=new c.PubKeySecp256k1(h.Buffer.from(o.replace("0x",""),"hex")),a=i?s.getEthAddress():s.getCosmosAddress();return h.Buffer.from(a).toString("hex").toLowerCase()}static parseBIP44Path(e){const t=RegExp(/^m\/44'\/(\d+)'\/(\d+)'\/(\d+)\/(\d+)$/i).exec(e);if(!t)throw new Error("Invalid BIP44 hd path");return{coinType:+t[1],path:{account:+t[2],change:+t[3],addressIndex:+t[4]}}}static validateBIP44Path(e){if(!Number.isInteger(e.account)||e.account<0)throw new Error("Invalid account in hd path");if(!Number.isInteger(e.change)||0!==e.change&&1!==e.change)throw new Error("Invalid change in hd path");if(!Number.isInteger(e.addressIndex)||e.addressIndex<0)throw new Error("Invalid address index in hd path")}static isEthermintLike(e){var t,n;return 60===e.bip44.coinType||!!(null===(t=e.features)||void 0===t?void 0:t.includes("eth-address-gen"))||!!(null===(n=e.features)||void 0===n?void 0:n.includes("eth-key-sign"))}}o([u.observable],g.prototype,"_selectedVaultId",void 0),o([u.action],g.prototype,"selectKeyRing",null),o([u.action],g.prototype,"changeKeyRingName",null),t.KeyRingService=g},81426:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},50064:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ROUTE=void 0,t.ROUTE="permission-interactive"},91564:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getHandler=void 0;const i=n(40655);t.getHandler=e=>(t,n)=>{switch(n.constructor){case i.EnableAccessMsg:return o(e)(t,n);case i.EnableAccessForEVMMsg:return s(e)(t,n);case i.EnableAccessForStarknetMsg:return a(e)(t,n);case i.DisableAccessMsg:return d(e)(t,n);case i.IsEnabledAccessMsg:return c(e)(t,n)}};const o=e=>(t,n)=>r(void 0,void 0,void 0,(function*(){return yield e.ensureEnabled(t,n.chainIds,n.origin)})),s=e=>(t,n)=>r(void 0,void 0,void 0,(function*(){return yield e.ensureEnabledForEVM(t,n.origin)})),a=e=>(t,n)=>r(void 0,void 0,void 0,(function*(){return yield e.ensureEnabledForStarknet(t,n.origin)})),d=e=>(t,n)=>e.disable(n.chainIds,n.origin),c=e=>(t,n)=>e.isEnabled(t,n.chainIds,n.origin)},81222:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(67711),t),i(n(40655),t)},63773:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;const r=n(40655),i=n(50064),o=n(91564);t.init=function(e,t){e.registerMessage(r.EnableAccessMsg),e.registerMessage(r.EnableAccessForEVMMsg),e.registerMessage(r.EnableAccessForStarknetMsg),e.registerMessage(r.DisableAccessMsg),e.registerMessage(r.IsEnabledAccessMsg),e.addHandler(i.ROUTE,(0,o.getHandler)(t))}},43454:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(67711),t),i(n(63773),t)},40655:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IsEnabledAccessMsg=t.DisableAccessMsg=t.EnableAccessForStarknetMsg=t.EnableAccessForEVMMsg=t.EnableAccessMsg=void 0;const r=n(47722),i=n(50064);class o extends r.Message{static type(){return"enable-access"}constructor(e){super(),this.chainIds=e}validateBasic(){if(!this.chainIds||0===this.chainIds.length)throw new r.KeplrError("permission",100,"chain id not set")}route(){return i.ROUTE}approveExternal(){return!0}type(){return o.type()}}t.EnableAccessMsg=o;class s extends r.Message{static type(){return"enable-access-for-evm"}constructor(){super()}validateBasic(){}route(){return i.ROUTE}approveExternal(){return!0}type(){return s.type()}}t.EnableAccessForEVMMsg=s;class a extends r.Message{static type(){return"enable-access-for-starknet"}constructor(){super()}validateBasic(){}route(){return i.ROUTE}approveExternal(){return!0}type(){return a.type()}}t.EnableAccessForStarknetMsg=a;class d extends r.Message{static type(){return"disable-access"}constructor(e){super(),this.chainIds=e}validateBasic(){if(!this.chainIds)throw new r.KeplrError("permission",100,"chain id not set")}route(){return i.ROUTE}approveExternal(){return!0}type(){return d.type()}}t.DisableAccessMsg=d;class c extends r.Message{static type(){return"is-enabled-access"}constructor(e){super(),this.chainIds=e}validateBasic(){if(!this.chainIds||0===this.chainIds.length)throw new r.KeplrError("permission",100,"chain id not set")}route(){return i.ROUTE}approveExternal(){return!0}type(){return c.type()}}t.IsEnabledAccessMsg=c},67711:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.PermissionInteractiveService=void 0;const o=n(80075);class s{constructor(e,t,n,r){this.kvStore=e,this.permissionService=t,this.keyRingService=n,this.chainsService=r,this.lastOpenRegisterPageTimestamp=0,(0,o.makeObservable)(this)}init(){return i(this,void 0,void 0,(function*(){const e=yield this.kvStore.get("last_open_register_page_timestamp");e&&(0,o.runInAction)((()=>{this.lastOpenRegisterPageTimestamp=e})),(0,o.autorun)((()=>{this.kvStore.set("last_open_register_page_timestamp",this.lastOpenRegisterPageTimestamp)}))}))}ensureKeyRingNotEmpty(e){return i(this,void 0,void 0,(function*(){if("undefined"!=typeof browser&&!e.isInternalMsg&&"empty"===this.keyRingService.keyRingStatus)throw Date.now()-this.lastOpenRegisterPageTimestamp>3e4&&((0,o.runInAction)((()=>{this.lastOpenRegisterPageTimestamp=Date.now()})),yield browser.tabs.create({url:"/register.html#"})),new Error("Users need to create their accounts first")}))}ensureKeyRingLedgerAppConnected(e,t){return i(this,void 0,void 0,(function*(){if("undefined"!=typeof browser){const n=this.keyRingService.getKeyInfo(this.keyRingService.selectedVaultId);if(null==n)throw new Error("Key info is not found");const r="ledger"===n.insensitive.keyRingType,i=null==n.insensitive[t],s=n.insensitive.bip44Path;if(!e.isInternalMsg&&r&&i&&"object"==typeof s&&Date.now()-this.lastOpenRegisterPageTimestamp>3e4){(0,o.runInAction)((()=>{this.lastOpenRegisterPageTimestamp=Date.now()}));const{account:e,change:n,addressIndex:r}=s;yield browser.tabs.create({url:`/register.html#?route=connect-ledger&ledgerApp=${t}&vaultId=${this.keyRingService.selectedVaultId}&account=${e}&change=${n}&addressIndex=${r}`})}}}))}ensureEnabled(e,t,n){return i(this,void 0,void 0,(function*(){return yield this.ensureKeyRingNotEmpty(e),yield this.keyRingService.ensureUnlockInteractive(e),yield this.permissionService.checkOrGrantBasicAccessPermission(e,t,n)}))}ensureEnabledForEVM(e,t){var n;return i(this,void 0,void 0,(function*(){yield this.keyRingService.ensureUnlockInteractive(e),yield this.ensureKeyRingLedgerAppConnected(e,"Ethereum");const r=null!==(n=this.permissionService.getCurrentChainIdForEVM(t))&&void 0!==n?n:(()=>{var e;const t=null===(e=this.chainsService.getChainInfos().find((e=>void 0!==e.evm&&"eip155:1"===e.chainId)))||void 0===e?void 0:e.chainId;if(!t)throw new Error("The Ethereum chain info is not found");return t})();yield this.permissionService.checkOrGrantBasicAccessPermission(e,[r],t,{isForEVM:!0})}))}ensureEnabledForStarknet(e,t){var n;return i(this,void 0,void 0,(function*(){yield this.keyRingService.ensureUnlockInteractive(e),yield this.ensureKeyRingLedgerAppConnected(e,"Starknet");const r=null!==(n=this.permissionService.getCurrentChainIdForStarknet(t))&&void 0!==n?n:"starknet:SN_MAIN";yield this.permissionService.checkOrGrantBasicAccessPermission(e,[r],t,{isForStarknet:!0})}))}disable(e,t){if(e.length>0)for(const n of e)this.permissionService.removeAllTypePermissionToChainId(n,[t]);else this.permissionService.removeAllTypePermission([t]),this.permissionService.removeAllTypeGlobalPermission([t])}isEnabled(e,t,n){return this.permissionService.hasBasicAccessPermission(e,t,n)}checkOrGrantGetChainInfosWithoutEndpointsPermission(e,t){return i(this,void 0,void 0,(function*(){return yield this.keyRingService.ensureUnlockInteractive(e),yield this.permissionService.checkOrGrantGlobalPermission(e,"get-chain-infos",t)}))}}r([o.observable],s.prototype,"lastOpenRegisterPageTimestamp",void 0),t.PermissionInteractiveService=s},41119:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ROUTE=void 0,t.ROUTE="permission"},27792:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getHandler=void 0;const r=n(60888),i=n(47722);t.getHandler=e=>(t,n)=>{switch(n.constructor){case r.GetPermissionOriginsMsg:return o(e)(t,n);case r.GetOriginPermittedChainsMsg:return s(e)(t,n);case r.AddPermissionOrigin:return a(e)(t,n);case r.RemovePermissionOrigin:return d(e)(t,n);case r.GetGlobalPermissionOriginsMsg:return c(e)(t,n);case r.RemoveGlobalPermissionOriginMsg:return u(e)(t,n);case r.ClearOriginPermissionMsg:return l(e)(t,n);case r.ClearAllPermissionsMsg:return h(e)(t,n);case r.GetAllPermissionDataPerOriginMsg:return p(e)(t,n);case r.GetCurrentChainIdForEVMMsg:return f(e)(t,n);case r.UpdateCurrentChainIdForEVMMsg:return g(e)(t,n);case r.GetCurrentChainIdForStarknetMsg:return v(e)(t,n);case r.UpdateCurrentChainIdForStarknetMsg:return m(e)(t,n);default:throw new i.KeplrError("permission",120,"Unknown msg type")}};const o=e=>(t,n)=>e.getPermissionOrigins(n.chainId,n.permissionType),s=e=>(t,n)=>e.getOriginPermittedChains(n.permissionOrigin,n.permissionType),a=e=>(t,n)=>{e.addPermission([n.chainId],n.permissionType,[n.permissionOrigin])},d=e=>(t,n)=>{e.removePermission(n.chainId,n.permissionType,[n.permissionOrigin])},c=e=>(t,n)=>e.getGlobalPermissionOrigins(n.permissionType),u=e=>(t,n)=>e.removeGlobalPermission(n.permissionType,[n.permissionOrigin]),l=e=>(t,n)=>{e.removeAllTypePermission([n.permissionOrigin]),e.removeAllTypeGlobalPermission([n.permissionOrigin])},h=e=>()=>{e.clearAllPermissions()},p=e=>()=>e.getAllPermissionDataPerOrigin(),f=e=>(t,n)=>e.getCurrentChainIdForEVM(n.permissionOrigin),g=e=>(t,n)=>{e.updateCurrentChainIdForEVM(t,n.permissionOrigin,n.chainId)},v=e=>(t,n)=>e.getCurrentChainIdForStarknet(n.permissionOrigin),m=e=>(t,n)=>{e.updateCurrentChainIdForStarknet(t,n.permissionOrigin,n.chainId)}},70723:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PermissionKeyHelper=void 0;const r=n(94531);class i{static throwIfReserved(...e){for(const t of e)if(String(t).includes(i.splitter))throw new Error(`Has reserved word: ${t}`)}static _getPermissionKey(e,t,n){return i.throwIfReserved(e,t,n),`${r.ChainIdHelper.parse(e).identifier}${i.splitter}${t}${i.splitter}${n}`}static _getOriginFromPermissionKey(e,t,n){const o=`${r.ChainIdHelper.parse(e).identifier}${i.splitter}${t}${i.splitter}`;if(n.startsWith(o))return n.substring(o.length)}static _getTypeAndOriginFromPermissionKey(e,t){const n=`${r.ChainIdHelper.parse(e).identifier}${i.splitter}`;if(t.startsWith(n)){const e=t.substring(n.length).split(i.splitter);if(2===e.length)return{type:e[0],origin:e[1]}}}static splitPermissionKey(e){const t=e.split(i.splitter);if(3===t.length)return{chainIdentifier:t[0]===i.globalKey?void 0:t[0],type:t[1],origin:t[2]};throw new Error("Invalid permission key")}static getPermissionKey(e,t,n){const o=r.ChainIdHelper.parse(e).identifier;if(o===i.globalKey)throw new Error("Identifier is reserved for global permission key");return i._getPermissionKey(o,t,n)}static getOriginFromPermissionKey(e,t,n){const o=r.ChainIdHelper.parse(e).identifier;if(o===i.globalKey)throw new Error("Identifier is reserved for global permission key");return i._getOriginFromPermissionKey(o,t,n)}static getTypeAndOriginFromPermissionKey(e,t){const n=r.ChainIdHelper.parse(e).identifier;if(n===i.globalKey)throw new Error("Identifier is reserved for global permission key");return i._getTypeAndOriginFromPermissionKey(n,t)}static getChainIdentifierFromPermissionKey(e,t,n){const r=`${i.splitter}${e}${i.splitter}${t}`;if(!n.startsWith(i.globalKey)&&n.endsWith(r))return n.substring(0,n.length-r.length)}static getChainAndTypeFromPermissionKey(e,t){const n=`${i.splitter}${e}`;if(!t.startsWith(i.globalKey)&&t.endsWith(n)){const e=t.substring(0,t.length-n.length).split(i.splitter);if(2===e.length)return{chainIdentifier:e[0],type:e[1]}}}static getGlobalPermissionKey(e,t){return i._getPermissionKey(i.globalKey,e,t)}static getOriginFromGlobalPermissionKey(e,t){return i._getOriginFromPermissionKey(i.globalKey,e,t)}static getTypeAndOriginFromGlobalPermissionKey(e){return i._getTypeAndOriginFromPermissionKey(i.globalKey,e)}}i.globalKey="_global__permission_",i.splitter="!&$",t.PermissionKeyHelper=i},81375:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(19367),t),i(n(18637),t),i(n(60888),t)},5658:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;const r=n(60888),i=n(41119),o=n(27792);t.init=function(e,t){e.registerMessage(r.GetPermissionOriginsMsg),e.registerMessage(r.GetOriginPermittedChainsMsg),e.registerMessage(r.AddPermissionOrigin),e.registerMessage(r.RemovePermissionOrigin),e.registerMessage(r.GetGlobalPermissionOriginsMsg),e.registerMessage(r.RemoveGlobalPermissionOriginMsg),e.registerMessage(r.ClearOriginPermissionMsg),e.registerMessage(r.ClearAllPermissionsMsg),e.registerMessage(r.GetAllPermissionDataPerOriginMsg),e.registerMessage(r.GetCurrentChainIdForEVMMsg),e.registerMessage(r.UpdateCurrentChainIdForEVMMsg),e.registerMessage(r.GetCurrentChainIdForStarknetMsg),e.registerMessage(r.UpdateCurrentChainIdForStarknetMsg),e.addHandler(i.ROUTE,(0,o.getHandler)(t))}},30312:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(19367),t),i(n(5658),t)},60888:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UpdateCurrentChainIdForStarknetMsg=t.GetCurrentChainIdForStarknetMsg=t.UpdateCurrentChainIdForEVMMsg=t.GetCurrentChainIdForEVMMsg=t.GetAllPermissionDataPerOriginMsg=t.ClearAllPermissionsMsg=t.ClearOriginPermissionMsg=t.RemoveGlobalPermissionOriginMsg=t.RemovePermissionOrigin=t.AddPermissionOrigin=t.GetGlobalPermissionOriginsMsg=t.GetOriginPermittedChainsMsg=t.GetPermissionOriginsMsg=void 0;const r=n(47722),i=n(41119);class o extends r.Message{static type(){return"get-permission-origins"}constructor(e,t){super(),this.chainId=e,this.permissionType=t}validateBasic(){if(!this.chainId)throw new r.KeplrError("permission",100,"chain id not set");if(!this.permissionType)throw new r.KeplrError("permission",110,"empty permission type")}route(){return i.ROUTE}type(){return o.type()}}t.GetPermissionOriginsMsg=o;class s extends r.Message{static type(){return"get-origin-permitted-chains"}constructor(e,t){super(),this.permissionOrigin=e,this.permissionType=t}validateBasic(){if(!this.permissionOrigin)throw new r.KeplrError("permission",101,"origin not set");if(!this.permissionType)throw new r.KeplrError("permission",110,"empty permission type")}route(){return i.ROUTE}type(){return s.type()}}t.GetOriginPermittedChainsMsg=s;class a extends r.Message{static type(){return"get-global-permission-origins"}constructor(e){super(),this.permissionType=e}validateBasic(){if(!this.permissionType)throw new r.KeplrError("permission",110,"empty permission type")}route(){return i.ROUTE}type(){return a.type()}}t.GetGlobalPermissionOriginsMsg=a;class d extends r.Message{static type(){return"add-permission-origin"}constructor(e,t,n){super(),this.chainId=e,this.permissionType=t,this.permissionOrigin=n}validateBasic(){if(!this.chainId)throw new r.KeplrError("permission",100,"chain id not set");if(!this.permissionType)throw new r.KeplrError("permission",110,"empty permission type");if(!this.permissionOrigin)throw new r.KeplrError("permission",111,"empty permission origin")}route(){return i.ROUTE}type(){return d.type()}}t.AddPermissionOrigin=d;class c extends r.Message{static type(){return"remove-permission-origin"}constructor(e,t,n){super(),this.chainId=e,this.permissionType=t,this.permissionOrigin=n}validateBasic(){if(!this.chainId)throw new r.KeplrError("permission",100,"chain id not set");if(!this.permissionType)throw new r.KeplrError("permission",110,"empty permission type");if(!this.permissionOrigin)throw new r.KeplrError("permission",111,"empty permission origin")}route(){return i.ROUTE}type(){return c.type()}}t.RemovePermissionOrigin=c;class u extends r.Message{static type(){return"remove-global-permission-origin"}constructor(e,t){super(),this.permissionType=e,this.permissionOrigin=t}validateBasic(){if(!this.permissionType)throw new r.KeplrError("permission",110,"empty permission type");if(!this.permissionOrigin)throw new r.KeplrError("permission",111,"empty permission origin")}route(){return i.ROUTE}type(){return u.type()}}t.RemoveGlobalPermissionOriginMsg=u;class l extends r.Message{static type(){return"clear-origin-permission"}constructor(e){super(),this.permissionOrigin=e}validateBasic(){if(!this.permissionOrigin)throw new r.KeplrError("permission",111,"empty permission origin")}route(){return i.ROUTE}type(){return l.type()}}t.ClearOriginPermissionMsg=l;class h extends r.Message{static type(){return"clear-all-permissions"}constructor(){super()}validateBasic(){}route(){return i.ROUTE}type(){return h.type()}}t.ClearAllPermissionsMsg=h;class p extends r.Message{static type(){return"get-all-permission-data-per-origin"}constructor(){super()}validateBasic(){}route(){return i.ROUTE}type(){return p.type()}}t.GetAllPermissionDataPerOriginMsg=p;class f extends r.Message{static type(){return"get-current-chain-id-for-evm"}constructor(e){super(),this.permissionOrigin=e}validateBasic(){if(!this.permissionOrigin)throw new r.KeplrError("permission",111,"empty permission origin")}route(){return i.ROUTE}type(){return f.type()}}t.GetCurrentChainIdForEVMMsg=f;class g extends r.Message{static type(){return"update-current-chain-id-for-evm"}constructor(e,t){super(),this.permissionOrigin=e,this.chainId=t}validateBasic(){if(!this.permissionOrigin)throw new r.KeplrError("permission",111,"empty permission origin");if(!this.chainId)throw new r.KeplrError("permission",100,"chain id not set")}route(){return i.ROUTE}type(){return g.type()}}t.UpdateCurrentChainIdForEVMMsg=g;class v extends r.Message{static type(){return"get-current-chain-id-for-starknet"}constructor(e){super(),this.permissionOrigin=e}validateBasic(){if(!this.permissionOrigin)throw new r.KeplrError("permission",111,"empty permission origin")}route(){return i.ROUTE}type(){return v.type()}}t.GetCurrentChainIdForStarknetMsg=v;class m extends r.Message{static type(){return"update-current-chain-id-for-starknet"}constructor(e,t){super(),this.permissionOrigin=e,this.chainId=t}validateBasic(){if(!this.permissionOrigin)throw new r.KeplrError("permission",111,"empty permission origin");if(!this.chainId)throw new r.KeplrError("permission",100,"chain id not set")}route(){return i.ROUTE}type(){return m.type()}}t.UpdateCurrentChainIdForStarknetMsg=m},36198:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.migrate=void 0;const i=n(70723);t.migrate=function(e){return r(this,void 0,void 0,(function*(){if(!(yield e.get("permission/migrated/v1"))){const t={},n=yield e.get("permissionMap"),r=yield e.get("globalPermissionMap");if(n)for(const e of Object.keys(n)){const r=n[e];if(r)for(const n of Object.keys(r)){const o=r[n];if(o)for(const r of Object.keys(o))o[r]&&(t[i.PermissionKeyHelper.getPermissionKey(e,n,r)]=!0)}}if(r)for(const e of Object.keys(r)){const n=r[e];if(n)for(const r of Object.keys(n))n[r]&&(t[i.PermissionKeyHelper.getGlobalPermissionKey(e,r)]=!0)}return yield e.set("permission/migrated/v1",!0),t}}))}},19367:function(e,t,n){var r=n(48834).Buffer,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.PermissionService=void 0;const s=n(47722),a=n(18637),d=n(80075),c=n(36198),u=n(58242),l=n(70723);class h{constructor(e,t,n,r){this.kvStore=e,this.interactionService=n,this.chainsService=r,this.permissionMap=new Map,this.privilegedOrigins=new Map,this.currentChainIdForEVMByOriginMap=new Map,this.currentChainIdForStarknetByOriginMap=new Map,this.onChainRemoved=e=>{this.removeAllPermissions(e.chainId)},this.getPermissionOrigins=(0,u.computedFn)(((e,t)=>{const n=[];for(const r of this.permissionMap.keys()){const i=l.PermissionKeyHelper.getOriginFromPermissionKey(e,t,r);i&&n.push(i)}return n}),{keepAlive:!0}),this.getGlobalPermissionOrigins=(0,u.computedFn)((e=>{const t=[];for(const n of this.permissionMap.keys()){const r=l.PermissionKeyHelper.getOriginFromGlobalPermissionKey(e,n);r&&t.push(r)}return t}),{keepAlive:!0}),this.getOriginPermittedChains=(0,u.computedFn)(((e,t)=>{const n=[];for(const r of this.permissionMap.keys()){const i=l.PermissionKeyHelper.getChainIdentifierFromPermissionKey(t,e,r);i&&n.push(i)}return n}),{keepAlive:!0}),(0,d.makeObservable)(this);for(const e of t)this.privilegedOrigins.set(e,!0);this.chainsService.addChainRemovedHandler(this.onChainRemoved)}init(){return o(this,void 0,void 0,(function*(){const e=yield(0,c.migrate)(this.kvStore);if(e)(0,d.runInAction)((()=>{for(const t of Object.keys(e))e[t]&&this.permissionMap.set(t,!0)}));else{const e=yield this.kvStore.get("permissionMap/v1");if(e){(0,d.runInAction)((()=>{for(const t of Object.keys(e))e[t]&&this.permissionMap.set(t,!0)}));const t=yield this.kvStore.get("currentChainIdForEVMByOriginMap/v1");t&&(0,d.runInAction)((()=>{for(const e of Object.keys(t))this.currentChainIdForEVMByOriginMap.set(e,t[e])}));const n=yield this.kvStore.get("currentChainIdForStarknetByOriginMap/v1");n&&(0,d.runInAction)((()=>{for(const e of Object.keys(n))this.currentChainIdForStarknetByOriginMap.set(e,n[e])}))}}(0,d.autorun)((()=>{this.kvStore.set("permissionMap/v1",Object.fromEntries(this.permissionMap)),this.kvStore.set("currentChainIdForEVMByOriginMap/v1",Object.fromEntries(this.currentChainIdForEVMByOriginMap)),this.kvStore.set("currentChainIdForStarknetByOriginMap/v1",Object.fromEntries(this.currentChainIdForStarknetByOriginMap))}))}))}getAllPermissionDataPerOrigin(){const e={};for(const t of this.permissionMap.keys()){const n=l.PermissionKeyHelper.splitPermissionKey(t),r=n.origin;e[r]||(e[r]={permissions:[],globalPermissions:[]}),n.type===(0,a.getBasicAccessPermissionType)()?e[r].permissions.push({chainIdentifier:n.chainIdentifier,type:n.type}):e[r].globalPermissions.push({type:n.type})}return e}clearAllPermissions(){this.permissionMap.clear(),this.currentChainIdForEVMByOriginMap.clear()}checkOrGrantBasicAccessPermission(e,t,n,r){return o(this,void 0,void 0,(function*(){"string"==typeof t&&(t=[t]);const i=[];for(const e of t)this.hasPermission(e,(0,a.getBasicAccessPermissionType)(),n)||i.push(e);i.length>0&&(yield this.grantBasicAccessPermission(e,i,[n],r)),(null==r?void 0:r.isForEVM)||(null==r?void 0:r.isForStarknet)||this.checkBasicAccessPermission(e,t,n)}))}checkOrGrantPermission(e,t,n,r,i){return o(this,void 0,void 0,(function*(){const o=[];for(const e of t)this.hasPermission(e,n,r)||o.push(e);o.length>0&&(yield this.grantPermission(e,o,n,[r],i));for(const i of t)this.checkPermission(e,i,n,r)}))}checkOrGrantGlobalPermission(e,t,n){return o(this,void 0,void 0,(function*(){this.hasGlobalPermission(t,n)||(yield this.grantGlobalPermission(e,t,[n])),this.checkGlobalPermission(e,t,n)}))}grantPermission(e,t,n,r,i){return o(this,void 0,void 0,(function*(){if(e.isInternalMsg)return;const o={chainIds:t,type:n,origins:r,options:i};yield this.interactionService.waitApproveV2(e,"/permission",a.INTERACTION_TYPE_PERMISSION,o,(e=>{if(null==i?void 0:i.isForEVM){const i=null!=e?e:t[0];this.addPermission([i],n,r),this.setCurrentChainIdForEVM(r,i)}else if(null==i?void 0:i.isForStarknet){const i=null!=e?e:t[0];this.addPermission([i],n,r),this.setCurrentChainIdForStarknet(r,i)}else this.addPermission(t,n,r)}))}))}grantBasicAccessPermission(e,t,n,r){return o(this,void 0,void 0,(function*(){for(const e of t)this.chainsService.getModularChainInfoOrThrow(e);yield this.grantPermission(e,t,(0,a.getBasicAccessPermissionType)(),n,r)}))}grantGlobalPermission(e,t,n){return o(this,void 0,void 0,(function*(){if(e.isInternalMsg)return;const r={type:t,origins:n};yield this.interactionService.waitApproveV2(e,"/permission",a.INTERACTION_TYPE_GLOBAL_PERMISSION,r,(()=>{this.addGlobalPermission(t,n)}))}))}checkPermission(e,t,n,r){if(!e.isInternalMsg&&!this.hasPermission(t,n,r))throw new s.KeplrError("permission",130,`${r} is not permitted`)}checkBasicAccessPermission(e,t,n){if(0===t.length)throw new Error("Chain ids are empty");for(const r of t)this.chainsService.getModularChainInfoOrThrow(r),this.checkPermission(e,r,(0,a.getBasicAccessPermissionType)(),n)}hasBasicAccessPermission(e,t,n){if(0===t.length)throw new Error("Chain ids are empty");if(e.isInternalMsg)return!0;for(const e of t)if(this.chainsService.getModularChainInfoOrThrow(e),!this.hasPermission(e,(0,a.getBasicAccessPermissionType)(),n))return!1;return!0}checkGlobalPermission(e,t,n){if(!e.isInternalMsg&&!this.hasGlobalPermission(t,n))throw new s.KeplrError("permission",130,`${n} is not permitted`)}hasPermission(e,t,n){var r;return!!this.privilegedOrigins.get(n)||null!==(r=this.permissionMap.get(l.PermissionKeyHelper.getPermissionKey(e,t,n)))&&void 0!==r&&r}hasGlobalPermission(e,t){var n;return!!this.privilegedOrigins.get(t)||null!==(n=this.permissionMap.get(l.PermissionKeyHelper.getGlobalPermissionKey(e,t)))&&void 0!==n&&n}addPermission(e,t,n){for(const r of e)for(const e of n)this.permissionMap.set(l.PermissionKeyHelper.getPermissionKey(r,t,e),!0)}addGlobalPermission(e,t){for(const n of t)this.permissionMap.set(l.PermissionKeyHelper.getGlobalPermissionKey(e,n),!0)}removePermission(e,t,n){for(const r of n)this.permissionMap.delete(l.PermissionKeyHelper.getPermissionKey(e,t,r)),e===this.getCurrentChainIdForEVM(r)&&this.currentChainIdForEVMByOriginMap.delete(r)}removeAllSpecificTypePermission(e,t){const n=[];for(const r of this.permissionMap.keys())for(const i of e){const e=l.PermissionKeyHelper.getChainAndTypeFromPermissionKey(i,r);e&&e.type===t&&n.push(r),this.currentChainIdForEVMByOriginMap.delete(i)}for(const e of n)this.permissionMap.delete(e)}removeAllTypePermission(e){const t=[];for(const n of this.permissionMap.keys())for(const r of e)l.PermissionKeyHelper.getChainAndTypeFromPermissionKey(r,n)&&t.push(n),this.currentChainIdForEVMByOriginMap.delete(r);for(const e of t)this.permissionMap.delete(e)}removeAllTypePermissionToChainId(e,t){const n=[];for(const r of this.permissionMap.keys()){const i=l.PermissionKeyHelper.getTypeAndOriginFromPermissionKey(e,r);i&&t.includes(i.origin)&&n.push(r)}for(const e of n)this.permissionMap.delete(e);for(const n of t)e===this.getCurrentChainIdForEVM(n)&&this.currentChainIdForEVMByOriginMap.delete(n)}removeGlobalPermission(e,t){const n=[];for(const r of this.permissionMap.keys()){const i=l.PermissionKeyHelper.getTypeAndOriginFromGlobalPermissionKey(r);i&&i.type===e&&t.includes(i.origin)&&n.push(r)}for(const e of n)this.permissionMap.delete(e)}removeAllTypeGlobalPermission(e){const t=[];for(const n of this.permissionMap.keys()){const r=l.PermissionKeyHelper.getTypeAndOriginFromGlobalPermissionKey(n);r&&e.includes(r.origin)&&t.push(n)}for(const e of t)this.permissionMap.delete(e)}removeAllPermissions(e){const t=[];for(const n of this.permissionMap.keys())l.PermissionKeyHelper.getTypeAndOriginFromPermissionKey(e,n)&&t.push(n);for(const e of t)this.permissionMap.delete(e);this.currentChainIdForEVMByOriginMap.clear()}getCurrentChainIdForEVM(e){const t=this.currentChainIdForEVMByOriginMap.get(e);if(!t||this.hasPermission(t,(0,a.getBasicAccessPermissionType)(),e))return t;this.currentChainIdForEVMByOriginMap.delete(e)}setCurrentChainIdForEVM(e,t){for(const n of e){this.currentChainIdForEVMByOriginMap.set(n,t);const e=this.chainsService.getEVMInfoOrThrow(t);this.interactionService.dispatchEvent(s.WEBPAGE_PORT,"keplr_chainChanged",{origin:n,evmChainId:e.chainId})}}updateCurrentChainIdForEVM(e,t,n){return o(this,void 0,void 0,(function*(){const r=(0,a.getBasicAccessPermissionType)(),i=[n],o=[t];this.hasPermission(n,r,t)?this.setCurrentChainIdForEVM(o,n):e.isInternalMsg?(this.addPermission(i,r,o),this.setCurrentChainIdForEVM(o,n)):yield this.grantPermission(e,i,r,o,{isForEVM:!0,isUnableToChangeChainInUI:!0})}))}getCurrentChainIdForStarknet(e){const t=this.currentChainIdForStarknetByOriginMap.get(e);if(!t||this.hasPermission(t,(0,a.getBasicAccessPermissionType)(),e))return t;this.currentChainIdForStarknetByOriginMap.delete(e)}setCurrentChainIdForStarknet(e,t){for(const n of e){this.currentChainIdForStarknetByOriginMap.set(n,t);const e="0x"+r.from(t.replace("starknet:","")).toString("hex");this.interactionService.dispatchEvent(s.WEBPAGE_PORT,"keplr_starknetChainChanged",{origin:n,starknetChainId:e})}}updateCurrentChainIdForStarknet(e,t,n){return o(this,void 0,void 0,(function*(){const r=(0,a.getBasicAccessPermissionType)(),i=[n],o=[t];this.hasPermission(n,r,t)?this.setCurrentChainIdForStarknet(o,n):e.isInternalMsg?(this.addPermission(i,r,o),this.setCurrentChainIdForStarknet(o,n)):yield this.grantPermission(e,i,r,o,{isForStarknet:!0,isUnableToChangeChainInUI:!0})}))}}i([d.observable],h.prototype,"permissionMap",void 0),i([d.observable],h.prototype,"currentChainIdForEVMByOriginMap",void 0),i([d.observable],h.prototype,"currentChainIdForStarknetByOriginMap",void 0),i([d.action],h.prototype,"clearAllPermissions",null),i([d.action],h.prototype,"addPermission",null),i([d.action],h.prototype,"addGlobalPermission",null),i([d.action],h.prototype,"removePermission",null),i([d.action],h.prototype,"removeAllSpecificTypePermission",null),i([d.action],h.prototype,"removeAllTypePermission",null),i([d.action],h.prototype,"removeAllTypePermissionToChainId",null),i([d.action],h.prototype,"removeGlobalPermission",null),i([d.action],h.prototype,"removeAllTypeGlobalPermission",null),i([d.action],h.prototype,"removeAllPermissions",null),i([d.action],h.prototype,"setCurrentChainIdForEVM",null),i([d.action],h.prototype,"updateCurrentChainIdForEVM",null),i([d.action],h.prototype,"setCurrentChainIdForStarknet",null),i([d.action],h.prototype,"updateCurrentChainIdForStarknet",null),t.PermissionService=h},18637:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isBasicAccessPermissionType=t.getBasicAccessPermissionType=t.INTERACTION_TYPE_GLOBAL_PERMISSION=t.INTERACTION_TYPE_PERMISSION=void 0,t.INTERACTION_TYPE_PERMISSION="permission",t.INTERACTION_TYPE_GLOBAL_PERMISSION="global_permission",t.getBasicAccessPermissionType=function(){return"basic-access"},t.isBasicAccessPermissionType=function(e){return"basic-access"===e}},33250:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ROUTE=void 0,t.ROUTE="phishing-list"},9162:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getHandler=void 0;const r=n(27053);t.getHandler=e=>(t,n)=>{switch(n.constructor){case r.CheckURLIsPhishingMsg:return i(e)(t,n);case r.CheckURLIsPhishingOnMobileMsg:return o(e)(t,n);case r.URLTempAllowMsg:return s(e)(t,n);case r.URLTempAllowOnMobileMsg:return a(e)(t,n);case r.CheckBadTwitterIdMsg:return d(e)(t,n);default:throw new Error("Unknown msg type")}};const i=e=>(t,n)=>e.checkURLIsPhishing(n.origin),o=e=>(t,n)=>e.checkURLIsPhishing(n.url),s=e=>(t,n)=>{if(new URL(n.origin).origin!==new URL(e.blocklistPageURL).origin)throw new Error("Permission rejected");e.allowUrlTemp(n.url)},a=e=>(t,n)=>{if(new URL(n.currentUrl).origin!==new URL(e.blocklistPageURL).origin)throw new Error("Permission rejected");e.allowUrlTemp(n.originUrl)},d=e=>(t,n)=>e.checkBadTwitterId(n.id)},64499:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(58136),t),i(n(27053),t)},81661:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;const r=n(33250),i=n(9162),o=n(27053);t.init=function(e,t){e.registerMessage(o.CheckURLIsPhishingMsg),e.registerMessage(o.URLTempAllowMsg),e.registerMessage(o.CheckBadTwitterIdMsg),e.registerMessage(o.CheckURLIsPhishingOnMobileMsg),e.registerMessage(o.URLTempAllowOnMobileMsg),e.addHandler(r.ROUTE,(0,i.getHandler)(t))}},5815:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(58136),t),i(n(81661),t)},27053:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CheckBadTwitterIdMsg=t.URLTempAllowOnMobileMsg=t.URLTempAllowMsg=t.CheckURLIsPhishingOnMobileMsg=t.CheckURLIsPhishingMsg=void 0;const r=n(47722),i=n(33250),o=n(49442);class s extends r.Message{static type(){return"check-url-is-phishing"}constructor(){super()}validateBasic(){const e=new URL(this.origin);(0,o.parseDomain)(e.origin)}approveExternal(){return!0}route(){return i.ROUTE}type(){return s.type()}}t.CheckURLIsPhishingMsg=s;class a extends r.Message{static type(){return"check-url-is-phishing-on-mobile"}constructor(e){super(),this.url=e}validateBasic(){const e=new URL(this.url);(0,o.parseDomain)(e.origin)}route(){return i.ROUTE}type(){return a.type()}}t.CheckURLIsPhishingOnMobileMsg=a;class d extends r.Message{static type(){return"url-temp-allow"}constructor(e){super(),this.url=e}validateBasic(){const e=new URL(this.url);(0,o.parseDomain)(e.origin)}approveExternal(){return!0}route(){return i.ROUTE}type(){return d.type()}}t.URLTempAllowMsg=d;class c extends r.Message{static type(){return"url-temp-allow-on-mobile"}constructor(e,t){super(),this.currentUrl=e,this.originUrl=t}validateBasic(){const e=new URL(this.originUrl);(0,o.parseDomain)(e.origin)}route(){return i.ROUTE}type(){return c.type()}}t.URLTempAllowOnMobileMsg=c;class u extends r.Message{static type(){return"check-bad-twitter-id"}constructor(e){super(),this.id=e}validateBasic(){}approveExternal(){return!0}route(){return i.ROUTE}type(){return u.type()}}t.CheckBadTwitterIdMsg=u},58136:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.PhishingListService=void 0;const i=n(49442),o=n(86693);class s{constructor(e,t){this.opts=e,this.handler=t,this._hasInited=!1,this._hasStopped=!1}get hasInited(){return this._hasInited}start(){this.fetch()}stop(){null!=this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=void 0),this._hasStopped=!0}fetch(){return r(this,void 0,void 0,(function*(){if(null!=this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=void 0),this._hasStopped)return;let e=!1;try{const e=yield(0,o.simpleFetch)(this.opts.url,"");this.handler(e),this._hasInited=!0}catch(t){e=!0,console.log(t)}this._hasStopped||(this.timeoutId=setTimeout((()=>{this.fetch()}),e?this.opts.retryIntervalMs:this.opts.fetchingIntervalMs))}))}}t.PhishingListService=class{constructor(e,t){this.opts=e,this.blocklistPageURL=t,this.urlMap=new Map,this.allowedUrlMap=new Map,this.twitterMap=new Map,this.urlFetcher=new s(Object.assign(Object.assign({},this.opts),{url:this.opts.blockListUrl}),(e=>{const t=e.data.split(/(\r?\n)|,|;|\s|\t/).filter((e=>null!=e)).map((e=>e.trim())).filter((e=>e.length>0)),n=new Map;for(const e of t)try{n.set((0,i.parseDomain)(e).join("."),!0)}catch(e){console.log(e)}this.urlMap=n})),this.opts.twitterListUrl&&(this.twitterFetcher=new s(Object.assign(Object.assign({},this.opts),{url:this.opts.twitterListUrl}),(e=>{const t=e.data.split(/(\r?\n)|,|;|\s|\t/).filter((e=>null!=e)).map((e=>e.trim())).filter((e=>e.length>0)),n=new Map;for(const e of t)n.set(e.replace("@","").toLowerCase(),!0);this.twitterMap=n})))}init(){return r(this,void 0,void 0,(function*(){this.urlFetcher.start(),this.twitterFetcher&&this.twitterFetcher.start()}))}get hasInited(){return this.urlFetcher.hasInited&&(!this.twitterFetcher||this.twitterFetcher.hasInited)}stop(){this.urlFetcher.stop(),this.twitterFetcher&&this.twitterFetcher.stop()}checkURLIsPhishing(e){const t=new URL(e).origin,n=(0,i.parseDomain)(t);for(;n.length>=2;){const e=n.join(".");if(!0===this.urlMap.get(e)){const e=this.allowedUrlMap.get((0,i.parseDomain)(t).join("."));if(!(e&&e+this.opts.allowTimeoutMs>=(new Date).getTime()))return!0}n.shift()}return!1}allowUrlTemp(e){const t=new URL(e);this.allowedUrlMap.set((0,i.parseDomain)(t.origin).join("."),(new Date).getTime())}checkBadTwitterId(e){return!0===this.twitterMap.get(e.replace("@","").toLowerCase())}}},49442:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseDomain=void 0,t.parseDomain=function(e){let t=e;t.match(/^[a-zA-Z0-9-]+:\/\/.+$/)&&(t=t.replace(/^[a-zA-Z0-9-]+:\/\//,""));const n=t.indexOf("/");n>=0&&(t=t.slice(0,n));const r=t.indexOf("?");r>=0&&(t=t.slice(0,r));const i=t.split(".").map((e=>e.trim())).filter((e=>e.length>0));if(i.length<2)throw new Error(`Invalid domain: ${e}`);const o=i[i.length-1].indexOf(":");return o>=0&&(i[i.length-1]=i[i.length-1].slice(0,o)),i}},77554:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ROUTE=void 0,t.ROUTE="recent-send-history"},94857:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getHandler=void 0;const i=n(47722),o=n(45802);t.getHandler=e=>(t,n)=>{switch(n.constructor){case o.GetRecentSendHistoriesMsg:return s(e)(t,n);case o.AddRecentSendHistoryMsg:return d(e)(t,n);case o.SendTxAndRecordMsg:return a(e)(t,n);case o.SendTxAndRecordWithIBCPacketForwardingMsg:return c(e)(t,n);case o.SendTxAndRecordWithIBCSwapMsg:return u(e)(t,n);case o.GetIBCHistoriesMsg:return l(e)(t,n);case o.RemoveIBCHistoryMsg:return h(e)(t,n);case o.ClearAllIBCHistoryMsg:return p(e)(t,n);default:throw new i.KeplrError("tx",110,"Unknown msg type")}};const s=e=>(t,n)=>e.getRecentSendHistories(n.chainId,n.historyType),a=e=>(t,n)=>e.sendTxAndRecord(n.historyType,n.sourceChainId,n.destinationChainId,n.tx,n.mode,n.silent,n.sender,n.recipient,n.amount,n.memo,void 0,{currencies:[]},n.isSkipTrack),d=e=>(t,n)=>e.addRecentSendHistory(n.chainId,n.historyType,{sender:n.sender,recipient:n.recipient,amount:n.amount,memo:n.memo,ibcChannels:n.ibcChannels}),c=e=>(t,n)=>r(void 0,void 0,void 0,(function*(){return yield e.sendTxAndRecord(n.historyType,n.sourceChainId,n.destinationChainId,n.tx,n.mode,n.silent,n.sender,n.recipient,n.amount,n.memo,n.channels,n.notificationInfo)})),u=e=>(t,n)=>r(void 0,void 0,void 0,(function*(){return yield e.sendTxAndRecordIBCSwap(n.swapType,n.sourceChainId,n.destinationChainId,n.tx,n.mode,n.silent,n.sender,n.amount,n.memo,n.channels,n.destinationAsset,n.swapChannelIndex,n.swapReceiver,n.notificationInfo,n.isSkipTrack)})),l=e=>(t,n)=>e.getRecentIBCHistories(),h=e=>(t,n)=>(e.removeRecentIBCHistory(n.id),e.getRecentIBCHistories()),p=e=>()=>{e.clearAllRecentIBCHistory()}},22154:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(353),t),i(n(45802),t),i(n(64661),t)},69383:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;const r=n(45802),i=n(77554),o=n(94857);t.init=function(e,t){e.registerMessage(r.GetRecentSendHistoriesMsg),e.registerMessage(r.AddRecentSendHistoryMsg),e.registerMessage(r.SendTxAndRecordMsg),e.registerMessage(r.SendTxAndRecordWithIBCPacketForwardingMsg),e.registerMessage(r.SendTxAndRecordWithIBCSwapMsg),e.registerMessage(r.GetIBCHistoriesMsg),e.registerMessage(r.RemoveIBCHistoryMsg),e.registerMessage(r.ClearAllIBCHistoryMsg),e.addHandler(i.ROUTE,(0,o.getHandler)(t))}},54853:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(353),t),i(n(69383),t)},45802:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ClearAllIBCHistoryMsg=t.RemoveIBCHistoryMsg=t.GetIBCHistoriesMsg=t.SendTxAndRecordWithIBCSwapMsg=t.SendTxAndRecordWithIBCPacketForwardingMsg=t.SendTxAndRecordMsg=t.AddRecentSendHistoryMsg=t.GetRecentSendHistoriesMsg=void 0;const r=n(47722),i=n(77554);class o extends r.Message{static type(){return"get-recent-send-histories"}constructor(e,t){super(),this.chainId=e,this.historyType=t}validateBasic(){if(!this.chainId)throw new Error("chain id is empty");if(!this.historyType)throw new Error("type is empty")}route(){return i.ROUTE}type(){return o.type()}}t.GetRecentSendHistoriesMsg=o;class s extends r.Message{static type(){return"add-recent-send-history"}constructor(e,t,n,r,i,o,s){super(),this.chainId=e,this.historyType=t,this.sender=n,this.recipient=r,this.amount=i,this.memo=o,this.ibcChannels=s}validateBasic(){if(!this.chainId)throw new Error("chain id is empty");if(!this.historyType)throw new Error("type is empty");if(!this.sender)throw new Error("sender is empty");if(!this.recipient)throw new Error("recipient is empty")}route(){return i.ROUTE}type(){return s.type()}}t.AddRecentSendHistoryMsg=s;class a extends r.Message{static type(){return"send-tx-and-record"}constructor(e,t,n,r,i,o,s,a,d,c,u=!1){super(),this.historyType=e,this.sourceChainId=t,this.destinationChainId=n,this.tx=r,this.mode=i,this.silent=o,this.sender=s,this.recipient=a,this.amount=d,this.memo=c,this.isSkipTrack=u}validateBasic(){if(!this.historyType)throw new Error("type is empty");if(!this.sourceChainId)throw new Error("chain id is empty");if(!this.destinationChainId)throw new Error("chain id is empty");if(!this.tx)throw new Error("tx is empty");if(!this.mode||"sync"!==this.mode&&"async"!==this.mode&&"block"!==this.mode)throw new Error("invalid mode");if(!this.sender)throw new Error("sender is empty");if(!this.recipient)throw new Error("recipient is empty")}route(){return i.ROUTE}type(){return a.type()}withIBCPacketForwarding(e,t){return new d(this.historyType,this.sourceChainId,this.destinationChainId,this.tx,e,this.mode,this.silent,this.sender,this.recipient,this.amount,this.memo,t)}}t.SendTxAndRecordMsg=a;class d extends r.Message{static type(){return"send-tx-and-record-with-ibc-packet-forwarding"}constructor(e,t,n,r,i,o,s,a,d,c,u,l){super(),this.historyType=e,this.sourceChainId=t,this.destinationChainId=n,this.tx=r,this.channels=i,this.mode=o,this.silent=s,this.sender=a,this.recipient=d,this.amount=c,this.memo=u,this.notificationInfo=l}validateBasic(){if(!this.historyType)throw new Error("type is empty");if(!this.sourceChainId)throw new Error("chain id is empty");if(!this.destinationChainId)throw new Error("chain id is empty");if(!this.tx)throw new Error("tx is empty");if(0===this.channels.length)throw new Error("channels is empty");if(!this.mode||"sync"!==this.mode&&"async"!==this.mode&&"block"!==this.mode)throw new Error("invalid mode");if(!this.sender)throw new Error("sender is empty");if(!this.recipient)throw new Error("recipient is empty")}route(){return i.ROUTE}type(){return d.type()}}t.SendTxAndRecordWithIBCPacketForwardingMsg=d;class c extends r.Message{static type(){return"send-tx-and-record-with-ibc-swap"}constructor(e,t,n,r,i,o,s,a,d,c,u,l,h,p,f=!1){super(),this.swapType=e,this.sourceChainId=t,this.destinationChainId=n,this.tx=r,this.channels=i,this.destinationAsset=o,this.swapChannelIndex=s,this.swapReceiver=a,this.mode=d,this.silent=c,this.sender=u,this.amount=l,this.memo=h,this.notificationInfo=p,this.isSkipTrack=f}validateBasic(){if(!this.swapType)throw new Error("type is empty");if(!this.sourceChainId)throw new Error("chain id is empty");if(!this.destinationChainId)throw new Error("chain id is empty");if(!this.tx)throw new Error("tx is empty");if(!this.mode||"sync"!==this.mode&&"async"!==this.mode&&"block"!==this.mode)throw new Error("invalid mode");if(!this.sender)throw new Error("sender is empty")}route(){return i.ROUTE}type(){return c.type()}}t.SendTxAndRecordWithIBCSwapMsg=c;class u extends r.Message{static type(){return"get-ibc-histories"}constructor(){super()}validateBasic(){}route(){return i.ROUTE}type(){return u.type()}}t.GetIBCHistoriesMsg=u;class l extends r.Message{static type(){return"remove-ibc-histories"}constructor(e){super(),this.id=e}validateBasic(){if(!this.id)throw new Error("id is empty")}route(){return i.ROUTE}type(){return l.type()}}t.RemoveIBCHistoryMsg=l;class h extends r.Message{static type(){return"clear-all-ibc-histories"}constructor(){super()}validateBasic(){}route(){return i.ROUTE}type(){return h.type()}}t.ClearAllIBCHistoryMsg=h},353:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.RecentSendHistoryService=void 0;const o=n(94531),s=n(80075),a=n(89642),d=n(48834),c=n(19731),u=n(86693);class l{constructor(e,t,n,r){this.kvStore=e,this.chainsService=t,this.txService=n,this.notification=r,this.recentSendHistoryMap=new Map,this.recentIBCHistorySeq=0,this.recentIBCHistoryMap=new Map,this.trackIBCPacketForwardingRecursiveInternal=(e,t,n,r)=>{const i=this.getRecentIBCHistory(e);if(i)if(i.txFulfilled&&0!==i.ibcHistory.length&&null!=i.ibcHistory.find((e=>null!=e.error))){if(i.ibcHistory.find((e=>e.rewoundButNextRewindingBlocked)))return void t();const a=i.packetTimeout||!1,d=i.ibcHistory.findIndex((e=>{if(e.rewound)return!0})),c=(()=>{if(d>=0){if(0===d)return;return i.ibcHistory[d-1]}return i.ibcHistory.find((e=>null!=e.error))})(),u=c&&"swapChannelIndex"in i&&i.ibcHistory.indexOf(c)===i.swapChannelIndex+1;if(c&&c.sequence){const d=(()=>{const e=i.ibcHistory.findIndex((e=>e===c));if(!(e<0))return 0===e?this.chainsService.getChainInfo(i.chainId):this.chainsService.getChainInfo(i.ibcHistory[e-1].counterpartyChainId)})();if(d){const l=new o.TendermintTxTracer(d.rpc,"/websocket");l.addEventListener("close",n),l.addEventListener("error",r),l.traceTx(a?{"timeout_packet.packet_src_channel":c.channelId,"timeout_packet.packet_sequence":c.sequence}:{"acknowledge_packet.packet_src_channel":c.channelId,"acknowledge_packet.packet_sequence":c.sequence}).then((n=>{l.close(),n&&((0,s.runInAction)((()=>{if(u){const e=n.txs?n.txs.map((e=>e.tx_result||e)):[n.tx_result||n];if(e&&Array.isArray(e))for(const t of e)if(c.sequence&&"swapReceiver"in i){const e=a?this.getIBCTimeoutPacketIndexFromTx(t,c.portId,c.channelId,c.sequence):this.getIBCAcknowledgementPacketIndexFromTx(t,c.portId,c.channelId,c.sequence);if(e>=0){const n=a?this.getIBCSwapResAmountFromTx(t,i.swapReceiver[i.swapChannelIndex+1],(()=>{const n=this.getLastIBCTimeoutPacketBeforeIndexFromTx(t,e);return n<0?0:n})(),e):this.getIBCSwapResAmountFromTx(t,i.swapReceiver[i.swapChannelIndex+1],e);i.swapRefundInfo={chainId:d.chainId,amount:n},c.rewoundButNextRewindingBlocked=!0;break}}}c.rewound=!0})),t(),this.trackIBCPacketForwardingRecursive(e))}))}}}else if(i.txFulfilled){if(i.ibcHistory.length>0){const a=i.ibcHistory.findIndex((e=>!e.completed)),u=a>=0?i.ibcHistory[a]:void 0,l=a>=0&&a+1<i.ibcHistory.length?i.ibcHistory[a+1]:void 0;if(u&&u.sequence){const h=[];let p=!1;const f=()=>{p||(p=!0,h.forEach((e=>{e.readyState!==o.WsReadyState.OPEN&&e.readyState!==o.WsReadyState.CONNECTING||e.close()})),t())};let g=!1;const v=()=>{g||(g=!0,h.forEach((e=>{e.readyState!==o.WsReadyState.OPEN&&e.readyState!==o.WsReadyState.CONNECTING||e.close()})),n())};let m=!1;const y=()=>{m||(m=!0,h.forEach((e=>{e.readyState!==o.WsReadyState.OPEN&&e.readyState!==o.WsReadyState.CONNECTING||e.close()})),r())},b=this.chainsService.getChainInfo(u.counterpartyChainId);if(b){const t={"recv_packet.packet_dst_channel":u.dstChannelId,"recv_packet.packet_sequence":u.sequence},n=new o.TendermintTxTracer(b.rpc,"/websocket");h.push(n),n.addEventListener("close",v),n.addEventListener("error",y),n.traceTx(t).then((t=>{if(n.close(),!t)return;const r=t.txs?t.txs.map((e=>e.tx_result||e)):[t.tx_result||t];r&&Array.isArray(r)&&(0,s.runInAction)((()=>{u.completed=!0;for(const t of r)try{const n=this.getIBCWriteAcknowledgementAckFromTx(t,u.portId,u.channelId,u.sequence);if(n&&n.length>0){const t=d.Buffer.from(n);try{if(JSON.parse(t.toString()).error){u.error="Packet processing failed",f(),this.trackIBCPacketForwardingRecursive(e);break}}catch(e){console.log(e)}}const r=this.getIBCRecvPacketIndexFromTx(t,u.portId,u.channelId,u.sequence);if(r>=0){if("swapReceiver"in i){const e=this.getIBCSwapResAmountFromTx(t,i.swapReceiver[a+1],r);i.resAmount.push(e)}if(l){l.sequence=this.getIBCPacketSequenceFromTx(t,l.portId,l.channelId,r),l.dstChannelId=this.getDstChannelIdFromTx(t,l.portId,l.channelId,r),f(),this.trackIBCPacketForwardingRecursive(e);break}if(i.notificationInfo&&!i.notified){(0,s.runInAction)((()=>{i.notified=!0}));const e=this.chainsService.getChainInfo(i.destinationChainId);if(e)if("swapType"in i){if(i.resAmount.length>0){const t=i.resAmount[i.resAmount.length-1].filter((e=>i.notificationInfo.currencies.find((t=>t.coinMinimalDenom===e.denom)))).map((e=>{const t=i.notificationInfo.currencies.find((t=>t.coinMinimalDenom===e.denom));return new c.CoinPretty(t,e.amount).hideIBCMetadata(!0).shrink(!0).maxDecimals(6).inequalitySymbol(!0).trim(!0).toString()}));t.length>0&&this.notification.create({iconRelativeUrl:"assets/logo-256.png",title:"IBC Swap Succeeded",message:`${t.join(", ")} received on ${e.chainName}`})}}else{const t=i.amount.filter((e=>i.notificationInfo.currencies.find((t=>t.coinMinimalDenom===e.denom)))).map((e=>{const t=i.notificationInfo.currencies.find((t=>t.coinMinimalDenom===e.denom));return new c.CoinPretty(t,e.amount).hideIBCMetadata(!0).shrink(!0).maxDecimals(6).inequalitySymbol(!0).trim(!0).toString()}));t.length>0&&this.notification.create({iconRelativeUrl:"assets/logo-256.png",title:"IBC Transfer Succeeded",message:`${t.join(", ")} sent to ${e.chainName}`})}}f();break}}catch(e){}}))}))}let S="";if(S=a>0?i.ibcHistory[a-1].counterpartyChainId:i.chainId,S){const t=this.chainsService.getChainInfo(S);if(t){const n={"timeout_packet.packet_src_channel":u.channelId,"timeout_packet.packet_sequence":u.sequence},r=new o.TendermintTxTracer(t.rpc,"/websocket");h.push(r),r.addEventListener("close",v),r.addEventListener("error",y),r.traceTx(n).then((t=>{r.close(),t&&(0,s.runInAction)((()=>{u.error="Packet timeout",i.packetTimeout=!0,f(),this.trackIBCPacketForwardingRecursive(e)}))}))}}}}}else{const a=i.chainId,c=this.chainsService.getChainInfo(a),u=d.Buffer.from(i.txHash,"hex");if(c){const a=new o.TendermintTxTracer(c.rpc,"/websocket");a.addEventListener("close",n),a.addEventListener("error",r),a.traceTx(u).then((n=>{a.close(),(0,s.runInAction)((()=>{if(i.txFulfilled=!0,null!=n.code&&0!==n.code)i.txError=n.log||n.raw_log||"Unknown error",this.removeRecentIBCHistory(e);else{if("swapReceiver"in i){const e=this.getIBCSwapResAmountFromTx(n,i.swapReceiver[0]);i.resAmount.push(e)}if(i.ibcHistory.length>0){const r=i.ibcHistory[0];r.sequence=this.getIBCPacketSequenceFromTx(n,r.portId,r.channelId),r.dstChannelId=this.getDstChannelIdFromTx(n,r.portId,r.channelId),t(),this.trackIBCPacketForwardingRecursive(e)}}}))}))}}else t()},this.onChainRemoved=e=>{const t=o.ChainIdHelper.parse(e.chainId).identifier;(0,s.runInAction)((()=>{const e=[];for(const n of this.recentIBCHistoryMap.values())o.ChainIdHelper.parse(n.chainId).identifier!==t&&o.ChainIdHelper.parse(n.destinationChainId).identifier!==t?n.ibcHistory.some((e=>o.ChainIdHelper.parse(e.counterpartyChainId).identifier===t))&&e.push(n.id):e.push(n.id);for(const t of e)this.recentIBCHistoryMap.delete(t)}))},(0,s.makeObservable)(this)}init(){return i(this,void 0,void 0,(function*(){const e=yield this.kvStore.get("recentSendHistoryMap");e&&(0,s.runInAction)((()=>{for(const[t,n]of Object.entries(e))this.recentSendHistoryMap.set(t,n)})),(0,s.autorun)((()=>{const e=(0,s.toJS)(this.recentSendHistoryMap),t=Object.fromEntries(e);this.kvStore.set("recentSendHistoryMap",t)}));const t=yield this.kvStore.get("recentIBCTransferHistorySeq");t&&(0,s.runInAction)((()=>{this.recentIBCHistorySeq=t})),(0,s.autorun)((()=>{const e=(0,s.toJS)(this.recentIBCHistorySeq);this.kvStore.set("recentIBCTransferHistorySeq",e)}));const n=yield this.kvStore.get("recentIBCTransferHistoryMap");n&&(0,s.runInAction)((()=>{let e=Object.entries(n);e=e.sort((([,e],[,t])=>parseInt(e.id)-parseInt(t.id)));for(const[t,n]of e)this.recentIBCHistoryMap.set(t,n)})),(0,s.autorun)((()=>{const e=(0,s.toJS)(this.recentIBCHistoryMap),t=Object.fromEntries(e);this.kvStore.set("recentIBCTransferHistoryMap",t)}));for(const e of this.getRecentIBCHistories())this.trackIBCPacketForwardingRecursive(e.id);this.chainsService.addChainRemovedHandler(this.onChainRemoved)}))}sendTxAndRecord(e,t,n,r,s,a,c,l,h,p,f,g,v=!1){var m,y;return i(this,void 0,void 0,(function*(){const i=this.chainsService.getChainInfoOrThrow(t);o.Bech32Address.validate(c,null===(m=i.bech32Config)||void 0===m?void 0:m.bech32PrefixAccAddr);const b=this.chainsService.getChainInfoOrThrow(n);o.Bech32Address.validate(l,null===(y=b.bech32Config)||void 0===y?void 0:y.bech32PrefixAccAddr);const S=yield this.txService.sendTx(t,r,s,{silent:a,onFulfill:r=>{null!=r.code&&0!==r.code||(this.addRecentSendHistory(n,e,{sender:c,recipient:l,amount:h,memo:p,ibcChannels:f}),r.hash&&v&&setTimeout((()=>{(0,u.simpleFetch)("https://api.skip.build/","/v2/tx/track",{method:"POST",headers:Object.assign({"content-type":"application/json"},{authorization:"d78bcb65-3bd1-4ffc-b7d3-ffeb12edbcee"}),body:JSON.stringify({tx_hash:d.Buffer.from(r.hash).toString("hex"),chain_id:t})}).then((e=>{console.log(`Skip tx track result: ${JSON.stringify(e)}`)})).catch((e=>{console.log(e)}))}),2e3))}});if(f&&f.length>0){const e=this.addRecentIBCTransferHistory(t,n,c,l,h,p,f,g,S);this.trackIBCPacketForwardingRecursive(e)}return S}))}sendTxAndRecordIBCSwap(e,t,n,r,s,a,c,l,h,p,f,g,v,m,y=!1){var b;return i(this,void 0,void 0,(function*(){const i=this.chainsService.getChainInfoOrThrow(t);o.Bech32Address.validate(c,null===(b=i.bech32Config)||void 0===b?void 0:b.bech32PrefixAccAddr),this.chainsService.getChainInfoOrThrow(n);const S=yield this.txService.sendTx(t,r,s,{silent:a,onFulfill:e=>{null!=e.code&&0!==e.code||e.hash&&y&&setTimeout((()=>{(0,u.simpleFetch)("https://api.skip.build/","/v2/tx/track",{method:"POST",headers:Object.assign({"content-type":"application/json"},{authorization:"d78bcb65-3bd1-4ffc-b7d3-ffeb12edbcee"}),body:JSON.stringify({tx_hash:d.Buffer.from(e.hash).toString("hex"),chain_id:t})}).then((e=>{console.log(`Skip tx track result: ${JSON.stringify(e)}`)})).catch((e=>{console.log(e)}))}),2e3)}}),w=this.addRecentIBCSwapHistory(e,t,n,c,l,h,p,f,g,v,m,S);return this.trackIBCPacketForwardingRecursive(w),S}))}trackIBCPacketForwardingRecursive(e){(0,a.retry)((()=>new Promise(((t,n)=>{this.trackIBCPacketForwardingRecursiveInternal(e,(()=>{t()}),(()=>{setTimeout((()=>{n()}),500)}),(()=>{n()}))}))),{maxRetries:10,waitMsAfterError:1e4,maxWaitMsAfterError:3e5})}getRecentSendHistories(e,t){var n;const r=`${o.ChainIdHelper.parse(e).identifier}/${t}`;return(null!==(n=this.recentSendHistoryMap.get(r))&&void 0!==n?n:[]).slice(0,20)}addRecentSendHistory(e,t,n){var r;const i=`${o.ChainIdHelper.parse(e).identifier}/${t}`;let s=null!==(r=this.recentSendHistoryMap.get(i))&&void 0!==r?r:[];s.unshift(Object.assign({timestamp:Date.now()},n)),s=s.slice(0,20),this.recentSendHistoryMap.set(i,s)}addRecentIBCTransferHistory(e,t,n,r,i,o,s,a,c){const u=(this.recentIBCHistorySeq++).toString(),l={id:u,chainId:e,destinationChainId:t,timestamp:Date.now(),sender:n,recipient:r,amount:i,memo:o,ibcHistory:s.map((e=>({portId:e.portId,channelId:e.channelId,counterpartyChainId:e.counterpartyChainId,completed:!1}))),notificationInfo:a,txHash:d.Buffer.from(c).toString("hex")};return this.recentIBCHistoryMap.set(u,l),u}addRecentIBCSwapHistory(e,t,n,r,i,o,s,a,c,u,l,h){const p=(this.recentIBCHistorySeq++).toString(),f={id:p,swapType:e,chainId:t,destinationChainId:n,timestamp:Date.now(),sender:r,amount:i,memo:o,ibcHistory:s.map((e=>({portId:e.portId,channelId:e.channelId,counterpartyChainId:e.counterpartyChainId,completed:!1}))),destinationAsset:a,swapChannelIndex:c,swapReceiver:u,resAmount:[],notificationInfo:l,txHash:d.Buffer.from(h).toString("hex")};return this.recentIBCHistoryMap.set(p,f),p}getRecentIBCHistory(e){return this.recentIBCHistoryMap.get(e)}getRecentIBCHistories(){return Array.from(this.recentIBCHistoryMap.values()).filter((e=>!!this.chainsService.hasChainInfo(e.chainId)&&!!this.chainsService.hasChainInfo(e.destinationChainId)&&!e.ibcHistory.some((e=>!this.chainsService.hasChainInfo(e.counterpartyChainId)))))}removeRecentIBCHistory(e){return this.recentIBCHistoryMap.delete(e)}clearAllRecentIBCHistory(){this.recentIBCHistoryMap.clear()}getIBCWriteAcknowledgementAckFromTx(e,t,n,r){const i=e.events;if(!i)throw new Error("Invalid tx");if(!Array.isArray(i))throw new Error("Invalid tx");const o=(e,t)=>e===t?[!0,!1]:e===d.Buffer.from(t).toString("base64")?[!0,!0]:[!1,!1],s=i.find((e=>{if("write_acknowledgement"!==e.type)return!1;const i=e.attributes.find((e=>o(e.key,"packet_src_port")[0]));if(!i)return!1;const s=e.attributes.find((e=>o(e.key,"packet_src_channel")[0]));if(!s)return!1;let a=!1;const c=e.attributes.find((e=>{const t=o(e.key,"packet_sequence");return a=t[1],t[0]}));return!!c&&(a?d.Buffer.from(i.value,"base64").toString()===t&&d.Buffer.from(s.value,"base64").toString()===n&&d.Buffer.from(c.value,"base64").toString()===r:i.value===t&&s.value===n&&c.value===r)}));if(!s)return;let a=!1;const c=s.attributes.find((e=>{const t=o(e.key,"packet_ack");return a=t[1],t[0]}));return c?a?d.Buffer.from(c.value,"base64"):d.Buffer.from(c.value):void 0}getIBCSwapResAmountFromTx(e,t,n=0,r=-1){const i=e.events.slice(n,r>=0?r:void 0),o=(e,t)=>e===t?[!0,!1]:e===d.Buffer.from(t).toString("base64")?[!0,!0]:[!1,!1],s=i.reverse().find((e=>!("coin_received"!==e.type||!e.attributes.find((e=>o(e.key,"receiver")[0]&&o(e.value,t)[0])))));if(s){let e=!1;const t=s.attributes.find((t=>{const n=o(t.key,"amount");return e=n[1],n[0]}));if(t){const n=(e?d.Buffer.from(t.value,"base64").toString():t.value).split(/^([0-9]+)(\s)*([a-zA-Z][a-zA-Z0-9/-]*)$/);if(5===n.length){const e=n[1];return[{denom:n[3],amount:e}]}}}return[]}getIBCAcknowledgementPacketIndexFromTx(e,t,n,r){const i=e.events;if(!i)throw new Error("Invalid tx");if(!Array.isArray(i))throw new Error("Invalid tx");const o=(e,t)=>e===t?[!0,!1]:e===d.Buffer.from(t).toString("base64")?[!0,!0]:[!1,!1],s=i.find((e=>{if("acknowledge_packet"!==e.type)return!1;const i=e.attributes.find((e=>o(e.key,"packet_src_port")[0]));if(!i)return!1;const s=e.attributes.find((e=>o(e.key,"packet_src_channel")[0]));if(!s)return!1;let a=!1;const c=e.attributes.find((e=>{const t=o(e.key,"packet_sequence");return a=t[1],t[0]}));return!!c&&(a?d.Buffer.from(i.value,"base64").toString()===t&&d.Buffer.from(s.value,"base64").toString()===n&&d.Buffer.from(c.value,"base64").toString()===r:i.value===t&&s.value===n&&c.value===r)}));return s?i.indexOf(s):-1}getIBCTimeoutPacketIndexFromTx(e,t,n,r){const i=e.events;if(!i)throw new Error("Invalid tx");if(!Array.isArray(i))throw new Error("Invalid tx");const o=(e,t)=>e===t?[!0,!1]:e===d.Buffer.from(t).toString("base64")?[!0,!0]:[!1,!1],s=i.find((e=>{if("timeout_packet"!==e.type)return!1;const i=e.attributes.find((e=>o(e.key,"packet_src_port")[0]));if(!i)return!1;const s=e.attributes.find((e=>o(e.key,"packet_src_channel")[0]));if(!s)return!1;let a=!1;const c=e.attributes.find((e=>{const t=o(e.key,"packet_sequence");return a=t[1],t[0]}));return!!c&&(a?d.Buffer.from(i.value,"base64").toString()===t&&d.Buffer.from(s.value,"base64").toString()===n&&d.Buffer.from(c.value,"base64").toString()===r:i.value===t&&s.value===n&&c.value===r)}));return s?i.indexOf(s):-1}getLastIBCTimeoutPacketBeforeIndexFromTx(e,t){const n=e.events;if(!n)throw new Error("Invalid tx");if(!Array.isArray(n))throw new Error("Invalid tx");const r=n.slice(0,t).reverse().findIndex((e=>{if("timeout_packet"===e.type)return!0}));return r>=0?t-r-1:-1}getIBCRecvPacketIndexFromTx(e,t,n,r){const i=e.events;if(!i)throw new Error("Invalid tx");if(!Array.isArray(i))throw new Error("Invalid tx");const o=(e,t)=>e===t?[!0,!1]:e===d.Buffer.from(t).toString("base64")?[!0,!0]:[!1,!1],s=i.find((e=>{if("recv_packet"!==e.type)return!1;const i=e.attributes.find((e=>o(e.key,"packet_src_port")[0]));if(!i)return!1;const s=e.attributes.find((e=>o(e.key,"packet_src_channel")[0]));if(!s)return!1;let a=!1;const c=e.attributes.find((e=>{const t=o(e.key,"packet_sequence");return a=t[1],t[0]}));return!!c&&(a?d.Buffer.from(i.value,"base64").toString()===t&&d.Buffer.from(s.value,"base64").toString()===n&&d.Buffer.from(c.value,"base64").toString()===r:i.value===t&&s.value===n&&c.value===r)}));return s?i.indexOf(s):-1}getIBCPacketSequenceFromTx(e,t,n,r=0){let i=e.events;if(!i)throw new Error("Invalid tx");if(!Array.isArray(i))throw new Error("Invalid tx");const o=(e,t)=>e===t?[!0,!1]:e===d.Buffer.from(t).toString("base64")?[!0,!0]:[!1,!1];i=i.slice(r);const s=i.find((e=>{if("send_packet"!==e.type)return!1;const r=e.attributes.find((e=>o(e.key,"packet_src_port")[0]));if(!r)return!1;let i=!1;const s=e.attributes.find((e=>{const t=o(e.key,"packet_src_channel");return i=t[1],t[0]}));return!!s&&(i?r.value===d.Buffer.from(t).toString("base64")&&s.value===d.Buffer.from(n).toString("base64"):r.value===t&&s.value===n)}));let a=!1;if(s){const e=s.attributes.find((e=>{const t=o(e.key,"packet_sequence");return a=t[1],t[0]}));if(!e)throw new Error("Invalid tx");return a?d.Buffer.from(e.value,"base64").toString():e.value}throw new Error("Invalid tx")}getDstChannelIdFromTx(e,t,n,r=0){let i=e.events;if(!i)throw new Error("Invalid tx");if(!Array.isArray(i))throw new Error("Invalid tx");const o=(e,t)=>e===t?[!0,!1]:e===d.Buffer.from(t).toString("base64")?[!0,!0]:[!1,!1];i=i.slice(r);const s=i.find((e=>{if("send_packet"!==e.type)return!1;const r=e.attributes.find((e=>o(e.key,"packet_src_port")[0]));if(!r)return!1;let i=!1;const s=e.attributes.find((e=>{const t=o(e.key,"packet_src_channel");return i=t[1],t[0]}));return!!s&&(i?r.value===d.Buffer.from(t).toString("base64")&&s.value===d.Buffer.from(n).toString("base64"):r.value===t&&s.value===n)}));let a=!1;if(s){const e=s.attributes.find((e=>{const t=o(e.key,"packet_dst_channel");return a=t[1],t[0]}));if(!e)throw new Error("Invalid tx");return a?d.Buffer.from(e.value,"base64").toString():e.value}throw new Error("Invalid tx")}}r([s.observable],l.prototype,"recentSendHistoryMap",void 0),r([s.observable],l.prototype,"recentIBCHistorySeq",void 0),r([s.observable],l.prototype,"recentIBCHistoryMap",void 0),r([s.action],l.prototype,"addRecentSendHistory",null),r([s.action],l.prototype,"addRecentIBCTransferHistory",null),r([s.action],l.prototype,"addRecentIBCSwapHistory",null),r([s.action],l.prototype,"removeRecentIBCHistory",null),r([s.action],l.prototype,"clearAllRecentIBCHistory",null),t.RecentSendHistoryService=l},64661:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},90771:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ROUTE=void 0,t.ROUTE="secret-wasm"},23110:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.EnigmaUtils=void 0;const a=n(23870),d=n(41036),c=n(45833),u=o(n(27849)),l=n(86693),h=n(48834),p=n(94531),f=new u.PolyfillCryptoProvider,g=new Uint8Array(h.Buffer.from("000000000000000000024bead8df69990852c202db0e0097c1a12ea637d7e96d","hex")),v=new Uint8Array(h.Buffer.from("79++5YOHfm0SwhlpUDClv7cuCjq9xBZlWqSjDJWkRG8=","base64"));class m{constructor(e,t,n){if(this.url=e,this.seed=t,this.chainId=n,this.consensusIoPubKey=new Uint8Array,32!==t.length)throw new Error("encryptionSeed must be a Uint8Array of length 32");const{privkey:r,pubkey:i}=m.GenerateNewKeyPairFromSeed(this.seed);this.privkey=r,this.pubkey=i,"secret"===p.ChainIdHelper.parse(n).identifier&&(this.consensusIoPubKey=v),this.isNewApi=!1}static secureRandom(e){const t=new Uint8Array(e);return crypto.getRandomValues(t),t}static GenerateNewKeyPairFromSeed(e){const{private:t,public:n}=(0,a.generateKeyPair)(e);return{privkey:t,pubkey:n}}getConsensusIoPubKey(){var e;return s(this,void 0,void 0,(function*(){if(32===this.consensusIoPubKey.length)return this.consensusIoPubKey;try{const e=yield(0,l.simpleFetch)(this.url,"/reg/tx-key");this.consensusIoPubKey=new Uint8Array(h.Buffer.from(e.data.result.TxKey,"base64"))}catch(t){if(!(0,l.isSimpleFetchError)(t)||!t.response||501!=(null===(e=t.response)||void 0===e?void 0:e.status))throw t;const n=yield(0,l.simpleFetch)(this.url,"/registration/v1beta1/tx-key");this.consensusIoPubKey=new Uint8Array(h.Buffer.from(n.data.key,"base64")),this.isNewApi=!0}return this.consensusIoPubKey}))}getTxEncryptionKey(e){return s(this,void 0,void 0,(function*(){const t=yield this.getConsensusIoPubKey(),n=(0,a.sharedKey)(this.privkey,t);return(0,d.hkdf)(c.sha256,Uint8Array.from([...n,...e]),g,"",32)}))}encrypt(e,t){return s(this,void 0,void 0,(function*(){const n=m.secureRandom(32),r=yield this.getTxEncryptionKey(n),i=yield u.SIV.importKey(r,"AES-SIV",f),o=(new TextEncoder).encode(e+JSON.stringify(t)),s=yield i.seal(o,[new Uint8Array]);return Uint8Array.from([...n,...this.pubkey,...s])}))}decrypt(e,t){return s(this,void 0,void 0,(function*(){if(!(null==e?void 0:e.length))return new Uint8Array;const n=yield this.getTxEncryptionKey(t),r=yield u.SIV.importKey(n,"AES-SIV",f);return yield r.open(e,[new Uint8Array])}))}getPubkey(){return Promise.resolve(this.pubkey)}}t.EnigmaUtils=m},26e3:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getHandler=void 0;const i=n(47722),o=n(95992);t.getHandler=(e,t)=>(n,r)=>{switch(r.constructor){case o.GetPubkeyMsg:return s(e,t)(n,r);case o.ReqeustEncryptMsg:return d(e,t)(n,r);case o.RequestDecryptMsg:return c(e,t)(n,r);case o.GetTxEncryptionKeyMsg:return u(e,t)(n,r);case o.IsNewApiMsg:return a(e,t)(n,r);default:throw new i.KeplrError("secret-wasm",120,"Unknown msg type")}};const s=(e,t)=>(n,i)=>r(void 0,void 0,void 0,(function*(){return yield t.ensureEnabled(n,[i.chainId],i.origin),yield e.getPubkey(i.chainId)})),a=(e,t)=>(n,i)=>r(void 0,void 0,void 0,(function*(){return yield t.ensureEnabled(n,[i.chainId],i.origin),yield e.isNewApi(i.chainId)})),d=(e,t)=>(n,i)=>r(void 0,void 0,void 0,(function*(){return yield t.ensureEnabled(n,[i.chainId],i.origin),yield e.encrypt(i.chainId,i.contractCodeHash,i.msg)})),c=(e,t)=>(n,i)=>r(void 0,void 0,void 0,(function*(){return yield t.ensureEnabled(n,[i.chainId],i.origin),yield e.decrypt(i.chainId,i.cipherText,i.nonce)})),u=(e,t)=>(n,i)=>r(void 0,void 0,void 0,(function*(){return yield t.ensureEnabled(n,[i.chainId],i.origin),yield e.getTxEncryptionKey(i.chainId,i.nonce)}))},5147:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(47503),t),i(n(95992),t)},43558:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;const r=n(95992),i=n(90771),o=n(26e3);t.init=function(e,t,n){e.registerMessage(r.GetPubkeyMsg),e.registerMessage(r.ReqeustEncryptMsg),e.registerMessage(r.RequestDecryptMsg),e.registerMessage(r.GetTxEncryptionKeyMsg),e.registerMessage(r.IsNewApiMsg),e.addHandler(i.ROUTE,(0,o.getHandler)(t,n))}},22086:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(47503),t),i(n(43558),t)},95992:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IsNewApiMsg=t.GetTxEncryptionKeyMsg=t.RequestDecryptMsg=t.ReqeustEncryptMsg=t.GetPubkeyMsg=void 0;const r=n(47722),i=n(90771);class o extends r.Message{static type(){return"get-pubkey-msg"}constructor(e){super(),this.chainId=e}validateBasic(){if(!this.chainId)throw new r.KeplrError("secret-wasm",100,"chain id not set")}approveExternal(){return!0}route(){return i.ROUTE}type(){return o.type()}}t.GetPubkeyMsg=o;class s extends r.Message{static type(){return"request-encrypt-msg"}constructor(e,t,n){super(),this.chainId=e,this.contractCodeHash=t,this.msg=n}validateBasic(){if(!this.chainId)throw new r.KeplrError("secret-wasm",100,"chain id not set");if(!this.contractCodeHash)throw new r.KeplrError("secret-wasm",103,"contract code hash not set");if(!this.msg)throw new r.KeplrError("secret-wasm",101,"msg not set")}approveExternal(){return!0}route(){return i.ROUTE}type(){return s.type()}}t.ReqeustEncryptMsg=s;class a extends r.Message{static type(){return"request-decrypt-msg"}constructor(e,t,n){super(),this.chainId=e,this.cipherText=t,this.nonce=n}validateBasic(){if(!this.chainId)throw new r.KeplrError("secret-wasm",100,"chain id not set");if(!this.cipherText||0===this.cipherText.length)throw new r.KeplrError("secret-wasm",102,"ciphertext not set");if(!this.nonce||0===this.nonce.length)throw new r.KeplrError("secret-wasm",110,"nonce not set")}approveExternal(){return!0}route(){return i.ROUTE}type(){return a.type()}}t.RequestDecryptMsg=a;class d extends r.Message{static type(){return"get-tx-encryption-key-msg"}constructor(e,t){super(),this.chainId=e,this.nonce=t}validateBasic(){if(!this.chainId)throw new r.KeplrError("secret-wasm",100,"chain id not set");if(!this.nonce)throw new r.KeplrError("secret-wasm",111,"nonce is null")}approveExternal(){return!0}route(){return i.ROUTE}type(){return d.type()}}t.GetTxEncryptionKeyMsg=d;class c extends r.Message{static type(){return"is-new-api-msg"}constructor(e){super(),this.chainId=e}validateBasic(){if(!this.chainId)throw new r.KeplrError("secret-wasm",100,"chain id not set")}approveExternal(){return!0}route(){return i.ROUTE}type(){return c.type()}}t.IsNewApiMsg=c},47503:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SecretWasmService=void 0;const o=n(23110),s=n(94531),a=n(48834),d=n(34298),c=n(80075);class u{constructor(e,t,n){this.kvStore=e,this.chainsService=t,this.keyRingCosmosService=n,this.cacheEnigmaUtils=new Map,this.seedMap=new Map,this.onChainRemoved=()=>{this.cacheEnigmaUtils=new Map}}init(){return i(this,void 0,void 0,(function*(){(yield this.kvStore.get("migration/v2"))||(yield this.kvStore.set("migration/v2",!0));const e=yield this.kvStore.get("seedMap/v2");e&&(0,c.runInAction)((()=>{for(const[t,n]of Object.entries(e))n&&this.seedMap.set(t,n)})),(0,c.autorun)((()=>{const e=(0,c.toJS)(this.seedMap),t=Object.fromEntries(e);this.kvStore.set("seedMap/v2",t)})),this.chainsService.addChainRemovedHandler(this.onChainRemoved)}))}getPubkey(e){return i(this,void 0,void 0,(function*(){const t=this.chainsService.getChainInfoOrThrow(e),n=yield this.getSeed(t);return this.getEnigmaUtils(t,n).pubkey}))}getTxEncryptionKey(e,t){return i(this,void 0,void 0,(function*(){const n=yield this.chainsService.getChainInfoOrThrow(e),r=yield this.getSeed(n);return this.getEnigmaUtils(n,r).getTxEncryptionKey(t)}))}isNewApi(e){return i(this,void 0,void 0,(function*(){const t=yield this.chainsService.getChainInfoOrThrow(e),n=yield this.getSeed(t);return this.getEnigmaUtils(t,n).isNewApi}))}encrypt(e,t,n){return i(this,void 0,void 0,(function*(){const r=yield this.chainsService.getChainInfoOrThrow(e),i=yield this.getSeed(r),o=this.getEnigmaUtils(r,i);return yield o.encrypt(t,n)}))}decrypt(e,t,n){return i(this,void 0,void 0,(function*(){const r=yield this.chainsService.getChainInfoOrThrow(e),i=yield this.getSeed(r),o=this.getEnigmaUtils(r,i);return yield o.decrypt(t,n)}))}getEnigmaUtils(e,t){const n=`${e.chainId}-${a.Buffer.from(t).toString("hex")}`;if(this.cacheEnigmaUtils.has(n))return this.cacheEnigmaUtils.get(n);const r=new o.EnigmaUtils(e.rest,t,e.rest);return this.cacheEnigmaUtils.set(n,r),r}getSeed(e){return i(this,void 0,void 0,(function*(){const t=yield this.keyRingCosmosService.getKeySelected(e.chainId);return yield this.getSeedInner(e,t)}))}getSeedInner(e,t){return i(this,void 0,void 0,(function*(){const n=`seed-${s.ChainIdHelper.parse(e.chainId).identifier}-${t.bech32Address}`,r=this.seedMap.get(n);if(r)return a.Buffer.from(r,"hex");const o=yield(()=>i(this,void 0,void 0,(function*(){if(t.isNanoLedger||t.isKeystone){const e=new Uint8Array(32);return crypto.getRandomValues(e),e}return d.Hash.sha256(yield this.keyRingCosmosService.legacySignArbitraryInternal(e.chainId,"Create Keplr Secret encryption key. Only approve requests by Keplr."))})))();return this.seedMap.set(n,a.Buffer.from(o).toString("hex")),o}))}}r([c.observable],u.prototype,"seedMap",void 0),t.SecretWasmService=u},42612:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ROUTE=void 0,t.ROUTE="settings"},1369:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getHandler=void 0;const r=n(47722),i=n(32174);t.getHandler=e=>(t,n)=>{switch(n.constructor){case i.GetThemeOptionMsg:return o(e)(t,n);case i.SetThemeOptionMsg:return s(e)(t,n);default:throw new r.KeplrError("settings",110,"Unknown msg type")}};const o=e=>()=>e.getThemeOption(),s=e=>(t,n)=>e.setThemeOption(n.themeOption)},83651:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(37170),t),i(n(32174),t)},15805:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;const r=n(32174),i=n(42612),o=n(1369);t.init=function(e,t){e.registerMessage(r.GetThemeOptionMsg),e.registerMessage(r.SetThemeOptionMsg),e.addHandler(i.ROUTE,(0,o.getHandler)(t))}},90496:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(37170),t),i(n(15805),t)},32174:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SetThemeOptionMsg=t.GetThemeOptionMsg=void 0;const r=n(47722),i=n(42612);class o extends r.Message{static type(){return"GetThemeOptionMsg"}constructor(){super()}approveExternal(){return!0}validateBasic(){}route(){return i.ROUTE}type(){return o.type()}}t.GetThemeOptionMsg=o;class s extends r.Message{static type(){return"SetThemeOptionMsg"}constructor(e){super(),this.themeOption=e}validateBasic(){}route(){return i.ROUTE}type(){return s.type()}}t.SetThemeOptionMsg=s},37170:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsService=void 0;const o=n(80075);class s{constructor(e){this.kvStore=e,this.settingsMap=new Map,(0,o.makeObservable)(this)}init(){return i(this,void 0,void 0,(function*(){{const e=yield this.kvStore.get("settings");e&&(0,o.runInAction)((()=>{for(const t of Object.keys(e)){const n=e[t];n&&this.settingsMap.set(t,n)}})),(0,o.autorun)((()=>{this.kvStore.set("settings",Object.fromEntries(this.settingsMap))}))}}))}getThemeOption(){var e;return null!==(e=this.settingsMap.get("theme-option"))&&void 0!==e?e:"dark"}setThemeOption(e){this.settingsMap.set("theme-option",e)}}r([o.observable],s.prototype,"settingsMap",void 0),t.SettingsService=s},8511:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ROUTE=void 0,t.ROUTE="side-panel"},47361:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getHandler=void 0;const r=n(47722),i=n(75808);t.getHandler=e=>(t,n)=>{switch(n.constructor){case i.GetSidePanelIsSupportedMsg:return o(e)(t,n);case i.GetSidePanelEnabledMsg:return s(e)(t,n);case i.SetSidePanelEnabledMsg:return a(e)(t,n);default:throw new r.KeplrError("sidePanll",221,"Unknown msg type")}};const o=e=>()=>({supported:e.isSidePanelSupported()}),s=e=>()=>({enabled:e.getIsEnabled()}),a=e=>(t,n)=>(e.setIsEnabled(n.enabled),{enabled:e.getIsEnabled()})},65205:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(75808),t),i(n(55029),t)},65222:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;const r=n(75808),i=n(8511),o=n(47361);t.init=function(e,t){e.registerMessage(r.GetSidePanelIsSupportedMsg),e.registerMessage(r.GetSidePanelEnabledMsg),e.registerMessage(r.SetSidePanelEnabledMsg),e.addHandler(i.ROUTE,(0,o.getHandler)(t))}},51469:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(55029),t),i(n(65222),t)},75808:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SetSidePanelEnabledMsg=t.GetSidePanelEnabledMsg=t.GetSidePanelIsSupportedMsg=void 0;const r=n(47722),i=n(8511);class o extends r.Message{static type(){return"GetSidePanelIsSupportedMsg"}constructor(){super()}validateBasic(){}route(){return i.ROUTE}type(){return o.type()}}t.GetSidePanelIsSupportedMsg=o;class s extends r.Message{static type(){return"GetSidePanelEnabledMsg"}constructor(){super()}validateBasic(){}approveExternal(){return!0}route(){return i.ROUTE}type(){return s.type()}}t.GetSidePanelEnabledMsg=s;class a extends r.Message{static type(){return"SetSidePanelEnabledMsg"}constructor(e){super(),this.enabled=e}validateBasic(){}route(){return i.ROUTE}type(){return a.type()}}t.SetSidePanelEnabledMsg=a},55029:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SidePanelService=void 0;const o=n(80075),s=n(89642);class a{constructor(e,t){this.kvStore=e,this.analyticsService=t,this._isEnabled=!1,(0,o.makeObservable)(this)}init(){return i(this,void 0,void 0,(function*(){{const e=yield this.kvStore.get("sidePanel.isEnabled");e&&(0,o.runInAction)((()=>{this._isEnabled=e})),(0,o.autorun)((()=>{this.kvStore.set("sidePanel.isEnabled",this._isEnabled)})),(0,o.autorun)((()=>{this.setPanelBehavior().catch(console.log)}))}(0,o.autorun)((()=>{const e=this.getIsEnabled();(()=>{i(this,void 0,void 0,(function*(){let t=!1;(0,s.isServiceWorker)()&&(yield browser.storage.session.get("side_panel_analytics")).side_panel_analytics===e&&(t=!0),t||(this.analyticsService.logEventIgnoreError("side_panel",{enabled:e}),(0,s.isServiceWorker)()&&(yield browser.storage.session.set({side_panel_analytics:e})))}))})()}))}))}setIsEnabled(e){this._isEnabled=e}getIsEnabled(){return!!this.isSidePanelSupported()&&this._isEnabled}isSidePanelSupported(){if(!(0,s.isServiceWorker)())return!1;try{const e=navigator;if("userAgentData"in e){const t=e.userAgentData.brands.map((e=>e.brand));if(!t.includes("Google Chrome")&&!t.includes("Microsoft Edge")&&!t.includes("Brave"))return!1}}catch(e){return console.log(e),!1}return"undefined"!=typeof chrome&&void 0!==chrome.sidePanel}setPanelBehavior(){return i(this,void 0,void 0,(function*(){this._isEnabled?this.isSidePanelSupported()&&(yield chrome.sidePanel.setPanelBehavior({openPanelOnActionClick:!0})):this.isSidePanelSupported()&&(yield chrome.sidePanel.setPanelBehavior({openPanelOnActionClick:!1}))}))}}r([o.observable],a.prototype,"_isEnabled",void 0),r([o.action],a.prototype,"setIsEnabled",null),t.SidePanelService=a},86905:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ROUTE=void 0,t.ROUTE="token-cw20"},37717:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getHandler=void 0;const i=n(47722),o=n(84970),s=n(48834);t.getHandler=(e,t,n)=>(r,s)=>{switch(s.constructor){case o.GetAllTokenInfosMsg:return a(e)(r,s);case o.SuggestTokenMsg:return d(e,t,n)(r,s);case o.AddTokenMsg:return c(e)(r,s);case o.RemoveTokenMsg:return u(e)(r,s);case o.GetSecret20ViewingKey:return l(e,t,n)(r,s);default:throw new i.KeplrError("tokens",120,"Unknown msg type")}};const a=e=>()=>e.getAllTokenInfos(),d=(e,t,n)=>(i,o)=>r(void 0,void 0,void 0,(function*(){yield t.ensureEnabled(i,[o.chainId],o.origin);const r=yield n.getKeySelected(o.chainId),a=s.Buffer.from(r.address).toString("hex");yield e.suggestToken(i,o.chainId,o.contractAddress,a,o.viewingKey)})),c=e=>(t,n)=>r(void 0,void 0,void 0,(function*(){return yield e.setToken(n.chainId,n.currency,n.associatedAccountAddress),e.getAllTokenInfos()})),u=e=>(t,n)=>(e.removeToken(n.chainId,n.contractAddress,n.associatedAccountAddress),e.getAllTokenInfos()),l=(e,t,n)=>(i,o)=>r(void 0,void 0,void 0,(function*(){yield t.ensureEnabled(i,[o.chainId],o.origin);const r=yield n.getKeySelected(o.chainId),a=s.Buffer.from(r.address).toString("hex");return e.getSecret20ViewingKey(o.chainId,o.contractAddress,a)}))},57525:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(29486),t),i(n(84970),t),i(n(18474),t)},11843:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;const r=n(84970),i=n(86905),o=n(37717);t.init=function(e,t,n,s){e.registerMessage(r.GetAllTokenInfosMsg),e.registerMessage(r.SuggestTokenMsg),e.registerMessage(r.AddTokenMsg),e.registerMessage(r.RemoveTokenMsg),e.registerMessage(r.GetSecret20ViewingKey),e.addHandler(i.ROUTE,(0,o.getHandler)(t,n,s))}},40613:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(29486),t),i(n(11843),t)},84970:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GetSecret20ViewingKey=t.RemoveTokenMsg=t.AddTokenMsg=t.SuggestTokenMsg=t.GetAllTokenInfosMsg=void 0;const r=n(47722),i=n(86905);class o extends r.Message{static type(){return"GetAllTokenInfosMsg"}constructor(){super()}validateBasic(){}route(){return i.ROUTE}type(){return o.type()}}t.GetAllTokenInfosMsg=o;class s extends r.Message{static type(){return"SuggestTokenMsg"}constructor(e,t,n){super(),this.chainId=e,this.contractAddress=t,this.viewingKey=n}approveExternal(){return!0}validateBasic(){if(!this.chainId)throw new r.KeplrError("tokens",100,"Chain id is empty");if(!this.contractAddress)throw new r.KeplrError("tokens",101,"Contract address is empty")}route(){return i.ROUTE}type(){return s.type()}}t.SuggestTokenMsg=s;class a extends r.Message{static type(){return"AddTokenMsg"}constructor(e,t,n){super(),this.chainId=e,this.associatedAccountAddress=t,this.currency=n}validateBasic(){if(!this.chainId)throw new r.KeplrError("tokens",100,"Chain id is empty")}route(){return i.ROUTE}type(){return a.type()}}t.AddTokenMsg=a;class d extends r.Message{static type(){return"RemoveTokenMsg"}constructor(e,t,n){super(),this.chainId=e,this.associatedAccountAddress=t,this.contractAddress=n}validateBasic(){if(!this.chainId)throw new r.KeplrError("tokens",100,"Chain id is empty")}route(){return i.ROUTE}type(){return d.type()}}t.RemoveTokenMsg=d;class c extends r.Message{static type(){return"get-secret20-viewing-key"}constructor(e,t){super(),this.chainId=e,this.contractAddress=t}validateBasic(){if(!this.chainId)throw new r.KeplrError("tokens",100,"Chain id is empty");if(!this.contractAddress)throw new r.KeplrError("tokens",101,"Contract address is empty")}approveExternal(){return!0}route(){return i.ROUTE}type(){return c.type()}}t.GetSecret20ViewingKey=c},29486:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.TokenCW20Service=void 0;const o=n(47722),s=n(32821),a=n(94531),d=n(89642),c=n(80075),u=n(58242),l=n(48834);class h{constructor(e,t,n){this.chainsService=t,this.interactionService=n,this.tokenMap=new Map,this.onChainRemoved=e=>{const t=a.ChainIdHelper.parse(e.chainId).identifier;(0,c.runInAction)((()=>{this.tokenMap.delete(t)}))},this.getAllTokenInfos=(0,u.computedFn)((()=>{const e=(0,c.toJS)(this.tokenMap);return Object.fromEntries(e)})),this.getToken=(0,u.computedFn)(((e,t,n)=>{const r=a.ChainIdHelper.parse(e).identifier,i=this.tokenMap.get(r);if(i)return i.find((e=>(!e.associatedAccountAddress||e.associatedAccountAddress===n)&&"contractAddress"in e.currency&&e.currency.contractAddress===t))})),this.legacyKVStore=e,this.kvStore=new d.PrefixKVStore(e,"v2"),(0,c.makeObservable)(this)}init(){return i(this,void 0,void 0,(function*(){if(!(yield this.kvStore.get("migrated/v2"))){for(const e of this.chainsService.getChainInfos()){const t=a.ChainIdHelper.parse(e.chainId).identifier,n=yield this.legacyKVStore.get(t);n&&n.length>0&&this.tokenMap.set(t,n.map((e=>({currency:e}))));const r=yield this.legacyKVStore.get(`${t}-addresses`);if(r&&r.length>0)for(const e of r){const n=yield this.legacyKVStore.get(`${t}-${e}`);n&&n.length>0&&this.tokenMap.set(t,n.map((t=>({associatedAccountAddress:e,currency:t}))))}}yield this.kvStore.set("migrated/v2",!0)}{const e=yield this.kvStore.get("tokenMap");if(e)for(const[t,n]of Object.entries(e))this.tokenMap.set(t,n);(0,c.autorun)((()=>{const e=(0,c.toJS)(this.tokenMap),t=Object.fromEntries(e);this.kvStore.set("tokenMap",t)}))}this.chainsService.addChainRemovedHandler(this.onChainRemoved)}))}validateAssociatedAccountAddress(e){if(!e)throw new Error("Please provide the associated account address");if(l.Buffer.from(e,"hex").toString("hex")!==e)throw new Error("Invalid associated account address")}validateChainInfoFeatures(e){if(!e.features||!e.features.includes("cosmwasm")&&!e.features.includes("secretwasm"))throw new Error("The chain doesn't support cosmwasm")}suggestToken(e,t,n,r,o){var s;return i(this,void 0,void 0,(function*(){this.validateAssociatedAccountAddress(r);const i=this.chainsService.getChainInfoOrThrow(t);this.validateChainInfoFeatures(i);const d=this.getToken(t,n,r);if(d)return o?void("type"in d.currency&&"secret20"===d.currency.type&&d.currency.viewingKey!==o&&(yield this.setToken(t,Object.assign(Object.assign({},d.currency),{viewingKey:o}),r))):void 0;a.Bech32Address.validate(n,null===(s=i.bech32Config)||void 0===s?void 0:s.bech32PrefixAccAddr);const c={chainId:t,contractAddress:n,viewingKey:o},u=yield this.interactionService.waitApprove(e,"/setting/token/add","suggest-token-cw20",c);yield this.setToken(t,u,r)}))}setToken(e,t,n){return i(this,void 0,void 0,(function*(){this.validateAssociatedAccountAddress(n);const r=this.chainsService.getChainInfoOrThrow(e);this.validateChainInfoFeatures(r);const i=a.ChainIdHelper.parse(e).identifier;this.tokenMap.has(i)||(0,c.runInAction)((()=>{this.tokenMap.set(i,[])}));const o=this.tokenMap.get(i);if(!("type"in(t=yield h.validateCurrency(r,t)))||"cw20"!==t.type&&"secret20"!==t.type)throw new Error("Unknown type of currency");if("secret20"===t.type&&!t.viewingKey)throw new Error("Viewing key must be set");const s=t.contractAddress,d="secret20"===t.type,u=o.find((e=>(!e.associatedAccountAddress||e.associatedAccountAddress===n)&&"contractAddress"in e.currency&&e.currency.contractAddress===s));(0,c.runInAction)((()=>{u?u.currency=t:o.push({associatedAccountAddress:d?n:void 0,currency:t})}))}))}removeToken(e,t,n){const r=a.ChainIdHelper.parse(e).identifier,i=this.tokenMap.get(r);if(!i)return;const o=i.findIndex((e=>(!e.associatedAccountAddress||e.associatedAccountAddress===n)&&"contractAddress"in e.currency&&e.currency.contractAddress===t));o>=0&&i.splice(o,1)}getSecret20ViewingKey(e,t,n){this.validateAssociatedAccountAddress(n);const r=this.getToken(e,t,n);if(r&&"type"in r.currency&&"secret20"===r.currency.type)return r.currency.viewingKey;throw new o.KeplrError("token-cw20",111,"There is no matched secret20")}static validateCurrency(e,t){return i(this,void 0,void 0,(function*(){if(!("type"in t))throw new Error("Unknown type of currency");switch(t.type){case"cw20":t=yield h.validateCW20Currency(e,t);break;case"secret20":t=yield h.validateSecret20Currency(e,t);break;default:throw new o.KeplrError("tokens",110,"Unknown type of currency")}return t}))}static validateCW20Currency(e,t){var n;return i(this,void 0,void 0,(function*(){return t=yield s.CW20CurrencySchema.validateAsync(t),a.Bech32Address.validate(t.contractAddress,null===(n=e.bech32Config)||void 0===n?void 0:n.bech32PrefixAccAddr),t}))}static validateSecret20Currency(e,t){var n;return i(this,void 0,void 0,(function*(){return t=yield s.Secret20CurrencySchema.validateAsync(t),a.Bech32Address.validate(t.contractAddress,null===(n=e.bech32Config)||void 0===n?void 0:n.bech32PrefixAccAddr),t}))}}r([c.observable],h.prototype,"tokenMap",void 0),r([c.action],h.prototype,"removeToken",null),t.TokenCW20Service=h},18474:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},488:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ROUTE=void 0,t.ROUTE="token-erc20"},3332:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getHandler=void 0;const i=n(47722),o=n(83873);t.getHandler=(e,t)=>(n,r)=>{switch(r.constructor){case o.GetAllERC20TokenInfosMsg:return s(e)(n,r);case o.SuggestERC20TokenMsg:return a(e,t)(n,r);case o.AddERC20TokenMsg:return d(e)(n,r);case o.RemoveERC20TokenMsg:return c(e)(n,r);default:throw new i.KeplrError("tokens",120,"Unknown msg type")}};const s=e=>()=>e.getAllERC20TokenInfos(),a=(e,t)=>(n,i)=>r(void 0,void 0,void 0,(function*(){yield t.ensureEnabled(n,[i.chainId],i.origin),yield e.suggestERC20Token(n,i.chainId,i.contractAddress)})),d=e=>(t,n)=>r(void 0,void 0,void 0,(function*(){return yield e.setERC20Token(n.chainId,n.currency),e.getAllERC20TokenInfos()})),c=e=>(t,n)=>(e.removeERC20Token(n.chainId,n.contractAddress),e.getAllERC20TokenInfos())},15074:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(59100),t),i(n(83873),t),i(n(78595),t)},65263:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;const r=n(83873),i=n(488),o=n(3332);t.init=function(e,t,n){e.registerMessage(r.GetAllERC20TokenInfosMsg),e.registerMessage(r.SuggestERC20TokenMsg),e.registerMessage(r.AddERC20TokenMsg),e.registerMessage(r.RemoveERC20TokenMsg),e.addHandler(i.ROUTE,(0,o.getHandler)(t,n))}},31388:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(59100),t),i(n(65263),t)},83873:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RemoveERC20TokenMsg=t.AddERC20TokenMsg=t.SuggestERC20TokenMsg=t.GetAllERC20TokenInfosMsg=void 0;const r=n(47722),i=n(488);class o extends r.Message{static type(){return"GetAllERC20TokenInfosMsg"}constructor(){super()}validateBasic(){}route(){return i.ROUTE}type(){return o.type()}}t.GetAllERC20TokenInfosMsg=o;class s extends r.Message{static type(){return"SuggestERC20TokenMsg"}constructor(e,t){super(),this.chainId=e,this.contractAddress=t}approveExternal(){return!0}validateBasic(){if(!this.chainId)throw new r.KeplrError("tokens",100,"Chain id is empty");if(!this.contractAddress)throw new r.KeplrError("tokens",101,"Contract address is empty")}route(){return i.ROUTE}type(){return s.type()}}t.SuggestERC20TokenMsg=s;class a extends r.Message{static type(){return"AddERC20TokenMsg"}constructor(e,t){super(),this.chainId=e,this.currency=t}validateBasic(){if(!this.chainId)throw new r.KeplrError("tokens",100,"Chain id is empty")}route(){return i.ROUTE}type(){return a.type()}}t.AddERC20TokenMsg=a;class d extends r.Message{static type(){return"RemoveERC20TokenMsg"}constructor(e,t){super(),this.chainId=e,this.contractAddress=t}validateBasic(){if(!this.chainId)throw new r.KeplrError("tokens",100,"Chain id is empty")}route(){return i.ROUTE}type(){return d.type()}}t.RemoveERC20TokenMsg=d},59100:function(e,t,n){var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.TokenERC20Service=void 0;const o=n(47722),s=n(32821),a=n(94531),d=n(89642),c=n(80075),u=n(58242);class l{constructor(e,t,n){this.chainsService=t,this.interactionService=n,this.tokenMap=new Map,this.onChainRemoved=e=>{const t=a.ChainIdHelper.parse(e.chainId).identifier;(0,c.runInAction)((()=>{this.tokenMap.delete(t)}))},this.getAllERC20TokenInfos=(0,u.computedFn)((()=>{const e=(0,c.toJS)(this.tokenMap);return Object.fromEntries(e)})),this.getERC20Token=(0,u.computedFn)(((e,t)=>{const n=a.ChainIdHelper.parse(e).identifier,r=this.tokenMap.get(n);if(r)return r.find((e=>"contractAddress"in e.currency&&e.currency.contractAddress===t))})),this.kvStore=new d.PrefixKVStore(e,"v2"),(0,c.makeObservable)(this)}init(){return i(this,void 0,void 0,(function*(){const e=yield this.kvStore.get("tokenMapERC20");if(e)for(const[t,n]of Object.entries(e))this.tokenMap.set(t,n);(0,c.autorun)((()=>{const e=(0,c.toJS)(this.tokenMap),t=Object.fromEntries(e);this.kvStore.set("tokenMapERC20",t)})),this.chainsService.addChainRemovedHandler(this.onChainRemoved)}))}validateChainInfo(e){if(void 0===e.evm)throw new Error("The chain doesn't support evm")}suggestERC20Token(e,t,n){return i(this,void 0,void 0,(function*(){const r=this.chainsService.getModularChainInfoOrThrow(t);if("cosmos"in r){const e=this.chainsService.getChainInfoOrThrow(t);this.validateChainInfo(e)}else{if(!("starknet"in r))throw new Error(`Unsupported chain: ${t}`);if(null==r.starknet)throw new Error("Starknet chain info is not defined")}if(this.getERC20Token(t,n))return;if(!n.match(/^0x[0-9A-Fa-f]*$/)||42!==n.length&&65!==n.length&&66!==n.length)throw new Error("Contract address is not valid hex address");const i={chainId:t,contractAddress:n},o=yield this.interactionService.waitApprove(e,"/setting/token/add","suggest-token-erc20",i);yield this.setERC20Token(t,o)}))}setERC20Token(e,t){return i(this,void 0,void 0,(function*(){const n=this.chainsService.getModularChainInfoOrThrow(e);if("cosmos"in n){const t=this.chainsService.getChainInfoOrThrow(e);this.validateChainInfo(t)}else{if(!("starknet"in n))throw new Error(`Unsupported chain: ${e}`);if(null==n.starknet)throw new Error("Starknet chain info is not defined")}const r=a.ChainIdHelper.parse(e).identifier;this.tokenMap.has(r)||(0,c.runInAction)((()=>{this.tokenMap.set(r,[])}));const i=this.tokenMap.get(r);if(!("type"in(t=yield l.validateCurrency(t)))||"erc20"!==t.type)throw new Error("Unknown type of currency");const o=t.contractAddress,s=i.find((e=>"contractAddress"in e.currency&&e.currency.contractAddress===o));(0,c.runInAction)((()=>{s?s.currency=t:i.push({currency:t})}))}))}removeERC20Token(e,t){const n=a.ChainIdHelper.parse(e).identifier,r=this.tokenMap.get(n);if(!r)return;const i=r.findIndex((e=>"contractAddress"in e.currency&&e.currency.contractAddress===t));i>=0&&r.splice(i,1)}static validateCurrency(e){return i(this,void 0,void 0,(function*(){if(!("type"in e))throw new Error("Unknown type of currency");if("erc20"!==e.type)throw new o.KeplrError("tokens",110,"Unknown type of currency");return e=yield l.validateERC20Currency(e)}))}static validateERC20Currency(e){return i(this,void 0,void 0,(function*(){return yield s.ERC20CurrencySchema.validateAsync(e),e}))}}r([c.observable],l.prototype,"tokenMap",void 0),r([c.action],l.prototype,"removeERC20Token",null),t.TokenERC20Service=l},78595:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},30778:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ROUTE=void 0,t.ROUTE="token-scan"},21450:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getHandler=void 0;const i=n(47722),o=n(41438);t.getHandler=e=>(t,n)=>{switch(n.constructor){case o.GetTokenScansMsg:return s(e)(t,n);case o.RevalidateTokenScansMsg:return a(e)(t,n);default:throw new i.KeplrError("tx",110,"Unknown msg type")}};const s=e=>(t,n)=>e.getTokenScans(n.vaultId),a=e=>(t,n)=>r(void 0,void 0,void 0,(function*(){return yield e.scanAll(n.vaultId),{vaultId:n.vaultId,tokenScans:e.getTokenScans(n.vaultId)}}))},43505:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(59863),t),i(n(41438),t)},68187:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;const r=n(41438),i=n(30778),o=n(21450);t.init=function(e,t){e.registerMessage(r.GetTokenScansMsg),e.registerMessage(r.RevalidateTokenScansMsg),e.addHandler(i.ROUTE,(0,o.getHandler)(t))}},8564:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(59863),t),i(n(68187),t)},41438:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RevalidateTokenScansMsg=t.GetTokenScansMsg=void 0;const r=n(47722),i=n(30778);class o extends r.Message{static type(){return"get-token-scans"}constructor(e){super(),this.vaultId=e}validateBasic(){if(!this.vaultId)throw new Error("Empty vault id")}route(){return i.ROUTE}type(){return o.type()}}t.GetTokenScansMsg=o;class s extends r.Message{static type(){return"revalidate-token-scans"}constructor(e){super(),this.vaultId=e}validateBasic(){if(!this.vaultId)throw new Error("Empty vault id")}route(){return i.ROUTE}type(){return s.type()}}t.RevalidateTokenScansMsg=s},59863:function(e,t,n){var r=n(48834).Buffer,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.TokenScanService=void 0;const s=n(80075),a=n(86693),d=n(19731),c=n(94531),u=n(11047);class l{constructor(e,t,n,r,i,o,a){this.kvStore=e,this.chainsService=t,this.chainsUIService=n,this.vaultService=r,this.keyRingService=i,this.keyRingCosmosService=o,this.keyRingStarknetService=a,this.vaultToMap=new Map,(0,s.makeObservable)(this)}init(){return o(this,void 0,void 0,(function*(){const e=yield this.kvStore.get("vaultToMap");e&&(0,s.runInAction)((()=>{for(const[t,n]of Object.entries(e))this.vaultToMap.set(t,n)})),(0,s.autorun)((()=>{const e=(0,s.toJS)(this.vaultToMap),t=Object.fromEntries(e);this.kvStore.set("vaultToMap",t)})),this.vaultService.addVaultRemovedHandler(((e,t)=>{"keyRing"===e&&this.vaultToMap.delete(t)})),this.chainsService.addChainSuggestedHandler((e=>{this.scanWithAllVaults(e.chainId)})),this.chainsUIService.addChainUIEnabledChangedHandler(((e,t)=>{(0,s.runInAction)((()=>{let n=this.vaultToMap.get(e);n&&(n=n.filter((e=>!t.includes(c.ChainIdHelper.parse(e.chainId).identifier))),this.vaultToMap.set(e,n))}))}))}))}getTokenScans(e){var t;return(null!==(t=this.vaultToMap.get(e))&&void 0!==t?t:[]).filter((e=>this.chainsService.hasChainInfo(e.chainId)||this.chainsService.hasModularChainInfo(e.chainId))).sort(((e,t)=>{const n=this.chainsService.hasChainInfo(e.chainId)?this.chainsService.getChainInfoOrThrow(e.chainId):this.chainsService.getModularChainInfoOrThrow(e.chainId),r=this.chainsService.hasChainInfo(t.chainId)?this.chainsService.getChainInfoOrThrow(t.chainId):this.chainsService.getModularChainInfoOrThrow(t.chainId);return n.chainName.localeCompare(r.chainName)}))}scanWithAllVaults(e){return o(this,void 0,void 0,(function*(){if("unlocked"!==this.keyRingService.keyRingStatus)return;if(this.chainsService.getChainInfoOrThrow(e).hideInUI)return;const t=this.keyRingService.getKeyInfos().map((e=>e.id)).sort(((e,t)=>{const n=this.keyRingService.selectedVaultId===e,r=this.keyRingService.selectedVaultId===t;return n?-1:r?1:0}));for(const n of t)yield this.scan(n,e)}))}scan(e,t){return o(this,void 0,void 0,(function*(){if("unlocked"!==this.keyRingService.keyRingStatus)return;if(this.chainsService.getChainInfoOrThrow(t).hideInUI)return;const n=yield this.calculateTokenScan(e,t);if(n){if(this.chainsUIService.isEnabled(e,n.chainId))return;(0,s.runInAction)((()=>{var t;let r=null!==(t=this.vaultToMap.get(e))&&void 0!==t?t:[];const i=c.ChainIdHelper.parse(n.chainId).identifier;r=r.filter((e=>{const t=c.ChainIdHelper.parse(e.chainId).identifier;return i!==t})),r.push(n),this.vaultToMap.set(e,r)}))}}))}scanAll(e){return o(this,void 0,void 0,(function*(){if("unlocked"!==this.keyRingService.keyRingStatus)return;const t=this.chainsService.getModularChainInfos().filter((t=>!this.chainsUIService.isEnabled(e,t.chainId))),n=[],r=[];for(const i of t)r.push((()=>o(this,void 0,void 0,(function*(){const t=yield this.calculateTokenScan(e,i.chainId);t&&n.push(t)})))());yield Promise.allSettled(r),n.length>0&&(0,s.runInAction)((()=>{var t;let r=null!==(t=this.vaultToMap.get(e))&&void 0!==t?t:[];for(const e of n){const t=c.ChainIdHelper.parse(e.chainId).identifier;r=r.filter((e=>{const n=c.ChainIdHelper.parse(e.chainId).identifier;return t!==n})),r.push(e)}r=r.filter((t=>!this.chainsUIService.isEnabled(e,t.chainId))),this.vaultToMap.set(e,r)}))}))}calculateTokenScan(e,t){var n,i,s;return o(this,void 0,void 0,(function*(){if("unlocked"!==this.keyRingService.keyRingStatus)return;if(this.chainsUIService.isEnabled(e,t))return;const c={chainId:t,infos:[]},l=this.chainsService.getModularChainInfo(t);if(null!=l){if("cosmos"in l){const u=this.chainsService.getChainInfoOrThrow(t);if(u.hideInUI)return;if(this.chainsService.isEvmOnlyChain(t)){const i=this.chainsService.getEVMInfoOrThrow(t),o=yield this.keyRingService.getPubKey(t,e),s=`0x${r.from(o.getEthAddress()).toString("hex")}`,d=yield(0,a.simpleFetch)(i.rpc,{method:"POST",headers:{"content-type":"application/json","request-source":new URL(browser.runtime.getURL("/")).origin},body:JSON.stringify({jsonrpc:"2.0",method:"eth_getBalance",params:[s,"latest"],id:1})});200===d.status&&"0"!==BigInt(d.data.result).toString(10)&&c.infos.push({bech32Address:"",ethereumHexAddress:s,coinType:60,assets:[{currency:null!==(n=u.stakeCurrency)&&void 0!==n?n:u.currencies[0],amount:BigInt(d.data.result).toString(10)}]})}else{const n=yield(()=>o(this,void 0,void 0,(function*(){return this.keyRingService.needKeyCoinTypeFinalize(e,t)?(yield this.keyRingCosmosService.computeNotFinalizedKeyAddresses(e,t)).map((e=>({value:e.bech32Address,coinType:e.coinType}))):[{value:(yield this.keyRingCosmosService.getKey(e,t)).bech32Address}]})))();for(const e of n){const t=yield(0,a.simpleFetch)(u.rest,`/cosmos/bank/v1beta1/balances/${e.value}?pagination.limit=1000`);if(200===t.status){const n=[],r=null!==(s=null===(i=t.data)||void 0===i?void 0:i.balances)&&void 0!==s?s:[];for(const e of r){const t=u.currencies.find((t=>t.coinMinimalDenom===e.denom));if(t){if("string"!=typeof e.amount)throw new Error("Invalid amount");new d.Dec(e.amount).gt(new d.Dec(0))&&n.push({currency:t,amount:e.amount})}}n.length>0&&c.infos.push({bech32Address:e.value,coinType:e.coinType,assets:n})}}}}else if("starknet"in l){const{hexAddress:n}=yield this.keyRingStarknetService.getStarknetKey(e,t);yield Promise.all(l.starknet.currencies.map((e=>o(this,void 0,void 0,(function*(){const t=yield(0,a.simpleFetch)(l.starknet.rpc,{method:"POST",headers:{"content-type":"application/json","request-source":new URL(browser.runtime.getURL("/")).origin},body:JSON.stringify({jsonrpc:"2.0",method:"starknet_call",params:{block_id:"latest",request:{contract_address:e.contractAddress,calldata:[n],entry_point_selector:"0x2e4263afad30923c891518314c3c95dbe830a16874e8abc5777a9a20b54c76e"}},id:1})});if(200===t.status){const r=new u.CairoUint256({low:t.data.result[0],high:t.data.result[1]}).toBigInt().toString(10);"0"!==r&&(0===c.infos.length?c.infos.push({starknetHexAddress:n,assets:[{currency:e,amount:r}]}):c.infos[0].starknetHexAddress===n&&c.infos[0].assets.push({currency:e,amount:r}))}})))))}return c.infos.length>0?c:void 0}}))}}i([s.observable],l.prototype,"vaultToMap",void 0),t.TokenScanService=l},1991:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ROUTE=void 0,t.ROUTE="background-tx-ethereum"},27671:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getHandler=void 0;const i=n(47722),o=n(97530);t.getHandler=(e,t)=>(n,r)=>{if(r.constructor===o.SendTxEthereumMsg)return s(e,t)(n,r);throw new i.KeplrError("tx",110,"Unknown msg type")};const s=(e,t)=>(n,i)=>r(void 0,void 0,void 0,(function*(){return yield t.ensureEnabled(n,[i.chainId],i.origin),yield e.sendEthereumTx(i.origin,i.chainId,i.tx,{silent:i.silent})}))},44889:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;const r=n(97530),i=n(1991),o=n(27671);t.init=function(e,t,n){e.registerMessage(r.SendTxEthereumMsg),e.addHandler(i.ROUTE,(0,o.getHandler)(t,n))}},88383:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(53034),t),i(n(44889),t)},97530:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SendTxEthereumMsg=void 0;const r=n(47722),i=n(1991);class o extends r.Message{static type(){return"send-ethereum-tx-to-background"}constructor(e,t,n){super(),this.chainId=e,this.tx=t,this.silent=n}validateBasic(){if(!this.chainId)throw new r.KeplrError("tx",100,"chain id is empty");if(!this.tx)throw new r.KeplrError("tx",101,"tx is empty")}approveExternal(){return!this.silent}route(){return i.ROUTE}type(){return o.type()}}t.SendTxEthereumMsg=o},53034:function(e,t,n){var r=n(48834).Buffer,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundTxEthereumService=void 0;const o=n(56242),s=n(86693),a=n(89642);class d{constructor(e,t){this.chainsService=e,this.notification=t}init(){return i(this,void 0,void 0,(function*(){}))}sendEthereumTx(e,t,n,c){var u;return i(this,void 0,void 0,(function*(){c.silent||this.notification.create({iconRelativeUrl:"assets/logo-256.png",title:"Tx is pending...",message:"Wait a second"});try{const l=this.chainsService.getChainInfoOrThrow(t),h=o.ChainsService.getEVMInfo(l);if(!h)throw new Error("No EVM info provided");const p=yield(0,s.simpleFetch)(h.rpc,"",{method:"POST",headers:{"content-type":"application/json","request-source":e},body:JSON.stringify({jsonrpc:"2.0",method:"eth_sendRawTransaction",params:[`0x${r.from(n).toString("hex")}`],id:1})}),f=p.data.result;if(p.data.error||!f)throw null!==(u=p.data.error)&&void 0!==u?u:new Error("No tx hash responded");return(0,a.retry)((()=>new Promise(((t,n)=>i(this,void 0,void 0,(function*(){var r;const i=yield(0,s.simpleFetch)(h.rpc,{method:"POST",headers:{"content-type":"application/json","request-source":e},body:JSON.stringify({jsonrpc:"2.0",method:"eth_getTransactionReceipt",params:[f],id:1})});i.data.error&&(console.error(i.data.error),t());const o=i.data.result;o&&(null===(r=null==c?void 0:c.onFulfill)||void 0===r||r.call(c,o),d.processTxResultNotification(this.notification),t()),n()}))))),{maxRetries:10,waitMsAfterError:500,maxWaitMsAfterError:4e3}),f}catch(e){throw console.error(e),c.silent||d.processTxErrorNotification(this.notification,e),e}}))}static processTxResultNotification(e){try{e.create({iconRelativeUrl:"assets/logo-256.png",title:"Tx succeeds",message:"Congratulations!"})}catch(t){d.processTxErrorNotification(e,t)}}static processTxErrorNotification(e,t){const n=t.message;e.create({iconRelativeUrl:"assets/logo-256.png",title:"Tx failed",message:n})}}t.BackgroundTxEthereumService=d},78454:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ROUTE=void 0,t.ROUTE="background-tx"},87981:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getHandler=void 0;const i=n(47722),o=n(25688);t.getHandler=(e,t)=>(n,r)=>{switch(r.constructor){case o.SendTxMsg:return s(e,t)(n,r);case o.SubmitStarknetTxHashMsg:return a(e)(n,r);default:throw new i.KeplrError("tx",110,"Unknown msg type")}};const s=(e,t)=>(n,i)=>r(void 0,void 0,void 0,(function*(){return yield t.ensureEnabled(n,[i.chainId],i.origin),yield e.sendTx(i.chainId,i.tx,i.mode,{silent:i.silent})})),a=e=>(t,n)=>r(void 0,void 0,void 0,(function*(){return e.waitStarknetTransaction(n.chainId,n.txHash)}))},80018:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(10533),t),i(n(25688),t),i(n(68130),t)},55645:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;const r=n(25688),i=n(78454),o=n(87981);t.init=function(e,t,n){e.registerMessage(r.SendTxMsg),e.registerMessage(r.SubmitStarknetTxHashMsg),e.addHandler(i.ROUTE,(0,o.getHandler)(t,n))}},60337:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(10533),t),i(n(55645),t)},25688:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SubmitStarknetTxHashMsg=t.SendTxMsg=void 0;const r=n(47722),i=n(78454);class o extends r.Message{static type(){return"send-tx-to-background"}constructor(e,t,n,r){super(),this.chainId=e,this.tx=t,this.mode=n,this.silent=r}validateBasic(){if(!this.chainId)throw new r.KeplrError("tx",100,"chain id is empty");if(!this.tx)throw new r.KeplrError("tx",101,"tx is empty");if(!this.mode||"sync"!==this.mode&&"async"!==this.mode&&"block"!==this.mode)throw new r.KeplrError("tx",120,"invalid mode")}approveExternal(){return!this.silent}route(){return i.ROUTE}type(){return o.type()}}t.SendTxMsg=o;class s extends r.Message{static type(){return"submit-starknet-tx-hash"}constructor(e,t){super(),this.chainId=e,this.txHash=t}validateBasic(){if(!this.chainId)throw new r.KeplrError("tx",100,"chain id is empty");if(!this.txHash)throw new r.KeplrError("tx",101,"tx hash is empty")}route(){return i.ROUTE}type(){return s.type()}}t.SubmitStarknetTxHashMsg=s},10533:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundTxService=void 0;const i=n(94531),o=n(86693),s=n(48834),a=n(89642),d=n(11047);class c{constructor(e,t){this.chainsService=e,this.notification=t}init(){return r(this,void 0,void 0,(function*(){}))}sendTx(e,t,n,d){return r(this,void 0,void 0,(function*(){const r=this.chainsService.getChainInfoOrThrow(e);d.silent||this.notification.create({iconRelativeUrl:"assets/logo-256.png",title:"Tx is pending...",message:"Wait a second"});const u=s.Buffer.isBuffer(t)||t instanceof Uint8Array,l=u?{tx_bytes:s.Buffer.from(t).toString("base64"),mode:(()=>{switch(n){case"async":return"BROADCAST_MODE_ASYNC";case"block":return"BROADCAST_MODE_BLOCK";case"sync":return"BROADCAST_MODE_SYNC";default:return"BROADCAST_MODE_UNSPECIFIED"}})()}:{tx:t,mode:n};try{const e=yield(0,o.simpleFetch)(r.rest,u?"/cosmos/tx/v1beta1/txs":"/txs",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(l)}),t=u?e.data.tx_response:e.data;if(null!=t.code&&0!==t.code)throw new Error(t.raw_log);const n=s.Buffer.from(t.txhash,"hex");return(0,a.retry)((()=>new Promise(((e,t)=>{const o=new i.TendermintTxTracer(r.rpc,"/websocket");o.addEventListener("close",(()=>{setTimeout((()=>{t()}),500)})),o.addEventListener("error",(()=>{t()})),o.traceTx(n).then((t=>{o.close(),d.onFulfill&&(t.hash||(t.hash=n),d.onFulfill(t)),d.silent||c.processTxResultNotification(this.notification,t),e()}))}))),{maxRetries:10,waitMsAfterError:1e4,maxWaitMsAfterError:3e5}),n}catch(e){throw console.log(e),d.silent||c.processTxErrorNotification(this.notification,e),e}}))}static processTxResultNotification(e,t){var n;try{if("commit"===t.mode){if(void 0!==t.checkTx.code&&0!==t.checkTx.code)throw new Error(t.checkTx.log);if(void 0!==t.deliverTx.code&&0!==t.deliverTx.code)throw new Error(t.deliverTx.log)}else if(null!=t.code&&0!==t.code){const e=null!==(n=t.log)&&void 0!==n?n:t.raw_log;throw new Error(e)}e.create({iconRelativeUrl:"assets/logo-256.png",title:"Tx succeeds",message:"Congratulations!"})}catch(t){c.processTxErrorNotification(e,t)}}static processTxErrorNotification(e,t){console.log(t);let n=t.message;const r=/code:\s*(-?\d+),\s*message:\s*(.+),\sdata:\s(.+)/g.exec(t.message);r&&4===r.length&&(n=r[3]);try{const e=JSON.parse(t.message);(null==e?void 0:e.message)&&(n=e.message)}catch(e){}try{const e=JSON.parse(t.message);if(e&&e.length>0)for(const t of e)if(!t.success){const e=JSON.parse(t.log);if(null==e?void 0:e.message){n=e.message;break}}}catch(e){}e.create({iconRelativeUrl:"assets/logo-256.png",title:"Tx failed",message:n})}waitStarknetTransaction(e,t){return r(this,void 0,void 0,(function*(){const n=this.chainsService.getModularChainInfo(e);if(!n)throw new Error("Invalid chain id");if(!("starknet"in n))throw new Error("Chain is not for starknet");const r=n.starknet,i=new d.RpcProvider({nodeUrl:r.rpc});this.notification.create({iconRelativeUrl:"assets/logo-256.png",title:"Tx is pending...",message:"Wait a second"});try{const e=yield i.waitForTransaction(t,{retryInterval:1e3});return this.notification.create({iconRelativeUrl:"assets/logo-256.png",title:"Tx succeeds",message:"Congratulations!"}),e}catch(e){throw this.notification.create({iconRelativeUrl:"assets/logo-256.png",title:"Tx failed",message:""}),e}}))}}t.BackgroundTxService=c},68130:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},94822:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.runIfOnlyAppStart=void 0;const i=n(89642);t.runIfOnlyAppStart=(e,t)=>r(void 0,void 0,void 0,(function*(){let n=!1;if((0,i.isServiceWorker)())try{(yield browser.storage.session.get(e))[e]&&(n=!0),yield browser.storage.session.set({[e]:!0})}catch(e){console.log(`Failed to load from session storage: ${e.message||e.toString()}`)}n||(yield t())}))},2896:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(51535),t),i(n(15150),t)},19509:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(51535),t)},51535:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.VaultService=void 0;const c=n(89642),u=n(47722),l=n(80075),h=n(58242),p=n(48834),f=s(n(8202)),g=d(n(30499)),v=n(34298);class m{constructor(e){this.kvStore=e,this.vaultMap=new Map,this.onVaultRemovedHandlers=[],this._isSignedUp=!1,this.password=new Uint8Array,this.aesCounter=new Uint8Array,this.decryptedCache=new Map,this.userPasswordSalt=new Uint8Array,this.aesCounterSalt=new Uint8Array,this.getVault=(0,h.computedFn)(((e,t)=>{const n=this.vaultMap.get(e);if(n&&0!==n.length)return n.find((e=>e.id===t))}),{keepAlive:!0}),(0,l.makeObservable)(this)}init(){return a(this,void 0,void 0,(function*(){(yield this.getPasswordCryptoState())&&(this._isSignedUp=!0);const e=yield this.kvStore.get("userPasswordSalt");if(e)this.userPasswordSalt=p.Buffer.from(e,"hex");else{const e=new Uint8Array(16);crypto.getRandomValues(e),this.userPasswordSalt=e,yield this.kvStore.set("userPasswordSalt",p.Buffer.from(this.userPasswordSalt).toString("hex"))}const t=yield this.kvStore.get("aesCounterSalt");if(t)this.aesCounterSalt=p.Buffer.from(t,"hex");else{const e=new Uint8Array(16);crypto.getRandomValues(e),this.aesCounterSalt=e,yield this.kvStore.set("aesCounterSalt",p.Buffer.from(this.aesCounterSalt).toString("hex"))}const n=yield this.kvStore.get("vaultMap");n&&(0,l.runInAction)((()=>{for(const[e,t]of u.JSONUint8Array.unwrap(Object.entries(n)))this.vaultMap.set(e,t)})),(0,l.autorun)((()=>{const e=(0,l.toJS)(this.vaultMap),t=Object.fromEntries(e);this.kvStore.set("vaultMap",u.JSONUint8Array.wrap(t))}))}))}get isSignedUp(){return this._isSignedUp}signUp(e){return a(this,void 0,void 0,(function*(){if(!this.isLocked)throw new Error("Vault is already unlocked");if(0===this.userPasswordSalt.length)throw new Error("User password salt not initialized");if(0===this.aesCounterSalt.length)throw new Error("AES counter salt not initialized");if(this.isSignedUp||(yield this.getPasswordCryptoState())||(yield this.kvStore.get("aesCounterCipher")))throw new Error("Vault is already signed up");const t=yield m.generatePassword(e,this.userPasswordSalt);yield this.setPasswordCryptoState(t.cipher,t.mac);const n=new Uint8Array(16);crypto.getRandomValues(n);const r=m.aesEncrypt(t.password,this.aesCounterSalt,n);yield this.kvStore.set("aesCounterCipher",p.Buffer.from(r).toString("hex")),this._isSignedUp=!0,yield this.unlock(e)}))}checkUserPassword(e){return a(this,void 0,void 0,(function*(){if(this.isLocked)throw new Error("Vault is not unlocked");if(0===this.userPasswordSalt.length)throw new Error("User password salt not initialized");const t=yield this.getPasswordCryptoState();if(!this.isSignedUp||!t)throw new Error("Vault is not signed up");const n=yield m.decryptPassword(e,this.userPasswordSalt,t.mac,t.cipher);if(p.Buffer.from(n).toString("hex")!==p.Buffer.from(this.password).toString("hex"))throw new Error("Password unmatched")}))}changeUserPassword(e,t){return a(this,void 0,void 0,(function*(){yield this.checkUserPassword(e);const n=yield m.encryptPassword(t,this.userPasswordSalt,this.password);yield this.setPasswordCryptoState(n.cipher,n.mac)}))}lock(){this.password=new Uint8Array(0),this.decryptedCache=new Map,(0,c.isServiceWorker)()&&this.setSessionPassword(void 0)}unlock(e){return a(this,void 0,void 0,(function*(){if(!this.isLocked)throw new Error("Vault is already unlocked");if(0===this.userPasswordSalt.length)throw new Error("User password salt not initialized");if(0===this.aesCounterSalt.length)throw new Error("AES counter salt not initialized");const t=yield this.kvStore.get("aesCounterCipher");if(!t)throw new Error("AES counter cipher not found");const n=yield this.getPasswordCryptoState();if(!n)throw new Error("Vault have not been signed in");this.password=yield m.decryptPassword(e,this.userPasswordSalt,n.mac,n.cipher),this.aesCounter=m.aesDecrypt(this.password,this.aesCounterSalt,p.Buffer.from(t,"hex")),(0,c.isServiceWorker)()&&(yield this.setSessionPassword({password:this.password,aesCounter:this.aesCounter}))}))}get isLocked(){return 0===this.password.length}getVaults(e){const t=this.vaultMap.get(e);return null!=t?t:[]}addVault(e,t,n){this.vaultMap.has(e)||this.vaultMap.set(e,[]);const r=this.vaultMap.get(e),i=new Uint8Array(8);crypto.getRandomValues(i);const o=p.Buffer.from(i).toString("hex");return r.push({id:o,insensitive:t,sensitive:this.encrypt(n)}),o}setAndMergeInsensitiveToVault(e,t,n){const r=this.vaultMap.get(e);if(!r||0===r.length)throw new Error(`There is no vault for ${t}`);const i=r.findIndex((e=>e.id===t));if(i<0)throw new Error(`There is no vault for ${t}`);const o=r[i];r[i]=Object.assign(Object.assign({},o),{insensitive:Object.assign(Object.assign({},o.insensitive),n)})}removeVault(e,t){const n=this.vaultMap.get(e);if(!n||0===n.length)throw new Error(`There is no vault for ${t}`);if(!n.find((e=>e.id===t)))throw new Error(`There is no vault for ${t}`);const r=n.filter((e=>e.id!==t));this.vaultMap.set(e,r);for(const n of this.onVaultRemovedHandlers)n(e,t)}encrypt(e){return this.ensureUnlockAndState(),m.aesEncrypt(this.password,this.aesCounter,p.Buffer.from(JSON.stringify(e)))}decrypt(e){this.ensureUnlockAndState();const t=p.Buffer.from(e).toString("hex"),n=this.decryptedCache.get(t);if(n)return n;const r=JSON.parse(p.Buffer.from(m.aesDecrypt(this.password,this.aesCounter,e)).toString());return this.decryptedCache.set(t,r),r}ensureUnlockAndState(){if(this.isLocked)throw new Error("Vault is not unlocked");if(0===this.userPasswordSalt.length)throw new Error("User password salt not initialized");if(0===this.aesCounter.length)throw new Error("AES counter is null")}setPasswordCryptoState(e,t){return a(this,void 0,void 0,(function*(){yield this.kvStore.set("passwordCipher",p.Buffer.from(e).toString("hex")),yield this.kvStore.set("userPasswordMac",p.Buffer.from(t).toString("hex"))}))}getPasswordCryptoState(){return a(this,void 0,void 0,(function*(){const e=yield this.kvStore.get("passwordCipher"),t=yield this.kvStore.get("userPasswordMac");if(e&&t)return{cipher:p.Buffer.from(e,"hex"),mac:p.Buffer.from(t,"hex")}}))}clearAll(e){return a(this,void 0,void 0,(function*(){yield this.checkUserPassword(e);const t=[];for(const[e,n]of this.vaultMap.entries())for(const r of n)t.push({type:e,id:r.id});(0,l.runInAction)((()=>{this.vaultMap=new Map,this._isSignedUp=!1,this.password=new Uint8Array,this.decryptedCache=new Map,this.aesCounter=new Uint8Array})),yield Promise.all([this.kvStore.set("passwordCipher",null),this.kvStore.set("userPasswordMac",null),this.kvStore.set("aesCounterCipher",null)]),(0,c.isServiceWorker)()&&(yield this.setSessionPassword(void 0));for(const e of t)for(const t of this.onVaultRemovedHandlers)t(e.type,e.id)}))}static pbkdf2(e,t){return new Promise(((n,r)=>{g.default.pbkdf2(t,e,4e3,32,"sha256",((e,t)=>{e?r(e):n(new Uint8Array(t))}))}))}static aesEncrypt(e,t,n){const r=new f.Counter(0);return r.setBytes(t),new f.default.ModeOfOperation.ctr(e,r).encrypt(n)}static aesDecrypt(e,t,n){const r=new f.Counter(0);return r.setBytes(t),new f.default.ModeOfOperation.ctr(e,r).decrypt(n)}static generatePassword(e,t){return a(this,void 0,void 0,(function*(){const n=new Uint8Array(32);return crypto.getRandomValues(n),Object.assign(Object.assign({},yield m.encryptPassword(e,t,n)),{password:n})}))}static encryptPassword(e,t,n){return a(this,void 0,void 0,(function*(){const r=yield m.pbkdf2(t,p.Buffer.from(e)),i=m.aesEncrypt(r,t,n),o=v.Hash.sha256(p.Buffer.concat([r.slice(r.length/2),i.slice(i.length/2)]));return{cipher:i,mac:o}}))}static decryptPassword(e,t,n,r){return a(this,void 0,void 0,(function*(){const i=yield m.pbkdf2(t,p.Buffer.from(e)),o=v.Hash.sha256(p.Buffer.concat([i.slice(i.length/2),r.slice(r.length/2)]));if(p.Buffer.from(o).toString("hex")!==p.Buffer.from(n).toString("hex"))throw new Error("User password mac unmatched");return m.aesDecrypt(i,t,r)}))}addVaultRemovedHandler(e){this.onVaultRemovedHandlers.push(e)}setSessionPassword(e){return a(this,void 0,void 0,(function*(){try{null!=e&&e.password.length>0&&e.aesCounter.length>0?yield browser.storage.session.set({"vault.password":p.Buffer.from(e.password).toString("hex"),"vault.aesCounter":p.Buffer.from(e.aesCounter).toString("hex")}):(yield browser.storage.session.remove("vault.password"),yield browser.storage.session.remove("vault.aesCounter"))}catch(e){console.log(`Failed to save to session storage: ${e.message||e.toString()}`)}}))}unlockWithSessionPasswordIfPossible(){return a(this,void 0,void 0,(function*(){try{const e=yield browser.storage.session.get("vault.password"),t=yield browser.storage.session.get("vault.aesCounter");if(e&&e["vault.password"]&&t&&t["vault.aesCounter"]){const n=p.Buffer.from(e["vault.password"],"hex"),r=p.Buffer.from(t["vault.aesCounter"],"hex");n.length>0&&r.length>0&&(this.password=n,this.aesCounter=r)}}catch(e){console.log(`Failed to load from session storage: ${e.message||e.toString()}`)}}))}}o([l.observable],m.prototype,"vaultMap",void 0),o([l.action],m.prototype,"addVault",null),o([l.action],m.prototype,"setAndMergeInsensitiveToVault",null),o([l.action],m.prototype,"removeVault",null),t.VaultService=m},15150:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},29958:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SHA2=void 0;const r=n(4777);class i extends r.Hash{constructor(e,t,n,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,r.createView)(this.buffer)}update(e){if(this.destroyed)throw new Error("instance is destroyed");const{view:t,buffer:n,blockLen:i,finished:o}=this;if(o)throw new Error("digest() was already called");const s=(e=(0,r.toBytes)(e)).length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a!==i)n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(t,0),this.pos=0);else{const t=(0,r.createView)(e);for(;i<=s-o;o+=i)this.process(t,o)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){if(this.destroyed)throw new Error("instance is destroyed");if(!(e instanceof Uint8Array)||e.length<this.outputLen)throw new Error("_Sha2: Invalid output buffer");if(this.finished)throw new Error("digest() was already called");this.finished=!0;const{buffer:t,view:n,blockLen:i,isLE:o}=this;let{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let e=s;e<i;e++)t[e]=0;!function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),d=r?4:0,c=r?0:4;e.setUint32(t+d,s,r),e.setUint32(t+c,a,r)}(n,i-8,BigInt(8*this.length),o),this.process(n,0);const a=(0,r.createView)(e);this.get().forEach(((e,t)=>a.setUint32(4*t,e,o)))}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:o,pos:s}=this;return e.length=r,e.pos=s,e.finished=i,e.destroyed=o,r%t&&e.buffer.set(n),e}}t.SHA2=i},59351:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=void 0,t.crypto={node:void 0,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0}},41036:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.hkdf=t.expand=t.extract=void 0;const r=n(4777),i=n(2886);function o(e,t,n){return(0,r.assertHash)(e),void 0===n&&(n=new Uint8Array(e.outputLen)),(0,i.hmac)(e,(0,r.toBytes)(n),(0,r.toBytes)(t))}t.extract=o;const s=new Uint8Array([0]),a=new Uint8Array;function d(e,t,n,o=32){if((0,r.assertHash)(e),(0,r.assertNumber)(o),o>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");const d=Math.ceil(o/e.outputLen);void 0===n&&(n=a);const c=new Uint8Array(d*e.outputLen),u=i.hmac.create(e,t),l=u._cloneInto(),h=new Uint8Array(u.outputLen);for(let t=0;t<d;t++)s[0]=t+1,l.update(0===t?a:h).update(n).update(s).digestInto(h),c.set(h,e.outputLen*t),u._cloneInto(l);return u.destroy(),l.destroy(),h.fill(0),s.fill(0),c.slice(0,o)}t.expand=d,t.hkdf=(e,t,n,r,i)=>d(e,o(e,t,n),r,i)},2886:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=void 0;const r=n(4777);class i extends r.Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,r.assertHash)(e);const n=(0,r.toBytes)(t);if(this.iHash=e.create(),!(this.iHash instanceof r.Hash))throw new TypeError("Expected instance of class which extends utils.Hash");const i=this.blockLen=this.iHash.blockLen;this.outputLen=this.iHash.outputLen;const o=new Uint8Array(i);o.set(n.length>this.iHash.blockLen?e.create().update(n).digest():n);for(let e=0;e<o.length;e++)o[e]^=54;this.iHash.update(o),this.oHash=e.create();for(let e=0;e<o.length;e++)o[e]^=106;this.oHash.update(o),o.fill(0)}update(e){if(this.destroyed)throw new Error("instance is destroyed");return this.iHash.update(e),this}digestInto(e){if(this.destroyed)throw new Error("instance is destroyed");if(!(e instanceof Uint8Array)||e.length!==this.outputLen)throw new Error("HMAC: Invalid output buffer");if(this.finished)throw new Error("digest() was already called");this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:o,outputLen:s}=this;return e.finished=r,e.destroyed=i,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}t.hmac=(e,t,n)=>new i(e,t).update(n).digest(),t.hmac.create=(e,t)=>new i(e,t)},45833:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.sha256=void 0;const r=n(29958),i=n(4777),o=(e,t,n)=>e&t^e&n^t&n,s=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),d=new Uint32Array(64);class c extends r.SHA2{constructor(){super(64,32,8,!1),this.A=0|a[0],this.B=0|a[1],this.C=0|a[2],this.D=0|a[3],this.E=0|a[4],this.F=0|a[5],this.G=0|a[6],this.H=0|a[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:o,G:s,H:a}=this;return[e,t,n,r,i,o,s,a]}set(e,t,n,r,i,o,s,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(e,t){for(let n=0;n<16;n++,t+=4)d[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=d[e-15],n=d[e-2],r=(0,i.rotr)(t,7)^(0,i.rotr)(t,18)^t>>>3,o=(0,i.rotr)(n,17)^(0,i.rotr)(n,19)^n>>>10;d[e]=o+d[e-7]+r+d[e-16]|0}let{A:n,B:r,C:a,D:c,E:u,F:l,G:h,H:p}=this;for(let e=0;e<64;e++){const t=p+((0,i.rotr)(u,6)^(0,i.rotr)(u,11)^(0,i.rotr)(u,25))+((f=u)&l^~f&h)+s[e]+d[e]|0,g=((0,i.rotr)(n,2)^(0,i.rotr)(n,13)^(0,i.rotr)(n,22))+o(n,r,a)|0;p=h,h=l,l=u,u=c+t|0,c=a,a=r,r=n,n=t+g|0}var f;n=n+this.A|0,r=r+this.B|0,a=a+this.C|0,c=c+this.D|0,u=u+this.E|0,l=l+this.F|0,h=h+this.G|0,p=p+this.H|0,this.set(n,r,a,c,u,l,h,p)}roundClean(){d.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}t.sha256=(0,i.wrapConstructor)((()=>new c))},4777:(e,t,n)=>{e=n.nmd(e),Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.assertHash=t.assertBytes=t.assertBool=t.assertNumber=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.isLE=t.rotr=t.createView=t.u32=t.u8=void 0;const r=n(59351);if(t.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength),t.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),t.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),t.rotr=(e,t)=>e<<32-t|e>>>t,t.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!t.isLE)throw new Error("Non little-endian hardware is not supported");const i=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function o(e){if("string"!=typeof e)throw new TypeError("utf8ToBytes expected string, got "+typeof e);return(new TextEncoder).encode(e)}function s(e){if("string"==typeof e&&(e=o(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}function a(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}t.bytesToHex=function(e){let t="";for(let n=0;n<e.length;n++)t+=i[e[n]];return t},t.hexToBytes=function(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=2*n,i=e.slice(r,r+2),o=Number.parseInt(i,16);if(Number.isNaN(o))throw new Error("Invalid byte sequence");t[n]=o}return t},t.nextTick=(()=>{const t="function"==typeof e.require&&e.require.bind(e);try{if(t){const{setImmediate:e}=t("timers");return()=>new Promise((t=>e(t)))}}catch(e){}return()=>new Promise((e=>setTimeout(e,0)))})(),t.asyncLoop=async function(e,n,r){let i=Date.now();for(let o=0;o<e;o++){r(o);const e=Date.now()-i;e>=0&&e<n||(await(0,t.nextTick)(),i+=e)}},t.utf8ToBytes=o,t.toBytes=s,t.concatBytes=function(...e){if(!e.every((e=>e instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===e.length)return e[0];const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){const i=e[t];n.set(i,r),r+=i.length}return n},t.assertNumber=a,t.assertBool=function(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)},t.assertBytes=function(e,...t){if(!(e instanceof Uint8Array)||t.length&&!t.includes(e.length))throw new TypeError(`Expected ${t} bytes, not ${typeof e} with length=${e.length}`)},t.assertHash=function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");a(e.outputLen),a(e.blockLen)},t.Hash=class{clone(){return this._cloneInto()}},t.checkOpts=function(e,t){if(void 0!==t&&("object"!=typeof t||(n=t,"[object Object]"!==Object.prototype.toString.call(n)||n.constructor!==Object)))throw new TypeError("Options should be object or undefined");var n;return Object.assign(e,t)},t.wrapConstructor=function(e){const t=t=>e().update(s(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t},t.wrapConstructorWithOpts=function(e){const t=(t,n)=>e(n).update(s(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t},t.randomBytes=function(e=32){if(r.crypto.web)return r.crypto.web.getRandomValues(new Uint8Array(e));if(r.crypto.node)return new Uint8Array(r.crypto.node.randomBytes(e).buffer);throw new Error("The environment doesn't have randomBytes function")}},72844:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.validateBasicChainInfoType=void 0;const i=n(51922);t.validateBasicChainInfoType=function(e,t=!0){return r(this,void 0,void 0,(function*(){return yield i.ChainInfoSchema.validateAsync(e,{stripUnknown:t})}))}},70867:function(e,t,n){var r=n(48834).Buffer,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.checkStarknetRpcConnectivity=t.checkEvmRpcConnectivity=t.checkRestConnectivity=t.checkRPCConnectivity=t.DifferentChainVersionError=void 0;const o=n(94531),s=n(86693);class a extends Error{constructor(e){super(e),Object.setPrototypeOf(this,a.prototype)}}t.DifferentChainVersionError=a,t.checkRPCConnectivity=function(e,t,n){return i(this,void 0,void 0,(function*(){let r;try{r=yield(0,s.simpleFetch)(t,"/status")}catch(e){throw console.log(e),new Error("Failed to get response /status from rpc endpoint")}const i=o.ChainIdHelper.parse(e),d="result"in r.data?r.data.result:r.data,c=o.ChainIdHelper.parse(d.node_info.network);if(c.identifier!==i.identifier)throw new Error(`RPC endpoint has different chain id (expected: ${e}, actual: ${d.node_info.network})`);if(c.version!==i.version)throw new a(`RPC endpoint has different chain id (expected: ${e}, actual: ${d.node_info.network})`);let u=t;u.startsWith("http")&&(u=u.replace("http","ws")),u=u.endsWith("/")?u+"websocket":u+"/websocket";const l=n?n(u):new WebSocket(u);l.onerror=()=>{};let h=!1;for(let e=0;e<15;e++){if(0!==l.readyState){if(1===l.readyState){h=!0;break}throw new Error("Failed to connect websocket to /websocket rpc")}yield new Promise((e=>setTimeout(e,1e3)))}if(l.close(),!h)throw new Error("Failed to connect websocket to /websocket rpc")}))},t.checkRestConnectivity=function(e,t){return i(this,void 0,void 0,(function*(){let n;try{n=yield(0,s.simpleFetch)(t,"/cosmos/base/tendermint/v1beta1/node_info")}catch(e){throw console.log(e),new Error("Failed to get response /cosmos/base/tendermint/v1beta1/node_info from lcd endpoint")}const r=o.ChainIdHelper.parse(e),i=o.ChainIdHelper.parse(n.data.default_node_info.network);if(i.identifier!==r.identifier)throw new Error(`LCD endpoint has different chain id (expected: ${e}, actual: ${n.data.default_node_info.network})`);if(i.version!==r.version)throw new a(`LCD endpoint has different chain id (expected: ${e}, actual: ${n.data.default_node_info.network})`)}))},t.checkEvmRpcConnectivity=function(e,t){return i(this,void 0,void 0,(function*(){let n;try{n=yield(0,s.simpleFetch)(t,{method:"POST",headers:{"content-type":"application/json","request-source":"keplr-wallet-extension/chain-validator"},body:JSON.stringify({jsonrpc:"2.0",method:"eth_chainId",params:[],id:1})})}catch(e){throw console.log(e),new Error("Failed to get response eth_chainId from EVM RPC endpoint")}const r=Number(n.data.result);if(r!==e)throw new Error(`EVM RPC endpoint has different chain id (expected: ${e}, actual: ${r})`)}))},t.checkStarknetRpcConnectivity=function(e,t){return i(this,void 0,void 0,(function*(){const n=e.split(":")[1];let i;try{i=yield(0,s.simpleFetch)(t,{method:"POST",headers:{"content-type":"application/json","request-source":"keplr-wallet-extension/chain-validator"},body:JSON.stringify({jsonrpc:"2.0",method:"starknet_chainId",params:[],id:1})})}catch(e){throw console.log(e),new Error("Failed to get response starknet_chainId from Starknet RPC endpoint")}const o=r.from(i.data.result.replace("0x",""),"hex").toString();if(o!==n)throw new Error(`Starknet RPC endpoint has different chain id (expected: ${n}, actual: ${o})`)}))}},36673:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.hasFeature=t.checkChainFeatures=t.NonRecognizableChainFeatures=t.RecognizableChainFeatures=t.RecognizableChainFeaturesMethod=t.SupportedChainFeatures=void 0;const i=n(86693);t.SupportedChainFeatures=["stargate","cosmwasm","wasmd_0.24+","secretwasm","ibc-transfer","no-legacy-stdTx","ibc-go","eth-address-gen","eth-key-sign","query:/cosmos/bank/v1beta1/spendable_balances","axelar-evm-bridge","osmosis-txfees","terra-classic-fee","ibc-go-v7-hot-fix","ibc-pfm","authz-msg-revoke-fixed","osmosis-base-fee-beta","feemarket","op-stack-l1-data-fee"],t.RecognizableChainFeaturesMethod=[{feature:"ibc-go",fetch:(e,t,n)=>r(void 0,void 0,void 0,(function*(){return 200===(yield(0,i.simpleFetch)(n,"/ibc/apps/transfer/v1/params",{validateStatus:e=>200===e||501===e})).status}))},{feature:"ibc-transfer",fetch:(e,t,n)=>r(void 0,void 0,void 0,(function*(){const t=e.includes("ibc-go")?"/ibc/apps/transfer/v1/params":"/ibc/applications/transfer/v1beta1/params",r=yield(0,i.simpleFetch)(n,t,{validateStatus:e=>200===e||501===e});return 200===r.status&&r.data.params.receive_enabled&&r.data.params.send_enabled}))},{feature:"ibc-pfm",fetch:(e,t,n)=>r(void 0,void 0,void 0,(function*(){if(e.includes("ibc-go")){if(200===(yield(0,i.simpleFetch)(n,"/ibc/apps/router/v1/params",{validateStatus:e=>200===e||501===e})).status)return!0;if(200===(yield(0,i.simpleFetch)(n,"/ibc/apps/packetforward/v1/params",{validateStatus:e=>200===e||501===e})).status)return!0}return!1}))},{feature:"wasmd_0.24+",fetch:(e,t,n)=>r(void 0,void 0,void 0,(function*(){return!(!e.includes("cosmwasm")||400!==(yield(0,i.simpleFetch)(n,"/cosmwasm/wasm/v1/contract/test/smart/test",{validateStatus:e=>400===e||501===e})).status)}))},{feature:"query:/cosmos/bank/v1beta1/spendable_balances",fetch:(e,t,n)=>r(void 0,void 0,void 0,(function*(){return 400===(yield(0,i.simpleFetch)(n,"/cosmos/bank/v1beta1/spendable_balances/test",{validateStatus:e=>400===e||501===e})).status}))},{feature:"feemarket",fetch:(e,t,n)=>r(void 0,void 0,void 0,(function*(){return(yield(0,i.simpleFetch)(n,"/feemarket/v1/params")).data.params.enabled}))}],t.RecognizableChainFeatures=t.RecognizableChainFeaturesMethod.map((e=>e.feature)),t.NonRecognizableChainFeatures=(()=>{const e={};for(const n of t.RecognizableChainFeatures)e[n]=!0;const n=[];for(const r of t.SupportedChainFeatures)e[r]||n.push(r);return n})(),t.checkChainFeatures=function(e){var n,i;return r(this,void 0,void 0,(function*(){const r=[],o=null!==(i=null===(n=e.features)||void 0===n?void 0:n.slice())&&void 0!==i?i:[];for(const n of t.RecognizableChainFeaturesMethod)if(!o.includes(n.feature))try{(yield n.fetch(o,e.rpc,e.rest))&&(r.push(n.feature),o.push(n.feature))}catch(e){console.log(`Failed to try to fetch feature (${n.feature}): ${e.message||e}`)}return r}))},t.hasFeature=function(e,n){var i,o,s;return r(this,void 0,void 0,(function*(){if(null===(i=e.features)||void 0===i?void 0:i.includes(n))return!0;const r=t.RecognizableChainFeaturesMethod.find((e=>e.feature===n));if(!r)throw new Error(`${n} not exist on RecognizableChainFeaturesMethod`);return r.fetch(null!==(s=null===(o=e.features)||void 0===o?void 0:o.slice())&&void 0!==s?s:[],e.rpc,e.rest)}))}},32821:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(51922),t),i(n(72844),t),i(n(70867),t),i(n(36673),t)},51922:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ChainInfoSchema=t.SuggestingBIP44Schema=t.ChainIdSchema=t.EIP155ChainIdSchema=t.Bech32ConfigSchema=t.FeeCurrencySchema=t.ERC20CurrencySchema=t.Secret20CurrencySchema=t.CW20CurrencySchema=t.CurrencySchema=void 0;const i=n(36673),o=r(n(72903));t.CurrencySchema=o.default.object({coinDenom:o.default.string().required(),coinMinimalDenom:o.default.string().required(),coinDecimals:o.default.number().strict().integer().min(0).max(18).required(),coinGeckoId:o.default.string(),coinImageUrl:o.default.string().uri()}).keys({type:o.default.forbidden()}),t.CW20CurrencySchema=t.CurrencySchema.keys({type:o.default.string().equal("cw20").required(),contractAddress:o.default.string().required()}).custom((e=>e.coinMinimalDenom.startsWith(`${e.type}:${e.contractAddress}:`)?e:Object.assign(Object.assign({},e),{coinMinimalDenom:`${e.type}:${e.contractAddress}:`+e.coinMinimalDenom}))),t.Secret20CurrencySchema=t.CurrencySchema.keys({type:o.default.string().equal("secret20").required(),contractAddress:o.default.string().required(),viewingKey:o.default.string().required()}).custom((e=>e.coinMinimalDenom.startsWith(`${e.type}:${e.contractAddress}:`)?e:Object.assign(Object.assign({},e),{coinMinimalDenom:`${e.type}:${e.contractAddress}:`+e.coinMinimalDenom}))),t.ERC20CurrencySchema=t.CurrencySchema.keys({type:o.default.string().equal("erc20").required(),contractAddress:o.default.string().pattern(/(^(0x)[0-9a-fA-F]{40}$)|(^(0x)[0-9a-fA-F]{63,64}$)/).required()}).custom((e=>e.coinMinimalDenom.startsWith(`${e.type}:${e.contractAddress}:`)?e:Object.assign(Object.assign({},e),{coinMinimalDenom:`${e.type}:${e.contractAddress}`})));const s=o.default.object({low:o.default.number().strict().required(),average:o.default.number().strict().required(),high:o.default.number().strict().required()}).custom((e=>{if(e.low>e.average)throw new Error("Low gas price step can not be greater than average");if(e.average>e.high)throw new Error("Average gas price step can not be greater than high");return e}));t.FeeCurrencySchema=t.CurrencySchema.keys({gasPriceStep:s}),t.Bech32ConfigSchema=o.default.object({bech32PrefixAccAddr:o.default.string().required(),bech32PrefixAccPub:o.default.string().required(),bech32PrefixValAddr:o.default.string().required(),bech32PrefixValPub:o.default.string().required(),bech32PrefixConsAddr:o.default.string().required(),bech32PrefixConsPub:o.default.string().required()}),t.EIP155ChainIdSchema=o.default.string().custom((e=>{if(!e.includes(":"))throw new Error("EIP155 chain id should have colon as defined in CAIP-2");{const t=e.split(":");if(2!==t.length)throw new Error("EIP155 chain id should have only one colon as defined in CAIP-2");const[n,r]=t;if("eip155"!==n)throw new Error("Namespace for EIP155 chain id should be 'eip155'");if(!r.match(/^[1-9]\d{0,31}$/))throw new Error("Reference for EIP155 chain id should be 1~32 characters of number")}return e})),t.ChainIdSchema=o.default.alternatives().try(o.default.string().min(1).max(50),t.EIP155ChainIdSchema),t.SuggestingBIP44Schema=o.default.object({coinType:o.default.number().strict().integer().min(0).required()}).unknown(!0),t.ChainInfoSchema=o.default.object({rpc:o.default.string().uri().custom((e=>{if(e.includes("?"))throw new Error("rpc should not have query string");return e})).required(),rest:o.default.string().uri().custom((e=>{if(e.includes("?"))throw new Error("rest should not have query string");return e})).required(),evm:o.default.object({chainId:o.default.number().required(),rpc:o.default.string().custom((e=>{if(e.includes("?"))throw new Error("evm rpc should not have query string");return e})).required()}).unknown(!0),nodeProvider:o.default.object({name:o.default.string().min(1).max(30).required(),email:o.default.string().email({tlds:{allow:!1}}),discord:o.default.string().uri(),website:o.default.string().uri()}),chainId:t.ChainIdSchema.required(),chainName:o.default.string().required().min(1).max(36),stakeCurrency:t.CurrencySchema,walletUrl:o.default.string().uri(),walletUrlForStaking:o.default.string().uri(),bip44:t.SuggestingBIP44Schema.required(),alternativeBIP44s:o.default.array().items(t.SuggestingBIP44Schema).custom((e=>{const t={};for(const n of e){if(t[n.coinType])throw new Error(`coin type ${n.coinType} is duplicated`);t[n.coinType]=!0}return e})),bech32Config:t.Bech32ConfigSchema,currencies:o.default.array().min(1).items(t.CurrencySchema,t.CW20CurrencySchema,t.Secret20CurrencySchema).custom((e=>{const t={};for(const n of e){if(t[n.coinMinimalDenom])throw new Error(`${n.coinMinimalDenom} is duplicated`);t[n.coinMinimalDenom]=!0}return e})).required(),feeCurrencies:o.default.array().min(1).items(t.FeeCurrencySchema).custom((e=>{const t={};for(const n of e){if(t[n.coinMinimalDenom])throw new Error(`${n.coinMinimalDenom} is duplicated`);t[n.coinMinimalDenom]=!0}return e})).required(),beta:o.default.boolean(),features:o.default.array().items(o.default.string().valid(...i.SupportedChainFeatures)).unique().custom((e=>{if(e.indexOf("cosmwasm")>=0&&e.indexOf("secretwasm")>=0)throw new Error("cosmwasm and secretwasm are not compatible");return e})),chainSymbolImageUrl:o.default.string().uri(),hideInUI:o.default.boolean()}).custom((e=>{var n;if(e.nodeProvider&&!e.nodeProvider.email&&!e.nodeProvider.discord)throw new Error("email or discord should be provided");if(null===(n=e.alternativeBIP44s)||void 0===n?void 0:n.find((t=>t.coinType===e.bip44.coinType)))throw new Error(`coin type ${e.bip44.coinType} is duplicated`);if(60===e.bip44.coinType){if(e.alternativeBIP44s&&e.alternativeBIP44s.length>0)throw new Error("coin type 60 can't have alternative BIP44s")}else if(e.alternativeBIP44s&&e.alternativeBIP44s.find((e=>60===e.coinType)))throw new Error("coin type 60 can't be alternative BIP44");if(e.stakeCurrency&&!e.currencies.find((t=>{var n;return t.coinMinimalDenom===(null===(n=e.stakeCurrency)||void 0===n?void 0:n.coinMinimalDenom)})))throw new Error(`stake currency ${e.stakeCurrency.coinMinimalDenom} is not included in currencies`);if(!t.EIP155ChainIdSchema.validate(e.chainId).error){if(60!==e.bip44.coinType)throw new Error("if chainId is EIP-155 chain id defined in CAIP-2, coin type should be 60");if(!e.evm)throw new Error("if chainId is EIP-155 chain id defined in CAIP-2, evm should be provided");if(null!=e.bech32Config)throw new Error("if chainId is EIP-155 chain id defined in CAIP-2, bech32Config should be undefined")}if(!e.bech32Config){if(60!==e.bip44.coinType)throw new Error("if bech32Config is undefined, coin type should be 60");if(!e.evm)throw new Error("if bech32Config is undefined, evm should be provided");if(t.EIP155ChainIdSchema.validate(e.chainId).error)throw new Error("if bech32Config is undefined, chainId should be EIP-155 chain id defined in CAIP-2")}if(t.EIP155ChainIdSchema.validate(e.chainId).error&&e.evm){if(18!==e.currencies[0].coinDecimals)throw new Error("The first currency's coin decimals should be 18 for EVM chain");if(e.stakeCurrency){if(18!==e.stakeCurrency.coinDecimals)throw new Error("The stake currency's coin decimals should be 18 for EVM chain");const t=e.currencies.find((t=>{var n;return t.coinMinimalDenom===(null===(n=e.stakeCurrency)||void 0===n?void 0:n.coinMinimalDenom)}));if(t&&18!==t.coinDecimals)throw new Error("The stake currency's coin decimals should be 18 for EVM chain")}if(18!==e.feeCurrencies[0].coinDecimals)throw new Error("The first fee currency's coin decimals should be 18 for EVM chain")}return e}))},14010:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseCoinStr=t.isValidCoinStr=void 0,t.isValidCoinStr=function(e){const t=e.split(/^([0-9]+)(\s)*([a-zA-Z][a-zA-Z0-9/-]*)$/);return 5===t.length&&t[1].length>0&&t[3].length>0&&!Number.isNaN(parseInt(t[1]))},t.parseCoinStr=function(e){const t=e.split(/^([0-9]+)(\s)*([a-zA-Z][a-zA-Z0-9/-]*)$/);if(5===t.length)return{denom:t[3],amount:t[1]};throw new Error(`Invalid coin string: ${e}`)}},11851:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DenomHelper=void 0;const r=n(48834),i=n(34298);t.DenomHelper=class{static ibcDenom(e,t){const n=[];for(const t of e)n.push(`${t.portId}/${t.channelId}`);const o=`${n.join("/")}/${t}`;return"ibc/"+r.Buffer.from(i.Hash.sha256(r.Buffer.from(o))).toString("hex").toUpperCase()}constructor(e){this._denom=e;let t=this.denom.split(/^(\w+):(\w+)$/).filter(Boolean);if(2!==t.length&&(t=this.denom.split(/^(\w+):(\w+):(.+)$/).filter(Boolean),1!==t.length&&3!==t.length))throw new Error(`Invalid denom: ${this.denom}`);this._type=t.length>=2?t[0]:"",this._contractAddress=t.length>=2?t[1]:""}get denom(){return this._denom}get type(){return this._type||"native"}get contractAddress(){return this._contractAddress}}},8407:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.unescapeHTML=t.escapeHTML=void 0,t.escapeHTML=function(e){return e.replace(/</g,"\\u003c").replace(/>/g,"\\u003e").replace(/&/g,"\\u0026")},t.unescapeHTML=function(e){return e.replace(/\\u003c/g,"<").replace(/\\u003e/g,">").replace(/\\u0026/g,"&")}},4371:(e,t)=>{function n(e){const t=e.split(".");if(2===t.length&&t[0].length>0&&t[1].length>0)return[t[0],t[1]]}Object.defineProperty(t,"__esModule",{value:!0}),t.validateICNSName=t.parseICNSName=void 0,t.parseICNSName=n,t.validateICNSName=function(e,t){const r=n(e);return!!r&&r[1]===t}},89642:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(17859),t),i(n(11851),t),i(n(41549),t),i(n(83781),t),i(n(8407),t),i(n(3415),t),i(n(4371),t),i(n(90293),t),i(n(57673),t),i(n(83524),t),i(n(14010),t),i(n(51862),t)},3415:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(40792),t)},40792:(e,t)=>{function n(e){if("object"!=typeof e||null===e)return e;if(Array.isArray(e))return e.map(n);const t=Object.keys(e).sort(),r={};return t.forEach((t=>{r[t]=n(e[t])})),r}Object.defineProperty(t,"__esModule",{value:!0}),t.sortedJsonByKeyStringify=t.sortObjectByKey=void 0,t.sortObjectByKey=n,t.sortedJsonByKeyStringify=function(e){return JSON.stringify(n(e))}},42930:function(e,t){var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseKVStore=void 0,t.BaseKVStore=class{constructor(e,t){this.provider=e,this._prefix=t}get(e){return n(this,void 0,void 0,(function*(){const t=this.prefix()+"/"+e;return(yield this.provider.get(t))[t]}))}set(e,t){const n=this.prefix()+"/"+e;return this.provider.set({[n]:t})}prefix(){return this._prefix}}},35443:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionKVStore=void 0;const i=n(42930);class o extends i.BaseKVStore{constructor(e){if(o.KVStoreProvider||("undefined"==typeof browser?console.log("You should use ExtensionKVStore on the extension environment."):browser.storage&&browser.storage.local?o.KVStoreProvider={get:browser.storage.local.get,set:browser.storage.local.set,multiGet:browser.storage.local.get}:console.log("The 'browser' exists, but it doesn't seem to be an extension environment. This can happen in Safari browser.")),!o.KVStoreProvider)throw new Error("Can't initialize kv store for browser extension");super(o.KVStoreProvider,e)}multiGet(e){var t;return r(this,void 0,void 0,(function*(){e=Array.from(new Set(e));const n=null!==(t=yield o.KVStoreProvider.multiGet(e.map((e=>this.prefix()+"/"+e))))&&void 0!==t?t:{},r=Object.keys(n);for(const e of r)n[e.slice(this.prefix().length+1)]=n[e],delete n[e];return n}))}}t.ExtensionKVStore=o},17859:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(21377),t),i(n(35443),t),i(n(42930),t),i(n(91977),t),i(n(1922),t),i(n(31998),t),i(n(34097),t),i(n(89309),t)},31998:function(e,t){var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.IndexedDBKVStore=void 0,t.IndexedDBKVStore=class{constructor(e){this._prefix=e}get(e){return n(this,void 0,void 0,(function*(){const t=(yield this.getDB()).transaction([this.prefix()],"readonly").objectStore(this.prefix());return new Promise(((n,r)=>{const i=t.get(e);i.onerror=e=>{e.stopPropagation(),r(e.target)},i.onsuccess=()=>{i.result?n(i.result.data):n(void 0)}}))}))}set(e,t){return n(this,void 0,void 0,(function*(){if(null===t){const t=(yield this.getDB()).transaction([this.prefix()],"readwrite").objectStore(this.prefix());return new Promise(((n,r)=>{const i=t.delete(e);i.onerror=e=>{e.stopPropagation(),r(e.target)},i.onsuccess=()=>{n()}}))}{const n=(yield this.getDB()).transaction([this.prefix()],"readwrite").objectStore(this.prefix());return new Promise(((r,i)=>{const o=n.put({key:e,data:t});o.onerror=e=>{e.stopPropagation(),i(e.target)},o.onsuccess=()=>{r()}}))}}))}prefix(){return this._prefix}getDB(){return n(this,void 0,void 0,(function*(){return this.cachedDB?this.cachedDB:new Promise(((e,t)=>{const n=window.indexedDB.open(this.prefix());n.onerror=e=>{e.stopPropagation(),t(e.target)},n.onupgradeneeded=e=>{e.target.result.createObjectStore(this.prefix(),{keyPath:"key"})},n.onsuccess=()=>{this.cachedDB=n.result,e(n.result)}}))}))}}},21377:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},1922:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LocalKVStore=void 0,t.LocalKVStore=class{constructor(e){this._prefix=e}get(e){const t=this.prefix()+"/"+e,n=localStorage.getItem(t);return null===n?Promise.resolve(void 0):Promise.resolve(JSON.parse(n))}set(e,t){const n=this.prefix()+"/"+e;return null===t?Promise.resolve(localStorage.removeItem(n)):Promise.resolve(localStorage.setItem(n,JSON.stringify(t)))}prefix(){return this._prefix}}},91977:(e,t,n)=>{n(34406),Object.defineProperty(t,"__esModule",{value:!0}),t.MemoryKVStore=void 0;const r=n(42930);class i{constructor(){this.store={}}get(e){return Promise.resolve({[e]:this.store[e]})}set(e){return this.store=Object.assign(Object.assign({},this.store),e),Promise.resolve()}checkNotPrimitiveField(e){Object.keys(e).forEach((t=>{const n=e[t];if(null!=n&&"object"==typeof n){if(n.constructor!==Object&&n.constructor!==Array)throw new Error(`${t} may not be serializable: ${n.constructor.name}`);this.checkNotPrimitiveField(n)}}))}}class o extends r.BaseKVStore{constructor(e){super(new i,e)}}t.MemoryKVStore=o},89309:function(e,t){var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.WrapMultiGetKVStore=void 0,t.WrapMultiGetKVStore=class{constructor(e){this.kvStore=e}multiGet(e){return n(this,void 0,void 0,(function*(){e=Array.from(new Set(e));const t={},r=[];for(const i of e)r.push((()=>n(this,void 0,void 0,(function*(){t[i]=yield this.kvStore.get(i)})))());return yield Promise.all(r),t}))}}},34097:function(e,t){var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.PrefixKVStore=void 0,t.PrefixKVStore=class{constructor(e,t){this.kvStore=e,this._prefix=t}prefix(){return this._prefix}get(e){return n(this,void 0,void 0,(function*(){const t=this.prefix()+"/"+e;return yield this.kvStore.get(t)}))}set(e,t){return n(this,void 0,void 0,(function*(){const n=this.prefix()+"/"+e;return yield this.kvStore.set(n,t)}))}}},83524:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isMnemonicWord=void 0,t.isMnemonicWord=function(e){return!!n[e]};const n={abandon:!0,ability:!0,able:!0,about:!0,above:!0,absent:!0,absorb:!0,abstract:!0,absurd:!0,abuse:!0,access:!0,accident:!0,account:!0,accuse:!0,achieve:!0,acid:!0,acoustic:!0,acquire:!0,across:!0,act:!0,action:!0,actor:!0,actress:!0,actual:!0,adapt:!0,add:!0,addict:!0,address:!0,adjust:!0,admit:!0,adult:!0,advance:!0,advice:!0,aerobic:!0,affair:!0,afford:!0,afraid:!0,again:!0,age:!0,agent:!0,agree:!0,ahead:!0,aim:!0,air:!0,airport:!0,aisle:!0,alarm:!0,album:!0,alcohol:!0,alert:!0,alien:!0,all:!0,alley:!0,allow:!0,almost:!0,alone:!0,alpha:!0,already:!0,also:!0,alter:!0,always:!0,amateur:!0,amazing:!0,among:!0,amount:!0,amused:!0,analyst:!0,anchor:!0,ancient:!0,anger:!0,angle:!0,angry:!0,animal:!0,ankle:!0,announce:!0,annual:!0,another:!0,answer:!0,antenna:!0,antique:!0,anxiety:!0,any:!0,apart:!0,apology:!0,appear:!0,apple:!0,approve:!0,april:!0,arch:!0,arctic:!0,area:!0,arena:!0,argue:!0,arm:!0,armed:!0,armor:!0,army:!0,around:!0,arrange:!0,arrest:!0,arrive:!0,arrow:!0,art:!0,artefact:!0,artist:!0,artwork:!0,ask:!0,aspect:!0,assault:!0,asset:!0,assist:!0,assume:!0,asthma:!0,athlete:!0,atom:!0,attack:!0,attend:!0,attitude:!0,attract:!0,auction:!0,audit:!0,august:!0,aunt:!0,author:!0,auto:!0,autumn:!0,average:!0,avocado:!0,avoid:!0,awake:!0,aware:!0,away:!0,awesome:!0,awful:!0,awkward:!0,axis:!0,baby:!0,bachelor:!0,bacon:!0,badge:!0,bag:!0,balance:!0,balcony:!0,ball:!0,bamboo:!0,banana:!0,banner:!0,bar:!0,barely:!0,bargain:!0,barrel:!0,base:!0,basic:!0,basket:!0,battle:!0,beach:!0,bean:!0,beauty:!0,because:!0,become:!0,beef:!0,before:!0,begin:!0,behave:!0,behind:!0,believe:!0,below:!0,belt:!0,bench:!0,benefit:!0,best:!0,betray:!0,better:!0,between:!0,beyond:!0,bicycle:!0,bid:!0,bike:!0,bind:!0,biology:!0,bird:!0,birth:!0,bitter:!0,black:!0,blade:!0,blame:!0,blanket:!0,blast:!0,bleak:!0,bless:!0,blind:!0,blood:!0,blossom:!0,blouse:!0,blue:!0,blur:!0,blush:!0,board:!0,boat:!0,body:!0,boil:!0,bomb:!0,bone:!0,bonus:!0,book:!0,boost:!0,border:!0,boring:!0,borrow:!0,boss:!0,bottom:!0,bounce:!0,box:!0,boy:!0,bracket:!0,brain:!0,brand:!0,brass:!0,brave:!0,bread:!0,breeze:!0,brick:!0,bridge:!0,brief:!0,bright:!0,bring:!0,brisk:!0,broccoli:!0,broken:!0,bronze:!0,broom:!0,brother:!0,brown:!0,brush:!0,bubble:!0,buddy:!0,budget:!0,buffalo:!0,build:!0,bulb:!0,bulk:!0,bullet:!0,bundle:!0,bunker:!0,burden:!0,burger:!0,burst:!0,bus:!0,business:!0,busy:!0,butter:!0,buyer:!0,buzz:!0,cabbage:!0,cabin:!0,cable:!0,cactus:!0,cage:!0,cake:!0,call:!0,calm:!0,camera:!0,camp:!0,can:!0,canal:!0,cancel:!0,candy:!0,cannon:!0,canoe:!0,canvas:!0,canyon:!0,capable:!0,capital:!0,captain:!0,car:!0,carbon:!0,card:!0,cargo:!0,carpet:!0,carry:!0,cart:!0,case:!0,cash:!0,casino:!0,castle:!0,casual:!0,cat:!0,catalog:!0,catch:!0,category:!0,cattle:!0,caught:!0,cause:!0,caution:!0,cave:!0,ceiling:!0,celery:!0,cement:!0,census:!0,century:!0,cereal:!0,certain:!0,chair:!0,chalk:!0,champion:!0,change:!0,chaos:!0,chapter:!0,charge:!0,chase:!0,chat:!0,cheap:!0,check:!0,cheese:!0,chef:!0,cherry:!0,chest:!0,chicken:!0,chief:!0,child:!0,chimney:!0,choice:!0,choose:!0,chronic:!0,chuckle:!0,chunk:!0,churn:!0,cigar:!0,cinnamon:!0,circle:!0,citizen:!0,city:!0,civil:!0,claim:!0,clap:!0,clarify:!0,claw:!0,clay:!0,clean:!0,clerk:!0,clever:!0,click:!0,client:!0,cliff:!0,climb:!0,clinic:!0,clip:!0,clock:!0,clog:!0,close:!0,cloth:!0,cloud:!0,clown:!0,club:!0,clump:!0,cluster:!0,clutch:!0,coach:!0,coast:!0,coconut:!0,code:!0,coffee:!0,coil:!0,coin:!0,collect:!0,color:!0,column:!0,combine:!0,come:!0,comfort:!0,comic:!0,common:!0,company:!0,concert:!0,conduct:!0,confirm:!0,congress:!0,connect:!0,consider:!0,control:!0,convince:!0,cook:!0,cool:!0,copper:!0,copy:!0,coral:!0,core:!0,corn:!0,correct:!0,cost:!0,cotton:!0,couch:!0,country:!0,couple:!0,course:!0,cousin:!0,cover:!0,coyote:!0,crack:!0,cradle:!0,craft:!0,cram:!0,crane:!0,crash:!0,crater:!0,crawl:!0,crazy:!0,cream:!0,credit:!0,creek:!0,crew:!0,cricket:!0,crime:!0,crisp:!0,critic:!0,crop:!0,cross:!0,crouch:!0,crowd:!0,crucial:!0,cruel:!0,cruise:!0,crumble:!0,crunch:!0,crush:!0,cry:!0,crystal:!0,cube:!0,culture:!0,cup:!0,cupboard:!0,curious:!0,current:!0,curtain:!0,curve:!0,cushion:!0,custom:!0,cute:!0,cycle:!0,dad:!0,damage:!0,damp:!0,dance:!0,danger:!0,daring:!0,dash:!0,daughter:!0,dawn:!0,day:!0,deal:!0,debate:!0,debris:!0,decade:!0,december:!0,decide:!0,decline:!0,decorate:!0,decrease:!0,deer:!0,defense:!0,define:!0,defy:!0,degree:!0,delay:!0,deliver:!0,demand:!0,demise:!0,denial:!0,dentist:!0,deny:!0,depart:!0,depend:!0,deposit:!0,depth:!0,deputy:!0,derive:!0,describe:!0,desert:!0,design:!0,desk:!0,despair:!0,destroy:!0,detail:!0,detect:!0,develop:!0,device:!0,devote:!0,diagram:!0,dial:!0,diamond:!0,diary:!0,dice:!0,diesel:!0,diet:!0,differ:!0,digital:!0,dignity:!0,dilemma:!0,dinner:!0,dinosaur:!0,direct:!0,dirt:!0,disagree:!0,discover:!0,disease:!0,dish:!0,dismiss:!0,disorder:!0,display:!0,distance:!0,divert:!0,divide:!0,divorce:!0,dizzy:!0,doctor:!0,document:!0,dog:!0,doll:!0,dolphin:!0,domain:!0,donate:!0,donkey:!0,donor:!0,door:!0,dose:!0,double:!0,dove:!0,draft:!0,dragon:!0,drama:!0,drastic:!0,draw:!0,dream:!0,dress:!0,drift:!0,drill:!0,drink:!0,drip:!0,drive:!0,drop:!0,drum:!0,dry:!0,duck:!0,dumb:!0,dune:!0,during:!0,dust:!0,dutch:!0,duty:!0,dwarf:!0,dynamic:!0,eager:!0,eagle:!0,early:!0,earn:!0,earth:!0,easily:!0,east:!0,easy:!0,echo:!0,ecology:!0,economy:!0,edge:!0,edit:!0,educate:!0,effort:!0,egg:!0,eight:!0,either:!0,elbow:!0,elder:!0,electric:!0,elegant:!0,element:!0,elephant:!0,elevator:!0,elite:!0,else:!0,embark:!0,embody:!0,embrace:!0,emerge:!0,emotion:!0,employ:!0,empower:!0,empty:!0,enable:!0,enact:!0,end:!0,endless:!0,endorse:!0,enemy:!0,energy:!0,enforce:!0,engage:!0,engine:!0,enhance:!0,enjoy:!0,enlist:!0,enough:!0,enrich:!0,enroll:!0,ensure:!0,enter:!0,entire:!0,entry:!0,envelope:!0,episode:!0,equal:!0,equip:!0,era:!0,erase:!0,erode:!0,erosion:!0,error:!0,erupt:!0,escape:!0,essay:!0,essence:!0,estate:!0,eternal:!0,ethics:!0,evidence:!0,evil:!0,evoke:!0,evolve:!0,exact:!0,example:!0,excess:!0,exchange:!0,excite:!0,exclude:!0,excuse:!0,execute:!0,exercise:!0,exhaust:!0,exhibit:!0,exile:!0,exist:!0,exit:!0,exotic:!0,expand:!0,expect:!0,expire:!0,explain:!0,expose:!0,express:!0,extend:!0,extra:!0,eye:!0,eyebrow:!0,fabric:!0,face:!0,faculty:!0,fade:!0,faint:!0,faith:!0,fall:!0,false:!0,fame:!0,family:!0,famous:!0,fan:!0,fancy:!0,fantasy:!0,farm:!0,fashion:!0,fat:!0,fatal:!0,father:!0,fatigue:!0,fault:!0,favorite:!0,feature:!0,february:!0,federal:!0,fee:!0,feed:!0,feel:!0,female:!0,fence:!0,festival:!0,fetch:!0,fever:!0,few:!0,fiber:!0,fiction:!0,field:!0,figure:!0,file:!0,film:!0,filter:!0,final:!0,find:!0,fine:!0,finger:!0,finish:!0,fire:!0,firm:!0,first:!0,fiscal:!0,fish:!0,fit:!0,fitness:!0,fix:!0,flag:!0,flame:!0,flash:!0,flat:!0,flavor:!0,flee:!0,flight:!0,flip:!0,float:!0,flock:!0,floor:!0,flower:!0,fluid:!0,flush:!0,fly:!0,foam:!0,focus:!0,fog:!0,foil:!0,fold:!0,follow:!0,food:!0,foot:!0,force:!0,forest:!0,forget:!0,fork:!0,fortune:!0,forum:!0,forward:!0,fossil:!0,foster:!0,found:!0,fox:!0,fragile:!0,frame:!0,frequent:!0,fresh:!0,friend:!0,fringe:!0,frog:!0,front:!0,frost:!0,frown:!0,frozen:!0,fruit:!0,fuel:!0,fun:!0,funny:!0,furnace:!0,fury:!0,future:!0,gadget:!0,gain:!0,galaxy:!0,gallery:!0,game:!0,gap:!0,garage:!0,garbage:!0,garden:!0,garlic:!0,garment:!0,gas:!0,gasp:!0,gate:!0,gather:!0,gauge:!0,gaze:!0,general:!0,genius:!0,genre:!0,gentle:!0,genuine:!0,gesture:!0,ghost:!0,giant:!0,gift:!0,giggle:!0,ginger:!0,giraffe:!0,girl:!0,give:!0,glad:!0,glance:!0,glare:!0,glass:!0,glide:!0,glimpse:!0,globe:!0,gloom:!0,glory:!0,glove:!0,glow:!0,glue:!0,goat:!0,goddess:!0,gold:!0,good:!0,goose:!0,gorilla:!0,gospel:!0,gossip:!0,govern:!0,gown:!0,grab:!0,grace:!0,grain:!0,grant:!0,grape:!0,grass:!0,gravity:!0,great:!0,green:!0,grid:!0,grief:!0,grit:!0,grocery:!0,group:!0,grow:!0,grunt:!0,guard:!0,guess:!0,guide:!0,guilt:!0,guitar:!0,gun:!0,gym:!0,habit:!0,hair:!0,half:!0,hammer:!0,hamster:!0,hand:!0,happy:!0,harbor:!0,hard:!0,harsh:!0,harvest:!0,hat:!0,have:!0,hawk:!0,hazard:!0,head:!0,health:!0,heart:!0,heavy:!0,hedgehog:!0,height:!0,hello:!0,helmet:!0,help:!0,hen:!0,hero:!0,hidden:!0,high:!0,hill:!0,hint:!0,hip:!0,hire:!0,history:!0,hobby:!0,hockey:!0,hold:!0,hole:!0,holiday:!0,hollow:!0,home:!0,honey:!0,hood:!0,hope:!0,horn:!0,horror:!0,horse:!0,hospital:!0,host:!0,hotel:!0,hour:!0,hover:!0,hub:!0,huge:!0,human:!0,humble:!0,humor:!0,hundred:!0,hungry:!0,hunt:!0,hurdle:!0,hurry:!0,hurt:!0,husband:!0,hybrid:!0,ice:!0,icon:!0,idea:!0,identify:!0,idle:!0,ignore:!0,ill:!0,illegal:!0,illness:!0,image:!0,imitate:!0,immense:!0,immune:!0,impact:!0,impose:!0,improve:!0,impulse:!0,inch:!0,include:!0,income:!0,increase:!0,index:!0,indicate:!0,indoor:!0,industry:!0,infant:!0,inflict:!0,inform:!0,inhale:!0,inherit:!0,initial:!0,inject:!0,injury:!0,inmate:!0,inner:!0,innocent:!0,input:!0,inquiry:!0,insane:!0,insect:!0,inside:!0,inspire:!0,install:!0,intact:!0,interest:!0,into:!0,invest:!0,invite:!0,involve:!0,iron:!0,island:!0,isolate:!0,issue:!0,item:!0,ivory:!0,jacket:!0,jaguar:!0,jar:!0,jazz:!0,jealous:!0,jeans:!0,jelly:!0,jewel:!0,job:!0,join:!0,joke:!0,journey:!0,joy:!0,judge:!0,juice:!0,jump:!0,jungle:!0,junior:!0,junk:!0,just:!0,kangaroo:!0,keen:!0,keep:!0,ketchup:!0,key:!0,kick:!0,kid:!0,kidney:!0,kind:!0,kingdom:!0,kiss:!0,kit:!0,kitchen:!0,kite:!0,kitten:!0,kiwi:!0,knee:!0,knife:!0,knock:!0,know:!0,lab:!0,label:!0,labor:!0,ladder:!0,lady:!0,lake:!0,lamp:!0,language:!0,laptop:!0,large:!0,later:!0,latin:!0,laugh:!0,laundry:!0,lava:!0,law:!0,lawn:!0,lawsuit:!0,layer:!0,lazy:!0,leader:!0,leaf:!0,learn:!0,leave:!0,lecture:!0,left:!0,leg:!0,legal:!0,legend:!0,leisure:!0,lemon:!0,lend:!0,length:!0,lens:!0,leopard:!0,lesson:!0,letter:!0,level:!0,liar:!0,liberty:!0,library:!0,license:!0,life:!0,lift:!0,light:!0,like:!0,limb:!0,limit:!0,link:!0,lion:!0,liquid:!0,list:!0,little:!0,live:!0,lizard:!0,load:!0,loan:!0,lobster:!0,local:!0,lock:!0,logic:!0,lonely:!0,long:!0,loop:!0,lottery:!0,loud:!0,lounge:!0,love:!0,loyal:!0,lucky:!0,luggage:!0,lumber:!0,lunar:!0,lunch:!0,luxury:!0,lyrics:!0,machine:!0,mad:!0,magic:!0,magnet:!0,maid:!0,mail:!0,main:!0,major:!0,make:!0,mammal:!0,man:!0,manage:!0,mandate:!0,mango:!0,mansion:!0,manual:!0,maple:!0,marble:!0,march:!0,margin:!0,marine:!0,market:!0,marriage:!0,mask:!0,mass:!0,master:!0,match:!0,material:!0,math:!0,matrix:!0,matter:!0,maximum:!0,maze:!0,meadow:!0,mean:!0,measure:!0,meat:!0,mechanic:!0,medal:!0,media:!0,melody:!0,melt:!0,member:!0,memory:!0,mention:!0,menu:!0,mercy:!0,merge:!0,merit:!0,merry:!0,mesh:!0,message:!0,metal:!0,method:!0,middle:!0,midnight:!0,milk:!0,million:!0,mimic:!0,mind:!0,minimum:!0,minor:!0,minute:!0,miracle:!0,mirror:!0,misery:!0,miss:!0,mistake:!0,mix:!0,mixed:!0,mixture:!0,mobile:!0,model:!0,modify:!0,mom:!0,moment:!0,monitor:!0,monkey:!0,monster:!0,month:!0,moon:!0,moral:!0,more:!0,morning:!0,mosquito:!0,mother:!0,motion:!0,motor:!0,mountain:!0,mouse:!0,move:!0,movie:!0,much:!0,muffin:!0,mule:!0,multiply:!0,muscle:!0,museum:!0,mushroom:!0,music:!0,must:!0,mutual:!0,myself:!0,mystery:!0,myth:!0,naive:!0,name:!0,napkin:!0,narrow:!0,nasty:!0,nation:!0,nature:!0,near:!0,neck:!0,need:!0,negative:!0,neglect:!0,neither:!0,nephew:!0,nerve:!0,nest:!0,net:!0,network:!0,neutral:!0,never:!0,news:!0,next:!0,nice:!0,night:!0,noble:!0,noise:!0,nominee:!0,noodle:!0,normal:!0,north:!0,nose:!0,notable:!0,note:!0,nothing:!0,notice:!0,novel:!0,now:!0,nuclear:!0,number:!0,nurse:!0,nut:!0,oak:!0,obey:!0,object:!0,oblige:!0,obscure:!0,observe:!0,obtain:!0,obvious:!0,occur:!0,ocean:!0,october:!0,odor:!0,off:!0,offer:!0,office:!0,often:!0,oil:!0,okay:!0,old:!0,olive:!0,olympic:!0,omit:!0,once:!0,one:!0,onion:!0,online:!0,only:!0,open:!0,opera:!0,opinion:!0,oppose:!0,option:!0,orange:!0,orbit:!0,orchard:!0,order:!0,ordinary:!0,organ:!0,orient:!0,original:!0,orphan:!0,ostrich:!0,other:!0,outdoor:!0,outer:!0,output:!0,outside:!0,oval:!0,oven:!0,over:!0,own:!0,owner:!0,oxygen:!0,oyster:!0,ozone:!0,pact:!0,paddle:!0,page:!0,pair:!0,palace:!0,palm:!0,panda:!0,panel:!0,panic:!0,panther:!0,paper:!0,parade:!0,parent:!0,park:!0,parrot:!0,party:!0,pass:!0,patch:!0,path:!0,patient:!0,patrol:!0,pattern:!0,pause:!0,pave:!0,payment:!0,peace:!0,peanut:!0,pear:!0,peasant:!0,pelican:!0,pen:!0,penalty:!0,pencil:!0,people:!0,pepper:!0,perfect:!0,permit:!0,person:!0,pet:!0,phone:!0,photo:!0,phrase:!0,physical:!0,piano:!0,picnic:!0,picture:!0,piece:!0,pig:!0,pigeon:!0,pill:!0,pilot:!0,pink:!0,pioneer:!0,pipe:!0,pistol:!0,pitch:!0,pizza:!0,place:!0,planet:!0,plastic:!0,plate:!0,play:!0,please:!0,pledge:!0,pluck:!0,plug:!0,plunge:!0,poem:!0,poet:!0,point:!0,polar:!0,pole:!0,police:!0,pond:!0,pony:!0,pool:!0,popular:!0,portion:!0,position:!0,possible:!0,post:!0,potato:!0,pottery:!0,poverty:!0,powder:!0,power:!0,practice:!0,praise:!0,predict:!0,prefer:!0,prepare:!0,present:!0,pretty:!0,prevent:!0,price:!0,pride:!0,primary:!0,print:!0,priority:!0,prison:!0,private:!0,prize:!0,problem:!0,process:!0,produce:!0,profit:!0,program:!0,project:!0,promote:!0,proof:!0,property:!0,prosper:!0,protect:!0,proud:!0,provide:!0,public:!0,pudding:!0,pull:!0,pulp:!0,pulse:!0,pumpkin:!0,punch:!0,pupil:!0,puppy:!0,purchase:!0,purity:!0,purpose:!0,purse:!0,push:!0,put:!0,puzzle:!0,pyramid:!0,quality:!0,quantum:!0,quarter:!0,question:!0,quick:!0,quit:!0,quiz:!0,quote:!0,rabbit:!0,raccoon:!0,race:!0,rack:!0,radar:!0,radio:!0,rail:!0,rain:!0,raise:!0,rally:!0,ramp:!0,ranch:!0,random:!0,range:!0,rapid:!0,rare:!0,rate:!0,rather:!0,raven:!0,raw:!0,razor:!0,ready:!0,real:!0,reason:!0,rebel:!0,rebuild:!0,recall:!0,receive:!0,recipe:!0,record:!0,recycle:!0,reduce:!0,reflect:!0,reform:!0,refuse:!0,region:!0,regret:!0,regular:!0,reject:!0,relax:!0,release:!0,relief:!0,rely:!0,remain:!0,remember:!0,remind:!0,remove:!0,render:!0,renew:!0,rent:!0,reopen:!0,repair:!0,repeat:!0,replace:!0,report:!0,require:!0,rescue:!0,resemble:!0,resist:!0,resource:!0,response:!0,result:!0,retire:!0,retreat:!0,return:!0,reunion:!0,reveal:!0,review:!0,reward:!0,rhythm:!0,rib:!0,ribbon:!0,rice:!0,rich:!0,ride:!0,ridge:!0,rifle:!0,right:!0,rigid:!0,ring:!0,riot:!0,ripple:!0,risk:!0,ritual:!0,rival:!0,river:!0,road:!0,roast:!0,robot:!0,robust:!0,rocket:!0,romance:!0,roof:!0,rookie:!0,room:!0,rose:!0,rotate:!0,rough:!0,round:!0,route:!0,royal:!0,rubber:!0,rude:!0,rug:!0,rule:!0,run:!0,runway:!0,rural:!0,sad:!0,saddle:!0,sadness:!0,safe:!0,sail:!0,salad:!0,salmon:!0,salon:!0,salt:!0,salute:!0,same:!0,sample:!0,sand:!0,satisfy:!0,satoshi:!0,sauce:!0,sausage:!0,save:!0,say:!0,scale:!0,scan:!0,scare:!0,scatter:!0,scene:!0,scheme:!0,school:!0,science:!0,scissors:!0,scorpion:!0,scout:!0,scrap:!0,screen:!0,script:!0,scrub:!0,sea:!0,search:!0,season:!0,seat:!0,second:!0,secret:!0,section:!0,security:!0,seed:!0,seek:!0,segment:!0,select:!0,sell:!0,seminar:!0,senior:!0,sense:!0,sentence:!0,series:!0,service:!0,session:!0,settle:!0,setup:!0,seven:!0,shadow:!0,shaft:!0,shallow:!0,share:!0,shed:!0,shell:!0,sheriff:!0,shield:!0,shift:!0,shine:!0,ship:!0,shiver:!0,shock:!0,shoe:!0,shoot:!0,shop:!0,short:!0,shoulder:!0,shove:!0,shrimp:!0,shrug:!0,shuffle:!0,shy:!0,sibling:!0,sick:!0,side:!0,siege:!0,sight:!0,sign:!0,silent:!0,silk:!0,silly:!0,silver:!0,similar:!0,simple:!0,since:!0,sing:!0,siren:!0,sister:!0,situate:!0,six:!0,size:!0,skate:!0,sketch:!0,ski:!0,skill:!0,skin:!0,skirt:!0,skull:!0,slab:!0,slam:!0,sleep:!0,slender:!0,slice:!0,slide:!0,slight:!0,slim:!0,slogan:!0,slot:!0,slow:!0,slush:!0,small:!0,smart:!0,smile:!0,smoke:!0,smooth:!0,snack:!0,snake:!0,snap:!0,sniff:!0,snow:!0,soap:!0,soccer:!0,social:!0,sock:!0,soda:!0,soft:!0,solar:!0,soldier:!0,solid:!0,solution:!0,solve:!0,someone:!0,song:!0,soon:!0,sorry:!0,sort:!0,soul:!0,sound:!0,soup:!0,source:!0,south:!0,space:!0,spare:!0,spatial:!0,spawn:!0,speak:!0,special:!0,speed:!0,spell:!0,spend:!0,sphere:!0,spice:!0,spider:!0,spike:!0,spin:!0,spirit:!0,split:!0,spoil:!0,sponsor:!0,spoon:!0,sport:!0,spot:!0,spray:!0,spread:!0,spring:!0,spy:!0,square:!0,squeeze:!0,squirrel:!0,stable:!0,stadium:!0,staff:!0,stage:!0,stairs:!0,stamp:!0,stand:!0,start:!0,state:!0,stay:!0,steak:!0,steel:!0,stem:!0,step:!0,stereo:!0,stick:!0,still:!0,sting:!0,stock:!0,stomach:!0,stone:!0,stool:!0,story:!0,stove:!0,strategy:!0,street:!0,strike:!0,strong:!0,struggle:!0,student:!0,stuff:!0,stumble:!0,style:!0,subject:!0,submit:!0,subway:!0,success:!0,such:!0,sudden:!0,suffer:!0,sugar:!0,suggest:!0,suit:!0,summer:!0,sun:!0,sunny:!0,sunset:!0,super:!0,supply:!0,supreme:!0,sure:!0,surface:!0,surge:!0,surprise:!0,surround:!0,survey:!0,suspect:!0,sustain:!0,swallow:!0,swamp:!0,swap:!0,swarm:!0,swear:!0,sweet:!0,swift:!0,swim:!0,swing:!0,switch:!0,sword:!0,symbol:!0,symptom:!0,syrup:!0,system:!0,table:!0,tackle:!0,tag:!0,tail:!0,talent:!0,talk:!0,tank:!0,tape:!0,target:!0,task:!0,taste:!0,tattoo:!0,taxi:!0,teach:!0,team:!0,tell:!0,ten:!0,tenant:!0,tennis:!0,tent:!0,term:!0,test:!0,text:!0,thank:!0,that:!0,theme:!0,then:!0,theory:!0,there:!0,they:!0,thing:!0,this:!0,thought:!0,three:!0,thrive:!0,throw:!0,thumb:!0,thunder:!0,ticket:!0,tide:!0,tiger:!0,tilt:!0,timber:!0,time:!0,tiny:!0,tip:!0,tired:!0,tissue:!0,title:!0,toast:!0,tobacco:!0,today:!0,toddler:!0,toe:!0,together:!0,toilet:!0,token:!0,tomato:!0,tomorrow:!0,tone:!0,tongue:!0,tonight:!0,tool:!0,tooth:!0,top:!0,topic:!0,topple:!0,torch:!0,tornado:!0,tortoise:!0,toss:!0,total:!0,tourist:!0,toward:!0,tower:!0,town:!0,toy:!0,track:!0,trade:!0,traffic:!0,tragic:!0,train:!0,transfer:!0,trap:!0,trash:!0,travel:!0,tray:!0,treat:!0,tree:!0,trend:!0,trial:!0,tribe:!0,trick:!0,trigger:!0,trim:!0,trip:!0,trophy:!0,trouble:!0,truck:!0,true:!0,truly:!0,trumpet:!0,trust:!0,truth:!0,try:!0,tube:!0,tuition:!0,tumble:!0,tuna:!0,tunnel:!0,turkey:!0,turn:!0,turtle:!0,twelve:!0,twenty:!0,twice:!0,twin:!0,twist:!0,two:!0,type:!0,typical:!0,ugly:!0,umbrella:!0,unable:!0,unaware:!0,uncle:!0,uncover:!0,under:!0,undo:!0,unfair:!0,unfold:!0,unhappy:!0,uniform:!0,unique:!0,unit:!0,universe:!0,unknown:!0,unlock:!0,until:!0,unusual:!0,unveil:!0,update:!0,upgrade:!0,uphold:!0,upon:!0,upper:!0,upset:!0,urban:!0,urge:!0,usage:!0,use:!0,used:!0,useful:!0,useless:!0,usual:!0,utility:!0,vacant:!0,vacuum:!0,vague:!0,valid:!0,valley:!0,valve:!0,van:!0,vanish:!0,vapor:!0,various:!0,vast:!0,vault:!0,vehicle:!0,velvet:!0,vendor:!0,venture:!0,venue:!0,verb:!0,verify:!0,version:!0,very:!0,vessel:!0,veteran:!0,viable:!0,vibrant:!0,vicious:!0,victory:!0,video:!0,view:!0,village:!0,vintage:!0,violin:!0,virtual:!0,virus:!0,visa:!0,visit:!0,visual:!0,vital:!0,vivid:!0,vocal:!0,voice:!0,void:!0,volcano:!0,volume:!0,vote:!0,voyage:!0,wage:!0,wagon:!0,wait:!0,walk:!0,wall:!0,walnut:!0,want:!0,warfare:!0,warm:!0,warrior:!0,wash:!0,wasp:!0,waste:!0,water:!0,wave:!0,way:!0,wealth:!0,weapon:!0,wear:!0,weasel:!0,weather:!0,web:!0,wedding:!0,weekend:!0,weird:!0,welcome:!0,west:!0,wet:!0,whale:!0,what:!0,wheat:!0,wheel:!0,when:!0,where:!0,whip:!0,whisper:!0,wide:!0,width:!0,wife:!0,wild:!0,will:!0,win:!0,window:!0,wine:!0,wing:!0,wink:!0,winner:!0,winter:!0,wire:!0,wisdom:!0,wise:!0,wish:!0,witness:!0,wolf:!0,woman:!0,wonder:!0,wood:!0,wool:!0,word:!0,work:!0,world:!0,worry:!0,worth:!0,wrap:!0,wreck:!0,wrestle:!0,wrist:!0,write:!0,wrong:!0,yard:!0,year:!0,yellow:!0,you:!0,young:!0,youth:!0,zebra:!0,zero:!0,zone:!0,zoo:!0}},62744:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.toGenerator=void 0,t.toGenerator=function*(e){return yield e}},41549:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(62744),t)},90293:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.retryInfinite=t.retry=void 0;const i=n(57673);function o(e,t){return r(this,void 0,void 0,(function*(){let n=0;for(;;)try{const t=e();return yield t}catch(e){if(n>=t.maxRetries)throw e;t.onFailed&&t.onFailed(e);let r=t.waitMsAfterError||0;r>0&&(null!=t.maxWaitMsAfterError&&t.maxWaitMsAfterError>0&&(r=Math.pow(2,n)*r,r=Math.min(r,t.maxWaitMsAfterError)),yield(0,i.sleep)(r)),n++}}))}t.retry=o,t.retryInfinite=function(e,t){return o(e,Object.assign(Object.assign({},t),{maxRetries:Number.MAX_SAFE_INTEGER}))}},51862:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isServiceWorker=void 0,t.isServiceWorker=()=>"undefined"!=typeof self&&"undefined"!=typeof ServiceWorkerGlobalScope&&self instanceof ServiceWorkerGlobalScope},57673:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.sleep=void 0,t.sleep=function(e){return new Promise((t=>setTimeout(t,e)))}},8265:function(e,t){var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Debouncer=void 0,t.Debouncer=class{static promise(e){let t;return(...r)=>n(this,void 0,void 0,(function*(){if(t)return t;try{return t=e.apply(this,r),yield t}finally{t=void 0}}))}}},83781:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(8265),t)},56309:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseAccount=void 0;const i=n(19731),o=n(86693);class s{static fetchFromRest(e,t,n=!1){return r(this,void 0,void 0,(function*(){const r=yield(0,o.simpleFetch)(e,`/cosmos/auth/v1beta1/accounts/${t}`,{validateStatus:function(e){return e>=200&&e<300||404===e}});return s.fromProtoJSON(r.data,n?t:"")}))}static fromProtoJSON(e,t=""){if(!e.account){if(!t)throw new Error(`Account's address is unknown: ${JSON.stringify(e)}`);return new s("",t,new i.Int(0),new i.Int(0))}let n=e.account;const r=n["@type"]||"",o=n.BaseAccount||n.baseAccount||n.base_account;o&&(n=o);const a=n.account;a&&(n=a);let d=n.BaseVestingAccount||n.baseVestingAccount||n.base_vesting_account;for(;d;){n=d;const e=n.BaseAccount||n.baseAccount||n.base_account;e&&(n=e),d=n.BaseVestingAccount||n.baseVestingAccount||n.base_vesting_account}let c=n.address;if(!c){if(!t)throw new Error(`Account's address is unknown: ${JSON.stringify(e)}`);c=t}const u=n.account_number,l=n.sequence;return new s(r,c,new i.Int(u||"0"),new i.Int(l||"0"))}constructor(e,t,n,r){this.type=e,this.address=t,this.accountNumber=n,this.sequence=r}getType(){return this.type}getAddress(){return this.address}getAccountNumber(){return this.accountNumber}getSequence(){return this.sequence}}t.BaseAccount=s},30704:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.verifyADR36Amino=t.verifyADR36AminoSignDoc=t.makeADR36AminoSignDoc=t.checkAndValidateADR36AminoSignDoc=void 0;const r=n(90924),i=n(54737),o=n(48834),s=n(34298);function a(e,t){if(!(e&&e.msgs&&Array.isArray(e.msgs)&&1===e.msgs.length&&"sign/MsgSignData"===e.msgs[0].type))return!1;if(""!==e.chain_id)throw new Error("Chain id should be empty string for ADR-36 signing");if(""!==e.memo)throw new Error("Memo should be empty string for ADR-36 signing");if("0"!==e.account_number)throw new Error('Account number should be "0" for ADR-36 signing');if("0"!==e.sequence)throw new Error('Sequence should be "0" for ADR-36 signing');if("0"!==e.fee.gas)throw new Error('Gas should be "0" for ADR-36 signing');if(0!==e.fee.amount.length)throw new Error("Fee amount should be empty array for ADR-36 signing");const n=e.msgs[0];if("sign/MsgSignData"!==n.type)throw new Error(`Invalid type of ADR-36 sign msg: ${n.type}`);if(!n.value)throw new Error("Empty value in the msg");const r=n.value.signer;if(!r)throw new Error("Empty signer in the ADR-36 msg");i.Bech32Address.validate(r,t);const s=n.value.data;if(!s)throw new Error("Empty data in the ADR-36 msg");const a=o.Buffer.from(s,"base64");if(a.toString("base64")!==s)throw new Error("Data is not encoded by base64");if(0===a.length)throw new Error("Empty data in the ADR-36 msg");return!0}function d(e,t){return{chain_id:"",account_number:"0",sequence:"0",fee:{gas:"0",amount:[]},msgs:[{type:"sign/MsgSignData",value:{signer:e,data:t=o.Buffer.from(t).toString("base64")}}],memo:""}}function c(e,t,n,o,d="secp256k1"){if(!a(t,e))throw new Error("Invalid sign doc for ADR-36");const c=new s.PubKeySecp256k1(n);if(("ethsecp256k1"===d?new i.Bech32Address(c.getEthAddress()).toBech32(e):new i.Bech32Address(c.getCosmosAddress()).toBech32(e))!==t.msgs[0].value.signer)throw new Error("Unmatched signer");const u=(0,r.serializeSignDoc)(t);return c.verifyDigest32("ethsecp256k1"===d?s.Hash.keccak256(u):s.Hash.sha256(u),o)}t.checkAndValidateADR36AminoSignDoc=a,t.makeADR36AminoSignDoc=d,t.verifyADR36AminoSignDoc=c,t.verifyADR36Amino=function(e,t,n,r,i,o="secp256k1"){return c(e,d(t,n),r,i,o)}},31289:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(30704),t)},54737:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Bech32Address=void 0;const s=o(n(21273)),a=n(48834),d=n(74605);class c{static shortenAddress(e,t){if(t>=e.length)return e;const n=e.indexOf("1"),r=e.slice(0,n),i=e.slice(n+1);if(t-=r.length,t-=3,(t-=1)<=0)return"";const o=Math.floor(i.length/2);let s=i.slice(0,o),a=i.slice(o);for(;t<s.length+a.length;)(s.length+a.length)%2==1&&s.length>0?s=s.slice(0,s.length-1):a=a.slice(1);return r+"1"+s+"..."+a}static fromBech32(e,t,n){const r=s.default.decode(e,n);if(t&&r.prefix!==t)throw new Error("Unmatched prefix");return new c(new Uint8Array((0,s.fromWords)(r.words)))}static validate(e,t,n){const{prefix:r}=s.default.decode(e,n);if(t&&t!==r)throw new Error(`Unexpected prefix (expected: ${t}, actual: ${r})`)}static defaultBech32Config(e,t="val",n="cons",r="pub",i="oper"){return{bech32PrefixAccAddr:e,bech32PrefixAccPub:e+r,bech32PrefixValAddr:e+t+i,bech32PrefixValPub:e+t+i+r,bech32PrefixConsAddr:e+t+n,bech32PrefixConsPub:e+t+n+r}}constructor(e){this.address=e}toBech32(e,t){const n=s.default.toWords(this.address);return s.default.encode(e,n,t)}toHex(e=!0){const t=a.Buffer.from(this.address).toString("hex");if(0===t.length)throw new Error("Empty address");return e?(0,d.getAddress)("0x"+t):"0x"+t}}t.Bech32Address=c},78144:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ChainIdHelper=void 0;class n{static parse(e){if("injective-777"===e||"injective-888"===e)return{identifier:e,version:0};const t=e.split(n.VersionFormatRegExp).filter(Boolean);return 2!==t.length?{identifier:e,version:0}:{identifier:t[0],version:parseInt(t[1])}}static hasChainVersion(e){return n.parse(e).identifier!==e}}n.VersionFormatRegExp=/(.+)-([\d]+)/,t.ChainIdHelper=n},41920:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EthermintChainIdHelper=void 0;const r=n(78144);t.EthermintChainIdHelper=class{static parse(e){const t=r.ChainIdHelper.parse(e);if("carbon-1"===e)return Object.assign({ethChainId:9790},t);if(e.startsWith("injective"))return["injective-777","injective-888"].includes(e)?Object.assign({ethChainId:5},t):Object.assign({ethChainId:1},t);const n=e.match("^([a-z]{1,})_{1}([1-9][0-9]*)-{1}([1-9][0-9]*)$");if(!n||4!==n.length||""===n[1]||Number.isNaN(parseFloat(n[2]))||!Number.isInteger(parseFloat(n[2])))throw new Error(`Invalid chainId for ethermint: ${e}`);return Object.assign(Object.assign({},t),{ethChainId:parseFloat(n[2])})}}},75468:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(78144),t),i(n(41920),t)},3580:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.serializeSignDoc=t.encodeSecp256k1Signature=t.encodeSecp256k1Pubkey=void 0;const r=n(48834),i=n(89642);function o(e){if(33!==e.length||2!==e[0]&&3!==e[0])throw new Error("Public key must be compressed secp256k1, i.e. 33 bytes starting with 0x02 or 0x03");return{type:"tendermint/PubKeySecp256k1",value:r.Buffer.from(e).toString("base64")}}t.encodeSecp256k1Pubkey=o,t.encodeSecp256k1Signature=function(e,t){if(64!==t.length)throw new Error("Signature must be 64 bytes long. Cosmos SDK uses a 2x32 byte fixed length encoding for the secp256k1 signature integers r and s.");return{pub_key:o(e),signature:r.Buffer.from(t).toString("base64")}},t.serializeSignDoc=function(e){return r.Buffer.from((0,i.escapeHTML)((0,i.sortedJsonByKeyStringify)(e)))}},90924:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(3580),t)},12432:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.defaultProtoCodec=t.ProtoCodec=void 0;const o=n(11651),s=n(22062),a=n(18436),d=n(91428),c=n(63759),u=n(83612),l=n(78566),h=n(94465),p=n(36217),f=n(33654),g=n(797),v=n(99325),m=n(90724),y=n(97544),b=n(11977),S=n(8447),w=n(48834);i(n(33654),t);class I{constructor(){this.typeUrlMap=new Map}unpackAnyFactory(e){if(this.typeUrlMap.has(e))return this.typeUrlMap.get(e)}unpackAny(e){const t=this.unpackAnyFactory(e.typeUrl);if(!t)return new f.UnknownMessage(e.typeUrl,e.value);const n=t.decode(e.value);return Object.assign(Object.assign({},e),{unpacked:n})}unpackedAnyToJSONRecursive(e){if(e instanceof f.UnknownMessage)return e.toJSON();const t=this.unpackAnyFactory(e.typeUrl);if(t&&"unpacked"in e&&e.unpacked){const n=e=>{const t="object"==typeof e&&!(e instanceof f.UnknownMessage)&&"typeUrl"in e&&e.typeUrl&&"string"==typeof e.typeUrl&&"value"in e&&e.value&&"string"==typeof e.value;if(t)try{w.Buffer.from(e.value,"base64")}catch(e){return!1}return t},r=e=>{const t=this.unpackAnyFactory(e.typeUrl),n=w.Buffer.from(e.value,"base64");if(!t)return new f.UnknownMessage(e.typeUrl,n).toJSON();const r=t.decode(n);return{typeUrl:e.typeUrl,value:t.toJSON(r)}},i=e=>{if(Array.isArray(e))for(let t=0;t<e.length;t++){const o=e[t];n(o)?e[t]=r(o):"object"==typeof o&&(e[t]=i(o))}else for(const t in e){const o=e[t];n(o)?e[t]=r(o):"object"==typeof o&&(e[t]=i(o))}return e};let o=t.toJSON(e.unpacked);if(o&&"object"==typeof o)return o=i(o),{typeUrl:e.typeUrl,value:o}}return new f.UnknownMessage(e.typeUrl,e.value).toJSON()}registerAny(e,t){this.typeUrlMap.set(e,t)}}t.ProtoCodec=I,t.defaultProtoCodec=new I,t.defaultProtoCodec.registerAny("/agoric.swingset.MsgWalletSpendAction",o.MsgWalletSpendAction),t.defaultProtoCodec.registerAny("/agoric.swingset.MsgProvision",o.MsgProvision),t.defaultProtoCodec.registerAny("/cosmos.bank.v1beta1.MsgSend",s.MsgSend),t.defaultProtoCodec.registerAny("/cosmos.bank.v1beta1.MsgMultiSend",s.MsgMultiSend),t.defaultProtoCodec.registerAny("/cosmos.staking.v1beta1.MsgDelegate",a.MsgDelegate),t.defaultProtoCodec.registerAny("/cosmos.staking.v1beta1.MsgUndelegate",a.MsgUndelegate),t.defaultProtoCodec.registerAny("/cosmos.staking.v1beta1.MsgBeginRedelegate",a.MsgBeginRedelegate),t.defaultProtoCodec.registerAny("/cosmos.staking.v1beta1.MsgUnbondValidator",a.MsgUnbondValidator),t.defaultProtoCodec.registerAny("/cosmos.staking.v1beta1.MsgCancelUnbondingDelegation",a.MsgCancelUnbondingDelegation),t.defaultProtoCodec.registerAny("/cosmos.staking.v1beta1.MsgTokenizeShares",a.MsgTokenizeShares),t.defaultProtoCodec.registerAny("/cosmos.staking.v1beta1.MsgRedeemTokensForShares",a.MsgRedeemTokensForShares),t.defaultProtoCodec.registerAny("/cosmos.staking.v1beta1.MsgTransferTokenizeShareRecord",a.MsgTransferTokenizeShareRecord),t.defaultProtoCodec.registerAny("/cosmos.staking.v1beta1.MsgDisableTokenizeShares",a.MsgDisableTokenizeShares),t.defaultProtoCodec.registerAny("/cosmos.staking.v1beta1.MsgEnableTokenizeShares",a.MsgEnableTokenizeShares),t.defaultProtoCodec.registerAny("/cosmos.staking.v1beta1.MsgValidatorBond",a.MsgValidatorBond),t.defaultProtoCodec.registerAny("/cosmwasm.wasm.v1.MsgExecuteContract",l.MsgExecuteContract),t.defaultProtoCodec.registerAny("/cosmwasm.wasm.v1.MsgInstantiateContract",l.MsgInstantiateContract),t.defaultProtoCodec.registerAny("/cosmos.distribution.v1beta1.MsgWithdrawDelegatorReward",u.MsgWithdrawDelegatorReward),t.defaultProtoCodec.registerAny("/cosmos.distribution.v1beta1.MsgSetWithdrawAddress",u.MsgSetWithdrawAddress),t.defaultProtoCodec.registerAny("/ibc.applications.transfer.v1.MsgTransfer",h.MsgTransfer),t.defaultProtoCodec.registerAny("/ibc.applications.fee.v1.MsgPayPacketFee",p.MsgPayPacketFee),t.defaultProtoCodec.registerAny("/ibc.applications.fee.v1.MsgPayPacketFeeAsync",p.MsgPayPacketFeeAsync),t.defaultProtoCodec.registerAny("/ibc.applications.fee.v1.MsgRegisterPayee",p.MsgRegisterPayee),t.defaultProtoCodec.registerAny("/ibc.applications.fee.v1.MsgRegisterCounterpartyPayee",p.MsgRegisterCounterpartyPayee),t.defaultProtoCodec.registerAny("/cosmos.gov.v1beta1.MsgVote",c.MsgVote),t.defaultProtoCodec.registerAny("/cosmos.authz.v1beta1.MsgGrant",d.MsgGrant),t.defaultProtoCodec.registerAny("/cosmos.authz.v1beta1.GenericAuthorization",g.GenericAuthorization),t.defaultProtoCodec.registerAny("/cosmos.staking.v1beta1.StakeAuthorization",v.StakeAuthorization),t.defaultProtoCodec.registerAny("/cosmos.bank.v1beta1.SendAuthorization",m.SendAuthorization),t.defaultProtoCodec.registerAny("/cosmos.authz.v1beta1.MsgRevoke",d.MsgRevoke),t.defaultProtoCodec.registerAny("/cosmos.authz.v1beta1.MsgExec",d.MsgExec),t.defaultProtoCodec.registerAny("/stride.stakeibc.MsgLiquidStake",y.MsgLiquidStake),t.defaultProtoCodec.registerAny("/stride.stakeibc.MsgLSMLiquidStake",y.MsgLSMLiquidStake),t.defaultProtoCodec.registerAny("/stride.stakeibc.MsgRedeemStake",y.MsgRedeemStake),t.defaultProtoCodec.registerAny("/stride.stakeibc.MsgRegisterHostZone",y.MsgRegisterHostZone),t.defaultProtoCodec.registerAny("/stride.stakeibc.MsgClaimUndelegatedTokens",y.MsgClaimUndelegatedTokens),t.defaultProtoCodec.registerAny("/stride.stakeibc.MsgRebalanceValidators",y.MsgRebalanceValidators),t.defaultProtoCodec.registerAny("/stride.stakeibc.MsgAddValidators",y.MsgAddValidators),t.defaultProtoCodec.registerAny("/stride.stakeibc.MsgChangeValidatorWeight",y.MsgChangeValidatorWeight),t.defaultProtoCodec.registerAny("/stride.stakeibc.MsgDeleteValidator",y.MsgDeleteValidator),t.defaultProtoCodec.registerAny("/stride.stakeibc.MsgRestoreInterchainAccount",y.MsgRestoreInterchainAccount),t.defaultProtoCodec.registerAny("/stride.stakeibc.MsgUpdateValidatorSharesExchRate",y.MsgUpdateValidatorSharesExchRate),t.defaultProtoCodec.registerAny("/stride.stakeibc.MsgCalibrateDelegation",y.MsgCalibrateDelegation),t.defaultProtoCodec.registerAny("/stride.stakeibc.MsgClearBalance",y.MsgClearBalance),t.defaultProtoCodec.registerAny("/stride.stakeibc.MsgUndelegateHost",y.MsgUndelegateHost),t.defaultProtoCodec.registerAny("/stride.stakeibc.MsgUpdateInnerRedemptionRateBounds",y.MsgUpdateInnerRedemptionRateBounds),t.defaultProtoCodec.registerAny("/stride.staketia.MsgLiquidStake",b.MsgLiquidStake),t.defaultProtoCodec.registerAny("/stride.staketia.MsgRedeemStake",b.MsgRedeemStake),t.defaultProtoCodec.registerAny("/stride.staketia.MsgConfirmDelegation",b.MsgConfirmDelegation),t.defaultProtoCodec.registerAny("/stride.staketia.MsgConfirmUndelegation",b.MsgConfirmUndelegation),t.defaultProtoCodec.registerAny("/stride.staketia.MsgConfirmUnbondedTokenSweep",b.MsgConfirmUnbondedTokenSweep),t.defaultProtoCodec.registerAny("/stride.staketia.MsgAdjustDelegatedBalance",b.MsgAdjustDelegatedBalance),t.defaultProtoCodec.registerAny("/stride.staketia.MsgUpdateInnerRedemptionRateBounds",b.MsgUpdateInnerRedemptionRateBounds),t.defaultProtoCodec.registerAny("/stride.staketia.MsgResumeHostZone",b.MsgResumeHostZone),t.defaultProtoCodec.registerAny("/stride.staketia.MsgRefreshRedemptionRate",b.MsgRefreshRedemptionRate),t.defaultProtoCodec.registerAny("/stride.staketia.MsgOverwriteDelegationRecord",b.MsgOverwriteDelegationRecord),t.defaultProtoCodec.registerAny("/stride.staketia.MsgOverwriteUnbondingRecord",b.MsgOverwriteUnbondingRecord),t.defaultProtoCodec.registerAny("/stride.staketia.MsgOverwriteRedemptionRecord",b.MsgOverwriteRedemptionRecord),t.defaultProtoCodec.registerAny("/stride.staketia.MsgOverwriteRedemptionRecord",b.MsgOverwriteRedemptionRecord),t.defaultProtoCodec.registerAny("/stride.staketia.MsgSetOperatorAddress",b.MsgSetOperatorAddress),t.defaultProtoCodec.registerAny("/stride.stakedym.MsgLiquidStake",S.MsgLiquidStake),t.defaultProtoCodec.registerAny("/stride.stakedym.MsgRedeemStake",S.MsgRedeemStake),t.defaultProtoCodec.registerAny("/stride.stakedym.MsgConfirmDelegation",S.MsgConfirmDelegation),t.defaultProtoCodec.registerAny("/stride.stakedym.MsgConfirmUndelegation",S.MsgConfirmUndelegation),t.defaultProtoCodec.registerAny("/stride.stakedym.MsgConfirmUnbondedTokenSweep",S.MsgConfirmUnbondedTokenSweep),t.defaultProtoCodec.registerAny("/stride.stakedym.MsgAdjustDelegatedBalance",S.MsgAdjustDelegatedBalance),t.defaultProtoCodec.registerAny("/stride.stakedym.MsgUpdateInnerRedemptionRateBounds",S.MsgUpdateInnerRedemptionRateBounds),t.defaultProtoCodec.registerAny("/stride.stakedym.MsgResumeHostZone",S.MsgResumeHostZone),t.defaultProtoCodec.registerAny("/stride.stakedym.MsgRefreshRedemptionRate",S.MsgRefreshRedemptionRate),t.defaultProtoCodec.registerAny("/stride.stakedym.MsgOverwriteDelegationRecord",S.MsgOverwriteDelegationRecord),t.defaultProtoCodec.registerAny("/stride.stakedym.MsgOverwriteUnbondingRecord",S.MsgOverwriteUnbondingRecord),t.defaultProtoCodec.registerAny("/stride.stakedym.MsgOverwriteRedemptionRecord",S.MsgOverwriteRedemptionRecord),t.defaultProtoCodec.registerAny("/stride.stakedym.MsgSetOperatorAddress",S.MsgSetOperatorAddress)},33654:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UnknownMessage=void 0;const r=n(48834);t.UnknownMessage=class{constructor(e,t){this._typeUrl=e,this._value=t}get typeUrl(){return this._typeUrl}get value(){return this._value}toJSON(){return{typeUrl:this._typeUrl,value:r.Buffer.from(this._value).toString("base64")}}}},45821:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProtoSignDocDecoder=void 0;const r=n(3542),i=n(12432),o=n(30899),s=n(89642);class a{static decode(e){return new a(r.SignDoc.decode(e))}constructor(e,t=i.defaultProtoCodec){this.signDoc=e,this.protoCodec=t}get txBody(){return this._txBody||(this._txBody=r.TxBody.decode(this.signDoc.bodyBytes)),this._txBody}get txMsgs(){const e=[];for(const t of this.txBody.messages)e.push(this.protoCodec.unpackAny(t));return e}get authInfo(){if(!this._authInfo)if("authInfoBytes"in this.signDoc)this._authInfo=r.AuthInfo.decode(this.signDoc.authInfoBytes);else{const e=this.signDoc;this._authInfo=r.AuthInfo.fromPartial({signerInfos:[{publicKey:e.publicKey,modeInfo:{single:{mode:o.SignMode.SIGN_MODE_DIRECT}},sequence:e.sequence}],fee:{amount:[],gasLimit:"1",payer:"",granter:""}})}return this._authInfo}get chainId(){return this.signDoc.chainId}get accountNumber(){return this.signDoc.accountNumber.toString()}toBytes(){return"authInfoBytes"in this.signDoc?r.SignDoc.encode(this.signDoc).finish():r.SignDocDirectAux.encode(this.signDoc).finish()}toJSON(){if("authInfoBytes"in this.signDoc)return(0,s.sortObjectByKey)({txBody:Object.assign(Object.assign({},r.TxBody.toJSON(this.txBody)),{messages:this.txMsgs.map((e=>this.protoCodec.unpackedAnyToJSONRecursive(e)))}),authInfo:r.AuthInfo.toJSON(this.authInfo),chainId:this.chainId,accountNumber:this.accountNumber});const e=r.SignDocDirectAux.toJSON(this.signDoc);return e.bodyBytes&&delete e.bodyBytes,(0,s.sortObjectByKey)(Object.assign(Object.assign({},e),{txBody:Object.assign(Object.assign({},r.TxBody.toJSON(this.txBody)),{messages:this.txMsgs.map((e=>this.protoCodec.unpackedAnyToJSONRecursive(e)))})}))}}t.ProtoSignDocDecoder=a},93395:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(12432),t),i(n(45821),t),i(n(46234),t)},46234:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SignDocWrapper=void 0;const r=n(45821),i=n(3542),o=n(31289);class s{constructor(e){this.signDoc=e,this.isDirectAux=!1,"msgs"in e?this.mode="amino":(this.mode="direct",this.isDirectAux=!("authInfoBytes"in e)),"amino"===this.mode?this.isADR36SignDoc=(0,o.checkAndValidateADR36AminoSignDoc)(this.aminoSignDoc):this.isADR36SignDoc=!1}static fromAminoSignDoc(e){return new s(e)}static fromDirectSignDoc(e){return new s(e)}static fromDirectAuxSignDoc(e){return new s(e)}static fromDirectSignDocBytes(e){return new s(i.SignDoc.decode(e))}static fromDirectAuxSignDocBytes(e){return new s(i.SignDocDirectAux.decode(e))}clone(){return new s(this.signDoc)}get protoSignDoc(){if("amino"===this.mode)throw new Error("Sign doc is encoded as Amino Json");if("msgs"in this.signDoc)throw new Error("Unexpected error");return this._protoSignDoc||(this._protoSignDoc=new r.ProtoSignDocDecoder(this.signDoc)),this._protoSignDoc}get aminoSignDoc(){if("direct"===this.mode)throw new Error("Sign doc is encoded as Protobuf");if(!("msgs"in this.signDoc))throw new Error("Unexpected error");return this.signDoc}get chainId(){return"direct"===this.mode?this.protoSignDoc.chainId:this.aminoSignDoc.chain_id}get memo(){return"direct"===this.mode?this.protoSignDoc.txBody.memo:this.aminoSignDoc.memo}get fees(){var e,t;if("direct"===this.mode){const n=[];for(const r of null!==(t=null===(e=this.protoSignDoc.authInfo.fee)||void 0===e?void 0:e.amount)&&void 0!==t?t:[]){if(null==r.denom||null==r.amount)throw new Error("Invalid fee");n.push({denom:r.denom,amount:r.amount})}return n}return this.aminoSignDoc.fee.amount}get payer(){var e;return"direct"===this.mode?null===(e=this.protoSignDoc.authInfo.fee)||void 0===e?void 0:e.payer:this.aminoSignDoc.fee.payer}get granter(){var e;return"direct"===this.mode?null===(e=this.protoSignDoc.authInfo.fee)||void 0===e?void 0:e.granter:this.aminoSignDoc.fee.granter}get gas(){var e;return"direct"===this.mode?(null===(e=this.protoSignDoc.authInfo.fee)||void 0===e?void 0:e.gasLimit)?parseInt(this.protoSignDoc.authInfo.fee.gasLimit):0:parseInt(this.aminoSignDoc.fee.gas)}}t.SignDocWrapper=s},88092:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.TendermintTxTracer=t.WsReadyState=void 0;const i=n(48834);var o;!function(e){e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSING=2]="CLOSING",e[e.CLOSED=3]="CLOSED",e[e.NONE=4]="NONE"}(o=t.WsReadyState||(t.WsReadyState={})),t.TendermintTxTracer=class{constructor(e,t,n={}){this.url=e,this.wsEndpoint=t,this.options=n,this.newBlockSubscribes=[],this.txSubscribes=new Map,this.pendingQueries=new Map,this.listeners={},this.onOpen=e=>{var t;this.newBlockSubscribes.length>0&&this.sendSubscribeBlockRpc();for(const[e,t]of this.txSubscribes)this.sendSubscribeTxRpc(e,t.params);for(const[e,t]of this.pendingQueries)this.sendQueryRpc(e,t.method,t.params);for(const n of null!==(t=this.listeners.open)&&void 0!==t?t:[])n(e)},this.onMessage=e=>{var t,n,r,i,o,s;for(const n of null!==(t=this.listeners.message)&&void 0!==t?t:[])n(e);if(e.data)try{const t=JSON.parse(e.data);if((null==t?void 0:t.id)&&this.pendingQueries.has(t.id)&&(t.error?this.pendingQueries.get(t.id).rejector(new Error(t.error.data||t.error.message)):(null===(n=t.result)||void 0===n?void 0:n.tx_result)?this.pendingQueries.get(t.id).resolver(t.result.tx_result):this.pendingQueries.get(t.id).resolver(t.result),this.pendingQueries.delete(t.id)),"tendermint/event/NewBlock"===(null===(i=null===(r=null==t?void 0:t.result)||void 0===r?void 0:r.data)||void 0===i?void 0:i.type))for(const e of this.newBlockSubscribes)e.handler(t.result.data.value);"tendermint/event/Tx"===(null===(s=null===(o=null==t?void 0:t.result)||void 0===o?void 0:o.data)||void 0===s?void 0:s.type)&&(null==t?void 0:t.id)&&this.txSubscribes.has(t.id)&&(t.error?this.txSubscribes.get(t.id).rejector(new Error(t.error.data||t.error.message)):this.txSubscribes.get(t.id).resolver(t.result.data.value.TxResult.result),this.txSubscribes.delete(t.id))}catch(e){console.log(`Tendermint websocket jsonrpc response is not JSON: ${e.message||e.toString()}`)}},this.onClose=e=>{var t;for(const n of null!==(t=this.listeners.close)&&void 0!==t?t:[])n(e)},this.onError=e=>{var t;for(const n of null!==(t=this.listeners.error)&&void 0!==t?t:[])n(e);this.close()},this.ws=this.options.wsObject?new this.options.wsObject(this.getWsEndpoint()):new WebSocket(this.getWsEndpoint()),this.ws.onopen=this.onOpen,this.ws.onmessage=this.onMessage,this.ws.onclose=this.onClose,this.ws.onerror=this.onError}getWsEndpoint(){let e=this.url;if(e.startsWith("http")&&(e=e.replace("http","ws")),!e.endsWith(this.wsEndpoint)){const t=this.wsEndpoint.startsWith("/")?this.wsEndpoint:"/"+this.wsEndpoint;e=e.endsWith("/")?e+t.slice(1):e+t}return e}close(){this.ws.close()}get readyState(){switch(this.ws.readyState){case 0:return o.CONNECTING;case 1:return o.OPEN;case 2:return o.CLOSING;case 3:return o.CLOSED;default:return o.NONE}}addEventListener(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}subscribeBlock(e){return this.newBlockSubscribes.push({handler:e}),1===this.newBlockSubscribes.length&&this.sendSubscribeBlockRpc(),()=>{this.newBlockSubscribes=this.newBlockSubscribes.filter((t=>t.handler!==e))}}sendSubscribeBlockRpc(){this.readyState===o.OPEN&&this.ws.send(JSON.stringify({jsonrpc:"2.0",method:"subscribe",params:["tm.event='NewBlock'"],id:1}))}traceTx(e){let t=!1;return new Promise((n=>{this.queryTx(e).then((t=>{e instanceof Uint8Array?n(t):"0"===(null==t?void 0:t.total_count)||n(t)})).catch((()=>{})),(()=>{r(this,void 0,void 0,(function*(){for(;!t&&this.readyState!==o.CLOSED&&this.readyState!==o.CLOSING;)yield new Promise((e=>setTimeout(e,1e4))),this.queryTx(e).then((t=>{e instanceof Uint8Array?n(t):"0"===(null==t?void 0:t.total_count)||n(t)})).catch((()=>{}))}))})(),this.subscribeTx(e).then(n)})).then((e=>(t=!0,new Promise((t=>{setTimeout((()=>t(e)),100)})))))}subscribeTx(e){if(e instanceof Uint8Array){const t=this.createRandomId(),n={query:`tm.event='Tx' AND tx.hash='${i.Buffer.from(e).toString("hex").toUpperCase()}'`};return new Promise(((e,r)=>{this.txSubscribes.set(t,{params:n,resolver:e,rejector:r}),this.sendSubscribeTxRpc(t,n)}))}{const t=this.createRandomId(),n={query:"tm.event='Tx' AND "+Object.keys(e).map((t=>({key:t,value:e[t]}))).map((e=>`${e.key}=${"string"==typeof e.value?`'${e.value}'`:e.value}`)).join(" AND "),page:"1",per_page:"1",order_by:"asc"};return new Promise(((e,r)=>{this.txSubscribes.set(t,{params:n,resolver:e,rejector:r}),this.sendSubscribeTxRpc(t,n)}))}}sendSubscribeTxRpc(e,t){this.readyState===o.OPEN&&this.ws.send(JSON.stringify({jsonrpc:"2.0",method:"subscribe",params:t,id:e}))}queryTx(e){if(e instanceof Uint8Array)return this.query("tx",{hash:i.Buffer.from(e).toString("base64"),prove:!1});{const t={query:Object.keys(e).map((t=>({key:t,value:e[t]}))).map((e=>`${e.key}=${"string"==typeof e.value?`'${e.value}'`:e.value}`)).join(" AND "),page:"1",per_page:"1",order_by:"asc"};return this.query("tx_search",t)}}query(e,t){const n=this.createRandomId();return new Promise(((r,i)=>{this.pendingQueries.set(n,{method:e,params:t,resolver:r,rejector:i}),this.sendQueryRpc(n,e,t)}))}sendQueryRpc(e,t,n){this.readyState===o.OPEN&&this.ws.send(JSON.stringify({jsonrpc:"2.0",method:t,params:n,id:e}))}createRandomId(){return parseInt(Array.from({length:6}).map((()=>Math.floor(100*Math.random()))).join(""))}}},74605:(e,t,n)=>{n.r(t),n.d(t,{getAddress:()=>q,getContractAddress:()=>Y,getCreate2Address:()=>Z,getIcapAddress:()=>$,isAddress:()=>z});let r=!1,i=!1;const o={debug:1,default:2,info:2,warning:3,error:4,off:5};let s=o.default,a=null;const d=function(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(n){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}();var c,u;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(c||(c={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(u||(u={}));const l="0123456789abcdef";class h{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const n=e.toLowerCase();null==o[n]&&this.throwArgumentError("invalid log level name","logLevel",e),s>o[n]||console.log.apply(console,t)}debug(...e){this._log(h.levels.DEBUG,e)}info(...e){this._log(h.levels.INFO,e)}warn(...e){this._log(h.levels.WARNING,e)}makeError(e,t,n){if(i)return this.makeError("censored error",t,{});t||(t=h.errors.UNKNOWN_ERROR),n||(n={});const r=[];Object.keys(n).forEach((e=>{const t=n[e];try{if(t instanceof Uint8Array){let n="";for(let e=0;e<t.length;e++)n+=l[t[e]>>4],n+=l[15&t[e]];r.push(e+"=Uint8Array(0x"+n+")")}else r.push(e+"="+JSON.stringify(t))}catch(t){r.push(e+"="+JSON.stringify(n[e].toString()))}})),r.push(`code=${t}`),r.push(`version=${this.version}`);const o=e;let s="";switch(t){case u.NUMERIC_FAULT:{s="NUMERIC_FAULT";const t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":s+="-"+t;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result"}break}case u.CALL_EXCEPTION:case u.INSUFFICIENT_FUNDS:case u.MISSING_NEW:case u.NONCE_EXPIRED:case u.REPLACEMENT_UNDERPRICED:case u.TRANSACTION_REPLACED:case u.UNPREDICTABLE_GAS_LIMIT:s=t}s&&(e+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),r.length&&(e+=" ("+r.join(", ")+")");const a=new Error(e);return a.reason=o,a.code=t,Object.keys(n).forEach((function(e){a[e]=n[e]})),a}throwError(e,t,n){throw this.makeError(e,t,n)}throwArgumentError(e,t,n){return this.throwError(e,h.errors.INVALID_ARGUMENT,{argument:t,value:n})}assert(e,t,n,r){e||this.throwError(t,n,r)}assertArgument(e,t,n,r){e||this.throwArgumentError(t,n,r)}checkNormalize(e){null==e&&(e="platform missing String.prototype.normalize"),d&&this.throwError("platform missing String.prototype.normalize",h.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:d})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,h.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,h.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,n){n=n?": "+n:"",e<t&&this.throwError("missing argument"+n,h.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+n,h.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",h.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",h.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",h.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return a||(a=new h("logger/5.6.0")),a}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",h.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),r){if(!e)return;this.globalLogger().throwError("error censorship permanent",h.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}i=!!e,r=!!t}static setLogLevel(e){const t=o[e.toLowerCase()];null!=t?s=t:h.globalLogger().warn("invalid log level - "+e)}static from(e){return new h(e)}}h.errors=u,h.levels=c;const p=new h("bytes/5.6.1");function f(e){return!!e.toHexString}function g(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return g(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function v(e){return"number"==typeof e&&e==e&&e%1==0}function m(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e)return!1;if(!v(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const n=e[t];if(!v(n)||n<0||n>=256)return!1}return!0}function y(e,t){if(t||(t={}),"number"==typeof e){p.checkSafeUint53(e,"invalid arrayify value");const t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),g(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),f(e)&&(e=e.toHexString()),b(e)){let n=e.substring(2);n.length%2&&("left"===t.hexPad?n="0"+n:"right"===t.hexPad?n+="0":p.throwArgumentError("hex data is odd-length","value",e));const r=[];for(let e=0;e<n.length;e+=2)r.push(parseInt(n.substring(e,e+2),16));return g(new Uint8Array(r))}return m(e)?g(new Uint8Array(e)):p.throwArgumentError("invalid arrayify value","value",e)}function b(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/)||t&&e.length!==2+2*t)}const S="0123456789abcdef";function w(e,t){if(t||(t={}),"number"==typeof e){p.checkSafeUint53(e,"invalid hexlify value");let t="";for(;e;)t=S[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"==typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),f(e))return e.toHexString();if(b(e))return e.length%2&&("left"===t.hexPad?e="0x0"+e.substring(2):"right"===t.hexPad?e+="0":p.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(m(e)){let t="0x";for(let n=0;n<e.length;n++){let r=e[n];t+=S[(240&r)>>4]+S[15&r]}return t}return p.throwArgumentError("invalid hexlify value","value",e)}function I(e){if("string"!=typeof e)e=w(e);else if(!b(e)||e.length%2)return null;return(e.length-2)/2}function k(e,t,n){return"string"!=typeof e?e=w(e):(!b(e)||e.length%2)&&p.throwArgumentError("invalid hexData","value",e),t=2+2*t,null!=n?"0x"+e.substring(t,2+2*n):"0x"+e.substring(t)}var O=n(62197),R=n.n(O)().BN;const A=new h("bignumber/5.6.0"),P={},E=9007199254740991;let T=!1;class _{constructor(e,t){A.checkNew(new.target,_),e!==P&&A.throwError("cannot call constructor directly; use BigNumber.from",h.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return M(N(this).fromTwos(e))}toTwos(e){return M(N(this).toTwos(e))}abs(){return"-"===this._hex[0]?_.from(this._hex.substring(1)):this}add(e){return M(N(this).add(N(e)))}sub(e){return M(N(this).sub(N(e)))}div(e){return _.from(e).isZero()&&D("division-by-zero","div"),M(N(this).div(N(e)))}mul(e){return M(N(this).mul(N(e)))}mod(e){const t=N(e);return t.isNeg()&&D("division-by-zero","mod"),M(N(this).umod(t))}pow(e){const t=N(e);return t.isNeg()&&D("negative-power","pow"),M(N(this).pow(t))}and(e){const t=N(e);return(this.isNegative()||t.isNeg())&&D("unbound-bitwise-result","and"),M(N(this).and(t))}or(e){const t=N(e);return(this.isNegative()||t.isNeg())&&D("unbound-bitwise-result","or"),M(N(this).or(t))}xor(e){const t=N(e);return(this.isNegative()||t.isNeg())&&D("unbound-bitwise-result","xor"),M(N(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&D("negative-width","mask"),M(N(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&D("negative-width","shl"),M(N(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&D("negative-width","shr"),M(N(this).shrn(e))}eq(e){return N(this).eq(N(e))}lt(e){return N(this).lt(N(e))}lte(e){return N(this).lte(N(e))}gt(e){return N(this).gt(N(e))}gte(e){return N(this).gte(N(e))}isNegative(){return"-"===this._hex[0]}isZero(){return N(this).isZero()}toNumber(){try{return N(this).toNumber()}catch(e){D("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(e){}return A.throwError("this platform does not support BigInt",h.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?T||(T=!0,A.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?A.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",h.errors.UNEXPECTED_ARGUMENT,{}):A.throwError("BigNumber.toString does not accept parameters",h.errors.UNEXPECTED_ARGUMENT,{})),N(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof _)return e;if("string"==typeof e)return e.match(/^-?0x[0-9a-f]+$/i)?new _(P,C(e)):e.match(/^-?[0-9]+$/)?new _(P,C(new R(e))):A.throwArgumentError("invalid BigNumber string","value",e);if("number"==typeof e)return e%1&&D("underflow","BigNumber.from",e),(e>=E||e<=-E)&&D("overflow","BigNumber.from",e),_.from(String(e));const t=e;if("bigint"==typeof t)return _.from(t.toString());if(m(t))return _.from(w(t));if(t)if(t.toHexString){const e=t.toHexString();if("string"==typeof e)return _.from(e)}else{let e=t._hex;if(null==e&&"BigNumber"===t.type&&(e=t.hex),"string"==typeof e&&(b(e)||"-"===e[0]&&b(e.substring(1))))return _.from(e)}return A.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!(!e||!e._isBigNumber)}}function C(e){if("string"!=typeof e)return C(e.toString(16));if("-"===e[0])return"-"===(e=e.substring(1))[0]&&A.throwArgumentError("invalid hex","value",e),"0x00"===(e=C(e))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function M(e){return _.from(C(e))}function N(e){const t=_.from(e).toHexString();return"-"===t[0]?new R("-"+t.substring(3),16):new R(t.substring(2),16)}function D(e,t,n){const r={fault:e,operation:t};return null!=n&&(r.value=n),A.throwError(e,h.errors.NUMERIC_FAULT,r)}var x=n(83669),U=n.n(x);function B(e){return"0x"+U().keccak_256(y(e))}const j=new h("rlp/5.6.0");function H(e){const t=[];for(;e;)t.unshift(255&e),e>>=8;return t}function J(e){if(Array.isArray(e)){let t=[];if(e.forEach((function(e){t=t.concat(J(e))})),t.length<=55)return t.unshift(192+t.length),t;const n=H(t.length);return n.unshift(247+n.length),n.concat(t)}var t;b(t=e)&&!(t.length%2)||m(t)||j.throwArgumentError("RLP object must be BytesLike","object",e);const n=Array.prototype.slice.call(y(e));if(1===n.length&&n[0]<=127)return n;if(n.length<=55)return n.unshift(128+n.length),n;const r=H(n.length);return r.unshift(183+r.length),r.concat(n)}const K=new h("address/5.6.0");function L(e){b(e,20)||K.throwArgumentError("invalid address","address",e);const t=(e=e.toLowerCase()).substring(2).split(""),n=new Uint8Array(40);for(let e=0;e<40;e++)n[e]=t[e].charCodeAt(0);const r=y(B(n));for(let e=0;e<40;e+=2)r[e>>1]>>4>=8&&(t[e]=t[e].toUpperCase()),(15&r[e>>1])>=8&&(t[e+1]=t[e+1].toUpperCase());return"0x"+t.join("")}const F={};for(let e=0;e<10;e++)F[String(e)]=String(e);for(let e=0;e<26;e++)F[String.fromCharCode(65+e)]=String(10+e);const V=Math.floor((W=9007199254740991,Math.log10?Math.log10(W):Math.log(W)/Math.LN10));var W;function G(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((e=>F[e])).join("");for(;t.length>=V;){let e=t.substring(0,V);t=parseInt(e,10)%97+t.substring(e.length)}let n=String(98-parseInt(t,10)%97);for(;n.length<2;)n="0"+n;return n}function q(e){let t=null;if("string"!=typeof e&&K.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),t=L(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&K.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==G(e)&&K.throwArgumentError("bad icap checksum","address",e),n=e.substring(4),t=new R(n,36).toString(16);t.length<40;)t="0"+t;t=L("0x"+t)}else K.throwArgumentError("invalid address","address",e);var n;return t}function z(e){try{return q(e),!0}catch(e){}return!1}function $(e){let t=(n=q(e).substring(2),new R(n,16).toString(36)).toUpperCase();for(var n;t.length<30;)t="0"+t;return"XE"+G("XE00"+t)+t}function Y(e){let t=null;try{t=q(e.from)}catch(t){K.throwArgumentError("missing from address","transaction",e)}return q(k(B(w(J([t,function(e){let t=y(e);if(0===t.length)return t;let n=0;for(;n<t.length&&0===t[n];)n++;return n&&(t=t.slice(n)),t}(y(_.from(e.nonce).toHexString()))]))),12))}function Z(e,t,n){return 32!==I(t)&&K.throwArgumentError("salt must be 32 bytes","salt",t),32!==I(n)&&K.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",n),q(k(B(function(e){const t=e.map((e=>y(e))),n=t.reduce(((e,t)=>e+t.length),0),r=new Uint8Array(n);return t.reduce(((e,t)=>(r.set(t,e),e+t.length)),0),g(r)}(["0xff",q(e),t,n])),12))}},47577:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Hash=void 0;const r=n(95047),i=n(80125);t.Hash=class{static sha256(e){return(0,r.sha256)(e)}static keccak256(e){return(0,i.keccak_256)(e)}static truncHashPortion(e,t=e.length,n=0){return e.substring(0,t)+""+e.substring(e.length-n,e.length)}}},91166:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.PubKeySecp256k1=t.PubKeyStarknet=t.PrivKeySecp256k1=void 0;const s=n(38358),a=o(n(4323)),d=n(95047),c=n(80590),u=n(48834),l=n(47577),h=n(11047);class p{static generateRandomKey(){return new p(s.secp256k1.utils.randomPrivateKey())}constructor(e){this.privKey=e}toBytes(){return new Uint8Array(this.privKey)}getPubKey(){return new f(s.secp256k1.getPublicKey(this.privKey,!0))}signDigest32(e){if(32!==e.length)throw new Error(`Invalid length of digest to sign: ${e.length}`);const t=s.secp256k1.sign(e,this.privKey,{lowS:!0});return{r:a.numberToBytesBE(t.r,32),s:a.numberToBytesBE(t.s,32),v:t.recovery}}}t.PrivKeySecp256k1=p,t.PubKeyStarknet=class{constructor(e){if(this.pubKey=e,64!==e.length)throw new Error(`Invalid length of public key: ${e.length}`)}toBytes(){return new Uint8Array(this.pubKey)}getStarknetPubKey(){return this.pubKey.slice(0,32)}getStarknetAddress(e,t){const n=this.getStarknetPubKey();let r=h.hash.calculateContractAddressFromHash("0x"+u.Buffer.from(e).toString("hex"),"0x"+u.Buffer.from(t).toString("hex"),["0x"+u.Buffer.from(n).toString("hex")],"0x00").replace("0x","");const i=64-r.length;if(i>0)r="0".repeat(i)+r;else if(i<0)throw new Error("Invalid length of calculated address");return new Uint8Array(u.Buffer.from(r,"hex"))}getStarknetAddressParams(){return{xLow:this.pubKey.slice(16,32),xHigh:this.pubKey.slice(0,16),yLow:this.pubKey.slice(48,64),yHigh:this.pubKey.slice(32,48)}}};class f{constructor(e){if(this.pubKey=e,33!==e.length&&65!==e.length)throw new Error(`Invalid length of public key: ${e.length}`)}toBytes(e){return e&&65===this.pubKey.length?this.pubKey:e||33!==this.pubKey.length?e?s.secp256k1.ProjectivePoint.fromHex(u.Buffer.from(this.pubKey).toString("hex")).toRawBytes(!1):s.secp256k1.ProjectivePoint.fromHex(u.Buffer.from(this.pubKey).toString("hex")).toRawBytes(!0):this.pubKey}getAddress(){return this.getCosmosAddress()}getCosmosAddress(){return(0,c.ripemd160)((0,d.sha256)(this.toBytes(!1)))}getEthAddress(){return l.Hash.keccak256(this.toBytes(!0).slice(1)).slice(-20)}getStarknetAddress(e,t){const n=this.toBytes(!0).slice(1),r=n.slice(16,32),i=n.slice(0,16),o=n.slice(48,64),s=n.slice(32,48);let a=h.hash.calculateContractAddressFromHash("0x"+u.Buffer.from(e).toString("hex"),"0x"+u.Buffer.from(t).toString("hex"),["0x"+u.Buffer.from(r).toString("hex"),"0x"+u.Buffer.from(i).toString("hex"),"0x"+u.Buffer.from(o).toString("hex"),"0x"+u.Buffer.from(s).toString("hex")],"0x00").replace("0x","");const d=64-a.length;if(d>0)a="0".repeat(d)+a;else if(d<0)throw new Error("Invalid length of calculated address");return new Uint8Array(u.Buffer.from(a,"hex"))}getStarknetAddressParams(){const e=this.toBytes(!0).slice(1);return{xLow:e.slice(16,32),xHigh:e.slice(0,16),yLow:e.slice(48,64),yHigh:e.slice(32,48)}}getStarknetPubKey(){return this.pubKey.slice(1)}verifyDigest32(e,t){if(32!==e.length)throw new Error(`Invalid length of digest to verify: ${e.length}`);if(64!==t.length)throw new Error(`Invalid length of signature: ${t.length}`);const n=t.slice(0,32),r=t.slice(32);return s.secp256k1.verify({r:a.bytesToNumberBE(n),s:a.bytesToNumberBE(r)},e,this.pubKey)}}t.PubKeySecp256k1=f},40409:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Mnemonic=void 0;const i=n(36832),o=n(14132),s=n(44075),a=n(48834);class d{static generateWallet(e,t="m/44'/118'/0'/0/0",n="",i=256){return r(this,void 0,void 0,(function*(){const r=yield d.generateSeed(e,i);return{privKey:d.generateWalletFromMnemonic(r,t,n),mnemonic:r}}))}static validateMnemonic(e){return i.validateMnemonic(e)}static generateSeed(e,t=128){return r(this,void 0,void 0,(function*(){if(t%32!=0)throw new TypeError("invalid entropy");let n=new Uint8Array(t/8);return n=yield e(n),i.entropyToMnemonic(a.Buffer.from(n).toString("hex"))}))}static generateWalletFromMnemonic(e,t="m/44'/118'/0'/0/0",n=""){const r=i.mnemonicToSeedSync(e,n),s=o.fromSeed(r).derivePath(t).privateKey;if(!s)throw new Error("null hd key");return s}static generateMasterSeedFromMnemonic(e,t=""){const n=i.mnemonicToSeedSync(e,t),r=o.fromSeed(n);return a.Buffer.from(s.decode(r.toBase58()))}static generatePrivateKeyFromMasterSeed(e,t="m/44'/118'/0'/0/0"){const n=o.fromBase58(s.encode(e)).derivePath(t).privateKey;if(!n)throw new Error("null hd key");return n}}t.Mnemonic=d},17793:function(e,t){var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.enableScroll=t.disableScroll=t.fitPopupWindow=t.closePopupWindow=t.openPopupWindow=t.PopupSize=void 0,t.PopupSize={width:360,height:660};const r={};t.openPopupWindow=function(e,i="default",o={}){var s;return n(this,void 0,void 0,(function*(){const n=o.ignoreURIReplacement,a=yield browser.windows.getCurrent(),d=Object.assign({top:(a.top||0)+80,left:Math.max(0,(a.left||0)+(a.width||0)-t.PopupSize.width-100),width:t.PopupSize.width,height:t.PopupSize.height,url:e,type:"popup"},o);if(delete d.ignoreURIReplacement,void 0!==r[i])try{const t=yield browser.windows.get(r[i],{populate:!0});if(!(null===(s=null==t?void 0:t.tabs)||void 0===s?void 0:s.length))throw new Error("Null window or tabs");{const r=t.tabs[0];if(!(null==r?void 0:r.id))throw new Error("Null window or tabs");n||(yield browser.tabs.update(r.id,{active:!0,url:e}))}}catch(e){r[i]=(yield browser.windows.create(d)).id}else r[i]=(yield browser.windows.create(d)).id;if(r[i])try{yield browser.windows.update(r[i],{focused:!0})}catch(e){console.log(`Failed to update window focus: ${e.message}`)}return r[i]}))},t.closePopupWindow=function(e){(()=>{n(this,void 0,void 0,(function*(){const t=r[e];t&&(yield browser.windows.remove(t))}))})()},t.fitPopupWindow=function(){const e=window.outerWidth-window.innerWidth,n=window.outerHeight-window.innerHeight;browser.windows?browser.windows.getCurrent().then((r=>{null!=(null==r?void 0:r.id)&&browser.windows.update(r.id,{width:t.PopupSize.width+e,height:t.PopupSize.height+n})})):window.resizeTo(t.PopupSize.width+e,t.PopupSize.height+n)},t.disableScroll=function(){document.getElementsByTagName("html")[0].style.overflow="hidden"},t.enableScroll=function(){document.getElementsByTagName("html")[0].style.overflow=""}},11651:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MsgInstallBundleResponse=t.MsgInstallBundle=t.MsgProvisionResponse=t.MsgProvision=t.MsgWalletSpendActionResponse=t.MsgWalletSpendAction=t.MsgWalletActionResponse=t.MsgWalletAction=t.MsgDeliverInboundResponse=t.MsgDeliverInbound=t.protobufPackage=void 0;const i=r(n(27808)),o=r(n(73737));function s(){return{messages:[],nums:[],ack:"0",submitter:new Uint8Array}}function a(){return{owner:new Uint8Array,action:""}}function d(){return{owner:new Uint8Array,spendAction:""}}function c(){return{nickname:"",address:new Uint8Array,powerFlags:[],submitter:new Uint8Array}}function u(){return{bundle:"",submitter:new Uint8Array,compressedBundle:new Uint8Array,uncompressedSize:"0"}}t.protobufPackage="agoric.swingset",t.MsgDeliverInbound={encode(e,t=o.default.Writer.create()){for(const n of e.messages)t.uint32(10).string(n);t.uint32(18).fork();for(const n of e.nums)t.uint64(n);return t.ldelim(),"0"!==e.ack&&t.uint32(24).uint64(e.ack),0!==e.submitter.length&&t.uint32(34).bytes(e.submitter),t},decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=s();for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.messages.push(n.string());break;case 2:if(2==(7&e)){const e=n.uint32()+n.pos;for(;n.pos<e;)i.nums.push(v(n.uint64()))}else i.nums.push(v(n.uint64()));break;case 3:i.ack=v(n.uint64());break;case 4:i.submitter=n.bytes();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({messages:Array.isArray(null==e?void 0:e.messages)?e.messages.map((e=>String(e))):[],nums:Array.isArray(null==e?void 0:e.nums)?e.nums.map((e=>String(e))):[],ack:m(e.ack)?String(e.ack):"0",submitter:m(e.submitter)?p(e.submitter):new Uint8Array}),toJSON(e){const t={};return e.messages?t.messages=e.messages.map((e=>e)):t.messages=[],e.nums?t.nums=e.nums.map((e=>e)):t.nums=[],void 0!==e.ack&&(t.ack=e.ack),void 0!==e.submitter&&(t.submitter=g(void 0!==e.submitter?e.submitter:new Uint8Array)),t},fromPartial(e){var t,n,r,i;const o=s();return o.messages=(null===(t=e.messages)||void 0===t?void 0:t.map((e=>e)))||[],o.nums=(null===(n=e.nums)||void 0===n?void 0:n.map((e=>e)))||[],o.ack=null!==(r=e.ack)&&void 0!==r?r:"0",o.submitter=null!==(i=e.submitter)&&void 0!==i?i:new Uint8Array,o}},t.MsgDeliverInboundResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},t.MsgWalletAction={encode:(e,t=o.default.Writer.create())=>(0!==e.owner.length&&t.uint32(10).bytes(e.owner),""!==e.action&&t.uint32(18).string(e.action),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=a();for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.owner=n.bytes();break;case 2:i.action=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({owner:m(e.owner)?p(e.owner):new Uint8Array,action:m(e.action)?String(e.action):""}),toJSON(e){const t={};return void 0!==e.owner&&(t.owner=g(void 0!==e.owner?e.owner:new Uint8Array)),void 0!==e.action&&(t.action=e.action),t},fromPartial(e){var t,n;const r=a();return r.owner=null!==(t=e.owner)&&void 0!==t?t:new Uint8Array,r.action=null!==(n=e.action)&&void 0!==n?n:"",r}},t.MsgWalletActionResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},t.MsgWalletSpendAction={encode:(e,t=o.default.Writer.create())=>(0!==e.owner.length&&t.uint32(10).bytes(e.owner),""!==e.spendAction&&t.uint32(18).string(e.spendAction),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=d();for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.owner=n.bytes();break;case 2:i.spendAction=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({owner:m(e.owner)?p(e.owner):new Uint8Array,spendAction:m(e.spendAction)?String(e.spendAction):""}),toJSON(e){const t={};return void 0!==e.owner&&(t.owner=g(void 0!==e.owner?e.owner:new Uint8Array)),void 0!==e.spendAction&&(t.spendAction=e.spendAction),t},fromPartial(e){var t,n;const r=d();return r.owner=null!==(t=e.owner)&&void 0!==t?t:new Uint8Array,r.spendAction=null!==(n=e.spendAction)&&void 0!==n?n:"",r}},t.MsgWalletSpendActionResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},t.MsgProvision={encode(e,t=o.default.Writer.create()){""!==e.nickname&&t.uint32(10).string(e.nickname),0!==e.address.length&&t.uint32(18).bytes(e.address);for(const n of e.powerFlags)t.uint32(26).string(n);return 0!==e.submitter.length&&t.uint32(34).bytes(e.submitter),t},decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=c();for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.nickname=n.string();break;case 2:i.address=n.bytes();break;case 3:i.powerFlags.push(n.string());break;case 4:i.submitter=n.bytes();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({nickname:m(e.nickname)?String(e.nickname):"",address:m(e.address)?p(e.address):new Uint8Array,powerFlags:Array.isArray(null==e?void 0:e.powerFlags)?e.powerFlags.map((e=>String(e))):[],submitter:m(e.submitter)?p(e.submitter):new Uint8Array}),toJSON(e){const t={};return void 0!==e.nickname&&(t.nickname=e.nickname),void 0!==e.address&&(t.address=g(void 0!==e.address?e.address:new Uint8Array)),e.powerFlags?t.powerFlags=e.powerFlags.map((e=>e)):t.powerFlags=[],void 0!==e.submitter&&(t.submitter=g(void 0!==e.submitter?e.submitter:new Uint8Array)),t},fromPartial(e){var t,n,r,i;const o=c();return o.nickname=null!==(t=e.nickname)&&void 0!==t?t:"",o.address=null!==(n=e.address)&&void 0!==n?n:new Uint8Array,o.powerFlags=(null===(r=e.powerFlags)||void 0===r?void 0:r.map((e=>e)))||[],o.submitter=null!==(i=e.submitter)&&void 0!==i?i:new Uint8Array,o}},t.MsgProvisionResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},t.MsgInstallBundle={encode:(e,t=o.default.Writer.create())=>(""!==e.bundle&&t.uint32(10).string(e.bundle),0!==e.submitter.length&&t.uint32(18).bytes(e.submitter),0!==e.compressedBundle.length&&t.uint32(26).bytes(e.compressedBundle),"0"!==e.uncompressedSize&&t.uint32(32).int64(e.uncompressedSize),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=u();for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.bundle=n.string();break;case 2:i.submitter=n.bytes();break;case 3:i.compressedBundle=n.bytes();break;case 4:i.uncompressedSize=v(n.int64());break;default:n.skipType(7&e)}}return i},fromJSON:e=>({bundle:m(e.bundle)?String(e.bundle):"",submitter:m(e.submitter)?p(e.submitter):new Uint8Array,compressedBundle:m(e.compressedBundle)?p(e.compressedBundle):new Uint8Array,uncompressedSize:m(e.uncompressedSize)?String(e.uncompressedSize):"0"}),toJSON(e){const t={};return void 0!==e.bundle&&(t.bundle=e.bundle),void 0!==e.submitter&&(t.submitter=g(void 0!==e.submitter?e.submitter:new Uint8Array)),void 0!==e.compressedBundle&&(t.compressedBundle=g(void 0!==e.compressedBundle?e.compressedBundle:new Uint8Array)),void 0!==e.uncompressedSize&&(t.uncompressedSize=e.uncompressedSize),t},fromPartial(e){var t,n,r,i;const o=u();return o.bundle=null!==(t=e.bundle)&&void 0!==t?t:"",o.submitter=null!==(n=e.submitter)&&void 0!==n?n:new Uint8Array,o.compressedBundle=null!==(r=e.compressedBundle)&&void 0!==r?r:new Uint8Array,o.uncompressedSize=null!==(i=e.uncompressedSize)&&void 0!==i?i:"0",o}},t.MsgInstallBundleResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})};var l=(()=>{if(void 0!==l)return l;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw"Unable to locate global object"})();const h=l.atob||(e=>l.Buffer.from(e,"base64").toString("binary"));function p(e){const t=h(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n[e]=t.charCodeAt(e);return n}const f=l.btoa||(e=>l.Buffer.from(e,"binary").toString("base64"));function g(e){const t=[];for(const n of e)t.push(String.fromCharCode(n));return f(t.join(""))}function v(e){return e.toString()}function m(e){return null!=e}o.default.util.Long!==i.default&&(o.default.util.Long=i.default,o.default.configure())},797:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Grant=t.GenericAuthorization=t.protobufPackage=void 0;const i=r(n(27808)),o=r(n(73737)),s=n(52811),a=n(20165);function d(e){let t=1e3*Number(e.seconds);return t+=e.nanos/1e6,new Date(t)}function c(e){return null!=e}t.protobufPackage="cosmos.authz.v1beta1",t.GenericAuthorization={encode:(e,t=o.default.Writer.create())=>(""!==e.msg&&t.uint32(10).string(e.msg),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={msg:""};for(;n.pos<r;){const e=n.uint32();e>>>3==1?i.msg=n.string():n.skipType(7&e)}return i},fromJSON:e=>({msg:c(e.msg)?String(e.msg):""}),toJSON(e){const t={};return void 0!==e.msg&&(t.msg=e.msg),t},fromPartial(e){var t;const n={msg:""};return n.msg=null!==(t=e.msg)&&void 0!==t?t:"",n}},t.Grant={encode:(e,t=o.default.Writer.create())=>{return void 0!==e.authorization&&a.Any.encode(e.authorization,t.uint32(10).fork()).ldelim(),void 0!==e.expiration&&s.Timestamp.encode((n=e.expiration,{seconds:Math.trunc(n.getTime()/1e3).toString(),nanos:n.getTime()%1e3*1e6}),t.uint32(18).fork()).ldelim(),t;var n},decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={authorization:void 0,expiration:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.authorization=a.Any.decode(n,n.uint32());break;case 2:i.expiration=d(s.Timestamp.decode(n,n.uint32()));break;default:n.skipType(7&e)}}return i},fromJSON:e=>{return{authorization:c(e.authorization)?a.Any.fromJSON(e.authorization):void 0,expiration:c(e.expiration)?(t=e.expiration,t instanceof Date?t:"string"==typeof t?new Date(t):d(s.Timestamp.fromJSON(t))):void 0};var t},toJSON(e){const t={};return void 0!==e.authorization&&(t.authorization=e.authorization?a.Any.toJSON(e.authorization):void 0),void 0!==e.expiration&&(t.expiration=e.expiration.toISOString()),t},fromPartial(e){var t;const n={authorization:void 0,expiration:void 0};return n.authorization=void 0!==e.authorization&&null!==e.authorization?a.Any.fromPartial(e.authorization):void 0,n.expiration=null!==(t=e.expiration)&&void 0!==t?t:void 0,n}},o.default.util.Long!==i.default&&(o.default.util.Long=i.default,o.default.configure())},91428:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MsgRevokeResponse=t.MsgRevoke=t.MsgGrantResponse=t.MsgExec=t.MsgExecResponse=t.MsgGrant=t.protobufPackage=void 0;const i=r(n(27808)),o=r(n(73737)),s=n(797),a=n(20165);t.protobufPackage="cosmos.authz.v1beta1",t.MsgGrant={encode:(e,t=o.default.Writer.create())=>(""!==e.granter&&t.uint32(10).string(e.granter),""!==e.grantee&&t.uint32(18).string(e.grantee),void 0!==e.grant&&s.Grant.encode(e.grant,t.uint32(26).fork()).ldelim(),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={granter:"",grantee:"",grant:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.granter=n.string();break;case 2:i.grantee=n.string();break;case 3:i.grant=s.Grant.decode(n,n.uint32());break;default:n.skipType(7&e)}}return i},fromJSON:e=>({granter:l(e.granter)?String(e.granter):"",grantee:l(e.grantee)?String(e.grantee):"",grant:l(e.grant)?s.Grant.fromJSON(e.grant):void 0}),toJSON(e){const t={};return void 0!==e.granter&&(t.granter=e.granter),void 0!==e.grantee&&(t.grantee=e.grantee),void 0!==e.grant&&(t.grant=e.grant?s.Grant.toJSON(e.grant):void 0),t},fromPartial(e){var t,n;const r={granter:"",grantee:"",grant:void 0};return r.granter=null!==(t=e.granter)&&void 0!==t?t:"",r.grantee=null!==(n=e.grantee)&&void 0!==n?n:"",r.grant=void 0!==e.grant&&null!==e.grant?s.Grant.fromPartial(e.grant):void 0,r}},t.MsgExecResponse={encode(e,t=o.default.Writer.create()){for(const n of e.results)t.uint32(10).bytes(n);return t},decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={results:[]};for(;n.pos<r;){const e=n.uint32();e>>>3==1?i.results.push(n.bytes()):n.skipType(7&e)}return i},fromJSON:e=>({results:Array.isArray(null==e?void 0:e.results)?e.results.map((e=>function(e){const t=c(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n[e]=t.charCodeAt(e);return n}(e))):[]}),toJSON(e){const t={};return e.results?t.results=e.results.map((e=>function(e){const t=[];for(const n of e)t.push(String.fromCharCode(n));return u(t.join(""))}(void 0!==e?e:new Uint8Array))):t.results=[],t},fromPartial(e){var t;const n={results:[]};return n.results=(null===(t=e.results)||void 0===t?void 0:t.map((e=>e)))||[],n}},t.MsgExec={encode(e,t=o.default.Writer.create()){""!==e.grantee&&t.uint32(10).string(e.grantee);for(const n of e.msgs)a.Any.encode(n,t.uint32(18).fork()).ldelim();return t},decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={grantee:"",msgs:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.grantee=n.string();break;case 2:i.msgs.push(a.Any.decode(n,n.uint32()));break;default:n.skipType(7&e)}}return i},fromJSON:e=>({grantee:l(e.grantee)?String(e.grantee):"",msgs:Array.isArray(null==e?void 0:e.msgs)?e.msgs.map((e=>a.Any.fromJSON(e))):[]}),toJSON(e){const t={};return void 0!==e.grantee&&(t.grantee=e.grantee),e.msgs?t.msgs=e.msgs.map((e=>e?a.Any.toJSON(e):void 0)):t.msgs=[],t},fromPartial(e){var t,n;const r={grantee:"",msgs:[]};return r.grantee=null!==(t=e.grantee)&&void 0!==t?t:"",r.msgs=(null===(n=e.msgs)||void 0===n?void 0:n.map((e=>a.Any.fromPartial(e))))||[],r}},t.MsgGrantResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},t.MsgRevoke={encode:(e,t=o.default.Writer.create())=>(""!==e.granter&&t.uint32(10).string(e.granter),""!==e.grantee&&t.uint32(18).string(e.grantee),""!==e.msgTypeUrl&&t.uint32(26).string(e.msgTypeUrl),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={granter:"",grantee:"",msgTypeUrl:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.granter=n.string();break;case 2:i.grantee=n.string();break;case 3:i.msgTypeUrl=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({granter:l(e.granter)?String(e.granter):"",grantee:l(e.grantee)?String(e.grantee):"",msgTypeUrl:l(e.msgTypeUrl)?String(e.msgTypeUrl):""}),toJSON(e){const t={};return void 0!==e.granter&&(t.granter=e.granter),void 0!==e.grantee&&(t.grantee=e.grantee),void 0!==e.msgTypeUrl&&(t.msgTypeUrl=e.msgTypeUrl),t},fromPartial(e){var t,n,r;const i={granter:"",grantee:"",msgTypeUrl:""};return i.granter=null!==(t=e.granter)&&void 0!==t?t:"",i.grantee=null!==(n=e.grantee)&&void 0!==n?n:"",i.msgTypeUrl=null!==(r=e.msgTypeUrl)&&void 0!==r?r:"",i}},t.MsgRevokeResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})};var d=(()=>{if(void 0!==d)return d;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw"Unable to locate global object"})();const c=d.atob||(e=>d.Buffer.from(e,"base64").toString("binary")),u=d.btoa||(e=>d.Buffer.from(e,"binary").toString("base64"));function l(e){return null!=e}o.default.util.Long!==i.default&&(o.default.util.Long=i.default,o.default.configure())},90724:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SendAuthorization=t.protobufPackage=void 0;const i=r(n(27808)),o=r(n(73737)),s=n(58113);t.protobufPackage="cosmos.bank.v1beta1",t.SendAuthorization={encode(e,t=o.default.Writer.create()){for(const n of e.spendLimit)s.Coin.encode(n,t.uint32(10).fork()).ldelim();return t},decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={spendLimit:[]};for(;n.pos<r;){const e=n.uint32();e>>>3==1?i.spendLimit.push(s.Coin.decode(n,n.uint32())):n.skipType(7&e)}return i},fromJSON:e=>({spendLimit:Array.isArray(null==e?void 0:e.spendLimit)?e.spendLimit.map((e=>s.Coin.fromJSON(e))):[]}),toJSON(e){const t={};return e.spendLimit?t.spendLimit=e.spendLimit.map((e=>e?s.Coin.toJSON(e):void 0)):t.spendLimit=[],t},fromPartial(e){var t;const n={spendLimit:[]};return n.spendLimit=(null===(t=e.spendLimit)||void 0===t?void 0:t.map((e=>s.Coin.fromPartial(e))))||[],n}},o.default.util.Long!==i.default&&(o.default.util.Long=i.default,o.default.configure())},30859:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=t.DenomUnit=t.Supply=t.Output=t.Input=t.SendEnabled=t.Params=t.protobufPackage=void 0;const i=r(n(27808)),o=r(n(73737)),s=n(58113);function a(e){return null!=e}t.protobufPackage="cosmos.bank.v1beta1",t.Params={encode(e,n=o.default.Writer.create()){for(const r of e.sendEnabled)t.SendEnabled.encode(r,n.uint32(10).fork()).ldelim();return!0===e.defaultSendEnabled&&n.uint32(16).bool(e.defaultSendEnabled),n},decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const s={sendEnabled:[],defaultSendEnabled:!1};for(;r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:s.sendEnabled.push(t.SendEnabled.decode(r,r.uint32()));break;case 2:s.defaultSendEnabled=r.bool();break;default:r.skipType(7&e)}}return s},fromJSON:e=>({sendEnabled:Array.isArray(null==e?void 0:e.sendEnabled)?e.sendEnabled.map((e=>t.SendEnabled.fromJSON(e))):[],defaultSendEnabled:!!a(e.defaultSendEnabled)&&Boolean(e.defaultSendEnabled)}),toJSON(e){const n={};return e.sendEnabled?n.sendEnabled=e.sendEnabled.map((e=>e?t.SendEnabled.toJSON(e):void 0)):n.sendEnabled=[],void 0!==e.defaultSendEnabled&&(n.defaultSendEnabled=e.defaultSendEnabled),n},fromPartial(e){var n,r;const i={sendEnabled:[],defaultSendEnabled:!1};return i.sendEnabled=(null===(n=e.sendEnabled)||void 0===n?void 0:n.map((e=>t.SendEnabled.fromPartial(e))))||[],i.defaultSendEnabled=null!==(r=e.defaultSendEnabled)&&void 0!==r&&r,i}},t.SendEnabled={encode:(e,t=o.default.Writer.create())=>(""!==e.denom&&t.uint32(10).string(e.denom),!0===e.enabled&&t.uint32(16).bool(e.enabled),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={denom:"",enabled:!1};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.denom=n.string();break;case 2:i.enabled=n.bool();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({denom:a(e.denom)?String(e.denom):"",enabled:!!a(e.enabled)&&Boolean(e.enabled)}),toJSON(e){const t={};return void 0!==e.denom&&(t.denom=e.denom),void 0!==e.enabled&&(t.enabled=e.enabled),t},fromPartial(e){var t,n;const r={denom:"",enabled:!1};return r.denom=null!==(t=e.denom)&&void 0!==t?t:"",r.enabled=null!==(n=e.enabled)&&void 0!==n&&n,r}},t.Input={encode(e,t=o.default.Writer.create()){""!==e.address&&t.uint32(10).string(e.address);for(const n of e.coins)s.Coin.encode(n,t.uint32(18).fork()).ldelim();return t},decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={address:"",coins:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.address=n.string();break;case 2:i.coins.push(s.Coin.decode(n,n.uint32()));break;default:n.skipType(7&e)}}return i},fromJSON:e=>({address:a(e.address)?String(e.address):"",coins:Array.isArray(null==e?void 0:e.coins)?e.coins.map((e=>s.Coin.fromJSON(e))):[]}),toJSON(e){const t={};return void 0!==e.address&&(t.address=e.address),e.coins?t.coins=e.coins.map((e=>e?s.Coin.toJSON(e):void 0)):t.coins=[],t},fromPartial(e){var t,n;const r={address:"",coins:[]};return r.address=null!==(t=e.address)&&void 0!==t?t:"",r.coins=(null===(n=e.coins)||void 0===n?void 0:n.map((e=>s.Coin.fromPartial(e))))||[],r}},t.Output={encode(e,t=o.default.Writer.create()){""!==e.address&&t.uint32(10).string(e.address);for(const n of e.coins)s.Coin.encode(n,t.uint32(18).fork()).ldelim();return t},decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={address:"",coins:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.address=n.string();break;case 2:i.coins.push(s.Coin.decode(n,n.uint32()));break;default:n.skipType(7&e)}}return i},fromJSON:e=>({address:a(e.address)?String(e.address):"",coins:Array.isArray(null==e?void 0:e.coins)?e.coins.map((e=>s.Coin.fromJSON(e))):[]}),toJSON(e){const t={};return void 0!==e.address&&(t.address=e.address),e.coins?t.coins=e.coins.map((e=>e?s.Coin.toJSON(e):void 0)):t.coins=[],t},fromPartial(e){var t,n;const r={address:"",coins:[]};return r.address=null!==(t=e.address)&&void 0!==t?t:"",r.coins=(null===(n=e.coins)||void 0===n?void 0:n.map((e=>s.Coin.fromPartial(e))))||[],r}},t.Supply={encode(e,t=o.default.Writer.create()){for(const n of e.total)s.Coin.encode(n,t.uint32(10).fork()).ldelim();return t},decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={total:[]};for(;n.pos<r;){const e=n.uint32();e>>>3==1?i.total.push(s.Coin.decode(n,n.uint32())):n.skipType(7&e)}return i},fromJSON:e=>({total:Array.isArray(null==e?void 0:e.total)?e.total.map((e=>s.Coin.fromJSON(e))):[]}),toJSON(e){const t={};return e.total?t.total=e.total.map((e=>e?s.Coin.toJSON(e):void 0)):t.total=[],t},fromPartial(e){var t;const n={total:[]};return n.total=(null===(t=e.total)||void 0===t?void 0:t.map((e=>s.Coin.fromPartial(e))))||[],n}},t.DenomUnit={encode(e,t=o.default.Writer.create()){""!==e.denom&&t.uint32(10).string(e.denom),0!==e.exponent&&t.uint32(16).uint32(e.exponent);for(const n of e.aliases)t.uint32(26).string(n);return t},decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={denom:"",exponent:0,aliases:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.denom=n.string();break;case 2:i.exponent=n.uint32();break;case 3:i.aliases.push(n.string());break;default:n.skipType(7&e)}}return i},fromJSON:e=>({denom:a(e.denom)?String(e.denom):"",exponent:a(e.exponent)?Number(e.exponent):0,aliases:Array.isArray(null==e?void 0:e.aliases)?e.aliases.map((e=>String(e))):[]}),toJSON(e){const t={};return void 0!==e.denom&&(t.denom=e.denom),void 0!==e.exponent&&(t.exponent=Math.round(e.exponent)),e.aliases?t.aliases=e.aliases.map((e=>e)):t.aliases=[],t},fromPartial(e){var t,n,r;const i={denom:"",exponent:0,aliases:[]};return i.denom=null!==(t=e.denom)&&void 0!==t?t:"",i.exponent=null!==(n=e.exponent)&&void 0!==n?n:0,i.aliases=(null===(r=e.aliases)||void 0===r?void 0:r.map((e=>e)))||[],i}},t.Metadata={encode(e,n=o.default.Writer.create()){""!==e.description&&n.uint32(10).string(e.description);for(const r of e.denomUnits)t.DenomUnit.encode(r,n.uint32(18).fork()).ldelim();return""!==e.base&&n.uint32(26).string(e.base),""!==e.display&&n.uint32(34).string(e.display),""!==e.name&&n.uint32(42).string(e.name),""!==e.symbol&&n.uint32(50).string(e.symbol),n},decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const s={description:"",denomUnits:[],base:"",display:"",name:"",symbol:""};for(;r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:s.description=r.string();break;case 2:s.denomUnits.push(t.DenomUnit.decode(r,r.uint32()));break;case 3:s.base=r.string();break;case 4:s.display=r.string();break;case 5:s.name=r.string();break;case 6:s.symbol=r.string();break;default:r.skipType(7&e)}}return s},fromJSON:e=>({description:a(e.description)?String(e.description):"",denomUnits:Array.isArray(null==e?void 0:e.denomUnits)?e.denomUnits.map((e=>t.DenomUnit.fromJSON(e))):[],base:a(e.base)?String(e.base):"",display:a(e.display)?String(e.display):"",name:a(e.name)?String(e.name):"",symbol:a(e.symbol)?String(e.symbol):""}),toJSON(e){const n={};return void 0!==e.description&&(n.description=e.description),e.denomUnits?n.denomUnits=e.denomUnits.map((e=>e?t.DenomUnit.toJSON(e):void 0)):n.denomUnits=[],void 0!==e.base&&(n.base=e.base),void 0!==e.display&&(n.display=e.display),void 0!==e.name&&(n.name=e.name),void 0!==e.symbol&&(n.symbol=e.symbol),n},fromPartial(e){var n,r,i,o,s,a;const d={description:"",denomUnits:[],base:"",display:"",name:"",symbol:""};return d.description=null!==(n=e.description)&&void 0!==n?n:"",d.denomUnits=(null===(r=e.denomUnits)||void 0===r?void 0:r.map((e=>t.DenomUnit.fromPartial(e))))||[],d.base=null!==(i=e.base)&&void 0!==i?i:"",d.display=null!==(o=e.display)&&void 0!==o?o:"",d.name=null!==(s=e.name)&&void 0!==s?s:"",d.symbol=null!==(a=e.symbol)&&void 0!==a?a:"",d}},o.default.util.Long!==i.default&&(o.default.util.Long=i.default,o.default.configure())},22062:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MsgMultiSendResponse=t.MsgMultiSend=t.MsgSendResponse=t.MsgSend=t.protobufPackage=void 0;const i=r(n(27808)),o=r(n(73737)),s=n(58113),a=n(30859);function d(e){return null!=e}t.protobufPackage="cosmos.bank.v1beta1",t.MsgSend={encode(e,t=o.default.Writer.create()){""!==e.fromAddress&&t.uint32(10).string(e.fromAddress),""!==e.toAddress&&t.uint32(18).string(e.toAddress);for(const n of e.amount)s.Coin.encode(n,t.uint32(26).fork()).ldelim();return t},decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={fromAddress:"",toAddress:"",amount:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.fromAddress=n.string();break;case 2:i.toAddress=n.string();break;case 3:i.amount.push(s.Coin.decode(n,n.uint32()));break;default:n.skipType(7&e)}}return i},fromJSON:e=>({fromAddress:d(e.fromAddress)?String(e.fromAddress):"",toAddress:d(e.toAddress)?String(e.toAddress):"",amount:Array.isArray(null==e?void 0:e.amount)?e.amount.map((e=>s.Coin.fromJSON(e))):[]}),toJSON(e){const t={};return void 0!==e.fromAddress&&(t.fromAddress=e.fromAddress),void 0!==e.toAddress&&(t.toAddress=e.toAddress),e.amount?t.amount=e.amount.map((e=>e?s.Coin.toJSON(e):void 0)):t.amount=[],t},fromPartial(e){var t,n,r;const i={fromAddress:"",toAddress:"",amount:[]};return i.fromAddress=null!==(t=e.fromAddress)&&void 0!==t?t:"",i.toAddress=null!==(n=e.toAddress)&&void 0!==n?n:"",i.amount=(null===(r=e.amount)||void 0===r?void 0:r.map((e=>s.Coin.fromPartial(e))))||[],i}},t.MsgSendResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},t.MsgMultiSend={encode(e,t=o.default.Writer.create()){for(const n of e.inputs)a.Input.encode(n,t.uint32(10).fork()).ldelim();for(const n of e.outputs)a.Output.encode(n,t.uint32(18).fork()).ldelim();return t},decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={inputs:[],outputs:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.inputs.push(a.Input.decode(n,n.uint32()));break;case 2:i.outputs.push(a.Output.decode(n,n.uint32()));break;default:n.skipType(7&e)}}return i},fromJSON:e=>({inputs:Array.isArray(null==e?void 0:e.inputs)?e.inputs.map((e=>a.Input.fromJSON(e))):[],outputs:Array.isArray(null==e?void 0:e.outputs)?e.outputs.map((e=>a.Output.fromJSON(e))):[]}),toJSON(e){const t={};return e.inputs?t.inputs=e.inputs.map((e=>e?a.Input.toJSON(e):void 0)):t.inputs=[],e.outputs?t.outputs=e.outputs.map((e=>e?a.Output.toJSON(e):void 0)):t.outputs=[],t},fromPartial(e){var t,n;const r={inputs:[],outputs:[]};return r.inputs=(null===(t=e.inputs)||void 0===t?void 0:t.map((e=>a.Input.fromPartial(e))))||[],r.outputs=(null===(n=e.outputs)||void 0===n?void 0:n.map((e=>a.Output.fromPartial(e))))||[],r}},t.MsgMultiSendResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},o.default.util.Long!==i.default&&(o.default.util.Long=i.default,o.default.configure())},58113:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DecProto=t.IntProto=t.DecCoin=t.Coin=t.protobufPackage=void 0;const i=r(n(27808)),o=r(n(73737));function s(e){return null!=e}t.protobufPackage="cosmos.base.v1beta1",t.Coin={encode:(e,t=o.default.Writer.create())=>(""!==e.denom&&t.uint32(10).string(e.denom),""!==e.amount&&t.uint32(18).string(e.amount),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={denom:"",amount:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.denom=n.string();break;case 2:i.amount=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({denom:s(e.denom)?String(e.denom):"",amount:s(e.amount)?String(e.amount):""}),toJSON(e){const t={};return void 0!==e.denom&&(t.denom=e.denom),void 0!==e.amount&&(t.amount=e.amount),t},fromPartial(e){var t,n;const r={denom:"",amount:""};return r.denom=null!==(t=e.denom)&&void 0!==t?t:"",r.amount=null!==(n=e.amount)&&void 0!==n?n:"",r}},t.DecCoin={encode:(e,t=o.default.Writer.create())=>(""!==e.denom&&t.uint32(10).string(e.denom),""!==e.amount&&t.uint32(18).string(e.amount),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={denom:"",amount:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.denom=n.string();break;case 2:i.amount=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({denom:s(e.denom)?String(e.denom):"",amount:s(e.amount)?String(e.amount):""}),toJSON(e){const t={};return void 0!==e.denom&&(t.denom=e.denom),void 0!==e.amount&&(t.amount=e.amount),t},fromPartial(e){var t,n;const r={denom:"",amount:""};return r.denom=null!==(t=e.denom)&&void 0!==t?t:"",r.amount=null!==(n=e.amount)&&void 0!==n?n:"",r}},t.IntProto={encode:(e,t=o.default.Writer.create())=>(""!==e.int&&t.uint32(10).string(e.int),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={int:""};for(;n.pos<r;){const e=n.uint32();e>>>3==1?i.int=n.string():n.skipType(7&e)}return i},fromJSON:e=>({int:s(e.int)?String(e.int):""}),toJSON(e){const t={};return void 0!==e.int&&(t.int=e.int),t},fromPartial(e){var t;const n={int:""};return n.int=null!==(t=e.int)&&void 0!==t?t:"",n}},t.DecProto={encode:(e,t=o.default.Writer.create())=>(""!==e.dec&&t.uint32(10).string(e.dec),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={dec:""};for(;n.pos<r;){const e=n.uint32();e>>>3==1?i.dec=n.string():n.skipType(7&e)}return i},fromJSON:e=>({dec:s(e.dec)?String(e.dec):""}),toJSON(e){const t={};return void 0!==e.dec&&(t.dec=e.dec),t},fromPartial(e){var t;const n={dec:""};return n.dec=null!==(t=e.dec)&&void 0!==t?t:"",n}},o.default.util.Long!==i.default&&(o.default.util.Long=i.default,o.default.configure())},96205:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CompactBitArray=t.MultiSignature=t.protobufPackage=void 0;const i=r(n(27808)),o=r(n(73737));function s(){return{extraBitsStored:0,elems:new Uint8Array}}t.protobufPackage="cosmos.crypto.multisig.v1beta1",t.MultiSignature={encode(e,t=o.default.Writer.create()){for(const n of e.signatures)t.uint32(10).bytes(n);return t},decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={signatures:[]};for(;n.pos<r;){const e=n.uint32();e>>>3==1?i.signatures.push(n.bytes()):n.skipType(7&e)}return i},fromJSON:e=>({signatures:Array.isArray(null==e?void 0:e.signatures)?e.signatures.map((e=>c(e))):[]}),toJSON(e){const t={};return e.signatures?t.signatures=e.signatures.map((e=>l(void 0!==e?e:new Uint8Array))):t.signatures=[],t},fromPartial(e){var t;const n={signatures:[]};return n.signatures=(null===(t=e.signatures)||void 0===t?void 0:t.map((e=>e)))||[],n}},t.CompactBitArray={encode:(e,t=o.default.Writer.create())=>(0!==e.extraBitsStored&&t.uint32(8).uint32(e.extraBitsStored),0!==e.elems.length&&t.uint32(18).bytes(e.elems),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=s();for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.extraBitsStored=n.uint32();break;case 2:i.elems=n.bytes();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({extraBitsStored:h(e.extraBitsStored)?Number(e.extraBitsStored):0,elems:h(e.elems)?c(e.elems):new Uint8Array}),toJSON(e){const t={};return void 0!==e.extraBitsStored&&(t.extraBitsStored=Math.round(e.extraBitsStored)),void 0!==e.elems&&(t.elems=l(void 0!==e.elems?e.elems:new Uint8Array)),t},fromPartial(e){var t,n;const r=s();return r.extraBitsStored=null!==(t=e.extraBitsStored)&&void 0!==t?t:0,r.elems=null!==(n=e.elems)&&void 0!==n?n:new Uint8Array,r}};var a=(()=>{if(void 0!==a)return a;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw"Unable to locate global object"})();const d=a.atob||(e=>a.Buffer.from(e,"base64").toString("binary"));function c(e){const t=d(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n[e]=t.charCodeAt(e);return n}const u=a.btoa||(e=>a.Buffer.from(e,"binary").toString("base64"));function l(e){const t=[];for(const n of e)t.push(String.fromCharCode(n));return u(t.join(""))}function h(e){return null!=e}o.default.util.Long!==i.default&&(o.default.util.Long=i.default,o.default.configure())},83612:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MsgFundCommunityPoolResponse=t.MsgFundCommunityPool=t.MsgWithdrawValidatorCommissionResponse=t.MsgWithdrawValidatorCommission=t.MsgWithdrawDelegatorRewardResponse=t.MsgWithdrawDelegatorReward=t.MsgSetWithdrawAddressResponse=t.MsgSetWithdrawAddress=t.protobufPackage=void 0;const i=r(n(27808)),o=r(n(73737)),s=n(58113);function a(e){return null!=e}t.protobufPackage="cosmos.distribution.v1beta1",t.MsgSetWithdrawAddress={encode:(e,t=o.default.Writer.create())=>(""!==e.delegatorAddress&&t.uint32(10).string(e.delegatorAddress),""!==e.withdrawAddress&&t.uint32(18).string(e.withdrawAddress),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={delegatorAddress:"",withdrawAddress:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.delegatorAddress=n.string();break;case 2:i.withdrawAddress=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({delegatorAddress:a(e.delegatorAddress)?String(e.delegatorAddress):"",withdrawAddress:a(e.withdrawAddress)?String(e.withdrawAddress):""}),toJSON(e){const t={};return void 0!==e.delegatorAddress&&(t.delegatorAddress=e.delegatorAddress),void 0!==e.withdrawAddress&&(t.withdrawAddress=e.withdrawAddress),t},fromPartial(e){var t,n;const r={delegatorAddress:"",withdrawAddress:""};return r.delegatorAddress=null!==(t=e.delegatorAddress)&&void 0!==t?t:"",r.withdrawAddress=null!==(n=e.withdrawAddress)&&void 0!==n?n:"",r}},t.MsgSetWithdrawAddressResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},t.MsgWithdrawDelegatorReward={encode:(e,t=o.default.Writer.create())=>(""!==e.delegatorAddress&&t.uint32(10).string(e.delegatorAddress),""!==e.validatorAddress&&t.uint32(18).string(e.validatorAddress),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={delegatorAddress:"",validatorAddress:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.delegatorAddress=n.string();break;case 2:i.validatorAddress=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({delegatorAddress:a(e.delegatorAddress)?String(e.delegatorAddress):"",validatorAddress:a(e.validatorAddress)?String(e.validatorAddress):""}),toJSON(e){const t={};return void 0!==e.delegatorAddress&&(t.delegatorAddress=e.delegatorAddress),void 0!==e.validatorAddress&&(t.validatorAddress=e.validatorAddress),t},fromPartial(e){var t,n;const r={delegatorAddress:"",validatorAddress:""};return r.delegatorAddress=null!==(t=e.delegatorAddress)&&void 0!==t?t:"",r.validatorAddress=null!==(n=e.validatorAddress)&&void 0!==n?n:"",r}},t.MsgWithdrawDelegatorRewardResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},t.MsgWithdrawValidatorCommission={encode:(e,t=o.default.Writer.create())=>(""!==e.validatorAddress&&t.uint32(10).string(e.validatorAddress),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={validatorAddress:""};for(;n.pos<r;){const e=n.uint32();e>>>3==1?i.validatorAddress=n.string():n.skipType(7&e)}return i},fromJSON:e=>({validatorAddress:a(e.validatorAddress)?String(e.validatorAddress):""}),toJSON(e){const t={};return void 0!==e.validatorAddress&&(t.validatorAddress=e.validatorAddress),t},fromPartial(e){var t;const n={validatorAddress:""};return n.validatorAddress=null!==(t=e.validatorAddress)&&void 0!==t?t:"",n}},t.MsgWithdrawValidatorCommissionResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},t.MsgFundCommunityPool={encode(e,t=o.default.Writer.create()){for(const n of e.amount)s.Coin.encode(n,t.uint32(10).fork()).ldelim();return""!==e.depositor&&t.uint32(18).string(e.depositor),t},decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={amount:[],depositor:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.amount.push(s.Coin.decode(n,n.uint32()));break;case 2:i.depositor=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({amount:Array.isArray(null==e?void 0:e.amount)?e.amount.map((e=>s.Coin.fromJSON(e))):[],depositor:a(e.depositor)?String(e.depositor):""}),toJSON(e){const t={};return e.amount?t.amount=e.amount.map((e=>e?s.Coin.toJSON(e):void 0)):t.amount=[],void 0!==e.depositor&&(t.depositor=e.depositor),t},fromPartial(e){var t,n;const r={amount:[],depositor:""};return r.amount=(null===(t=e.amount)||void 0===t?void 0:t.map((e=>s.Coin.fromPartial(e))))||[],r.depositor=null!==(n=e.depositor)&&void 0!==n?n:"",r}},t.MsgFundCommunityPoolResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},o.default.util.Long!==i.default&&(o.default.util.Long=i.default,o.default.configure())},12579:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TallyParams=t.VotingParams=t.DepositParams=t.Vote=t.TallyResult=t.Proposal=t.Deposit=t.TextProposal=t.WeightedVoteOption=t.proposalStatusToJSON=t.proposalStatusFromJSON=t.ProposalStatus=t.voteOptionToJSON=t.voteOptionFromJSON=t.VoteOption=t.protobufPackage=void 0;const i=r(n(27808)),o=r(n(73737)),s=n(52811),a=n(58113),d=n(20165),c=n(59660);var u,l;function h(e){switch(e){case 0:case"VOTE_OPTION_UNSPECIFIED":return u.VOTE_OPTION_UNSPECIFIED;case 1:case"VOTE_OPTION_YES":return u.VOTE_OPTION_YES;case 2:case"VOTE_OPTION_ABSTAIN":return u.VOTE_OPTION_ABSTAIN;case 3:case"VOTE_OPTION_NO":return u.VOTE_OPTION_NO;case 4:case"VOTE_OPTION_NO_WITH_VETO":return u.VOTE_OPTION_NO_WITH_VETO;default:return u.UNRECOGNIZED}}function p(e){switch(e){case u.VOTE_OPTION_UNSPECIFIED:return"VOTE_OPTION_UNSPECIFIED";case u.VOTE_OPTION_YES:return"VOTE_OPTION_YES";case u.VOTE_OPTION_ABSTAIN:return"VOTE_OPTION_ABSTAIN";case u.VOTE_OPTION_NO:return"VOTE_OPTION_NO";case u.VOTE_OPTION_NO_WITH_VETO:return"VOTE_OPTION_NO_WITH_VETO";default:return"UNKNOWN"}}function f(e){switch(e){case 0:case"PROPOSAL_STATUS_UNSPECIFIED":return l.PROPOSAL_STATUS_UNSPECIFIED;case 1:case"PROPOSAL_STATUS_DEPOSIT_PERIOD":return l.PROPOSAL_STATUS_DEPOSIT_PERIOD;case 2:case"PROPOSAL_STATUS_VOTING_PERIOD":return l.PROPOSAL_STATUS_VOTING_PERIOD;case 3:case"PROPOSAL_STATUS_PASSED":return l.PROPOSAL_STATUS_PASSED;case 4:case"PROPOSAL_STATUS_REJECTED":return l.PROPOSAL_STATUS_REJECTED;case 5:case"PROPOSAL_STATUS_FAILED":return l.PROPOSAL_STATUS_FAILED;default:return l.UNRECOGNIZED}}function g(e){switch(e){case l.PROPOSAL_STATUS_UNSPECIFIED:return"PROPOSAL_STATUS_UNSPECIFIED";case l.PROPOSAL_STATUS_DEPOSIT_PERIOD:return"PROPOSAL_STATUS_DEPOSIT_PERIOD";case l.PROPOSAL_STATUS_VOTING_PERIOD:return"PROPOSAL_STATUS_VOTING_PERIOD";case l.PROPOSAL_STATUS_PASSED:return"PROPOSAL_STATUS_PASSED";case l.PROPOSAL_STATUS_REJECTED:return"PROPOSAL_STATUS_REJECTED";case l.PROPOSAL_STATUS_FAILED:return"PROPOSAL_STATUS_FAILED";default:return"UNKNOWN"}}function v(){return{quorum:new Uint8Array,threshold:new Uint8Array,vetoThreshold:new Uint8Array}}t.protobufPackage="cosmos.gov.v1beta1",function(e){e[e.VOTE_OPTION_UNSPECIFIED=0]="VOTE_OPTION_UNSPECIFIED",e[e.VOTE_OPTION_YES=1]="VOTE_OPTION_YES",e[e.VOTE_OPTION_ABSTAIN=2]="VOTE_OPTION_ABSTAIN",e[e.VOTE_OPTION_NO=3]="VOTE_OPTION_NO",e[e.VOTE_OPTION_NO_WITH_VETO=4]="VOTE_OPTION_NO_WITH_VETO",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(u=t.VoteOption||(t.VoteOption={})),t.voteOptionFromJSON=h,t.voteOptionToJSON=p,function(e){e[e.PROPOSAL_STATUS_UNSPECIFIED=0]="PROPOSAL_STATUS_UNSPECIFIED",e[e.PROPOSAL_STATUS_DEPOSIT_PERIOD=1]="PROPOSAL_STATUS_DEPOSIT_PERIOD",e[e.PROPOSAL_STATUS_VOTING_PERIOD=2]="PROPOSAL_STATUS_VOTING_PERIOD",e[e.PROPOSAL_STATUS_PASSED=3]="PROPOSAL_STATUS_PASSED",e[e.PROPOSAL_STATUS_REJECTED=4]="PROPOSAL_STATUS_REJECTED",e[e.PROPOSAL_STATUS_FAILED=5]="PROPOSAL_STATUS_FAILED",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(l=t.ProposalStatus||(t.ProposalStatus={})),t.proposalStatusFromJSON=f,t.proposalStatusToJSON=g,t.WeightedVoteOption={encode:(e,t=o.default.Writer.create())=>(0!==e.option&&t.uint32(8).int32(e.option),""!==e.weight&&t.uint32(18).string(e.weight),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={option:0,weight:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.option=n.int32();break;case 2:i.weight=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({option:A(e.option)?h(e.option):0,weight:A(e.weight)?String(e.weight):""}),toJSON(e){const t={};return void 0!==e.option&&(t.option=p(e.option)),void 0!==e.weight&&(t.weight=e.weight),t},fromPartial(e){var t,n;const r={option:0,weight:""};return r.option=null!==(t=e.option)&&void 0!==t?t:0,r.weight=null!==(n=e.weight)&&void 0!==n?n:"",r}},t.TextProposal={encode:(e,t=o.default.Writer.create())=>(""!==e.title&&t.uint32(10).string(e.title),""!==e.description&&t.uint32(18).string(e.description),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={title:"",description:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.title=n.string();break;case 2:i.description=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({title:A(e.title)?String(e.title):"",description:A(e.description)?String(e.description):""}),toJSON(e){const t={};return void 0!==e.title&&(t.title=e.title),void 0!==e.description&&(t.description=e.description),t},fromPartial(e){var t,n;const r={title:"",description:""};return r.title=null!==(t=e.title)&&void 0!==t?t:"",r.description=null!==(n=e.description)&&void 0!==n?n:"",r}},t.Deposit={encode(e,t=o.default.Writer.create()){"0"!==e.proposalId&&t.uint32(8).uint64(e.proposalId),""!==e.depositor&&t.uint32(18).string(e.depositor);for(const n of e.amount)a.Coin.encode(n,t.uint32(26).fork()).ldelim();return t},decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={proposalId:"0",depositor:"",amount:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.proposalId=R(n.uint64());break;case 2:i.depositor=n.string();break;case 3:i.amount.push(a.Coin.decode(n,n.uint32()));break;default:n.skipType(7&e)}}return i},fromJSON:e=>({proposalId:A(e.proposalId)?String(e.proposalId):"0",depositor:A(e.depositor)?String(e.depositor):"",amount:Array.isArray(null==e?void 0:e.amount)?e.amount.map((e=>a.Coin.fromJSON(e))):[]}),toJSON(e){const t={};return void 0!==e.proposalId&&(t.proposalId=e.proposalId),void 0!==e.depositor&&(t.depositor=e.depositor),e.amount?t.amount=e.amount.map((e=>e?a.Coin.toJSON(e):void 0)):t.amount=[],t},fromPartial(e){var t,n,r;const i={proposalId:"0",depositor:"",amount:[]};return i.proposalId=null!==(t=e.proposalId)&&void 0!==t?t:"0",i.depositor=null!==(n=e.depositor)&&void 0!==n?n:"",i.amount=(null===(r=e.amount)||void 0===r?void 0:r.map((e=>a.Coin.fromPartial(e))))||[],i}},t.Proposal={encode(e,n=o.default.Writer.create()){"0"!==e.proposalId&&n.uint32(8).uint64(e.proposalId),void 0!==e.content&&d.Any.encode(e.content,n.uint32(18).fork()).ldelim(),0!==e.status&&n.uint32(24).int32(e.status),void 0!==e.finalTallyResult&&t.TallyResult.encode(e.finalTallyResult,n.uint32(34).fork()).ldelim(),void 0!==e.submitTime&&s.Timestamp.encode(I(e.submitTime),n.uint32(42).fork()).ldelim(),void 0!==e.depositEndTime&&s.Timestamp.encode(I(e.depositEndTime),n.uint32(50).fork()).ldelim();for(const t of e.totalDeposit)a.Coin.encode(t,n.uint32(58).fork()).ldelim();return void 0!==e.votingStartTime&&s.Timestamp.encode(I(e.votingStartTime),n.uint32(66).fork()).ldelim(),void 0!==e.votingEndTime&&s.Timestamp.encode(I(e.votingEndTime),n.uint32(74).fork()).ldelim(),n},decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const c={proposalId:"0",content:void 0,status:0,finalTallyResult:void 0,submitTime:void 0,depositEndTime:void 0,totalDeposit:[],votingStartTime:void 0,votingEndTime:void 0};for(;r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:c.proposalId=R(r.uint64());break;case 2:c.content=d.Any.decode(r,r.uint32());break;case 3:c.status=r.int32();break;case 4:c.finalTallyResult=t.TallyResult.decode(r,r.uint32());break;case 5:c.submitTime=k(s.Timestamp.decode(r,r.uint32()));break;case 6:c.depositEndTime=k(s.Timestamp.decode(r,r.uint32()));break;case 7:c.totalDeposit.push(a.Coin.decode(r,r.uint32()));break;case 8:c.votingStartTime=k(s.Timestamp.decode(r,r.uint32()));break;case 9:c.votingEndTime=k(s.Timestamp.decode(r,r.uint32()));break;default:r.skipType(7&e)}}return c},fromJSON:e=>({proposalId:A(e.proposalId)?String(e.proposalId):"0",content:A(e.content)?d.Any.fromJSON(e.content):void 0,status:A(e.status)?f(e.status):0,finalTallyResult:A(e.finalTallyResult)?t.TallyResult.fromJSON(e.finalTallyResult):void 0,submitTime:A(e.submitTime)?O(e.submitTime):void 0,depositEndTime:A(e.depositEndTime)?O(e.depositEndTime):void 0,totalDeposit:Array.isArray(null==e?void 0:e.totalDeposit)?e.totalDeposit.map((e=>a.Coin.fromJSON(e))):[],votingStartTime:A(e.votingStartTime)?O(e.votingStartTime):void 0,votingEndTime:A(e.votingEndTime)?O(e.votingEndTime):void 0}),toJSON(e){const n={};return void 0!==e.proposalId&&(n.proposalId=e.proposalId),void 0!==e.content&&(n.content=e.content?d.Any.toJSON(e.content):void 0),void 0!==e.status&&(n.status=g(e.status)),void 0!==e.finalTallyResult&&(n.finalTallyResult=e.finalTallyResult?t.TallyResult.toJSON(e.finalTallyResult):void 0),void 0!==e.submitTime&&(n.submitTime=e.submitTime.toISOString()),void 0!==e.depositEndTime&&(n.depositEndTime=e.depositEndTime.toISOString()),e.totalDeposit?n.totalDeposit=e.totalDeposit.map((e=>e?a.Coin.toJSON(e):void 0)):n.totalDeposit=[],void 0!==e.votingStartTime&&(n.votingStartTime=e.votingStartTime.toISOString()),void 0!==e.votingEndTime&&(n.votingEndTime=e.votingEndTime.toISOString()),n},fromPartial(e){var n,r,i,o,s,c,u;const l={proposalId:"0",content:void 0,status:0,finalTallyResult:void 0,submitTime:void 0,depositEndTime:void 0,totalDeposit:[],votingStartTime:void 0,votingEndTime:void 0};return l.proposalId=null!==(n=e.proposalId)&&void 0!==n?n:"0",l.content=void 0!==e.content&&null!==e.content?d.Any.fromPartial(e.content):void 0,l.status=null!==(r=e.status)&&void 0!==r?r:0,l.finalTallyResult=void 0!==e.finalTallyResult&&null!==e.finalTallyResult?t.TallyResult.fromPartial(e.finalTallyResult):void 0,l.submitTime=null!==(i=e.submitTime)&&void 0!==i?i:void 0,l.depositEndTime=null!==(o=e.depositEndTime)&&void 0!==o?o:void 0,l.totalDeposit=(null===(s=e.totalDeposit)||void 0===s?void 0:s.map((e=>a.Coin.fromPartial(e))))||[],l.votingStartTime=null!==(c=e.votingStartTime)&&void 0!==c?c:void 0,l.votingEndTime=null!==(u=e.votingEndTime)&&void 0!==u?u:void 0,l}},t.TallyResult={encode:(e,t=o.default.Writer.create())=>(""!==e.yes&&t.uint32(10).string(e.yes),""!==e.abstain&&t.uint32(18).string(e.abstain),""!==e.no&&t.uint32(26).string(e.no),""!==e.noWithVeto&&t.uint32(34).string(e.noWithVeto),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={yes:"",abstain:"",no:"",noWithVeto:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.yes=n.string();break;case 2:i.abstain=n.string();break;case 3:i.no=n.string();break;case 4:i.noWithVeto=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({yes:A(e.yes)?String(e.yes):"",abstain:A(e.abstain)?String(e.abstain):"",no:A(e.no)?String(e.no):"",noWithVeto:A(e.noWithVeto)?String(e.noWithVeto):""}),toJSON(e){const t={};return void 0!==e.yes&&(t.yes=e.yes),void 0!==e.abstain&&(t.abstain=e.abstain),void 0!==e.no&&(t.no=e.no),void 0!==e.noWithVeto&&(t.noWithVeto=e.noWithVeto),t},fromPartial(e){var t,n,r,i;const o={yes:"",abstain:"",no:"",noWithVeto:""};return o.yes=null!==(t=e.yes)&&void 0!==t?t:"",o.abstain=null!==(n=e.abstain)&&void 0!==n?n:"",o.no=null!==(r=e.no)&&void 0!==r?r:"",o.noWithVeto=null!==(i=e.noWithVeto)&&void 0!==i?i:"",o}},t.Vote={encode(e,n=o.default.Writer.create()){"0"!==e.proposalId&&n.uint32(8).uint64(e.proposalId),""!==e.voter&&n.uint32(18).string(e.voter),0!==e.option&&n.uint32(24).int32(e.option);for(const r of e.options)t.WeightedVoteOption.encode(r,n.uint32(34).fork()).ldelim();return n},decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const s={proposalId:"0",voter:"",option:0,options:[]};for(;r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:s.proposalId=R(r.uint64());break;case 2:s.voter=r.string();break;case 3:s.option=r.int32();break;case 4:s.options.push(t.WeightedVoteOption.decode(r,r.uint32()));break;default:r.skipType(7&e)}}return s},fromJSON:e=>({proposalId:A(e.proposalId)?String(e.proposalId):"0",voter:A(e.voter)?String(e.voter):"",option:A(e.option)?h(e.option):0,options:Array.isArray(null==e?void 0:e.options)?e.options.map((e=>t.WeightedVoteOption.fromJSON(e))):[]}),toJSON(e){const n={};return void 0!==e.proposalId&&(n.proposalId=e.proposalId),void 0!==e.voter&&(n.voter=e.voter),void 0!==e.option&&(n.option=p(e.option)),e.options?n.options=e.options.map((e=>e?t.WeightedVoteOption.toJSON(e):void 0)):n.options=[],n},fromPartial(e){var n,r,i,o;const s={proposalId:"0",voter:"",option:0,options:[]};return s.proposalId=null!==(n=e.proposalId)&&void 0!==n?n:"0",s.voter=null!==(r=e.voter)&&void 0!==r?r:"",s.option=null!==(i=e.option)&&void 0!==i?i:0,s.options=(null===(o=e.options)||void 0===o?void 0:o.map((e=>t.WeightedVoteOption.fromPartial(e))))||[],s}},t.DepositParams={encode(e,t=o.default.Writer.create()){for(const n of e.minDeposit)a.Coin.encode(n,t.uint32(10).fork()).ldelim();return void 0!==e.maxDepositPeriod&&c.Duration.encode(e.maxDepositPeriod,t.uint32(18).fork()).ldelim(),t},decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={minDeposit:[],maxDepositPeriod:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.minDeposit.push(a.Coin.decode(n,n.uint32()));break;case 2:i.maxDepositPeriod=c.Duration.decode(n,n.uint32());break;default:n.skipType(7&e)}}return i},fromJSON:e=>({minDeposit:Array.isArray(null==e?void 0:e.minDeposit)?e.minDeposit.map((e=>a.Coin.fromJSON(e))):[],maxDepositPeriod:A(e.maxDepositPeriod)?c.Duration.fromJSON(e.maxDepositPeriod):void 0}),toJSON(e){const t={};return e.minDeposit?t.minDeposit=e.minDeposit.map((e=>e?a.Coin.toJSON(e):void 0)):t.minDeposit=[],void 0!==e.maxDepositPeriod&&(t.maxDepositPeriod=e.maxDepositPeriod?c.Duration.toJSON(e.maxDepositPeriod):void 0),t},fromPartial(e){var t;const n={minDeposit:[],maxDepositPeriod:void 0};return n.minDeposit=(null===(t=e.minDeposit)||void 0===t?void 0:t.map((e=>a.Coin.fromPartial(e))))||[],n.maxDepositPeriod=void 0!==e.maxDepositPeriod&&null!==e.maxDepositPeriod?c.Duration.fromPartial(e.maxDepositPeriod):void 0,n}},t.VotingParams={encode:(e,t=o.default.Writer.create())=>(void 0!==e.votingPeriod&&c.Duration.encode(e.votingPeriod,t.uint32(10).fork()).ldelim(),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={votingPeriod:void 0};for(;n.pos<r;){const e=n.uint32();e>>>3==1?i.votingPeriod=c.Duration.decode(n,n.uint32()):n.skipType(7&e)}return i},fromJSON:e=>({votingPeriod:A(e.votingPeriod)?c.Duration.fromJSON(e.votingPeriod):void 0}),toJSON(e){const t={};return void 0!==e.votingPeriod&&(t.votingPeriod=e.votingPeriod?c.Duration.toJSON(e.votingPeriod):void 0),t},fromPartial(e){const t={votingPeriod:void 0};return t.votingPeriod=void 0!==e.votingPeriod&&null!==e.votingPeriod?c.Duration.fromPartial(e.votingPeriod):void 0,t}},t.TallyParams={encode:(e,t=o.default.Writer.create())=>(0!==e.quorum.length&&t.uint32(10).bytes(e.quorum),0!==e.threshold.length&&t.uint32(18).bytes(e.threshold),0!==e.vetoThreshold.length&&t.uint32(26).bytes(e.vetoThreshold),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=v();for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.quorum=n.bytes();break;case 2:i.threshold=n.bytes();break;case 3:i.vetoThreshold=n.bytes();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({quorum:A(e.quorum)?b(e.quorum):new Uint8Array,threshold:A(e.threshold)?b(e.threshold):new Uint8Array,vetoThreshold:A(e.vetoThreshold)?b(e.vetoThreshold):new Uint8Array}),toJSON(e){const t={};return void 0!==e.quorum&&(t.quorum=w(void 0!==e.quorum?e.quorum:new Uint8Array)),void 0!==e.threshold&&(t.threshold=w(void 0!==e.threshold?e.threshold:new Uint8Array)),void 0!==e.vetoThreshold&&(t.vetoThreshold=w(void 0!==e.vetoThreshold?e.vetoThreshold:new Uint8Array)),t},fromPartial(e){var t,n,r;const i=v();return i.quorum=null!==(t=e.quorum)&&void 0!==t?t:new Uint8Array,i.threshold=null!==(n=e.threshold)&&void 0!==n?n:new Uint8Array,i.vetoThreshold=null!==(r=e.vetoThreshold)&&void 0!==r?r:new Uint8Array,i}};var m=(()=>{if(void 0!==m)return m;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw"Unable to locate global object"})();const y=m.atob||(e=>m.Buffer.from(e,"base64").toString("binary"));function b(e){const t=y(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n[e]=t.charCodeAt(e);return n}const S=m.btoa||(e=>m.Buffer.from(e,"binary").toString("base64"));function w(e){const t=[];for(const n of e)t.push(String.fromCharCode(n));return S(t.join(""))}function I(e){return{seconds:Math.trunc(e.getTime()/1e3).toString(),nanos:e.getTime()%1e3*1e6}}function k(e){let t=1e3*Number(e.seconds);return t+=e.nanos/1e6,new Date(t)}function O(e){return e instanceof Date?e:"string"==typeof e?new Date(e):k(s.Timestamp.fromJSON(e))}function R(e){return e.toString()}function A(e){return null!=e}o.default.util.Long!==i.default&&(o.default.util.Long=i.default,o.default.configure())},63759:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MsgDepositResponse=t.MsgDeposit=t.MsgVoteWeightedResponse=t.MsgVoteWeighted=t.MsgVoteResponse=t.MsgVote=t.MsgSubmitProposalResponse=t.MsgSubmitProposal=t.protobufPackage=void 0;const i=r(n(27808)),o=r(n(73737)),s=n(12579),a=n(20165),d=n(58113);function c(e){return e.toString()}function u(e){return null!=e}t.protobufPackage="cosmos.gov.v1beta1",t.MsgSubmitProposal={encode(e,t=o.default.Writer.create()){void 0!==e.content&&a.Any.encode(e.content,t.uint32(10).fork()).ldelim();for(const n of e.initialDeposit)d.Coin.encode(n,t.uint32(18).fork()).ldelim();return""!==e.proposer&&t.uint32(26).string(e.proposer),t},decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={content:void 0,initialDeposit:[],proposer:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.content=a.Any.decode(n,n.uint32());break;case 2:i.initialDeposit.push(d.Coin.decode(n,n.uint32()));break;case 3:i.proposer=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({content:u(e.content)?a.Any.fromJSON(e.content):void 0,initialDeposit:Array.isArray(null==e?void 0:e.initialDeposit)?e.initialDeposit.map((e=>d.Coin.fromJSON(e))):[],proposer:u(e.proposer)?String(e.proposer):""}),toJSON(e){const t={};return void 0!==e.content&&(t.content=e.content?a.Any.toJSON(e.content):void 0),e.initialDeposit?t.initialDeposit=e.initialDeposit.map((e=>e?d.Coin.toJSON(e):void 0)):t.initialDeposit=[],void 0!==e.proposer&&(t.proposer=e.proposer),t},fromPartial(e){var t,n;const r={content:void 0,initialDeposit:[],proposer:""};return r.content=void 0!==e.content&&null!==e.content?a.Any.fromPartial(e.content):void 0,r.initialDeposit=(null===(t=e.initialDeposit)||void 0===t?void 0:t.map((e=>d.Coin.fromPartial(e))))||[],r.proposer=null!==(n=e.proposer)&&void 0!==n?n:"",r}},t.MsgSubmitProposalResponse={encode:(e,t=o.default.Writer.create())=>("0"!==e.proposalId&&t.uint32(8).uint64(e.proposalId),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={proposalId:"0"};for(;n.pos<r;){const e=n.uint32();e>>>3==1?i.proposalId=c(n.uint64()):n.skipType(7&e)}return i},fromJSON:e=>({proposalId:u(e.proposalId)?String(e.proposalId):"0"}),toJSON(e){const t={};return void 0!==e.proposalId&&(t.proposalId=e.proposalId),t},fromPartial(e){var t;const n={proposalId:"0"};return n.proposalId=null!==(t=e.proposalId)&&void 0!==t?t:"0",n}},t.MsgVote={encode:(e,t=o.default.Writer.create())=>("0"!==e.proposalId&&t.uint32(8).uint64(e.proposalId),""!==e.voter&&t.uint32(18).string(e.voter),0!==e.option&&t.uint32(24).int32(e.option),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={proposalId:"0",voter:"",option:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.proposalId=c(n.uint64());break;case 2:i.voter=n.string();break;case 3:i.option=n.int32();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({proposalId:u(e.proposalId)?String(e.proposalId):"0",voter:u(e.voter)?String(e.voter):"",option:u(e.option)?(0,s.voteOptionFromJSON)(e.option):0}),toJSON(e){const t={};return void 0!==e.proposalId&&(t.proposalId=e.proposalId),void 0!==e.voter&&(t.voter=e.voter),void 0!==e.option&&(t.option=(0,s.voteOptionToJSON)(e.option)),t},fromPartial(e){var t,n,r;const i={proposalId:"0",voter:"",option:0};return i.proposalId=null!==(t=e.proposalId)&&void 0!==t?t:"0",i.voter=null!==(n=e.voter)&&void 0!==n?n:"",i.option=null!==(r=e.option)&&void 0!==r?r:0,i}},t.MsgVoteResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},t.MsgVoteWeighted={encode(e,t=o.default.Writer.create()){"0"!==e.proposalId&&t.uint32(8).uint64(e.proposalId),""!==e.voter&&t.uint32(18).string(e.voter);for(const n of e.options)s.WeightedVoteOption.encode(n,t.uint32(26).fork()).ldelim();return t},decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={proposalId:"0",voter:"",options:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.proposalId=c(n.uint64());break;case 2:i.voter=n.string();break;case 3:i.options.push(s.WeightedVoteOption.decode(n,n.uint32()));break;default:n.skipType(7&e)}}return i},fromJSON:e=>({proposalId:u(e.proposalId)?String(e.proposalId):"0",voter:u(e.voter)?String(e.voter):"",options:Array.isArray(null==e?void 0:e.options)?e.options.map((e=>s.WeightedVoteOption.fromJSON(e))):[]}),toJSON(e){const t={};return void 0!==e.proposalId&&(t.proposalId=e.proposalId),void 0!==e.voter&&(t.voter=e.voter),e.options?t.options=e.options.map((e=>e?s.WeightedVoteOption.toJSON(e):void 0)):t.options=[],t},fromPartial(e){var t,n,r;const i={proposalId:"0",voter:"",options:[]};return i.proposalId=null!==(t=e.proposalId)&&void 0!==t?t:"0",i.voter=null!==(n=e.voter)&&void 0!==n?n:"",i.options=(null===(r=e.options)||void 0===r?void 0:r.map((e=>s.WeightedVoteOption.fromPartial(e))))||[],i}},t.MsgVoteWeightedResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},t.MsgDeposit={encode(e,t=o.default.Writer.create()){"0"!==e.proposalId&&t.uint32(8).uint64(e.proposalId),""!==e.depositor&&t.uint32(18).string(e.depositor);for(const n of e.amount)d.Coin.encode(n,t.uint32(26).fork()).ldelim();return t},decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={proposalId:"0",depositor:"",amount:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.proposalId=c(n.uint64());break;case 2:i.depositor=n.string();break;case 3:i.amount.push(d.Coin.decode(n,n.uint32()));break;default:n.skipType(7&e)}}return i},fromJSON:e=>({proposalId:u(e.proposalId)?String(e.proposalId):"0",depositor:u(e.depositor)?String(e.depositor):"",amount:Array.isArray(null==e?void 0:e.amount)?e.amount.map((e=>d.Coin.fromJSON(e))):[]}),toJSON(e){const t={};return void 0!==e.proposalId&&(t.proposalId=e.proposalId),void 0!==e.depositor&&(t.depositor=e.depositor),e.amount?t.amount=e.amount.map((e=>e?d.Coin.toJSON(e):void 0)):t.amount=[],t},fromPartial(e){var t,n,r;const i={proposalId:"0",depositor:"",amount:[]};return i.proposalId=null!==(t=e.proposalId)&&void 0!==t?t:"0",i.depositor=null!==(n=e.depositor)&&void 0!==n?n:"",i.amount=(null===(r=e.amount)||void 0===r?void 0:r.map((e=>d.Coin.fromPartial(e))))||[],i}},t.MsgDepositResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},o.default.util.Long!==i.default&&(o.default.util.Long=i.default,o.default.configure())},99325:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.StakeAuthorization_Validators=t.StakeAuthorization=t.authorizationTypeToJSON=t.authorizationTypeFromJSON=t.AuthorizationType=t.protobufPackage=void 0;const i=r(n(27808)),o=r(n(73737)),s=n(58113);var a;function d(e){switch(e){case 0:case"AUTHORIZATION_TYPE_UNSPECIFIED":return a.AUTHORIZATION_TYPE_UNSPECIFIED;case 1:case"AUTHORIZATION_TYPE_DELEGATE":return a.AUTHORIZATION_TYPE_DELEGATE;case 2:case"AUTHORIZATION_TYPE_UNDELEGATE":return a.AUTHORIZATION_TYPE_UNDELEGATE;case 3:case"AUTHORIZATION_TYPE_REDELEGATE":return a.AUTHORIZATION_TYPE_REDELEGATE;default:return a.UNRECOGNIZED}}function c(e){switch(e){case a.AUTHORIZATION_TYPE_UNSPECIFIED:return"AUTHORIZATION_TYPE_UNSPECIFIED";case a.AUTHORIZATION_TYPE_DELEGATE:return"AUTHORIZATION_TYPE_DELEGATE";case a.AUTHORIZATION_TYPE_UNDELEGATE:return"AUTHORIZATION_TYPE_UNDELEGATE";case a.AUTHORIZATION_TYPE_REDELEGATE:return"AUTHORIZATION_TYPE_REDELEGATE";default:return"UNKNOWN"}}function u(e){return null!=e}t.protobufPackage="cosmos.staking.v1beta1",function(e){e[e.AUTHORIZATION_TYPE_UNSPECIFIED=0]="AUTHORIZATION_TYPE_UNSPECIFIED",e[e.AUTHORIZATION_TYPE_DELEGATE=1]="AUTHORIZATION_TYPE_DELEGATE",e[e.AUTHORIZATION_TYPE_UNDELEGATE=2]="AUTHORIZATION_TYPE_UNDELEGATE",e[e.AUTHORIZATION_TYPE_REDELEGATE=3]="AUTHORIZATION_TYPE_REDELEGATE",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(a=t.AuthorizationType||(t.AuthorizationType={})),t.authorizationTypeFromJSON=d,t.authorizationTypeToJSON=c,t.StakeAuthorization={encode:(e,n=o.default.Writer.create())=>(void 0!==e.maxTokens&&s.Coin.encode(e.maxTokens,n.uint32(10).fork()).ldelim(),void 0!==e.allowList&&t.StakeAuthorization_Validators.encode(e.allowList,n.uint32(18).fork()).ldelim(),void 0!==e.denyList&&t.StakeAuthorization_Validators.encode(e.denyList,n.uint32(26).fork()).ldelim(),0!==e.authorizationType&&n.uint32(32).int32(e.authorizationType),n),decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const a={maxTokens:void 0,allowList:void 0,denyList:void 0,authorizationType:0};for(;r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:a.maxTokens=s.Coin.decode(r,r.uint32());break;case 2:a.allowList=t.StakeAuthorization_Validators.decode(r,r.uint32());break;case 3:a.denyList=t.StakeAuthorization_Validators.decode(r,r.uint32());break;case 4:a.authorizationType=r.int32();break;default:r.skipType(7&e)}}return a},fromJSON:e=>({maxTokens:u(e.maxTokens)?s.Coin.fromJSON(e.maxTokens):void 0,allowList:u(e.allowList)?t.StakeAuthorization_Validators.fromJSON(e.allowList):void 0,denyList:u(e.denyList)?t.StakeAuthorization_Validators.fromJSON(e.denyList):void 0,authorizationType:u(e.authorizationType)?d(e.authorizationType):0}),toJSON(e){const n={};return void 0!==e.maxTokens&&(n.maxTokens=e.maxTokens?s.Coin.toJSON(e.maxTokens):void 0),void 0!==e.allowList&&(n.allowList=e.allowList?t.StakeAuthorization_Validators.toJSON(e.allowList):void 0),void 0!==e.denyList&&(n.denyList=e.denyList?t.StakeAuthorization_Validators.toJSON(e.denyList):void 0),void 0!==e.authorizationType&&(n.authorizationType=c(e.authorizationType)),n},fromPartial(e){var n;const r={maxTokens:void 0,allowList:void 0,denyList:void 0,authorizationType:0};return r.maxTokens=void 0!==e.maxTokens&&null!==e.maxTokens?s.Coin.fromPartial(e.maxTokens):void 0,r.allowList=void 0!==e.allowList&&null!==e.allowList?t.StakeAuthorization_Validators.fromPartial(e.allowList):void 0,r.denyList=void 0!==e.denyList&&null!==e.denyList?t.StakeAuthorization_Validators.fromPartial(e.denyList):void 0,r.authorizationType=null!==(n=e.authorizationType)&&void 0!==n?n:0,r}},t.StakeAuthorization_Validators={encode(e,t=o.default.Writer.create()){for(const n of e.address)t.uint32(10).string(n);return t},decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={address:[]};for(;n.pos<r;){const e=n.uint32();e>>>3==1?i.address.push(n.string()):n.skipType(7&e)}return i},fromJSON:e=>({address:Array.isArray(null==e?void 0:e.address)?e.address.map((e=>String(e))):[]}),toJSON(e){const t={};return e.address?t.address=e.address.map((e=>e)):t.address=[],t},fromPartial(e){var t;const n={address:[]};return n.address=(null===(t=e.address)||void 0===t?void 0:t.map((e=>e)))||[],n}},o.default.util.Long!==i.default&&(o.default.util.Long=i.default,o.default.configure())},64766:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Pool=t.RedelegationResponse=t.RedelegationEntryResponse=t.DelegationResponse=t.Params=t.Redelegation=t.RedelegationEntry=t.UnbondingDelegationEntry=t.UnbondingDelegation=t.Delegation=t.DVVTriplets=t.DVVTriplet=t.DVPairs=t.DVPair=t.ValAddresses=t.Validator=t.Description=t.Commission=t.CommissionRates=t.HistoricalInfo=t.bondStatusToJSON=t.bondStatusFromJSON=t.BondStatus=t.protobufPackage=void 0;const i=r(n(27808)),o=r(n(73737)),s=n(52811),a=n(4199),d=n(20165),c=n(59660),u=n(58113);var l;function h(e){switch(e){case 0:case"BOND_STATUS_UNSPECIFIED":return l.BOND_STATUS_UNSPECIFIED;case 1:case"BOND_STATUS_UNBONDED":return l.BOND_STATUS_UNBONDED;case 2:case"BOND_STATUS_UNBONDING":return l.BOND_STATUS_UNBONDING;case 3:case"BOND_STATUS_BONDED":return l.BOND_STATUS_BONDED;default:return l.UNRECOGNIZED}}function p(e){switch(e){case l.BOND_STATUS_UNSPECIFIED:return"BOND_STATUS_UNSPECIFIED";case l.BOND_STATUS_UNBONDED:return"BOND_STATUS_UNBONDED";case l.BOND_STATUS_UNBONDING:return"BOND_STATUS_UNBONDING";case l.BOND_STATUS_BONDED:return"BOND_STATUS_BONDED";default:return"UNKNOWN"}}function f(e){return{seconds:Math.trunc(e.getTime()/1e3).toString(),nanos:e.getTime()%1e3*1e6}}function g(e){let t=1e3*Number(e.seconds);return t+=e.nanos/1e6,new Date(t)}function v(e){return e instanceof Date?e:"string"==typeof e?new Date(e):g(s.Timestamp.fromJSON(e))}function m(e){return e.toString()}function y(e){return null!=e}t.protobufPackage="cosmos.staking.v1beta1",function(e){e[e.BOND_STATUS_UNSPECIFIED=0]="BOND_STATUS_UNSPECIFIED",e[e.BOND_STATUS_UNBONDED=1]="BOND_STATUS_UNBONDED",e[e.BOND_STATUS_UNBONDING=2]="BOND_STATUS_UNBONDING",e[e.BOND_STATUS_BONDED=3]="BOND_STATUS_BONDED",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(l=t.BondStatus||(t.BondStatus={})),t.bondStatusFromJSON=h,t.bondStatusToJSON=p,t.HistoricalInfo={encode(e,n=o.default.Writer.create()){void 0!==e.header&&a.Header.encode(e.header,n.uint32(10).fork()).ldelim();for(const r of e.valset)t.Validator.encode(r,n.uint32(18).fork()).ldelim();return n},decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const s={header:void 0,valset:[]};for(;r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:s.header=a.Header.decode(r,r.uint32());break;case 2:s.valset.push(t.Validator.decode(r,r.uint32()));break;default:r.skipType(7&e)}}return s},fromJSON:e=>({header:y(e.header)?a.Header.fromJSON(e.header):void 0,valset:Array.isArray(null==e?void 0:e.valset)?e.valset.map((e=>t.Validator.fromJSON(e))):[]}),toJSON(e){const n={};return void 0!==e.header&&(n.header=e.header?a.Header.toJSON(e.header):void 0),e.valset?n.valset=e.valset.map((e=>e?t.Validator.toJSON(e):void 0)):n.valset=[],n},fromPartial(e){var n;const r={header:void 0,valset:[]};return r.header=void 0!==e.header&&null!==e.header?a.Header.fromPartial(e.header):void 0,r.valset=(null===(n=e.valset)||void 0===n?void 0:n.map((e=>t.Validator.fromPartial(e))))||[],r}},t.CommissionRates={encode:(e,t=o.default.Writer.create())=>(""!==e.rate&&t.uint32(10).string(e.rate),""!==e.maxRate&&t.uint32(18).string(e.maxRate),""!==e.maxChangeRate&&t.uint32(26).string(e.maxChangeRate),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={rate:"",maxRate:"",maxChangeRate:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.rate=n.string();break;case 2:i.maxRate=n.string();break;case 3:i.maxChangeRate=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({rate:y(e.rate)?String(e.rate):"",maxRate:y(e.maxRate)?String(e.maxRate):"",maxChangeRate:y(e.maxChangeRate)?String(e.maxChangeRate):""}),toJSON(e){const t={};return void 0!==e.rate&&(t.rate=e.rate),void 0!==e.maxRate&&(t.maxRate=e.maxRate),void 0!==e.maxChangeRate&&(t.maxChangeRate=e.maxChangeRate),t},fromPartial(e){var t,n,r;const i={rate:"",maxRate:"",maxChangeRate:""};return i.rate=null!==(t=e.rate)&&void 0!==t?t:"",i.maxRate=null!==(n=e.maxRate)&&void 0!==n?n:"",i.maxChangeRate=null!==(r=e.maxChangeRate)&&void 0!==r?r:"",i}},t.Commission={encode:(e,n=o.default.Writer.create())=>(void 0!==e.commissionRates&&t.CommissionRates.encode(e.commissionRates,n.uint32(10).fork()).ldelim(),void 0!==e.updateTime&&s.Timestamp.encode(f(e.updateTime),n.uint32(18).fork()).ldelim(),n),decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const a={commissionRates:void 0,updateTime:void 0};for(;r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:a.commissionRates=t.CommissionRates.decode(r,r.uint32());break;case 2:a.updateTime=g(s.Timestamp.decode(r,r.uint32()));break;default:r.skipType(7&e)}}return a},fromJSON:e=>({commissionRates:y(e.commissionRates)?t.CommissionRates.fromJSON(e.commissionRates):void 0,updateTime:y(e.updateTime)?v(e.updateTime):void 0}),toJSON(e){const n={};return void 0!==e.commissionRates&&(n.commissionRates=e.commissionRates?t.CommissionRates.toJSON(e.commissionRates):void 0),void 0!==e.updateTime&&(n.updateTime=e.updateTime.toISOString()),n},fromPartial(e){var n;const r={commissionRates:void 0,updateTime:void 0};return r.commissionRates=void 0!==e.commissionRates&&null!==e.commissionRates?t.CommissionRates.fromPartial(e.commissionRates):void 0,r.updateTime=null!==(n=e.updateTime)&&void 0!==n?n:void 0,r}},t.Description={encode:(e,t=o.default.Writer.create())=>(""!==e.moniker&&t.uint32(10).string(e.moniker),""!==e.identity&&t.uint32(18).string(e.identity),""!==e.website&&t.uint32(26).string(e.website),""!==e.securityContact&&t.uint32(34).string(e.securityContact),""!==e.details&&t.uint32(42).string(e.details),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={moniker:"",identity:"",website:"",securityContact:"",details:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.moniker=n.string();break;case 2:i.identity=n.string();break;case 3:i.website=n.string();break;case 4:i.securityContact=n.string();break;case 5:i.details=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({moniker:y(e.moniker)?String(e.moniker):"",identity:y(e.identity)?String(e.identity):"",website:y(e.website)?String(e.website):"",securityContact:y(e.securityContact)?String(e.securityContact):"",details:y(e.details)?String(e.details):""}),toJSON(e){const t={};return void 0!==e.moniker&&(t.moniker=e.moniker),void 0!==e.identity&&(t.identity=e.identity),void 0!==e.website&&(t.website=e.website),void 0!==e.securityContact&&(t.securityContact=e.securityContact),void 0!==e.details&&(t.details=e.details),t},fromPartial(e){var t,n,r,i,o;const s={moniker:"",identity:"",website:"",securityContact:"",details:""};return s.moniker=null!==(t=e.moniker)&&void 0!==t?t:"",s.identity=null!==(n=e.identity)&&void 0!==n?n:"",s.website=null!==(r=e.website)&&void 0!==r?r:"",s.securityContact=null!==(i=e.securityContact)&&void 0!==i?i:"",s.details=null!==(o=e.details)&&void 0!==o?o:"",s}},t.Validator={encode:(e,n=o.default.Writer.create())=>(""!==e.operatorAddress&&n.uint32(10).string(e.operatorAddress),void 0!==e.consensusPubkey&&d.Any.encode(e.consensusPubkey,n.uint32(18).fork()).ldelim(),!0===e.jailed&&n.uint32(24).bool(e.jailed),0!==e.status&&n.uint32(32).int32(e.status),""!==e.tokens&&n.uint32(42).string(e.tokens),""!==e.delegatorShares&&n.uint32(50).string(e.delegatorShares),void 0!==e.description&&t.Description.encode(e.description,n.uint32(58).fork()).ldelim(),"0"!==e.unbondingHeight&&n.uint32(64).int64(e.unbondingHeight),void 0!==e.unbondingTime&&s.Timestamp.encode(f(e.unbondingTime),n.uint32(74).fork()).ldelim(),void 0!==e.commission&&t.Commission.encode(e.commission,n.uint32(82).fork()).ldelim(),""!==e.minSelfDelegation&&n.uint32(90).string(e.minSelfDelegation),n),decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const a={operatorAddress:"",consensusPubkey:void 0,jailed:!1,status:0,tokens:"",delegatorShares:"",description:void 0,unbondingHeight:"0",unbondingTime:void 0,commission:void 0,minSelfDelegation:""};for(;r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:a.operatorAddress=r.string();break;case 2:a.consensusPubkey=d.Any.decode(r,r.uint32());break;case 3:a.jailed=r.bool();break;case 4:a.status=r.int32();break;case 5:a.tokens=r.string();break;case 6:a.delegatorShares=r.string();break;case 7:a.description=t.Description.decode(r,r.uint32());break;case 8:a.unbondingHeight=m(r.int64());break;case 9:a.unbondingTime=g(s.Timestamp.decode(r,r.uint32()));break;case 10:a.commission=t.Commission.decode(r,r.uint32());break;case 11:a.minSelfDelegation=r.string();break;default:r.skipType(7&e)}}return a},fromJSON:e=>({operatorAddress:y(e.operatorAddress)?String(e.operatorAddress):"",consensusPubkey:y(e.consensusPubkey)?d.Any.fromJSON(e.consensusPubkey):void 0,jailed:!!y(e.jailed)&&Boolean(e.jailed),status:y(e.status)?h(e.status):0,tokens:y(e.tokens)?String(e.tokens):"",delegatorShares:y(e.delegatorShares)?String(e.delegatorShares):"",description:y(e.description)?t.Description.fromJSON(e.description):void 0,unbondingHeight:y(e.unbondingHeight)?String(e.unbondingHeight):"0",unbondingTime:y(e.unbondingTime)?v(e.unbondingTime):void 0,commission:y(e.commission)?t.Commission.fromJSON(e.commission):void 0,minSelfDelegation:y(e.minSelfDelegation)?String(e.minSelfDelegation):""}),toJSON(e){const n={};return void 0!==e.operatorAddress&&(n.operatorAddress=e.operatorAddress),void 0!==e.consensusPubkey&&(n.consensusPubkey=e.consensusPubkey?d.Any.toJSON(e.consensusPubkey):void 0),void 0!==e.jailed&&(n.jailed=e.jailed),void 0!==e.status&&(n.status=p(e.status)),void 0!==e.tokens&&(n.tokens=e.tokens),void 0!==e.delegatorShares&&(n.delegatorShares=e.delegatorShares),void 0!==e.description&&(n.description=e.description?t.Description.toJSON(e.description):void 0),void 0!==e.unbondingHeight&&(n.unbondingHeight=e.unbondingHeight),void 0!==e.unbondingTime&&(n.unbondingTime=e.unbondingTime.toISOString()),void 0!==e.commission&&(n.commission=e.commission?t.Commission.toJSON(e.commission):void 0),void 0!==e.minSelfDelegation&&(n.minSelfDelegation=e.minSelfDelegation),n},fromPartial(e){var n,r,i,o,s,a,c,u;const l={operatorAddress:"",consensusPubkey:void 0,jailed:!1,status:0,tokens:"",delegatorShares:"",description:void 0,unbondingHeight:"0",unbondingTime:void 0,commission:void 0,minSelfDelegation:""};return l.operatorAddress=null!==(n=e.operatorAddress)&&void 0!==n?n:"",l.consensusPubkey=void 0!==e.consensusPubkey&&null!==e.consensusPubkey?d.Any.fromPartial(e.consensusPubkey):void 0,l.jailed=null!==(r=e.jailed)&&void 0!==r&&r,l.status=null!==(i=e.status)&&void 0!==i?i:0,l.tokens=null!==(o=e.tokens)&&void 0!==o?o:"",l.delegatorShares=null!==(s=e.delegatorShares)&&void 0!==s?s:"",l.description=void 0!==e.description&&null!==e.description?t.Description.fromPartial(e.description):void 0,l.unbondingHeight=null!==(a=e.unbondingHeight)&&void 0!==a?a:"0",l.unbondingTime=null!==(c=e.unbondingTime)&&void 0!==c?c:void 0,l.commission=void 0!==e.commission&&null!==e.commission?t.Commission.fromPartial(e.commission):void 0,l.minSelfDelegation=null!==(u=e.minSelfDelegation)&&void 0!==u?u:"",l}},t.ValAddresses={encode(e,t=o.default.Writer.create()){for(const n of e.addresses)t.uint32(10).string(n);return t},decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={addresses:[]};for(;n.pos<r;){const e=n.uint32();e>>>3==1?i.addresses.push(n.string()):n.skipType(7&e)}return i},fromJSON:e=>({addresses:Array.isArray(null==e?void 0:e.addresses)?e.addresses.map((e=>String(e))):[]}),toJSON(e){const t={};return e.addresses?t.addresses=e.addresses.map((e=>e)):t.addresses=[],t},fromPartial(e){var t;const n={addresses:[]};return n.addresses=(null===(t=e.addresses)||void 0===t?void 0:t.map((e=>e)))||[],n}},t.DVPair={encode:(e,t=o.default.Writer.create())=>(""!==e.delegatorAddress&&t.uint32(10).string(e.delegatorAddress),""!==e.validatorAddress&&t.uint32(18).string(e.validatorAddress),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={delegatorAddress:"",validatorAddress:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.delegatorAddress=n.string();break;case 2:i.validatorAddress=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({delegatorAddress:y(e.delegatorAddress)?String(e.delegatorAddress):"",validatorAddress:y(e.validatorAddress)?String(e.validatorAddress):""}),toJSON(e){const t={};return void 0!==e.delegatorAddress&&(t.delegatorAddress=e.delegatorAddress),void 0!==e.validatorAddress&&(t.validatorAddress=e.validatorAddress),t},fromPartial(e){var t,n;const r={delegatorAddress:"",validatorAddress:""};return r.delegatorAddress=null!==(t=e.delegatorAddress)&&void 0!==t?t:"",r.validatorAddress=null!==(n=e.validatorAddress)&&void 0!==n?n:"",r}},t.DVPairs={encode(e,n=o.default.Writer.create()){for(const r of e.pairs)t.DVPair.encode(r,n.uint32(10).fork()).ldelim();return n},decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const s={pairs:[]};for(;r.pos<i;){const e=r.uint32();e>>>3==1?s.pairs.push(t.DVPair.decode(r,r.uint32())):r.skipType(7&e)}return s},fromJSON:e=>({pairs:Array.isArray(null==e?void 0:e.pairs)?e.pairs.map((e=>t.DVPair.fromJSON(e))):[]}),toJSON(e){const n={};return e.pairs?n.pairs=e.pairs.map((e=>e?t.DVPair.toJSON(e):void 0)):n.pairs=[],n},fromPartial(e){var n;const r={pairs:[]};return r.pairs=(null===(n=e.pairs)||void 0===n?void 0:n.map((e=>t.DVPair.fromPartial(e))))||[],r}},t.DVVTriplet={encode:(e,t=o.default.Writer.create())=>(""!==e.delegatorAddress&&t.uint32(10).string(e.delegatorAddress),""!==e.validatorSrcAddress&&t.uint32(18).string(e.validatorSrcAddress),""!==e.validatorDstAddress&&t.uint32(26).string(e.validatorDstAddress),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={delegatorAddress:"",validatorSrcAddress:"",validatorDstAddress:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.delegatorAddress=n.string();break;case 2:i.validatorSrcAddress=n.string();break;case 3:i.validatorDstAddress=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({delegatorAddress:y(e.delegatorAddress)?String(e.delegatorAddress):"",validatorSrcAddress:y(e.validatorSrcAddress)?String(e.validatorSrcAddress):"",validatorDstAddress:y(e.validatorDstAddress)?String(e.validatorDstAddress):""}),toJSON(e){const t={};return void 0!==e.delegatorAddress&&(t.delegatorAddress=e.delegatorAddress),void 0!==e.validatorSrcAddress&&(t.validatorSrcAddress=e.validatorSrcAddress),void 0!==e.validatorDstAddress&&(t.validatorDstAddress=e.validatorDstAddress),t},fromPartial(e){var t,n,r;const i={delegatorAddress:"",validatorSrcAddress:"",validatorDstAddress:""};return i.delegatorAddress=null!==(t=e.delegatorAddress)&&void 0!==t?t:"",i.validatorSrcAddress=null!==(n=e.validatorSrcAddress)&&void 0!==n?n:"",i.validatorDstAddress=null!==(r=e.validatorDstAddress)&&void 0!==r?r:"",i}},t.DVVTriplets={encode(e,n=o.default.Writer.create()){for(const r of e.triplets)t.DVVTriplet.encode(r,n.uint32(10).fork()).ldelim();return n},decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const s={triplets:[]};for(;r.pos<i;){const e=r.uint32();e>>>3==1?s.triplets.push(t.DVVTriplet.decode(r,r.uint32())):r.skipType(7&e)}return s},fromJSON:e=>({triplets:Array.isArray(null==e?void 0:e.triplets)?e.triplets.map((e=>t.DVVTriplet.fromJSON(e))):[]}),toJSON(e){const n={};return e.triplets?n.triplets=e.triplets.map((e=>e?t.DVVTriplet.toJSON(e):void 0)):n.triplets=[],n},fromPartial(e){var n;const r={triplets:[]};return r.triplets=(null===(n=e.triplets)||void 0===n?void 0:n.map((e=>t.DVVTriplet.fromPartial(e))))||[],r}},t.Delegation={encode:(e,t=o.default.Writer.create())=>(""!==e.delegatorAddress&&t.uint32(10).string(e.delegatorAddress),""!==e.validatorAddress&&t.uint32(18).string(e.validatorAddress),""!==e.shares&&t.uint32(26).string(e.shares),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={delegatorAddress:"",validatorAddress:"",shares:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.delegatorAddress=n.string();break;case 2:i.validatorAddress=n.string();break;case 3:i.shares=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({delegatorAddress:y(e.delegatorAddress)?String(e.delegatorAddress):"",validatorAddress:y(e.validatorAddress)?String(e.validatorAddress):"",shares:y(e.shares)?String(e.shares):""}),toJSON(e){const t={};return void 0!==e.delegatorAddress&&(t.delegatorAddress=e.delegatorAddress),void 0!==e.validatorAddress&&(t.validatorAddress=e.validatorAddress),void 0!==e.shares&&(t.shares=e.shares),t},fromPartial(e){var t,n,r;const i={delegatorAddress:"",validatorAddress:"",shares:""};return i.delegatorAddress=null!==(t=e.delegatorAddress)&&void 0!==t?t:"",i.validatorAddress=null!==(n=e.validatorAddress)&&void 0!==n?n:"",i.shares=null!==(r=e.shares)&&void 0!==r?r:"",i}},t.UnbondingDelegation={encode(e,n=o.default.Writer.create()){""!==e.delegatorAddress&&n.uint32(10).string(e.delegatorAddress),""!==e.validatorAddress&&n.uint32(18).string(e.validatorAddress);for(const r of e.entries)t.UnbondingDelegationEntry.encode(r,n.uint32(26).fork()).ldelim();return n},decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const s={delegatorAddress:"",validatorAddress:"",entries:[]};for(;r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:s.delegatorAddress=r.string();break;case 2:s.validatorAddress=r.string();break;case 3:s.entries.push(t.UnbondingDelegationEntry.decode(r,r.uint32()));break;default:r.skipType(7&e)}}return s},fromJSON:e=>({delegatorAddress:y(e.delegatorAddress)?String(e.delegatorAddress):"",validatorAddress:y(e.validatorAddress)?String(e.validatorAddress):"",entries:Array.isArray(null==e?void 0:e.entries)?e.entries.map((e=>t.UnbondingDelegationEntry.fromJSON(e))):[]}),toJSON(e){const n={};return void 0!==e.delegatorAddress&&(n.delegatorAddress=e.delegatorAddress),void 0!==e.validatorAddress&&(n.validatorAddress=e.validatorAddress),e.entries?n.entries=e.entries.map((e=>e?t.UnbondingDelegationEntry.toJSON(e):void 0)):n.entries=[],n},fromPartial(e){var n,r,i;const o={delegatorAddress:"",validatorAddress:"",entries:[]};return o.delegatorAddress=null!==(n=e.delegatorAddress)&&void 0!==n?n:"",o.validatorAddress=null!==(r=e.validatorAddress)&&void 0!==r?r:"",o.entries=(null===(i=e.entries)||void 0===i?void 0:i.map((e=>t.UnbondingDelegationEntry.fromPartial(e))))||[],o}},t.UnbondingDelegationEntry={encode:(e,t=o.default.Writer.create())=>("0"!==e.creationHeight&&t.uint32(8).int64(e.creationHeight),void 0!==e.completionTime&&s.Timestamp.encode(f(e.completionTime),t.uint32(18).fork()).ldelim(),""!==e.initialBalance&&t.uint32(26).string(e.initialBalance),""!==e.balance&&t.uint32(34).string(e.balance),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={creationHeight:"0",completionTime:void 0,initialBalance:"",balance:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.creationHeight=m(n.int64());break;case 2:i.completionTime=g(s.Timestamp.decode(n,n.uint32()));break;case 3:i.initialBalance=n.string();break;case 4:i.balance=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({creationHeight:y(e.creationHeight)?String(e.creationHeight):"0",completionTime:y(e.completionTime)?v(e.completionTime):void 0,initialBalance:y(e.initialBalance)?String(e.initialBalance):"",balance:y(e.balance)?String(e.balance):""}),toJSON(e){const t={};return void 0!==e.creationHeight&&(t.creationHeight=e.creationHeight),void 0!==e.completionTime&&(t.completionTime=e.completionTime.toISOString()),void 0!==e.initialBalance&&(t.initialBalance=e.initialBalance),void 0!==e.balance&&(t.balance=e.balance),t},fromPartial(e){var t,n,r,i;const o={creationHeight:"0",completionTime:void 0,initialBalance:"",balance:""};return o.creationHeight=null!==(t=e.creationHeight)&&void 0!==t?t:"0",o.completionTime=null!==(n=e.completionTime)&&void 0!==n?n:void 0,o.initialBalance=null!==(r=e.initialBalance)&&void 0!==r?r:"",o.balance=null!==(i=e.balance)&&void 0!==i?i:"",o}},t.RedelegationEntry={encode:(e,t=o.default.Writer.create())=>("0"!==e.creationHeight&&t.uint32(8).int64(e.creationHeight),void 0!==e.completionTime&&s.Timestamp.encode(f(e.completionTime),t.uint32(18).fork()).ldelim(),""!==e.initialBalance&&t.uint32(26).string(e.initialBalance),""!==e.sharesDst&&t.uint32(34).string(e.sharesDst),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={creationHeight:"0",completionTime:void 0,initialBalance:"",sharesDst:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.creationHeight=m(n.int64());break;case 2:i.completionTime=g(s.Timestamp.decode(n,n.uint32()));break;case 3:i.initialBalance=n.string();break;case 4:i.sharesDst=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({creationHeight:y(e.creationHeight)?String(e.creationHeight):"0",completionTime:y(e.completionTime)?v(e.completionTime):void 0,initialBalance:y(e.initialBalance)?String(e.initialBalance):"",sharesDst:y(e.sharesDst)?String(e.sharesDst):""}),toJSON(e){const t={};return void 0!==e.creationHeight&&(t.creationHeight=e.creationHeight),void 0!==e.completionTime&&(t.completionTime=e.completionTime.toISOString()),void 0!==e.initialBalance&&(t.initialBalance=e.initialBalance),void 0!==e.sharesDst&&(t.sharesDst=e.sharesDst),t},fromPartial(e){var t,n,r,i;const o={creationHeight:"0",completionTime:void 0,initialBalance:"",sharesDst:""};return o.creationHeight=null!==(t=e.creationHeight)&&void 0!==t?t:"0",o.completionTime=null!==(n=e.completionTime)&&void 0!==n?n:void 0,o.initialBalance=null!==(r=e.initialBalance)&&void 0!==r?r:"",o.sharesDst=null!==(i=e.sharesDst)&&void 0!==i?i:"",o}},t.Redelegation={encode(e,n=o.default.Writer.create()){""!==e.delegatorAddress&&n.uint32(10).string(e.delegatorAddress),""!==e.validatorSrcAddress&&n.uint32(18).string(e.validatorSrcAddress),""!==e.validatorDstAddress&&n.uint32(26).string(e.validatorDstAddress);for(const r of e.entries)t.RedelegationEntry.encode(r,n.uint32(34).fork()).ldelim();return n},decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const s={delegatorAddress:"",validatorSrcAddress:"",validatorDstAddress:"",entries:[]};for(;r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:s.delegatorAddress=r.string();break;case 2:s.validatorSrcAddress=r.string();break;case 3:s.validatorDstAddress=r.string();break;case 4:s.entries.push(t.RedelegationEntry.decode(r,r.uint32()));break;default:r.skipType(7&e)}}return s},fromJSON:e=>({delegatorAddress:y(e.delegatorAddress)?String(e.delegatorAddress):"",validatorSrcAddress:y(e.validatorSrcAddress)?String(e.validatorSrcAddress):"",validatorDstAddress:y(e.validatorDstAddress)?String(e.validatorDstAddress):"",entries:Array.isArray(null==e?void 0:e.entries)?e.entries.map((e=>t.RedelegationEntry.fromJSON(e))):[]}),toJSON(e){const n={};return void 0!==e.delegatorAddress&&(n.delegatorAddress=e.delegatorAddress),void 0!==e.validatorSrcAddress&&(n.validatorSrcAddress=e.validatorSrcAddress),void 0!==e.validatorDstAddress&&(n.validatorDstAddress=e.validatorDstAddress),e.entries?n.entries=e.entries.map((e=>e?t.RedelegationEntry.toJSON(e):void 0)):n.entries=[],n},fromPartial(e){var n,r,i,o;const s={delegatorAddress:"",validatorSrcAddress:"",validatorDstAddress:"",entries:[]};return s.delegatorAddress=null!==(n=e.delegatorAddress)&&void 0!==n?n:"",s.validatorSrcAddress=null!==(r=e.validatorSrcAddress)&&void 0!==r?r:"",s.validatorDstAddress=null!==(i=e.validatorDstAddress)&&void 0!==i?i:"",s.entries=(null===(o=e.entries)||void 0===o?void 0:o.map((e=>t.RedelegationEntry.fromPartial(e))))||[],s}},t.Params={encode:(e,t=o.default.Writer.create())=>(void 0!==e.unbondingTime&&c.Duration.encode(e.unbondingTime,t.uint32(10).fork()).ldelim(),0!==e.maxValidators&&t.uint32(16).uint32(e.maxValidators),0!==e.maxEntries&&t.uint32(24).uint32(e.maxEntries),0!==e.historicalEntries&&t.uint32(32).uint32(e.historicalEntries),""!==e.bondDenom&&t.uint32(42).string(e.bondDenom),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={unbondingTime:void 0,maxValidators:0,maxEntries:0,historicalEntries:0,bondDenom:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.unbondingTime=c.Duration.decode(n,n.uint32());break;case 2:i.maxValidators=n.uint32();break;case 3:i.maxEntries=n.uint32();break;case 4:i.historicalEntries=n.uint32();break;case 5:i.bondDenom=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({unbondingTime:y(e.unbondingTime)?c.Duration.fromJSON(e.unbondingTime):void 0,maxValidators:y(e.maxValidators)?Number(e.maxValidators):0,maxEntries:y(e.maxEntries)?Number(e.maxEntries):0,historicalEntries:y(e.historicalEntries)?Number(e.historicalEntries):0,bondDenom:y(e.bondDenom)?String(e.bondDenom):""}),toJSON(e){const t={};return void 0!==e.unbondingTime&&(t.unbondingTime=e.unbondingTime?c.Duration.toJSON(e.unbondingTime):void 0),void 0!==e.maxValidators&&(t.maxValidators=Math.round(e.maxValidators)),void 0!==e.maxEntries&&(t.maxEntries=Math.round(e.maxEntries)),void 0!==e.historicalEntries&&(t.historicalEntries=Math.round(e.historicalEntries)),void 0!==e.bondDenom&&(t.bondDenom=e.bondDenom),t},fromPartial(e){var t,n,r,i;const o={unbondingTime:void 0,maxValidators:0,maxEntries:0,historicalEntries:0,bondDenom:""};return o.unbondingTime=void 0!==e.unbondingTime&&null!==e.unbondingTime?c.Duration.fromPartial(e.unbondingTime):void 0,o.maxValidators=null!==(t=e.maxValidators)&&void 0!==t?t:0,o.maxEntries=null!==(n=e.maxEntries)&&void 0!==n?n:0,o.historicalEntries=null!==(r=e.historicalEntries)&&void 0!==r?r:0,o.bondDenom=null!==(i=e.bondDenom)&&void 0!==i?i:"",o}},t.DelegationResponse={encode:(e,n=o.default.Writer.create())=>(void 0!==e.delegation&&t.Delegation.encode(e.delegation,n.uint32(10).fork()).ldelim(),void 0!==e.balance&&u.Coin.encode(e.balance,n.uint32(18).fork()).ldelim(),n),decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const s={delegation:void 0,balance:void 0};for(;r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:s.delegation=t.Delegation.decode(r,r.uint32());break;case 2:s.balance=u.Coin.decode(r,r.uint32());break;default:r.skipType(7&e)}}return s},fromJSON:e=>({delegation:y(e.delegation)?t.Delegation.fromJSON(e.delegation):void 0,balance:y(e.balance)?u.Coin.fromJSON(e.balance):void 0}),toJSON(e){const n={};return void 0!==e.delegation&&(n.delegation=e.delegation?t.Delegation.toJSON(e.delegation):void 0),void 0!==e.balance&&(n.balance=e.balance?u.Coin.toJSON(e.balance):void 0),n},fromPartial(e){const n={delegation:void 0,balance:void 0};return n.delegation=void 0!==e.delegation&&null!==e.delegation?t.Delegation.fromPartial(e.delegation):void 0,n.balance=void 0!==e.balance&&null!==e.balance?u.Coin.fromPartial(e.balance):void 0,n}},t.RedelegationEntryResponse={encode:(e,n=o.default.Writer.create())=>(void 0!==e.redelegationEntry&&t.RedelegationEntry.encode(e.redelegationEntry,n.uint32(10).fork()).ldelim(),""!==e.balance&&n.uint32(34).string(e.balance),n),decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const s={redelegationEntry:void 0,balance:""};for(;r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:s.redelegationEntry=t.RedelegationEntry.decode(r,r.uint32());break;case 4:s.balance=r.string();break;default:r.skipType(7&e)}}return s},fromJSON:e=>({redelegationEntry:y(e.redelegationEntry)?t.RedelegationEntry.fromJSON(e.redelegationEntry):void 0,balance:y(e.balance)?String(e.balance):""}),toJSON(e){const n={};return void 0!==e.redelegationEntry&&(n.redelegationEntry=e.redelegationEntry?t.RedelegationEntry.toJSON(e.redelegationEntry):void 0),void 0!==e.balance&&(n.balance=e.balance),n},fromPartial(e){var n;const r={redelegationEntry:void 0,balance:""};return r.redelegationEntry=void 0!==e.redelegationEntry&&null!==e.redelegationEntry?t.RedelegationEntry.fromPartial(e.redelegationEntry):void 0,r.balance=null!==(n=e.balance)&&void 0!==n?n:"",r}},t.RedelegationResponse={encode(e,n=o.default.Writer.create()){void 0!==e.redelegation&&t.Redelegation.encode(e.redelegation,n.uint32(10).fork()).ldelim();for(const r of e.entries)t.RedelegationEntryResponse.encode(r,n.uint32(18).fork()).ldelim();return n},decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const s={redelegation:void 0,entries:[]};for(;r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:s.redelegation=t.Redelegation.decode(r,r.uint32());break;case 2:s.entries.push(t.RedelegationEntryResponse.decode(r,r.uint32()));break;default:r.skipType(7&e)}}return s},fromJSON:e=>({redelegation:y(e.redelegation)?t.Redelegation.fromJSON(e.redelegation):void 0,entries:Array.isArray(null==e?void 0:e.entries)?e.entries.map((e=>t.RedelegationEntryResponse.fromJSON(e))):[]}),toJSON(e){const n={};return void 0!==e.redelegation&&(n.redelegation=e.redelegation?t.Redelegation.toJSON(e.redelegation):void 0),e.entries?n.entries=e.entries.map((e=>e?t.RedelegationEntryResponse.toJSON(e):void 0)):n.entries=[],n},fromPartial(e){var n;const r={redelegation:void 0,entries:[]};return r.redelegation=void 0!==e.redelegation&&null!==e.redelegation?t.Redelegation.fromPartial(e.redelegation):void 0,r.entries=(null===(n=e.entries)||void 0===n?void 0:n.map((e=>t.RedelegationEntryResponse.fromPartial(e))))||[],r}},t.Pool={encode:(e,t=o.default.Writer.create())=>(""!==e.notBondedTokens&&t.uint32(10).string(e.notBondedTokens),""!==e.bondedTokens&&t.uint32(18).string(e.bondedTokens),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={notBondedTokens:"",bondedTokens:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.notBondedTokens=n.string();break;case 2:i.bondedTokens=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({notBondedTokens:y(e.notBondedTokens)?String(e.notBondedTokens):"",bondedTokens:y(e.bondedTokens)?String(e.bondedTokens):""}),toJSON(e){const t={};return void 0!==e.notBondedTokens&&(t.notBondedTokens=e.notBondedTokens),void 0!==e.bondedTokens&&(t.bondedTokens=e.bondedTokens),t},fromPartial(e){var t,n;const r={notBondedTokens:"",bondedTokens:""};return r.notBondedTokens=null!==(t=e.notBondedTokens)&&void 0!==t?t:"",r.bondedTokens=null!==(n=e.bondedTokens)&&void 0!==n?n:"",r}},o.default.util.Long!==i.default&&(o.default.util.Long=i.default,o.default.configure())},18436:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MsgValidatorBondResponse=t.MsgValidatorBond=t.MsgEnableTokenizeSharesResponse=t.MsgEnableTokenizeShares=t.MsgDisableTokenizeSharesResponse=t.MsgDisableTokenizeShares=t.MsgTransferTokenizeShareRecordResponse=t.MsgTransferTokenizeShareRecord=t.MsgRedeemTokensForSharesResponse=t.MsgRedeemTokensForShares=t.MsgTokenizeSharesResponse=t.MsgTokenizeShares=t.MsgCancelUnbondingDelegationResponse=t.MsgCancelUnbondingDelegation=t.MsgUnbondValidatorResponse=t.MsgUnbondValidator=t.MsgUndelegateResponse=t.MsgUndelegate=t.MsgBeginRedelegateResponse=t.MsgBeginRedelegate=t.MsgDelegateResponse=t.MsgDelegate=t.MsgEditValidatorResponse=t.MsgEditValidator=t.MsgCreateValidatorResponse=t.MsgCreateValidator=t.protobufPackage=void 0;const i=r(n(27808)),o=r(n(73737)),s=n(52811),a=n(64766),d=n(20165),c=n(58113);function u(e){return{seconds:Math.trunc(e.getTime()/1e3).toString(),nanos:e.getTime()%1e3*1e6}}function l(e){let t=1e3*Number(e.seconds);return t+=e.nanos/1e6,new Date(t)}function h(e){return e instanceof Date?e:"string"==typeof e?new Date(e):l(s.Timestamp.fromJSON(e))}function p(e){return e.toString()}function f(e){return null!=e}t.protobufPackage="cosmos.staking.v1beta1",t.MsgCreateValidator={encode:(e,t=o.default.Writer.create())=>(void 0!==e.description&&a.Description.encode(e.description,t.uint32(10).fork()).ldelim(),void 0!==e.commission&&a.CommissionRates.encode(e.commission,t.uint32(18).fork()).ldelim(),""!==e.minSelfDelegation&&t.uint32(26).string(e.minSelfDelegation),""!==e.delegatorAddress&&t.uint32(34).string(e.delegatorAddress),""!==e.validatorAddress&&t.uint32(42).string(e.validatorAddress),void 0!==e.pubkey&&d.Any.encode(e.pubkey,t.uint32(50).fork()).ldelim(),void 0!==e.value&&c.Coin.encode(e.value,t.uint32(58).fork()).ldelim(),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={description:void 0,commission:void 0,minSelfDelegation:"",delegatorAddress:"",validatorAddress:"",pubkey:void 0,value:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.description=a.Description.decode(n,n.uint32());break;case 2:i.commission=a.CommissionRates.decode(n,n.uint32());break;case 3:i.minSelfDelegation=n.string();break;case 4:i.delegatorAddress=n.string();break;case 5:i.validatorAddress=n.string();break;case 6:i.pubkey=d.Any.decode(n,n.uint32());break;case 7:i.value=c.Coin.decode(n,n.uint32());break;default:n.skipType(7&e)}}return i},fromJSON:e=>({description:f(e.description)?a.Description.fromJSON(e.description):void 0,commission:f(e.commission)?a.CommissionRates.fromJSON(e.commission):void 0,minSelfDelegation:f(e.minSelfDelegation)?String(e.minSelfDelegation):"",delegatorAddress:f(e.delegatorAddress)?String(e.delegatorAddress):"",validatorAddress:f(e.validatorAddress)?String(e.validatorAddress):"",pubkey:f(e.pubkey)?d.Any.fromJSON(e.pubkey):void 0,value:f(e.value)?c.Coin.fromJSON(e.value):void 0}),toJSON(e){const t={};return void 0!==e.description&&(t.description=e.description?a.Description.toJSON(e.description):void 0),void 0!==e.commission&&(t.commission=e.commission?a.CommissionRates.toJSON(e.commission):void 0),void 0!==e.minSelfDelegation&&(t.minSelfDelegation=e.minSelfDelegation),void 0!==e.delegatorAddress&&(t.delegatorAddress=e.delegatorAddress),void 0!==e.validatorAddress&&(t.validatorAddress=e.validatorAddress),void 0!==e.pubkey&&(t.pubkey=e.pubkey?d.Any.toJSON(e.pubkey):void 0),void 0!==e.value&&(t.value=e.value?c.Coin.toJSON(e.value):void 0),t},fromPartial(e){var t,n,r;const i={description:void 0,commission:void 0,minSelfDelegation:"",delegatorAddress:"",validatorAddress:"",pubkey:void 0,value:void 0};return i.description=void 0!==e.description&&null!==e.description?a.Description.fromPartial(e.description):void 0,i.commission=void 0!==e.commission&&null!==e.commission?a.CommissionRates.fromPartial(e.commission):void 0,i.minSelfDelegation=null!==(t=e.minSelfDelegation)&&void 0!==t?t:"",i.delegatorAddress=null!==(n=e.delegatorAddress)&&void 0!==n?n:"",i.validatorAddress=null!==(r=e.validatorAddress)&&void 0!==r?r:"",i.pubkey=void 0!==e.pubkey&&null!==e.pubkey?d.Any.fromPartial(e.pubkey):void 0,i.value=void 0!==e.value&&null!==e.value?c.Coin.fromPartial(e.value):void 0,i}},t.MsgCreateValidatorResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},t.MsgEditValidator={encode:(e,t=o.default.Writer.create())=>(void 0!==e.description&&a.Description.encode(e.description,t.uint32(10).fork()).ldelim(),""!==e.validatorAddress&&t.uint32(18).string(e.validatorAddress),""!==e.commissionRate&&t.uint32(26).string(e.commissionRate),""!==e.minSelfDelegation&&t.uint32(34).string(e.minSelfDelegation),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={description:void 0,validatorAddress:"",commissionRate:"",minSelfDelegation:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.description=a.Description.decode(n,n.uint32());break;case 2:i.validatorAddress=n.string();break;case 3:i.commissionRate=n.string();break;case 4:i.minSelfDelegation=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({description:f(e.description)?a.Description.fromJSON(e.description):void 0,validatorAddress:f(e.validatorAddress)?String(e.validatorAddress):"",commissionRate:f(e.commissionRate)?String(e.commissionRate):"",minSelfDelegation:f(e.minSelfDelegation)?String(e.minSelfDelegation):""}),toJSON(e){const t={};return void 0!==e.description&&(t.description=e.description?a.Description.toJSON(e.description):void 0),void 0!==e.validatorAddress&&(t.validatorAddress=e.validatorAddress),void 0!==e.commissionRate&&(t.commissionRate=e.commissionRate),void 0!==e.minSelfDelegation&&(t.minSelfDelegation=e.minSelfDelegation),t},fromPartial(e){var t,n,r;const i={description:void 0,validatorAddress:"",commissionRate:"",minSelfDelegation:""};return i.description=void 0!==e.description&&null!==e.description?a.Description.fromPartial(e.description):void 0,i.validatorAddress=null!==(t=e.validatorAddress)&&void 0!==t?t:"",i.commissionRate=null!==(n=e.commissionRate)&&void 0!==n?n:"",i.minSelfDelegation=null!==(r=e.minSelfDelegation)&&void 0!==r?r:"",i}},t.MsgEditValidatorResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},t.MsgDelegate={encode:(e,t=o.default.Writer.create())=>(""!==e.delegatorAddress&&t.uint32(10).string(e.delegatorAddress),""!==e.validatorAddress&&t.uint32(18).string(e.validatorAddress),void 0!==e.amount&&c.Coin.encode(e.amount,t.uint32(26).fork()).ldelim(),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={delegatorAddress:"",validatorAddress:"",amount:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.delegatorAddress=n.string();break;case 2:i.validatorAddress=n.string();break;case 3:i.amount=c.Coin.decode(n,n.uint32());break;default:n.skipType(7&e)}}return i},fromJSON:e=>({delegatorAddress:f(e.delegatorAddress)?String(e.delegatorAddress):"",validatorAddress:f(e.validatorAddress)?String(e.validatorAddress):"",amount:f(e.amount)?c.Coin.fromJSON(e.amount):void 0}),toJSON(e){const t={};return void 0!==e.delegatorAddress&&(t.delegatorAddress=e.delegatorAddress),void 0!==e.validatorAddress&&(t.validatorAddress=e.validatorAddress),void 0!==e.amount&&(t.amount=e.amount?c.Coin.toJSON(e.amount):void 0),t},fromPartial(e){var t,n;const r={delegatorAddress:"",validatorAddress:"",amount:void 0};return r.delegatorAddress=null!==(t=e.delegatorAddress)&&void 0!==t?t:"",r.validatorAddress=null!==(n=e.validatorAddress)&&void 0!==n?n:"",r.amount=void 0!==e.amount&&null!==e.amount?c.Coin.fromPartial(e.amount):void 0,r}},t.MsgDelegateResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},t.MsgBeginRedelegate={encode:(e,t=o.default.Writer.create())=>(""!==e.delegatorAddress&&t.uint32(10).string(e.delegatorAddress),""!==e.validatorSrcAddress&&t.uint32(18).string(e.validatorSrcAddress),""!==e.validatorDstAddress&&t.uint32(26).string(e.validatorDstAddress),void 0!==e.amount&&c.Coin.encode(e.amount,t.uint32(34).fork()).ldelim(),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={delegatorAddress:"",validatorSrcAddress:"",validatorDstAddress:"",amount:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.delegatorAddress=n.string();break;case 2:i.validatorSrcAddress=n.string();break;case 3:i.validatorDstAddress=n.string();break;case 4:i.amount=c.Coin.decode(n,n.uint32());break;default:n.skipType(7&e)}}return i},fromJSON:e=>({delegatorAddress:f(e.delegatorAddress)?String(e.delegatorAddress):"",validatorSrcAddress:f(e.validatorSrcAddress)?String(e.validatorSrcAddress):"",validatorDstAddress:f(e.validatorDstAddress)?String(e.validatorDstAddress):"",amount:f(e.amount)?c.Coin.fromJSON(e.amount):void 0}),toJSON(e){const t={};return void 0!==e.delegatorAddress&&(t.delegatorAddress=e.delegatorAddress),void 0!==e.validatorSrcAddress&&(t.validatorSrcAddress=e.validatorSrcAddress),void 0!==e.validatorDstAddress&&(t.validatorDstAddress=e.validatorDstAddress),void 0!==e.amount&&(t.amount=e.amount?c.Coin.toJSON(e.amount):void 0),t},fromPartial(e){var t,n,r;const i={delegatorAddress:"",validatorSrcAddress:"",validatorDstAddress:"",amount:void 0};return i.delegatorAddress=null!==(t=e.delegatorAddress)&&void 0!==t?t:"",i.validatorSrcAddress=null!==(n=e.validatorSrcAddress)&&void 0!==n?n:"",i.validatorDstAddress=null!==(r=e.validatorDstAddress)&&void 0!==r?r:"",i.amount=void 0!==e.amount&&null!==e.amount?c.Coin.fromPartial(e.amount):void 0,i}},t.MsgBeginRedelegateResponse={encode:(e,t=o.default.Writer.create())=>(void 0!==e.completionTime&&s.Timestamp.encode(u(e.completionTime),t.uint32(10).fork()).ldelim(),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={completionTime:void 0};for(;n.pos<r;){const e=n.uint32();e>>>3==1?i.completionTime=l(s.Timestamp.decode(n,n.uint32())):n.skipType(7&e)}return i},fromJSON:e=>({completionTime:f(e.completionTime)?h(e.completionTime):void 0}),toJSON(e){const t={};return void 0!==e.completionTime&&(t.completionTime=e.completionTime.toISOString()),t},fromPartial(e){var t;const n={completionTime:void 0};return n.completionTime=null!==(t=e.completionTime)&&void 0!==t?t:void 0,n}},t.MsgUndelegate={encode:(e,t=o.default.Writer.create())=>(""!==e.delegatorAddress&&t.uint32(10).string(e.delegatorAddress),""!==e.validatorAddress&&t.uint32(18).string(e.validatorAddress),void 0!==e.amount&&c.Coin.encode(e.amount,t.uint32(26).fork()).ldelim(),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={delegatorAddress:"",validatorAddress:"",amount:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.delegatorAddress=n.string();break;case 2:i.validatorAddress=n.string();break;case 3:i.amount=c.Coin.decode(n,n.uint32());break;default:n.skipType(7&e)}}return i},fromJSON:e=>({delegatorAddress:f(e.delegatorAddress)?String(e.delegatorAddress):"",validatorAddress:f(e.validatorAddress)?String(e.validatorAddress):"",amount:f(e.amount)?c.Coin.fromJSON(e.amount):void 0}),toJSON(e){const t={};return void 0!==e.delegatorAddress&&(t.delegatorAddress=e.delegatorAddress),void 0!==e.validatorAddress&&(t.validatorAddress=e.validatorAddress),void 0!==e.amount&&(t.amount=e.amount?c.Coin.toJSON(e.amount):void 0),t},fromPartial(e){var t,n;const r={delegatorAddress:"",validatorAddress:"",amount:void 0};return r.delegatorAddress=null!==(t=e.delegatorAddress)&&void 0!==t?t:"",r.validatorAddress=null!==(n=e.validatorAddress)&&void 0!==n?n:"",r.amount=void 0!==e.amount&&null!==e.amount?c.Coin.fromPartial(e.amount):void 0,r}},t.MsgUndelegateResponse={encode:(e,t=o.default.Writer.create())=>(void 0!==e.completionTime&&s.Timestamp.encode(u(e.completionTime),t.uint32(10).fork()).ldelim(),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={completionTime:void 0};for(;n.pos<r;){const e=n.uint32();e>>>3==1?i.completionTime=l(s.Timestamp.decode(n,n.uint32())):n.skipType(7&e)}return i},fromJSON:e=>({completionTime:f(e.completionTime)?h(e.completionTime):void 0}),toJSON(e){const t={};return void 0!==e.completionTime&&(t.completionTime=e.completionTime.toISOString()),t},fromPartial(e){var t;const n={completionTime:void 0};return n.completionTime=null!==(t=e.completionTime)&&void 0!==t?t:void 0,n}},t.MsgUnbondValidator={encode:(e,t=o.default.Writer.create())=>(""!==e.validatorAddress&&t.uint32(10).string(e.validatorAddress),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={validatorAddress:""};for(;n.pos<r;){const e=n.uint32();e>>>3==1?i.validatorAddress=n.string():n.skipType(7&e)}return i},fromJSON:e=>({validatorAddress:f(e.validatorAddress)?String(e.validatorAddress):""}),toJSON(e){const t={};return void 0!==e.validatorAddress&&(t.validatorAddress=e.validatorAddress),t},fromPartial(e){var t;const n={validatorAddress:""};return n.validatorAddress=null!==(t=e.validatorAddress)&&void 0!==t?t:"",n}},t.MsgUnbondValidatorResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},t.MsgCancelUnbondingDelegation={encode:(e,t=o.default.Writer.create())=>(""!==e.delegatorAddress&&t.uint32(10).string(e.delegatorAddress),""!==e.validatorAddress&&t.uint32(18).string(e.validatorAddress),void 0!==e.amount&&c.Coin.encode(e.amount,t.uint32(26).fork()).ldelim(),"0"!==e.creationHeight&&t.uint32(32).int64(e.creationHeight),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={delegatorAddress:"",validatorAddress:"",amount:void 0,creationHeight:"0"};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.delegatorAddress=n.string();break;case 2:i.validatorAddress=n.string();break;case 3:i.amount=c.Coin.decode(n,n.uint32());break;case 4:i.creationHeight=p(n.int64());break;default:n.skipType(7&e)}}return i},fromJSON:e=>({delegatorAddress:f(e.delegatorAddress)?String(e.delegatorAddress):"",validatorAddress:f(e.validatorAddress)?String(e.validatorAddress):"",amount:f(e.amount)?c.Coin.fromJSON(e.amount):void 0,creationHeight:f(e.creationHeight)?String(e.creationHeight):"0"}),toJSON(e){const t={};return void 0!==e.delegatorAddress&&(t.delegatorAddress=e.delegatorAddress),void 0!==e.validatorAddress&&(t.validatorAddress=e.validatorAddress),void 0!==e.amount&&(t.amount=e.amount?c.Coin.toJSON(e.amount):void 0),void 0!==e.creationHeight&&(t.creationHeight=e.creationHeight),t},fromPartial(e){var t,n,r;const i={delegatorAddress:"",validatorAddress:"",amount:void 0,creationHeight:"0"};return i.delegatorAddress=null!==(t=e.delegatorAddress)&&void 0!==t?t:"",i.validatorAddress=null!==(n=e.validatorAddress)&&void 0!==n?n:"",i.amount=void 0!==e.amount&&null!==e.amount?c.Coin.fromPartial(e.amount):void 0,i.creationHeight=null!==(r=e.creationHeight)&&void 0!==r?r:"0",i}},t.MsgCancelUnbondingDelegationResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},t.MsgTokenizeShares={encode:(e,t=o.default.Writer.create())=>(""!==e.delegatorAddress&&t.uint32(10).string(e.delegatorAddress),""!==e.validatorAddress&&t.uint32(18).string(e.validatorAddress),void 0!==e.amount&&c.Coin.encode(e.amount,t.uint32(26).fork()).ldelim(),""!==e.tokenizedShareOwner&&t.uint32(34).string(e.tokenizedShareOwner),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={delegatorAddress:"",validatorAddress:"",amount:void 0,tokenizedShareOwner:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.delegatorAddress=n.string();break;case 2:i.validatorAddress=n.string();break;case 3:i.amount=c.Coin.decode(n,n.uint32());break;case 4:i.tokenizedShareOwner=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({delegatorAddress:f(e.delegatorAddress)?String(e.delegatorAddress):"",validatorAddress:f(e.validatorAddress)?String(e.validatorAddress):"",amount:f(e.amount)?c.Coin.fromJSON(e.amount):void 0,tokenizedShareOwner:f(e.tokenizedShareOwner)?String(e.tokenizedShareOwner):""}),toJSON(e){const t={};return void 0!==e.delegatorAddress&&(t.delegatorAddress=e.delegatorAddress),void 0!==e.validatorAddress&&(t.validatorAddress=e.validatorAddress),void 0!==e.amount&&(t.amount=e.amount?c.Coin.toJSON(e.amount):void 0),void 0!==e.tokenizedShareOwner&&(t.tokenizedShareOwner=e.tokenizedShareOwner),t},fromPartial(e){var t,n,r;const i={delegatorAddress:"",validatorAddress:"",amount:void 0,tokenizedShareOwner:""};return i.delegatorAddress=null!==(t=e.delegatorAddress)&&void 0!==t?t:"",i.validatorAddress=null!==(n=e.validatorAddress)&&void 0!==n?n:"",i.amount=void 0!==e.amount&&null!==e.amount?c.Coin.fromPartial(e.amount):void 0,i.tokenizedShareOwner=null!==(r=e.tokenizedShareOwner)&&void 0!==r?r:"",i}},t.MsgTokenizeSharesResponse={encode:(e,t=o.default.Writer.create())=>(void 0!==e.amount&&c.Coin.encode(e.amount,t.uint32(10).fork()).ldelim(),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={amount:void 0};for(;n.pos<r;){const e=n.uint32();e>>>3==1?i.amount=c.Coin.decode(n,n.uint32()):n.skipType(7&e)}return i},fromJSON:e=>({amount:f(e.amount)?c.Coin.fromJSON(e.amount):void 0}),toJSON(e){const t={};return void 0!==e.amount&&(t.amount=e.amount?c.Coin.toJSON(e.amount):void 0),t},fromPartial(e){const t={amount:void 0};return t.amount=void 0!==e.amount&&null!==e.amount?c.Coin.fromPartial(e.amount):void 0,t}},t.MsgRedeemTokensForShares={encode:(e,t=o.default.Writer.create())=>(""!==e.delegatorAddress&&t.uint32(10).string(e.delegatorAddress),void 0!==e.amount&&c.Coin.encode(e.amount,t.uint32(18).fork()).ldelim(),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={delegatorAddress:"",amount:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.delegatorAddress=n.string();break;case 2:i.amount=c.Coin.decode(n,n.uint32());break;default:n.skipType(7&e)}}return i},fromJSON:e=>({delegatorAddress:f(e.delegatorAddress)?String(e.delegatorAddress):"",amount:f(e.amount)?c.Coin.fromJSON(e.amount):void 0}),toJSON(e){const t={};return void 0!==e.delegatorAddress&&(t.delegatorAddress=e.delegatorAddress),void 0!==e.amount&&(t.amount=e.amount?c.Coin.toJSON(e.amount):void 0),t},fromPartial(e){var t;const n={delegatorAddress:"",amount:void 0};return n.delegatorAddress=null!==(t=e.delegatorAddress)&&void 0!==t?t:"",n.amount=void 0!==e.amount&&null!==e.amount?c.Coin.fromPartial(e.amount):void 0,n}},t.MsgRedeemTokensForSharesResponse={encode:(e,t=o.default.Writer.create())=>(void 0!==e.amount&&c.Coin.encode(e.amount,t.uint32(10).fork()).ldelim(),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={amount:void 0};for(;n.pos<r;){const e=n.uint32();e>>>3==1?i.amount=c.Coin.decode(n,n.uint32()):n.skipType(7&e)}return i},fromJSON:e=>({amount:f(e.amount)?c.Coin.fromJSON(e.amount):void 0}),toJSON(e){const t={};return void 0!==e.amount&&(t.amount=e.amount?c.Coin.toJSON(e.amount):void 0),t},fromPartial(e){const t={amount:void 0};return t.amount=void 0!==e.amount&&null!==e.amount?c.Coin.fromPartial(e.amount):void 0,t}},t.MsgTransferTokenizeShareRecord={encode:(e,t=o.default.Writer.create())=>("0"!==e.tokenizeShareRecordId&&t.uint32(8).uint64(e.tokenizeShareRecordId),""!==e.sender&&t.uint32(18).string(e.sender),""!==e.newOwner&&t.uint32(26).string(e.newOwner),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={tokenizeShareRecordId:"0",sender:"",newOwner:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.tokenizeShareRecordId=p(n.uint64());break;case 2:i.sender=n.string();break;case 3:i.newOwner=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({tokenizeShareRecordId:f(e.tokenizeShareRecordId)?String(e.tokenizeShareRecordId):"0",sender:f(e.sender)?String(e.sender):"",newOwner:f(e.newOwner)?String(e.newOwner):""}),toJSON(e){const t={};return void 0!==e.tokenizeShareRecordId&&(t.tokenizeShareRecordId=e.tokenizeShareRecordId),void 0!==e.sender&&(t.sender=e.sender),void 0!==e.newOwner&&(t.newOwner=e.newOwner),t},fromPartial(e){var t,n,r;const i={tokenizeShareRecordId:"0",sender:"",newOwner:""};return i.tokenizeShareRecordId=null!==(t=e.tokenizeShareRecordId)&&void 0!==t?t:"0",i.sender=null!==(n=e.sender)&&void 0!==n?n:"",i.newOwner=null!==(r=e.newOwner)&&void 0!==r?r:"",i}},t.MsgTransferTokenizeShareRecordResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},t.MsgDisableTokenizeShares={encode:(e,t=o.default.Writer.create())=>(""!==e.delegatorAddress&&t.uint32(10).string(e.delegatorAddress),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={delegatorAddress:""};for(;n.pos<r;){const e=n.uint32();e>>>3==1?i.delegatorAddress=n.string():n.skipType(7&e)}return i},fromJSON:e=>({delegatorAddress:f(e.delegatorAddress)?String(e.delegatorAddress):""}),toJSON(e){const t={};return void 0!==e.delegatorAddress&&(t.delegatorAddress=e.delegatorAddress),t},fromPartial(e){var t;const n={delegatorAddress:""};return n.delegatorAddress=null!==(t=e.delegatorAddress)&&void 0!==t?t:"",n}},t.MsgDisableTokenizeSharesResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},t.MsgEnableTokenizeShares={encode:(e,t=o.default.Writer.create())=>(""!==e.delegatorAddress&&t.uint32(10).string(e.delegatorAddress),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={delegatorAddress:""};for(;n.pos<r;){const e=n.uint32();e>>>3==1?i.delegatorAddress=n.string():n.skipType(7&e)}return i},fromJSON:e=>({delegatorAddress:f(e.delegatorAddress)?String(e.delegatorAddress):""}),toJSON(e){const t={};return void 0!==e.delegatorAddress&&(t.delegatorAddress=e.delegatorAddress),t},fromPartial(e){var t;const n={delegatorAddress:""};return n.delegatorAddress=null!==(t=e.delegatorAddress)&&void 0!==t?t:"",n}},t.MsgEnableTokenizeSharesResponse={encode:(e,t=o.default.Writer.create())=>(void 0!==e.completionTime&&s.Timestamp.encode(u(e.completionTime),t.uint32(10).fork()).ldelim(),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={completionTime:void 0};for(;n.pos<r;){const e=n.uint32();e>>>3==1?i.completionTime=l(s.Timestamp.decode(n,n.uint32())):n.skipType(7&e)}return i},fromJSON:e=>({completionTime:f(e.completionTime)?h(e.completionTime):void 0}),toJSON(e){const t={};return void 0!==e.completionTime&&(t.completionTime=e.completionTime.toISOString()),t},fromPartial(e){var t;const n={completionTime:void 0};return n.completionTime=null!==(t=e.completionTime)&&void 0!==t?t:void 0,n}},t.MsgValidatorBond={encode:(e,t=o.default.Writer.create())=>(""!==e.delegatorAddress&&t.uint32(10).string(e.delegatorAddress),""!==e.validatorAddress&&t.uint32(18).string(e.validatorAddress),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={delegatorAddress:"",validatorAddress:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.delegatorAddress=n.string();break;case 2:i.validatorAddress=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({delegatorAddress:f(e.delegatorAddress)?String(e.delegatorAddress):"",validatorAddress:f(e.validatorAddress)?String(e.validatorAddress):""}),toJSON(e){const t={};return void 0!==e.delegatorAddress&&(t.delegatorAddress=e.delegatorAddress),void 0!==e.validatorAddress&&(t.validatorAddress=e.validatorAddress),t},fromPartial(e){var t,n;const r={delegatorAddress:"",validatorAddress:""};return r.delegatorAddress=null!==(t=e.delegatorAddress)&&void 0!==t?t:"",r.validatorAddress=null!==(n=e.validatorAddress)&&void 0!==n?n:"",r}},t.MsgValidatorBondResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},o.default.util.Long!==i.default&&(o.default.util.Long=i.default,o.default.configure())},30899:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureDescriptor_Data_Multi=t.SignatureDescriptor_Data_Single=t.SignatureDescriptor_Data=t.SignatureDescriptor=t.SignatureDescriptors=t.signModeToJSON=t.signModeFromJSON=t.SignMode=t.protobufPackage=void 0;const i=r(n(27808)),o=r(n(73737)),s=n(20165),a=n(96205);var d;function c(e){switch(e){case 0:case"SIGN_MODE_UNSPECIFIED":return d.SIGN_MODE_UNSPECIFIED;case 1:case"SIGN_MODE_DIRECT":return d.SIGN_MODE_DIRECT;case 2:case"SIGN_MODE_TEXTUAL":return d.SIGN_MODE_TEXTUAL;case 3:case"SIGN_MODE_DIRECT_AUX":return d.SIGN_MODE_DIRECT_AUX;case 127:case"SIGN_MODE_LEGACY_AMINO_JSON":return d.SIGN_MODE_LEGACY_AMINO_JSON;case 191:case"SIGN_MODE_EIP_191":return d.SIGN_MODE_EIP_191;default:return d.UNRECOGNIZED}}function u(e){switch(e){case d.SIGN_MODE_UNSPECIFIED:return"SIGN_MODE_UNSPECIFIED";case d.SIGN_MODE_DIRECT:return"SIGN_MODE_DIRECT";case d.SIGN_MODE_TEXTUAL:return"SIGN_MODE_TEXTUAL";case d.SIGN_MODE_DIRECT_AUX:return"SIGN_MODE_DIRECT_AUX";case d.SIGN_MODE_LEGACY_AMINO_JSON:return"SIGN_MODE_LEGACY_AMINO_JSON";case d.SIGN_MODE_EIP_191:return"SIGN_MODE_EIP_191";default:return"UNKNOWN"}}function l(){return{mode:0,signature:new Uint8Array}}t.protobufPackage="cosmos.tx.signing.v1beta1",function(e){e[e.SIGN_MODE_UNSPECIFIED=0]="SIGN_MODE_UNSPECIFIED",e[e.SIGN_MODE_DIRECT=1]="SIGN_MODE_DIRECT",e[e.SIGN_MODE_TEXTUAL=2]="SIGN_MODE_TEXTUAL",e[e.SIGN_MODE_DIRECT_AUX=3]="SIGN_MODE_DIRECT_AUX",e[e.SIGN_MODE_LEGACY_AMINO_JSON=127]="SIGN_MODE_LEGACY_AMINO_JSON",e[e.SIGN_MODE_EIP_191=191]="SIGN_MODE_EIP_191",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(d=t.SignMode||(t.SignMode={})),t.signModeFromJSON=c,t.signModeToJSON=u,t.SignatureDescriptors={encode(e,n=o.default.Writer.create()){for(const r of e.signatures)t.SignatureDescriptor.encode(r,n.uint32(10).fork()).ldelim();return n},decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const s={signatures:[]};for(;r.pos<i;){const e=r.uint32();e>>>3==1?s.signatures.push(t.SignatureDescriptor.decode(r,r.uint32())):r.skipType(7&e)}return s},fromJSON:e=>({signatures:Array.isArray(null==e?void 0:e.signatures)?e.signatures.map((e=>t.SignatureDescriptor.fromJSON(e))):[]}),toJSON(e){const n={};return e.signatures?n.signatures=e.signatures.map((e=>e?t.SignatureDescriptor.toJSON(e):void 0)):n.signatures=[],n},fromPartial(e){var n;const r={signatures:[]};return r.signatures=(null===(n=e.signatures)||void 0===n?void 0:n.map((e=>t.SignatureDescriptor.fromPartial(e))))||[],r}},t.SignatureDescriptor={encode:(e,n=o.default.Writer.create())=>(void 0!==e.publicKey&&s.Any.encode(e.publicKey,n.uint32(10).fork()).ldelim(),void 0!==e.data&&t.SignatureDescriptor_Data.encode(e.data,n.uint32(18).fork()).ldelim(),"0"!==e.sequence&&n.uint32(24).uint64(e.sequence),n),decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const a={publicKey:void 0,data:void 0,sequence:"0"};for(;r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:a.publicKey=s.Any.decode(r,r.uint32());break;case 2:a.data=t.SignatureDescriptor_Data.decode(r,r.uint32());break;case 3:a.sequence=r.uint64().toString();break;default:r.skipType(7&e)}}return a},fromJSON:e=>({publicKey:v(e.publicKey)?s.Any.fromJSON(e.publicKey):void 0,data:v(e.data)?t.SignatureDescriptor_Data.fromJSON(e.data):void 0,sequence:v(e.sequence)?String(e.sequence):"0"}),toJSON(e){const n={};return void 0!==e.publicKey&&(n.publicKey=e.publicKey?s.Any.toJSON(e.publicKey):void 0),void 0!==e.data&&(n.data=e.data?t.SignatureDescriptor_Data.toJSON(e.data):void 0),void 0!==e.sequence&&(n.sequence=e.sequence),n},fromPartial(e){var n;const r={publicKey:void 0,data:void 0,sequence:"0"};return r.publicKey=void 0!==e.publicKey&&null!==e.publicKey?s.Any.fromPartial(e.publicKey):void 0,r.data=void 0!==e.data&&null!==e.data?t.SignatureDescriptor_Data.fromPartial(e.data):void 0,r.sequence=null!==(n=e.sequence)&&void 0!==n?n:"0",r}},t.SignatureDescriptor_Data={encode:(e,n=o.default.Writer.create())=>(void 0!==e.single&&t.SignatureDescriptor_Data_Single.encode(e.single,n.uint32(10).fork()).ldelim(),void 0!==e.multi&&t.SignatureDescriptor_Data_Multi.encode(e.multi,n.uint32(18).fork()).ldelim(),n),decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const s={single:void 0,multi:void 0};for(;r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:s.single=t.SignatureDescriptor_Data_Single.decode(r,r.uint32());break;case 2:s.multi=t.SignatureDescriptor_Data_Multi.decode(r,r.uint32());break;default:r.skipType(7&e)}}return s},fromJSON:e=>({single:v(e.single)?t.SignatureDescriptor_Data_Single.fromJSON(e.single):void 0,multi:v(e.multi)?t.SignatureDescriptor_Data_Multi.fromJSON(e.multi):void 0}),toJSON(e){const n={};return void 0!==e.single&&(n.single=e.single?t.SignatureDescriptor_Data_Single.toJSON(e.single):void 0),void 0!==e.multi&&(n.multi=e.multi?t.SignatureDescriptor_Data_Multi.toJSON(e.multi):void 0),n},fromPartial(e){const n={single:void 0,multi:void 0};return n.single=void 0!==e.single&&null!==e.single?t.SignatureDescriptor_Data_Single.fromPartial(e.single):void 0,n.multi=void 0!==e.multi&&null!==e.multi?t.SignatureDescriptor_Data_Multi.fromPartial(e.multi):void 0,n}},t.SignatureDescriptor_Data_Single={encode:(e,t=o.default.Writer.create())=>(0!==e.mode&&t.uint32(8).int32(e.mode),0!==e.signature.length&&t.uint32(18).bytes(e.signature),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=l();for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.mode=n.int32();break;case 2:i.signature=n.bytes();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({mode:v(e.mode)?c(e.mode):0,signature:v(e.signature)?f(e.signature):new Uint8Array}),toJSON(e){const t={};return void 0!==e.mode&&(t.mode=u(e.mode)),void 0!==e.signature&&(t.signature=function(e){const t=[];for(const n of e)t.push(String.fromCharCode(n));return g(t.join(""))}(void 0!==e.signature?e.signature:new Uint8Array)),t},fromPartial(e){var t,n;const r=l();return r.mode=null!==(t=e.mode)&&void 0!==t?t:0,r.signature=null!==(n=e.signature)&&void 0!==n?n:new Uint8Array,r}},t.SignatureDescriptor_Data_Multi={encode(e,n=o.default.Writer.create()){void 0!==e.bitarray&&a.CompactBitArray.encode(e.bitarray,n.uint32(10).fork()).ldelim();for(const r of e.signatures)t.SignatureDescriptor_Data.encode(r,n.uint32(18).fork()).ldelim();return n},decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const s={bitarray:void 0,signatures:[]};for(;r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:s.bitarray=a.CompactBitArray.decode(r,r.uint32());break;case 2:s.signatures.push(t.SignatureDescriptor_Data.decode(r,r.uint32()));break;default:r.skipType(7&e)}}return s},fromJSON:e=>({bitarray:v(e.bitarray)?a.CompactBitArray.fromJSON(e.bitarray):void 0,signatures:Array.isArray(null==e?void 0:e.signatures)?e.signatures.map((e=>t.SignatureDescriptor_Data.fromJSON(e))):[]}),toJSON(e){const n={};return void 0!==e.bitarray&&(n.bitarray=e.bitarray?a.CompactBitArray.toJSON(e.bitarray):void 0),e.signatures?n.signatures=e.signatures.map((e=>e?t.SignatureDescriptor_Data.toJSON(e):void 0)):n.signatures=[],n},fromPartial(e){var n;const r={bitarray:void 0,signatures:[]};return r.bitarray=void 0!==e.bitarray&&null!==e.bitarray?a.CompactBitArray.fromPartial(e.bitarray):void 0,r.signatures=(null===(n=e.signatures)||void 0===n?void 0:n.map((e=>t.SignatureDescriptor_Data.fromPartial(e))))||[],r}};var h=(()=>{if(void 0!==h)return h;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw"Unable to locate global object"})();const p=h.atob||(e=>h.Buffer.from(e,"base64").toString("binary"));function f(e){const t=p(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n[e]=t.charCodeAt(e);return n}const g=h.btoa||(e=>h.Buffer.from(e,"binary").toString("base64"));function v(e){return null!=e}o.default.util.Long!==i.default&&(o.default.util.Long=i.default,o.default.configure())},3542:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AuxSignerData=t.Fee=t.ModeInfo_Multi=t.ModeInfo_Single=t.ModeInfo=t.SignerInfo=t.AuthInfo=t.TxBody=t.SignDocDirectAux=t.SignDoc=t.TxRaw=t.Tx=t.protobufPackage=void 0;const i=r(n(27808)),o=r(n(73737)),s=n(30899),a=n(20165),d=n(96205),c=n(58113);function u(){return{bodyBytes:new Uint8Array,authInfoBytes:new Uint8Array,signatures:[]}}function l(){return{bodyBytes:new Uint8Array,authInfoBytes:new Uint8Array,chainId:"",accountNumber:"0"}}function h(){return{bodyBytes:new Uint8Array,publicKey:void 0,chainId:"",accountNumber:"0",sequence:"0"}}function p(){return{address:"",signDoc:void 0,mode:0,sig:new Uint8Array}}t.protobufPackage="cosmos.tx.v1beta1",t.Tx={encode(e,n=o.default.Writer.create()){void 0!==e.body&&t.TxBody.encode(e.body,n.uint32(10).fork()).ldelim(),void 0!==e.authInfo&&t.AuthInfo.encode(e.authInfo,n.uint32(18).fork()).ldelim();for(const t of e.signatures)n.uint32(26).bytes(t);return n},decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const s={body:void 0,authInfo:void 0,signatures:[]};for(;r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:s.body=t.TxBody.decode(r,r.uint32());break;case 2:s.authInfo=t.AuthInfo.decode(r,r.uint32());break;case 3:s.signatures.push(r.bytes());break;default:r.skipType(7&e)}}return s},fromJSON:e=>({body:S(e.body)?t.TxBody.fromJSON(e.body):void 0,authInfo:S(e.authInfo)?t.AuthInfo.fromJSON(e.authInfo):void 0,signatures:Array.isArray(null==e?void 0:e.signatures)?e.signatures.map((e=>v(e))):[]}),toJSON(e){const n={};return void 0!==e.body&&(n.body=e.body?t.TxBody.toJSON(e.body):void 0),void 0!==e.authInfo&&(n.authInfo=e.authInfo?t.AuthInfo.toJSON(e.authInfo):void 0),e.signatures?n.signatures=e.signatures.map((e=>y(void 0!==e?e:new Uint8Array))):n.signatures=[],n},fromPartial(e){var n;const r={body:void 0,authInfo:void 0,signatures:[]};return r.body=void 0!==e.body&&null!==e.body?t.TxBody.fromPartial(e.body):void 0,r.authInfo=void 0!==e.authInfo&&null!==e.authInfo?t.AuthInfo.fromPartial(e.authInfo):void 0,r.signatures=(null===(n=e.signatures)||void 0===n?void 0:n.map((e=>e)))||[],r}},t.TxRaw={encode(e,t=o.default.Writer.create()){0!==e.bodyBytes.length&&t.uint32(10).bytes(e.bodyBytes),0!==e.authInfoBytes.length&&t.uint32(18).bytes(e.authInfoBytes);for(const n of e.signatures)t.uint32(26).bytes(n);return t},decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=u();for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.bodyBytes=n.bytes();break;case 2:i.authInfoBytes=n.bytes();break;case 3:i.signatures.push(n.bytes());break;default:n.skipType(7&e)}}return i},fromJSON:e=>({bodyBytes:S(e.bodyBytes)?v(e.bodyBytes):new Uint8Array,authInfoBytes:S(e.authInfoBytes)?v(e.authInfoBytes):new Uint8Array,signatures:Array.isArray(null==e?void 0:e.signatures)?e.signatures.map((e=>v(e))):[]}),toJSON(e){const t={};return void 0!==e.bodyBytes&&(t.bodyBytes=y(void 0!==e.bodyBytes?e.bodyBytes:new Uint8Array)),void 0!==e.authInfoBytes&&(t.authInfoBytes=y(void 0!==e.authInfoBytes?e.authInfoBytes:new Uint8Array)),e.signatures?t.signatures=e.signatures.map((e=>y(void 0!==e?e:new Uint8Array))):t.signatures=[],t},fromPartial(e){var t,n,r;const i=u();return i.bodyBytes=null!==(t=e.bodyBytes)&&void 0!==t?t:new Uint8Array,i.authInfoBytes=null!==(n=e.authInfoBytes)&&void 0!==n?n:new Uint8Array,i.signatures=(null===(r=e.signatures)||void 0===r?void 0:r.map((e=>e)))||[],i}},t.SignDoc={encode:(e,t=o.default.Writer.create())=>(0!==e.bodyBytes.length&&t.uint32(10).bytes(e.bodyBytes),0!==e.authInfoBytes.length&&t.uint32(18).bytes(e.authInfoBytes),""!==e.chainId&&t.uint32(26).string(e.chainId),"0"!==e.accountNumber&&t.uint32(32).uint64(e.accountNumber),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=l();for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.bodyBytes=n.bytes();break;case 2:i.authInfoBytes=n.bytes();break;case 3:i.chainId=n.string();break;case 4:i.accountNumber=b(n.uint64());break;default:n.skipType(7&e)}}return i},fromJSON:e=>({bodyBytes:S(e.bodyBytes)?v(e.bodyBytes):new Uint8Array,authInfoBytes:S(e.authInfoBytes)?v(e.authInfoBytes):new Uint8Array,chainId:S(e.chainId)?String(e.chainId):"",accountNumber:S(e.accountNumber)?String(e.accountNumber):"0"}),toJSON(e){const t={};return void 0!==e.bodyBytes&&(t.bodyBytes=y(void 0!==e.bodyBytes?e.bodyBytes:new Uint8Array)),void 0!==e.authInfoBytes&&(t.authInfoBytes=y(void 0!==e.authInfoBytes?e.authInfoBytes:new Uint8Array)),void 0!==e.chainId&&(t.chainId=e.chainId),void 0!==e.accountNumber&&(t.accountNumber=e.accountNumber),t},fromPartial(e){var t,n,r,i;const o=l();return o.bodyBytes=null!==(t=e.bodyBytes)&&void 0!==t?t:new Uint8Array,o.authInfoBytes=null!==(n=e.authInfoBytes)&&void 0!==n?n:new Uint8Array,o.chainId=null!==(r=e.chainId)&&void 0!==r?r:"",o.accountNumber=null!==(i=e.accountNumber)&&void 0!==i?i:"0",o}},t.SignDocDirectAux={encode:(e,t=o.default.Writer.create())=>(0!==e.bodyBytes.length&&t.uint32(10).bytes(e.bodyBytes),void 0!==e.publicKey&&a.Any.encode(e.publicKey,t.uint32(18).fork()).ldelim(),""!==e.chainId&&t.uint32(26).string(e.chainId),"0"!==e.accountNumber&&t.uint32(32).uint64(e.accountNumber),"0"!==e.sequence&&t.uint32(40).uint64(e.sequence),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=h();for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.bodyBytes=n.bytes();break;case 2:i.publicKey=a.Any.decode(n,n.uint32());break;case 3:i.chainId=n.string();break;case 4:i.accountNumber=b(n.uint64());break;case 5:i.sequence=b(n.uint64());break;default:n.skipType(7&e)}}return i},fromJSON:e=>({bodyBytes:S(e.bodyBytes)?v(e.bodyBytes):new Uint8Array,publicKey:S(e.publicKey)?a.Any.fromJSON(e.publicKey):void 0,chainId:S(e.chainId)?String(e.chainId):"",accountNumber:S(e.accountNumber)?String(e.accountNumber):"0",sequence:S(e.sequence)?String(e.sequence):"0"}),toJSON(e){const t={};return void 0!==e.bodyBytes&&(t.bodyBytes=y(void 0!==e.bodyBytes?e.bodyBytes:new Uint8Array)),void 0!==e.publicKey&&(t.publicKey=e.publicKey?a.Any.toJSON(e.publicKey):void 0),void 0!==e.chainId&&(t.chainId=e.chainId),void 0!==e.accountNumber&&(t.accountNumber=e.accountNumber),void 0!==e.sequence&&(t.sequence=e.sequence),t},fromPartial(e){var t,n,r,i;const o=h();return o.bodyBytes=null!==(t=e.bodyBytes)&&void 0!==t?t:new Uint8Array,o.publicKey=void 0!==e.publicKey&&null!==e.publicKey?a.Any.fromPartial(e.publicKey):void 0,o.chainId=null!==(n=e.chainId)&&void 0!==n?n:"",o.accountNumber=null!==(r=e.accountNumber)&&void 0!==r?r:"0",o.sequence=null!==(i=e.sequence)&&void 0!==i?i:"0",o}},t.TxBody={encode(e,t=o.default.Writer.create()){for(const n of e.messages)a.Any.encode(n,t.uint32(10).fork()).ldelim();""!==e.memo&&t.uint32(18).string(e.memo),"0"!==e.timeoutHeight&&t.uint32(24).uint64(e.timeoutHeight);for(const n of e.extensionOptions)a.Any.encode(n,t.uint32(8186).fork()).ldelim();for(const n of e.nonCriticalExtensionOptions)a.Any.encode(n,t.uint32(16378).fork()).ldelim();return t},decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={messages:[],memo:"",timeoutHeight:"0",extensionOptions:[],nonCriticalExtensionOptions:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.messages.push(a.Any.decode(n,n.uint32()));break;case 2:i.memo=n.string();break;case 3:i.timeoutHeight=b(n.uint64());break;case 1023:i.extensionOptions.push(a.Any.decode(n,n.uint32()));break;case 2047:i.nonCriticalExtensionOptions.push(a.Any.decode(n,n.uint32()));break;default:n.skipType(7&e)}}return i},fromJSON:e=>({messages:Array.isArray(null==e?void 0:e.messages)?e.messages.map((e=>a.Any.fromJSON(e))):[],memo:S(e.memo)?String(e.memo):"",timeoutHeight:S(e.timeoutHeight)?String(e.timeoutHeight):"0",extensionOptions:Array.isArray(null==e?void 0:e.extensionOptions)?e.extensionOptions.map((e=>a.Any.fromJSON(e))):[],nonCriticalExtensionOptions:Array.isArray(null==e?void 0:e.nonCriticalExtensionOptions)?e.nonCriticalExtensionOptions.map((e=>a.Any.fromJSON(e))):[]}),toJSON(e){const t={};return e.messages?t.messages=e.messages.map((e=>e?a.Any.toJSON(e):void 0)):t.messages=[],void 0!==e.memo&&(t.memo=e.memo),void 0!==e.timeoutHeight&&(t.timeoutHeight=e.timeoutHeight),e.extensionOptions?t.extensionOptions=e.extensionOptions.map((e=>e?a.Any.toJSON(e):void 0)):t.extensionOptions=[],e.nonCriticalExtensionOptions?t.nonCriticalExtensionOptions=e.nonCriticalExtensionOptions.map((e=>e?a.Any.toJSON(e):void 0)):t.nonCriticalExtensionOptions=[],t},fromPartial(e){var t,n,r,i,o;const s={messages:[],memo:"",timeoutHeight:"0",extensionOptions:[],nonCriticalExtensionOptions:[]};return s.messages=(null===(t=e.messages)||void 0===t?void 0:t.map((e=>a.Any.fromPartial(e))))||[],s.memo=null!==(n=e.memo)&&void 0!==n?n:"",s.timeoutHeight=null!==(r=e.timeoutHeight)&&void 0!==r?r:"0",s.extensionOptions=(null===(i=e.extensionOptions)||void 0===i?void 0:i.map((e=>a.Any.fromPartial(e))))||[],s.nonCriticalExtensionOptions=(null===(o=e.nonCriticalExtensionOptions)||void 0===o?void 0:o.map((e=>a.Any.fromPartial(e))))||[],s}},t.AuthInfo={encode(e,n=o.default.Writer.create()){for(const r of e.signerInfos)t.SignerInfo.encode(r,n.uint32(10).fork()).ldelim();return void 0!==e.fee&&t.Fee.encode(e.fee,n.uint32(18).fork()).ldelim(),n},decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const s={signerInfos:[],fee:void 0};for(;r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:s.signerInfos.push(t.SignerInfo.decode(r,r.uint32()));break;case 2:s.fee=t.Fee.decode(r,r.uint32());break;default:r.skipType(7&e)}}return s},fromJSON:e=>({signerInfos:Array.isArray(null==e?void 0:e.signerInfos)?e.signerInfos.map((e=>t.SignerInfo.fromJSON(e))):[],fee:S(e.fee)?t.Fee.fromJSON(e.fee):void 0}),toJSON(e){const n={};return e.signerInfos?n.signerInfos=e.signerInfos.map((e=>e?t.SignerInfo.toJSON(e):void 0)):n.signerInfos=[],void 0!==e.fee&&(n.fee=e.fee?t.Fee.toJSON(e.fee):void 0),n},fromPartial(e){var n;const r={signerInfos:[],fee:void 0};return r.signerInfos=(null===(n=e.signerInfos)||void 0===n?void 0:n.map((e=>t.SignerInfo.fromPartial(e))))||[],r.fee=void 0!==e.fee&&null!==e.fee?t.Fee.fromPartial(e.fee):void 0,r}},t.SignerInfo={encode:(e,n=o.default.Writer.create())=>(void 0!==e.publicKey&&a.Any.encode(e.publicKey,n.uint32(10).fork()).ldelim(),void 0!==e.modeInfo&&t.ModeInfo.encode(e.modeInfo,n.uint32(18).fork()).ldelim(),"0"!==e.sequence&&n.uint32(24).uint64(e.sequence),n),decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const s={publicKey:void 0,modeInfo:void 0,sequence:"0"};for(;r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:s.publicKey=a.Any.decode(r,r.uint32());break;case 2:s.modeInfo=t.ModeInfo.decode(r,r.uint32());break;case 3:s.sequence=b(r.uint64());break;default:r.skipType(7&e)}}return s},fromJSON:e=>({publicKey:S(e.publicKey)?a.Any.fromJSON(e.publicKey):void 0,modeInfo:S(e.modeInfo)?t.ModeInfo.fromJSON(e.modeInfo):void 0,sequence:S(e.sequence)?String(e.sequence):"0"}),toJSON(e){const n={};return void 0!==e.publicKey&&(n.publicKey=e.publicKey?a.Any.toJSON(e.publicKey):void 0),void 0!==e.modeInfo&&(n.modeInfo=e.modeInfo?t.ModeInfo.toJSON(e.modeInfo):void 0),void 0!==e.sequence&&(n.sequence=e.sequence),n},fromPartial(e){var n;const r={publicKey:void 0,modeInfo:void 0,sequence:"0"};return r.publicKey=void 0!==e.publicKey&&null!==e.publicKey?a.Any.fromPartial(e.publicKey):void 0,r.modeInfo=void 0!==e.modeInfo&&null!==e.modeInfo?t.ModeInfo.fromPartial(e.modeInfo):void 0,r.sequence=null!==(n=e.sequence)&&void 0!==n?n:"0",r}},t.ModeInfo={encode:(e,n=o.default.Writer.create())=>(void 0!==e.single&&t.ModeInfo_Single.encode(e.single,n.uint32(10).fork()).ldelim(),void 0!==e.multi&&t.ModeInfo_Multi.encode(e.multi,n.uint32(18).fork()).ldelim(),n),decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const s={single:void 0,multi:void 0};for(;r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:s.single=t.ModeInfo_Single.decode(r,r.uint32());break;case 2:s.multi=t.ModeInfo_Multi.decode(r,r.uint32());break;default:r.skipType(7&e)}}return s},fromJSON:e=>({single:S(e.single)?t.ModeInfo_Single.fromJSON(e.single):void 0,multi:S(e.multi)?t.ModeInfo_Multi.fromJSON(e.multi):void 0}),toJSON(e){const n={};return void 0!==e.single&&(n.single=e.single?t.ModeInfo_Single.toJSON(e.single):void 0),void 0!==e.multi&&(n.multi=e.multi?t.ModeInfo_Multi.toJSON(e.multi):void 0),n},fromPartial(e){const n={single:void 0,multi:void 0};return n.single=void 0!==e.single&&null!==e.single?t.ModeInfo_Single.fromPartial(e.single):void 0,n.multi=void 0!==e.multi&&null!==e.multi?t.ModeInfo_Multi.fromPartial(e.multi):void 0,n}},t.ModeInfo_Single={encode:(e,t=o.default.Writer.create())=>(0!==e.mode&&t.uint32(8).int32(e.mode),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={mode:0};for(;n.pos<r;){const e=n.uint32();e>>>3==1?i.mode=n.int32():n.skipType(7&e)}return i},fromJSON:e=>({mode:S(e.mode)?(0,s.signModeFromJSON)(e.mode):0}),toJSON(e){const t={};return void 0!==e.mode&&(t.mode=(0,s.signModeToJSON)(e.mode)),t},fromPartial(e){var t;const n={mode:0};return n.mode=null!==(t=e.mode)&&void 0!==t?t:0,n}},t.ModeInfo_Multi={encode(e,n=o.default.Writer.create()){void 0!==e.bitarray&&d.CompactBitArray.encode(e.bitarray,n.uint32(10).fork()).ldelim();for(const r of e.modeInfos)t.ModeInfo.encode(r,n.uint32(18).fork()).ldelim();return n},decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const s={bitarray:void 0,modeInfos:[]};for(;r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:s.bitarray=d.CompactBitArray.decode(r,r.uint32());break;case 2:s.modeInfos.push(t.ModeInfo.decode(r,r.uint32()));break;default:r.skipType(7&e)}}return s},fromJSON:e=>({bitarray:S(e.bitarray)?d.CompactBitArray.fromJSON(e.bitarray):void 0,modeInfos:Array.isArray(null==e?void 0:e.modeInfos)?e.modeInfos.map((e=>t.ModeInfo.fromJSON(e))):[]}),toJSON(e){const n={};return void 0!==e.bitarray&&(n.bitarray=e.bitarray?d.CompactBitArray.toJSON(e.bitarray):void 0),e.modeInfos?n.modeInfos=e.modeInfos.map((e=>e?t.ModeInfo.toJSON(e):void 0)):n.modeInfos=[],n},fromPartial(e){var n;const r={bitarray:void 0,modeInfos:[]};return r.bitarray=void 0!==e.bitarray&&null!==e.bitarray?d.CompactBitArray.fromPartial(e.bitarray):void 0,r.modeInfos=(null===(n=e.modeInfos)||void 0===n?void 0:n.map((e=>t.ModeInfo.fromPartial(e))))||[],r}},t.Fee={encode(e,t=o.default.Writer.create()){for(const n of e.amount)c.Coin.encode(n,t.uint32(10).fork()).ldelim();return"0"!==e.gasLimit&&t.uint32(16).uint64(e.gasLimit),""!==e.payer&&t.uint32(26).string(e.payer),""!==e.granter&&t.uint32(34).string(e.granter),t},decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={amount:[],gasLimit:"0",payer:"",granter:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.amount.push(c.Coin.decode(n,n.uint32()));break;case 2:i.gasLimit=b(n.uint64());break;case 3:i.payer=n.string();break;case 4:i.granter=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({amount:Array.isArray(null==e?void 0:e.amount)?e.amount.map((e=>c.Coin.fromJSON(e))):[],gasLimit:S(e.gasLimit)?String(e.gasLimit):"0",payer:S(e.payer)?String(e.payer):"",granter:S(e.granter)?String(e.granter):""}),toJSON(e){const t={};return e.amount?t.amount=e.amount.map((e=>e?c.Coin.toJSON(e):void 0)):t.amount=[],void 0!==e.gasLimit&&(t.gasLimit=e.gasLimit),void 0!==e.payer&&(t.payer=e.payer),void 0!==e.granter&&(t.granter=e.granter),t},fromPartial(e){var t,n,r,i;const o={amount:[],gasLimit:"0",payer:"",granter:""};return o.amount=(null===(t=e.amount)||void 0===t?void 0:t.map((e=>c.Coin.fromPartial(e))))||[],o.gasLimit=null!==(n=e.gasLimit)&&void 0!==n?n:"0",o.payer=null!==(r=e.payer)&&void 0!==r?r:"",o.granter=null!==(i=e.granter)&&void 0!==i?i:"",o}},t.AuxSignerData={encode:(e,n=o.default.Writer.create())=>(""!==e.address&&n.uint32(10).string(e.address),void 0!==e.signDoc&&t.SignDocDirectAux.encode(e.signDoc,n.uint32(18).fork()).ldelim(),0!==e.mode&&n.uint32(24).int32(e.mode),0!==e.sig.length&&n.uint32(34).bytes(e.sig),n),decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const s=p();for(;r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:s.address=r.string();break;case 2:s.signDoc=t.SignDocDirectAux.decode(r,r.uint32());break;case 3:s.mode=r.int32();break;case 4:s.sig=r.bytes();break;default:r.skipType(7&e)}}return s},fromJSON:e=>({address:S(e.address)?String(e.address):"",signDoc:S(e.signDoc)?t.SignDocDirectAux.fromJSON(e.signDoc):void 0,mode:S(e.mode)?(0,s.signModeFromJSON)(e.mode):0,sig:S(e.sig)?v(e.sig):new Uint8Array}),toJSON(e){const n={};return void 0!==e.address&&(n.address=e.address),void 0!==e.signDoc&&(n.signDoc=e.signDoc?t.SignDocDirectAux.toJSON(e.signDoc):void 0),void 0!==e.mode&&(n.mode=(0,s.signModeToJSON)(e.mode)),void 0!==e.sig&&(n.sig=y(void 0!==e.sig?e.sig:new Uint8Array)),n},fromPartial(e){var n,r,i;const o=p();return o.address=null!==(n=e.address)&&void 0!==n?n:"",o.signDoc=void 0!==e.signDoc&&null!==e.signDoc?t.SignDocDirectAux.fromPartial(e.signDoc):void 0,o.mode=null!==(r=e.mode)&&void 0!==r?r:0,o.sig=null!==(i=e.sig)&&void 0!==i?i:new Uint8Array,o}};var f=(()=>{if(void 0!==f)return f;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw"Unable to locate global object"})();const g=f.atob||(e=>f.Buffer.from(e,"base64").toString("binary"));function v(e){const t=g(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n[e]=t.charCodeAt(e);return n}const m=f.btoa||(e=>f.Buffer.from(e,"binary").toString("base64"));function y(e){const t=[];for(const n of e)t.push(String.fromCharCode(n));return m(t.join(""))}function b(e){return e.toString()}function S(e){return null!=e}o.default.util.Long!==i.default&&(o.default.util.Long=i.default,o.default.configure())},6672:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ModuleVersion=t.CancelSoftwareUpgradeProposal=t.SoftwareUpgradeProposal=t.Plan=t.protobufPackage=void 0;const i=r(n(27808)),o=r(n(73737)),s=n(52811),a=n(20165);function d(e){let t=1e3*Number(e.seconds);return t+=e.nanos/1e6,new Date(t)}function c(e){return e.toString()}function u(e){return null!=e}t.protobufPackage="cosmos.upgrade.v1beta1",t.Plan={encode:(e,t=o.default.Writer.create())=>{return""!==e.name&&t.uint32(10).string(e.name),void 0!==e.time&&s.Timestamp.encode((n=e.time,{seconds:Math.trunc(n.getTime()/1e3).toString(),nanos:n.getTime()%1e3*1e6}),t.uint32(18).fork()).ldelim(),"0"!==e.height&&t.uint32(24).int64(e.height),""!==e.info&&t.uint32(34).string(e.info),void 0!==e.upgradedClientState&&a.Any.encode(e.upgradedClientState,t.uint32(42).fork()).ldelim(),t;var n},decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={name:"",time:void 0,height:"0",info:"",upgradedClientState:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.name=n.string();break;case 2:i.time=d(s.Timestamp.decode(n,n.uint32()));break;case 3:i.height=c(n.int64());break;case 4:i.info=n.string();break;case 5:i.upgradedClientState=a.Any.decode(n,n.uint32());break;default:n.skipType(7&e)}}return i},fromJSON:e=>{return{name:u(e.name)?String(e.name):"",time:u(e.time)?(t=e.time,t instanceof Date?t:"string"==typeof t?new Date(t):d(s.Timestamp.fromJSON(t))):void 0,height:u(e.height)?String(e.height):"0",info:u(e.info)?String(e.info):"",upgradedClientState:u(e.upgradedClientState)?a.Any.fromJSON(e.upgradedClientState):void 0};var t},toJSON(e){const t={};return void 0!==e.name&&(t.name=e.name),void 0!==e.time&&(t.time=e.time.toISOString()),void 0!==e.height&&(t.height=e.height),void 0!==e.info&&(t.info=e.info),void 0!==e.upgradedClientState&&(t.upgradedClientState=e.upgradedClientState?a.Any.toJSON(e.upgradedClientState):void 0),t},fromPartial(e){var t,n,r,i;const o={name:"",time:void 0,height:"0",info:"",upgradedClientState:void 0};return o.name=null!==(t=e.name)&&void 0!==t?t:"",o.time=null!==(n=e.time)&&void 0!==n?n:void 0,o.height=null!==(r=e.height)&&void 0!==r?r:"0",o.info=null!==(i=e.info)&&void 0!==i?i:"",o.upgradedClientState=void 0!==e.upgradedClientState&&null!==e.upgradedClientState?a.Any.fromPartial(e.upgradedClientState):void 0,o}},t.SoftwareUpgradeProposal={encode:(e,n=o.default.Writer.create())=>(""!==e.title&&n.uint32(10).string(e.title),""!==e.description&&n.uint32(18).string(e.description),void 0!==e.plan&&t.Plan.encode(e.plan,n.uint32(26).fork()).ldelim(),n),decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const s={title:"",description:"",plan:void 0};for(;r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:s.title=r.string();break;case 2:s.description=r.string();break;case 3:s.plan=t.Plan.decode(r,r.uint32());break;default:r.skipType(7&e)}}return s},fromJSON:e=>({title:u(e.title)?String(e.title):"",description:u(e.description)?String(e.description):"",plan:u(e.plan)?t.Plan.fromJSON(e.plan):void 0}),toJSON(e){const n={};return void 0!==e.title&&(n.title=e.title),void 0!==e.description&&(n.description=e.description),void 0!==e.plan&&(n.plan=e.plan?t.Plan.toJSON(e.plan):void 0),n},fromPartial(e){var n,r;const i={title:"",description:"",plan:void 0};return i.title=null!==(n=e.title)&&void 0!==n?n:"",i.description=null!==(r=e.description)&&void 0!==r?r:"",i.plan=void 0!==e.plan&&null!==e.plan?t.Plan.fromPartial(e.plan):void 0,i}},t.CancelSoftwareUpgradeProposal={encode:(e,t=o.default.Writer.create())=>(""!==e.title&&t.uint32(10).string(e.title),""!==e.description&&t.uint32(18).string(e.description),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={title:"",description:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.title=n.string();break;case 2:i.description=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({title:u(e.title)?String(e.title):"",description:u(e.description)?String(e.description):""}),toJSON(e){const t={};return void 0!==e.title&&(t.title=e.title),void 0!==e.description&&(t.description=e.description),t},fromPartial(e){var t,n;const r={title:"",description:""};return r.title=null!==(t=e.title)&&void 0!==t?t:"",r.description=null!==(n=e.description)&&void 0!==n?n:"",r}},t.ModuleVersion={encode:(e,t=o.default.Writer.create())=>(""!==e.name&&t.uint32(10).string(e.name),"0"!==e.version&&t.uint32(16).uint64(e.version),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={name:"",version:"0"};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.name=n.string();break;case 2:i.version=c(n.uint64());break;default:n.skipType(7&e)}}return i},fromJSON:e=>({name:u(e.name)?String(e.name):"",version:u(e.version)?String(e.version):"0"}),toJSON(e){const t={};return void 0!==e.name&&(t.name=e.name),void 0!==e.version&&(t.version=e.version),t},fromPartial(e){var t,n;const r={name:"",version:"0"};return r.name=null!==(t=e.name)&&void 0!==t?t:"",r.version=null!==(n=e.version)&&void 0!==n?n:"0",r}},o.default.util.Long!==i.default&&(o.default.util.Long=i.default,o.default.configure())},78566:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MsgClearAdminResponse=t.MsgClearAdmin=t.MsgUpdateAdminResponse=t.MsgUpdateAdmin=t.MsgMigrateContractResponse=t.MsgMigrateContract=t.MsgExecuteContractResponse=t.MsgExecuteContract=t.MsgInstantiateContractResponse=t.MsgInstantiateContract=t.MsgStoreCodeResponse=t.MsgStoreCode=t.protobufPackage=void 0;const i=r(n(27808)),o=r(n(73737)),s=n(85019),a=n(58113);function d(){return{sender:"",wasmByteCode:new Uint8Array,instantiatePermission:void 0}}function c(){return{sender:"",admin:"",codeId:"0",label:"",msg:new Uint8Array,funds:[]}}function u(){return{address:"",data:new Uint8Array}}function l(){return{sender:"",contract:"",msg:new Uint8Array,funds:[]}}function h(){return{data:new Uint8Array}}function p(){return{sender:"",contract:"",codeId:"0",msg:new Uint8Array}}function f(){return{data:new Uint8Array}}t.protobufPackage="cosmwasm.wasm.v1",t.MsgStoreCode={encode:(e,t=o.default.Writer.create())=>(""!==e.sender&&t.uint32(10).string(e.sender),0!==e.wasmByteCode.length&&t.uint32(18).bytes(e.wasmByteCode),void 0!==e.instantiatePermission&&s.AccessConfig.encode(e.instantiatePermission,t.uint32(42).fork()).ldelim(),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=d();for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.sender=n.string();break;case 2:i.wasmByteCode=n.bytes();break;case 5:i.instantiatePermission=s.AccessConfig.decode(n,n.uint32());break;default:n.skipType(7&e)}}return i},fromJSON:e=>({sender:w(e.sender)?String(e.sender):"",wasmByteCode:w(e.wasmByteCode)?m(e.wasmByteCode):new Uint8Array,instantiatePermission:w(e.instantiatePermission)?s.AccessConfig.fromJSON(e.instantiatePermission):void 0}),toJSON(e){const t={};return void 0!==e.sender&&(t.sender=e.sender),void 0!==e.wasmByteCode&&(t.wasmByteCode=b(void 0!==e.wasmByteCode?e.wasmByteCode:new Uint8Array)),void 0!==e.instantiatePermission&&(t.instantiatePermission=e.instantiatePermission?s.AccessConfig.toJSON(e.instantiatePermission):void 0),t},fromPartial(e){var t,n;const r=d();return r.sender=null!==(t=e.sender)&&void 0!==t?t:"",r.wasmByteCode=null!==(n=e.wasmByteCode)&&void 0!==n?n:new Uint8Array,r.instantiatePermission=void 0!==e.instantiatePermission&&null!==e.instantiatePermission?s.AccessConfig.fromPartial(e.instantiatePermission):void 0,r}},t.MsgStoreCodeResponse={encode:(e,t=o.default.Writer.create())=>("0"!==e.codeId&&t.uint32(8).uint64(e.codeId),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={codeId:"0"};for(;n.pos<r;){const e=n.uint32();e>>>3==1?i.codeId=S(n.uint64()):n.skipType(7&e)}return i},fromJSON:e=>({codeId:w(e.codeId)?String(e.codeId):"0"}),toJSON(e){const t={};return void 0!==e.codeId&&(t.codeId=e.codeId),t},fromPartial(e){var t;const n={codeId:"0"};return n.codeId=null!==(t=e.codeId)&&void 0!==t?t:"0",n}},t.MsgInstantiateContract={encode(e,t=o.default.Writer.create()){""!==e.sender&&t.uint32(10).string(e.sender),""!==e.admin&&t.uint32(18).string(e.admin),"0"!==e.codeId&&t.uint32(24).uint64(e.codeId),""!==e.label&&t.uint32(34).string(e.label),0!==e.msg.length&&t.uint32(42).bytes(e.msg);for(const n of e.funds)a.Coin.encode(n,t.uint32(50).fork()).ldelim();return t},decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=c();for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.sender=n.string();break;case 2:i.admin=n.string();break;case 3:i.codeId=S(n.uint64());break;case 4:i.label=n.string();break;case 5:i.msg=n.bytes();break;case 6:i.funds.push(a.Coin.decode(n,n.uint32()));break;default:n.skipType(7&e)}}return i},fromJSON:e=>({sender:w(e.sender)?String(e.sender):"",admin:w(e.admin)?String(e.admin):"",codeId:w(e.codeId)?String(e.codeId):"0",label:w(e.label)?String(e.label):"",msg:w(e.msg)?m(e.msg):new Uint8Array,funds:Array.isArray(null==e?void 0:e.funds)?e.funds.map((e=>a.Coin.fromJSON(e))):[]}),toJSON(e){const t={};return void 0!==e.sender&&(t.sender=e.sender),void 0!==e.admin&&(t.admin=e.admin),void 0!==e.codeId&&(t.codeId=e.codeId),void 0!==e.label&&(t.label=e.label),void 0!==e.msg&&(t.msg=b(void 0!==e.msg?e.msg:new Uint8Array)),e.funds?t.funds=e.funds.map((e=>e?a.Coin.toJSON(e):void 0)):t.funds=[],t},fromPartial(e){var t,n,r,i,o,s;const d=c();return d.sender=null!==(t=e.sender)&&void 0!==t?t:"",d.admin=null!==(n=e.admin)&&void 0!==n?n:"",d.codeId=null!==(r=e.codeId)&&void 0!==r?r:"0",d.label=null!==(i=e.label)&&void 0!==i?i:"",d.msg=null!==(o=e.msg)&&void 0!==o?o:new Uint8Array,d.funds=(null===(s=e.funds)||void 0===s?void 0:s.map((e=>a.Coin.fromPartial(e))))||[],d}},t.MsgInstantiateContractResponse={encode:(e,t=o.default.Writer.create())=>(""!==e.address&&t.uint32(10).string(e.address),0!==e.data.length&&t.uint32(18).bytes(e.data),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=u();for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.address=n.string();break;case 2:i.data=n.bytes();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({address:w(e.address)?String(e.address):"",data:w(e.data)?m(e.data):new Uint8Array}),toJSON(e){const t={};return void 0!==e.address&&(t.address=e.address),void 0!==e.data&&(t.data=b(void 0!==e.data?e.data:new Uint8Array)),t},fromPartial(e){var t,n;const r=u();return r.address=null!==(t=e.address)&&void 0!==t?t:"",r.data=null!==(n=e.data)&&void 0!==n?n:new Uint8Array,r}},t.MsgExecuteContract={encode(e,t=o.default.Writer.create()){""!==e.sender&&t.uint32(10).string(e.sender),""!==e.contract&&t.uint32(18).string(e.contract),0!==e.msg.length&&t.uint32(26).bytes(e.msg);for(const n of e.funds)a.Coin.encode(n,t.uint32(42).fork()).ldelim();return t},decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=l();for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.sender=n.string();break;case 2:i.contract=n.string();break;case 3:i.msg=n.bytes();break;case 5:i.funds.push(a.Coin.decode(n,n.uint32()));break;default:n.skipType(7&e)}}return i},fromJSON:e=>({sender:w(e.sender)?String(e.sender):"",contract:w(e.contract)?String(e.contract):"",msg:w(e.msg)?m(e.msg):new Uint8Array,funds:Array.isArray(null==e?void 0:e.funds)?e.funds.map((e=>a.Coin.fromJSON(e))):[]}),toJSON(e){const t={};return void 0!==e.sender&&(t.sender=e.sender),void 0!==e.contract&&(t.contract=e.contract),void 0!==e.msg&&(t.msg=b(void 0!==e.msg?e.msg:new Uint8Array)),e.funds?t.funds=e.funds.map((e=>e?a.Coin.toJSON(e):void 0)):t.funds=[],t},fromPartial(e){var t,n,r,i;const o=l();return o.sender=null!==(t=e.sender)&&void 0!==t?t:"",o.contract=null!==(n=e.contract)&&void 0!==n?n:"",o.msg=null!==(r=e.msg)&&void 0!==r?r:new Uint8Array,o.funds=(null===(i=e.funds)||void 0===i?void 0:i.map((e=>a.Coin.fromPartial(e))))||[],o}},t.MsgExecuteContractResponse={encode:(e,t=o.default.Writer.create())=>(0!==e.data.length&&t.uint32(10).bytes(e.data),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=h();for(;n.pos<r;){const e=n.uint32();e>>>3==1?i.data=n.bytes():n.skipType(7&e)}return i},fromJSON:e=>({data:w(e.data)?m(e.data):new Uint8Array}),toJSON(e){const t={};return void 0!==e.data&&(t.data=b(void 0!==e.data?e.data:new Uint8Array)),t},fromPartial(e){var t;const n=h();return n.data=null!==(t=e.data)&&void 0!==t?t:new Uint8Array,n}},t.MsgMigrateContract={encode:(e,t=o.default.Writer.create())=>(""!==e.sender&&t.uint32(10).string(e.sender),""!==e.contract&&t.uint32(18).string(e.contract),"0"!==e.codeId&&t.uint32(24).uint64(e.codeId),0!==e.msg.length&&t.uint32(34).bytes(e.msg),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=p();for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.sender=n.string();break;case 2:i.contract=n.string();break;case 3:i.codeId=S(n.uint64());break;case 4:i.msg=n.bytes();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({sender:w(e.sender)?String(e.sender):"",contract:w(e.contract)?String(e.contract):"",codeId:w(e.codeId)?String(e.codeId):"0",msg:w(e.msg)?m(e.msg):new Uint8Array}),toJSON(e){const t={};return void 0!==e.sender&&(t.sender=e.sender),void 0!==e.contract&&(t.contract=e.contract),void 0!==e.codeId&&(t.codeId=e.codeId),void 0!==e.msg&&(t.msg=b(void 0!==e.msg?e.msg:new Uint8Array)),t},fromPartial(e){var t,n,r,i;const o=p();return o.sender=null!==(t=e.sender)&&void 0!==t?t:"",o.contract=null!==(n=e.contract)&&void 0!==n?n:"",o.codeId=null!==(r=e.codeId)&&void 0!==r?r:"0",o.msg=null!==(i=e.msg)&&void 0!==i?i:new Uint8Array,o}},t.MsgMigrateContractResponse={encode:(e,t=o.default.Writer.create())=>(0!==e.data.length&&t.uint32(10).bytes(e.data),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=f();for(;n.pos<r;){const e=n.uint32();e>>>3==1?i.data=n.bytes():n.skipType(7&e)}return i},fromJSON:e=>({data:w(e.data)?m(e.data):new Uint8Array}),toJSON(e){const t={};return void 0!==e.data&&(t.data=b(void 0!==e.data?e.data:new Uint8Array)),t},fromPartial(e){var t;const n=f();return n.data=null!==(t=e.data)&&void 0!==t?t:new Uint8Array,n}},t.MsgUpdateAdmin={encode:(e,t=o.default.Writer.create())=>(""!==e.sender&&t.uint32(10).string(e.sender),""!==e.newAdmin&&t.uint32(18).string(e.newAdmin),""!==e.contract&&t.uint32(26).string(e.contract),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={sender:"",newAdmin:"",contract:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.sender=n.string();break;case 2:i.newAdmin=n.string();break;case 3:i.contract=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({sender:w(e.sender)?String(e.sender):"",newAdmin:w(e.newAdmin)?String(e.newAdmin):"",contract:w(e.contract)?String(e.contract):""}),toJSON(e){const t={};return void 0!==e.sender&&(t.sender=e.sender),void 0!==e.newAdmin&&(t.newAdmin=e.newAdmin),void 0!==e.contract&&(t.contract=e.contract),t},fromPartial(e){var t,n,r;const i={sender:"",newAdmin:"",contract:""};return i.sender=null!==(t=e.sender)&&void 0!==t?t:"",i.newAdmin=null!==(n=e.newAdmin)&&void 0!==n?n:"",i.contract=null!==(r=e.contract)&&void 0!==r?r:"",i}},t.MsgUpdateAdminResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},t.MsgClearAdmin={encode:(e,t=o.default.Writer.create())=>(""!==e.sender&&t.uint32(10).string(e.sender),""!==e.contract&&t.uint32(26).string(e.contract),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={sender:"",contract:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.sender=n.string();break;case 3:i.contract=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({sender:w(e.sender)?String(e.sender):"",contract:w(e.contract)?String(e.contract):""}),toJSON(e){const t={};return void 0!==e.sender&&(t.sender=e.sender),void 0!==e.contract&&(t.contract=e.contract),t},fromPartial(e){var t,n;const r={sender:"",contract:""};return r.sender=null!==(t=e.sender)&&void 0!==t?t:"",r.contract=null!==(n=e.contract)&&void 0!==n?n:"",r}},t.MsgClearAdminResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})};var g=(()=>{if(void 0!==g)return g;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw"Unable to locate global object"})();const v=g.atob||(e=>g.Buffer.from(e,"base64").toString("binary"));function m(e){const t=v(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n[e]=t.charCodeAt(e);return n}const y=g.btoa||(e=>g.Buffer.from(e,"binary").toString("base64"));function b(e){const t=[];for(const n of e)t.push(String.fromCharCode(n));return y(t.join(""))}function S(e){return e.toString()}function w(e){return null!=e}o.default.util.Long!==i.default&&(o.default.util.Long=i.default,o.default.configure())},85019:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Model=t.AbsoluteTxPosition=t.ContractCodeHistoryEntry=t.ContractInfo=t.CodeInfo=t.Params=t.AccessConfig=t.AccessTypeParam=t.contractCodeHistoryOperationTypeToJSON=t.contractCodeHistoryOperationTypeFromJSON=t.ContractCodeHistoryOperationType=t.accessTypeToJSON=t.accessTypeFromJSON=t.AccessType=t.protobufPackage=void 0;const i=r(n(27808)),o=r(n(73737)),s=n(20165);var a,d;function c(e){switch(e){case 0:case"ACCESS_TYPE_UNSPECIFIED":return a.ACCESS_TYPE_UNSPECIFIED;case 1:case"ACCESS_TYPE_NOBODY":return a.ACCESS_TYPE_NOBODY;case 2:case"ACCESS_TYPE_ONLY_ADDRESS":return a.ACCESS_TYPE_ONLY_ADDRESS;case 3:case"ACCESS_TYPE_EVERYBODY":return a.ACCESS_TYPE_EVERYBODY;default:return a.UNRECOGNIZED}}function u(e){switch(e){case a.ACCESS_TYPE_UNSPECIFIED:return"ACCESS_TYPE_UNSPECIFIED";case a.ACCESS_TYPE_NOBODY:return"ACCESS_TYPE_NOBODY";case a.ACCESS_TYPE_ONLY_ADDRESS:return"ACCESS_TYPE_ONLY_ADDRESS";case a.ACCESS_TYPE_EVERYBODY:return"ACCESS_TYPE_EVERYBODY";default:return"UNKNOWN"}}function l(e){switch(e){case 0:case"CONTRACT_CODE_HISTORY_OPERATION_TYPE_UNSPECIFIED":return d.CONTRACT_CODE_HISTORY_OPERATION_TYPE_UNSPECIFIED;case 1:case"CONTRACT_CODE_HISTORY_OPERATION_TYPE_INIT":return d.CONTRACT_CODE_HISTORY_OPERATION_TYPE_INIT;case 2:case"CONTRACT_CODE_HISTORY_OPERATION_TYPE_MIGRATE":return d.CONTRACT_CODE_HISTORY_OPERATION_TYPE_MIGRATE;case 3:case"CONTRACT_CODE_HISTORY_OPERATION_TYPE_GENESIS":return d.CONTRACT_CODE_HISTORY_OPERATION_TYPE_GENESIS;default:return d.UNRECOGNIZED}}function h(e){switch(e){case d.CONTRACT_CODE_HISTORY_OPERATION_TYPE_UNSPECIFIED:return"CONTRACT_CODE_HISTORY_OPERATION_TYPE_UNSPECIFIED";case d.CONTRACT_CODE_HISTORY_OPERATION_TYPE_INIT:return"CONTRACT_CODE_HISTORY_OPERATION_TYPE_INIT";case d.CONTRACT_CODE_HISTORY_OPERATION_TYPE_MIGRATE:return"CONTRACT_CODE_HISTORY_OPERATION_TYPE_MIGRATE";case d.CONTRACT_CODE_HISTORY_OPERATION_TYPE_GENESIS:return"CONTRACT_CODE_HISTORY_OPERATION_TYPE_GENESIS";default:return"UNKNOWN"}}function p(){return{codeHash:new Uint8Array,creator:"",instantiateConfig:void 0}}function f(){return{operation:0,codeId:"0",updated:void 0,msg:new Uint8Array}}function g(){return{key:new Uint8Array,value:new Uint8Array}}t.protobufPackage="cosmwasm.wasm.v1",function(e){e[e.ACCESS_TYPE_UNSPECIFIED=0]="ACCESS_TYPE_UNSPECIFIED",e[e.ACCESS_TYPE_NOBODY=1]="ACCESS_TYPE_NOBODY",e[e.ACCESS_TYPE_ONLY_ADDRESS=2]="ACCESS_TYPE_ONLY_ADDRESS",e[e.ACCESS_TYPE_EVERYBODY=3]="ACCESS_TYPE_EVERYBODY",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(a=t.AccessType||(t.AccessType={})),t.accessTypeFromJSON=c,t.accessTypeToJSON=u,function(e){e[e.CONTRACT_CODE_HISTORY_OPERATION_TYPE_UNSPECIFIED=0]="CONTRACT_CODE_HISTORY_OPERATION_TYPE_UNSPECIFIED",e[e.CONTRACT_CODE_HISTORY_OPERATION_TYPE_INIT=1]="CONTRACT_CODE_HISTORY_OPERATION_TYPE_INIT",e[e.CONTRACT_CODE_HISTORY_OPERATION_TYPE_MIGRATE=2]="CONTRACT_CODE_HISTORY_OPERATION_TYPE_MIGRATE",e[e.CONTRACT_CODE_HISTORY_OPERATION_TYPE_GENESIS=3]="CONTRACT_CODE_HISTORY_OPERATION_TYPE_GENESIS",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(d=t.ContractCodeHistoryOperationType||(t.ContractCodeHistoryOperationType={})),t.contractCodeHistoryOperationTypeFromJSON=l,t.contractCodeHistoryOperationTypeToJSON=h,t.AccessTypeParam={encode:(e,t=o.default.Writer.create())=>(0!==e.value&&t.uint32(8).int32(e.value),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={value:0};for(;n.pos<r;){const e=n.uint32();e>>>3==1?i.value=n.int32():n.skipType(7&e)}return i},fromJSON:e=>({value:I(e.value)?c(e.value):0}),toJSON(e){const t={};return void 0!==e.value&&(t.value=u(e.value)),t},fromPartial(e){var t;const n={value:0};return n.value=null!==(t=e.value)&&void 0!==t?t:0,n}},t.AccessConfig={encode:(e,t=o.default.Writer.create())=>(0!==e.permission&&t.uint32(8).int32(e.permission),""!==e.address&&t.uint32(18).string(e.address),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={permission:0,address:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.permission=n.int32();break;case 2:i.address=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({permission:I(e.permission)?c(e.permission):0,address:I(e.address)?String(e.address):""}),toJSON(e){const t={};return void 0!==e.permission&&(t.permission=u(e.permission)),void 0!==e.address&&(t.address=e.address),t},fromPartial(e){var t,n;const r={permission:0,address:""};return r.permission=null!==(t=e.permission)&&void 0!==t?t:0,r.address=null!==(n=e.address)&&void 0!==n?n:"",r}},t.Params={encode:(e,n=o.default.Writer.create())=>(void 0!==e.codeUploadAccess&&t.AccessConfig.encode(e.codeUploadAccess,n.uint32(10).fork()).ldelim(),0!==e.instantiateDefaultPermission&&n.uint32(16).int32(e.instantiateDefaultPermission),"0"!==e.maxWasmCodeSize&&n.uint32(24).uint64(e.maxWasmCodeSize),n),decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const s={codeUploadAccess:void 0,instantiateDefaultPermission:0,maxWasmCodeSize:"0"};for(;r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:s.codeUploadAccess=t.AccessConfig.decode(r,r.uint32());break;case 2:s.instantiateDefaultPermission=r.int32();break;case 3:s.maxWasmCodeSize=w(r.uint64());break;default:r.skipType(7&e)}}return s},fromJSON:e=>({codeUploadAccess:I(e.codeUploadAccess)?t.AccessConfig.fromJSON(e.codeUploadAccess):void 0,instantiateDefaultPermission:I(e.instantiateDefaultPermission)?c(e.instantiateDefaultPermission):0,maxWasmCodeSize:I(e.maxWasmCodeSize)?String(e.maxWasmCodeSize):"0"}),toJSON(e){const n={};return void 0!==e.codeUploadAccess&&(n.codeUploadAccess=e.codeUploadAccess?t.AccessConfig.toJSON(e.codeUploadAccess):void 0),void 0!==e.instantiateDefaultPermission&&(n.instantiateDefaultPermission=u(e.instantiateDefaultPermission)),void 0!==e.maxWasmCodeSize&&(n.maxWasmCodeSize=e.maxWasmCodeSize),n},fromPartial(e){var n,r;const i={codeUploadAccess:void 0,instantiateDefaultPermission:0,maxWasmCodeSize:"0"};return i.codeUploadAccess=void 0!==e.codeUploadAccess&&null!==e.codeUploadAccess?t.AccessConfig.fromPartial(e.codeUploadAccess):void 0,i.instantiateDefaultPermission=null!==(n=e.instantiateDefaultPermission)&&void 0!==n?n:0,i.maxWasmCodeSize=null!==(r=e.maxWasmCodeSize)&&void 0!==r?r:"0",i}},t.CodeInfo={encode:(e,n=o.default.Writer.create())=>(0!==e.codeHash.length&&n.uint32(10).bytes(e.codeHash),""!==e.creator&&n.uint32(18).string(e.creator),void 0!==e.instantiateConfig&&t.AccessConfig.encode(e.instantiateConfig,n.uint32(42).fork()).ldelim(),n),decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const s=p();for(;r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:s.codeHash=r.bytes();break;case 2:s.creator=r.string();break;case 5:s.instantiateConfig=t.AccessConfig.decode(r,r.uint32());break;default:r.skipType(7&e)}}return s},fromJSON:e=>({codeHash:I(e.codeHash)?y(e.codeHash):new Uint8Array,creator:I(e.creator)?String(e.creator):"",instantiateConfig:I(e.instantiateConfig)?t.AccessConfig.fromJSON(e.instantiateConfig):void 0}),toJSON(e){const n={};return void 0!==e.codeHash&&(n.codeHash=S(void 0!==e.codeHash?e.codeHash:new Uint8Array)),void 0!==e.creator&&(n.creator=e.creator),void 0!==e.instantiateConfig&&(n.instantiateConfig=e.instantiateConfig?t.AccessConfig.toJSON(e.instantiateConfig):void 0),n},fromPartial(e){var n,r;const i=p();return i.codeHash=null!==(n=e.codeHash)&&void 0!==n?n:new Uint8Array,i.creator=null!==(r=e.creator)&&void 0!==r?r:"",i.instantiateConfig=void 0!==e.instantiateConfig&&null!==e.instantiateConfig?t.AccessConfig.fromPartial(e.instantiateConfig):void 0,i}},t.ContractInfo={encode:(e,n=o.default.Writer.create())=>("0"!==e.codeId&&n.uint32(8).uint64(e.codeId),""!==e.creator&&n.uint32(18).string(e.creator),""!==e.admin&&n.uint32(26).string(e.admin),""!==e.label&&n.uint32(34).string(e.label),void 0!==e.created&&t.AbsoluteTxPosition.encode(e.created,n.uint32(42).fork()).ldelim(),""!==e.ibcPortId&&n.uint32(50).string(e.ibcPortId),void 0!==e.extension&&s.Any.encode(e.extension,n.uint32(58).fork()).ldelim(),n),decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const a={codeId:"0",creator:"",admin:"",label:"",created:void 0,ibcPortId:"",extension:void 0};for(;r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:a.codeId=w(r.uint64());break;case 2:a.creator=r.string();break;case 3:a.admin=r.string();break;case 4:a.label=r.string();break;case 5:a.created=t.AbsoluteTxPosition.decode(r,r.uint32());break;case 6:a.ibcPortId=r.string();break;case 7:a.extension=s.Any.decode(r,r.uint32());break;default:r.skipType(7&e)}}return a},fromJSON:e=>({codeId:I(e.codeId)?String(e.codeId):"0",creator:I(e.creator)?String(e.creator):"",admin:I(e.admin)?String(e.admin):"",label:I(e.label)?String(e.label):"",created:I(e.created)?t.AbsoluteTxPosition.fromJSON(e.created):void 0,ibcPortId:I(e.ibcPortId)?String(e.ibcPortId):"",extension:I(e.extension)?s.Any.fromJSON(e.extension):void 0}),toJSON(e){const n={};return void 0!==e.codeId&&(n.codeId=e.codeId),void 0!==e.creator&&(n.creator=e.creator),void 0!==e.admin&&(n.admin=e.admin),void 0!==e.label&&(n.label=e.label),void 0!==e.created&&(n.created=e.created?t.AbsoluteTxPosition.toJSON(e.created):void 0),void 0!==e.ibcPortId&&(n.ibcPortId=e.ibcPortId),void 0!==e.extension&&(n.extension=e.extension?s.Any.toJSON(e.extension):void 0),n},fromPartial(e){var n,r,i,o,a;const d={codeId:"0",creator:"",admin:"",label:"",created:void 0,ibcPortId:"",extension:void 0};return d.codeId=null!==(n=e.codeId)&&void 0!==n?n:"0",d.creator=null!==(r=e.creator)&&void 0!==r?r:"",d.admin=null!==(i=e.admin)&&void 0!==i?i:"",d.label=null!==(o=e.label)&&void 0!==o?o:"",d.created=void 0!==e.created&&null!==e.created?t.AbsoluteTxPosition.fromPartial(e.created):void 0,d.ibcPortId=null!==(a=e.ibcPortId)&&void 0!==a?a:"",d.extension=void 0!==e.extension&&null!==e.extension?s.Any.fromPartial(e.extension):void 0,d}},t.ContractCodeHistoryEntry={encode:(e,n=o.default.Writer.create())=>(0!==e.operation&&n.uint32(8).int32(e.operation),"0"!==e.codeId&&n.uint32(16).uint64(e.codeId),void 0!==e.updated&&t.AbsoluteTxPosition.encode(e.updated,n.uint32(26).fork()).ldelim(),0!==e.msg.length&&n.uint32(34).bytes(e.msg),n),decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const s=f();for(;r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:s.operation=r.int32();break;case 2:s.codeId=w(r.uint64());break;case 3:s.updated=t.AbsoluteTxPosition.decode(r,r.uint32());break;case 4:s.msg=r.bytes();break;default:r.skipType(7&e)}}return s},fromJSON:e=>({operation:I(e.operation)?l(e.operation):0,codeId:I(e.codeId)?String(e.codeId):"0",updated:I(e.updated)?t.AbsoluteTxPosition.fromJSON(e.updated):void 0,msg:I(e.msg)?y(e.msg):new Uint8Array}),toJSON(e){const n={};return void 0!==e.operation&&(n.operation=h(e.operation)),void 0!==e.codeId&&(n.codeId=e.codeId),void 0!==e.updated&&(n.updated=e.updated?t.AbsoluteTxPosition.toJSON(e.updated):void 0),void 0!==e.msg&&(n.msg=S(void 0!==e.msg?e.msg:new Uint8Array)),n},fromPartial(e){var n,r,i;const o=f();return o.operation=null!==(n=e.operation)&&void 0!==n?n:0,o.codeId=null!==(r=e.codeId)&&void 0!==r?r:"0",o.updated=void 0!==e.updated&&null!==e.updated?t.AbsoluteTxPosition.fromPartial(e.updated):void 0,o.msg=null!==(i=e.msg)&&void 0!==i?i:new Uint8Array,o}},t.AbsoluteTxPosition={encode:(e,t=o.default.Writer.create())=>("0"!==e.blockHeight&&t.uint32(8).uint64(e.blockHeight),"0"!==e.txIndex&&t.uint32(16).uint64(e.txIndex),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={blockHeight:"0",txIndex:"0"};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.blockHeight=w(n.uint64());break;case 2:i.txIndex=w(n.uint64());break;default:n.skipType(7&e)}}return i},fromJSON:e=>({blockHeight:I(e.blockHeight)?String(e.blockHeight):"0",txIndex:I(e.txIndex)?String(e.txIndex):"0"}),toJSON(e){const t={};return void 0!==e.blockHeight&&(t.blockHeight=e.blockHeight),void 0!==e.txIndex&&(t.txIndex=e.txIndex),t},fromPartial(e){var t,n;const r={blockHeight:"0",txIndex:"0"};return r.blockHeight=null!==(t=e.blockHeight)&&void 0!==t?t:"0",r.txIndex=null!==(n=e.txIndex)&&void 0!==n?n:"0",r}},t.Model={encode:(e,t=o.default.Writer.create())=>(0!==e.key.length&&t.uint32(10).bytes(e.key),0!==e.value.length&&t.uint32(18).bytes(e.value),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=g();for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.key=n.bytes();break;case 2:i.value=n.bytes();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({key:I(e.key)?y(e.key):new Uint8Array,value:I(e.value)?y(e.value):new Uint8Array}),toJSON(e){const t={};return void 0!==e.key&&(t.key=S(void 0!==e.key?e.key:new Uint8Array)),void 0!==e.value&&(t.value=S(void 0!==e.value?e.value:new Uint8Array)),t},fromPartial(e){var t,n;const r=g();return r.key=null!==(t=e.key)&&void 0!==t?t:new Uint8Array,r.value=null!==(n=e.value)&&void 0!==n?n:new Uint8Array,r}};var v=(()=>{if(void 0!==v)return v;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw"Unable to locate global object"})();const m=v.atob||(e=>v.Buffer.from(e,"base64").toString("binary"));function y(e){const t=m(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n[e]=t.charCodeAt(e);return n}const b=v.btoa||(e=>v.Buffer.from(e,"binary").toString("base64"));function S(e){const t=[];for(const n of e)t.push(String.fromCharCode(n));return b(t.join(""))}function w(e){return e.toString()}function I(e){return null!=e}o.default.util.Long!==i.default&&(o.default.util.Long=i.default,o.default.configure())},20165:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Any=t.protobufPackage=void 0;const i=r(n(27808)),o=r(n(73737));function s(){return{typeUrl:"",value:new Uint8Array}}t.protobufPackage="google.protobuf",t.Any={encode:(e,t=o.default.Writer.create())=>(""!==e.typeUrl&&t.uint32(10).string(e.typeUrl),0!==e.value.length&&t.uint32(18).bytes(e.value),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=s();for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.typeUrl=n.string();break;case 2:i.value=n.bytes();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({typeUrl:l(e.typeUrl)?String(e.typeUrl):"",value:l(e.value)?c(e.value):new Uint8Array}),toJSON(e){const t={};return void 0!==e.typeUrl&&(t.typeUrl=e.typeUrl),void 0!==e.value&&(t.value=function(e){const t=[];for(const n of e)t.push(String.fromCharCode(n));return u(t.join(""))}(void 0!==e.value?e.value:new Uint8Array)),t},fromPartial(e){var t,n;const r=s();return r.typeUrl=null!==(t=e.typeUrl)&&void 0!==t?t:"",r.value=null!==(n=e.value)&&void 0!==n?n:new Uint8Array,r}};var a=(()=>{if(void 0!==a)return a;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw"Unable to locate global object"})();const d=a.atob||(e=>a.Buffer.from(e,"base64").toString("binary"));function c(e){const t=d(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n[e]=t.charCodeAt(e);return n}const u=a.btoa||(e=>a.Buffer.from(e,"binary").toString("base64"));function l(e){return null!=e}o.default.util.Long!==i.default&&(o.default.util.Long=i.default,o.default.configure())},59660:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Duration=t.protobufPackage=void 0;const i=r(n(27808)),o=r(n(73737));function s(e){return null!=e}t.protobufPackage="google.protobuf",t.Duration={encode:(e,t=o.default.Writer.create())=>("0"!==e.seconds&&t.uint32(8).int64(e.seconds),0!==e.nanos&&t.uint32(16).int32(e.nanos),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={seconds:"0",nanos:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.seconds=n.int64().toString();break;case 2:i.nanos=n.int32();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({seconds:s(e.seconds)?String(e.seconds):"0",nanos:s(e.nanos)?Number(e.nanos):0}),toJSON(e){const t={};return void 0!==e.seconds&&(t.seconds=e.seconds),void 0!==e.nanos&&(t.nanos=Math.round(e.nanos)),t},fromPartial(e){var t,n;const r={seconds:"0",nanos:0};return r.seconds=null!==(t=e.seconds)&&void 0!==t?t:"0",r.nanos=null!==(n=e.nanos)&&void 0!==n?n:0,r}},o.default.util.Long!==i.default&&(o.default.util.Long=i.default,o.default.configure())},52811:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Timestamp=t.protobufPackage=void 0;const i=r(n(27808)),o=r(n(73737));function s(e){return null!=e}t.protobufPackage="google.protobuf",t.Timestamp={encode:(e,t=o.default.Writer.create())=>("0"!==e.seconds&&t.uint32(8).int64(e.seconds),0!==e.nanos&&t.uint32(16).int32(e.nanos),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={seconds:"0",nanos:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.seconds=n.int64().toString();break;case 2:i.nanos=n.int32();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({seconds:s(e.seconds)?String(e.seconds):"0",nanos:s(e.nanos)?Number(e.nanos):0}),toJSON(e){const t={};return void 0!==e.seconds&&(t.seconds=e.seconds),void 0!==e.nanos&&(t.nanos=Math.round(e.nanos)),t},fromPartial(e){var t,n;const r={seconds:"0",nanos:0};return r.seconds=null!==(t=e.seconds)&&void 0!==t?t:"0",r.nanos=null!==(n=e.nanos)&&void 0!==n?n:0,r}},o.default.util.Long!==i.default&&(o.default.util.Long=i.default,o.default.configure())},48553:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IdentifiedPacketFees=t.PacketFees=t.PacketFee=t.Fee=t.protobufPackage=void 0;const i=r(n(27808)),o=r(n(73737)),s=n(58113),a=n(27250);function d(e){return null!=e}t.protobufPackage="ibc.applications.fee.v1",t.Fee={encode(e,t=o.default.Writer.create()){for(const n of e.recvFee)s.Coin.encode(n,t.uint32(10).fork()).ldelim();for(const n of e.ackFee)s.Coin.encode(n,t.uint32(18).fork()).ldelim();for(const n of e.timeoutFee)s.Coin.encode(n,t.uint32(26).fork()).ldelim();return t},decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={recvFee:[],ackFee:[],timeoutFee:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.recvFee.push(s.Coin.decode(n,n.uint32()));break;case 2:i.ackFee.push(s.Coin.decode(n,n.uint32()));break;case 3:i.timeoutFee.push(s.Coin.decode(n,n.uint32()));break;default:n.skipType(7&e)}}return i},fromJSON:e=>({recvFee:Array.isArray(null==e?void 0:e.recvFee)?e.recvFee.map((e=>s.Coin.fromJSON(e))):[],ackFee:Array.isArray(null==e?void 0:e.ackFee)?e.ackFee.map((e=>s.Coin.fromJSON(e))):[],timeoutFee:Array.isArray(null==e?void 0:e.timeoutFee)?e.timeoutFee.map((e=>s.Coin.fromJSON(e))):[]}),toJSON(e){const t={};return e.recvFee?t.recvFee=e.recvFee.map((e=>e?s.Coin.toJSON(e):void 0)):t.recvFee=[],e.ackFee?t.ackFee=e.ackFee.map((e=>e?s.Coin.toJSON(e):void 0)):t.ackFee=[],e.timeoutFee?t.timeoutFee=e.timeoutFee.map((e=>e?s.Coin.toJSON(e):void 0)):t.timeoutFee=[],t},fromPartial(e){var t,n,r;const i={recvFee:[],ackFee:[],timeoutFee:[]};return i.recvFee=(null===(t=e.recvFee)||void 0===t?void 0:t.map((e=>s.Coin.fromPartial(e))))||[],i.ackFee=(null===(n=e.ackFee)||void 0===n?void 0:n.map((e=>s.Coin.fromPartial(e))))||[],i.timeoutFee=(null===(r=e.timeoutFee)||void 0===r?void 0:r.map((e=>s.Coin.fromPartial(e))))||[],i}},t.PacketFee={encode(e,n=o.default.Writer.create()){void 0!==e.fee&&t.Fee.encode(e.fee,n.uint32(10).fork()).ldelim(),""!==e.refundAddress&&n.uint32(18).string(e.refundAddress);for(const t of e.relayers)n.uint32(26).string(t);return n},decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const s={fee:void 0,refundAddress:"",relayers:[]};for(;r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:s.fee=t.Fee.decode(r,r.uint32());break;case 2:s.refundAddress=r.string();break;case 3:s.relayers.push(r.string());break;default:r.skipType(7&e)}}return s},fromJSON:e=>({fee:d(e.fee)?t.Fee.fromJSON(e.fee):void 0,refundAddress:d(e.refundAddress)?String(e.refundAddress):"",relayers:Array.isArray(null==e?void 0:e.relayers)?e.relayers.map((e=>String(e))):[]}),toJSON(e){const n={};return void 0!==e.fee&&(n.fee=e.fee?t.Fee.toJSON(e.fee):void 0),void 0!==e.refundAddress&&(n.refundAddress=e.refundAddress),e.relayers?n.relayers=e.relayers.map((e=>e)):n.relayers=[],n},fromPartial(e){var n,r;const i={fee:void 0,refundAddress:"",relayers:[]};return i.fee=void 0!==e.fee&&null!==e.fee?t.Fee.fromPartial(e.fee):void 0,i.refundAddress=null!==(n=e.refundAddress)&&void 0!==n?n:"",i.relayers=(null===(r=e.relayers)||void 0===r?void 0:r.map((e=>e)))||[],i}},t.PacketFees={encode(e,n=o.default.Writer.create()){for(const r of e.packetFees)t.PacketFee.encode(r,n.uint32(10).fork()).ldelim();return n},decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const s={packetFees:[]};for(;r.pos<i;){const e=r.uint32();e>>>3==1?s.packetFees.push(t.PacketFee.decode(r,r.uint32())):r.skipType(7&e)}return s},fromJSON:e=>({packetFees:Array.isArray(null==e?void 0:e.packetFees)?e.packetFees.map((e=>t.PacketFee.fromJSON(e))):[]}),toJSON(e){const n={};return e.packetFees?n.packetFees=e.packetFees.map((e=>e?t.PacketFee.toJSON(e):void 0)):n.packetFees=[],n},fromPartial(e){var n;const r={packetFees:[]};return r.packetFees=(null===(n=e.packetFees)||void 0===n?void 0:n.map((e=>t.PacketFee.fromPartial(e))))||[],r}},t.IdentifiedPacketFees={encode(e,n=o.default.Writer.create()){void 0!==e.packetId&&a.PacketId.encode(e.packetId,n.uint32(10).fork()).ldelim();for(const r of e.packetFees)t.PacketFee.encode(r,n.uint32(18).fork()).ldelim();return n},decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const s={packetId:void 0,packetFees:[]};for(;r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:s.packetId=a.PacketId.decode(r,r.uint32());break;case 2:s.packetFees.push(t.PacketFee.decode(r,r.uint32()));break;default:r.skipType(7&e)}}return s},fromJSON:e=>({packetId:d(e.packetId)?a.PacketId.fromJSON(e.packetId):void 0,packetFees:Array.isArray(null==e?void 0:e.packetFees)?e.packetFees.map((e=>t.PacketFee.fromJSON(e))):[]}),toJSON(e){const n={};return void 0!==e.packetId&&(n.packetId=e.packetId?a.PacketId.toJSON(e.packetId):void 0),e.packetFees?n.packetFees=e.packetFees.map((e=>e?t.PacketFee.toJSON(e):void 0)):n.packetFees=[],n},fromPartial(e){var n;const r={packetId:void 0,packetFees:[]};return r.packetId=void 0!==e.packetId&&null!==e.packetId?a.PacketId.fromPartial(e.packetId):void 0,r.packetFees=(null===(n=e.packetFees)||void 0===n?void 0:n.map((e=>t.PacketFee.fromPartial(e))))||[],r}},o.default.util.Long!==i.default&&(o.default.util.Long=i.default,o.default.configure())},36217:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MsgPayPacketFeeAsyncResponse=t.MsgPayPacketFeeAsync=t.MsgPayPacketFeeResponse=t.MsgPayPacketFee=t.MsgRegisterCounterpartyPayeeResponse=t.MsgRegisterCounterpartyPayee=t.MsgRegisterPayeeResponse=t.MsgRegisterPayee=t.protobufPackage=void 0;const i=r(n(27808)),o=r(n(73737)),s=n(48553),a=n(27250);function d(e){return null!=e}t.protobufPackage="ibc.applications.fee.v1",t.MsgRegisterPayee={encode:(e,t=o.default.Writer.create())=>(""!==e.portId&&t.uint32(10).string(e.portId),""!==e.channelId&&t.uint32(18).string(e.channelId),""!==e.relayer&&t.uint32(26).string(e.relayer),""!==e.payee&&t.uint32(34).string(e.payee),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={portId:"",channelId:"",relayer:"",payee:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.portId=n.string();break;case 2:i.channelId=n.string();break;case 3:i.relayer=n.string();break;case 4:i.payee=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({portId:d(e.portId)?String(e.portId):"",channelId:d(e.channelId)?String(e.channelId):"",relayer:d(e.relayer)?String(e.relayer):"",payee:d(e.payee)?String(e.payee):""}),toJSON(e){const t={};return void 0!==e.portId&&(t.portId=e.portId),void 0!==e.channelId&&(t.channelId=e.channelId),void 0!==e.relayer&&(t.relayer=e.relayer),void 0!==e.payee&&(t.payee=e.payee),t},fromPartial(e){var t,n,r,i;const o={portId:"",channelId:"",relayer:"",payee:""};return o.portId=null!==(t=e.portId)&&void 0!==t?t:"",o.channelId=null!==(n=e.channelId)&&void 0!==n?n:"",o.relayer=null!==(r=e.relayer)&&void 0!==r?r:"",o.payee=null!==(i=e.payee)&&void 0!==i?i:"",o}},t.MsgRegisterPayeeResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},t.MsgRegisterCounterpartyPayee={encode:(e,t=o.default.Writer.create())=>(""!==e.portId&&t.uint32(10).string(e.portId),""!==e.channelId&&t.uint32(18).string(e.channelId),""!==e.relayer&&t.uint32(26).string(e.relayer),""!==e.counterpartyPayee&&t.uint32(34).string(e.counterpartyPayee),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={portId:"",channelId:"",relayer:"",counterpartyPayee:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.portId=n.string();break;case 2:i.channelId=n.string();break;case 3:i.relayer=n.string();break;case 4:i.counterpartyPayee=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({portId:d(e.portId)?String(e.portId):"",channelId:d(e.channelId)?String(e.channelId):"",relayer:d(e.relayer)?String(e.relayer):"",counterpartyPayee:d(e.counterpartyPayee)?String(e.counterpartyPayee):""}),toJSON(e){const t={};return void 0!==e.portId&&(t.portId=e.portId),void 0!==e.channelId&&(t.channelId=e.channelId),void 0!==e.relayer&&(t.relayer=e.relayer),void 0!==e.counterpartyPayee&&(t.counterpartyPayee=e.counterpartyPayee),t},fromPartial(e){var t,n,r,i;const o={portId:"",channelId:"",relayer:"",counterpartyPayee:""};return o.portId=null!==(t=e.portId)&&void 0!==t?t:"",o.channelId=null!==(n=e.channelId)&&void 0!==n?n:"",o.relayer=null!==(r=e.relayer)&&void 0!==r?r:"",o.counterpartyPayee=null!==(i=e.counterpartyPayee)&&void 0!==i?i:"",o}},t.MsgRegisterCounterpartyPayeeResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},t.MsgPayPacketFee={encode(e,t=o.default.Writer.create()){void 0!==e.fee&&s.Fee.encode(e.fee,t.uint32(10).fork()).ldelim(),""!==e.sourcePortId&&t.uint32(18).string(e.sourcePortId),""!==e.sourceChannelId&&t.uint32(26).string(e.sourceChannelId),""!==e.signer&&t.uint32(34).string(e.signer);for(const n of e.relayers)t.uint32(42).string(n);return t},decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={fee:void 0,sourcePortId:"",sourceChannelId:"",signer:"",relayers:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.fee=s.Fee.decode(n,n.uint32());break;case 2:i.sourcePortId=n.string();break;case 3:i.sourceChannelId=n.string();break;case 4:i.signer=n.string();break;case 5:i.relayers.push(n.string());break;default:n.skipType(7&e)}}return i},fromJSON:e=>({fee:d(e.fee)?s.Fee.fromJSON(e.fee):void 0,sourcePortId:d(e.sourcePortId)?String(e.sourcePortId):"",sourceChannelId:d(e.sourceChannelId)?String(e.sourceChannelId):"",signer:d(e.signer)?String(e.signer):"",relayers:Array.isArray(null==e?void 0:e.relayers)?e.relayers.map((e=>String(e))):[]}),toJSON(e){const t={};return void 0!==e.fee&&(t.fee=e.fee?s.Fee.toJSON(e.fee):void 0),void 0!==e.sourcePortId&&(t.sourcePortId=e.sourcePortId),void 0!==e.sourceChannelId&&(t.sourceChannelId=e.sourceChannelId),void 0!==e.signer&&(t.signer=e.signer),e.relayers?t.relayers=e.relayers.map((e=>e)):t.relayers=[],t},fromPartial(e){var t,n,r,i;const o={fee:void 0,sourcePortId:"",sourceChannelId:"",signer:"",relayers:[]};return o.fee=void 0!==e.fee&&null!==e.fee?s.Fee.fromPartial(e.fee):void 0,o.sourcePortId=null!==(t=e.sourcePortId)&&void 0!==t?t:"",o.sourceChannelId=null!==(n=e.sourceChannelId)&&void 0!==n?n:"",o.signer=null!==(r=e.signer)&&void 0!==r?r:"",o.relayers=(null===(i=e.relayers)||void 0===i?void 0:i.map((e=>e)))||[],o}},t.MsgPayPacketFeeResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},t.MsgPayPacketFeeAsync={encode:(e,t=o.default.Writer.create())=>(void 0!==e.packetId&&a.PacketId.encode(e.packetId,t.uint32(10).fork()).ldelim(),void 0!==e.packetFee&&s.PacketFee.encode(e.packetFee,t.uint32(18).fork()).ldelim(),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={packetId:void 0,packetFee:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.packetId=a.PacketId.decode(n,n.uint32());break;case 2:i.packetFee=s.PacketFee.decode(n,n.uint32());break;default:n.skipType(7&e)}}return i},fromJSON:e=>({packetId:d(e.packetId)?a.PacketId.fromJSON(e.packetId):void 0,packetFee:d(e.packetFee)?s.PacketFee.fromJSON(e.packetFee):void 0}),toJSON(e){const t={};return void 0!==e.packetId&&(t.packetId=e.packetId?a.PacketId.toJSON(e.packetId):void 0),void 0!==e.packetFee&&(t.packetFee=e.packetFee?s.PacketFee.toJSON(e.packetFee):void 0),t},fromPartial(e){const t={packetId:void 0,packetFee:void 0};return t.packetId=void 0!==e.packetId&&null!==e.packetId?a.PacketId.fromPartial(e.packetId):void 0,t.packetFee=void 0!==e.packetFee&&null!==e.packetFee?s.PacketFee.fromPartial(e.packetFee):void 0,t}},t.MsgPayPacketFeeAsyncResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},o.default.util.Long!==i.default&&(o.default.util.Long=i.default,o.default.configure())},94465:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MsgTransferResponse=t.MsgTransfer=t.protobufPackage=void 0;const i=r(n(27808)),o=r(n(73737)),s=n(58113),a=n(67984);function d(e){return null!=e}t.protobufPackage="ibc.applications.transfer.v1",t.MsgTransfer={encode:(e,t=o.default.Writer.create())=>(""!==e.sourcePort&&t.uint32(10).string(e.sourcePort),""!==e.sourceChannel&&t.uint32(18).string(e.sourceChannel),void 0!==e.token&&s.Coin.encode(e.token,t.uint32(26).fork()).ldelim(),""!==e.sender&&t.uint32(34).string(e.sender),""!==e.receiver&&t.uint32(42).string(e.receiver),void 0!==e.timeoutHeight&&a.Height.encode(e.timeoutHeight,t.uint32(50).fork()).ldelim(),"0"!==e.timeoutTimestamp&&t.uint32(56).uint64(e.timeoutTimestamp),""!==e.memo&&t.uint32(66).string(e.memo),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={sourcePort:"",sourceChannel:"",token:void 0,sender:"",receiver:"",timeoutHeight:void 0,timeoutTimestamp:"0",memo:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.sourcePort=n.string();break;case 2:i.sourceChannel=n.string();break;case 3:i.token=s.Coin.decode(n,n.uint32());break;case 4:i.sender=n.string();break;case 5:i.receiver=n.string();break;case 6:i.timeoutHeight=a.Height.decode(n,n.uint32());break;case 7:i.timeoutTimestamp=n.uint64().toString();break;case 8:i.memo=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({sourcePort:d(e.sourcePort)?String(e.sourcePort):"",sourceChannel:d(e.sourceChannel)?String(e.sourceChannel):"",token:d(e.token)?s.Coin.fromJSON(e.token):void 0,sender:d(e.sender)?String(e.sender):"",receiver:d(e.receiver)?String(e.receiver):"",timeoutHeight:d(e.timeoutHeight)?a.Height.fromJSON(e.timeoutHeight):void 0,timeoutTimestamp:d(e.timeoutTimestamp)?String(e.timeoutTimestamp):"0",memo:d(e.memo)?String(e.memo):""}),toJSON(e){const t={};return void 0!==e.sourcePort&&(t.sourcePort=e.sourcePort),void 0!==e.sourceChannel&&(t.sourceChannel=e.sourceChannel),void 0!==e.token&&(t.token=e.token?s.Coin.toJSON(e.token):void 0),void 0!==e.sender&&(t.sender=e.sender),void 0!==e.receiver&&(t.receiver=e.receiver),void 0!==e.timeoutHeight&&(t.timeoutHeight=e.timeoutHeight?a.Height.toJSON(e.timeoutHeight):void 0),void 0!==e.timeoutTimestamp&&(t.timeoutTimestamp=e.timeoutTimestamp),void 0!==e.memo&&(t.memo=e.memo),t},fromPartial(e){var t,n,r,i,o,d;const c={sourcePort:"",sourceChannel:"",token:void 0,sender:"",receiver:"",timeoutHeight:void 0,timeoutTimestamp:"0",memo:""};return c.sourcePort=null!==(t=e.sourcePort)&&void 0!==t?t:"",c.sourceChannel=null!==(n=e.sourceChannel)&&void 0!==n?n:"",c.token=void 0!==e.token&&null!==e.token?s.Coin.fromPartial(e.token):void 0,c.sender=null!==(r=e.sender)&&void 0!==r?r:"",c.receiver=null!==(i=e.receiver)&&void 0!==i?i:"",c.timeoutHeight=void 0!==e.timeoutHeight&&null!==e.timeoutHeight?a.Height.fromPartial(e.timeoutHeight):void 0,c.timeoutTimestamp=null!==(o=e.timeoutTimestamp)&&void 0!==o?o:"0",c.memo=null!==(d=e.memo)&&void 0!==d?d:"",c}},t.MsgTransferResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},o.default.util.Long!==i.default&&(o.default.util.Long=i.default,o.default.configure())},27250:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Timeout=t.Acknowledgement=t.PacketId=t.PacketState=t.Packet=t.Counterparty=t.IdentifiedChannel=t.Channel=t.orderToJSON=t.orderFromJSON=t.Order=t.stateToJSON=t.stateFromJSON=t.State=t.protobufPackage=void 0;const i=r(n(27808)),o=r(n(73737)),s=n(67984);var a,d;function c(e){switch(e){case 0:case"STATE_UNINITIALIZED_UNSPECIFIED":return a.STATE_UNINITIALIZED_UNSPECIFIED;case 1:case"STATE_INIT":return a.STATE_INIT;case 2:case"STATE_TRYOPEN":return a.STATE_TRYOPEN;case 3:case"STATE_OPEN":return a.STATE_OPEN;case 4:case"STATE_CLOSED":return a.STATE_CLOSED;default:return a.UNRECOGNIZED}}function u(e){switch(e){case a.STATE_UNINITIALIZED_UNSPECIFIED:return"STATE_UNINITIALIZED_UNSPECIFIED";case a.STATE_INIT:return"STATE_INIT";case a.STATE_TRYOPEN:return"STATE_TRYOPEN";case a.STATE_OPEN:return"STATE_OPEN";case a.STATE_CLOSED:return"STATE_CLOSED";default:return"UNKNOWN"}}function l(e){switch(e){case 0:case"ORDER_NONE_UNSPECIFIED":return d.ORDER_NONE_UNSPECIFIED;case 1:case"ORDER_UNORDERED":return d.ORDER_UNORDERED;case 2:case"ORDER_ORDERED":return d.ORDER_ORDERED;default:return d.UNRECOGNIZED}}function h(e){switch(e){case d.ORDER_NONE_UNSPECIFIED:return"ORDER_NONE_UNSPECIFIED";case d.ORDER_UNORDERED:return"ORDER_UNORDERED";case d.ORDER_ORDERED:return"ORDER_ORDERED";default:return"UNKNOWN"}}function p(){return{sequence:"0",sourcePort:"",sourceChannel:"",destinationPort:"",destinationChannel:"",data:new Uint8Array,timeoutHeight:void 0,timeoutTimestamp:"0"}}function f(){return{portId:"",channelId:"",sequence:"0",data:new Uint8Array}}t.protobufPackage="ibc.core.channel.v1",function(e){e[e.STATE_UNINITIALIZED_UNSPECIFIED=0]="STATE_UNINITIALIZED_UNSPECIFIED",e[e.STATE_INIT=1]="STATE_INIT",e[e.STATE_TRYOPEN=2]="STATE_TRYOPEN",e[e.STATE_OPEN=3]="STATE_OPEN",e[e.STATE_CLOSED=4]="STATE_CLOSED",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(a=t.State||(t.State={})),t.stateFromJSON=c,t.stateToJSON=u,function(e){e[e.ORDER_NONE_UNSPECIFIED=0]="ORDER_NONE_UNSPECIFIED",e[e.ORDER_UNORDERED=1]="ORDER_UNORDERED",e[e.ORDER_ORDERED=2]="ORDER_ORDERED",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(d=t.Order||(t.Order={})),t.orderFromJSON=l,t.orderToJSON=h,t.Channel={encode(e,n=o.default.Writer.create()){0!==e.state&&n.uint32(8).int32(e.state),0!==e.ordering&&n.uint32(16).int32(e.ordering),void 0!==e.counterparty&&t.Counterparty.encode(e.counterparty,n.uint32(26).fork()).ldelim();for(const t of e.connectionHops)n.uint32(34).string(t);return""!==e.version&&n.uint32(42).string(e.version),n},decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const s={state:0,ordering:0,counterparty:void 0,connectionHops:[],version:""};for(;r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:s.state=r.int32();break;case 2:s.ordering=r.int32();break;case 3:s.counterparty=t.Counterparty.decode(r,r.uint32());break;case 4:s.connectionHops.push(r.string());break;case 5:s.version=r.string();break;default:r.skipType(7&e)}}return s},fromJSON:e=>({state:w(e.state)?c(e.state):0,ordering:w(e.ordering)?l(e.ordering):0,counterparty:w(e.counterparty)?t.Counterparty.fromJSON(e.counterparty):void 0,connectionHops:Array.isArray(null==e?void 0:e.connectionHops)?e.connectionHops.map((e=>String(e))):[],version:w(e.version)?String(e.version):""}),toJSON(e){const n={};return void 0!==e.state&&(n.state=u(e.state)),void 0!==e.ordering&&(n.ordering=h(e.ordering)),void 0!==e.counterparty&&(n.counterparty=e.counterparty?t.Counterparty.toJSON(e.counterparty):void 0),e.connectionHops?n.connectionHops=e.connectionHops.map((e=>e)):n.connectionHops=[],void 0!==e.version&&(n.version=e.version),n},fromPartial(e){var n,r,i,o;const s={state:0,ordering:0,counterparty:void 0,connectionHops:[],version:""};return s.state=null!==(n=e.state)&&void 0!==n?n:0,s.ordering=null!==(r=e.ordering)&&void 0!==r?r:0,s.counterparty=void 0!==e.counterparty&&null!==e.counterparty?t.Counterparty.fromPartial(e.counterparty):void 0,s.connectionHops=(null===(i=e.connectionHops)||void 0===i?void 0:i.map((e=>e)))||[],s.version=null!==(o=e.version)&&void 0!==o?o:"",s}},t.IdentifiedChannel={encode(e,n=o.default.Writer.create()){0!==e.state&&n.uint32(8).int32(e.state),0!==e.ordering&&n.uint32(16).int32(e.ordering),void 0!==e.counterparty&&t.Counterparty.encode(e.counterparty,n.uint32(26).fork()).ldelim();for(const t of e.connectionHops)n.uint32(34).string(t);return""!==e.version&&n.uint32(42).string(e.version),""!==e.portId&&n.uint32(50).string(e.portId),""!==e.channelId&&n.uint32(58).string(e.channelId),n},decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const s={state:0,ordering:0,counterparty:void 0,connectionHops:[],version:"",portId:"",channelId:""};for(;r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:s.state=r.int32();break;case 2:s.ordering=r.int32();break;case 3:s.counterparty=t.Counterparty.decode(r,r.uint32());break;case 4:s.connectionHops.push(r.string());break;case 5:s.version=r.string();break;case 6:s.portId=r.string();break;case 7:s.channelId=r.string();break;default:r.skipType(7&e)}}return s},fromJSON:e=>({state:w(e.state)?c(e.state):0,ordering:w(e.ordering)?l(e.ordering):0,counterparty:w(e.counterparty)?t.Counterparty.fromJSON(e.counterparty):void 0,connectionHops:Array.isArray(null==e?void 0:e.connectionHops)?e.connectionHops.map((e=>String(e))):[],version:w(e.version)?String(e.version):"",portId:w(e.portId)?String(e.portId):"",channelId:w(e.channelId)?String(e.channelId):""}),toJSON(e){const n={};return void 0!==e.state&&(n.state=u(e.state)),void 0!==e.ordering&&(n.ordering=h(e.ordering)),void 0!==e.counterparty&&(n.counterparty=e.counterparty?t.Counterparty.toJSON(e.counterparty):void 0),e.connectionHops?n.connectionHops=e.connectionHops.map((e=>e)):n.connectionHops=[],void 0!==e.version&&(n.version=e.version),void 0!==e.portId&&(n.portId=e.portId),void 0!==e.channelId&&(n.channelId=e.channelId),n},fromPartial(e){var n,r,i,o,s,a;const d={state:0,ordering:0,counterparty:void 0,connectionHops:[],version:"",portId:"",channelId:""};return d.state=null!==(n=e.state)&&void 0!==n?n:0,d.ordering=null!==(r=e.ordering)&&void 0!==r?r:0,d.counterparty=void 0!==e.counterparty&&null!==e.counterparty?t.Counterparty.fromPartial(e.counterparty):void 0,d.connectionHops=(null===(i=e.connectionHops)||void 0===i?void 0:i.map((e=>e)))||[],d.version=null!==(o=e.version)&&void 0!==o?o:"",d.portId=null!==(s=e.portId)&&void 0!==s?s:"",d.channelId=null!==(a=e.channelId)&&void 0!==a?a:"",d}},t.Counterparty={encode:(e,t=o.default.Writer.create())=>(""!==e.portId&&t.uint32(10).string(e.portId),""!==e.channelId&&t.uint32(18).string(e.channelId),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={portId:"",channelId:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.portId=n.string();break;case 2:i.channelId=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({portId:w(e.portId)?String(e.portId):"",channelId:w(e.channelId)?String(e.channelId):""}),toJSON(e){const t={};return void 0!==e.portId&&(t.portId=e.portId),void 0!==e.channelId&&(t.channelId=e.channelId),t},fromPartial(e){var t,n;const r={portId:"",channelId:""};return r.portId=null!==(t=e.portId)&&void 0!==t?t:"",r.channelId=null!==(n=e.channelId)&&void 0!==n?n:"",r}},t.Packet={encode:(e,t=o.default.Writer.create())=>("0"!==e.sequence&&t.uint32(8).uint64(e.sequence),""!==e.sourcePort&&t.uint32(18).string(e.sourcePort),""!==e.sourceChannel&&t.uint32(26).string(e.sourceChannel),""!==e.destinationPort&&t.uint32(34).string(e.destinationPort),""!==e.destinationChannel&&t.uint32(42).string(e.destinationChannel),0!==e.data.length&&t.uint32(50).bytes(e.data),void 0!==e.timeoutHeight&&s.Height.encode(e.timeoutHeight,t.uint32(58).fork()).ldelim(),"0"!==e.timeoutTimestamp&&t.uint32(64).uint64(e.timeoutTimestamp),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=p();for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.sequence=S(n.uint64());break;case 2:i.sourcePort=n.string();break;case 3:i.sourceChannel=n.string();break;case 4:i.destinationPort=n.string();break;case 5:i.destinationChannel=n.string();break;case 6:i.data=n.bytes();break;case 7:i.timeoutHeight=s.Height.decode(n,n.uint32());break;case 8:i.timeoutTimestamp=S(n.uint64());break;default:n.skipType(7&e)}}return i},fromJSON:e=>({sequence:w(e.sequence)?String(e.sequence):"0",sourcePort:w(e.sourcePort)?String(e.sourcePort):"",sourceChannel:w(e.sourceChannel)?String(e.sourceChannel):"",destinationPort:w(e.destinationPort)?String(e.destinationPort):"",destinationChannel:w(e.destinationChannel)?String(e.destinationChannel):"",data:w(e.data)?m(e.data):new Uint8Array,timeoutHeight:w(e.timeoutHeight)?s.Height.fromJSON(e.timeoutHeight):void 0,timeoutTimestamp:w(e.timeoutTimestamp)?String(e.timeoutTimestamp):"0"}),toJSON(e){const t={};return void 0!==e.sequence&&(t.sequence=e.sequence),void 0!==e.sourcePort&&(t.sourcePort=e.sourcePort),void 0!==e.sourceChannel&&(t.sourceChannel=e.sourceChannel),void 0!==e.destinationPort&&(t.destinationPort=e.destinationPort),void 0!==e.destinationChannel&&(t.destinationChannel=e.destinationChannel),void 0!==e.data&&(t.data=b(void 0!==e.data?e.data:new Uint8Array)),void 0!==e.timeoutHeight&&(t.timeoutHeight=e.timeoutHeight?s.Height.toJSON(e.timeoutHeight):void 0),void 0!==e.timeoutTimestamp&&(t.timeoutTimestamp=e.timeoutTimestamp),t},fromPartial(e){var t,n,r,i,o,a,d;const c=p();return c.sequence=null!==(t=e.sequence)&&void 0!==t?t:"0",c.sourcePort=null!==(n=e.sourcePort)&&void 0!==n?n:"",c.sourceChannel=null!==(r=e.sourceChannel)&&void 0!==r?r:"",c.destinationPort=null!==(i=e.destinationPort)&&void 0!==i?i:"",c.destinationChannel=null!==(o=e.destinationChannel)&&void 0!==o?o:"",c.data=null!==(a=e.data)&&void 0!==a?a:new Uint8Array,c.timeoutHeight=void 0!==e.timeoutHeight&&null!==e.timeoutHeight?s.Height.fromPartial(e.timeoutHeight):void 0,c.timeoutTimestamp=null!==(d=e.timeoutTimestamp)&&void 0!==d?d:"0",c}},t.PacketState={encode:(e,t=o.default.Writer.create())=>(""!==e.portId&&t.uint32(10).string(e.portId),""!==e.channelId&&t.uint32(18).string(e.channelId),"0"!==e.sequence&&t.uint32(24).uint64(e.sequence),0!==e.data.length&&t.uint32(34).bytes(e.data),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=f();for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.portId=n.string();break;case 2:i.channelId=n.string();break;case 3:i.sequence=S(n.uint64());break;case 4:i.data=n.bytes();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({portId:w(e.portId)?String(e.portId):"",channelId:w(e.channelId)?String(e.channelId):"",sequence:w(e.sequence)?String(e.sequence):"0",data:w(e.data)?m(e.data):new Uint8Array}),toJSON(e){const t={};return void 0!==e.portId&&(t.portId=e.portId),void 0!==e.channelId&&(t.channelId=e.channelId),void 0!==e.sequence&&(t.sequence=e.sequence),void 0!==e.data&&(t.data=b(void 0!==e.data?e.data:new Uint8Array)),t},fromPartial(e){var t,n,r,i;const o=f();return o.portId=null!==(t=e.portId)&&void 0!==t?t:"",o.channelId=null!==(n=e.channelId)&&void 0!==n?n:"",o.sequence=null!==(r=e.sequence)&&void 0!==r?r:"0",o.data=null!==(i=e.data)&&void 0!==i?i:new Uint8Array,o}},t.PacketId={encode:(e,t=o.default.Writer.create())=>(""!==e.portId&&t.uint32(10).string(e.portId),""!==e.channelId&&t.uint32(18).string(e.channelId),"0"!==e.sequence&&t.uint32(24).uint64(e.sequence),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={portId:"",channelId:"",sequence:"0"};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.portId=n.string();break;case 2:i.channelId=n.string();break;case 3:i.sequence=S(n.uint64());break;default:n.skipType(7&e)}}return i},fromJSON:e=>({portId:w(e.portId)?String(e.portId):"",channelId:w(e.channelId)?String(e.channelId):"",sequence:w(e.sequence)?String(e.sequence):"0"}),toJSON(e){const t={};return void 0!==e.portId&&(t.portId=e.portId),void 0!==e.channelId&&(t.channelId=e.channelId),void 0!==e.sequence&&(t.sequence=e.sequence),t},fromPartial(e){var t,n,r;const i={portId:"",channelId:"",sequence:"0"};return i.portId=null!==(t=e.portId)&&void 0!==t?t:"",i.channelId=null!==(n=e.channelId)&&void 0!==n?n:"",i.sequence=null!==(r=e.sequence)&&void 0!==r?r:"0",i}},t.Acknowledgement={encode:(e,t=o.default.Writer.create())=>(void 0!==e.result&&t.uint32(170).bytes(e.result),void 0!==e.error&&t.uint32(178).string(e.error),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={result:void 0,error:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 21:i.result=n.bytes();break;case 22:i.error=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({result:w(e.result)?m(e.result):void 0,error:w(e.error)?String(e.error):void 0}),toJSON(e){const t={};return void 0!==e.result&&(t.result=void 0!==e.result?b(e.result):void 0),void 0!==e.error&&(t.error=e.error),t},fromPartial(e){var t,n;const r={result:void 0,error:void 0};return r.result=null!==(t=e.result)&&void 0!==t?t:void 0,r.error=null!==(n=e.error)&&void 0!==n?n:void 0,r}},t.Timeout={encode:(e,t=o.default.Writer.create())=>(void 0!==e.height&&s.Height.encode(e.height,t.uint32(10).fork()).ldelim(),"0"!==e.timestamp&&t.uint32(16).uint64(e.timestamp),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={height:void 0,timestamp:"0"};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.height=s.Height.decode(n,n.uint32());break;case 2:i.timestamp=S(n.uint64());break;default:n.skipType(7&e)}}return i},fromJSON:e=>({height:w(e.height)?s.Height.fromJSON(e.height):void 0,timestamp:w(e.timestamp)?String(e.timestamp):"0"}),toJSON(e){const t={};return void 0!==e.height&&(t.height=e.height?s.Height.toJSON(e.height):void 0),void 0!==e.timestamp&&(t.timestamp=e.timestamp),t},fromPartial(e){var t;const n={height:void 0,timestamp:"0"};return n.height=void 0!==e.height&&null!==e.height?s.Height.fromPartial(e.height):void 0,n.timestamp=null!==(t=e.timestamp)&&void 0!==t?t:"0",n}};var g=(()=>{if(void 0!==g)return g;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw"Unable to locate global object"})();const v=g.atob||(e=>g.Buffer.from(e,"base64").toString("binary"));function m(e){const t=v(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n[e]=t.charCodeAt(e);return n}const y=g.btoa||(e=>g.Buffer.from(e,"binary").toString("base64"));function b(e){const t=[];for(const n of e)t.push(String.fromCharCode(n));return y(t.join(""))}function S(e){return e.toString()}function w(e){return null!=e}o.default.util.Long!==i.default&&(o.default.util.Long=i.default,o.default.configure())},67984:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Params=t.Height=t.UpgradeProposal=t.ClientUpdateProposal=t.ClientConsensusStates=t.ConsensusStateWithHeight=t.IdentifiedClientState=t.protobufPackage=void 0;const i=r(n(27808)),o=r(n(73737)),s=n(20165),a=n(6672);function d(e){return e.toString()}function c(e){return null!=e}t.protobufPackage="ibc.core.client.v1",t.IdentifiedClientState={encode:(e,t=o.default.Writer.create())=>(""!==e.clientId&&t.uint32(10).string(e.clientId),void 0!==e.clientState&&s.Any.encode(e.clientState,t.uint32(18).fork()).ldelim(),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={clientId:"",clientState:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.clientId=n.string();break;case 2:i.clientState=s.Any.decode(n,n.uint32());break;default:n.skipType(7&e)}}return i},fromJSON:e=>({clientId:c(e.clientId)?String(e.clientId):"",clientState:c(e.clientState)?s.Any.fromJSON(e.clientState):void 0}),toJSON(e){const t={};return void 0!==e.clientId&&(t.clientId=e.clientId),void 0!==e.clientState&&(t.clientState=e.clientState?s.Any.toJSON(e.clientState):void 0),t},fromPartial(e){var t;const n={clientId:"",clientState:void 0};return n.clientId=null!==(t=e.clientId)&&void 0!==t?t:"",n.clientState=void 0!==e.clientState&&null!==e.clientState?s.Any.fromPartial(e.clientState):void 0,n}},t.ConsensusStateWithHeight={encode:(e,n=o.default.Writer.create())=>(void 0!==e.height&&t.Height.encode(e.height,n.uint32(10).fork()).ldelim(),void 0!==e.consensusState&&s.Any.encode(e.consensusState,n.uint32(18).fork()).ldelim(),n),decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const a={height:void 0,consensusState:void 0};for(;r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:a.height=t.Height.decode(r,r.uint32());break;case 2:a.consensusState=s.Any.decode(r,r.uint32());break;default:r.skipType(7&e)}}return a},fromJSON:e=>({height:c(e.height)?t.Height.fromJSON(e.height):void 0,consensusState:c(e.consensusState)?s.Any.fromJSON(e.consensusState):void 0}),toJSON(e){const n={};return void 0!==e.height&&(n.height=e.height?t.Height.toJSON(e.height):void 0),void 0!==e.consensusState&&(n.consensusState=e.consensusState?s.Any.toJSON(e.consensusState):void 0),n},fromPartial(e){const n={height:void 0,consensusState:void 0};return n.height=void 0!==e.height&&null!==e.height?t.Height.fromPartial(e.height):void 0,n.consensusState=void 0!==e.consensusState&&null!==e.consensusState?s.Any.fromPartial(e.consensusState):void 0,n}},t.ClientConsensusStates={encode(e,n=o.default.Writer.create()){""!==e.clientId&&n.uint32(10).string(e.clientId);for(const r of e.consensusStates)t.ConsensusStateWithHeight.encode(r,n.uint32(18).fork()).ldelim();return n},decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const s={clientId:"",consensusStates:[]};for(;r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:s.clientId=r.string();break;case 2:s.consensusStates.push(t.ConsensusStateWithHeight.decode(r,r.uint32()));break;default:r.skipType(7&e)}}return s},fromJSON:e=>({clientId:c(e.clientId)?String(e.clientId):"",consensusStates:Array.isArray(null==e?void 0:e.consensusStates)?e.consensusStates.map((e=>t.ConsensusStateWithHeight.fromJSON(e))):[]}),toJSON(e){const n={};return void 0!==e.clientId&&(n.clientId=e.clientId),e.consensusStates?n.consensusStates=e.consensusStates.map((e=>e?t.ConsensusStateWithHeight.toJSON(e):void 0)):n.consensusStates=[],n},fromPartial(e){var n,r;const i={clientId:"",consensusStates:[]};return i.clientId=null!==(n=e.clientId)&&void 0!==n?n:"",i.consensusStates=(null===(r=e.consensusStates)||void 0===r?void 0:r.map((e=>t.ConsensusStateWithHeight.fromPartial(e))))||[],i}},t.ClientUpdateProposal={encode:(e,t=o.default.Writer.create())=>(""!==e.title&&t.uint32(10).string(e.title),""!==e.description&&t.uint32(18).string(e.description),""!==e.subjectClientId&&t.uint32(26).string(e.subjectClientId),""!==e.substituteClientId&&t.uint32(34).string(e.substituteClientId),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={title:"",description:"",subjectClientId:"",substituteClientId:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.title=n.string();break;case 2:i.description=n.string();break;case 3:i.subjectClientId=n.string();break;case 4:i.substituteClientId=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({title:c(e.title)?String(e.title):"",description:c(e.description)?String(e.description):"",subjectClientId:c(e.subjectClientId)?String(e.subjectClientId):"",substituteClientId:c(e.substituteClientId)?String(e.substituteClientId):""}),toJSON(e){const t={};return void 0!==e.title&&(t.title=e.title),void 0!==e.description&&(t.description=e.description),void 0!==e.subjectClientId&&(t.subjectClientId=e.subjectClientId),void 0!==e.substituteClientId&&(t.substituteClientId=e.substituteClientId),t},fromPartial(e){var t,n,r,i;const o={title:"",description:"",subjectClientId:"",substituteClientId:""};return o.title=null!==(t=e.title)&&void 0!==t?t:"",o.description=null!==(n=e.description)&&void 0!==n?n:"",o.subjectClientId=null!==(r=e.subjectClientId)&&void 0!==r?r:"",o.substituteClientId=null!==(i=e.substituteClientId)&&void 0!==i?i:"",o}},t.UpgradeProposal={encode:(e,t=o.default.Writer.create())=>(""!==e.title&&t.uint32(10).string(e.title),""!==e.description&&t.uint32(18).string(e.description),void 0!==e.plan&&a.Plan.encode(e.plan,t.uint32(26).fork()).ldelim(),void 0!==e.upgradedClientState&&s.Any.encode(e.upgradedClientState,t.uint32(34).fork()).ldelim(),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={title:"",description:"",plan:void 0,upgradedClientState:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.title=n.string();break;case 2:i.description=n.string();break;case 3:i.plan=a.Plan.decode(n,n.uint32());break;case 4:i.upgradedClientState=s.Any.decode(n,n.uint32());break;default:n.skipType(7&e)}}return i},fromJSON:e=>({title:c(e.title)?String(e.title):"",description:c(e.description)?String(e.description):"",plan:c(e.plan)?a.Plan.fromJSON(e.plan):void 0,upgradedClientState:c(e.upgradedClientState)?s.Any.fromJSON(e.upgradedClientState):void 0}),toJSON(e){const t={};return void 0!==e.title&&(t.title=e.title),void 0!==e.description&&(t.description=e.description),void 0!==e.plan&&(t.plan=e.plan?a.Plan.toJSON(e.plan):void 0),void 0!==e.upgradedClientState&&(t.upgradedClientState=e.upgradedClientState?s.Any.toJSON(e.upgradedClientState):void 0),t},fromPartial(e){var t,n;const r={title:"",description:"",plan:void 0,upgradedClientState:void 0};return r.title=null!==(t=e.title)&&void 0!==t?t:"",r.description=null!==(n=e.description)&&void 0!==n?n:"",r.plan=void 0!==e.plan&&null!==e.plan?a.Plan.fromPartial(e.plan):void 0,r.upgradedClientState=void 0!==e.upgradedClientState&&null!==e.upgradedClientState?s.Any.fromPartial(e.upgradedClientState):void 0,r}},t.Height={encode:(e,t=o.default.Writer.create())=>("0"!==e.revisionNumber&&t.uint32(8).uint64(e.revisionNumber),"0"!==e.revisionHeight&&t.uint32(16).uint64(e.revisionHeight),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={revisionNumber:"0",revisionHeight:"0"};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.revisionNumber=d(n.uint64());break;case 2:i.revisionHeight=d(n.uint64());break;default:n.skipType(7&e)}}return i},fromJSON:e=>({revisionNumber:c(e.revisionNumber)?String(e.revisionNumber):"0",revisionHeight:c(e.revisionHeight)?String(e.revisionHeight):"0"}),toJSON(e){const t={};return void 0!==e.revisionNumber&&(t.revisionNumber=e.revisionNumber),void 0!==e.revisionHeight&&(t.revisionHeight=e.revisionHeight),t},fromPartial(e){var t,n;const r={revisionNumber:"0",revisionHeight:"0"};return r.revisionNumber=null!==(t=e.revisionNumber)&&void 0!==t?t:"0",r.revisionHeight=null!==(n=e.revisionHeight)&&void 0!==n?n:"0",r}},t.Params={encode(e,t=o.default.Writer.create()){for(const n of e.allowedClients)t.uint32(10).string(n);return t},decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={allowedClients:[]};for(;n.pos<r;){const e=n.uint32();e>>>3==1?i.allowedClients.push(n.string()):n.skipType(7&e)}return i},fromJSON:e=>({allowedClients:Array.isArray(null==e?void 0:e.allowedClients)?e.allowedClients.map((e=>String(e))):[]}),toJSON(e){const t={};return e.allowedClients?t.allowedClients=e.allowedClients.map((e=>e)):t.allowedClients=[],t},fromPartial(e){var t;const n={allowedClients:[]};return n.allowedClients=(null===(t=e.allowedClients)||void 0===t?void 0:t.map((e=>e)))||[],n}},o.default.util.Long!==i.default&&(o.default.util.Long=i.default,o.default.configure())},13750:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SlashRecord=t.RedemptionRecord=t.UnbondingRecord=t.DelegationRecord=t.HostZone=t.unbondingRecordStatusToJSON=t.unbondingRecordStatusFromJSON=t.UnbondingRecordStatus=t.delegationRecordStatusToJSON=t.delegationRecordStatusFromJSON=t.DelegationRecordStatus=t.protobufPackage=void 0;const i=r(n(27808)),o=r(n(73737));var s,a;function d(e){switch(e){case 0:case"TRANSFER_IN_PROGRESS":return s.TRANSFER_IN_PROGRESS;case 1:case"TRANSFER_FAILED":return s.TRANSFER_FAILED;case 2:case"DELEGATION_QUEUE":return s.DELEGATION_QUEUE;case 3:case"DELEGATION_COMPLETE":return s.DELEGATION_COMPLETE;default:return s.UNRECOGNIZED}}function c(e){switch(e){case s.TRANSFER_IN_PROGRESS:return"TRANSFER_IN_PROGRESS";case s.TRANSFER_FAILED:return"TRANSFER_FAILED";case s.DELEGATION_QUEUE:return"DELEGATION_QUEUE";case s.DELEGATION_COMPLETE:return"DELEGATION_COMPLETE";default:return"UNKNOWN"}}function u(e){switch(e){case 0:case"ACCUMULATING_REDEMPTIONS":return a.ACCUMULATING_REDEMPTIONS;case 1:case"UNBONDING_QUEUE":return a.UNBONDING_QUEUE;case 2:case"UNBONDING_IN_PROGRESS":return a.UNBONDING_IN_PROGRESS;case 3:case"UNBONDED":return a.UNBONDED;case 4:case"CLAIMABLE":return a.CLAIMABLE;case 5:case"CLAIMED":return a.CLAIMED;default:return a.UNRECOGNIZED}}function l(e){switch(e){case a.ACCUMULATING_REDEMPTIONS:return"ACCUMULATING_REDEMPTIONS";case a.UNBONDING_QUEUE:return"UNBONDING_QUEUE";case a.UNBONDING_IN_PROGRESS:return"UNBONDING_IN_PROGRESS";case a.UNBONDED:return"UNBONDED";case a.CLAIMABLE:return"CLAIMABLE";case a.CLAIMED:return"CLAIMED";default:return"UNKNOWN"}}function h(e){return e.toString()}function p(e){return null!=e}t.protobufPackage="stride.stakedym",function(e){e[e.TRANSFER_IN_PROGRESS=0]="TRANSFER_IN_PROGRESS",e[e.TRANSFER_FAILED=1]="TRANSFER_FAILED",e[e.DELEGATION_QUEUE=2]="DELEGATION_QUEUE",e[e.DELEGATION_COMPLETE=3]="DELEGATION_COMPLETE",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(s=t.DelegationRecordStatus||(t.DelegationRecordStatus={})),t.delegationRecordStatusFromJSON=d,t.delegationRecordStatusToJSON=c,function(e){e[e.ACCUMULATING_REDEMPTIONS=0]="ACCUMULATING_REDEMPTIONS",e[e.UNBONDING_QUEUE=1]="UNBONDING_QUEUE",e[e.UNBONDING_IN_PROGRESS=2]="UNBONDING_IN_PROGRESS",e[e.UNBONDED=3]="UNBONDED",e[e.CLAIMABLE=4]="CLAIMABLE",e[e.CLAIMED=5]="CLAIMED",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(a=t.UnbondingRecordStatus||(t.UnbondingRecordStatus={})),t.unbondingRecordStatusFromJSON=u,t.unbondingRecordStatusToJSON=l,t.HostZone={encode:(e,t=o.default.Writer.create())=>(""!==e.chainId&&t.uint32(10).string(e.chainId),""!==e.nativeTokenDenom&&t.uint32(18).string(e.nativeTokenDenom),""!==e.nativeTokenIbcDenom&&t.uint32(26).string(e.nativeTokenIbcDenom),""!==e.transferChannelId&&t.uint32(34).string(e.transferChannelId),""!==e.delegationAddress&&t.uint32(42).string(e.delegationAddress),""!==e.rewardAddress&&t.uint32(50).string(e.rewardAddress),""!==e.depositAddress&&t.uint32(58).string(e.depositAddress),""!==e.redemptionAddress&&t.uint32(66).string(e.redemptionAddress),""!==e.claimAddress&&t.uint32(74).string(e.claimAddress),""!==e.operatorAddressOnStride&&t.uint32(82).string(e.operatorAddressOnStride),""!==e.safeAddressOnStride&&t.uint32(90).string(e.safeAddressOnStride),""!==e.lastRedemptionRate&&t.uint32(98).string(e.lastRedemptionRate),""!==e.redemptionRate&&t.uint32(106).string(e.redemptionRate),""!==e.minRedemptionRate&&t.uint32(114).string(e.minRedemptionRate),""!==e.maxRedemptionRate&&t.uint32(122).string(e.maxRedemptionRate),""!==e.minInnerRedemptionRate&&t.uint32(130).string(e.minInnerRedemptionRate),""!==e.maxInnerRedemptionRate&&t.uint32(138).string(e.maxInnerRedemptionRate),""!==e.delegatedBalance&&t.uint32(146).string(e.delegatedBalance),"0"!==e.unbondingPeriodSeconds&&t.uint32(152).uint64(e.unbondingPeriodSeconds),!0===e.halted&&t.uint32(160).bool(e.halted),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={chainId:"",nativeTokenDenom:"",nativeTokenIbcDenom:"",transferChannelId:"",delegationAddress:"",rewardAddress:"",depositAddress:"",redemptionAddress:"",claimAddress:"",operatorAddressOnStride:"",safeAddressOnStride:"",lastRedemptionRate:"",redemptionRate:"",minRedemptionRate:"",maxRedemptionRate:"",minInnerRedemptionRate:"",maxInnerRedemptionRate:"",delegatedBalance:"",unbondingPeriodSeconds:"0",halted:!1};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.chainId=n.string();break;case 2:i.nativeTokenDenom=n.string();break;case 3:i.nativeTokenIbcDenom=n.string();break;case 4:i.transferChannelId=n.string();break;case 5:i.delegationAddress=n.string();break;case 6:i.rewardAddress=n.string();break;case 7:i.depositAddress=n.string();break;case 8:i.redemptionAddress=n.string();break;case 9:i.claimAddress=n.string();break;case 10:i.operatorAddressOnStride=n.string();break;case 11:i.safeAddressOnStride=n.string();break;case 12:i.lastRedemptionRate=n.string();break;case 13:i.redemptionRate=n.string();break;case 14:i.minRedemptionRate=n.string();break;case 15:i.maxRedemptionRate=n.string();break;case 16:i.minInnerRedemptionRate=n.string();break;case 17:i.maxInnerRedemptionRate=n.string();break;case 18:i.delegatedBalance=n.string();break;case 19:i.unbondingPeriodSeconds=h(n.uint64());break;case 20:i.halted=n.bool();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({chainId:p(e.chainId)?String(e.chainId):"",nativeTokenDenom:p(e.nativeTokenDenom)?String(e.nativeTokenDenom):"",nativeTokenIbcDenom:p(e.nativeTokenIbcDenom)?String(e.nativeTokenIbcDenom):"",transferChannelId:p(e.transferChannelId)?String(e.transferChannelId):"",delegationAddress:p(e.delegationAddress)?String(e.delegationAddress):"",rewardAddress:p(e.rewardAddress)?String(e.rewardAddress):"",depositAddress:p(e.depositAddress)?String(e.depositAddress):"",redemptionAddress:p(e.redemptionAddress)?String(e.redemptionAddress):"",claimAddress:p(e.claimAddress)?String(e.claimAddress):"",operatorAddressOnStride:p(e.operatorAddressOnStride)?String(e.operatorAddressOnStride):"",safeAddressOnStride:p(e.safeAddressOnStride)?String(e.safeAddressOnStride):"",lastRedemptionRate:p(e.lastRedemptionRate)?String(e.lastRedemptionRate):"",redemptionRate:p(e.redemptionRate)?String(e.redemptionRate):"",minRedemptionRate:p(e.minRedemptionRate)?String(e.minRedemptionRate):"",maxRedemptionRate:p(e.maxRedemptionRate)?String(e.maxRedemptionRate):"",minInnerRedemptionRate:p(e.minInnerRedemptionRate)?String(e.minInnerRedemptionRate):"",maxInnerRedemptionRate:p(e.maxInnerRedemptionRate)?String(e.maxInnerRedemptionRate):"",delegatedBalance:p(e.delegatedBalance)?String(e.delegatedBalance):"",unbondingPeriodSeconds:p(e.unbondingPeriodSeconds)?String(e.unbondingPeriodSeconds):"0",halted:!!p(e.halted)&&Boolean(e.halted)}),toJSON(e){const t={};return void 0!==e.chainId&&(t.chainId=e.chainId),void 0!==e.nativeTokenDenom&&(t.nativeTokenDenom=e.nativeTokenDenom),void 0!==e.nativeTokenIbcDenom&&(t.nativeTokenIbcDenom=e.nativeTokenIbcDenom),void 0!==e.transferChannelId&&(t.transferChannelId=e.transferChannelId),void 0!==e.delegationAddress&&(t.delegationAddress=e.delegationAddress),void 0!==e.rewardAddress&&(t.rewardAddress=e.rewardAddress),void 0!==e.depositAddress&&(t.depositAddress=e.depositAddress),void 0!==e.redemptionAddress&&(t.redemptionAddress=e.redemptionAddress),void 0!==e.claimAddress&&(t.claimAddress=e.claimAddress),void 0!==e.operatorAddressOnStride&&(t.operatorAddressOnStride=e.operatorAddressOnStride),void 0!==e.safeAddressOnStride&&(t.safeAddressOnStride=e.safeAddressOnStride),void 0!==e.lastRedemptionRate&&(t.lastRedemptionRate=e.lastRedemptionRate),void 0!==e.redemptionRate&&(t.redemptionRate=e.redemptionRate),void 0!==e.minRedemptionRate&&(t.minRedemptionRate=e.minRedemptionRate),void 0!==e.maxRedemptionRate&&(t.maxRedemptionRate=e.maxRedemptionRate),void 0!==e.minInnerRedemptionRate&&(t.minInnerRedemptionRate=e.minInnerRedemptionRate),void 0!==e.maxInnerRedemptionRate&&(t.maxInnerRedemptionRate=e.maxInnerRedemptionRate),void 0!==e.delegatedBalance&&(t.delegatedBalance=e.delegatedBalance),void 0!==e.unbondingPeriodSeconds&&(t.unbondingPeriodSeconds=e.unbondingPeriodSeconds),void 0!==e.halted&&(t.halted=e.halted),t},fromPartial(e){var t,n,r,i,o,s,a,d,c,u,l,h,p,f,g,v,m,y,b,S;const w={chainId:"",nativeTokenDenom:"",nativeTokenIbcDenom:"",transferChannelId:"",delegationAddress:"",rewardAddress:"",depositAddress:"",redemptionAddress:"",claimAddress:"",operatorAddressOnStride:"",safeAddressOnStride:"",lastRedemptionRate:"",redemptionRate:"",minRedemptionRate:"",maxRedemptionRate:"",minInnerRedemptionRate:"",maxInnerRedemptionRate:"",delegatedBalance:"",unbondingPeriodSeconds:"0",halted:!1};return w.chainId=null!==(t=e.chainId)&&void 0!==t?t:"",w.nativeTokenDenom=null!==(n=e.nativeTokenDenom)&&void 0!==n?n:"",w.nativeTokenIbcDenom=null!==(r=e.nativeTokenIbcDenom)&&void 0!==r?r:"",w.transferChannelId=null!==(i=e.transferChannelId)&&void 0!==i?i:"",w.delegationAddress=null!==(o=e.delegationAddress)&&void 0!==o?o:"",w.rewardAddress=null!==(s=e.rewardAddress)&&void 0!==s?s:"",w.depositAddress=null!==(a=e.depositAddress)&&void 0!==a?a:"",w.redemptionAddress=null!==(d=e.redemptionAddress)&&void 0!==d?d:"",w.claimAddress=null!==(c=e.claimAddress)&&void 0!==c?c:"",w.operatorAddressOnStride=null!==(u=e.operatorAddressOnStride)&&void 0!==u?u:"",w.safeAddressOnStride=null!==(l=e.safeAddressOnStride)&&void 0!==l?l:"",w.lastRedemptionRate=null!==(h=e.lastRedemptionRate)&&void 0!==h?h:"",w.redemptionRate=null!==(p=e.redemptionRate)&&void 0!==p?p:"",w.minRedemptionRate=null!==(f=e.minRedemptionRate)&&void 0!==f?f:"",w.maxRedemptionRate=null!==(g=e.maxRedemptionRate)&&void 0!==g?g:"",w.minInnerRedemptionRate=null!==(v=e.minInnerRedemptionRate)&&void 0!==v?v:"",w.maxInnerRedemptionRate=null!==(m=e.maxInnerRedemptionRate)&&void 0!==m?m:"",w.delegatedBalance=null!==(y=e.delegatedBalance)&&void 0!==y?y:"",w.unbondingPeriodSeconds=null!==(b=e.unbondingPeriodSeconds)&&void 0!==b?b:"0",w.halted=null!==(S=e.halted)&&void 0!==S&&S,w}},t.DelegationRecord={encode:(e,t=o.default.Writer.create())=>("0"!==e.id&&t.uint32(8).uint64(e.id),""!==e.nativeAmount&&t.uint32(18).string(e.nativeAmount),0!==e.status&&t.uint32(24).int32(e.status),""!==e.txHash&&t.uint32(34).string(e.txHash),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={id:"0",nativeAmount:"",status:0,txHash:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.id=h(n.uint64());break;case 2:i.nativeAmount=n.string();break;case 3:i.status=n.int32();break;case 4:i.txHash=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({id:p(e.id)?String(e.id):"0",nativeAmount:p(e.nativeAmount)?String(e.nativeAmount):"",status:p(e.status)?d(e.status):0,txHash:p(e.txHash)?String(e.txHash):""}),toJSON(e){const t={};return void 0!==e.id&&(t.id=e.id),void 0!==e.nativeAmount&&(t.nativeAmount=e.nativeAmount),void 0!==e.status&&(t.status=c(e.status)),void 0!==e.txHash&&(t.txHash=e.txHash),t},fromPartial(e){var t,n,r,i;const o={id:"0",nativeAmount:"",status:0,txHash:""};return o.id=null!==(t=e.id)&&void 0!==t?t:"0",o.nativeAmount=null!==(n=e.nativeAmount)&&void 0!==n?n:"",o.status=null!==(r=e.status)&&void 0!==r?r:0,o.txHash=null!==(i=e.txHash)&&void 0!==i?i:"",o}},t.UnbondingRecord={encode:(e,t=o.default.Writer.create())=>("0"!==e.id&&t.uint32(8).uint64(e.id),0!==e.status&&t.uint32(16).int32(e.status),""!==e.stTokenAmount&&t.uint32(26).string(e.stTokenAmount),""!==e.nativeAmount&&t.uint32(34).string(e.nativeAmount),"0"!==e.unbondingCompletionTimeSeconds&&t.uint32(40).uint64(e.unbondingCompletionTimeSeconds),""!==e.undelegationTxHash&&t.uint32(50).string(e.undelegationTxHash),""!==e.unbondedTokenSweepTxHash&&t.uint32(58).string(e.unbondedTokenSweepTxHash),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={id:"0",status:0,stTokenAmount:"",nativeAmount:"",unbondingCompletionTimeSeconds:"0",undelegationTxHash:"",unbondedTokenSweepTxHash:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.id=h(n.uint64());break;case 2:i.status=n.int32();break;case 3:i.stTokenAmount=n.string();break;case 4:i.nativeAmount=n.string();break;case 5:i.unbondingCompletionTimeSeconds=h(n.uint64());break;case 6:i.undelegationTxHash=n.string();break;case 7:i.unbondedTokenSweepTxHash=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({id:p(e.id)?String(e.id):"0",status:p(e.status)?u(e.status):0,stTokenAmount:p(e.stTokenAmount)?String(e.stTokenAmount):"",nativeAmount:p(e.nativeAmount)?String(e.nativeAmount):"",unbondingCompletionTimeSeconds:p(e.unbondingCompletionTimeSeconds)?String(e.unbondingCompletionTimeSeconds):"0",undelegationTxHash:p(e.undelegationTxHash)?String(e.undelegationTxHash):"",unbondedTokenSweepTxHash:p(e.unbondedTokenSweepTxHash)?String(e.unbondedTokenSweepTxHash):""}),toJSON(e){const t={};return void 0!==e.id&&(t.id=e.id),void 0!==e.status&&(t.status=l(e.status)),void 0!==e.stTokenAmount&&(t.stTokenAmount=e.stTokenAmount),void 0!==e.nativeAmount&&(t.nativeAmount=e.nativeAmount),void 0!==e.unbondingCompletionTimeSeconds&&(t.unbondingCompletionTimeSeconds=e.unbondingCompletionTimeSeconds),void 0!==e.undelegationTxHash&&(t.undelegationTxHash=e.undelegationTxHash),void 0!==e.unbondedTokenSweepTxHash&&(t.unbondedTokenSweepTxHash=e.unbondedTokenSweepTxHash),t},fromPartial(e){var t,n,r,i,o,s,a;const d={id:"0",status:0,stTokenAmount:"",nativeAmount:"",unbondingCompletionTimeSeconds:"0",undelegationTxHash:"",unbondedTokenSweepTxHash:""};return d.id=null!==(t=e.id)&&void 0!==t?t:"0",d.status=null!==(n=e.status)&&void 0!==n?n:0,d.stTokenAmount=null!==(r=e.stTokenAmount)&&void 0!==r?r:"",d.nativeAmount=null!==(i=e.nativeAmount)&&void 0!==i?i:"",d.unbondingCompletionTimeSeconds=null!==(o=e.unbondingCompletionTimeSeconds)&&void 0!==o?o:"0",d.undelegationTxHash=null!==(s=e.undelegationTxHash)&&void 0!==s?s:"",d.unbondedTokenSweepTxHash=null!==(a=e.unbondedTokenSweepTxHash)&&void 0!==a?a:"",d}},t.RedemptionRecord={encode:(e,t=o.default.Writer.create())=>("0"!==e.unbondingRecordId&&t.uint32(8).uint64(e.unbondingRecordId),""!==e.redeemer&&t.uint32(18).string(e.redeemer),""!==e.stTokenAmount&&t.uint32(26).string(e.stTokenAmount),""!==e.nativeAmount&&t.uint32(34).string(e.nativeAmount),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={unbondingRecordId:"0",redeemer:"",stTokenAmount:"",nativeAmount:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.unbondingRecordId=h(n.uint64());break;case 2:i.redeemer=n.string();break;case 3:i.stTokenAmount=n.string();break;case 4:i.nativeAmount=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({unbondingRecordId:p(e.unbondingRecordId)?String(e.unbondingRecordId):"0",redeemer:p(e.redeemer)?String(e.redeemer):"",stTokenAmount:p(e.stTokenAmount)?String(e.stTokenAmount):"",nativeAmount:p(e.nativeAmount)?String(e.nativeAmount):""}),toJSON(e){const t={};return void 0!==e.unbondingRecordId&&(t.unbondingRecordId=e.unbondingRecordId),void 0!==e.redeemer&&(t.redeemer=e.redeemer),void 0!==e.stTokenAmount&&(t.stTokenAmount=e.stTokenAmount),void 0!==e.nativeAmount&&(t.nativeAmount=e.nativeAmount),t},fromPartial(e){var t,n,r,i;const o={unbondingRecordId:"0",redeemer:"",stTokenAmount:"",nativeAmount:""};return o.unbondingRecordId=null!==(t=e.unbondingRecordId)&&void 0!==t?t:"0",o.redeemer=null!==(n=e.redeemer)&&void 0!==n?n:"",o.stTokenAmount=null!==(r=e.stTokenAmount)&&void 0!==r?r:"",o.nativeAmount=null!==(i=e.nativeAmount)&&void 0!==i?i:"",o}},t.SlashRecord={encode:(e,t=o.default.Writer.create())=>("0"!==e.id&&t.uint32(8).uint64(e.id),"0"!==e.time&&t.uint32(16).uint64(e.time),""!==e.nativeAmount&&t.uint32(26).string(e.nativeAmount),""!==e.validatorAddress&&t.uint32(34).string(e.validatorAddress),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={id:"0",time:"0",nativeAmount:"",validatorAddress:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.id=h(n.uint64());break;case 2:i.time=h(n.uint64());break;case 3:i.nativeAmount=n.string();break;case 4:i.validatorAddress=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({id:p(e.id)?String(e.id):"0",time:p(e.time)?String(e.time):"0",nativeAmount:p(e.nativeAmount)?String(e.nativeAmount):"",validatorAddress:p(e.validatorAddress)?String(e.validatorAddress):""}),toJSON(e){const t={};return void 0!==e.id&&(t.id=e.id),void 0!==e.time&&(t.time=e.time),void 0!==e.nativeAmount&&(t.nativeAmount=e.nativeAmount),void 0!==e.validatorAddress&&(t.validatorAddress=e.validatorAddress),t},fromPartial(e){var t,n,r,i;const o={id:"0",time:"0",nativeAmount:"",validatorAddress:""};return o.id=null!==(t=e.id)&&void 0!==t?t:"0",o.time=null!==(n=e.time)&&void 0!==n?n:"0",o.nativeAmount=null!==(r=e.nativeAmount)&&void 0!==r?r:"",o.validatorAddress=null!==(i=e.validatorAddress)&&void 0!==i?i:"",o}},o.default.util.Long!==i.default&&(o.default.util.Long=i.default,o.default.configure())},8447:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MsgSetOperatorAddressResponse=t.MsgSetOperatorAddress=t.MsgOverwriteRedemptionRecordResponse=t.MsgOverwriteRedemptionRecord=t.MsgOverwriteUnbondingRecordResponse=t.MsgOverwriteUnbondingRecord=t.MsgOverwriteDelegationRecordResponse=t.MsgOverwriteDelegationRecord=t.MsgRefreshRedemptionRateResponse=t.MsgRefreshRedemptionRate=t.MsgResumeHostZoneResponse=t.MsgResumeHostZone=t.MsgUpdateInnerRedemptionRateBoundsResponse=t.MsgUpdateInnerRedemptionRateBounds=t.MsgAdjustDelegatedBalanceResponse=t.MsgAdjustDelegatedBalance=t.MsgConfirmUnbondedTokenSweepResponse=t.MsgConfirmUnbondedTokenSweep=t.MsgConfirmUndelegationResponse=t.MsgConfirmUndelegation=t.MsgConfirmDelegationResponse=t.MsgConfirmDelegation=t.MsgRedeemStakeResponse=t.MsgRedeemStake=t.MsgLiquidStakeResponse=t.MsgLiquidStake=t.overwritableRecordTypeToJSON=t.overwritableRecordTypeFromJSON=t.OverwritableRecordType=t.protobufPackage=void 0;const i=r(n(27808)),o=r(n(73737)),s=n(58113),a=n(13750);var d;function c(e){return e.toString()}function u(e){return null!=e}t.protobufPackage="stride.stakedym",function(e){e[e.RECORD_TYPE_DELEGATION=0]="RECORD_TYPE_DELEGATION",e[e.RECORD_TYPE_UNBONDING=1]="RECORD_TYPE_UNBONDING",e[e.RECORD_TYPE_REDEMPTION=2]="RECORD_TYPE_REDEMPTION",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(d=t.OverwritableRecordType||(t.OverwritableRecordType={})),t.overwritableRecordTypeFromJSON=function(e){switch(e){case 0:case"RECORD_TYPE_DELEGATION":return d.RECORD_TYPE_DELEGATION;case 1:case"RECORD_TYPE_UNBONDING":return d.RECORD_TYPE_UNBONDING;case 2:case"RECORD_TYPE_REDEMPTION":return d.RECORD_TYPE_REDEMPTION;default:return d.UNRECOGNIZED}},t.overwritableRecordTypeToJSON=function(e){switch(e){case d.RECORD_TYPE_DELEGATION:return"RECORD_TYPE_DELEGATION";case d.RECORD_TYPE_UNBONDING:return"RECORD_TYPE_UNBONDING";case d.RECORD_TYPE_REDEMPTION:return"RECORD_TYPE_REDEMPTION";default:return"UNKNOWN"}},t.MsgLiquidStake={encode:(e,t=o.default.Writer.create())=>(""!==e.staker&&t.uint32(10).string(e.staker),""!==e.nativeAmount&&t.uint32(18).string(e.nativeAmount),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={staker:"",nativeAmount:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.staker=n.string();break;case 2:i.nativeAmount=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({staker:u(e.staker)?String(e.staker):"",nativeAmount:u(e.nativeAmount)?String(e.nativeAmount):""}),toJSON(e){const t={};return void 0!==e.staker&&(t.staker=e.staker),void 0!==e.nativeAmount&&(t.nativeAmount=e.nativeAmount),t},fromPartial(e){var t,n;const r={staker:"",nativeAmount:""};return r.staker=null!==(t=e.staker)&&void 0!==t?t:"",r.nativeAmount=null!==(n=e.nativeAmount)&&void 0!==n?n:"",r}},t.MsgLiquidStakeResponse={encode:(e,t=o.default.Writer.create())=>(void 0!==e.stToken&&s.Coin.encode(e.stToken,t.uint32(10).fork()).ldelim(),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={stToken:void 0};for(;n.pos<r;){const e=n.uint32();e>>>3==1?i.stToken=s.Coin.decode(n,n.uint32()):n.skipType(7&e)}return i},fromJSON:e=>({stToken:u(e.stToken)?s.Coin.fromJSON(e.stToken):void 0}),toJSON(e){const t={};return void 0!==e.stToken&&(t.stToken=e.stToken?s.Coin.toJSON(e.stToken):void 0),t},fromPartial(e){const t={stToken:void 0};return t.stToken=void 0!==e.stToken&&null!==e.stToken?s.Coin.fromPartial(e.stToken):void 0,t}},t.MsgRedeemStake={encode:(e,t=o.default.Writer.create())=>(""!==e.redeemer&&t.uint32(10).string(e.redeemer),""!==e.stTokenAmount&&t.uint32(18).string(e.stTokenAmount),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={redeemer:"",stTokenAmount:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.redeemer=n.string();break;case 2:i.stTokenAmount=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({redeemer:u(e.redeemer)?String(e.redeemer):"",stTokenAmount:u(e.stTokenAmount)?String(e.stTokenAmount):""}),toJSON(e){const t={};return void 0!==e.redeemer&&(t.redeemer=e.redeemer),void 0!==e.stTokenAmount&&(t.stTokenAmount=e.stTokenAmount),t},fromPartial(e){var t,n;const r={redeemer:"",stTokenAmount:""};return r.redeemer=null!==(t=e.redeemer)&&void 0!==t?t:"",r.stTokenAmount=null!==(n=e.stTokenAmount)&&void 0!==n?n:"",r}},t.MsgRedeemStakeResponse={encode:(e,t=o.default.Writer.create())=>(void 0!==e.nativeToken&&s.Coin.encode(e.nativeToken,t.uint32(10).fork()).ldelim(),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={nativeToken:void 0};for(;n.pos<r;){const e=n.uint32();e>>>3==1?i.nativeToken=s.Coin.decode(n,n.uint32()):n.skipType(7&e)}return i},fromJSON:e=>({nativeToken:u(e.nativeToken)?s.Coin.fromJSON(e.nativeToken):void 0}),toJSON(e){const t={};return void 0!==e.nativeToken&&(t.nativeToken=e.nativeToken?s.Coin.toJSON(e.nativeToken):void 0),t},fromPartial(e){const t={nativeToken:void 0};return t.nativeToken=void 0!==e.nativeToken&&null!==e.nativeToken?s.Coin.fromPartial(e.nativeToken):void 0,t}},t.MsgConfirmDelegation={encode:(e,t=o.default.Writer.create())=>(""!==e.operator&&t.uint32(10).string(e.operator),"0"!==e.recordId&&t.uint32(16).uint64(e.recordId),""!==e.txHash&&t.uint32(26).string(e.txHash),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={operator:"",recordId:"0",txHash:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.operator=n.string();break;case 2:i.recordId=c(n.uint64());break;case 3:i.txHash=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({operator:u(e.operator)?String(e.operator):"",recordId:u(e.recordId)?String(e.recordId):"0",txHash:u(e.txHash)?String(e.txHash):""}),toJSON(e){const t={};return void 0!==e.operator&&(t.operator=e.operator),void 0!==e.recordId&&(t.recordId=e.recordId),void 0!==e.txHash&&(t.txHash=e.txHash),t},fromPartial(e){var t,n,r;const i={operator:"",recordId:"0",txHash:""};return i.operator=null!==(t=e.operator)&&void 0!==t?t:"",i.recordId=null!==(n=e.recordId)&&void 0!==n?n:"0",i.txHash=null!==(r=e.txHash)&&void 0!==r?r:"",i}},t.MsgConfirmDelegationResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},t.MsgConfirmUndelegation={encode:(e,t=o.default.Writer.create())=>(""!==e.operator&&t.uint32(10).string(e.operator),"0"!==e.recordId&&t.uint32(16).uint64(e.recordId),""!==e.txHash&&t.uint32(26).string(e.txHash),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={operator:"",recordId:"0",txHash:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.operator=n.string();break;case 2:i.recordId=c(n.uint64());break;case 3:i.txHash=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({operator:u(e.operator)?String(e.operator):"",recordId:u(e.recordId)?String(e.recordId):"0",txHash:u(e.txHash)?String(e.txHash):""}),toJSON(e){const t={};return void 0!==e.operator&&(t.operator=e.operator),void 0!==e.recordId&&(t.recordId=e.recordId),void 0!==e.txHash&&(t.txHash=e.txHash),t},fromPartial(e){var t,n,r;const i={operator:"",recordId:"0",txHash:""};return i.operator=null!==(t=e.operator)&&void 0!==t?t:"",i.recordId=null!==(n=e.recordId)&&void 0!==n?n:"0",i.txHash=null!==(r=e.txHash)&&void 0!==r?r:"",i}},t.MsgConfirmUndelegationResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},t.MsgConfirmUnbondedTokenSweep={encode:(e,t=o.default.Writer.create())=>(""!==e.operator&&t.uint32(10).string(e.operator),"0"!==e.recordId&&t.uint32(16).uint64(e.recordId),""!==e.txHash&&t.uint32(26).string(e.txHash),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={operator:"",recordId:"0",txHash:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.operator=n.string();break;case 2:i.recordId=c(n.uint64());break;case 3:i.txHash=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({operator:u(e.operator)?String(e.operator):"",recordId:u(e.recordId)?String(e.recordId):"0",txHash:u(e.txHash)?String(e.txHash):""}),toJSON(e){const t={};return void 0!==e.operator&&(t.operator=e.operator),void 0!==e.recordId&&(t.recordId=e.recordId),void 0!==e.txHash&&(t.txHash=e.txHash),t},fromPartial(e){var t,n,r;const i={operator:"",recordId:"0",txHash:""};return i.operator=null!==(t=e.operator)&&void 0!==t?t:"",i.recordId=null!==(n=e.recordId)&&void 0!==n?n:"0",i.txHash=null!==(r=e.txHash)&&void 0!==r?r:"",i}},t.MsgConfirmUnbondedTokenSweepResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},t.MsgAdjustDelegatedBalance={encode:(e,t=o.default.Writer.create())=>(""!==e.operator&&t.uint32(10).string(e.operator),""!==e.delegationOffset&&t.uint32(18).string(e.delegationOffset),""!==e.validatorAddress&&t.uint32(26).string(e.validatorAddress),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={operator:"",delegationOffset:"",validatorAddress:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.operator=n.string();break;case 2:i.delegationOffset=n.string();break;case 3:i.validatorAddress=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({operator:u(e.operator)?String(e.operator):"",delegationOffset:u(e.delegationOffset)?String(e.delegationOffset):"",validatorAddress:u(e.validatorAddress)?String(e.validatorAddress):""}),toJSON(e){const t={};return void 0!==e.operator&&(t.operator=e.operator),void 0!==e.delegationOffset&&(t.delegationOffset=e.delegationOffset),void 0!==e.validatorAddress&&(t.validatorAddress=e.validatorAddress),t},fromPartial(e){var t,n,r;const i={operator:"",delegationOffset:"",validatorAddress:""};return i.operator=null!==(t=e.operator)&&void 0!==t?t:"",i.delegationOffset=null!==(n=e.delegationOffset)&&void 0!==n?n:"",i.validatorAddress=null!==(r=e.validatorAddress)&&void 0!==r?r:"",i}},t.MsgAdjustDelegatedBalanceResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},t.MsgUpdateInnerRedemptionRateBounds={encode:(e,t=o.default.Writer.create())=>(""!==e.creator&&t.uint32(10).string(e.creator),""!==e.minInnerRedemptionRate&&t.uint32(18).string(e.minInnerRedemptionRate),""!==e.maxInnerRedemptionRate&&t.uint32(26).string(e.maxInnerRedemptionRate),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={creator:"",minInnerRedemptionRate:"",maxInnerRedemptionRate:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.creator=n.string();break;case 2:i.minInnerRedemptionRate=n.string();break;case 3:i.maxInnerRedemptionRate=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({creator:u(e.creator)?String(e.creator):"",minInnerRedemptionRate:u(e.minInnerRedemptionRate)?String(e.minInnerRedemptionRate):"",maxInnerRedemptionRate:u(e.maxInnerRedemptionRate)?String(e.maxInnerRedemptionRate):""}),toJSON(e){const t={};return void 0!==e.creator&&(t.creator=e.creator),void 0!==e.minInnerRedemptionRate&&(t.minInnerRedemptionRate=e.minInnerRedemptionRate),void 0!==e.maxInnerRedemptionRate&&(t.maxInnerRedemptionRate=e.maxInnerRedemptionRate),t},fromPartial(e){var t,n,r;const i={creator:"",minInnerRedemptionRate:"",maxInnerRedemptionRate:""};return i.creator=null!==(t=e.creator)&&void 0!==t?t:"",i.minInnerRedemptionRate=null!==(n=e.minInnerRedemptionRate)&&void 0!==n?n:"",i.maxInnerRedemptionRate=null!==(r=e.maxInnerRedemptionRate)&&void 0!==r?r:"",i}},t.MsgUpdateInnerRedemptionRateBoundsResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},t.MsgResumeHostZone={encode:(e,t=o.default.Writer.create())=>(""!==e.creator&&t.uint32(10).string(e.creator),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={creator:""};for(;n.pos<r;){const e=n.uint32();e>>>3==1?i.creator=n.string():n.skipType(7&e)}return i},fromJSON:e=>({creator:u(e.creator)?String(e.creator):""}),toJSON(e){const t={};return void 0!==e.creator&&(t.creator=e.creator),t},fromPartial(e){var t;const n={creator:""};return n.creator=null!==(t=e.creator)&&void 0!==t?t:"",n}},t.MsgResumeHostZoneResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},t.MsgRefreshRedemptionRate={encode:(e,t=o.default.Writer.create())=>(""!==e.creator&&t.uint32(10).string(e.creator),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={creator:""};for(;n.pos<r;){const e=n.uint32();e>>>3==1?i.creator=n.string():n.skipType(7&e)}return i},fromJSON:e=>({creator:u(e.creator)?String(e.creator):""}),toJSON(e){const t={};return void 0!==e.creator&&(t.creator=e.creator),t},fromPartial(e){var t;const n={creator:""};return n.creator=null!==(t=e.creator)&&void 0!==t?t:"",n}},t.MsgRefreshRedemptionRateResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},t.MsgOverwriteDelegationRecord={encode:(e,t=o.default.Writer.create())=>(""!==e.creator&&t.uint32(10).string(e.creator),void 0!==e.delegationRecord&&a.DelegationRecord.encode(e.delegationRecord,t.uint32(18).fork()).ldelim(),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={creator:"",delegationRecord:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.creator=n.string();break;case 2:i.delegationRecord=a.DelegationRecord.decode(n,n.uint32());break;default:n.skipType(7&e)}}return i},fromJSON:e=>({creator:u(e.creator)?String(e.creator):"",delegationRecord:u(e.delegationRecord)?a.DelegationRecord.fromJSON(e.delegationRecord):void 0}),toJSON(e){const t={};return void 0!==e.creator&&(t.creator=e.creator),void 0!==e.delegationRecord&&(t.delegationRecord=e.delegationRecord?a.DelegationRecord.toJSON(e.delegationRecord):void 0),t},fromPartial(e){var t;const n={creator:"",delegationRecord:void 0};return n.creator=null!==(t=e.creator)&&void 0!==t?t:"",n.delegationRecord=void 0!==e.delegationRecord&&null!==e.delegationRecord?a.DelegationRecord.fromPartial(e.delegationRecord):void 0,n}},t.MsgOverwriteDelegationRecordResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},t.MsgOverwriteUnbondingRecord={encode:(e,t=o.default.Writer.create())=>(""!==e.creator&&t.uint32(10).string(e.creator),void 0!==e.unbondingRecord&&a.UnbondingRecord.encode(e.unbondingRecord,t.uint32(18).fork()).ldelim(),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={creator:"",unbondingRecord:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.creator=n.string();break;case 2:i.unbondingRecord=a.UnbondingRecord.decode(n,n.uint32());break;default:n.skipType(7&e)}}return i},fromJSON:e=>({creator:u(e.creator)?String(e.creator):"",unbondingRecord:u(e.unbondingRecord)?a.UnbondingRecord.fromJSON(e.unbondingRecord):void 0}),toJSON(e){const t={};return void 0!==e.creator&&(t.creator=e.creator),void 0!==e.unbondingRecord&&(t.unbondingRecord=e.unbondingRecord?a.UnbondingRecord.toJSON(e.unbondingRecord):void 0),t},fromPartial(e){var t;const n={creator:"",unbondingRecord:void 0};return n.creator=null!==(t=e.creator)&&void 0!==t?t:"",n.unbondingRecord=void 0!==e.unbondingRecord&&null!==e.unbondingRecord?a.UnbondingRecord.fromPartial(e.unbondingRecord):void 0,n}},t.MsgOverwriteUnbondingRecordResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},t.MsgOverwriteRedemptionRecord={encode:(e,t=o.default.Writer.create())=>(""!==e.creator&&t.uint32(10).string(e.creator),void 0!==e.redemptionRecord&&a.RedemptionRecord.encode(e.redemptionRecord,t.uint32(18).fork()).ldelim(),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={creator:"",redemptionRecord:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.creator=n.string();break;case 2:i.redemptionRecord=a.RedemptionRecord.decode(n,n.uint32());break;default:n.skipType(7&e)}}return i},fromJSON:e=>({creator:u(e.creator)?String(e.creator):"",redemptionRecord:u(e.redemptionRecord)?a.RedemptionRecord.fromJSON(e.redemptionRecord):void 0}),toJSON(e){const t={};return void 0!==e.creator&&(t.creator=e.creator),void 0!==e.redemptionRecord&&(t.redemptionRecord=e.redemptionRecord?a.RedemptionRecord.toJSON(e.redemptionRecord):void 0),t},fromPartial(e){var t;const n={creator:"",redemptionRecord:void 0};return n.creator=null!==(t=e.creator)&&void 0!==t?t:"",n.redemptionRecord=void 0!==e.redemptionRecord&&null!==e.redemptionRecord?a.RedemptionRecord.fromPartial(e.redemptionRecord):void 0,n}},t.MsgOverwriteRedemptionRecordResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},t.MsgSetOperatorAddress={encode:(e,t=o.default.Writer.create())=>(""!==e.signer&&t.uint32(10).string(e.signer),""!==e.operator&&t.uint32(18).string(e.operator),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={signer:"",operator:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.signer=n.string();break;case 2:i.operator=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({signer:u(e.signer)?String(e.signer):"",operator:u(e.operator)?String(e.operator):""}),toJSON(e){const t={};return void 0!==e.signer&&(t.signer=e.signer),void 0!==e.operator&&(t.operator=e.operator),t},fromPartial(e){var t,n;const r={signer:"",operator:""};return r.signer=null!==(t=e.signer)&&void 0!==t?t:"",r.operator=null!==(n=e.operator)&&void 0!==n?n:"",r}},t.MsgSetOperatorAddressResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},o.default.util.Long!==i.default&&(o.default.util.Long=i.default,o.default.configure())},75189:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.iCAAccountTypeToJSON=t.iCAAccountTypeFromJSON=t.ICAAccountType=t.protobufPackage=void 0;const i=r(n(27808)),o=r(n(73737));var s;t.protobufPackage="stride.stakeibc",function(e){e[e.DELEGATION=0]="DELEGATION",e[e.FEE=1]="FEE",e[e.WITHDRAWAL=2]="WITHDRAWAL",e[e.REDEMPTION=3]="REDEMPTION",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(s=t.ICAAccountType||(t.ICAAccountType={})),t.iCAAccountTypeFromJSON=function(e){switch(e){case 0:case"DELEGATION":return s.DELEGATION;case 1:case"FEE":return s.FEE;case 2:case"WITHDRAWAL":return s.WITHDRAWAL;case 3:case"REDEMPTION":return s.REDEMPTION;default:return s.UNRECOGNIZED}},t.iCAAccountTypeToJSON=function(e){switch(e){case s.DELEGATION:return"DELEGATION";case s.FEE:return"FEE";case s.WITHDRAWAL:return"WITHDRAWAL";case s.REDEMPTION:return"REDEMPTION";default:return"UNKNOWN"}},o.default.util.Long!==i.default&&(o.default.util.Long=i.default,o.default.configure())},97544:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MsgCalibrateDelegationResponse=t.MsgCalibrateDelegation=t.MsgUndelegateHostResponse=t.MsgUndelegateHost=t.MsgUpdateValidatorSharesExchRateResponse=t.MsgUpdateValidatorSharesExchRate=t.MsgRestoreInterchainAccountResponse=t.MsgRestoreInterchainAccount=t.MsgDeleteValidatorResponse=t.MsgDeleteValidator=t.MsgChangeValidatorWeightResponse=t.MsgChangeValidatorWeight=t.MsgAddValidatorsResponse=t.MsgAddValidators=t.MsgRebalanceValidatorsResponse=t.MsgRebalanceValidators=t.MsgClaimUndelegatedTokensResponse=t.MsgClaimUndelegatedTokens=t.MsgRegisterHostZoneResponse=t.MsgRegisterHostZone=t.MsgRedeemStakeResponse=t.MsgRedeemStake=t.MsgClearBalanceResponse=t.MsgClearBalance=t.MsgLSMLiquidStakeResponse=t.MsgLSMLiquidStake=t.MsgLiquidStakeResponse=t.MsgLiquidStake=t.MsgUpdateInnerRedemptionRateBoundsResponse=t.MsgUpdateInnerRedemptionRateBounds=t.protobufPackage=void 0;const i=r(n(27808)),o=r(n(73737)),s=n(75189),a=n(34870);function d(e){return e.toString()}function c(e){return null!=e}t.protobufPackage="stride.stakeibc",t.MsgUpdateInnerRedemptionRateBounds={encode:(e,t=o.default.Writer.create())=>(""!==e.creator&&t.uint32(10).string(e.creator),""!==e.chainId&&t.uint32(18).string(e.chainId),""!==e.minInnerRedemptionRate&&t.uint32(26).string(e.minInnerRedemptionRate),""!==e.maxInnerRedemptionRate&&t.uint32(34).string(e.maxInnerRedemptionRate),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={creator:"",chainId:"",minInnerRedemptionRate:"",maxInnerRedemptionRate:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.creator=n.string();break;case 2:i.chainId=n.string();break;case 3:i.minInnerRedemptionRate=n.string();break;case 4:i.maxInnerRedemptionRate=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({creator:c(e.creator)?String(e.creator):"",chainId:c(e.chainId)?String(e.chainId):"",minInnerRedemptionRate:c(e.minInnerRedemptionRate)?String(e.minInnerRedemptionRate):"",maxInnerRedemptionRate:c(e.maxInnerRedemptionRate)?String(e.maxInnerRedemptionRate):""}),toJSON(e){const t={};return void 0!==e.creator&&(t.creator=e.creator),void 0!==e.chainId&&(t.chainId=e.chainId),void 0!==e.minInnerRedemptionRate&&(t.minInnerRedemptionRate=e.minInnerRedemptionRate),void 0!==e.maxInnerRedemptionRate&&(t.maxInnerRedemptionRate=e.maxInnerRedemptionRate),t},fromPartial(e){var t,n,r,i;const o={creator:"",chainId:"",minInnerRedemptionRate:"",maxInnerRedemptionRate:""};return o.creator=null!==(t=e.creator)&&void 0!==t?t:"",o.chainId=null!==(n=e.chainId)&&void 0!==n?n:"",o.minInnerRedemptionRate=null!==(r=e.minInnerRedemptionRate)&&void 0!==r?r:"",o.maxInnerRedemptionRate=null!==(i=e.maxInnerRedemptionRate)&&void 0!==i?i:"",o}},t.MsgUpdateInnerRedemptionRateBoundsResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},t.MsgLiquidStake={encode:(e,t=o.default.Writer.create())=>(""!==e.creator&&t.uint32(10).string(e.creator),""!==e.amount&&t.uint32(18).string(e.amount),""!==e.hostDenom&&t.uint32(26).string(e.hostDenom),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={creator:"",amount:"",hostDenom:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.creator=n.string();break;case 2:i.amount=n.string();break;case 3:i.hostDenom=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({creator:c(e.creator)?String(e.creator):"",amount:c(e.amount)?String(e.amount):"",hostDenom:c(e.hostDenom)?String(e.hostDenom):""}),toJSON(e){const t={};return void 0!==e.creator&&(t.creator=e.creator),void 0!==e.amount&&(t.amount=e.amount),void 0!==e.hostDenom&&(t.hostDenom=e.hostDenom),t},fromPartial(e){var t,n,r;const i={creator:"",amount:"",hostDenom:""};return i.creator=null!==(t=e.creator)&&void 0!==t?t:"",i.amount=null!==(n=e.amount)&&void 0!==n?n:"",i.hostDenom=null!==(r=e.hostDenom)&&void 0!==r?r:"",i}},t.MsgLiquidStakeResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},t.MsgLSMLiquidStake={encode:(e,t=o.default.Writer.create())=>(""!==e.creator&&t.uint32(10).string(e.creator),""!==e.amount&&t.uint32(18).string(e.amount),""!==e.lsmTokenIbcDenom&&t.uint32(26).string(e.lsmTokenIbcDenom),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={creator:"",amount:"",lsmTokenIbcDenom:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.creator=n.string();break;case 2:i.amount=n.string();break;case 3:i.lsmTokenIbcDenom=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({creator:c(e.creator)?String(e.creator):"",amount:c(e.amount)?String(e.amount):"",lsmTokenIbcDenom:c(e.lsmTokenIbcDenom)?String(e.lsmTokenIbcDenom):""}),toJSON(e){const t={};return void 0!==e.creator&&(t.creator=e.creator),void 0!==e.amount&&(t.amount=e.amount),void 0!==e.lsmTokenIbcDenom&&(t.lsmTokenIbcDenom=e.lsmTokenIbcDenom),t},fromPartial(e){var t,n,r;const i={creator:"",amount:"",lsmTokenIbcDenom:""};return i.creator=null!==(t=e.creator)&&void 0!==t?t:"",i.amount=null!==(n=e.amount)&&void 0!==n?n:"",i.lsmTokenIbcDenom=null!==(r=e.lsmTokenIbcDenom)&&void 0!==r?r:"",i}},t.MsgLSMLiquidStakeResponse={encode:(e,t=o.default.Writer.create())=>(!0===e.transactionComplete&&t.uint32(8).bool(e.transactionComplete),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={transactionComplete:!1};for(;n.pos<r;){const e=n.uint32();e>>>3==1?i.transactionComplete=n.bool():n.skipType(7&e)}return i},fromJSON:e=>({transactionComplete:!!c(e.transactionComplete)&&Boolean(e.transactionComplete)}),toJSON(e){const t={};return void 0!==e.transactionComplete&&(t.transactionComplete=e.transactionComplete),t},fromPartial(e){var t;const n={transactionComplete:!1};return n.transactionComplete=null!==(t=e.transactionComplete)&&void 0!==t&&t,n}},t.MsgClearBalance={encode:(e,t=o.default.Writer.create())=>(""!==e.creator&&t.uint32(10).string(e.creator),""!==e.chainId&&t.uint32(18).string(e.chainId),""!==e.amount&&t.uint32(26).string(e.amount),""!==e.channel&&t.uint32(34).string(e.channel),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={creator:"",chainId:"",amount:"",channel:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.creator=n.string();break;case 2:i.chainId=n.string();break;case 3:i.amount=n.string();break;case 4:i.channel=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({creator:c(e.creator)?String(e.creator):"",chainId:c(e.chainId)?String(e.chainId):"",amount:c(e.amount)?String(e.amount):"",channel:c(e.channel)?String(e.channel):""}),toJSON(e){const t={};return void 0!==e.creator&&(t.creator=e.creator),void 0!==e.chainId&&(t.chainId=e.chainId),void 0!==e.amount&&(t.amount=e.amount),void 0!==e.channel&&(t.channel=e.channel),t},fromPartial(e){var t,n,r,i;const o={creator:"",chainId:"",amount:"",channel:""};return o.creator=null!==(t=e.creator)&&void 0!==t?t:"",o.chainId=null!==(n=e.chainId)&&void 0!==n?n:"",o.amount=null!==(r=e.amount)&&void 0!==r?r:"",o.channel=null!==(i=e.channel)&&void 0!==i?i:"",o}},t.MsgClearBalanceResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},t.MsgRedeemStake={encode:(e,t=o.default.Writer.create())=>(""!==e.creator&&t.uint32(10).string(e.creator),""!==e.amount&&t.uint32(18).string(e.amount),""!==e.hostZone&&t.uint32(26).string(e.hostZone),""!==e.receiver&&t.uint32(34).string(e.receiver),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={creator:"",amount:"",hostZone:"",receiver:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.creator=n.string();break;case 2:i.amount=n.string();break;case 3:i.hostZone=n.string();break;case 4:i.receiver=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({creator:c(e.creator)?String(e.creator):"",amount:c(e.amount)?String(e.amount):"",hostZone:c(e.hostZone)?String(e.hostZone):"",receiver:c(e.receiver)?String(e.receiver):""}),toJSON(e){const t={};return void 0!==e.creator&&(t.creator=e.creator),void 0!==e.amount&&(t.amount=e.amount),void 0!==e.hostZone&&(t.hostZone=e.hostZone),void 0!==e.receiver&&(t.receiver=e.receiver),t},fromPartial(e){var t,n,r,i;const o={creator:"",amount:"",hostZone:"",receiver:""};return o.creator=null!==(t=e.creator)&&void 0!==t?t:"",o.amount=null!==(n=e.amount)&&void 0!==n?n:"",o.hostZone=null!==(r=e.hostZone)&&void 0!==r?r:"",o.receiver=null!==(i=e.receiver)&&void 0!==i?i:"",o}},t.MsgRedeemStakeResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},t.MsgRegisterHostZone={encode:(e,t=o.default.Writer.create())=>(""!==e.connectionId&&t.uint32(18).string(e.connectionId),""!==e.bech32prefix&&t.uint32(98).string(e.bech32prefix),""!==e.hostDenom&&t.uint32(34).string(e.hostDenom),""!==e.ibcDenom&&t.uint32(42).string(e.ibcDenom),""!==e.creator&&t.uint32(50).string(e.creator),""!==e.transferChannelId&&t.uint32(82).string(e.transferChannelId),"0"!==e.unbondingPeriod&&t.uint32(88).uint64(e.unbondingPeriod),""!==e.minRedemptionRate&&t.uint32(106).string(e.minRedemptionRate),""!==e.maxRedemptionRate&&t.uint32(114).string(e.maxRedemptionRate),!0===e.lsmLiquidStakeEnabled&&t.uint32(120).bool(e.lsmLiquidStakeEnabled),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={connectionId:"",bech32prefix:"",hostDenom:"",ibcDenom:"",creator:"",transferChannelId:"",unbondingPeriod:"0",minRedemptionRate:"",maxRedemptionRate:"",lsmLiquidStakeEnabled:!1};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 2:i.connectionId=n.string();break;case 12:i.bech32prefix=n.string();break;case 4:i.hostDenom=n.string();break;case 5:i.ibcDenom=n.string();break;case 6:i.creator=n.string();break;case 10:i.transferChannelId=n.string();break;case 11:i.unbondingPeriod=d(n.uint64());break;case 13:i.minRedemptionRate=n.string();break;case 14:i.maxRedemptionRate=n.string();break;case 15:i.lsmLiquidStakeEnabled=n.bool();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({connectionId:c(e.connectionId)?String(e.connectionId):"",bech32prefix:c(e.bech32prefix)?String(e.bech32prefix):"",hostDenom:c(e.hostDenom)?String(e.hostDenom):"",ibcDenom:c(e.ibcDenom)?String(e.ibcDenom):"",creator:c(e.creator)?String(e.creator):"",transferChannelId:c(e.transferChannelId)?String(e.transferChannelId):"",unbondingPeriod:c(e.unbondingPeriod)?String(e.unbondingPeriod):"0",minRedemptionRate:c(e.minRedemptionRate)?String(e.minRedemptionRate):"",maxRedemptionRate:c(e.maxRedemptionRate)?String(e.maxRedemptionRate):"",lsmLiquidStakeEnabled:!!c(e.lsmLiquidStakeEnabled)&&Boolean(e.lsmLiquidStakeEnabled)}),toJSON(e){const t={};return void 0!==e.connectionId&&(t.connectionId=e.connectionId),void 0!==e.bech32prefix&&(t.bech32prefix=e.bech32prefix),void 0!==e.hostDenom&&(t.hostDenom=e.hostDenom),void 0!==e.ibcDenom&&(t.ibcDenom=e.ibcDenom),void 0!==e.creator&&(t.creator=e.creator),void 0!==e.transferChannelId&&(t.transferChannelId=e.transferChannelId),void 0!==e.unbondingPeriod&&(t.unbondingPeriod=e.unbondingPeriod),void 0!==e.minRedemptionRate&&(t.minRedemptionRate=e.minRedemptionRate),void 0!==e.maxRedemptionRate&&(t.maxRedemptionRate=e.maxRedemptionRate),void 0!==e.lsmLiquidStakeEnabled&&(t.lsmLiquidStakeEnabled=e.lsmLiquidStakeEnabled),t},fromPartial(e){var t,n,r,i,o,s,a,d,c,u;const l={connectionId:"",bech32prefix:"",hostDenom:"",ibcDenom:"",creator:"",transferChannelId:"",unbondingPeriod:"0",minRedemptionRate:"",maxRedemptionRate:"",lsmLiquidStakeEnabled:!1};return l.connectionId=null!==(t=e.connectionId)&&void 0!==t?t:"",l.bech32prefix=null!==(n=e.bech32prefix)&&void 0!==n?n:"",l.hostDenom=null!==(r=e.hostDenom)&&void 0!==r?r:"",l.ibcDenom=null!==(i=e.ibcDenom)&&void 0!==i?i:"",l.creator=null!==(o=e.creator)&&void 0!==o?o:"",l.transferChannelId=null!==(s=e.transferChannelId)&&void 0!==s?s:"",l.unbondingPeriod=null!==(a=e.unbondingPeriod)&&void 0!==a?a:"0",l.minRedemptionRate=null!==(d=e.minRedemptionRate)&&void 0!==d?d:"",l.maxRedemptionRate=null!==(c=e.maxRedemptionRate)&&void 0!==c?c:"",l.lsmLiquidStakeEnabled=null!==(u=e.lsmLiquidStakeEnabled)&&void 0!==u&&u,l}},t.MsgRegisterHostZoneResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},t.MsgClaimUndelegatedTokens={encode:(e,t=o.default.Writer.create())=>(""!==e.creator&&t.uint32(10).string(e.creator),""!==e.hostZoneId&&t.uint32(18).string(e.hostZoneId),"0"!==e.epoch&&t.uint32(24).uint64(e.epoch),""!==e.sender&&t.uint32(34).string(e.sender),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={creator:"",hostZoneId:"",epoch:"0",sender:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.creator=n.string();break;case 2:i.hostZoneId=n.string();break;case 3:i.epoch=d(n.uint64());break;case 4:i.sender=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({creator:c(e.creator)?String(e.creator):"",hostZoneId:c(e.hostZoneId)?String(e.hostZoneId):"",epoch:c(e.epoch)?String(e.epoch):"0",sender:c(e.sender)?String(e.sender):""}),toJSON(e){const t={};return void 0!==e.creator&&(t.creator=e.creator),void 0!==e.hostZoneId&&(t.hostZoneId=e.hostZoneId),void 0!==e.epoch&&(t.epoch=e.epoch),void 0!==e.sender&&(t.sender=e.sender),t},fromPartial(e){var t,n,r,i;const o={creator:"",hostZoneId:"",epoch:"0",sender:""};return o.creator=null!==(t=e.creator)&&void 0!==t?t:"",o.hostZoneId=null!==(n=e.hostZoneId)&&void 0!==n?n:"",o.epoch=null!==(r=e.epoch)&&void 0!==r?r:"0",o.sender=null!==(i=e.sender)&&void 0!==i?i:"",o}},t.MsgClaimUndelegatedTokensResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},t.MsgRebalanceValidators={encode:(e,t=o.default.Writer.create())=>(""!==e.creator&&t.uint32(10).string(e.creator),""!==e.hostZone&&t.uint32(18).string(e.hostZone),"0"!==e.numRebalance&&t.uint32(24).uint64(e.numRebalance),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={creator:"",hostZone:"",numRebalance:"0"};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.creator=n.string();break;case 2:i.hostZone=n.string();break;case 3:i.numRebalance=d(n.uint64());break;default:n.skipType(7&e)}}return i},fromJSON:e=>({creator:c(e.creator)?String(e.creator):"",hostZone:c(e.hostZone)?String(e.hostZone):"",numRebalance:c(e.numRebalance)?String(e.numRebalance):"0"}),toJSON(e){const t={};return void 0!==e.creator&&(t.creator=e.creator),void 0!==e.hostZone&&(t.hostZone=e.hostZone),void 0!==e.numRebalance&&(t.numRebalance=e.numRebalance),t},fromPartial(e){var t,n,r;const i={creator:"",hostZone:"",numRebalance:"0"};return i.creator=null!==(t=e.creator)&&void 0!==t?t:"",i.hostZone=null!==(n=e.hostZone)&&void 0!==n?n:"",i.numRebalance=null!==(r=e.numRebalance)&&void 0!==r?r:"0",i}},t.MsgRebalanceValidatorsResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},t.MsgAddValidators={encode(e,t=o.default.Writer.create()){""!==e.creator&&t.uint32(10).string(e.creator),""!==e.hostZone&&t.uint32(18).string(e.hostZone);for(const n of e.validators)a.Validator.encode(n,t.uint32(26).fork()).ldelim();return t},decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={creator:"",hostZone:"",validators:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.creator=n.string();break;case 2:i.hostZone=n.string();break;case 3:i.validators.push(a.Validator.decode(n,n.uint32()));break;default:n.skipType(7&e)}}return i},fromJSON:e=>({creator:c(e.creator)?String(e.creator):"",hostZone:c(e.hostZone)?String(e.hostZone):"",validators:Array.isArray(null==e?void 0:e.validators)?e.validators.map((e=>a.Validator.fromJSON(e))):[]}),toJSON(e){const t={};return void 0!==e.creator&&(t.creator=e.creator),void 0!==e.hostZone&&(t.hostZone=e.hostZone),e.validators?t.validators=e.validators.map((e=>e?a.Validator.toJSON(e):void 0)):t.validators=[],t},fromPartial(e){var t,n,r;const i={creator:"",hostZone:"",validators:[]};return i.creator=null!==(t=e.creator)&&void 0!==t?t:"",i.hostZone=null!==(n=e.hostZone)&&void 0!==n?n:"",i.validators=(null===(r=e.validators)||void 0===r?void 0:r.map((e=>a.Validator.fromPartial(e))))||[],i}},t.MsgAddValidatorsResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},t.MsgChangeValidatorWeight={encode:(e,t=o.default.Writer.create())=>(""!==e.creator&&t.uint32(10).string(e.creator),""!==e.hostZone&&t.uint32(18).string(e.hostZone),""!==e.valAddr&&t.uint32(26).string(e.valAddr),"0"!==e.weight&&t.uint32(32).uint64(e.weight),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={creator:"",hostZone:"",valAddr:"",weight:"0"};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.creator=n.string();break;case 2:i.hostZone=n.string();break;case 3:i.valAddr=n.string();break;case 4:i.weight=d(n.uint64());break;default:n.skipType(7&e)}}return i},fromJSON:e=>({creator:c(e.creator)?String(e.creator):"",hostZone:c(e.hostZone)?String(e.hostZone):"",valAddr:c(e.valAddr)?String(e.valAddr):"",weight:c(e.weight)?String(e.weight):"0"}),toJSON(e){const t={};return void 0!==e.creator&&(t.creator=e.creator),void 0!==e.hostZone&&(t.hostZone=e.hostZone),void 0!==e.valAddr&&(t.valAddr=e.valAddr),void 0!==e.weight&&(t.weight=e.weight),t},fromPartial(e){var t,n,r,i;const o={creator:"",hostZone:"",valAddr:"",weight:"0"};return o.creator=null!==(t=e.creator)&&void 0!==t?t:"",o.hostZone=null!==(n=e.hostZone)&&void 0!==n?n:"",o.valAddr=null!==(r=e.valAddr)&&void 0!==r?r:"",o.weight=null!==(i=e.weight)&&void 0!==i?i:"0",o}},t.MsgChangeValidatorWeightResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},t.MsgDeleteValidator={encode:(e,t=o.default.Writer.create())=>(""!==e.creator&&t.uint32(10).string(e.creator),""!==e.hostZone&&t.uint32(18).string(e.hostZone),""!==e.valAddr&&t.uint32(26).string(e.valAddr),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={creator:"",hostZone:"",valAddr:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.creator=n.string();break;case 2:i.hostZone=n.string();break;case 3:i.valAddr=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({creator:c(e.creator)?String(e.creator):"",hostZone:c(e.hostZone)?String(e.hostZone):"",valAddr:c(e.valAddr)?String(e.valAddr):""}),toJSON(e){const t={};return void 0!==e.creator&&(t.creator=e.creator),void 0!==e.hostZone&&(t.hostZone=e.hostZone),void 0!==e.valAddr&&(t.valAddr=e.valAddr),t},fromPartial(e){var t,n,r;const i={creator:"",hostZone:"",valAddr:""};return i.creator=null!==(t=e.creator)&&void 0!==t?t:"",i.hostZone=null!==(n=e.hostZone)&&void 0!==n?n:"",i.valAddr=null!==(r=e.valAddr)&&void 0!==r?r:"",i}},t.MsgDeleteValidatorResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},t.MsgRestoreInterchainAccount={encode:(e,t=o.default.Writer.create())=>(""!==e.creator&&t.uint32(10).string(e.creator),""!==e.chainId&&t.uint32(18).string(e.chainId),0!==e.accountType&&t.uint32(24).int32(e.accountType),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={creator:"",chainId:"",accountType:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.creator=n.string();break;case 2:i.chainId=n.string();break;case 3:i.accountType=n.int32();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({creator:c(e.creator)?String(e.creator):"",chainId:c(e.chainId)?String(e.chainId):"",accountType:c(e.accountType)?(0,s.iCAAccountTypeFromJSON)(e.accountType):0}),toJSON(e){const t={};return void 0!==e.creator&&(t.creator=e.creator),void 0!==e.chainId&&(t.chainId=e.chainId),void 0!==e.accountType&&(t.accountType=(0,s.iCAAccountTypeToJSON)(e.accountType)),t},fromPartial(e){var t,n,r;const i={creator:"",chainId:"",accountType:0};return i.creator=null!==(t=e.creator)&&void 0!==t?t:"",i.chainId=null!==(n=e.chainId)&&void 0!==n?n:"",i.accountType=null!==(r=e.accountType)&&void 0!==r?r:0,i}},t.MsgRestoreInterchainAccountResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},t.MsgUpdateValidatorSharesExchRate={encode:(e,t=o.default.Writer.create())=>(""!==e.creator&&t.uint32(10).string(e.creator),""!==e.chainId&&t.uint32(18).string(e.chainId),""!==e.valoper&&t.uint32(26).string(e.valoper),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={creator:"",chainId:"",valoper:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.creator=n.string();break;case 2:i.chainId=n.string();break;case 3:i.valoper=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({creator:c(e.creator)?String(e.creator):"",chainId:c(e.chainId)?String(e.chainId):"",valoper:c(e.valoper)?String(e.valoper):""}),toJSON(e){const t={};return void 0!==e.creator&&(t.creator=e.creator),void 0!==e.chainId&&(t.chainId=e.chainId),void 0!==e.valoper&&(t.valoper=e.valoper),t},fromPartial(e){var t,n,r;const i={creator:"",chainId:"",valoper:""};return i.creator=null!==(t=e.creator)&&void 0!==t?t:"",i.chainId=null!==(n=e.chainId)&&void 0!==n?n:"",i.valoper=null!==(r=e.valoper)&&void 0!==r?r:"",i}},t.MsgUpdateValidatorSharesExchRateResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},t.MsgUndelegateHost={encode:(e,t=o.default.Writer.create())=>(""!==e.creator&&t.uint32(10).string(e.creator),""!==e.amount&&t.uint32(18).string(e.amount),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={creator:"",amount:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.creator=n.string();break;case 2:i.amount=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({creator:c(e.creator)?String(e.creator):"",amount:c(e.amount)?String(e.amount):""}),toJSON(e){const t={};return void 0!==e.creator&&(t.creator=e.creator),void 0!==e.amount&&(t.amount=e.amount),t},fromPartial(e){var t,n;const r={creator:"",amount:""};return r.creator=null!==(t=e.creator)&&void 0!==t?t:"",r.amount=null!==(n=e.amount)&&void 0!==n?n:"",r}},t.MsgUndelegateHostResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},t.MsgCalibrateDelegation={encode:(e,t=o.default.Writer.create())=>(""!==e.creator&&t.uint32(10).string(e.creator),""!==e.chainId&&t.uint32(18).string(e.chainId),""!==e.valoper&&t.uint32(26).string(e.valoper),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={creator:"",chainId:"",valoper:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.creator=n.string();break;case 2:i.chainId=n.string();break;case 3:i.valoper=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({creator:c(e.creator)?String(e.creator):"",chainId:c(e.chainId)?String(e.chainId):"",valoper:c(e.valoper)?String(e.valoper):""}),toJSON(e){const t={};return void 0!==e.creator&&(t.creator=e.creator),void 0!==e.chainId&&(t.chainId=e.chainId),void 0!==e.valoper&&(t.valoper=e.valoper),t},fromPartial(e){var t,n,r;const i={creator:"",chainId:"",valoper:""};return i.creator=null!==(t=e.creator)&&void 0!==t?t:"",i.chainId=null!==(n=e.chainId)&&void 0!==n?n:"",i.valoper=null!==(r=e.valoper)&&void 0!==r?r:"",i}},t.MsgCalibrateDelegationResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},o.default.util.Long!==i.default&&(o.default.util.Long=i.default,o.default.configure())},34870:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Validator=t.protobufPackage=void 0;const i=r(n(27808)),o=r(n(73737));function s(e){return e.toString()}function a(e){return null!=e}t.protobufPackage="stride.stakeibc",t.Validator={encode:(e,t=o.default.Writer.create())=>(""!==e.name&&t.uint32(10).string(e.name),""!==e.address&&t.uint32(18).string(e.address),"0"!==e.weight&&t.uint32(48).uint64(e.weight),""!==e.delegation&&t.uint32(42).string(e.delegation),""!==e.slashQueryProgressTracker&&t.uint32(74).string(e.slashQueryProgressTracker),""!==e.slashQueryCheckpoint&&t.uint32(98).string(e.slashQueryCheckpoint),""!==e.sharesToTokensRate&&t.uint32(82).string(e.sharesToTokensRate),"0"!==e.delegationChangesInProgress&&t.uint32(88).int64(e.delegationChangesInProgress),!0===e.slashQueryInProgress&&t.uint32(104).bool(e.slashQueryInProgress),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={name:"",address:"",weight:"0",delegation:"",slashQueryProgressTracker:"",slashQueryCheckpoint:"",sharesToTokensRate:"",delegationChangesInProgress:"0",slashQueryInProgress:!1};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.name=n.string();break;case 2:i.address=n.string();break;case 6:i.weight=s(n.uint64());break;case 5:i.delegation=n.string();break;case 9:i.slashQueryProgressTracker=n.string();break;case 12:i.slashQueryCheckpoint=n.string();break;case 10:i.sharesToTokensRate=n.string();break;case 11:i.delegationChangesInProgress=s(n.int64());break;case 13:i.slashQueryInProgress=n.bool();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({name:a(e.name)?String(e.name):"",address:a(e.address)?String(e.address):"",weight:a(e.weight)?String(e.weight):"0",delegation:a(e.delegation)?String(e.delegation):"",slashQueryProgressTracker:a(e.slashQueryProgressTracker)?String(e.slashQueryProgressTracker):"",slashQueryCheckpoint:a(e.slashQueryCheckpoint)?String(e.slashQueryCheckpoint):"",sharesToTokensRate:a(e.sharesToTokensRate)?String(e.sharesToTokensRate):"",delegationChangesInProgress:a(e.delegationChangesInProgress)?String(e.delegationChangesInProgress):"0",slashQueryInProgress:!!a(e.slashQueryInProgress)&&Boolean(e.slashQueryInProgress)}),toJSON(e){const t={};return void 0!==e.name&&(t.name=e.name),void 0!==e.address&&(t.address=e.address),void 0!==e.weight&&(t.weight=e.weight),void 0!==e.delegation&&(t.delegation=e.delegation),void 0!==e.slashQueryProgressTracker&&(t.slashQueryProgressTracker=e.slashQueryProgressTracker),void 0!==e.slashQueryCheckpoint&&(t.slashQueryCheckpoint=e.slashQueryCheckpoint),void 0!==e.sharesToTokensRate&&(t.sharesToTokensRate=e.sharesToTokensRate),void 0!==e.delegationChangesInProgress&&(t.delegationChangesInProgress=e.delegationChangesInProgress),void 0!==e.slashQueryInProgress&&(t.slashQueryInProgress=e.slashQueryInProgress),t},fromPartial(e){var t,n,r,i,o,s,a,d,c;const u={name:"",address:"",weight:"0",delegation:"",slashQueryProgressTracker:"",slashQueryCheckpoint:"",sharesToTokensRate:"",delegationChangesInProgress:"0",slashQueryInProgress:!1};return u.name=null!==(t=e.name)&&void 0!==t?t:"",u.address=null!==(n=e.address)&&void 0!==n?n:"",u.weight=null!==(r=e.weight)&&void 0!==r?r:"0",u.delegation=null!==(i=e.delegation)&&void 0!==i?i:"",u.slashQueryProgressTracker=null!==(o=e.slashQueryProgressTracker)&&void 0!==o?o:"",u.slashQueryCheckpoint=null!==(s=e.slashQueryCheckpoint)&&void 0!==s?s:"",u.sharesToTokensRate=null!==(a=e.sharesToTokensRate)&&void 0!==a?a:"",u.delegationChangesInProgress=null!==(d=e.delegationChangesInProgress)&&void 0!==d?d:"0",u.slashQueryInProgress=null!==(c=e.slashQueryInProgress)&&void 0!==c&&c,u}},o.default.util.Long!==i.default&&(o.default.util.Long=i.default,o.default.configure())},9112:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SlashRecord=t.RedemptionRecord=t.UnbondingRecord=t.DelegationRecord=t.HostZone=t.unbondingRecordStatusToJSON=t.unbondingRecordStatusFromJSON=t.UnbondingRecordStatus=t.delegationRecordStatusToJSON=t.delegationRecordStatusFromJSON=t.DelegationRecordStatus=t.protobufPackage=void 0;const i=r(n(27808)),o=r(n(73737));var s,a;function d(e){switch(e){case 0:case"TRANSFER_IN_PROGRESS":return s.TRANSFER_IN_PROGRESS;case 1:case"TRANSFER_FAILED":return s.TRANSFER_FAILED;case 2:case"DELEGATION_QUEUE":return s.DELEGATION_QUEUE;case 3:case"DELEGATION_COMPLETE":return s.DELEGATION_COMPLETE;default:return s.UNRECOGNIZED}}function c(e){switch(e){case s.TRANSFER_IN_PROGRESS:return"TRANSFER_IN_PROGRESS";case s.TRANSFER_FAILED:return"TRANSFER_FAILED";case s.DELEGATION_QUEUE:return"DELEGATION_QUEUE";case s.DELEGATION_COMPLETE:return"DELEGATION_COMPLETE";default:return"UNKNOWN"}}function u(e){switch(e){case 0:case"ACCUMULATING_REDEMPTIONS":return a.ACCUMULATING_REDEMPTIONS;case 1:case"UNBONDING_QUEUE":return a.UNBONDING_QUEUE;case 2:case"UNBONDING_IN_PROGRESS":return a.UNBONDING_IN_PROGRESS;case 3:case"UNBONDED":return a.UNBONDED;case 4:case"CLAIMABLE":return a.CLAIMABLE;case 5:case"CLAIMED":return a.CLAIMED;default:return a.UNRECOGNIZED}}function l(e){switch(e){case a.ACCUMULATING_REDEMPTIONS:return"ACCUMULATING_REDEMPTIONS";case a.UNBONDING_QUEUE:return"UNBONDING_QUEUE";case a.UNBONDING_IN_PROGRESS:return"UNBONDING_IN_PROGRESS";case a.UNBONDED:return"UNBONDED";case a.CLAIMABLE:return"CLAIMABLE";case a.CLAIMED:return"CLAIMED";default:return"UNKNOWN"}}function h(e){return e.toString()}function p(e){return null!=e}t.protobufPackage="stride.staketia",function(e){e[e.TRANSFER_IN_PROGRESS=0]="TRANSFER_IN_PROGRESS",e[e.TRANSFER_FAILED=1]="TRANSFER_FAILED",e[e.DELEGATION_QUEUE=2]="DELEGATION_QUEUE",e[e.DELEGATION_COMPLETE=3]="DELEGATION_COMPLETE",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(s=t.DelegationRecordStatus||(t.DelegationRecordStatus={})),t.delegationRecordStatusFromJSON=d,t.delegationRecordStatusToJSON=c,function(e){e[e.ACCUMULATING_REDEMPTIONS=0]="ACCUMULATING_REDEMPTIONS",e[e.UNBONDING_QUEUE=1]="UNBONDING_QUEUE",e[e.UNBONDING_IN_PROGRESS=2]="UNBONDING_IN_PROGRESS",e[e.UNBONDED=3]="UNBONDED",e[e.CLAIMABLE=4]="CLAIMABLE",e[e.CLAIMED=5]="CLAIMED",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(a=t.UnbondingRecordStatus||(t.UnbondingRecordStatus={})),t.unbondingRecordStatusFromJSON=u,t.unbondingRecordStatusToJSON=l,t.HostZone={encode:(e,t=o.default.Writer.create())=>(""!==e.chainId&&t.uint32(10).string(e.chainId),""!==e.nativeTokenDenom&&t.uint32(18).string(e.nativeTokenDenom),""!==e.nativeTokenIbcDenom&&t.uint32(26).string(e.nativeTokenIbcDenom),""!==e.transferChannelId&&t.uint32(34).string(e.transferChannelId),""!==e.delegationAddress&&t.uint32(42).string(e.delegationAddress),""!==e.rewardAddress&&t.uint32(50).string(e.rewardAddress),""!==e.depositAddress&&t.uint32(58).string(e.depositAddress),""!==e.redemptionAddress&&t.uint32(66).string(e.redemptionAddress),""!==e.claimAddress&&t.uint32(74).string(e.claimAddress),""!==e.operatorAddressOnStride&&t.uint32(82).string(e.operatorAddressOnStride),""!==e.safeAddressOnStride&&t.uint32(90).string(e.safeAddressOnStride),""!==e.lastRedemptionRate&&t.uint32(98).string(e.lastRedemptionRate),""!==e.redemptionRate&&t.uint32(106).string(e.redemptionRate),""!==e.minRedemptionRate&&t.uint32(114).string(e.minRedemptionRate),""!==e.maxRedemptionRate&&t.uint32(122).string(e.maxRedemptionRate),""!==e.minInnerRedemptionRate&&t.uint32(130).string(e.minInnerRedemptionRate),""!==e.maxInnerRedemptionRate&&t.uint32(138).string(e.maxInnerRedemptionRate),""!==e.delegatedBalance&&t.uint32(146).string(e.delegatedBalance),"0"!==e.unbondingPeriodSeconds&&t.uint32(152).uint64(e.unbondingPeriodSeconds),!0===e.halted&&t.uint32(160).bool(e.halted),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={chainId:"",nativeTokenDenom:"",nativeTokenIbcDenom:"",transferChannelId:"",delegationAddress:"",rewardAddress:"",depositAddress:"",redemptionAddress:"",claimAddress:"",operatorAddressOnStride:"",safeAddressOnStride:"",lastRedemptionRate:"",redemptionRate:"",minRedemptionRate:"",maxRedemptionRate:"",minInnerRedemptionRate:"",maxInnerRedemptionRate:"",delegatedBalance:"",unbondingPeriodSeconds:"0",halted:!1};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.chainId=n.string();break;case 2:i.nativeTokenDenom=n.string();break;case 3:i.nativeTokenIbcDenom=n.string();break;case 4:i.transferChannelId=n.string();break;case 5:i.delegationAddress=n.string();break;case 6:i.rewardAddress=n.string();break;case 7:i.depositAddress=n.string();break;case 8:i.redemptionAddress=n.string();break;case 9:i.claimAddress=n.string();break;case 10:i.operatorAddressOnStride=n.string();break;case 11:i.safeAddressOnStride=n.string();break;case 12:i.lastRedemptionRate=n.string();break;case 13:i.redemptionRate=n.string();break;case 14:i.minRedemptionRate=n.string();break;case 15:i.maxRedemptionRate=n.string();break;case 16:i.minInnerRedemptionRate=n.string();break;case 17:i.maxInnerRedemptionRate=n.string();break;case 18:i.delegatedBalance=n.string();break;case 19:i.unbondingPeriodSeconds=h(n.uint64());break;case 20:i.halted=n.bool();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({chainId:p(e.chainId)?String(e.chainId):"",nativeTokenDenom:p(e.nativeTokenDenom)?String(e.nativeTokenDenom):"",nativeTokenIbcDenom:p(e.nativeTokenIbcDenom)?String(e.nativeTokenIbcDenom):"",transferChannelId:p(e.transferChannelId)?String(e.transferChannelId):"",delegationAddress:p(e.delegationAddress)?String(e.delegationAddress):"",rewardAddress:p(e.rewardAddress)?String(e.rewardAddress):"",depositAddress:p(e.depositAddress)?String(e.depositAddress):"",redemptionAddress:p(e.redemptionAddress)?String(e.redemptionAddress):"",claimAddress:p(e.claimAddress)?String(e.claimAddress):"",operatorAddressOnStride:p(e.operatorAddressOnStride)?String(e.operatorAddressOnStride):"",safeAddressOnStride:p(e.safeAddressOnStride)?String(e.safeAddressOnStride):"",lastRedemptionRate:p(e.lastRedemptionRate)?String(e.lastRedemptionRate):"",redemptionRate:p(e.redemptionRate)?String(e.redemptionRate):"",minRedemptionRate:p(e.minRedemptionRate)?String(e.minRedemptionRate):"",maxRedemptionRate:p(e.maxRedemptionRate)?String(e.maxRedemptionRate):"",minInnerRedemptionRate:p(e.minInnerRedemptionRate)?String(e.minInnerRedemptionRate):"",maxInnerRedemptionRate:p(e.maxInnerRedemptionRate)?String(e.maxInnerRedemptionRate):"",delegatedBalance:p(e.delegatedBalance)?String(e.delegatedBalance):"",unbondingPeriodSeconds:p(e.unbondingPeriodSeconds)?String(e.unbondingPeriodSeconds):"0",halted:!!p(e.halted)&&Boolean(e.halted)}),toJSON(e){const t={};return void 0!==e.chainId&&(t.chainId=e.chainId),void 0!==e.nativeTokenDenom&&(t.nativeTokenDenom=e.nativeTokenDenom),void 0!==e.nativeTokenIbcDenom&&(t.nativeTokenIbcDenom=e.nativeTokenIbcDenom),void 0!==e.transferChannelId&&(t.transferChannelId=e.transferChannelId),void 0!==e.delegationAddress&&(t.delegationAddress=e.delegationAddress),void 0!==e.rewardAddress&&(t.rewardAddress=e.rewardAddress),void 0!==e.depositAddress&&(t.depositAddress=e.depositAddress),void 0!==e.redemptionAddress&&(t.redemptionAddress=e.redemptionAddress),void 0!==e.claimAddress&&(t.claimAddress=e.claimAddress),void 0!==e.operatorAddressOnStride&&(t.operatorAddressOnStride=e.operatorAddressOnStride),void 0!==e.safeAddressOnStride&&(t.safeAddressOnStride=e.safeAddressOnStride),void 0!==e.lastRedemptionRate&&(t.lastRedemptionRate=e.lastRedemptionRate),void 0!==e.redemptionRate&&(t.redemptionRate=e.redemptionRate),void 0!==e.minRedemptionRate&&(t.minRedemptionRate=e.minRedemptionRate),void 0!==e.maxRedemptionRate&&(t.maxRedemptionRate=e.maxRedemptionRate),void 0!==e.minInnerRedemptionRate&&(t.minInnerRedemptionRate=e.minInnerRedemptionRate),void 0!==e.maxInnerRedemptionRate&&(t.maxInnerRedemptionRate=e.maxInnerRedemptionRate),void 0!==e.delegatedBalance&&(t.delegatedBalance=e.delegatedBalance),void 0!==e.unbondingPeriodSeconds&&(t.unbondingPeriodSeconds=e.unbondingPeriodSeconds),void 0!==e.halted&&(t.halted=e.halted),t},fromPartial(e){var t,n,r,i,o,s,a,d,c,u,l,h,p,f,g,v,m,y,b,S;const w={chainId:"",nativeTokenDenom:"",nativeTokenIbcDenom:"",transferChannelId:"",delegationAddress:"",rewardAddress:"",depositAddress:"",redemptionAddress:"",claimAddress:"",operatorAddressOnStride:"",safeAddressOnStride:"",lastRedemptionRate:"",redemptionRate:"",minRedemptionRate:"",maxRedemptionRate:"",minInnerRedemptionRate:"",maxInnerRedemptionRate:"",delegatedBalance:"",unbondingPeriodSeconds:"0",halted:!1};return w.chainId=null!==(t=e.chainId)&&void 0!==t?t:"",w.nativeTokenDenom=null!==(n=e.nativeTokenDenom)&&void 0!==n?n:"",w.nativeTokenIbcDenom=null!==(r=e.nativeTokenIbcDenom)&&void 0!==r?r:"",w.transferChannelId=null!==(i=e.transferChannelId)&&void 0!==i?i:"",w.delegationAddress=null!==(o=e.delegationAddress)&&void 0!==o?o:"",w.rewardAddress=null!==(s=e.rewardAddress)&&void 0!==s?s:"",w.depositAddress=null!==(a=e.depositAddress)&&void 0!==a?a:"",w.redemptionAddress=null!==(d=e.redemptionAddress)&&void 0!==d?d:"",w.claimAddress=null!==(c=e.claimAddress)&&void 0!==c?c:"",w.operatorAddressOnStride=null!==(u=e.operatorAddressOnStride)&&void 0!==u?u:"",w.safeAddressOnStride=null!==(l=e.safeAddressOnStride)&&void 0!==l?l:"",w.lastRedemptionRate=null!==(h=e.lastRedemptionRate)&&void 0!==h?h:"",w.redemptionRate=null!==(p=e.redemptionRate)&&void 0!==p?p:"",w.minRedemptionRate=null!==(f=e.minRedemptionRate)&&void 0!==f?f:"",w.maxRedemptionRate=null!==(g=e.maxRedemptionRate)&&void 0!==g?g:"",w.minInnerRedemptionRate=null!==(v=e.minInnerRedemptionRate)&&void 0!==v?v:"",w.maxInnerRedemptionRate=null!==(m=e.maxInnerRedemptionRate)&&void 0!==m?m:"",w.delegatedBalance=null!==(y=e.delegatedBalance)&&void 0!==y?y:"",w.unbondingPeriodSeconds=null!==(b=e.unbondingPeriodSeconds)&&void 0!==b?b:"0",w.halted=null!==(S=e.halted)&&void 0!==S&&S,w}},t.DelegationRecord={encode:(e,t=o.default.Writer.create())=>("0"!==e.id&&t.uint32(8).uint64(e.id),""!==e.nativeAmount&&t.uint32(18).string(e.nativeAmount),0!==e.status&&t.uint32(24).int32(e.status),""!==e.txHash&&t.uint32(34).string(e.txHash),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={id:"0",nativeAmount:"",status:0,txHash:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.id=h(n.uint64());break;case 2:i.nativeAmount=n.string();break;case 3:i.status=n.int32();break;case 4:i.txHash=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({id:p(e.id)?String(e.id):"0",nativeAmount:p(e.nativeAmount)?String(e.nativeAmount):"",status:p(e.status)?d(e.status):0,txHash:p(e.txHash)?String(e.txHash):""}),toJSON(e){const t={};return void 0!==e.id&&(t.id=e.id),void 0!==e.nativeAmount&&(t.nativeAmount=e.nativeAmount),void 0!==e.status&&(t.status=c(e.status)),void 0!==e.txHash&&(t.txHash=e.txHash),t},fromPartial(e){var t,n,r,i;const o={id:"0",nativeAmount:"",status:0,txHash:""};return o.id=null!==(t=e.id)&&void 0!==t?t:"0",o.nativeAmount=null!==(n=e.nativeAmount)&&void 0!==n?n:"",o.status=null!==(r=e.status)&&void 0!==r?r:0,o.txHash=null!==(i=e.txHash)&&void 0!==i?i:"",o}},t.UnbondingRecord={encode:(e,t=o.default.Writer.create())=>("0"!==e.id&&t.uint32(8).uint64(e.id),0!==e.status&&t.uint32(16).int32(e.status),""!==e.stTokenAmount&&t.uint32(26).string(e.stTokenAmount),""!==e.nativeAmount&&t.uint32(34).string(e.nativeAmount),"0"!==e.unbondingCompletionTimeSeconds&&t.uint32(40).uint64(e.unbondingCompletionTimeSeconds),""!==e.undelegationTxHash&&t.uint32(50).string(e.undelegationTxHash),""!==e.unbondedTokenSweepTxHash&&t.uint32(58).string(e.unbondedTokenSweepTxHash),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={id:"0",status:0,stTokenAmount:"",nativeAmount:"",unbondingCompletionTimeSeconds:"0",undelegationTxHash:"",unbondedTokenSweepTxHash:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.id=h(n.uint64());break;case 2:i.status=n.int32();break;case 3:i.stTokenAmount=n.string();break;case 4:i.nativeAmount=n.string();break;case 5:i.unbondingCompletionTimeSeconds=h(n.uint64());break;case 6:i.undelegationTxHash=n.string();break;case 7:i.unbondedTokenSweepTxHash=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({id:p(e.id)?String(e.id):"0",status:p(e.status)?u(e.status):0,stTokenAmount:p(e.stTokenAmount)?String(e.stTokenAmount):"",nativeAmount:p(e.nativeAmount)?String(e.nativeAmount):"",unbondingCompletionTimeSeconds:p(e.unbondingCompletionTimeSeconds)?String(e.unbondingCompletionTimeSeconds):"0",undelegationTxHash:p(e.undelegationTxHash)?String(e.undelegationTxHash):"",unbondedTokenSweepTxHash:p(e.unbondedTokenSweepTxHash)?String(e.unbondedTokenSweepTxHash):""}),toJSON(e){const t={};return void 0!==e.id&&(t.id=e.id),void 0!==e.status&&(t.status=l(e.status)),void 0!==e.stTokenAmount&&(t.stTokenAmount=e.stTokenAmount),void 0!==e.nativeAmount&&(t.nativeAmount=e.nativeAmount),void 0!==e.unbondingCompletionTimeSeconds&&(t.unbondingCompletionTimeSeconds=e.unbondingCompletionTimeSeconds),void 0!==e.undelegationTxHash&&(t.undelegationTxHash=e.undelegationTxHash),void 0!==e.unbondedTokenSweepTxHash&&(t.unbondedTokenSweepTxHash=e.unbondedTokenSweepTxHash),t},fromPartial(e){var t,n,r,i,o,s,a;const d={id:"0",status:0,stTokenAmount:"",nativeAmount:"",unbondingCompletionTimeSeconds:"0",undelegationTxHash:"",unbondedTokenSweepTxHash:""};return d.id=null!==(t=e.id)&&void 0!==t?t:"0",d.status=null!==(n=e.status)&&void 0!==n?n:0,d.stTokenAmount=null!==(r=e.stTokenAmount)&&void 0!==r?r:"",d.nativeAmount=null!==(i=e.nativeAmount)&&void 0!==i?i:"",d.unbondingCompletionTimeSeconds=null!==(o=e.unbondingCompletionTimeSeconds)&&void 0!==o?o:"0",d.undelegationTxHash=null!==(s=e.undelegationTxHash)&&void 0!==s?s:"",d.unbondedTokenSweepTxHash=null!==(a=e.unbondedTokenSweepTxHash)&&void 0!==a?a:"",d}},t.RedemptionRecord={encode:(e,t=o.default.Writer.create())=>("0"!==e.unbondingRecordId&&t.uint32(8).uint64(e.unbondingRecordId),""!==e.redeemer&&t.uint32(18).string(e.redeemer),""!==e.stTokenAmount&&t.uint32(26).string(e.stTokenAmount),""!==e.nativeAmount&&t.uint32(34).string(e.nativeAmount),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={unbondingRecordId:"0",redeemer:"",stTokenAmount:"",nativeAmount:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.unbondingRecordId=h(n.uint64());break;case 2:i.redeemer=n.string();break;case 3:i.stTokenAmount=n.string();break;case 4:i.nativeAmount=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({unbondingRecordId:p(e.unbondingRecordId)?String(e.unbondingRecordId):"0",redeemer:p(e.redeemer)?String(e.redeemer):"",stTokenAmount:p(e.stTokenAmount)?String(e.stTokenAmount):"",nativeAmount:p(e.nativeAmount)?String(e.nativeAmount):""}),toJSON(e){const t={};return void 0!==e.unbondingRecordId&&(t.unbondingRecordId=e.unbondingRecordId),void 0!==e.redeemer&&(t.redeemer=e.redeemer),void 0!==e.stTokenAmount&&(t.stTokenAmount=e.stTokenAmount),void 0!==e.nativeAmount&&(t.nativeAmount=e.nativeAmount),t},fromPartial(e){var t,n,r,i;const o={unbondingRecordId:"0",redeemer:"",stTokenAmount:"",nativeAmount:""};return o.unbondingRecordId=null!==(t=e.unbondingRecordId)&&void 0!==t?t:"0",o.redeemer=null!==(n=e.redeemer)&&void 0!==n?n:"",o.stTokenAmount=null!==(r=e.stTokenAmount)&&void 0!==r?r:"",o.nativeAmount=null!==(i=e.nativeAmount)&&void 0!==i?i:"",o}},t.SlashRecord={encode:(e,t=o.default.Writer.create())=>("0"!==e.id&&t.uint32(8).uint64(e.id),"0"!==e.time&&t.uint32(16).uint64(e.time),""!==e.nativeAmount&&t.uint32(26).string(e.nativeAmount),""!==e.validatorAddress&&t.uint32(34).string(e.validatorAddress),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={id:"0",time:"0",nativeAmount:"",validatorAddress:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.id=h(n.uint64());break;case 2:i.time=h(n.uint64());break;case 3:i.nativeAmount=n.string();break;case 4:i.validatorAddress=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({id:p(e.id)?String(e.id):"0",time:p(e.time)?String(e.time):"0",nativeAmount:p(e.nativeAmount)?String(e.nativeAmount):"",validatorAddress:p(e.validatorAddress)?String(e.validatorAddress):""}),toJSON(e){const t={};return void 0!==e.id&&(t.id=e.id),void 0!==e.time&&(t.time=e.time),void 0!==e.nativeAmount&&(t.nativeAmount=e.nativeAmount),void 0!==e.validatorAddress&&(t.validatorAddress=e.validatorAddress),t},fromPartial(e){var t,n,r,i;const o={id:"0",time:"0",nativeAmount:"",validatorAddress:""};return o.id=null!==(t=e.id)&&void 0!==t?t:"0",o.time=null!==(n=e.time)&&void 0!==n?n:"0",o.nativeAmount=null!==(r=e.nativeAmount)&&void 0!==r?r:"",o.validatorAddress=null!==(i=e.validatorAddress)&&void 0!==i?i:"",o}},o.default.util.Long!==i.default&&(o.default.util.Long=i.default,o.default.configure())},11977:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MsgSetOperatorAddressResponse=t.MsgSetOperatorAddress=t.MsgOverwriteRedemptionRecordResponse=t.MsgOverwriteRedemptionRecord=t.MsgOverwriteUnbondingRecordResponse=t.MsgOverwriteUnbondingRecord=t.MsgOverwriteDelegationRecordResponse=t.MsgOverwriteDelegationRecord=t.MsgRefreshRedemptionRateResponse=t.MsgRefreshRedemptionRate=t.MsgResumeHostZoneResponse=t.MsgResumeHostZone=t.MsgUpdateInnerRedemptionRateBoundsResponse=t.MsgUpdateInnerRedemptionRateBounds=t.MsgAdjustDelegatedBalanceResponse=t.MsgAdjustDelegatedBalance=t.MsgConfirmUnbondedTokenSweepResponse=t.MsgConfirmUnbondedTokenSweep=t.MsgConfirmUndelegationResponse=t.MsgConfirmUndelegation=t.MsgConfirmDelegationResponse=t.MsgConfirmDelegation=t.MsgRedeemStakeResponse=t.MsgRedeemStake=t.MsgLiquidStakeResponse=t.MsgLiquidStake=t.overwritableRecordTypeToJSON=t.overwritableRecordTypeFromJSON=t.OverwritableRecordType=t.protobufPackage=void 0;const i=r(n(27808)),o=r(n(73737)),s=n(58113),a=n(9112);var d;function c(e){return e.toString()}function u(e){return null!=e}t.protobufPackage="stride.staketia",function(e){e[e.RECORD_TYPE_DELEGATION=0]="RECORD_TYPE_DELEGATION",e[e.RECORD_TYPE_UNBONDING=1]="RECORD_TYPE_UNBONDING",e[e.RECORD_TYPE_REDEMPTION=2]="RECORD_TYPE_REDEMPTION",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(d=t.OverwritableRecordType||(t.OverwritableRecordType={})),t.overwritableRecordTypeFromJSON=function(e){switch(e){case 0:case"RECORD_TYPE_DELEGATION":return d.RECORD_TYPE_DELEGATION;case 1:case"RECORD_TYPE_UNBONDING":return d.RECORD_TYPE_UNBONDING;case 2:case"RECORD_TYPE_REDEMPTION":return d.RECORD_TYPE_REDEMPTION;default:return d.UNRECOGNIZED}},t.overwritableRecordTypeToJSON=function(e){switch(e){case d.RECORD_TYPE_DELEGATION:return"RECORD_TYPE_DELEGATION";case d.RECORD_TYPE_UNBONDING:return"RECORD_TYPE_UNBONDING";case d.RECORD_TYPE_REDEMPTION:return"RECORD_TYPE_REDEMPTION";default:return"UNKNOWN"}},t.MsgLiquidStake={encode:(e,t=o.default.Writer.create())=>(""!==e.staker&&t.uint32(10).string(e.staker),""!==e.nativeAmount&&t.uint32(18).string(e.nativeAmount),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={staker:"",nativeAmount:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.staker=n.string();break;case 2:i.nativeAmount=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({staker:u(e.staker)?String(e.staker):"",nativeAmount:u(e.nativeAmount)?String(e.nativeAmount):""}),toJSON(e){const t={};return void 0!==e.staker&&(t.staker=e.staker),void 0!==e.nativeAmount&&(t.nativeAmount=e.nativeAmount),t},fromPartial(e){var t,n;const r={staker:"",nativeAmount:""};return r.staker=null!==(t=e.staker)&&void 0!==t?t:"",r.nativeAmount=null!==(n=e.nativeAmount)&&void 0!==n?n:"",r}},t.MsgLiquidStakeResponse={encode:(e,t=o.default.Writer.create())=>(void 0!==e.stToken&&s.Coin.encode(e.stToken,t.uint32(10).fork()).ldelim(),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={stToken:void 0};for(;n.pos<r;){const e=n.uint32();e>>>3==1?i.stToken=s.Coin.decode(n,n.uint32()):n.skipType(7&e)}return i},fromJSON:e=>({stToken:u(e.stToken)?s.Coin.fromJSON(e.stToken):void 0}),toJSON(e){const t={};return void 0!==e.stToken&&(t.stToken=e.stToken?s.Coin.toJSON(e.stToken):void 0),t},fromPartial(e){const t={stToken:void 0};return t.stToken=void 0!==e.stToken&&null!==e.stToken?s.Coin.fromPartial(e.stToken):void 0,t}},t.MsgRedeemStake={encode:(e,t=o.default.Writer.create())=>(""!==e.redeemer&&t.uint32(10).string(e.redeemer),""!==e.stTokenAmount&&t.uint32(18).string(e.stTokenAmount),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={redeemer:"",stTokenAmount:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.redeemer=n.string();break;case 2:i.stTokenAmount=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({redeemer:u(e.redeemer)?String(e.redeemer):"",stTokenAmount:u(e.stTokenAmount)?String(e.stTokenAmount):""}),toJSON(e){const t={};return void 0!==e.redeemer&&(t.redeemer=e.redeemer),void 0!==e.stTokenAmount&&(t.stTokenAmount=e.stTokenAmount),t},fromPartial(e){var t,n;const r={redeemer:"",stTokenAmount:""};return r.redeemer=null!==(t=e.redeemer)&&void 0!==t?t:"",r.stTokenAmount=null!==(n=e.stTokenAmount)&&void 0!==n?n:"",r}},t.MsgRedeemStakeResponse={encode:(e,t=o.default.Writer.create())=>(void 0!==e.nativeToken&&s.Coin.encode(e.nativeToken,t.uint32(10).fork()).ldelim(),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={nativeToken:void 0};for(;n.pos<r;){const e=n.uint32();e>>>3==1?i.nativeToken=s.Coin.decode(n,n.uint32()):n.skipType(7&e)}return i},fromJSON:e=>({nativeToken:u(e.nativeToken)?s.Coin.fromJSON(e.nativeToken):void 0}),toJSON(e){const t={};return void 0!==e.nativeToken&&(t.nativeToken=e.nativeToken?s.Coin.toJSON(e.nativeToken):void 0),t},fromPartial(e){const t={nativeToken:void 0};return t.nativeToken=void 0!==e.nativeToken&&null!==e.nativeToken?s.Coin.fromPartial(e.nativeToken):void 0,t}},t.MsgConfirmDelegation={encode:(e,t=o.default.Writer.create())=>(""!==e.operator&&t.uint32(10).string(e.operator),"0"!==e.recordId&&t.uint32(16).uint64(e.recordId),""!==e.txHash&&t.uint32(26).string(e.txHash),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={operator:"",recordId:"0",txHash:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.operator=n.string();break;case 2:i.recordId=c(n.uint64());break;case 3:i.txHash=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({operator:u(e.operator)?String(e.operator):"",recordId:u(e.recordId)?String(e.recordId):"0",txHash:u(e.txHash)?String(e.txHash):""}),toJSON(e){const t={};return void 0!==e.operator&&(t.operator=e.operator),void 0!==e.recordId&&(t.recordId=e.recordId),void 0!==e.txHash&&(t.txHash=e.txHash),t},fromPartial(e){var t,n,r;const i={operator:"",recordId:"0",txHash:""};return i.operator=null!==(t=e.operator)&&void 0!==t?t:"",i.recordId=null!==(n=e.recordId)&&void 0!==n?n:"0",i.txHash=null!==(r=e.txHash)&&void 0!==r?r:"",i}},t.MsgConfirmDelegationResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},t.MsgConfirmUndelegation={encode:(e,t=o.default.Writer.create())=>(""!==e.operator&&t.uint32(10).string(e.operator),"0"!==e.recordId&&t.uint32(16).uint64(e.recordId),""!==e.txHash&&t.uint32(26).string(e.txHash),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={operator:"",recordId:"0",txHash:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.operator=n.string();break;case 2:i.recordId=c(n.uint64());break;case 3:i.txHash=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({operator:u(e.operator)?String(e.operator):"",recordId:u(e.recordId)?String(e.recordId):"0",txHash:u(e.txHash)?String(e.txHash):""}),toJSON(e){const t={};return void 0!==e.operator&&(t.operator=e.operator),void 0!==e.recordId&&(t.recordId=e.recordId),void 0!==e.txHash&&(t.txHash=e.txHash),t},fromPartial(e){var t,n,r;const i={operator:"",recordId:"0",txHash:""};return i.operator=null!==(t=e.operator)&&void 0!==t?t:"",i.recordId=null!==(n=e.recordId)&&void 0!==n?n:"0",i.txHash=null!==(r=e.txHash)&&void 0!==r?r:"",i}},t.MsgConfirmUndelegationResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},t.MsgConfirmUnbondedTokenSweep={encode:(e,t=o.default.Writer.create())=>(""!==e.operator&&t.uint32(10).string(e.operator),"0"!==e.recordId&&t.uint32(16).uint64(e.recordId),""!==e.txHash&&t.uint32(26).string(e.txHash),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={operator:"",recordId:"0",txHash:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.operator=n.string();break;case 2:i.recordId=c(n.uint64());break;case 3:i.txHash=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({operator:u(e.operator)?String(e.operator):"",recordId:u(e.recordId)?String(e.recordId):"0",txHash:u(e.txHash)?String(e.txHash):""}),toJSON(e){const t={};return void 0!==e.operator&&(t.operator=e.operator),void 0!==e.recordId&&(t.recordId=e.recordId),void 0!==e.txHash&&(t.txHash=e.txHash),t},fromPartial(e){var t,n,r;const i={operator:"",recordId:"0",txHash:""};return i.operator=null!==(t=e.operator)&&void 0!==t?t:"",i.recordId=null!==(n=e.recordId)&&void 0!==n?n:"0",i.txHash=null!==(r=e.txHash)&&void 0!==r?r:"",i}},t.MsgConfirmUnbondedTokenSweepResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},t.MsgAdjustDelegatedBalance={encode:(e,t=o.default.Writer.create())=>(""!==e.operator&&t.uint32(10).string(e.operator),""!==e.delegationOffset&&t.uint32(18).string(e.delegationOffset),""!==e.validatorAddress&&t.uint32(26).string(e.validatorAddress),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={operator:"",delegationOffset:"",validatorAddress:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.operator=n.string();break;case 2:i.delegationOffset=n.string();break;case 3:i.validatorAddress=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({operator:u(e.operator)?String(e.operator):"",delegationOffset:u(e.delegationOffset)?String(e.delegationOffset):"",validatorAddress:u(e.validatorAddress)?String(e.validatorAddress):""}),toJSON(e){const t={};return void 0!==e.operator&&(t.operator=e.operator),void 0!==e.delegationOffset&&(t.delegationOffset=e.delegationOffset),void 0!==e.validatorAddress&&(t.validatorAddress=e.validatorAddress),t},fromPartial(e){var t,n,r;const i={operator:"",delegationOffset:"",validatorAddress:""};return i.operator=null!==(t=e.operator)&&void 0!==t?t:"",i.delegationOffset=null!==(n=e.delegationOffset)&&void 0!==n?n:"",i.validatorAddress=null!==(r=e.validatorAddress)&&void 0!==r?r:"",i}},t.MsgAdjustDelegatedBalanceResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},t.MsgUpdateInnerRedemptionRateBounds={encode:(e,t=o.default.Writer.create())=>(""!==e.creator&&t.uint32(10).string(e.creator),""!==e.minInnerRedemptionRate&&t.uint32(18).string(e.minInnerRedemptionRate),""!==e.maxInnerRedemptionRate&&t.uint32(26).string(e.maxInnerRedemptionRate),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={creator:"",minInnerRedemptionRate:"",maxInnerRedemptionRate:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.creator=n.string();break;case 2:i.minInnerRedemptionRate=n.string();break;case 3:i.maxInnerRedemptionRate=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({creator:u(e.creator)?String(e.creator):"",minInnerRedemptionRate:u(e.minInnerRedemptionRate)?String(e.minInnerRedemptionRate):"",maxInnerRedemptionRate:u(e.maxInnerRedemptionRate)?String(e.maxInnerRedemptionRate):""}),toJSON(e){const t={};return void 0!==e.creator&&(t.creator=e.creator),void 0!==e.minInnerRedemptionRate&&(t.minInnerRedemptionRate=e.minInnerRedemptionRate),void 0!==e.maxInnerRedemptionRate&&(t.maxInnerRedemptionRate=e.maxInnerRedemptionRate),t},fromPartial(e){var t,n,r;const i={creator:"",minInnerRedemptionRate:"",maxInnerRedemptionRate:""};return i.creator=null!==(t=e.creator)&&void 0!==t?t:"",i.minInnerRedemptionRate=null!==(n=e.minInnerRedemptionRate)&&void 0!==n?n:"",i.maxInnerRedemptionRate=null!==(r=e.maxInnerRedemptionRate)&&void 0!==r?r:"",i}},t.MsgUpdateInnerRedemptionRateBoundsResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},t.MsgResumeHostZone={encode:(e,t=o.default.Writer.create())=>(""!==e.creator&&t.uint32(10).string(e.creator),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={creator:""};for(;n.pos<r;){const e=n.uint32();e>>>3==1?i.creator=n.string():n.skipType(7&e)}return i},fromJSON:e=>({creator:u(e.creator)?String(e.creator):""}),toJSON(e){const t={};return void 0!==e.creator&&(t.creator=e.creator),t},fromPartial(e){var t;const n={creator:""};return n.creator=null!==(t=e.creator)&&void 0!==t?t:"",n}},t.MsgResumeHostZoneResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},t.MsgRefreshRedemptionRate={encode:(e,t=o.default.Writer.create())=>(""!==e.creator&&t.uint32(10).string(e.creator),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={creator:""};for(;n.pos<r;){const e=n.uint32();e>>>3==1?i.creator=n.string():n.skipType(7&e)}return i},fromJSON:e=>({creator:u(e.creator)?String(e.creator):""}),toJSON(e){const t={};return void 0!==e.creator&&(t.creator=e.creator),t},fromPartial(e){var t;const n={creator:""};return n.creator=null!==(t=e.creator)&&void 0!==t?t:"",n}},t.MsgRefreshRedemptionRateResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},t.MsgOverwriteDelegationRecord={encode:(e,t=o.default.Writer.create())=>(""!==e.creator&&t.uint32(10).string(e.creator),void 0!==e.delegationRecord&&a.DelegationRecord.encode(e.delegationRecord,t.uint32(18).fork()).ldelim(),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={creator:"",delegationRecord:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.creator=n.string();break;case 2:i.delegationRecord=a.DelegationRecord.decode(n,n.uint32());break;default:n.skipType(7&e)}}return i},fromJSON:e=>({creator:u(e.creator)?String(e.creator):"",delegationRecord:u(e.delegationRecord)?a.DelegationRecord.fromJSON(e.delegationRecord):void 0}),toJSON(e){const t={};return void 0!==e.creator&&(t.creator=e.creator),void 0!==e.delegationRecord&&(t.delegationRecord=e.delegationRecord?a.DelegationRecord.toJSON(e.delegationRecord):void 0),t},fromPartial(e){var t;const n={creator:"",delegationRecord:void 0};return n.creator=null!==(t=e.creator)&&void 0!==t?t:"",n.delegationRecord=void 0!==e.delegationRecord&&null!==e.delegationRecord?a.DelegationRecord.fromPartial(e.delegationRecord):void 0,n}},t.MsgOverwriteDelegationRecordResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},t.MsgOverwriteUnbondingRecord={encode:(e,t=o.default.Writer.create())=>(""!==e.creator&&t.uint32(10).string(e.creator),void 0!==e.unbondingRecord&&a.UnbondingRecord.encode(e.unbondingRecord,t.uint32(18).fork()).ldelim(),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={creator:"",unbondingRecord:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.creator=n.string();break;case 2:i.unbondingRecord=a.UnbondingRecord.decode(n,n.uint32());break;default:n.skipType(7&e)}}return i},fromJSON:e=>({creator:u(e.creator)?String(e.creator):"",unbondingRecord:u(e.unbondingRecord)?a.UnbondingRecord.fromJSON(e.unbondingRecord):void 0}),toJSON(e){const t={};return void 0!==e.creator&&(t.creator=e.creator),void 0!==e.unbondingRecord&&(t.unbondingRecord=e.unbondingRecord?a.UnbondingRecord.toJSON(e.unbondingRecord):void 0),t},fromPartial(e){var t;const n={creator:"",unbondingRecord:void 0};return n.creator=null!==(t=e.creator)&&void 0!==t?t:"",n.unbondingRecord=void 0!==e.unbondingRecord&&null!==e.unbondingRecord?a.UnbondingRecord.fromPartial(e.unbondingRecord):void 0,n}},t.MsgOverwriteUnbondingRecordResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},t.MsgOverwriteRedemptionRecord={encode:(e,t=o.default.Writer.create())=>(""!==e.creator&&t.uint32(10).string(e.creator),void 0!==e.redemptionRecord&&a.RedemptionRecord.encode(e.redemptionRecord,t.uint32(18).fork()).ldelim(),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={creator:"",redemptionRecord:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.creator=n.string();break;case 2:i.redemptionRecord=a.RedemptionRecord.decode(n,n.uint32());break;default:n.skipType(7&e)}}return i},fromJSON:e=>({creator:u(e.creator)?String(e.creator):"",redemptionRecord:u(e.redemptionRecord)?a.RedemptionRecord.fromJSON(e.redemptionRecord):void 0}),toJSON(e){const t={};return void 0!==e.creator&&(t.creator=e.creator),void 0!==e.redemptionRecord&&(t.redemptionRecord=e.redemptionRecord?a.RedemptionRecord.toJSON(e.redemptionRecord):void 0),t},fromPartial(e){var t;const n={creator:"",redemptionRecord:void 0};return n.creator=null!==(t=e.creator)&&void 0!==t?t:"",n.redemptionRecord=void 0!==e.redemptionRecord&&null!==e.redemptionRecord?a.RedemptionRecord.fromPartial(e.redemptionRecord):void 0,n}},t.MsgOverwriteRedemptionRecordResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},t.MsgSetOperatorAddress={encode:(e,t=o.default.Writer.create())=>(""!==e.signer&&t.uint32(10).string(e.signer),""!==e.operator&&t.uint32(18).string(e.operator),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={signer:"",operator:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.signer=n.string();break;case 2:i.operator=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({signer:u(e.signer)?String(e.signer):"",operator:u(e.operator)?String(e.operator):""}),toJSON(e){const t={};return void 0!==e.signer&&(t.signer=e.signer),void 0!==e.operator&&(t.operator=e.operator),t},fromPartial(e){var t,n;const r={signer:"",operator:""};return r.signer=null!==(t=e.signer)&&void 0!==t?t:"",r.operator=null!==(n=e.operator)&&void 0!==n?n:"",r}},t.MsgSetOperatorAddressResponse={encode:(e,t=o.default.Writer.create())=>t,decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})},o.default.util.Long!==i.default&&(o.default.util.Long=i.default,o.default.configure())},41473:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PublicKey=t.protobufPackage=void 0;const i=r(n(27808)),o=r(n(73737));t.protobufPackage="tendermint.crypto",t.PublicKey={encode:(e,t=o.default.Writer.create())=>(void 0!==e.ed25519&&t.uint32(10).bytes(e.ed25519),void 0!==e.secp256k1&&t.uint32(18).bytes(e.secp256k1),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={ed25519:void 0,secp256k1:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.ed25519=n.bytes();break;case 2:i.secp256k1=n.bytes();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({ed25519:l(e.ed25519)?d(e.ed25519):void 0,secp256k1:l(e.secp256k1)?d(e.secp256k1):void 0}),toJSON(e){const t={};return void 0!==e.ed25519&&(t.ed25519=void 0!==e.ed25519?u(e.ed25519):void 0),void 0!==e.secp256k1&&(t.secp256k1=void 0!==e.secp256k1?u(e.secp256k1):void 0),t},fromPartial(e){var t,n;const r={ed25519:void 0,secp256k1:void 0};return r.ed25519=null!==(t=e.ed25519)&&void 0!==t?t:void 0,r.secp256k1=null!==(n=e.secp256k1)&&void 0!==n?n:void 0,r}};var s=(()=>{if(void 0!==s)return s;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw"Unable to locate global object"})();const a=s.atob||(e=>s.Buffer.from(e,"base64").toString("binary"));function d(e){const t=a(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n[e]=t.charCodeAt(e);return n}const c=s.btoa||(e=>s.Buffer.from(e,"binary").toString("base64"));function u(e){const t=[];for(const n of e)t.push(String.fromCharCode(n));return c(t.join(""))}function l(e){return null!=e}o.default.util.Long!==i.default&&(o.default.util.Long=i.default,o.default.configure())},66596:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ProofOps=t.ProofOp=t.DominoOp=t.ValueOp=t.Proof=t.protobufPackage=void 0;const i=r(n(27808)),o=r(n(73737));function s(){return{total:"0",index:"0",leafHash:new Uint8Array,aunts:[]}}function a(){return{key:new Uint8Array,proof:void 0}}function d(){return{type:"",key:new Uint8Array,data:new Uint8Array}}t.protobufPackage="tendermint.crypto",t.Proof={encode(e,t=o.default.Writer.create()){"0"!==e.total&&t.uint32(8).int64(e.total),"0"!==e.index&&t.uint32(16).int64(e.index),0!==e.leafHash.length&&t.uint32(26).bytes(e.leafHash);for(const n of e.aunts)t.uint32(34).bytes(n);return t},decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=s();for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.total=f(n.int64());break;case 2:i.index=f(n.int64());break;case 3:i.leafHash=n.bytes();break;case 4:i.aunts.push(n.bytes());break;default:n.skipType(7&e)}}return i},fromJSON:e=>({total:g(e.total)?String(e.total):"0",index:g(e.index)?String(e.index):"0",leafHash:g(e.leafHash)?l(e.leafHash):new Uint8Array,aunts:Array.isArray(null==e?void 0:e.aunts)?e.aunts.map((e=>l(e))):[]}),toJSON(e){const t={};return void 0!==e.total&&(t.total=e.total),void 0!==e.index&&(t.index=e.index),void 0!==e.leafHash&&(t.leafHash=p(void 0!==e.leafHash?e.leafHash:new Uint8Array)),e.aunts?t.aunts=e.aunts.map((e=>p(void 0!==e?e:new Uint8Array))):t.aunts=[],t},fromPartial(e){var t,n,r,i;const o=s();return o.total=null!==(t=e.total)&&void 0!==t?t:"0",o.index=null!==(n=e.index)&&void 0!==n?n:"0",o.leafHash=null!==(r=e.leafHash)&&void 0!==r?r:new Uint8Array,o.aunts=(null===(i=e.aunts)||void 0===i?void 0:i.map((e=>e)))||[],o}},t.ValueOp={encode:(e,n=o.default.Writer.create())=>(0!==e.key.length&&n.uint32(10).bytes(e.key),void 0!==e.proof&&t.Proof.encode(e.proof,n.uint32(18).fork()).ldelim(),n),decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const s=a();for(;r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:s.key=r.bytes();break;case 2:s.proof=t.Proof.decode(r,r.uint32());break;default:r.skipType(7&e)}}return s},fromJSON:e=>({key:g(e.key)?l(e.key):new Uint8Array,proof:g(e.proof)?t.Proof.fromJSON(e.proof):void 0}),toJSON(e){const n={};return void 0!==e.key&&(n.key=p(void 0!==e.key?e.key:new Uint8Array)),void 0!==e.proof&&(n.proof=e.proof?t.Proof.toJSON(e.proof):void 0),n},fromPartial(e){var n;const r=a();return r.key=null!==(n=e.key)&&void 0!==n?n:new Uint8Array,r.proof=void 0!==e.proof&&null!==e.proof?t.Proof.fromPartial(e.proof):void 0,r}},t.DominoOp={encode:(e,t=o.default.Writer.create())=>(""!==e.key&&t.uint32(10).string(e.key),""!==e.input&&t.uint32(18).string(e.input),""!==e.output&&t.uint32(26).string(e.output),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={key:"",input:"",output:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.key=n.string();break;case 2:i.input=n.string();break;case 3:i.output=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({key:g(e.key)?String(e.key):"",input:g(e.input)?String(e.input):"",output:g(e.output)?String(e.output):""}),toJSON(e){const t={};return void 0!==e.key&&(t.key=e.key),void 0!==e.input&&(t.input=e.input),void 0!==e.output&&(t.output=e.output),t},fromPartial(e){var t,n,r;const i={key:"",input:"",output:""};return i.key=null!==(t=e.key)&&void 0!==t?t:"",i.input=null!==(n=e.input)&&void 0!==n?n:"",i.output=null!==(r=e.output)&&void 0!==r?r:"",i}},t.ProofOp={encode:(e,t=o.default.Writer.create())=>(""!==e.type&&t.uint32(10).string(e.type),0!==e.key.length&&t.uint32(18).bytes(e.key),0!==e.data.length&&t.uint32(26).bytes(e.data),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=d();for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.type=n.string();break;case 2:i.key=n.bytes();break;case 3:i.data=n.bytes();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({type:g(e.type)?String(e.type):"",key:g(e.key)?l(e.key):new Uint8Array,data:g(e.data)?l(e.data):new Uint8Array}),toJSON(e){const t={};return void 0!==e.type&&(t.type=e.type),void 0!==e.key&&(t.key=p(void 0!==e.key?e.key:new Uint8Array)),void 0!==e.data&&(t.data=p(void 0!==e.data?e.data:new Uint8Array)),t},fromPartial(e){var t,n,r;const i=d();return i.type=null!==(t=e.type)&&void 0!==t?t:"",i.key=null!==(n=e.key)&&void 0!==n?n:new Uint8Array,i.data=null!==(r=e.data)&&void 0!==r?r:new Uint8Array,i}},t.ProofOps={encode(e,n=o.default.Writer.create()){for(const r of e.ops)t.ProofOp.encode(r,n.uint32(10).fork()).ldelim();return n},decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const s={ops:[]};for(;r.pos<i;){const e=r.uint32();e>>>3==1?s.ops.push(t.ProofOp.decode(r,r.uint32())):r.skipType(7&e)}return s},fromJSON:e=>({ops:Array.isArray(null==e?void 0:e.ops)?e.ops.map((e=>t.ProofOp.fromJSON(e))):[]}),toJSON(e){const n={};return e.ops?n.ops=e.ops.map((e=>e?t.ProofOp.toJSON(e):void 0)):n.ops=[],n},fromPartial(e){var n;const r={ops:[]};return r.ops=(null===(n=e.ops)||void 0===n?void 0:n.map((e=>t.ProofOp.fromPartial(e))))||[],r}};var c=(()=>{if(void 0!==c)return c;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw"Unable to locate global object"})();const u=c.atob||(e=>c.Buffer.from(e,"base64").toString("binary"));function l(e){const t=u(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n[e]=t.charCodeAt(e);return n}const h=c.btoa||(e=>c.Buffer.from(e,"binary").toString("base64"));function p(e){const t=[];for(const n of e)t.push(String.fromCharCode(n));return h(t.join(""))}function f(e){return e.toString()}function g(e){return null!=e}o.default.util.Long!==i.default&&(o.default.util.Long=i.default,o.default.configure())},4199:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TxProof=t.BlockMeta=t.LightBlock=t.SignedHeader=t.Proposal=t.CommitSig=t.Commit=t.Vote=t.Data=t.Header=t.BlockID=t.Part=t.PartSetHeader=t.signedMsgTypeToJSON=t.signedMsgTypeFromJSON=t.SignedMsgType=t.blockIDFlagToJSON=t.blockIDFlagFromJSON=t.BlockIDFlag=t.protobufPackage=void 0;const i=r(n(27808)),o=r(n(73737)),s=n(52811),a=n(66596),d=n(82410),c=n(65075);var u,l;function h(e){switch(e){case 0:case"BLOCK_ID_FLAG_UNKNOWN":return u.BLOCK_ID_FLAG_UNKNOWN;case 1:case"BLOCK_ID_FLAG_ABSENT":return u.BLOCK_ID_FLAG_ABSENT;case 2:case"BLOCK_ID_FLAG_COMMIT":return u.BLOCK_ID_FLAG_COMMIT;case 3:case"BLOCK_ID_FLAG_NIL":return u.BLOCK_ID_FLAG_NIL;default:return u.UNRECOGNIZED}}function p(e){switch(e){case u.BLOCK_ID_FLAG_UNKNOWN:return"BLOCK_ID_FLAG_UNKNOWN";case u.BLOCK_ID_FLAG_ABSENT:return"BLOCK_ID_FLAG_ABSENT";case u.BLOCK_ID_FLAG_COMMIT:return"BLOCK_ID_FLAG_COMMIT";case u.BLOCK_ID_FLAG_NIL:return"BLOCK_ID_FLAG_NIL";default:return"UNKNOWN"}}function f(e){switch(e){case 0:case"SIGNED_MSG_TYPE_UNKNOWN":return l.SIGNED_MSG_TYPE_UNKNOWN;case 1:case"SIGNED_MSG_TYPE_PREVOTE":return l.SIGNED_MSG_TYPE_PREVOTE;case 2:case"SIGNED_MSG_TYPE_PRECOMMIT":return l.SIGNED_MSG_TYPE_PRECOMMIT;case 32:case"SIGNED_MSG_TYPE_PROPOSAL":return l.SIGNED_MSG_TYPE_PROPOSAL;default:return l.UNRECOGNIZED}}function g(e){switch(e){case l.SIGNED_MSG_TYPE_UNKNOWN:return"SIGNED_MSG_TYPE_UNKNOWN";case l.SIGNED_MSG_TYPE_PREVOTE:return"SIGNED_MSG_TYPE_PREVOTE";case l.SIGNED_MSG_TYPE_PRECOMMIT:return"SIGNED_MSG_TYPE_PRECOMMIT";case l.SIGNED_MSG_TYPE_PROPOSAL:return"SIGNED_MSG_TYPE_PROPOSAL";default:return"UNKNOWN"}}function v(){return{total:0,hash:new Uint8Array}}function m(){return{index:0,bytes:new Uint8Array,proof:void 0}}function y(){return{hash:new Uint8Array,partSetHeader:void 0}}function b(){return{version:void 0,chainId:"",height:"0",time:void 0,lastBlockId:void 0,lastCommitHash:new Uint8Array,dataHash:new Uint8Array,validatorsHash:new Uint8Array,nextValidatorsHash:new Uint8Array,consensusHash:new Uint8Array,appHash:new Uint8Array,lastResultsHash:new Uint8Array,evidenceHash:new Uint8Array,proposerAddress:new Uint8Array}}function S(){return{type:0,height:"0",round:0,blockId:void 0,timestamp:void 0,validatorAddress:new Uint8Array,validatorIndex:0,signature:new Uint8Array}}function w(){return{blockIdFlag:0,validatorAddress:new Uint8Array,timestamp:void 0,signature:new Uint8Array}}function I(){return{type:0,height:"0",round:0,polRound:0,blockId:void 0,timestamp:void 0,signature:new Uint8Array}}function k(){return{rootHash:new Uint8Array,data:new Uint8Array,proof:void 0}}t.protobufPackage="tendermint.types",function(e){e[e.BLOCK_ID_FLAG_UNKNOWN=0]="BLOCK_ID_FLAG_UNKNOWN",e[e.BLOCK_ID_FLAG_ABSENT=1]="BLOCK_ID_FLAG_ABSENT",e[e.BLOCK_ID_FLAG_COMMIT=2]="BLOCK_ID_FLAG_COMMIT",e[e.BLOCK_ID_FLAG_NIL=3]="BLOCK_ID_FLAG_NIL",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(u=t.BlockIDFlag||(t.BlockIDFlag={})),t.blockIDFlagFromJSON=h,t.blockIDFlagToJSON=p,function(e){e[e.SIGNED_MSG_TYPE_UNKNOWN=0]="SIGNED_MSG_TYPE_UNKNOWN",e[e.SIGNED_MSG_TYPE_PREVOTE=1]="SIGNED_MSG_TYPE_PREVOTE",e[e.SIGNED_MSG_TYPE_PRECOMMIT=2]="SIGNED_MSG_TYPE_PRECOMMIT",e[e.SIGNED_MSG_TYPE_PROPOSAL=32]="SIGNED_MSG_TYPE_PROPOSAL",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(l=t.SignedMsgType||(t.SignedMsgType={})),t.signedMsgTypeFromJSON=f,t.signedMsgTypeToJSON=g,t.PartSetHeader={encode:(e,t=o.default.Writer.create())=>(0!==e.total&&t.uint32(8).uint32(e.total),0!==e.hash.length&&t.uint32(18).bytes(e.hash),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=v();for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.total=n.uint32();break;case 2:i.hash=n.bytes();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({total:N(e.total)?Number(e.total):0,hash:N(e.hash)?A(e.hash):new Uint8Array}),toJSON(e){const t={};return void 0!==e.total&&(t.total=Math.round(e.total)),void 0!==e.hash&&(t.hash=E(void 0!==e.hash?e.hash:new Uint8Array)),t},fromPartial(e){var t,n;const r=v();return r.total=null!==(t=e.total)&&void 0!==t?t:0,r.hash=null!==(n=e.hash)&&void 0!==n?n:new Uint8Array,r}},t.Part={encode:(e,t=o.default.Writer.create())=>(0!==e.index&&t.uint32(8).uint32(e.index),0!==e.bytes.length&&t.uint32(18).bytes(e.bytes),void 0!==e.proof&&a.Proof.encode(e.proof,t.uint32(26).fork()).ldelim(),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=m();for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.index=n.uint32();break;case 2:i.bytes=n.bytes();break;case 3:i.proof=a.Proof.decode(n,n.uint32());break;default:n.skipType(7&e)}}return i},fromJSON:e=>({index:N(e.index)?Number(e.index):0,bytes:N(e.bytes)?A(e.bytes):new Uint8Array,proof:N(e.proof)?a.Proof.fromJSON(e.proof):void 0}),toJSON(e){const t={};return void 0!==e.index&&(t.index=Math.round(e.index)),void 0!==e.bytes&&(t.bytes=E(void 0!==e.bytes?e.bytes:new Uint8Array)),void 0!==e.proof&&(t.proof=e.proof?a.Proof.toJSON(e.proof):void 0),t},fromPartial(e){var t,n;const r=m();return r.index=null!==(t=e.index)&&void 0!==t?t:0,r.bytes=null!==(n=e.bytes)&&void 0!==n?n:new Uint8Array,r.proof=void 0!==e.proof&&null!==e.proof?a.Proof.fromPartial(e.proof):void 0,r}},t.BlockID={encode:(e,n=o.default.Writer.create())=>(0!==e.hash.length&&n.uint32(10).bytes(e.hash),void 0!==e.partSetHeader&&t.PartSetHeader.encode(e.partSetHeader,n.uint32(18).fork()).ldelim(),n),decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const s=y();for(;r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:s.hash=r.bytes();break;case 2:s.partSetHeader=t.PartSetHeader.decode(r,r.uint32());break;default:r.skipType(7&e)}}return s},fromJSON:e=>({hash:N(e.hash)?A(e.hash):new Uint8Array,partSetHeader:N(e.partSetHeader)?t.PartSetHeader.fromJSON(e.partSetHeader):void 0}),toJSON(e){const n={};return void 0!==e.hash&&(n.hash=E(void 0!==e.hash?e.hash:new Uint8Array)),void 0!==e.partSetHeader&&(n.partSetHeader=e.partSetHeader?t.PartSetHeader.toJSON(e.partSetHeader):void 0),n},fromPartial(e){var n;const r=y();return r.hash=null!==(n=e.hash)&&void 0!==n?n:new Uint8Array,r.partSetHeader=void 0!==e.partSetHeader&&null!==e.partSetHeader?t.PartSetHeader.fromPartial(e.partSetHeader):void 0,r}},t.Header={encode:(e,n=o.default.Writer.create())=>(void 0!==e.version&&d.Consensus.encode(e.version,n.uint32(10).fork()).ldelim(),""!==e.chainId&&n.uint32(18).string(e.chainId),"0"!==e.height&&n.uint32(24).int64(e.height),void 0!==e.time&&s.Timestamp.encode(T(e.time),n.uint32(34).fork()).ldelim(),void 0!==e.lastBlockId&&t.BlockID.encode(e.lastBlockId,n.uint32(42).fork()).ldelim(),0!==e.lastCommitHash.length&&n.uint32(50).bytes(e.lastCommitHash),0!==e.dataHash.length&&n.uint32(58).bytes(e.dataHash),0!==e.validatorsHash.length&&n.uint32(66).bytes(e.validatorsHash),0!==e.nextValidatorsHash.length&&n.uint32(74).bytes(e.nextValidatorsHash),0!==e.consensusHash.length&&n.uint32(82).bytes(e.consensusHash),0!==e.appHash.length&&n.uint32(90).bytes(e.appHash),0!==e.lastResultsHash.length&&n.uint32(98).bytes(e.lastResultsHash),0!==e.evidenceHash.length&&n.uint32(106).bytes(e.evidenceHash),0!==e.proposerAddress.length&&n.uint32(114).bytes(e.proposerAddress),n),decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const a=b();for(;r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:a.version=d.Consensus.decode(r,r.uint32());break;case 2:a.chainId=r.string();break;case 3:a.height=M(r.int64());break;case 4:a.time=_(s.Timestamp.decode(r,r.uint32()));break;case 5:a.lastBlockId=t.BlockID.decode(r,r.uint32());break;case 6:a.lastCommitHash=r.bytes();break;case 7:a.dataHash=r.bytes();break;case 8:a.validatorsHash=r.bytes();break;case 9:a.nextValidatorsHash=r.bytes();break;case 10:a.consensusHash=r.bytes();break;case 11:a.appHash=r.bytes();break;case 12:a.lastResultsHash=r.bytes();break;case 13:a.evidenceHash=r.bytes();break;case 14:a.proposerAddress=r.bytes();break;default:r.skipType(7&e)}}return a},fromJSON:e=>({version:N(e.version)?d.Consensus.fromJSON(e.version):void 0,chainId:N(e.chainId)?String(e.chainId):"",height:N(e.height)?String(e.height):"0",time:N(e.time)?C(e.time):void 0,lastBlockId:N(e.lastBlockId)?t.BlockID.fromJSON(e.lastBlockId):void 0,lastCommitHash:N(e.lastCommitHash)?A(e.lastCommitHash):new Uint8Array,dataHash:N(e.dataHash)?A(e.dataHash):new Uint8Array,validatorsHash:N(e.validatorsHash)?A(e.validatorsHash):new Uint8Array,nextValidatorsHash:N(e.nextValidatorsHash)?A(e.nextValidatorsHash):new Uint8Array,consensusHash:N(e.consensusHash)?A(e.consensusHash):new Uint8Array,appHash:N(e.appHash)?A(e.appHash):new Uint8Array,lastResultsHash:N(e.lastResultsHash)?A(e.lastResultsHash):new Uint8Array,evidenceHash:N(e.evidenceHash)?A(e.evidenceHash):new Uint8Array,proposerAddress:N(e.proposerAddress)?A(e.proposerAddress):new Uint8Array}),toJSON(e){const n={};return void 0!==e.version&&(n.version=e.version?d.Consensus.toJSON(e.version):void 0),void 0!==e.chainId&&(n.chainId=e.chainId),void 0!==e.height&&(n.height=e.height),void 0!==e.time&&(n.time=e.time.toISOString()),void 0!==e.lastBlockId&&(n.lastBlockId=e.lastBlockId?t.BlockID.toJSON(e.lastBlockId):void 0),void 0!==e.lastCommitHash&&(n.lastCommitHash=E(void 0!==e.lastCommitHash?e.lastCommitHash:new Uint8Array)),void 0!==e.dataHash&&(n.dataHash=E(void 0!==e.dataHash?e.dataHash:new Uint8Array)),void 0!==e.validatorsHash&&(n.validatorsHash=E(void 0!==e.validatorsHash?e.validatorsHash:new Uint8Array)),void 0!==e.nextValidatorsHash&&(n.nextValidatorsHash=E(void 0!==e.nextValidatorsHash?e.nextValidatorsHash:new Uint8Array)),void 0!==e.consensusHash&&(n.consensusHash=E(void 0!==e.consensusHash?e.consensusHash:new Uint8Array)),void 0!==e.appHash&&(n.appHash=E(void 0!==e.appHash?e.appHash:new Uint8Array)),void 0!==e.lastResultsHash&&(n.lastResultsHash=E(void 0!==e.lastResultsHash?e.lastResultsHash:new Uint8Array)),void 0!==e.evidenceHash&&(n.evidenceHash=E(void 0!==e.evidenceHash?e.evidenceHash:new Uint8Array)),void 0!==e.proposerAddress&&(n.proposerAddress=E(void 0!==e.proposerAddress?e.proposerAddress:new Uint8Array)),n},fromPartial(e){var n,r,i,o,s,a,c,u,l,h,p,f;const g=b();return g.version=void 0!==e.version&&null!==e.version?d.Consensus.fromPartial(e.version):void 0,g.chainId=null!==(n=e.chainId)&&void 0!==n?n:"",g.height=null!==(r=e.height)&&void 0!==r?r:"0",g.time=null!==(i=e.time)&&void 0!==i?i:void 0,g.lastBlockId=void 0!==e.lastBlockId&&null!==e.lastBlockId?t.BlockID.fromPartial(e.lastBlockId):void 0,g.lastCommitHash=null!==(o=e.lastCommitHash)&&void 0!==o?o:new Uint8Array,g.dataHash=null!==(s=e.dataHash)&&void 0!==s?s:new Uint8Array,g.validatorsHash=null!==(a=e.validatorsHash)&&void 0!==a?a:new Uint8Array,g.nextValidatorsHash=null!==(c=e.nextValidatorsHash)&&void 0!==c?c:new Uint8Array,g.consensusHash=null!==(u=e.consensusHash)&&void 0!==u?u:new Uint8Array,g.appHash=null!==(l=e.appHash)&&void 0!==l?l:new Uint8Array,g.lastResultsHash=null!==(h=e.lastResultsHash)&&void 0!==h?h:new Uint8Array,g.evidenceHash=null!==(p=e.evidenceHash)&&void 0!==p?p:new Uint8Array,g.proposerAddress=null!==(f=e.proposerAddress)&&void 0!==f?f:new Uint8Array,g}},t.Data={encode(e,t=o.default.Writer.create()){for(const n of e.txs)t.uint32(10).bytes(n);return t},decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={txs:[]};for(;n.pos<r;){const e=n.uint32();e>>>3==1?i.txs.push(n.bytes()):n.skipType(7&e)}return i},fromJSON:e=>({txs:Array.isArray(null==e?void 0:e.txs)?e.txs.map((e=>A(e))):[]}),toJSON(e){const t={};return e.txs?t.txs=e.txs.map((e=>E(void 0!==e?e:new Uint8Array))):t.txs=[],t},fromPartial(e){var t;const n={txs:[]};return n.txs=(null===(t=e.txs)||void 0===t?void 0:t.map((e=>e)))||[],n}},t.Vote={encode:(e,n=o.default.Writer.create())=>(0!==e.type&&n.uint32(8).int32(e.type),"0"!==e.height&&n.uint32(16).int64(e.height),0!==e.round&&n.uint32(24).int32(e.round),void 0!==e.blockId&&t.BlockID.encode(e.blockId,n.uint32(34).fork()).ldelim(),void 0!==e.timestamp&&s.Timestamp.encode(T(e.timestamp),n.uint32(42).fork()).ldelim(),0!==e.validatorAddress.length&&n.uint32(50).bytes(e.validatorAddress),0!==e.validatorIndex&&n.uint32(56).int32(e.validatorIndex),0!==e.signature.length&&n.uint32(66).bytes(e.signature),n),decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const a=S();for(;r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:a.type=r.int32();break;case 2:a.height=M(r.int64());break;case 3:a.round=r.int32();break;case 4:a.blockId=t.BlockID.decode(r,r.uint32());break;case 5:a.timestamp=_(s.Timestamp.decode(r,r.uint32()));break;case 6:a.validatorAddress=r.bytes();break;case 7:a.validatorIndex=r.int32();break;case 8:a.signature=r.bytes();break;default:r.skipType(7&e)}}return a},fromJSON:e=>({type:N(e.type)?f(e.type):0,height:N(e.height)?String(e.height):"0",round:N(e.round)?Number(e.round):0,blockId:N(e.blockId)?t.BlockID.fromJSON(e.blockId):void 0,timestamp:N(e.timestamp)?C(e.timestamp):void 0,validatorAddress:N(e.validatorAddress)?A(e.validatorAddress):new Uint8Array,validatorIndex:N(e.validatorIndex)?Number(e.validatorIndex):0,signature:N(e.signature)?A(e.signature):new Uint8Array}),toJSON(e){const n={};return void 0!==e.type&&(n.type=g(e.type)),void 0!==e.height&&(n.height=e.height),void 0!==e.round&&(n.round=Math.round(e.round)),void 0!==e.blockId&&(n.blockId=e.blockId?t.BlockID.toJSON(e.blockId):void 0),void 0!==e.timestamp&&(n.timestamp=e.timestamp.toISOString()),void 0!==e.validatorAddress&&(n.validatorAddress=E(void 0!==e.validatorAddress?e.validatorAddress:new Uint8Array)),void 0!==e.validatorIndex&&(n.validatorIndex=Math.round(e.validatorIndex)),void 0!==e.signature&&(n.signature=E(void 0!==e.signature?e.signature:new Uint8Array)),n},fromPartial(e){var n,r,i,o,s,a,d;const c=S();return c.type=null!==(n=e.type)&&void 0!==n?n:0,c.height=null!==(r=e.height)&&void 0!==r?r:"0",c.round=null!==(i=e.round)&&void 0!==i?i:0,c.blockId=void 0!==e.blockId&&null!==e.blockId?t.BlockID.fromPartial(e.blockId):void 0,c.timestamp=null!==(o=e.timestamp)&&void 0!==o?o:void 0,c.validatorAddress=null!==(s=e.validatorAddress)&&void 0!==s?s:new Uint8Array,c.validatorIndex=null!==(a=e.validatorIndex)&&void 0!==a?a:0,c.signature=null!==(d=e.signature)&&void 0!==d?d:new Uint8Array,c}},t.Commit={encode(e,n=o.default.Writer.create()){"0"!==e.height&&n.uint32(8).int64(e.height),0!==e.round&&n.uint32(16).int32(e.round),void 0!==e.blockId&&t.BlockID.encode(e.blockId,n.uint32(26).fork()).ldelim();for(const r of e.signatures)t.CommitSig.encode(r,n.uint32(34).fork()).ldelim();return n},decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const s={height:"0",round:0,blockId:void 0,signatures:[]};for(;r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:s.height=M(r.int64());break;case 2:s.round=r.int32();break;case 3:s.blockId=t.BlockID.decode(r,r.uint32());break;case 4:s.signatures.push(t.CommitSig.decode(r,r.uint32()));break;default:r.skipType(7&e)}}return s},fromJSON:e=>({height:N(e.height)?String(e.height):"0",round:N(e.round)?Number(e.round):0,blockId:N(e.blockId)?t.BlockID.fromJSON(e.blockId):void 0,signatures:Array.isArray(null==e?void 0:e.signatures)?e.signatures.map((e=>t.CommitSig.fromJSON(e))):[]}),toJSON(e){const n={};return void 0!==e.height&&(n.height=e.height),void 0!==e.round&&(n.round=Math.round(e.round)),void 0!==e.blockId&&(n.blockId=e.blockId?t.BlockID.toJSON(e.blockId):void 0),e.signatures?n.signatures=e.signatures.map((e=>e?t.CommitSig.toJSON(e):void 0)):n.signatures=[],n},fromPartial(e){var n,r,i;const o={height:"0",round:0,blockId:void 0,signatures:[]};return o.height=null!==(n=e.height)&&void 0!==n?n:"0",o.round=null!==(r=e.round)&&void 0!==r?r:0,o.blockId=void 0!==e.blockId&&null!==e.blockId?t.BlockID.fromPartial(e.blockId):void 0,o.signatures=(null===(i=e.signatures)||void 0===i?void 0:i.map((e=>t.CommitSig.fromPartial(e))))||[],o}},t.CommitSig={encode:(e,t=o.default.Writer.create())=>(0!==e.blockIdFlag&&t.uint32(8).int32(e.blockIdFlag),0!==e.validatorAddress.length&&t.uint32(18).bytes(e.validatorAddress),void 0!==e.timestamp&&s.Timestamp.encode(T(e.timestamp),t.uint32(26).fork()).ldelim(),0!==e.signature.length&&t.uint32(34).bytes(e.signature),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=w();for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.blockIdFlag=n.int32();break;case 2:i.validatorAddress=n.bytes();break;case 3:i.timestamp=_(s.Timestamp.decode(n,n.uint32()));break;case 4:i.signature=n.bytes();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({blockIdFlag:N(e.blockIdFlag)?h(e.blockIdFlag):0,validatorAddress:N(e.validatorAddress)?A(e.validatorAddress):new Uint8Array,timestamp:N(e.timestamp)?C(e.timestamp):void 0,signature:N(e.signature)?A(e.signature):new Uint8Array}),toJSON(e){const t={};return void 0!==e.blockIdFlag&&(t.blockIdFlag=p(e.blockIdFlag)),void 0!==e.validatorAddress&&(t.validatorAddress=E(void 0!==e.validatorAddress?e.validatorAddress:new Uint8Array)),void 0!==e.timestamp&&(t.timestamp=e.timestamp.toISOString()),void 0!==e.signature&&(t.signature=E(void 0!==e.signature?e.signature:new Uint8Array)),t},fromPartial(e){var t,n,r,i;const o=w();return o.blockIdFlag=null!==(t=e.blockIdFlag)&&void 0!==t?t:0,o.validatorAddress=null!==(n=e.validatorAddress)&&void 0!==n?n:new Uint8Array,o.timestamp=null!==(r=e.timestamp)&&void 0!==r?r:void 0,o.signature=null!==(i=e.signature)&&void 0!==i?i:new Uint8Array,o}},t.Proposal={encode:(e,n=o.default.Writer.create())=>(0!==e.type&&n.uint32(8).int32(e.type),"0"!==e.height&&n.uint32(16).int64(e.height),0!==e.round&&n.uint32(24).int32(e.round),0!==e.polRound&&n.uint32(32).int32(e.polRound),void 0!==e.blockId&&t.BlockID.encode(e.blockId,n.uint32(42).fork()).ldelim(),void 0!==e.timestamp&&s.Timestamp.encode(T(e.timestamp),n.uint32(50).fork()).ldelim(),0!==e.signature.length&&n.uint32(58).bytes(e.signature),n),decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const a=I();for(;r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:a.type=r.int32();break;case 2:a.height=M(r.int64());break;case 3:a.round=r.int32();break;case 4:a.polRound=r.int32();break;case 5:a.blockId=t.BlockID.decode(r,r.uint32());break;case 6:a.timestamp=_(s.Timestamp.decode(r,r.uint32()));break;case 7:a.signature=r.bytes();break;default:r.skipType(7&e)}}return a},fromJSON:e=>({type:N(e.type)?f(e.type):0,height:N(e.height)?String(e.height):"0",round:N(e.round)?Number(e.round):0,polRound:N(e.polRound)?Number(e.polRound):0,blockId:N(e.blockId)?t.BlockID.fromJSON(e.blockId):void 0,timestamp:N(e.timestamp)?C(e.timestamp):void 0,signature:N(e.signature)?A(e.signature):new Uint8Array}),toJSON(e){const n={};return void 0!==e.type&&(n.type=g(e.type)),void 0!==e.height&&(n.height=e.height),void 0!==e.round&&(n.round=Math.round(e.round)),void 0!==e.polRound&&(n.polRound=Math.round(e.polRound)),void 0!==e.blockId&&(n.blockId=e.blockId?t.BlockID.toJSON(e.blockId):void 0),void 0!==e.timestamp&&(n.timestamp=e.timestamp.toISOString()),void 0!==e.signature&&(n.signature=E(void 0!==e.signature?e.signature:new Uint8Array)),n},fromPartial(e){var n,r,i,o,s,a;const d=I();return d.type=null!==(n=e.type)&&void 0!==n?n:0,d.height=null!==(r=e.height)&&void 0!==r?r:"0",d.round=null!==(i=e.round)&&void 0!==i?i:0,d.polRound=null!==(o=e.polRound)&&void 0!==o?o:0,d.blockId=void 0!==e.blockId&&null!==e.blockId?t.BlockID.fromPartial(e.blockId):void 0,d.timestamp=null!==(s=e.timestamp)&&void 0!==s?s:void 0,d.signature=null!==(a=e.signature)&&void 0!==a?a:new Uint8Array,d}},t.SignedHeader={encode:(e,n=o.default.Writer.create())=>(void 0!==e.header&&t.Header.encode(e.header,n.uint32(10).fork()).ldelim(),void 0!==e.commit&&t.Commit.encode(e.commit,n.uint32(18).fork()).ldelim(),n),decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const s={header:void 0,commit:void 0};for(;r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:s.header=t.Header.decode(r,r.uint32());break;case 2:s.commit=t.Commit.decode(r,r.uint32());break;default:r.skipType(7&e)}}return s},fromJSON:e=>({header:N(e.header)?t.Header.fromJSON(e.header):void 0,commit:N(e.commit)?t.Commit.fromJSON(e.commit):void 0}),toJSON(e){const n={};return void 0!==e.header&&(n.header=e.header?t.Header.toJSON(e.header):void 0),void 0!==e.commit&&(n.commit=e.commit?t.Commit.toJSON(e.commit):void 0),n},fromPartial(e){const n={header:void 0,commit:void 0};return n.header=void 0!==e.header&&null!==e.header?t.Header.fromPartial(e.header):void 0,n.commit=void 0!==e.commit&&null!==e.commit?t.Commit.fromPartial(e.commit):void 0,n}},t.LightBlock={encode:(e,n=o.default.Writer.create())=>(void 0!==e.signedHeader&&t.SignedHeader.encode(e.signedHeader,n.uint32(10).fork()).ldelim(),void 0!==e.validatorSet&&c.ValidatorSet.encode(e.validatorSet,n.uint32(18).fork()).ldelim(),n),decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const s={signedHeader:void 0,validatorSet:void 0};for(;r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:s.signedHeader=t.SignedHeader.decode(r,r.uint32());break;case 2:s.validatorSet=c.ValidatorSet.decode(r,r.uint32());break;default:r.skipType(7&e)}}return s},fromJSON:e=>({signedHeader:N(e.signedHeader)?t.SignedHeader.fromJSON(e.signedHeader):void 0,validatorSet:N(e.validatorSet)?c.ValidatorSet.fromJSON(e.validatorSet):void 0}),toJSON(e){const n={};return void 0!==e.signedHeader&&(n.signedHeader=e.signedHeader?t.SignedHeader.toJSON(e.signedHeader):void 0),void 0!==e.validatorSet&&(n.validatorSet=e.validatorSet?c.ValidatorSet.toJSON(e.validatorSet):void 0),n},fromPartial(e){const n={signedHeader:void 0,validatorSet:void 0};return n.signedHeader=void 0!==e.signedHeader&&null!==e.signedHeader?t.SignedHeader.fromPartial(e.signedHeader):void 0,n.validatorSet=void 0!==e.validatorSet&&null!==e.validatorSet?c.ValidatorSet.fromPartial(e.validatorSet):void 0,n}},t.BlockMeta={encode:(e,n=o.default.Writer.create())=>(void 0!==e.blockId&&t.BlockID.encode(e.blockId,n.uint32(10).fork()).ldelim(),"0"!==e.blockSize&&n.uint32(16).int64(e.blockSize),void 0!==e.header&&t.Header.encode(e.header,n.uint32(26).fork()).ldelim(),"0"!==e.numTxs&&n.uint32(32).int64(e.numTxs),n),decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const s={blockId:void 0,blockSize:"0",header:void 0,numTxs:"0"};for(;r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:s.blockId=t.BlockID.decode(r,r.uint32());break;case 2:s.blockSize=M(r.int64());break;case 3:s.header=t.Header.decode(r,r.uint32());break;case 4:s.numTxs=M(r.int64());break;default:r.skipType(7&e)}}return s},fromJSON:e=>({blockId:N(e.blockId)?t.BlockID.fromJSON(e.blockId):void 0,blockSize:N(e.blockSize)?String(e.blockSize):"0",header:N(e.header)?t.Header.fromJSON(e.header):void 0,numTxs:N(e.numTxs)?String(e.numTxs):"0"}),toJSON(e){const n={};return void 0!==e.blockId&&(n.blockId=e.blockId?t.BlockID.toJSON(e.blockId):void 0),void 0!==e.blockSize&&(n.blockSize=e.blockSize),void 0!==e.header&&(n.header=e.header?t.Header.toJSON(e.header):void 0),void 0!==e.numTxs&&(n.numTxs=e.numTxs),n},fromPartial(e){var n,r;const i={blockId:void 0,blockSize:"0",header:void 0,numTxs:"0"};return i.blockId=void 0!==e.blockId&&null!==e.blockId?t.BlockID.fromPartial(e.blockId):void 0,i.blockSize=null!==(n=e.blockSize)&&void 0!==n?n:"0",i.header=void 0!==e.header&&null!==e.header?t.Header.fromPartial(e.header):void 0,i.numTxs=null!==(r=e.numTxs)&&void 0!==r?r:"0",i}},t.TxProof={encode:(e,t=o.default.Writer.create())=>(0!==e.rootHash.length&&t.uint32(10).bytes(e.rootHash),0!==e.data.length&&t.uint32(18).bytes(e.data),void 0!==e.proof&&a.Proof.encode(e.proof,t.uint32(26).fork()).ldelim(),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=k();for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.rootHash=n.bytes();break;case 2:i.data=n.bytes();break;case 3:i.proof=a.Proof.decode(n,n.uint32());break;default:n.skipType(7&e)}}return i},fromJSON:e=>({rootHash:N(e.rootHash)?A(e.rootHash):new Uint8Array,data:N(e.data)?A(e.data):new Uint8Array,proof:N(e.proof)?a.Proof.fromJSON(e.proof):void 0}),toJSON(e){const t={};return void 0!==e.rootHash&&(t.rootHash=E(void 0!==e.rootHash?e.rootHash:new Uint8Array)),void 0!==e.data&&(t.data=E(void 0!==e.data?e.data:new Uint8Array)),void 0!==e.proof&&(t.proof=e.proof?a.Proof.toJSON(e.proof):void 0),t},fromPartial(e){var t,n;const r=k();return r.rootHash=null!==(t=e.rootHash)&&void 0!==t?t:new Uint8Array,r.data=null!==(n=e.data)&&void 0!==n?n:new Uint8Array,r.proof=void 0!==e.proof&&null!==e.proof?a.Proof.fromPartial(e.proof):void 0,r}};var O=(()=>{if(void 0!==O)return O;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw"Unable to locate global object"})();const R=O.atob||(e=>O.Buffer.from(e,"base64").toString("binary"));function A(e){const t=R(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n[e]=t.charCodeAt(e);return n}const P=O.btoa||(e=>O.Buffer.from(e,"binary").toString("base64"));function E(e){const t=[];for(const n of e)t.push(String.fromCharCode(n));return P(t.join(""))}function T(e){return{seconds:Math.trunc(e.getTime()/1e3).toString(),nanos:e.getTime()%1e3*1e6}}function _(e){let t=1e3*Number(e.seconds);return t+=e.nanos/1e6,new Date(t)}function C(e){return e instanceof Date?e:"string"==typeof e?new Date(e):_(s.Timestamp.fromJSON(e))}function M(e){return e.toString()}function N(e){return null!=e}o.default.util.Long!==i.default&&(o.default.util.Long=i.default,o.default.configure())},65075:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleValidator=t.Validator=t.ValidatorSet=t.protobufPackage=void 0;const i=r(n(27808)),o=r(n(73737)),s=n(41473);function a(){return{address:new Uint8Array,pubKey:void 0,votingPower:"0",proposerPriority:"0"}}t.protobufPackage="tendermint.types",t.ValidatorSet={encode(e,n=o.default.Writer.create()){for(const r of e.validators)t.Validator.encode(r,n.uint32(10).fork()).ldelim();return void 0!==e.proposer&&t.Validator.encode(e.proposer,n.uint32(18).fork()).ldelim(),"0"!==e.totalVotingPower&&n.uint32(24).int64(e.totalVotingPower),n},decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const s={validators:[],proposer:void 0,totalVotingPower:"0"};for(;r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:s.validators.push(t.Validator.decode(r,r.uint32()));break;case 2:s.proposer=t.Validator.decode(r,r.uint32());break;case 3:s.totalVotingPower=h(r.int64());break;default:r.skipType(7&e)}}return s},fromJSON:e=>({validators:Array.isArray(null==e?void 0:e.validators)?e.validators.map((e=>t.Validator.fromJSON(e))):[],proposer:p(e.proposer)?t.Validator.fromJSON(e.proposer):void 0,totalVotingPower:p(e.totalVotingPower)?String(e.totalVotingPower):"0"}),toJSON(e){const n={};return e.validators?n.validators=e.validators.map((e=>e?t.Validator.toJSON(e):void 0)):n.validators=[],void 0!==e.proposer&&(n.proposer=e.proposer?t.Validator.toJSON(e.proposer):void 0),void 0!==e.totalVotingPower&&(n.totalVotingPower=e.totalVotingPower),n},fromPartial(e){var n,r;const i={validators:[],proposer:void 0,totalVotingPower:"0"};return i.validators=(null===(n=e.validators)||void 0===n?void 0:n.map((e=>t.Validator.fromPartial(e))))||[],i.proposer=void 0!==e.proposer&&null!==e.proposer?t.Validator.fromPartial(e.proposer):void 0,i.totalVotingPower=null!==(r=e.totalVotingPower)&&void 0!==r?r:"0",i}},t.Validator={encode:(e,t=o.default.Writer.create())=>(0!==e.address.length&&t.uint32(10).bytes(e.address),void 0!==e.pubKey&&s.PublicKey.encode(e.pubKey,t.uint32(18).fork()).ldelim(),"0"!==e.votingPower&&t.uint32(24).int64(e.votingPower),"0"!==e.proposerPriority&&t.uint32(32).int64(e.proposerPriority),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=a();for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.address=n.bytes();break;case 2:i.pubKey=s.PublicKey.decode(n,n.uint32());break;case 3:i.votingPower=h(n.int64());break;case 4:i.proposerPriority=h(n.int64());break;default:n.skipType(7&e)}}return i},fromJSON:e=>({address:p(e.address)?u(e.address):new Uint8Array,pubKey:p(e.pubKey)?s.PublicKey.fromJSON(e.pubKey):void 0,votingPower:p(e.votingPower)?String(e.votingPower):"0",proposerPriority:p(e.proposerPriority)?String(e.proposerPriority):"0"}),toJSON(e){const t={};return void 0!==e.address&&(t.address=function(e){const t=[];for(const n of e)t.push(String.fromCharCode(n));return l(t.join(""))}(void 0!==e.address?e.address:new Uint8Array)),void 0!==e.pubKey&&(t.pubKey=e.pubKey?s.PublicKey.toJSON(e.pubKey):void 0),void 0!==e.votingPower&&(t.votingPower=e.votingPower),void 0!==e.proposerPriority&&(t.proposerPriority=e.proposerPriority),t},fromPartial(e){var t,n,r;const i=a();return i.address=null!==(t=e.address)&&void 0!==t?t:new Uint8Array,i.pubKey=void 0!==e.pubKey&&null!==e.pubKey?s.PublicKey.fromPartial(e.pubKey):void 0,i.votingPower=null!==(n=e.votingPower)&&void 0!==n?n:"0",i.proposerPriority=null!==(r=e.proposerPriority)&&void 0!==r?r:"0",i}},t.SimpleValidator={encode:(e,t=o.default.Writer.create())=>(void 0!==e.pubKey&&s.PublicKey.encode(e.pubKey,t.uint32(10).fork()).ldelim(),"0"!==e.votingPower&&t.uint32(16).int64(e.votingPower),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={pubKey:void 0,votingPower:"0"};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.pubKey=s.PublicKey.decode(n,n.uint32());break;case 2:i.votingPower=h(n.int64());break;default:n.skipType(7&e)}}return i},fromJSON:e=>({pubKey:p(e.pubKey)?s.PublicKey.fromJSON(e.pubKey):void 0,votingPower:p(e.votingPower)?String(e.votingPower):"0"}),toJSON(e){const t={};return void 0!==e.pubKey&&(t.pubKey=e.pubKey?s.PublicKey.toJSON(e.pubKey):void 0),void 0!==e.votingPower&&(t.votingPower=e.votingPower),t},fromPartial(e){var t;const n={pubKey:void 0,votingPower:"0"};return n.pubKey=void 0!==e.pubKey&&null!==e.pubKey?s.PublicKey.fromPartial(e.pubKey):void 0,n.votingPower=null!==(t=e.votingPower)&&void 0!==t?t:"0",n}};var d=(()=>{if(void 0!==d)return d;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw"Unable to locate global object"})();const c=d.atob||(e=>d.Buffer.from(e,"base64").toString("binary"));function u(e){const t=c(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n[e]=t.charCodeAt(e);return n}const l=d.btoa||(e=>d.Buffer.from(e,"binary").toString("base64"));function h(e){return e.toString()}function p(e){return null!=e}o.default.util.Long!==i.default&&(o.default.util.Long=i.default,o.default.configure())},82410:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Consensus=t.App=t.protobufPackage=void 0;const i=r(n(27808)),o=r(n(73737));function s(e){return e.toString()}function a(e){return null!=e}t.protobufPackage="tendermint.version",t.App={encode:(e,t=o.default.Writer.create())=>("0"!==e.protocol&&t.uint32(8).uint64(e.protocol),""!==e.software&&t.uint32(18).string(e.software),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={protocol:"0",software:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.protocol=s(n.uint64());break;case 2:i.software=n.string();break;default:n.skipType(7&e)}}return i},fromJSON:e=>({protocol:a(e.protocol)?String(e.protocol):"0",software:a(e.software)?String(e.software):""}),toJSON(e){const t={};return void 0!==e.protocol&&(t.protocol=e.protocol),void 0!==e.software&&(t.software=e.software),t},fromPartial(e){var t,n;const r={protocol:"0",software:""};return r.protocol=null!==(t=e.protocol)&&void 0!==t?t:"0",r.software=null!==(n=e.software)&&void 0!==n?n:"",r}},t.Consensus={encode:(e,t=o.default.Writer.create())=>("0"!==e.block&&t.uint32(8).uint64(e.block),"0"!==e.app&&t.uint32(16).uint64(e.app),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i={block:"0",app:"0"};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.block=s(n.uint64());break;case 2:i.app=s(n.uint64());break;default:n.skipType(7&e)}}return i},fromJSON:e=>({block:a(e.block)?String(e.block):"0",app:a(e.app)?String(e.app):"0"}),toJSON(e){const t={};return void 0!==e.block&&(t.block=e.block),void 0!==e.app&&(t.app=e.app),t},fromPartial(e){var t,n;const r={block:"0",app:"0"};return r.block=null!==(t=e.block)&&void 0!==t?t:"0",r.app=null!==(n=e.app)&&void 0!==n?n:"0",r}},o.default.util.Long!==i.default&&(o.default.util.Long=i.default,o.default.configure())},9750:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ContentScriptEnv=void 0;class n{}n.produceEnv=e=>({isInternalMsg:e.id===browser.runtime.id,requestInteraction:()=>{throw new Error("ContentScriptEnv doesn't support `requestInteraction`")},sender:e}),t.ContentScriptEnv=n},88607:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionEnv=void 0;const i=n(47722),o=n(17793),s=n(76322),a=n(70346),d=new class{constructor(){this.workingOnPromise=!1,this.queue=[]}enqueue(e){return new Promise(((t,n)=>{this.queue.push({fn:e,resolve:t,reject:n}),this.dequeue()}))}dequeue(){if(this.workingOnPromise)return;const e=this.queue.shift();e&&(this.workingOnPromise=!0,e.fn().then((t=>{e.resolve(t)})).catch((t=>{e.reject(t)})).finally((()=>{this.workingOnPromise=!1,this.dequeue()})))}};class c{}c.produceEnv=(e,t)=>{const n=c.checkIsInternalMessage(e,browser.runtime.id,browser.runtime.getURL("/")),u=`interaction=true&interactionInternal=${n}`;return n?{isInternalMsg:n,requestInteraction:(n,o)=>r(void 0,void 0,void 0,(function*(){n.startsWith("/")&&(n=n.slice(1));let r=!1;e.url?r="/sidePanel.html"===new URL(e.url).pathname:console.warn("No way to determine that the sender is from popup or side panel due to empty sender url. Fallback to popup"),(n=browser.runtime.getURL(`/${r?"sidePanel":"popup"}.html#/`+n)).includes("?")?n+="&"+u:n+="?"+u;const d=new s.InExtensionMessageRequester,c=new a.ReplacePageMsg(n);return c.routerMeta=Object.assign(Object.assign({},c.routerMeta),{receiverRouterId:t.routerId}),yield d.sendMessage(i.APP_PORT,c),o.routerMeta=Object.assign(Object.assign({},o.routerMeta),{receiverRouterId:t.routerId}),yield(new s.InExtensionMessageRequester).sendMessage(i.APP_PORT,o)})),sender:e}:{isInternalMsg:n,requestInteraction:(e,t,n)=>r(void 0,void 0,void 0,(function*(){e.startsWith("/")&&(e=e.slice(1)),(e=browser.runtime.getURL("/popup.html#/"+e)).includes("?")?e+="&"+u:e+="?"+u;let a=0;const c=()=>r(void 0,void 0,void 0,(function*(){try{const t=yield function(e,t="default",n={}){return r(this,void 0,void 0,(function*(){return yield d.enqueue((()=>(0,o.openPopupWindow)(e,t,n)))}))}(e,void 0,{ignoreURIReplacement:null==n?void 0:n.ignoreURIReplacement}),i=(yield browser.windows.get(t,{populate:!0})).tabs[0].id;if(i&&(null==n?void 0:n.unstableOnClose)){const e=t=>{i===t&&((null==n?void 0:n.unstableOnClose)&&n.unstableOnClose(),browser.tabs.onRemoved.removeListener(e))};browser.tabs.onRemoved.addListener(e)}return yield r(void 0,void 0,void 0,(function*(){if("complete"!==(yield browser.tabs.get(i)).status)return new Promise((e=>{browser.tabs.onUpdated.addListener(((t,n)=>{i===t&&"complete"===n.status&&e()}))}))})),i}catch(e){if(a>2)throw e;return a++,yield c()}})),l=yield c();return yield s.InExtensionMessageRequester.sendMessageToTab(l,i.APP_PORT,t)})),sender:e}},c.checkIsInternalMessage=(e,t,n)=>{if(!e.url)throw new Error("Empty sender url");const r=new URL(e.url);if(!r.origin||"null"===r.origin)throw new Error("Invalid sender url");const i=new URL(n);if(!i.origin||"null"===i.origin)throw new Error("Invalid browser url");return r.origin===i.origin&&e.id===t},t.ExtensionEnv=c},6375:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(88607),t),i(n(9750),t)},4193:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ContentScriptGuards=void 0;class n{}n.checkMessageIsInternal=(e,t,n)=>{if(!e.isInternalMsg||t.approveExternal(e,n))throw new Error("Content script can't handle the message that is able to be sent from external");return Promise.resolve()},t.ContentScriptGuards=n},57878:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionGuards=void 0;class n{}n.checkOriginIsValid=(e,t,n)=>{if(!n.url)throw new Error("url is empty");if(!t.origin)throw new Error("origin is empty");if(new URL(n.url).origin!==t.origin)throw new Error("Invalid origin");return Promise.resolve()},n.checkMessageIsInternal=(e,t,n)=>{if(!e.isInternalMsg&&!t.approveExternal(e,n))throw new Error("Permission rejected");return Promise.resolve()},t.ExtensionGuards=n},23694:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(57878),t),i(n(4193),t)},56352:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ROUTE=void 0,t.ROUTE="extension-interaction-addon"},44915:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getHandler=void 0;const r=n(47722),i=n(47698);t.getHandler=e=>(t,n)=>{if(n.constructor===i.ReplacePageMsg)return o(e)(t,n);throw new r.KeplrError("extension-interaction-addon",100,"Unknown msg type")};const o=e=>(t,n)=>e.replacePage(n.url)},70346:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(94491),t),i(n(47698),t),i(n(99998),t)},99998:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;const r=n(56352),i=n(44915),o=n(47698);t.init=function(e,t){e.registerMessage(o.ReplacePageMsg),e.addHandler(r.ROUTE,(0,i.getHandler)(t))}},47698:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ReplacePageMsg=void 0;const r=n(47722),i=n(56352);class o extends r.Message{static type(){return"replace-page"}constructor(e){super(),this.url=e}route(){return i.ROUTE}type(){return o.type()}validateBasic(){}}t.ReplacePageMsg=o},94491:function(e,t){var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.InteractionAddonService=void 0,t.InteractionAddonService=class{replacePage(e){return n(this,void 0,void 0,(function*(){"undefined"!=typeof window&&(window.location.href=e)}))}}},47036:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ContentScriptMessageRequester=void 0;const i=n(47722),o=n(72561);t.ContentScriptMessageRequester=class{sendMessage(e,t){return r(this,void 0,void 0,(function*(){t.validateBasic(),t.origin=globalThis.location.origin,t.routerMeta=Object.assign(Object.assign({},t.routerMeta),{routerId:(0,o.getKeplrExtensionRouterId)()});const n=i.JSONUint8Array.wrap(t),r=yield browser.tabs.query({discarded:!1,status:"complete"}),s=[];for(let i=0;i<r.length;i++){const o=r[i].id;o&&s.push(browser.tabs.sendMessage(o,{port:e,type:t.type(),msg:n}))}yield Promise.allSettled(s)}))}}},71101:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.InExtensionMessageRequester=void 0;const i=n(47722),o=n(72561);t.InExtensionMessageRequester=class{sendMessage(e,t){return r(this,void 0,void 0,(function*(){t.validateBasic(),t.origin=globalThis.location.origin,t.routerMeta=Object.assign(Object.assign({},t.routerMeta),{routerId:(0,o.getKeplrExtensionRouterId)()});const n=i.JSONUint8Array.unwrap(yield browser.runtime.sendMessage({port:e,type:t.type(),msg:i.JSONUint8Array.wrap(t)}));if(!n)throw new Error("Null result");if(n.error)throw"string"==typeof n.error?new Error(n.error):"string"==typeof n.error.module?new i.KeplrError(n.error.module,n.error.code,n.error.message):new i.EthereumProviderRpcError(n.error.code,n.error.message,n.error.data);return n.return}))}static sendMessageToTab(e,t,n){return r(this,void 0,void 0,(function*(){n.validateBasic(),n.origin=globalThis.location.origin,n.routerMeta=Object.assign(Object.assign({},n.routerMeta),{routerId:(0,o.getKeplrExtensionRouterId)()});const r=i.JSONUint8Array.unwrap(yield browser.tabs.sendMessage(e,{port:t,type:n.type(),msg:i.JSONUint8Array.wrap(n)}));if(!r)throw new Error("Null result");if(r.error)throw"string"==typeof r.error?new Error(r.error):"string"==typeof r.error.module?new i.KeplrError(r.error.module,r.error.code,r.error.message):new i.EthereumProviderRpcError(r.error.code,r.error.message,r.error.data);return r.return}))}}},76322:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(71101),t),i(n(47036),t)},44936:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionRouter=void 0;const i=n(47722),o=n(72561);class s extends i.Router{constructor(e,t){super(e),this.msgIgnoreCheck=t,this.onMessage=(e,t)=>{var n,r;if(e.port===this.port&&(!(null===(r=null===(n=e.msg)||void 0===n?void 0:n.routerMeta)||void 0===r?void 0:r.receiverRouterId)||e.msg.routerMeta.receiverRouterId===(0,o.getKeplrExtensionRouterId)())){if("tryOpenSidePanelIfEnabled"===e.type)return new Promise((e=>{var n;(null===(n=t.tab)||void 0===n?void 0:n.id)&&"undefined"!=typeof chrome&&void 0!==chrome.sidePanel?chrome.sidePanel.open({tabId:t.tab.id}).then((()=>{e({return:{}})})).catch((t=>{e({error:t.message||t.toString()})})):e({error:"Side panel is not supported"})}));if(this.msgIgnoreCheck){const t=this.msgRegistry.parseMessage(i.JSONUint8Array.unwrap(e));if(this.msgIgnoreCheck(t))return}return this.onMessageHandler(e,t)}}}attachHandler(){browser.runtime.onMessage.addListener(this.onMessage)}detachHandler(){browser.runtime.onMessage.removeListener(this.onMessage)}onMessageHandler(e,t){return r(this,void 0,void 0,(function*(){try{return{return:yield this.handleMessage(e,t)}}catch(t){return console.log(`Failed to process msg ${e.type}: ${(null==t?void 0:t.message)||(null==t?void 0:t.toString())}`),t instanceof i.KeplrError?Promise.resolve({error:{code:t.code,module:t.module,message:t.message||t.toString()}}):t instanceof i.EthereumProviderRpcError?Promise.resolve({error:{code:t.code,message:t.message||t.toString(),data:t.data}}):t?Promise.resolve({error:t.message||t.toString()}):Promise.resolve({error:"Unknown error, and error is null"})}}))}}t.ExtensionRouter=s},55809:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(44936),t)},72561:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getKeplrExtensionRouterId=void 0,t.getKeplrExtensionRouterId=function(){return null==globalThis.keplrExtensionRouterId&&(globalThis.keplrExtensionRouterId=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER)),globalThis.keplrExtensionRouterId}},93160:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WEBPAGE_PORT=t.APP_PORT=t.BACKGROUND_PORT=void 0,t.BACKGROUND_PORT="background",t.APP_PORT="popup",t.WEBPAGE_PORT="webpage"},26307:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MessageRegistry=void 0,t.MessageRegistry=class{constructor(){this.registeredMsgType=new Map}registerMessage(e){if(this.registeredMsgType.has(e.type()))throw new Error(`Already registered type ${e.type()}`);this.registeredMsgType.set(e.type(),e)}parseMessage(e){if(!e.type)throw new Error("Null type");const t=this.registeredMsgType.get(e.type);if(!t)throw new Error(`Unregistered msg type ${e.type}`);return Object.setPrototypeOf(e.msg,t.prototype)}}},3371:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EthereumProviderRpcError=t.KeplrError=void 0;class n extends Error{constructor(e,t,r){super(r),this.module=e,this.code=t,Object.setPrototypeOf(this,n.prototype)}}t.KeplrError=n;class r extends Error{constructor(e,t,n){super(t),this.code=e,this.data=n,Object.setPrototypeOf(this,r.prototype)}}t.EthereumProviderRpcError=r},1701:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},596:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fromHex=t.toHex=void 0,t.toHex=function(e){let t="";for(const n of e)t+=("0"+n.toString(16)).slice(-2);return t},t.fromHex=function(e){if(e.length%2!=0)throw new Error("hex string length must be a multiple of 2");const t=[];for(let n=0;n<e.length;n+=2){const r=e.substr(n,2);if(!r.match(/[0-9a-f]{2}/i))throw new Error("hex string contains invalid characters");t.push(parseInt(r,16))}return new Uint8Array(t)}},60696:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},23510:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Message=void 0,t.Message=class{approveExternal(e,t){return!1}}},61546:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Router=void 0;const i=n(26307),o=n(38740);t.Router=class{constructor(e){this.envProducer=e,this.msgRegistry=new i.MessageRegistry,this.registeredHandler=new Map,this.guards=[],this.port="",this._isInitialized=!1}get isInitialized(){return this._isInitialized}registerMessage(e){this.msgRegistry.registerMessage(e)}addHandler(e,t){if(this.registeredHandler.has(e))throw new Error(`Already registered type ${e}`);this.registeredHandler.set(e,t)}addGuard(e){this.guards.push(e)}listen(e,t){return r(this,void 0,void 0,(function*(){if(this.port=e,this.attachHandler(),t){let e;this._initWaiter=new Promise((t=>{e=t})),yield t(),e()}this._isInitialized=!0}))}unlisten(){this.port="",this.detachHandler()}handleMessage(e,t){var n;return r(this,void 0,void 0,(function*(){this.isInitialized||(yield this._initWaiter);const r=this.msgRegistry.parseMessage(o.JSONUint8Array.unwrap(e)),i=this.envProducer(t,null!==(n=r.routerMeta)&&void 0!==n?n:{});for(const e of this.guards)yield e(i,r,t);r.validateBasic();const s=r.route();if(!s)throw new Error("Null router");const a=this.registeredHandler.get(s);if(!a)throw new Error("Can't get handler");return o.JSONUint8Array.wrap(yield a(i,r))}))}}},74262:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.sendSimpleMessage=t.SimpleMessage=void 0;const i=n(23510),o=Symbol(),s=Symbol();class a extends i.Message{constructor(e,t,n){super(),this[o]=e,this[s]=t;for(const e of Object.keys(n))this[e]=n[e]}route(){return this[o]}type(){return this[s]}validateBasic(){}approveExternal(){return!0}}t.SimpleMessage=a,t.sendSimpleMessage=function(e,t,n,i,o){return r(this,void 0,void 0,(function*(){return yield e.sendMessage(t,new a(n,i,o))}))}},97529:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},38740:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.JSONUint8Array=void 0;const r=n(596);class i{static parse(e){return JSON.parse(e,((e,t)=>{if("__proto__"===e)throw new Error("__proto__ is disallowed");return t&&"string"==typeof t&&t.startsWith("__uint8array__")?(0,r.fromHex)(t.replace("__uint8array__","")):"undefined"!=typeof BigInt&&t&&"string"==typeof t&&t.startsWith("__bigint__")?BigInt(t.replace("__bigint__","")):t}))}static stringify(e){return JSON.stringify(e,((e,t)=>{if("__proto__"===e)throw new Error("__proto__ is disallowed");if(t&&(t instanceof Uint8Array||"object"==typeof t&&"type"in t&&"data"in t&&"Buffer"===t.type&&Array.isArray(t.data))){const e=t instanceof Uint8Array?t:new Uint8Array(t.data);return`__uint8array__${(0,r.toHex)(e)}`}return"bigint"==typeof t?`__bigint__${t.toString()}`:t}))}static wrap(e){if(void 0!==e)return JSON.parse(i.stringify(e))}static unwrap(e){if(void 0!==e)return i.parse(i.stringify(e))}}t.JSONUint8Array=i},25117:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isSimpleFetchError=t.SimpleFetchError=void 0;class n extends Error{constructor(e,t,r){super(`Failed to get response from ${new URL(t,e).toString()}`),this.baseURL=e,this.url=t,this.response=r,Object.setPrototypeOf(this,n.prototype)}}t.SimpleFetchError=n,t.isSimpleFetchError=function(e){return e instanceof n}},40446:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{d(r.next(e))}catch(e){o(e)}}function a(e){try{d(r.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}d((r=r.apply(e,t||[])).next())}))},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.simpleFetch=t.makeURL=void 0;const o=n(25117);function s(e,t){const n=new URL(e);return e=d(n.origin),t=d(n.pathname)+"/"+a(t),d(e+"/"+a(t+=Array.from(n.searchParams.keys()).length>0?t.includes("?")?"&"+n.searchParams.toString():"?"+n.searchParams.toString():""))}function a(e){return e.length>0&&"/"===e[0]?e.slice(1):e}function d(e){return e.length>0&&"/"===e[e.length-1]?e.slice(0,e.length-1):e}function c(e){return e>=200&&e<300}t.makeURL=s,t.simpleFetch=function(e,t,n){return r(this,void 0,void 0,(function*(){"string"!=typeof t&&(t&&(n=t),t=""),"/"===t&&(t="");const r=s(e,t),a=n||{},{headers:d}=a,u=i(a,["headers"]),l=yield fetch(r,Object.assign({headers:Object.assign({accept:"application/json, text/plain, */*"},d)},u));let h;if(204===l.status)h=void 0;else if((l.headers.get("content-type")||"").startsWith("application/json"))h=yield l.json();else{const e=yield l.text(),t=e.trim();h=t.startsWith("{")&&t.endsWith("}")?JSON.parse(t):e}const p={url:r,data:h,headers:l.headers,status:l.status,statusText:l.statusText};if(!((null==n?void 0:n.validateStatus)||c)(l.status))throw new o.SimpleFetchError(e,t,p);return p}))}},86693:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(40446),t),i(n(25117),t),i(n(85480),t)},85480:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},57132:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},83042:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},27013:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},15522:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},58615:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},96678:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},11779:(e,t)=>{var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.EthTxStatus=t.EthSignType=void 0,(r=t.EthSignType||(t.EthSignType={})).MESSAGE="message",r.TRANSACTION="transaction",r.EIP712="eip-712",(n=t.EthTxStatus||(t.EthTxStatus={})).Success="0x1",n.Failure="0x0"},77487:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},33356:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},60762:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.EIP6963EventNames=void 0,(n=t.EIP6963EventNames||(t.EIP6963EventNames={})).Announce="eip6963:announceProvider",n.Request="eip6963:requestProvider"},23593:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},83097:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(93515),t),i(n(60762),t),i(n(23593),t),i(n(77037),t)},93515:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},77037:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},51056:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},65938:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CoinPretty=void 0;const r=n(32523),i=n(5963),o=n(53824);class s{constructor(e,t){this._currency=e,this._options={separator:" ",upperCase:!1,lowerCase:!1,hideDenom:!1,hideIBCMetadata:!1},"object"==typeof t&&"toDec"in t?t=t.toDec():t instanceof i.Dec||(t=new i.Dec(t)),this.intPretty=new r.IntPretty(t.quoTruncate(o.DecUtils.getTenExponentNInPrecisionRange(e.coinDecimals))).maxDecimals(e.coinDecimals)}get options(){return Object.assign(Object.assign({},this._options),this.intPretty.options)}get denom(){return this.currency.coinDenom}get currency(){return this._currency}setCurrency(e){const t=this.clone();return t.intPretty=this.intPretty.moveDecimalPointRight(this._currency.coinDecimals-e.coinDecimals),t._currency=e,t}separator(e){const t=this.clone();return t._options.separator=e,t}upperCase(e){const t=this.clone();return t._options.upperCase=e,t._options.lowerCase=!e,t}lowerCase(e){const t=this.clone();return t._options.lowerCase=e,t._options.upperCase=!e,t}hideDenom(e){const t=this.clone();return t._options.hideDenom=e,t}hideIBCMetadata(e){const t=this.clone();return t._options.hideIBCMetadata=e,t}moveDecimalPointLeft(e){const t=this.clone();return t.intPretty=t.intPretty.moveDecimalPointLeft(e),t}moveDecimalPointRight(e){const t=this.clone();return t.intPretty=t.intPretty.moveDecimalPointRight(e),t}increasePrecision(e){return this.moveDecimalPointLeft(e)}decreasePrecision(e){return this.moveDecimalPointRight(e)}maxDecimals(e){const t=this.clone();return t.intPretty=t.intPretty.maxDecimals(e),t}inequalitySymbol(e){const t=this.clone();return t.intPretty=t.intPretty.inequalitySymbol(e),t}inequalitySymbolSeparator(e){const t=this.clone();return t.intPretty=t.intPretty.inequalitySymbolSeparator(e),t}trim(e){const t=this.clone();return t.intPretty=t.intPretty.trim(e),t}shrink(e){const t=this.clone();return t.intPretty=t.intPretty.shrink(e),t}locale(e){const t=this.clone();return t.intPretty=t.intPretty.locale(e),t}roundTo(e){const t=this.clone();return t.intPretty=t.intPretty.roundTo(e),t}ready(e){const t=this.clone();return t.intPretty=t.intPretty.ready(e),t}get isReady(){return this.intPretty.isReady}add(e){const t=e instanceof s;if(t&&"currency"in e&&this.currency.coinMinimalDenom!==e.currency.coinMinimalDenom)return this.clone();"toDec"in e&&(e=e.toDec());const n=this.clone();return n.intPretty=n.intPretty.add(t?e:e.mul(o.DecUtils.getTenExponentNInPrecisionRange(-this._currency.coinDecimals))),n}sub(e){const t=e instanceof s;if(t&&"currency"in e&&this.currency.coinMinimalDenom!==e.currency.coinMinimalDenom)return this.clone();"toDec"in e&&(e=e.toDec());const n=this.clone();return n.intPretty=n.intPretty.sub(t?e:e.mul(o.DecUtils.getTenExponentNInPrecisionRange(-this._currency.coinDecimals))),n}mul(e){const t=this.clone();return t.intPretty=t.intPretty.mul(e),t}quo(e){const t=this.clone();return t.intPretty=t.intPretty.quo(e),t}toDec(){return this.intPretty.toDec()}toCoin(){const e=this.toDec().mulTruncate(o.DecUtils.getTenExponentNInPrecisionRange(this.currency.coinDecimals)).truncate();return{denom:this.currency.coinMinimalDenom,amount:e.toString()}}toString(){let e=this.denom;this._options.hideIBCMetadata&&"originCurrency"in this.currency&&this.currency.originCurrency&&(e=this.currency.originCurrency.coinDenom),this._options.upperCase&&(e=e.toUpperCase()),this._options.lowerCase&&(e=e.toLowerCase());let t=this._options.separator;return this._options.hideDenom&&(e="",t=""),this.intPretty.toStringWithSymbols("",`${t}${e}`)}clone(){const e=new s(this._currency,0);return e._options=Object.assign({},this._options),e.intPretty=this.intPretty.clone(),e}}t.CoinPretty=s},68449:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CoinUtils=void 0;const r=n(51556),i=n(64158),o=n(5963),s=n(53824),a=n(80646);class d{static createCoinsFromPrimitives(e){return e.map((e=>new r.Coin(e.denom,e.amount)))}static amountOf(e,t){const n=e.find((e=>e.denom===t));return n?n.amount:new i.Int(0)}static exclude(e,t){return e.filter((e=>0===t.indexOf(e.denom)))}static concat(...e){return 0===e.length?[]:e.slice().reduce(((e,t)=>{const n=e.find((e=>e.denom===t.denom));if(n){const i=new r.Coin(n.denom,n.amount.add(t.amount));e.push(i)}else{const n=new r.Coin(t.denom,t.amount);e.push(n)}return e}),[])}static getCoinFromDecimals(e,t,n){const i=e.find((e=>e.coinDenom===n));if(!i)throw new Error("Invalid currency");let s=new o.Dec(1);for(let e=0;e<i.coinDecimals;e++)s=s.mul(new o.Dec(10));let a=new o.Dec(t);if(a=a.mul(s),!new o.Dec(a.truncate()).equals(a))throw new Error("Can't divide anymore");return new r.Coin(i.coinMinimalDenom,a.truncate())}static parseDecAndDenomFromCoin(e,t){let n=e.find((e=>e.coinMinimalDenom===t.denom));n||(n={coinDecimals:0,coinDenom:t.denom,coinMinimalDenom:t.denom});let r=new o.Dec(1);for(let e=0;e<n.coinDecimals;e++)r=r.mul(new o.Dec(10));return{amount:new o.Dec(t.amount).quoTruncate(r).toString(n.coinDecimals),denom:n.coinDenom}}static shrinkDecimals(e,t,n,r=!1){if(e.equals(new o.Dec(0)))return"0";const i=e.isNegative(),s=e.abs().truncate(),a=e.abs().sub(new o.Dec(s)),c=Math.max(n-s.toString().length+1,t),u=0===c?"":a.toString(c).replace("0.","");return(i?"-":"")+(r?d.integerStringToUSLocaleString(s.toString()):s.toString())+(u.length>0?".":"")+u}static coinToTrimmedString(e,t,n=" "){const r=new o.Dec(e.amount).quoTruncate(s.DecUtils.getPrecisionDec(t.coinDecimals));return`${s.DecUtils.trim(r)}${n}${t.coinDenom}`}}d.integerStringToUSLocaleString=a.integerStringToUSLocaleString,t.CoinUtils=d},51556:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Coin=void 0;const r=n(64158);class i{static parse(e){const t=new RegExp("([0-9]+)[ ]*([a-zA-Z]+)$").exec(e);if(!t||3!==t.length)throw new Error("Invalid coin str");const n=t[2],r=t[1];return new i(n,r)}constructor(e,t){this.denom=e,this.amount=t instanceof r.Int?t:new r.Int(t)}toString(){return`${this.amount.toString()}${this.denom}`}}t.Coin=i},53824:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DecUtils=void 0;const r=n(5963),i=n(64158);class o{static trim(e){let t="string"==typeof e?e:e.toString();if(t.indexOf(".")<0)return t;for(let e=t.length-1;e>=0&&"0"===t[e];e--)t=t.slice(0,e);return t.length>0&&"."===t[t.length-1]&&(t=t.slice(0,t.length-1)),t}static getTenExponentN(e){if(e<-r.Dec.precision)throw new Error("Too little precision");if(o.tenExponentNs[e.toString()])return o.tenExponentNs[e.toString()];const t=new r.Dec(10).pow(new i.Int(e));return o.tenExponentNs[e.toString()]=t,t}static getTenExponentNInPrecisionRange(e){if(e>r.Dec.precision)throw new Error("Too much precision");return o.getTenExponentN(e)}static getPrecisionDec(e){return o.getTenExponentNInPrecisionRange(e)}}o.tenExponentNs={},t.DecUtils=o},5963:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Dec=void 0;const i=r(n(48166)),o=n(64158),s=n(6982),a=n(80646);class d{static calcPrecisionMultiplier(e){if(e<0)throw new Error("Invalid prec");if(e>d.precision)throw new Error("Too much precision");const t=e.toString(),n=d.precisionMultipliers.get(t);if(n)return n;const r=d.precision-e,o=(0,i.default)(10).pow(r);return d.precisionMultipliers.set(t,o),o}static reduceDecimalsFromString(e){const t=e.indexOf(".");if(t<0)return{res:e,isDownToZero:!1};const n=e.length-1-t-d.precision;if(n<=0)return{res:e,isDownToZero:!1};const r=e.slice(0,e.length-n);return{res:r,isDownToZero:/^[0.]*$/.test(r)}}constructor(e,t=0){if("number"==typeof e&&(e=e.toString()),"string"==typeof e){if(0===e.length)throw new Error("empty string");if(!(0,s.isValidDecimalString)(e)){if(!(0,s.isExponentDecString)(e))throw new Error(`invalid decimal: ${e}`);e=(0,s.exponentDecStringToDecString)(e)}const n=d.reduceDecimalsFromString(e);n.isDownToZero&&console.log(`WARNING: Got ${e}. Dec can only handle up to 18 decimals. However, since the decimal point of the input exceeds 18 digits, the remainder is discarded. As a result, input becomes 0.`),(e=n.res).indexOf(".")>=0&&(t=e.length-e.indexOf(".")-1,e=e.replace(".","")),this.int=(0,i.default)(e)}else e instanceof o.Int||e instanceof o.Uint?this.int=(0,i.default)(e.toString()):this.int=(0,i.default)(e);this.int=this.int.multiply(d.calcPrecisionMultiplier(t)),this.checkBitLen()}checkBitLen(){if(this.int.abs().gt(d.maxDec))throw new Error(`Integer out of range ${this.int.toString()}`)}isZero(){return this.int.eq((0,i.default)(0))}isNegative(){return this.int.isNegative()}isPositive(){return this.int.isPositive()}equals(e){return this.int.eq(e.int)}gt(e){return this.int.gt(e.int)}gte(e){return this.int.geq(e.int)}lt(e){return this.int.lt(e.int)}lte(e){return this.int.leq(e.int)}neg(){return new d(this.int.negate(),d.precision)}abs(){return new d(this.int.abs(),d.precision)}add(e){return new d(this.int.add(e.int),d.precision)}sub(e){return new d(this.int.subtract(e.int),d.precision)}pow(e){if(e.isZero())return new d(1);if(e.isNegative())return new d(1).quo(this.pow(e.abs()));let t=new d(this.int,d.precision),n=new d(1);for(let r=e;r.gt(new o.Int(1));r=r.div(new o.Int(2)))r.mod(new o.Int(2)).isZero()||(n=n.mul(t)),t=t.mul(t);return t.mul(n)}approxSqrt(){return this.approxRoot(2)}approxRoot(e,t=300){if(this.isNegative())return this.neg().approxRoot(e).neg();if(1===e||this.isZero()||this.equals(d.one))return this;if(0===e)return d.one;let[n,r]=[d.one,d.one];for(let i=0;r.abs().gt(d.smallestDec)&&i<t;i++){let t=n.pow(new o.Int(e-1));t.isZero()&&(t=d.smallestDec),r=this.quo(t),r=r.sub(n),r=r.quoTruncate(new d(e)),n=n.add(r)}return n}mul(e){return new d(this.mulRaw(e).chopPrecisionAndRound(1),d.precision)}mulTruncate(e){return new d(this.mulRaw(e).chopPrecisionAndTruncate(),d.precision)}mulRoundUp(e){return new d(this.mulRaw(e).chopPrecisionAndRoundUp(),d.precision)}mulRaw(e){return new d(this.int.multiply(e.int),d.precision)}quo(e){return new d(this.quoRaw(e).chopPrecisionAndRound(1),d.precision)}quoTruncate(e){return new d(this.quoRaw(e).chopPrecisionAndTruncate(),d.precision)}quoRoundUp(e){return new d(this.quoRaw(e).chopPrecisionAndRoundUp(),d.precision)}quoRaw(e){const t=d.calcPrecisionMultiplier(0),n=this.int.multiply(t).multiply(t);return new d(n.divide(e.int),d.precision)}isInteger(){const e=d.calcPrecisionMultiplier(0);return this.int.remainder(e).equals((0,i.default)(0))}chopPrecisionAndRound(e){if(this.isNegative())return this.abs().chopPrecisionAndRound(e).negate();const t=d.calcPrecisionMultiplier(e-1),n=t.divide((0,i.default)(2)),{quotient:r,remainder:o}=this.int.divmod(t);return o.equals((0,i.default)(0))||o.lt(n)?r:o.gt(n)?r.add((0,i.default)(1)):r.divide((0,i.default)(2)).equals((0,i.default)(0))?r:r.add((0,i.default)(1))}chopPrecisionAndRoundUp(){if(this.isNegative())return this.abs().chopPrecisionAndTruncate().negate();const e=d.calcPrecisionMultiplier(0),{quotient:t,remainder:n}=this.int.divmod(e);return n.equals((0,i.default)(0))?t:t.add((0,i.default)(1))}chopPrecisionAndTruncate(){const e=d.calcPrecisionMultiplier(0);return this.int.divide(e)}toString(e=d.precision,t=!1){const n=d.calcPrecisionMultiplier(0),r=this.int.abs(),{quotient:o,remainder:s}=r.divmod(n);let c=s.toString(10);for(let e=0,t=c.length;e<d.precision-t;e++)c="0"+c;return c=c.substring(0,e),`${!this.isNegative()||o.eq((0,i.default)(0))&&0===c.length?"":"-"}${t?(0,a.integerStringToUSLocaleString)(o.toString()):o.toString()}${c.length>0?"."+c:""}`}round(){return new o.Int(this.chopPrecisionAndRound(1))}roundTo(e){return new d(this.chopPrecisionAndRound(e),e-1)}roundUp(){return new o.Int(this.chopPrecisionAndRoundUp())}truncate(){return new o.Int(this.chopPrecisionAndTruncate())}roundDec(){return new d(this.chopPrecisionAndRound(1),0)}roundUpDec(){return new d(this.chopPrecisionAndRoundUp(),0)}truncateDec(){return new d(this.chopPrecisionAndTruncate(),0)}}d.precision=18,d.decimalPrecisionBits=60,d.maxDec=(0,i.default)("133499189745056880149688856635597007162669032647290798121690100488888732861290034376435130433535"),d.precisionMultipliers=new Map,d.zero=new d(0),d.smallestDec=new d("1",d.precision),d.one=new d(1),t.Dec=d,o.Int.prototype.toDec=function(){return new d(this)},o.Uint.prototype.toDec=function(){return new d(this)}},6982:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.exponentDecStringToDecString=t.isExponentDecString=t.isValidDecimalString=t.isValidIntegerString=void 0;const n=/^-?\d+$/,r=/^-?\d+.?\d*$/,i=/^(-?)([\d.]+)e([-+])([\d]+)$/;function o(e){let t="";for(let n=0;n<e;n++)t+="0";return t}t.isValidIntegerString=function(e){return n.test(e)},t.isValidDecimalString=function(e){return r.test(e)},t.isExponentDecString=function(e){return i.test(e)},t.exponentDecStringToDecString=function(e){const t=e.split(i);if(6!==t.length)return e;const n="-"===t[1];let r=t[2];const s=r.indexOf("."),a=t[4];let d=parseInt(a)*("-"===t[3]?-1:1);s>=0&&(d-=r.length-s-1,r=function(e){for(;e.length>0&&"0"===e[0];)e=e.slice(1);return 0===e.length||"."===e[0]?"0"+e:e}(r.replace(".","")));const c=n?"-":"";if(d<0){if(r.length>-d){const e=r.length+d;return c+(r.slice(0,e)+".")+r.slice(e)}return c+"0."+o(-(r.length+d))+r}return c+r+o(d)}},32523:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IntPretty=void 0;const r=n(5963),i=n(53824),o=n(68449);class s{constructor(e){if(this.floatingDecimalPointRight=0,this._options={maxDecimals:0,trim:!1,shrink:!1,ready:!0,locale:!0,inequalitySymbol:!1,inequalitySymbolSeparator:" ",sign:!1,roundTo:void 0},"object"==typeof e&&"toDec"in e?e=e.toDec():e instanceof r.Dec||(e=new r.Dec(e)),e.isZero())return void(this.dec=e);const t=e.toString(),n=t.indexOf(".");if(-1===n)return this.dec=e,void(this._options.maxDecimals=0);const i=t.slice(n+1);let o=0;for(let e=i.length-1;e>=0&&"0"===i[e];e--)o++;const s=i.length-o;this.dec=e,this._options.maxDecimals=s}get options(){return this._options}moveDecimalPointLeft(e){const t=this.clone();return t.floatingDecimalPointRight+=-e,t}moveDecimalPointRight(e){const t=this.clone();return t.floatingDecimalPointRight+=e,t}increasePrecision(e){return this.moveDecimalPointLeft(e)}decreasePrecision(e){return this.moveDecimalPointRight(e)}maxDecimals(e){const t=this.clone();return t._options.maxDecimals=e,t}inequalitySymbol(e){const t=this.clone();return t._options.inequalitySymbol=e,t}inequalitySymbolSeparator(e){const t=this.clone();return t._options.inequalitySymbolSeparator=e,t}trim(e){const t=this.clone();return t._options.trim=e,t}shrink(e){const t=this.clone();return t._options.shrink=e,t}locale(e){const t=this.clone();return t._options.locale=e,t}sign(e){const t=this.clone();return t._options.sign=e,t}roundTo(e){const t=this.clone();return t._options.roundTo=e,t}ready(e){const t=this.clone();return t._options.ready=e,t}get isReady(){return this._options.ready}add(e){e instanceof r.Dec||(e=e.toDec());const t=new s(this.toDec().add(e));return t._options=Object.assign({},this._options),t}sub(e){e instanceof r.Dec||(e=e.toDec());const t=new s(this.toDec().sub(e));return t._options=Object.assign({},this._options),t}mul(e){e instanceof r.Dec||(e=e.toDec());const t=new s(this.toDec().mul(e));return t._options=Object.assign({},this._options),t}quo(e){e instanceof r.Dec||(e=e.toDec());const t=new s(this.toDec().quo(e));return t._options=Object.assign({},this._options),t}toDec(){if(0===this.floatingDecimalPointRight)return this.dec;if(this.floatingDecimalPointRight>0)return this.dec.mulTruncate(i.DecUtils.getTenExponentN(this.floatingDecimalPointRight));{let e=-this.floatingDecimalPointRight,t=this.dec;for(;e>0;){if(!(e>=r.Dec.precision)){t=t.mulTruncate(i.DecUtils.getTenExponentN(-e%r.Dec.precision));break}t=t.mulTruncate(i.DecUtils.getTenExponentN(-r.Dec.precision)),e-=r.Dec.precision}return t}}toString(){return this.toStringWithSymbols("","")}toStringWithSymbols(e,t){let n,r=this.toDec();if(null!=this._options.roundTo&&this._options.roundTo>=1&&this._options.roundTo<=19&&(r=r.roundTo(this._options.roundTo)),this._options.inequalitySymbol&&!r.isZero()&&r.abs().lt(i.DecUtils.getTenExponentN(-this._options.maxDecimals))){const n=r.isNegative();let o="";return n?o="-":this._options.sign&&!r.isZero()&&(o="+"),`${n?">":"<"}${this._options.inequalitySymbolSeparator}${o}${e}${i.DecUtils.getTenExponentN(-this._options.maxDecimals).toString(this._options.maxDecimals,this._options.locale)}${t}`}n=this._options.shrink?o.CoinUtils.shrinkDecimals(r,0,this._options.maxDecimals,this._options.locale):r.toString(this._options.maxDecimals,this._options.locale),this._options.trim&&(n=i.DecUtils.trim(n));const s="-"===n.charAt(0);return s?n=n.slice(1):this._options.sign&&!r.isZero()&&(n=`+${n}`),`${s?"-":""}${e}${n}${t}`}clone(){return Object.setPrototypeOf({dec:this.dec,floatingDecimalPointRight:this.floatingDecimalPointRight,_options:Object.assign({},this._options)},s.prototype)}}t.IntPretty=s},64158:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Uint=t.Int=void 0;const i=r(n(48166)),o=n(6982);class s{constructor(e){if("number"==typeof e&&(e=e.toString()),"string"==typeof e){if(!(0,o.isValidIntegerString)(e)){if(!(0,o.isExponentDecString)(e))throw new Error(`invalid integer: ${e}`);e=(0,o.exponentDecStringToDecString)(e)}this.int=(0,i.default)(e)}else this.int=(0,i.default)(e);this.checkBitLen()}checkBitLen(){if(this.int.abs().gt(s.maxInt))throw new Error(`Integer out of range ${this.int.toString()}`)}toString(){return this.int.toString(10)}isNegative(){return this.int.isNegative()}isPositive(){return this.int.isPositive()}isZero(){return this.int.eq((0,i.default)(0))}equals(e){return this.int.equals(e.int)}gt(e){return this.int.gt(e.int)}gte(e){return this.int.greaterOrEquals(e.int)}lt(e){return this.int.lt(e.int)}lte(e){return this.int.lesserOrEquals(e.int)}abs(){return new s(this.int.abs())}absUInt(){return new a(this.int.abs())}add(e){return new s(this.int.add(e.int))}sub(e){return new s(this.int.subtract(e.int))}mul(e){return new s(this.int.multiply(e.int))}div(e){return new s(this.int.divide(e.int))}mod(e){return new s(this.int.mod(e.int))}neg(){return new s(this.int.negate())}pow(e){return new s(this.int.pow(e.toBigNumber()))}toBigNumber(){return this.int}}s.maxInt=(0,i.default)("115792089237316195423570985008687907853269984665640564039457584007913129639935"),t.Int=s;class a{constructor(e){if("number"==typeof e&&(e=e.toString()),"string"==typeof e){if(!(0,o.isValidIntegerString)(e)){if(!(0,o.isExponentDecString)(e))throw new Error(`invalid integer: ${e}`);e=(0,o.exponentDecStringToDecString)(e)}this.uint=(0,i.default)(e)}else this.uint=(0,i.default)(e);if(this.uint.isNegative())throw new TypeError("Uint should not be negative");this.checkBitLen()}checkBitLen(){if(this.uint.abs().bitLength().gt(256))throw new Error(`Integer out of range ${this.uint.toString()}`)}toString(){return this.uint.toString(10)}isZero(){return this.uint.eq((0,i.default)(0))}equals(e){return this.uint.equals(e.uint)}gt(e){return this.uint.gt(e.uint)}gte(e){return this.uint.greaterOrEquals(e.uint)}lt(e){return this.uint.lt(e.uint)}lte(e){return this.uint.lesserOrEquals(e.uint)}add(e){return new a(this.uint.add(e.uint))}sub(e){return new a(this.uint.subtract(e.uint))}mul(e){return new a(this.uint.multiply(e.uint))}div(e){return new a(this.uint.divide(e.uint))}mod(e){return new a(this.uint.mod(e.uint))}pow(e){return new a(this.uint.pow(e.toBigNumber()))}toBigNumber(){return this.uint}}t.Uint=a},93334:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PricePretty=void 0;const r=n(32523),i=n(53824);class o{constructor(e,t){this._fiatCurrency=e,this._options={separator:"",upperCase:!1,lowerCase:!1,locale:"en-US"},this.intPretty=new r.IntPretty(t).maxDecimals(e.maxDecimals).shrink(!0).trim(!0).locale(!1).inequalitySymbol(!0),this._options.locale=e.locale}get options(){return Object.assign(Object.assign({},this.intPretty.options),this._options)}get symbol(){return this._fiatCurrency.symbol}get fiatCurrency(){return this._fiatCurrency}separator(e){const t=this.clone();return t._options.separator=e,t}upperCase(e){const t=this.clone();return t._options.upperCase=e,t._options.lowerCase=!e,t}lowerCase(e){const t=this.clone();return t._options.lowerCase=e,t._options.upperCase=!e,t}moveDecimalPointLeft(e){const t=this.clone();return t.intPretty=t.intPretty.moveDecimalPointLeft(e),t}moveDecimalPointRight(e){const t=this.clone();return t.intPretty=t.intPretty.moveDecimalPointRight(e),t}increasePrecision(e){return this.moveDecimalPointLeft(e)}decreasePrecision(e){return this.moveDecimalPointRight(e)}maxDecimals(e){const t=this.clone();return t.intPretty=t.intPretty.maxDecimals(e),t}inequalitySymbol(e){const t=this.clone();return t.intPretty=t.intPretty.inequalitySymbol(e),t}inequalitySymbolSeparator(e){const t=this.clone();return t.intPretty=t.intPretty.inequalitySymbolSeparator(e),t}trim(e){const t=this.clone();return t.intPretty=t.intPretty.trim(e),t}shrink(e){const t=this.clone();return t.intPretty=t.intPretty.shrink(e),t}locale(e){const t=this.clone();return t._options.locale=e,t}roundTo(e){const t=this.clone();return t.intPretty=t.intPretty.roundTo(e),t}ready(e){const t=this.clone();return t.intPretty=t.intPretty.ready(e),t}get isReady(){return this.intPretty.isReady}add(e){const t=this.clone();return t.intPretty=t.intPretty.add(e),t}sub(e){const t=this.clone();return t.intPretty=t.intPretty.sub(e),t}mul(e){const t=this.clone();return t.intPretty=t.intPretty.mul(e),t}quo(e){const t=this.clone();return t.intPretty=t.intPretty.quo(e),t}toDec(){return this.intPretty.toDec()}toString(){let e=this.symbol;this._options.upperCase&&(e=e.toUpperCase()),this._options.lowerCase&&(e=e.toLowerCase());const t=this.toDec(),n=this.options;if(n.inequalitySymbol&&!t.isZero()&&t.abs().lt(i.DecUtils.getTenExponentN(-n.maxDecimals)))return this.intPretty.toStringWithSymbols(`${e}${this._options.separator}`,"");let r=parseFloat(this.intPretty.toString()).toLocaleString(n.locale,{maximumFractionDigits:n.maxDecimals});const o="-"===r.charAt(0);return o&&(r=r.slice(1)),`${o?"-":""}${e}${this._options.separator}${r}`}clone(){const e=new o(this._fiatCurrency,0);return e._options=Object.assign({},this._options),e.intPretty=this.intPretty.clone(),e}}t.PricePretty=o},43767:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RatePretty=void 0;const r=n(32523);class i{constructor(e){this._options={separator:"",symbol:"%"},this.intPretty=new r.IntPretty(e),this.intPretty=this.intPretty.maxDecimals(3).shrink(!1).trim(!0).locale(!0).inequalitySymbol(!0)}get options(){return Object.assign(Object.assign({},this.intPretty.options),this._options)}separator(e){const t=this.clone();return t._options.separator=e,t}symbol(e){const t=this.clone();return t._options.symbol=e,t}moveDecimalPointLeft(e){const t=this.clone();return t.intPretty=t.intPretty.moveDecimalPointLeft(e),t}moveDecimalPointRight(e){const t=this.clone();return t.intPretty=t.intPretty.moveDecimalPointRight(e),t}maxDecimals(e){const t=this.clone();return t.intPretty=t.intPretty.maxDecimals(e),t}inequalitySymbol(e){const t=this.clone();return t.intPretty=t.intPretty.inequalitySymbol(e),t}inequalitySymbolSeparator(e){const t=this.clone();return t.intPretty=t.intPretty.inequalitySymbolSeparator(e),t}trim(e){const t=this.clone();return t.intPretty=t.intPretty.trim(e),t}shrink(e){const t=this.clone();return t.intPretty=t.intPretty.shrink(e),t}locale(e){const t=this.clone();return t.intPretty=t.intPretty.locale(e),t}sign(e){const t=this.clone();return t.intPretty=t.intPretty.sign(e),t}ready(e){const t=this.clone();return t.intPretty=t.intPretty.ready(e),t}get isReady(){return this.intPretty.isReady}add(e){const t=this.clone();return t.intPretty=t.intPretty.add(e),t}sub(e){const t=this.clone();return t.intPretty=t.intPretty.sub(e),t}mul(e){const t=this.clone();return t.intPretty=t.intPretty.mul(e),t}quo(e){const t=this.clone();return t.intPretty=t.intPretty.quo(e),t}toDec(){return this.intPretty.toDec()}toString(){return this.intPretty.moveDecimalPointRight(2).toStringWithSymbols("",`${this._options.separator}${this._options.symbol}`)}clone(){const e=new i(0);return e._options=Object.assign({},this._options),e.intPretty=this.intPretty.clone(),e}}t.RatePretty=i},80646:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.integerStringToUSLocaleString=void 0,t.integerStringToUSLocaleString=function(e){if(e.indexOf(".")>=0)throw new Error(`${e} is not integer`);if("undefined"!=typeof BigInt)return BigInt(e).toLocaleString("en-US");const t=e,n=[];for(let e=t.length;e>0;e-=3)n.push(t.slice(Math.max(0,e-3),e));return n.reverse().join(",")}}}]);
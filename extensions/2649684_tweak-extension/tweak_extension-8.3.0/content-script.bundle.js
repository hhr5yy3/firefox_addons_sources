(()=>{var e={4690:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PADDLE=t.PADDLE_ENV_PRODUCTION=t.PADDLE_ENV_SANDBOX=t.ACTIVATION_PONG_EVENT=t.ACTIVATION_PING_EVENT=t.EXT_TO_WEB_EVENT_NAME=t.CROSS_SCRIPT_EVENT_NAME=t.EXT_SCRIPT_ID=void 0,t.EXT_SCRIPT_ID="__tweak_browser_extension_intercept_script__",t.CROSS_SCRIPT_EVENT_NAME="TweakGenericForwardEvent",t.EXT_TO_WEB_EVENT_NAME="TweakWebForwardEvent",t.ACTIVATION_PING_EVENT="TPA",t.ACTIVATION_PONG_EVENT="TPA_PONG",t.PADDLE_ENV_SANDBOX="sdx",t.PADDLE_ENV_PRODUCTION="prd",t.PADDLE={[t.PADDLE_ENV_SANDBOX]:{vendorId:4115,products:{premium:21169,premium_annual:39072}},[t.PADDLE_ENV_PRODUCTION]:{vendorId:138412,products:{premium:765754,premium_annual:802861}}}},5976:function(e,t,o){var n=this&&this.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[o]}})}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&n(t,e,o);return i(t,e),t},a=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))((function(i,r){function a(e){try{c(n.next(e))}catch(e){r(e)}}function s(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.TweakApiHttpClient=t.ServerJSONError=void 0;const s=r(o(1247));class c extends Error{constructor(e){super(e)}}t.ServerJSONError=c;t.TweakApiHttpClient=class{constructor(e){this.config=e}getStatus(e){return this.doFetch(s.TweakApiBlueprints.status,e)}postAuth(e,t){const o=this.parseBody(e);return this.doFetch(s.TweakApiBlueprints.auth,Object.assign(Object.assign({},t),{method:"POST",body:o}))}postActivatePlan(e,t){const o=this.parseBody(e);return this.doFetch(s.TweakApiBlueprints.activatePlan,Object.assign(Object.assign({},t),{method:"POST",body:o}))}postCheckPlan(e,t){const o=this.parseBody(e);return this.doFetch(s.TweakApiBlueprints.checkPlan,Object.assign(Object.assign({},t),{method:"POST",body:o}))}parseBody(e){try{return JSON.stringify(e)}catch(e){throw e}}doFetch(e,t){const o=this.buildHeaders(null==t?void 0:t.headers),n=e?`${this.config.baseUrl}${e}`:null;return null==n?Promise.reject(new Error("invalid URL")):fetch(n,Object.assign(Object.assign({},t),{headers:o})).then((e=>a(this,void 0,void 0,(function*(){const t=yield e.json();if(e.status>=400&&e.status<=599)throw new c(JSON.stringify(t));return t})))).catch((e=>{throw e}))}buildHeaders(e){return Object.assign(Object.assign({},e),{"content-type":"application/json","x-doge":this.buildNonce(),"x-nonce":`${Date.now()}`})}buildNonce(){try{return btoa(`${this.config.apiClientSecret}:${Date.now()}`)}catch(e){return""}}}},5498:function(e,t,o){var n=this&&this.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[o]}})}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&n(t,e,o);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.withResilience=t.BZC=t.Types=t.ServerJSONError=t.TweakApiHttpClient=void 0;var a=o(5976);Object.defineProperty(t,"TweakApiHttpClient",{enumerable:!0,get:function(){return a.TweakApiHttpClient}}),Object.defineProperty(t,"ServerJSONError",{enumerable:!0,get:function(){return a.ServerJSONError}}),t.Types=r(o(1247)),t.BZC=r(o(4690));var s=o(4084);Object.defineProperty(t,"withResilience",{enumerable:!0,get:function(){return s.withResilience}})},4084:function(e,t){var o=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))((function(i,r){function a(e){try{c(n.next(e))}catch(e){r(e)}}function s(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.withResilience=void 0;function n(e){return o(this,void 0,void 0,(function*(){return yield new Promise((t=>{setTimeout((()=>{t()}),e)}))}))}function i(e,t){const o=Math.ceil(e),n=Math.floor(t);return Math.floor(Math.random()*(n-o)+o)}t.withResilience=function(e,t){var r;return o(this,void 0,void 0,(function*(){let o,a;for(let s=0;s<t.retries;s++)try{o=yield e(),a=void 0;break}catch(e){a=e;const o=null!==(r=null==t?void 0:t.retryInterval)&&void 0!==r?r:i(1e3,5e3);yield n(o)}if(a)throw a;return o}))}},1247:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AuthType=t.PlanStatus=t.Plan=t.Status=t.TweakApiBlueprints=void 0,function(e){e.status="/api/status",e.auth="/api/auth",e.activatePlan="/api/activate-plan",e.checkPlan="/api/check-plan"}(t.TweakApiBlueprints||(t.TweakApiBlueprints={})),function(e){e.Serving="serving",e.Down="down"}(t.Status||(t.Status={})),function(e){e.Free="x0",e.Premium="x1",e.Unknown="n/a"}(t.Plan||(t.Plan={})),function(e){e.Active="y0",e.PastDue="y1",e.Paused="y2",e.Trialing="y3",e.Deleted="y4"}(t.PlanStatus||(t.PlanStatus={})),function(e){e.GitHub="gh",e.Google="alpha"}(t.AuthType||(t.AuthType={}))}},t={};function o(n){var i=t[n];if(void 0!==i)return i.exports;var r=t[n]={exports:{}};return e[n].call(r.exports,r,r.exports,o),r.exports}(()=>{const e="chrome",t="firefox",n="FIREFOX".toLowerCase();function i(e={}){if(chrome.runtime.lastError){let t;if(chrome.runtime.lastError&&chrome.runtime.lastError.message){t=chrome.runtime.lastError.message;let o=t;if(o.includes("Could not establish connection. Receiving end does not exist"))return void 0;e&&e.msg&&e.msg.type&&(o=`${o}: ${e.msg.type}`)}0}}function r(){try{return chrome.runtime.getURL("popup.html").split("//")[1].split("/")[0]}catch(e){return null}}function a(){try{return browser.runtime.id}catch(e){return null}}const s={[e]:r,[t]:a}[n];function c(e){return chrome.runtime.getURL(e)}const d={[e]:c,[t]:c}[n];const l={[e]:function(e,t){let o=e;if(!o)try{o=r()}catch(e){0}try{chrome.runtime.sendMessage(o,t,void 0,(()=>{i({eid:o,o:t})}))}catch(e){0}},[t]:function(e,t){let o=e;if(!o)try{o=a()}catch(e){0}try{chrome.runtime.sendMessage(o,t,void 0,(()=>{i({eid:o,o:t})}))}catch(e){0}}}[n];function u(e){chrome.runtime.onMessage.addListener(((...t)=>(e(...t),!0)))}const p={[e]:u,[t]:u}[n];var E,_=new Uint8Array(16);function h(){if(!E&&!(E="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return E(_)}const T=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const f=function(e){return"string"==typeof e&&T.test(e)};for(var m=[],O=0;O<256;++O)m.push((O+256).toString(16).substr(1));const A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=(m[e[t+0]]+m[e[t+1]]+m[e[t+2]]+m[e[t+3]]+"-"+m[e[t+4]]+m[e[t+5]]+"-"+m[e[t+6]]+m[e[t+7]]+"-"+m[e[t+8]]+m[e[t+9]]+"-"+m[e[t+10]]+m[e[t+11]]+m[e[t+12]]+m[e[t+13]]+m[e[t+14]]+m[e[t+15]]).toLowerCase();if(!f(o))throw TypeError("Stringified UUID is invalid");return o};var y,S,v=0,w=0;const P=function(e,t,o){var n=t&&o||0,i=t||new Array(16),r=(e=e||{}).node||y,a=void 0!==e.clockseq?e.clockseq:S;if(null==r||null==a){var s=e.random||(e.rng||h)();null==r&&(r=y=[1|s[0],s[1],s[2],s[3],s[4],s[5]]),null==a&&(a=S=16383&(s[6]<<8|s[7]))}var c=void 0!==e.msecs?e.msecs:Date.now(),d=void 0!==e.nsecs?e.nsecs:w+1,l=c-v+(d-w)/1e4;if(l<0&&void 0===e.clockseq&&(a=a+1&16383),(l<0||c>v)&&void 0===e.nsecs&&(d=0),d>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");v=c,w=d,S=a;var u=(1e4*(268435455&(c+=122192928e5))+d)%4294967296;i[n++]=u>>>24&255,i[n++]=u>>>16&255,i[n++]=u>>>8&255,i[n++]=255&u;var p=c/4294967296*1e4&268435455;i[n++]=p>>>8&255,i[n++]=255&p,i[n++]=p>>>24&15|16,i[n++]=p>>>16&255,i[n++]=a>>>8|128,i[n++]=255&a;for(var E=0;E<6;++E)i[n+E]=r[E];return t||A(i)};var g=o(5498);const R=[{code:100,text:"Continue"},{code:101,text:"Switching Protocols"},{code:103,text:"Early Hints"},{code:200,text:"OK"},{code:201,text:"Created"},{code:202,text:"Accepted"},{code:203,text:"Non-Authoritative Information"},{code:204,text:"No Content"},{code:205,text:"Reset Content"},{code:206,text:"Partial Content"},{code:300,text:"Multiple Choices"},{code:301,text:"Moved Permanently"},{code:302,text:"Found"},{code:303,text:"See Other"},{code:304,text:"Not Modified"},{code:307,text:"Temporary Redirect"},{code:308,text:"Permanent Redirect"},{code:400,text:"Bad Request"},{code:401,text:"Unauthorized"},{code:402,text:"Payment Required"},{code:403,text:"Forbidden"},{code:404,text:"Not Found"},{code:405,text:"Method Not Allowed"},{code:406,text:"Not Acceptable"},{code:407,text:"Proxy Authentication Required"},{code:408,text:"Request Timeout"},{code:409,text:"Conflict"},{code:410,text:"Gone"},{code:411,text:"Length Required"},{code:412,text:"Precondition Failed"},{code:413,text:"Payload Too Large"},{code:414,text:"URI Too Long"},{code:415,text:"Unsupported Media Type"},{code:416,text:"Range Not Satisfiable"},{code:417,text:"Expectation Failed"},{code:418,text:"I'm a teapot"},{code:422,text:"Unprocessable Entity"},{code:425,text:"Too Early"},{code:426,text:"Upgrade Required"},{code:428,text:"Precondition Required"},{code:429,text:"Too Many Requests"},{code:431,text:"Request Header Fields Too Large"},{code:451,text:"Unavailable For Legal Reasons"},{code:500,text:"Internal Server Error"},{code:501,text:"Not Implemented"},{code:502,text:"Bad Gateway"},{code:503,text:"Service Unavailable"},{code:504,text:"Gateway Timeout"},{code:505,text:"HTTP Version Not Supported"},{code:506,text:"Variant Also Negotiates"},{code:507,text:"Insufficient Storage"},{code:508,text:"Loop Detected"},{code:510,text:"Not Extended"},{code:511,text:"Network Authentication Required"}],N="application/json; charset=utf-8",L=g.BZC.EXT_SCRIPT_ID;class I extends Error{constructor(...e){super(...e),this.name="ImportInvalidTweakCollectionsFormatError",this.message="format detection failed due to malformed/invalid tweak collections"}}class b extends Error{constructor(...e){super(...e),this.name="ImportInvalidTweakVariablesFormatError",this.message="format detection failed due to malformed/invalid tweak variables"}}class x extends Error{constructor(...e){super(...e),this.name="ImportInvalidTweakDataFormatError",this.message="format detection failed due to malformed/invalid data"}}class C extends Error{constructor(...e){super(...e),this.name="ImportInvalidJSONError"}}class M extends Error{constructor(...e){super(...e),this.name="FailedToSaveInBrowserStorageError"}}const D=R,H=new Map(R.map((({code:e,text:t})=>[e,t]))),U=[{id:P(),header:"Content-Type",value:N,active:!0}],F=new RegExp("[a-zA-Z][a-zA-Z_0-9]*","g"),k={free:g.Types.Plan.Free,premium:g.Types.Plan.Premium},G=[g.Types.PlanStatus.Trialing,g.Types.PlanStatus.Active];let B="https://tweak-extension.com";const j={MOUNT_ARTIFICIAL_DELAY:100,START_ICON:"icon-tweak-start.png",STOP_ICON:"icon-tweak-stop.png",URL_MAX_LEN:3e3,DEFAULT_RESPONSE_CONTENT_TYPE:N,DEFAULT_HEADERS:U,DEFAULT_HTTP_METHOD:"GET",DEFAULT_REQUEST_HOOK_FUNCTION:"return { method, url, body, headers };",DEFAULT_RESPONSE_HOOK_FUNCTION:"return response;",AVAILABLE_LODASH_FUNCTIONS:["isEqual","merge","pick"],AVAILABLE_LODASH_FUNCTIONS_COMPLETION:{isEqual:"_.isEqual(value, other)",merge:"_.merge(target, source)",pick:"_.pick(object, [paths])"},RESPONSE_HOOK_CONTEXT_VARIABLES:["response","url","method","body","vars","chance"],VARIABLE_NAME_RGX:F,INTERCEPTION_POLICIES:{MOCK:{NAME:"Mock server",KEY:"MOCK",DESCRIPTION:"It will bypass the original request, and tweak will simply act as a mock.",LABEL:"Mock"},PATCH:{NAME:"Patch original request",KEY:"PATCH",DESCRIPTION:'Once this policy is active, tweak will keep its original logic, it will call the server and then apply the configuration changes on top of the server"s response.',LABEL:"Modify"}},REQUEST_PAYLOAD_MATCH_POLICY:{EXACT:"EXACT",PARTIAL:"PARTIAL"},RC_MORE_OPTIONS_ACTIONS:{DELETE:"delete",DUPLICATE:"duplicate",MOVE_TO_TOP:"move_to_top",MOVE_TO_BOTTOM:"move_to_bottom",MOVE_TO_COLLECTION:"move_to_collection"},WAIT_TIME_TO_CLEAR_SNACK_MSG:1e4,WAIT_TIME_TO_CLEAR_SNACK_MSG_SHORT:5e3,MAX_ERROR_MESSAGES_QUEUE_SIZE:3,SCRIPT_ID:L,ImportInvalidTweakCollectionsFormatError:I,ImportInvalidTweakVariablesFormatError:b,ImportInvalidTweakDataFormatError:x,FailedToSaveInBrowserStorageError:M,ImportInvalidJSONError:C,HTTP_METHOD_OPTIONS:["*","POST","GET","PUT","CONNECT","OPTIONS","PATCH","DELETE","HEAD","TRACE"],STATUS_CODES_OPTIONS:D,STATUS_CODE_MAP:H,DEFAULT_STATUS:"200",DEFAULT_STATUS_TEXT:"OK",CONTENT_TYPES_OPTIONS:["application/javascript","application/json","application/xhtml+xml","text/css","text/csv","text/html","text/javascript","text/plain","audio/aac","application/x-abiword","application/x-freearc","video/x-msvideo","application/vnd.amazon.ebook","application/octet-stream","image/bmp","application/x-bzip","application/x-bzip2","application/x-csh","application/msword","application/vnd.ms-fontobject","application/epub+zip","application/gzip","image/gif","image/vnd.microsoft.icon","text/calendar","application/java-archive","image/jpeg","application/ld+json","audio/midi","audio/mpeg","video/mpeg","application/vnd.apple.installer+xml","application/vnd.oasis.opendocument.presentation","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.text","audio/ogg","video/ogg","application/ogg","audio/opus","font/otf","image/png","application/pdf","application/x-httpd-php","application/vnd.rar","application/rtf","application/x-sh","image/svg+xml","application/x-shockwave-flash","application/x-tar","image/tiff","video/mp2t","font/ttf","application/vnd.visio","audio/wav","audio/webm","video/webm","image/webp","font/woff","font/woff2","application/vnd.ms-excel","text/xml","application/vnd.mozilla.xul+xml","application/zip","audio/3gpp","audio/3gpp2","application/x-7z-compressed"],TWEAK_INPUT_ACCEPT_ATTRIBUTE:".json",TOOLBAR_MORE_ACTIONS:{EXPORT:"export",IMPORT:"import",CLEAR_CACHE:"clear_cache",OPEN_AUTO_ENABLED_SITES_PANEL:"open_auto_enabled_sites_panel"},BROWSERS:{CHROME:"CHROME",FIREFOX:"FIREFOX"},BROWSER_NAMES:{CHROME:"Chrome",FIREFOX:"Firefox"},STORE_LINKS:{CHROME:"https://chrome.google.com/webstore/detail/tweak/feahianecghpnipmhphmfgmpdodhcapi",FIREFOX:"https://addons.mozilla.org/en-US/firefox/addon/tweak-extension/"},GOALS_STATUS:{LACKING:0,ACHIEVED:1,LOGGED:2},THEME_LINK_ID:"tweak-css-theme-id",THEME_COMMON_FILE_PREFIX:"tweak-smui",LAST_THEME_LINK_TAG_HREF:"tweak-smui-dark.css",THEMES:{light:"light",dark:"dark"},PLANS:k,RULE_LIMITS:{free:12,premium:200},PAGES:{autoEnabledSites:"auto_enabled_sites",main:"main",variables:"variables"},AUTOCOMPLETE_MAGIC_STATUS_FILTER_LABEL:"status:",AUTOCOMPLETE_MAGIC_METHOD_FILTER_LABEL:"method:",AUTOCOMPLETE_MAGIC_REQ_PAYLOAD_FILTER_LABEL:"rp:",EXPERIMENTS:{},PLAN_DOWNGRADED:"downgrade",ALL_PAID_PLANS:[k.premium],ALL_VALID_PLAN_STATUS:G,WEBSITE_BLUEPRINTS:{INTRO:`${B}/docs/intro`,CHANGELOG:`${B}/changelog`,PRICING:`${B}/pricing`,SIGN_IN:`${B}/subscription?intent=ap`,DEBUGGING:`${B}/docs/debug-request`,MOCK_MODIFY:`${B}/docs/rule/mock-vs-modify`,RESPONSE_PAYLOAD:`${B}/docs/rule/response-payload`,REQUEST_PAYLOAD:`${B}/docs/rule/request-payload`,HTTP_HEADERS:`${B}/docs/rule/http-headers`,REQUEST_HOOK:`${B}/docs/rule/request-hook`,RESPONSE_HOOK:`${B}/docs/rule/javascript-snippet`,VARIABLES:`${B}/docs/variables`,COLLECTIONS:`${B}/docs/collections`,AUTO_ENABLED_SITES:`${B}/docs/settings/auto-enabled-sites`},MAX_COLLECTION_NAME_LENGTH:32,MAX_NUMBER_OF_COLLECTIONS:50};let q,X,V,K,$,W,z,Q,Y,J;{const se=()=>{};V=se,K=se,$=se,W=se,z=se,Q=se,Y=se,J=se,q=Object.freeze({}),X=Object.freeze({REQUEST_TOGGLE_SWITCH:se,RUN_STOP_BUTTON_CLICKED:se,TOGGLE_LOGPOINT:se,HEADERS_TAB:se,SELECT_HTTP_METHOD:se,SELECT_RESPONSE_STATUS:se,TOGGLE_REQ_P_EXACT_MATCH:se,CHANGE_TWEAK_PLAN:se,CHANGE_INTERCEPTION_MODE:se,REQUEST_AUTOCOMPLETE_TOGGLE:se,ADD_HEADER:se,DELETE_ALL_HEADERS:se,DELETE_SINGLE_HEADER:se,UPDATE_CONTENT_TYPE_HEADER:se,EXTERNAL_TWEAK_INSTALL:se,EXTERNAL_TWEAK_UPDATE:se,EXTERNAL_TWEAK_REFRESH:se,NUMBER_OF_CONFIGURATIONS:se,TOGGLE_DARK_MODE:se})}const Z="tweak-browser-extension-data";function ee(e=Z){return new Promise((function(t,o){try{chrome.storage.local.get([e],(function(o){const n=chrome.runtime.lastError;n&&n.message&&n.message;const i=o&&o[e]?o[e]:null;t(i)}))}catch(e){o(e)}}))}let te=!0;const oe=[".xml",".json",".csv"];try{te=!1===oe.some((e=>window.location.href.endsWith(e)))}catch(ce){0,te=!0}if(te){function ne(){const e=()=>{};let t=null,o=null,n=[],i=e,r=e,a=e,s=e;try{i=window.fetch,r=window.XMLHttpRequest.prototype.open,a=window.XMLHttpRequest.prototype.send,s=window.XMLHttpRequest.prototype.setRequestHeader}catch(e){0}function c(e){return!(!window.XMLHttpRequest||!window.XMLHttpRequest.prototype||"function"!=typeof window.XMLHttpRequest.prototype[e])}function d(){let e=[];return{subscribe:t=>{e.push(t)},next:t=>{e.length&&e.forEach((e=>e(t)))},clear:()=>{e.length=0}}}const l=new d,u=new WeakMap,p=new WeakMap,E=new WeakMap;c("open")&&c("send")&&c("setRequestHeader")&&(window.XMLHttpRequest.prototype.open=function(...e){if(u.set(this,{method:e[0]&&e[0].toUpperCase()||"GET"}),!0===this.__amicabletbecoxhro||"OFF"===t){r.apply(this,e);const t=p.get(this);t&&t.next()}else{const t=p.get(this)||new d;p.set(this,t),this.__headersReady=function(e,t){let o=null;return()=>{o&&clearTimeout(o),o=setTimeout((()=>{e()}),t)}}((()=>{this.__onPendingHeadersSet&&this.__onPendingHeadersSet()}),50),l.subscribe((()=>{c("open")&&window.XMLHttpRequest.prototype.open.apply(this,e)}))}},window.XMLHttpRequest.prototype.setRequestHeader=function(...e){if(this.readyState===XMLHttpRequest.OPENED||"OFF"===t)s.apply(this,e);else{E.set(this,!0);const t=p.get(this);t&&t.subscribe((()=>{s.apply(this,e),this.__headersReady()}))}},window.XMLHttpRequest.prototype.send=function(e){if(this.addEventListener("readystatechange",(()=>{if("OFF"!==o&&this.readyState===XMLHttpRequest.DONE)try{const t=u.get(this),i=t&&"string"==typeof t.method&&t.method.toUpperCase()||"";let r,a=[];try{const e=this.getAllResponseHeaders();a=(e&&e.trim().split(/[\r\n]+/)).reduce(((e,t)=>{try{const o=t.split(": "),n=o.shift(),i=o.join(": ");e.push({active:!0,header:n,value:i})}catch(e){}return e}),[])}catch(e){a=[]}try{r="string"==typeof this.response?this.response:JSON.stringify(this.response)}catch(e){r=this.response}const s={type:"STASH_REQUESTS",payload:[[{method:i,requestURL:this.responseURL,responsePayload:r,requestPayload:e,status:this.status,timestamp:Date.now(),responseHeaders:a}]]};"ON"===o?window.postMessage(s,"*"):n.push(s.payload[0][0])}catch(e){}})),"OFF"===t)a.call(this,e);else if(E.get(this))this.__onPendingHeadersSet=()=>{E.delete(this),c("send")&&this.readyState===XMLHttpRequest.OPENED&&window.XMLHttpRequest.prototype.send.call(this,e),this.__onPendingHeadersSet=null};else if(this.readyState===XMLHttpRequest.OPENED&&!0===this.__amicabletbebypoxhrs){Object.defineProperty(this,"readyState",{writable:!0,configurable:!0,value:XMLHttpRequest.LOADING});const e=new Event("readystatechange");this.dispatchEvent(e)}else if(this.readyState===XMLHttpRequest.OPENED&&!0===this.__amicabletbecoxhrs)a.call(this,e);else{const t=p.get(this);t&&t.subscribe((()=>{c("send")&&this.readyState===XMLHttpRequest.OPENED&&window.XMLHttpRequest.prototype.send.call(this,e)}))}});function _(e,t){let o,n="GET";"string"==typeof e?(o=e,n=t?.method?.toUpperCase()||"GET"):"string"==typeof e?.search?(o=e.toString(),n=t?.method?.toUpperCase()||"GET"):(o=e.url||"",n=e?.method?.toUpperCase()||"GET");const i=function(e,t){try{const o=t?.headers||e?.headers;if(!o)return;const n={};if("function"==typeof o.keys){const e=o;for(const t of e.keys()){const o=e.get(t);null!=o&&(n[t]=o)}return n}const i=o;return Object.assign({},i)}catch(e){0}}(e,t);return{method:n,url:o,headers:i}}Object.defineProperty(window,"fetch",{writable:!0,value:(...e)=>{const r=e[0];let a=e[1];const{url:s,method:c,headers:d}=_(r,a),u=function(e,t){return new Promise((o=>{if("string"==typeof e||"string"==typeof e?.search){const e=t&&t.body||null;"function"==typeof e?.stream?e.text().then(o).catch((()=>o(""))):o(e)}else try{e.clone().text().then((async e=>{if("function"==typeof e?.stream){const t=await e.text();o(t)}else o(e)})).catch((e=>{o(null)}))}catch(e){o(null)}}))}(r,a);let p=!1;try{if(a?.headers?.amicabletbecof&&"string"==typeof a.headers.amicabletbecof)switch(p=!0,a.headers.amicabletbecof){case"no-init":a=void 0;break;case"no-headers":a.headers=void 0;break;default:delete a.headers.amicabletbecof}}catch(e){0}return p||"OFF"===t?i(r,a).then((async e=>{if("OFF"===o)return e;try{const t=await u;let i;try{i=t.replace(/\s/gi,"")}catch(e){i=t}const r=e.clone(),a=await r.text();let l=[];try{for(const e of r?.headers?.entries()){const[t,o]=e;l.push({active:!0,header:t,value:o})}}catch(e){l=[]}let p=[];try{for(const e in d){const t=d[e];p.push({active:!0,header:e,value:t})}}catch(e){p=[]}const E={type:"STASH_REQUESTS",payload:[[{method:c&&c.toUpperCase()||"GET",requestHeaders:p,requestPayload:i,requestURL:s,responseHeaders:l,responsePayload:a,status:e.status,timestamp:Date.now()}]]};"ON"===o?window.postMessage(E,"*"):n.push(E.payload[0][0])}catch(e){}return e})):((...e)=>new Promise((t=>{l.subscribe((()=>{t(window.fetch(...e))}))})))(...e)}}),l.subscribe((()=>{try{window.postMessage({type:"__TWEAK_BOOTSTRAP_FINISHED__",payload:[]})}catch(e){0}}));const h=["ON","OFF"];setTimeout((()=>{t&&h.includes(t)||(t="OFF",l.next())}),5e3),window.__onttis=e=>{e&&h.includes(e)&&(t&&h.includes(t)?t=e:(t=e,l.next()))},window.__onttss__=(e,t)=>{if(e&&h.includes(e)){if("OFF"===e&&"user"===t&&n.length)n=[];else if("ON"===e&&"system"===t&&n.length)try{window.postMessage({type:"STASH_REQUESTS",payload:[n]})}catch(e){0}n=[],o=e}};window.__textm__="c2"}const de=document.createElement("script");de.appendChild(document.createTextNode(`(${ne})();`)),(document.body||document.head||document.documentElement).appendChild(de)}let ie;try{ie=s()}catch(le){0}function re(){const e={type:"__TWEAK_BOOTSTRAP__",payload:[[]]};ee().then((t=>{if(t||(t={}),!t.extensionId){try{ie=s()}catch(e){0}t.extensionId=ie}t.configurations||(t.configurations={}),void 0===t.isExtensionActive&&(t.isExtensionActive=!1),void 0===t.wasExtensionActiveBeforeLeaveTab&&(t.wasExtensionActiveBeforeLeaveTab=!1),e.payload=[t]})).catch((()=>{})).finally((()=>{window.postMessage(e,"*")}))}function ae(e){if(ie){const t=e&&e.detail;t&&l(ie,t)}else 0}"function"==typeof p&&p(((e,t,o)=>{window.postMessage(e,"*");try{o({response:"ok"})}catch(e){0}return!0})),window.removeEventListener("TweakGenericForwardEvent",ae),window.addEventListener("TweakGenericForwardEvent",ae,!1),ee().catch((e=>{})).then((e=>{window.postMessage({type:"__TWEAK_BOOTSTRAP__",payload:[e]},"*")})),te&&function(e){try{try{document.getElementById(j.SCRIPT_ID).remove()}catch(e){}const t=document.createElement("script");t.setAttribute("id",j.SCRIPT_ID),t.setAttribute("async","false"),t.setAttribute("defer","false"),t.setAttribute("src",e),t.addEventListener("load",re),document.documentElement.appendChild(t)}catch(e){}}(d("intercept.bundle.js"))})()})();
(e=>{(e.NSSS=e.NSSS||{}).nfmEvents={NAVIGATE_COMPLETE:"89DF66E0-4A4C-4ECE-800B-AA2048A97207",FRAME_BEGIN:"0740B756-B9DF-4D5E-9BBA-14971AF77194",FRAME_END:"73785734-1E75-4E5D-A6D7-2169F43A9F6E",ONCLOSE:"4B42DBE4-7E80-4851-A19C-98D3903AA93C",DOMCONTENT_LOADED:"951DBC0F-E1DB-4E76-8986-A1339B795123",ANALYZE_SEARCH_DOMAIN:"12837E8F-766E-4DC8-84FF-A2231D728B4A",SEARCH_URLS:"A33AD401-A1BC-40B9-B140-555B0FCC3052",SEARCH_URLS_ANALYZED:"5C5556F8-BDE2-45FD-8991-D65AF9322322",PAGE_ANALYZED:"43139813-E528-4C9F-BD20-BFABABCCB53A",SETTINGS_REQUEST:"902B1CBB-74A2-4500-98B8-075E7E44B0E5",SETTINGS_RESPONSE:"47839CBC-9CC3-4212-B971-C7D1E745FF84",REPORT_SITE:"CAB9C059-62F4-4D3E-964C-13791B476D7C",SEND_PING:"219E396C-E16C-4C49-B182-71486A6B167B",DOWNLOAD_URL_ANALYZED:"8FC606EB-0821-4420-8875-5FF41ED26C9D",DOWNLOAD_EVENT:"5407DEDE-8008-4EFC-A624-AEAFD95A3F9A"}})(this),(e=>{var t;(e.NSSS=e.NSSS||{}).constants=(e=e.SymBfw,(t={DEFAULT_HOMEPAGE:"defaultHomepage",DEFAULT_SEARCH:"defaultSearch",TAB_OVERALLSTATUS:"tabstatus",TABID:"tabID",SESSION_CONTAINERS:"SESSION_CONTAINERS"}).TAB_OVERALLSTATUS="tabstatus",t.DID_ONBOARDINGFLOW="didOnBoardingFlow",t.SHOW_FULLREPORT="showFullReport",t.SHOW_REPORTSITE="showReportSite",t.NSSS_GLOBAL_SETTINGS_CONTAINER="44CB4D75-FAD1-449D-9C9E-B0A3090B18B8",t.NSSS_SESSION_SETTINGS_CONTAINER="ef00d2d7-4d47-403b-9491-ce8fafa0bbe6",t.NSSS_INSTALLDATEKEY="extensionInstalldate",t.NSSS_INSTALLATION_PAGE_URL_KEY="09C42F0E-C1F7-4FBE-B76D-DF39F909BFE9",t.BLOCKPAGE="blockPage",t.CGUIDKEY="cutomerGuid",t.PARAMSTRINGKEY="paramstring",t.VENDORKEY="vendor",t.DS_OCODE="APN12178",t.DHP_OCODE="APN12179",t.SEARCH_OCODE="APN12177",t.BLOCKEDPAGE_SEARCH_OCODE="15528",t.TPR="111",t.PRT="SSS",t.VERSION="3.23.0.29",t.BUILD_CONFIG="release",t.PARTNERIDKEY="chn",t.CAMPAIGN_MEDIUM="campaignMedium",t.IS_FLAVORIZED="flavorized",t.DEFAULT_PARTNER_ID="store",t.PRODUCT_NAME="Norton Safe Web",t.TELEMETRY_TRACKING_ID="UA-12436054-58",t.BACKUP_HOMEPAGE="backupHomePage",t.PRODUCT_LABEL=e.extensionAdapter.getExtensionId()+"-"+t.VERSION,t.TELEMETRY_OPTOUT_URL="https://##TELEMETRY_OPTOUT_URI##.norton.com/xbp-tour",t.TELEMETRY_OPTOUT_TIMEOUT="##TELEMETRYTIMEOUT##",t.DEFAULT_INFO_ICON="ic-safeweb-info-50.svg",t.IS_HP_FIRST_LAUNCH="isHPFirstLaunch",t.IS_DSP_FIRST_LAUNCH="isDSPFirstLaunch",t.HP_ID="ophopjonlomiomjdjphigoapegkicmih",t.MYWAY_SECURE_SEARCH_CHROME_EXTN_ID="aipacdclkmcnfkfoiebiokfemanllgag",t.MYWAY_IFRAME_HP_URL="https://hp.norton.myway.com/norton/",t.MYWAY_IFRAME_HP_URL_FF="https://ak.staticimgfarm.com/images/webtooltab/ttdetect-2/prd/ttdetect.html#https://hp.norton.myway.com",t.MYWAY_CHROME_EXTN_PAGE_URL="chrome-extension://"+t.MYWAY_SECURE_SEARCH_CHROME_EXTN_ID,t.CHROME_NEW_TAB_URL="chrome://newtab/",t.FIREFOX_EXTN_URL_START_KEYWORD="moz-extension://",t.FIREFOX_EXTN_NEW_DYNAMIC_TAB_HTML="dynamicNewTab.html",t.FIREFOX_EXTN_NEW_DYNAMIC_HOMEPAGE_HTML="dynamicHomePage.html",t.SHOULD_BLOCK_KEY="shouldBlock",t.CONTINUE_SITE_LOADED_KEY="blockedSiteLoaded",t.NORTONSAFE_HOSTNAME="nortonsafe.search.ask.com",t.SAFE_WEB_EXTENSION="Norton Safe Web",t.HOME_PAGE_EXTENSION="Norton Home Page",t.DEFAULT_SEARCH_EXTENSION="Norton Safe Search",t.SEARCHBOX_VISIBLE="false",t.NATIVE_TAB_PREFIX=["chrome://","about:"],t.ABOUT_BLANK="about:blank",t.POPUP_PAGE="/content/ui/popup.html",t.SETTINGS_PAGE="/content/ui/settings.html",t.HOME_PAGE="homePage.html",t.BUTTON_GLOBAL_CHECKED="../images/btn-global-checked.svg",t.BUTTON_GLOBAL_UNCHECKED="../images/btn-global-unchecked.svg",t.DEFAULT_COUNTRY="US",t.CAUTION_IMAGE="safe-web-icon-norton-caution",t.WARNING_IMAGE="safe-web-icon-warning",t.FORMJACK_IMAGE="safe-web-icon-formjack",t.SUSPICIOUS_IMAGE="safe-web-icon-suspicious",t.UNTESTED_IMAGE="safe-web-icon-norton-untested",t.SAFE_IMAGE="safe-web-icon-norton-safe",t.RETINAL_UNTESTED_IMAGE="safe-web-icon-norton-untested@2x",t.RETINAL_SAFE_IMAGE="safe-web-icon-norton-safe@2x",t.SETTINGS_KEY_DS="defaultSearchEnabled",t.HOME_PAGE_URL="https://search.norton.com/",t.SEARCH_URL="https://nortonsafe.search.ask.com/web",t.VENDOR="ask",t.VENDOR_MIGRATION="##VENDOR_MIGRATION##",t.STORE_URL_NAME="##STORE_URL_NAME##",t.PORTAL_URL="https://search.norton.com",t.SHOW_CONSENT_UI_UPDATE_FLOW=!1,t.ALLOW_SUSPICIOUS_BLOCK_LIST="allowSuspiciousBlockList",t.ALLOW_SUSPICIOUS_BLOCK_DURATION=18e5,t.MYWAY="myway",t.IAC="ask",t.YAHOO="yahoo",t.VENDOR_IS_PRESENT="vendorIsPresent",t.GET_INSTALL_DATE="getInstallDate",t.GET_ASSOCIATION_DATE="getAssociationDate",t.IAC="ask",t.YAHOO="yahoo",t.ACTUAL_HREF="actualhref",t.REPLACED_HREF="replacedhref",t.CLICK_PREVENTION_GUID="clickPreventionGUID",t.CLICK_PREVENTION_NODE_LIST="clickPreventionNodeList",t.URL_IDENTIFIER="urlIdentifier",t.subLinksURLIdentifiers="sublinksURLIdentifiers",t.FINAL_REDIRECTED_TAB_URL="finalRedirectedTabUrl",t.ENGLISH="en",t.LAUNCHED_ON_EXTENSION_CLICK="launchedOn=extensionClick",t.SETTINGS_CLICK="settingsClick",t.LAUNCHED_ON="launchedOn",t.YAHOO_VENDOR_LOCALES=["en-US","en-CA","fr-CA"],t.GEO_LOCATION_KEY="geo_location",t.CUSTOM_CHICKLETS_KEY="customChicklets",t.events={CLICK:"click",MOUSE_DOWN:"mousedown"},t.SHOW_TWITTER_SECTION="showTwitterSection",t.SHOW_SECURITY_CENTER_SECTION="showSecurityCenterSection",t.CONSENT_IN_PROGRESS_IMAGE="sw-red@3x",t.PRIVACY_CONSENT_ACCEPT_CLICK="privacyConsentAcceptClick",t.ENABLE_BOOKMARKS_TOOLBAR="enableToolbar",t.ENABLE_NEW_TAB_FOR_SEARCH_RESULTS="enableNewTabForSearchResults",t.ENABLE_MOST_VISITED_SITES="enableMostVisitedSites",t.ENABLE_WHEATHER_WIDGET="enableWheatherWidget",t.ENABLE_TIMER_WIDGET="enableTimerWidget",t.ENABLE_BACKGROUND_IMAGE="enableBackgroundImage",t.ZDEFAULT_TRIGGER="zdefaulttrigger",t.NEWINST="newinst",t.HP={Chrome:{[t.YAHOO]:"mhffmephdchhhbfjmdpoaldedhhdanbn",[t.IAC]:null},Firefox:{[t.YAHOO]:"nortonhomepage_ven_y@symantec.com",[t.IAC]:null},"Edge-Chromium":{[t.YAHOO]:"piogpjkklafcodjjjoincimjjeciecnk",[t.IAC]:null}},t.DS={Chrome:{[t.YAHOO]:"mpnlkmlkncncpgnnkmkgoobfpnjmblnk",[t.IAC]:null},Firefox:{[t.YAHOO]:"nortonsafesearch_ul_ven_y_2@symantec.com",[t.IAC]:null},"Edge-Chromium":{[t.YAHOO]:"blbchkkacgjbiiobglcjcmbdhnnnokef",[t.IAC]:null}},t.EXTENSION_PAIR_IDS={"Norton Safe Search":t.HP,"Norton Home Page":t.DS},t.EXTENSION_VARIANTS={Chrome:["mpnlkmlkncncpgnnkmkgoobfpnjmblnk","gojjgcbbgphdindfmmaipdponknepdbi"]},t.EXTENSION_PAIR_IDS={"Norton Safe Search":t.HP,"Norton Home Page":t.DS},t.CLICK_PREVENTION_MAP="clickPreventionMap",t.CLICK_PREVENTED_TAB="clickPreventedTab",t.PRIVACY_POLICY_SSDCAT=150,t.LEGAL_SSDCAT=151,t.DEFAULT_ORIGIN_VALUE="nsss",t.NEWFEATURE_ORIGIN_VALUE="NewFeature",t.IPS_LEARN_MORE_SSDCAT=137,t.SITE_DIRECTOR_URL="http://sitedirector.norton.com/932743328?ssdcat=SSDCAT_VALUE&env=prod&origin=ORIGIN&displang=iso3:ISO3_LAN_CODE&displocale=iso3:ISO3_COUNTRY_CODE&dest=DESTINATION",t.DEST_PARAM_PRIVACY="privacy",t.DEST_PARAM_LEGAL="legal",t.SITE_DIRECTOR_IPS_URL="http://sitedirector.norton.com/932743328?ssdcat=SSDCAT_VALUE&env=prod&origin=ORIGIN&lang=LAN_CODE",t.SITE_DIRECTOR_ADDITIONAL_PARAM="&layouttype=LAYOUT_TYPE&partnerid=PARTNERID&puid=PUID",t.ISPID="&ispid=55555",t.ISO2_ISO3_LANGUAGE={AB:"ABK",AA:"AAR",AF:"AFR",AK:"AKA",SQ:"SQI",AM:"AMH",AR:"ARA",AN:"ARG",HY:"HYE",AS:"ASM",AV:"AVA",AE:"AVE",AY:"AYM",AZ:"AZE",BM:"BAM",BA:"BAK",EU:"EUS",BE:"BEL",BN:"BEN",BH:"BIH",BI:"BIS",BS:"BOS",BR:"BRE",BG:"BUL",MY:"MYA",CA:"CAT",CH:"CHA",CE:"CHE",NY:"NYA",ZH:"ZHO",CV:"CHV",KW:"COR",CO:"COS",CR:"CRE",HR:"HRV",CS:"CES",DA:"DAN",DV:"DIV",NL:"NLD",DZ:"DZO",EN:"ENG",EO:"EPO",ET:"EST",EE:"EWE",FO:"FAO",FJ:"FIJ",FI:"FIN",FR:"FRA",FF:"FUL",GL:"GLG",KA:"KAT",DE:"DEU",EL:"ELL",GN:"GRN",GU:"GUJ",HT:"HAT",HA:"HAU",HE:"HEB",HZ:"HER",HI:"HIN",HO:"HMO",HU:"HUN",IA:"INA",ID:"IND",IE:"ILE",GA:"GLE",IG:"IBO",IK:"IPK",IO:"IDO",IS:"ISL",IT:"ITA",IU:"IKU",JA:"JPN",JV:"JAV",KL:"KAL",KN:"KAN",KR:"KAU",KS:"KAS",KK:"KAZ",KM:"KHM",KI:"KIK",RW:"KIN",KY:"KIR",KV:"KOM",KG:"KON",KO:"KOR",KU:"KUR",KJ:"KUA",LA:"LAT",LB:"LTZ",LG:"LUG",LI:"LIM",LN:"LIN",LO:"LAO",LT:"LIT",LU:"LUB",LV:"LAV",GV:"GLV",MK:"MKD",MG:"MLG",MS:"MSA",ML:"MAL",MT:"MLT",MI:"MRI",MR:"MAR",MH:"MAH",MN:"MON",NA:"NAU",NV:"NAV",ND:"NDE",NE:"NEP",NG:"NDO",NB:"NOB",NN:"NNO",NO:"NOR",II:"III",NR:"NBL",OC:"OCI",OJ:"OJI",CU:"CHU",OM:"ORM",OR:"ORI",OS:"OSS",PA:"PAN",PI:"PLI",FA:"FAS",PL:"POL",PS:"PUS",PT:"POR",QU:"QUE",RM:"ROH",RN:"RUN",RO:"RON",RU:"RUS",SA:"SAN",SC:"SRD",SD:"SND",SE:"SME",SM:"SMO",SG:"SAG",SR:"SRP",GD:"GLA",SN:"SNA",SI:"SIN",SK:"SLK",SL:"SLV",SO:"SOM",ST:"SOT",ES:"SPA",SU:"SUN",SW:"SWA",SS:"SSW",SV:"SWE",TA:"TAM",TE:"TEL",TG:"TGK",TH:"THA",TI:"TIR",BO:"BOD",TK:"TUK",TL:"TGL",TN:"TSN",TO:"TON",TR:"TUR",TS:"TSO",TT:"TAT",TW:"TWI",TY:"TAH",UG:"UIG",UK:"UKR",UR:"URD",UZ:"UZB",VE:"VEN",VI:"VIE",VO:"VOL",WA:"WLN",CY:"CYM",WO:"WOL",FY:"FRY",XH:"XHO",YI:"YID",YO:"YOR",ZA:"ZHA",ZU:"ZUL"},t.FIREGLASS_SUPPORTED_LAYOUTS=["RETAIL","ESD"],t.BT_LAYOUT_PARTNERID="1003610",t.BT_EE_PARTNERID="1053960",t.BT_EE_PUID="17523",t.ISO2_ISO3_COUNTRY={AX:"ALA",AF:"AFG",AL:"ALB",DZ:"DZA",AS:"ASM",AD:"AND",AO:"AGO",AI:"AIA",AQ:"ATA",AG:"ATG",AR:"ARG",AM:"ARM",AW:"ABW",AU:"AUS",AT:"AUT",AZ:"AZE",BS:"BHS",BH:"BHR",BD:"BGD",BB:"BRB",BY:"BLR",BE:"BEL",BZ:"BLZ",BJ:"BEN",BM:"BMU",BT:"BTN",BO:"BOL",BA:"BIH",BW:"BWA",BV:"BVT",BR:"BRA",IO:"IOT",BN:"BRN",BG:"BGR",BF:"BFA",BI:"BDI",KH:"KHM",CM:"CMR",CA:"CAN",CV:"CPV",KY:"CYM",CF:"CAF",TD:"TCD",CL:"CHL",CN:"CHN",CX:"CXR",CC:"CCK",CO:"COL",KM:"COM",CD:"COD",CG:"COG",CK:"COK",CR:"CRI",CI:"CIV",HR:"HRV",CU:"CUB",CY:"CYP",CZ:"CZE",DK:"DNK",DJ:"DJI",DM:"DMA",DO:"DOM",EC:"ECU",EG:"EGY",SV:"SLV",GQ:"GNQ",ER:"ERI",EE:"EST",ET:"ETH",FK:"FLK",FO:"FRO",FJ:"FJI",FI:"FIN",FR:"FRA",GF:"GUF",PF:"PYF",TF:"ATF",GA:"GAB",GM:"GMB",GE:"GEO",DE:"DEU",GH:"GHA",GI:"GIB",GR:"GRC",GL:"GRL",GD:"GRD",GP:"GLP",GU:"GUM",GT:"GTM",GN:"GIN",GW:"GNB",GY:"GUY",HT:"HTI",HM:"HMD",HN:"HND",HK:"HKG",HU:"HUN",IS:"ISL",IN:"IND",ID:"IDN",IR:"IRN",IQ:"IRQ",IE:"IRL",IL:"ISR",IT:"ITA",JM:"JAM",JP:"JPN",JO:"JOR",KZ:"KAZ",KE:"KEN",KI:"KIR",KP:"PRK",KR:"KOR",KW:"KWT",KG:"KGZ",LA:"LAO",LV:"LVA",LB:"LBN",LS:"LSO",LR:"LBR",LY:"LBY",LI:"LIE",LT:"LTU",LU:"LUX",MO:"MAC",MK:"MKD",MG:"MDG",MW:"MWI",MY:"MYS",MV:"MDV",ML:"MLI",MT:"MLT",MH:"MHL",MQ:"MTQ",MR:"MRT",MU:"MUS",YT:"MYT",MX:"MEX",FM:"FSM",MD:"MDA",MC:"MCO",MN:"MNG",MS:"MSR",MA:"MAR",MZ:"MOZ",MM:"MMR",NA:"NAM",NR:"NRU",NP:"NPL",NL:"NLD",AN:"ANT",NC:"NCL",NZ:"NZL",NI:"NIC",NE:"NER",NG:"NGA",NU:"NIU",NF:"NFK",MP:"MNP",NO:"NOR",OM:"OMN",PK:"PAK",PW:"PLW",PS:"PSE",PA:"PAN",PG:"PNG",PY:"PRY",PE:"PER",PH:"PHL",PN:"PCN",PL:"POL",PT:"PRT",PR:"PRI",QA:"QAT",RE:"REU",RO:"ROU",RU:"RUS",RW:"RWA",SH:"SHN",KN:"KNA",LC:"LCA",PM:"SPM",VC:"VCT",WS:"WSM",SM:"SMR",ST:"STP",SA:"SAU",SN:"SEN",CS:"SCG",SC:"SYC",SL:"SLE",SG:"SGP",SK:"SVK",SI:"SVN",SB:"SLB",SO:"SOM",ZA:"ZAF",GS:"SGS",ES:"ESP",LK:"LKA",SD:"SDN",SR:"SUR",SJ:"SJM",SZ:"SWZ",SE:"SWE",CH:"CHE",SY:"SYR",TW:"TWN",TJ:"TJK",TZ:"TZA",TH:"THA",TL:"TLS",TG:"TGO",TK:"TKL",TO:"TON",TT:"TTO",TN:"TUN",TR:"TUR",TM:"TKM",TC:"TCA",TV:"TUV",UG:"UGA",UA:"UKR",AE:"ARE",GB:"GBR",US:"USA",UM:"UMI",UY:"URY",UZ:"UZB",VU:"VUT",VA:"VAT",VE:"VEN",VN:"VNM",VG:"VGB",VI:"VIR",WF:"WLF",EH:"ESH",YE:"YEM",ZM:"ZMB",ZW:"ZWE"},t.ONBOARDING_URL="https://identitysafe.norton.com/",t.URL_PARAMS_KEY={PARTNERID:"partnerid",CGUID:"guid",DATE_OF_INSTALL:"doi",DATE_OF_ASSOCIATION:"doa",OCODE:"o",PRT:"prt",VERSION:"ver",TPR:"tpr",PARTNER_UNIT_ID:"puid",PRODUCT_NAME:"product",LAYOUT_TYPE:"layouttype",TRACK_ID:"trackId",TYPE:"type",GEO_CODE:"geo",CUSTOMER_TYPE:"ctype",FEATURE:"feature",BROWSER:"browser",BROWSER:"browser",CAMPAIGN_CODE:"cmpgnCode",CAMPAIGN_NAME:"cmpgn",INSTALL_SOURCE:"installSource",FULL_VERSION:"version",CHN:"chn",WEEK_OF_ASSOCIATION:"weekOfAssociation",YEAR_OF_ASSOCIATION:"yearOfAssociation",IAC_QUERY:"q",YAHOO_QUERY:"p",HL:"hl",COMMAND:"command",VENDOR_OFFERED:"vendorOffered",VENDOR_OFFERED_ALIAS:"vo",VENDOR_OFFERED_MAPPING:{y:t.YAHOO,i:t.IAC},TEST_ELIGIBILITY:"testEligible",GEO_LOCATION:"geoLoc",GEO_LOCATION_ALIAS:"gl",VENDOR_CONFIGURED:"vendorConfigured",BEACONPARAM:{PARAM1:"param1",PARAM2:"param2",PARAM3:"param3",PARAM4:"param4"},MIGRATION_TYPE:"mType",ANNOTATION:"annot",TRACK:"track"},t.IS_SERP_CAMPAIGN_ENABLED=!0,t.SERP_SESSION={BLOCK_BY_SERP_CAMPAIGN:"blockedBySerp",OPENER_TAB_ID:"serpOpenerTabId"},t.SERP_CAMPAIGN_SUPPORTED_DOMAIN={"yahoo.com":"YAHOO","ask.com":"ASK"},t.YAHOO_DOMAIN_NAME="yahoo.com",t.SERP_CAMPAIGN_PARAM={ASK:{CAMPAIGN_NAME:"cmpgn",CAMPAIGN_VALUE:"medici"},YAHOO:{CAMPAIGN_NAME:"type",CAMPAIGN_VALUE:"medici"}},t.SERP_RESULT_CLICKED="03d4787f-800c-486c-be47-bbf38fd426d8",t.ONBOARDING_PORTAL_DOMAIN_MAP={"norton.com":["identitysafe","search","searchsafe"],"myway.com":["secure.norton"]},t.ONBOARDING_PORTAL_URL_PATHS_MAP={"norton.com":{search:["/migration","/protect","/nsssOnboarding","/safewebOnboarding","/mnOnboarding","/mn1Onboarding","/protect/npt","/protect/cpt"],searchsafe:["/protect"],"avast.com":["/avastExtensionOnboarding"],"avg.com":["/avgExtensionOnboarding"]}},t.telemetryOptOut={REOFFER_TIME_WINDOW:7776e6,NOTIFICATION_LEEWAY:12e4,NOTIFICATION_LEEWAY_FIREFOX:6e4,NOTIFICATION_AUTOHIDE_DURATION_IN_MILLI_SEC:3e4,NOTIFICATION_ALARM_DUE_CHECK_WAKEUP_DURATION_IN_MINUTES:60,NOTIFICATION_REOFFER_DELAY_DURATION_IN_MILLI_SEC:1728e5},t.IS_WCID_HEURISTICS_LOW_PRIORITY=!0,t.BLOCK_PAGE_PATH="content/ui/blockedPage.html",t.FORMJACK_PROTECTION_BLOCK_PAGE="/content/ui/formjackProtectionBlockPage.html",t.FORMJACK_PROTECTION_LEARN_MORE="/content/ui/formjackProtectionLearnMore.html",t.FORMJACK_PROTECTION_LEARN_TECHNICAL_DETAILS="https://www.nortonlifelock.com/blogs/norton-labs/credit-card-skimmers",t.webProtectionPolicy={WEB_PROTECTION_POLICY_CONTAINER:"62517E4C-BFAD-46DE-977B-1A388E5399C7",SAFEWEB_STATUS:"AEE8B6DB-FB95-46D2-9C21-B594440BDF91",WCID_HEURISTICS_STATUS:"B0E77D14-7B68-477E-981C-21EB2E65A7C9",WCID_CHECK_URL_STATUS:"4621C921-C4C1-4813-9F24-83FF7800471F",IPS_STATUS:"A81DABD1-935C-4504-91C8-90BC99EE4E29",FORMJACK_STATUS:"8652E2F2-D7B3-4CF3-8293-E0360E33C6DA"},t.IPS={SITE_RATING:{IPS_STATE:16},RATING_TYPE:{IPS:"BBF78165-B712-4E8A-A720-02F3D6C07CC5"},SUPPORTED_BROWSERS:["Chrome","Firefox","Edge","Edge-Chromium"]},t.FORMJACK_PROTECTION={SITE_RATING:{FORMJACK_STATE:18},RATING_TYPE:{FORMJACK_TYPE:"A1F7E523-B6B5-4C81-AEC5-96C4C5A53441"}},t.performanceReporter={NSSS:"NSSS"},t.yahooVendorConstants={HSPART:"hspart",HSPART_VALUE:"norton",HSIMP:"hsimp",HSIMP_VALUE:"yhs-ext_onb",HSIMP_VALUE_THREE_IN_ONE:"yhs-ext_safe",HSIMP_VALUE_EDGE_CHROMIUM:"yhs-edge",HSPART_VALUE_LEGACY:"symantec"},t.WCID_ANALYSIS_WAIT_TIME=2e3,t.CHROME_STORE_URL="https://chrome.google.com/webstore/detail/",t.HEARTBEAT_CONFIG={HEARTBEAT_SDK_PING_INTERVAL:864e5,HEARTBEAT_SDK_PING_INTERVAL_48_HOURS:1728e5,DATA_SOURCE:"extension"},t.TIME={THIRTY_MINUTES:18e5},t.GEO_LOCATION_API_URL="https://cloudconnect2.norton.com/v1/geolocationapi/location/countryembargoinformation/",t.YAHOO_VENDOR_OFFERING={supportedCountry:["US","CA"]},t.WEATHER_FARENHEIT_COUNTRY_CODES=["US","BZ","PW","BS","KY","CA"],t.UNINSTALL_SURVEY_URL="https://gendigital.qualtrics.com/jfe/form/SV_eM0Jz36NWeBBkeG?Brand=Norton",t.UNINSTALL_SURVEY_PARAMS={MID:"mid",VERSION:"version",SOURCE:"source",DOI:"doi",LANGUAGE:"Q_Language"},t.SEARCH_SUGGESTION_METADATA={ask:{suggestionUrl:"https://ss-sym.search.ask.com/ss?",queryParams:{limit:10,li:"ff",hl:"",q:""}},yahoo:{suggestionUrl:{"en-us":"https://us.search.yahoo.com/sugg/gossip/gossip-us-partner?","fr-ca":"https://qc.search.yahoo.com/sugg/gossip/gossip-qc-partner?","en-ca":"https://ca.search.yahoo.com/sugg/gossip/gossip-ca-partner?"},defaultSuggestionCountryCode:"en-us",queryParams:{output:"fxjson",appid:"sym",command:""}},defaultLangCode:"en",defaultCountryCode:"us"},t.SEARCH_RESULT_METADATA={yahoo:{defaultSERPCampaignCode:"medici",weekKeyword:"wk",separator:"_",browserNameShortForm:{Chrome:"cr",Firefox:"ff",Edge:"ed",IE:"ie",Safari:"sf",Opera:"op"},searchUrl:{"en-us":"https://search.yahoo.com/yhs/search?","fr-ca":"https://qc.search.yahoo.com/yhs/search?","en-ca":"https://ca.search.yahoo.com/yhs/search?"},defaultCountryCode:"en-us",defaultExtensionCode:"hp"},ask:{searchUrl:"https://nortonsafe.search.ask.com/web?"}},t.GEO_LOCATION_SUBDOMAIN_MAP={us:{default:""},gb:{default:"uk"},au:{default:"au"},ca:{en:"ca",fr:"qc",default:"ca"},br:{default:"br"},fr:{default:"fr"},it:{default:"it"},de:{default:"de"},nl:{default:"nl"},es:{default:"es"},mx:{default:"mx"},in:{default:"in"},se:{default:"se"},ch:{de:"ch",fr:"chfr",it:"chit",default:"ch"},nz:{default:"nz"},dk:{default:"dk"},sg:{default:"sg"},ar:{default:"ar"},at:{default:"at"},hk:{default:"hk"},co:{default:"co"},no:{default:"no"},ie:{default:"uk"},cl:{default:"cl"},fi:{default:"fi"}},t.YAHOO_URL_PATTERN="https://subdomain.search.yahoo.com/",t.SUBDOMAIN="subdomain",t.REPLACE_STRING_FOR_US="subdomain.",t.SEARCH_URL_PATHNAME="yhs/search?",t.SEARCH_SUGGESTIONS_URL_PATHNAME="sugg/gossip/gossip-geo_location-partner?",t.QUICKLINKS_CDN_URL="https://static.nortoncdn.com/nortonsafesearch/quickLinks/",t.TWITTER_FEEDS_CDN_URL="https://static.nortoncdn.com/nortonextensionhomepage/nloktweets.json",t.twitterFeedsJsonRootCA=`
    -----BEGIN CERTIFICATE-----
    MIIEvjCCA6agAwIBAgIQBtjZBNVYQ0b2ii+nVCJ+xDANBgkqhkiG9w0BAQsFADBh
    MQswCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3
    d3cuZGlnaWNlcnQuY29tMSAwHgYDVQQDExdEaWdpQ2VydCBHbG9iYWwgUm9vdCBD
    QTAeFw0yMTA0MTQwMDAwMDBaFw0zMTA0MTMyMzU5NTlaME8xCzAJBgNVBAYTAlVT
    MRUwEwYDVQQKEwxEaWdpQ2VydCBJbmMxKTAnBgNVBAMTIERpZ2lDZXJ0IFRMUyBS
    U0EgU0hBMjU2IDIwMjAgQ0ExMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKC
    AQEAwUuzZUdwvN1PWNvsnO3DZuUfMRNUrUpmRh8sCuxkB+Uu3Ny5CiDt3+PE0J6a
    qXodgojlEVbbHp9YwlHnLDQNLtKS4VbL8Xlfs7uHyiUDe5pSQWYQYE9XE0nw6Ddn
    g9/n00tnTCJRpt8OmRDtV1F0JuJ9x8piLhMbfyOIJVNvwTRYAIuE//i+p1hJInuW
    raKImxW8oHzf6VGo1bDtN+I2tIJLYrVJmuzHZ9bjPvXj1hJeRPG/cUJ9WIQDgLGB
    Afr5yjK7tI4nhyfFK3TUqNaX3sNk+crOU6JWvHgXjkkDKa77SU+kFbnO8lwZV21r
    eacroicgE7XQPUDTITAHk+qZ9QIDAQABo4IBgjCCAX4wEgYDVR0TAQH/BAgwBgEB
    /wIBADAdBgNVHQ4EFgQUt2ui6qiqhIx56rTaD5iyxZV2ufQwHwYDVR0jBBgwFoAU
    A95QNVbRTLtm8KPiGxvDl7I90VUwDgYDVR0PAQH/BAQDAgGGMB0GA1UdJQQWMBQG
    CCsGAQUFBwMBBggrBgEFBQcDAjB2BggrBgEFBQcBAQRqMGgwJAYIKwYBBQUHMAGG
    GGh0dHA6Ly9vY3NwLmRpZ2ljZXJ0LmNvbTBABggrBgEFBQcwAoY0aHR0cDovL2Nh
    Y2VydHMuZGlnaWNlcnQuY29tL0RpZ2lDZXJ0R2xvYmFsUm9vdENBLmNydDBCBgNV
    HR8EOzA5MDegNaAzhjFodHRwOi8vY3JsMy5kaWdpY2VydC5jb20vRGlnaUNlcnRH
    bG9iYWxSb290Q0EuY3JsMD0GA1UdIAQ2MDQwCwYJYIZIAYb9bAIBMAcGBWeBDAEB
    MAgGBmeBDAECATAIBgZngQwBAgIwCAYGZ4EMAQIDMA0GCSqGSIb3DQEBCwUAA4IB
    AQCAMs5eC91uWg0Kr+HWhMvAjvqFcO3aXbMM9yt1QP6FCvrzMXi3cEsaiVi6gL3z
    ax3pfs8LulicWdSQ0/1s/dCYbbdxglvPbQtaCdB73sRD2Cqk3p5BJl+7j5nL3a7h
    qG+fh/50tx8bIKuxT8b1Z11dmzzp/2n3YWzW2fP9NsarA4h20ksudYbj/NhVfSbC
    EXffPgK2fPOre3qGNm+499iTcc+G33Mw+nur7SpZyEKEOxEXGlLzyQ4UfaJbcme6
    ce1XR2bFuAJKZTRei9AqPCCcUZlM51Ke92sRKw2Sfh3oius2FkOH6ipjv3U/697E
    A7sKPPcw7+uvTPyLNhBzPvOk
    -----END CERTIFICATE-----
    `,t.CERT_INFO={CERT_ISSUER_NAME:"DigiCert TLS RSA SHA256 2020 CA1",CERT_ISSUED:"static.nortoncdn.com"},t.TWITTER_FEEDS_CDN_FETCH_LAST_TIMESTAMP_KEY="TweetsFetchedTimeStamp",t.TWITTER_FEEDS_DATA_KEY="TweetsData",t.TWITTER_FEEDS_CDN_FETCH_DELAY=288e5,t.TWITTER_FEEDS_TIMER_DELAY=18e5,t.TWITTER_FEEDS_PERIOD_IN_MINUTES=30,t.NORTON_HP_EXTENSION_IDS=["nortonhomepage@symantec.com","nortonhomepage_ven_y@symantec.com"],t.NORTON_DS_EXTENSION_IDS=["nortonsafesearch_ul@symantec.com","nortonsafesearch_ul_ven_y@symantec.com","nortonsafesearch_ul_2@symantec.com","nortonsafesearch_ul_ven_y_2@symantec.com"],t.NORTON_SW_EXTENSION_IDS=["nortonsafeweb@symantec.com"],t.NORTON_THREE_IN_ONE_EXTENSION_IDS=["nortonthree-in-one_ven_y@symantec.com","nortonthree-in-one@symantec.com"],t.NORTON_TWO_IN_ONE_EXTENSION_IDS="###NORTON_TWO_IN_ONE_EXTENSION_IDS###",t.NORTON_MEDIA_DOT_NET_EXTENSION_IDS=["nortonthree-in-one@symantec.com"],t.HOMEPAGE_TOUR_LAST_SHOWN_TIMESTAMP_KEY="HomepageTourLastShownTimeStamp",t.CHICKLET_TOUR_LAST_SHOWN_TIMESTAMP_KEY="ChickletTourLastShownTimeStamp",t.NORTON_EXTENSION_IDS=[...t.NORTON_HP_EXTENSION_IDS,...t.NORTON_DS_EXTENSION_IDS,...t.NORTON_SW_EXTENSION_IDS,...t.NORTON_THREE_IN_ONE_EXTENSION_IDS,...t.NORTON_TWO_IN_ONE_EXTENSION_IDS],t.SOS_LAYOUT="SOS",t.UNINSTALL_SURVEY_SUPPORTED_EXTENSIONS=[],t.UNINSTALL_SURVEY_SUPPORTED_LAYOUTS=["ESD","RETAIL","OEM"],t.EXTENSIONS_MAP={hp:{ask:"generic",yahoo:"repetitive"},ds:{ask:"repetitive",yahoo:"generic"},"three-in-one":{ask:"repetitive",yahoo:"generic"}},t.VENDOR_LIST=[t.IAC],t.ocodeMap={[t.IAC]:{hp:t.DHP_OCODE,ds:t.DS_OCODE}},t.HOST_NAME={ask:"nortonsafe.search.ask.com",yahoo:"search.yahoo.com"},t.PRIVACY_PROMPT={},t.PRIVACY_PROMPT.SETTINGS_CONTAINER="083D0A7D-C9CB-4012-8CDF-86336ABF089C",t.PRIVACY_PROMPT.PRIVACY_CONSENT="privacyConsent",t.PRIVACY_PROMPT.BROWSER_RESTART_TIMES="browserRestartTimes",t.PRIVACY_PROMPT.REMOVE_NSW_URL="https://addons.mozilla.org/LOCALE_LANG/firefox/addon/norton-safe-web",t.PRIVACY_PROMPT.FF_AMO_GLOBAL_PRIVACY_STMT_URL={sw:"https://addons.mozilla.org/en-US/firefox/addon/norton-safe-web/privacy",hp:"https://www.gendigital.com/privacy/product-privacy-notices/#norton-home-page",ds:"https://www.gendigital.com/privacy/product-privacy-notices/#norton-safe-search","three-in-one":"https://www.gendigital.com/privacy/product-privacy-notices/#norton-safe-search","media-dot-net":"https://www.gendigital.com/privacy/product-privacy-notices/#norton-safe-search"},t.PRIVACY_PROMPT.FF_AMO_TELEMETRY_MESSAGE="1E963E97-5264-4E7A-A77F-8C2AAB7C7CD5",t.INSTALL_STATUS_KEY="installStatus",t.INSTALL_STATUS={INSTALL:"install",UPDATE:"update"},t.DYNAMIC_QUICK_LINKS_DATA="dynamicQuickLinksData",t.IS_VENDOR_MIGRATION_DONE_KEY="16cbe1ce-31df-43c8-b095-74ac144929e6",t.VENDOR_MIGRATION_KEY="vendor_migration",t.INPUT_TYPES=["text","number","tel"],t.TELEMETRY_DATA_LIMIT=1e3,t.KEY_CODES={ESCAPE_KEY:27,ENTER_KEY:13},t.AB_TESTING_VIEWS={GOOGLE_APPS:"GOOGLE_APPS"},t.MULTIVARIATE_SDK_CONFIG={SCHEDULER_INTERVAL:864e5,CDN_URL:"https://static.nortoncdn.com/nortonextensionhomepage/multi-variate-testing-rules.json",ROOT_CA:`
      -----BEGIN CERTIFICATE-----
      MIIEvjCCA6agAwIBAgIQBtjZBNVYQ0b2ii+nVCJ+xDANBgkqhkiG9w0BAQsFADBh
      MQswCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3
      d3cuZGlnaWNlcnQuY29tMSAwHgYDVQQDExdEaWdpQ2VydCBHbG9iYWwgUm9vdCBD
      QTAeFw0yMTA0MTQwMDAwMDBaFw0zMTA0MTMyMzU5NTlaME8xCzAJBgNVBAYTAlVT
      MRUwEwYDVQQKEwxEaWdpQ2VydCBJbmMxKTAnBgNVBAMTIERpZ2lDZXJ0IFRMUyBS
      U0EgU0hBMjU2IDIwMjAgQ0ExMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKC
      AQEAwUuzZUdwvN1PWNvsnO3DZuUfMRNUrUpmRh8sCuxkB+Uu3Ny5CiDt3+PE0J6a
      qXodgojlEVbbHp9YwlHnLDQNLtKS4VbL8Xlfs7uHyiUDe5pSQWYQYE9XE0nw6Ddn
      g9/n00tnTCJRpt8OmRDtV1F0JuJ9x8piLhMbfyOIJVNvwTRYAIuE//i+p1hJInuW
      raKImxW8oHzf6VGo1bDtN+I2tIJLYrVJmuzHZ9bjPvXj1hJeRPG/cUJ9WIQDgLGB
      Afr5yjK7tI4nhyfFK3TUqNaX3sNk+crOU6JWvHgXjkkDKa77SU+kFbnO8lwZV21r
      eacroicgE7XQPUDTITAHk+qZ9QIDAQABo4IBgjCCAX4wEgYDVR0TAQH/BAgwBgEB
      /wIBADAdBgNVHQ4EFgQUt2ui6qiqhIx56rTaD5iyxZV2ufQwHwYDVR0jBBgwFoAU
      A95QNVbRTLtm8KPiGxvDl7I90VUwDgYDVR0PAQH/BAQDAgGGMB0GA1UdJQQWMBQG
      CCsGAQUFBwMBBggrBgEFBQcDAjB2BggrBgEFBQcBAQRqMGgwJAYIKwYBBQUHMAGG
      GGh0dHA6Ly9vY3NwLmRpZ2ljZXJ0LmNvbTBABggrBgEFBQcwAoY0aHR0cDovL2Nh
      Y2VydHMuZGlnaWNlcnQuY29tL0RpZ2lDZXJ0R2xvYmFsUm9vdENBLmNydDBCBgNV
      HR8EOzA5MDegNaAzhjFodHRwOi8vY3JsMy5kaWdpY2VydC5jb20vRGlnaUNlcnRH
      bG9iYWxSb290Q0EuY3JsMD0GA1UdIAQ2MDQwCwYJYIZIAYb9bAIBMAcGBWeBDAEB
      MAgGBmeBDAECATAIBgZngQwBAgIwCAYGZ4EMAQIDMA0GCSqGSIb3DQEBCwUAA4IB
      AQCAMs5eC91uWg0Kr+HWhMvAjvqFcO3aXbMM9yt1QP6FCvrzMXi3cEsaiVi6gL3z
      ax3pfs8LulicWdSQ0/1s/dCYbbdxglvPbQtaCdB73sRD2Cqk3p5BJl+7j5nL3a7h
      qG+fh/50tx8bIKuxT8b1Z11dmzzp/2n3YWzW2fP9NsarA4h20ksudYbj/NhVfSbC
      EXffPgK2fPOre3qGNm+499iTcc+G33Mw+nur7SpZyEKEOxEXGlLzyQ4UfaJbcme6
      ce1XR2bFuAJKZTRei9AqPCCcUZlM51Ke92sRKw2Sfh3oius2FkOH6ipjv3U/697E
      A7sKPPcw7+uvTPyLNhBzPvOk
      -----END CERTIFICATE-----
      `},t.PRODUCT_NAME_CATEGORY_MAP={"Norton Safe Web":"Safeweb","Norton Safe Search":"Safesearch","Norton Home Page":"Homepage"},t.OCODE_PROVIDER={AB_TEST:"AB_TEST"},t.OCODE_KEYS={hp:"DHP_OCODE",ds:"DS_OCODE"},t.GOOGLE_APPS_CLICK="google_apps_click",t.EXTENSION_INSTALL_MONTH_YEAR="extension_install_month_year",t.FORMJACK_TOUR_DISPLAYED="formjack_tour_displayed",t.ALARM_NAMES={QUICK_LINKS:"f5392882-c85d-4489-a2f0-dd5e0a3c2460",TELEMETRY_NOTIFICATION:"29332c3b-10cf-4823-a010-46970bcb2148",TWITTER_FEEDS:"9c7ed636-9d4f-4c71-92e1-7a842a7e469e",FETCH_ANTI_TRACKER_STATUS:"8a6cc5c9-4253-4be7-89a4-45e9bb836235",PERIODIC_ANTI_TRACKER_SCHEDULER:"c36c6aa6-a53d-4daf-8763-b3c1e7a8309e",FORMJACK_TOUR_SCHEDULER:"024c3630-494a-11ed-bde3-0800200c9a66",TELEMETRY_NOTIFICATION_AUTOHIDE:"6fdb09df-6f1a-46d6-9a5e-b3d65973eb76",TELEMETRY_NOTIFICATION_DUE_CHECK_WAKEUP:"0fe31fa6-d0ca-448c-b8aa-305ea0e13fa8",ADM_FETCH_ALARM:"a29d5c05-e7f8-4cec-ac80-64a4a29f2835"},t.MS_TO_MIN_CONVERSION_VALUE=6e4,t.DS_REDIRECTOR_RULE_COUNT=1,t.ALLOCATED_LENGTH="allocated_length",t.ID="id",t.ERROR="error",t.ERROR_MESSAGES={MAX_RULES_COUNT_EXHAUSTED:"Exhausted max dynamic rules",PARTIAL_RULE_IDS_ALLOCATION:"Unable to allocate requested number of rule ids"},t.TELEMETRY_NOTIFICATION_DUE_TIMESTAMP="telemetryNotificationDueTimestamp",t.TELEMETRY_NOTIFICATION_ID_KEY="telemetryNotificationId",t.BLOCKED_DOMAIN="blockedDomain",t.ORIGINAL_URL="originalURL",t.BLOCK_TYPE="blockType",t.BLOCK_DELAY="blockDelay",t.BLANK_TAB_LINK="about:blank",t.NEW_TAB="about:newtab",t.EXTENSION_URL="chrome-extension://",t.UI_PATH="/content/ui/",t.FORMJACK_LEARNMORE_LAUNCH_POINT={FORMJACK_TOUR:"formjackTour",FORMJACK_BLOCK_PAGE:"formjackBlockPage"},t.WWW_PATTERN="www.",t.MAIN_FRAME="main_frame",t.QUICK_LINKS_REQUEST="quick_links_request",t.QUICK_LINKS_DATA="quick_links_data",t.HOMEPAGE_LOCATION_DATA="homepage_location_data",t.HOMEPAGE_WEATHER_DATA="homepage_weather_data",t.HOMEPAGE_WEATHER_UNIT="homepage_weather_unit",t.CELSIUS="celsius",t.FARENHEIT="farenheit",t.WEATHERIMAGE_URL="https://static.nortoncdn.com/nortonsafesearch/weatherImages/dark/##WEATHER_ICON##.png",t.BACKGROUND_IMAGE_SETTING="BACKGROUND_IMAGE_SETTING",t.CUSTOM_BACKGROUND_IMAGE="CUSTOM_BACKGROUND_IMAGE",t.NEW_TAB_SETTING="new_tab_setting",t.BOOKMARK_SETTING="bookmark_setting",t.MOST_VISITED_SITES="most_visited_sites",t.WEATHER_WIDGET="weather_widget",t.TIME_WIDGET="time_widget",t.CUSTOM_QUICK_LINKS="custom_quick_links",t.TOP_SITES="top_sites",t.NOT_SET="not_set",t.EXTN_IMAGE="EXTN_IMAGE",t.BROWSERS_MAP={Chrome:"Chrome",Firefox:"FireFox","Edge-Chromium":"Edge",edge:"Edge",chrome:"Chrome",firefox:"FireFox","Norton Secure Browser":"Secure"},t.BROWSER="browser",t.PROD="prod",t.DEFAULT_INSTALL_SOURCE="other",t.CAMPAIGN_CODE={Mac:"rapha",Windows:"medici"},t.DEFAULT_CAMPGN_CODE="medici",t.ONE_DAY_IN_MILLISECONDS=864e5,t.NEW_HP_TOUR_SHOWN="new_hp_tour_shown",t.IS_NEW_USER_FOR_HP_FEATURES="is_new_user_for_hp_features",t.DEFAULT_DARK_MODE_THEME="default_dark_mode_theme",t.PREVIOUS_HP_DARK_MODE_THEME="previous_hp_dark_mode_theme",t.PREVIOUS_BROWSER_DARK_MODE_THEME="previous_browser_dark_mode_theme",t.IS_BROWSER_DARK_MODE_SET="is_browser_dark_mode_set",t.INSTALL_TIME_BROWSER_DARK_MODE_THEME="install_time_browser_dark_mode_theme",t.PREVIOUS_DS_THEME="previous_ds_theme",t.AM_TIME_UNIT="AM",t.PM_TIME_UNIT="PM",t.ENVS="PROD",t.WEB_STORE_URL="web_store_url",t.TWO_IN_ONE_EXTENSIONS="##EXTENSIONS##",t.LEGACY_EXTENSION="old",t.MEDIA_DOT_NET_FEATURE_APPLICABLE="media-dot-net-feature-applicable",t.LOCATION_FETCH_TIMESTAMP="location_fetch_timestamp",t.CURRENT_LOCATION_KEY="current_location_key",t.EXCLUDED_TRACK_VALUES=["t1","t2","T1","T2"],t.EDGE_EXTN_URL_START_KEYWORD="extension://",t.EXTN_URLS=[t.EXTENSION_URL,t.FIREFOX_EXTN_URL_START_KEYWORD,t.EDGE_EXTN_URL_START_KEYWORD],t.PAGE_BLOCK="page",t.SECURE="Secure",t.UNKNOWN="unknown",t.EXTERNAL_EXTENSION_COMMUNICATION_DETAILS={hp:{extensions:[...t.NORTON_HP_EXTENSION_IDS],custom_dimension:e.telemetryConstants.parameters.CUSTOM_DIMENSION43},ds:{extensions:[...t.NORTON_DS_EXTENSION_IDS],custom_dimension:e.telemetryConstants.parameters.CUSTOM_DIMENSION44},sw:{extensions:[...t.NORTON_SW_EXTENSION_IDS],custom_dimension:e.telemetryConstants.parameters.CUSTOM_DIMENSION42},"three-in-one":{extensions:[...t.NORTON_THREE_IN_ONE_EXTENSION_IDS],custom_dimension:e.telemetryConstants.parameters.CUSTOM_DIMENSION45},"media-dot-net":{extensions:[...t.NORTON_MEDIA_DOT_NET_EXTENSION_IDS],custom_dimension:e.telemetryConstants.parameters.CUSTOM_DIMENSION46}},t.OTHER_EXTENSION_DETAILS={hp:["ds","sw","three-in-one","media-dot-net"],ds:["hp","sw","three-in-one","media-dot-net"],sw:["hp","ds","three-in-one","media-dot-net"],"three-in-one":["ds","hp","sw","media-dot-net"],"media-dot-net":["hp","ds","sw","three-in-one"],"two-in-one":["hp","ds","sw","three-in-one"]},t.EXTENSION_ID_NAME_MAP={OldHP:["embphknneakipabfiipdgklmpllaibmh"],OldDS:["eogpedgkejfmehnklhahflpmplhiceal"],Old3IN1:["gkjahlcnbjiangkneanonnndppicobbd"],HP:["mhffmephdchhhbfjmdpoaldedhhdanbn","nortonhomepage@symantec.com","nortonhomepage_ven_y@symantec.com","okplngpklcjmpdemleibnhidjihcobef"],DS:["mpnlkmlkncncpgnnkmkgoobfpnjmblnk","nortonsafesearch_ul@symantec.com","nortonsafesearch_ul_ven_y@symantec.com","nortonsafesearch_ul_2@symantec.com","nortonsafesearch_ul_ven_y_2@symantec.com","ikkagnliefbhcdgnnhfidhhbocdhkdeb"],"3IN1":["eoigllimhcllmhedfbmahegmoakcdakd","nortonthree-in-one_ven_y@symantec.com","nortonthree-in-one@symantec.com"],SW:["fnpbeacklnhmkkilekogeiekaglbmmka","nortonsafeweb@symantec.com","bdaafgjhhjkdplpffldcncdignokfkbo"],mnet:["gojjgcbbgphdindfmmaipdponknepdbi","nortonthree-in-one@symantec.com","lenfbbnmmijmbjociehiknmocnignpkl"]},t.EXTENSION_ID_DS_MAP={Chrome:"mpnlkmlkncncpgnnkmkgoobfpnjmblnk"},t.BROWSER_DS_WEB_STORE_URL_MAP={Chrome:"https://chromewebstore.google.com/detail/norton-safe-search/"},t.REPETITIVE_EXTENSION_IDS=["embphknneakipabfiipdgklmpllaibmh","eogpedgkejfmehnklhahflpmplhiceal","gkjahlcnbjiangkneanonnndppicobbd"],t.KEEP_ASSIST_UI_SHOWN_FLAG="keepAssistShown",t.FREE="free",t.FULFILLED="fulfilled",t.DS_EXTENSION_INSTALLATION_STATUS="1b1ac01f-ca9d-44e0-a1bf-87a4dbe59170",t.SAFE_WEB_NOTIFICATION_UI_INSTALL_CLICKED="95ebe691-52e4-414d-923d-ced6b44f940a",t.TIMED_OUT="Timed out",t.SEARCH_COUNT="search_count",t.ACTIVE_USER_SEARCH_LAST_SENT_TIMESTAMP_KEY="70F5C0C4-ACEF-4E6E-8B81-CC26D776685F",t.REPETITIVE_EXTENSIONS=["OldHP","OldDS"],t.LANDING_PAGE_URL="https://search.norton.com/client?",t.BROWSER_DS_WEB_STORE_URL_MAP={Chrome:"https://chromewebstore.google.com/detail/norton-safe-search/"},t.EXTENSION_ID_DS_MAP={Chrome:"mpnlkmlkncncpgnnkmkgoobfpnjmblnk"},t.SW_NOTIFICATION={DS_PROMOTION:{INSTALL_SOURCE:"swNotification"}},t.PARAMS_FOR_WEB_STORE_URL={guid:"guid",cmpgn:"cmpgn",puid:"puid"},t.SW_EXTENSION_IDS={Chrome:"fnpbeacklnhmkkilekogeiekaglbmmka"},t.SW_BLOCK="SWBlock",t.ONBOARDING_PAGE_URL_PARAMS=[t.PARTNERIDKEY,t.CGUIDKEY,t.URL_PARAMS_KEY.CAMPAIGN_NAME,t.URL_PARAMS_KEY.BROWSER,t.URL_PARAMS_KEY.PARTNER_UNIT_ID,t.URL_PARAMS_KEY.PRODUCT_NAME,t.URL_PARAMS_KEY.VERSION,t.URL_PARAMS_KEY.LAYOUT_TYPE],t.STORAGE_URL_PARAMS_KEY_MAP={[t.PARTNERIDKEY]:t.URL_PARAMS_KEY.PARTNERID,[t.CGUIDKEY]:t.URL_PARAMS_KEY.CGUID,[t.URL_PARAMS_KEY.CAMPAIGN_NAME]:t.URL_PARAMS_KEY.CAMPAIGN_NAME,[t.URL_PARAMS_KEY.BROWSER]:t.URL_PARAMS_KEY.BROWSER,[t.URL_PARAMS_KEY.PARTNER_UNIT_ID]:t.URL_PARAMS_KEY.PARTNER_UNIT_ID,[t.URL_PARAMS_KEY.PRODUCT_NAME]:t.URL_PARAMS_KEY.PRODUCT_NAME,[t.URL_PARAMS_KEY.VERSION]:t.URL_PARAMS_KEY.VERSION,[t.URL_PARAMS_KEY.LAYOUT_TYPE]:t.URL_PARAMS_KEY.LAYOUT_TYPE},t.GEN_PRIVACY_URL="https://www.gendigital.com/privacy",t.GEN_LEGAL_URL="https://www.gendigital.com/legal",t.IS_LINK_GUARD_ENABLED="is_link_guard_enabled",t.FIRST_ROW_QUICK_LINKS="1c327107-c296-44b3-9286-f9d226070f1f",t.COUNTRY_CODE="03dc53d7-892c-4e98-acee-6d01c0e65b3a",t.QUICK_LINKS_RULES_JSON="be9b8a83-5e51-4e71-a144-2e1b12b83029",t.ADM_URL="admUrl",t.STATIC_AD_LINKS="staticAdLinks",t.IMAGE_URL="imageUrl",t.ADM_DATA="57fb887c-37ff-4873-94f4-a39983dd0d8c",t.ADM_FALLBACK_LINKS="admFallbackLinks",t.ADM_FETCH_TIMESTAMP="b2ccbb55-c483-438e-9be4-ce1d60ef95e1",t.DS_EXTENSION_STATUS_TIMESTAMP="c1b06793-cbfe-439e-bdf6-ee3ff4b52e38",t.DS_EXTENSION_INSTALLATION_STATUS="1b1ac01f-ca9d-44e0-a1bf-87a4dbe59170",t.CLOSE_CLICK_TIMESTAMP="804af278-97ba-4de3-996a-7d00c9d23872",t.DS_EXTENSION_PROMOTION_NOTIFICATION_SHOWN_TIMESTAMP="d2667665-6156-4785-a690-d8343862a2be",t.SEARCH_DISABLED_ICON_SHOWN_TIMESTAMP="dbeda563-1666-47ac-ab35-74aea37075c7",t.ENV_BASED_JSON_FILE={INT:"nsssConfigs-stage",INT2:"nsssConfigs-stage",PROD:"nsssConfigs"},t.CONFIGS_APP_NAME="nsss-configs",t.NSSS_CONFIGS_JSON="nsss_configs_json",t.DAYS_TO_MILLISECONDS_CONVERSION=864e5,t.CDN_SERVER_URL="https://static.nortoncdn.com",t.CONFIGS_JSON_URL=t.CDN_SERVER_URL+"/nortonextensionhomepage/##file-name##.json",t.NEW_TAB_PAGE={DS_PROMOTION:{INSTALL_SOURCE:"ntp_ds_promotion",BANNER_STATUS_KEY:"ds_promotion_banner_status_key",BANNER_STATUS:{SHOWN:"shown",CLOSED:"closed",DS_INSTALLED:"ds_installed",ERROR:"error"}},DS_OVERLAY:{INSTALL_SOURCE:"ntp_ds_overlay"}},t.HP_EXTENSION_IDS={Chrome:"mhffmephdchhhbfjmdpoaldedhhdanbn"},t.SW_EXTENSION_IDS={Chrome:"fnpbeacklnhmkkilekogeiekaglbmmka"},t.IS_DS_EXTENSION_INSTALLED="4a0dfc2c-fe6e-496f-8d52-92d2d330af06",t.HAS_INTERACTED_WITH_NOTIFICATION="1c5db29a-7bac-46f4-a540-d07b9997cbd8",t.SAFE_WEB_NOTIFICATION_SHOWN="a477acd8-b78d-439b-8237-d87eb6251c4b",t)})(this),(e=>{var{EDGE_CHROMIUM:t,CHROME:a}=SymBfw.constants.BROWSER_TYPE,n={TYPE:{KNOWNBAD:"knownbad",SUSPECTEDBAD:"suspectedbad",MALICIOUS:"malicious",MALICIOUSSHOP:"maliciousshop",IPS:"IPS",FORMJACK:"FORMJACK"},HTML:"blockedPage.html",parameterKeys:{ORIGINAL_URL:"originalURL",REPORT_URL:"reportURL",BLOCK_PAGE_TYPE:"blockPageType",ULANG:"ulang",CONTINUE_TO_SITE_URL:"continueToSiteURL"}},i={strings:["Safe Web","BLOCKED BY","Possible credit card skimmer blocked!","Learn more","This web address may be associated with the illegal collection of credit card information by cyberthieves.","We strongly recommend you don't enter any information into this page:","Learn technical details","Accept risk and continue","Exit this page (recommended)","Norton","Risky domain blocked","We have blocked a potentially risky domain","Got it","Accept Risk and Continue"],learnMoreStrings:["LEARN MORE","About credit card skimmers and formjacking","What is formjacking?","Malicious actors can compromise online purchase sites in a variety of ways, skimming their checkout pages and stealing your credit or debit card information. This is known as formjacking.","How does formjacking work?","Help protect against cybercriminals' attacks","In the same way that a skimmer creates a fake front on an ATM or a public payment display, such as at a gas station, formjackers can hack into a website's back end. They can then insert code that creates a fake front on the site's payment page and capture your credit or debit card info.","Norton Safe Web's proprietary technology can help protect against formjacking while you shop online. ","We'll notify you if we detect that an e-commerce site has a compromised payment system, ","or if an e-commerce site you're purchasing from has a fake front on their payment page."],descText:"A known malicious website {0} has been embedded into this payment page and could re-route your credit card information.",HTML:"formjackProtectionBlockPage.html"},r={strings:["Norton","Safe Search","Quick Links","Privacy","Search the Web Safely","Legal","Copyright © 2024 Gen Digital Inc. All rights reserved.","NortonLifeLock Latest Updates","Security & Privacy Center","Welcome to Norton Safe Search","Take a tour to see what has changed and make the most of your Safe Search features.","Start Tour","Peace of mind with every search","Norton Safe Search shows site safety ratings in your search results.","Get security updates and tips from Norton","Explore the latest security and privacy blogs from NortonLifeLock and learn more about digital safety.","A tour of Norton Safe Search is available in Settings.","Next","Done","The Quick Link you're trying to add is already provided for you.","Title","URL","Edit your quick link","Add","Cancel","Save","Edit","Remove","Add a quick link","Add new","Type a valid URL","Quick Links is all new!","Add your favorite sites to the new Quick Links bar.","Quick links to access popular sites with ease","Editable quick links","See Forecast","Fahrenheit","FarenheitUnit","Celsius","CelsiusUnit","Settings","General","Other","New tab","Launch the search links in a new tab","Show bookmark bar","Requires additional permission","Quick links","Most-visited sites","Shown based on websites","Custom quick links","Quick links added by you","Customize","Extension theme","Show weather widget","Show time widget","Background image","Background","Choose","Restore to default","Share data with norton","Share usage and error data anonymously","Light mode","Dark mode","Manage bookmarks","Choose image","Choose an image from your device","Gallery","Choose from one of five images","Choose from one of five images","Norton Safe Search!","Upload one of your own","Choose from 5 Norton backgrounds","Available for Chrome","Show most-visited sites","Got It","Quick links to websites","Default theme","Hidden bookmarks","SHARE DATA WITH NORTON","Available for Edge","Manage favorites","Show favorites bar","Hidden favourites","Ad","Install Norton Safe Search","Search protection is not installed","Chrome","because of changes in {0}'s policy, your search","To keep your searches secure","Install now","Norton Home Page!","Home Page"],googleApps:{}},s=(r.googleApps.strings={moreAppsText:"More Apps",tourStrings:{"Link to your apps":"Link to your apps","Access your apps quickly and easily from your Norton Home Page.":"Access your apps quickly and easily from your Norton Home Page.",Done:"Done"}},{strings:["Home Page","Safe Web","Safe Search","Safe Search Enhanced","Secure Search","Settings","Share Data with Norton","Share usage and error data anonymously with Norton and help us make our products even better","Privacy","Signed in as","Sign out","Link Guard","Identify unsafe links in Webmail, Facebook, and Twitter","Learn More","Start Tour","New","Permissions"]}),o={key:"locationWeatherService",strings:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday","January","February","March","April","May","June","July","August","September","October","November","December"]},E={strings:["You have successfully logged out of your NortonLifeLock Account","Sorry, something went wrong. Please try again."]},_={HTML:"content/ui/privacy-prompt.html",strings:["Norton Safe Web","Let us help protect you","To better understand our data collection policies, please visit our","Global Privacy Statement","Accept","Decline","Decline & Uninstall","Your Permission Is Required","Should you decline then Norton Safe Web will not work and won't be able to provide safety ratings for sites for you.","Please click below to review your permission and accept our request to collect the anonymous information you submit.","Review Your Permissions","Remove Norton Safe Web","Share usage and error data anonymously with Norton to help make our products and services even better.","Allow us to collect usage data.","Mozilla Firefox has updated its add-ons policy. Please give your permission again to continue using Norton Safe Search."],sw:{productName:"Norton Safe Web",description1:"We need your permission to collect web addresses (URLs) you browse to detect potentially dangerous websites. If you decline, this extension will be uninstalled.",description2:"We also collect product usage data and error logs for analytics to improve performance. You can opt out of sharing this data and the extension will still function.",declineText:"Should you decline, Norton Safe Web will not work and won't be able to provide safety ratings for sites for you.",uninstallDialogMessage:"\n Uninstalling Safe Web will mean that Norton will not be able to detect if sites are malicious and can't help protect you. We recommend clicking keep Installed and accepting permission for Safe Web to operate on your device. \n",protectText:"Let us help protect you"},ds:{productName:"Norton Safe Search",description1:"We need your permission to collect web addresses (URLs) you search to detect potentially dangerous links. If you decline, this extension will be uninstalled.",description2:"We also collect product usage data and error logs for analytics to improve performance. You can opt out of sharing this data and the extension will still function.",declineText:"If you decline, Safe Search will not be able to help protect your device from malicious sites.",uninstallDialogMessage:"\n Uninstalling Safe Search will mean that Norton will not be able to detect if the site results you find are malicious, nor can we help protect you. We recommend clicking on Keep Installed and accepting permission for Safe Search to operate on your device.\n",protectText:"Search more safely, protect your device"},hp:{productName:"Norton Home Page",description1:"We need your permission to collect web addresses (URLs) you search to detect potentially dangerous links. If you decline, this extension will be uninstalled.",description2:"We also collect product usage data and error logs for analytics to improve performance. You can opt out of sharing this data and the extension will still function.",declineText:"If you decline, Home Page will not be able to help protect you from malicious sites.",uninstallDialogMessage:"\n Uninstalling Norton Home Page will mean that Norton will not be able to detect if the sites you search are malicious, nor can we help protect you. We recommend clicking Keep Installed and accepting permission for Home Page to operate on your device.\n",protectText:"Search more safely from your home page"},"three-in-one":{productName:"Norton Safe Search",description1:"Norton must have permission to access and collect the web addresses that you browse on the web, from your address bar, and your home page. ",description2:"This way, we can help detect whether the sites you searched are malicious before you access them, and provide you with safe search results.",declineText:"If you decline, Norton will not be able to help protect your device from malicious sites, nor will we be able to provide you with safe search results.",uninstallDialogMessage:"\n Uninstalling Norton Safe Search will mean that Norton will not be able to detect if the sites you search are malicious, nor we will be able to provide any safe search results for you. We recommend clicking on Keep Installed and accepting permission for Safe Search to operate on your device.\n",protectText:"Search more safely, protect your device"}},l={EXISTING_USER:"existingUser",NEW_USER:"newUser"};(n={MESSAGES:{BLOCKEDPAGE_SEARCH:"93D3C1B6-E181-48DA-8841-EB995ADC5D48",BLOCKEDPAGE_INIT:"049B762D-F8CB-4BB1-93AB-F9D55E13D65E",BEFORE_UNLOAD_EVENT:"6D54B993-F098-4C47-B4CC-596C3D22E402",DOMEVENT:"4BEBC3FD-7552-4AE9-9FB1-717AA14B650A",SHOW_ANNOTATION_POPUP:"9BBDD5C9-4BAF-44EC-9F29-67AD5E2CF524",CLOSE_ANNOATION_POPUP:"47420986-DBE5-471F-8D64-64DCEBDF8541",FLAVOR_RETRIEVED:"554E40BF-48A3-416D-8988-9661B90F94CC",OPEN_DO_NOT_BLOCK_PAGE:"54E66C14-3E30-4F16-B4BC-259C662FF64B",EXIT_BLOCK_PAGE:"f9ce33f9-62c4-4cbb-a5a5-272fc572e299",HANDLE_UI_EVENTS:"B2C77321-D8F4-47A8-DCCF-D99BE95F4BC9",UPDATE_POPOVER_UI:"642A1139-910F-4D9A-B15F-12BBB6AA6276",SET_TELEMETRY_ENABLED:"6213A0CF-075B-42BB-861A-0E54D62DE44E",SET_LINK_GUARD_ENABLED_NOTIFICATION:"F1E723C0-325B-4B40-8105-DE45FF866910",SETTINGS_PRIVACY_POLICY:"53E7B83C-CB55-463F-91B0-41F125589605",SIGN_OUT:"5CC02BA4-A79E-4451-B64A-B61217EC6B16",SETTINGS_PAGE_UI_INIT:"99534CCC-1303-4135-B98F-2B57FB3C2115",OPEN_IPS_LEARN_MORE_URL:"B63BF039-0BF2-4ED4-AD7F-61C482CF5E1D",SET_DS_VENDOR:"051cc1e3-0abf-45de-97ea-318b8904104a",STORE_CLICK_PREVENTION_URL:"0F830272-E06E-4E97-BC06-4D2BD5DC8D9A",RETRIEVE_CLICK_PREVENTION_URL:"9EAC3837-7ECF-4C03-9A74-D848ECD9012C",ADD_TO_CLICK_PREVENTION_SAFELIST:"7A4A8585-40B8-406C-B63B-3CD865C58584",UNDO_CLICK_PREVENTION:"2E9E571E-93AA-468E-AC40-B451BE79B1C5",REDO_CLICK_PREVENTION:"890F7575-59ED-42D4-9DEE-D76FF84941F0",CLICK_PREVENTION_FAILURE_TELEMETRY:"D7FADF7A-4055-4005-82BC-3F75FE2C2ACB",GET_HOME_PAGE_METADATA:"e4e8577d-7976-4bbf-ba6f-07a749055ec5",EXTN_HOME_PAGE_CHICKLET_CLICKED:"B379AF5D-9FE4-4EEF-AD39-6F846E2D1FA5",EXTN_HOME_PAGE_CHICKLET_SAVE_CLICKED:"E04BD857-F611-4143-884F-1D6C20F182A7",EXTN_HOME_PAGE_UPDATE_CUSTOM_CHICKLETS_LINKS:"896B1FD3-E70B-4DF3-8F8F-33763E3D9809",EXTN_HOME_PAGE_CHICKLET_TO_REMOVE:"53B69E14-A518-45EC-B583-2A88121E0463",EXTN_HOME_PAGE_SEARCH_SUGGESTION_CLICKED_TELEMETRY:"6D512FFF-A83B-4B47-ADAA-20EDB120CD9F",EXTN_HOME_PAGE_SEARCH_BUTTON_CLICKED_TELEMETRY:"C335B6F1-8FCE-44C5-9016-2AC8270301EB",EXTN_HOME_PAGE_LOADED_TELEMETRY:"9E2E8EF4-DB13-40ED-89A1-742852A9DD17",EXTN_SETTINGS_PAGE_LOADED_TELEMETRY:"60343FBA-DDF4-401F-9262-D8C6FCA1D6B5",LAUNCH_SEARCH_TAB_WITH_URL:"6ABBBAED-6E04-4B97-A95B-435D84AE7505",GET_INTERNAL_IDENTIFIER:"fe1ddbad-808a-4d79-bcdd-6d22e2927e97",SEND_INTERNAL_IDENTIFIER:"27e166ee-48a1-4323-ad53-5e398bdf0d8f",LAUNCH_SETTINGS_PAGE:"CAC12841-6D25-4079-A72A-42B2D952BB79",BACKGROUND_SCRIPT_LOADED:"48e97d22-e7a6-4bc0-af9e-94d88ff183d6",SHOULD_SHOW_HP_KEEP_ASSIST_POPUP:"0b0ca639-62c7-4102-879d-5cfe25fe4c29",SHOULD_SHOW_DS_KEEP_ASSIST_POPUP:"0dcb230f-23e7-4381-ba9d-356b585fea83",CLOSE_KEEP_ASSIST_UI:"de5136ec-11a1-4912-9f9f-c12372f1cdae",KEEP_ASSIST_UI_INIT:"13d25c2b-9131-4c13-953b-d1a2afae0b18",DONE_BUTTON_CLICKED:"02ed873b-f533-40bf-a5e1-6c20cdfc98b2",KEEP_ASSIST_SHOWN:"ed5488de-abf0-41a4-94ef-9e18af537066",OPEN_LEGAL_PAGE:"e46c5d2e-846e-447e-922f-4ec8934d4af4",GET_VENDOR:"d2abce22-27da-4122-94ee-c277494082a6",EXTN_HOME_PAGE_ENGLISH_ONLY_HP_SHOWN_TELEMETRY:"E6E728A3-24E1-48FF-BB97-124492C0D0DE",EXTN_HOME_PAGE_TWEET_ITEM_CLICKED:"C467AE5D-48FA-4A5B-B7DF-710C6B859B32",EXTN_HOME_PAGE_SECURITY_CENTER_NEWS_ITEM_CLICKED:"793C067F-6E5A-45A5-B8E1-365533384D05",SET_SHOW_SECURITY_CENTER_SECTION_VALUE:"6e01fb7b-174b-4a0f-808b-8b1767f83dfb",SET_SHOW_TWITTER_SECTION_VALUE:"340d7d54-5206-4a6b-8626-6e0556208931",START_HOME_PAGE_TOUR:"3E8A4897-90E1-41A6-83E7-55AD23374BB4",HOME_PAGE_TOUR_FINISHED:"1A57CC55-D8E6-41B3-B43C-A5277D248B90",HOME_PAGE_TOUR_KEY_PRESSED_FOR_CANCEL:"ad724e8e-cc19-445d-96e5-6961df21ba41",HOME_PAGE_TOUR_KEY_PRESSED_FOR_NEXT:"6f7f4f07-6db0-46ba-bc6f-5c9ce0b34059",CUSTOM_QUICK_LINK_TRIGGER_EVENT:"04d7e66e-0c38-4494-ace7-7850102b4c97",CUSTOM_QUICK_LINK_FAILURE:"df4843ac-e61c-40d1-b957-dd7a60ab4868",CUSTOM_QUICK_LINK_TOUR_FINISHED:"6026950A-4EA9-41F5-BC22-5D6BDB580ACE",PRIVACY_PROMPT_SCREEN_UI_INIT:"cbb8971e-963a-4f71-9b16-b560de122867",ON_PRIVACY_CONSENT_ACCEPT:"E43EEFB7-DEAD-4346-B214-F05EAD311786",ON_PRIVACY_CONSENT_DECLINE:"17F71FD7-9CFA-4351-86B2-12D14A5C104C",ENABLE_ALL_FLOW_FROM_PORTAL:"CE6526AB-1B8E-4E2D-84C7-04B39F04755D",OPEN_GLOBAL_PRIVACY_PAGE:"A40E3D55-068D-4902-BC0B-1AEC35CC424E",REMOVE_NSW_CLICKED:"7E455748-157F-4FDB-A5CD-63F0A3F0BBB2",ENABLE_ALL_COMMUNICATION_LISTENER_ADDED:"713ECFCB-F442-40B3-802B-661DE44C72A0",SEND_TELEMETRY_HOMEPAGE:"b82e9a05-e902-40e9-bde7-759db67dddfb",UPDATE_EXTENSION_ICON:"84011348-554B-46A0-A6C1-C7C4DE6DB28B",EXTENSION_INSTALLATION_TRIGGERED:"aa5fc70a-1979-4684-97f1-a4fbe8bc7ad5",EXTENSION_ENABLE_FLOW_TRIGGERED:"a9eac864-f2f5-4fd9-825e-962bfffa4596",LOAD_STORE_URL:"71c5234a-6dae-48a0-b5c0-7a088e1ca022",CLOSE_STORE_PAGE:"803eefc4-40ef-445e-8a6e-a072e5db04f3",GET_EXTENSIONS_STATUS:"2316b873-1c22-4470-a66a-739ed1af1b5d",EXTENSION_INSTALLED_RESPONSE:"3dc56984-701c-41fa-864f-f93d2cc08dca",CC_TELEMETRY_CAPTURE_NETWORK_CALLS:"4856CB31-43BD-4EC6-98BA-981B60CDEA9D",GET_PRIVACY_CONSENT_ACKNOWLEDGEMENT_STATUS:"4576b88b-9bd3-4a80-88f6-0efe1b545084",GOOGLE_APP_CLICKED:"C679AFTR-9FF6-4EGT-AD67-6F857F2D1FA4",MORE_GOOGLE_APPS_CLICKED:"b4a0bb95-20fe-4839-afda-569b74c048ed",GOOGLE_APPS_POPUP_SHOWN:"fab33274-8a50-42e1-a640-8d41c9eda833",FORMJACK_PROTECTION_MONITOR_NETWORK_CALLS:"5e4c1418-f828-433d-a282-702d7e390b49",FORMJACK_BLOCKPAGE_INIT:"a4b68533-7679-4473-b121-6489958b15b3",FORMJACK_NOTIFICATION_INIT:"9fd951ca-b07d-4a90-9a15-848a00c61dc5",FORMJACK_CONTINUE_TO_SITE:"47f641ccb66f42e4af12112265fd91c7",FORMJACK_LEARN_MORE_LINK_CLICK:"b5a65793-8258-4282-ba3a-dc581ca52e52",FORMJACK_LEARN_TECHNICAL_DETAILS_CLICK:"929c9862-2e0f-478a-9790-3e1eb943a952",FORMJACK_EXIT_PAGE:"21c397aa-6181-488f-8204-1a40c3eef67e",FORMJACK_TOUR_UI_INIT:"cf3508b1-a9ce-4474-aac9-d74fc3980be5",FORMJACK_TOUR_CLOSE_BUTTON_CLICKED:"41de4468-0242-478c-b7cf-7351c276db57",FORMJACK_TOUR_UI_SHOWN:"9b85d40b-168e-483e-8ab4-75146ef780c8",FORMJACK_TOUR_LEARN_MORE_LINK_CLICKED:"979aceea-5385-4cda-a7be-4d66ceba4ef8",FORMJACK_PROTECTION_LEARN_MORE_UI_INIT:"b0bcb28c-e469-4a4c-a8b9-f2eebbb1de6f",ACCU_WEATHER_WIDGET_DATA:"051FABA9-7668-4328-8BB9-2FAFF918DCE2",BOOKMARKS_TOGGLE:"9d643f07-65a9-470d-8770-fc9d6361e8be",BOOKMARKS_SETTINGS_TOGGLED:"068efa47-6084-4284-8a7b-e15399a7a3b6",BOOKMARK_MANAGER_CLICKED:"20809d17-5eaa-4677-b080-a3fe527410cc",RESET_HP_DEFAULT_SETTINGS:"731F75C5-4295-4D1F-BDB7-79CCC0951E85",GET_HP_DEFAULT_SETTINGS:"2186FCE1-0604-4FE2-B1F5-5F106E5C2DF2",SAVE_HP_SETTINGS:"81537A09-7EF0-4D3D-9BFF-A633644E5C51",GET_BACKGROUND_IMAGE_DATA:"91CCAB4C-8155-4D15-82F3-2F633D84B16E",SET_BACKGROUND_IMAGE_DATA:"275AC7E8-44D4-4259-BF4D-6A05D7423FCE",MOST_VISITED_SITES_TOGGLE:"ce47f12e-d8ee-4a75-81f5-28ab62ace83a",MOST_VISITED_SITES_SETTINGS_CHANGE:"cd4bfeab-7cea-4ae9-9822-6d67f229397e",BACKGROUND_IMAGE_UPDATE:"6fd707dd-b519-4c5f-8d81-b58122ab4329",WEATHER_WIDGET_CLICK:"6d383618-7ab4-40e2-8820-235e52890dd5",WEATHER_WIDGET_UNIT_CHANGED:"1D59A4B0-6E9F-4A3C-B0BA-575F8D8E918D",WEATHER_SETTINGS_TOGGLED:"72457b2e-e859-41ea-a5b6-1349298ba80d",UPDATE_WEATHER_WIDGET:"a6709c67-0afa-4eb6-b67d-6f9dfc30631d",TIME_WIDGET_SETTINGS_TOGGLED:"fbe6b172-1f5d-4b79-85da-89b9f8a410d9",NEW_TAB_SEARCH_TOGGLED:"11569906-c001-4b1f-9854-1357ff1e8ba3",TOUR_CLOSE_ICON_CLICKED:"d7b79f32-b555-4493-9a87-01a66606af11",TOUR_GOT_IT_CLICKED:"bc4486f8-0f28-428c-a44d-d29562989110",DARK_MODE_THEME_CHANGE_EVENT:"3b6d4c8c-d789-47de-977c-955886c697d4",GET_DARK_MODE_THEME:"d22bf198-804b-4e4e-be70-4a831585548f",BROWSER_DARK_MODE_THEME_CHANGED:"a95ac300-71cf-4fe7-8533-4f886f18001e",IS_HP_DARK_MODE_HANDLER:"44c4e3d3-85f2-4308-b650-f936ae221293",INIT_BROWSER_DARK_MODE_THEME:"3a899543-ed27-4f9d-9cda-4d330a17ee89",BOOKMARKS_URL_CLICKED:"3b834ee8974140a89c4e0a08001be393",HP_NEW_TOUR_CLOSED:"e2e27af0-4023-4e6b-ae3c-95c34368ccee",UPDATE_HP_TOUR:"58548e4b-efcd-4885-8cf3-94f209776d54",CLOSE_HP_TAB:"c2a8c2f2-dcf2-4574-8621-332ed2c0ecb6",FORMJACK_GOT_IT_CLICKED:"5976aaaf-2f7d-42d2-b624-172857c35eaa",EXTENSION_EXISTENCE_CHECK:"ddb10b41-56a3-4434-a344-3b768abdc534",INSTALL_BUTTON_CLICK:"64c7ccb7-15b2-4118-b51d-b2cb0330a2fd",BLOCKPAGE_PROMOTION_TILE_SHOWN:"81d6e7a7-b01d-4de5-9d45-9fb4194602ba",EXTENSIONS_PROMOTION_DATA:"9cf0ca2f-4efd-4e2f-bcbe-dd417649db56",UPDATE_FG_LINK_GUARD:"3da932c5-b445-4610-82ad-3693398e75ef",UPDATE_QUICK_LINKS:"e9bb441c-d42a-4dc4-bd19-ea7f9de69df7",DS_EXTENSION_PROMOTION_BANNER_CHANGE:"ed4a1fb1-87b8-491d-a530-006706ded0fc",DS_PROMOTION_NOTIFICATION_CLOSE_CLICKED:"ca8209e6-9839-4cb0-a035-091c739a6b72",DS_PROMOTION_NOTIFICATION_INSTALL_CLICKED:"3d6e4a04-47a1-41c2-b37f-2b5956be876b",DS_EXTENSION_INSTALLED:"3dad35cc-06ae-4131-8d0d-34979ac22556",DS_EXTENSION_INSTALLED:"3dad35cc-06ae-4131-8d0d-34979ac22556",DS_OVERLAY_NOTIFICATION_INSTALL_CLICKED:"8f1640c2-42d6-48b9-8687-f347e3c2e740",DS_OVERLAY_NOTIFICATION_SHOWN:"2aaca735-1027-4ea9-87db-de2611d0b50d",FETCH_DS_NOTIFICATION_BANNER_DETAILS:"017e7081-1837-4edd-adf1-a9ae25e36666",SAFE_WEB_NOTIFICATION_UI:"611ac1a6-9b0d-4e56-83d8-f22765d32ba3",INJECT_SAFE_WEB_NOTIFICATION_IFRAME:"611ac1a6-9b0d-4e56-83d8-f22765d32ba3",SAFE_WEB_NOTIFICATION_UI_INIT:"7ffc1b30-f042-4b03-8d19-9ae6eea68a86",SAFE_WEB_NOTIFICATION_UI_CLOSE_CLICKED:"a07cc4c4-a5a6-4900-b496-33e41cdc22c3",SAFE_WEB_NOTIFICATION_UI_INSTALL_CLICKED:"9ee74435-3aff-48f5-a256-977355c035a9",CLOSE_SAFE_WEB_NOTIFICATION:"db746638-88de-4fa3-9d29-ffd8606e81c2"},BLOCKPAGE:n,SETTINGS_UI:s,BROWSER_NOTIFICATION:E,HOMEPAGE:r,PRIVACY_PROMPT_SCREEN:_,KEEP_ASSIST_UI:{productNamePart1:"Norton",productNamePart2:"Secure Search",title:"Almost done!",description:"To complete installation, click",keepItText:"Keep It"},FORM_JACK_PROTECTION_BLOCK_PAGE:i,FORMJACK_TOUR_UI:{HTML:"content/ui/formjackTour.html",[l.EXISTING_USER]:{header:{title:"New feature from Norton Safe Web!",description:"Protection from Formjacking"},tiles:{creditCard:{description:"Norton Safe Web can help you avoid formjacking while you shop online."},paymentAlert:{description:"We'll notify you if we detect that the site you're buying from has a compromised payment system."}},footer:{description:"What is formjacking?",linkText:"Learn More"}},[l.NEW_USER]:{header:{title:"Norton Safe Web",description:"Thanks for installing",descriptionSuffix:"Norton Safe Web!",subDescription:"Take advantage of all these great features:"},tiles:{websiteRatings:{title:"Website Ratings",description:"Our website ratings will let you know if a site is safe or if you should be cautious before providing it with your data."},intrusionPrevention:{title:"Intrusion Prevention",description:"Norton Safe Web helps protect against known bugs and cyberthreats in popular browsers."},formjackPrevention:{title:"Formjacking Prevention",description:"Norton Safe Web will notify you if it detects an e-commerce site has a compromised payment system."},websiteBlocking:{title:"Website Blocking",description:"Norton Safe Web notifies you, then helps block malicious sites before you click."},antiPhishing:{title:"Anti-Phishing Protection",description:"This feature lets you know if the site you're clicking on is officially certified, not a phishing site."},linkGuard:{title:"Link Guard",description:"Scans webmail and social media feeds for links that are suspicious or malicious."}}}},LOCATION_WEATHER_SERVICE:o,SAFE_WEB_NOTIFICATION_UI:{title1:"Norton Safe Web will only provide site ratings on Norton Safe Search",title2:"Protect your searches with Norton Safe Search",description:"Moving forward, the Norton Safe Web extension will stop providing site ratings to all search engines except for Norton Safe Search.",blockText:"We will continue to block dangerous websites to keep your browsing safe and secure.",installText:"To continue to see site ratings, install the Norton Safe Search extension.",installButton:"Install Norton Safe Search"},EXTENSION_TYPE:"sw",MEDIA_DOT_NET_EXTENSION:"media-dot-net",PROD_MEDIA_DOT_NET:"mnet",SAFEWEB_EXTENSION:"sw",TWO_IN_ONE:"2in1",THREE_IN_ONE:"three-in-one",HOMEPAGE_EXTENSION:"hp",DEFAULT_SEARCH_EXTENSION:"ds",BROWSER_NOTIFICATION_IMAGE:"../../Icon-48.png",HomepageTourSteps:{WELCOME_DIALOG:"welcome_dialog",SEARCH_BOX:"search_box",STATIC_CHICKLETS:"static_chicklets",CUSTOM_CHICKLETS:"custom_chicklets",TWITTER_FEEDS:"twitter_feeds",SECURITY_CENTER_FEEDS:"security_center_feeds",SETTINGS_ICON:"settings_icon",GOOGLE_APPS:"google_apps"}}).ChickletsTourStepsData={id:"chickeltTour",start:n.HomepageTourSteps.STATIC_CHICKLETS,[n.HomepageTourSteps.STATIC_CHICKLETS]:{positionCSS:" tooltip-position-static-chicklets ",pageNumberText:"1/2",nextStep:n.HomepageTourSteps.CUSTOM_CHICKLETS,descriptionText:"Quick links to access popular sites with ease",buttonText:"Next"},[n.HomepageTourSteps.CUSTOM_CHICKLETS]:{positionCSS:" tooltip-position-custom-chicklets ",pageNumberText:"2/2",nextStep:null,titleText:"Editable quick links",descriptionText:"Add your favorite sites to the new Quick Links bar.",buttonText:"Done"}},n.KEY_CODES={ENTER:13},n.formjackTour={TOUR_TYPE:l,TOUR_TYPE_PARAM:"tour_type"},n.formjackTourData={[l.NEW_USER]:{windowStyle:{container:"formjack-tour-container-new-user",imageWrapper:"formjack-tour-image-new-user",image:"img-formjack-tour-image"},tileStyle:{container:"formjack-tour-tiles-container-new-user",wrapper:"formjack-tour-tile-wrapper-new-user",textWrapper:"formjack-tour-tile-text-wrapper-new-user",image:"formjack-tour-tile-image-new-user",description:"formjack-tour-tile-description-new-user",title:"formjack-tour-tile-title-new-user"},headerStyle:{container:"formjack-tour-header-container-new-user",titleWrapper:"formjack-tour-header-title-wrapper-new-user",title:"formjack-tour-header-title-new-user",descriptionWrapper:"formjack-tour-header-title-description-wrapper",description:"formjack-tour-header-title-description-new-user",descriptionSuffix:"formjack-tour-header-title-description-suffix-new-user",subDescription:"formjack-tour-header-title-sub-description-new-user"},tilesData:[{image:"formjack-tour-wrs-tile",tag:"websiteRatings"},{image:"formjack-tour-ips-tile",tag:"intrusionPrevention"},{image:"formjack-tour-fj-tile",tag:"formjackPrevention"},{image:"formjack-tour-block-tile",tag:"websiteBlocking"},{image:"formjack-tour-lg-tile",tag:"linkGuard"},{image:"formjack-tour-phish-tile",tag:"antiPhishing"}]},[l.EXISTING_USER]:{windowStyle:{container:"formjack-tour-container",imageWrapper:"formjack-tour-image",image:"img-formjack-tour-image"},tileStyle:{container:"formjack-tour-tiles-container",wrapper:"formjack-tour-tile-wrapper",textWrapper:"formjack-tour-tile-text-wrapper",image:"formjack-tour-tile-image",description:"formjack-tour-tile-description",title:"formjack-tour-tile-title"},headerStyle:{container:"formjack-tour-header-container",titleWrapper:"formjack-tour-header-title-wrapper",title:"formjack-tour-header-title",descriptionWrapper:"formjack-tour-header-title-description-wrapper formjack-tour-header-title-description-wrapper-existing-user",description:"formjack-tour-header-title-description",subDescription:"formjack-tour-header-title-sub-description"},tilesData:[{image:"formjack-tour-cc-tile",tag:"creditCard"},{image:"formjack-tour-alert-tile",tag:"paymentAlert"}]}},n.DARK_MODE_PARAM="darkMode",n.SAME_TAB_LAUNCH_SERP_PARAM="sameTabLaunch",n.IS_DARK_MODE_SET="isDarkModeSet",n.IS_BROWSER_DARK_MODE_SET="isBrowserDarkModeSet",n.THEMES={LIGHT_THEME:"light",DARK_THEME:"dark",BROWSER_THEME:"browser_theme"},n.BOOKMARK_MANAGER_URL={[a]:"chrome://bookmarks/",[t]:"edge://favorites/"},n.HP_SETTINGS_CHANGED_EXTERNAL="62049E2D-5705-446C-9EF9-04E4E008614A",n.GET_HP_SETTINGS_EXTERNAL="A66F2621-583E-487D-B65A-D2B3440F9FA8",n.DARK_MODE_ICON="Icon-dark-32.png",n.LIGHT_MODE_ICON="Icon-32.png",n.SERP_URL_LIST=["https://nortonsafe.search.ask.com/*"],n.UPDATE_ACTIVE_TAB_URL="A7DD7938-5B0A-474F-A05C-5B5127A9593E",n.DEFAULT_IMAGE="DEFAULT_IMAGE",n.NORTON_SAFE_WEB="Norton Safe Web",n.NORTON_SECURE_SEARCH="Norton Secure Search",(e.NSSS=e.NSSS||{}).uiConstants=n})(executionContext),(e=>{(e.NSSS=e.NSSS||{}).uiHelper=((s,o)=>{var E={};s.utils.isntNil;let _=s.utils.isNil,t=o.nfmEvents;var l={untested:0,safe:1,caution:2,warn:3},T=o.constants,S=s.localizer,n=o.uiConstants.BLOCKPAGE.TYPE,c={};return c.Safe=l.safe,c.Caution=l.caution,c.Untested=l.untested,c["Safe Web is off"]=l.untested,c.Warning=l.warn,c["Not Licensed"]=l.warn,c["Unsafe to Shop"]=l.warn,c.Monitoring=l.untested,c["Page not analyzed"]=l.untested,E.siteStatusRatingMap=c,E.rating=l,E.messageType={SEARCH:0,FULLREPORT:1,REPORTSITE:2,SETTINGS:3,ONLOAD:4},E.ratingStyle=["untested","safe","caution","warn","suspicious","formjack"],E.customizedRatingStyle={suspiciousRegionBlock:"suspicious",formjackProtection:"formjack"},E.uiEvents="UI-Event",E.settingsEvent="Settings-Event",E.setupUI="Setup-UI",E.updateUI="Update-UI",E.updateUIComplete="Update-UI-Complete",E.setupSettingsUI="Setup-Settings-UI",E.FULL_REPORT_EVENTID="2786E625-7D87-4997-AB8B-DB46539A48F8",E.REPORTSITE_EVENTID="76DAED94-D538-4C07-909D-8C7C0442FA5C",E.SETTINGS_CLICKED_EVENTID="D33EEEAD-B101-4A69-8B71-564E69FD5880",E.SEARCH_EVENTID="5C57C303-1C69-4C07-850C-062563BE3C1D",E.DEFAULT_SEARCH_EVENTID="FD6141FE-3E11-40E1-88A9-ED2EECC2E052",E.DEFAULT_HOMEPAGE_EVENTID="D266FC01-E845-4292-8890-30AE32FE48E2",E.setShowFullReportForSessionID=function(e,t){o.helperUtils.setSessionSetting(e,T.SHOW_FULLREPORT,t)},E.showFullReportForSessionID=function(e){let t=o.helperUtils.getSessionSetting(e,T.SHOW_FULLREPORT);return t=_(t)?!0:t},E.setShowReportSiteForSessionID=function(e,t){o.helperUtils.setSessionSetting(e,T.SHOW_REPORTSITE,t)},E.showReportSiteForSessionID=function(e){let t=o.helperUtils.getSessionSetting(e,T.SHOW_REPORTSITE);return t=_(t)?!0:t},E.toolbarStatusForSessionID=function(e){return _(e)||(e=o.helperUtils.getSessionSetting(e,t.PAGE_ANALYZED),_(e))?null:(e.getRating?e:new o.Rating(e)).getRating()},E.uiStatusForSessionID=function(e,t){var a,n,i,r;return _(e)||(s.logger,a=o.helperUtils.getFeatureFlavorization(),o.helperUtils.isURLWhitelisted(t))||(n=E.toolbarStatusForSessionID(e),_(n))?E.uiStatusForUntestedSite(t):(t=n.siteStatus,i=E.showFullReportForSessionID(e),r=E.showReportSiteForSessionID(e),E.setShowReportSiteForSessionID(e,r),e=S.getLocalizedString(n.siteStatus),{uiStatus:{sitename:n.url,rating:c[t],ratingText:e,showSafeWebSearchbox:a.showSafeWebSearchbox},regularIcon:n.siteIcon+".png",retinaIcon:n.siteIcon+"@2x.png",showFullReport:i,showReportSite:r,siteRating:n.siteRating,fullReportURL:n.fullReportURL})},E.privateUIStatusForSafeOrUntestedOrMonitoringSite=function(e,t){var a=o.helperUtils.getFeatureFlavorization(),n=S.getLocalizedString(t),e={sitename:e=!_(e)&&""!==e?e:T.ABOUT_BLANK,rating:l.untested,ratingText:n,computerThreats:0,identityThreats:0,annoyanceThreats:0,totalThreats:0,showSafeWebSearchbox:a.showSafeWebSearchbox};let i=T.UNTESTED_IMAGE+".png",r=T.RETINAL_UNTESTED_IMAGE+".png";return"Safe"===t&&(i=T.SAFE_IMAGE+".png",r=T.RETINAL_SAFE_IMAGE+".png",e.rating=l.safe),{uiStatus:e,regularIcon:i,retinaIcon:r,showFullReport:!1,showReportSite:!1}},E.uiStatusForSafeSite=function(e){return E.privateUIStatusForSafeOrUntestedOrMonitoringSite(e,"Safe")},E.uiStatusForUntestedSite=function(e){return E.privateUIStatusForSafeOrUntestedOrMonitoringSite(e,"Untested")},E.uiStatusForMonitoringSite=function(e){return E.privateUIStatusForSafeOrUntestedOrMonitoringSite(e,"Monitoring")},E.getBlockPageString=function(e){var t,a=E.blockPageStrings();switch(e){case n.KNOWNBAD:t=E.knownbadWindowStrings(a);break;case n.SUSPECTEDBAD:t=E.suspectedbadWindowStrings(a);break;case n.MALICIOUS:t=E.maliciousWindowStrings(a);break;case n.MALICIOUSSHOP:t=E.maliciousshopWindowStrings(a)}return t},E._getPopoverWarningMessage=e=>{let t="";switch(e){case n.SUSPECTEDBAD:t=S.getLocalizedString("This is a suspicious webpage.");break;case n.MALICIOUS:case n.MALICIOUSSHOP:t=S.getLocalizedString("This is a known dangerous webpage.");break;case n.FORMJACK:t=S.getLocalizedString("We strongly recommend that you do not share any personal or financial information on this page.");break;default:return""}e=e!==n.FORMJACK?S.getLocalizedString("It is highly recommended that you do NOT visit this page."):"";return t+" "+e},E._getPopoverMessage=(e,t)=>{switch(e){case l.untested:return S.getLocalizedString("This website has not been rated yet.");case l.safe:return S.getLocalizedString("This website is considered safe.");case l.caution:return S.getLocalizedString("This website may have a small number of threats.");case l.warn:var a=o.wpsHelperUtils.blockPageType(t);return _(a)?"":E._getPopoverWarningMessage(a);default:return""}},E.popoverWindowStrings=function(e,t){return{search:S.getLocalizedString("Search the Web Safely"),rating:{nortonRating:S.getLocalizedString("Norton Rating"),popoverDesc:E._getPopoverMessage(e,t),fullReport:S.getLocalizedString("View a full Safe Web report"),reportSite:S.getLocalizedString("Report this site"),nortonSafeWeb:S.getLocalizedString("Norton Safe Web")}}},E.blockPageStrings=function(){return{blockedBy:S.getLocalizedString("BLOCKED BY"),line2:S.getLocalizedString("You attempted to access"),description2:S.getLocalizedString("It is highly recommended that you do NOT visit this page."),visit_symc1:S.getLocalizedString("Visit"),symantec:S.getLocalizedString("Norton"),visit_symc2:S.getLocalizedString("to learn more about phishing and internet security."),linkToSite:S.getLocalizedString("Accept risk and continue"),reportSite:S.getLocalizedString("View Full Report"),searchBoxText:S.getLocalizedString("Search for a safer site"),safeWebText:S.getLocalizedString("Safe Web"),exitPage:S.getLocalizedString("Exit this page (recommended)")}},E.knownbadWindowStrings=function(e){return e.title=S.getLocalizedString("Fraudulent Webpage Blocked"),e.description1=S.getLocalizedString("This webpage is a known fraudulent webpage."),e},E.maliciousWindowStrings=function(e){return e.title=S.getLocalizedString("Dangerous Webpage Blocked"),e.description1=S.getLocalizedString("This is a known dangerous webpage."),e},E.maliciousshopWindowStrings=function(e){return e.title=S.getLocalizedString("Dangerous Webpage Blocked"),e.description1=S.getLocalizedString("This is a known dangerous webpage."),e},E.suspectedbadWindowStrings=function(e){return e.title=S.getLocalizedString("Malicious Website Blocked"),e.description1=S.getLocalizedString("This site has been blocked due to piracy or other restrictions in your region. We highly recommend that you do not visit this page."),e.description2="",e.line2=S.getLocalizedString("Website you tried to access:"),e.exitPage=S.getLocalizedString("Close this website (recommended)"),e.linkToSite=S.getLocalizedString("Accept and display risk"),e},E.keepAssistWindowStrings=function(e){var t=!0===e?S.getLocalizedString("Norton Safe Search"):S.getLocalizedString("Norton Home Page"),e=!0===e?S.getLocalizedString("Safe Search"):S.getLocalizedString("Home Page");return{title1:S.getLocalizedString("Welcome to"),title2:S.getLocalizedString("Norton"),title3:e,desc1:S.getLocalizedString("Thank you for choosing Norton. When a Chrome message appears at the top right of the screen, click"),desc2:S.getLocalizedString("Keep changes"),desc3:S.getLocalizedStringWithFormat("to maintain your {0} protection in Chrome.",[t]),btnContinue:S.getLocalizedString("Continue")}},E})(e.SymBfw,e.NSSS)})(executionContext),(e=>{(e.NSSS=e.NSSS||{}).globalSettings=((t,i)=>{var r={},a=i.constants;let{utils:{isNil:s,isntNil:n,isFunction:e,isString:o,isBoolean:E,isArray:_,isEmptyObject:l,isObject:T,isNumber:S},settings:c,logger:A}=t;return r.settingsContainer=null,r.initialize=function(n){if(!e(n))throw new Error("callback must be a function");c.loadSettingsContainer(a.NSSS_GLOBAL_SETTINGS_CONTAINER,!0,function(e,t,a){!1===e||s(t)?(A.error("failed to load NSSS_GLOBAL_SETTINGS_CONTAINER"),n(!1)):(r.settingsContainer=t,r.getCGuid(),n(!0))})},r.getValue=function(e){return s(this.settingsContainer)?(A.error("settings not initialized"),null):this.settingsContainer.getObject(e)},r.setValue=function(e,t){s(this.settingsContainer)?A.error("settings not initialized"):this.settingsContainer.setObject(e,t)},r.getDefaultHomepage=function(){return r.getValue(a.DEFAULT_HOMEPAGE)},r.getDefaultSearch=function(){return r.getValue(a.DEFAULT_SEARCH)},r.setDefaultHomepage=function(e){r.setValue(a.DEFAULT_HOMEPAGE,e)},r.setDefaultSearch=function(e){r.setValue(a.DEFAULT_SEARCH,e)},r.setCurrentDateAsDoi=function(){var e=i.helperUtils.getNormalizedDateString();r.setInstallDate(e)},r.getInstallDate=function(){var e=r.getValue(a.NSSS_INSTALLDATEKEY);return s(e)&&(r.setCurrentDateAsDoi(),e=r.getValue(a.NSSS_INSTALLDATEKEY)),e},r._getNormalizedDateString=function(e){e=i.helperUtils.convertDateStringToNormalizedDateString(e);return e||i.helperUtils.getNormalizedDateString()},r.setInstallDate=function(e){var t;n(e)&&(t=r._getNormalizedDateString(e),r.setValue(a.NSSS_INSTALLDATEKEY,t),i.uiConstants.EXTENSION_TYPE===i.uiConstants.THREE_IN_ONE)&&a.VENDOR===a.YAHOO&&r.setDateOfAssociation(e,e)},r.getDateOfAssociation=function(){var e=r.getValue(a.URL_PARAMS_KEY.DATE_OF_ASSOCIATION);return s(e)?null:e},r.setInstallationPageURL=function(e){o(e)&&r.setValue(a.NSSS_INSTALLATION_PAGE_URL_KEY,e)},r.getInstallationPageURL=function(){return r.getValue(a.NSSS_INSTALLATION_PAGE_URL_KEY)},r._compareDate=(e,t)=>{var a,n,e=i.helperUtils.getDateParts(e,"-");return!(!_(e)||e.length<3||(t=i.helperUtils.getDateParts(t,"-"),!_(t))||t.length<3||(a=new Date(e[0],e[1]-1,e[2]),isNaN(a))||(n=new Date(t[0],t[1]-1,t[2]),isNaN(n)))&&a<n},r.setDateOfAssociation=function(e,t){o(e)&&o(t)&&(r._compareDate(e,t)?r.setValue(a.URL_PARAMS_KEY.DATE_OF_ASSOCIATION,r._getNormalizedDateString(e)):r.setValue(a.URL_PARAMS_KEY.DATE_OF_ASSOCIATION,r._getNormalizedDateString(t)))},r.setPUID=function(e){n(e)&&r.setValue(a.URL_PARAMS_KEY.PARTNER_UNIT_ID,e)},r.setProduct=function(e){n(e)&&r.setValue(a.URL_PARAMS_KEY.PRODUCT_NAME,e)},r.getProduct=function(){var e=r.getValue(a.URL_PARAMS_KEY.PRODUCT_NAME);return e=s(e)?a.PRT:e},r.setVersion=function(e){n(e)&&r.setValue(a.URL_PARAMS_KEY.VERSION,e)},r.getVersion=function(){var e=r.getValue(a.URL_PARAMS_KEY.VERSION);return e=s(e)?a.VERSION:e},r.setLayoutType=function(e){n(e)&&r.setValue(a.URL_PARAMS_KEY.LAYOUT_TYPE,e)},r.getPUID=function(){return r.getValue(a.URL_PARAMS_KEY.PARTNER_UNIT_ID)},r.getLayoutType=function(){return r.getValue(a.URL_PARAMS_KEY.LAYOUT_TYPE)},r.getCGuid=function(){var e=r.getValue(a.CGUIDKEY);return s(e)&&(e=t.utils.createNewGuid(),r.setCGuid(e)),e},r.setCGuid=function(e){n(e)&&r.setValue(a.CGUIDKEY,e)},r.getVendor=function(){var e=r.getValue(a.VENDORKEY);return e=s(e)?a.VENDOR:e},r.setVendor=function(e){n(e)&&r.setValue(a.VENDORKEY,e)},r.getPartnerId=function(){var e=r.getValue(a.PARTNERIDKEY);return e=s(e)?a.DEFAULT_PARTNER_ID:e},r.setPartnerId=function(e){n(e)&&r.setValue(a.PARTNERIDKEY,e)},r.getCampaignMedium=function(){var e=r.getValue(a.CAMPAIGN_MEDIUM);return s(e)?a.DEFAULT_PARTNER_ID:e},r.setCampaignMedium=function(e){s(e)||r.setValue(a.CAMPAIGN_MEDIUM,e)},r.setFlavorized=function(e){var t=r.getValue(a.IS_FLAVORIZED);s(t)&&r.setValue(a.IS_FLAVORIZED,e)},r.getFlavorized=function(){var e=r.getValue(a.IS_FLAVORIZED);return!s(e)&&e},r.getParamsString=function(){var e=r.getValue(a.PARAMSTRINGKEY);return s(e)?"":e},r.setParamsString=function(e){n(e)&&0<e.length&&r.setValue(a.PARAMSTRINGKEY,e)},r.getTrackId=function(){return r.getValue(a.URL_PARAMS_KEY.TRACK_ID)||r.getValue(a.URL_PARAMS_KEY.TRACK_ID.toLowerCase())},r.setTrackID=function(e){n(e)&&r.setValue(a.URL_PARAMS_KEY.TRACK_ID,e)},r.getTweetsLastFetchedTimestamp=function(){return r.getValue(a.TWITTER_FEEDS_CDN_FETCH_LAST_TIMESTAMP_KEY)},r.setTweetsLastFetchedTimestamp=function(e){n(e)&&r.setValue(a.TWITTER_FEEDS_CDN_FETCH_LAST_TIMESTAMP_KEY,e)},r.getTwitterFeedsData=function(){let e=r.getValue(a.TWITTER_FEEDS_DATA_KEY);return e=s(e)?i.homePageConstants.TWEETS.data:e},r.setTwitterFeedsData=function(e,t=!1){s(e)||(r.setValue(a.TWITTER_FEEDS_DATA_KEY,e),t)||r.setTweetsLastFetchedTimestamp(Date.now())},r.getDefaultExtensionInstallationStatus=function(){return r.getValue(a.DS_EXTENSION_INSTALLATION_STATUS)},r.setDefaultExtensionInstallationStatus=function(e){E(e)&&r.setValue(a.DS_EXTENSION_INSTALLATION_STATUS,e)},r.getShowTwitterSectionValue=function(){let e=r.getValue(a.SHOW_TWITTER_SECTION);return e=s(e)?!0:e},r.setShowTwitterSectionValue=function(e){E(e)&&r.setValue(a.SHOW_TWITTER_SECTION,e)},r.getShowSecurityCenterSectionValue=function(){let e=r.getValue(a.SHOW_SECURITY_CENTER_SECTION);return e=s(e)?!0:e},r.setShowSecurityCenterSectionValue=function(e){E(e)&&r.setValue(a.SHOW_SECURITY_CENTER_SECTION,e)},r.getHomepageTourLastShownTimestamp=function(){return r.getValue(a.HOMEPAGE_TOUR_LAST_SHOWN_TIMESTAMP_KEY)},r.setHomepageTourLastShownTimestamp=function(e){n(e)&&r.setValue(a.HOMEPAGE_TOUR_LAST_SHOWN_TIMESTAMP_KEY,e)},r.getChickletTourLastShownTimestamp=function(){return r.getValue(a.CHICKLET_TOUR_LAST_SHOWN_TIMESTAMP_KEY)},r.setChickletTourLastShownTimestamp=function(e){n(e)&&r.setValue(a.CHICKLET_TOUR_LAST_SHOWN_TIMESTAMP_KEY,e)},r.getGeoLocation=function(){return r.getValue(a.GEO_LOCATION_KEY)},r.setGeoLocation=function(e){n(e)&&r.setValue(a.GEO_LOCATION_KEY,e)},r.setInstallStatus=e=>{o(e)&&r.setValue(a.INSTALL_STATUS_KEY,e)},r.getInstallStatus=()=>r.getValue(a.INSTALL_STATUS_KEY),r.setDynamicQuickLinksData=function(e){n(e)&&r.setValue(a.DYNAMIC_QUICK_LINKS_DATA,e)},r.getDynamicQuickLinksData=function(){return r.getValue(a.DYNAMIC_QUICK_LINKS_DATA)},r.setVendorMigrationDone=e=>{E(e)&&r.setValue(a.IS_VENDOR_MIGRATION_DONE_KEY,e)},r.getVendorMigrationDone=()=>r.getValue(a.IS_VENDOR_MIGRATION_DONE_KEY),r.setCustomChicklets=function(e){_(e)&&r.setValue(a.CUSTOM_CHICKLETS_KEY,e)},r.getCustomChicklets=function(){return r.getValue(a.CUSTOM_CHICKLETS_KEY)},r.setGoogleAppsClickedValue=function(e){E(e)&&r.setValue(a.GOOGLE_APPS_CLICK,e)},r.getGoogleAppsClickedValue=function(){return r.getValue(a.GOOGLE_APPS_CLICK)},r.getExtensionInstallMonthAndYear=function(){return r.getValue(a.EXTENSION_INSTALL_MONTH_YEAR)},r.setExtensionInstallMonthAndYear=function(e){o(e)&&r.setValue(a.EXTENSION_INSTALL_MONTH_YEAR,e)},r.setPrivacyConsentAcceptClicked=function(e){E(e)&&r.setValue(a.PRIVACY_CONSENT_ACCEPT_CLICK,e)},r.getPrivacyConsentAcceptClicked=function(){return r.getValue(a.PRIVACY_CONSENT_ACCEPT_CLICK)},r.setTelemetryNotificationId=function(e){o(e)&&r.setValue(a.TELEMETRY_NOTIFICATION_ID_KEY,e)},r.setTelemetryNotificationDueTimestamp=function(e){S(e)&&r.setValue(a.TELEMETRY_NOTIFICATION_DUE_TIMESTAMP,e)},r.getTelemetryNotificationDueTimestamp=function(){return r.getValue(a.TELEMETRY_NOTIFICATION_DUE_TIMESTAMP)},r.getTelemetryNotificationId=function(){return r.getValue(a.TELEMETRY_NOTIFICATION_ID_KEY)},r.isFormjackTourDisplayed=function(){return r.getValue(a.FORMJACK_TOUR_DISPLAYED)},r.setFormjackTourDisplayed=function(e){E(e)&&r.setValue(a.FORMJACK_TOUR_DISPLAYED,e)},r.getLocationData=function(){return r.getValue(a.HOMEPAGE_LOCATION_DATA)},r.setLocationData=function(e){l(e)||r.setValue(a.HOMEPAGE_LOCATION_DATA,e)},r.getWeatherData=function(){return r.getValue(a.HOMEPAGE_WEATHER_DATA)},r.setWeatherData=function(e){l(e)||r.setValue(a.HOMEPAGE_WEATHER_DATA,e)},r.getWeatherUnit=function(){return r.getValue(a.HOMEPAGE_WEATHER_UNIT)},r.setWeatherUnit=function(e){o(e)&&r.setValue(a.HOMEPAGE_WEATHER_UNIT,e)},r.setBookmarksToolbarEnabled=function(e){E(e)&&r.setValue(a.ENABLE_BOOKMARKS_TOOLBAR,e)},r.getBookmarksToolbarEnabled=function(){return r.getValue(a.ENABLE_BOOKMARKS_TOOLBAR)},r.setNewTabForSearchResultsEnabled=function(e){E(e)&&r.setValue(a.ENABLE_NEW_TAB_FOR_SEARCH_RESULTS,e)},r.getNewTabForSearchResultsEnabled=function(){return r.getValue(a.ENABLE_NEW_TAB_FOR_SEARCH_RESULTS)},r.setMostVisitedSitesEnabled=function(e){E(e)&&r.setValue(a.ENABLE_MOST_VISITED_SITES,e)},r.getMostVisitedSitesEnabled=function(){return r.getValue(a.ENABLE_MOST_VISITED_SITES)},r.setWeatherWidgetEnabled=function(e){E(e)&&r.setValue(a.ENABLE_WHEATHER_WIDGET,e)},r.getWeatherWidgetEnabled=function(){return r.getValue(a.ENABLE_WHEATHER_WIDGET)},r.setTimerWidgetEnabled=function(e){E(e)&&r.setValue(a.ENABLE_TIMER_WIDGET,e)},r.getTimerWidgetEnabled=function(){return r.getValue(a.ENABLE_TIMER_WIDGET)},r.getBackgroundImageSetting=function(){return r.getValue(a.BACKGROUND_IMAGE_SETTING)},r.setBackgroundImageSetting=function(e){l(e)||r.setValue(a.BACKGROUND_IMAGE_SETTING,e)},r.getCustomBackgroundImage=function(){return r.getValue(a.CUSTOM_BACKGROUND_IMAGE)},r.setCustomBackgroundImage=function(e){o(e)&&r.setValue(a.CUSTOM_BACKGROUND_IMAGE,e)},r.getTrackValue=function(){return r.getValue(a.URL_PARAMS_KEY.TRACK)},r.setTrackValue=function(e){r.setValue(a.URL_PARAMS_KEY.TRACK,e)},r.getInstallSource=function(){return r.getValue(a.URL_PARAMS_KEY.INSTALL_SOURCE)},r.setInstallSource=function(e){o(e)&&r.setValue(a.URL_PARAMS_KEY.INSTALL_SOURCE,e)},r.getCampaignCode=function(){return r.getValue(a.URL_PARAMS_KEY.CAMPAIGN_NAME)},r.setCampaignCode=function(e){o(e)&&r.setValue(a.URL_PARAMS_KEY.CAMPAIGN_NAME,e)},r.getBrowserValue=function(){return r.getValue(a.URL_PARAMS_KEY.BROWSER)},r.setBrowserValue=function(e){o(e)&&r.setValue(a.URL_PARAMS_KEY.BROWSER,e)},r.setIsNewUserForHPNewFeatures=function(e){E(e)&&r.setValue(a.IS_NEW_USER_FOR_HP_FEATURES,e)},r.isNewUserForHPNewFeatures=function(){return r.getValue(a.IS_NEW_USER_FOR_HP_FEATURES)},r.setDefaultDarkModeTheme=function(e){o(e)&&r.setValue(a.DEFAULT_DARK_MODE_THEME,e)},r.getDefaultDarkModeTheme=function(){return r.getValue(a.DEFAULT_DARK_MODE_THEME)},r.setPreviousHPDarkModeTheme=function(e){o(e)&&r.setValue(a.PREVIOUS_HP_DARK_MODE_THEME,e)},r.getPreviousHPDarkModeTheme=function(){return r.getValue(a.PREVIOUS_HP_DARK_MODE_THEME)},r.setInstallTimeBrowserDarkModeTheme=function(e){o(e)&&r.setValue(a.INSTALL_TIME_BROWSER_DARK_MODE_THEME,e)},r.getInstallTimeBrowserDarkModeTheme=function(){return r.getValue(a.INSTALL_TIME_BROWSER_DARK_MODE_THEME)},r.setPrevBrowserDarkModeSet=function(e){E(e)&&r.setValue(a.PREVIOUS_BROWSER_DARK_MODE_THEME,e)},r.getPrevBrowserDarkModeSet=function(){return r.getValue(a.PREVIOUS_BROWSER_DARK_MODE_THEME)},r.setBrowserDarkModeSet=function(e){E(e)&&r.setValue(a.IS_BROWSER_DARK_MODE_SET,e)},r.isBrowserDarkModeSet=function(){return r.getValue(a.IS_BROWSER_DARK_MODE_SET)},r.getNewHpTourLastShownTimestamp=function(){return r.getValue(a.NEW_HP_TOUR_SHOWN)},r.setNewHpTourLastShownTimestamp=function(e){n(e)&&r.setValue(a.NEW_HP_TOUR_SHOWN,e)},r.setQuickLinksRequest=function(e){_(e)&&r.setValue(a.QUICK_LINKS_REQUEST,e)},r.getQuickLinksRequest=function(){return r.getValue(a.QUICK_LINKS_REQUEST)},r.setQuickLinksData=function(e){T(e)&&r.setValue(a.QUICK_LINKS_DATA,e)},r.getQuickLinksData=function(){return r.getValue(a.QUICK_LINKS_DATA)},r.setPrevDarkModeThemeResolvedInDS=function(e){E(e)&&r.setValue(a.PREVIOUS_DS_THEME,e)},r.getPrevDarkModeThemeResolvedInDS=function(){return r.getValue(a.PREVIOUS_DS_THEME)},r.getWebStoreUrl=function(){return r.getValue(a.WEB_STORE_URL)},r.setWebStoreUrl=function(e){o(e)&&r.setValue(a.WEB_STORE_URL,e)},r.getMediaDotNetFlavorApplicable=function(){return r.getValue(a.MEDIA_DOT_NET_FEATURE_APPLICABLE)},r.setMediaDotNetFlavorApplicable=function(e){E(e)&&r.setValue(a.MEDIA_DOT_NET_FEATURE_APPLICABLE,e)},r.setCurrentLocationKey=function(e){s(e)||r.setValue(a.CURRENT_LOCATION_KEY,e)},r.getCurrentLocationKey=function(){return r.getValue(a.CURRENT_LOCATION_KEY)},r.setLocationFetchTimestamp=function(e){n(e)&&r.setValue(a.LOCATION_FETCH_TIMESTAMP,e)},r.getLocationFetchTimestamp=function(){return r.getValue(a.LOCATION_FETCH_TIMESTAMP)},r.getSearchCount=function(){return r.getValue(a.SEARCH_COUNT)},r.setSearchCount=function(e){S(e)&&r.setValue(a.SEARCH_COUNT,e)},r.getActiveUserSearchLastSentTimestamp=function(){var e=r.getValue(a.ACTIVE_USER_SEARCH_LAST_SENT_TIMESTAMP_KEY);return e||0},r.setActiveUserSearchLastSentTimestamp=function(e){n(e)&&r.setValue(a.ACTIVE_USER_SEARCH_LAST_SENT_TIMESTAMP_KEY,e)},r.getKeepAssistShownState=function(){return r.getValue(a.KEEP_ASSIST_UI_SHOWN_FLAG)},r.setKeepAssistShownState=function(){r.setValue(a.KEEP_ASSIST_UI_SHOWN_FLAG,!0)},r.setUserInteraction=function(){r.setValue(a.HAS_INTERACTED_WITH_NOTIFICATION,!0)},r.getUserInteraction=function(){return r.getValue(a.HAS_INTERACTED_WITH_NOTIFICATION)},r.setDSExtensionStatus=function(e){r.setValue(a.IS_DS_EXTENSION_INSTALLED,e)},r.getDSExtensionStatus=function(){return r.getValue(a.IS_DS_EXTENSION_INSTALLED)},r.setSafeWebNotificationShown=function(e){r.setValue(a.SAFE_WEB_NOTIFICATION_SHOWN,e)},r.getSafeWebNotificationShown=function(){return r.getValue(a.SAFE_WEB_NOTIFICATION_SHOWN)},r.setFirstRowQuickLinks=function(e){_(e)&&r.setValue(a.FIRST_ROW_QUICK_LINKS,e)},r.getFirstRowQuickLinks=function(){return r.getValue(a.FIRST_ROW_QUICK_LINKS)},r.setCountryCode=function(e){o(e)&&r.setValue(a.COUNTRY_CODE,e)},r.getCountryCode=function(){return r.getValue(a.COUNTRY_CODE)},r.setQuickLinksRulesJson=function(e){e&&r.setValue(a.QUICK_LINKS_RULES_JSON,e)},r.getQuickLinksRulesJson=function(){return r.getValue(a.QUICK_LINKS_RULES_JSON)},r.setAdmLinksData=function(e){n(e)&&r.setValue(a.ADM_DATA,e)},r.getAdmLinksData=function(){return r.getValue(a.ADM_DATA)},r.setAdmFetchTimestamp=function(e){n(e)&&r.setValue(a.ADM_FETCH_TIMESTAMP,e)},r.getAdmFetchTimestamp=function(){return r.getValue(a.ADM_FETCH_TIMESTAMP)},r.getLastFetchTimeOfDsExtensionInstallationStatus=function(){return r.getValue(a.DS_EXTENSION_STATUS_TIMESTAMP)},r.setLastFetchTimeOfDsExtensionInstallationStatus=function(e){S(e)&&r.setValue(a.DS_EXTENSION_STATUS_TIMESTAMP,e)},r.getDefaultExtensionInstallationStatus=function(){return r.getValue(a.DS_EXTENSION_INSTALLATION_STATUS)},r.setDefaultExtensionInstallationStatus=function(e){E(e)&&r.setValue(a.DS_EXTENSION_INSTALLATION_STATUS,e)},r.getLastTimeOfCloseIconClick=function(){return r.getValue(a.CLOSE_CLICK_TIMESTAMP)},r.setLastTimeOfCloseIconClick=function(e){S(e)&&r.setValue(a.CLOSE_CLICK_TIMESTAMP,e)},r.getDsExtensionPromotionNotificationShownTimestamp=function(){return r.getValue(a.DS_EXTENSION_PROMOTION_NOTIFICATION_SHOWN_TIMESTAMP)},r.setDsExtensionPromotionNotificationShownTimestamp=function(e){S(e)&&r.setValue(a.DS_EXTENSION_PROMOTION_NOTIFICATION_SHOWN_TIMESTAMP,e)},r.getSearchDisabledIconShownTimestamp=function(){return r.getValue(a.SEARCH_DISABLED_ICON_SHOWN_TIMESTAMP)},r.setSearchDisabledIconShownTimestamp=function(e){S(e)&&r.setValue(a.SEARCH_DISABLED_ICON_SHOWN_TIMESTAMP,e)},r.setConfigsJson=function(e){e&&r.setValue(a.NSSS_CONFIGS_JSON,e)},r.getConfigsJson=function(){return r.getValue(a.NSSS_CONFIGS_JSON)},r.getNewTabPageDSPromotionBannerStatus=function(){return r.getValue(a.NEW_TAB_PAGE.DS_PROMOTION.BANNER_STATUS_KEY)},r.setNewTabPageDSPromotionBannerStatus=function(e){o(e)&&r.setValue(a.NEW_TAB_PAGE.DS_PROMOTION.BANNER_STATUS_KEY,e)},r})(e.SymBfw,e.NSSS)})(executionContext),(e=>{(e.NSSS=e.NSSS||{}).sessionSettings=((e,t)=>{let i={};var a=t.constants;let{utils:{isNil:r,isFunction:s},settings:o,logger:E}=e;return i.settingsContainer=null,i.initialize=function(n){if(!s(n))throw new Error("callback must be a function");o.loadSettingsContainer(a.NSSS_SESSION_SETTINGS_CONTAINER,!0,function(e,t,a){!1===e||r(t)?(E.error("failed to load NSSS_SESSION_SETTINGS_CONTAINER"),n(!1)):(i.settingsContainer=t,n(!0))})},i.getValue=function(e){return r(i.settingsContainer)?(E.error("settings not initialized"),null):i.settingsContainer.getObject(e)},i.setValue=function(e,t){r(i.settingsContainer)?E.error("settings not initialized"):i.settingsContainer.setObject(e,t)},i.delete=function(e){r(i.settingsContainer)?E.error("settings not initialized"):i.settingsContainer.removeObject(e)},i.getCollection=function(){if(!r(i.settingsContainer))return i.settingsContainer.collection;E.error("settings not initialized")},i})(e.SymBfw,e.NSSS)})(executionContext),(e=>{e.NSSS.telemetryWrapper=((_,s)=>{var l={},T=_.utils.isntNil,S=_.utils.isNil,o=_.utils.isString,c=_.telemetryConstants,E=s.globalSettings,A=s.constants,I=s.uiConstants.BLOCKPAGE.TYPE;s.uiConstants.BLOCKPAGE.parameterKeys;let t=s.uiConstants;return l.blockPage={},l.blockPage.parameters={},l.TELEMETRY_CATEGORY={SEARCH:"search",POPUP_UI:"popupui",KEEP_ASSIST_UI:"keep_assist_ui",WEB_PROTECTION:"web_protection",HOMEPAGE_TOUR:"homepage_tour",FORMJACK_TOUR:"formjack_tour",FORMJACK_BLOCK_PAGE:"formjack_block_page",BLOCKPAGE:{knownbad:"antiphishing",suspectedbad:"regional_block",malicious:"dangerous",maliciousshop:"dangerous",redirect:"redirect",FORMJACKING:"Formjacking",PROMOTION_TILE:"promotion_tile"},YAHOO_SERP:"yahooSERP",EXT_HOME_PAGE:{AUTO_SUGGEST:"autosuggest",SEARCH:"search",QUICKLINK:"quicklink",PAGE_VIEW:"pageview",TWITTER_FEED:"twitterFeed",SECURITY_CENTER_NEWS_FEED:"securityCenterNewsFeed",CUSTOM_QUICK_LINK:"customQuickLink",WEATHER_WIDGET:"weather_widget",SETTINGS_MODAL:"settings_modal",TOUR_MODAL:"tour_modal"},EXT_SETTINGS_PAGE:"settings_page",VENDOR_SET_FLOW:"vendorSetFlow",CREDIT_CARD_TELEMETRY:"creditCardTelemetry",FORMJACKING_BLOCK_TYPE:{PAGE:"page",IFRAME:"iframe",SUBMISSION:"submission"},DOWNLOAD_BLOCK:"download_block",ACTIVE_USER:"active_user"},l.actionType={CLICK_EVENT:"click",PAGE_LOAD_EVENT:"page_load",KEY_PRESS:"key_press",CONSENT_SELF_REMOVAL:"consent_self_removal",SEARCH:{SEARCH_ENTITLEMENTS:"searchEntitlements",DEFAULT_SEARCH:"ds",DEFAULT_HOMEPAGE:"dhp",HOME_PAGE_LOADED:"homepage_loaded",SEARCH_QUERY:"search_query",UI_SEARCH_QUERY:"ui_search_query",BLOCKEDPAGE_SEARCH_QUERY:"blockedPage_search_query",ACTION_CLICKED:"action_clicked",SEARCH:"search"},UI:{SHOW_POPUP_UI:"show_popup_ui",ENGLISH_HOME_PAGE_SHOWN:"english_hp_shown",KEEP_ASSIST_UI_SHOWN:"keep_assist_shown",KEEP_ASSIST_CONTINUE_BUTTON_CLICKED:"continue_button_clicked",FORMJACKING_CONTINUE_TO_SITE:"Formjacking_continue_to_site",HP_TOUR_KEY_PRESS_CANCEL:"tour_key_press_cancel",HP_TOUR_KEY_PRESS_NEXT:"tour_key_press_next",HP_TOUR_COMPLETED:"tour_completed",HP_TOUR_TRIGGERED_BY_USER:"hp_tour_triggered_by_user",HP_TOUR_TRIGGERED_AUTOMATICALLY:"hp_tour_triggered_automatically",TWITTER_SECTION_SHOWN:"twitter_section_shown",TWITTER_SECTION_HIDDEN:"twitter_section_hidden",SECURITY_CENTER_SECTION_SHOWN:"security_center_section_shown",SECURITY_CENTER_SECTION_HIDDEN:"security_center_section_hidden",PRIVACY_ACCEPT_CLICKED:"privacy-accept-clicked",PRIVACY_DECLINE_CLICKED:"privacy-decline-clicked",EXTENSION_REMOVE_CLICKED:"extension-remove-clicked",CUSTOM_QUICKLINK_USER_EVENT_COMPLETION:"custom-quicklink-user-event-completion",CUSTOM_QUICKLINK_USER_EVENT_FAILURE:"custom-quicklink-user-event-failure",GOOGLE_APPS_ICON:"google-apps-icon",GOOGLE_APPS:"google-apps",MORE_GOOGLE_APPS:"more-google-apps",FORMJACK_TOUR_NEW_USER_UI_SHOWN:"formjack_tour_new_user_ui_shown",FORMJACK_TOUR_EXISTING_USER_UI_SHOWN:"formjack_tour_existing_user_ui_shown",FORMJACK_TOUR_NEW_USER_UI_CLOSED:"formjack_tour_new_user_ui_closed",FORMJACK_TOUR_EXISTING_USER_UI_CLOSED:"formjack_tour_existing_user_ui_closed",FORMJACK_TOUR_UI_LEARN_MORE_CLICKED:"formjack_tour_ui_learn_more_clicked",FORMJACK_BLOCK_PAGE_LEARN_MORE_CLICKED:"formjack_block_page_learn_more_clicked",FORMJACK_BLOCK_PAGE_TECH_DETAILS_CLICKED:"formjack_block_page_tech_details_clicked",FORMJACK_BLOCK_PAGE_GOT_IT_CLICKED:"formjack_block_page_got_it_clicked",FORMJACK_BLOCK_PAGE_EXIT_CLICKED:"formjack_block_page_exit_clicked"},PAGE:{FORMJACKING_BLOCK_PAGE_SHOWN:"Formjacking_block_page_shown"},BLOCKPAGE:{CONTINUE_TO_SITE:"continue_to_site_clicked",BLOCK_PAGE_SHOWN:"block_page_shown",IGNORE_BLOCK_PAGE:"ignore_block_page",EXIT_BLOCK_PAGE:"exit_block_page",PROMOTION_TILE_SHOWN:"promotion_tile_shown",PROMOTION_TILE_CLICK:"promotion_tile_click"},FORMJACKING_SILENT_TELEMETRY:"Formjacking_silent_telemetry",CLICK_PREVENTION_FAILURE:"clickPreventionFailure",VENDOR_SET:"vendorSet",API_FAILURE:"api_query_failed",VENDOR_MIGRATION:"vendor_migration",CHICKLET_TOUR_SHOWN:"chickletTourShown",CHICKLET_TOUR_COMPLETED:"chickletTourCompleted",CREDIT_CARD_TELEMETRY_NETWORK_REQUEST:"networkRequest",CREDIT_CARD_TELEMETRY_PAGE_DETAILS:"pageDetails",HP_TOUR_GOT_IT_CLICK:"got_it_click",HP_TOUR_CLOSE_CLICK:"close_icon_click",RESTORE_TO_DEFAULT_CLICK:"restore_to_default_click",CUSTOM_THEME:"custom_theme"},l.searchFeature={DEFAULT_HOMEPAGE:"hp",DEFAULT_SEARCH_PROVIDER:"dsp"},l.sendExtensionInstall=function(){var e=c.TELEMETRY_CATEGORY.EXTENSION,t=c.actionType.EXTENSION.INSTALL,a=A.PRODUCT_LABEL,n=l.getCustomDimensionValues();l.send(e,t,a,n)},l.sendExtensionUpdate=function(){var e=c.TELEMETRY_CATEGORY.EXTENSION,t=c.actionType.EXTENSION.UPDATE,a=A.PRODUCT_LABEL,n=l.getCustomDimensionValues();l.send(e,t,a,n)},l.sendVendorSetFlow=function(e){var t=l.TELEMETRY_CATEGORY.VENDOR_SET_FLOW,a=l.actionType.VENDOR_SET,n=A.PRODUCT_LABEL,i=l.getCustomDimensionValues();T(i)&&(i[c.parameters.CUSTOM_DIMENSION9]=e),l.send(t,a,n,i)},l.sendSearchStatus=function(e,t){e=!S(e)&&e,t=!S(t)&&t;var a=l.TELEMETRY_CATEGORY.SEARCH,n=l.actionType.SEARCH.SEARCH_ENTITLEMENTS,e=l.actionType.SEARCH.DEFAULT_SEARCH+"-"+e+"-"+l.actionType.SEARCH.DEFAULT_HOMEPAGE+"-"+t,t=l.getCustomDimensionValues();l.send(a,n,e,t)},l.sendDefaultSearchEvent=function(){var e=l.TELEMETRY_CATEGORY.SEARCH,t=l.actionType.SEARCH.SEARCH_QUERY,a=A.VERSION,n=l.getCustomDimensionValues();l.send(e,t,a,n)},l.sendUISearchEvent=function(){var e=l.TELEMETRY_CATEGORY.SEARCH,t=l.actionType.SEARCH.UI_SEARCH_QUERY,a=A.VERSION;l.send(e,t,a)},l.sendBlockedPageSearchEvent=function(){var e=l.TELEMETRY_CATEGORY.SEARCH,t=l.actionType.SEARCH.BLOCKEDPAGE_SEARCH_QUERY,a=A.VERSION;l.send(e,t,a)},l.sendActionClickEvent=function(){var e=l.TELEMETRY_CATEGORY.SEARCH,t=l.actionType.SEARCH.ACTION_CLICKED,a=A.VERSION,n=l.getCustomDimensionValues();l.send(e,t,a,n)},l.sendShowPopupUIEvent=function(e){if(S(e))throw new Error("Page URL cannot be null");var t=l.TELEMETRY_CATEGORY.POPUP_UI,a=l.actionType.UI.SHOW_POPUP_UI,e=(A.VERSION,new URI(e)),n=e.pathname(),e=(e.domain(),l.getCustomDimensionValues());l.send(t,a,n,e)},l.sendKeepAssistShownEvent=function(){var e=l.TELEMETRY_CATEGORY.KEEP_ASSIST_UI,t=l.actionType.UI.KEEP_ASSIST_UI_SHOWN,a=A.PRODUCT_LABEL,n=l.getCustomDimensionValues();l.send(e,t,a,n)},l.sendBlockPageTelemetry=function(e,t,a,n=!1,i=null,r=!1){if(S(e)||S(t))throw new Error("URL or blockPageType cannot be null");var e=_.utils.urlWithoutQueryParameters(e,!0),s=t===I.KNOWNBAD?"fraudulent":"suspicious",a=!0===a?l.actionType.BLOCKPAGE.CONTINUE_TO_SITE:l.actionType.BLOCKPAGE.BLOCK_PAGE_SHOWN,t=l.TELEMETRY_CATEGORY.BLOCKPAGE[t],a=r?l.actionType.BLOCKPAGE.EXIT_BLOCK_PAGE:a;let o=t===l.TELEMETRY_CATEGORY.BLOCKPAGE.knownbad?s+"_"+a:t+"_"+a;!0===n&&(o=l.TELEMETRY_CATEGORY.BLOCKPAGE.redirect+"_"+o);r=A.PRODUCT_LABEL;let E=l.getCustomDimensionValues();(E=S(E)?{}:E)[c.parameters.CUSTOM_DIMENSION17]=e,T(i)&&(E[c.parameters.CUSTOM_DIMENSION40]=i),l.send(t,o,r,E)},l.sendDownloadBlockTelemetry=function(e,t,a){if(S(e))throw new Error("Download block url cannot be null");var e=_.utils.urlWithoutQueryParameters(e,!0),t=(t?l.TELEMETRY_CATEGORY.BLOCKPAGE.redirect+"_"+l.TELEMETRY_CATEGORY.DOWNLOAD_BLOCK:l.TELEMETRY_CATEGORY.DOWNLOAD_BLOCK)+"_"+l.actionType.BLOCKPAGE.BLOCK_PAGE_SHOWN,n=l.TELEMETRY_CATEGORY.DOWNLOAD_BLOCK,i=A.PRODUCT_LABEL,e={[c.parameters.CUSTOM_DIMENSION17]:e};o(a)&&(a=_.utils.urlWithoutQueryParameters(a,!0),e[c.parameters.CUSTOM_DIMENSION24]=a),l.send(n,t,i,e)},l.sendPreventBlockPageTelementry=function(e,t,a){if(S(a)||S(t))throw new Error("URL or blockPageType cannot be null");var n=l.actionType.BLOCKPAGE.IGNORE_BLOCK_PAGE,e=e+"_"+(t===I.KNOWNBAD?"fraudulent":t===I.suspectedbad?"suspicious":l.TELEMETRY_CATEGORY.BLOCKPAGE[t]),t=_.utils.urlWithoutQueryParameters(a,!0),a=A.PRODUCT_LABEL,t={[c.parameters.CUSTOM_DIMENSION17]:t};l.send(n,e,a,t)},l.checkStringIsValid=function(e){if(!o(e))throw new Error(e+" must be of type string")},l._sendFormjackTelemetry=function(a,n=!1,i=!1){if(a){var r=a.originalURL;if(o(r)){let t=null;try{t=_.utils.urlWithoutQueryParameters(r,!0)}catch(e){_.logger.debug("Failed to get URL without params"),t=_.utils.getDomain(r)}if(o(t)){var r=l.TELEMETRY_CATEGORY.BLOCKPAGE.FORMJACKING,s=a.blockType||l.TELEMETRY_CATEGORY.FORMJACKING_BLOCK_TYPE.PAGE;let e;e=i?l.actionType.FORMJACKING_SILENT_TELEMETRY:n?l.actionType.UI.FORMJACKING_CONTINUE_TO_SITE:l.actionType.PAGE.FORMJACKING_BLOCK_PAGE_SHOWN;i={[c.parameters.CUSTOM_DIMENSION4]:a.blockDelay||0,[c.parameters.CUSTOM_DIMENSION17]:a.blockedDomain,[c.parameters.CUSTOM_DIMENSION7]:t};l.send(r,e,s,i)}}}},l.sendActiveSearchEvent=async function(e){var t,a,n;if(o(e))return t=l.TELEMETRY_CATEGORY.ACTIVE_USER,a=l.actionType.SEARCH.SEARCH,e=e,n=l.getCustomDimensionValues(),await l.forceSendTelemetryWithAcknowledgement(t,a,e,n)},l.sendFormjackSilentTelemetry=function(e){l._sendFormjackTelemetry(e,!1,!0)},l.sendFormjackBlockPageTelemetry=function(e,t=!1){l._sendFormjackTelemetry(e,t,!1)},l.sendFormjackBlockPageTechDetailsClicked=function(){var e=l.TELEMETRY_CATEGORY.FORMJACK_BLOCK_PAGE,t=l.actionType.UI.FORMJACK_BLOCK_PAGE_TECH_DETAILS_CLICKED,a=A.PRODUCT_LABEL,n=l.getCustomDimensionValues();l.send(e,t,a,n)},l.sendFormjackGotItClicked=function(){var e=l.TELEMETRY_CATEGORY.FORMJACK_BLOCK_PAGE,t=l.actionType.UI.FORMJACK_BLOCK_PAGE_GOT_IT_CLICKED,a=A.PRODUCT_LABEL,n=l.getCustomDimensionValues();l.send(e,t,a,n)},l.sendFormjackBlockPageExitClicked=function(){var e=l.TELEMETRY_CATEGORY.FORMJACK_BLOCK_PAGE,t=l.actionType.UI.FORMJACK_BLOCK_PAGE_EXIT_CLICKED,a=A.PRODUCT_LABEL,n=l.getCustomDimensionValues();l.send(e,t,a,n)},l.sendHomePageChickletClickedEvent=function(e,t){this.checkStringIsValid(e);var e=l.TELEMETRY_CATEGORY.EXT_HOME_PAGE.QUICKLINK+"-"+e,a=l.actionType.CLICK_EVENT,n=A.PRODUCT_LABEL,i=l.getCustomDimensionValues();T(t)&&(i[c.parameters.CUSTOM_DIMENSION1]=t),l.send(e,a,n,i)},l.sendQuickLinkApiFetchFailureEvent=function(e){var t=l.TELEMETRY_CATEGORY.EXT_HOME_PAGE.QUICKLINK,a=l.actionType.API_FAILURE;let n=A.PRODUCT_LABEL;e&&(n+="-"+e);e=l.getCustomDimensionValues();l.send(t,a,n,e)},l.sendHomePageSearchSuggestionClickedEvent=function(){var e=l.TELEMETRY_CATEGORY.EXT_HOME_PAGE.AUTO_SUGGEST,t=l.actionType.CLICK_EVENT,a=A.PRODUCT_LABEL,n=l.getCustomDimensionValues();l.send(e,t,a,n)},l.sendHomePageSearchButtonClickedEvent=function(){var e=l.TELEMETRY_CATEGORY.EXT_HOME_PAGE.SEARCH,t=l.actionType.CLICK_EVENT,a=A.PRODUCT_LABEL,n=l.getCustomDimensionValues();l.send(e,t,a,n)},l.sendHomePageLoadEvent=function(e=0,t=0){var a=l.TELEMETRY_CATEGORY.EXT_HOME_PAGE.PAGE_VIEW,n=l.actionType.PAGE_LOAD_EVENT,i=A.PRODUCT_LABEL,r=l.getCustomDimensionValues(),s=_.localizer.getNavigatorLanguage(),o=E.getLocationData(),o=S(o)||S(o[s])?"":o[s].City;r[c.parameters.SCREEN_RESOLUTION]=e+"x"+t,r[c.parameters.CUSTOM_DIMENSION11]=E.getShowTwitterSectionValue(),r[c.parameters.CUSTOM_DIMENSION12]=E.getShowSecurityCenterSectionValue(),r[c.parameters.CUSTOM_DIMENSION36]=o||A.NOT_SET,l.send(a,n,i,r)},l.sendEnglishOnlyHomePageShownEvent=function(e,t){var a=l.TELEMETRY_CATEGORY.EXT_HOME_PAGE.PAGE_VIEW,n=l.actionType.UI.ENGLISH_HOME_PAGE_SHOWN,i=A.PRODUCT_LABEL;let r=l.getCustomDimensionValues();(r=S(r)?{}:r)[c.parameters.CUSTOM_DIMENSION4]=e,r[c.parameters.CUSTOM_DIMENSION10]=t,l.send(a,n,i,r)},l.sendSettingsPageLoadEvent=function(){var e=l.TELEMETRY_CATEGORY.EXT_SETTINGS_PAGE,t=l.actionType.PAGE_LOAD_EVENT,a=A.PRODUCT_LABEL,n=l.getCustomDimensionValues();l.send(e,t,a,n)},l.getCustomDimensionValues=()=>{var e;return t.EXTENSION_TYPE===t.SAFEWEB_EXTENSION?null:(e={[c.parameters.CUSTOM_DIMENSION4]:A.VENDOR,[c.parameters.CUSTOM_DIMENSION26]:E.getTrackValue(),[c.parameters.CUSTOM_DIMENSION25]:s.NSSSHelper.getCampaignCode(),[c.parameters.CUSTOM_DIMENSION23]:s.NSSSHelper.getInstallSource(),[c.parameters.CUSTOM_DIMENSION22]:s.NSSSHelper.getWeekOfInstall(),[c.parameters.CUSTOM_DIMENSION34]:s.NSSSHelper.getBrowserValue()},s.helperUtils.isMediaDotNetExtension()&&(e[c.parameters.CUSTOM_DIMENSION39]=s.helperUtils.getThreeInOneUserType()),e)},l.sendFormjackTourUIDisplayed=function(e){var t=l.TELEMETRY_CATEGORY.FORMJACK_TOUR,e=e?l.actionType.UI.FORMJACK_TOUR_NEW_USER_UI_SHOWN:l.actionType.UI.FORMJACK_TOUR_EXISTING_USER_UI_SHOWN,a=A.PRODUCT_LABEL,n=l.getCustomDimensionValues();l.send(t,e,a,n)},l.sendFormjackProtectionLearnMoreClicked=function(e){var t=e===A.FORMJACK_LEARNMORE_LAUNCH_POINT.FORMJACK_TOUR?l.TELEMETRY_CATEGORY.FORMJACK_TOUR:l.TELEMETRY_CATEGORY.FORMJACK_BLOCK_PAGE,e=e===A.FORMJACK_LEARNMORE_LAUNCH_POINT.FORMJACK_TOUR?l.actionType.UI.FORMJACK_TOUR_UI_LEARN_MORE_CLICKED:l.actionType.UI.FORMJACK_BLOCK_PAGE_LEARN_MORE_CLICKED,a=A.PRODUCT_LABEL,n=l.getCustomDimensionValues();l.send(t,e,a,n)},l.sendFormjackTourUIClosed=function(e){var t=l.TELEMETRY_CATEGORY.FORMJACK_TOUR,e=e?l.actionType.UI.FORMJACK_TOUR_NEW_USER_UI_CLOSED:l.actionType.UI.FORMJACK_TOUR_EXISTING_USER_UI_CLOSED,a=A.PRODUCT_LABEL,n=l.getCustomDimensionValues();l.send(t,e,a,n)},l.sendTourKeyPressCancelEvent=function(){var e=l.TELEMETRY_CATEGORY.HOMEPAGE_TOUR,t=l.actionType.UI.HP_TOUR_KEY_PRESS_CANCEL,a=A.PRODUCT_LABEL,n=l.getCustomDimensionValues();l.send(e,t,a,n)},l.sendTourTriggeredByUserEvent=function(){var e=l.TELEMETRY_CATEGORY.HOMEPAGE_TOUR,t=l.actionType.UI.HP_TOUR_TRIGGERED_BY_USER,a=A.PRODUCT_LABEL,n={[c.parameters.CUSTOM_DIMENSION4]:A.VENDOR};l.send(e,t,a,n)},l.sendTourTriggeredAutomaticallyEvent=function(){var e=l.TELEMETRY_CATEGORY.HOMEPAGE_TOUR,t=l.actionType.UI.HP_TOUR_TRIGGERED_AUTOMATICALLY,a=A.PRODUCT_LABEL,n={[c.parameters.CUSTOM_DIMENSION4]:A.VENDOR};l.send(e,t,a,n)},l.sendTourKeyPressNextEvent=function(){var e=l.TELEMETRY_CATEGORY.HOMEPAGE_TOUR,t=l.actionType.UI.HP_TOUR_KEY_PRESS_NEXT,a=A.PRODUCT_LABEL,n=l.getCustomDimensionValues();l.send(e,t,a,n)},l.sendTourFinishedEvent=function(){var e=l.TELEMETRY_CATEGORY.HOMEPAGE_TOUR,t=l.actionType.UI.HP_TOUR_COMPLETED,a=A.PRODUCT_LABEL,n=l.getCustomDimensionValues();l.send(e,t,a,n)},l.sendTourTriggeredByUserEvent=function(){var e=l.TELEMETRY_CATEGORY.HOMEPAGE_TOUR,t=l.actionType.UI.HP_TOUR_TRIGGERED_BY_USER,a=A.PRODUCT_LABEL,n=l.getCustomDimensionValues();l.send(e,t,a,n)},l.sendTourTriggeredAutomaticallyEvent=function(){var e=l.TELEMETRY_CATEGORY.HOMEPAGE_TOUR,t=l.actionType.UI.HP_TOUR_TRIGGERED_AUTOMATICALLY,a=A.PRODUCT_LABEL,n=l.getCustomDimensionValues();l.send(e,t,a,n)},l.sendTwitterSectionToggleEvent=e=>{var t=l.TELEMETRY_CATEGORY.EXT_HOME_PAGE.TWITTER_FEED,e=e?l.actionType.UI.TWITTER_SECTION_SHOWN:l.actionType.UI.TWITTER_SECTION_HIDDEN,a=A.PRODUCT_LABEL,n=l.getCustomDimensionValues();l.send(t,e,a,n)},l.sendSecurityCenterSectionToggleEvent=e=>{var t=l.TELEMETRY_CATEGORY.EXT_HOME_PAGE.SECURITY_CENTER_NEWS_FEED,e=e?l.actionType.UI.SECURITY_CENTER_SECTION_SHOWN:l.actionType.UI.SECURITY_CENTER_SECTION_HIDDEN,a=A.PRODUCT_LABEL,n=l.getCustomDimensionValues();l.send(t,e,a,n)},l.send=function(e,t,a,n){this.checkStringIsValid(e),this.checkStringIsValid(t),this.checkStringIsValid(a);var i={};if(i[c.parameters.CAMPAIGN_SOURCE]=E.getPartnerId(),i[c.parameters.CAMPAIGN_MEDIUM]=E.getCampaignMedium(),i[c.parameters.HIT_TYPE]=c.HIT_TYPE.EVENT,i[c.parameters.CATEGORY]=e,i[c.parameters.ACTION]=t,i[c.parameters.LABEL]=a,T(n))for(var r in n){var s=n[r];i[r]=s}(_.telemetry||_.telemetryProxy).send(i)},l.sendTwitterFeedClickEvent=function(t,a){if(!S(a)){var n=l.TELEMETRY_CATEGORY.EXT_HOME_PAGE.TWITTER_FEED,i=l.actionType.CLICK_EVENT,r=A.PRODUCT_LABEL;let e=l.getCustomDimensionValues();(e=S(e)?{}:e)[c.parameters.CUSTOM_DIMENSION7]=t,e[c.parameters.CUSTOM_DIMENSION8]=a,l.send(n,i,r,e)}},l.sendSecurityCenterNewsFeedClickEvent=function(t,a){if(!S(a)){var n=l.TELEMETRY_CATEGORY.EXT_HOME_PAGE.SECURITY_CENTER_NEWS_FEED,i=l.actionType.CLICK_EVENT,r=A.PRODUCT_LABEL;let e=l.getCustomDimensionValues();(e=S(e)?{}:e)[c.parameters.CUSTOM_DIMENSION7]=t,e[c.parameters.CUSTOM_DIMENSION8]=a,l.send(n,i,r,e)}},l.sendGoogleAppsPopupShownEvent=function(){var e=l.actionType.UI.GOOGLE_APPS_ICON,t=l.actionType.CLICK_EVENT,a=A.PRODUCT_LABEL;let n=l.getCustomDimensionValues();S(n)&&(n={}),l.send(e,t,a,n)},l.sendMoreGoogleAppsClickEvent=function(){var e=l.actionType.UI.MORE_GOOGLE_APPS,t=l.actionType.CLICK_EVENT,a=A.PRODUCT_LABEL;let n=l.getCustomDimensionValues();S(n)&&(n={}),l.send(e,t,a,n)},l.sendGoogleAppsClickEvent=function(t){if(!S(t)){var a=l.actionType.UI.GOOGLE_APPS,n=l.actionType.CLICK_EVENT,i=A.PRODUCT_LABEL;let e=l.getCustomDimensionValues();(e=S(e)?{}:e)[c.parameters.CUSTOM_DIMENSION18]=t,l.forceSendTelemetry(a,n,i,e)}},l.sendSelfUninstallTelemetry=function(e){var t=c.TELEMETRY_CATEGORY.EXTENSION,a=l.actionType.CONSENT_SELF_REMOVAL,n=A.PRODUCT_LABEL;l.forceSendTelemetry(t,a,n,null,e)},l.getBfwTelemetryObject=function(){if(!T(this._telemetryObj)){var e,t={APPLICATION_NAME:A.PRODUCT_NAME+"_"+_.extensionAdapter.getExtensionId(),APPLICATION_VERSION:A.VERSION,CLIENT_ID:s.init.getClientID(),DATA_SOURCE:c.dataSource.BROWSER_EXTENSION,TRACKING_ID:A.TELEMETRY_TRACKING_ID,USER_LANGUAGE:navigator.language,ANONYMIZE_IP:1,GOOGLE_ANALYTICS_PROTOCOL_VERSION:1,BROWSER_NAME:_.globals.BROWSER},a=new _.Telemetry(c.MESSAGES.SEND_TELEMETRY_TO_BGPROXY,!0),n=(a.clientID=t.CLIENT_ID,{});for(e in t){var i=c.defaultParameters[e];S(i)||S(i.key)||(n[i.key]=t[e])}var r=_.telemetry.constructMessageBody(n);a.defaultParameters=r,a.initialized=!0,this._telemetryObj=a}return this._telemetryObj},l._getParameterList=(e,t,a,n)=>{l.checkStringIsValid(e),l.checkStringIsValid(t),l.checkStringIsValid(a);var i={};if(i[c.parameters.CAMPAIGN_SOURCE]=E.getPartnerId(),i[c.parameters.CAMPAIGN_MEDIUM]=E.getCampaignMedium(),i[c.parameters.HIT_TYPE]=c.HIT_TYPE.EVENT,i[c.parameters.CATEGORY]=e,i[c.parameters.ACTION]=t,i[c.parameters.LABEL]=a,T(n))for(var r in n){var s=n[r];i[r]=s}return i},l.forceSendTelemetryWithAcknowledgement=async function(e,t,a,n,i){e=l._getParameterList(e,t,a,n);return await l.getBfwTelemetryObject().send(e,i)},l.forceSendTelemetry=function(e,t,a,n,i){e=l._getParameterList(e,t,a,n);l.getBfwTelemetryObject().send(e,i)},l.sendVendorMigrationPing=function(){if(!E.getVendorMigrationDone()){var e={[c.parameters.CAMPAIGN_SOURCE]:E.getPartnerId(),[c.parameters.CAMPAIGN_MEDIUM]:E.getCampaignMedium(),[c.parameters.HIT_TYPE]:c.HIT_TYPE.EVENT,[c.parameters.CATEGORY]:c.TELEMETRY_CATEGORY.EXTENSION,[c.parameters.ACTION]:l.actionType.VENDOR_MIGRATION,[c.parameters.LABEL]:A.PRODUCT_LABEL},t=l.getCustomDimensionValues();if(T(t))for(var a in t){var n=t[a];e[a]=n}l.getBfwTelemetryObject().send(e),E.setVendorMigrationDone(!0)}},l.sendCustomQuickLinkTriggeredEvent=e=>{var t=l.TELEMETRY_CATEGORY.EXT_HOME_PAGE.CUSTOM_QUICK_LINK,e=l.actionType.CLICK_EVENT+"-"+e,a=A.PRODUCT_LABEL,n=l.getCustomDimensionValues();l.send(t,e,a,n)},l.sendCustomChickletEventCompletion=(e,t)=>{var a=l.TELEMETRY_CATEGORY.EXT_HOME_PAGE.CUSTOM_QUICK_LINK,e=l.actionType.UI.CUSTOM_QUICKLINK_USER_EVENT_COMPLETION+"-"+e,n=A.PRODUCT_LABEL;let i=l.getCustomDimensionValues();(i=S(i)?{}:i)[c.parameters.CUSTOM_DIMENSION1]=t,l.send(a,e,n,i)},l.sendCustomQuickLinkFailureEvent=(e,t)=>{var a=l.TELEMETRY_CATEGORY.EXT_HOME_PAGE.CUSTOM_QUICK_LINK,n=l.actionType.UI.CUSTOM_QUICKLINK_USER_EVENT_FAILURE,e=A.PRODUCT_LABEL+"-"+e;let i=l.getCustomDimensionValues();S(i)&&(i={}),T(t)&&(i[c.parameters.CUSTOM_DIMENSION1]=t),l.send(a,n,e,i)},l.sendChickletTourShownTelemetry=function(){var e=l.TELEMETRY_CATEGORY.EXT_HOME_PAGE.CUSTOM_QUICK_LINK,t=l.actionType.CHICKLET_TOUR_SHOWN,a=A.PRODUCT_LABEL,n=l.getCustomDimensionValues();l.send(e,t,a,n)},l.sendChickletTourFinishedTelemetry=function(){var e=l.TELEMETRY_CATEGORY.EXT_HOME_PAGE.CUSTOM_QUICK_LINK,t=l.actionType.CHICKLET_TOUR_COMPLETED,a=A.PRODUCT_LABEL,n=l.getCustomDimensionValues();l.send(e,t,a,n)},l.sendCreditCardTelemetryNetworkRequests=function(e,t,a,n){var i=l.TELEMETRY_CATEGORY.CREDIT_CARD_TELEMETRY,r=l.actionType.CREDIT_CARD_TELEMETRY_NETWORK_REQUEST;let s=l.getCustomDimensionValues();(s=S(s)?{}:s)[c.parameters.CUSTOM_DIMENSION7]=e,s[c.parameters.CUSTOM_DIMENSION8]=t,s[c.parameters.CUSTOM_DIMENSION9]=a,l.send(i,r,n,s)},l.sendCreditCardTelemetry=function(e,t,a){var n=l.TELEMETRY_CATEGORY.CREDIT_CARD_TELEMETRY,i=l.actionType.CREDIT_CARD_TELEMETRY_PAGE_DETAILS;let r=l.getCustomDimensionValues();(r=S(r)?{}:r)[c.parameters.CUSTOM_DIMENSION7]=e,r[c.parameters.CUSTOM_DIMENSION8]=t,l.send(n,i,a,r)},l.sendWeatherWidgetClickEvent=function(){var e=l.TELEMETRY_CATEGORY.EXT_HOME_PAGE.WEATHER_WIDGET,t=l.actionType.CLICK_EVENT,a=A.PRODUCT_LABEL,n=l.getCustomDimensionValues();l.send(e,t,a,n)},l.sendSettingsToggleTelemetry=function(e,t){var a=l.TELEMETRY_CATEGORY.EXT_HOME_PAGE.SETTINGS_MODAL,e=e+"_"+t,t=A.PRODUCT_LABEL,n=l.getCustomDimensionValues();l.send(a,e,t,n)},l.sendHomePageTourGotItClick=function(){var e=l.TELEMETRY_CATEGORY.EXT_HOME_PAGE.TOUR_MODAL,t=l.actionType.HP_TOUR_GOT_IT_CLICK,a=A.PRODUCT_LABEL,n=l.getCustomDimensionValues();l.send(e,t,a,n)},l.sendHomePageTourCloseClick=function(){var e=l.TELEMETRY_CATEGORY.EXT_HOME_PAGE.TOUR_MODAL,t=l.actionType.HP_TOUR_CLOSE_CLICK,a=A.PRODUCT_LABEL,n=l.getCustomDimensionValues();l.send(e,t,a,n)},l.sendRestoreToDefaultTelemetry=function(){var e=l.TELEMETRY_CATEGORY.EXT_HOME_PAGE.SETTINGS_MODAL,t=l.actionType.RESTORE_TO_DEFAULT_CLICK,a=A.PRODUCT_LABEL,n=l.getCustomDimensionValues();l.send(e,t,a,n)},l.sendCustomThemeToggleTelemetry=function(e){var t=l.TELEMETRY_CATEGORY.EXT_HOME_PAGE.SETTINGS_MODAL,e=l.actionType.CUSTOM_THEME+"_"+e,a=A.PRODUCT_LABEL,n=l.getCustomDimensionValues();l.send(t,e,a,n)},l.sendBlockPagePromotionTileShown=()=>{var e=l.TELEMETRY_CATEGORY.BLOCKPAGE.PROMOTION_TILE,t=l.actionType.BLOCKPAGE.PROMOTION_TILE_SHOWN,a=A.PRODUCT_LABEL,n=l.getCustomDimensionValues();l.forceSendTelemetry(e,t,a,n)},l.sendBlockPagePromotionTileClick=()=>{var e=l.TELEMETRY_CATEGORY.BLOCKPAGE.PROMOTION_TILE,t=l.actionType.BLOCKPAGE.PROMOTION_TILE_CLICK,a=A.PRODUCT_LABEL,n=l.getCustomDimensionValues();l.forceSendTelemetry(e,t,a,n)},l})(e.SymBfw,e.NSSS)})(executionContext),(e=>{var t={BRAND:"Norton",LICENSE_TYPE:"Free",PLATFORM:"Extn",MISSING:"MISSING",TRUE:"true",FALSE:"false",DEFAULT_EXTENSION_INSTALLATION_STATUS:"free",AT_INSTALLATION_STATUS_CUSTOMDIMENSION:"cd5",AT_ENABLED_STATUS_CUSTOMDIMENSION:"cd6",TELEMETRY_CATEGORY:{SEARCH:"search",POPUP_UI:"popupui",HOMEPAGE_TOUR:"homepage_tour",SCAM_INSIGHT:"Scam_Insight",FORMJACK_TOUR:"formjack_tour",FORMJACK_BLOCK_PAGE:"formjack_block_page",EXT_SETTINGS_PAGE:"settings_page",URL_REPUTATION:"url_reputation",BLOCKPAGE:{knownbad:"antiphishing",suspectedbad:"regional_block",IPS:"ips",malicious:"dangerous",maliciousshop:"dangerous",scam:"scamInsight",redirect:"redirect",FORMJACKING:"Formjacking",PROMOTION_TILE:"promotion_tile"},EXT_HOME_PAGE:{CUSTOM_QUICK_LINK:"customQuickLink",QUICKLINK:"quicklink",QUICK_LINK_CATEGORY:{ADM_DEFAULT_DOMAIN:"admDefaultDomain",ADM_CACHED_DOMAIN:"admCachedDomain",ADM_DOMAIN:"admDomain",AFFINITY_DOMAIN:"affinityDomain",STATIC_DOMAIN:"staticDomain"},QUICK_LINK_CHICKLET_TYPE:{CUSTOM:"custom",MOST_VISITED_SITE:"most_visited_site",AD_LINKS:"adLinks"},AUTO_SUGGEST:"autosuggest",SEARCH:"search",PAGE_VIEW:"hp_pageview",TOUR_MODAL:"tour_modal",WEATHER_WIDGET:"weather_widget"},DOWNLOAD_BLOCK:"download_block",GOOGLE_APPS:"google-apps",GOOGLE_APPS_ICON:"google-apps-icon",MORE_GOOGLE_APPS:"more-google-apps",SEARCH_ENTITLEMENTS:"searchEntitlements",CREDIT_CARD_TELEMETRY:"creditCardTelemetry",KEEP_ASSIST_UI:"keep_assist_ui",NEW_TAB_PAGE:"ntp",SW_NOTIFICATION:"sw_notification"},TELEMETRY_ACTION:{CLICK_EVENT:"click",HP_TOUR_GOT_IT_CLICK:"got_it_click",HP_TOUR_CLOSE_CLICK:"close_icon_click",TOUR_TRIGGERED_BY_USER:"tour_triggered_by_user",PAGE_LOAD_EVENT:"page_load",HP_TOUR_KEY_PRESS_CANCEL:"tour_key_press_cancel",HP_TOUR_KEY_PRESS_NEXT:"tour_key_press_next",HP_TOUR_COMPLETED:"hp_tour_completed",RESTORE_TO_DEFAULT_CLICK:"restore_to_default_click",CUSTOM_THEME:"custom_theme",FORMJACKING_SILENT_TELEMETRY:"Formjacking_silent_telemetry",UI:{SHOW_POPUP_UI:"show_popup_ui",SCAM_INSIGHT_CONTINUE_TO_SITE:"scam_insight_continue_to_site",SCAM_INSIGHT_REPORT_ISSUE:"scam_insight_report_issue",FORMJACKING_CONTINUE_TO_SITE:"Formjacking_continue_to_site",FORMJACK_BLOCK_PAGE_TECH_DETAILS_CLICKED:"formjack_block_page_tech_details_clicked",FORMJACK_BLOCK_PAGE_GOT_IT_CLICKED:"formjack_block_page_got_it_clicked",FORMJACK_BLOCK_PAGE_EXIT_CLICKED:"formjack_block_page_exit_clicked",FORMJACK_TOUR_UI_LEARN_MORE_CLICKED:"formjack_tour_ui_learn_more_clicked",FORMJACK_BLOCK_PAGE_LEARN_MORE_CLICKED:"formjack_block_page_learn_more_clicked",CUSTOM_QUICKLINK_USER_EVENT_COMPLETION:"custom-quicklink-user-event-completion",CUSTOM_QUICKLINK_USER_EVENT_FAILURE:"custom-quicklink-user-event-failure",FORMJACK_TOUR_NEW_USER_UI_CLOSED:"formjack_tour_new_user_ui_closed",FORMJACK_TOUR_EXISTING_USER_UI_CLOSED:"formjack_tour_existing_user_ui_closed",FORMJACK_TOUR_NEW_USER_UI_SHOWN:"formjack_tour_new_user_ui_shown",FORMJACK_TOUR_EXISTING_USER_UI_SHOWN:"formjack_tour_existing_user_ui_shown"},PAGE:{FORMJACKING_BLOCK_PAGE_SHOWN:"Formjacking_block_page_shown",SCAM_INSIGHT_PAGE_DISPLAYED:"scam_insight_page_displayed"},BLOCKPAGE:{BLOCK_PAGE_SHOWN:"block_page_shown",CONTINUE_TO_SITE:"continue_to_site_clicked",EXIT_BLOCK_PAGE:"exit_block_page",PROMOTION_TILE_CLICK:"promotion_tile_click",PROMOTION_TILE_SHOWN:"promotion_tile_shown"},SEARCH:{BLOCKEDPAGE_SEARCH_QUERY:"blockedPage_search_query",SEARCH_QUERY:"search_query",ACTION_CLICKED:"action_clicked",DEFAULT_SEARCH:"ds",DEFAULT_HOMEPAGE:"dhp",UI_SEARCH_QUERY:"ui_search_query"},CREDIT_CARD_TELEMETRY_NETWORK_REQUEST:"networkRequest",CREDIT_CARD_TELEMETRY_PAGE_DETAILS:"pageDetails",KEEP_ASSIST_UI_SHOWN:"keep_assist_shown",NTP_DS_PROMOTION_BANNER:{SHOWN:"ntp_ds_promotion_banner_shown",CLOSED:"ntp_ds_promotion_banner_closed",INSTALL_CLICKED:"ntp_ds_promotion_banner_install_clicked",INSTALLED:"ntp_ds_promotion_banner_installed"},NTP_DS_OVERLAY:{SHOWN:"ntp_ds_overlay_shown",INSTALL_CLICKED:"ntp_ds_overlay_install_clicked",INSTALLED:"ntp_ds_overlay_installed"},SW_NOTIFICATION_POPUP:{INSTALL_CLICKED:"sw_notification_popup_install_clicked",CLOSE_CLICKED:"sw_notification_popup_close_clicked"}},TELEMETRY_TYPE:{SETTINGS_CHANGE:"settings_change",FORMJACKING_BLOCK_TYPE:{PAGE:"page",IFRAME:"iframe",SUBMISSION:"submission"},POPUP_UI:{SHOW:"show_popup_ui"},CUSTOM_QUICKLINK_URL:"custom_quicklink_url",HP_LOCATION_INFO:"hp_location_info",ENGLISH_HOME_PAGE_SHOWN:"english_only_hp_shown",MALICIOUS_DOWNLOAD_URL:"malicious_download_url",DS_HP_ENABLEMENT_STATUS:"ds_hp_enablement_status",TILES_API_FAILURE:"tiles_api_query_failed",UI_SEARCH_QUERY:"ui_search_query",CREDIT_CARD_PAGE_DATA:"credit_card_page_data",FORMJACK_TOUR_CLOSED_DATA:"formjack_tour_closed",FORMJACK_TOUR_UI_DISPLAYED:"formjack_tour_displayed",KEEP_ASSIST_UI_DATA:"keep_assist-ui",DS_PROMOTION_BANNER:"ds_promotion_banner",DS_PROMOTION_OVERLAY:"ds_promotion_overlay"},TELEMETRY_PAGE_INFO:{HP_TOUR_TRIGGERED_AUTOMATICALLY:"hp_tour_triggered_automatically",HP_PAGE_LOAD:"hp_page_load",SW_NOTIFICATION_POPUP:{DS_INSTALLED_SHOWN:"sw_notification_popup_ds_installed_shown",DS_NOT_INSTALLED_SHOWN:"sw_notification_popup_ds_not_installed_shown"}},TELEMETRY_FORM_TYPE:{MAIN_FRAME:"main_frame",SUB_FRAME:"sub_frame"},QUEUE_STORAGE_KEY:"07507215-D63A-4C6E-AFA9-C0CE5F87B75E",TRACKINGSERVER_STORAGE_CONTAINER:"07104AC8-1FD1-42B6-8578-213974CDEF70",DEFAULT_INSTALLATION_PAGE_URL:"defaultwebstore",LOG_ERROR_WARNING_ID:"99582520-7C40-473A-B865-5BF70C7E4C36",NTP_DS_PROMOTION_BANNER_STATUS_KEY:"ntp_ds_promotion_banner_status"};(e.NSSS=e.NSSS||{}).telemetryTrackerConstants=t})(executionContext),(e=>{let{logger:n,settings:t,utils:{isNil:i}}=SymBfw,r=NSSS.telemetryTrackerConstants;(e.NSSS=e.NSSS||{}).trackerStorageSettings=new class{constructor(){this.trackerStorageSettingsContainer=null}async initialize(){return new Promise(a=>{t.loadSettingsContainer(r.TRACKINGSERVER_STORAGE_CONTAINER,!0,(e,t)=>{!1===e||i(t)?(n.error("failed to load TRACKINGSERVER_STORAGE_CONTAINER"),a(!1)):(this.trackerStorageSettingsContainer=t,a(!0))})})}get(e){if(!i(this.trackerStorageSettingsContainer))return this.trackerStorageSettingsContainer.getObject(e);n.error("settings not initialized")}set(e,t){i(this.trackerStorageSettingsContainer)?n.error("settings not initialized"):this.trackerStorageSettingsContainer.setObject(e,t)}remove(e){i(this.trackerStorageSettingsContainer)?n.error("settings not initialized"):this.trackerStorageSettingsContainer.removeObject(e)}async reset(){await new Promise(e=>{t.resetSettingsCollection(r.TRACKINGSERVER_STORAGE_CONTAINER,e)})}}})(executionContext),(e=>{let{trackerStorageSettings:a,telemetryTrackerConstants:n}=NSSS;(e.NSSS=e.NSSS||{}).trackerEventQueue=new class{addEvent(e){var t=this.getEvents();t.push(e),a.set(n.QUEUE_STORAGE_KEY,t)}getEvents(){var e=a.get(n.QUEUE_STORAGE_KEY);return e||[]}clearEvents(){a.remove(n.QUEUE_STORAGE_KEY)}}})(executionContext),(e=>{let{isNil:_,isntNil:n,isString:s,isFunction:i}=SymBfw.utils,{constants:l,globalSettings:t,trackerStorageSettings:r,telemetryTrackerConstants:T}=NSSS,S=(SymBfw.telemetryConstants,NSSS.uiConstants.BLOCKPAGE.TYPE);(e.NSSS=e.NSSS||{}).telemetryTrackerClient=new class{constructor(){this.trackingServerAnalyticsFacade=null,this.getFallBackValueHelper=this.getFallBackValueHelper.bind(this),this.getDynamicTelemetryParams=this.getDynamicTelemetryParams.bind(this),this.executeWithSafeReturn=this.executeWithSafeReturn.bind(this)}async init(e,t){var a={getDynamicTelemetryParams:this.getDynamicTelemetryParams};this.trackingServerAnalyticsFacade=new trackingServerSDK.TrackingServerAnalyticsFacade(e,t,a),await r.initialize()}async getExtensionInstallationStatus(){let e={};T.DEFAULT_EXTENSION_INSTALLATION_STATUS,T.DEFAULT_EXTENSION_INSTALLATION_STATUS,T.DEFAULT_EXTENSION_INSTALLATION_STATUS,T.DEFAULT_EXTENSION_INSTALLATION_STATUS,T.DEFAULT_EXTENSION_INSTALLATION_STATUS;var t=T.MISSING,a=T.MISSING;try{e=await NSSS.externalCommunication.getHbPingDataForExternalExtensions()}catch(e){console.error("Error fetching external extensions installation status",e)}return{hp_installation_status:e[l.EXTERNAL_EXTENSION_COMMUNICATION_DETAILS.hp.custom_dimension]?await e[l.EXTERNAL_EXTENSION_COMMUNICATION_DETAILS.hp.custom_dimension]():T.MISSING,sw_installation_status:e[l.EXTERNAL_EXTENSION_COMMUNICATION_DETAILS.sw.custom_dimension]?await e[l.EXTERNAL_EXTENSION_COMMUNICATION_DETAILS.sw.custom_dimension]():T.MISSING,ds_installation_status:e[l.EXTERNAL_EXTENSION_COMMUNICATION_DETAILS.ds.custom_dimension]?await e[l.EXTERNAL_EXTENSION_COMMUNICATION_DETAILS.ds.custom_dimension]():T.MISSING,mnet_installation_status:e[l.EXTERNAL_EXTENSION_COMMUNICATION_DETAILS["media-dot-net"].custom_dimension]?await e[l.EXTERNAL_EXTENSION_COMMUNICATION_DETAILS["media-dot-net"].custom_dimension]():T.MISSING,threeinone_installation_status:e[l.EXTERNAL_EXTENSION_COMMUNICATION_DETAILS["three-in-one"].custom_dimension]?await e[l.EXTERNAL_EXTENSION_COMMUNICATION_DETAILS["three-in-one"].custom_dimension]():T.MISSING,at_installation_status:t,at_enablement_status:a}}async getDynamicTelemetryParams(){var e=await NSSS.telemetryTrackerClient.executeWithSafeReturn(NSSS.helperUtils.getBrowserThemeForHbPing,!0),{hp_installation_status:t,sw_installation_status:a,ds_installation_status:n,media_dot_net_installation_status:i,threeinone_installation_status:r,at_installation_status:s,at_enablement_status:o}=await this.getExtensionInstallationStatus();let E=T.MISSING,_=T.MISSING;NSSS.uiConstants.EXTENSION_TYPE!==NSSS.uiConstants.SAFEWEB_EXTENSION&&(_=await NSSS.NSSSHelper.getTrackValue(),E=await(NSSS.helperUtils.isHP()?NSSS.telemetryTrackerClient.executeWithSafeReturn(NSSS.customDarkModeManager.getThemeForTelemetryTracker):NSSS.telemetryTrackerClient.executeWithSafeReturn(NSSS.helperUtils.getCustomThemeForHbPing)));e={extension_theme:E,browser_theme:e,partner_id:NSSS.telemetryTrackerClient.getFallBackValueHelper(NSSS.globalSettings.getPartnerId()),partner_unit_id:NSSS.telemetryTrackerClient.getFallBackValueHelper(NSSS.globalSettings.getPUID()),campaign_code:NSSS.telemetryTrackerClient.getFallBackValueHelper(NSSS.NSSSHelper.getCampaignCode()),install_source:NSSS.telemetryTrackerClient.getFallBackValueHelper(NSSS.NSSSHelper.getInstallSource()),test_track_info:_,hp_installation_status:NSSS.telemetryTrackerClient.getFallBackValueHelper(t),sw_installation_status:NSSS.telemetryTrackerClient.getFallBackValueHelper(a),ds_installation_status:NSSS.telemetryTrackerClient.getFallBackValueHelper(n),mnet_installation_status:NSSS.telemetryTrackerClient.getFallBackValueHelper(i),at_installation_status:NSSS.telemetryTrackerClient.getFallBackValueHelper(s),at_enablement_status:NSSS.telemetryTrackerClient.getFallBackValueHelper(o),threeinone_installation_status:NSSS.telemetryTrackerClient.getFallBackValueHelper(r)};return NSSS.helperUtils.isHP()&&(t=NSSS.telemetryTrackerClient.getFallBackValueHelper(NSSS.globalSettings.getNewTabPageDSPromotionBannerStatus()),e[T.NTP_DS_PROMOTION_BANNER_STATUS_KEY]=t),e}getTrackingServerAnalyticsFacadeInstance(){return this.trackingServerAnalyticsFacade}checkStringIsValid(e){if(!s(e))throw new Error(e+" must be of type string")}getFallBackValueHelper(e){return null==e?T.MISSING:e}async executeWithSafeReturn(e,t=!1){if(i(e))try{var a=t?await e():e();return this.getFallBackValueHelper(a)}catch(e){console.error("An error occurred initializing TelemetryTrackerClient:",e)}else console.error("fn must be a function");return T.MISSING}async getSuperParams(){var e=l.PRODUCT_NAME+"_"+SymBfw.extensionAdapter.getExtensionId(),t=this.getFallBackValueHelper(NSSS.globalSettings.getInstallDate()),a=this.getFallBackValueHelper(NSSS.globalSettings.getInstallationPageURL()),n=this.getFallBackValueHelper(NSSS.globalSettings.getPartnerId()),i=this.getFallBackValueHelper(NSSS.globalSettings.getPUID()),r=this.getFallBackValueHelper(NSSS.NSSSHelper.getInstallSource()),s=this.getFallBackValueHelper(NSSS.NSSSHelper.getCampaignCode()),o=this.getFallBackValueHelper(NSSS.NSSSHelper.getLayoutType());let E=T.MISSING,_=T.MISSING;return NSSS.uiConstants.EXTENSION_TYPE!==NSSS.uiConstants.SAFEWEB_EXTENSION&&(E=this.getFallBackValueHelper(NSSS.NSSSHelper.getWeekOfInstall()),_=await this.executeWithSafeReturn(NSSS.NSSSHelper.getExtensionInstallType,!0)),{app_id:SymBfw.extensionAdapter.getExtensionId(),app_name:e,app_version:l.VERSION,brand:T.BRAND,guid:NSSS.init.getClientID(),license_type:T.LICENSE_TYPE,extension_type:NSSS.uiConstants.EXTENSION_TYPE,layout_type:o,install_type:_,install_source:r,platform:T.PLATFORM,partner_id:n,partner_unit_id:i,installation_page_url:a||T.DEFAULT_INSTALLATION_PAGE_URL,week_of_installation:E,date_of_installation:t,campaign_code:s,environment:NSSS.constants.BUILD_CONFIG,build_type:NSSS.constants.BUILD_CONFIG}}async sendExtensionInstall(){var e={event:trackingServerSDK.TelemetryEventNames.extnInstall};this.trackingServerAnalyticsFacade.sendEvent(e)}async sendExtensionUpdate(){var e={event:trackingServerSDK.TelemetryEventNames.extnUpdate};this.trackingServerAnalyticsFacade.sendEvent(e)}async sendTourTriggeredByUserEvent(){var e={event:trackingServerSDK.TelemetryEventNames.extnClick,category:T.TELEMETRY_CATEGORY.HOMEPAGE_TOUR,action:T.TELEMETRY_ACTION.TOUR_TRIGGERED_BY_USER,type:T.TELEMETRY_TYPE.SETTINGS_CHANGE};this.trackingServerAnalyticsFacade.sendEvent(e)}async sendRestoreToDefaultTelemetryEvent(){var e={event:trackingServerSDK.TelemetryEventNames.extnFeatureStatus,category:T.TELEMETRY_TYPE.SETTINGS_CHANGE,state:T.TELEMETRY_ACTION.RESTORE_TO_DEFAULT_CLICK};this.trackingServerAnalyticsFacade.sendEvent(e)}sendSettingsToggleTelemetry(e,t){e=e+"_"+t,t={event:trackingServerSDK.TelemetryEventNames.extnFeatureStatus,category:T.TELEMETRY_TYPE.SETTINGS_CHANGE,state:e};this.trackingServerAnalyticsFacade.sendEvent(t)}async sendCustomThemeToggleTelemetry(e){e=T.TELEMETRY_ACTION.CUSTOM_THEME+"_"+e,e={event:trackingServerSDK.TelemetryEventNames.extnFeatureStatus,category:T.TELEMETRY_TYPE.SETTINGS_CHANGE,state:e};this.trackingServerAnalyticsFacade.sendEvent(e)}async sendFormjackBlockPageTechDetailsClicked(){var e={event:trackingServerSDK.TelemetryEventNames.extnClick,category:T.TELEMETRY_CATEGORY.FORMJACK_BLOCK_PAGE,action:T.TELEMETRY_ACTION.UI.FORMJACK_BLOCK_PAGE_TECH_DETAILS_CLICKED,type:T.TELEMETRY_TYPE.FORMJACKING_BLOCK_TYPE.PAGE};this.trackingServerAnalyticsFacade.sendEvent(e)}async sendFormjackGotItClicked(){var e={event:trackingServerSDK.TelemetryEventNames.extnClick,category:T.TELEMETRY_CATEGORY.URL_REPUTATION,action:T.TELEMETRY_ACTION.UI.FORMJACK_BLOCK_PAGE_GOT_IT_CLICKED,type:T.TELEMETRY_TYPE.FORMJACKING_BLOCK_TYPE.PAGE};this.trackingServerAnalyticsFacade.sendEvent(e)}async sendFormjackBlockPageExitClicked(){var e={event:trackingServerSDK.TelemetryEventNames.extnClick,category:T.TELEMETRY_CATEGORY.FORMJACK_BLOCK_PAGE,action:T.TELEMETRY_ACTION.UI.FORMJACK_BLOCK_PAGE_EXIT_CLICKED,type:T.TELEMETRY_TYPE.FORMJACKING_BLOCK_TYPE.PAGE};this.trackingServerAnalyticsFacade.sendEvent(e)}async sendFormjackBlockPageTelemetry(e,t=!1){return this.sendFormjackTelemetry(e,t,!1)}async sendFormjackSilentTelemetry(e){return this.sendFormjackTelemetry(e,!1,!0)}async sendFormjackTelemetry(a,n=!1,i=!1){if(a){var r=a.originalURL;if(s(r)){let t=null;try{t=SymBfw.utils.urlWithoutQueryParameters(r,!0)}catch(e){SymBfw.logger.debug("Failed to get URL without params"),t=SymBfw.utils.getDomain(r)}if(s(t)){r=i?T.TELEMETRY_ACTION.FORMJACKING_SILENT_TELEMETRY:n?T.TELEMETRY_ACTION.UI.FORMJACKING_CONTINUE_TO_SITE:T.TELEMETRY_ACTION.PAGE.FORMJACKING_BLOCK_PAGE_SHOWN;let e={event:trackingServerSDK.TelemetryEventNames.extnClick,category:T.TELEMETRY_CATEGORY.URL_REPUTATION,action:r,blockedURL:a.blockedDomain,domain:t};n||(e={event:trackingServerSDK.TelemetryEventNames.extnPageview,category:T.TELEMETRY_CATEGORY.URL_REPUTATION,page:r,blockedURL:a.blockedDomain,pageurl:t}),this.trackingServerAnalyticsFacade.sendEvent(e)}}}}async sendShowPopupUIEvent(e){if(_(e))throw new Error("Page URL cannot be null");var t=new URI(e).pathname(),t={event:trackingServerSDK.TelemetryEventNames.extnCollect,category:T.TELEMETRY_CATEGORY.POPUP_UI,action:T.TELEMETRY_ACTION.UI.SHOW_POPUP_UI,type:t,pageurl:e};this.trackingServerAnalyticsFacade.sendEvent(t)}async sendBlockedPageSearchEvent(){var e={event:trackingServerSDK.TelemetryEventNames.extnCollect,category:T.TELEMETRY_CATEGORY.SEARCH,action:T.TELEMETRY_ACTION.SEARCH.BLOCKEDPAGE_SEARCH_QUERY,type:T.TELEMETRY_CATEGORY.SEARCH};this.trackingServerAnalyticsFacade.sendEvent(e)}async sendScamBlockPageVisitedEvent(t){this.checkStringIsValid(t);let a=null;try{a=SymBfw.utils.urlWithoutQueryParameters(t,!0)}catch(e){SymBfw.logger.debug("Failed to get URL without params"),a=Sym,Bfw.utils.getDomain(t)}if(_(a))return null;t={event:trackingServerSDK.TelemetryEventNames.extnCollect,category:T.TELEMETRY_CATEGORY.SCAM_INSIGHT,action:T.TELEMETRY_ACTION.PAGE.SCAM_INSIGHT_PAGE_DISPLAYED,type:T.TELEMETRY_CATEGORY.SCAM_INSIGHT,pageurl:a};this.trackingServerAnalyticsFacade.sendEvent(t)}async sendScamContinueToSiteEvent(e){this.checkStringIsValid(e);e=SymBfw.utils.urlWithoutQueryParameters(e,!0),e={event:trackingServerSDK.TelemetryEventNames.extnCollect,category:T.TELEMETRY_CATEGORY.SCAM_INSIGHT,action:T.TELEMETRY_ACTION.UI.SCAM_INSIGHT_CONTINUE_TO_SITE,type:T.TELEMETRY_CATEGORY.SCAM_INSIGHT,pageurl:e};this.trackingServerAnalyticsFacade.sendEvent(e)}async sendScamReportIssueEvent(){var e={event:trackingServerSDK.TelemetryEventNames.extnClick,category:T.TELEMETRY_CATEGORY.SCAM_INSIGHT,action:T.TELEMETRY_ACTION.UI.SCAM_INSIGHT_REPORT_ISSUE};this.trackingServerAnalyticsFacade.sendEvent(e)}async sendSettingsPageLoadEvent(){var e={event:trackingServerSDK.TelemetryEventNames.extnPageview,category:T.TELEMETRY_CATEGORY.EXT_SETTINGS_PAGE,action:T.TELEMETRY_ACTION.PAGE_LOAD_EVENT,page:T.TELEMETRY_CATEGORY.EXT_SETTINGS_PAGE};this.trackingServerAnalyticsFacade.sendEvent(e)}async sendBlockPageTelemetry(e,t,a,n=!1,i=!1){if(_(e)||_(t))throw new Error("URL or blockPageType cannot be null");var e=SymBfw.utils.urlWithoutQueryParameters(e,!0),r=t===S.KNOWNBAD?"fraudulent":"suspicious",s=!0===a?T.TELEMETRY_ACTION.BLOCKPAGE.CONTINUE_TO_SITE:T.TELEMETRY_ACTION.BLOCKPAGE.BLOCK_PAGE_SHOWN,t=T.TELEMETRY_CATEGORY.BLOCKPAGE[t],s=i?T.TELEMETRY_ACTION.BLOCKPAGE.EXIT_BLOCK_PAGE:s;let o=t===T.TELEMETRY_CATEGORY.BLOCKPAGE.knownbad?r+"_"+s:t+"_"+s,E=(!0===n&&(o=T.TELEMETRY_CATEGORY.BLOCKPAGE.redirect+"_"+o),{event:trackingServerSDK.TelemetryEventNames.extnClick,category:T.TELEMETRY_CATEGORY.URL_REPUTATION,action:o,domain:e});a||n||i||(E={event:trackingServerSDK.TelemetryEventNames.extnPageview,category:T.TELEMETRY_CATEGORY.URL_REPUTATION,page:o,pageurl:e}),this.trackingServerAnalyticsFacade.sendEvent(E)}async sendBlockPagePromotionTileShown(){var e={event:trackingServerSDK.TelemetryEventNames.extnCollect,category:T.TELEMETRY_CATEGORY.BLOCKPAGE.PROMOTION_TILE,action:T.TELEMETRY_ACTION.BLOCKPAGE.PROMOTION_TILE_SHOWN,type:T.TELEMETRY_CATEGORY.BLOCKPAGE.PROMOTION_TILE};this.trackingServerAnalyticsFacade.forceSendImmediate(e)}async sendDefaultSearchEvent(){var e={event:trackingServerSDK.TelemetryEventNames.extnCollect,category:T.TELEMETRY_CATEGORY.SEARCH,action:T.TELEMETRY_ACTION.SEARCH.SEARCH_QUERY,type:T.TELEMETRY_CATEGORY.SEARCH};this.trackingServerAnalyticsFacade.sendEvent(e)}async sendBlockPagePromotionTileClick(){var e={event:trackingServerSDK.TelemetryEventNames.extnClick,category:T.TELEMETRY_CATEGORY.BLOCKPAGE.PROMOTION_TILE,action:T.TELEMETRY_ACTION.BLOCKPAGE.PROMOTION_TILE_CLICK};this.trackingServerAnalyticsFacade.forceSendImmediate(e)}sendTourTriggeredAutomaticallyEvent(){var e={event:trackingServerSDK.TelemetryEventNames.extnPageview,category:T.TELEMETRY_CATEGORY.HOMEPAGE_TOUR,page:T.TELEMETRY_PAGE_INFO.HP_TOUR_TRIGGERED_AUTOMATICALLY};this.trackingServerAnalyticsFacade.sendEvent(e)}sendCustomChickletEventCompletion(e,t){e={event:trackingServerSDK.TelemetryEventNames.extnCollect,category:T.TELEMETRY_CATEGORY.EXT_HOME_PAGE.CUSTOM_QUICK_LINK,action:T.TELEMETRY_ACTION.UI.CUSTOM_QUICKLINK_USER_EVENT_COMPLETION+"-"+e,type:T.TELEMETRY_TYPE.CUSTOM_QUICKLINK_URL,pageurl:t};this.trackingServerAnalyticsFacade.sendEvent(e)}sendTourFinishedEvent(){var e={event:trackingServerSDK.TelemetryEventNames.extnCollect,category:T.TELEMETRY_CATEGORY.HOMEPAGE_TOUR,action:T.TELEMETRY_ACTION.HP_TOUR_COMPLETED,type:""};this.trackingServerAnalyticsFacade.sendEvent(e)}sendTourKeyPressCancelEvent(){var e={event:trackingServerSDK.TelemetryEventNames.extnClick,category:T.TELEMETRY_CATEGORY.HOMEPAGE_TOUR,action:T.TELEMETRY_ACTION.HP_TOUR_KEY_PRESS_CANCEL};this.trackingServerAnalyticsFacade.sendEvent(e)}sendTourKeyPressNextEvent(){var e={event:trackingServerSDK.TelemetryEventNames.extnClick,category:T.TELEMETRY_CATEGORY.HOMEPAGE_TOUR,action:T.TELEMETRY_ACTION.HP_TOUR_KEY_PRESS_NEXT};this.trackingServerAnalyticsFacade.sendEvent(e)}sendCustomQuickLinkTriggeredEvent(e){e={event:trackingServerSDK.TelemetryEventNames.extnClick,category:T.TELEMETRY_CATEGORY.EXT_HOME_PAGE.CUSTOM_QUICK_LINK,action:T.TELEMETRY_ACTION.CLICK_EVENT+"-"+e};this.trackingServerAnalyticsFacade.sendEvent(e)}sendCustomQuickLinkFailureEvent(e,t){e={event:trackingServerSDK.TelemetryEventNames.extnCollect,category:T.TELEMETRY_CATEGORY.EXT_HOME_PAGE.CUSTOM_QUICK_LINK,action:T.TELEMETRY_ACTION.UI.CUSTOM_QUICKLINK_USER_EVENT_FAILURE+"-"+e,type:""};n(t)&&(e.pageurl=t),this.trackingServerAnalyticsFacade.sendEvent(e)}sendHomePageSearchSuggestionClickedEvent(){var e={event:trackingServerSDK.TelemetryEventNames.extnClick,category:T.TELEMETRY_CATEGORY.EXT_HOME_PAGE.AUTO_SUGGEST,action:T.TELEMETRY_ACTION.CLICK_EVENT};this.trackingServerAnalyticsFacade.sendEvent(e)}sendHomePageSearchButtonClickedEvent(){var e={event:trackingServerSDK.TelemetryEventNames.extnClick,category:T.TELEMETRY_CATEGORY.EXT_HOME_PAGE.SEARCH,action:T.TELEMETRY_ACTION.CLICK_EVENT};this.trackingServerAnalyticsFacade.sendEvent(e)}sendHomePageLoadEvent(e=0,t=0,a){e={event:trackingServerSDK.TelemetryEventNames.extnPageview,category:T.TELEMETRY_CATEGORY.EXT_HOME_PAGE.PAGE_VIEW,page:T.TELEMETRY_PAGE_INFO.HP_PAGE_LOAD,resolution:e+"x"+t,ql:a};this.trackingServerAnalyticsFacade.sendEvent(e)}sendEnglishOnlyHomePageShownEvent(e,t){e=`timeInSec=${e}s-searchCount=`+t,t={event:trackingServerSDK.TelemetryEventNames.extnOther,info:T.TELEMETRY_TYPE.ENGLISH_HOME_PAGE_SHOWN,moreinfo:e};this.trackingServerAnalyticsFacade.sendEvent(t)}sendHomePageTourGotItClick(){var e={event:trackingServerSDK.TelemetryEventNames.extnClick,category:T.TELEMETRY_CATEGORY.EXT_HOME_PAGE.TOUR_MODAL,action:T.TELEMETRY_ACTION.HP_TOUR_GOT_IT_CLICK};this.trackingServerAnalyticsFacade.sendEvent(e)}sendHomePageTourCloseClick(){var e={event:trackingServerSDK.TelemetryEventNames.extnClick,category:T.TELEMETRY_CATEGORY.EXT_HOME_PAGE.TOUR_MODAL,action:T.TELEMETRY_ACTION.HP_TOUR_CLOSE_CLICK};this.trackingServerAnalyticsFacade.sendEvent(e)}sendHomePageChickletClickedEvent(e,t,a){try{this.checkStringIsValid(e)}catch(e){return}a={event:trackingServerSDK.TelemetryEventNames.extnClick,category:a||T.TELEMETRY_CATEGORY.EXT_HOME_PAGE.QUICKLINK,action:T.TELEMETRY_ACTION.CLICK_EVENT,type:e};n(t)&&(a.domain=t),this.trackingServerAnalyticsFacade.sendEvent(a)}sendDownloadBlockTelemetry(t,a,n){if(!_(t)){t=SymBfw.utils.urlWithoutQueryParameters(t,!0),a=(a?T.TELEMETRY_CATEGORY.BLOCKPAGE.redirect+"_"+T.TELEMETRY_CATEGORY.DOWNLOAD_BLOCK:T.TELEMETRY_CATEGORY.DOWNLOAD_BLOCK)+"_"+T.TELEMETRY_ACTION.BLOCKPAGE.BLOCK_PAGE_SHOWN;let e="";s(n)&&(e=SymBfw.utils.urlWithoutQueryParameters(n,!0));n={event:trackingServerSDK.TelemetryEventNames.extnCollect,category:T.TELEMETRY_CATEGORY.DOWNLOAD_BLOCK,action:a,type:T.TELEMETRY_TYPE.MALICIOUS_DOWNLOAD_URL,pageurl:e,serverurl:t};this.trackingServerAnalyticsFacade.sendEvent(n)}}sendActionClickEvent(){var e={event:trackingServerSDK.TelemetryEventNames.extnClick,category:T.TELEMETRY_CATEGORY.SEARCH,action:T.TELEMETRY_ACTION.SEARCH.ACTION_CLICKED};this.trackingServerAnalyticsFacade.sendEvent(e)}async sendActiveSearchEvent(e){e={event:trackingServerSDK.TelemetryEventNames.extnActiveUsers,count:e};return await this.trackingServerAnalyticsFacade.forceSendImmediate(e)}sendGoogleAppsClickEvent(e){_(e)||(e={event:trackingServerSDK.TelemetryEventNames.extnClick,category:T.TELEMETRY_CATEGORY.GOOGLE_APPS,action:T.TELEMETRY_ACTION.CLICK_EVENT,name:e},this.trackingServerAnalyticsFacade.forceSendImmediate(e))}sendGoogleAppsPopupShownEvent(){var e={event:trackingServerSDK.TelemetryEventNames.extnClick,category:T.TELEMETRY_CATEGORY.GOOGLE_APPS_ICON,action:T.TELEMETRY_ACTION.CLICK_EVENT};this.trackingServerAnalyticsFacade.sendEvent(e)}sendMoreGoogleAppsClickEvent(){var e={event:trackingServerSDK.TelemetryEventNames.extnClick,category:T.TELEMETRY_CATEGORY.MORE_GOOGLE_APPS,action:T.TELEMETRY_ACTION.CLICK_EVENT};this.trackingServerAnalyticsFacade.sendEvent(e)}sendSearchStatus(e,t){e=!_(e)&&e,t=!_(t)&&t,e=T.TELEMETRY_ACTION.SEARCH.DEFAULT_SEARCH+"-"+e+"-"+T.TELEMETRY_ACTION.SEARCH.DEFAULT_HOMEPAGE+"-"+t,t={event:trackingServerSDK.TelemetryEventNames.extnCollect,category:T.TELEMETRY_CATEGORY.SEARCH_ENTITLEMENTS,type:T.TELEMETRY_TYPE.DS_HP_ENABLEMENT_STATUS,action:e};this.trackingServerAnalyticsFacade.sendEvent(t)}sendFormjackProtectionLearnMoreClicked(e){_(e)||(e=e===l.FORMJACK_LEARNMORE_LAUNCH_POINT.FORMJACK_TOUR?T.TELEMETRY_ACTION.UI.FORMJACK_TOUR_UI_LEARN_MORE_CLICKED:T.TELEMETRY_ACTION.UI.FORMJACK_BLOCK_PAGE_LEARN_MORE_CLICKED,e={event:trackingServerSDK.TelemetryEventNames.extnClick,category:T.TELEMETRY_CATEGORY.URL_REPUTATION,action:e},this.trackingServerAnalyticsFacade.sendEvent(e))}sendWeatherWidgetClickEvent(){var e={event:trackingServerSDK.TelemetryEventNames.extnClick,category:T.TELEMETRY_CATEGORY.EXT_HOME_PAGE.WEATHER_WIDGET,action:T.TELEMETRY_ACTION.CLICK_EVENT};this.trackingServerAnalyticsFacade.sendEvent(e)}sendQuickLinkApiFailureEvent(e){e={event:trackingServerSDK.TelemetryEventNames.extnCollect,category:T.TELEMETRY_CATEGORY.QUICKLINK,type:T.TELEMETRY_TYPE.TILES_API_FAILURE,action:e};this.trackingServerAnalyticsFacade.sendEvent(e)}sendUISearchEvent(){var e={event:trackingServerSDK.TelemetryEventNames.extnCollect,category:T.TELEMETRY_CATEGORY.SEARCH,type:T.TELEMETRY_TYPE.UI_SEARCH_QUERY};this.trackingServerAnalyticsFacade.sendEvent(e)}sendCreditCardTelemetryNetworkRequests(e,t,a,n){n=n?T.TELEMETRY_FORM_TYPE.MAIN_FRAME:T.TELEMETRY_FORM_TYPE.SUB_FRAME,n={event:trackingServerSDK.TelemetryEventNames.extnCollect,category:T.TELEMETRY_CATEGORY.CREDIT_CARD_TELEMETRY,type:T.TELEMETRY_TYPE.CREDIT_CARD_PAGE_DATA,formType:n,action:T.TELEMETRY_ACTION.CREDIT_CARD_TELEMETRY_NETWORK_REQUEST,pageurl:e,iframeurl:t,serverurl:a};this.trackingServerAnalyticsFacade.sendEvent(n)}sendCreditCardTelemetry(e,t,a){a=a?T.TELEMETRY_FORM_TYPE.MAIN_FRAME:T.TELEMETRY_FORM_TYPE.SUB_FRAME,a={event:trackingServerSDK.TelemetryEventNames.extnCollect,category:T.TELEMETRY_CATEGORY.CREDIT_CARD_TELEMETRY,type:T.TELEMETRY_TYPE.CREDIT_CARD_PAGE_DATA,formType:a,action:T.TELEMETRY_ACTION.CREDIT_CARD_TELEMETRY_PAGE_DETAILS,pageurl:e,iframeurl:t};this.trackingServerAnalyticsFacade.sendEvent(a)}sendFormjackTourUIClosed(e){e=e?T.TELEMETRY_ACTION.UI.FORMJACK_TOUR_NEW_USER_UI_CLOSED:T.TELEMETRY_ACTION.UI.FORMJACK_TOUR_EXISTING_USER_UI_CLOSED,e={event:trackingServerSDK.TelemetryEventNames.extnCollect,category:T.TELEMETRY_CATEGORY.FORMJACK_TOUR,type:T.TELEMETRY_TYPE.FORMJACK_TOUR_CLOSED_DATA,action:e};this.trackingServerAnalyticsFacade.sendEvent(e)}sendFormjackTourUIDisplayed(e){e=e?T.TELEMETRY_ACTION.UI.FORMJACK_TOUR_NEW_USER_UI_SHOWN:T.TELEMETRY_ACTION.UI.FORMJACK_TOUR_EXISTING_USER_UI_SHOWN,e={event:trackingServerSDK.TelemetryEventNames.extnCollect,category:T.TELEMETRY_CATEGORY.FORMJACK_TOUR,type:T.TELEMETRY_TYPE.FORMJACK_TOUR_UI_DISPLAYED,action:e};this.trackingServerAnalyticsFacade.sendEvent(e)}sendKeepAssistShownEvent(){var e={event:trackingServerSDK.TelemetryEventNames.extnCollect,category:T.TELEMETRY_CATEGORY.KEEP_ASSIST_UI,type:T.TELEMETRY_TYPE.KEEP_ASSIST_UI_DATA,action:T.TELEMETRY_ACTION.KEEP_ASSIST_UI_SHOWN};this.trackingServerAnalyticsFacade.sendEvent(e)}sendPrivacyPromptEvents(e,t,a){e={event:trackingServerSDK.TelemetryEventNames.extnClick,category:e,action:t};a?this.trackingServerAnalyticsFacade.forceSendImmediate(e):this.trackingServerAnalyticsFacade.sendEvent(e)}sendNewTabPageDSPromotionBannerShown(){var e=l.NEW_TAB_PAGE.DS_PROMOTION.BANNER_STATUS.SHOWN;t.getNewTabPageDSPromotionBannerStatus()!==e&&(t.setNewTabPageDSPromotionBannerStatus(e),e={event:trackingServerSDK.TelemetryEventNames.extnCollect,category:T.TELEMETRY_CATEGORY.NEW_TAB_PAGE,type:T.TELEMETRY_TYPE.DS_PROMOTION_BANNER,action:T.TELEMETRY_ACTION.NTP_DS_PROMOTION_BANNER.SHOWN},this.trackingServerAnalyticsFacade.sendEvent(e))}sendNewTabPageDSPromotionBannerClosed(){t.setNewTabPageDSPromotionBannerStatus(l.NEW_TAB_PAGE.DS_PROMOTION.BANNER_STATUS.CLOSED);var e={event:trackingServerSDK.TelemetryEventNames.extnClick,category:T.TELEMETRY_CATEGORY.NEW_TAB_PAGE,action:T.TELEMETRY_ACTION.NTP_DS_PROMOTION_BANNER.CLOSED};this.trackingServerAnalyticsFacade.sendEvent(e)}sendNewTabPageDSPromotionBannerInstallClicked(){var e={event:trackingServerSDK.TelemetryEventNames.extnClick,category:T.TELEMETRY_CATEGORY.NEW_TAB_PAGE,action:T.TELEMETRY_ACTION.NTP_DS_PROMOTION_BANNER.INSTALL_CLICKED};this.trackingServerAnalyticsFacade.sendEvent(e)}sendNewTabPageDSPromotionOverlayInstallClicked(){var e={event:trackingServerSDK.TelemetryEventNames.extnClick,category:T.TELEMETRY_CATEGORY.NEW_TAB_PAGE,action:T.TELEMETRY_ACTION.NTP_DS_OVERLAY.INSTALL_CLICKED};this.trackingServerAnalyticsFacade.sendEvent(e)}sendNewTabPageDSPromotionOverlayShown(){var e={event:trackingServerSDK.TelemetryEventNames.extnCollect,category:T.TELEMETRY_CATEGORY.NEW_TAB_PAGE,type:T.TELEMETRY_TYPE.DS_PROMOTION_OVERLAY,action:T.TELEMETRY_ACTION.NTP_DS_OVERLAY.SHOWN};this.trackingServerAnalyticsFacade.sendEvent(e)}sendDSInstalledOnNewTabPagePromotion(){var e={event:trackingServerSDK.TelemetryEventNames.extnCollect,category:T.TELEMETRY_CATEGORY.NEW_TAB_PAGE,type:T.TELEMETRY_TYPE.DS_PROMOTION_BANNER,action:T.TELEMETRY_ACTION.NTP_DS_PROMOTION_BANNER.INSTALLED};this.trackingServerAnalyticsFacade.sendEvent(e)}sendDSInstalledOnNewTabPagePromotionOverlay(){var e={event:trackingServerSDK.TelemetryEventNames.extnCollect,category:T.TELEMETRY_CATEGORY.NEW_TAB_PAGE,type:T.TELEMETRY_TYPE.DS_PROMOTION_OVERLAY,action:T.TELEMETRY_ACTION.NTP_DS_OVERLAY.INSTALLED};this.trackingServerAnalyticsFacade.sendEvent(e)}sendSwNotificationVersionDsInstalledShown(){var e={event:trackingServerSDK.TelemetryEventNames.extnPageview,category:T.TELEMETRY_CATEGORY.SW_NOTIFICATION,page:T.TELEMETRY_PAGE_INFO.SW_NOTIFICATION_POPUP.DS_INSTALLED_SHOWN};this.trackingServerAnalyticsFacade.sendEvent(e)}sendSwNotificationVersionDsNotInstalledShown(){var e={event:trackingServerSDK.TelemetryEventNames.extnPageview,category:T.TELEMETRY_CATEGORY.SW_NOTIFICATION,page:T.TELEMETRY_PAGE_INFO.SW_NOTIFICATION_POPUP.DS_NOT_INSTALLED_SHOWN};this.trackingServerAnalyticsFacade.sendEvent(e)}sendSwNotificationInstallClicked(){var e={event:trackingServerSDK.TelemetryEventNames.extnClick,category:T.TELEMETRY_CATEGORY.SW_NOTIFICATION,action:T.TELEMETRY_ACTION.SW_NOTIFICATION_POPUP.INSTALL_CLICKED};this.trackingServerAnalyticsFacade.sendEvent(e)}sendSwNotificationCloseClicked(){var e={event:trackingServerSDK.TelemetryEventNames.extnClick,category:T.TELEMETRY_CATEGORY.SW_NOTIFICATION,action:T.TELEMETRY_ACTION.SW_NOTIFICATION_POPUP.CLOSE_CLICKED};this.trackingServerAnalyticsFacade.sendEvent(e)}}})(executionContext),(e=>{let t=SymBfw.utils.isString,a={ERROR:"error",WARNING:"warning",LOG:"log",DEBUG:"debug",INFO:"info"};e.NSSS.TrackerLoggerBase=class{constructor(){this.LOG_TYPE=a}errorToString(e){return e?t(e)?e:e.toString():""}}})(executionContext),(e=>{let{utils:{isString:a},extensionAdapter:t}=SymBfw,{telemetryTrackerClient:n,telemetryTrackerConstants:i,TrackerLoggerBase:r}=NSSS;class s extends r{constructor(){super(),this.logger={},this.trackerLoggerExceptionHandler=e=>{console.error("Tracker logger used before initialization: "+e)},this.logger.log=this.trackerLoggerExceptionHandler,this.logger.debug=this.trackerLoggerExceptionHandler,this.logger.info=this.trackerLoggerExceptionHandler,this.trackingServerAnalyticsFacade=null,this.logEvent=this.logEvent.bind(this),this.handleMessage=this.handleMessage.bind(this)}init(){this.logger=new trackingServerSDK.Logger(NSSS.constants.BUILD_CONFIG),this.trackingServerAnalyticsFacade=n.getTrackingServerAnalyticsFacadeInstance(),t.addMessageListener(this.handleMessage)}handleMessage(e){if(e.id===i.LOG_ERROR_WARNING_ID)switch(e.logType){case this.LOG_TYPE.ERROR:case this.LOG_TYPE.WARNING:this.logEvent(e.logType,e.event);break;case this.LOG_TYPE.LOG:this.logger.log(e.event);break;case this.LOG_TYPE.DEBUG:this.logger.debug(e.event);break;case this.LOG_TYPE.INFO:this.logger.info(e.event)}}async logEvent(e,t){try{if(a(e)){if(a(t))return e===this.LOG_TYPE.ERROR?this.trackingServerAnalyticsFacade.sendErrorLog(t):e===this.LOG_TYPE.WARNING?this.trackingServerAnalyticsFacade.sendWarningLog(t):void 0;this.logger.log("event should be a string")}else this.logger.log("logType should be a string")}catch(e){console.error("Error in trackerLogger.logEvent: "+e)}}}e.NSSS.trackerLogger=new s})(executionContext),(e=>{let{utils:{isString:a},extensionAdapter:n}=SymBfw,{telemetryTrackerConstants:i,TrackerLoggerBase:t}=NSSS;class r extends t{constructor(){super()}async logEvent(e,t){!a(e)||!a(t)||e!==this.LOG_TYPE.ERROR&&e!==this.LOG_TYPE.WARNING&&e!==this.LOG_TYPE.LOG&&e!==this.LOG_TYPE.DEBUG&&e!==this.LOG_TYPE.INFO||n.sendMessage({id:i.LOG_ERROR_WARNING_ID,logType:e,event:t})}}var s=new r;(e.NSSS=e.NSSS||{}).trackerLoggerCS=s})(executionContext),(e=>{(e.NSSS=e.NSSS||{}).wpsHelperUtils=((a,e,n)=>{var i=e.Rating,r=a.utils.isNil,s=n.uiConstants.BLOCKPAGE,o=n.constants;let E=n.constants.FORMJACK_PROTECTION;var _={toolbarStatus:function(e){var t={};switch(e){case i.SITE_RATING.RATING_PHISHING:case i.SITE_RATING.RATING_MALWARE:t.statusImage=o.WARNING_IMAGE,t.statusString="Warning";break;case E.SITE_RATING.FORMJACK_STATE:t.statusImage=o.FORMJACK_IMAGE,t.statusString="Warning";break;case i.SITE_RATING.RATING_REGIONAL_BLOCK:t.statusImage=o.SUSPICIOUS_IMAGE,t.statusString="Warning";break;case i.SITE_RATING.RATING_UNKNOWN:t.statusImage=o.UNTESTED_IMAGE,t.statusString="Untested";break;case i.SITE_RATING.RATING_SAFE:t.statusImage=o.SAFE_IMAGE,t.statusString="Safe";break;default:t.statusImage=o.UNTESTED_IMAGE,t.statusString="Page not analyzed"}return t},createRedirectURL:function(e,t,a,n){e=_.blockPageType(e);if(!r(e))return s.HTML+`?originalURL=${t}${a?"&reportURL="+a:""}&blockPageType=`+e+(n?"&continueToSiteURL="+n:"")},blockPageType:function(e){var t;switch(e){case i.SITE_RATING.RATING_PHISHING:case i.SITE_RATING.RATING_MALWARE:t=s.TYPE.MALICIOUS;break;case i.SITE_RATING.RATING_REGIONAL_BLOCK:t=s.TYPE.SUSPECTEDBAD;break;case E.SITE_RATING.FORMJACK_STATE:t=s.TYPE.FORMJACK}return t},getAnnotationStatusImage:function(e){var t;switch(e){case i.SITE_RATING.RATING_SAFE:t="sb_safeAnnotation.svg";break;case i.SITE_RATING.RATING_MALWARE:case i.SITE_RATING.RATING_REGIONAL_BLOCK:case i.SITE_RATING.RATING_PHISHING:t="sb_unsafeAnnotation.svg";break;default:t="sb_unknownAnnotation.svg"}return t},getSearchTextForAnnotationURL:function(e){var t;return t=new URI(e).hostname()===a.utils.baseURL(n.constants.SEARCH_URL)?_.getQueryString("q",e):t},getQueryString:function(e,t){t=URI(t).query(!0);return r(t[e])?null:t[e]}};return _})(e.SymBfw,e.SafeWeb,e.NSSS)})(executionContext),(M=>{(M.NSSS=M.NSSS||{}).helperUtils=((r,_,a)=>{var E={},l=_.uiHelper,T=(r.settings,r.logger);let S=_.trackerLogger;var c=r.utils.isNil,A=r.utils.isntNil,I=r.utils.isString,u=_.constants,R=_.globalSettings,i=_.sessionSettings,N=_.telemetryWrapper;let O=_.telemetryTrackerClient;var d=r.extensionAdapter;let g=r.performanceReporterFactory;var C=_.wpsHelperUtils;let s=_.nsssDynamicRules,n=r.utils.isArray,o=_.uiConstants,m=r.darkModeHandler,L=r.utils.isBoolean,e=r.telemetryConstants,D=r.utils.isObject,P=r.utils.isEmptyObject;return E.isVendorInitialized=async()=>{if(_.NSSSHelper.isValidVendor(_.constants.VENDOR))return!0;if(_.vendorSetup)return _.vendorSetup.vendorPromise;throw new Error("vendor setup object is not initialized")},E.getSessionIDObject=function(e){return i.getValue(e)},E.getTabIDObject=function(e){return i.getValue(e)},E.setSessionSetting=function(e,t,a){let n=i.getValue(e);(n=n||{})[t]=a,i.setValue(e,n)},E.getSessionSetting=function(e,t){e=i.getValue(e);return e?e[t]:null},E.getNSSSRating=function(e){var t=_.nfmEvents.PAGE_ANALYZED;let a=_.helperUtils.getSessionSetting(e,t);return a=c(a)?new _.Rating:a.setRating?a:new _.Rating(a)},E.deleteSessionSettings=function(e){i.delete(e)},E.getTabIDForSessionID=function(e){if(c(e))throw new Error("SessionID cannot be null");return E.getSessionSetting(e,u.TABID)},E.getSessionIDForTabID=function(e){var t=null;for(t in i.getCollection())if(E.getSessionSetting(t,u.TABID)===e)return t;return null},E.tabURL=function(e){e=e.url;return e=!c(e)&&""!==e?e:u.ABOUT_BLANK},E.updateButton=function(r,s,o=!1){d.getTab(s,function(e){d.getLastError();c(e)?(T.log("No tab exists with tabID: "+s),S.logger.log("No tab exists with tabID: "+s)):(e=d.getWindowIDForTab(e),d.getActiveTab(function(e){var t,a,n,i=d.getLastError();A(i)?(T.log("Tab is not available"),T.log(i),S.logger.log("Tab is not available"+S.errorToString(i))):c(e)?(T.log("there are no active tabs at the moment"),S.logger.log("there are no active tabs at the moment")):(i=d.getTabID(e),s===i&&(E.updateActionButton(r,i,e.url),n=d.getExtensionURL(""),o&&e.url.startsWith(n)||(t=l.toolbarStatusForSessionID(r),a=E.getSessionSetting(r,u.PAGE_ANALYZED),A(a)&&a._safeWebResult&&g.reportStopForComponent(u.performanceReporter.NSSS,_.main.pageAnalysisTime),!A(t))||c(t.redirectPage)||(a=E.getSessionSetting(r,u.SHOULD_BLOCK_KEY),A(a)&&!1===a)||((a=t.blockedModule===_.uiConstants.BLOCKPAGE.TYPE.FORMJACK)||e.url===t.finalRedirectedTabUrl||e.url.startsWith(n))&&(n=A(t.redirectPage)?d.getExtensionURL("content/ui/"+t.redirectPage):null,C.blockPageType(t.siteRating),!n||a&&!E._canDisplayFormjackBlockPage()||(new URI(n),n!==e.url&&A(t.url)&&(new URI(t.url),d.updateTabUrl(i,n),_.main.tabIdToRedirectUrlsMap[s])&&delete _.main.tabIdToRedirectUrlsMap[s]))))},e))})},E._canDisplayFormjackBlockPage=()=>!d.isManifestV3Extension()&&_.formjackProtectionManager.blockType===_.constants.PAGE_BLOCK,E.updateActionButton=async function(e,t,a){let n=null;var i=await _.extensionURLValidator.isNortonExtensionURL(a),r=_.NSSSHelper.isBlockPage(a);n=i&&!r?d.getExtensionURL("content/images/")+u.SAFE_IMAGE+".png":(i=l.uiStatusForSessionID(e,a),d.getExtensionURL("content/images/")+i.regularIcon),d.setBrowserIcon({path:n,tabId:t})},E.updatePrivacyConsentActionButton=function(e){let t=d.getExtensionURL("content/images/");t+=e?u.CONSENT_IN_PROGRESS_IMAGE+".png":u.UNTESTED_IMAGE+".png",d.setBrowserIcon({path:t})},E.openSettingsPage=()=>{let t=d.getExtensionURL(u.SETTINGS_PAGE);d.getTabsWithURL(t,e=>{A(d.getLastError())||(A(e[0])?(d.activateTab(d.getTabID(e[0])),d.focusWindow(d.getWindowIDForTab(e[0]))):r.extensionAdapter.createTab(t))})},E.handleUIEvents=function(e,t){if(e===l.FULL_REPORT_EVENTID)d.getActiveTab(function(e){var t=d.getLastError();A(t)?(T.log("Tab is not available"),T.log(t),S.logger.log("Tab is not available"+S.errorToString(t))):(t=E.getSessionIDForTabID(d.getTabID(e)),e=l.toolbarStatusForSessionID(t),c(e)||d.createTab(e.fullReportURL))});else{if(e===l.SETTINGS_CLICKED_EVENTID)return E.isMediaDotNetExtension()&&E.isHpFlavorPresent()?void E._launchHomePage():void E.openSettingsPage();e===l.REPORTSITE_EVENTID?d.getActiveTab(function(e){var t,a=d.getLastError();A(a)?(T.log("Tab is not available"),T.log(a),S.logger.log("Tab is not available"+S.errorToString(a))):(a=E.getSessionIDForTabID(d.getTabID(e)),t=(e=l.uiStatusForSessionID(a,e.url)).siteRating,e=e.uiStatus.sitename,l.setShowReportSiteForSessionID(a,!1),_.webProtection.reportURLToSymantecServer(e,t))}):e!==l.SEARCH_EVENTID||c(t)||(e=E.getSearchURL(_.ocodeMgr.getUISearchOCode(),t),d.createTab(e,function(e){}),_.telemetryWrapper.sendUISearchEvent(),_.telemetryTrackerClient.sendUISearchEvent())}},E.isHpFlavorPresent=()=>u.TWO_IN_ONE_EXTENSIONS.includes(o.HOMEPAGE_EXTENSION),E._launchHomePage=async()=>{var e;await _.init.ready(),r.globals.BROWSER===r.constants.BROWSER_TYPE.FIREFOX&&!_.privacyPromptSettings.getPrivacyConsent()||(e=d.getExtensionURL(`${_.constants.HOME_PAGE}?${_.constants.LAUNCHED_ON}=`+_.constants.SETTINGS_CLICK),r.extensionAdapter.createTab(e))},E.isBTLayout=()=>{var e=R.getLayoutType(),t=R.getPartnerId(),a=R.getPUID();if(I(e)&&I(t))return e.toUpperCase()===u.SOS_LAYOUT&&(t===u.BT_LAYOUT_PARTNERID||t===u.BT_EE_PARTNERID&&a===u.BT_EE_PUID)},E.getFeatureFlavorization=function(){let e="false"!==u.SEARCHBOX_VISIBLE,t=!0;var a=_.partnerConstants,n=R.getPartnerId(),i=R.getPUID(),r=R.getLayoutType(),n=a.searchboxExclusionList[n];return A(n)&&-1!==n.puid.indexOf(i)&&(e=!1),A(r)&&-1!==a.excludeNortonLinks.indexOf(r)&&(t=!1),{showSafeWebSearchbox:e,showNortonLinks:t}},E.getQueryTemplate=function(e){e=E.getQueryParams(e);return A(e)?e.toString():null},E.getQueryParams=e=>{var t,a,n,i,r=R.getParamsString(),s=_.URLSearchParams;if(!c(s))return r=(s=new s(r)).get(u.URL_PARAMS_KEY.VENDOR_OFFERED.toLowerCase()),A(r)&&s.delete(u.URL_PARAMS_KEY.VENDOR_OFFERED.toLowerCase()),r=s.get(u.VENDORKEY.toLowerCase()),A(r)&&s.delete(u.VENDORKEY.toLowerCase()),r=u.VENDOR,t=R.getCGuid(),a=R.getPartnerId(),n=R.getProduct(),i=R.getVersion(),r===u.IAC&&s.append(u.URL_PARAMS_KEY.ANNOTATION,!1),s.append(u.URL_PARAMS_KEY.VENDOR_CONFIGURED,r),s.append(u.URL_PARAMS_KEY.OCODE,e),s.append(u.URL_PARAMS_KEY.PRT,n),s.append(u.URL_PARAMS_KEY.VERSION,i),s.append(u.URL_PARAMS_KEY.TPR,u.TPR),s.append(u.PARTNERIDKEY,a),s.append(u.URL_PARAMS_KEY.CGUID,t),r=R.getDateOfAssociation(),A(r)&&s.append(u.URL_PARAMS_KEY.DATE_OF_ASSOCIATION,r),e=R.getTrackId(),A(e)&&s.append(u.URL_PARAMS_KEY.TRACK_ID,e),s},E.getSearchURLTemplate=function(e){let t=u.SEARCH_URL+"?q=$$TEMPLATE$$&"+E.getQueryTemplate(e);e=E.getDefaultParams();return t=D(e)?t+"&"+new URLSearchParams(e).toString():t},E.getWeekNumber=function(e){var t;if(e instanceof Date)return t=new Date(e.getFullYear(),0,1),Math.ceil(((e-t)/864e5+t.getDay()+1)/7);throw new Error("date must be a instances of Date object")},E.getDateParts=function(e,t){return I(e)&&I(t)?e.split(t):null},E._isValidDate=function(e){return null!=e.match(/^\d{4}-\d{1,2}-\d{1,2}$/)},E.getNormalizedDateString=function(e){let t=e;var e=(t=t||new Date).getMonth()+1,a=t.getDate();return[t.getFullYear(),(9<e?"":"0")+e,(9<a?"":"0")+a].join("-")},E.convertDateStringToNormalizedDateString=function(e){return!I(e)||!E._isValidDate(e)||(e=new Date(e.replace(/-/g,"/")),isNaN(e))?null:E.getNormalizedDateString(e)},E.getSearchURL=function(e,t){return E.getSearchURLTemplate(e).replace("$$TEMPLATE$$",encodeURIComponent(t))},E.setFlavor=function(n,i){if(!R.getFlavorized()){var r=i.enableHomePage,i=i.enableSafeSearch,r=!c(r)&&r,i=!c(i)&&i,n=URI(n.toLowerCase()),s=n._parts.query;let e=_.URLSearchParams;var o=new(e="undefined"!=typeof URLSearchParams?URLSearchParams:e)(s),E=o.get(u.URL_PARAMS_KEY.PARTNERID),E=(A(E)&&R.setPartnerId(E),o.delete(u.URL_PARAMS_KEY.PARTNERID),o.get(u.URL_PARAMS_KEY.CGUID)),E=(A(E)&&(R.setCGuid(E),o.delete(u.URL_PARAMS_KEY.CGUID)),o.get(u.URL_PARAMS_KEY.INSTALL_SOURCE.toLowerCase()));I(E)&&(R.setInstallSource(E),o.delete(u.URL_PARAMS_KEY.INSTALL_SOURCE.toLowerCase()));let t=o.get(u.URL_PARAMS_KEY.CAMPAIGN_NAME);I(t)&&(t=t.toLowerCase()===u.ZDEFAULT_TRIGGER?u.NEWINST:t,R.setCampaignCode(t),o.delete(u.URL_PARAMS_KEY.CAMPAIGN_NAME));E=o.get(u.URL_PARAMS_KEY.BROWSER.toLowerCase()),E=(I(E)&&(R.setBrowserValue(E),o.delete(u.URL_PARAMS_KEY.BROWSER.toLowerCase())),o.get(u.URL_PARAMS_KEY.DATE_OF_INSTALL)),E=(A(E)&&(R.setInstallDate(E),o.delete(u.URL_PARAMS_KEY.DATE_OF_INSTALL)),o.get(u.URL_PARAMS_KEY.PARTNER_UNIT_ID)),E=(A(E)&&(R.setPUID(E),o.delete(u.URL_PARAMS_KEY.PARTNER_UNIT_ID)),o.get(u.URL_PARAMS_KEY.PRODUCT_NAME)),E=(A(E)&&(R.setProduct(E),o.delete(u.URL_PARAMS_KEY.PRODUCT_NAME)),o.get(u.URL_PARAMS_KEY.VERSION)),E=(A(E)&&(R.setVersion(E),o.delete(u.URL_PARAMS_KEY.VERSION)),o.get(u.URL_PARAMS_KEY.LAYOUT_TYPE)),E=(A(E)&&(R.setLayoutType(E),o.delete(u.URL_PARAMS_KEY.LAYOUT_TYPE)),A(_.uninstallSurveyHelper)&&_.uninstallSurveyHelper.initializeUninstallSurveyURL(),o.get(u.URL_PARAMS_KEY.TRACK_ID.toLowerCase())||o.get(u.URL_PARAMS_KEY.TRACK_ID)),E=(A(E)&&(R.setTrackID(E),o.delete(u.URL_PARAMS_KEY.TRACK_ID),o.delete(u.URL_PARAMS_KEY.TRACK_ID.toLowerCase())),o.get(u.URL_PARAMS_KEY.MIGRATION_TYPE.toLowerCase())),E=(A(E)&&o.delete(u.URL_PARAMS_KEY.MIGRATION_TYPE.toLowerCase()),o.get(u.URL_PARAMS_KEY.GEO_LOCATION.toLowerCase())),E=(A(E)&&(R.setGeoLocation(E),o.delete(u.URL_PARAMS_KEY.GEO_LOCATION.toLowerCase())),o.get(u.URL_PARAMS_KEY.TRACK.toLowerCase()));_.NSSSHelper.isValidTrackValue(E)&&R.setTrackValue(E),o.delete(u.URL_PARAMS_KEY.TRACK.toLowerCase());let a=n.subdomain();!c(a)&&0!==a.length&&"www"!==a||(E=n.domain(),a=E.substring(0,E.indexOf("."))),!A(a)&&0===a.length||R.setCampaignMedium(a),r&&R.setDefaultHomepage(r),i&&R.setDefaultSearch(i),o.delete(u.URL_PARAMS_KEY.TEST_ELIGIBILITY.toLowerCase()),s=o.toString(),R.setParamsString(s),N.sendSearchStatus(i,r),O.sendSearchStatus(i,r),R.setFlavorized(!0)}},E.removeTestEligibilityParam=()=>{var e=R.getParamsString(),t=_.URLSearchParams;c(t)||((t=new t(e)).delete(u.URL_PARAMS_KEY.TEST_ELIGIBILITY.toLowerCase()),e=t.toString(),R.setParamsString(e))},E.getQueryString=function(e,t){t=URI(t.toLowerCase()).query(!0);return c(t[e])?null:t[e]},E.isURLWhitelisted=t=>{if(c(t)||""===t)return!0;for(let e=0;e<u.NATIVE_TAB_PREFIX.length;e++)if(t.startsWith(u.NATIVE_TAB_PREFIX[e]))return!0},E.fetchUserCountryCode=async function(){try{var e=(await(await r.utils.safeFetch(_.constants.GEO_LOCATION_API_URL)).json()).CountryCode;return e}catch(e){return T.error("unable to fetch the user county code due to "+e),S.logEvent(S.LOG_TYPE.ERROR,"unable to fetch the user county code due to "+S.errorToString(e)),null}},E.isRatingForFinalRedirectedUrl=function(e){return!(!e||e.fullURL!==e.finalRedirectedTabUrl)},E.getLandingPages=async()=>new Promise(t=>{d.getAllTabs(e=>{e=e.filter(e=>_.NSSSHelper.isLandingPageURL(e.url));return t(e)})}),E.getLandingPage=async()=>new Promise(t=>{d.getAllTabs(e=>{e=e.find(e=>!c(e.url)&&(e=new URI(e.url),!!(u.ONBOARDING_PORTAL_URL_PATHS_MAP.hasOwnProperty(e.domain())&&u.ONBOARDING_PORTAL_URL_PATHS_MAP[e.domain()].hasOwnProperty(e.subdomain())&&u.ONBOARDING_PORTAL_URL_PATHS_MAP[e.domain()][e.subdomain()].includes(e.path()))));return t(e)})}),E.getPagesToFlavor=e=>e.filter(e=>{e=new URI(e.url);return!!(u.ONBOARDING_PORTAL_URL_PATHS_MAP.hasOwnProperty(e.domain())&&u.ONBOARDING_PORTAL_URL_PATHS_MAP[e.domain()].hasOwnProperty(e.subdomain())&&u.ONBOARDING_PORTAL_URL_PATHS_MAP[e.domain()][e.subdomain()].includes(e.path()))}),E.getGlobalObject=()=>A(_.searchGlobal)?_.searchGlobal:_.chromeGlobal,E.isHomePageTourSupported=()=>_.uiConstants.EXTENSION_TYPE!==_.uiConstants.SAFEWEB_EXTENSION,E.getAllHomePageTabs=async()=>new Promise(t=>{let a=d.getExtensionURL(M.NSSS.constants.HOME_PAGE);d.getAllTabs(e=>{e=e.filter(e=>e.url.startsWith(a));return t(e)})}),E.getExtensionDetails=async e=>{try{return await d.getExtensionDetails(e)}catch(e){return null}},E.getExtensionInstalledAndEnabledStatus=async n=>{var e;if(r.utils.isArray(n)&&0!==n.length)return e=n.map(e=>E.getExtensionDetails(e)),(await Promise.all(e)).reduce((e,t,a)=>{e={...e};return c(t)||!1===t.enabled?e[n[a]]=!1:e[n[a]]=!0,e},{});throw new Error("extensionIds argument is not valid")},E.sendExternalMessageWithPromise=(e,i)=>new Promise((t,a)=>{if(c(e)||c(i))return a("Arguments are not valid");let n=setTimeout(()=>{a("SendMessageExternal timed out")},1e3);r.extensionAdapter.sendMessageExternal(e,i,e=>{if(A(r.extensionAdapter.getLastError())||c(e))return clearTimeout(n),a("Extension not installed");clearTimeout(n),t(e)})}),E.executeContentScriptsToFlavorizeExtn=async(e,a)=>{if(!c(e)&&r.utils.isArray(a))for(let t=0;t<a.length;t++)try{await d.executeContentScript(e,a[t])}catch(e){T.error(`Error in executing ${a[t]} - `+e),S.logEvent(S.LOG_TYPE.ERROR,`Error in executing ${a[t]} - `+S.errorToString(e));break}},E.flavorizeExtension=()=>{d.getAllTabs(function(e){e.forEach(function(e){var t=e.url;!1!==_.NSSSHelper.isLandingPageURL(t)&&(t=d.getTabID(e),A(t))&&E.executeContentScriptsToFlavorizeExtn(t,["content/libs/uri.min.js","ContextInit.js","content/scripts/SymBfwCS.js","content/scripts/flavorParser.js"])})})},E.constructDynamicRules=(a,n,e)=>e.filter((e,t)=>{if(t<n)return e.id=a+t,e}),E._getDsRedirectorRule=(e,t)=>{if(n(e)&&0!==e.length)return e.find(e=>e.condition.urlFilter===t)},E.getDarkModeThemeForDS=e=>e?e[o.DARK_MODE_PARAM]?o.THEMES.DARK_THEME:o.THEMES.LIGHT_THEME:(e=R.getPreviousHPDarkModeTheme())&&e!==o.THEMES.BROWSER_THEME?e:(e=R.getDefaultDarkModeTheme())&&e!==o.THEMES.BROWSER_THEME?e:m.isDarkModeEnabled()?o.THEMES.DARK_THEME:o.THEMES.LIGHT_THEME,E.getDarkModeThemeForHP=e=>{var t=R.getDefaultDarkModeTheme();return null!==t&&t!==o.THEMES.BROWSER_THEME?t:null!==e&&null!==e.customDarkModeTheme&&e.customDarkModeTheme!==o.THEMES.BROWSER_THEME?e.customDarkModeTheme:m.isDarkModeEnabled()?o.THEMES.DARK_THEME:o.THEMES.LIGHT_THEME},E.updateUrlParamsOfAllMatchingUrls=(e,r)=>{if(c(e)||!n(e)||!e.length)throw Error("Invalid url array object");e.forEach(e=>{d.getTabsWithURL(e,e=>{e.forEach(e=>{var t,a,n=new URL(e.url);let i=!1;for([t,a]of Object.entries(r))n.searchParams.get(t)!==a.toString()&&(n.searchParams.set(t,a.toString()),i=!0);i&&d.updateTabUrl(e.id,n.toString())})})})},E.updateSERPTabUrls=(e,t)=>{E.updateUrlParamsOfAllMatchingUrls(o.SERP_URL_LIST,{[o.DARK_MODE_PARAM]:!!e,[o.SAME_TAB_LAUNCH_SERP_PARAM]:!!t})},E.updateExtensionIcon=e=>{let t=null;t=e?{32:o.DARK_MODE_ICON}:{32:o.LIGHT_MODE_ICON},d.setBrowserIcon({path:t})},E.appendAdditionalParams=async e=>{var t,a;(E.isDS()||E.isMediaDotNetExtension())&&({isDarkMode:t,isSameTabLaunchSet:a}=await E._getDarkModeAndNewTabValues(),R.setPrevDarkModeThemeResolvedInDS(t),e.push({key:o.DARK_MODE_PARAM,value:t?"true":"false"}),e.push({key:o.SAME_TAB_LAUNCH_SERP_PARAM,value:a?"true":"false"}),E.updateSERPTabUrls(t,a))},E._getDarkModeAndNewTabValuesForMediaDotNet=async()=>{var e=await _.nsssDarkModeHandlerBG.isDarkModeSet();let t=_.globalSettings.getNewTabForSearchResultsEnabled();return{isDarkMode:e,isSameTabLaunchSet:!(t=L(t)?t:!0)}},E._getDarkModeAndNewTabValues=async()=>{if(E.isMediaDotNetExtension())return E._getDarkModeAndNewTabValuesForMediaDotNet();var e,t,a,n=await E.getSettingsFromHomePageExtension();let i,r=E.getDarkModeThemeForDS(n);return n?(i=n[o.SAME_TAB_LAUNCH_SERP_PARAM],R.setPreviousHPDarkModeTheme(r),R.setPrevDarkModeThemeResolvedInDS(r)):(e=R.getPrevBrowserDarkModeSet(),t=m.isDarkModeEnabled(),null===R.getInstallTimeBrowserDarkModeTheme()?null!==(a=m.getDarkModeStatus())&&(a=a?o.THEMES.DARK_THEME:o.THEMES.LIGHT_THEME,R.setInstallTimeBrowserDarkModeTheme(a)):R.getInstallTimeBrowserDarkModeTheme()!==t&&R.setDefaultDarkModeTheme(o.THEMES.BROWSER_THEME),e!==t&&(R.setPrevBrowserDarkModeSet(t),R.setPreviousHPDarkModeTheme(o.THEMES.BROWSER_THEME),r=E.getDarkModeThemeForDS(n)),i=!1),{isDarkMode:r===o.THEMES.DARK_THEME,isSameTabLaunchSet:i}},E.getCustomThemeForHbPing=async()=>{var e=await _.helperUtils.getSettingsFromHomePageExtension();let t;if(D(e)){e=(await E._getDarkModeAndNewTabValues()).isDarkMode;t=e}else{e=r.darkModeHandler.getDarkModeStatus();if(c(e)&&_.isFreshInstall)return _.constants.NOT_SET;t=R.getPrevDarkModeThemeResolvedInDS()}return t?_.uiConstants.THEMES.DARK_THEME:_.uiConstants.THEMES.LIGHT_THEME},E.getNewTabSearchEnabledForHbPing=async()=>{var e=(await E._getDarkModeAndNewTabValues()).isSameTabLaunchSet;return!e},E.getBrowserThemeForHbPing=()=>{var e=r.darkModeHandler.getDarkModeStatus();return c(e)?_.constants.NOT_SET:e?_.uiConstants.THEMES.DARK_THEME:_.uiConstants.THEMES.LIGHT_THEME},E.getParamsForHeartbeat=()=>({[e.parameters.CUSTOM_DIMENSION27]:()=>E.getCustomThemeForHbPing(),[e.parameters.CUSTOM_DIMENSION28]:()=>E.getNewTabSearchEnabledForHbPing()}),E._updateDefaultSearch=async e=>{var t=E._getDSQueryParams();await E.appendAdditionalParams(t),e.action.redirect={transform:{queryTransform:{addOrReplaceParams:t}}};try{await d.updateDynamicRules([e])}catch(e){T.error(e),S.logEvent(S.LOG_TYPE.ERROR,""+S.errorToString(e))}},E.handleOmniSearch=async()=>{var e=await d.getDynamicRules(),t=_.constants.SEARCH_URL+"?omnisearch=yes",e=E._getDsRedirectorRule(e,t);if(A(e))await E._updateDefaultSearch(e);else{var{id:e,allocated_length:a,error:n}=s.getRuleId(u.DS_REDIRECTOR_RULE_COUNT);if(A(n)&&n===u.ERROR_MESSAGES.MAX_RULES_COUNT_EXHAUSTED)T.error("Cannot set redirect rules for default search"),S.logEvent(S.LOG_TYPE.ERROR,"Cannot set redirect rules for default search");else{var i=E._getDSQueryParams(),i=(await E.appendAdditionalParams(i),[{priority:1,action:{type:"redirect",redirect:{transform:{queryTransform:{addOrReplaceParams:i}}}},condition:{urlFilter:t,resourceTypes:["main_frame"]}}]),t=E.constructDynamicRules(e,a,i);try{await d.updateDynamicRules(t)}catch(n){T.error(n),S.logEvent(S.LOG_TYPE.ERROR,""+S.errorToString(n))}}}},E._getDSQueryParams=()=>{let t=E.getQueryParams(_.ocodeMgr.getDSOCode())._queryDict;return t={...t=!c(t)&&0!==Object.keys(t).length?t:{},...E.getDefaultParams()},Object.keys(t).map(e=>({key:e,value:A(t[e])?t[e].toString():""}))},E.getDefaultParams=()=>{let e;return e=E.getAndSetMediaDotNetFlavorApplicable()?o.PROD_MEDIA_DOT_NET:o.DEFAULT_SEARCH_EXTENSION.toUpperCase(),{[u.BROWSER]:_.NSSSHelper.getBrowserValue(),[u.PROD]:e,[u.URL_PARAMS_KEY.DATE_OF_INSTALL]:R.getInstallDate(),[u.URL_PARAMS_KEY.INSTALL_SOURCE]:_.NSSSHelper.getInstallSource(),...I(_.NSSSHelper.getCampaignCode())&&{[u.URL_PARAMS_KEY.CAMPAIGN_NAME]:_.NSSSHelper.getCampaignCode()},..._.NSSSHelper.isValidTrackValue(R.getTrackValue())&&{[u.URL_PARAMS_KEY.TRACK]:R.getTrackValue()}}},E.isHP=()=>o.EXTENSION_TYPE===o.HOMEPAGE_EXTENSION,E.isMediaDotNetExtension=()=>o.EXTENSION_TYPE===o.MEDIA_DOT_NET_EXTENSION,E.isDS=()=>o.EXTENSION_TYPE===o.DEFAULT_SEARCH_EXTENSION,E.getSettingsFromHomePageExtension=()=>{let e=u.NORTON_HP_EXTENSION_IDS[0];return new Promise(t=>{if(E.isMediaDotNetExtension())return t(null);d.sendMessageExternal(e,{name:o.GET_HP_SETTINGS_EXTERNAL},e=>{chrome.runtime.lastError||c(e)?(T.debug("getSettingsFromHomePageExtension - receiving end does not exists or response is invalid"),S.logger.debug("getSettingsFromHomePageExtension - receiving end does not exists or response is invalid"),t(null)):t(e)})})},E.isBrowserDarkModeSet=()=>{var e=m.getDarkModeStatus();return L(e)?(R.setBrowserDarkModeSet(e),e):!!R.isBrowserDarkModeSet()},E.isSafewebFlavorPresent=()=>_.constants.TWO_IN_ONE_EXTENSIONS.includes(o.SAFEWEB_EXTENSION),E.getAndSetMediaDotNetFlavorApplicable=()=>{var e=R.getMediaDotNetFlavorApplicable();return L(e)?e:_.isFreshInstall&&_.helperUtils.isMediaDotNetExtension()?(R.setMediaDotNetFlavorApplicable(!0),!0):(R.setMediaDotNetFlavorApplicable(!1),!1)},E.getThreeInOneUserType=()=>E.getAndSetMediaDotNetFlavorApplicable()?_.uiConstants.PROD_MEDIA_DOT_NET:_.constants.LEGACY_EXTENSION,E.getWrsRatingForUrl=e=>new Promise(t=>{a.manager.getRatingForURL(e,function(e){(c(e)||P(e)||c(e.siteRating))&&t(null),t(e.siteRating)})}),E.sendBlockPageTelemetryWithWRSRating=async(e,t,a=!1,n=!1)=>{var i=await E.getWrsRatingForUrl(e);_.telemetryWrapper.sendBlockPageTelemetry(e,t,a,n,i),_.telemetryTrackerClient.sendBlockPageTelemetry(e,t,a,n)},E.getApplicationSettings=()=>{let t=_.trackerEventQueue;return{isTelemetryEnabled:function(){return r.telemetrySettings.isTelemetryEnabled()},addEventToQueue:function(e){return t.addEvent(e)},getEventsQueue:function(){return t.getEvents()},clearEventsQueue:function(){return t.clearEvents()}}},E.sendMessageToHpExtensionOnInstall=()=>{E.isDS()&&r.globals.BROWSER===r.constants.BROWSER_TYPE.CHROME&&_.externalCommunication&&_.externalCommunication.sendMessageToHpExtensionOnInstall()},E.sendMessageToSwExtensionOnInstall=()=>{E.isDS()&&r.globals.BROWSER===r.constants.BROWSER_TYPE.CHROME&&_.externalCommunication&&_.externalCommunication.sendMessageToSwExtensionOnInstall()},E})(M.SymBfw,M.NSSS,M.SafeWeb)})(executionContext),(e=>{e.NSSS.Rating=((a,e,i)=>{var r=a.utils.isNil,s=a.utils.isntNil,o=(a.utils.isFunction,i.constants,e.constants.RATING_TYPE),E=i.constants.FORMJACK_PROTECTION,_=i.wpsHelperUtils,l=e.Rating,T=i.helperUtils;function t(e){s(e)?this._setNsssRating(e):(this._safeWebResult=null,this._isHeuristicsFalseNegative=!1,this._formjackResult=null,this._reloadPage=!1)}let S=i.uiConstants;return t.prototype._setNsssRating=function(e){this._safeWebResult=e._safeWebResult,this._isHeuristicsFalseNegative=e._isHeuristicsFalseNegative,this._formjackResult=e._formjackResult,this._reloadPage=e._reloadPage},t.prototype.getRating=function(){var e,t,a,n,i;return r(this._safeWebResult)&&r(this._formjackResult)?null:(e=this._getOverallPageRating(),a=t=null,s(this._formjackResult)?(t=this._formjackResult.url,a=this._formjackResult.url):s(this._safeWebResult)&&(t=this._safeWebResult.fullURL,a=this._safeWebResult.finalRedirectedTabUrl),n={},i=_.toolbarStatus(e),n.siteStatus=i.statusString,n.siteIcon=i.statusImage,n.siteRating=e,n.url=t,n.finalRedirectedTabUrl=a,n.redirectPage=_.createRedirectURL(e,t,null,a),n.computerThreatAttributes=0,n.identityThreatAttributes=0,n.annoyanceFactorAttributes=0,n.shoppingRiskAttributes=0,n.phishingThreatAttributes=0,s(this._formjackResult)?(n.blockedModule=this._formjackResult.blockedModule,n.redirectPage=S.FORM_JACK_PROTECTION_BLOCK_PAGE.HTML+"?"+this._formjackResult.queryParams):s(this._safeWebResult)&&(n.fullReportURL=null,n.searchText=_.getSearchTextForAnnotationURL(this._safeWebResult.fullURL),n.computerThreatAttributes=this._safeWebResult.computerThreats,n.identityThreatAttributes=this._safeWebResult.identityThreats,n.annoyanceFactorAttributes=this._safeWebResult.annoyanceFactors,n.shoppingRiskAttributes=this._safeWebResult.shoppingRisks,n.phishingThreatAttributes=this._safeWebResult.phishingThreats),n)},t.prototype.reloadPage=function(e){var t;this._reloadPage?(this._reloadPage=!1,t=this,setTimeout(function(){r(t._safeWebResult)||t._getSiteRatingPriority(t._safeWebResult.siteRating)<=t._getSiteRatingPriority(l.SITE_RATING.SW_CAUTION_MALICIOUS_STATE)?e(!0):e(!1)},500)):e(!1)},t.prototype._setFullReportForPiracyUrl=function(t){if(!r(t)){let e=T.getSessionIDForTabID(a.extensionAdapter.getTabID(t));r(e)&&(e=i.main.createSessionForTab(t)),i.uiHelper.setShowFullReportForSessionID(e,!1)}},t.prototype._updateSessionForPiracyTab=function(t){a.extensionAdapter.getActiveTab(e=>{s(e)&&e.url.startsWith(t)?this._setFullReportForPiracyUrl(e):a.extensionAdapter.getAllTabs(e=>{e.filter(e=>e.url.startsWith(t)).forEach(e=>{this._setFullReportForPiracyUrl(e)})})})},t.prototype.setRating=function(e,t){var a,n;switch(t){case E.RATING_TYPE.FORMJACK_TYPE:!1!==i.webProtectionPolicy.isEnabled(t)&&(this._formjackResult=e);break;case o.SAFEWEB:!1!==i.webProtectionPolicy.isEnabled(t)&&(s(this._safeWebResult)?(a=this._safeWebResult.siteRating,((a=this._getSiteRatingPriority(a))<(n=this._getSiteRatingPriority(e.siteRating))||n==a&&T.isRatingForFinalRedirectedUrl(e))&&(this._safeWebResult=e,this._safeWebResult.siteRating===l.SITE_RATING.RATING_REGIONAL_BLOCK)&&this._updateSessionForPiracyTab(this._safeWebResult.fullURL)):(this._safeWebResult=e,this._safeWebResult.siteRating===l.SITE_RATING.RATING_REGIONAL_BLOCK&&this._updateSessionForPiracyTab(this._safeWebResult.fullURL)))}},t.prototype._getSiteRatingPriority=function(e){var t={},t=(t[l.SITE_RATING.RATING_SAFE]=1,t[l.SITE_RATING.RATING_PHISHING]=4,t[l.SITE_RATING.RATING_REGIONAL_BLOCK]=2,t[l.SITE_RATING.RATING_MALWARE]=3,t[E.SITE_RATING.RATING_FORMJACK_STATE]=5,t[e]);return r(t)?-1:t},t.prototype._getOverallPageRating=function(){var e=null;return s(this._formjackResult)?this._formjackResult.rating:s(this._safeWebResult)?this._safeWebResult.siteRating:e},t})(e.SymBfw,e.SafeWeb,e.NSSS)})(executionContext),(e=>{e.NSSS.webProtectionPolicy=(e=>{var t=e.settings,a=e.utils.isNil,n=e.logger;let i=NSSS.trackerLogger;var r=NSSS.constants.webProtectionPolicy,s=SafeWeb.constants.RATING_TYPE,o={_policyContainer:null,initialize:()=>{o._policyContainer=t.loadSettingsContainer(r.WEB_PROTECTION_POLICY_CONTAINER,!1),o._setDefaultStatus()},_setDefaultStatus:()=>{o._policyContainer.setObject(r.SAFEWEB_STATUS,!0),o._policyContainer.setObject(r.FORMJACK_STATUS,!0)},setSafeWebStatus:e=>{if(a(o._policyContainer))throw new Error("Policy Settings not initialized");o._policyContainer.setObject(r.SAFEWEB_STATUS,e)},isEnabled:e=>{if(a(o._policyContainer))n.error("Policy Settings not initialized"),i.logEvent(i.LOG_TYPE.ERROR,"Policy Settings not initialized");else switch(e){case s.SAFEWEB:return o._policyContainer.getObject(r.SAFEWEB_STATUS);case r.FORMJACK_STATUS:return o._policyContainer.getObject(r.FORMJACK_STATUS)}return!0}};return o})(e.SymBfw)})(executionContext),(e=>{(e.NSSS=e.NSSS||{}).webProtection=((e,i,r)=>{var s={},o=r.nfmEvents,E=e.utils.isNil,_=e.utils.isntNil,a=e.utils.isFunction,l=(e.utils.isInteger,e.logger);let T=r.trackerLogger;var S=r.Rating,c=i.constants.RATING_TYPE;e.utils.isEmptyObject;let A=e.performanceReporterFactory;var I=r.constants;return s._registeredEvents={},s.registerEventCallback=function(e,t){if(E(e))throw new Error("EventID cannot be null or undefined");if(!1===a(t))throw new Error("Callback function cannot be null.");this._registeredEvents[e]=t},s.handleEvent=function(e,t,a,n=0,i){if(E(e))throw new Error("Session ID cannot be null");if(E(t))throw new Error("Event cannot be null");if(E(a))throw new Error("eventData cannot be null");t!==o.FRAME_BEGIN&&t!==o.DOWNLOAD_EVENT||s.getProtectionRatingForURL(e,a,t)},s.getProtectionRatingForURL=function(t,e,a){let n="SafeWeb lookup time for block page: "+Date.now();if(E(e))throw new Error("URL cannot be null");A.reportStartForComponent(I.performanceReporter.NSSS,n),i.manager.getRatingForURL(e,function(e){A.reportStopForComponent(I.performanceReporter.NSSS,n),E(e)||s.handleUrlRating(t,e,a)})},s.handleUrlRating=function(t,a,n){if(!E(a)){let e=r.helperUtils.getSessionSetting(t,o.PAGE_ANALYZED);E(e)&&(e=new S),a.finalRedirectedTabUrl=r.helperUtils.getSessionSetting(t,I.FINAL_REDIRECTED_TAB_URL),e.setRating(a,c.SAFEWEB),r.helperUtils.setSessionSetting(t,o.PAGE_ANALYZED,e),n===o.FRAME_BEGIN?s.handleResponse(t,o.PAGE_ANALYZED,e):n===o.DOWNLOAD_EVENT&&s.handleResponse(t,o.DOWNLOAD_URL_ANALYZED,e)}},s.handleResponse=function(e,t,a){if(E(e))throw new Error("Session ID cannot be null");if(E(a))throw l.log("response cannot be null for eventID:"+t),T.logger.log("response cannot be null for eventID:"+t),new Error("response cannot be null");var n=this._registeredEvents[t];E(n)?(l.error("Could not find callback method for eventID:"+t),T.logEvent(T.LOG_TYPE.ERROR,"Could not find callback method for eventID:"+t)):setTimeout(function(){n(e,t,a)},1)},s.handleFormjackProtectionEvent=function(e){var{sessionID:t,nsssRating:a}=r.webProtection._handleFormjackProtectionEvent(e);e.details.isPageBlock||r.webProtection.handleResponse(t,r.nfmEvents.PAGE_ANALYZED,a)},s._handleFormjackProtectionEvent=function(e){var t=r.nfmEvents.PAGE_ANALYZED;let a=r.helperUtils.getSessionIDForTabID(e.details.tabId),n=(E(a)&&(a=r.main.createSessionForTab(e.details.tabId)),r.helperUtils.getSessionSetting(a,t));E(n)&&(n=new S);var i={rating:r.constants.FORMJACK_PROTECTION.SITE_RATING.FORMJACK_STATE,blockedModule:r.uiConstants.BLOCKPAGE.TYPE.FORMJACK,url:e.details.url};return _(e.details.queryParams)&&(i.queryParams=e.details.queryParams),(n=n.setRating?n:new r.Rating(n)).setRating(i,r.constants.FORMJACK_PROTECTION.RATING_TYPE.FORMJACK_TYPE),r.uiHelper.setShowFullReportForSessionID(a,!1),r.uiHelper.setShowReportSiteForSessionID(a,!1),r.helperUtils.setSessionSetting(a,t,n),{sessionID:a,nsssRating:n}},s})(e.SymBfw,e.SafeWeb,e.NSSS)})(executionContext),(e=>{function t(e){this._queryDict=URI.parseQuery(e)}e.NSSS.URLSearchParams=(t.prototype.get=function(e){return this._queryDict[e]},t.prototype.append=function(e,t){this._queryDict[e]=t},t.prototype.delete=function(e){delete this._queryDict[e]},t.prototype.toString=function(){var e,t="";for(e in this._queryDict)t+=e+"="+this._queryDict[e]+"&";return t.replace(/&$/,"")},t)})(executionContext),(e=>{var t,r,s,n,o;e.NSSS.ocodeMgr=(t=e.SymBfw,s={},n=(r=e.NSSS).globalSettings,o=t.logger,s._oCodeWriteRestriction={ds:!1,hp:!1},s._lifeLockOCodes={DS:"APN12312",HP:"APN12313",UI_SEARCH:"APN12311"},s._lifeLockTestPartnerID="tiacll",s.getDSOCode=function(){return s._getOCode("DS")},s.updateDefaultOCode=function(e,t,a,n){var i=r.constants.OCODE_KEYS[e];a===r.constants.OCODE_PROVIDER.AB_TEST?(r.constants[i]=t,s._oCodeWriteRestriction[e]=n,o.debug(e+` OCode updated ${t}, isWriteRestricted: `+n),r.trackerLogger.logger.debug(e+` OCode updated ${t}, isWriteRestricted: `+n)):s._oCodeWriteRestriction[e]?(o.debug(e+" write-restricted OCode not updated"),r.trackerLogger.logger.debug(e+" write-restricted OCode not updated")):(r.constants[i]=t,o.debug(e+" OCode updated "+t),r.trackerLogger.logger.debug(e+" OCode updated "+t))},s.getHPOCode=function(){return s._getOCode("HP")},s.getUISearchOCode=function(){return s._getOCode("UI_SEARCH")},s._getOCode=function(e){var t=n.getPartnerId()===s._lifeLockTestPartnerID,a=null;switch(e){case"DS":a=t?s._lifeLockOCodes.DS:r.constants.DS_OCODE;break;case"HP":a=t?s._lifeLockOCodes.HP:r.constants.DHP_OCODE;break;case"UI_SEARCH":a=t?s._lifeLockOCodes.UI_SEARCH:r.constants.SEARCH_OCODE;break;default:throw o.error("Default ocode requested. Likely a bug"),r.trackerLogger.logEvent(r.trackerLogger.LOG_TYPE.ERROR,"Default ocode requested. Likely a bug"),new Error("There is no default OCode. Likely a bug")}return a},s)})(executionContext),(e=>{(e.NSSS=e.NSSS||{}).NSSSHelper=((s,r,e)=>{let o={weekOfInstall:null},{utils:{isBoolean:t,isntNil:E,isNil:i,isString:_,isStorePageURL:l,isNumber:a,isArray:n,isObject:T,isFunction:S},extensionAdapter:c}=s,{constants:A,globalSettings:I,URLSearchParams:u}=r;return o.constants={chromeInterstitialSegmentString:"chromeInterstitial"},o._urlParamsPromise=new Promise(e=>{o._resolveOnUrlParamsSet=e}),o.getCurrentWindowLocation=function(){return document.location.href},o.isLandingPageURL=function(e){return!(i(e)||!_(e)||"https"!==(e=new URI(e)).protocol()||!A.ONBOARDING_PORTAL_DOMAIN_MAP.hasOwnProperty(e.domain())||!A.ONBOARDING_PORTAL_DOMAIN_MAP[e.domain()].includes(e.subdomain()))},o.isChromeInterstitialPageURL=e=>{if(!i(e)){var t=o.constants.chromeInterstitialSegmentString,e=new URI(e);if("https"===e.protocol()&&r.constants.ONBOARDING_PORTAL_DOMAIN_MAP.hasOwnProperty(e.domain())&&r.constants.ONBOARDING_PORTAL_DOMAIN_MAP[e.domain()].includes(e.subdomain())){e=e.segment();if(1===e.length&&e[0]===t)return!0}}return!1},o.isCurrentExtensionURL=e=>{var t=s.globals.BROWSER,a=new URI(e),n=a.path().split("/");switch(t){case"Chrome":case"Edge-Chromium":if(n.includes(s.extensionAdapter.getExtensionId()))return!0;break;case"Safari":var i=a.search(!0).id,r=s.extensionAdapter.getExtensionId().split("-")[0];if(i&&i.startsWith(r))return!0;break;case"Edge":if(n.includes(A.STORE_URL_NAME))return!0}},o.isYahooSERPPage=function(e){var t=[A.yahooVendorConstants.HSPART_VALUE,A.yahooVendorConstants.HSPART_VALUE_LEGACY],a=[A.yahooVendorConstants.HSIMP_VALUE,A.yahooVendorConstants.HSIMP_VALUE_THREE_IN_ONE,A.yahooVendorConstants.HSIMP_VALUE_EDGE_CHROMIUM];return!!_(e)&&"https"===(e=new URI(e)).protocol()&&e.domain()===A.YAHOO_DOMAIN_NAME&&(e=e.search(!0),!!t.includes(e[A.yahooVendorConstants.HSPART]))&&!!a.includes(e[A.yahooVendorConstants.HSIMP])},o.isIACSERPPage=function(e){return!!_(e)&&"https"===(e=new URI(e)).protocol()&&e.hostname()===A.HOST_NAME[A.IAC]},o.isValidURL=function(e){var t;return!!_(e)&&(t=(e=new URI(e)).protocol(),!i(t))&&0!==t.length&&(t=e.domain(),!i(t))&&0!==t.length},o.getCurrentExtensionIdentifier=function(){var e=s.extensionAdapter.getExtensionURL("");return i(e)?"":new URI(e).hostname()},o.isValidVendor=e=>!i(e)&&r.constants.VENDOR_LIST.includes(e),o.findAndSaveUrlParamsFromChromeWebStore=async()=>{if(!I.getFlavorized())return new Promise(i=>{c.getAllTabs(e=>{var t,a,e=e.filter(e=>l(e.url));if(0===e.length)o._resolveOnUrlParamsSet();else for(var n of e)E(n.url)&&(t=URI(n.url.toLowerCase())._parts.query,a=(t=new u(t)).get(A.URL_PARAMS_KEY.TRACK),o.isValidTrackValue(a)&&I.setTrackValue(a),a=t.get(A.URL_PARAMS_KEY.INSTALL_SOURCE.toLowerCase()),_(a)&&I.setInstallSource(a),a=t.get(A.URL_PARAMS_KEY.CAMPAIGN_NAME),_(a)&&I.setCampaignCode(a),a=t.get(A.URL_PARAMS_KEY.PARTNERID),E(a)&&I.setPartnerId(a),a=t.get(A.URL_PARAMS_KEY.PARTNER_UNIT_ID),E(a)&&I.setPUID(a),r.globalSettings.setWebStoreUrl(n.url),o._canUpdateDefaultSearch())&&r.helperUtils.handleOmniSearch();return o._resolveOnUrlParamsSet(),i()})});await o.getAndSetWebStoreUrl(),o._resolveOnUrlParamsSet()},o._canUpdateDefaultSearch=()=>s.extensionAdapter.isManifestV3Extension()&&(r.helperUtils.isDS()||r.helperUtils.isMediaDotNetExtension()),o._getTabsWithStoreUrl=async()=>new Promise(t=>{c.getAllTabs(e=>{e=e.filter(e=>l(e.url));return t(e)})}),o.getAndSetWebStoreUrl=async()=>{var e=await o._getTabsWithStoreUrl();0!==e.length&&r.globalSettings.setWebStoreUrl(e[0].url)},o.getTrackValue=async()=>{var e=r.globalSettings.getTrackValue();return E(e)?e:(await o._urlParamsPromise,r.globalSettings.getTrackValue())},o.getSubdomainForGeoLocation=(t,a)=>{if(!i(t)&&!i(a)){let e="";a=a.split("-")[0];return e=A.GEO_LOCATION_SUBDOMAIN_MAP[t]?A.GEO_LOCATION_SUBDOMAIN_MAP[t][a]||A.GEO_LOCATION_SUBDOMAIN_MAP[t].default:A.GEO_LOCATION_SUBDOMAIN_MAP[A.DEFAULT_COUNTRY.toLowerCase()].default}},o.isVendorMigrationDoneFFEdge=()=>!!t(r.constants.VENDOR_MIGRATION)&&r.constants.VENDOR_MIGRATION,o.isVendorMigrationDone=function(){return!!r.globalSettings.getVendorMigrationDone()},o.saveAndgetExtensionInstallMonthAndYear=function(){var e,t=r.globalSettings.getExtensionInstallMonthAndYear();return _(t)||(t=""+(1===(e=r.globalSettings.getInstallDate().split("-"))[1].length?e[1].padStart(2,"0"):e[1])+e[0].slice(-2),r.globalSettings.setExtensionInstallMonthAndYear(t)),t},o.waitForWindowLoadEvent=function(){return new Promise(e=>{window.addEventListener("load",e)})},o.isBlockPage=function(e){if(!_(e))return!1;if(!e)return!1;try{let t=new URL(e).pathname;return[r.uiConstants.BLOCKPAGE.HTML,r.uiConstants.FORM_JACK_PROTECTION_BLOCK_PAGE.HTML].some(e=>t===""+A.UI_PATH+e)}catch(e){return!1}},o.getTabWithUrl=function(e){if(_(e))return new Promise(t=>{s.extensionAdapter.getTabsWithURL(e,e=>{t(e)})})},o.focusTab=function(t){if(a(t))return new Promise(e=>{s.extensionAdapter.activateTab(t,()=>{e("tab focussed")})})},o.updateUrlParamsOfAllMatchingUrls=(e,r)=>{if(i(e)||!n(e)||!e.length)throw Error("Invalid url array object");e.forEach(e=>{c.getTabsWithURL(e,e=>{e.forEach(e=>{var t,a,n=new URL(e.url);let i=!1;for([t,a]of Object.entries(r))n.searchParams.get(t)!==a.toString()&&(n.searchParams.set(t,a.toString()),i=!0);i&&c.updateTabUrl(e.id,n.toString())})})})},o.sendMessageToHomePageTabs=async t=>{T(t)&&(await r.helperUtils.getAllHomePageTabs()).forEach(e=>{c.sendMessageToTab(e,t)})},o.getWeekOfInstall=function(){var e,t;return i(o.weekOfInstall)&&(e=new Date(I.getInstallDate()),t=new Date(e.getFullYear(),0,1),t=(e.getTime()-t.getTime())/A.ONE_DAY_IN_MILLISECONDS,o.weekOfInstall=Math.ceil(t/7).toString().padStart(2,0)+"-"+e.getFullYear().toString().substring(2)),o.weekOfInstall},o.getBrowserValue=function(){let e=A.BROWSERS_MAP[r.globalSettings.getBrowserValue()];if(!_(e)){if(s.utils.isExtnRunningInNSB())return A.SECURE;var t=o.getValueFromParamString(r.constants.URL_PARAMS_KEY.BROWSER);e=A.BROWSERS_MAP[t],_(e)||(e=A.BROWSERS_MAP[s.globals.BROWSER])}return e},o.getCampgnCodeForOs=()=>{var e=s.utils.getOSType();return A.CAMPAIGN_CODE[e]||A.DEFAULT_CAMPGN_CODE},o.getInstallSource=()=>{let e=I.getInstallSource();return e=_(e)||(e=o.getValueFromParamString(r.constants.URL_PARAMS_KEY.INSTALL_SOURCE),_(e))?e:A.DEFAULT_INSTALL_SOURCE},o.getCampaignCode=()=>{let e=I.getCampaignCode();if(!_(e)&&(e=o.getValueFromParamString(r.constants.URL_PARAMS_KEY.CAMPAIGN_NAME),!_(e))){if(r.helperUtils.isMediaDotNetExtension())return null;e=o.getCampgnCodeForOs()}return e},o.getCampaignCodeForHbPing=async()=>await o.getUrlParamForHbPing(I.getCampaignCode,o.getCampaignCode),o.getInstallSourceForHbPing=async()=>await o.getUrlParamForHbPing(I.getInstallSource,o.getInstallSource),o.getUrlParamForHbPing=async(e,t)=>S(e)&&S(t)?(e=e(),_(e)||await o._urlParamsPromise,t()):null,o.getExtensionInstallType=async()=>{var e=await s.extensionAdapter.getExtensionMetaData();return T(e)&&(e=e.installType,_(e))?e:A.NOT_SET},o.getValueFromParamString=e=>{var t=r.globalSettings.getParamsString();if(_(t))return new u(t).get(e.toLowerCase())},o.isTelemetryQueueCleanupRequired=()=>r.uiConstants.EXTENSION_TYPE===r.uiConstants.SAFEWEB_EXTENSION&&(s.globals.BROWSER===s.constants.BROWSER_TYPE.EDGE_CHROMIUM||s.globals.BROWSER===s.constants.BROWSER_TYPE.CHROME),o.cleanUpTrackValue=()=>{var e=I.getTrackValue();o.isValidTrackValue(e)||I.setTrackValue("")},o.isValidTrackValue=e=>!!o.isTrackValueValidType(e)&&!A.EXCLUDED_TRACK_VALUES.includes(e),o.isTrackValueValidType=e=>_(e)&&""!==e,o.getLayoutType=()=>{let e=I.getLayoutType();return e=i(e)?A.UNKNOWN:e},o.sendMessageToExternalExtension=(e,n)=>new Promise((t,a)=>{if(i(e)||i(n))return a("extensionId or message should not be null");c.sendMessageExternal(e,n,e=>{if(c.getLastError()||i(e))return a("Extension is not available or result is null");t(e)}),setTimeout(()=>{a("Timed out")},1e3)}),o.appendLandingPageURLParams=a=>{var e;if(_(a))return A.ONBOARDING_PAGE_URL_PARAMS.forEach(e=>{var t=I.getValue(e);E(t)&&(a=`${a}&${A.STORAGE_URL_PARAMS_KEY_MAP[e]}=`+t)}),e=I.getValue(A.PARAMSTRINGKEY),a=E(e)?a+"&"+e:a},o.isDuplicateRequest=e=>!!_(e)&&!!e.includes(r.constants.URL_PARAMS_KEY.CGUID),o.canShowKeepAssist=e=>!(s.globals.BROWSER!==s.constants.BROWSER_TYPE.CHROME||s.utils.getOSType()!==s.constants.os.WINDOWS||"en"!==s.localizer.getNavigatorLanguage().split("-")[0]||!r.helperUtils.isMediaDotNetExtension()||!i(I.getKeepAssistShownState())),o.shouldAutoHideTelemetryNotification=()=>!(s.globals.BROWSER!==s.constants.BROWSER_TYPE.CHROME||!r.helperUtils.isMediaDotNetExtension()),o.handleOmniSearchMv3=e=>{var t;o.canShowKeepAssist()&&e.url.includes("&annot=")&&(t=c.getExtensionURL("content/ui/keepAssist.html?redirect="+btoa(e.url)),c.updateTabUrl(e.tabId,t),I.setKeepAssistShownState()),r.NSSSHelper.isDuplicateRequest(e.url)||r.activeUserSearch.incrementSearchCount()},o.isLinkGuardSupported=()=>!!e&&!!e.linkGuardManager,o.getLinkGuardEnabled=()=>!!o.isLinkGuardSupported()&&e.linkGuardManager.getLinkGuardEnabled(),o})(e.SymBfw,e.NSSS,e.LinkGuardSDK)})(executionContext),(()=>{var{}=NSSS;var e=new class{constructor(){this.abTestImpls={}}registerABTestImpl(e,t){this.abTestImpls[e]=t}};NSSS.abTestingAppsRepo=e})(),(()=>{let r=NSSS.abTestingAppsRepo,{isNil:s,isntNil:o}=SymBfw.utils;var e=new class{_getApplicableAppsAndTourData(){let i={appsData:{},tourData:[]};var e=Object.keys(r.abTestImpls);return s(e)||0===Object.keys(e).length||e.forEach(e=>{var t,a,n=this.getApplicableVariantForTestId(e);s(n)||(t=(e=r.abTestImpls[e]).getAppsData(n),o(t)&&0!==Object.keys(t.data).length&&(a=t.key,i.appsData={...i.appsData,[a]:t}),a=e.getTourData(n),o(a)&&0!==Object.keys(a).length&&i.tourData.push(a))}),i}async getApplicableVariantForTestId(e){var e=(await multiVariateTestingSDK.multiVariateTestManager.getVariantForTestIds([e])).tests;return!s(e)&&0!==e.length&&(e=e[0].variant,o(e))?e.variantId:null}getApplicableAppsData(){var e=this._getApplicableAppsAndTourData().appsData;return e}getApplicableTourData(){var e=this._getApplicableAppsAndTourData().tourData;return e}getCustomDimensionsData(){var e=Object.keys(r.abTestImpls);if(!s(e)&&0!==Object.keys(e).length){let t={},a={};return e.forEach(e=>{e=r.abTestImpls[e];t=e.getHeartBeatPingCustomDimesions(),a=e.getInstallPingCustomDimensions()}),{hbPingCustomDimesions:t,installPingCustomDimesions:a}}}getHeartBeatPingCustomDimesions(){var e=this.getCustomDimensionsData().hbPingCustomDimesions;return e}getInstallPingCustomDimesions(){var e=this.getCustomDimensionsData().installPingCustomDimesions;return e}};NSSS.abTestingDataProvider=e})(),NSSS.extensionsPromotionConstants=class{static get TEST_ID(){return"APPS_TEST_2023_1"}static get DS_HP_PROMOTION(){return"ds_hp_promotion"}static get STRINGS(){return{promotionTitle:SymBfw.localizer.getLocalizedString("Safe Search"),installText:SymBfw.localizer.getLocalizedString("Install"),productName:SymBfw.localizer.getLocalizedString("Norton Safe Search"),installDescText:SymBfw.localizer.getLocalizedString("extensions now to help protect your searches from potential malicious links. Browse the web more safely."),installExtensionsText:SymBfw.localizer.getLocalizedString("Install Extensions")}}static get PRE_INSTALLED_EXTENSIONS(){return["hp","ds"]}static get TEST_VARIANT(){return"APPS_TEST_2023_1_TEST_TRACK"}},(e=>{let{utils:{isNil:t},telemetryConstants:a}=SymBfw,n=NSSS.extensionsPromotionConstants;(e.NSSS=e.NSSS||{}).extensionsPromotion=new class{async getApplicableVariant(){return await NSSS.abTestingDataProvider&&NSSS.abTestingDataProvider.getApplicableVariantForTestId(n.TEST_ID)}async canPromoteSearchExtensions(){return!await NSSS.externalCommunication.isExtensionsInstalled(n.PRE_INSTALLED_EXTENSIONS)}_getDataBasedOnVariant(e){return{[n.TEST_VARIANT]:{data:{strings:n.STRINGS}}}[e]}async getExtensionsPromotionTileData(){var e=await this.getApplicableVariant();return t(e)||!await this.canPromoteSearchExtensions()||(e=this._getDataBasedOnVariant(e),t(e))||0===Object.keys(e.data).length?null:e}_getApplicableVariantCustomDimension(){return{[a.parameters.CUSTOM_DIMENSION47]:()=>this.getApplicableVariant()}}getHeartBeatPingCustomDimesions(){return{...this._getApplicableVariantCustomDimension()}}getInstallPingCustomDimensions(){return{...this._getApplicableVariantCustomDimension()}}},NSSS.abTestingAppsRepo.registerABTestImpl(NSSS.extensionsPromotionConstants.TEST_ID,NSSS.extensionsPromotion)})(executionContext),(e=>{(e.NSSS=e.NSSS||{}).main=((c,A)=>{var I={},s=A.uiConstants.BLOCKPAGE.TYPE,u=c.logger;let R=A.trackerLogger;var a=c.utils,N=A.helperUtils,o=A.uiHelper,O=A.nfmEvents,d=c.utils.isNil,g=c.utils.isntNil,C=A.constants,r=A.globalSettings,m=A.webProtection,i=A.wpsHelperUtils,E=c.localizer,L=c.extensionAdapter,D=A.uiConstants.MESSAGES;let P=c.performanceReporterFactory,_=A.NSSSHelper,n=(c.utils.isFunction,c.constants.uiConstants),l=A.extensionsPromotion;return I.downloadBlockParentUrlMap={},I.popoverWindowStrings=function(e,t){return o.popoverWindowStrings(e,t)},I.handleUIEvents=function(e,t){return N.handleUIEvents(e,t)},I.searchURLsAnalyzedCallback=function(e,t,a){var n,i,r;N.getSessionIDObject(e)?(n=a.annotationResults,i=N.getTabIDForSessionID(e),r={name:"annotate-urls",annotationResults:n,frameId:a.frameId},L.getTab(i,function(e){L.sendMessageToTab(e,r)})):(u.log("Tab has been closed by the time search annotation results came back:"+e),R.logger.log("Tab has been closed by the time search annotation results came back:"+e))},I.flavorizeAndReloadOnBoarding=function(){A.globalSettings.getFlavorized()||L.getAllTabs(function(e){e.forEach(function(e){var t=e.url;d(t)||_.isLandingPageURL(t)&&(L.addMessageListener(A.main._setSearchVendorMessageListener),t=L.getTabID(e),L.updateTabUrl(t,e.url),L.activateTab(t),N.setFlavor(e.url,{}))})})},I.performCollectURLs=function(e){e=N.getTabIDForSessionID(e);L.getTab(e,function(e){var t=L.getLastError();g(t)?(u.log("Tab is not available"),u.log(t),R.logger.log("Tab is not available"+R.errorToString(t))):d(e)?(u.log("Tab is not available so come back when tabReplaced has occurred"),R.logger.log("Tab is not available so come back when tabReplaced has occurred")):L.sendMessageToTab(e,{name:"collectURLs"})})},I.handleTelemetryOptOut=function(){var e=c.telemetrySettings.isTelemetryEnabled();if(!e){!c.telemetrySettings.hasUserRespondedInOptOutPage()&&_.shouldAutoHideTelemetryNotification()&&I.createTelemetryNotificationDueCheckAlarm();var t=c.telemetrySettings.getLastOfferDate(),a=!1;do{if(d(t)){a=!0;break}if("Firefox"===c.globals.BROWSER)break;if(new Date-t>A.constants.telemetryOptOut.REOFFER_TIME_WINDOW){a=!0;break}}while(0);if(a){let e=A.constants.telemetryOptOut.NOTIFICATION_LEEWAY,t=(e="Firefox"===c.globals.BROWSER&&A.uiConstants.EXTENSION_TYPE!==A.uiConstants.SAFEWEB_EXTENSION?A.constants.telemetryOptOut.NOTIFICATION_LEEWAY_FIREFOX:e)+1e3*Math.random();I._showTelemetryNoitifcation(t)}}},I._showTelemetryNoitifcation=function(e){c.alarmHelper.setAlarm(A.constants.ALARM_NAMES.TELEMETRY_NOTIFICATION,{delayInMinutes:e/A.constants.MS_TO_MIN_CONVERSION_VALUE})},I.hideTelemetryNotifcation=function(){var e=r.getTelemetryNotificationId();e&&(c.extensionAdapter.isManifestV3Extension()?c.notificationCenter.removeNotificationManifestV3(e):c.notificationCenter.removeNotification(e),r.setTelemetryNotificationDueTimestamp(Date.now()+A.constants.telemetryOptOut.NOTIFICATION_REOFFER_DELAY_DURATION_IN_MILLI_SEC),I.createTelemetryNotificationDueCheckAlarm())},I.checkTelemetryNotificationDueElapsed=function(){var e=r.getTelemetryNotificationDueTimestamp();Date.now()>e&&I.setTelemetryNotification()},I.createTelemetryNotificationDueCheckAlarm=function(){r.getTelemetryNotificationDueTimestamp()>Date.now()&&c.alarmHelper.setAlarm(A.constants.ALARM_NAMES.TELEMETRY_NOTIFICATION_DUE_CHECK_WAKEUP,{periodInMinutes:A.constants.telemetryOptOut.NOTIFICATION_ALARM_DUE_CHECK_WAKEUP_DURATION_IN_MINUTES})},I.setTelemetryNotification=()=>{var e,t,a,n,i;c.telemetrySettings.isTelemetryEnabled()||(i=E.getLocalizedStringWithFormat("Thank you for using {0}! Share usage and error data anonymously with Norton to help make our products even better.",[C.PRODUCT_NAME]),e=E.getLocalizedString("OK"),t=E.getLocalizedString("Learn More"),a=E.getLocalizedString("No, thanks"),n="content/images/"+A.constants.DEFAULT_INFO_ICON,(i=new c.QuestionNotification(i,{},e,I._telemetryNotificationDefaultAction,n)).addSecondaryLink(t,I._telemetryNotificationSecondayLinkAction),i.addThirdButton(a,I._telemetryNotificationThirdButtonAction),i.addCloseButtonAction(I._telemetryNotificationCloseButtonAction),c.telemetrySettings.setLastOfferDate(new Date),c.notificationCenter.addNotification(i),c.extensionAdapter.isManifestV3Extension()&&r.setTelemetryNotificationId(i.getID()),A._telemetryNotificationID=i.getID(),_.shouldAutoHideTelemetryNotification()&&c.alarmHelper.setAlarm(A.constants.ALARM_NAMES.TELEMETRY_NOTIFICATION_AUTOHIDE,{when:Date.now()+A.constants.telemetryOptOut.NOTIFICATION_AUTOHIDE_DURATION_IN_MILLI_SEC}))},I._handleNotificationEvent=async function(e){await A.init.ready();var e=e.detail,t=r.getTelemetryNotificationId();if(e.notificationID===t)switch(e.eventID){case n.NOTIFICATION.MESSAGES.DEFAULT_BUTTON_PRESSED:I._telemetryNotificationDefaultAction();break;case n.NOTIFICATION.MESSAGES.SECONDARY_LINK_PRESSED:I._telemetryNotificationSecondayLinkAction();break;case n.NOTIFICATION.MESSAGES.THIRD_BUTTON_PRESSED:I._telemetryNotificationThirdButtonAction();break;case n.NOTIFICATION.MESSAGES.NOTIFICATION_CLOSED:I._telemetryNotificationCloseButtonAction();break;default:return}},I._telemetryNotificationDefaultAction=e=>{c.telemetrySettings.setTelemetryEnabled(!0),c.telemetrySettings.setUserRespondedInOptOutPage(!0),c.alarmHelper.clearAlarm(A.constants.ALARM_NAMES.TELEMETRY_NOTIFICATION_DUE_CHECK_WAKEUP),c.alarmHelper.clearAlarm(A.constants.ALARM_NAMES.TELEMETRY_NOTIFICATION_AUTOHIDE),"Firefox"===c.globals.BROWSER&&A.uiConstants.EXTENSION_TYPE!==A.uiConstants.SAFEWEB_EXTENSION&&A.init._sendInstallHBPing()},I._telemetryNotificationSecondayLinkAction=e=>{A.settingsManager._openPrivacyPolicypage(),I._showTelemetryNoitifcation(50)},I._telemetryNotificationThirdButtonAction=e=>{c.telemetrySettings.setTelemetryEnabled(!1),c.telemetrySettings.setUserRespondedInOptOutPage(!0),c.alarmHelper.clearAlarm(A.constants.ALARM_NAMES.TELEMETRY_NOTIFICATION_DUE_CHECK_WAKEUP),c.alarmHelper.clearAlarm(A.constants.ALARM_NAMES.TELEMETRY_NOTIFICATION_AUTOHIDE)},I._telemetryNotificationCloseButtonAction=e=>{c.telemetrySettings.setTelemetryEnabled(!1),c.telemetrySettings.setUserRespondedInOptOutPage(!0),c.alarmHelper.clearAlarm(A.constants.ALARM_NAMES.TELEMETRY_NOTIFICATION_DUE_CHECK_WAKEUP),c.alarmHelper.clearAlarm(A.constants.ALARM_NAMES.TELEMETRY_NOTIFICATION_AUTOHIDE)},I.handleOnUpdated=async function(e,t,a){u.log("Handle on updated:"+e),R.logger.log("Handle on updated:"+e),await A.init.ready();var n,i,r=N.getSessionIDForTabID(e);N.isURLWhitelisted(a.url)?N.updateActionButton(r,e,a.url):(i=await A.extensionURLValidator.isNortonExtensionURL(a.url),n=A.NSSSHelper.isBlockPage(a.url),i&&!n?(i=L.getExtensionURL("content/images/")+A.constants.SAFE_IMAGE+".png",L.setBrowserIcon({path:i,tabId:e})):(n=o.toolbarStatusForSessionID(r),d(n)||(i=L.getExtensionURL(""),a.url.startsWith(i)&&d(n.redirectPage)&&I.deleteSessionForTab(e),N.updateActionButton(r,e,n.url))))},I.tabIdToRedirectUrlsMap={},I.collectRedirectUrls=function(e){let t;t=I.tabIdToRedirectUrlsMap[e.tabId]||new Set;var a=N.getSessionIDForTabID(e.tabId),a=(d(a)&&I.createSessionForTab(e.tabId),L.getExtensionURL(""));e.url.startsWith(a)||(t.add(e.url),I.tabIdToRedirectUrlsMap[e.tabId]=t)},"sw"!==A.uiConstants.EXTENSION_TYPE&&"three-in-one"!==A.uiConstants.EXTENSION_TYPE&&"media-dot-net"!==A.uiConstants.EXTENSION_TYPE||chrome.webRequest.onBeforeRequest.addListener(I.collectRedirectUrls,{urls:["<all_urls>"],types:["main_frame"]}),I._handleInstallButtonClick=async()=>{await A.init.ready();var e=A.NSSSHelper.appendLandingPageURLParams(C.LANDING_PAGE_URL)+"&installSource="+C.SW_BLOCK;L.createTab(e),A.telemetryWrapper.sendBlockPagePromotionTileClick(),A.telemetryTrackerClient.sendBlockPagePromotionTileClick()},I._sendBlockPageData=(e,t,a,n)=>{d(e.pageType)&&(e.pageType=s.MALICIOUS);var i={},r=(i.string=o.getBlockPageString(e.pageType),A.helperUtils.getFeatureFlavorization()),r=(i.showSafeWebSearchbox=r.showSafeWebSearchbox,i.showNortonLinks=e.pageType!==s.SUSPECTEDBAD&&r.showNortonLinks,i.pageType=e.pageType,i.canShowFullReport=e.pageType!==s.SUSPECTEDBAD,o.uiStatusForSessionID(t,a));g(r)&&(i.fullReportURL=r.fullReportURL),n(i),A.main._sendBlockPageTelemetry(t)},I._sendExtensionsPromotionDataToTab=async e=>{var t;d(e)||(t=await l.getExtensionsPromotionTileData(),t={id:D.EXTENSIONS_PROMOTION_DATA,message:{extensionsPromotionData:t}},L.sendMessageToTab(e,t))},I._sendBlockPageTelemetry=t=>{var a=o.toolbarStatusForSessionID(t);if(!d(a)){var n=i.blockPageType(a.siteRating),t=N.getSessionSetting(t,O.PAGE_ANALYZED);let e=!1;g(t)&&g(t._safeWebResult)&&(e=!N.isRatingForFinalRedirectedUrl(t._safeWebResult)),A.telemetryTrackerClient.sendBlockPageTelemetry(a.url,n,!1,e),console.log(n),A.telemetryWrapper.sendBlockPageTelemetry(a.url,n,!1,e)}},I.handleMessage=function(e,a,n){var i=n,r=L.getTabID(i),s=N.getSessionIDForTabID(r),o=(d(s)&&(s=I.createSessionForTab(r)),e.message),E=e.name,_=null;switch(E){case D.DOMEVENT:if(o.eventID===O.FRAME_BEGIN&&(I.pageAnalysisTime="Overall time taken for page analysis: "+Date.now(),P.reportStartForComponent(C.performanceReporter.NSSS,I.pageAnalysisTime),A.constants.TABID,I._deleteOldSession(s,r,o.url)&&(s=I.createSessionForTab(r)),N.setSessionSetting(s,A.constants.FINAL_REDIRECTED_TAB_URL,o.url),d(A.main.tabIdToRedirectUrlsMap[r]))&&(l={url:o.url,tabId:n.id},I.collectRedirectUrls(l)),g(A.main.tabIdToRedirectUrlsMap[r])&&(I.tabIdToRedirectUrlsMap[r].forEach(e=>{m.handleEvent(s,o.eventID,e)}),delete I.tabIdToRedirectUrlsMap[r]),o.isTop){var l=o.hidden;if(g(l)&&N.setSessionSetting(s,"hidden",l),N.setSessionSetting(s,o.eventID,!0),o.eventID===O.NAVIGATE_COMPLETE){if(_=N.getSessionSetting(s,O.PAGE_ANALYZED),d(_))return;g(_.searchText)&&A.main.performCollectURLs(s)}}break;case D.SHOW_ANNOTATION_POPUP:case D.CLOSE_ANNOATION_POPUP:L.sendMessageToTab(i,{name:E,data:o});break;case"collectURLs":_=N.getSessionSetting(s,O.PAGE_ANALYZED),d(_)||g(_.searchText)&&A.main.performCollectURLs(s);break;case"flavor-retrieved":d(i.url)||N.setFlavor(i.url,o);break;case D.BLOCKEDPAGE_SEARCH:c.utils.isString(o.searchText)&&(I.handleClose(r),l=N.getSearchURL(A.constants.BLOCKEDPAGE_SEARCH_OCODE,o.searchText),L.updateTabUrl(r,l),A.telemetryWrapper.sendBlockedPageSearchEvent(),A.telemetryTrackerClient.sendBlockedPageSearchEvent());break;case D.HANDLE_UI_EVENTS:I.handleUIEvents(o.eventID,o.eventData);break;case D.UPDATE_POPOVER_UI:return A.telemetryWrapper.sendShowPopupUIEvent(L.getExtensionURL("content/ui/popup.html")),A.telemetryTrackerClient.sendShowPopupUIEvent(L.getExtensionURL("content/ui/popup.html")),A.chromeGlobal.updatePopoverUI(a),!0;case D.BLOCKEDPAGE_INIT:A.main._sendBlockPageData(o,s,i.url,a),A.main._sendExtensionsPromotionDataToTab(i);break;case D.EXIT_BLOCK_PAGE:d(r)?(u.log("Invalid tab ID"),R.logger.log("Invalid tab ID")):(L.closeTab(r),A.telemetryWrapper.sendBlockPageTelemetry(o.url,o.blockPageType,!1,!1,null,null,!0),A.telemetryTrackerClient.sendBlockPageTelemetry(o.url,o.blockPageType,!1,!1,!0));break;case D.INSTALL_BUTTON_CLICK:return A.main._handleInstallButtonClick(),!0;case D.OPEN_DO_NOT_BLOCK_PAGE:var l=o.url,T=o.blockPageType,S=(N.setSessionSetting(s,A.constants.SHOULD_BLOCK_KEY,!1),L.updateTabUrl(r,l,function(e){}),N.getSessionSetting(s,O.PAGE_ANALYZED));let e=l,t=!1;g(S)&&!0===(t=!N.isRatingForFinalRedirectedUrl(S._safeWebResult))&&(e=S._safeWebResult?S._safeWebResult.fullURL:l),A.telemetryWrapper.sendBlockPageTelemetry(e,T,!0,t),A.telemetryTrackerClient.sendBlockPageTelemetry(e,T,!0,t);break;case D.EXTN_SETTINGS_PAGE_LOADED_TELEMETRY:A.telemetryWrapper.sendSettingsPageLoadEvent(),A.telemetryTrackerClient.sendSettingsPageLoadEvent();break;case D.BLOCKPAGE_PROMOTION_TILE_SHOWN:A.telemetryWrapper.sendBlockPagePromotionTileShown(),A.telemetryTrackerClient.sendBlockPagePromotionTileShown()}},I.setDSVendorConstants=e=>{var t=A.chromeGlobal.constants.SEARCHHELPER_MAP;d(t)||(A.constants.VENDOR=e,A.constants.DS_OCODE=t.DS_OCODE[e],A.constants.SEARCH_URL=t.SEARCH_URL[e],A.constants.NORTONSAFE_HOSTNAME=t.NORTONSAFE_HOSTNAME[e])},I._deleteOldSession=function(t,e,a){let n=N.getSessionSetting(t,O.PAGE_ANALYZED);if(d(n))return I.deleteSessionForTab(e),!0;var i=(n=n.getRating?n:new A.Rating(n)).getRating(),a=new URI(a);if(!i||!i.finalRedirectedTabUrl)return I.deleteSessionForTab(e),!0;i=new URI(i.finalRedirectedTabUrl);if(a.hostname()!==i.hostname())return I.deleteSessionForTab(e),!0;if(a.hostname()===C.NORTONSAFE_HOSTNAME&&a.query()!==i.query())return I.deleteSessionForTab(e),!0;a=N.getSessionSetting(t,C.SHOULD_BLOCK_KEY);if(!d(a)&&!0!==a){i=N.getSessionSetting(t,C.CONTINUE_SITE_LOADED_KEY);if(g(i)&&!0===i)return I.deleteSessionForTab(e),!0;"Edge"===c.globals.BROWSER?setTimeout(function(){L.getTab(e,function(e){d(e)||e.url.includes("ms-appx-web")||N.setSessionSetting(t,C.CONTINUE_SITE_LOADED_KEY,!0)})},1e3):N.setSessionSetting(t,C.CONTINUE_SITE_LOADED_KEY,!0)}return!1},I.pageAnalyzedCallback=function(e,t,a){var n;N.getSessionIDObject(e)?(u.log("Inside pageAnalyzedCallback"),R.logger.log("Inside pageAnalyzedCallback"),N.setSessionSetting(e,t,a),n=N.getTabIDForSessionID(e),a.reloadPage(function(e){e&&(e=a.getRating(),L.updateTabUrl(n,e.url))}),N.updateButton(e,n)):(u.log("Tab has been closed by the time page annotation results came back:"+e),R.logger.log("Tab has been closed by the time page annotation results came back:"+e))},I.createSessionForTab=function(e){var t=N.getSessionIDForTabID(e);return g(t)||(t=a.createNewGuid(),N.setSessionSetting(t,C.TABID,e)),t},I.deleteSessionForTab=function(e){delete I.tabIdToRedirectUrlsMap[e];e=N.getSessionIDForTabID(e);d(e)?(u.log("Tab has no sessionID associated with it. Seems like a bug"),R.logger.log("Tab has no sessionID associated with it. Seems like a bug")):N.deleteSessionSettings(e)},I.handleTabReplaced=function(e){var t=e.replacedTabId,e=(I.deleteSessionForTab(t),e.tabId),t=(I.deleteSessionForTab(t),N.getSessionIDForTabID(e));N.updateButton(t,e)},I.handleActivate=function(e,t){var a=e.tabId,n=(u.log("Inside handleActivate"),u.log(a),R.logger.log("Inside handleActivate"),R.logger.log(a),N.getSessionIDForTabID(a));if(d(n))return g(t)&&c.utils.isString(t.url)?void N.updateActionButton(n,a,t.url):void L.getTab(a,function(e){let t="";g(e)&&c.utils.isString(e.url)&&(t=e.url),N.updateActionButton(n,a,t)});N.updateButton(n,a,!0)},I.analyzeDownloadPage=function(e){"in_progress"===e.state&&(I.downloadBlockParentUrlMap[e.url]=e.referrer,m.handleEvent(e.id,O.DOWNLOAD_EVENT,e.url))},I.getParentUrlForDownloadBlock=function(e){return I.downloadBlockParentUrlMap[e]},I.handleOmniSearchEvent=function(s){return new Promise(async n=>{var i,r;if(c.globals.BROWSER!==c.constants.BROWSER_TYPE.FIREFOX||A.privacyPromptSettings.getPrivacyConsent()){let e=s.url,t=(A.NSSSHelper.isDuplicateRequest(e)||A.activeUserSearch.incrementSearchCount(),N.getQueryString("q",e)),a=N.getSearchURL(A.ocodeMgr.getDSOCode(),t);A.helperUtils.isMediaDotNetExtension()&&({isDarkMode:i,isSameTabLaunchSet:r}=await A.helperUtils._getDarkModeAndNewTabValuesForMediaDotNet(),a=(a=a.concat(`&${A.uiConstants.DARK_MODE_PARAM}=`+i)).concat(`&${A.uiConstants.SAME_TAB_LAUNCH_SERP_PARAM}=`+r)),A.telemetryWrapper.sendDefaultSearchEvent(),A.telemetryTrackerClient.sendDefaultSearchEvent(),n({redirectUrl:a})}else i=L.getExtensionURL(A.uiConstants.PRIVACY_PROMPT_SCREEN.HTML),L.updateTabUrl(s.tabId,i),n({cancel:!0})})},I.handleClose=function(e,t){I.deleteSessionForTab(e)},I._executeScripts=async function(e){try{await L.executeContentScript(e,"content/libs/uri.min.js"),await L.executeContentScript(e,"ContextInit.js"),await L.executeContentScript(e,"content/scripts/SymBfwCS.js"),await L.executeContentScript(e,"content/scripts/NSSS_CS.js"),c.globals.BROWSER===c.constants.BROWSER_TYPE.CHROME&&await L.executeContentScript(e,"content/scripts/portalInstallFlowCS.js"),c.globals.BROWSER===c.constants.BROWSER_TYPE.EDGE_CHROMIUM&&(await L.executeContentScript(e,"content/scripts/portalInstallFlowCS.js"),A.uiConstants.EXTENSION_TYPE===A.uiConstants.SAFEWEB_EXTENSION)&&await L.executeContentScript(e,"content/scripts/nsssEdgeGuidedFlowsManagerCS.js"),await L.executeContentScript(e,"content/scripts/webCommunication.js"),A.PrivacyPromptController&&A.PrivacyPromptController.setPortalFlow()}catch(e){u.error("Error while executing the scripts"),R.logEvent(R.LOG_TYPE.ERROR,"Error while executing the scripts")}},I.injectWebCommunication=function(){L.getAllTabs(function(e){e=N.getPagesToFlavor(e);0<e.length&&e.forEach(async e=>{var t=e&&e.id,t=("Chrome"!==c.globals.BROWSER&&"Firefox"!==c.globals.BROWSER&&"Edge-Chromium"!==c.globals.BROWSER||t&&A.main._executeScripts(t),new URI(e.url).query(!0));A.portalCguid=t[A.constants.URL_PARAMS_KEY.CGUID]})})},I._onExtensionUpdate=function(){var e=A.telemetryWrapper;e.sendExtensionUpdate(),A.telemetryTrackerClient.sendExtensionUpdate(),A.NSSSHelper.isVendorMigrationDoneFFEdge()&&e.sendVendorMigrationPing(),A.globalSettings.getInstallDate(),A.init.updateAntiTrackerStatus()},I.handleInstall=function(e){let t=e.reason,a=c.globals.BROWSER;A.isFreshInstall=!1,"install"===t&&(A.isFreshInstall=!0,A.main.injectWebCommunication()),A.init.ready().then(function(){var e=A.telemetryWrapper;switch(t){case"install":"Edge"===a||"Safari"===a?A.main.flavorizeAndReloadOnBoarding():N.flavorizeExtension(),e.sendExtensionInstall(),A.telemetryTrackerClient.sendExtensionInstall(),A.globalSettings.getInstallDate(),A.init.updateAntiTrackerStatus(),A.uninstallSurveyHelper&&A.uninstallSurveyHelper.initializeUninstallSurveyURL();break;case"update":A.uninstallSurveyHelper&&A.uninstallSurveyHelper.initializeUninstallSurveyURL(),A.NSSSHelper.isTelemetryQueueCleanupRequired()?c.telemetry.cleanupTelemetryParamsQueue().finally(()=>{u.log("Telemetry queue cleanup done on extension update"),R.logger.log("Telemetry queue cleanup done on extension update"),A.main._onExtensionUpdate()}):A.main._onExtensionUpdate()}},function(e){u.error(e),R.logEvent(R.LOG_TYPE.ERROR,""+R.errorToString(e))})},I._setSearchVendorMessageListener=(e,t,a)=>{var n=e.message;e.name!==D.SET_DS_VENDOR||g(r.getValue(A.constants.VENDOR_IS_PRESENT))||(e=n.vendor,d(e))||(A.globalSettings.setVendor(e),r.setValue(A.constants.VENDOR_IS_PRESENT,!0),I.setDSVendorConstants(e),!0===A.chromeGlobal.TWO_IN_ONE&&e===A.constants.YAHOO&&A.chromeGlobal.setDateOfAssociationForSafari())},I.checkIfFirstInstall=function(){var e=A.globalSettings.getValue(A.constants.NSSS_INSTALLDATEKEY);c.utils.isntNil(e)||(A.main.handleInstall({reason:"install"}),r.setCurrentDateAsDoi())},I.initVendorConstants=function(){A.NSSSHelper.isValidVendor(C.VENDOR)||(C.VENDOR=A.globalSettings.getVendor()),A.NSSSHelper.isValidVendor(C.VENDOR)&&(A.vendorSetup&&A.vendorSetup.vendorPromiseResolve(!0),A.ocodeMgr.updateDefaultOCode("hp",C.ocodeMap[C.VENDOR].hp),A.ocodeMgr.updateDefaultOCode("ds",C.ocodeMap[C.VENDOR].ds),A.uiConstants.EXTENSION_TYPE!==A.uiConstants.THREE_IN_ONE&&A.uiConstants.EXTENSION_TYPE!==A.uiConstants.MEDIA_DOT_NET_EXTENSION||(C.NORTONSAFE_HOSTNAME=C.HOST_NAME[C.VENDOR]))},I._deleteSessionSettingsContainer=()=>new Promise(e=>{c.settings.deleteSettingsContainer(A.constants.NSSS_SESSION_SETTINGS_CONTAINER,()=>{e()})}),I.handleStartUp=async()=>{await A.init.ready(),A.NSSSHelper.isTelemetryQueueCleanupRequired()&&(await c.telemetry.cleanupTelemetryParamsQueue(),u.log("Telemetry queue cleanup done on startup..."),R.logger.log("Telemetry queue cleanup done on startup...")),await A.init.initializeSessionSettings(),await A.main._deleteSessionSettingsContainer(),await A.init.initializeSessionSettings()},I})(e.SymBfw,e.NSSS)})(executionContext),SymBfw.extensionAdapter.addStartupListener(NSSS.main.handleStartUp),window.addEventListener(SymBfw.constants.uiConstants.NOTIFICATION.NOTIFICATION_EVENT,NSSS.main._handleNotificationEvent),(e=>{e.NSSS.init=((i,r,e,a,n)=>{var s={};let{logger:o,extensionAdapter:E,telemetryConstants:_,utils:{isNil:l,isntNil:T,isString:S,isBoolean:t}}=i,{constants:c,constants:{MULTIVARIATE_SDK_CONFIG:A},uiConstants:I,NSSSHelper:u,antiTrackerStatusProvider:R,globalSettings:N,ocodeMgr:O,telemetryTrackerClient:d,trackerLogger:g}=r;return s.supported_languages={pl:!0,sv:!0,he:!0,da:!0,no:!0,pt_br:!0,ja:!0,el:!0,it:!0,zh_tw:!0,cs:!0,ru:!0,ro:!0,zh_cn:!0,pt:!0,ar:!0,hu:!0,nl:!0,nb:!0,de:!0,ko:!0,fi:!0,fr:!0,es:!0,en:!0,tr:!0},s.initializeLocalizer=function(){return new Promise((a,n)=>{i.localizer.initialize(s.supported_languages,function(e,t){!0===e?a("localizer is ready"):n("localizer initialize failed: "+t)})})},s.getClientID=function(){let e="";return l(r.portalCguid)?e=r.globalSettings.getCGuid():(e=r.portalCguid.toLowerCase(),r.globalSettings.setCGuid(e)),e},s.initializeTrackingServerSDK=async()=>{if(l(n))return o.error("trackingServerSdk is not initialized "),!1;try{var e=await d.getSuperParams(),t=r.helperUtils.getApplicationSettings();await d.init(e,t),await g.init()}catch(e){return o.error("Failed to initialize telemetry. "+e),!1}return!0},s.initializeTelemetry=function(){return new Promise((t,a)=>{var e=i.telemetryConstants,e=(r.globalSettings,{APPLICATION_NAME:c.PRODUCT_NAME+"_"+i.extensionAdapter.getExtensionId(),APPLICATION_VERSION:c.VERSION,CLIENT_ID:s.getClientID(),DATA_SOURCE:e.dataSource.BROWSER_EXTENSION,TRACKING_ID:c.TELEMETRY_TRACKING_ID,USER_LANGUAGE:navigator.language,ANONYMIZE_IP:1,GOOGLE_ANALYTICS_PROTOCOL_VERSION:1,BROWSER_NAME:i.globals.BROWSER});try{i.telemetry.init(e,function(e){!0===e?t("Telemetry initialized"):a("Failed to initialize telemetry")})}catch(e){a("Failed to initialize telemetry. "+e)}})},s._handleTelemetryFF=()=>{var e=r.PrivacyPromptController.getTelemetryOptInStatus();t(e)?(i.telemetrySettings.setTelemetryEnabled(e),e&&r.init._sendInstallHBPing()):r.globalSettings.getPrivacyConsentAcceptClicked()&&!i.telemetrySettings.isTelemetryEnabled()||r.init._sendInstallHBPing()},s.initializeGlobalSettings=function(){return new Promise((t,a)=>{r.globalSettings.initialize(function(e){e?t("Global settings initialized"):a("Failed to initialize global settings")})})},s.initializeSessionSettings=function(){return new Promise((t,a)=>{r.sessionSettings.initialize(function(e){e?t("Session settings initialized"):a("Failed to initialize session settings")})})},s.initializeLinkGuard=async()=>{var e,t;r.NSSSHelper.isLinkGuardSupported()&&(t=await d.getSuperParams(),e=r.helperUtils.getApplicationSettings(),t={defaultIconURL:"content/images/"+r.constants.DEFAULT_INFO_ICON,filePaths:{cssPath:"content/ui",csPath:"content/scripts"},telemetryParams:{superParams:t,applicationSettings:e}},await a.linkGuardManager.initialize(t))},s._initializeWebProtectionPolicy=()=>new Promise((e,t)=>{try{T(r.webProtectionPolicy)&&r.webProtectionPolicy.initialize(),e("Web Protection Policy initialized")}catch(e){t("Error initializing Web Protection Policy: "+e.message)}}),s._initializeFormjackProtection=async()=>{if("Safari"!==i.globals.BROWSER&&!l(r.formjackProtectionManager))try{return await r.formjackProtectionManager.init({onDomainBlocked:function(e){r.webProtection.handleFormjackProtectionEvent(e)}})}catch(e){o.error("Error in _initializeFormjackProtection: "+e),g.logEvent(g.LOG_TYPE.ERROR,"Error in _initializeFormjackProtection: "+g.errorToString(e))}},s._initializeSafewebSDK=function(){e.manager.init({[e.Config.APP_CONFIG.APP_TYPE_KEY]:e.Config.APP_CONFIG.APP_TYPES.URLITE})},s._getHBConfigs=async function(){var e=new HeartbeatSDK.HBConfig;e.prodName=c.PRODUCT_NAME+"_"+i.extensionAdapter.getExtensionId(),e.prodVersion=c.VERSION,e.machineId=s.getClientID(),e.dataSource=c.HEARTBEAT_CONFIG.DATA_SOURCE,e.apiKey=c.TELEMETRY_TRACKING_ID,e.userLanguage=navigator.language,e.heartBeatIntervalInMilliSec=c.HEARTBEAT_CONFIG.HEARTBEAT_SDK_PING_INTERVAL;let t=r.globalSettings.getCustomChicklets();return t=t||[],e.eventSpecificParams={count:t.length},e.superParams=await d.getSuperParams(),e.getDynamicTelemetryParams=d.getDynamicTelemetryParams,e},s._initializeHeartBeatSDK=async function(){try{let a=await s._getHBConfigs();a.isInstallPingEnabled=!1,a.isFreshInstall=!1,a.isHeartBeatPingEnabled=!0,I.EXTENSION_TYPE===I.SAFEWEB_EXTENSION&&(a.heartBeatIntervalInMilliSec=c.HEARTBEAT_CONFIG.HEARTBEAT_SDK_PING_INTERVAL_48_HOURS),a.additionalHeartBeatPingParams={[i.telemetryConstants.parameters.CUSTOM_DIMENSION3]:()=>i.telemetrySettings.isTelemetryEnabled(),...I.EXTENSION_TYPE!==I.SAFEWEB_EXTENSION&&{[i.telemetryConstants.parameters.CUSTOM_DIMENSION4]:()=>c.VENDOR},...[I.HOMEPAGE_EXTENSION,I.DEFAULT_SEARCH_EXTENSION].includes(I.EXTENSION_TYPE)&&i.globals.BROWSER===i.constants.BROWSER_TYPE.CHROME,...r.privacyPromptSettings&&{[i.telemetryConstants.parameters.CUSTOM_DIMENSION13]:r.privacyPromptSettings.getPrivacyConsent},...T(r.globalSettings.getCustomChicklets())&&{[i.telemetryConstants.parameters.CUSTOM_DIMENSION14]:()=>r.globalSettings.getCustomChicklets().length},...I.EXTENSION_TYPE!==I.SAFEWEB_EXTENSION&&{[i.telemetryConstants.parameters.CUSTOM_DIMENSION15]:u.isVendorMigrationDone},[i.telemetryConstants.parameters.CUSTOM_DIMENSION19]:()=>u.saveAndgetExtensionInstallMonthAndYear(),...r.abTestingDataProvider&&{...r.abTestingDataProvider.getHeartBeatPingCustomDimesions()},...r.homePageFeaturesManager&&{...r.homePageFeaturesManager.getHeartBeatPingCustomDimesions()},...I.EXTENSION_TYPE===I.DEFAULT_SEARCH_EXTENSION&&{...r.helperUtils.getParamsForHeartbeat()},...r.helperUtils.isMediaDotNetExtension()&&{[i.telemetryConstants.parameters.CUSTOM_DIMENSION39]:()=>r.helperUtils.getThreeInOneUserType()},[i.telemetryConstants.parameters.CUSTOM_DIMENSION41]:()=>r.NSSSHelper.getLayoutType(),...r.externalCommunication&&{...r.externalCommunication.getHbPingDataForExternalExtensions()}},I.EXTENSION_TYPE!==I.SAFEWEB_EXTENSION&&(a.additionalHeartBeatPingParams[_.parameters.CUSTOM_DIMENSION25]=()=>r.NSSSHelper.getCampaignCodeForHbPing(),a.additionalHeartBeatPingParams[_.parameters.CUSTOM_DIMENSION23]=()=>r.NSSSHelper.getInstallSourceForHbPing(),a.additionalHeartBeatPingParams[_.parameters.CUSTOM_DIMENSION22]=()=>u.getWeekOfInstall(),a.additionalHeartBeatPingParams[_.parameters.CUSTOM_DIMENSION26]=()=>r.NSSSHelper.getTrackValue(),a.additionalHeartBeatPingParams[_.parameters.CUSTOM_DIMENSION34]=()=>r.NSSSHelper.getBrowserValue(),a.additionalHeartBeatPingParams[_.parameters.CUSTOM_DIMENSION37]=()=>r.globalSettings.getWebStoreUrl(),a.additionalHeartBeatPingParams[_.parameters.CUSTOM_DIMENSION38]=()=>r.NSSSHelper.getExtensionInstallType()),(r.helperUtils.isDS()||r.helperUtils.isHP()||r.helperUtils.isMediaDotNetExtension())&&(a.additionalHeartBeatPingParams[_.parameters.CUSTOM_DIMENSION35]=()=>r.helperUtils.getBrowserThemeForHbPing()),R&&R.getAntiTrackerTelemetryParamsMap().forEach((e,t)=>{a.additionalHeartBeatPingParams[t]=e}),HeartbeatSDK.hbManager.init(a)}catch(e){o.error("Heartbeat SDK Failed to intialize for heartbeat Ping",e)}},s._getProductCode=function(){return I.EXTENSION_TYPE},s.onABTestingRulesUpdated=async function(e){let t=s._getProductCode().toLowerCase(),a=null;var e=e.tests.find(e=>r.abTestingAppsRepo.abTestImpls[e.id]);(a=e&&e.variant&&e.variant.data&&0<e.variant.data.length&&(e=e.variant.data.find(e=>e.product.toLowerCase()===t&&e.oCode&&0<e.oCode.length))?{oCode:e.oCode}:a)?O.updateDefaultOCode(t,a.oCode,c.OCODE_PROVIDER.AB_TEST,!0):(e=c.ocodeMap[c.IAC][t],O.updateDefaultOCode(t,e,c.OCODE_PROVIDER.AB_TEST,!1))},s._getMultiVariateSDKConfig=async function(){var e=c.PRODUCT_NAME,t=await r.externalCommunication.getSafeSearchExtensionsInstalled();return{settingsStorage:r.globalSettings,rulesJsonCdnPath:A.CDN_URL,rulesRootCA:A.ROOT_CA,certInfo:c.CERT_INFO,schedulerInterval:A.SCHEDULER_INTERVAL,appName:e,productCode:I.EXTENSION_TYPE,subCategory:c.VENDOR,category:c.PRODUCT_NAME_CATEGORY_MAP[e],installDate:N.getInstallDate(),onRulesUpdated:s.onABTestingRulesUpdated,layout:r.NSSSHelper.getLayoutType().toUpperCase(),installedExtensions:t,certExpiryCheckRequired:!1}},s._initializeMultiVariateTestingSDK=async function(){try{var e=await s._getMultiVariateSDKConfig();await multiVariateTestingSDK.multiVariateTestManager.init(e)}catch(e){o.error("Failed to initialize MultiVariate Testing SDK",e)}},s.sendInstallPing=async function(e,t){try{var a=await s._getHBConfigs();a.isInstallPingEnabled=!0,a.isFreshInstall=!0,a.isHeartBeatPingEnabled=!1,a.additionalInstallPingParams={...I.EXTENSION_TYPE!==I.SAFEWEB_EXTENSION&&S(c.VENDOR)&&0!==c.VENDOR.length&&{[i.telemetryConstants.parameters.CUSTOM_DIMENSION4]:()=>c.VENDOR},...I.EXTENSION_TYPE!==I.SAFEWEB_EXTENSION&&T(e)&&{[i.telemetryConstants.parameters.CUSTOM_DIMENSION7]:()=>e},...I.EXTENSION_TYPE!==I.SAFEWEB_EXTENSION&&T(t)&&{[i.telemetryConstants.parameters.CUSTOM_DIMENSION8]:()=>t},...r.abTestingDataProvider&&{...r.abTestingDataProvider.getInstallPingCustomDimesions()}},I.EXTENSION_TYPE!==I.SAFEWEB_EXTENSION&&(a.additionalInstallPingParams[_.parameters.CUSTOM_DIMENSION25]=()=>r.NSSSHelper.getCampaignCodeForHbPing(),a.additionalInstallPingParams[_.parameters.CUSTOM_DIMENSION23]=()=>r.NSSSHelper.getInstallSourceForHbPing(),a.additionalInstallPingParams[_.parameters.CUSTOM_DIMENSION22]=()=>u.getWeekOfInstall(),a.additionalInstallPingParams[_.parameters.CUSTOM_DIMENSION26]=()=>r.NSSSHelper.getTrackValue(),a.additionalInstallPingParams[_.parameters.CUSTOM_DIMENSION34]=()=>r.NSSSHelper.getBrowserValue(),a.additionalInstallPingParams[_.parameters.CUSTOM_DIMENSION37]=()=>r.globalSettings.getWebStoreUrl(),a.additionalInstallPingParams[_.parameters.CUSTOM_DIMENSION38]=()=>r.NSSSHelper.getExtensionInstallType()),r.helperUtils.isMediaDotNetExtension()&&(a.additionalInstallPingParams[_.parameters.CUSTOM_DIMENSION39]=()=>r.helperUtils.getThreeInOneUserType()),HeartbeatSDK.hbManager.init(a)}catch(e){o.error("Heartbeat SDK Failed to intialize for Install Ping",e)}},s.updateAntiTrackerStatus=function(){R&&R.updateAntiTrackerStatus()},s._readPortalParameters=function(){return new Promise((t,e)=>{var a;if(l(r.isFreshInstall)&&(a=r.globalSettings.getValue(r.constants.NSSS_INSTALLDATEKEY),r.isFreshInstall=l(a)),!r.isFreshInstall)return t(!1);i.extensionAdapter.getAllTabs(e=>{e=r.helperUtils.getPagesToFlavor(e);return 0<e.length&&e.forEach(e=>{var t;T(e)&&(e=e.url,t=(e=new URI(e)).query(!0),l(r.portalCguid)&&(r.portalCguid=t[r.constants.URL_PARAMS_KEY.CGUID]),e=e.protocol()+"://"+e.host()+e.path(),N.setInstallationPageURL(e),s._readAndStoreDefaultParamsFromLandingPage(t))}),t(!0)})})},s._readAndStoreDefaultParamsFromLandingPage=e=>{var t=e[c.URL_PARAMS_KEY.INSTALL_SOURCE];S(t)&&N.setInstallSource(t);let a=e[c.URL_PARAMS_KEY.CAMPAIGN_NAME];S(a)&&(a=a.toLowerCase()===c.ZDEFAULT_TRIGGER?c.NEWINST:a,N.setCampaignCode(a));var t=e[c.URL_PARAMS_KEY.TRACK],n=(r.NSSSHelper.isValidTrackValue(t)&&N.setTrackValue(t),e[c.URL_PARAMS_KEY.BROWSER]),t=(S(t)&&N.setBrowserValue(n),e[c.URL_PARAMS_KEY.DATE_OF_INSTALL]),n=(T(t)&&N.setInstallDate(t),e[c.URL_PARAMS_KEY.LAYOUT_TYPE]),t=(T(n)&&N.setLayoutType(n),e[c.URL_PARAMS_KEY.PARTNERID]),n=(T(t)&&N.setPartnerId(t),e[c.URL_PARAMS_KEY.PARTNER_UNIT_ID]);T(n)&&N.setPUID(n)},s._initializePrivacyConsentFlow=async function(){if(l(r.PrivacyPromptController))return Promise.resolve();await r.PrivacyPromptController.userPrivacyConsent()},s._checkForLandingPageAndResolve=async function(){await new Promise(t=>{E.getAllTabs(async e=>{e=e.filter(e=>u.isLandingPageURL(e.url));if(0===e.length)return t();r.enableAllFlow.sendEnableAllFlowCommListenerAddedMsgToTab(e),await r.enableAllFlow.handleEnableAllFlow(),t()})})},s._initEnableAllFlowStatus=async function(){return l(r.enableAllFlow)||(await r.privacyPromptSettings.initialize(),r.privacyPromptSettings.getPrivacyConsent())?Promise.resolve():void await s._checkForLandingPageAndResolve()},s._initPrivacyPromptSettings=async function(){if(l(r.privacyPromptSettings))return Promise.resolve();await r.privacyPromptSettings.initializeSettingsContainer()},s._sendInstallHBPing=async()=>{await s.sendInstallPing(),await s._initializeHeartBeatSDK()},s._initializeDynamicQuicksLinksData=()=>{r.quickLinksProvider&&I.EXTENSION_TYPE!==I.SAFEWEB_EXTENSION&&i.globals.BROWSER!==i.constants.BROWSER_TYPE.FIREFOX&&r.quickLinksProvider.initializeDynamicQuickLinksData()},s.initializeActiveUserSearch=()=>{r.activeUserSearch&&r.activeUserSearch.sendActiveUserSearchPing()},s.ready=function(){return T(s.readyPromise)||(s.readyPromise=(async()=>{try{i.extensionAdapter.init(),s._initializeSafewebSDK(),await Promise.all([s.initializeGlobalSettings(),s.initializeSessionSettings(),s.initializeLocalizer()]),await i.darkModeHandler.initialize(),await s._readPortalParameters(),await s.initializeTrackingServerSDK(),await s._initPrivacyPromptSettings(),await s._initEnableAllFlowStatus(),await s._initializeMultiVariateTestingSDK(),await s._initializePrivacyConsentFlow(),await s._initializeWebProtectionPolicy(),r.customDarkModeManager&&await r.customDarkModeManager.initialize();i.localizer.getLocale();return await s.initializeTelemetry(),"Firefox"===i.globals.BROWSER&&r.init._handleTelemetryFF(),"Firefox"!==i.globals.BROWSER&&await s._sendInstallHBPing(),await Promise.all([i.notificationSettings.intializeNotificationSettings(),s._initializeFormjackProtection(),s.initializeLinkGuard()]),s.initializeActiveUserSearch(),r.uiConstants.EXTENSION_TYPE===I.THREE_IN_ONE&&r.twitterFeeds&&r.twitterFeeds.initializeTwitterFeeds(),"swds"!==r.constants.TWO_IN_ONE_EXTENSIONS&&r.locationServiceManager&&r.locationServiceManager.fetchAndSetLocationDataInit(),r.nsssDarkModeHandlerBG&&r.nsssDarkModeHandlerBG.initialize(),Promise.resolve("NSSS is ready")}catch(e){return Promise.reject("NSSS initialize failed: "+e)}})()),s.readyPromise},s})(e.SymBfw,e.NSSS,e.SafeWeb,e.LinkGuardSDK,e.trackingServerSDK)})(executionContext),(e=>{(e.NSSS=e.NSSS||{}).partnerConstants={searchboxExclusionList:{1001:{puid:["1251","59"]},1013:{puid:["6990","10000001","6498","6251","1339","1314","1312","1308","1301","1270","1113","130","129"]},1005:{puid:["20000002","20000001","6412","1394","1393","1392","1391","1390","1389","1388","1387","1386","1385","1384","1383","1325","1313","1298","1284","1283","1282","1281","1280","1278","1276","1271","1235","1154","1133","1131","1129","1128","1127","1121","1120","1119","1103","126","125","124","123","122","120","115","114","109","107","106","104","101","86","83","79","77"]},1118:{puid:["1193"]}},excludeNortonLinks:["sos","oem","ppo","cto","tt","ttda"]}})(executionContext),(e=>{let{utils:{isntNil:t,isNil:a},cdnFileDownloader:n,logger:i}=e.SymBfw,{constants:r,globalSettings:s,trackerLogger:o}=e.NSSS;(e.NSSS=e.NSSS||{}).twitterFeeds=new class{async fetchAndSaveTwitterFeeds(){try{var e;this._isTimeElapsedToFetchTweetsJsonFromCDN()&&(e=await n.getPayloadFromCdnFile(r.TWITTER_FEEDS_CDN_URL,r.twitterFeedsJsonRootCA,r.CERT_INFO),t(e))&&3===e.length&&s.setTwitterFeedsData(e)}catch(e){i.error("Fetching twitter feeds from CDN failed.",e),o.logEvent(o.LOG_TYPE.ERROR,"Fetching twitter feeds from CDN failed."+o.errorToString(e))}}async initializeTwitterFeeds(){var e=await SymBfw.extensionAdapter.getAlarm(r.ALARM_NAMES.TWITTER_FEEDS);t(e)||(await this.fetchAndSaveTwitterFeeds(),await this._createAlarmForTwitterFeed())}async _createAlarmForTwitterFeed(){var e={periodInMinutes:r.TWITTER_FEEDS_PERIOD_IN_MINUTES};SymBfw.extensionAdapter.createAlarm(r.ALARM_NAMES.TWITTER_FEEDS,e)}_isTimeElapsedToFetchTweetsJsonFromCDN(){var e=s.getTweetsLastFetchedTimestamp();return!!a(e)||Date.now()-e>=r.TWITTER_FEEDS_CDN_FETCH_DELAY}}})(executionContext),(()=>{let{uiConstants:t,constants:a}=NSSS;class e{static get SUPPORTED_DOMAINS(){return{YAHOO_DOMAIN:/\.?search\.yahoo\.com?\.?/,IAC_DOMAIN:/nortonsafe\.search\.ask\.com/,GOOGLE_DOMAIN:/\.google\./,BING_DOMAIN:/bing\.com/}}static get IAC_NORTON_SERP_PARAMS(){return{[a.URL_PARAMS_KEY.OCODE]:["*"]}}static get YAHOO_NORTON_SERP_PARAMS(){var e=a.yahooVendorConstants;return{[e.HSPART]:[e.HSPART_VALUE],[e.HSIMP]:[e.HSIMP_VALUE,e.HSIMP_VALUE_THREE_IN_ONE,e.HSIMP_VALUE_EDGE_CHROMIUM,e.HSIMP_VALUE_CHROME_TEST_ELIGIBLE]}}static get SUPPORTED_DOMAIN_DETAILS(){return{IAC_NORTON_SERP:{domain:this.SUPPORTED_DOMAINS.IAC_DOMAIN,params:this.IAC_NORTON_SERP_PARAMS},YAHOO_NORTON_SERP:{domain:this.SUPPORTED_DOMAINS.YAHOO_DOMAIN,params:this.YAHOO_NORTON_SERP_PARAMS},GOOGLE_SERP:{domain:this.SUPPORTED_DOMAINS.GOOGLE_DOMAIN},YAHOO_SERP:{domain:this.SUPPORTED_DOMAINS.YAHOO_DOMAIN},BING_SERP:{domain:this.SUPPORTED_DOMAINS.BING_DOMAIN}}}static get VENDOR_TO_SUPPORTED_DOMAINS_MAP(){return{[a.IAC]:this.SUPPORTED_DOMAIN_DETAILS.IAC_NORTON_SERP,[a.YAHOO]:this.SUPPORTED_DOMAIN_DETAILS.YAHOO_NORTON_SERP}}}NSSS.annotationManager=new class{constructor(){this.loadEventHandler=this.loadEventHandler.bind(this)}_getSafeWebSupportedDomains(){return[e.SUPPORTED_DOMAIN_DETAILS.IAC_NORTON_SERP]}_getSupportedDomains(){return[e.VENDOR_TO_SUPPORTED_DOMAINS_MAP[a.VENDOR]]}_getAnnotationConfigs(){let e;return{domains:{supportedDomains:e=t.EXTENSION_TYPE===t.SAFEWEB_EXTENSION?this._getSafeWebSupportedDomains():this._getSupportedDomains()},safeWebInitPromise:NSSS.init.ready()}}async loadEventHandler(){var e=this._getAnnotationConfigs();await(new annotationSDK.AnnotationBG).init(e),await NSSS.init.ready(),t.EXTENSION_TYPE!==t.SAFEWEB_EXTENSION&&await NSSS.helperUtils.isVendorInitialized()}},NSSS.AnnotationSupportedDomains=e,NSSS.annotationManager.loadEventHandler()})(executionContext),(e=>{let{utils:{isntNil:t,isString:a},extensionAdapter:n}=e.SymBfw,{constants:i,telemetryWrapper:s,telemetryTrackerClient:o,uiConstants:{MESSAGES:r}}=e.NSSS;(e.NSSS=e.NSSS||{}).nsssCCTelemetryBG=new class{constructor(){this._telemetryData=[],this._webRequestListners={},n.addTabRemovedEventListener(this._handleTabRemoved),n.addTabUpdatedEventListener(this._handleTabUpdated)}_handleTabRemoved(e,t){e in NSSS.nsssCCTelemetryBG._webRequestListners&&NSSS.nsssCCTelemetryBG._removeWebRequestListnerForTab(e)}_handleTabUpdated(e,t,a){t.url&&e in NSSS.nsssCCTelemetryBG._webRequestListners&&NSSS.nsssCCTelemetryBG._removeWebRequestListnerForTab(e)}_removeWebRequestListnerForTab(e){var t;e in NSSS.nsssCCTelemetryBG._webRequestListners&&(t=NSSS.nsssCCTelemetryBG._webRequestListners[e],chrome.webRequest.onBeforeRequest.removeListener(t.callback),clearTimeout(t.timer),delete NSSS.nsssCCTelemetryBG._webRequestListners[e])}_storeTelemetryData(e){a(e)&&(NSSS.nsssCCTelemetryBG._telemetryData.length>=i.TELEMETRY_DATA_LIMIT&&NSSS.nsssCCTelemetryBG._telemetryData.shift(),NSSS.nsssCCTelemetryBG._telemetryData.push(e))}_onBeforeRequestCallback(r){n.getTab(r.tabId,function(a){if(t(a)){var a=new URI(a.url),n=new URI(r.url),i=new URI(r.initiator||r.originUrl),a=a._parts.protocol+"://"+a._parts.hostname+a._parts.path,n=n._parts.protocol+"://"+n._parts.hostname+n._parts.path;let e=i._parts.protocol+"://"+i._parts.hostname+i._parts.path,t="iframe";a===e&&(t="embedded",e="");i=a+`, ${e}, ${n}, `+t;NSSS.nsssCCTelemetryBG._telemetryData.includes(i)||(NSSS.nsssCCTelemetryBG._storeTelemetryData(i),s.sendCreditCardTelemetryNetworkRequests(a,e,n,t),o.sendCreditCardTelemetryNetworkRequests(a,e,n,t))}})}_monitorNetworkCallFromThisTab(e){var t,a;e in NSSS.nsssCCTelemetryBG._webRequestListners||(t=this._onBeforeRequestCallback.bind({tabId:e}),chrome.webRequest.onBeforeRequest.addListener(t,{urls:["<all_urls>"],tabId:e,types:["xmlhttprequest"]}),n.isManifestV3Extension()&&SymBfw.serviceWorkerKeepAlive.startKeepAliveConnection(e,18e4),a=setTimeout(e=>{NSSS.nsssCCTelemetryBG._removeWebRequestListnerForTab(e)},18e4,e),NSSS.nsssCCTelemetryBG._webRequestListners[e]={callback:t,timer:a})}messageHanlder(i,e,t){t=n.getTabID(t);i.message;i.name===r.CC_TELEMETRY_CAPTURE_NETWORK_CALLS&&(n.getTab(t,function(e){var e=new URI(e.url),t=new URI(i.frameUrl),e=e._parts.protocol+"://"+e._parts.hostname+e._parts.path;let a=t._parts.protocol+"://"+t._parts.hostname+t._parts.path,n="iframe";e===a&&(a="",n="embedded"),s.sendCreditCardTelemetry(e,a,n),o.sendCreditCardTelemetry(e,a,n)}),NSSS.nsssCCTelemetryBG._monitorNetworkCallFromThisTab(t))}},n.addMessageListener(NSSS.nsssCCTelemetryBG.messageHanlder)})(executionContext),executionContext,NSSS.formjackProtectionConstants=class{static get CDN_URL(){return"https://static.nortoncdn.com/nortonextensionhomepage/formjack-protection.json"}static get APP_NAME(){return"FORMJACK_PROTECTION"}static get SCHEDULER_INTERVAL_IN_MINS(){return 1440}static get RETRY_INTERVAL_IN_MINS(){return 30}static get DNR_RULES_START_INDEX(){return 101}static get SERVICE_WORKER_KEEP_ALIVE_INTERVAL(){return 24e4}static get REGEX_PATTERN_TO_SPLIT(){return"^https?://(www.)?([^=/?&]*.)?"}static get DOMAIN_BLOCK_MONITOR_INTERVAL_IN_MINUTES(){return 1}static get MONITOR_DOMAIN_BLOCK(){return"monitor_domain_block"}static get BLOCK_TYPE(){return{sub_frame:"iframe",network_request:"submission",main_frame:"page"}}static get RESET_CONTINUE_TO_SITE(){return"reset_continue_to_site"}static get RESET_CONTINUE_TO_SITE_INTERVAL_IN_MINUTES(){return 30}static get SILENT_TELEMETRY_THROTTLE_DURATION_IN_MILLIS(){return 864e5}static get BLOCK_PAGE_NOTIFICATION_IFRAME_ID(){return"formjackProtection-iframe"}static get BLOCK_PAGE_NOTIFICATION_IFRAME_WIDTH(){return"400"}static get BLOCK_PAGE_NOTIFICATION_IFRAME_HEIGHT(){return"600"}static get BLOCK_PAGE_NOTIFICATION_IFRAME_SCROLLING(){return"no"}static get BLOCK_PAGE_NOTIFICATION_IFRAME_BORDER(){return"0"}static get BLOCK_PAGE_NOTIFICATION_IFRAME_POSITION(){return"position:fixed;right:4%;top:0%;z-index: 2147483646;"}},(()=>{let{alarmHelper:a,logger:s,extensionAdapter:o,utils:{isArray:E,isNil:n,isFunction:i,isNumber:r,isString:_}}=SymBfw,{formjackProtectionConstants:l,trackerLogger:T,constants:S}=NSSS;NSSS.formjackProtectionRulesAllocator=new class{constructor(){this._blackListDomains=null,this._blackListSilentDomains=null,this._onBeforeRequestCallback=null,this._onBeforeSilentRequestCallback=null,this._allowedDomains=[]}async getExistingFormjackRuleIds(){var e=(await this._getExistingFormJackRulesAndIds()).existingFormjackRuleIds;return e}async getExistingFormjackRules(){var e=(await this._getExistingFormJackRulesAndIds()).existingFormjackRules;return e}async _getExistingFormJackRulesAndIds(){var e,t=await o.getDynamicRules();return E(t)?(e=(t=t.filter(e=>e.id>=l.DNR_RULES_START_INDEX)).map(e=>e.id),{existingFormjackRules:t,existingFormjackRuleIds:e}):{existingFormjackRules:[],existingFormjackRuleIds:[]}}async getRuleForId(t){if(r(t)){var e=(await this._getExistingFormJackRulesAndIds()).existingFormjackRules;if(E(e)&&0!==e.length)return e.find(e=>e.id===t)}}async _getRuleforDomain(a){return a.startsWith(S.WWW_PATTERN)&&(a=a.replace(S.WWW_PATTERN,"")),(await this.getExistingFormjackRules()).find(e=>{var t=e.condition.regexFilter.split(l.REGEX_PATTERN_TO_SPLIT)[1];if(a.includes(t))return e})}async allowBlockedDomain(e){_(e)&&(await this._allowBlockedDomain(e),this._registerClearContinueToSiteSettings(e))}async _allowBlockedDomain(e){var t;o.isManifestV3Extension()?(t=await this._getRuleforDomain(e),t=this._addAllowActionToRule(t),await o.updateDynamicRules([t])):this._allowBlockedDomainMv2(e)}_allowBlockedDomainMv2(t){var e;i(this._onBeforeRequestCallback)&&E(this._blackListDomains)&&-1<(e=this._blackListDomains.findIndex(e=>this._isDomainMatched(t,e)))&&(this._allowedDomains.push(t),this._blackListDomains.splice(e,1),this._updateWebRequestListener())}_isDomainMatched(e,t){return e===t.domain||!!e.endsWith("."+t.domain)}_registerClearContinueToSiteSettings(e){e=l.RESET_CONTINUE_TO_SITE+"_"+e;a.setAlarm(e,{delayInMinutes:l.RESET_CONTINUE_TO_SITE_INTERVAL_IN_MINUTES})}async resetAllowBlockedDomain(e){var t;_(e)&&(o.isManifestV3Extension()?(t=await this._getRuleforDomain(e),n(t)||(t=this._addRedirectActionToRule(t,e),await o.updateDynamicRules([t]))):this._resetAllowBlockedDomainMv2(e))}_resetAllowBlockedDomainMv2(e){E(this._blackListDomains)&&i(this._onBeforeRequestCallback)&&(this._blackListDomains.push({domain:e}),-1<(e=this._allowedDomains.indexOf(e))&&this._allowedDomains.splice(e,1),this._updateWebRequestListener())}async resetAllAllowedDomain(){var e=(await NSSS.formjackProtectionRulesAllocator.getExistingFormjackRules()).filter(e=>"allow"===e.action.type);E(e)&&0!==e.length&&(e=e.map(e=>{var t=e.condition.regexFilter.split(l.REGEX_PATTERN_TO_SPLIT)[1];return e=NSSS.formjackProtectionRulesAllocator._addRedirectActionToRule(e,t)}),o.updateDynamicRules(e))}async createDynamicRules(n){if(E(n)){var i=l.DNR_RULES_START_INDEX,e=chrome.declarativeNetRequest.MAX_NUMBER_OF_DYNAMIC_RULES-i+1,t=(n.length>e&&(s.debug(`Formjack rules exceeded, total size: ${n.length} - domains truncated`),T.logger.debug(`Formjack rules exceeded, total size: ${n.length} - domains truncated`)),e<n.length?i+e-1:i+n.length-1),e=await this.getExistingFormjackRuleIds(),r=[];for(let a=i;a<=t;a++){let e=n[a-i].domain,t=(e=e.replaceAll(".","."),{id:a,priority:1,condition:{regexFilter:"^https?://(www.)?([^=/?&]*.)?"+e,resourceTypes:["main_frame","script","stylesheet","sub_frame","webbundle","websocket","webtransport","xmlhttprequest"]}});await this.isAllowedDomain(e)?(t=this._addAllowActionToRule(t),r.push(t)):(t=this._addRedirectActionToRule(t,e),r.push(t))}o.updateDynamicRules(r,e)}else s.log("Invalid domains - dynamic rules creation failed"),T.logger.log("Invalid domains - dynamic rules creation failed")}async isAllowedDomain(t){var e=await this.getExistingFormjackRules();return!(!E(e)||0===e.length||(e=e.find(e=>{if(e.condition.regexFilter.includes(t))return e}),n(e))||"allow"!==e.action.type)}_addAllowActionToRule(e){return e.action={type:"allow"},e}_addRedirectActionToRule(e,t){var a=o.getExtensionURL(S.FORMJACK_PROTECTION_BLOCK_PAGE);return e.action={type:"redirect",redirect:{regexSubstitution:a+"?blockedDomain="+t+"&originalURL=\\0"}},e}_updateListener(e=!0){var a=e?this._onBeforeSilentRequestCallback:this._onBeforeRequestCallback,n=e?this._blackListSilentDomains:this._blackListDomains;if(chrome.webRequest.onBeforeRequest.removeListener(a),E(n)){let t=[];n.forEach(e=>{t.push("*://*."+e.domain+"/*")}),0!==t.length&&(e?chrome.webRequest.onBeforeRequest.addListener(a,{urls:t}):chrome.webRequest.onBeforeRequest.addListener(a,{urls:t},["blocking"]))}}_updateWebRequestListener(){this._updateListener(!1)}_updateSilentWebRequestListener(){this._updateListener(!0)}_getValidDomains(a){return n(this._allowedDomains)||0===this._allowedDomains.length||this._allowedDomains.forEach(t=>{var e=a.findIndex(e=>e.domain===t);-1<e?a.splice(e,1):this._clearContinueToSiteAlarm(t)}),a}async _clearContinueToSiteAlarm(e){var t;!E(this._allowedDomains)||(t=this._allowedDomains.indexOf(e))<0||(this._allowedDomains.splice(t,1),t=l.RESET_CONTINUE_TO_SITE+"_"+e,await a.clearAlarm(t))}async updateWebRequestListener(e,t){E(e)?i(t)?(this._blackListDomains=this._getValidDomains(e),this._onBeforeRequestCallback=t,this._updateWebRequestListener()):(s.log("Invalid callback - webrequest listener creation failed"),T.logger.log("Invalid callback - webrequest listener creation failed")):(s.log("Invalid domains - webrequest listener creation failed"),T.logger.log("Invalid domains - webrequest listener creation failed"))}async updateSilentWebRequestListener(e,t){E(e)?i(t)?(this._blackListSilentDomains=this._getValidDomains(e),this._onBeforeSilentRequestCallback=t,this._updateSilentWebRequestListener()):(s.log("Invalid callback - silent webrequest listener creation failed"),T.logger.log("Invalid callback - silent webrequest listener creation failed")):(s.log("Invalid silent domains - webrequest listener creation failed"),T.logger.log("Invalid silent domains - webrequest listener creation failed"))}},chrome.runtime.onStartup.addListener(NSSS.formjackProtectionRulesAllocator.resetAllAllowedDomain)})(executionContext),(()=>{let{extensionAdapter:a,logger:i,utils:{isString:r}}=SymBfw,{constants:s,trackerLogger:o}=NSSS;NSSS.formjackProtectionUtils=new class{getQueryParamsForBlockPage(e,t,a,n){if(r(e)&&r(t)&&r(a))return n=(n?Date.now()-n:0)/1e3,`${s.BLOCKED_DOMAIN}=${e}&${s.ORIGINAL_URL}=${t}&${s.BLOCK_TYPE}=${a}&${s.BLOCK_DELAY}=`+n;i.debug("Invalid parameters"),o.logger.debug("Invalid parameters")}async handleLearnMoreLinkClicked(e){await NSSS.init.ready();var t=a.getExtensionURL(s.FORMJACK_PROTECTION_LEARN_MORE);a.createTab(t),NSSS.telemetryWrapper.sendFormjackProtectionLearnMoreClicked(e),NSSS.telemetryTrackerClient.sendFormjackProtectionLearnMoreClicked(e)}}})(executionContext),(()=>{let{extensionAdapter:i,alarmHelper:e,logger:r,localizer:s,utils:{isNil:o,isFunction:a,isArray:n,isString:E,isExtensionUrl:_}}=SymBfw,{constants:l,uiConstants:{MESSAGES:T},formjackProtectionConstants:{MONITOR_DOMAIN_BLOCK:S,DOMAIN_BLOCK_MONITOR_INTERVAL_IN_MINUTES:t,REGEX_PATTERN_TO_SPLIT:c,SERVICE_WORKER_KEEP_ALIVE_INTERVAL:A,BLOCK_TYPE:I,RESET_CONTINUE_TO_SITE:u},formjackProtectionRulesAllocator:R,formjackProtectionUtils:N,telemetryWrapper:O,telemetryTrackerClient:d,trackerLogger:g}=NSSS;NSSS.formjackProtectionMonitor=new class{constructor(){this._monitorBlockedDomains=this._monitorBlockedDomains.bind(this),this.handleAlarm=this.handleAlarm.bind(this),this._sendFormjackProtectionBlockPageDataAndExecuteCallback=this._sendFormjackProtectionBlockPageDataAndExecuteCallback.bind(this),this._sendFormjackProtectionNotificationDataAndExecuteCallback=this._sendFormjackProtectionNotificationDataAndExecuteCallback.bind(this),this.handleMessage=this.handleMessage.bind(this)}init(e,t){i.isManifestV3Extension()&&(a(e)&&a(t)?(this._onDomainBlocked=e,this._onBeforeRequestCallback=t,this._onDomainBlocked=this._onDomainBlocked.bind(this),this._onBeforeRequestCallback=this._onBeforeRequestCallback.bind(this),this._registerScheduler()):(r.error("Formjack monitor initialize failed, callback is not a function"),g.logEvent(g.LOG_TYPE.ERROR,"Formjack monitor initialize failed, callback is not a function")))}setBlockDetails(e,t,a){this.blockedDomain=e,this.tabUrl=t,this.blockType=a}_registerScheduler(){e.setAlarm(S,{periodInMinutes:t})}async _getBlockedDomain(e){e=e.rule,e=await R.getRuleForId(e.ruleId);if(!o(e))return e.condition.regexFilter.split(c)[1];r.debug("Rule does not exist for the id"),g.logger.debug("Rule does not exist for the id")}async _handleFormJackBlockForTab(t,e){var a=await this._getBlockedDomain(e);this.blockedDomain=a,this.blockType=I.sub_frame,this.blockDelay=(Date.now()-e.timeStamp)/1e3,E(a)&&!await R.isAllowedDomain(a)&&i.getTab(t,async e=>{if(this.tabUrl=e.url,!e.url.startsWith(l.EXTENSION_URL))try{await i.executeContentScript(t,"content/scripts/NSSSformjackBlockPageNotificationIFrame.js"),this._onDomainBlocked({details:{tabId:t,url:e.url}})}catch(e){r.error("Error while injecting FJ notification script "+e),g.logEvent(g.LOG_TYPE.ERROR,"Error while injecting FJ notification script "+g.errorToString(e))}})}async _monitorBlockedDomains(){var e=(await i.getAllMatchedRules()).rulesMatchedInfo;n(e)&&0!==e.length&&e.forEach(e=>{var t=e.tabId;-1!==t&&this._handleFormJackBlockForTab(t,e)})}handleAlarm(e){var t=e.name;switch(!0){case t===S:this._monitorBlockedDomains();break;case t.includes(u):var a=t.split(u+"_")[1];R.resetAllowBlockedDomain(a)}}async _getBlackListedUrls(){var e=await R.getExistingFormjackRules();if(n(e)&&0!==e.length){let t=[];return e.forEach(e=>{e=e.condition.regexFilter.split(c)[1];t.push(`*://*.${e}/*`)}),t}r.debug("Existing form jack rules are not present"),g.logger.debug("Existing form jack rules are not present")}async _monitorNetworkCalls(e){var t=await this._getBlackListedUrls();n(t)&&0!==t.length?(SymBfw.serviceWorkerKeepAlive.startKeepAliveConnection(e,A),chrome.webRequest.onBeforeRequest.addListener(this._onBeforeRequestCallback,{urls:t,tabId:e,types:["xmlhttprequest","websocket"]})):(r.debug("No black list domains found"),g.logger.debug("No black list domains found"))}async _sendFormjackProtectionBlockPageDataAndExecuteCallback(e,t,a,n){if(t&&t.telemetryData&&(n!==new URL(t.telemetryData.url).searchParams.get(l.ORIGINAL_URL)&&!_(n)))return void e();await NSSS.init.ready();n=NSSS.uiConstants.FORM_JACK_PROTECTION_BLOCK_PAGE,n={direction:s.getCurrentLanguageDirection(),strings:s.getLocalizedStrings(n.strings),descText:s.getLocalizedString(n.descText),blockedDomain:this.blockedDomain,tabId:a};this._sendFormjackBlockPageTelemetry(t),e(n),this._executeOnDomainBlockCallback(t.telemetryData.url,a)}async _sendFormjackProtectionNotificationDataAndExecuteCallback(e){await NSSS.init.ready();let t,a;i.isManifestV3Extension()?(t=I.sub_frame,this.blockDelay):(t=this.blockType,a=0),e({blockedDomain:this.blockedDomain,originalUrl:this.tabUrl,blockType:t,blockDelay:a})}async _handleContinueToSite(e,t,a,n){await NSSS.init.ready(),E(e)&&(this._sendFormjackBlockPageTelemetry(n),n=NSSS.helperUtils.getSessionIDForTabID(t),NSSS.helperUtils.setSessionSetting(n,NSSS.constants.SHOULD_BLOCK_KEY,!1),await R.allowBlockedDomain(e),i.updateTabUrl(t,a,e=>{}))}async _handleTechnicalDetailsClick(){await NSSS.init.ready(),i.createTab(l.FORMJACK_PROTECTION_LEARN_TECHNICAL_DETAILS),O.sendFormjackBlockPageTechDetailsClicked(),d.sendFormjackBlockPageTechDetailsClicked()}_encodeOriginalUrl(e){var t,a;if(E(e))return t=e.split("&").find(e=>e.startsWith(l.ORIGINAL_URL)),a=encodeURIComponent(t.split(l.ORIGINAL_URL+"=")[1]),e.replace(t,l.ORIGINAL_URL+"="+a)}_sendFormjackBlockPageTelemetry(e){var e=e.telemetryData,t=this._encodeOriginalUrl(e.url),t=new URL(t),t=new URLSearchParams(t.search),t={originalURL:decodeURIComponent(t.get(l.ORIGINAL_URL)),blockType:t.get(l.BLOCK_TYPE),blockDelay:t.get(l.BLOCK_DELAY),blockedDomain:t.get(l.BLOCKED_DOMAIN)};O.sendFormjackBlockPageTelemetry(t,e.isContinueToSite),d.sendFormjackBlockPageTelemetry(t,e.isContinueToSite)}async _sendFormjackProtectionLearnMoreData(e){await NSSS.init.ready();var t=NSSS.uiConstants.FORM_JACK_PROTECTION_BLOCK_PAGE;e({direction:s.getCurrentLanguageDirection(),strings:s.getLocalizedStrings(t.learnMoreStrings)})}_executeOnDomainBlockCallback(e,t){E(e)&&this._isPageBlock(e)&&(e=this._getQueryParamFromUrl(e,l.ORIGINAL_URL),this._onDomainBlocked({details:{url:e,tabId:t,isPageBlock:!0}}))}_getQueryParamFromUrl(e,t){if(E(e)&&!o(t))return e=new URL(e),new URLSearchParams(e.search).get(t)}_isPageBlock(e){if(E(e))return e=this._getQueryParamFromUrl(e,l.BLOCK_TYPE),!E(e)}async _handleFormjackExitPage(e){await NSSS.init.ready(),i.updateTabUrl(e,l.BLANK_TAB_LINK,e=>{}),O.sendFormjackBlockPageExitClicked(),d.sendFormjackBlockPageExitClicked()}handleMessage(e,t,a){if(o(e)||o(e.name)||o(a)||o(a.url))r.debug("Request or sender cannot be null"),g.logger.debug("Request or sender cannot be null");else{var n=a.id;switch(e.name){case T.FORMJACK_PROTECTION_MONITOR_NETWORK_CALLS:NSSS.formjackProtectionMonitor._monitorNetworkCalls(n);break;case T.FORMJACK_BLOCKPAGE_INIT:return this._sendFormjackProtectionBlockPageDataAndExecuteCallback(t,{telemetryData:{url:e.currentFrameUrl,isContinueToSite:!1}},a.id,a.url),!0;case T.FORMJACK_NOTIFICATION_INIT:return this._sendFormjackProtectionNotificationDataAndExecuteCallback(t),!0;case T.FORMJACK_CONTINUE_TO_SITE:this._handleContinueToSite(e.blockedDomain,n,e.tabUrl,{telemetryData:{url:e.currentFrameUrl,isContinueToSite:!0}});break;case T.FORMJACK_LEARN_MORE_LINK_CLICK:N.handleLearnMoreLinkClicked(l.FORMJACK_LEARNMORE_LAUNCH_POINT.FORMJACK_BLOCK_PAGE);break;case T.FORMJACK_LEARN_TECHNICAL_DETAILS_CLICK:this._handleTechnicalDetailsClick();break;case T.FORMJACK_EXIT_PAGE:this._handleFormjackExitPage(n);break;case T.FORMJACK_PROTECTION_LEARN_MORE_UI_INIT:return this._sendFormjackProtectionLearnMoreData(t),!0;case T.FORMJACK_GOT_IT_CLICKED:O.sendFormjackGotItClicked(),d.sendFormjackGotItClicked()}}}},SymBfw.extensionAdapter.addMessageListener(NSSS.formjackProtectionMonitor.handleMessage),SymBfw.alarmHelper.registerAlarmListener(NSSS.formjackProtectionMonitor.handleAlarm)})(executionContext),(()=>{let{jsonDownloader:a,logger:n,utils:{isObject:i,isArray:t},extensionAdapter:r}=SymBfw,{constants:s,formjackProtectionConstants:{APP_NAME:e,CDN_URL:o,SCHEDULER_INTERVAL_IN_MINS:E,RETRY_INTERVAL_IN_MINS:_,BLOCK_TYPE:l,SILENT_TELEMETRY_THROTTLE_DURATION_IN_MILLIS:T},formjackProtectionRulesAllocator:S,formjackProtectionMonitor:c,formjackProtectionUtils:A,telemetryTrackerClient:I,telemetryWrapper:u,trackerLogger:R}=NSSS;NSSS.formjackProtectionManager=new class{constructor(){this._onDownloadedCallback=this.onDownloadedCallback.bind(this),this._onBeforeWebRequest=this._onBeforeWebRequestCallback.bind(this),this._onBeforeSilentWebRequest=this._onBeforeSilentWebRequestCallback.bind(this),this._silentTelemetryDomainsMap=new Map}_getDownloadConfig(){return{appName:e,cdnUrl:o,schedulerIntervalInMins:E,retryIntervalInMins:_}}async init(e){if(!i(e))throw new Error("Invalid formjack protection config, initialization failed");var t=(this._config=e).onDomainBlocked,t=(c.init(t,this._onBeforeWebRequest),{...e,...this._getDownloadConfig(),onDownloadedCallback:this._onDownloadedCallback});try{await a.init(t)}catch(e){throw new Error("Initialization failed: "+e)}}_getFormjackBlockDetails(e){var t=new URL(e.url).hostname,a=l[e.type]||l.network_request;return{tabId:e.tabId,url:e.url,blockType:a,blockedDomain:t,urlType:e.type||null}}_onBeforeWebRequestCallback(e){e=this._getFormjackBlockDetails(e);r.isManifestV3Extension()?this._handleWebRequestMv3(e):this._handleWebRequest(e)}_onBeforeSilentWebRequestCallback(e){e=this._getFormjackBlockDetails(e);this._handleSilentWebRequest(e)}async _handleWebRequestMv3(e){await S.isAllowedDomain(e.blockedDomain)||this._handleWebRequest(e)}async _handleWebRequest(a){r.getTab(a.tabId,async e=>{e.url;if(a.urlType!==s.MAIN_FRAME){this.blockedDomain=a.blockedDomain,this.tabUrl=e.url,this.blockType=a.blockType,c.setBlockDetails(a.blockedDomain,e.url,a.blockType);try{await r.executeContentScript(e.id,"content/scripts/NSSSformjackBlockPageNotificationIFrame.js"),this._config.onDomainBlocked({details:{tabId:a.tabId,url:e.url}})}catch(e){n.error("Error while calling executeScript with FJ notification script "+e),R.logEvent(R.LOG_TYPE.ERROR,"Error while calling executeScript with FJ notification script "+R.errorToString(e))}return{cancel:!0}}var e=a.url,t=A.getQueryParamsForBlockPage(a.blockedDomain,e,a.blockType);this._config.onDomainBlocked({details:{tabId:a.tabId,url:e,queryParams:t}})})}_getConcatenatedDomain(e,t){return new URL(e).hostname+"#"+t}_handleSilentWebRequest(n){r.getTab(n.tabId,e=>{let t=e.url;n.urlType===s.MAIN_FRAME&&(t=n.url);var e=this._getConcatenatedDomain(t,n.blockedDomain),a=this._silentTelemetryDomainsMap.get(e);a&&Date.now()-a<T||(this._silentTelemetryDomainsMap.set(e,Date.now()),a={originalURL:t,blockType:n.blockType,blockDelay:0,blockedDomain:n.blockedDomain},u.sendFormjackSilentTelemetry(a),I.sendFormjackSilentTelemetry(a))})}onDownloadedCallback(e){i(e)&&t(e.domains)?r.isManifestV3Extension()?S.createDynamicRules(e.domains):(S.updateWebRequestListener(e.domains,this._onBeforeWebRequest),t(e.silentDomains)&&e.silentDomains.length&&S.updateSilentWebRequestListener(e.silentDomains,this._onBeforeSilentWebRequest)):(n.error("Invalid formjack protection json payload"),R.logEvent(R.LOG_TYPE.ERROR,"Invalid formjack protection json payload"))}}})(executionContext),(e=>{let{extensionAdapter:t,utils:{isArray:i,isntNil:a,isString:n,isObject:r}}=SymBfw,{constants:s,NSSSHelper:o,uiConstants:E,uiConstants:{MESSAGES:_}}=NSSS;(e.NSSS=e.NSSS||{}).externalCommunication=new class{async getExternalExtensionsData(e){var t,a,n;if(i(e)&&0!==e.length)return t=e.map(e=>this.checkExternalExtensionExists(e)),(a=(t=await Promise.allSettled(t)).find(e=>e.status===s.FULFILLED))?(n=t.findIndex(e=>e.status===s.FULFILLED),a&&(a.status||a.doi)?this.getExtensionName(e[n]):void 0):t.find(e=>e.reason===s.TIMED_OUT)?s.UNKNOWN:s.FREE}async _fetchExistenceStates(e){e=e.map(e=>this.checkExternalExtensionExists(e));return await Promise.allSettled(e)}async isAtleastOneExtensionExists(e){if(i(e)&&0!==e.length)return e=(await this._fetchExistenceStates(e)).find(e=>e.status===s.FULFILLED),!!a(e);throw new Error("Invalid extension ids")}getHbPingDataForExternalExtensions(){var t,a={};for(t of s.OTHER_EXTENSION_DETAILS[E.EXTENSION_TYPE]){let e=s.EXTERNAL_EXTENSION_COMMUNICATION_DETAILS[t].extensions;a[s.EXTERNAL_EXTENSION_COMMUNICATION_DETAILS[t].custom_dimension]=()=>this.getExternalExtensionsData(e)}return a}async isAtleastOneExtensionExists(e){if(i(e)&&0!==e.length)return e=(await this._fetchExistenceStates(e)).find(e=>e.status===s.FULFILLED),!!a(e);throw new Error("Invalid extension ids")}async _fetchExistenceStates(e){e=e.map(e=>this.checkExternalExtensionExists(e));return await Promise.allSettled(e)}async getSafeSearchExtensionsInstalled(){var e=this.getHbPingDataForExternalExtensions();if(r(e)){var t,a=[];for(t of Object.entries(e)){var n=await e[t[0]]();n===s.FREE||s.REPETITIVE_EXTENSIONS.includes(n)||a.push(n.toLowerCase())}return a}}async isExtensionsInstalled(e){if(!i(e))return!1;let t=await this.getSafeSearchExtensionsInstalled();return!(!i(t)||0===t.length)&&e.every(e=>t.includes(e))}getExtensionName(t){return Object.entries(s.EXTENSION_ID_NAME_MAP).find(e=>e[1].includes(t))[0]}checkExternalExtensionExists(e){if(!n(e))return Promise.reject("Invalid extension id");let t=_.EXTENSION_EXISTENCE_CHECK;return s.REPETITIVE_EXTENSION_IDS.includes(e)&&(t=s.GET_INSTALL_DATE),o.sendMessageToExternalExtension(e,{name:t})}handleExternalMessage(e,t,a){t=t.id;s.NORTON_EXTENSION_IDS.includes(t)&&e.name===_.EXTENSION_EXISTENCE_CHECK&&a({status:!0})}sendMessageToHpExtensionOnInstall(){var e=NSSS.constants.HP_EXTENSION_IDS[SymBfw.globals.BROWSER];o.sendMessageToExternalExtension(e,{name:_.DS_EXTENSION_INSTALLED})}sendMessageToSwExtensionOnInstall(){var e=NSSS.constants.SW_EXTENSION_IDS[SymBfw.globals.BROWSER];o.sendMessageToExternalExtension(e,{name:_.DS_EXTENSION_INSTALLED})}},t.addMessageExternalListener(NSSS.externalCommunication.handleExternalMessage)})(executionContext),(e=>{{var i=e.SymBfw,r=e.NSSS;let a=i.logger,n=r.trackerLogger;e={handleInstall:async function(e){e=e.reason;i.globals.BROWSER;r.isFreshInstall=!1,"install"===e&&(r.isFreshInstall=!0,r.main.injectWebCommunication());try{await r.init.ready();var t=r.telemetryWrapper;switch(e){case"install":r.helperUtils.flavorizeExtension(),await r.NSSSHelper.findAndSaveUrlParamsFromChromeWebStore(),t.sendExtensionInstall(),r.telemetryTrackerClient.sendExtensionInstall(),r.globalSettings.getInstallDate();break;case"update":t.sendExtensionUpdate(),r.telemetryTrackerClient.sendExtensionUpdate(),r.globalSettings.getInstallDate()}}catch(e){a.error(e),n.logEvent(n.LOG_TYPE.ERROR,""+n.errorToString(e)),r.NSSSHelper._resolveOnUrlParamsSet&&r.NSSSHelper._resolveOnUrlParamsSet()}}},Object.assign(r.main,e)}})(executionContext),(e=>{e.NSSS.enableAllFlow=((e,t)=>{let a=e.extensionAdapter,{isNil:n,isntNil:i,isBoolean:r}=e.utils,{uiConstants:s,uiConstants:{MESSAGES:o}}=t;return new class{constructor(){this._handleAfterGettingEnableAllStatus=this._handleAfterGettingEnableAllStatus.bind(this),this._handleMessage=this._handleMessage.bind(this),this.sendEnableAllFlowCommListenerAddedMsgToTab=this.sendEnableAllFlowCommListenerAddedMsgToTab.bind(this),this._setEnableAllStatus=this._setEnableAllStatus.bind(this),this.getEnableAllStatus=this.getEnableAllStatus.bind(this),this._eventsMap={[o.ENABLE_ALL_FLOW_FROM_PORTAL]:this._handleAfterGettingEnableAllStatus.bind(this)},this.enableAllStatus=!1,this._enableAllFlowPromise=new Promise(e=>{this._afterGettingEnableAllStatus=e}),a.addMessageListener(this._handleMessage)}async handleEnableAllFlow(){return setTimeout(()=>{s.EXTENSION_TYPE===s.THREE_IN_ONE?this._setEnableAllStatus(!1):this._setEnableAllStatus(!0),this._afterGettingEnableAllStatus()},5e3),this._enableAllFlowPromise}_handleMessage(e,t){if(!n(e)&&!n(e.id)){var a=this._eventsMap[e.id];if(!n(a))return a(e,t),!0}}_handleAfterGettingEnableAllStatus(e){i(e.payload)&&i(e.payload.status)&&(this._setEnableAllStatus(e.payload.status),this._afterGettingEnableAllStatus())}sendEnableAllFlowCommListenerAddedMsgToTab(e){e.forEach(e=>{a.sendMessageToTab(e,{id:o.ENABLE_ALL_COMMUNICATION_LISTENER_ADDED},this._handleAfterGettingEnableAllStatus)})}_setEnableAllStatus(e){r(e)&&(this.enableAllStatus=e)}getEnableAllStatus(){return this.enableAllStatus}}})(e.SymBfw,e.NSSS)})(executionContext),(e=>{let{settings:t,logger:s}=e.SymBfw,o=SymBfw.utils.isNil,E=NSSS.trackerLogger;e.NSSS.BaseSettings=class{initSettingsContainer(r){if(!o(r))return new Promise((n,i)=>{t.loadSettingsContainer(r,!0,(e,t,a)=>{!e||o(t)?(s.error("failed to load "+r),E.logEvent(E.LOG_TYPE.ERROR,"failed to load "+r),this.settingsContainer=null,i(!1)):(this.settingsContainer=t,n(!0))})})}getValue(e){if(!o(this.settingsContainer))return this.settingsContainer.getObject(e);s.error("settings Container not initialized"),E.logEvent(E.LOG_TYPE.ERROR,"settings Container not initialized")}setValue(e,t,a){o(this.settingsContainer)?(s.error("settings Container not initialized"),E.logEvent(E.LOG_TYPE.ERROR,"settings Container not initialized")):this.settingsContainer.setObject(e,t,a)}}})(executionContext),(e=>{let{SymBfw:t,NSSS:a}=e,{isNil:n,isntNil:i}=t.utils,{BaseSettings:r,constants:s}=a,{SETTINGS_CONTAINER:o,PRIVACY_CONSENT:E,BROWSER_RESTART_TIMES:_}=a.constants.PRIVACY_PROMPT;class l extends r{constructor(e){super(),this.containerGUID=e,this.initialize=this.initialize.bind(this),this.getPrivacyConsent=this.getPrivacyConsent.bind(this),this.setPrivacyConsent=this.setPrivacyConsent.bind(this),this.getNumberOfBrowserRestart=this.getNumberOfBrowserRestart.bind(this),this.setNumberOfBrowserRestart=this.setNumberOfBrowserRestart.bind(this)}async initializeSettingsContainer(){await this.initSettingsContainer(this.containerGUID)}async initialize(){var e=this.getPrivacyConsent();if(null===e){let t=!s.SHOW_CONSENT_UI_UPDATE_FLOW&&!await a.PrivacyPromptController.isFreshInstall();return new Promise(e=>{this.setPrivacyConsent(t,e)})}}getPrivacyConsent(){var e=this.getValue(E);return n(e)?null:e}setPrivacyConsent(e,t){i(e)&&this.setValue(E,e,t)}getNumberOfBrowserRestart(){let e=this.getValue(_);return n(e)&&(e=0,this.setNumberOfBrowserRestart(e)),e}setNumberOfBrowserRestart(e,t){i(e)&&this.setValue(_,e,t)}}e.NSSS.privacyPromptSettings=new l(o)})(executionContext),(e=>{e.NSSS.PrivacyPromptController=((r,T)=>{let{extensionAdapter:S,localizer:n,logger:i,Telemetry:e,telemetryConstants:c,globals:A}=r,{isNil:s,isntNil:o}=r.utils,{uiConstants:E,uiConstants:{MESSAGES:t},constants:I,globalSettings:u,telemetryWrapper:_,trackerLogger:l,helperUtils:a,enableAllFlow:R}=T,{PRIVACY_PROMPT_SCREEN_UI_INIT:N,ON_PRIVACY_CONSENT_ACCEPT:O,ON_PRIVACY_CONSENT_DECLINE:d,OPEN_GLOBAL_PRIVACY_PAGE:g,REMOVE_NSW_CLICKED:C,GET_PRIVACY_CONSENT_ACKNOWLEDGEMENT_STATUS:m}=t;return new class{constructor(){this.userPrivacyConsent=this.userPrivacyConsent.bind(this),this._getPrivacyPromptResponse=this._getPrivacyPromptResponse.bind(this),this._handleAfterGettingPrivacyConsent=this._handleAfterGettingPrivacyConsent.bind(this),this._handleAfterDeclinedPrivacyConsent=this._handleAfterDeclinedPrivacyConsent.bind(this),this._handleOpenGlobalPrivacyPage=this._handleOpenGlobalPrivacyPage.bind(this),this._handleRemoveExtension=this._handleRemoveExtension.bind(this),this._sendTelemetry=this._sendTelemetry.bind(this),this._handleMessage=this._handleMessage.bind(this),this._addStartUpListener=this._addStartUpListener.bind(this),this._privacyConsentPromise=new Promise(e=>{this._afterGettingConsentListener=e}),this._addStartUpListener(),this._init(),this._telemetryOptIn=null,this._portalFlow=!1}_init(){this._eventsMap={[N]:this._getPrivacyPromptResponse,[O]:this._handleAfterGettingPrivacyConsent,[d]:this._handleAfterDeclinedPrivacyConsent,[g]:this._handleOpenGlobalPrivacyPage,[C]:this._handleRemoveExtension,[m]:this._getPrivacyAcknowledgementValue},this.telemetry=new e(I.PRIVACY_PROMPT.FF_AMO_TELEMETRY_MESSAGE,!0),S.addMessageListener(this._handleMessage),S.addBrowserActionOnClickListener(this.userPrivacyConsent),this._extensionStatus=new Promise(t=>{let a=setTimeout(()=>t(u.getInstallStatus()),2e3);chrome.runtime.onInstalled.addListener(e=>{clearTimeout(a),u.setInstallStatus(e.reason),t(e.reason)})})}getTelemetryOptInStatus(){return this._telemetryOptIn}async _getPrivacyAcknowledgementValue(e,t){await T.privacyPromptSettings.initializeSettingsContainer(),t(T.privacyPromptSettings.getPrivacyConsent())}async userPrivacyConsent(e){await T.privacyPromptSettings.initialize();var t=T.privacyPromptSettings.getPrivacyConsent();if(!t)return[E.SAFEWEB_EXTENSION,E.THREE_IN_ONE,E.MEDIA_DOT_NET_EXTENSION].includes(E.EXTENSION_TYPE)&&(a.updatePrivacyConsentActionButton(!0),S.setPopupHandler("")),t=R.getEnableAllStatus(),e?this._openPrivacyPromptTab():E.EXTENSION_TYPE!==E.SAFEWEB_EXTENSION?(this._addDefaultSearchListener(),this._handlePrivacyConsentSearchExtensions(t)):this._isRestartTimesToShowReached()||(t?setTimeout(()=>{this._openPrivacyPromptTab()},6e4):this._openPrivacyPromptTab()),this._privacyConsentPromise}_handlePrivacyConsentSearchExtensions(e){if(E.EXTENSION_TYPE===E.HOMEPAGE_EXTENSION)return e?void setTimeout(()=>{this._openPrivacyPromptTab()},12e4):void this._openPrivacyPromptTab();let t;t=this._portalFlow?e?9e4:1e4:0,setTimeout(()=>{this._openPrivacyPromptTab()},t)}setPortalFlow(){this._portalFlow=!0}_addDefaultSearchListener(){[E.DEFAULT_SEARCH_EXTENSION,E.THREE_IN_ONE,E.MEDIA_DOT_NET_EXTENSION].includes(E.EXTENSION_TYPE)&&chrome.webRequest.onBeforeRequest.addListener(this._handleDefaultSearchEvent,{urls:[T.constants.SEARCH_URL+"?omnisearch=yes*"]},["blocking"])}_removeDefaultSearchListener(){chrome.webRequest.onBeforeRequest.removeListener(this._handleDefaultSearchEvent)}_handleDefaultSearchEvent(e){var t;if(!T.privacyPromptSettings.getPrivacyConsent())return t=S.getExtensionURL(T.uiConstants.PRIVACY_PROMPT_SCREEN.HTML),S.updateTabUrl(e.tabId,t),{cancel:!0}}_openPrivacyPromptTab(){let a=S.getExtensionURL(E.PRIVACY_PROMPT_SCREEN.HTML);S.getTabsWithURL(a,e=>{var t=S.getLastError();o(t)&&(i.debug(t),l.logger.debug(l.errorToString(t))),o(e)&&o(e[0])?(S.activateTab(S.getTabID(e[0])),S.focusWindow(S.getWindowIDForTab(e[0]))):r.extensionAdapter.createTab(a)})}_closePrivacyPromptTab(){var e=S.getExtensionURL(E.PRIVACY_PROMPT_SCREEN.HTML);S.getTabsWithURL(e,e=>{var t=S.getLastError();o(t)&&(i.debug(t),l.logger.debug(l.errorToString(t))),s(e)||s(e[0])||S.closeTab(S.getTabID(e[0]))})}_getPrivacyPromptResponse(e,t){var a=T.uiConstants.EXTENSION_TYPE===T.uiConstants.MEDIA_DOT_NET_EXTENSION?T.uiConstants.THREE_IN_ONE:T.uiConstants.EXTENSION_TYPE,n=E.PRIVACY_PROMPT_SCREEN,i={};i.productName=r.localizer.getLocalizedString(n[a].productName),i.description1=r.localizer.getLocalizedString(n[a].description1),i.description2=r.localizer.getLocalizedString(n[a].description2),i.declineText=r.localizer.getLocalizedString(n[a].declineText),i.protectText=r.localizer.getLocalizedString(n[a].protectText),i.direction=r.localizer.getCurrentLanguageDirection(),i.showUpdateBanner=!T.isFreshInstall,i.strings=r.localizer.getLocalizedStrings(n.strings),t(i)}_handleMessage(e,t){if(!s(e)&&!s(e.id)){var a=this._eventsMap[e.id];if(!s(a))return a(e,t),!0}}_handleAfterGettingPrivacyConsent(e,t){T.globalSettings.setPrivacyConsentAcceptClicked(!0),[E.SAFEWEB_EXTENSION,E.THREE_IN_ONE,E.MEDIA_DOT_NET_EXTENSION].includes(E.EXTENSION_TYPE)&&(S.setPopupHandler(I.POPUP_PAGE),a.updatePrivacyConsentActionButton(!1)),T.privacyPromptSettings.setPrivacyConsent(!0),this._afterGettingConsentListener(),this._closePrivacyPromptTab(),[E.DEFAULT_SEARCH_EXTENSION,E.THREE_IN_ONE,E.MEDIA_DOT_NET_EXTENSION].includes(E.EXTENSION_TYPE)&&this._removeDefaultSearchListener(),this._telemetryOptIn=e.telemetryOptIn,this._sendTelemetry({payload:{elementId:_.actionType.UI.PRIVACY_ACCEPT_CLICKED}})}_handleAfterDeclinedPrivacyConsent(e,t){S.uninstallSelf(),this._sendTelemetry({payload:{elementId:_.actionType.UI.PRIVACY_DECLINE_CLICKED}});var a=T.uiConstants.EXTENSION_TYPE,a=T.uiConstants.PRIVACY_PROMPT_SCREEN[a].uninstallDialogMessage,a=n.getLocalizedString(a);S.uninstallSelf(!0,a)}_handleRemoveExtension(){this._sendTelemetryAndUninstall()}_handleOpenGlobalPrivacyPage(){var e=I.PRIVACY_PROMPT.FF_AMO_GLOBAL_PRIVACY_STMT_URL[E.EXTENSION_TYPE];S.createTab(e)}_sendTelemetry(e){var e=e.payload.elementId,{CATEGORY:t,HIT_TYPE:a,ACTION:n,LABEL:i,DOCUMENT_TITLE:r}=c.parameters,s="ffamo-privacy-events",o=S.getExtensionId(),o=I.SAFE_WEB_EXTENSION+"_"+o,E=c.TELEMETRY_CATEGORY.EXTENSION,_=I.events.CLICK,o=(T.telemetryWrapper.send(E,_,e,{[r]:s}),T.telemetryTrackerClient.sendPrivacyPromptEvents(E,e,!1),{APPLICATION_NAME:o,APPLICATION_VERSION:u.getVersion(),CLIENT_ID:T.init.getClientID(),DATA_SOURCE:c.dataSource.BROWSER_EXTENSION,TRACKING_ID:T.constants.TELEMETRY_TRACKING_ID,USER_LANGUAGE:navigator.language,ANONYMIZE_IP:1,GOOGLE_ANALYTICS_PROTOCOL_VERSION:1,BROWSER_NAME:A.BROWSER});let l={[t]:E,[a]:c.HIT_TYPE.EVENT,[n]:_,[i]:e,[r]:s};this.telemetry.initialized?this.telemetry.send(l):this.telemetry.init(o,e=>{e&&this.telemetry.send(l)})}async isFreshInstall(){var e=await this._extensionStatus,t=u.getInstallStatus();return!s(t)&&e===t||u.setInstallStatus(e||I.INSTALL_STATUS.INSTALL),!!s(e)||e===I.INSTALL_STATUS.INSTALL}_isRestartTimesToShowReached(){return!(T.privacyPromptSettings.getNumberOfBrowserRestart()<3)}async _handleBrowserStartUp(){var e;await T.privacyPromptSettings.initializeSettingsContainer(),E.EXTENSION_TYPE===E.DEFAULT_SEARCH_EXTENSION?T.privacyPromptSettings.getPrivacyConsent()||(e=S.getExtensionURL(E.PRIVACY_PROMPT_SCREEN.HTML),r.extensionAdapter.createTab(e)):(e=T.privacyPromptSettings.getNumberOfBrowserRestart(),T.privacyPromptSettings.setNumberOfBrowserRestart(e+1))}_addStartUpListener(){chrome.runtime.onStartup.addListener(this._handleBrowserStartUp)}}})(e.SymBfw,e.NSSS)})(executionContext),(e=>{(e.NSSS=e.NSSS||{}).settingsManager=((_,i,r)=>{let{constants:l,uiConstants:n,uiConstants:{THEMES:{DARK_THEME:s,LIGHT_THEME:o,BROWSER_THEME:e}},helperUtils:E,globalSettings:T,telemetryTrackerClient:S,telemetryWrapper:c}=i;var A={};_.logger;let I=_.utils.isntNil,u=_.utils.isNil,t=_.utils.isBoolean,R=_.localizer,N=_.extensionAdapter,O=n.MESSAGES,d=n.SETTINGS_UI.strings,g=n.BROWSER_NOTIFICATION.strings,C=_.telemetrySettings;return A._postSignOut=function(e){var t=R.getLocalizedStrings(g);let a=null;a=e?t["You have successfully logged out of your NortonLifeLock Account"]:t["Sorry, something went wrong. Please try again."];e=new _.TimedNotification(a,n.BROWSER_NOTIFICATION_IMAGE);_.notificationCenter.addNotification(e)},A._setTelemetryStatus=async e=>{t(e)&&(await i.init.ready(),C.setTelemetryEnabled(e),I(i._telemetryNotificationID))&&e&&(_.notificationCenter.removeNotification(i._telemetryNotificationID),i._telemetryNotificationID=null)},A._openPrivacyPolicypage=async()=>{await i.init.ready(),N.createTab(l.GEN_PRIVACY_URL)},A._sendSettingsPagedata=async e=>{await i.init.ready();var t={},a=(t.showHomepageTourButton=E.isHomePageTourSupported(),t.direction=R.getCurrentLanguageDirection(),t.strings=R.getLocalizedStrings(d),t.isTelemetryEnabled=C.isTelemetryEnabled(),i.NSSSHelper.isLinkGuardSupported());a&&(t.isLinkGuardEnabled=i.NSSSHelper.getLinkGuardEnabled(),t.isLinkGuardSupported=a),e(t)},A._handleStartHomePageTourClick=async()=>{await i.init.ready(),i.homePage.didUserTriggerHomePageTour=!0,i.telemetryWrapper.sendTourTriggeredByUserEvent(),S.sendTourTriggeredByUserEvent(),N.createTab(N.getExtensionURL(i.constants.HOME_PAGE))},A._resetSettingsAndSendData=async function(e){await i.init.ready(),T.setDefaultDarkModeTheme(n.THEMES.BROWSER_THEME),A.resetDefaultsSettings(),S.sendRestoreToDefaultTelemetryEvent(),i.homePageFeaturesManager.handleRestoreToDefaultClick(),c.sendRestoreToDefaultTelemetry(),e(await A.getHomePageSettings())},A._saveSettingsAndSendData=async function(e,t){await i.init.ready(),A.saveHpSettings(e),t(await A.getHomePageSettings())},A._getHomePageSettingsAndSendData=async function(e){await i.init.ready(),e(await A.getHomePageSettings())},A._handleLinkGuardToggle=async function(e){await i.init.ready(),LinkGuardSDK.linkGuardManager.setLinkGuardEnabled(e)},A.handleMessage=function(e,t,a){var n=e.message;switch(e.name){case O.SET_TELEMETRY_ENABLED:A._setTelemetryStatus(n);break;case O.SETTINGS_PRIVACY_POLICY:A._openPrivacyPolicypage();break;case O.UPDATE_FG_LINK_GUARD:return A._handleLinkGuardToggle(n),!0;case O.SETTINGS_PAGE_UI_INIT:return A._sendSettingsPagedata(t),!0;case O.SIGN_OUT:if(I(r)&&I(r.session))return r.session.logout(e=>{t({isLogoutSuccess:e}),A._postSignOut(e)}),!0;break;case O.START_HOME_PAGE_TOUR:A._handleStartHomePageTourClick();break;case O.RESET_HP_DEFAULT_SETTINGS:return A._resetSettingsAndSendData(t),!0;case O.GET_HP_DEFAULT_SETTINGS:return A._getHomePageSettingsAndSendData(t),!0;case O.SAVE_HP_SETTINGS:return A._saveSettingsAndSendData(n,t),!0;case O.NEW_TAB_SEARCH_TOGGLED:S.sendSettingsToggleTelemetry(l.NEW_TAB_SETTING,n.newTabSearchEnabled),c.sendSettingsToggleTelemetry(l.NEW_TAB_SETTING,n.newTabSearchEnabled)}},A.getHomePageSettings=async function(){null===T.getNewTabForSearchResultsEnabled()&&A.resetDefaultsSettings();var e=await i.nsssDarkModeHandlerBG.isDarkModeSet();return{newTabChecked:T.getNewTabForSearchResultsEnabled(),showMostVisitedSites:T.getMostVisitedSitesEnabled(),showWeatherWidget:T.getWeatherWidgetEnabled(),showTimeWidget:T.getTimerWidgetEnabled(),backgroundImageData:T.getBackgroundImageSetting(),isCustomDarkMode:e,showBookmark:T.getBookmarksToolbarEnabled(),isTelemetryEnabled:C.isTelemetryEnabled()}},A._notifyNewTabSettingChange=function(){i.nsssNewTabSettingChangeHandler.onNewTabSettingChange()},A.saveHpSettings=function(e){T.getNewTabForSearchResultsEnabled()!==e.newTabChecked&&(T.setNewTabForSearchResultsEnabled(e.newTabChecked),A._notifyNewTabSettingChange()),T.setMostVisitedSitesEnabled(e.showMostVisitedSites),T.setWeatherWidgetEnabled(e.showWeatherWidget),T.setTimerWidgetEnabled(e.showTimeWidget),T.setBookmarksToolbarEnabled(e.showBookmark);var t=e.isCustomDarkMode?s:o,a=i.customDarkModeManager.getCustomDarkModeTheme();null!==a&&a.customDarkModeTheme===t||(i.customDarkModeManager.setCustomDarkModeTheme(t),e.customThemeToggle&&(c.sendCustomThemeToggleTelemetry(t),S.sendCustomThemeToggleTelemetry(t)))},A.resetDefaultsSettings=function(){T.setNewTabForSearchResultsEnabled(!0),A._notifyNewTabSettingChange(),T.setMostVisitedSitesEnabled(!1),T.setWeatherWidgetEnabled(!0),T.setTimerWidgetEnabled(!0),T.setBackgroundImageSetting({isEnabled:!1}),i.customDarkModeManager.setCustomDarkModeTheme(e),T.setBookmarksToolbarEnabled(!1)},A.openSiteDirector=function(e,t=l.DEFAULT_ORIGIN_VALUE,a=!1,n=!1,i=l.DEST_PARAM_PRIVACY){let r=l.SITE_DIRECTOR_URL;var s=_.localizer.getNavigatorLanguage().split("-"),o=s[0];let E=s[1];u(E)&&(E=l.DEFAULT_COUNTRY);var s=l.ISO2_ISO3_COUNTRY[E.toUpperCase()],o=l.ISO2_ISO3_LANGUAGE[o.toUpperCase()];r=(r=(r=(r=(r=r.replace("ISO3_COUNTRY_CODE",s)).replace("ISO3_LAN_CODE",o)).replace("SSDCAT_VALUE",e)).replace("ORIGIN",t)).replace("DESTINATION",i),a&&(s=A.getAdditionalParams(),r+=s),n&&(r+=n),N.createTab(r)},A.getAdditionalParams=()=>{var e=i.globalSettings.getPartnerId(),t=i.globalSettings.getPUID(),a=i.globalSettings.getLayoutType();let n=l.SITE_DIRECTOR_ADDITIONAL_PARAM;return n=u(e)||u(t)||u(a)?l.ISPID:(n=(n=n.replace("LAYOUT_TYPE",a)).replace("PARTNERID",e)).replace("PUID",t)},N.addMessageListener(A.handleMessage),A})(e.SymBfw,e.NSSS,e.SymO2)})(executionContext);
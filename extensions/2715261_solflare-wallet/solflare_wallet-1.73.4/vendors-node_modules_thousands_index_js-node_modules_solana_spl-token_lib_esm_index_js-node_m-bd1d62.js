"use strict";(self.webpackChunk_solflare_extension=self.webpackChunk_solflare_extension||[]).push([["vendors-node_modules_thousands_index_js-node_modules_solana_spl-token_lib_esm_index_js-node_m-bd1d62","vendors-node_modules_solana_spl-token_lib_esm_instructions_approve_js-node_modules_solana_spl-453886"],{"../../../node_modules/@solana/buffer-layout/lib/Layout.js":(e,t,n)=>{t.Tl=t._O=t.Jq=t.KB=t.u8=t.cv=t._H=t.Ar=void 0,t.Ik=t.A9=t.n_=t.gM=void 0;const r=n("../../../node_modules/buffer/index.js");function i(e){if(!(e instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}function o(e){return i(e),r.Buffer.from(e.buffer,e.byteOffset,e.length)}class s{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}function a(e,t){return t.property?e+"["+t.property+"]":e}t.Ar=s;class c extends s{isCount(){throw new Error("ExternalLayout is abstract")}}class u extends c{constructor(e=1,t){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t=0){i(e);const n=e.length-t;return Math.floor(n/this.elementSpan)}encode(e,t,n){return 0}}class d extends c{constructor(e,t=0,n){if(!(e instanceof s))throw new TypeError("layout must be a Layout");if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof l||this.layout instanceof h}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,n=0){return this.layout.encode(e,t,n+this.offset)}}class l extends s{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return o(e).readUIntLE(t,this.span)}encode(e,t,n=0){return o(t).writeUIntLE(e,n,this.span),this.span}}class h extends s{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return o(e).readUIntBE(t,this.span)}encode(e,t,n=0){return o(t).writeUIntBE(e,n,this.span),this.span}}class m extends s{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return o(e).readIntLE(t,this.span)}encode(e,t,n=0){return o(t).writeIntLE(e,n,this.span),this.span}}const f=Math.pow(2,32);function p(e){const t=Math.floor(e/f);return{hi32:t,lo32:e-t*f}}function g(e,t){return e*f+t}class y extends s{constructor(e){super(8,e)}decode(e,t=0){const n=o(e),r=n.readUInt32LE(t);return g(n.readUInt32LE(t+4),r)}encode(e,t,n=0){const r=p(e),i=o(t);return i.writeUInt32LE(r.lo32,n),i.writeUInt32LE(r.hi32,n+4),8}}class b extends s{constructor(e){super(8,e)}decode(e,t=0){const n=o(e),r=n.readUInt32LE(t);return g(n.readInt32LE(t+4),r)}encode(e,t,n=0){const r=p(e),i=o(t);return i.writeUInt32LE(r.lo32,n),i.writeInt32LE(r.hi32,n+4),8}}class k extends s{constructor(e,t,n){if(!(e instanceof s))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof c&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let r=-1;!(t instanceof c)&&0<e.span&&(r=t*e.span),super(r,n),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0,r=this.count;if(r instanceof c&&(r=r.decode(e,t)),0<this.elementLayout.span)n=r*this.elementLayout.span;else{let i=0;for(;i<r;)n+=this.elementLayout.getSpan(e,t+n),++i}return n}decode(e,t=0){const n=[];let r=0,i=this.count;for(i instanceof c&&(i=i.decode(e,t));r<i;)n.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),r+=1;return n}encode(e,t,n=0){const r=this.elementLayout,i=e.reduce(((e,i)=>e+r.encode(i,t,n+e)),0);return this.count instanceof c&&this.count.encode(e.length,t,n),i}}class w extends s{constructor(e,t,n){if(!Array.isArray(e)||!e.reduce(((e,t)=>e&&t instanceof s),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof t&&void 0===n&&(n=t,t=void 0);for(const t of e)if(0>t.span&&void 0===t.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=e.reduce(((e,t)=>e+t.getSpan()),0)}catch(e){}super(r,t),this.fields=e,this.decodePrefixes=!!n}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce(((n,r)=>{const i=r.getSpan(e,t);return t+=i,n+i}),0)}catch(e){throw new RangeError("indeterminate span")}return n}decode(e,t=0){i(e);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(e,t)),t+=r.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return n}encode(e,t,n=0){const r=n;let i=0,o=0;for(const r of this.fields){let s=r.span;if(o=0<s?s:0,void 0!==r.property){const i=e[r.property];void 0!==i&&(o=r.encode(i,t,n),0>s&&(s=r.getSpan(t,n)))}i=n,n+=s}return i+o-r}fromArray(e){const t=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<e.length&&(t[n.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw new TypeError("property must be string");let t=0;for(const n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span)}}}class I extends s{constructor(e,t){if(!(e instanceof c&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof c||(n=e),super(n,t),this.length=e}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e,t=0){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),o(e).slice(t,t+n)}encode(e,t,n){let r=this.length;if(this.length instanceof c&&(r=e.length),!(e instanceof Uint8Array&&r===e.length))throw new TypeError(a("Blob.encode",this)+" requires (length "+r+") Uint8Array as src");if(n+r>t.length)throw new RangeError("encoding overruns Uint8Array");const i=o(e);return o(t).write(i.toString("hex"),n,r,"hex"),this.length instanceof c&&this.length.encode(r,t,n),r}}t._H=(e,t)=>new u(e,t),t.cv=(e,t,n)=>new d(e,t,n),t.u8=e=>new l(1,e),t.KB=e=>new l(2,e),t.Jq=e=>new l(4,e),t._O=e=>new y(e),t.Tl=e=>new m(2,e),t.gM=e=>new b(e),t.n_=(e,t,n)=>new w(e,t,n),t.A9=(e,t,n)=>new k(e,t,n),t.Ik=(e,t)=>new I(e,t)},"../../../node_modules/@solana/web3.js/lib/index.browser.esm.js":(e,t,n)=>{n.r(t),n.d(t,{Account:()=>O,AddressLookupTableAccount:()=>Ve,AddressLookupTableInstruction:()=>Gn,AddressLookupTableProgram:()=>Zn,Authorized:()=>or,BLOCKHASH_CACHE_TIMEOUT_MS:()=>tt,BPF_LOADER_DEPRECATED_PROGRAM_ID:()=>K,BPF_LOADER_PROGRAM_ID:()=>Me,BpfLoader:()=>Le,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:()=>Jn,ComputeBudgetInstruction:()=>Vn,ComputeBudgetProgram:()=>Xn,Connection:()=>Dn,Ed25519Program:()=>Qn,Enum:()=>E,EpochSchedule:()=>qe,FeeCalculatorLayout:()=>Te,Keypair:()=>Hn,LAMPORTS_PER_SOL:()=>Pr,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:()=>$n,Loader:()=>We,Lockup:()=>sr,MAX_SEED_LENGTH:()=>z,Message:()=>re,MessageAccountKeys:()=>H,MessageV0:()=>ie,NONCE_ACCOUNT_LENGTH:()=>ve,NonceAccount:()=>Pe,PACKET_DATA_SIZE:()=>j,PUBLIC_KEY_LENGTH:()=>W,PublicKey:()=>L,SIGNATURE_LENGTH_IN_BYTES:()=>N,SOLANA_SCHEMA:()=>R,STAKE_CONFIG_ID:()=>ir,STAKE_INSTRUCTION_LAYOUTS:()=>cr,SYSTEM_INSTRUCTION_LAYOUTS:()=>Be,SYSVAR_CLOCK_PUBKEY:()=>he,SYSVAR_EPOCH_SCHEDULE_PUBKEY:()=>me,SYSVAR_INSTRUCTIONS_PUBKEY:()=>fe,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:()=>pe,SYSVAR_RENT_PUBKEY:()=>ge,SYSVAR_REWARDS_PUBKEY:()=>ye,SYSVAR_SLOT_HASHES_PUBKEY:()=>be,SYSVAR_SLOT_HISTORY_PUBKEY:()=>ke,SYSVAR_STAKE_HISTORY_PUBKEY:()=>we,Secp256k1Program:()=>nr,SendTransactionError:()=>De,SolanaJSONRPCError:()=>$e,SolanaJSONRPCErrorCode:()=>He,StakeAuthorizationLayout:()=>ur,StakeInstruction:()=>ar,StakeProgram:()=>dr,Struct:()=>P,SystemInstruction:()=>Re,SystemProgram:()=>Ce,Transaction:()=>ue,TransactionExpiredBlockheightExceededError:()=>F,TransactionExpiredNonceInvalidError:()=>D,TransactionExpiredTimeoutError:()=>q,TransactionInstruction:()=>ce,TransactionMessage:()=>de,TransactionStatus:()=>se,VALIDATOR_INFO_KEY:()=>gr,VERSION_PREFIX_MASK:()=>U,VOTE_PROGRAM_ID:()=>kr,ValidatorInfo:()=>br,VersionedMessage:()=>oe,VersionedTransaction:()=>le,VoteAccount:()=>Ir,VoteAuthorizationLayout:()=>fr,VoteInit:()=>lr,VoteInstruction:()=>hr,VoteProgram:()=>pr,clusterApiUrl:()=>xr,sendAndConfirmRawTransaction:()=>vr,sendAndConfirmTransaction:()=>Ie});var r=n("../../../node_modules/buffer/index.js"),i=n("../../../node_modules/@noble/curves/esm/ed25519.js"),o=n("../../../node_modules/bn.js/lib/bn.js"),s=n.n(o),a=n("../../../node_modules/bs58/index.js"),c=n.n(a),u=n("../../../node_modules/@noble/hashes/esm/sha256.js"),d=n("../../../node_modules/borsh/lib/index.js"),l=n("../../../node_modules/@solana/buffer-layout/lib/Layout.js"),h=n("../../../node_modules/bigint-buffer/dist/browser.js"),m=n("../../../node_modules/@solana/web3.js/node_modules/superstruct/lib/index.es.js"),f=n("../../../node_modules/jayson/lib/client/browser/index.js"),p=n.n(f),g=n("../../../node_modules/rpc-websockets/dist/lib/client.js"),y=n("../../../node_modules/rpc-websockets/dist/lib/client/websocket.browser.js"),b=n("../../../node_modules/@noble/hashes/esm/sha3.js"),k=n("../../../node_modules/@noble/curves/esm/secp256k1.js"),w=n("../../../node_modules/console-browserify/index.js");const I=i.UN.utils.randomPrivateKey,_=()=>{const e=i.UN.utils.randomPrivateKey(),t=A(e),n=new Uint8Array(64);return n.set(e),n.set(t,32),{publicKey:t,secretKey:n}},A=i.UN.getPublicKey;function S(e){try{return i.UN.ExtendedPoint.fromHex(e),!0}catch{return!1}}const T=(e,t)=>i.UN.sign(e,t.slice(0,32)),x=i.UN.verify,v=e=>r.Buffer.isBuffer(e)?e:e instanceof Uint8Array?r.Buffer.from(e.buffer,e.byteOffset,e.byteLength):r.Buffer.from(e);class P{constructor(e){Object.assign(this,e)}encode(){return r.Buffer.from((0,d.serialize)(R,this))}static decode(e){return(0,d.deserialize)(R,this,e)}static decodeUnchecked(e){return(0,d.deserializeUnchecked)(R,this,e)}}class E extends P{constructor(e){if(super(e),this.enum="",1!==Object.keys(e).length)throw new Error("Enum can only take single value");Object.keys(e).map((e=>{this.enum=e}))}}const R=new Map;var B;let C;const z=32,W=32;let M=1;C=Symbol.toStringTag;class L extends P{constructor(e){if(super({}),this._bn=void 0,function(e){return void 0!==e._bn}(e))this._bn=e._bn;else{if("string"==typeof e){const t=c().decode(e);if(t.length!=W)throw new Error("Invalid public key input");this._bn=new(s())(t)}else this._bn=new(s())(e);if(this._bn.byteLength()>W)throw new Error("Invalid public key input")}}static unique(){const e=new L(M);return M+=1,new L(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return c().encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(r.Buffer);if(e.length===W)return e;const t=r.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[C](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,n){const i=r.Buffer.concat([e.toBuffer(),r.Buffer.from(t),n.toBuffer()]),o=(0,u.JQ)(i);return new L(o)}static createProgramAddressSync(e,t){let n=r.Buffer.alloc(0);e.forEach((function(e){if(e.length>z)throw new TypeError("Max seed length exceeded");n=r.Buffer.concat([n,v(e)])})),n=r.Buffer.concat([n,t.toBuffer(),r.Buffer.from("ProgramDerivedAddress")]);const i=(0,u.JQ)(n);if(S(i))throw new Error("Invalid seeds, address must fall off the curve");return new L(i)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let n,i=255;for(;0!=i;){try{const o=e.concat(r.Buffer.from([i]));n=this.createProgramAddressSync(o,t)}catch(e){if(e instanceof TypeError)throw e;i--;continue}return[n,i]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){return S(new L(e).toBytes())}}B=L,L.default=new B("11111111111111111111111111111111"),R.set(L,{kind:"struct",fields:[["_bn","u256"]]});class O{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=v(e);if(64!==e.length)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=v(I()),this._publicKey=v(A(this._secretKey))}get publicKey(){return new L(this._publicKey)}get secretKey(){return r.Buffer.concat([this._secretKey,this._publicKey],64)}}const K=new L("BPFLoader1111111111111111111111111111111111"),j=1232,U=127,N=64;class F extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(F.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class q extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(q.prototype,"name",{value:"TransactionExpiredTimeoutError"});class D extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(D.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class H{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const t=new Map;this.keySegments().flat().forEach(((e,n)=>{t.set(e.toBase58(),n)}));const n=e=>{const n=t.get(e.toBase58());if(void 0===n)throw new Error("Encountered an unknown instruction account key during compilation");return n};return e.map((e=>({programIdIndex:n(e.programId),accountKeyIndexes:e.keys.map((e=>n(e.pubkey))),data:e.data})))}}const $=(e="publicKey")=>l.Ik(32,e),G=(e="signature")=>l.Ik(64,e),Z=(e="string")=>{const t=l.n_([l.Jq("length"),l.Jq("lengthPadding"),l.Ik(l.cv(l.Jq(),-8),"chars")],e),n=t.decode.bind(t),i=t.encode.bind(t),o=t;return o.decode=(e,t)=>n(e,t).chars.toString(),o.encode=(e,t,n)=>{const o={chars:r.Buffer.from(e,"utf8")};return i(o,t,n)},o.alloc=e=>l.Jq().span+l.Jq().span+r.Buffer.from(e,"utf8").length,o};function V(e,t){const n=e=>{if(e.span>=0)return e.span;if("function"==typeof e.alloc)return e.alloc(t[e.property]);if("count"in e&&"elementLayout"in e){const r=t[e.property];if(Array.isArray(r))return r.length*n(e.elementLayout)}else if("fields"in e)return V({layout:e},t[e.property]);return 0};let r=0;return e.layout.fields.forEach((e=>{r+=n(e)})),r}function J(e){let t=0,n=0;for(;;){let r=e.shift();if(t|=(127&r)<<7*n,n+=1,!(128&r))break}return t}function X(e,t){let n=t;for(;;){let t=127&n;if(n>>=7,0==n){e.push(t);break}t|=128,e.push(t)}}function Y(e,t){if(!e)throw new Error(t||"Assertion failed")}class Q{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const n=new Map,r=e=>{const t=e.toBase58();let r=n.get(t);return void 0===r&&(r={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(t,r)),r},i=r(t);i.isSigner=!0,i.isWritable=!0;for(const t of e){r(t.programId).isInvoked=!0;for(const e of t.keys){const t=r(e.pubkey);t.isSigner||=e.isSigner,t.isWritable||=e.isWritable}}return new Q(t,n)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Y(e.length<=256,"Max static account keys length exceeded");const t=e.filter((([,e])=>e.isSigner&&e.isWritable)),n=e.filter((([,e])=>e.isSigner&&!e.isWritable)),r=e.filter((([,e])=>!e.isSigner&&e.isWritable)),i=e.filter((([,e])=>!e.isSigner&&!e.isWritable)),o={numRequiredSignatures:t.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:i.length};{Y(t.length>0,"Expected at least one writable signer key");const[e]=t[0];Y(e===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}return[o,[...t.map((([e])=>new L(e))),...n.map((([e])=>new L(e))),...r.map((([e])=>new L(e))),...i.map((([e])=>new L(e)))]]}extractTableLookup(e){const[t,n]=this.drainKeysFoundInLookupTable(e.state.addresses,(e=>!e.isSigner&&!e.isInvoked&&e.isWritable)),[r,i]=this.drainKeysFoundInLookupTable(e.state.addresses,(e=>!e.isSigner&&!e.isInvoked&&!e.isWritable));if(0!==t.length||0!==r.length)return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:r},{writable:n,readonly:i}]}drainKeysFoundInLookupTable(e,t){const n=new Array,r=new Array;for(const[i,o]of this.keyMetaMap.entries())if(t(o)){const t=new L(i),o=e.findIndex((e=>e.equals(t)));o>=0&&(Y(o<256,"Max lookup table index exceeded"),n.push(o),r.push(t),this.keyMetaMap.delete(i))}return[n,r]}}const ee="Reached end of buffer unexpectedly";function te(e){if(0===e.length)throw new Error(ee);return e.shift()}function ne(e,...t){const[n]=t;if(2===t.length?n+(t[1]??0)>e.length:n>=e.length)throw new Error(ee);return e.splice(...t)}class re{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map((e=>new L(e))),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach((e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex])))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map((e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:c().decode(e.data)})))}get addressTableLookups(){return[]}getAccountKeys(){return new H(this.staticAccountKeys)}static compile(e){const t=Q.compile(e.instructions,e.payerKey),[n,r]=t.getMessageComponents(),i=new H(r).compileInstructions(e.instructions).map((e=>({programIdIndex:e.programIdIndex,accounts:e.accountKeyIndexes,data:c().encode(e.data)})));return new re({header:n,accountKeys:r,recentBlockhash:e.recentBlockhash,instructions:i})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;return e>=this.header.numRequiredSignatures?e-t<this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts:e<t-this.header.numReadonlySignedAccounts}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter(((e,t)=>!this.isProgramId(t)))}serialize(){const e=this.accountKeys.length;let t=[];X(t,e);const n=this.instructions.map((e=>{const{accounts:t,programIdIndex:n}=e,i=Array.from(c().decode(e.data));let o=[];X(o,t.length);let s=[];return X(s,i.length),{programIdIndex:n,keyIndicesCount:r.Buffer.from(o),keyIndices:t,dataLength:r.Buffer.from(s),data:i}}));let i=[];X(i,n.length);let o=r.Buffer.alloc(j);r.Buffer.from(i).copy(o);let s=i.length;n.forEach((e=>{const t=l.n_([l.u8("programIdIndex"),l.Ik(e.keyIndicesCount.length,"keyIndicesCount"),l.A9(l.u8("keyIndex"),e.keyIndices.length,"keyIndices"),l.Ik(e.dataLength.length,"dataLength"),l.A9(l.u8("userdatum"),e.data.length,"data")]).encode(e,o,s);s+=t})),o=o.slice(0,s);const a=l.n_([l.Ik(1,"numRequiredSignatures"),l.Ik(1,"numReadonlySignedAccounts"),l.Ik(1,"numReadonlyUnsignedAccounts"),l.Ik(t.length,"keyCount"),l.A9($("key"),e,"keys"),$("recentBlockhash")]),u={numRequiredSignatures:r.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:r.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:r.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:r.Buffer.from(t),keys:this.accountKeys.map((e=>v(e.toBytes()))),recentBlockhash:c().decode(this.recentBlockhash)};let d=r.Buffer.alloc(2048);const h=a.encode(u,d);return o.copy(d,h),d.slice(0,h+o.length)}static from(e){let t=[...e];const n=te(t);if(n!==(n&U))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=te(t),o=te(t),s=J(t);let a=[];for(let e=0;e<s;e++){const e=ne(t,0,W);a.push(new L(r.Buffer.from(e)))}const u=ne(t,0,W),d=J(t);let l=[];for(let e=0;e<d;e++){const e=te(t),n=ne(t,0,J(t)),i=ne(t,0,J(t)),o=c().encode(r.Buffer.from(i));l.push({programIdIndex:e,accounts:n,data:o})}const h={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:c().encode(r.Buffer.from(u)),accountKeys:a,instructions:l};return new re(h)}}class ie{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new H(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;return e>=n?e-n<this.addressTableLookups.reduce(((e,t)=>e+t.writableIndexes.length),0):e>=this.header.numRequiredSignatures?e-t<n-t-this.header.numReadonlyUnsignedAccounts:e<t-this.header.numReadonlySignedAccounts}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const n of this.addressTableLookups){const r=e.find((e=>e.key.equals(n.accountKey)));if(!r)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const e of n.writableIndexes){if(!(e<r.state.addresses.length))throw new Error(`Failed to find address for index ${e} in address lookup table ${n.accountKey.toBase58()}`);t.writable.push(r.state.addresses[e])}for(const e of n.readonlyIndexes){if(!(e<r.state.addresses.length))throw new Error(`Failed to find address for index ${e} in address lookup table ${n.accountKey.toBase58()}`);t.readonly.push(r.state.addresses[e])}}return t}static compile(e){const t=Q.compile(e.instructions,e.payerKey),n=new Array,r={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const e of i){const i=t.extractTableLookup(e);if(void 0!==i){const[e,{writable:t,readonly:o}]=i;n.push(e),r.writable.push(...t),r.readonly.push(...o)}}const[o,s]=t.getMessageComponents(),a=new H(s,r).compileInstructions(e.instructions);return new ie({header:o,staticAccountKeys:s,recentBlockhash:e.recentBlockhash,compiledInstructions:a,addressTableLookups:n})}serialize(){const e=Array();X(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),n=Array();X(n,this.compiledInstructions.length);const r=this.serializeAddressTableLookups(),i=Array();X(i,this.addressTableLookups.length);const o=l.n_([l.u8("prefix"),l.n_([l.u8("numRequiredSignatures"),l.u8("numReadonlySignedAccounts"),l.u8("numReadonlyUnsignedAccounts")],"header"),l.Ik(e.length,"staticAccountKeysLength"),l.A9($(),this.staticAccountKeys.length,"staticAccountKeys"),$("recentBlockhash"),l.Ik(n.length,"instructionsLength"),l.Ik(t.length,"serializedInstructions"),l.Ik(i.length,"addressTableLookupsLength"),l.Ik(r.length,"serializedAddressTableLookups")]),s=new Uint8Array(j),a=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map((e=>e.toBytes())),recentBlockhash:c().decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:r},s);return s.slice(0,a)}serializeInstructions(){let e=0;const t=new Uint8Array(j);for(const n of this.compiledInstructions){const r=Array();X(r,n.accountKeyIndexes.length);const i=Array();X(i,n.data.length),e+=l.n_([l.u8("programIdIndex"),l.Ik(r.length,"encodedAccountKeyIndexesLength"),l.A9(l.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),l.Ik(i.length,"encodedDataLength"),l.Ik(n.data.length,"data")]).encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(r),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:n.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(j);for(const n of this.addressTableLookups){const r=Array();X(r,n.writableIndexes.length);const i=Array();X(i,n.readonlyIndexes.length),e+=l.n_([$("accountKey"),l.Ik(r.length,"encodedWritableIndexesLength"),l.A9(l.u8(),n.writableIndexes.length,"writableIndexes"),l.Ik(i.length,"encodedReadonlyIndexesLength"),l.A9(l.u8(),n.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(r),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:n.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const n=te(t),r=n&U;Y(n!==r,"Expected versioned message but received legacy message"),Y(0===r,`Expected versioned message with version 0 but found version ${r}`);const i={numRequiredSignatures:te(t),numReadonlySignedAccounts:te(t),numReadonlyUnsignedAccounts:te(t)},o=[],s=J(t);for(let e=0;e<s;e++)o.push(new L(ne(t,0,W)));const a=c().encode(ne(t,0,W)),u=J(t),d=[];for(let e=0;e<u;e++){const e=te(t),n=ne(t,0,J(t)),r=J(t),i=new Uint8Array(ne(t,0,r));d.push({programIdIndex:e,accountKeyIndexes:n,data:i})}const l=J(t),h=[];for(let e=0;e<l;e++){const e=new L(ne(t,0,W)),n=ne(t,0,J(t)),r=ne(t,0,J(t));h.push({accountKey:e,writableIndexes:n,readonlyIndexes:r})}return new ie({header:i,staticAccountKeys:o,recentBlockhash:a,compiledInstructions:d,addressTableLookups:h})}}const oe={deserializeMessageVersion(e){const t=e[0],n=t&U;return n===t?"legacy":n},deserialize:e=>{const t=oe.deserializeMessageVersion(e);if("legacy"===t)return re.from(e);if(0===t)return ie.deserialize(e);throw new Error(`Transaction message version ${t} deserialization is not supported`)}};let se=function(e){return e[e.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",e[e.PROCESSED=1]="PROCESSED",e[e.TIMED_OUT=2]="TIMED_OUT",e[e.NONCE_INVALID=3]="NONCE_INVALID",e}({});const ae=r.Buffer.alloc(N).fill(0);class ce{constructor(e){this.keys=void 0,this.programId=void 0,this.data=r.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map((({pubkey:e,isSigner:t,isWritable:n})=>({pubkey:e.toJSON(),isSigner:t,isWritable:n}))),programId:this.programId.toJSON(),data:[...this.data]}}}class ue{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:n}=e;this.minNonceContextSlot=t,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:n}=e;this.recentBlockhash=t,this.lastValidBlockHeight=n}else{const{recentBlockhash:t,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map((e=>e.toJSON())),signers:this.signatures.map((({publicKey:e})=>e.toJSON()))}}add(...e){if(0===e.length)throw new Error("No instructions");return e.forEach((e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new ce(e))})),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,t=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");if(t.length<1&&w.warn("No instructions provided"),this.feePayer)n=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");n=this.signatures[0].publicKey}for(let e=0;e<t.length;e++)if(void 0===t[e].programId)throw new Error(`Transaction instruction index ${e} has undefined program id`);const r=[],i=[];t.forEach((e=>{e.keys.forEach((e=>{i.push({...e})}));const t=e.programId.toString();r.includes(t)||r.push(t)})),r.forEach((e=>{i.push({pubkey:new L(e),isSigner:!1,isWritable:!1})}));const o=[];i.forEach((e=>{const t=e.pubkey.toString(),n=o.findIndex((e=>e.pubkey.toString()===t));n>-1?(o[n].isWritable=o[n].isWritable||e.isWritable,o[n].isSigner=o[n].isSigner||e.isSigner):o.push(e)})),o.sort((function(e,t){return e.isSigner!==t.isSigner?e.isSigner?-1:1:e.isWritable!==t.isWritable?e.isWritable?-1:1:e.pubkey.toBase58().localeCompare(t.pubkey.toBase58(),"en",{localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"})}));const s=o.findIndex((e=>e.pubkey.equals(n)));if(s>-1){const[e]=o.splice(s,1);e.isSigner=!0,e.isWritable=!0,o.unshift(e)}else o.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const e of this.signatures){const t=o.findIndex((t=>t.pubkey.equals(e.publicKey)));if(!(t>-1))throw new Error(`unknown signer: ${e.publicKey.toString()}`);o[t].isSigner||(o[t].isSigner=!0,w.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let a=0,u=0,d=0;const l=[],h=[];o.forEach((({pubkey:e,isSigner:t,isWritable:n})=>{t?(l.push(e.toString()),a+=1,n||(u+=1)):(h.push(e.toString()),n||(d+=1))}));const m=l.concat(h),f=t.map((e=>{const{data:t,programId:n}=e;return{programIdIndex:m.indexOf(n.toString()),accounts:e.keys.map((e=>m.indexOf(e.pubkey.toString()))),data:c().encode(t)}}));return f.forEach((e=>{Y(e.programIdIndex>=0),e.accounts.forEach((e=>Y(e>=0)))})),new re({header:{numRequiredSignatures:a,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:d},accountKeys:m,recentBlockhash:e,instructions:f})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every(((e,n)=>t[n].equals(e.publicKey)))||(this.signatures=t.map((e=>({signature:null,publicKey:e})))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(0===e.length)throw new Error("No signers");const t=new Set;this.signatures=e.filter((e=>{const n=e.toString();return!t.has(n)&&(t.add(n),!0)})).map((e=>({signature:null,publicKey:e})))}sign(...e){if(0===e.length)throw new Error("No signers");const t=new Set,n=[];for(const r of e){const e=r.publicKey.toString();t.has(e)||(t.add(e),n.push(r))}this.signatures=n.map((e=>({signature:null,publicKey:e.publicKey})));const r=this._compile();this._partialSign(r,...n)}partialSign(...e){if(0===e.length)throw new Error("No signers");const t=new Set,n=[];for(const r of e){const e=r.publicKey.toString();t.has(e)||(t.add(e),n.push(r))}const r=this._compile();this._partialSign(r,...n)}_partialSign(e,...t){const n=e.serialize();t.forEach((e=>{const t=T(n,e.secretKey);this._addSignature(e.publicKey,v(t))}))}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){Y(64===t.length);const n=this.signatures.findIndex((t=>e.equals(t.publicKey)));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=r.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const n={};for(const{signature:r,publicKey:i}of this.signatures)null===r?t&&(n.missing||=[]).push(i):x(r,e,i.toBytes())||(n.invalid||=[]).push(i);return n.invalid||n.missing?n:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),r=this.serializeMessage();if(n){const e=this._getMessageSignednessErrors(r,t);if(e){let t="Signature verification failed.";throw e.invalid&&(t+=`\nInvalid signature for public key${1===e.invalid.length?"":"(s)"} [\`${e.invalid.map((e=>e.toBase58())).join("`, `")}\`].`),e.missing&&(t+=`\nMissing signature for public key${1===e.missing.length?"":"(s)"} [\`${e.missing.map((e=>e.toBase58())).join("`, `")}\`].`),new Error(t)}}return this._serialize(r)}_serialize(e){const{signatures:t}=this,n=[];X(n,t.length);const i=n.length+64*t.length+e.length,o=r.Buffer.alloc(i);return Y(t.length<256),r.Buffer.from(n).copy(o,0),t.forEach((({signature:e},t)=>{null!==e&&(Y(64===e.length,"signature has invalid length"),r.Buffer.from(e).copy(o,n.length+64*t))})),e.copy(o,n.length+64*t.length),Y(o.length<=j,`Transaction too large: ${o.length} > ${j}`),o}get keys(){return Y(1===this.instructions.length),this.instructions[0].keys.map((e=>e.pubkey))}get programId(){return Y(1===this.instructions.length),this.instructions[0].programId}get data(){return Y(1===this.instructions.length),this.instructions[0].data}static from(e){let t=[...e];const n=J(t);let i=[];for(let e=0;e<n;e++){const e=ne(t,0,N);i.push(c().encode(r.Buffer.from(e)))}return ue.populate(re.from(t),i)}static populate(e,t=[]){const n=new ue;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),t.forEach(((t,r)=>{const i={signature:t==c().encode(ae)?null:c().decode(t),publicKey:e.accountKeys[r]};n.signatures.push(i)})),e.instructions.forEach((t=>{const r=t.accounts.map((t=>{const r=e.accountKeys[t];return{pubkey:r,isSigner:n.signatures.some((e=>e.publicKey.toString()===r.toString()))||e.isAccountSigner(t),isWritable:e.isAccountWritable(t)}}));n.instructions.push(new ce({keys:r,programId:e.accountKeys[t.programIdIndex],data:c().decode(t.data)}))})),n._message=e,n._json=n.toJSON(),n}}class de{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:n,compiledInstructions:r,recentBlockhash:i}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:a}=n,c=o-s;Y(c>0,"Message header is invalid");const u=e.staticAccountKeys.length-o-a;Y(u>=0,"Message header is invalid");const d=e.getAccountKeys(t),l=d.get(0);if(void 0===l)throw new Error("Failed to decompile message because no account keys were found");const h=[];for(const e of r){const t=[];for(const r of e.accountKeyIndexes){const e=d.get(r);if(void 0===e)throw new Error(`Failed to find key for account key index ${r}`);let i;i=r<o?r<c:r<d.staticAccountKeys.length?r-o<u:r-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,t.push({pubkey:e,isSigner:r<n.numRequiredSignatures,isWritable:i})}const r=d.get(e.programIdIndex);if(void 0===r)throw new Error(`Failed to find program id for program id index ${e.programIdIndex}`);h.push(new ce({programId:r,data:v(e.data),keys:t}))}return new de({payerKey:l,instructions:h,recentBlockhash:i})}compileToLegacyMessage(){return re.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return ie.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class le{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,void 0!==t)Y(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const t=[];for(let n=0;n<e.header.numRequiredSignatures;n++)t.push(new Uint8Array(N));this.signatures=t}this.message=e}serialize(){const e=this.message.serialize(),t=Array();X(t,this.signatures.length);const n=l.n_([l.Ik(t.length,"encodedSignaturesLength"),l.A9(G(),this.signatures.length,"signatures"),l.Ik(e.length,"serializedMessage")]),r=new Uint8Array(2048),i=n.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},r);return r.slice(0,i)}static deserialize(e){let t=[...e];const n=[],r=J(t);for(let e=0;e<r;e++)n.push(new Uint8Array(ne(t,0,N)));const i=oe.deserialize(new Uint8Array(t));return new le(i,n)}sign(e){const t=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const r of e){const e=n.findIndex((e=>e.equals(r.publicKey)));Y(e>=0,`Cannot sign with non signer key ${r.publicKey.toBase58()}`),this.signatures[e]=T(t,r.secretKey)}}addSignature(e,t){Y(64===t.byteLength,"Signature must be 64 bytes long");const n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex((t=>t.equals(e)));Y(n>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[n]=t}}const he=new L("SysvarC1ock11111111111111111111111111111111"),me=new L("SysvarEpochSchedu1e111111111111111111111111"),fe=new L("Sysvar1nstructions1111111111111111111111111"),pe=new L("SysvarRecentB1ockHashes11111111111111111111"),ge=new L("SysvarRent111111111111111111111111111111111"),ye=new L("SysvarRewards111111111111111111111111111111"),be=new L("SysvarS1otHashes111111111111111111111111111"),ke=new L("SysvarS1otHistory11111111111111111111111111"),we=new L("SysvarStakeHistory1111111111111111111111111");async function Ie(e,t,n,r){const i=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},o=await e.sendTransaction(t,n,i);let s;if(null!=t.recentBlockhash&&null!=t.lastValidBlockHeight)s=(await e.confirmTransaction({abortSignal:r?.abortSignal,signature:o,blockhash:t.recentBlockhash,lastValidBlockHeight:t.lastValidBlockHeight},r&&r.commitment)).value;else if(null!=t.minNonceContextSlot&&null!=t.nonceInfo){const{nonceInstruction:n}=t.nonceInfo,i=n.keys[0].pubkey;s=(await e.confirmTransaction({abortSignal:r?.abortSignal,minContextSlot:t.minNonceContextSlot,nonceAccountPubkey:i,nonceValue:t.nonceInfo.nonce,signature:o},r&&r.commitment)).value}else null!=r?.abortSignal&&w.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),s=(await e.confirmTransaction(o,r&&r.commitment)).value;if(s.err)throw new Error(`Transaction ${o} failed (${JSON.stringify(s)})`);return o}function _e(e){return new Promise((t=>setTimeout(t,e)))}function Ae(e,t){const n=e.layout.span>=0?e.layout.span:V(e,t),i=r.Buffer.alloc(n),o=Object.assign({instruction:e.index},t);return e.layout.encode(o,i),i}function Se(e,t){let n;try{n=e.layout.decode(t)}catch(e){throw new Error("invalid instruction; "+e)}if(n.instruction!==e.index)throw new Error(`invalid instruction; instruction index mismatch ${n.instruction} != ${e.index}`);return n}const Te=l._O("lamportsPerSignature"),xe=l.n_([l.Jq("version"),l.Jq("state"),$("authorizedPubkey"),$("nonce"),l.n_([Te],"feeCalculator")]),ve=xe.span;class Pe{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=xe.decode(v(e),0);return new Pe({authorizedPubkey:new L(t.authorizedPubkey),nonce:new L(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const Ee=(8,e=>{const t=(0,l.Ik)(8,e),{encode:n,decode:i}=(e=>({decode:e.decode.bind(e),encode:e.encode.bind(e)}))(t),o=t;return o.decode=(e,t)=>{const n=i(e,t);return(0,h.oU)(r.Buffer.from(n))},o.encode=(e,t,r)=>{const i=(0,h.k$)(e,8);return n(i,t,r)},o});class Re{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=l.Jq("instruction").decode(e.data);let n;for(const[e,r]of Object.entries(Be))if(r.index==t){n=e;break}if(!n)throw new Error("Instruction type incorrect; not a SystemInstruction");return n}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:n,programId:r}=Se(Be.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:n,programId:new L(r)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=Se(Be.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:n,programId:r}=Se(Be.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:n,programId:new L(r)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=Se(Be.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:n,space:r,programId:i}=Se(Be.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new L(t),seed:n,space:r,programId:new L(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=Se(Be.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new L(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:n,programId:r}=Se(Be.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new L(t),seed:n,programId:new L(r)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:n,lamports:r,space:i,programId:o}=Se(Be.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new L(t),seed:n,lamports:r,space:i,programId:new L(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=Se(Be.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new L(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Se(Be.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=Se(Be.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=Se(Be.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new L(t)}}static checkProgramId(e){if(!e.equals(Ce.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Be=Object.freeze({Create:{index:0,layout:l.n_([l.Jq("instruction"),l.gM("lamports"),l.gM("space"),$("programId")])},Assign:{index:1,layout:l.n_([l.Jq("instruction"),$("programId")])},Transfer:{index:2,layout:l.n_([l.Jq("instruction"),Ee("lamports")])},CreateWithSeed:{index:3,layout:l.n_([l.Jq("instruction"),$("base"),Z("seed"),l.gM("lamports"),l.gM("space"),$("programId")])},AdvanceNonceAccount:{index:4,layout:l.n_([l.Jq("instruction")])},WithdrawNonceAccount:{index:5,layout:l.n_([l.Jq("instruction"),l.gM("lamports")])},InitializeNonceAccount:{index:6,layout:l.n_([l.Jq("instruction"),$("authorized")])},AuthorizeNonceAccount:{index:7,layout:l.n_([l.Jq("instruction"),$("authorized")])},Allocate:{index:8,layout:l.n_([l.Jq("instruction"),l.gM("space")])},AllocateWithSeed:{index:9,layout:l.n_([l.Jq("instruction"),$("base"),Z("seed"),l.gM("space"),$("programId")])},AssignWithSeed:{index:10,layout:l.n_([l.Jq("instruction"),$("base"),Z("seed"),$("programId")])},TransferWithSeed:{index:11,layout:l.n_([l.Jq("instruction"),Ee("lamports"),Z("seed"),$("programId")])},UpgradeNonceAccount:{index:12,layout:l.n_([l.Jq("instruction")])}});class Ce{constructor(){}static createAccount(e){const t=Ae(Be.Create,{lamports:e.lamports,space:e.space,programId:v(e.programId.toBuffer())});return new ce({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:t})}static transfer(e){let t,n;return"basePubkey"in e?(t=Ae(Be.TransferWithSeed,{lamports:BigInt(e.lamports),seed:e.seed,programId:v(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]):(t=Ae(Be.Transfer,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]),new ce({keys:n,programId:this.programId,data:t})}static assign(e){let t,n;return"basePubkey"in e?(t=Ae(Be.AssignWithSeed,{base:v(e.basePubkey.toBuffer()),seed:e.seed,programId:v(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]):(t=Ae(Be.Assign,{programId:v(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]),new ce({keys:n,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=Ae(Be.CreateWithSeed,{base:v(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:v(e.programId.toBuffer())});let n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&n.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new ce({keys:n,programId:this.programId,data:t})}static createNonceAccount(e){const t=new ue;"basePubkey"in e&&"seed"in e?t.add(Ce.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:ve,programId:this.programId})):t.add(Ce.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:ve,programId:this.programId}));const n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(n)),t}static nonceInitialize(e){const t=Ae(Be.InitializeNonceAccount,{authorized:v(e.authorizedPubkey.toBuffer())}),n={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:pe,isSigner:!1,isWritable:!1},{pubkey:ge,isSigner:!1,isWritable:!1}],programId:this.programId,data:t};return new ce(n)}static nonceAdvance(e){const t=Ae(Be.AdvanceNonceAccount),n={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:pe,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t};return new ce(n)}static nonceWithdraw(e){const t=Ae(Be.WithdrawNonceAccount,{lamports:e.lamports});return new ce({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:pe,isSigner:!1,isWritable:!1},{pubkey:ge,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static nonceAuthorize(e){const t=Ae(Be.AuthorizeNonceAccount,{authorized:v(e.newAuthorizedPubkey.toBuffer())});return new ce({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static allocate(e){let t,n;return"basePubkey"in e?(t=Ae(Be.AllocateWithSeed,{base:v(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:v(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]):(t=Ae(Be.Allocate,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]),new ce({keys:n,programId:this.programId,data:t})}}Ce.programId=new L("11111111111111111111111111111111");const ze=j-300;class We{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/We.chunkSize)+1+1)}static async load(e,t,n,i,o){{const r=await e.getMinimumBalanceForRentExemption(o.length),s=await e.getAccountInfo(n.publicKey,"confirmed");let a=null;if(null!==s){if(s.executable)return w.error("Program load failed, account is already executable"),!1;s.data.length!==o.length&&(a=a||new ue,a.add(Ce.allocate({accountPubkey:n.publicKey,space:o.length}))),s.owner.equals(i)||(a=a||new ue,a.add(Ce.assign({accountPubkey:n.publicKey,programId:i}))),s.lamports<r&&(a=a||new ue,a.add(Ce.transfer({fromPubkey:t.publicKey,toPubkey:n.publicKey,lamports:r-s.lamports})))}else a=(new ue).add(Ce.createAccount({fromPubkey:t.publicKey,newAccountPubkey:n.publicKey,lamports:r>0?r:1,space:o.length,programId:i}));null!==a&&await Ie(e,a,[t,n],{commitment:"confirmed"})}const s=l.n_([l.Jq("instruction"),l.Jq("offset"),l.Jq("bytesLength"),l.Jq("bytesLengthPadding"),l.A9(l.u8("byte"),l.cv(l.Jq(),-8),"bytes")]),a=We.chunkSize;let c=0,u=o,d=[];for(;u.length>0;){const o=u.slice(0,a),l=r.Buffer.alloc(a+16);s.encode({instruction:0,offset:c,bytes:o,bytesLength:0,bytesLengthPadding:0},l);const h=(new ue).add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:l});if(d.push(Ie(e,h,[t,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")){const e=4;await _e(1e3/e)}c+=a,u=u.slice(a)}await Promise.all(d);{const o=l.n_([l.Jq("instruction")]),s=r.Buffer.alloc(o.span);o.encode({instruction:1},s);const a=(new ue).add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:ge,isSigner:!1,isWritable:!1}],programId:i,data:s}),c="processed",u=await e.sendTransaction(a,[t,n],{preflightCommitment:c}),{context:d,value:h}=await e.confirmTransaction({signature:u,lastValidBlockHeight:a.lastValidBlockHeight,blockhash:a.recentBlockhash},c);if(h.err)throw new Error(`Transaction ${u} failed (${JSON.stringify(h)})`);for(;;){try{if(await e.getSlot({commitment:c})>d.slot)break}catch{}await new Promise((e=>setTimeout(e,Math.round(200))))}}return!0}}We.chunkSize=ze;const Me=new L("BPFLoader2111111111111111111111111111111111");class Le{static getMinNumSignatures(e){return We.getMinNumSignatures(e)}static load(e,t,n,r,i){return We.load(e,t,n,i,r)}}function Oe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ke=Object.prototype.toString,je=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};function Ue(e,t){var n,r,i,o,s,a,c;if(!0===e)return"true";if(!1===e)return"false";switch(typeof e){case"object":if(null===e)return null;if(e.toJSON&&"function"==typeof e.toJSON)return Ue(e.toJSON(),t);if("[object Array]"===(c=Ke.call(e))){for(i="[",r=e.length-1,n=0;n<r;n++)i+=Ue(e[n],!0)+",";return r>-1&&(i+=Ue(e[n],!0)),i+"]"}if("[object Object]"===c){for(r=(o=je(e).sort()).length,i="",n=0;n<r;)void 0!==(a=Ue(e[s=o[n]],!1))&&(i&&(i+=","),i+=JSON.stringify(s)+":"+a),n++;return"{"+i+"}"}return JSON.stringify(e);case"function":case"undefined":return t?null:void 0;case"string":return JSON.stringify(e);default:return isFinite(e)?e:null}}var Ne=Oe((function(e){var t=Ue(e,!1);if(void 0!==t)return""+t}));function Fe(e){let t=0;for(;e>1;)e/=2,t++;return t}class qe{constructor(e,t,n,r,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=n,this.firstNormalEpoch=r,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const n=Fe(0===(t=e+32+1)?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,1+(t|=t>>32)))-Fe(32)-1;return[n,e-(this.getSlotsInEpoch(n)-32)]}{const t=e-this.firstNormalSlot,n=Math.floor(t/this.slotsPerEpoch);return[this.firstNormalEpoch+n,t%this.slotsPerEpoch]}var t}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?32*(Math.pow(2,e)-1):(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+Fe(32)):this.slotsPerEpoch}}class De extends Error{constructor(e,t){super(e),this.logs=void 0,this.logs=t}}const He={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class $e extends Error{constructor({code:e,message:t,data:n},r){super(null!=r?`${r}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=n,this.name="SolanaJSONRPCError"}}var Ge=globalThis.fetch;class Ze extends g.Z{constructor(e,t,n){super((e=>{const n=(0,y.Z)(e,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return this.underlyingSocket="socket"in n?n.socket:n,n}),e,t,n),this.underlyingSocket=void 0}call(...e){const t=this.underlyingSocket?.readyState;return 1===t?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){const t=this.underlyingSocket?.readyState;return 1===t?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}class Ve{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=function(e,t){let n;try{n=e.layout.decode(t)}catch(e){throw new Error("invalid instruction; "+e)}if(n.typeIndex!==e.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${e.index}`);return n}(Je,e),n=e.length-56;Y(n>=0,"lookup table is invalid"),Y(n%32==0,"lookup table is invalid");const r=n/32,{addresses:i}=l.n_([l.A9($(),r,"addresses")]).decode(e.slice(56));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:0!==t.authority.length?new L(t.authority[0]):void 0,addresses:i.map((e=>new L(e)))}}}const Je={index:1,layout:l.n_([l.Jq("typeIndex"),Ee("deactivationSlot"),l._O("lastExtendedSlot"),l.u8("lastExtendedStartIndex"),l.u8(),l.A9($(),l.cv(l.u8(),-1),"authority")])},Xe=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i,Ye=(0,m.oQ)((0,m.eE)(L),(0,m.Z_)(),(e=>new L(e))),Qe=(0,m.bc)([(0,m.Z_)(),(0,m.i0)("base64")]),et=(0,m.oQ)((0,m.eE)(r.Buffer),Qe,(e=>r.Buffer.from(e[0],"base64"))),tt=3e4;function nt(e){let t,n;if("string"==typeof e)t=e;else if(e){const{commitment:r,...i}=e;t=r,n=i}return{commitment:t,config:n}}function rt(e){return(0,m.G0)([(0,m.dt)({jsonrpc:(0,m.i0)("2.0"),id:(0,m.Z_)(),result:e}),(0,m.dt)({jsonrpc:(0,m.i0)("2.0"),id:(0,m.Z_)(),error:(0,m.dt)({code:(0,m._4)(),message:(0,m.Z_)(),data:(0,m.jt)((0,m.Yj)())})})])}const it=rt((0,m._4)());function ot(e){return(0,m.oQ)(rt(e),it,(t=>"error"in t?t:{...t,result:(0,m.Ue)(t.result,e)}))}function st(e){return ot((0,m.dt)({context:(0,m.dt)({slot:(0,m.Rx)()}),value:e}))}function at(e){return(0,m.dt)({context:(0,m.dt)({slot:(0,m.Rx)()}),value:e})}function ct(e,t){return 0===e?new ie({header:t.header,staticAccountKeys:t.accountKeys.map((e=>new L(e))),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map((e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:c().decode(e.data)}))),addressTableLookups:t.addressTableLookups}):new re(t)}const ut=(0,m.dt)({foundation:(0,m.Rx)(),foundationTerm:(0,m.Rx)(),initial:(0,m.Rx)(),taper:(0,m.Rx)(),terminal:(0,m.Rx)()}),dt=ot((0,m.IX)((0,m.AG)((0,m.dt)({epoch:(0,m.Rx)(),effectiveSlot:(0,m.Rx)(),amount:(0,m.Rx)(),postBalance:(0,m.Rx)(),commission:(0,m.jt)((0,m.AG)((0,m.Rx)()))})))),lt=(0,m.IX)((0,m.dt)({slot:(0,m.Rx)(),prioritizationFee:(0,m.Rx)()})),ht=(0,m.dt)({total:(0,m.Rx)(),validator:(0,m.Rx)(),foundation:(0,m.Rx)(),epoch:(0,m.Rx)()}),mt=(0,m.dt)({epoch:(0,m.Rx)(),slotIndex:(0,m.Rx)(),slotsInEpoch:(0,m.Rx)(),absoluteSlot:(0,m.Rx)(),blockHeight:(0,m.jt)((0,m.Rx)()),transactionCount:(0,m.jt)((0,m.Rx)())}),ft=(0,m.dt)({slotsPerEpoch:(0,m.Rx)(),leaderScheduleSlotOffset:(0,m.Rx)(),warmup:(0,m.O7)(),firstNormalEpoch:(0,m.Rx)(),firstNormalSlot:(0,m.Rx)()}),pt=(0,m.IM)((0,m.Z_)(),(0,m.IX)((0,m.Rx)())),gt=(0,m.AG)((0,m.G0)([(0,m.dt)({}),(0,m.Z_)()])),yt=(0,m.dt)({err:gt}),bt=(0,m.i0)("receivedSignature"),kt=(0,m.dt)({"solana-core":(0,m.Z_)(),"feature-set":(0,m.jt)((0,m.Rx)())}),wt=st((0,m.dt)({err:(0,m.AG)((0,m.G0)([(0,m.dt)({}),(0,m.Z_)()])),logs:(0,m.AG)((0,m.IX)((0,m.Z_)())),accounts:(0,m.jt)((0,m.AG)((0,m.IX)((0,m.AG)((0,m.dt)({executable:(0,m.O7)(),owner:(0,m.Z_)(),lamports:(0,m.Rx)(),data:(0,m.IX)((0,m.Z_)()),rentEpoch:(0,m.jt)((0,m.Rx)())}))))),unitsConsumed:(0,m.jt)((0,m.Rx)()),returnData:(0,m.jt)((0,m.AG)((0,m.dt)({programId:(0,m.Z_)(),data:(0,m.bc)([(0,m.Z_)(),(0,m.i0)("base64")])})))})),It=st((0,m.dt)({byIdentity:(0,m.IM)((0,m.Z_)(),(0,m.IX)((0,m.Rx)())),range:(0,m.dt)({firstSlot:(0,m.Rx)(),lastSlot:(0,m.Rx)()})})),_t=ot(ut),At=ot(ht),St=ot(lt),Tt=ot(mt),xt=ot(ft),vt=ot(pt),Pt=ot((0,m.Rx)()),Et=st((0,m.dt)({total:(0,m.Rx)(),circulating:(0,m.Rx)(),nonCirculating:(0,m.Rx)(),nonCirculatingAccounts:(0,m.IX)(Ye)})),Rt=(0,m.dt)({amount:(0,m.Z_)(),uiAmount:(0,m.AG)((0,m.Rx)()),decimals:(0,m.Rx)(),uiAmountString:(0,m.jt)((0,m.Z_)())}),Bt=st((0,m.IX)((0,m.dt)({address:Ye,amount:(0,m.Z_)(),uiAmount:(0,m.AG)((0,m.Rx)()),decimals:(0,m.Rx)(),uiAmountString:(0,m.jt)((0,m.Z_)())}))),Ct=st((0,m.IX)((0,m.dt)({pubkey:Ye,account:(0,m.dt)({executable:(0,m.O7)(),owner:Ye,lamports:(0,m.Rx)(),data:et,rentEpoch:(0,m.Rx)()})}))),zt=(0,m.dt)({program:(0,m.Z_)(),parsed:(0,m._4)(),space:(0,m.Rx)()}),Wt=st((0,m.IX)((0,m.dt)({pubkey:Ye,account:(0,m.dt)({executable:(0,m.O7)(),owner:Ye,lamports:(0,m.Rx)(),data:zt,rentEpoch:(0,m.Rx)()})}))),Mt=st((0,m.IX)((0,m.dt)({lamports:(0,m.Rx)(),address:Ye}))),Lt=(0,m.dt)({executable:(0,m.O7)(),owner:Ye,lamports:(0,m.Rx)(),data:et,rentEpoch:(0,m.Rx)()}),Ot=(0,m.dt)({pubkey:Ye,account:Lt}),Kt=(0,m.oQ)((0,m.G0)([(0,m.eE)(r.Buffer),zt]),(0,m.G0)([Qe,zt]),(e=>Array.isArray(e)?(0,m.Ue)(e,et):e)),jt=(0,m.dt)({executable:(0,m.O7)(),owner:Ye,lamports:(0,m.Rx)(),data:Kt,rentEpoch:(0,m.Rx)()}),Ut=(0,m.dt)({pubkey:Ye,account:jt}),Nt=(0,m.dt)({state:(0,m.G0)([(0,m.i0)("active"),(0,m.i0)("inactive"),(0,m.i0)("activating"),(0,m.i0)("deactivating")]),active:(0,m.Rx)(),inactive:(0,m.Rx)()}),Ft=ot((0,m.IX)((0,m.dt)({signature:(0,m.Z_)(),slot:(0,m.Rx)(),err:gt,memo:(0,m.AG)((0,m.Z_)()),blockTime:(0,m.jt)((0,m.AG)((0,m.Rx)()))}))),qt=ot((0,m.IX)((0,m.dt)({signature:(0,m.Z_)(),slot:(0,m.Rx)(),err:gt,memo:(0,m.AG)((0,m.Z_)()),blockTime:(0,m.jt)((0,m.AG)((0,m.Rx)()))}))),Dt=(0,m.dt)({subscription:(0,m.Rx)(),result:at(Lt)}),Ht=(0,m.dt)({pubkey:Ye,account:Lt}),$t=(0,m.dt)({subscription:(0,m.Rx)(),result:at(Ht)}),Gt=(0,m.dt)({parent:(0,m.Rx)(),slot:(0,m.Rx)(),root:(0,m.Rx)()}),Zt=(0,m.dt)({subscription:(0,m.Rx)(),result:Gt}),Vt=(0,m.G0)([(0,m.dt)({type:(0,m.G0)([(0,m.i0)("firstShredReceived"),(0,m.i0)("completed"),(0,m.i0)("optimisticConfirmation"),(0,m.i0)("root")]),slot:(0,m.Rx)(),timestamp:(0,m.Rx)()}),(0,m.dt)({type:(0,m.i0)("createdBank"),parent:(0,m.Rx)(),slot:(0,m.Rx)(),timestamp:(0,m.Rx)()}),(0,m.dt)({type:(0,m.i0)("frozen"),slot:(0,m.Rx)(),timestamp:(0,m.Rx)(),stats:(0,m.dt)({numTransactionEntries:(0,m.Rx)(),numSuccessfulTransactions:(0,m.Rx)(),numFailedTransactions:(0,m.Rx)(),maxTransactionsPerEntry:(0,m.Rx)()})}),(0,m.dt)({type:(0,m.i0)("dead"),slot:(0,m.Rx)(),timestamp:(0,m.Rx)(),err:(0,m.Z_)()})]),Jt=(0,m.dt)({subscription:(0,m.Rx)(),result:Vt}),Xt=(0,m.dt)({subscription:(0,m.Rx)(),result:at((0,m.G0)([yt,bt]))}),Yt=(0,m.dt)({subscription:(0,m.Rx)(),result:(0,m.Rx)()}),Qt=(0,m.dt)({pubkey:(0,m.Z_)(),gossip:(0,m.AG)((0,m.Z_)()),tpu:(0,m.AG)((0,m.Z_)()),rpc:(0,m.AG)((0,m.Z_)()),version:(0,m.AG)((0,m.Z_)())}),en=(0,m.dt)({votePubkey:(0,m.Z_)(),nodePubkey:(0,m.Z_)(),activatedStake:(0,m.Rx)(),epochVoteAccount:(0,m.O7)(),epochCredits:(0,m.IX)((0,m.bc)([(0,m.Rx)(),(0,m.Rx)(),(0,m.Rx)()])),commission:(0,m.Rx)(),lastVote:(0,m.Rx)(),rootSlot:(0,m.AG)((0,m.Rx)())}),tn=ot((0,m.dt)({current:(0,m.IX)(en),delinquent:(0,m.IX)(en)})),nn=(0,m.G0)([(0,m.i0)("processed"),(0,m.i0)("confirmed"),(0,m.i0)("finalized")]),rn=(0,m.dt)({slot:(0,m.Rx)(),confirmations:(0,m.AG)((0,m.Rx)()),err:gt,confirmationStatus:(0,m.jt)(nn)}),on=st((0,m.IX)((0,m.AG)(rn))),sn=ot((0,m.Rx)()),an=(0,m.dt)({accountKey:Ye,writableIndexes:(0,m.IX)((0,m.Rx)()),readonlyIndexes:(0,m.IX)((0,m.Rx)())}),cn=(0,m.dt)({signatures:(0,m.IX)((0,m.Z_)()),message:(0,m.dt)({accountKeys:(0,m.IX)((0,m.Z_)()),header:(0,m.dt)({numRequiredSignatures:(0,m.Rx)(),numReadonlySignedAccounts:(0,m.Rx)(),numReadonlyUnsignedAccounts:(0,m.Rx)()}),instructions:(0,m.IX)((0,m.dt)({accounts:(0,m.IX)((0,m.Rx)()),data:(0,m.Z_)(),programIdIndex:(0,m.Rx)()})),recentBlockhash:(0,m.Z_)(),addressTableLookups:(0,m.jt)((0,m.IX)(an))})}),un=(0,m.dt)({pubkey:Ye,signer:(0,m.O7)(),writable:(0,m.O7)(),source:(0,m.jt)((0,m.G0)([(0,m.i0)("transaction"),(0,m.i0)("lookupTable")]))}),dn=(0,m.dt)({accountKeys:(0,m.IX)(un),signatures:(0,m.IX)((0,m.Z_)())}),ln=(0,m.dt)({parsed:(0,m._4)(),program:(0,m.Z_)(),programId:Ye}),hn=(0,m.dt)({accounts:(0,m.IX)(Ye),data:(0,m.Z_)(),programId:Ye}),mn=(0,m.G0)([hn,ln]),fn=(0,m.G0)([(0,m.dt)({parsed:(0,m._4)(),program:(0,m.Z_)(),programId:(0,m.Z_)()}),(0,m.dt)({accounts:(0,m.IX)((0,m.Z_)()),data:(0,m.Z_)(),programId:(0,m.Z_)()})]),pn=(0,m.oQ)(mn,fn,(e=>"accounts"in e?(0,m.Ue)(e,hn):(0,m.Ue)(e,ln))),gn=(0,m.dt)({signatures:(0,m.IX)((0,m.Z_)()),message:(0,m.dt)({accountKeys:(0,m.IX)(un),instructions:(0,m.IX)(pn),recentBlockhash:(0,m.Z_)(),addressTableLookups:(0,m.jt)((0,m.AG)((0,m.IX)(an)))})}),yn=(0,m.dt)({accountIndex:(0,m.Rx)(),mint:(0,m.Z_)(),owner:(0,m.jt)((0,m.Z_)()),uiTokenAmount:Rt}),bn=(0,m.dt)({writable:(0,m.IX)(Ye),readonly:(0,m.IX)(Ye)}),kn=(0,m.dt)({err:gt,fee:(0,m.Rx)(),innerInstructions:(0,m.jt)((0,m.AG)((0,m.IX)((0,m.dt)({index:(0,m.Rx)(),instructions:(0,m.IX)((0,m.dt)({accounts:(0,m.IX)((0,m.Rx)()),data:(0,m.Z_)(),programIdIndex:(0,m.Rx)()}))})))),preBalances:(0,m.IX)((0,m.Rx)()),postBalances:(0,m.IX)((0,m.Rx)()),logMessages:(0,m.jt)((0,m.AG)((0,m.IX)((0,m.Z_)()))),preTokenBalances:(0,m.jt)((0,m.AG)((0,m.IX)(yn))),postTokenBalances:(0,m.jt)((0,m.AG)((0,m.IX)(yn))),loadedAddresses:(0,m.jt)(bn),computeUnitsConsumed:(0,m.jt)((0,m.Rx)())}),wn=(0,m.dt)({err:gt,fee:(0,m.Rx)(),innerInstructions:(0,m.jt)((0,m.AG)((0,m.IX)((0,m.dt)({index:(0,m.Rx)(),instructions:(0,m.IX)(pn)})))),preBalances:(0,m.IX)((0,m.Rx)()),postBalances:(0,m.IX)((0,m.Rx)()),logMessages:(0,m.jt)((0,m.AG)((0,m.IX)((0,m.Z_)()))),preTokenBalances:(0,m.jt)((0,m.AG)((0,m.IX)(yn))),postTokenBalances:(0,m.jt)((0,m.AG)((0,m.IX)(yn))),loadedAddresses:(0,m.jt)(bn),computeUnitsConsumed:(0,m.jt)((0,m.Rx)())}),In=(0,m.G0)([(0,m.i0)(0),(0,m.i0)("legacy")]),_n=(0,m.dt)({pubkey:(0,m.Z_)(),lamports:(0,m.Rx)(),postBalance:(0,m.AG)((0,m.Rx)()),rewardType:(0,m.AG)((0,m.Z_)()),commission:(0,m.jt)((0,m.AG)((0,m.Rx)()))}),An=ot((0,m.AG)((0,m.dt)({blockhash:(0,m.Z_)(),previousBlockhash:(0,m.Z_)(),parentSlot:(0,m.Rx)(),transactions:(0,m.IX)((0,m.dt)({transaction:cn,meta:(0,m.AG)(kn),version:(0,m.jt)(In)})),rewards:(0,m.jt)((0,m.IX)(_n)),blockTime:(0,m.AG)((0,m.Rx)()),blockHeight:(0,m.AG)((0,m.Rx)())}))),Sn=ot((0,m.AG)((0,m.dt)({blockhash:(0,m.Z_)(),previousBlockhash:(0,m.Z_)(),parentSlot:(0,m.Rx)(),rewards:(0,m.jt)((0,m.IX)(_n)),blockTime:(0,m.AG)((0,m.Rx)()),blockHeight:(0,m.AG)((0,m.Rx)())}))),Tn=ot((0,m.AG)((0,m.dt)({blockhash:(0,m.Z_)(),previousBlockhash:(0,m.Z_)(),parentSlot:(0,m.Rx)(),transactions:(0,m.IX)((0,m.dt)({transaction:dn,meta:(0,m.AG)(kn),version:(0,m.jt)(In)})),rewards:(0,m.jt)((0,m.IX)(_n)),blockTime:(0,m.AG)((0,m.Rx)()),blockHeight:(0,m.AG)((0,m.Rx)())}))),xn=ot((0,m.AG)((0,m.dt)({blockhash:(0,m.Z_)(),previousBlockhash:(0,m.Z_)(),parentSlot:(0,m.Rx)(),transactions:(0,m.IX)((0,m.dt)({transaction:gn,meta:(0,m.AG)(wn),version:(0,m.jt)(In)})),rewards:(0,m.jt)((0,m.IX)(_n)),blockTime:(0,m.AG)((0,m.Rx)()),blockHeight:(0,m.AG)((0,m.Rx)())}))),vn=ot((0,m.AG)((0,m.dt)({blockhash:(0,m.Z_)(),previousBlockhash:(0,m.Z_)(),parentSlot:(0,m.Rx)(),transactions:(0,m.IX)((0,m.dt)({transaction:dn,meta:(0,m.AG)(wn),version:(0,m.jt)(In)})),rewards:(0,m.jt)((0,m.IX)(_n)),blockTime:(0,m.AG)((0,m.Rx)()),blockHeight:(0,m.AG)((0,m.Rx)())}))),Pn=ot((0,m.AG)((0,m.dt)({blockhash:(0,m.Z_)(),previousBlockhash:(0,m.Z_)(),parentSlot:(0,m.Rx)(),rewards:(0,m.jt)((0,m.IX)(_n)),blockTime:(0,m.AG)((0,m.Rx)()),blockHeight:(0,m.AG)((0,m.Rx)())}))),En=ot((0,m.AG)((0,m.dt)({blockhash:(0,m.Z_)(),previousBlockhash:(0,m.Z_)(),parentSlot:(0,m.Rx)(),transactions:(0,m.IX)((0,m.dt)({transaction:cn,meta:(0,m.AG)(kn)})),rewards:(0,m.jt)((0,m.IX)(_n)),blockTime:(0,m.AG)((0,m.Rx)())}))),Rn=ot((0,m.AG)((0,m.dt)({blockhash:(0,m.Z_)(),previousBlockhash:(0,m.Z_)(),parentSlot:(0,m.Rx)(),signatures:(0,m.IX)((0,m.Z_)()),blockTime:(0,m.AG)((0,m.Rx)())}))),Bn=ot((0,m.AG)((0,m.dt)({slot:(0,m.Rx)(),meta:(0,m.AG)(kn),blockTime:(0,m.jt)((0,m.AG)((0,m.Rx)())),transaction:cn,version:(0,m.jt)(In)}))),Cn=ot((0,m.AG)((0,m.dt)({slot:(0,m.Rx)(),transaction:gn,meta:(0,m.AG)(wn),blockTime:(0,m.jt)((0,m.AG)((0,m.Rx)())),version:(0,m.jt)(In)}))),zn=st((0,m.dt)({blockhash:(0,m.Z_)(),feeCalculator:(0,m.dt)({lamportsPerSignature:(0,m.Rx)()})})),Wn=st((0,m.dt)({blockhash:(0,m.Z_)(),lastValidBlockHeight:(0,m.Rx)()})),Mn=st((0,m.O7)()),Ln=(0,m.dt)({slot:(0,m.Rx)(),numTransactions:(0,m.Rx)(),numSlots:(0,m.Rx)(),samplePeriodSecs:(0,m.Rx)()}),On=ot((0,m.IX)(Ln)),Kn=st((0,m.AG)((0,m.dt)({feeCalculator:(0,m.dt)({lamportsPerSignature:(0,m.Rx)()})}))),jn=ot((0,m.Z_)()),Un=ot((0,m.Z_)()),Nn=(0,m.dt)({err:gt,logs:(0,m.IX)((0,m.Z_)()),signature:(0,m.Z_)()}),Fn=(0,m.dt)({result:at(Nn),subscription:(0,m.Rx)()}),qn={"solana-client":"js/0.0.0-development"};class Dn{constructor(e,t){let n,r,i,o,s,a;var c;this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const e={};return async t=>{const{commitment:n,config:r}=nt(t),i=this._buildArgs([],n,void 0,r),o=Ne(i);return e[o]=e[o]??(async()=>{try{const e=await this._rpcRequest("getBlockHeight",i),t=(0,m.Ue)(e,ot((0,m.Rx)()));if("error"in t)throw new $e(t.error,"failed to get block height information");return t.result}finally{delete e[o]}})(),await e[o]}})(),t&&"string"==typeof t?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,n=t.wsEndpoint,r=t.httpHeaders,i=t.fetch,o=t.fetchMiddleware,s=t.disableRetryOnRateLimit,a=t.httpAgent),this._rpcEndpoint=function(e){if(!1===/^https?:/.test(e))throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return e}(e),this._rpcWsEndpoint=n||function(e){const t=e.match(Xe);if(null==t)throw TypeError(`Failed to validate endpoint URL \`${e}\``);const[n,r,i,o]=t,s=e.startsWith("https:")?"wss:":"ws:",a=null==i?null:parseInt(i.slice(1),10);return`${s}//${r}${null==a?"":`:${a+1}`}${o}`}(e),this._rpcClient=function(e,t,n,r,i,o){const s=n||Ge;let a;return null!=o&&w.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments."),r&&(a=async(e,t)=>{const n=await new Promise(((n,i)=>{try{r(e,t,((e,t)=>n([e,t])))}catch(e){i(e)}}));return await s(...n)}),new(p())((async(n,r)=>{const o={method:"POST",body:n,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},t||{},qn)};try{let t,n=5,c=500;for(;t=a?await a(e,o):await s(e,o),429===t.status&&!0!==i&&(n-=1,0!==n);)w.error(`Server responded with ${t.status} ${t.statusText}.  Retrying after ${c}ms delay...`),await _e(c),c*=2;const u=await t.text();t.ok?r(null,u):r(new Error(`${t.status} ${t.statusText}: ${u}`))}catch(e){e instanceof Error&&r(e)}}),{})}(e,r,i,o,s,a),this._rpcRequest=(c=this._rpcClient,(e,t)=>new Promise(((n,r)=>{c.request(e,t,((e,t)=>{e?r(e):n(t)}))}))),this._rpcBatchRequest=function(e){return t=>new Promise(((n,r)=>{0===t.length&&n([]);const i=t.map((t=>e.request(t.methodName,t.args)));e.request(i,((e,t)=>{e?r(e):n(t)}))}))}(this._rpcClient),this._rpcWebSocket=new Ze(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:n,config:r}=nt(t),i=this._buildArgs([e.toBase58()],n,void 0,r),o=await this._rpcRequest("getBalance",i),s=(0,m.Ue)(o,st((0,m.Rx)()));if("error"in s)throw new $e(s.error,`failed to get balance for ${e.toBase58()}`);return s.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then((e=>e.value)).catch((t=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+t)}))}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),n=(0,m.Ue)(t,ot((0,m.AG)((0,m.Rx)())));if("error"in n)throw new $e(n.error,`failed to get block time for slot ${e}`);return n.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=(0,m.Ue)(e,ot((0,m.Rx)()));if("error"in t)throw new $e(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=(0,m.Ue)(e,Pt);if("error"in t)throw new $e(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};t="string"==typeof e?{commitment:e}:e?{...e,commitment:e&&e.commitment||this.commitment}:{commitment:this.commitment};const n=await this._rpcRequest("getSupply",[t]),r=(0,m.Ue)(n,Et);if("error"in r)throw new $e(r.error,"failed to get supply");return r.result}async getTokenSupply(e,t){const n=this._buildArgs([e.toBase58()],t),r=await this._rpcRequest("getTokenSupply",n),i=(0,m.Ue)(r,st(Rt));if("error"in i)throw new $e(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,t){const n=this._buildArgs([e.toBase58()],t),r=await this._rpcRequest("getTokenAccountBalance",n),i=(0,m.Ue)(r,st(Rt));if("error"in i)throw new $e(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,t,n){const{commitment:r,config:i}=nt(n);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const s=this._buildArgs(o,r,"base64",i),a=await this._rpcRequest("getTokenAccountsByOwner",s),c=(0,m.Ue)(a,Ct);if("error"in c)throw new $e(c.error,`failed to get token accounts owned by account ${e.toBase58()}`);return c.result}async getParsedTokenAccountsByOwner(e,t,n){let r=[e.toBase58()];"mint"in t?r.push({mint:t.mint.toBase58()}):r.push({programId:t.programId.toBase58()});const i=this._buildArgs(r,n,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),s=(0,m.Ue)(o,Wt);if("error"in s)throw new $e(s.error,`failed to get token accounts owned by account ${e.toBase58()}`);return s.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},n=t.filter||t.commitment?[t]:[],r=await this._rpcRequest("getLargestAccounts",n),i=(0,m.Ue)(r,Mt);if("error"in i)throw new $e(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,t){const n=this._buildArgs([e.toBase58()],t),r=await this._rpcRequest("getTokenLargestAccounts",n),i=(0,m.Ue)(r,Bt);if("error"in i)throw new $e(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,t){const{commitment:n,config:r}=nt(t),i=this._buildArgs([e.toBase58()],n,"base64",r),o=await this._rpcRequest("getAccountInfo",i),s=(0,m.Ue)(o,st((0,m.AG)(Lt)));if("error"in s)throw new $e(s.error,`failed to get info about account ${e.toBase58()}`);return s.result}async getParsedAccountInfo(e,t){const{commitment:n,config:r}=nt(t),i=this._buildArgs([e.toBase58()],n,"jsonParsed",r),o=await this._rpcRequest("getAccountInfo",i),s=(0,m.Ue)(o,st((0,m.AG)(jt)));if("error"in s)throw new $e(s.error,`failed to get info about account ${e.toBase58()}`);return s.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(t){throw new Error("failed to get info about account "+e.toBase58()+": "+t)}}async getMultipleParsedAccounts(e,t){const{commitment:n,config:r}=nt(t),i=e.map((e=>e.toBase58())),o=this._buildArgs([i],n,"jsonParsed",r),s=await this._rpcRequest("getMultipleAccounts",o),a=(0,m.Ue)(s,st((0,m.IX)((0,m.AG)(jt))));if("error"in a)throw new $e(a.error,`failed to get info for accounts ${i}`);return a.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:n,config:r}=nt(t),i=e.map((e=>e.toBase58())),o=this._buildArgs([i],n,"base64",r),s=await this._rpcRequest("getMultipleAccounts",o),a=(0,m.Ue)(s,st((0,m.IX)((0,m.AG)(Lt))));if("error"in a)throw new $e(a.error,`failed to get info for accounts ${i}`);return a.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,n){const{commitment:r,config:i}=nt(t),o=this._buildArgs([e.toBase58()],r,void 0,{...i,epoch:null!=n?n:i?.epoch}),s=await this._rpcRequest("getStakeActivation",o),a=(0,m.Ue)(s,ot(Nt));if("error"in a)throw new $e(a.error,`failed to get Stake Activation ${e.toBase58()}`);return a.result}async getProgramAccounts(e,t){const{commitment:n,config:r}=nt(t),{encoding:i,...o}=r||{},s=this._buildArgs([e.toBase58()],n,i||"base64",o),a=await this._rpcRequest("getProgramAccounts",s),c=(0,m.IX)(Ot),u=!0===o.withContext?(0,m.Ue)(a,st(c)):(0,m.Ue)(a,ot(c));if("error"in u)throw new $e(u.error,`failed to get accounts owned by program ${e.toBase58()}`);return u.result}async getParsedProgramAccounts(e,t){const{commitment:n,config:r}=nt(t),i=this._buildArgs([e.toBase58()],n,"jsonParsed",r),o=await this._rpcRequest("getProgramAccounts",i),s=(0,m.Ue)(o,ot((0,m.IX)(Ut)));if("error"in s)throw new $e(s.error,`failed to get accounts owned by program ${e.toBase58()}`);return s.result}async confirmTransaction(e,t){let n,r;if("string"==typeof e)n=e;else{const t=e;if(t.abortSignal?.aborted)return Promise.reject(t.abortSignal.reason);n=t.signature}try{r=c().decode(n)}catch(e){throw new Error("signature must be base58 encoded: "+n)}return Y(64===r.length,"signature has invalid length"),"string"==typeof e?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:n}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise(((t,n)=>{null!=e&&(e.aborted?n(e.reason):e.addEventListener("abort",(()=>{n(e.reason)})))}))}getTransactionConfirmationPromise({commitment:e,signature:t}){let n,r,i=!1;return{abortConfirmation:()=>{r&&(r(),r=void 0),null!=n&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:new Promise(((o,s)=>{try{n=this.onSignature(t,((e,t)=>{n=void 0;const r={context:t,value:e};o({__type:se.PROCESSED,response:r})}),e);const a=new Promise((e=>{null==n?e():r=this._onSubscriptionStateChange(n,(t=>{"subscribed"===t&&e()}))}));(async()=>{if(await a,i)return;const n=await this.getSignatureStatus(t);if(i)return;if(null==n)return;const{context:r,value:c}=n;if(null!=c)if(c?.err)s(c.err);else{switch(e){case"confirmed":case"single":case"singleGossip":if("processed"===c.confirmationStatus)return;break;case"finalized":case"max":case"root":if("processed"===c.confirmationStatus||"confirmed"===c.confirmationStatus)return}i=!0,o({__type:se.PROCESSED,response:{context:r,value:c}})}})()}catch(e){s(e)}}))}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:n,signature:r}}){let i=!1;const o=new Promise((t=>{const r=async()=>{try{return await this.getBlockHeight(e)}catch(e){return-1}};(async()=>{let e=await r();if(!i){for(;e<=n;){if(await _e(1e3),i)return;if(e=await r(),i)return}t({__type:se.BLOCKHEIGHT_EXCEEDED})}})()})),{abortConfirmation:s,confirmationPromise:a}=this.getTransactionConfirmationPromise({commitment:e,signature:r}),c=this.getCancellationPromise(t);let u;try{const e=await Promise.race([c,a,o]);if(e.__type!==se.PROCESSED)throw new F(r);u=e.response}finally{i=!0,s()}return u}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:n,nonceAccountPubkey:r,nonceValue:i,signature:o}}){let s=!1;const a=new Promise((t=>{let o=i,a=null;const c=async()=>{try{const{context:t,value:i}=await this.getNonceAndContext(r,{commitment:e,minContextSlot:n});return a=t.slot,i?.nonce}catch(e){return o}};(async()=>{if(o=await c(),!s)for(;;){if(i!==o)return void t({__type:se.NONCE_INVALID,slotInWhichNonceDidAdvance:a});if(await _e(2e3),s)return;if(o=await c(),s)return}})()})),{abortConfirmation:c,confirmationPromise:u}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(t);let l;try{const t=await Promise.race([d,u,a]);if(t.__type===se.PROCESSED)l=t.response;else{let r;for(;;){const e=await this.getSignatureStatus(o);if(null==e)break;if(!(e.context.slot<(t.slotInWhichNonceDidAdvance??n))){r=e;break}await _e(400)}if(!r?.value)throw new D(o);{const t=e||"finalized",{confirmationStatus:n}=r.value;switch(t){case"processed":case"recent":if("processed"!==n&&"confirmed"!==n&&"finalized"!==n)throw new D(o);break;case"confirmed":case"single":case"singleGossip":if("confirmed"!==n&&"finalized"!==n)throw new D(o);break;case"finalized":case"max":case"root":if("finalized"!==n)throw new D(o)}l={context:r.context,value:{err:r.value.err}}}}}finally{s=!0,c()}return l}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let n;const r=new Promise((t=>{let r=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":r=this._confirmTransactionInitialTimeout||3e4}n=setTimeout((()=>t({__type:se.TIMED_OUT,timeoutMs:r})),r)})),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let s;try{const e=await Promise.race([o,r]);if(e.__type!==se.PROCESSED)throw new q(t,e.timeoutMs/1e3);s=e.response}finally{clearTimeout(n),i()}return s}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=(0,m.Ue)(e,ot((0,m.IX)(Qt)));if("error"in t)throw new $e(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),n=await this._rpcRequest("getVoteAccounts",t),r=(0,m.Ue)(n,tn);if("error"in r)throw new $e(r.error,"failed to get vote accounts");return r.result}async getSlot(e){const{commitment:t,config:n}=nt(e),r=this._buildArgs([],t,void 0,n),i=await this._rpcRequest("getSlot",r),o=(0,m.Ue)(i,ot((0,m.Rx)()));if("error"in o)throw new $e(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:t,config:n}=nt(e),r=this._buildArgs([],t,void 0,n),i=await this._rpcRequest("getSlotLeader",r),o=(0,m.Ue)(i,ot((0,m.Z_)()));if("error"in o)throw new $e(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){const n=[e,t],r=await this._rpcRequest("getSlotLeaders",n),i=(0,m.Ue)(r,ot((0,m.IX)(Ye)));if("error"in i)throw new $e(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,t){const{context:n,value:r}=await this.getSignatureStatuses([e],t);return Y(1===r.length),{context:n,value:r[0]}}async getSignatureStatuses(e,t){const n=[e];t&&n.push(t);const r=await this._rpcRequest("getSignatureStatuses",n),i=(0,m.Ue)(r,on);if("error"in i)throw new $e(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:t,config:n}=nt(e),r=this._buildArgs([],t,void 0,n),i=await this._rpcRequest("getTransactionCount",r),o=(0,m.Ue)(i,ot((0,m.Rx)()));if("error"in o)throw new $e(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),n=await this._rpcRequest("getInflationGovernor",t),r=(0,m.Ue)(n,_t);if("error"in r)throw new $e(r.error,"failed to get inflation");return r.result}async getInflationReward(e,t,n){const{commitment:r,config:i}=nt(n),o=this._buildArgs([e.map((e=>e.toBase58()))],r,void 0,{...i,epoch:null!=t?t:i?.epoch}),s=await this._rpcRequest("getInflationReward",o),a=(0,m.Ue)(s,dt);if("error"in a)throw new $e(a.error,"failed to get inflation reward");return a.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=(0,m.Ue)(e,At);if("error"in t)throw new $e(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:n}=nt(e),r=this._buildArgs([],t,void 0,n),i=await this._rpcRequest("getEpochInfo",r),o=(0,m.Ue)(i,Tt);if("error"in o)throw new $e(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=(0,m.Ue)(e,xt);if("error"in t)throw new $e(t.error,"failed to get epoch schedule");const n=t.result;return new qe(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=(0,m.Ue)(e,vt);if("error"in t)throw new $e(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const n=this._buildArgs([e],t),r=await this._rpcRequest("getMinimumBalanceForRentExemption",n),i=(0,m.Ue)(r,sn);return"error"in i?(w.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),n=await this._rpcRequest("getRecentBlockhash",t),r=(0,m.Ue)(n,zn);if("error"in r)throw new $e(r.error,"failed to get recent blockhash");return r.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),n=(0,m.Ue)(t,On);if("error"in n)throw new $e(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(e,t){const n=this._buildArgs([e],t),r=await this._rpcRequest("getFeeCalculatorForBlockhash",n),i=(0,m.Ue)(r,Kn);if("error"in i)throw new $e(i.error,"failed to get fee calculator");const{context:o,value:s}=i.result;return{context:o,value:null!==s?s.feeCalculator:null}}async getFeeForMessage(e,t){const n=v(e.serialize()).toString("base64"),r=this._buildArgs([n],t),i=await this._rpcRequest("getFeeForMessage",r),o=(0,m.Ue)(i,st((0,m.AG)((0,m.Rx)())));if("error"in o)throw new $e(o.error,"failed to get fee for message");if(null===o.result)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){const t=e?.lockedWritableAccounts?.map((e=>e.toBase58())),n=t?.length?[t]:[],r=await this._rpcRequest("getRecentPrioritizationFees",n),i=(0,m.Ue)(r,St);if("error"in i)throw new $e(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:n}=nt(e),r=this._buildArgs([],t,void 0,n),i=await this._rpcRequest("getLatestBlockhash",r),o=(0,m.Ue)(i,Wn);if("error"in o)throw new $e(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,t){const{commitment:n,config:r}=nt(t),i=this._buildArgs([e],n,void 0,r),o=await this._rpcRequest("isBlockhashValid",i),s=(0,m.Ue)(o,Mn);if("error"in s)throw new $e(s.error,"failed to determine if the blockhash `"+e+"`is valid");return s.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=(0,m.Ue)(e,ot(kt));if("error"in t)throw new $e(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=(0,m.Ue)(e,ot((0,m.Z_)()));if("error"in t)throw new $e(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:n,config:r}=nt(t),i=this._buildArgsAtLeastConfirmed([e],n,void 0,r),o=await this._rpcRequest("getBlock",i);try{switch(r?.transactionDetails){case"accounts":{const e=(0,m.Ue)(o,Tn);if("error"in e)throw e.error;return e.result}case"none":{const e=(0,m.Ue)(o,Sn);if("error"in e)throw e.error;return e.result}default:{const e=(0,m.Ue)(o,An);if("error"in e)throw e.error;const{result:t}=e;return t?{...t,transactions:t.transactions.map((({transaction:e,meta:t,version:n})=>({meta:t,transaction:{...e,message:ct(n,e.message)},version:n})))}:null}}}catch(e){throw new $e(e,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:n,config:r}=nt(t),i=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",r),o=await this._rpcRequest("getBlock",i);try{switch(r?.transactionDetails){case"accounts":{const e=(0,m.Ue)(o,vn);if("error"in e)throw e.error;return e.result}case"none":{const e=(0,m.Ue)(o,Pn);if("error"in e)throw e.error;return e.result}default:{const e=(0,m.Ue)(o,xn);if("error"in e)throw e.error;return e.result}}}catch(e){throw new $e(e,"failed to get block")}}async getBlockProduction(e){let t,n;if("string"==typeof e)n=e;else if(e){const{commitment:r,...i}=e;n=r,t=i}const r=this._buildArgs([],n,"base64",t),i=await this._rpcRequest("getBlockProduction",r),o=(0,m.Ue)(i,It);if("error"in o)throw new $e(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:n,config:r}=nt(t),i=this._buildArgsAtLeastConfirmed([e],n,void 0,r),o=await this._rpcRequest("getTransaction",i),s=(0,m.Ue)(o,Bn);if("error"in s)throw new $e(s.error,"failed to get transaction");const a=s.result;return a?{...a,transaction:{...a.transaction,message:ct(a.version,a.transaction.message)}}:a}async getParsedTransaction(e,t){const{commitment:n,config:r}=nt(t),i=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",r),o=await this._rpcRequest("getTransaction",i),s=(0,m.Ue)(o,Cn);if("error"in s)throw new $e(s.error,"failed to get transaction");return s.result}async getParsedTransactions(e,t){const{commitment:n,config:r}=nt(t),i=e.map((e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",r)})));return(await this._rpcBatchRequest(i)).map((e=>{const t=(0,m.Ue)(e,Cn);if("error"in t)throw new $e(t.error,"failed to get transactions");return t.result}))}async getTransactions(e,t){const{commitment:n,config:r}=nt(t),i=e.map((e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],n,void 0,r)})));return(await this._rpcBatchRequest(i)).map((e=>{const t=(0,m.Ue)(e,Bn);if("error"in t)throw new $e(t.error,"failed to get transactions");const n=t.result;return n?{...n,transaction:{...n.transaction,message:ct(n.version,n.transaction.message)}}:n}))}async getConfirmedBlock(e,t){const n=this._buildArgsAtLeastConfirmed([e],t),r=await this._rpcRequest("getConfirmedBlock",n),i=(0,m.Ue)(r,En);if("error"in i)throw new $e(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");const s={...o,transactions:o.transactions.map((({transaction:e,meta:t})=>{const n=new re(e.message);return{meta:t,transaction:{...e,message:n}}}))};return{...s,transactions:s.transactions.map((({transaction:e,meta:t})=>({meta:t,transaction:ue.populate(e.message,e.signatures)})))}}async getBlocks(e,t,n){const r=this._buildArgsAtLeastConfirmed(void 0!==t?[e,t]:[e],n),i=await this._rpcRequest("getBlocks",r),o=(0,m.Ue)(i,ot((0,m.IX)((0,m.Rx)())));if("error"in o)throw new $e(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),r=await this._rpcRequest("getBlock",n),i=(0,m.Ue)(r,Rn);if("error"in i)throw new $e(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),r=await this._rpcRequest("getConfirmedBlock",n),i=(0,m.Ue)(r,Rn);if("error"in i)throw new $e(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const n=this._buildArgsAtLeastConfirmed([e],t),r=await this._rpcRequest("getConfirmedTransaction",n),i=(0,m.Ue)(r,Bn);if("error"in i)throw new $e(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const s=new re(o.transaction.message),a=o.transaction.signatures;return{...o,transaction:ue.populate(s,a)}}async getParsedConfirmedTransaction(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),r=await this._rpcRequest("getConfirmedTransaction",n),i=(0,m.Ue)(r,Cn);if("error"in i)throw new $e(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,t){const n=e.map((e=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([e],t,"jsonParsed")})));return(await this._rpcBatchRequest(n)).map((e=>{const t=(0,m.Ue)(e,Cn);if("error"in t)throw new $e(t.error,"failed to get confirmed transactions");return t.result}))}async getConfirmedSignaturesForAddress(e,t,n){let r={},i=await this.getFirstAvailableBlock();for(;!("until"in r)&&!(--t<=0||t<i);)try{const e=await this.getConfirmedBlockSignatures(t,"finalized");e.signatures.length>0&&(r.until=e.signatures[e.signatures.length-1].toString())}catch(e){if(e instanceof Error&&e.message.includes("skipped"))continue;throw e}let o=await this.getSlot("finalized");for(;!("before"in r||++n>o);)try{const e=await this.getConfirmedBlockSignatures(n);e.signatures.length>0&&(r.before=e.signatures[e.signatures.length-1].toString())}catch(e){if(e instanceof Error&&e.message.includes("skipped"))continue;throw e}return(await this.getConfirmedSignaturesForAddress2(e,r)).map((e=>e.signature))}async getConfirmedSignaturesForAddress2(e,t,n){const r=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",r),o=(0,m.Ue)(i,Ft);if("error"in o)throw new $e(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,n){const r=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",r),o=(0,m.Ue)(i,qt);if("error"in o)throw new $e(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,t){const{context:n,value:r}=await this.getAccountInfoAndContext(e,t);let i=null;return null!==r&&(i=new Ve({key:e,state:Ve.deserialize(r.data)})),{context:n,value:i}}async getNonceAndContext(e,t){const{context:n,value:r}=await this.getAccountInfoAndContext(e,t);let i=null;return null!==r&&(i=Pe.fromAccountData(r.data)),{context:n,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then((e=>e.value)).catch((t=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+t)}))}async requestAirdrop(e,t){const n=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),r=(0,m.Ue)(n,jn);if("error"in r)throw new $e(r.error,`airdrop to ${e.toBase58()} failed`);return r.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await _e(100);const e=Date.now()-this._blockhashInfo.lastFetch>=tt;if(null!==this._blockhashInfo.latestBlockhash&&!e)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,n=t?t.blockhash:null;for(let e=0;e<50;e++){const e=await this.getLatestBlockhash("finalized");if(n!==e.blockhash)return this._blockhashInfo={latestBlockhash:e,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},e;await _e(200)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:n}=nt(e),r=this._buildArgs([],t,"base64",n),i=await this._rpcRequest("getStakeMinimumDelegation",r),o=(0,m.Ue)(i,st((0,m.Rx)()));if("error"in o)throw new $e(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,n){if("message"in e){const i=e.serialize(),o=r.Buffer.from(i).toString("base64");if(Array.isArray(t)||void 0!==n)throw new Error("Invalid arguments");const s=t||{};s.encoding="base64","commitment"in s||(s.commitment=this.commitment);const a=[o,s],c=await this._rpcRequest("simulateTransaction",a),u=(0,m.Ue)(c,wt);if("error"in u)throw new Error("failed to simulate transaction: "+u.error.message);return u.result}let i;if(e instanceof ue){let t=e;i=new ue,i.feePayer=t.feePayer,i.instructions=e.instructions,i.nonceInfo=t.nonceInfo,i.signatures=t.signatures}else i=ue.populate(e),i._message=i._json=void 0;if(void 0!==t&&!Array.isArray(t))throw new Error("Invalid arguments");const o=t;if(i.nonceInfo&&o)i.sign(...o);else{let e=this._disableBlockhashCaching;for(;;){const t=await this._blockhashWithExpiryBlockHeight(e);if(i.lastValidBlockHeight=t.lastValidBlockHeight,i.recentBlockhash=t.blockhash,!o)break;if(i.sign(...o),!i.signature)throw new Error("!signature");const n=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(n)&&!this._blockhashInfo.transactionSignatures.includes(n)){this._blockhashInfo.simulatedSignatures.push(n);break}e=!0}}const s=i._compile(),a=s.serialize(),c=i._serialize(a).toString("base64"),u={encoding:"base64",commitment:this.commitment};if(n){const e=(Array.isArray(n)?n:s.nonProgramIds()).map((e=>e.toBase58()));u.accounts={encoding:"base64",addresses:e}}o&&(u.sigVerify=!0);const d=[c,u],l=await this._rpcRequest("simulateTransaction",d),h=(0,m.Ue)(l,wt);if("error"in h){let e;if("data"in h.error&&(e=h.error.data.logs,e&&Array.isArray(e))){const t="\n    ",n=t+e.join(t);w.error(h.error.message,n)}throw new De("failed to simulate transaction: "+h.error.message,e)}return h.result}async sendTransaction(e,t,n){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const n=e.serialize();return await this.sendRawTransaction(n,t)}if(void 0===t||!Array.isArray(t))throw new Error("Invalid arguments");const r=t;if(e.nonceInfo)e.sign(...r);else{let t=this._disableBlockhashCaching;for(;;){const n=await this._blockhashWithExpiryBlockHeight(t);if(e.lastValidBlockHeight=n.lastValidBlockHeight,e.recentBlockhash=n.blockhash,e.sign(...r),!e.signature)throw new Error("!signature");const i=e.signature.toString("base64");if(!this._blockhashInfo.transactionSignatures.includes(i)){this._blockhashInfo.transactionSignatures.push(i);break}t=!0}}const i=e.serialize();return await this.sendRawTransaction(i,n)}async sendRawTransaction(e,t){const n=v(e).toString("base64");return await this.sendEncodedTransaction(n,t)}async sendEncodedTransaction(e,t){const n={encoding:"base64"},r=t&&t.skipPreflight,i=!0===r?"processed":t&&t.preflightCommitment||this.commitment;t&&null!=t.maxRetries&&(n.maxRetries=t.maxRetries),t&&null!=t.minContextSlot&&(n.minContextSlot=t.minContextSlot),r&&(n.skipPreflight=r),i&&(n.preflightCommitment=i);const o=[e,n],s=await this._rpcRequest("sendTransaction",o),a=(0,m.Ue)(s,Un);if("error"in a){let e;throw"data"in a.error&&(e=a.error.data.logs),new De("failed to send transaction: "+a.error.message,e)}return a.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval((()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()}),5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,w.error("ws error:",e.message)}_wsOnClose(e){this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3!==e?(this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach((([e,t])=>{this._setSubscription(e,{...t,state:"pending"})}))):this._updateSubscriptions()}_setSubscription(e,t){const n=this._subscriptionsByHash[e]?.state;if(this._subscriptionsByHash[e]=t,n!==t.state){const n=this._subscriptionStateChangeCallbacksByHash[e];n&&n.forEach((e=>{try{e(t.state)}catch{}}))}}_onSubscriptionStateChange(e,t){const n=this._subscriptionHashByClientSubscriptionId[e];if(null==n)return()=>{};const r=this._subscriptionStateChangeCallbacksByHash[n]||=new Set;return r.add(t),()=>{r.delete(t),0===r.size&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(0===Object.keys(this._subscriptionsByHash).length)return void(this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout((()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(e){e instanceof Error&&w.log(`Error when closing socket connection: ${e.message}`)}}),500)));if(null!==this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected)return void this._rpcWebSocket.connect();const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map((async e=>{const n=this._subscriptionsByHash[e];if(void 0!==n)switch(n.state){case"pending":case"unsubscribed":if(0===n.callbacks.size)return delete this._subscriptionsByHash[e],"unsubscribed"===n.state&&delete this._subscriptionCallbacksByServerSubscriptionId[n.serverSubscriptionId],void await this._updateSubscriptions();await(async()=>{const{args:r,method:i}=n;try{this._setSubscription(e,{...n,state:"subscribing"});const t=await this._rpcWebSocket.call(i,r);this._setSubscription(e,{...n,serverSubscriptionId:t,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[t]=n.callbacks,await this._updateSubscriptions()}catch(o){if(o instanceof Error&&w.error(`${i} error for argument`,r,o.message),!t())return;this._setSubscription(e,{...n,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":0===n.callbacks.size&&await(async()=>{const{serverSubscriptionId:r,unsubscribeMethod:i}=n;if(this._subscriptionsAutoDisposedByRpc.has(r))this._subscriptionsAutoDisposedByRpc.delete(r);else{this._setSubscription(e,{...n,state:"unsubscribing"}),this._setSubscription(e,{...n,state:"unsubscribing"});try{await this._rpcWebSocket.call(i,[r])}catch(r){if(r instanceof Error&&w.error(`${i} error:`,r.message),!t())return;return this._setSubscription(e,{...n,state:"subscribed"}),void await this._updateSubscriptions()}}this._setSubscription(e,{...n,state:"unsubscribed"}),await this._updateSubscriptions()})()}})))}_handleServerNotification(e,t){const n=this._subscriptionCallbacksByServerSubscriptionId[e];void 0!==n&&n.forEach((e=>{try{e(...t)}catch(e){w.error(e)}}))}_wsOnAccountNotification(e){const{result:t,subscription:n}=(0,m.Ue)(e,Dt);this._handleServerNotification(n,[t.value,t.context])}_makeSubscription(e,t){const n=this._nextClientSubscriptionId++,r=Ne([e.method,t]),i=this._subscriptionsByHash[r];return void 0===i?this._subscriptionsByHash[r]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[n]=r,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];const t=this._subscriptionsByHash[r];Y(void 0!==t,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),t.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,t,n){const r=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64");return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},r)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:n}=(0,m.Ue)(e,$t);this._handleServerNotification(n,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,n,r){const i=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64",r?{filters:r}:void 0);return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},i)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,n){const r=this._buildArgs(["object"==typeof e?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},r)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:n}=(0,m.Ue)(e,Fn);this._handleServerNotification(n,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:n}=(0,m.Ue)(e,Zt);this._handleServerNotification(n,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:n}=(0,m.Ue)(e,Jt);this._handleServerNotification(n,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():w.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,n,r){const i=t||this._commitment;if(i||n||r){let t={};n&&(t.encoding=n),i&&(t.commitment=i),r&&(t=Object.assign(t,r)),e.push(t)}return e}_buildArgsAtLeastConfirmed(e,t,n,r){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,n,r)}_wsOnSignatureNotification(e){const{result:t,subscription:n}=(0,m.Ue)(e,Xt);"receivedSignature"!==t.value&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,"receivedSignature"===t.value?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,n){const r=this._buildArgs([e],n||this._commitment||"finalized"),i=this._makeSubscription({callback:(e,n)=>{if("status"===e.type){t(e.result,n);try{this.removeSignatureListener(i)}catch(e){}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},r);return i}onSignatureWithOptions(e,t,n){const{commitment:r,...i}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},o=this._buildArgs([e],r,void 0,i),s=this._makeSubscription({callback:(e,n)=>{t(e,n);try{this.removeSignatureListener(s)}catch(e){}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return s}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:n}=(0,m.Ue)(e,Yt);this._handleServerNotification(n,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Hn{constructor(e){this._keypair=void 0,this._keypair=e??_()}static generate(){return new Hn(_())}static fromSecretKey(e,t){if(64!==e.byteLength)throw new Error("bad secret key size");const n=e.slice(32,64);if(!t||!t.skipValidation){const t=e.slice(0,32),r=A(t);for(let e=0;e<32;e++)if(n[e]!==r[e])throw new Error("provided secretKey is invalid")}return new Hn({publicKey:n,secretKey:e})}static fromSeed(e){const t=A(e),n=new Uint8Array(64);return n.set(e),n.set(t,32),new Hn({publicKey:t,secretKey:n})}get publicKey(){return new L(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const $n=Object.freeze({CreateLookupTable:{index:0,layout:l.n_([l.Jq("instruction"),Ee("recentSlot"),l.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:l.n_([l.Jq("instruction")])},ExtendLookupTable:{index:2,layout:l.n_([l.Jq("instruction"),Ee(),l.A9($(),l.cv(l.Jq(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:l.n_([l.Jq("instruction")])},CloseLookupTable:{index:4,layout:l.n_([l.Jq("instruction")])}});class Gn{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=l.Jq("instruction").decode(e.data);let n;for(const[e,r]of Object.entries($n))if(r.index==t){n=e;break}if(!n)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return n}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=Se($n.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=Se($n.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map((e=>new L(e)))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Zn.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class Zn{constructor(){}static createLookupTable(e){const[t,n]=L.findProgramAddressSync([e.authority.toBuffer(),(0,h.k$)(BigInt(e.recentSlot),8)],this.programId),r=Ae($n.CreateLookupTable,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),i=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Ce.programId,isSigner:!1,isWritable:!1}];return[new ce({programId:this.programId,keys:i,data:r}),t]}static freezeLookupTable(e){const t=Ae($n.FreezeLookupTable),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ce({programId:this.programId,keys:n,data:t})}static extendLookupTable(e){const t=Ae($n.ExtendLookupTable,{addresses:e.addresses.map((e=>e.toBytes()))}),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&n.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Ce.programId,isSigner:!1,isWritable:!1}),new ce({programId:this.programId,keys:n,data:t})}static deactivateLookupTable(e){const t=Ae($n.DeactivateLookupTable),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ce({programId:this.programId,keys:n,data:t})}static closeLookupTable(e){const t=Ae($n.CloseLookupTable),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new ce({programId:this.programId,keys:n,data:t})}}Zn.programId=new L("AddressLookupTab1e1111111111111111111111111");class Vn{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=l.u8("instruction").decode(e.data);let n;for(const[e,r]of Object.entries(Jn))if(r.index==t){n=e;break}if(!n)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return n}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:n}=Se(Jn.RequestUnits,e.data);return{units:t,additionalFee:n}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=Se(Jn.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=Se(Jn.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=Se(Jn.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(Xn.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const Jn=Object.freeze({RequestUnits:{index:0,layout:l.n_([l.u8("instruction"),l.Jq("units"),l.Jq("additionalFee")])},RequestHeapFrame:{index:1,layout:l.n_([l.u8("instruction"),l.Jq("bytes")])},SetComputeUnitLimit:{index:2,layout:l.n_([l.u8("instruction"),l.Jq("units")])},SetComputeUnitPrice:{index:3,layout:l.n_([l.u8("instruction"),Ee("microLamports")])}});class Xn{constructor(){}static requestUnits(e){const t=Ae(Jn.RequestUnits,e);return new ce({keys:[],programId:this.programId,data:t})}static requestHeapFrame(e){const t=Ae(Jn.RequestHeapFrame,e);return new ce({keys:[],programId:this.programId,data:t})}static setComputeUnitLimit(e){const t=Ae(Jn.SetComputeUnitLimit,e);return new ce({keys:[],programId:this.programId,data:t})}static setComputeUnitPrice(e){const t=Ae(Jn.SetComputeUnitPrice,{microLamports:BigInt(e.microLamports)});return new ce({keys:[],programId:this.programId,data:t})}}Xn.programId=new L("ComputeBudget111111111111111111111111111111");const Yn=l.n_([l.u8("numSignatures"),l.u8("padding"),l.KB("signatureOffset"),l.KB("signatureInstructionIndex"),l.KB("publicKeyOffset"),l.KB("publicKeyInstructionIndex"),l.KB("messageDataOffset"),l.KB("messageDataSize"),l.KB("messageInstructionIndex")]);class Qn{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:n,signature:i,instructionIndex:o}=e;Y(32===t.length,`Public Key must be 32 bytes but received ${t.length} bytes`),Y(64===i.length,`Signature must be 64 bytes but received ${i.length} bytes`);const s=Yn.span,a=s+t.length,c=a+i.length,u=r.Buffer.alloc(c+n.length),d=null==o?65535:o;return Yn.encode({numSignatures:1,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:s,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:n.length,messageInstructionIndex:d},u),u.fill(t,s),u.fill(i,a),u.fill(n,c),new ce({keys:[],programId:Qn.programId,data:u})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:n,instructionIndex:r}=e;Y(64===t.length,`Private key must be 64 bytes but received ${t.length} bytes`);try{const e=Hn.fromSecretKey(t),i=e.publicKey.toBytes(),o=T(n,e.secretKey);return this.createInstructionWithPublicKey({publicKey:i,message:n,signature:o,instructionIndex:r})}catch(e){throw new Error(`Error creating instruction; ${e}`)}}}Qn.programId=new L("Ed25519SigVerify111111111111111111111111111"),k.kA.utils.isValidPrivateKey;const er=k.kA.getPublicKey,tr=l.n_([l.u8("numSignatures"),l.KB("signatureOffset"),l.u8("signatureInstructionIndex"),l.KB("ethAddressOffset"),l.u8("ethAddressInstructionIndex"),l.KB("messageDataOffset"),l.KB("messageDataSize"),l.u8("messageInstructionIndex"),l.Ik(20,"ethAddress"),l.Ik(64,"signature"),l.u8("recoveryId")]);class nr{constructor(){}static publicKeyToEthAddress(e){Y(64===e.length,`Public key must be 64 bytes but received ${e.length} bytes`);try{return r.Buffer.from((0,b.fr)(v(e))).slice(-20)}catch(e){throw new Error(`Error constructing Ethereum address: ${e}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:n,signature:r,recoveryId:i,instructionIndex:o}=e;return nr.createInstructionWithEthAddress({ethAddress:nr.publicKeyToEthAddress(t),message:n,signature:r,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:n,signature:i,recoveryId:o,instructionIndex:s=0}=e;let a;a="string"==typeof t?t.startsWith("0x")?r.Buffer.from(t.substr(2),"hex"):r.Buffer.from(t,"hex"):t,Y(20===a.length,`Address must be 20 bytes but received ${a.length} bytes`);const c=12+a.length,u=c+i.length+1,d=r.Buffer.alloc(tr.span+n.length);return tr.encode({numSignatures:1,signatureOffset:c,signatureInstructionIndex:s,ethAddressOffset:12,ethAddressInstructionIndex:s,messageDataOffset:u,messageDataSize:n.length,messageInstructionIndex:s,signature:v(i),ethAddress:v(a),recoveryId:o},d),d.fill(v(n),tr.span),new ce({keys:[],programId:nr.programId,data:d})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:n,instructionIndex:i}=e;Y(32===t.length,`Private key must be 32 bytes but received ${t.length} bytes`);try{const e=v(t),o=er(e,!1).slice(1),s=r.Buffer.from((0,b.fr)(v(n))),[a,c]=((e,t)=>{const n=k.kA.sign(e,t);return[n.toCompactRawBytes(),n.recovery]})(s,e);return this.createInstructionWithPublicKey({publicKey:o,message:n,signature:a,recoveryId:c,instructionIndex:i})}catch(e){throw new Error(`Error creating instruction; ${e}`)}}}var rr;nr.programId=new L("KeccakSecp256k11111111111111111111111111111");const ir=new L("StakeConfig11111111111111111111111111111111");class or{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class sr{constructor(e,t,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=n}}rr=sr,sr.default=new rr(0,0,L.default);class ar{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=l.Jq("instruction").decode(e.data);let n;for(const[e,r]of Object.entries(cr))if(r.index==t){n=e;break}if(!n)throw new Error("Instruction type incorrect; not a StakeInstruction");return n}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:n}=Se(cr.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new or(new L(t.staker),new L(t.withdrawer)),lockup:new sr(n.unixTimestamp,n.epoch,new L(n.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),Se(cr.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:n}=Se(cr.Authorize,e.data),r={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new L(t),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(r.custodianPubkey=e.keys[3].pubkey),r}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:n,authoritySeed:r,authorityOwner:i}=Se(cr.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:r,authorityOwner:new L(i),newAuthorizedPubkey:new L(t),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=Se(cr.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Se(cr.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=Se(cr.Withdraw,e.data),n={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(n.custodianPubkey=e.keys[5].pubkey),n}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Se(cr.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(dr.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const cr=Object.freeze({Initialize:{index:0,layout:l.n_([l.Jq("instruction"),((e="authorized")=>l.n_([$("staker"),$("withdrawer")],e))(),((e="lockup")=>l.n_([l.gM("unixTimestamp"),l.gM("epoch"),$("custodian")],e))()])},Authorize:{index:1,layout:l.n_([l.Jq("instruction"),$("newAuthorized"),l.Jq("stakeAuthorizationType")])},Delegate:{index:2,layout:l.n_([l.Jq("instruction")])},Split:{index:3,layout:l.n_([l.Jq("instruction"),l.gM("lamports")])},Withdraw:{index:4,layout:l.n_([l.Jq("instruction"),l.gM("lamports")])},Deactivate:{index:5,layout:l.n_([l.Jq("instruction")])},Merge:{index:7,layout:l.n_([l.Jq("instruction")])},AuthorizeWithSeed:{index:8,layout:l.n_([l.Jq("instruction"),$("newAuthorized"),l.Jq("stakeAuthorizationType"),Z("authoritySeed"),$("authorityOwner")])}}),ur=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class dr{constructor(){}static initialize(e){const{stakePubkey:t,authorized:n,lockup:r}=e,i=r||sr.default,o=Ae(cr.Initialize,{authorized:{staker:v(n.staker.toBuffer()),withdrawer:v(n.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:v(i.custodian.toBuffer())}}),s={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ge,isSigner:!1,isWritable:!1}],programId:this.programId,data:o};return new ce(s)}static createAccountWithSeed(e){const t=new ue;t.add(Ce.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:r,lockup:i}=e;return t.add(this.initialize({stakePubkey:n,authorized:r,lockup:i}))}static createAccount(e){const t=new ue;t.add(Ce.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:r,lockup:i}=e;return t.add(this.initialize({stakePubkey:n,authorized:r,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:n,votePubkey:r}=e,i=Ae(cr.Delegate);return(new ue).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:he,isSigner:!1,isWritable:!1},{pubkey:we,isSigner:!1,isWritable:!1},{pubkey:ir,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static authorize(e){const{stakePubkey:t,authorizedPubkey:n,newAuthorizedPubkey:r,stakeAuthorizationType:i,custodianPubkey:o}=e,s=Ae(cr.Authorize,{newAuthorized:v(r.toBuffer()),stakeAuthorizationType:i.index}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:he,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return o&&a.push({pubkey:o,isSigner:!0,isWritable:!1}),(new ue).add({keys:a,programId:this.programId,data:s})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:n,authoritySeed:r,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:s,custodianPubkey:a}=e,c=Ae(cr.AuthorizeWithSeed,{newAuthorized:v(o.toBuffer()),stakeAuthorizationType:s.index,authoritySeed:r,authorityOwner:v(i.toBuffer())}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:he,isSigner:!1,isWritable:!1}];return a&&u.push({pubkey:a,isSigner:!0,isWritable:!1}),(new ue).add({keys:u,programId:this.programId,data:c})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:n,splitStakePubkey:r,lamports:i}=e,o=Ae(cr.Split,{lamports:i});return new ce({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static split(e,t){const n=new ue;return n.add(Ce.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),n.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:n,authorizedPubkey:r,splitStakePubkey:i,basePubkey:o,seed:s,lamports:a}=e,c=new ue;return c.add(Ce.allocate({accountPubkey:i,basePubkey:o,seed:s,space:this.space,programId:this.programId})),t&&t>0&&c.add(Ce.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),c.add(this.splitInstruction({stakePubkey:n,authorizedPubkey:r,splitStakePubkey:i,lamports:a}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:n,authorizedPubkey:r}=e,i=Ae(cr.Merge);return(new ue).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:he,isSigner:!1,isWritable:!1},{pubkey:we,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:n,toPubkey:r,lamports:i,custodianPubkey:o}=e,s=Ae(cr.Withdraw,{lamports:i}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:he,isSigner:!1,isWritable:!1},{pubkey:we,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return o&&a.push({pubkey:o,isSigner:!0,isWritable:!1}),(new ue).add({keys:a,programId:this.programId,data:s})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:n}=e,r=Ae(cr.Deactivate);return(new ue).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:he,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}}dr.programId=new L("Stake11111111111111111111111111111111111111"),dr.space=200;class lr{constructor(e,t,n,r){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=n,this.commission=r}}class hr{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=l.Jq("instruction").decode(e.data);let n;for(const[e,r]of Object.entries(mr))if(r.index==t){n=e;break}if(!n)throw new Error("Instruction type incorrect; not a VoteInstruction");return n}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=Se(mr.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new lr(new L(t.nodePubkey),new L(t.authorizedVoter),new L(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:n}=Se(mr.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new L(t),voteAuthorizationType:{index:n}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:n,newAuthorized:r,voteAuthorizationType:i}}=Se(mr.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new L(t),currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:new L(r),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=Se(mr.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(pr.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const mr=Object.freeze({InitializeAccount:{index:0,layout:l.n_([l.Jq("instruction"),((e="voteInit")=>l.n_([$("nodePubkey"),$("authorizedVoter"),$("authorizedWithdrawer"),l.u8("commission")],e))()])},Authorize:{index:1,layout:l.n_([l.Jq("instruction"),$("newAuthorized"),l.Jq("voteAuthorizationType")])},Withdraw:{index:3,layout:l.n_([l.Jq("instruction"),l.gM("lamports")])},UpdateValidatorIdentity:{index:4,layout:l.n_([l.Jq("instruction")])},AuthorizeWithSeed:{index:10,layout:l.n_([l.Jq("instruction"),((e="voteAuthorizeWithSeedArgs")=>l.n_([l.Jq("voteAuthorizationType"),$("currentAuthorityDerivedKeyOwnerPubkey"),Z("currentAuthorityDerivedKeySeed"),$("newAuthorized")],e))()])}}),fr=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class pr{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:n,voteInit:r}=e,i=Ae(mr.InitializeAccount,{voteInit:{nodePubkey:v(r.nodePubkey.toBuffer()),authorizedVoter:v(r.authorizedVoter.toBuffer()),authorizedWithdrawer:v(r.authorizedWithdrawer.toBuffer()),commission:r.commission}}),o={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ge,isSigner:!1,isWritable:!1},{pubkey:he,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new ce(o)}static createAccount(e){const t=new ue;return t.add(Ce.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:n,newAuthorizedPubkey:r,voteAuthorizationType:i}=e,o=Ae(mr.Authorize,{newAuthorized:v(r.toBuffer()),voteAuthorizationType:i.index}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:he,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return(new ue).add({keys:s,programId:this.programId,data:o})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:s}=e,a=Ae(mr.AuthorizeWithSeed,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:v(n.toBuffer()),currentAuthorityDerivedKeySeed:r,newAuthorized:v(i.toBuffer()),voteAuthorizationType:o.index}}),c=[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:he,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return(new ue).add({keys:c,programId:this.programId,data:a})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:n,lamports:r,toPubkey:i}=e,o=Ae(mr.Withdraw,{lamports:r}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return(new ue).add({keys:s,programId:this.programId,data:o})}static safeWithdraw(e,t,n){if(e.lamports>t-n)throw new Error("Withdraw will leave vote account with insufficient funds.");return pr.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:n,nodePubkey:r}=e,i=Ae(mr.UpdateValidatorIdentity),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return(new ue).add({keys:o,programId:this.programId,data:i})}}pr.programId=new L("Vote111111111111111111111111111111111111111"),pr.space=3762;const gr=new L("Va1idator1nfo111111111111111111111111111111"),yr=(0,m.dt)({name:(0,m.Z_)(),website:(0,m.jt)((0,m.Z_)()),details:(0,m.jt)((0,m.Z_)()),keybaseUsername:(0,m.jt)((0,m.Z_)())});class br{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(2!==J(t))return null;const n=[];for(let e=0;e<2;e++){const e=new L(ne(t,0,W)),r=1===te(t);n.push({publicKey:e,isSigner:r})}if(n[0].publicKey.equals(gr)&&n[1].isSigner){const e=Z().decode(r.Buffer.from(t)),i=JSON.parse(e);return(0,m.hu)(i,yr),new br(n[1].publicKey,i)}return null}}const kr=new L("Vote111111111111111111111111111111111111111"),wr=l.n_([$("nodePubkey"),$("authorizedWithdrawer"),l.u8("commission"),l._O(),l.A9(l.n_([l._O("slot"),l.Jq("confirmationCount")]),l.cv(l.Jq(),-8),"votes"),l.u8("rootSlotValid"),l._O("rootSlot"),l._O(),l.A9(l.n_([l._O("epoch"),$("authorizedVoter")]),l.cv(l.Jq(),-8),"authorizedVoters"),l.n_([l.A9(l.n_([$("authorizedPubkey"),l._O("epochOfLastAuthorizedSwitch"),l._O("targetEpoch")]),32,"buf"),l._O("idx"),l.u8("isEmpty")],"priorVoters"),l._O(),l.A9(l.n_([l._O("epoch"),l._O("credits"),l._O("prevCredits")]),l.cv(l.Jq(),-8),"epochCredits"),l.n_([l._O("slot"),l._O("timestamp")],"lastTimestamp")]);class Ir{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const t=wr.decode(v(e),4);let n=t.rootSlot;return t.rootSlotValid||(n=null),new Ir({nodePubkey:new L(t.nodePubkey),authorizedWithdrawer:new L(t.authorizedWithdrawer),commission:t.commission,votes:t.votes,rootSlot:n,authorizedVoters:t.authorizedVoters.map(_r),priorVoters:Sr(t.priorVoters),epochCredits:t.epochCredits,lastTimestamp:t.lastTimestamp})}}function _r({authorizedVoter:e,epoch:t}){return{epoch:t,authorizedVoter:new L(e)}}function Ar({authorizedPubkey:e,epochOfLastAuthorizedSwitch:t,targetEpoch:n}){return{authorizedPubkey:new L(e),epochOfLastAuthorizedSwitch:t,targetEpoch:n}}function Sr({buf:e,idx:t,isEmpty:n}){return n?[]:[...e.slice(t+1).map(Ar),...e.slice(0,t).map(Ar)]}const Tr={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function xr(e,t){const n=!1===t?"http":"https";if(!e)return Tr[n].devnet;const r=Tr[n][e];if(!r)throw new Error(`Unknown ${n} cluster: ${e}`);return r}async function vr(e,t,n,r){let i,o;n&&Object.prototype.hasOwnProperty.call(n,"lastValidBlockHeight")||n&&Object.prototype.hasOwnProperty.call(n,"nonceValue")?(i=n,o=r):o=n;const s=o&&{skipPreflight:o.skipPreflight,preflightCommitment:o.preflightCommitment||o.commitment,minContextSlot:o.minContextSlot},a=await e.sendRawTransaction(t,s),c=o&&o.commitment,u=i?e.confirmTransaction(i,c):e.confirmTransaction(a,c),d=(await u).value;if(d.err)throw new Error(`Raw transaction ${a} failed (${JSON.stringify(d)})`);return a}const Pr=1e9},"../../../node_modules/thousands/index.js":e=>{e.exports=function(e,t){var n=((e||0===e?e:"")+"").split(".");return n.length&&(n[0]=n[0].replace(/(\d)(?=(\d{3})+\b)/g,"$1"+(t||","))),n.join(".")}},"../../../node_modules/@solana/codecs-core/dist/index.browser.js":(e,t,n)=>{n.d(t,{$o:()=>l,$t:()=>h,BV:()=>d,C6:()=>a,Mf:()=>c,Q3:()=>m,UF:()=>u,Y6:()=>o,f7:()=>i,sK:()=>p,wf:()=>f});var r=n("../../../node_modules/@solana/errors/dist/index.browser.js");function i(e,t,n=0){if(t.length-n<=0)throw new r.g1$(r.GS7,{codecDescription:e})}function o(e,t,n,i=0){const o=n.length-i;if(o<t)throw new r.g1$(r.on3,{bytesLength:o,codecDescription:e,expected:t})}var s=(e,t)=>((e,t)=>{if(e.length>=t)return e;const n=new Uint8Array(t).fill(0);return n.set(e),n})(e.length<=t?e:e.slice(0,t),t);function a(e,t){return"fixedSize"in t?t.fixedSize:t.getSizeFromValue(e)}function c(e){return Object.freeze({...e,encode:t=>{const n=new Uint8Array(a(t,e));return e.write(t,n,0),n}})}function u(e){return Object.freeze({...e,decode:(t,n=0)=>e.read(t,n)[0]})}function d(e){return"fixedSize"in e&&"number"==typeof e.fixedSize}function l(e){if(!d(e))throw new r.g1$(r.ksC)}function h(e,t){if(d(e)!==d(t))throw new r.g1$(r.$aB);if(d(e)&&d(t)&&e.fixedSize!==t.fixedSize)throw new r.g1$(r.zJs,{decoderFixedSize:t.fixedSize,encoderFixedSize:e.fixedSize});if(!d(e)&&!d(t)&&e.maxSize!==t.maxSize)throw new r.g1$(r.p9K,{decoderMaxSize:t.maxSize,encoderMaxSize:e.maxSize});return{...t,...e,decode:t.decode,encode:e.encode,read:t.read,write:e.write}}function m(e,t){return c({fixedSize:t,write:(n,r,i)=>{const o=e.encode(n),s=o.length>t?o.slice(0,t):o;return r.set(s,i),i+t}})}function f(e,t){return u({fixedSize:t,read:(n,r)=>{o("fixCodec",t,n,r),(r>0||n.length>t)&&(n=n.slice(r,r+t)),d(e)&&(n=s(n,e.fixedSize));const[i]=e.read(n,0);return[i,r+t]}})}function p(e,t){return c({...(n=e,d(n)?e:{...e,getSizeFromValue:n=>e.getSizeFromValue(t(n))}),write:(n,r,i)=>e.write(t(n),r,i)});var n}},"../../../node_modules/@solana/codecs-data-structures/dist/index.browser.js":(e,t,n)=>{n.d(t,{B9:()=>m,DU:()=>A,GK:()=>k,JF:()=>_,Q5:()=>I,Qw:()=>h,Vf:()=>d,gC:()=>w,ht:()=>p,qp:()=>f});var r=n("../../../node_modules/@solana/codecs-core/dist/index.browser.js"),i=n("../../../node_modules/@solana/codecs-numbers/dist/index.browser.js"),o=n("../../../node_modules/@solana/errors/dist/index.browser.js");function s(e,t,n){if(t!==n)throw new o.g1$(o.PgF,{actual:n,codecDescription:e,expected:t})}function a(e){return e.reduce(((e,t)=>null===e||null===t?null:e+t),0)}function c(e){return(0,r.BV)(e)?e.fixedSize:null}function u(e){return(0,r.BV)(e)?e.fixedSize:e.maxSize??null}function d(e,t={}){return(0,r.$t)(function(e,t={}){const n=t.size??(0,i.Nf)(),o=l(n,c(e)),a=l(n,u(e))??void 0;return(0,r.Mf)({...null!==o?{fixedSize:o}:{getSizeFromValue:t=>("object"==typeof n?(0,r.C6)(t.length,n):0)+[...t].reduce(((t,n)=>t+(0,r.C6)(n,e)),0),maxSize:a},write:(t,r,i)=>("number"==typeof n&&s("array",n,t.length),"object"==typeof n&&(i=n.write(t.length,r,i)),t.forEach((t=>{i=e.write(t,r,i)})),i)})}(e,t),function(e,t={}){const n=t.size??(0,i.Pz)(),o=c(e),s=l(n,o),a=l(n,u(e))??void 0;return(0,r.UF)({...null!==s?{fixedSize:s}:{maxSize:a},read:(t,r)=>{const i=[];if("object"==typeof n&&0===t.slice(r).length)return[i,r];if("remainder"===n){for(;r<t.length;){const[n,o]=e.read(t,r);r=o,i.push(n)}return[i,r]}const[o,s]="number"==typeof n?[n,r]:n.read(t,r);r=s;for(let n=0;n<o;n+=1){const[n,o]=e.read(t,r);r=o,i.push(n)}return[i,r]}})}(e,t))}function l(e,t){return"number"!=typeof e?null:0===e?0:null===t?null:t*e}function h(e={}){const t=e.size??(0,i.$L)();return(0,r.$o)(t),(0,r.sK)(t,(e=>e?1:0))}function m(e={}){const t=e.size??"variable",n=(0,r.Mf)({getSizeFromValue:e=>e.length,write:(e,t,n)=>(t.set(e,n),n+e.length)});return"variable"===t?n:"number"==typeof t?(0,r.Q3)(n,t):(0,r.Mf)({getSizeFromValue:e=>(0,r.C6)(e.length,t)+e.length,write:(e,r,i)=>(i=t.write(e.length,r,i),n.write(e,r,i))})}function f(e={}){return(0,r.$t)(m(e),function(e={}){const t=e.size??"variable",n=(0,r.UF)({read:(e,t)=>{const n=e.slice(t);return[n,t+n.length]}});return"variable"===t?n:"number"==typeof t?(0,r.wf)(n,t):(0,r.UF)({read:(e,i)=>{(0,r.f7)("bytes",e,i);const[o,s]=t.read(e,i),a=Number(o);i=s;const c=e.slice(i,i+a);(0,r.Y6)("bytes",a,c);const[u,d]=n.read(c,0);return[u,i+=d]}})}(e))}function p(e,t={}){return(0,r.$t)(function(e,t={}){const n=t.size??(0,i.$L)(),o=g(e,n);return(0,r.Mf)({...null!==o?{fixedSize:o}:{getSizeFromValue:t=>{const i=b(e,t),o=e[i][1];return(0,r.C6)(i,n)+(0,r.C6)(t,o)},maxSize:y(e,n)},write:(t,r,i)=>{const o=b(e,t);return i=n.write(o,r,i),e[o][1].write(t,r,i)}})}(e,t),function(e,t={}){const n=t.size??(0,i.RS)(),s=g(e,n);return(0,r.UF)({...null!==s?{fixedSize:s}:{maxSize:y(e,n)},read:(t,i)=>{(0,r.f7)("dataEnum",t,i);const[s,a]=n.read(t,i);i=a;const c=e[Number(s)]??null;if(!c)throw new o.g1$(o.$EK,{discriminator:s,maxRange:e.length-1,minRange:0});const[u,d]=c[1].read(t,i);return i=d,[{__kind:c[0],...u??{}},i]}})}(e,t))}function g(e,t){if(0===e.length)return(0,r.BV)(t)?t.fixedSize:null;if(!(0,r.BV)(e[0][1]))return null;const n=e[0][1].fixedSize;return e.every((e=>(0,r.BV)(e[1])&&e[1].fixedSize===n))&&(0,r.BV)(t)?t.fixedSize+n:null}function y(e,t){const n=e.map((([,e])=>u(e))).reduce(((e,t)=>null===e||null===t?null:Math.max(e,t)),0);return a([u(t),n])??void 0}function b(e,t){const n=e.findIndex((([e])=>t.__kind===e));if(n<0)throw new o.g1$(o.Bq8,{value:t.__kind,variants:e.map((([e])=>e))});return n}function k(e){const t=a(e.map(c)),n=a(e.map(u))??void 0;return(0,r.Mf)({...null===t?{getSizeFromValue:t=>e.map(((e,n)=>(0,r.C6)(t[n],e))).reduce(((e,t)=>e+t),0),maxSize:n}:{fixedSize:t},write:(t,n,r)=>(s("tuple",e.length,t.length),e.forEach(((e,i)=>{r=e.write(t[i],n,r)})),r)})}function w(e){return(0,r.$t)(k(e),function(e){const t=a(e.map(c)),n=a(e.map(u))??void 0;return(0,r.UF)({...null===t?{maxSize:n}:{fixedSize:t},read:(t,n)=>{const r=[];return e.forEach((e=>{const[i,o]=e.read(t,n);r.push(i),n=o})),[r,n]}})}(e))}function I(e){const t=e.map((([,e])=>e)),n=a(t.map(c)),i=a(t.map(u))??void 0;return(0,r.Mf)({...null===n?{getSizeFromValue:t=>e.map((([e,n])=>(0,r.C6)(t[e],n))).reduce(((e,t)=>e+t),0),maxSize:i}:{fixedSize:n},write:(t,n,r)=>(e.forEach((([e,i])=>{r=i.write(t[e],n,r)})),r)})}function _(e){return(0,r.$t)(I(e),function(e){const t=e.map((([,e])=>e)),n=a(t.map(c)),i=a(t.map(u))??void 0;return(0,r.UF)({...null===n?{maxSize:i}:{fixedSize:n},read:(t,n)=>{const r={};return e.forEach((([e,i])=>{const[o,s]=i.read(t,n);n=s,r[e]=o})),[r,n]}})}(e))}function A(){return(0,r.$t)((0,r.Mf)({fixedSize:0,write:(e,t,n)=>n}),(0,r.UF)({fixedSize:0,read:(e,t)=>[void 0,t]}))}},"../../../node_modules/@solana/codecs-numbers/dist/index.browser.js":(e,t,n)=>{n.d(t,{$L:()=>h,Nf:()=>c,Pz:()=>u,RS:()=>m,YY:()=>d,bP:()=>l});var r=n("../../../node_modules/@solana/errors/dist/index.browser.js"),i=n("../../../node_modules/@solana/codecs-core/dist/index.browser.js");function o(e){return 1!==e?.endian}function s(e){return(0,i.Mf)({fixedSize:e.size,write(t,n,i){e.range&&function(e,t,n,i){if(i<t||i>n)throw new r.g1$(r.Fc5,{codecDescription:e,max:n,min:t,value:i})}(e.name,e.range[0],e.range[1],t);const s=new ArrayBuffer(e.size);return e.set(new DataView(s),t,o(e.config)),n.set(new Uint8Array(s),i),i+e.size}})}function a(e){return(0,i.UF)({fixedSize:e.size,read(t,n=0){(0,i.f7)(e.name,t,n),(0,i.Y6)(e.name,e.size,t,n);const r=new DataView(function(e,t,n){const r=e.byteOffset+(t??0),i=n??e.byteLength;return e.buffer.slice(r,r+i)}(t,n,e.size));return[e.get(r,o(e.config)),n+e.size]}})}var c=(e={})=>s({config:e,name:"u32",range:[0,Number("0xffffffff")],set:(e,t,n)=>e.setUint32(0,t,n),size:4}),u=(e={})=>a({config:e,get:(e,t)=>e.getUint32(0,t),name:"u32",size:4}),d=(e={})=>(0,i.$t)(c(e),u(e)),l=(e={})=>s({config:e,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,t,n)=>e.setBigUint64(0,BigInt(t),n),size:8}),h=()=>s({name:"u8",range:[0,Number("0xff")],set:(e,t)=>e.setUint8(0,t),size:1}),m=()=>a({get:e=>e.getUint8(0),name:"u8",size:1})},"../../../node_modules/@solana/errors/dist/index.browser.js":(e,t,n)=>{n.d(t,{$EK:()=>En,$aB:()=>Tn,Bq8:()=>Rn,Fc5:()=>Cn,GS7:()=>In,PgF:()=>Pn,g1$:()=>Xn,ksC:()=>An,on3:()=>_n,p9K:()=>vn,zJs:()=>xn});var r=(()=>!1)(),i=1,o=2,s=3,a=4,c=5,u=6,d=7,l=8,h=9,m=-32700,f=-32603,p=-32602,g=-32601,y=-32600,b=-32016,k=-32015,w=-32014,I=-32013,_=-32012,A=-32011,S=-32010,T=-32009,x=-32008,v=-32007,P=-32006,E=-32005,R=-32004,B=-32003,C=-32002,z=-32001,W=28e5,M=2800001,L=2800002,O=2800003,K=2800004,j=2800005,U=2800006,N=2800007,F=2800008,q=2800009,D=2800010,H=323e4,$=32300001,G=3230002,Z=3230003,V=3230004,J=361e4,X=3610001,Y=3610002,Q=3610003,ee=3610004,te=3610005,ne=3610006,re=3704e3,ie=3704001,oe=3704002,se=3704003,ae=4128e3,ce=4128001,ue=4128002,de=4615e3,le=4615001,he=4615002,me=4615003,fe=4615004,pe=4615005,ge=4615006,ye=4615007,be=4615008,ke=4615009,we=4615010,Ie=4615011,_e=4615012,Ae=4615013,Se=4615014,Te=4615015,xe=4615016,ve=4615017,Pe=4615018,Ee=4615019,Re=4615020,Be=4615021,Ce=4615022,ze=4615023,We=4615024,Me=4615025,Le=4615026,Oe=4615027,Ke=4615028,je=4615029,Ue=4615030,Ne=4615031,Fe=4615032,qe=4615033,De=4615034,He=4615035,$e=4615036,Ge=4615037,Ze=4615038,Ve=4615039,Je=4615040,Xe=4615041,Ye=4615042,Qe=4615043,et=4615044,tt=4615045,nt=4615046,rt=4615047,it=4615048,ot=4615049,st=4615050,at=4615051,ct=4615052,ut=4615053,dt=4615054,lt=5508e3,ht=5508001,mt=5508002,ft=5508003,pt=5508004,gt=5508005,yt=5508006,bt=5508007,kt=5508008,wt=5508009,It=5508010,_t=5663e3,At=5663001,St=5663002,Tt=5663003,xt=5663004,vt=5663005,Pt=5663006,Et=5663007,Rt=5663008,Bt=5663009,Ct=5663010,zt=5663011,Wt=5663012,Mt=5663013,Lt=5663014,Ot=705e4,Kt=7050001,jt=7050002,Ut=7050003,Nt=7050004,Ft=7050005,qt=7050006,Dt=7050007,Ht=7050008,$t=7050009,Gt=7050010,Zt=7050011,Vt=7050012,Jt=7050013,Xt=7050014,Yt=7050015,Qt=7050016,en=7050017,tn=7050018,nn=7050019,rn=7050020,on=7050021,sn=7050022,an=7050023,cn=7050024,un=7050025,dn=7050026,ln=7050027,hn=7050028,mn=7050029,fn=7050030,pn=7050031,gn=7050032,yn=7050033,bn=7050034,kn=7050035,wn=7050036,In=8078e3,_n=8078001,An=8078002,Sn=8078003,Tn=8078004,xn=8078005,vn=8078006,Pn=8078007,En=8078008,Rn=8078009,Bn=8078010,Cn=8078011,zn=8078012,Wn=8078013,Mn=8078014,Ln=81e5,On=8100001,Kn=8100002,jn=819e4,Un=8190001,Nn=8190002,Fn=8190003,qn=8190004,Dn=99e5,Hn=9900001,$n=9900002,Gn=9900003,Zn={[H]:"Account not found at address: $address",[V]:"Not all accounts were decoded. Encoded accounts found at addresses: $addresses.",[Z]:"Expected decoded account at address: $address",[G]:"Failed to decode account data at address: $address",[$]:"Accounts not found at addresses: $addresses",[q]:"Unable to find a viable program address bump seed.",[L]:"$putativeAddress is not a base58-encoded address.",[W]:"Expected base58 encoded address to decode to a byte array of length 32. Actual length: $actualLength.",[O]:"The `CryptoKey` must be an `Ed25519` public key.",[F]:"Invalid seeds; point must fall off the Ed25519 curve.",[K]:"Expected given program derived address to have the following format: [Address, ProgramDerivedAddressBump].",[U]:"A maximum of $maxSeeds seeds, including the bump seed, may be supplied when creating an address. Received: $actual.",[N]:"The seed at index $index with length $actual exceeds the maximum length of $maxSeedLength bytes.",[j]:"Expected program derived address bump to be in the range [0, 255], got: $bump.",[D]:"Program address cannot end with PDA marker.",[M]:"Expected base58-encoded address string of length in the range [32, 44]. Actual length: $actualLength.",[a]:"Expected base58-encoded blockash string of length in the range [32, 44]. Actual length: $actualLength.",[i]:"The network has progressed past the last block for which this transaction could have been committed.",[In]:"Codec [$codecDescription] cannot decode empty byte arrays.",[xn]:"Encoder and decoder must have the same fixed size, got [$encoderFixedSize] and [$decoderFixedSize].",[vn]:"Encoder and decoder must have the same max size, got [$encoderMaxSize] and [$decoderMaxSize].",[Tn]:"Encoder and decoder must either both be fixed-size or variable-size.",[En]:"Enum discriminator out of range. Expected a number between $minRange and $maxRange, got $discriminator.",[An]:"Expected a fixed-size codec, got a variable-size one.",[Wn]:"Codec [$codecDescription] expected a positive byte length, got $bytesLength.",[Sn]:"Expected a variable-size codec, got a fixed-size one.",[_n]:"Codec [$codecDescription] expected $expected bytes, got $bytesLength.",[Rn]:"Invalid data enum variant. Expected one of [$variants], got $value.",[Pn]:"Expected [$codecDescription] to have $expected items, got $actual.",[Bn]:"Invalid scalar enum variant. Expected one of [$variants] or a number between $minRange and $maxRange, got $value.",[zn]:"Invalid value $value for base $base with alphabet $alphabet.",[Cn]:"Codec [$codecDescription] expected number to be in the range [$min, $max], got $value.",[Mn]:"Codec [$codecDescription] expected offset to be in the range [0, $bytesLength], got $offset.",[ke]:"instruction requires an uninitialized account",[ze]:"instruction tries to borrow reference for an account which is already borrowed",[We]:"instruction left account with an outstanding borrowed reference",[Be]:"program other than the account's owner changed the size of the account data",[pe]:"account data too small for instruction",[Ce]:"instruction expected an executable account",[nt]:"An account does not have enough lamports to be rent-exempt",[it]:"Program arithmetic overflowed",[tt]:"Failed to serialize or deserialize account data: $encodedData",[dt]:"Builtin programs must consume compute units",[Fe]:"Cross-program invocation call depth too deep",[Ze]:"Computational budget exceeded",[Le]:"custom program error: #$code",[ve]:"instruction contains duplicate accounts",[Me]:"instruction modifications of multiply-passed account differ",[Ue]:"executable accounts must be rent exempt",[Ke]:"instruction changed executable accounts data",[je]:"instruction changed the balance of an executable account",[Pe]:"instruction changed executable bit of an account",[Se]:"instruction modified data of an account it does not own",[Ae]:"instruction spent from the balance of an account it does not own",[le]:"generic instruction error",[st]:"Provided owner is not allowed",[Qe]:"Account is immutable",[et]:"Incorrect authority provided",[ye]:"incorrect program id for instruction",[ge]:"insufficient funds for instruction",[fe]:"invalid account data for instruction",[rt]:"Invalid account owner",[he]:"invalid program argument",[Oe]:"program returned invalid error code",[me]:"invalid instruction data",[Ge]:"Failed to reallocate account data",[$e]:"Provided seeds do not result in a valid address",[at]:"Accounts data allocations exceeded the maximum allowed per transaction",[ct]:"Max accounts exceeded",[ut]:"Max instruction trace length exceeded",[He]:"Length of the seed is too long for address generation",[qe]:"An account required by the instruction is missing",[be]:"missing required signature for instruction",[_e]:"instruction illegally modified the program id of an account",[Re]:"insufficient account keys for instruction",[Ve]:"Cross-program invocation with unauthorized signer or writable account",[Je]:"Failed to create program execution environment",[Ye]:"Program failed to compile",[Xe]:"Program failed to complete",[xe]:"instruction modified data of a read-only account",[Te]:"instruction changed the balance of a read-only account",[De]:"Cross-program invocation reentrancy not allowed for this instruction",[Ee]:"instruction modified rent epoch of an account",[Ie]:"sum of account balances before and after instruction do not match",[we]:"instruction requires an initialized account",[de]:"",[Ne]:"Unsupported program id",[ot]:"Unsupported sysvar",[ae]:"The instruction does not have any accounts.",[ce]:"The instruction does not have any data.",[ue]:"Expected instruction to have progress address $expectedProgramAddress, got $actualProgramAddress.",[c]:"Expected base58 encoded blockhash to decode to a byte array of length 32. Actual length: $actualLength.",[o]:"The nonce `$expectedNonceValue` is no longer valid. It has advanced to `$actualNonceValue`",[$n]:"Invariant violation: Found no abortable iterable cache entry for key `$cacheKey`. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[Gn]:"Invariant violation: Switch statement non-exhaustive. Received unexpected value `$unexpectedValue`. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[Hn]:"Invariant violation: WebSocket message iterator state is corrupt; iterated without first resolving existing message promise. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[Dn]:"Invariant violation: WebSocket message iterator is missing state storage. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[f]:"JSON-RPC error: Internal JSON-RPC error ($__serverMessage)",[p]:"JSON-RPC error: Invalid method parameter(s) ($__serverMessage)",[y]:"JSON-RPC error: The JSON sent is not a valid `Request` object ($__serverMessage)",[g]:"JSON-RPC error: The method does not exist / is not available ($__serverMessage)",[m]:"JSON-RPC error: An error occurred on the server while parsing the JSON text ($__serverMessage)",[_]:"$__serverMessage",[z]:"$__serverMessage",[R]:"$__serverMessage",[w]:"$__serverMessage",[S]:"$__serverMessage",[T]:"$__serverMessage",[b]:"Minimum context slot has not been reached",[E]:"Node is unhealthy; behind by $numSlotsBehind slots",[x]:"No snapshot",[C]:"Transaction simulation failed",[v]:"$__serverMessage",[A]:"Transaction history is not available from this node",[P]:"$__serverMessage",[I]:"Transaction signature length mismatch",[B]:"Transaction signature verification failure",[k]:"$__serverMessage",[re]:"Key pair bytes must be of length 64, got $byteLength.",[ie]:"Expected private key bytes with length 32. Actual length: $actualLength.",[oe]:"Expected base58-encoded signature to decode to a byte array of length 64. Actual length: $actualLength.",[se]:"Expected base58-encoded signature string of length in the range [64, 88]. Actual length: $actualLength.",[u]:"Lamports value must be in the range [0, 2e64-1]",[d]:"`$value` cannot be parsed as a `BigInt`",[l]:"`$value` cannot be parsed as a `Number`",[s]:"No nonce account could be found at address `$nonceAccountAddress`",[jn]:"Either the notification name must end in 'Notifications' or the API must supply a subscription creator function for the notification '$notificationName' to map between the notification name and the subscribe/unsubscribe method names.",[Un]:"Failed to obtain a subscription id from the server",[Nn]:"WebSocket was closed before payload could be added to the send buffer",[Fn]:"WebSocket connection closed",[qn]:"WebSocket failed to connect",[Ln]:"The $argumentLabel argument to the `$methodName` RPC method$optionalPathLabel was `$value`. This number is unsafe for use with the Solana JSON-RPC because it exceeds `Number.MAX_SAFE_INTEGER`.",[Kn]:"HTTP error ($statusCode): $message",[On]:"HTTP header(s) forbidden: $headers. Learn more at https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name.",[lt]:"Multiple distinct signers were identified for address `$address`. Please ensure that you are using the same signer instance for each address.",[ht]:"The provided value does not implement the `KeyPairSigner` interface",[ft]:"The provided value does not implement the `MessageModifyingSigner` interface",[pt]:"The provided value does not implement the `MessagePartialSigner` interface",[mt]:"The provided value does not implement any of the `MessageSigner` interfaces",[yt]:"The provided value does not implement the `TransactionModifyingSigner` interface",[bt]:"The provided value does not implement the `TransactionPartialSigner` interface",[kt]:"The provided value does not implement the `TransactionSendingSigner` interface",[gt]:"The provided value does not implement any of the `TransactionSigner` interfaces",[wt]:"More than one `TransactionSendingSigner` was identified.",[It]:"No `TransactionSendingSigner` was identified. Please provide a valid `ITransactionWithSingleSendingSigner` transaction.",[X]:"No digest implementation could be found.",[J]:"Cryptographic operations are only allowed in secure browser contexts. Read more here: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts.",[Y]:"This runtime does not support the generation of Ed25519 key pairs.\n\nInstall and import `@solana/webcrypto-ed25519-polyfill` before generating keys in environments that do not support Ed25519.\n\nFor a list of runtimes that currently support Ed25519 operations, visit https://github.com/WICG/webcrypto-secure-curves/issues/20.",[Q]:"No signature verification implementation could be found.",[ee]:"No key generation implementation could be found.",[te]:"No signing implementation could be found.",[ne]:"No key export implementation could be found.",[h]:"Timestamp value must be in the range [-8.64e15, 8.64e15]. `$value` given",[Qt]:"Transaction processing left an account with an outstanding borrowed reference",[Kt]:"Account in use",[jt]:"Account loaded twice",[Ut]:"Attempt to debit an account but found no record of a prior credit.",[an]:"Transaction loads an address table account that doesn't exist",[Dt]:"This transaction has already been processed",[Ht]:"Blockhash not found",[$t]:"Loader call chain is too deep",[Yt]:"Transactions are currently disabled due to cluster maintenance",[fn]:"Transaction contains a duplicate instruction ($index) that is not allowed",[Ft]:"Insufficient funds for fee",[pn]:"Transaction results in an account ($accountIndex) with insufficient funds for rent",[qt]:"This account may not be used to pay transaction fees",[Zt]:"Transaction contains an invalid account reference",[un]:"Transaction loads an address table account with invalid data",[dn]:"Transaction address table lookup uses an invalid index",[cn]:"Transaction loads an address table account with an invalid owner",[yn]:"LoadedAccountsDataSizeLimit set for transaction must be greater than 0.",[Jt]:"This program may not be used for executing instructions",[ln]:"Transaction leaves an account with a lower balance than rent-exempt minimum",[nn]:"Transaction loads a writable account that cannot be written",[gn]:"Transaction exceeded max loaded accounts data size cap",[Gt]:"Transaction requires a fee but has no signature present",[Nt]:"Attempt to load a program that does not exist",[kn]:"Execution of the program referenced by account at index $accountIndex is temporarily restricted.",[bn]:"ResanitizationNeeded",[Xt]:"Transaction failed to sanitize accounts offsets correctly",[Vt]:"Transaction did not pass signature verification",[sn]:"Transaction locked too many accounts",[wn]:"Sum of account balances before and after transaction do not match",[Ot]:"The transaction failed with the error `$errorName`",[tn]:"Transaction version is unsupported",[on]:"Transaction would exceed account data limit within the block",[mn]:"Transaction would exceed total account data limit",[rn]:"Transaction would exceed max account limit within the block",[en]:"Transaction would exceed max Block Cost Limit",[hn]:"Transaction would exceed max Vote Cost Limit",[Ct]:"Transaction is missing an address at index: $index.",[St]:"Transaction does not have a blockhash lifetime",[Tt]:"Transaction is not a durable nonce transaction",[vt]:"Contents of these address lookup tables unknown: $lookupTableAddresses",[Pt]:"Lookup of address at index $highestRequestedIndex failed for lookup table `$lookupTableAddress`. Highest known index is $highestKnownIndex. The lookup table may have been extended since its contents were retrieved",[Rt]:"No fee payer set in CompiledTransaction",[Et]:"Could not find program address at index $index",[zt]:"Transaction is missing a fee payer.",[Wt]:"Could not determine this transaction's signature. Make sure that the transaction has been signed by its fee payer.",[Lt]:"Transaction first instruction is not advance nonce account instruction.",[Mt]:"Transaction with no instructions cannot be durable nonce transaction.",[_t]:"This transaction includes an address (`$programAddress`) which is both invoked and set as the fee payer. Program addresses may not pay fees",[At]:"This transaction includes an address (`$programAddress`) which is both invoked and marked writable. Program addresses may not be writable",[Bt]:"Transaction is missing signatures for addresses: $addresses.",[xt]:"Transaction version must be in the range [0, 127]. `$actualVersion` given"};function Vn(e){return Array.isArray(e)?"%5B"+e.map((e=>"string"==typeof e?encodeURIComponent(`"${e.replace(/"/g,'\\"')}"`):Vn(e))).join("%2C%20")+"%5D":"bigint"==typeof e?`${e}n`:encodeURIComponent(String(null!=e&&null===Object.getPrototypeOf(e)?{...e}:e))}function Jn([e,t]){return`${e}=${Vn(t)}`}var Xn=class extends Error{context;constructor(...[e,t]){let n,i;if(t){const{cause:e,...r}=t;e&&(i={cause:e}),Object.keys(r).length>0&&(n=r)}super(function(e,t={}){if(r)return function(e,t={}){return Zn[e].replace(/(?<!\\)\$(\w+)/g,((e,n)=>n in t?`${t[n]}`:e))}(e,t);{let n=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode ${e}`;return Object.keys(t).length&&(n+=` $"${function(e){return Object.entries(e).map(Jn).join("&")}(t)}"`),`${n}\``}}(e,n),i),this.context={__code:e,...n},this.name="SolanaError"}}},"../../../node_modules/@solana/spl-token-group/lib/esm/state/tokenGroup.js":(e,t,n)=>{n.d(t,{AK:()=>a,no:()=>c});var r=n("../../../node_modules/@solana/web3.js/lib/index.browser.esm.js"),i=n("../../../node_modules/@solana/codecs-data-structures/dist/index.browser.js"),o=n("../../../node_modules/@solana/codecs-numbers/dist/index.browser.js");const s=(0,i.JF)([["updateAuthority",(0,i.qp)({size:32})],["mint",(0,i.qp)({size:32})],["size",(0,o.YY)()],["maxSize",(0,o.YY)()]]),a=s.fixedSize;function c(e){const t=s.decode(e);return function(e){for(let t=0;t<e.length;t++)if(0!==e[t])return!1;return!0}(t.updateAuthority)?{mint:new r.PublicKey(t.mint),size:t.size,maxSize:t.maxSize}:{updateAuthority:new r.PublicKey(t.updateAuthority),mint:new r.PublicKey(t.mint),size:t.size,maxSize:t.maxSize}}},"../../../node_modules/@solana/spl-token-group/lib/esm/state/tokenGroupMember.js":(e,t,n)=>{n.d(t,{Ff:()=>c,_h:()=>a});var r=n("../../../node_modules/@solana/web3.js/lib/index.browser.esm.js"),i=n("../../../node_modules/@solana/codecs-data-structures/dist/index.browser.js"),o=n("../../../node_modules/@solana/codecs-numbers/dist/index.browser.js");const s=(0,i.JF)([["mint",(0,i.qp)({size:32})],["group",(0,i.qp)({size:32})],["memberNumber",(0,o.YY)()]]),a=s.fixedSize;function c(e){const t=s.decode(e);return{mint:new r.PublicKey(t.mint),group:new r.PublicKey(t.group),memberNumber:t.memberNumber}}},"../../../node_modules/@solana/spl-token/lib/esm/constants.js":(e,t,n)=>{n.d(t,{Gd:()=>a,H_:()=>i,Yx:()=>c,_u:()=>s,lP:()=>u,nA:()=>o});var r=n("../../../node_modules/@solana/web3.js/lib/index.browser.esm.js");const i=new r.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),o=new r.PublicKey("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"),s=new r.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),a=new r.PublicKey("So11111111111111111111111111111111111111112"),c=new r.PublicKey("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");function u(e){return!e.equals(i)}},"../../../node_modules/@solana/spl-token/lib/esm/errors.js":(e,t,n)=>{n.d(t,{$O:()=>c,BT:()=>g,Di:()=>m,Gl:()=>l,In:()=>p,Ju:()=>b,Or:()=>a,PZ:()=>s,WK:()=>r,We:()=>i,Z0:()=>f,bQ:()=>d,fu:()=>y,iK:()=>o,iT:()=>u,xR:()=>k,yh:()=>h});class r extends Error{constructor(e){super(e)}}class i extends r{constructor(){super(...arguments),this.name="TokenAccountNotFoundError"}}class o extends r{constructor(){super(...arguments),this.name="TokenInvalidAccountError"}}class s extends r{constructor(){super(...arguments),this.name="TokenInvalidAccountDataError"}}class a extends r{constructor(){super(...arguments),this.name="TokenInvalidAccountOwnerError"}}class c extends r{constructor(){super(...arguments),this.name="TokenInvalidAccountSizeError"}}class u extends r{constructor(){super(...arguments),this.name="TokenInvalidMintError"}}class d extends r{constructor(){super(...arguments),this.name="TokenInvalidOwnerError"}}class l extends r{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}class h extends r{constructor(){super(...arguments),this.name="TokenInvalidInstructionProgramError"}}class m extends r{constructor(){super(...arguments),this.name="TokenInvalidInstructionKeysError"}}class f extends r{constructor(){super(...arguments),this.name="TokenInvalidInstructionDataError"}}class p extends r{constructor(){super(...arguments),this.name="TokenInvalidInstructionTypeError"}}class g extends r{constructor(){super(...arguments),this.name="TokenUnsupportedInstructionError"}}class y extends r{constructor(){super(...arguments),this.name="TokenTransferHookAccountNotFound"}}class b extends r{constructor(){super(...arguments),this.name="TokenTransferHookInvalidSeed"}}class k extends r{constructor(){super(...arguments),this.name="TokenTransferHookAccountDataNotFound"}}},"../../../node_modules/@solana/spl-token/lib/esm/extensions/accountType.js":(e,t,n)=>{var r;n.d(t,{Q:()=>r,t:()=>i}),function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Mint=1]="Mint",e[e.Account=2]="Account"}(r||(r={}));const i=1},"../../../node_modules/@solana/spl-token/lib/esm/extensions/cpiGuard/state.js":(e,t,n)=>{n.d(t,{Uu:()=>a,sz:()=>c,zc:()=>s});var r=n("../../../node_modules/@solana/buffer-layout/lib/Layout.js"),i=n("../../../node_modules/@solana/buffer-layout-utils/lib/esm/index.mjs"),o=n("../../../node_modules/@solana/spl-token/lib/esm/extensions/extensionType.js");const s=(0,r.n_)([(0,i.Xg)("lockCpi")]),a=s.span;function c(e){const t=(0,o.mq)(o.nw.CpiGuard,e.tlvData);return null!==t?s.decode(t):null}},"../../../node_modules/@solana/spl-token/lib/esm/extensions/defaultAccountState/state.js":(e,t,n)=>{n.d(t,{AK:()=>o,Li:()=>s,ld:()=>a});var r=n("../../../node_modules/@solana/buffer-layout/lib/Layout.js"),i=n("../../../node_modules/@solana/spl-token/lib/esm/extensions/extensionType.js");const o=(0,r.n_)([(0,r.u8)("state")]),s=o.span;function a(e){const t=(0,i.mq)(i.nw.DefaultAccountState,e.tlvData);return null!==t?o.decode(t):null}},"../../../node_modules/@solana/spl-token/lib/esm/extensions/extensionType.js":(e,t,n)=>{n.d(t,{BY:()=>O,F7:()=>T,Oh:()=>P,VU:()=>E,Vv:()=>M,Xh:()=>z,_q:()=>S,fv:()=>L,jF:()=>R,jk:()=>C,mq:()=>W,nw:()=>r,wd:()=>v});var r,i=n("../../../node_modules/@solana/spl-token/lib/esm/state/account.js"),o=n("../../../node_modules/@solana/spl-token/lib/esm/state/mint.js"),s=n("../../../node_modules/@solana/spl-token/lib/esm/state/multisig.js"),a=n("../../../node_modules/@solana/spl-token/lib/esm/extensions/accountType.js"),c=n("../../../node_modules/@solana/spl-token/lib/esm/extensions/cpiGuard/state.js"),u=n("../../../node_modules/@solana/spl-token/lib/esm/extensions/defaultAccountState/state.js"),d=n("../../../node_modules/@solana/spl-token-group/lib/esm/state/tokenGroup.js"),l=n("../../../node_modules/@solana/spl-token-group/lib/esm/state/tokenGroupMember.js"),h=n("../../../node_modules/@solana/spl-token/lib/esm/extensions/groupMemberPointer/state.js"),m=n("../../../node_modules/@solana/spl-token/lib/esm/extensions/groupPointer/state.js"),f=n("../../../node_modules/@solana/spl-token/lib/esm/extensions/immutableOwner.js"),p=n("../../../node_modules/@solana/spl-token/lib/esm/extensions/interestBearingMint/state.js"),g=n("../../../node_modules/@solana/spl-token/lib/esm/extensions/memoTransfer/state.js"),y=n("../../../node_modules/@solana/spl-token/lib/esm/extensions/metadataPointer/state.js"),b=n("../../../node_modules/@solana/spl-token/lib/esm/extensions/mintCloseAuthority.js"),k=n("../../../node_modules/@solana/spl-token/lib/esm/extensions/nonTransferable.js"),w=n("../../../node_modules/@solana/spl-token/lib/esm/extensions/permanentDelegate.js"),I=n("../../../node_modules/@solana/spl-token/lib/esm/extensions/transferFee/state.js"),_=n("../../../node_modules/@solana/spl-token/lib/esm/extensions/transferHook/state.js"),A=n("../../../node_modules/@solana/spl-token/lib/esm/constants.js");!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.TransferFeeConfig=1]="TransferFeeConfig",e[e.TransferFeeAmount=2]="TransferFeeAmount",e[e.MintCloseAuthority=3]="MintCloseAuthority",e[e.ConfidentialTransferMint=4]="ConfidentialTransferMint",e[e.ConfidentialTransferAccount=5]="ConfidentialTransferAccount",e[e.DefaultAccountState=6]="DefaultAccountState",e[e.ImmutableOwner=7]="ImmutableOwner",e[e.MemoTransfer=8]="MemoTransfer",e[e.NonTransferable=9]="NonTransferable",e[e.InterestBearingConfig=10]="InterestBearingConfig",e[e.CpiGuard=11]="CpiGuard",e[e.PermanentDelegate=12]="PermanentDelegate",e[e.NonTransferableAccount=13]="NonTransferableAccount",e[e.TransferHook=14]="TransferHook",e[e.TransferHookAccount=15]="TransferHookAccount",e[e.MetadataPointer=18]="MetadataPointer",e[e.TokenMetadata=19]="TokenMetadata",e[e.GroupPointer=20]="GroupPointer",e[e.TokenGroup=21]="TokenGroup",e[e.GroupMemberPointer=22]="GroupMemberPointer",e[e.TokenGroupMember=23]="TokenGroupMember"}(r||(r={}));const S=2,T=2;function x(e){return e+S+T}function v(e){switch(e){case r.Uninitialized:return 0;case r.TransferFeeConfig:return I.et;case r.TransferFeeAmount:return I.jz;case r.MintCloseAuthority:return b.kZ;case r.ConfidentialTransferMint:return 65;case r.ConfidentialTransferAccount:return 295;case r.CpiGuard:return c.Uu;case r.DefaultAccountState:return u.Li;case r.ImmutableOwner:return f.pS;case r.MemoTransfer:return g.Vl;case r.MetadataPointer:return y.ys;case r.NonTransferable:return k.Yv;case r.InterestBearingConfig:return p.Me;case r.PermanentDelegate:return w.$;case r.NonTransferableAccount:return k.X5;case r.TransferHook:return _.rd;case r.TransferHookAccount:return _.xc;case r.GroupPointer:return m.b7;case r.GroupMemberPointer:return h.Mb;case r.TokenGroup:return d.AK;case r.TokenGroupMember:return l._h;case r.TokenMetadata:throw Error(`Cannot get type length for variable extension type: ${e}`);default:throw Error(`Unknown extension type: ${e}`)}}function P(e){switch(e){case r.TransferFeeConfig:case r.MintCloseAuthority:case r.ConfidentialTransferMint:case r.DefaultAccountState:case r.NonTransferable:case r.InterestBearingConfig:case r.PermanentDelegate:case r.TransferHook:case r.MetadataPointer:case r.TokenMetadata:case r.GroupPointer:case r.GroupMemberPointer:case r.TokenGroup:case r.TokenGroupMember:return!0;case r.Uninitialized:case r.TransferFeeAmount:case r.ConfidentialTransferAccount:case r.ImmutableOwner:case r.MemoTransfer:case r.CpiGuard:case r.NonTransferableAccount:case r.TransferHookAccount:return!1;default:throw Error(`Unknown extension type: ${e}`)}}function E(e){switch(e){case r.TransferFeeAmount:case r.ConfidentialTransferAccount:case r.ImmutableOwner:case r.MemoTransfer:case r.CpiGuard:case r.NonTransferableAccount:case r.TransferHookAccount:return!0;case r.Uninitialized:case r.TransferFeeConfig:case r.MintCloseAuthority:case r.ConfidentialTransferMint:case r.DefaultAccountState:case r.NonTransferable:case r.InterestBearingConfig:case r.PermanentDelegate:case r.TransferHook:case r.MetadataPointer:case r.TokenMetadata:case r.GroupPointer:case r.GroupMemberPointer:case r.TokenGroup:case r.TokenGroupMember:return!1;default:throw Error(`Unknown extension type: ${e}`)}}function R(e){switch(e){case r.TransferFeeConfig:return r.TransferFeeAmount;case r.ConfidentialTransferMint:return r.ConfidentialTransferAccount;case r.NonTransferable:return r.NonTransferableAccount;case r.TransferHook:return r.TransferHookAccount;case r.TransferFeeAmount:case r.ConfidentialTransferAccount:case r.CpiGuard:case r.DefaultAccountState:case r.ImmutableOwner:case r.MemoTransfer:case r.MintCloseAuthority:case r.MetadataPointer:case r.TokenMetadata:case r.Uninitialized:case r.InterestBearingConfig:case r.PermanentDelegate:case r.NonTransferableAccount:case r.TransferHookAccount:case r.GroupPointer:case r.GroupMemberPointer:case r.TokenGroup:case r.TokenGroupMember:return r.Uninitialized}}function B(e,t,n={}){if(0===e.length&&0===Object.keys(n).length)return t;{const t=i.lZ+a.t+e.filter(((t,n)=>n===e.indexOf(t))).map((e=>x(v(e)))).reduce(((e,t)=>e+t),0)+Object.entries(n).map((([e,t])=>{if(Number(e)!==r.TokenMetadata)throw Error(`Extension ${e} is not variable length`);return x(t)})).reduce(((e,t)=>e+t),0);return t===s.Wx?t+S:t}}function C(e,t={}){return B(e,o.Bl,t)}function z(e){return B(e,i.lZ)}function W(e,t){let n=0;for(;x(n)<=t.length;){const r=t.readUInt16LE(n),i=t.readUInt16LE(n+S),o=x(n);if(r==e)return t.slice(o,o+i);n=o+i}return null}function M(e){const t=[];let n=0;for(;n<e.length;){const r=e.readUInt16LE(n);t.push(r),n+=x(e.readUInt16LE(n+S))}return t}function L(e){return z(M(e.tlvData).map(R))}function O(e,t,n,r,i=A.nA){const s=W(n,(0,o.rs)(t,e,i).tlvData),a=s?x(s.length):0,c=x(r);return e.data.length+c-a}},"../../../node_modules/@solana/spl-token/lib/esm/extensions/groupMemberPointer/state.js":(e,t,n)=>{n.d(t,{Mb:()=>c,eJ:()=>a,rC:()=>u});var r=n("../../../node_modules/@solana/buffer-layout/lib/Layout.js"),i=n("../../../node_modules/@solana/buffer-layout-utils/lib/esm/index.mjs"),o=n("../../../node_modules/@solana/web3.js/lib/index.browser.esm.js"),s=n("../../../node_modules/@solana/spl-token/lib/esm/extensions/extensionType.js");const a=(0,r.n_)([(0,i.ZL)("authority"),(0,i.ZL)("memberAddress")]),c=a.span;function u(e){const t=(0,s.mq)(s.nw.GroupMemberPointer,e.tlvData);if(null!==t){const{authority:e,memberAddress:n}=a.decode(t);return{authority:e.equals(o.PublicKey.default)?null:e,memberAddress:n.equals(o.PublicKey.default)?null:n}}return null}},"../../../node_modules/@solana/spl-token/lib/esm/extensions/groupPointer/state.js":(e,t,n)=>{n.d(t,{DU:()=>u,IG:()=>a,b7:()=>c});var r=n("../../../node_modules/@solana/buffer-layout/lib/Layout.js"),i=n("../../../node_modules/@solana/buffer-layout-utils/lib/esm/index.mjs"),o=n("../../../node_modules/@solana/web3.js/lib/index.browser.esm.js"),s=n("../../../node_modules/@solana/spl-token/lib/esm/extensions/extensionType.js");const a=(0,r.n_)([(0,i.ZL)("authority"),(0,i.ZL)("groupAddress")]),c=a.span;function u(e){const t=(0,s.mq)(s.nw.GroupPointer,e.tlvData);if(null!==t){const{authority:e,groupAddress:n}=a.decode(t);return{authority:e.equals(o.PublicKey.default)?null:e,groupAddress:n.equals(o.PublicKey.default)?null:n}}return null}},"../../../node_modules/@solana/spl-token/lib/esm/extensions/immutableOwner.js":(e,t,n)=>{n.d(t,{LB:()=>a,l3:()=>o,pS:()=>s});var r=n("../../../node_modules/@solana/buffer-layout/lib/Layout.js"),i=n("../../../node_modules/@solana/spl-token/lib/esm/extensions/extensionType.js");const o=(0,r.n_)([]),s=o.span;function a(e){const t=(0,i.mq)(i.nw.ImmutableOwner,e.tlvData);return null!==t?o.decode(t):null}},"../../../node_modules/@solana/spl-token/lib/esm/extensions/interestBearingMint/state.js":(e,t,n)=>{n.d(t,{Me:()=>a,Qz:()=>c,ao:()=>s});var r=n("../../../node_modules/@solana/buffer-layout/lib/Layout.js"),i=n("../../../node_modules/@solana/buffer-layout-utils/lib/esm/index.mjs"),o=n("../../../node_modules/@solana/spl-token/lib/esm/extensions/extensionType.js");const s=(0,r.n_)([(0,i.ZL)("rateAuthority"),(0,r.gM)("initializationTimestamp"),(0,r.Tl)("preUpdateAverageRate"),(0,r.gM)("lastUpdateTimestamp"),(0,r.Tl)("currentRate")]),a=s.span;function c(e){const t=(0,o.mq)(o.nw.InterestBearingConfig,e.tlvData);return null!==t?s.decode(t):null}},"../../../node_modules/@solana/spl-token/lib/esm/extensions/memoTransfer/state.js":(e,t,n)=>{n.d(t,{OW:()=>s,Vl:()=>a,oL:()=>c});var r=n("../../../node_modules/@solana/buffer-layout/lib/Layout.js"),i=n("../../../node_modules/@solana/buffer-layout-utils/lib/esm/index.mjs"),o=n("../../../node_modules/@solana/spl-token/lib/esm/extensions/extensionType.js");const s=(0,r.n_)([(0,i.Xg)("requireIncomingTransferMemos")]),a=s.span;function c(e){const t=(0,o.mq)(o.nw.MemoTransfer,e.tlvData);return null!==t?s.decode(t):null}},"../../../node_modules/@solana/spl-token/lib/esm/extensions/metadataPointer/state.js":(e,t,n)=>{n.d(t,{A4:()=>u,ll:()=>a,ys:()=>c});var r=n("../../../node_modules/@solana/buffer-layout/lib/Layout.js"),i=n("../../../node_modules/@solana/buffer-layout-utils/lib/esm/index.mjs"),o=n("../../../node_modules/@solana/web3.js/lib/index.browser.esm.js"),s=n("../../../node_modules/@solana/spl-token/lib/esm/extensions/extensionType.js");const a=(0,r.n_)([(0,i.ZL)("authority"),(0,i.ZL)("metadataAddress")]),c=a.span;function u(e){const t=(0,s.mq)(s.nw.MetadataPointer,e.tlvData);if(null!==t){const{authority:e,metadataAddress:n}=a.decode(t);return{authority:e.equals(o.PublicKey.default)?null:e,metadataAddress:n.equals(o.PublicKey.default)?null:n}}return null}},"../../../node_modules/@solana/spl-token/lib/esm/extensions/mintCloseAuthority.js":(e,t,n)=>{n.d(t,{VA:()=>s,ez:()=>c,kZ:()=>a});var r=n("../../../node_modules/@solana/buffer-layout/lib/Layout.js"),i=n("../../../node_modules/@solana/buffer-layout-utils/lib/esm/index.mjs"),o=n("../../../node_modules/@solana/spl-token/lib/esm/extensions/extensionType.js");const s=(0,r.n_)([(0,i.ZL)("closeAuthority")]),a=s.span;function c(e){const t=(0,o.mq)(o.nw.MintCloseAuthority,e.tlvData);return null!==t?s.decode(t):null}},"../../../node_modules/@solana/spl-token/lib/esm/extensions/nonTransferable.js":(e,t,n)=>{n.d(t,{HZ:()=>c,Qf:()=>o,UD:()=>u,X5:()=>a,Yv:()=>s});var r=n("../../../node_modules/@solana/buffer-layout/lib/Layout.js"),i=n("../../../node_modules/@solana/spl-token/lib/esm/extensions/extensionType.js");const o=(0,r.n_)([]),s=o.span,a=o.span;function c(e){const t=(0,i.mq)(i.nw.NonTransferable,e.tlvData);return null!==t?o.decode(t):null}function u(e){const t=(0,i.mq)(i.nw.NonTransferableAccount,e.tlvData);return null!==t?o.decode(t):null}},"../../../node_modules/@solana/spl-token/lib/esm/extensions/permanentDelegate.js":(e,t,n)=>{n.d(t,{$:()=>a,$1:()=>c,Zx:()=>s});var r=n("../../../node_modules/@solana/buffer-layout/lib/Layout.js"),i=n("../../../node_modules/@solana/buffer-layout-utils/lib/esm/index.mjs"),o=n("../../../node_modules/@solana/spl-token/lib/esm/extensions/extensionType.js");const s=(0,r.n_)([(0,i.ZL)("delegate")]),a=s.span;function c(e){const t=(0,o.mq)(o.nw.PermanentDelegate,e.tlvData);return null!==t?s.decode(t):null}},"../../../node_modules/@solana/spl-token/lib/esm/extensions/transferFee/state.js":(e,t,n)=>{n.d(t,{AV:()=>s,Cr:()=>d,E0:()=>g,EH:()=>m,J9:()=>a,Lk:()=>c,Z3:()=>u,aF:()=>y,am:()=>f,cO:()=>h,et:()=>l,jz:()=>p});var r=n("../../../node_modules/@solana/buffer-layout/lib/Layout.js"),i=n("../../../node_modules/@solana/buffer-layout-utils/lib/esm/index.mjs"),o=n("../../../node_modules/@solana/spl-token/lib/esm/extensions/extensionType.js");const s=1e4,a=BigInt(s);function c(e){return(0,r.n_)([(0,i.AW)("epoch"),(0,i.AW)("maximumFee"),(0,r.KB)("transferFeeBasisPoints")],e)}function u(e,t){const n=e.transferFeeBasisPoints;if(0===n||t===BigInt(0))return BigInt(0);{const r=(t*BigInt(n)+a-BigInt(1))/a,i=r>e.maximumFee?e.maximumFee:r;return BigInt(i)}}const d=(0,r.n_)([(0,i.ZL)("transferFeeConfigAuthority"),(0,i.ZL)("withdrawWithheldAuthority"),(0,i.AW)("withheldAmount"),c("olderTransferFee"),c("newerTransferFee")]),l=d.span;function h(e,t){return t>=e.newerTransferFee.epoch?e.newerTransferFee:e.olderTransferFee}function m(e,t,n){return u(h(e,t),n)}const f=(0,r.n_)([(0,i.AW)("withheldAmount")]),p=f.span;function g(e){const t=(0,o.mq)(o.nw.TransferFeeConfig,e.tlvData);return null!==t?d.decode(t):null}function y(e){const t=(0,o.mq)(o.nw.TransferFeeAmount,e.tlvData);return null!==t?f.decode(t):null}},"../../../node_modules/@solana/spl-token/lib/esm/extensions/transferHook/seeds.js":(e,t,n)=>{n.d(t,{e:()=>f});var r=n("../../../node_modules/@solana/spl-token/lib/esm/errors.js"),i=n("../../../node_modules/buffer/index.js").Buffer;const o=1,s=1,a=1,c=1,u=1,d=1,l=1,h=1;async function m(e,t,n,m){const[f,...p]=e,g=new Uint8Array(p);switch(f){case 0:return null;case 1:return function(e){if(e.length<1)throw new r.Ju;const[t,...n]=e;if(n.length<t)throw new r.Ju;return{data:i.from(n.slice(0,t)),packedLength:o+s+t}}(g);case 2:return function(e,t){if(e.length<2)throw new r.Ju;const[n,i]=e;if(t.length<i+n)throw new r.Ju;return{data:t.subarray(n,n+i),packedLength:o+a+c}}(g,n);case 3:return function(e,t){if(e.length<1)throw new r.Ju;const[n]=e;if(t.length<=n)throw new r.Ju;return{data:t[n].pubkey.toBuffer(),packedLength:o+u}}(g,t);case 4:return async function(e,t,n){if(e.length<3)throw new r.Ju;const[i,s,a]=e;if(t.length<=i)throw new r.Ju;const c=await n.getAccountInfo(t[i].pubkey);if(null==c)throw new r.xR;if(c.data.length<s+a)throw new r.Ju;return{data:c.data.subarray(s,s+a),packedLength:o+d+l+h}}(g,t,m);default:throw new r.Ju}}async function f(e,t,n,r){const i=[];let o=0;for(;o<32;){const s=await m(e.slice(o),t,n,r);if(null==s)break;i.push(s.data),o+=s.packedLength}return i}},"../../../node_modules/@solana/spl-token/lib/esm/extensions/transferHook/state.js":(e,t,n)=>{n.d(t,{D7:()=>I,Fw:()=>h,Jh:()=>b,Jy:()=>d,Ob:()=>p,Q5:()=>y,RA:()=>k,ZN:()=>g,cH:()=>w,j7:()=>m,rd:()=>l,xc:()=>f});var r=n("../../../node_modules/@solana/buffer-layout/lib/Layout.js"),i=n("../../../node_modules/@solana/spl-token/lib/esm/extensions/extensionType.js"),o=n("../../../node_modules/@solana/web3.js/lib/index.browser.esm.js"),s=n("../../../node_modules/@solana/buffer-layout-utils/lib/esm/index.mjs"),a=n("../../../node_modules/@solana/spl-token/lib/esm/errors.js"),c=n("../../../node_modules/@solana/spl-token/lib/esm/extensions/transferHook/seeds.js"),u=n("../../../node_modules/buffer/index.js").Buffer;const d=(0,r.n_)([(0,s.ZL)("authority"),(0,s.ZL)("programId")]),l=d.span;function h(e){const t=(0,i.mq)(i.nw.TransferHook,e.tlvData);return null!==t?d.decode(t):null}const m=(0,r.n_)([(0,s.Xg)("transferring")]),f=m.span;function p(e){const t=(0,i.mq)(i.nw.TransferHookAccount,e.tlvData);return null!==t?m.decode(t):null}function g(e,t){const n=[u.from("extra-account-metas"),e.toBuffer()];return o.PublicKey.findProgramAddressSync(n,t)[0]}const y=(0,r.n_)([(0,r.u8)("discriminator"),(0,r.Ik)(32,"addressConfig"),(0,s.Xg)("isSigner"),(0,s.Xg)("isWritable")]),b=(0,r.n_)([(0,r.Jq)("count"),(0,r.A9)(y,(0,r._H)(y.span),"extraAccounts")]),k=(0,r.n_)([(0,s.AW)("instructionDiscriminator"),(0,r.Jq)("length"),b.replicate("extraAccountsList")]);function w(e){const t=k.decode(e.data).extraAccountsList;return t.extraAccounts.slice(0,t.count)}async function I(e,t,n,r,i){if(0===t.discriminator)return{pubkey:new o.PublicKey(t.addressConfig),isSigner:t.isSigner,isWritable:t.isWritable};let s=o.PublicKey.default;if(1===t.discriminator)s=i;else{const e=t.discriminator-128;if(n.length<=e)throw new a.fu;s=n[e].pubkey}const u=await(0,c.e)(t.addressConfig,n,r,e);return{pubkey:o.PublicKey.findProgramAddressSync(u,s)[0],isSigner:t.isSigner,isWritable:t.isWritable}}},"../../../node_modules/@solana/spl-token/lib/esm/index.js":(e,t,n)=>{n.r(t),n.d(t,{ACCOUNT_SIZE:()=>Pe.lZ,ACCOUNT_TYPE_SIZE:()=>Mt.t,ASSOCIATED_TOKEN_PROGRAM_ID:()=>i._u,AccountLayout:()=>Pe.p0,AccountState:()=>Pe.m3,AccountType:()=>Mt.Q,AuthorityType:()=>nt,CPI_GUARD_SIZE:()=>Dt.Uu,CpiGuardInstruction:()=>Wt,CpiGuardLayout:()=>Dt.zc,DEFAULT_ACCOUNT_STATE_SIZE:()=>Yt.Li,DefaultAccountStateInstruction:()=>qt,DefaultAccountStateLayout:()=>Yt.AK,ExtensionType:()=>D.nw,ExtraAccountMetaAccountDataLayout:()=>_i.RA,ExtraAccountMetaLayout:()=>_i.Q5,ExtraAccountMetaListLayout:()=>_i.Jh,GROUP_MEMBER_POINTER_SIZE:()=>sn.Mb,GROUP_POINTER_SIZE:()=>hn.b7,GroupMemberPointerInstruction:()=>Xt,GroupMemberPointerLayout:()=>sn.eJ,GroupPointerInstruction:()=>on,GroupPointerLayout:()=>hn.IG,IMMUTABLE_OWNER_SIZE:()=>mn.pS,INTEREST_BEARING_MINT_CONFIG_STATE_SIZE:()=>Pn.Me,ImmutableOwnerLayout:()=>mn.l3,InterestBearingMintConfigStateLayout:()=>Pn.ao,InterestBearingMintInstruction:()=>kn,LENGTH_SIZE:()=>D.F7,MAX_FEE_BASIS_POINTS:()=>wi.AV,MEMO_TRANSFER_SIZE:()=>On.Vl,METADATA_POINTER_SIZE:()=>qn.ys,MINT_CLOSE_AUTHORITY_SIZE:()=>$r.kZ,MINT_SIZE:()=>J.Bl,MULTISIG_SIZE:()=>ye.Wx,MemoTransferInstruction:()=>vn,MemoTransferLayout:()=>On.OW,MetadataPointerInstruction:()=>Ln,MetadataPointerLayout:()=>qn.ll,MintCloseAuthorityLayout:()=>$r.VA,MintLayout:()=>J.qT,MultisigLayout:()=>ye.of,NATIVE_MINT:()=>i.Gd,NATIVE_MINT_2022:()=>i.Yx,NON_TRANSFERABLE_ACCOUNT_SIZE:()=>Gr.X5,NON_TRANSFERABLE_SIZE:()=>Gr.Yv,NonTransferableLayout:()=>Gr.Qf,ONE_IN_BASIS_POINTS:()=>wi.J9,PERMANENT_DELEGATE_SIZE:()=>Ii.$,PermanentDelegateLayout:()=>Ii.Zx,TOKEN_2022_PROGRAM_ID:()=>i.nA,TOKEN_GROUP_MEMBER_SIZE:()=>rr._h,TOKEN_GROUP_SIZE:()=>nr.AK,TOKEN_PROGRAM_ID:()=>i.H_,TRANSFER_FEE_AMOUNT_SIZE:()=>wi.jz,TRANSFER_FEE_CONFIG_SIZE:()=>wi.et,TRANSFER_HOOK_ACCOUNT_SIZE:()=>_i.xc,TRANSFER_HOOK_SIZE:()=>_i.rd,TYPE_SIZE:()=>D._q,TokenAccountNotFoundError:()=>a.We,TokenError:()=>a.WK,TokenInstruction:()=>c.c,TokenInvalidAccountDataError:()=>a.PZ,TokenInvalidAccountError:()=>a.iK,TokenInvalidAccountOwnerError:()=>a.Or,TokenInvalidAccountSizeError:()=>a.$O,TokenInvalidInstructionDataError:()=>a.Z0,TokenInvalidInstructionKeysError:()=>a.Di,TokenInvalidInstructionProgramError:()=>a.yh,TokenInvalidInstructionTypeError:()=>a.In,TokenInvalidMintError:()=>a.iT,TokenInvalidOwnerError:()=>a.bQ,TokenOwnerOffCurveError:()=>a.Gl,TokenTransferHookAccountDataNotFound:()=>a.xR,TokenTransferHookAccountNotFound:()=>a.fu,TokenTransferHookInvalidSeed:()=>a.Ju,TokenUnsupportedInstructionError:()=>a.BT,TransferFeeAmountLayout:()=>wi.am,TransferFeeConfigLayout:()=>wi.Cr,TransferFeeInstruction:()=>Hr,TransferHookAccountLayout:()=>_i.j7,TransferHookInstruction:()=>ki,TransferHookLayout:()=>_i.Jy,addExtraAccountMetasForExecute:()=>Ri,amountToUiAmount:()=>p,amountToUiAmountInstructionData:()=>d,approve:()=>b,approveChecked:()=>T,approveCheckedInstructionData:()=>I,approveInstructionData:()=>g.ey,burn:()=>B,burnChecked:()=>O,burnCheckedInstructionData:()=>z,burnInstructionData:()=>v,calculateEpochFee:()=>wi.EH,calculateFee:()=>wi.Z3,closeAccount:()=>q,closeAccountInstructionData:()=>j,cpiGuardInstructionData:()=>Ot,createAccount:()=>re,createAmountToUiAmountInstruction:()=>l,createApproveCheckedInstruction:()=>_,createApproveInstruction:()=>g.g6,createAssociatedTokenAccount:()=>ne,createAssociatedTokenAccountIdempotent:()=>ie,createAssociatedTokenAccountIdempotentInstruction:()=>Q,createAssociatedTokenAccountInstruction:()=>Y,createBurnCheckedInstruction:()=>W,createBurnInstruction:()=>P,createCloseAccountInstruction:()=>U,createCreateNativeMintInstruction:()=>Ie,createDisableCpiGuardInstruction:()=>jt,createDisableRequiredMemoTransfersInstruction:()=>Cn,createEmitInstruction:()=>Mr,createEnableCpiGuardInstruction:()=>Kt,createEnableRequiredMemoTransfersInstruction:()=>Bn,createExecuteInstruction:()=>Ei,createFreezeAccountInstruction:()=>Ce,createHarvestWithheldTokensToMintInstruction:()=>hi,createInitializeAccount2Instruction:()=>Ui,createInitializeAccount3Instruction:()=>Hi,createInitializeAccountInstruction:()=>G,createInitializeDefaultAccountStateInstruction:()=>Gt,createInitializeGroupInstruction:()=>Yn,createInitializeGroupMemberPointerInstruction:()=>tn,createInitializeGroupPointerInstruction:()=>un,createInitializeImmutableOwnerInstruction:()=>wo,createInitializeInstruction:()=>Br,createInitializeInterestBearingMintInstruction:()=>An,createInitializeMemberInstruction:()=>tr,createInitializeMetadataPointerInstruction:()=>Un,createInitializeMint2Instruction:()=>ce,createInitializeMintCloseAuthorityInstruction:()=>To,createInitializeMintInstruction:()=>gn,createInitializeMultisigInstruction:()=>fe,createInitializeNonTransferableMintInstruction:()=>Co,createInitializePermanentDelegateInstruction:()=>Mo,createInitializeTransferFeeConfigInstruction:()=>Jr,createInitializeTransferHookInstruction:()=>Ti,createInterestBearingMint:()=>Tn,createMint:()=>le,createMintToCheckedInstruction:()=>He,createMintToInstruction:()=>je,createMultisig:()=>be,createNativeMint:()=>_e,createNativeMintInstructionData:()=>we,createReallocateInstruction:()=>Eo,createRecoverNestedInstruction:()=>te,createRemoveKeyInstruction:()=>zr,createRevokeInstruction:()=>Ye,createSetAuthorityInstruction:()=>ot,createSyncNativeInstruction:()=>Te,createThawAccountInstruction:()=>ht,createTransferCheckedInstruction:()=>St,createTransferCheckedWithFeeAndTransferHookInstruction:()=>Ci,createTransferCheckedWithFeeInstruction:()=>ei,createTransferCheckedWithTransferHookInstruction:()=>Bi,createTransferInstruction:()=>bt,createUiAmountToAmountInstruction:()=>Et,createUpdateAuthorityInstruction:()=>Wr,createUpdateDefaultAccountStateInstruction:()=>Zt,createUpdateFieldInstruction:()=>Cr,createUpdateGroupAuthorityInstruction:()=>er,createUpdateGroupMaxSizeInstruction:()=>Qn,createUpdateGroupMemberPointerInstruction:()=>rn,createUpdateGroupPointerInstruction:()=>ln,createUpdateMetadataPointerInstruction:()=>Fn,createUpdateRateInterestBearingMintInstruction:()=>Sn,createUpdateTransferHookInstruction:()=>vi,createWithdrawWithheldTokensFromAccountsInstruction:()=>ci,createWithdrawWithheldTokensFromMintInstruction:()=>ii,createWrappedNativeAccount:()=>Ee,decodeAmountToUiAmountInstruction:()=>h,decodeAmountToUiAmountInstructionUnchecked:()=>m,decodeApproveCheckedInstruction:()=>A,decodeApproveCheckedInstructionUnchecked:()=>S,decodeApproveInstruction:()=>g.qE,decodeApproveInstructionUnchecked:()=>g.lF,decodeBurnCheckedInstruction:()=>M,decodeBurnCheckedInstructionUnchecked:()=>L,decodeBurnInstruction:()=>E,decodeBurnInstructionUnchecked:()=>R,decodeCloseAccountInstruction:()=>N,decodeCloseAccountInstructionUnchecked:()=>F,decodeFreezeAccountInstruction:()=>ze,decodeFreezeAccountInstructionUnchecked:()=>We,decodeHarvestWithheldTokensToMintInstruction:()=>mi,decodeHarvestWithheldTokensToMintInstructionUnchecked:()=>fi,decodeInitializeAccount2Instruction:()=>Ni,decodeInitializeAccount2InstructionUnchecked:()=>Fi,decodeInitializeAccount3Instruction:()=>$i,decodeInitializeAccount3InstructionUnchecked:()=>Gi,decodeInitializeAccountInstruction:()=>Z,decodeInitializeAccountInstructionUnchecked:()=>V,decodeInitializeImmutableOwnerInstruction:()=>Io,decodeInitializeImmutableOwnerInstructionUnchecked:()=>_o,decodeInitializeMint2Instruction:()=>ue,decodeInitializeMint2InstructionUnchecked:()=>de,decodeInitializeMintCloseAuthorityInstruction:()=>xo,decodeInitializeMintCloseAuthorityInstructionUnchecked:()=>vo,decodeInitializeMintInstruction:()=>yn,decodeInitializeMintInstructionUnchecked:()=>bn,decodeInitializeMultisigInstruction:()=>pe,decodeInitializeMultisigInstructionUnchecked:()=>ge,decodeInitializePermanentDelegateInstruction:()=>Lo,decodeInitializePermanentDelegateInstructionUnchecked:()=>Oo,decodeInitializeTransferFeeConfigInstruction:()=>Xr,decodeInitializeTransferFeeConfigInstructionUnchecked:()=>Yr,decodeInstruction:()=>Zi,decodeMintToCheckedInstruction:()=>$e,decodeMintToCheckedInstructionUnchecked:()=>Ge,decodeMintToInstruction:()=>Ue,decodeMintToInstructionUnchecked:()=>Ne,decodeRevokeInstruction:()=>Qe,decodeRevokeInstructionUnchecked:()=>et,decodeSetAuthorityInstruction:()=>st,decodeSetAuthorityInstructionUnchecked:()=>at,decodeSyncNativeInstruction:()=>xe,decodeSyncNativeInstructionUnchecked:()=>ve,decodeThawAccountInstruction:()=>mt,decodeThawAccountInstructionUnchecked:()=>ft,decodeTransferCheckedInstruction:()=>Tt,decodeTransferCheckedInstructionUnchecked:()=>xt,decodeTransferCheckedWithFeeInstruction:()=>ti,decodeTransferCheckedWithFeeInstructionUnchecked:()=>ni,decodeTransferInstruction:()=>kt,decodeTransferInstructionUnchecked:()=>wt,decodeUiAmountToAmountInstruction:()=>Rt,decodeUiAmountToAmountInstructionUnchecked:()=>Bt,decodeWithdrawWithheldTokensFromAccountsInstruction:()=>ui,decodeWithdrawWithheldTokensFromAccountsInstructionUnchecked:()=>di,decodeWithdrawWithheldTokensFromMintInstruction:()=>oi,decodeWithdrawWithheldTokensFromMintInstructionUnchecked:()=>si,defaultAccountStateInstructionData:()=>$t,disableCpiGuard:()=>Ft,disableRequiredMemoTransfers:()=>Mn,enableCpiGuard:()=>Nt,enableRequiredMemoTransfers:()=>Wn,freezeAccount:()=>Me,freezeAccountInstructionData:()=>Be,getAccount:()=>Pe.D0,getAccountLen:()=>D.Xh,getAccountLenForMint:()=>D.fv,getAccountTypeOfMintType:()=>D.jF,getAssociatedTokenAddress:()=>J.Am,getAssociatedTokenAddressSync:()=>J.MO,getCpiGuard:()=>Dt.sz,getDefaultAccountState:()=>Yt.ld,getEpochFee:()=>wi.cO,getExtensionData:()=>D.mq,getExtensionTypes:()=>D.Vv,getExtraAccountMetaAddress:()=>_i.ZN,getExtraAccountMetas:()=>_i.cH,getGroupMemberPointerState:()=>sn.rC,getGroupPointerState:()=>hn.DU,getImmutableOwner:()=>mn.LB,getInterestBearingMintConfigState:()=>Pn.Qz,getMemoTransfer:()=>On.oL,getMetadataPointerState:()=>qn.A4,getMinimumBalanceForRentExemptAccount:()=>Pe.pE,getMinimumBalanceForRentExemptAccountWithExtensions:()=>Pe.Dl,getMinimumBalanceForRentExemptMint:()=>J.Mg,getMinimumBalanceForRentExemptMintWithExtensions:()=>J.s2,getMinimumBalanceForRentExemptMultisig:()=>ye.Yv,getMint:()=>J.ih,getMintCloseAuthority:()=>$r.ez,getMintLen:()=>D.jk,getMultipleAccounts:()=>Pe.Du,getMultisig:()=>ye.rb,getNewAccountLenForExtensionLen:()=>D.BY,getNonTransferable:()=>Gr.HZ,getNonTransferableAccount:()=>Gr.UD,getOrCreateAssociatedTokenAccount:()=>Le,getPermanentDelegate:()=>Ii.$1,getTokenGroupMemberState:()=>lr,getTokenGroupState:()=>dr,getTokenMetadata:()=>Kr,getTransferFeeAmount:()=>wi.aF,getTransferFeeConfig:()=>wi.E0,getTransferHook:()=>_i.Fw,getTransferHookAccount:()=>_i.Ob,getTypeLen:()=>D.wd,harvestWithheldTokensToMint:()=>bi,harvestWithheldTokensToMintInstructionData:()=>li,initializeAccount2InstructionData:()=>ji,initializeAccount3InstructionData:()=>Di,initializeAccountInstructionData:()=>$,initializeDefaultAccountState:()=>Vt,initializeGroupMemberPointerData:()=>en,initializeGroupPointerData:()=>cn,initializeImmutableOwnerInstructionData:()=>ko,initializeMetadataPointerData:()=>jn,initializeMint2InstructionData:()=>ae,initializeMintCloseAuthorityInstructionData:()=>So,initializeMintInstructionData:()=>pn,initializeMultisigInstructionData:()=>me,initializeNonTransferableMintInstructionData:()=>Bo,initializePermanentDelegateInstructionData:()=>Wo,initializeTransferFeeConfigInstructionData:()=>Vr,initializeTransferHook:()=>zi,initializeTransferHookInstructionData:()=>Si,interestBearingMintInitializeInstructionData:()=>In,interestBearingMintUpdateRateInstructionData:()=>_n,isAccountExtension:()=>D.VU,isAmountToUiAmountInstruction:()=>go,isApproveCheckedInstruction:()=>co,isApproveInstruction:()=>Qi,isBurnCheckedInstruction:()=>lo,isBurnInstruction:()=>ro,isCloseAccountInstruction:()=>io,isFreezeAccountInstruction:()=>oo,isInitializeAccount2Instruction:()=>ho,isInitializeAccount3Instruction:()=>fo,isInitializeAccountInstruction:()=>Ji,isInitializeMint2Instruction:()=>po,isInitializeMintInstruction:()=>Vi,isInitializeMultisigInstruction:()=>Xi,isMintExtension:()=>D.Oh,isMintToCheckedInstruction:()=>uo,isMintToInstruction:()=>no,isRevokeInstruction:()=>eo,isSetAuthorityInstruction:()=>to,isSyncNativeInstruction:()=>mo,isThawAccountInstruction:()=>so,isTransferCheckedInstruction:()=>ao,isTransferInstruction:()=>Yi,isUiamountToAmountInstruction:()=>yo,memoTransferInstructionData:()=>Rn,mintTo:()=>Fe,mintToChecked:()=>Ze,mintToCheckedInstructionData:()=>De,mintToInstructionData:()=>Ke,programSupportsExtensions:()=>i.lP,recoverNested:()=>Ve,resolveExtraAccountMeta:()=>_i.D7,revoke:()=>tt,revokeInstructionData:()=>Xe,setAuthority:()=>ct,setAuthorityInstructionData:()=>it,syncNative:()=>ut,syncNativeInstructionData:()=>Se,thawAccount:()=>pt,thawAccountInstructionData:()=>lt,tokenGroupInitializeGroup:()=>ir,tokenGroupInitializeGroupWithRentTransfer:()=>or,tokenGroupMemberInitialize:()=>cr,tokenGroupMemberInitializeWithRentTransfer:()=>ur,tokenGroupUpdateGroupAuthority:()=>ar,tokenGroupUpdateGroupMaxSize:()=>sr,tokenMetadataInitialize:()=>jr,tokenMetadataInitializeWithRentTransfer:()=>Ur,tokenMetadataRemoveKey:()=>qr,tokenMetadataUpdateAuthority:()=>Dr,tokenMetadataUpdateField:()=>Nr,tokenMetadataUpdateFieldWithRentTransfer:()=>Fr,transfer:()=>It,transferChecked:()=>vt,transferCheckedInstructionData:()=>At,transferCheckedWithFee:()=>pi,transferCheckedWithFeeAndTransferHook:()=>Li,transferCheckedWithFeeInstructionData:()=>Qr,transferCheckedWithTransferHook:()=>Mi,transferFeeLayout:()=>wi.Lk,transferInstructionData:()=>yt,uiAmountToAmount:()=>zt,unpackAccount:()=>Pe.nS,unpackMint:()=>J.rs,unpackMultisig:()=>ye.YA,unpackSeeds:()=>Oi.e,updateDefaultAccountState:()=>Jt,updateGroupMemberPointerData:()=>nn,updateGroupPointerData:()=>dn,updateMetadataPointerData:()=>Nn,updateRateInterestBearingMint:()=>xn,updateTokenMetadata:()=>Or,updateTransferHook:()=>Wi,updateTransferHookInstructionData:()=>xi,withdrawWithheldTokensFromAccounts:()=>yi,withdrawWithheldTokensFromAccountsInstructionData:()=>ai,withdrawWithheldTokensFromMint:()=>gi,withdrawWithheldTokensFromMintInstructionData:()=>ri});var r=n("../../../node_modules/@solana/web3.js/lib/index.browser.esm.js"),i=n("../../../node_modules/@solana/spl-token/lib/esm/constants.js"),o=n("../../../node_modules/@solana/buffer-layout/lib/Layout.js"),s=n("../../../node_modules/@solana/buffer-layout-utils/lib/esm/index.mjs"),a=n("../../../node_modules/@solana/spl-token/lib/esm/errors.js"),c=n("../../../node_modules/@solana/spl-token/lib/esm/instructions/types.js"),u=n("../../../node_modules/buffer/index.js").Buffer;const d=(0,o.n_)([(0,o.u8)("instruction"),(0,s.AW)("amount")]);function l(e,t,n=i.H_){const o=[{pubkey:e,isSigner:!1,isWritable:!1}],s=u.alloc(d.span);return d.encode({instruction:c.c.AmountToUiAmount,amount:BigInt(t)},s),new r.TransactionInstruction({keys:o,programId:n,data:s})}function h(e,t=i.H_){if(!e.programId.equals(t))throw new a.yh;if(e.data.length!==d.span)throw new a.Z0;const{keys:{mint:n},data:r}=m(e);if(r.instruction!==c.c.AmountToUiAmount)throw new a.In;if(!n)throw new a.Di;return{programId:t,keys:{mint:n},data:r}}function m({programId:e,keys:[t],data:n}){return{programId:e,keys:{mint:t},data:d.decode(n)}}var f=n("../../../node_modules/buffer/index.js").Buffer;async function p(e,t,n,o,s=i.H_){const a=(new r.Transaction).add(l(n,o,s)),{returnData:c,err:u}=(await e.simulateTransaction(a,[t],!1)).value;return c?.data?f.from(c.data[0],c.data[1]).toString("utf-8"):u}var g=n("../../../node_modules/@solana/spl-token/lib/esm/instructions/approve.js");function y(e,t){return e instanceof r.PublicKey?[e,t]:[e.publicKey,[e]]}async function b(e,t,n,o,s,a,c=[],u,d=i.H_){const[l,h]=y(s,c),m=(new r.Transaction).add((0,g.g6)(n,o,l,a,c,d));return await(0,r.sendAndConfirmTransaction)(e,m,[t,...h],u)}var k=n("../../../node_modules/@solana/spl-token/lib/esm/instructions/internal.js"),w=n("../../../node_modules/buffer/index.js").Buffer;const I=(0,o.n_)([(0,o.u8)("instruction"),(0,s.AW)("amount"),(0,o.u8)("decimals")]);function _(e,t,n,o,s,a,u=[],d=i.H_){const l=(0,k.s)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1}],o,u),h=w.alloc(I.span);return I.encode({instruction:c.c.ApproveChecked,amount:BigInt(s),decimals:a},h),new r.TransactionInstruction({keys:l,programId:d,data:h})}function A(e,t=i.H_){if(!e.programId.equals(t))throw new a.yh;if(e.data.length!==I.span)throw new a.Z0;const{keys:{account:n,mint:r,delegate:o,owner:s,multiSigners:u},data:d}=S(e);if(d.instruction!==c.c.ApproveChecked)throw new a.In;if(!(n&&r&&o&&s))throw new a.Di;return{programId:t,keys:{account:n,mint:r,delegate:o,owner:s,multiSigners:u},data:d}}function S({programId:e,keys:[t,n,r,i,...o],data:s}){return{programId:e,keys:{account:t,mint:n,delegate:r,owner:i,multiSigners:o},data:I.decode(s)}}async function T(e,t,n,o,s,a,c,u,d=[],l,h=i.H_){const[m,f]=y(a,d),p=(new r.Transaction).add(_(o,n,s,m,c,u,d,h));return await(0,r.sendAndConfirmTransaction)(e,p,[t,...f],l)}var x=n("../../../node_modules/buffer/index.js").Buffer;const v=(0,o.n_)([(0,o.u8)("instruction"),(0,s.AW)("amount")]);function P(e,t,n,o,s=[],a=i.H_){const u=(0,k.s)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0}],n,s),d=x.alloc(v.span);return v.encode({instruction:c.c.Burn,amount:BigInt(o)},d),new r.TransactionInstruction({keys:u,programId:a,data:d})}function E(e,t=i.H_){if(!e.programId.equals(t))throw new a.yh;if(e.data.length!==v.span)throw new a.Z0;const{keys:{account:n,mint:r,owner:o,multiSigners:s},data:u}=R(e);if(u.instruction!==c.c.Burn)throw new a.In;if(!n||!r||!o)throw new a.Di;return{programId:t,keys:{account:n,mint:r,owner:o,multiSigners:s},data:u}}function R({programId:e,keys:[t,n,r,...i],data:o}){return{programId:e,keys:{account:t,mint:n,owner:r,multiSigners:i},data:v.decode(o)}}async function B(e,t,n,o,s,a,c=[],u,d=i.H_){const[l,h]=y(s,c),m=(new r.Transaction).add(P(n,o,l,a,c,d));return await(0,r.sendAndConfirmTransaction)(e,m,[t,...h],u)}var C=n("../../../node_modules/buffer/index.js").Buffer;const z=(0,o.n_)([(0,o.u8)("instruction"),(0,s.AW)("amount"),(0,o.u8)("decimals")]);function W(e,t,n,o,s,a=[],u=i.H_){const d=(0,k.s)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0}],n,a),l=C.alloc(z.span);return z.encode({instruction:c.c.BurnChecked,amount:BigInt(o),decimals:s},l),new r.TransactionInstruction({keys:d,programId:u,data:l})}function M(e,t=i.H_){if(!e.programId.equals(t))throw new a.yh;if(e.data.length!==z.span)throw new a.Z0;const{keys:{account:n,mint:r,owner:o,multiSigners:s},data:u}=L(e);if(u.instruction!==c.c.BurnChecked)throw new a.In;if(!n||!r||!o)throw new a.Di;return{programId:t,keys:{account:n,mint:r,owner:o,multiSigners:s},data:u}}function L({programId:e,keys:[t,n,r,...i],data:o}){return{programId:e,keys:{account:t,mint:n,owner:r,multiSigners:i},data:z.decode(o)}}async function O(e,t,n,o,s,a,c,u=[],d,l=i.H_){const[h,m]=y(s,u),f=(new r.Transaction).add(W(n,o,h,a,c,u,l));return await(0,r.sendAndConfirmTransaction)(e,f,[t,...m],d)}var K=n("../../../node_modules/buffer/index.js").Buffer;const j=(0,o.n_)([(0,o.u8)("instruction")]);function U(e,t,n,o=[],s=i.H_){const a=(0,k.s)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0}],n,o),u=K.alloc(j.span);return j.encode({instruction:c.c.CloseAccount},u),new r.TransactionInstruction({keys:a,programId:s,data:u})}function N(e,t=i.H_){if(!e.programId.equals(t))throw new a.yh;if(e.data.length!==j.span)throw new a.Z0;const{keys:{account:n,destination:r,authority:o,multiSigners:s},data:u}=F(e);if(u.instruction!==c.c.CloseAccount)throw new a.In;if(!n||!r||!o)throw new a.Di;return{programId:t,keys:{account:n,destination:r,authority:o,multiSigners:s},data:u}}function F({programId:e,keys:[t,n,r,...i],data:o}){return{programId:e,keys:{account:t,destination:n,authority:r,multiSigners:i},data:j.decode(o)}}async function q(e,t,n,o,s,a=[],c,u=i.H_){const[d,l]=y(s,a),h=(new r.Transaction).add(U(n,o,d,a,u));return await(0,r.sendAndConfirmTransaction)(e,h,[t,...l],c)}var D=n("../../../node_modules/@solana/spl-token/lib/esm/extensions/extensionType.js"),H=n("../../../node_modules/buffer/index.js").Buffer;const $=(0,o.n_)([(0,o.u8)("instruction")]);function G(e,t,n,o=i.H_){const s=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:r.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],a=H.alloc($.span);return $.encode({instruction:c.c.InitializeAccount},a),new r.TransactionInstruction({keys:s,programId:o,data:a})}function Z(e,t=i.H_){if(!e.programId.equals(t))throw new a.yh;if(e.data.length!==$.span)throw new a.Z0;const{keys:{account:n,mint:r,owner:o,rent:s},data:u}=V(e);if(u.instruction!==c.c.InitializeAccount)throw new a.In;if(!(n&&r&&o&&s))throw new a.Di;return{programId:t,keys:{account:n,mint:r,owner:o,rent:s},data:u}}function V({programId:e,keys:[t,n,r,i],data:o}){return{programId:e,keys:{account:t,mint:n,owner:r,rent:i},data:$.decode(o)}}var J=n("../../../node_modules/@solana/spl-token/lib/esm/state/mint.js"),X=n("../../../node_modules/buffer/index.js").Buffer;function Y(e,t,n,r,o=i.H_,s=i._u){return ee(e,t,n,r,X.alloc(0),o,s)}function Q(e,t,n,r,o=i.H_,s=i._u){return ee(e,t,n,r,X.from([1]),o,s)}function ee(e,t,n,o,s,a=i.H_,c=i._u){const u=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:r.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1}];return new r.TransactionInstruction({keys:u,programId:c,data:s})}function te(e,t,n,o,s,a,c=i.H_,u=i._u){const d=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!0,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!1}];return new r.TransactionInstruction({keys:d,programId:u,data:X.from([2])})}async function ne(e,t,n,o,s,a=i.H_,c=i._u){const u=(0,J.MO)(n,o,!1,a,c),d=(new r.Transaction).add(Y(t.publicKey,u,o,n,a,c));return await(0,r.sendAndConfirmTransaction)(e,d,[t],s),u}async function re(e,t,n,o,s,a,c=i.H_){if(!s)return await ne(e,t,n,o,a,c);const u=await(0,J.ih)(e,n,a?.commitment,c),d=(0,D.fv)(u),l=await e.getMinimumBalanceForRentExemption(d),h=(new r.Transaction).add(r.SystemProgram.createAccount({fromPubkey:t.publicKey,newAccountPubkey:s.publicKey,space:d,lamports:l,programId:c}),G(s.publicKey,n,o,c));return await(0,r.sendAndConfirmTransaction)(e,h,[t,s],a),s.publicKey}async function ie(e,t,n,o,s,a=i.H_,c=i._u){const u=(0,J.MO)(n,o,!1,a,c),d=(new r.Transaction).add(Q(t.publicKey,u,o,n,a,c));return await(0,r.sendAndConfirmTransaction)(e,d,[t],s),u}class oe extends o.Ar{constructor(e){super(-1,e),this.publicKeyLayout=(0,s.ZL)()}decode(e,t=0){return 0===e[t]?null:this.publicKeyLayout.decode(e,t+1)}encode(e,t,n=0){return null===e?(t[n]=0,1):(t[n]=1,this.publicKeyLayout.encode(e,t,n+1),33)}getSpan(e,t=0){return e&&0===e[t]?1:1+this.publicKeyLayout.span}}var se=n("../../../node_modules/buffer/index.js").Buffer;const ae=(0,o.n_)([(0,o.u8)("instruction"),(0,o.u8)("decimals"),(0,s.ZL)("mintAuthority"),new oe("freezeAuthority")]);function ce(e,t,n,o,s=i.H_){const a=[{pubkey:e,isSigner:!1,isWritable:!0}],u=se.alloc(ae.span);return ae.encode({instruction:c.c.InitializeMint2,decimals:t,mintAuthority:n,freezeAuthority:o},u),new r.TransactionInstruction({keys:a,programId:s,data:u})}function ue(e,t=i.H_){if(!e.programId.equals(t))throw new a.yh;if(e.data.length!==ae.span)throw new a.Z0;const{keys:{mint:n},data:r}=de(e);if(r.instruction!==c.c.InitializeMint2)throw new a.In;if(!n)throw new a.Di;return{programId:t,keys:{mint:n},data:r}}function de({programId:e,keys:[t],data:n}){const{instruction:r,decimals:i,mintAuthority:o,freezeAuthority:s}=ae.decode(n);return{programId:e,keys:{mint:t},data:{instruction:r,decimals:i,mintAuthority:o,freezeAuthority:s}}}async function le(e,t,n,o,s,a=r.Keypair.generate(),c,u=i.H_){const d=await(0,J.Mg)(e),l=(new r.Transaction).add(r.SystemProgram.createAccount({fromPubkey:t.publicKey,newAccountPubkey:a.publicKey,space:J.Bl,lamports:d,programId:u}),ce(a.publicKey,s,n,o,u));return await(0,r.sendAndConfirmTransaction)(e,l,[t,a],c),a.publicKey}var he=n("../../../node_modules/buffer/index.js").Buffer;const me=(0,o.n_)([(0,o.u8)("instruction"),(0,o.u8)("m")]);function fe(e,t,n,o=i.H_){const s=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];for(const e of t)s.push({pubkey:e instanceof r.PublicKey?e:e.publicKey,isSigner:!1,isWritable:!1});const a=he.alloc(me.span);return me.encode({instruction:c.c.InitializeMultisig,m:n},a),new r.TransactionInstruction({keys:s,programId:o,data:a})}function pe(e,t=i.H_){if(!e.programId.equals(t))throw new a.yh;if(e.data.length!==me.span)throw new a.Z0;const{keys:{account:n,rent:r,signers:o},data:s}=ge(e);if(s.instruction!==c.c.InitializeMultisig)throw new a.In;if(!n||!r||!o.length)throw new a.Di;return{programId:t,keys:{account:n,rent:r,signers:o},data:s}}function ge({programId:e,keys:[t,n,...r],data:i}){return{programId:e,keys:{account:t,rent:n,signers:r},data:me.decode(i)}}var ye=n("../../../node_modules/@solana/spl-token/lib/esm/state/multisig.js");async function be(e,t,n,o,s=r.Keypair.generate(),a,c=i.H_){const u=await(0,ye.Yv)(e),d=(new r.Transaction).add(r.SystemProgram.createAccount({fromPubkey:t.publicKey,newAccountPubkey:s.publicKey,space:ye.Wx,lamports:u,programId:c}),fe(s.publicKey,n,o,c));return await(0,r.sendAndConfirmTransaction)(e,d,[t,s],a),s.publicKey}var ke=n("../../../node_modules/buffer/index.js").Buffer;const we=(0,o.n_)([(0,o.u8)("instruction")]);function Ie(e,t=i.Yx,n=i.nA){if(!(0,i.lP)(n))throw new a.BT;const o=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r.SystemProgram.programId,isSigner:!1,isWritable:!1}],s=ke.alloc(we.span);return we.encode({instruction:c.c.CreateNativeMint},s),new r.TransactionInstruction({keys:o,programId:n,data:s})}async function _e(e,t,n,o=i.Yx,s=i.nA){const a=(new r.Transaction).add(Ie(t.publicKey,o,s));await(0,r.sendAndConfirmTransaction)(e,a,[t],n)}var Ae=n("../../../node_modules/buffer/index.js").Buffer;const Se=(0,o.n_)([(0,o.u8)("instruction")]);function Te(e,t=i.H_){const n=[{pubkey:e,isSigner:!1,isWritable:!0}],o=Ae.alloc(Se.span);return Se.encode({instruction:c.c.SyncNative},o),new r.TransactionInstruction({keys:n,programId:t,data:o})}function xe(e,t=i.H_){if(!e.programId.equals(t))throw new a.yh;if(e.data.length!==Se.span)throw new a.Z0;const{keys:{account:n},data:r}=ve(e);if(r.instruction!==c.c.SyncNative)throw new a.In;if(!n)throw new a.Di;return{programId:t,keys:{account:n},data:r}}function ve({programId:e,keys:[t],data:n}){return{programId:e,keys:{account:t},data:Se.decode(n)}}var Pe=n("../../../node_modules/@solana/spl-token/lib/esm/state/account.js");async function Ee(e,t,n,o,s,a,c=i.H_,u=i.Gd){if(!o)return await re(e,t,u,n,s,a,c);if(!s){const s=(0,J.MO)(u,n,!1,c,i._u),d=(new r.Transaction).add(Y(t.publicKey,s,n,u,c,i._u),r.SystemProgram.transfer({fromPubkey:t.publicKey,toPubkey:s,lamports:o}),Te(s,c));return await(0,r.sendAndConfirmTransaction)(e,d,[t],a),s}const d=await(0,Pe.pE)(e),l=(new r.Transaction).add(r.SystemProgram.createAccount({fromPubkey:t.publicKey,newAccountPubkey:s.publicKey,space:Pe.lZ,lamports:d,programId:c}),r.SystemProgram.transfer({fromPubkey:t.publicKey,toPubkey:s.publicKey,lamports:o}),G(s.publicKey,u,n,c));return await(0,r.sendAndConfirmTransaction)(e,l,[t,s],a),s.publicKey}var Re=n("../../../node_modules/buffer/index.js").Buffer;const Be=(0,o.n_)([(0,o.u8)("instruction")]);function Ce(e,t,n,o=[],s=i.H_){const a=(0,k.s)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1}],n,o),u=Re.alloc(Be.span);return Be.encode({instruction:c.c.FreezeAccount},u),new r.TransactionInstruction({keys:a,programId:s,data:u})}function ze(e,t=i.H_){if(!e.programId.equals(t))throw new a.yh;if(e.data.length!==Be.span)throw new a.Z0;const{keys:{account:n,mint:r,authority:o,multiSigners:s},data:u}=We(e);if(u.instruction!==c.c.FreezeAccount)throw new a.In;if(!n||!r||!o)throw new a.Di;return{programId:t,keys:{account:n,mint:r,authority:o,multiSigners:s},data:u}}function We({programId:e,keys:[t,n,r,...i],data:o}){return{programId:e,keys:{account:t,mint:n,authority:r,multiSigners:i},data:Be.decode(o)}}async function Me(e,t,n,o,s,a=[],c,u=i.H_){const[d,l]=y(s,a),h=(new r.Transaction).add(Ce(n,o,d,a,u));return await(0,r.sendAndConfirmTransaction)(e,h,[t,...l],c)}async function Le(e,t,n,o,s=!1,c,u,d=i.H_,l=i._u){const h=(0,J.MO)(n,o,s,d,l);let m;try{m=await(0,Pe.D0)(e,h,c,d)}catch(i){if(!(i instanceof a.We||i instanceof a.Or))throw i;try{const i=(new r.Transaction).add(Y(t.publicKey,h,o,n,d,l));await(0,r.sendAndConfirmTransaction)(e,i,[t],u)}catch(e){}m=await(0,Pe.D0)(e,h,c,d)}if(!m.mint.equals(n))throw new a.iT;if(!m.owner.equals(o))throw new a.bQ;return m}var Oe=n("../../../node_modules/buffer/index.js").Buffer;const Ke=(0,o.n_)([(0,o.u8)("instruction"),(0,s.AW)("amount")]);function je(e,t,n,o,s=[],a=i.H_){const u=(0,k.s)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0}],n,s),d=Oe.alloc(Ke.span);return Ke.encode({instruction:c.c.MintTo,amount:BigInt(o)},d),new r.TransactionInstruction({keys:u,programId:a,data:d})}function Ue(e,t=i.H_){if(!e.programId.equals(t))throw new a.yh;if(e.data.length!==Ke.span)throw new a.Z0;const{keys:{mint:n,destination:r,authority:o,multiSigners:s},data:u}=Ne(e);if(u.instruction!==c.c.MintTo)throw new a.In;if(!n||!r||!o)throw new a.Di;return{programId:t,keys:{mint:n,destination:r,authority:o,multiSigners:s},data:u}}function Ne({programId:e,keys:[t,n,r,...i],data:o}){return{programId:e,keys:{mint:t,destination:n,authority:r,multiSigners:i},data:Ke.decode(o)}}async function Fe(e,t,n,o,s,a,c=[],u,d=i.H_){const[l,h]=y(s,c),m=(new r.Transaction).add(je(n,o,l,a,c,d));return await(0,r.sendAndConfirmTransaction)(e,m,[t,...h],u)}var qe=n("../../../node_modules/buffer/index.js").Buffer;const De=(0,o.n_)([(0,o.u8)("instruction"),(0,s.AW)("amount"),(0,o.u8)("decimals")]);function He(e,t,n,o,s,a=[],u=i.H_){const d=(0,k.s)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0}],n,a),l=qe.alloc(De.span);return De.encode({instruction:c.c.MintToChecked,amount:BigInt(o),decimals:s},l),new r.TransactionInstruction({keys:d,programId:u,data:l})}function $e(e,t=i.H_){if(!e.programId.equals(t))throw new a.yh;if(e.data.length!==De.span)throw new a.Z0;const{keys:{mint:n,destination:r,authority:o,multiSigners:s},data:u}=Ge(e);if(u.instruction!==c.c.MintToChecked)throw new a.In;if(!n||!r||!o)throw new a.Di;return{programId:t,keys:{mint:n,destination:r,authority:o,multiSigners:s},data:u}}function Ge({programId:e,keys:[t,n,r,...i],data:o}){return{programId:e,keys:{mint:t,destination:n,authority:r,multiSigners:i},data:De.decode(o)}}async function Ze(e,t,n,o,s,a,c,u=[],d,l=i.H_){const[h,m]=y(s,u),f=(new r.Transaction).add(He(n,o,h,a,c,u,l));return await(0,r.sendAndConfirmTransaction)(e,f,[t,...m],d)}async function Ve(e,t,n,o,s,a,c=i.H_,u=i._u){const d=(0,J.MO)(o,n.publicKey,!1,c,u),l=(0,J.MO)(s,n.publicKey,!1,c,u),h=(0,J.MO)(s,d,!0,c,u),m=(new r.Transaction).add(te(h,s,l,d,o,n.publicKey,c,u));return await(0,r.sendAndConfirmTransaction)(e,m,[t,n],a)}var Je=n("../../../node_modules/buffer/index.js").Buffer;const Xe=(0,o.n_)([(0,o.u8)("instruction")]);function Ye(e,t,n=[],o=i.H_){const s=(0,k.s)([{pubkey:e,isSigner:!1,isWritable:!0}],t,n),a=Je.alloc(Xe.span);return Xe.encode({instruction:c.c.Revoke},a),new r.TransactionInstruction({keys:s,programId:o,data:a})}function Qe(e,t=i.H_){if(!e.programId.equals(t))throw new a.yh;if(e.data.length!==Xe.span)throw new a.Z0;const{keys:{account:n,owner:r,multiSigners:o},data:s}=et(e);if(s.instruction!==c.c.Revoke)throw new a.In;if(!n||!r)throw new a.Di;return{programId:t,keys:{account:n,owner:r,multiSigners:o},data:s}}function et({programId:e,keys:[t,n,...r],data:i}){return{programId:e,keys:{account:t,owner:n,multiSigners:r},data:Xe.decode(i)}}async function tt(e,t,n,o,s=[],a,c=i.H_){const[u,d]=y(o,s),l=(new r.Transaction).add(Ye(n,u,s,c));return await(0,r.sendAndConfirmTransaction)(e,l,[t,...d],a)}var nt,rt=n("../../../node_modules/buffer/index.js").Buffer;!function(e){e[e.MintTokens=0]="MintTokens",e[e.FreezeAccount=1]="FreezeAccount",e[e.AccountOwner=2]="AccountOwner",e[e.CloseAccount=3]="CloseAccount",e[e.TransferFeeConfig=4]="TransferFeeConfig",e[e.WithheldWithdraw=5]="WithheldWithdraw",e[e.CloseMint=6]="CloseMint",e[e.InterestRate=7]="InterestRate",e[e.PermanentDelegate=8]="PermanentDelegate",e[e.ConfidentialTransferMint=9]="ConfidentialTransferMint",e[e.TransferHookProgramId=10]="TransferHookProgramId",e[e.ConfidentialTransferFeeConfig=11]="ConfidentialTransferFeeConfig",e[e.MetadataPointer=12]="MetadataPointer",e[e.GroupPointer=13]="GroupPointer",e[e.GroupMemberPointer=14]="GroupMemberPointer"}(nt||(nt={}));const it=(0,o.n_)([(0,o.u8)("instruction"),(0,o.u8)("authorityType"),new oe("newAuthority")]);function ot(e,t,n,o,s=[],a=i.H_){const u=(0,k.s)([{pubkey:e,isSigner:!1,isWritable:!0}],t,s),d=rt.alloc(it.span);return it.encode({instruction:c.c.SetAuthority,authorityType:n,newAuthority:o},d),new r.TransactionInstruction({keys:u,programId:a,data:d})}function st(e,t=i.H_){if(!e.programId.equals(t))throw new a.yh;if(e.data.length!==it.span)throw new a.Z0;const{keys:{account:n,currentAuthority:r,multiSigners:o},data:s}=at(e);if(s.instruction!==c.c.SetAuthority)throw new a.In;if(!n||!r)throw new a.Di;return{programId:t,keys:{account:n,currentAuthority:r,multiSigners:o},data:s}}function at({programId:e,keys:[t,n,...r],data:i}){const{instruction:o,authorityType:s,newAuthority:a}=it.decode(i);return{programId:e,keys:{account:t,currentAuthority:n,multiSigners:r},data:{instruction:o,authorityType:s,newAuthority:a}}}async function ct(e,t,n,o,s,a,c=[],u,d=i.H_){const[l,h]=y(o,c),m=(new r.Transaction).add(ot(n,l,s,a,c,d));return await(0,r.sendAndConfirmTransaction)(e,m,[t,...h],u)}async function ut(e,t,n,o,s=i.H_){const a=(new r.Transaction).add(Te(n,s));return await(0,r.sendAndConfirmTransaction)(e,a,[t],o)}var dt=n("../../../node_modules/buffer/index.js").Buffer;const lt=(0,o.n_)([(0,o.u8)("instruction")]);function ht(e,t,n,o=[],s=i.H_){const a=(0,k.s)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1}],n,o),u=dt.alloc(lt.span);return lt.encode({instruction:c.c.ThawAccount},u),new r.TransactionInstruction({keys:a,programId:s,data:u})}function mt(e,t=i.H_){if(!e.programId.equals(t))throw new a.yh;if(e.data.length!==lt.span)throw new a.Z0;const{keys:{account:n,mint:r,authority:o,multiSigners:s},data:u}=ft(e);if(u.instruction!==c.c.ThawAccount)throw new a.In;if(!n||!r||!o)throw new a.Di;return{programId:t,keys:{account:n,mint:r,authority:o,multiSigners:s},data:u}}function ft({programId:e,keys:[t,n,r,...i],data:o}){return{programId:e,keys:{account:t,mint:n,authority:r,multiSigners:i},data:lt.decode(o)}}async function pt(e,t,n,o,s,a=[],c,u=i.H_){const[d,l]=y(s,a),h=(new r.Transaction).add(ht(n,o,d,a,u));return await(0,r.sendAndConfirmTransaction)(e,h,[t,...l],c)}var gt=n("../../../node_modules/buffer/index.js").Buffer;const yt=(0,o.n_)([(0,o.u8)("instruction"),(0,s.AW)("amount")]);function bt(e,t,n,o,s=[],a=i.H_){const u=(0,k.s)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0}],n,s),d=gt.alloc(yt.span);return yt.encode({instruction:c.c.Transfer,amount:BigInt(o)},d),new r.TransactionInstruction({keys:u,programId:a,data:d})}function kt(e,t=i.H_){if(!e.programId.equals(t))throw new a.yh;if(e.data.length!==yt.span)throw new a.Z0;const{keys:{source:n,destination:r,owner:o,multiSigners:s},data:u}=wt(e);if(u.instruction!==c.c.Transfer)throw new a.In;if(!n||!r||!o)throw new a.Di;return{programId:t,keys:{source:n,destination:r,owner:o,multiSigners:s},data:u}}function wt({programId:e,keys:[t,n,r,...i],data:o}){return{programId:e,keys:{source:t,destination:n,owner:r,multiSigners:i},data:yt.decode(o)}}async function It(e,t,n,o,s,a,c=[],u,d=i.H_){const[l,h]=y(s,c),m=(new r.Transaction).add(bt(n,o,l,a,c,d));return await(0,r.sendAndConfirmTransaction)(e,m,[t,...h],u)}var _t=n("../../../node_modules/buffer/index.js").Buffer;const At=(0,o.n_)([(0,o.u8)("instruction"),(0,s.AW)("amount"),(0,o.u8)("decimals")]);function St(e,t,n,o,s,a,u=[],d=i.H_){const l=(0,k.s)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0}],o,u),h=_t.alloc(At.span);return At.encode({instruction:c.c.TransferChecked,amount:BigInt(s),decimals:a},h),new r.TransactionInstruction({keys:l,programId:d,data:h})}function Tt(e,t=i.H_){if(!e.programId.equals(t))throw new a.yh;if(e.data.length!==At.span)throw new a.Z0;const{keys:{source:n,mint:r,destination:o,owner:s,multiSigners:u},data:d}=xt(e);if(d.instruction!==c.c.TransferChecked)throw new a.In;if(!(n&&r&&o&&s))throw new a.Di;return{programId:t,keys:{source:n,mint:r,destination:o,owner:s,multiSigners:u},data:d}}function xt({programId:e,keys:[t,n,r,i,...o],data:s}){return{programId:e,keys:{source:t,mint:n,destination:r,owner:i,multiSigners:o},data:At.decode(s)}}async function vt(e,t,n,o,s,a,c,u,d=[],l,h=i.H_){const[m,f]=y(a,d),p=(new r.Transaction).add(St(n,o,s,m,c,u,d,h));return await(0,r.sendAndConfirmTransaction)(e,p,[t,...f],l)}var Pt=n("../../../node_modules/buffer/index.js").Buffer;function Et(e,t,n=i.H_){const s=[{pubkey:e,isSigner:!1,isWritable:!1}],a=Pt.from(t,"utf8"),u=(0,o.n_)([(0,o.u8)("instruction"),(0,o.Ik)(a.length,"amount")]),d=Pt.alloc(u.span);return u.encode({instruction:c.c.UiAmountToAmount,amount:a},d),new r.TransactionInstruction({keys:s,programId:n,data:d})}function Rt(e,t=i.H_){if(!e.programId.equals(t))throw new a.yh;const n=(0,o.n_)([(0,o.u8)("instruction"),(0,o.Ik)(e.data.length-1,"amount")]);if(e.data.length!==n.span)throw new a.Z0;const{keys:{mint:r},data:s}=Bt(e);if(s.instruction!==c.c.UiAmountToAmount)throw new a.In;if(!r)throw new a.Di;return{programId:t,keys:{mint:r},data:s}}function Bt({programId:e,keys:[t],data:n}){return{programId:e,keys:{mint:t},data:(0,o.n_)([(0,o.u8)("instruction"),(0,o.Ik)(n.length-1,"amount")]).decode(n)}}var Ct=n("../../../node_modules/buffer/index.js").Buffer;async function zt(e,t,n,o,a=i.H_){const c=(new r.Transaction).add(Et(n,o,a)),{returnData:u,err:d}=(await e.simulateTransaction(c,[t],!1)).value;if(u){const e=Ct.from(u.data[0],u.data[1]);return(0,s.AW)().decode(e)}return d}var Wt,Mt=n("../../../node_modules/@solana/spl-token/lib/esm/extensions/accountType.js"),Lt=n("../../../node_modules/buffer/index.js").Buffer;!function(e){e[e.Enable=0]="Enable",e[e.Disable=1]="Disable"}(Wt||(Wt={}));const Ot=(0,o.n_)([(0,o.u8)("instruction"),(0,o.u8)("cpiGuardInstruction")]);function Kt(e,t,n=[],r=i.nA){return Ut(Wt.Enable,e,t,n,r)}function jt(e,t,n=[],r=i.nA){return Ut(Wt.Disable,e,t,n,r)}function Ut(e,t,n,o,s){if(!(0,i.lP)(s))throw new a.BT;const u=(0,k.s)([{pubkey:t,isSigner:!1,isWritable:!0}],n,o),d=Lt.alloc(Ot.span);return Ot.encode({instruction:c.c.CpiGuardExtension,cpiGuardInstruction:e},d),new r.TransactionInstruction({keys:u,programId:s,data:d})}async function Nt(e,t,n,o,s=[],a,c=i.nA){const[u,d]=y(o,s),l=(new r.Transaction).add(Kt(n,u,d,c));return await(0,r.sendAndConfirmTransaction)(e,l,[t,...d],a)}async function Ft(e,t,n,o,s=[],a,c=i.nA){const[u,d]=y(o,s),l=(new r.Transaction).add(jt(n,u,d,c));return await(0,r.sendAndConfirmTransaction)(e,l,[t,...d],a)}var qt,Dt=n("../../../node_modules/@solana/spl-token/lib/esm/extensions/cpiGuard/state.js"),Ht=n("../../../node_modules/buffer/index.js").Buffer;!function(e){e[e.Initialize=0]="Initialize",e[e.Update=1]="Update"}(qt||(qt={}));const $t=(0,o.n_)([(0,o.u8)("instruction"),(0,o.u8)("defaultAccountStateInstruction"),(0,o.u8)("accountState")]);function Gt(e,t,n=i.nA){if(!(0,i.lP)(n))throw new a.BT;const o=[{pubkey:e,isSigner:!1,isWritable:!0}],s=Ht.alloc($t.span);return $t.encode({instruction:c.c.DefaultAccountStateExtension,defaultAccountStateInstruction:qt.Initialize,accountState:t},s),new r.TransactionInstruction({keys:o,programId:n,data:s})}function Zt(e,t,n,o=[],s=i.nA){if(!(0,i.lP)(s))throw new a.BT;const u=(0,k.s)([{pubkey:e,isSigner:!1,isWritable:!0}],n,o),d=Ht.alloc($t.span);return $t.encode({instruction:c.c.DefaultAccountStateExtension,defaultAccountStateInstruction:qt.Update,accountState:t},d),new r.TransactionInstruction({keys:u,programId:s,data:d})}async function Vt(e,t,n,o,s,a=i.nA){const c=(new r.Transaction).add(Gt(n,o,a));return await(0,r.sendAndConfirmTransaction)(e,c,[t],s)}async function Jt(e,t,n,o,s,a=[],c,u=i.nA){const[d,l]=y(s,a),h=(new r.Transaction).add(Zt(n,o,d,l,u));return await(0,r.sendAndConfirmTransaction)(e,h,[t,...l],c)}var Xt,Yt=n("../../../node_modules/@solana/spl-token/lib/esm/extensions/defaultAccountState/state.js"),Qt=n("../../../node_modules/buffer/index.js").Buffer;!function(e){e[e.Initialize=0]="Initialize",e[e.Update=1]="Update"}(Xt||(Xt={}));const en=(0,o.n_)([(0,o.u8)("instruction"),(0,o.u8)("groupMemberPointerInstruction"),(0,s.ZL)("authority"),(0,s.ZL)("memberAddress")]);function tn(e,t,n,o=i.nA){if(!(0,i.lP)(o))throw new a.BT;const s=[{pubkey:e,isSigner:!1,isWritable:!0}],u=Qt.alloc(en.span);return en.encode({instruction:c.c.GroupMemberPointerExtension,groupMemberPointerInstruction:Xt.Initialize,authority:t??r.PublicKey.default,memberAddress:n??r.PublicKey.default},u),new r.TransactionInstruction({keys:s,programId:o,data:u})}const nn=(0,o.n_)([(0,o.u8)("instruction"),(0,o.u8)("groupMemberPointerInstruction"),(0,s.ZL)("memberAddress")]);function rn(e,t,n,o=[],s=i.nA){if(!(0,i.lP)(s))throw new a.BT;const u=(0,k.s)([{pubkey:e,isSigner:!1,isWritable:!0}],t,o),d=Qt.alloc(nn.span);return nn.encode({instruction:c.c.GroupMemberPointerExtension,groupMemberPointerInstruction:Xt.Update,memberAddress:n??r.PublicKey.default},d),new r.TransactionInstruction({keys:u,programId:s,data:d})}var on,sn=n("../../../node_modules/@solana/spl-token/lib/esm/extensions/groupMemberPointer/state.js"),an=n("../../../node_modules/buffer/index.js").Buffer;!function(e){e[e.Initialize=0]="Initialize",e[e.Update=1]="Update"}(on||(on={}));const cn=(0,o.n_)([(0,o.u8)("instruction"),(0,o.u8)("groupPointerInstruction"),(0,s.ZL)("authority"),(0,s.ZL)("groupAddress")]);function un(e,t,n,o=i.nA){if(!(0,i.lP)(o))throw new a.BT;const s=[{pubkey:e,isSigner:!1,isWritable:!0}],u=an.alloc(cn.span);return cn.encode({instruction:c.c.GroupPointerExtension,groupPointerInstruction:on.Initialize,authority:t??r.PublicKey.default,groupAddress:n??r.PublicKey.default},u),new r.TransactionInstruction({keys:s,programId:o,data:u})}const dn=(0,o.n_)([(0,o.u8)("instruction"),(0,o.u8)("groupPointerInstruction"),(0,s.ZL)("groupAddress")]);function ln(e,t,n,o=[],s=i.nA){if(!(0,i.lP)(s))throw new a.BT;const u=(0,k.s)([{pubkey:e,isSigner:!1,isWritable:!0}],t,o),d=an.alloc(dn.span);return dn.encode({instruction:c.c.GroupPointerExtension,groupPointerInstruction:on.Update,groupAddress:n??r.PublicKey.default},d),new r.TransactionInstruction({keys:u,programId:s,data:d})}var hn=n("../../../node_modules/@solana/spl-token/lib/esm/extensions/groupPointer/state.js"),mn=n("../../../node_modules/@solana/spl-token/lib/esm/extensions/immutableOwner.js"),fn=n("../../../node_modules/buffer/index.js").Buffer;const pn=(0,o.n_)([(0,o.u8)("instruction"),(0,o.u8)("decimals"),(0,s.ZL)("mintAuthority"),new oe("freezeAuthority")]);function gn(e,t,n,o,s=i.H_){const a=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],u=fn.alloc(pn.span);return pn.encode({instruction:c.c.InitializeMint,decimals:t,mintAuthority:n,freezeAuthority:o},u),new r.TransactionInstruction({keys:a,programId:s,data:u})}function yn(e,t=i.H_){if(!e.programId.equals(t))throw new a.yh;if(e.data.length!==pn.span)throw new a.Z0;const{keys:{mint:n,rent:r},data:o}=bn(e);if(o.instruction!==c.c.InitializeMint)throw new a.In;if(!n||!r)throw new a.Di;return{programId:t,keys:{mint:n,rent:r},data:o}}function bn({programId:e,keys:[t,n],data:r}){const{instruction:i,decimals:o,mintAuthority:s,freezeAuthority:a}=pn.decode(r);return{programId:e,keys:{mint:t,rent:n},data:{instruction:i,decimals:o,mintAuthority:s,freezeAuthority:a}}}var kn,wn=n("../../../node_modules/buffer/index.js").Buffer;!function(e){e[e.Initialize=0]="Initialize",e[e.UpdateRate=1]="UpdateRate"}(kn||(kn={}));const In=(0,o.n_)([(0,o.u8)("instruction"),(0,o.u8)("interestBearingMintInstruction"),(0,s.ZL)("rateAuthority"),(0,o.Tl)("rate")]),_n=(0,o.n_)([(0,o.u8)("instruction"),(0,o.u8)("interestBearingMintInstruction"),(0,o.Tl)("rate")]);function An(e,t,n,o=i.nA){const s=[{pubkey:e,isSigner:!1,isWritable:!0}],a=wn.alloc(In.span);return In.encode({instruction:c.c.InterestBearingMintExtension,interestBearingMintInstruction:kn.Initialize,rateAuthority:t,rate:n},a),new r.TransactionInstruction({keys:s,programId:o,data:a})}function Sn(e,t,n,o=[],s=i.nA){const a=(0,k.s)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!o.length,isWritable:!1}],t,o),u=wn.alloc(_n.span);return _n.encode({instruction:c.c.InterestBearingMintExtension,interestBearingMintInstruction:kn.UpdateRate,rate:n},u),new r.TransactionInstruction({keys:a,programId:s,data:u})}async function Tn(e,t,n,o,s,a,c,u=r.Keypair.generate(),d,l=i.nA){const h=(0,D.jk)([D.nw.InterestBearingConfig]),m=await e.getMinimumBalanceForRentExemption(h),f=(new r.Transaction).add(r.SystemProgram.createAccount({fromPubkey:t.publicKey,newAccountPubkey:u.publicKey,space:h,lamports:m,programId:l}),An(u.publicKey,s,a,l),gn(u.publicKey,c,n,o,l));return await(0,r.sendAndConfirmTransaction)(e,f,[t,u],d),u.publicKey}async function xn(e,t,n,o,s,a=[],c,u=i.nA){const[d,l]=y(o,a),h=(new r.Transaction).add(Sn(n,d,s,l,u));return await(0,r.sendAndConfirmTransaction)(e,h,[t,o,...l],c)}var vn,Pn=n("../../../node_modules/@solana/spl-token/lib/esm/extensions/interestBearingMint/state.js"),En=n("../../../node_modules/buffer/index.js").Buffer;!function(e){e[e.Enable=0]="Enable",e[e.Disable=1]="Disable"}(vn||(vn={}));const Rn=(0,o.n_)([(0,o.u8)("instruction"),(0,o.u8)("memoTransferInstruction")]);function Bn(e,t,n=[],r=i.nA){return zn(vn.Enable,e,t,n,r)}function Cn(e,t,n=[],r=i.nA){return zn(vn.Disable,e,t,n,r)}function zn(e,t,n,o,s){if(!(0,i.lP)(s))throw new a.BT;const u=(0,k.s)([{pubkey:t,isSigner:!1,isWritable:!0}],n,o),d=En.alloc(Rn.span);return Rn.encode({instruction:c.c.MemoTransferExtension,memoTransferInstruction:e},d),new r.TransactionInstruction({keys:u,programId:s,data:d})}async function Wn(e,t,n,o,s=[],a,c=i.nA){const[u,d]=y(o,s),l=(new r.Transaction).add(Bn(n,u,d,c));return await(0,r.sendAndConfirmTransaction)(e,l,[t,...d],a)}async function Mn(e,t,n,o,s=[],a,c=i.nA){const[u,d]=y(o,s),l=(new r.Transaction).add(Cn(n,u,d,c));return await(0,r.sendAndConfirmTransaction)(e,l,[t,...d],a)}var Ln,On=n("../../../node_modules/@solana/spl-token/lib/esm/extensions/memoTransfer/state.js"),Kn=n("../../../node_modules/buffer/index.js").Buffer;!function(e){e[e.Initialize=0]="Initialize",e[e.Update=1]="Update"}(Ln||(Ln={}));const jn=(0,o.n_)([(0,o.u8)("instruction"),(0,o.u8)("metadataPointerInstruction"),(0,s.ZL)("authority"),(0,s.ZL)("metadataAddress")]);function Un(e,t,n,o){if(!(0,i.lP)(o))throw new a.BT;const s=[{pubkey:e,isSigner:!1,isWritable:!0}],u=Kn.alloc(jn.span);return jn.encode({instruction:c.c.MetadataPointerExtension,metadataPointerInstruction:Ln.Initialize,authority:t??r.PublicKey.default,metadataAddress:n??r.PublicKey.default},u),new r.TransactionInstruction({keys:s,programId:o,data:u})}const Nn=(0,o.n_)([(0,o.u8)("instruction"),(0,o.u8)("metadataPointerInstruction"),(0,s.ZL)("metadataAddress")]);function Fn(e,t,n,o=[],s=i.nA){if(!(0,i.lP)(s))throw new a.BT;const u=(0,k.s)([{pubkey:e,isSigner:!1,isWritable:!0}],t,o),d=Kn.alloc(Nn.span);return Nn.encode({instruction:c.c.MetadataPointerExtension,metadataPointerInstruction:Ln.Update,metadataAddress:n??r.PublicKey.default},d),new r.TransactionInstruction({keys:u,programId:s,data:d})}var qn=n("../../../node_modules/@solana/spl-token/lib/esm/extensions/metadataPointer/state.js"),Dn=n("../../../node_modules/@solana/codecs-core/dist/index.browser.js"),Hn=n("../../../node_modules/@solana/codecs-data-structures/dist/index.browser.js"),$n=n("../../../node_modules/@solana/codecs-numbers/dist/index.browser.js"),Gn=n("../../../node_modules/crypto-browserify/index.js");const Zn=(e,t=8)=>(0,Gn.createHash)("sha256").update(e).digest().subarray(0,t);var Vn=n("../../../node_modules/buffer/index.js").Buffer;function Jn(e,t){return(0,Dn.sK)((0,Hn.GK)([(0,Hn.B9)(),t]),(t=>[e,t]))}function Xn(){return(0,Dn.sK)((0,Hn.B9)({size:32}),(e=>e.toBytes()))}function Yn(e){const{programId:t,group:n,mint:i,mintAuthority:o,updateAuthority:s,maxSize:a}=e;return new r.TransactionInstruction({programId:t,keys:[{isSigner:!1,isWritable:!0,pubkey:n},{isSigner:!1,isWritable:!1,pubkey:i},{isSigner:!0,isWritable:!1,pubkey:o}],data:Vn.from(Jn(Zn("spl_token_group_interface:initialize_token_group"),(0,Hn.Q5)([["updateAuthority",Xn()],["maxSize",(0,$n.Nf)()]])).encode({updateAuthority:s??r.SystemProgram.programId,maxSize:a}))})}function Qn(e){const{programId:t,group:n,updateAuthority:i,maxSize:o}=e;return new r.TransactionInstruction({programId:t,keys:[{isSigner:!1,isWritable:!0,pubkey:n},{isSigner:!0,isWritable:!1,pubkey:i}],data:Vn.from(Jn(Zn("spl_token_group_interface:update_group_max_size"),(0,Hn.Q5)([["maxSize",(0,$n.Nf)()]])).encode({maxSize:o}))})}function er(e){const{programId:t,group:n,currentAuthority:i,newAuthority:o}=e;return new r.TransactionInstruction({programId:t,keys:[{isSigner:!1,isWritable:!0,pubkey:n},{isSigner:!0,isWritable:!1,pubkey:i}],data:Vn.from(Jn(Zn("spl_token_group_interface:update_authority"),(0,Hn.Q5)([["newAuthority",Xn()]])).encode({newAuthority:o??r.SystemProgram.programId}))})}function tr(e){const{programId:t,member:n,memberMint:i,memberMintAuthority:o,group:s,groupUpdateAuthority:a}=e;return new r.TransactionInstruction({programId:t,keys:[{isSigner:!1,isWritable:!0,pubkey:n},{isSigner:!1,isWritable:!1,pubkey:i},{isSigner:!0,isWritable:!1,pubkey:o},{isSigner:!1,isWritable:!0,pubkey:s},{isSigner:!0,isWritable:!1,pubkey:a}],data:Vn.from(Jn(Zn("spl_token_group_interface:initialize_member"),(0,Hn.Q5)([])).encode({}))})}var nr=n("../../../node_modules/@solana/spl-token-group/lib/esm/state/tokenGroup.js"),rr=n("../../../node_modules/@solana/spl-token-group/lib/esm/state/tokenGroupMember.js");async function ir(e,t,n,o,s,a,c=[],u,d=i.nA){const[l,h]=y(o,c),m=(new r.Transaction).add(Yn({programId:d,group:n,mint:n,mintAuthority:l,updateAuthority:s,maxSize:a}));return await(0,r.sendAndConfirmTransaction)(e,m,[t,...h],u)}async function or(e,t,n,o,s,a,c=[],u,d=i.nA){const[l,h]=y(o,c),m=await e.getMinimumBalanceForRentExemption(nr.AK),f=(new r.Transaction).add(r.SystemProgram.transfer({fromPubkey:t.publicKey,toPubkey:n,lamports:m}),Yn({programId:d,group:n,mint:n,mintAuthority:l,updateAuthority:s,maxSize:a}));return await(0,r.sendAndConfirmTransaction)(e,f,[t,...h],u)}async function sr(e,t,n,o,s,a=[],c,u=i.nA){const[d,l]=y(o,a),h=(new r.Transaction).add(Qn({programId:u,group:n,updateAuthority:d,maxSize:s}));return await(0,r.sendAndConfirmTransaction)(e,h,[t,...l],c)}async function ar(e,t,n,o,s,a=[],c,u=i.nA){const[d,l]=y(o,a),h=(new r.Transaction).add(er({programId:u,group:n,currentAuthority:d,newAuthority:s}));return await(0,r.sendAndConfirmTransaction)(e,h,[t,...l],c)}async function cr(e,t,n,o,s,a,c=[],u,d=i.nA){const[l,h]=y(o,c),m=(new r.Transaction).add(tr({programId:d,member:n,memberMint:n,memberMintAuthority:l,group:s,groupUpdateAuthority:a}));return await(0,r.sendAndConfirmTransaction)(e,m,[t,...h],u)}async function ur(e,t,n,o,s,a,c=[],u,d=i.nA){const[l,h]=y(o,c),m=await e.getMinimumBalanceForRentExemption(rr._h),f=(new r.Transaction).add(r.SystemProgram.transfer({fromPubkey:t.publicKey,toPubkey:n,lamports:m}),tr({programId:d,member:n,memberMint:n,memberMintAuthority:l,group:s,groupUpdateAuthority:a}));return await(0,r.sendAndConfirmTransaction)(e,f,[t,...h],u)}function dr(e){const t=(0,D.mq)(D.nw.TokenGroup,e.tlvData);if(null!==t){const{updateAuthority:e,mint:n,size:i,maxSize:o}=(0,nr.no)(t);return{updateAuthority:e?.equals(r.PublicKey.default)?void 0:e,mint:n,size:i,maxSize:o}}return null}function lr(e){const t=(0,D.mq)(D.nw.TokenGroupMember,e.tlvData);if(null!==t){const{mint:e,group:n,memberNumber:r}=(0,rr.Ff)(t);return{mint:e,group:n,memberNumber:r}}return null}var hr=e=>e.replace(/\u0000/g,""),mr=globalThis.TextDecoder,fr=globalThis.TextEncoder,pr=()=>{let e;return(0,Dn.Mf)({getSizeFromValue:t=>(e||=new fr).encode(t).length,write:(t,n,r)=>{const i=(e||=new fr).encode(t);return n.set(i,r),r+i.length}})};function gr(e={}){const t=e.size??(0,$n.Nf)(),n=e.encoding??pr();return"variable"===t?n:"number"==typeof t?(0,Dn.Q3)(n,t):(0,Dn.Mf)({getSizeFromValue:e=>{const r=(0,Dn.C6)(e,n);return(0,Dn.C6)(r,t)+r},write:(e,r,i)=>{const o=(0,Dn.C6)(e,n);return i=t.write(o,r,i),n.write(e,r,i)}})}function yr(e={}){return(0,Dn.$t)(gr(e),function(e={}){const t=e.size??(0,$n.Pz)(),n=e.encoding??(()=>{let e;return(0,Dn.UF)({read(t,n){const r=(e||=new mr).decode(t.slice(n));return[hr(r),t.length]}})})();return"variable"===t?n:"number"==typeof t?(0,Dn.wf)(n,t):(0,Dn.UF)({read:(e,r=0)=>{(0,Dn.f7)("string",e,r);const[i,o]=t.read(e,r),s=Number(i);r=o;const a=e.slice(r,r+s);(0,Dn.Y6)("string",s,a);const[c,u]=n.read(a,0);return[c,r+=u]}})}(e))}n("../../../node_modules/buffer/index.js").Buffer.from([112,132,90,90,11,88,157,87]);const br=(0,Hn.JF)([["updateAuthority",(0,Hn.qp)({size:32})],["mint",(0,Hn.qp)({size:32})],["name",yr()],["symbol",yr()],["uri",yr()],["additionalMetadata",(0,Hn.Vf)((0,Hn.gC)([yr(),yr()]))]]);function kr(e){const t=e.updateAuthority??r.PublicKey.default;return br.encode({...e,updateAuthority:t.toBuffer(),mint:e.mint.toBuffer()})}function wr(e){const t=br.decode(e);return function(e){for(let t=0;t<e.length;t++)if(0!==e[t])return!1;return!0}(t.updateAuthority)?{mint:new r.PublicKey(t.mint),name:t.name,symbol:t.symbol,uri:t.uri,additionalMetadata:t.additionalMetadata}:{updateAuthority:new r.PublicKey(t.updateAuthority),mint:new r.PublicKey(t.mint),name:t.name,symbol:t.symbol,uri:t.uri,additionalMetadata:t.additionalMetadata}}var Ir,_r=e=>!!(e&&"object"==typeof e&&"__option"in e&&("Some"===e.__option&&"value"in e||"None"===e.__option)),Ar=e=>"Some"===e.__option,Sr=e=>null!==e?{__option:"Some",value:e}:{__option:"None"};function Tr(e,t={}){const n=t.prefix??(0,$n.$L)(),r=t.fixed??!1,i=(0,Dn.BV)(e)&&(0,Dn.BV)(n)&&0===e.fixedSize;if(r||i){(0,Dn.$o)(e),(0,Dn.$o)(n);const t=n.fixedSize+e.fixedSize;return(0,Dn.Mf)({fixedSize:t,write:(r,i,o)=>{const s=_r(r)?r:Sr(r),a=n.write(Number(Ar(s)),i,o);return Ar(s)&&e.write(s.value,i,a),o+t}})}return(0,Dn.Mf)({getSizeFromValue:t=>{const r=_r(t)?t:Sr(t);return(0,Dn.C6)(Number(Ar(r)),n)+(Ar(r)?(0,Dn.C6)(r.value,e):0)},maxSize:(o=[n,e].map(xr),o.reduce(((e,t)=>null===e||null===t?null:e+t),0)??void 0),write:(t,r,i)=>{const o=_r(t)?t:Sr(t);return i=n.write(Number(Ar(o)),r,i),Ar(o)&&(i=e.write(o.value,r,i)),i}});var o}function xr(e){return(0,Dn.BV)(e)?e.fixedSize:e.maxSize??null}!function(e){e[e.Name=0]="Name",e[e.Symbol=1]="Symbol",e[e.Uri=2]="Uri"}(Ir||(Ir={}));const vr=()=>[["Name",(0,Hn.DU)()],["Symbol",(0,Hn.DU)()],["Uri",(0,Hn.DU)()],["Key",(0,Hn.JF)([["value",(0,Hn.gC)([yr()])]])]];function Pr(e){return e===Ir.Name||"Name"===e||"name"===e?{__kind:"Name"}:e===Ir.Symbol||"Symbol"===e||"symbol"===e?{__kind:"Symbol"}:e===Ir.Uri||"Uri"===e||"uri"===e?{__kind:"Uri"}:{__kind:"Key",value:[e]}}var Er=n("../../../node_modules/buffer/index.js").Buffer;function Rr(e,t){return(0,Dn.sK)((0,Hn.GK)([(0,Hn.B9)(),t]),(t=>[e,t]))}function Br(e){const{programId:t,metadata:n,updateAuthority:i,mint:o,mintAuthority:s,name:a,symbol:c,uri:u}=e;return new r.TransactionInstruction({programId:t,keys:[{isSigner:!1,isWritable:!0,pubkey:n},{isSigner:!1,isWritable:!1,pubkey:i},{isSigner:!1,isWritable:!1,pubkey:o},{isSigner:!0,isWritable:!1,pubkey:s}],data:Er.from(Rr(Zn("spl_token_metadata_interface:initialize_account"),(0,Hn.Q5)([["name",gr()],["symbol",gr()],["uri",gr()]])).encode({name:a,symbol:c,uri:u}))})}function Cr(e){const{programId:t,metadata:n,updateAuthority:i,field:o,value:s}=e;return new r.TransactionInstruction({programId:t,keys:[{isSigner:!1,isWritable:!0,pubkey:n},{isSigner:!0,isWritable:!1,pubkey:i}],data:Er.from(Rr(Zn("spl_token_metadata_interface:updating_field"),(0,Hn.Q5)([["field",(0,Hn.ht)(vr())],["value",gr()]])).encode({field:Pr(o),value:s}))})}function zr(e){const{programId:t,metadata:n,updateAuthority:i,key:o,idempotent:s}=e;return new r.TransactionInstruction({programId:t,keys:[{isSigner:!1,isWritable:!0,pubkey:n},{isSigner:!0,isWritable:!1,pubkey:i}],data:Er.from(Rr(Zn("spl_token_metadata_interface:remove_key_ix"),(0,Hn.Q5)([["idempotent",(0,Hn.Qw)()],["key",gr()]])).encode({idempotent:s,key:o}))})}function Wr(e){const{programId:t,metadata:n,oldAuthority:i,newAuthority:o}=e;return new r.TransactionInstruction({programId:t,keys:[{isSigner:!1,isWritable:!0,pubkey:n},{isSigner:!0,isWritable:!1,pubkey:i}],data:Er.from(Rr(Zn("spl_token_metadata_interface:update_the_authority"),(0,Hn.Q5)([["newAuthority",(0,Dn.sK)((0,Hn.B9)({size:32}),(e=>e.toBytes()))]])).encode({newAuthority:o??r.SystemProgram.programId}))})}function Mr(e){const{programId:t,metadata:n,start:i,end:o}=e;return new r.TransactionInstruction({programId:t,keys:[{isSigner:!1,isWritable:!1,pubkey:n}],data:Er.from(Rr(Zn("spl_token_metadata_interface:emitter"),(0,Hn.Q5)([["start",Tr((0,$n.bP)())],["end",Tr((0,$n.bP)())]])).encode({start:i??null,end:o??null}))})}const Lr=e=>e===Ir.Name||"Name"===e||"name"===e?"name":e===Ir.Symbol||"Symbol"===e||"symbol"===e?"symbol":e===Ir.Uri||"Uri"===e||"uri"===e?"uri":e;function Or(e,t,n){const r=Lr(t);if("mint"===r||"updateAuthority"===r)throw new Error(`Cannot update ${r} via this instruction`);if(["name","symbol","uri"].includes(r))return{...e,[r]:n};const i=[...e.additionalMetadata],o=e.additionalMetadata.findIndex((e=>e[0]===r));return-1===o?i.push([r,n]):i[o]=[r,n],{...e,additionalMetadata:i}}async function Kr(e,t,n,r=i.nA){const o=await(0,J.ih)(e,t,n,r),s=(0,D.mq)(D.nw.TokenMetadata,o.tlvData);return null===s?null:wr(s)}async function jr(e,t,n,o,s,a,c,u,d=[],l,h=i.nA){const[m,f]=y(s,d),p=(new r.Transaction).add(Br({programId:h,metadata:n,updateAuthority:o,mint:n,mintAuthority:m,name:a,symbol:c,uri:u}));return await(0,r.sendAndConfirmTransaction)(e,p,[t,...f],l)}async function Ur(e,t,n,o,s,c,u,d,l=[],h,m=i.nA){const[f,p]=y(s,l),g=new r.Transaction,b=await async function(e,t,n,r=i.nA){const o=await e.getAccountInfo(t);if(!o)throw new a.We;const s=kr(n).length,c=(0,D.BY)(o,t,D.nw.TokenMetadata,s,r);return c<=o.data.length?0:await e.getMinimumBalanceForRentExemption(c)-o.lamports}(e,n,{updateAuthority:o,mint:n,name:c,symbol:u,uri:d,additionalMetadata:[]},m);return b>0&&g.add(r.SystemProgram.transfer({fromPubkey:t.publicKey,toPubkey:n,lamports:b})),g.add(Br({programId:m,metadata:n,updateAuthority:o,mint:n,mintAuthority:f,name:c,symbol:u,uri:d})),await(0,r.sendAndConfirmTransaction)(e,g,[t,...p],h)}async function Nr(e,t,n,o,s,a,c=[],u,d=i.nA){const[l,h]=y(o,c),m=(new r.Transaction).add(Cr({programId:d,metadata:n,updateAuthority:l,field:s,value:a}));return await(0,r.sendAndConfirmTransaction)(e,m,[t,...h],u)}async function Fr(e,t,n,o,s,c,u=[],d,l=i.nA){const[h,m]=y(o,u),f=new r.Transaction,p=await async function(e,t,n,r,o=i.nA){const s=await e.getAccountInfo(t);if(!s)throw new a.We;const c=(0,J.rs)(t,s,o),u=(0,D.mq)(D.nw.TokenMetadata,c.tlvData);if(null===u)throw new Error("TokenMetadata extension not initialized");const d=kr(Or(wr(u),n,r)).length,l=(0,D.BY)(s,t,D.nw.TokenMetadata,d,o);return l<=s.data.length?0:await e.getMinimumBalanceForRentExemption(l)-s.lamports}(e,n,s,c,l);return p>0&&f.add(r.SystemProgram.transfer({fromPubkey:t.publicKey,toPubkey:n,lamports:p})),f.add(Cr({programId:l,metadata:n,updateAuthority:h,field:s,value:c})),await(0,r.sendAndConfirmTransaction)(e,f,[t,...m],d)}async function qr(e,t,n,o,s,a,c=[],u,d=i.nA){const[l,h]=y(o,c),m=(new r.Transaction).add(zr({programId:d,metadata:n,updateAuthority:l,key:s,idempotent:a}));return await(0,r.sendAndConfirmTransaction)(e,m,[t,...h],u)}async function Dr(e,t,n,o,s,a=[],c,u=i.nA){const[d,l]=y(o,a),h=(new r.Transaction).add(Wr({programId:u,metadata:n,oldAuthority:d,newAuthority:s}));return await(0,r.sendAndConfirmTransaction)(e,h,[t,...l],c)}var Hr,$r=n("../../../node_modules/@solana/spl-token/lib/esm/extensions/mintCloseAuthority.js"),Gr=n("../../../node_modules/@solana/spl-token/lib/esm/extensions/nonTransferable.js"),Zr=n("../../../node_modules/buffer/index.js").Buffer;!function(e){e[e.InitializeTransferFeeConfig=0]="InitializeTransferFeeConfig",e[e.TransferCheckedWithFee=1]="TransferCheckedWithFee",e[e.WithdrawWithheldTokensFromMint=2]="WithdrawWithheldTokensFromMint",e[e.WithdrawWithheldTokensFromAccounts=3]="WithdrawWithheldTokensFromAccounts",e[e.HarvestWithheldTokensToMint=4]="HarvestWithheldTokensToMint",e[e.SetTransferFee=5]="SetTransferFee"}(Hr||(Hr={}));const Vr=(0,o.n_)([(0,o.u8)("instruction"),(0,o.u8)("transferFeeInstruction"),new oe("transferFeeConfigAuthority"),new oe("withdrawWithheldAuthority"),(0,o.KB)("transferFeeBasisPoints"),(0,s.AW)("maximumFee")]);function Jr(e,t,n,o,s,u=i.nA){if(!(0,i.lP)(u))throw new a.BT;const d=[{pubkey:e,isSigner:!1,isWritable:!0}],l=Zr.alloc(Vr.span);return Vr.encode({instruction:c.c.TransferFeeExtension,transferFeeInstruction:Hr.InitializeTransferFeeConfig,transferFeeConfigAuthority:t,withdrawWithheldAuthority:n,transferFeeBasisPoints:o,maximumFee:s},l),new r.TransactionInstruction({keys:d,programId:u,data:l})}function Xr(e,t){if(!e.programId.equals(t))throw new a.yh;if(e.data.length!==Vr.span)throw new a.Z0;const{keys:{mint:n},data:r}=Yr(e);if(r.instruction!==c.c.TransferFeeExtension||r.transferFeeInstruction!==Hr.InitializeTransferFeeConfig)throw new a.In;if(!n)throw new a.Di;return{programId:t,keys:{mint:n},data:r}}function Yr({programId:e,keys:[t],data:n}){const{instruction:r,transferFeeInstruction:i,transferFeeConfigAuthority:o,withdrawWithheldAuthority:s,transferFeeBasisPoints:a,maximumFee:c}=Vr.decode(n);return{programId:e,keys:{mint:t},data:{instruction:r,transferFeeInstruction:i,transferFeeConfigAuthority:o,withdrawWithheldAuthority:s,transferFeeBasisPoints:a,maximumFee:c}}}const Qr=(0,o.n_)([(0,o.u8)("instruction"),(0,o.u8)("transferFeeInstruction"),(0,s.AW)("amount"),(0,o.u8)("decimals"),(0,s.AW)("fee")]);function ei(e,t,n,o,s,u,d,l=[],h=i.nA){if(!(0,i.lP)(h))throw new a.BT;const m=Zr.alloc(Qr.span);Qr.encode({instruction:c.c.TransferFeeExtension,transferFeeInstruction:Hr.TransferCheckedWithFee,amount:s,decimals:u,fee:d},m);const f=(0,k.s)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0}],o,l);return new r.TransactionInstruction({keys:f,programId:h,data:m})}function ti(e,t){if(!e.programId.equals(t))throw new a.yh;if(e.data.length!==Qr.span)throw new a.Z0;const{keys:{source:n,mint:r,destination:i,authority:o,signers:s},data:u}=ni(e);if(u.instruction!==c.c.TransferFeeExtension||u.transferFeeInstruction!==Hr.TransferCheckedWithFee)throw new a.In;if(!r)throw new a.Di;return{programId:t,keys:{source:n,mint:r,destination:i,authority:o,signers:s||null},data:u}}function ni({programId:e,keys:[t,n,r,i,...o],data:s}){const{instruction:a,transferFeeInstruction:c,amount:u,decimals:d,fee:l}=Qr.decode(s);return{programId:e,keys:{source:t,mint:n,destination:r,authority:i,signers:o},data:{instruction:a,transferFeeInstruction:c,amount:u,decimals:d,fee:l}}}const ri=(0,o.n_)([(0,o.u8)("instruction"),(0,o.u8)("transferFeeInstruction")]);function ii(e,t,n,o=[],s=i.nA){if(!(0,i.lP)(s))throw new a.BT;const u=Zr.alloc(ri.span);ri.encode({instruction:c.c.TransferFeeExtension,transferFeeInstruction:Hr.WithdrawWithheldTokensFromMint},u);const d=(0,k.s)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0}],n,o);return new r.TransactionInstruction({keys:d,programId:s,data:u})}function oi(e,t){if(!e.programId.equals(t))throw new a.yh;if(e.data.length!==ri.span)throw new a.Z0;const{keys:{mint:n,destination:r,authority:i,signers:o},data:s}=si(e);if(s.instruction!==c.c.TransferFeeExtension||s.transferFeeInstruction!==Hr.WithdrawWithheldTokensFromMint)throw new a.In;if(!n)throw new a.Di;return{programId:t,keys:{mint:n,destination:r,authority:i,signers:o||null},data:s}}function si({programId:e,keys:[t,n,r,...i],data:o}){const{instruction:s,transferFeeInstruction:a}=ri.decode(o);return{programId:e,keys:{mint:t,destination:n,authority:r,signers:i},data:{instruction:s,transferFeeInstruction:a}}}const ai=(0,o.n_)([(0,o.u8)("instruction"),(0,o.u8)("transferFeeInstruction"),(0,o.u8)("numTokenAccounts")]);function ci(e,t,n,o,s,u=i.nA){if(!(0,i.lP)(u))throw new a.BT;const d=Zr.alloc(ai.span);ai.encode({instruction:c.c.TransferFeeExtension,transferFeeInstruction:Hr.WithdrawWithheldTokensFromAccounts,numTokenAccounts:s.length},d);const l=(0,k.s)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0}],n,o);for(const e of s)l.push({pubkey:e,isSigner:!1,isWritable:!0});return new r.TransactionInstruction({keys:l,programId:u,data:d})}function ui(e,t){if(!e.programId.equals(t))throw new a.yh;if(e.data.length!==ai.span)throw new a.Z0;const{keys:{mint:n,destination:r,authority:i,signers:o,sources:s},data:u}=di(e);if(u.instruction!==c.c.TransferFeeExtension||u.transferFeeInstruction!==Hr.WithdrawWithheldTokensFromAccounts)throw new a.In;if(!n)throw new a.Di;return{programId:t,keys:{mint:n,destination:r,authority:i,signers:o||null,sources:s||null},data:u}}function di({programId:e,keys:t,data:n}){const{instruction:r,transferFeeInstruction:i,numTokenAccounts:o}=ai.decode(n),[s,a,c,u,d]=[t[0],t[1],t[2],t.slice(3,3+o),t.slice(-1*o)];return{programId:e,keys:{mint:s,destination:a,authority:c,signers:u,sources:d},data:{instruction:r,transferFeeInstruction:i,numTokenAccounts:o}}}const li=(0,o.n_)([(0,o.u8)("instruction"),(0,o.u8)("transferFeeInstruction")]);function hi(e,t,n=i.nA){if(!(0,i.lP)(n))throw new a.BT;const o=Zr.alloc(li.span);li.encode({instruction:c.c.TransferFeeExtension,transferFeeInstruction:Hr.HarvestWithheldTokensToMint},o);const s=[];s.push({pubkey:e,isSigner:!1,isWritable:!0});for(const e of t)s.push({pubkey:e,isSigner:!1,isWritable:!0});return new r.TransactionInstruction({keys:s,programId:n,data:o})}function mi(e,t){if(!e.programId.equals(t))throw new a.yh;if(e.data.length!==li.span)throw new a.Z0;const{keys:{mint:n,sources:r},data:i}=fi(e);if(i.instruction!==c.c.TransferFeeExtension||i.transferFeeInstruction!==Hr.HarvestWithheldTokensToMint)throw new a.In;if(!n)throw new a.Di;return{programId:t,keys:{mint:n,sources:r},data:i}}function fi({programId:e,keys:[t,...n],data:r}){const{instruction:i,transferFeeInstruction:o}=li.decode(r);return{programId:e,keys:{mint:t,sources:n},data:{instruction:i,transferFeeInstruction:o}}}async function pi(e,t,n,o,s,a,c,u,d,l=[],h,m=i.nA){const[f,p]=y(a,l),g=(new r.Transaction).add(ei(n,o,s,f,c,u,d,l,m));return await(0,r.sendAndConfirmTransaction)(e,g,[t,...p],h)}async function gi(e,t,n,o,s,a=[],c,u=i.nA){const[d,l]=y(s,a),h=(new r.Transaction).add(ii(n,o,d,l,u));return await(0,r.sendAndConfirmTransaction)(e,h,[t,...l],c)}async function yi(e,t,n,o,s,a,c,u,d=i.nA){const[l,h]=y(s,a),m=(new r.Transaction).add(ci(n,o,l,h,c,d));return await(0,r.sendAndConfirmTransaction)(e,m,[t,...h],u)}async function bi(e,t,n,o,s,a=i.nA){const c=(new r.Transaction).add(hi(n,o,a));return await(0,r.sendAndConfirmTransaction)(e,c,[t],s)}var ki,wi=n("../../../node_modules/@solana/spl-token/lib/esm/extensions/transferFee/state.js"),Ii=n("../../../node_modules/@solana/spl-token/lib/esm/extensions/permanentDelegate.js"),_i=n("../../../node_modules/@solana/spl-token/lib/esm/extensions/transferHook/state.js"),Ai=n("../../../node_modules/buffer/index.js").Buffer;!function(e){e[e.Initialize=0]="Initialize",e[e.Update=1]="Update"}(ki||(ki={}));const Si=(0,o.n_)([(0,o.u8)("instruction"),(0,o.u8)("transferHookInstruction"),(0,s.ZL)("authority"),(0,s.ZL)("transferHookProgramId")]);function Ti(e,t,n,o){if(!(0,i.lP)(o))throw new a.BT;const s=[{pubkey:e,isSigner:!1,isWritable:!0}],u=Ai.alloc(Si.span);return Si.encode({instruction:c.c.TransferHookExtension,transferHookInstruction:ki.Initialize,authority:t,transferHookProgramId:n},u),new r.TransactionInstruction({keys:s,programId:o,data:u})}const xi=(0,o.n_)([(0,o.u8)("instruction"),(0,o.u8)("transferHookInstruction"),(0,s.ZL)("transferHookProgramId")]);function vi(e,t,n,o=[],s=i.nA){if(!(0,i.lP)(s))throw new a.BT;const u=(0,k.s)([{pubkey:e,isSigner:!1,isWritable:!0}],t,o),d=Ai.alloc(xi.span);return xi.encode({instruction:c.c.TransferHookExtension,transferHookInstruction:ki.Update,transferHookProgramId:n},d),new r.TransactionInstruction({keys:u,programId:s,data:d})}function Pi(e,t){const n=t.filter((t=>t.pubkey.equals(e.pubkey))).reduce(((e,t)=>e?{isSigner:e.isSigner||t.isSigner,isWritable:e.isWritable||t.isWritable}:{isSigner:t.isSigner,isWritable:t.isWritable}),void 0);if(n){const{isSigner:t,isWritable:r}=n;t||t===e.isSigner||(e.isSigner=!1),r||r===e.isWritable||(e.isWritable=!1)}return e}function Ei(e,t,n,i,o,s,a){const c=[t,n,i,o,s].map((e=>({pubkey:e,isSigner:!1,isWritable:!1}))),u=Ai.alloc(16);return u.set(Ai.from([105,37,101,197,75,251,102,26]),0),u.writeBigUInt64LE(BigInt(a),8),new r.TransactionInstruction({keys:c,programId:e,data:u})}async function Ri(e,t,n,r,i,o,s,a,c){const u=(0,_i.ZN)(i,n),d=await e.getAccountInfo(u,c);if(null==d)return t;const l=(0,_i.cH)(d);if(![r,i,o,s].every((e=>t.keys.some((t=>t.pubkey.equals(e))))))throw new Error("Missing required account in instruction");const h=Ei(n,r,i,o,s,u,BigInt(a));for(const t of l)h.keys.push(Pi(await(0,_i.D7)(e,t,h.keys,h.data,h.programId),h.keys));t.keys.push(...h.keys.slice(5)),t.keys.push({pubkey:n,isSigner:!1,isWritable:!1}),t.keys.push({pubkey:u,isSigner:!1,isWritable:!1})}async function Bi(e,t,n,r,o,s,a,c=[],u,d=i.H_){const l=St(t,n,r,o,s,a,c,d),h=await(0,J.ih)(e,n,u,d),m=(0,_i.Fw)(h);return m&&await Ri(e,l,m.programId,t,n,r,o,s,u),l}async function Ci(e,t,n,r,o,s,a,c,u=[],d,l=i.H_){const h=ei(t,n,r,o,s,a,c,u,l),m=await(0,J.ih)(e,n,d,l),f=(0,_i.Fw)(m);return f&&await Ri(e,h,f.programId,t,n,r,o,s,d),h}async function zi(e,t,n,o,s,a,c=i.nA){const u=(new r.Transaction).add(Ti(n,o,s,c));return await(0,r.sendAndConfirmTransaction)(e,u,[t],a)}async function Wi(e,t,n,o,s,a=[],c,u=i.nA){const[d,l]=y(s,a),h=(new r.Transaction).add(vi(n,d,o,l,u));return await(0,r.sendAndConfirmTransaction)(e,h,[t,...l],c)}async function Mi(e,t,n,o,s,a,c,u,d=[],l,h=i.H_){const[m,f]=y(a,d),p=(new r.Transaction).add(await Bi(e,n,o,s,m,c,u,f,l?.commitment,h));return await(0,r.sendAndConfirmTransaction)(e,p,[t,...f],l)}async function Li(e,t,n,o,s,a,c,u,d,l=[],h,m=i.H_){const[f,p]=y(a,l),g=(new r.Transaction).add(await Ci(e,n,o,s,f,c,u,d,p,h?.commitment,m));return await(0,r.sendAndConfirmTransaction)(e,g,[t,...p],h)}var Oi=n("../../../node_modules/@solana/spl-token/lib/esm/extensions/transferHook/seeds.js"),Ki=n("../../../node_modules/buffer/index.js").Buffer;const ji=(0,o.n_)([(0,o.u8)("instruction"),(0,s.ZL)("owner")]);function Ui(e,t,n,o=i.H_){const s=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:r.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],a=Ki.alloc(ji.span);return ji.encode({instruction:c.c.InitializeAccount2,owner:n},a),new r.TransactionInstruction({keys:s,programId:o,data:a})}function Ni(e,t=i.H_){if(!e.programId.equals(t))throw new a.yh;if(e.data.length!==ji.span)throw new a.Z0;const{keys:{account:n,mint:r,rent:o},data:s}=Fi(e);if(s.instruction!==c.c.InitializeAccount2)throw new a.In;if(!n||!r||!o)throw new a.Di;return{programId:t,keys:{account:n,mint:r,rent:o},data:s}}function Fi({programId:e,keys:[t,n,r],data:i}){return{programId:e,keys:{account:t,mint:n,rent:r},data:ji.decode(i)}}var qi=n("../../../node_modules/buffer/index.js").Buffer;const Di=(0,o.n_)([(0,o.u8)("instruction"),(0,s.ZL)("owner")]);function Hi(e,t,n,o=i.H_){const s=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1}],a=qi.alloc(Di.span);return Di.encode({instruction:c.c.InitializeAccount3,owner:n},a),new r.TransactionInstruction({keys:s,programId:o,data:a})}function $i(e,t=i.H_){if(!e.programId.equals(t))throw new a.yh;if(e.data.length!==Di.span)throw new a.Z0;const{keys:{account:n,mint:r},data:o}=Gi(e);if(o.instruction!==c.c.InitializeAccount3)throw new a.In;if(!n||!r)throw new a.Di;return{programId:t,keys:{account:n,mint:r},data:o}}function Gi({programId:e,keys:[t,n],data:r}){return{programId:e,keys:{account:t,mint:n},data:Di.decode(r)}}function Zi(e,t=i.H_){if(!e.data.length)throw new a.Z0;const n=(0,o.u8)().decode(e.data);if(n===c.c.InitializeMint)return yn(e,t);if(n===c.c.InitializeAccount)return Z(e,t);if(n===c.c.InitializeMultisig)return pe(e,t);if(n===c.c.Transfer)return kt(e,t);if(n===c.c.Approve)return(0,g.qE)(e,t);if(n===c.c.Revoke)return Qe(e,t);if(n===c.c.SetAuthority)return st(e,t);if(n===c.c.MintTo)return Ue(e,t);if(n===c.c.Burn)return E(e,t);if(n===c.c.CloseAccount)return N(e,t);if(n===c.c.FreezeAccount)return ze(e,t);if(n===c.c.ThawAccount)return mt(e,t);if(n===c.c.TransferChecked)return Tt(e,t);if(n===c.c.ApproveChecked)return A(e,t);if(n===c.c.MintToChecked)return $e(e,t);if(n===c.c.BurnChecked)return M(e,t);if(n===c.c.InitializeAccount2)return Ni(e,t);if(n===c.c.SyncNative)return xe(e,t);if(n===c.c.InitializeAccount3)return $i(e,t);if(n===c.c.InitializeMint2)return ue(e,t);if(n===c.c.AmountToUiAmount)return h(e,t);if(n===c.c.UiAmountToAmount)return Rt(e,t);if(n===c.c.InitializeMultisig2)throw new a.In;throw new a.In}function Vi(e){return e.data.instruction===c.c.InitializeMint}function Ji(e){return e.data.instruction===c.c.InitializeAccount}function Xi(e){return e.data.instruction===c.c.InitializeMultisig}function Yi(e){return e.data.instruction===c.c.Transfer}function Qi(e){return e.data.instruction===c.c.Approve}function eo(e){return e.data.instruction===c.c.Revoke}function to(e){return e.data.instruction===c.c.SetAuthority}function no(e){return e.data.instruction===c.c.MintTo}function ro(e){return e.data.instruction===c.c.Burn}function io(e){return e.data.instruction===c.c.CloseAccount}function oo(e){return e.data.instruction===c.c.FreezeAccount}function so(e){return e.data.instruction===c.c.ThawAccount}function ao(e){return e.data.instruction===c.c.TransferChecked}function co(e){return e.data.instruction===c.c.ApproveChecked}function uo(e){return e.data.instruction===c.c.MintToChecked}function lo(e){return e.data.instruction===c.c.BurnChecked}function ho(e){return e.data.instruction===c.c.InitializeAccount2}function mo(e){return e.data.instruction===c.c.SyncNative}function fo(e){return e.data.instruction===c.c.InitializeAccount3}function po(e){return e.data.instruction===c.c.InitializeMint2}function go(e){return e.data.instruction===c.c.AmountToUiAmount}function yo(e){return e.data.instruction===c.c.UiAmountToAmount}var bo=n("../../../node_modules/buffer/index.js").Buffer;const ko=(0,o.n_)([(0,o.u8)("instruction")]);function wo(e,t){const n=[{pubkey:e,isSigner:!1,isWritable:!0}],i=bo.alloc(ko.span);return ko.encode({instruction:c.c.InitializeImmutableOwner},i),new r.TransactionInstruction({keys:n,programId:t,data:i})}function Io(e,t){if(!e.programId.equals(t))throw new a.yh;if(e.data.length!==ko.span)throw new a.Z0;const{keys:{account:n},data:r}=_o(e);if(r.instruction!==c.c.InitializeImmutableOwner)throw new a.In;if(!n)throw new a.Di;return{programId:t,keys:{account:n},data:r}}function _o({programId:e,keys:[t],data:n}){const{instruction:r}=ko.decode(n);return{programId:e,keys:{account:t},data:{instruction:r}}}var Ao=n("../../../node_modules/buffer/index.js").Buffer;const So=(0,o.n_)([(0,o.u8)("instruction"),new oe("closeAuthority")]);function To(e,t,n){if(!(0,i.lP)(n))throw new a.BT;const o=[{pubkey:e,isSigner:!1,isWritable:!0}],s=Ao.alloc(So.span);return So.encode({instruction:c.c.InitializeMintCloseAuthority,closeAuthority:t},s),new r.TransactionInstruction({keys:o,programId:n,data:s})}function xo(e,t){if(!e.programId.equals(t))throw new a.yh;if(e.data.length!==So.span)throw new a.Z0;const{keys:{mint:n},data:r}=vo(e);if(r.instruction!==c.c.InitializeMintCloseAuthority)throw new a.In;if(!n)throw new a.Di;return{programId:t,keys:{mint:n},data:r}}function vo({programId:e,keys:[t],data:n}){const{instruction:r,closeAuthority:i}=So.decode(n);return{programId:e,keys:{mint:t},data:{instruction:r,closeAuthority:i}}}var Po=n("../../../node_modules/buffer/index.js").Buffer;function Eo(e,t,n,s,u=[],d=i.nA){if(!(0,i.lP)(d))throw new a.BT;const l=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:r.SystemProgram.programId,isSigner:!1,isWritable:!1}],h=(0,k.s)(l,s,u),m=(0,o.n_)([(0,o.u8)("instruction"),(0,o.A9)((0,o.KB)(),n.length,"extensionTypes")]),f=Po.alloc(m.span);return m.encode({instruction:c.c.Reallocate,extensionTypes:n},f),new r.TransactionInstruction({keys:h,programId:d,data:f})}var Ro=n("../../../node_modules/buffer/index.js").Buffer;const Bo=(0,o.n_)([(0,o.u8)("instruction")]);function Co(e,t){if(!(0,i.lP)(t))throw new a.BT;const n=[{pubkey:e,isSigner:!1,isWritable:!0}],o=Ro.alloc(Bo.span);return Bo.encode({instruction:c.c.InitializeNonTransferableMint},o),new r.TransactionInstruction({keys:n,programId:t,data:o})}var zo=n("../../../node_modules/buffer/index.js").Buffer;const Wo=(0,o.n_)([(0,o.u8)("instruction"),(0,s.ZL)("delegate")]);function Mo(e,t,n){if(!(0,i.lP)(n))throw new a.BT;const o=[{pubkey:e,isSigner:!1,isWritable:!0}],s=zo.alloc(Wo.span);return Wo.encode({instruction:c.c.InitializePermanentDelegate,delegate:t||new r.PublicKey(0)},s),new r.TransactionInstruction({keys:o,programId:n,data:s})}function Lo(e,t){if(!e.programId.equals(t))throw new a.yh;if(e.data.length!==Wo.span)throw new a.Z0;const{keys:{mint:n},data:r}=Oo(e);if(r.instruction!==c.c.InitializePermanentDelegate)throw new a.In;if(!n)throw new a.Di;return{programId:t,keys:{mint:n},data:r}}function Oo({programId:e,keys:[t],data:n}){const{instruction:r,delegate:i}=Wo.decode(n);return{programId:e,keys:{mint:t},data:{instruction:r,delegate:i}}}},"../../../node_modules/@solana/spl-token/lib/esm/instructions/approve.js":(e,t,n)=>{n.d(t,{ey:()=>l,g6:()=>h,lF:()=>f,qE:()=>m});var r=n("../../../node_modules/@solana/buffer-layout/lib/Layout.js"),i=n("../../../node_modules/@solana/buffer-layout-utils/lib/esm/index.mjs"),o=n("../../../node_modules/@solana/web3.js/lib/index.browser.esm.js"),s=n("../../../node_modules/@solana/spl-token/lib/esm/constants.js"),a=n("../../../node_modules/@solana/spl-token/lib/esm/errors.js"),c=n("../../../node_modules/@solana/spl-token/lib/esm/instructions/internal.js"),u=n("../../../node_modules/@solana/spl-token/lib/esm/instructions/types.js"),d=n("../../../node_modules/buffer/index.js").Buffer;const l=(0,r.n_)([(0,r.u8)("instruction"),(0,i.AW)("amount")]);function h(e,t,n,r,i=[],a=s.H_){const h=(0,c.s)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1}],n,i),m=d.alloc(l.span);return l.encode({instruction:u.c.Approve,amount:BigInt(r)},m),new o.TransactionInstruction({keys:h,programId:a,data:m})}function m(e,t=s.H_){if(!e.programId.equals(t))throw new a.yh;if(e.data.length!==l.span)throw new a.Z0;const{keys:{account:n,delegate:r,owner:i,multiSigners:o},data:c}=f(e);if(c.instruction!==u.c.Approve)throw new a.In;if(!n||!r||!i)throw new a.Di;return{programId:t,keys:{account:n,delegate:r,owner:i,multiSigners:o},data:c}}function f({programId:e,keys:[t,n,r,...i],data:o}){return{programId:e,keys:{account:t,delegate:n,owner:r,multiSigners:i},data:l.decode(o)}}},"../../../node_modules/@solana/spl-token/lib/esm/state/account.js":(e,t,n)=>{n.d(t,{D0:()=>f,Dl:()=>y,Du:()=>p,lZ:()=>m,m3:()=>r,nS:()=>b,p0:()=>h,pE:()=>g});var r,i=n("../../../node_modules/@solana/buffer-layout/lib/Layout.js"),o=n("../../../node_modules/@solana/buffer-layout-utils/lib/esm/index.mjs"),s=n("../../../node_modules/@solana/spl-token/lib/esm/constants.js"),a=n("../../../node_modules/@solana/spl-token/lib/esm/errors.js"),c=n("../../../node_modules/@solana/spl-token/lib/esm/extensions/accountType.js"),u=n("../../../node_modules/@solana/spl-token/lib/esm/extensions/extensionType.js"),d=n("../../../node_modules/@solana/spl-token/lib/esm/state/multisig.js"),l=n("../../../node_modules/buffer/index.js").Buffer;!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initialized=1]="Initialized",e[e.Frozen=2]="Frozen"}(r||(r={}));const h=(0,i.n_)([(0,o.ZL)("mint"),(0,o.ZL)("owner"),(0,o.AW)("amount"),(0,i.Jq)("delegateOption"),(0,o.ZL)("delegate"),(0,i.u8)("state"),(0,i.Jq)("isNativeOption"),(0,o.AW)("isNative"),(0,o.AW)("delegatedAmount"),(0,i.Jq)("closeAuthorityOption"),(0,o.ZL)("closeAuthority")]),m=h.span;async function f(e,t,n,r=s.H_){return b(t,await e.getAccountInfo(t,n),r)}async function p(e,t,n,r=s.H_){const i=await e.getMultipleAccountsInfo(t,n);return t.map(((e,t)=>b(e,i[t],r)))}async function g(e,t){return await y(e,[],t)}async function y(e,t,n){const r=(0,u.Xh)(t);return await e.getMinimumBalanceForRentExemption(r,n)}function b(e,t,n=s.H_){if(!t)throw new a.We;if(!t.owner.equals(n))throw new a.Or;if(t.data.length<m)throw new a.$O;const i=h.decode(t.data.slice(0,m));let o=l.alloc(0);if(t.data.length>m){if(t.data.length===d.Wx)throw new a.$O;if(t.data[m]!=c.Q.Account)throw new a.iK;o=t.data.slice(m+c.t)}return{address:e,mint:i.mint,owner:i.owner,amount:i.amount,delegate:i.delegateOption?i.delegate:null,delegatedAmount:i.delegatedAmount,isInitialized:i.state!==r.Uninitialized,isFrozen:i.state===r.Frozen,isNative:!!i.isNativeOption,rentExemptReserve:i.isNativeOption?i.isNative:null,closeAuthority:i.closeAuthorityOption?i.closeAuthority:null,tlvData:o}}},"../../../node_modules/@solana/spl-token/lib/esm/state/mint.js":(e,t,n)=>{n.d(t,{Am:()=>k,Bl:()=>f,MO:()=>w,Mg:()=>y,ih:()=>p,qT:()=>m,rs:()=>g,s2:()=>b});var r=n("../../../node_modules/@solana/buffer-layout/lib/Layout.js"),i=n("../../../node_modules/@solana/buffer-layout-utils/lib/esm/index.mjs"),o=n("../../../node_modules/@solana/web3.js/lib/index.browser.esm.js"),s=n("../../../node_modules/@solana/spl-token/lib/esm/constants.js"),a=n("../../../node_modules/@solana/spl-token/lib/esm/errors.js"),c=n("../../../node_modules/@solana/spl-token/lib/esm/extensions/accountType.js"),u=n("../../../node_modules/@solana/spl-token/lib/esm/extensions/extensionType.js"),d=n("../../../node_modules/@solana/spl-token/lib/esm/state/account.js"),l=n("../../../node_modules/@solana/spl-token/lib/esm/state/multisig.js"),h=n("../../../node_modules/buffer/index.js").Buffer;const m=(0,r.n_)([(0,r.Jq)("mintAuthorityOption"),(0,i.ZL)("mintAuthority"),(0,i.AW)("supply"),(0,r.u8)("decimals"),(0,i.Xg)("isInitialized"),(0,r.Jq)("freezeAuthorityOption"),(0,i.ZL)("freezeAuthority")]),f=m.span;async function p(e,t,n,r=s.H_){return g(t,await e.getAccountInfo(t,n),r)}function g(e,t,n=s.H_){if(!t)throw new a.We;if(!t.owner.equals(n))throw new a.Or;if(t.data.length<f)throw new a.$O;const r=m.decode(t.data.slice(0,f));let i=h.alloc(0);if(t.data.length>f){if(t.data.length<=d.lZ)throw new a.$O;if(t.data.length===l.Wx)throw new a.$O;if(t.data[d.lZ]!=c.Q.Mint)throw new a.iT;i=t.data.slice(d.lZ+c.t)}return{address:e,mintAuthority:r.mintAuthorityOption?r.mintAuthority:null,supply:r.supply,decimals:r.decimals,isInitialized:r.isInitialized,freezeAuthority:r.freezeAuthorityOption?r.freezeAuthority:null,tlvData:i}}async function y(e,t){return await b(e,[],t)}async function b(e,t,n){const r=(0,u.jk)(t);return await e.getMinimumBalanceForRentExemption(r,n)}async function k(e,t,n=!1,r=s.H_,i=s._u){if(!n&&!o.PublicKey.isOnCurve(t.toBuffer()))throw new a.Gl;const[c]=await o.PublicKey.findProgramAddress([t.toBuffer(),r.toBuffer(),e.toBuffer()],i);return c}function w(e,t,n=!1,r=s.H_,i=s._u){if(!n&&!o.PublicKey.isOnCurve(t.toBuffer()))throw new a.Gl;const[c]=o.PublicKey.findProgramAddressSync([t.toBuffer(),r.toBuffer(),e.toBuffer()],i);return c}},"../../../node_modules/@solana/spl-token/lib/esm/state/multisig.js":(e,t,n)=>{n.d(t,{Wx:()=>c,YA:()=>d,Yv:()=>l,of:()=>a,rb:()=>u});var r=n("../../../node_modules/@solana/buffer-layout/lib/Layout.js"),i=n("../../../node_modules/@solana/buffer-layout-utils/lib/esm/index.mjs"),o=n("../../../node_modules/@solana/spl-token/lib/esm/constants.js"),s=n("../../../node_modules/@solana/spl-token/lib/esm/errors.js");const a=(0,r.n_)([(0,r.u8)("m"),(0,r.u8)("n"),(0,i.Xg)("isInitialized"),(0,i.ZL)("signer1"),(0,i.ZL)("signer2"),(0,i.ZL)("signer3"),(0,i.ZL)("signer4"),(0,i.ZL)("signer5"),(0,i.ZL)("signer6"),(0,i.ZL)("signer7"),(0,i.ZL)("signer8"),(0,i.ZL)("signer9"),(0,i.ZL)("signer10"),(0,i.ZL)("signer11")]),c=a.span;async function u(e,t,n,r=o.H_){return d(t,await e.getAccountInfo(t,n),r)}function d(e,t,n=o.H_){if(!t)throw new s.We;if(!t.owner.equals(n))throw new s.Or;if(t.data.length!=c)throw new s.$O;return{address:e,...a.decode(t.data)}}async function l(e,t){return await e.getMinimumBalanceForRentExemption(c,t)}},"../../../node_modules/@tanstack/query-core/build/lib/utils.mjs":(e,t,n)=>{n.d(t,{A4:()=>x,G9:()=>v,Gh:()=>T,I6:()=>h,Kp:()=>u,PN:()=>s,Rc:()=>c,Rm:()=>p,SE:()=>o,VS:()=>w,X7:()=>f,ZT:()=>i,_v:()=>d,_x:()=>m,e5:()=>a,lV:()=>l,oE:()=>P,sk:()=>r,to:()=>y,yF:()=>g});const r="undefined"==typeof window||"Deno"in window;function i(){}function o(e,t){return"function"==typeof e?e(t):e}function s(e){return"number"==typeof e&&e>=0&&e!==1/0}function a(e,t){return e.filter((e=>!t.includes(e)))}function c(e,t,n){const r=e.slice(0);return r[t]=n,r}function u(e,t){return Math.max(e+(t||0)-Date.now(),0)}function d(e,t,n){return S(e)?"function"==typeof t?{...n,queryKey:e,queryFn:t}:{...t,queryKey:e}:e}function l(e,t,n){return S(e)?"function"==typeof t?{...n,mutationKey:e,mutationFn:t}:{...t,mutationKey:e}:"function"==typeof e?{...t,mutationFn:e}:{...e}}function h(e,t,n){return S(e)?[{...t,queryKey:e},n]:[e||{},t]}function m(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:s,stale:a}=e;if(S(s))if(r){if(t.queryHash!==p(s,t.options))return!1}else if(!y(t.queryKey,s))return!1;if("all"!==n){const e=t.isActive();if("active"===n&&!e)return!1;if("inactive"===n&&e)return!1}return!("boolean"==typeof a&&t.isStale()!==a||void 0!==i&&i!==t.state.fetchStatus||o&&!o(t))}function f(e,t){const{exact:n,fetching:r,predicate:i,mutationKey:o}=e;if(S(o)){if(!t.options.mutationKey)return!1;if(n){if(g(t.options.mutationKey)!==g(o))return!1}else if(!y(t.options.mutationKey,o))return!1}return!("boolean"==typeof r&&"loading"===t.state.status!==r||i&&!i(t))}function p(e,t){return((null==t?void 0:t.queryKeyHashFn)||g)(e)}function g(e){return JSON.stringify(e,((e,t)=>_(t)?Object.keys(t).sort().reduce(((e,n)=>(e[n]=t[n],e)),{}):t))}function y(e,t){return b(e,t)}function b(e,t){return e===t||typeof e==typeof t&&!(!e||!t||"object"!=typeof e||"object"!=typeof t)&&!Object.keys(t).some((n=>!b(e[n],t[n])))}function k(e,t){if(e===t)return e;const n=I(e)&&I(t);if(n||_(e)&&_(t)){const r=n?e.length:Object.keys(e).length,i=n?t:Object.keys(t),o=i.length,s=n?[]:{};let a=0;for(let r=0;r<o;r++){const o=n?r:i[r];s[o]=k(e[o],t[o]),s[o]===e[o]&&a++}return r===o&&a===r?e:s}return t}function w(e,t){if(e&&!t||t&&!e)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function I(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function _(e){if(!A(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!!A(n)&&!!n.hasOwnProperty("isPrototypeOf")}function A(e){return"[object Object]"===Object.prototype.toString.call(e)}function S(e){return Array.isArray(e)}function T(e){return new Promise((t=>{setTimeout(t,e)}))}function x(e){T(0).then(e)}function v(){if("function"==typeof AbortController)return new AbortController}function P(e,t,n){return null!=n.isDataEqual&&n.isDataEqual(e,t)?e:"function"==typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?k(e,t):t}},"../../../node_modules/@tanstack/react-query/build/lib/suspense.mjs":(e,t,n)=>{n.d(t,{Fb:()=>r,SB:()=>o,Z$:()=>i,j8:()=>s});const r=e=>{e.suspense&&"number"!=typeof e.staleTime&&(e.staleTime=1e3)},i=(e,t)=>e.isLoading&&e.isFetching&&!t,o=(e,t,n)=>(null==e?void 0:e.suspense)&&i(t,n),s=(e,t,n)=>t.fetchOptimistic(e).then((({data:t})=>{null==e.onSuccess||e.onSuccess(t),null==e.onSettled||e.onSettled(t,null)})).catch((t=>{n.clearReset(),null==e.onError||e.onError(t),null==e.onSettled||e.onSettled(void 0,t)}))},"../../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs":(e,t,n)=>{n.d(t,{h:()=>p});var r=n("../../../node_modules/react/index.js"),i=n("../../../node_modules/@tanstack/query-core/build/lib/utils.mjs"),o=n("../../../node_modules/@tanstack/query-core/build/lib/notifyManager.mjs"),s=n("../../../node_modules/@tanstack/query-core/build/lib/queryObserver.mjs"),a=n("../../../node_modules/@tanstack/query-core/build/lib/subscribable.mjs");class c extends a.l{constructor(e,t){super(),this.client=e,this.queries=[],this.result=[],this.observers=[],this.observersMap={},t&&this.setQueries(t)}onSubscribe(){1===this.listeners.size&&this.observers.forEach((e=>{e.subscribe((t=>{this.onUpdate(e,t)}))}))}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.observers.forEach((e=>{e.destroy()}))}setQueries(e,t){this.queries=e,o.V.batch((()=>{const e=this.observers,n=this.findMatchingObservers(this.queries);n.forEach((e=>e.observer.setOptions(e.defaultedQueryOptions,t)));const r=n.map((e=>e.observer)),o=Object.fromEntries(r.map((e=>[e.options.queryHash,e]))),s=r.map((e=>e.getCurrentResult())),a=r.some(((t,n)=>t!==e[n]));(e.length!==r.length||a)&&(this.observers=r,this.observersMap=o,this.result=s,this.hasListeners()&&((0,i.e5)(e,r).forEach((e=>{e.destroy()})),(0,i.e5)(r,e).forEach((e=>{e.subscribe((t=>{this.onUpdate(e,t)}))})),this.notify()))}))}getCurrentResult(){return this.result}getQueries(){return this.observers.map((e=>e.getCurrentQuery()))}getObservers(){return this.observers}getOptimisticResult(e){return this.findMatchingObservers(e).map((e=>e.observer.getOptimisticResult(e.defaultedQueryOptions)))}findMatchingObservers(e){const t=this.observers,n=new Map(t.map((e=>[e.options.queryHash,e]))),r=e.map((e=>this.client.defaultQueryOptions(e))),i=r.flatMap((e=>{const t=n.get(e.queryHash);return null!=t?[{defaultedQueryOptions:e,observer:t}]:[]})),o=new Set(i.map((e=>e.defaultedQueryOptions.queryHash))),a=r.filter((e=>!o.has(e.queryHash))),c=new Set(i.map((e=>e.observer))),u=t.filter((e=>!c.has(e))),d=e=>{const t=this.client.defaultQueryOptions(e),n=this.observersMap[t.queryHash];return null!=n?n:new s.z(this.client,t)},l=a.map(((e,t)=>{if(e.keepPreviousData){const n=u[t];if(void 0!==n)return{defaultedQueryOptions:e,observer:n}}return{defaultedQueryOptions:e,observer:d(e)}}));return i.concat(l).sort(((e,t)=>r.indexOf(e.defaultedQueryOptions)-r.indexOf(t.defaultedQueryOptions)))}onUpdate(e,t){const n=this.observers.indexOf(e);-1!==n&&(this.result=(0,i.Rc)(this.result,n,t),this.notify())}notify(){o.V.batch((()=>{this.listeners.forEach((({listener:e})=>{e(this.result)}))}))}}var u=n("../../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs"),d=n("../../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs"),l=n("../../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs"),h=n("../../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs"),m=n("../../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs"),f=n("../../../node_modules/@tanstack/react-query/build/lib/suspense.mjs");function p({queries:e,context:t}){const n=(0,d.NL)({context:t}),i=(0,l.S)(),s=(0,h._)(),a=r.useMemo((()=>e.map((e=>{const t=n.defaultQueryOptions(e);return t._optimisticResults=i?"isRestoring":"optimistic",t}))),[e,n,i]);a.forEach((e=>{(0,f.Fb)(e),(0,m.pf)(e,s)})),(0,m.JN)(s);const[p]=r.useState((()=>new c(n,a))),g=p.getOptimisticResult(a);(0,u.$)(r.useCallback((e=>i?()=>{}:p.subscribe(o.V.batchCalls(e))),[p,i]),(()=>p.getCurrentResult()),(()=>p.getCurrentResult())),r.useEffect((()=>{p.setQueries(a,{listeners:!1})}),[a,p]);const y=g.some(((e,t)=>(0,f.SB)(a[t],e,i)))?g.flatMap(((e,t)=>{const n=a[t],r=p.getObservers()[t];if(n&&r){if((0,f.SB)(n,e,i))return(0,f.j8)(n,r,s);(0,f.Z$)(e,i)&&(0,f.j8)(n,r,s)}return[]})):[];if(y.length>0)throw Promise.all(y);const b=p.getQueries(),k=g.find(((e,t)=>{var n,r;return(0,m.KJ)({result:e,errorResetBoundary:s,useErrorBoundary:null!=(n=null==(r=a[t])?void 0:r.useErrorBoundary)&&n,query:b[t]})}));if(null!=k&&k.error)throw k.error;return g}},"../../../node_modules/split-on-first/index.js":(e,t,n)=>{function r(e,t){if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===e||""===t)return[];const n=e.indexOf(t);return-1===n?[]:[e.slice(0,n),e.slice(n+t.length)]}n.d(t,{Z:()=>r})}}]);
"use strict";(globalThis.webpackChunkgroup_speed_dial=globalThis.webpackChunkgroup_speed_dial||[]).push([[353],{7774:(e,t,r)=>{r.r(t),r.d(t,{pwdPrompt:()=>re});var s=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("v-card",[t("v-card-title",{staticClass:"primary white--text"},[e._v(e._s(e.tr(e.isRememberPassword?"pwd_forget_warning":e.keyVault.unlockOptions?.title||"unlock_group")))]),e._v(" "),t("v-container",{attrs:{"grid-list-sm":""}},[t("v-row",[t("v-col",{attrs:{cols:"12",sm:"12"}},[t("v-text-field",{ref:"pass_input",attrs:{"prepend-icon":e.isDecrypting?"fas fa-spinner fa-pulse":"fa-key",label:e.tr("password"),type:"password",autofocus:"","error-messages":e.error_messages},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.unlock.apply(null,arguments)},focus:e=>e.target.select(),keydown:t=>{e.error_messages=""}},model:{value:e.currentPassword,callback:t=>{e.currentPassword=t},expression:"currentPassword"}})],1),e._v(" "),e.passwordHint?t("v-col",{attrs:{cols:"12",sm:"12"}},[t("v-icon",{attrs:{left:""}},[e._v("fa-lightbulb")]),e._v(" "),t("span",[e._v(" "+e._s(e.tr("pwd_hint"))+" "+e._s(e.passwordHint))])],1):e._e()],1)],1),e._v(" "),t("v-card-actions",[t("v-btn",{attrs:{color:"primary",disabled:e.isDecrypting},on:{click:e.unlock}},[t("v-icon",{staticClass:"action_icon"},[e._v(e._s(e.isDecrypting?"fas fa-spinner fa-pulse":e.isRememberPassword?"fa-square-check fa-regular":"fa-lock-open"))]),e._v(" "),t("span",{directives:[{name:"tr",rawName:"v-tr",value:e.isDecrypting?"label_decrypting":e.isRememberPassword?"pwd_verify":"pwd_unlock",expression:"isDecrypting ? 'label_decrypting' : isRememberPassword ? 'pwd_verify' : 'pwd_unlock'"}]})],1),e._v(" "),e.notifyOK?t("v-icon",{staticClass:"ml-3",attrs:{"x-large":"",color:"primary"}},[e._v("fa-square-check")]):e._e(),e._v(" "),e.isRememberPassword?t("v-btn",{staticClass:"ml-auto",attrs:{color:"default",outlined:""},on:{click:e.skipAndClose}},[t("v-icon",{staticClass:"action_icon"},[e._v("fa-forward")]),e._v(" "),t("span",{directives:[{name:"tr",rawName:"v-tr",value:"remember_pwd_skip",expression:"'remember_pwd_skip'"}]})],1):e._e(),e._v(" "),!e.isRememberPassword&&e.keyVault.canResetPassword?t("v-btn",{directives:[{name:"tr",rawName:"v-tr",value:"pwd_forgot",expression:"'pwd_forgot'"}],staticClass:"ml-auto",attrs:{text:"","x-small":""},on:{click:t=>{e.forgot=!e.forgot}}}):e._e()],1),e._v(" "),e.isRememberPassword?t("v-card-actions",[t("div",{staticClass:"d-flex flex-column"},[t("div",{directives:[{name:"tr",rawName:"v-tr",value:"remember_pwd_1",expression:"'remember_pwd_1'"}]}),e._v(" "),t("div",{directives:[{name:"tr",rawName:"v-tr",value:"remember_pwd_2",expression:"'remember_pwd_2'"}]}),e._v(" "),t("v-btn",{directives:[{name:"tr",rawName:"v-tr",value:"msg_add_dial_no_show",expression:"'msg_add_dial_no_show'"}],staticClass:"ml-auto text-none",attrs:{"x-small":"",text:"",tile:""},on:{click:e.disableRememberPwd}})],1)]):e._e(),e._v(" "),e.forgot?t("v-card-actions",{staticClass:"flex-column align-start"},[t("div",[t("p",{directives:[{name:"tr",rawName:"v-tr",value:"pwd_forgotten_recovery",expression:"'pwd_forgotten_recovery'"}]}),e._v(" "),t("v-btn",{attrs:{color:"error"},on:{click:e.enterRecoveryCode}},[e._v(e._s(e.tr("pwd_forgotten_recovery_code")))])],1),e._v(" "),t("div",{staticClass:"mt-4"},[t("p",{directives:[{name:"tr",rawName:"v-tr",value:"pwd_forgotten_remove_data",expression:"'pwd_forgotten_remove_data'"}]}),e._v(" "),t("v-btn",{attrs:{color:"error",disabled:e.lockedResetFor>0},on:{click:e.resetPasswordAndData}},[e._v(e._s(e.tr("pwd_remove"))+" "+e._s(e.lockedResetFor?`[${e.lockedResetFor}]`:"")+"\n      ")]),e._v(" "),t("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:({on:r,attrs:s})=>[t("v-btn",e._g(e._b({staticClass:"ml-auto flex-grow-0 mr-2",attrs:{icon:""}},"v-btn",s,!1),r),[t("v-icon",{attrs:{color:"grey lighten-1"}},[e._v("fa-exclamation-triangle")])],1)]}],null,!1,2262695386)},[e._v(" "),t("div",{directives:[{name:"tr",rawName:"v-tr",value:"pwd_reset_data_warn",expression:"'pwd_reset_data_warn'"}]})])],1)]):e._e()],1)};s._withStripped=!0;var a=r(5471),o=r(4590),n=r(6683),i=r(2352),c=r(7104),d=r(4323),l=r(2541);const p=a.default.extend({name:"unlock",components:{},props:{isRememberPassword:Boolean,keyVault:{type:Object,required:!0}},data:()=>({currentPassword:"",error_messages:"",isDecrypting:!1,passwordHint:"",forgot:!1,notifyOK:!1,lockedResetFor:60,env:c._}),watch:{forgot(e){e&&(this.lockedResetFor=60)}},async created(){setInterval((()=>this.lockedResetFor=Math.max(this.lockedResetFor-1,0)),1e3)},mounted(){this.isRememberPassword&&l.s.set((0,o.tr)("pwd_forget_warning"),64)},methods:{tr:o.tr,async unlock(){this.isDecrypting=!0,await this.keyVault.verifyPassword(this.currentPassword,!this.isRememberPassword)?(await(this.keyVault.helpRememberPassword?.remembered()),this.isRememberPassword&&(this.notifyOK=!0,await(0,d.BK)(800)),this.$emit("yes")):(this.$refs.pass_input.focus(),this.error_messages=(0,o.tr)("incorrect_password"),this.passwordHint=this.keyVault.passwordHint),this.isDecrypting=!1},async skipAndClose(){await(this.keyVault.helpRememberPassword?.remembered()),(0,i.HG)()},async disableRememberPwd(){await(this.keyVault.helpRememberPassword?.setState(!1)),(0,i.HG)()},async enterRecoveryCode(){await re(this.keyVault,n.pK.recoveryPassword),this.$emit("close")},async resetPasswordAndData(){await this.keyVault.resetPassword()}}});var v=r(4486);const u=(0,v.A)(p,s,[],!1,null,"25721e03",null).exports;var w=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("v-card",[t("v-card-title",{staticClass:"primary white--text"},[e._v("\n    "+e._s(e.tr(e.generatedRecoveryCode?"recovery_code":e.isNewPassword?"setup_new_pwd":"change_pwd"))+"\n  ")]),e._v(" "),t("v-card-text",[e.isChangePassword&&!e.generatedRecoveryCode?t("v-row",{attrs:{dense:""}},[t("v-col",{attrs:{cols:"12",sm:"12"}},[e.usingRecoveryCode?e._e():t("v-text-field",{ref:"current_pass_input",attrs:{"prepend-icon":"fa-lock",label:e.tr("current_pwd"),type:"password",autofocus:"","error-messages":e.error_messages},on:{focus:e=>e.target.select(),keydown:t=>{e.error_messages=""}},model:{value:e.currentPassword,callback:t=>{e.currentPassword=t},expression:"currentPassword"}}),e._v(" "),e.usingRecoveryCode?t("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:"####-####-####-####-####-####-####-####-####-####-####-####-####-####",expression:"'####-####-####-####-####-####-####-####-####-####-####-####-####-####'"}],ref:"current_pass_input",attrs:{"prepend-icon":"fa-hashtag",label:e.tr("recovery_code"),type:"text",autofocus:"","error-messages":e.error_messages},on:{focus:e=>e.target.select(),keydown:t=>{e.error_messages=""}},model:{value:e.recoveryCode,callback:t=>{e.recoveryCode=t},expression:"recoveryCode"}}):e._e()],1)],1):e._e(),e._v(" "),e.generatedRecoveryCode?e._e():t("v-row",{attrs:{dense:""}},[t("v-col",{attrs:{cols:"12",sm:"12"}},[t("v-text-field",{attrs:{"prepend-icon":"fa-key",label:e.tr("new_pwd_advice"),type:e.showPassword?"text":"password","append-icon":e.showPassword?"fa-eye":"fa-eye-slash","hide-details":""},on:{"click:append":t=>{e.showPassword=!e.showPassword}},model:{value:e.newPassword,callback:t=>{e.newPassword=t},expression:"newPassword"}})],1),e._v(" "),t("v-col",{attrs:{cols:"12",sm:"12"}},[t("v-text-field",{attrs:{"prepend-icon":"fa-key",label:e.tr("repeat_pwd"),"error-messages":e.error_same,type:e.showPassword?"text":"password","append-icon":e.showPassword?"fa-eye":"fa-eye-slash"},on:{input:t=>{e.error_same=e.newPassword!==e.newAgainPassword?e.tr("err_pwd_not_matching"):""},"click:append":t=>{e.showPassword=!e.showPassword}},model:{value:e.newAgainPassword,callback:t=>{e.newAgainPassword=t},expression:"newAgainPassword"}})],1),e._v(" "),t("v-col",{attrs:{cols:"12",sm:"12"}},[t("v-text-field",{attrs:{"prepend-icon":"fa-lightbulb",label:e.tr("hint_pwd"),type:"text"},model:{value:e.passwordHint,callback:t=>{e.passwordHint=t},expression:"passwordHint"}})],1),e._v(" "),t("v-col",{attrs:{cols:"12",sm:"12"}},[t("v-icon",{attrs:{left:""}},[e._v("fa-exclamation-triangle")]),e._v(" "),t("strong",{directives:[{name:"tr",rawName:"v-tr",value:"pwd_forget_warning",expression:"'pwd_forget_warning'"}]})],1),e._v(" "),t("v-col",{attrs:{cols:"12",sm:"12"}},[t("v-checkbox",{attrs:{"hide-details":""},scopedSlots:e._u([{key:"label",fn:()=>[t("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:({on:r})=>[t("div",e._g({directives:[{name:"tr",rawName:"v-tr",value:"remember_pwd_0",expression:"'remember_pwd_0'"}]},r))]}],null,!1,1795374770)},[e._v(" "),t("div",{directives:[{name:"tr",rawName:"v-tr",value:"remember_pwd_1",expression:"'remember_pwd_1'"}]}),e._v(" "),t("div",{directives:[{name:"tr",rawName:"v-tr",value:"remember_pwd_2",expression:"'remember_pwd_2'"}]})])],proxy:!0}],null,!1,2437370608),model:{value:e.helpRemember,callback:t=>{e.helpRemember=t},expression:"helpRemember"}})],1)],1),e._v(" "),e.generatedRecoveryCode?t("v-row",{attrs:{dense:""}},[t("v-col",{attrs:{cols:"12",sm:"12"}},[t("div",{directives:[{name:"tr",rawName:"v-tr",value:"recovery_code_help_1",expression:"'recovery_code_help_1'"}],staticClass:"my-2"}),e._v(" "),t("div",{directives:[{name:"tr",rawName:"v-tr",value:"recovery_code_help_2",expression:"'recovery_code_help_2'"}],staticClass:"my-2"}),e._v(" "),t("div",{staticClass:"recovery-code",on:{click:t=>e.selectRecoveryCode(t.currentTarget)}},e._l(e.generatedRecoveryCode.split(""),(r=>t("span",{domProps:{textContent:e._s(r)}}))),0)])],1):e._e()],1),e._v(" "),t("v-card-actions",{staticClass:"d-print-none"},[e.generatedRecoveryCode?[t("v-btn",{directives:[{name:"tr",rawName:"v-tr",value:"label_done",expression:"'label_done'"}],attrs:{color:"primary"},on:{click:e.finish}}),e._v(" "),t("v-spacer"),e._v(" "),t("v-btn",{directives:[{name:"tr",rawName:"v-tr",value:"label_print",expression:"'label_print'"}],on:{click:e.print}})]:[t("v-btn",{directives:[{name:"tr",rawName:"v-tr",value:"pwd_save",expression:"'pwd_save'"}],attrs:{color:"primary"},on:{click:e.save}}),e._v(" "),t("v-spacer"),e._v(" "),t("v-btn",{directives:[{name:"tr",rawName:"v-tr",value:"label_cancel",expression:"'label_cancel'"}],on:{click:e.close}})]],2)],1)};w._withStripped=!0;var m=r(2846),_=r(7398);function h(e){const t=new Uint8Array(e/2);self.crypto.getRandomValues(t);const r=Array.from(t,(e=>e.toString(16).padStart(2,"0"))).join("");return BigInt("0x"+r).toString().slice(-e).padStart(e,"0")}var y=r(9254),f=r(2062);const g=Object.freeze({recoveryCodeLength:56,iterations:1e6,saltLength:128}),b=new class{async setupMasterPassword(e,t){const r=Date.now(),s=h(g.recoveryCodeLength),a=await this.generateNew(e,t,s);return await m.M.masterKeyVault.savePassword(a.hash),await m.M.action("saveMasterPassword",{pwdId:r,options:a.options}),{pwdId:r,passwordHash:a,recoveryCode:s}}async changeMasterPassword(e,t,r,s,a){const o=m.M.METADATA.masterPassword.options,n={...o,salt:o.recoverySalt,secret:o.recoverySecret},i=h(g.recoveryCodeLength),c=r?await this.changePassword(r,n,s,a,i):await this.changePassword(t,o,s,a,i);if(!c)return!1;const{recoveryCode:d,hashData:l}=c;return await m.M.action("saveMasterPassword",{pwdId:e,options:l.options}),await m.M.masterKeyVault.savePassword(l.hash),d}async changePassword(e,t,r,s,a){const{cryptoKey:o}=await this.decryptSecret(e,t);if(!o)return!1;const n=await(0,_.qi)(r,a,o,{hint:s,iterations:t.iterations,salt:(0,y.gU)(8*t.salt.length)});return await m.M.masterKeyVault.savePassword(n.hash),{recoveryCode:a,hashData:n}}async decryptSecret(e,t){const r=await(0,_.Er)(e,t),s=await this.decryptMasterCryptoKey(r.options.secret,r).catch(d.s6);return{hash:r.hash,cryptoKey:s}}decryptMasterCryptoKey(e,t){return new f.k(t).unwrapKey(e)}async generateNew(e,t,r){const s=await self.crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt","decrypt"]);return await(0,_.qi)(e,r,s,{hint:t,iterations:g.iterations,salt:(0,y.gU)(g.saltLength)})}};var P=r(6635);function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((t=>Object.getOwnPropertyDescriptor(e,t).enumerable))),r.push.apply(r,s)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((t=>{R(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((t=>{Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e=>typeof e:e=>e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e,C(e)}function R(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var O="_",S="function",$=[];function E(e){return Array.isArray&&Array.isArray(e)||e instanceof Array}var N="[]";var A=[],D="";function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!E(t)){if(C(t)!==S)throw new Error("Text-mask:conformToMask; The mask property must be an array.");t=function(e){for(var t,r=[];-1!==(t=e.indexOf(N));)r.push(t),e.splice(t,1);return{maskWithoutCaretTraps:e,indexes:r}}(t=t(e,r)).maskWithoutCaretTraps}var s=r.guide,a=void 0===s||s,o=r.previousConformedValue,n=void 0===o?D:o,i=r.placeholderChar,c=void 0===i?O:i,d=r.placeholder,l=void 0===d?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O;if(!E(e))throw new Error("Text-mask:convertMaskToPlaceholder; The mask property must be an array.");if(-1!==e.indexOf(t))throw new Error("Placeholder character must not be used as part of the mask. Please specify a character that is not present in your mask as your placeholder character.\n\n"+"The placeholder character that was received is: ".concat(JSON.stringify(t),"\n\n")+"The mask that was received is: ".concat(JSON.stringify(e)));return e.map((e=>e instanceof RegExp?t:e)).join("")}(t,c):d,p=r.currentCaretPosition,v=r.keepCharPositions,u=!1===a&&void 0!==n,w=e.length,m=n.length,_=l.length,h=t.length,y=w-m,f=y>0,g=p+(f?-y:0),b=g+Math.abs(y);if(!0===v&&!f){for(var P=D,k=g;k<b;k++)l[k]===c&&(P+=c);e=e.slice(0,g)+P+e.slice(g,w)}for(var x=e.split(D).map(((e,t)=>({char:e,isNew:t>=g&&t<b}))),R=w-1;R>=0;R--){var M=x[R].char;if(M!==c)M===l[R>=g&&m===h?R-y:R]&&x.splice(R,1)}var I=D,V=!1;e:for(var T=0;T<_;T++){var K=l[T];if(K===c){if(x.length>0)for(;x.length>0;){var j=x.shift(),H=j.char,F=j.isNew;if(H===c&&!0!==u){I+=c;continue e}if(t[T].test(H)){if(!0===v&&!1!==F&&n!==D&&!1!==a&&f){for(var B=x.length,L=null,U=0;U<B;U++){var q=x[U];if(q.char!==c&&!1===q.isNew)break;if(q.char===c){L=U;break}}null!==L?(I+=H,x.splice(L,1)):T--}else I+=H;continue e}V=!0}!1===u&&(I+=l.substr(T,_));break}I+=K}if(u&&!1===f){for(var W=null,z=0;z<I.length;z++)l[z]===c&&(W=z);I=null!==W?I.substr(0,W+1):D}return{conformedValue:I,meta:{someCharsRejected:V}}}var I={__nextCharOptional__:!0},V={"#":/\d/,A:/[a-z]/i,N:/[a-z0-9]/i,"?":I,X:/./},T=function(e){return t=e.toString().replace(/.(\/)[gmiyus]{0,6}$/,(e=>e.replace("/","?/"))),r=t.lastIndexOf("/"),new RegExp(t.slice(1,r),t.slice(r+1));var t,r},K=function(e){return e instanceof RegExp?e:(e=>new RegExp("/[".concat((e=>"[\\^$.|?*+()".indexOf(e)>-1?"\\".concat(e):e)(e),"]/")))(e)};function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:V;return e.map(((e,r,s)=>{var a=t[e]||e,o=s[r-1],n=t[o]||o;return a===I?null:n===I?T(K(a)):a})).filter(Boolean)}var H=function(e,t){var r=document.createEvent("HTMLEvents");r.initEvent(t,!0,!0),e.dispatchEvent(r)},F=function(e){return e instanceof HTMLInputElement?e:e.querySelector("input")||e},B=function(e){return"function"==typeof e},L=function(e){return"string"==typeof e},U=function(e){return e instanceof RegExp};function q(e,t){return Array.isArray(e)?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:V;return j(e.map((e=>e instanceof RegExp?e:"string"==typeof e?e.split(""):null)).filter(Boolean).reduce(((e,t)=>e.concat(t)),[]),t)}(e,t):B(e)?e:L(e)&&e.length>0?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:V;return j(e.split(""),t)}(e,t):e}function W(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:V;return null===e||Array.isArray(e)||"object"!==C(e)?t:Object.keys(e).reduce(((t,r)=>{var s=e[r];return null===s||s instanceof RegExp?x(x({},t),{},R({},r,s)):t}),t)}var z=function(){var e=new Map,t={previousValue:"",mask:[]};function r(r){return e.get(r)||x({},t)}return{partiallyUpdate:function(t,s){e.set(t,x(x({},r(t)),s))},remove:function(t){e.delete(t)},get:r}}();function Q(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.value,s=z.get(e),a=s.previousValue,o=s.mask,n=r!==a,i=r.length>a.length;if((t||r&&n&&i)&&o){var c=M(r,o,{guide:!1}).conformedValue;e.value=c,function(e){H(e,"input")}(e)}z.partiallyUpdate(e,{previousValue:r})}function X(e,t,r){var s=q(t,r);z.partiallyUpdate(e,{mask:s})}function G(e){return(Array.isArray(e)?e:[e]).filter((e=>L(e)||U(e))).toString()}function J(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=W(e&&e.placeholders);return{bind:function(e,r){var s=r.value;X(e=F(e),s,t),Q(e)},componentUpdated:function(e,r){var s=r.value,a=r.oldValue;e=F(e);var o=B(s)||G(a)!==G(s);o&&X(e,s,t),Q(e,o)},unbind:function(e){e=F(e),z.remove(e)}}}J();function Y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=W(e&&e.placeholders);return(e,r)=>{if(!L(e)&&!Number.isFinite(e))return e;var s=q(r,t);return M("".concat(e),s,{guide:!1}).conformedValue}}Y();a.default.use((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.directive("mask",J(t)),e.filter("VMask",Y(t))}));const Z=a.default.extend({name:"setup_password",components:{},props:{isNewPassword:Boolean,usingRecoveryCode:Boolean},data:()=>({showPassword:!1,recoveryCode:"",currentPassword:"",newPassword:"",newAgainPassword:"",passwordHint:"",error_messages:"",error_same:"",helpRemember:!0,generatedRecoveryCode:"",pwdId:0}),async created(){},computed:{isChangePassword(){return!this.isNewPassword}},methods:{tr:o.tr,async save(){if(this.error_messages||this.error_same)throw"Errors on the screen";if(this.isNewPassword){const{pwdId:e,passwordHash:t,recoveryCode:r}=await b.setupMasterPassword(this.newPassword,this.passwordHint);this.generatedRecoveryCode=r,this.pwdId=e}else{const e=m.M.METADATA.masterPassword?.id;if(!e)throw Error("pwd not found");const t=await b.changeMasterPassword(e,this.currentPassword,this.recoveryCode.replaceAll("-",""),this.newPassword,this.passwordHint);if(!t)throw this.$refs.current_pass_input.focus(),this.error_messages=(0,o.tr)(this.recoveryCode?"incorrect_recovery":"incorrect_password"),"incorrect_password";this.generatedRecoveryCode=t,this.pwdId=e}await(P.S?.restartNewCycle(this.helpRemember))},finish(){this.$emit("yes",this.pwdId)},selectRecoveryCode(e){const t=document.createRange();t.selectNode(e),window.getSelection()?.addRange(t)},print(){window.print()},close(){this.$emit("close")}}});const ee=(0,v.A)(Z,w,[],!1,null,null,null).exports;var te=r(4268);async function re(e,t,r){switch(t){case n.pK.unlock:case n.pK.rememberPassword:return await(0,te.t)(u,{isRememberPassword:t===n.pK.rememberPassword,keyVault:e},r).then(d.x2,d.bJ);case n.pK.setupPassword:case n.pK.changePassword:case n.pK.recoveryPassword:return await(0,te.t)(ee,{isNewPassword:t===n.pK.setupPassword,usingRecoveryCode:t===n.pK.recoveryPassword},{persistent:!0});default:throw Error("unknown modal")}}},7104:(e,t,r)=>{r.d(t,{_:()=>s});const s=Object.freeze({$IS_FIREFOX:!0,$IS_CHROME:!1,$IS_CHROMIUM:!1,$IS_THUNDERBIRD:!1,$IS_EDGE:!1,$IS_WEB:!1,$IS_EXT:!0,$IS_NODE:!1,$IS_TEST:!1,$IS_DEV:!1,$IS_PROD:!0})},2541:(e,t,r)=>{r.d(t,{s:()=>s});const s=new class{#e=0;set(e,t=0){t<this.#e||(this.#e=t,document.title=e)}}},6346:(e,t,r)=>{r.d(t,{Q:()=>a,Z:()=>o});const s="__modal_window_custom_event",a=(e,t)=>e.dispatchEvent(new CustomEvent(s,{detail:t,bubbles:!0})),o=(e,t)=>e.addEventListener(s,(e=>t(e.detail)))},4268:(e,t,r)=>{r.d(t,{t:()=>_});var s=r(5471),a=r(4323),o=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("v-dialog",{attrs:{"max-width":e.maxWidth+"px",persistent:e.persistent},on:{"click:outside":t=>{!e.persistent&&e.$emit("close")}},model:{value:e.dialogOpened,callback:t=>{e.dialogOpened=t},expression:"dialogOpened"}},[t("div",{ref:"dialog_container"})])};o._withStripped=!0;const n=s.default.extend({name:"modal",components:{},props:{maxWidth:{type:Number,default:600},persistent:Boolean,component:Function,propsData:Object},data:()=>({dialogOpened:!0}),async mounted(){const e=new(s.default.extend(this.component))({parent:this.$parent,propsData:this.propsData});e.$mount(),this.$refs.dialog_container.appendChild(e.$el),this.$refs.dialog_container.parentElement.addEventListener("keydown",(t=>{"Escape"===t.key&&(t.stopPropagation(),this.persistent||e.$emit("close"))})),e.$on("yes",(e=>{this.$emit("yes",e),this.dialogOpened=!1})),e.$on("no",(()=>{this.$emit("no"),this.dialogOpened=!1})),e.$on("close",(()=>{this.$emit("close"),this.dialogOpened=!1}))},watch:{},methods:{}});var i=r(4486);const c=(0,i.A)(n,o,[],!1,null,"4d9b9ff3",null).exports;var d=r(97),l=function(){var e=this._self._c;this._self._setupProxy;return e("v-app",{staticStyle:{width:"100%",height:"100%"}},[e("v-main",{staticStyle:{width:"100%",height:"100%",padding:"0"}},[e("v-container",{staticStyle:{width:"100%",height:"100%"},attrs:{fluid:""}},[e("div",{staticClass:"modal-div-goes-here"})])],1)],1)};l._withStripped=!0;var p=r(4590),v=r(6346);const u=s.default.extend({name:"main_search_input_settings",props:{},components:{},data:()=>({}),watch:{},async created(){},mounted(){},methods:{tr:p.tr,closeEditor(){(0,v.Q)(this.$el,{type:"close"})}}});const w=(0,i.A)(u,l,[],!1,null,null,null).exports;var m=r(9598);async function _(e,t,{vueParent:r,persistent:o=!1,maxWidth:n=600,onYes:i=a.lQ,onNo:l=a.lQ,onClose:p=a.lQ}={}){const v=s.default.extend(c),u=r||await async function(){const e=(0,m.z)("div",{style:"width: 0; height: 0;",class:"vue_modal_container"},[document.createElement("div")]);return document.body.appendChild(e),new s.default({el:e.firstElementChild,vuetify:(await(0,d.X)())(),render:e=>e(w,{props:{}})})}(),_=new v({parent:u,propsData:{maxWidth:n,component:e,persistent:o,propsData:t}});_.$vuetify.theme.dark=!0,_.$mount();return(document.querySelector("div.v-application[data-app]")||u.$el).appendChild(_.$el),new Promise(((e,t)=>{const s=()=>{_.$el.remove(),_.$destroy(),u!==r&&(u.$destroy(),(u.$el?.parentNode).remove())};_.$on("yes",(t=>{i(t),e(t),s()})),_.$on("no",(()=>{l(),t(),s()})),_.$on("close",(()=>{p(),t(),s()}))}))}},97:(e,t,r)=>{r.d(t,{X:()=>s});const s=()=>Promise.all([r.e(525),r.e(702)]).then(r.bind(r,6276)).then((e=>e.getVuetifyInstance))}}]);
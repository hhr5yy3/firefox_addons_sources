import{u as o}from"./cplx-B814hFp-.js";var a=()=>`uid::${o(7)}`,n=(e,r=["endpointName","fingerprint"])=>typeof e=="object"&&e!==null&&r.every(t=>t in e),s=e=>{if(!n(e))throw new TypeError("Invalid connection args");return JSON.stringify(e)},c=e=>{try{const r=JSON.parse(e);return n(r)?r:null}catch{return null}},l=()=>{let e=[];return{add:(...r)=>{e=[...e,...r]},remove:r=>{e=typeof r=="string"?e.filter(t=>t.message.transactionId!==r):e.filter(t=>!r.includes(t))},entries:()=>e}},u=class{static toBackground(e,r){return e.postMessage(r)}static toExtensionContext(e,r){return e.postMessage(r)}};export{u as P,l as a,a as c,c as d,s as e};

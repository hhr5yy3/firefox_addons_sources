var webClient;(self.webpackChunkwebClient=self.webpackChunkwebClient||[]).push([[4535,1264],{57191:function(e,t,n){"use strict";n.d(t,{j:function(){return x}});var r=n(46999),o=n(18950),i=n(55670),a=n(34987),s=n(52563),u=n(23381),c=n(49619),d=n(65040),f=n(27403),l=n(9541),p=n(14909),g=n(8647),v=n(87653),h=n(71014),m=n(43754),y=n(42215),b=n(96670),w=n(34636),_=n(42833),E=n(14722),S=n(68911),O=n(23101),P=n(46177),I=n(36225),D=n(8378),k=n(38797),C=n(92635);function x(e){return R.apply(this,arguments)}function R(){return R=(0,o.Z)((0,r.Z)().mark((function e(t){var n,x,R,T,A,L;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A=function(){var e=(0,f.jsx)(u.Fragment,null,(0,f.jsx)(f.Global,{styles:(0,f.css)(p.Z," ",g.n," body{overflow:hidden;}","")}),(0,f.jsx)(v.eE,{config:{clientType:s.B.Extension,platform:t.platform,language:x.settings.language,version:t.version,baseUrl:x.user.baseUrl,sessionOnly:x.settings.extensionPreferences.logoffWhenCloseBrowser,trackingEnabled:(0,h.T)(x),offlineEnabled:!0,enableRememberPassword:!0,enablePersistentState:!0,initiateFederatedLogin:x.extensionToolbar.initiatedFederatedLogin,binaryService:t.binaryService,duoLoginData:x.extensionToolbar.duoLoginData,getFederatedPassword:b.G,openUrl:function(e){return(0,E.A)({url:e})},getYubikeySecret:R?{username:R,resolveSecret:function(e){T.dispatch(O.I.setSecret(e)),e&&T.dispatch(S.T.closeLogin(!0))}}:void 0,onLogin:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.type===i.D.ONLINE_SUCCESS&&(n=(0,k.wM)(t.payload.user.username))&&(t.payload.user.personalLinkedAccountToken=n),T.dispatch((0,C.js)(t)),T.dispatch(S.T.closeLogin(!!x.extensionToolbar.initiatedFederatedLogin||!!x.extensionToolbar.duoLoginData));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getRecoveryToken:function(e){return a.C.get(e)},createAccountTrackingParameters:{source:"Extension Menu"},createAccountParameters:{utm_source:"extension",utm_medium:"referral"}}}));return t.platform===P.t.FIREFOX&&null===localStorage.getItem("opt-in")?(0,f.jsx)(l.a,{theme:D.Q},(0,f.jsx)(I.I,{isToolbar:!1},e)):e},e.next=3,t.stateSync({filterType:d.J.Login});case 3:return n=e.sent,x=n.background.initialState,R=x.pendingUsername,T=(0,m.createStore)((function(){}),(0,m.applyMiddleware)((0,y.M)(n.background.dispatch))),e.next=9,(0,_.z)(x.settings.language,t.platform);case 9:(0,w.u)({selectBaseUrl:function(){return x.user.baseUrl},parsePageUrl:function(e){return e}}),T.dispatch(S.T.reset()),L=document.getElementById("root"),(0,c.s)(L).render((0,f.jsx)(A,null));case 14:case"end":return e.stop()}}),e)}))),R.apply(this,arguments)}},30069:function(e,t,n){"use strict";n.r(t);var r=n(57191),o=n(28265);(0,r.j)(o.v)},54213:function(e,t,n){"use strict";n.d(t,{n:function(){return a}});var r=n(46999),o=n(18950),i=n(98754).Buffer;function a(e,t,n){return s.apply(this,arguments)}function s(){return(s=(0,o.Z)((0,r.Z)().mark((function e(t,o,a){var s,u,c,d,f;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("undefined"!==typeof crypto&&crypto.subtle&&crypto.subtle.importKey&&crypto.subtle.deriveKey&&crypto.subtle.exportKey)){e.next=17;break}return e.prev=1,e.next=4,crypto.subtle.importKey("raw",t,"PBKDF2",!1,["deriveBits","deriveKey"]);case 4:return s=e.sent,e.next=7,crypto.subtle.deriveKey({name:"PBKDF2",salt:o,iterations:a,hash:"SHA-256"},s,{name:"AES-CBC",length:256},!0,["encrypt","decrypt"]);case 7:return u=e.sent,e.t0=i,e.next=11,crypto.subtle.exportKey("raw",u);case 11:return e.t1=e.sent,e.abrupt("return",e.t0.from.call(e.t0,e.t1));case 15:e.prev=15,e.t2=e.catch(1);case 17:if(!navigator.userAgent.includes("rv:11.0")){e.next=24;break}return e.next=20,Promise.all([n.e(2270),n.e(9499),n.e(7893)]).then(n.bind(n,49499));case 20:return c=e.sent,e.abrupt("return",i.from(c.Pbkdf2HmacSha256(t,o,a,32)));case 24:return e.next=26,n.e(4956).then(n.t.bind(n,76442,23));case 26:return d=e.sent,f=d.sjcl,e.abrupt("return",new Promise((function(e){f.misc.pbkdf2(f.codec.bytes.toBits(t),f.codec.bytes.toBits(o),a,256,null,(function(t){e(i.from(f.codec.hex.fromBits(t),"hex"))}),null)})));case 29:case"end":return e.stop()}}),e,null,[[1,15]])})))).apply(this,arguments)}},42833:function(e,t,n){"use strict";n.d(t,{I:function(){return _},z:function(){return b}});var r,o=n(46999),i=n(18950),a=n(86471),s=n(85640),u=n(5517),c=n(20628),d=n(52250),f=n(59575),l=n(18574),p=n(46177),g=n(50767),v={},h={de:a,en:s,es:u,fr:c,it:d,nl:f,"pt-br":l},m=p.t.CHROME;function y(e){var t={};for(var n in e.translations){var r=e.translations[n];Object.values(r).forEach((function(e){e.msgid&&(t[e.msgid]=e.msgstr[0])}))}return t}function b(e,t){return w.apply(this,arguments)}function w(){return(w=(0,i.Z)((0,o.Z)().mark((function e(t,n){var i,a,s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((i=(0,g.ix)(t))in v)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,fetch(h[i]);case 5:return a=e.sent,e.next=8,a.json();case 8:s=e.sent,v[i]=r=y(s),m=n;case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){if("Enter your secret key to show time-based one-time passcodes (TOTP) in your\n    LastPass vault."===e&&(e="Enter your secret key to show time-based one-time passcodes (TOTP) in your LastPass vault."),!r)throw new Error("Legacy translations not loaded");var t=r[e]||e,n=function(){switch(m){case p.t.EDGE:case p.t.EDGE_CHROMIUM:return"Edge";case p.t.IPHONE:case p.t.SAFARI:return"Safari";case p.t.FIREFOX:return"Firefox";case p.t.OPERA:return"Opera"}}();return n?t.replace(/Google Chrome/g,n).replace(/Chrome/g,n):t}},90411:function(e,t,n){"use strict";n.d(t,{N:function(){return r}});var r=function(e){return e.Weak="weak",e.Duplicate="duplicate",e.SecurityScore="securityScore",e.Breach="breach",e.ShortMasterPassword="shortMasterPassword",e.UrlEncryption="urlEncryption",e}({})},45884:function(e,t,n){"use strict";function r(e){return e}n.d(t,{h:function(){return r}})},39490:function(e,t,n){"use strict";n.d(t,{F:function(){return i}});var r=n(54213),o=n(98754).Buffer;function i(e,t,n){return(0,r.n)(o.from(t,"utf-8"),o.from(e,"utf-8"),n)}},53718:function(e,t,n){"use strict";n.d(t,{K:function(){return i}});var r=n(17544),o=n(98754).Buffer;function i(e,t){return o.from((0,r.v)(e+t),"hex")}},78805:function(e,t,n){"use strict";n.d(t,{z:function(){return s}});var r=n(75398),o=n(41611),i=n(30303),a=n(57893),s={dismissAdPanel:function(e){return(0,o.P)(r.Y.DISMISS_AD_PANEL,e)},dismissAdBanner:function(e){return(0,o.P)(r.Y.DISMISS_AD_BANNER,e)},actionTracking:function(e){return(0,i.j)((0,o.P)(r.Y.SEGMENT_TRACKING),{legacySegment:(0,a.R1)("upgrade_prompt_action",{action:e.actionType,userType:e.userType,product:e.product,feature:"None",source:e.source})})},displayedTracking:function(e){return(0,i.j)((0,o.P)(r.Y.SEGMENT_TRACKING),{legacySegment:(0,a.R1)("upgrade_prompt_shown",{userType:e.userType,product:e.product,feature:"None",source:e.source})})},dismissPasswordlessOnFirstDeviceExtensionAd:function(e){return(0,o.P)(r.Y.DISMISS_PASSWORDLESS_ON_FIRST_DEVICE_EXTENSION_AD,e)},dismissPasswordlessOnOtherDeviceExtensionAd:function(e){return(0,o.P)(r.Y.DISMISS_PASSWORDLESS_ON_OTHER_DEVICE_MESSAGE,e)},loadSkills:function(){return(0,o.P)(r.Y.LOAD_SKILLS)},setNumberOfCompletedSkills:function(e){return(0,o.P)(r.Y.SET_NUMBER_OF_COMPLETED_SKILLS,e)},secondaryOnboardingWidgetViewed:function(e){return(0,i.j)((0,o.P)(r.Y.SECONDARY_ONBOARDING_WIDGET_VIEWED,{payload:e}),{segment:function(e){return(0,a.R1)("Secondary Onboarding Extension Widget Viewed",{"Skills Completed":e.skillsCompleted,"Total Skills":e.totalSkills})}})},daysRemainingSectionClicked:function(){return(0,i.j)((0,o.P)(r.Y.DAYS_REMAINING_SECTION_CLICKED),{segment:function(){return(0,a.R1)("Extension Menu Item Clicked",{item:"Trial days left"})}})},skillSectionClicked:function(){return(0,i.j)((0,o.P)(r.Y.SKILL_SECTION_CLICKED),{segment:function(){return(0,a.R1)("Extension Menu Item Clicked",{item:"Secondary Onboarding"})}})},goPremiumClicked:function(){return(0,i.j)((0,o.P)(r.Y.SKILL_SECTION_CLICKED),{segment:function(){return(0,a.R1)("Extension Menu Item Clicked",{item:"Menu Go Premium"})}})},openVaultOnBackground:function(){return(0,o.P)(r.Y.OPEN_VAULT_ON_BACKGROUND)},setIsPasswordlessOnFirstDeviceExtensionAdVisible:function(e){return(0,o.P)(r.Y.SET_IS_ENABLE_PASSWORDLESS_ON_FIRST_DEVICE_EXTENSION_AD_VISIBLE,e)},setIsPasswordlessOnOtherDeviceExtensionAdVisible:function(e){return(0,o.P)(r.Y.SET_IS_ENABLE_PASSWORDLESS_ON_OTHER_DEVICE_EXTENSION_AD_VISIBLE,e)}}},73602:function(e,t,n){"use strict";n.d(t,{l:function(){return r}}),n(17537).T;var r="https://accounts.lastpass.com"},63047:function(e,t,n){"use strict";function r(){return"undefined"!==typeof chrome?chrome.tabs&&chrome:"undefined"!==typeof browser?browser.tabs&&browser:void 0}n.d(t,{v:function(){return r}})},14722:function(e,t,n){"use strict";n.d(t,{A:function(){return i}});var r=n(46999),o=n(18950);function i(e){return a.apply(this,arguments)}function a(){return(a=(0,o.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"===typeof chrome){e.next=4;break}return e.abrupt("return",new Promise((function(e,n){chrome.tabs.create(t,(function(t){t&&t.id?e(t.id.toString()):n(new Error("No tab id"))}))})));case 4:return e.next=6,browser.tabs.create(t);case 6:if((n=e.sent).id){e.next=9;break}throw new Error("No tab id");case 9:return e.abrupt("return",n.id.toString());case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},96670:function(e,t,n){"use strict";n.d(t,{G:function(){return o}});var r=n(34636),o=function(e){return new Promise((function(t,n){r.Z.getPassword(e,(function(e){t([e,{authSessionId:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",fragmentIdFromAlp:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",calculatedFragmentId:arguments.length>3&&void 0!==arguments[3]?arguments[3]:""}])}),n)}))}},4641:function(e,t,n){"use strict";n.d(t,{W:function(){return o}});var r=n(46177);function o(){return-1!=navigator.userAgent.indexOf(" OPR/")?r.t.OPERA:-1!=navigator.userAgent.indexOf(" Edg/")?r.t.EDGE_CHROMIUM:-1!=navigator.userAgent.indexOf("Electron")?r.t.ELECTRON:r.t.CHROME}},43134:function(e,t,n){"use strict";n.d(t,{n:function(){return o}});var r=n(23381),o=function(e){(0,r.useEffect)(e,[])}},38797:function(e,t,n){"use strict";n.d(t,{wM:function(){return i}});var r=n(17544);function o(e){return(0,r.v)(e)+"_personalaccountlinktoken"}function i(e){var t=o(e);return localStorage.getItem(t)||void 0}},34636:function(e,t,n){"use strict";n.d(t,{Z:function(){return F},u:function(){return ne}});var r,o=n(46999),i=n(18950),a=n(25838),s=n.n(a),u=n(33842),c=n.n(u),d=n(47450),f=n(35173),l=n(49438),p=n(42833),g=n(63047),v=n(97652),h=n(73602),m=n(46177),y=n(4641),b=s(),w=c();function _(e){return e?e.toLowerCase().replace(/\s*/g,""):""}var E=h.l;function S(e){return(0,p.I)(e)}var O={parseXml:l.O};function P(e,t){if("POST"===e){if("application/json"===t.contentType)try{return JSON.parse(t.data),t.data}catch(n){return JSON.stringify(t.data)}return(0,f._j)(t.data)}}function I(e,t){return D.apply(this,arguments)}function D(){return(D=(0,i.Z)((0,o.Z)().mark((function e(t,n){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("json"!==n.dataType){e.next=10;break}return e.prev=1,e.next=4,t.json();case 4:case 12:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return","");case 10:return e.next=12,t.text();case 13:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}var k={ajax:function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){var n,i,a,s,u;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.selectBaseUrl(),e.prev=1,i=t.type||"GET",a=(0,d.K)(n,t.url),"GET"===i&&t.data&&(a+="?"+(0,f._j)(t.data)),s={"Content-Type":t.contentType},t.beforeSend&&t.beforeSend({setRequestHeader:function(e,t){s[e]=t}}),e.next=9,fetch((0,d.K)(n,a),{method:i,headers:s,body:P(i,t)});case 9:return u=e.sent,e.t0=t,e.next=13,I(u,t);case 13:e.t1=e.sent,e.t0.success.call(e.t0,e.t1),e.next=20;break;case 17:e.prev=17,e.t2=e.catch(1),t.error(e.t2);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}()};function C(e){return e?{windowID:e.windowId,tabURL:r.parsePageUrl(e.url),tabID:e.id}:null}var x=(0,g.v)();if(!x)throw new Error("Unsupported platform");function R(){return T.apply(this,arguments)}function T(){return(T=(0,i.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!x.scripting){e.next=7;break}return e.next=3,x.scripting.getRegisteredContentScripts({ids:["fedlogin"]});case 3:if(1!==e.sent.length){e.next=7;break}return e.next=7,x.scripting.unregisterContentScripts({ids:["fedlogin"]});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A,L=(0,y.W)(),K={getCurrentTabDetails:function(e){x.tabs.query({active:!0,currentWindow:!0},(function(t){e(C(t[0]))}))},openTab:function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){var n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R();case 2:if(!x.scripting){e.next=5;break}return e.next=5,x.scripting.registerContentScripts([{id:"fedlogin",matches:["http://*/*","https://*/*"],js:["federated-login-content-script.js"],allFrames:!0,runAt:"document_start"}]);case 5:return e.next=7,(0,v.L)({url:t.url,height:500,width:500,type:"popup"});case 7:n=e.sent,"undefined"!==typeof chrome&&L===m.t.OPERA&&(A=parseInt(n)),x.tabs.query({windowId:parseInt(n),active:!0},(function(e){var n=e[0];if(t.loadHandler({tabDetails:C(n)}),t.onBeforeRequestCallback){var r=K.onBeforeNavigate((function(e,r,o){o===n.id&&t.onBeforeRequestCallback(e,r,o)}));K.onTabClosed((function(e){e===n.id&&(r(),t.closeHandler&&t.closeHandler())}))}}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),closeTab:function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A&&chrome.windows.update(A,{focused:!0},(function(e){"popup"===e.type&&chrome.windows.remove(A)})),t.windowID?x.windows.remove(t.windowID):x.tabs.remove(t.tabID);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),activateTab:function(){},onBeforeNavigate:function(e){if("function"===typeof e){var t=function(t,n){"processSuccess"===t&&e(n.tab.url,void 0,n.tab.id)};return x.runtime.onMessage.addListener(t),function(){x.runtime.onMessage.removeListener(t)}}return function(){}},onTabClosed:function(e){if("function"===typeof e){var t=function(t){e(t)};return x.tabs.onRemoved.addListener(t),function(){x.tabs.onRemoved.removeListener(t)}}return function(){}}},j=function(){var e=this;e.isFederated=function(e,n,r){t(e,(function(e){n(e.type>0,e.type)}),r)},e._handleError=function(e,t){e&&e(t?t.toString():""),t&&setTimeout((function(){throw t}),0)},e._getAuthInfo=function(r,o,i,a){t(r,(function(t){e._ajax({type:"GET",dataType:"json",url:t.IdentityProviderURL+"/auth/saml2/getauthinfo/"+o,success:i,error:n(a)})}),a)},e._initiate=function(n,o,i){t(n,(function(t){switch(t.type){case 3:case 1:o(t);break;case 2:r(n,t,(function(e){o(t,e)}),i);break;default:e._handleError(i,new Error("User is not provisioned for federated login"))}}),i)},e._decryptK1WithPrivateKey=function(e,t){return t.decrypt(e,"RSA-OAEP",{md:b.md.sha384.create()})},e._assemblePassword=function(t,r,a,s,u){var c=atob(a.k1),d=atob(a.k2);r&&(c=e._decryptK1WithPrivateKey(c,r.privateKey));var f=i(c,d);e._ajax({type:"POST",dataType:"json",contentType:"application/json",url:"lmiapi/login/getLocalKeyPart",data:{username:t,keyHash:o(f),authSessionId:a.authSessionId},success:function(t){t&&t.localKey?s(o(i(f,atob(t.localKey)))):e._handleError(u,new Error("Could not retrieve local key"))},error:n(u)})},e.OIDC_PROVIDERS={Azure:0,Okta:1,OktaWithoutAuthorizationServer:2,Google:3,PingOne:4,OneLogin:5},e.GRAPH_API_HOST={Com:"graph.microsoft.com",Us:"graph.microsoft.us"},e.processMicrosoftGraphApiResponse=function(e){var t;if((t="string"===typeof e?JSON.parse(e):e).extensions)for(var n=0;n<t.extensions.length;n++)if("com.lastpass.keys"===t.extensions[n].id)return t.extensions[n].LastPassK1},e._getKeysForAzure=function(t,r,o,i){var a=e.GRAPH_API_HOST.Com;null!=t.graphApiHost&&(a=t.graphApiHost),e._ajax({type:"GET",url:"https://"+a+"/v1.0/me?$select=id,displayName,mail&$expand=extensions",beforeSend:function(e){e.setRequestHeader("Authorization","Bearer "+t.accessToken)},success:function(n){var a=e.processMicrosoftGraphApiResponse(n);a?r(a,t,o,i):e._handleError(i,new Error("Could not retrieve K1 from Azure"))},error:n(i)})},e._getGlobalKeysForIdp=function(t,n,r,o){var i=t.k1;i?n(btoa(i),t,r,o):e._handleError(o,new Error("Could not retrieve K1 from "+e.getOIDCProviderName(t.provider)))},e._getKeysForPingOne=function(t,n,r,o){var i=t.k1;i?n(i,t,r,o):e._handleError(o,new Error("Could not retrieve K1 from PingOne"))},e._getKeysForGoogle=function(t,n,r,o){var i,a=(i=e._ajax,function(e){function t(t){t.setRequestHeader("Authorization","Bearer "+e)}function n(e,n,r){i({url:"https://content.googleapis.com/upload/drive/v3/files/"+e+"?uploadType=media&alt=json",type:"PATCH",dataType:"text",contentType:"text/plain",data:n,beforeSend:t,success:function(){r&&r()}})}function r(e,n,r){i({url:"https://content.googleapis.com/drive/v3/files?alt=json",type:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify({name:e,parents:[n]}),beforeSend:t,success:function(e){r&&r(e.id)}})}function o(e,n,r){i({url:"https://content.googleapis.com/drive/v3/files?pageSize=1&q=name%20%3D%20%27"+e+"%27&spaces="+n+"&fields=nextPageToken%2C%20files(id%2C%20name)",type:"GET",beforeSend:t,success:function(e){if(r){var t=[];t="string"===typeof e?JSON.parse(e).files:e.files,r(t[0])}}})}function a(e,n){i({url:"https://www.googleapis.com/drive/v3/files/"+e+"?alt=media",type:"GET",beforeSend:t,success:function(e){n&&n(e)}})}function s(e,t,i,a){o(e,t,(function(o){o?n(o.id,i,a):r(e,t,(function(e){n(e,i,a)}))}))}return{getGoogleDriveFile:o,getGoogleDriveFileContent:a,saveDataToGoogleDrive:s}}(t.accessToken));a.getGoogleDriveFile("k1.lp","appDataFolder",(function(e){e&&e.id&&a.getGoogleDriveFileContent(e.id,(function(e){e&&n(e,t,r,o)}))}))},e._getK2FromAlp=function(t,r,a,s){e._ajax({type:"POST",dataType:"json",contentType:"application/json",url:r.alpUrl+"/federatedlogin/api/v1/getkey",data:JSON.stringify({company_id:r.companyId,id_token:r.idToken}),success:function(n){n&&n.k2?a(o(i(atob(t),atob(n.k2))),void 0,n.fragment_id,o(atob(t)),atob(t)):e._handleError(s,new Error("Could not retrieve K2 from ALP"))},error:n(s)})},e._assemblePasswordForOIDC=function(t,n,r){var o=function(){r(S("Unknown OpenIDConnect provider")+" "+provider)};t.provider===e.OIDC_PROVIDERS.Azure?o=e._getKeysForAzure:t.provider===e.OIDC_PROVIDERS.Google?o=e._getKeysForGoogle:t.provider===e.OIDC_PROVIDERS.PingOne?o=e._getKeysForPingOne:t.provider!==e.OIDC_PROVIDERS.Okta&&t.provider!==e.OIDC_PROVIDERS.OktaWithoutAuthorizationServer&&t.provider!==e.OIDC_PROVIDERS.OneLogin||(o=e._getGlobalKeysForIdp),o(t,e._getK2FromAlp,n,r)},e.getScopes=function(t,n){switch(t){case e.OIDC_PROVIDERS.Azure:return n?"openid email profile user.readwrite":"openid email profile";case e.OIDC_PROVIDERS.OktaWithoutAuthorizationServer:return"openid email profile groups";case e.OIDC_PROVIDERS.PingOne:return n?"openid email profile p1:update:user":"openid email profile lastpass";case e.OIDC_PROVIDERS.Google:return"openid https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/drive.appdata https://www.googleapis.com/auth/drive.install https://www.googleapis.com/auth/drive.file";case e.OIDC_PROVIDERS.Okta:default:return"openid email profile"}},e.getOIDCProviderName=function(e){switch(e){case 0:return"Azure AD";case 1:case 2:return"Okta";case 3:return"Google";case 4:return"PingOne";case 5:return"OneLogin";default:return""}},e._keypairSaved=function(){},e._cache={},e.clearCache=function(){e._cache={}};var t=("undefined"!==typeof g_oldFederatedEmail&&(g_oldFederatedEmail=""),"undefined"!==typeof g_newFederatedEmail&&(g_newFederatedEmail=""),function(t,r,o){e._cache[t]?r(e._cache[t]):e._ajax({type:"GET",dataType:"json",url:"lmiapi/login/type",data:{username:t},success:function(n){n?(n.OldEmail&&""!==n.OldEmail?"undefined"!==typeof g_oldFederatedEmail&&(g_oldFederatedEmail=n.OldEmail,g_newFederatedEmail=t):e._cache[t]=n,r(n)):e._handleError(o,new Error("Could not retrieve login data: "+n))},error:n(o)})}),n=function(t){return function(n,r,o){e._handleError(t,new Error(o))}},r=function(t,r,o,i){var a;a=function(a,u){a?i(a):e._ajax({type:"POST",dataType:"json",contentType:"application/json",url:"lmiapi/federated/key",data:{email:t,publickey:s(u).publicKey},success:function(){e._keypairSaved(u,r),o(u)},error:n(i)})},b.rsa.generateKeyPair({bits:2048,workers:2},(function(e,t){a(e,t)}))},o=function(e){var t=b.md.sha256.create();return t.update(e),btoa(t.digest().bytes())},i=function(e,t){var n=e.length<t.length?e.length:t.length;return b.util.xorBytes(e,t,n)},a=function(e){return btoa(b.asn1.toDer(e).getBytes())},s=function(e){return e?{privateKey:a(b.pki.privateKeyToAsn1(e.privateKey)),publicKey:a(b.pki.publicKeyToAsn1(e.publicKey))}:e}};function N(e){return e.match(/^moz-extension:\/\//)||e.match(/^safari-web-extension:\/\//)}N(location.origin)&&browser.webRequest.onBeforeSendHeaders.addListener((function(e){return{requestHeaders:e.requestHeaders.filter((function(e){return!("origin"===e.name.toLowerCase()&&N(e.value))}))}}),{urls:["https://*.okta.com/oauth2*","https://*.okta-emea.com/oauth2*","https://*.okta.com/.well-known/openid-*"]},["blocking","requestHeaders"]);var F=new function(){var e=this,t={},n=!1;j.call(e),e._ajax=function(e){"undefined"!==typeof base_url&&0!==e.url.indexOf("http")&&(e.url=base_url+e.url),k.ajax(e)},e.login=function(t,n){t=_(t),e.getPassword(t,(function(e,r,o,i){setFragmentId(o,i),LP_do_login(t,e,n,void 0,void 0,void 0,void 0,void 0,void 0,r)}),lpshowError)};var r=function(e,t){try{var n=e.Response.Assertion.AttributeStatement.Attribute.find((function(e){return e._Name===t})).AttributeValue;if("string"===typeof n)return n;if("string"===typeof n["#text"])return n["#text"]}catch(r){}return""},o=function(t,n){if(t.keypair){var o=O.parseXml(atob(n),!0),a=r(o,"LastPassKeyPart"),s=r(o,"LastPassKeyPartSignature"),u=e._decryptK1WithPrivateKey(atob(a),t.keypair.privateKey);t.valid=!!u&&i(u,s),t.submitted=!0,t.valid||e._handleError(t.error,new Error(S("K1 not valid!")))}},i=function(e,t){return function(e){var t=b.md.sha256.create();return t.update(e),btoa(t.digest().bytes())}(e)===t},a=function(e){try{if(e&&e.formData&&e.formData.SAMLResponse&&1===e.formData.SAMLResponse.length)return e.formData.SAMLResponse[0];if(e&&e.raw){var t=e.raw.reduce((function(e,t){return e+String.fromCharCode.apply(null,new Uint8Array(t.bytes))}),"");if(t.length>0){var n=function(e){var t={};return e.split("&").forEach((function(e){var n=e.split("=");2===n.length&&(t[n[0]]=decodeURIComponent(n[1]))})),t}(t);if(n.SAMLResponse)return n.SAMLResponse}}}catch(r){console.log(r)}return null};e.getPasswordSaml=function(n,r,i){n=_(n),K.getCurrentTabDetails((function(s){e._initiate(n,(function(u,c){var d={valid:!1,idp:u,keypair:c,submitted:!1,error:i};K.openTab({extension:!0,url:u.IdentityProviderURL+"/auth/saml2/"+u.IdentityProviderGUID,loadHandler:function(f){t[f.tabDetails.tabID]=d,d.cleanup=K.onBeforeNavigate((function(t,l){var p=/\/auth\/saml2\/success\/(.*)$/.exec(t);if(p&&2===p.length)return d.valid||!c?e._getAuthInfo(n,p[1],(function(t){e._assemblePassword(n,c,t,(function(e){r(e,t.authSessionId)}),i)}),i):e._handleError(i,new Error(S("K1 not valid!"))),d.submitted=!0,K.closeTab(f.tabDetails),K.activateTab(s),!1;if(c&&!d.valid&&0===t.indexOf(u.IdentityProviderURL)){var g=a(l);if(g)return o(d,g),d.valid}}),f.tabDetails)},closeHandler:function(){d.submitted||e._handleError(i,new Error(S("Federated login tab closed!")))}})}))}))},e.parseJwt=function(e){return(new w.UserManager)._joseUtil.parseJwt(e).payload},e.getPassword=function(t,r,o,i,a){t=_(t),e.clearCache(),K.getCurrentTabDetails((function(i){e._initiate(t,(function(i,s){var u={valid:!1,idp:i,keypair:s,submitted:!1,error:o};if(u.idp.type<=2)e.getPasswordSaml(t,r,o);else{3!=u.idp.type&&o(),w.Log.logger=console,w.Log.level=w.Log.INFO;var c="?desktop=1",d="sfx_appstore"===a&&u.idp.PkceEnabled&&u.idp.Provider===e.OIDC_PROVIDERS.Azure,f={authority:u.idp.OpenIDConnectAuthority,client_id:u.idp.OpenIDConnectClientId,redirect_uri:"https://accounts.lastpass.com/federated/oidcredirect.html"+(d?c:""),response_type:u.idp.PkceEnabled?"code":"id_token token",response_mode:u.idp.PkceEnabled&&u.idp.Provider!==e.OIDC_PROVIDERS.PingOne?"fragment":null,scope:e.getScopes(u.idp.Provider,!1),signingKeys:u.idp.OpenIDConnectKeys,extraQueryParams:{}};u.idp.IsEmailHintDisabled||(f.extraQueryParams.login_hint=t),u.idp.Provider===e.OIDC_PROVIDERS.OneLogin&&(f.extraQueryParams.resource="https://lastpass.com");var l=e.getOIDCProviderName(u.idp.Provider),p=new w.OidcClient(f);p.createSigninRequest().then((function(i){if(n)n=!1;else{n=!0;var a=u.idp.PkceEnabled&&i.url.indexOf("&nonce=")<0?"&nonce="+ee(16):"";K.openTab({extension:!0,url:i.url+a,closeHandler:function(){n=!1,u.submitted||e._handleError(o,new Error(S("Federated login tab closed!")))},loadHandler:function(){},onBeforeRequestCallback:function(i,a,s){/https:\/\/accounts\.lastpass\.com\/federated\/oidcredirect\.html.*/.test(i)&&p.processSigninResponse(i).then((function(i){if(u.submitted=!0,K.closeTab({tabID:s}),n=!1,i.error)return console.log(i.error),e._handleError(o,new Error(getErrorMessage(i.error))),!1;if(!i.profile)return e._handleError(o,new Error(S("No profile information."))),!1;var a=i.profile.email?i.profile.email.toLowerCase():void 0,c=i.profile.preferred_username?i.profile.preferred_username.toLowerCase():void 0;if(a!=t.toLowerCase()&&c!=t.toLowerCase()){var d=[sprintf(S("Use the same account to log in to both %s and LastPass."),l),"<br/><br/>",sprintf(S("Current %s account:"),l)+" "+(a||c||S("unknown")),"<br/>",S("Attempted LastPass account:")+" "+t].join("");return e._handleError(o,new Error(d)),!1}var p=null,g=null;u.idp.Provider!=e.OIDC_PROVIDERS.Okta&&u.idp.Provider!=e.OIDC_PROVIDERS.OktaWithoutAuthorizationServer||(u.idp.Provider==e.OIDC_PROVIDERS.Okta?(g=e.parseJwt(i.access_token))&&(p=g.LastPassK1):u.idp.Provider==e.OIDC_PROVIDERS.OktaWithoutAuthorizationServer&&(p=i.profile.LastPassK1),p&&33==p.length||e._handleError(o,new Error(S("LastPassK1 is missing or has invalid length.")))),u.idp.Provider!==e.OIDC_PROVIDERS.PingOne&&u.idp.Provider!==e.OIDC_PROVIDERS.OneLogin||((g=e.parseJwt(i.access_token))&&(p=g.LastPassK1),p||e._handleError(o,new Error(S("LastPassK1 is missing or has invalid length."))));var v=e.GRAPH_API_HOST.Com;u.idp.Provider===e.OIDC_PROVIDERS.Azure&&f.authority.indexOf("microsoftonline.us")>0&&(v=e.GRAPH_API_HOST.Us);var h={idToken:i.id_token,accessToken:i.access_token,companyId:u.idp.CompanyId,alpUrl:E,provider:u.idp.Provider,k1:p,graphApiHost:v};return e._assemblePasswordForOIDC(h,r,o),!0})).catch((function(t){console.log(t);var n=decodeURIComponent(t.error_description.replace(/\+/g,"%20"));e._handleError(o,new Error(function(e){return[sprintf(S("%s reported a problem during login."),l),sprintf(S("Contact your %s administrator for assistance."),l),sprintf(S("Here\u2019s the message from %s:"),l),e].join("<br/><br/>")}(n)))}))}})}}))}}))}))},e.validateK1Encryption=function(e,n,r){var i=!0,a=t[r.tabID];a&&a.keypair&&(o(a,e),i=a.valid),n&&n(i)},K.onTabClosed((function(e){t[e]&&(t[e].cleanup(),delete t[e])}))};function G(){this.i=0,this.j=0,this.S=new Array}!function(){var e="undefined"!==typeof browser?browser.runtime:"undefined"!==typeof chrome?chrome.runtime:void 0;e&&e.onMessage.addListener((function(e,t,n){e.validateK1&&F.validateK1Encryption(e.validateK1,n,{tabID:t.tab.id})}))}(),G.prototype.init=function(e){var t,n,r;for(t=0;t<256;++t)this.S[t]=t;for(n=0,t=0;t<256;++t)n=n+this.S[t]+e[t%e.length]&255,r=this.S[t],this.S[t]=this.S[n],this.S[n]=r;this.i=0,this.j=0},G.prototype.next=function(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]};var M,V,B,H=256;function U(){var e;e=(new Date).getTime(),V[B++]^=255&e,V[B++]^=e>>8&255,V[B++]^=e>>16&255,V[B++]^=e>>24&255,B>=H&&(B-=H)}if(null==V){if(V=new Array,B=0,"undefined"!=typeof navigator&&"Netscape"==navigator.appName&&navigator.appVersion<"5"&&"undefined"!=typeof window&&window.crypto){var Z=window.crypto.random(32);for(J=0;J<Z.length;++J)V[B++]=255&Z.charCodeAt(J)}try{var z=null;if("undefined"!=typeof window&&"undefined"!=typeof window.crypto?z=window.crypto:"undefined"!=typeof window&&"undefined"!=typeof window.msCrypto&&(z=window.msCrypto),"undefined"!=typeof z&&"function"==typeof z.getRandomValues&&B<H){var W=Math.floor((H-B)/2)+1,Y=new Uint16Array(W);z.getRandomValues(Y);for(var q=0;q<Y.length;q++){var J=Y[q];V[B++]=J>>>8,V[B++]=255&J}}}catch(re){}for(;B<H;)J=Math.floor(65536*Math.random()),V[B++]=J>>>8,V[B++]=255&J;B=0,U()}function X(){if("undefined"!==typeof self.crypto){var e=new Uint8Array(1);return self.crypto.getRandomValues(e),e[0]}if(null==M){for(U(),(M=new G).init(V),B=0;B<V.length;++B)V[B]=0;B=0}return M.next()}function Q(e){var t;for(t=0;t<e.length;++t)e[t]=X()}function $(e,t){var n=t-e+1;U();for(var r=new Array,o=0;o<4;o++)r[o]=0;Q(r);var i=0;for(o=0;o<4;o++)i*=256,i+=r[o];return i%=n,i+=e}function ee(e,t){var n="";t="undefined"!==typeof t?t:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz1234567890";for(var r=0;r<e;r++)n+=t.charAt($(0,t.length-1));return n}var te;function ne(e){r=e}F.getPassword=(te=F.getPassword,function(e,t,n){te(e,(function(){t.apply(void 0,arguments),R()}),n)})},8647:function(e,t,n){"use strict";n.d(t,{n:function(){return i}});var r=n(27403),o=n(26807),i=(0,r.css)("*,body{font-family:",o.Q.fonts.primary,";}*,::before,::after{overflow-wrap:unset;}a,a:hover,a:visited,a:active{text-decoration:none;color:",o.Q.colors.blue700,";}html,body{height:100%;}input[type='search']{-webkit-appearance:textfield;}input[type='search']::-webkit-search-decoration{-webkit-appearance:none;}sup{font-size:8px;vertical-align:super;}","")},86471:function(e,t,n){"use strict";e.exports=n.p+"static/media/de_DE.4851bec38cc6f2867b28.json"},85640:function(e,t,n){"use strict";e.exports=n.p+"static/media/en_US.57c5001a9be7fda0512f.json"},5517:function(e,t,n){"use strict";e.exports=n.p+"static/media/es_ES.49335259fdf27dc06542.json"},20628:function(e,t,n){"use strict";e.exports=n.p+"static/media/fr_FR.8c302d9a21dbc13f3ef6.json"},52250:function(e,t,n){"use strict";e.exports=n.p+"static/media/it_IT.a5c496bf901f2fcdf5fa.json"},59575:function(e,t,n){"use strict";e.exports=n.p+"static/media/nl_NL.3f792ead93cc33502d0a.json"},18574:function(e,t,n){"use strict";e.exports=n.p+"static/media/pt_BR.51ea3646277393ef491a.json"},72473:function(){},51589:function(){}},function(e){e.O(0,[4445,5504,5431,2503,4534,5089,477,68,3042,318,5989,7056,2377,8537,7145,4179,1917,2656,1498,3687,539,1435,7106,1552,9618],(function(){return t=30069,e(e.s=t);var t}));var t=e.O();webClient=t}]);
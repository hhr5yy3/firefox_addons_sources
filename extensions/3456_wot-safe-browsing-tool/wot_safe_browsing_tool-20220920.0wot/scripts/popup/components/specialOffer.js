class SpecialOffer extends React.Component{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),this.gaCategory="special offer",window.onblur=this.onLeave.bind(this)}componentDidMount(){GA(this.gaCategory,"shown",this.props.gaLabel)}onLeave(){this.notifyClose(),GA(this.gaCategory,"closed",this.props.gaLabel)}onUpgradeClick(){this.notifyClose(),goUpgrade(this.gaCategory,"clicked",`${this.props.gaLabel}&coupon=${this.props.coupon}`)}notifyClose(){this.props.store.dispatch(upgradePopUpData({show:!0})),webextApi.runtime.sendMessage({name:CHECK_NEXT_POPUP_STATE})}render(){var e=this.props;const a=e.discount,t=e.featureSpecs,s=e.originalPrice,o=(s*((100-a)/100)).toFixed(2);return React.createElement("div",{className:"special-offer-container"},React.createElement("div",{className:"special-offer-top-row"},React.createElement(SvgIcon,{svg:"wot-logo",className:"special-offer-logo"}),React.createElement("div",{className:"special-offer-header-title"},translate("specialOffer")),React.createElement(SvgIcon,{svg:"mail-serp-cross",className:"special-offer-close",onClick:window.close})),React.createElement("div",{className:"special-offer-picture "+(t?"":" tweak-space")},React.createElement(SvgIcon,{svg:"hand-gift"})),React.createElement("div",{className:"special-offer-main-title"},`-${a}% ${translate("off")}`),React.createElement("div",{className:"special-offer-subtitle"+(t?" tweak-space":"")},translate("ExperienceFullPower")),t&&React.createElement("div",{className:"special-offer-features"},translate("specialOfferFeatures")),React.createElement("div",{className:"special-offer-reduced-price"},`$${o} / ${translate("month")}`),React.createElement("div",{className:"special-offer-original-price"},`$${s} / ${translate("month")}`),React.createElement("div",{className:"special-offer-billing-details"},`${translate("specialOfferBillingDetails")} $${(12*o).toFixed(2)}`),React.createElement("div",{className:"special-offer-action-button",onClick:()=>this.onUpgradeClick()},React.createElement(SvgIcon,{svg:"white-circle-lightning",className:"icon-special-offer-button"}),translate("upgradeNow")))}}function mapStateToProps(e){const a=e.settings.upgradePopUp.numberOfShow;var t=e.remoteConfig.features.specialOffer;var s=(void 0===t?{options:[{animation:""}]}:t).options[0],o=s.discount;const c=void 0===o?25:o;var i=s.featureSpecs;const r=void 0!==i&&i;var n=s.ctaEvent;const l=void 0===n?"so_features_off":n;var p=s.originalPrice;const f=void 0===p?"3.99":p;var d=s.coupon;return{discount:c,featureSpecs:r,gaLabel:`${l}_${a+1}`,originalPrice:f,coupon:void 0===d?"WOT_INTRO":d}}SpecialOffer=ReactRedux.connect(mapStateToProps)(SpecialOffer);
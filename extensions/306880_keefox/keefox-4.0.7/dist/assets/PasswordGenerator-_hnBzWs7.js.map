{"version":3,"file":"PasswordGenerator-_hnBzWs7.js","sources":["../../../src/common/components/PasswordGenerator.vue"],"sourcesContent":["<template>\n    <v-dialog\n:model-value=\"true\" fullscreen persistent :scrim=\"false\" :transition=\"dialogTransition\"\n        @keydown.esc=\"cancel\">\n        <v-card>\n            <div>\n                <v-card-text>\n                    <v-select\nv-model=\"selectedProfile\" :items=\"items\" :label=\"$i18n('password_profile')\"\n                        color=\"secondary\" :hint=\"$i18n('password_profile_hint')\" persistent-hint class=\"mt-0\"\n                        @update:model-value=\"profileChanged\" />\n                    <v-card\n:loading=\"loading\" class=\"mx-auto px-3 py-0 mt-4\" style=\"font-family: monospace\"\n                        max-width=\"300\">\n                        <v-container class=\"justify-space-between\" style=\"display: flex; column-gap: 1rem;\">\n                            <v-sheet class=\"flex-grow-1\" style=\"align-self: center; flex-shrink: 1; overflow-wrap: anywhere; text-align: center;\">\n                                {{ renderedPassword }}\n                            </v-sheet>\n                            <v-sheet style=\"align-self: center;\">\n                                <v-btn size=\"small\" icon @click=\"revealed = !revealed\">\n                                    <mdi-eye v-if=\"revealed\" scale=\"150\" />\n                                    <mdi-eye-off v-if=\"!revealed\" scale=\"150\" />\n                                </v-btn>\n                            </v-sheet>\n                    </v-container>\n                    </v-card>\n                    <div v-if=\"!standalone\">\n                        <br />\n                        {{ $i18n(\"password_will_be_set_on_field\") }}\n                    </div>\n                    <div v-if=\"!standalone\">\n                        <v-checkbox v-model=\"forceCopy\" :label=\"$i18n('also_copy_to_clipboard')\">\n                        </v-checkbox>\n                    </div>\n                    <div v-if=\"!standalone\">\n                        {{ forceCopyHint }}\n                    </div>\n                </v-card-text>\n            </div>\n            <v-card-actions>\n                <v-list-item class=\"w-100\">\n                    <div class=\"justify-self-end\">\n                        <v-btn variant=\"elevated\" color=\"tertiary\" @click=\"cancel\">\n                            {{ cancelButtonText }}\n                        </v-btn>\n\n                        <v-btn variant=\"elevated\" color=\"primary\" :disabled=\"disabled\" @click=\"ok\">\n                            {{ okButtonText }}\n                        </v-btn>\n                    </div>\n                </v-list-item>\n            </v-card-actions>\n        </v-card>\n        <MdiMenuUp v-if=\"false\" />\n        <MdiMenuDown v-if=\"false\" />\n    </v-dialog>\n</template>\n\n<script lang=\"ts\">\nimport { Port } from \"../../common/port\";\nimport { Action } from \"../../common/Action\";\nimport { SaveState } from \"../../common/SaveState\";\nimport useStore from \"../../store\";\nimport { mapState } from \"pinia\";\n\nexport default {\n    props: [\"field\", \"standalone\", \"topmost\"],\n    emits: [\"copy-to-clipboard\", \"dialog-closed\"],\n    setup() {\n        const { updateGeneratedPassword } = useStore();\n        return { updateGeneratedPassword };\n    },\n    data: () => ({\n        selectedProfile: \"\",\n        forceCopy: false,\n        revealed: false,\n        loading: false,\n        cachedGeneratedPassword: \"\"\n    }),\n    computed: {\n        ...mapState(useStore, [\"PasswordProfiles\", \"saveState\", \"generatedPassword\"]),\n        items: function () {\n            return this.PasswordProfiles.map(p => p.name);\n        },\n        disabled: function () {\n            return !this.cachedGeneratedPassword;\n        },\n        forceCopyHint: function () {\n            return this.forceCopy ? this.$i18n(\"generatePassword_done_2\") : \"\";\n        },\n        renderedPassword: function () {\n            return this.revealed\n                ? this.cachedGeneratedPassword\n                : \"*\".repeat(this.cachedGeneratedPassword.length);\n        },\n        okButtonText: function () {\n            if (this.standalone) {\n                return this.$i18n(\"generator_action_copy\");\n            } else if (this.forceCopy) {\n                return this.$i18n(\"generator_action_apply_and_copy\");\n            } else {\n                return this.$i18n(\"generator_action_apply\");\n            }\n        },\n        cancelButtonText: function () {\n            return this.standalone ? this.$i18n(\"close\") : this.$i18n(\"cancel\");\n        },\n        dialogTransition: function () {\n            return this.topmost ? \"false\" : \"dialog-transition\";\n        }\n    },\n    methods: {\n        ok: async function () {\n            if (this.standalone || this.forceCopy) {\n                this.$emit(\"copy-to-clipboard\", { value: this.cachedGeneratedPassword });\n            }\n            this.$emit(\"dialog-closed\", { value: this.cachedGeneratedPassword });\n        },\n        cancel: function () {\n            this.$emit(\"dialog-closed\");\n        },\n        profileChanged: function (item: string) {\n            this.loading = true;\n            const unwatch = this.$watch(\n                \"generatedPassword\",\n                newValue => {\n                    unwatch();\n                    this.cachedGeneratedPassword = newValue ?? \"\";\n                    this.loading = false;\n                }\n            );\n            Port.postMessage({\n                action: Action.GeneratePassword,\n                passwordProfile: item,\n                url: (this.saveState as SaveState)?.newEntry?.URLs?.[0]\n            });\n        }\n    }\n};\n</script>\n<style>\n.v-input--checkbox .v-messages__wrapper {\n    min-height: 32px;\n}\n\n.v-text-field__details .v-messages__message,\n.v-input--checkbox .v-messages__message {\n    line-height: 16px;\n}\n</style>\n"],"names":["_createElementVNode","_resolveComponent","_openBlock","_createBlock","_withKeys","_withCtx","_createVNode","selectedProfile","$i18n","loading","_createTextVNode","_toDisplayString","_createCommentVNode","_createElementBlock"],"mappings":"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"}
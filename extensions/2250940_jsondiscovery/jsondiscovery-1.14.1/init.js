var Pt=Object.create;var Se=Object.defineProperty;var Ct=Object.getOwnPropertyDescriptor;var jt=Object.getOwnPropertyNames;var Rt=Object.getPrototypeOf,It=Object.prototype.hasOwnProperty;var te=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Ut=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of jt(t))!It.call(e,s)&&s!==r&&Se(e,s,{get:()=>t[s],enumerable:!(n=Ct(t,s))||n.enumerable});return e};var ve=(e,t,r)=>(r=e!=null?Pt(Rt(e)):{},Ut(t||!e||!e.__esModule?Se(r,"default",{value:e,enumerable:!0}):r,e));var Be=te((gn,Me)=>{var Xt={8:"\\b",9:"\\t",10:"\\n",12:"\\f",13:"\\r",34:'\\"',92:"\\\\"};function er(e){return e>=55296&&e<=56319}function tr(e){return e>=56320&&e<=57343}function Ve(e){return typeof e.pipe=="function"&&typeof e._read=="function"&&typeof e._readableState=="object"&&e._readableState!==null}function rr(e,t,r,n){switch(r&&typeof r.toJSON=="function"&&(r=r.toJSON()),n!==null&&(r=n.call(e,String(t),r)),typeof r){case"function":case"symbol":r=void 0;break;case"object":if(r!==null){let s=r.constructor;(s===String||s===Number||s===Boolean)&&(r=r.valueOf())}break}return r}function nr(e){return e===null||typeof e!="object"?1:Array.isArray(e)?3:2}function sr(e){return e===null||typeof e!="object"?1:typeof e.then=="function"?4:Ve(e)?e._readableState.objectMode?6:5:Array.isArray(e)?3:2}function ir(e){return typeof e=="function"?e:Array.isArray(e)?[...new Set(e.map(r=>{let n=r&&r.constructor;return n===String||n===Number?String(r):null}).filter(r=>typeof r=="string"))]:null}function ar(e){return typeof e=="number"?!Number.isFinite(e)||e<1?!1:" ".repeat(Math.min(e,10)):typeof e=="string"&&e.slice(0,10)||!1}Me.exports={escapableCharCodeSubstitution:Xt,isLeadingSurrogate:er,isTrailingSurrogate:tr,type:{PRIMITIVE:1,PROMISE:4,ARRAY:3,OBJECT:2,STRING_STREAM:5,OBJECT_STREAM:6},isReadableStream:Ve,replaceValue:rr,getTypeNative:nr,getTypeAsync:sr,normalizeReplacer:ir,normalizeSpace:ar}});var qe=te((bn,ze)=>{ze.exports=TextDecoder});var oe=te((wn,Je)=>{var{isReadableStream:or}=Be(),lr=qe(),L=1,cr=2,ur=new lr;function $e(e){return e!==null&&typeof e=="object"}function ie(e,t){return e.name==="SyntaxError"&&t.jsonParseOffset&&(e.message=e.message.replace(/at position (\d+)/,(r,n)=>"at position "+(Number(n)+t.jsonParseOffset))),e}function dr(e,t){let r=e.length;e.length+=t.length;for(let n=0;n<t.length;n++)e[r+n]=t[n]}Je.exports=function(e){let t=new ae;if($e(e)&&or(e))return new Promise((r,n)=>{e.on("data",s=>{try{t.push(s)}catch(i){n(ie(i,t)),t=null}}).on("error",s=>{t=null,n(s)}).on("end",()=>{try{r(t.finish())}catch(s){n(ie(s,t))}finally{t=null}})});if(typeof e=="function"){let r=e();if($e(r)&&(Symbol.iterator in r||Symbol.asyncIterator in r))return new Promise(async(n,s)=>{try{for await(let i of r)t.push(i);n(t.finish())}catch(i){s(ie(i,t))}finally{t=null}})}throw new Error("Chunk emitter should be readable stream, generator, async generator or function returning an iterable object")};var ae=class{constructor(){this.value=void 0,this.valueStack=null,this.stack=new Array(100),this.lastFlushDepth=0,this.flushDepth=0,this.stateString=!1,this.stateStringEscape=!1,this.pendingByteSeq=null,this.pendingChunk=null,this.chunkOffset=0,this.jsonParseOffset=0}parseAndAppend(t,r){this.stack[this.lastFlushDepth-1]===L?(r&&(this.jsonParseOffset--,t="{"+t+"}"),Object.assign(this.valueStack.value,JSON.parse(t))):(r&&(this.jsonParseOffset--,t="["+t+"]"),dr(this.valueStack.value,JSON.parse(t)))}prepareAddition(t){let{value:r}=this.valueStack;if(Array.isArray(r)?r.length!==0:Object.keys(r).length!==0){if(t[0]===",")return this.jsonParseOffset++,t.slice(1);if(t[0]!=="}"&&t[0]!=="]")return this.jsonParseOffset-=3,"[[]"+t}return t}flush(t,r,n){let s=t.slice(r,n);if(this.jsonParseOffset=this.chunkOffset+r,this.pendingChunk!==null&&(s=this.pendingChunk+s,this.jsonParseOffset-=this.pendingChunk.length,this.pendingChunk=null),this.flushDepth===this.lastFlushDepth)this.flushDepth>0?this.parseAndAppend(this.prepareAddition(s),!0):(this.value=JSON.parse(s),this.valueStack={value:this.value,prev:null});else if(this.flushDepth>this.lastFlushDepth){for(let i=this.flushDepth-1;i>=this.lastFlushDepth;i--)s+=this.stack[i]===L?"}":"]";this.lastFlushDepth===0?(this.value=JSON.parse(s),this.valueStack={value:this.value,prev:null}):this.parseAndAppend(this.prepareAddition(s),!0);for(let i=this.lastFlushDepth||1;i<this.flushDepth;i++){let a=this.valueStack.value;if(this.stack[i-1]===L){let l;for(l in a);a=a[l]}else a=a[a.length-1];this.valueStack={value:a,prev:this.valueStack}}}else{s=this.prepareAddition(s);for(let i=this.lastFlushDepth-1;i>=this.flushDepth;i--)this.jsonParseOffset--,s=(this.stack[i]===L?"{":"[")+s;this.parseAndAppend(s,!1);for(let i=this.lastFlushDepth-1;i>=this.flushDepth;i--)this.valueStack=this.valueStack.prev}this.lastFlushDepth=this.flushDepth}push(t){if(typeof t!="string"){if(this.pendingByteSeq!==null){let i=t;t=new Uint8Array(this.pendingByteSeq.length+i.length),t.set(this.pendingByteSeq),t.set(i,this.pendingByteSeq.length),this.pendingByteSeq=null}if(t[t.length-1]>127)for(let i=0;i<t.length;i++){let a=t[t.length-1-i];if(a>>6===3){i++,(i!==4&&a>>3===30||i!==3&&a>>4===14||i!==2&&a>>5===6)&&(this.pendingByteSeq=t.slice(t.length-i),t=t.slice(0,-i));break}}t=ur.decode(t)}let r=t.length,n=0,s=0;e:for(let i=0;i<r;i++){if(this.stateString){for(;i<r;i++)if(this.stateStringEscape)this.stateStringEscape=!1;else switch(t.charCodeAt(i)){case 34:this.stateString=!1;continue e;case 92:this.stateStringEscape=!0}break}switch(t.charCodeAt(i)){case 34:this.stateString=!0,this.stateStringEscape=!1;break;case 44:s=i;break;case 123:s=i+1,this.stack[this.flushDepth++]=L;break;case 91:s=i+1,this.stack[this.flushDepth++]=cr;break;case 93:case 125:s=i+1,this.flushDepth--,this.flushDepth<this.lastFlushDepth&&(this.flush(t,n,s),n=s);break;case 9:case 10:case 13:case 32:n===i&&n++,s===i&&s++;break}}s>n&&this.flush(t,n,s),s<r&&(this.pendingChunk!==null?this.pendingChunk+=t:this.pendingChunk=t.slice(s,r)),this.chunkOffset+=r}finish(){return this.pendingChunk!==null&&(this.flush("",0,0),this.pendingChunk=null),this.value}}});var N=class{constructor(){this.listeners=Object.create(null)}on(t,r){return this.listeners[t]={callback:r,next:this.listeners[t]||null},this}once(t,r){return this.on(t,function n(...s){r.apply(this,s),this.off(t,n)})}off(t,r){let n=this.listeners[t]||null,s=null;for(;n!==null;){if(n.callback===r){n.callback=null,s?s.next=n.next:this.listeners[t]=n.next;break}s=n,n=n.next}return this}emit(t,...r){let n=this.listeners[t]||null,s=!1;for(;n!==null;)typeof n.callback=="function"&&n.callback.apply(this,r),s=!0,n=n.next;return s}};function Ft(e){let t="__storage_test__"+Math.random(),r;try{r=window[e]}catch{return null}try{r.setItem(t,t),r.removeItem(t)}catch(n){if(!(n instanceof DOMException&&(n.code===22||n.code===1014||n.name==="QuotaExceededError"||n.name==="NS_ERROR_DOM_QUOTA_REACHED")&&r.length!==0))return null}return r}function xe(e){let t=new Map;return t.storage=Ft(e),t.getOrCreate=r=>t.get(r)||Nt(r,t),t.getOrCreate.available=t.storage!==null,t}var re=new Map([["session",xe("sessionStorage")],["local",xe("localStorage")]]),rn=re.get("session").getOrCreate,ke=re.get("local").getOrCreate;addEventListener("storage",e=>{for(let[,t]of re)t.storage===e.storageArea&&t.has(e.key)&&t.get(e.key).forceSync()});function Nt(e,t){let r=null,n=new N,s=(a=t.storage.getItem(e))=>{r!==a&&n.emit("change",r=a)},i={get value(){return this.get()},get(){return r},set(a){t.storage&&(t.storage.setItem(e,a),s())},delete(){t.storage&&(t.storage.removeItem(e),s())},forceSync(){return t.storage&&s(),this.get()},on(a,l){return n.on("change",a),l&&a(r),()=>n.off("change",a)},off(a){n.off("change",a)}};return t.set(e,i),i.forceSync(),i}var Ae=new Set([!0,!1,"auto","disabled","only"]),Te=new Set,De=matchMedia("(prefers-color-scheme:dark)"),Oe=ke("discoveryjs:darkmode"),Ee=new Map([["true",!0],["false",!1],["auto","auto"]]),J=null;function _t(){for(let e of Te)e.mode==="auto"&&e.set("auto")}function Pe(e){let t=Ee.has(e)?Ee.get(e):null;if(J!==t){J=t;for(let r of Te)r.persistent&&r.mode!=="disabled"&&r.mode!=="only"&&r.set(t!==null?t:"auto")}}Pe(Oe.value);Oe.on(Pe);De.addListener(_t);function Lt(e,t){return(e==="off"||e==="disable"||!Ae.has(e))&&(e="disabled"),e!=="disabled"&&e!=="only"&&t&&J!==null&&(e=J),e}function Vt(e){switch(Ae.has(e)||(e="disabled"),e){case"only":return!0;case"auto":return De.matches;default:return e===!0}}function Ce(e,t){return Vt(Lt(e,t))}var Mt={"font-family":"Tahoma, Verdana, Arial, sans-serif","font-size":"16px","line-height":"1.6","-webkit-text-size-adjust":"none","text-size-adjust":"none","background-color":"var(--discovery-background-color, white)",color:"var(--discovery-color, black)","transition-property":"background-color, color","transition-duration":".25s","transition-timing-function":"ease-in"},Bt={"--discovery-background-color":"#242424","--discovery-color":"#cccccc"},ne=new WeakSet,O=new WeakMap;function je(e,t,r){t in r||(r[t]=[e.style.getPropertyValue(t),e.style.getPropertyPriority(t)])}function Re(e,t){t=t||{},O.has(e)||O.set(e,Object.create(null));let r=Ce(t.darkmode,t.darkmodePersistent),n=O.get(e);for(let[s,i]of Object.entries(Mt))(ne.has(e)||!/^transition/.test(s))&&(je(e,s,n),e.style.setProperty(s,i));for(let[s,i]of Object.entries(Bt))je(e,s,n),r?e.style.setProperty(s,i):e.style.removeProperty(s);return ne.add(e),r}function Ie(e){if(O.has(e)){let t=O.get(e);for(let[r,n]of Object.entries(t))e.style.setProperty(r,...n);O.delete(O),ne.delete(e)}}var P=class{static setValue(t,r){if(!t.shouldPublish(r,t.value))return!1;let n=[],s=t.subscriber;for(t.value=r;s!==null;){let{callback:i,thisArg:a}=s;i!==null&&n.push(i.call(a,r,()=>t.unsubscribe(i,a))),s=s.subscriber}return n}constructor(t,r){this.value=t,this.shouldPublish=typeof r=="function"?r:this.shouldPublish,this.subscriber=null}get readonly(){let t=this;return{subscribe:this.subscribe.bind(this),subscribeSync:this.subscribeSync.bind(this),unsubscribe:this.unsubscribe.bind(this),get value(){return t.value}}}subscribe(t,r){return this.subscriber={callback:t,thisArg:r,subscriber:this.subscriber},()=>this.unsubscribe(t,r)}subscribeSync(t,r){let n=this.subscribe(t,r);return t.call(r,this.value,n),n}unsubscribe(t,r){let n=this,s=this.subscriber;for(;s!==null;){if(s.callback===t&&s.thisArg===r){s.callback=null,s.thisArg=null,n.subscriber=s.subscriber;break}n=s,s=s.subscriber}}shouldPublish(t,r){return t!==r}set(t){return this.constructor.setValue(this,t)!==!1}asyncSet(t){let r=this.constructor.setValue(this,t);return r===!1?Promise.resolve(!1):Promise.all(r).then(n=>n!==!1)}};function D(e,t,r){let n=document.createElement(e);typeof t=="string"&&(t={class:t});for(let s in t)if(hasOwnProperty.call(t,s)){if(t[s]===void 0)continue;s.startsWith("on")?n.addEventListener(s.substr(2),t[s]):n.setAttribute(s,t[s])}return Array.isArray(r)?r.forEach(s=>n.appendChild(s instanceof Node?s:zt(s))):typeof r=="string"&&(n.innerHTML=r),n}function zt(e){return document.createTextNode(String(e))}var qt=(()=>{let e=!1;try{let t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return e})(),un=qt?Object.freeze({passive:!0,capture:!0}):!0;var se={request:{value:0,title:"Awaiting data"},receive:{value:.1,title:"Receiving data"},received:{value:.9,title:"Await app ready"},prepare:{value:.925,title:"Processing data (prepare)"},initui:{value:.975,title:"Rendering UI"},done:{value:1,title:"Done!"},error:{value:1,title:"Error!"}};Object.values(se).forEach((e,t,r)=>{e.duration=(t!==r.length-1?r[t+1].value:0)-e.value});var Ue=e=>e|0,Fe=e=>typeof e=="function"?e:()=>{},$t=async()=>{if(await new Promise(e=>setTimeout(e,1)),!document.hidden)return Promise.race([new Promise(requestAnimationFrame),new Promise(e=>setTimeout(e,8))])};function Jt(e,t){let{value:r,title:n,duration:s}=se[e],i=0,a=null;if(t){let{done:l,elapsed:d,units:o,completed:c,total:u}=t;u?(i=l?1:c/u,a=o==="bytes"?Math.round(i*100)+"%":`${c}/${u}`):(i=l?1:.1+Math.min(.9,d/2e4),a=o==="bytes"?(c/(1024*1024)).toFixed(1)+"MB":c)}return{stageTitle:n,progressValue:r+i*s,progressText:a,title:a?`${n} (${a})...`:e!=="done"?`${n}...`:n}}var _=class extends P{constructor({onTiming:t,onFinish:r,delay:n,domReady:s}){super({stage:null,progress:null,error:null}),this.finished=!1,this.awaitRepaint=null,this.lastStage="created",this.lastStageStart=null,this.timings=[],this.onTiming=Fe(t),this.onFinish=Fe(r),this.appearanceDelay=n===!0?200:Number(n)||0,this.domReady=s||Promise.resolve(),this.el=D("div","view-progress init",[D("div","title"),D("div","progress")])}recordTiming(t,r,n=performance.now()){let s={stage:t,title:se[t].title,duration:Ue(n-r)};this.timings.push(s),this.onTiming(s)}async setState(t){let{stage:r,progress:n,error:s}=t;if(this.finished)return;if(s){this.set("stage"in t?{stage:r,progress:n,error:s}:{...this.value,error:s}),this.finish(s);return}this.set(t);let i=r!==this.lastStage,a=performance.now();this.lastStage==="created"&&(this.startTime=a,this.domReady.then(()=>{let o=Math.max(0,this.appearanceDelay-Ue(performance.now()-a));o&&this.el.style.setProperty("--appearance-delay",`${o}ms`),getComputedStyle(this.el).opacity,this.el.classList.remove("init")})),i&&(this.lastStageStart!==null&&this.recordTiming(this.lastStage,this.lastStageStart,a),this.lastStage=r,this.lastStageStart=a,this.awaitRepaint=a);let{title:l,progressValue:d}=Jt(r,n);this.el.querySelector(".title").textContent=l,this.el.style.setProperty("--progress",d),(i||a-this.awaitRepaint>65&&a-this.lastStageStart>200)&&(await $t(),this.awaitRepaint=performance.now())}finish(t){this.finished||(this.finished=!0,this.lastStageStart!==null&&this.recordTiming(this.lastStage,this.lastStageStart),this.recordTiming(t?"error":"done",this.startTime),this.onFinish(this.timings),this.set({stage:"done"}))}dispose(){this.finish(),this.el.remove()}};var Ne=typeof new Blob().stream=="function"?e=>e.stream():Yt();function Yt(){try{return new ReadableStream({type:"bytes"}),Kt}catch{try{return new ReadableStream({}),Wt}catch{try{return new Response(new Blob).body.getReader(),Ht}catch{}}}return Gt}function _e(e){return typeof e.arrayBuffer=="function"?e.arrayBuffer():new Promise((t,r)=>{let n=new FileReader;n.readAsArrayBuffer(e),n.onload=n.onerror=({type:s})=>{n.onload=n.onerror=null,s==="load"?t(n.result||n):r(new Error("Failed to read the blob/file"))}})}function Kt(e){let t=0;return new ReadableStream({type:"bytes",autoAllocateChunkSize:512*1024,pull(r){let n=r.byobRequest.view,s=e.slice(t,t+n.byteLength);return _e(s).then(i=>{let a=new Uint8Array(i),l=a.byteLength;t+=l,n.set(a),r.byobRequest.respond(l),t>=e.size&&r.close()})}})}function Wt(e){let t=0;return new ReadableStream({pull(r){let n=e.slice(t,t+524288);return _e(n).then(s=>{t+=s.byteLength,r.enqueue(new Uint8Array(s)),t==e.size&&r.close()})}})}function Ht(e){return new Response(e).body}function Gt(){throw new Error("Blob#stream() is not supported and no fallback can be applied, include https://github.com/MattiasBuelens/web-streams-polyfill")}function Zt(e){if(!e||typeof e!="object")return"value is not an object";let{name:t,test:r,decode:n}=e;return typeof t!="string"?"missed name":typeof r!="function"?"missed test function":typeof n!="function"?"missed decode function":!1}function Qt(e){let t=Zt(e);if(t)throw new Error(`Bad encoding config${e?.name?` "${e.name}"`:""}: ${t}`);let{name:r,test:n,streaming:s,decode:i}=e;return Object.freeze({name:r||"unknown",test:n,streaming:!!s,decode:i})}function Le(e){if(!e)return[];if(!Array.isArray(e))throw new Error("Encodings must be an array");return e.map(Qt)}var Ye=ve(oe(),1),le=Object.freeze({name:"json",test:()=>!0,streaming:!0,decode:e=>(0,Ye.default)(()=>e)});var fr=new Uint8Array([0,0,74,83,79,78,88,76]),Ke=9,hr=268435455,pr=4294967295,Qe=1,Y=2,R=4,V=8,I=16,K=32,W=64,C=128,Xe=0,et=1,tt=2,rt=3,nt=4,st=5,it=6,mr=7,at=8,ot=9,lt=10,ct=11,ut=12,yr=31,vn=~yr,dt=224,xn=~dt,ft=7936,kn=~ft,ht=0,ue=1,gr=2,br=3,wr=4,Sr=5,pt=6,mt=7,vr=8,We=16,He=32,En=~I,Ge=Y|K|W,xr=new Uint8Array(256),yt=new Uint8Array(8).map((e,t)=>(xr[1<<t]=t,1<<t)),gt=new Uint8Array(256).map((e,t)=>{for(let r=0;r<8;r++)e+=t>>r&1;return e}),An=Object.fromEntries(Object.entries({TYPE_UNDEF:Qe,TYPE_TRUE:K,TYPE_FALSE:W,TYPE_NULL:Y,TYPE_NUMBER:R,TYPE_STRING:V,TYPE_OBJECT:I,TYPE_ARRAY:C}).map(([e,t])=>[t,e])),Tn=Object.fromEntries(Object.entries({UINT_8:Xe,UINT_16:et,UINT_24:tt,UINT_32:rt,UINT_32_VAR:nt,INT_8:at,INT_16:ot,INT_24:lt,INT_32:ct,INT_32_VAR:ut,FLOAT_32:st,FLOAT_64:it,DECIMAL:mr}).map(([e,t])=>[t,e])),ce=new Uint8Array(32),kr=class{constructor(e){this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.bytes=e,this.pos=0}readBytes(e){return this.bytes.subarray(this.pos,this.pos+=e)}readTypeIndex(e,t,r){let n=0,s=0;for(;t>0;)t&1&&(ce[n++]=s),s++,t>>=1;let i=new Uint8Array(e),a=32-Math.clz32(n-1),l=(1<<a)-1,d=this.readBytes(Math.ceil(a*e/8)),o=0,c=0,u=0;for(let f=0;f<e;f++)c<a&&(u|=d[o]<<c,c+=8,o++),i[f]=r?yt[ce[u&l]]:ce[u&l],u>>=a,c-=a;return i}readVlq(){let e=this.view.getUint8(this.pos);if(!(e&1))e=e>>1,this.pos+=1;else if(!(e&2))e=this.view.getUint8(this.pos+1)<<6|e>>2,this.pos+=2;else if(!(e&4))e=this.view.getUint16(this.pos+1,!0)<<5|e>>3,this.pos+=3;else{let t=this.view.getUint32(this.pos,!0);e=t>>>3&hr,this.pos+=4,t>>>31&&(e+=this.readUintVar()*(1<<28))}return e}readUintVar(){let e=this.view.getUint8(this.pos++),t=e&127,r=128;for(;e&128;)e=this.view.getUint8(this.pos++),t+=(e&127)*r,r*=128;return t}readIntVar(){let e=this.readUintVar();return e&1?-(e-1)/2:e<=pr?e>>>1:e/2}readUint8(){let e=this.view.getUint8(this.pos);return this.pos++,e}readInt8(){let e=this.view.getInt8(this.pos);return this.pos++,e}readUint16(){let e=this.view.getUint16(this.pos,!0);return this.pos+=2,e}readInt16(){let e=this.view.getInt16(this.pos,!0);return this.pos+=2,e}readUint24(){let e=this.view.getUint16(this.pos,!0)|this.view.getUint8(this.pos+2)<<16;return this.pos+=3,e}readInt24(){let e=this.view.getUint16(this.pos,!0),t=this.view.getUint8(this.pos+2),r=t&128?-(16777215-(e|t<<16)+1):e|t<<16;return this.pos+=3,r}readUint32(){let e=this.view.getUint32(this.pos,!0);return this.pos+=4,e}readInt32(){let e=this.view.getInt32(this.pos,!0);return this.pos+=4,e}readFloat32(){let e=this.view.getFloat32(this.pos);return this.pos+=4,e}readFloat64(){let e=this.view.getFloat64(this.pos);return this.pos+=8,e}};function de(e,t){switch(t){case Xe:return e.readUint8();case et:return e.readUint16();case tt:return e.readUint24();case rt:return e.readUint32();case nt:return e.readUintVar();case at:return e.readInt8();case ot:return e.readInt16();case lt:return e.readInt24();case ct:return e.readInt32();case ut:return e.readIntVar();case st:return e.readFloat32();case it:return e.readFloat64()}}function Er(e){let t=e.readUint8();switch(t&15){case ht:case ue:case pt:case mt:t|=e.readUint8()<<8;break}return t}function A(e,t=e.readVlq()){let r=Er(e);return fe(e,r,t)}function fe(e,t,r,n=new Array(r)){let s=t&15,i=t&48,a=r,l=0,d=0;switch(i){case We:{l=n[0]=e.readIntVar(),a--,d=1;break}case He:{l=e.readIntVar();break}}switch(s){case gr:{for(let o=0;o<a;o++)n[d+o]=e.readVlq();break}case br:{for(let o=0;o<a;o++)n[d+o]=e.readIntVar();break}case wr:{let o=e.readBytes(Math.ceil(a/2));for(let c=0,u=0;c<a;c++)u=c&1?u>>4:o[c>>1],n[d+c]=u&8?e.readVlq()*8+(u&7):u&7;break}case Sr:{let o=e.readBytes(Math.ceil(a/2));for(let c=0,u=0;c<a;c++){u=c&1?u>>4:o[c>>1];let f=u&4?-1:1;n[d+c]=u&8?f*(e.readVlq()*4+(u&3)):f*(u&3)}break}case pt:{let o=t>>8,c=(1<<o)-1,u=e.readBytes(Math.ceil(a*o/8)),f=0,p=0,h=0;for(let y=0;y<a;y++){for(;p<o;)h|=u[f]<<p,p+=8,f++;n[d+y]=h&c,h>>=o,p-=o}break}case mt:{let o=t>>8,c=(1<<o)-1,u=e.readBytes(Math.ceil(a*o/8)),f=0,p=0,h=0;for(let y=0;y<a;y++){for(;p<o;)h|=u[f]<<p,p+=8,f++;n[d+y]=h&1?-((h&c)>>1):(h&c)>>1,h>>=o,p-=o}break}case vr:{let o=n[0]=e.readIntVar(),c=e.readIntVar();for(let u=1;u<r;u++)o=n[u]=o+c;break}case ht:case ue:{let o=s===ue,c=t>>8,u=o?t&ft|c&dt:c;if(gt[c]>1){let f=e.readTypeIndex(a,u);for(let p=0;p<a;p++)n[d+p]=de(e,f[p])}else{let f=31-Math.clz32(u);for(let p=0;p<a;p++)n[d+p]=de(e,f)}break}default:throw new Error(`Unknown numeric array encoding method: ${s}`)}switch(i){case We:{n[0]=l;for(let o=1;o<r;o++)n[o]+=n[o-1];break}case He:{for(let o=0;o<r;o++)n[o]+=l;break}}return n}var Ar=new TextDecoder("utf8",{ignoreBOM:!0});function Tr(e){if(e.readBytes(8).some((n,s)=>n!==fr[s]))throw new Error("Bad magic number");let t=e.readUint16();if(t!==Ke)throw new Error(`Unsupported jsonxl version "${t}", expected "${Ke}"`);let r=e.readUint16();return{version:t,flags:r}}function Dr(e){let t=Ar.decode(e.readBytes(e.readVlq())),r=A(e),n=A(e),s=A(e),i=A(e),a=new Array(r),l=0;for(let d=0,o=0,c=0,u=0,f="";d<r.length;d++){let p=r[d],h=t.slice(o,o+=p>>2);p&2&&(h=f.slice(0,n[c++])+h),p&1&&(h=h+f.slice(-s[u++])),a[d]=h,f=h}return{readStrings(d,o){return i.slice(d,o).map(c=>a[c])},readString(){return a[i[l++]]}}}function Or(e){let t=A(e),r=0;return function(){return t[r++]}}function Pr(e){let t=A(e),r=A(e),n=0;return function(){return t[r[n++]]}}function Cr(e,t){let r=e.readVlq(),n=e.readVlq();if(r===0)return()=>null;let s=n?t(-n):[],i=new Array(r);for(let a=0;a<r;a++)i[a]={dict:A(e),refs:A(e),index:0};return function(a){let l=i[a],d=l.refs[l.index++],o=l.dict[d];return o===0?null:{key:s[o>>8],type:o&255}}}function Ze(e,t){let r=0;for(let n=0;n<e.length;n++)e[n]===t&&r++;return r}function bt(e){function t(f={}){let p=0,h;for(;h=c(p++);)f[h.key]=s(h.type);return f}function r(f=d()){if(f===0)return[];let p=o(),h=p>>16,y=p&65535,T=h&1,q=h>>5&1,$=h>>9&1,w=h>>1&255|(h&1)<<4,x=new Array(f),g=gt[w]>1?i.readTypeIndex(f,w,!0):null;if(w&Ge)if(g===null)x.fill(n(w));else for(let m=0;m<f;m++)g[m]&Ge&&(x[m]=n(g[m]));if(w&V)for(let m=0;m<f;m++)(g===null||g[m]===V)&&(x[m]=l());if(w&R)if(w===R)fe(i,y,f,x);else{let m=Ze(g,R),b=fe(i,y,m);for(let E=0,S=0;E<f;E++)g[E]===R&&(x[E]=b[S++])}if(w&C)if($){let m=w===C?f:Ze(g,C),b=A(i,m),E=r();for(let S=0,ee=0,U=0;S<f;S++)(g===null||g[S]===C)&&(x[S]=E.slice(U,U+=b[ee++]))}else for(let m=0;m<f;m++)(g===null||g[m]===C)&&(x[m]=r());if(w&I){let m=w===I?x:[];for(let b=0,E=0;b<f;b++)(g===null||g[b]===I)&&(x[b]=m[E++]={});if(q){let b=i.readVlq(),E=new Array(b);for(let S=0;S<b;S++)E[S]=l();for(let S=0;S<b;S++){let ee=E[S],U=r(m.length);for(let F=0;F<m.length;F++)U[F]!==void 0&&(m[F][ee]=U[F])}}if(T)for(let b=0;b<m.length;b++)t(m[b])}return x}function n(f){switch(f){default:return;case Y:return null;case V:return l();case K:return!0;case W:return!1}}function s(f){switch(yt[f&7]){case Qe:return;case Y:return null;case V:return l();case R:return de(i,f>>3);case I:return t();case K:return!0;case W:return!1;case C:return r()}}let i=new kr(e);Tr(i);let{readStrings:a,readString:l}=Dr(i),d=Or(i),o=Pr(i),c=Cr(i,a),u=s(i.readUint8());if(i.pos!==e.byteLength)throw new Error("End of input not reached");return u}var jr=[0,0,74,83,79,78,88,76];function Rr(e){return jr.every((t,r)=>t===e[r])}var he=Object.freeze({name:"jsonxl/snapshot9",test:Rr,streaming:!1,decode:bt});var pe={stream:$r,event:Jr,file:wt,url:Yr,push:Kr};function Ur(e){try{return new URL(e,location.origin).origin===location.origin}catch{return!1}}function Fr(e){return e.ok}function Nr(e){return e.headers.get("x-file-encoded-size")||e.headers.get("content-length")}function _r(e){return e.headers.get("x-file-size")||(Ur(e.url)&&!e.headers.get("content-encoding")?e.headers.get("content-length"):void 0)}function Lr(e){return e.headers.get("x-file-created-at")||e.headers.get("last-modified")}function Vr(e){let t=e?Object.keys(e):[],r=["name","createdAt","elapsedTime","data"];return!(t.length!==4||t.some(n=>!r.includes(n)))}function Mr(e,t,r,{encoding:n,size:s}){if(Vr(e)){let{data:y,...T}=e;e=y,t={...t,createdAt:y.createdAt},r=T}let i=e,a=r||{},{type:l,name:d,encoding:o,size:c,encodedSize:u,createdAt:f,...p}=t;return{resource:{type:l||"unknown",name:d||"unknown",encoding:n,size:s,...u?{encodedSize:u}:null,createdAt:new Date(Date.parse(f)||Date.now()),...p},meta:a,data:i}}async function Br(e){let t=[],r=0;for await(let i of e)t.push(i),r+=i.byteLength;let n=new Uint8Array(r),s=0;for(let i of t)n.set(i,s),s+=i.length;return n}function zr(e,t,r,n){let i=e.getReader(),a=Date.now(),l=[...Le(t),he,le],d="unknown",o=0,c=async function*(u){for(;;){let{value:f,done:p}=u||await i.read();if(u=void 0,p){await n({done:!0,elapsed:Date.now()-a,units:"bytes",completed:o,total:r});break}for(let h=0;h<f.length;h+=1048576){let y=h===0&&f.length-h<1048576?f:f.slice(h,h+1048576);o+=y.length,yield y,await n({done:!1,elapsed:Date.now()-a,units:"bytes",completed:o,total:r})}}};return i.read().then(u=>{for(let{name:f,test:p,streaming:h,decode:y}of l)if(p(u.value,u.done))return d=f,h?y(c(u)):Br(c(u)).then(y);throw new Error("No matched encoding found for the payload")}).finally(()=>i.releaseLock()).then(u=>({data:u,encoding:d,size:o}))}async function qr(e,t){let r=async(n,s)=>(await t.asyncSet({stage:n}),await s());try{let n=new Date,{method:s,stream:i,resource:a,options:l,data:d}=await r("request",e),o=new Date,c=a?.size,{validateData:u,encodings:f}=l||{},{data:p,encoding:h,size:y}=d?{data:d}:await r("receive",()=>zr(i,f,Number(c)||0,m=>t.asyncSet({stage:"receive",progress:m}))),T=new Date;typeof u=="function"&&u(w);let q=new Date;await t.asyncSet({stage:"received"});let $=new Date,{data:w,resource:x,meta:g}=Mr(p,a,null,{size:y,encoding:h});return{loadMethod:s,resource:x,meta:g,data:w,timing:{time:$-n,start:n,end:$,requestTime:o-n,requestStart:n,requestEnd:o,responseTime:T-o,responseStart:o,responseEnd:T,validateTime:q-T,validationStart:T,validationEnd:q}}}catch(n){throw console.error("[Discovery] Error loading data:",n),await t.asyncSet({stage:"error",error:n}),n}}function H(e,t){let r=new P;return{state:r,result:qr(e,r),...t}}function $r(e,t){return H(()=>({method:"stream",stream:e,resource:t?.resource,options:t}))}function wt(e,t){let r=vt(e);return H(()=>({method:"file",stream:Ne(e),resource:t?.resource||r,options:t}),{title:"Load data from file: "+(r.name||"unknown")})}function Jr(e,t){let r=e.dataTransfer||e.target,n=r&&r.files&&r.files[0];if(e.stopPropagation(),e.preventDefault(),!n)throw new Error("Can't extract a file from an event object");return wt(n,t)}function Yr(e,t){return t=t||{},H(async()=>{let r=await fetch(e,t.fetch),n=vt(r,t);if(n)return{method:"fetch",stream:r.body,resource:t.resource||n,options:t};let s=r.headers.get("content-type")||"",i=await r.text();if(s.toLowerCase().startsWith("application/json"))try{let a=JSON.parse(i);i=a.error||a}catch{}throw i=new Error(i),i.stack=null,i},{title:`Load data from url: ${e}`})}function Kr(e){let t,r=new ReadableStream({start(a){t=a},cancel(){t=null}}),n,s,i=new Promise(a=>{n=l=>a({method:"push",stream:r,resource:(s=l)||e.resource,options:e})||(n=()=>{})});return e=e||{},H(()=>i,{start(a){n(a)},push(a){n(),t.enqueue(a)},finish(a){t.close(),t=null,isFinite(a)&&s&&(s.encodedSize=Number(a))}})}function St({result:e,state:t},r){return new Promise((n,s)=>t.subscribeSync(({stage:i,progress:a,error:l},d)=>{if(l){d(),s(l);return}return i==="received"&&(d(),n(e)),r.setState({stage:i,progress:a})}))}function vt(e,t){if(e instanceof Response){let r=t?.isResponseOk||Fr,n=t?.getContentSize||_r,s=t?.getContentEncodedSize||Nr,i=t?.getContentSize||Lr;if(r(e))return{type:"url",name:e.url,size:Number(n(e))||null,encodedSize:Number(s(e)),createdAt:i(e)}}if(e instanceof File)return{type:"file",name:e.name,size:e.size,createdAt:e.lastModified};if(e instanceof Blob)return{size:e.size};if(ArrayBuffer.isView(e))return{size:e.byteLength};if(typeof e=="string")return{size:e.length}}function me(e,t){let r=D("style",null,":host{display:none}"),n=new Set,s=Promise.resolve();return Array.isArray(t)&&(e.append(...t.map(i=>{switch(typeof i=="string"&&(i={type:"style",content:i}),i.type){case"style":case"inline":return D("style",{media:i.media},i.content);case"link":case"external":{let a,l,d=new Promise((c,u)=>{a=c,l=u});return n.add(d),D("link",{rel:"stylesheet",href:i.href,media:i.media,onerror(c){n.delete(d),l(c),n.size||r.remove()},onload(){n.delete(d),a(),n.size||r.remove()}})}default:throw new Error(`Unknown type "${i.type}" for a style descriptor`)}})),n.size&&(s=Promise.all(n),e.append(r))),s}function xt(){return[parseInt(performance.timeOrigin,10).toString(16),parseInt(1e4*performance.now(),10).toString(16),String(Math.random().toString(16).slice(2))].join("-")}function Wr(e,t){return new _({delay:300,domReady:e,title:t,onTiming:({title:r,duration:n})=>console.log(`[Discovery/preloader] ${r} \u2013 ${n}ms`)})}function kt(e){e=e||{};let t=e.dataSource;if(t&&!pe.hasOwnProperty(t))throw new Error(`dataSource "${t}" is not supported`);let r=e.container||document.body,n=document.createElement("div"),s=n.attachShadow({mode:"open"});Re(r,e)&&n.setAttribute("darkmode","");let a=pe[t||"url"],l=e.data?t==="push"?a(e.loadDataOptions):a(e.data,e.loadDataOptions):{result:Promise.resolve()};l.push&&(window.discoveryLoader={start:l.start,push:l.push,finish(...u){delete window.discoveryLoader,l.finish(...u)}});let d=me(s,e.styles),o=e.progressbar||Wr(d,l.title),c=e.embed?Hr(l):()=>{};return l.state&&St(l,o).catch(()=>{}),s.append(o.el),r.append(n),Object.assign(l.result,{el:n,shadowRoot:s,progressbar:o,disposeEmbed:c})}function Hr(e){let t=xt(),r=window.parent,n=[],s=(d,o=null)=>{r.postMessage({from:"discoveryjs-app",id:t,type:d,payload:o},"*")},i=()=>s("destroy"),a=d=>{let{id:o,type:c}=d.data||{};if(o===t)switch(c){case"defineAction":case"setPageHash":case"setRouterPreventLocationUpdate":{n.push(d.data);break}default:console.error(`[Discovery/preloader] Unknown preload message type "${c}"`)}};if(r===window)return;addEventListener("message",a,!1),addEventListener("unload",i,!1),s("preinit",{page:{hash:location.hash||"#"}});let l=e.state?e.state.subscribeSync(({stage:d,progress:o,error:c})=>((c||d==="received")&&l(),s("loadingState",{stage:d,progress:o,error:c}))):()=>{};return()=>(removeEventListener("message",a,!1),removeEventListener("unload",i,!1),l(),i(),{hostId:t,postponeMessages:n})}var Tt=ve(oe()),be=document.readyState==="complete",Dt,G=[],k=null,j,ye="",v=null,Q=()=>{},M=0,B="",X=100*1e3,Z=[],Gr=()=>Z.length?Z.shift():new Promise(e=>{Q=t=>{e(t),Q=r=>Z.push(r)}}),Zr=(0,Tt.default)(async function*(){let e=Date.now(),t=r=>({stage:"receive",progress:{done:r,elapsed:Date.now()-e,units:"bytes",completed:M}});for(;;){let r=await Gr();if(!r)break;if(yield r,M+=r.length,B.length<X){let n=X-B.length;B+=n>r.length?r:r.slice(0,n)}v!==null&&await v.progressbar.setState(t(!1))}v!==null&&v.progressbar.setState(t(!0))});function ge(){return Object.assign(new Error("Rollback"),{rollback:!0})}var Et=e=>{if(k!==null)for(;;){let t=j===void 0,r=t?k.firstChild:j.nodeValue!==ye?j:j.nextSibling;if(!r){if(t&&(be||k.nextSibling))throw ge();break}if(r.nodeType===Node.TEXT_NODE){if(t)if(/^\s*[{[]/.test(r.nodeValue))v=kt({container:document.body,styles:[{type:"link",href:chrome.runtime.getURL("preloader.css")}],darkmode:e.darkmode}),v.el.classList.add("discovery"),v.progressbar.setState({stage:"request"});else throw ge();Q(r===j?r.nodeValue.slice(ye.length):r.nodeValue)}else throw ge();j=r,ye=j.nodeValue}};function Ot(e){Z.length=0,cancelAnimationFrame(Dt),Ie(document.body),v!==null&&(v.el.remove(),v=null),requestAnimationFrame(()=>{G!==null&&(G.forEach(({element:t,hidden:r,remove:n})=>n?t.remove():t.hidden=r),G=null)}),e.rollback||console.error("[JsonDiscovery] Failed to parse JSON",e)}function At(e){if(e?.hasAttribute("hidden")&&document.body?.dataset?.codeMirror){let t=document.createElement("style");t.append("@layer super-top-layer{body>:not(.discovery){display:none!important}}");let r=document.createElement("div");return r.hidden=!0,r.append("{}"),z(r,!0),z(t,!0),e.before(r,t),e}return e?.tagName==="PRE"?e:null}function z(e,t=!1){G.push({element:e,hidden:e.hidden,remove:t}),e.hidden=!0}async function we(e){if(k===null){let t=document.body?.firstElementChild;k=At(t)||At(t?.nextElementSibling),k&&(z(k),t!==k&&z(t),k.nextElementSibling?.classList?.contains("json-formatter-container")&&z(k.nextElementSibling))}if(e){if(!be){Et(e),Dt=requestAnimationFrame(()=>we(e).catch(Ot));return}if(k!==null){Et(e),Q(null);let[{initDiscovery:t},r]=await Promise.all([import(chrome.runtime.getURL("discovery-esm.js")),Zr]),n=[{node:document.body,raw:Object.defineProperties({},{firstSlice:{value:M<X*2?null:B},size:{value:M},json:M<=X?{value:B}:{configurable:!0,get(){return Object.defineProperty(this,"json",{value:k.textContent}).json}}}),settings:e,version:chrome.runtime.getManifest().version,styles:[chrome.runtime.getURL("index.css")],progressbar:v.progressbar},r];typeof t!="function"?(window.__discoveryPreloader=v,window.__discoveryOptions=n,await chrome.runtime.sendMessage({type:"initDiscovery"})):(await t(...n),v.el.remove())}}}window.addEventListener("DOMContentLoaded",()=>be=!0,!1);we();Qr().then(we).catch(Ot);function Qr(){return new Promise(e=>{chrome.storage.sync.get({expandLevel:3,darkmode:"auto",whatsnew:{}},t=>{e(t)})})}

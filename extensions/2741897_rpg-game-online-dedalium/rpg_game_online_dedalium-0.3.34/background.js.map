{"version":3,"file":"background.js","mappings":"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","sources":["webpack:///../node_modules/jwt-decode/lib/atob.js","webpack:///../node_modules/jwt-decode/lib/base64_url_decode.js","webpack:///../node_modules/jwt-decode/lib/index.js","webpack:///../node_modules/webextension-polyfill/dist/browser-polyfill.js","webpack:///../node_modules/@babel/runtime/helpers/regeneratorRuntime.js","webpack:///../node_modules/@babel/runtime/helpers/typeof.js","webpack:///../node_modules/@babel/runtime/regenerator/index.js","webpack:///webpack/bootstrap","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack:///./services/Cookies.js","webpack:///./background.js"],"sourcesContent":["/**\n * The code was extracted from:\n * https://github.com/davidchambers/Base64.js\n */\n\nvar chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\nfunction InvalidCharacterError(message) {\n  this.message = message;\n}\n\nInvalidCharacterError.prototype = new Error();\nInvalidCharacterError.prototype.name = 'InvalidCharacterError';\n\nfunction polyfill (input) {\n  var str = String(input).replace(/=+$/, '');\n  if (str.length % 4 == 1) {\n    throw new InvalidCharacterError(\"'atob' failed: The string to be decoded is not correctly encoded.\");\n  }\n  for (\n    // initialize result and counters\n    var bc = 0, bs, buffer, idx = 0, output = '';\n    // get next character\n    buffer = str.charAt(idx++);\n    // character found in table? initialize bit storage and add its ascii value;\n    ~buffer && (bs = bc % 4 ? bs * 64 + buffer : buffer,\n      // and if not first of each 4 characters,\n      // convert the first 8 bits to one ascii character\n      bc++ % 4) ? output += String.fromCharCode(255 & bs >> (-2 * bc & 6)) : 0\n  ) {\n    // try to find character in table (0-63, not found => -1)\n    buffer = chars.indexOf(buffer);\n  }\n  return output;\n}\n\n\nmodule.exports = typeof window !== 'undefined' && window.atob && window.atob.bind(window) || polyfill;\n","var atob = require('./atob');\n\nfunction b64DecodeUnicode(str) {\n  return decodeURIComponent(atob(str).replace(/(.)/g, function (m, p) {\n    var code = p.charCodeAt(0).toString(16).toUpperCase();\n    if (code.length < 2) {\n      code = '0' + code;\n    }\n    return '%' + code;\n  }));\n}\n\nmodule.exports = function(str) {\n  var output = str.replace(/-/g, \"+\").replace(/_/g, \"/\");\n  switch (output.length % 4) {\n    case 0:\n      break;\n    case 2:\n      output += \"==\";\n      break;\n    case 3:\n      output += \"=\";\n      break;\n    default:\n      throw \"Illegal base64url string!\";\n  }\n\n  try{\n    return b64DecodeUnicode(output);\n  } catch (err) {\n    return atob(output);\n  }\n};\n","'use strict';\n\nvar base64_url_decode = require('./base64_url_decode');\n\nfunction InvalidTokenError(message) {\n  this.message = message;\n}\n\nInvalidTokenError.prototype = new Error();\nInvalidTokenError.prototype.name = 'InvalidTokenError';\n\nmodule.exports = function (token,options) {\n  if (typeof token !== 'string') {\n    throw new InvalidTokenError('Invalid token specified');\n  }\n\n  options = options || {};\n  var pos = options.header === true ? 0 : 1;\n  try {\n    return JSON.parse(base64_url_decode(token.split('.')[pos]));\n  } catch (e) {\n    throw new InvalidTokenError('Invalid token specified: ' + e.message);\n  }\n};\n\nmodule.exports.InvalidTokenError = InvalidTokenError;\n","/* webextension-polyfill - v0.10.0 - Fri Aug 12 2022 19:42:44 */\n/* -*- Mode: indent-tabs-mode: nil; js-indent-level: 2 -*- */\n/* vim: set sts=2 sw=2 et tw=80: */\n/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\"use strict\";\n\nif (!globalThis.chrome?.runtime?.id) {\n  throw new Error(\"This script should only be loaded in a browser extension.\");\n}\n\nif (typeof globalThis.browser === \"undefined\" || Object.getPrototypeOf(globalThis.browser) !== Object.prototype) {\n  const CHROME_SEND_MESSAGE_CALLBACK_NO_RESPONSE_MESSAGE = \"The message port closed before a response was received.\";\n\n  // Wrapping the bulk of this polyfill in a one-time-use function is a minor\n  // optimization for Firefox. Since Spidermonkey does not fully parse the\n  // contents of a function until the first time it's called, and since it will\n  // never actually need to be called, this allows the polyfill to be included\n  // in Firefox nearly for free.\n  const wrapAPIs = extensionAPIs => {\n    // NOTE: apiMetadata is associated to the content of the api-metadata.json file\n    // at build time by replacing the following \"include\" with the content of the\n    // JSON file.\n    const apiMetadata = {\n      \"alarms\": {\n        \"clear\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"clearAll\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"get\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"getAll\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        }\n      },\n      \"bookmarks\": {\n        \"create\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"get\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getChildren\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getRecent\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getSubTree\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getTree\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"move\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 2\n        },\n        \"remove\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removeTree\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"search\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"update\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 2\n        }\n      },\n      \"browserAction\": {\n        \"disable\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        },\n        \"enable\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        },\n        \"getBadgeBackgroundColor\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getBadgeText\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getPopup\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getTitle\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"openPopup\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"setBadgeBackgroundColor\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        },\n        \"setBadgeText\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        },\n        \"setIcon\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"setPopup\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        },\n        \"setTitle\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        }\n      },\n      \"browsingData\": {\n        \"remove\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 2\n        },\n        \"removeCache\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removeCookies\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removeDownloads\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removeFormData\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removeHistory\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removeLocalStorage\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removePasswords\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removePluginData\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"settings\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        }\n      },\n      \"commands\": {\n        \"getAll\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        }\n      },\n      \"contextMenus\": {\n        \"remove\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removeAll\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"update\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 2\n        }\n      },\n      \"cookies\": {\n        \"get\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getAll\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getAllCookieStores\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"remove\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"set\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        }\n      },\n      \"devtools\": {\n        \"inspectedWindow\": {\n          \"eval\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2,\n            \"singleCallbackArg\": false\n          }\n        },\n        \"panels\": {\n          \"create\": {\n            \"minArgs\": 3,\n            \"maxArgs\": 3,\n            \"singleCallbackArg\": true\n          },\n          \"elements\": {\n            \"createSidebarPane\": {\n              \"minArgs\": 1,\n              \"maxArgs\": 1\n            }\n          }\n        }\n      },\n      \"downloads\": {\n        \"cancel\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"download\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"erase\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getFileIcon\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 2\n        },\n        \"open\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        },\n        \"pause\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removeFile\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"resume\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"search\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"show\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        }\n      },\n      \"extension\": {\n        \"isAllowedFileSchemeAccess\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"isAllowedIncognitoAccess\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        }\n      },\n      \"history\": {\n        \"addUrl\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"deleteAll\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"deleteRange\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"deleteUrl\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getVisits\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"search\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        }\n      },\n      \"i18n\": {\n        \"detectLanguage\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getAcceptLanguages\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        }\n      },\n      \"identity\": {\n        \"launchWebAuthFlow\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        }\n      },\n      \"idle\": {\n        \"queryState\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        }\n      },\n      \"management\": {\n        \"get\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getAll\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"getSelf\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"setEnabled\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 2\n        },\n        \"uninstallSelf\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        }\n      },\n      \"notifications\": {\n        \"clear\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"create\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 2\n        },\n        \"getAll\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"getPermissionLevel\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"update\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 2\n        }\n      },\n      \"pageAction\": {\n        \"getPopup\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getTitle\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"hide\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        },\n        \"setIcon\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"setPopup\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        },\n        \"setTitle\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        },\n        \"show\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        }\n      },\n      \"permissions\": {\n        \"contains\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getAll\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"remove\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"request\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        }\n      },\n      \"runtime\": {\n        \"getBackgroundPage\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"getPlatformInfo\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"openOptionsPage\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"requestUpdateCheck\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"sendMessage\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 3\n        },\n        \"sendNativeMessage\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 2\n        },\n        \"setUninstallURL\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        }\n      },\n      \"sessions\": {\n        \"getDevices\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"getRecentlyClosed\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"restore\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        }\n      },\n      \"storage\": {\n        \"local\": {\n          \"clear\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"get\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getBytesInUse\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"set\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"managed\": {\n          \"get\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getBytesInUse\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          }\n        },\n        \"sync\": {\n          \"clear\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"get\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getBytesInUse\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"set\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        }\n      },\n      \"tabs\": {\n        \"captureVisibleTab\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 2\n        },\n        \"create\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"detectLanguage\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"discard\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"duplicate\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"executeScript\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 2\n        },\n        \"get\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getCurrent\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"getZoom\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"getZoomSettings\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"goBack\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"goForward\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"highlight\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"insertCSS\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 2\n        },\n        \"move\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 2\n        },\n        \"query\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"reload\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 2\n        },\n        \"remove\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removeCSS\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 2\n        },\n        \"sendMessage\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 3\n        },\n        \"setZoom\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 2\n        },\n        \"setZoomSettings\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 2\n        },\n        \"update\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 2\n        }\n      },\n      \"topSites\": {\n        \"get\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        }\n      },\n      \"webNavigation\": {\n        \"getAllFrames\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getFrame\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        }\n      },\n      \"webRequest\": {\n        \"handlerBehaviorChanged\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        }\n      },\n      \"windows\": {\n        \"create\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"get\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 2\n        },\n        \"getAll\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"getCurrent\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"getLastFocused\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"remove\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"update\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 2\n        }\n      }\n    };\n\n    if (Object.keys(apiMetadata).length === 0) {\n      throw new Error(\"api-metadata.json has not been included in browser-polyfill\");\n    }\n\n    /**\n     * A WeakMap subclass which creates and stores a value for any key which does\n     * not exist when accessed, but behaves exactly as an ordinary WeakMap\n     * otherwise.\n     *\n     * @param {function} createItem\n     *        A function which will be called in order to create the value for any\n     *        key which does not exist, the first time it is accessed. The\n     *        function receives, as its only argument, the key being created.\n     */\n    class DefaultWeakMap extends WeakMap {\n      constructor(createItem, items = undefined) {\n        super(items);\n        this.createItem = createItem;\n      }\n\n      get(key) {\n        if (!this.has(key)) {\n          this.set(key, this.createItem(key));\n        }\n\n        return super.get(key);\n      }\n    }\n\n    /**\n     * Returns true if the given object is an object with a `then` method, and can\n     * therefore be assumed to behave as a Promise.\n     *\n     * @param {*} value The value to test.\n     * @returns {boolean} True if the value is thenable.\n     */\n    const isThenable = value => {\n      return value && typeof value === \"object\" && typeof value.then === \"function\";\n    };\n\n    /**\n     * Creates and returns a function which, when called, will resolve or reject\n     * the given promise based on how it is called:\n     *\n     * - If, when called, `chrome.runtime.lastError` contains a non-null object,\n     *   the promise is rejected with that value.\n     * - If the function is called with exactly one argument, the promise is\n     *   resolved to that value.\n     * - Otherwise, the promise is resolved to an array containing all of the\n     *   function's arguments.\n     *\n     * @param {object} promise\n     *        An object containing the resolution and rejection functions of a\n     *        promise.\n     * @param {function} promise.resolve\n     *        The promise's resolution function.\n     * @param {function} promise.reject\n     *        The promise's rejection function.\n     * @param {object} metadata\n     *        Metadata about the wrapped method which has created the callback.\n     * @param {boolean} metadata.singleCallbackArg\n     *        Whether or not the promise is resolved with only the first\n     *        argument of the callback, alternatively an array of all the\n     *        callback arguments is resolved. By default, if the callback\n     *        function is invoked with only a single argument, that will be\n     *        resolved to the promise, while all arguments will be resolved as\n     *        an array if multiple are given.\n     *\n     * @returns {function}\n     *        The generated callback function.\n     */\n    const makeCallback = (promise, metadata) => {\n      return (...callbackArgs) => {\n        if (extensionAPIs.runtime.lastError) {\n          promise.reject(new Error(extensionAPIs.runtime.lastError.message));\n        } else if (metadata.singleCallbackArg ||\n                   (callbackArgs.length <= 1 && metadata.singleCallbackArg !== false)) {\n          promise.resolve(callbackArgs[0]);\n        } else {\n          promise.resolve(callbackArgs);\n        }\n      };\n    };\n\n    const pluralizeArguments = (numArgs) => numArgs == 1 ? \"argument\" : \"arguments\";\n\n    /**\n     * Creates a wrapper function for a method with the given name and metadata.\n     *\n     * @param {string} name\n     *        The name of the method which is being wrapped.\n     * @param {object} metadata\n     *        Metadata about the method being wrapped.\n     * @param {integer} metadata.minArgs\n     *        The minimum number of arguments which must be passed to the\n     *        function. If called with fewer than this number of arguments, the\n     *        wrapper will raise an exception.\n     * @param {integer} metadata.maxArgs\n     *        The maximum number of arguments which may be passed to the\n     *        function. If called with more than this number of arguments, the\n     *        wrapper will raise an exception.\n     * @param {boolean} metadata.singleCallbackArg\n     *        Whether or not the promise is resolved with only the first\n     *        argument of the callback, alternatively an array of all the\n     *        callback arguments is resolved. By default, if the callback\n     *        function is invoked with only a single argument, that will be\n     *        resolved to the promise, while all arguments will be resolved as\n     *        an array if multiple are given.\n     *\n     * @returns {function(object, ...*)}\n     *       The generated wrapper function.\n     */\n    const wrapAsyncFunction = (name, metadata) => {\n      return function asyncFunctionWrapper(target, ...args) {\n        if (args.length < metadata.minArgs) {\n          throw new Error(`Expected at least ${metadata.minArgs} ${pluralizeArguments(metadata.minArgs)} for ${name}(), got ${args.length}`);\n        }\n\n        if (args.length > metadata.maxArgs) {\n          throw new Error(`Expected at most ${metadata.maxArgs} ${pluralizeArguments(metadata.maxArgs)} for ${name}(), got ${args.length}`);\n        }\n\n        return new Promise((resolve, reject) => {\n          if (metadata.fallbackToNoCallback) {\n            // This API method has currently no callback on Chrome, but it return a promise on Firefox,\n            // and so the polyfill will try to call it with a callback first, and it will fallback\n            // to not passing the callback if the first call fails.\n            try {\n              target[name](...args, makeCallback({resolve, reject}, metadata));\n            } catch (cbError) {\n              console.warn(`${name} API method doesn't seem to support the callback parameter, ` +\n                           \"falling back to call it without a callback: \", cbError);\n\n              target[name](...args);\n\n              // Update the API method metadata, so that the next API calls will not try to\n              // use the unsupported callback anymore.\n              metadata.fallbackToNoCallback = false;\n              metadata.noCallback = true;\n\n              resolve();\n            }\n          } else if (metadata.noCallback) {\n            target[name](...args);\n            resolve();\n          } else {\n            target[name](...args, makeCallback({resolve, reject}, metadata));\n          }\n        });\n      };\n    };\n\n    /**\n     * Wraps an existing method of the target object, so that calls to it are\n     * intercepted by the given wrapper function. The wrapper function receives,\n     * as its first argument, the original `target` object, followed by each of\n     * the arguments passed to the original method.\n     *\n     * @param {object} target\n     *        The original target object that the wrapped method belongs to.\n     * @param {function} method\n     *        The method being wrapped. This is used as the target of the Proxy\n     *        object which is created to wrap the method.\n     * @param {function} wrapper\n     *        The wrapper function which is called in place of a direct invocation\n     *        of the wrapped method.\n     *\n     * @returns {Proxy<function>}\n     *        A Proxy object for the given method, which invokes the given wrapper\n     *        method in its place.\n     */\n    const wrapMethod = (target, method, wrapper) => {\n      return new Proxy(method, {\n        apply(targetMethod, thisObj, args) {\n          return wrapper.call(thisObj, target, ...args);\n        },\n      });\n    };\n\n    let hasOwnProperty = Function.call.bind(Object.prototype.hasOwnProperty);\n\n    /**\n     * Wraps an object in a Proxy which intercepts and wraps certain methods\n     * based on the given `wrappers` and `metadata` objects.\n     *\n     * @param {object} target\n     *        The target object to wrap.\n     *\n     * @param {object} [wrappers = {}]\n     *        An object tree containing wrapper functions for special cases. Any\n     *        function present in this object tree is called in place of the\n     *        method in the same location in the `target` object tree. These\n     *        wrapper methods are invoked as described in {@see wrapMethod}.\n     *\n     * @param {object} [metadata = {}]\n     *        An object tree containing metadata used to automatically generate\n     *        Promise-based wrapper functions for asynchronous. Any function in\n     *        the `target` object tree which has a corresponding metadata object\n     *        in the same location in the `metadata` tree is replaced with an\n     *        automatically-generated wrapper function, as described in\n     *        {@see wrapAsyncFunction}\n     *\n     * @returns {Proxy<object>}\n     */\n    const wrapObject = (target, wrappers = {}, metadata = {}) => {\n      let cache = Object.create(null);\n      let handlers = {\n        has(proxyTarget, prop) {\n          return prop in target || prop in cache;\n        },\n\n        get(proxyTarget, prop, receiver) {\n          if (prop in cache) {\n            return cache[prop];\n          }\n\n          if (!(prop in target)) {\n            return undefined;\n          }\n\n          let value = target[prop];\n\n          if (typeof value === \"function\") {\n            // This is a method on the underlying object. Check if we need to do\n            // any wrapping.\n\n            if (typeof wrappers[prop] === \"function\") {\n              // We have a special-case wrapper for this method.\n              value = wrapMethod(target, target[prop], wrappers[prop]);\n            } else if (hasOwnProperty(metadata, prop)) {\n              // This is an async method that we have metadata for. Create a\n              // Promise wrapper for it.\n              let wrapper = wrapAsyncFunction(prop, metadata[prop]);\n              value = wrapMethod(target, target[prop], wrapper);\n            } else {\n              // This is a method that we don't know or care about. Return the\n              // original method, bound to the underlying object.\n              value = value.bind(target);\n            }\n          } else if (typeof value === \"object\" && value !== null &&\n                     (hasOwnProperty(wrappers, prop) ||\n                      hasOwnProperty(metadata, prop))) {\n            // This is an object that we need to do some wrapping for the children\n            // of. Create a sub-object wrapper for it with the appropriate child\n            // metadata.\n            value = wrapObject(value, wrappers[prop], metadata[prop]);\n          } else if (hasOwnProperty(metadata, \"*\")) {\n            // Wrap all properties in * namespace.\n            value = wrapObject(value, wrappers[prop], metadata[\"*\"]);\n          } else {\n            // We don't need to do any wrapping for this property,\n            // so just forward all access to the underlying object.\n            Object.defineProperty(cache, prop, {\n              configurable: true,\n              enumerable: true,\n              get() {\n                return target[prop];\n              },\n              set(value) {\n                target[prop] = value;\n              },\n            });\n\n            return value;\n          }\n\n          cache[prop] = value;\n          return value;\n        },\n\n        set(proxyTarget, prop, value, receiver) {\n          if (prop in cache) {\n            cache[prop] = value;\n          } else {\n            target[prop] = value;\n          }\n          return true;\n        },\n\n        defineProperty(proxyTarget, prop, desc) {\n          return Reflect.defineProperty(cache, prop, desc);\n        },\n\n        deleteProperty(proxyTarget, prop) {\n          return Reflect.deleteProperty(cache, prop);\n        },\n      };\n\n      // Per contract of the Proxy API, the \"get\" proxy handler must return the\n      // original value of the target if that value is declared read-only and\n      // non-configurable. For this reason, we create an object with the\n      // prototype set to `target` instead of using `target` directly.\n      // Otherwise we cannot return a custom object for APIs that\n      // are declared read-only and non-configurable, such as `chrome.devtools`.\n      //\n      // The proxy handlers themselves will still use the original `target`\n      // instead of the `proxyTarget`, so that the methods and properties are\n      // dereferenced via the original targets.\n      let proxyTarget = Object.create(target);\n      return new Proxy(proxyTarget, handlers);\n    };\n\n    /**\n     * Creates a set of wrapper functions for an event object, which handles\n     * wrapping of listener functions that those messages are passed.\n     *\n     * A single wrapper is created for each listener function, and stored in a\n     * map. Subsequent calls to `addListener`, `hasListener`, or `removeListener`\n     * retrieve the original wrapper, so that  attempts to remove a\n     * previously-added listener work as expected.\n     *\n     * @param {DefaultWeakMap<function, function>} wrapperMap\n     *        A DefaultWeakMap object which will create the appropriate wrapper\n     *        for a given listener function when one does not exist, and retrieve\n     *        an existing one when it does.\n     *\n     * @returns {object}\n     */\n    const wrapEvent = wrapperMap => ({\n      addListener(target, listener, ...args) {\n        target.addListener(wrapperMap.get(listener), ...args);\n      },\n\n      hasListener(target, listener) {\n        return target.hasListener(wrapperMap.get(listener));\n      },\n\n      removeListener(target, listener) {\n        target.removeListener(wrapperMap.get(listener));\n      },\n    });\n\n    const onRequestFinishedWrappers = new DefaultWeakMap(listener => {\n      if (typeof listener !== \"function\") {\n        return listener;\n      }\n\n      /**\n       * Wraps an onRequestFinished listener function so that it will return a\n       * `getContent()` property which returns a `Promise` rather than using a\n       * callback API.\n       *\n       * @param {object} req\n       *        The HAR entry object representing the network request.\n       */\n      return function onRequestFinished(req) {\n        const wrappedReq = wrapObject(req, {} /* wrappers */, {\n          getContent: {\n            minArgs: 0,\n            maxArgs: 0,\n          },\n        });\n        listener(wrappedReq);\n      };\n    });\n\n    const onMessageWrappers = new DefaultWeakMap(listener => {\n      if (typeof listener !== \"function\") {\n        return listener;\n      }\n\n      /**\n       * Wraps a message listener function so that it may send responses based on\n       * its return value, rather than by returning a sentinel value and calling a\n       * callback. If the listener function returns a Promise, the response is\n       * sent when the promise either resolves or rejects.\n       *\n       * @param {*} message\n       *        The message sent by the other end of the channel.\n       * @param {object} sender\n       *        Details about the sender of the message.\n       * @param {function(*)} sendResponse\n       *        A callback which, when called with an arbitrary argument, sends\n       *        that value as a response.\n       * @returns {boolean}\n       *        True if the wrapped listener returned a Promise, which will later\n       *        yield a response. False otherwise.\n       */\n      return function onMessage(message, sender, sendResponse) {\n        let didCallSendResponse = false;\n\n        let wrappedSendResponse;\n        let sendResponsePromise = new Promise(resolve => {\n          wrappedSendResponse = function(response) {\n            didCallSendResponse = true;\n            resolve(response);\n          };\n        });\n\n        let result;\n        try {\n          result = listener(message, sender, wrappedSendResponse);\n        } catch (err) {\n          result = Promise.reject(err);\n        }\n\n        const isResultThenable = result !== true && isThenable(result);\n\n        // If the listener didn't returned true or a Promise, or called\n        // wrappedSendResponse synchronously, we can exit earlier\n        // because there will be no response sent from this listener.\n        if (result !== true && !isResultThenable && !didCallSendResponse) {\n          return false;\n        }\n\n        // A small helper to send the message if the promise resolves\n        // and an error if the promise rejects (a wrapped sendMessage has\n        // to translate the message into a resolved promise or a rejected\n        // promise).\n        const sendPromisedResult = (promise) => {\n          promise.then(msg => {\n            // send the message value.\n            sendResponse(msg);\n          }, error => {\n            // Send a JSON representation of the error if the rejected value\n            // is an instance of error, or the object itself otherwise.\n            let message;\n            if (error && (error instanceof Error ||\n                typeof error.message === \"string\")) {\n              message = error.message;\n            } else {\n              message = \"An unexpected error occurred\";\n            }\n\n            sendResponse({\n              __mozWebExtensionPolyfillReject__: true,\n              message,\n            });\n          }).catch(err => {\n            // Print an error on the console if unable to send the response.\n            console.error(\"Failed to send onMessage rejected reply\", err);\n          });\n        };\n\n        // If the listener returned a Promise, send the resolved value as a\n        // result, otherwise wait the promise related to the wrappedSendResponse\n        // callback to resolve and send it as a response.\n        if (isResultThenable) {\n          sendPromisedResult(result);\n        } else {\n          sendPromisedResult(sendResponsePromise);\n        }\n\n        // Let Chrome know that the listener is replying.\n        return true;\n      };\n    });\n\n    const wrappedSendMessageCallback = ({reject, resolve}, reply) => {\n      if (extensionAPIs.runtime.lastError) {\n        // Detect when none of the listeners replied to the sendMessage call and resolve\n        // the promise to undefined as in Firefox.\n        // See https://github.com/mozilla/webextension-polyfill/issues/130\n        if (extensionAPIs.runtime.lastError.message === CHROME_SEND_MESSAGE_CALLBACK_NO_RESPONSE_MESSAGE) {\n          resolve();\n        } else {\n          reject(new Error(extensionAPIs.runtime.lastError.message));\n        }\n      } else if (reply && reply.__mozWebExtensionPolyfillReject__) {\n        // Convert back the JSON representation of the error into\n        // an Error instance.\n        reject(new Error(reply.message));\n      } else {\n        resolve(reply);\n      }\n    };\n\n    const wrappedSendMessage = (name, metadata, apiNamespaceObj, ...args) => {\n      if (args.length < metadata.minArgs) {\n        throw new Error(`Expected at least ${metadata.minArgs} ${pluralizeArguments(metadata.minArgs)} for ${name}(), got ${args.length}`);\n      }\n\n      if (args.length > metadata.maxArgs) {\n        throw new Error(`Expected at most ${metadata.maxArgs} ${pluralizeArguments(metadata.maxArgs)} for ${name}(), got ${args.length}`);\n      }\n\n      return new Promise((resolve, reject) => {\n        const wrappedCb = wrappedSendMessageCallback.bind(null, {resolve, reject});\n        args.push(wrappedCb);\n        apiNamespaceObj.sendMessage(...args);\n      });\n    };\n\n    const staticWrappers = {\n      devtools: {\n        network: {\n          onRequestFinished: wrapEvent(onRequestFinishedWrappers),\n        },\n      },\n      runtime: {\n        onMessage: wrapEvent(onMessageWrappers),\n        onMessageExternal: wrapEvent(onMessageWrappers),\n        sendMessage: wrappedSendMessage.bind(null, \"sendMessage\", {minArgs: 1, maxArgs: 3}),\n      },\n      tabs: {\n        sendMessage: wrappedSendMessage.bind(null, \"sendMessage\", {minArgs: 2, maxArgs: 3}),\n      },\n    };\n    const settingMetadata = {\n      clear: {minArgs: 1, maxArgs: 1},\n      get: {minArgs: 1, maxArgs: 1},\n      set: {minArgs: 1, maxArgs: 1},\n    };\n    apiMetadata.privacy = {\n      network: {\"*\": settingMetadata},\n      services: {\"*\": settingMetadata},\n      websites: {\"*\": settingMetadata},\n    };\n\n    return wrapObject(extensionAPIs, staticWrappers, apiMetadata);\n  };\n\n  // The build process adds a UMD wrapper around this file, which makes the\n  // `module` variable available.\n  module.exports = wrapAPIs(chrome);\n} else {\n  module.exports = globalThis.browser;\n}\n","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _regeneratorRuntime() {\n  \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return e;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  var t,\n    e = {},\n    r = Object.prototype,\n    n = r.hasOwnProperty,\n    o = Object.defineProperty || function (t, e, r) {\n      t[e] = r.value;\n    },\n    i = \"function\" == typeof Symbol ? Symbol : {},\n    a = i.iterator || \"@@iterator\",\n    c = i.asyncIterator || \"@@asyncIterator\",\n    u = i.toStringTag || \"@@toStringTag\";\n  function define(t, e, r) {\n    return Object.defineProperty(t, e, {\n      value: r,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), t[e];\n  }\n  try {\n    define({}, \"\");\n  } catch (t) {\n    define = function define(t, e, r) {\n      return t[e] = r;\n    };\n  }\n  function wrap(t, e, r, n) {\n    var i = e && e.prototype instanceof Generator ? e : Generator,\n      a = Object.create(i.prototype),\n      c = new Context(n || []);\n    return o(a, \"_invoke\", {\n      value: makeInvokeMethod(t, r, c)\n    }), a;\n  }\n  function tryCatch(t, e, r) {\n    try {\n      return {\n        type: \"normal\",\n        arg: t.call(e, r)\n      };\n    } catch (t) {\n      return {\n        type: \"throw\",\n        arg: t\n      };\n    }\n  }\n  e.wrap = wrap;\n  var h = \"suspendedStart\",\n    l = \"suspendedYield\",\n    f = \"executing\",\n    s = \"completed\",\n    y = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var p = {};\n  define(p, a, function () {\n    return this;\n  });\n  var d = Object.getPrototypeOf,\n    v = d && d(d(values([])));\n  v && v !== r && n.call(v, a) && (p = v);\n  var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p);\n  function defineIteratorMethods(t) {\n    [\"next\", \"throw\", \"return\"].forEach(function (e) {\n      define(t, e, function (t) {\n        return this._invoke(e, t);\n      });\n    });\n  }\n  function AsyncIterator(t, e) {\n    function invoke(r, o, i, a) {\n      var c = tryCatch(t[r], t, o);\n      if (\"throw\" !== c.type) {\n        var u = c.arg,\n          h = u.value;\n        return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) {\n          invoke(\"next\", t, i, a);\n        }, function (t) {\n          invoke(\"throw\", t, i, a);\n        }) : e.resolve(h).then(function (t) {\n          u.value = t, i(u);\n        }, function (t) {\n          return invoke(\"throw\", t, i, a);\n        });\n      }\n      a(c.arg);\n    }\n    var r;\n    o(this, \"_invoke\", {\n      value: function value(t, n) {\n        function callInvokeWithMethodAndArg() {\n          return new e(function (e, r) {\n            invoke(t, n, e, r);\n          });\n        }\n        return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(e, r, n) {\n    var o = h;\n    return function (i, a) {\n      if (o === f) throw Error(\"Generator is already running\");\n      if (o === s) {\n        if (\"throw\" === i) throw a;\n        return {\n          value: t,\n          done: !0\n        };\n      }\n      for (n.method = i, n.arg = a;;) {\n        var c = n.delegate;\n        if (c) {\n          var u = maybeInvokeDelegate(c, n);\n          if (u) {\n            if (u === y) continue;\n            return u;\n          }\n        }\n        if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) {\n          if (o === h) throw o = s, n.arg;\n          n.dispatchException(n.arg);\n        } else \"return\" === n.method && n.abrupt(\"return\", n.arg);\n        o = f;\n        var p = tryCatch(e, r, n);\n        if (\"normal\" === p.type) {\n          if (o = n.done ? s : l, p.arg === y) continue;\n          return {\n            value: p.arg,\n            done: n.done\n          };\n        }\n        \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(e, r) {\n    var n = r.method,\n      o = e.iterator[n];\n    if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y;\n    var i = tryCatch(o, e.iterator, r.arg);\n    if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y;\n    var a = i.arg;\n    return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y);\n  }\n  function pushTryEntry(t) {\n    var e = {\n      tryLoc: t[0]\n    };\n    1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e);\n  }\n  function resetTryEntry(t) {\n    var e = t.completion || {};\n    e.type = \"normal\", delete e.arg, t.completion = e;\n  }\n  function Context(t) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], t.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(e) {\n    if (e || \"\" === e) {\n      var r = e[a];\n      if (r) return r.call(e);\n      if (\"function\" == typeof e.next) return e;\n      if (!isNaN(e.length)) {\n        var o = -1,\n          i = function next() {\n            for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next;\n            return next.value = t, next.done = !0, next;\n          };\n        return i.next = i;\n      }\n    }\n    throw new TypeError(_typeof(e) + \" is not iterable\");\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), o(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) {\n    var e = \"function\" == typeof t && t.constructor;\n    return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name));\n  }, e.mark = function (t) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t;\n  }, e.awrap = function (t) {\n    return {\n      __await: t\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () {\n    return this;\n  }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) {\n    void 0 === i && (i = Promise);\n    var a = new AsyncIterator(wrap(t, r, n, o), i);\n    return e.isGeneratorFunction(r) ? a : a.next().then(function (t) {\n      return t.done ? t.value : a.next();\n    });\n  }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () {\n    return this;\n  }), define(g, \"toString\", function () {\n    return \"[object Generator]\";\n  }), e.keys = function (t) {\n    var e = Object(t),\n      r = [];\n    for (var n in e) r.push(n);\n    return r.reverse(), function next() {\n      for (; r.length;) {\n        var t = r.pop();\n        if (t in e) return next.value = t, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, e.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(e) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t);\n    },\n    stop: function stop() {\n      this.done = !0;\n      var t = this.tryEntries[0].completion;\n      if (\"throw\" === t.type) throw t.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(e) {\n      if (this.done) throw e;\n      var r = this;\n      function handle(n, o) {\n        return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o;\n      }\n      for (var o = this.tryEntries.length - 1; o >= 0; --o) {\n        var i = this.tryEntries[o],\n          a = i.completion;\n        if (\"root\" === i.tryLoc) return handle(\"end\");\n        if (i.tryLoc <= this.prev) {\n          var c = n.call(i, \"catchLoc\"),\n            u = n.call(i, \"finallyLoc\");\n          if (c && u) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          } else if (c) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n          } else {\n            if (!u) throw Error(\"try statement without catch or finally\");\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(t, e) {\n      for (var r = this.tryEntries.length - 1; r >= 0; --r) {\n        var o = this.tryEntries[r];\n        if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) {\n          var i = o;\n          break;\n        }\n      }\n      i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null);\n      var a = i ? i.completion : {};\n      return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a);\n    },\n    complete: function complete(t, e) {\n      if (\"throw\" === t.type) throw t.arg;\n      return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y;\n    },\n    finish: function finish(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y;\n      }\n    },\n    \"catch\": function _catch(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.tryLoc === t) {\n          var n = r.completion;\n          if (\"throw\" === n.type) {\n            var o = n.arg;\n            resetTryEntry(r);\n          }\n          return o;\n        }\n      }\n      throw Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(e, r, n) {\n      return this.delegate = {\n        iterator: values(e),\n        resultName: r,\n        nextLoc: n\n      }, \"next\" === this.method && (this.arg = t), y;\n    }\n  }, e;\n}\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(o);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// TODO(Babel 8): Remove this file.\n\nvar runtime = require(\"../helpers/regeneratorRuntime\")();\nmodule.exports = runtime;\n\n// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}","let browser = require(\"webextension-polyfill\");\n\n// Only use this service for background script!\n// https://developer.chrome.com/extensions/cookies\n\nconst getAll = (url, details = {}) => {\n  return browser.cookies.getAll(Object.assign({ url }, details));\n};\n\nconst get = (url, name) => {\n  return browser.cookies.get(Object.assign({ url, name }));\n};\n\nconst remove = (url, name) => {\n  return new Promise((resolve, reject) => {\n    browser.cookies.remove({ url, name }).then(() => {\n      if (browser.runtime.lastError) {\n        console.log(\n          `error deleting cookie ${name}: ` + browser.runtime.lastError.message\n        );\n        reject(\n          new Error(\n            `error deleting cookie ${name}: ` +\n              browser.runtime.lastError.message\n          )\n        );\n      } else {\n        // console.log(`Removed cookie ${name}`);\n        resolve(name);\n      }\n    });\n  });\n};\n\nconst set = (url, name, value, details = {}) => {\n  return new Promise((resolve, reject) => {\n    details = Object.assign(\n      {\n        url,\n        name,\n        value,\n        domain: null,\n        path: \"/\",\n        secure: true,\n        httpOnly: false,\n        sameSite: \"no_restriction\",\n        expirationDate: 2054553823, // year 2035\n      },\n      details\n    );\n\n    browser.cookies.set(details).then(() => {\n      if (browser.runtime.lastError) {\n        console.log(\n          `error setting cookie ${name}: ` + browser.runtime.lastError.message\n        );\n        reject(\n          new Error(\n            `error setting cookie ${name}: ` + browser.runtime.lastError.message\n          )\n        );\n      } else {\n        resolve(name);\n      }\n    });\n  });\n};\n\nexport default {\n  getAll,\n  get,\n  remove,\n  set,\n};\n","import browser from 'webextension-polyfill'\n\nglobal.browser = require('webextension-polyfill')\nimport jwtDecode from 'jwt-decode'\nimport Cookies from './services/Cookies'\n\nbrowser.runtime.onConnect.addListener((port) => {})\n\nbrowser.browserAction?.onClicked?.addListener(() => {\n  handleBackgroundCall({ action: 'updateIconPlay' })\n})\n\nbrowser.runtime.onMessage.addListener(function (message, sender, sendResponse) {\n  if (message.popupOpen) {\n    handleBackgroundCall({ action: 'updateIconPlay' })\n  }\n})\n\nbrowser.runtime.onInstalled.addListener(function (object) {\n  if (object.reason === 'install') {\n    let user = getUser()\n      .then((data) => {\n        let userLogged = data !== null\n        let urlToUse = userLogged\n          ? '/after_install/'\n          : '/boarding/?utm_source=extension-after-install'\n\n        browser.tabs.create({ url: process.env.URL + urlToUse })\n      })\n      .catch(() => {\n        browser.tabs.create({\n          url: process.env.URL + '/after_install/',\n        })\n      })\n  }\n\n  browser.runtime.setUninstallURL(process.env.URL + '/goodbye/')\n})\n\nbrowser.runtime.onMessage.addListener(async (request, sender) => {\n  return await handleBackgroundCall(request).then((result) => {\n    return result\n  })\n})\n\nif (browser.cookies && browser.cookies.onChanged) {\n  browser.cookies.onChanged.addListener(function (changeInfo) {\n    if (\n      process.env.URL.includes(changeInfo.cookie?.domain) &&\n      changeInfo.cause === 'evicted' &&\n      changeInfo.removed &&\n      (changeInfo.cookie?.name === 'userToken' || changeInfo.cookie?.name === 'refreshToken')\n    ) {\n      Cookies.set(process.env.URL, changeInfo.cookie?.name, changeInfo.cookie?.value)\n    }\n  })\n}\n\nasync function handleBackgroundCall(request) {\n  switch (request.action) {\n    case 'forceUpdate':\n      try {\n        browser.runtime.requestUpdateCheck()\n      } catch (e) {\n        // Ignore\n      }\n      break\n    case 'getUser':\n      return await getUser()\n    case 'getCredentials':\n      return await getCredentials()\n    case 'setCredentials':\n      return await setCredentials(request.params)\n    case 'removeCredentials':\n      return await removeCredentials()\n    case 'updateIconGather':\n      browser.browserAction.setIcon({\n        path: 'icons/icon_gather.png',\n      })\n\n      setTimeout(() => {\n        browser.browserAction.setIcon({\n          path: 'icons/icon_128.png',\n        })\n      }, 3500)\n      break\n    case 'updateIconPaused':\n      if (request.notify) {\n        try {\n          browser.notifications.create(`dedalium-paused-${Date.now()}`, {\n            title: 'PAUSED',\n            message: 'Dedalium was paused',\n            iconUrl: 'icons/icon_white.png',\n            type: 'basic',\n          })\n        } catch (e) {\n          // Ignore for other browsers\n        }\n      }\n\n      browser.browserAction.setIcon({\n        path: 'icons/icon_white.png',\n      })\n      break\n    case 'updateIconPlay':\n      if (request.notify) {\n        try {\n          browser.notifications.create(`dedalium-resume-${Date.now()}`, {\n            title: 'RESUMED',\n            message: 'Dedalium was resumed',\n            iconUrl: 'icons/icon_128.png',\n            type: 'basic',\n          })\n        } catch (e) {\n          // Ignore for other browsers\n        }\n      }\n\n      browser.browserAction.setIcon({\n        path: request.pendingNotifications === '1' ? 'icons/icon_not.png' : 'icons/icon_128.png',\n      })\n      break\n    case 'nativeNotification':\n      try {\n        let notificationId = `dedalium-notifications-${Date.now()}`\n        let link = request.notificationData.link\n\n        if (\n          request.notificationData?.id &&\n          !request.notificationData.text.includes('NOTIFICATIONS')\n        ) {\n          browser.notifications.create(notificationId, {\n            title: 'DEDALIUM',\n            message: request.notificationData.text,\n            iconUrl: 'icons/icon_3d.png',\n            type: 'basic',\n          })\n\n          browser.notifications.onClicked.addListener(function (notifId) {\n            if (notifId === notificationId) {\n              browser.tabs.create({ url: link })\n              browser.notifications.clear(notificationId)\n            }\n          })\n        } else {\n          browser.notifications.create(notificationId, {\n            title: 'DEDALIUM',\n            message: 'You have pending notifications',\n            iconUrl: 'icons/icon_not.png',\n            type: 'basic',\n          })\n\n          browser.notifications.onClicked.addListener(function (notifId) {\n            if (notifId === notificationId) {\n              browser.tabs.create({ url: link })\n              browser.notifications.clear(notificationId)\n            }\n          })\n        }\n      } catch (e) {\n        // Ignore for other browsers\n      }\n      break\n    case 'updateIconLoggedOut':\n      browser.browserAction.setIcon({\n        path: 'icons/icon_out.png',\n      })\n      break\n    case 'playAudio':\n      let audioToPlay = new Audio(request.params.src)\n      let volume = typeof request.params.volume !== 'undefined' ? request.params.volume / 10 : 0.2\n      audioToPlay.volume = volume\n      audioToPlay.play()\n      break\n    case 'setCookie':\n      await Cookies.set(process.env.URL, request.name, '1', request.options)\n      break\n    case 'getCookie':\n      return Cookies.get(process.env.URL, request.name)\n    default:\n      return 'unrecognized action'\n  }\n}\n\nconst getCredentials = async () => {\n  const cookies = await Cookies.getAll(process.env.URL)\n\n  const userTokenCookie = cookies.find((cookie) => cookie.name === 'userToken')\n  const refreshTokenCookie = cookies.find((cookie) => cookie.name === 'refreshToken')\n\n  if (!userTokenCookie || !refreshTokenCookie) {\n    return null\n  }\n\n  return {\n    userToken: userTokenCookie.value,\n    refreshToken: refreshTokenCookie.value,\n  }\n}\n\nconst setCredentials = async (credentials) => {\n  if (credentials.userToken && credentials.refreshToken) {\n    return await Promise.all([\n      Cookies.set(process.env.URL, 'userToken', credentials.userToken),\n      Cookies.set(process.env.URL, 'refreshToken', credentials.refreshToken),\n    ])\n  } else {\n    return Promise.resolve()\n  }\n}\n\nconst removeCredentials = async () => {\n  return Promise.all([\n    Cookies.remove(process.env.URL, 'userToken'),\n    Cookies.remove(process.env.URL, 'refreshToken'),\n  ])\n}\n\nconst getUser = async () => {\n  const credentials = await getCredentials()\n\n  if (!credentials) {\n    return null\n  }\n\n  return jwtDecode(credentials.userToken)\n}\n"],"names":["InvalidCharacterError","message","this","prototype","Error","name","module","exports","window","atob","bind","input","str","String","replace","length","bs","buffer","bc","idx","output","charAt","fromCharCode","indexOf","decodeURIComponent","m","p","code","charCodeAt","toString","toUpperCase","b64DecodeUnicode","err","base64_url_decode","InvalidTokenError","token","options","pos","header","JSON","parse","split","e","globalThis","chrome","runtime","id","browser","Object","getPrototypeOf","CHROME_SEND_MESSAGE_CALLBACK_NO_RESPONSE_MESSAGE","wrapAPIs","extensionAPIs","apiMetadata","keys","DefaultWeakMap","WeakMap","constructor","createItem","items","undefined","super","get","key","has","set","makeCallback","promise","metadata","callbackArgs","lastError","reject","singleCallbackArg","resolve","pluralizeArguments","numArgs","wrapMethod","target","method","wrapper","Proxy","apply","targetMethod","thisObj","args","call","hasOwnProperty","Function","wrapObject","wrappers","cache","create","handlers","proxyTarget","prop","receiver","value","minArgs","maxArgs","Promise","fallbackToNoCallback","cbError","console","warn","noCallback","wrapAsyncFunction","defineProperty","configurable","enumerable","desc","Reflect","deleteProperty","wrapEvent","wrapperMap","addListener","listener","hasListener","removeListener","onRequestFinishedWrappers","req","wrappedReq","getContent","onMessageWrappers","sender","sendResponse","wrappedSendResponse","result","didCallSendResponse","sendResponsePromise","response","isResultThenable","then","msg","error","__mozWebExtensionPolyfillReject__","catch","wrappedSendMessageCallback","reply","wrappedSendMessage","apiNamespaceObj","wrappedCb","push","sendMessage","staticWrappers","devtools","network","onRequestFinished","onMessage","onMessageExternal","tabs","settingMetadata","clear","privacy","services","websites","_typeof","_regeneratorRuntime","__esModule","t","r","n","o","i","Symbol","a","iterator","c","asyncIterator","u","toStringTag","define","writable","wrap","Generator","Context","makeInvokeMethod","tryCatch","type","arg","h","l","f","s","y","GeneratorFunction","GeneratorFunctionPrototype","d","v","values","g","defineIteratorMethods","forEach","_invoke","AsyncIterator","invoke","__await","callInvokeWithMethodAndArg","done","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","isNaN","displayName","isGeneratorFunction","mark","setPrototypeOf","__proto__","awrap","async","reverse","pop","prev","slice","stop","rval","handle","complete","finish","delegateYield","regeneratorRuntime","accidentalStrictMode","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","definition","obj","asyncGeneratorStep","gen","_next","_throw","info","_asyncToGenerator","fn","self","arguments","require","getAll","url","details","cookies","assign","remove","log","concat","domain","path","secure","httpOnly","sameSite","expirationDate","handleBackgroundCall","_x3","_handleBackgroundCall","_callee6","request","_request$notification","notificationId","link","audioToPlay","volume","_context6","t0","action","requestUpdateCheck","getUser","getCredentials","setCredentials","params","removeCredentials","setIcon","setTimeout","notify","Date","now","title","iconUrl","pendingNotifications","notificationData","text","includes","onClicked","notifId","Audio","src","play","Cookies","process","global","onConnect","port","_browser$browserActio","_browser$browserActio2","popupOpen","onInstalled","object","reason","data","urlToUse","setUninstallURL","_ref","_callee","_context","_x","_x2","onChanged","changeInfo","_changeInfo$cookie","_changeInfo$cookie2","_changeInfo$cookie3","_changeInfo$cookie4","_changeInfo$cookie5","cookie","cause","removed","_ref2","_callee2","userTokenCookie","refreshTokenCookie","_context2","find","userToken","refreshToken","_ref3","_callee3","credentials","_context3","all","_x4","_ref4","_callee4","_context4","_ref5","_callee5","_context5","jwtDecode"],"sourceRoot":""}
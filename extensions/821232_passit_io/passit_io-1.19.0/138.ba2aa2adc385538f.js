"use strict";(self.webpackChunkpassit=self.webpackChunkpassit||[]).push([[138],{56138:(he,z,a)=>{a.r(z),a.d(z,{GroupsModule:()=>_e,REDUCER_TOKEN:()=>Y});var t=a(94650),m=a(36895),N=a(96298),r=a(70430),_=a(36896),g=a(31331),D=a(81869),P=a(62650),O=a(60328),d=a(2169),tt=a(41515),p=a(83007);const $="groupForm",v={name:"",searchUsers:""},et=(0,_.mD)({name:(0,_.Gu)(tt.C1)}),F=e=>(0,_.j6)($,e),J={form:(0,_.j6)($,v),groupMembers:[],isUpdating:!1,isUpdated:!1,errorMessage:null},nt=(0,r.Lq)(J,(0,_.c_)(),(0,r.on)(d.hN,(e,i)=>({...e,form:F({...v,name:i.name}),groupMembers:i.groupuser_set.map(n=>({userId:n.user,isPending:n.is_invite_pending})),isUpdated:!1})),(0,r.on)(d.U_,()=>({...J})),(0,r.on)(d.zV,e=>({...e,form:F({...v}),groupMembers:[],isUpdating:!1,isUpdated:!1,errorMessage:null})),(0,r.on)(p.ZF,e=>({...e,isUpdating:!0,errorMessage:null})),(0,r.on)(p.mt,e=>({...e,isUpdating:!1,isUpdated:!0})),(0,r.on)(p.C_,e=>({...e,isUpdating:!1})),(0,r.on)(p.o$,(e,i)=>({...e,form:F({...v,name:e.form.value.name}),groupMembers:[...e.groupMembers].concat({userId:i.userId,isPending:!i.isPrivateOrgMode})})),(0,r.on)(p.gh,(e,i)=>({...e,groupMembers:[...e.groupMembers].filter(n=>n.userId!==i.userId)}))),ot=(0,_.me)(nt,e=>e.form,et);var lt=a(13136);const pt=(0,r.PH)("[Groups Module] Get Contacts"),Q=(0,r.PH)("[Groups Module] Get Contacts Success",(0,r.Ky)()),dt=(0,r.PH)("[Groups Module] Get Contacts Failure"),y=(0,lt.H)(),gt=y.getInitialState(),mt=(0,r.Lq)(gt,(0,r.on)(Q,(e,i)=>y.setAll(i.contacts,e)),(0,r.on)(p.Mu,(e,i)=>y.addOne({email:i.label,id:i.value},e))),{selectAll:ut}=y.getSelectors(),ht=ut,K={showCreate:!1,groupManaged:null},ft={groupsPage:(0,r.Lq)(K,(0,r.on)(d.U_,e=>({...K})),(0,r.on)(d.zV,e=>({...e,showCreate:!0,groupManaged:null})),(0,r.on)(d.KL,e=>({...e,showCreate:!1})),(0,r.on)(d.hN,(e,i)=>e.groupManaged===i.id?{...e,groupManaged:null}:{...e,groupManaged:i.id,showCreate:!1}),(0,r.on)(p.mt,e=>({...e,showCreate:!1}))),groupsForm:ot,contacts:function _t(e,i){return mt(e,i)}},Z=(0,r.ZF)("groupsModule"),S=(0,r.P1)(Z,e=>e.groupsPage),xt=(0,r.P1)(S,e=>e.showCreate),I=(0,r.P1)(S,e=>e.groupManaged),Ct=(0,r.P1)(S,e=>null===e.groupManaged&&!0===e.showCreate),G=(0,r.P1)(Z,e=>e.groupsForm),U=(0,r.P1)(G,e=>e.form),bt=(0,r.P1)(G,e=>e.groupMembers),Mt=(0,r.P1)(G,e=>e.isUpdating),wt=(0,r.P1)(G,e=>e.isUpdated),Pt=(0,r.P1)(Z,e=>e.contacts),Ot=(0,r.P1)(Pt,ht),j=(0,r.P1)(Ot,bt,(e,i)=>e.map(n=>{const o=i.find(s=>s.userId===n.id);return{...n,isPending:!!o&&o.isPending,isSelected:!!o}}));let vt=(()=>{class e{constructor(){this.showCreate=new t.vpe}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["group-add-button"]],outputs:{showCreate:"showCreate"},decls:7,vars:1,consts:[[1,"list-actions"],[1,"list-actions__actions"],["id","showAddGroupform","type","button",1,"button","button--gray",3,"click"],[1,"button__icon",3,"inlineSVG"],[1,"u-hidden--all-but-xl"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"button",2),t.NdJ("click",function(){return o.showCreate.emit()}),t._UZ(3,"div",3),t._uU(4," Add New "),t.TgZ(5,"span",4),t._uU(6,"Group"),t.qZA()()()()),2&n&&(t.xp6(3),t.Q6J("inlineSVG","../assets/svg/plus.svg"))},dependencies:[N.d$],styles:['@keyframes pulse{0%{box-shadow:0 6px 3px #0003,inset 0 0 #d3f6ff;border-color:#bed2d2;transform:translateY(0)}75%{box-shadow:0 6px 3px #0003,inset 0 0 #d3f6ff;border-color:#bed2d2;transform:translateY(0)}87%{box-shadow:0 9px 6px 2px #00000026,inset 0 0 0 4px #d3f6ff;border-color:#d3f6ff;transform:translateY(-3px)}to{box-shadow:0 6px 3px #0003,inset 0 0 #d3f6ff;border-color:#bed2d2;transform:translateY(0)}}@keyframes pulse-after{0%{background-color:#0092a8;transform:scale(1)}75%{background-color:#0092a8;transform:scale(1)}87%{background-color:#006675;transform:scaleY(1.75)}to{background-color:#0092a8;transform:scale(1)}}@keyframes firefox-has-a-bug{0%{background-color:#ccc;transform:scale(1)}to{background-color:#ccc;transform:scale(1)}}.list-actions[_ngcontent-%COMP%]{max-width:960px;margin-left:auto;margin-right:auto;display:flex;justify-content:flex-end;z-index:1}.list-actions[_ngcontent-%COMP%]:after{content:" ";display:block;clear:both}@media (min-width: 0) and (max-width: 979px){.list-actions[_ngcontent-%COMP%]{padding:0 15px}}.list-actions__search[_ngcontent-%COMP%]{flex:1;margin-right:15px}@media (min-width: 0) and (max-width: 500px){.list-actions__search[_ngcontent-%COMP%]{margin-right:10px}}.list-actions__select[_ngcontent-%COMP%]{position:relative}.list-actions__select-reset[_ngcontent-%COMP%]{position:absolute;top:51%;right:30px;padding:6px 5px 0;color:#0092a8;font-size:21px;transform:translateY(-50%);z-index:16}.list-actions__actions[_ngcontent-%COMP%]{margin-bottom:10px;text-align:center}.list-actions__button--not-animated[_ngcontent-%COMP%]{animation:none}.list-actions__button--not-animated[_ngcontent-%COMP%]:after{animation:firefox-has-a-bug 5s infinite}.list-actions__button--not-animated[_ngcontent-%COMP%]:hover:after{animation:none}.list-actions__button--animated[_ngcontent-%COMP%]{margin-top:-4px;animation:pulse 5s infinite}.list-actions__button--animated[_ngcontent-%COMP%]:after{animation:pulse-after 5s infinite}.list-actions__button--animated[_ngcontent-%COMP%]:hover{animation:initial}.list-actions__button--animated[_ngcontent-%COMP%]:hover:after{animation:initial}.list-actions__import-link[_ngcontent-%COMP%]{margin-top:10px;font-size:14px}@media (min-width: 0) and (max-width: 500px){.list-actions__import-link[_ngcontent-%COMP%]{display:none}}.list-empty-state[_ngcontent-%COMP%]{padding-top:40px;padding-bottom:30px}@media (min-width: 0) and (max-width: 500px){.list-empty-state[_ngcontent-%COMP%]{text-align:center;padding-top:40px}}.list-empty-state__copy[_ngcontent-%COMP%]{width:74.5762711864%;float:left;margin-right:1.6949152542%}@media (min-width: 0) and (max-width: 767px){.list-empty-state__copy[_ngcontent-%COMP%]{width:100%;float:left;margin-left:0;margin-right:0}}@keyframes shine{0%{left:0}50%{left:100%}51%{left:-40vh}}.list-placeholders[_ngcontent-%COMP%]{margin:-20px auto 0;z-index:-1;width:100%;overflow:hidden;position:relative;height:40vh}.list-placeholders--empty[_ngcontent-%COMP%]{height:50vh}.list-placeholders--empty[_ngcontent-%COMP%]   .list-placeholder[_ngcontent-%COMP%]:first-child{margin-top:0}.list-placeholders--loading[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;bottom:0;left:0;width:50vh;background-image:linear-gradient(90deg,transparent 0%,rgba(255,255,255,.8),transparent 100%);z-index:1;animation:shine 2s linear infinite}.list-placeholders[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;right:0;height:300px;background-image:linear-gradient(0deg,white 0%,rgba(255,255,255,0) 100%)}.list-placeholder[_ngcontent-%COMP%]{display:block;position:relative;margin-top:-1px;padding-top:0;border-top:1px solid #DDEEF0;border-bottom:1px solid #DDEEF0}@media (min-width: 0) and (max-width: 979px){.list-placeholder[_ngcontent-%COMP%]{padding:0 15px}}.list-placeholder[_ngcontent-%COMP%]:nth-child(2n+2)   .list-placeholder__text--title[_ngcontent-%COMP%]{width:300px}@media (min-width: 0) and (max-width: 500px){.list-placeholder[_ngcontent-%COMP%]:nth-child(2n+2)   .list-placeholder__text--title[_ngcontent-%COMP%]{width:175px}}.list-placeholder[_ngcontent-%COMP%]:nth-child(3n+3)   .list-placeholder__text--title[_ngcontent-%COMP%]{width:250px}@media (min-width: 0) and (max-width: 500px){.list-placeholder[_ngcontent-%COMP%]:nth-child(3n+3)   .list-placeholder__text--title[_ngcontent-%COMP%]{width:125px}}.list-placeholder[_ngcontent-%COMP%]:nth-child(4n+4)   .list-placeholder__text--title[_ngcontent-%COMP%]{width:275px}@media (min-width: 0) and (max-width: 500px){.list-placeholder[_ngcontent-%COMP%]:nth-child(4n+4)   .list-placeholder__text--title[_ngcontent-%COMP%]{width:150px}}.list-placeholder__heading[_ngcontent-%COMP%]{display:block;position:relative;max-width:960px;margin:0 auto}.list-placeholder__title[_ngcontent-%COMP%]{margin:2px 0 0;padding:15px 0;font-size:20px;font-weight:600}.list-placeholder__button[_ngcontent-%COMP%]{position:absolute;top:5px;right:0;cursor:default;box-shadow:0 6px 3px #0000001a,inset 0 0 #eefaff}.list-placeholder__text[_ngcontent-%COMP%]{display:inline-block;width:200px;height:9px;background-color:#d0e6e6}@media (min-width: 0) and (max-width: 500px){.list-placeholder__text[_ngcontent-%COMP%]{width:100px}}.list-placeholder__text--button[_ngcontent-%COMP%]{width:60px}.secret-list[_ngcontent-%COMP%]{margin:20px auto}.secret-list-item[_ngcontent-%COMP%]{display:block;position:relative;margin-top:-1px;padding-top:0;border-top:1px solid #D0E6E6;border-bottom:1px solid #D0E6E6;box-shadow:inset 0 0 #41374133,inset 0 0 #41374133;transition:padding .5s,background-color .125s,box-shadow .5s}.secret-list-item[_ngcontent-%COMP%]:hover{background-color:#f0fdfc}.secret-list-item--is-active[_ngcontent-%COMP%]{border:0;padding:15px 0 75px;background-color:#f4fcf7;box-shadow:inset 0 7px 8px -7px #41374133,inset 0 -7px 8px -7px #41374133;z-index:10}.secret-list-item--is-active[_ngcontent-%COMP%]:hover{background-color:#f4fcf7}.secret-list-item--add-form[_ngcontent-%COMP%]{margin-bottom:-20px}.secret-form-component[_ngcontent-%COMP%]{display:block;height:0;opacity:0;transform:translateY(-40px);transition:transform .5s,opacity .5s}.secret-form-component--is-active[_ngcontent-%COMP%]{height:auto;margin-bottom:-75px;opacity:1;transform:translateY(0);z-index:10}']}),e})();var f=a(22200),yt=a(66157),Gt=a(19679),kt=a(2515);const Tt=function(e){return[e]};function Ft(e,i){if(1&e&&t._UZ(0,"app-non-field-messages",12),2&e){const n=t.oxw();t.Q6J("messages",t.VKq(1,Tt,n.errorMessage))}}function Zt(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"button",13),t.NdJ("click",function(){t.CHM(n);const s=t.oxw();return t.KtG(s.onDelete())}),t._uU(1," Delete Group "),t.qZA()}}function St(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){t.CHM(n);const s=t.oxw();return t.KtG(s.cancelForm.emit())}),t._uU(1," Cancel "),t.qZA()}}let It=(()=>{class e{constructor(){this.toggleKeyControls=new t.vpe,this.submitForm=new t.vpe,this.delete=new t.vpe,this.cancelForm=new t.vpe,this.addUserToGroup=new t.vpe,this.removeUserFromGroup=new t.vpe}set contacts(n){this._contacts=n,this.listItems=this._contacts.map(o=>({name:o.email,value:o.id,isSelected:o.isSelected,isPending:o.isPending,confirmRemoval:o.id===this.userId})).sort((o,s)=>o.name>s.name?1:s.name>o.name?-1:0).filter(o=>!this.isNew||o.value!==this.userId)}get contacts(){return this._contacts}onDelete(){window.confirm("Once it's deleted, it's gone forever. Is that okay?")&&this.delete.emit()}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["groups-form"]],inputs:{form:"form",errorMessage:"errorMessage",isNew:"isNew",isUpdating:"isUpdating",isUpdated:"isUpdated",userId:"userId",isPrivateOrgMode:"isPrivateOrgMode",keyControls:"keyControls",searchFieldValidationPattern:"searchFieldValidationPattern",invalidSearchFieldText:"invalidSearchFieldText",noSearchFieldMatchText:"noSearchFieldMatchText",noListItemsText:"noListItemsText",fewListItemsText:"fewListItemsText",allListItemsSelectedText:"allListItemsSelectedText",justAddedText:"justAddedText",contacts:"contacts"},outputs:{toggleKeyControls:"toggleKeyControls",submitForm:"submitForm",delete:"delete",cancelForm:"cancelForm",addUserToGroup:"addUserToGroup",removeUserFromGroup:"removeUserFromGroup"},decls:13,vars:27,consts:[[1,"secret"],[3,"ngrxFormState","submit"],[3,"messages",4,"ngIf"],[1,"secret__details"],[1,"form-field","secret__field"],["label","Name","inlineError","Required",3,"ngrxFormControl","isFormSubmitted","isLarge"],["label","Members",3,"userId","searchControl","listItems","confirmRemovalMessage","singleItemIsRemovable","keyControls","searchFieldValidationPattern","invalidSearchFieldText","noSearchFieldMatchText","noListItemsText","fewListItemsText","allListItemsSelectedText","justAddedText","toggleKeyControls","addListItem","removeListItem"],[1,"secret__buttons"],["class","button button--text button--text-danger group-form__delete-btn","type","button",3,"click",4,"ngIf"],["class","button button--text button--text-danger group-form__cancel-btn","type","button",3,"click",4,"ngIf"],["type","submit",1,"button","button--primary","group-form__save-btn",3,"disabled"],[1,"secret__progress-bar"],[3,"messages"],["type","button",1,"button","button--text","button--text-danger","group-form__delete-btn",3,"click"],["type","button",1,"button","button--text","button--text-danger","group-form__cancel-btn",3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"form",1),t.NdJ("submit",function(){return o.submitForm.emit()}),t.YNc(2,Ft,1,3,"app-non-field-messages",2),t.TgZ(3,"div",3)(4,"div",4),t._UZ(5,"app-text-field",5),t.qZA(),t.TgZ(6,"app-multiselect",6),t.NdJ("toggleKeyControls",function(){return o.toggleKeyControls.emit()})("addListItem",function(c){return o.addUserToGroup.emit(c)})("removeListItem",function(c){return o.removeUserFromGroup.emit(c)}),t.qZA(),t.TgZ(7,"div",7),t.YNc(8,Zt,2,0,"button",8),t.YNc(9,St,2,0,"button",9),t.TgZ(10,"button",10),t._uU(11," Save Group "),t.qZA()()(),t._UZ(12,"div",11),t.qZA()()),2&n&&(t.xp6(1),t.Q6J("ngrxFormState",o.form),t.xp6(1),t.Q6J("ngIf",o.errorMessage),t.xp6(3),t.Q6J("ngrxFormControl",o.form.controls.name)("isFormSubmitted",o.form.isSubmitted)("isLarge",!1),t.xp6(1),t.Q6J("userId",o.userId)("searchControl",o.form.controls.searchUsers)("listItems",o.listItems)("confirmRemovalMessage","If you confirm here and then press \u2018Save Group\u2019, you will be removed from the group.\n\nThe group will live on with the other members.")("singleItemIsRemovable",o.isNew)("keyControls",o.keyControls)("searchFieldValidationPattern",o.searchFieldValidationPattern)("invalidSearchFieldText",o.invalidSearchFieldText)("noSearchFieldMatchText",o.noSearchFieldMatchText)("noListItemsText",o.noListItemsText)("fewListItemsText",o.fewListItemsText)("allListItemsSelectedText",o.allListItemsSelectedText)("justAddedText",o.justAddedText),t.xp6(2),t.Q6J("ngIf",!o.isNew),t.xp6(1),t.Q6J("ngIf",o.isNew),t.xp6(1),t.ekj("button--is-saving",o.isUpdating),t.Q6J("disabled",o.isUpdating),t.xp6(2),t.ekj("secret__progress-bar--is-saving",o.isUpdating)("secret__progress-bar--is-saved",o.isUpdated))},dependencies:[m.O5,_.Wz,_.I_,yt.Z,Gt.a,kt.z],styles:['@keyframes progress{0%{left:-200px;width:30%}50%{width:30%}70%{width:70%}80%{left:50%}95%{left:120%}to{left:100%}}.secret[_ngcontent-%COMP%]{display:block;max-width:960px;margin:0 auto}@media (min-width: 0) and (max-width: 979px){.secret[_ngcontent-%COMP%]{padding:0 15px}}.secret__heading[_ngcontent-%COMP%]{display:flex;z-index:1}.secret__progress-bar[_ngcontent-%COMP%]{position:absolute;overflow:hidden;width:100%;height:5px;left:0;bottom:0}.secret__progress-bar[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;width:100%;height:5px;background-color:transparent;transition:background-color .5s}.secret__progress-bar--is-saving[_ngcontent-%COMP%]:before{content:"";position:absolute;bottom:0;left:-100vw;width:200vw;height:5px;background-clip:padding-box;background-color:#6be1ff;opacity:.25;overflow:hidden}.secret__progress-bar--is-saving[_ngcontent-%COMP%]:after{background-color:#6be1ff;transform-origin:left;width:500px;animation:progress 2s linear infinite}.secret__progress-bar--is-saved[_ngcontent-%COMP%]:after{background-color:#6cc780}.secret__title[_ngcontent-%COMP%]{flex:1;margin:2px 0 0;padding:15px 0;font-size:20px;font-weight:600;cursor:pointer}@media (min-width: 0) and (max-width: 500px){.secret__title[_ngcontent-%COMP%]{font-size:18px}}.secret__title--add[_ngcontent-%COMP%]{display:block;max-width:960px;margin:0 auto}@media (min-width: 0) and (max-width: 979px){.secret__title--add[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}}.secret__title--is-active[_ngcontent-%COMP%]{cursor:default}.secret__input--mono[_ngcontent-%COMP%]{font-family:Overpass-Mono!important}.secret__input--mask[_ngcontent-%COMP%]{color:#bed2d2}.secret__header-actions[_ngcontent-%COMP%]{margin:7px 0}@media (min-width: 0) and (max-width: 500px){.secret__header-actions[_ngcontent-%COMP%]{max-width:115px;text-align:center}}.secret__button[_ngcontent-%COMP%]{margin-left:15px}@media (min-width: 0) and (max-width: 500px){.secret__button[_ngcontent-%COMP%]:nth-child(n+2){margin-top:5px}}.secret__details[_ngcontent-%COMP%]{max-width:100%;margin-left:auto;margin-right:auto;position:relative;padding:20px 0}.secret__details[_ngcontent-%COMP%]:after{content:" ";display:block;clear:both}.secret__field[_ngcontent-%COMP%]{width:49.1525423729%;float:left;margin-right:1.6949152542%;margin-bottom:20px}@media (min-width: 0) and (max-width: 767px){.secret__field[_ngcontent-%COMP%]{width:100%;float:left;margin-left:0;margin-right:0}}.secret__field--last[_ngcontent-%COMP%]{margin-right:0}.secret__field--full[_ngcontent-%COMP%]{width:100%;float:left;margin-left:0;margin-right:0}.secret__buttons[_ngcontent-%COMP%]{width:100%;float:left;margin-left:0;margin-right:0;text-align:right;height:44px}.secret__ng-select[_ngcontent-%COMP%]{height:32px}.secret__add-link[_ngcontent-%COMP%]{text-decoration:underline;cursor:pointer}.secret__subtext[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;line-height:19px}'],changeDetection:0}),e})(),V=(()=>{class e{constructor(n){this.store=n,this.isNew$=this.store.pipe((0,r.Ys)(Ct)),this.form$=this.store.pipe((0,r.Ys)(U)),this.contacts$=this.store.pipe((0,r.Ys)(j)),this.isUpdating$=this.store.pipe((0,r.Ys)(Mt)),this.isUpdated$=this.store.pipe((0,r.Ys)(wt)),this.userId$=this.store.pipe((0,r.Ys)(f.n5)),this.isPrivateOrgMode$=this.store.pipe((0,r.Ys)(f.xI)),this._keyControls=!1,this.emailValidationPattern=/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/,this.invalidSearchFieldText="Enter a valid email address.",this.noSearchFieldMatchText="No Passit user with this email address.",this._noListItemsText="Enter a Passit user's complete email address above to invite that person to a group.",this._fewListItemsText="This list shows Passit users that you have added to your other groups.",this._allListItemsSelectedText="",this._justAddedText="\n    Once you press \u201cSave Group\u201d, ||| will be invited. When people you invite\n    accept your invitation, their email addresses will be visible here when you\n    create or edit another group.\n  ",this.toggleKeyControls=()=>this._keyControls=!this._keyControls,this.isPrivateOrgMode$.subscribe(o=>{o&&(this._isPrivateOrgMode=o,this._justAddedText="Once you press \u201cSave Group\u201d, ||| will be invited.",this._noListItemsText="Looks like you're all alone! You can still create groups as a way to organize your passwords.",this._allListItemsSelectedText="Everyone is in the group!",this._fewListItemsText="This list shows other Passit users that you can add to your groups.")})}cancelForm(){this.store.dispatch((0,d.KL)())}saveForm(){this._keyControls||this.store.dispatch((0,p.ZF)())}delete(){this.store.dispatch((0,p.iE)())}addUserToGroup(n){this.store.dispatch((0,p.o$)({userId:n,isPrivateOrgMode:this._isPrivateOrgMode}))}removeUserFromGroup(n){this.store.dispatch((0,p.gh)({userId:n}))}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(r.yh))},e.\u0275cmp=t.Xpm({type:e,selectors:[["groups-form-container"]],decls:8,vars:29,consts:[[3,"form","contacts","isNew","isUpdating","isUpdated","isPrivateOrgMode","userId","keyControls","searchFieldValidationPattern","invalidSearchFieldText","noSearchFieldMatchText","noListItemsText","fewListItemsText","allListItemsSelectedText","justAddedText","toggleKeyControls","cancelForm","submitForm","delete","addUserToGroup","removeUserFromGroup"]],template:function(n,o){1&n&&(t.TgZ(0,"groups-form",0),t.NdJ("toggleKeyControls",function(){return o.toggleKeyControls()})("cancelForm",function(){return o.cancelForm()})("submitForm",function(){return o.saveForm()})("delete",function(){return o.delete()})("addUserToGroup",function(c){return o.addUserToGroup(c)})("removeUserFromGroup",function(c){return o.removeUserFromGroup(c)}),t.ALo(1,"async"),t.ALo(2,"async"),t.ALo(3,"async"),t.ALo(4,"async"),t.ALo(5,"async"),t.ALo(6,"async"),t.ALo(7,"async"),t.qZA()),2&n&&t.Q6J("form",t.lcZ(1,15,o.form$))("contacts",t.lcZ(2,17,o.contacts$))("isNew",t.lcZ(3,19,o.isNew$))("isUpdating",t.lcZ(4,21,o.isUpdating$))("isUpdated",t.lcZ(5,23,o.isUpdated$))("isPrivateOrgMode",t.lcZ(6,25,o.isPrivateOrgMode$))("userId",t.lcZ(7,27,o.userId$))("keyControls",o._keyControls)("searchFieldValidationPattern",o.emailValidationPattern)("invalidSearchFieldText",o.invalidSearchFieldText)("noSearchFieldMatchText",o.noSearchFieldMatchText)("noListItemsText",o._noListItemsText)("fewListItemsText",o._fewListItemsText)("allListItemsSelectedText",o._allListItemsSelectedText)("justAddedText",o._justAddedText)},dependencies:[It,m.Ov],encapsulation:2,changeDetection:0}),e})();function Ut(e,i){if(1&e&&(t.TgZ(0,"div",1)(1,"h2",2),t._uU(2," Add New Group "),t.qZA(),t._UZ(3,"groups-form-container"),t.qZA()),2&e){const n=t.oxw();t.ekj("secret-list-item--is-active",n.showCreate)}}let At=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["group-add"]],inputs:{showCreate:"showCreate"},decls:1,vars:1,consts:[["class","secret-list-item secret-list-item--add-form",3,"secret-list-item--is-active",4,"ngIf"],[1,"secret-list-item","secret-list-item--add-form"],[1,"secret__title","secret__title--add"]],template:function(n,o){1&n&&t.YNc(0,Ut,4,2,"div",0),2&n&&t.Q6J("ngIf",o.showCreate)},dependencies:[m.O5,V],styles:['@keyframes progress{0%{left:-200px;width:30%}50%{width:30%}70%{width:70%}80%{left:50%}95%{left:120%}to{left:100%}}.secret[_ngcontent-%COMP%]{display:block;max-width:960px;margin:0 auto}@media (min-width: 0) and (max-width: 979px){.secret[_ngcontent-%COMP%]{padding:0 15px}}.secret__heading[_ngcontent-%COMP%]{display:flex;z-index:1}.secret__progress-bar[_ngcontent-%COMP%]{position:absolute;overflow:hidden;width:100%;height:5px;left:0;bottom:0}.secret__progress-bar[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;width:100%;height:5px;background-color:transparent;transition:background-color .5s}.secret__progress-bar--is-saving[_ngcontent-%COMP%]:before{content:"";position:absolute;bottom:0;left:-100vw;width:200vw;height:5px;background-clip:padding-box;background-color:#6be1ff;opacity:.25;overflow:hidden}.secret__progress-bar--is-saving[_ngcontent-%COMP%]:after{background-color:#6be1ff;transform-origin:left;width:500px;animation:progress 2s linear infinite}.secret__progress-bar--is-saved[_ngcontent-%COMP%]:after{background-color:#6cc780}.secret__title[_ngcontent-%COMP%]{flex:1;margin:2px 0 0;padding:15px 0;font-size:20px;font-weight:600;cursor:pointer}@media (min-width: 0) and (max-width: 500px){.secret__title[_ngcontent-%COMP%]{font-size:18px}}.secret__title--add[_ngcontent-%COMP%]{display:block;max-width:960px;margin:0 auto}@media (min-width: 0) and (max-width: 979px){.secret__title--add[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}}.secret__title--is-active[_ngcontent-%COMP%]{cursor:default}.secret__input--mono[_ngcontent-%COMP%]{font-family:Overpass-Mono!important}.secret__input--mask[_ngcontent-%COMP%]{color:#bed2d2}.secret__header-actions[_ngcontent-%COMP%]{margin:7px 0}@media (min-width: 0) and (max-width: 500px){.secret__header-actions[_ngcontent-%COMP%]{max-width:115px;text-align:center}}.secret__button[_ngcontent-%COMP%]{margin-left:15px}@media (min-width: 0) and (max-width: 500px){.secret__button[_ngcontent-%COMP%]:nth-child(n+2){margin-top:5px}}.secret__details[_ngcontent-%COMP%]{max-width:100%;margin-left:auto;margin-right:auto;position:relative;padding:20px 0}.secret__details[_ngcontent-%COMP%]:after{content:" ";display:block;clear:both}.secret__field[_ngcontent-%COMP%]{width:49.1525423729%;float:left;margin-right:1.6949152542%;margin-bottom:20px}@media (min-width: 0) and (max-width: 767px){.secret__field[_ngcontent-%COMP%]{width:100%;float:left;margin-left:0;margin-right:0}}.secret__field--last[_ngcontent-%COMP%]{margin-right:0}.secret__field--full[_ngcontent-%COMP%]{width:100%;float:left;margin-left:0;margin-right:0}.secret__buttons[_ngcontent-%COMP%]{width:100%;float:left;margin-left:0;margin-right:0;text-align:right;height:44px}.secret__ng-select[_ngcontent-%COMP%]{height:32px}.secret__add-link[_ngcontent-%COMP%]{text-decoration:underline;cursor:pointer}.secret__subtext[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;line-height:19px}','@keyframes pulse{0%{box-shadow:0 6px 3px #0003,inset 0 0 #d3f6ff;border-color:#bed2d2;transform:translateY(0)}75%{box-shadow:0 6px 3px #0003,inset 0 0 #d3f6ff;border-color:#bed2d2;transform:translateY(0)}87%{box-shadow:0 9px 6px 2px #00000026,inset 0 0 0 4px #d3f6ff;border-color:#d3f6ff;transform:translateY(-3px)}to{box-shadow:0 6px 3px #0003,inset 0 0 #d3f6ff;border-color:#bed2d2;transform:translateY(0)}}@keyframes pulse-after{0%{background-color:#0092a8;transform:scale(1)}75%{background-color:#0092a8;transform:scale(1)}87%{background-color:#006675;transform:scaleY(1.75)}to{background-color:#0092a8;transform:scale(1)}}@keyframes firefox-has-a-bug{0%{background-color:#ccc;transform:scale(1)}to{background-color:#ccc;transform:scale(1)}}.list-actions[_ngcontent-%COMP%]{max-width:960px;margin-left:auto;margin-right:auto;display:flex;justify-content:flex-end;z-index:1}.list-actions[_ngcontent-%COMP%]:after{content:" ";display:block;clear:both}@media (min-width: 0) and (max-width: 979px){.list-actions[_ngcontent-%COMP%]{padding:0 15px}}.list-actions__search[_ngcontent-%COMP%]{flex:1;margin-right:15px}@media (min-width: 0) and (max-width: 500px){.list-actions__search[_ngcontent-%COMP%]{margin-right:10px}}.list-actions__select[_ngcontent-%COMP%]{position:relative}.list-actions__select-reset[_ngcontent-%COMP%]{position:absolute;top:51%;right:30px;padding:6px 5px 0;color:#0092a8;font-size:21px;transform:translateY(-50%);z-index:16}.list-actions__actions[_ngcontent-%COMP%]{margin-bottom:10px;text-align:center}.list-actions__button--not-animated[_ngcontent-%COMP%]{animation:none}.list-actions__button--not-animated[_ngcontent-%COMP%]:after{animation:firefox-has-a-bug 5s infinite}.list-actions__button--not-animated[_ngcontent-%COMP%]:hover:after{animation:none}.list-actions__button--animated[_ngcontent-%COMP%]{margin-top:-4px;animation:pulse 5s infinite}.list-actions__button--animated[_ngcontent-%COMP%]:after{animation:pulse-after 5s infinite}.list-actions__button--animated[_ngcontent-%COMP%]:hover{animation:initial}.list-actions__button--animated[_ngcontent-%COMP%]:hover:after{animation:initial}.list-actions__import-link[_ngcontent-%COMP%]{margin-top:10px;font-size:14px}@media (min-width: 0) and (max-width: 500px){.list-actions__import-link[_ngcontent-%COMP%]{display:none}}.list-empty-state[_ngcontent-%COMP%]{padding-top:40px;padding-bottom:30px}@media (min-width: 0) and (max-width: 500px){.list-empty-state[_ngcontent-%COMP%]{text-align:center;padding-top:40px}}.list-empty-state__copy[_ngcontent-%COMP%]{width:74.5762711864%;float:left;margin-right:1.6949152542%}@media (min-width: 0) and (max-width: 767px){.list-empty-state__copy[_ngcontent-%COMP%]{width:100%;float:left;margin-left:0;margin-right:0}}@keyframes shine{0%{left:0}50%{left:100%}51%{left:-40vh}}.list-placeholders[_ngcontent-%COMP%]{margin:-20px auto 0;z-index:-1;width:100%;overflow:hidden;position:relative;height:40vh}.list-placeholders--empty[_ngcontent-%COMP%]{height:50vh}.list-placeholders--empty[_ngcontent-%COMP%]   .list-placeholder[_ngcontent-%COMP%]:first-child{margin-top:0}.list-placeholders--loading[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;bottom:0;left:0;width:50vh;background-image:linear-gradient(90deg,transparent 0%,rgba(255,255,255,.8),transparent 100%);z-index:1;animation:shine 2s linear infinite}.list-placeholders[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;right:0;height:300px;background-image:linear-gradient(0deg,white 0%,rgba(255,255,255,0) 100%)}.list-placeholder[_ngcontent-%COMP%]{display:block;position:relative;margin-top:-1px;padding-top:0;border-top:1px solid #DDEEF0;border-bottom:1px solid #DDEEF0}@media (min-width: 0) and (max-width: 979px){.list-placeholder[_ngcontent-%COMP%]{padding:0 15px}}.list-placeholder[_ngcontent-%COMP%]:nth-child(2n+2)   .list-placeholder__text--title[_ngcontent-%COMP%]{width:300px}@media (min-width: 0) and (max-width: 500px){.list-placeholder[_ngcontent-%COMP%]:nth-child(2n+2)   .list-placeholder__text--title[_ngcontent-%COMP%]{width:175px}}.list-placeholder[_ngcontent-%COMP%]:nth-child(3n+3)   .list-placeholder__text--title[_ngcontent-%COMP%]{width:250px}@media (min-width: 0) and (max-width: 500px){.list-placeholder[_ngcontent-%COMP%]:nth-child(3n+3)   .list-placeholder__text--title[_ngcontent-%COMP%]{width:125px}}.list-placeholder[_ngcontent-%COMP%]:nth-child(4n+4)   .list-placeholder__text--title[_ngcontent-%COMP%]{width:275px}@media (min-width: 0) and (max-width: 500px){.list-placeholder[_ngcontent-%COMP%]:nth-child(4n+4)   .list-placeholder__text--title[_ngcontent-%COMP%]{width:150px}}.list-placeholder__heading[_ngcontent-%COMP%]{display:block;position:relative;max-width:960px;margin:0 auto}.list-placeholder__title[_ngcontent-%COMP%]{margin:2px 0 0;padding:15px 0;font-size:20px;font-weight:600}.list-placeholder__button[_ngcontent-%COMP%]{position:absolute;top:5px;right:0;cursor:default;box-shadow:0 6px 3px #0000001a,inset 0 0 #eefaff}.list-placeholder__text[_ngcontent-%COMP%]{display:inline-block;width:200px;height:9px;background-color:#d0e6e6}@media (min-width: 0) and (max-width: 500px){.list-placeholder__text[_ngcontent-%COMP%]{width:100px}}.list-placeholder__text--button[_ngcontent-%COMP%]{width:60px}.secret-list[_ngcontent-%COMP%]{margin:20px auto}.secret-list-item[_ngcontent-%COMP%]{display:block;position:relative;margin-top:-1px;padding-top:0;border-top:1px solid #D0E6E6;border-bottom:1px solid #D0E6E6;box-shadow:inset 0 0 #41374133,inset 0 0 #41374133;transition:padding .5s,background-color .125s,box-shadow .5s}.secret-list-item[_ngcontent-%COMP%]:hover{background-color:#f0fdfc}.secret-list-item--is-active[_ngcontent-%COMP%]{border:0;padding:15px 0 75px;background-color:#f4fcf7;box-shadow:inset 0 7px 8px -7px #41374133,inset 0 -7px 8px -7px #41374133;z-index:10}.secret-list-item--is-active[_ngcontent-%COMP%]:hover{background-color:#f4fcf7}.secret-list-item--add-form[_ngcontent-%COMP%]{margin-bottom:-20px}.secret-form-component[_ngcontent-%COMP%]{display:block;height:0;opacity:0;transform:translateY(-40px);transition:transform .5s,opacity .5s}.secret-form-component--is-active[_ngcontent-%COMP%]{height:auto;margin-bottom:-75px;opacity:1;transform:translateY(0);z-index:10}']}),e})();function Lt(e,i){1&e&&(t.TgZ(0,"p",6),t._uU(1," Press \u201cAdd New "),t.TgZ(2,"span",7),t._uU(3,"Group"),t.qZA(),t._uU(4,"\u201d to create your first\xa0group. "),t.qZA())}function Yt(e,i){1&e&&(t.TgZ(0,"span"),t._uU(1,"a group"),t.qZA())}function Et(e,i){1&e&&(t.TgZ(0,"span"),t._uU(1,"some groups"),t.qZA())}function zt(e,i){1&e&&(t.TgZ(0,"span"),t._uU(1,"the invitation"),t.qZA())}function Nt(e,i){1&e&&(t.TgZ(0,"span"),t._uU(1,"one of the invitations"),t.qZA())}function Dt(e,i){if(1&e&&(t.TgZ(0,"p",6),t._uU(1," You\u2019ve been invited to "),t.YNc(2,Yt,2,0,"span",0),t.YNc(3,Et,2,0,"span",0),t._uU(4,"! Get started either by accepting "),t.YNc(5,zt,2,0,"span",0),t.YNc(6,Nt,2,0,"span",0),t._uU(7," below or by pressing \u201cAdd New"),t.TgZ(8,"span",7),t._uU(9,"Group"),t.qZA(),t._uU(10,"\u201d\xa0above. "),t.qZA()),2&e){const n=t.oxw(3);t.xp6(2),t.Q6J("ngIf",1===n.pendingGroupsCount),t.xp6(1),t.Q6J("ngIf",n.pendingGroupsCount>1),t.xp6(2),t.Q6J("ngIf",1===n.pendingGroupsCount),t.xp6(1),t.Q6J("ngIf",n.pendingGroupsCount>1)}}function $t(e,i){if(1&e&&(t.TgZ(0,"div",2)(1,"div",3)(2,"h2",4),t._uU(3," This is where you\xa0share. "),t.qZA(),t.YNc(4,Lt,5,0,"p",5),t.YNc(5,Dt,11,4,"p",5),t.qZA()()),2&e){const n=t.oxw(2);t.xp6(4),t.Q6J("ngIf",0===n.pendingGroupsCount),t.xp6(1),t.Q6J("ngIf",n.pendingGroupsCount>0)}}function Jt(e,i){1&e&&(t.TgZ(0,"span"),t._uU(1,"s"),t.qZA())}function Qt(e,i){if(1&e&&(t.TgZ(0,"p",6),t._uU(1," Remember to respond to your pending group invitation"),t.YNc(2,Jt,2,0,"span",0),t._uU(3," by pressing \u2018Accept\u2019 or\xa0\u2018Decline\u2019. "),t.qZA()),2&e){const n=t.oxw(3);t.xp6(2),t.Q6J("ngIf",n.pendingGroupsCount>1)}}function Kt(e,i){if(1&e&&(t.TgZ(0,"div",2)(1,"div",3)(2,"h2",4),t._uU(3," Your first group is available to use. "),t.qZA(),t.TgZ(4,"p",6),t._uU(5," To use groups, go back to the Passwords screen, select a password to manage, and add your group to it. Then, anyone in your group will be able to see and edit that\xa0password. "),t.qZA(),t.YNc(6,Qt,4,1,"p",5),t.qZA()()),2&e){const n=t.oxw(2);t.xp6(4),t.ekj("text--less-bottom-margin",n.pendingGroupsCount>0),t.xp6(2),t.Q6J("ngIf",n.pendingGroupsCount>0)}}function jt(e,i){if(1&e&&(t.ynx(0),t.YNc(1,$t,6,2,"div",1),t.YNc(2,Kt,7,3,"div",1),t.BQk()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",0===n.groupsCount),t.xp6(1),t.Q6J("ngIf",1===n.groupsCount)}}let Vt=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-group-empty-state"]],inputs:{showCreate:"showCreate",groupsCount:"groupsCount",pendingGroupsCount:"pendingGroupsCount"},decls:1,vars:1,consts:[[4,"ngIf"],["class","l-container list-empty-state",4,"ngIf"],[1,"l-container","list-empty-state"],[1,"list-empty-state__copy"],[1,"heading-medium"],["class","text--large",4,"ngIf"],[1,"text--large"],[1,"u-hidden--all-but-xl"]],template:function(n,o){1&n&&t.YNc(0,jt,3,2,"ng-container",0),2&n&&t.Q6J("ngIf",!o.showCreate)},dependencies:[m.O5],styles:[".list-empty-state[_ngcontent-%COMP%]{padding-top:40px;padding-bottom:30px}@media (min-width: 0) and (max-width: 500px){.list-empty-state[_ngcontent-%COMP%]{text-align:center;padding-top:40px}}.list-empty-state__copy[_ngcontent-%COMP%]{width:74.5762711864%;float:left;margin-right:1.6949152542%}@media (min-width: 0) and (max-width: 767px){.list-empty-state__copy[_ngcontent-%COMP%]{width:100%;float:left;margin-left:0;margin-right:0}}"],changeDetection:0}),e})(),Rt=(()=>{class e{constructor(){this.groupSelected=new t.vpe}toggleView(n=!1){(n&&!this.active||!n)&&this.groupSelected.emit(this.group)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["group-detail"]],inputs:{active:"active",group:"group"},outputs:{groupSelected:"groupSelected"},decls:7,vars:4,consts:[[1,"secret"],[1,"secret__heading"],[1,"secret__title",3,"click"],[1,"secret__header-actions"],["id","manageSecretBtn","type","button",1,"button","button--gray","secret__button",3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t.NdJ("click",function(){return o.toggleView(!0)}),t._uU(3),t.qZA(),t.TgZ(4,"div",3)(5,"button",4),t.NdJ("click",function(){return o.toggleView()}),t._uU(6),t.qZA()()()()),2&n&&(t.xp6(2),t.ekj("secret__title--is-active",o.active),t.xp6(1),t.hij(" ",o.group.name," "),t.xp6(3),t.hij(" ",o.active?"Close":"Manage"," "))},styles:['@keyframes progress{0%{left:-200px;width:30%}50%{width:30%}70%{width:70%}80%{left:50%}95%{left:120%}to{left:100%}}.secret[_ngcontent-%COMP%]{display:block;max-width:960px;margin:0 auto}@media (min-width: 0) and (max-width: 979px){.secret[_ngcontent-%COMP%]{padding:0 15px}}.secret__heading[_ngcontent-%COMP%]{display:flex;z-index:1}.secret__progress-bar[_ngcontent-%COMP%]{position:absolute;overflow:hidden;width:100%;height:5px;left:0;bottom:0}.secret__progress-bar[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;width:100%;height:5px;background-color:transparent;transition:background-color .5s}.secret__progress-bar--is-saving[_ngcontent-%COMP%]:before{content:"";position:absolute;bottom:0;left:-100vw;width:200vw;height:5px;background-clip:padding-box;background-color:#6be1ff;opacity:.25;overflow:hidden}.secret__progress-bar--is-saving[_ngcontent-%COMP%]:after{background-color:#6be1ff;transform-origin:left;width:500px;animation:progress 2s linear infinite}.secret__progress-bar--is-saved[_ngcontent-%COMP%]:after{background-color:#6cc780}.secret__title[_ngcontent-%COMP%]{flex:1;margin:2px 0 0;padding:15px 0;font-size:20px;font-weight:600;cursor:pointer}@media (min-width: 0) and (max-width: 500px){.secret__title[_ngcontent-%COMP%]{font-size:18px}}.secret__title--add[_ngcontent-%COMP%]{display:block;max-width:960px;margin:0 auto}@media (min-width: 0) and (max-width: 979px){.secret__title--add[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}}.secret__title--is-active[_ngcontent-%COMP%]{cursor:default}.secret__input--mono[_ngcontent-%COMP%]{font-family:Overpass-Mono!important}.secret__input--mask[_ngcontent-%COMP%]{color:#bed2d2}.secret__header-actions[_ngcontent-%COMP%]{margin:7px 0}@media (min-width: 0) and (max-width: 500px){.secret__header-actions[_ngcontent-%COMP%]{max-width:115px;text-align:center}}.secret__button[_ngcontent-%COMP%]{margin-left:15px}@media (min-width: 0) and (max-width: 500px){.secret__button[_ngcontent-%COMP%]:nth-child(n+2){margin-top:5px}}.secret__details[_ngcontent-%COMP%]{max-width:100%;margin-left:auto;margin-right:auto;position:relative;padding:20px 0}.secret__details[_ngcontent-%COMP%]:after{content:" ";display:block;clear:both}.secret__field[_ngcontent-%COMP%]{width:49.1525423729%;float:left;margin-right:1.6949152542%;margin-bottom:20px}@media (min-width: 0) and (max-width: 767px){.secret__field[_ngcontent-%COMP%]{width:100%;float:left;margin-left:0;margin-right:0}}.secret__field--last[_ngcontent-%COMP%]{margin-right:0}.secret__field--full[_ngcontent-%COMP%]{width:100%;float:left;margin-left:0;margin-right:0}.secret__buttons[_ngcontent-%COMP%]{width:100%;float:left;margin-left:0;margin-right:0;text-align:right;height:44px}.secret__ng-select[_ngcontent-%COMP%]{height:32px}.secret__add-link[_ngcontent-%COMP%]{text-decoration:underline;cursor:pointer}.secret__subtext[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;line-height:19px}']}),e})();function qt(e,i){1&e&&t._UZ(0,"groups-form-container")}function Bt(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"div",3)(1,"group-detail",4),t.NdJ("groupSelected",function(s){t.CHM(n);const c=t.oxw();return t.KtG(c.onGroupWasSelected(s))}),t.qZA(),t.YNc(2,qt,1,0,"groups-form-container",5),t.qZA()}if(2&e){const n=i.$implicit,o=t.oxw();t.ekj("secret-list-item--is-active",n.id===o.groupManaged),t.xp6(1),t.Q6J("active",n.id===o.groupManaged)("group",n),t.xp6(1),t.Q6J("ngIf",n.id===o.groupManaged)}}function Xt(e,i){1&e&&(t.TgZ(0,"div",8)(1,"div",9)(2,"h3",10),t._UZ(3,"div",11),t.qZA(),t.TgZ(4,"div",12)(5,"button",13),t._UZ(6,"div",14),t.qZA()()()())}function Ht(e,i){if(1&e&&(t.TgZ(0,"div",6),t.YNc(1,Xt,7,0,"div",7),t.qZA()),2&e){const n=t.oxw();t.ekj("list-placeholders--empty",0===n.groups.length),t.xp6(1),t.Q6J("ngForOf"," ".repeat(20).split(""))}}let Wt=(()=>{class e{constructor(){this.groupAnimated=!1,this.groupSelected=new t.vpe}onGroupWasSelected(n){this.groupAnimated=!0,this.groupSelected.emit(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["group-list"]],inputs:{groups:"groups",groupManaged:"groupManaged"},outputs:{groupSelected:"groupSelected"},decls:3,vars:2,consts:[[1,"secret-list"],["class","secret-list-item",3,"secret-list-item--is-active",4,"ngFor","ngForOf"],["class","list-placeholders",3,"list-placeholders--empty",4,"ngIf"],[1,"secret-list-item"],[3,"active","group","groupSelected"],[4,"ngIf"],[1,"list-placeholders"],["class","list-placeholder",4,"ngFor","ngForOf"],[1,"list-placeholder"],[1,"list-placeholder__heading"],[1,"list-placeholder__title"],[1,"list-placeholder__text","list-placeholder__text--title"],[1,"secret__header-actions"],["type","button","disabled","disabled",1,"button","button--placeholder","list-placeholder__button"],[1,"list-placeholder__text","list-placeholder__text--button"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t.YNc(1,Bt,3,5,"div",1),t.qZA(),t.YNc(2,Ht,2,3,"div",2)),2&n&&(t.xp6(1),t.Q6J("ngForOf",o.groups),t.xp6(1),t.Q6J("ngIf",0===o.groups.length))},dependencies:[m.sg,m.O5,Rt,V],styles:['@keyframes pulse{0%{box-shadow:0 6px 3px #0003,inset 0 0 #d3f6ff;border-color:#bed2d2;transform:translateY(0)}75%{box-shadow:0 6px 3px #0003,inset 0 0 #d3f6ff;border-color:#bed2d2;transform:translateY(0)}87%{box-shadow:0 9px 6px 2px #00000026,inset 0 0 0 4px #d3f6ff;border-color:#d3f6ff;transform:translateY(-3px)}to{box-shadow:0 6px 3px #0003,inset 0 0 #d3f6ff;border-color:#bed2d2;transform:translateY(0)}}@keyframes pulse-after{0%{background-color:#0092a8;transform:scale(1)}75%{background-color:#0092a8;transform:scale(1)}87%{background-color:#006675;transform:scaleY(1.75)}to{background-color:#0092a8;transform:scale(1)}}@keyframes firefox-has-a-bug{0%{background-color:#ccc;transform:scale(1)}to{background-color:#ccc;transform:scale(1)}}.list-actions[_ngcontent-%COMP%]{max-width:960px;margin-left:auto;margin-right:auto;display:flex;justify-content:flex-end;z-index:1}.list-actions[_ngcontent-%COMP%]:after{content:" ";display:block;clear:both}@media (min-width: 0) and (max-width: 979px){.list-actions[_ngcontent-%COMP%]{padding:0 15px}}.list-actions__search[_ngcontent-%COMP%]{flex:1;margin-right:15px}@media (min-width: 0) and (max-width: 500px){.list-actions__search[_ngcontent-%COMP%]{margin-right:10px}}.list-actions__select[_ngcontent-%COMP%]{position:relative}.list-actions__select-reset[_ngcontent-%COMP%]{position:absolute;top:51%;right:30px;padding:6px 5px 0;color:#0092a8;font-size:21px;transform:translateY(-50%);z-index:16}.list-actions__actions[_ngcontent-%COMP%]{margin-bottom:10px;text-align:center}.list-actions__button--not-animated[_ngcontent-%COMP%]{animation:none}.list-actions__button--not-animated[_ngcontent-%COMP%]:after{animation:firefox-has-a-bug 5s infinite}.list-actions__button--not-animated[_ngcontent-%COMP%]:hover:after{animation:none}.list-actions__button--animated[_ngcontent-%COMP%]{margin-top:-4px;animation:pulse 5s infinite}.list-actions__button--animated[_ngcontent-%COMP%]:after{animation:pulse-after 5s infinite}.list-actions__button--animated[_ngcontent-%COMP%]:hover{animation:initial}.list-actions__button--animated[_ngcontent-%COMP%]:hover:after{animation:initial}.list-actions__import-link[_ngcontent-%COMP%]{margin-top:10px;font-size:14px}@media (min-width: 0) and (max-width: 500px){.list-actions__import-link[_ngcontent-%COMP%]{display:none}}.list-empty-state[_ngcontent-%COMP%]{padding-top:40px;padding-bottom:30px}@media (min-width: 0) and (max-width: 500px){.list-empty-state[_ngcontent-%COMP%]{text-align:center;padding-top:40px}}.list-empty-state__copy[_ngcontent-%COMP%]{width:74.5762711864%;float:left;margin-right:1.6949152542%}@media (min-width: 0) and (max-width: 767px){.list-empty-state__copy[_ngcontent-%COMP%]{width:100%;float:left;margin-left:0;margin-right:0}}@keyframes shine{0%{left:0}50%{left:100%}51%{left:-40vh}}.list-placeholders[_ngcontent-%COMP%]{margin:-20px auto 0;z-index:-1;width:100%;overflow:hidden;position:relative;height:40vh}.list-placeholders--empty[_ngcontent-%COMP%]{height:50vh}.list-placeholders--empty[_ngcontent-%COMP%]   .list-placeholder[_ngcontent-%COMP%]:first-child{margin-top:0}.list-placeholders--loading[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;bottom:0;left:0;width:50vh;background-image:linear-gradient(90deg,transparent 0%,rgba(255,255,255,.8),transparent 100%);z-index:1;animation:shine 2s linear infinite}.list-placeholders[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;right:0;height:300px;background-image:linear-gradient(0deg,white 0%,rgba(255,255,255,0) 100%)}.list-placeholder[_ngcontent-%COMP%]{display:block;position:relative;margin-top:-1px;padding-top:0;border-top:1px solid #DDEEF0;border-bottom:1px solid #DDEEF0}@media (min-width: 0) and (max-width: 979px){.list-placeholder[_ngcontent-%COMP%]{padding:0 15px}}.list-placeholder[_ngcontent-%COMP%]:nth-child(2n+2)   .list-placeholder__text--title[_ngcontent-%COMP%]{width:300px}@media (min-width: 0) and (max-width: 500px){.list-placeholder[_ngcontent-%COMP%]:nth-child(2n+2)   .list-placeholder__text--title[_ngcontent-%COMP%]{width:175px}}.list-placeholder[_ngcontent-%COMP%]:nth-child(3n+3)   .list-placeholder__text--title[_ngcontent-%COMP%]{width:250px}@media (min-width: 0) and (max-width: 500px){.list-placeholder[_ngcontent-%COMP%]:nth-child(3n+3)   .list-placeholder__text--title[_ngcontent-%COMP%]{width:125px}}.list-placeholder[_ngcontent-%COMP%]:nth-child(4n+4)   .list-placeholder__text--title[_ngcontent-%COMP%]{width:275px}@media (min-width: 0) and (max-width: 500px){.list-placeholder[_ngcontent-%COMP%]:nth-child(4n+4)   .list-placeholder__text--title[_ngcontent-%COMP%]{width:150px}}.list-placeholder__heading[_ngcontent-%COMP%]{display:block;position:relative;max-width:960px;margin:0 auto}.list-placeholder__title[_ngcontent-%COMP%]{margin:2px 0 0;padding:15px 0;font-size:20px;font-weight:600}.list-placeholder__button[_ngcontent-%COMP%]{position:absolute;top:5px;right:0;cursor:default;box-shadow:0 6px 3px #0000001a,inset 0 0 #eefaff}.list-placeholder__text[_ngcontent-%COMP%]{display:inline-block;width:200px;height:9px;background-color:#d0e6e6}@media (min-width: 0) and (max-width: 500px){.list-placeholder__text[_ngcontent-%COMP%]{width:100px}}.list-placeholder__text--button[_ngcontent-%COMP%]{width:60px}.secret-list[_ngcontent-%COMP%]{margin:20px auto}.secret-list-item[_ngcontent-%COMP%]{display:block;position:relative;margin-top:-1px;padding-top:0;border-top:1px solid #D0E6E6;border-bottom:1px solid #D0E6E6;box-shadow:inset 0 0 #41374133,inset 0 0 #41374133;transition:padding .5s,background-color .125s,box-shadow .5s}.secret-list-item[_ngcontent-%COMP%]:hover{background-color:#f0fdfc}.secret-list-item--is-active[_ngcontent-%COMP%]{border:0;padding:15px 0 75px;background-color:#f4fcf7;box-shadow:inset 0 7px 8px -7px #41374133,inset 0 -7px 8px -7px #41374133;z-index:10}.secret-list-item--is-active[_ngcontent-%COMP%]:hover{background-color:#f4fcf7}.secret-list-item--add-form[_ngcontent-%COMP%]{margin-bottom:-20px}.secret-form-component[_ngcontent-%COMP%]{display:block;height:0;opacity:0;transform:translateY(-40px);transition:transform .5s,opacity .5s}.secret-form-component--is-active[_ngcontent-%COMP%]{height:auto;margin-bottom:-75px;opacity:1;transform:translateY(0);z-index:10}']}),e})();function te(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"h3",5),t._uU(4),t.qZA(),t.TgZ(5,"div",6)(6,"button",7),t.NdJ("click",function(){const c=t.CHM(n).$implicit,l=t.oxw();return t.KtG(l.acceptGroup.emit(c))}),t._uU(7," Accept "),t.qZA(),t.TgZ(8,"button",7),t.NdJ("click",function(){const c=t.CHM(n).$implicit,l=t.oxw();return t.KtG(l.declineGroup.emit(c))}),t._uU(9," Decline "),t.qZA()()()()()}if(2&e){const n=i.$implicit;t.xp6(4),t.hij(" ",n.name," ")}}let ee=(()=>{class e{constructor(){this.acceptGroup=new t.vpe,this.declineGroup=new t.vpe}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-group-pending-list"]],inputs:{pendingInviteGroups:"pendingInviteGroups"},outputs:{acceptGroup:"acceptGroup",declineGroup:"declineGroup"},decls:2,vars:1,consts:[[1,"container"],["class","secret-list-item group-pending-list-item",4,"ngFor","ngForOf"],[1,"secret-list-item","group-pending-list-item"],[1,"secret"],[1,"secret__heading"],[1,"secret__title"],[1,"secret__header-actions"],["type","button",1,"button","button--primary","secret__button",3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t.YNc(1,te,10,1,"div",1),t.qZA()),2&n&&(t.xp6(1),t.Q6J("ngForOf",o.pendingInviteGroups))},dependencies:[m.sg],styles:[".container[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:-20px}.group-pending-list-item[_ngcontent-%COMP%], .group-pending-list-item[_ngcontent-%COMP%]:hover{background-color:#fff0ae}.group-pending-list-item[_ngcontent-%COMP%]:last-child{border-bottom:0}.group-pending-list-item[_ngcontent-%COMP%]   .secret__title[_ngcontent-%COMP%]{cursor:default}",'@keyframes pulse{0%{box-shadow:0 6px 3px #0003,inset 0 0 #d3f6ff;border-color:#bed2d2;transform:translateY(0)}75%{box-shadow:0 6px 3px #0003,inset 0 0 #d3f6ff;border-color:#bed2d2;transform:translateY(0)}87%{box-shadow:0 9px 6px 2px #00000026,inset 0 0 0 4px #d3f6ff;border-color:#d3f6ff;transform:translateY(-3px)}to{box-shadow:0 6px 3px #0003,inset 0 0 #d3f6ff;border-color:#bed2d2;transform:translateY(0)}}@keyframes pulse-after{0%{background-color:#0092a8;transform:scale(1)}75%{background-color:#0092a8;transform:scale(1)}87%{background-color:#006675;transform:scaleY(1.75)}to{background-color:#0092a8;transform:scale(1)}}@keyframes firefox-has-a-bug{0%{background-color:#ccc;transform:scale(1)}to{background-color:#ccc;transform:scale(1)}}.list-actions[_ngcontent-%COMP%]{max-width:960px;margin-left:auto;margin-right:auto;display:flex;justify-content:flex-end;z-index:1}.list-actions[_ngcontent-%COMP%]:after{content:" ";display:block;clear:both}@media (min-width: 0) and (max-width: 979px){.list-actions[_ngcontent-%COMP%]{padding:0 15px}}.list-actions__search[_ngcontent-%COMP%]{flex:1;margin-right:15px}@media (min-width: 0) and (max-width: 500px){.list-actions__search[_ngcontent-%COMP%]{margin-right:10px}}.list-actions__select[_ngcontent-%COMP%]{position:relative}.list-actions__select-reset[_ngcontent-%COMP%]{position:absolute;top:51%;right:30px;padding:6px 5px 0;color:#0092a8;font-size:21px;transform:translateY(-50%);z-index:16}.list-actions__actions[_ngcontent-%COMP%]{margin-bottom:10px;text-align:center}.list-actions__button--not-animated[_ngcontent-%COMP%]{animation:none}.list-actions__button--not-animated[_ngcontent-%COMP%]:after{animation:firefox-has-a-bug 5s infinite}.list-actions__button--not-animated[_ngcontent-%COMP%]:hover:after{animation:none}.list-actions__button--animated[_ngcontent-%COMP%]{margin-top:-4px;animation:pulse 5s infinite}.list-actions__button--animated[_ngcontent-%COMP%]:after{animation:pulse-after 5s infinite}.list-actions__button--animated[_ngcontent-%COMP%]:hover{animation:initial}.list-actions__button--animated[_ngcontent-%COMP%]:hover:after{animation:initial}.list-actions__import-link[_ngcontent-%COMP%]{margin-top:10px;font-size:14px}@media (min-width: 0) and (max-width: 500px){.list-actions__import-link[_ngcontent-%COMP%]{display:none}}.list-empty-state[_ngcontent-%COMP%]{padding-top:40px;padding-bottom:30px}@media (min-width: 0) and (max-width: 500px){.list-empty-state[_ngcontent-%COMP%]{text-align:center;padding-top:40px}}.list-empty-state__copy[_ngcontent-%COMP%]{width:74.5762711864%;float:left;margin-right:1.6949152542%}@media (min-width: 0) and (max-width: 767px){.list-empty-state__copy[_ngcontent-%COMP%]{width:100%;float:left;margin-left:0;margin-right:0}}@keyframes shine{0%{left:0}50%{left:100%}51%{left:-40vh}}.list-placeholders[_ngcontent-%COMP%]{margin:-20px auto 0;z-index:-1;width:100%;overflow:hidden;position:relative;height:40vh}.list-placeholders--empty[_ngcontent-%COMP%]{height:50vh}.list-placeholders--empty[_ngcontent-%COMP%]   .list-placeholder[_ngcontent-%COMP%]:first-child{margin-top:0}.list-placeholders--loading[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;bottom:0;left:0;width:50vh;background-image:linear-gradient(90deg,transparent 0%,rgba(255,255,255,.8),transparent 100%);z-index:1;animation:shine 2s linear infinite}.list-placeholders[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;right:0;height:300px;background-image:linear-gradient(0deg,white 0%,rgba(255,255,255,0) 100%)}.list-placeholder[_ngcontent-%COMP%]{display:block;position:relative;margin-top:-1px;padding-top:0;border-top:1px solid #DDEEF0;border-bottom:1px solid #DDEEF0}@media (min-width: 0) and (max-width: 979px){.list-placeholder[_ngcontent-%COMP%]{padding:0 15px}}.list-placeholder[_ngcontent-%COMP%]:nth-child(2n+2)   .list-placeholder__text--title[_ngcontent-%COMP%]{width:300px}@media (min-width: 0) and (max-width: 500px){.list-placeholder[_ngcontent-%COMP%]:nth-child(2n+2)   .list-placeholder__text--title[_ngcontent-%COMP%]{width:175px}}.list-placeholder[_ngcontent-%COMP%]:nth-child(3n+3)   .list-placeholder__text--title[_ngcontent-%COMP%]{width:250px}@media (min-width: 0) and (max-width: 500px){.list-placeholder[_ngcontent-%COMP%]:nth-child(3n+3)   .list-placeholder__text--title[_ngcontent-%COMP%]{width:125px}}.list-placeholder[_ngcontent-%COMP%]:nth-child(4n+4)   .list-placeholder__text--title[_ngcontent-%COMP%]{width:275px}@media (min-width: 0) and (max-width: 500px){.list-placeholder[_ngcontent-%COMP%]:nth-child(4n+4)   .list-placeholder__text--title[_ngcontent-%COMP%]{width:150px}}.list-placeholder__heading[_ngcontent-%COMP%]{display:block;position:relative;max-width:960px;margin:0 auto}.list-placeholder__title[_ngcontent-%COMP%]{margin:2px 0 0;padding:15px 0;font-size:20px;font-weight:600}.list-placeholder__button[_ngcontent-%COMP%]{position:absolute;top:5px;right:0;cursor:default;box-shadow:0 6px 3px #0000001a,inset 0 0 #eefaff}.list-placeholder__text[_ngcontent-%COMP%]{display:inline-block;width:200px;height:9px;background-color:#d0e6e6}@media (min-width: 0) and (max-width: 500px){.list-placeholder__text[_ngcontent-%COMP%]{width:100px}}.list-placeholder__text--button[_ngcontent-%COMP%]{width:60px}.secret-list[_ngcontent-%COMP%]{margin:20px auto}.secret-list-item[_ngcontent-%COMP%]{display:block;position:relative;margin-top:-1px;padding-top:0;border-top:1px solid #D0E6E6;border-bottom:1px solid #D0E6E6;box-shadow:inset 0 0 #41374133,inset 0 0 #41374133;transition:padding .5s,background-color .125s,box-shadow .5s}.secret-list-item[_ngcontent-%COMP%]:hover{background-color:#f0fdfc}.secret-list-item--is-active[_ngcontent-%COMP%]{border:0;padding:15px 0 75px;background-color:#f4fcf7;box-shadow:inset 0 7px 8px -7px #41374133,inset 0 -7px 8px -7px #41374133;z-index:10}.secret-list-item--is-active[_ngcontent-%COMP%]:hover{background-color:#f4fcf7}.secret-list-item--add-form[_ngcontent-%COMP%]{margin-bottom:-20px}.secret-form-component[_ngcontent-%COMP%]{display:block;height:0;opacity:0;transform:translateY(-40px);transition:transform .5s,opacity .5s}.secret-form-component--is-active[_ngcontent-%COMP%]{height:auto;margin-bottom:-75px;opacity:1;transform:translateY(0);z-index:10}','@keyframes progress{0%{left:-200px;width:30%}50%{width:30%}70%{width:70%}80%{left:50%}95%{left:120%}to{left:100%}}.secret[_ngcontent-%COMP%]{display:block;max-width:960px;margin:0 auto}@media (min-width: 0) and (max-width: 979px){.secret[_ngcontent-%COMP%]{padding:0 15px}}.secret__heading[_ngcontent-%COMP%]{display:flex;z-index:1}.secret__progress-bar[_ngcontent-%COMP%]{position:absolute;overflow:hidden;width:100%;height:5px;left:0;bottom:0}.secret__progress-bar[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;width:100%;height:5px;background-color:transparent;transition:background-color .5s}.secret__progress-bar--is-saving[_ngcontent-%COMP%]:before{content:"";position:absolute;bottom:0;left:-100vw;width:200vw;height:5px;background-clip:padding-box;background-color:#6be1ff;opacity:.25;overflow:hidden}.secret__progress-bar--is-saving[_ngcontent-%COMP%]:after{background-color:#6be1ff;transform-origin:left;width:500px;animation:progress 2s linear infinite}.secret__progress-bar--is-saved[_ngcontent-%COMP%]:after{background-color:#6cc780}.secret__title[_ngcontent-%COMP%]{flex:1;margin:2px 0 0;padding:15px 0;font-size:20px;font-weight:600;cursor:pointer}@media (min-width: 0) and (max-width: 500px){.secret__title[_ngcontent-%COMP%]{font-size:18px}}.secret__title--add[_ngcontent-%COMP%]{display:block;max-width:960px;margin:0 auto}@media (min-width: 0) and (max-width: 979px){.secret__title--add[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}}.secret__title--is-active[_ngcontent-%COMP%]{cursor:default}.secret__input--mono[_ngcontent-%COMP%]{font-family:Overpass-Mono!important}.secret__input--mask[_ngcontent-%COMP%]{color:#bed2d2}.secret__header-actions[_ngcontent-%COMP%]{margin:7px 0}@media (min-width: 0) and (max-width: 500px){.secret__header-actions[_ngcontent-%COMP%]{max-width:115px;text-align:center}}.secret__button[_ngcontent-%COMP%]{margin-left:15px}@media (min-width: 0) and (max-width: 500px){.secret__button[_ngcontent-%COMP%]:nth-child(n+2){margin-top:5px}}.secret__details[_ngcontent-%COMP%]{max-width:100%;margin-left:auto;margin-right:auto;position:relative;padding:20px 0}.secret__details[_ngcontent-%COMP%]:after{content:" ";display:block;clear:both}.secret__field[_ngcontent-%COMP%]{width:49.1525423729%;float:left;margin-right:1.6949152542%;margin-bottom:20px}@media (min-width: 0) and (max-width: 767px){.secret__field[_ngcontent-%COMP%]{width:100%;float:left;margin-left:0;margin-right:0}}.secret__field--last[_ngcontent-%COMP%]{margin-right:0}.secret__field--full[_ngcontent-%COMP%]{width:100%;float:left;margin-left:0;margin-right:0}.secret__buttons[_ngcontent-%COMP%]{width:100%;float:left;margin-left:0;margin-right:0;text-align:right;height:44px}.secret__ng-select[_ngcontent-%COMP%]{height:32px}.secret__add-link[_ngcontent-%COMP%]{text-decoration:underline;cursor:pointer}.secret__subtext[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;line-height:19px}'],changeDetection:0}),e})();const oe=[{path:"",component:(()=>{class e{constructor(n){this.store=n,this.groups$=this.store.pipe((0,r.Ys)(O.VC)),this.groupsCount$=this.store.pipe((0,r.Ys)(O.J8)),this.pendingGroupsCount$=this.store.pipe((0,r.Ys)(O.J7)),this.pendingInviteGroups$=this.store.pipe((0,r.Ys)(O.Cn)),this.showCreate$=this.store.pipe((0,r.Ys)(xt)),this.groupManaged$=this.store.pipe((0,r.Ys)(I))}ngOnInit(){this.store.dispatch((0,d.U_)())}getGroups(){this.store.dispatch((0,P.t)())}showCreate(){this.store.dispatch((0,d.zV)())}groupSelected(n){this.store.dispatch((0,d.hN)(n))}acceptGroup(n){this.store.dispatch((0,d.Ol)({group:n}))}declineGroup(n){this.store.dispatch((0,d.dq)({group:n}))}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(r.yh))},e.\u0275cmp=t.Xpm({type:e,selectors:[["ng-component"]],decls:12,vars:21,consts:[[3,"showCreate"],[3,"groupsCount","pendingGroupsCount","showCreate"],[3,"pendingInviteGroups","acceptGroup","declineGroup"],[3,"groups","groupManaged","groupSelected"]],template:function(n,o){1&n&&(t.TgZ(0,"group-add-button",0),t.NdJ("showCreate",function(){return o.showCreate()}),t.qZA(),t._UZ(1,"group-add",0),t.ALo(2,"async"),t._UZ(3,"app-group-empty-state",1),t.ALo(4,"async"),t.ALo(5,"async"),t.ALo(6,"async"),t.TgZ(7,"app-group-pending-list",2),t.NdJ("acceptGroup",function(c){return o.acceptGroup(c)})("declineGroup",function(c){return o.declineGroup(c)}),t.ALo(8,"async"),t.qZA(),t.TgZ(9,"group-list",3),t.NdJ("groupSelected",function(c){return o.groupSelected(c)}),t.ALo(10,"async"),t.ALo(11,"async"),t.qZA()),2&n&&(t.xp6(1),t.Q6J("showCreate",t.lcZ(2,7,o.showCreate$)),t.xp6(2),t.Q6J("groupsCount",t.lcZ(4,9,o.groupsCount$))("pendingGroupsCount",t.lcZ(5,11,o.pendingGroupsCount$))("showCreate",t.lcZ(6,13,o.showCreate$)),t.xp6(4),t.Q6J("pendingInviteGroups",t.lcZ(8,15,o.pendingInviteGroups$)),t.xp6(2),t.Q6J("groups",t.lcZ(10,17,o.groups$))("groupManaged",t.lcZ(11,19,o.groupManaged$)))},dependencies:[vt,At,Vt,Wt,ee,m.Ov],encapsulation:2,changeDetection:0}),e})()}];let ie=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[D.Bz.forChild(oe),D.Bz]}),e})();var re=a(75349),b=a(11365),A=a(95577),x=a(54004),u=a(70262),L=a(36129),R=a(39300),se=a(54482),q=a(25403),ae=a(25032),le=a(78372),pe=a(63900),C=a(39646),B=a(54786),X=a(50457),de=a(50807);let H=(()=>{class e{constructor(n){this.sdk=n}getContacts(){return(0,X.D)(this.sdk.list_contacts())}contactLookup(n){return(0,X.D)(this.sdk.lookup_user_id(n))}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(de.N))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})(),ge=(()=>{class e{constructor(n,o,s,c){this.actions$=n,this.store=o,this.groupService=s,this.contactsService=c,this.saveGroup$=(0,g.GW)(()=>this.actions$.pipe((0,g.l4)(p.ZF),(0,b.M)(this.store.pipe((0,r.Ys)(U)),this.store.pipe((0,r.Ys)(I)),this.store.pipe((0,r.Ys)(j)),this.store.pipe((0,r.Ys)(f.OD)),this.store.pipe((0,r.Ys)(f.n5))),(0,A.z)(([l,h,M,ue,W,E])=>{const T=ue.filter(w=>w.isSelected);return null===M?(W&&E&&!T.find(w=>w.id===E)&&T.push({id:E,email:W,isSelected:!0,isPending:!1}),this.groupService.create(h.value.name,[],T).pipe((0,x.U)(()=>(0,p.mt)()),(0,u.K)(w=>(0,C.of)((0,p.C_)())))):this.groupService.update(M,h.value.name,"").pipe((0,L.z)(()=>this.groupService.updateGroupMembers(M,T).pipe((0,x.U)(()=>(0,p.mt)()),(0,u.K)(()=>(0,C.of)((0,p.C_)())))),(0,u.K)(w=>(0,C.of)((0,p.C_)())))}))),this.deleteGroup$=(0,g.GW)(()=>this.actions$.pipe((0,g.l4)(p.iE),(0,b.M)(this.store.pipe((0,r.Ys)(I))),(0,A.z)(([l,h])=>h?this.groupService.deleteGroup(h).pipe((0,x.U)(()=>(0,p.Vw)(),(0,u.K)(()=>(0,C.of)((0,p.$V)())))):(0,C.of)((0,p.$V)())))),this.contactLookup$=(0,g.GW)(()=>this.store.pipe((0,r.Ys)(U)).pipe((0,R.h)(l=>!!l.value.searchUsers&&l.controls.searchUsers.isValid),function ce(e,i){return(0,se.e)((n,o)=>{const s=new Set;n.subscribe((0,q.x)(o,c=>{const l=e?e(c):c;s.has(l)||(s.add(l),o.next(c))})),i?.subscribe((0,q.x)(o,()=>s.clear(),ae.Z))})}(l=>l.value),(0,b.M)(this.store.pipe((0,r.Ys)(f.xI))),(0,R.h)(([l,h])=>!h),(0,le.b)(400),(0,pe.w)(([l,h])=>this.contactsService.contactLookup(l.value.searchUsers).pipe((0,x.U)(M=>(0,p.Mu)({label:l.value.searchUsers,value:M,disabled:!1})),(0,u.K)(()=>[(0,p.zU)()]))))),this.getContacts$=(0,g.GW)(()=>this.actions$.pipe((0,g.l4)(pt,P.t,p.mt,d.U_),(0,A.z)(()=>this.contactsService.getContacts().pipe((0,x.U)(l=>Q({contacts:l})),(0,u.K)(()=>(0,C.of)(dt()))))))}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(g.eX),t.LFG(r.yh),t.LFG(B.l),t.LFG(H))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})();var k=a(60515);let me=(()=>{class e{constructor(n,o,s){this.actions$=n,this.store=o,this.groupService=s,this.acceptInvite$=(0,g.GW)(()=>this.actions$.pipe((0,g.l4)(d.Ol),(0,b.M)(this.store.pipe((0,r.Ys)(f.n5))),(0,L.z)(([c,l])=>l?this.groupService.acceptGroup(c.group,l).pipe((0,x.U)(()=>(0,P.t)()),(0,u.K)(()=>k.E)):k.E))),this.declineInvite$=(0,g.GW)(()=>this.actions$.pipe((0,g.l4)(d.dq),(0,b.M)(this.store.pipe((0,r.Ys)(f.n5))),(0,L.z)(([c,l])=>l?this.groupService.declineGroup(c.group,l).pipe((0,x.U)(()=>(0,P.t)()),(0,u.K)(()=>k.E)):k.E)))}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(g.eX),t.LFG(r.yh),t.LFG(B.l))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})();const Y=new t.OlP("groupsModule");let _e=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[{provide:Y,useValue:ft},H],imports:[m.ez,ie,_.j9,re.m,r.Aw.forFeature("groupsModule",Y),g.sQ.forFeature([ge,me]),N.vi]}),e})()}}]);
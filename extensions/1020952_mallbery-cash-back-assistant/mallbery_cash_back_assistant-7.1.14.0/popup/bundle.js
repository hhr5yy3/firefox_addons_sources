!function(i){function t(t){for(var e,n,r=t[0],a=t[1],o=t[2],c=0,s=[];c<r.length;c++)n=r[c],Object.prototype.hasOwnProperty.call(l,n)&&l[n]&&s.push(l[n][0]),l[n]=0;for(e in a)Object.prototype.hasOwnProperty.call(a,e)&&(i[e]=a[e]);for(d&&d(t);s.length;)s.shift()();return p.push.apply(p,o||[]),u()}function u(){for(var t,e=0;e<p.length;e++){for(var n=p[e],r=!0,a=1;a<n.length;a++){var o=n[a];0!==l[o]&&(r=!1)}r&&(p.splice(e--,1),t=c(c.s=n[0]))}return t}var n={},l={3:0},p=[];function c(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,c),e.l=!0,e.exports}c.m=i,c.c=n,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="";var e=window.webpackJsonp=window.webpackJsonp||[],r=e.push.bind(e);e.push=t,e=e.slice();for(var a=0;a<e.length;a++)t(e[a]);var d=r;p.push([618,0]),u()}({124:function(t,e,n){var r=n(597);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,n(13).default)("3160d3da",r,!0,{})},125:function(t,e,n){var r=n(599);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,n(13).default)("04460216",r,!0,{})},126:function(t,e,n){var r=n(601);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,n(13).default)("6a29764b",r,!0,{})},127:function(t,e,n){var r=n(603);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,n(13).default)("2a474727",r,!0,{})},128:function(t,e,n){var r=n(605);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,n(13).default)("03253ffe",r,!0,{})},129:function(t,e,n){var r=n(607);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,n(13).default)("4f406fc8",r,!0,{})},130:function(t,e,n){var r=n(609);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,n(13).default)("08810754",r,!0,{})},131:function(t,e,n){var r=n(611);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,n(13).default)("49f4332b",r,!0,{})},132:function(t,e,n){var r=n(613);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,n(13).default)("2402dcca",r,!0,{})},133:function(t,e,n){var r=n(615);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,n(13).default)("9ba38e4a",r,!0,{})},134:function(t,e,n){var r=n(617);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,n(13).default)("631e917b",r,!0,{})},16:function(t,e,n){"use strict";var r={props:{borderColor:{type:String,default:"none",required:!1},bgColor:{type:String,default:"#03a9f4",required:!1},width:{type:Number,required:!0},height:{type:Number,required:!0},text:{type:String,required:!0},fontSize:{type:Number,default:16,required:!1},fontColor:{type:String,default:"white",required:!1},shadow:{type:String,default:"rgba(0, 0, 0, 0.24)",required:!1}},computed:{styles:function(){return{"--border-color":this.borderColor,"--bg-color":this.bgColor,"--width":"".concat(this.width,"px"),"--height":"".concat(this.height,"px"),"--shadow":this.shadow,"--font-size":"".concat(this.fontSize,"px"),"--font-color":this.fontColor}}}},a=(n(166),n(8)),o=Object(a.a)(r,function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"button",style:e.styles,on:{click:function(t){return e.$emit("action")}}},[e._v(" "+e._s(e.text.toUpperCase())+" ")])},[],!1,null,"23879211",null);e.a=o.exports},166:function(t,e,n){"use strict";var r=n(45);n.n(r).a},167:function(t,e,n){},3:function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return a});var r={RETENTION:"Retention",INSTALL_BAR:"Install Bar",SETTINGS:"Settings",VISITED_MERCHANT:"Visited merchant",AUTH:"Auth form",FORGOT_PASSWORD:"Forgot Password",NATIVE_LOGIN:"Native Login",NATIVE_SIGN_UP:"Native Sign Up",ACTIVATION_BUTTON:"Activation Button",CAA_INJECTION_FIRST_TIME:"CaaInjectionFirstTime",SERP__INJECTION_FIRST_TIME:"SerpInjectionFirstTime",EXTENSION:"Extension",POPUP:"UserActivityInPopup",SLIDER_TUTORIAL:"SliderInjectionFirstTime",UPDATE_STORE:"Store",UPDATE_LOCAL:"Local"},a={RETENTION_LIFE:"Life",INSTALL_BAR_RENDER:"Render",INSTALL_BAR_BTN:"BTN",INSTALL_BAR_HELPER_CLOSE:"Helper Close",INSTALL_BAR_HELPER_BTN:"Helper BTN",INSTALL_BAR_CLOSE:"Close",INSTALL_BAR_ACTIVATED:"Activated",INSTALL_BAR_GO_HOME_PAGE:"Go Home Page",SETTINGS_OPEN:"Open",VISITED_MERCHANT_VISIT:"Visit",AUTH_RENDER:"Render",AUTH_SUCCESS:"Auth success",AUTH_CLOSE:"Close",AUTH_FACEBOOK_BTN:"Facebook BTN",AUTH_GOOGLE_BTN:"Google BTN",AUTH_VK_BTN:"VK BTN",AUTH_GO_TERMS:"Go Terms",AUTH_GO_PRIVACY:"Go Privacy",FORGOT_PASSWORD_BTN:"BTN",NATIVE_LOGIN_BTN:"BTN",NATIVE_SIGN_UP_BTN:"BTN",ACTIVATION_BUTTON_RENDER:"Render",ACTIVATION_BUTTON_BTN:"BTN",ACTIVATION_BUTTON_CLOSE:"Close",ACTIVATION_BUTTON_GET_LATER_BTN:"Get later BTN",CAA_INJECTION_FIRST_TIME_RENDER:"Render",CAA_INJECTION_FIRST_TIME_OUTBOUND:"Outbound",CAA_INJECTION_FIRST_TIME_BTN:"BTN",SLIDER_INJECTION_FIRST_TIME_RENDER:"Render",SLIDER_INJECTION_FIRST_TIME_OUTBOUND:"Outbound",SLIDER_INJECTION_FIRST_TIME_BTN:"BTN",SERP__INJECTION_FIRST_TIME_RENDER:"Render",EXTENSION_INSTALLED:"Installed",EXTENSION_DISABLE:"Disable",EXTENSION_ENABLE:"Enable",EXTENSION_REMOVE:"Remove",EXTENSION_INSTALL:"Install",POPUP_LOGO_CLICK:"LogoClick",POPUP_SEARCH_OFFER_CLICK:"SearchOfferClick",POPUP_ACTIVATE_CASHBACK_CLICK:"ActivateCashbackClick",POPUP_TOP_OFFER_CLICK:"TopOfferButtonClick",POPUP_RECENT_OFFER_CLICK:"RecentOfferButtonClick",POPUP_TOP_DEAL_CLICK:"TopDealButtonClick",POPUP_TOP_DEAL_COUPON_COPY:"TopDealCouponCopy",POPUP_FOOTER_HOME:"FooterHome",POPUP_FOOTER_ALL_STORES:"FooterAllStores",POPUP_FOOTER_SETTINGS:"FooterSettings",POPUP_USER_INFO:"UserInfo",POPUP_SHOPPING_TRIP:"ShoppingTrip",NOTIFICATION_SHOW:"Render",NOTIFICATION_CLICK:"ActivateCashbackClick",NOTIFICATION_CLOSE:"CloseNotification",UPDATE_DEPLOYED:"Deployed",UPDATE_NOT_DEPLOYED:"Not deployed"}},4:function(t,e,n){"use strict";n.d(e,"n",function(){return i}),n.d(e,"i",function(){return r}),n.d(e,"g",function(){return a}),n.d(e,"m",function(){return o}),n.d(e,"x",function(){return u}),n.d(e,"a",function(){return p}),n.d(e,"k",function(){return d}),n.d(e,"l",function(){return c}),n.d(e,"v",function(){return m}),n.d(e,"j",function(){return f}),n.d(e,"f",function(){return _}),n.d(e,"r",function(){return l}),n.d(e,"u",function(){return h}),n.d(e,"h",function(){return v}),n.d(e,"p",function(){return g}),n.d(e,"c",function(){return O}),n.d(e,"b",function(){return b}),n.d(e,"e",function(){return T}),n.d(e,"d",function(){return C}),n.d(e,"o",function(){return I}),n.d(e,"s",function(){return w}),n.d(e,"w",function(){return S}),n.d(e,"t",function(){return E}),n.d(e,"q",function(){return P});var r="mallbery.com",a=new RegExp("^https:\\/\\/(www\\.)?".concat(r.replace(/\./,"\\."),"\\/((?!(login|interstitial|redirect))).*"),"i"),o=new RegExp("^https:\\/\\/(www\\.)?".concat(r.replace(/\./,"\\."),"\\/interstitial.*"),"i"),c="https://".concat(r),s="https://analytics.mallbery.com",i=chrome.extension.getURL("options.html"),u={MERCHANTS:"".concat(c,"/api/offer"),COUPONS:"".concat(c,"/api/coupons"),USER_INFO:"".concat(c,"/api/user/info"),PROFILE:"".concat(c,"/profile/"),ALL_STORES:"".concat(c,"/all-stores"),USER_SIGN_IN:"".concat(c,"/api/auth/sign-in"),USER_SIGN_UP:"".concat(c,"/api/auth/sign-up"),TRANSACTIONS_CREATE:"".concat(c,"/api/transaction/create"),TRANSACTIONS_ORDER:"".concat(c,"/api/transaction/order"),TRANSACTIONS_LAST:"".concat(c,"/api/transaction/last"),REFRESH_TOKEN:"".concat(c,"/api/auth/refresh-token"),ACTIVATION_PARAMS:"".concat(c,"/api/configs/activateParams"),CAA_CONFIGS:"".concat(c,"/api/configs/caaConfigs"),COOKIE_CONFIG:"".concat(c,"/api/configs/cookies"),TERMINATOR:"".concat(c,"/api/configs/terminator"),THANOS_CONFIG:"".concat(c,"/api/configs/thanos"),ORDERS_CONFIG:"".concat(c,"/api/configs/orders"),SERP_CONFIGS:"".concat(c,"/api/configs/serpConfigs"),EXTENSION_CREATION:"".concat(c,"/api/extension/create"),EXTENSION_SYNC_USER:"".concat(c,"/api/extension/user"),TRANSLATIONS:"https://cdn.translations.mallbery.com/translations/mallbery.com/%language/translation.json",AFTER_INSTALL_PAGE:"".concat(c,"/after-install/"),UNINSTALL_PAGE:"".concat(c,"/uninstall-extension/?ext_id="),SHOPPING_TRIP:"".concat(c,"/profile/shopping-trips/"),INTERSTITIAL_PAGE:"".concat(c,"/redirect?v=").concat(encodeURIComponent(chrome.runtime.getManifest().version),"&link="),FACEBOOK:"https://www.facebook.com/sharer.php?t=Vratn%C3%A9Pen%C3%ADze.cz%20-%20pen%C3%ADze%20zp%C4%9Bt%20za%20va%C5%A1e%20n%C3%A1kupy&u=http%3A%2F%2Fwww.vratnepenize.cz%2F%3Futm_source%3Dfacebook%26utm_medium%3Dreferral%26utm_campaign%3Dfacebook_sdileni%26ref%3D",TWITTER:"https://twitter.com/intent/tweet?text=Vratn%C3%A9Pen%C3%ADze.cz%20-%20pen%C3%ADze%20zp%C4%9Bt%20za%20va%C5%A1e%20n%C3%A1kupy%20-%20https%3A%2F%2Fwww.vratnepenize.cz%2F%3Fref%3D!userID!&source=webclient",ANALYTIC_EXT_STATISTICS:"".concat(s,"/ext-statistic"),ANALYTIC_ACTIVATION:"".concat(s,"/click-deeplink"),ANALYTIC_GA:"".concat(s,"/ga"),ANALYTIC_SHOP_VISIT:"".concat(s,"/shop-visit")},l={ACTIVATION:/platform=NkOAMqvcUJb0am2hXcfXyA/g,UUID:/[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}/i},p=["pwieu\\.com(?:.*)bt=25&tl=1","redirectingat\\.com(?:.*)id=78783X1529572&url=(?:.*)xcust=","pwieu\\.com(?:.*)targetCoupon(?:.*)tl=4","ad\\.admitad\\.com.*subid","alitems\\.com.*","lenkmio.com/g.*"],d="UA-132860331-1",f="EXTENSION_UUID_V2",m=["sjv.io","ftjcfx.com","commission-junction.com","rover.ebay.com","partners.hotwire.com","www.pjtra.com",".7eer.","clickserver.com",".r.bat.bing.com","www.pntrs.com","partners.wantable.co","ohost=www.google.com","cc-dt.com",".ojrq.net","goto.orientaltrading.com","www.dpbolvw.net","goto.target.com","www.pntra.com",".evyy.net","affiliates.toysrus.com","www.anrdoezrs.net","www.tkqlhce.com","linksynergy.walmart.com","emjcd.com","partners.jawbone.com","shareasale.com","www.awin1.com","linksynergy.walmart.com","gan.doubleclick.net","tracking.groupon.com","www.pepperjamnetwork.com","rcm-ca.amazon.ca","affiliates.toysrus.com","www.shareasale.com","www.jdoqocy.com","alitems.com","www.kqzyfj.com","goto.orientaltrading.com","affiliates.babiesrus.com","lduhtrp.net","ad.admitad.com","prf.hn",".r.msn.com","apmebf.com","goto.target.com","www.intactearnings.com","click.linksynergy.com","partners.hostgator.com",".avantlink.com","tqlkg.com","partners.wantable.co","go.redirectingat.com","www.pntrac.com","linksynergy.com","www.qksrv.net","www.gopjn.com","affiliates.abebooks.com","www.pjatr.com","afsrc=1","hamty.cz/nakoupit","hamty.cz/nakoupit","hamty.cz/public/open/nlink"],_={"Content-Type":"application/json"},h=["en","es","pl","pt","ru","vi"],v="en",g={TOP_STORES_NUMBER:5,RECENT_STORES_NUMBER:4},O=12e4,b=1e4,T=3e4,C=9e4,I={API_URL:"https://pingapi.mallbery.com/api/ping",DELAY:3e5},w=432e6,S=7776e6,P=9e5,E={CHROME:"https://chrome.google.com/webstore/detail/".concat(chrome.runtime.id),FIREFOX:"https://addons.mozilla.org/firefox/addon/mallbery-cash-back-assistant/"}},45:function(t,e,n){var r=n(167);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,n(13).default)("6f521bb7",r,!0,{})},53:function(t){t.exports=JSON.parse('[{"group":"yandex.ru","patterns":[{"name":"afisha.yandex.ru"}]},{"group":"mail.ru","patterns":[{"name":"cb.mail.ru"},{"name":"la.mail.ru"},{"name":"mall.torg.mail.ru"}]},{"group":"nnnow.com","patterns":[{"name":"sephora.nnnow.com"}]},{"group":"aliexpress.com","patterns":[{"name":"tmall.aliexpress.com"},{"name":"aliexpress.com"}]}]')},54:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var s,r=n(11),i=n.n(r),a=n(0),u=n.n(a),o=n(7),c=n.n(o),l=n(9),p=n(49),d=n(1),f=n(4);l.default.use(p.a);var m=[];function _(t){return s.locale=t}function h(){return v.apply(this,arguments)}function v(){return(v=c()(u.a.mark(function t(){var e,n,r,a,o,c;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.h,Object(d.sendContentMessage)({action:"getI18nInitContext"});case 2:return n=t.sent,r=n.fallbackLang,a=n.lang,o=n.translations,c=n.fallbackTranslations,m.push(a),s=new p.a({locale:a,fallbackLocale:r,messages:(e={},i()(e,a,o),i()(e,r,c),e),silentTranslationWarn:!0}),t.abrupt("return",s);case 7:case"end":return t.stop()}},t)}))).apply(this,arguments)}function g(){return O.apply(this,arguments)}function O(){return(O=c()(u.a.mark(function t(n){var r;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(f.u.includes(n)){t.next=2;break}return t.abrupt("return",f.h);case 2:if(!s||s.locale===n){t.next=11;break}if(m.includes(n)){t.next=10;break}return t.next=6,e={lang:n}.lang,Object(d.sendContentMessage)({action:"getTranslation",data:{lang:e}});case 6:return r=t.sent,s.setLocaleMessage(n,r),m.push(n),t.abrupt("return",_(n));case 10:return t.abrupt("return",_(n));case 11:return t.abrupt("return",n);case 12:case"end":return t.stop()}var e},t)}))).apply(this,arguments)}chrome&&chrome.runtime&&chrome.runtime.onMessage.addListener(function(){var e=c()(u.a.mark(function t(e){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s&&"i18n.set.language.complete"===e.action)return t.next=3,g(e.data.lang);t.next=3;break;case 3:case"end":return t.stop()}},t)}));return function(t){return e.apply(this,arguments)}}())},596:function(t,e,n){"use strict";var r=n(124);n.n(r).a},597:function(t,e,n){},598:function(t,e,n){"use strict";var r=n(125);n.n(r).a},599:function(t,e,n){},6:function(t,e,n){"use strict";function o(t){return new RegExp("(?:(?:^https|^http):\\/\\/|)?(?:.*\\.)*(".concat(t.replace(/\./g,"\\."),")(\\/.*)*(\\?.*)?$"),"i")}var r=n(0),a=n.n(r),c=n(7),s=n.n(c),i=n(72),u=n.n(i),l=n(32),p=n.n(l),d=n(48),f=n.n(d),m=n(26),_=n.n(m),h=n(1),v=n(3),g=n(4),O=n(35),b=n.n(O),T=n(53),C=function(){var a=[];return b()(T,function(n){var r=n.trigger&&new RegExp(n.trigger,"i")||o(n.group);b()(n.patterns,function(t){var e={rx:t.rx&&new RegExp(t.rx,"i")||o(t.name),trigger:r,group:n.group,name:t.name};a.push(e)})}),a};n.d(e,"n",function(){return P}),n.d(e,"o",function(){return R}),n.d(e,"k",function(){return k}),n.d(e,"d",function(){return x}),n.d(e,"h",function(){return y}),n.d(e,"m",function(){return L}),n.d(e,"e",function(){return A}),n.d(e,"f",function(){return N}),n.d(e,"g",function(){return D}),n.d(e,"q",function(){return U}),n.d(e,"s",function(){return B}),n.d(e,"a",function(){return j}),n.d(e,"t",function(){return F}),n.d(e,"p",function(){return M}),n.d(e,"b",function(){return G}),n.d(e,"c",function(){return $}),n.d(e,"l",function(){return H}),n.d(e,"j",function(){return V}),n.d(e,"i",function(){return q}),n.d(e,"r",function(){return z});var I,w,S=void 0,P=function(){Object(h.sendContentMessage)({action:"openSettings",data:{url:g.n}}),S.sendAnalytics(v.b.SETTINGS,v.a.SETTINGS_OPEN)},E=C(),A=function(t){if(!t)return null;try{var e=function(t){var e=t.toLowerCase();/^https?:\/\/.*/i.test(e)||(e="https://".concat(e));var n=new URL(e),r=n.host,a=n.pathname;return a?r+a:r}(t),n=!0,r=!1,a=void 0;try{for(var o,c=E[Symbol.iterator]();!(n=(o=c.next()).done);n=!0){var s=o.value;if(s.trigger.test(e)){var i=s.rx.exec(e);if(i&&i[1])return i[1]}}}catch(t){r=!0,a=t}finally{try{n||null==c.return||c.return()}finally{if(r)throw a}}var u=/(?:^www\.)?(([\w-]+)(\.(\w{2,3}|xn--\w{4,6}))*(\.\w*)?)(\/.*)*(\?.*)?$/i.exec(e);return u?u[1]:null}catch(t){return null}},N=function(t){var e=new URL(t),n=e.search,r=e.searchParams,a={};return n.includes(";")?n.replace(/^\?/,"").split("&").flatMap(function(t){return t.split(";")}).filter(function(t){return t.includes("=")}).map(function(t){return t.split("=")}).forEach(function(t){var e=p()(t,2),n=e[0],r=e[1];a[n]=r}):_()(u()(r.keys()),function(t){a[t]=r.get(t)}),a},y=function(){return-1!==navigator.userAgent.indexOf("Chrome")?-1!==(navigator.userAgent.indexOf("Opera")&&navigator.userAgent.indexOf("OPR"))?"opera":-1!==navigator.userAgent.indexOf("YaBrowser")?"yabrowser":"chrome":-1!==navigator.userAgent.indexOf("Firefox")?"firefox":-1!==navigator.userAgent.indexOf("Safari")?"safari":null},R=function(t,e){var n=1<arguments.length&&void 0!==e?e:".",r=/(\d+)-(\d+)-(\d+)/.exec(t),a=r[1],o="0".concat(r[2]).slice(-2),c="0".concat(r[3]).slice(-2);return"".concat(c).concat(n).concat(o).concat(n).concat(a)},k=function(t){var e=0<arguments.length&&void 0!==t?t:Date.now();return(Date.now()-e)/36e5},x=function(t){var e=t.selector,n=t.parentNode,r=void 0===n?document.body:n,a=t.action,o=void 0===a?"append":a,c=document.createElement("div");c.className=e,c.style.setProperty("z-index","2147483647","important"),c.style.setProperty("text-transform","none","important"),e.includes("serp")||e.includes("bar")||e.includes("install")||(c.style.position="fixed"),"prepend"===o?r.prepend(c):r.append(c);var s=c.attachShadow({mode:"open"});return s.innerHTML='\n    <style>@import url("'.concat(chrome.extension.getURL("content/styles.css"),'");</style>\n    <div id="').concat(e,'" />'),s},L=function(t,e){var n=p()(t,2),r=n[0],a=n[1],o=1<arguments.length&&void 0!==e?e:["constructor"];return Object.getOwnPropertyNames(a.prototype).filter(function(t){return!o.includes(t)}).forEach(function(t){r.prototype[t]=a.prototype[t]}),r},U=function(t,e,n){var r=2<arguments.length&&void 0!==n?n:"";return Object(h.sendContentMessage)({data:{ec:t,ea:e,el:r},action:"sendAnalytics"})},j=function(){var e=s()(a.a.mark(function t(e){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(t){return setTimeout(function(){return t(!0)},e)}));case 1:case"end":return t.stop()}},t)}));return function(t){return e.apply(this,arguments)}}(),B=function(t){return new Promise(function(e){chrome.storage.local.set(t,function(t){e(t)})})},F=function(t){var r=t.action,a=t.data,o=t.excludedTabId;return Object(h.getAllTabs)().then(function(t){var e=[],n=f()(t,function(t){return t.id!==o});return _()(n,function(t){e.push(Object(h.sendBackgroundMessage)(t.id,{action:r,data:a}).catch())}),Promise.all(e)})},D=function(t){return parseFloat(t).toLocaleString("en",{maximumFractionDigits:2,minimumFractionDigits:2})},M=function(n){return new Promise(function(t,e){chrome.storage.local.remove(n,function(){chrome.runtime.lastError?e(new Error("Error in storage.remove: ".concat(chrome.runtime.lastError))):t()})})},G=function(){return I=I||new Promise(function(e){var n=setInterval(function(){I.isFulfilled||Object(h.sendContentMessage)({action:"ping"}).then(function(t){I.isFulfilled||"pong"!==t||(clearInterval(n),e())})},100)})},$=function(){return w=w||new Promise(function(e){var n=setInterval(function(){var t=document.readyState;w.isFulfilled||"complete"!==t&&"interactive"!==t||(clearInterval(n),e())},100)})},H=function(t){var n=0<arguments.length&&void 0!==t?t:{};return new Promise(function(e){chrome.tabs.query(n,function(t){return e(t)})})},V=function(t){var n=0<arguments.length&&void 0!==t?t:{};return new Promise(function(e){chrome.windows.getCurrent(n,function(t){return e(t)})})},q=function(r){return new Promise(function(e){var n=setInterval(s()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H({status:"loading"});case 2:t.sent.find(function(t){return 0===t.url.indexOf(r.url)})||(clearInterval(n),chrome.cookies.getAll(r,e));case 4:case"end":return t.stop()}},t)})),1e3)})},z=function(t){Object(h.sendContentMessage)({action:"updateMerchantSession",data:{merchantId:t,data:{activated:!0}}})}},600:function(t,e,n){"use strict";var r=n(126);n.n(r).a},601:function(t,e,n){},602:function(t,e,n){"use strict";var r=n(127);n.n(r).a},603:function(t,e,n){},604:function(t,e,n){"use strict";var r=n(128);n.n(r).a},605:function(t,e,n){},606:function(t,e,n){"use strict";var r=n(129);n.n(r).a},607:function(t,e,n){},608:function(t,e,n){"use strict";var r=n(130);n.n(r).a},609:function(t,e,n){},610:function(t,e,n){"use strict";var r=n(131);n.n(r).a},611:function(t,e,n){},612:function(t,e,n){"use strict";var r=n(132);n.n(r).a},613:function(t,e,n){},614:function(t,e,n){"use strict";var r=n(133);n.n(r).a},615:function(t,e,n){},616:function(t,e,n){"use strict";var r=n(134);n.n(r).a},617:function(t,e,n){},618:function(t,e,n){"use strict";n.r(e);var r=n(11),a=n.n(r),o=n(17),c=n.n(o),s=n(20),i=n.n(s),u=n(10),l=n.n(u),p=n(63),d=n.n(p),f=n(23),m=n.n(f),_=n(9),h=n(1),v=n(185),g=n.n(v),O=n(4),b=n(6),T=n(3),C={props:{merchant:Object},data:function(){return{URLS:O.x,HOME_PAGE:O.l,GA_ACTIONS:T.a}},methods:{openPage:function(t,e){Object(b.q)(T.b.POPUP,e,this.merchant?this.merchant.name:""),chrome.tabs.create({url:t}),window.close()},openSettings:function(){Object(b.q)(T.b.POPUP,T.a.POPUP_FOOTER_SETTINGS,this.merchant?this.merchant.name:"");try{chrome.runtime.openOptionsPage(),window.close()}catch(t){}}}},I=(n(596),n(8)),w=Object(I.a)(C,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"footer"},[n("div",{staticClass:"footer__item",on:{click:function(t){return e.openPage(e.HOME_PAGE,e.GA_ACTIONS.POPUP_FOOTER_HOME)}}},[n("i",{staticClass:"navigation__item material-icons navigation__item_current",attrs:{"data-tabname":"home"}},[e._v("home")])]),e._v(" "),n("div",{staticClass:"footer__item",on:{click:function(t){return e.openPage(e.URLS.ALL_STORES,e.GA_ACTIONS.POPUP_FOOTER_ALL_STORES)}}},[e._v("\n        "+e._s(e.$t("popup.footer.viewAll"))+"\n    ")]),e._v(" "),n("div",{staticClass:"footer__item",on:{click:e.openSettings}},[e._v("\n      "+e._s(e.$t("common.settings"))+"\n  ")])])},[],!1,null,"3cde9b48",null).exports,S=n(16),P={props:{value:String,maxLength:{type:Number,default:10},items:Array,name:{type:String,default:"name"},cashbackSource:String,filter:{type:Function,default:function(e){if(!e||!this.isFocused)return[];var t=this.items,n=this.name;return t.filter(function(t){return t[n].toLowerCase().includes(e)}).slice(0,this.maxLength)}},listClick:{type:Function,default:console.log},label:String},data:function(){return{isFocused:!1,listing:[1,2],filteredItems:[],searchValue:""}},methods:{typing:function(t){this.filteredItems=this.filter(t.target.value.toLowerCase())},blurInput:function(){var t=this;setTimeout(function(){t.isFocused=!1,t.searchValue=""},200)}}},E=(n(598),Object(I.a)(P,function(){var n=this,t=n.$createElement,r=n._self._c||t;return r("div",{staticClass:"v-input"},[r("div",{staticClass:"v-input__control"},[r("div",{staticClass:"v-input__slot"},[r("div",{staticClass:"v-select__slot"},[r("label",{class:"label"+(n.isFocused?"-active":""),staticStyle:{left:"0px",right:"auto",position:"absolute"},attrs:{"aria-hidden":"true"}},[n._v(n._s(n.label))]),n._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:n.searchValue,expression:"searchValue"}],attrs:{"aria-label":"value",type:"text",autocomplete:"off"},domProps:{value:n.searchValue},on:{focus:function(t){n.isFocused=!0},blur:n.blurInput,input:[function(t){t.target.composing||(n.searchValue=t.target.value)},n.typing]}})]),n._v(" "),n.filteredItems.length&&n.isFocused?r("div",{staticClass:"v-menu__content menuable__content__active v-autocomplete__content"},[r("div",{staticClass:"v-select-list v-card"},[r("div",{staticClass:"v-list v-list--dense",attrs:{role:"list"}},n._l(n.filteredItems,function(e,t){return r("div",{key:t,attrs:{role:"listitem"},on:{click:function(t){return n.listClick(e)}}},[r("a",{staticClass:"v-list__tile v-list__tile--link"},[r("div",{staticClass:"v-list__tile__content"},[r("div",{staticClass:"v-list__tile__title"},[n._v(n._s(e.name))]),n._v(" "),r("div",{staticClass:"v-list__tile__sub-title"},[n._v(n._s(e[n.cashbackSource]))])])])])}),0)])]):n._e()])])])},[],!1,null,"7ad76145",null).exports);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var N={props:{user:[String,Object],merchant:Object,state:Object,allMerchants:Array,darkTheme:Boolean,code:String},components:{cButton:S.a,VInput:E},data:function(){return{URLS:O.x,HOME_PAGE:O.l,GA_ACTIONS:T.a,isImgError:!0}},computed:{username:function(){return this.user?this.user.username:""},merchantsCopy:function(){var e=this;return this.allMerchants.map(function(t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach(function(t){a()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t,{formatedCashback:"".concat(e.$t("common.cpa.".concat(t.isUpTo?"upTo":"regular"),{cpa:t.cashback})," ").concat(e.$t("common.cashback"))})})}},methods:{activateMerchant:function(t){var n=t.url,r=t.merchantId,e=t.merchantName;Object(b.q)(T.b.POPUP,T.a.POPUP_ACTIVATE_CASHBACK_CLICK,e),this.user?(Object(h.sendContentMessage)({action:"activate",data:{url:n,merchantId:r,tab:"new",sa2:"ext_offerp_ac_elsebtn"}}),window.close()):Object(h.getActiveTab)().then(function(t){if(t){var e=t.id;Object(h.sendContentMessage)({action:"activate",data:{url:n,merchantId:r,tab:"new",showLogin:e,sa2:"ext_offerp_ac_elsebtn"}})}else Object(h.sendContentMessage)({action:"activate",data:{url:n,merchantId:r,tab:"new",sa2:"ext_offerp_ac_elsebtn"}});window.close()})},listClick:function(t){Object(b.q)(T.b.POPUP,T.a.POPUP_SEARCH_OFFER_CLICK,t.name),Object(h.sendContentMessage)({action:"activate",data:{url:t.activationUrl,merchantId:t.id,tab:"new_tab",sa2:"ext_anyp_search"}}),window.close()},openPage:function(t,e,n){var r=1<arguments.length&&void 0!==e?e:"",a=2<arguments.length&&void 0!==n?n:"";Object(b.q)(T.b.POPUP,r,a),chrome.tabs.create({url:t}),window.close()},imgLoad:function(){this.isImgError=!1},errHandler:function(){this.isImgError=!0}}},y=(n(600),n(27)),R=n.n(y),k=n(178),x=Object(I.a)(N,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header"},[n("div",[e.merchant?n("div",{staticClass:"header_logo__merchant"},[e._v("\n      "+e._s((!e.merchant.logo||e.isImgError)&&e.merchant.name||"")+"\n      "),e.merchant.logo?n("img",{directives:[{name:"show",rawName:"v-show",value:!e.isImgError,expression:"!isImgError"}],attrs:{src:e.merchant.logo},on:{load:e.imgLoad,error:e.errHandler}}):e._e()]):n("div",{staticClass:"header_logo__default",on:{click:function(t){return e.openPage(e.HOME_PAGE,e.GA_ACTIONS.POPUP_LOGO_CLICK)}}}),e._v(" "),e.merchant?n("div",{class:"header_merchant"+(e.state.activated&&e.user?"__activated":"")},[e.state.activated&&e.user?n("div",{staticClass:"header_merchant__cashback"},[e._v("\n        "+e._s(e.$t(e.merchant.isUpTo?"common.cpa.upTo":"common.cpa.regular",{cpa:e.merchant.cashback})+" "+e.$t("common.cashBackActivated"))+"\n      ")]):e._e(),e._v(" "),e.state.activated&&e.state.trip&&e.user?n("div",{staticClass:"header_merchant__trip",on:{click:function(t){return e.openPage(e.URLS.SHOPPING_TRIP,e.GA_ACTIONS.POPUP_SHOPPING_TRIP,e.merchant.name)}}},[e._v("\n        "+e._s(e.$t("popup.header.trip"))+": # "+e._s(e.state.trip)+"\n      ")]):e._e(),e._v(" "),!e.state.activated||!e.user&&e.merchant?n("cButton",{attrs:{text:e.$t("common.activate")+" "+e.$t(e.merchant.isUpTo?"common.cpa.upTo":"common.cpa.regular",{cpa:e.merchant.cashback})+" "+e.$t("common.cashback"),width:208,height:35},on:{action:function(t){return e.activateMerchant({url:e.merchant.activationUrl,merchantId:e.merchant.id,merchantName:e.merchant.name})}}}):e._e()],1):e._e(),e._v(" "),e.user&&!e.merchant?n("div",{staticClass:"header_status",on:{click:function(t){return e.openPage(e.URLS.PROFILE,e.GA_ACTIONS.POPUP_USER_INFO)}}},[n("span",{staticClass:"header_status__text"},[e._v(e._s(e.$t("popup.header.balance")))]),e._v(" "),n("span",{staticClass:"header_status__value"},[e._v(e._s(e.user.balance.formatted))])]):e._e()]),e._v(" "),n("div",{staticClass:"header__search"},[n("v-input",{attrs:{"hide-no-data":"",label:e.$t("popup.search.searchLabel"),dark:e.darkTheme,items:e.merchantsCopy,dense:"","allow-overflow":!1,maxLength:10,"item-text":"name",cashbackSource:"formatedCashback",listClick:e.listClick}}),e._v(" "),n("i",{staticClass:"material-icons search-icon",attrs:{"data-tabname":"search"}},[e._v("search")])],1)])},[],!1,null,null,null),L=x.exports;R()(x,{VInput:k.a});var U=n(361),j=n.n(U),B={props:{recent:Array},data:function(){for(var t={},e=0;e<this.recent.length;e++)t[e]={error:!1,loading:!0};return{storesState:t}},methods:{activateMerchant:function(t){var e=t.url,n=t.merchantId,r=t.merchantName;Object(b.q)(T.b.POPUP,T.a.POPUP_RECENT_OFFER_CLICK,r),Object(h.sendContentMessage)({action:"activate",data:{url:e,merchantId:n,tab:"new_tab"}}),window.close()},getErrorState:function(t){return this.storesState[t].error},getLoadingState:function(t){return this.storesState[t].loading},imgLoad:function(t){this.storesState[t].error=!1,this.storesState[t].loading=!1},errHandler:function(t){this.storesState[t].error=!0,this.storesState[t].loading=!1}}},F=(n(602),Object(I.a)(B,function(){var r=this,t=r.$createElement,a=r._self._c||t;return a("div",{staticClass:"recent"},[a("h2",[r._v(r._s(r.$t("popup.recentlyVisited.tittle")))]),r._v(" "),a("div",{staticClass:"recent-container"},r._l(r.recent,function(e,n){return a("div",{key:n,staticClass:"hover-shadow recent_card card",on:{click:function(t){return r.activateMerchant({url:e.activationUrl,merchantId:e.id,merchantName:e.name})}}},[a("div",{staticClass:"recent_card-logo"},[e.logo?a("img",{directives:[{name:"show",rawName:"v-show",value:!r.getErrorState(n)&&!r.getLoadingState(n),expression:"!getErrorState(index) && !getLoadingState(index)"}],attrs:{src:e.logo},on:{load:function(t){return r.imgLoad(n)},error:function(t){return r.errHandler(n)}}}):r._e(),r._v("\n        "+r._s(!e.logo||r.getErrorState(n)||r.getLoadingState(n)?e.name:"")+"\n      ")]),r._v(" "),a("div",{staticClass:"recent_card-text"},[r._v("\n        "+r._s(r.$t(e.isUpTo?"common.cpa.upTo":"common.cpa.regular",{cpa:e.cashback})+" "+r.$t("common.cashback"))+"\n      ")])])}),0)])},[],!1,null,"6dc92889",null).exports),D=n(55),M={props:{topStores:Array},components:{cButton:S.a,VBtn:D.a},methods:{activate:function(t){var e=t.url,n=t.merchantId,r=t.merchantName;Object(b.q)(T.b.POPUP,T.a.POPUP_TOP_OFFER_CLICK,r),Object(h.sendContentMessage)({action:"activate",data:{url:e,merchantId:n,tab:"new_tab",sa2:"ext_anyp_top"}}),window.close()}}},G=(n(604),n(179)),$=Object(I.a)(M,function(){var n=this,t=n.$createElement,r=n._self._c||t;return r("div",{staticClass:"top-stores"},[r("h2",[n._v(n._s(n.$t("popup.topStores.tittle")))]),n._v(" "),r("div",{staticClass:"top-stores_container"},n._l(n.topStores,function(e,t){return r("div",{key:t,staticClass:"hover-shadow top-store card"},[r("div",{staticClass:"top-store_logo",style:{backgroundImage:"url("+e.logo+")"}}),n._v(" "),r("div",{staticClass:"top-store_value"},[n._v("\n        "+n._s(n.$t(e.isUpTo?"common.cpa.upTo":"common.cpa.regular",{cpa:e.cashback})+" "+n.$t("common.cashback"))+"\n      ")]),n._v(" "),r("v-btn",{staticClass:"md-button md-raised md-primary",on:{click:function(t){return n.activate({url:e.activationUrl,merchantId:e.id,merchantName:e.name})}}},[n._v("\n        "+n._s(n.$t("popup.offerCard.shopNow"))+"\n      ")])],1)}),0)])},[],!1,null,"b8f9050a",null),H=$.exports;R()($,{VBtn:G.a});var V={props:{isTopStore:Boolean,coupon:Object,activeCoupon:String,merchant:Object},components:{cButton:S.a,VBtn:D.a},methods:{activate:function(t){var e=t.url,n=t.merchantId,r=t.sa2,a=this.merchant?this.merchant.name:chrome.extension.getBackgroundPage().cashback.merchants.getById(n).name;Object(b.q)(T.b.POPUP,T.a.POPUP_TOP_DEAL_CLICK,a),Object(h.sendContentMessage)({action:"activate",data:{url:e,merchantId:n,tab:"new_tab",sa2:r}}),window.close()},copyCode:function(t,e){this.$emit("activateCode",this.coupon.id);var n=this.merchant?this.merchant.name:chrome.extension.getBackgroundPage().cashback.merchants.getById(e).name;Object(b.q)(T.b.POPUP,T.a.POPUP_TOP_DEAL_COUPON_COPY,n),this.$copyText(t)}}},q=(n(606),Object(I.a)(V,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:"hover-shadow offer "+(e.isTopStore?"offer__top":"")+" card"},[n("div",{staticClass:"offer_header"},[e.isTopStore&&e.coupon.image?n("div",{style:{backgroundImage:"url("+e.coupon.image+")"}}):e._e(),e._v("\n    "+e._s(e.coupon.name||e.coupon.description)+"\n  ")]),e._v(" "),n("div",{staticClass:"offer_footer"},[n("span",{staticClass:"offer_expiration"},[n("i",{staticClass:"material-icons"},[e._v("schedule")]),e._v(" "+e._s(e.$t("popup.couponCard.exp"))+" "+e._s(e.coupon.valid)+"\n    ")]),e._v(" "),e.coupon.code?n("span",{class:"code"+(e.activeCoupon===e.coupon.id?" code__active":""),attrs:{title:e.$t("popup.couponCard.clickToCopy")},on:{click:function(t){return e.copyCode(e.coupon.code,e.coupon.merchantId||e.coupon.retailerId)}}},[e._v("\n      "+e._s(e.coupon.code)+"\n    ")]):e._e(),e._v(" "),n("v-btn",{staticClass:"md-button md-raised md-primary",on:{click:function(t){return e.activate({url:e.coupon.url,merchantId:e.coupon.merchantId||e.coupon.retailerId,sa2:e.coupon.code?"ext_offerp_coupon-btn":"ext_offerp_getdeal-btn"})}}},[e._v("\n      "+e._s(e.$t("popup.couponCard."+(e.coupon.code?"useCoupon":"getDeal")))+"\n    ")])],1)])},[],!1,null,"f96f855c",null)),z=q.exports;R()(q,{VBtn:G.a});var K={props:{coupons:Array,isTopStore:Boolean},components:{cButton:S.a,offer:z},methods:{activateCode:function(t){this.activeCoupon=t}},data:function(){return{activeCoupon:""}}},X=(n(608),Object(I.a)(K,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"top-deals"},[n("h2",[e._v(e._s(e.$t("popup.deals.tittle")))]),e._v(" "),n("div",{staticClass:"top-deals_container"},e._l(e.coupons,function(t){return n("offer",{key:t.id,attrs:{coupon:t,isTopStore:!0,activeCoupon:e.activeCoupon},on:{activateCode:e.activateCode}})}),1)])},[],!1,null,"db5e6d84",null).exports),J={props:{allMerchants:Array,state:Object,currentCoupons:Array,user:[String,Object,Array],merchant:Object,recent:Array,topStores:Array,topCoupons:Array,url:String},components:{Recent:F,TopStores:H,TopDeals:X,vueCustomScrollbar:j.a,offer:z},methods:{getFile:function(t){return chrome.extension.getURL(t)},activateCode:function(t){this.activeCoupon=t}},mounted:function(){var e=this;this.merchant&&Object(h.sendContentMessage)({action:"getMerchant",data:{url:this.url}}).then(function(t){e.coupons=t.coupons||[]})},data:function(){return{activeCoupon:"",coupons:this.currentCoupons?this.currentCoupons:[]}}},Y=(n(610),Object(I.a)(J,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"popup-body"},[e.merchant?n("vue-custom-scrollbar",{staticClass:"scroll-area"},[e.coupons.length?n("div",{staticClass:"offers"},e._l(e.coupons,function(t){return n("offer",{key:t.id,attrs:{coupon:t,activeCoupon:e.activeCoupon,merchant:e.merchant},on:{activateCode:e.activateCode}})}),1):n("div",{staticClass:"offers__placeholder"},[n("div",{staticClass:"offers_title"},[e._v(e._s(e.$t("popup.couponCard.noCoupons")))]),e._v(" "),n("img",{attrs:{src:e.getFile("./images/noCoupons.png"),draggable:!1}})])]):n("vue-custom-scrollbar",{staticClass:"scroll-area"},[n("Recent",{directives:[{name:"show",rawName:"v-show",value:e.recent.length,expression:"recent.length"}],attrs:{recent:e.recent}}),e._v(" "),n("TopStores",{directives:[{name:"show",rawName:"v-show",value:e.topStores.length,expression:"topStores.length"}],attrs:{topStores:e.topStores}}),e._v(" "),e.coupons.length?n("TopDeals",{attrs:{coupons:e.coupons}}):e._e()],1)],1)},[],!1,null,null,null).exports),W={props:{user:[String,Object],merchant:Object,state:Object,allMerchants:Array,recent:Array,topStores:Array,coupons:Array,isDark:Boolean,url:String},components:{Footer:w,Header:L,Body:Y}},Q=(n(612),Object(I.a)(W,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:"theme--"+(t.isDark?"dark":"light")},[n("Header",{attrs:{user:t.user,state:t.state,merchant:t.merchant,allMerchants:t.allMerchants,darkTheme:t.isDark}}),t._v(" "),n("Body",{attrs:{state:t.state,user:t.user,merchant:t.merchant,allMerchants:t.allMerchants,recent:t.recent,topStores:t.topStores,currentCoupons:t.coupons,url:t.url}}),t._v(" "),n("Footer",{attrs:{merchant:t.merchant}})],1)},[],!1,null,null,null).exports),Z={props:{darkTheme:Boolean,merchant:Object,isPopup:Boolean},components:{cButton:S.a},methods:{sendAnswer:function(t){Object(h.sendContentMessage)({action:t}),this.isPopup&&this.$emit("updateView")},openPrivacy:function(){Object(b.q)(T.b.AUTH,T.a.AUTH_GO_PRIVACY,this.merchant.name||"")}}},tt=(n(614),Object(I.a)(Z,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"slider",class:{slider_dark:e.darkTheme,"slider__popup-view":e.isPopup}},[n("div",{staticClass:"slider__logo",class:{slider__logo_dark:e.darkTheme}}),e._v(" "),n("div",{staticClass:"slider__image"}),e._v(" "),n("div",{staticClass:"slider__message"},[n("div",{staticClass:"slider__message_title",class:{slider__message_dark:e.darkTheme}},[e._v("\n        "+e._s(e.$t("popup.agreement.title"))+"\n      ")]),e._v(" "),n("div",{staticClass:"slider__message_description",class:{slider__message_dark:e.darkTheme}},[e._v("\n        "+e._s(e.$t("popup.agreement.description"))+"\n      ")])]),e._v(" "),n("div",{staticClass:"slider__buttons"},[n("c-button",{attrs:{text:e.$t("popup.agreement.disagreeBtn"),width:128,height:32,bgColor:"#fff",borderColor:"#03a9f4",fontColor:"#03a9f4"},on:{action:function(t){return e.sendAnswer("cancelRules")}}}),e._v(" "),n("c-button",{attrs:{text:e.$t("popup.agreement.agreeBtn"),width:128,height:32},on:{action:function(t){return e.sendAnswer("acceptRules")}}})],1),e._v(" "),n("div",{staticClass:"slider__footer",class:{slider__footer_dark:e.darkTheme}},[e._v("\n      "+e._s(e.$t("popup.agreement.footer"))+"\n    ")])])])},[],!1,null,"8e3b392c",null).exports),et={props:{user:[String,Object],merchant:Object,state:Object,coupons:Array,allMerchants:Array,recent:Array,topStores:Array,isDark:Boolean,url:String,showAgreement:Boolean,browser:String},data:function(){return{showMain:!1}},computed:{needAgreement:function(){return"firefox"!==this.browser&&"yabrowser"!==this.browser&&!!chrome.management.getAll}},components:{Popup:Q,Agreement:tt}},nt=(n(616),Object(I.a)(et,function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.showAgreement&&!e.showMain&&e.needAgreement?n("Agreement",{attrs:{isPopup:!0},on:{updateView:function(t){e.showMain=!0}}}):n("Popup",{attrs:{user:e.user,state:e.state,merchant:e.merchant,coupons:e.coupons,allMerchants:e.allMerchants,recent:e.recent,topStores:e.topStores,isDark:e.isDark,url:e.url}})},[],!1,null,"10634bd3",null).exports),rt=n(54);function at(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}g.a.config.autoSetContainer=!0,_.default.use(g.a);function ot(n){var e=this;c()(this,ot),this.bg=n.bg,n.merchant&&n.merchant.isPopup?this.coupons=n.merchant.coupons:this.coupons=l()(this.bg.topCoupons,"data",[]).map(function(e){var t=n.bg.merchants.data.find(function(t){return t.id===e.retailerId});return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(Object(n),!0).forEach(function(t){a()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{image:e.image||(t?t.logo:void 0),merchantId:e.merchantId||e.retailerId,isPopup:t.isPopup})}).filter(function(t){return t.isPopup});var r=n.bg.merchants.data.filter(function(t){return t.isTopStore&&t.isPopup}).slice(0,O.p.TOP_STORES_NUMBER);Object(rt.a)().then(function(t){e.popup=new _.default({i18n:t,el:"#popup",render:function(t){return t(nt,{props:{allMerchants:e.bg.merchants.data.filter(function(t){return t.isPopup}),coupons:e.coupons,state:n.state,merchant:n.merchant,isDark:n.isDark,url:n.currentUrl||"",recent:e.bg.formatRecentMerchants(O.p.RECENT_STORES_NUMBER).filter(function(t){return t.isPopup}).reverse(),topStores:r,user:null!==e.bg.userInfo?e.bg.userInfo.data:"",showAgreement:e.bg.settings.showAgreement,browser:e.bg.browser}})}})})}!function t(){var o=chrome.extension.getBackgroundPage().cashback;o&&o.merchants&&o.merchants.data&&0!==o.merchants.data.length&&o.fallbackTranslations?Object(h.getActiveTab)().then(function(t){var e=o.isDark(),n=o.merchants.getByUrl(t.url),r=n&&m()(o.merchants.states,function(t){return t.id===n.id}),a=r&&r.activated&&m()(o.sessionsStore.sessions,function(t){return t.merchantId===n.id});n&&n.isPopup?window.popup=new ot({bg:o,merchant:i()({},n),isDark:e,currentUrl:t.url,state:r&&r.activated?d()(r,{trip:a&&a.shoppingTrip?a.shoppingTrip.toString().replace(/(^\d{3})(\d{3}$)/,"$1-$2"):""}):r}):window.popup=new ot({bg:o,isDark:e,merchant:void 0,state:void 0})}):setTimeout(function(){t()},100)}()}});
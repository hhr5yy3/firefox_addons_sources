(()=>{var V=Object.defineProperty;var l=(o,a)=>V(o,"name",{value:a,configurable:!0});globalThis.Okta={};Okta.fn={};Okta.Page={};Okta.Config={};Okta.Modal={Mixins:{},Views:{}};Okta.loc={strings:{}};Okta.window=globalThis;Okta.Config={enabledLogging:!1,allowOktaHttp:!1,buildType:"prodBuild",startrecordingLogs:!1,onboardingLaunchNewTab:!0,NTEFlag:!1,allowLocalHostOrServer:!1};Okta.WindowUtil=function(o){let a={};return o&&(a.setTimeout=function(u,c){return o.setTimeout(u,c)},a.setInterval=function(u,c){return o.setInterval(u,c)}),a}(Okta.window);var C={};C.debounce=function(o,a,u){let c,n,r,s,e,t=l(function(){if(!Okta)return;let i=Date.now()-s;i<a&&i>=0?c=Okta.WindowUtil.setTimeout(t,a-i):(c=null,u||(e=o.apply(r,n),c||(r=n=null)))},"later");return function(){if(!Okta)return;r=this,n=arguments,s=Date.now();let i=u&&!c;return c||(c=Okta.WindowUtil.setTimeout(t,a)),i&&(e=o.apply(r,n),r=n=null),e}};Okta._okta=C;globalThis.Log=function(o){let a="Preload script: ",u=o;if(typeof window<"u"){let n=["debug","info","warn","error"];window.console||(window.console={}),window.console.log||(window.console.log=function(){});for(let r=0;r<n.length;++r)window.console[n[r]]||(window.console[n[r]]=window.console.log)}function c(n){return function(){!u||!n||(arguments.length&&(arguments[0]=a+arguments[0]),n.apply(console,arguments))}}return l(c,"log"),{debug:c(console.debug),info:c(console.log),warn:c(console.warn),error:c(console.error),enableLogging:l(function(n){u=n},"enableLogging")}}(Okta.Config.enabledLogging);(function(){let o=Okta.fn.url={},a=["cloudareanet.com","clouditude.com","hioktane.com","lowoktane.com","openalloy.com","okta.com","okta1.com","okta-emea.com","oktapreview.com","perfcloud.org","primeapp.com","trexcloud.com","widerock.com","okta.ninja","okta.mil","okta-miltest.com","okta-gov.com","trex-gov.com"],u=["/app/UserHome","/plugin/bookmark","/home/plugin","/enduser/app-settings"],c="/plugin/servePopover";function n(s){if(!s)return;let e=s.split(".");if(!(e.length<2))return e[e.length-2]+"."+e[e.length-1]}l(n,"getHostRoot");function r(s,e){return s===e||s.indexOf(e+"/")===0}l(r,"isUrlPathStartsWith"),o.isOktaPage=function(s){if(Okta.Config&&Okta.Config.allowLocalHostOrServer&&s==="localhost")return!0;let e=n(s);if(!e)return!1;for(let t=0;t<a.length;++t)if(a[t]===e)return!0;return!1},o.isCustomDomain=function(s,e){if(!e)return!1;let t=s.protocol+"//"+s.hostname;return e===t||e.indexOf(t+":")===0},o.isPotentialCustomDomain=function(s){for(let e=0;e<u.length;++e)if(r(s,u[e]))return!0;return r(s,c)}})();(function(){let o=Okta.fn.checks={},a="DBG_PLUGIN_SETTINGS",u=String.fromCharCode.apply(null,[79,75,84,65,95,65,67,67,79,85,78,84,95,87,72,73,84,69,95,76,73,83,84]);o.chainChecks=function(n,r){if(!n||!n.length)return;let s=n.shift();s.fn&&s.fn(function(e){if(e){Log.info(s.name+" - starting content script."),r&&r();return}Log.info(s.name+" - skipped."),o.chainChecks(n,r)})},o.checkMessage=function(n,r,s){return function(e){n.postMessage(r,function(t){e&&e(s(t))})}},o.getCurrentAccountIndex=function(n){if(!Array.isArray(n))return-1;let r=n.find(function(s){return s.isCurrentAccount});return r?r.index:-1};function c(n){return new Promise(function(r,s){chrome.storage.local.get(n,function(e){chrome.runtime.lastError?s(chrome.runtime.lastError.message):r(e)})})}l(c,"storageGetP"),o.getAccStorageByKeys=function(n){return c([a,u]).then(function(r){let s=r[a];if(!s||!s.multiAccountAwarePlugin)return n;let e=r[u],t=o.getCurrentAccountIndex(e);return t>-1?n.map(function(i){return i+"_"+t}):n}).then(function(r){return c(r).then(function(s){return r.map(function(e){return s[e]})})})},o.checkFunction=function(n){return function(r){r&&r(n())}},o.hasFormSitesOnTop=function(n){if(window.self!=window.top){n(!1);return}return o.getAccStorageByKeys(["PLUGIN_SETTINGS","FORM_SITES_NO_PW"]).then(function(e){let t=e[0]?e[0]:{},i=e[1]?e[1]:[];if(!(t&&t.orgSettings&&t.orgSettings.pluginEnhancedHeuristicsEnabled)||!Array.isArray(i)){n(!1);return}let g=i.find(function(p){return new RegExp(p.urlRegex).test(document.URL)});n(!!g)}).catch(function(){n(!1)})}})();l(function(){let a=Okta.fn.visibilityCheck={},u=9,c=1,n=1;function r(t,i){let f=t.ownerDocument.defaultView;return(!f||!f.opener)&&(f=window),f.getComputedStyle(t).getPropertyValue(i)}l(r,"getStyle");function s(t){return t.left+window.scrollX>=0&&t.top+window.screenY>=0}l(s,"isInDocument");function e(t){for(;t&&t.nodeType!==u;){if(t.nodeType===c&&r(t,"z-index")<0)return!0;t=t.parentNode}return!1}l(e,"hasNegativeZIndex"),a.isVisibleInForm=function(t){return a.isVisibleInPage(t)&&!e(t)},a.isVisibleInPage=function(t){let i=t.getBoundingClientRect();return s(i)&&r(t,"visibility")!="hidden"&&i.width>n&&i.height>n}},"FnVisibilityCheck")();(function(){let o=Okta.fn.dom={},u=Okta._okta.debounce,c=2e3,n=1e3,r=10*1e3,s=3e3,e=500,t=8*1e3;o.getTimedNotification=function(){let i={},f=0;return i.startMonitoring=function(g){f&&i.stopMonitoring(),f=setInterval(g,c)},i.stopMonitoring=function(){f&&(clearInterval(f),f=0)},i},o.setTimedNotificationInterval=function(i){c=i},o.setMutationObserverNotificationInterval=function(i){n=i},o.getMutationObserver=function(i){let f={},g={attributes:!0,childList:!0,subtree:!0,attributeFilter:["class","style"],attributeOldValue:!1,characterDataOldValue:!1},p=new MutationObserver(N),w=0,E=u(b,n),d=o.getTimedNotification(),_=0,h=0,T=0;function b(){f.onChange&&f.onChange(),w=Date.now()}l(b,"notifyChange");function N(S,O){if(!f.onChange)return;let I=Date.now();if(I-T>e?(T=I,h=S.length):h+=S.length,h>s){Log.info("Too many mutation events, fallback to timer for 8 seconds"),O.disconnect(),d.startMonitoring(b),_=setTimeout(function(){O.observe(i,g),h=0,T=Date.now(),d.stopMonitoring()},t);return}if(I-w>r){b();return}E()}return l(N,"observerCallback"),f.startMonitoring=function(S){f.onChange=S,p.observe(i,g);let O=Date.now();return w=O,h=0,T=O,p},f.stopMonitoring=function(){p.disconnect(),_&&clearTimeout(_),f.onChange=null},f},o.getDomObserver=function(i){return typeof window.MutationObserver=="function"?o.getMutationObserver(i):o.getTimedNotification()}})();(function(){let o=Okta.fn.scan={},a=/^password$/i,u=20,c=25;function n(t){let i=t.getAttribute("type");return(i==="text"||i==="email"||i==="tel")&&Okta.fn.visibilityCheck.isVisibleInForm(t)}l(n,"isUsername");function r(t){return t.getAttribute("type")==="password"||a.test(t.getAttribute("id"))||a.test(t.getAttribute("placeholder"))}l(r,"isPassword");function s(t,i){let f=t.getElementsByTagName(i);if(f.length>u)return Log.info("Too many inputs. Assuming there is a username tag."),!0;for(let g=0;g<f.length;++g)if(n(f[g]))return!0;return!1}l(s,"hasUsernameByTag");function e(t,i){let f=t.getElementsByTagName(i);if(f.length>u)return Log.info("Too many inputs. Assuming there is a password tag."),!0;for(let g=0;g<f.length;++g)if(r(f[g]))return!0;return!1}l(e,"hasPasswordByTag"),o.onDomUpdate=function(t,i){(o.searchPasswordField(document)||o.searchUsernameField(document))&&(t.stopMonitoring(),i(!0))},o.searchUsernameField=function(t){return t.forms.length>c?(Log.info("Too many forms. Assuming there is a username tag."),!0):s(t,"input")},o.searchPasswordField=function(t){return t.forms.length>c?(Log.info("Too many forms. Assuming there is a password tag."),!0):e(t,"input")||e(t,"textarea")},o.startObserver=function(t,i){Log.info("Starting observer"),t.startMonitoring(function(){o.onDomUpdate(t,i)}),o.onDomUpdate(t,i)}})();Okta.Port=function(o){if(!o.runtime)throw new Error("Failed to initialize port. No runtime property found on WebExtension object.");let a={},u={},c=o.runtime.connect();return c.onMessage.addListener(function(n){(!n.id||u[n.id]==="undefined")&&Log.info("Unknown message: "+JSON.stringify(n)),u[n.id]&&u[n.id](n),delete u[n.id]}),a.postMessage=function(n,r){if(u[n.id]=r||null,!c.isDisconnected)try{c.postMessage(n)}catch(s){Log.warn(s)}},a.disconnect=function(){c.disconnect()},c.onDisconnect.addListener(function(){c.isDisconnected=!0}),a};l(function(){let a=Okta.Port(chrome),u=Okta.fn.url.isOktaPage,c=Okta.fn.url.isCustomDomain,n=Okta.fn.url.isPotentialCustomDomain,r=Okta.fn.scan.startObserver,s=Okta.fn.dom.getDomObserver,e=Okta.fn.checks.chainChecks,t=Okta.fn.checks.checkMessage,i=Okta.fn.checks.checkFunction,f=Okta.fn.checks.hasFormSitesOnTop,g=!1;function p(){g||(g=!0,Okta=void 0,a.postMessage({type:"injectContentScript",id:"inject"},function(){a.disconnect()}),Log.info("<-------------------------------------------------------->"))}l(p,"triggerInjectOnce");function w(m){let k=m.data;return k&&c(window.location,k.customDomain)}l(w,"onDomains");function E(m){let k=!1;if(m.data){let P=m.data;k=P&&P.loggingEnabled}return Log.enableLogging(k),Log.info(window.location.href),!1}l(E,"onDbgSettings");function d(m){return m.data?!!JSON.parse(m.data).val:!1}l(d,"onResponseHasValue");let _={type:"getSessionTabState",id:"savePassword",data:{key:"PROMPT_SAVE_PASSWORD"}},h={type:"getSessionTabState",id:"currentFastIdPApp",data:{key:"CURRENT_FAST_IDP_APP"}},T={type:"getSessionTabState",id:"siteFlow",data:{key:"CURRENT_FLOW"}},b={type:"getSessionTabState",id:"oinSubmissionTester",data:{key:"OIN_SUBMISSION_TESTER"}},N={type:"getSessionTabState",id:"selfServiceSite",data:{key:"CURRENT_SELF_SERVICE_APP_CREDENTIALS"}},S={type:"getPersistentState",id:"domains",data:{key:"DOMAINS"}},O={type:"getPersistentState",id:"dbgPluginSettings",data:{key:"DBG_PLUGIN_SETTINGS"}},I={type:"shouldInjectThrushFutureContentScript",id:"shouldInjectThrushFutureContentScript",data:{}},y=i(function(){return u(window.location.hostname)}),A=i(function(){return n(window.location.pathname)}),M=l(function(m){r(s(document),m)},"startScanning"),L=t(a,_,d),D=t(a,h,d),F=t(a,T,d),U=t(a,N,d),v=t(a,S,w),R=t(a,O,E),G=t(a,b,d),x=t(a,I,d);e([{name:"Set logging",fn:R},{name:"Okta page",fn:y},{name:"Potential custom page",fn:A},{name:"Save password",fn:L},{name:"Fast IdP app",fn:D},{name:"Site flow",fn:F},{name:"OIN Submission Tester page",fn:G},{name:"Self service site",fn:U},{name:"Custom okta page",fn:v},{name:"Form Sites No PW",fn:f},{name:"Thrush Future",fn:x},{name:"Dom observer",fn:M}],p)},"StartContentScriptIIFE")();})();
//! BuildVersion: devBuildNumber-bc06b9cb
//! ContentScriptVersion: 73.122.0

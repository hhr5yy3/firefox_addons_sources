!function(){var e=[function(e){"use strict";e.exports={installPage:{configured:".twofas-install-page-configured",newDevice:".twofas-install-page-new-device",welcomeHeader:"h1.twofas-js-welcome-header",container:{app:".twofas-install-page-container-blocks-app",qr:".twofas-install-page-container-blocks-qr",handler:".js-twofas-install-handler"},qr:{timeout:".twofas-qr-container-timeout",regenerate:".js-twofas-regenerate-qr",imgs:"img.twofas-js-qrcode",manual:".twofas-js-qr-manual p"}},optionsPage:{confirmModal:{element:".js-twofas-confirm-modal",cancel:".js-twofas-confirm-modal-cancel",confirm:".js-twofas-confirm-modal-confirm",header:".js-twofas-confirm-modal-header",text:".js-twofas-confirm-modal-text"},domainModal:{element:".js-twofas-domain-modal",cancel:".js-twofas-domain-modal-cancel",form:".js-twofas-domain-modal-form",input:".js-twofas-domain-modal-input",validation:".js-twofas-domain-modal-validation"},shortcut:{edit:".js-twofas-shortcut-edit",editText:".js-twofas-shortcut-edit-text",editBox:".js-twofas-shortcut-edit-box",editBoxBtn:".twofas-shortcut-edit-box-btn",editBoxPlus:".twofas-shortcut-edit-box-plus",info:".js-twofas-shortcut-info",tooltip:".js-twofas-shortcut-tooltip",close:".js-twofas-shortcut-close",description:".js-twofas-shortcut-description"},advanced:{header:".js-twofas-advance-header",content:".js-twofas-advance-content"},pin:{gotIt:".js-twofas-pin-info-got-it",prev:".js-twofas-pin-info-prev",next:".js-twofas-pin-info-next",info:".twofas-options-page-pin-info",slider:".js-twofas-pin-info-slider"},hamburger:{element:".js-twofas-options-menu-hamburger",content:".js-twofas-options-menu-content"},autoSubmit:{toggle:"input#twofas-auto-submit-switch",list:".js-twofas-auto-submit-excluded-domain-list",exclude:".js-twofas-auto-submit-excluded-domain-exclude",add:".js-twofas-auto-submit-excluded-domain-add",importDefault:".js-twofas-auto-submit-excluded-domain-import-default"},menuLink:".js-twofas-menu-link",extVersion:"span.twofas-ext-version",contextMenuInput:"input#twofas-context-menu",logsInput:"input#twofas-logs",testNotification:".js-twofas-send-test-notification",devicesList:".js-twofas-device-list",content:".js-twofas-options-content",toggle:".twofas-toggle",safariReset:".js-twofas-safari-reset",integrityError:".js-twofas-integrity-error"},notification:{container:"div.twofas-be-notifications",notification:"div.twofas-be-notification",visible:"div.twofas-be-notification.visible"},extName:{input:"input.js-twofas-extension-name",updateForm:".js-twofas-extension-name-update",updateBtn:".js-twofas-extension-name-update button",error:".js-twofas-extension-name-error"},preload:".preload"}},function(e,t){var s,n,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[e],s=function(e){"use strict";if(!(globalThis.chrome&&globalThis.chrome.runtime&&globalThis.chrome.runtime.id))throw new Error("This script should only be loaded in a browser extension.");if(globalThis.browser&&globalThis.browser.runtime&&globalThis.browser.runtime.id)e.exports=globalThis.browser;else{const t="The message port closed before a response was received.",s=e=>{const s={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(s).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class n extends WeakMap{constructor(e,t=void 0){super(t),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}const i=e=>e&&"object"==typeof e&&"function"==typeof e.then,o=(t,s)=>(...n)=>{e.runtime.lastError?t.reject(new Error(e.runtime.lastError.message)):s.singleCallbackArg||n.length<=1&&!1!==s.singleCallbackArg?t.resolve(n[0]):t.resolve(n)},r=e=>1==e?"argument":"arguments",a=(e,t)=>function(s,...n){if(n.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${r(t.minArgs)} for ${e}(), got ${n.length}`);if(n.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${r(t.maxArgs)} for ${e}(), got ${n.length}`);return new Promise(((i,r)=>{if(t.fallbackToNoCallback)try{s[e](...n,o({resolve:i,reject:r},t))}catch(o){console.warn(`${e} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,o),s[e](...n),t.fallbackToNoCallback=!1,t.noCallback=!0,i()}else t.noCallback?(s[e](...n),i()):s[e](...n,o({resolve:i,reject:r},t))}))},c=(e,t,s)=>new Proxy(t,{apply(t,n,i){return s.call(n,e,...i)}});let l=Function.call.bind(Object.prototype.hasOwnProperty);const d=(e,t={},s={})=>{let n=Object.create(null),i={has(t,s){return s in e||s in n},get(i,o,r){if(o in n)return n[o];if(!(o in e))return;let u=e[o];if("function"==typeof u)if("function"==typeof t[o])u=c(e,e[o],t[o]);else if(l(s,o)){let t=a(o,s[o]);u=c(e,e[o],t)}else u=u.bind(e);else if("object"==typeof u&&null!==u&&(l(t,o)||l(s,o)))u=d(u,t[o],s[o]);else{if(!l(s,"*"))return Object.defineProperty(n,o,{configurable:!0,enumerable:!0,get(){return e[o]},set(t){e[o]=t}}),u;u=d(u,t[o],s["*"])}return n[o]=u,u},set(t,s,i,o){return s in n?n[s]=i:e[s]=i,!0},defineProperty(e,t,s){return Reflect.defineProperty(n,t,s)},deleteProperty(e,t){return Reflect.deleteProperty(n,t)}},o=Object.create(e);return new Proxy(o,i)},u=e=>({addListener(t,s,...n){t.addListener(e.get(s),...n)},hasListener(t,s){return t.hasListener(e.get(s))},removeListener(t,s){t.removeListener(e.get(s))}}),h=new n((e=>"function"!=typeof e?e:function(t){const s=d(t,{},{getContent:{minArgs:0,maxArgs:0}});e(s)})),g=new n((e=>"function"!=typeof e?e:function(t,s,n){let o,r,a=!1,c=new Promise((e=>{o=function(t){a=!0,e(t)}}));try{r=e(t,s,o)}catch(e){r=Promise.reject(e)}const l=!0!==r&&i(r);if(!0!==r&&!l&&!a)return!1;const d=e=>{e.then((e=>{n(e)}),(e=>{let t;t=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",n({__mozWebExtensionPolyfillReject__:!0,message:t})})).catch((e=>{console.error("Failed to send onMessage rejected reply",e)}))};return d(l?r:c),!0})),m=({reject:s,resolve:n},i)=>{e.runtime.lastError?e.runtime.lastError.message===t?n():s(new Error(e.runtime.lastError.message)):i&&i.__mozWebExtensionPolyfillReject__?s(new Error(i.message)):n(i)},p=(e,t,s,...n)=>{if(n.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${r(t.minArgs)} for ${e}(), got ${n.length}`);if(n.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${r(t.maxArgs)} for ${e}(), got ${n.length}`);return new Promise(((e,t)=>{const i=m.bind(null,{resolve:e,reject:t});n.push(i),s.sendMessage(...n)}))},f={devtools:{network:{onRequestFinished:u(h)}},runtime:{onMessage:u(g),onMessageExternal:u(g),sendMessage:p.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:p.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},v={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return s.privacy={network:{"*":v},services:{"*":v},websites:{"*":v}},d(e,f,s)};e.exports=s(chrome)}},void 0===(i="function"==typeof s?s.apply(t,n):s)||(e.exports=i)},function(e,t,s){"use strict";const n=s(1),i=s(121),o={WebSocketTimeout:3,ResendPushTimeout:10,ExtensionVersion:"1.7.3",Texts:{Error:{General:{Title:n.i18n.getMessage("errorGeneralTitle")||i.errorGeneralTitle,Message:n.i18n.getMessage("errorGeneralMessage")||i.errorGeneralMessage},UndefinedError:{Title:n.i18n.getMessage("errorUndefinedErrorTitle")||i.errorUndefinedErrorTitle,Message:n.i18n.getMessage("errorUndefinedErrorMessage")||i.errorUndefinedErrorMessage},Timeout:{Title:n.i18n.getMessage("errorTimeoutTitle")||i.errorTimeoutTitle,Message:n.i18n.getMessage("errorTimeoutMessage")||i.errorTimeoutMessage},PushExpired:e=>({Title:(n.i18n.getMessage("errorPushExpiredTitle")||i.errorPushExpiredTitle).replace("DOMAIN",e),Message:n.i18n.getMessage("errorPushExpiredMessage")||i.errorPushExpiredMessage}),WebSocket:{Title:n.i18n.getMessage("errorWebSocketTitle")||i.errorWebSocketTitle,Message:n.i18n.getMessage("errorWebSocketMessage")||i.errorWebSocketMessage},OnInstallError:{Title:n.i18n.getMessage("errorOnInstallErrorTitle")||i.errorOnInstallErrorTitle,Message:n.i18n.getMessage("errorOnInstallErrorMessage")||i.errorOnInstallErrorMessage},ExtNameRequired:{Title:n.i18n.getMessage("errorExtNameRequiredTitle")||i.errorExtNameRequiredTitle,Message:n.i18n.getMessage("errorExtNameRequiredMessage")||i.errorExtNameRequiredMessage},ExtNameMinLength:{Title:n.i18n.getMessage("errorExtNameMinLengthTitle")||i.errorExtNameMinLengthTitle,Message:n.i18n.getMessage("errorExtNameMinLengthMessage")||i.errorExtNameMinLengthMessage},ExtNameMaxLength:{Title:n.i18n.getMessage("errorExtNameMaxLengthTitle")||i.errorExtNameMaxLengthTitle,Message:n.i18n.getMessage("errorExtNameMaxLengthMessage")||i.errorExtNameMaxLengthMessage},ConfigFirst:{Title:n.i18n.getMessage("errorConfigFirstTitle")||i.errorConfigFirstTitle,Message:n.i18n.getMessage("errorConfigFirstMessage")||i.errorConfigFirstMessage},RemoveDeviceBadData:{Title:n.i18n.getMessage("errorRemoveDeviceBadDataTitle")||i.errorRemoveDeviceBadDataTitle,Message:n.i18n.getMessage("errorRemoveDeviceBadDataMessage")||i.errorRemoveDeviceBadDataMessage},RemoveDomainBadData:{Title:n.i18n.getMessage("errorRemoveDomainBadDataTitle")||i.errorRemoveDomainBadDataTitle,Message:n.i18n.getMessage("errorRemoveDomainBadDataMessage")||i.errorRemoveDomainBadDataMessage},StorageCorrupted:{Title:n.i18n.getMessage("errorStorageCorruptedTitle")||i.errorStorageCorruptedTitle,Message:n.i18n.getMessage("errorStorageCorruptedMessage")||i.errorStorageCorruptedMessage},InactiveTab:{Title:n.i18n.getMessage("errorInactiveTabTitle")||i.errorInactiveTabTitle,Message:n.i18n.getMessage("errorInactiveTabMessage")||i.errorInactiveTabMessage},LackOfTab:{Title:n.i18n.getMessage("errorLackOfTabTitle")||i.errorLackOfTabTitle,Message:n.i18n.getMessage("errorLackOfTabMessage")||i.errorLackOfTabMessage},InputNotExist:{Title:n.i18n.getMessage("errorInputNotExistTitle")||i.errorInputNotExistTitle,Message:n.i18n.getMessage("errorInputNotExistMessage")||i.errorInputNotExistMessage},StorageIntegrity:{Title:n.i18n.getMessage("errorStorageIntegrityTitle")||i.errorStorageIntegrityTitle,Message:n.i18n.getMessage("errorStorageIntegrityMessage")||i.errorStorageIntegrityMessage}},Warning:{TooSoon:e=>({Title:n.i18n.getMessage("warningTooSoonTitle")||i.warningTooSoonTitle,Message:(n.i18n.getMessage("warningTooSoonMessage")||i.warningTooSoonMessage).replace("DIFF",10-Math.round(e))})},Success:{PushSent:{Title:n.i18n.getMessage("successPushSentTitle")||i.successPushSentTitle,Message:n.i18n.getMessage("successPushSentMessage")||i.successPushSentMessage},PushSentClipboard:{Title:n.i18n.getMessage("successPushSentClipboardTitle")||i.successPushSentClipboardTitle,Message:n.i18n.getMessage("successPushSentClipboardMessage")||i.successPushSentClipboardMessage},ExtNameUpdated:{Title:n.i18n.getMessage("successExtNameUpdatedTitle")||i.successExtNameUpdatedTitle,Message:n.i18n.getMessage("successExtNameUpdatedMessage")||i.successExtNameUpdatedMessage},DeviceDisconnected:{Title:n.i18n.getMessage("successDeviceDisconnectedTitle")||i.successDeviceDisconnectedTitle,Message:n.i18n.getMessage("successDeviceDisconnectedMessage")||i.successDeviceDisconnectedMessage},SafariReset:{Title:n.i18n.getMessage("successSafariResetTitle")||i.successSafariResetTitle,Message:n.i18n.getMessage("successSafariResetMessage")||i.successSafariResetMessage},DomainExcluded:{Title:n.i18n.getMessage("successDomainExcludedTitle")||i.successDomainExcludedTitle,Message:n.i18n.getMessage("successDomainExcludedMessage")||i.successDomainExcludedMessage},DomainExcludedRemoved:{Title:n.i18n.getMessage("successDomainExcludedRemovedTitle")||i.successDomainExcludedRemovedTitle,Message:n.i18n.getMessage("successDomainExcludedRemovedMessage")||i.successDomainExcludedRemovedMessage}},Info:{NativeNotifications:{Title:n.i18n.getMessage("infoNativeNotificationsTitle")||i.infoNativeNotificationsTitle,Message:n.i18n.getMessage("infoNativeNotificationsMessage")||i.infoNativeNotificationsMessage},EnabledNativeNotifications:n.i18n.getMessage("infoEnabledNativeNotifications")||i.infoEnabledNativeNotifications,UnsupportedProtocol:{Title:n.i18n.getMessage("infoUnsupportedProtocolTitle")||i.infoUnsupportedProtocolTitle,Message:n.i18n.getMessage("infoUnsupportedProtocolMessage")||i.infoUnsupportedProtocolMessage},BrowserActionWithoutTab:{Title:n.i18n.getMessage("infoBrowserActionWithoutTabTitle")||i.infoBrowserActionWithoutTabTitle,Message:n.i18n.getMessage("infoBrowserActionWithoutTabMessage")||i.infoBrowserActionWithoutTabMessage},CopiedToClipboard:{Title:n.i18n.getMessage("infoCopiedToClipboardTitle")||i.infoCopiedToClipboardTitle,Message:n.i18n.getMessage("infoCopiedToClipboardMessage")||i.infoCopiedToClipboardMessage},Test:{Title:n.i18n.getMessage("infoTestTitle")||i.infoTestTitle,Message:n.i18n.getMessage("infoTestMessage")||i.infoTestMessage}},Token:{Header:n.i18n.getMessage("tokenHeader")||i.tokenHeader,Copy:n.i18n.getMessage("tokenCopy")||i.tokenCopy,Copied:n.i18n.getMessage("tokenCopied")||i.tokenCopied,Description:n.i18n.getMessage("tokenDescription")||i.tokenDescription}}};e.exports=o},function(e,t,s){"use strict";const{sendFrontEndPushAction:n,showFrontEndPush:i,showNativePush:o,showNativePushWithoutTimeout:r}=s(122),a=s(8),c=s(0);e.exports=class{static show(e){let t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,s=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];return a(["nativePush"]).then((r=>r.nativePush?o(e,s):t?n(e,t,!0):i(e,!0)))}static showWithoutTimeout(e){let t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return a(["nativePush"]).then((s=>s.nativePush?r(e):t?n(e,t,!1):i(e,!1)))}static clearAll(){const e=document.querySelector(c.notification.container).querySelectorAll(c.notification.notification);if(e)return Array.from(e).forEach((e=>{e.classList.remove("visible"),setTimeout((()=>{e.classList.add("hidden")}),300)}))}}},function(e,t,s){"use strict";t.loadFromLocalStorage=s(8),t.saveToLocalStorage=s(6),t.clearLocalStorage=s(34),t.removeFromLocalStorage=s(81)},function(e,t,s){"use strict";const{loadFromLocalStorage:n,saveToLocalStorage:i}=s(4),o=s(2),r=s(11),a=e=>e.replaceAll("http","h**p").replaceAll("://",":**").replaceAll("www","w*w").replaceAll(".","*");e.exports=async function(e){let t,s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,c=2<arguments.length?arguments[2]:void 0,l=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"",d="Unknown Error",u={logID:s};switch(console.error(s,l),console.dir(c),!0){case c instanceof Event:d="EventError",u.errorInfo={currentTargetURL:c?.currentTarget?.url||"",path:c?.path||[],type:c?.type||""};break;case c instanceof Error:case c instanceof SyntaxError:case c instanceof ReferenceError:case c instanceof TypeError:d=c.name||"Error",u.errorInfo={message:c?.message||"",stack:c?.stack||"",toString:c?.toString()||"",cause:c?.cause||""};break;default:d=c?.message||"Unknown Error",u.errorInfo=c}try{t=await n(["logging","extensionID","browserInfo"])}catch(e){console.error(e)}if("logging"in t||(t=await i({logging:!1},t)),!t.logging)return!1;if("Firefox"===t?.browserInfo?.browser_name&&"105.0"===t?.browserInfo?.browser_version&&14===s||"Chrome"===t?.browserInfo?.browser_name&&"107"===t?.browserInfo?.browser_version&&14===s||"Chrome"===t?.browserInfo?.browser_name&&"107.0.0.0"===t?.browserInfo?.browser_version&&14===s||u?.errorInfo?.message?.includes("FILE_ERROR_NO_SPACE")||407===u?.errorInfo.status||u?.errorInfo?.message?.includes("An unexpected error occurred")||u?.errorInfo?.message?.includes("Refused to run the JavaScript URL")||u?.errorInfo?.message?.includes("QuotaExceededError: storage.local API call exceeded its quota limitations")||u?.errorInfo?.statusText?.includes("Proxy Authentication Required"))return!1;if(u.errorType=c?.constructor?.name||"",u.extensionVersion=o.ExtensionVersion,u.browserInfo=t.browserInfo,u.url=a(l),!l.includes("http")&&"undefined"!=typeof window&&window?.location?.href)try{u.frontUrl=a(window?.location?.href)}catch(e){}return(new r).storeLog(t.extensionID,e,d,u).then((()=>{t=null,d=null,u=null}))}},function(e,t,s){"use strict";const n=s(1);e.exports=function(e){let t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return n.storage.local.set(e).then((()=>Object.assign(t,e))).catch((e=>{throw console.error({err:e}),new Error(e)}))}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.unsafeStringify=a;var n,i=(n=s(23))&&n.__esModule?n:{default:n};for(var o=[],r=0;r<256;++r)o.push((r+256).toString(16).slice(1));function a(e,t=0){return(o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]).toLowerCase()}t.default=function(e,t=0){var s=a(e,t);if(!(0,i.default)(s))throw TypeError("Stringified UUID is invalid");return s}},function(e,t,s){"use strict";const n=s(1);e.exports=e=>n.storage.local.get(e).catch((e=>{throw console.error({err:e}),new Error(e)}))},function(e,t,s){"use strict";t.createElement=s(76),t.createImageElement=s(77),t.createSVGElement=s(78),t.createTextElement=s(16)},function(e){"use strict";e.exports=()=>window.location!==window.parent.location},function(e){"use strict";e.exports=class{REST_API_URL="https://api2.2fas.com";onSuccess(e){if(200<=e.status&&400>e.status)try{return e.json()}catch(e){return Promise.reject(e)}return Promise.reject(e)}async onError(e){const t={status:e.status,statusText:e.statusText};if(400<=e.status&&500>e.status)try{t.content=await e.json()}catch(s){t.content=e}else t.content=e;return Promise.reject(t)}ignoreError(){return Promise.resolve()}createExtensionInstance(e){return fetch(`${this.REST_API_URL}/browser_extensions`,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(e)}).then(this.onSuccess).catch(this.onError)}updateBrowserExtension(e,t){return fetch(`${this.REST_API_URL}/browser_extensions/${e}`,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"PUT",body:JSON.stringify(t)}).then(this.onSuccess).catch(this.onError)}getAllPairedDevices(e){return fetch(`${this.REST_API_URL}/browser_extensions/${e}/devices`,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"GET"}).then(this.onSuccess).catch(this.onError)}removePairedDevice(e,t){return fetch(`${this.REST_API_URL}/browser_extensions/${e}/devices/${t}`,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"DELETE"}).then(this.onSuccess).catch(this.onError)}request2FAToken(e,t){return fetch(`${this.REST_API_URL}/browser_extensions/${e}/commands/request_2fa_token`,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({domain:t})}).then(this.onSuccess).catch(this.onError)}close2FARequest(e,t){const s={status:!(2<arguments.length&&void 0!==arguments[2])||arguments[2]?"completed":"terminated"};return fetch(`${this.REST_API_URL}/browser_extensions/${e}/2fa_requests/${t}/commands/close_2fa_request`,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(s)}).then(this.onSuccess).catch(this.ignoreError)}storeLog(e,t,s,n){return t&&["info","warning","error","debug"].includes(t)?fetch(`${this.REST_API_URL}/browser_extensions/${e}/commands/store_log`,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({level:t,message:s,context:JSON.stringify(n)})}).then(this.onSuccess).catch(this.ignoreError):Promise.reject(new Error("Invalid log level"))}generateQRLink(e){return`twofas_c://${e}`}}},function(e){"use strict";e.exports=()=>["search","buscar","zoeken","rechercher","suchen","pencarian","cerca","szukaj","procurar","ara","пошук","close","fechar","sluiten","fermer","schließen","tutup","chiudi","zamknij","cerrar","kapat","закрити","join","meedoen","rejoindre","verbinden","bergabung","giuntura","dołącz","juntar","unirse","katılmak","приєднатися","back","rug","dos","zurück","kembali","indietro","wróć","cofnij","voltar","atrás","geri","назад","cancel","cancelar","annuleren","annuler","abbrechen","membatalkan","annulla","anuluj","i̇ptal","відміна","register","registre","registrieren","daftar","registrati","zarejestruj","rejestracja","registro","kayıt olmak","зареєструватися","sign up","aanmelden","s'inscrire","mendaftar","iscrizione","inscrever-se","inscribirse","üye olmak"]},function(e){"use strict";e.exports=(e,t)=>new Promise((s=>{setTimeout((()=>(e(),s())),t)}))},function(e,t,s){"use strict";const n=s(0);e.exports=()=>{const e=document.querySelector(n.optionsPage.domainModal.element),t=document.querySelector(n.optionsPage.domainModal.input),s=document.querySelector(n.optionsPage.domainModal.validation);e.classList.add("hidden"),t.value="",s.innerText=""}},function(e,t,s){"use strict";const n=s(0);e.exports=function(e,t){let s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;const i=document.querySelector(n.optionsPage.confirmModal.element),o=document.querySelector(n.optionsPage.confirmModal.header),r=document.querySelector(n.optionsPage.confirmModal.text);if(o.textContent=e,r.textContent=t,i.classList.remove("hidden"),"function"==typeof s){const e=document.querySelector(n.optionsPage.confirmModal.confirm),t=e.cloneNode(!0);e.parentNode.replaceChild(t,e),t.addEventListener("click",(()=>{s(),i.classList.add("hidden")}))}}},function(e){"use strict";e.exports=function(e,t){let s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";const n=document.createElement(e);n.className=s;const i=document.createTextNode(t);return n.appendChild(i),n}},function(e){"use strict";e.exports=["confirm","send","sign in","verify code","verify","submit","potwierdź","wyślij","zaloguj","zweryfikuj","zweryfikuj kod","weryfikuj","confirme","enviar","entrar na sua conta","verificar código","verificar","bevestig","versturen","inloggen","verifiëren code","verifiëren","confirmer","envoyer","connecter","vérifier code","vérifier","bestätige","senden","anmelden","überprüfen code","konfirmasi","kirim","masuk","verifikasi kode","conferma","invia","accedi","verifica codice","confirma","enviar","entrar","verificar código","confirma","enviar","ingresar","verificar código","onaylayın","gönder","oturum aç","doğrula kodu","підтвердьте","надіслати","увійти","підтвердьте код","next","volgende","suivant","nächster","επόμενος","berikutnya","prossimo","następny","dalej","próximo","siguiente","sonraki","наступний","next step","volgende stap","prochaine étape","nächster Schritt","επόμενο βήμα","langkah selanjutnya","prossimo passo","następny krok","próximo passo","siguiente paso","sonraki adım","наступний крок"]},function(e,t,s){"use strict";const n=s(19);e.exports=()=>{let e=['button[type="submit"]','input[type="submit"]'];const t=[];return e=e.map((e=>e+n().join(""))),0>=t.length?e.join(","):e.join(",")+","+t.join(",")}},function(e){"use strict";e.exports=()=>[':not([data-role*="search"])',":not(#search-button)",":not(#search)",':not([class*="dropdown"])',':not([class*="cancel"])',':not([class*="hidden"])',':not([class*="checkbox"])',':not([class*="mail"])',':not([class*="phone"])',":not([disabled])",':not([style*="display:none"])',':not([style*="opacity:0"])',':not([style*="visibility:hidden"])',':not([class*="twofas"])',":not(#terminate_session_submit)",":not(#signin-button)"]},function(e,t,s){"use strict";const n=s(19);e.exports=()=>{let e=['button[id*="submit"]',"button.q-btn.q-btn-primary",'button[type="button"][form="login-form"]#login-button.btn.btn-large.btn-primary.btn-icon-text','button[data-action="totp-submit"]','input[type="submit"][data-action="totp-submit"]','input[type="button"][data-action="totp-submit"]','div[role="button"][syno-id="otp-panel-next-btn"]','button[data-e2e="btn-mfa-verfiy"]',"button.mfa-verify-button"];const t=["a#loginButton.btn.btn-primary"];return e=e.map((e=>e+n().join(""))),0>=t.length?e.join(","):e.join(",")+","+t.join(",")}},function(e){"use strict";e.exports=e=>{e.notification.classList.remove("visible"),setTimeout((()=>{e.notification.classList.add("hidden"),e=null}),300)}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=s(23))&&n.__esModule?n:{default:n};t.default=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");var t,s=new Uint8Array(16);return s[0]=(t=parseInt(e.slice(0,8),16))>>>24,s[1]=t>>>16&255,s[2]=t>>>8&255,s[3]=255&t,s[4]=(t=parseInt(e.slice(9,13),16))>>>8,s[5]=255&t,s[6]=(t=parseInt(e.slice(14,18),16))>>>8,s[7]=255&t,s[8]=(t=parseInt(e.slice(19,23),16))>>>8,s[9]=255&t,s[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,s[11]=t/4294967296&255,s[12]=t>>>24&255,s[13]=t>>>16&255,s[14]=t>>>8&255,s[15]=255&t,s}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=s(127))&&n.__esModule?n:{default:n};t.default=function(e){return"string"==typeof e&&i.default.test(e)}},function(e,t,s){"use strict";const n=s(0);e.exports=()=>{const e=document.querySelector(n.optionsPage.confirmModal.element),t=document.querySelector(n.optionsPage.confirmModal.header),s=document.querySelector(n.optionsPage.confirmModal.text);e.classList.add("hidden"),setTimeout((()=>{t.textContent="",s.textContent=""}),201)}},function(e,t,s){"use strict";const n=s(1),{createElement:i,createSVGElement:o,createTextElement:r}=s(9),a=s(53),c=s(0),l=s(142),d=s(54);e.exports=e=>{e||(e=[]);const t=document.createElement("tbody");t.classList.add("js-twofas-auto-submit-excluded-domain-list");const s=document.querySelector(c.optionsPage.autoSubmit.list);s.parentNode.replaceChild(t,s);const u=t;0===e.length&&a(u),e.map((e=>{let t={tr:null,td:[null,null],domain:null,button:null,svg:null};return t.tr=i("tr"),t.tr.dataset.domain=e,t.td[0]=i("td"),t.td[0].setAttribute("data-before-i18n",n.i18n.getMessage("domain")),t.domain=r("span",e),t.td[0].appendChild(t.domain),t.tr.appendChild(t.td[0]),t.td[1]=i("td"),t.td[1].setAttribute("data-before-i18n",n.i18n.getMessage("optionsRemoveFromExcluded")),t.button=i("button"),t.button.dataset.domain=e,t.button.addEventListener("click",d),t.svg=o(l),t.button.appendChild(t.svg),t.td[1].appendChild(t.button),t.tr.appendChild(t.td[1]),u.appendChild(t.tr),t=null,e}))}},function(e,t,s){"use strict";const n=s(1),{createElement:i,createTextElement:o}=s(9);e.exports=e=>{let t={tr:null,td:null,noDevice:null};t.tr=i("tr"),t.td=i("td"),t.td.setAttribute("colspan","4"),t.noDevice=o("p",n.i18n.getMessage("noPairedDevices")),t.td.appendChild(t.noDevice),t.tr.appendChild(t.td),e.appendChild(t.tr),t=null}},function(e,t,s){"use strict";const n=s(24);e.exports=e=>{Array.from(e.target.classList).includes("js-twofas-confirm-modal")&&n()}},function(e,t,s){"use strict";const n=s(1);e.exports=()=>{let e=document.querySelectorAll("[data-i18n]");e.forEach((e=>{let t=e.localName.toLowerCase(),s=e.getAttribute("data-i18n"),i=n.i18n.getMessage(s);return i?("img"===t?e.setAttribute("alt",i):"input"===t?e.setAttribute("placeholder",i):e.innerText=i,t=null,s=null,void(i=null)):(console.log(`i18n: ${s} not found`),!1)})),e=null}},function(e,t,s){"use strict";const n=s(10),{createElement:i,createSVGElement:o,createTextElement:r}=s(9),a=s(30),c=s(0);e.exports=e=>{if(n())return!1;let t={container:document.querySelector(c.notification.container),notification:null,firstCol:null,logo:null,secondCol:null,header:null,h3:null,notificationText:null,p:null};t.container||(t.container=i("div","twofas-be-notifications"),window.top.document.body.appendChild(t.container)),t.notification=i("div","twofas-be-notification"),t.firstCol=i("div","twofas-be-col"),t.logo=o(a),t.firstCol.appendChild(t.logo),t.notification.appendChild(t.firstCol),t.secondCol=i("div","twofas-be-col"),t.header=i("div","twofas-be-notification-header"),t.h3=r("h3",e.title),t.header.appendChild(t.h3),t.secondCol.appendChild(t.header),t.notificationText=i("div","twofas-be-notification-text"),t.p=r("p",e.message),t.notificationText.appendChild(t.p),t.secondCol.appendChild(t.notificationText),t.notification.appendChild(t.secondCol),t.container.appendChild(t.notification),setTimeout((()=>t.notification.classList.add("visible")),300),window.addEventListener("beforeunload",(()=>{t&&t.notification&&t.notification.classList.remove("visible"),setTimeout((()=>{t&&t.notification&&(t.notification.classList.add("hidden"),t=null)}),300)})),e.timeout&&(setTimeout((()=>{t&&t.notification&&t.notification.classList.remove("visible")}),5300),setTimeout((()=>{t&&t.notification&&(t.notification.classList.add("hidden"),t=null)}),5600))}},function(e){"use strict";e.exports='<svg width="28" height="34" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M23.064 28.05 15.179 33.3a1.873 1.873 0 0 1-2.068.01L5.036 28.04C1.89 25.983 0 22.512 0 18.783V6.015c0-1.67 1.14-3.135 2.768-3.57L10.153.497a15.14 15.14 0 0 1 7.694 0l7.385 1.948A3.699 3.699 0 0 1 28 6.015v12.837c.01 3.69-1.849 7.13-4.936 9.198Z" fill="#E20613"/><path d="M20.535 11.256H7.465c-1.03 0-1.869-.83-1.869-1.85 0-1.018.84-1.849 1.869-1.849h13.07c1.03 0 1.87.83 1.87 1.85a1.85 1.85 0 0 1-1.87 1.849ZM14 14.955c0-1.019-.84-1.85-1.868-1.85H7.465c-1.03 0-1.869.831-1.869 1.85 0 1.018.84 1.849 1.869 1.849h4.667c1.039 0 1.868-.83 1.868-1.85Zm-4.666 5.548c0-1.019-.84-1.85-1.87-1.85-1.028 0-1.868.831-1.868 1.85 0 1.018.84 1.85 1.869 1.85 1.04 0 1.869-.832 1.869-1.85Z" fill="#fff"/></svg>'},function(e,t,s){"use strict";const{notification:n,showNotificationInfo:i}=s(123);e.exports=e=>{if(!e||!e.action)return{status:"error"};switch(e.action){case"notification":return n(e);case"notificationInfo":return i();default:return{status:"error"}}}},function(e){"use strict";e.exports=e=>{let t=0;return Array.isArray(e)&&!(0>=e?.length)&&void e.map((e=>!e?.dataset?.twofasElementNumber&&(e.dataset.twofasElementNumber=t,t++,e)))}},function(e,t,s){"use strict";const{loadFromLocalStorage:n,saveToLocalStorage:i}=s(4);e.exports=(e,t)=>(e&&"function"==typeof e?.removeAttribute&&e.removeAttribute("data-twofas-input"),n([`tabData-${t}`]).then((e=>!(e[`tabData-${t}`]&&e[`tabData-${t}`].lastFocusedInput)||(delete e[`tabData-${t}`].lastFocusedInput,i({[`tabData-${t}`]:e[`tabData-${t}`]})))).catch((()=>{})))},function(e,t,s){"use strict";const n=s(1);e.exports=()=>n.storage.local.clear().catch((e=>{throw console.error({err:e}),new Error(e)}))},function(e){"use strict";e.exports=()=>{Array.from(document.querySelectorAll("*[data-twofas-element-number]")).forEach((e=>{"function"==typeof e?.removeAttribute&&e.removeAttribute("data-twofas-element-number")}))}},function(e,t,s){"use strict";const n=s(37),i=s(8),o=s(5),r=s(13),a=s(12);e.exports=(e,t)=>r((()=>{}),500).then((()=>i(["autoSubmitExcludedDomains","autoSubmitEnabled"]))).then((s=>{if(!s?.autoSubmitEnabled)return!1;const i=s.autoSubmitExcludedDomains||[];let o,r;try{if(o=new URL(t),r=o.hostname.replace(/^(www\.)?/,"").replace(/\/$/,""),i&&i?.includes(r))return!1}catch(e){}const c=parseInt(e?.dataset?.twofasElementNumber||-999),l=n(),d=e.closest("form");if(0===l.length)return!1;if(d){const e=Array.from(d.querySelectorAll('button[type="submit"], input[type="submit"]'));if(e&&1===e.length){const t=e[0]?.innerText;if(t&&"function"==typeof t.trim&&"function"==typeof t.toLowerCase&&!a().includes(t.trim().toLowerCase()))try{e[0].click()}catch(e){}else try{e[0].click()}catch(e){}return!0}}const u=[];l.forEach((e=>{u.push(parseInt(e?.dataset?.twofasElementNumber||-999))}));const h=l[((e,t)=>e.indexOf(e.reduce(((e,s)=>{const n=Math.abs(e-t),i=Math.abs(s-t);return n===i?e>s?e:s:i<n?s:e}))))(u,c)];if(h)try{h.click()}catch(e){}})).catch((async e=>{await o("error",46,e,"clickSubmit")}))},function(e,t,s){"use strict";const n=s(17),i=s(12),o=s(18),r=s(20);e.exports=()=>{let e=Array.from(document.querySelectorAll(o()));if(0>=e.length&&(e=Array.from(document.querySelectorAll(r()))),0>=e.length){e=Array.from(document.querySelectorAll('input[type="button"],button')).filter((e=>{const t=e?.innerText;return!(t&&"function"==typeof t.trim&&"function"==typeof t.toLowerCase)||n.includes(t.trim().toLowerCase())}))}return e.filter((e=>{const t=e?.innerText;return!(t&&"function"==typeof t.trim&&"function"==typeof t.toLowerCase&&i().includes(e.innerText.trim().toLowerCase()))}))}},function(e,t){"use strict";var s;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!s&&!(s="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return s(n)};var n=new Uint8Array(16)},function(e,t,s){"use strict";const n=s(17),i=s(12);e.exports=()=>{const e=s(40)();let t=s(18)(),o=!1,r=document.querySelectorAll(t).length;0>=r&&(t=s(20)()),r=document.querySelectorAll(t).length,0>=r&&(t="button",o=!0);const a=e.concat(",",t);let c=Array.from(document.querySelectorAll(a));return o&&(c=c.filter((e=>{if("input"===e.nodeName.toLowerCase())return!0;if("button"===e.nodeName.toLowerCase()){const t=e?.innerText;return!(t&&"function"==typeof t.trim&&"function"==typeof t.toLowerCase)||n.includes(t.trim().toLowerCase())}return!1}))),c.filter((e=>{const t=e?.innerText;return!(t&&"function"==typeof t.trim&&"function"==typeof t.toLowerCase&&i().includes(t.trim().toLowerCase()))}))}},function(e){"use strict";e.exports=()=>'input[type="text"]:not(read-only):not(readonly):not([read-only]):not([readonly]):not(list):not(-moz-read-only):not(disabled):not([disabled]):not([role="button"]):not([role="submit"]):not([data-e2e="input-username"]):not([data-e2e="input-password"]):not([data-e2e="input-search-language"]):not([id="vendor-search-handler"]):not([name="vendor-search-handler"]):not([id="username"]):not([name="username"]):not([placeholder="Search"]),input[type="number"]:not(read-only):not(readonly):not([read-only]):not([readonly]):not(list):not(-moz-read-only):not(disabled):not([disabled]):not([role="button"]):not([role="submit"]):not([data-e2e="input-username"]):not([data-e2e="input-password"]):not([data-e2e="input-search-language"]):not([id="vendor-search-handler"]):not([name="vendor-search-handler"]):not([id="username"]):not([name="username"]):not([placeholder="Search"]),input[type="tel"]:not(read-only):not(readonly):not([read-only]):not([readonly]):not(list):not(-moz-read-only):not(disabled):not([disabled]):not([role="button"]):not([role="submit"]):not([data-e2e="input-username"]):not([data-e2e="input-password"]):not([data-e2e="input-search-language"]):not([id="vendor-search-handler"]):not([name="vendor-search-handler"]):not([id="username"]):not([name="username"]):not([placeholder="Search"]),input:not([type]):not(read-only):not(readonly):not([read-only]):not([readonly]):not(list):not(-moz-read-only):not(disabled):not([disabled]):not([role="button"]):not([role="submit"]):not([data-e2e="input-username"]):not([data-e2e="input-password"]):not([data-e2e="input-search-language"]):not([id="vendor-search-handler"]):not([name="vendor-search-handler"]):not([id="username"]):not([name="username"]):not([placeholder="Search"]),input[type="password"]#security-code,input#mfacode,input[type="password"]#challenge,input[type="password"]#otp,textarea:not([type="hidden"]):not(read-only):not(readonly):not([read-only]):not([readonly]):not(-moz-read-only):not(disabled):not([disabled])'},function(e,t,s){"use strict";const n=s(1),i=s(5),o=s(13);e.exports=()=>n.runtime.sendMessage({action:"getTabData"}).catch((e=>e&&"function"==typeof e?.toString?"Error: Could not establish connection. Receiving end does not exist."===e.toString()?o((()=>n.runtime.sendMessage({action:"getTabData"}).catch((e=>i("error",14,e,"getTabData - second try")))),100):i("error",14,e,"getTabData - toString"):i("error",14,e,"getTabData - no error")))},function(e,t,s){"use strict";const n=s(43);e.exports=async(e,t)=>{for(const s of e)await s(),await n(t)}},function(e){"use strict";e.exports=async e=>new Promise((t=>setTimeout(t,e)))},function(e,t,s){"use strict";const n=s(2),i=s(21),o=s(6),r=s(5),a=s(3);e.exports=e=>o({notifications:!0}).then((()=>i(e))).catch((async e=>(await r("error",18,e),a.show(n.Texts.Error.UndefinedError))))},function(e,t,s){"use strict";const n=s(1);e.exports=e=>{e&&("function"==typeof e.preventDefault&&e.preventDefault(),"function"==typeof e.stopPropagation&&e.stopPropagation());n.runtime.connect({name:"2FAS"}).postMessage({action:"openBrowserPage",url:n.runtime.getURL("/optionsPage/optionsPage.html")})}},function(e,t,s){"use strict";const n=s(2),i=s(11),o=s(3),r=s(5),a=s(6),c=s(0);let l=!1;e.exports=(e,t)=>{t.preventDefault(),t.stopPropagation(),l&&clearTimeout(l);const s=document.querySelector(c.extName.updateBtn);s.setAttribute("disabled","disabled");const d=document.querySelector(c.extName.error);d.classList.remove("error","success");const u=document.querySelector(c.extName.input);u.value=u.value.trim();const h=new FormData(t.target).get("ext-name");if(!h||0>=h.length)return s.removeAttribute("disabled"),d.classList.add("error"),d.innerText=`${n.Texts.Error.ExtNameRequired.Title}. ${n.Texts.Error.ExtNameRequired.Message}`,!1;if(3>h.length)return s.removeAttribute("disabled"),d.classList.add("error"),d.innerText=`${n.Texts.Error.ExtNameMinLength.Title}. ${n.Texts.Error.ExtNameMinLength.Message}`,!1;if(32<h.length)return s.removeAttribute("disabled"),d.classList.add("error"),d.innerText=`${n.Texts.Error.ExtNameMaxLength.Title}. ${n.Texts.Error.ExtNameMaxLength.Message}`,!1;const g=e.browserInfo;return g.name=h,(new i).updateBrowserExtension(e.extensionID,g).then((()=>a({browserInfo:g},e))).then((()=>(d.classList.add("success"),d.innerText=`${n.Texts.Success.ExtNameUpdated.Title}. ${n.Texts.Success.ExtNameUpdated.Message}`,l=setTimeout((()=>{d.classList.remove("success")}),5e3),!0))).then((()=>s.removeAttribute("disabled"))).catch((async e=>(await r("error",25,e,"extNameUpdate"),o.showWithoutTimeout(n.Texts.Error.UndefinedError))))}},function(e,t,s){"use strict";const n=s(1),i=[n.i18n.getMessage("january"),n.i18n.getMessage("february"),n.i18n.getMessage("march"),n.i18n.getMessage("april"),n.i18n.getMessage("may"),n.i18n.getMessage("june"),n.i18n.getMessage("july"),n.i18n.getMessage("august"),n.i18n.getMessage("september"),n.i18n.getMessage("october"),n.i18n.getMessage("november"),n.i18n.getMessage("december")];e.exports=i},function(e){"use strict";e.exports=(e,t)=>{"visible"===document.visibilityState?"function"==typeof e&&e():"function"==typeof t&&t()}},function(e,t,s){"use strict";const n=s(2),i=s(1),o=s(5),r=s(3);e.exports=function(e){e.preventDefault(),e.stopPropagation();const t=this?.dataset?.shortcutLink;if(!t)return o("error",32,new Error("openShortcutEdit: no url"),"openShortcutEdit").then((()=>r.show(n.Texts.Error.UndefinedError,null,!0))).catch((()=>{}));const s=i.runtime.connect({name:"2FAS"});s.postMessage({action:"openBrowserPage",url:t}),s.disconnect()}},function(e){"use strict";e.exports=(e,t,s)=>s.indexOf(e)===t},function(e,t,s){"use strict";const n=s(14);e.exports=e=>{Array.from(e.target.classList).includes("js-twofas-domain-modal")&&n()}},function(e,t,s){"use strict";const n=s(1),i=s(0),o=s(25),{loadFromLocalStorage:r,saveToLocalStorage:a}=s(4),c=s(3),l=s(2),d=s(5),u=s(14);e.exports=e=>{e.preventDefault(),e.stopPropagation();const t=new FormData(e.target).get("domain").trim(),s=document.querySelector(i.optionsPage.domainModal.validation);if(!t||0>=t.length)return s.innerText=n.i18n.getMessage("optionsDomainRequired")||"Domain is required",!1;if(256<t.length)return s.innerText=n.i18n.getMessage("optionsDomainTooLong")||"Domain is too long",!1;if(!(e=>/^(((http|https):\/\/|)?[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,6}(:[0-9]{1,5})?(\/.*)?)$/.test(e))(t))return s.innerText=n.i18n.getMessage("optionsDomainIncorrect")||"Domain is not correct",!1;const h=t.replace(/^https?:\/\/(www\.)?/,"").replace(/\/$/,"");let g;try{const e=new URL(`https://${h}`);g=e.hostname.replace(/^(www\.)?/,"").replace(/\/$/,"")}catch(e){return s.innerText=n.i18n.getMessage("optionsDomainIncorrect")||"Domain is not correct",!1}return r("autoSubmitExcludedDomains").then((e=>{let t=e?.autoSubmitExcludedDomains;return t||(t=[]),t.includes(g)?(s.innerText=n.i18n.getMessage("optionsDomainExists")||"Domain exists on excluded list",!1):(t.push(g),a({autoSubmitExcludedDomains:t},e))})).then((e=>{e&&(o(e.autoSubmitExcludedDomains),u(),c.show(l.Texts.Success.DomainExcluded))})).catch((async e=>(await d("error",45,e,"domainModalFormSubmit"),c.show(l.Texts.Error.UndefinedError,null,!0))))}},function(e,t,s){"use strict";const n=s(1),{createElement:i,createTextElement:o}=s(9);e.exports=e=>{let t={tr:null,td:null,noExcludedDomains:null};t.tr=i("tr"),t.td=i("td"),t.td.setAttribute("colspan","2"),t.noExcludedDomains=o("p",n.i18n.getMessage("noExcludedDomains")),t.td.appendChild(t.noExcludedDomains),t.tr.appendChild(t.td),e.appendChild(t.tr),t=null}},function(e,t,s){"use strict";const n=s(2),i=s(1),{loadFromLocalStorage:o,saveToLocalStorage:r}=s(4),a=s(5),c=s(15),l=s(3),d=s(55);e.exports=function(e){e.preventDefault(),e.stopPropagation();const t=this?.dataset?.domain;return t?void c(i.i18n.getMessage("modalExcludeDomainHeader"),i.i18n.getMessage("modalExcludeDomainText").replace("DOMAIN",t),(()=>o(["autoSubmitExcludedDomains"]).then((e=>{e.autoSubmitExcludedDomains||(e.autoSubmitExcludedDomains=[]);const s=e.autoSubmitExcludedDomains.filter((e=>e!==t));return r({autoSubmitExcludedDomains:s},{})})).then((()=>d(t))).then((()=>l.show(n.Texts.Success.DomainExcludedRemoved))).catch((async e=>(await a("error",22,e,"removeDevice"),l.show(n.Texts.Error.UndefinedError,null,!0)))))):a("error",31,new Error("Wrong domain"),"removeDomain").then((()=>l.show(n.Texts.Error.RemoveDeviceBadData,null,!0))).catch((()=>{}))}},function(e,t,s){"use strict";const n=s(53),i=s(0);e.exports=e=>{const t=document.querySelector(`tr[data-domain="${e}"]`);t&&"function"==typeof t.remove&&t.remove();const s=document.querySelector(i.optionsPage.autoSubmit.list);return 0===s.childElementCount&&n(s),!0}},function(e,t,s){"use strict";const n=s(2),i=s(1),o=s(11),{loadFromLocalStorage:r,saveToLocalStorage:a}=s(4),c=s(5),l=s(57),d=s(15),u=s(3);e.exports=function(e){e.preventDefault(),e.stopPropagation();const t=this?.dataset?.deviceId,s=this?.dataset?.deviceName;return t&&s?void d(i.i18n.getMessage("modalDisconnectDeviceHeader"),i.i18n.getMessage("modalDisconnectDeviceText").replace("DEVICE_NAME",s),(()=>{let e;return r(["extensionID","devices"]).then((s=>(e=s,(new o).removePairedDevice(e.extensionID,t)))).then((()=>e&&e.devices?e.devices.filter((e=>e.device_id!==t)):[])).then((t=>{let s=!0;return 0>=t.length&&(s=!1),a({devices:t,configured:s},e)})).then((()=>l(t))).then((()=>u.show(n.Texts.Success.DeviceDisconnected))).catch((async e=>(await c("error",22,e,"removeDevice"),u.show(n.Texts.Error.UndefinedError,null,!0))))})):c("error",31,new Error("Wrong deviceID or deviceName"),"removeDevice").then((()=>u.show(n.Texts.Error.RemoveDeviceBadData,null,!0))).catch((()=>{}))}},function(e,t,s){"use strict";const n=s(26),i=s(0);e.exports=e=>{const t=document.querySelector(`tr[data-device-id="${e}"]`);t&&"function"==typeof t.remove&&t.remove();const s=document.querySelector(i.optionsPage.devicesList);return 0===s.childElementCount&&n(s),!0}},function(e,t,s){"use strict";const n=s(1),i=s(16),o=s(0);e.exports=e=>{const t=i("div",n.i18n.getMessage("unknown").toUpperCase());t.classList.add("twofas-shortcut-edit-box-btn"),e.prepend(t);const s=document.querySelector(o.optionsPage.shortcut.editText);s&&(s.textContent=n.i18n.getMessage("unknown").toUpperCase());const r=document.querySelector(`${o.optionsPage.shortcut.edit}, ${o.optionsPage.shortcut.info}`);r&&(r.innerText=n.i18n.getMessage("set"));const a=document.querySelector(o.optionsPage.shortcut.description);a&&(a.innerText=n.i18n.getMessage("shortcutSetDesc"))}},function(e,t,s){"use strict";const n=s(1),i=s(16),o=s(58),r=s(0),a=()=>n.commands.getAll().then((e=>{let t=e;t=t.filter((e=>"tokenRequest"===e.name)),t[0].shortcut=t[0]?.shortcut.replace(/⌘/g,"Cmd+").replace(/⇧/g,"Shift+").replace(/⌥/g,"Alt+").replace(/⌃/g,"Ctrl+"),"+"===t[0].shortcut[t.length-1]&&(t[0].shortcut=t[0].shortcut.slice(0,-1));const s=document.querySelectorAll(r.optionsPage.shortcut.editBoxBtn),c=document.querySelectorAll(r.optionsPage.shortcut.editBoxPlus);s.forEach((e=>e.remove())),c.forEach((e=>e.remove()));const l=document.querySelector(r.optionsPage.shortcut.editBox);let d=t.filter((e=>"tokenRequest"===e.name));if(!d||!d[0]||!d[0].shortcut)return o(l);if(d=d[0]?.shortcut,0>=d.length)return a(l);d=d.split("+");const u=d.length;d.reverse().forEach(((e,t)=>{const s=e?.replace("MacCtrl","Ctrl"),n=i("div",s);if(n.classList.add("twofas-shortcut-edit-box-btn"),l.prepend(n),t!==u-1){const e=i("div","+");e.classList.add("twofas-shortcut-edit-box-plus"),l.prepend(e)}}));const h=document.querySelector(r.optionsPage.shortcut.editText);h&&(h.textContent=t[0]?.shortcut.replace("MacCtrl","Ctrl"));const g=document.querySelector(r.optionsPage.shortcut.edit);g&&(g.innerText=n.i18n.getMessage("edit"));const m=document.querySelector(r.optionsPage.shortcut.info);m&&(m.innerText=n.i18n.getMessage("info"));const p=document.querySelector(r.optionsPage.shortcut.description);p&&(p.innerText=n.i18n.getMessage("shortcutUseDesc"))}));e.exports=a},function(e,t,s){"use strict";const n=s(0);e.exports=e=>{e.preventDefault(),e.stopPropagation(),document.querySelector(n.optionsPage.advanced.header).classList.toggle("open"),document.querySelector(n.optionsPage.advanced.content).classList.toggle("visible")}},function(e,t,s){"use strict";const n=s(6);e.exports=e=>n({autoSubmitEnabled:e.currentTarget.checked})},function(e,t,s){"use strict";const n=s(1),i=s(6),o=s(98);e.exports=e=>i({contextMenu:e.currentTarget.checked}).then((e=>{if(e.contextMenu)n.contextMenus.removeAll(),o();else try{n.contextMenus.remove("twofas-context-menu")}catch{}}))},function(e,t,s){"use strict";const n=s(0);e.exports=e=>{e.preventDefault(),e.stopPropagation();document.querySelector(n.optionsPage.hamburger.content).classList.toggle("visible")}},function(e,t,s){"use strict";const{loadFromLocalStorage:n,saveToLocalStorage:i}=s(4),o=s(100),r=s(50),a=s(25),c=s(3),l=s(2),d=s(5);e.exports=e=>(e.preventDefault(),e.stopPropagation(),n(["autoSubmitExcludedDomains"]).then((e=>{let t=[...e.autoSubmitExcludedDomains,...o];return t=t.filter(r),i({autoSubmitExcludedDomains:t},{})})).then((e=>{a(e.autoSubmitExcludedDomains),c.show(l.Texts.Success.DomainExcluded)})).catch((async e=>(await d("error",47,e,"handleImportDefaultExcludedDomains"),c.show(l.Texts.Error.UndefinedError,null,!0)))))},function(e,t,s){"use strict";const n=s(6);e.exports=e=>n({logging:e.currentTarget.checked})},function(e,t,s){"use strict";const n=s(0);e.exports=function(e){e.preventDefault(),e.stopPropagation();const t=this.getAttribute("data-twofas-menu");document.querySelectorAll(n.optionsPage.menuLink).forEach((e=>{e.getAttribute("data-twofas-menu")===t?e.classList.add("active"):e.classList.remove("active")}));document.querySelectorAll(n.optionsPage.content).forEach((e=>{e.getAttribute("data-twofas-content")===t?e.classList.add("active"):e.classList.remove("active")}))}},function(e,t,s){"use strict";const n=s(6),i=s(0);e.exports=()=>(document.querySelector(i.optionsPage.pin.info).classList.add("hidden"),n({pinInfo:!0}))},function(e,t,s){"use strict";const n=s(0);e.exports=()=>{const e=document.querySelector(n.optionsPage.pin.slider);e&&e.classList.add("step2")}},function(e,t,s){"use strict";const n=s(0);e.exports=()=>{const e=document.querySelector(n.optionsPage.pin.slider);e&&e.classList.remove("step2")}},function(e,t,s){"use strict";const n=s(6);e.exports=e=>n({nativePush:"native"===e.target.value})},function(e,t,s){"use strict";const n=s(3),i=s(2);e.exports=()=>n.show(i.Texts.Info.Test)},function(e,t,s){"use strict";const n=s(0);e.exports=e=>{e.preventDefault(),e.stopPropagation();const t=document.querySelector(n.optionsPage.domainModal.element),s=document.querySelector(n.optionsPage.domainModal.validation),i=document.querySelector(n.optionsPage.domainModal.input);t.classList.remove("hidden"),s.innerText="",setTimeout((()=>{i.focus()}),200)}},function(e){e.exports=function(){"use strict";class e{constructor(e){e||(e={}),this.main=e.main||"ss-main",this.placeholder=e.placeholder||"ss-placeholder",this.values=e.values||"ss-values",this.single=e.single||"ss-single",this.max=e.max||"ss-max",this.value=e.value||"ss-value",this.valueText=e.valueText||"ss-value-text",this.valueDelete=e.valueDelete||"ss-value-delete",this.valueOut=e.valueOut||"ss-value-out",this.deselect=e.deselect||"ss-deselect",this.deselectPath=e.deselectPath||"M10,10 L90,90 M10,90 L90,10",this.arrow=e.arrow||"ss-arrow",this.arrowClose=e.arrowClose||"M10,30 L50,70 L90,30",this.arrowOpen=e.arrowOpen||"M10,70 L50,30 L90,70",this.content=e.content||"ss-content",this.openAbove=e.openAbove||"ss-open-above",this.openBelow=e.openBelow||"ss-open-below",this.search=e.search||"ss-search",this.searchHighlighter=e.searchHighlighter||"ss-search-highlight",this.searching=e.searching||"ss-searching",this.addable=e.addable||"ss-addable",this.addablePath=e.addablePath||"M50,10 L50,90 M10,50 L90,50",this.list=e.list||"ss-list",this.optgroup=e.optgroup||"ss-optgroup",this.optgroupLabel=e.optgroupLabel||"ss-optgroup-label",this.optgroupLabelText=e.optgroupLabelText||"ss-optgroup-label-text",this.optgroupActions=e.optgroupActions||"ss-optgroup-actions",this.optgroupSelectAll=e.optgroupSelectAll||"ss-selectall",this.optgroupSelectAllBox=e.optgroupSelectAllBox||"M60,10 L10,10 L10,90 L90,90 L90,50",this.optgroupSelectAllCheck=e.optgroupSelectAllCheck||"M30,45 L50,70 L90,10",this.optgroupClosable=e.optgroupClosable||"ss-closable",this.option=e.option||"ss-option",this.optionDelete=e.optionDelete||"M10,10 L90,90 M10,90 L90,10",this.highlighted=e.highlighted||"ss-highlighted",this.open=e.open||"ss-open",this.close=e.close||"ss-close",this.selected=e.selected||"ss-selected",this.error=e.error||"ss-error",this.disabled=e.disabled||"ss-disabled",this.hide=e.hide||"ss-hide"}}function t(){return Math.random().toString(36).substring(2,10)}function s(e,t){function s(e,s){return s&&e&&e.classList&&e.classList.contains(s)||s&&e&&e.dataset&&e.dataset.id&&e.dataset.id===t?e:null}function n(e,t){return e&&e!==document?s(e,t)?e:n(e.parentNode,t):null}return s(e,t)||n(e,t)}function n(e,t=50,s=!1){let n;return function(...i){const o=self,r=()=>{n=null,s||e.apply(o,i)},a=s&&!n;clearTimeout(n),n=setTimeout(r,t),a&&e.apply(o,i)}}function i(e,t){return JSON.stringify(e)===JSON.stringify(t)}function o(e){const t=e.replace(/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,(e=>"-"+e.toLowerCase()));return e[0]===e[0].toUpperCase()?t.substring(1):t}class r{constructor(e){if(this.id=e.id&&""!==e.id?e.id:t(),this.label=e.label||"",this.selectAll=void 0!==e.selectAll&&e.selectAll,this.selectAllText=e.selectAllText||"Select All",this.closable=e.closable||"off",this.options=[],e.options)for(const t of e.options)this.options.push(new a(t))}}class a{constructor(e){this.id=e.id&&""!==e.id?e.id:t(),this.value=void 0===e.value?e.text:e.value,this.text=e.text||"",this.html=e.html||"",this.selected=void 0!==e.selected&&e.selected,this.display=void 0===e.display||e.display,this.disabled=void 0!==e.disabled&&e.disabled,this.mandatory=void 0!==e.mandatory&&e.mandatory,this.placeholder=void 0!==e.placeholder&&e.placeholder,this.class=e.class||"",this.style=e.style||"",this.data=e.data||{}}}class c{constructor(e,t){this.selectType="single",this.data=[],this.selectedOrder=[],this.selectType=e,this.setData(t)}validateDataArray(e){if(!Array.isArray(e))return new Error("Data must be an array");for(let t of e)if(t instanceof r||"label"in t){if(!("label"in t))return new Error("Optgroup must have a label");if("options"in t&&t.options)for(let e of t.options){const t=this.validateOption(e);if(t)return t}}else{if(!(t instanceof a||"text"in t))return new Error("Data object must be a valid optgroup or option");{const e=this.validateOption(t);if(e)return e}}return null}validateOption(e){return"text"in e?null:new Error("Option must have a text")}partialToFullData(e){let t=[];return e.forEach((e=>{if(e instanceof r||"label"in e){let s=[];"options"in e&&e.options&&e.options.forEach((e=>{s.push(new a(e))})),s.length>0&&t.push(new r(e))}(e instanceof a||"text"in e)&&t.push(new a(e))})),t}setData(e){this.data=this.partialToFullData(e),"single"===this.selectType&&this.setSelectedBy("id",this.getSelected())}getData(){return this.filter(null,!0)}getDataOptions(){return this.filter(null,!1)}addOption(e,t=!1){if(t){let t=[new a(e)];this.setData(t.concat(this.getData()))}else this.setData(this.getData().concat(new a(e)))}setSelectedBy(e,t){let s=null,n=!1;const i=[];for(let o of this.data){if(o instanceof r)for(let r of o.options)s||(s=r),r.selected=!n&&t.includes(r[e]),r.selected&&(i.push(r),"single"===this.selectType&&(n=!0));o instanceof a&&(s||(s=o),o.selected=!n&&t.includes(o[e]),o.selected&&(i.push(o),"single"===this.selectType&&(n=!0)))}"single"===this.selectType&&s&&!n&&(s.selected=!0,i.push(s));const o=t.map((t=>{var s;return(null===(s=i.find((s=>s[e]===t)))||void 0===s?void 0:s.id)||""}));this.selectedOrder=o}getSelected(){return this.getSelectedOptions().map((e=>e.id))}getSelectedValues(){return this.getSelectedOptions().map((e=>e.value))}getSelectedOptions(){return this.filter((e=>e.selected),!1)}getOptgroupByID(e){for(let t of this.data)if(t instanceof r&&t.id===e)return t;return null}getOptionByID(e){let t=this.filter((t=>t.id===e),!1);return t.length?t[0]:null}getSelectType(){return this.selectType}getFirstOption(){let e=null;for(let t of this.data)if(t instanceof r?e=t.options[0]:t instanceof a&&(e=t),e)break;return e}search(e,t){return""===(e=e.trim())?this.getData():this.filter((s=>t(s,e)),!0)}filter(e,t){const s=[];return this.data.forEach((n=>{if(n instanceof r){let i=[];if(n.options.forEach((n=>{e&&!e(n)||(t?i.push(new a(n)):s.push(new a(n)))})),i.length>0){let e=new r(n);e.options=i,s.push(e)}}n instanceof a&&(e&&!e(n)||s.push(new a(n)))})),s}selectedOrderOptions(e){const t=[];return this.selectedOrder.forEach((s=>{const n=e.find((e=>e.id===s));n&&t.push(n)})),e.forEach((e=>{let s=!1;t.forEach((t=>{e.id!==t.id||(s=!0)})),s||t.push(e)})),t}}class l{constructor(e,t,s,n){this.store=s,this.settings=e,this.classes=t,this.callbacks=n,this.main=this.mainDiv(),this.content=this.contentDiv(),this.updateClassStyles(),this.updateAriaAttributes(),this.settings.contentLocation.appendChild(this.content.main)}enable(){this.main.main.classList.remove(this.classes.disabled),this.content.search.input.disabled=!1}disable(){this.main.main.classList.add(this.classes.disabled),this.content.search.input.disabled=!0}open(){this.main.arrow.path.setAttribute("d",this.classes.arrowOpen),this.main.main.classList.add("up"===this.settings.openPosition?this.classes.openAbove:this.classes.openBelow),this.main.main.setAttribute("aria-expanded","true"),this.moveContent();const e=this.store.getSelectedOptions();if(e.length){const t=e[e.length-1].id,s=this.content.list.querySelector('[data-id="'+t+'"]');s&&this.ensureElementInView(this.content.list,s)}}close(){this.main.main.classList.remove(this.classes.openAbove),this.main.main.classList.remove(this.classes.openBelow),this.main.main.setAttribute("aria-expanded","false"),this.content.main.classList.remove(this.classes.openAbove),this.content.main.classList.remove(this.classes.openBelow),this.main.arrow.path.setAttribute("d",this.classes.arrowClose)}updateClassStyles(){if(this.main.main.className="",this.main.main.removeAttribute("style"),this.content.main.className="",this.content.main.removeAttribute("style"),this.main.main.classList.add(this.classes.main),this.content.main.classList.add(this.classes.content),""!==this.settings.style&&(this.main.main.style.cssText=this.settings.style,this.content.main.style.cssText=this.settings.style),this.settings.class.length)for(const e of this.settings.class)""!==e.trim()&&(this.main.main.classList.add(e.trim()),this.content.main.classList.add(e.trim()));"relative"===this.settings.contentPosition&&this.content.main.classList.add("ss-"+this.settings.contentPosition)}updateAriaAttributes(){this.main.main.role="combobox",this.main.main.setAttribute("aria-haspopup","listbox"),this.main.main.setAttribute("aria-controls",this.content.main.id),this.main.main.setAttribute("aria-expanded","false"),this.content.main.setAttribute("role","listbox")}mainDiv(){var e;const t=document.createElement("div");t.dataset.id=this.settings.id,t.setAttribute("aria-label",this.settings.ariaLabel),t.tabIndex=0,t.onkeydown=e=>{switch(e.key){case"ArrowUp":case"ArrowDown":return this.callbacks.open(),"ArrowDown"===e.key?this.highlight("down"):this.highlight("up"),!1;case"Tab":return this.callbacks.close(),!0;case"Enter":case" ":this.callbacks.open();const t=this.content.list.querySelector("."+this.classes.highlighted);return t&&t.click(),!1;case"Escape":return this.callbacks.close(),!1}return!0},t.onclick=e=>{this.settings.disabled||(this.settings.isOpen?this.callbacks.close():this.callbacks.open())};const s=document.createElement("div");s.classList.add(this.classes.values),t.appendChild(s);const n=document.createElement("div");n.classList.add(this.classes.deselect);const i=null===(e=this.store)||void 0===e?void 0:e.getSelectedOptions();!this.settings.allowDeselect||this.settings.isMultiple&&i&&i.length<=0?n.classList.add(this.classes.hide):n.classList.remove(this.classes.hide),n.onclick=e=>{if(e.stopPropagation(),this.settings.disabled)return;let t=!0;const s=this.store.getSelectedOptions(),n=[];if(this.callbacks.beforeChange&&(t=!0===this.callbacks.beforeChange(n,s)),t){if(this.settings.isMultiple)this.callbacks.setSelected([],!1),this.updateDeselectAll();else{const e=this.store.getFirstOption(),t=e?e.id:"";this.callbacks.setSelected(t,!1)}this.settings.closeOnSelect&&this.callbacks.close(),this.callbacks.afterChange&&this.callbacks.afterChange(this.store.getSelectedOptions())}};const o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttribute("viewBox","0 0 100 100");const r=document.createElementNS("http://www.w3.org/2000/svg","path");r.setAttribute("d",this.classes.deselectPath),o.appendChild(r),n.appendChild(o),t.appendChild(n);const a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.classList.add(this.classes.arrow),a.setAttribute("viewBox","0 0 100 100");const c=document.createElementNS("http://www.w3.org/2000/svg","path");return c.setAttribute("d",this.classes.arrowClose),this.settings.alwaysOpen&&a.classList.add(this.classes.hide),a.appendChild(c),t.appendChild(a),{main:t,values:s,deselect:{main:n,svg:o,path:r},arrow:{main:a,path:c}}}mainFocus(e){"click"!==e&&this.main.main.focus({preventScroll:!0})}placeholder(){const e=this.store.filter((e=>e.placeholder),!1);let t=this.settings.placeholderText;e.length&&(""!==e[0].html?t=e[0].html:""!==e[0].text&&(t=e[0].text));const s=document.createElement("div");return s.classList.add(this.classes.placeholder),s.innerHTML=t,s}renderValues(){this.settings.isMultiple?(this.renderMultipleValues(),this.updateDeselectAll()):this.renderSingleValue()}renderSingleValue(){const e=this.store.filter((e=>e.selected&&!e.placeholder),!1),t=e.length>0?e[0]:null;if(t){const e=document.createElement("div");e.classList.add(this.classes.single),t.html?e.innerHTML=t.html:e.innerText=t.text,this.main.values.innerHTML=e.outerHTML}else this.main.values.innerHTML=this.placeholder().outerHTML;this.settings.allowDeselect&&e.length?this.main.deselect.main.classList.remove(this.classes.hide):this.main.deselect.main.classList.add(this.classes.hide)}renderMultipleValues(){let e=this.main.values.childNodes,t=this.store.filter((e=>e.selected&&e.display),!1);if(0===t.length)return void(this.main.values.innerHTML=this.placeholder().outerHTML);{const e=this.main.values.querySelector("."+this.classes.placeholder);e&&e.remove()}if(t.length>this.settings.maxValuesShown){const e=document.createElement("div");return e.classList.add(this.classes.max),e.textContent=this.settings.maxValuesMessage.replace("{number}",t.length.toString()),void(this.main.values.innerHTML=e.outerHTML)}{const e=this.main.values.querySelector("."+this.classes.max);e&&e.remove()}this.settings.keepOrder&&(t=this.store.selectedOrderOptions(t));let s=[];for(let n=0;n<e.length;n++){const i=e[n],o=i.getAttribute("data-id");o&&(t.filter((e=>e.id===o),!1).length||s.push(i))}for(const e of s)e.classList.add(this.classes.valueOut),setTimeout((()=>{this.main.values.hasChildNodes()&&this.main.values.contains(e)&&this.main.values.removeChild(e)}),100);e=this.main.values.childNodes;for(let s=0;s<t.length;s++){let n=!0;for(let i=0;i<e.length;i++)t[s].id===String(e[i].dataset.id)&&(n=!1);n&&(this.settings.keepOrder||0===e.length?this.main.values.appendChild(this.multipleValue(t[s])):0===s?this.main.values.insertBefore(this.multipleValue(t[s]),e[s]):e[s-1].insertAdjacentElement("afterend",this.multipleValue(t[s])))}}multipleValue(e){const t=document.createElement("div");t.classList.add(this.classes.value),t.dataset.id=e.id;const s=document.createElement("div");if(s.classList.add(this.classes.valueText),s.textContent=e.text,t.appendChild(s),!e.mandatory){const s=document.createElement("div");s.classList.add(this.classes.valueDelete),s.onclick=t=>{if(t.preventDefault(),t.stopPropagation(),this.settings.disabled)return;let s=!0;const n=this.store.getSelectedOptions(),i=n.filter((t=>t.selected&&t.id!==e.id),!0);if(!(this.settings.minSelected&&i.length<this.settings.minSelected)&&(this.callbacks.beforeChange&&(s=!0===this.callbacks.beforeChange(i,n)),s)){let e=[];for(const t of i){if(t instanceof r)for(const s of t.options)e.push(s.id);t instanceof a&&e.push(t.id)}this.callbacks.setSelected(e,!1),this.settings.closeOnSelect&&this.callbacks.close(),this.callbacks.afterChange&&this.callbacks.afterChange(i),this.updateDeselectAll()}};const n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("viewBox","0 0 100 100");const i=document.createElementNS("http://www.w3.org/2000/svg","path");i.setAttribute("d",this.classes.optionDelete),n.appendChild(i),s.appendChild(n),t.appendChild(s)}return t}contentDiv(){const e=document.createElement("div");e.dataset.id=this.settings.id;const t=this.searchDiv();e.appendChild(t.main);const s=this.listDiv();return e.appendChild(s),{main:e,search:t,list:s}}moveContent(){"relative"!==this.settings.contentPosition&&"down"!==this.settings.openPosition?"up"!==this.settings.openPosition?"up"===this.putContent()?this.moveContentAbove():this.moveContentBelow():this.moveContentAbove():this.moveContentBelow()}searchDiv(){const e=document.createElement("div"),t=document.createElement("input"),s=document.createElement("div");e.classList.add(this.classes.search);const i={main:e,input:t};if(this.settings.showSearch||(e.classList.add(this.classes.hide),t.readOnly=!0),t.type="search",t.placeholder=this.settings.searchPlaceholder,t.tabIndex=-1,t.setAttribute("aria-label",this.settings.searchPlaceholder),t.setAttribute("autocapitalize","off"),t.setAttribute("autocomplete","off"),t.setAttribute("autocorrect","off"),t.oninput=n((e=>{this.callbacks.search(e.target.value)}),100),t.onkeydown=e=>{switch(e.key){case"ArrowUp":case"ArrowDown":return"ArrowDown"===e.key?this.highlight("down"):this.highlight("up"),!1;case"Tab":return this.callbacks.close(),!0;case"Escape":return this.callbacks.close(),!1;case" ":const t=this.content.list.querySelector("."+this.classes.highlighted);return!t||(t.click(),!1);case"Enter":if(this.callbacks.addable)return s.click(),!1;{const e=this.content.list.querySelector("."+this.classes.highlighted);if(e)return e.click(),!1}return!0}return!0},e.appendChild(t),this.callbacks.addable){s.classList.add(this.classes.addable);const t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("viewBox","0 0 100 100");const n=document.createElementNS("http://www.w3.org/2000/svg","path");n.setAttribute("d",this.classes.addablePath),t.appendChild(n),s.appendChild(t),s.onclick=e=>{if(e.preventDefault(),e.stopPropagation(),!this.callbacks.addable)return;const t=this.content.search.input.value.trim();if(""===t)return void this.content.search.input.focus();const s=e=>{let t=new a(e);if(this.callbacks.addOption(t),this.settings.isMultiple){let e=this.store.getSelected();e.push(t.id),this.callbacks.setSelected(e,!0)}else this.callbacks.setSelected([t.id],!0);this.callbacks.search(""),this.settings.closeOnSelect&&setTimeout((()=>{this.callbacks.close()}),100)},n=this.callbacks.addable(t);!1!==n&&null!=n&&(n instanceof Promise?n.then((e=>{"string"==typeof e?s({text:e,value:e}):n instanceof Error?this.renderError(n.message):s(e)})):"string"==typeof n?s({text:n,value:n}):n instanceof Error?this.renderError(n.message):s(n))},e.appendChild(s),i.addable={main:s,svg:t,path:n}}return i}searchFocus(){this.content.search.input.focus()}getOptions(e=!1,t=!1,s=!1){let n="."+this.classes.option;return e&&(n+=":not(."+this.classes.placeholder+")"),t&&(n+=":not(."+this.classes.disabled+")"),s&&(n+=":not(."+this.classes.hide+")"),Array.from(this.content.list.querySelectorAll(n))}highlight(e){const t=this.getOptions(!0,!0,!0);if(0===t.length)return;if(1===t.length&&!t[0].classList.contains(this.classes.highlighted))return void t[0].classList.add(this.classes.highlighted);let s=!1;for(const e of t)e.classList.contains(this.classes.highlighted)&&(s=!0);if(!s)for(const e of t)if(e.classList.contains(this.classes.selected)){e.classList.add(this.classes.highlighted);break}for(let s=0;s<t.length;s++)if(t[s].classList.contains(this.classes.highlighted)){const n=t[s];n.classList.remove(this.classes.highlighted);const i=n.parentElement;if(i&&i.classList.contains(this.classes.open)){const e=i.querySelector("."+this.classes.optgroupLabel);e&&e.click()}let o=t["down"===e?s+1<t.length?s+1:0:s-1>=0?s-1:t.length-1];o.classList.add(this.classes.highlighted),this.ensureElementInView(this.content.list,o);const r=o.parentElement;if(r&&r.classList.contains(this.classes.close)){const e=r.querySelector("."+this.classes.optgroupLabel);e&&e.click()}return}t["down"===e?0:t.length-1].classList.add(this.classes.highlighted),this.ensureElementInView(this.content.list,t["down"===e?0:t.length-1])}listDiv(){const e=document.createElement("div");return e.classList.add(this.classes.list),e}renderError(e){this.content.list.innerHTML="";const t=document.createElement("div");t.classList.add(this.classes.error),t.textContent=e,this.content.list.appendChild(t)}renderSearching(){this.content.list.innerHTML="";const e=document.createElement("div");e.classList.add(this.classes.searching),e.textContent=this.settings.searchingText,this.content.list.appendChild(e)}renderOptions(e){if(this.content.list.innerHTML="",0===e.length){const e=document.createElement("div");return e.classList.add(this.classes.search),this.callbacks.addable?e.innerHTML=this.settings.addableText.replace("{value}",this.content.search.input.value):e.innerHTML=this.settings.searchText,void this.content.list.appendChild(e)}this.settings.allowDeselect&&!this.settings.isMultiple&&(this.store.filter((e=>e.placeholder),!1).length||this.store.addOption(new a({text:"",value:"",selected:!1,placeholder:!0}),!0));for(const t of e){if(t instanceof r){const e=document.createElement("div");e.classList.add(this.classes.optgroup);const s=document.createElement("div");s.classList.add(this.classes.optgroupLabel),e.appendChild(s);const n=document.createElement("div");n.classList.add(this.classes.optgroupLabelText),n.textContent=t.label,s.appendChild(n);const i=document.createElement("div");if(i.classList.add(this.classes.optgroupActions),s.appendChild(i),this.settings.isMultiple&&t.selectAll){const e=document.createElement("div");e.classList.add(this.classes.optgroupSelectAll);let s=!0;for(const e of t.options)if(!e.selected){s=!1;break}s&&e.classList.add(this.classes.selected);const n=document.createElement("span");n.textContent=t.selectAllText,e.appendChild(n);const o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttribute("viewBox","0 0 100 100"),e.appendChild(o);const r=document.createElementNS("http://www.w3.org/2000/svg","path");r.setAttribute("d",this.classes.optgroupSelectAllBox),o.appendChild(r);const a=document.createElementNS("http://www.w3.org/2000/svg","path");a.setAttribute("d",this.classes.optgroupSelectAllCheck),o.appendChild(a),e.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation();const n=this.store.getSelected();if(s){const e=n.filter((e=>{for(const s of t.options)if(e===s.id)return!1;return!0}));this.callbacks.setSelected(e,!0)}else{const e=n.concat(t.options.map((e=>e.id)));for(const e of t.options)this.store.getOptionByID(e.id)||this.callbacks.addOption(e);this.callbacks.setSelected(e,!0)}})),i.appendChild(e)}if("off"!==t.closable){const n=document.createElement("div");n.classList.add(this.classes.optgroupClosable);const o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttribute("viewBox","0 0 100 100"),o.classList.add(this.classes.arrow),n.appendChild(o);const r=document.createElementNS("http://www.w3.org/2000/svg","path");o.appendChild(r),t.options.some((e=>e.selected))||""!==this.content.search.input.value.trim()?(n.classList.add(this.classes.open),r.setAttribute("d",this.classes.arrowOpen)):"open"===t.closable?(e.classList.add(this.classes.open),r.setAttribute("d",this.classes.arrowOpen)):"close"===t.closable&&(e.classList.add(this.classes.close),r.setAttribute("d",this.classes.arrowClose)),s.addEventListener("click",(t=>{t.preventDefault(),t.stopPropagation(),e.classList.contains(this.classes.close)?(e.classList.remove(this.classes.close),e.classList.add(this.classes.open),r.setAttribute("d",this.classes.arrowOpen)):(e.classList.remove(this.classes.open),e.classList.add(this.classes.close),r.setAttribute("d",this.classes.arrowClose))})),i.appendChild(n)}e.appendChild(s);for(const s of t.options)e.appendChild(this.option(s));this.content.list.appendChild(e)}t instanceof a&&this.content.list.appendChild(this.option(t))}}option(e){if(e.placeholder){const e=document.createElement("div");return e.classList.add(this.classes.option),e.classList.add(this.classes.hide),e}const t=document.createElement("div");return t.dataset.id=e.id,t.id=e.id,t.classList.add(this.classes.option),t.setAttribute("role","option"),e.class&&e.class.split(" ").forEach((e=>{t.classList.add(e)})),e.style&&(t.style.cssText=e.style),this.settings.searchHighlight&&""!==this.content.search.input.value.trim()?t.innerHTML=this.highlightText(""!==e.html?e.html:e.text,this.content.search.input.value,this.classes.searchHighlighter):""!==e.html?t.innerHTML=e.html:t.textContent=e.text,this.settings.showOptionTooltips&&t.textContent&&t.setAttribute("title",t.textContent),e.display||t.classList.add(this.classes.hide),e.disabled&&t.classList.add(this.classes.disabled),e.selected&&this.settings.hideSelected&&t.classList.add(this.classes.hide),e.selected?(t.classList.add(this.classes.selected),t.setAttribute("aria-selected","true"),this.main.main.setAttribute("aria-activedescendant",t.id)):(t.classList.remove(this.classes.selected),t.setAttribute("aria-selected","false")),t.addEventListener("click",(t=>{t.preventDefault(),t.stopPropagation();const s=this.store.getSelected(),n=t.currentTarget,i=String(n.dataset.id);if(e.disabled||e.selected&&!this.settings.allowDeselect)return;if(this.settings.isMultiple&&this.settings.maxSelected<=s.length&&!e.selected||this.settings.isMultiple&&this.settings.minSelected>=s.length&&e.selected)return;let o=!1;const r=this.store.getSelectedOptions();let a=[];this.settings.isMultiple&&(a=e.selected?r.filter((e=>e.id!==i)):r.concat(e)),this.settings.isMultiple||(a=e.selected?[]:[e]),this.callbacks.beforeChange||(o=!0),this.callbacks.beforeChange&&(o=!1!==this.callbacks.beforeChange(a,r)),o&&(this.store.getOptionByID(i)||this.callbacks.addOption(e),this.callbacks.setSelected(a.map((e=>e.id)),!1),this.settings.closeOnSelect&&this.callbacks.close(),this.callbacks.afterChange&&this.callbacks.afterChange(a))})),t}destroy(){this.main.main.remove(),this.content.main.remove()}highlightText(e,t,s){let n=e;const i=new RegExp("(?![^<]*>)("+t.trim()+")(?![^<]*>[^<>]*</)","i");if(!e.match(i))return e;const o=e.match(i).index,r=o+e.match(i)[0].toString().length,a=e.substring(o,r);return n=n.replace(i,`<mark class="${s}">${a}</mark>`),n}moveContentAbove(){const e=this.main.main.offsetHeight,t=this.content.main.offsetHeight;this.main.main.classList.remove(this.classes.openBelow),this.main.main.classList.add(this.classes.openAbove),this.content.main.classList.remove(this.classes.openBelow),this.content.main.classList.add(this.classes.openAbove);const s=this.main.main.getBoundingClientRect();this.content.main.style.margin="-"+(e+t-1)+"px 0px 0px 0px",this.content.main.style.top=s.top+s.height+window.scrollY+"px",this.content.main.style.left=s.left+window.scrollX+"px",this.content.main.style.width=s.width+"px"}moveContentBelow(){this.main.main.classList.remove(this.classes.openAbove),this.main.main.classList.add(this.classes.openBelow),this.content.main.classList.remove(this.classes.openAbove),this.content.main.classList.add(this.classes.openBelow);const e=this.main.main.getBoundingClientRect();this.content.main.style.margin="-1px 0px 0px 0px","relative"!==this.settings.contentPosition&&(this.content.main.style.top=e.top+e.height+window.scrollY+"px",this.content.main.style.left=e.left+window.scrollX+"px",this.content.main.style.width=e.width+"px")}ensureElementInView(e,t){const s=e.scrollTop+e.offsetTop,n=s+e.clientHeight,i=t.offsetTop,o=i+t.clientHeight;i<s?e.scrollTop-=s-i:o>n&&(e.scrollTop+=o-n)}putContent(){const e=this.main.main.offsetHeight,t=this.main.main.getBoundingClientRect(),s=this.content.main.offsetHeight;return window.innerHeight-(t.top+e)<=s&&t.top>s?"up":"down"}updateDeselectAll(){if(!this.store||!this.settings)return;const e=this.store.getSelectedOptions(),t=e&&e.length>0,s=this.settings.isMultiple,n=this.settings.allowDeselect,i=this.main.deselect.main,o=this.classes.hide;!n||s&&!t?i.classList.add(o):i.classList.remove(o)}}class d{constructor(e){this.listen=!1,this.observer=null,this.select=e,this.valueChange=this.valueChange.bind(this),this.select.addEventListener("change",this.valueChange,{passive:!0}),this.observer=new MutationObserver(this.observeCall.bind(this)),this.changeListen(!0)}enable(){this.select.disabled=!1}disable(){this.select.disabled=!0}hideUI(){this.select.tabIndex=-1,this.select.style.display="none",this.select.setAttribute("aria-hidden","true")}showUI(){this.select.removeAttribute("tabindex"),this.select.style.display="",this.select.removeAttribute("aria-hidden")}changeListen(e){this.listen=e,e&&this.observer&&this.observer.observe(this.select,{subtree:!0,childList:!0,attributes:!0}),e||this.observer&&this.observer.disconnect()}valueChange(e){return this.listen&&this.onValueChange&&this.onValueChange(this.getSelectedOptions()),!0}observeCall(e){if(!this.listen)return;let t=!1,s=!1,n=!1;for(const i of e){if(i.target===this.select&&("disabled"===i.attributeName&&(s=!0),"class"===i.attributeName&&(t=!0),"childList"===i.type)){for(const e of i.addedNodes)if("OPTION"===e.nodeName&&e.value===this.select.value){this.select.dispatchEvent(new Event("change"));break}n=!0}"OPTGROUP"!==i.target.nodeName&&"OPTION"!==i.target.nodeName||(n=!0)}t&&this.onClassChange&&this.onClassChange(this.select.className.split(" ")),s&&this.onDisabledChange&&(this.changeListen(!1),this.onDisabledChange(this.select.disabled),this.changeListen(!0)),n&&this.onOptionsChange&&(this.changeListen(!1),this.onOptionsChange(this.getData()),this.changeListen(!0))}getData(){let e=[];const t=this.select.childNodes;for(const s of t)"OPTGROUP"===s.nodeName&&e.push(this.getDataFromOptgroup(s)),"OPTION"===s.nodeName&&e.push(this.getDataFromOption(s));return e}getDataFromOptgroup(e){let t={id:e.id,label:e.label,selectAll:!!e.dataset&&"true"===e.dataset.selectall,selectAllText:e.dataset?e.dataset.selectalltext:"Select all",closable:e.dataset?e.dataset.closable:"off",options:[]};const s=e.childNodes;for(const e of s)"OPTION"===e.nodeName&&t.options.push(this.getDataFromOption(e));return t}getDataFromOption(e){return{id:e.id,value:e.value,text:e.text,html:e.dataset&&e.dataset.html?e.dataset.html:"",selected:e.selected,display:"none"!==e.style.display,disabled:e.disabled,mandatory:!!e.dataset&&"true"===e.dataset.mandatory,placeholder:"true"===e.dataset.placeholder,class:e.className,style:e.style.cssText,data:e.dataset}}getSelectedOptions(){let e=[];const t=this.select.childNodes;for(const s of t){if("OPTGROUP"===s.nodeName){const t=s.childNodes;for(const s of t)if("OPTION"===s.nodeName){const t=s;t.selected&&e.push(this.getDataFromOption(t))}}if("OPTION"===s.nodeName){const t=s;t.selected&&e.push(this.getDataFromOption(t))}}return e}getSelectedValues(){return this.getSelectedOptions().map((e=>e.value))}setSelected(e){this.changeListen(!1);const t=this.select.childNodes;for(const s of t){if("OPTGROUP"===s.nodeName){const t=s.childNodes;for(const s of t)if("OPTION"===s.nodeName){const t=s;t.selected=e.includes(t.id)}}if("OPTION"===s.nodeName){const t=s;t.selected=e.includes(t.id)}}this.changeListen(!0)}setSelectedByValue(e){this.changeListen(!1);const t=this.select.childNodes;for(const s of t){if("OPTGROUP"===s.nodeName){const t=s.childNodes;for(const s of t)if("OPTION"===s.nodeName){const t=s;t.selected=e.includes(t.value)}}if("OPTION"===s.nodeName){const t=s;t.selected=e.includes(t.value)}}this.changeListen(!0)}updateSelect(e,t,s){this.changeListen(!1),e&&(this.select.dataset.id=e),t&&(this.select.style.cssText=t),s&&(this.select.className="",s.forEach((e=>{""!==e.trim()&&this.select.classList.add(e.trim())}))),this.changeListen(!0)}updateOptions(e){this.changeListen(!1),this.select.innerHTML="";for(const t of e)t instanceof r&&this.select.appendChild(this.createOptgroup(t)),t instanceof a&&this.select.appendChild(this.createOption(t));this.select.dispatchEvent(new Event("change",{bubbles:!0})),this.changeListen(!0)}createOptgroup(e){const t=document.createElement("optgroup");if(t.id=e.id,t.label=e.label,e.selectAll&&(t.dataset.selectAll="true"),"off"!==e.closable&&(t.dataset.closable=e.closable),e.options)for(const s of e.options)t.appendChild(this.createOption(s));return t}createOption(e){const t=document.createElement("option");return t.id=e.id,t.value=e.value,t.innerHTML=e.text,""!==e.html&&t.setAttribute("data-html",e.html),e.selected&&(t.selected=e.selected),e.disabled&&(t.disabled=!0),e.display||(t.style.display="none"),e.placeholder&&t.setAttribute("data-placeholder","true"),e.mandatory&&t.setAttribute("data-mandatory","true"),e.class&&e.class.split(" ").forEach((e=>{t.classList.add(e)})),e.data&&"object"==typeof e.data&&Object.keys(e.data).forEach((s=>{t.setAttribute("data-"+o(s),e.data[s])})),t}destroy(){this.changeListen(!1),this.select.removeEventListener("change",this.valueChange),this.observer&&(this.observer.disconnect(),this.observer=null),delete this.select.dataset.id,this.showUI()}}class u{constructor(e){this.id="",this.style="",this.class=[],this.isMultiple=!1,this.isOpen=!1,this.isFullOpen=!1,this.intervalMove=null,e||(e={}),this.id="ss-"+t(),this.style=e.style||"",this.class=e.class||[],this.disabled=void 0!==e.disabled&&e.disabled,this.alwaysOpen=void 0!==e.alwaysOpen&&e.alwaysOpen,this.showSearch=void 0===e.showSearch||e.showSearch,this.focusSearch=void 0===e.focusSearch||e.focusSearch,this.ariaLabel=e.ariaLabel||"Combobox",this.searchPlaceholder=e.searchPlaceholder||"Search",this.searchText=e.searchText||"No Results",this.searchingText=e.searchingText||"Searching...",this.searchHighlight=void 0!==e.searchHighlight&&e.searchHighlight,this.closeOnSelect=void 0===e.closeOnSelect||e.closeOnSelect,this.contentLocation=e.contentLocation||document.body,this.contentPosition=e.contentPosition||"absolute",this.openPosition=e.openPosition||"auto",this.placeholderText=void 0!==e.placeholderText?e.placeholderText:"Select Value",this.allowDeselect=void 0!==e.allowDeselect&&e.allowDeselect,this.hideSelected=void 0!==e.hideSelected&&e.hideSelected,this.keepOrder=void 0!==e.keepOrder&&e.keepOrder,this.showOptionTooltips=void 0!==e.showOptionTooltips&&e.showOptionTooltips,this.minSelected=e.minSelected||0,this.maxSelected=e.maxSelected||1e3,this.timeoutDelay=e.timeoutDelay||200,this.maxValuesShown=e.maxValuesShown||20,this.maxValuesMessage=e.maxValuesMessage||"{number} selected",this.addableText=e.addableText||'Press "Enter" to add {value}'}}class h{constructor(t){var i;if(this.events={search:void 0,searchFilter:(e,t)=>-1!==e.text.toLowerCase().indexOf(t.toLowerCase()),addable:void 0,beforeChange:void 0,afterChange:void 0,beforeOpen:void 0,afterOpen:void 0,beforeClose:void 0,afterClose:void 0},this.windowResize=n((()=>{(this.settings.isOpen||this.settings.isFullOpen)&&this.render.moveContent()})),this.windowScroll=n((()=>{(this.settings.isOpen||this.settings.isFullOpen)&&this.render.moveContent()})),this.documentClick=e=>{this.settings.isOpen&&e.target&&!s(e.target,this.settings.id)&&this.close(e.type)},this.windowVisibilityChange=()=>{document.hidden&&this.close()},this.selectEl="string"==typeof t.select?document.querySelector(t.select):t.select,!this.selectEl)return void(t.events&&t.events.error&&t.events.error(new Error("Could not find select element")));if("SELECT"!==this.selectEl.tagName)return void(t.events&&t.events.error&&t.events.error(new Error("Element isnt of type select")));this.selectEl.dataset.ssid&&this.destroy(),this.settings=new u(t.settings),this.cssClasses=new e(t.cssClasses);const o=["afterChange","beforeOpen","afterOpen","beforeClose","afterClose"];for(const e in t.events)t.events.hasOwnProperty(e)&&(-1!==o.indexOf(e)?this.events[e]=n(t.events[e],100):this.events[e]=t.events[e]);this.settings.disabled=(null===(i=t.settings)||void 0===i?void 0:i.disabled)?t.settings.disabled:this.selectEl.disabled,this.settings.isMultiple=this.selectEl.multiple,this.settings.style=this.selectEl.style.cssText,this.settings.class=this.selectEl.className.split(" "),this.select=new d(this.selectEl),this.select.updateSelect(this.settings.id,this.settings.style,this.settings.class),this.select.hideUI(),this.select.onValueChange=e=>{this.setSelected(e.map((e=>e.id)))},this.select.onClassChange=e=>{this.settings.class=e,this.render.updateClassStyles()},this.select.onDisabledChange=e=>{e?this.disable():this.enable()},this.select.onOptionsChange=e=>{this.setData(e)},this.store=new c(this.settings.isMultiple?"multiple":"single",t.data?t.data:this.select.getData()),t.data&&this.select.updateOptions(this.store.getData());const r={open:this.open.bind(this),close:this.close.bind(this),addable:this.events.addable?this.events.addable:void 0,setSelected:this.setSelected.bind(this),addOption:this.addOption.bind(this),search:this.search.bind(this),beforeChange:this.events.beforeChange,afterChange:this.events.afterChange};this.render=new l(this.settings,this.cssClasses,this.store,r),this.render.renderValues(),this.render.renderOptions(this.store.getData());const a=this.selectEl.getAttribute("aria-label"),h=this.selectEl.getAttribute("aria-labelledby");a?this.render.main.main.setAttribute("aria-label",a):h&&this.render.main.main.setAttribute("aria-labelledby",h),this.selectEl.parentNode&&this.selectEl.parentNode.insertBefore(this.render.main.main,this.selectEl.nextSibling),window.addEventListener("resize",this.windowResize,!1),"auto"===this.settings.openPosition&&window.addEventListener("scroll",this.windowScroll,!1),document.addEventListener("visibilitychange",this.windowVisibilityChange),this.settings.disabled&&this.disable(),this.settings.alwaysOpen&&this.open(),this.selectEl.slim=this}enable(){this.settings.disabled=!1,this.select.enable(),this.render.enable()}disable(){this.settings.disabled=!0,this.select.disable(),this.render.disable()}getData(){return this.store.getData()}setData(e){const t=this.store.getSelected(),s=this.store.validateDataArray(e);if(s)return void(this.events.error&&this.events.error(s));this.store.setData(e);const n=this.store.getData();this.select.updateOptions(n),this.render.renderValues(),this.render.renderOptions(n),this.events.afterChange&&!i(t,this.store.getSelected())&&this.events.afterChange(this.store.getSelectedOptions())}getSelected(){let e=this.store.getSelectedOptions();return this.settings.keepOrder&&(e=this.store.selectedOrderOptions(e)),e.map((e=>e.value))}setSelected(e,t=!0){const s=this.store.getSelected(),n=this.store.getDataOptions();e=Array.isArray(e)?e:[e];const o=[];for(const t of e)if(n.find((e=>e.id==t)))o.push(t);else for(const e of n.filter((e=>e.value==t)))o.push(e.id);this.store.setSelectedBy("id",o);const r=this.store.getData();this.select.updateOptions(r),this.render.renderValues(),""!==this.render.content.search.input.value?this.search(this.render.content.search.input.value):this.render.renderOptions(r),t&&this.events.afterChange&&!i(s,this.store.getSelected())&&this.events.afterChange(this.store.getSelectedOptions())}addOption(e){const t=this.store.getSelected();this.store.getDataOptions().some((t=>{var s;return t.value===(null!==(s=e.value)&&void 0!==s?s:e.text)}))||this.store.addOption(e);const s=this.store.getData();this.select.updateOptions(s),this.render.renderValues(),this.render.renderOptions(s),this.events.afterChange&&!i(t,this.store.getSelected())&&this.events.afterChange(this.store.getSelectedOptions())}open(){this.settings.disabled||this.settings.isOpen||(this.events.beforeOpen&&this.events.beforeOpen(),this.render.open(),this.settings.showSearch&&this.settings.focusSearch&&this.render.searchFocus(),this.settings.isOpen=!0,setTimeout((()=>{this.events.afterOpen&&this.events.afterOpen(),this.settings.isOpen&&(this.settings.isFullOpen=!0),document.addEventListener("click",this.documentClick)}),this.settings.timeoutDelay),"absolute"===this.settings.contentPosition&&(this.settings.intervalMove&&clearInterval(this.settings.intervalMove),this.settings.intervalMove=setInterval(this.render.moveContent.bind(this.render),500)))}close(e=null){this.settings.isOpen&&!this.settings.alwaysOpen&&(this.events.beforeClose&&this.events.beforeClose(),this.render.close(),""!==this.render.content.search.input.value&&this.search(""),this.render.mainFocus(e),this.settings.isOpen=!1,this.settings.isFullOpen=!1,setTimeout((()=>{this.events.afterClose&&this.events.afterClose(),document.removeEventListener("click",this.documentClick)}),this.settings.timeoutDelay),this.settings.intervalMove&&clearInterval(this.settings.intervalMove))}search(e){if(this.render.content.search.input.value!==e&&(this.render.content.search.input.value=e),!this.events.search)return void this.render.renderOptions(""===e?this.store.getData():this.store.search(e,this.events.searchFilter));this.render.renderSearching();const t=this.events.search(e,this.store.getSelectedOptions());t instanceof Promise?t.then((e=>{this.render.renderOptions(this.store.partialToFullData(e))})).catch((e=>{this.render.renderError("string"==typeof e?e:e.message)})):Array.isArray(t)?this.render.renderOptions(this.store.partialToFullData(t)):this.render.renderError("Search event must return a promise or an array of data")}destroy(){document.removeEventListener("click",this.documentClick),window.removeEventListener("resize",this.windowResize,!1),"auto"===this.settings.openPosition&&window.removeEventListener("scroll",this.windowScroll,!1),document.removeEventListener("visibilitychange",this.windowVisibilityChange),this.store.setData([]),this.render.destroy(),this.select.destroy()}}return h}()},function(e,t,s){"use strict";const n=s(1);e.exports=(e,t,s)=>n.tabs.sendMessage(t,{action:"notification",title:e.Title,message:e.Message,timeout:s})},function(e,t,s){"use strict";const n=s(29);e.exports=(e,t)=>{const s={title:e.Title,message:e.Message,timeout:t};return n(s)}},function(e){"use strict";e.exports=function(e){let t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";const s=document.createElement(e);return s.className=t,s}},function(e){"use strict";e.exports=(e,t)=>{const s=document.createElement("img");return s.src=e,s.alt=t,s}},function(e){"use strict";e.exports=e=>{const t=document.createElement("svg");return t.innerHTML=e.trim(),t.firstChild}},function(e,t,s){"use strict";const n=s(1);e.exports=(e,t)=>{const s={title:e.Title,message:e.Message,iconUrl:"../images/icons/icon128.png",silent:!t,requireInteraction:!1,type:"basic",priority:t?1:0};return delete s.silent,delete s.requireInteraction,n.notifications.create("",s)}},function(e,t,s){"use strict";const n=s(1);e.exports=e=>{const t={title:e.Title,message:e.Message,iconUrl:"../images/icons/icon128.png",silent:!1,requireInteraction:!0,type:"basic",priority:2};return delete t.silent,delete t.requireInteraction,n.notifications.create("",t)}},function(e,t,s){"use strict";const n=s(1);e.exports=e=>n.storage.local.remove(e.toString()).then((e=>e)).catch((e=>{throw console.error({err:e}),new Error(e)}))},function(e,t,s){"use strict";const{v4:n}=s(124),i=s(35),o=s(32),r=s(39);e.exports=()=>{const e=document.activeElement;let t;if(e&&(t=e.nodeName.toLowerCase()),!e||"input"!==t&&"textarea"!==t)return{status:"activeElement",nodeName:t,id:null};const s=n();return e.setAttribute("data-twofas-input",s),i(),o(r()),{status:"activeElement",nodeName:t,id:s}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i,o,r=(n=s(38))&&n.__esModule?n:{default:n},a=s(7);var c=0,l=0;t.default=function(e,t,s){var n=t&&s||0,d=t||new Array(16),u=(e=e||{}).node,h=e.clockseq;if(e._v6||(u||(u=i),null==h&&(h=o)),null==u||null==h){var g=e.random||(e.rng||r.default)();null==u&&(u=[g[0],g[1],g[2],g[3],g[4],g[5]],i||e._v6||(u[0]|=1,i=u)),null==h&&(h=16383&(g[6]<<8|g[7]),void 0!==o||e._v6||(o=h))}var m=void 0!==e.msecs?e.msecs:Date.now(),p=void 0!==e.nsecs?e.nsecs:l+1,f=m-c+(p-l)/1e4;if(f<0&&void 0===e.clockseq&&(h=h+1&16383),(f<0||m>c)&&void 0===e.nsecs&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=m,l=p,o=h;var v=(1e4*(268435455&(m+=122192928e5))+p)%4294967296;d[n++]=v>>>24&255,d[n++]=v>>>16&255,d[n++]=v>>>8&255,d[n++]=255&v;var b=m/4294967296*1e4&268435455;d[n++]=b>>>8&255,d[n++]=255&b,d[n++]=b>>>24&15|16,d[n++]=b>>>16&255,d[n++]=h>>>8|128,d[n++]=255&h;for(var x=0;x<6;++x)d[n+x]=u[x];return t||(0,a.unsafeStringify)(d)}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=function(e,t=!1){return Uint8Array.of((15&e[6])<<4|e[7]>>4&15,(15&e[7])<<4|(240&e[4])>>4,(15&e[4])<<4|(240&e[5])>>4,(15&e[5])<<4|(240&e[0])>>4,(15&e[0])<<4|(240&e[1])>>4,(15&e[1])<<4|(240&e[2])>>4,96|15&e[2],e[3],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}("string"==typeof e?(0,i.default)(e):e);return"string"==typeof e?(0,o.unsafeStringify)(t):t};var n,i=(n=s(22))&&n.__esModule?n:{default:n},o=s(7)},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=void 0,t.default=function(e,t,s){function n(e,n,r,a){var c;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],s=0;s<e.length;++s)t.push(e.charCodeAt(s));return t}(e)),"string"==typeof n&&(n=(0,o.default)(n)),16!==(null===(c=n)||void 0===c?void 0:c.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+e.length);if(l.set(n),l.set(e,n.length),(l=s(l))[6]=15&l[6]|t,l[8]=63&l[8]|128,r){a=a||0;for(var d=0;d<16;++d)r[a+d]=l[d];return r}return(0,i.unsafeStringify)(l)}try{n.name=e}catch(e){}return n.DNS=r,n.URL=a,n};var n,i=s(7),o=(n=s(22))&&n.__esModule?n:{default:n};var r=t.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",a=t.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8"},function(e){"use strict";e.exports=e=>!!e&&document.querySelector(`*[data-twofas-input="${e}"]`)},function(e,t,s){"use strict";const n=s(42),i=s(41),o=s(36),r=s(33);e.exports=(e,t,s)=>new Promise((a=>{if(!e.token)return{status:"error"};if(!t)return{status:"emptyInput"};const c=e.token.length,l=[];t.value="",t.focus();for(let s=0;s<c;s++)l.push((()=>new Promise((n=>(document.activeElement!==t&&(document.activeElement.value=""),document.activeElement.dispatchEvent(new KeyboardEvent("keydown",{bubbles:!0,cancelable:!0,charCode:0,code:`Digit${e.token[s]}`,ctrlKey:!1,key:e.token[s],keyCode:48+parseInt(e.token[s],10),location:0,metaKey:!1,repeat:!1,shiftKey:!1,which:48+parseInt(e.token[s],10)})),document.activeElement.dispatchEvent(new KeyboardEvent("keypress",{bubbles:!0,cancelable:!0,charCode:48+parseInt(e.token[s],10),code:`Digit${e.token[s]}`,ctrlKey:!1,key:e.token[s],keyCode:48+parseInt(e.token[s],10),location:0,metaKey:!1,repeat:!1,shiftKey:!1,which:48+parseInt(e.token[s],10)})),document.activeElement.value+="number"===document.activeElement.type.toLowerCase()?parseInt(e.token[s],10):e.token[s],document.activeElement.dispatchEvent(new InputEvent("input",{bubbles:!0,cancelable:!0,data:e.token[s],inputType:"insertText",which:0})),document.activeElement.dispatchEvent(new KeyboardEvent("keyup",{bubbles:!0,cancelable:!0,charCode:0,code:`Digit${e.token[s]}`,ctrlKey:!1,key:e.token[s],keyCode:48+parseInt(e.token[s],10),location:0,metaKey:!1,repeat:!1,shiftKey:!1,which:48+parseInt(e.token[s],10)})),document.activeElement.dispatchEvent(new Event("change",{bubbles:!0,cancelable:!0})),n())))));return n(l,150).then((async()=>{const e=await i();return"complete"===e.status&&o(t,s),r(t,e.id),a({status:"completed",url:s})}))}))},function(e,t,s){"use strict";e.exports=()=>{if(document.fonts.check("bold 16px Montserrat")&&document.fonts.check("normal 16px Montserrat"))return!1;const e=s(1);let t=[new FontFace("Montserrat",`url(${e.runtime.getURL("fonts/montserrat-v25-latin-700.woff2")})`,{style:"normal",weight:"700"}),new FontFace("Montserrat",`url(${e.runtime.getURL("fonts/montserrat-v25-latin-regular.woff2")})`,{style:"normal",weight:"400"})];t.forEach((e=>document.fonts.add(e))),window.addEventListener("beforeunload",(()=>{t.forEach((e=>document.fonts.delete(e))),t=null}),{once:!0})}},function(e,t,s){"use strict";const n=s(1);e.exports=async()=>{function e(e){return new Promise((t=>{(e=n.runtime.connect({name:"2FAS"}))._oM=function(e,t){setTimeout((()=>{try{return t.postMessage({msg:"ping"})}catch(e){}}),1e4)},e.onMessage.addListener(e._oM),e._resolve=t,e.onDisconnect.addListener(e._resolve),e.postMessage({msg:"ping"})}))}for(;;){let t;t=await e(t),t.onDisconnect.removeListener(t._resolve),t.onMessage.removeListener(t._oM),t._oM=void 0,t._resolve=void 0,t=void 0}}},function(e,t,s){"use strict";const n=s(1),{createElement:i,createTextElement:o,createSVGElement:r}=s(9),a=s(30),c=s(2),l=s(21),d=s(44),u=s(10),h=s(45),g=s(0);e.exports=()=>{if(u())return!1;let e={container:document.querySelector(g.notification.container),notification:null,firstCol:null,logo:null,secondCol:null,header:null,h3:null,notificationText:null,p:null,a:null,dot:null,buttonsContainer:null,buttonNever:null,buttonClose:null};return e.container||(e.container=i("div","twofas-be-notifications"),window.top.document.body.appendChild(e.container)),!(0<document.querySelectorAll(g.notification.visible).length)&&(e.notification=i("div","twofas-be-notification"),e.firstCol=i("div","twofas-be-col"),e.logo=r(a),e.firstCol.appendChild(e.logo),e.notification.appendChild(e.firstCol),e.secondCol=i("div","twofas-be-col"),e.header=i("div","twofas-be-notification-header"),e.h3=o("h3",c.Texts.Info.NativeNotifications.Title),e.header.appendChild(e.h3),e.secondCol.appendChild(e.header),e.notificationText=i("div","twofas-be-notification-text"),e.p=o("p",c.Texts.Info.NativeNotifications.Message),e.a=o("a",c.Texts.Info.EnabledNativeNotifications),e.a.href="#",e.a.addEventListener("click",h),e.p.appendChild(e.a),e.dot=document.createTextNode("."),e.p.appendChild(e.dot),e.notificationText.appendChild(e.p),e.secondCol.appendChild(e.notificationText),e.buttonsContainer=i("div","twofas-be-notification-buttons"),e.buttonNever=o("button",n.i18n.getMessage("neverShowAgain"),"twofas-never"),e.buttonClose=o("button",n.i18n.getMessage("close"),"twofas-close"),e.buttonNever.addEventListener("click",(()=>d(e))),e.buttonClose.addEventListener("click",(()=>l(e))),e.buttonsContainer.appendChild(e.buttonNever),e.buttonsContainer.appendChild(e.buttonClose),e.secondCol.appendChild(e.buttonsContainer),e.notification.appendChild(e.secondCol),e.container.appendChild(e.notification),setTimeout((()=>e.notification.classList.add("visible")),300),void window.addEventListener("beforeunload",(()=>{e.notification.classList.remove("visible"),setTimeout((()=>{e.notification.classList.add("hidden"),e=null}),300)})))}},function(e,t,s){"use strict";const n=s(2),i=s(10),{createElement:o,createSVGElement:r,createTextElement:a}=s(9),c=s(30),l=s(138),d=s(139),u=s(0);e.exports=e=>{if(i())return!1;let t={container:document.querySelector(u.notification.container),notification:null,firstCol:null,logo:null,secondCol:null,header:null,h3:null,tokenBox:null,tokenText:null,tokenIconContainer:null,tokenIcon:null,tokenButton:null,tokenButtonText:null,notificationText:null,p:null,closeBtn:null,close:null};const s=e=>{e&&(e.preventDefault(),e.stopPropagation()),t&&t.notification&&t.notification.classList.remove("visible"),setTimeout((()=>{t&&t.notification&&(t.notification.classList.add("hidden"),t=null)}),300)};t.container||(t.container=o("div","twofas-be-notifications"),window.top.document.body.appendChild(t.container)),t.notification=o("div","twofas-be-notification"),t.closeBtn=o("button","twofas-be-notification-close"),t.closeBtn.addEventListener("click",s),t.close=r(d),t.closeBtn.appendChild(t.close),t.notification.appendChild(t.closeBtn),t.firstCol=o("div","twofas-be-col"),t.logo=r(c),t.firstCol.appendChild(t.logo),t.notification.appendChild(t.firstCol),t.secondCol=o("div","twofas-be-col"),t.header=o("div","twofas-be-notification-header"),t.h3=a("h3",n.Texts.Token.Header),t.header.appendChild(t.h3),t.secondCol.appendChild(t.header),t.tokenBox=o("div","twofas-be-notification-token-box"),t.tokenText=a("p",e,"twofas-be-notification-token-box-text"),t.tokenButton=o("button","twofas-be-notification-token-box-copy-button"),t.tokenButton.addEventListener("click",(()=>{navigator.clipboard.writeText(e),t.tokenButtonText.innerText=n.Texts.Token.Copied,setTimeout((()=>{t.tokenButtonText.innerText=n.Texts.Token.Copy}),1e3)})),t.tokenButtonText=a("span",n.Texts.Token.Copy),t.tokenIconContainer=o("div","twofas-be-notification-token-box-copy-icon"),t.tokenIcon=r(l),t.tokenButton.appendChild(t.tokenButtonText),t.tokenIconContainer.appendChild(t.tokenIcon),t.tokenButton.appendChild(t.tokenIconContainer),t.tokenBox.appendChild(t.tokenText),t.tokenBox.appendChild(t.tokenButton),t.secondCol.appendChild(t.tokenBox),t.notificationText=o("div","twofas-be-notification-text"),t.p=a("p",n.Texts.Token.Description),t.notificationText.appendChild(t.p),t.secondCol.appendChild(t.notificationText),t.notification.appendChild(t.secondCol),t.container.appendChild(t.notification),setTimeout((()=>t.notification.classList.add("visible")),300),window.addEventListener("beforeunload",(()=>{s()})),setTimeout((()=>{t&&t.notification&&t.notification.classList.remove("visible")}),30300),setTimeout((()=>{t&&t.notification&&(t.notification.classList.add("hidden"),t=null)}),30600)}},function(e,t,s){"use strict";s(1);e.exports=()=>{0}},function(e,t,s){"use strict";const n=s(0);e.exports=function(){let e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0;const s=document.querySelector(n.preload);if(s&&s.classList.remove("show-preloader"),e)if("configured"===t){const e=document.querySelector(n.installPage.configured);e&&e.classList.remove("hidden")}else{const e=document.querySelector(n.installPage.newDevice);e&&e.classList.remove("hidden")}setTimeout((()=>{const e=document.querySelectorAll(n.optionsPage.toggle);return!(0>=e.length)&&void e.forEach((e=>e.classList.add("loaded")))}),450)}},function(e,t,s){"use strict";const n=s(1),i=s(2),o=s(3);e.exports=(e,t)=>n.tabs.sendMessage(e,t).then((t=>!!t&&("notification"===t?.status&&o.show({Title:t.title,Message:t.message},e)))).catch((t=>{if(t.toString().includes("Receiving end does not exist"))return o.show(i.Texts.Error.LackOfTab,e)}))},function(e,t,s){"use strict";const n=s(2),i=s(3);e.exports=e=>new Promise(((t,s)=>e.keys&&e?.keys?.publicKey&&e?.keys?.privateKey&&e?.extensionID?t():e?.attempt&&5<e?.attempt?(i.show(n.Texts.Error.StorageIntegrity),s(new TypeError("Too many attempts"))):(i.show(n.Texts.Error.StorageCorrupted),s(new TypeError("Storage corrupted")))))},function(e,t,s){"use strict";const n=s(1),{createElement:i,createSVGElement:o,createTextElement:r}=s(9),a=s(56),c=s(26),l=s(0),d=s(47),u=s(143);e.exports=e=>{const t=document.querySelector(l.optionsPage.devicesList);0===e.length&&c(t);e.sort(((e,t)=>+new Date(t.paired_at)-+new Date(e.paired_at))).map((e=>{let s={tr:null,td:[null,null,null,null],deviceName:null,pairDate:null,dateString:null,datePaired:null,platform:null,button:null,svg:null};return s.tr=i("tr"),s.tr.dataset.deviceId=e.id,s.td[0]=i("td"),s.td[0].setAttribute("data-before-i18n",n.i18n.getMessage("deviceName")),s.deviceName=r("span",e.name),s.td[0].appendChild(s.deviceName),s.tr.appendChild(s.td[0]),s.td[1]=i("td"),s.td[1].setAttribute("data-before-i18n",n.i18n.getMessage("pairingDate")),s.pairDate=new Date(e.paired_at),s.dateString=`${d[s.pairDate.getMonth()]} ${("0"+s.pairDate.getDate()).slice(-2)},  ${s.pairDate.getFullYear()}`,s.datePaired=r("span",s.dateString),s.td[1].appendChild(s.datePaired),s.tr.appendChild(s.td[1]),s.td[2]=i("td"),s.td[2].setAttribute("data-before-i18n",n.i18n.getMessage("platform")),s.platform=r("span","android"===e.platform?"Android":"iOS"),s.td[2].appendChild(s.platform),s.tr.appendChild(s.td[2]),s.td[3]=i("td"),s.td[3].setAttribute("data-before-i18n",n.i18n.getMessage("disconnect")),s.button=i("button"),s.button.dataset.deviceId=e.id,s.button.dataset.deviceName=e.name,s.button.addEventListener("click",a),s.svg=o(u),s.button.appendChild(s.svg),s.td[3].appendChild(s.button),s.tr.appendChild(s.td[3]),t.appendChild(s.tr),s=null,e}))}},function(e,t,s){"use strict";const n=s(0);e.exports=()=>{const e=document.querySelector(n.optionsPage.shortcut.edit);let t;e&&(t="about:addons",e.setAttribute("data-shortcut-link",t))}},function(e,t,s){"use strict";const n=s(1),{loadFromLocalStorage:i,saveToLocalStorage:o}=s(4),r=s(99);e.exports=()=>i(["contextMenu"]).then((e=>"contextMenu"in e?e:o({contextMenu:!0},e))).then((e=>{if(e.contextMenu){const e={title:n.i18n.getMessage("shortcutDesc"),id:"twofas-context-menu",contexts:["page","editable"],enabled:!0,type:"normal",visible:!0,icons:{16:"/images/icons/icon16.png",32:"/images/icons/icon32.png"}};n.contextMenus.removeAll(),n.contextMenus.create(e)}r()})).catch((()=>{}))},function(e,t,s){"use strict";const n=s(1);e.exports=()=>{n.contextMenus.create({title:n.i18n.getMessage("options"),id:"twofas-firefox-options-menu",contexts:["browser_action"],enabled:!0,type:"normal",visible:!0})}},function(e){"use strict";e.exports=[]},function(e,t,s){"use strict";const n=s(0),i=s(60),o=s(65),r=s(62),a=s(70),c=s(102),l=s(71);e.exports=()=>{document.querySelector(n.optionsPage.advanced.header).addEventListener("click",i);const e=document.querySelector(n.optionsPage.logsInput),t=document.querySelector(n.optionsPage.contextMenuInput),s=document.querySelectorAll('input[name="pushConfig"]'),d=document.querySelector(n.optionsPage.testNotification),u=document.querySelector(n.optionsPage.safariReset);e&&e.addEventListener("change",o),t&&t.addEventListener("change",r),s&&Array.from(s).forEach((e=>e.addEventListener("change",a))),d&&d.addEventListener("click",l),u&&u.addEventListener("click",c)}},function(e,t,s){"use strict";const n=s(1),i=s(2),o=s(3),r=s(15),a=s(34),c=s(5),l=s(13);e.exports=()=>{r(n.i18n.getMessage("modalSafariResetHeader"),n.i18n.getMessage("modalSafariResetText"),(()=>a().then((()=>o.show(i.Texts.Success.SafariReset))).then((()=>l((()=>n.runtime.sendMessage({action:"storageReset"}).then((()=>window.location.reload()))),2e3))).catch((async e=>(await c("error",36,e,"handleSafariReset"),o.show(i.Texts.Error.UndefinedError,null,!0))))))}},function(e,t,s){"use strict";const n=s(0),i=s(61),{loadFromLocalStorage:o,saveToLocalStorage:r}=s(4);e.exports=()=>o(["autoSubmitEnabled"]).then((e=>"autoSubmitEnabled"in e?e:r({autoSubmitEnabled:!1},e))).then((e=>{const t=document.querySelector(n.optionsPage.autoSubmit.toggle);return t&&(t.checked=e.autoSubmitEnabled),t.addEventListener("change",i),Promise.resolve()})).catch((()=>{}))},function(e,t,s){"use strict";const n=s(0);e.exports=e=>{document.querySelector(n.extName.input).value=e}},function(e,t,s){"use strict";const{loadFromLocalStorage:n,saveToLocalStorage:i}=s(4);e.exports=()=>n(["contextMenu"]).then((e=>"contextMenu"in e?e:i({contextMenu:!0},e))).then((e=>{const t=document.querySelector("input#twofas-context-menu");return t&&(t.checked=e.contextMenu),Promise.resolve()})).catch((()=>{}))},function(e,t,s){"use strict";const n=s(0),i=s(46);e.exports=e=>{document.querySelector(n.extName.updateForm).addEventListener("submit",(t=>i(e,t)))}},function(e,t,s){"use strict";const n=s(1),i=s(0);e.exports=()=>{const e=n.runtime.getManifest().version;document.querySelectorAll(i.optionsPage.extVersion).forEach((t=>{t.innerText=e}))}},function(e,t,s){"use strict";const n=s(0),i=s(67),o=s(68),r=s(69);e.exports=()=>{const e=document.querySelector(n.optionsPage.pin.gotIt),t=document.querySelectorAll(n.optionsPage.pin.next),s=document.querySelector(n.optionsPage.pin.prev);e&&e.addEventListener("click",i),t&&t.forEach((e=>{e.addEventListener("click",o)})),s&&s.addEventListener("click",r)}},function(e,t,s){"use strict";const n=s(0),i=s(63);e.exports=()=>{const e=document.querySelector(n.optionsPage.hamburger.element);e&&e.addEventListener("click",i)}},function(e,t,s){"use strict";const n=s(73),i=s(1),{loadFromLocalStorage:o,saveToLocalStorage:r}=s(4),a=s(111);e.exports=async()=>{const{extIcon:e}=await o(["extIcon"]);new n({select:"#twofas-icon-select",data:[{html:`<span><img src="${i.runtime.getURL("images/icons/icon128.png")}" alt="Default" /><span>Default</span></span>`,text:"Default",value:0,selected:0===e},{html:`<span><img src="${i.runtime.getURL("images/icons/icon128_1.png")}" alt="Type1" /><span>Type 1</span></span>`,text:"Type 1",value:1,selected:1===e},{html:`<span><img src="${i.runtime.getURL("images/icons/icon128_2.png")}" alt="Type1" /><span>Type 2</span></span>`,text:"Type 2",value:2,selected:2===e}],settings:{showSearch:!1,closeOnSelect:!0},events:{afterChange:async e=>{const t=await i.tabs.query({active:!0,currentWindow:!0}).then((e=>e[0].id));await r({extIcon:parseInt(e[0].value,10)}),await a(null,!1,!1),await a(t,!1,!1)}}})}},function(e,t,s){"use strict";const n=s(1),i=s(8);e.exports=async function(e){let t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],s=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];const o=await(async(e,t)=>{let s=0,o="",r="";{const e=await i(["extIcon"]);e&&e?.extIcon&&!isNaN(e.extIcon)&&(s=parseInt(e.extIcon,10),s>2&&(s=0)),0!==s&&(o=`_${s}`),r=t?o:`${o}gray`}const a={path:{16:n.runtime.getURL(`images/icons/icon16${r}.png`),32:n.runtime.getURL(`images/icons/icon32${r}.png`),48:n.runtime.getURL(`images/icons/icon48${r}.png`),96:n.runtime.getURL(`images/icons/icon96${r}.png`),128:n.runtime.getURL(`images/icons/icon128${r}.png`)}};return e&&(a.tabId=e),a})(e,t),r=t?"2FAS - Two Factor Authentication":n.i18n.getMessage("inActiveTabInfo");n.browserAction.setIcon(o),(t||!t&&s)&&await n.browserAction.setTitle({tabId:e,title:r})}},function(e,t,s){"use strict";const n=s(0),i=s(64);e.exports=()=>{document.querySelector(n.optionsPage.autoSubmit.importDefault).addEventListener("click",i)}},function(e,t,s){"use strict";const{loadFromLocalStorage:n,saveToLocalStorage:i}=s(4);e.exports=()=>n(["logging"]).then((e=>"logging"in e?e:i({logging:!1},e))).then((e=>{const t=document.querySelector("input#twofas-logs");return t&&(t.checked=e.logging),Promise.resolve()})).catch((()=>{}))},function(e,t,s){"use strict";const n=s(0),i=s(66);e.exports=()=>{document.querySelectorAll(n.optionsPage.menuLink).forEach((e=>e.addEventListener("click",i)))}},function(e,t,s){"use strict";const n=s(0),i=s(24),o=s(14),r=s(27),a=s(51),c=s(52),l=s(72);e.exports=()=>{const e=document.querySelectorAll(n.optionsPage.confirmModal.cancel);Array.from(e).forEach((e=>e.addEventListener("click",i)));const t=document.querySelectorAll(n.optionsPage.domainModal.cancel);Array.from(t).forEach((e=>e.addEventListener("click",o)));const s=document.querySelectorAll(n.optionsPage.autoSubmit.add);Array.from(s).forEach((e=>e.addEventListener("click",l)));const d=document.querySelector(n.optionsPage.confirmModal.element);d.addEventListener("click",r);const u=document.querySelector(n.optionsPage.domainModal.element);u.addEventListener("click",a);document.querySelector(n.optionsPage.domainModal.form).addEventListener("submit",c),window.addEventListener("keydown",(e=>{if("Escape"===e.code){if(!d.classList.contains("hidden"))return i();if(!u.classList.contains("hidden"))return o()}}))}},function(e,t,s){"use strict";const n=s(8),i=s(0);e.exports=()=>n("pinInfo").then((e=>{if(!e.pinInfo){const e=document.querySelector(i.optionsPage.pin.info);e&&e.classList.remove("hidden")}}))},function(e,t,s){"use strict";const{loadFromLocalStorage:n,saveToLocalStorage:i}=s(4);e.exports=()=>n(["nativePush"]).then((e=>"nativePush"in e?e:i({nativePush:!0},e))).then((e=>{const t=document.querySelectorAll('input[name="pushConfig"]');return t&&t.forEach((t=>{"custom"!==t.value||e.nativePush?"native"===t.value&&e.nativePush&&(t.checked=!0):t.checked=!0})),Promise.resolve()})).catch((()=>{}))},function(e,t,s){"use strict";const n=s(0),i=s(48),o=s(49),r=s(59);e.exports=()=>{const e=document.querySelector(n.optionsPage.shortcut.edit);e&&e.addEventListener("click",o);const t=document.querySelector(n.optionsPage.shortcut.info);if(t){const e=document.querySelector(n.optionsPage.shortcut.tooltip),s=document.querySelector(n.optionsPage.shortcut.close);e&&s&&(t.addEventListener("click",(()=>{e.classList.add("visible")})),s.addEventListener("click",(()=>{e.classList.remove("visible")})))}document.addEventListener("visibilitychange",(()=>i(r,null)))}},function(e,t,s){"use strict";const n=s(0);e.exports=()=>{document.querySelector(n.optionsPage.integrityError).classList.add("show-integrity-error")}},,function(e){"use strict";e.exports=JSON.parse('{"errorGeneralTitle":"Error","errorGeneralMessage":"Please refresh and try again.","errorUndefinedErrorTitle":"Something went wrong","errorUndefinedErrorMessage":"Please refresh and try again.","errorTimeoutTitle":"Timeout","errorTimeoutMessage":"Closed connection due to a time limit. Please click regenerate button to try again.","errorPushExpiredTitle":"Push expired for DOMAIN","errorPushExpiredMessage":"Please try again.","errorWebSocketTitle":"WebSocket Error","errorWebSocketMessage":"Something went wrong with the WebSocket request. Please try again.","errorOnInstallErrorTitle":"Something went wrong","errorOnInstallErrorMessage":"Please restart your browser or reinstall the extension.","errorExtNameRequiredTitle":"Extension name required","errorExtNameRequiredMessage":"Please enter the extension name.","errorExtNameMinLengthTitle":"Extension name is too short","errorExtNameMinLengthMessage":"Please enter the extension name with at least 3 characters.","errorExtNameMaxLengthTitle":"Extension name is too long","errorExtNameMaxLengthMessage":"Please enter the extension name with no more than 32 characters.","errorConfigFirstTitle":"Configuration required","errorConfigFirstMessage":"Please configure 2FAS Extension first.","errorRemoveDeviceBadDataTitle":"Device data error","errorRemoveDeviceBadDataMessage":"Please refresh and try again.","errorRemoveDomainBadDataTitle":"Domain data error","errorRemoveDomainBadDataMessage":"Please refresh and try again.","errorStorageCorruptedTitle":"Extension storage is corrupted","errorStorageCorruptedMessage":"We will try to fix it for you. Please wait.","errorInactiveTabTitle":"Inactive tab","errorInactiveTabMessage":"Please refresh this tab to use the 2FAS Browser Extension.","errorLackOfTabTitle":"Your tab has been closed","errorLackOfTabMessage":"The request will be ignored","errorInputNotExistTitle":"Input element does not exists","errorInputNotExistMessage":"Please refresh and try again.","errorStorageIntegrityTitle":"Browser Extension data error","errorStorageIntegrityMessage":"Please reinstall browser extension or contact with 2FAS Support on Discord","warningTooSoonTitle":"Wait a moment","warningTooSoonMessage":"Please wait DIFF seconds before sending another request.","successPushSentTitle":"Push sent","successPushSentMessage":"Please check your phone and accept your login request.","successPushSentClipboardTitle":"Push sent","successPushSentClipboardMessage":"Please check your phone and accept your login request. Copy your token and paste it into the correct input on the website.","successExtNameUpdatedTitle":"Success","successExtNameUpdatedMessage":"Extension name updated","successDeviceDisconnectedTitle":"Success","successDeviceDisconnectedMessage":"Device disconnected","successSafariResetTitle":"Success","successSafariResetMessage":"Browser Extension configuration removed","successDomainExcludedTitle":"Success","successDomainExcludedMessage":"Domain added to excluded list","successDomainExcludedRemovedTitle":"Success","successDomainExcludedRemovedMessage":"Domain removed from excluded list","infoNativeNotificationsTitle":"2FAS Notifications","infoNativeNotificationsMessage":"From now on, you\'ll be receiving system notifications instead of 2FAS custom ones. If you\'d like to change this, go to the ","infoEnabledNativeNotifications":"extension\'s settings","infoUnsupportedProtocolTitle":"Info","infoUnsupportedProtocolMessage":"Only HTTP and HTTPS protocols are supported by 2FAS Extension","infoBrowserActionWithoutTabTitle":"Info","infoBrowserActionWithoutTabMessage":"Using outside the browser is not supported by 2FAS Extension","infoCopiedToClipboardTitle":"Successfully copied to clipboard","infoCopiedToClipboardMessage":"You can now paste the token into the input field","infoTestTitle":"2FAS Notification","infoTestMessage":"Hi! This is just a test"}')},function(e,t,s){"use strict";t.sendFrontEndPushAction=s(74),t.showFrontEndPush=s(75),t.showNativePush=s(79),t.showNativePushWithoutTimeout=s(80)},function(e,t,s){"use strict";t.addFormElementsNumber=s(32),t.clearAfterInputToken=s(33),t.clearFormElementsNumber=s(35),t.clickSubmit=s(36),t.closeNotificationInfo=s(21),t.getActiveElement=s(82),t.getFormElements=s(39),t.getFormSubmitElements=s(37),t.getTabData=s(41),t.getTokenInput=s(86),t.inputToken=s(87),t.isInFrame=s(10),t.loadFonts=s(88),t.neverShowNotificationInfo=s(44),t.notification=s(29),t.openOptionsPage=s(45),t.portSetup=s(89),t.showNotificationInfo=s(90),t.tokenNotification=s(91)},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"MAX",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"v1ToV6",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"v6",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"v6ToV1",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"v7",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return f.default}});var n=v(s(125)),i=v(s(126)),o=v(s(22)),r=v(s(7)),a=v(s(83)),c=v(s(84)),l=v(s(128)),d=v(s(130)),u=v(s(132)),h=v(s(134)),g=v(s(135)),m=v(s(136)),p=v(s(23)),f=v(s(137));function v(e){return e&&e.__esModule?e:{default:e}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default="ffffffff-ffff-ffff-ffff-ffffffffffff"},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default="00000000-0000-0000-0000-000000000000"},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(s(85)),i=o(s(129));function o(e){return e&&e.__esModule?e:{default:e}}var r=(0,n.default)("v3",48,i.default);t.default=r},function(e,t){"use strict";function s(e){return 14+(e+64>>>9<<4)+1}function n(e,t){var s=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(s>>16)<<16|65535&s}function i(e,t,s,i,o,r){return n((a=n(n(t,e),n(i,r)))<<(c=o)|a>>>32-c,s);var a,c}function o(e,t,s,n,o,r,a){return i(t&s|~t&n,e,t,o,r,a)}function r(e,t,s,n,o,r,a){return i(t&n|s&~n,e,t,o,r,a)}function a(e,t,s,n,o,r,a){return i(t^s^n,e,t,o,r,a)}function c(e,t,s,n,o,r,a){return i(s^(t|~n),e,t,o,r,a)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var i=0;i<t.length;++i)e[i]=t.charCodeAt(i)}return function(e){for(var t=[],s=32*e.length,n="0123456789abcdef",i=0;i<s;i+=8){var o=e[i>>5]>>>i%32&255,r=parseInt(n.charAt(o>>>4&15)+n.charAt(15&o),16);t.push(r)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[s(t)-1]=t;for(var i=1732584193,l=-271733879,d=-1732584194,u=271733878,h=0;h<e.length;h+=16){var g=i,m=l,p=d,f=u;i=o(i,l,d,u,e[h],7,-680876936),u=o(u,i,l,d,e[h+1],12,-389564586),d=o(d,u,i,l,e[h+2],17,606105819),l=o(l,d,u,i,e[h+3],22,-1044525330),i=o(i,l,d,u,e[h+4],7,-176418897),u=o(u,i,l,d,e[h+5],12,1200080426),d=o(d,u,i,l,e[h+6],17,-1473231341),l=o(l,d,u,i,e[h+7],22,-45705983),i=o(i,l,d,u,e[h+8],7,1770035416),u=o(u,i,l,d,e[h+9],12,-1958414417),d=o(d,u,i,l,e[h+10],17,-42063),l=o(l,d,u,i,e[h+11],22,-1990404162),i=o(i,l,d,u,e[h+12],7,1804603682),u=o(u,i,l,d,e[h+13],12,-40341101),d=o(d,u,i,l,e[h+14],17,-1502002290),i=r(i,l=o(l,d,u,i,e[h+15],22,1236535329),d,u,e[h+1],5,-165796510),u=r(u,i,l,d,e[h+6],9,-1069501632),d=r(d,u,i,l,e[h+11],14,643717713),l=r(l,d,u,i,e[h],20,-373897302),i=r(i,l,d,u,e[h+5],5,-701558691),u=r(u,i,l,d,e[h+10],9,38016083),d=r(d,u,i,l,e[h+15],14,-660478335),l=r(l,d,u,i,e[h+4],20,-405537848),i=r(i,l,d,u,e[h+9],5,568446438),u=r(u,i,l,d,e[h+14],9,-1019803690),d=r(d,u,i,l,e[h+3],14,-187363961),l=r(l,d,u,i,e[h+8],20,1163531501),i=r(i,l,d,u,e[h+13],5,-1444681467),u=r(u,i,l,d,e[h+2],9,-51403784),d=r(d,u,i,l,e[h+7],14,1735328473),i=a(i,l=r(l,d,u,i,e[h+12],20,-1926607734),d,u,e[h+5],4,-378558),u=a(u,i,l,d,e[h+8],11,-2022574463),d=a(d,u,i,l,e[h+11],16,1839030562),l=a(l,d,u,i,e[h+14],23,-35309556),i=a(i,l,d,u,e[h+1],4,-1530992060),u=a(u,i,l,d,e[h+4],11,1272893353),d=a(d,u,i,l,e[h+7],16,-155497632),l=a(l,d,u,i,e[h+10],23,-1094730640),i=a(i,l,d,u,e[h+13],4,681279174),u=a(u,i,l,d,e[h],11,-358537222),d=a(d,u,i,l,e[h+3],16,-722521979),l=a(l,d,u,i,e[h+6],23,76029189),i=a(i,l,d,u,e[h+9],4,-640364487),u=a(u,i,l,d,e[h+12],11,-421815835),d=a(d,u,i,l,e[h+15],16,530742520),i=c(i,l=a(l,d,u,i,e[h+2],23,-995338651),d,u,e[h],6,-198630844),u=c(u,i,l,d,e[h+7],10,1126891415),d=c(d,u,i,l,e[h+14],15,-1416354905),l=c(l,d,u,i,e[h+5],21,-57434055),i=c(i,l,d,u,e[h+12],6,1700485571),u=c(u,i,l,d,e[h+3],10,-1894986606),d=c(d,u,i,l,e[h+10],15,-1051523),l=c(l,d,u,i,e[h+1],21,-2054922799),i=c(i,l,d,u,e[h+8],6,1873313359),u=c(u,i,l,d,e[h+15],10,-30611744),d=c(d,u,i,l,e[h+6],15,-1560198380),l=c(l,d,u,i,e[h+13],21,1309151649),i=c(i,l,d,u,e[h+4],6,-145523070),u=c(u,i,l,d,e[h+11],10,-1120210379),d=c(d,u,i,l,e[h+2],15,718787259),l=c(l,d,u,i,e[h+9],21,-343485551),i=n(i,g),l=n(l,m),d=n(d,p),u=n(u,f)}return[i,l,d,u]}(function(e){if(0===e.length)return[];for(var t=8*e.length,n=new Uint32Array(s(t)),i=0;i<t;i+=8)n[i>>5]|=(255&e[i/8])<<i%32;return n}(e),8*e.length))}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(s(131)),i=r(s(38)),o=s(7);function r(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,s){if(n.default.randomUUID&&!t&&!e)return n.default.randomUUID();var r=(e=e||{}).random||(e.rng||i.default)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){s=s||0;for(var a=0;a<16;++a)t[s+a]=r[a];return t}return(0,o.unsafeStringify)(r)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);t.default={randomUUID:s}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(s(85)),i=o(s(133));function o(e){return e&&e.__esModule?e:{default:e}}var r=(0,n.default)("v5",80,i.default);t.default=r},function(e,t){"use strict";function s(e,t,s,n){switch(e){case 0:return t&s^~t&n;case 1:case 3:return t^s^n;case 2:return t&s^t&n^s&n}}function n(e,t){return e<<t|e>>>32-t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){var t=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var o=unescape(encodeURIComponent(e));e=[];for(var r=0;r<o.length;++r)e.push(o.charCodeAt(r))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var a=e.length/4+2,c=Math.ceil(a/16),l=new Array(c),d=0;d<c;++d){for(var u=new Uint32Array(16),h=0;h<16;++h)u[h]=e[64*d+4*h]<<24|e[64*d+4*h+1]<<16|e[64*d+4*h+2]<<8|e[64*d+4*h+3];l[d]=u}l[c-1][14]=8*(e.length-1)/Math.pow(2,32),l[c-1][14]=Math.floor(l[c-1][14]),l[c-1][15]=8*(e.length-1)&4294967295;for(var g=0;g<c;++g){for(var m=new Uint32Array(80),p=0;p<16;++p)m[p]=l[g][p];for(var f=16;f<80;++f)m[f]=n(m[f-3]^m[f-8]^m[f-14]^m[f-16],1);for(var v=i[0],b=i[1],x=i[2],w=i[3],y=i[4],A=0;A<80;++A){var T=Math.floor(A/20),S=n(v,5)+s(T,b,x,w)+y+t[T]+m[A]>>>0;y=w,w=x,x=n(b,30)>>>0,b=v,v=S}i[0]=i[0]+v>>>0,i[1]=i[1]+b>>>0,i[2]=i[2]+x>>>0,i[3]=i[3]+w>>>0,i[4]=i[4]+y>>>0}return[i[0]>>24&255,i[0]>>16&255,i[0]>>8&255,255&i[0],i[1]>>24&255,i[1]>>16&255,i[1]>>8&255,255&i[1],i[2]>>24&255,i[2]>>16&255,i[2]>>8&255,255&i[2],i[3]>>24&255,i[3]>>16&255,i[3]>>8&255,255&i[3],i[4]>>24&255,i[4]>>16&255,i[4]>>8&255,255&i[4]]}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e={},t,s=0){var r=(0,i.default)(c(c({},e),{},{_v6:!0}),new Uint8Array(16));if(r=(0,o.default)(r),t){for(var a=0;a<16;a++)t[s+a]=r[a];return t}return(0,n.unsafeStringify)(r)};var n=s(7),i=r(s(83)),o=r(s(84));function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function c(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){l(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function l(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=function(e){return Uint8Array.of((15&e[3])<<4|e[4]>>4&15,(15&e[4])<<4|(240&e[5])>>4,(15&e[5])<<4|15&e[6],e[7],(15&e[1])<<4|(240&e[2])>>4,(15&e[2])<<4|(240&e[3])>>4,16|(240&e[0])>>4,(15&e[0])<<4|(240&e[1])>>4,e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}("string"==typeof e?(0,i.default)(e):e);return"string"==typeof e?(0,o.unsafeStringify)(t):t};var n,i=(n=s(22))&&n.__esModule?n:{default:n},o=s(7)},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=s(38))&&n.__esModule?n:{default:n},o=s(7);var r=null,a=null,c=0;t.default=function(e,t,s){e=e||{};var n=t&&s||0,l=t||new Uint8Array(16),d=e.random||(e.rng||i.default)(),u=void 0!==e.msecs?e.msecs:Date.now(),h=void 0!==e.seq?e.seq:null,g=a,m=r;return u>c&&void 0===e.msecs&&(c=u,null!==h&&(g=null,m=null)),null!==h&&(h>2147483647&&(h=2147483647),g=h>>>19&4095,m=524287&h),null!==g&&null!==m||(g=(g=127&d[6])<<8|d[7],m=(m=(m=63&d[8])<<8|d[9])<<5|d[10]>>>3),u+1e4>c&&null===h?++m>524287&&(m=0,++g>4095&&(g=0,c++)):c=u,a=g,r=m,l[n++]=c/1099511627776&255,l[n++]=c/4294967296&255,l[n++]=c/16777216&255,l[n++]=c/65536&255,l[n++]=c/256&255,l[n++]=255&c,l[n++]=g>>>4&15|112,l[n++]=255&g,l[n++]=m>>>13&63|128,l[n++]=m>>>5&255,l[n++]=m<<3&255|7&d[10],l[n++]=d[11],l[n++]=d[12],l[n++]=d[13],l[n++]=d[14],l[n++]=d[15],t||(0,o.unsafeStringify)(l)}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=s(23))&&n.__esModule?n:{default:n};t.default=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}},function(e,t,s){"use strict";e.exports=s.p+"../images/copy-icon.svg"},function(e,t,s){"use strict";e.exports=s.p+"../images/notification-close.svg"},function(e,t,s){"use strict";t.buttonsTexts=s(17),t.delay=s(13),t.extNameUpdate=s(46),t.extPageOnMessage=s(31),t.formSubmitSelectors=s(18),t.formSubmitSecondSelectors=s(20),t.handleTargetBlank=s(92),t.hidePreloader=s(93),t.i18n=s(28),t.ignoreButtonSelectors=s(19),t.ignoreButtonTexts=s(12),t.inputsSelectors=s(40),t.months=s(47),t.onTabFocused=s(48),t.openShortcutEdit=s(49),t.runTasksWithDelay=s(42),t.sendMessageToTab=s(94),t.storageValidation=s(95),t.storeLog=s(5),t.uniqueOnly=s(50),t.wait=s(43)},function(e,t,s){"use strict";t.confirmModalBackdropClick=s(27),t.domainModalBackdropClick=s(51),t.domainModalFormSubmit=s(52),t.generateDomainsList=s(25),t.generateDevicesList=s(96),t.generateEmptyDeviceRow=s(26),t.generateEmptyShortcutBox=s(58),t.generateShortcutBox=s(59),t.generateShortcutLink=s(97),t.handleAdvancedHeaderClick=s(60),t.handleAutoSubmitChange=s(61),t.handleContextMenuChange=s(62),t.handleHamburgerClick=s(63),t.handleImportDefaultExcludedDomains=s(64),t.handleLoggingChange=s(65),t.handleMenuLink=s(66),t.handlePinInfo=s(67),t.handlePinInfoNext=s(68),t.handlePinInfoPrev=s(69),t.handlePushChange=s(70),t.hideDomainModal=s(14),t.hideConfirmModal=s(24),t.confirmModalBackdropClick=s(27),t.removeDevice=s(56),t.removeDeviceFromDOM=s(57),t.removeDomain=s(54),t.removeDomainFromDOM=s(55),t.sendTestNotification=s(71),t.setAdvanced=s(101),t.setAutoSubmitSwitch=s(103),t.setExtName=s(104),t.setContextMenuToggle=s(105),t.setExtNameUpdateForm=s(106),t.setExtVersion=s(107),t.setPinInfoBtns=s(108),t.setHamburger=s(109),t.setIconSelect=s(110),t.setImportDefaultExcludedDomains=s(112),t.setLoggingToggle=s(113),t.setMenuLinks=s(114),t.setModalsListeners=s(115),t.setPinInfo=s(116),t.setPushRadio=s(117),t.setShortcutBox=s(118),t.showDomainModal=s(72),t.showConfirmModal=s(15),t.showIntegrityError=s(119)},function(e){"use strict";e.exports='<svg width="17" height="21" viewBox="0 0 24 30" fill="none" xmlns="http://www.w3.org/2000/svg">\r\n<path d="M6.17062 26.9436H16.942C18.7359 26.9436 19.901 25.8453 19.9851 24.0493L20.779 7.16631H22.0755C22.653 7.16631 23.103 6.70764 23.103 6.13015C23.103 5.55687 22.653 5.10781 22.0755 5.10781H1.0371C0.469216 5.10781 0 5.55687 0 6.13015C0 6.71725 0.469216 7.16631 1.0371 7.16631H2.33367L3.1275 24.0589C3.21375 25.8549 4.3575 26.9436 6.17062 26.9436ZM6.40218 24.8703C5.75319 24.8703 5.28936 24.3917 5.25631 23.7003L4.4592 7.16631H18.6033L17.8467 23.7003C17.8233 24.4034 17.3594 24.8703 16.6912 24.8703H6.40218ZM8.10069 22.9761C8.59452 22.9761 8.9128 22.6632 8.90108 22.2024L8.54202 9.91647C8.52819 9.45991 8.20569 9.15663 7.73319 9.15663C7.24359 9.15663 6.92742 9.46952 6.93913 9.92819L7.28859 22.2087C7.30242 22.6749 7.62702 22.9761 8.10069 22.9761ZM11.5526 22.9761C12.038 22.9761 12.3797 22.6674 12.3797 22.2109V9.92397C12.3797 9.46741 12.038 9.15663 11.5526 9.15663C11.0651 9.15663 10.733 9.46741 10.733 9.92397V22.2109C10.733 22.6674 11.0651 22.9761 11.5526 22.9761ZM15.0119 22.9761C15.4781 22.9761 15.8006 22.6749 15.8144 22.2087L16.1639 9.92819C16.1756 9.46952 15.8594 9.15663 15.3698 9.15663C14.8973 9.15663 14.5748 9.45991 14.561 9.92608L14.2116 22.2024C14.1998 22.6632 14.5181 22.9761 15.0119 22.9761ZM6.22875 5.89133H8.39155V3.45734C8.39155 2.85054 8.816 2.46124 9.46851 2.46124H13.6153C14.2678 2.46124 14.6923 2.85054 14.6923 3.45734V5.89133H16.8551V3.34859C16.8551 1.55656 15.7113 0.5 13.7695 0.5H9.31429C7.3725 0.5 6.22875 1.55656 6.22875 3.34859V5.89133Z" />\r\n</svg>\r\n'},function(e){"use strict";e.exports='<svg width="19" height="21" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.5 3.498a8.5 8.5 0 108 0M9.5 1v10"/></svg>'}],t={};function s(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,s),o.exports}s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),function(){var e;s.g.importScripts&&(e=s.g.location+"");var t=s.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var i=n.length-1;i>-1&&(!e||!/^http(s?):/.test(e));)e=n[i--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=e}(),function(){"use strict";const e=s(2),t=s(1),n=s(28),i=s(8),o=s(3),r=s(11),a=s(31),{delay:c,storeLog:l,handleTargetBlank:d,hidePreloader:u,storageValidation:h}=s(140),{generateDevicesList:g,setLoggingToggle:m,setContextMenuToggle:p,setPushRadio:f,setPinInfo:v,setExtName:b,setExtNameUpdateForm:x,setModalsListeners:w,setAdvanced:y,setMenuLinks:A,setPinInfoBtns:T,setShortcutBox:S,setHamburger:E,setExtVersion:M,generateShortcutBox:C,generateShortcutLink:L,showIntegrityError:k,generateDomainsList:P,setImportDefaultExcludedDomains:D,setAutoSubmitSwitch:O,setIconSelect:N}=s(141);window.onload=()=>{i(["extensionID","keys","browserInfo","attempt","autoSubmitExcludedDomains"]).then((e=>(async e=>{n();try{await h(e)}catch(e){return e.toString().includes("Too many attempts")?(k(),u(),!1):c((()=>t.runtime.sendMessage({action:"storageReset"}).then((()=>window.location.reload())).catch((async e=>await l("error",38,e,"storageValidationReload")))),5300)}return(new r).getAllPairedDevices(e.extensionID).then(g).then((()=>P(e.autoSubmitExcludedDomains))).then(D).then(v).then((()=>b(e.browserInfo.name))).then((()=>x(e))).then(w).then(y).then(O).then(A).then(T).then(C).then(L).then(S).then(M).then(m).then(p).then(f).then(E).then(d).then(N).then((()=>t.runtime.onMessage.addListener(a))).then((()=>u()))})(e))).catch((t=>(async t=>(await l("error",21,t,"optionsPage"),o.showWithoutTimeout(e.Texts.Error.UndefinedError)))(t)))}}()}();
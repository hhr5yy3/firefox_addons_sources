{"version":3,"file":"urlAccess-93f11c64.js","sources":["../../src/background/utils/logger.js","../../node_modules/rxjs/node_modules/tslib/tslib.es6.js","../../node_modules/rxjs/dist/esm5/internal/util/isFunction.js","../../node_modules/rxjs/dist/esm5/internal/util/createErrorClass.js","../../node_modules/rxjs/dist/esm5/internal/util/UnsubscriptionError.js","../../node_modules/rxjs/dist/esm5/internal/util/arrRemove.js","../../node_modules/rxjs/dist/esm5/internal/Subscription.js","../../node_modules/rxjs/dist/esm5/internal/config.js","../../node_modules/rxjs/dist/esm5/internal/scheduler/timeoutProvider.js","../../node_modules/rxjs/dist/esm5/internal/util/reportUnhandledError.js","../../node_modules/rxjs/dist/esm5/internal/util/noop.js","../../node_modules/rxjs/dist/esm5/internal/NotificationFactories.js","../../node_modules/rxjs/dist/esm5/internal/util/errorContext.js","../../node_modules/rxjs/dist/esm5/internal/Subscriber.js","../../node_modules/rxjs/dist/esm5/internal/symbol/observable.js","../../node_modules/rxjs/dist/esm5/internal/util/identity.js","../../node_modules/rxjs/dist/esm5/internal/util/pipe.js","../../node_modules/rxjs/dist/esm5/internal/Observable.js","../../node_modules/rxjs/dist/esm5/internal/util/lift.js","../../node_modules/rxjs/dist/esm5/internal/operators/OperatorSubscriber.js","../../node_modules/rxjs/dist/esm5/internal/util/ObjectUnsubscribedError.js","../../node_modules/rxjs/dist/esm5/internal/Subject.js","../../node_modules/rxjs/dist/esm5/internal/BehaviorSubject.js","../../node_modules/rxjs/dist/esm5/internal/scheduler/dateTimestampProvider.js","../../node_modules/rxjs/dist/esm5/internal/ReplaySubject.js","../../node_modules/rxjs/dist/esm5/internal/observable/empty.js","../../node_modules/rxjs/dist/esm5/internal/util/isArrayLike.js","../../node_modules/rxjs/dist/esm5/internal/util/isPromise.js","../../node_modules/rxjs/dist/esm5/internal/util/isInteropObservable.js","../../node_modules/rxjs/dist/esm5/internal/util/isAsyncIterable.js","../../node_modules/rxjs/dist/esm5/internal/util/throwUnobservableError.js","../../node_modules/rxjs/dist/esm5/internal/symbol/iterator.js","../../node_modules/rxjs/dist/esm5/internal/util/isIterable.js","../../node_modules/rxjs/dist/esm5/internal/util/isReadableStreamLike.js","../../node_modules/rxjs/dist/esm5/internal/observable/innerFrom.js","../../node_modules/rxjs/dist/esm5/internal/util/executeSchedule.js","../../node_modules/rxjs/dist/esm5/internal/operators/observeOn.js","../../node_modules/rxjs/dist/esm5/internal/operators/subscribeOn.js","../../node_modules/rxjs/dist/esm5/internal/scheduled/scheduleObservable.js","../../node_modules/rxjs/dist/esm5/internal/scheduled/schedulePromise.js","../../node_modules/rxjs/dist/esm5/internal/scheduled/scheduleArray.js","../../node_modules/rxjs/dist/esm5/internal/scheduled/scheduleIterable.js","../../node_modules/rxjs/dist/esm5/internal/scheduled/scheduleAsyncIterable.js","../../node_modules/rxjs/dist/esm5/internal/scheduled/scheduleReadableStreamLike.js","../../node_modules/rxjs/dist/esm5/internal/scheduled/scheduled.js","../../node_modules/rxjs/dist/esm5/internal/observable/from.js","../../node_modules/rxjs/dist/esm5/internal/util/EmptyError.js","../../node_modules/rxjs/dist/esm5/internal/firstValueFrom.js","../../node_modules/rxjs/dist/esm5/internal/operators/map.js","../../node_modules/rxjs/dist/esm5/internal/operators/filter.js","../../node_modules/rxjs/dist/esm5/internal/observable/race.js","../../node_modules/rxjs/dist/esm5/internal/operators/take.js","../../node_modules/rxjs/dist/esm5/internal/operators/distinctUntilChanged.js","../../node_modules/rxjs/dist/esm5/internal/operators/raceWith.js","../../node_modules/rxjs/dist/esm5/internal/operators/share.js","../../node_modules/rxjs/dist/esm5/internal/operators/shareReplay.js","../../node_modules/rxjs/dist/esm5/internal/operators/skip.js","../../node_modules/uuid/dist/esm-browser/rng.js","../../node_modules/uuid/dist/esm-browser/regex.js","../../node_modules/uuid/dist/esm-browser/validate.js","../../node_modules/uuid/dist/esm-browser/stringify.js","../../node_modules/uuid/dist/esm-browser/v4.js","../../src/ui/utils/logger.ts","../../src/background/utils/auth.ts","../../node_modules/webextension-polyfill/dist/browser-polyfill.js","../../src/background/browser/browser.ts","../../src/background/utils/cypher.ts","../../src/background/storage/storage.api.ts","../../src/background/storage/storage.repo.ts","../../node_modules/@msgpack/msgpack/dist.es5+esm/utils/int.mjs","../../node_modules/@msgpack/msgpack/dist.es5+esm/utils/utf8.mjs","../../node_modules/@msgpack/msgpack/dist.es5+esm/ExtData.mjs","../../node_modules/@msgpack/msgpack/dist.es5+esm/DecodeError.mjs","../../node_modules/@msgpack/msgpack/dist.es5+esm/timestamp.mjs","../../node_modules/@msgpack/msgpack/dist.es5+esm/ExtensionCodec.mjs","../../node_modules/@msgpack/msgpack/dist.es5+esm/utils/typedArrays.mjs","../../node_modules/@msgpack/msgpack/dist.es5+esm/Encoder.mjs","../../node_modules/@msgpack/msgpack/dist.es5+esm/encode.mjs","../../node_modules/@msgpack/msgpack/dist.es5+esm/utils/prettyByte.mjs","../../node_modules/@msgpack/msgpack/dist.es5+esm/CachedKeyDecoder.mjs","../../node_modules/@msgpack/msgpack/dist.es5+esm/Decoder.mjs","../../node_modules/@msgpack/msgpack/dist.es5+esm/decode.mjs","../../src/background/api/comm.ts","../../src/background/utils/analytics.ts","../../node_modules/tslib/tslib.es6.js","../../node_modules/@sentry/types/esm/session.js","../../node_modules/@sentry/utils/esm/is.js","../../node_modules/@sentry/utils/esm/node.js","../../node_modules/@sentry/utils/esm/misc.js","../../node_modules/@sentry/utils/esm/logger.js","../../node_modules/@sentry/utils/esm/object.js","../../node_modules/@sentry/utils/esm/syncpromise.js","../../node_modules/@sentry/utils/esm/time.js","../../node_modules/@sentry/hub/esm/scope.js","../../node_modules/@sentry/hub/esm/session.js","../../node_modules/@sentry/hub/esm/hub.js","../../node_modules/@sentry/minimal/esm/index.js","../../src/background/utils/errorCapture.ts","../../src/manifest.ts","../../src/background/utils/request.ts","../../src/ui/features/app/api/metrics/utils.ts","../../src/ui/utils/api/api.util.ts","../../src/ui/utils/urlAccess.ts"],"sourcesContent":["// TODO: This could be changed to a config\nlet log_level = 15;\n\nconst LEVELS = {\n    trace: 1,\n    debug: 1,\n    info: 2,\n    warn: 4,\n    error: 8,\n};\n\n/**\n * Logs a message and save it for later use\n * @param {string} message An explanatory message\n * @param {object} A plain object containing more details\n * @param {'info' | 'warn' | 'debug' | 'error' | 'trace'} Log level\n */\nfunction log(message, details, level = 'info') {\n    if (import.meta.env.VITE_NODE_ENV === 'production') return;\n    if (details?._args?.length === 0) {\n        delete details._args;\n    }\n\n    if ((log_level & LEVELS[level]) > 0) {\n        if (console.log) {\n            // Avoid showing misleading error information to testers.\n            console.log((level || 'info').toUpperCase(), message, details);\n            // This is a better option if possible.\n            // console[level](message, details);\n        }\n        // save_log_trace({\n        //     level,\n        //     message,\n        //     details,\n        //     timestamp: new Date().getTime(),\n        // });\n    }\n}\n\n/**\n * Log a trace message\n * @param {string} message An explanatory message\n * @param {object} A plain object containing more details\n */\nexport function trace(message, details = {}, ...args) {\n    return log(message, { ...(details || {}), _args: args }, 'trace');\n}\n\n/**\n * Log a debug message\n * @param {string} message An explanatory message\n * @param {object} A plain object containing more details\n */\nexport function debug(message, details = {}, ...args) {\n    return log(message, { ...(details || {}), _args: args }, 'debug');\n}\n\n/**\n * Log an info message\n * @param {string} message An explanatory message\n * @param {object} A plain object containing more details\n */\nexport function info(message, details = {}, ...args) {\n    return log(message, { ...(details || {}), _args: args }, 'info');\n}\n\n/**\n * Log a warning message\n * @param {string} message An explanatory message\n * @param {object} A plain object containing more details\n */\nexport function warn(message, details = {}, ...args) {\n    return log(message, { ...(details || {}), _args: args }, 'warn');\n}\n\n/**\n * Log an error message\n * @param {string} message An explanatory message\n * @param {object} A plain object containing more details\n */\nexport function error(message, details = {}, ...args) {\n    return log(message, { ...(details || {}), _args: args }, 'error');\n}\n\nexport default {\n    trace,\n    debug,\n    info,\n    log: info,\n    warn,\n    error,\n};\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","export function isFunction(value) {\n    return typeof value === 'function';\n}\n//# sourceMappingURL=isFunction.js.map","export function createErrorClass(createImpl) {\n    var _super = function (instance) {\n        Error.call(instance);\n        instance.stack = new Error().stack;\n    };\n    var ctorFunc = createImpl(_super);\n    ctorFunc.prototype = Object.create(Error.prototype);\n    ctorFunc.prototype.constructor = ctorFunc;\n    return ctorFunc;\n}\n//# sourceMappingURL=createErrorClass.js.map","import { createErrorClass } from './createErrorClass';\nexport var UnsubscriptionError = createErrorClass(function (_super) {\n    return function UnsubscriptionErrorImpl(errors) {\n        _super(this);\n        this.message = errors\n            ? errors.length + \" errors occurred during unsubscription:\\n\" + errors.map(function (err, i) { return i + 1 + \") \" + err.toString(); }).join('\\n  ')\n            : '';\n        this.name = 'UnsubscriptionError';\n        this.errors = errors;\n    };\n});\n//# sourceMappingURL=UnsubscriptionError.js.map","export function arrRemove(arr, item) {\n    if (arr) {\n        var index = arr.indexOf(item);\n        0 <= index && arr.splice(index, 1);\n    }\n}\n//# sourceMappingURL=arrRemove.js.map","import { __read, __spreadArray, __values } from \"tslib\";\nimport { isFunction } from './util/isFunction';\nimport { UnsubscriptionError } from './util/UnsubscriptionError';\nimport { arrRemove } from './util/arrRemove';\nvar Subscription = (function () {\n    function Subscription(initialTeardown) {\n        this.initialTeardown = initialTeardown;\n        this.closed = false;\n        this._parentage = null;\n        this._finalizers = null;\n    }\n    Subscription.prototype.unsubscribe = function () {\n        var e_1, _a, e_2, _b;\n        var errors;\n        if (!this.closed) {\n            this.closed = true;\n            var _parentage = this._parentage;\n            if (_parentage) {\n                this._parentage = null;\n                if (Array.isArray(_parentage)) {\n                    try {\n                        for (var _parentage_1 = __values(_parentage), _parentage_1_1 = _parentage_1.next(); !_parentage_1_1.done; _parentage_1_1 = _parentage_1.next()) {\n                            var parent_1 = _parentage_1_1.value;\n                            parent_1.remove(this);\n                        }\n                    }\n                    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                    finally {\n                        try {\n                            if (_parentage_1_1 && !_parentage_1_1.done && (_a = _parentage_1.return)) _a.call(_parentage_1);\n                        }\n                        finally { if (e_1) throw e_1.error; }\n                    }\n                }\n                else {\n                    _parentage.remove(this);\n                }\n            }\n            var initialFinalizer = this.initialTeardown;\n            if (isFunction(initialFinalizer)) {\n                try {\n                    initialFinalizer();\n                }\n                catch (e) {\n                    errors = e instanceof UnsubscriptionError ? e.errors : [e];\n                }\n            }\n            var _finalizers = this._finalizers;\n            if (_finalizers) {\n                this._finalizers = null;\n                try {\n                    for (var _finalizers_1 = __values(_finalizers), _finalizers_1_1 = _finalizers_1.next(); !_finalizers_1_1.done; _finalizers_1_1 = _finalizers_1.next()) {\n                        var finalizer = _finalizers_1_1.value;\n                        try {\n                            execFinalizer(finalizer);\n                        }\n                        catch (err) {\n                            errors = errors !== null && errors !== void 0 ? errors : [];\n                            if (err instanceof UnsubscriptionError) {\n                                errors = __spreadArray(__spreadArray([], __read(errors)), __read(err.errors));\n                            }\n                            else {\n                                errors.push(err);\n                            }\n                        }\n                    }\n                }\n                catch (e_2_1) { e_2 = { error: e_2_1 }; }\n                finally {\n                    try {\n                        if (_finalizers_1_1 && !_finalizers_1_1.done && (_b = _finalizers_1.return)) _b.call(_finalizers_1);\n                    }\n                    finally { if (e_2) throw e_2.error; }\n                }\n            }\n            if (errors) {\n                throw new UnsubscriptionError(errors);\n            }\n        }\n    };\n    Subscription.prototype.add = function (teardown) {\n        var _a;\n        if (teardown && teardown !== this) {\n            if (this.closed) {\n                execFinalizer(teardown);\n            }\n            else {\n                if (teardown instanceof Subscription) {\n                    if (teardown.closed || teardown._hasParent(this)) {\n                        return;\n                    }\n                    teardown._addParent(this);\n                }\n                (this._finalizers = (_a = this._finalizers) !== null && _a !== void 0 ? _a : []).push(teardown);\n            }\n        }\n    };\n    Subscription.prototype._hasParent = function (parent) {\n        var _parentage = this._parentage;\n        return _parentage === parent || (Array.isArray(_parentage) && _parentage.includes(parent));\n    };\n    Subscription.prototype._addParent = function (parent) {\n        var _parentage = this._parentage;\n        this._parentage = Array.isArray(_parentage) ? (_parentage.push(parent), _parentage) : _parentage ? [_parentage, parent] : parent;\n    };\n    Subscription.prototype._removeParent = function (parent) {\n        var _parentage = this._parentage;\n        if (_parentage === parent) {\n            this._parentage = null;\n        }\n        else if (Array.isArray(_parentage)) {\n            arrRemove(_parentage, parent);\n        }\n    };\n    Subscription.prototype.remove = function (teardown) {\n        var _finalizers = this._finalizers;\n        _finalizers && arrRemove(_finalizers, teardown);\n        if (teardown instanceof Subscription) {\n            teardown._removeParent(this);\n        }\n    };\n    Subscription.EMPTY = (function () {\n        var empty = new Subscription();\n        empty.closed = true;\n        return empty;\n    })();\n    return Subscription;\n}());\nexport { Subscription };\nexport var EMPTY_SUBSCRIPTION = Subscription.EMPTY;\nexport function isSubscription(value) {\n    return (value instanceof Subscription ||\n        (value && 'closed' in value && isFunction(value.remove) && isFunction(value.add) && isFunction(value.unsubscribe)));\n}\nfunction execFinalizer(finalizer) {\n    if (isFunction(finalizer)) {\n        finalizer();\n    }\n    else {\n        finalizer.unsubscribe();\n    }\n}\n//# sourceMappingURL=Subscription.js.map","export var config = {\n    onUnhandledError: null,\n    onStoppedNotification: null,\n    Promise: undefined,\n    useDeprecatedSynchronousErrorHandling: false,\n    useDeprecatedNextContext: false,\n};\n//# sourceMappingURL=config.js.map","import { __read, __spreadArray } from \"tslib\";\nexport var timeoutProvider = {\n    setTimeout: function (handler, timeout) {\n        var args = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            args[_i - 2] = arguments[_i];\n        }\n        var delegate = timeoutProvider.delegate;\n        if (delegate === null || delegate === void 0 ? void 0 : delegate.setTimeout) {\n            return delegate.setTimeout.apply(delegate, __spreadArray([handler, timeout], __read(args)));\n        }\n        return setTimeout.apply(void 0, __spreadArray([handler, timeout], __read(args)));\n    },\n    clearTimeout: function (handle) {\n        var delegate = timeoutProvider.delegate;\n        return ((delegate === null || delegate === void 0 ? void 0 : delegate.clearTimeout) || clearTimeout)(handle);\n    },\n    delegate: undefined,\n};\n//# sourceMappingURL=timeoutProvider.js.map","import { config } from '../config';\nimport { timeoutProvider } from '../scheduler/timeoutProvider';\nexport function reportUnhandledError(err) {\n    timeoutProvider.setTimeout(function () {\n        var onUnhandledError = config.onUnhandledError;\n        if (onUnhandledError) {\n            onUnhandledError(err);\n        }\n        else {\n            throw err;\n        }\n    });\n}\n//# sourceMappingURL=reportUnhandledError.js.map","export function noop() { }\n//# sourceMappingURL=noop.js.map","export var COMPLETE_NOTIFICATION = (function () { return createNotification('C', undefined, undefined); })();\nexport function errorNotification(error) {\n    return createNotification('E', undefined, error);\n}\nexport function nextNotification(value) {\n    return createNotification('N', value, undefined);\n}\nexport function createNotification(kind, value, error) {\n    return {\n        kind: kind,\n        value: value,\n        error: error,\n    };\n}\n//# sourceMappingURL=NotificationFactories.js.map","import { config } from '../config';\nvar context = null;\nexport function errorContext(cb) {\n    if (config.useDeprecatedSynchronousErrorHandling) {\n        var isRoot = !context;\n        if (isRoot) {\n            context = { errorThrown: false, error: null };\n        }\n        cb();\n        if (isRoot) {\n            var _a = context, errorThrown = _a.errorThrown, error = _a.error;\n            context = null;\n            if (errorThrown) {\n                throw error;\n            }\n        }\n    }\n    else {\n        cb();\n    }\n}\nexport function captureError(err) {\n    if (config.useDeprecatedSynchronousErrorHandling && context) {\n        context.errorThrown = true;\n        context.error = err;\n    }\n}\n//# sourceMappingURL=errorContext.js.map","import { __extends } from \"tslib\";\nimport { isFunction } from './util/isFunction';\nimport { isSubscription, Subscription } from './Subscription';\nimport { config } from './config';\nimport { reportUnhandledError } from './util/reportUnhandledError';\nimport { noop } from './util/noop';\nimport { nextNotification, errorNotification, COMPLETE_NOTIFICATION } from './NotificationFactories';\nimport { timeoutProvider } from './scheduler/timeoutProvider';\nimport { captureError } from './util/errorContext';\nvar Subscriber = (function (_super) {\n    __extends(Subscriber, _super);\n    function Subscriber(destination) {\n        var _this = _super.call(this) || this;\n        _this.isStopped = false;\n        if (destination) {\n            _this.destination = destination;\n            if (isSubscription(destination)) {\n                destination.add(_this);\n            }\n        }\n        else {\n            _this.destination = EMPTY_OBSERVER;\n        }\n        return _this;\n    }\n    Subscriber.create = function (next, error, complete) {\n        return new SafeSubscriber(next, error, complete);\n    };\n    Subscriber.prototype.next = function (value) {\n        if (this.isStopped) {\n            handleStoppedNotification(nextNotification(value), this);\n        }\n        else {\n            this._next(value);\n        }\n    };\n    Subscriber.prototype.error = function (err) {\n        if (this.isStopped) {\n            handleStoppedNotification(errorNotification(err), this);\n        }\n        else {\n            this.isStopped = true;\n            this._error(err);\n        }\n    };\n    Subscriber.prototype.complete = function () {\n        if (this.isStopped) {\n            handleStoppedNotification(COMPLETE_NOTIFICATION, this);\n        }\n        else {\n            this.isStopped = true;\n            this._complete();\n        }\n    };\n    Subscriber.prototype.unsubscribe = function () {\n        if (!this.closed) {\n            this.isStopped = true;\n            _super.prototype.unsubscribe.call(this);\n            this.destination = null;\n        }\n    };\n    Subscriber.prototype._next = function (value) {\n        this.destination.next(value);\n    };\n    Subscriber.prototype._error = function (err) {\n        try {\n            this.destination.error(err);\n        }\n        finally {\n            this.unsubscribe();\n        }\n    };\n    Subscriber.prototype._complete = function () {\n        try {\n            this.destination.complete();\n        }\n        finally {\n            this.unsubscribe();\n        }\n    };\n    return Subscriber;\n}(Subscription));\nexport { Subscriber };\nvar _bind = Function.prototype.bind;\nfunction bind(fn, thisArg) {\n    return _bind.call(fn, thisArg);\n}\nvar ConsumerObserver = (function () {\n    function ConsumerObserver(partialObserver) {\n        this.partialObserver = partialObserver;\n    }\n    ConsumerObserver.prototype.next = function (value) {\n        var partialObserver = this.partialObserver;\n        if (partialObserver.next) {\n            try {\n                partialObserver.next(value);\n            }\n            catch (error) {\n                handleUnhandledError(error);\n            }\n        }\n    };\n    ConsumerObserver.prototype.error = function (err) {\n        var partialObserver = this.partialObserver;\n        if (partialObserver.error) {\n            try {\n                partialObserver.error(err);\n            }\n            catch (error) {\n                handleUnhandledError(error);\n            }\n        }\n        else {\n            handleUnhandledError(err);\n        }\n    };\n    ConsumerObserver.prototype.complete = function () {\n        var partialObserver = this.partialObserver;\n        if (partialObserver.complete) {\n            try {\n                partialObserver.complete();\n            }\n            catch (error) {\n                handleUnhandledError(error);\n            }\n        }\n    };\n    return ConsumerObserver;\n}());\nvar SafeSubscriber = (function (_super) {\n    __extends(SafeSubscriber, _super);\n    function SafeSubscriber(observerOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        var partialObserver;\n        if (isFunction(observerOrNext) || !observerOrNext) {\n            partialObserver = {\n                next: observerOrNext !== null && observerOrNext !== void 0 ? observerOrNext : undefined,\n                error: error !== null && error !== void 0 ? error : undefined,\n                complete: complete !== null && complete !== void 0 ? complete : undefined,\n            };\n        }\n        else {\n            var context_1;\n            if (_this && config.useDeprecatedNextContext) {\n                context_1 = Object.create(observerOrNext);\n                context_1.unsubscribe = function () { return _this.unsubscribe(); };\n                partialObserver = {\n                    next: observerOrNext.next && bind(observerOrNext.next, context_1),\n                    error: observerOrNext.error && bind(observerOrNext.error, context_1),\n                    complete: observerOrNext.complete && bind(observerOrNext.complete, context_1),\n                };\n            }\n            else {\n                partialObserver = observerOrNext;\n            }\n        }\n        _this.destination = new ConsumerObserver(partialObserver);\n        return _this;\n    }\n    return SafeSubscriber;\n}(Subscriber));\nexport { SafeSubscriber };\nfunction handleUnhandledError(error) {\n    if (config.useDeprecatedSynchronousErrorHandling) {\n        captureError(error);\n    }\n    else {\n        reportUnhandledError(error);\n    }\n}\nfunction defaultErrorHandler(err) {\n    throw err;\n}\nfunction handleStoppedNotification(notification, subscriber) {\n    var onStoppedNotification = config.onStoppedNotification;\n    onStoppedNotification && timeoutProvider.setTimeout(function () { return onStoppedNotification(notification, subscriber); });\n}\nexport var EMPTY_OBSERVER = {\n    closed: true,\n    next: noop,\n    error: defaultErrorHandler,\n    complete: noop,\n};\n//# sourceMappingURL=Subscriber.js.map","export var observable = (function () { return (typeof Symbol === 'function' && Symbol.observable) || '@@observable'; })();\n//# sourceMappingURL=observable.js.map","export function identity(x) {\n    return x;\n}\n//# sourceMappingURL=identity.js.map","import { identity } from './identity';\nexport function pipe() {\n    var fns = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        fns[_i] = arguments[_i];\n    }\n    return pipeFromArray(fns);\n}\nexport function pipeFromArray(fns) {\n    if (fns.length === 0) {\n        return identity;\n    }\n    if (fns.length === 1) {\n        return fns[0];\n    }\n    return function piped(input) {\n        return fns.reduce(function (prev, fn) { return fn(prev); }, input);\n    };\n}\n//# sourceMappingURL=pipe.js.map","import { SafeSubscriber, Subscriber } from './Subscriber';\nimport { isSubscription } from './Subscription';\nimport { observable as Symbol_observable } from './symbol/observable';\nimport { pipeFromArray } from './util/pipe';\nimport { config } from './config';\nimport { isFunction } from './util/isFunction';\nimport { errorContext } from './util/errorContext';\nvar Observable = (function () {\n    function Observable(subscribe) {\n        if (subscribe) {\n            this._subscribe = subscribe;\n        }\n    }\n    Observable.prototype.lift = function (operator) {\n        var observable = new Observable();\n        observable.source = this;\n        observable.operator = operator;\n        return observable;\n    };\n    Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n        var _this = this;\n        var subscriber = isSubscriber(observerOrNext) ? observerOrNext : new SafeSubscriber(observerOrNext, error, complete);\n        errorContext(function () {\n            var _a = _this, operator = _a.operator, source = _a.source;\n            subscriber.add(operator\n                ?\n                    operator.call(subscriber, source)\n                : source\n                    ?\n                        _this._subscribe(subscriber)\n                    :\n                        _this._trySubscribe(subscriber));\n        });\n        return subscriber;\n    };\n    Observable.prototype._trySubscribe = function (sink) {\n        try {\n            return this._subscribe(sink);\n        }\n        catch (err) {\n            sink.error(err);\n        }\n    };\n    Observable.prototype.forEach = function (next, promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var subscriber = new SafeSubscriber({\n                next: function (value) {\n                    try {\n                        next(value);\n                    }\n                    catch (err) {\n                        reject(err);\n                        subscriber.unsubscribe();\n                    }\n                },\n                error: reject,\n                complete: resolve,\n            });\n            _this.subscribe(subscriber);\n        });\n    };\n    Observable.prototype._subscribe = function (subscriber) {\n        var _a;\n        return (_a = this.source) === null || _a === void 0 ? void 0 : _a.subscribe(subscriber);\n    };\n    Observable.prototype[Symbol_observable] = function () {\n        return this;\n    };\n    Observable.prototype.pipe = function () {\n        var operations = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            operations[_i] = arguments[_i];\n        }\n        return pipeFromArray(operations)(this);\n    };\n    Observable.prototype.toPromise = function (promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var value;\n            _this.subscribe(function (x) { return (value = x); }, function (err) { return reject(err); }, function () { return resolve(value); });\n        });\n    };\n    Observable.create = function (subscribe) {\n        return new Observable(subscribe);\n    };\n    return Observable;\n}());\nexport { Observable };\nfunction getPromiseCtor(promiseCtor) {\n    var _a;\n    return (_a = promiseCtor !== null && promiseCtor !== void 0 ? promiseCtor : config.Promise) !== null && _a !== void 0 ? _a : Promise;\n}\nfunction isObserver(value) {\n    return value && isFunction(value.next) && isFunction(value.error) && isFunction(value.complete);\n}\nfunction isSubscriber(value) {\n    return (value && value instanceof Subscriber) || (isObserver(value) && isSubscription(value));\n}\n//# sourceMappingURL=Observable.js.map","import { isFunction } from './isFunction';\nexport function hasLift(source) {\n    return isFunction(source === null || source === void 0 ? void 0 : source.lift);\n}\nexport function operate(init) {\n    return function (source) {\n        if (hasLift(source)) {\n            return source.lift(function (liftedSource) {\n                try {\n                    return init(liftedSource, this);\n                }\n                catch (err) {\n                    this.error(err);\n                }\n            });\n        }\n        throw new TypeError('Unable to lift unknown Observable type');\n    };\n}\n//# sourceMappingURL=lift.js.map","import { __extends } from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function createOperatorSubscriber(destination, onNext, onComplete, onError, onFinalize) {\n    return new OperatorSubscriber(destination, onNext, onComplete, onError, onFinalize);\n}\nvar OperatorSubscriber = (function (_super) {\n    __extends(OperatorSubscriber, _super);\n    function OperatorSubscriber(destination, onNext, onComplete, onError, onFinalize, shouldUnsubscribe) {\n        var _this = _super.call(this, destination) || this;\n        _this.onFinalize = onFinalize;\n        _this.shouldUnsubscribe = shouldUnsubscribe;\n        _this._next = onNext\n            ? function (value) {\n                try {\n                    onNext(value);\n                }\n                catch (err) {\n                    destination.error(err);\n                }\n            }\n            : _super.prototype._next;\n        _this._error = onError\n            ? function (err) {\n                try {\n                    onError(err);\n                }\n                catch (err) {\n                    destination.error(err);\n                }\n                finally {\n                    this.unsubscribe();\n                }\n            }\n            : _super.prototype._error;\n        _this._complete = onComplete\n            ? function () {\n                try {\n                    onComplete();\n                }\n                catch (err) {\n                    destination.error(err);\n                }\n                finally {\n                    this.unsubscribe();\n                }\n            }\n            : _super.prototype._complete;\n        return _this;\n    }\n    OperatorSubscriber.prototype.unsubscribe = function () {\n        var _a;\n        if (!this.shouldUnsubscribe || this.shouldUnsubscribe()) {\n            var closed_1 = this.closed;\n            _super.prototype.unsubscribe.call(this);\n            !closed_1 && ((_a = this.onFinalize) === null || _a === void 0 ? void 0 : _a.call(this));\n        }\n    };\n    return OperatorSubscriber;\n}(Subscriber));\nexport { OperatorSubscriber };\n//# sourceMappingURL=OperatorSubscriber.js.map","import { createErrorClass } from './createErrorClass';\nexport var ObjectUnsubscribedError = createErrorClass(function (_super) {\n    return function ObjectUnsubscribedErrorImpl() {\n        _super(this);\n        this.name = 'ObjectUnsubscribedError';\n        this.message = 'object unsubscribed';\n    };\n});\n//# sourceMappingURL=ObjectUnsubscribedError.js.map","import { __extends, __values } from \"tslib\";\nimport { Observable } from './Observable';\nimport { Subscription, EMPTY_SUBSCRIPTION } from './Subscription';\nimport { ObjectUnsubscribedError } from './util/ObjectUnsubscribedError';\nimport { arrRemove } from './util/arrRemove';\nimport { errorContext } from './util/errorContext';\nvar Subject = (function (_super) {\n    __extends(Subject, _super);\n    function Subject() {\n        var _this = _super.call(this) || this;\n        _this.closed = false;\n        _this.currentObservers = null;\n        _this.observers = [];\n        _this.isStopped = false;\n        _this.hasError = false;\n        _this.thrownError = null;\n        return _this;\n    }\n    Subject.prototype.lift = function (operator) {\n        var subject = new AnonymousSubject(this, this);\n        subject.operator = operator;\n        return subject;\n    };\n    Subject.prototype._throwIfClosed = function () {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n    };\n    Subject.prototype.next = function (value) {\n        var _this = this;\n        errorContext(function () {\n            var e_1, _a;\n            _this._throwIfClosed();\n            if (!_this.isStopped) {\n                if (!_this.currentObservers) {\n                    _this.currentObservers = Array.from(_this.observers);\n                }\n                try {\n                    for (var _b = __values(_this.currentObservers), _c = _b.next(); !_c.done; _c = _b.next()) {\n                        var observer = _c.value;\n                        observer.next(value);\n                    }\n                }\n                catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                finally {\n                    try {\n                        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                    }\n                    finally { if (e_1) throw e_1.error; }\n                }\n            }\n        });\n    };\n    Subject.prototype.error = function (err) {\n        var _this = this;\n        errorContext(function () {\n            _this._throwIfClosed();\n            if (!_this.isStopped) {\n                _this.hasError = _this.isStopped = true;\n                _this.thrownError = err;\n                var observers = _this.observers;\n                while (observers.length) {\n                    observers.shift().error(err);\n                }\n            }\n        });\n    };\n    Subject.prototype.complete = function () {\n        var _this = this;\n        errorContext(function () {\n            _this._throwIfClosed();\n            if (!_this.isStopped) {\n                _this.isStopped = true;\n                var observers = _this.observers;\n                while (observers.length) {\n                    observers.shift().complete();\n                }\n            }\n        });\n    };\n    Subject.prototype.unsubscribe = function () {\n        this.isStopped = this.closed = true;\n        this.observers = this.currentObservers = null;\n    };\n    Object.defineProperty(Subject.prototype, \"observed\", {\n        get: function () {\n            var _a;\n            return ((_a = this.observers) === null || _a === void 0 ? void 0 : _a.length) > 0;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Subject.prototype._trySubscribe = function (subscriber) {\n        this._throwIfClosed();\n        return _super.prototype._trySubscribe.call(this, subscriber);\n    };\n    Subject.prototype._subscribe = function (subscriber) {\n        this._throwIfClosed();\n        this._checkFinalizedStatuses(subscriber);\n        return this._innerSubscribe(subscriber);\n    };\n    Subject.prototype._innerSubscribe = function (subscriber) {\n        var _this = this;\n        var _a = this, hasError = _a.hasError, isStopped = _a.isStopped, observers = _a.observers;\n        if (hasError || isStopped) {\n            return EMPTY_SUBSCRIPTION;\n        }\n        this.currentObservers = null;\n        observers.push(subscriber);\n        return new Subscription(function () {\n            _this.currentObservers = null;\n            arrRemove(observers, subscriber);\n        });\n    };\n    Subject.prototype._checkFinalizedStatuses = function (subscriber) {\n        var _a = this, hasError = _a.hasError, thrownError = _a.thrownError, isStopped = _a.isStopped;\n        if (hasError) {\n            subscriber.error(thrownError);\n        }\n        else if (isStopped) {\n            subscriber.complete();\n        }\n    };\n    Subject.prototype.asObservable = function () {\n        var observable = new Observable();\n        observable.source = this;\n        return observable;\n    };\n    Subject.create = function (destination, source) {\n        return new AnonymousSubject(destination, source);\n    };\n    return Subject;\n}(Observable));\nexport { Subject };\nvar AnonymousSubject = (function (_super) {\n    __extends(AnonymousSubject, _super);\n    function AnonymousSubject(destination, source) {\n        var _this = _super.call(this) || this;\n        _this.destination = destination;\n        _this.source = source;\n        return _this;\n    }\n    AnonymousSubject.prototype.next = function (value) {\n        var _a, _b;\n        (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.next) === null || _b === void 0 ? void 0 : _b.call(_a, value);\n    };\n    AnonymousSubject.prototype.error = function (err) {\n        var _a, _b;\n        (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.error) === null || _b === void 0 ? void 0 : _b.call(_a, err);\n    };\n    AnonymousSubject.prototype.complete = function () {\n        var _a, _b;\n        (_b = (_a = this.destination) === null || _a === void 0 ? void 0 : _a.complete) === null || _b === void 0 ? void 0 : _b.call(_a);\n    };\n    AnonymousSubject.prototype._subscribe = function (subscriber) {\n        var _a, _b;\n        return (_b = (_a = this.source) === null || _a === void 0 ? void 0 : _a.subscribe(subscriber)) !== null && _b !== void 0 ? _b : EMPTY_SUBSCRIPTION;\n    };\n    return AnonymousSubject;\n}(Subject));\nexport { AnonymousSubject };\n//# sourceMappingURL=Subject.js.map","import { __extends } from \"tslib\";\nimport { Subject } from './Subject';\nvar BehaviorSubject = (function (_super) {\n    __extends(BehaviorSubject, _super);\n    function BehaviorSubject(_value) {\n        var _this = _super.call(this) || this;\n        _this._value = _value;\n        return _this;\n    }\n    Object.defineProperty(BehaviorSubject.prototype, \"value\", {\n        get: function () {\n            return this.getValue();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    BehaviorSubject.prototype._subscribe = function (subscriber) {\n        var subscription = _super.prototype._subscribe.call(this, subscriber);\n        !subscription.closed && subscriber.next(this._value);\n        return subscription;\n    };\n    BehaviorSubject.prototype.getValue = function () {\n        var _a = this, hasError = _a.hasError, thrownError = _a.thrownError, _value = _a._value;\n        if (hasError) {\n            throw thrownError;\n        }\n        this._throwIfClosed();\n        return _value;\n    };\n    BehaviorSubject.prototype.next = function (value) {\n        _super.prototype.next.call(this, (this._value = value));\n    };\n    return BehaviorSubject;\n}(Subject));\nexport { BehaviorSubject };\n//# sourceMappingURL=BehaviorSubject.js.map","export var dateTimestampProvider = {\n    now: function () {\n        return (dateTimestampProvider.delegate || Date).now();\n    },\n    delegate: undefined,\n};\n//# sourceMappingURL=dateTimestampProvider.js.map","import { __extends } from \"tslib\";\nimport { Subject } from './Subject';\nimport { dateTimestampProvider } from './scheduler/dateTimestampProvider';\nvar ReplaySubject = (function (_super) {\n    __extends(ReplaySubject, _super);\n    function ReplaySubject(_bufferSize, _windowTime, _timestampProvider) {\n        if (_bufferSize === void 0) { _bufferSize = Infinity; }\n        if (_windowTime === void 0) { _windowTime = Infinity; }\n        if (_timestampProvider === void 0) { _timestampProvider = dateTimestampProvider; }\n        var _this = _super.call(this) || this;\n        _this._bufferSize = _bufferSize;\n        _this._windowTime = _windowTime;\n        _this._timestampProvider = _timestampProvider;\n        _this._buffer = [];\n        _this._infiniteTimeWindow = true;\n        _this._infiniteTimeWindow = _windowTime === Infinity;\n        _this._bufferSize = Math.max(1, _bufferSize);\n        _this._windowTime = Math.max(1, _windowTime);\n        return _this;\n    }\n    ReplaySubject.prototype.next = function (value) {\n        var _a = this, isStopped = _a.isStopped, _buffer = _a._buffer, _infiniteTimeWindow = _a._infiniteTimeWindow, _timestampProvider = _a._timestampProvider, _windowTime = _a._windowTime;\n        if (!isStopped) {\n            _buffer.push(value);\n            !_infiniteTimeWindow && _buffer.push(_timestampProvider.now() + _windowTime);\n        }\n        this._trimBuffer();\n        _super.prototype.next.call(this, value);\n    };\n    ReplaySubject.prototype._subscribe = function (subscriber) {\n        this._throwIfClosed();\n        this._trimBuffer();\n        var subscription = this._innerSubscribe(subscriber);\n        var _a = this, _infiniteTimeWindow = _a._infiniteTimeWindow, _buffer = _a._buffer;\n        var copy = _buffer.slice();\n        for (var i = 0; i < copy.length && !subscriber.closed; i += _infiniteTimeWindow ? 1 : 2) {\n            subscriber.next(copy[i]);\n        }\n        this._checkFinalizedStatuses(subscriber);\n        return subscription;\n    };\n    ReplaySubject.prototype._trimBuffer = function () {\n        var _a = this, _bufferSize = _a._bufferSize, _timestampProvider = _a._timestampProvider, _buffer = _a._buffer, _infiniteTimeWindow = _a._infiniteTimeWindow;\n        var adjustedBufferSize = (_infiniteTimeWindow ? 1 : 2) * _bufferSize;\n        _bufferSize < Infinity && adjustedBufferSize < _buffer.length && _buffer.splice(0, _buffer.length - adjustedBufferSize);\n        if (!_infiniteTimeWindow) {\n            var now = _timestampProvider.now();\n            var last = 0;\n            for (var i = 1; i < _buffer.length && _buffer[i] <= now; i += 2) {\n                last = i;\n            }\n            last && _buffer.splice(0, last + 1);\n        }\n    };\n    return ReplaySubject;\n}(Subject));\nexport { ReplaySubject };\n//# sourceMappingURL=ReplaySubject.js.map","import { Observable } from '../Observable';\nexport var EMPTY = new Observable(function (subscriber) { return subscriber.complete(); });\nexport function empty(scheduler) {\n    return scheduler ? emptyScheduled(scheduler) : EMPTY;\n}\nfunction emptyScheduled(scheduler) {\n    return new Observable(function (subscriber) { return scheduler.schedule(function () { return subscriber.complete(); }); });\n}\n//# sourceMappingURL=empty.js.map","export var isArrayLike = (function (x) { return x && typeof x.length === 'number' && typeof x !== 'function'; });\n//# sourceMappingURL=isArrayLike.js.map","import { isFunction } from \"./isFunction\";\nexport function isPromise(value) {\n    return isFunction(value === null || value === void 0 ? void 0 : value.then);\n}\n//# sourceMappingURL=isPromise.js.map","import { observable as Symbol_observable } from '../symbol/observable';\nimport { isFunction } from './isFunction';\nexport function isInteropObservable(input) {\n    return isFunction(input[Symbol_observable]);\n}\n//# sourceMappingURL=isInteropObservable.js.map","import { isFunction } from './isFunction';\nexport function isAsyncIterable(obj) {\n    return Symbol.asyncIterator && isFunction(obj === null || obj === void 0 ? void 0 : obj[Symbol.asyncIterator]);\n}\n//# sourceMappingURL=isAsyncIterable.js.map","export function createInvalidObservableTypeError(input) {\n    return new TypeError(\"You provided \" + (input !== null && typeof input === 'object' ? 'an invalid object' : \"'\" + input + \"'\") + \" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.\");\n}\n//# sourceMappingURL=throwUnobservableError.js.map","export function getSymbolIterator() {\n    if (typeof Symbol !== 'function' || !Symbol.iterator) {\n        return '@@iterator';\n    }\n    return Symbol.iterator;\n}\nexport var iterator = getSymbolIterator();\n//# sourceMappingURL=iterator.js.map","import { iterator as Symbol_iterator } from '../symbol/iterator';\nimport { isFunction } from './isFunction';\nexport function isIterable(input) {\n    return isFunction(input === null || input === void 0 ? void 0 : input[Symbol_iterator]);\n}\n//# sourceMappingURL=isIterable.js.map","import { __asyncGenerator, __await, __generator } from \"tslib\";\nimport { isFunction } from './isFunction';\nexport function readableStreamLikeToAsyncGenerator(readableStream) {\n    return __asyncGenerator(this, arguments, function readableStreamLikeToAsyncGenerator_1() {\n        var reader, _a, value, done;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    reader = readableStream.getReader();\n                    _b.label = 1;\n                case 1:\n                    _b.trys.push([1, , 9, 10]);\n                    _b.label = 2;\n                case 2:\n                    if (!true) return [3, 8];\n                    return [4, __await(reader.read())];\n                case 3:\n                    _a = _b.sent(), value = _a.value, done = _a.done;\n                    if (!done) return [3, 5];\n                    return [4, __await(void 0)];\n                case 4: return [2, _b.sent()];\n                case 5: return [4, __await(value)];\n                case 6: return [4, _b.sent()];\n                case 7:\n                    _b.sent();\n                    return [3, 2];\n                case 8: return [3, 10];\n                case 9:\n                    reader.releaseLock();\n                    return [7];\n                case 10: return [2];\n            }\n        });\n    });\n}\nexport function isReadableStreamLike(obj) {\n    return isFunction(obj === null || obj === void 0 ? void 0 : obj.getReader);\n}\n//# sourceMappingURL=isReadableStreamLike.js.map","import { __asyncValues, __awaiter, __generator, __values } from \"tslib\";\nimport { isArrayLike } from '../util/isArrayLike';\nimport { isPromise } from '../util/isPromise';\nimport { Observable } from '../Observable';\nimport { isInteropObservable } from '../util/isInteropObservable';\nimport { isAsyncIterable } from '../util/isAsyncIterable';\nimport { createInvalidObservableTypeError } from '../util/throwUnobservableError';\nimport { isIterable } from '../util/isIterable';\nimport { isReadableStreamLike, readableStreamLikeToAsyncGenerator } from '../util/isReadableStreamLike';\nimport { isFunction } from '../util/isFunction';\nimport { reportUnhandledError } from '../util/reportUnhandledError';\nimport { observable as Symbol_observable } from '../symbol/observable';\nexport function innerFrom(input) {\n    if (input instanceof Observable) {\n        return input;\n    }\n    if (input != null) {\n        if (isInteropObservable(input)) {\n            return fromInteropObservable(input);\n        }\n        if (isArrayLike(input)) {\n            return fromArrayLike(input);\n        }\n        if (isPromise(input)) {\n            return fromPromise(input);\n        }\n        if (isAsyncIterable(input)) {\n            return fromAsyncIterable(input);\n        }\n        if (isIterable(input)) {\n            return fromIterable(input);\n        }\n        if (isReadableStreamLike(input)) {\n            return fromReadableStreamLike(input);\n        }\n    }\n    throw createInvalidObservableTypeError(input);\n}\nexport function fromInteropObservable(obj) {\n    return new Observable(function (subscriber) {\n        var obs = obj[Symbol_observable]();\n        if (isFunction(obs.subscribe)) {\n            return obs.subscribe(subscriber);\n        }\n        throw new TypeError('Provided object does not correctly implement Symbol.observable');\n    });\n}\nexport function fromArrayLike(array) {\n    return new Observable(function (subscriber) {\n        for (var i = 0; i < array.length && !subscriber.closed; i++) {\n            subscriber.next(array[i]);\n        }\n        subscriber.complete();\n    });\n}\nexport function fromPromise(promise) {\n    return new Observable(function (subscriber) {\n        promise\n            .then(function (value) {\n            if (!subscriber.closed) {\n                subscriber.next(value);\n                subscriber.complete();\n            }\n        }, function (err) { return subscriber.error(err); })\n            .then(null, reportUnhandledError);\n    });\n}\nexport function fromIterable(iterable) {\n    return new Observable(function (subscriber) {\n        var e_1, _a;\n        try {\n            for (var iterable_1 = __values(iterable), iterable_1_1 = iterable_1.next(); !iterable_1_1.done; iterable_1_1 = iterable_1.next()) {\n                var value = iterable_1_1.value;\n                subscriber.next(value);\n                if (subscriber.closed) {\n                    return;\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (iterable_1_1 && !iterable_1_1.done && (_a = iterable_1.return)) _a.call(iterable_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        subscriber.complete();\n    });\n}\nexport function fromAsyncIterable(asyncIterable) {\n    return new Observable(function (subscriber) {\n        process(asyncIterable, subscriber).catch(function (err) { return subscriber.error(err); });\n    });\n}\nexport function fromReadableStreamLike(readableStream) {\n    return fromAsyncIterable(readableStreamLikeToAsyncGenerator(readableStream));\n}\nfunction process(asyncIterable, subscriber) {\n    var asyncIterable_1, asyncIterable_1_1;\n    var e_2, _a;\n    return __awaiter(this, void 0, void 0, function () {\n        var value, e_2_1;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    _b.trys.push([0, 5, 6, 11]);\n                    asyncIterable_1 = __asyncValues(asyncIterable);\n                    _b.label = 1;\n                case 1: return [4, asyncIterable_1.next()];\n                case 2:\n                    if (!(asyncIterable_1_1 = _b.sent(), !asyncIterable_1_1.done)) return [3, 4];\n                    value = asyncIterable_1_1.value;\n                    subscriber.next(value);\n                    if (subscriber.closed) {\n                        return [2];\n                    }\n                    _b.label = 3;\n                case 3: return [3, 1];\n                case 4: return [3, 11];\n                case 5:\n                    e_2_1 = _b.sent();\n                    e_2 = { error: e_2_1 };\n                    return [3, 11];\n                case 6:\n                    _b.trys.push([6, , 9, 10]);\n                    if (!(asyncIterable_1_1 && !asyncIterable_1_1.done && (_a = asyncIterable_1.return))) return [3, 8];\n                    return [4, _a.call(asyncIterable_1)];\n                case 7:\n                    _b.sent();\n                    _b.label = 8;\n                case 8: return [3, 10];\n                case 9:\n                    if (e_2) throw e_2.error;\n                    return [7];\n                case 10: return [7];\n                case 11:\n                    subscriber.complete();\n                    return [2];\n            }\n        });\n    });\n}\n//# sourceMappingURL=innerFrom.js.map","export function executeSchedule(parentSubscription, scheduler, work, delay, repeat) {\n    if (delay === void 0) { delay = 0; }\n    if (repeat === void 0) { repeat = false; }\n    var scheduleSubscription = scheduler.schedule(function () {\n        work();\n        if (repeat) {\n            parentSubscription.add(this.schedule(null, delay));\n        }\n        else {\n            this.unsubscribe();\n        }\n    }, delay);\n    parentSubscription.add(scheduleSubscription);\n    if (!repeat) {\n        return scheduleSubscription;\n    }\n}\n//# sourceMappingURL=executeSchedule.js.map","import { executeSchedule } from '../util/executeSchedule';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function observeOn(scheduler, delay) {\n    if (delay === void 0) { delay = 0; }\n    return operate(function (source, subscriber) {\n        source.subscribe(createOperatorSubscriber(subscriber, function (value) { return executeSchedule(subscriber, scheduler, function () { return subscriber.next(value); }, delay); }, function () { return executeSchedule(subscriber, scheduler, function () { return subscriber.complete(); }, delay); }, function (err) { return executeSchedule(subscriber, scheduler, function () { return subscriber.error(err); }, delay); }));\n    });\n}\n//# sourceMappingURL=observeOn.js.map","import { operate } from '../util/lift';\nexport function subscribeOn(scheduler, delay) {\n    if (delay === void 0) { delay = 0; }\n    return operate(function (source, subscriber) {\n        subscriber.add(scheduler.schedule(function () { return source.subscribe(subscriber); }, delay));\n    });\n}\n//# sourceMappingURL=subscribeOn.js.map","import { innerFrom } from '../observable/innerFrom';\nimport { observeOn } from '../operators/observeOn';\nimport { subscribeOn } from '../operators/subscribeOn';\nexport function scheduleObservable(input, scheduler) {\n    return innerFrom(input).pipe(subscribeOn(scheduler), observeOn(scheduler));\n}\n//# sourceMappingURL=scheduleObservable.js.map","import { innerFrom } from '../observable/innerFrom';\nimport { observeOn } from '../operators/observeOn';\nimport { subscribeOn } from '../operators/subscribeOn';\nexport function schedulePromise(input, scheduler) {\n    return innerFrom(input).pipe(subscribeOn(scheduler), observeOn(scheduler));\n}\n//# sourceMappingURL=schedulePromise.js.map","import { Observable } from '../Observable';\nexport function scheduleArray(input, scheduler) {\n    return new Observable(function (subscriber) {\n        var i = 0;\n        return scheduler.schedule(function () {\n            if (i === input.length) {\n                subscriber.complete();\n            }\n            else {\n                subscriber.next(input[i++]);\n                if (!subscriber.closed) {\n                    this.schedule();\n                }\n            }\n        });\n    });\n}\n//# sourceMappingURL=scheduleArray.js.map","import { Observable } from '../Observable';\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\nimport { isFunction } from '../util/isFunction';\nimport { executeSchedule } from '../util/executeSchedule';\nexport function scheduleIterable(input, scheduler) {\n    return new Observable(function (subscriber) {\n        var iterator;\n        executeSchedule(subscriber, scheduler, function () {\n            iterator = input[Symbol_iterator]();\n            executeSchedule(subscriber, scheduler, function () {\n                var _a;\n                var value;\n                var done;\n                try {\n                    (_a = iterator.next(), value = _a.value, done = _a.done);\n                }\n                catch (err) {\n                    subscriber.error(err);\n                    return;\n                }\n                if (done) {\n                    subscriber.complete();\n                }\n                else {\n                    subscriber.next(value);\n                }\n            }, 0, true);\n        });\n        return function () { return isFunction(iterator === null || iterator === void 0 ? void 0 : iterator.return) && iterator.return(); };\n    });\n}\n//# sourceMappingURL=scheduleIterable.js.map","import { Observable } from '../Observable';\nimport { executeSchedule } from '../util/executeSchedule';\nexport function scheduleAsyncIterable(input, scheduler) {\n    if (!input) {\n        throw new Error('Iterable cannot be null');\n    }\n    return new Observable(function (subscriber) {\n        executeSchedule(subscriber, scheduler, function () {\n            var iterator = input[Symbol.asyncIterator]();\n            executeSchedule(subscriber, scheduler, function () {\n                iterator.next().then(function (result) {\n                    if (result.done) {\n                        subscriber.complete();\n                    }\n                    else {\n                        subscriber.next(result.value);\n                    }\n                });\n            }, 0, true);\n        });\n    });\n}\n//# sourceMappingURL=scheduleAsyncIterable.js.map","import { scheduleAsyncIterable } from './scheduleAsyncIterable';\nimport { readableStreamLikeToAsyncGenerator } from '../util/isReadableStreamLike';\nexport function scheduleReadableStreamLike(input, scheduler) {\n    return scheduleAsyncIterable(readableStreamLikeToAsyncGenerator(input), scheduler);\n}\n//# sourceMappingURL=scheduleReadableStreamLike.js.map","import { scheduleObservable } from './scheduleObservable';\nimport { schedulePromise } from './schedulePromise';\nimport { scheduleArray } from './scheduleArray';\nimport { scheduleIterable } from './scheduleIterable';\nimport { scheduleAsyncIterable } from './scheduleAsyncIterable';\nimport { isInteropObservable } from '../util/isInteropObservable';\nimport { isPromise } from '../util/isPromise';\nimport { isArrayLike } from '../util/isArrayLike';\nimport { isIterable } from '../util/isIterable';\nimport { isAsyncIterable } from '../util/isAsyncIterable';\nimport { createInvalidObservableTypeError } from '../util/throwUnobservableError';\nimport { isReadableStreamLike } from '../util/isReadableStreamLike';\nimport { scheduleReadableStreamLike } from './scheduleReadableStreamLike';\nexport function scheduled(input, scheduler) {\n    if (input != null) {\n        if (isInteropObservable(input)) {\n            return scheduleObservable(input, scheduler);\n        }\n        if (isArrayLike(input)) {\n            return scheduleArray(input, scheduler);\n        }\n        if (isPromise(input)) {\n            return schedulePromise(input, scheduler);\n        }\n        if (isAsyncIterable(input)) {\n            return scheduleAsyncIterable(input, scheduler);\n        }\n        if (isIterable(input)) {\n            return scheduleIterable(input, scheduler);\n        }\n        if (isReadableStreamLike(input)) {\n            return scheduleReadableStreamLike(input, scheduler);\n        }\n    }\n    throw createInvalidObservableTypeError(input);\n}\n//# sourceMappingURL=scheduled.js.map","import { scheduled } from '../scheduled/scheduled';\nimport { innerFrom } from './innerFrom';\nexport function from(input, scheduler) {\n    return scheduler ? scheduled(input, scheduler) : innerFrom(input);\n}\n//# sourceMappingURL=from.js.map","import { createErrorClass } from './createErrorClass';\nexport var EmptyError = createErrorClass(function (_super) { return function EmptyErrorImpl() {\n    _super(this);\n    this.name = 'EmptyError';\n    this.message = 'no elements in sequence';\n}; });\n//# sourceMappingURL=EmptyError.js.map","import { EmptyError } from './util/EmptyError';\nimport { SafeSubscriber } from './Subscriber';\nexport function firstValueFrom(source, config) {\n    var hasConfig = typeof config === 'object';\n    return new Promise(function (resolve, reject) {\n        var subscriber = new SafeSubscriber({\n            next: function (value) {\n                resolve(value);\n                subscriber.unsubscribe();\n            },\n            error: reject,\n            complete: function () {\n                if (hasConfig) {\n                    resolve(config.defaultValue);\n                }\n                else {\n                    reject(new EmptyError());\n                }\n            },\n        });\n        source.subscribe(subscriber);\n    });\n}\n//# sourceMappingURL=firstValueFrom.js.map","import { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function map(project, thisArg) {\n    return operate(function (source, subscriber) {\n        var index = 0;\n        source.subscribe(createOperatorSubscriber(subscriber, function (value) {\n            subscriber.next(project.call(thisArg, value, index++));\n        }));\n    });\n}\n//# sourceMappingURL=map.js.map","import { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function filter(predicate, thisArg) {\n    return operate(function (source, subscriber) {\n        var index = 0;\n        source.subscribe(createOperatorSubscriber(subscriber, function (value) { return predicate.call(thisArg, value, index++) && subscriber.next(value); }));\n    });\n}\n//# sourceMappingURL=filter.js.map","import { Observable } from '../Observable';\nimport { innerFrom } from './innerFrom';\nimport { argsOrArgArray } from '../util/argsOrArgArray';\nimport { createOperatorSubscriber } from '../operators/OperatorSubscriber';\nexport function race() {\n    var sources = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        sources[_i] = arguments[_i];\n    }\n    sources = argsOrArgArray(sources);\n    return sources.length === 1 ? innerFrom(sources[0]) : new Observable(raceInit(sources));\n}\nexport function raceInit(sources) {\n    return function (subscriber) {\n        var subscriptions = [];\n        var _loop_1 = function (i) {\n            subscriptions.push(innerFrom(sources[i]).subscribe(createOperatorSubscriber(subscriber, function (value) {\n                if (subscriptions) {\n                    for (var s = 0; s < subscriptions.length; s++) {\n                        s !== i && subscriptions[s].unsubscribe();\n                    }\n                    subscriptions = null;\n                }\n                subscriber.next(value);\n            })));\n        };\n        for (var i = 0; subscriptions && !subscriber.closed && i < sources.length; i++) {\n            _loop_1(i);\n        }\n    };\n}\n//# sourceMappingURL=race.js.map","import { EMPTY } from '../observable/empty';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function take(count) {\n    return count <= 0\n        ?\n            function () { return EMPTY; }\n        : operate(function (source, subscriber) {\n            var seen = 0;\n            source.subscribe(createOperatorSubscriber(subscriber, function (value) {\n                if (++seen <= count) {\n                    subscriber.next(value);\n                    if (count <= seen) {\n                        subscriber.complete();\n                    }\n                }\n            }));\n        });\n}\n//# sourceMappingURL=take.js.map","import { identity } from '../util/identity';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function distinctUntilChanged(comparator, keySelector) {\n    if (keySelector === void 0) { keySelector = identity; }\n    comparator = comparator !== null && comparator !== void 0 ? comparator : defaultCompare;\n    return operate(function (source, subscriber) {\n        var previousKey;\n        var first = true;\n        source.subscribe(createOperatorSubscriber(subscriber, function (value) {\n            var currentKey = keySelector(value);\n            if (first || !comparator(previousKey, currentKey)) {\n                first = false;\n                previousKey = currentKey;\n                subscriber.next(value);\n            }\n        }));\n    });\n}\nfunction defaultCompare(a, b) {\n    return a === b;\n}\n//# sourceMappingURL=distinctUntilChanged.js.map","import { __read, __spreadArray } from \"tslib\";\nimport { raceInit } from '../observable/race';\nimport { operate } from '../util/lift';\nimport { identity } from '../util/identity';\nexport function raceWith() {\n    var otherSources = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        otherSources[_i] = arguments[_i];\n    }\n    return !otherSources.length\n        ? identity\n        : operate(function (source, subscriber) {\n            raceInit(__spreadArray([source], __read(otherSources)))(subscriber);\n        });\n}\n//# sourceMappingURL=raceWith.js.map","import { __read, __spreadArray } from \"tslib\";\nimport { from } from '../observable/from';\nimport { take } from '../operators/take';\nimport { Subject } from '../Subject';\nimport { SafeSubscriber } from '../Subscriber';\nimport { operate } from '../util/lift';\nexport function share(options) {\n    if (options === void 0) { options = {}; }\n    var _a = options.connector, connector = _a === void 0 ? function () { return new Subject(); } : _a, _b = options.resetOnError, resetOnError = _b === void 0 ? true : _b, _c = options.resetOnComplete, resetOnComplete = _c === void 0 ? true : _c, _d = options.resetOnRefCountZero, resetOnRefCountZero = _d === void 0 ? true : _d;\n    return function (wrapperSource) {\n        var connection = null;\n        var resetConnection = null;\n        var subject = null;\n        var refCount = 0;\n        var hasCompleted = false;\n        var hasErrored = false;\n        var cancelReset = function () {\n            resetConnection === null || resetConnection === void 0 ? void 0 : resetConnection.unsubscribe();\n            resetConnection = null;\n        };\n        var reset = function () {\n            cancelReset();\n            connection = subject = null;\n            hasCompleted = hasErrored = false;\n        };\n        var resetAndUnsubscribe = function () {\n            var conn = connection;\n            reset();\n            conn === null || conn === void 0 ? void 0 : conn.unsubscribe();\n        };\n        return operate(function (source, subscriber) {\n            refCount++;\n            if (!hasErrored && !hasCompleted) {\n                cancelReset();\n            }\n            var dest = (subject = subject !== null && subject !== void 0 ? subject : connector());\n            subscriber.add(function () {\n                refCount--;\n                if (refCount === 0 && !hasErrored && !hasCompleted) {\n                    resetConnection = handleReset(resetAndUnsubscribe, resetOnRefCountZero);\n                }\n            });\n            dest.subscribe(subscriber);\n            if (!connection) {\n                connection = new SafeSubscriber({\n                    next: function (value) { return dest.next(value); },\n                    error: function (err) {\n                        hasErrored = true;\n                        cancelReset();\n                        resetConnection = handleReset(reset, resetOnError, err);\n                        dest.error(err);\n                    },\n                    complete: function () {\n                        hasCompleted = true;\n                        cancelReset();\n                        resetConnection = handleReset(reset, resetOnComplete);\n                        dest.complete();\n                    },\n                });\n                from(source).subscribe(connection);\n            }\n        })(wrapperSource);\n    };\n}\nfunction handleReset(reset, on) {\n    var args = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        args[_i - 2] = arguments[_i];\n    }\n    if (on === true) {\n        reset();\n        return null;\n    }\n    if (on === false) {\n        return null;\n    }\n    return on.apply(void 0, __spreadArray([], __read(args))).pipe(take(1))\n        .subscribe(function () { return reset(); });\n}\n//# sourceMappingURL=share.js.map","import { ReplaySubject } from '../ReplaySubject';\nimport { share } from './share';\nexport function shareReplay(configOrBufferSize, windowTime, scheduler) {\n    var _a, _b, _c;\n    var bufferSize;\n    var refCount = false;\n    if (configOrBufferSize && typeof configOrBufferSize === 'object') {\n        (_a = configOrBufferSize.bufferSize, bufferSize = _a === void 0 ? Infinity : _a, _b = configOrBufferSize.windowTime, windowTime = _b === void 0 ? Infinity : _b, _c = configOrBufferSize.refCount, refCount = _c === void 0 ? false : _c, scheduler = configOrBufferSize.scheduler);\n    }\n    else {\n        bufferSize = configOrBufferSize !== null && configOrBufferSize !== void 0 ? configOrBufferSize : Infinity;\n    }\n    return share({\n        connector: function () { return new ReplaySubject(bufferSize, windowTime, scheduler); },\n        resetOnError: true,\n        resetOnComplete: false,\n        resetOnRefCountZero: refCount,\n    });\n}\n//# sourceMappingURL=shareReplay.js.map","import { filter } from './filter';\nexport function skip(count) {\n    return filter(function (_, index) { return count <= index; });\n}\n//# sourceMappingURL=skip.js.map","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","/**\n * Logs a message and save it for later use\n * @param {string} message An explanatory message\n * @param {object} A plain object containing more details\n * @param {'info' | 'warn' | 'debug' | 'error' | 'trace'} Log level\n */\nfunction log(message: string, details: any, level: 'info' | 'trace' | 'debug' | 'warn' | 'error') {\n    if (import.meta.env.VITE_NODE_ENV === 'production' || import.meta.env.VITE_NODE_ENV === 'stage')\n        return;\n\n    if (details?._args?.length === 0) {\n        delete details._args;\n    }\n\n    console[level](message, details);\n\n    if (details.exception) {\n        details.exception = details.exception.message;\n    }\n}\n\n/**\n * Log a trace message\n * @param {string} message An explanatory message\n * @param {object} A plain object containing more details\n */\nexport function trace(message: string, details = {}, ...args: any[]) {\n    return log(message, { details: details || {}, _args: args }, 'trace');\n}\n\n/**\n * Log a debug message\n * @param {string} message An explanatory message\n * @param {object} A plain object containing more details\n */\nexport function debug(message: string, details = {}, ...args: any[]) {\n    return log(message, { details: details || {}, _args: args }, 'debug');\n}\n\n/**\n * Log an info message\n * @param {string} message An explanatory message\n * @param {object} A plain object containing more details\n */\nexport function info(message: string, details = {}, ...args: any[]) {\n    return log(message, { details: details || {}, _args: args }, 'info');\n}\n\n/**\n * Log a warning message\n * @param {string} message An explanatory message\n * @param {object} A plain object containing more details\n */\nexport function warn(message: string, details = {}, ...args: any[]) {\n    return log(message, { details: details || {}, _args: args }, 'warn');\n}\n\n/**\n * Log an error message\n * @param {string} message An explanatory message\n * @param {object} A plain object containing more details\n */\nexport function error(message: string, details = {}, ...args: any[]) {\n    return log(message, { details: details || {}, _args: args }, 'error');\n}\n\nexport default {\n    trace,\n    debug,\n    info,\n    log: info,\n    warn,\n    error,\n};\n","import logger from '~/ui/utils/logger';\n\nimport { AuthData, AuthStateData, DecodedToken, UserData } from '~B/storage';\nimport { DataRepository } from '~B/storage/storage.api';\n\nexport async function setAuthValues(\n    token: string | null,\n    authRepo: DataRepository<AuthStateData> = AuthData,\n): Promise<void> {\n    const authData = await authRepo.get();\n\n    authData.lastReqAuth = authData.reqAuth || authData.lastReqAuth;\n    authData.reqAuth = token;\n\n    if (authData.reqAuth === null) {\n        /*  authData.reqAuth = null;\n        authData.reqAuthExp = 0; */\n        authRepo.clear();\n        return;\n    }\n\n    // Get the body contained in the token.\n    authData.lastReqAuthBody = authData.reqAuthBody || authData.lastReqAuthBody;\n    authData.reqAuthBody = JSON.parse(atob(authData.reqAuth.split('.')[1])) as DecodedToken;\n\n    authData.reqAuthExp = authData.reqAuthBody.exp * 1000;\n    authData.reqAuthRxp = authData.reqAuthBody.rxp * 1000;\n\n    await authRepo.set(authData);\n}\n\nexport async function isAuthorizationExpired(date?: Date): Promise<boolean> {\n    const authData = await AuthData.get();\n    authData.lastReqAuth = authData.reqAuth || authData.lastReqAuth;\n\n    return authData.reqAuthExp < (date || new Date()).valueOf();\n}\n\nexport async function isAuthorizationRenewable(): Promise<boolean> {\n    return (await getDecodedToken())?.ttl > 0;\n}\nexport async function isAuthorizationRefreshable(): Promise<boolean> {\n    // mirar rxp si el servidor lo enva sino usamos el tiempo por defecto\n    const authData = await AuthData.get();\n    logger.log(authData.reqAuthRxp, {\n        now: Date.now(),\n        then: authData.reqAuthRxp > Date.now(),\n    });\n    return (\n        (await isAuthorizationRenewable()) &&\n        (authData?.reqAuthExp || 0) < Date.now() &&\n        Date.now() < (authData?.reqAuthRxp || 0)\n    );\n}\nexport async function getAccessToken(): Promise<string | null> {\n    const authData = await AuthData.get();\n\n    return authData?.reqAuth;\n}\n\nexport async function getLastAccessToken(): Promise<string | null> {\n    return (await AuthData.get())?.lastReqAuth || null;\n}\n\nexport async function getDecodedToken(): Promise<DecodedToken> {\n    return (\n        (await AuthData.get())?.reqAuthBody || {\n            exp: 0,\n            iat: 0,\n            sat: 0,\n            sid: '',\n            ttl: 0,\n            rxp: 0,\n            identity: {\n                clientId: '',\n                version: '',\n                extensionId: '',\n            },\n        }\n    );\n}\nexport async function userHasAccess(): Promise<boolean> {\n    let authData = await AuthData.get();\n    const hasAccess: boolean = !!(authData?.reqAuth && !(await isAuthorizationExpired())); // here's the thing baby !!!!!\n\n    if (!hasAccess) {\n        await setAuthValues(null);\n    }\n\n    return hasAccess;\n}\n\nexport async function userIsLoggedIn(): Promise<boolean> {\n    const hasAccess = await userHasAccess();\n    const userDataExists = !!(await UserData.get());\n    return hasAccess && userDataExists;\n}\n","(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define(\"webextension-polyfill\", [\"module\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(module);\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod);\n    global.browser = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (module) {\n  /* webextension-polyfill - v0.8.0 - Tue Apr 20 2021 11:27:38 */\n\n  /* -*- Mode: indent-tabs-mode: nil; js-indent-level: 2 -*- */\n\n  /* vim: set sts=2 sw=2 et tw=80: */\n\n  /* This Source Code Form is subject to the terms of the Mozilla Public\n   * License, v. 2.0. If a copy of the MPL was not distributed with this\n   * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n  \"use strict\";\n\n  if (typeof browser === \"undefined\" || Object.getPrototypeOf(browser) !== Object.prototype) {\n    const CHROME_SEND_MESSAGE_CALLBACK_NO_RESPONSE_MESSAGE = \"The message port closed before a response was received.\";\n    const SEND_RESPONSE_DEPRECATION_WARNING = \"Returning a Promise is the preferred way to send a reply from an onMessage/onMessageExternal listener, as the sendResponse will be removed from the specs (See https://developer.mozilla.org/docs/Mozilla/Add-ons/WebExtensions/API/runtime/onMessage)\"; // Wrapping the bulk of this polyfill in a one-time-use function is a minor\n    // optimization for Firefox. Since Spidermonkey does not fully parse the\n    // contents of a function until the first time it's called, and since it will\n    // never actually need to be called, this allows the polyfill to be included\n    // in Firefox nearly for free.\n\n    const wrapAPIs = extensionAPIs => {\n      // NOTE: apiMetadata is associated to the content of the api-metadata.json file\n      // at build time by replacing the following \"include\" with the content of the\n      // JSON file.\n      const apiMetadata = {\n        \"alarms\": {\n          \"clear\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"clearAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"get\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"bookmarks\": {\n          \"create\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"get\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getChildren\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getRecent\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getSubTree\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getTree\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"move\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeTree\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"search\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"update\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          }\n        },\n        \"browserAction\": {\n          \"disable\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"enable\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"getBadgeBackgroundColor\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getBadgeText\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getPopup\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getTitle\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"openPopup\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"setBadgeBackgroundColor\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"setBadgeText\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"setIcon\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"setPopup\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"setTitle\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          }\n        },\n        \"browsingData\": {\n          \"remove\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          },\n          \"removeCache\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeCookies\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeDownloads\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeFormData\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeHistory\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeLocalStorage\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removePasswords\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removePluginData\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"settings\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"commands\": {\n          \"getAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"contextMenus\": {\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"update\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          }\n        },\n        \"cookies\": {\n          \"get\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getAll\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getAllCookieStores\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"set\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"devtools\": {\n          \"inspectedWindow\": {\n            \"eval\": {\n              \"minArgs\": 1,\n              \"maxArgs\": 2,\n              \"singleCallbackArg\": false\n            }\n          },\n          \"panels\": {\n            \"create\": {\n              \"minArgs\": 3,\n              \"maxArgs\": 3,\n              \"singleCallbackArg\": true\n            },\n            \"elements\": {\n              \"createSidebarPane\": {\n                \"minArgs\": 1,\n                \"maxArgs\": 1\n              }\n            }\n          }\n        },\n        \"downloads\": {\n          \"cancel\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"download\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"erase\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getFileIcon\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"open\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"pause\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeFile\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"resume\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"search\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"show\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          }\n        },\n        \"extension\": {\n          \"isAllowedFileSchemeAccess\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"isAllowedIncognitoAccess\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"history\": {\n          \"addUrl\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"deleteAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"deleteRange\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"deleteUrl\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getVisits\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"search\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"i18n\": {\n          \"detectLanguage\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getAcceptLanguages\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"identity\": {\n          \"launchWebAuthFlow\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"idle\": {\n          \"queryState\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"management\": {\n          \"get\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"getSelf\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"setEnabled\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          },\n          \"uninstallSelf\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          }\n        },\n        \"notifications\": {\n          \"clear\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"create\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"getAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"getPermissionLevel\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"update\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          }\n        },\n        \"pageAction\": {\n          \"getPopup\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getTitle\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"hide\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"setIcon\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"setPopup\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"setTitle\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          },\n          \"show\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1,\n            \"fallbackToNoCallback\": true\n          }\n        },\n        \"permissions\": {\n          \"contains\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"request\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"runtime\": {\n          \"getBackgroundPage\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"getPlatformInfo\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"openOptionsPage\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"requestUpdateCheck\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"sendMessage\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 3\n          },\n          \"sendNativeMessage\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          },\n          \"setUninstallURL\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"sessions\": {\n          \"getDevices\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getRecentlyClosed\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"restore\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          }\n        },\n        \"storage\": {\n          \"local\": {\n            \"clear\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 0\n            },\n            \"get\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 1\n            },\n            \"getBytesInUse\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 1\n            },\n            \"remove\": {\n              \"minArgs\": 1,\n              \"maxArgs\": 1\n            },\n            \"set\": {\n              \"minArgs\": 1,\n              \"maxArgs\": 1\n            }\n          },\n          \"managed\": {\n            \"get\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 1\n            },\n            \"getBytesInUse\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 1\n            }\n          },\n          \"sync\": {\n            \"clear\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 0\n            },\n            \"get\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 1\n            },\n            \"getBytesInUse\": {\n              \"minArgs\": 0,\n              \"maxArgs\": 1\n            },\n            \"remove\": {\n              \"minArgs\": 1,\n              \"maxArgs\": 1\n            },\n            \"set\": {\n              \"minArgs\": 1,\n              \"maxArgs\": 1\n            }\n          }\n        },\n        \"tabs\": {\n          \"captureVisibleTab\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 2\n          },\n          \"create\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"detectLanguage\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"discard\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"duplicate\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"executeScript\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"get\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getCurrent\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"getZoom\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getZoomSettings\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"goBack\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"goForward\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"highlight\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"insertCSS\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"move\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          },\n          \"query\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"reload\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 2\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"removeCSS\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"sendMessage\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 3\n          },\n          \"setZoom\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"setZoomSettings\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"update\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          }\n        },\n        \"topSites\": {\n          \"get\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"webNavigation\": {\n          \"getAllFrames\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"getFrame\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"webRequest\": {\n          \"handlerBehaviorChanged\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          }\n        },\n        \"windows\": {\n          \"create\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"get\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2\n          },\n          \"getAll\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getCurrent\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getLastFocused\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"update\": {\n            \"minArgs\": 2,\n            \"maxArgs\": 2\n          }\n        }\n      };\n\n      if (Object.keys(apiMetadata).length === 0) {\n        throw new Error(\"api-metadata.json has not been included in browser-polyfill\");\n      }\n      /**\n       * A WeakMap subclass which creates and stores a value for any key which does\n       * not exist when accessed, but behaves exactly as an ordinary WeakMap\n       * otherwise.\n       *\n       * @param {function} createItem\n       *        A function which will be called in order to create the value for any\n       *        key which does not exist, the first time it is accessed. The\n       *        function receives, as its only argument, the key being created.\n       */\n\n\n      class DefaultWeakMap extends WeakMap {\n        constructor(createItem, items = undefined) {\n          super(items);\n          this.createItem = createItem;\n        }\n\n        get(key) {\n          if (!this.has(key)) {\n            this.set(key, this.createItem(key));\n          }\n\n          return super.get(key);\n        }\n\n      }\n      /**\n       * Returns true if the given object is an object with a `then` method, and can\n       * therefore be assumed to behave as a Promise.\n       *\n       * @param {*} value The value to test.\n       * @returns {boolean} True if the value is thenable.\n       */\n\n\n      const isThenable = value => {\n        return value && typeof value === \"object\" && typeof value.then === \"function\";\n      };\n      /**\n       * Creates and returns a function which, when called, will resolve or reject\n       * the given promise based on how it is called:\n       *\n       * - If, when called, `chrome.runtime.lastError` contains a non-null object,\n       *   the promise is rejected with that value.\n       * - If the function is called with exactly one argument, the promise is\n       *   resolved to that value.\n       * - Otherwise, the promise is resolved to an array containing all of the\n       *   function's arguments.\n       *\n       * @param {object} promise\n       *        An object containing the resolution and rejection functions of a\n       *        promise.\n       * @param {function} promise.resolve\n       *        The promise's resolution function.\n       * @param {function} promise.reject\n       *        The promise's rejection function.\n       * @param {object} metadata\n       *        Metadata about the wrapped method which has created the callback.\n       * @param {boolean} metadata.singleCallbackArg\n       *        Whether or not the promise is resolved with only the first\n       *        argument of the callback, alternatively an array of all the\n       *        callback arguments is resolved. By default, if the callback\n       *        function is invoked with only a single argument, that will be\n       *        resolved to the promise, while all arguments will be resolved as\n       *        an array if multiple are given.\n       *\n       * @returns {function}\n       *        The generated callback function.\n       */\n\n\n      const makeCallback = (promise, metadata) => {\n        return (...callbackArgs) => {\n          if (extensionAPIs.runtime.lastError) {\n            promise.reject(new Error(extensionAPIs.runtime.lastError.message));\n          } else if (metadata.singleCallbackArg || callbackArgs.length <= 1 && metadata.singleCallbackArg !== false) {\n            promise.resolve(callbackArgs[0]);\n          } else {\n            promise.resolve(callbackArgs);\n          }\n        };\n      };\n\n      const pluralizeArguments = numArgs => numArgs == 1 ? \"argument\" : \"arguments\";\n      /**\n       * Creates a wrapper function for a method with the given name and metadata.\n       *\n       * @param {string} name\n       *        The name of the method which is being wrapped.\n       * @param {object} metadata\n       *        Metadata about the method being wrapped.\n       * @param {integer} metadata.minArgs\n       *        The minimum number of arguments which must be passed to the\n       *        function. If called with fewer than this number of arguments, the\n       *        wrapper will raise an exception.\n       * @param {integer} metadata.maxArgs\n       *        The maximum number of arguments which may be passed to the\n       *        function. If called with more than this number of arguments, the\n       *        wrapper will raise an exception.\n       * @param {boolean} metadata.singleCallbackArg\n       *        Whether or not the promise is resolved with only the first\n       *        argument of the callback, alternatively an array of all the\n       *        callback arguments is resolved. By default, if the callback\n       *        function is invoked with only a single argument, that will be\n       *        resolved to the promise, while all arguments will be resolved as\n       *        an array if multiple are given.\n       *\n       * @returns {function(object, ...*)}\n       *       The generated wrapper function.\n       */\n\n\n      const wrapAsyncFunction = (name, metadata) => {\n        return function asyncFunctionWrapper(target, ...args) {\n          if (args.length < metadata.minArgs) {\n            throw new Error(`Expected at least ${metadata.minArgs} ${pluralizeArguments(metadata.minArgs)} for ${name}(), got ${args.length}`);\n          }\n\n          if (args.length > metadata.maxArgs) {\n            throw new Error(`Expected at most ${metadata.maxArgs} ${pluralizeArguments(metadata.maxArgs)} for ${name}(), got ${args.length}`);\n          }\n\n          return new Promise((resolve, reject) => {\n            if (metadata.fallbackToNoCallback) {\n              // This API method has currently no callback on Chrome, but it return a promise on Firefox,\n              // and so the polyfill will try to call it with a callback first, and it will fallback\n              // to not passing the callback if the first call fails.\n              try {\n                target[name](...args, makeCallback({\n                  resolve,\n                  reject\n                }, metadata));\n              } catch (cbError) {\n                console.warn(`${name} API method doesn't seem to support the callback parameter, ` + \"falling back to call it without a callback: \", cbError);\n                target[name](...args); // Update the API method metadata, so that the next API calls will not try to\n                // use the unsupported callback anymore.\n\n                metadata.fallbackToNoCallback = false;\n                metadata.noCallback = true;\n                resolve();\n              }\n            } else if (metadata.noCallback) {\n              target[name](...args);\n              resolve();\n            } else {\n              target[name](...args, makeCallback({\n                resolve,\n                reject\n              }, metadata));\n            }\n          });\n        };\n      };\n      /**\n       * Wraps an existing method of the target object, so that calls to it are\n       * intercepted by the given wrapper function. The wrapper function receives,\n       * as its first argument, the original `target` object, followed by each of\n       * the arguments passed to the original method.\n       *\n       * @param {object} target\n       *        The original target object that the wrapped method belongs to.\n       * @param {function} method\n       *        The method being wrapped. This is used as the target of the Proxy\n       *        object which is created to wrap the method.\n       * @param {function} wrapper\n       *        The wrapper function which is called in place of a direct invocation\n       *        of the wrapped method.\n       *\n       * @returns {Proxy<function>}\n       *        A Proxy object for the given method, which invokes the given wrapper\n       *        method in its place.\n       */\n\n\n      const wrapMethod = (target, method, wrapper) => {\n        return new Proxy(method, {\n          apply(targetMethod, thisObj, args) {\n            return wrapper.call(thisObj, target, ...args);\n          }\n\n        });\n      };\n\n      let hasOwnProperty = Function.call.bind(Object.prototype.hasOwnProperty);\n      /**\n       * Wraps an object in a Proxy which intercepts and wraps certain methods\n       * based on the given `wrappers` and `metadata` objects.\n       *\n       * @param {object} target\n       *        The target object to wrap.\n       *\n       * @param {object} [wrappers = {}]\n       *        An object tree containing wrapper functions for special cases. Any\n       *        function present in this object tree is called in place of the\n       *        method in the same location in the `target` object tree. These\n       *        wrapper methods are invoked as described in {@see wrapMethod}.\n       *\n       * @param {object} [metadata = {}]\n       *        An object tree containing metadata used to automatically generate\n       *        Promise-based wrapper functions for asynchronous. Any function in\n       *        the `target` object tree which has a corresponding metadata object\n       *        in the same location in the `metadata` tree is replaced with an\n       *        automatically-generated wrapper function, as described in\n       *        {@see wrapAsyncFunction}\n       *\n       * @returns {Proxy<object>}\n       */\n\n      const wrapObject = (target, wrappers = {}, metadata = {}) => {\n        let cache = Object.create(null);\n        let handlers = {\n          has(proxyTarget, prop) {\n            return prop in target || prop in cache;\n          },\n\n          get(proxyTarget, prop, receiver) {\n            if (prop in cache) {\n              return cache[prop];\n            }\n\n            if (!(prop in target)) {\n              return undefined;\n            }\n\n            let value = target[prop];\n\n            if (typeof value === \"function\") {\n              // This is a method on the underlying object. Check if we need to do\n              // any wrapping.\n              if (typeof wrappers[prop] === \"function\") {\n                // We have a special-case wrapper for this method.\n                value = wrapMethod(target, target[prop], wrappers[prop]);\n              } else if (hasOwnProperty(metadata, prop)) {\n                // This is an async method that we have metadata for. Create a\n                // Promise wrapper for it.\n                let wrapper = wrapAsyncFunction(prop, metadata[prop]);\n                value = wrapMethod(target, target[prop], wrapper);\n              } else {\n                // This is a method that we don't know or care about. Return the\n                // original method, bound to the underlying object.\n                value = value.bind(target);\n              }\n            } else if (typeof value === \"object\" && value !== null && (hasOwnProperty(wrappers, prop) || hasOwnProperty(metadata, prop))) {\n              // This is an object that we need to do some wrapping for the children\n              // of. Create a sub-object wrapper for it with the appropriate child\n              // metadata.\n              value = wrapObject(value, wrappers[prop], metadata[prop]);\n            } else if (hasOwnProperty(metadata, \"*\")) {\n              // Wrap all properties in * namespace.\n              value = wrapObject(value, wrappers[prop], metadata[\"*\"]);\n            } else {\n              // We don't need to do any wrapping for this property,\n              // so just forward all access to the underlying object.\n              Object.defineProperty(cache, prop, {\n                configurable: true,\n                enumerable: true,\n\n                get() {\n                  return target[prop];\n                },\n\n                set(value) {\n                  target[prop] = value;\n                }\n\n              });\n              return value;\n            }\n\n            cache[prop] = value;\n            return value;\n          },\n\n          set(proxyTarget, prop, value, receiver) {\n            if (prop in cache) {\n              cache[prop] = value;\n            } else {\n              target[prop] = value;\n            }\n\n            return true;\n          },\n\n          defineProperty(proxyTarget, prop, desc) {\n            return Reflect.defineProperty(cache, prop, desc);\n          },\n\n          deleteProperty(proxyTarget, prop) {\n            return Reflect.deleteProperty(cache, prop);\n          }\n\n        }; // Per contract of the Proxy API, the \"get\" proxy handler must return the\n        // original value of the target if that value is declared read-only and\n        // non-configurable. For this reason, we create an object with the\n        // prototype set to `target` instead of using `target` directly.\n        // Otherwise we cannot return a custom object for APIs that\n        // are declared read-only and non-configurable, such as `chrome.devtools`.\n        //\n        // The proxy handlers themselves will still use the original `target`\n        // instead of the `proxyTarget`, so that the methods and properties are\n        // dereferenced via the original targets.\n\n        let proxyTarget = Object.create(target);\n        return new Proxy(proxyTarget, handlers);\n      };\n      /**\n       * Creates a set of wrapper functions for an event object, which handles\n       * wrapping of listener functions that those messages are passed.\n       *\n       * A single wrapper is created for each listener function, and stored in a\n       * map. Subsequent calls to `addListener`, `hasListener`, or `removeListener`\n       * retrieve the original wrapper, so that  attempts to remove a\n       * previously-added listener work as expected.\n       *\n       * @param {DefaultWeakMap<function, function>} wrapperMap\n       *        A DefaultWeakMap object which will create the appropriate wrapper\n       *        for a given listener function when one does not exist, and retrieve\n       *        an existing one when it does.\n       *\n       * @returns {object}\n       */\n\n\n      const wrapEvent = wrapperMap => ({\n        addListener(target, listener, ...args) {\n          target.addListener(wrapperMap.get(listener), ...args);\n        },\n\n        hasListener(target, listener) {\n          return target.hasListener(wrapperMap.get(listener));\n        },\n\n        removeListener(target, listener) {\n          target.removeListener(wrapperMap.get(listener));\n        }\n\n      });\n\n      const onRequestFinishedWrappers = new DefaultWeakMap(listener => {\n        if (typeof listener !== \"function\") {\n          return listener;\n        }\n        /**\n         * Wraps an onRequestFinished listener function so that it will return a\n         * `getContent()` property which returns a `Promise` rather than using a\n         * callback API.\n         *\n         * @param {object} req\n         *        The HAR entry object representing the network request.\n         */\n\n\n        return function onRequestFinished(req) {\n          const wrappedReq = wrapObject(req, {}\n          /* wrappers */\n          , {\n            getContent: {\n              minArgs: 0,\n              maxArgs: 0\n            }\n          });\n          listener(wrappedReq);\n        };\n      }); // Keep track if the deprecation warning has been logged at least once.\n\n      let loggedSendResponseDeprecationWarning = false;\n      const onMessageWrappers = new DefaultWeakMap(listener => {\n        if (typeof listener !== \"function\") {\n          return listener;\n        }\n        /**\n         * Wraps a message listener function so that it may send responses based on\n         * its return value, rather than by returning a sentinel value and calling a\n         * callback. If the listener function returns a Promise, the response is\n         * sent when the promise either resolves or rejects.\n         *\n         * @param {*} message\n         *        The message sent by the other end of the channel.\n         * @param {object} sender\n         *        Details about the sender of the message.\n         * @param {function(*)} sendResponse\n         *        A callback which, when called with an arbitrary argument, sends\n         *        that value as a response.\n         * @returns {boolean}\n         *        True if the wrapped listener returned a Promise, which will later\n         *        yield a response. False otherwise.\n         */\n\n\n        return function onMessage(message, sender, sendResponse) {\n          let didCallSendResponse = false;\n          let wrappedSendResponse;\n          let sendResponsePromise = new Promise(resolve => {\n            wrappedSendResponse = function (response) {\n              if (!loggedSendResponseDeprecationWarning) {\n                console.warn(SEND_RESPONSE_DEPRECATION_WARNING, new Error().stack);\n                loggedSendResponseDeprecationWarning = true;\n              }\n\n              didCallSendResponse = true;\n              resolve(response);\n            };\n          });\n          let result;\n\n          try {\n            result = listener(message, sender, wrappedSendResponse);\n          } catch (err) {\n            result = Promise.reject(err);\n          }\n\n          const isResultThenable = result !== true && isThenable(result); // If the listener didn't returned true or a Promise, or called\n          // wrappedSendResponse synchronously, we can exit earlier\n          // because there will be no response sent from this listener.\n\n          if (result !== true && !isResultThenable && !didCallSendResponse) {\n            return false;\n          } // A small helper to send the message if the promise resolves\n          // and an error if the promise rejects (a wrapped sendMessage has\n          // to translate the message into a resolved promise or a rejected\n          // promise).\n\n\n          const sendPromisedResult = promise => {\n            promise.then(msg => {\n              // send the message value.\n              sendResponse(msg);\n            }, error => {\n              // Send a JSON representation of the error if the rejected value\n              // is an instance of error, or the object itself otherwise.\n              let message;\n\n              if (error && (error instanceof Error || typeof error.message === \"string\")) {\n                message = error.message;\n              } else {\n                message = \"An unexpected error occurred\";\n              }\n\n              sendResponse({\n                __mozWebExtensionPolyfillReject__: true,\n                message\n              });\n            }).catch(err => {\n              // Print an error on the console if unable to send the response.\n              console.error(\"Failed to send onMessage rejected reply\", err);\n            });\n          }; // If the listener returned a Promise, send the resolved value as a\n          // result, otherwise wait the promise related to the wrappedSendResponse\n          // callback to resolve and send it as a response.\n\n\n          if (isResultThenable) {\n            sendPromisedResult(result);\n          } else {\n            sendPromisedResult(sendResponsePromise);\n          } // Let Chrome know that the listener is replying.\n\n\n          return true;\n        };\n      });\n\n      const wrappedSendMessageCallback = ({\n        reject,\n        resolve\n      }, reply) => {\n        if (extensionAPIs.runtime.lastError) {\n          // Detect when none of the listeners replied to the sendMessage call and resolve\n          // the promise to undefined as in Firefox.\n          // See https://github.com/mozilla/webextension-polyfill/issues/130\n          if (extensionAPIs.runtime.lastError.message === CHROME_SEND_MESSAGE_CALLBACK_NO_RESPONSE_MESSAGE) {\n            resolve();\n          } else {\n            reject(new Error(extensionAPIs.runtime.lastError.message));\n          }\n        } else if (reply && reply.__mozWebExtensionPolyfillReject__) {\n          // Convert back the JSON representation of the error into\n          // an Error instance.\n          reject(new Error(reply.message));\n        } else {\n          resolve(reply);\n        }\n      };\n\n      const wrappedSendMessage = (name, metadata, apiNamespaceObj, ...args) => {\n        if (args.length < metadata.minArgs) {\n          throw new Error(`Expected at least ${metadata.minArgs} ${pluralizeArguments(metadata.minArgs)} for ${name}(), got ${args.length}`);\n        }\n\n        if (args.length > metadata.maxArgs) {\n          throw new Error(`Expected at most ${metadata.maxArgs} ${pluralizeArguments(metadata.maxArgs)} for ${name}(), got ${args.length}`);\n        }\n\n        return new Promise((resolve, reject) => {\n          const wrappedCb = wrappedSendMessageCallback.bind(null, {\n            resolve,\n            reject\n          });\n          args.push(wrappedCb);\n          apiNamespaceObj.sendMessage(...args);\n        });\n      };\n\n      const staticWrappers = {\n        devtools: {\n          network: {\n            onRequestFinished: wrapEvent(onRequestFinishedWrappers)\n          }\n        },\n        runtime: {\n          onMessage: wrapEvent(onMessageWrappers),\n          onMessageExternal: wrapEvent(onMessageWrappers),\n          sendMessage: wrappedSendMessage.bind(null, \"sendMessage\", {\n            minArgs: 1,\n            maxArgs: 3\n          })\n        },\n        tabs: {\n          sendMessage: wrappedSendMessage.bind(null, \"sendMessage\", {\n            minArgs: 2,\n            maxArgs: 3\n          })\n        }\n      };\n      const settingMetadata = {\n        clear: {\n          minArgs: 1,\n          maxArgs: 1\n        },\n        get: {\n          minArgs: 1,\n          maxArgs: 1\n        },\n        set: {\n          minArgs: 1,\n          maxArgs: 1\n        }\n      };\n      apiMetadata.privacy = {\n        network: {\n          \"*\": settingMetadata\n        },\n        services: {\n          \"*\": settingMetadata\n        },\n        websites: {\n          \"*\": settingMetadata\n        }\n      };\n      return wrapObject(extensionAPIs, staticWrappers, apiMetadata);\n    };\n\n    if (typeof chrome != \"object\" || !chrome || !chrome.runtime || !chrome.runtime.id) {\n      throw new Error(\"This script should only be loaded in a browser extension.\");\n    } // The build process adds a UMD wrapper around this file, which makes the\n    // `module` variable available.\n\n\n    module.exports = wrapAPIs(chrome);\n  } else {\n    module.exports = browser;\n  }\n});\n//# sourceMappingURL=browser-polyfill.js.map\n","/* \nDescribes browser object and its different uses depending of execution context.\n@module src/background/browser\n*/\n\nimport Browser from 'webextension-polyfill';\nimport logger from '../utils/logger';\nimport { BrowserStorage, TabInfo } from './browser.types';\n\nlet browserVar: browser.Browser;\n\nif (import.meta.env.VITE_NODE_ENV === 'test') {\n    browserVar = {\n        extension: false,\n        devtools: false,\n        runtime: {\n            id: 'ext_id',\n            onMessage: createListenerHandler('runtime.onMessage'),\n            sendMessage(message: any): Promise<any> {\n                return Promise.resolve({});\n            },\n            reload() {\n                logger.log('Mocked extension reload...');\n            },\n            onInstalled: createListenerHandler('runtime.onInstalled'),\n            getManifest() {\n                return {} as any;\n            },\n        },\n        browserAction: {\n            setBadgeText(arg) {\n                logger.log('Setting badge text', arg);\n            },\n        },\n        tabs: {\n            sendMessage: () => Promise.resolve({}),\n            onUpdated: createListenerHandler('tabs.onUpdated'),\n            onRemoved: createListenerHandler('tabs.onRemoved'),\n            create(properties) {\n                logger.log('Created tab', properties);\n                return Promise.resolve({} as TabInfo);\n            },\n            remove(tabIds) {\n                logger.log('Removed tabs', tabIds);\n                return Promise.resolve();\n            },\n        },\n        storage: {\n            local: createStorage({\n                ['chollo_assist_auth_data']: {\n                    exp: 0,\n                    iat: 0,\n                    sat: 0,\n                    sid: '',\n                    ttl: 0,\n                    rxp: 0,\n                    identity: {\n                        clientId: '',\n                        version: '',\n                        extensionId: '',\n                    },\n                },\n            }),\n            sync: createStorage({\n                ['chollo_assist_user_data']: {\n                    password: 'choll0$',\n                    username: 'luismedina',\n                },\n            }),\n        },\n    };\n} else {\n    browserVar = Browser;\n}\n\nexport const browser = browserVar;\nexport default browser;\n\nfunction createListenerHandler(name: string) {\n    return {\n        addListener(...args: any[]): any {\n            logger.log('Registered listener on:', name);\n        },\n        removeListener(...args: any[]): any {\n            logger.log('Unnregistered listener on:', name);\n        },\n    };\n}\nfunction createStorage(initial?: { [k: string]: any }): BrowserStorage {\n    const storageCache = initial || {};\n    return {\n        set(items) {\n            logger.log('set storage');\n            Object.assign(storageCache, items);\n            return Promise.resolve();\n        },\n        get(keys) {\n            logger.log('get storage');\n            return Promise.resolve(\n                (keys as string[]).reduce((ob: any, k: string) => {\n                    ob[k] = storageCache[k];\n                    return ob;\n                }, {} as any),\n            );\n        },\n        clear() {\n            for (const k in storageCache) {\n                delete storageCache[k];\n            }\n            return Promise.resolve();\n        },\n        remove(keys) {\n            for (const k of keys) {\n                delete storageCache[k];\n            }\n            return Promise.resolve();\n        },\n    };\n}\n","/**\n * Encrypts plaintext using AES-GCM with supplied password, for decryption with aesGcmDecrypt().\n *\n * @param   {String} plaintext - Plaintext to be encrypted.\n * @param   {String} password - Password to use to encrypt plaintext.\n * @returns {String} Encrypted ciphertext.\n *\n * @example\n *   const ciphertext = await aesGcmEncrypt('my secret text', 'pw');\n *   aesGcmEncrypt('my secret text', 'pw').then(function(ciphertext) { logger.log(ciphertext); });\n */\nexport async function aesGcmEncrypt(plaintext: string, password: string) {\n    const pwUtf8 = new TextEncoder().encode(password); // encode password as UTF-8\n    const pwHash = await crypto.subtle.digest('SHA-256', pwUtf8); // hash the password\n\n    const iv = crypto.getRandomValues(new Uint8Array(12)); // get 96-bit random iv\n    const ivStr = Array.from(iv)\n        .map((b) => String.fromCharCode(b))\n        .join(''); // iv as utf-8 string\n\n    const alg = { name: 'AES-GCM', iv: iv }; // specify algorithm to use\n\n    const key = await crypto.subtle.importKey('raw', pwHash, alg, false, ['encrypt']); // generate key from pw\n\n    const ptUint8 = new TextEncoder().encode(plaintext); // encode plaintext as UTF-8\n    const ctBuffer = await crypto.subtle.encrypt(alg, key, ptUint8); // encrypt plaintext using key\n\n    const ctArray = Array.from(new Uint8Array(ctBuffer)); // ciphertext as byte array\n    const ctStr = ctArray.map((byte) => String.fromCharCode(byte)).join(''); // ciphertext as string\n\n    return btoa(ivStr + ctStr); // iv+ciphertext base64-encoded\n}\n\n/**\n * Decrypts ciphertext encrypted with aesGcmEncrypt() using supplied password.\n *                                                                      (c) Chris Veness MIT Licence\n *\n * @param   {String} ciphertext - Ciphertext to be decrypted.\n * @param   {String} password - Password to use to decrypt ciphertext.\n * @returns {String} Decrypted plaintext.\n *\n * @example\n *   const plaintext = await aesGcmDecrypt(ciphertext, 'pw');\n *   aesGcmDecrypt(ciphertext, 'pw').then(function(plaintext) { logger.log(plaintext); });\n */\nexport async function aesGcmDecrypt(ciphertext: string, password: string) {\n    const pwUtf8 = new TextEncoder().encode(password); // encode password as UTF-8\n    const pwHash = await crypto.subtle.digest('SHA-256', pwUtf8); // hash the password\n\n    const ivStr = atob(ciphertext).slice(0, 12); // decode base64 iv\n    const iv = new Uint8Array(Array.from(ivStr).map((ch) => ch.charCodeAt(0))); // iv as Uint8Array\n\n    const alg = { name: 'AES-GCM', iv: iv }; // specify algorithm to use\n\n    const key = await crypto.subtle.importKey('raw', pwHash, alg, false, ['decrypt']); // generate key from pw\n\n    const ctStr = atob(ciphertext).slice(12); // decode base64 ciphertext\n    const ctUint8 = new Uint8Array(Array.from(ctStr).map((ch) => ch.charCodeAt(0))); // ciphertext as Uint8Array\n    // note: why doesn't ctUint8 = new TextEncoder().encode(ctStr) work?\n\n    try {\n        const plainBuffer = await crypto.subtle.decrypt(alg, key, ctUint8); // decrypt ciphertext using key\n        const plaintext = new TextDecoder().decode(plainBuffer); // plaintext from ArrayBuffer\n        return plaintext; // return the plaintext\n    } catch (e) {\n        throw new Error('Decrypt failed');\n    }\n}\n","import browser from '~B/browser/browser';\nimport { BrowserExtension, BrowserStorage } from '~B/browser/browser.types';\nimport logger from '~B/utils/logger';\n\ntype DataRepositoryAttachInternal<TData, TInner = TData> = {\n    onClear: (this: DataRepository<TData, TInner>, data: TData) => Promise<void>;\n    afterGet: (this: DataRepository<TData, TInner>, data: TData) => Promise<TData>;\n    beforeSet: (this: DataRepository<TData, TInner>, data: TData) => Promise<TData>;\n    intoInner: (this: DataRepository<TData, TInner>, data: TData) => Promise<TInner>;\n    fromInner: (this: DataRepository<TData, TInner>, data: TInner) => Promise<TData>;\n};\n\nexport type DataRepositoryAttach<TData, TInner> = Partial<\n    DataRepositoryAttachInternal<TData, TInner>\n>;\nexport class DataRepository<TData, TInner = TData> {\n    dataKey: string;\n    store: BrowserStorage;\n    attach: DataRepositoryAttachInternal<TData, TInner>;\n    defaultData: TData;\n\n    private static DefaultAttach: DataRepositoryAttachInternal<any> = {\n        async onClear() {},\n        async afterGet(data) {\n            return data;\n        },\n        async beforeSet(data) {\n            return data;\n        },\n        async fromInner(data) {\n            return data;\n        },\n        async intoInner(data) {\n            return data;\n        },\n    };\n\n    constructor(\n        dataKey: string,\n        defaultData: TData = {} as TData,\n        storage = browser.storage.local,\n        attach: DataRepositoryAttach<TData, TInner> = {},\n    ) {\n        this.dataKey = dataKey;\n        this.store = storage;\n        this.defaultData = defaultData;\n        this.attach = Object.assign({}, DataRepository.DefaultAttach, attach);\n    }\n\n    async get(): Promise<TData> {\n        const result = await this.store.get([this.dataKey]);\n\n        const innerData = result[this.dataKey] as TInner;\n\n        let data: TData | undefined;\n\n        if (!result.hasOwnProperty(this.dataKey)) {\n            if (Array.isArray(this.defaultData)) {\n                const defaultData = [...this.defaultData] as unknown as TData;\n                await this.set(defaultData);\n                data = defaultData;\n            }\n            if (this.defaultData !== null && this.defaultData.constructor.name === 'Object') {\n                const defaultData = { ...this.defaultData };\n                await this.set(defaultData);\n                data = defaultData;\n            }\n\n            await this.set(this.defaultData);\n            data = this.defaultData;\n        } else {\n            try {\n                data = await this.attach.fromInner.call(this, innerData);\n            } catch (error) {\n                logger.error('storage error');\n                if ((error as Error).message.includes('Decrypt failed')) {\n                    logger.error('storage error ------ removing everything');\n                    await browser.storage.local.clear();\n                    await browser.storage.sync.clear();\n                    browser.runtime.reload();\n                }\n            }\n        }\n\n        if (this.defaultData !== null && this.defaultData.constructor.name === 'Object') {\n            data = Object.assign({}, this.defaultData, data);\n        }\n\n        const finalData = await this.attach.afterGet.call(this, data);\n        return finalData;\n    }\n\n    async set(data: TData): Promise<TData> {\n        const adaptedData = await this.attach.beforeSet.call(this, data);\n        const innerData = await this.attach.intoInner.call(this, adaptedData);\n        await this.store.set({ [this.dataKey]: innerData });\n        return adaptedData;\n    }\n\n    async clear(): Promise<void> {\n        const data = await this.get();\n        await this.attach.onClear.call(this, data);\n        this.store.remove([this.dataKey]);\n    }\n}\n","import { v4 as uuidv4 } from 'uuid';\nimport { setAuthValues } from '~B/utils/auth';\nimport browser from '../browser/browser';\nimport { aesGcmDecrypt, aesGcmEncrypt } from '../utils/cypher';\nimport { DataRepository } from './storage.api';\nimport { AuthStateData, UserInformation } from './storage.types';\nimport { SerpShops } from '~B/types';\n// import { setAuthValues } from './utils/auth';\n\nexport const AuthData = new DataRepository<AuthStateData>('chollo_assist_auth_data', {\n    lastReqAuth: null,\n    lastReqAuthBody: null,\n    reqAuth: null,\n    reqAuthBody: null,\n    reqAuthExp: 0,\n    reqAuthRxp: 0,\n});\nexport const schemaData = new DataRepository<{\n    version: number | null;\n}>('chollo_assist_data_model', { version: null }, browser.storage.sync);\n\nexport const ClientData = new DataRepository<{\n    hash: string;\n}>('chollo_assist_client_data', { hash: uuidv4() }, browser.storage.sync);\n\nexport const AffiliateData = new DataRepository<{ shopName: string; lastTimeTracked: number }[]>(\n    'chollo_assist_affiliate_data',\n    [],\n    browser.storage.local,\n);\nexport const privatePolicyData = new DataRepository<{ isPolicyAuth: boolean; ppId?: number }>(\n    'chollo_assist_private_policy',\n    { isPolicyAuth: false },\n    browser.storage.sync,\n);\n\nexport const serpShopsData = new DataRepository<SerpShops['data']>('chollo_assist_serp', {\n    shops: [],\n});\nexport const UserData = new DataRepository<UserInformation | null, string>(\n    'chollo_assist_user_data',\n    null,\n    browser.storage.sync,\n\n    {\n        async intoInner(data) {\n            const iv = (await ClientData.get()).hash;\n            const toEncrypt = JSON.stringify(data);\n            return await aesGcmEncrypt(toEncrypt, iv);\n        },\n        async fromInner(data) {\n            if (typeof data === 'string') {\n                const iv = (await ClientData.get()).hash;\n                const decrypted = await aesGcmDecrypt(data, iv);\n                return JSON.parse(decrypted);\n            }\n            if (typeof data === 'object') {\n                const userData = data as UserInformation;\n                if (userData?.username && userData?.password) {\n                    await this.set(data);\n                    return data;\n                } else {\n                    await this.set(null);\n                    return null;\n                }\n            }\n            return data;\n        },\n        async onClear(data) {\n            await setAuthValues(null);\n        },\n    },\n);\n","// Integer Utility\nexport var UINT32_MAX = 4294967295;\n// DataView extension to handle int64 / uint64,\n// where the actual range is 53-bits integer (a.k.a. safe integer)\nexport function setUint64(view, offset, value) {\n    var high = value / 4294967296;\n    var low = value; // high bits are truncated by DataView\n    view.setUint32(offset, high);\n    view.setUint32(offset + 4, low);\n}\nexport function setInt64(view, offset, value) {\n    var high = Math.floor(value / 4294967296);\n    var low = value; // high bits are truncated by DataView\n    view.setUint32(offset, high);\n    view.setUint32(offset + 4, low);\n}\nexport function getInt64(view, offset) {\n    var high = view.getInt32(offset);\n    var low = view.getUint32(offset + 4);\n    return high * 4294967296 + low;\n}\nexport function getUint64(view, offset) {\n    var high = view.getUint32(offset);\n    var low = view.getUint32(offset + 4);\n    return high * 4294967296 + low;\n}\n//# sourceMappingURL=int.mjs.map","import { UINT32_MAX } from \"./int.mjs\";\nvar TEXT_ENCODING_AVAILABLE = (typeof process === \"undefined\" || process.env[\"TEXT_ENCODING\"] !== \"never\") &&\n    typeof TextEncoder !== \"undefined\" &&\n    typeof TextDecoder !== \"undefined\";\nexport function utf8Count(str) {\n    var strLength = str.length;\n    var byteLength = 0;\n    var pos = 0;\n    while (pos < strLength) {\n        var value = str.charCodeAt(pos++);\n        if ((value & 0xffffff80) === 0) {\n            // 1-byte\n            byteLength++;\n            continue;\n        }\n        else if ((value & 0xfffff800) === 0) {\n            // 2-bytes\n            byteLength += 2;\n        }\n        else {\n            // handle surrogate pair\n            if (value >= 0xd800 && value <= 0xdbff) {\n                // high surrogate\n                if (pos < strLength) {\n                    var extra = str.charCodeAt(pos);\n                    if ((extra & 0xfc00) === 0xdc00) {\n                        ++pos;\n                        value = ((value & 0x3ff) << 10) + (extra & 0x3ff) + 0x10000;\n                    }\n                }\n            }\n            if ((value & 0xffff0000) === 0) {\n                // 3-byte\n                byteLength += 3;\n            }\n            else {\n                // 4-byte\n                byteLength += 4;\n            }\n        }\n    }\n    return byteLength;\n}\nexport function utf8EncodeJs(str, output, outputOffset) {\n    var strLength = str.length;\n    var offset = outputOffset;\n    var pos = 0;\n    while (pos < strLength) {\n        var value = str.charCodeAt(pos++);\n        if ((value & 0xffffff80) === 0) {\n            // 1-byte\n            output[offset++] = value;\n            continue;\n        }\n        else if ((value & 0xfffff800) === 0) {\n            // 2-bytes\n            output[offset++] = ((value >> 6) & 0x1f) | 0xc0;\n        }\n        else {\n            // handle surrogate pair\n            if (value >= 0xd800 && value <= 0xdbff) {\n                // high surrogate\n                if (pos < strLength) {\n                    var extra = str.charCodeAt(pos);\n                    if ((extra & 0xfc00) === 0xdc00) {\n                        ++pos;\n                        value = ((value & 0x3ff) << 10) + (extra & 0x3ff) + 0x10000;\n                    }\n                }\n            }\n            if ((value & 0xffff0000) === 0) {\n                // 3-byte\n                output[offset++] = ((value >> 12) & 0x0f) | 0xe0;\n                output[offset++] = ((value >> 6) & 0x3f) | 0x80;\n            }\n            else {\n                // 4-byte\n                output[offset++] = ((value >> 18) & 0x07) | 0xf0;\n                output[offset++] = ((value >> 12) & 0x3f) | 0x80;\n                output[offset++] = ((value >> 6) & 0x3f) | 0x80;\n            }\n        }\n        output[offset++] = (value & 0x3f) | 0x80;\n    }\n}\nvar sharedTextEncoder = TEXT_ENCODING_AVAILABLE ? new TextEncoder() : undefined;\nexport var TEXT_ENCODER_THRESHOLD = !TEXT_ENCODING_AVAILABLE\n    ? UINT32_MAX\n    : typeof process !== \"undefined\" && process.env[\"TEXT_ENCODING\"] !== \"force\"\n        ? 200\n        : 0;\nfunction utf8EncodeTEencode(str, output, outputOffset) {\n    output.set(sharedTextEncoder.encode(str), outputOffset);\n}\nfunction utf8EncodeTEencodeInto(str, output, outputOffset) {\n    sharedTextEncoder.encodeInto(str, output.subarray(outputOffset));\n}\nexport var utf8EncodeTE = (sharedTextEncoder === null || sharedTextEncoder === void 0 ? void 0 : sharedTextEncoder.encodeInto) ? utf8EncodeTEencodeInto : utf8EncodeTEencode;\nvar CHUNK_SIZE = 4096;\nexport function utf8DecodeJs(bytes, inputOffset, byteLength) {\n    var offset = inputOffset;\n    var end = offset + byteLength;\n    var units = [];\n    var result = \"\";\n    while (offset < end) {\n        var byte1 = bytes[offset++];\n        if ((byte1 & 0x80) === 0) {\n            // 1 byte\n            units.push(byte1);\n        }\n        else if ((byte1 & 0xe0) === 0xc0) {\n            // 2 bytes\n            var byte2 = bytes[offset++] & 0x3f;\n            units.push(((byte1 & 0x1f) << 6) | byte2);\n        }\n        else if ((byte1 & 0xf0) === 0xe0) {\n            // 3 bytes\n            var byte2 = bytes[offset++] & 0x3f;\n            var byte3 = bytes[offset++] & 0x3f;\n            units.push(((byte1 & 0x1f) << 12) | (byte2 << 6) | byte3);\n        }\n        else if ((byte1 & 0xf8) === 0xf0) {\n            // 4 bytes\n            var byte2 = bytes[offset++] & 0x3f;\n            var byte3 = bytes[offset++] & 0x3f;\n            var byte4 = bytes[offset++] & 0x3f;\n            var unit = ((byte1 & 0x07) << 0x12) | (byte2 << 0x0c) | (byte3 << 0x06) | byte4;\n            if (unit > 0xffff) {\n                unit -= 0x10000;\n                units.push(((unit >>> 10) & 0x3ff) | 0xd800);\n                unit = 0xdc00 | (unit & 0x3ff);\n            }\n            units.push(unit);\n        }\n        else {\n            units.push(byte1);\n        }\n        if (units.length >= CHUNK_SIZE) {\n            result += String.fromCharCode.apply(String, units);\n            units.length = 0;\n        }\n    }\n    if (units.length > 0) {\n        result += String.fromCharCode.apply(String, units);\n    }\n    return result;\n}\nvar sharedTextDecoder = TEXT_ENCODING_AVAILABLE ? new TextDecoder() : null;\nexport var TEXT_DECODER_THRESHOLD = !TEXT_ENCODING_AVAILABLE\n    ? UINT32_MAX\n    : typeof process !== \"undefined\" && process.env[\"TEXT_DECODER\"] !== \"force\"\n        ? 200\n        : 0;\nexport function utf8DecodeTD(bytes, inputOffset, byteLength) {\n    var stringBytes = bytes.subarray(inputOffset, inputOffset + byteLength);\n    return sharedTextDecoder.decode(stringBytes);\n}\n//# sourceMappingURL=utf8.mjs.map","/**\n * ExtData is used to handle Extension Types that are not registered to ExtensionCodec.\n */\nvar ExtData = /** @class */ (function () {\n    function ExtData(type, data) {\n        this.type = type;\n        this.data = data;\n    }\n    return ExtData;\n}());\nexport { ExtData };\n//# sourceMappingURL=ExtData.mjs.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar DecodeError = /** @class */ (function (_super) {\n    __extends(DecodeError, _super);\n    function DecodeError(message) {\n        var _this = _super.call(this, message) || this;\n        // fix the prototype chain in a cross-platform way\n        var proto = Object.create(DecodeError.prototype);\n        Object.setPrototypeOf(_this, proto);\n        Object.defineProperty(_this, \"name\", {\n            configurable: true,\n            enumerable: false,\n            value: DecodeError.name,\n        });\n        return _this;\n    }\n    return DecodeError;\n}(Error));\nexport { DecodeError };\n//# sourceMappingURL=DecodeError.mjs.map","// https://github.com/msgpack/msgpack/blob/master/spec.md#timestamp-extension-type\nimport { DecodeError } from \"./DecodeError.mjs\";\nimport { getInt64, setInt64 } from \"./utils/int.mjs\";\nexport var EXT_TIMESTAMP = -1;\nvar TIMESTAMP32_MAX_SEC = 0x100000000 - 1; // 32-bit unsigned int\nvar TIMESTAMP64_MAX_SEC = 0x400000000 - 1; // 34-bit unsigned int\nexport function encodeTimeSpecToTimestamp(_a) {\n    var sec = _a.sec, nsec = _a.nsec;\n    if (sec >= 0 && nsec >= 0 && sec <= TIMESTAMP64_MAX_SEC) {\n        // Here sec >= 0 && nsec >= 0\n        if (nsec === 0 && sec <= TIMESTAMP32_MAX_SEC) {\n            // timestamp 32 = { sec32 (unsigned) }\n            var rv = new Uint8Array(4);\n            var view = new DataView(rv.buffer);\n            view.setUint32(0, sec);\n            return rv;\n        }\n        else {\n            // timestamp 64 = { nsec30 (unsigned), sec34 (unsigned) }\n            var secHigh = sec / 0x100000000;\n            var secLow = sec & 0xffffffff;\n            var rv = new Uint8Array(8);\n            var view = new DataView(rv.buffer);\n            // nsec30 | secHigh2\n            view.setUint32(0, (nsec << 2) | (secHigh & 0x3));\n            // secLow32\n            view.setUint32(4, secLow);\n            return rv;\n        }\n    }\n    else {\n        // timestamp 96 = { nsec32 (unsigned), sec64 (signed) }\n        var rv = new Uint8Array(12);\n        var view = new DataView(rv.buffer);\n        view.setUint32(0, nsec);\n        setInt64(view, 4, sec);\n        return rv;\n    }\n}\nexport function encodeDateToTimeSpec(date) {\n    var msec = date.getTime();\n    var sec = Math.floor(msec / 1e3);\n    var nsec = (msec - sec * 1e3) * 1e6;\n    // Normalizes { sec, nsec } to ensure nsec is unsigned.\n    var nsecInSec = Math.floor(nsec / 1e9);\n    return {\n        sec: sec + nsecInSec,\n        nsec: nsec - nsecInSec * 1e9,\n    };\n}\nexport function encodeTimestampExtension(object) {\n    if (object instanceof Date) {\n        var timeSpec = encodeDateToTimeSpec(object);\n        return encodeTimeSpecToTimestamp(timeSpec);\n    }\n    else {\n        return null;\n    }\n}\nexport function decodeTimestampToTimeSpec(data) {\n    var view = new DataView(data.buffer, data.byteOffset, data.byteLength);\n    // data may be 32, 64, or 96 bits\n    switch (data.byteLength) {\n        case 4: {\n            // timestamp 32 = { sec32 }\n            var sec = view.getUint32(0);\n            var nsec = 0;\n            return { sec: sec, nsec: nsec };\n        }\n        case 8: {\n            // timestamp 64 = { nsec30, sec34 }\n            var nsec30AndSecHigh2 = view.getUint32(0);\n            var secLow32 = view.getUint32(4);\n            var sec = (nsec30AndSecHigh2 & 0x3) * 0x100000000 + secLow32;\n            var nsec = nsec30AndSecHigh2 >>> 2;\n            return { sec: sec, nsec: nsec };\n        }\n        case 12: {\n            // timestamp 96 = { nsec32 (unsigned), sec64 (signed) }\n            var sec = getInt64(view, 4);\n            var nsec = view.getUint32(0);\n            return { sec: sec, nsec: nsec };\n        }\n        default:\n            throw new DecodeError(\"Unrecognized data size for timestamp (expected 4, 8, or 12): \" + data.length);\n    }\n}\nexport function decodeTimestampExtension(data) {\n    var timeSpec = decodeTimestampToTimeSpec(data);\n    return new Date(timeSpec.sec * 1e3 + timeSpec.nsec / 1e6);\n}\nexport var timestampExtension = {\n    type: EXT_TIMESTAMP,\n    encode: encodeTimestampExtension,\n    decode: decodeTimestampExtension,\n};\n//# sourceMappingURL=timestamp.mjs.map","// ExtensionCodec to handle MessagePack extensions\nimport { ExtData } from \"./ExtData.mjs\";\nimport { timestampExtension } from \"./timestamp.mjs\";\nvar ExtensionCodec = /** @class */ (function () {\n    function ExtensionCodec() {\n        // built-in extensions\n        this.builtInEncoders = [];\n        this.builtInDecoders = [];\n        // custom extensions\n        this.encoders = [];\n        this.decoders = [];\n        this.register(timestampExtension);\n    }\n    ExtensionCodec.prototype.register = function (_a) {\n        var type = _a.type, encode = _a.encode, decode = _a.decode;\n        if (type >= 0) {\n            // custom extensions\n            this.encoders[type] = encode;\n            this.decoders[type] = decode;\n        }\n        else {\n            // built-in extensions\n            var index = 1 + type;\n            this.builtInEncoders[index] = encode;\n            this.builtInDecoders[index] = decode;\n        }\n    };\n    ExtensionCodec.prototype.tryToEncode = function (object, context) {\n        // built-in extensions\n        for (var i = 0; i < this.builtInEncoders.length; i++) {\n            var encodeExt = this.builtInEncoders[i];\n            if (encodeExt != null) {\n                var data = encodeExt(object, context);\n                if (data != null) {\n                    var type = -1 - i;\n                    return new ExtData(type, data);\n                }\n            }\n        }\n        // custom extensions\n        for (var i = 0; i < this.encoders.length; i++) {\n            var encodeExt = this.encoders[i];\n            if (encodeExt != null) {\n                var data = encodeExt(object, context);\n                if (data != null) {\n                    var type = i;\n                    return new ExtData(type, data);\n                }\n            }\n        }\n        if (object instanceof ExtData) {\n            // to keep ExtData as is\n            return object;\n        }\n        return null;\n    };\n    ExtensionCodec.prototype.decode = function (data, type, context) {\n        var decodeExt = type < 0 ? this.builtInDecoders[-1 - type] : this.decoders[type];\n        if (decodeExt) {\n            return decodeExt(data, type, context);\n        }\n        else {\n            // decode() does not fail, returns ExtData instead.\n            return new ExtData(type, data);\n        }\n    };\n    ExtensionCodec.defaultCodec = new ExtensionCodec();\n    return ExtensionCodec;\n}());\nexport { ExtensionCodec };\n//# sourceMappingURL=ExtensionCodec.mjs.map","export function ensureUint8Array(buffer) {\n    if (buffer instanceof Uint8Array) {\n        return buffer;\n    }\n    else if (ArrayBuffer.isView(buffer)) {\n        return new Uint8Array(buffer.buffer, buffer.byteOffset, buffer.byteLength);\n    }\n    else if (buffer instanceof ArrayBuffer) {\n        return new Uint8Array(buffer);\n    }\n    else {\n        // ArrayLike<number>\n        return Uint8Array.from(buffer);\n    }\n}\nexport function createDataView(buffer) {\n    if (buffer instanceof ArrayBuffer) {\n        return new DataView(buffer);\n    }\n    var bufferView = ensureUint8Array(buffer);\n    return new DataView(bufferView.buffer, bufferView.byteOffset, bufferView.byteLength);\n}\n//# sourceMappingURL=typedArrays.mjs.map","import { utf8EncodeJs, utf8Count, TEXT_ENCODER_THRESHOLD, utf8EncodeTE } from \"./utils/utf8.mjs\";\nimport { ExtensionCodec } from \"./ExtensionCodec.mjs\";\nimport { setInt64, setUint64 } from \"./utils/int.mjs\";\nimport { ensureUint8Array } from \"./utils/typedArrays.mjs\";\nexport var DEFAULT_MAX_DEPTH = 100;\nexport var DEFAULT_INITIAL_BUFFER_SIZE = 2048;\nvar Encoder = /** @class */ (function () {\n    function Encoder(extensionCodec, context, maxDepth, initialBufferSize, sortKeys, forceFloat32, ignoreUndefined, forceIntegerToFloat) {\n        if (extensionCodec === void 0) { extensionCodec = ExtensionCodec.defaultCodec; }\n        if (context === void 0) { context = undefined; }\n        if (maxDepth === void 0) { maxDepth = DEFAULT_MAX_DEPTH; }\n        if (initialBufferSize === void 0) { initialBufferSize = DEFAULT_INITIAL_BUFFER_SIZE; }\n        if (sortKeys === void 0) { sortKeys = false; }\n        if (forceFloat32 === void 0) { forceFloat32 = false; }\n        if (ignoreUndefined === void 0) { ignoreUndefined = false; }\n        if (forceIntegerToFloat === void 0) { forceIntegerToFloat = false; }\n        this.extensionCodec = extensionCodec;\n        this.context = context;\n        this.maxDepth = maxDepth;\n        this.initialBufferSize = initialBufferSize;\n        this.sortKeys = sortKeys;\n        this.forceFloat32 = forceFloat32;\n        this.ignoreUndefined = ignoreUndefined;\n        this.forceIntegerToFloat = forceIntegerToFloat;\n        this.pos = 0;\n        this.view = new DataView(new ArrayBuffer(this.initialBufferSize));\n        this.bytes = new Uint8Array(this.view.buffer);\n    }\n    Encoder.prototype.getUint8Array = function () {\n        return this.bytes.subarray(0, this.pos);\n    };\n    Encoder.prototype.reinitializeState = function () {\n        this.pos = 0;\n    };\n    Encoder.prototype.encode = function (object) {\n        this.reinitializeState();\n        this.doEncode(object, 1);\n        return this.getUint8Array();\n    };\n    Encoder.prototype.doEncode = function (object, depth) {\n        if (depth > this.maxDepth) {\n            throw new Error(\"Too deep objects in depth \" + depth);\n        }\n        if (object == null) {\n            this.encodeNil();\n        }\n        else if (typeof object === \"boolean\") {\n            this.encodeBoolean(object);\n        }\n        else if (typeof object === \"number\") {\n            this.encodeNumber(object);\n        }\n        else if (typeof object === \"string\") {\n            this.encodeString(object);\n        }\n        else {\n            this.encodeObject(object, depth);\n        }\n    };\n    Encoder.prototype.ensureBufferSizeToWrite = function (sizeToWrite) {\n        var requiredSize = this.pos + sizeToWrite;\n        if (this.view.byteLength < requiredSize) {\n            this.resizeBuffer(requiredSize * 2);\n        }\n    };\n    Encoder.prototype.resizeBuffer = function (newSize) {\n        var newBuffer = new ArrayBuffer(newSize);\n        var newBytes = new Uint8Array(newBuffer);\n        var newView = new DataView(newBuffer);\n        newBytes.set(this.bytes);\n        this.view = newView;\n        this.bytes = newBytes;\n    };\n    Encoder.prototype.encodeNil = function () {\n        this.writeU8(0xc0);\n    };\n    Encoder.prototype.encodeBoolean = function (object) {\n        if (object === false) {\n            this.writeU8(0xc2);\n        }\n        else {\n            this.writeU8(0xc3);\n        }\n    };\n    Encoder.prototype.encodeNumber = function (object) {\n        if (Number.isSafeInteger(object) && !this.forceIntegerToFloat) {\n            if (object >= 0) {\n                if (object < 0x80) {\n                    // positive fixint\n                    this.writeU8(object);\n                }\n                else if (object < 0x100) {\n                    // uint 8\n                    this.writeU8(0xcc);\n                    this.writeU8(object);\n                }\n                else if (object < 0x10000) {\n                    // uint 16\n                    this.writeU8(0xcd);\n                    this.writeU16(object);\n                }\n                else if (object < 0x100000000) {\n                    // uint 32\n                    this.writeU8(0xce);\n                    this.writeU32(object);\n                }\n                else {\n                    // uint 64\n                    this.writeU8(0xcf);\n                    this.writeU64(object);\n                }\n            }\n            else {\n                if (object >= -0x20) {\n                    // negative fixint\n                    this.writeU8(0xe0 | (object + 0x20));\n                }\n                else if (object >= -0x80) {\n                    // int 8\n                    this.writeU8(0xd0);\n                    this.writeI8(object);\n                }\n                else if (object >= -0x8000) {\n                    // int 16\n                    this.writeU8(0xd1);\n                    this.writeI16(object);\n                }\n                else if (object >= -0x80000000) {\n                    // int 32\n                    this.writeU8(0xd2);\n                    this.writeI32(object);\n                }\n                else {\n                    // int 64\n                    this.writeU8(0xd3);\n                    this.writeI64(object);\n                }\n            }\n        }\n        else {\n            // non-integer numbers\n            if (this.forceFloat32) {\n                // float 32\n                this.writeU8(0xca);\n                this.writeF32(object);\n            }\n            else {\n                // float 64\n                this.writeU8(0xcb);\n                this.writeF64(object);\n            }\n        }\n    };\n    Encoder.prototype.writeStringHeader = function (byteLength) {\n        if (byteLength < 32) {\n            // fixstr\n            this.writeU8(0xa0 + byteLength);\n        }\n        else if (byteLength < 0x100) {\n            // str 8\n            this.writeU8(0xd9);\n            this.writeU8(byteLength);\n        }\n        else if (byteLength < 0x10000) {\n            // str 16\n            this.writeU8(0xda);\n            this.writeU16(byteLength);\n        }\n        else if (byteLength < 0x100000000) {\n            // str 32\n            this.writeU8(0xdb);\n            this.writeU32(byteLength);\n        }\n        else {\n            throw new Error(\"Too long string: \" + byteLength + \" bytes in UTF-8\");\n        }\n    };\n    Encoder.prototype.encodeString = function (object) {\n        var maxHeaderSize = 1 + 4;\n        var strLength = object.length;\n        if (strLength > TEXT_ENCODER_THRESHOLD) {\n            var byteLength = utf8Count(object);\n            this.ensureBufferSizeToWrite(maxHeaderSize + byteLength);\n            this.writeStringHeader(byteLength);\n            utf8EncodeTE(object, this.bytes, this.pos);\n            this.pos += byteLength;\n        }\n        else {\n            var byteLength = utf8Count(object);\n            this.ensureBufferSizeToWrite(maxHeaderSize + byteLength);\n            this.writeStringHeader(byteLength);\n            utf8EncodeJs(object, this.bytes, this.pos);\n            this.pos += byteLength;\n        }\n    };\n    Encoder.prototype.encodeObject = function (object, depth) {\n        // try to encode objects with custom codec first of non-primitives\n        var ext = this.extensionCodec.tryToEncode(object, this.context);\n        if (ext != null) {\n            this.encodeExtension(ext);\n        }\n        else if (Array.isArray(object)) {\n            this.encodeArray(object, depth);\n        }\n        else if (ArrayBuffer.isView(object)) {\n            this.encodeBinary(object);\n        }\n        else if (typeof object === \"object\") {\n            this.encodeMap(object, depth);\n        }\n        else {\n            // symbol, function and other special object come here unless extensionCodec handles them.\n            throw new Error(\"Unrecognized object: \" + Object.prototype.toString.apply(object));\n        }\n    };\n    Encoder.prototype.encodeBinary = function (object) {\n        var size = object.byteLength;\n        if (size < 0x100) {\n            // bin 8\n            this.writeU8(0xc4);\n            this.writeU8(size);\n        }\n        else if (size < 0x10000) {\n            // bin 16\n            this.writeU8(0xc5);\n            this.writeU16(size);\n        }\n        else if (size < 0x100000000) {\n            // bin 32\n            this.writeU8(0xc6);\n            this.writeU32(size);\n        }\n        else {\n            throw new Error(\"Too large binary: \" + size);\n        }\n        var bytes = ensureUint8Array(object);\n        this.writeU8a(bytes);\n    };\n    Encoder.prototype.encodeArray = function (object, depth) {\n        var size = object.length;\n        if (size < 16) {\n            // fixarray\n            this.writeU8(0x90 + size);\n        }\n        else if (size < 0x10000) {\n            // array 16\n            this.writeU8(0xdc);\n            this.writeU16(size);\n        }\n        else if (size < 0x100000000) {\n            // array 32\n            this.writeU8(0xdd);\n            this.writeU32(size);\n        }\n        else {\n            throw new Error(\"Too large array: \" + size);\n        }\n        for (var _i = 0, object_1 = object; _i < object_1.length; _i++) {\n            var item = object_1[_i];\n            this.doEncode(item, depth + 1);\n        }\n    };\n    Encoder.prototype.countWithoutUndefined = function (object, keys) {\n        var count = 0;\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            if (object[key] !== undefined) {\n                count++;\n            }\n        }\n        return count;\n    };\n    Encoder.prototype.encodeMap = function (object, depth) {\n        var keys = Object.keys(object);\n        if (this.sortKeys) {\n            keys.sort();\n        }\n        var size = this.ignoreUndefined ? this.countWithoutUndefined(object, keys) : keys.length;\n        if (size < 16) {\n            // fixmap\n            this.writeU8(0x80 + size);\n        }\n        else if (size < 0x10000) {\n            // map 16\n            this.writeU8(0xde);\n            this.writeU16(size);\n        }\n        else if (size < 0x100000000) {\n            // map 32\n            this.writeU8(0xdf);\n            this.writeU32(size);\n        }\n        else {\n            throw new Error(\"Too large map object: \" + size);\n        }\n        for (var _i = 0, keys_2 = keys; _i < keys_2.length; _i++) {\n            var key = keys_2[_i];\n            var value = object[key];\n            if (!(this.ignoreUndefined && value === undefined)) {\n                this.encodeString(key);\n                this.doEncode(value, depth + 1);\n            }\n        }\n    };\n    Encoder.prototype.encodeExtension = function (ext) {\n        var size = ext.data.length;\n        if (size === 1) {\n            // fixext 1\n            this.writeU8(0xd4);\n        }\n        else if (size === 2) {\n            // fixext 2\n            this.writeU8(0xd5);\n        }\n        else if (size === 4) {\n            // fixext 4\n            this.writeU8(0xd6);\n        }\n        else if (size === 8) {\n            // fixext 8\n            this.writeU8(0xd7);\n        }\n        else if (size === 16) {\n            // fixext 16\n            this.writeU8(0xd8);\n        }\n        else if (size < 0x100) {\n            // ext 8\n            this.writeU8(0xc7);\n            this.writeU8(size);\n        }\n        else if (size < 0x10000) {\n            // ext 16\n            this.writeU8(0xc8);\n            this.writeU16(size);\n        }\n        else if (size < 0x100000000) {\n            // ext 32\n            this.writeU8(0xc9);\n            this.writeU32(size);\n        }\n        else {\n            throw new Error(\"Too large extension object: \" + size);\n        }\n        this.writeI8(ext.type);\n        this.writeU8a(ext.data);\n    };\n    Encoder.prototype.writeU8 = function (value) {\n        this.ensureBufferSizeToWrite(1);\n        this.view.setUint8(this.pos, value);\n        this.pos++;\n    };\n    Encoder.prototype.writeU8a = function (values) {\n        var size = values.length;\n        this.ensureBufferSizeToWrite(size);\n        this.bytes.set(values, this.pos);\n        this.pos += size;\n    };\n    Encoder.prototype.writeI8 = function (value) {\n        this.ensureBufferSizeToWrite(1);\n        this.view.setInt8(this.pos, value);\n        this.pos++;\n    };\n    Encoder.prototype.writeU16 = function (value) {\n        this.ensureBufferSizeToWrite(2);\n        this.view.setUint16(this.pos, value);\n        this.pos += 2;\n    };\n    Encoder.prototype.writeI16 = function (value) {\n        this.ensureBufferSizeToWrite(2);\n        this.view.setInt16(this.pos, value);\n        this.pos += 2;\n    };\n    Encoder.prototype.writeU32 = function (value) {\n        this.ensureBufferSizeToWrite(4);\n        this.view.setUint32(this.pos, value);\n        this.pos += 4;\n    };\n    Encoder.prototype.writeI32 = function (value) {\n        this.ensureBufferSizeToWrite(4);\n        this.view.setInt32(this.pos, value);\n        this.pos += 4;\n    };\n    Encoder.prototype.writeF32 = function (value) {\n        this.ensureBufferSizeToWrite(4);\n        this.view.setFloat32(this.pos, value);\n        this.pos += 4;\n    };\n    Encoder.prototype.writeF64 = function (value) {\n        this.ensureBufferSizeToWrite(8);\n        this.view.setFloat64(this.pos, value);\n        this.pos += 8;\n    };\n    Encoder.prototype.writeU64 = function (value) {\n        this.ensureBufferSizeToWrite(8);\n        setUint64(this.view, this.pos, value);\n        this.pos += 8;\n    };\n    Encoder.prototype.writeI64 = function (value) {\n        this.ensureBufferSizeToWrite(8);\n        setInt64(this.view, this.pos, value);\n        this.pos += 8;\n    };\n    return Encoder;\n}());\nexport { Encoder };\n//# sourceMappingURL=Encoder.mjs.map","import { Encoder } from \"./Encoder.mjs\";\nvar defaultEncodeOptions = {};\n/**\n * It encodes `value` in the MessagePack format and\n * returns a byte buffer.\n *\n * The returned buffer is a slice of a larger `ArrayBuffer`, so you have to use its `#byteOffset` and `#byteLength` in order to convert it to another typed arrays including NodeJS `Buffer`.\n */\nexport function encode(value, options) {\n    if (options === void 0) { options = defaultEncodeOptions; }\n    var encoder = new Encoder(options.extensionCodec, options.context, options.maxDepth, options.initialBufferSize, options.sortKeys, options.forceFloat32, options.ignoreUndefined, options.forceIntegerToFloat);\n    return encoder.encode(value);\n}\n//# sourceMappingURL=encode.mjs.map","export function prettyByte(byte) {\n    return (byte < 0 ? \"-\" : \"\") + \"0x\" + Math.abs(byte).toString(16).padStart(2, \"0\");\n}\n//# sourceMappingURL=prettyByte.mjs.map","import { utf8DecodeJs } from \"./utils/utf8.mjs\";\nvar DEFAULT_MAX_KEY_LENGTH = 16;\nvar DEFAULT_MAX_LENGTH_PER_KEY = 16;\nvar CachedKeyDecoder = /** @class */ (function () {\n    function CachedKeyDecoder(maxKeyLength, maxLengthPerKey) {\n        if (maxKeyLength === void 0) { maxKeyLength = DEFAULT_MAX_KEY_LENGTH; }\n        if (maxLengthPerKey === void 0) { maxLengthPerKey = DEFAULT_MAX_LENGTH_PER_KEY; }\n        this.maxKeyLength = maxKeyLength;\n        this.maxLengthPerKey = maxLengthPerKey;\n        this.hit = 0;\n        this.miss = 0;\n        // avoid `new Array(N)`, which makes a sparse array,\n        // because a sparse array is typically slower than a non-sparse array.\n        this.caches = [];\n        for (var i = 0; i < this.maxKeyLength; i++) {\n            this.caches.push([]);\n        }\n    }\n    CachedKeyDecoder.prototype.canBeCached = function (byteLength) {\n        return byteLength > 0 && byteLength <= this.maxKeyLength;\n    };\n    CachedKeyDecoder.prototype.find = function (bytes, inputOffset, byteLength) {\n        var records = this.caches[byteLength - 1];\n        FIND_CHUNK: for (var _i = 0, records_1 = records; _i < records_1.length; _i++) {\n            var record = records_1[_i];\n            var recordBytes = record.bytes;\n            for (var j = 0; j < byteLength; j++) {\n                if (recordBytes[j] !== bytes[inputOffset + j]) {\n                    continue FIND_CHUNK;\n                }\n            }\n            return record.str;\n        }\n        return null;\n    };\n    CachedKeyDecoder.prototype.store = function (bytes, value) {\n        var records = this.caches[bytes.length - 1];\n        var record = { bytes: bytes, str: value };\n        if (records.length >= this.maxLengthPerKey) {\n            // `records` are full!\n            // Set `record` to an arbitrary position.\n            records[(Math.random() * records.length) | 0] = record;\n        }\n        else {\n            records.push(record);\n        }\n    };\n    CachedKeyDecoder.prototype.decode = function (bytes, inputOffset, byteLength) {\n        var cachedValue = this.find(bytes, inputOffset, byteLength);\n        if (cachedValue != null) {\n            this.hit++;\n            return cachedValue;\n        }\n        this.miss++;\n        var str = utf8DecodeJs(bytes, inputOffset, byteLength);\n        // Ensure to copy a slice of bytes because the byte may be NodeJS Buffer and Buffer#slice() returns a reference to its internal ArrayBuffer.\n        var slicedCopyOfBytes = Uint8Array.prototype.slice.call(bytes, inputOffset, inputOffset + byteLength);\n        this.store(slicedCopyOfBytes, str);\n        return str;\n    };\n    return CachedKeyDecoder;\n}());\nexport { CachedKeyDecoder };\n//# sourceMappingURL=CachedKeyDecoder.mjs.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __asyncValues = (this && this.__asyncValues) || function (o) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var m = o[Symbol.asyncIterator], i;\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n};\nvar __await = (this && this.__await) || function (v) { return this instanceof __await ? (this.v = v, this) : new __await(v); }\nvar __asyncGenerator = (this && this.__asyncGenerator) || function (thisArg, _arguments, generator) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n    function fulfill(value) { resume(\"next\", value); }\n    function reject(value) { resume(\"throw\", value); }\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n};\nimport { prettyByte } from \"./utils/prettyByte.mjs\";\nimport { ExtensionCodec } from \"./ExtensionCodec.mjs\";\nimport { getInt64, getUint64, UINT32_MAX } from \"./utils/int.mjs\";\nimport { utf8DecodeJs, TEXT_DECODER_THRESHOLD, utf8DecodeTD } from \"./utils/utf8.mjs\";\nimport { createDataView, ensureUint8Array } from \"./utils/typedArrays.mjs\";\nimport { CachedKeyDecoder } from \"./CachedKeyDecoder.mjs\";\nimport { DecodeError } from \"./DecodeError.mjs\";\nvar isValidMapKeyType = function (key) {\n    var keyType = typeof key;\n    return keyType === \"string\" || keyType === \"number\";\n};\nvar HEAD_BYTE_REQUIRED = -1;\nvar EMPTY_VIEW = new DataView(new ArrayBuffer(0));\nvar EMPTY_BYTES = new Uint8Array(EMPTY_VIEW.buffer);\n// IE11: Hack to support IE11.\n// IE11: Drop this hack and just use RangeError when IE11 is obsolete.\nexport var DataViewIndexOutOfBoundsError = (function () {\n    try {\n        // IE11: The spec says it should throw RangeError,\n        // IE11: but in IE11 it throws TypeError.\n        EMPTY_VIEW.getInt8(0);\n    }\n    catch (e) {\n        return e.constructor;\n    }\n    throw new Error(\"never reached\");\n})();\nvar MORE_DATA = new DataViewIndexOutOfBoundsError(\"Insufficient data\");\nvar sharedCachedKeyDecoder = new CachedKeyDecoder();\nvar Decoder = /** @class */ (function () {\n    function Decoder(extensionCodec, context, maxStrLength, maxBinLength, maxArrayLength, maxMapLength, maxExtLength, keyDecoder) {\n        if (extensionCodec === void 0) { extensionCodec = ExtensionCodec.defaultCodec; }\n        if (context === void 0) { context = undefined; }\n        if (maxStrLength === void 0) { maxStrLength = UINT32_MAX; }\n        if (maxBinLength === void 0) { maxBinLength = UINT32_MAX; }\n        if (maxArrayLength === void 0) { maxArrayLength = UINT32_MAX; }\n        if (maxMapLength === void 0) { maxMapLength = UINT32_MAX; }\n        if (maxExtLength === void 0) { maxExtLength = UINT32_MAX; }\n        if (keyDecoder === void 0) { keyDecoder = sharedCachedKeyDecoder; }\n        this.extensionCodec = extensionCodec;\n        this.context = context;\n        this.maxStrLength = maxStrLength;\n        this.maxBinLength = maxBinLength;\n        this.maxArrayLength = maxArrayLength;\n        this.maxMapLength = maxMapLength;\n        this.maxExtLength = maxExtLength;\n        this.keyDecoder = keyDecoder;\n        this.totalPos = 0;\n        this.pos = 0;\n        this.view = EMPTY_VIEW;\n        this.bytes = EMPTY_BYTES;\n        this.headByte = HEAD_BYTE_REQUIRED;\n        this.stack = [];\n    }\n    Decoder.prototype.reinitializeState = function () {\n        this.totalPos = 0;\n        this.headByte = HEAD_BYTE_REQUIRED;\n        this.stack.length = 0;\n        // view, bytes, and pos will be re-initialized in setBuffer()\n    };\n    Decoder.prototype.setBuffer = function (buffer) {\n        this.bytes = ensureUint8Array(buffer);\n        this.view = createDataView(this.bytes);\n        this.pos = 0;\n    };\n    Decoder.prototype.appendBuffer = function (buffer) {\n        if (this.headByte === HEAD_BYTE_REQUIRED && !this.hasRemaining(1)) {\n            this.setBuffer(buffer);\n        }\n        else {\n            var remainingData = this.bytes.subarray(this.pos);\n            var newData = ensureUint8Array(buffer);\n            // concat remainingData + newData\n            var newBuffer = new Uint8Array(remainingData.length + newData.length);\n            newBuffer.set(remainingData);\n            newBuffer.set(newData, remainingData.length);\n            this.setBuffer(newBuffer);\n        }\n    };\n    Decoder.prototype.hasRemaining = function (size) {\n        return this.view.byteLength - this.pos >= size;\n    };\n    Decoder.prototype.createExtraByteError = function (posToShow) {\n        var _a = this, view = _a.view, pos = _a.pos;\n        return new RangeError(\"Extra \" + (view.byteLength - pos) + \" of \" + view.byteLength + \" byte(s) found at buffer[\" + posToShow + \"]\");\n    };\n    /**\n     * @throws {DecodeError}\n     * @throws {RangeError}\n     */\n    Decoder.prototype.decode = function (buffer) {\n        this.reinitializeState();\n        this.setBuffer(buffer);\n        var object = this.doDecodeSync();\n        if (this.hasRemaining(1)) {\n            throw this.createExtraByteError(this.pos);\n        }\n        return object;\n    };\n    Decoder.prototype.decodeMulti = function (buffer) {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    this.reinitializeState();\n                    this.setBuffer(buffer);\n                    _a.label = 1;\n                case 1:\n                    if (!this.hasRemaining(1)) return [3 /*break*/, 3];\n                    return [4 /*yield*/, this.doDecodeSync()];\n                case 2:\n                    _a.sent();\n                    return [3 /*break*/, 1];\n                case 3: return [2 /*return*/];\n            }\n        });\n    };\n    Decoder.prototype.decodeAsync = function (stream) {\n        var stream_1, stream_1_1;\n        var e_1, _a;\n        return __awaiter(this, void 0, void 0, function () {\n            var decoded, object, buffer, e_1_1, _b, headByte, pos, totalPos;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        decoded = false;\n                        _c.label = 1;\n                    case 1:\n                        _c.trys.push([1, 6, 7, 12]);\n                        stream_1 = __asyncValues(stream);\n                        _c.label = 2;\n                    case 2: return [4 /*yield*/, stream_1.next()];\n                    case 3:\n                        if (!(stream_1_1 = _c.sent(), !stream_1_1.done)) return [3 /*break*/, 5];\n                        buffer = stream_1_1.value;\n                        if (decoded) {\n                            throw this.createExtraByteError(this.totalPos);\n                        }\n                        this.appendBuffer(buffer);\n                        try {\n                            object = this.doDecodeSync();\n                            decoded = true;\n                        }\n                        catch (e) {\n                            if (!(e instanceof DataViewIndexOutOfBoundsError)) {\n                                throw e; // rethrow\n                            }\n                            // fallthrough\n                        }\n                        this.totalPos += this.pos;\n                        _c.label = 4;\n                    case 4: return [3 /*break*/, 2];\n                    case 5: return [3 /*break*/, 12];\n                    case 6:\n                        e_1_1 = _c.sent();\n                        e_1 = { error: e_1_1 };\n                        return [3 /*break*/, 12];\n                    case 7:\n                        _c.trys.push([7, , 10, 11]);\n                        if (!(stream_1_1 && !stream_1_1.done && (_a = stream_1.return))) return [3 /*break*/, 9];\n                        return [4 /*yield*/, _a.call(stream_1)];\n                    case 8:\n                        _c.sent();\n                        _c.label = 9;\n                    case 9: return [3 /*break*/, 11];\n                    case 10:\n                        if (e_1) throw e_1.error;\n                        return [7 /*endfinally*/];\n                    case 11: return [7 /*endfinally*/];\n                    case 12:\n                        if (decoded) {\n                            if (this.hasRemaining(1)) {\n                                throw this.createExtraByteError(this.totalPos);\n                            }\n                            return [2 /*return*/, object];\n                        }\n                        _b = this, headByte = _b.headByte, pos = _b.pos, totalPos = _b.totalPos;\n                        throw new RangeError(\"Insufficient data in parsing \" + prettyByte(headByte) + \" at \" + totalPos + \" (\" + pos + \" in the current buffer)\");\n                }\n            });\n        });\n    };\n    Decoder.prototype.decodeArrayStream = function (stream) {\n        return this.decodeMultiAsync(stream, true);\n    };\n    Decoder.prototype.decodeStream = function (stream) {\n        return this.decodeMultiAsync(stream, false);\n    };\n    Decoder.prototype.decodeMultiAsync = function (stream, isArray) {\n        return __asyncGenerator(this, arguments, function decodeMultiAsync_1() {\n            var isArrayHeaderRequired, arrayItemsLeft, stream_2, stream_2_1, buffer, e_2, e_3_1;\n            var e_3, _a;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        isArrayHeaderRequired = isArray;\n                        arrayItemsLeft = -1;\n                        _b.label = 1;\n                    case 1:\n                        _b.trys.push([1, 13, 14, 19]);\n                        stream_2 = __asyncValues(stream);\n                        _b.label = 2;\n                    case 2: return [4 /*yield*/, __await(stream_2.next())];\n                    case 3:\n                        if (!(stream_2_1 = _b.sent(), !stream_2_1.done)) return [3 /*break*/, 12];\n                        buffer = stream_2_1.value;\n                        if (isArray && arrayItemsLeft === 0) {\n                            throw this.createExtraByteError(this.totalPos);\n                        }\n                        this.appendBuffer(buffer);\n                        if (isArrayHeaderRequired) {\n                            arrayItemsLeft = this.readArraySize();\n                            isArrayHeaderRequired = false;\n                            this.complete();\n                        }\n                        _b.label = 4;\n                    case 4:\n                        _b.trys.push([4, 9, , 10]);\n                        _b.label = 5;\n                    case 5:\n                        if (!true) return [3 /*break*/, 8];\n                        return [4 /*yield*/, __await(this.doDecodeSync())];\n                    case 6: return [4 /*yield*/, _b.sent()];\n                    case 7:\n                        _b.sent();\n                        if (--arrayItemsLeft === 0) {\n                            return [3 /*break*/, 8];\n                        }\n                        return [3 /*break*/, 5];\n                    case 8: return [3 /*break*/, 10];\n                    case 9:\n                        e_2 = _b.sent();\n                        if (!(e_2 instanceof DataViewIndexOutOfBoundsError)) {\n                            throw e_2; // rethrow\n                        }\n                        return [3 /*break*/, 10];\n                    case 10:\n                        this.totalPos += this.pos;\n                        _b.label = 11;\n                    case 11: return [3 /*break*/, 2];\n                    case 12: return [3 /*break*/, 19];\n                    case 13:\n                        e_3_1 = _b.sent();\n                        e_3 = { error: e_3_1 };\n                        return [3 /*break*/, 19];\n                    case 14:\n                        _b.trys.push([14, , 17, 18]);\n                        if (!(stream_2_1 && !stream_2_1.done && (_a = stream_2.return))) return [3 /*break*/, 16];\n                        return [4 /*yield*/, __await(_a.call(stream_2))];\n                    case 15:\n                        _b.sent();\n                        _b.label = 16;\n                    case 16: return [3 /*break*/, 18];\n                    case 17:\n                        if (e_3) throw e_3.error;\n                        return [7 /*endfinally*/];\n                    case 18: return [7 /*endfinally*/];\n                    case 19: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Decoder.prototype.doDecodeSync = function () {\n        DECODE: while (true) {\n            var headByte = this.readHeadByte();\n            var object = void 0;\n            if (headByte >= 0xe0) {\n                // negative fixint (111x xxxx) 0xe0 - 0xff\n                object = headByte - 0x100;\n            }\n            else if (headByte < 0xc0) {\n                if (headByte < 0x80) {\n                    // positive fixint (0xxx xxxx) 0x00 - 0x7f\n                    object = headByte;\n                }\n                else if (headByte < 0x90) {\n                    // fixmap (1000 xxxx) 0x80 - 0x8f\n                    var size = headByte - 0x80;\n                    if (size !== 0) {\n                        this.pushMapState(size);\n                        this.complete();\n                        continue DECODE;\n                    }\n                    else {\n                        object = {};\n                    }\n                }\n                else if (headByte < 0xa0) {\n                    // fixarray (1001 xxxx) 0x90 - 0x9f\n                    var size = headByte - 0x90;\n                    if (size !== 0) {\n                        this.pushArrayState(size);\n                        this.complete();\n                        continue DECODE;\n                    }\n                    else {\n                        object = [];\n                    }\n                }\n                else {\n                    // fixstr (101x xxxx) 0xa0 - 0xbf\n                    var byteLength = headByte - 0xa0;\n                    object = this.decodeUtf8String(byteLength, 0);\n                }\n            }\n            else if (headByte === 0xc0) {\n                // nil\n                object = null;\n            }\n            else if (headByte === 0xc2) {\n                // false\n                object = false;\n            }\n            else if (headByte === 0xc3) {\n                // true\n                object = true;\n            }\n            else if (headByte === 0xca) {\n                // float 32\n                object = this.readF32();\n            }\n            else if (headByte === 0xcb) {\n                // float 64\n                object = this.readF64();\n            }\n            else if (headByte === 0xcc) {\n                // uint 8\n                object = this.readU8();\n            }\n            else if (headByte === 0xcd) {\n                // uint 16\n                object = this.readU16();\n            }\n            else if (headByte === 0xce) {\n                // uint 32\n                object = this.readU32();\n            }\n            else if (headByte === 0xcf) {\n                // uint 64\n                object = this.readU64();\n            }\n            else if (headByte === 0xd0) {\n                // int 8\n                object = this.readI8();\n            }\n            else if (headByte === 0xd1) {\n                // int 16\n                object = this.readI16();\n            }\n            else if (headByte === 0xd2) {\n                // int 32\n                object = this.readI32();\n            }\n            else if (headByte === 0xd3) {\n                // int 64\n                object = this.readI64();\n            }\n            else if (headByte === 0xd9) {\n                // str 8\n                var byteLength = this.lookU8();\n                object = this.decodeUtf8String(byteLength, 1);\n            }\n            else if (headByte === 0xda) {\n                // str 16\n                var byteLength = this.lookU16();\n                object = this.decodeUtf8String(byteLength, 2);\n            }\n            else if (headByte === 0xdb) {\n                // str 32\n                var byteLength = this.lookU32();\n                object = this.decodeUtf8String(byteLength, 4);\n            }\n            else if (headByte === 0xdc) {\n                // array 16\n                var size = this.readU16();\n                if (size !== 0) {\n                    this.pushArrayState(size);\n                    this.complete();\n                    continue DECODE;\n                }\n                else {\n                    object = [];\n                }\n            }\n            else if (headByte === 0xdd) {\n                // array 32\n                var size = this.readU32();\n                if (size !== 0) {\n                    this.pushArrayState(size);\n                    this.complete();\n                    continue DECODE;\n                }\n                else {\n                    object = [];\n                }\n            }\n            else if (headByte === 0xde) {\n                // map 16\n                var size = this.readU16();\n                if (size !== 0) {\n                    this.pushMapState(size);\n                    this.complete();\n                    continue DECODE;\n                }\n                else {\n                    object = {};\n                }\n            }\n            else if (headByte === 0xdf) {\n                // map 32\n                var size = this.readU32();\n                if (size !== 0) {\n                    this.pushMapState(size);\n                    this.complete();\n                    continue DECODE;\n                }\n                else {\n                    object = {};\n                }\n            }\n            else if (headByte === 0xc4) {\n                // bin 8\n                var size = this.lookU8();\n                object = this.decodeBinary(size, 1);\n            }\n            else if (headByte === 0xc5) {\n                // bin 16\n                var size = this.lookU16();\n                object = this.decodeBinary(size, 2);\n            }\n            else if (headByte === 0xc6) {\n                // bin 32\n                var size = this.lookU32();\n                object = this.decodeBinary(size, 4);\n            }\n            else if (headByte === 0xd4) {\n                // fixext 1\n                object = this.decodeExtension(1, 0);\n            }\n            else if (headByte === 0xd5) {\n                // fixext 2\n                object = this.decodeExtension(2, 0);\n            }\n            else if (headByte === 0xd6) {\n                // fixext 4\n                object = this.decodeExtension(4, 0);\n            }\n            else if (headByte === 0xd7) {\n                // fixext 8\n                object = this.decodeExtension(8, 0);\n            }\n            else if (headByte === 0xd8) {\n                // fixext 16\n                object = this.decodeExtension(16, 0);\n            }\n            else if (headByte === 0xc7) {\n                // ext 8\n                var size = this.lookU8();\n                object = this.decodeExtension(size, 1);\n            }\n            else if (headByte === 0xc8) {\n                // ext 16\n                var size = this.lookU16();\n                object = this.decodeExtension(size, 2);\n            }\n            else if (headByte === 0xc9) {\n                // ext 32\n                var size = this.lookU32();\n                object = this.decodeExtension(size, 4);\n            }\n            else {\n                throw new DecodeError(\"Unrecognized type byte: \" + prettyByte(headByte));\n            }\n            this.complete();\n            var stack = this.stack;\n            while (stack.length > 0) {\n                // arrays and maps\n                var state = stack[stack.length - 1];\n                if (state.type === 0 /* ARRAY */) {\n                    state.array[state.position] = object;\n                    state.position++;\n                    if (state.position === state.size) {\n                        stack.pop();\n                        object = state.array;\n                    }\n                    else {\n                        continue DECODE;\n                    }\n                }\n                else if (state.type === 1 /* MAP_KEY */) {\n                    if (!isValidMapKeyType(object)) {\n                        throw new DecodeError(\"The type of key must be string or number but \" + typeof object);\n                    }\n                    if (object === \"__proto__\") {\n                        throw new DecodeError(\"The key __proto__ is not allowed\");\n                    }\n                    state.key = object;\n                    state.type = 2 /* MAP_VALUE */;\n                    continue DECODE;\n                }\n                else {\n                    // it must be `state.type === State.MAP_VALUE` here\n                    state.map[state.key] = object;\n                    state.readCount++;\n                    if (state.readCount === state.size) {\n                        stack.pop();\n                        object = state.map;\n                    }\n                    else {\n                        state.key = null;\n                        state.type = 1 /* MAP_KEY */;\n                        continue DECODE;\n                    }\n                }\n            }\n            return object;\n        }\n    };\n    Decoder.prototype.readHeadByte = function () {\n        if (this.headByte === HEAD_BYTE_REQUIRED) {\n            this.headByte = this.readU8();\n            // console.log(\"headByte\", prettyByte(this.headByte));\n        }\n        return this.headByte;\n    };\n    Decoder.prototype.complete = function () {\n        this.headByte = HEAD_BYTE_REQUIRED;\n    };\n    Decoder.prototype.readArraySize = function () {\n        var headByte = this.readHeadByte();\n        switch (headByte) {\n            case 0xdc:\n                return this.readU16();\n            case 0xdd:\n                return this.readU32();\n            default: {\n                if (headByte < 0xa0) {\n                    return headByte - 0x90;\n                }\n                else {\n                    throw new DecodeError(\"Unrecognized array type byte: \" + prettyByte(headByte));\n                }\n            }\n        }\n    };\n    Decoder.prototype.pushMapState = function (size) {\n        if (size > this.maxMapLength) {\n            throw new DecodeError(\"Max length exceeded: map length (\" + size + \") > maxMapLengthLength (\" + this.maxMapLength + \")\");\n        }\n        this.stack.push({\n            type: 1 /* MAP_KEY */,\n            size: size,\n            key: null,\n            readCount: 0,\n            map: {},\n        });\n    };\n    Decoder.prototype.pushArrayState = function (size) {\n        if (size > this.maxArrayLength) {\n            throw new DecodeError(\"Max length exceeded: array length (\" + size + \") > maxArrayLength (\" + this.maxArrayLength + \")\");\n        }\n        this.stack.push({\n            type: 0 /* ARRAY */,\n            size: size,\n            array: new Array(size),\n            position: 0,\n        });\n    };\n    Decoder.prototype.decodeUtf8String = function (byteLength, headerOffset) {\n        var _a;\n        if (byteLength > this.maxStrLength) {\n            throw new DecodeError(\"Max length exceeded: UTF-8 byte length (\" + byteLength + \") > maxStrLength (\" + this.maxStrLength + \")\");\n        }\n        if (this.bytes.byteLength < this.pos + headerOffset + byteLength) {\n            throw MORE_DATA;\n        }\n        var offset = this.pos + headerOffset;\n        var object;\n        if (this.stateIsMapKey() && ((_a = this.keyDecoder) === null || _a === void 0 ? void 0 : _a.canBeCached(byteLength))) {\n            object = this.keyDecoder.decode(this.bytes, offset, byteLength);\n        }\n        else if (byteLength > TEXT_DECODER_THRESHOLD) {\n            object = utf8DecodeTD(this.bytes, offset, byteLength);\n        }\n        else {\n            object = utf8DecodeJs(this.bytes, offset, byteLength);\n        }\n        this.pos += headerOffset + byteLength;\n        return object;\n    };\n    Decoder.prototype.stateIsMapKey = function () {\n        if (this.stack.length > 0) {\n            var state = this.stack[this.stack.length - 1];\n            return state.type === 1 /* MAP_KEY */;\n        }\n        return false;\n    };\n    Decoder.prototype.decodeBinary = function (byteLength, headOffset) {\n        if (byteLength > this.maxBinLength) {\n            throw new DecodeError(\"Max length exceeded: bin length (\" + byteLength + \") > maxBinLength (\" + this.maxBinLength + \")\");\n        }\n        if (!this.hasRemaining(byteLength + headOffset)) {\n            throw MORE_DATA;\n        }\n        var offset = this.pos + headOffset;\n        var object = this.bytes.subarray(offset, offset + byteLength);\n        this.pos += headOffset + byteLength;\n        return object;\n    };\n    Decoder.prototype.decodeExtension = function (size, headOffset) {\n        if (size > this.maxExtLength) {\n            throw new DecodeError(\"Max length exceeded: ext length (\" + size + \") > maxExtLength (\" + this.maxExtLength + \")\");\n        }\n        var extType = this.view.getInt8(this.pos + headOffset);\n        var data = this.decodeBinary(size, headOffset + 1 /* extType */);\n        return this.extensionCodec.decode(data, extType, this.context);\n    };\n    Decoder.prototype.lookU8 = function () {\n        return this.view.getUint8(this.pos);\n    };\n    Decoder.prototype.lookU16 = function () {\n        return this.view.getUint16(this.pos);\n    };\n    Decoder.prototype.lookU32 = function () {\n        return this.view.getUint32(this.pos);\n    };\n    Decoder.prototype.readU8 = function () {\n        var value = this.view.getUint8(this.pos);\n        this.pos++;\n        return value;\n    };\n    Decoder.prototype.readI8 = function () {\n        var value = this.view.getInt8(this.pos);\n        this.pos++;\n        return value;\n    };\n    Decoder.prototype.readU16 = function () {\n        var value = this.view.getUint16(this.pos);\n        this.pos += 2;\n        return value;\n    };\n    Decoder.prototype.readI16 = function () {\n        var value = this.view.getInt16(this.pos);\n        this.pos += 2;\n        return value;\n    };\n    Decoder.prototype.readU32 = function () {\n        var value = this.view.getUint32(this.pos);\n        this.pos += 4;\n        return value;\n    };\n    Decoder.prototype.readI32 = function () {\n        var value = this.view.getInt32(this.pos);\n        this.pos += 4;\n        return value;\n    };\n    Decoder.prototype.readU64 = function () {\n        var value = getUint64(this.view, this.pos);\n        this.pos += 8;\n        return value;\n    };\n    Decoder.prototype.readI64 = function () {\n        var value = getInt64(this.view, this.pos);\n        this.pos += 8;\n        return value;\n    };\n    Decoder.prototype.readF32 = function () {\n        var value = this.view.getFloat32(this.pos);\n        this.pos += 4;\n        return value;\n    };\n    Decoder.prototype.readF64 = function () {\n        var value = this.view.getFloat64(this.pos);\n        this.pos += 8;\n        return value;\n    };\n    return Decoder;\n}());\nexport { Decoder };\n//# sourceMappingURL=Decoder.mjs.map","import { Decoder } from \"./Decoder.mjs\";\nexport var defaultDecodeOptions = {};\n/**\n * It decodes a single MessagePack object in a buffer.\n *\n * This is a synchronous decoding function.\n * See other variants for asynchronous decoding: {@link decodeAsync()}, {@link decodeStream()}, or {@link decodeArrayStream()}.\n */\nexport function decode(buffer, options) {\n    if (options === void 0) { options = defaultDecodeOptions; }\n    var decoder = new Decoder(options.extensionCodec, options.context, options.maxStrLength, options.maxBinLength, options.maxArrayLength, options.maxMapLength, options.maxExtLength);\n    return decoder.decode(buffer);\n}\n/**\n * It decodes multiple MessagePack objects in a buffer.\n * This is corresponding to {@link decodeMultiStream()}.\n */\nexport function decodeMulti(buffer, options) {\n    if (options === void 0) { options = defaultDecodeOptions; }\n    var decoder = new Decoder(options.extensionCodec, options.context, options.maxStrLength, options.maxBinLength, options.maxArrayLength, options.maxMapLength, options.maxExtLength);\n    return decoder.decodeMulti(buffer);\n}\n//# sourceMappingURL=decode.mjs.map","import { decode, encode } from '@msgpack/msgpack';\n\nconst wrappedFetch = fetch;\nconst baseUrl = import.meta.env.VITE_ENDPOINT || '$$$$$$$$';\n\nenum RequestMethod {\n    GET = 'GET',\n    POST = 'POST',\n    PUT = 'PUT',\n    PATCH = 'PATCH',\n    DELETE = 'DELETE',\n    UNKNOWN = 'UNKNOWN',\n}\n\nexport interface Message {\n    headers: { [k: string]: string };\n    url: string;\n    body: any;\n    method: RequestMethod;\n}\n\nexport function packMessage<T>(msg: T): string {\n    return btoa(String.fromCharCode(...encode(msg)));\n}\n\nexport function unpackMessage<T>(msg: string): T {\n    const bString = atob(msg);\n    const bArray = new Uint8Array(bString.length);\n    for (let i = 0; i < bString.length; i++) {\n        bArray[i] = bString.charCodeAt(i);\n    }\n    return decode(bArray) as T;\n}\n\ninterface FetcherResponseBase<T> {\n    headers: { [k: string]: string };\n    status: number;\n    payload: T;\n    ok: boolean;\n    networkStatus: 'OK' | 'KO' | 'ERROR';\n    json: () => Promise<T>;\n    statusText: string;\n}\n\ninterface FetcherResponseOK<T extends any> extends FetcherResponseBase<T> {\n    networkStatus: 'OK';\n}\n\ninterface FetcherResponseKO extends FetcherResponseBase<any> {\n    networkStatus: 'KO';\n}\n\ninterface FetcherResponseNetwork extends FetcherResponseBase<null> {\n    networkStatus: 'ERROR';\n}\n\ntype FetcherResponse<T extends any> =\n    | FetcherResponseKO\n    | FetcherResponseOK<T>\n    | FetcherResponseNetwork;\n\ninterface Fetcher {\n    <T extends any>(url: string, options?: RequestInit): Promise<FetcherResponse<T>>;\n}\n\nfunction getHeaders(headers?: HeadersInit): Record<string, string> {\n    if (Array.isArray(headers)) {\n        return Object.fromEntries(headers);\n    }\n\n    if (headers instanceof Headers) {\n        return Object.fromEntries((headers as any).entries() as string[][]);\n    }\n\n    return headers || {};\n}\n\nfunction getUrl(url: string): string {\n    const tempSplit = url.split(baseUrl);\n    if (tempSplit.length > 1) {\n        return tempSplit[1];\n    }\n    return url;\n}\n\nfunction getMethod(method?: string): RequestMethod {\n    if (!method) return RequestMethod.UNKNOWN;\n\n    const tMethod = method as RequestMethod;\n\n    return Object.values(RequestMethod).includes(tMethod)\n        ? RequestMethod[tMethod]\n        : RequestMethod.UNKNOWN;\n}\n\nexport const fetcher: Fetcher = async function fetcher<T extends any>(\n    url: string,\n    options?: RequestInit,\n    isMetric?: boolean,\n): Promise<FetcherResponse<T>> {\n    // create message\n\n    const message: Message = {\n        headers: getHeaders(options?.headers),\n        url: url.endsWith('/metrics') ? '/metric' : getUrl(url),\n        method: getMethod(options?.method),\n        body: options?.body || null,\n    };\n\n    // pack message\n\n    const packedMessage = packMessage(message);\n\n    // send message and wait\n\n    const response = await wrappedFetch(isMetric ? url : baseUrl + '/service', {\n        method: 'POST',\n        body: JSON.stringify({\n            payload: packedMessage,\n        }),\n        headers: {\n            'Content-Type': 'application/json',\n        },\n    })\n        .then(async (response) => {\n            const payload = unpackMessage((await response.json()).payload);\n            return {\n                ...(response.ok\n                    ? ({\n                          networkStatus: 'OK',\n                          json: () => Promise.resolve(payload as T),\n                          payload: payload as T,\n                      } as FetcherResponseOK<T>)\n                    : ({\n                          networkStatus: 'KO',\n                          json: () => Promise.resolve(payload as any),\n                          payload: payload as any,\n                      } as FetcherResponseKO)),\n                ok: response.ok,\n                headers: getHeaders(response.headers),\n                status: response.status,\n                statusText: response.statusText,\n            } as FetcherResponseKO | FetcherResponseOK<T>;\n        })\n        .catch(\n            () =>\n                ({\n                    headers: {},\n                    status: 600,\n                    statusText: 'Cannot fetch',\n                    networkStatus: 'ERROR',\n                    payload: null,\n                    ok: false,\n                    json: () => Promise.resolve(null),\n                } as FetcherResponseNetwork),\n        );\n\n    if (import.meta.env.VITE_NODE_ENV !== 'production') {\n        console.group(`Comm [${message.method} ${message.url}]`);\n\n        console.groupCollapsed(`Request [Id: ${message.headers['X-Request-Id']}]`);\n        console.debug('Headers: ');\n        console.table(message.headers);\n        console.debug('Endpoint: ', message.url);\n        console.debug('Method: ', message.method);\n        console.debug('Body: ', JSON.parse(message.body));\n        console.groupEnd();\n\n        console.groupCollapsed(`Response [Ok:${response.ok}] [Status:${response.status}]`);\n        console.debug('Ok? & Status', response.ok, response.status);\n        console.debug('Headers', getHeaders(response.headers));\n        console.debug('Body', response.payload);\n        console.groupEnd();\n\n        console.groupEnd();\n    }\n\n    return response;\n};\n","// import amplitudeJS from 'amplitude-js';\nimport { View } from '../../ui/features/app/redux/app/app.reducer';\nimport browser from '../browser/browser';\nimport logger from './logger';\n\n// const amplitude = amplitudeJS.getInstance();\n\nexport type TrackEventId =\n    | 'extension_load'\n    | 'exception'\n    | 'login'\n    | 'screen_view'\n    | 'product_view'\n    | 'tab_load'\n    | 'offer_linked'\n    | 'voucher_unlocked'\n    | 'click';\n// | 'add_payment_info'\n// | 'add_shipping_info'\n// | 'add_to_cart'\n// | 'add_to_wishlist'\n// | 'begin_checkout'\n// | 'checkout_progress'\n// | 'generate_lead'\n// | 'page_view'\n// | 'purchase'\n// | 'refund'\n// | 'remove_from_cart'\n// | 'search'\n// | 'select_content'\n// | 'select_item'\n// | 'select_promotion'\n// | 'set_checkout_option'\n// | 'share'\n// | 'sign_up'\n// | 'timing_complete'\n// | 'view_cart'\n// | 'view_item'\n// | 'view_item_list'\n// | 'view_promotion'\n// | 'view_search_results';\n\ntype TrackEvent<TId extends TrackEventId, TAction extends string> = {\n    id: TId;\n    action: TAction;\n    label?: string;\n    domain?: string;\n};\n\ntype LoginEvent = TrackEvent<'login', 'ok' | 'ko'>;\ntype ScreenViewEvent = TrackEvent<'screen_view', View>;\ntype TabLoadEvent = TrackEvent<'tab_load', string>;\ntype OfferLinkedEvent = TrackEvent<'offer_linked', string>;\ntype ClickEvent = TrackEvent<'click', string>;\ntype ProductViewEvent = TrackEvent<'product_view', string>;\ntype ExtensionLoadEvent = TrackEvent<'extension_load', string>;\ntype VoucherUnlockedEvent = TrackEvent<'voucher_unlocked', string>;\n\ninterface CreateAnalyticsEvent {\n    (event: LoginEvent): void;\n    (event: ScreenViewEvent): void;\n    (event: TabLoadEvent): void;\n    (event: OfferLinkedEvent): void;\n    (event: ClickEvent): void;\n    (event: ProductViewEvent): void;\n    (event: ExtensionLoadEvent): void;\n    (event: VoucherUnlockedEvent): void;\n}\nexport interface IAnalytics {\n    setAccount(account: { trackId: string }): void;\n    productView(page: { url: string; tabId: number }): void;\n    pageView(page: { url: string }): void;\n    extensionLoad(): void;\n    screenView(screen: { view?: View; tabId: number }): void;\n    event: CreateAnalyticsEvent;\n    voucherUnlocked(shop: { shopUrl: string }): void;\n}\n\nfunction clearCookies() {\n    document.cookie.split(';').forEach((c) => {\n        document.cookie = c\n            .replace(/^ +/, '')\n            .replace(\n                /=.*/,\n                '=;expires=' + new Date(0).toUTCString() + ';path=/' + ';domain=' + document.domain,\n            );\n    });\n}\n\nfunction loadGA(): IAnalytics {\n    const trackId = import.meta.env.VITE_GA_TRACKID || '';\n    // let commonConfig: amplitudeJS.Config = {\n    //     disableCookies: true,\n    // };\n\n    if (\n        import.meta.env.VITE_NODE_ENV !== 'production' ||\n        import.meta.env.VITE_INCLUDE_UTILS === '1'\n    ) {\n        // commonConfig = {\n        //     ...commonConfig,\n        //     platform: `Web-development`,\n        // };\n    }\n\n    // amplitude.init(import.meta.env.VITE_AMPLITUDE_APIKEY as string, undefined, commonConfig);\n    // const window = globalThis.window ?? {};\n    // (window as any)._gaq = (window as any)._gaq || [];\n    let initialized = false;\n\n    const sendEvent: CreateAnalyticsEvent = (eventData) => {\n        const { id, action, label } = eventData;\n        const sendData: { [k: string]: string } = { ...eventData };\n        delete sendData.id;\n\n        logger.debug(`Analytics.E.${id}`, sendData);\n        if (!initialized) return;\n        // amplitude.logEvent(id, sendData);\n        if (\n            import.meta.env.VITE_NODE_ENV !== 'production' ||\n            import.meta.env.VITE_INCLUDE_UTILS === '1'\n        )\n            return;\n        // (window as any)._gaq.push(['_trackEvent', id, `${action || id}`, label]);\n    };\n    const sendPageView = (url: string) => {\n        logger.debug(`Analytics.PV`, { url });\n        if (!initialized) return;\n        // amplitude.logEvent('screenView', { screen: url });\n        if (\n            import.meta.env.VITE_NODE_ENV !== 'production' ||\n            import.meta.env.VITE_INCLUDE_UTILS === '1'\n        )\n            return;\n        // (window as any)._gaq.push(['_trackPageview', url]);\n    };\n\n    const api: IAnalytics = {\n        setAccount: (account) => {\n            if (!initialized) {\n                logger.error('Setting analytics account without initialization');\n                return;\n            }\n            logger.debug('Analytics.A.setAccount', { account });\n            if (!trackId) {\n                logger.warn('Setting analytics account without trackId');\n                return;\n            }\n            if (\n                import.meta.env.VITE_NODE_ENV !== 'production' ||\n                import.meta.env.VITE_INCLUDE_UTILS === '1'\n            )\n                return;\n            // (window as any)._gaq.push(['_setAccount', account.trackId]);\n        },\n        extensionLoad: () => {\n            initialized = true;\n            api.setAccount({ trackId });\n            sendEvent({\n                id: 'extension_load',\n                action: browser.runtime.id || 'ext_id',\n            });\n        },\n        productView: (page) => {\n            const { url, tabId } = page;\n            sendEvent({\n                id: 'product_view',\n                action: url,\n                label: '' + tabId,\n                // future regex /(?<web>w{3})+\\.(?<domain>(?<subdomain>\\w+)\\.?(?<mainDomain>\\w+\\.\\w{2,3}))/ > still needs to be more precise\n                domain: url.slice(0, url.search(/\\/[^\\/w]/)).replace(/https:\\/\\/www\\./, ''),\n            });\n        },\n        pageView: (page) => {\n            logger.debug('Analytics.P.pageView', page);\n            sendPageView(page.url);\n        },\n        voucherUnlocked: ({ shopUrl }) => {\n            sendEvent({ id: 'voucher_unlocked', action: shopUrl });\n        },\n        screenView: (screen) => {\n            const { view: rawView, tabId } = screen;\n            const view = `/${rawView || ''}`;\n            logger.debug('Analytics.P._screenView', { view, tabId });\n            sendPageView(view);\n        },\n        event: (data) => {\n            logger.debug('Analytics.E._event', data);\n            sendEvent(data as any);\n        },\n    };\n\n    return api;\n}\n\nexport const analytics = loadGA();\nexport default analytics;\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","/**\n * Session Status\n */\nexport var SessionStatus;\n(function (SessionStatus) {\n    /** JSDoc */\n    SessionStatus[\"Ok\"] = \"ok\";\n    /** JSDoc */\n    SessionStatus[\"Exited\"] = \"exited\";\n    /** JSDoc */\n    SessionStatus[\"Crashed\"] = \"crashed\";\n    /** JSDoc */\n    SessionStatus[\"Abnormal\"] = \"abnormal\";\n})(SessionStatus || (SessionStatus = {}));\n//# sourceMappingURL=session.js.map","/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\n/**\n * Checks whether given value's type is one of a few Error or Error-like\n * {@link isError}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isError(wat) {\n    switch (Object.prototype.toString.call(wat)) {\n        case '[object Error]':\n            return true;\n        case '[object Exception]':\n            return true;\n        case '[object DOMException]':\n            return true;\n        default:\n            return isInstanceOf(wat, Error);\n    }\n}\n/**\n * Checks whether given value's type is ErrorEvent\n * {@link isErrorEvent}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isErrorEvent(wat) {\n    return Object.prototype.toString.call(wat) === '[object ErrorEvent]';\n}\n/**\n * Checks whether given value's type is DOMError\n * {@link isDOMError}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isDOMError(wat) {\n    return Object.prototype.toString.call(wat) === '[object DOMError]';\n}\n/**\n * Checks whether given value's type is DOMException\n * {@link isDOMException}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isDOMException(wat) {\n    return Object.prototype.toString.call(wat) === '[object DOMException]';\n}\n/**\n * Checks whether given value's type is a string\n * {@link isString}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isString(wat) {\n    return Object.prototype.toString.call(wat) === '[object String]';\n}\n/**\n * Checks whether given value's is a primitive (undefined, null, number, boolean, string, bigint, symbol)\n * {@link isPrimitive}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isPrimitive(wat) {\n    return wat === null || (typeof wat !== 'object' && typeof wat !== 'function');\n}\n/**\n * Checks whether given value's type is an object literal\n * {@link isPlainObject}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isPlainObject(wat) {\n    return Object.prototype.toString.call(wat) === '[object Object]';\n}\n/**\n * Checks whether given value's type is an Event instance\n * {@link isEvent}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isEvent(wat) {\n    return typeof Event !== 'undefined' && isInstanceOf(wat, Event);\n}\n/**\n * Checks whether given value's type is an Element instance\n * {@link isElement}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isElement(wat) {\n    return typeof Element !== 'undefined' && isInstanceOf(wat, Element);\n}\n/**\n * Checks whether given value's type is an regexp\n * {@link isRegExp}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isRegExp(wat) {\n    return Object.prototype.toString.call(wat) === '[object RegExp]';\n}\n/**\n * Checks whether given value has a then function.\n * @param wat A value to be checked.\n */\nexport function isThenable(wat) {\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n    return Boolean(wat && wat.then && typeof wat.then === 'function');\n}\n/**\n * Checks whether given value's type is a SyntheticEvent\n * {@link isSyntheticEvent}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nexport function isSyntheticEvent(wat) {\n    return isPlainObject(wat) && 'nativeEvent' in wat && 'preventDefault' in wat && 'stopPropagation' in wat;\n}\n/**\n * Checks whether given value's type is an instance of provided constructor.\n * {@link isInstanceOf}.\n *\n * @param wat A value to be checked.\n * @param base A constructor to be used in a check.\n * @returns A boolean representing the result.\n */\nexport function isInstanceOf(wat, base) {\n    try {\n        return wat instanceof base;\n    }\n    catch (_e) {\n        return false;\n    }\n}\n//# sourceMappingURL=is.js.map","/**\n * Checks whether we're in the Node.js or Browser environment\n *\n * @returns Answer to given question\n */\nexport function isNodeEnv() {\n    return Object.prototype.toString.call(typeof process !== 'undefined' ? process : 0) === '[object process]';\n}\n/**\n * Requires a module which is protected against bundler minification.\n *\n * @param request The module path to resolve\n */\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types, @typescript-eslint/no-explicit-any\nexport function dynamicRequire(mod, request) {\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n    return mod.require(request);\n}\n//# sourceMappingURL=node.js.map","import { isNodeEnv } from './node';\nimport { snipLine } from './string';\nvar fallbackGlobalObject = {};\n/**\n * Safely get global scope object\n *\n * @returns Global scope object\n */\nexport function getGlobalObject() {\n    return (isNodeEnv()\n        ? global\n        : typeof window !== 'undefined'\n            ? window\n            : typeof self !== 'undefined'\n                ? self\n                : fallbackGlobalObject);\n}\n/**\n * UUID4 generator\n *\n * @returns string Generated UUID4.\n */\nexport function uuid4() {\n    var global = getGlobalObject();\n    var crypto = global.crypto || global.msCrypto;\n    if (!(crypto === void 0) && crypto.getRandomValues) {\n        // Use window.crypto API if available\n        var arr = new Uint16Array(8);\n        crypto.getRandomValues(arr);\n        // set 4 in byte 7\n        // eslint-disable-next-line no-bitwise\n        arr[3] = (arr[3] & 0xfff) | 0x4000;\n        // set 2 most significant bits of byte 9 to '10'\n        // eslint-disable-next-line no-bitwise\n        arr[4] = (arr[4] & 0x3fff) | 0x8000;\n        var pad = function (num) {\n            var v = num.toString(16);\n            while (v.length < 4) {\n                v = \"0\" + v;\n            }\n            return v;\n        };\n        return (pad(arr[0]) + pad(arr[1]) + pad(arr[2]) + pad(arr[3]) + pad(arr[4]) + pad(arr[5]) + pad(arr[6]) + pad(arr[7]));\n    }\n    // http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/2117523#2117523\n    return 'xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n        // eslint-disable-next-line no-bitwise\n        var r = (Math.random() * 16) | 0;\n        // eslint-disable-next-line no-bitwise\n        var v = c === 'x' ? r : (r & 0x3) | 0x8;\n        return v.toString(16);\n    });\n}\n/**\n * Parses string form of URL into an object\n * // borrowed from https://tools.ietf.org/html/rfc3986#appendix-B\n * // intentionally using regex and not <a/> href parsing trick because React Native and other\n * // environments where DOM might not be available\n * @returns parsed URL object\n */\nexport function parseUrl(url) {\n    if (!url) {\n        return {};\n    }\n    var match = url.match(/^(([^:/?#]+):)?(\\/\\/([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$/);\n    if (!match) {\n        return {};\n    }\n    // coerce to undefined values to empty string so we don't get 'undefined'\n    var query = match[6] || '';\n    var fragment = match[8] || '';\n    return {\n        host: match[4],\n        path: match[5],\n        protocol: match[2],\n        relative: match[5] + query + fragment,\n    };\n}\n/**\n * Extracts either message or type+value from an event that can be used for user-facing logs\n * @returns event's description\n */\nexport function getEventDescription(event) {\n    if (event.message) {\n        return event.message;\n    }\n    if (event.exception && event.exception.values && event.exception.values[0]) {\n        var exception = event.exception.values[0];\n        if (exception.type && exception.value) {\n            return exception.type + \": \" + exception.value;\n        }\n        return exception.type || exception.value || event.event_id || '<unknown>';\n    }\n    return event.event_id || '<unknown>';\n}\n/** JSDoc */\nexport function consoleSandbox(callback) {\n    var global = getGlobalObject();\n    var levels = ['debug', 'info', 'warn', 'error', 'log', 'assert'];\n    if (!('console' in global)) {\n        return callback();\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n    var originalConsole = global.console;\n    var wrappedLevels = {};\n    // Restore all wrapped console methods\n    levels.forEach(function (level) {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n        if (level in global.console && originalConsole[level].__sentry_original__) {\n            wrappedLevels[level] = originalConsole[level];\n            originalConsole[level] = originalConsole[level].__sentry_original__;\n        }\n    });\n    // Perform callback manipulations\n    var result = callback();\n    // Revert restoration to wrapped state\n    Object.keys(wrappedLevels).forEach(function (level) {\n        originalConsole[level] = wrappedLevels[level];\n    });\n    return result;\n}\n/**\n * Adds exception values, type and value to an synthetic Exception.\n * @param event The event to modify.\n * @param value Value of the exception.\n * @param type Type of the exception.\n * @hidden\n */\nexport function addExceptionTypeValue(event, value, type) {\n    event.exception = event.exception || {};\n    event.exception.values = event.exception.values || [];\n    event.exception.values[0] = event.exception.values[0] || {};\n    event.exception.values[0].value = event.exception.values[0].value || value || '';\n    event.exception.values[0].type = event.exception.values[0].type || type || 'Error';\n}\n/**\n * Adds exception mechanism to a given event.\n * @param event The event to modify.\n * @param mechanism Mechanism of the mechanism.\n * @hidden\n */\nexport function addExceptionMechanism(event, mechanism) {\n    if (mechanism === void 0) { mechanism = {}; }\n    // TODO: Use real type with `keyof Mechanism` thingy and maybe make it better?\n    try {\n        // @ts-ignore Type 'Mechanism | {}' is not assignable to type 'Mechanism | undefined'\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        event.exception.values[0].mechanism = event.exception.values[0].mechanism || {};\n        Object.keys(mechanism).forEach(function (key) {\n            // @ts-ignore Mechanism has no index signature\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            event.exception.values[0].mechanism[key] = mechanism[key];\n        });\n    }\n    catch (_oO) {\n        // no-empty\n    }\n}\n/**\n * A safe form of location.href\n */\nexport function getLocationHref() {\n    try {\n        return document.location.href;\n    }\n    catch (oO) {\n        return '';\n    }\n}\n// https://semver.org/#is-there-a-suggested-regular-expression-regex-to-check-a-semver-string\nvar SEMVER_REGEXP = /^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$/;\n/**\n * Parses input into a SemVer interface\n * @param input string representation of a semver version\n */\nexport function parseSemver(input) {\n    var match = input.match(SEMVER_REGEXP) || [];\n    var major = parseInt(match[1], 10);\n    var minor = parseInt(match[2], 10);\n    var patch = parseInt(match[3], 10);\n    return {\n        buildmetadata: match[5],\n        major: isNaN(major) ? undefined : major,\n        minor: isNaN(minor) ? undefined : minor,\n        patch: isNaN(patch) ? undefined : patch,\n        prerelease: match[4],\n    };\n}\nvar defaultRetryAfter = 60 * 1000; // 60 seconds\n/**\n * Extracts Retry-After value from the request header or returns default value\n * @param now current unix timestamp\n * @param header string representation of 'Retry-After' header\n */\nexport function parseRetryAfterHeader(now, header) {\n    if (!header) {\n        return defaultRetryAfter;\n    }\n    var headerDelay = parseInt(\"\" + header, 10);\n    if (!isNaN(headerDelay)) {\n        return headerDelay * 1000;\n    }\n    var headerDate = Date.parse(\"\" + header);\n    if (!isNaN(headerDate)) {\n        return headerDate - now;\n    }\n    return defaultRetryAfter;\n}\n/**\n * This function adds context (pre/post/line) lines to the provided frame\n *\n * @param lines string[] containing all lines\n * @param frame StackFrame that will be mutated\n * @param linesOfContext number of context lines we want to add pre/post\n */\nexport function addContextToFrame(lines, frame, linesOfContext) {\n    if (linesOfContext === void 0) { linesOfContext = 5; }\n    var lineno = frame.lineno || 0;\n    var maxLines = lines.length;\n    var sourceLine = Math.max(Math.min(maxLines, lineno - 1), 0);\n    frame.pre_context = lines\n        .slice(Math.max(0, sourceLine - linesOfContext), sourceLine)\n        .map(function (line) { return snipLine(line, 0); });\n    frame.context_line = snipLine(lines[Math.min(maxLines - 1, sourceLine)], frame.colno || 0);\n    frame.post_context = lines\n        .slice(Math.min(sourceLine + 1, maxLines), sourceLine + 1 + linesOfContext)\n        .map(function (line) { return snipLine(line, 0); });\n}\n/**\n * Strip the query string and fragment off of a given URL or path (if present)\n *\n * @param urlPath Full URL or path, including possible query string and/or fragment\n * @returns URL or path without query string or fragment\n */\nexport function stripUrlQueryAndFragment(urlPath) {\n    // eslint-disable-next-line no-useless-escape\n    return urlPath.split(/[\\?#]/, 1)[0];\n}\n//# sourceMappingURL=misc.js.map","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { consoleSandbox, getGlobalObject } from './misc';\n// TODO: Implement different loggers for different environments\nvar global = getGlobalObject();\n/** Prefix for logging strings */\nvar PREFIX = 'Sentry Logger ';\n/** JSDoc */\nvar Logger = /** @class */ (function () {\n    /** JSDoc */\n    function Logger() {\n        this._enabled = false;\n    }\n    /** JSDoc */\n    Logger.prototype.disable = function () {\n        this._enabled = false;\n    };\n    /** JSDoc */\n    Logger.prototype.enable = function () {\n        this._enabled = true;\n    };\n    /** JSDoc */\n    Logger.prototype.log = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (!this._enabled) {\n            return;\n        }\n        consoleSandbox(function () {\n            global.console.log(PREFIX + \"[Log]: \" + args.join(' '));\n        });\n    };\n    /** JSDoc */\n    Logger.prototype.warn = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (!this._enabled) {\n            return;\n        }\n        consoleSandbox(function () {\n            global.console.warn(PREFIX + \"[Warn]: \" + args.join(' '));\n        });\n    };\n    /** JSDoc */\n    Logger.prototype.error = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (!this._enabled) {\n            return;\n        }\n        consoleSandbox(function () {\n            global.console.error(PREFIX + \"[Error]: \" + args.join(' '));\n        });\n    };\n    return Logger;\n}());\n// Ensure we only have a single logger instance, even if multiple versions of @sentry/utils are being used\nglobal.__SENTRY__ = global.__SENTRY__ || {};\nvar logger = global.__SENTRY__.logger || (global.__SENTRY__.logger = new Logger());\nexport { logger };\n//# sourceMappingURL=logger.js.map","import { __values } from \"tslib\";\nimport { htmlTreeAsString } from './browser';\nimport { isElement, isError, isEvent, isInstanceOf, isPlainObject, isPrimitive, isSyntheticEvent } from './is';\nimport { Memo } from './memo';\nimport { getFunctionName } from './stacktrace';\nimport { truncate } from './string';\n/**\n * Replace a method in an object with a wrapped version of itself.\n *\n * @param source An object that contains a method to be wrapped.\n * @param name The name of the method to be wrapped.\n * @param replacementFactory A higher-order function that takes the original version of the given method and returns a\n * wrapped verstion. Note: The function returned by `replacementFactory` needs to be a non-arrow function, in order to\n * preserve the correct value of `this`, and the original method must be called using `origMethod.call(this, <other\n * args>)` or `origMethod.apply(this, [<other args>])` (rather than being called directly), again to preserve `this`.\n * @returns void\n */\nexport function fill(source, name, replacementFactory) {\n    if (!(name in source)) {\n        return;\n    }\n    var original = source[name];\n    var wrapped = replacementFactory(original);\n    // Make sure it's a function first, as we need to attach an empty prototype for `defineProperties` to work\n    // otherwise it'll throw \"TypeError: Object.defineProperties called on non-object\"\n    if (typeof wrapped === 'function') {\n        try {\n            wrapped.prototype = wrapped.prototype || {};\n            Object.defineProperties(wrapped, {\n                __sentry_original__: {\n                    enumerable: false,\n                    value: original,\n                },\n            });\n        }\n        catch (_Oo) {\n            // This can throw if multiple fill happens on a global object like XMLHttpRequest\n            // Fixes https://github.com/getsentry/sentry-javascript/issues/2043\n        }\n    }\n    source[name] = wrapped;\n}\n/**\n * Encodes given object into url-friendly format\n *\n * @param object An object that contains serializable values\n * @returns string Encoded\n */\nexport function urlEncode(object) {\n    return Object.keys(object)\n        .map(function (key) { return encodeURIComponent(key) + \"=\" + encodeURIComponent(object[key]); })\n        .join('&');\n}\n/**\n * Transforms any object into an object literal with all its attributes\n * attached to it.\n *\n * @param value Initial source that we have to transform in order for it to be usable by the serializer\n */\nfunction getWalkSource(value) {\n    if (isError(value)) {\n        var error = value;\n        var err = {\n            message: error.message,\n            name: error.name,\n            stack: error.stack,\n        };\n        for (var i in error) {\n            if (Object.prototype.hasOwnProperty.call(error, i)) {\n                err[i] = error[i];\n            }\n        }\n        return err;\n    }\n    if (isEvent(value)) {\n        var event_1 = value;\n        var source = {};\n        source.type = event_1.type;\n        // Accessing event.target can throw (see getsentry/raven-js#838, #768)\n        try {\n            source.target = isElement(event_1.target)\n                ? htmlTreeAsString(event_1.target)\n                : Object.prototype.toString.call(event_1.target);\n        }\n        catch (_oO) {\n            source.target = '<unknown>';\n        }\n        try {\n            source.currentTarget = isElement(event_1.currentTarget)\n                ? htmlTreeAsString(event_1.currentTarget)\n                : Object.prototype.toString.call(event_1.currentTarget);\n        }\n        catch (_oO) {\n            source.currentTarget = '<unknown>';\n        }\n        if (typeof CustomEvent !== 'undefined' && isInstanceOf(value, CustomEvent)) {\n            source.detail = event_1.detail;\n        }\n        for (var i in event_1) {\n            if (Object.prototype.hasOwnProperty.call(event_1, i)) {\n                source[i] = event_1;\n            }\n        }\n        return source;\n    }\n    return value;\n}\n/** Calculates bytes size of input string */\nfunction utf8Length(value) {\n    // eslint-disable-next-line no-bitwise\n    return ~-encodeURI(value).split(/%..|./).length;\n}\n/** Calculates bytes size of input object */\nfunction jsonSize(value) {\n    return utf8Length(JSON.stringify(value));\n}\n/** JSDoc */\nexport function normalizeToSize(object, \n// Default Node.js REPL depth\ndepth, \n// 100kB, as 200kB is max payload size, so half sounds reasonable\nmaxSize) {\n    if (depth === void 0) { depth = 3; }\n    if (maxSize === void 0) { maxSize = 100 * 1024; }\n    var serialized = normalize(object, depth);\n    if (jsonSize(serialized) > maxSize) {\n        return normalizeToSize(object, depth - 1, maxSize);\n    }\n    return serialized;\n}\n/**\n * Transform any non-primitive, BigInt, or Symbol-type value into a string. Acts as a no-op on strings, numbers,\n * booleans, null, and undefined.\n *\n * @param value The value to stringify\n * @returns For non-primitive, BigInt, and Symbol-type values, a string denoting the value's type, type and value, or\n *  type and `description` property, respectively. For non-BigInt, non-Symbol primitives, returns the original value,\n *  unchanged.\n */\nfunction serializeValue(value) {\n    var type = Object.prototype.toString.call(value);\n    // Node.js REPL notation\n    if (typeof value === 'string') {\n        return value;\n    }\n    if (type === '[object Object]') {\n        return '[Object]';\n    }\n    if (type === '[object Array]') {\n        return '[Array]';\n    }\n    var normalized = normalizeValue(value);\n    return isPrimitive(normalized) ? normalized : type;\n}\n/**\n * normalizeValue()\n *\n * Takes unserializable input and make it serializable friendly\n *\n * - translates undefined/NaN values to \"[undefined]\"/\"[NaN]\" respectively,\n * - serializes Error objects\n * - filter global objects\n */\nfunction normalizeValue(value, key) {\n    if (key === 'domain' && value && typeof value === 'object' && value._events) {\n        return '[Domain]';\n    }\n    if (key === 'domainEmitter') {\n        return '[DomainEmitter]';\n    }\n    if (typeof global !== 'undefined' && value === global) {\n        return '[Global]';\n    }\n    if (typeof window !== 'undefined' && value === window) {\n        return '[Window]';\n    }\n    if (typeof document !== 'undefined' && value === document) {\n        return '[Document]';\n    }\n    // React's SyntheticEvent thingy\n    if (isSyntheticEvent(value)) {\n        return '[SyntheticEvent]';\n    }\n    if (typeof value === 'number' && value !== value) {\n        return '[NaN]';\n    }\n    if (value === void 0) {\n        return '[undefined]';\n    }\n    if (typeof value === 'function') {\n        return \"[Function: \" + getFunctionName(value) + \"]\";\n    }\n    // symbols and bigints are considered primitives by TS, but aren't natively JSON-serilaizable\n    if (typeof value === 'symbol') {\n        return \"[\" + String(value) + \"]\";\n    }\n    if (typeof value === 'bigint') {\n        return \"[BigInt: \" + String(value) + \"]\";\n    }\n    return value;\n}\n/**\n * Walks an object to perform a normalization on it\n *\n * @param key of object that's walked in current iteration\n * @param value object to be walked\n * @param depth Optional number indicating how deep should walking be performed\n * @param memo Optional Memo class handling decycling\n */\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nexport function walk(key, value, depth, memo) {\n    if (depth === void 0) { depth = +Infinity; }\n    if (memo === void 0) { memo = new Memo(); }\n    // If we reach the maximum depth, serialize whatever has left\n    if (depth === 0) {\n        return serializeValue(value);\n    }\n    /* eslint-disable @typescript-eslint/no-unsafe-member-access */\n    // If value implements `toJSON` method, call it and return early\n    if (value !== null && value !== undefined && typeof value.toJSON === 'function') {\n        return value.toJSON();\n    }\n    /* eslint-enable @typescript-eslint/no-unsafe-member-access */\n    // If normalized value is a primitive, there are no branches left to walk, so we can just bail out, as theres no point in going down that branch any further\n    var normalized = normalizeValue(value, key);\n    if (isPrimitive(normalized)) {\n        return normalized;\n    }\n    // Create source that we will use for next itterations, either objectified error object (Error type with extracted keys:value pairs) or the input itself\n    var source = getWalkSource(value);\n    // Create an accumulator that will act as a parent for all future itterations of that branch\n    var acc = Array.isArray(value) ? [] : {};\n    // If we already walked that branch, bail out, as it's circular reference\n    if (memo.memoize(value)) {\n        return '[Circular ~]';\n    }\n    // Walk all keys of the source\n    for (var innerKey in source) {\n        // Avoid iterating over fields in the prototype if they've somehow been exposed to enumeration.\n        if (!Object.prototype.hasOwnProperty.call(source, innerKey)) {\n            continue;\n        }\n        // Recursively walk through all the child nodes\n        acc[innerKey] = walk(innerKey, source[innerKey], depth - 1, memo);\n    }\n    // Once walked through all the branches, remove the parent from memo storage\n    memo.unmemoize(value);\n    // Return accumulated values\n    return acc;\n}\n/**\n * normalize()\n *\n * - Creates a copy to prevent original input mutation\n * - Skip non-enumerablers\n * - Calls `toJSON` if implemented\n * - Removes circular references\n * - Translates non-serializeable values (undefined/NaN/Functions) to serializable format\n * - Translates known global objects/Classes to a string representations\n * - Takes care of Error objects serialization\n * - Optionally limit depth of final output\n */\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nexport function normalize(input, depth) {\n    try {\n        return JSON.parse(JSON.stringify(input, function (key, value) { return walk(key, value, depth); }));\n    }\n    catch (_oO) {\n        return '**non-serializable**';\n    }\n}\n/**\n * Given any captured exception, extract its keys and create a sorted\n * and truncated list that will be used inside the event message.\n * eg. `Non-error exception captured with keys: foo, bar, baz`\n */\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nexport function extractExceptionKeysForMessage(exception, maxLength) {\n    if (maxLength === void 0) { maxLength = 40; }\n    var keys = Object.keys(getWalkSource(exception));\n    keys.sort();\n    if (!keys.length) {\n        return '[object has no keys]';\n    }\n    if (keys[0].length >= maxLength) {\n        return truncate(keys[0], maxLength);\n    }\n    for (var includedKeys = keys.length; includedKeys > 0; includedKeys--) {\n        var serialized = keys.slice(0, includedKeys).join(', ');\n        if (serialized.length > maxLength) {\n            continue;\n        }\n        if (includedKeys === keys.length) {\n            return serialized;\n        }\n        return truncate(serialized, maxLength);\n    }\n    return '';\n}\n/**\n * Given any object, return the new object with removed keys that value was `undefined`.\n * Works recursively on objects and arrays.\n */\nexport function dropUndefinedKeys(val) {\n    var e_1, _a;\n    if (isPlainObject(val)) {\n        var obj = val;\n        var rv = {};\n        try {\n            for (var _b = __values(Object.keys(obj)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var key = _c.value;\n                if (typeof obj[key] !== 'undefined') {\n                    rv[key] = dropUndefinedKeys(obj[key]);\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return rv;\n    }\n    if (Array.isArray(val)) {\n        return val.map(dropUndefinedKeys);\n    }\n    return val;\n}\n//# sourceMappingURL=object.js.map","/* eslint-disable @typescript-eslint/explicit-function-return-type */\n/* eslint-disable @typescript-eslint/typedef */\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { isThenable } from './is';\n/** SyncPromise internal states */\nvar States;\n(function (States) {\n    /** Pending */\n    States[\"PENDING\"] = \"PENDING\";\n    /** Resolved / OK */\n    States[\"RESOLVED\"] = \"RESOLVED\";\n    /** Rejected / Error */\n    States[\"REJECTED\"] = \"REJECTED\";\n})(States || (States = {}));\n/**\n * Thenable class that behaves like a Promise and follows it's interface\n * but is not async internally\n */\nvar SyncPromise = /** @class */ (function () {\n    function SyncPromise(executor) {\n        var _this = this;\n        this._state = States.PENDING;\n        this._handlers = [];\n        /** JSDoc */\n        this._resolve = function (value) {\n            _this._setResult(States.RESOLVED, value);\n        };\n        /** JSDoc */\n        this._reject = function (reason) {\n            _this._setResult(States.REJECTED, reason);\n        };\n        /** JSDoc */\n        this._setResult = function (state, value) {\n            if (_this._state !== States.PENDING) {\n                return;\n            }\n            if (isThenable(value)) {\n                value.then(_this._resolve, _this._reject);\n                return;\n            }\n            _this._state = state;\n            _this._value = value;\n            _this._executeHandlers();\n        };\n        // TODO: FIXME\n        /** JSDoc */\n        this._attachHandler = function (handler) {\n            _this._handlers = _this._handlers.concat(handler);\n            _this._executeHandlers();\n        };\n        /** JSDoc */\n        this._executeHandlers = function () {\n            if (_this._state === States.PENDING) {\n                return;\n            }\n            var cachedHandlers = _this._handlers.slice();\n            _this._handlers = [];\n            cachedHandlers.forEach(function (handler) {\n                if (handler.done) {\n                    return;\n                }\n                if (_this._state === States.RESOLVED) {\n                    if (handler.onfulfilled) {\n                        // eslint-disable-next-line @typescript-eslint/no-floating-promises\n                        handler.onfulfilled(_this._value);\n                    }\n                }\n                if (_this._state === States.REJECTED) {\n                    if (handler.onrejected) {\n                        handler.onrejected(_this._value);\n                    }\n                }\n                handler.done = true;\n            });\n        };\n        try {\n            executor(this._resolve, this._reject);\n        }\n        catch (e) {\n            this._reject(e);\n        }\n    }\n    /** JSDoc */\n    SyncPromise.resolve = function (value) {\n        return new SyncPromise(function (resolve) {\n            resolve(value);\n        });\n    };\n    /** JSDoc */\n    SyncPromise.reject = function (reason) {\n        return new SyncPromise(function (_, reject) {\n            reject(reason);\n        });\n    };\n    /** JSDoc */\n    SyncPromise.all = function (collection) {\n        return new SyncPromise(function (resolve, reject) {\n            if (!Array.isArray(collection)) {\n                reject(new TypeError(\"Promise.all requires an array as input.\"));\n                return;\n            }\n            if (collection.length === 0) {\n                resolve([]);\n                return;\n            }\n            var counter = collection.length;\n            var resolvedCollection = [];\n            collection.forEach(function (item, index) {\n                SyncPromise.resolve(item)\n                    .then(function (value) {\n                    resolvedCollection[index] = value;\n                    counter -= 1;\n                    if (counter !== 0) {\n                        return;\n                    }\n                    resolve(resolvedCollection);\n                })\n                    .then(null, reject);\n            });\n        });\n    };\n    /** JSDoc */\n    SyncPromise.prototype.then = function (onfulfilled, onrejected) {\n        var _this = this;\n        return new SyncPromise(function (resolve, reject) {\n            _this._attachHandler({\n                done: false,\n                onfulfilled: function (result) {\n                    if (!onfulfilled) {\n                        // TODO: \\_()_/\n                        // TODO: FIXME\n                        resolve(result);\n                        return;\n                    }\n                    try {\n                        resolve(onfulfilled(result));\n                        return;\n                    }\n                    catch (e) {\n                        reject(e);\n                        return;\n                    }\n                },\n                onrejected: function (reason) {\n                    if (!onrejected) {\n                        reject(reason);\n                        return;\n                    }\n                    try {\n                        resolve(onrejected(reason));\n                        return;\n                    }\n                    catch (e) {\n                        reject(e);\n                        return;\n                    }\n                },\n            });\n        });\n    };\n    /** JSDoc */\n    SyncPromise.prototype.catch = function (onrejected) {\n        return this.then(function (val) { return val; }, onrejected);\n    };\n    /** JSDoc */\n    SyncPromise.prototype.finally = function (onfinally) {\n        var _this = this;\n        return new SyncPromise(function (resolve, reject) {\n            var val;\n            var isRejected;\n            return _this.then(function (value) {\n                isRejected = false;\n                val = value;\n                if (onfinally) {\n                    onfinally();\n                }\n            }, function (reason) {\n                isRejected = true;\n                val = reason;\n                if (onfinally) {\n                    onfinally();\n                }\n            }).then(function () {\n                if (isRejected) {\n                    reject(val);\n                    return;\n                }\n                resolve(val);\n            });\n        });\n    };\n    /** JSDoc */\n    SyncPromise.prototype.toString = function () {\n        return '[object SyncPromise]';\n    };\n    return SyncPromise;\n}());\nexport { SyncPromise };\n//# sourceMappingURL=syncpromise.js.map","import { getGlobalObject } from './misc';\nimport { dynamicRequire, isNodeEnv } from './node';\n/**\n * A TimestampSource implementation for environments that do not support the Performance Web API natively.\n *\n * Note that this TimestampSource does not use a monotonic clock. A call to `nowSeconds` may return a timestamp earlier\n * than a previously returned value. We do not try to emulate a monotonic behavior in order to facilitate debugging. It\n * is more obvious to explain \"why does my span have negative duration\" than \"why my spans have zero duration\".\n */\nvar dateTimestampSource = {\n    nowSeconds: function () { return Date.now() / 1000; },\n};\n/**\n * Returns a wrapper around the native Performance API browser implementation, or undefined for browsers that do not\n * support the API.\n *\n * Wrapping the native API works around differences in behavior from different browsers.\n */\nfunction getBrowserPerformance() {\n    var performance = getGlobalObject().performance;\n    if (!performance || !performance.now) {\n        return undefined;\n    }\n    // Replace performance.timeOrigin with our own timeOrigin based on Date.now().\n    //\n    // This is a partial workaround for browsers reporting performance.timeOrigin such that performance.timeOrigin +\n    // performance.now() gives a date arbitrarily in the past.\n    //\n    // Additionally, computing timeOrigin in this way fills the gap for browsers where performance.timeOrigin is\n    // undefined.\n    //\n    // The assumption that performance.timeOrigin + performance.now() ~= Date.now() is flawed, but we depend on it to\n    // interact with data coming out of performance entries.\n    //\n    // Note that despite recommendations against it in the spec, browsers implement the Performance API with a clock that\n    // might stop when the computer is asleep (and perhaps under other circumstances). Such behavior causes\n    // performance.timeOrigin + performance.now() to have an arbitrary skew over Date.now(). In laptop computers, we have\n    // observed skews that can be as long as days, weeks or months.\n    //\n    // See https://github.com/getsentry/sentry-javascript/issues/2590.\n    //\n    // BUG: despite our best intentions, this workaround has its limitations. It mostly addresses timings of pageload\n    // transactions, but ignores the skew built up over time that can aversely affect timestamps of navigation\n    // transactions of long-lived web pages.\n    var timeOrigin = Date.now() - performance.now();\n    return {\n        now: function () { return performance.now(); },\n        timeOrigin: timeOrigin,\n    };\n}\n/**\n * Returns the native Performance API implementation from Node.js. Returns undefined in old Node.js versions that don't\n * implement the API.\n */\nfunction getNodePerformance() {\n    try {\n        var perfHooks = dynamicRequire(module, 'perf_hooks');\n        return perfHooks.performance;\n    }\n    catch (_) {\n        return undefined;\n    }\n}\n/**\n * The Performance API implementation for the current platform, if available.\n */\nvar platformPerformance = isNodeEnv() ? getNodePerformance() : getBrowserPerformance();\nvar timestampSource = platformPerformance === undefined\n    ? dateTimestampSource\n    : {\n        nowSeconds: function () { return (platformPerformance.timeOrigin + platformPerformance.now()) / 1000; },\n    };\n/**\n * Returns a timestamp in seconds since the UNIX epoch using the Date API.\n */\nexport var dateTimestampInSeconds = dateTimestampSource.nowSeconds.bind(dateTimestampSource);\n/**\n * Returns a timestamp in seconds since the UNIX epoch using either the Performance or Date APIs, depending on the\n * availability of the Performance API.\n *\n * See `usingPerformanceAPI` to test whether the Performance API is used.\n *\n * BUG: Note that because of how browsers implement the Performance API, the clock might stop when the computer is\n * asleep. This creates a skew between `dateTimestampInSeconds` and `timestampInSeconds`. The\n * skew can grow to arbitrary amounts like days, weeks or months.\n * See https://github.com/getsentry/sentry-javascript/issues/2590.\n */\nexport var timestampInSeconds = timestampSource.nowSeconds.bind(timestampSource);\n// Re-exported with an old name for backwards-compatibility.\nexport var timestampWithMs = timestampInSeconds;\n/**\n * A boolean that is true when timestampInSeconds uses the Performance API to produce monotonic timestamps.\n */\nexport var usingPerformanceAPI = platformPerformance !== undefined;\n/**\n * Internal helper to store what is the source of browserPerformanceTimeOrigin below. For debugging only.\n */\nexport var _browserPerformanceTimeOriginMode;\n/**\n * The number of milliseconds since the UNIX epoch. This value is only usable in a browser, and only when the\n * performance API is available.\n */\nexport var browserPerformanceTimeOrigin = (function () {\n    // Unfortunately browsers may report an inaccurate time origin data, through either performance.timeOrigin or\n    // performance.timing.navigationStart, which results in poor results in performance data. We only treat time origin\n    // data as reliable if they are within a reasonable threshold of the current time.\n    var performance = getGlobalObject().performance;\n    if (!performance) {\n        _browserPerformanceTimeOriginMode = 'none';\n        return undefined;\n    }\n    var threshold = 3600 * 1000;\n    var performanceNow = performance.now();\n    var dateNow = Date.now();\n    // if timeOrigin isn't available set delta to threshold so it isn't used\n    var timeOriginDelta = performance.timeOrigin\n        ? Math.abs(performance.timeOrigin + performanceNow - dateNow)\n        : threshold;\n    var timeOriginIsReliable = timeOriginDelta < threshold;\n    // While performance.timing.navigationStart is deprecated in favor of performance.timeOrigin, performance.timeOrigin\n    // is not as widely supported. Namely, performance.timeOrigin is undefined in Safari as of writing.\n    // Also as of writing, performance.timing is not available in Web Workers in mainstream browsers, so it is not always\n    // a valid fallback. In the absence of an initial time provided by the browser, fallback to the current time from the\n    // Date API.\n    // eslint-disable-next-line deprecation/deprecation\n    var navigationStart = performance.timing && performance.timing.navigationStart;\n    var hasNavigationStart = typeof navigationStart === 'number';\n    // if navigationStart isn't available set delta to threshold so it isn't used\n    var navigationStartDelta = hasNavigationStart ? Math.abs(navigationStart + performanceNow - dateNow) : threshold;\n    var navigationStartIsReliable = navigationStartDelta < threshold;\n    if (timeOriginIsReliable || navigationStartIsReliable) {\n        // Use the more reliable time origin\n        if (timeOriginDelta <= navigationStartDelta) {\n            _browserPerformanceTimeOriginMode = 'timeOrigin';\n            return performance.timeOrigin;\n        }\n        else {\n            _browserPerformanceTimeOriginMode = 'navigationStart';\n            return navigationStart;\n        }\n    }\n    // Either both timeOrigin and navigationStart are skewed or neither is available, fallback to Date.\n    _browserPerformanceTimeOriginMode = 'dateNow';\n    return dateNow;\n})();\n//# sourceMappingURL=time.js.map","import { __assign, __read, __spread } from \"tslib\";\nimport { dateTimestampInSeconds, getGlobalObject, isPlainObject, isThenable, SyncPromise } from '@sentry/utils';\n/**\n * Holds additional event information. {@link Scope.applyToEvent} will be\n * called by the client before an event will be sent.\n */\nvar Scope = /** @class */ (function () {\n    function Scope() {\n        /** Flag if notifiying is happening. */\n        this._notifyingListeners = false;\n        /** Callback for client to receive scope changes. */\n        this._scopeListeners = [];\n        /** Callback list that will be called after {@link applyToEvent}. */\n        this._eventProcessors = [];\n        /** Array of breadcrumbs. */\n        this._breadcrumbs = [];\n        /** User */\n        this._user = {};\n        /** Tags */\n        this._tags = {};\n        /** Extra */\n        this._extra = {};\n        /** Contexts */\n        this._contexts = {};\n    }\n    /**\n     * Inherit values from the parent scope.\n     * @param scope to clone.\n     */\n    Scope.clone = function (scope) {\n        var newScope = new Scope();\n        if (scope) {\n            newScope._breadcrumbs = __spread(scope._breadcrumbs);\n            newScope._tags = __assign({}, scope._tags);\n            newScope._extra = __assign({}, scope._extra);\n            newScope._contexts = __assign({}, scope._contexts);\n            newScope._user = scope._user;\n            newScope._level = scope._level;\n            newScope._span = scope._span;\n            newScope._session = scope._session;\n            newScope._transactionName = scope._transactionName;\n            newScope._fingerprint = scope._fingerprint;\n            newScope._eventProcessors = __spread(scope._eventProcessors);\n        }\n        return newScope;\n    };\n    /**\n     * Add internal on change listener. Used for sub SDKs that need to store the scope.\n     * @hidden\n     */\n    Scope.prototype.addScopeListener = function (callback) {\n        this._scopeListeners.push(callback);\n    };\n    /**\n     * @inheritDoc\n     */\n    Scope.prototype.addEventProcessor = function (callback) {\n        this._eventProcessors.push(callback);\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Scope.prototype.setUser = function (user) {\n        this._user = user || {};\n        if (this._session) {\n            this._session.update({ user: user });\n        }\n        this._notifyScopeListeners();\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Scope.prototype.getUser = function () {\n        return this._user;\n    };\n    /**\n     * @inheritDoc\n     */\n    Scope.prototype.setTags = function (tags) {\n        this._tags = __assign(__assign({}, this._tags), tags);\n        this._notifyScopeListeners();\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Scope.prototype.setTag = function (key, value) {\n        var _a;\n        this._tags = __assign(__assign({}, this._tags), (_a = {}, _a[key] = value, _a));\n        this._notifyScopeListeners();\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Scope.prototype.setExtras = function (extras) {\n        this._extra = __assign(__assign({}, this._extra), extras);\n        this._notifyScopeListeners();\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Scope.prototype.setExtra = function (key, extra) {\n        var _a;\n        this._extra = __assign(__assign({}, this._extra), (_a = {}, _a[key] = extra, _a));\n        this._notifyScopeListeners();\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Scope.prototype.setFingerprint = function (fingerprint) {\n        this._fingerprint = fingerprint;\n        this._notifyScopeListeners();\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Scope.prototype.setLevel = function (level) {\n        this._level = level;\n        this._notifyScopeListeners();\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Scope.prototype.setTransactionName = function (name) {\n        this._transactionName = name;\n        this._notifyScopeListeners();\n        return this;\n    };\n    /**\n     * Can be removed in major version.\n     * @deprecated in favor of {@link this.setTransactionName}\n     */\n    Scope.prototype.setTransaction = function (name) {\n        return this.setTransactionName(name);\n    };\n    /**\n     * @inheritDoc\n     */\n    Scope.prototype.setContext = function (key, context) {\n        var _a;\n        if (context === null) {\n            // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n            delete this._contexts[key];\n        }\n        else {\n            this._contexts = __assign(__assign({}, this._contexts), (_a = {}, _a[key] = context, _a));\n        }\n        this._notifyScopeListeners();\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Scope.prototype.setSpan = function (span) {\n        this._span = span;\n        this._notifyScopeListeners();\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Scope.prototype.getSpan = function () {\n        return this._span;\n    };\n    /**\n     * @inheritDoc\n     */\n    Scope.prototype.getTransaction = function () {\n        var _a, _b, _c, _d;\n        // often, this span will be a transaction, but it's not guaranteed to be\n        var span = this.getSpan();\n        // try it the new way first\n        if ((_a = span) === null || _a === void 0 ? void 0 : _a.transaction) {\n            return (_b = span) === null || _b === void 0 ? void 0 : _b.transaction;\n        }\n        // fallback to the old way (known bug: this only finds transactions with sampled = true)\n        if ((_d = (_c = span) === null || _c === void 0 ? void 0 : _c.spanRecorder) === null || _d === void 0 ? void 0 : _d.spans[0]) {\n            return span.spanRecorder.spans[0];\n        }\n        // neither way found a transaction\n        return undefined;\n    };\n    /**\n     * @inheritDoc\n     */\n    Scope.prototype.setSession = function (session) {\n        if (!session) {\n            delete this._session;\n        }\n        else {\n            this._session = session;\n        }\n        this._notifyScopeListeners();\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Scope.prototype.getSession = function () {\n        return this._session;\n    };\n    /**\n     * @inheritDoc\n     */\n    Scope.prototype.update = function (captureContext) {\n        if (!captureContext) {\n            return this;\n        }\n        if (typeof captureContext === 'function') {\n            var updatedScope = captureContext(this);\n            return updatedScope instanceof Scope ? updatedScope : this;\n        }\n        if (captureContext instanceof Scope) {\n            this._tags = __assign(__assign({}, this._tags), captureContext._tags);\n            this._extra = __assign(__assign({}, this._extra), captureContext._extra);\n            this._contexts = __assign(__assign({}, this._contexts), captureContext._contexts);\n            if (captureContext._user && Object.keys(captureContext._user).length) {\n                this._user = captureContext._user;\n            }\n            if (captureContext._level) {\n                this._level = captureContext._level;\n            }\n            if (captureContext._fingerprint) {\n                this._fingerprint = captureContext._fingerprint;\n            }\n        }\n        else if (isPlainObject(captureContext)) {\n            // eslint-disable-next-line no-param-reassign\n            captureContext = captureContext;\n            this._tags = __assign(__assign({}, this._tags), captureContext.tags);\n            this._extra = __assign(__assign({}, this._extra), captureContext.extra);\n            this._contexts = __assign(__assign({}, this._contexts), captureContext.contexts);\n            if (captureContext.user) {\n                this._user = captureContext.user;\n            }\n            if (captureContext.level) {\n                this._level = captureContext.level;\n            }\n            if (captureContext.fingerprint) {\n                this._fingerprint = captureContext.fingerprint;\n            }\n        }\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Scope.prototype.clear = function () {\n        this._breadcrumbs = [];\n        this._tags = {};\n        this._extra = {};\n        this._user = {};\n        this._contexts = {};\n        this._level = undefined;\n        this._transactionName = undefined;\n        this._fingerprint = undefined;\n        this._span = undefined;\n        this._session = undefined;\n        this._notifyScopeListeners();\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Scope.prototype.addBreadcrumb = function (breadcrumb, maxBreadcrumbs) {\n        var mergedBreadcrumb = __assign({ timestamp: dateTimestampInSeconds() }, breadcrumb);\n        this._breadcrumbs =\n            maxBreadcrumbs !== undefined && maxBreadcrumbs >= 0\n                ? __spread(this._breadcrumbs, [mergedBreadcrumb]).slice(-maxBreadcrumbs)\n                : __spread(this._breadcrumbs, [mergedBreadcrumb]);\n        this._notifyScopeListeners();\n        return this;\n    };\n    /**\n     * @inheritDoc\n     */\n    Scope.prototype.clearBreadcrumbs = function () {\n        this._breadcrumbs = [];\n        this._notifyScopeListeners();\n        return this;\n    };\n    /**\n     * Applies the current context and fingerprint to the event.\n     * Note that breadcrumbs will be added by the client.\n     * Also if the event has already breadcrumbs on it, we do not merge them.\n     * @param event Event\n     * @param hint May contain additional informartion about the original exception.\n     * @hidden\n     */\n    Scope.prototype.applyToEvent = function (event, hint) {\n        var _a;\n        if (this._extra && Object.keys(this._extra).length) {\n            event.extra = __assign(__assign({}, this._extra), event.extra);\n        }\n        if (this._tags && Object.keys(this._tags).length) {\n            event.tags = __assign(__assign({}, this._tags), event.tags);\n        }\n        if (this._user && Object.keys(this._user).length) {\n            event.user = __assign(__assign({}, this._user), event.user);\n        }\n        if (this._contexts && Object.keys(this._contexts).length) {\n            event.contexts = __assign(__assign({}, this._contexts), event.contexts);\n        }\n        if (this._level) {\n            event.level = this._level;\n        }\n        if (this._transactionName) {\n            event.transaction = this._transactionName;\n        }\n        // We want to set the trace context for normal events only if there isn't already\n        // a trace context on the event. There is a product feature in place where we link\n        // errors with transaction and it relys on that.\n        if (this._span) {\n            event.contexts = __assign({ trace: this._span.getTraceContext() }, event.contexts);\n            var transactionName = (_a = this._span.transaction) === null || _a === void 0 ? void 0 : _a.name;\n            if (transactionName) {\n                event.tags = __assign({ transaction: transactionName }, event.tags);\n            }\n        }\n        this._applyFingerprint(event);\n        event.breadcrumbs = __spread((event.breadcrumbs || []), this._breadcrumbs);\n        event.breadcrumbs = event.breadcrumbs.length > 0 ? event.breadcrumbs : undefined;\n        return this._notifyEventProcessors(__spread(getGlobalEventProcessors(), this._eventProcessors), event, hint);\n    };\n    /**\n     * This will be called after {@link applyToEvent} is finished.\n     */\n    Scope.prototype._notifyEventProcessors = function (processors, event, hint, index) {\n        var _this = this;\n        if (index === void 0) { index = 0; }\n        return new SyncPromise(function (resolve, reject) {\n            var processor = processors[index];\n            if (event === null || typeof processor !== 'function') {\n                resolve(event);\n            }\n            else {\n                var result = processor(__assign({}, event), hint);\n                if (isThenable(result)) {\n                    result\n                        .then(function (final) { return _this._notifyEventProcessors(processors, final, hint, index + 1).then(resolve); })\n                        .then(null, reject);\n                }\n                else {\n                    _this._notifyEventProcessors(processors, result, hint, index + 1)\n                        .then(resolve)\n                        .then(null, reject);\n                }\n            }\n        });\n    };\n    /**\n     * This will be called on every set call.\n     */\n    Scope.prototype._notifyScopeListeners = function () {\n        var _this = this;\n        // We need this check for this._notifyingListeners to be able to work on scope during updates\n        // If this check is not here we'll produce endless recursion when something is done with the scope\n        // during the callback.\n        if (!this._notifyingListeners) {\n            this._notifyingListeners = true;\n            this._scopeListeners.forEach(function (callback) {\n                callback(_this);\n            });\n            this._notifyingListeners = false;\n        }\n    };\n    /**\n     * Applies fingerprint from the scope to the event if there's one,\n     * uses message if there's one instead or get rid of empty fingerprint\n     */\n    Scope.prototype._applyFingerprint = function (event) {\n        // Make sure it's an array first and we actually have something in place\n        event.fingerprint = event.fingerprint\n            ? Array.isArray(event.fingerprint)\n                ? event.fingerprint\n                : [event.fingerprint]\n            : [];\n        // If we have something on the scope, then merge it with event\n        if (this._fingerprint) {\n            event.fingerprint = event.fingerprint.concat(this._fingerprint);\n        }\n        // If we have no data at all, remove empty array default\n        if (event.fingerprint && !event.fingerprint.length) {\n            delete event.fingerprint;\n        }\n    };\n    return Scope;\n}());\nexport { Scope };\n/**\n * Retruns the global event processors.\n */\nfunction getGlobalEventProcessors() {\n    /* eslint-disable @typescript-eslint/no-explicit-any, @typescript-eslint/no-unsafe-member-access  */\n    var global = getGlobalObject();\n    global.__SENTRY__ = global.__SENTRY__ || {};\n    global.__SENTRY__.globalEventProcessors = global.__SENTRY__.globalEventProcessors || [];\n    return global.__SENTRY__.globalEventProcessors;\n    /* eslint-enable @typescript-eslint/no-explicit-any, @typescript-eslint/no-unsafe-member-access */\n}\n/**\n * Add a EventProcessor to be kept globally.\n * @param callback EventProcessor to add\n */\nexport function addGlobalEventProcessor(callback) {\n    getGlobalEventProcessors().push(callback);\n}\n//# sourceMappingURL=scope.js.map","import { SessionStatus } from '@sentry/types';\nimport { dropUndefinedKeys, uuid4 } from '@sentry/utils';\n/**\n * @inheritdoc\n */\nvar Session = /** @class */ (function () {\n    function Session(context) {\n        this.errors = 0;\n        this.sid = uuid4();\n        this.timestamp = Date.now();\n        this.started = Date.now();\n        this.duration = 0;\n        this.status = SessionStatus.Ok;\n        this.init = true;\n        if (context) {\n            this.update(context);\n        }\n    }\n    /** JSDoc */\n    // eslint-disable-next-line complexity\n    Session.prototype.update = function (context) {\n        if (context === void 0) { context = {}; }\n        if (context.user) {\n            if (context.user.ip_address) {\n                this.ipAddress = context.user.ip_address;\n            }\n            if (!context.did) {\n                this.did = context.user.id || context.user.email || context.user.username;\n            }\n        }\n        this.timestamp = context.timestamp || Date.now();\n        if (context.sid) {\n            // Good enough uuid validation.  Kamil\n            this.sid = context.sid.length === 32 ? context.sid : uuid4();\n        }\n        if (context.init !== undefined) {\n            this.init = context.init;\n        }\n        if (context.did) {\n            this.did = \"\" + context.did;\n        }\n        if (typeof context.started === 'number') {\n            this.started = context.started;\n        }\n        if (typeof context.duration === 'number') {\n            this.duration = context.duration;\n        }\n        else {\n            this.duration = this.timestamp - this.started;\n        }\n        if (context.release) {\n            this.release = context.release;\n        }\n        if (context.environment) {\n            this.environment = context.environment;\n        }\n        if (context.ipAddress) {\n            this.ipAddress = context.ipAddress;\n        }\n        if (context.userAgent) {\n            this.userAgent = context.userAgent;\n        }\n        if (typeof context.errors === 'number') {\n            this.errors = context.errors;\n        }\n        if (context.status) {\n            this.status = context.status;\n        }\n    };\n    /** JSDoc */\n    Session.prototype.close = function (status) {\n        if (status) {\n            this.update({ status: status });\n        }\n        else if (this.status === SessionStatus.Ok) {\n            this.update({ status: SessionStatus.Exited });\n        }\n        else {\n            this.update();\n        }\n    };\n    /** JSDoc */\n    Session.prototype.toJSON = function () {\n        return dropUndefinedKeys({\n            sid: \"\" + this.sid,\n            init: this.init,\n            started: new Date(this.started).toISOString(),\n            timestamp: new Date(this.timestamp).toISOString(),\n            status: this.status,\n            errors: this.errors,\n            did: typeof this.did === 'number' || typeof this.did === 'string' ? \"\" + this.did : undefined,\n            duration: this.duration,\n            attrs: dropUndefinedKeys({\n                release: this.release,\n                environment: this.environment,\n                ip_address: this.ipAddress,\n                user_agent: this.userAgent,\n            }),\n        });\n    };\n    return Session;\n}());\nexport { Session };\n//# sourceMappingURL=session.js.map","import { __assign, __read, __spread } from \"tslib\";\n/* eslint-disable max-lines */\nimport { SessionStatus, } from '@sentry/types';\nimport { consoleSandbox, dateTimestampInSeconds, getGlobalObject, isNodeEnv, logger, uuid4 } from '@sentry/utils';\nimport { Scope } from './scope';\nimport { Session } from './session';\n/**\n * API compatibility version of this hub.\n *\n * WARNING: This number should only be increased when the global interface\n * changes and new methods are introduced.\n *\n * @hidden\n */\nexport var API_VERSION = 3;\n/**\n * Default maximum number of breadcrumbs added to an event. Can be overwritten\n * with {@link Options.maxBreadcrumbs}.\n */\nvar DEFAULT_BREADCRUMBS = 100;\n/**\n * Absolute maximum number of breadcrumbs added to an event. The\n * `maxBreadcrumbs` option cannot be higher than this value.\n */\nvar MAX_BREADCRUMBS = 100;\n/**\n * @inheritDoc\n */\nvar Hub = /** @class */ (function () {\n    /**\n     * Creates a new instance of the hub, will push one {@link Layer} into the\n     * internal stack on creation.\n     *\n     * @param client bound to the hub.\n     * @param scope bound to the hub.\n     * @param version number, higher number means higher priority.\n     */\n    function Hub(client, scope, _version) {\n        if (scope === void 0) { scope = new Scope(); }\n        if (_version === void 0) { _version = API_VERSION; }\n        this._version = _version;\n        /** Is a {@link Layer}[] containing the client and scope */\n        this._stack = [{}];\n        this.getStackTop().scope = scope;\n        this.bindClient(client);\n    }\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.isOlderThan = function (version) {\n        return this._version < version;\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.bindClient = function (client) {\n        var top = this.getStackTop();\n        top.client = client;\n        if (client && client.setupIntegrations) {\n            client.setupIntegrations();\n        }\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.pushScope = function () {\n        // We want to clone the content of prev scope\n        var scope = Scope.clone(this.getScope());\n        this.getStack().push({\n            client: this.getClient(),\n            scope: scope,\n        });\n        return scope;\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.popScope = function () {\n        if (this.getStack().length <= 1)\n            return false;\n        return !!this.getStack().pop();\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.withScope = function (callback) {\n        var scope = this.pushScope();\n        try {\n            callback(scope);\n        }\n        finally {\n            this.popScope();\n        }\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.getClient = function () {\n        return this.getStackTop().client;\n    };\n    /** Returns the scope of the top stack. */\n    Hub.prototype.getScope = function () {\n        return this.getStackTop().scope;\n    };\n    /** Returns the scope stack for domains or the process. */\n    Hub.prototype.getStack = function () {\n        return this._stack;\n    };\n    /** Returns the topmost scope layer in the order domain > local > process. */\n    Hub.prototype.getStackTop = function () {\n        return this._stack[this._stack.length - 1];\n    };\n    /**\n     * @inheritDoc\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\n    Hub.prototype.captureException = function (exception, hint) {\n        var eventId = (this._lastEventId = uuid4());\n        var finalHint = hint;\n        // If there's no explicit hint provided, mimick the same thing that would happen\n        // in the minimal itself to create a consistent behavior.\n        // We don't do this in the client, as it's the lowest level API, and doing this,\n        // would prevent user from having full control over direct calls.\n        if (!hint) {\n            var syntheticException = void 0;\n            try {\n                throw new Error('Sentry syntheticException');\n            }\n            catch (exception) {\n                syntheticException = exception;\n            }\n            finalHint = {\n                originalException: exception,\n                syntheticException: syntheticException,\n            };\n        }\n        this._invokeClient('captureException', exception, __assign(__assign({}, finalHint), { event_id: eventId }));\n        return eventId;\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.captureMessage = function (message, level, hint) {\n        var eventId = (this._lastEventId = uuid4());\n        var finalHint = hint;\n        // If there's no explicit hint provided, mimick the same thing that would happen\n        // in the minimal itself to create a consistent behavior.\n        // We don't do this in the client, as it's the lowest level API, and doing this,\n        // would prevent user from having full control over direct calls.\n        if (!hint) {\n            var syntheticException = void 0;\n            try {\n                throw new Error(message);\n            }\n            catch (exception) {\n                syntheticException = exception;\n            }\n            finalHint = {\n                originalException: message,\n                syntheticException: syntheticException,\n            };\n        }\n        this._invokeClient('captureMessage', message, level, __assign(__assign({}, finalHint), { event_id: eventId }));\n        return eventId;\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.captureEvent = function (event, hint) {\n        var eventId = (this._lastEventId = uuid4());\n        this._invokeClient('captureEvent', event, __assign(__assign({}, hint), { event_id: eventId }));\n        return eventId;\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.lastEventId = function () {\n        return this._lastEventId;\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.addBreadcrumb = function (breadcrumb, hint) {\n        var _a = this.getStackTop(), scope = _a.scope, client = _a.client;\n        if (!scope || !client)\n            return;\n        // eslint-disable-next-line @typescript-eslint/unbound-method\n        var _b = (client.getOptions && client.getOptions()) || {}, _c = _b.beforeBreadcrumb, beforeBreadcrumb = _c === void 0 ? null : _c, _d = _b.maxBreadcrumbs, maxBreadcrumbs = _d === void 0 ? DEFAULT_BREADCRUMBS : _d;\n        if (maxBreadcrumbs <= 0)\n            return;\n        var timestamp = dateTimestampInSeconds();\n        var mergedBreadcrumb = __assign({ timestamp: timestamp }, breadcrumb);\n        var finalBreadcrumb = beforeBreadcrumb\n            ? consoleSandbox(function () { return beforeBreadcrumb(mergedBreadcrumb, hint); })\n            : mergedBreadcrumb;\n        if (finalBreadcrumb === null)\n            return;\n        scope.addBreadcrumb(finalBreadcrumb, Math.min(maxBreadcrumbs, MAX_BREADCRUMBS));\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.setUser = function (user) {\n        var scope = this.getScope();\n        if (scope)\n            scope.setUser(user);\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.setTags = function (tags) {\n        var scope = this.getScope();\n        if (scope)\n            scope.setTags(tags);\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.setExtras = function (extras) {\n        var scope = this.getScope();\n        if (scope)\n            scope.setExtras(extras);\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.setTag = function (key, value) {\n        var scope = this.getScope();\n        if (scope)\n            scope.setTag(key, value);\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.setExtra = function (key, extra) {\n        var scope = this.getScope();\n        if (scope)\n            scope.setExtra(key, extra);\n    };\n    /**\n     * @inheritDoc\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Hub.prototype.setContext = function (name, context) {\n        var scope = this.getScope();\n        if (scope)\n            scope.setContext(name, context);\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.configureScope = function (callback) {\n        var _a = this.getStackTop(), scope = _a.scope, client = _a.client;\n        if (scope && client) {\n            callback(scope);\n        }\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.run = function (callback) {\n        var oldHub = makeMain(this);\n        try {\n            callback(this);\n        }\n        finally {\n            makeMain(oldHub);\n        }\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.getIntegration = function (integration) {\n        var client = this.getClient();\n        if (!client)\n            return null;\n        try {\n            return client.getIntegration(integration);\n        }\n        catch (_oO) {\n            logger.warn(\"Cannot retrieve integration \" + integration.id + \" from the current Hub\");\n            return null;\n        }\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.startSpan = function (context) {\n        return this._callExtensionMethod('startSpan', context);\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.startTransaction = function (context, customSamplingContext) {\n        return this._callExtensionMethod('startTransaction', context, customSamplingContext);\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.traceHeaders = function () {\n        return this._callExtensionMethod('traceHeaders');\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.captureSession = function (endSession) {\n        if (endSession === void 0) { endSession = false; }\n        // both send the update and pull the session from the scope\n        if (endSession) {\n            return this.endSession();\n        }\n        // only send the update\n        this._sendSessionUpdate();\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.endSession = function () {\n        var _a, _b, _c, _d, _e;\n        (_c = (_b = (_a = this.getStackTop()) === null || _a === void 0 ? void 0 : _a.scope) === null || _b === void 0 ? void 0 : _b.getSession()) === null || _c === void 0 ? void 0 : _c.close();\n        this._sendSessionUpdate();\n        // the session is over; take it off of the scope\n        (_e = (_d = this.getStackTop()) === null || _d === void 0 ? void 0 : _d.scope) === null || _e === void 0 ? void 0 : _e.setSession();\n    };\n    /**\n     * @inheritDoc\n     */\n    Hub.prototype.startSession = function (context) {\n        var _a = this.getStackTop(), scope = _a.scope, client = _a.client;\n        var _b = (client && client.getOptions()) || {}, release = _b.release, environment = _b.environment;\n        var session = new Session(__assign(__assign({ release: release,\n            environment: environment }, (scope && { user: scope.getUser() })), context));\n        if (scope) {\n            // End existing session if there's one\n            var currentSession = scope.getSession && scope.getSession();\n            if (currentSession && currentSession.status === SessionStatus.Ok) {\n                currentSession.update({ status: SessionStatus.Exited });\n            }\n            this.endSession();\n            // Afterwards we set the new session on the scope\n            scope.setSession(session);\n        }\n        return session;\n    };\n    /**\n     * Sends the current Session on the scope\n     */\n    Hub.prototype._sendSessionUpdate = function () {\n        var _a = this.getStackTop(), scope = _a.scope, client = _a.client;\n        if (!scope)\n            return;\n        var session = scope.getSession && scope.getSession();\n        if (session) {\n            if (client && client.captureSession) {\n                client.captureSession(session);\n            }\n        }\n    };\n    /**\n     * Internal helper function to call a method on the top client if it exists.\n     *\n     * @param method The method to call on the client.\n     * @param args Arguments to pass to the client function.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Hub.prototype._invokeClient = function (method) {\n        var _a;\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        var _b = this.getStackTop(), scope = _b.scope, client = _b.client;\n        if (client && client[method]) {\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access, @typescript-eslint/no-explicit-any\n            (_a = client)[method].apply(_a, __spread(args, [scope]));\n        }\n    };\n    /**\n     * Calls global extension method and binding current instance to the function call\n     */\n    // @ts-ignore Function lacks ending return statement and return type does not include 'undefined'. ts(2366)\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Hub.prototype._callExtensionMethod = function (method) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        var carrier = getMainCarrier();\n        var sentry = carrier.__SENTRY__;\n        if (sentry && sentry.extensions && typeof sentry.extensions[method] === 'function') {\n            return sentry.extensions[method].apply(this, args);\n        }\n        logger.warn(\"Extension method \" + method + \" couldn't be found, doing nothing.\");\n    };\n    return Hub;\n}());\nexport { Hub };\n/** Returns the global shim registry. */\nexport function getMainCarrier() {\n    var carrier = getGlobalObject();\n    carrier.__SENTRY__ = carrier.__SENTRY__ || {\n        extensions: {},\n        hub: undefined,\n    };\n    return carrier;\n}\n/**\n * Replaces the current main hub with the passed one on the global object\n *\n * @returns The old replaced hub\n */\nexport function makeMain(hub) {\n    var registry = getMainCarrier();\n    var oldHub = getHubFromCarrier(registry);\n    setHubOnCarrier(registry, hub);\n    return oldHub;\n}\n/**\n * Returns the default hub instance.\n *\n * If a hub is already registered in the global carrier but this module\n * contains a more recent version, it replaces the registered version.\n * Otherwise, the currently registered hub will be returned.\n */\nexport function getCurrentHub() {\n    // Get main carrier (global for every environment)\n    var registry = getMainCarrier();\n    // If there's no hub, or its an old API, assign a new one\n    if (!hasHubOnCarrier(registry) || getHubFromCarrier(registry).isOlderThan(API_VERSION)) {\n        setHubOnCarrier(registry, new Hub());\n    }\n    // Prefer domains over global if they are there (applicable only to Node environment)\n    if (isNodeEnv()) {\n        return getHubFromActiveDomain(registry);\n    }\n    // Return hub that lives on a global object\n    return getHubFromCarrier(registry);\n}\n/**\n * Returns the active domain, if one exists\n * @deprecated No longer used; remove in v7\n * @returns The domain, or undefined if there is no active domain\n */\n// eslint-disable-next-line deprecation/deprecation\nexport function getActiveDomain() {\n    logger.warn('Function `getActiveDomain` is deprecated and will be removed in a future version.');\n    var sentry = getMainCarrier().__SENTRY__;\n    return sentry && sentry.extensions && sentry.extensions.domain && sentry.extensions.domain.active;\n}\n/**\n * Try to read the hub from an active domain, and fallback to the registry if one doesn't exist\n * @returns discovered hub\n */\nfunction getHubFromActiveDomain(registry) {\n    var _a, _b, _c;\n    try {\n        var activeDomain = (_c = (_b = (_a = getMainCarrier().__SENTRY__) === null || _a === void 0 ? void 0 : _a.extensions) === null || _b === void 0 ? void 0 : _b.domain) === null || _c === void 0 ? void 0 : _c.active;\n        // If there's no active domain, just return global hub\n        if (!activeDomain) {\n            return getHubFromCarrier(registry);\n        }\n        // If there's no hub on current domain, or it's an old API, assign a new one\n        if (!hasHubOnCarrier(activeDomain) || getHubFromCarrier(activeDomain).isOlderThan(API_VERSION)) {\n            var registryHubTopStack = getHubFromCarrier(registry).getStackTop();\n            setHubOnCarrier(activeDomain, new Hub(registryHubTopStack.client, Scope.clone(registryHubTopStack.scope)));\n        }\n        // Return hub that lives on a domain\n        return getHubFromCarrier(activeDomain);\n    }\n    catch (_Oo) {\n        // Return hub that lives on a global object\n        return getHubFromCarrier(registry);\n    }\n}\n/**\n * This will tell whether a carrier has a hub on it or not\n * @param carrier object\n */\nfunction hasHubOnCarrier(carrier) {\n    return !!(carrier && carrier.__SENTRY__ && carrier.__SENTRY__.hub);\n}\n/**\n * This will create a new {@link Hub} and add to the passed object on\n * __SENTRY__.hub.\n * @param carrier object\n * @hidden\n */\nexport function getHubFromCarrier(carrier) {\n    if (carrier && carrier.__SENTRY__ && carrier.__SENTRY__.hub)\n        return carrier.__SENTRY__.hub;\n    carrier.__SENTRY__ = carrier.__SENTRY__ || {};\n    carrier.__SENTRY__.hub = new Hub();\n    return carrier.__SENTRY__.hub;\n}\n/**\n * This will set passed {@link Hub} on the passed object's __SENTRY__.hub attribute\n * @param carrier object\n * @param hub Hub\n * @returns A boolean indicating success or failure\n */\nexport function setHubOnCarrier(carrier, hub) {\n    if (!carrier)\n        return false;\n    carrier.__SENTRY__ = carrier.__SENTRY__ || {};\n    carrier.__SENTRY__.hub = hub;\n    return true;\n}\n//# sourceMappingURL=hub.js.map","import { __assign, __read, __spread } from \"tslib\";\nimport { getCurrentHub } from '@sentry/hub';\n/**\n * This calls a function on the current hub.\n * @param method function to call on hub.\n * @param args to pass to function.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction callOnHub(method) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    var hub = getCurrentHub();\n    if (hub && hub[method]) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return hub[method].apply(hub, __spread(args));\n    }\n    throw new Error(\"No hub defined or \" + method + \" was not found on the hub, please open a bug report.\");\n}\n/**\n * Captures an exception event and sends it to Sentry.\n *\n * @param exception An exception-like object.\n * @returns The generated eventId.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\nexport function captureException(exception, captureContext) {\n    var syntheticException;\n    try {\n        throw new Error('Sentry syntheticException');\n    }\n    catch (exception) {\n        syntheticException = exception;\n    }\n    return callOnHub('captureException', exception, {\n        captureContext: captureContext,\n        originalException: exception,\n        syntheticException: syntheticException,\n    });\n}\n/**\n * Captures a message event and sends it to Sentry.\n *\n * @param message The message to send to Sentry.\n * @param level Define the level of the message.\n * @returns The generated eventId.\n */\nexport function captureMessage(message, captureContext) {\n    var syntheticException;\n    try {\n        throw new Error(message);\n    }\n    catch (exception) {\n        syntheticException = exception;\n    }\n    // This is necessary to provide explicit scopes upgrade, without changing the original\n    // arity of the `captureMessage(message, level)` method.\n    var level = typeof captureContext === 'string' ? captureContext : undefined;\n    var context = typeof captureContext !== 'string' ? { captureContext: captureContext } : undefined;\n    return callOnHub('captureMessage', message, level, __assign({ originalException: message, syntheticException: syntheticException }, context));\n}\n/**\n * Captures a manually created event and sends it to Sentry.\n *\n * @param event The event to send to Sentry.\n * @returns The generated eventId.\n */\nexport function captureEvent(event) {\n    return callOnHub('captureEvent', event);\n}\n/**\n * Callback to set context information onto the scope.\n * @param callback Callback function that receives Scope.\n */\nexport function configureScope(callback) {\n    callOnHub('configureScope', callback);\n}\n/**\n * Records a new breadcrumb which will be attached to future events.\n *\n * Breadcrumbs will be added to subsequent events to provide more context on\n * user's actions prior to an error or crash.\n *\n * @param breadcrumb The breadcrumb to record.\n */\nexport function addBreadcrumb(breadcrumb) {\n    callOnHub('addBreadcrumb', breadcrumb);\n}\n/**\n * Sets context data with the given name.\n * @param name of the context\n * @param context Any kind of data. This data will be normalized.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function setContext(name, context) {\n    callOnHub('setContext', name, context);\n}\n/**\n * Set an object that will be merged sent as extra data with the event.\n * @param extras Extras object to merge into current context.\n */\nexport function setExtras(extras) {\n    callOnHub('setExtras', extras);\n}\n/**\n * Set an object that will be merged sent as tags data with the event.\n * @param tags Tags context object to merge into current context.\n */\nexport function setTags(tags) {\n    callOnHub('setTags', tags);\n}\n/**\n * Set key:value that will be sent as extra data with the event.\n * @param key String of extra\n * @param extra Any kind of data. This data will be normalized.\n */\nexport function setExtra(key, extra) {\n    callOnHub('setExtra', key, extra);\n}\n/**\n * Set key:value that will be sent as tags data with the event.\n *\n * Can also be used to unset a tag, by passing `undefined`.\n *\n * @param key String key of tag\n * @param value Value of tag\n */\nexport function setTag(key, value) {\n    callOnHub('setTag', key, value);\n}\n/**\n * Updates user context information for future events.\n *\n * @param user User context object to be set in the current context. Pass `null` to unset the user.\n */\nexport function setUser(user) {\n    callOnHub('setUser', user);\n}\n/**\n * Creates a new scope with and executes the given operation within.\n * The scope is automatically removed once the operation\n * finishes or throws.\n *\n * This is essentially a convenience function for:\n *\n *     pushScope();\n *     callback();\n *     popScope();\n *\n * @param callback that will be enclosed into push/popScope.\n */\nexport function withScope(callback) {\n    callOnHub('withScope', callback);\n}\n/**\n * Calls a function on the latest client. Use this with caution, it's meant as\n * in \"internal\" helper so we don't need to expose every possible function in\n * the shim. It is not guaranteed that the client actually implements the\n * function.\n *\n * @param method The method to call on the client/client.\n * @param args Arguments to pass to the client/fontend.\n * @hidden\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function _callOnClient(method) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    callOnHub.apply(void 0, __spread(['_invokeClient', method], args));\n}\n/**\n * Starts a new `Transaction` and returns it. This is the entry point to manual tracing instrumentation.\n *\n * A tree structure can be built by adding child spans to the transaction, and child spans to other spans. To start a\n * new child span within the transaction or any span, call the respective `.startChild()` method.\n *\n * Every child span must be finished before the transaction is finished, otherwise the unfinished spans are discarded.\n *\n * The transaction must be finished with a call to its `.finish()` method, at which point the transaction with all its\n * finished child spans will be sent to Sentry.\n *\n * @param context Properties of the new `Transaction`.\n * @param customSamplingContext Information given to the transaction sampling function (along with context-dependent\n * default values). See {@link Options.tracesSampler}.\n *\n * @returns The transaction which was just started\n */\nexport function startTransaction(context, customSamplingContext) {\n    return callOnHub('startTransaction', __assign({}, context), customSamplingContext);\n}\n//# sourceMappingURL=index.js.map","import { captureException } from '@sentry/browser';\n\nexport function errorCapture(e: any) {\n    captureException(e);\n}\n","const manifest = {\n    manifest_version: 2,\n    name: 'Chollometro: Info de precios, alertas y ms',\n    version: '1.3.4',\n    description: 'Chollometro: Info de precios, alertas y ms',\n    icons: {\n        '48': 'icons/icon.png',\n        '128': 'icons/128.png',\n    },\n    background: {\n        scripts: ['src/background/index.ts'],\n        persistent: true,\n    },\n    permissions: ['storage', 'tabs', 'alarms', 'activeTab'],\n    browser_action: {\n        default_popup: 'src/popup/popup.html',\n    },\n\n    web_accessible_resources: ['*.js.map'],\n\n    content_scripts: [\n        {\n            matches: ['https://www.google.com/search?*', 'https://www.google.es/search?*'],\n            js: ['src/serp/index.serp.ts'],\n        },\n        {\n            exclude_matches: [\n                '*://carrefour.es/access/*',\n                '*://*.carrefour.es/access/*',\n                'https://www.google.com/search?*',\n                'https://www.google.es/search?*',\n            ],\n            matches: ['*://*/*'],\n            js: ['src/ui/index.ts'],\n        },\n    ],\n    browser_specific_settings: {\n        gecko: {\n            id: 'tech@chollometro.com',\n            strict_min_version: '42.0',\n        },\n    },\n};\n\nexport default manifest;\n","import { v4 as uuidv4 } from 'uuid';\nimport { LoginCredentials, LoginPayload, UserData } from '~B/storage';\nimport { AuthBody } from '~B/types';\nimport { fetcher } from '../api/comm';\nimport browser from '../browser/browser';\nimport analytics from './analytics';\nimport {\n    getAccessToken,\n    isAuthorizationExpired,\n    isAuthorizationRefreshable,\n    setAuthValues,\n} from './auth';\nimport { errorCapture } from './errorCapture';\nimport logger from './logger';\nimport manifest from '~/manifest';\n\nexport type HTTPMethod = 'GET' | 'POST' | 'PUT' | 'DELETE' | 'PATCH';\nexport type HTTPRequest = {\n    endpoint: string;\n    body?: any;\n    method?: HTTPMethod;\n    retries?: number;\n    retry_time?: number;\n    sender?: any;\n    isMetric?: boolean;\n};\n\nconst baseurl = import.meta.env.VITE_ENDPOINT;\nconst cache_id_key = 'chollo_assist_cached_id';\nexport const ext_id = browser.runtime.id;\nexport const extension_manifest = manifest;\n\nexport const ext_client_id = new Promise<string>((resolve, reject) => {\n    browser.storage.local.get([cache_id_key]).then((result) => {\n        const cached_id = result && result[cache_id_key];\n        if (cached_id) {\n            return resolve(cached_id);\n        } else {\n            // TODO: Generate client_id through some kind of fingerprinting\n            const gen_id = uuidv4();\n            browser.storage.local.set({ [cache_id_key]: gen_id });\n            return resolve(gen_id);\n        }\n    });\n});\n\nfunction fetch_retry<T = any>(\n    url: string,\n    options: {},\n    isMetric?: boolean,\n    n = 3,\n    retryTime = 300,\n    throttlingTimes = 0,\n): QueryablePromise<T> {\n    return makeQueryablePromise(\n        new Promise<T>(function (resolve, reject) {\n            (import.meta.env.VITE_SKIP_TUNNEL === '1' ? fetch : fetcher)(\n                url,\n                options,\n                isMetric ?? false,\n            )\n                .then((r) => {\n                    if (r.ok) {\n                        return resolve(r.json());\n                    } else {\n                        if (r.status === 401 || r.status === 403) {\n                            return reject(r);\n                        }\n\n                        if (n === 1) {\n                            return reject(new Error(r.statusText));\n                        }\n                        setTimeout(() => {\n                            resolve(fetch_retry(url, options, isMetric, n - 1, retryTime));\n                        }, retryTime);\n                    }\n                })\n                .catch((e) => {\n                    reject(new Error(e.statusText || e.message || 'UNKNOWN_ERROR'));\n                });\n        }),\n    );\n}\n\nexport async function getRequestHeaders(sender?: { url: string; origin: string }) {\n    const headers: HeadersInit = {\n        ['Content-Type']: 'application/json',\n        ['X-Version']: (await extension_manifest).version,\n        ['X-Client-Id']: await ext_client_id,\n        ['X-Ext-Id']: ext_id,\n        ['X-Request-Id']: uuidv4(),\n    };\n\n    // const token = await ((await userHasAccess()) ? getAccessToken() : getLastAccessToken());\n    const token = await getAccessToken();\n    if (typeof token === 'string') {\n        headers['Authorization'] = `Bearer ${token}`;\n    }\n\n    if (sender) {\n        headers['X-Url'] = sender.url;\n        headers['X-Origin'] = sender.origin;\n    } else {\n        headers['X-Origin'] = `chrome-extension://${ext_id}`;\n    }\n\n    return headers;\n}\n\n/**\n * TODO: Implement memoization based on 1s delay to avoid refetching\n * @param {string} endpoint Selfexplanatory\n * @param {any} body A \"JSON.stringifiable\" object\n * @param {string} [method=\"GET\"] Http method\n * @param [retries=3] {number} Retries befores giving up\n * @param [retry_time=300] {number} Time between retries.\n */\n\nexport async function makeRequest<T>({\n    endpoint,\n    body,\n    method = 'GET',\n    retries = 3,\n    retry_time = 300,\n    sender = null,\n    isMetric = false,\n}: HTTPRequest) {\n    logger.debug('new request', {\n        endpoint,\n        body: body || 'no body',\n        method,\n        retries,\n    });\n    const findAuthPath: () => Promise<any> = async () => {\n        try {\n            if (await isAuthorizationExpired()) {\n                if (await isAuthorizationRefreshable()) {\n                    await checkAuthRequest('refresh');\n                } else {\n                    // reset session according to user credentiasl at that moment.\n                    const userData = await UserData.get();\n                    if (userData) {\n                        await checkAuthRequest('auth', userData);\n                    } else {\n                        await checkAuthRequest('session');\n                    }\n                }\n            }\n        } catch (e) {\n            if (e instanceof Error) {\n                errorCapture(e);\n                // Uncaptured error. We inform the Ui that there has a problem.\n                throw e;\n            }\n            // 401 or 403. Extra check to avoid time compatilbility issues with server\n\n            return await findAuthPath();\n        }\n    };\n    await findAuthPath();\n\n    const headers = await getRequestHeaders(sender);\n    const metricServiceUrl = import.meta.env.VITE_METRICS_ENDPOINT;\n\n    return fetch_retry<T>(\n        isMetric ? metricServiceUrl : `${baseurl}/${endpoint}`,\n        {\n            headers,\n            method: method.toUpperCase(),\n            body: typeof body === 'string' ? body : JSON.stringify(body),\n        },\n        isMetric,\n        retries,\n        retry_time,\n    );\n}\n\ninterface QueryablePromise<T> extends Promise<T> {\n    isFulfilled(): boolean;\n    isPending(): boolean;\n    isRejected(): boolean;\n}\n\ninterface UnknownPromise<T> extends Promise<T> {\n    isFulfilled?(): boolean;\n    isPending?(): boolean;\n    isRejected?(): boolean;\n}\n\n/**\n * This function allow you to modify a JS Promise by adding some status properties.\n * Based on: http://stackoverflow.com/questions/21485545/is-there-a-way-to-tell-if-an-es6-promise-is-fulfilled-rejected-resolved\n * But modified according to the specs of promises : https://promisesaplus.com/\n */\nfunction makeQueryablePromise<T = any>(\n    promise: UnknownPromise<T> | QueryablePromise<T>,\n): QueryablePromise<T> {\n    // Don't modify any promise that has been already modified.\n    if (promise.isFulfilled !== undefined) return promise as QueryablePromise<T>;\n\n    // Set initial state\n    var isPending = true;\n    var isRejected = false;\n    var isFulfilled = false;\n\n    // Observe the promise, saving the fulfillment in a closure scope.\n    var result = promise.then(\n        function (v) {\n            isFulfilled = true;\n            isPending = false;\n            return v;\n        },\n        function (e) {\n            isRejected = true;\n            isPending = false;\n            throw e;\n        },\n    ) as UnknownPromise<T>;\n\n    result.isFulfilled = function () {\n        return isFulfilled;\n    };\n    result.isPending = function () {\n        return isPending;\n    };\n    result.isRejected = function () {\n        return isRejected;\n    };\n    return result as QueryablePromise<T>;\n}\n\ntype AuthResponse = { accessToken: string; authUser: LoginPayload };\n\n/** \nThis function creates different token authorization based on input credentials,\nif loginData is not passed the returned token will be a session token. In the other case\na user authentication token will be returned.\n\n@param  loginForm - login credentials\n@param  save - boolean check to authorize caching credentials\n\n@returns promise that resolve to token authorization\n*/\n\nlet isLoggedIn: null | boolean = null;\nlet auth_request: QueryablePromise<AuthResponse>;\n/* export async function getAuthorization(loginData?: LoginCredentials): Promise<LogInPayload> {\n    let userData = await getUserData();\n    let authUrl = 'session';\n    const prevToken = getDecodedToken();\n    const tokenExpSeconds = prevToken.exp * 1000;\n    if (!prevToken) {\n        // first session init\n        return await tokenRequest(authUrl, authBody);\n    }\n    // user login\n    if (loginData) {\n        authUrl = 'auth';\n        authBody = {\n            ...authBody,\n            username: loginData.username,\n            password: loginData.password,\n        };\n        return await tokenRequest(authUrl, authBody);\n    }\n\n    const maxTimeExpAllowed = 10 * 60 * 1000;\n    if (\n        prevToken.ttl > 0 &&\n        Date.now() >= tokenExpSeconds &&\n        Date.now() < tokenExpSeconds + maxTimeExpAllowed\n    ) {\n        // less than 10 minutes afer token expired\n        authUrl = 'refresh';\n        authBody = {\n            ...authBody,\n            username: userData.username,\n            password: userData.password,\n        };\n\n        return await tokenRequest(authUrl, authBody);\n    }\n\n    authUrl = 'session';\n    return await tokenRequest(authUrl, authBody);\n} */\n\nexport async function checkAuthRequest(authUrl: string, loginData?: LoginCredentials) {\n    const headers = await getRequestHeaders();\n    let authBody: AuthBody = {\n        version: (await extension_manifest).version,\n        extensionId: ext_id,\n        clientId: await ext_client_id,\n        ...loginData,\n    };\n    try {\n        if (!auth_request || !auth_request.isPending()) {\n            auth_request = fetch_retry<AuthResponse>(`${baseurl}/user/${authUrl}`, {\n                headers,\n                method: 'POST',\n                body: JSON.stringify(authBody),\n            });\n        }\n\n        const { accessToken, authUser } = await auth_request;\n\n        if (isLoggedIn !== true) {\n            isLoggedIn = true;\n            analytics.event({ id: 'login', action: 'ok' });\n        }\n\n        await setAuthValues(accessToken);\n\n        return authUser;\n    } catch (e) {\n        // caso extraordinario. serves says is not authorized by its credentials. reset ui and reset session.\n        /*  if (authUrl === 'auth' && loginData && !(await getUserData())) {\n         return getAuthorization();\n     } */\n        errorCapture(e);\n        if (isLoggedIn !== false) {\n            isLoggedIn = false;\n            analytics.event({ id: 'login', action: 'ko' });\n        }\n        throw e;\n    }\n}\n","import manifest from '~/manifest';\nimport logger from '~/ui/utils/logger';\n\nimport { UserData, UserInformation } from '~B/storage';\n\nexport const extension_manifest = manifest;\n\nexport async function collectMetrics() {\n    try {\n        const { username } = ((await UserData.get()) as UserInformation) ?? { username: 'unlogin' };\n        let merchantDomain, productUrl, platform;\n        const url = new URL(location.href);\n        const version = extension_manifest.version;\n\n        merchantDomain = url.host.replace(/^w+\\./, '');\n        productUrl = url.href;\n        platform = navigator.userAgent;\n\n        return username === 'unlogin'\n            ? {\n                  merchantDomain,\n                  productUrl,\n                  platform,\n                  version,\n              }\n            : {\n                  username,\n                  merchantDomain,\n                  productUrl,\n                  platform,\n                  version,\n              };\n    } catch (error) {\n        logger.error((error as Error).message);\n    }\n}\n","import { BehaviorSubject, firstValueFrom, Observable, Subject } from 'rxjs';\nimport {\n    distinctUntilChanged,\n    filter,\n    map,\n    raceWith,\n    share,\n    shareReplay,\n    skip,\n} from 'rxjs/operators';\nimport { backgroundFetcher } from '~B/backgroundFetch';\nimport browser from '~B/browser/browser';\nimport { collectMetrics } from '~F/app/api/metrics/utils';\nimport logger from '../logger';\nimport { APIContext, APIHandler, APIResource, Fetcher } from './api.types';\nimport { HTTPMethod, makeRequest } from '~B/utils/request';\nimport manifest from '~/manifest';\n\nexport interface metricsOptions {\n    method: 'POST';\n    body: {\n        name: string;\n        data?: {\n            username?: string;\n            merchantDomain: string;\n            productUrl: string;\n            platform?: string;\n            targetUrl?: string;\n            productTitle?: string;\n            productImageUrl?: string;\n            version?: string;\n        };\n    };\n}\nconst apiHandlerCache: {\n    [k: string]: APIHandler<any, any>;\n} = {};\n\nexport function createAPI<\n    TResource extends any,\n    Methods extends {\n        [k: string]: (this: APIContext, input: any) => Promise<any> | void;\n    },\n>({\n    name,\n    read,\n    default: defaultResource,\n    methods,\n    endpoint,\n}: {\n    name: string;\n    endpoint?: string;\n    default?: () => TResource;\n    methods: Methods;\n    read?: (this: APIContext) => Promise<TResource>;\n}): APIHandler<typeof methods, TResource> {\n    const onSync$ = new Subject<TResource>();\n    // Hits cache\n    if (name in apiHandlerCache) {\n        return apiHandlerCache[name];\n    }\n    let connected = false;\n\n    //! API handling code\n    const apiModuleId = 'bapi';\n    const apiId = `${apiModuleId}/${name}`;\n    const questionId = `${apiId}-q`;\n    const answerId = `${apiId}-a`;\n    const syncId = `${apiId}-s`;\n    const keys = Object.keys(methods) as (keyof Methods)[];\n    const thisContext: APIContext = {\n        baseURL: '',\n        endpoint: endpoint || '',\n        fetch,\n        async metric(options: metricsOptions) {\n            try {\n                const res = await this.fetch('', options);\n                logger.log(`Metric request ${options.body.name}`, res);\n            } catch (error) {\n                logger.log(`Error on ${options.body.name} metric`, error);\n            }\n        },\n    };\n\n    function setContext(newContext: APIContext) {\n        Object.assign(thisContext, newContext);\n    }\n    const apiHandler: APIHandler<Methods, TResource> = {\n        default: defaultResource,\n        name,\n        id: apiId,\n        read: read.bind(thisContext),\n        connect() {\n            if (connected) return;\n            const newAPI = createConnectedAPI(apiHandler);\n            apiHandler.read = newAPI.read;\n            apiHandler.methods = newAPI.methods;\n            connected = true;\n        },\n        onSync$: onSync$.pipe(\n            share({\n                resetOnError: false,\n                resetOnComplete: false,\n                resetOnRefCountZero: false,\n            }),\n        ),\n        syncData: (d) => {\n            logger.debug(`${name}.syncData: `, { data: d });\n            onSync$.next(d);\n        },\n        setContext: (setter) => setContext(setter(thisContext)),\n        init(fetcher: Fetcher) {\n            setContext({\n                ...thisContext,\n                fetch: (input, options, sender) => {\n                    const endpoint = `${thisContext.baseURL.replace(\n                        /\\/*$/,\n                        '',\n                    )}/${thisContext.endpoint.replace(/^\\/*/, '')}`;\n                    if (this.name.includes('metrics')) {\n                        return makeRequest({\n                            endpoint: '',\n                            body: options?.body,\n                            method: options?.method as HTTPMethod,\n                            isMetric: true,\n                        });\n                    }\n                    return fetcher(`${endpoint.replace(/^\\/*/, '')}${input}`, options, sender);\n                },\n            });\n        },\n        methods: keys.reduce((acc, k) => {\n            acc[k] = methods[k].bind(thisContext) as any;\n            return acc;\n        }, {} as APIHandler<Methods, TResource>['methods']),\n        actions: {\n            syncId,\n            answerId,\n            questionId,\n            q: {\n                ...keys.reduce((acc, k: keyof Methods) => {\n                    acc[k] = `${questionId}.${k}`;\n                    return acc;\n                }, {} as { [k in keyof Methods]: string }),\n                read: `${questionId}.read`,\n            },\n            a: {\n                ...keys.reduce((acc, k: keyof Methods) => {\n                    acc[k] = `${answerId}.${k}`;\n                    return acc;\n                }, {} as { [k in keyof Methods]: string }),\n                read: `${answerId}.read`,\n            },\n        },\n    };\n\n    apiHandler.init(fetch);\n    // Save to cache\n    apiHandlerCache[name] = apiHandler;\n    return apiHandler;\n}\n\nconst connectedAPISyncStore: { [k: string]: (data: any) => void } = {};\n\nfunction registerListener() {\n    browser.runtime.onMessage.addListener(({ type, payload }) => {\n        connectedAPISyncStore[type]?.(payload);\n    });\n}\nregisterListener();\n\nfunction createConnectedAPI<Methods, TResource>(\n    apiHandler: APIHandler<Methods, TResource>,\n): APIHandler<Methods, TResource> {\n    // Do no connect if testing\n    if (import.meta.env.VITE_NODE_ENV === 'test') {\n        logger.log('Background fetcher loaded');\n\n        apiHandler.init(backgroundFetcher);\n        return apiHandler;\n    }\n\n    connectedAPISyncStore[apiHandler.actions.syncId] = apiHandler.syncData;\n\n    const methods = Object.keys(apiHandler.actions.q).reduce((ob, k: any) => {\n        ob[k] = async (data: any) => {\n            let payload;\n            switch (apiHandler.name) {\n                // calculate collect metrics payload\n\n                case 'metrics:views':\n                case 'metrics:pepper':\n                case 'metrics:alerts':\n                case 'metrics:serp':\n                    payload = {\n                        data: { ...(await collectMetrics()), ...data.data },\n                        name: data.name,\n                    };\n                    break;\n\n                case 'metrics:install':\n                    payload = {\n                        data: {\n                            platform: navigator.userAgent,\n                            version: manifest.version,\n                        },\n                        name: data.name,\n                    };\n                    break;\n\n                default:\n                    payload = data;\n            }\n            return browser.runtime\n                .sendMessage({\n                    type: (apiHandler.actions.q as any)[k],\n                    payload: payload,\n                })\n                .catch(() => {\n                    return { error: new Error('NO_RESPONSE') };\n                })\n                .then((d: { [k: string]: any }) => {\n                    if (!d) {\n                        throw new Error('API_ENGINE_ERROR');\n                    }\n                    if (d?.error) {\n                        Object.setPrototypeOf(d.error, Error);\n                        throw d.error;\n                    }\n                    return d?.payload;\n                });\n        };\n        return ob;\n    }, {} as any);\n\n    return {\n        ...apiHandler,\n        read: methods['read'],\n        methods,\n    };\n}\n\nconst apiCache: {\n    [k: string]: APIResource<any, any>;\n} = {};\nexport function createResource<APIMethods, TResource>(\n    apiHandler: APIHandler<APIMethods, TResource>,\n): APIResource<APIMethods, TResource> {\n    if (!(apiHandler.name in apiCache)) {\n        let api = apiHandler;\n        apiCache[apiHandler.name] = innerCreateResource(api);\n    }\n    return apiCache[apiHandler.name] as APIResource<APIMethods, TResource>;\n}\n\ntype APIObserverOnNextFn<TResource> = (resource: TResource) => void;\ntype APIObserverOnErrorFn = (error: Error) => void;\nexport interface IAPIObserver<TResource> {\n    onNext: APIObserverOnNextFn<TResource>;\n    onError: APIObserverOnErrorFn;\n}\nexport interface IAPIObservable<TResource> {\n    subscribe: (observer: IAPIObserver<TResource>) => () => void;\n}\n\nexport interface IAPISubject<TResource>\n    extends IAPIObserver<TResource>,\n        IAPIObservable<TResource> {}\n\nfunction observeIdentityFn(v: any) {}\n\nexport function createObserver<TResource>(\n    onNext: APIObserverOnNextFn<TResource> = observeIdentityFn,\n    onError: APIObserverOnErrorFn = observeIdentityFn,\n): IAPIObserver<TResource> {\n    return {\n        onNext,\n        onError,\n    };\n}\nexport function createSubject<TResource>(\n    onNext: APIObserverOnNextFn<TResource> = observeIdentityFn,\n    onError: APIObserverOnErrorFn = observeIdentityFn,\n): IAPISubject<TResource> {\n    let observers: IAPIObserver<TResource>[] = [];\n    return {\n        onNext: (d) => {\n            onNext(d);\n            observers.forEach((o) => o.onNext(d));\n        },\n        onError: (e) => {\n            onError(e);\n            observers.forEach((o) => o.onError(e));\n        },\n        subscribe: (observer) => {\n            observers.push(observer);\n            return () => {\n                observers = observers.filter((ob) => ob !== observer);\n            };\n        },\n    };\n}\n\nfunction innerCreateResource<APIMethods, TResource>(\n    handler: APIHandler<APIMethods, TResource>,\n): APIResource<APIMethods, TResource> {\n    const { name, methods, init, read, default: defaultResource } = handler;\n    let observers: IAPIObserver<TResource>[] = [];\n    let resource = defaultResource();\n    let status: 'success' | 'pending' | 'error' = 'pending';\n    let error: any = null;\n    let promise: Promise<any> | null = updateResource();\n    let pendingTimeOut: NodeJS.Timeout | null;\n    async function updateResource() {\n        status = 'pending';\n        try {\n            const v = await read();\n            status = 'success';\n            return v;\n        } catch (e) {\n            error = e;\n            status = 'error';\n            throw e;\n        }\n    }\n    function innerReadAll(): TResource {\n        if (pendingTimeOut) clearTimeout(pendingTimeOut);\n        switch (status) {\n            case 'error':\n                promise = null;\n                pendingTimeOut = setTimeout(() => {\n                    status = 'pending';\n                    pendingTimeOut = null;\n                }, 50);\n\n                throw error;\n            case 'pending':\n                promise = promise || updateResource();\n                throw promise;\n            case 'success':\n                return resource;\n        }\n    }\n    function innerAutoUpdateAPI<TIn, TOut>(\n        apiHandler: (element: TIn) => Promise<TOut>,\n    ): (element: TIn) => Promise<TOut> {\n        status = 'pending';\n        return (element) =>\n            (promise = apiHandler(element)\n                .then(\n                    (r) =>\n                        (promise = updateResource().then(() => {\n                            setTimeout(() => {\n                                observers.forEach((o) => o.onNext(resource));\n                            }, 0);\n                            return r;\n                        })),\n                )\n                .catch((e) => {\n                    status = 'error';\n                    error = e;\n                    let observedError = e;\n                    if (typeof observedError === 'string') {\n                        observedError = new Error(observedError);\n                    } else if (!(observedError instanceof Error)) {\n                        observedError = new Error(`Unknown error: [${observedError}]`);\n                    }\n                    observers.forEach((o) => o.onError(observedError));\n                }));\n    }\n\n    const methodKeys: (keyof APIHandler<APIMethods, TResource>['methods'])[] = Object.keys(\n        methods,\n    ) as any;\n\n    return {\n        ...methodKeys.reduce(\n            (acc, k) => {\n                acc[k] = (input: any) => {\n                    if (typeof methods[k] === 'function') {\n                        return innerAutoUpdateAPI(methods[k] as any)(input);\n                    }\n                    return Promise.resolve();\n                };\n                return acc;\n            },\n            {} as {\n                [k in keyof APIHandler<APIMethods, TResource>['methods']]: any;\n            },\n        ),\n        read: innerReadAll,\n        onUpdate: (observer) => {\n            observers.push(observer);\n            return () => {\n                observers = observers.filter((ob) => ob !== observer);\n            };\n        },\n    };\n}\n\nexport namespace ObservableAPIStore {\n    const obAPIStore: { [k: string]: any } = {};\n    const initSymbol = Symbol('initialValue');\n\n    export type APIObservable<APIMethods, TResource> = {\n        onError$: Observable<unknown>;\n        onUpdate$: Observable<TResource>;\n        readSync(): TResource;\n        readForce(): Promise<TResource>;\n        read(): Promise<TResource>;\n        isLoading$: Observable<boolean>;\n    } & {\n        [Type in keyof APIMethods]: APIMethods[Type] extends () => Promise<infer TOut>\n            ? () => Promise<TOut>\n            : APIMethods[Type] extends (input: infer TIn) => Promise<infer TOut>\n            ? (input: TIn) => Promise<TOut>\n            : undefined;\n    };\n\n    export function get<APIMethods, TResource>(\n        handler: APIHandler<APIMethods, TResource>,\n        autoread = true,\n    ): APIObservable<APIMethods, TResource> {\n        if (obAPIStore[handler.name]) {\n            return obAPIStore[handler.name];\n        }\n        const cachedValue$$ = new BehaviorSubject<TResource | Symbol>(initSymbol);\n        const valueStream$ = cachedValue$$.pipe(\n            filter((x) => x !== initSymbol),\n            map((x) => x as TResource),\n        );\n        const isLoading$$ = new BehaviorSubject(false);\n        const onError$$ = new BehaviorSubject<unknown>(undefined);\n\n        const methodKeys = Object.keys(handler.methods) as (keyof APIHandler<\n            APIMethods,\n            TResource\n        >['methods'])[];\n\n        // sync with the handler\n        handler.onSync$.subscribe(cachedValue$$);\n\n        const read = async () => {\n            try {\n                isLoading$$.next(true);\n                const val = await handler.read();\n                cachedValue$$.next(val);\n                return val;\n            } catch (e) {\n                onError$$.next(e);\n                throw e;\n            } finally {\n                isLoading$$.next(false);\n            }\n        };\n\n        const methods = methodKeys.reduce(\n            (acc, k) => {\n                acc[k] = async (input: any) => {\n                    if (typeof handler.methods[k] === 'function') {\n                        try {\n                            isLoading$$.next(true);\n                            const val = await (handler.methods[k] as any)(input);\n                            await read();\n                            return val;\n                        } catch (e) {\n                            onError$$.next(e);\n                            throw e;\n                        } finally {\n                            isLoading$$.next(false);\n                        }\n                    }\n                    return Promise.resolve();\n                };\n                return acc;\n            },\n            {} as {\n                [k in keyof APIHandler<APIMethods, TResource>['methods']]: any;\n            },\n        );\n\n        const obAPI: APIObservable<APIMethods, TResource> = {\n            ...methods,\n            read: () => firstValueFrom(valueStream$),\n            readSync: () => {\n                const value = cachedValue$$.getValue();\n                if (value === initSymbol) {\n                    if (onError$$.getValue() !== undefined) {\n                        setTimeout(read, 100);\n                        throw onError$$.getValue();\n                    } else {\n                        throw firstValueFrom(\n                            valueStream$.pipe(\n                                raceWith(\n                                    obAPI.onError$.pipe(\n                                        map((e) => {\n                                            throw e;\n                                        }),\n                                    ),\n                                ),\n                            ),\n                        );\n                    }\n                }\n                return value as TResource;\n            },\n            readForce: read,\n            isLoading$: isLoading$$.pipe(distinctUntilChanged(), shareReplay(1)),\n            onUpdate$: valueStream$.pipe(shareReplay(1)),\n            onError$: onError$$.pipe(skip(1), shareReplay(1)),\n        };\n\n        obAPIStore[handler.name] = obAPI;\n\n        autoread && read().catch(() => {});\n\n        return obAPI;\n    }\n}\n","import browser from '~B/browser/browser';\n\nexport function getExtensionPage(page: string): string {\n    return browser.runtime.getURL('/src/ui/assets/pages/') + page;\n}\n"],"names":["log","trace","debug","info","warn","error","d","b","__extends","__awaiter","__generator","__values","__read","from","__await","__asyncGenerator","__asyncValues","v","Subscription","Subscriber","ConsumerObserver","SafeSubscriber","Observable","observable","Symbol_observable","OperatorSubscriber","err","Subject","AnonymousSubject","BehaviorSubject","ReplaySubject","Symbol_iterator","process","iterator","config","i","logger","global","module","this","isThenable","proxyTarget","value","message","browser","uuidv4","ExtData","extendStatics","DecodeError","ExtensionCodec","encode","decode","context","Encoder","CachedKeyDecoder","Decoder","RequestMethod","fetcher","response","__assign","SessionStatus","crypto","Logger","States","SyncPromise","Scope","Session","Hub","exception","extension_manifest","endpoint","ObservableAPIStore"],"mappings":"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"}
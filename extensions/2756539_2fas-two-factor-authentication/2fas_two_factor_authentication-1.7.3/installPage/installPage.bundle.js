!function(){var e=[function(e,t){var n,r,o;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[e],n=function(e){"use strict";if(!(globalThis.chrome&&globalThis.chrome.runtime&&globalThis.chrome.runtime.id))throw new Error("This script should only be loaded in a browser extension.");if(globalThis.browser&&globalThis.browser.runtime&&globalThis.browser.runtime.id)e.exports=globalThis.browser;else{const t="The message port closed before a response was received.",n=e=>{const n={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(n).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class r extends WeakMap{constructor(e,t=void 0){super(t),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}const o=e=>e&&"object"==typeof e&&"function"==typeof e.then,s=(t,n)=>(...r)=>{e.runtime.lastError?t.reject(new Error(e.runtime.lastError.message)):n.singleCallbackArg||r.length<=1&&!1!==n.singleCallbackArg?t.resolve(r[0]):t.resolve(r)},i=e=>1==e?"argument":"arguments",a=(e,t)=>function(n,...r){if(r.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${i(t.minArgs)} for ${e}(), got ${r.length}`);if(r.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${i(t.maxArgs)} for ${e}(), got ${r.length}`);return new Promise(((o,i)=>{if(t.fallbackToNoCallback)try{n[e](...r,s({resolve:o,reject:i},t))}catch(s){console.warn(`${e} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,s),n[e](...r),t.fallbackToNoCallback=!1,t.noCallback=!0,o()}else t.noCallback?(n[e](...r),o()):n[e](...r,s({resolve:o,reject:i},t))}))},c=(e,t,n)=>new Proxy(t,{apply(t,r,o){return n.call(r,e,...o)}});let l=Function.call.bind(Object.prototype.hasOwnProperty);const u=(e,t={},n={})=>{let r=Object.create(null),o={has(t,n){return n in e||n in r},get(o,s,i){if(s in r)return r[s];if(!(s in e))return;let d=e[s];if("function"==typeof d)if("function"==typeof t[s])d=c(e,e[s],t[s]);else if(l(n,s)){let t=a(s,n[s]);d=c(e,e[s],t)}else d=d.bind(e);else if("object"==typeof d&&null!==d&&(l(t,s)||l(n,s)))d=u(d,t[s],n[s]);else{if(!l(n,"*"))return Object.defineProperty(r,s,{configurable:!0,enumerable:!0,get(){return e[s]},set(t){e[s]=t}}),d;d=u(d,t[s],n["*"])}return r[s]=d,d},set(t,n,o,s){return n in r?r[n]=o:e[n]=o,!0},defineProperty(e,t,n){return Reflect.defineProperty(r,t,n)},deleteProperty(e,t){return Reflect.deleteProperty(r,t)}},s=Object.create(e);return new Proxy(s,o)},d=e=>({addListener(t,n,...r){t.addListener(e.get(n),...r)},hasListener(t,n){return t.hasListener(e.get(n))},removeListener(t,n){t.removeListener(e.get(n))}}),g=new r((e=>"function"!=typeof e?e:function(t){const n=u(t,{},{getContent:{minArgs:0,maxArgs:0}});e(n)})),f=new r((e=>"function"!=typeof e?e:function(t,n,r){let s,i,a=!1,c=new Promise((e=>{s=function(t){a=!0,e(t)}}));try{i=e(t,n,s)}catch(e){i=Promise.reject(e)}const l=!0!==i&&o(i);if(!0!==i&&!l&&!a)return!1;const u=e=>{e.then((e=>{r(e)}),(e=>{let t;t=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",r({__mozWebExtensionPolyfillReject__:!0,message:t})})).catch((e=>{console.error("Failed to send onMessage rejected reply",e)}))};return u(l?i:c),!0})),m=({reject:n,resolve:r},o)=>{e.runtime.lastError?e.runtime.lastError.message===t?r():n(new Error(e.runtime.lastError.message)):o&&o.__mozWebExtensionPolyfillReject__?n(new Error(o.message)):r(o)},p=(e,t,n,...r)=>{if(r.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${i(t.minArgs)} for ${e}(), got ${r.length}`);if(r.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${i(t.maxArgs)} for ${e}(), got ${r.length}`);return new Promise(((e,t)=>{const o=m.bind(null,{resolve:e,reject:t});r.push(o),n.sendMessage(...r)}))},h={devtools:{network:{onRequestFinished:d(g)}},runtime:{onMessage:d(f),onMessageExternal:d(f),sendMessage:p.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:p.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},b={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return n.privacy={network:{"*":b},services:{"*":b},websites:{"*":b}},u(e,h,n)};e.exports=n(chrome)}},void 0===(o="function"==typeof n?n.apply(t,r):n)||(e.exports=o)},function(e,t,n){"use strict";const r=n(0),o=n(106),s={WebSocketTimeout:3,ResendPushTimeout:10,ExtensionVersion:"1.7.3",Texts:{Error:{General:{Title:r.i18n.getMessage("errorGeneralTitle")||o.errorGeneralTitle,Message:r.i18n.getMessage("errorGeneralMessage")||o.errorGeneralMessage},UndefinedError:{Title:r.i18n.getMessage("errorUndefinedErrorTitle")||o.errorUndefinedErrorTitle,Message:r.i18n.getMessage("errorUndefinedErrorMessage")||o.errorUndefinedErrorMessage},Timeout:{Title:r.i18n.getMessage("errorTimeoutTitle")||o.errorTimeoutTitle,Message:r.i18n.getMessage("errorTimeoutMessage")||o.errorTimeoutMessage},PushExpired:e=>({Title:(r.i18n.getMessage("errorPushExpiredTitle")||o.errorPushExpiredTitle).replace("DOMAIN",e),Message:r.i18n.getMessage("errorPushExpiredMessage")||o.errorPushExpiredMessage}),WebSocket:{Title:r.i18n.getMessage("errorWebSocketTitle")||o.errorWebSocketTitle,Message:r.i18n.getMessage("errorWebSocketMessage")||o.errorWebSocketMessage},OnInstallError:{Title:r.i18n.getMessage("errorOnInstallErrorTitle")||o.errorOnInstallErrorTitle,Message:r.i18n.getMessage("errorOnInstallErrorMessage")||o.errorOnInstallErrorMessage},ExtNameRequired:{Title:r.i18n.getMessage("errorExtNameRequiredTitle")||o.errorExtNameRequiredTitle,Message:r.i18n.getMessage("errorExtNameRequiredMessage")||o.errorExtNameRequiredMessage},ExtNameMinLength:{Title:r.i18n.getMessage("errorExtNameMinLengthTitle")||o.errorExtNameMinLengthTitle,Message:r.i18n.getMessage("errorExtNameMinLengthMessage")||o.errorExtNameMinLengthMessage},ExtNameMaxLength:{Title:r.i18n.getMessage("errorExtNameMaxLengthTitle")||o.errorExtNameMaxLengthTitle,Message:r.i18n.getMessage("errorExtNameMaxLengthMessage")||o.errorExtNameMaxLengthMessage},ConfigFirst:{Title:r.i18n.getMessage("errorConfigFirstTitle")||o.errorConfigFirstTitle,Message:r.i18n.getMessage("errorConfigFirstMessage")||o.errorConfigFirstMessage},RemoveDeviceBadData:{Title:r.i18n.getMessage("errorRemoveDeviceBadDataTitle")||o.errorRemoveDeviceBadDataTitle,Message:r.i18n.getMessage("errorRemoveDeviceBadDataMessage")||o.errorRemoveDeviceBadDataMessage},RemoveDomainBadData:{Title:r.i18n.getMessage("errorRemoveDomainBadDataTitle")||o.errorRemoveDomainBadDataTitle,Message:r.i18n.getMessage("errorRemoveDomainBadDataMessage")||o.errorRemoveDomainBadDataMessage},StorageCorrupted:{Title:r.i18n.getMessage("errorStorageCorruptedTitle")||o.errorStorageCorruptedTitle,Message:r.i18n.getMessage("errorStorageCorruptedMessage")||o.errorStorageCorruptedMessage},InactiveTab:{Title:r.i18n.getMessage("errorInactiveTabTitle")||o.errorInactiveTabTitle,Message:r.i18n.getMessage("errorInactiveTabMessage")||o.errorInactiveTabMessage},LackOfTab:{Title:r.i18n.getMessage("errorLackOfTabTitle")||o.errorLackOfTabTitle,Message:r.i18n.getMessage("errorLackOfTabMessage")||o.errorLackOfTabMessage},InputNotExist:{Title:r.i18n.getMessage("errorInputNotExistTitle")||o.errorInputNotExistTitle,Message:r.i18n.getMessage("errorInputNotExistMessage")||o.errorInputNotExistMessage},StorageIntegrity:{Title:r.i18n.getMessage("errorStorageIntegrityTitle")||o.errorStorageIntegrityTitle,Message:r.i18n.getMessage("errorStorageIntegrityMessage")||o.errorStorageIntegrityMessage}},Warning:{TooSoon:e=>({Title:r.i18n.getMessage("warningTooSoonTitle")||o.warningTooSoonTitle,Message:(r.i18n.getMessage("warningTooSoonMessage")||o.warningTooSoonMessage).replace("DIFF",10-Math.round(e))})},Success:{PushSent:{Title:r.i18n.getMessage("successPushSentTitle")||o.successPushSentTitle,Message:r.i18n.getMessage("successPushSentMessage")||o.successPushSentMessage},PushSentClipboard:{Title:r.i18n.getMessage("successPushSentClipboardTitle")||o.successPushSentClipboardTitle,Message:r.i18n.getMessage("successPushSentClipboardMessage")||o.successPushSentClipboardMessage},ExtNameUpdated:{Title:r.i18n.getMessage("successExtNameUpdatedTitle")||o.successExtNameUpdatedTitle,Message:r.i18n.getMessage("successExtNameUpdatedMessage")||o.successExtNameUpdatedMessage},DeviceDisconnected:{Title:r.i18n.getMessage("successDeviceDisconnectedTitle")||o.successDeviceDisconnectedTitle,Message:r.i18n.getMessage("successDeviceDisconnectedMessage")||o.successDeviceDisconnectedMessage},SafariReset:{Title:r.i18n.getMessage("successSafariResetTitle")||o.successSafariResetTitle,Message:r.i18n.getMessage("successSafariResetMessage")||o.successSafariResetMessage},DomainExcluded:{Title:r.i18n.getMessage("successDomainExcludedTitle")||o.successDomainExcludedTitle,Message:r.i18n.getMessage("successDomainExcludedMessage")||o.successDomainExcludedMessage},DomainExcludedRemoved:{Title:r.i18n.getMessage("successDomainExcludedRemovedTitle")||o.successDomainExcludedRemovedTitle,Message:r.i18n.getMessage("successDomainExcludedRemovedMessage")||o.successDomainExcludedRemovedMessage}},Info:{NativeNotifications:{Title:r.i18n.getMessage("infoNativeNotificationsTitle")||o.infoNativeNotificationsTitle,Message:r.i18n.getMessage("infoNativeNotificationsMessage")||o.infoNativeNotificationsMessage},EnabledNativeNotifications:r.i18n.getMessage("infoEnabledNativeNotifications")||o.infoEnabledNativeNotifications,UnsupportedProtocol:{Title:r.i18n.getMessage("infoUnsupportedProtocolTitle")||o.infoUnsupportedProtocolTitle,Message:r.i18n.getMessage("infoUnsupportedProtocolMessage")||o.infoUnsupportedProtocolMessage},BrowserActionWithoutTab:{Title:r.i18n.getMessage("infoBrowserActionWithoutTabTitle")||o.infoBrowserActionWithoutTabTitle,Message:r.i18n.getMessage("infoBrowserActionWithoutTabMessage")||o.infoBrowserActionWithoutTabMessage},CopiedToClipboard:{Title:r.i18n.getMessage("infoCopiedToClipboardTitle")||o.infoCopiedToClipboardTitle,Message:r.i18n.getMessage("infoCopiedToClipboardMessage")||o.infoCopiedToClipboardMessage},Test:{Title:r.i18n.getMessage("infoTestTitle")||o.infoTestTitle,Message:r.i18n.getMessage("infoTestMessage")||o.infoTestMessage}},Token:{Header:r.i18n.getMessage("tokenHeader")||o.tokenHeader,Copy:r.i18n.getMessage("tokenCopy")||o.tokenCopy,Copied:r.i18n.getMessage("tokenCopied")||o.tokenCopied,Description:r.i18n.getMessage("tokenDescription")||o.tokenDescription}}};e.exports=s},function(e){"use strict";e.exports={installPage:{configured:".twofas-install-page-configured",newDevice:".twofas-install-page-new-device",welcomeHeader:"h1.twofas-js-welcome-header",container:{app:".twofas-install-page-container-blocks-app",qr:".twofas-install-page-container-blocks-qr",handler:".js-twofas-install-handler"},qr:{timeout:".twofas-qr-container-timeout",regenerate:".js-twofas-regenerate-qr",imgs:"img.twofas-js-qrcode",manual:".twofas-js-qr-manual p"}},optionsPage:{confirmModal:{element:".js-twofas-confirm-modal",cancel:".js-twofas-confirm-modal-cancel",confirm:".js-twofas-confirm-modal-confirm",header:".js-twofas-confirm-modal-header",text:".js-twofas-confirm-modal-text"},domainModal:{element:".js-twofas-domain-modal",cancel:".js-twofas-domain-modal-cancel",form:".js-twofas-domain-modal-form",input:".js-twofas-domain-modal-input",validation:".js-twofas-domain-modal-validation"},shortcut:{edit:".js-twofas-shortcut-edit",editText:".js-twofas-shortcut-edit-text",editBox:".js-twofas-shortcut-edit-box",editBoxBtn:".twofas-shortcut-edit-box-btn",editBoxPlus:".twofas-shortcut-edit-box-plus",info:".js-twofas-shortcut-info",tooltip:".js-twofas-shortcut-tooltip",close:".js-twofas-shortcut-close",description:".js-twofas-shortcut-description"},advanced:{header:".js-twofas-advance-header",content:".js-twofas-advance-content"},pin:{gotIt:".js-twofas-pin-info-got-it",prev:".js-twofas-pin-info-prev",next:".js-twofas-pin-info-next",info:".twofas-options-page-pin-info",slider:".js-twofas-pin-info-slider"},hamburger:{element:".js-twofas-options-menu-hamburger",content:".js-twofas-options-menu-content"},autoSubmit:{toggle:"input#twofas-auto-submit-switch",list:".js-twofas-auto-submit-excluded-domain-list",exclude:".js-twofas-auto-submit-excluded-domain-exclude",add:".js-twofas-auto-submit-excluded-domain-add",importDefault:".js-twofas-auto-submit-excluded-domain-import-default"},menuLink:".js-twofas-menu-link",extVersion:"span.twofas-ext-version",contextMenuInput:"input#twofas-context-menu",logsInput:"input#twofas-logs",testNotification:".js-twofas-send-test-notification",devicesList:".js-twofas-device-list",content:".js-twofas-options-content",toggle:".twofas-toggle",safariReset:".js-twofas-safari-reset",integrityError:".js-twofas-integrity-error"},notification:{container:"div.twofas-be-notifications",notification:"div.twofas-be-notification",visible:"div.twofas-be-notification.visible"},extName:{input:"input.js-twofas-extension-name",updateForm:".js-twofas-extension-name-update",updateBtn:".js-twofas-extension-name-update button",error:".js-twofas-extension-name-error"},preload:".preload"}},function(e,t,n){"use strict";const{sendFrontEndPushAction:r,showFrontEndPush:o,showNativePush:s,showNativePushWithoutTimeout:i}=n(107),a=n(8),c=n(2);e.exports=class{static show(e){let t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];return a(["nativePush"]).then((i=>i.nativePush?s(e,n):t?r(e,t,!0):o(e,!0)))}static showWithoutTimeout(e){let t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return a(["nativePush"]).then((n=>n.nativePush?i(e):t?r(e,t,!1):o(e,!1)))}static clearAll(){const e=document.querySelector(c.notification.container).querySelectorAll(c.notification.notification);if(e)return Array.from(e).forEach((e=>{e.classList.remove("visible"),setTimeout((()=>{e.classList.add("hidden")}),300)}))}}},function(e,t,n){"use strict";const{loadFromLocalStorage:r,saveToLocalStorage:o}=n(13),s=n(1),i=n(9),a=e=>e.replaceAll("http","h**p").replaceAll("://",":**").replaceAll("www","w*w").replaceAll(".","*");e.exports=async function(e){let t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,c=2<arguments.length?arguments[2]:void 0,l=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"",u="Unknown Error",d={logID:n};switch(console.error(n,l),console.dir(c),!0){case c instanceof Event:u="EventError",d.errorInfo={currentTargetURL:c?.currentTarget?.url||"",path:c?.path||[],type:c?.type||""};break;case c instanceof Error:case c instanceof SyntaxError:case c instanceof ReferenceError:case c instanceof TypeError:u=c.name||"Error",d.errorInfo={message:c?.message||"",stack:c?.stack||"",toString:c?.toString()||"",cause:c?.cause||""};break;default:u=c?.message||"Unknown Error",d.errorInfo=c}try{t=await r(["logging","extensionID","browserInfo"])}catch(e){console.error(e)}if("logging"in t||(t=await o({logging:!1},t)),!t.logging)return!1;if("Firefox"===t?.browserInfo?.browser_name&&"105.0"===t?.browserInfo?.browser_version&&14===n||"Chrome"===t?.browserInfo?.browser_name&&"107"===t?.browserInfo?.browser_version&&14===n||"Chrome"===t?.browserInfo?.browser_name&&"107.0.0.0"===t?.browserInfo?.browser_version&&14===n||d?.errorInfo?.message?.includes("FILE_ERROR_NO_SPACE")||407===d?.errorInfo.status||d?.errorInfo?.message?.includes("An unexpected error occurred")||d?.errorInfo?.message?.includes("Refused to run the JavaScript URL")||d?.errorInfo?.message?.includes("QuotaExceededError: storage.local API call exceeded its quota limitations")||d?.errorInfo?.statusText?.includes("Proxy Authentication Required"))return!1;if(d.errorType=c?.constructor?.name||"",d.extensionVersion=s.ExtensionVersion,d.browserInfo=t.browserInfo,d.url=a(l),!l.includes("http")&&"undefined"!=typeof window&&window?.location?.href)try{d.frontUrl=a(window?.location?.href)}catch(e){}return(new i).storeLog(t.extensionID,e,u,d).then((()=>{t=null,u=null,d=null}))}},function(e,t,n){const r=n(95),o=n(96);t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!r.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]},t.getBestModeForData=function(e){return o.testNumeric(e)?t.NUMERIC:o.testAlphanumeric(e)?t.ALPHANUMERIC:o.testKanji(e)?t.KANJI:t.BYTE},t.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},t.isValid=function(e){return e&&e.bit&&e.ccBits},t.from=function(e,n){if(t.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+e)}}(e)}catch(e){return n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.unsafeStringify=a;var r,o=(r=n(23))&&r.__esModule?r:{default:r};for(var s=[],i=0;i<256;++i)s.push((i+256).toString(16).slice(1));function a(e,t=0){return(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase()}t.default=function(e,t=0){var n=a(e,t);if(!(0,o.default)(n))throw TypeError("Stringified UUID is invalid");return n}},function(e,t){let n;const r=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];t.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},t.getSymbolTotalCodewords=function(e){return r[e]},t.getBCHDigit=function(e){let t=0;for(;0!==e;)t++,e>>>=1;return t},t.setToSJISFunction=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');n=e},t.isKanjiModeEnabled=function(){return void 0!==n},t.toSJIS=function(e){return n(e)}},function(e,t,n){"use strict";const r=n(0);e.exports=e=>r.storage.local.get(e).catch((e=>{throw console.error({err:e}),new Error(e)}))},function(e){"use strict";e.exports=class{REST_API_URL="https://api2.2fas.com";onSuccess(e){if(200<=e.status&&400>e.status)try{return e.json()}catch(e){return Promise.reject(e)}return Promise.reject(e)}async onError(e){const t={status:e.status,statusText:e.statusText};if(400<=e.status&&500>e.status)try{t.content=await e.json()}catch(n){t.content=e}else t.content=e;return Promise.reject(t)}ignoreError(){return Promise.resolve()}createExtensionInstance(e){return fetch(`${this.REST_API_URL}/browser_extensions`,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(e)}).then(this.onSuccess).catch(this.onError)}updateBrowserExtension(e,t){return fetch(`${this.REST_API_URL}/browser_extensions/${e}`,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"PUT",body:JSON.stringify(t)}).then(this.onSuccess).catch(this.onError)}getAllPairedDevices(e){return fetch(`${this.REST_API_URL}/browser_extensions/${e}/devices`,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"GET"}).then(this.onSuccess).catch(this.onError)}removePairedDevice(e,t){return fetch(`${this.REST_API_URL}/browser_extensions/${e}/devices/${t}`,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"DELETE"}).then(this.onSuccess).catch(this.onError)}request2FAToken(e,t){return fetch(`${this.REST_API_URL}/browser_extensions/${e}/commands/request_2fa_token`,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({domain:t})}).then(this.onSuccess).catch(this.onError)}close2FARequest(e,t){const n={status:!(2<arguments.length&&void 0!==arguments[2])||arguments[2]?"completed":"terminated"};return fetch(`${this.REST_API_URL}/browser_extensions/${e}/2fa_requests/${t}/commands/close_2fa_request`,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(n)}).then(this.onSuccess).catch(this.ignoreError)}storeLog(e,t,n,r){return t&&["info","warning","error","debug"].includes(t)?fetch(`${this.REST_API_URL}/browser_extensions/${e}/commands/store_log`,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({level:t,message:n,context:JSON.stringify(r)})}).then(this.onSuccess).catch(this.ignoreError):Promise.reject(new Error("Invalid log level"))}generateQRLink(e){return`twofas_c://${e}`}}},function(e){"use strict";e.exports=()=>window.location!==window.parent.location},function(e){"use strict";e.exports=()=>["search","buscar","zoeken","rechercher","suchen","pencarian","cerca","szukaj","procurar","ara","пошук","close","fechar","sluiten","fermer","schließen","tutup","chiudi","zamknij","cerrar","kapat","закрити","join","meedoen","rejoindre","verbinden","bergabung","giuntura","dołącz","juntar","unirse","katılmak","приєднатися","back","rug","dos","zurück","kembali","indietro","wróć","cofnij","voltar","atrás","geri","назад","cancel","cancelar","annuleren","annuler","abbrechen","membatalkan","annulla","anuluj","i̇ptal","відміна","register","registre","registrieren","daftar","registrati","zarejestruj","rejestracja","registro","kayıt olmak","зареєструватися","sign up","aanmelden","s'inscrire","mendaftar","iscrizione","inscrever-se","inscribirse","üye olmak"]},function(e,t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2},t.isValid=function(e){return e&&void 0!==e.bit&&e.bit>=0&&e.bit<4},t.from=function(e,n){if(t.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+e)}}(e)}catch(e){return n}}},function(e,t,n){"use strict";t.loadFromLocalStorage=n(8),t.saveToLocalStorage=n(14),t.clearLocalStorage=n(60),t.removeFromLocalStorage=n(61)},function(e,t,n){"use strict";const r=n(0);e.exports=function(e){let t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return r.storage.local.set(e).then((()=>Object.assign(t,e))).catch((e=>{throw console.error({err:e}),new Error(e)}))}},function(e){"use strict";e.exports=e=>{1===e.ws.readyState&&e.ws.close()}},function(e){"use strict";e.exports=["confirm","send","sign in","verify code","verify","submit","potwierdź","wyślij","zaloguj","zweryfikuj","zweryfikuj kod","weryfikuj","confirme","enviar","entrar na sua conta","verificar código","verificar","bevestig","versturen","inloggen","verifiëren code","verifiëren","confirmer","envoyer","connecter","vérifier code","vérifier","bestätige","senden","anmelden","überprüfen code","konfirmasi","kirim","masuk","verifikasi kode","conferma","invia","accedi","verifica codice","confirma","enviar","entrar","verificar código","confirma","enviar","ingresar","verificar código","onaylayın","gönder","oturum aç","doğrula kodu","підтвердьте","надіслати","увійти","підтвердьте код","next","volgende","suivant","nächster","επόμενος","berikutnya","prossimo","następny","dalej","próximo","siguiente","sonraki","наступний","next step","volgende stap","prochaine étape","nächster Schritt","επόμενο βήμα","langkah selanjutnya","prossimo passo","następny krok","próximo passo","siguiente paso","sonraki adım","наступний крок"]},function(e){"use strict";e.exports=(e,t)=>new Promise((n=>{setTimeout((()=>(e(),n())),t)}))},function(e,t,n){"use strict";const r=n(19);e.exports=()=>{let e=['button[type="submit"]','input[type="submit"]'];const t=[];return e=e.map((e=>e+r().join(""))),0>=t.length?e.join(","):e.join(",")+","+t.join(",")}},function(e){"use strict";e.exports=()=>[':not([data-role*="search"])',":not(#search-button)",":not(#search)",':not([class*="dropdown"])',':not([class*="cancel"])',':not([class*="hidden"])',':not([class*="checkbox"])',':not([class*="mail"])',':not([class*="phone"])',":not([disabled])",':not([style*="display:none"])',':not([style*="opacity:0"])',':not([style*="visibility:hidden"])',':not([class*="twofas"])',":not(#terminate_session_submit)",":not(#signin-button)"]},function(e,t,n){"use strict";const r=n(19);e.exports=()=>{let e=['button[id*="submit"]',"button.q-btn.q-btn-primary",'button[type="button"][form="login-form"]#login-button.btn.btn-large.btn-primary.btn-icon-text','button[data-action="totp-submit"]','input[type="submit"][data-action="totp-submit"]','input[type="button"][data-action="totp-submit"]','div[role="button"][syno-id="otp-panel-next-btn"]','button[data-e2e="btn-mfa-verfiy"]',"button.mfa-verify-button"];const t=["a#loginButton.btn.btn-primary"];return e=e.map((e=>e+r().join(""))),0>=t.length?e.join(","):e.join(",")+","+t.join(",")}},function(e){"use strict";e.exports=e=>{e.notification.classList.remove("visible"),setTimeout((()=>{e.notification.classList.add("hidden"),e=null}),300)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(23))&&r.__esModule?r:{default:r};t.default=function(e){if(!(0,o.default)(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(114))&&r.__esModule?r:{default:r};t.default=function(e){return"string"==typeof e&&o.default.test(e)}},function(e,t){function n(e){if("number"==typeof e&&(e=e.toString()),"string"!=typeof e)throw new Error("Color should be defined as hex string");let t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw new Error("Invalid hex color: "+e);3!==t.length&&4!==t.length||(t=Array.prototype.concat.apply([],t.map((function(e){return[e,e]})))),6===t.length&&t.push("F","F");const n=parseInt(t.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+t.slice(0,6).join("")}}t.getOptions=function(e){e||(e={}),e.color||(e.color={});const t=void 0===e.margin||null===e.margin||e.margin<0?4:e.margin,r=e.width&&e.width>=21?e.width:void 0,o=e.scale||4;return{width:r,scale:r?4:o,margin:t,color:{dark:n(e.color.dark||"#000000ff"),light:n(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},t.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},t.getImageWidth=function(e,n){const r=t.getScale(e,n);return Math.floor((e+2*n.margin)*r)},t.qrToImageData=function(e,n,r){const o=n.modules.size,s=n.modules.data,i=t.getScale(o,r),a=Math.floor((o+2*r.margin)*i),c=r.margin*i,l=[r.color.light,r.color.dark];for(let t=0;t<a;t++)for(let n=0;n<a;n++){let u=4*(t*a+n),d=r.color.light;if(t>=c&&n>=c&&t<a-c&&n<a-c){d=l[s[Math.floor((t-c)/i)*o+Math.floor((n-c)/i)]?1:0]}e[u++]=d.r,e[u++]=d.g,e[u++]=d.b,e[u]=d.a}}},function(e,t,n){"use strict";const r=n(0);e.exports=()=>{let e=document.querySelectorAll("[data-i18n]");e.forEach((e=>{let t=e.localName.toLowerCase(),n=e.getAttribute("data-i18n"),o=r.i18n.getMessage(n);return o?("img"===t?e.setAttribute("alt",o):"input"===t?e.setAttribute("placeholder",o):e.innerText=o,t=null,n=null,void(o=null)):(console.log(`i18n: ${n} not found`),!1)})),e=null}},function(e,t,n){"use strict";const r=n(10),{createElement:o,createSVGElement:s,createTextElement:i}=n(27),a=n(28),c=n(2);e.exports=e=>{if(r())return!1;let t={container:document.querySelector(c.notification.container),notification:null,firstCol:null,logo:null,secondCol:null,header:null,h3:null,notificationText:null,p:null};t.container||(t.container=o("div","twofas-be-notifications"),window.top.document.body.appendChild(t.container)),t.notification=o("div","twofas-be-notification"),t.firstCol=o("div","twofas-be-col"),t.logo=s(a),t.firstCol.appendChild(t.logo),t.notification.appendChild(t.firstCol),t.secondCol=o("div","twofas-be-col"),t.header=o("div","twofas-be-notification-header"),t.h3=i("h3",e.title),t.header.appendChild(t.h3),t.secondCol.appendChild(t.header),t.notificationText=o("div","twofas-be-notification-text"),t.p=i("p",e.message),t.notificationText.appendChild(t.p),t.secondCol.appendChild(t.notificationText),t.notification.appendChild(t.secondCol),t.container.appendChild(t.notification),setTimeout((()=>t.notification.classList.add("visible")),300),window.addEventListener("beforeunload",(()=>{t&&t.notification&&t.notification.classList.remove("visible"),setTimeout((()=>{t&&t.notification&&(t.notification.classList.add("hidden"),t=null)}),300)})),e.timeout&&(setTimeout((()=>{t&&t.notification&&t.notification.classList.remove("visible")}),5300),setTimeout((()=>{t&&t.notification&&(t.notification.classList.add("hidden"),t=null)}),5600))}},function(e,t,n){"use strict";t.createElement=n(52),t.createImageElement=n(53),t.createSVGElement=n(54),t.createTextElement=n(55)},function(e){"use strict";e.exports='<svg width="28" height="34" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M23.064 28.05 15.179 33.3a1.873 1.873 0 0 1-2.068.01L5.036 28.04C1.89 25.983 0 22.512 0 18.783V6.015c0-1.67 1.14-3.135 2.768-3.57L10.153.497a15.14 15.14 0 0 1 7.694 0l7.385 1.948A3.699 3.699 0 0 1 28 6.015v12.837c.01 3.69-1.849 7.13-4.936 9.198Z" fill="#E20613"/><path d="M20.535 11.256H7.465c-1.03 0-1.869-.83-1.869-1.85 0-1.018.84-1.849 1.869-1.849h13.07c1.03 0 1.87.83 1.87 1.85a1.85 1.85 0 0 1-1.87 1.849ZM14 14.955c0-1.019-.84-1.85-1.868-1.85H7.465c-1.03 0-1.869.831-1.869 1.85 0 1.018.84 1.849 1.869 1.849h4.667c1.039 0 1.868-.83 1.868-1.85Zm-4.666 5.548c0-1.019-.84-1.85-1.87-1.85-1.028 0-1.868.831-1.868 1.85 0 1.018.84 1.85 1.869 1.85 1.04 0 1.869-.832 1.869-1.85Z" fill="#fff"/></svg>'},function(e,t,n){"use strict";const r=n(2);e.exports=()=>{document.querySelector(r.installPage.newDevice).classList.add("hidden"),document.querySelector(r.installPage.configured).classList.remove("hidden"),"undefined"!=typeof window&&window.scrollTo(0,0)}},function(e,t,n){"use strict";const r=n(9),{loadFromLocalStorage:o,saveToLocalStorage:s}=n(13),i=n(4);e.exports=async(e,t)=>{let n;try{n=await o([`tabData-${e}`,"extensionID"])}catch(e){return i("error",30,e)}return!(!n||!n[`tabData-${e}`]?.requestID||t!==n[`tabData-${e}`]?.requestID)&&(new r).close2FARequest(n.extensionID,n[`tabData-${e}`].requestID,!0).then((()=>{const t=structuredClone(n[`tabData-${e}`]);return delete t.requestID,s({[`tabData-${e}`]:t})})).then((()=>{n=null})).catch((t=>i("error",30,t,n[`tabData-${e}`]?.url)))}},function(e,t,n){"use strict";const r=n(0),o=n(1),s=n(3);e.exports=(e,t)=>r.tabs.sendMessage(e,t).then((t=>!!t&&("notification"===t?.status&&s.show({Title:t.title,Message:t.message},e)))).catch((t=>{if(t.toString().includes("Receiving end does not exist"))return s.show(o.Texts.Error.LackOfTab,e)}))},function(e){"use strict";e.exports=e=>{let t=0;return Array.isArray(e)&&!(0>=e?.length)&&void e.map((e=>!e?.dataset?.twofasElementNumber&&(e.dataset.twofasElementNumber=t,t++,e)))}},function(e,t,n){"use strict";const{loadFromLocalStorage:r,saveToLocalStorage:o}=n(13);e.exports=(e,t)=>(e&&"function"==typeof e?.removeAttribute&&e.removeAttribute("data-twofas-input"),r([`tabData-${t}`]).then((e=>!(e[`tabData-${t}`]&&e[`tabData-${t}`].lastFocusedInput)||(delete e[`tabData-${t}`].lastFocusedInput,o({[`tabData-${t}`]:e[`tabData-${t}`]})))).catch((()=>{})))},function(e){"use strict";e.exports=()=>{Array.from(document.querySelectorAll("*[data-twofas-element-number]")).forEach((e=>{"function"==typeof e?.removeAttribute&&e.removeAttribute("data-twofas-element-number")}))}},function(e,t,n){"use strict";const r=n(36),o=n(8),s=n(4),i=n(17),a=n(11);e.exports=(e,t)=>i((()=>{}),500).then((()=>o(["autoSubmitExcludedDomains","autoSubmitEnabled"]))).then((n=>{if(!n?.autoSubmitEnabled)return!1;const o=n.autoSubmitExcludedDomains||[];let s,i;try{if(s=new URL(t),i=s.hostname.replace(/^(www\.)?/,"").replace(/\/$/,""),o&&o?.includes(i))return!1}catch(e){}const c=parseInt(e?.dataset?.twofasElementNumber||-999),l=r(),u=e.closest("form");if(0===l.length)return!1;if(u){const e=Array.from(u.querySelectorAll('button[type="submit"], input[type="submit"]'));if(e&&1===e.length){const t=e[0]?.innerText;if(t&&"function"==typeof t.trim&&"function"==typeof t.toLowerCase&&!a().includes(t.trim().toLowerCase()))try{e[0].click()}catch(e){}else try{e[0].click()}catch(e){}return!0}}const d=[];l.forEach((e=>{d.push(parseInt(e?.dataset?.twofasElementNumber||-999))}));const g=l[((e,t)=>e.indexOf(e.reduce(((e,n)=>{const r=Math.abs(e-t),o=Math.abs(n-t);return r===o?e>n?e:n:o<r?n:e}))))(d,c)];if(g)try{g.click()}catch(e){}})).catch((async e=>{await s("error",46,e,"clickSubmit")}))},function(e,t,n){"use strict";const r=n(16),o=n(11),s=n(18),i=n(20);e.exports=()=>{let e=Array.from(document.querySelectorAll(s()));if(0>=e.length&&(e=Array.from(document.querySelectorAll(i()))),0>=e.length){e=Array.from(document.querySelectorAll('input[type="button"],button')).filter((e=>{const t=e?.innerText;return!(t&&"function"==typeof t.trim&&"function"==typeof t.toLowerCase)||r.includes(t.trim().toLowerCase())}))}return e.filter((e=>{const t=e?.innerText;return!(t&&"function"==typeof t.trim&&"function"==typeof t.toLowerCase&&o().includes(e.innerText.trim().toLowerCase()))}))}},function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(r)};var r=new Uint8Array(16)},function(e,t,n){"use strict";const r=n(16),o=n(11);e.exports=()=>{const e=n(39)();let t=n(18)(),s=!1,i=document.querySelectorAll(t).length;0>=i&&(t=n(20)()),i=document.querySelectorAll(t).length,0>=i&&(t="button",s=!0);const a=e.concat(",",t);let c=Array.from(document.querySelectorAll(a));return s&&(c=c.filter((e=>{if("input"===e.nodeName.toLowerCase())return!0;if("button"===e.nodeName.toLowerCase()){const t=e?.innerText;return!(t&&"function"==typeof t.trim&&"function"==typeof t.toLowerCase)||r.includes(t.trim().toLowerCase())}return!1}))),c.filter((e=>{const t=e?.innerText;return!(t&&"function"==typeof t.trim&&"function"==typeof t.toLowerCase&&o().includes(t.trim().toLowerCase()))}))}},function(e){"use strict";e.exports=()=>'input[type="text"]:not(read-only):not(readonly):not([read-only]):not([readonly]):not(list):not(-moz-read-only):not(disabled):not([disabled]):not([role="button"]):not([role="submit"]):not([data-e2e="input-username"]):not([data-e2e="input-password"]):not([data-e2e="input-search-language"]):not([id="vendor-search-handler"]):not([name="vendor-search-handler"]):not([id="username"]):not([name="username"]):not([placeholder="Search"]),input[type="number"]:not(read-only):not(readonly):not([read-only]):not([readonly]):not(list):not(-moz-read-only):not(disabled):not([disabled]):not([role="button"]):not([role="submit"]):not([data-e2e="input-username"]):not([data-e2e="input-password"]):not([data-e2e="input-search-language"]):not([id="vendor-search-handler"]):not([name="vendor-search-handler"]):not([id="username"]):not([name="username"]):not([placeholder="Search"]),input[type="tel"]:not(read-only):not(readonly):not([read-only]):not([readonly]):not(list):not(-moz-read-only):not(disabled):not([disabled]):not([role="button"]):not([role="submit"]):not([data-e2e="input-username"]):not([data-e2e="input-password"]):not([data-e2e="input-search-language"]):not([id="vendor-search-handler"]):not([name="vendor-search-handler"]):not([id="username"]):not([name="username"]):not([placeholder="Search"]),input:not([type]):not(read-only):not(readonly):not([read-only]):not([readonly]):not(list):not(-moz-read-only):not(disabled):not([disabled]):not([role="button"]):not([role="submit"]):not([data-e2e="input-username"]):not([data-e2e="input-password"]):not([data-e2e="input-search-language"]):not([id="vendor-search-handler"]):not([name="vendor-search-handler"]):not([id="username"]):not([name="username"]):not([placeholder="Search"]),input[type="password"]#security-code,input#mfacode,input[type="password"]#challenge,input[type="password"]#otp,textarea:not([type="hidden"]):not(read-only):not(readonly):not([read-only]):not([readonly]):not(-moz-read-only):not(disabled):not([disabled])'},function(e,t,n){"use strict";const r=n(0),o=n(4),s=n(17);e.exports=()=>r.runtime.sendMessage({action:"getTabData"}).catch((e=>e&&"function"==typeof e?.toString?"Error: Could not establish connection. Receiving end does not exist."===e.toString()?s((()=>r.runtime.sendMessage({action:"getTabData"}).catch((e=>o("error",14,e,"getTabData - second try")))),100):o("error",14,e,"getTabData - toString"):o("error",14,e,"getTabData - no error")))},function(e,t,n){"use strict";const r=n(42);e.exports=async(e,t)=>{for(const n of e)await n(),await r(t)}},function(e){"use strict";e.exports=async e=>new Promise((t=>setTimeout(t,e)))},function(e,t,n){"use strict";const r=n(1),o=n(21),s=n(14),i=n(4),a=n(3);e.exports=e=>s({notifications:!0}).then((()=>o(e))).catch((async e=>(await i("error",18,e),a.show(r.Texts.Error.UndefinedError))))},function(e,t,n){"use strict";const r=n(0);e.exports=e=>{e&&("function"==typeof e.preventDefault&&e.preventDefault(),"function"==typeof e.stopPropagation&&e.stopPropagation());r.runtime.connect({name:"2FAS"}).postMessage({action:"openBrowserPage",url:r.runtime.getURL("/optionsPage/optionsPage.html")})}},function(e,t,n){"use strict";const r=n(2),o=n(46);e.exports=(e,t,n)=>new Promise((()=>{const s=document.querySelectorAll(r.installPage.qr.imgs),i=document.querySelectorAll(r.installPage.qr.manual);return s&&s.forEach((t=>{t.src=e})),i&&i.forEach((e=>{e.innerText=n})),o(s,t)}))},function(e,t,n){"use strict";const r=n(1),o=n(3),s=n(2);e.exports=(e,t)=>{let n;const i=document.querySelectorAll(s.installPage.qr.timeout),a=document.querySelectorAll(s.installPage.qr.manual);i&&i.forEach((e=>{e.classList.remove("visible")})),a&&a.forEach((e=>{e.classList.remove("twofas-manual-timeout")})),e&&e.forEach((e=>{e.classList.remove("twofas-qrcode-timeout")}));const c=()=>{clearTimeout(n),t.connect(),e&&e.forEach((e=>{e.classList.remove("twofas-qrcode-timeout")})),a&&a.forEach((e=>{e.classList.remove("twofas-manual-timeout")})),i&&i.forEach((e=>{e.classList.remove("visible")})),o.clearAll(),n=setTimeout(l,6e4*r.WebSocketTimeout-100)},l=()=>{const t=document.querySelectorAll(s.installPage.qr.regenerate);return e&&e.forEach((e=>{e.classList.add("twofas-qrcode-timeout")})),a&&a.forEach((e=>{e.classList.add("twofas-manual-timeout")})),i&&i.forEach((e=>{e.classList.add("visible")})),!!t&&void t.forEach((e=>{const t=e.cloneNode(!0);e.parentNode.replaceChild(t,e),t.addEventListener("click",c)}))};return n=setTimeout(l,6e4*r.WebSocketTimeout-100),document.addEventListener("qrHidden",(()=>{clearTimeout(n),n=void 0})),n}},function(e,t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const n=3,r=3,o=40,s=10;function i(e,n,r){switch(e){case t.Patterns.PATTERN000:return(n+r)%2==0;case t.Patterns.PATTERN001:return n%2==0;case t.Patterns.PATTERN010:return r%3==0;case t.Patterns.PATTERN011:return(n+r)%3==0;case t.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(r/3))%2==0;case t.Patterns.PATTERN101:return n*r%2+n*r%3==0;case t.Patterns.PATTERN110:return(n*r%2+n*r%3)%2==0;case t.Patterns.PATTERN111:return(n*r%3+(n+r)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}}t.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},t.from=function(e){return t.isValid(e)?parseInt(e,10):void 0},t.getPenaltyN1=function(e){const t=e.size;let r=0,o=0,s=0,i=null,a=null;for(let c=0;c<t;c++){o=s=0,i=a=null;for(let l=0;l<t;l++){let t=e.get(c,l);t===i?o++:(o>=5&&(r+=n+(o-5)),i=t,o=1),t=e.get(l,c),t===a?s++:(s>=5&&(r+=n+(s-5)),a=t,s=1)}o>=5&&(r+=n+(o-5)),s>=5&&(r+=n+(s-5))}return r},t.getPenaltyN2=function(e){const t=e.size;let n=0;for(let r=0;r<t-1;r++)for(let o=0;o<t-1;o++){const t=e.get(r,o)+e.get(r,o+1)+e.get(r+1,o)+e.get(r+1,o+1);4!==t&&0!==t||n++}return n*r},t.getPenaltyN3=function(e){const t=e.size;let n=0,r=0,s=0;for(let o=0;o<t;o++){r=s=0;for(let i=0;i<t;i++)r=r<<1&2047|e.get(o,i),i>=10&&(1488===r||93===r)&&n++,s=s<<1&2047|e.get(i,o),i>=10&&(1488===s||93===s)&&n++}return n*o},t.getPenaltyN4=function(e){let t=0;const n=e.data.length;for(let r=0;r<n;r++)t+=e.data[r];return Math.abs(Math.ceil(100*t/n/5)-10)*s},t.applyMask=function(e,t){const n=t.size;for(let r=0;r<n;r++)for(let o=0;o<n;o++)t.isReserved(o,r)||t.xor(o,r,i(e,o,r))},t.getBestMask=function(e,n){const r=Object.keys(t.Patterns).length;let o=0,s=1/0;for(let i=0;i<r;i++){n(i),t.applyMask(i,e);const r=t.getPenaltyN1(e)+t.getPenaltyN2(e)+t.getPenaltyN3(e)+t.getPenaltyN4(e);t.applyMask(i,e),r<s&&(s=r,o=i)}return o}},function(e,t,n){const r=n(7),o=n(92),s=n(12),i=n(5),a=n(95),c=r.getBCHDigit(7973);function l(e,t){return i.getCharCountIndicator(e,t)+4}function u(e,t){let n=0;return e.forEach((function(e){const r=l(e.mode,t);n+=r+e.getBitsLength()})),n}t.from=function(e,t){return a.isValid(e)?parseInt(e,10):t},t.getCapacity=function(e,t,n){if(!a.isValid(e))throw new Error("Invalid QR Code version");void 0===n&&(n=i.BYTE);const s=8*(r.getSymbolTotalCodewords(e)-o.getTotalCodewordsCount(e,t));if(n===i.MIXED)return s;const c=s-l(n,e);switch(n){case i.NUMERIC:return Math.floor(c/10*3);case i.ALPHANUMERIC:return Math.floor(c/11*2);case i.KANJI:return Math.floor(c/13);case i.BYTE:default:return Math.floor(c/8)}},t.getBestVersionForData=function(e,n){let r;const o=s.from(n,s.M);if(Array.isArray(e)){if(e.length>1)return function(e,n){for(let r=1;r<=40;r++)if(u(e,r)<=t.getCapacity(r,n,i.MIXED))return r}(e,o);if(0===e.length)return 1;r=e[0]}else r=e;return function(e,n,r){for(let o=1;o<=40;o++)if(n<=t.getCapacity(o,r,e))return o}(r.mode,r.getLength(),o)},t.getEncodedBits=function(e){if(!a.isValid(e)||e<7)throw new Error("Invalid QR Code version");let t=e<<12;for(;r.getBCHDigit(t)-c>=0;)t^=7973<<r.getBCHDigit(t)-c;return e<<12|t}},function(e,t,n){const r=n(5),o=n(97),s=n(98),i=n(99),a=n(100),c=n(96),l=n(7),u=n(101);function d(e){return unescape(encodeURIComponent(e)).length}function g(e,t,n){const r=[];let o;for(;null!==(o=e.exec(n));)r.push({data:o[0],index:o.index,mode:t,length:o[0].length});return r}function f(e){const t=g(c.NUMERIC,r.NUMERIC,e),n=g(c.ALPHANUMERIC,r.ALPHANUMERIC,e);let o,s;l.isKanjiModeEnabled()?(o=g(c.BYTE,r.BYTE,e),s=g(c.KANJI,r.KANJI,e)):(o=g(c.BYTE_KANJI,r.BYTE,e),s=[]);return t.concat(n,o,s).sort((function(e,t){return e.index-t.index})).map((function(e){return{data:e.data,mode:e.mode,length:e.length}}))}function m(e,t){switch(t){case r.NUMERIC:return o.getBitsLength(e);case r.ALPHANUMERIC:return s.getBitsLength(e);case r.KANJI:return a.getBitsLength(e);case r.BYTE:return i.getBitsLength(e)}}function p(e,t){let n;const c=r.getBestModeForData(e);if(n=r.from(t,c),n!==r.BYTE&&n.bit<c.bit)throw new Error('"'+e+'" cannot be encoded with mode '+r.toString(n)+".\n Suggested mode is: "+r.toString(c));switch(n!==r.KANJI||l.isKanjiModeEnabled()||(n=r.BYTE),n){case r.NUMERIC:return new o(e);case r.ALPHANUMERIC:return new s(e);case r.KANJI:return new a(e);case r.BYTE:return new i(e)}}t.fromArray=function(e){return e.reduce((function(e,t){return"string"==typeof t?e.push(p(t,null)):t.data&&e.push(p(t.data,t.mode)),e}),[])},t.fromString=function(e,n){const o=function(e){const t=[];for(let n=0;n<e.length;n++){const o=e[n];switch(o.mode){case r.NUMERIC:t.push([o,{data:o.data,mode:r.ALPHANUMERIC,length:o.length},{data:o.data,mode:r.BYTE,length:o.length}]);break;case r.ALPHANUMERIC:t.push([o,{data:o.data,mode:r.BYTE,length:o.length}]);break;case r.KANJI:t.push([o,{data:o.data,mode:r.BYTE,length:d(o.data)}]);break;case r.BYTE:t.push([{data:o.data,mode:r.BYTE,length:d(o.data)}])}}return t}(f(e,l.isKanjiModeEnabled())),s=function(e,t){const n={},o={start:{}};let s=["start"];for(let i=0;i<e.length;i++){const a=e[i],c=[];for(let e=0;e<a.length;e++){const l=a[e],u=""+i+e;c.push(u),n[u]={node:l,lastCount:0},o[u]={};for(let e=0;e<s.length;e++){const i=s[e];n[i]&&n[i].node.mode===l.mode?(o[i][u]=m(n[i].lastCount+l.length,l.mode)-m(n[i].lastCount,l.mode),n[i].lastCount+=l.length):(n[i]&&(n[i].lastCount=l.length),o[i][u]=m(l.length,l.mode)+4+r.getCharCountIndicator(l.mode,t))}}s=c}for(let e=0;e<s.length;e++)o[s[e]].end=0;return{map:o,table:n}}(o,n),i=u.find_path(s.map,"start","end"),a=[];for(let e=1;e<i.length-1;e++)a.push(s.table[i[e]].node);return t.fromArray(function(e){return e.reduce((function(e,t){const n=e.length-1>=0?e[e.length-1]:null;return n&&n.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)}),[])}(a))},t.rawSplit=function(e){return t.fromArray(f(e,l.isKanjiModeEnabled()))}},function(e,t,n){"use strict";const r=n(0);e.exports=(e,t,n)=>r.tabs.sendMessage(t,{action:"notification",title:e.Title,message:e.Message,timeout:n})},function(e,t,n){"use strict";const r=n(26);e.exports=(e,t)=>{const n={title:e.Title,message:e.Message,timeout:t};return r(n)}},function(e){"use strict";e.exports=function(e){let t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";const n=document.createElement(e);return n.className=t,n}},function(e){"use strict";e.exports=(e,t)=>{const n=document.createElement("img");return n.src=e,n.alt=t,n}},function(e){"use strict";e.exports=e=>{const t=document.createElement("svg");return t.innerHTML=e.trim(),t.firstChild}},function(e){"use strict";e.exports=function(e,t){let n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";const r=document.createElement(e);r.className=n;const o=document.createTextNode(t);return r.appendChild(o),r}},function(e,t,n){"use strict";const r=n(0);e.exports=(e,t)=>{const n={title:e.Title,message:e.Message,iconUrl:"../images/icons/icon128.png",silent:!t,requireInteraction:!1,type:"basic",priority:t?1:0};return delete n.silent,delete n.requireInteraction,r.notifications.create("",n)}},function(e,t,n){"use strict";const r=n(0);e.exports=e=>{const t={title:e.Title,message:e.Message,iconUrl:"../images/icons/icon128.png",silent:!1,requireInteraction:!0,type:"basic",priority:2};return delete t.silent,delete t.requireInteraction,r.notifications.create("",t)}},function(e,t,n){"use strict";const r=n(1),o=n(0),{handleConfigurationRequest:s,handleLoginRequest:i}=n(108),a=n(3),c=n(30),l=n(15),u=n(66),d=n(67),g=n(4);e.exports=function(e,t){let n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{action:!0,timeout:!0,login:!0,requestID:null,notifications:{timeout:r.Texts.Error.Timeout,error:r.Texts.Error.General}};return new Promise(((f,m)=>{let p;const h={},b=(e,n)=>u(e,n,t,h,p),w=e=>d(e,t,h,p);return h.connect=()=>(h.ws={},h.ws=n.login?new WebSocket(`wss://ws.2fas.com/browser_extensions/${e.extensionID}/2fa_requests/${n.requestID}`):new WebSocket(`wss://ws.2fas.com/browser_extensions/${e.extensionID}`),h.ws.onopen=()=>(p=setTimeout((()=>(l(h),console.warn("WebSocket Timeout"),n.timeout?a.show(n.notifications.timeout,t):a.showWithoutTimeout(n.notifications.timeout,t),n.login&&c(t,n.requestID),m(new Error("timeout")))),6e4*r.WebSocketTimeout-100),o.tabs.onRemoved.addListener(w),o.tabs.onUpdated.addListener(b),!0),h.ws.onerror=async e=>(o.tabs.onRemoved.removeListener(w),o.tabs.onUpdated.removeListener(b),clearTimeout(p),await g("error",11,e,"WebSocket channel error"),m(e)),h.ws.onclose=()=>{o.tabs.onRemoved.removeListener(w),o.tabs.onUpdated.removeListener(b),clearTimeout(p)},h.ws.onmessage=async e=>{const n=JSON.parse(e.data);switch(n.event){case"browser_extensions.pairing.success":return s(t,n),l(h),o.tabs.onRemoved.removeListener(w),o.tabs.onUpdated.removeListener(b),clearTimeout(p),!0;case"browser_extensions.device.2fa_response":return i(t,n),l(h),o.tabs.onRemoved.removeListener(w),o.tabs.onUpdated.removeListener(b),clearTimeout(p),!0;case"browser_extensions.pairing.failure":return await g("error",12,n,"browser_extensions.pairing.failure"),a.show(r.Texts.Error.WebSocket,t),l(h),o.tabs.onRemoved.removeListener(w),o.tabs.onUpdated.removeListener(b),clearTimeout(p),!0;default:throw o.tabs.onRemoved.removeListener(w),o.tabs.onUpdated.removeListener(b),await g("error",13,n,"subscribeChannel event default"),new Error("Unknown message")}},h),f(h)}))}},function(e,t,n){"use strict";const r=n(1),o=n(29),s=n(3),{loadFromLocalStorage:i,saveToLocalStorage:a}=n(13),c=n(4);e.exports=(e,t)=>i(["configured","devices"]).then((e=>e.configured?e:a({configured:!0},e))).then((e=>{let n=[],r=!1;const{device_id:o,device_public_key:s}=t;return e.devices&&(n=e.devices),n.map((e=>(e.device_id===o&&(r=!0),e))),r?e:(n.push({device_id:o,device_public_key:s}),a({devices:n},e))})).then(o).catch((async t=>(await c("error",7,t,"configurationRequest"),s.show(r.Texts.Error.UndefinedError,e))))},function(e,t,n){"use strict";const r=n(0);e.exports=()=>r.storage.local.clear().catch((e=>{throw console.error({err:e}),new Error(e)}))},function(e,t,n){"use strict";const r=n(0);e.exports=e=>r.storage.local.remove(e.toString()).then((e=>e)).catch((e=>{throw console.error({err:e}),new Error(e)}))},function(e,t,n){"use strict";const r=n(0),o=n(1),s=n(30),i=n(3),a=n(63),c=n(8),l=n(4),u=n(31);e.exports=(e,t)=>{const n=new a;return r.tabs.get(e).then((()=>c(["keys"]))).then((e=>{const t=n.stringToArrayBuffer(e.keys.privateKey);return n.importKey(t,"pkcs8",["decrypt"])})).then((e=>n.decrypt(e,n.stringToArrayBuffer(t.token)))).then((e=>n.decodeText(e))).then((n=>{const r=t;return r.token=n,u(e,{action:"inputToken",...r})})).then((()=>s(e,t.token_request_id))).catch((async n=>n.toString().includes("No tab with id")||n.toString().includes("Invalid tab ID")?s(e,t.token_request_id).then((()=>i.show(o.Texts.Error.LackOfTab,e))):(await l("error",8,n,"handleLoginRequest"),i.show(o.Texts.Error.UndefinedError,e))))}},function(e,t,n){"use strict";const r=n(64),o=n(65);e.exports=class{constructor(){this.encoder=new TextEncoder,this.decoder=new TextDecoder("utf-8")}generateKeys(){return crypto.subtle.generateKey({name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-512"}},!0,["encrypt","decrypt"])}importKey(e,t,n){return crypto.subtle.importKey(t,e,{name:"RSA-OAEP",hash:{name:"SHA-512"}},!1,n)}exportKey(e,t){return crypto.subtle.exportKey(e,t)}ArrayBufferToString(e){const t=new Uint8Array(e);return r(t)}stringToArrayBuffer(e){return o(e)}encodeText(e){return this.encoder.encode(e)}decodeText(e){const t=new DataView(e);return this.decoder.decode(t)}encrypt(e,t){return crypto.subtle.encrypt({name:"RSA-OAEP"},e,t)}decrypt(e,t){return crypto.subtle.decrypt({name:"RSA-OAEP"},e,t)}}},function(e){"use strict";e.exports=e=>btoa(String.fromCharCode.apply(null,new Uint8Array(e)))},function(e){"use strict";e.exports=e=>Uint8Array.from(atob(e),(e=>e.charCodeAt(0)))},function(e,t,n){"use strict";const r=n(15);e.exports=(e,t,n,o,s)=>!(!t.url||"complete"===!t.status||"loading"===!t.status)&&void(e===n&&(clearTimeout(s),r(o)))},function(e,t,n){"use strict";const r=n(15);e.exports=(e,t,n,o)=>{e===t&&(clearTimeout(o),r(n))}},function(e,t,n){"use strict";const r=n(1),o=n(9),s=n(3),i=n(4),a=n(14),c=n(2);let l=!1;e.exports=(e,t)=>{t.preventDefault(),t.stopPropagation(),l&&clearTimeout(l);const n=document.querySelector(c.extName.updateBtn);n.setAttribute("disabled","disabled");const u=document.querySelector(c.extName.error);u.classList.remove("error","success");const d=document.querySelector(c.extName.input);d.value=d.value.trim();const g=new FormData(t.target).get("ext-name");if(!g||0>=g.length)return n.removeAttribute("disabled"),u.classList.add("error"),u.innerText=`${r.Texts.Error.ExtNameRequired.Title}. ${r.Texts.Error.ExtNameRequired.Message}`,!1;if(3>g.length)return n.removeAttribute("disabled"),u.classList.add("error"),u.innerText=`${r.Texts.Error.ExtNameMinLength.Title}. ${r.Texts.Error.ExtNameMinLength.Message}`,!1;if(32<g.length)return n.removeAttribute("disabled"),u.classList.add("error"),u.innerText=`${r.Texts.Error.ExtNameMaxLength.Title}. ${r.Texts.Error.ExtNameMaxLength.Message}`,!1;const f=e.browserInfo;return f.name=g,(new o).updateBrowserExtension(e.extensionID,f).then((()=>a({browserInfo:f},e))).then((()=>(u.classList.add("success"),u.innerText=`${r.Texts.Success.ExtNameUpdated.Title}. ${r.Texts.Success.ExtNameUpdated.Message}`,l=setTimeout((()=>{u.classList.remove("success")}),5e3),!0))).then((()=>n.removeAttribute("disabled"))).catch((async e=>(await i("error",25,e,"extNameUpdate"),s.showWithoutTimeout(r.Texts.Error.UndefinedError))))}},function(e,t,n){"use strict";const{notification:r,showNotificationInfo:o}=n(110);e.exports=e=>{if(!e||!e.action)return{status:"error"};switch(e.action){case"notification":return r(e);case"notificationInfo":return o();default:return{status:"error"}}}},function(e,t,n){"use strict";const{v4:r}=n(111),o=n(34),s=n(32),i=n(38);e.exports=()=>{const e=document.activeElement;let t;if(e&&(t=e.nodeName.toLowerCase()),!e||"input"!==t&&"textarea"!==t)return{status:"activeElement",nodeName:t,id:null};const n=r();return e.setAttribute("data-twofas-input",n),o(),s(i()),{status:"activeElement",nodeName:t,id:n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o,s,i=(r=n(37))&&r.__esModule?r:{default:r},a=n(6);var c=0,l=0;t.default=function(e,t,n){var r=t&&n||0,u=t||new Array(16),d=(e=e||{}).node,g=e.clockseq;if(e._v6||(d||(d=o),null==g&&(g=s)),null==d||null==g){var f=e.random||(e.rng||i.default)();null==d&&(d=[f[0],f[1],f[2],f[3],f[4],f[5]],o||e._v6||(d[0]|=1,o=d)),null==g&&(g=16383&(f[6]<<8|f[7]),void 0!==s||e._v6||(s=g))}var m=void 0!==e.msecs?e.msecs:Date.now(),p=void 0!==e.nsecs?e.nsecs:l+1,h=m-c+(p-l)/1e4;if(h<0&&void 0===e.clockseq&&(g=g+1&16383),(h<0||m>c)&&void 0===e.nsecs&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=m,l=p,s=g;var b=(1e4*(268435455&(m+=122192928e5))+p)%4294967296;u[r++]=b>>>24&255,u[r++]=b>>>16&255,u[r++]=b>>>8&255,u[r++]=255&b;var w=m/4294967296*1e4&268435455;u[r++]=w>>>8&255,u[r++]=255&w,u[r++]=w>>>24&15|16,u[r++]=w>>>16&255,u[r++]=g>>>8|128,u[r++]=255&g;for(var v=0;v<6;++v)u[r+v]=d[v];return t||(0,a.unsafeStringify)(u)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=function(e,t=!1){return Uint8Array.of((15&e[6])<<4|e[7]>>4&15,(15&e[7])<<4|(240&e[4])>>4,(15&e[4])<<4|(240&e[5])>>4,(15&e[5])<<4|(240&e[0])>>4,(15&e[0])<<4|(240&e[1])>>4,(15&e[1])<<4|(240&e[2])>>4,96|15&e[2],e[3],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}("string"==typeof e?(0,o.default)(e):e);return"string"==typeof e?(0,s.unsafeStringify)(t):t};var r,o=(r=n(22))&&r.__esModule?r:{default:r},s=n(6)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=void 0,t.default=function(e,t,n){function r(e,r,i,a){var c;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof r&&(r=(0,s.default)(r)),16!==(null===(c=r)||void 0===c?void 0:c.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+e.length);if(l.set(r),l.set(e,r.length),(l=n(l))[6]=15&l[6]|t,l[8]=63&l[8]|128,i){a=a||0;for(var u=0;u<16;++u)i[a+u]=l[u];return i}return(0,o.unsafeStringify)(l)}try{r.name=e}catch(e){}return r.DNS=i,r.URL=a,r};var r,o=n(6),s=(r=n(22))&&r.__esModule?r:{default:r};var i=t.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",a=t.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8"},function(e){"use strict";e.exports=e=>!!e&&document.querySelector(`*[data-twofas-input="${e}"]`)},function(e,t,n){"use strict";const r=n(41),o=n(40),s=n(35),i=n(33);e.exports=(e,t,n)=>new Promise((a=>{if(!e.token)return{status:"error"};if(!t)return{status:"emptyInput"};const c=e.token.length,l=[];t.value="",t.focus();for(let n=0;n<c;n++)l.push((()=>new Promise((r=>(document.activeElement!==t&&(document.activeElement.value=""),document.activeElement.dispatchEvent(new KeyboardEvent("keydown",{bubbles:!0,cancelable:!0,charCode:0,code:`Digit${e.token[n]}`,ctrlKey:!1,key:e.token[n],keyCode:48+parseInt(e.token[n],10),location:0,metaKey:!1,repeat:!1,shiftKey:!1,which:48+parseInt(e.token[n],10)})),document.activeElement.dispatchEvent(new KeyboardEvent("keypress",{bubbles:!0,cancelable:!0,charCode:48+parseInt(e.token[n],10),code:`Digit${e.token[n]}`,ctrlKey:!1,key:e.token[n],keyCode:48+parseInt(e.token[n],10),location:0,metaKey:!1,repeat:!1,shiftKey:!1,which:48+parseInt(e.token[n],10)})),document.activeElement.value+="number"===document.activeElement.type.toLowerCase()?parseInt(e.token[n],10):e.token[n],document.activeElement.dispatchEvent(new InputEvent("input",{bubbles:!0,cancelable:!0,data:e.token[n],inputType:"insertText",which:0})),document.activeElement.dispatchEvent(new KeyboardEvent("keyup",{bubbles:!0,cancelable:!0,charCode:0,code:`Digit${e.token[n]}`,ctrlKey:!1,key:e.token[n],keyCode:48+parseInt(e.token[n],10),location:0,metaKey:!1,repeat:!1,shiftKey:!1,which:48+parseInt(e.token[n],10)})),document.activeElement.dispatchEvent(new Event("change",{bubbles:!0,cancelable:!0})),r())))));return r(l,150).then((async()=>{const e=await o();return"complete"===e.status&&s(t,n),i(t,e.id),a({status:"completed",url:n})}))}))},function(e,t,n){"use strict";e.exports=()=>{if(document.fonts.check("bold 16px Montserrat")&&document.fonts.check("normal 16px Montserrat"))return!1;const e=n(0);let t=[new FontFace("Montserrat",`url(${e.runtime.getURL("fonts/montserrat-v25-latin-700.woff2")})`,{style:"normal",weight:"700"}),new FontFace("Montserrat",`url(${e.runtime.getURL("fonts/montserrat-v25-latin-regular.woff2")})`,{style:"normal",weight:"400"})];t.forEach((e=>document.fonts.add(e))),window.addEventListener("beforeunload",(()=>{t.forEach((e=>document.fonts.delete(e))),t=null}),{once:!0})}},function(e,t,n){"use strict";const r=n(0);e.exports=async()=>{function e(e){return new Promise((t=>{(e=r.runtime.connect({name:"2FAS"}))._oM=function(e,t){setTimeout((()=>{try{return t.postMessage({msg:"ping"})}catch(e){}}),1e4)},e.onMessage.addListener(e._oM),e._resolve=t,e.onDisconnect.addListener(e._resolve),e.postMessage({msg:"ping"})}))}for(;;){let t;t=await e(t),t.onDisconnect.removeListener(t._resolve),t.onMessage.removeListener(t._oM),t._oM=void 0,t._resolve=void 0,t=void 0}}},function(e,t,n){"use strict";const r=n(0),{createElement:o,createTextElement:s,createSVGElement:i}=n(27),a=n(28),c=n(1),l=n(21),u=n(43),d=n(10),g=n(44),f=n(2);e.exports=()=>{if(d())return!1;let e={container:document.querySelector(f.notification.container),notification:null,firstCol:null,logo:null,secondCol:null,header:null,h3:null,notificationText:null,p:null,a:null,dot:null,buttonsContainer:null,buttonNever:null,buttonClose:null};return e.container||(e.container=o("div","twofas-be-notifications"),window.top.document.body.appendChild(e.container)),!(0<document.querySelectorAll(f.notification.visible).length)&&(e.notification=o("div","twofas-be-notification"),e.firstCol=o("div","twofas-be-col"),e.logo=i(a),e.firstCol.appendChild(e.logo),e.notification.appendChild(e.firstCol),e.secondCol=o("div","twofas-be-col"),e.header=o("div","twofas-be-notification-header"),e.h3=s("h3",c.Texts.Info.NativeNotifications.Title),e.header.appendChild(e.h3),e.secondCol.appendChild(e.header),e.notificationText=o("div","twofas-be-notification-text"),e.p=s("p",c.Texts.Info.NativeNotifications.Message),e.a=s("a",c.Texts.Info.EnabledNativeNotifications),e.a.href="#",e.a.addEventListener("click",g),e.p.appendChild(e.a),e.dot=document.createTextNode("."),e.p.appendChild(e.dot),e.notificationText.appendChild(e.p),e.secondCol.appendChild(e.notificationText),e.buttonsContainer=o("div","twofas-be-notification-buttons"),e.buttonNever=s("button",r.i18n.getMessage("neverShowAgain"),"twofas-never"),e.buttonClose=s("button",r.i18n.getMessage("close"),"twofas-close"),e.buttonNever.addEventListener("click",(()=>u(e))),e.buttonClose.addEventListener("click",(()=>l(e))),e.buttonsContainer.appendChild(e.buttonNever),e.buttonsContainer.appendChild(e.buttonClose),e.secondCol.appendChild(e.buttonsContainer),e.notification.appendChild(e.secondCol),e.container.appendChild(e.notification),setTimeout((()=>e.notification.classList.add("visible")),300),void window.addEventListener("beforeunload",(()=>{e.notification.classList.remove("visible"),setTimeout((()=>{e.notification.classList.add("hidden"),e=null}),300)})))}},function(e,t,n){"use strict";const r=n(1),o=n(10),{createElement:s,createSVGElement:i,createTextElement:a}=n(27),c=n(28),l=n(125),u=n(126),d=n(2);e.exports=e=>{if(o())return!1;let t={container:document.querySelector(d.notification.container),notification:null,firstCol:null,logo:null,secondCol:null,header:null,h3:null,tokenBox:null,tokenText:null,tokenIconContainer:null,tokenIcon:null,tokenButton:null,tokenButtonText:null,notificationText:null,p:null,closeBtn:null,close:null};const n=e=>{e&&(e.preventDefault(),e.stopPropagation()),t&&t.notification&&t.notification.classList.remove("visible"),setTimeout((()=>{t&&t.notification&&(t.notification.classList.add("hidden"),t=null)}),300)};t.container||(t.container=s("div","twofas-be-notifications"),window.top.document.body.appendChild(t.container)),t.notification=s("div","twofas-be-notification"),t.closeBtn=s("button","twofas-be-notification-close"),t.closeBtn.addEventListener("click",n),t.close=i(u),t.closeBtn.appendChild(t.close),t.notification.appendChild(t.closeBtn),t.firstCol=s("div","twofas-be-col"),t.logo=i(c),t.firstCol.appendChild(t.logo),t.notification.appendChild(t.firstCol),t.secondCol=s("div","twofas-be-col"),t.header=s("div","twofas-be-notification-header"),t.h3=a("h3",r.Texts.Token.Header),t.header.appendChild(t.h3),t.secondCol.appendChild(t.header),t.tokenBox=s("div","twofas-be-notification-token-box"),t.tokenText=a("p",e,"twofas-be-notification-token-box-text"),t.tokenButton=s("button","twofas-be-notification-token-box-copy-button"),t.tokenButton.addEventListener("click",(()=>{navigator.clipboard.writeText(e),t.tokenButtonText.innerText=r.Texts.Token.Copied,setTimeout((()=>{t.tokenButtonText.innerText=r.Texts.Token.Copy}),1e3)})),t.tokenButtonText=a("span",r.Texts.Token.Copy),t.tokenIconContainer=s("div","twofas-be-notification-token-box-copy-icon"),t.tokenIcon=i(l),t.tokenButton.appendChild(t.tokenButtonText),t.tokenIconContainer.appendChild(t.tokenIcon),t.tokenButton.appendChild(t.tokenIconContainer),t.tokenBox.appendChild(t.tokenText),t.tokenBox.appendChild(t.tokenButton),t.secondCol.appendChild(t.tokenBox),t.notificationText=s("div","twofas-be-notification-text"),t.p=a("p",r.Texts.Token.Description),t.notificationText.appendChild(t.p),t.secondCol.appendChild(t.notificationText),t.notification.appendChild(t.secondCol),t.container.appendChild(t.notification),setTimeout((()=>t.notification.classList.add("visible")),300),window.addEventListener("beforeunload",(()=>{n()})),setTimeout((()=>{t&&t.notification&&t.notification.classList.remove("visible")}),30300),setTimeout((()=>{t&&t.notification&&(t.notification.classList.add("hidden"),t=null)}),30600)}},function(e,t,n){"use strict";n(0);e.exports=()=>{0}},function(e,t,n){"use strict";const r=n(2);e.exports=function(){let e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0;const n=document.querySelector(r.preload);if(n&&n.classList.remove("show-preloader"),e)if("configured"===t){const e=document.querySelector(r.installPage.configured);e&&e.classList.remove("hidden")}else{const e=document.querySelector(r.installPage.newDevice);e&&e.classList.remove("hidden")}setTimeout((()=>{const e=document.querySelectorAll(r.optionsPage.toggle);return!(0>=e.length)&&void e.forEach((e=>e.classList.add("loaded")))}),450)}},function(e,t,n){"use strict";const r=n(0),o=[r.i18n.getMessage("january"),r.i18n.getMessage("february"),r.i18n.getMessage("march"),r.i18n.getMessage("april"),r.i18n.getMessage("may"),r.i18n.getMessage("june"),r.i18n.getMessage("july"),r.i18n.getMessage("august"),r.i18n.getMessage("september"),r.i18n.getMessage("october"),r.i18n.getMessage("november"),r.i18n.getMessage("december")];e.exports=o},function(e){"use strict";e.exports=(e,t)=>{"visible"===document.visibilityState?"function"==typeof e&&e():"function"==typeof t&&t()}},function(e,t,n){"use strict";const r=n(1),o=n(0),s=n(4),i=n(3);e.exports=function(e){e.preventDefault(),e.stopPropagation();const t=this?.dataset?.shortcutLink;if(!t)return s("error",32,new Error("openShortcutEdit: no url"),"openShortcutEdit").then((()=>i.show(r.Texts.Error.UndefinedError,null,!0))).catch((()=>{}));const n=o.runtime.connect({name:"2FAS"});n.postMessage({action:"openBrowserPage",url:t}),n.disconnect()}},function(e,t,n){"use strict";const r=n(1),o=n(3);e.exports=e=>new Promise(((t,n)=>e.keys&&e?.keys?.publicKey&&e?.keys?.privateKey&&e?.extensionID?t():e?.attempt&&5<e?.attempt?(o.show(r.Texts.Error.StorageIntegrity),n(new TypeError("Too many attempts"))):(o.show(r.Texts.Error.StorageCorrupted),n(new TypeError("Storage corrupted")))))},function(e){"use strict";e.exports=(e,t,n)=>n.indexOf(e)===t},function(e,t,n){"use strict";const r=n(128);e.exports=e=>r.toDataURL(e,{errorCorrectionLevel:"H",quality:1,width:197}).catch((e=>{throw new Error(e)}))},function(e){e.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},function(e){function t(){this.buffer=[],this.length=0}t.prototype={get:function(e){const t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(let n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=t},function(e){function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}t.prototype.set=function(e,t,n,r){const o=e*this.size+t;this.data[o]=n,r&&(this.reservedBit[o]=!0)},t.prototype.get=function(e,t){return this.data[e*this.size+t]},t.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n},t.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},e.exports=t},function(e,t,n){const r=n(7).getSymbolSize;t.getRowColCoords=function(e){if(1===e)return[];const t=Math.floor(e/7)+2,n=r(e),o=145===n?26:2*Math.ceil((n-13)/(2*t-2)),s=[n-7];for(let e=1;e<t-1;e++)s[e]=s[e-1]-o;return s.push(6),s.reverse()},t.getPositions=function(e){const n=[],r=t.getRowColCoords(e),o=r.length;for(let e=0;e<o;e++)for(let t=0;t<o;t++)0===e&&0===t||0===e&&t===o-1||e===o-1&&0===t||n.push([r[e],r[t]]);return n}},function(e,t,n){const r=n(12),o=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],s=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];t.getBlocksCount=function(e,t){switch(t){case r.L:return o[4*(e-1)+0];case r.M:return o[4*(e-1)+1];case r.Q:return o[4*(e-1)+2];case r.H:return o[4*(e-1)+3];default:return}},t.getTotalCodewordsCount=function(e,t){switch(t){case r.L:return s[4*(e-1)+0];case r.M:return s[4*(e-1)+1];case r.Q:return s[4*(e-1)+2];case r.H:return s[4*(e-1)+3];default:return}}},function(e,t,n){const r=n(94);function o(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}o.prototype.initialize=function(e){this.degree=e,this.genPoly=r.generateECPolynomial(this.degree)},o.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const t=new Uint8Array(e.length+this.degree);t.set(e);const n=r.mod(t,this.genPoly),o=this.degree-n.length;if(o>0){const e=new Uint8Array(this.degree);return e.set(n,o),e}return n},e.exports=o},function(e,t,n){const r=n(131);t.mul=function(e,t){const n=new Uint8Array(e.length+t.length-1);for(let o=0;o<e.length;o++)for(let s=0;s<t.length;s++)n[o+s]^=r.mul(e[o],t[s]);return n},t.mod=function(e,t){let n=new Uint8Array(e);for(;n.length-t.length>=0;){const e=n[0];for(let o=0;o<t.length;o++)n[o]^=r.mul(t[o],e);let o=0;for(;o<n.length&&0===n[o];)o++;n=n.slice(o)}return n},t.generateECPolynomial=function(e){let n=new Uint8Array([1]);for(let o=0;o<e;o++)n=t.mul(n,new Uint8Array([1,r.exp(o)]));return n}},function(e,t){t.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}},function(e,t){const n="[0-9]+";let r="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";r=r.replace(/u/g,"\\u");const o="(?:(?![A-Z0-9 $%*+\\-./:]|"+r+")(?:.|[\r\n]))+";t.KANJI=new RegExp(r,"g"),t.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),t.BYTE=new RegExp(o,"g"),t.NUMERIC=new RegExp(n,"g"),t.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const s=new RegExp("^"+r+"$"),i=new RegExp("^"+n+"$"),a=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");t.testKanji=function(e){return s.test(e)},t.testNumeric=function(e){return i.test(e)},t.testAlphanumeric=function(e){return a.test(e)}},function(e,t,n){const r=n(5);function o(e){this.mode=r.NUMERIC,this.data=e.toString()}o.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){let t,n,r;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),r=parseInt(n,10),e.put(r,10);const o=this.data.length-t;o>0&&(n=this.data.substr(t),r=parseInt(n,10),e.put(r,3*o+1))},e.exports=o},function(e,t,n){const r=n(5),o=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function s(e){this.mode=r.ALPHANUMERIC,this.data=e}s.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let n=45*o.indexOf(this.data[t]);n+=o.indexOf(this.data[t+1]),e.put(n,11)}this.data.length%2&&e.put(o.indexOf(this.data[t]),6)},e.exports=s},function(e,t,n){const r=n(5);function o(e){this.mode=r.BYTE,this.data="string"==typeof e?(new TextEncoder).encode(e):new Uint8Array(e)}o.getBitsLength=function(e){return 8*e},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)},e.exports=o},function(e,t,n){const r=n(5),o=n(7);function s(e){this.mode=r.KANJI,this.data=e}s.getBitsLength=function(e){return 13*e},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=o.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else{if(!(n>=57408&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");n-=49472}n=192*(n>>>8&255)+(255&n),e.put(n,13)}},e.exports=s},function(e){"use strict";var t={single_source_shortest_paths:function(e,n,r){var o={},s={};s[n]=0;var i,a,c,l,u,d,g,f=t.PriorityQueue.make();for(f.push(n,0);!f.empty();)for(c in a=(i=f.pop()).value,l=i.cost,u=e[a]||{})u.hasOwnProperty(c)&&(d=l+u[c],g=s[c],(void 0===s[c]||g>d)&&(s[c]=d,f.push(c,d),o[c]=a));if(void 0!==r&&void 0===s[r]){var m=["Could not find a path from ",n," to ",r,"."].join("");throw new Error(m)}return o},extract_shortest_path_from_predecessor_list:function(e,t){for(var n=[],r=t;r;)n.push(r),e[r],r=e[r];return n.reverse(),n},find_path:function(e,n,r){var o=t.single_source_shortest_paths(e,n,r);return t.extract_shortest_path_from_predecessor_list(o,r)},PriorityQueue:{make:function(e){var n,r=t.PriorityQueue,o={};for(n in e=e||{},r)r.hasOwnProperty(n)&&(o[n]=r[n]);return o.queue=[],o.sorter=e.sorter||r.default_sorter,o},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var n={value:e,cost:t};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};e.exports=t},function(e,t,n){const r=n(24);t.render=function(e,t,n){let o=n,s=t;void 0!==o||t&&t.getContext||(o=t,t=void 0),t||(s=function(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}()),o=r.getOptions(o);const i=r.getImageWidth(e.modules.size,o),a=s.getContext("2d"),c=a.createImageData(i,i);return r.qrToImageData(c.data,e,o),function(e,t,n){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=n,t.width=n,t.style.height=n+"px",t.style.width=n+"px"}(a,s,i),a.putImageData(c,0,0),s},t.renderToDataURL=function(e,n,r){let o=r;void 0!==o||n&&n.getContext||(o=n,n=void 0),o||(o={});const s=t.render(e,n,o),i=o.type||"image/png",a=o.rendererOpts||{};return s.toDataURL(i,a.quality)}},function(e,t,n){"use strict";const r=n(2),o=n(45);e.exports=(e,t,n)=>{const s=document.querySelector(r.installPage.container.app),i=document.querySelector(r.installPage.container.qr);let a;const c=async function(){const r=this.dataset.step;if(s.classList.toggle("active"),i.classList.toggle("active"),"1"!==r)a=o(t,e,n),e.connect();else if(1===e.ws.readyState){e.ws.close(),clearTimeout(a),a=void 0;const t=new CustomEvent("qrHidden");document.dispatchEvent(t)}};s.classList.add("loaded"),i.classList.add("loaded");const l=document.querySelectorAll(r.installPage.container.handler);l&&l.forEach((e=>e.addEventListener("click",c)))}},function(e,t,n){"use strict";const r=n(2);e.exports=()=>{document.querySelector(r.optionsPage.integrityError).classList.add("show-integrity-error")}},,function(e){"use strict";e.exports=JSON.parse('{"errorGeneralTitle":"Error","errorGeneralMessage":"Please refresh and try again.","errorUndefinedErrorTitle":"Something went wrong","errorUndefinedErrorMessage":"Please refresh and try again.","errorTimeoutTitle":"Timeout","errorTimeoutMessage":"Closed connection due to a time limit. Please click regenerate button to try again.","errorPushExpiredTitle":"Push expired for DOMAIN","errorPushExpiredMessage":"Please try again.","errorWebSocketTitle":"WebSocket Error","errorWebSocketMessage":"Something went wrong with the WebSocket request. Please try again.","errorOnInstallErrorTitle":"Something went wrong","errorOnInstallErrorMessage":"Please restart your browser or reinstall the extension.","errorExtNameRequiredTitle":"Extension name required","errorExtNameRequiredMessage":"Please enter the extension name.","errorExtNameMinLengthTitle":"Extension name is too short","errorExtNameMinLengthMessage":"Please enter the extension name with at least 3 characters.","errorExtNameMaxLengthTitle":"Extension name is too long","errorExtNameMaxLengthMessage":"Please enter the extension name with no more than 32 characters.","errorConfigFirstTitle":"Configuration required","errorConfigFirstMessage":"Please configure 2FAS Extension first.","errorRemoveDeviceBadDataTitle":"Device data error","errorRemoveDeviceBadDataMessage":"Please refresh and try again.","errorRemoveDomainBadDataTitle":"Domain data error","errorRemoveDomainBadDataMessage":"Please refresh and try again.","errorStorageCorruptedTitle":"Extension storage is corrupted","errorStorageCorruptedMessage":"We will try to fix it for you. Please wait.","errorInactiveTabTitle":"Inactive tab","errorInactiveTabMessage":"Please refresh this tab to use the 2FAS Browser Extension.","errorLackOfTabTitle":"Your tab has been closed","errorLackOfTabMessage":"The request will be ignored","errorInputNotExistTitle":"Input element does not exists","errorInputNotExistMessage":"Please refresh and try again.","errorStorageIntegrityTitle":"Browser Extension data error","errorStorageIntegrityMessage":"Please reinstall browser extension or contact with 2FAS Support on Discord","warningTooSoonTitle":"Wait a moment","warningTooSoonMessage":"Please wait DIFF seconds before sending another request.","successPushSentTitle":"Push sent","successPushSentMessage":"Please check your phone and accept your login request.","successPushSentClipboardTitle":"Push sent","successPushSentClipboardMessage":"Please check your phone and accept your login request. Copy your token and paste it into the correct input on the website.","successExtNameUpdatedTitle":"Success","successExtNameUpdatedMessage":"Extension name updated","successDeviceDisconnectedTitle":"Success","successDeviceDisconnectedMessage":"Device disconnected","successSafariResetTitle":"Success","successSafariResetMessage":"Browser Extension configuration removed","successDomainExcludedTitle":"Success","successDomainExcludedMessage":"Domain added to excluded list","successDomainExcludedRemovedTitle":"Success","successDomainExcludedRemovedMessage":"Domain removed from excluded list","infoNativeNotificationsTitle":"2FAS Notifications","infoNativeNotificationsMessage":"From now on, you\'ll be receiving system notifications instead of 2FAS custom ones. If you\'d like to change this, go to the ","infoEnabledNativeNotifications":"extension\'s settings","infoUnsupportedProtocolTitle":"Info","infoUnsupportedProtocolMessage":"Only HTTP and HTTPS protocols are supported by 2FAS Extension","infoBrowserActionWithoutTabTitle":"Info","infoBrowserActionWithoutTabMessage":"Using outside the browser is not supported by 2FAS Extension","infoCopiedToClipboardTitle":"Successfully copied to clipboard","infoCopiedToClipboardMessage":"You can now paste the token into the input field","infoTestTitle":"2FAS Notification","infoTestMessage":"Hi! This is just a test"}')},function(e,t,n){"use strict";t.sendFrontEndPushAction=n(50),t.showFrontEndPush=n(51),t.showNativePush=n(56),t.showNativePushWithoutTimeout=n(57)},function(e,t,n){"use strict";t.handleConfigurationRequest=n(59),t.handleLoginRequest=n(62)},function(e,t,n){"use strict";t.buttonsTexts=n(16),t.delay=n(17),t.extNameUpdate=n(68),t.extPageOnMessage=n(69),t.formSubmitSelectors=n(18),t.formSubmitSecondSelectors=n(20),t.handleTargetBlank=n(80),t.hidePreloader=n(81),t.i18n=n(25),t.ignoreButtonSelectors=n(19),t.ignoreButtonTexts=n(11),t.inputsSelectors=n(39),t.months=n(82),t.onTabFocused=n(83),t.openShortcutEdit=n(84),t.runTasksWithDelay=n(41),t.sendMessageToTab=n(31),t.storageValidation=n(85),t.storeLog=n(4),t.uniqueOnly=n(86),t.wait=n(42)},function(e,t,n){"use strict";t.addFormElementsNumber=n(32),t.clearAfterInputToken=n(33),t.clearFormElementsNumber=n(34),t.clickSubmit=n(35),t.closeNotificationInfo=n(21),t.getActiveElement=n(70),t.getFormElements=n(38),t.getFormSubmitElements=n(36),t.getTabData=n(40),t.getTokenInput=n(74),t.inputToken=n(75),t.isInFrame=n(10),t.loadFonts=n(76),t.neverShowNotificationInfo=n(43),t.notification=n(26),t.openOptionsPage=n(44),t.portSetup=n(77),t.showNotificationInfo=n(78),t.tokenNotification=n(79)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"MAX",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"v1ToV6",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"v6",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"v6ToV1",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"v7",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return h.default}});var r=b(n(112)),o=b(n(113)),s=b(n(22)),i=b(n(6)),a=b(n(71)),c=b(n(72)),l=b(n(115)),u=b(n(117)),d=b(n(119)),g=b(n(121)),f=b(n(122)),m=b(n(123)),p=b(n(23)),h=b(n(124));function b(e){return e&&e.__esModule?e:{default:e}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default="ffffffff-ffff-ffff-ffff-ffffffffffff"},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default="00000000-0000-0000-0000-000000000000"},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(73)),o=s(n(116));function s(e){return e&&e.__esModule?e:{default:e}}var i=(0,r.default)("v3",48,o.default);t.default=i},function(e,t){"use strict";function n(e){return 14+(e+64>>>9<<4)+1}function r(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function o(e,t,n,o,s,i){return r((a=r(r(t,e),r(o,i)))<<(c=s)|a>>>32-c,n);var a,c}function s(e,t,n,r,s,i,a){return o(t&n|~t&r,e,t,s,i,a)}function i(e,t,n,r,s,i,a){return o(t&r|n&~r,e,t,s,i,a)}function a(e,t,n,r,s,i,a){return o(t^n^r,e,t,s,i,a)}function c(e,t,n,r,s,i,a){return o(n^(t|~r),e,t,s,i,a)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var o=0;o<t.length;++o)e[o]=t.charCodeAt(o)}return function(e){for(var t=[],n=32*e.length,r="0123456789abcdef",o=0;o<n;o+=8){var s=e[o>>5]>>>o%32&255,i=parseInt(r.charAt(s>>>4&15)+r.charAt(15&s),16);t.push(i)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[n(t)-1]=t;for(var o=1732584193,l=-271733879,u=-1732584194,d=271733878,g=0;g<e.length;g+=16){var f=o,m=l,p=u,h=d;o=s(o,l,u,d,e[g],7,-680876936),d=s(d,o,l,u,e[g+1],12,-389564586),u=s(u,d,o,l,e[g+2],17,606105819),l=s(l,u,d,o,e[g+3],22,-1044525330),o=s(o,l,u,d,e[g+4],7,-176418897),d=s(d,o,l,u,e[g+5],12,1200080426),u=s(u,d,o,l,e[g+6],17,-1473231341),l=s(l,u,d,o,e[g+7],22,-45705983),o=s(o,l,u,d,e[g+8],7,1770035416),d=s(d,o,l,u,e[g+9],12,-1958414417),u=s(u,d,o,l,e[g+10],17,-42063),l=s(l,u,d,o,e[g+11],22,-1990404162),o=s(o,l,u,d,e[g+12],7,1804603682),d=s(d,o,l,u,e[g+13],12,-40341101),u=s(u,d,o,l,e[g+14],17,-1502002290),o=i(o,l=s(l,u,d,o,e[g+15],22,1236535329),u,d,e[g+1],5,-165796510),d=i(d,o,l,u,e[g+6],9,-1069501632),u=i(u,d,o,l,e[g+11],14,643717713),l=i(l,u,d,o,e[g],20,-373897302),o=i(o,l,u,d,e[g+5],5,-701558691),d=i(d,o,l,u,e[g+10],9,38016083),u=i(u,d,o,l,e[g+15],14,-660478335),l=i(l,u,d,o,e[g+4],20,-405537848),o=i(o,l,u,d,e[g+9],5,568446438),d=i(d,o,l,u,e[g+14],9,-1019803690),u=i(u,d,o,l,e[g+3],14,-187363961),l=i(l,u,d,o,e[g+8],20,1163531501),o=i(o,l,u,d,e[g+13],5,-1444681467),d=i(d,o,l,u,e[g+2],9,-51403784),u=i(u,d,o,l,e[g+7],14,1735328473),o=a(o,l=i(l,u,d,o,e[g+12],20,-1926607734),u,d,e[g+5],4,-378558),d=a(d,o,l,u,e[g+8],11,-2022574463),u=a(u,d,o,l,e[g+11],16,1839030562),l=a(l,u,d,o,e[g+14],23,-35309556),o=a(o,l,u,d,e[g+1],4,-1530992060),d=a(d,o,l,u,e[g+4],11,1272893353),u=a(u,d,o,l,e[g+7],16,-155497632),l=a(l,u,d,o,e[g+10],23,-1094730640),o=a(o,l,u,d,e[g+13],4,681279174),d=a(d,o,l,u,e[g],11,-358537222),u=a(u,d,o,l,e[g+3],16,-722521979),l=a(l,u,d,o,e[g+6],23,76029189),o=a(o,l,u,d,e[g+9],4,-640364487),d=a(d,o,l,u,e[g+12],11,-421815835),u=a(u,d,o,l,e[g+15],16,530742520),o=c(o,l=a(l,u,d,o,e[g+2],23,-995338651),u,d,e[g],6,-198630844),d=c(d,o,l,u,e[g+7],10,1126891415),u=c(u,d,o,l,e[g+14],15,-1416354905),l=c(l,u,d,o,e[g+5],21,-57434055),o=c(o,l,u,d,e[g+12],6,1700485571),d=c(d,o,l,u,e[g+3],10,-1894986606),u=c(u,d,o,l,e[g+10],15,-1051523),l=c(l,u,d,o,e[g+1],21,-2054922799),o=c(o,l,u,d,e[g+8],6,1873313359),d=c(d,o,l,u,e[g+15],10,-30611744),u=c(u,d,o,l,e[g+6],15,-1560198380),l=c(l,u,d,o,e[g+13],21,1309151649),o=c(o,l,u,d,e[g+4],6,-145523070),d=c(d,o,l,u,e[g+11],10,-1120210379),u=c(u,d,o,l,e[g+2],15,718787259),l=c(l,u,d,o,e[g+9],21,-343485551),o=r(o,f),l=r(l,m),u=r(u,p),d=r(d,h)}return[o,l,u,d]}(function(e){if(0===e.length)return[];for(var t=8*e.length,r=new Uint32Array(n(t)),o=0;o<t;o+=8)r[o>>5]|=(255&e[o/8])<<o%32;return r}(e),8*e.length))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(118)),o=i(n(37)),s=n(6);function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,n){if(r.default.randomUUID&&!t&&!e)return r.default.randomUUID();var i=(e=e||{}).random||(e.rng||o.default)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){n=n||0;for(var a=0;a<16;++a)t[n+a]=i[a];return t}return(0,s.unsafeStringify)(i)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);t.default={randomUUID:n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(73)),o=s(n(120));function s(e){return e&&e.__esModule?e:{default:e}}var i=(0,r.default)("v5",80,o.default);t.default=i},function(e,t){"use strict";function n(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:case 3:return t^n^r;case 2:return t&n^t&r^n&r}}function r(e,t){return e<<t|e>>>32-t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){var t=[1518500249,1859775393,2400959708,3395469782],o=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var s=unescape(encodeURIComponent(e));e=[];for(var i=0;i<s.length;++i)e.push(s.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var a=e.length/4+2,c=Math.ceil(a/16),l=new Array(c),u=0;u<c;++u){for(var d=new Uint32Array(16),g=0;g<16;++g)d[g]=e[64*u+4*g]<<24|e[64*u+4*g+1]<<16|e[64*u+4*g+2]<<8|e[64*u+4*g+3];l[u]=d}l[c-1][14]=8*(e.length-1)/Math.pow(2,32),l[c-1][14]=Math.floor(l[c-1][14]),l[c-1][15]=8*(e.length-1)&4294967295;for(var f=0;f<c;++f){for(var m=new Uint32Array(80),p=0;p<16;++p)m[p]=l[f][p];for(var h=16;h<80;++h)m[h]=r(m[h-3]^m[h-8]^m[h-14]^m[h-16],1);for(var b=o[0],w=o[1],v=o[2],x=o[3],y=o[4],A=0;A<80;++A){var T=Math.floor(A/20),E=r(b,5)+n(T,w,v,x)+y+t[T]+m[A]>>>0;y=x,x=v,v=r(w,30)>>>0,w=b,b=E}o[0]=o[0]+b>>>0,o[1]=o[1]+w>>>0,o[2]=o[2]+v>>>0,o[3]=o[3]+x>>>0,o[4]=o[4]+y>>>0}return[o[0]>>24&255,o[0]>>16&255,o[0]>>8&255,255&o[0],o[1]>>24&255,o[1]>>16&255,o[1]>>8&255,255&o[1],o[2]>>24&255,o[2]>>16&255,o[2]>>8&255,255&o[2],o[3]>>24&255,o[3]>>16&255,o[3]>>8&255,255&o[3],o[4]>>24&255,o[4]>>16&255,o[4]>>8&255,255&o[4]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e={},t,n=0){var i=(0,o.default)(c(c({},e),{},{_v6:!0}),new Uint8Array(16));if(i=(0,s.default)(i),t){for(var a=0;a<16;a++)t[n+a]=i[a];return t}return(0,r.unsafeStringify)(i)};var r=n(6),o=i(n(71)),s=i(n(72));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=function(e){return Uint8Array.of((15&e[3])<<4|e[4]>>4&15,(15&e[4])<<4|(240&e[5])>>4,(15&e[5])<<4|15&e[6],e[7],(15&e[1])<<4|(240&e[2])>>4,(15&e[2])<<4|(240&e[3])>>4,16|(240&e[0])>>4,(15&e[0])<<4|(240&e[1])>>4,e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}("string"==typeof e?(0,o.default)(e):e);return"string"==typeof e?(0,s.unsafeStringify)(t):t};var r,o=(r=n(22))&&r.__esModule?r:{default:r},s=n(6)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(37))&&r.__esModule?r:{default:r},s=n(6);var i=null,a=null,c=0;t.default=function(e,t,n){e=e||{};var r=t&&n||0,l=t||new Uint8Array(16),u=e.random||(e.rng||o.default)(),d=void 0!==e.msecs?e.msecs:Date.now(),g=void 0!==e.seq?e.seq:null,f=a,m=i;return d>c&&void 0===e.msecs&&(c=d,null!==g&&(f=null,m=null)),null!==g&&(g>2147483647&&(g=2147483647),f=g>>>19&4095,m=524287&g),null!==f&&null!==m||(f=(f=127&u[6])<<8|u[7],m=(m=(m=63&u[8])<<8|u[9])<<5|u[10]>>>3),d+1e4>c&&null===g?++m>524287&&(m=0,++f>4095&&(f=0,c++)):c=d,a=f,i=m,l[r++]=c/1099511627776&255,l[r++]=c/4294967296&255,l[r++]=c/16777216&255,l[r++]=c/65536&255,l[r++]=c/256&255,l[r++]=255&c,l[r++]=f>>>4&15|112,l[r++]=255&f,l[r++]=m>>>13&63|128,l[r++]=m>>>5&255,l[r++]=m<<3&255|7&u[10],l[r++]=u[11],l[r++]=u[12],l[r++]=u[13],l[r++]=u[14],l[r++]=u[15],t||(0,s.unsafeStringify)(l)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(23))&&r.__esModule?r:{default:r};t.default=function(e){if(!(0,o.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}},function(e,t,n){"use strict";e.exports=n.p+"../images/copy-icon.svg"},function(e,t,n){"use strict";e.exports=n.p+"../images/notification-close.svg"},function(e,t,n){"use strict";t.configurationComplete=n(29),t.generateQRCode=n(87),t.installContainerHandlers=n(103),t.qrTimeout=n(46),t.setQRCode=n(45),t.showIntegrityError=n(104)},function(e,t,n){const r=n(88),o=n(129),s=n(102),i=n(133);function a(e,t,n,s,i){const a=[].slice.call(arguments,1),c=a.length,l="function"==typeof a[c-1];if(!l&&!r())throw new Error("Callback required as last argument");if(!l){if(c<1)throw new Error("Too few arguments provided");return 1===c?(n=t,t=s=void 0):2!==c||t.getContext||(s=n,n=t,t=void 0),new Promise((function(r,i){try{const i=o.create(n,s);r(e(i,t,s))}catch(e){i(e)}}))}if(c<2)throw new Error("Too few arguments provided");2===c?(i=n,n=t,t=s=void 0):3===c&&(t.getContext&&void 0===i?(i=s,s=void 0):(i=s,s=n,n=t,t=void 0));try{const r=o.create(n,s);i(null,e(r,t,s))}catch(e){i(e)}}t.create=o.create,t.toCanvas=a.bind(null,s.render),t.toDataURL=a.bind(null,s.renderToDataURL),t.toString=a.bind(null,(function(e,t,n){return i.render(e,n)}))},function(e,t,n){const r=n(7),o=n(12),s=n(89),i=n(90),a=n(91),c=n(130),l=n(47),u=n(92),d=n(93),g=n(48),f=n(132),m=n(5),p=n(49);function h(e,t,n){const r=e.size,o=f.getEncodedBits(t,n);let s,i;for(s=0;s<15;s++)i=1==(o>>s&1),s<6?e.set(s,8,i,!0):s<8?e.set(s+1,8,i,!0):e.set(r-15+s,8,i,!0),s<8?e.set(8,r-s-1,i,!0):s<9?e.set(8,15-s-1+1,i,!0):e.set(8,15-s-1,i,!0);e.set(r-8,8,1,!0)}function b(e,t,n){const o=new s;n.forEach((function(t){o.put(t.mode.bit,4),o.put(t.getLength(),m.getCharCountIndicator(t.mode,e)),t.write(o)}));const i=8*(r.getSymbolTotalCodewords(e)-u.getTotalCodewordsCount(e,t));for(o.getLengthInBits()+4<=i&&o.put(0,4);o.getLengthInBits()%8!=0;)o.putBit(0);const a=(i-o.getLengthInBits())/8;for(let e=0;e<a;e++)o.put(e%2?17:236,8);return function(e,t,n){const o=r.getSymbolTotalCodewords(t),s=u.getTotalCodewordsCount(t,n),i=o-s,a=u.getBlocksCount(t,n),c=o%a,l=a-c,g=Math.floor(o/a),f=Math.floor(i/a),m=f+1,p=g-f,h=new d(p);let b=0;const w=new Array(a),v=new Array(a);let x=0;const y=new Uint8Array(e.buffer);for(let e=0;e<a;e++){const t=e<l?f:m;w[e]=y.slice(b,b+t),v[e]=h.encode(w[e]),b+=t,x=Math.max(x,t)}const A=new Uint8Array(o);let T,E,M=0;for(T=0;T<x;T++)for(E=0;E<a;E++)T<w[E].length&&(A[M++]=w[E][T]);for(T=0;T<p;T++)for(E=0;E<a;E++)A[M++]=v[E][T];return A}(o,e,t)}function w(e,t,n,o){let s;if(Array.isArray(e))s=p.fromArray(e);else{if("string"!=typeof e)throw new Error("Invalid data");{let r=t;if(!r){const t=p.rawSplit(e);r=g.getBestVersionForData(t,n)}s=p.fromString(e,r||40)}}const u=g.getBestVersionForData(s,n);if(!u)throw new Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<u)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+u+".\n")}else t=u;const d=b(t,n,s),f=r.getSymbolSize(t),m=new i(f);return function(e,t){const n=e.size,r=c.getPositions(t);for(let t=0;t<r.length;t++){const o=r[t][0],s=r[t][1];for(let t=-1;t<=7;t++)if(!(o+t<=-1||n<=o+t))for(let r=-1;r<=7;r++)s+r<=-1||n<=s+r||(t>=0&&t<=6&&(0===r||6===r)||r>=0&&r<=6&&(0===t||6===t)||t>=2&&t<=4&&r>=2&&r<=4?e.set(o+t,s+r,!0,!0):e.set(o+t,s+r,!1,!0))}}(m,t),function(e){const t=e.size;for(let n=8;n<t-8;n++){const t=n%2==0;e.set(n,6,t,!0),e.set(6,n,t,!0)}}(m),function(e,t){const n=a.getPositions(t);for(let t=0;t<n.length;t++){const r=n[t][0],o=n[t][1];for(let t=-2;t<=2;t++)for(let n=-2;n<=2;n++)-2===t||2===t||-2===n||2===n||0===t&&0===n?e.set(r+t,o+n,!0,!0):e.set(r+t,o+n,!1,!0)}}(m,t),h(m,n,0),t>=7&&function(e,t){const n=e.size,r=g.getEncodedBits(t);let o,s,i;for(let t=0;t<18;t++)o=Math.floor(t/3),s=t%3+n-8-3,i=1==(r>>t&1),e.set(o,s,i,!0),e.set(s,o,i,!0)}(m,t),function(e,t){const n=e.size;let r=-1,o=n-1,s=7,i=0;for(let a=n-1;a>0;a-=2)for(6===a&&a--;;){for(let n=0;n<2;n++)if(!e.isReserved(o,a-n)){let r=!1;i<t.length&&(r=1==(t[i]>>>s&1)),e.set(o,a-n,r),s--,-1===s&&(i++,s=7)}if(o+=r,o<0||n<=o){o-=r,r=-r;break}}}(m,d),isNaN(o)&&(o=l.getBestMask(m,h.bind(null,m,n))),l.applyMask(o,m),h(m,n,o),{modules:m,version:t,errorCorrectionLevel:n,maskPattern:o,segments:s}}t.create=function(e,t){if(void 0===e||""===e)throw new Error("No input text");let n,s,i=o.M;return void 0!==t&&(i=o.from(t.errorCorrectionLevel,o.M),n=g.from(t.version),s=l.from(t.maskPattern),t.toSJISFunc&&r.setToSJISFunction(t.toSJISFunc)),w(e,n,i,s)}},function(e,t,n){const r=n(7).getSymbolSize;t.getPositions=function(e){const t=r(e);return[[0,0],[t-7,0],[0,t-7]]}},function(e,t){const n=new Uint8Array(512),r=new Uint8Array(256);!function(){let e=1;for(let t=0;t<255;t++)n[t]=e,r[e]=t,e<<=1,256&e&&(e^=285);for(let e=255;e<512;e++)n[e]=n[e-255]}(),t.log=function(e){if(e<1)throw new Error("log("+e+")");return r[e]},t.exp=function(e){return n[e]},t.mul=function(e,t){return 0===e||0===t?0:n[r[e]+r[t]]}},function(e,t,n){const r=n(7),o=r.getBCHDigit(1335);t.getEncodedBits=function(e,t){const n=e.bit<<3|t;let s=n<<10;for(;r.getBCHDigit(s)-o>=0;)s^=1335<<r.getBCHDigit(s)-o;return 21522^(n<<10|s)}},function(e,t,n){const r=n(24);function o(e,t){const n=e.a/255,r=t+'="'+e.hex+'"';return n<1?r+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function s(e,t,n){let r=e+t;return void 0!==n&&(r+=" "+n),r}t.render=function(e,t,n){const i=r.getOptions(t),a=e.modules.size,c=e.modules.data,l=a+2*i.margin,u=i.color.light.a?"<path "+o(i.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",d="<path "+o(i.color.dark,"stroke")+' d="'+function(e,t,n){let r="",o=0,i=!1,a=0;for(let c=0;c<e.length;c++){const l=Math.floor(c%t),u=Math.floor(c/t);l||i||(i=!0),e[c]?(a++,c>0&&l>0&&e[c-1]||(r+=i?s("M",l+n,.5+u+n):s("m",o,0),o=0,i=!1),l+1<t&&e[c+1]||(r+=s("h",a),a=0)):o++}return r}(c,a,i.margin)+'"/>',g='viewBox="0 0 '+l+" "+l+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+g+' shape-rendering="crispEdges">'+u+d+"</svg>\n";return"function"==typeof n&&n(null,f),f}}],t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),function(){var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var o=r.length-1;o>-1&&(!e||!/^http(s?):/.test(e));)e=r[o--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e}(),function(){"use strict";const e=n(1),t=n(0),r=n(25),o=n(9),s=n(3),i=n(8),a=n(58),{delay:c,extPageOnMessage:l,handleTargetBlank:u,hidePreloader:d,storageValidation:g,storeLog:f}=n(109),{generateQRCode:m,installContainerHandlers:p,showIntegrityError:h}=n(127);i(null).then((async n=>{r();try{await g(n)}catch(n){return n.toString().includes("Too many attempts")?(d(!0),h(),!1):c((()=>t.runtime.sendMessage({action:"storageReset"}).then((()=>window.location.reload())).catch((async e=>await f("error",38,e,"storageValidationReload")))),5300)}const s=await a(n,null,{action:!1,timeout:!1,login:!1,requestID:null,notifications:{timeout:e.Texts.Error.Timeout,error:e.Texts.Error.General}}),i=(new o).generateQRLink(n.extensionID);return m(i).then((e=>p(s,e,n.extensionID))).then(u).then((()=>d(!0))).then((()=>t.runtime.onMessage.addListener(l)))})).catch((t=>(async t=>(await f("error",20,t,"installPage"),s.showWithoutTimeout(e.Texts.Error.OnInstallError)))(t)))}()}();
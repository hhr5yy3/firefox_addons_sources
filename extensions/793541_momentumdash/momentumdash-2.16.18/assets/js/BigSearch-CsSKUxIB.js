const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/SearchChat-DOuJflRi.js","assets/js/index-B0SY0IAS.js","assets/js/icon-alert-mvI7iJMO.js","assets/js/localStorage-C5mLf9Kt.js","assets/js/preload-helper-DmNsytk6.js","assets/js/string-VUUyAM1F.js","assets/js/ChatContent-CO1B2b9q.js","assets/js/AppView-Qx0X2CIl.js","assets/css/AppView-CN0ZToq1.css","assets/js/index-S6WCWdQc.js","assets/js/migrateLegacyUserMessageHandler-D55cXb1Z.js","assets/js/main-DbylMrX8.js","assets/css/index-C0DDMXTO.css","assets/js/google-DKPAcOmk.js","assets/js/icon-back-D_TFrgyJ.js","assets/js/SmoothReflow-CBWUjKVT.js","assets/js/allComponentsMounted-C3UsG_cA.js","assets/css/SmoothReflow-DiGQ1RDg.css","assets/js/AppViewSwitchDynamic-UURtKiXb.js","assets/css/AppViewSwitchDynamic-BrdO2Yfv.css","assets/js/AppHeader-eAd5pkN8.js","assets/js/AppHeaderControl-DtHppUzb.js","assets/css/AppHeaderControl-C6b_K81h.css","assets/js/icon-hide-NFfBhfBx.js","assets/css/AppHeader-CXINzJ-M.css","assets/js/AppEmpty-C2yt7YWV.js","assets/css/AppEmpty-Dx9PwJtJ.css","assets/js/chat-BNZtlj49.js","assets/js/icon-plus-D4YOesIc.js","assets/js/arrow-up-1QPpu78M.js","assets/css/ChatContent-D50rOtYj.css","assets/js/globalKeyEventManager-FFJ3_dcn.js","assets/css/SearchChat-CJ_dI_6n.css"])))=>i.map(i=>d[i]);
import{_ as t}from"./preload-helper-DmNsytk6.js";import{S as e,m as s}from"./SearchInput-B-fhtZF6.js";import{a as o}from"./reactiveCustomization-OmNBH0KE.js";import{T as r}from"./index-S6WCWdQc.js";import{a}from"./allComponentsMounted-C3UsG_cA.js";import{u as i}from"./chat-BNZtlj49.js";import{u as p}from"./ViewState-BPM6-Gc_.js";import{A as n,a0 as c,e as h,o as l}from"./icon-alert-mvI7iJMO.js";import{s as u}from"./showAnyway-Cm28IABw.js";import"./google-DKPAcOmk.js";import"./SoftFocus-BUhesXB-.js";import"./BaseDropdown-Cs0gGk_n.js";import"./BaseDropdownContent-BkIWXp6C.js";import"./constants-CALDQiUE.js";import"./index-B0SY0IAS.js";import"./portal-vue.esm-CMantqsQ.js";import"./icon-ellipsis-D3jS4u3x.js";import"./BaseDropdownText-CQGqtgUM.js";import"./BaseDropdownOption-Bh188UwR.js";import"./onboardingStepCollection-KGcWjow1.js";import"./VueBase-DZEWjrk8.js";import"./index-CJJH83pl.js";import"./itemModelMixin-C4aFFEEM.js";import"./namesMixin-DfNb5KMg.js";import"./itemDataServiceMixins-APVa4EWO.js";import"./icon-asana-Csd73e1k.js";import"./focusModeHelpers-Dnjy08Ra.js";import"./scenes-DlKs5kIo.js";import"./ocean-bubbles-GcKjBI5B.js";import"./PomodoroTimers-BWkB-14p.js";import"./SubscriptionSummary-yifW6y7J.js";import"./localStorage-C5mLf9Kt.js";import"./string-VUUyAM1F.js";import"./migrateLegacyUserMessageHandler-D55cXb1Z.js";import"./main-DbylMrX8.js";import"./authService-BcSP4pRZ.js";import"./loginHelpers-BgZoFN0w.js";import"./icon-confetti-Dz2LojDe.js";import"./siteBlockerGroups-DKJNTMAC.js";import"./constants-BT5o8PmI.js";import"./compareObjects-BF7sSNEf.js";import"./icon-down-BiHbKN-t.js";const d=p("searchChat"),j=new n({feature:"ask ai",is_paid_event:!0,location:"search"});const g=l({name:"BigSearch",components:{SearchChat:()=>t((()=>import("./SearchChat-DOuJflRi.js")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32])),SearchInput:e,ThreeColLayout:r},mixins:[a],provide(){return{viewStateStore:this.searchChatViewStateStore,capture:j.capture.bind(j)}},setup:()=>({showAnyway:u}),computed:{...c(i,d),searchVisible:()=>o.searchVisible&&o.centerBelowNavVisible},mounted(){m.widgetManager.appReady(s.id),m.trigger("bigSearch:mounted")},methods:{showChatPopup(t){if(!this.$plus)return this.showAiChatUpsell();this.searchChatViewStateStore.togglePopup(!0),this.chatStore.clear(),this.chatStore.input=t;const e=this.chatStore.input.length;this.chatStore.submit({afterSuccess:()=>this.captureAnalyticsWithCommonProps("send message",{message_length:e}),afterError:()=>this.captureAnalyticsWithCommonProps("send message error",{message_length:e})}),h.$emit("chat:close")},showAiChatUpsell(){m.cmd("modal.open","UPSELL_AI_CHAT",{eventSource:"dash"})},captureAnalyticsWithCommonProps(t,e={}){j.capture(t,{message_count:this.chatStore.chatMessages.length,...this.chatStore.error?{error_type:this.chatStore.error.type,error_message:this.chatStore.error.message}:{},...e})}}},(function(){var t=this,e=t._self._c;return e("three-col-layout",{staticClass:"has-dash-icon big-search-wrapper",attrs:{"grow-center":!0,"max-center-grow":"584px"},scopedSlots:t._u([{key:"left",fn:function(){return[t._t("nav")]},proxy:!0},{key:"center",fn:function(){return[e("div",{staticClass:"big search app-container hide-apps-no-fade",class:{"show-anyway":t.showAnyway.includes("big-search")},attrs:{"data-test":"search","data-show-anyway":"big-search"}},[e("search-input",{staticClass:"hide-apps-fade",attrs:{"big-search":!0,placeholder:"Search"},on:{showChatPopup:t.showChatPopup}}),e("transition",{attrs:{name:"search-expand"}},[t.searchChatViewStateStore.popupActive?e("search-chat",{on:{close:function(e){return t.searchChatViewStateStore.togglePopup(!1)}}}):t._e()],1),e("div",{staticClass:"backdrop-filter hide-apps-fade"})],1)]},proxy:!0}],null,!0)})}),[],!1,null,"89eac1d4").exports;export{g as default};
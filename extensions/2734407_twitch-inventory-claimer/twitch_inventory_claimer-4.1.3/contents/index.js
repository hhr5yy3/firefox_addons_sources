(()=>{"use strict";window._originalFetch=window._originalFetch||fetch,window._originalWebSocket=window._originalWebSocket||WebSocket,window.fetch=new Proxy(window._originalFetch,{apply:(t,e,n)=>t.apply(e,n).then((t=>(t.url.includes("https://gql.twitch.tv/gql")&&t.clone().json().then((t=>{window.postMessage({type:"TIC_M2I_FP",payload:t},"*")})),t.url.includes("https://gql.twitch.tv/integrity")&&t.clone().json().then((t=>{window.postMessage({type:"TIC_M2I_FP_INTEGRITY",payload:{requestMeta:n,data:t}},"*")})),t)))}),window.WebSocket=new Proxy(window._originalWebSocket,{construct(t,e){const n=new t(...e);return n.addEventListener("message",(t=>{t.target&&"url"in t.target&&"wss://pubsub-edge.twitch.tv/v1"===t.target.url&&t.data&&"string"==typeof t.data&&window.postMessage({type:"TIC_M2I_WP",payload:JSON.parse(t.data)},"*")})),n}})})();
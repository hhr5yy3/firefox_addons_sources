!function(){var e;!function(e){const t="grammarly-desktop-integration";e.inject=function(e=document.documentElement){var n,o;const r=`\n      div.${t} {\n        position: absolute;\n        width: 1px;\n        height: 1px;\n        padding: 0;\n        margin: -1px;\n        overflow: hidden;\n        clip: rect(0, 0, 0, 0);\n        white-space: nowrap;\n        border: 0;\n        -moz-user-select: none;\n        -webkit-user-select: none;\n        -ms-user-select:none;\n        user-select:none;\n      }\n\n      div.${t}:before {\n        content: attr(data-content);\n      }\n    `,s=document.createElement("style");s.textContent=r;const i=document.createElement("div");i.setAttribute("aria-label","grammarly-integration"),i.setAttribute("role","group"),i.setAttribute("tabindex","-1"),i.setAttribute("class",t);const c=document.createElement(t);return c.attachShadow({mode:"open"}),c.setAttribute("data-grammarly-shadow-root","true"),null===(n=c.shadowRoot)||void 0===n||n.appendChild(s),null===(o=c.shadowRoot)||void 0===o||o.appendChild(i),e.appendChild(c),{activate:({isActive:e,isUserDisabled:t,mode:n})=>{null==i||i.setAttribute("data-content",JSON.stringify(n?{mode:n,isActive:e,isUserDisabled:t}:{isActive:e}))},remove:()=>{var e;null===(e=null==c?void 0:c.parentNode)||void 0===e||e.removeChild(c)}}},e.isInjected=function(){return!!document.querySelector(t)}}(e||(e={}));const t="message:to-priv";var n;function o(){return(65536*(1+Math.random())|0).toString(16).substring(1)}!function(e){e[e.success=0]="success",e[e.successWithEmpty=1]="successWithEmpty",e[e.alreadyMigrated=2]="alreadyMigrated"}(n||(n={}));var r;!function(e){e.syncDevtoolsInitialStateWithTab="syncDevtoolsInitialStateWithTab"}(r||(r={}));class s{constructor(e,t){this._firefox=e;try{this.port=this._firefox.runtime.connect({name:t})}catch(e){this.onMessage=()=>{},this.onDisconnect=()=>{},this.postMessage=()=>{}}}onMessage(e){this.port.onMessage.addListener(e)}onDisconnect(e){this.port.onDisconnect.addListener(e)}postMessage(e){this.port.postMessage(e)}}Object.defineProperty(HTMLElement.prototype,"focus",{...Object.getOwnPropertyDescriptor(HTMLElement.prototype,"focus"),writable:!0}),void 0!==browser&&function(t,n,o){o({level:"INFO",logger:"gDocsEarlyInjector.startInitialization"});try{!function(e,t,n,o=document,r=!1,s,i){const c=e,a=o.documentElement;if(r){const e=o.createElement("link");e.href=c,e.rel="preload",e.as="script",e.onload=()=>{e.remove()},a.prepend(e)}const l=o.createElement("script");l.async=!1,l.defer=!1,l.src=c,l.type="text/javascript",t&&l.setAttribute("data-ext-id",t),n&&l.setAttribute("data-ext-version",n),l.onload=()=>{null==s||s(),l.remove()},l.onerror=()=>{null==i||i()},a.prepend(l)}(n("Grammarly-gDocsEarlyInjectedCs.js"),t,void 0,void 0,!0,(()=>o({level:"INFO",logger:"gDocsEarlyInjector.injected",femetricsExtra:{script:"gDocsEarlyInjectedCs"}})),(()=>o({level:"ERROR",logger:"gDocsEarlyInjector.injectError",femetricsExtra:{script:"gDocsEarlyInjectedCs"}}))),e.inject().activate({isActive:!0}),o({level:"INFO",logger:"gDocsEarlyInjector.finishInitialization"})}catch(e){o({level:"ERROR",logger:"gDocsEarlyInjector.failInitialization",error:e})}}(browser.runtime.id,(e=>browser.runtime.getURL(`src/js/${e}`)),function(e){const n=e(t);return function(e){n.postMessage({type:"cs-to-bg-rpc-1557421403805",callid:o()+o()+"-"+o()+"-"+o()+"-"+o()+"-"+o()+o()+o(),content:{data:{args:["tracking/RPC",["sendFelogEvent",Object.assign({sendToFemetrics:!0},e)]],method:"trackCall"}}})}}((e=>new s(browser,e))))}();
var M=Object.defineProperty;var f=(a,e,t)=>e in a?M(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t;var y=(a,e,t)=>f(a,typeof e!="symbol"?e+"":e,t);import{k as v}from"./__uno-DYKbpgs3.js";let p;const k=()=>{if(p==null&&(p=v("foregroundRuntime")),p==null)throw Error("Missing foregroundRuntime for injection");return p},S="modulepreload",w=function(a){return"/"+a},d={},R=function(e,t,r){let g=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),s=(n==null?void 0:n.nonce)||(n==null?void 0:n.getAttribute("nonce"));g=Promise.allSettled(t.map(i=>{if(i=w(i),i in d)return;d[i]=!0;const l=i.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${u}`))return;const o=document.createElement("link");if(o.rel=l?"stylesheet":S,l||(o.as="script"),o.crossOrigin="",o.href=i,s&&o.setAttribute("nonce",s),document.head.appendChild(o),l)return new Promise((h,m)=>{o.addEventListener("load",h),o.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${i}`)))})}))}function c(n){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=n,window.dispatchEvent(s),!s.defaultPrevented)throw n}return g.then(n=>{for(const s of n||[])s.status==="rejected"&&c(s.reason);return e().catch(c)})},C=async()=>new(await R(async()=>{const{ExtensionForegroundRuntime:a}=await import("./ExtensionForegroundRuntime-Bna5j2b5.js");return{ExtensionForegroundRuntime:a}},[])).ExtensionForegroundRuntime,P=C().then(a=>{const e=(r,g)=>{var c;return(c=r.stack)==null?void 0:c.split(`
`).slice(g).some(n=>n.includes(a.getFileUrl("")))},t=["debug","info","warn","error","log","assert","trace","table"];for(const r of t){if(!(r in console))continue;const g=console[r],c=(...n)=>{e(new Error,1)!==!0&&g.apply(console,n)};console[r]=c}return a.initEnvironment(),a.getCurrentUrl().startsWith("http")&&a.getMessagingService().listen(),a});class U{constructor(e){y(this,"runtime");this.runtime=e}async checkStorageHealth(){await this.runtime.getMessagingService().sendMessageWithReply({type:"checkStorageHealth",payload:void 0})}async dropCookie(e){await this.runtime.getMessagingService().sendMessageWithReply({type:"dropCookie",payload:e})}async getAllParameters(){return(await this.runtime.getMessagingService().sendMessageWithReply({type:"getAllParameters",payload:{}})).payload.parameters}async getCachedSingleUseOfferCodes(){return(await this.runtime.getMessagingService().sendMessageWithReply({type:"getCachedSingleUseOfferCodes",payload:{}})).payload.codes}async getContainerContent(e,t){return(await this.runtime.getMessagingService().sendMessageWithReply({type:"getContainerContent",payload:{technicalName:e,contentLengthLimit:t}})).payload.content}async getCouponApplierConfig(e){return(await this.runtime.getMessagingService().sendMessageWithReply({type:"getCouponApplierConfig",payload:{merchantId:e}})).payload.config}async getMerchantBonuses(e){return(await this.runtime.getMessagingService().sendMessageWithReply({type:"getMerchantBonuses",payload:{merchantId:e}})).payload.bonuses}async getMerchantById(e){return(await this.runtime.getMessagingService().sendMessageWithReply({type:"getMerchantById",payload:{merchantId:e}})).payload.merchant}async getMerchantOffers(e){return(await this.runtime.getMessagingService().sendMessageWithReply({type:"getMerchantOffers",payload:{merchantId:e}})).payload.offers}async getMerchantsByUrl(e){return(await this.runtime.getMessagingService().sendMessageWithReply({type:"getMerchantsByUrl",payload:{url:e}})).payload.merchants}async getSidebarInitData(){return(await this.runtime.getMessagingService().sendMessageWithReply({type:"getSidebarInitData",payload:{}})).payload}async getSimilarMerchants(e){return(await this.runtime.getMessagingService().sendMessageWithReply({type:"getSimilarMerchants",payload:{merchantId:e}})).payload.merchants}async getSingleUseOfferCode(e){return(await this.runtime.getMessagingService().sendMessageWithReply({type:"getSingleUseOfferCode",payload:{offerId:e}})).payload.code}async getTrustpilotReviews(e,t){return(await this.runtime.getMessagingService().sendMessageWithReply({type:"getTrustpilotReviews",payload:{limit:e,offset:t}})).payload.trustpilotReviews}async getCashbackActivation(e){return(await this.runtime.getMessagingService().sendMessageWithReply({type:"getCashbackActivation",payload:{merchantId:e}})).payload.cashbackActivation}async openExtensionPage(e,t){return(await this.runtime.getMessagingService().sendMessageWithReply({type:"openExtensionPage",payload:{pageName:e,anchor:t}})).payload}async registerUserClick(e,t){const r=Date.now();return(await this.runtime.getMessagingService().sendMessageWithReply({type:"registerUserClick",payload:{timestamp:r,isSidebarOpenIntent:e,merchantSelectionIntent:t}})).payload}async requestNotificationLock(e,t){return(await this.runtime.getMessagingService().sendMessageWithReply({type:"requestNotificationLock",payload:{notificationId:e,lockDurationInMs:t}})).payload.requestAccepted}async sendCouponApplierTrackingEvent(e){return(await this.runtime.getMessagingService().sendMessageWithReply({type:"sendCouponApplierTrackingEvent",payload:e})).payload.sent}async setSelectedMerchantId(e,t){return(await this.runtime.getMessagingService().sendMessageWithReply({type:"setSelectedMerchantId",payload:{merchantId:e,url:t}})).payload}async trackNotificationEvent(e,t){return(await this.runtime.getMessagingService().sendMessageWithReply({type:"trackNotificationEvent",payload:{eventType:e,notificationId:t}})).payload}async trackShoppingCartPageDetectionSuccess(e,t){return(await this.runtime.getMessagingService().sendMessageWithReply({type:"trackShoppingCartPageDetectionSuccess",payload:{merchant:e,detectionMethod:t}})).payload}async trackUserInterfaceEvent(e,t){return(await this.runtime.getMessagingService().sendMessageWithReply({type:"trackUserInterfaceEvent",payload:{eventType:e,taggingData:t}})).payload}async updateParameter(e,t){return(await this.runtime.getMessagingService().sendMessageWithReply({type:"updateParameter",payload:{name:e,value:t}})).payload}}export{U as B,P as r,k as u};

(e=>{(e.NSSS=e.NSSS||{}).extensionURLValidatorHelper=((s,i)=>{let{isntNil:o,isNil:a}=s.utils,t=i.constants,r={_installedNortonExtensions:{},_setInstalledExtensionIdentifier:function(t){let e={name:i.uiConstants.MESSAGES.GET_INTERNAL_IDENTIFIER};return new Promise(n=>{s.extensionAdapter.sendMessageExternal(t,e,e=>(o(s.extensionAdapter.getLastError())||a(e)||(this._installedNortonExtensions[t]=e.internalIdentifier),n()))})},_setInstalledExtensionIdentifiers:async function(){return o(r._setInstalledIdentifiersPromise)||(r._setInstalledIdentifiersPromise=(async()=>{var e=(i.chromeGlobal.THREE_IN_ONE_EXTENSION?[]:[...t.NORTON_HP_EXTENSION_IDS,...t.NORTON_DS_EXTENSION_IDS]).map(e=>this._setInstalledExtensionIdentifier(e));await Promise.all(e)})()),r._setInstalledIdentifiersPromise},getNortonExtensionIdentifiers:async function(){return await this._setInstalledExtensionIdentifiers(),Object.values(r._installedNortonExtensions)},handleNortonExtensionInstallMessage:function(e,n){a(e)||a(n)||(n=n.id,[...t.NORTON_HP_EXTENSION_IDS,...t.NORTON_DS_EXTENSION_IDS].includes(n)&&e.name===i.uiConstants.MESSAGES.SEND_INTERNAL_IDENTIFIER&&(e=e.internalIdentifier,o(e))&&(r._installedNortonExtensions[n]=e))}};return r})(e.SymBfw,e.NSSS),!1===e.NSSS.chromeGlobal.THREE_IN_ONE_EXTENSION&&(SymBfw.extensionAdapter.addMessageExternalListener(e.NSSS.extensionURLValidatorHelper.handleNortonExtensionInstallMessage),e.NSSS.extensionURLValidatorHelper.getNortonExtensionIdentifiers())})(executionContext);
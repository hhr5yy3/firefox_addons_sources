(()=>{"use strict";var e={4056:(e,t,i)=>{var o;Object.defineProperty(t,"__esModule",{value:!0}),t.maxResolution=t.handledVideosPlatform=t.url_belin_api_resources=t.url_belin_api=t.url_belin_resources=t.url_belin=t.url_labo=t.url_frigo=t.url_auth=t.url_keycloack=t.url_api=t.base_url_front=t.VERSION=void 0,i(7505),i(872),i(7466),i(3848);const r=i(7260);let s;i(3734),s=r.config,t.VERSION=null!==(o=s.VERSION)&&void 0!==o?o:"3.50.1",t.base_url_front=s.base_url_front,t.url_api=s.url_api,t.url_keycloack=s.url_keycloack,t.url_auth=t.url_keycloack+"/realms/lde-poplab/protocol/openid-connect",t.url_frigo=t.base_url_front+"/frigo",t.url_labo=t.base_url_front+"/labo/mes-documents",t.url_belin="https://manuelnumeriquemax.belin.education/",t.url_belin_resources="https://resources.manuelnumeriquemax.belin.education/",t.url_belin_api="https://api.manuelnumeriquemax.belin.education/main/v1/nodes/",t.url_belin_api_resources="https://api.manuelnumeriquemax.belin.education/main/v1/resources",t.handledVideosPlatform=["youtube.com/watch","youtube.com/embed","youtu.be/","vimeo.com/","dailymotion.com/"],t.maxResolution=49e6},7466:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.config=void 0,t.config={base_url_front:"https://app.integration-its.poplab.education",url_api:"https://app.integration-its.poplab.education/api",url_keycloack:"https://id.integration-its.poplab.education"}},7505:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.config=void 0,t.config={base_url_front:"http://localhost:8000",url_api:"http://localhost:8082/api",url_keycloack:"http://auth.poplab.local"}},3848:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.config=void 0,t.config={base_url_front:"https://app.preprod-its.poplab.education",url_api:"https://app.preprod-its.poplab.education/api",url_keycloack:"https://id.preprod-its.poplab.education"}},7260:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.config=void 0,t.config={base_url_front:"https://app.poplab.education",url_api:"https://app.poplab.education/api",url_keycloack:"https://auth.poplab.education"}},872:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.config=void 0,t.config={base_url_front:"https://app.sandbox.poplab.education",url_api:"https://app.sandbox.poplab.education/api",url_keycloack:"https://id.sandbox.poplab.education"}},3734:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.config=void 0,t.config={VERSION:"TEST",base_url_front:"https://app.sandbox.poplab.education",url_api:"https://app.sandbox.poplab.education/api",url_keycloack:"https://id.sandbox.poplab.education"}},8300:function(e,t){var i=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))((function(r,s){function n(e){try{a(o.next(e))}catch(e){s(e)}}function l(e){try{a(o.throw(e))}catch(e){s(e)}}function a(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(n,l)}a((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Canvas=void 0,t.Canvas=class{constructor(e,t){this.canvas=document.createElement("canvas"),this.canvas.width=e,this.canvas.height=t,this.ctx=this.canvas.getContext("2d"),this.verifier_taille()}get base64(){return this.canvas.toDataURL("image/png")}ajouter_image(e,t,o){return i(this,void 0,void 0,(function*(){t.x*=window.devicePixelRatio,t.y*=window.devicePixelRatio,t.largeur*=window.devicePixelRatio,t.hauteur*=window.devicePixelRatio,o.x=Math.floor(o.x),o.y=Math.floor(o.y);const i=yield new Promise(((t,i)=>{const o=new Image;o.onload=()=>t(o),o.onerror=i,o.src=e}));this.ctx.drawImage(i,t.x,t.y,t.largeur,t.hauteur,o.x,o.y,o.largeur,o.hauteur)}))}verifier_taille(){if(this.ctx.fillStyle="rgb(0, 100, 0)",this.ctx.fillRect(this.canvas.width-1,this.canvas.height-1,1,1),0==this.ctx.getImageData(this.canvas.width-1,this.canvas.height-1,1,1).data[1])throw new Error(chrome.i18n.getMessage("erreur_taille_element"));this.ctx.clearRect(this.canvas.width-1,this.canvas.height-1,1,1)}}},8628:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CaptureAvecOverlay=void 0;const o=i(1241);class r extends o.Capture{constructor(e){super(e)}startCapture(){super.startCapture();const e=document.querySelectorAll(this.selector);if(1==e.length)return this.capturer(e[0]);this.afficher_overlay(0,0,0,0)}reinitializeCapture(){super.reinitializeCapture(),this.supprimer_overlay()}afficher_overlay(e,t,i,o){e=Math.round(e),t=Math.round(t),i=Math.round(i),o=Math.round(o);const r=(e,t,i,o,r)=>{let s=document.querySelector("#poplab-overlay-"+e);s||(s=document.createElement("div"),s.id="poplab-overlay-"+e,s.className="poplab-overlay",document.documentElement.appendChild(s)),s.style.top=`${i}px`,s.style.left=`${t}px`,s.style.width=`${o}px`,s.style.height=`${r}px`};document.documentElement.classList.add("poplab-capture-en-cours"),document.onselectstart=()=>!1,document.onmouseover=()=>!1;const s=e+i,n=t+o;r("haut",0,0,Math.max(document.documentElement.scrollWidth,window.innerWidth),t),r("gauche",0,t,e,o),r("droite",s,t,Math.max(document.documentElement.scrollWidth-s,window.innerWidth-s),o),r("bas",0,n,Math.max(document.documentElement.scrollWidth,window.innerWidth),Math.max(document.documentElement.scrollHeight-n,window.innerHeight-n));let l=document.querySelector(".poplab-auto-overlay");l||(l=document.createElement("div"),l.className="poplab-auto-overlay",document.documentElement.appendChild(l)),l.style.top=`${Math.round(t)}px`,l.style.left=`${Math.round(e)}px`,l.style.width=`${Math.round(i)}px`,l.style.height=`${Math.round(o)}px`}supprimer_overlay(){const e=document.querySelectorAll(".poplab-overlay");for(const t of e)document.documentElement.removeChild(t);const t=document.querySelector(".poplab-auto-overlay");t&&document.documentElement.removeChild(t),document.documentElement.classList.remove("poplab-capture-en-cours"),document.onselectstart=()=>!0,document.onmouseover=()=>!0}trouver_element(e,t){const i=document.querySelectorAll(this.selector);for(const o of i){const i=o.getBoundingClientRect();if(!(e<i.left||e>i.right||t<i.top||t>i.bottom))return o}return null}mousemove(e){super.mousemove(e),this.afficher_overlay(0,0,0,0);const t=this.trouver_element(e.clientX,e.clientY);if(!t)return;const i=t.getBoundingClientRect();return this.afficher_overlay(i.left+window.scrollX,i.top+window.scrollY,i.width,i.height),!0}mouseup(e){if(super.mouseup(e),0!=e.button)return this.afficher_overlay(0,0,0,0),!0;const t=this.trouver_element(e.clientX,e.clientY);return t?(this.capturer(t),!0):(this.afficher_overlay(0,0,0,0),!0)}}t.CaptureAvecOverlay=r},1241:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Capture=void 0;const o=i(8033),r=i(2688),s=i(853),n=i(4911);t.Capture=class{constructor(e){this.mediaPreviews=[],this.elementsLength=void 0,this.elementNumber=void 0,this.description="",this.titre="",this.type=r.CaptureType.BASIQUE,this.callback=void 0,this.capture_en_cours=!1,this.listeners=new Map,this.selector=void 0,this.recapturable=!0,this.editable=!0,this.menu=e}startCapture(){this.reinitializeCapture(),this.mediaPreviews=[],this.listeners.set("keydown",this.keydown.bind(this)),this.listeners.set("mousedown",this.mousedown.bind(this)),this.listeners.set("mousemove",this.mousemove.bind(this)),this.listeners.set("mouseup",this.mouseup.bind(this)),this.listeners.forEach(((e,t)=>{document.addEventListener(t,e)})),this.menu.div.style.top="-9999px",this.menu.div.style.right="-9999px",this.capture_en_cours=!0}reinitializeCapture(){this.listeners.forEach(((e,t)=>{document.removeEventListener(t,e)})),this.listeners.clear(),this.menu.div.style.top="10px",this.menu.div.style.right="10px",this.capture_en_cours=!1}capturer(e){this.startCapture(),this.sendCaptureToMenu(new r.ElementCaptureData)}sendCaptureToMenu(e){this.reinitializeCapture(),this.data=e,this.menu.displayCaptureInfos()}sendCaptureToPoplab(e,t){var i,l,a,c,u;if((0,n.clearHighlight)(),this.data instanceof r.ElementCaptureData&&t){this.data.titre=t.titre,this.data.description=t.description,this.data.credit||(this.data.credit=document.URL);const e=[],o=[],r=[],s=[],n=[];null===(i=this.data.images)||void 0===i||i.forEach((i=>{-1!==t.mediasIds.indexOf(i.id)&&e.push(i)})),null===(l=this.data.videos)||void 0===l||l.forEach((e=>{-1!==t.mediasIds.indexOf(e.id)&&o.push(e)})),null===(a=this.data.audios)||void 0===a||a.forEach((e=>{-1!==t.mediasIds.indexOf(e.id)&&r.push(e)})),null===(c=this.data.urls)||void 0===c||c.forEach((e=>{-1!==t.mediasIds.indexOf(e.id)&&s.push(e)})),null===(u=this.data.fichiers)||void 0===u||u.forEach((e=>{-1!==t.mediasIds.indexOf(e.id)&&n.push(e)})),this.data.images=e,this.data.audios=r,this.data.videos=o,this.data.urls=s,this.data.fichiers=n,this.titre=t.titre,this.description=t.description}this.menu.old_capture=this,browser.runtime.sendMessage(new o.BrowserRuntimeMessageForPoplab(this.data instanceof r.ElementCaptureData?s.PoplabObjectType.ELEMENT:s.PoplabObjectType.DOCUMENT,this.type,this.data,e))}mousedown(e){return!0}mousemove(e){return!0}mouseup(e){return!0}keydown(e){return!0}isEmpty(){var e,t;return!(this.titre||this.description||(null===(e=this.data)||void 0===e?void 0:e.titre)||(null===(t=this.data)||void 0===t?void 0:t.description)||0!==this.mediaPreviews.length)}}},7200:function(e,t,i){var o=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))((function(r,s){function n(e){try{a(o.next(e))}catch(e){s(e)}}function l(e){try{a(o.throw(e))}catch(e){s(e)}}function a(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(n,l)}a((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.CaptureZone=void 0;const r=i(8033),s=i(2688),n=i(8628),l=i(8300),a=i(4056);class c extends n.CaptureAvecOverlay{constructor(e){super(e),this.init_taille_scrollbar(),this.type=s.CaptureType.UPLOAD,this.selector="*",this.isCapturingZone=!1}startCapture(){super.startCapture(),this.position_initiale=void 0}init_taille_scrollbar(){const e=document.createElement("div");e.id="poplab-scroll-test";const t=document.createElement("div");t.style.height="100px",e.appendChild(t),document.body.appendChild(e),this.hauteur_scrollbar=Math.round(e.offsetHeight-t.offsetHeight),this.largeur_scrollbar=Math.round(e.offsetWidth-t.offsetWidth),document.body.removeChild(e)}get largeur_fenetre(){return document.documentElement.clientHeight==document.documentElement.scrollHeight?window.innerWidth:window.innerWidth-this.largeur_scrollbar}get hauteur_fenetre(){return document.documentElement.clientWidth==document.documentElement.scrollWidth?window.innerHeight:window.innerHeight-this.hauteur_scrollbar}smart_scroll(e,t){e=Math.min(e,document.documentElement.scrollWidth-this.largeur_fenetre),t=Math.min(t,document.documentElement.scrollHeight-this.hauteur_fenetre),e=Math.max(e,0),t=Math.max(t,0);const i=document.createElement("div");return i.id="poplab-fakescreen",i.style.top=`${t}px`,i.style.left=`${e}px`,i.style.width=`${this.largeur_fenetre}px`,i.style.height=`${this.hauteur_fenetre}px`,document.documentElement.appendChild(i),new Promise(((o,r)=>{const s=setInterval((()=>window.scrollTo(e,t)),100);new IntersectionObserver((([e])=>{e.isIntersecting&&(clearInterval(s),document.documentElement.removeChild(i),o())})).observe(i),window.scrollTo(e,t)}))}capturer_zone(e,t,i,n){return o(this,void 0,void 0,(function*(){this.isCapturingZone=!0,e=Math.round(e),t=Math.round(t),i=Math.min(document.documentElement.scrollWidth-e,Math.round(i)),n=Math.min(document.documentElement.scrollHeight-t,Math.round(n));const o=window.scrollX,c=window.scrollY;if(window.innerHeight<=500)return void window.alert(chrome.i18n.getMessage("fenetre_trop_petite"));if(i*n>a.maxResolution)return window.alert(chrome.i18n.getMessage("image_trop_grande")),void this.reinitializeCapture();const u=new l.Canvas(i,n);let d=0;this.supprimer_overlay(),yield new Promise(((e,t)=>window.requestAnimationFrame(e))),yield new Promise(((e,t)=>window.requestAnimationFrame(e)));e:for(;d<n;){const o=Math.min(250,t+d);let s=0;for(let l=0;l<i;l+=this.largeur_fenetre){yield this.smart_scroll(e+l,t+d-o);const a=e+l-window.scrollX,c=t+d-window.scrollY,h=Math.min(this.largeur_fenetre-a,i-l);if(0==l&&(s=Math.min(this.hauteur_fenetre-c,n-d),t+d+s+250<document.documentElement.scrollHeight&&(s-=250),s<=0&&(s=n-d)),s<=0||h<=0){console.error("Houlà ! On ne peut pas prendre de screenshot avec hauteur",s,"et largeur",h,": on suppose que la capture est terminée."),console.info({x:e,y:t,scrollX:window.scrollX,scrollY:window.scrollY,largeur:i,largeur_capturee:l,hauteur:n,hauteur_capturee:d});break e}window.chrome&&(yield new Promise(((e,t)=>setTimeout(e,500))));const p=yield browser.runtime.sendMessage(new r.BrowserRuntimeMessage(r.BrowserRuntimeMessageEventType.CAPTURE_TAB));yield u.ajouter_image(p,{x:a,y:c,largeur:h,hauteur:s},{x:l,y:d,largeur:h,hauteur:s})}d+=s}window.scrollTo(o,c),this.titre=document.title,this.fichier=u.base64;const h="webclipper-zone-"+self.crypto.randomUUID();return this.mediaPreviews.push(new s.ImageMediaObject(h,u.base64)),this.isCapturingZone=!1,this.sendCaptureToMenu((new s.ElementCaptureData).setImages([new s.ImageMediaObject(h,"",void 0,u.base64)]))}))}mousedown(e){if(this.isCapturingZone)return!0;if(0==e.button){const t=e.clientX+window.scrollX,i=e.clientY+window.scrollY;this.position_initiale={x:t,y:i},this.afficher_overlay(t,i,0,0)}return!0}mousemove(e){if(this.isCapturingZone)return!0;if(null==this.position_initiale){this.afficher_overlay(0,0,0,0);const t=document.elementFromPoint(e.clientX,e.clientY);if(t){const e=t.getBoundingClientRect();this.afficher_overlay(e.left+window.scrollX,e.top+window.scrollY,e.width,e.height)}}else{const t=Math.min(e.clientX+window.scrollX,this.position_initiale.x),i=Math.min(e.clientY+window.scrollY,this.position_initiale.y);this.afficher_overlay(t,i,Math.max(e.clientX+window.scrollX,this.position_initiale.x)-t,Math.max(e.clientY+window.scrollY,this.position_initiale.y)-i)}}mouseup(e){if(this.isCapturingZone)return!0;if(0!=e.button)return this.reinitializeCapture(),this.startCapture(),!0;if(Math.abs(e.clientX+window.scrollX-this.position_initiale.x)<5||Math.abs(e.clientY+window.scrollY-this.position_initiale.y)<5){this.position_initiale=void 0,this.afficher_overlay(0,0,0,0);const t=document.elementFromPoint(e.clientX,e.clientY);if(t){const e=t.getBoundingClientRect();this.capturer_zone(e.x+window.scrollX,e.y+window.scrollY,e.width,e.height)}}else{const t=Math.min(e.clientX+window.scrollX,this.position_initiale.x),i=Math.min(e.clientY+window.scrollY,this.position_initiale.y),o=Math.max(e.clientX+window.scrollX,this.position_initiale.x)-t,r=Math.max(e.clientY+window.scrollY,this.position_initiale.y)-i;this.capturer_zone(t,i,o,r)}}}t.CaptureZone=c},4911:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fromHTML=t.clearHighlight=t.smoothScrollToTargetedHtmlElement=t.hasSameFileTypeMoreThanOnce=t.getCountPerFileType=void 0;const o=i(2688);function r(e){return Object.entries(e.reduce(((e,t)=>{const i=t.type_fichier;return e[i]=(e[i]||0)+1,e}),{})).map((([e,t])=>({typeFichier:e,count:t})))}t.getCountPerFileType=r,t.hasSameFileTypeMoreThanOnce=function(e){const t=r(e);return t.filter((e=>e.count>1)).length>0||2===t.filter((e=>e.typeFichier===o.TypeFichier.IMAGE||e.typeFichier===o.TypeFichier.VIDEO)).length};t.smoothScrollToTargetedHtmlElement=function(e,t=0){const i=document.querySelector(`#${e}`);if(i){const e=function(e){let t=e.parentElement;for(;t;){const e=window.getComputedStyle(t);if("auto"===e.overflowY||"scroll"===e.overflowY)return t;t=t.parentElement}return null}(i);if(e){let o=i.getBoundingClientRect().top+e.scrollTop-t;o>e.scrollHeight-e.getBoundingClientRect().height&&(o=e.scrollHeight-e.getBoundingClientRect().height),l(Math.floor(o),e).then((()=>n(i)))}else{let e=i.getBoundingClientRect().top+window.scrollY-t;const o=function(){const e=document.body,t=document.documentElement;return Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)-window.innerHeight-40}();e>o&&(e=o),l(Math.floor(e)).then((()=>n(i)))}}};let s=null;function n(e){s&&s.classList.remove("poplab-highlighted"),s=e;let t=document.getElementById("poplab-highlight-stylesheet");t||(t=document.createElement("style"),t.id="poplab-highlight-stylesheet",t.textContent="\n        .poplab-highlighted {\n            border: solid 8px rgb(75, 198, 185);\n        }",document.head.appendChild(t)),setTimeout((()=>{e.classList.add("poplab-highlighted")}),100)}function l(e,t){return t?t.scrollTo({top:e,behavior:"smooth"}):window.scrollTo({top:e,behavior:"smooth"}),new Promise((i=>{const o=()=>{t?Math.floor(t.scrollTop)!==e&&Math.ceil(t.scrollTop)!==e||(t.removeEventListener("scroll",o),i()):Math.floor(window.scrollY)!==e&&Math.ceil(window.scrollY)!==e||(window.removeEventListener("scroll",o),i())};t?(t.removeEventListener("scroll",o),Math.floor(t.scrollTop)===e||Math.ceil(t.scrollTop)===e?i():t.addEventListener("scroll",o)):(window.removeEventListener("scroll",o),Math.floor(window.scrollY)===e||Math.ceil(window.scrollY)===e?i():window.addEventListener("scroll",o))}))}t.clearHighlight=function(){var e;const t=document.getElementById("poplab-highlight-stylesheet");t&&(null===(e=t.parentNode)||void 0===e||e.removeChild(t))},t.fromHTML=function(e){if(!e)return null;const t=document.createElement("template");t.innerHTML=e;const i=t.content.children;return 1===i.length?i[0]:i}},2688:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentCaptureData=t.ElementCaptureData=t.CaptureData=t.FichierMediaObject=t.ExerciseurMediaObject=t.UrlMediaObject=t.AudioMediaObject=t.VideoMediaObject=t.ImageMediaObject=t.MediaObject=t.TypeFichier=t.CaptureType=void 0;const o=i(4393);var r,s;!function(e){e.BASIQUE="BASIQUE",e.UPLOAD="UPLOAD"}(r||(t.CaptureType=r={})),function(e){e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.FICHIER="FICHIER",e.LIEN="LIEN",e.EXERCISEUR="EXERCISEUR"}(s||(t.TypeFichier=s={}));class n{constructor(e,t,i,o,r,s,n){this.id=e,this.url=t,this.type_fichier=i,this.copyright=o,this.file=r,this.editeur=s,this.subTypeFichier=n}}t.MediaObject=n,t.ImageMediaObject=class extends n{constructor(e,t,i,o,r){super(e,t,s.IMAGE,i,o,r)}},t.VideoMediaObject=class extends n{constructor(e,t,i,o,r){super(e,t,s.VIDEO,i,o,r)}},t.AudioMediaObject=class extends n{constructor(e,t,i,o,r){super(e,t,s.AUDIO,i,o,r)}},t.UrlMediaObject=class extends n{constructor(e,t,i,o){super(e,t,s.LIEN,i),this.displayPreview=!1,this.bigPreview=!1,this.label=o}},t.ExerciseurMediaObject=class extends n{constructor(e,t,i){super(e,t,s.EXERCISEUR),this.typeExerciseur=i}},t.FichierMediaObject=class extends n{constructor(e,t,i,o,r){super(e,t,s.FICHIER,void 0,i,void 0,o),this.label=r}};class l{constructor(e,t,i){this.titre=e,this.description=t,this.auteurInitial=i}}t.CaptureData=l;class a extends l{constructor(e){var t,i,r,s,n,l,a;super(null==e?void 0:e.titre,null==e?void 0:e.description,null==e?void 0:e.auteurInitial),this.type=o.ElementType.ELEMENT,this.images=[],this.videos=[],this.audios=[],this.urls=[],this.exerciseurs=[],this.fichiers=[],this.credit=null==e?void 0:e.credit,this.images=null!==(t=null==e?void 0:e.images)&&void 0!==t?t:[],this.videos=null!==(i=null==e?void 0:e.videos)&&void 0!==i?i:[],this.audios=null!==(r=null==e?void 0:e.audios)&&void 0!==r?r:[],this.urls=null!==(s=null==e?void 0:e.urls)&&void 0!==s?s:[],this.exerciseurs=null!==(n=null==e?void 0:e.exerciseurs)&&void 0!==n?n:[],this.fichiers=null!==(l=null==e?void 0:e.fichiers)&&void 0!==l?l:[],this.type=null!==(a=null==e?void 0:e.type)&&void 0!==a?a:o.ElementType.ELEMENT,this.options=null==e?void 0:e.options,this.meta=null==e?void 0:e.meta}setTitre(e){return this.titre=e,this}setDescription(e){return this.description=e,this}setCredit(e){return this.credit=e,this}setImages(e){return this.images=e,this}setVideos(e){return this.videos=e,this}setAudios(e){return this.audios=e,this}setUrls(e){return this.urls=e,this}setExerciseurs(e){return this.exerciseurs=e,this}setType(e){return this.type=e,this}getMedias(){return this.images.concat(this.videos.concat(this.audios.concat(this.fichiers)))}getAllEmbeds(){return this.getMedias().concat(this.urls).concat(this.exerciseurs)}}t.ElementCaptureData=a,t.DocumentCaptureData=class extends l{constructor(e){super(null==e?void 0:e.titre,null==e?void 0:e.description,null==e?void 0:e.auteurInitial),this.elements=[],null==e||e.elements.forEach((e=>this.elements.push(new a(e)))),this.meta=null==e?void 0:e.meta}setTitre(e){return this.titre=e,this}setDescription(e){return this.description=e,this}setElements(e){return this.elements=e,this}}},8033:(e,t)=>{var i,o,r,s,n;Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserContextMenusId=t.MessageOngletDone=t.MessageOnglet=t.MessageOngletType=t.BrowserRuntimeResponse=t.BrowserRuntimeMessageSearchArborescenceWithSelectionnable=t.BrowserRuntimeMessageSearchArborescence=t.BrowserRuntimeMessageGetRecentArborescenceWithSelectionnable=t.BrowserRuntimeMessageGetRecentArborescence=t.BrowserRuntimeMessageForPoplab=t.BrowserRuntimeMessage=t.BrowserRuntimeMessageEventSubType=t.BrowserRuntimeMessageEventType=void 0,function(e){e.STATUS="status",e.CONNECT="connect",e.ENVOYER_SUR_POPLAB="envoyer_sur_poplab",e.CAPTURE_TAB="captureTab",e.GET_RECENT_ARBORESCENCE="getRecentHierarchies",e.SEARCH_ARBORESCENCE="searchArborescence"}(i||(t.BrowserRuntimeMessageEventType=i={})),function(e){e.WITH_SELECTIONNABLE="WithSelectionnable"}(o||(t.BrowserRuntimeMessageEventSubType=o={}));class l{constructor(e,t,i){this.type=e,this.subType=t,this.idp=i}}t.BrowserRuntimeMessage=l,t.BrowserRuntimeMessageForPoplab=class extends l{constructor(e,t,o,r){super(i.ENVOYER_SUR_POPLAB),this.type_item_poplab=e,this.type_capture=t,this.data=o,this.destination=r}},t.BrowserRuntimeMessageGetRecentArborescence=class extends l{constructor(){super(i.GET_RECENT_ARBORESCENCE)}},t.BrowserRuntimeMessageGetRecentArborescenceWithSelectionnable=class extends l{constructor(){super(i.GET_RECENT_ARBORESCENCE,o.WITH_SELECTIONNABLE)}};class a extends l{constructor(e,t,i){super(t,i),this.value=e}}t.BrowserRuntimeMessageSearchArborescence=class extends a{constructor(e){super(e,i.SEARCH_ARBORESCENCE)}},t.BrowserRuntimeMessageSearchArborescenceWithSelectionnable=class extends a{constructor(e){super(e,i.SEARCH_ARBORESCENCE,o.WITH_SELECTIONNABLE)}},function(e){e.INTERDIT="interdit",e.DECONNECTE="déconnecté",e.CONNECTE="connecté",e.ENVOYE="envoyé"}(r||(t.BrowserRuntimeResponse=r={})),function(e){e.STOP_CAPTURE="stopCapture",e.CAPTURER_LIEN="capturerLien",e.CAPTURER_IMAGE="capturerImage",e.CAPTURER_VIDEO="capturerVideo",e.TOGGLE_CAPTURE="toggleCapture",e.START_CAPTURE="startCapture",e.UPLOAD_FRIGO_DONE="uploadFrigoDone",e.CANCEL_UPLOAD="cancelUpload",e.REFRESH_CAPTURE="refreshCapture"}(s||(t.MessageOngletType=s={}));class c{constructor(e,t,i){this.first_name=void 0,this.provenance=void 0,this.type=e,this.first_name=t,this.provenance=i}}t.MessageOnglet=c,t.MessageOngletDone=class extends c{constructor(e,t){super(e),this.documentId=t}},function(e){e.SE_DECONNECTER="se-deconnecter",e.VOIR_FRIGO="voir-frigo",e.ENVOYER_LIEN="envoyer-lien",e.ENVOYER_IMAGE="envoyer-image",e.ENVOYER_VIDEO="envoyer-video"}(n||(t.BrowserContextMenusId=n={}))},4393:(e,t)=>{var i,o,r,s;Object.defineProperty(t,"__esModule",{value:!0}),t.Editeur=t.ElementType=t.ExerciseurType=t.PoplabElementCreationRequest=void 0,t.PoplabElementCreationRequest=class{constructor(e,t){var o,s,n;this.titre=null!==(o=e.titre)&&void 0!==o?o:"",this.description=null!==(s=e.description)&&void 0!==s?s:"",this.type=e.type,this.options={isnew:!0,separator:!1},this.type!==r.SECTION||this.titre||(this.options.separator=!0),this.credits=null!==(n=e.credit)&&void 0!==n?n:"",this.webAuteurInitial=e.auteurInitial,this.imageEmbed=e.images[0]?{url:e.images[0].url,type:i.IMAGE}:void 0,this.videoEmbed=e.videos[0]?{url:e.videos[0].url,type:i.VIDEO}:void 0,this.audioEmbed=e.audios[0]?{url:e.audios[0].url,type:i.AUDIO}:void 0,this.lienEmbed=e.urls[0]?{url:e.urls[0].url,label:e.urls[0].label,displayPreview:e.urls[0].displayPreview,bigPreview:e.urls[0].bigPreview,type:i.LIEN}:void 0,this.exerciseur=e.exerciseurs[0]?{url:e.exerciseurs[0].url,exerciseurType:e.exerciseurs[0].typeExerciseur,type:i.EXERCISEUR}:void 0,t&&(this.document=t),this.meta=e.meta}},function(e){e.LIEN="LIEN",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.FICHIER="FICHIER",e.EXERCISEUR="EXERCISEUR"}(i||(i={})),function(e){e.QUIZLET="QUIZLET",e.LEARNINGAPPS="LEARNINGAPPS",e.GENIALLY="GENIALLY",e.BOOKWIDGETS="BOOKWIDGETS",e.EDUPOOL="EDUPOOL",e.BELIN="BELIN"}(o||(t.ExerciseurType=o={})),function(e){e.ELEMENT="element",e.SECTION="section"}(r||(t.ElementType=r={})),function(e){e.BELIN="https://www.belin-education.com/"}(s||(t.Editeur=s={}))},853:(e,t)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.PoplabObjectType=void 0,function(e){e.ELEMENT="ELEMENT",e.DOCUMENT="DOCUMENT"}(i||(t.PoplabObjectType=i={}))}},t={};!function i(o){var r=t[o];if(void 0!==r)return r.exports;var s=t[o]={exports:{}};return e[o].call(s.exports,s,s.exports,i),s.exports}(7200)})();
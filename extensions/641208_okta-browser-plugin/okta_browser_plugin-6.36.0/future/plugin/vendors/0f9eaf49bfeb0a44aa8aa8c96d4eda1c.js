(() => {
var x=(s,e)=>()=>(e||s((e={exports:{}}).exports,e),e.exports);var b=x((O,g)=>{"use strict";var m=Object.prototype.hasOwnProperty,c="~";function _(){}Object.create&&(_.prototype=Object.create(null),new _().__proto__||(c=!1));function E(s,e,n){this.fn=s,this.context=e,this.once=n||!1}function d(s,e,n,r,l){if(typeof n!="function")throw new TypeError("The listener must be a function");var f=new E(n,r||s,l),o=c?c+e:e;return s._events[o]?s._events[o].fn?s._events[o]=[s._events[o],f]:s._events[o].push(f):(s._events[o]=f,s._eventsCount++),s}function y(s,e){--s._eventsCount===0?s._events=new _:delete s._events[e]}function u(){this._events=new _,this._eventsCount=0}u.prototype.eventNames=function(){var e=[],n,r;if(this._eventsCount===0)return e;for(r in n=this._events)m.call(n,r)&&e.push(c?r.slice(1):r);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(n)):e};u.prototype.listeners=function(e){var n=c?c+e:e,r=this._events[n];if(!r)return[];if(r.fn)return[r.fn];for(var l=0,f=r.length,o=new Array(f);l<f;l++)o[l]=r[l].fn;return o};u.prototype.listenerCount=function(e){var n=c?c+e:e,r=this._events[n];return r?r.fn?1:r.length:0};u.prototype.emit=function(e,n,r,l,f,o){var a=c?c+e:e;if(!this._events[a])return!1;var t=this._events[a],h=arguments.length,v,i;if(t.fn){switch(t.once&&this.removeListener(e,t.fn,void 0,!0),h){case 1:return t.fn.call(t.context),!0;case 2:return t.fn.call(t.context,n),!0;case 3:return t.fn.call(t.context,n,r),!0;case 4:return t.fn.call(t.context,n,r,l),!0;case 5:return t.fn.call(t.context,n,r,l,f),!0;case 6:return t.fn.call(t.context,n,r,l,f,o),!0}for(i=1,v=new Array(h-1);i<h;i++)v[i-1]=arguments[i];t.fn.apply(t.context,v)}else{var w=t.length,p;for(i=0;i<w;i++)switch(t[i].once&&this.removeListener(e,t[i].fn,void 0,!0),h){case 1:t[i].fn.call(t[i].context);break;case 2:t[i].fn.call(t[i].context,n);break;case 3:t[i].fn.call(t[i].context,n,r);break;case 4:t[i].fn.call(t[i].context,n,r,l);break;default:if(!v)for(p=1,v=new Array(h-1);p<h;p++)v[p-1]=arguments[p];t[i].fn.apply(t[i].context,v)}}return!0};u.prototype.on=function(e,n,r){return d(this,e,n,r,!1)};u.prototype.once=function(e,n,r){return d(this,e,n,r,!0)};u.prototype.removeListener=function(e,n,r,l){var f=c?c+e:e;if(!this._events[f])return this;if(!n)return y(this,f),this;var o=this._events[f];if(o.fn)o.fn===n&&(!l||o.once)&&(!r||o.context===r)&&y(this,f);else{for(var a=0,t=[],h=o.length;a<h;a++)(o[a].fn!==n||l&&!o[a].once||r&&o[a].context!==r)&&t.push(o[a]);t.length?this._events[f]=t.length===1?t[0]:t:y(this,f)}return this};u.prototype.removeAllListeners=function(e){var n;return e?(n=c?c+e:e,this._events[n]&&y(this,n)):(this._events=new _,this._eventsCount=0),this};u.prototype.off=u.prototype.removeListener;u.prototype.addListener=u.prototype.on;u.prefixed=c;u.EventEmitter=u;typeof g<"u"&&(g.exports=u)});"eventemitter3"in globalThis.__thrush_future_vendor_registry__||Object.defineProperty(globalThis.__thrush_future_vendor_registry__,"eventemitter3",{get(){return b()}});
})();

var $o=Object.defineProperty;var xo=(n,t,e)=>t in n?$o(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var B=(n,t,e)=>(xo(n,typeof t!="symbol"?t+"":t,e),e);import{E as L,H as M,bl as Ao,bm as Eo,bn as Io,bo as Po,bp as To,bq as Do,br as Lo,bs as Ro,bt as Mo,bu as Oo,bv as No,bw as Bo,bx as Fo,by as Uo,bz as zo,bA as Ho,bB as jo,bC as qo,bD as Wo,bE as Go,bF as Vo,bG as Yo,bH as Jo,bI as Ko,bJ as Zo,bK as Qo,bL as Xo,bM as ts,bN as es,bO as os,bP as ss,bQ as ns,bR as as,bS as is,bT as cs,bU as rs,bV as ls,bW as us,bX as ds,bY as ps,bZ as _s,b_ as fs,b$ as hs,d as I,v as w,o as V,Y as Tt,a as h,b as S,Z as st,u,T as p,a3 as P,f as we,ap as ms,aq as Fe,z as H,X as Q,c as A,A as y,e as x,c0 as ie,a0 as k,Q as Y,R as J,r as U,a8 as it,L as dt,C as R,V as Ft,_ as ke,a9 as de,c1 as fe,w as ct,a6 as ve,$ as Se,c2 as vs,N as gt,c3 as $e,U as Ct,c4 as qt,c5 as ge,F as Ge,c6 as gs,a2 as ys,ag as bs,ab as Ue,as as ze,W as Ve,c7 as Xt,c8 as He,n as Cs,a4 as Ye,a5 as Je,aP as ws,M as Ke,c9 as ce,ca as ks,cb as Ss,cc as $s,D as xs,y as As,cd as $t,ce as Es,cf as Ze,a1 as Is,B as Ps,S as Ts}from"../../../popupInitializer.bb4281b7.js";import{e as Ds,C as Ls,b as vt,L as X,g as Rs,s as F,f as Wt,h as xe,F as Qe,i as kt,_ as Ae,j as nt,k as Ms,l as et,u as zt,m as Vt,n as Os,o as Ut,p as re,q as xt,r as yt,t as Ns,S as Xe,v as Yt,w as Ee,x as to,y as ht,B as Bs,z as Fs,A as wt,D as Us,G as zs,H as Hs,I as Ie,J as js,K as qs,M as Ws,N as Gs,O as Vs,P as Ys,E as Js,Q as Ks,R as Zs,T as Qs,U as Xs,c as tn,d as en}from"../../../ExtensionWindow.ccecfe7d.js";import{s as j,d as Pe,o as Zt}from"../../../pageInteraction.2f84ddce.js";import{t as G,_ as D,d as eo,a as Te,b as on,i as sn}from"../../../close.fe628935.js";import{r as De,I as oo}from"../../../renderContent.2fb3e908.js";import{a as nn,U as le,S as It,L as Z,I as ft}from"../../../loyaltyOfferService.5af7130a.js";import{c as an}from"../../../index.0a1d9bc1.js";import{d as Lt}from"../../../devLog.fc48ebad.js";function cn({slug:n,id:t},e){switch(t){case hs:return L(`${M}/best-deals/best-amazon-deals-right-now/`,{src:`${e}-serp`});case fs:return L(`${M}/best-deals/best-home-depot-deals-right-now/`,{src:`${e}-serp`});case _s:return L(`${M}/best-deals/best-costco-deals-of-the-week/`,{src:`${e}-serp`});case ps:return L(`${M}/best-deals/best-walmart-deals-valid-right-now/`,{src:`${e}-serp`});case ds:return L(`${M}/best-deals/best-woot-deals-right-now/`,{src:`${e}-serp`});case us:return L(`${M}/best-deals/best-newegg-deals-right-now/`,{src:`${e}-serp`});case ls:return L(`${M}/best-deals/best-best-buy-deals-right-now/`,{src:`${e}-serp`});case rs:return L(`${M}/best-deals/best-adorama-deals-right-now/`,{src:`${e}-serp`});case cs:return L(`${M}/best-deals/best-target-deals-right-now/`,{src:`${e}-serp`});case is:return L(`${M}/best-deals/best-steam-deals-right-now/`,{src:`${e}-serp`});case as:return L(`${M}/best-deals/best-deals-from-samsung-available-now/`,{src:`${e}-serp`});case ns:return L(`${M}/best-deals/best-buydig-deals-right-now/`,{src:`${e}-serp`});case ss:return L(`${M}/best-deals/best-nike-deals-right-now/`,{src:`${e}-serp`});case os:return L(`${M}/best-deals/best-rei-valid-right-now/`,{src:`${e}-serp`});case es:return L(`${M}/best-deals/best-walgreens-deals-available-right-now/`,{src:`${e}-serp`});case ts:return L(`${M}/best-deals/best-kohls-deals-of-the-week/`,{src:`${e}-serp`});case Xo:return L(`${M}/best-deals/best-gamestop-deals-right-now/`,{src:`${e}-serp`});case Qo:return L(`${M}/best-deals/best-monoprice-deals-right-now/`,{src:`${e}-serp`});case Zo:return L(`${M}/best-deals/best-vudu-deals-right-now/`,{src:`${e}-serp`});case Ko:return L(`${M}/best-deals/best-dell-deals-valid-right-now/`,{src:`${e}-serp`});case Jo:return L(`${M}/best-deals/best-lowes-deals-right-now/`,{src:`${e}-serp`});case Yo:return L(`${M}/best-deals/best-dicks-sporting-goods-deals-right-now/`,{src:`${e}-serp`});case Vo:return L(`${M}/best-deals/best-bh-photo-video-deals-right-now/`,{src:`${e}-serp`});case Go:return L(`${M}/best-deals/best-qvc-deals-right-now/`,{src:`${e}-serp`});case Wo:return L(`${M}/best-deals/best-zappos-deals-right-now/`,{src:`${e}-serp`});case qo:return L(`${M}/best-deals/best-cdkeys-deals-right-now/`,{src:`${e}-serp`});case jo:return L(`${M}/best-deals/best-disney-movie-insiders-deals-right-now/`,{src:`${e}-serp`});case Ho:return L(`${M}/best-deals/best-micro-center-deals-right-now/`,{src:`${e}-serp`});case zo:return L(`${M}/best-deals/best-google-play-deals-right-now/`,{src:`${e}-serp`});case Uo:return L(`${M}/best-deals/best-nintendo-deals-right-now/`,{src:`${e}-serp`});case Fo:return L(`${M}/best-deals/best-fanatical-deals-right-now/`,{src:`${e}-serp`});case Bo:return L(`${M}/best-deals/best-lenovo-deals-right-now/`,{src:`${e}-serp`});case No:return L(`${M}/best-deals/best-microsoft-store-deals-right-now/`,{src:`${e}-serp`});case Oo:return L(`${M}/best-deals/best-macys-deals-right-now/`,{src:`${e}-serp`});case Mo:return L(`${M}/best-deals/best-verizon-deals-right-now/`,{src:`${e}-serp`});case Ro:return L(`${M}/best-deals/best-wayfair-deals-right-now/`,{src:`${e}-serp`});case Lo:return L(`${M}/best-deals/best-adidas-deals-right-now/`,{src:`${e}-serp`});case Do:return L(`${M}/best-deals/best-staples-deals-right-now/`,{src:`${e}-serp`});case To:return L(`${M}/best-deals/best-sams-club-deals-right-now/`,{src:`${e}-serp`});case Po:return L(`${M}/best-deals/best-valid-chewy-deals-right-now/`,{src:`${e}-serp`});case Io:return L(`${M}/best-deals/best-ace-hardware-deals-right-now/`,{src:`${e}-serp`});case Eo:return L(`${M}/best-deals/best-vans-deals-right-now/`,{src:`${e}-serp`});case Ao:return L(`${M}/best-deals/best-columbia-sportswear-deals-right-now/`,{src:`${e}-serp`});default:return L(`${M}//best-deals/best-${n}-deals-right-now/`,{src:`${e}-serp`})}}const rn=`<svg width="100%" height="100%" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="100%" height="100%" rx="4" fill="url(#paint0_linear)"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M17.4867 12.5118C16.8218 12.8826 16.4364 13.7939 16.109 14.8145C15.7736 15.8627 15.504 16.8576 15.6145 18.04C15.6757 18.6979 15.898 19.1138 16.3566 19.2796C17.12 19.5553 17.8035 18.6541 18.0517 18.04C18.2541 17.5398 18.9043 14.3224 18.9349 13.9645C19.0228 12.9378 18.704 12.3211 18.0165 12.3696C17.8002 12.3851 17.6198 12.4377 17.4867 12.5118ZM20.9481 5C22.0396 5.00337 23.0353 5.10246 24.1268 5.1065C22.9281 10.7189 21.6236 16.2255 20.5241 21.937C19.6123 21.8945 18.7145 21.8392 17.7694 21.8311C17.832 21.397 17.8333 20.9029 17.9112 20.4843C17.7801 20.516 17.7002 20.6245 17.6277 20.698C17.0486 21.2743 16.2759 21.9781 14.9788 21.9019C11.6484 21.7064 12.1575 16.8726 13.036 14.2484C13.7721 12.0482 15.2843 9.80417 17.3807 9.60532C18.5508 9.49612 19.3481 9.97944 19.6063 10.8814C20.0849 8.95214 20.4403 6.90023 20.9481 5Z" fill="white"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M12.1881 8.61449C12.1382 8.95355 12.049 9.25352 11.9771 9.57101C12.6886 9.81368 13.3635 10.0928 13.8839 10.5275C13.4507 11.2751 12.9402 11.9431 12.5062 12.6886C12.061 12.3172 11.3622 11.7988 10.5276 11.8737C9.94187 11.9276 9.35219 12.3934 9.43405 13.114C9.49994 13.7045 10.433 14.3941 10.7751 14.8147C11.2038 15.3418 11.6523 15.9728 11.6583 16.9421C11.6656 18.0213 11.1319 19.0162 10.5988 19.6344C9.90327 20.4419 9.00411 20.9111 7.70296 21.0863C7.52925 21.7031 7.39214 22.3597 7.24373 23.0001C6.53558 22.7891 5.80747 22.599 5.08867 22.3981C5.15855 21.8777 5.31096 21.4402 5.4068 20.9448C4.7326 20.63 3.94392 20.4284 3.5 19.8824C3.87803 19.0931 4.42578 18.4723 4.84109 17.7207C5.45938 18.1575 6.33724 18.938 7.49131 18.7486C8.08032 18.6516 8.7086 17.8952 8.4091 17.1537C8.1562 16.5309 7.52459 16.1595 7.06735 15.5946C6.65272 15.0836 6.26004 14.3583 6.25405 13.54C6.24673 12.5262 6.79847 11.569 7.34888 10.9529C7.96052 10.2694 8.61343 9.89862 9.6457 9.60606C9.73222 9.06747 9.89994 8.60977 9.99844 8.08264C10.7445 8.24375 11.4434 8.45204 12.1881 8.61449Z" fill="white"/>
<defs>
<linearGradient id="paint0_linear" x1="-1.2" y1="-0.8" x2="31.2" y2="29.6" gradientUnits="userSpaceOnUse">
<stop stop-color="#4B94FF"/>
<stop offset="1" stop-color="#146FF5"/>
</linearGradient>
</defs>
</svg>
`,ln={class:"sd-serp-injection__logo"},un={class:"sd-serp-injection__text"},dn=I({props:{merchant:null,serpName:null},setup(n){const t=n,e=w(()=>`${t.merchant.dealsCount} ${t.merchant.name} Deals Active at Slickdeals Right Now`),o=w(()=>t.serpName.charAt(0).toUpperCase()+t.serpName.slice(1));V(()=>{G({event:{category:`${o.value} SERP Injection`,action:"Impression",label:`${t.merchant.name}`}})});function s(){G({event:{category:`${o.value} SERP Injection`,action:"Click",label:`${t.merchant.name}`}}),window.open(cn(t.merchant,t.serpName))}return(a,r)=>{const l=Tt("dompurify-html");return h(),S("div",{class:"sd-serp-injection",onClick:s},[st(p("div",ln,null,512),[[l,u(rn)]]),p("span",un,P(u(e)),1)])}}});const pn=D(dn,[["__scopeId","data-v-acb62253"]]);function _n({css:n,plugins:t,merchant:e,serpName:o}){const s=document.createElement("div");return s.className="sd-serp-injection-root",De(n,a=>{const r=we(pn,{merchant:e,serpName:o});eo(r,t),r.mount(a)},s,oo.Append),s}const fn=[{name:"google",domain:"google",rx:/^http(?:s)?:\/\/(?:www\.|encrypted\.)?google\..+/,links:"a",blocks:"div.g:not(div.g .g)",blocksWithAds:"div[data-text-ad]"}],hn=["www.google.com"],he="sd-serp-injection",mn="sd-serp-injection-root",At=class{constructor(){B(this,"config");B(this,"counter",0);const t=fn.find(e=>window.location.href.search(e.rx)!==-1);t&&(this.config=t,this.init())}static create(){var t;return(t=At.instance)!=null||(At.instance=new At),At.instance}async init(){if(!this.config||!(await ms([Fe.SerpEnabled]))[Fe.SerpEnabled])return;this.counter=0;const e=1e3;new MutationObserver(s=>{this.counter+=1,s.forEach(({target:a,addedNodes:r})=>{r[0]&&r[0]instanceof HTMLElement&&[he,mn].includes(r[0].className)||this.counter>e||this.appendSERPs(a)})}).observe(document.body,{attributes:!1,childList:!0,subtree:!0,characterData:!1})}async createSERP(t){var s;const e=await j("getMerchantByUrlForSerpInjection",{url:t});let o=null;return e&&(o=_n({css:["assets/index.23232513.css","assets/ExtensionWindow.b5c50ed6.css"],plugins:[],merchant:e,serpName:((s=this.config)==null?void 0:s.domain)||""})),o}appendSERPs(t){var o,s;if(!this.config)return;const e=(o=this.config)!=null&&o.blocksWithAds?[this.config.blocks,(s=this.config)==null?void 0:s.blocksWithAds]:[this.config.blocks];t.querySelectorAll(e.join(",")).forEach(a=>{var l;if(a.getAttribute(he)||(a.setAttribute(he,"true"),!((l=this.config)!=null&&l.links)))return;const r=a.querySelector(this.config.links);!r||!r.href||this.createSERP(r.href).then(f=>{f&&r.after(f)})})}};let te=At;B(te,"instance");const vn={class:"content-script-wrapper"},so=I({setup(n){function t(e,o){if(document.getElementById(e))return;const s=document.createElement("link");s.id=e,s.rel="stylesheet",s.href=o,document.head?document.head.appendChild(s):setTimeout(()=>{document.head&&document.head.appendChild(s)},400)}return V(()=>{t("sdExtInterFontFamily","https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;700&display=swap"),t("sdExtBlinkerFontFamily","https://fonts.googleapis.com/css2?family=Blinker:wght@400;600;700&display=swap")}),(e,o)=>(h(),S("div",vn,[H(e.$slots,"default")]))}});const gn="/assets/slickdeals-full-logo-black.25e377ea.svg";const yn={},bn={class:"rcm-tile"};function Cn(n,t){return h(),S("div",bn,[H(n.$slots,"default",{},void 0,!0)])}const no=D(yn,[["render",Cn],["__scopeId","data-v-200b42b0"]]),wn=n=>(Y("data-v-b1bde2ea"),n=n(),J(),n),kn=["src","srcset"],Sn={key:1,class:"rcm-store-tile__name"},$n=wn(()=>p("h4",{class:"rcm-store-tile__header"},"Never miss out on coupons!",-1)),xn=k(" Start Shopping "),An=I({props:{store:null},emits:["click"],setup(n,{emit:t}){const e=n,o=w(()=>e.store.showLogo&&e.store.logo?{src:e.store.logo["150x150"],srcset:`${e.store.logo["300x150"]} 2x`}:null),s=w(()=>`Shop ${e.store.name}`);async function a(){t("click")}return(r,l)=>{const f=Q("blueberry-button");return h(),A(no,{class:"rcm-store-tile",tabindex:"0",role:"link",title:u(s),"aria-label":u(s),onClick:a,onKeydown:ie(a,["enter"])},{default:y(()=>[u(o)?(h(),S("img",{key:0,src:u(o).src,srcset:u(o).srcset,class:"rcm-store-tile__logo",alt:""},null,8,kn)):(h(),S("p",Sn,P(n.store.name),1)),$n,x(f,{size:"x-small",class:"rcm-store-tile__button",tabindex:"-1"},{default:y(()=>[xn]),_:1})]),_:1},8,["title","aria-label","onKeydown"])}}});const En=D(An,[["__scopeId","data-v-b1bde2ea"]]),In=`<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M17.4 9.05488C17.4 13.6941 13.6392 17.4549 8.99997 17.4549C4.36077 17.4549 0.599976 13.6941 0.599976 9.05488C0.599976 4.41567 4.36077 0.654877 8.99997 0.654877C13.6392 0.654877 17.4 4.41567 17.4 9.05488ZM8.02835 13.5026L14.2606 7.27035C14.4722 7.05872 14.4722 6.71558 14.2606 6.50395L13.4942 5.73755C13.2826 5.52589 12.9394 5.52589 12.7278 5.73755L7.64514 10.8202L5.27217 8.4472C5.06054 8.23557 4.7174 8.23557 4.50574 8.4472L3.73934 9.2136C3.52771 9.42522 3.52771 9.76837 3.73934 9.97999L7.26192 13.5026C7.47358 13.7142 7.81669 13.7142 8.02835 13.5026V13.5026Z" fill="#299A8C"/>
</svg>
`,Pn=["onClick"],Tn=k(" Copy Coupon Code "),Dn=["value"],Ln=I({props:{code:null,size:null},emits:["copy"],setup(n,{emit:t}){const e=n,o=U(!1),s=U(!0),a=w(()=>{const _="coupon-code-button__button";return{[_]:!0,[`${_}--${e.size}`]:!0,[`${_}--active`]:o.value||s.value}}),r=w(()=>{const _="coupon-code-button__checkmark";return{[_]:!0,[`${_}--${e.size}`]:!0}}),l=w(()=>o.value?"Copied":e.code);async function f(){await Ds(e.code).catch(()=>{}),s.value=!1,o.value=!0,t("copy"),setTimeout(()=>{o.value=!1},3e3)}return(_,i)=>{const c=Tt("dompurify-html");return h(),S("div",{class:"coupon-code-button",onClick:ke(f,["stop"])},[p("button",Ft(_.$attrs,{type:"button",class:u(a)}),[s.value?(h(),S(it,{key:0},[Tn],64)):(h(),S(it,{key:1},[k(P(u(l)),1)],64)),o.value?st((h(),S("span",{key:2,class:dt(u(r))},null,2)),[[c,u(In)]]):R("",!0)],16),p("input",{ref:"codeInput",value:n.code,class:"coupon-code-button__code-input",tabindex:"-1"},null,8,Dn)],8,Pn)}}});const Rn=D(Ln,[["__scopeId","data-v-a1cecb68"]]),Mn={class:"rcm-coupon-tile__header"},On={key:1,class:"rcm-coupon-tile__coupon-icon"},Nn={class:"rcm-coupon-tile__content"},Bn={class:"rcm-coupon-tile__title"},Fn=I({props:{coupon:null},emits:["copy"],setup(n,{emit:t}){const e=n,o=U(),s=w(()=>e.coupon.percentOff||e.coupon.dollarsOff),a=w(()=>`Copy Coupon Code for ${e.coupon.title}`);function r(){o.value&&o.value.click()}function l(){t("copy",e.coupon)}return(f,_)=>{const i=Tt("dompurify-html");return h(),A(no,{class:"rcm-coupon-tile",tabindex:"0",role:"link",title:u(a),"aria-label":u(a),onClick:r,onKeydown:ie(r,["enter"])},{default:y(()=>[p("h4",Mn,[u(s)?(h(),S(it,{key:0},[k(P(u(s))+" Off ",1)],64)):st((h(),S("span",On,null,512)),[[i,u(Ls)]])]),p("div",Nn,[p("p",Bn,P(n.coupon.title),1),x(Rn,{ref_key:"copyButton",ref:o,code:n.coupon.code,tabindex:"-1",size:"small",class:"rcm-coupon-tile__button",onCopy:l},null,8,["code"])])]),_:1},8,["title","aria-label","onKeydown"])}}});const Un=D(Fn,[["__scopeId","data-v-606affd4"]]),ao=`<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
  <path d="M15.483 11.437c-0.407-0.418-4.695-4.502-4.695-4.502-0.218-0.223-0.503-0.335-0.788-0.335s-0.571 0.112-0.788 0.335c0 0-4.288 4.084-4.696 4.502s-0.435 1.17 0 1.616c0.436 0.445 1.043 0.481 1.576 0l3.908-3.747 3.907 3.747c0.534 0.481 1.142 0.445 1.576 0 0.436-0.447 0.409-1.199 0-1.616z"></path>
</svg>
`,io=`<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
  <path d="M15.483 8.563c-0.407 0.418-4.695 4.503-4.695 4.503-0.218 0.223-0.503 0.334-0.788 0.334s-0.571-0.111-0.788-0.334c0 0-4.288-4.085-4.696-4.503s-0.435-1.169 0-1.616c0.436-0.446 1.043-0.481 1.576 0l3.908 3.748 3.907-3.747c0.534-0.481 1.142-0.446 1.576 0 0.436 0.446 0.409 1.198 0 1.615z"></path>
</svg>
`,zn=n=>(Y("data-v-38540e8e"),n=n(),J(),n),Hn={class:"search-result-rcm"},jn=["aria-expanded","onKeydown"],qn=zn(()=>p("hr",{class:"search-result-rcm__header-bar","aria-hidden":"true"},null,-1)),Wn={class:"search-result-rcm__header-left"},Gn=["src"],Vn={class:"search-result-rcm__header-label"},Yn={key:0,class:"search-result-rcm__toggle-arrow","aria-hidden":"true"},Jn={key:1,class:"search-result-rcm__toggle-arrow","aria-hidden":"true"},Kn={key:0,class:"search-result-rcm__content"},Zn={class:"search-result-rcm__items"},Qn={class:"search-result-rcm__footer"},Xn={class:"search-result-rcm__subtext"},ta=k(" Added by the Slickdeals browser extension. See "),ea=k(" Settings "),oa=k(" to turn off this feature. "),sa=I({props:{rcmData:null},setup(n){const t=n,e=vt(),o=w(()=>{var g;return(g=t.rcmData.totalResultCount)!=null?g:0}),s=new URL(gn,import.meta.url).href,a=U(!0),r=U(!0),l=w(()=>t.rcmData.coupons.slice(0,4)),f=w(()=>`coupon${o.value>1?"s":""} found on Slickdeals matching`),_=w(()=>o.value.toLocaleString());function i(){r.value=!r.value,G({event:{category:"Google Coupon RCM",action:`${r.value?"Minimized":"Expanded"}`,label:t.rcmData.query,page:{...fe,hostname:window.location.hostname}},options:{trackInternally:!0}})}function c(g){const b=g==null?void 0:g.currentTarget;b==null||b.blur(),i()}async function d(){e.push({name:"profile"})}async function v(g){var b,$;a.value=!1,G({event:{category:"Google Coupon RCM",action:"Coupon Tile Clicked",label:t.rcmData.query,page:{...fe,hostname:(b=t.rcmData.merchant)==null?void 0:b.domain}}}),await Rs({merchant:($=t.rcmData.merchant)!=null?$:null,coupon:g,trackingParameters:{utm_medium:"extension",utm_source:"google.com",utm_term:t.rcmData.query,cno:g.id,sdtrk:"Google Coupon RCM",utm_campaign:"google-coupon-RCM-coupon",utm_content:g.id,src:"google-coupon-rcm-coupon"}})}async function C(){var b,$,T;G({event:{category:"Google Coupon RCM",action:"Store Tile Clicked",label:t.rcmData.query,page:{...fe,hostname:(b=t.rcmData.merchant)==null?void 0:b.domain}},options:{trackInternally:!0}});const g=L(`${M}`,{utm_medium:"extension",utm_source:"google.com",utm_term:t.rcmData.query,sid:String(($=t.rcmData.merchant)==null?void 0:$.id),sdtrk:"Google Coupon RCM",utm_campaign:"google - coupon - RCM - store",utm_content:String((T=t.rcmData.merchant)==null?void 0:T.id),src:"google-coupon-rcm-store"});await j("shopStoreOutclick",{outclickUrl:g,src:"google-coupon-rcm-store"},"background").catch(()=>{})}return(g,b)=>{const $=Tt("dompurify-html");return h(),S("div",Hn,[p("header",{class:"search-result-rcm__header",tabindex:"0",role:"button","aria-expanded":!r.value,onClick:c,onKeydown:[ie(i,["enter"]),ie(ke(i,["prevent"]),["space"])]},[qn,p("div",Wn,[H(g.$slots,"logo",{},()=>[p("img",{src:u(s),class:"search-result-rcm__logo",alt:"","aria-hidden":"true"},null,8,Gn)],!0),p("p",Vn,[p("strong",null,P(u(_)),1),k(" "+P(u(f))+" ",1),p("strong",null,'"'+P(n.rcmData.query)+'"',1)])]),r.value?st((h(),S("span",Yn,null,512)),[[$,u(io)]]):st((h(),S("span",Jn,null,512)),[[$,u(ao)]])],40,jn),r.value?R("",!0):(h(),S("div",Kn,[p("div",Zn,[n.rcmData.merchant?(h(),A(En,{key:0,store:n.rcmData.merchant,class:"search-result-coupon-rcm__item",onClick:C},null,8,["store"])):R("",!0),(h(!0),S(it,null,de(u(l),T=>(h(),A(Un,{key:T.id,coupon:T,"code-hidden":a.value,class:"search-result-coupon-rcm__item",onCopy:v},null,8,["coupon","code-hidden"]))),128))]),p("footer",Qn,[p("div",Xn,[ta,x(X,{class:"search-result-rcm__options-link",onClick:d},{default:y(()=>[ea]),_:1}),oa])])]))])}}});const na=D(sa,[["__scopeId","data-v-38540e8e"]]),aa=I({setup(n){const{googleRcm:t}=F(Wt());return(e,o)=>(h(),A(so,null,{default:y(()=>{var s;return[((s=u(t))==null?void 0:s.type)===u(nn).Coupons?(h(),A(na,{key:0,"rcm-data":u(t)},null,8,["rcm-data"])):R("",!0)]}),_:1}))}});function ia({css:n,plugins:t}){const e=document.querySelector("#center_col");!e||De(n,o=>{const s=we(aa);eo(s,t),s.mount(o)},e,oo.Prepend)}var co={exports:{}};(function(n,t){(function(e,o){n.exports=o()})(an,function(){var e={grid:0,filterTarget:null,limit:{x:null,y:null},threshold:0,setCursor:!1,setPosition:!0,smoothDrag:!0,useGPU:!0,onDrag:_,onDragStart:_,onDragEnd:_},o={assign:function(){for(var i=arguments[0],c=arguments.length,d=1;d<c;d++){var v=arguments[d];for(var C in v)i[C]=v[C]}return i},bind:function(i,c){return function(){i.apply(c,arguments)}},on:function(i,c,d){if(c&&d)o.addEvent(i,c,d);else if(c)for(var v in c)o.addEvent(i,v,c[v])},off:function(i,c,d){if(c&&d)o.removeEvent(i,c,d);else if(c)for(var v in c)o.removeEvent(i,v,c[v])},limit:function(i,c){return c instanceof Array?i<(c=[+c[0],+c[1]])[0]?i=c[0]:i>c[1]&&(i=c[1]):i=+c,i},addEvent:"attachEvent"in Element.prototype?function(i,c,d){i.attachEvent("on"+c,d)}:function(i,c,d){i.addEventListener(c,d,!1)},removeEvent:"attachEvent"in Element.prototype?function(i,c,d){i.detachEvent("on"+c,d)}:function(i,c,d){i.removeEventListener(c,d)}};function s(i,c){var d=this,v=o.bind(d.start,d),C=o.bind(d.drag,d),g=o.bind(d.stop,d);if(!f(i))throw new TypeError("Draggable expects argument 0 to be an Element");c=o.assign({},e,c),o.assign(d,{element:i,handle:c.handle&&f(c.handle)?c.handle:i,handlers:{start:{mousedown:v,touchstart:v},move:{mousemove:C,mouseup:g,touchmove:C,touchend:g}},options:c}),d.initialize()}function a(i){return parseInt(i,10)}function r(i){return"currentStyle"in i?i.currentStyle:getComputedStyle(i)}function l(i){return i!=null}function f(i){return i instanceof Element||typeof HTMLDocument<"u"&&i instanceof HTMLDocument}function _(){}return o.assign(s.prototype,{setOption:function(i,c){var d=this;return d.options[i]=c,d.initialize(),d},get:function(){var i=this.dragEvent;return{x:i.x,y:i.y}},set:function(i,c){var d=this,v=d.dragEvent;return v.original={x:v.x,y:v.y},d.move(i,c),d},dragEvent:{started:!1,x:0,y:0},initialize:function(){var i,c={transform:function(){for(var N=" -o- -ms- -moz- -webkit-".split(" "),z=document.body.style,O=N.length;O--;){var m=N[O]+"transform";if(m in z)return m}}()},d=this,v=d.element,C=(d.handle,v.style),g=r(v),b=d.options,$=c.transform,T=d._dimensions={height:v.offsetHeight,left:v.offsetLeft,top:v.offsetTop,width:v.offsetWidth};b.useGPU&&$&&((i=g[$])==="none"&&(i=""),C[$]=i+" translate3d(0,0,0)"),b.setPosition&&(C.display="block",C.left=T.left+"px",C.top=T.top+"px",C.width=T.width+"px",C.height=T.height+"px",C.bottom=C.right="auto",C.margin=0,C.position="absolute"),b.setCursor&&(C.cursor="move"),d.setLimit(b.limit),o.assign(d.dragEvent,{x:T.left,y:T.top}),o.on(d.handle,d.handlers.start)},start:function(i){var c=this,d=c.getCursor(i),v=c.element;c.useTarget(i.target||i.srcElement)&&(i.preventDefault&&!i.target.getAttribute("contenteditable")?i.preventDefault():i.target.getAttribute("contenteditable")||(i.returnValue=!1),c.dragEvent.oldZindex=v.style.zIndex,v.style.zIndex=2147483647,c.setCursor(d),c.setPosition(),c.setZoom(),o.on(document,c.handlers.move))},drag:function(i){var c=this,d=c.dragEvent,v=c.element,C=c._cursor,g=c._dimensions,b=c.options,$=g.zoom,T=c.getCursor(i),N=b.threshold,z=(T.x-C.x)/$+g.left,O=(T.y-C.y)/$+g.top;!d.started&&N&&Math.abs(C.x-T.x)<N&&Math.abs(C.y-T.y)<N||(d.original||(d.original={x:z,y:O}),d.started||(b.onDragStart(v,z,O,i),d.started=!0),c.move(z,O)&&b.onDrag(v,d.x,d.y,i))},move:function(i,c){var d=this,v=d.dragEvent,C=d.options,g=C.grid,b=d.element.style,$=d.limit(i,c,v.original.x,v.original.y);return!C.smoothDrag&&g&&($=d.round($,g)),($.x!==v.x||$.y!==v.y)&&(v.x=$.x,v.y=$.y,b.left=$.x+"px",b.top=$.y+"px",!0)},stop:function(i){var c,d=this,v=d.dragEvent,C=d.element,g=d.options,b=g.grid;o.off(document,d.handlers.move),C.style.zIndex=v.oldZindex,g.smoothDrag&&b&&(c=d.round({x:v.x,y:v.y},b),d.move(c.x,c.y),o.assign(d.dragEvent,c)),d.dragEvent.started&&g.onDragEnd(C,v.x,v.y,i),d.reset()},reset:function(){this.dragEvent.started=!1},round:function(i){var c=this.options.grid;return{x:c*Math.round(i.x/c),y:c*Math.round(i.y/c)}},getCursor:function(i){return{x:(i.targetTouches?i.targetTouches[0]:i).clientX,y:(i.targetTouches?i.targetTouches[0]:i).clientY}},setCursor:function(i){this._cursor=i},setLimit:function(i){var c=this,d=function(T,N){return{x:T,y:N}};if(i instanceof Function)c.limit=i;else if(f(i)){var v=c._dimensions,C=i.scrollHeight-v.height,g=i.scrollWidth-v.width;c.limit=function(T,N){return{x:o.limit(T,[0,g]),y:o.limit(N,[0,C])}}}else if(i){var b=l(i.x),$=l(i.y);c.limit=b||$?function(T,N){return{x:b?o.limit(T,i.x):T,y:$?o.limit(N,i.y):N}}:d}else c.limit=d},setPosition:function(){var i=this.element,c=i.style;o.assign(this._dimensions,{left:a(c.left)||i.offsetLeft,top:a(c.top)||i.offsetTop})},setZoom:function(){for(var i=this.element,c=1;i=i.offsetParent;){var d=r(i).zoom;if(d&&d!=="normal"){c=d;break}}this._dimensions.zoom=c},useTarget:function(i){var c=this.options.filterTarget;return!(c instanceof Function)||c(i)},destroy:function(){o.off(this.handle,this.handlers.start),o.off(document,this.handlers.move)}}),s})})(co);const ca=co.exports;function pe(n,t){const e=w(()=>{var a;const s=n.value;return s instanceof Element?s:(a=s==null?void 0:s.$el)!=null?a:null});let o=!1;ct(e,s=>{if(s===null)return;let a=s;if(t.targetQuerySelector&&(a=a.querySelector(t.targetQuerySelector)),a===null)throw new Error("Missing target element, query selector not found.");const r=a.querySelector(".extension-header__handle");if(!r)throw new Error("Missing handle element, query selector not found.");new ca(a,{handle:r,setCursor:!1,setPosition:!1,limit:(l,f)=>{const _=a.clientWidth,i=a.clientHeight,c=document.documentElement.clientWidth,d=document.documentElement.clientHeight;return l<0?l=0:l+_>=c&&(l=c-_),f<0?f=0:f+i>d&&(f=d-i),{x:l,y:f}},onDrag:()=>{o||t.onTrackDragEvent(),o=!0}})})}function ra(n,t,e,o="s"){return n<=1?t:t.replace(e,o)}const la="/assets/cart.8fe168e0.png",ua=`<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
  <path fill="#777" d="M8 0c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8-3.582-8-8-8zM8 14.5c-3.59 0-6.5-2.91-6.5-6.5s2.91-6.5 6.5-6.5 6.5 2.91 6.5 6.5-2.91 6.5-6.5 6.5zM7 4h2v2h-2zM10 12h-4v-1h1v-3h-1v-1h3v4h1z"></path>
</svg>
`,da=k(" We Apply Coupons For You "),pa=k(" Click here and we'll test and apply the coupons we found for you. Our goal is to save you money every time you shop! "),_a=I({setup(n){const t=xe(),e=U(!1),o=w(()=>({}).VITE_SD_COMPONENTS_THEME==="opera"?"#092696":"#146ff5");return V(()=>{t.userActions[le.FirstCaaSeen]||(e.value=!0,t.setUserAction({key:le.FirstCaaSeen,value:!0}))}),(s,a)=>e.value?(h(),A(Qe,{key:0,position:"left",type:"Apply Coupons","data-tooltip":"firstCaaSeen","background-color":u(o)},{header:y(()=>[da]),content:y(()=>[pa]),_:1},8,["background-color"])):R("",!0)}}),fa={class:"coupon-auto-apply-notification-base__content"},ha={class:"coupon-auto-apply-notification-base__header"},ma={key:0,class:"coupon-auto-apply-notification-base__subheader"},va={class:"coupon-auto-apply-notification-base__footer"},ga={key:0,class:"coupon-auto-apply-notification-base__caa-cta"},ya=k(" Apply Coupons "),ba=I({props:{noSubheader:{type:Boolean},noCta:{type:Boolean},applyDisabled:{type:Boolean},merchant:null,onboardingTooltipEligible:{type:Boolean,default:!1}},emits:["apply-coupons","close"],setup(n,{emit:t}){const e=n,o=w(()=>({["coupon-auto-apply-notification-base__info--no-subheader"]:e.noSubheader}));return(s,a)=>{const r=Q("blueberry-modal");return h(),A(r,{position:"top-right","show-overlay":!1,transition:"slide-fade",width:"360px",class:"coupon-auto-apply-notification-base",onClose:a[2]||(a[2]=l=>t("close"))},{header:y(()=>[x(kt,{draggable:"",merchant:n.merchant,onClose:a[0]||(a[0]=l=>t("close"))},{logo:y(()=>[H(s.$slots,"logo",{},void 0,!0)]),_:3},8,["merchant"])]),content:y(()=>[p("div",fa,[p("div",{class:dt(["coupon-auto-apply-notification-base__info",u(o)])},[p("h4",ha,[H(s.$slots,"header",{},void 0,!0)]),n.noSubheader?R("",!0):(h(),S("p",ma,[H(s.$slots,"subheader",{},void 0,!0)]))],2),p("footer",va,[n.noCta?R("",!0):(h(),S("div",ga,[n.onboardingTooltipEligible?(h(),A(_a,{key:0,class:"coupon-auto-apply-notification-base__tooltip"})):R("",!0),H(s.$slots,"cta",{isDisabled:n.applyDisabled},()=>[x(Ae,{class:"coupon-auto-apply-notification-base__apply-button",variant:"primary","data-role":"applyCoupons",disabled:n.applyDisabled,onClick:a[1]||(a[1]=l=>t("apply-coupons",{initiator:"CAA"}))},{default:y(()=>[H(s.$slots,"ctaLabel",{},()=>[ya],!0)]),_:3},8,["disabled"])],!0)])),H(s.$slots,"contentFooterEnd",{},void 0,!0)])])]),footer:y(()=>[H(s.$slots,"footer",{},void 0,!0)]),_:3})}}});const ro=D(ba,[["__scopeId","data-v-4eb35622"]]),lo=n=>(Y("data-v-4e182f8d"),n=n(),J(),n),Ca={class:"store-coupons"},wa=lo(()=>p("strong",null,"Site-Wide Coupons",-1)),ka=lo(()=>p("p",null," We will test and automatically apply coupons that apply to your order. ",-1)),Sa=I({setup(n){const{allCoupons:t,merchant:e}=F(nt());function o(){var s;G({event:{category:"CAA Site Coupons",action:"Shown",label:(s=e.value)==null?void 0:s.name}})}return(s,a)=>(h(),S("div",Ca,[wa,ka,x(Ms,{class:"store-coupons__coupon-list","is-on-caa":"",coupons:u(t),onMounted:o},null,8,["coupons"])]))}});const $a=D(Sa,[["__scopeId","data-v-4e182f8d"]]),xa=["src"],Aa={key:0},Ea={class:"simplified-notification__cashback-rate-text"},Ia={class:"simplified-notification__cashback-rate"},Pa={key:0},Ta=k(" select item(s) "),Da=k(" Exclusions may apply "),La={class:"simplified-notification__offer-exclusions-info"},Ra={class:"simplified-notification__view-coupons-arrow-icon"},Ma={class:"simplified-notification__view-coupons-arrow-icon"},Oa={key:0,class:"simplified-notification__coupons-list"},Na=I({props:{couponsCount:null,priceChanged:{type:Boolean},suppressed:{type:Boolean},merchant:null},emits:["close","apply-coupons"],setup(n,{emit:t}){const e=n,o=U(!1),{bestOffer:s,bestOfferRate:a}=F(et()),{isLoggedIn:r}=F(zt()),{openLoyaltyTermsPopup:l}=Vt({src:"loyalty-store-extension-caa"}),f=Os("simplified-notification__view-coupons-button"),_=U(null),i=w(()=>Boolean(s.value&&a.value&&r.value)),c=w(()=>{var z,O;return(O=(z=s.value)==null?void 0:z.caaPromoMessage)==null?void 0:O.length}),d=w(()=>{var z,O,m;return c.value?`Also get ${(z=s.value)==null?void 0:z.caaPromoMessage}`:`Also get ${(m=(O=s.value)==null?void 0:O.offerDisplayText.toLowerCase())!=null?m:a.value}`}),v=new URL(la,import.meta.url).href,C=w(()=>e.priceChanged?"Did you update your cart?":e.suppressed?"Ready to save?":"We found savings for you!"),g=w(()=>e.priceChanged?"Let's try those coupons again.":e.suppressed?"Let Slickdeals try and save you some cash!":`Let us test and apply ${e.couponsCount} coupon${e.couponsCount>1?"s":""} for you.`),b=w(()=>e.couponsCount>=1?ra(e.couponsCount,"View coupon","coupon","coupons"):"");function $(z){t("apply-coupons",z)}function T(){var z,O;G({event:{category:"Loyalty",action:"CAA see details clicked",label:`${(z=s.value)==null?void 0:z.offerId} - ${(O=s.value)==null?void 0:O.offerTitle}`},options:{trackInternally:!0}}),l()}function N(){o.value=!o.value,G({event:{category:"Coupon Auto Apply",action:`${o.value?"Expand":"Collapse"} Coupons Link`,label:"View Coupons"},options:{trackInternally:!0}})}return pe(_,{targetQuerySelector:".blueberry-c-modal_modal",onTrackDragEvent:()=>{G({event:{category:"Coupon Auto Apply Notification",action:"Moved",label:"Drag"}})}}),(z,O)=>{const m=Tt("dompurify-html");return h(),A(ro,{ref_key:"notificationCouponAutoApplyBasic",ref:_,merchant:n.merchant,class:"notification-coupon-auto-apply-basic",onApplyCoupons:$,onClose:O[0]||(O[0]=rt=>t("close"))},{logo:y(()=>[H(z.$slots,"logo",{},void 0,!0)]),header:y(()=>[n.priceChanged||n.suppressed?(h(),S("img",{key:0,src:u(v),class:"notification-coupon-auto-apply-basic__cart"},null,8,xa)):R("",!0),k(" "+P(u(C)),1)]),subheader:y(()=>[k(P(u(g))+" ",1),u(i)?(h(),S("span",Aa,[p("span",Ea,[p("span",Ia,P(u(d)),1),u(c)||n.priceChanged?(h(),S("span",Pa," on ")):R("",!0),u(c)||n.priceChanged?(h(),A(X,{key:1,"no-hover":"",underline:"",class:"cashback-items-link-button",onClick:T},{default:y(()=>[Ta]),_:1})):R("",!0)])])):R("",!0)]),contentFooterEnd:y(()=>[u(i)&&!n.priceChanged?(h(),A(X,{key:0,"no-hover":"",class:"simplified-notification__offer-exclusions",onClick:T},{default:y(()=>[Da,st(p("span",La,null,512),[[m,u(ua)]])]),_:1})):R("",!0),n.couponsCount?(h(),A(X,{key:1,class:dt(u(f)),"data-role":"viewCoupons",onClick:N},{default:y(()=>[k(P(u(b))+" ",1),st(p("span",Ra,null,512),[[ve,!o.value],[m,u(io)]]),st(p("span",Ma,null,512),[[ve,o.value],[m,u(ao)]])]),_:1},8,["class"])):R("",!0)]),footer:y(()=>[x(Se,{name:"slide-fade"},{default:y(()=>[n.couponsCount&&o.value?(h(),S("div",Oa,[n.couponsCount?(h(),A($a,{key:0})):R("",!0)])):R("",!0)]),_:1})]),_:3},8,["merchant"])}}});const Ba=D(Na,[["__scopeId","data-v-5746f424"]]),Fa=I({setup(n){const{uiState:t,caaAutoDisplay:e}=F(Ut()),{merchant:o}=F(nt()),s=w(()=>!t.value||!e.value?!1:[yt.Initial,yt.PriceChanged].includes(t.value.status));async function a({initiator:l}){(await re()).start({initiator:l})}async function r(){(await re()).stop(),xt().showButton({type:It.Default})}return(l,f)=>{var _,i,c;return u(s)?(h(),A(Ba,{key:0,"coupons-count":Number((_=u(o))==null?void 0:_.couponsCount),"price-changed":((i=u(t))==null?void 0:i.status)===u(yt).PriceChanged,suppressed:Boolean((c=u(o))==null?void 0:c.suppressed),merchant:u(o),"onboarding-tooltip-eligible":"",onApplyCoupons:a,onClose:r},null,8,["coupons-count","price-changed","suppressed","merchant"])):R("",!0)}}});var jt=(n=>(n[n.hideSurveyForm=0]="hideSurveyForm",n[n.showSurveyForm=1]="showSurveyForm",n[n.showSurveyFormSuccess=2]="showSurveyFormSuccess",n))(jt||{});const ue=Ns("survey",{state:()=>({survey:0}),actions:{async submitSurvey(n){await j("submitSurvey",{choices:n.choices,additionalComments:n.additionalComments,extraInfo:n.extraInfo,surveyType:"caaSurvey"},"background"),this.survey=2},show(){this.survey=1},hide(){this.survey=0}}}),Ua=["src"],za={class:"base-coupon-auto-apply-modal__content"},Ha=I({emits:["close"],setup(n,{emit:t}){const e=new URL(Xe,import.meta.url).href;return(o,s)=>{const a=Q("blueberry-modal");return h(),A(a,{width:"728px",height:"478px",class:"base-coupon-auto-apply-modal","close-on-overlay-click":!1,onClose:s[0]||(s[0]=r=>t("close"))},{header:y(()=>[H(o.$slots,"logo",{},()=>[p("img",{class:"base-coupon-auto-apply-modal__logo",src:u(e)},null,8,Ua)],!0)]),content:y(()=>[p("div",za,[H(o.$slots,"content",{},void 0,!0)])]),footer:y(()=>[H(o.$slots,"footer",{},void 0,!0)]),_:3})}}});const ja=D(Ha,[["__scopeId","data-v-66685a7e"]]);const qa={},Wa={class:"separator-vertical"};function Ga(n,t){return h(),S("div",Wa)}const Le=D(qa,[["render",Ga],["__scopeId","data-v-a7dc1d3d"]]);const Va={},Ya={class:"base-coupon-auto-apply-modal-content"};function Ja(n,t){return h(),S("div",Ya,[H(n.$slots,"default"),H(n.$slots,"secondary-content-section"),H(n.$slots,"report-an-issue")])}const Jt=D(Va,[["render",Ja]]),Ka="/assets/arrow-right3.365d73a9.svg",Za="/assets/checkCircleSolid.965cab45.svg",Qa=["src"],Xa=["src"],ti=I({props:{activeCouponId:null,coupons:null},setup(n){const t=n;function e(r){return r.isApplied&&r.discount}function o(r){const l="coupon-auto-apply-modal-progress-coupon-list__coupon";return{[l]:!0,[`${l}--success`]:e(r),[`${l}--active`]:r.id===t.activeCouponId}}const s=new URL(Za,import.meta.url).href,a=new URL(Ka,import.meta.url).href;return(r,l)=>(h(),A(vs,{name:"coupon-auto-apply-modal-progress-coupon-list__coupon",tag:"ul",class:"coupon-auto-apply-modal-progress-coupon-list"},{default:y(()=>[(h(!0),S(it,null,de(n.coupons,f=>(h(),S("li",{key:f.id,class:dt(o(f))},[e(f)?(h(),S("img",{key:0,src:u(s),class:"coupon-auto-apply-modal-progress-coupon-list__coupon-icon"},null,8,Qa)):(h(),S("img",{key:1,src:u(a),class:"coupon-auto-apply-modal-progress-coupon-list__coupon-icon"},null,8,Xa)),k(" "+P(f.code),1)],2))),128))]),_:1}))}});const ei=D(ti,[["__scopeId","data-v-f444d9c5"]]);const oi={},si={class:"coupon-auto-apply-modal-footer"},ni=p("strong",null,"Tip:\xA0",-1),ai=k(" Check out the comments in the deal details screen to see if you can save even more money. "),ii=[ni,ai];function ci(n,t){return h(),S("div",si,ii)}const ri=D(oi,[["render",ci]]),li="/assets/animatedCoupon.e0bb59cd.gif",me=n=>!Number.isNaN(parseFloat(n))&&Number.isFinite(n),ui={name:"ProgressBar",props:{val:{type:Number,default:0},max:{type:Number,default:100},size:{type:[Number,String],default:3},bgColor:{type:String,default:"#eee"},barColor:{type:String,default:"#2196f3"},barTransition:{type:String,default:"all 0.5s ease"},barBorderRadius:{type:Number,default:0},spacing:{type:Number,default:4},text:{type:String,default:""},textAlign:{type:String,default:"center"},textPosition:{type:String,default:"bottom"},fontSize:{type:Number,default:13},textFgColor:{type:String,default:"#222"}},computed:{pct(){let n=this.val/this.max*100;return n=n.toFixed(2),Math.min(n,this.max)},size_px(){switch(this.size){case"tiny":return 2;case"small":return 4;case"medium":return 9;case"large":return 12;case"big":return 16;case"huge":return 32;case"massive":return 64;default:return me(this.size)?this.size:32}},text_padding(){switch(this.size){case"tiny":case"small":case"medium":case"large":case"big":case"huge":case"massive":return Math.min(Math.max(Math.ceil(this.size_px/8),3),12);default:return me(this.spacing)?this.spacing:4}},text_font_size(){switch(this.size){case"tiny":case"small":case"medium":case"large":case"big":case"huge":case"massive":return Math.min(Math.max(Math.ceil(this.size_px*1.4),11),32);default:return me(this.fontSize)?this.fontSize:13}},progress_style(){const n={background:this.bgColor};return(this.textPosition==="middle"||this.textPosition==="inside")&&(n.position="relative",n["min-height"]=`${this.size_px}px`,n["z-index"]="-2"),this.barBorderRadius>0&&(n["border-radius"]=`${this.barBorderRadius}px`),n},bar_style(){const n={background:this.barColor,width:`${this.pct}%`,height:`${this.size_px}px`,transition:this.barTransition};return this.barBorderRadius>0&&(n["border-radius"]=`${this.barBorderRadius}px`),(this.textPosition==="middle"||this.textPosition==="inside")&&(n.position="absolute",n.top="0",n.height="100%",n["min-height"]=`${this.size_px}px`,n["z-index"]="-1"),n},text_style(){const n={color:this.textFgColor,"font-size":`${this.text_font_size}px`,"text-align":this.textAlign};return(this.textPosition==="top"||this.textPosition==="middle"||this.textPosition==="inside")&&(n["padding-bottom"]=`${this.text_padding}px`),(this.textPosition==="bottom"||this.textPosition==="middle"||this.textPosition==="inside")&&(n["padding-top"]=`${this.text_padding}px`),n}}};function di(n,t,e,o,s,a){return h(),S("div",null,[e.text.length>0&&e.textPosition==="top"?(h(),S("div",{key:0,class:"vue-simple-progress-text",style:gt(a.text_style)},P(e.text),5)):R("",!0),p("div",{class:"vue-simple-progress",style:gt(a.progress_style)},[e.text.length>0&&e.textPosition==="middle"?(h(),S("div",{key:0,class:"vue-simple-progress-text",style:gt(a.text_style)},P(e.text),5)):R("",!0),e.text.length>0&&e.textPosition==="inside"?(h(),S("div",{key:1,style:gt([{position:"relative",left:"-9999px"},a.text_style])},P(e.text),5)):R("",!0),p("div",{class:"vue-simple-progress-bar",style:gt(a.bar_style)},[e.text.length>0&&e.textPosition==="inside"?(h(),S("div",{key:0,style:gt(a.text_style)},P(e.text),5)):R("",!0)],4)],4),e.text.length>0&&e.textPosition==="bottom"?(h(),S("div",{key:1,class:"vue-simple-progress-text",style:gt(a.text_style)},P(e.text),5)):R("",!0)])}const pi=D(ui,[["render",di]]),_i=["src"],fi={class:"coupon-auto-apply-modal-progress__header"},hi={key:1,class:"coupon-auto-apply-modal-progress__status"},mi={key:2,class:"coupon-auto-apply-modal-progress__current-code"},vi={class:"coupon-auto-apply-modal-progress__right"},gi=I({props:{currentCoupon:null,progress:null,stackStatus:{type:Boolean},parallelProgress:{type:Boolean},coupons:null},setup(n){const t=n,e=new URL(li,import.meta.url).href,o=w(()=>{var d,v;return(v=(d=t.currentCoupon)==null?void 0:d.id)!=null?v:0}),s=w(()=>t.coupons.length),a=w(()=>t.coupons.filter(d=>!d.isApplied||d.discount)),r=w(()=>!t.stackStatus&&s.value),l=w(()=>{const d="coupon-auto-apply-modal-progress__left";return{[d]:!0,[`${d}--show-coupons`]:r.value}}),f=w(()=>!t.parallelProgress||t.stackStatus),_=w(()=>!t.parallelProgress&&!t.stackStatus&&o.value),i=w(()=>"Let's see if we can save you some money!"),c=w(()=>s.value?t.parallelProgress&&!t.stackStatus?"Applying coupons":t.stackStatus?"Stacking all eligible codes":`Trying ${s.value} codes...`:"Searching...");return(d,v)=>(h(),S(it,null,[x(Jt,{class:"coupon-auto-apply-modal-progress"},{default:y(()=>[p("div",{class:dt(u(l))},[p("img",{src:u(e),height:"97"},null,8,_i),p("div",fi,P(u(i)),1),u(f)?(h(),A(pi,{key:0,class:"coupon-auto-apply-modal-progress__bar","bar-color":"#146FF5",size:"medium","bg-color":"#f6f6f6","bar-border-radius":8,val:n.progress},null,8,["val"])):R("",!0),u(c)?(h(),S("p",hi,P(u(c)),1)):R("",!0),u(_)&&n.currentCoupon?(h(),S("div",mi,P(n.currentCoupon.code),1)):R("",!0)],2),u(r)?(h(),S(it,{key:0},[x(Le,{class:"coupon-auto-apply-modal-progress__separator"}),x(Se,{name:"coupon-auto-apply-modal-progress__right-animation",appear:""},{default:y(()=>[p("div",vi,[x(ei,{coupons:u(a),"active-coupon-id":u(o),class:"coupon-auto-apply-modal-progress__coupon-list"},null,8,["coupons","active-coupon-id"])])]),_:1})],64)):R("",!0)]),_:1}),H(d.$slots,"footer",{},()=>[x(ri)],!0)],64))}});const yi=D(gi,[["__scopeId","data-v-83aceb4a"]]),uo="/assets/dollarsStacked.83e74392.svg",bi="/assets/writeAReview.1ba92974.svg",po=n=>(Y("data-v-ba5eeb71"),n=n(),J(),n),Ci={class:"coupon-auto-apply-modal-section-review"},wi=po(()=>p("h2",{class:"coupon-auto-apply-modal-section-review__header"}," Enjoying Slickdeals? ",-1)),ki=po(()=>p("p",{class:"coupon-auto-apply-modal-section-review__text"},"Leave a review!",-1)),Si=["src"],$i=k(" Write A Review "),xi=I({emits:["open-review-page"],setup(n,{emit:t}){const e=new URL(bi,import.meta.url).href;return(o,s)=>{const a=Q("blueberry-button");return h(),S("div",Ci,[wi,ki,p("img",{src:u(e),height:"95"},null,8,Si),x(a,{variant:"secondary",class:"coupon-auto-apply-modal-section-review__write-a-review",onClick:s[0]||(s[0]=r=>t("open-review-page"))},{default:y(()=>[$i]),_:1})])}}});const Ai=D(xi,[["__scopeId","data-v-ba5eeb71"]]),_o=I({emits:["track-event"],setup(n,{emit:t}){const{activateCashback:e}=Yt({attribution:{src:"post-caa-loyalty-promo"}}),{bestOffer:o,isCashbackActivating:s}=F(et()),{openAuthPopup:a}=Ee({actionSource:w(()=>{var f,_;return`Post CAA Loyalty Promo${(f=o.value)!=null&&f.sourceSuffix?(_=o.value)==null?void 0:_.sourceSuffix:""}`}),onAuthComplete:e});function r(){t("track-event"),a()}const l=w(()=>s.value?"Activating...":"Activate Cashback Rewards");return(f,_)=>{const i=Q("blueberry-button");return h(),A(i,{variant:"secondary",class:"post-caa-activate-cashback-button",disabled:u(s),onClick:r},{default:y(()=>[k(P(u(l)),1)]),_:1},8,["disabled"])}}}),Ei=n=>(Y("data-v-e67a4490"),n=n(),J(),n),Ii={class:"coupon-auto-apply-modal-section-cashback"},Pi={class:"coupon-auto-apply-modal-section-cashback__content"},Ti={class:"coupon-auto-apply-modal-section-cashback__header"},Di=k(" Plus get "),Li={class:"coupon-auto-apply-modal-section-cashback__rate"},Ri=k(" in Cashback Rewards "),Mi={class:"coupon-auto-apply-modal-section-cashback__text"},Oi={class:"coupon-auto-apply-modal-section-cashback__exclusions"},Ni=k(" *See "),Bi=k("terms and exclusions"),Fi=k(" for this offer. "),Ui=Ei(()=>p("h2",{class:"coupon-auto-apply-modal-section-cashback__header"}," Don't leave cash on the table. ",-1)),zi={class:"coupon-auto-apply-modal-section-cashback__text"},Hi=I({props:{showActivateCashbackButton:{type:Boolean,default:!1}},emits:["track-event"],setup(n,{emit:t}){const e=n,{bestOffer:o,hasCaaPromoMessage:s}=et(),{openLoyaltyTermsPopup:a}=Vt({src:"caa-modal-section-cashback",utm_campaign:"post-caa-loyalty-promo"}),r=w(()=>s?o==null?void 0:o.caaPromoMessage:o.offerDisplayText.toLowerCase());return(l,f)=>(h(),S("div",Ii,[p("div",Pi,[e.showActivateCashbackButton?(h(),S(it,{key:0},[p("h2",Ti,[Di,p("span",Li,P(u(r)),1),Ri]),p("p",Mi," Activate your cashback with a free Slickdeals account, and you'll get "+P(u(r))+"* in rewards, redeemable at your favorite places to shop. ",1),x(_o,{"working-coupon":"",class:"coupon-auto-apply-modal-section-cashback__activate",onTrackEvent:f[0]||(f[0]=_=>t("track-event"))}),p("span",Oi,[Ni,x(X,{class:"coupon-auto-apply-modal-section-cashback__view-details",underline:"",onClick:u(a)},{default:y(()=>[Bi]),_:1},8,["onClick"]),Fi])],64)):(h(),S(it,{key:1},[Ui,p("p",zi," Activate your cashback with a free Slickdeals account, and you'll get "+P(u(r))+" in rewards, redeemable at your favorite places to shop. ",1)],64))])]))}});const ye=D(Hi,[["__scopeId","data-v-e67a4490"]]),ji={name:"Confetti",mounted(){!this.$refs.confettiCanvas||this.$confetti.start({particles:[{type:"rect"}],defaultColors:["#DD1A8F","#438CF7","#F8D066","#3ADCC8"],customCanvas:!0,canvasElement:this.$refs.confettiCanvas,particlesPerFrame:1,defaultDropRate:3,defaultSize:5,windSpeedMax:0})}},qi={ref:"confettiCanvas"};function Wi(n,t,e,o,s,a){return h(),S("canvas",qi,null,512)}const Re=D(ji,[["render",Wi]]),fo=n=>(Y("data-v-ca11fb01"),n=n(),J(),n),Gi={class:"coupon-auto-apply-modal-success__status"},Vi=["src"],Yi={class:"coupon-auto-apply-modal-success__congrats"},Ji=k(" You saved "),Ki={class:"coupon-auto-apply-modal-success__discount"},Zi=k("! "),Qi={key:0,class:"coupon-auto-apply-modal-success__cashback"},Xi=k(" And "),tc={class:"coupon-auto-apply-modal-success__cashback-rate"},ec=k(" in Cashback Rewards* "),oc={key:0},sc=k("if you purchase "),nc=k(" select item(s)"),ac=k("*"),ic={class:"coupon-auto-apply-modal-success__info"},cc={class:"coupon-auto-apply-modal-success__info-section"},rc={class:"coupon-auto-apply-modal-success__info-section-text"},lc={class:"coupon-auto-apply-modal-success__working-coupons"},uc={class:"coupon-auto-apply-modal-success__working-coupon-code"},dc={class:"coupon-auto-apply-modal-success__info-section"},pc=fo(()=>p("p",{class:"coupon-auto-apply-modal-success__info-section-text"}," Original Price ",-1)),_c={class:"coupon-auto-apply-modal-success__original-price"},fc={class:"coupon-auto-apply-modal-success__info-section"},hc=fo(()=>p("p",{class:"coupon-auto-apply-modal-success__info-section-text"}," Total With Slickdeals ",-1)),mc={class:"coupon-auto-apply-modal-success__slickdeals-price-amount"},vc={key:0,class:"coupon-auto-apply-modal-success__slickdeals-price-cashback"},gc=k(" Continue to Checkout "),yc={key:0,class:"coupon-auto-apply-modal-success__cashback-exclusions"},bc=k(" *Exclusions apply, "),Cc=k("view details"),wc=k(" Report an issue "),kc=I({props:{successfulCoupons:null,dollarsSaved:null,priceWithDiscount:null,originalPrice:null,showSecondaryContentSection:{type:Boolean},showReportAnIssueButton:{type:Boolean}},emits:["close","open-review-page","show-survey"],setup(n,{emit:t}){const e=n,{openLoyaltyTermsPopup:o}=Vt({src:"loyalty-store-extension-caa"}),s=new URL(uo,import.meta.url).href,a=w(()=>`Working Coupon${e.successfulCoupons.length>1?"s":""}`),{activationState:r}=to(),{bestOffer:l,hasCaaPromoMessage:f,cashbackRateText:_}=F(et());function i(C,g=!1){var b,$;G({event:{action:C,category:"Loyalty",label:`${(b=l.value)==null?void 0:b.offerId} - ${($=l.value)==null?void 0:$.offerTitle}`},options:{trackInternally:g}})}const c=w(()=>r.value===Z.Complete),d=w(()=>l.value&&!c.value?{component:ye,props:{showActivateCashbackButton:!0},events:{"track-event":()=>{i("Post CAA Prompt Selected - working coupon")}}}:{component:Ai,events:{"open-review-page":()=>{t("open-review-page")}}});function v(){i("CAA see details clicked",!0),o()}return V(()=>{d.value.component===ye&&i("Post CAA prompt shown - working coupon")}),ct(c,C=>{C&&i("Post CAA prompt activated - working coupon")}),(C,g)=>(h(),A(Jt,{class:"coupon-auto-apply-modal-success"},$e({default:y(()=>{var b;return[p("div",Gi,[x(Re,{class:"coupon-auto-apply-modal-success__confetti"}),p("img",{src:u(s),width:"104",height:"67"},null,8,Vi),p("div",Yi,[Ji,p("span",Ki,"$"+P(n.dollarsSaved.toFixed(2)),1),Zi,u(c)?(h(),S("div",Qi,[Xi,p("span",tc,P(u(_)),1),ec,u(f)?(h(),S("span",oc,[sc,x(X,{"no-hover":"",underline:"",class:"cashback-items-link-button",onClick:v},{default:y(()=>[nc]),_:1}),ac])):R("",!0)])):R("",!0)]),p("div",ic,[p("div",cc,[p("p",rc,P(u(a)),1),p("span",lc,[(h(!0),S(it,null,de(n.successfulCoupons,$=>(h(),S("span",{key:$.code,class:"coupon-auto-apply-modal-success__working-coupon"},[p("p",uc,P($.code),1)]))),128))])]),p("div",dc,[pc,p("p",_c," $"+P(n.originalPrice.toFixed(2)),1)]),p("div",fc,[hc,p("p",mc," $"+P(n.priceWithDiscount.toFixed(2)),1)]),u(c)?(h(),S("p",vc," + "+P((b=u(l))==null?void 0:b.offerDisplayText),1)):R("",!0)]),x(Ae,{class:"coupon-auto-apply-modal-success__cta",onClick:g[0]||(g[0]=$=>t("close"))},{default:y(()=>[gc]),_:1}),u(c)?(h(),S("span",yc,[bc,x(X,{class:"success-with-breakdown__cashback-view-details",onClick:v},{default:y(()=>[Cc]),_:1})])):R("",!0)])]}),_:2},[n.showSecondaryContentSection?{name:"secondary-content-section",fn:y(()=>{var b,$,T,N;return[x(Le),(h(),A(Ct(u(d).component),Ft(($=(b=u(d))==null?void 0:b.props)!=null?$:{},qt((N=(T=u(d))==null?void 0:T.events)!=null?N:{})),null,16))]})}:void 0,n.showReportAnIssueButton?{name:"report-an-issue",fn:y(()=>[x(X,{class:"coupon-auto-apply-modal__report-issue",onClick:g[1]||(g[1]=b=>t("show-survey"))},{default:y(()=>[wc]),_:1})])}:void 0]),1024))}});const Sc=D(kc,[["__scopeId","data-v-ca11fb01"]]),$c="/assets/dollarStackWithCoins.bd631543.svg",xc=n=>(Y("data-v-56e88d02"),n=n(),J(),n),Ac={class:"coupon-auto-apply-modal-section-fail-new-user-join-bonus"},Ec=["src"],Ic=xc(()=>p("p",{class:"coupon-auto-apply-modal-section-fail-new-user-join-bonus__info"}," There aren't any working coupons for this store at the moment. But as a consolation Slickdeals is gifting you with 500 Cashback Rewards Points. ",-1)),Pc=k(" Maybe later, continue to checkout. "),Tc=k(" View Points "),Dc=I({emits:["close"],setup(n,{emit:t}){const e=new URL($c,import.meta.url).href,{isLoggedIn:o}=F(zt()),s=U(!1),a=w(()=>o.value&&s.value?`Your 500 Cashback Rewards Points
    Just Hit Your Account!`:"Woohoo! You earned $5 in Cashback Rewards Points"),r=w(()=>o.value?"Continue To Checkout":"Claim My Points"),l=w(()=>o.value?"primary":"secondary"),f=w(()=>({"coupon-auto-apply-modal-section-fail-new-user-join-bonus__title":!0,"coupon-auto-apply-modal-section-fail-new-user-join-bonus__title-big":o.value})),{trackEvent:_}=ht({baseEvent:{category:"Loyalty",label:"caa-modal-section-fail-new-user-join-bonus"},options:{trackInternally:!0}}),{openAuthPopup:i}=Ee({actionSource:"caa-modal-section-fail-cashback-new-user-join-bonus",onAuthComplete:async()=>{_({action:"CAA - User Signed Up"}),s.value=!0,await j("fetchUrl",{url:ge,options:{method:"post"}}),_({action:"CAA - Point Awarded"})},onOpenAuthPopup:()=>{_({action:"CAA - Claim My Points Clicked"})},mode:Ge.Register});function c(){if(o.value){_({action:"CAA - Continue To Checkout Clicked"}),t("close");return}i()}function d(){_({action:"CAA - View Points Clicked"}),window.open(`${gs}?utm_campaign=extension&utm_medium=extension&utm_source=caa-failed-new-user-join-bonus-cta`)}function v(){_({action:"CAA - Maybe Later Clicked"}),t("close")}return V(()=>{o.value&&(_({action:"CAA - Point Awarded Logged In User"}),j("fetchUrl",{url:ge,options:{method:"post"}}))}),(C,g)=>{const b=Q("blueberry-button");return h(),S("div",Ac,[x(Re,{class:"coupon-auto-apply-modal-section-fail-new-user-join-bonus__confetti"}),p("img",{src:u(e),width:"104",height:"67",alt:""},null,8,Ec),p("div",{class:dt(u(f))},[H(C.$slots,"title",{},()=>[p("span",null,P(u(a)),1)],!0)],2),Ic,H(C.$slots,"cta",{},()=>[x(b,{variant:u(l),size:"x-large",class:"coupon-auto-apply-modal-section-fail-new-user-join-bonus__cta",onClick:c},{default:y(()=>[k(P(u(r)),1)]),_:1},8,["variant"]),u(o)?R("",!0):(h(),A(X,{key:0,underline:"",class:"coupon-auto-apply-modal-section-fail-new-user-join-bonus__eligible-continue",onClick:v},{default:y(()=>[Pc]),_:1})),u(o)?(h(),A(X,{key:1,underline:"",class:"coupon-auto-apply-modal-section-fail-new-user-join-bonus__view-points",onClick:d},{default:y(()=>[Tc]),_:1})):R("",!0)],!0)])}}});const Lc=D(Dc,[["__scopeId","data-v-56e88d02"]]),Rc="/assets/fallingCoinsIntoTheBox.f56364db.svg",Mc={class:"coupon-auto-apply-modal-section-claim-points"},Oc=["src"],Nc=I({setup(n){const t=new URL(Rc,import.meta.url).href;return(e,o)=>(h(),S("div",Mc,[p("img",{src:u(t),width:"246.5",height:"310"},null,8,Oc)]))}});const Bc=D(Nc,[["__scopeId","data-v-7f8cf82c"]]),Kt="/assets/cashbackRewards.e3f540bc.svg",ho=n=>(Y("data-v-9053f9c1"),n=n(),J(),n),Fc={class:"coupon-auto-apply-modal-fail-default"},Uc=["src"],zc=ho(()=>p("div",{class:"coupon-auto-apply-modal-fail-default__title"},[p("span",null,"You've got the best price")],-1)),Hc=ho(()=>p("div",{class:"coupon-auto-apply-modal-fail-default__info"}," We left no rock unturned to look for a coupon to apply to your purchase but you seem to already have the best available price! ",-1)),jc=k(" Continue to Checkout "),qc=I({emits:["close"],setup(n,{emit:t}){const e=new URL(Kt,import.meta.url).href;return(o,s)=>(h(),S("div",Fc,[p("img",{src:u(e),width:"106",height:"73"},null,8,Uc),zc,Hc,x(Ae,{variant:"primary",class:"coupon-auto-apply-modal-fail-default__cta",onClick:s[0]||(s[0]=a=>t("close"))},{default:y(()=>[jc]),_:1})]))}});const Wc=D(qc,[["__scopeId","data-v-9053f9c1"]]),mo=I({props:{url:null,newTab:{type:Boolean}},setup(n){const t=n,e=w(()=>{const o={href:t.url};return t.newTab&&(o.target="_blank"),o});return(o,s)=>(h(),A(Bs,Ft({...o.$attrs,...u(e)},{type:"a",class:"link-anchor"}),{default:y(()=>[H(o.$slots,"default")]),_:3},16))}}),Gc={class:"coupon-auto-apply-modal-section-fail-with-cashback"},Vc=["src"],Yc={class:"coupon-auto-apply-modal-section-fail-with-cashback__title"},Jc=k(" Get "),Kc={class:"coupon-auto-apply-modal-section-fail-with-cashback__cashback-rate"},Zc=k(" in Cashback Rewards "),Qc={class:"coupon-auto-apply-modal-section-fail-with-cashback__info"},Xc=k(" on "),tr=k(" select item(s) "),er=k(" from "),or=k(" Cashback Rewards "),sr={class:"coupon-auto-apply-modal-section-fail-with-cashback__cashback-exclusions"},nr=k(" *See "),ar=k(" terms and exclusions "),ir=k(" for this offer. "),cr=I({setup(n){const t=new URL(uo,import.meta.url).href,{bestOffer:e,hasCaaPromoMessage:o,cashbackRateText:s}=et(),{openLoyaltyTermsPopup:a}=Vt({src:"loyalty-store-extension-caa"}),r=L(ys,{utm_campaign:"post-caa-loyalty-promo",utm_medium:"extension",utm_source:window.location.hostname});function l(){G({event:{action:"Post CAA learn more selected - no working coupons",category:"Loyalty",label:`${e==null?void 0:e.offerId} - ${e==null?void 0:e.offerTitle}`}})}function f(){G({event:{category:"Loyalty",action:"CAA see details clicked",label:`${e==null?void 0:e.offerId} - ${e==null?void 0:e.offerTitle}`},options:{trackInternally:!0}}),a()}return(_,i)=>(h(),S("div",Gc,[x(Re,{class:"coupon-auto-apply-modal-section-fail-with-cashback__confetti"}),p("img",{src:u(t),width:"104",height:"67"},null,8,Vc),p("div",Yc,[H(_.$slots,"title",{},()=>[p("span",null,[Jc,p("span",Kc,P(u(s)),1),Zc])],!0)]),p("p",Qc,[k(" This store doesn't have any working coupons, but don't worry\u2014you can get "+P(u(s))+"* ",1),u(o)?(h(),S(it,{key:0},[Xc,x(X,{"no-hover":"",underline:"",class:"cashback-items-link-button",onClick:f},{default:y(()=>[tr]),_:1})],64)):R("",!0),er,x(mo,{class:"loyalty-cashback-modal__link",url:u(r),"inherit-color":u(o),underline:u(o),"new-tab":"",onClick:l},{default:y(()=>[or]),_:1},8,["url","inherit-color","underline"])]),H(_.$slots,"cta",{},void 0,!0),p("span",sr,[nr,x(X,{class:"coupon-auto-apply-modal-section-fail-with-cashback__cashback-view-details",onClick:f},{default:y(()=>[ar]),_:1}),ir])]))}});const vo=D(cr,[["__scopeId","data-v-4e137e00"]]),rr=k(" Maybe later, continue to checkout "),lr=I({emits:["close","track-event"],setup(n,{emit:t}){return(e,o)=>(h(),A(vo,null,{cta:y(()=>[x(_o,{class:"coupon-auto-apply-modal-section-fail-with-cashback-eligible__cta",onTrackEvent:o[0]||(o[0]=s=>t("track-event"))}),x(X,{underline:"",class:"coupon-auto-apply-modal-section-fail-with-cashback-eligible__continue",onClick:o[1]||(o[1]=s=>e.$emit("close"))},{default:y(()=>[rr]),_:1})]),_:1}))}});const je=D(lr,[["__scopeId","data-v-21f16deb"]]),ur=k(" You'll get "),dr={class:"coupon-auto-apply-modal-section-fail-with-cashback-active__cashback-rate"},pr=k(" in Cashback Rewards "),_r=k(" Continue to Checkout "),fr=I({emits:["close"],setup(n){const{cashbackRateText:t}=et();return(e,o)=>{const s=Q("blueberry-button");return h(),A(vo,null,{title:y(()=>[p("span",null,[ur,p("span",dr,P(u(t)),1),pr])]),cta:y(()=>[x(s,{class:"coupon-auto-apply-modal-section-fail-with-cashback-active__cta",onClick:o[0]||(o[0]=a=>e.$emit("close"))},{default:y(()=>[_r]),_:1})]),_:1})}}});const hr=D(fr,[["__scopeId","data-v-c9868a79"]]),mr={class:"coupon-auto-apply-modal-fail__status"},vr=k(" Report an issue "),gr=I({props:{showReportAnIssueButton:{type:Boolean},isInVariantNewUserExperience:{type:Boolean,default:!1}},emits:["close","show-survey","open-review-page"],setup(n,{emit:t}){var i,c;const e=n,{activationState:o}=to(),{bestOffer:s}=F(et()),{isLoggedIn:a}=F(zt()),{trackEvent:r}=ht({baseEvent:{category:"Loyalty",label:`${(i=s.value)==null?void 0:i.offerId} - ${(c=s.value)==null?void 0:c.offerTitle}`}}),l=w(()=>o.value===Z.Complete),f=w(()=>s.value?l.value?{component:hr,events:{close:()=>{t("close")}}}:{component:je,events:{close:()=>{t("close")},"track-event":()=>{r({action:"Post CAA Prompt Selected - no working coupons"})}}}:e.isInVariantNewUserExperience?{component:Lc,events:{close:()=>{t("close")}}}:{component:Wc,events:{close:()=>{t("close")}}}),_=w(()=>s.value&&!l.value?{component:ye,props:{showActivateCashbackButton:!1},events:{}}:e.isInVariantNewUserExperience&&!a.value?{component:Bc,events:{}}:null);return V(()=>{f.value.component===je&&r({action:"Post CAA prompt shown - no working coupons"})}),ct(l,d=>{d&&r({action:"Post CAA prompt activated - no working coupons"})}),(d,v)=>(h(),A(Jt,{class:"coupon-auto-apply-modal-fail"},$e({default:y(()=>{var C,g;return[p("div",mr,[(h(),A(Ct(u(f).component),qt((g=(C=u(f))==null?void 0:C.events)!=null?g:{}),null,16))])]}),_:2},[u(_)?{name:"secondary-content-section",fn:y(()=>{var C,g,b,$;return[x(Le),u(_)?(h(),A(Ct(u(_).component),Ft({key:0},(g=(C=u(_))==null?void 0:C.props)!=null?g:{},qt(($=(b=u(_))==null?void 0:b.events)!=null?$:{})),null,16)):R("",!0)]})}:void 0,e.showReportAnIssueButton?{name:"report-an-issue",fn:y(()=>[x(X,{class:"coupon-auto-apply-modal__report-issue",onClick:v[0]||(v[0]=C=>t("show-survey"))},{default:y(()=>[vr]),_:1})])}:void 0]),1024))}});const qe=D(gr,[["__scopeId","data-v-5489efec"]]),yr=["onClick"],br={class:"checkbox__check"},Cr=I({props:{checked:{type:Boolean,default:!1},size:{default:27},label:{default:null},value:{default:null}},emits:["checked"],setup(n,{emit:t}){const e=n,o=U(e.checked),s=w(()=>o.value?"checkbox__input--checked":""),a=w(()=>o.value?"checkbox__label--checked":"");ct(()=>e.checked,l=>{o.value=l});function r(){o.value=!o.value,t("checked",o.value,e.value)}return(l,f)=>{const _=Tt("dompurify-html");return h(),S("div",{class:"checkbox",onClick:ke(r,["stop"])},[p("div",{class:dt(["checkbox__input",u(s)]),style:gt({width:`${n.size}px`,height:`${n.size}px`})},[st(p("span",br,null,512),[[ve,o.value],[_,u(Fs)]])],6),n.label?(h(),S("p",{key:0,class:dt(["checkbox__label",u(a)])},P(n.label),3)):R("",!0)],8,yr)}}});const wr=D(Cr,[["__scopeId","data-v-e938d296"]]),go=n=>(Y("data-v-5e24ef95"),n=n(),J(),n),kr=go(()=>p("h1",{class:"coupon-auto-apply-survey-modal__title"}," Help us make Slickdeals better ",-1)),Sr=go(()=>p("div",{class:"coupon-auto-apply-survey-modal__text"}," What went wrong with your experience today? ",-1)),$r={class:"coupon-auto-apply-survey-modal__choices"},xr=k(" Submit Feedback "),Ar=k(" Cancel "),Er=I({setup(n){const t=U(""),e=U([]),o=U(["Code didn't work","Took too long to apply coupons","Pop ups are annoying","Extension crashed / slowing down my computer","Better deals and coupons elsewhere","Privacy concerns"]),s=w(()=>e.value.length>0),a=w(()=>!s.value&&t.value===""),{trackEvent:r}=ht({baseEvent:{category:"Feedback",label:window.location.pathname},eventPrepend:{action:"form"},options:{trackInternally:!0}}),l=ue();function f(){r({action:"cancelled"}),l.hide()}function _(c,d){d&&(c?e.value.push(d):e.value=e.value.filter(v=>v!==d))}async function i(){l.submitSurvey({choices:e.value,additionalComments:t.value,extraInfo:{domain:window.location.hostname,path:window.location.pathname}}),r({action:"submitted"})}return r({action:"shown"}),(c,d)=>{const v=Q("blueberry-button");return h(),A(Jt,{class:"coupon-auto-apply-survey-modal"},{default:y(()=>[kr,Sr,p("div",$r,[(h(!0),S(it,null,de(o.value,C=>(h(),A(wr,{key:C,size:"24",class:"coupon-auto-apply-survey-modal__choice",label:C,value:C,onChecked:_},null,8,["label","value"]))),128))]),st(p("textarea",{"onUpdate:modelValue":d[0]||(d[0]=C=>t.value=C),class:"coupon-auto-apply-survey-modal__additional-comments",placeholder:"Additional comments?",rows:4,maxlength:"1000"},null,512),[[bs,t.value]]),x(v,{variant:"primary",class:"coupon-auto-apply-survey-modal__cta",disabled:u(a),onClick:i},{default:y(()=>[xr]),_:1},8,["disabled"]),x(X,{class:"coupon-auto-apply-survey-modal__cancel",onClick:f},{default:y(()=>[Ar]),_:1})]),_:1})}}});const Ir=D(Er,[["__scopeId","data-v-5e24ef95"]]),Pr="/assets/surveyFeedback.63073746.svg",yo=n=>(Y("data-v-daeedf6b"),n=n(),J(),n),Tr=["src"],Dr=yo(()=>p("h1",{class:"coupon-auto-apply-survey-success-modal__title"}," Thank you for reporting the issue ",-1)),Lr=yo(()=>p("p",{class:"coupon-auto-apply-survey-success-modal__text"}," This will help us make Slickdeals better for you. We'll look into this issue as soon as possible. ",-1)),Rr=k(" Continue to Checkout "),Mr=I({emits:["close"],setup(n,{emit:t}){const e=new URL(Pr,import.meta.url).href;function o(){ue().hide(),t("close")}return(s,a)=>{const r=Q("blueberry-button");return h(),A(Jt,{class:"coupon-auto-apply-survey-success-modal"},{default:y(()=>[p("img",{src:u(e),width:"254",height:"194"},null,8,Tr),Dr,Lr,x(r,{variant:"primary",class:"coupon-auto-apply-survey-success-modal__cta",onClick:o},{default:y(()=>[Rr]),_:1})]),_:1})}}});const Or=D(Mr,[["__scopeId","data-v-daeedf6b"]]);function Nr(){return"firefox-v2".includes("safari")?"https://apps.apple.com/us/app/slickdeals-for-safari/id1616734542":window.navigator.userAgent.includes("Firefox")?"https://addons.mozilla.org/en-US/firefox/addon/slickdeals/reviews/":window.navigator.userAgent.includes("Edg")?"https://microsoftedge.microsoft.com/addons/detail/slickdeals-automatic-cou/dbcjahjgmipefpapjkbcjeglciobkiih":"https://chrome.google.com/webstore/detail/slickdeals-automatic-coup/jpdapbcmfllbpojmkefcikllfeoahglb/reviews"}const Br=I({setup(n){const{uiState:t}=F(Ut()),{survey:e}=F(ue()),o=U(null),s=w(()=>!o.value||!t.value?!1:[yt.Applying,yt.Fail,yt.Success].includes(t.value.status));async function a(){(await re()).stop()}function r(){G({event:{category:"Feedback",action:"Clicked",label:`${window.location.origin}${window.location.pathname}`}}),ue().show()}const l=w(()=>{var _,i,c,d,v,C,g;switch((_=t.value)==null?void 0:_.status){case yt.Applying:return{component:yi,props:{currentCoupon:(i=t.value)==null?void 0:i.currentCoupon,progress:(c=t.value)==null?void 0:c.couponProgress,stackStatus:((d=t.value)==null?void 0:d.applyType)==="stack",parallelProgress:((v=t.value)==null?void 0:v.applyType)==="parallel",coupons:(C=t.value)==null?void 0:C.coupons}};case yt.Fail:return{component:qe,props:{showReportAnIssueButton:!0},events:{close:a,"show-survey":r}};case yt.Success:return{component:Sc,props:{successfulCoupons:(g=t.value)==null?void 0:g.successfulCoupons,dollarsSaved:t.value.dollarsSaved,priceWithDiscount:t.value.priceWithDiscount,originalPrice:t.value.originalPrice,showSecondaryContentSection:!0,showReportAnIssueButton:!0},events:{close:a,"open-review-page":()=>{window.open(Nr())},"show-survey":r}};default:return null}});ct(l,async _=>{if((_==null?void 0:_.component)===qe){const{success:i,json:c}=await j("fetchUrl",{url:ge});i&&(_.props.isInVariantNewUserExperience=c.isEligible)}o.value=_});const f=w(()=>{switch(e.value){case jt.showSurveyForm:return{component:Ir};case jt.showSurveyFormSuccess:return{component:Or,events:{close:a}};case jt.hideSurveyForm:default:return null}});return(_,i)=>u(s)?(h(),A(ja,{key:0,onClose:a},{content:y(()=>{var c,d,v,C,g;return[o.value&&u(e)===u(jt).hideSurveyForm?(h(),A(Ct(o.value.component),Ft({key:0},(c=o.value.props)!=null?c:{},{class:"coupon-auto-apply-modal__content"},qt((v=(d=o.value)==null?void 0:d.events)!=null?v:{})),null,16)):u(f)?(h(),A(Ct(u(f).component),Ft({key:1,class:"coupon-auto-apply-modal__content"},qt((g=(C=u(f))==null?void 0:C.events)!=null?g:{})),null,16)):R("",!0)]}),_:1})):R("",!0)}}),Fr=I({setup(n){const{caaEnabled:t}=F(Ut());return ct(t,e=>{!e||re().then(o=>{Ut().uiState=o.getState()})},{immediate:!0}),(e,o)=>(h(),S(it,null,[x(Br),x(Fa)],64))}});function mt(){const n=wt(),t=xt(),{merchant:e}=nt();return{closeNotification:async()=>{n.removeNotification(),(e?await j("shouldShowDefaultButton",{merchant:e}):!1)&&t.showButton({type:It.Default})}}}const Ur=n=>(Y("data-v-0442fa38"),n=n(),J(),n),zr={class:"opted-in-step"},Hr=Ur(()=>p("header",{class:"opted-in-step__header"}," Thank you for enabling permissions! ",-1)),jr={class:"opted-in-step__paragraph"},qr=k(" You can always change these settings on the "),Wr=k(" Settings page. "),Gr=k("Close"),Vr=I({emits:["close","show-options"],setup(n,{emit:t}){return(e,o)=>{const s=Q("blueberry-button");return h(),S("div",zr,[Hr,p("p",jr,[qr,x(X,{class:"opted-in-step__link",underline:"",bold:"",onClick:o[0]||(o[0]=a=>t("show-options"))},{default:y(()=>[Wr]),_:1})]),x(s,{variant:"primary",class:"opted-in-step__close",onClick:o[1]||(o[1]=a=>t("close"))},{default:y(()=>[Gr]),_:1})])}}});const Yr=D(Vr,[["__scopeId","data-v-0442fa38"]]),Jr=n=>(Y("data-v-a55022c9"),n=n(),J(),n),Kr={class:"opt-in-step"},Zr=Jr(()=>p("header",{class:"opt-in-step__header"}," Help us improve our products and services by sharing anonymized usage data with Slickdeals. ",-1)),Qr={class:"opt-in-step__content"},Xr={class:"opt-in-step__paragraph"},tl=k(" Read more about our privacy policy "),el=k(" here "),ol=k(". "),sl={class:"opt-in-step__footer"},nl=k("Enable"),al=k("Cancel"),il=I({emits:["opt-in","opt-out"],setup(n,{emit:t}){const e=L(`${M}/content/list/extension-privacy-policy/`,{utm_medium:"extension",utm_source:"extension",utm_campaign:"firefox-opt-in"});return(o,s)=>{const a=Q("blueberry-button");return h(),S("div",Kr,[Zr,p("div",Qr,[p("p",Xr,[tl,x(mo,{class:"opt-in-step__link",url:u(e),"new-tab":"",underline:""},{default:y(()=>[el]),_:1},8,["url"]),ol])]),p("footer",sl,[x(a,{variant:"primary",class:"opt-in-step__button",onClick:s[0]||(s[0]=r=>t("opt-in"))},{default:y(()=>[nl]),_:1}),x(a,{variant:"secondary",class:"opt-in-step__button",onClick:s[1]||(s[1]=r=>t("opt-out"))},{default:y(()=>[al]),_:1})])])}}});const cl=D(il,[["__scopeId","data-v-a55022c9"]]),rl=I({props:{width:{default:"360px"}},setup(n){const t=U(null);return pe(t,{targetQuerySelector:".blueberry-c-modal_modal",onTrackDragEvent:()=>{j("trackEvent",{event:{category:"Inline Notification",action:"Moved",label:"Drag"}},"background")}}),(e,o)=>{const s=Q("blueberry-modal");return h(),A(s,{ref_key:"baseInlineNotification",ref:t,position:"top-right","show-overlay":!1,transition:"slide-fade",width:n.width,class:"base-inline-notification"},$e({_:2},[e.$slots.header?{name:"header",fn:y(()=>[H(e.$slots,"header",{},void 0,!0)])}:void 0,e.$slots.content?{name:"content",fn:y(()=>[H(e.$slots,"content",{},void 0,!0)])}:void 0,e.$slots.footer?{name:"footer",fn:y(()=>[H(e.$slots,"footer",{},void 0,!0)])}:void 0]),1032,["width"])}}});const St=D(rl,[["__scopeId","data-v-78f1860f"]]),ll=I({props:{stateOverride:{default:"opt-in"}},setup(n){const t=n,{closeNotification:e}=mt(),o=vt(),s=U("opt-in"),a=w(()=>({["opt-in"]:cl,["opted-in"]:Yr})[s.value]);function r(){e()}async function l(){await j("setTrackingAllowed",{key:Ue.AllowTracking,value:!0}),s.value="opted-in"}async function f(){await j("setTrackingAllowed",{key:Ue.AllowTracking,value:!1}),e()}function _(){o.push({name:"profile"})}return ct(()=>t.stateOverride,i=>{s.value=i}),(i,c)=>(h(),A(St,{class:"opt-in-notification","close-icon-size":"small",onClose:u(e)},{header:y(()=>[x(kt,{condensed:!0})]),content:y(()=>[(h(),A(Ct(u(a)),{class:"opt-in-notification__content",onOptIn:l,onOptOut:f,onClose:r,onShowOptions:_}))]),_:1},8,["onClose"]))}});const ul=D(ll,[["__scopeId","data-v-12a48ac4"]]),dl=n=>n.map(t=>t.threadId).join("|"),pl=k(" See More On Slickdeals "),_l=I({props:{url:null},setup(n){const t=n;function e(){var s;const o=(s=t.url)!=null?s:Us("/","See More On Slickdeals");window.open(o)}return(o,s)=>{const a=Q("blueberry-button");return h(),A(a,{variant:"secondary",class:"see-more-deals-button__cta",onClick:e},{default:y(()=>[pl]),_:1})}}});const fl=D(_l,[["__scopeId","data-v-4d0cbcf1"]]),hl={class:"google-rcm-notification__content"},ml={class:"google-rcm-notification__headline"},vl=I({setup(n){const{googleRcm:t}=F(Wt()),e=w(()=>t.value),o=w(()=>{var i;return(i=e.value.deals)!=null?i:[]}),s=w(()=>{var i;return(i=e.value.totalResultCount)!=null?i:0}),a=w(()=>dl(o.value)),r=w(()=>{var i;return`${s.value} Deals Found for ${(i=e.value.query)!=null?i:""}`}),l=w(()=>e.value.seeMoreDealsUrl);function f(i){G({event:{category:"Google RCM Notification",action:"Clicked",label:`${i.threadId}`}}),Hs({deal:i,page:ze})}V(()=>{Te({page:ze}),G({event:{category:"Google RCM Notification",action:"Shown",label:a.value}})});function _(){Wt().dismiss(),G({event:{category:"Google RCM Notification",action:"Closed",label:a.value}})}return(i,c)=>(h(),A(St,{class:"google-rcm-notification","close-icon-size":"small",onClose:_},{header:y(()=>[x(kt,{condensed:!0})]),content:y(()=>[p("div",hl,[p("h2",ml,P(u(r)),1),x(zs,{deals:u(o),class:"deals-container__deal-list",onDealClick:f},null,8,["deals"]),x(fl,{url:u(l)},null,8,["url"])])]),_:1}))}});const gl=D(vl,[["__scopeId","data-v-8c92031b"]]);function Me({seconds:n,onComplete:t}){let e=0;const o=U(n!=null?n:5);function s(){if(o.value<=0){t==null||t();return}e=window.setInterval(()=>{o.value-=1,o.value===0&&(window.clearInterval(e),t==null||t())},1e3)}function a(){window.clearInterval(e)}return Ve(()=>{a()}),{start:s,stop:a,value:o}}function bo(n){const t=wt(),e=xt(),{merchant:o}=nt();return{openExtensionWindow:async()=>{t.removeNotification();const a=o?await j("shouldShowDefaultButton",{merchant:o}):!1;if((o==null?void 0:o.dealsCount)===0&&a){e.showButton({type:It.Default});return}n.push({name:"deals"})}}}const yl=n=>(Y("data-v-1ff658c2"),n=n(),J(),n),bl={class:"loyalty-activated-notification__wrapper"},Cl={class:"loyalty-activated-notification__content"},wl=yl(()=>p("h1",{class:"loyalty-activated-notification__header"}," Cashback Activated! ",-1)),kl={class:"loyalty-activated-notification__countdown-text"},Sl=["src"],$l=I({setup(n){const t=new URL(Kt,import.meta.url).href,{bestOffer:e}=F(et()),{merchant:o}=F(nt()),s=vt(),{trackEvent:a}=ht({baseEvent:w(()=>{var i,c;return{category:"Loyalty",label:`${(i=e.value)==null?void 0:i.offerId} - ${(c=e.value)==null?void 0:c.offerTitle}`}}),eventPrepend:{action:"On-store toast activated modal"},options:{trackInternally:!0}}),{closeNotification:r}=mt(),{openExtensionWindow:l}=bo(s),f=Me({onComplete(){l()}});function _(){a({action:"closed"}),r()}return V(()=>{var i,c;a({action:"shown"}),j("setLoyaltyActivationSeen",{merchantId:(c=(i=o.value)==null?void 0:i.id)!=null?c:0}),f.start()}),(i,c)=>u(e)?(h(),A(St,{key:0,class:"loyalty-activated-notification","close-icon-size":"small",onClose:_},{header:y(()=>[x(kt,{condensed:!0})]),content:y(()=>[p("div",bl,[p("div",Cl,[wl,p("p",kl," Closing in "+P(u(f).value)+"... ",1)]),p("img",{src:u(t),class:"loyalty-activated-notification__image",width:"83",height:"57"},null,8,Sl)])]),_:1})):R("",!0)}});const xl=D($l,[["__scopeId","data-v-1ff658c2"]]),Al=k(" Get paid to shop! "),El=k(" Earn Cashback Rewards Points that are redeemable for PayPal credit, gift cards and more! "),Il=I({setup(n){const t=xe(),e=U(!1);function o(){e.value=!1}return V(()=>{t.userActions[le.FirstRewardsTooltipSeen]||(e.value=!0,t.setUserAction({key:le.FirstRewardsTooltipSeen,value:!0}))}),(s,a)=>e.value?(h(),A(Qe,{key:0,position:"bottom","has-cta":!1,"tooltip-width":"228px",type:"Loyalty Notification Onboarding",class:"feature-tooltip-rewards","data-tooltip":"firstRewardsTooltipSeen","background-color":"#299A8C",onClick:o},{header:y(()=>[Al]),content:y(()=>[El]),_:1})):R("",!0)}});const Pl=D(Il,[["__scopeId","data-v-4ab01ac7"]]),Tl="/assets/coinsFalling.53e975ee.svg",Dl={class:"blue-cashback-notification__wrapper"},Ll=["src"],Rl={class:"blue-cashback-notification__title"},Ml={class:"blue-cashback-notification__store"},Ol=k(" Not Now "),Nl=I({props:{activate:{type:Boolean,default:!1},defaultButtonText:{default:"Activate"},isOnCheckout:{type:Boolean,default:!1}},setup(n){const t=n,{bestOffer:e,cashbackRateText:o}=F(et()),s=vt(),{closeNotification:a}=mt(),{isLoggedIn:r}=zt(),{merchant:l}=nt(),f=new URL(Tl,import.meta.url).href,{trackEvent:_}=ht({baseEvent:w(()=>{var T,N;return{category:"Loyalty",label:`${(T=e.value)==null?void 0:T.offerId} - ${(N=e.value)==null?void 0:N.offerTitle}`}}),eventPrepend:w(()=>({action:t.isOnCheckout?"On-store toast - checkout":"On-store toast"})),options:{trackInternally:!0}}),{activateCashback:i,activationState:c}=Yt({attribution:{src:"store-loyalty-extension"}});function d(T){if(T&&_({action:"closed"}),c.value===Z.Complete){s.push({name:"deals"});return}a()}const{openAuthPopup:v}=Ee({actionSource:w(()=>`Loyalty On-Store Notification${e.value.sourceSuffix?e.value.sourceSuffix:""}`),onAuthComplete:i,onOpenAuthPopup:()=>{_({action:"clicked - Login"})},mode:Ge.Register});function C(){r?i():v()}ct(c,T=>{const N={[Z.Initial]:"activate",[Z.Activating]:"activation",[Z.Complete]:"activated"}[T];c.value===Z.Complete&&d(),_({action:`${N}`})});const g=w(()=>c.value===Z.Activating),b=w(()=>g.value?"Cashback Activating...":r?t.defaultButtonText:"Sign Up + Get Paid"),$=w(()=>`Get ${o.value}!`);return V(()=>{_({action:r?"shown":"shown - Login"}),t.activate&&i()}),(T,N)=>{const z=Q("blueberry-button");return h(),A(St,{class:"blue-cashback-notification",width:"228px"},{header:y(()=>[x(kt,{condensed:!0})]),content:y(()=>{var O;return[p("div",Dl,[p("img",{src:u(f),class:"blue-cashback-notification__image"},null,8,Ll),p("div",Rl,P(u($)),1),p("p",Ml,"at "+P((O=u(l))==null?void 0:O.name),1),x(z,{class:"blue-cashback-notification__button",size:"x-large",disabled:u(g),onClick:C},{default:y(()=>[k(P(u(b)),1)]),_:1},8,["disabled"]),x(z,{class:"blue-cashback-notification__skip",variant:"unstyled",onClick:d},{default:y(()=>[Ol]),_:1})])]}),footer:y(()=>[x(Pl)]),_:1})}}});const Bl=D(Nl,[["__scopeId","data-v-1bce4107"]]);function Fl({endDate:n,startDate:t=new Date,onComplete:e}){const{start:o,stop:s,value:a}=Me({seconds:Math.floor(n.getTime()/1e3-t.getTime()/1e3),onComplete:e}),r=1,l=60*r,f=60*l,_=24*f,i=30*_,c=365*_,d=w(()=>({years:Math.floor(a.value/c),months:Math.floor(a.value%c/i),days:Math.floor(a.value%i/_),hours:Math.floor(a.value%_/f),minutes:Math.floor(a.value%f/l),seconds:Math.floor(a.value%l/r)}));return{start:o,stop:s,value:d}}function Ul({attribution:n,tracking:t}){var v,C,g,b;const e=U(!1),{bestProductOffer:o}=F(et()),{activateCashback:s,activationState:a}=Yt({attribution:n}),{start:r,value:l}=Fl({endDate:new Date((C=(v=o.value)==null?void 0:v.endDate)!=null?C:""),onComplete:()=>{e.value=!0}}),{trackEvent:f}=ht({baseEvent:{category:"Loyalty",label:`${(g=o.value)==null?void 0:g.offerId} - ${(b=o.value)==null?void 0:b.offerTitle}`},eventPrepend:t.eventPrepend,options:{trackInternally:!0}}),_=w(()=>l.value.years||l.value.months||l.value.days>2?"":l.value.days?`${l.value.days} day${l.value.days>1?"s":""}`:l.value.hours?`${l.value.hours} hour${l.value.hours>1?"s":""}`:l.value.minutes?`${l.value.minutes}m ${l.value.seconds}s`:`${l.value.minutes}m ${l.value.seconds}s`),i=w(()=>e.value?"Offer expired":_.value?`Offer expires in ${_.value}`:""),c=w(()=>e.value||a.value!==Z.Initial),d=w(()=>e.value?"Offer Expired":a.value===Z.Complete?"Activated":a.value===Z.Activating?"Activating...":"Activate");return V(()=>{f({action:"shown"}),r()}),ct(a,()=>{f({action:`${a.value}`})}),{activateCashback:s,expirationText:i,offer:o,showActivated:w(()=>a.value===Z.Complete),button:w(()=>({isDisabled:c.value,text:d.value})),trackEvent:f}}const zl={},Hl={class:"loyalty-product-offer-pill"};function jl(n,t){return h(),S("div",Hl,"Cashback")}const Co=D(zl,[["render",jl],["__scopeId","data-v-13f5a26e"]]);const ql={},Wl={class:"loyalty-product-offer-expiration"};function Gl(n,t){return h(),S("div",Wl,[H(n.$slots,"default",{},void 0,!0)])}const Vl=D(ql,[["render",Gl],["__scopeId","data-v-ef417fc0"]]),Yl=n=>(Y("data-v-6266fd48"),n=n(),J(),n),Jl={class:"loyalty-product-offer-notification__wrapper"},Kl={class:"loyalty-product-offer-notification__offers"},Zl={class:"loyalty-product-offer-notification__content"},Ql={class:"loyalty-product-offer-notification__text"},Xl={class:"loyalty-product-offer-notification__header"},tu={class:"loyalty-product-offer-notification__body"},eu=["src"],ou={key:0},su={key:1},nu=Yl(()=>p("div",{class:"loyalty-product-offer-notification__head"}," Offer Activated! ",-1)),au={key:0,class:"loyalty-product-offer-notification__activated-body"},iu=k(" Got It "),cu=I({setup(n){const{closeNotification:t}=mt(),e=new URL(Kt,import.meta.url).href,{activateCashback:o,button:s,expirationText:a,offer:r,showActivated:l,trackEvent:f}=Ul({attribution:{src:"store-loyalty-product-extension",campaign:"loyalty-product-extension"},tracking:{eventPrepend:{action:"On-store product toast"}}});function _(){f({action:"close"}),t()}function i(){f({action:"got-it"}),t()}return(c,d)=>{const v=Q("blueberry-button");return h(),A(St,{class:"loyalty-product-offer-notification",onClose:_},{header:y(()=>[x(kt)]),content:y(()=>{var C,g,b,$;return[p("div",Jl,[p("div",Kl,[x(Co),x(Vl,null,{default:y(()=>[k(P(u(a)),1)]),_:1})]),p("div",Zl,[p("div",Ql,[p("h2",Xl,P((g=(C=u(r))==null?void 0:C.product)==null?void 0:g.productRate)+" back ",1),p("p",tu," in Cashback Rewards when you buy: "+P(($=(b=u(r))==null?void 0:b.product)==null?void 0:$.productName),1)]),p("img",{src:u(e),class:"loyalty-product-offer-notification__image",width:"83",height:"58"},null,8,eu)])])]}),footer:y(()=>[p("div",{class:dt([{"loyalty-product-offer-notification__footer--activated":u(l)},"loyalty-product-offer-notification__footer"])},[u(l)?(h(),S("div",su,[nu,u(a)?(h(),S("p",au," Be sure to complete your transaction before the offer expires in "+P(u(a))+"! ",1)):R("",!0),x(v,{variant:"secondary",size:"small",class:"loyalty-product-offer-notification__confirm",onClick:i},{default:y(()=>[iu]),_:1})])):(h(),S("div",ou,[x(v,{variant:"loyalty",class:"loyalty-product-offer-notification__cta",disabled:u(s).isDisabled,onClick:u(o)},{default:y(()=>[k(P(u(s).text),1)]),_:1},8,["disabled","onClick"])]))],2)]),_:1})}}});const ru=D(cu,[["__scopeId","data-v-6266fd48"]]),wo=n=>(Y("data-v-4a0c2235"),n=n(),J(),n),lu={class:"loyalty-reactivate-offer-notification-initial"},uu=["src"],du=wo(()=>p("h1",{class:"loyalty-reactivate-offer-notification-initial__header"}," Reactivate Cashback ",-1)),pu=wo(()=>p("p",{class:"loyalty-reactivate-offer-notification-initial__text"}," We got suppressed, which means you may not get cashback from Slickdeals. Reactivate your cashback to ensure you'll get rewarded! ",-1)),_u=k(" Reactivate Cashback "),fu=I({emits:["activate-cashback"],setup(n,{emit:t}){const e=new URL(Kt,import.meta.url).href;return(o,s)=>{const a=Q("blueberry-button");return h(),S("div",lu,[p("img",{src:u(e),class:"loyalty-reactivate-offer-notification-initial__image",width:"128",height:"96"},null,8,uu),du,pu,x(a,{variant:"loyalty",class:"loyalty-reactivate-offer-notification-initial__button",onClick:s[0]||(s[0]=r=>t("activate-cashback"))},{default:y(()=>[_u]),_:1})])}}});const hu=D(fu,[["__scopeId","data-v-4a0c2235"]]),mu=n=>(Y("data-v-5d182bbd"),n=n(),J(),n),vu={class:"loyalty-reactivate-offer-notification-complete"},gu=mu(()=>p("h1",{class:"loyalty-reactivate-offer-notification-complete__header"}," Cashback Activated! ",-1)),yu={class:"loyalty-reactivate-offer-notification-complete__countdown-text"},bu=I({setup(n){const t=vt(),{openExtensionWindow:e}=bo(t),o=Me({onComplete(){e()}});return V(()=>{o.start()}),(s,a)=>(h(),S("div",vu,[gu,p("p",yu," Closing in "+P(u(o).value)+"... ",1)]))}});const Cu=D(bu,[["__scopeId","data-v-5d182bbd"]]);const wu={},ku=n=>(Y("data-v-9f933d48"),n=n(),J(),n),Su={class:"loyalty-reactivate-offer-notification-activating"},$u=ku(()=>p("p",null,"Activating Cashback...",-1)),xu=[$u];function Au(n,t){return h(),S("div",Su,xu)}const Eu=D(wu,[["render",Au],["__scopeId","data-v-9f933d48"]]),Iu=["src"],Pu={class:"loyalty-reactivate-offer-notification__wrapper"},Tu=["src"],Du=I({setup(n){const{closeNotification:t}=mt(),{hasAttribution:e}=F(Ie()),{merchant:o}=F(nt()),s=new URL(Kt,import.meta.url).href,a=new URL(Xe,import.meta.url).href,{trackEvent:r}=ht({baseEvent:w(()=>{var b;return{category:"Reactivate Cashback Notification",label:(b=o.value)==null?void 0:b.slug}}),options:{trackInternally:!0}}),{activateCashback:l,activationState:f}=Yt({attribution:{src:"reactivate-cashback-notification",campaign:"reactivate-cashback"}}),_=w(()=>({[Z.Initial]:hu,[Z.Activating]:Eu,[Z.Complete]:Cu})[f.value]);function i(){var b;r({action:"Closed"}),t(),j("clearReactivateCashbackNotification",{slug:(b=o.value)==null?void 0:b.slug})}async function c(){r({action:"Clicked"}),l()}function d(b){return f.value===Z.Initial?b?{[`loyalty-reactivate-offer-notification__${b}-vertical`]:!0}:{["loyalty-reactivate-offer-notification__vertical"]:!0}:{}}const v=w(()=>f.value!==Z.Initial),C=w(()=>d("")),g=w(()=>d("logo"));return ct(e,()=>{e.value&&f.value===Z.Initial&&mt()}),ct(f,b=>{r({action:b.charAt(0).toUpperCase()+b.slice(1)})}),V(()=>{var b,$;r({action:"Shown"}),j("setLoyaltyActivationSeen",{merchantId:($=(b=o.value)==null?void 0:b.id)!=null?$:0})}),(b,$)=>(h(),A(St,{class:dt(["loyalty-reactivate-offer-notification",u(C)]),onClose:i},{header:y(()=>[p("img",{src:u(a),width:"28",height:"28",class:dt(["loyalty-reactivate-offer-notification__logo",u(g)])},null,10,Iu)]),content:y(()=>[p("div",Pu,[(h(),A(Ct(u(_)),{class:"loyalty-reactivate-offer-notification__content",onActivateCashback:c,onTrackEvent:u(r)},null,8,["onTrackEvent"])),u(v)?(h(),S("img",{key:0,src:u(s),class:"loyalty-reactivate-offer-notification__image",width:"83",height:"57"},null,8,Tu)):R("",!0)])]),_:1},8,["class"]))}});const Lu=D(Du,[["__scopeId","data-v-89bf83a5"]]),Ru=n=>(Y("data-v-7ad9cdd8"),n=n(),J(),n),Mu={class:"loyalty-segmented-offer-notification__container"},Ou={class:"loyalty-segmented-offer-notification__offers"},Nu=Ru(()=>p("div",{class:"loyalty-segmented-offer-notification__expires"}," Offer expires soon ",-1)),Bu={class:"loyalty-segmented-offer-notification__content"},Fu={class:"loyalty-segmented-offer-notification__text"},Uu={class:"loyalty-segmented-offer-notification__header"},zu={class:"loyalty-segmented-offer-notification__text"},Hu={class:"loyalty-segmented-offer-notification__footer"},ju=k(" Activate Cashback "),qu=k(" Exclusions may apply "),Wu=["innerHTML"],Gu=I({setup(n){const{bestOffer:t}=F(et()),e=wt(),{merchant:o}=F(nt()),{closeNotification:s}=mt(),{trackEvent:a}=ht({baseEvent:w(()=>{var i,c;return{category:"Loyalty",label:`${(i=t.value)==null?void 0:i.offerId} - ${(c=t.value)==null?void 0:c.offerTitle}`}}),eventPrepend:{action:"Boosted cashback on-store toast"}}),{activateCashback:r}=Yt({attribution:{src:"boosted-cashback-extension"}}),{openLoyaltyTermsPopup:l}=Vt({src:"boosted-cashback-extension"});function f(){a({action:"selected"}),r(),e.setNotification({type:ft.LoyaltyActivateOffer})}function _(){a({action:"dismissed"}),s()}return V(()=>{a({action:"shown"})}),(i,c)=>{const d=Q("blueberry-button");return h(),A(St,{class:"loyalty-segmented-offer-notification",onClose:_},{header:y(()=>[x(kt)]),content:y(()=>{var v,C,g;return[p("div",Mu,[p("div",Ou,[x(Co),Nu]),p("div",Bu,[p("div",Fu,[p("h2",Uu,P((v=u(t))==null?void 0:v.offerDisplayText)+" at "+P((C=u(o))==null?void 0:C.name),1),p("p",zu,P((g=u(t))==null?void 0:g.offerDisplayText)+" sitewide except select items and categories where exclusions apply ",1)])])])]}),footer:y(()=>[p("div",Hu,[x(d,{variant:"loyalty",class:"loyalty-segmented-offer-notification__cta",onClick:f},{default:y(()=>[ju]),_:1}),x(X,{class:"loyalty-segmented-offer-notification__terms","no-hover":"",onClick:u(l)},{default:y(()=>[qu,p("span",{class:"loyalty-segmented-offer-notification__icon",innerHTML:u(js)},null,8,Wu)]),_:1},8,["onClick"])])]),_:1})}}});const Vu=D(Gu,[["__scopeId","data-v-7ad9cdd8"]]),Yu=n=>(Y("data-v-9ed3a056"),n=n(),J(),n),Ju=Yu(()=>p("div",{class:"loyalty-still-active-notification__content"},[p("h1",{class:"loyalty-still-active-notification__header"}," Your cashback is still active "),p("p",{class:"loyalty-still-active-notification__text"}," Shop with confidence, you're covered on this transaction! ")],-1)),Ku=I({setup(n){const{closeNotification:t}=mt(),{bestOffer:e}=F(et()),{trackEvent:o}=ht({baseEvent:w(()=>{var a,r;return{category:"Loyalty",label:`${(a=e.value)==null?void 0:a.offerId} - ${(r=e.value)==null?void 0:r.offerTitle}`}}),eventPrepend:{action:"Checkout Activation Confirmation"},options:{trackInternally:!0}});function s(){o({action:"Closed"}),t()}return V(()=>{o({action:"Shown"})}),(a,r)=>(h(),A(St,{class:"loyalty-still-active-notification",onClose:s},{header:y(()=>[x(kt)]),content:y(()=>[Ju]),_:1}))}});const Zu=D(Ku,[["__scopeId","data-v-9ed3a056"]]);function Qu(){async function n({attributionTabOptions:t={},outclickUrl:e,src:o,targetUrl:s}){const{merchant:a}=nt();a&&await j("attribution",{targetUrl:s,outUrl:e!=null?e:a.outclickUrl,store:{slug:a.slug},attributionTabOptions:t,src:o},"background")}return{claimAttribution:n}}function Gt(n,t=0){if(t>5)return!1;if(!n)return!0;if(n instanceof HTMLElement){const e=window.getComputedStyle(n);if(!(e.display==="none"||n.getAttribute("type")==="hidden"||e.visibility==="hidden"))return n.parentElement?Gt(n.parentElement,t+1):!1}return!0}function tt(n,t=!1){if(t&&sessionStorage.debug&&console.log("Price",n),!n)return null;if(n=String(n).replace(/(\n|\r)/gim,""),document.location.href.indexOf("homedepot.com")>-1){const r=n.split(".");r&&r.length&&r.length>1&&Number(r[1])===0&&(n=n.replace(".00",""))}document.location.href.indexOf("us-mattress.com")>-1&&(n=n.replace(",",""));const e=n.match(new RegExp("\\d+(((\\.|\\,)\\d+)?)+","gim"));if(!(e!=null&&e.length))return null;let o=e[0];sessionStorage.onlyComma&&(o=o.replace(",",""));const s=o.indexOf(","),a=o.indexOf(".");return s>a?o=o.replace(".","").replace(",","."):(s<a||a<0)&&(o=o.replace(",","")),t&&sessionStorage.debug&&console.log("parsedPrice:",parseFloat(o)),parseFloat(o)}function Xu(n){if(!n)return null;const t=n.split("//");if(!(t!=null&&t.length))return null;let e=document,o=null;return t.forEach(s=>{s==="sr"?o=e.shadowRoot:s==="ifr"?o=e.contentDocument:o=e.querySelector(s),o&&(e=o)}),o}function bt(n,t=document,e=!1){if(!n||typeof n!="string")return null;const o=r=>["first","visible","last"].includes(r),s={},a=n.replaceAll(/:([-a-z]+)(?:\((.*)\))?/gim,(r,l,f)=>o(l)?(s[l]=f===void 0?!0:f,""):r);try{const r=Array.from(t.querySelectorAll(a));return s.visible?r.filter(l=>!Gt(l)):s.first?r.slice(0,1):s.last?[r[r.length-1]]:r}catch(r){const l=Xu(n);return!l&&r instanceof Error?(Lt("error","Wrong selector",`"${n}"
`,r.message),null):l?[l]:null}}function ut(n,t=null,e=document,o=!1){if(!n||!e)return null;const s=n.replace(/%promo/,(t==null?void 0:t.code)||""),a=bt(s,e,o);return a!=null&&a.length?a[0]:null}function td({waitFor:n,waitUntil:t,totalSelector:e,total:o,target:s,skipTimeout:a},r=3500){const l=s||document.body||document;return l?new Promise(f=>{let _=0;const i=new MutationObserver(()=>{let c=!1,d=!1,v=null;const C=n||t;if(C&&(v=ut(C,null,l)),e){const g=ut(e,null,l);if(g){const b=tt(g.innerText);d=Boolean(b&&b!==o)}}n&&(c=!Gt(v)),t&&!c&&(c=Gt(v)),(c||d)&&(Xt("observerFinishWell",c,d),clearTimeout(_),i.disconnect(),f(c?"observer":"total"))});i.observe(l,{attributes:!0,childList:!0,subtree:!0}),_=a?0:setTimeout(()=>{Xt("error","observerFinishError",r),i.disconnect(),f(!1)},r)}):(Xt("error","awaitObserver - document.body in undefined"),Promise.resolve(!1))}const ed=k(" Coupons are available "),od=k(" View Coupons "),sd=I({setup(n){const t=vt(),{merchant:e}=F(nt()),{caaConfig:o}=F(Ut()),{trackEvent:s}=ht({baseEvent:{category:"Coupon Manual Apply"}}),{claimAttribution:a}=Qu(),{closeNotification:r}=mt(),l=U(!1),f=U(null);async function _(){var N;if(!((N=o.value)!=null&&N.manual))return;const{waitFor:g,useLoop:b,loopDelay:$}=o.value.manual;if(!g){l.value=!0;return}if(b){const z=window.setInterval(()=>{const O=document.querySelector(g);Gt(O)||(clearInterval(z),l.value=!0)},$||1e3);return}await td({waitFor:g,skipTimeout:!0})&&(l.value=!0)}function i(){s({action:"On-store toast closed"}),r()}function c(){t.push(He({skipCouponAttribution:!0}))}function d(g){var b;(b=document.querySelector(g))==null||b.click(),c()}function v(g){window.open(L(g,{"xtn-url":He({skipCouponAttribution:!0})})),r()}function C(){var T,N,z,O;s({action:"Clicked"}),a({src:"coupon_manual_apply"});const{click:g,deleteParent:b,url:$}=(N=(T=o.value)==null?void 0:T.manual)!=null?N:{};b&&((O=(z=document.querySelector(b))==null?void 0:z.parentElement)==null||O.remove()),g?d(g):$?v($):c()}return V(()=>{_()}),ct(l,()=>{!l.value||s({action:"Shown"})}),pe(f,{targetQuerySelector:".blueberry-c-modal_modal",onTrackDragEvent:()=>{s({action:"Moved",label:"Drag"})}}),(g,b)=>l.value?(h(),A(ro,{key:0,ref_key:"notificationCouponAutoApplyManual",ref:f,merchant:u(e),class:"notification-coupon-auto-apply-manual",onApplyCoupons:C,onClose:i},{header:y(()=>[ed]),ctaLabel:y(()=>[od]),_:1},8,["merchant"])):R("",!0)}}),Oe=n=>(Y("data-v-5b4f91a0"),n=n(),J(),n),nd={class:"notification-onboarding__content"},ad=Oe(()=>p("section",{class:"notification-onboarding__slide notification-onboarding__slide-one"},[p("p",null,"Welcome to the"),p("h2",null,"Slickdeals Extension!")],-1)),id=Oe(()=>p("section",{class:"notification-onboarding__slide notification-onboarding__slide-two"},[p("p",null,"Automagically apply coupons at check out.")],-1)),cd={class:"notification-onboarding__slide notification-onboarding__slide-three"},rd=["src"],ld=Oe(()=>p("p",null,"Earn Cashback while you shop!",-1)),ud={class:"notification-onboarding__slide notification-onboarding__slide-four"},dd=k(" Got It! "),pd=k(" Start Over "),_d=I({props:{timing:{default:5e3},nextNotification:{default:null}},setup(n){var b;const t=n,e=Cs({counter:0,sliderHeight:160,autoScroll:void 0,lastSlide:3}),{merchant:o}=F(nt()),{trackEvent:s}=ht({baseEvent:{category:"SEO/SEM Onboarding",label:(b=o.value)==null?void 0:b.slug},options:{trackInternally:!0}}),{closeNotification:a}=mt(),{setNotification:r}=wt(),l=U();function f(){a(),t.nextNotification&&r(t.nextNotification)}function _(){s({action:"Close Clicked"}),f()}function i(){s({action:"Got It Clicked"}),f()}function c(){l.value&&(l.value.style.transform=`translateY(${e.counter*-e.sliderHeight}px)`,s({action:`Slide ${e.counter+1} Shown`}))}function d(){clearInterval(e.autoScroll)}function v(){c(),e.counter+=1,e.counter>e.lastSlide&&d()}function C(){v(),e.autoScroll=setInterval(v,t.timing)}function g(){l.value&&(l.value.style.transform="translateY(0)",e.counter=0,C()),s({action:"Start Over Clicked"})}return V(()=>{C(),s({action:"Started"})}),($,T)=>{const N=Q("blueberry-button");return h(),A(St,{class:"notification-onboarding",onClose:_},{header:y(()=>[x(kt)]),content:y(()=>[p("div",nd,[p("div",{ref_key:"slideContainer",ref:l,class:"notification-onboarding__slide-container"},[ad,id,p("section",cd,[p("img",{src:u(qs),alt:""},null,8,rd),ld]),p("section",ud,[x(N,{class:"notification-onboarding__close-button",variant:"secondary","data-role":"close-onboarding-slides",onClick:i},{default:y(()=>[dd]),_:1}),x(N,{class:"notification-onboarding__reset-button",variant:"unstyled","data-role":"reset-onboarding-slides",onClick:g},{default:y(()=>[pd]),_:1})])],512)])]),_:1})}}});const fd=D(_d,[["__scopeId","data-v-5b4f91a0"]]),hd=I({setup(n){const{inlineNotification:t}=F(wt()),e=w(()=>{if(t.value===null)return null;const s={[ft.AllowTrackingNotification]:ul,[ft.CouponAutoApplyManual]:sd,[ft.GoogleDealRcm]:gl,[ft.LoyaltyActivated]:xl,[ft.LoyaltyActivateOffer]:Bl,[ft.LoyaltyProductOffer]:ru,[ft.LoyaltyReactivateOffer]:Lu,[ft.LoyaltySegmentedOffer]:Vu,[ft.LoyaltyStillActive]:Zu,[ft.Onboarding]:fd}[t.value.type];if(!s)throw new Error(`Missing component definition for inline notification ${t.value.type}`);return s});return(o,s)=>{var a;return h(),A(Ct(u(e)),Ye(Je((a=u(t))==null?void 0:a.props)),null,16)}}});function md(){var t,e;return(e=(t=window.performance.getEntriesByType("navigation")[0])==null?void 0:t.type)!=null?e:null}async function vd(n){const t=await j("getGlobalContentScriptData",{url:n.href,title:document.title,navigationType:md()},"background"),{attribution:e,authInfo:o,couponAutoApply:s,headerBanner:a,inlineNotification:r,loyalty:l,merchant:f,slickdealsButton:_,userActions:i,userOptions:c}=t;Ws().location=n,nt().merchant=f,xt().slickdealsButton=_,xe().userActions=i,zt().authInfo=o,Gs().userOptions=c,wt().inlineNotification=r,Ie().status=e.status,et().offers=l.offers,Vs().headerBanner=a;const d=Ut();return d.caaConfig=s.caaConfig,d.caaEnabled=s.caaEnabled,d.caaAutoDisplay=s.caaAutoDisplay,await Wt().initSearchRcm(),t}function _e(n,t=64){var e,o;return n&&((o=(e=n.replace(/( {2})/gim,""))==null?void 0:e.replace(/(\n\n)/gim,""))==null?void 0:o.slice(0,t))}function Pt(n,t=[],e=Ke.MerchantForwarded){j("forwardCouponsToMerchant",{merchantUrl:n,couponType:e,coupons:t.map(o=>({description:null,dollarsOff:null,expireDate:null,link:null,percentOff:null,title:null,id:0,type:e,code:o}))})}const gd=()=>{if(!new RegExp(/https?:\/\/www\.harborfreight\.com\/.*\.html\?ccdenc=/gi).test(document.location.href))return!1;const t=document.querySelector("p[class^='price__coupon']");if(!t)return!1;const e=t.innerText.match(/ (\d*)\./);if(!e||!e.length||!e[1])return!1;const o=_e(e[1]),s=document.querySelector("div[class*='product__purchase']>button[class*='button__buttonGreen']");return o?(s?s.hasAttribute("slick-coupon-forwarding")||(s.setAttribute("slick-coupon-forwarding","true"),s.addEventListener("mousedown",()=>{Pt(document.location.href,[o])})):Pt(document.location.href,[o]),!0):!1},yd=()=>{if(!new RegExp(/https?:\/\/.*google.com\/shopping\/product/gi).test(document.location.href))return!1;const t=document.querySelectorAll(".dFObge");if(!(t!=null&&t.length))return!1;const e=[];if(t.forEach(s=>{if(s.innerText){const a=_e(s.innerText);a&&e.push(a)}}),!e.length)return!1;const o=document.querySelectorAll(".shop__cart-action-container, .DKrzLb");return o!=null&&o.length?o.forEach(s=>{s.hasAttribute("slick-coupon-forwarding")||(s.setAttribute("slick-coupon-forwarding","true"),s.addEventListener("mousedown",()=>{Pt(document.location.href,e)}))}):Pt(document.location.href,e),!0},bd=()=>{if(!new RegExp(/.*newegg.com\/.*\/?p\/.*/gi).test(document.location.href))return!1;const t=document.querySelector(".promo,.product-promo");if(!t)return!1;const e=t.innerText.match(/promo code:? ?([^,]*)/i);if(!e||!e.length||!e[1])return!1;const o=_e(e[1]),s=document.querySelector("#landingpage-cart .call-to-action>button,#ProductBuy button.btn-primary");return o?(s?s.hasAttribute("slick-coupon-forwarding")||(s.setAttribute("slick-coupon-forwarding","true"),s.addEventListener("mousedown",()=>{Pt(document.location.href,[o])})):Pt(document.location.href,[o]),!0):!1},Cd=n=>{if(n.location.href.indexOf(`https://${ws}/f`)===-1)return!1;const t=n.querySelector("#largeBuyNow"),e=n.querySelectorAll(".postCouponContainer .code strong"),o=Array.from(e).map(a=>_e(a.innerText)).filter(a=>Boolean(a)),s=new Set(o);return!t||!s.size?!1:(Pt(`https://www.${t.dataset.productExitwebsite}/`,Array.from(s),Ke.DealDetails),!0)};async function wd(n){await Pe(),setTimeout(()=>{Cd(n),bd(),gd(),yd()},1500)}async function Bt(n){return new Promise(t=>{setTimeout(t,n*1e3)})}async function kd(n){const t=new TextEncoder().encode(n),e=await crypto.subtle.digest("SHA-1",t);return Array.from(new Uint8Array(e)).map(s=>s.toString(16).padStart(2,"0")).join("")}const Rt=class{constructor(){B(this,"config",{});B(this,"parametersForCheck",["confirmationNumber","totalAmount","couponCodes","taxes","shipping"]);B(this,"confirmationData",{});B(this,"currentConfirmationNumber","");B(this,"dataSent",!1);B(this,"capturedParameters",[])}static create(){var t;return(t=Rt.instance)!=null||(Rt.instance=new this),Rt.instance}async init(t){!t||(G({event:{category:"Website",action:"Order Confirmation"}}),this.config=this.filterEmptyParameters(t),this.parametersForCheck=this.parametersForCheck.filter(e=>this.config[e]),t.products&&t.productsContainer&&(this.config.products=this.filterEmptyParameters(t.products),this.parametersForCheck.push("products")),Lt("CPC: formatted configs",this.config,this.parametersForCheck),await Bt((this.config.waitTimeout||0)/1e3),this.parsePage(this.config,this.config.timeout))}filterEmptyParameters(t){const e={};return Object.entries(t).forEach(([o,s])=>{s&&(e[o]=s)}),e}parsePage(t,e=3e3){if(!t)return;let o=0,s=0;const a=new MutationObserver(()=>{if(["complete","interactive"].includes(document.readyState)){const r=this.getPageData(t);r&&(a.disconnect(),o&&clearTimeout(o),s&&clearInterval(s),Lt("done by data",r,this.confirmationData),this.confirmationData&&this.sendData(this.confirmationData,"data"))}});a.observe(document,{subtree:!0,childList:!0}),s=setInterval(()=>{if(["complete","interactive"].includes(document.readyState)){if(clearInterval(s),o)return;o=setTimeout(()=>{a.disconnect(),this.getPageData(t),this.confirmationData&&this.sendData(this.confirmationData,"timeout")},e||3e3)}},500)}async sendData(t,e){var r,l,f,_,i,c;const o=this.formatString((r=t.confirmationNumber)!=null?r:"");if(this.currentConfirmationNumber!==o&&(this.currentConfirmationNumber=o,this.dataSent=!1),this.dataSent)return;this.dataSent=!0;const s=await kd(`confirmationNumber:=${o}`);G({event:{category:"Order Confirmation",action:"Sent",label:s}});const a={domain:document.location.host,url:document.location.href,taxes:this.formatString((l=t.taxes)!=null?l:""),shipping:this.formatString((f=t.shipping)!=null?f:""),confirmationNumber:o,totalAmount:this.formatString((_=t.totalAmount)!=null?_:"",!0),products:t.products||[],couponCodes:t.couponCodes||[],loyaltyOfferId:(c=(i=et().bestOffer)==null?void 0:i.offerId)!=null?c:null,doneVia:e};j("fetchUrl",{url:`${ce}/orderConfirmation`,options:{method:"post",json:a}})}formatString(t,e=!1){if(!t)return"";let o=t.toString().replace(/\r?\n|\r/gim,"").replace(/ {2}/gim,"").replace(//gim,"");return e&&(o=o.replace(/[^\d.,\n]/gim,"").trim()),o}getPageData(t){var e;if(!t)return!1;if(Lt("capturedParameters",this.capturedParameters),Lt("parametersForCheck",this.parametersForCheck),this.capturedParameters.length===this.parametersForCheck.length)return!0;if(t.urlData&&t.urlData.forEach(({key:o,param:s})=>{const a=document.location.href.split(/\?|\[/)[1],r=a==null?void 0:a.split("&");r!=null&&r.length&&r.forEach(l=>{const[f,_]=l.split("=");f===s&&(this.confirmationData[o]=_,this.capturedParameters.includes(o)||this.capturedParameters.push(o))})}),Object.keys(t).forEach(o=>{if(!this.confirmationData[o]&&t[o]&&typeof t[o]=="string"&&this.parametersForCheck.includes(o)){let s=null;["confirmationNumber"].includes(o)?s=this.getValueFromSelector({selector:t[o],contentFirst:!0}):s=this.getValueFromSelector({selector:t[o]}),s&&(this.confirmationData[o]=this.postprocess({config:t,param:o,value:s}),this.capturedParameters.includes(o)||this.capturedParameters.push(o))}}),this.parametersForCheck.includes("products")&&(!((e=this.confirmationData)!=null&&e.products)||!this.confirmationData.products.length)){const{products:o}=this.config,s=this.config.productsContainer?bt(this.config.productsContainer):[];if(o&&s&&s.length){const a=[];s.forEach(r=>{const l={};Object.keys(o).forEach(f=>{let _=null;["url"].includes(f)?_=this.getValueFromSelector({selector:o[f],context:r}):_=this.getValueFromSelector({selector:o[f],context:r,contentFirst:!0}),_&&(_=this.postprocess({config:o,param:f,value:_}),_&&["finalPrice","salePrice","listPrice"].includes(f)&&(_=this.formatString(_)),l[f]=_)}),Object.keys(l).length&&a.push(l)}),this.confirmationData.products=a,a&&a.length&&this.capturedParameters.push("products")}}return!1}getValueFromSelector({selector:t,context:e=document,contentFirst:o=!1}){if(!t)return null;try{const s=e.querySelector(t);return s?s.nodeName==="A"?o?s.innerText||s.content||s.value||s.href||null:s.href||s.content||s.value||s.innerText||null:s.content||s.value||s.innerText||null:null}catch(s){return s instanceof Error&&Lt("error",t,s.message),null}}postprocess({config:t,param:e,value:o}){if(!t||!e||!o)return null;const s=t[`${e}Postprocess`];if(s!=null&&s.type&&s.type==="regex"){const a=new RegExp(s.regex,"gmi").exec(o);if(a!=null&&a.length)return a[1]||a[0]}return o}};let ee=Rt;B(ee,"instance");function Qt(n){const t=`sessionStorage.%key = JSON.stringify(window.${n});`;return ks(t,"json")}function ot(n,...t){Ss("PD","#14718a;",n,...t)}const Mt=class{constructor(){B(this,"config",null);B(this,"observer",null);B(this,"isRequiredSend",!1);B(this,"productData",{});B(this,"waitInterval",0);B(this,"dataTimeout",0);B(this,"errors",[])}static create(){var t;return(t=Mt.instance)!=null||(Mt.instance=new this),Mt.instance}async init(t){ot("init"),await this.checkProductData(),ot("config",t),this.config=t,this.config&&(await Bt(this.config.waitTimeout/1e3||0),this.parsePage(this.config,this.config.timeout))}parseString(t,e=""){return t?["upc","reviewCount","reviewRating","listPrice","salePrice"].includes(e)?tt(t):`${t}`.replace(`
`,"").trim():""}isCapturedField(t){return["sku","upc","asin","name","specs","model","brand","seller","category","categories","listPrice","salePrice","description","reviewCount","stockStatus","reviewRating","shippingCost"].includes(t)}isRequiredDone(t){return t?!!(t.name&&t.categories&&t.categories.length&&(t.listPrice||t.salePrice)):!1}formatString(t){return t?t.toString().replace(/\r?\n|\r/gim,"").replace(/ {2}/gim,"").replace(//gim,""):""}getPageData(t){Object.keys(t).forEach(e=>{const o=t[e];if(o&&this.isCapturedField(e)&&!this.productData[e]&&typeof o=="string"){const s=this.getValueFromSelector({selector:o,prop:e,config:t});ot("getPageData",e,s),s?(this.errors=this.errors.filter(a=>{var r;return((r=a.data)==null?void 0:r.name)!==e}),this.productData[e]=Array.isArray(s)?s:this.parseString(s,e)):this.errors.find(r=>{var l;return((l=r==null?void 0:r.data)==null?void 0:l.name)===e})||this.errors.push({type:"selectorQueryFailure",data:{name:e,selector:o}})}})}parsePage(t,e=3e3){if(!t)return;let o={};this.observer&&(this.observer.disconnect(),this.observer=null),this.observer=new MutationObserver(async()=>{var s,a;if(["complete","interactive"].includes(document.readyState)){if(this.isRequiredSend){(s=this.observer)==null||s.disconnect(),this.observer=null;return}this.getPageData(t),this.productData=this.handleUniqueCases(this.productData),this.isRequiredDone(this.productData)&&(ot("parsePage isRequiredDone",this.productData),this.isRequiredSend=!0,o={...this.productData},clearInterval(this.waitInterval),clearTimeout(this.dataTimeout),await this.getAdditionalData(),this.sendData(this.productData,!0),(a=this.observer)==null||a.disconnect()),await Bt(1)}}),this.observer.observe(document,{subtree:!0,childList:!0}),this.waitInterval=setInterval(()=>{["complete","interactive"].includes(document.readyState)&&(this.dataTimeout=setTimeout(async()=>{var s;this.getPageData(t),this.productData=this.handleUniqueCases(this.productData),JSON.stringify(this.productData)!==JSON.stringify(o)||!this.isRequiredSend?(await this.getAdditionalData(),this.sendData(this.productData,!0)):this.sendError(),ot("end waitTimeout",e,this.productData),(s=this.observer)==null||s.disconnect()},e),clearInterval(this.waitInterval))},500)}async sendError(){const t={domain:document.location.host,url:document.location.href,errors:this.errors};await this.setProductData({productData:t,requiredData:!1})}getValueFromSelector({selector:t,prop:e,config:o}){if(!t)return null;if(e==="category"&&(o==null?void 0:o.isCategoryList)||e==="categories"){const a=bt(t);if(!(a!=null&&a.length))return null;const r=[];return a.forEach(l=>l.innerText&&r.push(this.formatString(l.innerText))),ot("getValueFromSelector categoryList",r,a),r}const s=ut(t);return s&&(s.content||s.value||s.innerText)||null}handleUniqueCases(t){var e,o,s,a,r,l,f,_,i,c,d,v,C,g,b,$,T,N,z,O;ot("handleUniqueCases()",t);try{if(!t)return{};const m={...t};let rt=Array.isArray(m.category)?m.category:[];m.category&&this.config&&this.config.splitter&&!m.categories?(rt=m.category.split(this.config.splitter),m.categories=rt.map(E=>this.formatString(E)),m.category=m.categories[0]):m.categories=m.categories||rt,ot("prices_1",m.salePrice,m.listPrice,m.stockStatus);const K=(e=m.name)==null?void 0:e.toLowerCase();if((K==null?void 0:K.includes("refurbished"))||(K==null?void 0:K.includes("used"))||(K==null?void 0:K.includes("renewed"))?m.condition="Used":m.condition="New",((o=this.config)==null?void 0:o.checkStock)&&m.stockStatus&&!["Out of Stock","In Stock"].includes(m.stockStatus)&&(m.stockStatus?m.stockStatus="In Stock":m.stockStatus="Out of Stock"),this.isMerchantName("target")){if(m.brand&&(m.brand=m.brand.replace(/Shop all /gim,"")),m.sku||m.upc){m.tcin=0,m.upc=0,m.sku="";const E=bt((a=(s=this.config)==null?void 0:s.sku)!=null?a:"");if(E!=null&&E.length)try{E.forEach(q=>{var W,pt,_t,lt,Dt,Ne,Be;q.innerText.toLowerCase().includes("item number")&&(m.sku=(pt=(W=q.innerText)==null?void 0:W.toLowerCase())==null?void 0:pt.replace("item number (dpci): ","")),q.innerText.toLowerCase().includes("upc")&&(m.upc=Number.parseInt(`${tt((Dt=(lt=(_t=q.innerText)==null?void 0:_t.toLowerCase())==null?void 0:lt.replace("upc: ",""))!=null?Dt:"")}`,10)),q.innerText.toLowerCase().includes("tcin")&&(m.tcin=Number.parseInt(`${tt(`${(Be=(Ne=q.innerText)==null?void 0:Ne.toLowerCase())==null?void 0:Be.replace("tcin: ","")}`)}`,10))})}catch(q){q instanceof Error&&ot(q.name,q.message)}}if(m.stockStatus&&m.stockStatus!=="In Stock"&&m.stockStatus!=="Limited Stock"){const E=m.stockStatus.toLowerCase();ot("stockStatus",E),E.includes("pick")||E.includes("ship it")?m.stockStatus="In Stock":E.includes("limited stock")?m.stockStatus="Limited Stock":E.includes("out of stock")&&(m.stockStatus="Out of Stock")}}if(this.isMerchantName("homedepot")&&m.salePrice&&((r=this.config)==null?void 0:r.salePriceCents)){const E=ut(this.config.salePriceCents);E!=null&&E.innerText&&(m.salePrice=Number.parseFloat(`${m.salePrice}.${Number(E.innerText)||0}`))}if(m.salePrice&&!m.listPrice&&!this.isRequiredSend&&(m.listPrice=m.salePrice,m.salePrice=0),ot("prices_2",m.salePrice,m.listPrice),this.isRequiredSend&&m.salePrice&&m.listPrice&&m.listPrice===m.salePrice&&(m.salePrice=0),ot("prices_3",m.salePrice,m.listPrice),this.isMerchantName("amazon")){if(m.model){let E=(l=this.config)!=null&&l.model?ut(this.config.model):null;E&&(E=(E.value||E.innerText||"").split(","),m.model=E[E.length-1])}!m.salePrice&&!m.listPrice?m.stockStatus="Out of Stock":m.stockStatus="In Stock"}if(this.isMerchantName("bestbuy")){if(m.categories&&m.categories.length&&m.categories[0].toLowerCase()==="best buy"&&m.categories.shift(),!m.specs&&((f=this.config)==null?void 0:f.specs)&&(m.specs=(i=(_=ut(this.config.specs))==null?void 0:_.textContent)!=null?i:""),((c=this.config)==null?void 0:c.brandRx)&&this.config.brand){const E=bt(this.config.brand);m.brand="",E&&E.length&&E.forEach(q=>{var pt,_t,lt;const W=new RegExp((_t=(pt=this.config)==null?void 0:pt.brandRx)!=null?_t:"","gmi").exec((lt=q.textContent)!=null?lt:"");W&&W.length>1&&(m.brand=W[1])})}if((d=this.config)!=null&&d.upcRx){const E=bt(this.config.upc);m.upc=0,E&&E.length&&E.forEach(q=>{var pt,_t,lt;const W=new RegExp((_t=(pt=this.config)==null?void 0:pt.upcRx)!=null?_t:"","gmi").exec((lt=q.textContent)!=null?lt:"");W&&W.length>1&&(m.upc=Number.parseInt(`${tt(W[1])}`,10))})}if(m.shippingCost&&((v=this.config)==null?void 0:v.shippingRx)){const E=m.shippingCost.match(new RegExp((C=this.config.shippingRx)!=null?C:"","gmi"));E&&E.length&&(m.shippingCost=E[0])}}if(this.isMerchantName("ebay")){if(!m.reviewCount&&((g=this.config)==null?void 0:g.reviewCount)){const E=ut(this.config.reviewCount);E&&E.attributes.content&&(m.reviewCount=Number.parseInt((b=E.attributes.content.value)!=null?b:"",10))}if(!m.reviewRating&&(($=this.config)==null?void 0:$.reviewRating)){const E=ut(this.config.reviewRating);E&&E.attributes.content&&(m.reviewRating=E.attributes.content.value)}}if(this.isMerchantName("homedepot")&&(m.model&&(m.model=m.model.replace("Model #","")),m.categories&&m.categories.length&&m.categories.length>1&&(m.category=m.categories[1])),this.isMerchantName("walmart")){if(!m.upc&&((T=this.config)==null?void 0:T.upcContainer)&&this.config.upcRx){const E=ut(this.config.upcContainer);if(E&&E.innerText){const q=new RegExp(this.config.upcRx).exec(E.innerText);((N=q==null?void 0:q.length)!=null?N:0)>1&&(m.upc=Number.parseInt(`${tt((z=q==null?void 0:q[1])!=null?z:"")}`,10))}}if(!m.sku){const E=document.location.href.match(new RegExp(/\/(\d*)($|\?)/));ot("match",E),E!=null&&E[1]&&(m.sku=E[1])}}return m.category&&Array.isArray(m.category)&&m.categories&&m.categories.length&&(m.category=m.categories[0]),m.reviewCount&&(m.reviewCount=Number.parseInt((O=m.reviewCount.toString().replace(".","").replace(",",""))!=null?O:"",10)),m}catch(m){return t}}isMerchantName(t){return document.location.host.indexOf(t)>=0}async getAdditionalData(){var t,e,o,s,a,r,l,f,_;if(this.isMerchantName("homedepot")&&!this.productData.upc&&((t=this.config)==null?void 0:t.upcPath)){const i=await Qt(this.config.upcPath);if(i)try{const c=JSON.parse(JSON.parse(i));this.productData.upc=Number.parseInt(`${tt(c.value)}`,10)}catch(c){c instanceof Error&&this.errors.push({type:"additionalDataFailure",data:{name:"upcPath",errorMessage:c.message,selector:this.config.upcPath}})}}if(this.isMerchantName("macys")&&((e=this.config)==null?void 0:e.upcPath)){const i=await Qt(this.config.upcPath);if(i)try{const c=JSON.parse(JSON.parse(i)),d=(a=(s=(o=JSON.parse(c))==null?void 0:o.product)==null?void 0:s.relationships)==null?void 0:a.upcs;if(d&&Object.keys(d).length){const v={};Object.entries(d).forEach(([,C],g)=>{var $;const b=($=C==null?void 0:C.identifier)==null?void 0:$.upcNumber;b&&(v[`UPC${g+1}`]=Number.parseInt(b,10))}),Object.keys(v).length&&(Object.keys(v).length>1?this.productData.upcs=v:this.productData.upc=Number.parseInt(`${tt(`${Object.values(v)[0]}`)}`,10))}}catch(c){c instanceof Error&&this.errors.push({type:"additionalDataFailure",data:{name:"upcPath",errorMessage:c.message,selector:this.config.upcPath}})}}if(this.isMerchantName("kohls")&&!this.productData.upc&&((r=this.config)==null?void 0:r.upcPath)){const i=await Qt(this.config.upcPath);if(i)try{const c=JSON.parse(JSON.parse(i));if(c!=null&&c.length){const d={};c.forEach((v,C)=>{d[`UPC${C+1}`]=Number.parseInt(v,10)}),Object.keys(d).length&&(Object.keys(d).length>1?this.productData.upcs=d:this.productData.upc=Number.parseInt(`${tt(`${Object.values(d)[0]}`)}`,10))}}catch(c){c instanceof Error&&this.errors.push({type:"additionalDataFailure",data:{name:"upcPath",errorMessage:c.message,selector:this.config.upcPath}})}}if(this.isMerchantName("verizon")){const i=await Qt("APP_STATE.pdp");if(i)try{const c=JSON.parse(JSON.parse(i));this.productData.model=c==null?void 0:c.selectedSorId,this.productData.brand=(l=c==null?void 0:c.data)==null?void 0:l.brandName,this.productData.reviewRating=Number(Number((_=(f=c==null?void 0:c.productInfo)==null?void 0:f.ReviewStatistics)==null?void 0:_.AverageOverallRating).toFixed(2))}catch(c){["model","brand","reviewRating"].forEach(d=>{c instanceof Error&&this.errors.push({type:"additionalDataFailure",data:{name:d,errorMessage:c.message,selector:"APP_STATE.pdp"}})})}}}async sendData(t,e=!1){var s,a,r;e||this.isMerchantName("target")&&!t.stockStatus&&(t.stockStatus="Not in Stock");const o={domain:document.location.host,url:document.location.href,name:t.name||"",description:t.description||"",category:t.category||((s=t.categories)==null?void 0:s[0]),categories:t.categories,asin:t.asin||"",seller:this.formatString((a=t.seller)!=null?a:""),brand:t.brand||"",model:t.model||"",upc:t.upc||0,sku:t.sku||"",condition:t.condition,listPrice:t.listPrice||0,salePrice:t.salePrice||0,reviewRating:t.reviewRating||0,reviewCount:t.reviewCount||0,stockStatus:t.stockStatus,shippingCost:t.shippingCost||"",specs:t.specs||"",errors:this.errors};o.errors=(r=o.errors)==null?void 0:r.filter(l=>!o[l.data.name]||l.type!=="selectorQueryFailure"),t.upcs&&(o.upcs=t.upcs),t.tcin&&(o.tcin=t.tcin),ot("sendData",e,o,sessionStorage.productData),await this.setProductData({productData:o,requiredData:!!e})}async checkProductData(){if(sessionStorage.productData){const t=JSON.parse(sessionStorage.productData);delete sessionStorage.productData,await j("fetchUrl",{url:`${ce}/product`,options:{method:"post",json:t}})}}async setProductData({requiredData:t,productData:e}){!e||(t?sessionStorage.productData=JSON.stringify(e):(delete sessionStorage.productData,await j("fetchUrl",{url:`${ce}/product`,options:{method:"post",json:e}})))}};let oe=Mt;B(oe,"instance");const Ot=class{constructor(){B(this,"storeId",null);B(this,"config",null);B(this,"observer",null);B(this,"searchData","");B(this,"sendData",t=>{j("fetchUrl",{url:`${ce}/merchantSearch`,options:{method:"post",json:t}})});B(this,"setSearchValue",t=>{t&&t!==this.searchData&&(this.searchData=t.replace(/\r?\n|\r/g,"").replace(/ {2}/g,""),sessionStorage.searchData=t,this.sendData({query:this.searchData,domain:document.location.hostname}))});B(this,"clickListener",()=>{if(!this.config)return;const t=ut(this.config.searchField);t&&this.setSearchValue(t.value)});B(this,"keyListener",t=>{if(!(t.which!==13&&t.keyCode!==13)&&t.target instanceof HTMLInputElement){const{value:e}=t.target;this.setSearchValue(e)}});B(this,"suggestListener",t=>{let e=t.currentTarget instanceof HTMLElement&&t.currentTarget.innerText||t.target instanceof HTMLElement&&t.target.innerText||"";e&&document.location.host.indexOf("walmart")>=0&&(e=e.slice(1,e.length-2)),this.setSearchValue(e)})}static create(){var t;return(t=Ot.instance)!=null||(Ot.instance=new this),Ot.instance}async init(t){this.config=t,this.config&&(await Pe(),this.storeId=this.config.storeID,sessionStorage.storeId=this.storeId,this.observeFields())}observeFields(){this.checkFields(),!this.observer&&document.body instanceof Node&&(this.observer=new MutationObserver(()=>this.checkFields()),this.observer.observe(document.body,{attributes:!1,childList:!0,subtree:!0,characterData:!1}))}checkFields(){if(!this.config)return;const{autosuggestion:t,searchField:e,searchButton:o}=this.config,s=e?ut(e):null,a=o?ut(o):null,r=t?bt(t):null;!s||!a||(a.hasAttribute("slick-search-capture")||(a.setAttribute("slick-search-capture","true"),a.addEventListener("mousedown",()=>this.clickListener())),s.hasAttribute("slick-search-capture")||(s.setAttribute("slick-search-capture","true"),s.addEventListener("keydown",l=>this.keyListener(l))),r&&r.length&&r.forEach(l=>{l.hasAttribute("slick-search-capture")||(l.setAttribute("slick-search-capture","true"),l.addEventListener("mousedown",f=>this.suggestListener(f)))}))}};let se=Ot;B(se,"instance");function be(n){if(!n)return null;const t=n.split("//");if(!(t!=null&&t.length))return null;let e=document,o=null;return t.forEach(s=>{s==="sr"&&e instanceof Element?o=e.shadowRoot:s==="ifr"&&e instanceof HTMLIFrameElement?o=e.contentDocument:o=e.querySelector(s),o&&(e=o)}),o}function Sd(n){return new Promise(t=>{let e=null,o=null;e=setInterval(()=>{let s;try{s=document.querySelector(n)}catch(a){s=be(n)}s!=null&&s.innerText&&(clearTimeout(o!=null?o:0),clearInterval(e!=null?e:0),sessionStorage.debug&&Xt("Capture Total found"),t(!0))},250),o=setTimeout(()=>{clearInterval(e!=null?e:0),t(!1)},6e3)})}const{getAmount:Ht,getJSONValue:$d,logUSC:at}=Ys,Et=class{constructor(){B(this,"config",null);B(this,"merchant",null);B(this,"observer",null);B(this,"state",{couponCode:null,total:null,timestamp:0,clicked:!1});B(this,"checking",!1);B(this,"promo",[]);B(this,"listenersTimeout",{})}static create(){var t;return(t=Et.instance)!=null||(Et.instance=new Et),Et.instance}async init({config:t,merchant:e}){this.config=t,this.merchant=e,!(!this.config||!this.merchant)&&await this.setup()}async setup(){await Pe(),await this.checkCachedInfo(),this.startObserver(),this.checkFields()}async checkCachedInfo(){var r,l;if(at("checkCachedInfo",this.config),!this.config||sessionStorage.caaStarts){this.clearState();return}const t=this.getState();if(at("cacheState",t),!t||!(t!=null&&t.applied)){this.clearState();return}if(await Sd(typeof this.config.controls.total=="string"?this.config.controls.total:this.config.controls.total.selector),await Bt(3),!this.config)return;const e=tt(Ht(this.config.controls.total)),{couponCode:o,total:s}=t;if(this.clearState(),!o||Number.isNaN(Number(s))||!e)return;let a=s-(e||0);a<0&&(a=0),this.sendAnalytics({couponCode:o,storeSlug:(l=(r=this.merchant)==null?void 0:r.slug)!=null?l:"",discountProvided:a},"checkCachedInfoDelay")}startObserver(){!this.observer&&document.body instanceof Node&&(this.observer=new MutationObserver(()=>this.checkFields()),this.observer.observe(document.body,{attributes:!1,childList:!0,subtree:!0,characterData:!1}))}saveState(){at("saveState",this.state),sessionStorage.SDCouponCaptureState=JSON.stringify(this.state)}getState(){const t=sessionStorage.SDCouponCaptureState;return t?JSON.parse(t):null}clearState(){at("clearState"),sessionStorage.removeItem("SDCouponCaptureState")}sendAnalytics(t,e){if(at("sendAnalytics",t,e),sessionStorage.sending){this.clearState();return}(t==null?void 0:t.couponCode)&&(t==null?void 0:t.discountProvided)&&(sessionStorage.userCoupon=t.couponCode),t!=null&&t.couponCode?(sessionStorage.sending=!0,j("fetchUrl",{url:`${$s}userSuppliedCoupon`,options:{method:"post",json:{...t,runtimeId:xs.runtime.id}}})):at("error","No coupon code"),this.clearState(),this.checking=!1}async eventHandler(t,e=null){var r,l,f;if(at("eventHandler",e,this.promo),!this.config||sessionStorage.caaStarts)return this.clearState(),!1;if(!this.promo||!this.promo.length||!(t.target instanceof Element))return!1;const o=Number((r=t.target)==null?void 0:r.getAttribute("slick-capture"))||0,s=e||((l=this.promo[o])==null?void 0:l.value);if(!s)return!1;this.state.couponCode=s==null?void 0:s.trim(),this.state.clicked=!0,this.state.applied=!0,delete sessionStorage.sending,this.saveState();const a=async(_,i)=>{var C,g,b,$;if(await Bt((_||this.state.timeout||5e3)/1e3),!this.config||sessionStorage.caaStarts)return this.clearState(),!1;const c=Ht(this.config.controls.discount),d=i||tt(Ht(this.config.controls.total));let v=(g=c&&typeof c!="object"&&tt(c)!==this.state.discount?tt(c):((C=this.state.total)!=null?C:0)-(d||0))!=null?g:0;return v<0&&(v=0),this.state.total=d,this.state.discount=v,this.saveState(),this.state.couponCode&&this.sendAnalytics({couponCode:this.state.couponCode,storeSlug:($=(b=this.merchant)==null?void 0:b.slug)!=null?$:"",discountProvided:v?Number(v.toFixed(2)):0},"eventHandlerDelay"),this.state.clicked=!1,this.checking=!1,this.state.couponCode=null,!0};return((f=this.config)==null?void 0:f.storeID)===As.Kohls?(await Bt(6),fetch("https://www.kohls.com/checkout/get_shopping_cart_json.jsp",{method:"GET"}).then(_=>_.json()).then(_=>{const i=$d(_,"orderSummary//total");a(2500,i)})):a(),!0}clickListener(t){this.eventHandler(t)}keyListener(t){var e;if(t.which===13||t.keyCode===13){const o=(e=t.target)==null?void 0:e.value;this.eventHandler(t,o)}}checkFields(){var f,_,i;if(at("checkFields",this.state,this.checking,this.config),!((f=this.config)!=null&&f.controls)||this.checking||this.state.clicked)return!1;let t=[];try{t=(_=bt(this.config.controls.promo))!=null?_:[]}catch(c){const d=be(this.config.controls.promo);d&&(t=[d])}t!=null||(t=[]),this.promo=t;const e=Ht(this.config.controls.total);if(at("selectors",this.promo,e),!e||!this.promo||this.promo.length===0)return!1;const o=(i=this.promo[0].value)==null?void 0:i.trim();o&&(this.state.couponCode=o);const s=Ht(this.config.controls.discount),{timeout:a,type:r}=Array.isArray(this.config.apply)?this.config.apply[0]:this.config.apply;r.toLowerCase()!=="click"?this.state.timeout=5e3:this.state.timeout=a;const l=this.getAllSubmits([].concat(this.config.apply));return!l||l.length===0?!1:(this.state.total=tt(e)||0,s&&(this.state.discount=tt(s)||0),this.saveState(),l.forEach(c=>{this.setAttributeToElements(c,"mousedown",this.clickListener)}),this.setAttributeToElements(t,"keydown",this.keyListener),!0)}setAttributeToElements(t=[],e="click",o){this.listenersTimeout[e]&&clearTimeout(this.listenersTimeout[e]),t.forEach((s,a)=>{if(!s.getAttribute("slick-capture")){at("setListeners first time",e,a);const r=o.bind(this);s.removeEventListener(e,r),s.setAttribute("slick-capture",`${a}`),s.addEventListener(e,r)}}),this.listenersTimeout[e]=setTimeout(()=>{at("listenersTimeout finish",e),t.forEach((s,a)=>{at("setListeners again",e,a);const r=o.bind(this);s.removeEventListener(e,r),s.setAttribute("slick-capture",`${a}`),s.addEventListener(e,r)})},2500)}getAllSubmits(t=[]){const e=[];return t.forEach(o=>{try{const s=bt(o.submit);s!=null&&s.length&&e.push(s)}catch(s){const a=be(o.submit);a?e.push([a]):at("error","Wrong selector",o.submit)}}),e}};let ne=Et;B(ne,"instance");const Nt=class{constructor(t,e,o,s){this.merchantSearchCapturer=t,this.merchantConfirmationCapturer=e,this.merchantProductCapturer=o,this.userSuppliedCouponCapturer=s}static create(){var t;return(t=Nt.instance)!=null||(Nt.instance=new this(se.create(),ee.create(),oe.create(),ne.create())),Nt.instance}captureSiteData(t){const{merchant:e}=nt();wd(document),t[$t.Search]&&this.merchantSearchCapturer.init(t[$t.Search]),t[$t.Confirmation]&&this.merchantConfirmationCapturer.init(t[$t.Confirmation]),t[$t.Product]&&this.merchantProductCapturer.init(t[$t.Product]),t[$t.UserSuppliedCoupon]&&this.userSuppliedCouponCapturer.init({config:t[$t.UserSuppliedCoupon],merchant:e})}};let ae=Nt;B(ae,"instance");function xd({router:n}){const t=U(null);pe(t,{onTrackDragEvent:()=>{G({event:{category:"Extension Window",action:"Moved",label:"Drag"}})}});function e(){n.push({name:"closed",query:{routeInitiator:"Header Close Button"}})}return{closeWindow:e,windowRef:t}}const Ad=I({setup(n){const{windowRef:t,closeWindow:e}=xd({router:vt()});return(o,s)=>(h(),A(Js,{ref_key:"windowRef",ref:t,injected:"",onClose:u(e)},null,8,["onClose"]))}}),Ed=`<svg viewBox="0 0 42 42" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M27.9172 17.4779C26.6194 18.2016 25.8672 19.9806 25.228 21.9727C24.5732 24.0188 24.0471 25.9609 24.2627 28.2688C24.3822 29.553 24.8162 30.3649 25.7113 30.6886C27.2014 31.2267 28.5356 29.4675 29.0202 28.2688C29.4152 27.2925 30.6844 21.0122 30.7442 20.3135C30.9157 18.3095 30.2934 17.1056 28.9514 17.2003C28.5291 17.2306 28.1771 17.3332 27.9172 17.4779ZM34.6741 2.81464C36.8047 2.82122 38.7483 3.01464 40.8789 3.02253C38.5391 13.9779 35.9928 24.7267 33.8466 35.8755C32.0667 35.7926 30.3142 35.6847 28.4694 35.6689C28.5915 34.8215 28.5941 33.857 28.7461 33.0399C28.4902 33.1018 28.3343 33.3136 28.1927 33.457C27.0624 34.582 25.5541 35.9557 23.022 35.807C16.5211 35.4255 17.5149 25.9898 19.2298 20.8674C20.6667 16.5727 23.6183 12.1924 27.7107 11.8042C29.9946 11.591 31.551 12.5345 32.055 14.295C32.9891 10.5292 33.6829 6.52388 34.6741 2.81464Z" fill="#FEFEFE"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M17.5746 9.86971C17.4772 10.5316 17.3031 11.1171 17.1628 11.7368C18.5516 12.2105 19.8689 12.7553 20.8848 13.604C20.0391 15.0632 19.0426 16.3671 18.1956 17.8224C17.3265 17.0974 15.9624 16.0856 14.3332 16.2316C13.19 16.3369 12.0389 17.2461 12.1987 18.6527C12.3273 19.8053 14.1487 21.1514 14.8165 21.9725C15.6532 23.0014 16.5288 24.233 16.5405 26.1251C16.5548 28.2317 15.5128 30.1738 14.4722 31.3804C13.1146 32.9568 11.3595 33.8726 8.81962 34.2147C8.48054 35.4186 8.21292 36.7002 7.9232 37.9502C6.54091 37.5384 5.11964 37.1673 3.71655 36.7752C3.85296 35.7594 4.15047 34.9055 4.33755 33.9384C3.02151 33.3239 1.48201 32.9305 0.615479 31.8647C1.3534 30.3238 2.4226 29.112 3.23327 27.6449C4.44018 28.4975 6.15376 30.0212 8.40649 29.6515C9.55624 29.462 10.7826 27.9857 10.198 26.5383C9.70434 25.3225 8.47145 24.5975 7.57893 23.4948C6.76956 22.4975 6.00306 21.0817 5.99137 19.4843C5.97708 17.5053 7.05407 15.6369 8.12847 14.4342C9.32239 13.1 10.5969 12.3763 12.6118 11.8053C12.7807 10.7539 13.1081 9.8605 13.3004 8.83154C14.7567 9.14602 16.1208 9.5526 17.5746 9.86971Z" fill="#FEFEFE"/>
</svg>
`,Id=`<svg viewBox="0 0 55 45" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M1 1.32831H10.3233L11.5664 6.92227M48.4079 36.2643H18.5734L16.5388 29.2981M11.5664 6.92227L14.0526 18.1102M11.5664 6.92227H23.3758M16.5388 29.2981L14.0526 18.1102M16.5388 29.2981H26.9498M14.0526 18.1102H50.4133M50.4133 18.1102L53.2103 6.92227H39.2254M50.4133 18.1102L47.6163 29.2981H37.3607M39.2254 6.92227L37.3607 29.2981M39.2254 6.92227H23.3758M37.3607 29.2981H26.9498M26.9498 29.2981L23.3758 6.92227" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
<circle cx="21.5104" cy="41.2579" r="1.79698" fill="white" stroke="white" stroke-width="2"/>
<circle cx="42.0222" cy="41.2579" r="1.79698" fill="white" stroke="white" stroke-width="2"/>
</svg>
`,We=`<svg width="10" height="12" viewBox="0 0 10 12" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M6.81639 11.0748V6.58771H8.90795C9.87892 6.58771 10.3652 5.4138 9.67861 4.7272L5.77064 0.819224C5.34501 0.393592 4.65499 0.393592 4.22936 0.819224L0.321389 4.7272C-0.365171 5.41376 0.121084 6.58771 1.09205 6.58771H3.18356V11.0748H3.19004V11.0854C3.19004 11.5669 3.58039 11.9573 4.06191 11.9573H5.93964C6.42116 11.9573 6.81151 11.5669 6.81151 11.0854V11.0748H6.81639Z" fill="#7FBAE0"/>
</svg>
`,Ce=n=>n instanceof HTMLElement;function Pd({slickdealsButton:n,isDraggable:t=!1}){const e=U(null),o=U(!0),{inlineNotification:s}=F(wt());async function a(){const l=await j("getButtonCoordinates",{});e.value=Number.isNaN(Number(l))?75:l,t?s.value&&Number(e.value)<201&&(e.value=201):e.value=s.value?201:75,Ce(n.value)&&e.value&&e.value>document.documentElement.clientHeight-n.value.clientHeight&&(e.value=document.documentElement.clientHeight-n.value.clientHeight),o.value=!1}function r(){o.value||a()}return a(),V(()=>{t&&window.addEventListener("resize",r)}),Ve(()=>{window.removeEventListener("resize",r)}),{coordinateY:e,isLoading:o}}function ko(){const{couponTabCouponsCount:n,dealsCount:t}=F(nt()),e=w(()=>t.value>0),o=w(()=>n.value>0),s=w(()=>{let r="";return e.value&&(r="Deals Found!"),o.value&&(r="Coupons Found!"),e.value&&o.value&&(r="Savings Found!"),r}),a=w(()=>({name:s.value==="Coupons Found!"?"coupons":"deals",query:{routeInitiator:"Floating Icon"}}));return{slickdealsButtonLabel:s,target:a}}const Td={class:"base-slickdeals-button__close-icon"},Dd={class:"base-slickdeals-button__wrapper"},Ld={class:"base-slickdeals-button__logo"},Rd={key:0,class:"base-slickdeals-button__text"},Md={key:0,class:"base-slickdeals-button__arrows-wrapper"},Od={class:"base-slickdeals-button__arrow-up"},Nd={class:"base-slickdeals-button__arrow-down"},Bd=I({props:{draggable:{type:Boolean},showSavingsText:{type:Boolean}},emits:["activate","close"],setup(n,{emit:t}){const e=n,o=w(()=>{var O;return(O=e.draggable)!=null?O:!1}),s=w(()=>{var O;return(O=e.showSavingsText)!=null?O:!1}),a=U(null),r=U(!1),l=U(null),f=U(null),_=U(null),i=U(null),{coordinateY:c}=Pd({slickdealsButton:a,isDraggable:o.value}),{slickdealsButtonLabel:d}=ko(),v=w(()=>({"base-slickdeals-button--draggable":o.value,"base-slickdeals-button--show-savings-text":s.value})),C=w(()=>({top:`${c.value}px`}));async function g(O){c.value=O,await j("setButtonCoordinates",O)}const b=async()=>{(l.value||f.value||_.value)&&Ce(a.value)&&(a.value.removeEventListener("mousedown",i.value,!0),a.value.removeEventListener("mouseup",_.value,!0),a.value.removeEventListener("mousemove",f.value,!0),l.value=null,f.value=null,_.value=null),l.value=O=>{let m=0,rt=0,K=0;const E=O.clientHeight,q=document.documentElement.clientHeight;f.value=W=>{W=W||window.event,W.preventDefault(),r.value=!0,rt=m-W.clientY,m=W.clientY,K=O.offsetTop-rt,K<0?K=0:K+E>q&&(K=q-E),O.style.top=`${K}px`},_.value=()=>{var W,pt,_t;if(document.removeEventListener("mouseup",_.value),document.removeEventListener("mousemove",f.value),Ce(a.value)){const lt=(_t=(pt=(W=a.value)==null?void 0:W.style)==null?void 0:pt.top)==null?void 0:_t.match(/\d+/);if(!Number.isNaN(lt)&&lt){const Dt=parseInt(lt[0],10);!Number.isNaN(Dt)&&Dt!==K?g(Dt):g(K),setTimeout(()=>{r.value=!1},100)}}},i.value=W=>{W=W||window.event,W.preventDefault(),m=W.clientY,document.addEventListener("mouseup",_.value),document.addEventListener("mousemove",f.value)},O.addEventListener("mousedown",i.value)},a.value&&l.value(a.value)};async function $(){b()}function T(){window.addEventListener("resize",$)}function N(){r.value||t("activate")}V(()=>{o.value&&(b(),T())}),Es(()=>{window.removeEventListener("resize",$)});const z=w(()=>({}).VITE_SD_COMPONENTS_THEME==="opera"?Id:Ed);return(O,m)=>{const rt=Tt("dompurify-html");return h(),A(Se,{appear:"",name:"slide-fade-x-full"},{default:y(()=>[p("div",{ref_key:"slickdealsButton",ref:a,class:dt(["base-slickdeals-button",u(v)]),style:gt(u(C))},[p("button",{type:"button",class:"base-slickdeals-button__close-button",onClick:m[0]||(m[0]=K=>t("close"))},[st(p("span",Td,null,512),[[rt,u(on)]])]),p("div",Dd,[p("button",{class:"base-slickdeals-button__hero",onClick:N},[st(p("span",Ld,null,512),[[rt,u(z)]]),u(s)?(h(),S("div",Rd,P(u(d)),1)):R("",!0)]),H(O.$slots,"content",{},void 0,!0)]),u(o)?(h(),S("div",Md,[st(p("span",Od,null,512),[[rt,u(We)]]),st(p("span",Nd,null,512),[[rt,u(We)]])])):R("",!0)],6)]),_:3})}}});const So=D(Bd,[["__scopeId","data-v-b148c3e1"]]);const Fd=`<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64">
<path d="M58 4h-52c-3.3 0-6 2.7-6 6v32c0 3.3 2.7 6 6 6h10v16l19.2-16h22.8c3.3 0 6-2.7 6-6v-32c0-3.3-2.7-6-6-6zM28 36h-16v-4h16v4zM44 28h-32v-4h32v4zM52 20h-40v-4h40v4z"></path>
</svg>
`,Ud=`<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 28">
<path d="M0 23v-10q0-0.406 0.297-0.703t0.703-0.297h4.5q0.406 0 0.703 0.297t0.297 0.703v10q0 0.406-0.297 0.703t-0.703 0.297h-4.5q-0.406 0-0.703-0.297t-0.297-0.703zM2 21q0 0.422 0.289 0.711t0.711 0.289q0.406 0 0.703-0.289t0.297-0.711q0-0.406-0.297-0.703t-0.703-0.297q-0.422 0-0.711 0.297t-0.289 0.703zM7.5 23v-10.016q0-0.391 0.281-0.68t0.672-0.32q0.375-0.031 1.188-0.922t1.578-1.891q1.062-1.359 1.578-1.875 0.281-0.281 0.484-0.75t0.273-0.758 0.211-0.945q0.109-0.609 0.195-0.953t0.305-0.812 0.531-0.781q0.297-0.297 0.703-0.297 0.719 0 1.289 0.164t0.938 0.406 0.625 0.633 0.375 0.703 0.187 0.781 0.078 0.703 0.008 0.609q0 0.594-0.148 1.188t-0.297 0.938-0.43 0.875q-0.047 0.094-0.156 0.281t-0.172 0.344-0.125 0.375h4.328q1.219 0 2.109 0.891t0.891 2.109q0 1.344-0.859 2.328 0.234 0.688 0.234 1.188 0.047 1.188-0.672 2.141 0.266 0.875 0 1.828-0.234 0.891-0.844 1.469 0.141 1.75-0.766 2.828-1 1.188-3.078 1.219h-2.016q-1.031 0-2.25-0.242t-1.898-0.453-1.883-0.617q-1.922-0.672-2.469-0.688-0.406-0.016-0.703-0.305t-0.297-0.695z"></path>
</svg>
`,zd={class:"slickdeals-button-deal-details__content"},Hd={class:"slickdeals-button-deal-details__deal-info"},jd=["innerHTML"],qd={class:"slickdeals-button-deal-details__thumbs-button"},Wd=["innerHTML"],Gd=I({props:{threadId:null},setup(n){const t=n,e=vt(),o=Ks(),s=xt();function a(_,i,c,d=!1){G({event:{category:c,action:_,label:i},options:{trackInternally:d}})}V(async()=>{const{threadId:_}=t;if(!_){s.removeButton();return}if(await o.fetchDealDetails(_),!o.dealDetails){s.removeButton();return}Te({page:Ze}),a("Shown","Mini DDSB icon","Popup")});function r(){a("Shown","Floating Icon","Popup",!0),o.resetThreadUrl(),s.hideButtonUntilWindowClose(),e.push({name:"ddsb"})}function l(){a("Shown","Mini DDSB Comments","Popup",!0),o.setThreadUrlToComments(),s.hideButtonUntilWindowClose(),e.push({name:"ddsb"})}function f(){a("Closed","","Floating Icon",!0),s.removeButton()}return(_,i)=>u(o).dealDetails?(h(),A(So,{key:0,draggable:"",class:"slickdeals-button-deal-details",onActivate:r,onClose:f},{content:y(()=>[p("div",zd,[R("",!0),p("div",Hd,[p("button",{type:"button",class:"slickdeals-button-deal-details__comments-button",onClick:l},[p("span",{class:"slickdeals-button-deal-details__comments-icon",innerHTML:u(Fd)},null,8,jd),k(" "+P(u(o).dealDetails.commentCount),1)]),p("div",qd,[p("span",{class:"slickdeals-button-deal-details__thumbs-icon",innerHTML:u(Ud)},null,8,Wd),k(" "+P(u(o).dealDetails.rating),1)])])])]),_:1})):R("",!0)}});const Vd=D(Gd,[["__scopeId","data-v-21329290"]]),Yd=I({emits:["activate","close"],setup(n){return(t,e)=>(h(),A(So,{class:"slickdeals-button-default",draggable:"","show-savings-text":"",onActivate:e[0]||(e[0]=o=>t.$emit("activate")),onClose:e[1]||(e[1]=o=>t.$emit("close"))}))}}),Jd=I({setup(n){const t=xt(),e=vt(),{target:o}=ko();function s(l,f=!1){G({event:{category:"Website",action:`Savings Button ${l}`},options:{trackInternally:f}})}function a(){s("selected"),t.hideButtonUntilWindowClose(),e.push(o.value)}function r(){s("dismissed",!0),t.removeButton(),j("setSlickdealsButtonDismissed",null)}return V(()=>{Te({page:Ze}),s("shown")}),(l,f)=>(h(),A(Yd,{class:"slickdeals-button-default",onActivate:a,onClose:r}))}}),Kd=I({setup(n){const{slickdealsButton:t}=F(xt()),e=w(()=>{if(t.value===null)return null;const o={[It.Default]:Jd,[It.DealDetails]:Vd}[t.value.type];if(!o)throw new Error(`Missing button component definition for button ${t.value}`);return o});return(o,s)=>{var a;return h(),A(Ct(u(e)),Ye(Je((a=u(t))==null?void 0:a.props)),null,16)}}}),Zd=I({setup(n){const t=vt(),{slickdealsButton:e}=F(xt()),o=zt(),s=wt(),{inlineNotification:a}=F(s),r=et(),l=Wt(),f=Zs(),_=Qs(),i=U(!1),c=w(()=>f.matched.length>0&&!["initial","closed"].includes(String(f.name))),d={[It.Default]:"deals",[It.DealDetails]:"ddsb"};function v(){Zt("toggleExtensionWindow",()=>{var g;f.name==="closed"?t.back():t.push({name:c.value?"closed":d[((g=e.value)==null?void 0:g.type)||0],query:{routeInitiator:"Browser Icon"}})}),Zt("authChanged",g=>{o.updateAuthInfo(g.data)}),Zt("updateAttributionContentData",({data:g})=>{var b;Ie().status=g.status,((b=g.status)==null?void 0:b[Is.HasLostAttribution])&&o.authInfo.isInLoyalty&&r.bestOffer&&s.showLoyaltyReactivateOfferNotification()})}async function C(g){const{isInitializable:b,inlineNotification:$}=await j("isGlobalContentScriptInitializable",{url:g.href});if(!b)return;if($){wt().setNotification($),i.value=!0;return}v();const{windowRoute:T,capturerConfigs:N}=await vd(g);i.value=!0,T?t.push(T):t.replace({name:"initial"}),ae.create().captureSiteData(N),l.shouldInjectCouponsRcm&&ia({css:["assets/index.23232513.css","assets/ExtensionWindow.b5c50ed6.css"],plugins:[t,Xs()]})}return Zt("reinitializeGlobalContentScript",async()=>C(_.value)),ct(_,C,{immediate:!0}),(g,b)=>i.value?(h(),A(so,{key:0},{default:y(()=>[u(a)!==null?(h(),A(hd,{key:0})):u(e)!==null?(h(),A(Kd,{key:1})):u(c)?(h(),A(Ad,{key:2})):R("",!0),x(Fr)]),_:1})):R("",!0)}});De(["assets/index.23232513.css","assets/ExtensionWindow.b5c50ed6.css"],n=>{const t=we(Zd);return t.use(Ps),t.use(tn()),t.use(en()),Ts.initVueIntegration(t),sn(t),t.mount(n)});hn.includes(window.location.hostname)&&te.create();

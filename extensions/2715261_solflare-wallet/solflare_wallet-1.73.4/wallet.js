(()=>{var e,t,s,n,a,o={"./src/_env/wallet.ts":()=>{globalThis.SOLFLARE_EXTENSION=!0,globalThis.SOLFLARE_EXPANDED=!0},"./src/wallet.tsx":(e,t,s)=>{"use strict";var n=s("../../../node_modules/react/jsx-runtime.js"),a=(s("./src/_env/wallet.ts"),s("../../../node_modules/react/index.js")),o=s("../../../node_modules/react-dom/client.js"),i=s("../../../node_modules/react-redux/dist/react-redux.mjs"),r=s("../../../node_modules/react-router-dom/dist/index.js"),l=s("../../../node_modules/@mui/material/CssBaseline/CssBaseline.js"),d=s("../../../node_modules/@mui/material/CircularProgress/CircularProgress.js"),c=s("../../libs/foundation-ui/dist/index.js"),u=(s("../../libs/foundation-ui/dist/index.css"),s("../../libs/shared/dist/beforeLoad.js")),m=s("../../libs/shared/dist/components/index.js"),p=s("../../libs/shared/dist/context/index.js"),h=s("../../libs/shared/dist/context/navigation/index.js"),x=s("../../libs/shared/dist/context/reactQuery/index.js");const g=(0,a.createContext)(null),j=({children:e})=>{const t=(0,a.useCallback)((()=>{(0,a.useEffect)((()=>{window.scrollTo(0,0)}),[])}),[]),s=(0,a.useMemo)((()=>({useScrollToTop:t})),[t]);return(0,n.jsx)(g.Provider,{value:s,children:e})};var b=s("../../libs/shared/dist/context/solana/index.js"),f=s("../../libs/shared/dist/features/addressBook/context/index.js"),_=s("../../libs/shared/dist/features/confirmDialog/context/index.js"),y=s("../../libs/shared/dist/features/featureFlags/context/index.js"),v=s("../../libs/shared/dist/features/globalConfig/context/index.js"),k=(s("../../libs/shared/dist/features/localization/configureLocalization.js"),s("../../libs/shared/dist/features/notifications/context/index.js")),w=s("../../libs/shared/dist/features/promo/context/index.js"),C=s("../../libs/shared/dist/features/recentAddresses/context/index.js"),S=s("../../libs/shared/dist/features/shared/snackbar/index.js"),T=s("../../libs/shared/dist/features/stakingCore/index.js"),A=s("../../../node_modules/react-i18next/dist/es/useTranslation.js"),I=s("../../libs/rise-ui/dist/index.js"),Z=s("../../libs/shared/dist/assets/solana.png"),M=s("../../libs/shared/dist/utils/displayPrice.js"),P=s("../../libs/shared/dist/utils/truncateMiddle.js"),D=s("../../libs/shared/dist/features/stakingCore/constants.js"),B=s("../../../node_modules/react-router/dist/index.js"),E=s("../../../node_modules/bignumber.js/bignumber.mjs"),O=s("../../../node_modules/@fortawesome/pro-light-svg-icons/index.mjs"),L=s("../../libs/shared/dist/constants/mints.js"),N=s("../../libs/shared/dist/features/currencies/hooks/index.js"),R=s("../../libs/shared/dist/components/TokenAvatar/index.js");const F=({amount:e,validatorName:t,validatorImage:s})=>{const{value:a,suffix:o,prefix:i,price:r}=(0,N.yF)("SOL",e),{t:l}=(0,A.$)(),d=(0,n.jsx)(c.TXListItem,{title:(0,M.ED)({amount:e,displayType:"solana",suffix:" SOL"}),subtitle:r?(0,M.ED)({amount:a,displayType:"value",suffix:o,prefix:i}):void 0,avatar:(0,n.jsx)(R.y,{src:L.vx.logoURI,verified:!0})}),u=t?(0,n.jsx)(c.TXListItem,{title:t,subtitle:l("staking_slrs_create_new_title"),avatar:(0,n.jsx)(c.ValidatorAvatar,{src:s})}):null;return(0,n.jsx)(c.ConfirmTransaction,{avatar:(0,n.jsx)(c.IconAvatar,{size:"xl",icon:O.Mw$}),transactionFromItem:u||d,transactionToItem:u?d:void 0,hideFlowIcon:!0})};var U=s("../../libs/shared/dist/constants/routes.js"),$=s("../../libs/shared/dist/utils/lamportToSol.js"),W=s("../../libs/shared/dist/features/stakingModal/utils/splitStakeErrors.js");const K=({splitStakeAccount:e,close:t})=>{const{t:s}=(0,A.$)(),{maxAmountBN:o,setSelectedAmount:i,selectedAmount:r,error:l,splitStake:d}=((e,t)=>{const s=(0,B.s0)(),[o,i]=(0,a.useState)(),{mutateAsync:r,isLoading:l}=(0,T.QC)(),{t:d}=(0,A.$)(),{data:c,isLoading:u}=(0,T.te)(),m=(0,$.s)(e.actions.find((e=>"split"===e.name))?.metadata?.amountMax||0),p=(0,$.s)(e.actions.find((e=>"split"===e.name))?.metadata?.amountMin||0),h=o?new E.Z(o):void 0,x=(0,W.M)(h,p,m,d);return{splitStake:()=>r({amountSOL:o,confirmData:(0,n.jsx)(F,{validatorName:e.validator?.name??(0,P.r)(e.validator?.votePublicKey),validatorImage:e.validator?.image,amount:h?.toString()??"0"}),splitStakeAccount:e,onBroadcast:()=>{t(),s(U.xm)}}),splitStakeLoading:l,selectedAmount:o,setSelectedAmount:i,minAmountBN:p,maxAmountBN:m,validatorsLoading:u,validators:c,error:x}})(e,t);return(0,n.jsx)(I.u_,{open:Boolean(e),onClose:t,title:s("action_split"),children:(0,n.jsxs)(I.kC,{column:!0,gap:"24px",children:[(0,n.jsx)(c.SendInput,{label:(0,n.jsx)(c.Label,{htmlFor:"token-input",children:s("table_token")}),right:o.isGreaterThanOrEqualTo(D.T)&&(0,n.jsxs)(c.RightLabel,{onClick:()=>i(o.toString()),children:[s("swap_max"),": ",o.toString()," SOL"]}),id:"token-input",selectedToken:{tokenId:"-",symbol:"SOL",amount:"-",logoURI:Z,verified:!0},amount:r||"",onAmountChange:e=>i(e.target.value),tokens:[],onSelectedTokenChange:()=>{},disabledTokenSelect:!0,amountTextInputType:"number"}),(0,n.jsx)(c.FormField,{label:(0,n.jsxs)(c.Label,{children:[s("table_validator"),(0,n.jsx)(m.sW,{tooltip:s("staking_validator_description")})]}),children:(0,n.jsx)(c.ValidatorListItem,{background:"dropDown",image:e.validator?.image??void 0,title:e.validator?.name??(0,P.r)(e.validator?.votePublicKey),apr:(0,M.ED)({amount:e.validator?.apy??0,suffix:"% APY",displayType:"medium"})})}),l&&(0,n.jsx)(c.Alert,{title:l.title,variant:"error",message:l.message}),(0,n.jsx)(c.Button,{disabled:Boolean(l)||!r,onClick:()=>{d()},children:s("action_split")})]})})};var z=s("../../../node_modules/@mui/material/Typography/Typography.js"),H=s("../../libs/shared/dist/features/stakingCore/components/StakingProvider.js"),V=s("../../libs/wallet-core/dist/shared.js"),G=s("../../libs/shared/dist/hooks/useMetamask/index.js"),q=s("../../libs/shared/dist/features/portfolio/hooks/index.js"),Y=s("../../libs/shared/dist/features/walletData/hooks/index.js");const Q=()=>{const{t:e}=(0,A.$)(),{setStakingEvents:t}=(0,T.Ub)(),{openStakeModal:s,shouldShowBanner:o}=(()=>{const[e,t]=(0,T.Bf)(),{data:s}=(0,q.Dm)(),{isMetamask:n}=(0,G.U)(),{walletType:o}=(0,Y.rT)(),i=o===V.CO;return{shouldShowBanner:(0,a.useMemo)((()=>{const e=+(s?.accounts[0]?.amount??0);return e&&!i&&101e7<e&&!n}),[i,n,s?.accounts]),openStakeModal:t}})();return o?(0,n.jsx)(I.Zb,{padding:"small",children:(0,n.jsxs)(I.kC,{justifyContent:"space-between",px:1,children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(z.Z,{variant:"h2",pb:.5,children:e("portfolio_staking_title",{token:"SOL"})}),(0,n.jsx)(z.Z,{variant:"body1",color:"textSecondary",children:e("portfolio_staking_description")})]}),(0,n.jsx)(I.kC,{gap:"8px",alignItems:"center",children:(0,n.jsx)(c.Button,{onClick:()=>{t({...H.TQ,source:"singleTokenBanner"}),s()},children:e("action_stake")})})]})}):null};var J=s("../../libs/shared/dist/features/stakingModal/components/StakeForm.js"),X=s("../../libs/shared/dist/features/stakingModal/hooks/useCreateStakeForm.js");const ee=()=>{const{t:e}=(0,A.$)(),{data:t}=(0,q.Dm)(),{setStakingEvents:s,stakingEvents:a}=(0,T.Ub)(),{maxSOLBalance:o,setSelectedAmount:i,selectedAmount:r,setSelectedValidator:l,selectedValidator:d,error:u,createStake:m,isStakeModalOpen:p,closeStakeModal:h,setValidatorFilter:x,validatorOptions:g,validatorsLoading:j,validatorsFetching:b,handleAmountChange:f,computedInputValue:_}=(0,X.g)(),y={...a,amountInSol:r??0,amountInUsd:+(r??0)*(t?.price?.usdPrice??0),validatorName:d?.name??a.validatorName,validatorVotePubKey:d?.votePublicKey??a.validatorVotePubKey,validatorNodePubKey:d?.nodePublicKey??a.validatorNodePubKey};return(0,n.jsx)(I.u_,{open:p,onClose:()=>{s(T.TQ),h()},title:e("action_stake"),children:(0,n.jsxs)(I.kC,{column:!0,gap:"24px",children:[(0,n.jsx)(J.m,{maxSOLBalance:o,onAmountChange:i,selectedAmount:r,validatorOptions:g,onValidatorQueryChange:x,validatorsLoading:j,validatorsFetching:b,onValidatorChange:l,selectedValidator:d,handleAmountChange:f,computedInputValue:_}),u&&(0,n.jsx)(c.Alert,{variant:"error",title:u.title,message:u.message}),(0,n.jsx)(c.Button,{disabled:void 0===r||0==+r||Boolean(u)||!d,onClick:()=>{s(y),m()},children:e("action_stake")})]})})};var te=s("../../libs/shared/dist/features/currencies/components/index.js"),se=s("../../libs/shared/dist/features/pfp/components/index.js");const ne=({amount:e,walletName:t,walletPubkey:s})=>{const{value:a,suffix:o,prefix:i,price:r}=(0,N.yF)("SOL",e);return(0,n.jsx)(c.ConfirmTransaction,{avatar:(0,n.jsx)(c.IconAvatar,{size:"xl",icon:O.owJ}),transactionFromItem:(0,n.jsx)(c.TXListItem,{title:(0,M.ED)({amount:e,displayType:"solana",suffix:" SOL"}),subtitle:r?(0,M.ED)({amount:a,displayType:"value",suffix:o,prefix:i}):void 0,avatar:(0,n.jsx)(R.y,{src:L.vx.logoURI,verified:!0})}),transactionToItem:(0,n.jsx)(c.TXListItem,{title:t,subtitle:(0,P.r)(s),avatar:(0,n.jsx)(se.y,{publicKey:s})})})},ae=({withdrawStakeAccount:e,close:t})=>{const{t:s}=(0,A.$)(),{amount:o,closeAccount:i,setCloseAccount:r,withdrawStake:l}=((e,t)=>{const{publicKey:s,accountName:o}=(0,Y.rT)(),{mutateAsync:i,isLoading:r}=(0,T.Uo)(),[l,d]=a.useState(!0),{data:c,isLoading:u}=(0,T.te)(),m=e.actions.find((e=>"withdraw"===e.name))?.metadata,p=(l?m?.amountWithClosing:m?.amount)||0,h=(0,$.s)(p);return{amount:h,validators:c,validatorsLoading:u,setCloseAccount:d,closeAccount:l,withdrawStake:()=>{i({amountLamports:p,confirmData:(0,n.jsx)(ne,{amount:h.toString(),walletName:o,walletPubkey:s}),stakingAccount:e,closeAccount:l,onBroadcast:()=>{t()}})},withdrawLoading:r}})(e,t),{data:d}=(0,q.Dm)();return(0,n.jsx)(I.u_,{open:Boolean(e),onClose:t,title:s("withdraw"),children:(0,n.jsxs)(I.kC,{column:!0,gap:"24px",children:[(0,n.jsx)(c.FormField,{label:(0,n.jsx)(c.Label,{children:s("table_token")}),children:(0,n.jsx)(c.StakeAccountListItem,{statuses:[],validatorImage:Z,background:"dropDown",title:s("solana"),height:"s",amount:(0,M.ED)({amount:o,displayType:"solana",suffix:" SOL"}),value:(0,n.jsx)(te.sp,{value:o.multipliedBy(d?.price?.price??0).toNumber()}),spacingX:"select",avatarSize:"s"})}),(0,n.jsx)(c.FormField,{label:(0,n.jsxs)(c.Label,{children:[s("table_validator"),(0,n.jsx)(m.sW,{tooltip:s("staking_validator_description")})]}),children:(0,n.jsx)(c.ValidatorListItem,{background:"dropDown",image:e.validator?.image??void 0,title:e.validator?.name??(0,P.r)(e.validator?.votePublicKey),apr:(0,M.ED)({amount:e.validator?.apy??0,displayType:"medium",suffix:"% APY"})})}),(0,n.jsx)(c.Control,{id:"cb-close",label:s("action_close_staking_account"),tooltip:s("staking_withdraw_available_tooltip"),action:(0,n.jsx)(c.Checkbox,{checked:i,onChange:e=>r(Boolean(e.target.checked))})}),(0,n.jsx)(c.Button,{onClick:()=>{l()},children:s("withdraw")})]})})};var oe=s("../../libs/shared/dist/features/transactionFlow/context/index.js"),ie=s("../../libs/shared/dist/redux/index.js"),re=s("../../../node_modules/dayjs/dayjs.min.js"),le=s.n(re),de=s("../../../node_modules/dayjs/plugin/duration.js"),ce=s.n(de),ue=s("../../../node_modules/dayjs/plugin/isToday.js"),me=s.n(ue),pe=s("../../../node_modules/dayjs/plugin/isYesterday.js"),he=s.n(pe),xe=s("../../../node_modules/dayjs/plugin/localizedFormat.js"),ge=s.n(xe),je=s("../../../node_modules/dayjs/plugin/relativeTime.js"),be=s.n(je),fe=s("../../libs/shared/dist/features/featureFlags/index.js"),_e=s("../../libs/shared/dist/features/globalConfig/hooks/index.js"),ye=s("../../libs/shared/dist/features/settings/index.js"),ve=s("../../libs/shared/dist/features/shared/blocklist/hooks/useHydrateBlocklistCache.js"),ke=s("../../libs/shared/dist/features/shared/blocklist/api/index.js"),we=s("../../libs/shared/dist/features/shared/trustedApps/index.js"),Ce=s("../../libs/shared/dist/hooks/index.js"),Se=s("../../libs/shared/dist/storage/solflareService.js"),Te=s("../../libs/shared/dist/utils/isPublicKeyValid.js"),Ae=s("../../libs/wallet-core/dist/metamask.js"),Ie=s("../../../node_modules/qs/lib/index.js"),Ze=s.n(Ie),Me=s("../../libs/shared/dist/features/notifications/utils/index.js"),Pe=s("../../libs/shared/dist/utils/requestId.js"),De=s("../../../node_modules/@mui/material/Container/Container.js"),Be=s("../../libs/shared/dist/features/autoLock/components/index.js"),Ee=s("../../libs/shared/dist/features/notifications/components/index.js"),Oe=s("../../libs/shared/dist/features/shared/components/index.js"),Le=s("../../libs/shared/dist/features/shared/syncWalletBalances/index.js"),Ne=s("../../libs/shared/dist/features/transactionFlow/components/index.js"),Re=s("../../../node_modules/@mui/material/ButtonBase/ButtonBase.js"),Fe=s("../../../node_modules/@mui/material/AppBar/AppBar.js"),Ue=s("../../../node_modules/@mui/material/Toolbar/Toolbar.js"),$e=s("../../../node_modules/@mui/material/Box/Box.js"),We=s("../../../node_modules/@mui/material/Drawer/Drawer.js"),Ke=s("../../../node_modules/@mui/styles/makeStyles/makeStyles.js"),ze=s("../../libs/shared/dist/assets/logo.svg"),He=s("../../libs/shared/dist/assets/solflare.svg"),Ve=s("../../libs/shared/dist/utils/extension.js");const Ge=(0,Ke.Z)((e=>({menuItem:{padding:"8px 16px",color:"white","&.Mui-disabled":{"& p":{color:e.palette.common.white40}},"&:hover":{textDecoration:"none"},[e.breakpoints.down("md")]:{padding:"8px 8px"},[e.breakpoints.down("sm")]:{padding:"16px 8px"},"&.active":{"& p":{color:e.palette.primary.main},"&::after":{color:e.palette.primary.main,content:"'.'",position:"absolute",bottom:-4,fontSize:20,lineHeight:1.5}}}}))),qe=({tEvents:e})=>{const{t}=(0,A.$)(),s=Ge(),o=(0,B.s0)(),i=(0,B.TH)(),{setWmBackgroundLocation:l}=(0,a.useContext)(h.RQ),{publicKey:d}=(0,Y.rT)(),{pathname:c}=(0,B.TH)(),[u,m]=(0,a.useState)(!1),{loggedIn:p}=(0,Y.Rg)();(0,a.useEffect)((()=>{m(!1)}),[c]);const x=(a=!1)=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Re.Z,{component:r.OL,to:U.Zg.MAIN,className:s.menuItem,children:(0,n.jsx)(z.Z,{variant:"body1",color:"textPrimary",children:t("header_portfolio")})}),(0,n.jsx)(Re.Z,{component:r.OL,to:U.yT.MAIN,className:s.menuItem,children:(0,n.jsx)(z.Z,{variant:"body1",color:"textPrimary",children:t("header_nfts_collectibles")})}),(0,n.jsx)(Re.Z,{component:r.OL,to:U.Ni.MAIN,onClick:()=>e?.({...T.TQ,source:"stakeNavigation"}),className:s.menuItem,children:(0,n.jsx)(z.Z,{variant:"body1",color:"textPrimary",children:t("header_staking")})}),(0,n.jsx)(Re.Z,{component:r.OL,to:U.Zv.MAIN,className:s.menuItem,children:(0,n.jsx)(z.Z,{variant:"body1",color:"textPrimary",children:t("header_trade")})}),a&&(0,n.jsx)(Re.Z,{component:r.OL,to:U.Nj.MAIN,className:s.menuItem,children:(0,n.jsx)(z.Z,{variant:"body1",color:"textPrimary",children:t("header_bridge")})}),(0,n.jsx)(Re.Z,{component:r.OL,to:U.i1.MAIN,className:s.menuItem,children:(0,n.jsx)(z.Z,{variant:"body1",color:"textPrimary",children:t("header_activity")})})]});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Fe.Z,{position:"static",color:"transparent",children:(0,n.jsx)(De.Z,{children:(0,n.jsxs)(Ue.Z,{children:[(0,n.jsxs)($e.Z,{children:[(0,n.jsx)(Re.Z,{edge:"start",disableRipple:!0,component:r.OL,to:U.Zg.MAIN,children:(0,n.jsx)("img",{src:ze,alt:"Solflare logo",className:"solriseLogoImage"})}),(0,n.jsx)($e.Z,{display:{xs:"inline-block",sm:"none",md:"inline-block"},ml:1,children:(0,n.jsx)(Re.Z,{disableRipple:!0,component:r.OL,to:U.Zg.MAIN,children:(0,n.jsx)("img",{src:He,alt:"Solflare"})})})]}),(0,n.jsx)($e.Z,{display:{xs:"block",sm:"none",md:"none"},children:(0,n.jsx)(I.hU,{onClick:()=>m(!0),children:(0,n.jsx)(I.JO,{faIcon:O.xiG})})}),(0,n.jsx)($e.Z,{display:{xs:"none",sm:"block",md:"block"},children:p&&x(!Ve.p1)}),(0,n.jsxs)($e.Z,{display:{xs:"none",sm:"flex",md:"flex"},gap:1,alignItems:"center",children:[p&&(0,n.jsx)(I.hU,{component:r.OL,to:"/settings",children:(0,n.jsx)(I.JO,{faIcon:O.gr5})}),d&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(I.hU,{onClick:async()=>{l((e=>e||i.pathname)),o(U.yD.MAIN)},children:(0,n.jsx)(se.y,{publicKey:d,size:"s"})})})]})]})})}),(0,n.jsx)(We.ZP,{anchor:"right",open:u,onClose:()=>m(!1),children:(0,n.jsxs)($e.Z,{display:"flex",flexDirection:"column",flex:1,py:3,px:4,children:[(0,n.jsx)($e.Z,{display:"flex",flexDirection:"column",alignItems:"stretch",children:x(!Ve.p1)}),(0,n.jsx)($e.Z,{flex:1})]})})]})},Ye=()=>(0,n.jsx)("div",{children:"Page not found."});var Qe=s("../../../node_modules/react-virtuoso/dist/index.m.js"),Je=s("../../../node_modules/@mui/material/styles/styled.js"),Xe=s("../../../node_modules/@mui/material/Paper/Paper.js"),et=s("../../../node_modules/@mui/material/Grid/Grid.js"),tt=s("../../../node_modules/@mui/material/Divider/Divider.js"),st=s("../../libs/shared/dist/assets/no-activity.svg"),nt=s("../../libs/shared/dist/features/activity/context/index.js"),at=s("../../libs/shared/dist/features/activity/hooks/index.js"),ot=s("../../../node_modules/@mui/material/Tooltip/Tooltip.js"),it=s("../../libs/shared/dist/features/activity/utils/index.js");const rt=(0,Ke.Z)((e=>({item:{color:e.palette.common.white},pointer:{cursor:"pointer"},price:{opacity:.5}}))),lt=({transaction:e,onBack:t})=>{const{t:s}=(0,A.$)(),{openExplorer:a}=(0,Ce.Vf)(),o=rt(),i=[{id:"timestamp",data:(0,n.jsx)(c.ActivityDetailsRow,{title:s("timestamp"),children:(0,n.jsx)("span",{children:`${le()(1e3*e.blockTime).format("YYYY MMMM D")} ${s("at_time")} ${le()(1e3*e.blockTime).format("HH:mm:ss")}`})})},{id:"details",data:(0,n.jsx)(c.ActivityDetailsRow,{title:s("form_details"),children:(0,it.Q)(e.components.expandedData.details)})}];return e.components.expandedData.balances&&i.push({id:"balances",data:(0,n.jsx)(c.ActivityDetailsRow,{title:s("form_transaction_result"),children:(0,it.Q)(e.components.expandedData.balances,{layout:"details"})})}),e.fee&&i.push({id:"fee",data:(0,n.jsxs)(c.ActivityDetailsRow,{title:s("form_transaction_fee"),children:[(0,n.jsxs)("span",{children:[e.fee.amount," ",e.fee.symbol]}),(0,n.jsx)("span",{className:o.price,children:(0,M.ED)({amount:e.fee.amount*e.fee.price,displayType:"value",prefix:"$"})})]})}),i.push({id:5,data:(0,n.jsxs)(c.ActivityDetailsRow,{title:s("transaction_id"),childrenClassName:o.pointer,children:[(0,n.jsx)("span",{onClick:()=>a({type:"transaction",transactionHash:e.hash}),children:(0,P.r)(e.hash)}),(0,n.jsx)(ot.Z,{title:s("action_view_in_explorer"),placement:"top",children:(0,n.jsx)("span",{children:(0,n.jsx)(c.Icon,{onClick:()=>a({type:"transaction",transactionHash:e.hash}),size:"s",icon:O.gJF})})})]})}),(0,n.jsx)(I.u_,{disableScrollLock:!0,open:!0,onClose:t,title:String(e.components.expandedData.title),contentStyle:{overflowX:"hidden"},children:(0,n.jsx)(c.GeneralList,{extractKey:e=>e.id,data:i,renderItem:e=>e.data})})};s("../../libs/shared/dist/features/activity/components/ExtLineItem/index.js");var dt=s("../../libs/shared/dist/features/activity/components/WebLineItem/index.js");const ct=e=>{return(0,n.jsx)(n.Fragment,{children:(t=e?.item,t?.components?(0,it.Q)(t.components.lineItem):(0,n.jsx)(dt.X,{loading:!0,blockTime:t?.blockTime}))});var t},ut=(0,Ke.Z)((e=>({header:{position:"sticky",top:0,zIndex:1,backgroundColor:"#1a1d27",overflow:"hidden",padding:"4px 16px",width:"100%",display:"grid",gridTemplateColumns:"1fr 2fr 4fr 2fr",gap:"10px"},table:{overflow:"hidden"},row:{display:"flex",alignItems:"center",overflow:"hidden",minHeight:"46px",padding:"4px 16px"},rowOdd:{backgroundColor:e.palette.divider},rowHovered:{"&:hover":{cursor:"pointer",transition:".25s background",backgroundColor:"rgba(188, 200, 231, 0.1)",borderRadius:e.shape.borderRadius,opacity:1}}}))),mt=(0,Je.ZP)(Xe.Z)((()=>({background:"initial",backgroundColor:"rgba(188, 200, 231, 0.04)"}))),pt=({ataAccount:e,tokenSymbol:t})=>{const{t:s,i18n:o}=(0,A.$)(),{publicKey:i}=(0,Y.rT)(),r=ut(),l=e||i,{loadTransactions:d,loadSignatures:c,signatures:u,transactions:m,isLoading:p,isPreloading:h}=(0,at.T)({layout:"web"}),[x,g]=(0,a.useState)(null);return(0,a.useEffect)((()=>{const e=setInterval((()=>{c({publicKey:l,onlyNewer:!0})}),15e3);return()=>clearInterval(e)}),[l]),(0,a.useEffect)((()=>{c({publicKey:l})}),[l]),(0,n.jsx)(nt.j,{children:(0,n.jsxs)(mt,{elevation:2,sx:{borderRadius:"24px"},children:[null!==x&&(0,n.jsx)(lt,{transaction:x,onBack:()=>g(null)}),(0,n.jsx)($e.Z,{className:"js-theme-snow-roof"}),(0,n.jsx)($e.Z,{mb:4,style:{backgroundColor:"#1a1d27"},children:(0,n.jsxs)($e.Z,{component:z.Z,variant:"h2",children:[t?`${t} `:"",s("history_title")]})}),0===u.length&&!p&&!h&&(0,n.jsxs)($e.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",my:20},children:[(0,n.jsx)("img",{alt:"No activity",src:st}),(0,n.jsx)(z.Z,{color:"text.tertiary",children:s("no_recent_activity")})]}),(0!==u.length||p)&&(0,n.jsxs)($e.Z,{children:[(0,n.jsxs)($e.Z,{className:`syncscroll ${r.header}`,children:[(0,n.jsx)(et.ZP,{item:!0,children:(0,n.jsx)(z.Z,{color:"textSecondary",variant:"body2",children:s("form_date")})}),(0,n.jsx)(et.ZP,{item:!0,children:(0,n.jsx)(z.Z,{color:"textSecondary",variant:"body2",children:s("form_type")})}),(0,n.jsx)(et.ZP,{item:!0,children:(0,n.jsx)(z.Z,{color:"textSecondary",variant:"body2",children:s("form_details")})}),(0,n.jsx)(et.ZP,{item:!0,textAlign:"right",children:(0,n.jsx)(z.Z,{color:"textSecondary",variant:"body2",textAlign:"right",children:s("form_transaction_result")})}),(0,n.jsx)(tt.Z,{})]}),(0,n.jsx)(Qe.OO,{useWindowScroll:!0,overscan:10,className:`syncscroll ${r.table}`,name:"txtable",totalCount:0===u.length?4:u.length,itemsRendered:e=>d(e,o.language),itemContent:e=>{if(!u.length)return(0,n.jsx)($e.Z,{className:`${r.row} ${r.rowHovered} ${e%2?r.rowOdd:""}`,children:(0,n.jsx)(ct,{item:null})});const t=u[e].hash,s=m[t];return(0,n.jsx)($e.Z,{className:`${r.row} ${r.rowHovered} ${e%2?r.rowOdd:""}`,onClick:()=>{s.components&&g(s)},children:(0,n.jsx)(ct,{item:s})})}},0===u.length?"listWithoutData":"listWithData")]})]})})},ht=()=>(0,n.jsx)(pt,{});var xt=s("../../libs/shared/dist/constants/networks.js"),gt=s("../../../node_modules/lodash/lodash.js"),jt=s("../../libs/shared/dist/utils/humanDate.js"),bt=s("../../libs/shared/dist/utils/units.js"),ft=s("../../libs/shared/dist/api/index.js");const _t="https://bridge-api.solflare.com",yt="0x736f6c",vt={from:{field:"to",destination:"dst"},to:{field:"from",destination:"src"}},kt=async(e,t=0,s=10)=>{const{body:n}=await(0,ft.U2)(`${_t}/v1/bridge/order-history/${e}?skip=${t}&limit=${s}`);return n};var wt=s("../../../node_modules/react-lottie-player/dist/LottiePlayer.modern.js"),Ct=s("../../libs/shared/dist/assets/metamask.svg");const St=(0,a.createContext)(null),Tt=({children:e})=>{const[t,s]=(0,a.useState)(!1),[o,i]=(0,a.useState)(!1),[r,l]=(0,a.useState)(null),[d,c]=(0,a.useState)(null),[u,m]=(0,a.useState)(!1),[p,h]=(0,a.useState)({current:null,numberOfTransactions:null}),x=(0,a.useMemo)((()=>({setShowConfirmationMM:s,showConfirmationMM:t,isActivityFooter:o,setActivityFooter:i,confirmData:r,setConfirmData:l,isSpinnerActive:u,setIsSpinnerActive:m,transactionProgressData:p,setTransactionProgressData:h,orderData:d,setOrderData:c})),[r,u,d,t,o,i,p]);return(0,n.jsx)(St.Provider,{value:x,children:e})},At=()=>{const e=(0,a.useContext)(St);if(!e)throw new Error("useBridgeConfirmationContext must be used within a BridgeConfirmationProvider");return e},It=(0,a.createContext)(null),Zt=({children:e,walletPubkey:t})=>{const[s,o]=(0,a.useState)(!1),[i,r]=(0,a.useState)({});(0,a.useEffect)((()=>{Se.Z.mmBridgeViewedConfirmModal.get().then((e=>e&&r(e))).finally((()=>o(!0)))}),[]);const l=(0,a.useCallback)((async()=>{r((e=>({...e,[t]:!0})));const e=await Se.Z.mmBridgeViewedConfirmModal.get()||{};await Se.Z.mmBridgeViewedConfirmModal.set({...e,[t]:!0})}),[t]),d={isLoaded:s,viewed:i[t]??!1,setAsViewed:l};return(0,n.jsx)(It.Provider,{value:d,children:e})},Mt=()=>{const e=(0,a.useContext)(It);if(null===e)throw new Error("useViewedConfirmModalContext must be used within a ViewedConfirmModalContext");return e};var Pt=s("../../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs");const Dt=e=>{const t=(0,N.Af)(),{data:s}=(0,Pt.a)(["bridge-token-price",e,t.ticker],(()=>(async(e,t)=>{const{body:s}=await(0,ft.U2)(`${_t}/v1/portfolio/prices?tokens=${t}&currency=${e}`);return s})(t.ticker.toLowerCase(),[e])),{enabled:!!e});return{value:e&&s?.[e]?s[e].price:null,symbol:t.symbol,ticker:t.ticker}};var Bt,Et;!function(e){e.Created="Created",e.Fulfilled="Fulfilled",e.SentUnlock="SentUnlock",e.ClaimedUnlock="ClaimedUnlock",e.OrderCancelled="OrderCancelled",e.SentOrderCancel="SentOrderCancel",e.ClaimedOrderCancel="ClaimedOrderCancel",e.Confirming="Confirming"}(Bt||(Bt={})),function(e){e.NoExtCall="NoExtCall",e.Completed="Completed"}(Et||(Et={}));var Ot=s("../../libs/wallet-core/dist/metamaskCore.js"),Lt=s("../../../node_modules/console-browserify/index.js");const Nt=async({tx:{data:e,to:t},amount:s,metamaskAccount:n})=>{try{const a=await(0,Ot.$q)({method:"eth_call",params:[{input:e,to:t,from:n}]}),o=parseInt(a.substring(2),16);return isNaN(o)||o<+s}catch(e){throw Lt.error("eth call error",e),e}},Rt=async(e,t,s)=>{try{await(0,Ot.$q)({method:"wallet_switchEthereumChain",params:[{chainId:s}]})}catch(s){if(Lt.info("%cswitch chain err","color: red;",s),4902!==s.code)throw s;{const{chainId:s,chainName:n,rpcUrl:a,adornment:o}=e;await(0,Ot.$q)({method:"wallet_addEthereumChain",params:[{chainId:s,chainName:n,rpcUrls:[a],iconUrls:[o],nativeCurrency:t}]})}}},Ft=e=>(0,gt.sortBy)(e,[e=>-e.rawValue,e=>-e.rawAmount,e=>e.name.toLowerCase()]),Ut=e=>({Ethereum:"eth",Binance:"bnb",Polygon:"matic",Arbitrum:"arb",Avalanche:"avax",Solana:"sol"}[e]||"base"),$t=({txData:e,selectedFromToken:t,selectedToToken:s,chainId:n,mmAddress:a,solAddress:o})=>{const{data:{src:i,dst:r}}=e;return{creationTimestamp:Date.now(),state:Bt.Confirming,srcTransactionHash:"",srcData:{amount:i.amount,chain:t.chainName,chainId:n,evm:t.evm,token:t.tokenId,chainLogo:t.adornment,metadata:{decimals:i.decimals,logo:t.logoURI,name:t.name,ticker:t.symbol,coingeckoId:t.coingeckoId}},dstData:{amount:r.amount,chain:s.chainName,chainId:n,evm:s.evm,token:s.tokenId,chainLogo:s.adornment,metadata:{decimals:r.decimals,logo:s.logoURI,name:s.name,ticker:s.symbol,coingeckoId:s.coingeckoId}},sender:t.evm?a:o,recipient:s.evm?a:o}},Wt=(e,t)=>{const{current:s,numberOfTransactions:n}=e;return n?1===n?t?"Waiting for confirmation":"Confirm in MetaMask":t?`Waiting for confirmation ${s} of ${n}`:`Confirm ${s} of ${n}`:""},Kt=e=>!(e.state!==Bt.Fulfilled&&e.state!==Bt.SentUnlock&&e.state!==Bt.ClaimedUnlock||e.extCallState!==Et.NoExtCall&&e.extCallState!==Et.Completed),zt=e=>!e||+e<=1e-6?"0":(0,M.ED)({amount:e,displayType:"ethShort"}),Ht=({txData:e,fromToken:t,fromAmount:s,toToken:n,toAmount:a,fromTokenPrice:o,toTokenPrice:i})=>{if(!e)return{percentageDiff:"",showWarning:!1,feeAmountCurrency:"",convertedFeeFromToken:"",fromTokenAmount:"",toTokenAmount:""};const{src:r,meta:{solflareFee:l}}=e,d=new E.Z(t.rawValue).dividedBy(t.rawAmount).toNumber(),c=new E.Z((0,bt.d)(r.operatingExpense,t.decimals)).times(d).toNumber(),u=(({fromToken:e,toToken:t,fromTokenPrice:s,toTokenPrice:n,solflareFee:{address:a,amount:o,decimals:i}})=>{if([e,t].some((e=>e.tokenId===L.BH))&&a===L.BH){const t=new E.Z((e.tokenId===L.BH?s.value:n.value)||0).times(o);return(0,bt.d)(t,i)}return(0,bt.d)(o,i)})({fromToken:t,toToken:n,solflareFee:l,fromTokenPrice:o,toTokenPrice:i}),m=new E.Z(c).plus(u).toString(),p=new E.Z(m).dividedBy(d).toString(),h=new E.Z(d).times(s).toNumber(),x=new E.Z(i.value||0).times(a).plus(m||0).toNumber(),g=new E.Z(h).dividedBy(d).toNumber(),j=new E.Z(x).dividedBy(i.value||0).toNumber(),b=new E.Z(h).minus(x).toNumber(),f=new E.Z(b).dividedBy(h).times(100).toNumber(),_=new E.Z(b).isGreaterThan(.1*h),y=[h,x,b].some((e=>isNaN(e)));return{percentageDiff:(0,M.ED)({amount:f,displayType:"value"}),showWarning:!y&&_,feeAmountCurrency:m,convertedFeeFromToken:p,fromTokenAmount:g,toTokenAmount:j}},Vt=({order:e,onClose:t})=>{const{t:o}=(0,A.$)(),i=e.srcData.evm,{accountName:r}=(0,Y.rT)(),{viewed:l,setAsViewed:d}=Mt(),{fetchTransactionOrder:u}=Yt(),{showConfirmationMM:m,setConfirmData:p,setShowConfirmationMM:h,setActivityFooter:x}=At(),[g,j]=(0,a.useState)(null),[b,f]=(0,a.useState)(null),{value:_}=Dt(e.srcData.metadata.coingeckoId),{value:y}=Dt(e.dstData.metadata.coingeckoId),v=(0,a.useRef)(m),k=(0,a.useRef)(!1);if((0,a.useEffect)((()=>{let t,s=!0;const n=async()=>{if(s&&e.orderId&&(!e.sender||!e.recipient))try{await u(e.orderId)}catch{t=setTimeout(n,1e3)}};return n(),()=>{s=!1,clearTimeout(t)}}),[e.state,u,e.orderId]),(0,a.useEffect)((()=>{(async()=>{const[t,n]=await Promise.all([s.e("web_src_features_bridge_assets_bridge-in-progress_json").then(s.t.bind(s,"../web/src/features/bridge/assets/bridge-in-progress.json",19)),s.e("web_src_features_bridge_assets_bridge-success_json").then(s.t.bind(s,"../web/src/features/bridge/assets/bridge-success.json",19))]),a=(0,gt.cloneDeep)({...t});a?.assets?.forEach((t=>{"source"===t?.p&&(t.p=e?.srcData?.chainLogo),"destination"===t?.p&&(t.p=e?.dstData?.chainLogo)}));const o=(0,gt.cloneDeep)({...n});o?.assets?.forEach((t=>{"source"===t?.p&&(t.p=e?.srcData?.chainLogo),"destination"===t.p&&(t.p=e?.dstData?.chainLogo)})),j(a),f(o)})()}),[e.dstData.chainLogo,e.srcData.chainLogo,e.state]),(0,a.useEffect)((()=>{if(Kt(e)&&!l&&d(),e.state===Bt.Confirming)return x(!0),p({mmAddress:e.sender||"",solAddress:e.recipient||"",fromAmount:(0,bt.d)(e.srcData.amount,e.srcData.metadata.decimals),toAmount:(0,bt.d)(e.dstData.amount,e.dstData.metadata.decimals),fromCoingeckoId:e.srcData.metadata.coingeckoId||"",toCoingeckoId:e.dstData.metadata.coingeckoId||"",fromTicker:e.srcData.metadata.ticker,toTicker:e.dstData.metadata.ticker,fromChainLogo:e.srcData.chainLogo,toChainLogo:e.dstData.chainLogo}),h(!0),k.current=!1,()=>{k.current=!0,h(!1),x(!1)}}),[d,e,h,p,e.state]),(0,a.useEffect)((()=>{k.current||!v.current||m||t(),v.current=m}),[m,t]),e.state===Bt.Confirming)return null;const w=(0,bt.d)(e.srcData.amount||0,e.srcData.metadata.decimals||0),C=(0,bt.d)(e.dstData.amount||0,e.dstData.metadata.decimals||0),S=Kt(e)?b:g,T=t=>{if(!i&&"sender"===t||i&&"recipient"===t)return r;const s=e[t];return s?(0,P.r)(s):(0,n.jsx)(c.Skeleton,{variant:"text",height:16,width:100})},Z=t=>{const s=e[t];return i&&"sender"===t||!i&&"recipient"===t?null:s?(0,P.r)(s):(0,n.jsx)(c.Skeleton,{variant:"text",height:14,width:80})},D=t=>{if(i&&"sender"===t||!i&&"recipient"===t)return(0,n.jsx)(c.Avatar,{src:Ct});const s=e[t];return s?(0,n.jsx)(se.y,{publicKey:s}):(0,n.jsx)(c.Skeleton,{variant:"circle"})};return(0,n.jsxs)(I.u_,{open:!0,onClose:t,maxWidth:"xs",contentStyle:{p:"0 !important"},sx:{"& .MuiPaper-root":{p:3},"& .MuiDialogActions-root":{justifyContent:"center","> div":{width:"100%",button:{width:"100%"}}}},title:Kt(e)?o("bridge_successfull"):o("bridge_in_progress_label"),actions:(0,n.jsx)(n.Fragment,{children:Kt(e)?(0,n.jsx)(c.Flex,{fullWidth:!0,children:(0,n.jsx)(c.Button,{variant:"secondary",onClick:t,children:o("action_close")})}):(0,n.jsx)(c.Flex,{justifyContent:"center",fullWidth:!0,children:(0,n.jsx)(c.Paragraph,{children:o("bridge_less_than_minute")})})}),children:[(0,n.jsx)(c.Illustration,{children:S?(0,n.jsx)(wt.Z,{loop:!Kt(e),play:!0,animationData:S},Kt(e)?"success":"progress"):null}),(0,n.jsx)(c.ConfirmTransaction,{avatar:null,transactionFromItem:!Kt(e)&&(0,n.jsx)(c.TXListItem,{title:T("sender"),subtitle:Z("sender"),avatar:(0,n.jsx)(c.AdornedAvatar,{bottomRight:{asset:e.srcData.chainLogo,variant:"image",show:!0},children:D("sender")}),amount:`-${(0,M.ED)({amount:w,suffix:` ${e.srcData.metadata.ticker}`,displayType:"amount"})}`,value:_?(0,n.jsx)(te.sp,{value:_*+w}):(0,n.jsx)(c.Skeleton,{variant:"text",height:14,width:35})}),transactionToItem:(0,n.jsx)(c.TXListItem,{title:T("recipient"),subtitle:Z("recipient"),avatar:(0,n.jsx)(c.AdornedAvatar,{bottomRight:{asset:e.dstData.chainLogo,variant:"image",show:!0},children:D("recipient")}),amount:`+${(0,M.ED)({amount:C,suffix:` ${e.dstData.metadata.ticker}`,displayType:"amount"})}`,value:y?(0,n.jsx)(te.sp,{value:y*+C}):(0,n.jsx)(c.Skeleton,{variant:"text",height:14,width:35}),variant:"success"})})]})},Gt=(0,a.createContext)(null),qt=({walletPubkey:e,children:t})=>{const[s,o]=(0,a.useState)(!1),[i,r]=(0,a.useState)([]),[l,d]=(0,a.useState)([]),[c,u]=(0,a.useState)({}),[m,p]=(0,a.useState)(!1),[h,x]=(0,a.useState)(!0),[g,j]=(0,a.useState)(null),b=(0,a.useCallback)((async(t,s,n=!1)=>{const a=(0,gt.keyBy)(t,"srcTransactionHash"),o=(0,gt.keyBy)(s,"srcTransactionHash"),i=Object.keys(a),l=Object.keys(o),c=[...i,...l],m={...n?{}:o,...a};u((e=>c.reduce(((t,s)=>({...t,[s]:{...m[s],...e[s],state:a[s]?.state||e[s]?.state,extCallState:a[s]?.extCallState||e[s]?.extCallState}})),e)));const p={...o,...a},h=e=>!a[e]&&(!p[e]||p[e].creationTimestamp>Date.now()-108e5);if(r((e=>(0,gt.uniq)([...e,...i]))),d((e=>(0,gt.uniq)([...e.filter(h),...l.filter(h)]))),l.some((e=>a[e]))){const t=s.filter((e=>a[e.srcTransactionHash])).map((e=>e.srcTransactionHash));await Se.Z.mmBridgeQueueOrders.deleteOrder(t,e)}}),[e]),f=(0,a.useCallback)((async e=>{const t=await(async e=>{const{body:t}=await(0,ft.U2)(`${_t}/v1/bridge/order/${e}`);return t})(e);return u((e=>({...e,[t.srcTransactionHash]:t}))),t}),[]);(0,a.useEffect)((()=>{o(!0);let t,s=!0;const n=async()=>{if(s)try{const[{orders:t},s={}]=await Promise.all([kt(e),Se.Z.mmBridgeQueueOrders.get()]);await b(t,s?.[e]||[])}catch(e){t=setTimeout(n,5e3)}};return n().finally((()=>o(!1))),()=>{s=!1,clearTimeout(t)}}),[b,e]),(0,a.useEffect)((()=>{let t,s=!0;const n=0!==l.length||0!==i.filter((e=>!Kt(c[e]))).length?5e3:1e4,a=async()=>{const{orders:o}=await kt(e);try{await b(o,l.map((e=>c[e])),!0)}finally{s&&(t=setTimeout(a,n))}};return t=setTimeout(a,n),()=>{s=!1,clearTimeout(t)}}),[i,l,c,b,e]);const _=(0,a.useCallback)((async t=>{p(!0);try{const{orders:s}=await kt(e,t),n=(0,gt.keyBy)(s,"srcTransactionHash");u((e=>({...e,...n}))),r((e=>(0,gt.uniq)([...e,...Object.keys(n)]))),10!==s.length&&x(!1)}finally{p(!1)}}),[e]),y=(0,a.useCallback)((async(t,{showTransactionModal:s}={})=>{u((e=>({...e,[t.srcTransactionHash]:t}))),d((e=>(0,gt.uniq)([...e,t.srcTransactionHash]))),s&&j(t.srcTransactionHash),await Se.Z.mmBridgeQueueOrders.upsertOrder(t.srcTransactionHash,e,t)}),[e]),v=(0,a.useCallback)((async t=>{d((e=>e.filter((e=>e!==t)))),await Se.Z.mmBridgeQueueOrders.deleteOrder(t,e)}),[e]),k=(0,a.useCallback)((async(t,s)=>{u((e=>({...e,[t]:{...e[t],state:s}}))),await Se.Z.mmBridgeQueueOrders.upsertOrder(t,e,{state:s})}),[e]),w={transactions:i,queueTransactions:l,transactionsById:c,isLoading:s,loadMore:_,isLoadingMore:m,hasLoadMore:h,addTransactionToQueue:y,setDisplayTransaction:j,fetchTransactionOrder:f,setTransactionStatus:k,removeTransactionFromQueue:v};return(0,n.jsxs)(Gt.Provider,{value:w,children:[t,g&&(0,n.jsx)(Vt,{order:c[g],onClose:()=>j(null)})]})},Yt=()=>{const e=(0,a.useContext)(Gt);if(null===e)throw new Error("useHistoryTransactionsContext must be used within a HistoryTransactionsContext");return e};var Qt=s("../../../node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js");const Jt=(0,Qt.Z)("div")((()=>({display:"flex",flexDirection:"column",width:"420px",padding:"8px",borderRadius:"24px",background:"rgba(188, 200, 231, 0.04)"}))),Xt=(0,Je.ZP)("div",{shouldForwardProp:e=>"isLastItem"!==e})((({theme:e,isLastItem:t})=>({...!t&&{borderBottom:`1px solid ${e.palette.common.white05}`},"&:hover":{cursor:"pointer"}}))),es=(0,Je.ZP)("div")({top:-1,backgroundColor:"#1a1d27",position:"relative"}),ts=()=>{const{t:e}=(0,A.$)(),{transactions:t,queueTransactions:s,transactionsById:o,isLoading:i,loadMore:r,isLoadingMore:l,hasLoadMore:d,setDisplayTransaction:u}=Yt(),{viewed:m}=Mt(),p=(0,a.useMemo)((()=>(0,gt.orderBy)((0,gt.uniq)([...s,...t]).map((e=>o[e])).filter(Boolean),[e=>!Kt(e),"creationTimestamp"],["desc","desc"])),[s,t,o]),[h,x,g]=(0,a.useMemo)((()=>{const e={},t=[];p.forEach((s=>{const n=Kt(s)?(0,jt.pz)(s.creationTimestamp):"Pending";void 0===e[n]?(e[n]=1,t.push(n)):e[n]+=1}));const s=Object.values(e);let n=0;return[s,t,s.map((e=>(n+=e)-1))]}),[p]);if(!m&&i||!i&&0===p.length)return null;const j=Math.min(28*h.length+65*p.length,417);return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(Jt,{children:[(0,n.jsx)(c.PageTitle,{center:e("header_activity"),textAlign:"left"}),(0,n.jsx)(c.PageContent,{children:i?(0,n.jsxs)("div",{style:{height:417,marginLeft:-16,width:"calc(100% + 32px)",overflow:"auto"},children:[(0,n.jsx)($e.Z,{ml:2,mb:1,height:28,children:(0,n.jsx)(c.Skeleton,{variant:"text",height:16,width:"20%"})}),[...Array(8)].map(((e,t)=>(0,n.jsx)(Xt,{children:(0,n.jsx)(c.ActivityListItem,{loading:!0,title:"",subtitle:"",avatar:null})},t)))]}):(0,n.jsx)(Qe.Px,{groupCounts:h,groupContent:e=>(0,n.jsx)(es,{children:(0,n.jsx)(c.DefaultGroupHeader,{index:e,children:x[e]})}),endReached:d&&!l?()=>r(t.length):void 0,style:{height:j,marginLeft:-16,width:"calc(100% + 32px)"},itemContent:t=>{const s=p[t];return(0,n.jsx)(Xt,{isLastItem:g.includes(t),onClick:()=>u(s.srcTransactionHash),children:(0,n.jsx)(c.ActivityListItem,{title:e("bridge_activity_swap_to",{srcChain:s.srcData.chain,dstChain:s.dstData.chain}),subtitle:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{children:s.srcData.metadata.ticker}),(0,n.jsx)(c.Icon,{icon:O.eFW,size:"xs"}),(0,n.jsx)("span",{children:s.dstData.metadata.ticker})]}),avatar:(0,n.jsx)(c.ActivityDoubleAvatar,{shape1:"circle",src1:s.srcData.metadata.logo,shape2:"circle",src2:s.dstData.metadata.logo}),children:Kt(s)?(0,n.jsx)(c.ActivityBalances,{negatives:[{amount:`-${(0,M.ED)({amount:(0,bt.d)(s.srcData.amount,s.srcData.metadata.decimals),displayType:"amount"})}`,symbol:s.srcData.metadata.ticker}],positives:[{amount:`+${(0,M.ED)({amount:(0,bt.d)(s.dstData.amount,s.dstData.metadata.decimals),displayType:"amount"})}`,symbol:s.dstData.metadata.ticker}]}):(0,n.jsx)(c.Spinner,{size:"s"})})})}})})]})})};var ss=s("../../../node_modules/@fortawesome/pro-solid-svg-icons/index.mjs"),ns=s("../../../node_modules/@solana/web3.js/lib/index.browser.esm.js"),as=s("../../../node_modules/base64-js/index.js"),os=s("../../libs/shared/dist/features/amountInput/utils.js"),is=s("../../libs/shared/dist/utils/common.js"),rs=s("../../../node_modules/@tanstack/react-query/build/lib/useQueries.mjs"),ls=s("../../libs/shared/dist/features/portfolio/api/index.js");const ds=e=>{const t=e.reduce(((e,t)=>{const s=Object.entries(t.supportedTokens).map((e=>{const[s,n]=e;return{name:n.name,logoURI:n.logo,stable:n.stable,amount:"",value:"",rawValue:"",rawAmount:"",tokenId:s,rpcUrl:t.rpcUrl,decimals:n.decimals,symbol:n.ticker,chainId:t.chainId,adornment:t.logo,evm:t.evm,native:!!n.native,chainName:t.networkName,coingeckoId:n.coingeckoId,verified:!0}}));return e.push(...s),e}),[]),s=e.reduce(((e,t)=>(e.byName[t.networkName.toLowerCase()]=t.chainId,e.byKey[t.chainId]=t.networkName.toLocaleLowerCase(),e)),{byName:{},byKey:{}});return{result:t,supportedChains:e.flatMap((e=>e.chainId)),chainsMap:s}};var cs=s("../../../node_modules/console-browserify/index.js");const us=()=>{},ms=()=>{const[e,t]=(0,a.useState)(!0),[s,n]=(0,a.useState)(""),[o,i]=(0,a.useState)(""),[r,l]=(0,a.useState)(""),[d,c]=(0,a.useState)([]),[u,m]=(0,a.useState)({onEnd:us,onRejection:e=>{}}),[p,h]=(0,a.useState)(!1),{t:x}=(0,A.$)(),[g,j]=(0,a.useState)(null),{addTransactionToQueue:b,removeTransactionFromQueue:f}=Yt(),{enqueueSnackbar:_}=(0,S.Ds)(),{setShowConfirmationMM:y,orderData:v,setTransactionProgressData:k,transactionProgressData:w}=At();(0,Pt.a)({queryKey:["sendTransaction",d],queryFn:async()=>{if(!d.length)return null;const{data:e,to:t,value:s,type:n}=d[0],a=await T({value:s,to:t,data:e,type:n});return l(a),n.endsWith("approval")||b(v?{...v,srcTransactionHash:a}:{}),a||null},enabled:!!d.length,retry:!1});const C=(0,Pt.a)({queryKey:["getTransactionReceipt",r],queryFn:async()=>{const{type:e}=d[0],t=await(async e=>{try{return await(0,Ot.$q)({method:"eth_getTransactionReceipt",params:[e]})}catch(e){Lt.error("transaction receipt error",e)}})(r);if(!t)return null;const s=await(async()=>{try{const e=await(0,Ot.$q)({method:"eth_blockNumber",params:[]});return parseInt(e,16)}catch(e){Lt.error("block number error",e)}})();if(parseInt(t.blockNumber,16)>=(s||0)&&e.endsWith("approval"))return;const{current:n,numberOfTransactions:a}=w;return n&&a&&(k((e=>({...e,current:(e.current||0)+1}))),y(!(n>=a))),l(""),c((e=>e.slice(1))),d.length<2&&(u.onEnd(),d[0].type.endsWith("approval")||b(v?{...v,srcTransactionHash:r,state:Bt.Created}:{},{showTransactionModal:!0})),t||null},enabled:!!r,cacheTime:0,refetchInterval:1e3,retry:!1}),T=async({value:e,to:t,data:n})=>{try{return await(0,Ot.$q)({method:"eth_sendTransaction",params:[{from:s,to:t,value:`0x${new E.Z(e).toString(16)}`,data:n}]})}catch(e){throw cs.error("send tx error",e),y(!1),c([]),u.onRejection(p),_(4001===e.code?x("transaction_rejected"):x("transaction_failed"),{variant:"error",autoHideDuration:3e3}),v&&f(v.srcTransactionHash),e}},I=e=>{i(e)},Z=e=>{0!==e.length?n(e[0]):n("")};return(0,a.useEffect)((()=>{(async()=>{const e=await(0,Ot.Ck)();j(e)})()}),[]),(0,a.useEffect)((()=>{if(g)return g.on("chainChanged",I),g.on("accountsChanged",Z),(async()=>{await(async()=>{try{const e=await(async()=>await(0,Ot.$q)({method:"eth_accounts"}))();e&&n(e[0])}catch(e){cs.error(e)}finally{t(!1)}})();try{const e=await(0,Ot.$q)({method:"eth_chainId"});i(e)}catch(e){cs.error(e)}})(),()=>{g.removeListener("chainChanged",I),g.removeListener("accountsChanged",Z)}}),[g]),{metamaskAccount:s,isTransactionReceiptFetching:C.isFetching,isMetamaskConnectionLoading:e,chainId:o,connectToMetaMask:async()=>{if(await(0,Ot.Ck)()){t(!0);try{const e=await(async()=>await(0,Ot.$q)({method:"eth_requestAccounts"}))();e&&n(e[0])}catch(e){4001===e.code?_("Connection rejected",{variant:"error",autoHideDuration:3e3}):cs.error(e)}finally{t(!1)}}},hasTransactionHash:!!r,switchNetwork:Rt,transactionNeedApproval:Nt,hasChainChangedInTx:p,setHasChainChangedInTx:h,transactionsInit:async({txData:e,onRejection:t,onEnd:n})=>{const a=e?.data.meta.txs;let o=!1;a.length>1&&(o=await Nt({tx:e.data.meta.queries[0],amount:e?.data.src.amount,metamaskAccount:s}));const i=o?a:a.length>1?a.slice(1):a;c(i),m({onEnd:n,onRejection:t}),k({current:1,numberOfTransactions:o?2:1})}}},ps=({showModal:e,onClose:t,footer:s})=>{const{t:a}=(0,A.$)(),{confirmData:o}=At(),{accountName:i}=(0,Y.rT)(),{value:r,symbol:l,ticker:d}=Dt(o?.fromCoingeckoId),{value:u,symbol:m,ticker:p}=Dt(o?.toCoingeckoId);if(!o)return null;const{fromChainLogo:h,fromAmount:x,toAmount:g,fromTicker:j,toTicker:b,mmAddress:f,solAddress:_,toChainLogo:y}=o,v=new E.Z(r||0).times(x).toString(),k=new E.Z(u||0).times(g).toString();return(0,n.jsx)(I.u_,{open:e,onClose:t,scroll:"body",title:a("header_bridge"),children:(0,n.jsx)(c.ConfirmTransaction,{avatar:(0,n.jsx)(c.IconAvatar,{size:"xl",icon:O.u$2}),transactionFromItem:(0,n.jsx)(c.TXListItem,{title:(0,P.r)(f),avatar:(0,n.jsx)(c.TokenAvatar,{src:Ct,size:"m",adornment:(0,n.jsx)(c.ImageAdornment,{src:h})}),amount:(0,M.ED)({amount:x,suffix:` ${j}`,displayType:"amount"}),value:"NaN"!==v?(0,M.ED)({amount:v,displayType:"value",prefix:`${l||d}${l?"":" "}`}):void 0}),transactionToItem:(0,n.jsx)(c.TXListItem,{title:i,subtitle:(0,P.r)(_),avatar:(0,n.jsx)(se.y,{publicKey:_,adornment:(0,n.jsx)(c.ImageAdornment,{src:y})}),amount:(0,M.ED)({amount:g,suffix:` ${b}`,displayType:"amount"}),value:"NaN"!==k?(0,M.ED)({amount:k,displayType:"value",prefix:`${m||p}${m?"":" "}`}):void 0}),footer:s})})},hs=({mmAddress:e,solAddress:t,fromAmount:s,toAmount:a,selectedFromToken:o,selectedToToken:i})=>{const{accountName:r}=(0,Y.rT)(),{value:l}=Dt(o.coingeckoId),{value:d}=Dt(i.coingeckoId),u=new E.Z(l||0).times(s).toString(),m=new E.Z(d||0).times(a).toString();return(0,n.jsx)(c.ConfirmTransaction,{avatar:(0,n.jsx)(c.IconAvatar,{size:"xl",icon:O.u$2}),transactionFromItem:(0,n.jsx)(c.TXListItem,{title:r,subtitle:(0,P.r)(t),avatar:(0,n.jsx)(se.y,{publicKey:t,adornment:(0,n.jsx)(c.ImageAdornment,{src:o.adornment})}),amount:(0,M.ED)({amount:s,suffix:` ${o.symbol}`,displayType:"amount"}),value:l?(0,n.jsx)(te.sp,{value:u}):(0,n.jsx)(c.Skeleton,{variant:"text",height:14,width:35})}),transactionToItem:(0,n.jsx)(c.TXListItem,{title:(0,P.r)(e),avatar:(0,n.jsx)(c.TokenAvatar,{src:Ct,size:"m",adornment:(0,n.jsx)(c.ImageAdornment,{src:i.adornment})}),amount:(0,M.ED)({amount:a,suffix:` ${i.symbol}`,displayType:"amount"}),value:d?(0,n.jsx)(te.sp,{value:m}):(0,n.jsx)(c.Skeleton,{variant:"text",height:14,width:35})})})},xs=({children:e,isLoading:t=!1})=>(0,n.jsx)(n.Fragment,{children:t?(0,n.jsx)(c.Skeleton,{height:"10px",variant:"text",width:"120px"}):e}),gs=({isLoading:e,fromAmount:t,toAmount:s,fromTokenPrice:o,toTokenPrice:i,fromToken:r,toToken:l,txData:d,isRateWarning:u,solanaBalance:m,estimatedTime:p})=>{const[h,x]=(0,a.useState)("fromTo"),{t:g}=(0,A.$)(),j=new E.Z(m).isLessThan(.01),b=(0,a.useMemo)((()=>{if(d){const{convertedFeeFromToken:e,feeAmountCurrency:n,fromTokenAmount:a,toTokenAmount:c}=Ht({fromToken:r,fromAmount:t,toAmount:s,toToken:l,txData:d,fromTokenPrice:o,toTokenPrice:i});return{formattedNativeFee:(0,M.ED)({amount:e,displayType:"ethShort",suffix:` ${r.symbol}`}),feeAmountCurrency:n,fromTokenAmount:a,toTokenAmount:c}}return null}),[t,r,s,l,i,d,o]),f=(0,a.useMemo)((()=>{if(!b)return;const{fromTokenAmount:e,toTokenAmount:t}=b,s=(0,M.ED)({amount:new E.Z(t).dividedBy(e).toNumber(),displayType:"ethShort"}),n=(0,M.ED)({amount:new E.Z(e).dividedBy(t).toNumber(),displayType:"ethShort"});return{fromTo:`1 ${r.symbol} = ${s} ${l.symbol}`,toFrom:`1 ${l.symbol} = ${n} ${r.symbol}`}}),[b,r.symbol,l.symbol]),_=(0,a.useMemo)((()=>p?`~${Math.floor(p+1)} seconds`:null),[p]),y="USD Coin"===l.name&&"Solana"===l.chainName;return t&&s?(0,n.jsxs)(c.InfoTable,{children:[(0,n.jsx)(c.InfoRow,{left:(0,n.jsxs)(c.InfoRowLeft,{children:[g("swap_rate"),(0,n.jsx)(c.InfoWithTooltip,{tooltip:g("bridge_rate_tooltip")})]}),right:(0,n.jsx)(c.InfoRowRight,{onClick:()=>{x((e=>"fromTo"===e?"toFrom":"fromTo"))},isLoading:e||!f,variant:u?"warning":"primary",children:(0,n.jsx)(xs,{children:f?.[h]})})}),(0,n.jsx)(c.InfoRow,{left:(0,n.jsxs)(c.InfoRowLeft,{children:[g("bridge_table_fee_title"),(0,n.jsx)(c.InfoWithTooltip,{tooltip:g("bridge_table_fee_tooltip")})]}),right:(0,n.jsx)(c.InfoRowRight,{isLoading:e||!b,children:(0,n.jsx)(xs,{children:b?.formattedNativeFee})})}),(0,n.jsx)(c.InfoRow,{left:(0,n.jsxs)(c.InfoRowLeft,{children:[g("bridge_estimated_time"),(0,n.jsx)(c.InfoWithTooltip,{tooltip:g("bridge_estimated_time_tooltip")})]}),right:(0,n.jsx)(c.InfoRowRight,{isLoading:e||!_,children:(0,n.jsx)(xs,{children:_})})}),y&&j&&(0,n.jsx)(c.InfoRow,{left:(0,n.jsxs)(c.InfoRowLeft,{children:[g("bridge_airdrop_title"),(0,n.jsx)(c.InfoWithTooltip,{tooltip:g("bridge_airdrop_title_tooltip",{amount:"0.01 SOL"})})]}),right:(0,n.jsx)(c.InfoRowRight,{variant:"success",isLoading:e,children:(0,n.jsx)(xs,{children:"+0.01 SOL"})})})]}):null};var js=s("../../../node_modules/console-browserify/index.js");const bs=()=>{const{t:e}=(0,A.$)(),{publicKey:t}=(0,Y.rT)(),{transactionInit:s}=(0,oe.p)(),{showConfirmationMM:o,isActivityFooter:i,setShowConfirmationMM:r,setConfirmData:l,transactionProgressData:d,setOrderData:u}=At(),[m,p]=(0,a.useState)(""),[h,x]=(0,a.useState)(""),[g,j]=(0,a.useState)(""),[b,f]=(0,a.useState)(""),[_,y]=(0,a.useState)({}),[v,k]=(0,a.useState)({}),[w,C]=(0,a.useState)([]),[S,T]=(0,a.useState)(null),[I,Z]=(0,a.useState)("from"),[P,D]=(0,a.useState)(!1),[B,O]=(0,a.useState)(!1),[L,R]=(0,a.useState)(!1),F=(0,a.useRef)(!0),U=Dt(_.coingeckoId),$=Dt(v.coingeckoId),W=(0,a.useRef)((0,gt.debounce)(((e,t)=>Se.setDebounce[t](e)),700)).current,K=(0,a.useRef)((0,gt.debounce)((()=>{ye().finally((()=>R(!1)))}),500)).current,z=(0,a.useCallback)((()=>{D(!1),K()}),[K]),{metamaskAccount:H,isMetamaskConnectionLoading:V,connectToMetaMask:G,chainId:q,transactionsInit:Q,switchNetwork:J,setHasChainChangedInTx:X,hasTransactionHash:ee}=ms(),{addTransactionToQueue:te,queueTransactions:se}=Yt(),{tokensList:{solanaTokens:ne,evmTokens:ae,allTokens:ie},chainsMap:re,isTokensLoading:le,isDataFetching:de,solanaBalance:ce,solanaTokensQuery:ue,accountBalancesQuery:me}=((e,t)=>{const{symbol:s,ticker:n}=(0,N.Af)(),[o,i,r]=(0,rs.h)({queries:[{queryKey:["supportedChains"],queryFn:()=>(async()=>{const{body:e}=await(0,ft.U2)(`${_t}/v1/bridge/supported-chains`);return e})(),select:ds},{queryKey:["accountBalancesBridge",e],queryFn:()=>(async(e,t="USD")=>{const{body:s}=await(0,ft.U2)(`${_t}/v1/portfolio/balances/${e}?currency=${t}`);return s})(e,n),enabled:!!e},{queryKey:["accountBalancesPortfolio",t],queryFn:()=>(0,ls.lz)(t,"mainnet",n),enabled:!!t}]}),l=(0,a.useMemo)((()=>{const e=o.data?.result?.filter((e=>"Solana"===e.chainName)).map((e=>e.tokenId)),t=r.data?.tokens.filter((t=>e?.includes(t.mint)));return t?.reduce(((e,t)=>{const s="SOL"===t.symbol;return e[`${yt}${s?"":`&${t.mint}`}`]={amount:(0,bt.d)(t.accounts[0].amount,t.decimals),price:t.price?.price.toString()||""},e}),{})}),[r.data?.tokens,o.data]),d=(0,a.useMemo)((()=>i.data?.reduce(((e,t)=>(e[t.chainId]={amount:(0,bt.d)(t.nativeBalance.raw,t.nativeBalance.decimals),price:t.nativeBalance.price||"0"},t.tokens.forEach((s=>{e[`${t.chainId}&${s.address}`]={amount:(0,bt.d)(s.balance.raw,s.balance.decimals),price:s.balance.price||"0"}})),e)),{})),[i.data]),c=(0,a.useMemo)((()=>{const e=o.data?.result?.map((e=>{const t=`${e.chainId}${e.native?"":`&${e.tokenId}`}`,{amount:a,price:o}={...d,...l}?.[t]||"",i=new E.Z(a||0).times(o||0).toString();return{...e,rawAmount:a||"",amount:a?(0,M.ED)({amount:+a,displayType:"amount"}):"0",rawValue:i,rpcUrl:e.rpcUrl,value:+o&&+a?(0,M.ED)({prefix:s||n,amount:i,displayType:"value",pricePerCoin:+o}):""}}))||[];return{allTokens:e,evmTokens:e.filter((e=>e.evm)),solanaTokens:e.filter((e=>!e.evm))}}),[d,l,s,n,o.data]);return{isTokensLoading:o.isLoading,isTokensFetching:o.isFetching,isDataLoading:o.isLoading||i.isLoading||r.isLoading,isDataFetching:o.isFetching||i.isFetching,supportedChains:o.data?.supportedChains,chainsMap:o.data?.chainsMap,accountBalancesQuery:i,solanaTokensQuery:r,tokensList:c,solanaBalance:l?.[yt]?.amount,balanceMap:d}})(H,t),[pe,he]=(0,a.useState)(ae),[xe,ge]=(0,a.useState)(ne),{bridgeTxQuery:je,isBadRequestTooLowInputAmount:be,lastSelectedFromToken:fe,lastSelectedToToken:_e}=(({fromAmount:e,toAmount:t,lastEditedAmount:s,selectedFromToken:n,selectedToToken:o,metamaskAccount:i,publicKey:r})=>{const l=(0,a.useMemo)((()=>({src:{chain:n.chainName?.toLowerCase(),token:n.tokenId,amount:e&&"from"===s?(0,bt.z)(e,n.decimals):void 0,sender:n.evm?i:r},dst:{chain:o.chainName?.toLowerCase(),token:o.tokenId,amount:t&&"to"===s?(0,bt.z)(t,o.decimals):void 0,recipient:o.evm?i:r}})),[e,s,i,r,n,o,t]),d=(0,Pt.a)({queryKey:["bridgeCreateTx",l],queryFn:()=>(async e=>{const{body:t}=await(0,ft.v_)(`${_t}/v1/bridge/create-tx`,e);return t})(l||{}),enabled:!1,cacheTime:0,retry:!1});return{bridgeTxQuery:d,isBadRequestTooLowInputAmount:d.isError&&418===d.error?.response?.status,lastSelectedFromToken:{id:l.src.token,chainName:l.src.chain},lastSelectedToToken:{id:l.dst.token,chainName:l.dst.chain}}})({fromAmount:m,toAmount:h,selectedFromToken:_,selectedToToken:v,lastEditedAmount:I,metamaskAccount:H,publicKey:t}),{refetch:ye,isFetching:ve,isSuccess:ke,data:we,isError:Ce}=je,Se={getTokens:{from:pe,to:xe},setTokens:{from:he,to:ge},getSelected:{from:_,to:v},setSelected:{from:y,to:k},getAmount:{from:m,to:h},setAmount:{from:p,to:x},getDebounce:{from:g,to:b},setDebounce:{from:j,to:f}},{alertProps:Te}=(({fromAmount:e,toAmount:t,selectedFromToken:s,selectedToToken:n,fromTokenPrice:o,toTokenPrice:i,txData:r,isTxError:l,isBadRequestTooLowInputAmount:d,editingTokens:c})=>{const{t:u}=(0,A.$)(),m=(0,a.useMemo)((()=>!(!r||+r.data.dst.amount&&+r.data.src.amount)),[r]);return{alertProps:(0,a.useMemo)((()=>{const{showWarning:a,percentageDiff:p}=Ht({fromAmount:e,toAmount:t,toToken:n,fromTokenPrice:o,toTokenPrice:i,fromToken:s,txData:r?.data});return new E.Z(e).isGreaterThan(s.rawAmount||"0")?{variant:"error",title:u("insufficient_ticker",{ticker:s.symbol}),message:u("bridge_error_not_enough_balance")}:a&&!c?{variant:"warning",title:u("bridge_price_impact_title3",{percent:p}),message:u("bridge_price_impact_desc3")}:m||d?{variant:"error",title:u("bridge_error_low_input_amount_title"),message:u("bridge_error_low_input_amount_description")}:l?{variant:"error",title:u("bridge_error_no_routes_found_title"),message:u("bridge_error_no_routes_found_description")}:null}),[e,m,d,l,c,s,n,u,t,i,r?.data,o])}})({fromTokenPrice:U,toTokenPrice:$,fromAmount:m,toAmount:h,selectedFromToken:_,selectedToToken:v,txData:we,lastEditedAmount:I,isTxError:Ce,isBadRequestTooLowInputAmount:be,editingTokens:L}),Ae=(0,a.useCallback)((()=>{he(xe),ge(pe),y(v),k(_),p(""),x(""),D(!1)}),[pe,_,v,xe]),Ie=(0,a.useCallback)(((e,t)=>{D(!1),R(!0);try{const s=(0,os.$)(e,Se.getSelected[t].decimals);Z(t),Se.setAmount[t](s),W(+s,t)}catch(e){js.log(e)}}),[W,Se.getSelected,Se.setAmount]),Ze=(0,a.useCallback)(((e,t)=>{e?C(Se.getTokens[t]):(Se.setTokens[t](w),T(null))}),[Se.getTokens,Se.setTokens,w]),Me=(0,a.useCallback)(((e,t)=>{Se.setSelected[t](e),Se.setTokens[t](w),T(null),R(!0),(m||h)&&z()}),[m,Se.setSelected,Se.setTokens,z,w,h]),Pe=!we||"error"===Te?.variant||!H||ve||!(m&&h),De=!H;return(0,a.useEffect)((()=>{se.length&&O(!0),!se.length&&B&&(me.refetch(),ue.refetch(),O(!1))}),[se,B,me,ue]),(0,a.useEffect)((()=>{p(""),x(""),D(!1)}),[H,q]),(0,a.useEffect)((()=>{if(we){const e=vt[I].field,{amount:t,decimals:s}=we.data[vt[I].destination],n=(0,bt.d)(t,s);+t&&Se.setAmount[e](n)}}),[we]),(0,a.useEffect)((()=>{const e=Se.getDebounce[I],t=Se.getAmount[I];e&&+t==+e&&(!+e||m&&h||e===t||(D(!1),ye().finally((()=>R(!1)))))}),[m,h,g,b,_,v,I]),(0,a.useEffect)((()=>{if(!q||!ie.length)return;const e=![fe.chainName,_e.chainName].includes(re?.byKey[q]);if(F.current||e){const e=((e,t)=>e.filter((e=>e.chainId===t)).sort(((e,t)=>+t.rawValue-+e.rawValue)))(ae,q)[0];y(e||ae[0]);const t=ne.find((e=>"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"===e.tokenId));return k(t||ne[0]),he(Ft(ae)),ge(Ft(ne)),void(F.current=!1)}if(!F.current&&!e){const e=ie.find((e=>e.tokenId===fe.id&&e.chainName.toLowerCase()===fe.chainName));y(e||ae[0]);const t=ie.find((e=>e.tokenId===_e.id&&e.chainName.toLowerCase()===_e.chainName));k(t||ne[0]),he(Ft(e?.evm?ae:ne)),ge(Ft(t?.evm?ae:ne))}}),[le,ae,ne,q]),(0,a.useEffect)((()=>{if(S){const e=((e,t,s)=>"string"!=typeof t?e:e.filter((e=>undefined!==e.tokenId&&(e.name.toLowerCase().includes(t.toLowerCase().trim())||e.symbol.toLowerCase().includes(t.toLowerCase().trim())))))(w,S.value);Se.setTokens[S.id](e)}}),[S]),(0,a.useEffect)((()=>{ke&&!ve&&we&&D(!0)}),[ve,ke,we]),(0,n.jsxs)(Jt,{children:[(0,n.jsx)(c.PageTitle,{left:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.Typography,{variant:"headingM",children:e("header_bridge")}),(0,n.jsx)(c.StatusTag,{variant:"complete",icon:ss.BDt,size:"xs",tooltip:(0,n.jsxs)(n.Fragment,{children:["You earn deBridge points for every bridge."," ",(0,n.jsx)("a",{target:"blank",href:"https://x.com/solflare_wallet/status/1777692032330313977",style:{color:"white",textDecoration:"underline"},children:"Learn more"})]}),children:"x1.1 boost"})]}),textAlign:"left",right:(0,n.jsx)(c.CircleTimer,{tooltipContent:t=>(0,n.jsx)("span",{children:e("swap_price_will_update_timer",{remaining:t})}),enabled:P,countdown:15,onTimeOut:z,onClick:z})}),(0,n.jsxs)(c.PageContent,{overflow:!0,children:[(0,n.jsx)(c.Swap,{children:(0,n.jsxs)(c.SwapAssets,{children:[(0,n.jsx)(c.SwapInput,{emptyTokenSearch:0===pe.length?e("search_no_results_found"):"",readOnly:De,placeholder:"0",amount:m,onAmountChange:e=>{Ie(e.target.value,"from"),x("")},isLoading:de,isLoadingAmount:"to"===I&&!!h&&(ve||Ce||L),id:"fromDefault",onSearchChange:e=>T({id:"from",value:e.target.value}),selectedToken:_,onSelectedTokenChange:e=>Me(e,"from"),onOpenChange:e=>{Ze(e,"from")},onBlur:()=>{p((e=>""===e?"":(0,is.iP)(e,_.decimals)))},label:(0,n.jsxs)(c.Label,{htmlFor:"fromDefault",children:[e("swap_from")," ",_.chainName&&(0,n.jsx)(c.NetworkTag,{variant:Ut(_.chainName),children:_.chainName})]}),right:H?(0,n.jsx)(c.RightLabel,{onClick:_.native||!+_.amount?void 0:()=>{R(!0),Z("from"),p(_.rawAmount),z()},children:`${e(_.native?"table_balance":"swap_max")}: ${zt(_.rawAmount)}`}):null,tokens:pe,unverifiedTooltip:e("unverified_token_tooltip")}),(0,n.jsx)(c.SwapDivider,{onClick:Ae,disabled:ve||!H}),(0,n.jsx)(c.SwapInput,{emptyTokenSearch:0===xe.length?e("search_no_results_found"):"",readOnly:De,placeholder:"0",amount:h,id:"toDefault",onAmountChange:e=>{Ie(e.target.value,"to"),p("")},isLoading:de,isLoadingAmount:"from"===I&&!!m&&(ve||Ce||L),onSearchChange:e=>T({id:"to",value:e.target.value}),onOpenChange:e=>{Ze(e,"to")},onBlur:()=>{x((e=>""===e?"":(0,is.iP)(e,v.decimals)))},selectedToken:v||{},onSelectedTokenChange:e=>Me(e,"to"),label:(0,n.jsxs)(c.Label,{htmlFor:"toDefault",children:[e("swap_to")," ",v.chainName&&(0,n.jsx)(c.NetworkTag,{variant:Ut(v.chainName),children:v.chainName})]}),right:(0,n.jsx)(c.RightLabel,{htmlFor:"toDefault",children:`${e("table_balance")}: ${zt(v.rawAmount)}`}),tokens:xe,unverifiedTooltip:e("unverified_token_tooltip")})]})}),(0,n.jsx)(gs,{txData:we?.data,fromTokenPrice:U,toTokenPrice:$,solanaBalance:ce||"0",isRateWarning:"warning"===Te?.variant,fromAmount:m,toAmount:h,fromToken:_,toToken:v,isLoading:ve,estimatedTime:we?.data.meta.order.approximateFulfillmentDelay??0})]}),(0,n.jsxs)(c.FooterActions,{children:[Te&&(0,n.jsx)(c.Alert,{...Te}),H&&!V?(0,n.jsx)(c.Button,{onClick:()=>_.evm?(async()=>{if(D(!1),_.chainId!==q){const e=ae.find((e=>e.chainId===_.chainId&&e.native));try{await J(_,{decimals:e?.decimals||0,name:e?.name||"",symbol:e?.symbol||""},_.chainId)}catch(e){return void z()}finally{X(!0)}}if(!we?.data.meta.txs)return;const e=(({selectedToToken:e,selectedFromToken:t,fromAmount:s,toAmount:n,mmAddress:a,solAddress:o})=>({mmAddress:a,solAddress:o,fromAmount:s,fromTicker:t.symbol,toTicker:e.symbol,toAmount:n,fromCoingeckoId:t.coingeckoId||"",toCoingeckoId:e.coingeckoId||"",fromChainLogo:t.adornment,toChainLogo:e.adornment}))({solAddress:t,mmAddress:H,selectedFromToken:_,selectedToToken:v,fromAmount:m,toAmount:h});l(e),r(!0),u($t({chainId:q,selectedFromToken:_,selectedToToken:v,txData:we,solAddress:t,mmAddress:H})),Q({txData:we,onEnd:()=>{X(!1),p(""),x(""),me.refetch()},onRejection:e=>{js.info("%cTransaction Rejected","color: purple; font-weight: bold;"),e||z(),X(!1)}})})():(async()=>{if(!we)return;const a=ns.VersionedTransaction.deserialize((0,as.toByteArray)(we.data.meta.txs[0].data));D(!1),await s({title:e("header_bridge"),txBuilder:async e=>({transaction:e}),builderParams:a,commitment:"confirmed",onConfirm:({status:e})=>{"fail"===e&&(js.info("%cTransaction Failed","color: red; font-weight: bold;"),p(""),x("")),"success"===e&&(js.info("%cTransaction Confirm Success","color: lime; font-weight: bold;"),p(""),x(""),ue.refetch())},onSign:({status:e})=>{"rejected"===e&&(js.info("%cTransaction Rejected","color: purple; font-weight: bold;"),z())},onBroadcast:({status:e,signature:s})=>{"success"===e&&s&&(js.info("%cTransaction Broadcast Success","color: teal; font-weight: bold;"),te({...$t({chainId:q,selectedFromToken:_,selectedToToken:v,txData:we,solAddress:t,mmAddress:H}),srcTransactionHash:s,state:Bt.Created},{showTransactionModal:!0}))},confirmDialog:(0,n.jsx)(hs,{selectedFromToken:_,selectedToToken:v,fromAmount:m,toAmount:h,mmAddress:H,solAddress:t})})})(),disabled:Pe,children:(0,n.jsx)(c.Flex,{children:e("action_review")})}):(0,n.jsx)(c.Button,{onClick:G,disabled:!!H||V,children:(0,n.jsxs)(c.Flex,{children:[e("bridge_main_button_connect_metamask"),V&&(0,n.jsx)(c.Spinner,{})]})})]}),(0,n.jsx)(ps,{showModal:o,onClose:()=>r(!1),footer:i?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.Paragraph,{textAlign:"center",children:"Waiting for confirmation"}),(0,n.jsx)(c.Spinner,{size:"s"})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.Paragraph,{textAlign:"center",children:Wt(d,ee)}),!!ee&&(0,n.jsx)(c.Spinner,{size:"s"})]})})]})},fs=()=>{},_s=()=>{const{t:e}=(0,A.$)();return(0,n.jsxs)(Jt,{children:[(0,n.jsx)(c.PageTitle,{left:e("header_bridge"),textAlign:"left"}),(0,n.jsx)(c.PageContent,{overflow:!0,children:(0,n.jsx)(c.Swap,{children:(0,n.jsxs)(c.SwapAssets,{children:[(0,n.jsx)(c.SwapInput,{isLoading:!0,placeholder:"0.00",id:"fromDefault",selectedToken:{},onSelectedTokenChange:fs,label:(0,n.jsx)(c.Label,{htmlFor:"fromDefault",children:e("from_swap")}),right:(0,n.jsx)(c.RightLabel,{children:e("swap_max")}),tokens:[]}),(0,n.jsx)(c.SwapDivider,{onClick:fs,disabled:!0}),(0,n.jsx)(c.SwapInput,{isLoading:!0,placeholder:"0.00",id:"fromDefault",selectedToken:{},onSelectedTokenChange:fs,label:(0,n.jsx)(c.Label,{htmlFor:"fromDefault",children:e("to_swap")}),right:(0,n.jsx)(c.RightLabel,{children:e("table_balance")}),tokens:[]})]})})}),(0,n.jsxs)(c.FooterActions,{children:[(0,n.jsx)(c.Alert,{message:e("bridge_mainnet_alert_description"),title:e("bridge_mainnet_alert_header"),variant:"info"}),(0,n.jsx)(c.Button,{disabled:!0,children:e("action_review")})]})]})},ys=(0,Qt.Z)("div")((({theme:e})=>({display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",gap:e.spacing(3)})));var vs=s("../../libs/shared/dist/modals/index.js");const ks=({onNext:e,onClose:t})=>{const{t:o}=(0,A.$)(),[i,r]=(0,a.useState)(null);return(0,a.useEffect)((()=>{(async()=>{const e=await s.e("web_src_features_bridge_assets_tutorial-01-step_json").then(s.t.bind(s,"../web/src/features/bridge/assets/tutorial-01-step.json",19));r(e)})()}),[]),(0,n.jsx)(c.WebTutorial,{modal:!0,title:o("bridge_tutorial_title_1"),illustration:i?(0,n.jsx)(wt.Z,{loop:!0,play:!0,animationData:i}):(0,n.jsx)("div",{}),description:o("bridge_tutorial_desc_1"),nextButton:{onClick:e,title:o("action_continue")},prevButton:{onClick:t,title:o("action_close")}})},ws=({onConnected:e,onBack:t})=>{const{metamaskAccount:o,connectToMetaMask:i,isMetamaskConnectionLoading:r}=ms(),{t:l}=(0,A.$)(),[d,u]=(0,a.useState)(!1),[m,p]=(0,a.useState)(null);return(0,a.useEffect)((()=>{(async()=>{const e=await s.e("web_src_features_bridge_assets_tutorial-02-step_json").then(s.t.bind(s,"../web/src/features/bridge/assets/tutorial-02-step.json",19));p(e)})()}),[]),(0,a.useEffect)((()=>{o&&d&&e()}),[o,d,e]),(0,n.jsx)(c.WebTutorial,{modal:!0,title:l("bridge_tutorial_title_2"),illustration:m?(0,n.jsx)(wt.Z,{loop:!0,play:!0,animationData:m}):(0,n.jsx)("div",{}),description:l("bridge_tutorial_desc_2"),nextButton:o?{onClick:e,title:l("action_continue")}:{onClick:async()=>{u(!0),await i()},title:"Connect MetaMask",disabled:r,isLoading:r},prevButton:{onClick:t,title:"Back",disabled:r}})};var Cs;!function(e){e[e.First=0]="First",e[e.Connect=1]="Connect"}(Cs||(Cs={}));const Ss=()=>{const[e,t]=(0,a.useState)(Cs.First),[s,o]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{Se.Z.mmBridgeTutorial.get().then((async e=>{e||(o(!0),await Se.Z.mmBridgeTutorial.set(+(new Date).getTime()))}))}),[]),s?(0,n.jsxs)(vs.I,{onClose:()=>o(!1),children:[e===Cs.First&&(0,n.jsx)(ks,{onNext:()=>t(Cs.Connect),onClose:()=>o(!1)}),e===Cs.Connect&&(0,n.jsx)(ws,{onConnected:async()=>{o(!1)},onBack:()=>t(Cs.First)})]}):null},Ts=()=>{const e=(0,_e.LN)().cluster===xt.EE.mainnet,{publicKey:t}=(0,Y.rT)();return Ve.p1?(0,n.jsx)(B.Fg,{to:U.Zg.MAIN,replace:!0}):(0,n.jsx)(Zt,{walletPubkey:t,children:(0,n.jsx)(Tt,{children:(0,n.jsx)(qt,{walletPubkey:t,children:(0,n.jsxs)(ys,{children:[(0,n.jsx)(Ss,{}),e?(0,n.jsx)(bs,{}):(0,n.jsx)(_s,{}),(0,n.jsx)(ts,{})]})})})})};var As=s("../../../node_modules/react-i18next/dist/es/Trans.js"),Is=s("../../../node_modules/@mui/material/Button/Button.js");const Zs=()=>{const{t:e}=(0,A.$)(),{address:t,page:s}=(0,Ce.nc)(["address","page"]),o=(0,B.s0)(),i=(0,B.TH)(),{publicKey:r,accountName:l}=(0,Y.rT)(),{accounts:d}=(0,Y.Rg)(),{selectAccountByPublicKey:c}=(0,Y.bg)(),[u,m]=(0,a.useState)(!1),p=s?`/${s}${i.search}`:`/portfolio${i.search}`;if(r===t)return(0,n.jsx)(B.Fg,{to:p,replace:!0});const h=d.find((e=>e.publicKey===t));return(0,n.jsx)(I.u_,{open:!0,onClose:()=>{},showCloseButton:!1,title:e("deeplink_change_wallet_title"),children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)($e.Z,{children:(0,n.jsxs)($e.Z,{mt:2,children:[(0,n.jsx)(z.Z,{color:"text.secondary",variant:"subtitle1",children:(0,n.jsx)(As.c,{i18nKey:"deeplink_change_wallet_description",components:{strong:(0,n.jsx)(z.Z,{fontWeight:"bold",display:"inline"})},values:{from:l??"",to:h?.name??(0,P.r)(t)}})}),(0,n.jsxs)($e.Z,{mt:5,display:"flex",flexDirection:"column",children:[(0,n.jsx)(Is.Z,{disabled:u||!h?.publicKey,variant:"contained",color:"primary",onClick:()=>{t&&h?.publicKey&&(m(!0),c(t),o(p))},children:e("action_continue")}),(0,n.jsx)($e.Z,{mt:1}),(0,n.jsx)(Is.Z,{disabled:u,color:"primary",variant:"text",onClick:()=>{m(!0),o(U.Zg.MAIN,{replace:!0})},children:e("action_cancel")})]})]})})})})};var Ms=s("../../../node_modules/console-browserify/index.js");const Ps=()=>{const e=(0,B.TH)(),t=(0,B.s0)();return(0,a.useEffect)((()=>{(async()=>{try{const t=Ze().parse(e.search?.substring(1)||"");if(!t.url)throw new Error("Invalid URL");const s=decodeURIComponent(t.url),n=new URL(s);if(!n.host)throw new Error("Invalid URL");if("http:"!==n.protocol&&"https:"!==n.protocol)throw new Error("Invalid URL");try{if(t.campaign_id||t.notification_id){const e=await Se.Z.solflarenetwork.get();await(0,Me.oQ)({campaign_id:t.campaign_id,notification_id:t.notification_id,user_id:(0,Pe.A)(e)})}}catch(e){Ms.log(e)}window.location.href=s}catch(e){t(U.Zg.MAIN,{replace:!0})}})()}),[]),null},Ds=()=>{const{t:e}=(0,A.$)(),{selectAccountByPublicKey:t}=(0,Y.bg)(),s=(0,B.s0)(),[o,i]=a.useState(null),{setWmBackgroundLocation:r}=(0,h.cj)();return(0,a.useEffect)((()=>{(async()=>{const e=new URLSearchParams(window.location.search),n=e.get("mmpubkey")??"",a=e.get("path");try{await Ae.c.connect()}catch(e){return void i(e.message)}await t(n,!1),a?(a.includes("wallet-management")&&r(U.Zg.MAIN),s(a)):s(U.Zg.MAIN)})()}),[]),(0,n.jsx)(c.Flex,{justifyContent:"center",children:o&&(0,n.jsx)(c.Alert,{variant:"error",title:e("error_something_wrong"),message:o})})};var Bs=s("../../libs/shared/dist/features/nfts/context/index.js"),Es=s("../../libs/shared/dist/features/nfts/api/nfts.js"),Os=s("../../libs/shared/dist/features/nfts/hooks/useAddressBookNft.js"),Ls=s("../../libs/shared/dist/features/nfts/hooks/useNftRouting.js"),Ns=s("../../libs/shared/dist/features/nfts/utils/transferUtils.js");const Rs=()=>{const{t:e}=(0,A.$)(),{setIsTransferInProgress:t,setIsSendTransfer:s,setNftsToTransfer:o,nftsToTransfer:i}=(0,Bs.$T)(),{resetState:r}=(0,Ls.p)(),l=(0,Ns.um)(i),[d,u]=(0,a.useState)(!1),{submitBurn:m}=(0,Os.M)({nfts:i??[]}),p=e=>{switch(e.group){case"scam":return"Blocklist";case"suspicious":return"Unverified";default:return e.subname}};return(0,n.jsx)(vs.V,{title:"Burn NFT"+(i.length>1?"s":""),textAlign:"left",onClose:()=>{t(!1),o([]),s(!0),r()},footer:(0,n.jsxs)(n.Fragment,{children:[!l&&(0,n.jsx)(c.Alert,{variant:"info",title:e("nft_burn_blocklist_alert_title"),message:e("nft_burn_blocklist_alert_message")}),l&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.Alert,{variant:"warning",title:e("nft_burn_unverified_alert_title"),message:e("nft_burn_unverified_alert_message")}),(0,n.jsx)(c.Control,{id:"warning-check",label:e("confirm_burn_checkbox"),action:(0,n.jsx)(c.Checkbox,{checked:d,onChange:e=>u(!!e.target.checked)})})]}),(0,n.jsx)(c.Button,{onClick:m,type:"submit",disabled:l&&!d,children:e("action_burn")})]}),children:(0,n.jsx)(n.Fragment,{children:i.map((e=>(0,n.jsx)(c.NftListItemSend,{image:e.image,id:e.mint,title:e.name,value:p(e),group:e.group,isStandardAmount:1===e.amount||Number.isNaN(e.amount),amount:!isNaN(e.amount)&&e.amount?(0,is.iP)(e.amount,0):void 0,onCancel:()=>{const s=i.filter((t=>t.mint!==e.mint));if(0===s.length)return t(!1),o([]),void r();o(s)}},e.mint)))})})};var Fs=s("../../libs/shared/dist/features/receive/modals/index.js"),Us=s("../../libs/shared/dist/features/nfts/constants.js"),$s=s("../../../node_modules/console-browserify/index.js");const Ws=({address:e})=>{const{setReceiveModalOpen:t,receiveModalOpen:s}=(0,Bs.$T)(),{t:a}=(0,A.$)();return s?(0,n.jsx)(Fs.Z,{onClose:()=>t(!1),address:e,tRoute:"/receiveCollectibleRoute",tSource:"emptyGallery"}):(0,n.jsxs)("div",{children:[(0,n.jsx)(c.PageTitle,{center:"NFTs",textAlign:"left"}),(0,n.jsxs)(c.PageContent,{children:[(0,n.jsx)("div",{style:{width:363,height:156,position:"relative",display:"flex",alignSelf:"center"},children:(0,n.jsx)("img",{style:{position:"absolute",top:0,left:0,width:"100%"},src:Us.vD,alt:"NFT"})}),(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:24},children:[(0,n.jsxs)(c.Paragraph,{children:[" ",a("nfts_you_dont_have_nfts")]}),(0,n.jsx)(c.Button,{onClick:()=>{$s.log("asdadasd"),t(!0)},variant:"secondary",size:"m",children:"Receive"})]})]})]})};var Ks=s("../../../node_modules/@fortawesome/react-fontawesome/index.es.js"),zs=s("../../../node_modules/@mui/icons-material/esm/CheckCircleRounded.js"),Hs=s("../../../node_modules/@mui/material/Card/Card.js"),Vs=s("../../../node_modules/clsx/dist/clsx.m.js"),Gs=s("../../libs/shared/dist/hooks/useResizedImage.js");const qs=(0,Qt.Z)("div")((({variant:e})=>({position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:1,padding:2,borderRadius:8,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(50px)",flexDirection:"column",textAlign:"center",overflow:"hidden",..."error"===e&&{background:"linear-gradient(0deg, rgba(218, 73, 63, 0.1), rgba(218, 73, 63, 0.1))"},..."warning"===e&&{background:"linear-gradient(0deg, rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.05)),linear-gradient(0deg, rgba(237, 191, 56, 0.1), rgba(237, 191, 56, 0.1))"}}))),Ys=(0,Qt.Z)("div")({marginBottom:2}),Qs=(0,Qt.Z)("div")({marginBottom:16}),Js=({title:e,icon:t,variant:s})=>(0,n.jsxs)(qs,{variant:s,children:[(0,n.jsx)(Qs,{children:t}),e&&(0,n.jsx)(Ys,{children:(0,n.jsx)(z.Z,{variant:"h2",children:e})})]}),Xs=(0,Ke.Z)((e=>({card:{position:"relative",padding:"16px",paddingBottom:"24px",cursor:"pointer",height:"100%",background:"rgba(0, 0, 0, 0.25) !important",backdropFilter:"blur(50px)",minHeight:317,"&:hover $circle":{opacity:1},"&:hover $gradient":{opacity:1}},button:{color:e.palette.error.main,marginTop:24,fontSize:16},buttonSusp:{color:"#EDBF38"},gradientShow:{opacity:1},gradient:{borderRadius:"8px",zIndex:1,content:"''",display:"block",position:"absolute",top:"3px",left:"3px",width:100,height:100,opacity:0,cursor:"pointer",transition:"opacity 0.3s ease",background:"radial-gradient(100% 100% at 0% 0%, rgba(0, 0, 0, 0.25) 0%, rgba(0, 0, 0, 0) 100%)",mixBlendMode:"multiply"},circle:{cursor:"pointer",position:"absolute",top:10,left:10,width:20,height:20,opacity:0,borderRadius:"50%",border:"1px solid white",transition:"opacity 0.3s ease",zIndex:2,"&:hover":{opacity:.3}},circleSelectMode:{opacity:1},circleChecked:{position:"absolute",top:7,left:7,zIndex:3,color:"white",cursor:"pointer"}}))),en=({nft:e,redirectToSingle:t=!1,rawData:s})=>{const a=Xs(),{selectedIds:o,toggleSelected:i,isSelectMode:r}=(0,Bs.$T)(),{onNftClick:l}=(0,Ls.p)(),d="suspicious"===e.group;return(0,n.jsx)(et.ZP,{item:!0,lg:3,md:4,sm:6,xs:12,children:(0,n.jsxs)(Hs.Z,{elevation:2,className:a.card,onClick:()=>{r?i(e,e.collectionCount??"",s):l({group:e.group||"",id:e.id,redirectToSingle:t})},children:[(0,n.jsx)($e.Z,{className:(0,Vs.Z)(a.gradient,r&&a.gradientShow)}),(0,n.jsx)($e.Z,{onClick:t=>{t.stopPropagation(),i(e,e.collectionCount??"",s)},className:(0,Vs.Z)(a.circle,r&&a.circleSelectMode)}),o&&o.has(e.id)&&(0,n.jsx)($e.Z,{className:a.circleChecked,children:(0,n.jsx)(zs.Z,{sx:{fontSize:26}})}),(0,n.jsx)(Js,{variant:d?"warning":"error",icon:(0,n.jsx)(Ks.G,{color:d?"#EDBF38":"#DA493F",fontSize:40,icon:ss.xHz}),title:e.title})]})})},tn=(0,Ke.Z)((()=>({card:{position:"relative",padding:"16px",cursor:"pointer"},selectable:{"&:hover $circle":{opacity:1},"&:hover $gradient":{opacity:1}},image:{height:0,borderRadius:"8px",paddingTop:"100%",position:"relative",margin:"-13px -13px 0px",cursor:"pointer"},gradient:{borderRadius:"8px",zIndex:1,content:"''",display:"block",position:"absolute",top:"3px",left:"3px",width:100,height:100,opacity:0,cursor:"pointer",transition:"opacity 0.3s ease",background:"radial-gradient(100% 100% at 0% 0%, rgba(0, 0, 0, 0.25) 0%, rgba(0, 0, 0, 0) 100%)",mixBlendMode:"multiply"},gradientShow:{opacity:1},circle:{cursor:"pointer",position:"absolute",top:10,left:10,width:20,height:20,opacity:0,borderRadius:"50%",border:"1px solid white",transition:"opacity 0.3s ease",zIndex:2,"&:hover":{opacity:.3}},circleSelectMode:{opacity:1},circleChecked:{position:"absolute",top:7,left:7,zIndex:3,color:"white",cursor:"pointer"},nftTopRightSlot:{position:"absolute",top:0,right:0,zIndex:1,padding:8},nftPill:{background:"#00000080",padding:"4px 8px",borderRadius:8,display:"flex",gap:4}}))),sn=({nft:e,redirectToSingle:t=!1,rawData:s})=>{const{id:a}=(0,B.UO)(),o=a,{url:i}=(0,Gs.j)(e.image,{width:300}),r=tn(),{selectedIds:l,toggleSelected:d,isSelectMode:u}=(0,Bs.$T)(),{onNftClick:m}=(0,Ls.p)();return"scam"!==e.group&&"suspicious"!==e.group||o?(0,n.jsx)(et.ZP,{item:!0,lg:3,md:4,sm:6,xs:12,children:(0,n.jsxs)(Hs.Z,{elevation:2,className:(0,Vs.Z)(r.card,!e.disabled&&r.selectable),onClick:()=>{u?!e.disabled&&d(e,e.collectionSelectableCount??"",s):m({group:e.group||"",id:e.id,redirectToSingle:t})},children:[(0,n.jsx)($e.Z,{className:(0,Vs.Z)(r.gradient,u&&!e.disabled&&r.gradientShow)}),e.gridViewListedPillText&&(0,n.jsx)("div",{className:r.nftTopRightSlot,children:(0,n.jsx)("div",{className:r.nftPill,children:(0,n.jsx)(c.Typography,{variant:"textM",children:e.gridViewListedPillText})})}),!e.disabled&&(0,n.jsx)($e.Z,{onClick:t=>{t.stopPropagation(),d(e,e.collectionSelectableCount??"",s)},className:(0,Vs.Z)(r.circle,u&&!e.disabled&&r.circleSelectMode)}),l&&l.has(e.id)&&(0,n.jsx)($e.Z,{className:r.circleChecked,children:(0,n.jsx)(zs.Z,{sx:{fontSize:26}})}),(0,n.jsxs)($e.Z,{children:[(0,n.jsx)("div",{className:r.image,children:"scam"===o?(0,n.jsx)(Js,{variant:"error",icon:(0,n.jsx)(Ks.G,{color:"#DA493F",fontSize:40,icon:ss.xHz})}):(0,n.jsx)(c.ImageResolver,{style:{width:"100%",height:"100%",position:"absolute",objectFit:"cover",borderRadius:"8px",top:"0",left:"0"},src:i,fallbackImage:e.fallbackImage,errorFallback:e.errorFallbackImage})}),(0,n.jsxs)($e.Z,{display:"flex",alignItems:"center",flex:1,gap:"8px",justifyContent:"space-between",height:"40px",marginTop:1.5,children:[(0,n.jsxs)($e.Z,{overflow:"hidden",children:[(0,n.jsx)(z.Z,{noWrap:!0,sx:{fontWeight:400,fontSize:16,lineHeight:"20px",marginBottom:"2px"},children:e.title}),(0,n.jsxs)($e.Z,{display:"flex",children:[e.value&&(0,n.jsx)(z.Z,{sx:{fontSize:12,fontWeight:400,marginRight:"8px"},color:"textSecondary",children:e.value}),e.tagValues?.percentage&&(0,n.jsx)(c.BalanceChangeTag,{size:"xs",variant:(0,c.getBalanceChangeTagVariant)(e.tagValues?.variant),children:e.tagValues?.percentage})]})]}),(0,n.jsxs)($e.Z,{textAlign:"right",children:[(0,n.jsx)(z.Z,{children:e.amount}),e.collectionCount?.length&&(0,n.jsxs)(z.Z,{color:"textSecondary",sx:{fontSize:12,fontWeight:400},children:[e.collectionCount," items"]})]})]})]})]})}):(0,n.jsx)(en,{nft:e,redirectToSingle:t,rawData:s})},nn=(0,Ke.Z)((()=>({card:{position:"relative",padding:"16px",height:326},imageSkeleton:{position:"absolute",top:0,left:0,height:380,width:"100%"}}))),an=()=>{const e=nn();return(0,n.jsx)(et.ZP,{container:!0,spacing:4,children:[...Array(12)].map(((t,s)=>(0,n.jsx)(et.ZP,{item:!0,lg:3,md:4,sm:6,xs:12,children:(0,n.jsx)(Hs.Z,{elevation:2,className:e.card})},s)))})},on=({nfts:e,isLoading:t,redirectToSingle:s=!1,rawData:a})=>t?(0,n.jsx)(an,{}):(0,n.jsx)(et.ZP,{container:!0,spacing:4,children:e.map((e=>(0,n.jsx)(sn,{rawData:a,redirectToSingle:s,nft:e},e.id)))});var rn=s("../../../node_modules/@mui/material/Chip/Chip.js"),ln=s("../../libs/shared/dist/features/nfts/hooks/useNftData.js"),dn=s("../../../node_modules/@mui/material/IconButton/IconButton.js"),cn=s("../../../node_modules/@mui/material/Menu/Menu.js"),un=s("../../../node_modules/@mui/material/MenuItem/MenuItem.js"),mn=s("../../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs");const pn=({nfts:e,rawData:t})=>{const{t:s}=(0,A.$)(),{id:o}=(0,B.UO)(),i=o,{enqueueSnackbar:r}=(0,S.Ds)(),l=(0,mn.NL)(),{isLoading:d}=(0,ln.c)(),{isSelectMode:c,isVisibleContextSelected:u,toggleVisibleContext:m,isJunkHidden:p,setIsJunkHidden:h,setUserJunkPreference:x,nftsToTransfer:g,setIsTransferInProgress:j,onMarkAsSpamClick:b,selectAll:f,selectedIdsCount:_,markedAsSpam:y}=(0,Bs.$T)(),{goToGallery:v}=(0,Ls.p)(),[k,w]=(0,a.useState)(null),C=!(_===e.length);return(0,n.jsxs)($e.Z,{display:"flex",alignItems:"center",children:[(0,n.jsx)($e.Z,{width:10}),(0,n.jsx)($e.Z,{disabled:d,width:40,component:dn.Z,onClick:e=>w(e.currentTarget),children:(0,n.jsx)(z.Z,{color:"textPrimary",children:(0,n.jsx)(Ks.G,{icon:O.iV1})})}),(0,n.jsxs)(cn.Z,{disableScrollLock:!0,open:Boolean(k),anchorEl:k,onClose:()=>w(null),anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[C&&(0,n.jsx)(un.Z,{onClick:()=>{f(e.filter((e=>!e.disabled)),t),w(null)},children:s("nfts_action_select_all")}),u&&(0,n.jsx)(un.Z,{onClick:()=>{m(e.filter((e=>!e.disabled)),t),w(null)},children:s("nfts_action_unselect_all")}),c&&(0,Ns.tX)(g)&&(0,n.jsx)(un.Z,{onClick:()=>{j(!0),w(null)},children:s("action_send")}),null!==p&&!c&&!i&&(0,n.jsx)(un.Z,{onClick:async()=>{await Se.Z.userJunkPreferenceIsHidden.set(!p),h((e=>!e)),x((e=>!e)),w(null)},children:s(p?"nfts_action_show_blocklist":"nfts_action_hide_blocklist")}),c&&(0,Ns.uk)(g)&&(0,n.jsx)($e.Z,{children:(0,n.jsx)(un.Z,{onClick:()=>{(async()=>{const e=(0,Ns.eA)(y,g),t=(0,Ns.Xm)(y,e);v(),await b(e,t,"legitimate"),l.invalidateQueries(["nfts"]),r(s("nfts_marked_as_verified"),{variant:"info",autoHideDuration:1e3})})(),w(null)},children:(0,n.jsx)(z.Z,{children:s("nfts_action_mark_as_verified")})})}),c&&!(0,Ns.vX)(g)&&(0,n.jsx)($e.Z,{children:(0,n.jsx)(un.Z,{onClick:()=>{(async()=>{const e=(0,Ns.B1)(y,g),t=(0,Ns.Iq)(y,e);v(),await b(e,t,"suspicious"),l.invalidateQueries(["nfts"]),r(s("nfts_marked_as_unverified"),{variant:"info",autoHideDuration:1e3})})(),w(null)},children:(0,n.jsx)(z.Z,{children:s("nfts_action_mark_as_unverified")})})})]})]})},hn=(0,Ke.Z)({listItem:{display:"flex",alignItems:"center",gap:"4px",marginBottom:"8px","> p":{width:20}}}),xn=()=>{const e=hn(),{isLoading:t}=(0,ln.c)(),{sortedKey:s,handleSortClick:o}=(0,Bs.$T)(),[i,r]=(0,a.useState)(null);return(0,n.jsxs)(I.kC,{column:!0,gap:3,children:[(0,n.jsx)($e.Z,{disabled:t,width:40,component:dn.Z,onClick:e=>r(e.currentTarget),children:(0,n.jsx)(z.Z,{color:"textPrimary",children:(0,n.jsx)(Ks.G,{icon:O.pw9})})}),(0,n.jsx)(cn.Z,{disableScrollLock:!0,open:Boolean(i),anchorEl:i,onClose:()=>r(null),anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:(0,n.jsxs)($e.Z,{children:[(0,n.jsx)(z.Z,{color:"textSecondary",fontSize:"12px",marginLeft:"15px",marginBottom:"12px",children:"Sort By"}),(0,n.jsxs)(un.Z,{className:e.listItem,onClick:()=>{o(Us.dY.TOTAL_VALUE),r(null)},children:[(0,n.jsx)(z.Z,{width:20,color:s===Us.dY.TOTAL_VALUE?"primary":"texSecondary",children:(0,n.jsx)(Ks.G,{icon:O.egO})}),(0,n.jsx)(z.Z,{children:"Highest total value"})]}),(0,n.jsxs)(un.Z,{className:e.listItem,onClick:()=>{o(Us.dY.FLOOR_PRICE),r(null)},children:[(0,n.jsx)(z.Z,{width:20,color:s===Us.dY.FLOOR_PRICE?"primary":"texSecondary",children:(0,n.jsx)(Ks.G,{icon:O.tho})}),(0,n.jsx)(z.Z,{children:"Highest floor price"})]}),(0,n.jsxs)(un.Z,{className:e.listItem,onClick:()=>{o(Us.dY.BEST_PERFORMANCE),r(null)},children:[(0,n.jsx)(z.Z,{width:20,color:s===Us.dY.BEST_PERFORMANCE?"primary":"texSecondary",children:(0,n.jsx)(Ks.G,{icon:O.jGC})}),(0,n.jsx)(z.Z,{children:"Best performance"})]}),(0,n.jsxs)(un.Z,{className:e.listItem,onClick:()=>{o(Us.dY.ALPHABETICALLY),r(null)},children:[(0,n.jsx)(z.Z,{width:20,color:s===Us.dY.ALPHABETICALLY?"primary":"texSecondary",children:(0,n.jsx)(Ks.G,{icon:O.bDz})}),(0,n.jsx)(z.Z,{children:"Alphabetically"})]})]})})]})},gn=({heroUi:e,heroUiSol:t,variant:s})=>(0,n.jsxs)($e.Z,{display:"flex",alignItems:"center",children:[(0,n.jsx)(te.DR,{configKey:"nftFloorPrice",fiat:(0,n.jsx)(te.sp,{value:e?.price||"0"}),token:(0,n.jsx)(te.EI,{value:t?.price||"0"})}),0!=+e?.percentageChange&&(0,n.jsx)($e.Z,{sx:{marginLeft:1},children:(0,n.jsx)(c.BalanceChangeTag,{size:"xs",variant:(0,c.getBalanceChangeTagVariant)(s),children:(0,n.jsx)(te.DR,{configKey:"nftFloorPrice",fiat:(0,n.jsx)(te.Tf,{value:e?.percentageChange||"0",showSign:!0}),token:(0,n.jsx)(te.Tf,{value:t?.percentageChange||"0",showSign:!0})})})})]}),jn=(0,Ke.Z)({customChip:{backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:8},searchBar:{width:0,opacity:0,height:"40px",pointerEvents:"none",marginRight:"5px"},searchBarOpen:{width:"100%",opacity:1,pointerEvents:"all"}}),bn=()=>{const e=jn(),{setSearchTerm:t,searchTerm:s}=(0,Bs.$T)(),[o,i]=(0,a.useState)(!1),r=a.useRef(null);return(0,n.jsxs)($e.Z,{display:"flex",alignItems:"center",justifyContent:"center",children:[(0,n.jsx)(c.TextField,{className:(0,Vs.Z)(e.searchBar,o&&e.searchBarOpen),value:s,onChange:e=>t(e.target.value),placeholder:"Search...",ref:r}),(0,n.jsx)(dn.Z,{sx:{fontSize:16,color:"white"},onClick:()=>{o&&t(""),i(!o),r.current&&r.current.focus()},children:o?(0,n.jsx)(Ks.G,{icon:O.YIN}):(0,n.jsx)(Ks.G,{icon:O.wn1})})]})},fn=(0,Ke.Z)({customChip:{backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:8}}),_n=({heroUi:e,heroUiSol:t,nfts:s,rawData:a})=>{const{publicKey:o}=(0,Y.rT)(),{t:i}=(0,A.$)(),r=fn(),{isLoading:l,isError:d}=(0,ln.c)(),{isSelectMode:u,selectedIdsCount:m,nftsToTransfer:p,toggleVisibleContext:h,setReceiveModalOpen:x,setIsTransferInProgress:g,setIsSendTransfer:j}=(0,Bs.$T)(),b="fiat"===(0,N.__)("nftFloorPrice")?e?.variant:t?.variant,f=(0,Ns.tX)(p);return(0,n.jsx)(I.kC,{column:!0,gap:3,children:(0,n.jsx)(I.mr,{useSmallerMiddleBp:!0,actions:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(bn,{}),(0,n.jsx)(xn,{}),m>0&&(0,n.jsx)(rn.Z,{className:r.customChip,label:`${m} Selected`,onDelete:()=>h(s||[],a)}),u?(0,n.jsx)(c.Button,{onClick:()=>{g(!0),j(!f)},variant:"secondary",children:i(f?"action_burn":"action_send")}):(0,n.jsx)(c.Button,{onClick:()=>x(!0),variant:"secondary",children:i("action_receive")}),(0,n.jsx)(pn,{nfts:s||[],rawData:a})]}),mainHeaderItem:(0,n.jsx)(I.eH,{hiddenBalance:l||d,avatar:(0,n.jsx)(se.y,{publicKey:o}),label:"Total floor value",value:(0,n.jsx)(gn,{heroUi:e,heroUiSol:t,variant:b})})})})},yn=()=>{const{t:e}=(0,A.$)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{style:{width:300,height:300,position:"relative",display:"flex",alignSelf:"center"},children:(0,n.jsx)("img",{style:{position:"absolute",top:0,left:0,width:"100%"},src:Us.mr,alt:"NFT"})}),(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:24},children:(0,n.jsx)(c.Paragraph,{children:e("nfts_not_found")})})]})};var vn=s("../../libs/shared/dist/features/nfts/hooks/index.js"),kn=s("../../libs/shared/dist/features/nfts/modals/index.js"),wn=s("../../libs/shared/dist/features/recipientInput/context/index.js");const Cn=()=>{const{publicKey:e}=(0,Y.rT)(),{data:t,isLoading:s,isError:o}=(0,vn.cw)(),{junkFilter:i,setJunkState:r}=(0,vn.Pd)(),l=(0,N.__)("nftFloorPrice"),{filterFn:d}=(0,vn.A1)(),{receiveModalOpen:c,isTransferInProgress:u,isSendTransfer:m}=(0,Bs.$T)(),{setReceiveModalOpen:p}=(0,Bs.$T)(),h=(0,a.useMemo)((()=>{if(!t)return null;r(t);const e=(0,Es.bH)(t,l),s=i(e);return{nfts:d(s)||[],heroUi:e.heroUi,heroUiSol:e.heroUiSol}}),[t,r,l,i,d]);if(!s&&!o&&0===t?.nfts.length)return(0,n.jsx)(Ws,{address:e});const x=!s&&!o&&0===h?.nfts.length;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(I.kC,{column:!0,gap:3,children:[(0,n.jsx)(_n,{heroUi:h?.heroUi,heroUiSol:h?.heroUiSol,nfts:h?.nfts||[],rawData:t}),x&&(0,n.jsx)(yn,{}),(0,n.jsx)(on,{rawData:t,isLoading:s||o,nfts:h?.nfts||[]})]}),c&&(0,n.jsx)(Fs.Z,{address:e,onClose:()=>p(!1),tRoute:"/receiveCollectibleRoute",tSource:"galleryThreeDot"}),u&&(m?(0,n.jsx)(wn.j,{children:(0,n.jsx)(kn.e,{})}):(0,n.jsx)(Rs,{}))]})};var Sn=s("../../../node_modules/@mui/material/Link/Link.js"),Tn=s("../../libs/shared/dist/features/infoScreen/modals/index.js"),An=s("../../../node_modules/@mui/material/Skeleton/Skeleton.js");const In=(0,Ke.Z)({listItem:{display:"flex",alignItems:"center",gap:"4px",marginBottom:"8px","> p":{width:20}}}),Zn=()=>{const e=In(),{isLoading:t}=(0,ln.c)(),{sortedGroupKey:s,handleSortGroupClick:o}=(0,Bs.$T)(),[i,r]=(0,a.useState)(null);return(0,n.jsxs)(I.kC,{column:!0,gap:3,children:[(0,n.jsx)($e.Z,{disabled:t,width:40,component:dn.Z,onClick:e=>r(e.currentTarget),children:(0,n.jsx)(z.Z,{color:"textPrimary",children:(0,n.jsx)(Ks.G,{icon:O.pw9})})}),(0,n.jsx)(cn.Z,{disableScrollLock:!0,open:Boolean(i),anchorEl:i,onClose:()=>r(null),anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:(0,n.jsxs)($e.Z,{children:[(0,n.jsx)(z.Z,{color:"textSecondary",fontSize:"12px",marginLeft:"15px",marginBottom:"12px",children:"Sort By"}),(0,n.jsxs)(un.Z,{className:e.listItem,onClick:()=>{o(Us.dY.RARITY),r(null)},children:[(0,n.jsx)(z.Z,{width:20,color:s===Us.dY.RARITY?"primary":"texSecondary",children:(0,n.jsx)(Ks.G,{icon:O.egO})}),(0,n.jsx)(z.Z,{children:"Rarest"})]}),(0,n.jsxs)(un.Z,{className:e.listItem,onClick:()=>{o(Us.dY.ALPHABETICALLY),r(null)},children:[(0,n.jsx)(z.Z,{width:20,color:s===Us.dY.ALPHABETICALLY?"primary":"texSecondary",children:(0,n.jsx)(Ks.G,{icon:O.bDz})}),(0,n.jsx)(z.Z,{children:"Alphabetically"})]})]})})]})},Mn=(0,Ke.Z)({customChip:{backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:8}}),Pn=({isLoading:e,heroUi:t,heroUiSol:s,nfts:a,rawData:o,address:i,openGuide:r})=>{const{t:l}=(0,A.$)(),d=Mn(),{isSelectMode:u,selectedIdsCount:m,toggleVisibleContext:p,setReceiveModalOpen:h,receiveModalOpen:x,setIsTransferInProgress:g,setIsSendTransfer:j,nftsToTransfer:b}=(0,Bs.$T)(),f="fiat"===(0,N.__)("nftFloorPrice")?t?.variant:s?.variant,_="scam"===t?.groupId,y="suspicious"===t?.groupId,v=(0,Ns.tX)(b),k="suspicious"!==t?.groupId&&"scam"!==t?.groupId,w=("0"!==t?.price||"0"!==s?.price)&&!_;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(I.kC,{column:!0,gap:3,children:(0,n.jsx)(I.mr,{useSmallerMiddleBp:!0,actions:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(bn,{}),k&&(0,n.jsx)(Zn,{}),m>0&&(0,n.jsx)(rn.Z,{className:d.customChip,label:`${m} Selected`,onDelete:()=>p(a,o)}),u?(0,n.jsx)(c.Button,{onClick:()=>{g(!0),j(!v)},variant:"secondary",children:l(v?"action_burn":"action_send")}):(0,n.jsx)(c.Button,{onClick:()=>h(!0),variant:"secondary",children:l("action_receive")}),(0,n.jsx)(pn,{nfts:a,rawData:o})]}),mainHeaderItem:e?(0,n.jsxs)($e.Z,{display:"flex",flexDirection:"column",gap:"4px",children:[(0,n.jsx)(An.Z,{height:"24px",width:150}),(0,n.jsx)(An.Z,{height:"15px",width:70})]}):(0,n.jsx)(I.PC,{avatar:"scam"===t?.groupId?(0,n.jsx)(c.IconAvatar,{variant:"square",icon:ss.xHz,background:"error"}):"suspicious"===t?.groupId?(0,n.jsx)(c.IconAvatar,{variant:"square",icon:ss.xHz,background:"warning"}):(0,n.jsx)(c.NFTAvatar,{src:a[0]?.image}),title:(0,n.jsxs)($e.Z,{display:"flex",gap:"2px",children:[t?.name??"",y&&(0,n.jsx)(dn.Z,{sx:{fontSize:16,color:"rgba(255, 255, 255, 0.4)"},size:"small",onClick:r,children:(0,n.jsx)(Ks.G,{icon:ss.DBf})})]}),subtitle:`${a?.length} Items`}),children:w&&(0,n.jsx)(I.eH,{hiddenBalance:e,label:"Total floor value",avatar:null,value:(0,n.jsx)(gn,{heroUi:t,heroUiSol:s,variant:f})})})}),x&&(0,n.jsx)(Fs.Z,{address:i,onClose:()=>h(!1),tRoute:"/receiveCollectibleRoute",tSource:"collectionThreeDot"})]})},Dn=()=>{const{publicKey:e}=(0,Y.rT)(),[t,s]=(0,a.useState)(!1),{t:o}=(0,A.$)(),{id:i}=(0,Ce.nc)(["id"]),l=i,d="suspicious"===l,{data:c,isLoading:u}=(0,vn.cw)(),{isTransferInProgress:m,isSendTransfer:p}=(0,Bs.$T)(),{filterFn:h}=(0,vn.A1)(),{goToGallery:x}=(0,vn.pN)(),g=(0,a.useMemo)((()=>{if(!c)return null;const e=(0,Es.Lu)(c,l);return e?{nfts:h(e.nfts||[]),heroUi:e.heroUi,heroUiSol:e.heroUiSol}:null}),[c,h,l]);if((0,a.useEffect)((()=>{u||g||x()}),[u,g]),!u&&0===c?.nfts.length)return(0,n.jsx)(n.Fragment,{children:"WebNft group Empty"});if(!u&&!g)return null;const j=!u&&0===g?.nfts.length;return(0,n.jsxs)(n.Fragment,{children:[(d||t)&&(0,n.jsx)(Tn.l,{open:t,onClose:()=>s(void 0)}),(0,n.jsxs)(I.kC,{position:"relative",column:!0,gap:3,children:[(0,n.jsx)("div",{style:{position:"absolute",top:-25,left:0},children:(0,n.jsxs)(I.Oo,{children:[(0,n.jsx)(Sn.Z,{color:"inherit",underline:"none",component:r.rU,to:"/nft",children:o("Collectibles")}),l&&(0,n.jsx)(I.c$,{children:g?.heroUi.name})]})}),(0,n.jsx)(Pn,{address:e,heroUi:g?.heroUi,heroUiSol:g?.heroUiSol,nfts:g?.nfts||[],isLoading:u,rawData:c,openGuide:()=>s(!0)}),j&&(0,n.jsx)(yn,{}),(0,n.jsx)(on,{rawData:c,nfts:g?.nfts||[],isLoading:u,redirectToSingle:!0})]}),m&&(p?(0,n.jsx)(wn.j,{children:(0,n.jsx)(kn.e,{})}):(0,n.jsx)(Rs,{}))]})};var Bn=s("../../libs/shared/dist/features/nfts/components/SingleNFTPreview/index.js");const En=(0,Qt.Z)(I.Oo)({position:"absolute",top:-25,left:0}),On=()=>{const{t:e}=(0,A.$)(),{nft:t}=(0,vn.ix)(),s="scam"===t.group?"Blocklist":"suspicious"===t.group?"Unverified":t.groupName;return(0,n.jsxs)(En,{"data-id":"breadcrumbs",children:[(0,n.jsx)(Sn.Z,{"data-id":"breadcrumbs-root-link",color:"inherit",underline:"none",component:r.rU,to:"/nft",children:e("Collectibles")}),t.group&&(0,n.jsx)(Sn.Z,{"data-id":"breadcrumbs-group-link",color:"inherit",underline:"none",component:r.rU,to:`/nft/group/${t.group}`,children:s}),(0,n.jsx)(I.c$,{dataId:"breadcrumbs-current",children:t.name})]})};var Ln=s("../../libs/shared/dist/features/nfts/utils/index.js"),Nn=s("../../libs/shared/dist/features/nfts/components/SingleNFTAttributes/index.js"),Rn=s("../../libs/shared/dist/features/nfts/components/SingleNFTInstantSell/index.js"),Fn=s("../../libs/shared/dist/features/nfts/components/SingleNFTStats/index.js");const Un=(0,Qt.Z)("div")({display:"flex",flexDirection:"column",gap:8}),$n=(0,Qt.Z)("div")({display:"flex",flexWrap:"wrap",gap:16}),Wn=({title:e,children:t})=>(0,n.jsxs)(Un,{"data-id":"nft-attributes",children:[(0,n.jsx)(c.Typography,{variant:"textXS",color:"secondary",children:e}),(0,n.jsx)($n,{"data-id":"nft-attributes-list",children:t})]}),Kn=(0,Qt.Z)("div")((({onClick:e})=>({backgroundColor:"rgba(255, 255, 255, 0.05)",color:"rgba(255, 255, 255, 0.7)",padding:"8px 12px",borderRadius:8,display:"flex",flexDirection:"column",gap:4,...!!e&&{cursor:"pointer"}}))),zn=()=>(0,n.jsxs)(Kn,{children:[(0,n.jsx)(c.Skeleton,{width:59,height:12}),(0,n.jsx)(c.Skeleton,{width:50,height:16})]}),Hn=({label:e,children:t,dataKey:s,isLoading:a,...o})=>a?(0,n.jsx)(zn,{}):(0,n.jsxs)(Kn,{"data-id":"nft-stat-item","data-key":s,...o,children:[(0,n.jsx)(c.Typography,{variant:"textXS",color:"inherit","data-id":"nft-stat-label",children:e}),(0,n.jsx)(c.Typography,{variant:"headingS","data-id":"nft-stat-content",children:t})]}),Vn=(0,Qt.Z)("div")({display:"flex",flexDirection:"column",gap:8}),Gn=(0,Qt.Z)("div")({display:"flex",flexWrap:"wrap",gap:16}),qn=({label:e,children:t})=>(0,n.jsxs)(Vn,{"data-id":"nft-stats",children:[(0,n.jsx)(c.Typography,{variant:"textXS",color:"secondary","data-id":"nft-stats-label",children:e}),(0,n.jsx)(Gn,{"data-id":"nft-stats-list",children:t})]});var Yn=s("../../libs/shared/dist/features/nfts/components/SingleNFTInstantSell/SingleNFTInstantSellWidget.js");const Qn=(0,Qt.Z)("div")({display:"flex",flexDirection:"column",gap:8}),Jn=({label:e,...t})=>(0,n.jsxs)(Qn,{children:[(0,n.jsx)(c.Typography,{variant:"textXS",color:"secondary",children:e}),(0,n.jsx)(Yn.o,{...t})]}),Xn=()=>{const{t:e}=(0,A.$)(),{nft:t,isMarkedAsSpam:s}=(0,vn.ix)();return(0,n.jsxs)(n.Fragment,{children:[s&&(0,n.jsx)(c.Alert,{variant:"warning",title:e("nft_single_spam_alert_title"),message:e("nft_single_spam_alert_description")}),(0,Ln.Kl)(t)&&(0,n.jsx)(Fn.i,{NFTStatsComponent:qn,NFTStatComponent:Hn}),0!==t.attributes?.length&&(0,n.jsx)(Nn.j,{NFTAttributesComponent:Wn,NFTAttributeComponent:c.Attribute}),t.description&&(0,n.jsx)(c.NFTDescription,{title:e("nft_details_description"),text:t.description}),(0,n.jsx)(Rn.z,{nft:t,NFTInstantSellComponent:Jn})]})};var ea=s("../../libs/shared/dist/features/nfts/queries/nftData.js"),ta=s("../../libs/shared/dist/features/nfts/components/SingleNFTHeaderActionsMenu/index.js");const sa=()=>{const{t:e}=(0,A.$)(),{nft:t,isMarkedAsSpam:s,burn:o,send:i}=(0,vn.ix)(),{delist:r}=(0,vn.vg)(),{data:{marketData:l}={}}=(0,ea.c)(t.id,{enabled:(0,Ln.Kl)(t)}),[d,u]=(0,a.useState)(!1);return(0,n.jsxs)(n.Fragment,{children:[s||(0,Ln.gO)(t)?(0,n.jsx)(c.Button,{onClick:o,variant:"primary","data-id":"burn-action",children:e("action_burn")}):t.listed?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.Button,{onClick:()=>u(!0),variant:"secondary","data-id":"edit-listing-action",children:e("action_edit")}),(0,n.jsx)(c.Button,{onClick:()=>r(t,l),variant:"secondary","data-id":"delist-action",children:e("action_delist")})]}):(0,n.jsxs)(n.Fragment,{children:[(0,Ln.oA)(t)&&(0,n.jsx)(c.Button,{onClick:()=>u(!0),variant:"secondary","data-id":"list-for-sale-action",children:e("action_list_for_sale")}),(0,n.jsx)(c.Button,{onClick:i,variant:"secondary","data-id":"action-send",children:e("action_send")})]}),(0,n.jsxs)($e.Z,{display:"flex",alignItems:"center",children:[(0,n.jsx)($e.Z,{width:10}),(0,n.jsx)(ta.a,{})]}),d&&(0,n.jsx)(kn.W,{nft:t,onClose:()=>u(!1)})]})},na=({preview:e,details:t,disablePadding:s})=>(0,n.jsxs)($e.Z,{display:"flex",gap:3,justifyContent:"space-between",children:[(0,n.jsx)($e.Z,{flexBasis:"50%",children:e}),(0,n.jsx)($e.Z,{flexBasis:"50%",children:(0,n.jsx)($e.Z,{position:"relative",display:"flex",flexDirection:"column",gap:"20px",padding:s?0:"24px",sx:{backgroundColor:"rgba(188, 200, 231, 0.04)",borderRadius:"24px"},children:t})})]}),aa=(0,Qt.Z)("div")({width:"100%",background:"#232328",justifyContent:"center",alignItems:"center",display:"flex",minHeight:"50vh"}),oa=(0,Qt.Z)("div")({display:"flex",flexDirection:"column",gap:8,maxWidth:240,textAlign:"center"}),ia=(0,Qt.Z)("div")({display:"flex",flexDirection:"column",gap:24}),ra=()=>{const{t:e}=(0,A.$)();return(0,n.jsx)(aa,{children:(0,n.jsxs)(oa,{children:[(0,n.jsx)(c.Icon,{fontSize:40,color:"error",icon:ss.xHz}),(0,n.jsxs)(ia,{children:[(0,n.jsx)(c.Typography,{variant:"textM",children:e("nft_single_scam_alert_title")}),(0,n.jsx)(c.Typography,{variant:"textS",color:"secondary",children:e("nft_single_scam_alert_description")})]})]})})},la=()=>{const{t:e}=(0,A.$)();return(0,n.jsxs)(I.kC,{position:"relative",column:!0,gap:3,children:[(0,n.jsx)("div",{style:{position:"absolute",top:-25,left:0},children:(0,n.jsxs)(I.Oo,{children:[(0,n.jsx)(Sn.Z,{color:"inherit",underline:"none",component:r.rU,to:"/nft",children:e("Collectibles")}),(0,n.jsx)(c.Skeleton,{width:120,height:12}),(0,n.jsx)(I.c$,{children:(0,n.jsx)(c.Skeleton,{width:110,height:12})})]})}),(0,n.jsx)(I.mr,{useSmallerMiddleBp:!0,actions:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.Button,{disabled:!0,variant:"secondary",children:(0,n.jsx)(c.Skeleton,{width:160,height:16})}),(0,n.jsx)(c.Button,{disabled:!0,variant:"secondary",children:(0,n.jsx)(c.Skeleton,{width:40,height:16})}),(0,n.jsxs)($e.Z,{display:"flex",alignItems:"center",children:[(0,n.jsx)($e.Z,{width:10}),(0,n.jsx)(c.ActionableIcon,{icon:O.Uwo,size:"l"})]})]}),mainHeaderItem:(0,n.jsx)(c.Skeleton,{width:120,height:20})}),(0,n.jsx)(na,{disablePadding:!0,preview:(0,n.jsx)(c.Skeleton,{variant:"rectangle",width:"100%",height:500}),details:(0,n.jsx)(c.Skeleton,{variant:"rectangle",width:"100%",height:350})})]})},da=((0,Je.ZP)(z.Z)((()=>({color:"rgba(255, 255, 255, 0.4)",fontSize:"12px",marginBottom:"8px"}))),(0,Je.ZP)($e.Z)((()=>({display:"flex",flexWrap:"wrap",gap:"12px"}))),(0,Je.ZP)($e.Z)((({onClick:e})=>({backgroundColor:"rgba(255, 255, 255, 0.05)",padding:"8px 12px",borderRadius:"8px",...!!e&&{cursor:"pointer"}}))),(0,Je.ZP)(z.Z)((()=>({fontSize:"12px",color:"rgba(255, 255, 255, 0.7)"}))),(0,Je.ZP)(z.Z)((()=>({fontSize:"14px"}))),()=>{const{mint:e}=(0,Ce.nc)(["mint"]),{isTransferInProgress:t,isSendTransfer:s}=(0,Bs.$T)(),{data:o,isLoading:i}=(0,vn.cw)(),{useScrollToTop:r}=(()=>{const e=(0,a.useContext)(g);if(null===e)throw new Error("'useScrollContentTo' can't be called without 'ScrollContentToContext'.");return e})(),l=(0,a.useMemo)((()=>o?.nfts?.find((t=>t.id===e))),[o,e]);return r(),i?(0,n.jsx)(la,{}):l?(0,n.jsxs)(Bs.V1,{nft:l,children:[(0,n.jsxs)(I.kC,{position:"relative",column:!0,gap:3,children:[(0,n.jsx)(On,{}),(0,n.jsx)(I.mr,{useSmallerMiddleBp:!0,actions:(0,n.jsx)(sa,{}),mainHeaderItem:(0,n.jsx)(c.Typography,{variant:"headingM","data-id":"page-title",children:l.name})}),(0,Ln.gO)(l)?(0,n.jsx)(ra,{}):(0,n.jsx)(na,{preview:(0,n.jsx)(Bn.I,{}),details:(0,n.jsx)(Xn,{})})]}),t&&(s?(0,n.jsx)(wn.j,{children:(0,n.jsx)(kn.e,{})}):(0,n.jsx)(Rs,{}))]}):(0,n.jsx)(B.Fg,{to:U.yT.MAIN,replace:!0})}),ca=()=>(0,B.V$)([{path:"",element:(0,n.jsx)(Bs.PP,{children:(0,n.jsx)(B.j3,{})}),children:[{index:!0,element:(0,n.jsx)(Cn,{})},{path:"group/:id",element:(0,n.jsx)(Dn,{})},{path:"single/:mint",element:(0,n.jsx)(Bs.G7,{children:(0,n.jsx)(da,{})})}]}]);var ua=s("../../../node_modules/@mui/icons-material/esm/Check.js"),ma=s("../../../node_modules/@mui/material/List/List.js"),pa=s("../../../node_modules/@mui/material/ListItem/ListItem.js"),ha=s("../../../node_modules/@mui/material/ListItemText/ListItemText.js"),xa=s("../../../node_modules/@mui/material/ListItemIcon/ListItemIcon.js"),ga=s("../../libs/shared/dist/features/localization/index.js");const ja=({onClose:e})=>{const{t,i18n:s}=(0,A.$)(),o=(0,a.useMemo)((()=>Object.keys(ga.M).filter((e=>ga.M[e].enabled)).map((e=>({id:e,label:ga.M[e].label})))),[]),i=s.language;return(0,n.jsx)(I.u_,{open:!0,scroll:"paper",onClose:e,title:t("language_change_title"),actions:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(Is.Z,{variant:"contained",onClick:e,children:t("action_cancel")})}),children:(0,n.jsx)($e.Z,{children:(0,n.jsx)(ma.Z,{component:"nav",children:o.map((t=>(0,n.jsxs)(pa.ZP,{button:!0,onClick:()=>{(0,ga.D)(t.id),e()},children:[(0,n.jsx)(ha.Z,{primary:t.label}),i===t.id&&(0,n.jsx)(xa.Z,{children:(0,n.jsx)(ua.Z,{color:"primary"})})]},`theme-${t.id}`)))})})})};var ba=s("../web/src/features/onboarding/assets/carousel-image-phrase.svg"),fa=s("../web/src/features/onboarding/assets/carousel-image-secure.svg"),_a=s("../web/src/features/onboarding/assets/carousel-image-write-down.svg");const ya=(0,Je.ZP)("div")({position:"absolute",top:0,left:"50%",transform:"translateX(-50%)",maxWidth:451,width:"100%"}),va=(0,Je.ZP)("div")({backgroundColor:"#FFFFFF0D",boxShadow:"0px 2px 0px rgba(255, 255, 255, 0.1)",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",width:96,height:96}),ka=(0,Je.ZP)("div")({position:"relative",width:20,height:20,marginLeft:24,"&::before, &::after":{content:"' '",display:"block",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:1,height:"100%",backgroundColor:"rgba(255, 255, 255, 0.1)"},"&::after":{top:0,transform:"rotate(90deg)"}}),wa=()=>{const{t:e}=(0,A.$)(),t=(0,B.s0)(),s=-1!==navigator.userAgent.indexOf("Macintosh");return(0,n.jsxs)(et.ZP,{container:!0,direction:"row",sx:{minHeight:"100vh"},children:[(0,n.jsxs)(et.ZP,{item:!0,xs:12,sm:5,md:6,sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",p:4,position:"relative",background:"rgba(188, 200, 231, 0.04)"},children:[(0,n.jsx)(ya,{children:(0,n.jsx)($a,{})}),(0,n.jsxs)($e.Z,{maxWidth:567,textAlign:"left",children:[(0,n.jsx)(z.Z,{fontSize:20,fontWeight:600,lineHeight:"28px",mb:1,children:"Easy Access"}),(0,n.jsx)(z.Z,{color:"textSecondary",fontSize:14,mb:5,children:"Use this nifty keyboard shortcut to open Solflare Extension."}),(0,n.jsxs)($e.Z,{display:"flex",alignItems:"center",gap:3,mb:5,children:[(0,n.jsxs)($e.Z,{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",children:[(0,n.jsx)(va,{children:(0,n.jsx)(z.Z,{variant:"h2",children:s?"Option":"Alt"})}),(0,n.jsx)(ka,{})]}),(0,n.jsxs)($e.Z,{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",children:[(0,n.jsx)(va,{children:(0,n.jsx)(z.Z,{variant:"h2",children:"Shift"})}),(0,n.jsx)(ka,{})]}),(0,n.jsx)($e.Z,{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",children:(0,n.jsx)(va,{children:(0,n.jsx)(z.Z,{variant:"h2",children:"S"})})})]}),(0,n.jsx)($e.Z,{display:"flex",justifyContent:"flex-end",children:(0,n.jsx)(c.Button,{onClick:()=>t(U.Us.SUCCESS),variant:"primary",children:"Continue"})})]})]}),(0,n.jsx)(et.ZP,{item:!0,xs:12,sm:5,md:6,sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",p:4},children:(0,n.jsx)(La,{items:[{image:ba,title:e("onboard_carousel_create_1_title"),description:e("onboard_carousel_create_1_description")},{image:_a,title:e("onboard_carousel_create_2_title"),description:e("onboard_carousel_create_2_description")},{image:fa,title:e("onboard_carousel_create_3_title"),description:e("onboard_carousel_create_3_description")}]})})]})};var Ca=s("../../../node_modules/@fortawesome/free-brands-svg-icons/index.mjs"),Sa=s("../../libs/shared/dist/assets/logo-128.png"),Ta=s("../../libs/shared/dist/assets/treasure.png"),Aa=s("../../../node_modules/@mui/material/Avatar/Avatar.js");const Ia=(0,Je.ZP)($e.Z)((({theme:e})=>({width:300,border:`1px solid ${e.palette.primary.main}`,borderRadius:"6px",background:"#232328",padding:"20px 16px",position:"absolute",right:53,top:16,[e.breakpoints.down("sm")]:{display:"none"}}))),Za=(0,Je.ZP)($e.Z)((()=>({display:"flex",alignItems:"center",justifyContent:"space-between",background:"rgba(245, 252, 255, 0.06)",padding:8,marginTop:12,borderRadius:4}))),Ma=(0,Je.ZP)($e.Z)((()=>({display:"flex",alignItems:"center",justifyContent:"center",width:20,height:20}))),Pa=(0,Je.ZP)($e.Z)((()=>({background:"rgba(245, 252, 255, 0.06)",borderRadius:"100%",height:28,width:28,display:"flex",alignItems:"center",justifyContent:"center"}))),Da=({logo:e,name:t})=>{const{t:s}=(0,A.$)();return(0,n.jsxs)(Ia,{children:[(0,n.jsxs)($e.Z,{display:"flex",alignItems:"center",justifyContent:"space-between",pr:.5,children:[(0,n.jsx)(z.Z,{variant:"body2",children:Ve.p1?s("onboard_pin_extension"):s("onboard_bookmark_extension",{name:"Solflare"})}),Ve.p1&&(0,n.jsx)(Pa,{children:(0,n.jsx)(Ks.G,{icon:ss.NxF,color:"textSecondary",fontSize:14})})]}),(0,n.jsxs)(Za,{children:[(0,n.jsxs)($e.Z,{display:"flex",alignItems:"center",children:[(0,n.jsx)(Aa.Z,{src:e,sx:{height:16,width:16,marginRight:1}}),(0,n.jsx)(z.Z,{variant:"body2",children:t})]}),(0,n.jsx)(Ma,{children:(0,n.jsx)(Ks.G,{color:Ve.p1?"#2D8BFA":"",icon:Ve.p1?ss.RP7:O.xVw,fontSize:13})})]})]})},Ba=(0,Je.ZP)("div")((({theme:e})=>({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"calc(100vh - 78px)",paddingTop:e.spacing(10),paddingBottom:e.spacing(10)}))),Ea=()=>{const{t:e}=(0,A.$)(),t=(0,B.s0)();return(0,n.jsxs)(De.Z,{children:[(0,n.jsx)(Da,{logo:Sa,name:"Solflare Wallet"}),(0,n.jsxs)(Ba,{children:[(0,n.jsx)($e.Z,{src:Ta,maxWidth:310,minHeight:312,component:"img",marginBottom:3,sx:e=>({maxWidth:310,minHeight:312,[e.breakpoints.down("sm")]:{maxWidth:220,minHeight:222}})}),(0,n.jsxs)($e.Z,{maxWidth:418,mx:"auto",width:"100%",zIndex:100,children:[(0,n.jsxs)($e.Z,{textAlign:"center",children:[(0,n.jsxs)(z.Z,{fontSize:24,fontWeight:600,sx:{mb:3},children:[e("onboard_success_wallet_ready_title"),"!"]}),(0,n.jsx)(z.Z,{color:"textSecondary",variant:"body2",children:e("onboard_success_join_community_description")})]}),(0,n.jsxs)($e.Z,{width:"100%",mt:2,gap:1.5,display:"flex",flexDirection:"column",alignItems:"stretch",children:[(0,n.jsxs)(c.Button,{onClick:()=>window.open("https://twitter.com/solflare_wallet","_blank"),variant:"secondary",children:[(0,n.jsx)(Ks.G,{color:"#1DA1F2",icon:Ca.mdU,style:{width:16,marginRight:8}}),e("onboard_success_follow_button_capitalize")]}),(0,n.jsx)(c.Button,{variant:"primary",color:"primary",onClick:()=>t(U.Zg.MAIN,{state:{from:"/onboard/success"}}),children:e("onboard_success_enter_button",{name:"Solana"})})]})]})]})]})};var Oa=s("../../../node_modules/react-responsive-carousel/lib/js/index.js");s("../../../node_modules/react-responsive-carousel/lib/styles/carousel.min.css");const La=({items:e})=>(0,n.jsx)($e.Z,{sx:e=>({"& .carousel .control-dots .dot":{background:e.palette.primary.main}}),children:(0,n.jsx)(Oa.lr,{autoPlay:!0,interval:5e3,showArrows:!1,showThumbs:!1,showStatus:!1,children:e?.map((({image:e,title:t,description:s})=>(0,n.jsxs)($e.Z,{maxWidth:350,margin:"auto",mb:6,children:[(0,n.jsx)($e.Z,{component:"img",src:e,alt:"",sx:{maxWidth:160,marginBottom:2}}),(0,n.jsx)(z.Z,{"data-id":"carouse_title",variant:"h3",gutterBottom:!0,children:t}),(0,n.jsx)(z.Z,{"data-id":"carousel_text",variant:"body2",color:"textSecondary",children:s})]},t)))})});var Na=s("../../../node_modules/@mui/material/TextField/TextField.js");const Ra=(0,Je.ZP)(Na.Z)({"& input:-webkit-autofill":{transition:"background-color 9999s ease-in-out 0s, color 9999s ease-in-out 0s"},"& input:-webkit-autofill:hover":{transition:"background-color 9999s ease-in-out 0s, color 9999s ease-in-out 0s"},"& input:-webkit-autofill:focus":{transition:"background-color 9999s ease-in-out 0s, color 9999s ease-in-out 0s"},"& input:-webkit-autofill:active":{transition:"background-color 9999s ease-in-out 0s, color 9999s ease-in-out 0s"}}),Fa=({data:e,updateData:t,nextStep:s,prevStep:o})=>{const{t:i}=(0,A.$)(),[r,l]=(0,a.useState)({password:e.password??"",password2:e.password2??""}),[d,c]=(0,a.useState)({}),u=e=>{const{name:t,value:s}=e.target;l((e=>({...e,[t]:s}))),c((e=>(0,gt.omit)(e,[t])))};return(0,n.jsxs)($e.Z,{children:[(0,n.jsx)(z.Z,{variant:"h2",gutterBottom:!0,children:i("onboard_set_passcode")}),(0,n.jsxs)("form",{onSubmit:async e=>{e?.preventDefault();const n={};if(r.password||(n.password=i("validation_password_is_required")),r.password!==r.password2&&(n.password2=i("validation_passwords_dont_match")),!(0,gt.isEmpty)(n))return c(n),!1;t({password:r.password,password2:r.password2}),s()},children:[(0,n.jsxs)($e.Z,{sx:e=>({background:e.palette.common.black20,border:`1px solid ${e.palette.common.white10}`,marginTop:3,padding:3}),children:[(0,n.jsx)($e.Z,{mb:2,children:(0,n.jsx)(Ra,{fullWidth:!0,type:"password",label:i("form_new_password"),variant:"standard",name:"password",error:!!d.password,helperText:d.password||"",value:r.password,onChange:u})}),(0,n.jsx)($e.Z,{mb:2,children:(0,n.jsx)(Ra,{fullWidth:!0,type:"password",label:i("form_repeat_password"),name:"password2",variant:"standard",error:!!d.password2,helperText:d.password2||"",value:r.password2,onChange:u})})]}),(0,n.jsxs)($e.Z,{display:"flex",justifyContent:"space-between",mt:4,children:[(0,n.jsx)(Is.Z,{variant:"text",color:"primary",onClick:o,children:i("action_back")}),(0,n.jsx)(Is.Z,{disabled:0===r.password.length||0===r.password2.length,type:"submit",variant:"contained",color:"primary",children:i("action_continue")})]})]})]})};var Ua=s("../../../node_modules/@mui/icons-material/esm/Translate.js");const $a=()=>{const[e,t]=(0,a.useState)(!1);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)($e.Z,{display:"flex",justifyContent:"space-between",my:2,children:[(0,n.jsxs)($e.Z,{children:[(0,n.jsx)(Re.Z,{"data-id":"solflare_logo",edge:"start",disableRipple:!0,component:"a",href:Ve.p1?"/wallet.html#/onboard":"/",children:(0,n.jsx)("img",{src:ze,alt:"Solflare logo",className:"solriseLogoImage"})}),(0,n.jsx)($e.Z,{display:"inline-block",ml:1,children:(0,n.jsx)(Re.Z,{"data-id":"solflare",component:"a",href:Ve.p1?"/wallet.html#/onboard":"/",children:(0,n.jsx)("img",{src:He,alt:"Solflare"})})})]}),(0,n.jsx)($e.Z,{children:(0,n.jsx)(Is.Z,{"data-id":"translate_button",onClick:()=>t(!0),children:(0,n.jsx)(Ua.Z,{})})})]}),e&&(0,n.jsx)(ja,{onClose:()=>t(!1)})]})};var Wa=s("../../../node_modules/bs58/index.js"),Ka=s.n(Wa),za=s("../../libs/wallet-core/dist/mnemonic.js"),Ha=s("../../libs/shared/dist/constants/derivationPaths.js"),Va=s("../../libs/shared/dist/features/walletManagement/modals/AddWalletOptions/ImportRecoveryPhrase/steps/Accounts.js"),Ga=s("../../libs/shared/dist/features/walletManagement/modals/AddWalletOptions/ImportRecoveryPhrase/steps/Aggregate.js"),qa=s("../../libs/shared/dist/features/walletManagement/modals/AddWalletOptions/ImportRecoveryPhrase/steps/DerivationPath.js"),Ya=s("../../libs/shared/dist/features/walletManagement/modals/AddWalletOptions/ImportRecoveryPhrase/steps/Mnemonic.js"),Qa=s("../web/src/features/onboarding/assets/carousel-image-bonfida.svg"),Ja=s("../web/src/features/onboarding/assets/carousel-image-language.svg"),Xa=s("../web/src/features/onboarding/assets/carousel-image-pfp.svg");const eo="MNEMONIC",to="PASSWORD",so="AGGREGATE",no="DERIVATION_PATH",ao="ACCOUNTS",oo=()=>{const{t:e}=(0,A.$)(),t=(0,B.s0)(),{addAccount:s,selectAccountByIndex:o,login:i}=(0,Y.bg)(),{setDefaultAutoLock:l}=(0,_e.ec)(),{loggedIn:d}=(0,Y.Rg)(),[c,u]=(0,a.useState)({step:eo,password:"",mnemonic:"",seed:"",derivationPath:Ha.VV,activeAccountsPerPath:{},offsetPerPath:{}}),m=e=>{u((t=>({...t,...e})))},p=[{image:Ja,title:e("onboard_carousel_access_1_title"),description:e("onboard_carousel_access_1_description")},{image:Qa,title:e("onboard_carousel_access_2_title"),description:e("onboard_carousel_access_2_description")},{image:Xa,title:e("onboard_carousel_access_3_title"),description:e("onboard_carousel_access_3_description")}],h=async(e=c.derivationPath,n)=>{const{seed:a,mnemonic:r,password:d}=c,u=Ka().encode((new TextEncoder).encode(r)),m=new za.Bn;m.initUnlocked({derivationPath:e,seed:a,base:u}),Ve.p1?t(U.Us.SHORTCUT):t(U.Us.SUCCESS);const p=((e,t=null)=>{if(t){const s=(0,V.c_)(t);return{locked:!0,data:(0,V.Mw)(e),password:s}}return{locked:!1,data:(0,V.Mw)(e)}})(m,d);await i(p);for(const e of n){if(e.index<1)continue;const t=new za.Bn;t.initUnlocked(m,null,e.index);const n=`Wallet ${e.index}`,a={type:V.R7,publicKey:t.publicKey,accountIndex:t.accountIndex,parent:m.publicKey};await s(a,n,!1)}await l(),await o(0)};return d?(0,n.jsx)(B.Fg,{to:U.Zg.MAIN,replace:!0}):(0,n.jsxs)(et.ZP,{container:!0,direction:"row",sx:{minHeight:"100vh",flexDirection:{xs:"column-reverse",sm:"row",md:"row"}},children:[(0,n.jsx)(et.ZP,{item:!0,xs:12,sm:5,md:6,sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",p:4},children:(0,n.jsx)(La,{items:p})}),(0,n.jsx)(et.ZP,{item:!0,xs:12,sm:7,md:6,sx:e=>({background:e.palette.background.paperBackground,display:"flex"}),children:(0,n.jsxs)(De.Z,{maxWidth:"sm",sx:{display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,n.jsx)($a,{}),c.step===eo&&(0,n.jsx)(Ya.Z,{data:c,updateData:m,prevStep:()=>t(U.Us.MAIN),nextStep:()=>u((e=>({...e,step:to})))}),c.step===to&&(0,n.jsx)(Fa,{data:c,updateData:m,prevStep:()=>u((e=>({...e,step:eo}))),nextStep:()=>u((e=>({...e,step:so})))}),c.step===so&&(0,n.jsx)(Ga.Z,{data:c,updateData:m,onImport:h,nextStep:()=>u((e=>({...e,step:no})))}),c.step===no&&(0,n.jsx)(qa.Z,{data:c,updateData:m,prevStep:()=>u((e=>({...e,step:to}))),nextStep:()=>u((e=>({...e,step:ao})))}),c.step===ao&&(0,n.jsx)(Va.Z,{data:c,updateData:m,onImport:h,prevStep:()=>u((e=>({...e,step:no}))),nextStep:()=>{}}),(0,n.jsx)($e.Z,{textAlign:"center",my:4,children:(0,n.jsx)(As.c,{i18nKey:"onboard_need_wallet_create_it",components:{external:(0,n.jsx)(Sn.Z,{component:r.rU,to:"/onboard/create",underline:"hover"})}})})]})})]})};var io=s("../../../node_modules/react-i18next/dist/es/withTranslation.js"),ro=s("../../../node_modules/@mui/material/Input/Input.js"),lo=s("../../../node_modules/@mui/material/InputAdornment/InputAdornment.js"),co=s("../../../node_modules/@mui/material/FormHelperText/FormHelperText.js"),uo=s("../../../node_modules/@mui/styles/withStyles/withStyles.js"),mo=s("../../../node_modules/prop-types/index.js"),po=s.n(mo),ho=s("../../libs/shared/dist/utils/files.js");let xo=class extends a.Component{constructor(){super(...arguments),this.state={words:[],error:null},this.focusInput=e=>{const t=document.getElementById(`mnemonic-input-${e}`);t&&t.focus()},this.pasteMnemonic=async()=>{try{const e=await navigator.clipboard.readText();this.setState({words:e.trim().split(/\s+/)})}catch(e){this.props.enqueueSnackbar(this.props.t("onboard_paste_recovery_phase"),{variant:"error"})}},this.handleUpload=async e=>{if(!e.length)return;const t=e[0],s=await(0,ho.u)(t);this.setState({words:s.trim().split(/\s+/)})},this.uploadMnemonic=()=>{const e=document.createElement("input");e.type="file",e.onchange=e=>this.handleUpload(e.target.files),e.click()},this.handleChange=(e,t)=>{const s=e.target.value,n=s.trim().split(/\s+/);n.length>1?this.setState((e=>{const s=[...e.words];let a=0;for(;a<this.props.data.mnemonicWords.length&&a<n.length;)s[t+a]=n[a],a++;return{words:s,error:null}})):(s.endsWith(" ")&&this.focusInput(t+1),this.setState((e=>{const n=[...e.words];return n[t]=s.trim(),{words:n,error:null}})))},this.onSubmit=async e=>{const{t}=this.props;e?.preventDefault();const{data:s,nextStep:n}=this.props;for(let e=0;e<s.mnemonicWords.length;e++)if(s.mnemonicWords[e]!==this.state.words[e])return void this.setState({error:t("validation_invalid_mnemonic")});n()}}render(){const{data:e,prevStep:t,classes:s,t:a}=this.props;return(0,n.jsxs)($e.Z,{children:[(0,n.jsx)(z.Z,{variant:"h2",gutterBottom:!0,children:a("onboard_confirm_recovery_phrase")}),(0,n.jsx)(z.Z,{variant:"body2",color:"textSecondary",children:a("onboard_confirm_recovery_phrase_description")}),(0,n.jsxs)("form",{onSubmit:this.onSubmit,children:[(0,n.jsxs)($e.Z,{className:s.wordsContainer,children:[(0,n.jsxs)($e.Z,{display:"flex",justifyContent:"space-between",mb:1,children:[(0,n.jsx)($e.Z,{children:!!navigator?.clipboard?.readText&&(0,n.jsx)(Is.Z,{"data-id":"paste_button",variant:"text",color:"primary",onClick:this.pasteMnemonic,children:a("action_paste")})}),(0,n.jsx)(Is.Z,{"data-id":"upload_button",variant:"text",color:"primary",onClick:this.uploadMnemonic,children:a("action_upload")})]}),(0,n.jsx)(tt.Z,{light:!0}),(0,n.jsx)(et.ZP,{container:!0,spacing:2,className:s.wordsGrid,children:e.mnemonicWords.map(((e,t)=>(0,n.jsx)(et.ZP,{item:!0,sm:4,xs:6,children:(0,n.jsx)(ro.Z,{autoComplete:"off",inputProps:{tabIndex:t+1,"data-id":"recovery_phrase_input"},error:!!this.state.error,value:this.state.words[t]||"",onChange:e=>this.handleChange(e,t),id:`mnemonic-input-${t}`,fullWidth:!0,startAdornment:(0,n.jsx)(lo.Z,{position:"start",children:(0,n.jsx)(z.Z,{variant:"inherit",color:"textSecondary",children:t+1})})})},t)))}),!!this.state.error&&(0,n.jsxs)($e.Z,{children:[(0,n.jsx)(tt.Z,{light:!0}),(0,n.jsx)($e.Z,{m:2,children:(0,n.jsx)(co.Z,{"data-id":"error_message",error:!0,children:this.state.error})})]})]}),(0,n.jsxs)($e.Z,{display:"flex",justifyContent:"space-between",mt:4,children:[(0,n.jsx)(Is.Z,{"data-id":"back_button",variant:"text",color:"primary",tabIndex:e.mnemonicWords.length+2,onClick:t,children:a("action_back")}),(0,n.jsx)(Is.Z,{"data-id":"continue_button",type:"submit",variant:"contained",color:"primary",tabIndex:e.mnemonicWords.length+1,children:a("action_continue")})]})]})]})}};xo.propTypes={t:po().func,classes:po().object,data:po().object,updateData:po().func,nextStep:po().func,prevStep:po().func,enqueueSnackbar:po().func},xo=function(e,t,s,n){var a,o=arguments.length,i=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,s,n);else for(var r=e.length-1;r>=0;r--)(a=e[r])&&(i=(o<3?a(i):o>3?a(t,s,i):a(t,s))||i);return o>3&&i&&Object.defineProperty(t,s,i),i}([S.RM,(0,io.Z)(),(0,uo.Z)((e=>({wordsContainer:{background:e.palette.common.black20,border:`1px solid ${e.palette.common.white10}`,marginTop:e.spacing(3),padding:e.spacing(1)},wordsGrid:{padding:e.spacing(2)}})))],xo);const go=xo;var jo=s("../../libs/shared/dist/decorators/index.js");let bo=class extends a.Component{render(){const{data:e,classes:t,nextStep:s,prevStep:a,t:o}=this.props;return(0,n.jsxs)($e.Z,{children:[(0,n.jsx)(z.Z,{variant:"h2",gutterBottom:!0,children:o("onboard_write_down_your_recovery_phrase")}),(0,n.jsx)(z.Z,{variant:"body2",color:"textSecondary",children:o("onboard_write_down_your_recovery_phrase_description")}),(0,n.jsxs)($e.Z,{className:t.wordsContainer,children:[(0,n.jsx)(et.ZP,{container:!0,spacing:2,className:t.wordsGrid,children:e.mnemonicWords.map(((e,s)=>(0,n.jsx)(et.ZP,{item:!0,sm:4,xs:6,children:(0,n.jsx)(z.Z,{variant:"body1",className:t.word,"data-index":s+1,translate:"no",children:e})},s)))}),(0,n.jsx)(tt.Z,{light:!0}),(0,n.jsxs)($e.Z,{display:"flex",justifyContent:"space-between",mt:1,children:[(0,n.jsx)(Is.Z,{variant:"text",color:"primary",onClick:()=>this.props.copy(e.mnemonic),children:o("action_copy")}),(0,n.jsx)(Is.Z,{variant:"text",color:"primary",href:window.URL.createObjectURL(new Blob([e.mnemonic])),download:"solflare-backup.txt",children:o("action_download")})]})]}),(0,n.jsxs)($e.Z,{display:"flex",justifyContent:{xs:"center",sm:"center",md:"space-between"},mt:4,flexWrap:"wrap",children:[(0,n.jsx)(Is.Z,{variant:"text",color:"primary",onClick:a,children:o("action_back")}),(0,n.jsx)(Is.Z,{variant:"contained",color:"primary",onClick:s,children:o("onboard_i_saved_recovery_phrase")})]})]})}};bo.propTypes={t:po().func,classes:po().object,data:po().object,prevStep:po().func,nextStep:po().func,copy:po().func},bo=function(e,t,s,n){var a,o=arguments.length,i=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,s,n);else for(var r=e.length-1;r>=0;r--)(a=e[r])&&(i=(o<3?a(i):o>3?a(t,s,i):a(t,s))||i);return o>3&&i&&Object.defineProperty(t,s,i),i}([(0,io.Z)(),(0,uo.Z)((e=>({wordsContainer:{background:e.palette.common.black20,border:`1px solid ${e.palette.common.white10}`,marginTop:e.spacing(3),padding:e.spacing(1)},wordsGrid:{padding:e.spacing(2)},word:{"&:before":{content:"attr(data-index)",width:28,display:"inline-block",color:e.palette.text.secondary}}}))),jo.AA],bo);const fo=bo,_o="MNEMONIC",yo="CONFIRM_MNEMONIC",vo="PASSWORD",ko=()=>{const{t:e}=(0,A.$)(),t=(0,B.s0)(),{login:s,persistWalletData:o}=(0,Y.bg)(),{setDefaultAutoLock:i}=(0,_e.ec)(),{loggedIn:l}=(0,Y.Rg)(),[d,c]=(0,a.useState)({step:_o,password:"",mnemonic:"",mnemonicWords:[],seed:null});(0,a.useEffect)((()=>{(async()=>{const{mnemonic:e,seed:t}=await(0,za.Db)();c((s=>({...s,mnemonic:e.trim(),mnemonicWords:e.trim().split(/\W+/),seed:t})))})()}),[]);const u=e=>{c((t=>({...t,...e})))},m=[{image:ba,title:e("onboard_carousel_create_1_title"),description:e("onboard_carousel_create_1_description")},{image:_a,title:e("onboard_carousel_create_2_title"),description:e("onboard_carousel_create_2_description")},{image:fa,title:e("onboard_carousel_create_3_title"),description:e("onboard_carousel_create_3_description")}];return l?(0,n.jsx)(B.Fg,{to:U.Zg.MAIN,replace:!0}):(0,n.jsxs)(et.ZP,{container:!0,direction:"row",sx:{minHeight:"100vh"},children:[(0,n.jsx)(et.ZP,{item:!0,xs:12,sm:7,md:6,sx:e=>({background:e.palette.background.paperBackground,display:"flex"}),children:(0,n.jsxs)(De.Z,{maxWidth:"sm",sx:{display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,n.jsx)($a,{}),d.step===_o&&(0,n.jsx)(fo,{data:d,updateData:u,prevStep:()=>t(U.Us.MAIN),nextStep:()=>c((e=>({...e,step:yo})))}),d.step===yo&&(0,n.jsx)(go,{data:d,updateData:u,nextStep:()=>c((e=>({...e,step:vo}))),prevStep:()=>c((e=>({...e,step:_o})))}),d.step===vo&&(0,n.jsx)(Fa,{data:d,updateData:u,prevStep:()=>c((e=>({...e,step:_o}))),nextStep:async()=>{const{mnemonic:e,seed:n,password:a}=d,r=Ka().encode((new TextEncoder).encode(e)),l=new za.Bn;if(l.initUnlocked({derivationPath:"bip44Change",seed:n,base:r}),Ve.p1?t(U.Us.SHORTCUT):t(U.Us.SUCCESS),a){const e=(0,V.c_)(a),t={locked:!0,data:(0,V.Mw)(l),password:e};await s(t)}else{const e={locked:!1,data:(0,V.Mw)(l)};await s(e)}await i(),await o()}}),(0,n.jsx)($e.Z,{textAlign:"center",my:4,children:(0,n.jsx)(As.c,{i18nKey:"onboard_already_have_access",components:{external:(0,n.jsx)(Sn.Z,{component:r.rU,to:"/onboard/access",underline:"hover"})}})})]})}),(0,n.jsx)(et.ZP,{item:!0,xs:12,sm:5,md:6,sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",p:4},children:(0,n.jsx)(La,{items:m})})]})};var wo=s("../../libs/wallet-core/dist/keystone.js"),Co=s("../../../node_modules/@mui/icons-material/esm/Link.js"),So=s("../../../node_modules/@mui/material/ListItemSecondaryAction/ListItemSecondaryAction.js"),To=s("../../../node_modules/@mui/material/Checkbox/Checkbox.js");let Ao=class extends a.Component{constructor(e){super(e),this.getActiveAccountsMap=()=>{const{data:{activeAccounts:e}}=this.props;return(0,gt.keyBy)(e,"pubkey")},this.handleChecked=e=>{const{name:t,checked:s}=e.target;s?this.setState({selected:(0,gt.union)(this.state.selected,[t])}):this.setState({selected:(0,gt.difference)(this.state.selected,[t])})},this.handleToggleAll=()=>{(0,gt.isEqual)(this.state.selected,this.state.initiallySelected)?this.setState({selected:[]}):this.setState({selected:this.state.initiallySelected})},this.onSubmit=async()=>{const{data:e,updateData:t,nextStep:s}=this.props,n=e.accounts.filter((({publicKey:e})=>this.state.selected.includes(e)));await t({forImport:n}),s()},this.state={addresses:e.data.accounts.map((e=>e.publicKey)),selected:Object.keys(this.getActiveAccountsMap()),initiallySelected:Object.keys(this.getActiveAccountsMap()),active:this.getActiveAccountsMap()}}render(){const{classes:e,prevStep:t,t:s,openExplorer:o,data:{activeAccounts:i,accounts:r}}=this.props,{active:l}=this.state;return(0,n.jsx)($e.Z,{display:"flex",flexDirection:"column",alignItems:"center",children:(0,n.jsxs)($e.Z,{maxWidth:400,textAlign:"center",children:[(0,n.jsx)(z.Z,{variant:"h2",gutterBottom:!0,children:s("onboard_active_wallet",{count:i?.length||0})}),(0,n.jsx)(z.Z,{variant:"body2",color:"textSecondary",children:s("onboard_active_description")}),(0,n.jsx)($e.Z,{mt:2,textAlign:"right",children:(0,n.jsx)(Is.Z,{variant:"text",color:"primary",onClick:this.handleToggleAll,children:"Toggle all"})}),(0,n.jsxs)(ma.Z,{className:e.list,children:[(0,n.jsx)(tt.Z,{light:!0}),r.map((({publicKey:t})=>(0,n.jsxs)(a.Fragment,{children:[(0,n.jsxs)(pa.ZP,{children:[(0,n.jsx)(ha.Z,{primary:(0,n.jsxs)($e.Z,{display:"flex",alignItems:"center",mb:1,children:[(0,n.jsx)(z.Z,{variant:"caption",children:(0,P.r)(t)}),(0,n.jsx)(Co.Z,{className:e.linkIcon,onClick:()=>o({type:"account",address:t})})]}),secondary:(0,n.jsx)(z.Z,{variant:"body2",color:"textSecondary",children:(0,n.jsx)(te.sp,{value:l[t]?.value??0})})}),(0,n.jsx)(So.Z,{children:(0,n.jsx)(To.Z,{color:"primary",edge:"end",onChange:this.handleChecked,name:t,checked:-1!==this.state.selected.indexOf(t)})})]}),(0,n.jsx)(tt.Z,{light:!0})]},`address-${t}`)))]}),(0,n.jsxs)($e.Z,{display:"flex",justifyContent:"space-between",mt:4,mb:2,children:[(0,n.jsx)(Is.Z,{variant:"text",color:"primary",onClick:t,children:s("action_back")}),(0,n.jsx)(Is.Z,{disabled:0===this.state.selected.length,type:"submit",variant:"contained",color:"primary",onClick:this.onSubmit,children:s("action_continue")})]}),(0,n.jsx)(z.Z,{variant:"body2",children:s("onboard_you_can_import_later")})]})})}};Ao.propTypes={prevStep:po().func,openExplorer:po().func,classes:po().object,t:po().func,data:po().object,updateData:po().func,nextStep:po().func},Ao=function(e,t,s,n){var a,o=arguments.length,i=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,s,n);else for(var r=e.length-1;r>=0;r--)(a=e[r])&&(i=(o<3?a(i):o>3?a(t,s,i):a(t,s))||i);return o>3&&i&&Object.defineProperty(t,s,i),i}([(0,io.Z)(),jo.Nr,(0,uo.Z)((e=>({list:{height:400,overflow:"auto",padding:0},linkIcon:{width:20,height:20,marginLeft:8,cursor:"pointer",color:e.palette.text.secondary}})))],Ao);const Io=Ao;var Zo=s("../../../node_modules/@keystonehq/animated-qr/dist/index.js"),Mo=s("../../../node_modules/@keystonehq/bc-ur-registry-sol/dist/index.js"),Po=s("../../../node_modules/@keystonehq/sol-keyring/dist/index.js"),Do=s("../../libs/shared/dist/features/walletManagement/decorators/getBalances.js"),Bo=s("../../../node_modules/buffer/index.js").Buffer;const Eo="READY",Oo="PERMISSION_NEEDED";let Lo=class extends a.Component{constructor(e){super(e),this.setCameraStatus=e=>{const t=e?Eo:Oo;this.setState({cameraStatus:t})},this.generateAllAddresses=async e=>{const t=new Po.BaseKeyring,s=Mo.CryptoMultiAccounts.fromCBOR(Bo.from(e.cbor,"hex"));t.syncKeyring(s);const n=t.getAccounts().map((e=>({publicKey:e.pubKey,index:e.index,path:e.hdPath,xfp:s.getMasterFingerprint().toString("hex")}))),a=await this.props.getBalances(n.map((e=>e.publicKey)));await this.props.updateData({accounts:n,activeAccounts:a})},this.onScanSuccess=async e=>{await this.generateAllAddresses(e),this.props.nextStep()},this.onScanFailure=e=>{if(e===Zo.QRCodeError.UNEXPECTED_QRCODE||e===Zo.QRCodeError.INVALID_QR_CODE){const e="Please check your QR code";this.setState({errorMessage:e})}},this.state={cameraStatus:Eo,errorMessage:""}}render(){const{prevStep:e,t,classes:s}=this.props,{errorMessage:a,cameraStatus:o}=this.state;return(0,n.jsxs)($e.Z,{maxWidth:420,margin:"auto",children:[(0,n.jsxs)($e.Z,{display:o===Oo?"block":"none",children:[(0,n.jsx)(z.Z,{variant:"h3",children:t("onboard_keystone_title_1")}),(0,n.jsx)(z.Z,{variant:"body2",color:"textSecondary",children:t("onboard_keystone_description_1")}),(0,n.jsx)($e.Z,{className:s.container,height:420,children:(0,n.jsxs)($e.Z,{width:200,display:"flex",flexDirection:"column",justifyContent:"center",children:[(0,n.jsx)(m.D2,{className:s.icon}),(0,n.jsxs)(z.Z,{variant:"body2",color:"textSecondary",children:[t("onboard_keystone_description_2")," ",(0,n.jsx)(Sn.Z,{variant:"body2",underline:"always",href:"https://keyst.one/solflare",target:"_blank",color:"textPrimary",children:t("onboard_full_tutorial")})]})]})})]}),(0,n.jsxs)($e.Z,{display:o===Eo?"block":"none",children:[(0,n.jsx)(z.Z,{variant:"h3",gutterBottom:!0,children:t("onboard_keystone_title_2")}),(0,n.jsx)(z.Z,{variant:"body2",color:"textSecondary",children:t("onboard_keystone_description_3")}),(0,n.jsx)($e.Z,{className:s.container,height:420,children:(0,n.jsxs)($e.Z,{className:s.scanner,children:[(0,n.jsx)(Zo.AnimatedQRScanner,{purpose:Zo.Purpose.SOL_SYNC,handleScan:this.onScanSuccess,handleError:this.onScanFailure,videoLoaded:this.setCameraStatus,options:{width:370}}),a&&(0,n.jsx)(z.Z,{variant:"body2",className:s.errorMessage,children:a})]})})]}),e&&(0,n.jsx)($e.Z,{display:"flex",justifyContent:"center",mt:4,children:(0,n.jsx)(Is.Z,{variant:"text",color:"primary",onClick:e,children:t("action_back")})})]})}};Lo.propTypes={t:po().func,classes:po().object,getBalances:po().func,updateData:po().func,data:po().object,prevStep:po().func,nextStep:po().func},Lo=function(e,t,s,n){var a,o=arguments.length,i=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,s,n);else for(var r=e.length-1;r>=0;r--)(a=e[r])&&(i=(o<3?a(i):o>3?a(t,s,i):a(t,s))||i);return o>3&&i&&Object.defineProperty(t,s,i),i}([(0,io.Z)(),(0,Do.l)(),(0,uo.Z)((e=>({container:{display:"flex",justifyContent:"center",marginTop:16,padding:24,border:`1px solid ${e.palette.common.white10}`,backgroundColor:e.palette.common.black20,borderRadius:8},scanner:{position:"relative","& div, video":{height:370,objectFit:"cover",borderRadius:10}},icon:{width:196,height:157,marginBottom:10},errorMessage:{position:"absolute",bottom:8,width:"100%",textAlign:"center"}})))],Lo);const No=Lo;var Ro=s("../../../node_modules/console-browserify/index.js");const Fo="SCAN",Uo="ACCOUNTS",$o="PASSWORD",Wo=()=>{const{t:e}=(0,A.$)(),t=(0,B.s0)(),{login:s,addAccount:o,selectAccountByIndex:i}=(0,Y.bg)(),{setDefaultAutoLock:r}=(0,_e.ec)(),{loggedIn:l}=(0,Y.Rg)(),[d,c]=(0,a.useState)({step:Fo,password:"",forImport:[]}),u=e=>{c((t=>({...t,...e})))},m=[{title:e("onboard_carousel_keystone_1_title"),description:e("onboard_carousel_keystone_1_description")},{title:e("onboard_carousel_keystone_2_title"),description:e("onboard_carousel_keystone_2_description")},{title:e("onboard_carousel_keystone_3_title"),description:e("onboard_carousel_keystone_3_description")}];return l?(0,n.jsx)(B.Fg,{to:U.Zg.MAIN,replace:!0}):(0,n.jsxs)(et.ZP,{container:!0,direction:"row",sx:{minHeight:"100vh"},children:[(0,n.jsx)(et.ZP,{item:!0,xs:12,sm:7,md:6,sx:e=>({background:e.palette.background.paperBackground,display:"flex"}),children:(0,n.jsxs)(De.Z,{maxWidth:"sm",sx:{display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,n.jsx)($a,{}),d.step===Fo&&(0,n.jsx)(No,{data:d,updateData:u,prevStep:()=>t(U.Us.MAIN),nextStep:()=>c((e=>({...e,step:Uo})))}),d.step===Uo&&(0,n.jsx)(Io,{data:d,updateData:u,prevStep:()=>c((e=>({...e,step:Fo}))),nextStep:()=>c((e=>({...e,step:$o})))}),d.step===$o&&(0,n.jsx)(Fa,{data:d,updateData:u,prevStep:()=>c((e=>({...e,step:Uo}))),nextStep:async()=>{const{password:e,forImport:n}=d;if(0===n.length)return Ro.error("Accounts cannot be empty"),null;const a=n[0],l=new wo.J;l.init(a),Ve.p1,t(U.Us.SUCCESS);const c={locked:!!e,data:(0,V.Mw)(l,"Main Keystone"),password:(0,V.c_)(e)};await s(c);for(let e=1;e<n.length;e++){const t=n[e],s=new wo.J;s.init(t);const a=`Keystone ${t.index}`;await o(s.toObject(),a,!1)}await r(),await i(0)}}),(0,n.jsx)("div",{})]})}),(0,n.jsx)(et.ZP,{item:!0,xs:12,sm:5,md:6,sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",p:4},children:(0,n.jsx)(La,{items:m})})]})};var Ko=s("../../libs/wallet-core/dist/ledger.js"),zo=s("../web/src/features/onboarding/assets/carousel-image-blind.svg"),Ho=s("../web/src/features/onboarding/assets/carousel-image-ledger.svg"),Vo=s("../web/src/features/onboarding/assets/carousel-image-solana-app.svg"),Go=s("../../../node_modules/immer/dist/immer.mjs"),qo=s("../../../node_modules/console-browserify/index.js");let Yo=class extends a.Component{constructor(e){super(e),this.generateAddresses=async(e=0,t=9,s)=>{const n=[];for(let a=e;a<=t;a++)n.push({publicKey:await Ko.uN.getDevicePublicKey(s,a),index:a});return(0,gt.uniq)(n)},this.fetchAddresses=async(e,t,s,n=!1)=>{let a=await this.generateAddresses(t,s,e);const o=await this.props.getBalances(a.map((e=>e.publicKey)));return n&&(a=a.filter((e=>find(o,(t=>t.pubkey===e.publicKey))))),{accounts:a,active:o}},this.getActiveAccountsMap=e=>{const{data:{activeAccountsPerPath:t,derivationPath:s}}=this.props,n=e?.length>0?e:t[s];return(0,gt.keyBy)(n,"pubkey")},this.handleChecked=e=>{const{name:t,checked:s}=e.target;s?this.setState({selected:(0,gt.union)(this.state.selected,[t])}):this.setState({selected:(0,gt.difference)(this.state.selected,[t])})},this.handleToggleAll=()=>{const{data:{derivationPath:e,activeAccountsPerPath:t}}=this.props,s=t[e]?.map((e=>e.pubkey));(0,gt.isEqual)(this.state.selected,s??[])?this.setState({selected:[]}):this.setState({selected:s??[]})},this.onSubmit=()=>{const{data:{derivationPath:e,allAccounts:t}}=this.props,s=t[e].accounts,n=this.state.addresses.map((e=>({address:e,index:s.find((t=>t.publicKey===e))?.index}))).filter((({address:e})=>this.state.selected.indexOf(e)>=0));this.props.onImport(e,n)},this.onInfiniteScroll=async()=>{const{data:e,data:{derivationPath:t,allAccounts:s,activeAccountsPerPath:n},updateData:a}=this.props;if(1===s[t].accounts.length)return;const o=this.state.addresses.length;try{this.setState({loading:!0});const{accounts:i,active:r}=await this.fetchAddresses(t,o,o+10),l=(0,Go.Uy)(e,(e=>{e.activeAccountsPerPath[t]&&(e.activeAccountsPerPath[t]=[...n[t],...r]),e.allAccounts[t].accounts=[...s[t].accounts,...i]}));a(l);const d=r.map((e=>e.pubkey));this.setState({loading:!1,addresses:l.allAccounts[e.derivationPath].accounts.map((e=>e.publicKey)),active:this.getActiveAccountsMap(l.activeAccountsPerPath[t]),selected:this.state.selected.length?[...this.state.selected,...d]:[...d]})}catch(e){this.setState({loading:!1}),qo.log(e)}},this.state={addresses:e.data.allAccounts[e.data.derivationPath].accounts.map((e=>e.publicKey)),selected:Object.keys(this.getActiveAccountsMap()),active:this.getActiveAccountsMap(),loading:!1}}render(){const{classes:e,prevStep:t,t:s,openExplorer:o,data:{activeAccountsPerPath:i,derivationPath:r,allAccounts:l},manage:d}=this.props,{active:c}=this.state;return(0,n.jsx)($e.Z,{display:"flex",flexDirection:"column",alignItems:"center",children:(0,n.jsxs)($e.Z,{maxWidth:400,textAlign:"center",children:[(0,n.jsx)(z.Z,{variant:"h2",gutterBottom:!0,children:s("onboard_active_wallet",{count:i[r]?.length||0})}),(0,n.jsx)(z.Z,{variant:"body2",color:"textSecondary",children:s("onboard_active_description")}),(0,n.jsx)($e.Z,{mt:2,textAlign:"right",children:(0,n.jsx)(Is.Z,{variant:"text",color:"primary",onClick:this.handleToggleAll,children:"Toggle all"})}),(0,n.jsxs)(ma.Z,{className:e.list,children:[(0,n.jsx)(tt.Z,{light:!0}),(0,n.jsx)(Qe.OO,{data:l[r].accounts||[],endReached:this.onInfiniteScroll,overscan:80,components:{Footer:1===l[r].accounts.length?void 0:m.b2},itemContent:(t,{publicKey:s})=>(0,n.jsxs)(a.Fragment,{children:[(0,n.jsxs)(pa.ZP,{children:[(0,n.jsx)(ha.Z,{primary:(0,n.jsxs)($e.Z,{display:"flex",alignItems:"center",mb:1,children:[(0,n.jsx)(z.Z,{variant:"caption",children:(0,P.r)(s)}),(0,n.jsx)(Co.Z,{className:e.linkIcon,onClick:()=>o({type:"account",address:s})})]}),secondary:(0,n.jsx)(z.Z,{variant:"body2",color:"textSecondary",children:(0,n.jsx)(te.sp,{value:c[s]?.value??0})})}),(0,n.jsx)(So.Z,{children:(0,n.jsx)(To.Z,{color:"primary",edge:"end",onChange:this.handleChecked,name:s,checked:-1!==this.state.selected.indexOf(s)})})]}),(0,n.jsx)(tt.Z,{light:!0})]},`address-${s}`)})]}),(0,n.jsxs)($e.Z,{display:"flex",justifyContent:"space-between",mt:4,mb:2,children:[(0,n.jsx)(Is.Z,{variant:"text",color:"primary",onClick:t,children:s("action_back")}),(0,n.jsx)(Is.Z,{disabled:0===this.state.selected.length,type:"submit",variant:"contained",color:"primary",onClick:this.onSubmit,children:s(d?"action_import":"action_continue")})]}),(0,n.jsx)(z.Z,{variant:"body2",children:s("onboard_you_can_import_later")})]})})}};Yo.propTypes={manage:po().bool,prevStep:po().func,onImport:po().func,openExplorer:po().func,classes:po().object,t:po().func,data:po().object,getBalances:po().func,updateData:po().func},Yo=function(e,t,s,n){var a,o=arguments.length,i=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,s,n);else for(var r=e.length-1;r>=0;r--)(a=e[r])&&(i=(o<3?a(i):o>3?a(t,s,i):a(t,s))||i);return o>3&&i&&Object.defineProperty(t,s,i),i}([(0,io.Z)(),jo.Nr,(0,Do.l)(),(0,uo.Z)((e=>({list:{height:400,padding:0},linkIcon:{width:20,height:20,marginLeft:8,cursor:"pointer",color:e.palette.text.secondary}})))],Yo);const Qo=Yo;var Jo=s("../../../node_modules/console-browserify/index.js");let Xo=class extends a.Component{constructor(){super(...arguments),this.readLedger=async()=>{const{t:e,nextStep:t,closableNotification:s}=this.props;try{await Ko.uN.getDevicePublicKey(this.props.data.derivationPath,0),t()}catch(t){Jo.log(t),s({message:e("error_ledger_failed_to_connect"),variant:"error"})}}}render(){const{prevStep:e,t,manage:s}=this.props;return(0,n.jsxs)($e.Z,{maxWidth:360,margin:"auto",textAlign:"center",children:[(0,n.jsx)(z.Z,{variant:"h2",gutterBottom:!0,children:t("onboard_connect_ledger")}),(0,n.jsx)(z.Z,{variant:"body2",color:"textSecondary",children:t("onboard_ledger_continue_when_ready")}),(0,n.jsxs)($e.Z,{display:"flex",justifyContent:s?"center":"space-between",mt:4,children:[!s&&(0,n.jsx)(Is.Z,{variant:"text",color:"primary",onClick:e,children:t("action_back")}),(0,n.jsx)(Is.Z,{variant:"contained",color:"primary",onClick:this.readLedger,children:t("action_continue")})]})]})}};Xo.propTypes={t:po().func,manage:po().bool,data:po().object,prevStep:po().func,nextStep:po().func,closableNotification:po().func},Xo=function(e,t,s,n){var a,o=arguments.length,i=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,s,n);else for(var r=e.length-1;r>=0;r--)(a=e[r])&&(i=(o<3?a(i):o>3?a(t,s,i):a(t,s))||i);return o>3&&i&&Object.defineProperty(t,s,i),i}([(0,io.Z)(),jo.nT],Xo);const ei=Xo;var ti=s("../../../node_modules/@mui/icons-material/esm/AccountBalanceWallet.js");let si=class extends a.Component{constructor(){super(...arguments),this.state={addresses:{},isLoading:!0},this.generateAddresses=async(e=0,t=9,s=this.state.derivationPath)=>{const n=[];for(let a=e;a<=t;a++)n.push({publicKey:await Ko.uN.getDevicePublicKey(s,a),index:a});return(0,gt.uniq)(n)},this.fetchAddresses=async(e,t,s,n=!1)=>{let a=await this.generateAddresses(t,s,e);const o=await this.props.getBalances(a.map((e=>e.publicKey)));return n&&(a=a.filter((e=>(0,gt.find)(o,(t=>t.pubkey===e.publicKey))))),{accounts:a,active:o}},this.generateAllAddresses=async()=>{const e={};e[V.PT.bip44Root]=await this.fetchAddresses(V.PT.bip44Root,0,0),e[V.PT.bip44]=await this.fetchAddresses(V.PT.bip44,0,9),e[V.PT.bip44Change]=await this.fetchAddresses(V.PT.bip44Change,0,9),e[V.PT.bip44Ledger]=await this.fetchAddresses(V.PT.bip44Ledger,1,9,!0),e[V.PT.bip44LedgerChange]=await this.fetchAddresses(V.PT.bip44LedgerChange,0,9,!0);const t=Object.keys({...Ha.z$,...Ha.ff}).reduce(((t,s,n)=>(e[s].active.length&&(t[s]=e[s].active),t)),{});await this.props.updateData({allAccounts:e,activeAccountsPerPath:t}),this.setState({addresses:e,isLoading:!1})},this.getDerivationPathAccountsBalance=e=>{const t=this.props.data.activeAccountsPerPath[e]?.reduce(((e,t)=>e+t.value),0);return(0,n.jsx)(te.sp,{value:t||0})},this.selectDerivationPath=async e=>{await this.props.updateData({derivationPath:e}),this.props.nextStep()}}componentDidMount(){this.generateAllAddresses()}renderItem(e){const{data:t,classes:s}=this.props;return(0,n.jsxs)(pa.ZP,{button:!0,className:s.listItem,onClick:()=>this.selectDerivationPath(e),children:[(0,n.jsx)(ha.Z,{primary:(0,n.jsx)(z.Z,{variant:"h3",children:Ha.z$[e]||Ha.ff[e]}),secondary:(0,n.jsx)(z.Z,{variant:"caption",color:"textSecondary",children:(0,P.r)(this.state.addresses[e].accounts[0]?.publicKey)})}),(0,n.jsx)(So.Z,{children:(0,n.jsxs)($e.Z,{textAlign:"right",children:[(0,n.jsx)(z.Z,{variant:"h2",children:this.getDerivationPathAccountsBalance(e)}),(0,n.jsxs)(z.Z,{variant:"body2",color:"textSecondary",children:[t.activeAccountsPerPath[e]?.length||0," accounts"]})]})})]},`path-${e}`)}render(){const{data:e,prevStep:t,t:s,classes:a,manage:o}=this.props;return this.state.isLoading?(0,n.jsxs)($e.Z,{textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",children:[(0,n.jsxs)($e.Z,{mb:4,className:a.iconContainer,width:180,height:180,display:"inline-flex",justifyContent:"center",alignItems:"center",position:"relative",borderRadius:"50%",children:[(0,n.jsx)(ti.Z,{color:"primary",style:{fontSize:50}}),(0,n.jsx)(d.Z,{className:a.progress,size:180,thickness:1})]}),(0,n.jsx)($e.Z,{maxWidth:350,children:(0,n.jsx)(z.Z,{variant:"body1",gutterBottom:!0,children:s("onboard_detecting_existing_accounts")})})]}):(0,n.jsxs)($e.Z,{textAlign:"center",children:[(0,n.jsx)(z.Z,{variant:"h2",gutterBottom:!0,children:s("onboard_select_derivation_path")}),(0,n.jsx)(z.Z,{variant:"body2",color:"textSecondary",children:s("onboard_select_derivation_path_you_want_to_use")}),(0,n.jsxs)(ma.Z,{className:a.list,children:[Object.keys(Ha.z$).map((e=>this.renderItem(e))),Object.keys(Ha.ff).map((t=>e.activeAccountsPerPath[t]?.length>0?this.renderItem(t):null))]}),!o&&(0,n.jsx)($e.Z,{display:"flex",justifyContent:"space-between",mt:4,mb:2,children:(0,n.jsx)(Is.Z,{variant:"text",color:"primary",onClick:t,children:s("action_back")})})]})}};si.propTypes={t:po().func,manage:po().bool,getBalances:po().func,updateData:po().func,classes:po().object,prevStep:po().func,nextStep:po().func,data:po().object},si=function(e,t,s,n){var a,o=arguments.length,i=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,s,n);else for(var r=e.length-1;r>=0;r--)(a=e[r])&&(i=(o<3?a(i):o>3?a(t,s,i):a(t,s))||i);return o>3&&i&&Object.defineProperty(t,s,i),i}([(0,io.Z)(),(0,Do.l)(),(0,uo.Z)((e=>({iconContainer:{backgroundColor:e.palette.primary.light},progress:{position:"absolute"},list:{marginTop:e.spacing(4)},listItem:{background:e.palette.common.white10,borderRadius:6,marginBottom:e.spacing(2),"&:hover":{background:e.palette.common.white20}}})))],si);const ni=si;var ai=s("../../../node_modules/console-browserify/index.js");const oi="CONNECT",ii="PASSWORD",ri="DERIVATION_PATH",li="ACCOUNTS",di=()=>{const{t:e}=(0,A.$)(),t=(0,B.s0)(),{login:s,addAccount:o,selectAccountByIndex:i}=(0,Y.bg)(),{setDefaultAutoLock:r}=(0,_e.ec)(),{loggedIn:l}=(0,Y.Rg)(),[d,c]=(0,a.useState)({step:oi,password:"",mnemonic:"",mnemonicWords:[],seed:null,derivationPath:"bip44LedgerRoot"}),u=e=>{c((t=>({...t,...e})))},m=[{image:Ho,title:e("onboard_carousel_ledger_1_title"),description:e("onboard_carousel_ledger_1_description")},{image:Vo,title:e("onboard_carousel_ledger_2_title"),description:e("onboard_carousel_ledger_2_description")},{image:zo,title:e("onboard_carousel_ledger_3_title"),description:e("onboard_carousel_ledger_3_description")}];return l?(0,n.jsx)(B.Fg,{to:U.Zg.MAIN,replace:!0}):(0,n.jsxs)(et.ZP,{container:!0,direction:"row",sx:{minHeight:"100vh"},children:[(0,n.jsx)(et.ZP,{item:!0,xs:12,sm:7,md:6,sx:e=>({background:e.palette.background.paperBackground,display:"flex"}),children:(0,n.jsxs)(De.Z,{maxWidth:"sm",sx:{display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,n.jsx)($a,{}),d.step===oi&&(0,n.jsx)(ei,{data:d,updateData:u,prevStep:()=>t(U.Us.MAIN),nextStep:()=>u({step:ii})}),d.step===ii&&(0,n.jsx)(Fa,{data:d,updateData:u,prevStep:()=>u({step:oi}),nextStep:()=>u({step:ri})}),d.step===ri&&(0,n.jsx)(ni,{data:d,updateData:u,prevStep:()=>u({step:oi}),nextStep:()=>u({step:li})}),d.step===li&&(0,n.jsx)(Qo,{data:d,updateData:u,onImport:async(e,n)=>{const{derivationPath:a,password:l}=d;if(0===n.length)return ai.error("Accounts cannot be empty"),null;const c=n[0],u=new Ko.uN;u.init({publicKey:c.address,accountIndex:c.index,derivationPath:a}),Ve.p1?t(U.Us.SHORTCUT):t(U.Us.SUCCESS);const m={locked:!!l,data:(0,V.Mw)(u,"Main Ledger"),password:(0,V.c_)(l)};await s(m);for(let e=1;e<n.length;e++){const t=n[e],s=new Ko.uN;s.init({publicKey:t.address,accountIndex:t.index,derivationPath:a});const i=`Ledger ${t.index}`;await o(s.toObject(),i,!1)}await r(),await i(0)},prevStep:()=>u({step:oi}),nextStep:()=>{}}),(0,n.jsx)("div",{})]})}),(0,n.jsx)(et.ZP,{item:!0,xs:12,sm:5,md:6,sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",p:4},children:(0,n.jsx)(La,{items:m})})]})};var ci=s("../../libs/shared/dist/assets/onboarding-access-wallet.svg"),ui=s("../../libs/shared/dist/assets/onboarding-create-wallet.svg");const mi=()=>{const{t:e}=(0,A.$)(),t=(0,B.s0)(),{loggedIn:s}=(0,Y.Rg)();return s?(0,n.jsx)(B.Fg,{to:U.Zg.MAIN,replace:!0}):(0,n.jsxs)(De.Z,{children:[(0,n.jsx)($a,{}),(0,n.jsx)($e.Z,{px:1,children:(0,n.jsxs)(et.ZP,{container:!0,spacing:5,alignItems:"center",justifyContent:"center",style:{minHeight:"calc(100vh - 50px)",marginTop:"-10vh"},children:[(0,n.jsxs)(et.ZP,{item:!0,sm:6,xs:12,sx:{textAlign:"center",maxWidth:330},children:[(0,n.jsx)($e.Z,{mb:3,children:(0,n.jsx)("img",{src:ui,alt:"wallet"})}),(0,n.jsx)(z.Z,{variant:"h2",gutterBottom:!0,children:e("onboard_create_new_wallet_title")}),(0,n.jsx)(z.Z,{variant:"body2",color:"textSecondary",gutterBottom:!0,children:e("onboard_get_started")}),(0,n.jsx)($e.Z,{mt:3,children:(0,n.jsx)(Is.Z,{"data-id":"i_need_a_wallet_button",variant:"contained",color:"primary",onClick:()=>t(U.Us.CREATE),children:e("onboard_i_need_wallet")})})]}),(0,n.jsxs)(et.ZP,{item:!0,sm:6,xs:12,sx:{textAlign:"center",maxWidth:330},children:[(0,n.jsx)($e.Z,{mb:3,children:(0,n.jsx)("img",{src:ci,alt:"wallet"})}),(0,n.jsx)(z.Z,{variant:"h2",gutterBottom:!0,children:e("onboard_already_have_recovery")}),(0,n.jsx)(z.Z,{variant:"body2",color:"textSecondary",gutterBottom:!0,children:e("onboard_restore_existing_wallet")}),(0,n.jsx)($e.Z,{mt:3,children:(0,n.jsx)(Is.Z,{"data-id":"i_already_have_wallet_button",variant:"contained",color:"primary",onClick:()=>t(U.Us.ACCESS),children:e("onboard_i_already_have_wallet")})})]}),(0,n.jsxs)(et.ZP,{item:!0,xs:12,sx:{textAlign:"center",maxWidth:330,position:{sm:"fixed"},bottom:"4vh"},children:[(0,n.jsx)(z.Z,{variant:"h2",gutterBottom:!0,children:e("onboard_or_continue_with")}),(0,n.jsxs)($e.Z,{display:"flex",justifyContent:"space-between",width:330,children:[(0,n.jsx)(Is.Z,{"data-id":"ledger_button",sx:{mb:2},variant:"outlined",color:"primary",onClick:()=>t(U.Us.LEDGER),startIcon:(0,n.jsx)(m.Ss,{}),children:e("ledger")}),(0,n.jsx)(Is.Z,{"data-id":"keystone_button",sx:{mb:2},variant:"outlined",color:"primary",onClick:()=>t(U.Us.KEYSTONE),startIcon:(0,n.jsx)(m.Ud,{}),children:e("keystone")})]}),!Ve.p1&&(0,n.jsx)(Is.Z,{"data-id":"metamask_button",sx:{mb:2},variant:"outlined",color:"primary",onClick:()=>t(U.Us.METAMASK.MAIN),startIcon:(0,n.jsx)($e.Z,{component:"img",src:Ct,alt:"MetaMask",height:20,width:20}),children:e("metamask")})]})]})})]})},pi=({prevStep:e,nextStep:t})=>{const[o,i]=(0,a.useState)(!1),[r,l]=(0,a.useState)(!0),[d,u]=(0,a.useState)(null),{t:m}=(0,A.$)(),{enqueueSnackbar:p}=(0,S.Ds)();(0,a.useEffect)((()=>{(async()=>{await(0,Ot.Ck)()?l(!1):l(!0)})(),(async()=>{const e=await s.e("web_src_features_onboarding_metamask_assets_connect_json").then(s.t.bind(s,"../web/src/features/onboarding/metamask/assets/connect.json",19));u(e)})()}),[]);const h=(0,a.useCallback)((async()=>{i(!0);try{await Ae.c.connect(),t()}catch(e){p("Connection rejected",{variant:"error",autoHideDuration:5e3})}finally{i(!1)}}),[p,t]);return(0,n.jsx)(c.WebTutorial,{illustration:d?(0,n.jsx)(wt.Z,{loop:!0,play:!0,animationData:d}):(0,n.jsx)("div",{}),title:"Are You Ready to Explore Solana?",description:'Click "Continue" and follow the instructions in MetaMask to install the Solana Snap. In just a few steps, you\'ll be ready to experience Solana with MetaMask.',nextButton:{onClick:h,title:o?"Connecting":r?"MetaMask not detected":"Connect Metamask",disabled:o||r,isLoading:o},prevButton:{onClick:e,title:m("action_back"),disabled:o}})};var hi=s("../../libs/shared/dist/features/walletManagement/api/index.js"),xi=s("../../libs/shared/dist/features/walletManagement/utils/index.js");const gi=({updateData:e,data:t,onImport:o,prevStep:i})=>{const r=(()=>{const e=(0,N.Af)(),t=(0,_e.LN)();return(0,a.useCallback)((async(s,n=V.R7)=>{let a=null;try{a=await(0,hi.ld)({pubkeys:s.map((e=>(0,xi.z_)(e,V.oH[n]))),network:t.cluster,currency:e.ticker,general:!1})}catch(e){e.partialData&&(a=e.partialData)}return a?(a?.data||[]).map((e=>({pubkey:e.publicKey,value:e.value??0}))).filter((e=>e.value>0)):[]}),[e,t.cluster])})(),[l,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)(null),[p,h]=(0,a.useState)(null);(0,a.useEffect)((()=>{(async()=>{const[e,t]=await Promise.all([s.e("web_src_features_onboarding_metamask_assets_import_json").then(s.t.bind(s,"../web/src/features/onboarding/metamask/assets/import.json",19)),s.e("web_src_features_onboarding_metamask_assets_error_json").then(s.t.bind(s,"../web/src/features/onboarding/metamask/assets/error.json",19))]);m(e),h(t)})(),x()}),[]);const x=async()=>{try{const s=await(async(e=10,t)=>{const s=[];for(let n=0;n<e;n++)s.push({publicKey:await Ae.c.getPublicKey(t,n),index:n});return(0,gt.uniq)(s)})(10,t.derivationPath),n=await r(s.map((e=>e.publicKey)));let a=[];0===n.length?a.push(s[0]):a=s.filter((e=>n.some((t=>t.pubkey===e.publicKey))));const i=a.map((e=>({address:e.publicKey,index:e.index})));await e({allAccounts:s,activeAccountsPerPath:i}),o(t.derivationPath,i)}catch(e){d(!0)}},g=(0,a.useMemo)((()=>l?{key:"errorAnimation",illustration:p,title:"Something Went Wrong",description:"Please check your internet connection and try again. If you keep experiencing issues, please contact our support team.",nextButton:{onClick:()=>window.open("https://academy.solflare.com/guides/?get_help=true","_blank"),title:"Contact support"},prevButton:{onClick:i,title:"Back"}}:{key:"animation",illustration:u,title:"Setting up Your Wallet"}),[u,l,p,i]);return(0,n.jsx)(c.WebTutorial,{...g,illustration:(0,n.jsx)(wt.Z,{loop:!l,play:!0,animationData:g?.illustration},g.key)})},ji=((0,Ke.Z)((()=>({container:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",padding:0}}))),({nextStep:e,lastStep:t})=>{const[o,i]=(0,a.useState)(t?4:1),[r,l]=(0,a.useState)([]),{t:d}=(0,A.$)();(0,a.useEffect)((()=>{(async()=>{const e=await Promise.all([s.e("web_src_features_onboarding_metamask_assets_tutorialStepOne_json").then(s.t.bind(s,"../web/src/features/onboarding/metamask/assets/tutorialStepOne.json",19)),s.e("web_src_features_onboarding_metamask_assets_tutorialStepTwo_json").then(s.t.bind(s,"../web/src/features/onboarding/metamask/assets/tutorialStepTwo.json",19)),s.e("web_src_features_onboarding_metamask_assets_tutorialStepThree_json").then(s.t.bind(s,"../web/src/features/onboarding/metamask/assets/tutorialStepThree.json",19)),s.e("web_src_features_onboarding_metamask_assets_tutorialStepFour_json").then(s.t.bind(s,"../web/src/features/onboarding/metamask/assets/tutorialStepFour.json",19))]);l(e)})()}),[o]);const u=(0,a.useMemo)((()=>{switch(o){case 1:default:return{title:"Enter Solana with MetaMask Snap",description:"You’re about to install the Solana Snap which allows you to manage Solana tokens, NFTs, and connect to Solana apps!",onNextClick:()=>i(2)};case 2:return{title:"Solflare - Your Solana Companion",description:"Once you’ve installed the Solana Snap, every time you connect to Solana apps, the Solflare widget will be right at your side. View and manage your Solana assets, all of which are securely stored in your MetaMask.",onPrevClick:()=>i(1),onNextClick:()=>i(3)};case 3:return{title:"Experience the Full Power of Solflare",description:"You can manage Solana tokens, collect and trade NFTs, swap assets, stake SOL, monitor activity, and effortlessly bridge to Solana. Unlock all of Solflare’s features from the comfort of your MetaMask.",onPrevClick:()=>i(2),onNextClick:()=>i(4)};case 4:return{title:"Stay Secure with Solflare",description:"The Solflare widget protects you by providing easy-to-understand balance changes for each transaction. Know exactly what you are signing before approving in MetaMask.",onPrevClick:()=>i(3),onNextClick:e}}}),[e,o]);return(0,n.jsx)(c.WebTutorial,{...u,illustration:r[o-1]?(0,n.jsx)(wt.Z,{loop:!0,play:!0,animationData:r[o-1]}):(0,n.jsx)("div",{}),nextButton:{onClick:u?.onNextClick,title:d("action_continue")},prevButton:u.onPrevClick?{onClick:u.onPrevClick,title:d("action_back")}:void 0})});var bi=s("../../../node_modules/console-browserify/index.js");const fi="TUTORIAL",_i="CONNECT",yi="IMPORT",vi=()=>{const e=(0,B.s0)(),{addAccount:t,login:s,selectAccountByIndex:o}=(0,Y.bg)(),[i,r]=(0,a.useState)({step:fi,tutorialLastStep:!1,mnemonic:"",mnemonicWords:[],seed:null,derivationPath:"bip44Change"}),l=e=>{r((t=>({...t,...e})))};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)($e.Z,{px:3.75,pt:1.75,children:(0,n.jsx)($a,{})}),(0,n.jsxs)(De.Z,{maxWidth:"sm",sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"calc(100vh - 96px)",padding:0,paddingBottom:"96px"},children:[i.step===fi&&(0,n.jsx)(ji,{nextStep:()=>l({step:_i,tutorialLastStep:!1}),lastStep:i.tutorialLastStep}),i.step===_i&&(0,n.jsx)(pi,{prevStep:()=>l({step:fi,tutorialLastStep:!0}),nextStep:()=>l({step:yi})}),i.step===yi&&(0,n.jsx)(gi,{data:i,updateData:l,onImport:async(n,a)=>{const{derivationPath:r}=i;if(0===a.length)return bi.error("Accounts cannot be empty"),null;const l=a[0],d=new Ae.c;d.init({publicKey:l.address,accountIndex:l.index,derivationPath:r}),e(U.Us.METAMASK.SUCCESS);const c={locked:!1,data:(0,V.Mw)(d,"Solana Wallet")};await s(c);for(let e=1;e<a.length;e++){const s=a[e],n=new Ae.c;n.init({publicKey:s.address,accountIndex:s.index,derivationPath:r});const o=`Solana ${s.index}`;await t(n.toObject(),o,!1)}await o(0)},prevStep:()=>l({step:_i})}),(0,n.jsx)("div",{})]})]})},ki="BOOKMARK",wi="READY",Ci=(0,Ke.Z)((()=>({container:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",padding:0}}))),Si=()=>{const[e,t]=(0,a.useState)(ki),[o,i]=(0,a.useState)([]),r=Ci(),l=(0,B.s0)();(0,a.useEffect)((()=>{(async()=>{const e=await Promise.all([s.e("web_src_features_onboarding_metamask_assets_bookmark_json").then(s.t.bind(s,"../web/src/features/onboarding/metamask/assets/bookmark.json",19)),s.e("web_src_features_onboarding_metamask_assets_success_json").then(s.t.bind(s,"../web/src/features/onboarding/metamask/assets/success.json",19))]);i(e)})()}),[e]);const d=(0,a.useMemo)((()=>{switch(e){case ki:return{illustration:o[0],title:"Important: Bookmark Solflare!",description:"Make sure to save Solflare to your bookmarks. Solflare will be your dedicated portal to access and manage your Solana assets within MetaMask.",nextButton:{onClick:()=>t(wi),title:"Continue"}};case wi:return{illustration:o[1],title:"You’re All Set!",description:"Dive into Solana's vibrant ecosystem with near-instant and virtually free transactions, powered by Solflare with MetaMask Snap!",nextButton:{onClick:()=>l(U.Zg.MAIN),title:"Enter Solana"}};default:return{illustration:o[0],title:"Important: Bookmark Solflare!",description:"Make sure to save Solflare to your bookmarks. Solflare will be your dedicated portal to access and manage your Solana assets within MetaMask.",nextButton:{onClick:()=>t(wi),title:"Continue"}}}}),[o,l,e]);return(0,n.jsx)(De.Z,{maxWidth:"sm",className:r.container,children:(0,n.jsx)(c.WebTutorial,{...d,illustration:d.illustration?(0,n.jsx)(wt.Z,{loop:!0,play:!0,animationData:d.illustration}):(0,n.jsx)("div",{}),nextButton:d?.nextButton})})},Ti=()=>(0,B.V$)([{index:!0,element:(0,n.jsx)(vi,{})},{path:"success",element:(0,n.jsx)(Si,{})}]),Ai=()=>(0,B.V$)([{index:!0,element:(0,n.jsx)(mi,{})},{path:"create",element:(0,n.jsx)(ko,{})},{path:"access",element:(0,n.jsx)(oo,{})},{path:"keystone",element:(0,n.jsx)(Wo,{})},{path:"ledger",element:(0,n.jsx)(di,{})},{path:"success",element:(0,n.jsx)(Ea,{})},...Ve.p1?[{path:"shortcut",element:(0,n.jsx)(wa,{})}]:[],...Ve.p1?[]:[{path:"metamask/*",element:(0,n.jsx)(Ti,{})}]]);var Ii=s("../../libs/shared/dist/features/portfolio/context/index.js");const Zi=({onClose:e})=>{const[t,o]=(0,a.useState)(null);return(0,a.useEffect)((()=>{(async()=>{const e=await s.e("libs_shared_dist_assets_onboardingBlockNonMetamask_json").then(s.t.bind(s,"../../libs/shared/dist/assets/onboardingBlockNonMetamask.json",19));o(e)})()}),[]),(0,n.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,n.jsx)(c.WebTutorial,{illustration:t?(0,n.jsx)(wt.Z,{loop:!0,play:!0,animationData:t}):(0,n.jsx)("div",{}),title:"Can’t Connect with MetaMask",description:"You are already logged in to the Solflare Web Wallet. To connect with the Solana Snap you’ll need to log out or use a different browser profile.",prevButton:{onClick:e,title:"Continue to Solflare"}})})};var Mi=s("../../libs/shared/dist/features/onramper/modals/index.js"),Pi=s("../../libs/shared/dist/features/recipientInput/components/index.js"),Di=s("../../libs/shared/dist/features/recipientInput/transformers/index.js"),Bi=s("../../libs/shared/dist/features/portfolio/hooks/useAmountInput.js");const Ei=({onClose:e,providedAccount:t})=>{const{t:s}=(0,A.$)(),{saveAddress:o}=(0,wn.x)(),{actions:i}=(0,q.h1)(),{inputAmount:r,setInputAmount:l,computedInputValue:d,handleAmountChange:u,handleSelectedTokenChange:m,selectedToken:p,computeUnitPrice:h,filteredTokens:x,setSearchParam:g,maxAvailable:j}=(0,Bi._)({providedAccount:t}),b=p?.tokenId!==L.BH&&!p?.isAta,{selectedRecipient:f,saveAddressChecked:_}=(0,wn.x)(b),{upsertAddress:y}=(0,C.g)(),v=!+r||!f,k=(0,a.useCallback)((async()=>{if(!p||!f)return!1;if(_&&!await o())return!1;const t=f.address,s=f.name??(0,P.r)(t);await i.delegateToken((0,Di.sc)(p),(0,Di.t)(p),t,r,s,(()=>{const e="SAVED"!==f.group?f.name:f.subtitle;y(f.address,e)}),(()=>{e?.()}))}),[i,r,e,o,_,f,p,y]);return(0,n.jsxs)(vs.V,{title:s("action_send"),textAlign:"left",onClose:e,contentInlineStyle:{marginBottom:-24},footer:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(c.Button,{disabled:v,onClick:k,children:s("action_send")})}),children:[p&&(0,n.jsx)(c.SendInput,{autoFocusAmount:!0,label:(0,n.jsx)(c.Label,{htmlFor:"send-input",children:s("table_token")}),right:(0,n.jsx)(c.RightLabel,{onClick:h?()=>{l((0,is.T7)(j))}:void 0,children:(0,M.ED)({displayType:"solana",amount:j||0,prefix:`${s("swap_max")}: `})}),amount:r,value:d,id:"send-input",onBlur:()=>{l((e=>e?(0,is.iP)(e,p.decimals):e))},onAmountChange:u,selectedToken:p,onSearchChange:e=>{g(e.target.value)},onOpenChange:e=>{e||g("")},tokens:x||[],emptyTokenSearch:s("search_empty_results"),onSelectedTokenChange:m,unverifiedTooltip:s("unverified_token_tooltip")}),(0,n.jsx)(Pi.T,{})]})};var Oi=s("../../libs/shared/dist/features/portfolio/modals/Send/index.js"),Li=s("../../libs/shared/dist/features/portfolio/modals/ManageAssets/index.js"),Ni=s("../../libs/shared/dist/features/portfolio/transformers/index.js"),Ri=s("../../libs/shared/dist/features/promo/components/index.js"),Fi=s("../../libs/shared/dist/features/promo/modals/index.js"),Ui=s("../../libs/shared/dist/features/whatsNew/modals/index.js"),$i=s("../../../node_modules/@mui/material/Alert/Alert.js"),Wi=s("../../libs/shared/dist/features/featureFlags/singleToken/index.js");const Ki=({token:e,network:t,onBurnAccountClick:s,onCloseAccountClick:o,onDelegateTokenClick:i,onRequestAirdropClick:r,onTransferTokenClick:l,onTransferSolClick:d,onUnwrapClick:c,onBuyClick:u})=>{const{publicKey:m}=(0,Y.rT)(),{t:p}=(0,A.$)(),{openExplorer:h}=(0,Ce.Vf)(),[x,g]=(0,a.useState)(null),j=(0,B.s0)(),b=e?.mint??"",f=Boolean(x),_=parseFloat(e.amount||"0")>0,y=e?.mint===L.BH,v=t.cluster===xt.EE.mainnet,k=v&&!!e.onrampTokenId,w=e.accounts?.length>1,C=e.accounts?.find((e=>e?.isAta)),S=C??e.accounts?.[0],T=e.actions?.find((e=>"send"===e.name)),Z=!y&&!w&&e.actions?.find((e=>["close","burn-and-close"].includes(e.name))),M=_?s:o,P=y?d:()=>l(e),D=b===L.BH,E=b===L.Jb;return(0,n.jsxs)(I.kC,{gap:1,justifyContent:"end",alignItems:"center",children:[(0,n.jsxs)(I.kC,{gap:1,className:"slr-hover-table-actions",children:[v&&e.swappable&&(0,n.jsx)(I.zx,{"data-id":"portfolio_item_swap",size:"small",variant:"contained",onClick:()=>j(U.Zg.SINGLE.MAIN(e.mint),{state:{from:"portfolioListItem"}}),children:p("action_swap")}),T&&(0,n.jsx)(I.zx,{"data-id":"portfolio_item_send",size:"small",variant:"contained",onClick:()=>P(),children:p("action_send")})]}),(0,n.jsx)(I.hU,{"data-id":"portfolio_more_actions_button",onClick:e=>g(e.currentTarget),size:"small",children:(0,n.jsx)(Ks.G,{icon:O.Uwo})}),(0,n.jsxs)(I.vb,{"data-id":"portfolio_more_actions_dropdown",anchorEl:x,open:f,onClose:()=>g(null),children:[!v&&y&&(0,n.jsx)(I.bK,{"data-id":"portfolio_more_actions_airdrop",onClick:()=>{r(1),g(null)},children:p("action_request_airdrop")}),k&&(0,n.jsx)(I.bK,{"data-id":"portfolio_more_actions_buy",onClick:()=>{g(null),u(e,"portfolioPage")},children:p("action_buy")}),D&&(0,n.jsx)(I.bK,{"data-id":"portfolio_more_actions_stake",onClick:()=>{j(U.Ni.MAIN),g(null)},children:p("action_stake")}),(0,n.jsx)(I.bK,{"data-id":"portfolio_more_actions_explorer",onClick:()=>{h({type:"account",address:y?m:S.pubkey}),(0,Wi.Z)(e.symbol??"",b,"portoflioThreeDot"),g(null)},children:p("action_view_in_explorer")}),E&&(0,n.jsx)(I.bK,{"data-id":"portfolio_more_actions_unwrap",onClick:()=>{c(e,S.pubkey),g(null)},children:p("action_unwrap")}),Z&&(0,n.jsxs)($e.Z,{children:[(0,n.jsx)(I.iz,{my:0}),(0,n.jsx)(I.bK,{"data-id":"portfolio_more_actions_close_account",color:"danger",onClick:()=>{M(e,"portoflioThreeDot",S.pubkey),g(null)},children:p(_?"action_burn_and_close_account":"action_close_account")})]}),!!i&&(0,n.jsx)(I.bK,{"data-id":"portfolio_more_actions_delegate",onClick:()=>i(e,S.pubkey),children:"Delegate"})]})]})},zi=[{key:"name",label:"Name",width:280},{key:"price",label:"Price/24h change"},{key:"value",label:"Value"},{key:"amount",label:"Amount"},{key:"actions",label:""}],Hi=({isBalanceHidden:e,onCreateToken:t,onTransferSolClick:s,onTransferTokenClick:o,onDelegateTokenClick:i,onUnwrapClick:r,onCloseAccountClick:l,onBurnAccountClick:d,onRequestAirdropClick:u,onBuyClick:p,tokenList:h,tokenListUi:x,isLoading:g,isError:j})=>{const{t:b}=(0,A.$)(),f=(0,B.s0)(),{isMetamask:_}=(0,G.U)(),y=(0,_e.LN)(),[v,k]=(0,a.useState)(!1),w=(0,a.useMemo)((()=>(0,gt.keyBy)(h,"mint")),[h]);return(0,a.useEffect)((()=>{localStorage.getItem("solflare_show_delegate_action_test")&&k(!0)}),[]),j?(0,n.jsx)($e.Z,{py:2,children:(0,n.jsxs)($i.Z,{"data-testid":"portfolio_error",severity:"error",children:[b("error_failed_to_load_from_rpc"),"."]})}):(0,n.jsx)(I.X7,{hideBalances:e,data:x,isLoading:g,columnConfig:zi,title:b("portfolio_list_title"),onCoinClick:e=>f(e.id),tokenAvatar:e=>(0,n.jsx)(m.yY,{src:e?.logoURI,size:"m",verified:e.verified}),actions:e=>(0,n.jsx)(Ki,{network:y,onBurnAccountClick:d,onCloseAccountClick:l,onRequestAirdropClick:u,onTransferSolClick:s,onTransferTokenClick:o,onDelegateTokenClick:v?i:void 0,onUnwrapClick:r,onBuyClick:p,token:w[e.id]}),bottomComponent:_?null:(0,n.jsx)(I.kC,{justifyContent:"center",children:(0,n.jsx)(c.Button,{variant:"tertiary",size:"s",left:(0,n.jsx)(c.Icon,{icon:O.r8p,color:"primary"}),onClick:t,children:b("action_add_asset")})})})},Vi=({address:e,onReceiveSolanaClick:t,onBuyClick:s,totalValue:a,onSendClick:o,name:i,copyClipboard:r,isBalanceHidden:l,isLoading:d})=>{const{t:u}=(0,A.$)(),m=(0,B.s0)(),p=(0,B.TH)(),{setWmBackgroundLocation:x}=(0,h.cj)();return(0,n.jsx)(I.mr,{useSmallerMiddleBp:!0,mainHeaderItem:(0,n.jsx)(I.eH,{hiddenBalance:l,avatar:(0,n.jsx)(I.hU,{onClick:async()=>{x(p.pathname),m(U.yD.MAIN)},children:(0,n.jsx)(se.y,{publicKey:e})}),label:"Total portfolio value",value:(0,n.jsx)(te.DX,{configKey:"portfolioHero",children:a})}),actions:(0,n.jsxs)(n.Fragment,{children:[(!!s||d)&&(0,n.jsx)(c.Button,{disabled:d,onClick:s,variant:"secondary",children:u("action_buy")}),(0,n.jsx)(c.Button,{disabled:d,onClick:t,variant:"secondary",children:u("action_receive")}),(0,n.jsx)(c.Button,{disabled:d,onClick:o,variant:"secondary",children:u("action_send")})]}),children:(0,n.jsx)(I.BE,{label:i,content:(0,n.jsx)(I.ZT,{children:(0,P.r)(e)}),rightComponent:(0,n.jsxs)(I.kC,{alignItems:"center",height:"20px",overflow:"shown",children:[(0,n.jsx)(I.hU,{onClick:r,size:"small",color:"text.secondary",children:(0,n.jsx)(I.JO,{faIcon:O.kZ_})}),(0,n.jsx)(I.hU,{onClick:t,size:"small",color:"text.secondary",children:(0,n.jsx)(I.JO,{faIcon:O.rtB})})]})})})},Gi=()=>{const{copy:e}=(0,Ce.c)(),{publicKey:t,accountName:s}=(0,Y.rT)(),{hideBalances:o}=(0,v.A)(),i=(0,N.Af)(),r=(0,N.__)("portfolioHero"),{receiveModal:l,openReceiveModal:d,closeReceiveModal:c,createTokenModal:u,openCreateTokenModal:m,closeCreateTokenModal:p,transferModal:h,openTransferModal:x,closeTransferModal:g,providedAccount:j,splTransferModal:b,splTransferToken:f,closeSplTransferModal:_,splDelegateModal:y,splDelegateToken:k,closeSplDelegateModal:w,buyModal:C,buyToken:S,openBuyModal:T,closeBuyModal:A,sendSource:Z}=(0,Ii.H)(),{intermediaryScreen:M,onClickIntermediary:P,onCloseIntermediary:D,banners:B,dismissBanner:E,onClickBanner:O,txID:R,setTxID:F,bannersResponse:U}=(0,q.RR)(),{data:$,isLoading:W,isError:K,actions:z}=(0,q.h1)(),H=(0,a.useMemo)((()=>$?.tokens?.find((e=>e.mint===L.BH))||null),[$]),V=(0,a.useMemo)((()=>{const e=k?.token,t=k?.token.accounts[k.tokenAccountIndex||0];return{tokenId:e?.mint||"",pubkey:t?.pubkey||"",symbol:e?.symbol||"",name:e?.name,isAta:!!t?.isAta,amount:e?.amount||"",rawAmount:e?.amount||"",decimals:e?.decimals||0,logoURI:e?.imageUri||"",verified:!!e?.verified,value:"",price:"",rawValue:""}}),[k?.token,k?.tokenAccountIndex]),G=(0,a.useMemo)((()=>(0,Ni.u)($,t,i,r)),[$,t,i,r]),{handleTransferTokenClick:Q,handleDelegateTokenClick:J,handleCreateTokenAccount:X,handleUnwrapTokenAccount:ee,handleCloseTokenAccount:te,handleBurnTokenAccount:se,handleRequestAirdrop:ne}=(0,q.nD)(z),ae=!!H&&!!$?.onrampTokenId,oe=Boolean($?.errors.some((e=>"price_fetch_failed"===e)));return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(I.kC,{column:!0,gap:3,children:[(0,n.jsx)(Vi,{isLoading:W||K,isBalanceHidden:o||W||K||oe,address:t,totalValue:G?.heroUi?.total||"0",onReceiveSolanaClick:d,onSendClick:()=>x("portfolioButton"),onBuyClick:ae?()=>T(H,"portfolioPage"):void 0,name:s||"",copyClipboard:()=>e(t)}),(0,n.jsx)(Ui.n,{}),M&&(0,n.jsx)(Fi.H,{onClose:D,onCTAClick:()=>P(M),...M}),R&&(0,n.jsx)(Ri.l,{txID:R,onClose:()=>F(void 0)}),(0,n.jsx)(Ri.c,{banners:B??[],isLoading:W,bannersResponse:U?.data??[],dismissBanner:E,onClickBanner:O}),(0,n.jsx)(Hi,{isBalanceHidden:o,onReceiveClick:d,onReceiveSolClick:d,onCreateToken:m,onTransferSolClick:()=>x("portfolioListItemButton"),onTransferTokenClick:(e,t)=>Q(e,"portfolioListItemButton",t),onDelegateTokenClick:J,onUnwrapClick:ee,onCloseAccountClick:te,onBurnAccountClick:se,onRequestAirdropClick:ne,onBuyClick:T,tokenList:$?.tokens||[],tokenListUi:G?.tokens||[],isLoading:W||K,isError:!1})]}),(h||b)&&(0,n.jsx)(wn.j,{children:(0,n.jsx)(Oi.b,{onClose:()=>{g(),_()},pubkey:f?.token?.accounts?.[f?.tokenAccountIndex||0]?.pubkey,providedAccount:j,tSource:Z})}),y&&(0,n.jsx)(wn.j,{children:(0,n.jsx)(Ei,{onClose:w,pubkey:k?.token?.accounts?.[k?.tokenAccountIndex||0]?.pubkey,providedAccount:V})}),u&&(0,n.jsx)(Li.a,{submit:X,onClose:p,portfolioList:G?.tokens}),l&&(0,n.jsx)(Fs.Z,{onClose:c,address:t,tRoute:"/receivePortfolioItemRoute",tSource:"portfolioMain"}),C&&!!S&&(0,n.jsx)(Mi.V,{token:S,source:"portfolioPage",onCancel:A})]})},qi=({inline:e,children:t,...s})=>{const{hideBalances:a}=(0,v.A)();return a?e?(0,n.jsx)(An.Z,{animation:!1,width:"100%",...s,sx:{display:"inline-block"}}):(0,n.jsx)(An.Z,{animation:!1,width:"100%",...s}):t||null};var Yi=s("../../../node_modules/@mui/material/Backdrop/Backdrop.js");const Qi=({open:e=!1,fullScreen:t=!1})=>(0,n.jsx)(Yi.Z,{open:e,sx:{position:t?"fixed":"absolute",zIndex:1200},children:e&&(0,n.jsx)(d.Z,{color:"inherit"})}),Ji=(0,Qt.Z)("div")({display:"flex",justifyContent:"space-between",padding:"16px 20px 8px"}),Xi=({price:e,children:t})=>(0,n.jsxs)(Ji,{children:[t,(0,n.jsx)("div",{children:e})]}),er=(0,Qt.Z)("div")({display:"flex",gap:4,alignItems:"center"}),tr=({price:e,priceChange:t,priceChangeVariant:s,isLoading:a})=>a?(0,n.jsx)(er,{children:(0,n.jsx)(c.Skeleton,{variant:"text",width:80,height:20})}):(0,n.jsxs)(er,{children:[t&&(0,n.jsx)(c.BalanceChangeTag,{size:"xs",variant:s,children:t}),(0,n.jsx)(c.Typography,{variant:"headingM",children:e})]}),sr=(0,Qt.Z)("div")({display:"flex",gap:4,alignItems:"center"}),nr=({logoUri:e,symbol:t,verified:s,isLoading:a})=>a?(0,n.jsxs)(sr,{children:[(0,n.jsx)(c.Skeleton,{variant:"circle",width:30,height:30}),(0,n.jsx)(c.Skeleton,{variant:"text",width:80,height:20})]}):(0,n.jsxs)(sr,{children:[(0,n.jsx)(m.yY,{src:e,size:"sm",verified:s}),(0,n.jsx)(c.Typography,{variant:"headingM",children:t})]}),ar=(0,Qt.Z)("div")({display:"flex",alignItems:"center",gap:8}),or=({base:e,quote:t})=>(0,n.jsxs)(ar,{children:[e,(0,n.jsx)(c.Typography,{variant:"headingM",children:"/"}),t]});var ir=s("../../../node_modules/query-string/index.js");const rr=e=>"type"in e,lr="https://chart.solflare.com",dr="rgb(25, 29, 39)",cr="rgba(61, 210, 139, 1)",ur="rgba(218, 73, 63, 1)",mr="rgba(61, 210, 139, 1)",pr="rgba(6, 112, 234, 1)",hr="rgba(6, 112, 234, 0.2)",xr=(0,Qt.Z)("div")({width:"100%",height:"100%",position:"relative","& iframe":{border:0,backgroundColor:"transparent",width:"100%",height:"100%"}}),gr=({fromAddress:e,fromSymbol:t,toAddress:s,toSymbol:o,currency:i,onBarReceivedCallback:r})=>{const l=(0,a.useRef)(null),d=(0,a.useCallback)(((e,t)=>{l.current?.postMessage({data:{payload:e,id:t}},lr)}),[]);(0,a.useEffect)((()=>{const e=async e=>{if(e.origin!==lr)return;if(!e.data.payload)return;const{payload:t,id:s}=e.data;if((e=>rr(e)&&"price-update"===e.type)(t))r&&r(t.dataPoint,t.source);else if((e=>rr(e)&&"chart-data-request"===e.type)(t)){const e=await Se.Z.chartData.get();d({type:"chart-data-response",charts:e?.charts??[],drawingTemplates:e?.drawingTemplates??[],studyTemplates:e?.studyTemplates??[],chartTemplates:e?.chartTemplates??[]},s)}else if((e=>rr(e)&&"chart-data-update-request"===e.type)(t))await Se.Z.chartData.set({charts:t.charts,chartTemplates:t.chartTemplates,studyTemplates:t.studyTemplates,drawingTemplates:t.drawingTemplates});else if((e=>rr(e)&&"chart-data-seed-request"===e.type)(t)){const e=await Se.Z.solflarenetwork.get();d({type:"chart-data-seed-response",seed:e,originId:(0,Ve.Af)()},s)}};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}}),[d,r]);const c=(0,a.useMemo)((()=>{const n={base:{address:e,symbol:t},quote:{address:s||"",symbol:o||""},currency:i};let a={"mainSeriesProperties.style":2,"paneProperties.background":dr,"paneProperties.backgroundType":"solid","paneProperties.legendProperties.showStudyArguments":!1,"paneProperties.legendProperties.showBackground":!1,"paneProperties.legendProperties.showStudyTitles":!0,"scalesProperties.showStudyLastValue":!1,"scalesProperties.fontSize":12,"scalesProperties.lineColor":dr,"paneProperties.vertGridProperties.color":"rgba(240, 243, 250, 0.06)","paneProperties.horzGridProperties.color":"rgba(240, 243, 250, 0.06)","mainSeriesProperties.lineStyle.color":mr,"mainSeriesProperties.areaStyle.color1":"rgba(61, 210, 139, 0.2)","mainSeriesProperties.areaStyle.color2":"rgba(61, 210, 139, 0.01)","mainSeriesProperties.areaStyle.linecolor":mr,"mainSeriesProperties.barStyle.barColorsOnPrevClose":!0,"mainSeriesProperties.barStyle.upColor":cr,"mainSeriesProperties.barStyle.downColor":ur};["candleStyle","hollowCandleStyle","haStyle"].forEach((e=>{a={...a,..."hollowCandleStyle"!==e&&{[`mainSeriesProperties.${e}.barColorsOnPrevClose`]:!0},[`mainSeriesProperties.${e}.drawWick`]:!0,[`mainSeriesProperties.${e}.drawBorder`]:!0,[`mainSeriesProperties.${e}.upColor`]:cr,[`mainSeriesProperties.${e}.downColor`]:ur,[`mainSeriesProperties.${e}.borderColor`]:cr,[`mainSeriesProperties.${e}.borderUpColor`]:cr,[`mainSeriesProperties.${e}.borderDownColor`]:ur,[`mainSeriesProperties.${e}.wickUpColor`]:cr,[`mainSeriesProperties.${e}.wickDownColor`]:ur}}));const r={symbol:"SOL",interval:"60",locale:"en",fullscreen:!1,disabled_features:["use_localstorage_for_settings","header_symbol_search","symbol_search_hot_key","show_interval_dialog_on_key_press","header_compare","header_undo_redo","header_screenshot","header_saveload","timeframes_toolbar","popup_hints","compare_symbol_search_spread_operators","insert_indicator_dialog_shortcut","header_fullscreen_button","library_custom_color_themes"],enabled_features:["iframe_loading_compatibility_mode","hide_left_toolbar_by_default","items_favoriting","side_toolbar_in_fullscreen_mode","header_in_fullscreen_mode","hide_image_invalid_symbol"],favorites:{intervals:["15","60","4H","1D","1W"],indicators:["Volume"],chartTypes:["Candles","Line"]},theme:"dark",loading_screen:{backgroundColor:dr},studies_overrides:{"volume.volume.color.0":"rgba(218, 73, 63, 0.1)","volume.volume.color.1":"rgba(61, 210, 139, 0.1)","volume.precision":4},overrides:{...a},settings_adapter:{initialSettings:{linetooltrendline:JSON.stringify({linecolor:pr,textcolor:pr}),linetoolarrow:JSON.stringify({linecolor:pr,textcolor:pr}),linetoolray:JSON.stringify({linecolor:pr,textcolor:pr}),linetoolinfoline:JSON.stringify({linecolor:pr,textcolor:pr}),linetoolextended:JSON.stringify({linecolor:pr,textcolor:pr}),linetooltrendangle:JSON.stringify({linecolor:pr,textcolor:pr}),linetoolhorzline:JSON.stringify({linecolor:pr,textcolor:pr}),linetoolhorzray:JSON.stringify({linecolor:pr,textcolor:pr}),linetoolvertline:JSON.stringify({linecolor:pr,textcolor:pr}),linetoolcrossline:JSON.stringify({linecolor:pr}),linetoolflatbottom:JSON.stringify({backgroundColor:hr}),linetooldisjointangle:JSON.stringify({backgroundColor:hr})}}};return ir.Z.stringify({origin:location.origin,tradePair:JSON.stringify(n),chartOptions:JSON.stringify(r)})}),[i,e,t,s,o]);return(0,n.jsx)(xr,{children:e&&(s||i)&&(0,n.jsx)("iframe",{src:`${lr}#/full?${c}`,className:"tradingView-chart",ref:e=>{l.current=e?.contentWindow}})})},jr=((0,a.memo)(gr),({disableBorderRadius:e,children:t,sx:s,...a})=>(0,n.jsx)($e.Z,{...a,sx:{flex:1,".tradingView-chart":{width:"100%",height:"100%"},...!e&&{iframe:{borderBottomLeftRadius:10,borderBottomRightRadius:10}},...s},children:t})),br=({singlePageToken:e,onPriceUpdate:t})=>{const s=(0,N.Af)(),o=(0,a.useCallback)((e=>{t(e?.close)}),[t]);return(0,n.jsx)(jr,{height:"100%",children:(0,n.jsx)(gr,{fromAddress:e.mint,fromSymbol:e.symbol||"Unknown",currency:s.ticker.toLowerCase(),onBarReceivedCallback:o})})},fr=({singlePageToken:e,isBalanceHidden:t,isLoading:s,onBurnAccountClick:o,onCloseAccountClick:i,onReceiveSolanaClick:l,onReceiveTokenClick:d,onTransferTokenClick:u,onTransferSolClick:p,onBuyClick:h})=>{const{t:x}=(0,A.$)(),{publicKey:g}=(0,Y.rT)(),{openExplorer:j}=(0,Ce.Vf)(),{setStakingEvents:b}=(0,T.Ub)(),f=(0,N.Af)(),[_,y]=(0,a.useState)(null),v=(0,B.s0)(),k=(0,_e.LN)(),w=(0,a.useMemo)((()=>(0,Ni.A)(e,g,f,"fiat")),[e,g,f]);if(!e)return null;const C=e.mint??"",S=Boolean(_),Z=parseFloat(e.amount||"0")>0,M=e.mint===L.BH,D=k.cluster===xt.EE.mainnet&&!!e.onrampTokenId,E=e.accounts?.length>1,R=e.accounts?.find((e=>e?.isAta)),F=R??e.accounts?.[0],$=e.actions?.find((e=>"send"===e.name)),W=!M&&!E&&e.actions?.find((e=>["close","burn-and-close"].includes(e.name))),K=Z?o:i,z=M?p:u,H=M?l:d,V=C===L.BH,G=!E;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(I.Oo,{"aria-label":"breadcrumb",children:[(0,n.jsx)(I.rU,{component:r.rU,to:U.Zg.MAIN,children:x("header_portfolio")}),(0,n.jsx)(I.c$,{children:e.name??(0,P.r)(e.mint??"")})]}),(0,n.jsxs)(I.mr,{mainHeaderItem:(0,n.jsx)(I.PC,{avatar:(0,n.jsx)(m.yY,{src:w?.logoURI,size:"m",verified:w.verified}),title:e?.name??(0,P.r)(e.mint??""),subtitle:e.symbol??""}),actions:(0,n.jsxs)(I.kC,{gap:1,alignItems:"center",children:[(s||!!D)&&(0,n.jsx)(c.Button,{disabled:s,onClick:()=>h(e,"singleTokenPage"),variant:"secondary",children:x("action_buy")}),(0,n.jsx)(c.Button,{disabled:s,onClick:()=>H(),variant:"secondary",children:x("action_receive")}),$&&(0,n.jsx)(c.Button,{disabled:s,onClick:z,variant:"secondary",children:x("action_send")}),(0,n.jsx)(I.hU,{"data-id":"portfolio_more_actions_button",onClick:e=>y(e.currentTarget),size:"small",children:(0,n.jsx)(Ks.G,{icon:O.Uwo})}),(0,n.jsxs)(I.vb,{"data-id":"portfolio_singlepage-more_actions_dropdown",anchorEl:_,open:S,onClose:()=>y(null),children:[(0,n.jsx)(I.bK,{"data-id":"portfolio_singlepage-more_actions_explorer",onClick:()=>{j({type:"account",address:M?g:F.pubkey}),(0,Wi.Z)(e.symbol??"",C,"singleTokenThreeDot"),y(null)},children:x("action_view_in_explorer")}),V&&(0,n.jsx)(I.bK,{"data-id":"portfolio_singlepage-more_actions_stake",onClick:()=>{b({...T.TQ,source:"singleTokenMoreOptions"}),v(U.Ni.MAIN),y(null)},children:x("action_stake")}),W&&(0,n.jsxs)($e.Z,{children:[(0,n.jsx)(I.iz,{my:0}),(0,n.jsx)(I.bK,{"data-id":"portfolio_more_actions_close_account",color:"danger",onClick:()=>{K(F.pubkey,G,"singleTokenThreeDot"),y(null)},children:x(Z?"action_burn_and_close_account":"action_close_account")})]})]})]}),children:[e.price&&(0,n.jsx)(I.BE,{label:x("portfolio_header_price_change"),content:w.price,rightComponent:(0,n.jsx)(I.zI,{value:w.priceDiff?.value??"",positive:w.priceDiff?.positive??!0})}),w.value&&(0,n.jsx)(I.BE,{hidden:t,label:x("table_value"),content:w.value}),e.amount&&(0,n.jsx)(I.BE,{hidden:t,label:x("table_amount"),content:`${w.amount} ${e.symbol??""}`})]})]})};var _r=s("../../libs/shared/dist/features/trading/context/index.js"),yr=s("../../libs/shared/dist/features/limitOrders/components/index.js"),vr=s("../../libs/shared/dist/features/swap/components/index.js"),kr=s("../../libs/shared/dist/features/trading/modals/index.js");const wr=(0,Qt.Z)("div")((()=>({display:"flex",flexDirection:"column",height:"542px",maxWidth:"420px",width:"100%",padding:"8px",borderRadius:"24px",background:"rgba(188, 200, 231, 0.04)"}))),Cr=()=>{const e=(0,_e.LN)(),{t}=(0,A.$)(),{activeTab:s,openSettings:a,setOpenSettings:o,closeSettings:i,slippage:r,expiry:l}=(0,_r.s)();return e.cluster===xt.EE.mainnet?(0,n.jsxs)(wr,{children:[(0,n.jsx)(c.PageTitle,{center:t("header_swap"),textAlign:"left",right:(0,n.jsx)(c.ActionableIcon,{onClick:()=>o(!0),icon:O.cRF,size:"l"})}),"swap"===s?(0,n.jsx)(vr.B,{}):(0,n.jsx)(yr.E,{}),a&&(0,n.jsx)(kr.A,{slippageValue:r.label,expiryValue:l,onClose:i})]}):(0,n.jsx)(wr,{children:(0,n.jsx)(vr.H,{})})},Sr=(0,Je.ZP)("div")({display:"flex",flexDirection:"column",justifyContent:"center",gap:"24px"}),Tr=(0,Je.ZP)("div")({display:"flex",gap:"24px",justifyContent:"center"}),Ar=({children:e,orders:t})=>(0,n.jsxs)(Sr,{children:[(0,n.jsx)(Tr,{children:e}),(0,n.jsx)("div",{children:t})]});var Ir=s("../../../node_modules/@mui/material/Icon/Icon.js"),Zr=s("../../../node_modules/@mui/material/TableHead/TableHead.js"),Mr=s("../../../node_modules/@mui/material/TableRow/TableRow.js"),Pr=s("../../../node_modules/@mui/material/TableCell/TableCell.js"),Dr=s("../../../node_modules/@mui/material/TableBody/TableBody.js");const Br=({singlePageToken:e,account:t,onCloseAccountClick:s,onBurnAccountClick:o})=>{const{t:i}=(0,A.$)(),{copy:r}=(0,Ce.c)(),{openExplorer:l}=(0,Ce.Vf)(),[d,c]=(0,a.useState)(null),u=parseInt(t?.amount||"0",10)>0,m=t.actions?.find((e=>"burn-and-close"===e.name)),p=t.actions?.find((e=>"close"===e.name)),h=1===e.accounts?.length;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(I.Uo,{bp:"sm",match:"up",children:(0,n.jsxs)(I.kC,{gap:1,alignItems:"center",children:[(0,n.jsx)(I.hU,{onClick:()=>r(t?.pubkey),children:(0,n.jsx)(I.JO,{faIcon:O.kZ_})}),(0,n.jsx)(I.hU,{onClick:e=>c(e.currentTarget),children:(0,n.jsx)(I.JO,{faIcon:O.Uwo})})]})}),(0,n.jsx)(I.Uo,{bp:"sm",match:"down",children:(0,n.jsx)(I.hU,{children:(0,n.jsx)(I.JO,{faIcon:O.Uwo})})}),(0,n.jsxs)(I.vb,{"data-testid":"portfolio_single_more_actions_dropdown",anchorEl:d,open:Boolean(d),onClose:()=>c(null),children:[(0,n.jsx)(I.bK,{"data-testid":"portfolio_single_more_actions_explorer",onClick:()=>{l({type:"account",address:t?.pubkey}),c(null),(0,Wi.Z)(e.symbol??"",e.mint,"singleTokenAccountsThreeDot")},children:i("action_view_in_explorer")}),(0,n.jsxs)($e.Z,{children:[p&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(I.iz,{my:0}),(0,n.jsx)(I.bK,{"data-testid":"portfolio_single_more_actions_close_account",color:"danger",onClick:()=>{s(t?.pubkey,h,"singleTokenAccountsThreeDot"),c(null)},children:i("action_close_account")})]}),m&&u&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(I.iz,{my:0}),(0,n.jsx)(I.bK,{"data-testid":"portfolio_single_more_actions_close_and_burn_account",color:"danger",onClick:()=>{o(t?.pubkey,h),c(null)},children:i("action_burn_and_close_account")})]})]})]})]})},Er=({singlePageToken:e,onCloseAccountClick:t,onBurnAccountClick:s})=>{const{t:o}=(0,A.$)(),i=(0,a.useMemo)((()=>(0,gt.sortBy)(e.accounts,[e=>!e.isAta,e=>-parseFloat(e.uiAmount)])),[e.accounts]);return(0,n.jsx)($e.Z,{p:3,children:(0,n.jsxs)(I.iA,{children:[(0,n.jsx)(Zr.Z,{children:(0,n.jsxs)(Mr.Z,{children:[(0,n.jsx)(Pr.Z,{align:"left",children:o("table_your_account")}),(0,n.jsx)(Pr.Z,{align:"left",children:o("table_value")}),(0,n.jsx)(Pr.Z,{align:"left",children:o("table_balance")}),(0,n.jsx)(Pr.Z,{sx:{width:[50,110,110,110]}})]})}),(0,n.jsx)(Dr.Z,{children:i?.map((a=>(0,n.jsxs)(Mr.Z,{children:[(0,n.jsx)(Pr.Z,{scope:"row",children:(0,n.jsxs)(I.kC,{alignItems:"center",children:[(0,n.jsx)(I.ZT,{truncate:!0,children:(0,P.r)(a.pubkey)}),a.isAta?(0,n.jsx)(ot.Z,{title:o("portfolio_this_is_associated"),children:(0,n.jsx)(Ir.Z,{children:(0,n.jsx)(m.dQ,{sx:{fontSize:20},color:"primary"})})}):null]})}),(0,n.jsx)(Pr.Z,{scope:"row",children:(0,n.jsx)(qi,{width:100,children:!!a.value&&"0"!==a.value&&(0,n.jsx)(te.sp,{value:a.value})})}),(0,n.jsx)(Pr.Z,{scope:"row",children:(0,n.jsx)(qi,{width:100,children:(0,M.ED)({amount:a.uiAmount,displayType:"amount",pricePerCoin:e.price?.usdPrice,suffix:e.symbol?` ${e.symbol}`:""})})}),(0,n.jsx)(Pr.Z,{scope:"row",children:(0,n.jsx)(Br,{onCloseAccountClick:t,onBurnAccountClick:s,singlePageToken:e,account:a})})]},a.pubkey)))})]})})};var Or=s("../../libs/shared/dist/features/currencies/utils/index.js"),Lr=s("../../libs/shared/dist/features/portfolio/queries/index.js"),Nr=s("../../libs/shared/dist/features/portfolio/types.js");const Rr=({singlePageToken:e})=>{const{t}=(0,A.$)(),{publicKey:s}=(0,Y.rT)(),o=(0,N.Af)(),i=(0,Or.MK)(o.ticker,o.symbol),{copy:r}=(0,Ce.c)(),{data:l,isLoading:d,isError:u}=(0,Lr.bi)(e.mint),m=l?.description,p=l?.links?.[Nr.D.WEBSITE],h=(0,a.useMemo)((()=>(e=>{if(e){const t=Object.keys(e).filter((t=>!!e?.[t]&&t!==Nr.D.WEBSITE)),s=[];return t.map((t=>{const a=e?.[t];switch(t){case Nr.D.FACEBOOK:s?.push({text:"Facebook",icon:(0,n.jsx)(c.Icon,{icon:Ca.neY}),href:`https://www.facebook.com/${a}`,type:Nr.D.FACEBOOK});break;case Nr.D.TWITTER:s?.push({text:"Twitter",icon:(0,n.jsx)(c.Icon,{icon:Ca.mdU}),href:`https://twitter.com/${a}`,type:Nr.D.TWITTER});break;case Nr.D.DISCORD:s?.push({text:"Discord",icon:(0,n.jsx)(c.Icon,{icon:Ca.omb}),href:a,type:Nr.D.DISCORD});break;case Nr.D.REDDIT:s?.push({text:"Reddit",icon:(0,n.jsx)(c.Icon,{icon:Ca.HK3}),href:a,type:Nr.D.REDDIT});break;case Nr.D.GITHUB:s?.push({text:"Github",icon:(0,n.jsx)(c.Icon,{icon:Ca.zhw}),href:a,type:Nr.D.GITHUB});break;case Nr.D.TELEGRAM:s?.push({text:"Telegram",icon:(0,n.jsx)(c.Icon,{icon:Ca.Uv8}),href:`https://t.me/${a}`,type:Nr.D.TELEGRAM})}})),s}return[]})(l?.links)),[l?.links]),x=(0,a.useMemo)((()=>e?(0,Ni.A)(e,s||"",o,"fiat"):null),[o,e,s]),g=[...x?.marketCap?[{label:t("market_data_cap"),value:`${i}${x?.marketCap}`}]:[],...x?.volume24h?[{label:t("market_data_volume"),value:`${i}${x.volume24h}`}]:[],...x?.liquidity?[{label:t("market_data_liquidity"),value:`${i}${x.liquidity}`}]:[]],j=!e.price?.mc&&!e.price?.volume24h&&!e.price?.liquidity&&!m&&(0,gt.isEmpty)(h)&&!p;return(0,n.jsx)(I.fc,{error:u||j?t("single_token_no_info"):void 0,isLoading:d,coinInfoList:g,description:m?.trim?.()?{label:t("description"),value:m}:void 0,community:{label:t("single_token_comunity_title"),links:h.map((t=>({...t,onClick:()=>(0,Wi.E)(t.type,t.href,e.symbol,e.mint)})))},website:p?{label:t("table_website"),link:{href:p,text:p,icon:(0,n.jsx)(I.JO,{faIcon:O.g4A}),onClick:()=>(0,Wi.E)(Nr.D.WEBSITE,p,e.symbol,e.mint)}}:void 0,explore:{label:t("table_mint_address"),mint:e.mint,action:()=>r(e.mint)}})},Fr=({singlePageToken:e,onCloseAccountClick:t,onBurnAccountClick:s,onPriceUpdate:a})=>{const{t:o}=(0,A.$)(),i=(0,Ce.z8)(),r=(0,_e.LN)(),{tabs:l,defaultTab:d}=((e,t)=>{let s=["priceHistory","tokenInfo","yourAccount"],n="priceHistory";return["xs","sm"].includes(t)&&(s=["tokenInfo","yourAccount"],n="tokenInfo"),e?.solana&&(s=s.filter((e=>"yourAccount"!==e))),{tabs:s,defaultTab:n}})(e,i),c=r.cluster===xt.EE.mainnet;return(0,n.jsxs)(I.kC,{flexDirection:["column","column","row"],width:"100%",gap:3,justifyContent:"center",alignItems:["stretch","stretch","stretch"],children:[(0,n.jsx)(I.xf,{contentHeight:500,tabOrder:l,defaultActiveTab:d,tabs:{priceHistory:{tabName:o("portfolio_single_token_tab_chart"),render:(0,n.jsx)(br,{singlePageToken:e,onPriceUpdate:a})},tokenInfo:{tabName:o("portfolio_single_token_tab_info"),render:(0,n.jsx)(Rr,{singlePageToken:e})},yourAccount:{tabName:o("portfolio_single_token_tab_account"),render:(0,n.jsx)(Er,{onCloseAccountClick:t,onBurnAccountClick:s,singlePageToken:e})},activity:{tabName:o("header_activity"),render:(0,n.jsx)(n.Fragment,{})}}}),c&&e.swappable&&(0,n.jsx)(I.Uo,{bp:"lg",match:"up",children:(0,n.jsx)($e.Z,{minWidth:365,maxWidth:365,children:(0,n.jsx)(_r.g,{children:(0,n.jsx)(Cr,{})})})})]})},Ur=()=>{const{t:e}=(0,A.$)(),{publicKey:t}=(0,Y.rT)(),{confirm:s}=(0,_.O)(),{id:o}=(0,Ce.nc)(["id"]),i=(0,B.s0)(),{hideBalances:r}=(0,v.A)(),{receiveModal:l,openReceiveModal:d,closeReceiveModal:u,transferModal:m,openTransferModal:p,closeTransferModal:h,providedAccount:x,splTransferModal:g,splTransferToken:j,openSplTransferModal:b,closeSplTransferModal:f,buyToken:y,buyModal:k,closeBuyModal:w,openBuyModal:C,sendSource:S}=(0,Ii.H)(),[T,Z]=(0,a.useState)(null),{data:M,isLoading:D,actions:O}=(0,q.h1)(),N=(0,a.useMemo)((()=>{const e=M?.tokens?.find((e=>e.mint===o))||null;if(e&&e.price){const t=T||e.price?.price,s=e?.price?.price?100*e.price.price/(100+e?.price?.change):null;return{...e,price:{...e.price,price:T||e.price?.price,change:s?(t-s)/s*100:0},value:e.amount?new E.Z(e.amount).times(t).toString():e.amount}}return e}),[M,o,T]),R=(0,a.useMemo)((()=>{if(!N||0===N.accounts.length)return null;for(const e of N.accounts)if(e.isAta)return e.pubkey;return N.accounts[0].pubkey}),[N]),F=(0,a.useCallback)((()=>{if(!N)return;let e=N.accounts?.findIndex((e=>e.isAta));e<0&&(e=0),b({token:N,tokenAccountIndex:e},"singleTokenPageButton")}),[b,N]),$=(0,a.useCallback)(((e,t=!1,s)=>{if(!N)return;const n=N.actions?.find((e=>"close"===e.name))?.metadata;O.closeTokenAccount(N,N.accounts.find((t=>t.pubkey===e)),s,n,(()=>{t&&i(U.Zg.MAIN,{replace:!0})}))}),[O,i,N]),W=(0,a.useCallback)((async(t,a=!1)=>{if(!N)return;const o=N.accounts.find((e=>e.pubkey===t)),r=N.actions?.find((e=>"burn-and-close"===e.name))?.metadata;await s({title:e("confirm_burn_title"),message:(0,n.jsx)(c.Section,{children:(0,n.jsx)(c.Alert,{title:e("confirm_burn_are_you_sure"),variant:"warning",message:e("confirm_burn_you_are_burning",{count:o.uiAmount||1,name:N.symbol||"token"})})}),confirmButtonText:e("action_continue"),cancelButtonText:e("action_cancel")})&&O.burnAndCloseTokenAccount(N,o,r,(()=>{a&&i(U.Zg.MAIN,{replace:!0})}))}),[O,s,i,N,e]);return(0,a.useEffect)((()=>{window.scrollTo(0,0)}),[]),D||N?N?(0,n.jsxs)(I.kC,{column:!0,gap:4,children:[(0,n.jsx)(fr,{isLoading:D,isBalanceHidden:r,onReceiveTokenClick:d,onReceiveSolanaClick:d,onBurnAccountClick:W,onCloseAccountClick:$,onTransferSolClick:()=>p("singleTokenPageButton"),onTransferTokenClick:F,onBuyClick:C,singlePageToken:N}),N.mint===L.BH&&(0,n.jsx)(Q,{}),(0,n.jsx)(I.Uo,{bp:"md",match:"down",children:(0,n.jsx)(br,{singlePageToken:N,onPriceUpdate:Z})}),(0,n.jsx)(Fr,{onBurnAccountClick:W,onCloseAccountClick:$,onPriceUpdate:Z,singlePageToken:N}),l&&(0,n.jsx)(Fs.Z,{address:t,onClose:u,tRoute:"/receivePortfolioItemRoute",tSource:"singleTokenPage"}),(m||g)&&(0,n.jsx)(wn.j,{children:(0,n.jsx)(Oi.b,{onClose:()=>{h(),f()},pubkey:j?.token?.accounts?.[j?.tokenAccountIndex||0]?.pubkey,providedAccount:x,tSource:S})}),k&&!!y&&(0,n.jsx)(Mi.V,{source:"singleTokenPage",token:y,onCancel:w}),(0,n.jsx)(pt,{ataAccount:R,tokenSymbol:N.symbol||(0,P.r)(N.mint)})]}):(0,n.jsx)(Qi,{open:!0}):(0,n.jsx)(B.Fg,{to:U.Zg.MAIN,replace:!0})},$r=()=>{const[e,t]=(0,a.useState)(!1),s=(0,B.TH)(),o=(0,B.s0)(),{isMetamask:i}=(0,G.U)();(0,a.useEffect)((()=>{s.state&&"/onboard/metamask"===s.state?.from&&!i&&(t(!0),o(U.Zg.MAIN,{replace:!0}))}),[]);const r=(0,B.V$)([{path:"",element:(0,n.jsx)(Ii.N,{children:(0,n.jsx)(B.j3,{})}),children:[{path:"",element:(0,n.jsx)(Gi,{})},{path:":id",element:(0,n.jsx)(Ur,{})}]}]);return e?(0,n.jsx)(Zi,{onClose:()=>t(!1)}):r};var Wr=s("../../libs/shared/dist/features/addressBook/hooks/index.js"),Kr=s("../../libs/shared/dist/constants/index.js");const zr=({currentName:e,currentAddress:t,onClose:s})=>{const{t:o}=(0,A.$)(),{openExplorer:i}=(0,Ce.Vf)(),{handleChangeName:r,handleChangeAddress:l,address:d,isSubmitEnabled:u,isValidatingAddress:m,errors:p,name:h,resolvedAddress:x}=(0,Wr.L8)({initialAddress:t,initialName:e}),{handleSubmitEditContact:g,isEditingContact:j}=(0,Wr.TA)(),b=(0,a.useCallback)((async()=>{u&&await g(h,d,t),s()}),[h,d,t,u,g,s]);return(0,n.jsx)(vs.V,{onClose:s,title:o("address_book_edit_contact"),textAlign:"left",footer:(0,n.jsxs)(c.ButtonGroup,{children:[(0,n.jsx)(c.Button,{"data-id":"cancel_button",variant:"secondary",type:"button",onClick:s,children:o("action_cancel")}),(0,n.jsx)(c.Button,{"data-id":"done_button",type:"submit",disabled:!u,onClick:b,processing:m||j,children:o("action_save")})]}),children:(0,n.jsxs)(c.SettingsContent,{children:[(0,n.jsx)(c.Input,{value:h,maxLength:Kr.go,onChange:r,placeholder:o("address_book_new_contact_name"),variant:p.name?"error":"default",hint:p.name&&(0,n.jsx)(c.InputHint,{variant:"error",hint:p.name})}),(0,n.jsx)(c.Input,{placeholder:o("address_book_new_contact_address_solana"),name:"address",value:d,onChange:e=>l(e.target.value),hint:p.address&&(0,n.jsx)(c.InputHint,{variant:"error",hint:p.address})}),x&&!p.address&&(0,n.jsx)($e.Z,{mt:1,children:(0,n.jsxs)(c.Paragraph,{children:[o("bonfida_handle_resolves_to")," ",(0,n.jsx)(Sn.Z,{href:"#",onClick:e=>{e.preventDefault(),i({type:"account",address:x})},underline:"hover",children:(0,P.r)(x)})]})})]})})},Hr=({onClose:e})=>{const{t}=(0,A.$)(),{openExplorer:s}=(0,Ce.Vf)(),{handleChangeName:o,handleChangeAddress:i,address:r,name:l,isSubmitEnabled:d,isValidatingAddress:u,errors:m,resolvedAddress:p}=(0,Wr.L8)({initialAddress:"",initialName:"",isAdd:!0}),{handleSubmitAddContact:h,isAddingContact:x}=(0,Wr.TA)(),g=(0,a.useCallback)((async()=>{d&&await h(l,r),e()}),[h,l,r,d]);return(0,n.jsx)(vs.V,{onClose:e,title:t("address_book_new_contact"),textAlign:"left",footer:(0,n.jsxs)(c.ButtonGroup,{children:[(0,n.jsx)(c.Button,{"data-id":"address_book_new_contact_cancel",variant:"secondary",type:"button",onClick:e,children:t("action_cancel")}),(0,n.jsx)(c.Button,{"data-id":"address_book_new_contact_done",type:"submit",processing:u||x,disabled:!d,onClick:g,children:t("action_save")})]}),children:(0,n.jsxs)(c.SettingsContent,{children:[(0,n.jsx)(c.Input,{name:"name",onChange:o,value:l,placeholder:t("address_book_new_contact_name"),maxLength:Kr.go,variant:m.name?"error":"default",hint:m.name&&(0,n.jsx)(c.InputHint,{variant:"error",hint:m.name})}),(0,n.jsx)(c.Input,{name:"address",value:r,onChange:e=>i(e.target.value),placeholder:t("address_book_new_contact_address_solana"),variant:m.address?"error":"default",hint:m.address&&(0,n.jsx)(c.InputHint,{variant:"error",hint:m.address})}),p&&!m.address&&(0,n.jsx)($e.Z,{mt:1,children:(0,n.jsxs)(c.Paragraph,{children:[t("bonfida_handle_resolves_to")," ",(0,n.jsx)(Sn.Z,{href:"#",onClick:e=>{e.preventDefault(),s({type:"account",address:p})},underline:"hover",children:(0,P.r)(p)})]})})]})})},Vr=({onEdit:e,onDelete:t})=>{const[s,o]=a.useState(null),{t:i}=(0,A.$)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(I.hU,{onClick:e=>o(e.currentTarget),children:(0,n.jsx)(Ks.G,{icon:O.Uwo})}),(0,n.jsxs)(I.vb,{anchorEl:s,open:Boolean(s),onClick:()=>o(null),children:[(0,n.jsx)(I.bK,{onClick:e,children:i("action_edit")}),(0,n.jsx)(I.iz,{}),(0,n.jsx)(I.bK,{onClick:t,children:(0,n.jsx)(I.ZT,{color:"error.main",children:i("action_delete")})})]})]})},Gr=({data:e,onDelete:t,onEdit:s})=>(0,n.jsx)(I.aV,{spacing:"compact",children:e.map(((e,a)=>(0,n.jsx)(I.HC,{title:e.name,subtitle:(0,I.ro)(e.address),wrapOnSmall:!1,leftChild:(0,n.jsx)(se.y,{publicKey:e.pubkey}),monoSubtitle:!0,children:(0,n.jsx)(Vr,{onDelete:()=>t(a),onEdit:()=>s(a)})},e.address)))}),qr=({data:e,onDelete:t,onEdit:s})=>{const{t:a}=(0,A.$)();return(0,n.jsxs)(I.iA,{"aria-label":"wallet table",noHorizontalPad:!0,children:[(0,n.jsx)(Zr.Z,{children:(0,n.jsxs)(Mr.Z,{children:[(0,n.jsx)(Pr.Z,{align:"left",width:"35%",children:a("address_book_column_name")}),(0,n.jsx)(Pr.Z,{align:"left",width:"65%",children:a("address_book_column_address")}),(0,n.jsx)(Pr.Z,{width:64})]})}),(0,n.jsx)(Dr.Z,{children:e.map(((e,a)=>(0,n.jsxs)(Mr.Z,{children:[(0,n.jsx)(Pr.Z,{align:"left",component:"th",scope:"row",children:(0,n.jsxs)(I.kC,{alignItems:"center",gap:1,children:[(0,n.jsx)(se.y,{publicKey:e.pubkey}),(0,n.jsx)(I.ZT,{children:e.name})]})}),(0,n.jsx)(Pr.Z,{align:"left",children:(0,n.jsx)(I.ZT,{truncate:!0,children:e.address})}),(0,n.jsx)(Pr.Z,{align:"right",children:(0,n.jsx)(Vr,{onDelete:()=>t(a),onEdit:()=>s(a)})})]},e.address)))})]})},Yr=()=>{const[e,t]=a.useState(!1),[s,o]=a.useState(-1),[i,r]=a.useState(null),{confirm:l}=(0,_.O)(),{addresses:d}=(0,f.b)(),{handleRemoveContact:u}=(0,Wr.TA)(),{t:m}=(0,A.$)(),p=null!==i,h=p?d.filter((e=>e.name.toLowerCase().includes(i)||e.address.toLowerCase().includes(i)||e.pubkey.toLowerCase().includes(i))):d,x=async e=>{const t=h[e];if(!t)return;let s=t.address;(0,Te.Z)(t.address)&&(s=(0,P.r)(t.address)),await l({title:m("action_delete_contact"),message:(0,n.jsxs)($e.Z,{display:"flex",flexDirection:"column",gap:1.5,children:[(0,n.jsx)(c.Paragraph,{children:m("address_book_delete_confirm_message")}),(0,n.jsx)(c.ListItem,{height:"auto",spacingX:"narrow",background:"noBackground",left:(0,n.jsx)(c.ListItemLeft,{title:(0,n.jsx)(c.ListItemTitleText,{children:t.name}),subtitle:(0,n.jsx)(c.SubtitleText,{children:s}),children:(0,n.jsx)(se.y,{publicKey:t.pubkey})})})]})})&&await u(t.address)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(I.GV,{title:!p&&m("address_book_title"),cardTop:p&&(0,n.jsx)($e.Z,{pb:"6px",children:(0,n.jsx)(I.Rj,{onCloseSearch:()=>r(null),onChange:e=>r(e.target.value)})}),titleAction:!p&&(0,n.jsx)(I.hU,{onClick:()=>r(""),children:(0,n.jsx)(I.JO,{faIcon:O.wn1})}),children:[(0,n.jsx)(I.Uo,{match:"up",bp:"md",children:(0,n.jsx)(qr,{data:h,onDelete:x,onEdit:o})}),(0,n.jsx)(I.Uo,{match:"down",bp:"md",children:(0,n.jsx)($e.Z,{py:3,children:(0,n.jsx)(Gr,{onDelete:x,data:h,onEdit:o})})}),(0,n.jsx)(I.zx,{onClick:()=>t(!0),variant:"text",size:"small",startIcon:(0,n.jsx)(I.JO,{faIcon:O.r8p}),children:m("address_book_new_contact")})]}),e&&(0,n.jsx)(Hr,{onClose:()=>t(!1)}),s>=0&&(0,n.jsx)(zr,{currentName:d[s].name,currentAddress:d[s].address,index:s,onClose:()=>o(-1)})]})};var Qr=s("../../libs/shared/dist/features/settings/hooks/index.js");const Jr=()=>{const{paths:e}=(0,Qr.fb)();return e.length?(0,n.jsx)(I.Oo,{"aria-label":"breadcrumb",children:e.map(((t,s)=>s===e.length-1?(0,n.jsx)(I.c$,{children:t.text},t.id):(0,n.jsx)(I.rU,{component:r.rU,to:t.path,children:t.text},t.id)))}):null},Xr=()=>{const{currencies:e,current:t,changeCurrency:s}=(0,ye.q)();return(0,n.jsx)(I.Ph,{value:t,minWidth:200,onChange:async e=>{await s(e.target.value)},children:(0,gt.map)(e,(({name:e,ticker:t,symbol:s})=>(0,n.jsx)(I.p,{value:t,children:`${e} (${s||t})`},t)))})},el=()=>{const{languages:e,current:t,changeLanguage:s}=(0,ye.ix)();return(0,n.jsx)(I.Ph,{value:t,minWidth:200,onChange:e=>{s(e.target.value)},children:e.map((e=>(0,n.jsx)(I.p,{value:e.id,children:e.label},e.id)))})},tl=()=>{const{current:e,changeNetwork:t}=(0,ye.Q$)(),s=(0,I.qY)();return(0,n.jsx)(I.Ph,{open:s.isOpen,onOpen:s.open,onClose:s.close,value:e,minWidth:200,onChange:async e=>{await t(e.target.value)},children:Object.keys(xt.g5).map((e=>{const t=xt.g5[e];return(0,n.jsx)(I.p,{value:e,children:(0,n.jsx)(I.kC,{alignItems:"center",justifyContent:"space-between",width:"100%",pr:.5,children:(0,n.jsx)(I.ZT,{width:150,sx:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",lineHeight:"inherit"},children:t.name})})},e)}))})};var sl=s("../../../node_modules/@mui/icons-material/esm/NotificationsOffOutlined.js");const nl=()=>{const{t:e}=(0,A.$)();return(0,n.jsx)(I.sN,{wrapOnSmall:!1,title:e("notifications_unsupported_title"),subtitle:e("notifications_unsupported_description"),children:(0,n.jsx)($e.Z,{px:5,children:(0,n.jsx)(sl.Z,{sx:{color:"text.secondary"}})})})},al=()=>{const{t:e}=(0,A.$)();return(0,n.jsx)(I.sN,{wrapOnSmall:!1,title:e("notifications_mainnet_title"),subtitle:`${e("notifications_mainnet_description")} Mainnet`,children:(0,n.jsx)($e.Z,{px:5,children:(0,n.jsx)(sl.Z,{sx:{color:"text.secondary"}})})})},ol=({onRevokeClick:e,onExplorerClick:t})=>{const{t:s}=(0,A.$)(),[o,i]=(0,a.useState)(null);return(0,n.jsxs)(I.kC,{gap:2,children:[(0,n.jsx)(c.Button,{variant:"destructive",size:"s",onClick:e,children:s("action_revoke")}),(0,n.jsx)(I.hU,{size:"small","data-testid":"delegation_details_more_actions_button",onClick:e=>i(e.currentTarget),children:(0,n.jsx)(Ks.G,{icon:O.Uwo})}),(0,n.jsx)(I.vb,{anchorEl:o,open:!!o,onClose:()=>i(null),children:(0,n.jsx)(I.bK,{"data-testid":"delegation_details_more_actions_explorer",onClick:e=>{i(null),t(e)},children:s("action_view_in_explorer")})})]})},il=(0,Je.ZP)("div")((()=>({backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:8,height:24,minWidth:112,padding:"0 4px 0 12px",display:"flex",alignItems:"center",justifyContent:"space-between",gap:4}))),rl=()=>{const{t:e}=(0,A.$)(),{items:t,revokeMultiple:s}=(0,ye.o4)(),{selected:o,setSelected:i,mode:r,setMode:l}=(0,ye.L7)(),[d,u]=(0,a.useState)(null),m="select"===r||0!==o.size;return(0,n.jsxs)(I.kC,{gap:2,alignItems:"center",children:[m&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(il,{children:[(0,n.jsxs)(c.Typography,{variant:"textS",children:["Selected ",o.size]}),(0,n.jsx)(Re.Z,{onClick:()=>{i(new Map),l("none")},children:(0,n.jsx)(c.Icon,{size:"m",icon:O.NBC})})]}),(0,n.jsx)(c.Button,{disabled:0===o.size,variant:"destructive",size:"s",onClick:async()=>{0!==o.size&&(await s(Array.from(o.keys())),i(new Map),l("none"))},children:e("action_revoke")})]}),(0,n.jsx)(I.hU,{size:"small","data-testid":"spending_approvals_more_actions_button",onClick:e=>u(e.currentTarget),children:(0,n.jsx)(Ks.G,{icon:O.Uwo})}),(0,n.jsxs)(I.vb,{anchorEl:d,open:!!d,onClose:()=>u(null),children:[!m&&(0,n.jsx)(I.bK,{"data-testid":"spending_approvals_more_actions_select",onClick:()=>{u(null),l("select")},children:e("action_select")}),o.size!==t.length&&(0,n.jsx)(I.bK,{"data-testid":"spending_approvals_more_actions_select_all",onClick:()=>{u(null),i(new Map(t.map((e=>[e,!0]))))},children:e("action_select_all")}),m&&o.size>0&&(0,n.jsx)(I.bK,{"data-testid":"spending_approvals_more_actions_deselect_all",onClick:()=>{u(null),i(new Map),l("none")},children:e("action_deselect_all")})]})]})};var ll=s("../../libs/shared/dist/assets/empty-settings.svg");const dl=({checked:e,onClick:t})=>(0,n.jsx)("div",{onClick:t,style:{zIndex:20,padding:4},children:(0,n.jsx)(Ks.G,{fontSize:24,icon:e?ss.fV7:O.diR})}),cl=({isLoading:e,name:t,address:s,amount:a,type:o,src:i,verified:r,onClick:l,selected:d,onSelect:u})=>{const{url:p}=(0,Gs.j)(i);return(0,n.jsxs)(Mr.Z,{onClick:l,children:[(0,n.jsx)(Pr.Z,{component:"th",scope:"row",children:(0,n.jsxs)(I.kC,{alignItems:"center",gap:2,pl:1,children:[u&&(0,n.jsx)(I.kC,{px:1,children:(0,n.jsx)(dl,{checked:d,onClick:e=>{e.stopPropagation(),u()}})}),e?(0,n.jsx)(c.Skeleton,{variant:"circle"}):"nft"===o?(0,n.jsx)(c.NFTAvatar,{src:p}):(0,n.jsx)(m.yY,{src:p,verified:r}),(0,n.jsxs)(I.kC,{column:!0,gap:.5,flexGrow:1,children:[(0,n.jsx)(c.Typography,{truncate:!0,children:t}),(0,n.jsx)(c.Typography,{variant:"textS",color:"secondary",children:s})]})]})}),(0,n.jsx)(Pr.Z,{align:"left",children:(0,n.jsx)(c.Typography,{children:a})})]})},ul=({isLoading:e,items:t,renderItem:s,computeItemKey:o})=>{const{t:i}=(0,A.$)();return(0,n.jsxs)(I.iA,{"aria-label":"spending approvals table",noHorizontalPad:!0,children:[(0,n.jsx)(Zr.Z,{children:(0,n.jsxs)(Mr.Z,{children:[(0,n.jsx)(Pr.Z,{align:"left",width:"70%",children:i("table_approvals")}),(0,n.jsx)(Pr.Z,{align:"left",width:"30%",children:i("table_amount")})]})}),(0,n.jsxs)(Dr.Z,{sx:{"& tr > td, & tr > th":e?{}:{cursor:"pointer"},"& tr:last-of-type .MuiTableCell-root":{borderBottom:0}},children:[e&&Array.from({length:3}).map(((e,t)=>(0,n.jsx)(cl,{isLoading:!0,name:(0,n.jsx)(c.Skeleton,{variant:"rectangle",width:"50%",height:"20px"}),address:(0,n.jsx)(c.Skeleton,{variant:"rectangle",width:"25%",height:"16px"}),amount:(0,n.jsx)(c.Skeleton,{variant:"rectangle",width:"50px",height:"20px"})},t))),t.map((e=>(0,n.jsx)(a.Fragment,{children:s(e)},o?o(e):e)))]})]})},ml=()=>{const{t:e}=(0,A.$)(),t=(0,B.s0)(),{isLoading:s,items:o,itemsById:i}=(0,ye.o4)(),{selected:r,setSelected:l,mode:d}=(0,ye.L7)(),c="select"===d||0!==r.size,u=(0,a.useCallback)((e=>()=>{l((t=>(t.has(e)?t.delete(e):t.set(e,!0),new Map(t))))}),[l]),p=(0,a.useCallback)((e=>c?u(e):()=>{t(U.s2.SECURITY.SPENDING_APPROVALS.DETAILS(e))}),[u,c,t]);return s||0!==o.length?(0,n.jsx)(ul,{isLoading:s,items:o,renderItem:e=>{const{type:t,tokenId:s,delegation:a,info:o}=i[e];return(0,n.jsx)(cl,{type:t,src:o.image,verified:o.verified,name:o.name||(0,P.r)(s),address:(0,P.r)(a.address),amount:"token"===t&&(0,M.ED)({amount:a.uiAmount,displayType:"amount",pricePerCoin:o.price||0}),onClick:p(e),selected:r.has(e),onSelect:c?u(e):void 0},e)}}):(0,n.jsx)(m.Up,{illustration:(0,n.jsx)("img",{src:ll,alt:"No spending approvals"}),children:e("settings_security_spending_approvals_empty")})},pl=()=>{const{t:e}=(0,A.$)(),{isMetamask:t}=(0,G.U)();return(0,n.jsx)(I.GV,{title:e("settings_general"),children:(0,n.jsxs)(I.aV,{children:[(0,n.jsx)(I.sN,{title:e("settings_language"),subtitle:e("header_settings_language_label"),children:(0,n.jsx)(el,{})}),(0,n.jsx)(I.sN,{title:e("settings_primary_currency"),subtitle:e("header_settings_currency_label"),children:(0,n.jsx)(Xr,{})}),!t&&(0,n.jsx)(I.sN,{title:e("network_change_title"),subtitle:e("header_settings_network_label"),children:(0,n.jsx)(tl,{})})]})})};var hl=s("../../libs/shared/dist/features/notifications/hooks/index.js"),xl=s("../../libs/shared/dist/features/settings/notifications/notificationPreferences.js");const gl=({preference:e,onClose:t})=>{const{t:s}=(0,A.$)(),[o,i]=(0,a.useState)("current"),{accountName:r}=(0,Y.rT)(),{accounts:l}=(0,Y.Rg)(),{setPreferenceEnabled:d}=(0,ye.up)(),u=!e.enabled;return(0,n.jsx)(I.u_,{open:!0,onClose:t,useActionDivider:!0,title:s(u?"platform_notifications_subscribe":"platform_notifications_unsubscribe"),actions:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.Button,{variant:"secondary",onClick:t,children:s("action_cancel")}),(0,n.jsx)(c.Button,{onClick:async s=>{s.preventDefault(),await d(e.id,!e.enabled,"all"===o),t()},variant:u?"primary":"destructive",children:s("action_confirm")})]}),children:(0,n.jsxs)(I.kC,{column:!0,gap:3,children:[(0,n.jsxs)(c.Paragraph,{children:[s(u?"platform_notifications_get_notifications_for":"platform_notifications_stop_notifications_for"),":"]}),(0,n.jsx)(c.SubscribeListItem,{title:(0,xl.Zj)(e.id,s)}),l&&l.length>1&&(0,n.jsx)(c.RadioButtonGroup,{name:"applyFor",value:o,onValueChange:i,children:(0,n.jsxs)(I.kC,{column:!0,gap:1,children:[(0,n.jsx)(c.RadioButton,{id:"current",value:"current",label:(0,n.jsx)(c.RadioButtonLabel,{htmlFor:"current",children:r})}),(0,n.jsx)(c.RadioButton,{id:"all",value:"all",label:(0,n.jsx)(c.RadioButtonLabel,{htmlFor:"all",children:s("notifications_apply_all_wallets")})})]})})]})})},jl=(0,Je.ZP)(c.TextField)({"& input:-webkit-autofill":{transition:"background-color 9999s ease-in-out 0s, color 9999s ease-in-out 0s"},"& input:-webkit-autofill:hover":{transition:"background-color 9999s ease-in-out 0s, color 9999s ease-in-out 0s"},"& input:-webkit-autofill:focus":{transition:"background-color 9999s ease-in-out 0s, color 9999s ease-in-out 0s"},"& input:-webkit-autofill:active":{transition:"background-color 9999s ease-in-out 0s, color 9999s ease-in-out 0s"}}),bl=({onClose:e})=>{const{t}=(0,A.$)(),{values:s,setValue:o,errors:i,changePassword:r,disableSubmit:l,requireCurrentPassword:d}=(0,ye.LN)(),[u,m]=(0,a.useState)({}),p=e=>{o(e.target.name,e.target.value)},h=e=>t=>{t.preventDefault(),t.stopPropagation(),m((t=>({...t,[e]:!t[e]})))};return(0,n.jsx)(I.u_,{open:!0,title:t(d?"password_change":"settings_security_set_password"),onClose:e,onSubmit:async t=>{t.preventDefault(),await r()&&e()},actions:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.Button,{variant:"secondary",onClick:e,children:t("action_cancel")}),(0,n.jsx)(c.Button,{type:"submit",disabled:l,children:t("action_confirm")})]}),useActionDivider:!0,children:(0,n.jsxs)(c.SettingsContent,{children:[d&&(0,n.jsx)($e.Z,{marginBottom:1.5,children:(0,n.jsx)(jl,{autoFocus:!0,placeholder:t("form_current_password_lowercase"),name:"currentPassword",value:s.currentPassword,type:u.currentPassword?"text":"password",onChange:p,error:"currentPassword"in i,hint:i.currentPassword&&(0,n.jsx)(c.Label,{error:!0,children:i.currentPassword||" "}),children:(0,n.jsx)(c.ActionableIcon,{tabIndex:-1,onClick:h("currentPassword"),icon:u.currentPassword?O.Aq:O.Mdf,"aria-label":"toggle password visibility"})})}),(0,n.jsx)($e.Z,{marginBottom:1.5,children:(0,n.jsx)(jl,{autoFocus:!d,placeholder:t("form_new_password_lowercase"),name:"newPassword",value:s.newPassword,type:u.newPassword?"text":"password",onChange:p,error:"newPassword"in i,hint:i.newPassword&&(0,n.jsx)(c.Label,{error:!0,children:i.newPassword||" "}),children:(0,n.jsx)(c.ActionableIcon,{tabIndex:-1,onClick:h("newPassword"),icon:u.newPassword?O.Aq:O.Mdf,"aria-label":"toggle password visibility"})})}),(0,n.jsx)($e.Z,{marginBottom:1.5,children:(0,n.jsx)(jl,{placeholder:t("form_repeat_password_lowercase"),name:"repeatPassword",value:s.repeatPassword,type:u.repeatPassword?"text":"password",onChange:p,error:"repeatPassword"in i,hint:i.repeatPassword&&(0,n.jsx)(c.Label,{error:!0,children:i.repeatPassword||" "}),children:(0,n.jsx)(c.ActionableIcon,{tabIndex:-1,onClick:h("repeatPassword"),icon:u.repeatPassword?O.Aq:O.Mdf,"aria-label":"toggle password visibility"})})})]})})};var fl=s("../../libs/shared/dist/hooks/useLogout.js");const _l=({onCancel:e})=>{const{t}=(0,A.$)(),s=(0,fl.a)(),[o,i]=(0,a.useState)(!1);return(0,n.jsx)(I.u_,{open:!0,title:t("header_settings_logout"),onClose:e,fullWidth:!0,useActionDivider:!0,maxWidth:"xs",actions:(0,n.jsxs)($e.Z,{display:"flex",gap:2,children:[(0,n.jsx)(c.Button,{variant:"secondary",onClick:e,children:t("action_cancel")}),(0,n.jsx)(c.Button,{variant:"destructive",disabled:!o,onClick:async e=>{e.preventDefault(),o&&(await s(),Ve.p1?window.location.reload():window.location.href="/")},children:t("action_logout")})]}),children:(0,n.jsxs)($e.Z,{display:"flex",flexDirection:"column",gap:1.5,children:[(0,n.jsx)(c.Alert,{variant:"error",title:t("unlock_and_forgot_clear_warning_card_header"),message:t("settings_security_log_out_error")}),(0,n.jsx)(c.Paragraph,{children:t("settings_security_log_out_notice")}),(0,n.jsx)(c.Control,{id:"logout-check",label:t("settings_security_log_out_checkbox_label"),action:(0,n.jsx)(c.Checkbox,{checked:o,onChange:e=>i(!!e.target.checked)})})]})})},yl=()=>{const{t:e}=(0,A.$)(),t=(0,_e.LN)(),s=(0,B.s0)(),o=(0,B.TH)(),{notificationsSupported:i,notificationsEnabled:r,notificationDevice:l}=(0,k.l)(),{preferences:d,webPushEnabled:u,webPushBlocked:m}=(0,ye.up)(),{setNotificationsEnabled:p}=(0,hl.c)(),[h,x]=(0,a.useState)(null),g="mainnet"===t.cluster;return(0,a.useEffect)((()=>{o.search?.includes("enablePush")&&i&&!r&&p(!0).then((()=>s(U.s2.NOTIFICATIONS.MAIN,{replace:!0})))}),[s,p,g,r,o.search,i]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(I.GV,{title:e("settings_notifications"),children:(0,n.jsx)(I.aV,{withItemSeparators:!1,children:((t,s)=>t?s?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(I.sN,{title:e("settings_notification_push_notifications_title"),subtitle:e(m?"settings_notification_push_notifications_permission_required":"settings_notification_push_notifications_description"),showBorder:r,gutter:!0,children:(0,n.jsx)(c.Toggle,{disabled:m,checked:u,onCheckedChange:()=>p(!u)})}),u&&(0,n.jsx)(I.sN,{title:null,bottom:d.map((t=>(0,n.jsx)(I.R1,{title:(0,xl.Zj)(t.id,e),subtitle:(0,xl.vv)(t.id,e),children:(0,n.jsx)(c.Toggle,{onCheckedChange:()=>x(t),checked:t.enabled})},t.id)))})]}):(0,n.jsx)(al,{}):(0,n.jsx)(nl,{}))(i,g)})}),!!h&&(0,n.jsx)(gl,{preference:h,onClose:()=>x(null)})]})};var vl=s("../../libs/shared/dist/constants/autolock.js"),kl=s("../../libs/shared/dist/utils/featureFlags.js");const wl=()=>{const e=(0,I.qY)(),t=(0,I.qY)(),{autoLock:s,changeAutoLock:o}=(0,_e.ec)(),{isBalanceHidden:i,setHideBalancesEnabled:l}=(0,ye.sC)(),{isMetamask:d}=(0,G.U)(),u=(0,Y.Rg)(),{lock:m}=(0,Y.bg)(),{t:p}=(0,A.$)(),{confirm:h}=(0,_.O)(),x=(0,fl.a)(),{enqueueSnackbar:g}=(0,S.Ds)(),[j,b]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{!async function(){const e=await Se.Z.solanaActions.get();b(e)}()}),[]),(0,n.jsxs)(I.GV,{title:p("settings_main_security_privacy"),children:[(0,n.jsxs)(I.aV,{children:[Ve.p1&&(0,n.jsx)(I.sN,{title:p("settings_trusted_apps"),subtitle:p("settings_trusted_apps_label"),children:(0,n.jsx)(I.hU,{component:r.rU,to:U.s2.SECURITY.TRUSTED_APPS.MAIN,children:(0,n.jsx)(I.JO,{size:"md",faIcon:O._tD})})}),(0,n.jsx)(I.sN,{title:p("settings_security_spending_approvals"),subtitle:p("settings_security_spending_approvals_description"),children:(0,n.jsx)(I.hU,{component:r.rU,to:U.s2.SECURITY.SPENDING_APPROVALS.MAIN,children:(0,n.jsx)(I.JO,{size:"md",faIcon:O._tD})})}),!d&&(0,n.jsx)(I.sN,{title:p("settings_signed_logs"),subtitle:p("settings_signed_logs_details_label"),children:(0,n.jsx)(I.hU,{component:r.rU,to:U.s2.SECURITY.SIGNED_MESSAGES_LOGS.MAIN,children:(0,n.jsx)(I.JO,{size:"md",faIcon:O._tD})})}),u.locked&&(0,n.jsx)(I.sN,{title:p("settings_security_autolock_header"),subtitle:p("security_settings_autolock_time_description"),children:(0,n.jsx)(I.Ph,{value:s.time,onChange:e=>o(+e.target.value),minWidth:200,children:vl.GC.map((e=>(0,n.jsx)(I.p,{value:e.value,children:e.label},e.value)))})}),!d&&(0,n.jsx)(I.sN,{title:p("settings_security_hide_balances"),subtitle:p("settings_security_hide_balances_subtitle"),wrapOnSmall:!1,children:(0,n.jsx)(c.Toggle,{checked:i,onCheckedChange:()=>l(!i)})}),!d&&Ve.Cy&&(0,n.jsx)(I.sN,{title:p("solana_actions"),subtitle:p("solana_actions_enable"),wrapOnSmall:!1,children:(0,n.jsx)(c.Toggle,{checked:j,onCheckedChange:async()=>{await Se.Z.solanaActions.set(!j),b(!j),(async e=>{kl.Z.c("SettingsSecurity","SolanaActions",{areSolanaActionsEnabled:e},{},{areSolanaActionsEnabled:e})})(!j),g(p("solana_actions_refresh_page"),{variant:"info",autoHideDuration:5e3})}})}),!d&&(0,n.jsx)(I.sN,{title:u.locked?p("settings_security_change_password"):p("settings_security_set_password"),subtitle:u.locked?p("settings_security_change_password_description"):p("settings_security_set_password_description"),children:(0,n.jsx)(I.zx,{onClick:t.open,size:"small",color:"primary",sx:{textTransform:"initial",p:0},children:u.locked?p("action_change"):p("settings_security_password_set")})}),u.locked&&(0,n.jsx)(I.sN,{title:p("action_lock"),subtitle:p("settings_security_lock_description"),children:(0,n.jsx)(I.zx,{onClick:async()=>{await m()},size:"small",color:"primary",sx:{textTransform:"initial",p:0},children:p("action_lock")})}),(0,n.jsx)(I.sN,{title:p("header_settings_logout"),subtitle:p("settings_security_anonymous_log_out"),children:(0,n.jsx)(I.zx,{onClick:async()=>{if(await h({title:p("header_settings_logout"),message:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.Alert,{title:p(d?"unlock_and_forgot_caution_warning_card_header_mm":"unlock_and_forgot_caution_warning_card_header"),variant:"warning",message:p(d?"settings_main_security_privacy_log_out_caution_mm":"settings_main_security_privacy_log_out_caution")}),(0,n.jsx)(c.Paragraph,{children:p(d?"settings_main_security_privacy_log_out_caution_description_mm":"settings_main_security_privacy_log_out_caution_description")})]}),confirmButtonText:p(d?"action_logout":"action_continue"),confirmButtonVariant:d?"destructive":void 0,cancelButtonText:p("action_cancel"),shouldCloseOnConfirmed:!d})){if(d)return await x(),void(Ve.p1?window.location.reload():window.location.href="/");e.open()}},size:"small",variant:"text",sx:{textTransform:"initial",p:0},children:p("action_logout")})})]}),t.isOpen&&(0,n.jsx)(bl,{onClose:t.close}),e.isOpen&&(0,n.jsx)(_l,{onCancel:e.close})]})},Cl=()=>{const{logs:e,isLoading:t,removeLog:s}=(0,ye.nO)(),{t:o}=(0,A.$)(),[i,r]=(0,a.useState)(null),{addPath:l,removePath:d}=(0,ye.fb)(),{slug:u}=(0,Ce.nc)(["slug"]),p=(0,B.s0)(),h=(0,a.useMemo)((()=>e.find((e=>e.id===u))),[e,u]);return(0,a.useEffect)((()=>{if(h)return l([{id:"security",path:U.s2.SECURITY.MAIN,text:o("settings_main_security_privacy")},{id:"signedMessagesLog",path:U.s2.SECURITY.SIGNED_MESSAGES_LOGS.MAIN,text:o("settings_signed_messages_log")},{id:"signedMessagesLogDetails",path:U.s2.SECURITY.SIGNED_MESSAGES_LOGS.DETAILS(u),text:h.origin}]),()=>{d(["security","signedMessagesLog","signedMessagesLogDetails"])}}),[l,d,o,h,u]),t?null:h?(0,n.jsx)(I.GV,{title:(0,n.jsxs)(I.kC,{alignItems:"center",gap:1,children:[(0,n.jsx)(m.iB,{host:h.origin}),h.title||h.origin]}),titleAction:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(I.hU,{"data-testid":"signed_logs_more_actions_button",onClick:e=>r(e.currentTarget),children:(0,n.jsx)(Ks.G,{icon:O.Uwo})}),(0,n.jsx)(I.vb,{anchorEl:i,open:!!i,onClose:()=>r(null),children:(0,n.jsx)(I.bK,{color:"danger","data-testid":"signed_logs_more_actions_delete",onClick:async()=>{r(null),h&&await s(h)&&p(U.s2.SECURITY.SIGNED_MESSAGES_LOGS.MAIN,{replace:!0})},children:o("action_remove_message")})})]}),children:(0,n.jsxs)(I.aV,{children:[(0,n.jsx)(I.sN,{title:(0,jt.ZR)(1e3*h.timestamp),subtitle:o("table_date")}),(0,n.jsxs)(I.kC,{justifyContent:"space-between",children:[(0,n.jsx)(I.sN,{title:h.origin,subtitle:o("table_website")}),h.origin&&(0,n.jsx)(c.Button,{variant:"secondary",size:"s",onClick:()=>window.open(h.origin,"_blank"),children:o("action_open_website")})]}),(0,n.jsx)(I.sN,{title:(0,n.jsx)("span",{style:{overflowWrap:"anywhere",whiteSpace:"pre-line"},children:h.message}),subtitle:o("transaction_message")})]})}):(0,n.jsx)(B.Fg,{to:U.s2.SECURITY.SIGNED_MESSAGES_LOGS.MAIN,replace:!0})},Sl=()=>{const{t:e}=(0,A.$)(),{logs:t,isLoading:s,removeAll:o}=(0,ye.nO)(),[i,l]=(0,a.useState)(null),[d,c]=a.useState(null),{addPath:u,removePath:p}=(0,ye.fb)();(0,a.useEffect)((()=>(u([{id:"security",path:U.s2.SECURITY.MAIN,text:e("settings_main_security_privacy")},{id:"signedMessagesLog",path:U.s2.SECURITY.SIGNED_MESSAGES_LOGS.MAIN,text:e("settings_signed_messages_log")}]),()=>{p(["security","signedMessagesLog"])})),[u,p,e]);const h=(0,a.useMemo)((()=>t.map((e=>({...e,date:new Date(1e3*e.timestamp)})))),[t]),x=null!==d,g=h.filter((e=>!d||d.length<2||e.origin.toLowerCase().includes(d.toLowerCase())||e.title?.toLowerCase().includes(d.toLowerCase())));return(0,n.jsx)(I.GV,{title:!x&&e("settings_signed_messages_log"),cardTop:x&&(0,n.jsx)($e.Z,{pb:"6px",children:(0,n.jsx)(I.Rj,{onCloseSearch:()=>c(null),onChange:e=>c(e.target.value)})}),titleAction:(0,n.jsxs)($e.Z,{display:"flex",gap:2,children:[t.length>0&&!x&&(0,n.jsx)(I.hU,{onClick:()=>c(""),children:(0,n.jsx)(I.JO,{faIcon:O.wn1})}),(s||t.length>0)&&(0,n.jsxs)(n.Fragment,{children:[!x&&(0,n.jsx)(I.hU,{"data-testid":"messages_log_more_actions_button",onClick:e=>l(e.currentTarget),children:(0,n.jsx)(Ks.G,{icon:O.Uwo})}),(0,n.jsx)(I.vb,{anchorEl:i,open:!!i,onClose:()=>l(null),children:(0,n.jsx)(I.bK,{color:"danger","data-testid":"signed_log_more_actions_delete_all",onClick:()=>{l(null),o()},children:e("action_remove_all")})})]})]}),children:s||0!==g.length?(0,n.jsx)(I.BQ,{height:700,data:g,item:(e,t)=>(0,n.jsx)(I.HC,{py:1,title:e.title||e.origin,subtitle:e.title?e.origin:void 0,subtitleColor:"text.tertiary",imgSrc:`https://www.google.com/s2/favicons?domain=${e.origin}&sz=128`,avatarVariant:"square",showBorder:!t,gutter:!0,wrapOnSmall:!1,topGutter:1,children:(0,n.jsx)(r.rU,{to:U.s2.SECURITY.SIGNED_MESSAGES_LOGS.DETAILS(e.id),children:(0,n.jsx)(I.hU,{children:(0,n.jsx)(I.JO,{size:"sm",faIcon:O._tD})})})}),header:(e,t)=>(0,n.jsx)(I.nY,{pt:0===t?0:3,title:(0,jt.pz)(e.getTime()),background:"#1a1d27"})}):(0,n.jsx)(m.Up,{illustration:(0,n.jsx)("img",{src:ll,alt:"No spending approvals"}),children:e("settings_signed_logs_empty")})})},Tl=()=>(0,B.V$)([{path:"",element:(0,n.jsx)(ye.Qh,{children:(0,n.jsx)(B.j3,{})}),children:[{index:!0,element:(0,n.jsx)(Sl,{})},{path:":slug",element:(0,n.jsx)(Cl,{})}]}]),Al=()=>{const{t:e}=(0,A.$)(),{isLoading:t,items:s}=(0,ye.o4)();return(0,n.jsx)(I.GV,{title:e("settings_security_spending_approvals_title"),titleAction:(t||0!==s.length)&&(0,n.jsx)(rl,{}),children:(0,n.jsx)(ml,{})})},Il=()=>{const{t:e}=(0,A.$)(),t=(0,B.s0)(),{openExplorer:s}=(0,Ce.Vf)(),{copy:o}=(0,Ce.c)(),{addPath:i,removePath:r}=(0,ye.fb)(),{address:l}=(0,Ce.nc)(["address"]),{itemsById:d,revoke:u}=(0,ye.o4)(),p=d[l],{url:h}=(0,Gs.j)(p?.info?.image);return(0,a.useEffect)((()=>{if(p)return i([{id:"delegationDetails",path:U.s2.SECURITY.SPENDING_APPROVALS.DETAILS(l),text:p.info.name||(0,P.r)(p.tokenId)}]),()=>{r(["delegationDetails"])}}),[p,i,r,l,e]),p?(0,n.jsx)(I.GV,{title:(0,n.jsxs)(I.kC,{alignItems:"center",gap:1.5,children:["nft"===p.type?(0,n.jsx)(c.NFTAvatar,{src:h}):(0,n.jsx)(m.yY,{src:h,verified:p.info.verified}),p.info.name||(0,P.r)(p.tokenId)]}),titleAction:(0,n.jsx)(ol,{onRevokeClick:async()=>{await u(l),t(U.s2.SECURITY.SPENDING_APPROVALS.MAIN,{replace:!0})},onExplorerClick:()=>{s({type:"account",address:l})}}),children:(0,n.jsxs)(I.aV,{children:[(0,n.jsx)(I.sN,{subtitle:e("table_amount"),title:(0,M.ED)({amount:p.delegation.uiAmount,displayType:"amount",pricePerCoin:p.info.price||0,suffix:"token"===p.type&&p.info.symbol?` ${p.info.symbol}`:""})}),(0,n.jsx)(I.sN,{subtitle:e("table_address"),title:(0,n.jsxs)(I.kC,{alignItems:"center",gap:1,children:[(0,n.jsx)(se.y,{size:"s",publicKey:p.delegation.address}),(0,P.r)(p.delegation.address),(0,n.jsx)(c.ActionableIcon,{size:"s",icon:O.kZ_,onClick:()=>{o(p.delegation.address)}})]})})]})}):(0,n.jsx)(B.Fg,{to:U.s2.SECURITY.SPENDING_APPROVALS.MAIN,replace:!0})};var Zl=s("../../../node_modules/console-browserify/index.js");const Ml=()=>{const{t:e}=(0,A.$)(),{addPath:t,removePath:s}=(0,ye.fb)();return(0,a.useEffect)((()=>(Zl.log("mount spending approvals main"),t([{id:"security",path:U.s2.SECURITY.MAIN,text:e("settings_main_security_privacy")},{id:"spendingApprovals",path:U.s2.SECURITY.SPENDING_APPROVALS.MAIN,text:e("settings_security_spending_approvals_title")}]),()=>{Zl.log("unmount spending approvals main"),s(["security","spendingApprovals"])})),[t,s,e]),(0,B.V$)([{path:"",element:(0,n.jsx)(ye.K7,{children:(0,n.jsx)(B.j3,{})}),children:[{index:!0,element:(0,n.jsx)(ye.XB,{children:(0,n.jsx)(Al,{})})},{path:":address",element:(0,n.jsx)(Il,{})}]}])};var Pl=s("../../libs/shared/dist/features/shared/autoApproveApps/index.js");const Dl=({isLoading:e})=>{const{t}=(0,A.$)(),{origin:s}=(0,Ce.nc)(["origin"]),o=(0,B.s0)(),{appsByOrigin:i,setAppAutoApprove:r,setAppAutoConnect:l,removeApp:d,canChangeAutoApprove:u}=(0,ye.Ql)(),[p,h]=(0,a.useState)(null),{addPath:x,removePath:g}=(0,ye.fb)(),j=decodeURIComponent(s),b=u(j),f=i[j];return(0,a.useEffect)((()=>{if(f)return x([{id:"security",path:U.s2.SECURITY.MAIN,text:t("settings_main_security_privacy")},{id:"trustedApps",path:U.s2.SECURITY.TRUSTED_APPS.MAIN,text:t("settings_trusted_apps")},{id:"trustedAppsDetails",path:"#",text:f.title||f.origin}]),()=>{g(["security","trustedApps","trustedAppsDetails"])}}),[f,x,g,t,j]),e?null:f?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(I.GV,{preTitle:(0,n.jsx)($e.Z,{mr:1.5,children:(0,n.jsx)(m.iB,{host:f.origin})}),title:f.title||f.origin,titleAction:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(I.hU,{"data-testid":"trusted_apps_more_actions_button",onClick:e=>h(e.currentTarget),children:(0,n.jsx)(Ks.G,{icon:O.Uwo})}),(0,n.jsxs)(I.vb,{anchorEl:p,open:!!p,onClose:()=>h(null),children:[(0,n.jsx)(I.bK,{"data-testid":"trusted_apps_more_actions_open_app",onClick:()=>window.open(f.origin,"_blank","noopener noreferrer"),children:t("action_open_app")}),(0,n.jsx)(I.bK,{color:"danger","data-testid":"trusted_apps_more_actions_delete",onClick:async()=>{h(null),await d(f)&&o(U.s2.SECURITY.TRUSTED_APPS.MAIN,{replace:!0})},children:t("action_remove_app")})]})]}),children:(0,n.jsxs)(I.aV,{children:[(0,n.jsx)(I.sN,{title:t("settings_trusted_apps_options_autoconnect"),subtitle:t("settings_trusted_apps_options_autoconnect_description"),children:(0,n.jsx)(c.Toggle,{checked:f.autoConnect,onCheckedChange:()=>l(j,!f.autoConnect)})}),(0,n.jsx)($e.Z,{sx:{opacity:b?1:.5},children:(0,n.jsx)(I.sN,{title:t("settings_trusted_apps_options_autoapprove"),subtitle:t(b?"settings_trusted_apps_options_autoapprove_description_burner":"settings_trusted_apps_options_autoapprove_description_other"),children:(0,n.jsx)(c.Toggle,{checked:f.autoApprove,disabled:!b,onCheckedChange:b?()=>r(j,!f.autoApprove):void 0})})})]})})}):(0,n.jsx)(B.Fg,{to:U.s2.SECURITY.TRUSTED_APPS.MAIN,replace:!0})},Bl=({isLoading:e})=>{const{t}=(0,A.$)(),s=(0,B.s0)(),{apps:o}=(0,ye.Ql)(),[i,r]=(0,a.useState)(null),{addPath:l,removePath:d}=(0,ye.fb)();(0,a.useEffect)((()=>(l([{id:"security",path:U.s2.SECURITY.MAIN,text:t("settings_main_security_privacy")},{id:"trustedApps",path:U.s2.SECURITY.TRUSTED_APPS.MAIN,text:t("settings_trusted_apps")}]),()=>{d(["security","trustedApps"])})),[l,d,t]);const c=(0,a.useMemo)((()=>{const e=(i||"").trim().toLowerCase();let t=o;return e&&(t=o.filter((t=>t.origin?.toLowerCase()?.includes(e)||t.title?.toLowerCase()?.includes(e)))),(0,gt.orderBy)(t,[e=>e.lastConnected||0],["desc"])}),[o,i]),u=null!==i;return(0,n.jsx)(I.GV,{title:!u&&t("settings_trusted_apps"),cardTop:u&&(0,n.jsx)($e.Z,{pb:"6px",children:(0,n.jsx)(I.Rj,{onCloseSearch:()=>r(null),onChange:e=>r(e.target.value),autoFocus:!0})}),titleAction:!u&&!e&&o.length>0&&(0,n.jsx)(I.hU,{onClick:()=>r(""),children:(0,n.jsx)(I.JO,{size:"md",faIcon:O.wn1})}),children:e||0!==o.length?e||0!==c.length?(0,n.jsx)(I.aV,{children:c.map((e=>{return(0,n.jsx)(I.HC,{avatarVariant:"square",title:e.title,subtitle:(t=e.origin,t.replace(/^https?:\/\//,"")),imgSrc:`https://www.google.com/s2/favicons?domain=${e.origin}&sz=128`,wrapOnSmall:!1,children:(0,n.jsx)(I.hU,{onClick:()=>s(U.s2.SECURITY.TRUSTED_APPS.DETAILS(encodeURIComponent(e.origin))),children:(0,n.jsx)(I.JO,{size:"md",faIcon:O._tD})})},e.origin);var t}))}):(0,n.jsx)(m.Up,{illustration:(0,n.jsx)("img",{src:ll,alt:"No trusted apps"}),children:t("settings_trusted_apps_search_empty_message")}):(0,n.jsx)(m.Up,{illustration:(0,n.jsx)("img",{src:ll,alt:"No trusted apps"}),children:t("settings_trusted_apps_empty_message")})})},El=()=>{const[e,t]=(0,a.useState)(!1),{isLoading:s}=(0,Pl.L)(),{loadTrustedApps:o}=(0,ye.ks)();(0,a.useEffect)((()=>{o().then((()=>t(!0)))}),[o]);const i=!e||s;return(0,B.V$)([{path:"",children:[{index:!0,element:(0,n.jsx)(Bl,{isLoading:i})},{path:":origin",element:(0,n.jsx)(Dl,{isLoading:i})}]}])},Ol=()=>(0,B.V$)([{path:"",element:(0,n.jsx)(B.j3,{}),children:[{index:!0,element:(0,n.jsx)(wl,{})},Ve.p1&&{path:"trusted/*",element:(0,n.jsx)(El,{})},{path:"spending-approvals/*",element:(0,n.jsx)(Ml,{})},{path:"logs/*",element:(0,n.jsx)(Tl,{})}].filter(Boolean)}]),Ll=()=>{const{t:e}=(0,A.$)();return(0,n.jsx)(I.GV,{title:"Support",children:(0,n.jsxs)(I.aV,{children:[(0,n.jsx)(I.sN,{title:e("support_settings_web_title"),subtitle:e("support_settings_web_subtitle"),children:(0,n.jsx)(I.kC,{minWidth:"45%",justifyContent:["flex-start","flex-start","flex-end"],children:(0,n.jsx)(I.zx,{variant:"contained",onClick:e=>{e.preventDefault(),window.open("https://academy.solflare.com/guides/?get_help=true","_blank")},children:e("action_get_help")})})}),(0,n.jsx)(I.sN,{title:e("settings_support_academy_title"),subtitle:e("settings_support_academy_subtitle"),bottom:(0,n.jsxs)(I.kC,{gap:2,pt:3,flexDirection:["column","row","row"],children:[(0,n.jsx)(I.rJ,{title:e("settings_support_academy_guides_title"),description:e("settings_support_academy_guides_description"),icon:(0,n.jsx)(I.JO,{faIcon:O.MHt})}),(0,n.jsx)(I.rJ,{title:e("settings_support_academy_articles_title"),description:e("settings_support_academy_articles_description"),icon:(0,n.jsx)(I.JO,{faIcon:O.Xgz})}),(0,n.jsx)(I.rJ,{title:e("settings_support_academy_courses_title"),description:e("settings_support_academy_courses_description"),icon:(0,n.jsx)(I.JO,{faIcon:O.KtD})})]}),children:(0,n.jsx)(I.kC,{minWidth:"45%",justifyContent:["flex-start","flex-start","flex-end"],children:(0,n.jsx)(I.zx,{size:"small",onClick:e=>{e.preventDefault(),window.open("https://academy.solflare.com/course/","_blank")},children:e("action_start_learning")})})})]})})},Nl=["general","address","notifications","security","support"],Rl=()=>{const e=(0,B.s0)(),{t}=(0,A.$)(),s=(0,_e.LN)(),o=(()=>{const e=(0,I.bO)(window.location.href);return window.location.href.includes("settings/security/")?"security":Nl.includes(e)?e:"general"})(),i=(0,a.useMemo)((()=>{let e=Nl;return e="mainnet"===s.cluster?e:e.filter((e=>"notifications"!==e)),e}),[s.cluster]);return(0,n.jsx)(ye.ii,{children:(0,n.jsx)(I.EH,{order:i,sideBarTitle:t("header_settings"),active:o,onNavChange:t=>{e(`/settings/${"general"===t?"":t}`)},breadCrumbs:(0,n.jsx)(Jr,{}),config:{general:{value:"general",icon:(0,n.jsx)(I.JO,{size:"lg",faIcon:O.cRF}),title:t("settings_general")},address:{value:"address",icon:(0,n.jsx)(I.JO,{size:"lg",faIcon:"address"===o?ss.hVn:O.hVn}),title:t("settings_addressbook")},notifications:{value:"notifications",icon:(0,n.jsx)(I.JO,{size:"lg",faIcon:"notifications"===o?ss.qmU:O.qmU}),title:t("settings_notifications")},security:{value:"security",icon:(0,n.jsx)(I.JO,{size:"lg",faIcon:"security"===o?ss.isG:O.isG}),title:t("settings_main_security_privacy")},support:{value:"support",icon:(0,n.jsx)(I.JO,{size:"lg",faIcon:O.P_s}),title:t("support_title")}},children:(0,B.V$)([{index:!0,element:(0,n.jsx)(pl,{})},{path:"address",element:(0,n.jsx)(Yr,{})},{path:"notifications",element:(0,n.jsx)(yl,{})},{path:"security/*",element:(0,n.jsx)(Ol,{})},{path:"support",element:(0,n.jsx)(Ll,{})}])})})};var Fl=s("../../libs/shared/dist/features/stakingModal/shared/UnstakeModal.js");const Ul=({restakeAccount:e})=>{const{maxSOLBalance:t,selectedAmount:s,setSelectedValidator:a,selectedValidator:o,error:i,createStake:r,createStakeLoading:l,setValidatorFilter:d,validatorOptions:u,validatorsLoading:m,validatorsFetching:p}=(0,X.g)(e),{t:h}=(0,A.$)();return(0,n.jsxs)(I.kC,{column:!0,gap:"24px",children:[(0,n.jsx)(J.m,{maxSOLBalance:t,selectedAmount:s,validatorOptions:u,onValidatorQueryChange:d,validatorsLoading:m,validatorsFetching:p,onValidatorChange:a,selectedValidator:o}),i&&(0,n.jsx)(c.Alert,{variant:"error",title:i.title,message:i.message}),(0,n.jsx)(c.Button,{disabled:void 0===s||0==+s||Boolean(i)||!o||l,onClick:r,children:h("action_stake")})]})},$l=()=>{const{t:e}=(0,A.$)(),{data:t}=(0,T.ku)(),{stakeId:s}=(0,Ce.nc)(["stakeId"]),a=(0,B.s0)(),o=t?.stakeAccounts.find((e=>e.publicKey===s));return o?(0,n.jsx)(I.u_,{open:!0,onClose:()=>a(U.Ni.MAIN,{replace:!0}),title:e("action_stake"),children:(0,n.jsx)(Ul,{restakeAccount:o})}):null},Wl=()=>{const{t:e}=(0,A.$)(),[t,s]=(0,T.Bf)();return(0,n.jsxs)(I.kC,{justifyContent:"center",column:!0,alignItems:"center",children:[(0,n.jsx)($e.Z,{sx:{opacity:.5},children:(0,n.jsx)(m.LM,{})}),(0,n.jsx)(I.ZT,{color:"text.secondary",children:e("staking_empty_state_title")}),(0,n.jsx)($e.Z,{pt:"30px"}),(0,n.jsx)(c.Button,{variant:"primary",onClick:s,children:e("action_stake_now")})]})},Kl=({isBalanceHidden:e,data:t,isLoading:s,onStakeClick:a})=>{const{t:o}=(0,A.$)(),i=(0,$.s)(t?.totalAmount||0),r=t&&void 0!==t.totalAmount?i.multipliedBy(new E.Z(t?.price?.price||0)).toString():void 0;return(0,n.jsx)(I.mr,{useSmallerMiddleBp:!0,mainHeaderItem:(0,n.jsx)(I.eH,{hiddenBalance:e,avatar:(0,n.jsx)(m.yY,{src:Z,verified:!0}),label:o("staking_total_staked"),value:s||!t?(0,n.jsx)(An.Z,{width:120}):(0,M.ED)({amount:i,displayType:"amount",suffix:" SOL"})}),actions:(0,n.jsx)(c.Button,{variant:"primary",disabled:s,onClick:a,children:o("staking_native_stake")}),children:!s&&(0,n.jsx)(I.BE,{label:o("table_value"),content:void 0!==r?(0,n.jsx)(te.sp,{value:r}):""})})};var zl=s("../../../node_modules/@mui/system/esm/styled.js"),Hl=s("../../libs/shared/dist/constants/validatorStatus.js"),Vl=s("../../libs/shared/dist/utils/timeRemaining.js"),Gl=s("../../libs/shared/dist/features/staking/shared/InstantUnstakeSpeedupBanner.js"),ql=s("../../libs/shared/dist/features/stakingModal/hooks/useUnstakeForm.js"),Yl=s("../../libs/shared/dist/features/staking/web/ExplorerDropDownItem.js");const Ql=({stakingAccount:e})=>{const t=(0,B.s0)(),{t:s}=(0,A.$)(),{publicKey:o,accountName:i}=(0,Y.rT)(),{standardUnstake:r}=(0,ql.K)({stakeAccount:e}),[l,d]=a.useState(null),u=Boolean(l),m=()=>{d(null)},p=e.actions.find((e=>"withdraw"===e.name||"partialWithdraw"===e.name)),h=p?.metadata?.amount??0,x=(0,$.s)(h).toString(),{mutate:g}=(0,T.Uo)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.IconButton,{icon:O.Uwo,variant:"secondary",onClick:e=>{d(e.currentTarget)}}),(0,n.jsxs)(I.vb,{anchorEl:l,open:u,onClose:m,children:[(0,n.jsx)(I.bK,{onClick:()=>{r(),m()},children:s("action_unstake")}),h>0&&(0,n.jsx)(I.bK,{onClick:()=>{m(),g({amountLamports:h,confirmData:(0,n.jsx)(ne,{amount:x,walletName:i,walletPubkey:o}),stakingAccount:e,onBroadcast:()=>{t(U.Ni.MAIN,{replace:!0})}})},children:s("action_withdraw_inactive",{token:"SOL"})}),(0,n.jsx)(Yl.x,{onClose:m,publicKey:e.publicKey})]})]})},Jl=({stakingAccount:e,openSplitModal:t,openDeactivateModal:s})=>{const o=(0,B.s0)(),{t:i}=(0,A.$)(),{publicKey:r,accountName:l}=(0,Y.rT)(),{standardUnstake:d}=(0,ql.K)({stakeAccount:e}),[u,m]=a.useState(null),p=Boolean(u),h=()=>{m(null)},x=e.actions.find((e=>"split"===e.name))?.metadata,g=e.actions.find((e=>"withdraw"===e.name||"partialWithdraw"===e.name)),j=g?.metadata?.amount??0,b=(0,$.s)(j).toString(),{mutate:f}=(0,T.Uo)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.IconButton,{icon:O.Uwo,variant:"secondary",onClick:e=>{m(e.currentTarget)}}),(0,n.jsxs)(I.vb,{anchorEl:u,open:p,onClose:h,children:[x&&(0,n.jsx)(I.bK,{onClick:()=>{t(e),h()},children:i("action_split")}),j>0&&(0,n.jsx)(I.bK,{onClick:()=>{h(),f({amountLamports:j,confirmData:(0,n.jsx)(ne,{amount:b,walletName:l,walletPubkey:r}),stakingAccount:e,onBroadcast:()=>{o(U.Ni.MAIN,{replace:!0})}})},children:i("action_withdraw_inactive",{token:"SOL"})}),(0,n.jsx)(Yl.x,{onClose:h,publicKey:e.publicKey})]}),(0,n.jsx)(c.Button,{onClick:()=>{e.lockup?d():s(e)},size:"s",variant:"secondary",children:i("action_unstake")})]})};var Xl=s("../../libs/shared/dist/components/ConfirmationHelpers/ConfirmationStaking.js");const ed=({stakingAccount:e})=>{const t=(0,B.s0)(),{t:s}=(0,A.$)(),{publicKey:o,accountName:i}=(0,Y.rT)(),[r,l]=a.useState(null),d=Boolean(r),u=()=>{l(null)},{mutate:m}=(0,T.jg)(),p=e.actions.find((e=>"delegate"===e.name)),h=(0,$.s)(e.amount).toString(),x=e.actions.find((e=>"withdraw"===e.name||"partialWithdraw"===e.name)),g=x?.metadata?.amount??0,j=(0,$.s)(g).toString(),{mutate:b}=(0,T.Uo)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.IconButton,{variant:"secondary",onClick:e=>{l(e.currentTarget)},icon:O.Uwo}),(0,n.jsxs)(I.vb,{anchorEl:r,open:d,onClose:u,children:[p&&(0,n.jsx)(I.bK,{onClick:()=>{m({validatorPubkey:e.voter,stakePubkey:e.publicKey,confirmData:(0,n.jsx)(Xl.Z,{validatorName:e.validator?.name??(0,P.r)(e.validator?.votePublicKey),validatorImage:e.validator?.image??void 0,amount:h})}),u()},children:s("action_restake")}),g>0&&(0,n.jsx)(I.bK,{onClick:()=>{u(),b({amountLamports:g,confirmData:(0,n.jsx)(ne,{amount:j,walletName:i,walletPubkey:o}),stakingAccount:e,onBroadcast:()=>{t(U.Ni.MAIN,{replace:!0})}})},children:s("action_withdraw_inactive",{token:"SOL"})}),(0,n.jsx)(Yl.x,{onClose:u,publicKey:e.publicKey})]})]})};var td=s("../../libs/shared/dist/components/ConfirmationHelpers/ConfirmationCloseStake.js");const sd=({stakingAccount:e})=>{const t=(0,B.s0)(),{t:s}=(0,A.$)(),[o,i]=a.useState(null),r=Boolean(o),l=()=>{i(null)},d=e.actions.find((e=>"withdraw"===e.name))?.metadata?.amountWithClosing,{mutate:u}=(0,T.Uo)(),m=e.validator;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.IconButton,{icon:O.Uwo,variant:"secondary",onClick:e=>{i(e.currentTarget)}}),(0,n.jsx)(I.vb,{anchorEl:o,open:r,onClose:l,children:(0,n.jsx)(Yl.x,{onClose:l,publicKey:e.publicKey})}),d&&(0,n.jsx)(c.Button,{onClick:()=>{u({closeAccount:!0,actionType:"closeAccount",amountLamports:d,confirmData:(0,n.jsx)(td.Z,{stakeStatus:(0,n.jsx)(c.StakeStatusTag,{status:"empty",children:s("staking_status_empty")}),validatorName:m?.name??"Stake Account",validatorImage:m?.image}),stakingAccount:e,onBroadcast:()=>{t(U.Ni.MAIN,{replace:!0})}}),l()},size:"s",variant:"secondary",children:s("action_close_account")})]})},nd=({stakingAccount:e,openWithdrawModal:t})=>{const{t:s}=(0,A.$)(),[o,i]=a.useState(null),r=Boolean(o),l=()=>{i(null)},d=(0,B.s0)(),{setStakingEvents:u}=(0,T.Ub)(),{publicKey:m,accountName:p}=(0,Y.rT)(),h=e.actions.find((e=>"delegate"===e.name)),{isFetching:x}=(0,T.ku)(),{mutateAsync:g,isLoading:j}=(0,T.Uo)(),b=e.validator,f=e.actions.find((e=>"withdraw"===e.name))?.metadata?.amountWithClosing,_=e.actions.find((e=>"withdraw"===e.name)),y=Boolean(e.lockup);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.IconButton,{icon:O.Uwo,variant:"secondary",onClick:e=>{i(e.currentTarget)}}),(0,n.jsxs)(I.vb,{anchorEl:o,open:r,onClose:l,children:[h&&!y&&(0,n.jsx)(I.bK,{onClick:()=>{l(),d(U.Ni.RESTAKE(e.publicKey)),u({...T.TQ,source:"restakeUnstaked"})},children:s("action_stake")}),(0,n.jsx)(Yl.x,{onClose:l,publicKey:e.publicKey})]}),y&&h&&(0,n.jsx)(c.Button,{onClick:()=>{d(U.Ni.RESTAKE(e.publicKey)),u({...T.TQ,source:"restakeUnstaked"})},size:"s",children:s("action_stake")}),_?(0,n.jsx)(n.Fragment,{children:!b&&f?(0,n.jsx)(c.Button,{disabled:j||x,onClick:()=>{g({amountLamports:f,confirmData:(0,n.jsx)(ne,{amount:(0,$.s)(e.amount).toString(),walletName:p,walletPubkey:m}),stakingAccount:e,onBroadcast:()=>{d(U.Ni.MAIN,{replace:!0})}})},children:s("withdraw")}):(0,n.jsx)(c.Button,{onClick:()=>t(e),size:"s",children:s("withdraw")})}):null]})};var ad=s("../../libs/shared/dist/components/ConfirmationHelpers/ConfirmationUnstaking.js");const od=({stakingAccount:e})=>{const t=(0,B.s0)(),{t:s}=(0,A.$)(),[o,i]=a.useState(null),r=Boolean(o),l=()=>{i(null)},d=e.actions.find((e=>"withdraw"===e.name))?.metadata?.amount,u=new E.Z(d??0).toNumber(),m=(0,$.s)(u),{mutate:p}=(0,T.Uo)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.IconButton,{icon:O.Uwo,variant:"secondary",onClick:e=>{i(e.currentTarget)}}),(0,n.jsxs)(I.vb,{anchorEl:o,open:r,onClose:l,children:[(0,n.jsx)(I.bK,{onClick:()=>{p({amountLamports:u,confirmData:(0,n.jsx)(ad.Z,{amount:(0,M.ED)({amount:m,displayType:"amount"})}),stakingAccount:e,onBroadcast:()=>{t(U.Ni.MAIN,{replace:!0})}}),l()},children:s("action_unstake")}),(0,n.jsx)(Yl.x,{onClose:l,publicKey:e.publicKey})]})]})},id=({stakingAccount:e})=>{const[t,s]=a.useState(null),o=Boolean(t),i=()=>{s(null)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.IconButton,{icon:O.Uwo,variant:"secondary",onClick:e=>{s(e.currentTarget)}}),(0,n.jsx)(I.vb,{anchorEl:t,open:o,onClose:i,children:(0,n.jsx)(Yl.x,{onClose:i,publicKey:e.publicKey})})]})},rd=({stakingAccount:e,openSplitModal:t,openWithdrawModal:s,openDeactivateModal:a})=>{const o=(0,T.fZ)(e.statuses);return"active"===o?(0,n.jsx)(Jl,{openSplitModal:t,openDeactivateModal:a,stakingAccount:e}):"activating"===o?(0,n.jsx)(Ql,{stakingAccount:e}):"deactivating"===o?(0,n.jsx)(ed,{stakingAccount:e}):"deactivating-inactive"===o?(0,n.jsx)(id,{stakingAccount:e}):"inactive-active"===o?(0,n.jsx)(od,{stakingAccount:e}):"inactive"===o?(0,n.jsx)(nd,{openWithdrawModal:s,stakingAccount:e}):"empty"===o?(0,n.jsx)(sd,{stakingAccount:e}):null},ld=({children:e,sx:t})=>(0,n.jsx)($e.Z,{sx:{display:"grid",alignItems:"center",gridTemplateColumns:"auto 165px 145px 145px 20px",...t},children:e});var dd=s("../../libs/shared/dist/components/Icons/NoApp.js");const cd=()=>{const{t:e}=(0,A.$)();return(0,n.jsxs)(I.kC,{column:!0,alignItems:"center",py:4,gap:2,children:[(0,n.jsx)(dd.F,{}),(0,n.jsx)(I.ZT,{color:"text.tertiary",maxWidth:390,align:"center",children:e("staking_no_staking_rewards_yet")})]})},ud=()=>{const{t:e}=(0,A.$)();return(0,n.jsxs)(I.kC,{column:!0,alignItems:"center",py:4,gap:2,children:[(0,n.jsx)(dd.F,{}),(0,n.jsx)(I.ZT,{color:"text.tertiary",maxWidth:390,align:"center",children:e("staking_no_staking_rewards_mainnet_only")})]})},md="label",pd=(0,Je.ZP)(c.Button)((({theme:e})=>({"&&&":{color:e.palette.primary.main,"&:hover":{opacity:.8}}}))),hd=({solPrice:e,stakingAccount:{publicKey:t,activationEpoch:s}})=>{const{t:o}=(0,A.$)(),{isError:i,refetch:r,data:l,isFetching:d}=(0,T.tb)(t,s),[c,u]=(0,a.useState)(!1),{cluster:m}=(0,_e.LN)(),p="mainnet"===m,h=(0,a.useMemo)((()=>c?l?.rewards:l?.rewards.slice(0,5)??[]),[l?.rewards,c]);return p?!d&&h&&0===h?.length?(0,n.jsx)(cd,{}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(I.iA,{"aria-label":"simple table",sx:{borderCollapse:"collapse"},children:[(0,n.jsx)(Zr.Z,{children:(0,n.jsxs)(Mr.Z,{children:[(0,n.jsx)(Pr.Z,{align:"left",children:(0,n.jsx)(I.ZT,{variant:md,children:o("table_date")})}),(0,n.jsx)(Pr.Z,{align:"left",width:145,children:(0,n.jsx)(I.ZT,{variant:md,children:o("table_epoch")})}),(0,n.jsx)(Pr.Z,{align:"left",width:145,children:(0,n.jsx)(I.ZT,{variant:md,children:o("table_apy")})}),(0,n.jsx)(Pr.Z,{align:"left",width:145,children:(0,n.jsx)(I.ZT,{variant:md,children:o("table_value")})}),(0,n.jsx)(Pr.Z,{align:"left",width:177,children:(0,n.jsx)(I.ZT,{variant:md,children:o("table_reward")})})]})}),(0,n.jsx)(Dr.Z,{children:h&&h.map((t=>(0,n.jsxs)(Mr.Z,{children:[(0,n.jsx)(Pr.Z,{align:"left",component:"th",scope:"row",children:(0,n.jsx)(I.ZT,{variant:"body2",children:(0,jt.rN)(1e3*t.rewardTime,!0,!1,!0)})}),(0,n.jsx)(Pr.Z,{align:"left",children:(0,n.jsx)(I.ZT,{variant:"body2",truncate:!0,children:t.epoch})}),(0,n.jsx)(Pr.Z,{align:"left",children:(0,n.jsx)(I.ZT,{variant:"body2",children:(0,M.ED)({amount:t.apy,displayType:"value",suffix:"%"})})}),(0,n.jsx)(Pr.Z,{align:"left",children:(0,n.jsx)(I.ZT,{variant:"body2",children:(0,n.jsx)(te.sp,{value:(0,$.s)(t.amount).multipliedBy(e||0).toString()})})}),(0,n.jsx)(Pr.Z,{align:"left",children:(0,n.jsx)(I.ZT,{variant:"body2",children:(0,M.ED)({amount:(0,$.s)(t.amount),displayType:"solana",suffix:" SOL"})})})]},t.epoch)))})]}),(0,n.jsxs)(I.kC,{justifyContent:"center",pb:2,children:[i&&(0,n.jsxs)(I.kC,{column:!0,children:[(0,n.jsx)(I.ZT,{color:"error.main",children:o("error_while_fetching")}),(0,n.jsx)(pd,{variant:"tertiary",size:"s",onClick:()=>r(),children:o("action_refetch")})]}),d&&(0,n.jsx)(I.kC,{column:!0,flex:"1",children:(0,I.MT)(5).map((e=>(0,n.jsx)(An.Z,{height:36},e)))}),!i&&!d&&!c&&l?.rewards&&l?.rewards?.length>5&&(0,n.jsx)(pd,{variant:"tertiary",size:"s",onClick:()=>u(!0),children:o("action_show_all")})]})]}):(0,n.jsx)(ud,{})},xd={active:"active",activating:"inProgress",deactivating:"inProgress",inactive:"complete",empty:"empty",inactiveDeactivating:"inProgress",activeInactive:"complete"},gd=({stakingAccount:e,epochEnding:t})=>{const{t:s}=(0,A.$)(),a={active:s("staking_status_active"),activating:s("staking_status_activating"),deactivating:s("staking_status_unstaking"),inactive:s("staking_status_unstaked"),empty:s("staking_status_empty"),inactiveDeactivating:s("staking_status_unstaking"),activeInactive:s("staking_status_unstaked")};return(0,n.jsx)(I.kC,{gap:1,children:e.statuses.map(((e,s)=>{const o=(0,n.jsx)(c.StatusTag,{variant:xd[e],children:a[e]},e);return"activating"===e&&t?(0,n.jsx)(c.Tooltip,{delayDuration:0,content:`Time to stake: ${t}`,children:o},s):"deactivating"===e&&t?(0,n.jsx)(c.Tooltip,{delayDuration:0,content:`Time to unstake: ${t}`,children:o},s):o}))})},jd=()=>{const{t:e}=(0,A.$)();return(0,n.jsx)($e.Z,{py:"12px",borderBottom:"1px solid",borderColor:"border.secondary",children:(0,n.jsxs)(ld,{sx:{p:"0 16px"},children:[(0,n.jsx)(I.ZT,{variant:"body2",flex:1,color:"text.tertiary",sx:{lineHeight:"17px"},children:e("table_validator")}),(0,n.jsx)(I.ZT,{variant:"body2",color:"text.tertiary",sx:{lineHeight:"17px"},children:e("table_status")}),(0,n.jsx)(I.ZT,{variant:"body2",color:"text.tertiary",sx:{lineHeight:"17px"},children:e("table_value")}),(0,n.jsx)(I.ZT,{variant:"body2",color:"text.tertiary",sx:{lineHeight:"17px"},children:e("table_balance")}),(0,n.jsx)("span",{})]})})},bd=(0,Je.ZP)("div")({backgroundColor:"rgba(255, 255, 255, 0.06)",boxShadow:"0px 151px 60px rgba(0, 0, 0, 0.01), 0px 85px 51px rgba(0, 0, 0, 0.05), 0px 38px 38px rgba(0, 0, 0, 0.09), 0px 9px 21px rgba(0, 0, 0, 0.1), 0px 0px 0px rgba(0, 0, 0, 0.1)",backdropFilter:"blur(23px)",borderRadius:"16px",border:"0.5px solid rgba(255, 255, 255, 0.04)"}),fd=(0,zl.Z)(bd)({width:"350px",padding:"16px"}),_d=({stakingAccount:e,body:t})=>{const s=(0,B.s0)(),{t:a}=(0,A.$)(),o=e.actions.find((e=>"withdraw"===e.name)),i=o?.metadata?.amount??0,r=(0,$.s)(i),{mutate:l}=(0,T.Uo)();return(0,n.jsx)(fd,{children:(0,n.jsxs)(I.kC,{justifyContent:"space-between",children:[(0,n.jsxs)(I.kC,{column:!0,children:[(0,n.jsx)(I.ZT,{fontWeight:600,children:(0,M.ED)({amount:r,displayType:"amount",suffix:" SOL"})}),t]}),(0,n.jsx)(c.Button,{onClick:()=>l({amountLamports:i,confirmData:(0,n.jsx)(ad.Z,{amount:(0,M.ED)({amount:r,displayType:"amount",suffix:" SOL"})}),stakingAccount:e,onBroadcast:()=>{s(U.Ni.MAIN,{replace:!0})}}),size:"s",children:a("withdraw")})]})})},yd=(0,zl.Z)(c.Alert)({width:"350px"}),vd=({stakingAccount:e})=>{const{t}=(0,A.$)(),s=(0,T.fZ)(e.statuses);return"deactivating-inactive"===s?(0,n.jsx)(_d,{stakingAccount:e,body:(0,n.jsxs)(I.ZT,{variant:"body2",color:"text.tertiary",display:"flex",gap:"4px",children:[t("staking_alert_partially_unstaked_title"),(0,n.jsx)(m.sW,{tooltip:t("staking_alert_partially_unstaked_message")})]})}):"inactive-active"===s?(0,n.jsx)(_d,{stakingAccount:e,body:(0,n.jsx)(I.ZT,{variant:"body2",color:"text.tertiary",display:"flex",gap:"4px",children:t("staking_withdraw_available")})}):"empty"===s?(0,n.jsx)(yd,{title:t("staking_alert_view_only_title"),message:"You can safely close this account if you don't need access to the rewards history.",variant:"info"}):null},kd=({title:e})=>(0,n.jsxs)(I.Zb,{title:e,children:[(0,n.jsx)(jd,{}),(0,n.jsx)(I.kC,{column:!0,gap:"12px",sx:{py:"16px"},children:(0,I.MT)(5).map((e=>(0,n.jsxs)(I.kC,{column:!0,gap:"12px",children:[(0,n.jsxs)(ld,{sx:{px:"16px"},children:[(0,n.jsxs)(I.kC,{gap:"16px",children:[(0,n.jsx)(An.Z,{variant:"circular",sx:{flexShrink:0},width:40,height:40}),(0,n.jsx)(An.Z,{width:"60%",height:40})]}),(0,n.jsx)(An.Z,{width:"60%",height:40}),(0,n.jsx)(An.Z,{width:"60%",height:40}),(0,n.jsx)(An.Z,{width:"60%",height:40}),(0,n.jsx)("span",{})]}),(0,n.jsx)(I.iz,{})]},e)))})]}),wd=(0,zl.Z)("button")((()=>({padding:0,margin:0,border:"none",background:"none",flex:"1",cursor:"pointer",transition:"background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"}))),Cd=(0,zl.Z)("div")((()=>({"&:hover":{backgroundColor:"rgba(188, 200, 231, 0.1)"},borderBottom:"1px solid rgba(255, 255, 255, 0.05)"}))),Sd=(0,zl.Z)(c.AccordionChevron)((()=>({display:"none",color:"rgba(255, 255, 255, 0.7) !important",".stake-row:hover &":{display:"inline-block"}}))),Td=(0,zl.Z)(c.Alert)({width:"350px"}),Ad=(0,zl.Z)("div")({width:"350px"}),Id=({data:e,isLoading:t,title:s,openWithdrawModal:a,openSplitModal:o,openDeactivateModal:i,solPrice:r})=>{const{t:l}=(0,A.$)();if(t||!e)return(0,n.jsx)(kd,{title:s});const d=e.stakeAccounts||[],u=(0,Vl.X)(e?.header.epochEndSeconds??0);return(0,n.jsxs)(I.Zb,{title:s,children:[(0,n.jsx)(jd,{}),(0,n.jsx)(c.Accordion,{type:"multiple",children:d.map((t=>{const s=t.validator,d=s?.status===Hl.n.Active?s.name||s.votePublicKey:l("staking_account_info_route_deactivated_validator"),m=Boolean(t.lockup),p=m?`${l("staking_unlock_time_label")}: ${(0,Vl.X)(t.lockup?.expiresInSeconds??0)}`:"",h=(0,T.fZ)(t.statuses);return(0,n.jsx)(Cd,{className:"stake-row",children:(0,n.jsx)(c.AccordionItem,{name:t.publicKey,trigger:(0,n.jsx)(wd,{children:(0,n.jsxs)(ld,{sx:{p:"20px 16px"},children:[(0,n.jsxs)(I.kC,{gap:"20px",flex:1,alignItems:"center",overflow:"hidden",pr:"8px",children:[m?(0,n.jsx)(c.ValidatorAvatar,{src:s?.image??void 0,adornment:(0,n.jsx)(c.AdornmentV2,{tooltip:p,icon:ss.HIv,variant:"info"})}):(0,n.jsx)(c.ValidatorAvatar,{src:s?.image??void 0}),(0,n.jsx)(I.ZT,{color:"white",truncate:!0,children:d})]}),(0,n.jsx)(I.kC,{children:(0,n.jsx)(gd,{stakingAccount:t,epochEnding:u})}),(0,n.jsx)(I.ZT,{color:"white",textAlign:"left",children:(0,n.jsx)(te.sp,{value:(0,$.s)(t.amount).multipliedBy(new E.Z(e.header?.price?.price||0)).toString()})}),(0,n.jsx)(I.ZT,{color:"white",textAlign:"left",children:(0,M.ED)({amount:(0,$.s)(t.amount),displayType:"amount",suffix:" SOL"})}),(0,n.jsx)(Sd,{size:"xs"})]})}),content:(0,n.jsxs)(I.kC,{flexDirection:"column",padding:"16px",justifyContent:"space-between",children:[m&&(0,n.jsx)(Td,{title:l("staking_alert_locked_title"),message:l("staking_alert_locked_message"),variant:"info"}),("deactivating"===h||"deactivating-inactive"===h)&&(0,n.jsx)(Ad,{children:(0,n.jsx)(Gl.v,{stakeAccount:t})}),(0,n.jsx)(vd,{stakingAccount:t}),(0,n.jsx)(hd,{stakingAccount:t,solPrice:r}),(0,n.jsx)(I.kC,{justifyContent:"flex-end",gap:"8px",children:(0,n.jsx)(rd,{openWithdrawModal:a,openSplitModal:o,openDeactivateModal:i,stakingAccount:t})})]})})},t.publicKey)}))})]})},Zd=()=>{const{t:e}=(0,A.$)(),{data:t,isLoading:s,isError:o}=(0,T.ku)(),i=(0,B.bS)("/staking/restake/:stakeId"),[r,l]=(0,T.Bf)(),[d,c]=(0,a.useState)(),[u,m]=(0,a.useState)(),[p,h]=(0,a.useState)();return o?(0,n.jsx)("div",{children:e("error_something_wrong")}):0===t?.stakeAccounts.length?(0,n.jsx)(I.kC,{justifyContent:"center",pt:"64px",children:(0,n.jsx)(Wl,{})}):(0,n.jsxs)(I.kC,{column:!0,gap:"24px",children:[(0,n.jsx)(Kl,{isLoading:s,data:t?.header,onStakeClick:()=>l()}),(0,n.jsx)(Id,{title:e("staking_list_staking_accounts"),data:t,isLoading:s,openWithdrawModal:e=>{c(e)},openSplitModal:e=>{m(e)},openDeactivateModal:e=>{h(e)},solPrice:t?.header.price?.price}),d&&(0,n.jsx)(ae,{withdrawStakeAccount:d,close:()=>c(void 0)}),u&&(0,n.jsx)(K,{splitStakeAccount:u,close:()=>m(void 0)}),p&&t&&(0,n.jsx)(Fl.K,{stakeAccount:p,close:()=>h(void 0)}),i&&(0,n.jsx)($l,{})]})},Md=()=>(0,n.jsx)(Zd,{});var Pd=s("../../libs/shared/dist/features/chart/api/index.js"),Dd=s("../../../node_modules/dayjs/plugin/utc.js"),Bd=s.n(Dd);le().extend(Bd());var Ed=s("../../libs/shared/dist/features/chart/utils/index.js");s("../../libs/shared/dist/features/chart/constants.js"),s("../../../node_modules/console-browserify/index.js");const Od=(0,Qt.Z)("div")((()=>({borderRadius:"24px",background:"rgba(188, 200, 231, 0.04)",width:"100%",display:"flex",flexDirection:"column",flex:1,overflow:"hidden"}))),Ld=()=>{const[e,t]=(0,a.useState)(null),{selectedFromCoin:s,selectedToCoin:o}=(0,_r.s)();(0,a.useEffect)((()=>{t(null)}),[s?.tokenId,o?.tokenId]);const i=(0,a.useCallback)((e=>{t(e)}),[]),r=(0,a.useMemo)((()=>{if(!s?.tokenId||!o?.tokenId)return;const[e,t]=(0,Ed.tQ)(s.tokenId,o.tokenId),n={address:s.tokenId,symbol:s.symbol,logoUri:s.logoURI,verified:s.verified},a={address:o.tokenId,symbol:o.symbol,logoUri:o.logoURI,verified:o.verified};return{base:e===n.address?n:a,quote:t===a.address?a:n}}),[s,o]),{data:l}=(d=r?.base?.address,c=r?.quote?.address,(0,Pt.a)({queryKey:["trade-marketHistory",d,c],queryFn:async()=>{const e=le()().utc();return(await(0,Pd.W)({base:d??"",quote:c??"",interval:"1D",periodParams:{firstDataRequest:!0,from:e.startOf("day").unix(),to:e.endOf("day").unix()}})).dataPoints},enabled:!!d&&!!c}));var d,c;const u=e&&l&&l.length>0?(e.close-l[0].close)/l[0].close*100:null;return(0,n.jsxs)(Od,{children:[(0,n.jsx)(Xi,{price:(0,n.jsx)(tr,{isLoading:!e,price:(0,M.ED)({amount:e?.close,displayType:"value"}),priceChangeVariant:u&&u<0?"negative":"positive",priceChange:null!==u&&(0,n.jsx)(te.Tf,{value:u})}),children:(0,n.jsx)(or,{base:(0,n.jsx)(nr,{isLoading:!r,symbol:r?.base?.symbol,logoUri:r?.base?.logoUri,verified:r?.base?.verified}),quote:(0,n.jsx)(nr,{isLoading:!r,symbol:r?.quote?.symbol,logoUri:r?.quote?.logoUri,verified:r?.quote?.verified})})}),(0,n.jsx)(jr,{children:(0,n.jsx)(gr,{fromAddress:r?.base?.address||"",fromSymbol:r?.base?.symbol||"",toAddress:r?.quote?.address||"",toSymbol:r?.quote?.symbol||"",onBarReceivedCallback:i})})]})},Nd=()=>(0,n.jsx)(_r.g,{children:(0,n.jsxs)(Ar,{orders:(0,n.jsx)(yr.W,{}),children:[(0,n.jsx)(I.Uo,{bp:"lg",match:"up",children:(0,n.jsx)(Ld,{})}),(0,n.jsx)(Cr,{})]})});var Rd=s("../../libs/shared/dist/features/walletManagement/modals/index.js");const Fd=()=>(0,n.jsx)(Rd.yW,{}),Ud=()=>(0,n.jsx)(Rd.aP,{}),$d=()=>(0,n.jsx)(Rd.o4,{}),Wd=()=>(0,n.jsx)(Rd.BI,{}),Kd=()=>(0,n.jsx)(Rd.$V,{}),zd=()=>(0,n.jsx)(Rd.G1,{}),Hd=()=>(0,n.jsx)(Rd.tO,{}),Vd=()=>(0,n.jsx)(Rd.an,{}),Gd=()=>(0,n.jsx)(Rd.LT,{}),qd=()=>(0,n.jsx)(Rd.pJ,{}),Yd=()=>(0,n.jsx)(Rd.I7,{}),Qd=()=>(0,B.V$)([{path:"",element:(0,n.jsx)(B.j3,{}),children:[{path:"",element:(0,n.jsx)(Gd,{})},{path:"mnemonic",element:(0,n.jsx)(B.j3,{}),children:[{path:"derive-next",element:(0,n.jsx)(Fd,{})},{path:"manage-accounts",element:(0,n.jsx)(qd,{})}]},{path:"burner",element:(0,n.jsx)(B.j3,{}),children:[{path:"create",element:(0,n.jsx)(Wd,{})},{path:"create-tutorial",element:(0,n.jsx)(Kd,{})},{path:"restore",element:(0,n.jsx)(Yd,{})}]},{path:"import",element:(0,n.jsx)(B.j3,{}),children:[{path:"keystore",element:(0,n.jsx)(zd,{})},{path:"private-key",element:(0,n.jsx)(Hd,{})},{path:"recovery-phrase",element:(0,n.jsx)(Vd,{})}]},{path:"connect",element:(0,n.jsx)(B.j3,{}),children:[{path:"keystone",element:(0,n.jsx)(Ud,{})},{path:"ledger",element:(0,n.jsx)($d,{})}]}]}]),Jd=e=>(0,n.jsx)(Rd.Q8,{...e}),Xd=()=>(0,n.jsx)(Rd.Dg,{}),ec=()=>(0,n.jsx)(Rd.Nr,{}),tc=()=>(0,n.jsx)(Rd._W,{}),sc=()=>(0,n.jsx)(Rd.iD,{}),nc=()=>(0,B.V$)([{path:":pubkey",element:(0,n.jsx)(B.j3,{}),children:[{index:!0,element:(0,n.jsx)(tc,{})},{path:"export-private-key",element:(0,n.jsx)(Xd,{})},{path:"export-mnemonic",element:(0,n.jsx)(ec,{})},{path:"rename",element:(0,n.jsx)(sc,{})}]}]),ac=e=>(0,B.V$)([{index:!0,element:(0,n.jsx)(Jd,{...e})},{path:"options/*",element:(0,n.jsx)(Qd,{})},{path:"single-wallet-options/*",element:(0,n.jsx)(nc,{})}]);var oc=s("../../../node_modules/react-idle-timer/dist/index.es.js"),ic=s("../../../node_modules/eth-phishing-detect/src/detector.js"),rc=s.n(ic),lc=s("../../libs/shared/dist/features/dappCommunication/context/index.js"),dc=s("../../libs/shared/dist/utils/origin.js");const cc=(0,Ke.Z)((()=>({content:{maxWidth:600,width:"100%"}}))),uc=({password:e,onUnlock:t})=>{const s=cc(),[o,i]=(0,a.useState)({password:"",error:null});return(0,n.jsx)($e.Z,{display:"flex",justifyContent:"center",children:(0,n.jsx)(Xe.Z,{elevation:2,className:s.content,children:(0,n.jsx)(m.k7,{onSubmit:async s=>{s.preventDefault();try{const s=(0,V.c_)(o.password);if(s!==e)throw new Error("Unable to unlock wallet");await Promise.all([Se.Z.solflarexpass.set(s),Se.Z.solflarelastactivity.set(+new Date)]),t()}catch(e){i({...o,error:e.message||"Unable to unlock wallet"})}},onChange:e=>{i({...o,password:e.target.value,error:null})},password:o.password,error:o.error})})})};var mc=s("../../libs/shared/dist/features/dappCommunication/components/index.js"),pc=s("../../libs/shared/dist/features/dappCommunication/modals/BlockedOriginModal/index.js");const hc=({onReject:e})=>{const{t}=(0,A.$)();return(0,n.jsx)(c.PagePortal,{size:"fullPage",children:(0,n.jsxs)(c.FullPageConfirm,{children:[(0,n.jsx)(c.PageTitle,{center:"Solflare Web Connection Blocked"}),(0,n.jsxs)(c.PageContent,{gap:"l",children:[(0,n.jsx)(c.TxErrorMessage,{actions:(0,n.jsx)(c.Button,{onClick:()=>window.open("https://academy.solflare.com/guides/?get_help=true","_blank"),size:"s",variant:"tertiary",left:(0,n.jsx)(c.Icon,{icon:O.gJF}),children:"Contact support"}),children:(0,n.jsx)(c.Paragraph,{children:"Your wallet's safety is our priority. Your browser is missing key features Solflare Web needs. To connect securely make sure you don’t have extensions that could block your connections to Dapps, or try using other browsers."})}),(0,n.jsx)(c.FooterActions,{variant:"inContent",children:(0,n.jsx)(c.ButtonGroup,{children:(0,n.jsx)(c.Button,{variant:"secondary",onClick:()=>e(),children:t("action_close")})})})]})]})})};var xc=s("../../libs/shared/dist/features/transactionAnalysis/context/index.js");const gc="localhost"===window.location.hostname||"0.0.0.0"===window.location.hostname||"127.0.0.1"===window.location.hostname,jc=({onConnect:e,onReject:t})=>{const{t:s}=(0,A.$)(),{title:o,host:i,origin:r}=(0,lc.N)(),l=(0,a.useCallback)((async()=>{e(),(0,fe.dB)({dappUrl:r})}),[]);return(0,n.jsx)(c.PagePortal,{size:"fullPage",children:(0,n.jsxs)(c.FullPageConfirm,{children:[(0,n.jsx)(c.PageTitle,{center:s("connect_page_title")}),(0,n.jsxs)(c.PageContent,{gap:"l",children:[(0,n.jsx)(c.AppInteractionHero,{title:o||i,subtitle:o?i:void 0,avatar:(0,n.jsx)(m.iB,{host:i,size:"l"})}),(0,n.jsxs)(c.Connect,{title:(0,n.jsx)(c.SectionTitle,{title:s("connect_page_allow_to")}),children:[(0,n.jsx)(c.Control,{label:s("connect_page_allow_view_address"),action:(0,n.jsx)(c.Checkbox,{checked:!0,disabled:!0})}),(0,n.jsx)(c.Control,{label:s("connect_page_allow_suggest_transactions"),action:(0,n.jsx)(c.Checkbox,{checked:!0,disabled:!0})})]})]}),(0,n.jsxs)(c.FooterActions,{variant:"fixed",children:[(0,n.jsx)(c.Typography,{variant:"textXS",color:"secondary",alignCenter:!0,children:s("connect_page_connect_only_trusted")}),(0,n.jsxs)(c.ButtonGroup,{children:[(0,n.jsx)(c.Button,{variant:"secondary",onClick:()=>t(),children:s("action_cancel")}),(0,n.jsx)(c.Button,{onClick:l,children:s("action_connect")})]})]})]})})},bc=({request:e,onSign:t,onCancelSign:s})=>{const{t:o}=(0,A.$)(),i=(0,a.useCallback)((e=>t(e)),[t]),r=(0,a.useCallback)((()=>s(o("transaction_canceled"))),[o,s]);return e?"signTransaction"===e.method?(0,n.jsx)(mc.Je,{message:e.params?.message,onSign:e=>i({signature:e}),onReject:r}):"signTransactionV2"===e.method?(0,n.jsx)(mc.b8,{transaction:e.params?.transaction,onSign:e=>i({transaction:e}),onReject:r}):"signAllTransactions"===e.method?(0,n.jsx)(mc.O3,{messages:e.params?.messages,onSign:e=>i({signatures:e}),onReject:r}):"signAllTransactionsV2"===e.method?(0,n.jsx)(mc.wu,{transactions:e.params?.transactions,onSign:e=>i({transactions:e}),onReject:r}):"signAndSendTransaction"===e.method?(0,n.jsx)(mc.$m,{transaction:e.params?.transaction,sendOptions:e.params?.options,onSign:e=>i({signature:e}),onReject:r}):"sign"===e.method?(0,n.jsx)(mc.Qi,{message:e.params?.data,display:e.params?.display||"",onSign:e=>i({signature:e}),onReject:r}):null:null},fc=({request:e,connected:t,showNotSupportedWarning:s,showBlocklistWarning:a,onConnect:o,onSign:i,onCancelSign:r})=>{const{walletType:l}=(0,Y.rT)(),{host:d}=(0,lc.N)();return d&&(window.opener||gc)?s?(0,n.jsx)(hc,{onReject:()=>window.close()}):a?(0,n.jsx)(pc.a,{host:d,onReject:()=>window.close()}):t?e?(0,V.nd)(l)?(0,n.jsx)(mc.Fl,{onCancelSign:r},e.id):(0,n.jsx)(mc.TH,{children:(0,n.jsx)(b.vC,{children:(0,n.jsx)(xc.y,{resetKey:e.id,timerEnabled:"sign"!==e.method,children:(0,n.jsx)(bc,{request:e,onSign:i,onCancelSign:r},e.id)})})}):(0,n.jsx)(c.PagePortal,{size:"fullPage",children:(0,n.jsx)(c.FullPageConfirm,{children:(0,n.jsx)(c.PageContent,{gap:"l",children:(0,n.jsx)(c.Alert,{variant:"info",title:"Connected",message:"Please keep this window open in the background."})})})}):(0,n.jsx)(jc,{onConnect:o,onReject:()=>window.close()}):null},_c=document.referrer||window.location.origin,yc=(0,dc.i)(_c),vc=(0,dc.m)(yc);function kc(){window.open("","parent")}const wc=()=>{const{autoLock:e}=(0,v.A)(),{locked:t,password:s}=(0,Y.Rg)(),{publicKey:o}=(0,Y.rT)(),[i,r]=(0,a.useState)(!1),[l,d]=(0,a.useState)([]),[c,u]=(0,a.useState)(!1),[m,p]=(0,a.useState)(!1),h=(0,a.useCallback)((e=>{window.opener&&window.opener.postMessage({jsonrpc:"2.0",...e},"*")}),[]),x=(0,a.useCallback)((()=>{i&&window.opener&&h({method:"disconnected"})}),[i,h]),g=(0,a.useCallback)((async()=>{const e=await(0,ke.U5)(!0)??{},{blocklist:t}=e;try{const e=new(rc())({blacklist:t,tolerance:2}).check(vc).result;p(e)}catch(e){}}),[]),j=()=>{u(!0)},b=(0,a.useCallback)((async()=>{if(!t)return!1;if(!e.enabled)return!1;!await Se.Z.solflarexpass.get()&&j();const s=await Se.Z.solflarelastactivity.get(),n=+new Date;s&&n-s>60*e.time*1e3&&(await Se.Z.clearPassInStore(),j())}),[e.enabled,e.time,t]),f=(0,a.useCallback)((()=>{l.length<=1&&kc(),d((e=>e.slice(1)))}),[l.length]),_=(0,a.useCallback)((async e=>{i&&window.opener&&e.source===window.opener&&("signTransaction"===e.data.method||"signTransactionV2"===e.data.method||"sign"===e.data.method||"signAllTransactions"===e.data.method||"signAllTransactionsV2"===e.data.method||"signAndSendTransaction"===e.data.method?d((t=>[...t,e.data])):h({error:"Unsupported method",id:e.data.id}))}),[i,h]),y=(0,a.useCallback)(((e,t=!0)=>{r(!0),h({method:"connected",params:{publicKey:e}}),t&&kc()}),[h]),k=(0,a.useCallback)((()=>{Se.Z.solflarelastactivity.set(+new Date)}),[]);return(0,a.useEffect)((()=>(window.addEventListener("beforeunload",x),window.addEventListener("message",_),()=>{window.removeEventListener("beforeunload",x),window.removeEventListener("message",_)})),[b,_,x]),(0,a.useEffect)((()=>{const e=setInterval(b,1e3);return()=>clearInterval(e)}),[b]),(0,a.useEffect)((()=>{g()}),[g]),(0,n.jsxs)(lc.s.Provider,{value:{origin:yc,host:vc,title:""},children:[(0,n.jsx)(oc.Z,{onAction:k,throttle:1e3}),c?(0,n.jsx)(uc,{password:s,onUnlock:()=>{u(!1)}}):(0,n.jsx)(fc,{request:l[0]||null,connected:i,showNotSupportedWarning:!document.referrer,showBlocklistWarning:m,onConnect:()=>y(o),onSign:async e=>{h({id:l[0].id,result:{...e,publicKey:o}}),f()},onCancelSign:async e=>{h({id:l[0].id,error:e}),f()}})]})},Cc=()=>{const{setStakingEvents:e}=(0,T.Ub)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Oe.w,{}),(0,n.jsx)(Le.C,{}),(0,n.jsx)(Ee.S,{}),(0,n.jsx)(Be.C,{}),(0,n.jsx)(Ne.QH,{}),(0,n.jsx)(qe,{tEvents:e}),(0,n.jsx)(De.Z,{sx:{pb:4},children:(0,n.jsx)(B.j3,{})})]})},Sc=()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Ee.S,{}),(0,n.jsx)(Be.C,{}),(0,n.jsx)(m.Cd,{isConfirmPopup:!0}),(0,n.jsx)(Ne.QH,{}),(0,n.jsx)(B.j3,{})]}),Tc=()=>(0,B.V$)([{path:"",element:(0,n.jsx)(Sc,{}),children:[{index:!0,element:(0,n.jsx)(wc,{})},{path:"wallet-management/*",element:(0,n.jsx)(ac,{onWalletShowMore:!1,onWalletCopy:!1,onAdd:!1})}]}]),Ac=()=>{const{wmBackgroundLocation:e}=(0,a.useContext)(h.RQ),t=(0,B.TH)(),s=e?{pathname:e,search:"",hash:"",state:{}}:t;return(0,n.jsxs)(n.Fragment,{children:[(0,B.V$)([{path:"",element:(0,n.jsx)(Cc,{}),children:[{path:"portfolio/*",element:(0,n.jsx)($r,{})},{path:"activity",element:(0,n.jsx)(ht,{})},{path:"nft/*",element:(0,n.jsx)(ca,{})},{path:"trade",element:(0,n.jsx)(Nd,{})},{path:"bridge",element:(0,n.jsx)(Ts,{})},{path:"staking/:tab?/:stakeId?",element:(0,n.jsx)(Md,{})},{path:"deeplink/:address/:page/*",element:(0,n.jsx)(Zs,{})},{path:"externallink",element:(0,n.jsx)(Ps,{})},{path:"loadmetamask",element:(0,n.jsx)(Ds,{})},{path:"settings/*",element:(0,n.jsx)(Rl,{})},{path:"*",element:(0,n.jsx)(Ye,{})}]},{path:"provider/*",element:(0,n.jsx)(Tc,{})},{path:"onboard/*",element:(0,n.jsx)(Ai,{})}],s),(0,B.V$)([{path:"wallet-management/*",element:(0,n.jsx)(ac,{isWebProvider:e?.includes("/provider")})}])]})};var Ic=s("../../libs/shared/dist/features/walletData/utils/errors.js");const Zc=({onCancel:e})=>{const{t}=(0,A.$)(),s=(0,fl.a)(),[o,i]=(0,a.useState)(!1);return(0,n.jsx)(I.u_,{open:!0,title:t("header_settings_logout"),onClose:e,fullWidth:!0,useActionDivider:!0,maxWidth:"xs",actions:(0,n.jsxs)($e.Z,{display:"flex",gap:2,children:[(0,n.jsx)(c.Button,{variant:"secondary",onClick:e,children:t("action_cancel")}),(0,n.jsx)(c.Button,{variant:"destructive",disabled:!o,onClick:async e=>{e.preventDefault(),o&&(await s(),Ve.p1?window.location.reload():window.location.href="/")},children:t("action_logout")})]}),children:(0,n.jsxs)($e.Z,{display:"flex",flexDirection:"column",gap:1.5,children:[(0,n.jsx)(c.Alert,{variant:"error",title:t("unlock_and_forgot_clear_warning_card_header"),message:t("settings_security_log_out_error")}),(0,n.jsx)(c.Paragraph,{children:t("settings_security_log_out_notice")}),(0,n.jsx)(c.Control,{id:"logout-check",label:t("settings_security_log_out_checkbox_label"),action:(0,n.jsx)(c.Checkbox,{checked:o,onChange:e=>i(!!e.target.checked)})})]})})},Mc=({storedData:e})=>{const t=(0,fl.a)(),{t:s}=(0,A.$)(),{confirm:o}=(0,_.O)(),[i,r]=(0,a.useState)(""),[l,d]=(0,a.useState)(null),[u,p]=(0,a.useState)(!1),{unlock:h}=(0,Y.uA)(),x=(0,a.useCallback)((async e=>{e.preventDefault(),await o({confirmButtonText:s("action_continue"),title:s("unlock_and_forgot_caution_forgot_password"),message:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.Alert,{variant:"warning",title:s("unlock_and_forgot_caution_warning_card_header"),message:s("unlock_and_forgot_caution_warning_card_description")}),(0,n.jsx)(c.Paragraph,{children:s("unlock_and_forgot_description")})]})})&&p(!0)}),[o,s]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)($e.Z,{display:"flex",justifyContent:"center",children:(0,n.jsxs)(Xe.Z,{elevation:2,sx:{maxWidth:600,width:"100%"},children:[(0,n.jsx)(m.k7,{onSubmit:async s=>{s.preventDefault();try{await h(e,i)}catch(e){e instanceof Ic.e8?(await t(),location.reload()):d(e.message||"Unable to unlock wallet")}},onChange:e=>{r(e.currentTarget.value),d(null)},password:i,error:l}),(0,n.jsx)($e.Z,{display:"flex",justifyContent:"center",mt:2,children:(0,n.jsx)(Sn.Z,{href:"#",color:"primary",underline:"hover",onClick:x,children:s("form_forgot_password")})})]})}),u&&(0,n.jsx)(Zc,{onCancel:()=>p(!1)})]})},Pc=()=>{const e=(0,fl.a)(),t=(0,B.s0)(),{auth:s}=(0,Y.aC)(),[o,i]=(0,a.useState)(null),r=(0,a.useCallback)((async()=>{try{await s()}catch(s){s instanceof Ic.JM?i(s.walledData):s instanceof Ic.Cx?t(U.Us.MAIN,{replace:!0}):s instanceof Ic.e8&&(await e(),location.reload())}}),[t,s,e]);return(0,a.useEffect)((()=>{r()}),[r]),o?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(qe,{}),(0,n.jsx)(Mc,{storedData:o})]}):null};var Dc=s("../../../node_modules/@solana/spl-token/lib/esm/index.js");const Bc=()=>((0,a.useEffect)((()=>{window.solflareWeb3Sdk={connection:{mainnet:new ns.Connection(xt.g5.mainnet.url,"processed"),devnet:new ns.Connection(xt.g5.devnet.url,"processed"),testnet:new ns.Connection(xt.g5.testnet.url,"processed")},sdk:ns,splTokenSdk:Dc}})),(0,n.jsx)("div",{children:"window.solflareWeb3Sdk.*"}));function Ec(e,t){if(t instanceof ns.PublicKey)return t.toString();if(t instanceof Map){const e={};for(const[s,n]of t)e[s]=n;return e}return t}function Oc(e,t){return JSON.stringify(e,Ec,t??null)}function Lc(e,t){return JSON.stringify(e,Ec,t??null)}var Nc=s("../../../node_modules/buffer/index.js").Buffer,Rc=s("../../../node_modules/console-browserify/index.js");const Fc=()=>{const[e,t]=(0,a.useState)(""),[s,o]=(0,a.useState)(null);return(0,n.jsxs)(De.Z,{children:[(0,n.jsx)(z.Z,{variant:"h1",paragraph:!0,children:"Decode message from Base58 or Base64"}),(0,n.jsxs)("form",{onSubmit:t=>{t.preventDefault();try{const t=ns.VersionedMessage.deserialize(Ka().decode(e));o(Lc(t,2))}catch(t){try{const t=ns.VersionedMessage.deserialize(Nc.from(e,"base64"));o(Lc(t,2))}catch(e){Rc.log(e)}}},children:[(0,n.jsx)(Na.Z,{fullWidth:!0,multiline:!0,rows:10,variant:"outlined",value:e,onChange:e=>t(e.target.value),label:"Message data"}),(0,n.jsx)($e.Z,{mt:3,mb:3,children:(0,n.jsx)(Is.Z,{type:"submit",variant:"contained",color:"primary",children:"Decode"})})]}),s&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(z.Z,{variant:"h2",children:"Message"}),(0,n.jsx)("pre",{children:s})]})]})};var Uc=s("../../../node_modules/buffer/index.js").Buffer,$c=s("../../../node_modules/console-browserify/index.js");const Wc=()=>{const[e,t]=(0,a.useState)(""),[s,o]=(0,a.useState)(null);return(0,n.jsxs)(De.Z,{children:[(0,n.jsx)(z.Z,{variant:"h1",paragraph:!0,children:"Decode transaction from Base58 or Base64"}),(0,n.jsxs)("form",{onSubmit:t=>{t.preventDefault();try{const t=ns.VersionedTransaction.deserialize(Ka().decode(e));o(Oc(t,2))}catch(t){try{const t=ns.VersionedTransaction.deserialize(Uc.from(e,"base64"));o(Oc(t,2))}catch(e){$c.log(e)}}},children:[(0,n.jsx)(Na.Z,{fullWidth:!0,multiline:!0,rows:10,variant:"outlined",value:e,onChange:e=>t(e.target.value),label:"Transaction data"}),(0,n.jsx)($e.Z,{mt:3,mb:3,children:(0,n.jsx)(Is.Z,{type:"submit",variant:"contained",color:"primary",children:"Decode"})})]}),s&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(z.Z,{variant:"h2",children:"Transaction"}),(0,n.jsx)("pre",{children:s})]})]})},Kc=({hasSavedWallet:e})=>(0,B.V$)([...e?[{path:"/access",element:(0,n.jsx)(B.Fg,{to:"/portfolio",replace:!0})},{path:"/create",element:(0,n.jsx)(B.Fg,{to:"/portfolio",replace:!0})},{path:"/onboard/metamask",element:(0,n.jsx)(B.Fg,{to:"/portfolio",state:{from:"/onboard/metamask"},replace:!0})},{path:"/onboard/*",element:(0,n.jsx)(B.Fg,{to:"/portfolio",replace:!0})}]:[],{path:"onboard/*",element:(0,n.jsx)(Ai,{})},{path:"/access",element:(0,n.jsx)(B.Fg,{to:"/onboard"})},{path:"/utils",element:(0,n.jsx)(B.j3,{}),children:[{path:"decodetransaction",element:(0,n.jsx)(Wc,{})},{path:"decodemessage",element:(0,n.jsx)(Fc,{})},{path:"web3",element:(0,n.jsx)(Bc,{})}]},{path:"*",element:(0,n.jsx)(Pc,{})}]);E.Z.config({EXPONENTIAL_AT:1e9}),le().extend(be()),le().extend(ge()),le().extend(me()),le().extend(he()),le().extend(ce());const zc=()=>{const{network:e}=(0,v.A)(),{loggedIn:t}=(0,Y.Rg)(),{selectedAccount:s}=(0,Y.Rg)(),{walletType:o}=(0,Y.rT)(),{current:i}=(0,ye.ix)(),{current:r,isLoaded:l}=(0,ye.q)(),[d,c]=(0,a.useState)(!0),[u,m]=(0,a.useState)(!1),{loadGlobalConfig:p}=(0,_e.$V)();return(()=>{const{addAccount:e}=(0,Y.bg)();(0,a.useEffect)((()=>{window.solflareAddReadOnlyAccount=(t,s)=>{if(!(0,Te.Z)(s))throw new Error("Invalid public key.");e({type:V.dr,publicKey:s},t)}}),[e])})(),(0,we.C)(),(0,ve.Z)(),(()=>{const{isLoggedIn:e,walletType:t}=(0,Y.rT)();(0,a.useEffect)((()=>{e&&t===V.Yg&&Ae.c.connect()}),[e,t])})(),(()=>{const e=(0,B.TH)();(0,a.useEffect)((()=>{const t=Ze().parse(e.search?.substring(1)||"");"notification"!==t.source||e.pathname.includes("/externallink")||!t.campaign_id&&!t.notification_id||Se.Z.solflarenetwork.get().then((e=>(0,Me.oQ)({campaign_id:t.campaign_id,notification_id:t.notification_id,user_id:(0,Pe.A)(e)})))}),[])})(),(0,Ce.C7)(),(0,a.useEffect)((()=>{(async()=>{let e=!1;try{const t=await Se.Z.solflaredata.get();e=!!t;const s=await p();if(e){const{locked:e}=t,n=await Se.Z.solflarexpass.get();if(e&&s.autoLock.enabled&&n){const e=await Se.Z.solflarelastactivity.get(),t=+new Date;e&&t-e>60*s.autoLock.time*1e3&&await Se.Z.clearPassInStore()}}}finally{c(!1),m(e)}})()}),[]),(0,a.useEffect)((()=>{(async()=>{l&&o&&(0,fe.Bz)({language:i,currency:r})})()}),[l,r,i,o]),d?(0,n.jsx)(n.Fragment,{}):(0,n.jsx)(a.Fragment,{children:t?(0,n.jsx)(Ac,{}):(0,n.jsx)(Kc,{hasSavedWallet:u})},`${e}-${s}`)};var Hc=s("./src/features/backgroundScript/context/index.ts"),Vc=s("./src/features/dappCommunication/components/index.ts"),Gc=s("./src/features/settings/context/index.ts");document.body.classList.add(c.webThemeCSSClass),(0,u.Z)().then((function(){const e=document.getElementById("root");if(!e)throw new Error("Failed to find the root element");(0,o.s)(e).render((0,n.jsx)(i.zt,{store:ie.h,children:(0,n.jsx)(Hc.L,{children:(0,n.jsx)(v.r,{children:(0,n.jsx)(x.m,{children:(0,n.jsx)(r.UT,{children:(0,n.jsxs)(p.f,{children:[(0,n.jsx)(l.ZP,{}),(0,n.jsx)(j,{children:(0,n.jsx)(_.G,{children:(0,n.jsx)(Gc.r,{children:(0,n.jsx)(S.j$,{marginTop:!0,horizontal:"right",vertical:"top",children:(0,n.jsx)(y.h,{children:(0,n.jsx)(h.qb,{children:(0,n.jsx)(b.vC,{children:(0,n.jsxs)(oe.k,{children:[(0,n.jsx)(m.TP,{}),(0,n.jsx)(Vc.Rl,{}),(0,n.jsx)(k.N,{children:(0,n.jsx)(T.uW,{children:(0,n.jsx)(w.gI,{children:(0,n.jsx)(f.Z,{children:(0,n.jsxs)(C.r,{children:[(0,n.jsx)(a.Suspense,{fallback:null,children:(0,n.jsx)(ee,{})}),(0,n.jsx)(a.Suspense,{fallback:(0,n.jsx)("div",{style:{height:"100vh",width:"100vw",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,n.jsx)(d.Z,{})}),children:(0,n.jsx)(zc,{})})]})})})})})]})})})})})})})})]})})})})})}))}))},"../../libs/rise-ui/dist/index.js":(e,t,s)=>{"use strict";s.d(t,{BE:()=>es,BQ:()=>Ze,EH:()=>Mt,GV:()=>vt,HC:()=>Ae,JO:()=>pe,MT:()=>Xe,Oo:()=>Pe,PC:()=>Jt,Ph:()=>It,R1:()=>yt,Rj:()=>ns,Uo:()=>ue,X7:()=>pt,ZT:()=>re,Zb:()=>Ee,aV:()=>Te,bK:()=>ht,bO:()=>Ns,c$:()=>Me,eH:()=>ts,f6:()=>Ls,fc:()=>Qe,hU:()=>ft,iA:()=>Je,iz:()=>Le,kC:()=>ie,mr:()=>Xt,nY:()=>be,p:()=>St,qY:()=>Rs,rJ:()=>_t,rU:()=>Ke,ro:()=>le,sN:()=>Ce,u_:()=>Qt,vb:()=>gt,xf:()=>is,zI:()=>rt,zx:()=>De});var n=s("../../../node_modules/@fortawesome/pro-light-svg-icons/index.mjs"),a=s("../../../node_modules/@fortawesome/react-fontawesome/index.es.js"),o=s("../../../node_modules/@mui/material/ButtonBase/ButtonBase.js"),i=s("../../../node_modules/@mui/material/Box/Box.js"),r=s("../../../node_modules/react/jsx-runtime.js"),l=s("../../../node_modules/@mui/material/Typography/Typography.js"),d=s("../../../node_modules/@mui/material/styles/useTheme.js"),c=s("../../../node_modules/@mui/system/esm/useMediaQuery/useMediaQuery.js"),u=s("../../../node_modules/@mui/material/Skeleton/Skeleton.js"),m=s("../../../node_modules/react/index.js"),p=s("../../../node_modules/@mui/material/Avatar/Avatar.js"),h=s("../../../node_modules/axios/lib/axios.js"),x=s("../../../node_modules/@mui/icons-material/esm/Warning.js"),g=s("../../../node_modules/@mui/material/Badge/Badge.js"),j=s("../../../node_modules/react-virtuoso/dist/index.m.js"),b=s("../../../node_modules/@mui/material/Breadcrumbs/Breadcrumbs.js"),f=s("../../../node_modules/@mui/material/Button/Button.js"),_=(s("../../../node_modules/lightweight-charts/dist/lightweight-charts.production.mjs"),s("../../../node_modules/@mui/material/Divider/Divider.js")),y=s("../../../node_modules/@mui/material/Link/Link.js"),v=s("../../libs/foundation-ui/dist/index.js"),k=s("../../../node_modules/@mui/material/CircularProgress/CircularProgress.js"),w=s("../../../node_modules/@mui/material/Table/Table.js"),C=s("../../../node_modules/@mui/material/TableHead/TableHead.js"),S=s("../../../node_modules/@mui/material/TableRow/TableRow.js"),T=s("../../../node_modules/@mui/material/TableCell/TableCell.js"),A=s("../../../node_modules/@mui/material/TableBody/TableBody.js"),I=s("../../../node_modules/@mui/material/Menu/Menu.js"),Z=s("../../../node_modules/@mui/material/MenuItem/MenuItem.js"),M=s("../../../node_modules/@mui/material/Grid/Grid.js"),P=s("../../../node_modules/@mui/material/IconButton/IconButton.js"),D=s("../../../node_modules/@mui/material/List/List.js"),B=s("../../../node_modules/@mui/material/ListItem/ListItem.js"),E=s("../../../node_modules/@mui/material/ListItemButton/ListItemButton.js"),O=s("../../../node_modules/@mui/material/Select/Select.js"),L=s("../../../node_modules/@fortawesome/pro-solid-svg-icons/index.mjs"),N=s("../../../node_modules/@mui/material/Dialog/Dialog.js"),R=s("../../../node_modules/@mui/material/DialogActions/DialogActions.js"),F=s("../../../node_modules/@mui/material/Backdrop/Backdrop.js"),U=s("../../../node_modules/@mui/icons-material/esm/Close.js"),$=s("../../../node_modules/@mui/material/DialogContent/DialogContent.js"),W=s("../../../node_modules/@mui/material/Paper/Paper.js"),K=s("../../../node_modules/@mui/material/DialogTitle/DialogTitle.js"),z=s("../../../node_modules/@mui/material/TextField/TextField.js"),H=s("../../../node_modules/@mui/base/TabsList/TabsList.js"),V=s("../../../node_modules/@mui/base/Tab/Tab.js"),G=s("../../../node_modules/@mui/base/Tab/tabClasses.js"),q=s("../../../node_modules/@mui/base/Tabs/Tabs.js"),Y=s("../../../node_modules/@mui/base/TabPanel/TabPanel.js"),Q=s("../../../node_modules/@mui/material/styles/styled.js"),J=s("../../../node_modules/@mui/styled-engine/StyledEngineProvider/StyledEngineProvider.js"),X=s("../../../node_modules/@mui/material/styles/ThemeProvider.js"),ee=s("../../../node_modules/@mui/styles/createGenerateClassName/createGenerateClassName.js"),te=s("../../../node_modules/@mui/styles/StylesProvider/StylesProvider.js"),se=s("../../../node_modules/@mui/material/styles/createTheme.js"),ne=s("../../../node_modules/deepmerge/dist/cjs.js"),ae=s.n(ne),oe=s("../../../node_modules/@mui/material/DialogTitle/dialogTitleClasses.js"),ie=({wrap:e,column:t,fullWidth:s,...n})=>(0,r.jsx)(i.Z,{display:"flex",flexDirection:t?"column":void 0,flexWrap:e?"wrap":void 0,width:s?"100%":void 0,...n}),re=({sx:e,truncate:t,...s})=>(0,r.jsx)(l.Z,{sx:{...t&&{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},...e},...s}),le=(e,t=4,s=4)=>e?`${e.substring(0,t)}...${e.substring(e?.length-s)}`:"",de={0:{background:e=>e.palette.background.switcher},1:{background:e=>e.palette.background.switcherElevation1}},ce=({accountName:e,accountAddress:t,avatar:s,onClick:i,minWidth:l=250,fullWidth:d,elevation:c=0})=>(0,r.jsx)(o.Z,{onClick:i,sx:{borderRadius:"8px",py:1,my:1,px:2,minWidth:l,width:d?"100%":void 0,...de[c]},children:(0,r.jsxs)(ie,{alignItems:"center",justifyContent:"space-between",width:"100%",gap:1,children:[(0,r.jsxs)(ie,{alignItems:"center",gap:2,children:[s,(0,r.jsxs)(ie,{column:!0,textAlign:"start",children:[(0,r.jsx)(re,{children:e}),(0,r.jsx)(re,{color:"text.secondary",variant:"addressSmall",children:le(t)})]})]}),(0,r.jsx)(a.G,{fontSize:"20px",icon:n.Krp})]})}),ue=({match:e,bp:t,bp2:s,children:n})=>{const a=(0,d.Z)();return(0,c.Z)(a.breakpoints[e](t,s||"xl"))?(0,r.jsx)(r.Fragment,{children:n}):null},me={xs:8,sm:16,md:20,lg:24,xl:32,xxl:48},pe=({faIcon:e,size:t,children:s=null,explicitSize:n})=>{const o=t?`${me[t]}px`:void 0;return e?(0,r.jsx)(a.G,{icon:e,fontSize:t&&o}):(0,r.jsx)(i.Z,{display:"inline-block",width:n?n.width:o,height:n?n.height:void 0,children:s})},he=({animation:e=!1,width:t,minWidth:s,maxWidth:n,variant:a,height:o})=>(0,r.jsx)(u.Z,{animation:e,height:o,variant:a,sx:{minWidth:s,maxWidth:n,width:t}}),xe=m.createContext(0),ge=()=>m.useContext(xe)||0,je=({children:e,elevation:t})=>(0,r.jsx)(xe.Provider,{value:t,children:e}),be=({pt:e,px:t,title:s,children:n,background:a})=>{const o=ge();return(0,r.jsxs)(ie,{justifyContent:"space-between",alignItems:"center",pt:e,pb:1,pl:t,pr:t||2,borderBottom:"1px solid",borderColor:"border.primary",className:"solrise-virtual-group-header",sx:{background:e=>a||(0===o?e.palette.background.main:e.palette.background.card)},children:[(0,r.jsx)(re,{color:"text.tertiary",variant:"label",children:s}),n]})},fe=["image/png","image/jpeg","image/webp","image/gif","image/svg+xml"],_e={width:100,maxBytes:10485760},ye=new Map,ve=async e=>await new Promise((t=>{const s=new Image;s.onload=()=>{t(e)},s.onerror=()=>{t(null)},s.src=e})),ke={xs:{width:16,height:16},small:{width:20,height:20},medium:{width:24,height:24},large:{},xl:{width:64,height:64}},we=({resize:e,className:t,src:s,children:n,sx:a,size:o="large",variant:i})=>{const{url:l}=((e,t)=>{const[s,n]=(0,m.useState)(!0),[a,o]=(0,m.useState)(void 0);return(0,m.useEffect)((()=>{(async()=>{n(!0);const s=await(async(e,t)=>{if(!e)return;if(e.startsWith("data:"))return e;const s={..._e,...t||{}},n=`width=${s.width};maxBytes=${s.maxBytes};${e}`;if(ye.has(n))return ye.get(n)||void 0;let a,o=NaN;try{const t=await h.Z.head(e);o=parseInt(t.headers["content-length"],10),a=t.headers["content-type"]}catch(e){}if(!a||fe.includes(a)){const t=await ve(((e,t={width:100})=>e?(e=>!e.startsWith("data:"))(e)?`https://media.solana-cdn.com/image/${Object.keys(t).map((e=>`${e}=${t[e]}`)).join(",")}/${e}`:e:"")(e,{width:s.width}));if(t)return ye.set(n,t),t}if(!o||o<=s.maxBytes){const t=await ve(e);if(t)return ye.set(n,t),t}ye.set(n,null)})(e,t);o(s),n(!1)})()}),[e,t?.width,t?.maxBytes]),(0,m.useMemo)((()=>({url:a,isLoading:s,isError:!s&&!a})),[a,s])})(e?s:void 0);return(0,r.jsx)(p.Z,{sx:{...ke[o],...a},src:l,className:t,variant:i,children:n})},Ce=({title:e,children:t,subtitle:s,subtitle2:n,imgSrc:a,avatarVariant:o,bottom:l=null,wrapOnSmall:d=!0,showBorder:c,gutter:u,monoSubtitle:m})=>{const p=d?["column","column","row"]:"row",h=d?["flex-start","flex-start","center"]:"center",x=u?3:void 0;return(0,r.jsxs)(i.Z,{component:"li",sx:{listStyle:"none",m:0,borderBottom:c?"1px solid":void 0,pb:x,borderColor:"border.primary"},children:[(0,r.jsxs)(ie,{justifyContent:"space-between",alignItems:h,flexDirection:p,gap:2,children:[(0,r.jsxs)(ie,{gap:2,alignItems:"center",children:[a&&(0,r.jsx)(we,{variant:o,src:a}),(0,r.jsxs)(ie,{column:!0,gap:.5,children:[(0,r.jsx)(re,{variant:"h4",children:e}),s&&(0,r.jsx)(re,{variant:m?"addressSmall":"body2",color:"text.secondary",children:s}),n&&(0,r.jsx)(re,{variant:"body2",color:"text.secondary",children:n})]})]}),t]}),l]})},Se={compact:1,roomy:3},Te=({children:e,spacing:t="roomy",withItemSeparators:s=!0,title:n,titlePx:a=2,titlePy:o=2,listBottomElement:i})=>(0,r.jsxs)(ie,{column:!0,component:"ul",p:0,m:0,sx:{listStyle:"none",m:0,p:0,...s&&{"& > *":{borderBottom:"1px solid",borderColor:"border.primary",py:Se[t]},"& > *:last-child":{border:"none"}}},children:[n&&(0,r.jsx)(re,{px:a,py:o,children:n}),e,i]}),Ae=({title:e,titleTag:t,children:s,subtitle:n,subtitle2:a,imgSrc:o,avatarVariant:l,wrapOnSmall:d=!0,showBorder:c,gutter:u,monoSubtitle:m,leftChild:p=null,topGutter:h,truncateText:j,component:b="div",maxTitleWidth:f,px:_=0,py:y=0,onClick:v,subtitleColor:k="text.secondary",verified:w})=>{const C=d?["column","column","row"]:"row",S=d?["flex-start","flex-start","center"]:"center",T=u?1:void 0;return(0,r.jsx)(i.Z,{component:b,onClick:v,sx:{listStyle:"none",m:0,borderBottom:c?"1px solid":void 0,pb:T,pt:h,borderColor:"border.primary","&:hover":{backgroundColor:v?"background.tableRowHover":void 0,cursor:v?"pointer":void 0}},children:(0,r.jsxs)(ie,{justifyContent:"space-between",alignItems:S,flexDirection:C,gap:2,px:_,py:y,children:[(0,r.jsxs)(ie,{gap:2,alignItems:"center",overflow:"hidden",children:[p,o&&(0,r.jsx)(g.Z,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:!1===w?(0,r.jsx)(x.Z,{color:"warning"}):null,sx:{".MuiBadge-badge":{top:"25%",right:"0px"}},children:(0,r.jsx)(we,{variant:l,src:o})}),(0,r.jsxs)(ie,{column:!0,sx:{display:"inline-flex"},overflow:"hidden",maxWidth:f,children:[(0,r.jsxs)(ie,{gap:"4px",children:[(0,r.jsx)(re,{truncate:j,children:e}),t]}),n&&(0,r.jsx)(re,{truncate:j,variant:m?"addressSmall":"body2",color:k,children:n}),a&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("br",{}),(0,r.jsx)(re,{variant:"body2",color:k,children:a})]})]})]}),s]})})},Ie=e=>(0,r.jsx)("div",{...e,style:{position:"static"}}),Ze=({data:e,header:t,item:s,overscanPx:n=1e3,height:a="100%",showScrollBar:o=!1,useStickyHeader:l=!1})=>{const{data:d,groupCounts:c,lastInGroupIndexes:u}=(e=>{const t=e.sort(((e,t)=>t.date.getTime()-e.date.getTime())),s=t.map((e=>({...e,iso:e.date.toISOString().slice(0,10)}))).reduce(((e,t)=>({...e,[t.iso]:(e[t.iso]??0)+1})),{}),n=Object.keys(s),a=n.map((e=>s[e]));return{data:t,groups:n,groupCounts:a,lastInGroupIndexes:a.map(((e,t,s)=>s.slice(0,t).reduce(((e,t)=>e+t),e-1)))}})(e);return(0,r.jsx)(i.Z,{sx:{height:a,"& > div::-webkit-scrollbar":{width:o?void 0:0}},children:(0,r.jsx)(j.Px,{components:l?{}:{TopItemList:Ie},overscan:n,groupCounts:c,groupContent:e=>{const s=d[u[e]].date;return t(s,e)},itemContent:e=>s(d[e],u.indexOf(e)>-1)})})},Me=({dataId:e,children:t})=>(0,r.jsx)(re,{"data-id":e,color:"text.secondary",children:t}),Pe=({pt:e,pb:t,py:s,...n})=>(0,r.jsx)(b.Z,{sx:{pt:e,pb:t,py:s,"& a,li,p":{fontSize:"12px"}},...n}),De=({component:e="button",active:t,...s})=>(0,r.jsx)(f.Z,{component:e,className:t?"active":void 0,...s}),Be=e=>"none"===e?0:"xs"===e?1.5:"small"===e?2:"large"===e?4.5:3,Ee=({variant:e="default",square:t=!1,title:s,preTitle:n,postTitle:a,children:o,padding:l="middle",width:d,height:c,cardTop:u=null,minWidth:m,position:p,overflow:h,...x})=>{const g=ge();return(0,r.jsx)(je,{elevation:"transparent"===e?g:1,children:(0,r.jsxs)(i.Z,{borderRadius:t?0:"24px",sx:{p:Be(l),boxShadow:e=>e.semantic.cardShadow,...Oe[e],width:d,height:c,minWidth:m,position:p,overflow:h},...x,children:[u,(s||a||n)&&(0,r.jsxs)(ie,{justifyContent:"space-between",alignItems:"center",pb:3,children:[(0,r.jsxs)(ie,{alignItems:"center",children:[n&&n,s&&(0,r.jsx)(re,{variant:"h2Foundation",children:s})]}),(0,r.jsx)("span",{}),a&&a]}),o]})})},Oe={default:{background:e=>e.palette.background.card},blue:{background:e=>e.palette.gradient.blue},transparent:{backgroundColor:"transparent",boxShadow:"none"}};Ee.displayName="Card";var Le=({my:e=1,mx:t,fullWidth:s,...n})=>(0,r.jsx)("span",{style:{width:s?"100%":void 0},children:(0,r.jsx)(_.Z,{sx:{borderColor:"border.primary","&.MuiDivider-root":{my:e,mx:t}},...n})}),Ne=["Inter","Poppins","Roboto Mono","-apple-system","BlinkMacSystemFont",'"Segoe UI"','"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),Re={light:300,normal:400,medium:500,semibold:600,bold:700},Fe=(e="100%",t=14,s="normal",n=0,a="none")=>({fontFamily:Ne,fontWeight:Re[s],fontSize:t,lineHeight:e,letterSpacing:n,textTransform:a}),Ue={h1:Fe("36px",30,"semibold"),h2:Fe("28px",20,"semibold"),h2Foundation:Fe("30px",24,"semibold"),h3:Fe("30px",20,"normal"),h4:Fe("24px",20),subtitle2:Fe("18px",12),body1:Fe("19px",16),body2:Fe("21px",14),buttonSmall:Fe("21px",14,"semibold","-0.01em","uppercase"),button:Fe("24px",16,"semibold","0","uppercase"),buttonLarge:Fe("28px",18,"semibold","0","uppercase"),input:Fe(1.5,16),label:Fe("15px",12),caption:{...Fe("21px",16),fontFamily:"Roboto Mono, monospace",wordBreak:"break-all"},addressSmall:{...Fe("18px",14),fontFamily:"Roboto Mono, monospace"}},$e={fontFamily:Ne,...Ue},We={default:{"&:hover":{textDecoration:"underline"}},box:{backgroundColor:"common.white10",borderRadius:"8px",px:1,py:"6px","&:hover":{opacity:.7}}},Ke=({sx:e,linkVariant:t="default",...s})=>(0,r.jsx)(y.Z,{sx:{cursor:"pointer",color:"text.primary",textDecoration:"none",...$e.body1,...We[t],...e},...s}),ze=({error:e,px:t})=>(0,r.jsx)(ie,{px:t,minHeight:150,justifyContent:"center",alignItems:"center",children:(0,r.jsx)(re,{color:"text.secondary",children:e})}),He=({label:e,value:t})=>(0,r.jsxs)(ie,{justifyContent:"space-between",children:[(0,r.jsx)(re,{variant:"body2",color:"text.secondary",children:e}),(0,r.jsx)(re,{variant:"body2",children:t})]}),Ve=({label:e,value:t})=>(0,r.jsxs)(ie,{column:!0,children:[(0,r.jsx)(re,{variant:"body2",color:"text.secondary",children:e}),(0,r.jsx)(re,{variant:"body2",children:t})]}),Ge=()=>(0,r.jsx)(Ee,{padding:"none",width:"100%",children:(0,r.jsx)(ie,{justifyContent:"center",alignItems:"center",minHeight:200,children:(0,r.jsx)(k.Z,{})})}),qe=({coinInfoList:e,description:t,website:s,community:a,explore:o,isLoading:l,error:d})=>l?(0,r.jsx)(Ge,{}):(0,r.jsx)(i.Z,{width:"100%",p:3,children:(0,r.jsxs)(ie,{gap:2,column:!0,children:[d&&(0,r.jsx)(ze,{error:d}),!d&&e&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ie,{gap:2,justifyContent:e.length>4?"space-between":void 0,children:e.map((e=>(0,r.jsx)(Ve,{...e},e.label)))}),(0,r.jsx)(Le,{})]}),!d&&t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(ie,{gap:1,column:!0,children:[(0,r.jsx)(re,{variant:"label",color:"text.secondary",children:t.label}),(0,r.jsx)(re,{children:t.value})]}),(0,r.jsx)(Le,{})]}),!d&&(a||s)&&(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(ie,{gap:5,children:[s&&(0,r.jsxs)(ie,{column:!0,gap:1,children:[(0,r.jsx)(re,{variant:"label",color:"text.secondary",children:s.label}),(0,r.jsx)(Ke,{linkVariant:"box",href:s.link.href,onClick:s.link.onClick,target:"_blank",rel:"noopener noreferrer",children:(0,r.jsxs)(ie,{gap:1,alignItems:"center",children:[s.link.icon," ",s.link.text]})})]}),a&&(0,r.jsxs)(ie,{gap:1,column:!0,children:[(0,r.jsx)(re,{variant:"label",color:"text.secondary",children:a.label}),(0,r.jsx)(ie,{gap:1,children:a.links.map((e=>(0,r.jsx)(Ke,{linkVariant:"box",href:e.href,onClick:e.onClick,target:"_blank",rel:"noopener noreferrer",children:(0,r.jsxs)(ie,{gap:1,alignItems:"center",children:[e.icon," ",e.text]})},e.href)))})]})]})}),o&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Le,{}),(0,r.jsxs)(ie,{gap:1,column:!0,alignItems:"flex-start",children:[(0,r.jsx)(re,{variant:"label",color:"text.secondary",children:o.label}),(0,r.jsxs)(ie,{gap:.5,alignItems:"center",children:[(0,r.jsx)(re,{children:le(o.mint)}),(0,r.jsx)(v.ActionableIcon,{onClick:o.action,variant:"secondary",icon:n.kZ_})]})]})]})]})}),Ye=({coinInfoList:e,description:t,website:s,community:a,explore:o,isLoading:i,error:l})=>i?(0,r.jsx)(Ge,{}):(0,r.jsxs)(ie,{gap:2,column:!0,py:3,children:[l&&(0,r.jsx)(ze,{px:1.5,error:l}),!l&&e&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ie,{gap:2,px:1.5,column:!0,children:e.map((e=>(0,r.jsx)(He,{...e},e.label)))}),(0,r.jsx)(Le,{})]}),!l&&t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(ie,{gap:1,column:!0,px:1.5,children:[(0,r.jsx)(re,{variant:"label",color:"text.secondary",children:t.label}),(0,r.jsx)(re,{children:t.value})]}),(0,r.jsx)(Le,{})]}),!l&&s&&(0,r.jsxs)(ie,{gap:1,column:!0,px:1.5,alignItems:"flex-start",children:[(0,r.jsx)(re,{variant:"label",color:"text.secondary",children:s.label}),(0,r.jsx)(Ke,{linkVariant:"box",target:"_blank",rel:"noopener noreferrer",children:(0,r.jsxs)(ie,{gap:1,alignItems:"center",children:[s.link.icon," ",s.link.text]})})]}),!l&&a&&(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(ie,{gap:1,column:!0,px:1.5,alignItems:"flex-start",children:[(0,r.jsx)(re,{variant:"label",color:"text.secondary",children:a.label}),a.links.map((e=>(0,r.jsx)(Ke,{linkVariant:"box",href:e.href,target:"_blank",rel:"noopener noreferrer",children:(0,r.jsxs)(ie,{gap:1,alignItems:"center",children:[e.icon," ",e.text]})},e.text+e.href)))]})}),!l&&o&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Le,{}),(0,r.jsxs)(ie,{gap:1,column:!0,px:1.5,alignItems:"flex-start",children:[(0,r.jsx)(re,{variant:"label",color:"text.secondary",children:o.label}),(0,r.jsxs)(ie,{gap:.5,alignItems:"center",children:[(0,r.jsx)(re,{children:le(o.mint)}),(0,r.jsx)(v.ActionableIcon,{onClick:o.action,variant:"secondary",icon:n.kZ_})]})]})]})]}),Qe=e=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ue,{bp:"sm",match:"down",children:(0,r.jsx)(Ye,{...e})}),(0,r.jsx)(ue,{bp:"sm",match:"up",children:(0,r.jsx)(qe,{...e})})]}),Je=({sx:e,noHorizontalPad:t,...s})=>(0,r.jsx)(w.Z,{sx:{mb:2,tableLayout:"fixed","& tbody tr:hover":{backgroundColor:"background.tableRowHover",borderRadius:"24px"},"& th,td":{px:t?0:1.5,py:2},...e},...s}),Xe=e=>[...Array(e).keys()],et=({columns:e})=>(0,r.jsxs)(Je,{"aria-label":"coin list table loading state",children:[(0,r.jsx)(C.Z,{children:(0,r.jsx)(S.Z,{children:e.map((e=>(0,r.jsx)(T.Z,{align:e.align,width:e.width,children:e.label},e.key)))})}),(0,r.jsx)(A.Z,{children:Xe(5).map((t=>(0,r.jsx)(S.Z,{children:e.map((e=>(0,r.jsx)(T.Z,{align:"actions"===e.key?"right":e.align,scope:"row",children:"name"===e.key?(0,r.jsxs)(ie,{gap:2,alignItems:"center",children:[(0,r.jsx)(he,{animation:"pulse",width:40,height:40,variant:"circular"}),(0,r.jsxs)(ie,{column:!0,children:[(0,r.jsx)(he,{animation:"pulse",width:130}),(0,r.jsx)(he,{animation:"pulse",width:70,height:15})]})]}):(0,r.jsx)(he,{animation:"pulse"})},e.key)))},t)))})]}),tt=({isLoading:e,data:t,renderCell:s,columns:n,actions:a,onRowClick:o,tokenAvatar:i})=>{const l=e=>{e.stopPropagation()};return e?(0,r.jsx)(et,{columns:n.filter((e=>"actions"!==e.key))}):(0,r.jsx)(j._n,{data:t,useWindowScroll:!0,style:{marginBottom:"60px"},defaultItemHeight:73,components:{Table:e=>(0,r.jsx)(Je,{sx:{"& .slr-hover-table-actions":{opacity:0,transition:".3s ease"},"& tr:hover .slr-hover-table-actions":{opacity:1,transition:".3s ease"},"& thead":{position:"static !important"},"& tbody tr":{cursor:o&&"pointer","&:hover":{backgroundColor:"rgba(188, 200, 231, 0.1)"}}},...e,style:{borderCollapse:"separate"}}),TableHead:e=>(0,r.jsx)(C.Z,{...e,sx:{bgcolor:"#1a1d27"}}),TableRow:e=>(0,r.jsx)(S.Z,{...e}),TableBody:m.forwardRef(((e,t)=>(0,r.jsx)(A.Z,{...e,ref:t})))},fixedHeaderContent:()=>(0,r.jsx)(r.Fragment,{children:n.map((e=>(0,r.jsx)(T.Z,{align:e.align,width:e.width,children:e.label},e.key)))}),itemContent:(e,t)=>(0,r.jsx)(r.Fragment,{children:n.map((e=>(0,r.jsx)(T.Z,{align:"actions"===e.key?"right":e.align,scope:"row",onClick:o&&(()=>o(t)),children:"actions"===e.key&&a?(0,r.jsx)("div",{onClick:l,children:a(t)}):s(t,e.key,i(t))},e.key)))})})},st=m.createContext({hideBalances:!0}),nt=()=>{const e=m.useContext(st);if(!e)throw new Error("useCoinList called outside the CoinListContext");return e},at=({children:e,...t})=>(0,r.jsx)(st.Provider,{value:t,children:e}),ot=({coin:e})=>{const{hideBalances:t}=nt();return t?(0,r.jsx)(he,{width:100}):(0,r.jsx)(i.Z,{children:e.amount})},it=({children:e,tokenAvatar:t,coin:{name:s,symbol:n,ending:a}})=>(0,r.jsx)(Ae,{title:s,titleTag:a&&(0,r.jsx)(v.StatusTag,{variant:"warning",children:"Ending"}),subtitle:n,truncateText:!0,leftChild:t,children:e}),rt=({positive:e,value:t})=>(0,r.jsx)(i.Z,{sx:{display:"inline",lineHeight:"12px",borderRadius:"2px",backgroundColor:e?"context.success10":"rgba(218, 73, 63, 0.08)",color:e?"context.success70":"#da493f",px:"4px",py:0},children:(0,r.jsx)(re,{variant:"label",whiteSpace:"nowrap",children:t})}),lt=({coin:e})=>(0,r.jsxs)(ie,{gap:1,alignItems:"center",children:[e.price," ",e.price&&e.priceDiff&&(0,r.jsx)(rt,{...e.priceDiff})]}),dt=({coin:e})=>{const{hideBalances:t}=nt();return t?(0,r.jsx)(he,{width:100}):(0,r.jsx)(i.Z,{children:e.value})},ct=({title:e})=>(0,r.jsx)(Te,{spacing:"compact",title:e,children:Xe(5).map((e=>(0,r.jsx)(Ae,{leftChild:(0,r.jsx)(he,{animation:"pulse",width:40,height:40,variant:"circular"}),title:(0,r.jsxs)(ie,{column:!0,children:[(0,r.jsx)(he,{animation:"pulse",width:130}),(0,r.jsx)(he,{animation:"pulse",width:70,height:15})]}),wrapOnSmall:!1,px:2,children:(0,r.jsxs)(ie,{column:!0,children:[(0,r.jsx)(he,{animation:"pulse",width:50}),(0,r.jsx)(he,{animation:"pulse",width:50,height:15})]})},e)))}),ut=({data:e,onClick:t,title:s,isLoading:n,bottomComponent:a,hideBalances:o,tokenAvatar:d})=>n?(0,r.jsx)(ct,{title:s}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(j.OO,{data:e,style:{height:400},useWindowScroll:!0,itemContent:(e,s)=>(0,r.jsx)(Ae,{title:s.name+(s?.symbol?` (${s.symbol})`:""),titleTag:s?.ending&&(0,r.jsx)(v.StatusTag,{variant:"warning",children:"Ending"}),subtitle:s.value,wrapOnSmall:!1,onClick:()=>t&&t(s),truncateText:!0,px:2,py:1,showBorder:!0,verified:s.verified,leftChild:d(s),children:(0,r.jsx)(ie,{column:!0,children:o?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(he,{width:50}),(0,r.jsx)(he,{width:50,height:16})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Z,{textAlign:"right",children:s.amount}),(0,r.jsx)(l.Z,{textAlign:"right",variant:"body2",color:"text.secondary",children:s.price})]})})})}),a&&(0,r.jsx)(i.Z,{pt:1,children:a})]}),mt=(e,t,s,n)=>({name:(0,r.jsx)(it,{coin:e,tokenAvatar:s,children:n}),price:(0,r.jsx)(lt,{coin:e}),value:(0,r.jsx)(dt,{coin:e}),amount:(0,r.jsx)(ot,{coin:e}),actions:(0,r.jsx)(r.Fragment,{})}[t]),pt=e=>{const{title:t,data:s,actions:n,hideBalances:a,onCoinClick:o,columnConfig:i,isLoading:l,bottomComponent:u,titleAction:m,tokenAvatar:p}=e,h=(0,d.Z)(),x=(0,c.Z)(h.breakpoints.down("sm"));return(0,r.jsx)(at,{hideBalances:a,children:(0,r.jsx)(Ee,{title:x?void 0:t,postTitle:x?void 0:m,padding:x?"none":"middle",children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ue,{match:"down",bp:"md",children:(0,r.jsx)(ut,{isLoading:l,title:x?t:void 0,data:s,onClick:o,hideBalances:a,bottomComponent:u&&(0,r.jsx)("span",{children:u}),tokenAvatar:p})}),(0,r.jsx)(ue,{match:"up",bp:"md",children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(tt,{isLoading:l,data:s,renderCell:mt,columns:i,actions:n,onRowClick:o,tokenAvatar:p}),u&&u]})})]})})})},ht=({color:e,...t})=>(0,r.jsx)(Z.Z,{...t,sx:{px:3,py:1,color:"danger"===e?"error.main":void 0,"&:hover":{backgroundColor:"background.tableRowHover"}}}),xt={1:{backgroundColor:"background.dropdownElevation1"},0:{background:e=>e.palette.background.card}},gt=m.forwardRef((({children:e,open:t,elevation:s=0,anchorEl:n,onClose:a,onClick:o,minWidth:i=200,disablePortal:l=!0},d)=>{const c=ge();return(0,r.jsx)(I.Z,{ref:d,anchorEl:n,anchorOrigin:{horizontal:"right",vertical:"bottom"},transformOrigin:{horizontal:"right",vertical:"top"},open:t,disableScrollLock:!0,disablePortal:l,MenuListProps:{sx:{py:1,borderRadius:"8px",minWidth:i,...xt[s||c]}},onClose:a,onClick:o,children:e})})),jt={default:{},modalFullScreenCloseButton:{position:"absolute",left:10,top:10,right:"auto",color:"primary.main"},modalStandardCloseButton:{position:"absolute",right:-28,top:-28,color:"common.white70"}},bt={small:{width:14,height:14,fontSize:"16px",p:2},medium:{width:16,height:16,fontSize:"20px",p:2.5},large:{width:20,height:20,fontSize:"24px",p:3}},ft=m.forwardRef((({color:e="text.primary",variant:t="default",size:s="medium",activeColor:n="primary.main",...a},o)=>(0,r.jsx)(P.Z,{ref:o,sx:{color:e,"&:hover":{backgroundColor:"semantic.iconButtonHover",transition:"background 300ms ease"},transition:"background 300ms ease",...jt[t],...bt[s],"&.Mui-disabled":{color:"text.tertiary"},"&.active":{color:n},"&.Mui-disabled.active":{color:"text.tertiary"}},...a}))),_t=({icon:e,title:t,description:s})=>(0,r.jsxs)(ie,{p:2,gap:1,bgcolor:"background.dropdown",borderRadius:"24px",children:[(0,r.jsx)(l.Z,{children:e}),(0,r.jsxs)(ie,{column:!0,gap:1,children:[(0,r.jsx)(l.Z,{children:t}),(0,r.jsx)(l.Z,{variant:"body2",color:"text.secondary",children:s})]})]}),yt=({title:e,subtitle:t,children:s})=>(0,r.jsxs)(ie,{justifyContent:"space-between",pt:3,children:[(0,r.jsxs)(ie,{column:!0,gap:.5,children:[(0,r.jsx)(re,{variant:"h4",children:e}),t&&(0,r.jsx)(re,{color:"text.secondary",children:t})]}),s]}),vt=({title:e,titleAction:t,showTitleOnSmall:s=!0,...n})=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ue,{bp:"md",match:"up",children:(0,r.jsx)(Ee,{title:e,postTitle:t,...n})}),(0,r.jsx)(ue,{bp:"md",match:"down",children:(0,r.jsx)(Ee,{title:s&&e,padding:"none",variant:"transparent",postTitle:s&&t,...n})})]});vt.displayName="MenuCard";var kt=({title:e,children:t,sx:s})=>(0,r.jsxs)(D.Z,{sx:s,children:[e&&(0,r.jsx)(re,{variant:"h4",pb:1,children:e}),t]}),wt=({active:e,children:t,icon:s,text:n,onClick:a})=>(0,r.jsx)(B.ZP,{disableGutters:!0,sx:{"& .MuiListItemButton-root":{border:"1px solid transparent"},"& .Mui-focusVisible":{borderColor:"primary.light"}},children:(0,r.jsxs)(E.Z,{onClick:a,sx:{bgcolor:"transparent","&:hover":{bgcolor:"transparent"}},children:[(s||n)&&(0,r.jsxs)(ie,{alignItems:"center",gap:1,sx:{color:t=>e?t.palette.semantic.navItemActiveColor:t.palette.semantic.navItemColor,"&:hover":{color:t=>e?t.palette.semantic.navItemActiveColor:t.palette.semantic.navItemHoverColor}},children:[s,(0,r.jsx)(re,{children:n})]}),t]})}),Ct=({menuItems:e,active:t,onMenuClick:s,title:n,accountSwitcher:a})=>(0,r.jsxs)(kt,{title:n,sx:{width:270},children:[a&&(0,r.jsx)(ce,{fullWidth:!0,accountAddress:a.address,accountName:a.name,avatar:a.avatar,onClick:a.onClick}),e.map((({value:e,title:n,icon:a})=>(0,r.jsx)(wt,{onClick:()=>s(e),active:t===e,text:n,icon:a},e)))]}),St=({sx:e,children:t,...s})=>(0,r.jsxs)(Z.Z,{sx:{lineHeight:"20px",py:2,"&:hover":{backgroundColor:"background.dropdownItemHover"},"&.Mui-selected":{backgroundColor:"background.dropdownList"},"&.Mui-selected:hover":{backgroundColor:"background.dropdownItemHover"},"&.Mui-selected.Mui-focusVisible":{backgroundColor:"background.dropdownList"},"&.Mui-selected.Mui-focusVisible:hover":{backgroundColor:"background.dropdownItemHover"},"&.Mui-focusVisible":{backgroundColor:"background.dropdownList"},"&.Mui-focusVisible:hover":{backgroundColor:"background.dropdownItemHover"},...e},...s,children:[t,s.selected&&(0,r.jsx)(i.Z,{position:"absolute",right:24,sx:{pointerEvents:"none","& svg":{color:"primary.main"}},children:(0,r.jsx)(a.G,{size:"lg",icon:L.fV7})})]}),Tt=e=>(0,r.jsx)(a.G,{className:e.className,icon:n.ptq}),At={medium:{py:1.5},big:{py:2.5}},It=({size:e="medium",minWidth:t,className:s,value:n,children:a,onChange:o,fullWidth:i,defaultValue:l,showBorder:d=!1,onOpen:c,onClose:u,open:m})=>{const p=ge();return(0,r.jsx)(O.Z,{className:s,value:n,onChange:o,fullWidth:i,defaultValue:l,IconComponent:Tt,onOpen:c,onClose:u,open:m,sx:{minWidth:t,width:["100%","100%","auto"],borderRadius:"8px",bgcolor:"background.dropdown","& .MuiOutlinedInput-notchedOutline":{borderColor:"transparent"},"& .MuiSelect-icon":{color:"text.primary",right:12},"& .hide-within-select":{display:"none"},"& fieldset":{borderColor:"transparent !important"},"& .MuiSelect-select":{px:2,...At[e]}},MenuProps:{PaperProps:{sx:{bgcolor:1===p?"background.dropdownList":"background.dropdownListElevation1",borderRadius:"8px"}},sx:{"& .MuiList-root":{py:0},"& .MuiList-root li":{borderBottom:d?"1px solid":"none",borderColor:"border.primary",...At[e]},"& .MuiList-root li:last-child":{borderBottom:"none"}}},children:a})},Zt=({menuItems:e,active:t,onMenuChange:s})=>(0,r.jsx)(It,{onChange:e=>s(e.target.value),value:t,fullWidth:!0,size:"big",showBorder:!0,children:e.map((({value:e,title:t,icon:s})=>(0,r.jsx)(St,{value:e,children:(0,r.jsxs)(re,{variant:"h3",sx:{display:"flex",gap:1,alignItems:"center"},children:[s," ",t]})},e)))}),Mt=({config:e,order:t,children:s,active:n,onNavChange:a,sideBarTitle:o,accountSwitcher:l,breadCrumbs:d})=>{const c=t.map((t=>e[t]));return(0,r.jsxs)(i.Z,{position:"relative",mt:d?-3:0,children:[d&&(0,r.jsx)(i.Z,{py:1,mb:1,height:24,children:d}),(0,r.jsxs)(M.ZP,{container:!0,children:[(0,r.jsx)(ue,{match:"down",bp:"md",children:(0,r.jsx)(M.ZP,{item:!0,xs:12,children:(0,r.jsx)(i.Z,{pb:4,children:(0,r.jsx)(Zt,{active:n,menuItems:c,onMenuChange:a})})})}),(0,r.jsx)(ue,{match:"up",bp:"md",children:(0,r.jsx)(M.ZP,{item:!0,md:4,lg:3,children:(0,r.jsx)(i.Z,{pt:3,children:(0,r.jsx)(Ct,{accountSwitcher:l,active:n,menuItems:c,onMenuClick:a,title:o})})})}),(0,r.jsx)(M.ZP,{item:!0,xs:12,md:8,lg:9,children:s})]})]})},Pt=e=>(0,r.jsx)(R.Z,{sx:{p:0,pt:1},...e}),Dt=m.createContext({}),Bt=()=>{const e=m.useContext(Dt);if(!e)throw new Error("useModal called outside the modal context");return e},Et=e=>(0,r.jsx)(Dt.Provider,{value:e,children:e.children}),Ot={backdropFilter:"none",backgroundColor:"transparent"},Lt={backdropFilter:"blur(20px)"},Nt=e=>{const{fullScreen:t,bottom:s}=Bt();return t&&!s?(0,r.jsx)(F.Z,{sx:Ot,...e}):(0,r.jsx)(F.Z,{sx:Lt,...e})},Rt=({onClick:e})=>{const{fullScreen:t}=Bt();return(0,r.jsx)(ft,{variant:t?"modalFullScreenCloseButton":"modalStandardCloseButton",onClick:e,children:(0,r.jsx)(U.Z,{})})},Ft=({sx:e,contentPtPx:t=24,...s})=>(0,r.jsx)($.Z,{sx:{pt:`${t}px !important`,pb:3,px:0,overflowX:"unset",overflowY:"auto",...e},...s}),Ut={flexGrow:1,display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"flex-start"},$t=({onSubmit:e,children:t})=>{const{fullScreen:s}=Bt();return e?(0,r.jsx)(i.Z,{component:"form",sx:s?Ut:{},onSubmit:e,children:t}):(0,r.jsx)(r.Fragment,{children:t})},Wt={py:3,px:2,"&":{backgroundColor:"background.main",backgroundImage:"none"}},Kt={padding:[2,4],borderRadius:"24px",background:"#1D202B","&":{overflowY:"unset"}},zt={...Kt,bottom:0,left:0,right:0,borderBottomLeftRadius:0,borderBottomRightRadius:0,"&":{maxWidth:"100% !important",width:"100%",margin:0,position:"fixed",overflowY:"unset"}},Ht=e=>{const{fullScreen:t,bottom:s}=Bt(),n=(0,c.Z)((e=>e.breakpoints.down("sm")));return t?(0,r.jsx)(W.Z,{...e,sx:Wt}):n&&s?(0,r.jsx)(W.Z,{...e,sx:zt}):(0,r.jsx)(W.Z,{...e,sx:Kt})},Vt={p:0,pb:[2,3],borderBottom:"1px solid",borderColor:"border.main"},Gt={textAlign:"center",borderBottom:"none",px:1,py:0},qt=e=>{const{fullScreen:t}=Bt();return(0,r.jsx)(K.Z,{component:"div",sx:t?Gt:Vt,children:(0,r.jsx)(re,{variant:"h2",children:e.children})})},Yt={top:64,bottom:0},Qt=e=>{const{title:t,maxWidth:s="xs",onClose:n,children:a,actions:o,fullScreen:i=!1,bottom:l,scroll:d="body",onSubmit:c,contentStyle:u,fullWidth:m=!0,showCloseButton:p=!0,dialogContainerClassName:h,dialogPaperClassName:x,fullScreenPaperClassName:g,contentClassName:j,fullScreenTopOffset:b=!0,sx:f,useActionDivider:_,contentPtPx:y,disableScrollLock:v=!0,disableBackdropClick:k,...w}=e;return(0,r.jsx)(Et,{...e,children:(0,r.jsxs)(N.Z,{maxWidth:s,onClose:(e,t)=>{k&&"backdropClick"===t||n?.()},scroll:d,fullScreen:i,fullWidth:m,disableScrollLock:v,BackdropComponent:Nt,disableEnforceFocus:!0,PaperComponent:Ht,classes:{container:h,paper:i?g:x},sx:i&&b?{...Yt,...f}:f,...w,children:[t&&(0,r.jsx)(qt,{children:t}),p&&n&&(0,r.jsx)(Rt,{onClick:n}),(0,r.jsx)($t,{onSubmit:c,children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Ft,{sx:u,contentPtPx:y,className:j,children:a}),o&&(0,r.jsxs)(r.Fragment,{children:[_&&(0,r.jsx)(Le,{}),(0,r.jsx)(Pt,{children:o})]})]})})]})})},Jt=({avatar:e,title:t,subtitle:s})=>(0,r.jsxs)(ie,{alignItems:"center",gap:2,width:["100%","100%","auto"],justifyContent:["center","flex-start","flex-start"],flexDirection:["column","row","row"],children:[e,(0,r.jsxs)(ie,{alignItems:["center","flex-start"],column:!0,children:[(0,r.jsx)(re,{variant:"h2",display:"flex",alignItems:"center",gap:.5,children:t}),(0,r.jsx)(re,{color:"text.secondary",variant:"label",children:s})]})]}),Xt=({mainHeaderItem:e,children:t,actions:s,useSmallerMiddleBp:n})=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ue,{bp:n?"md":"lg",match:"up",children:(0,r.jsx)(Ee,{padding:"small",children:(0,r.jsxs)(ie,{alignItems:"center",justifyContent:"space-between",wrap:!0,gap:2,px:1,children:[(0,r.jsxs)(ie,{gap:4,flexWrap:"nowrap",justifyContent:"center",children:[e,t&&(0,r.jsx)(Le,{mx:0,my:0,orientation:"vertical"}),t]}),(0,r.jsx)(ie,{gap:2,alignItems:"center",justifyContent:"center",children:s})]})})}),(0,r.jsx)(ue,{bp:"sm",match:"between",bp2:n?"md":"lg",children:(0,r.jsx)(Ee,{padding:"small",children:(0,r.jsxs)(ie,{column:!0,justifyContent:"space-between",wrap:!0,gap:2,px:1,children:[(0,r.jsxs)(ie,{gap:4,flexWrap:"nowrap",justifyContent:"space-between",children:[e,(0,r.jsx)(ie,{gap:2,alignItems:"center",children:s})]}),(0,r.jsx)(ie,{gap:2,alignItems:"center",justifyContent:"flex-start",children:t})]})})}),(0,r.jsx)(ue,{bp:"sm",match:"down",children:(0,r.jsx)(Ee,{variant:"transparent",padding:"none",children:(0,r.jsxs)(ie,{justifyContent:"center",alignItems:"center",wrap:!0,gap:1,children:[(0,r.jsx)(ie,{justifyContent:"center",fullWidth:!0,children:e}),(0,r.jsx)(Le,{fullWidth:!0}),(0,r.jsx)(ie,{gap:2,alignItems:"center",justifyContent:"center",wrap:!0,children:s}),(0,r.jsx)(Le,{fullWidth:!0})]})})})]}),es=({imgSrc:e,label:t,content:s,rightComponent:n,hidden:a})=>(0,r.jsxs)(ie,{alignItems:"center",gap:2,children:[e&&(0,r.jsx)(we,{size:"large",src:e}),(0,r.jsxs)("div",{children:[(0,r.jsx)(re,{variant:"label",color:"text.secondary",children:t}),(0,r.jsx)(re,{variant:"h4",whiteSpace:"nowrap",children:a?(0,r.jsx)(he,{width:70}):(0,r.jsxs)(ie,{alignItems:"center",gap:1,children:[s,n]})})]})]}),ts=({label:e,value:t,avatar:s,hiddenBalance:n})=>(0,r.jsxs)(ie,{alignItems:"center",gap:2,width:["100%","100%","auto"],justifyContent:["center","flex-start","flex-start"],flexDirection:["column","row","row"],children:[s,(0,r.jsxs)(ie,{column:!0,alignItems:["center","flex-start"],children:[(0,r.jsx)(re,{color:"text.secondary",variant:"label",children:e}),(0,r.jsx)(re,{variant:"h2",children:n?(0,r.jsx)(he,{width:100}):t})]})]}),ss=({left:e,variant:t="outlined",type:s,disableUnderline:n=!1,readOnly:a,typography:o="body1",notAllowCursor:i,currencyValue:l,...d})=>(0,r.jsx)(z.Z,{...d,variant:t,type:l?"number":s,sx:{"&.MuiFormControl-root":{backgroundColor:"outlined"===t?"background.inputField":null},"& fieldset.MuiOutlinedInput-notchedOutline":{borderColor:"border.primary"}},InputProps:{disableUnderline:n,sx:{...Ue[o],"& input":{cursor:i?"not-allowed":null}}},inputProps:{startAdornment:e,readOnly:a,pattern:l?"^[0-9]*[.,]?[0-9]*$":void 0}}),ns=({onCloseSearch:e,...t})=>(0,r.jsxs)(ie,{justifyContent:"space-between",gap:1,pb:2,children:[(0,r.jsx)(ss,{autoFocus:!0,fullWidth:!0,placeholder:"Search",...t,left:(0,r.jsx)(pe,{faIcon:n.wn1})}),(0,r.jsx)(ft,{onClick:e,children:(0,r.jsx)(pe,{size:"md",faIcon:n.YIN})})]}),as=(0,Q.ZP)(H.d)((({theme:e})=>`\n    width: 100%;\n    background: ${e.palette.background.cardInset};\n    border-radius: 24px;\n  `)),os=(0,Q.ZP)(V.O)((({theme:e})=>`\n    padding: ${e.spacing(1.5)} ${e.spacing(3)};\n    background-color: transparent;\n    color: ${e.palette.text.tertiary};\n    border: none;\n    cursor: pointer;\n    &.${G.m.selected} {\n        background: ${e.palette.background.selectedTab};\n        color: ${e.palette.text.primary};\n    }\n    &:first-of-type {\n      border-radius: 24px 0 0 0;\n    }\n  `)),is=({defaultActiveTab:e,tabOrder:t,tabs:s,contentHeight:n})=>(0,r.jsx)(i.Z,{flex:1,overflow:"hidden",children:(0,r.jsx)(Ee,{padding:"none",overflow:"hidden",children:(0,r.jsxs)(q.m,{defaultValue:e,children:[(0,r.jsx)(i.Z,{bgcolor:"background.main",children:(0,r.jsx)(as,{sx:{borderRadius:"24px 24px 0 0"},children:t.map((e=>(0,r.jsx)(os,{value:e,children:(0,r.jsx)(re,{variant:"body2",children:s[e].tabName})},e)))})}),t.map((e=>(0,r.jsx)(Y.x,{value:e,children:(0,r.jsx)(i.Z,{height:n,sx:{overflowY:n?"auto":void 0},children:s[e].render},e)},e)))]})})}),rs=(0,se.Z)({breakpoints:{values:{xs:0,sm:600,md:960,lg:1280,xl:1920}}}),ls=["Inter","Poppins","Roboto Mono","-apple-system","BlinkMacSystemFont",'"Segoe UI"','"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),ds={light:300,normal:400,medium:500,semibold:600,bold:700},cs=(e="100%",t=14,s="normal",n=0,a="none")=>({fontFamily:ls,fontWeight:ds[s],fontSize:t,lineHeight:e,letterSpacing:n,textTransform:a}),us={h1:cs("36px",30,"semibold"),h2:cs("28px",20,"semibold"),h2Foundation:cs("30px",24,"semibold"),h3:cs("30px",20,"normal"),h4:cs("24px",20),subtitle2:cs("18px",12),body1:cs("19px",16),body2:cs("21px",14),buttonSmall:cs("21px",14,"semibold","-0.01em","uppercase"),button:cs("24px",16,"semibold","0","uppercase"),buttonLarge:cs("28px",18,"semibold","0","uppercase"),input:cs(1.5,16),label:cs("15px",12),caption:{...cs("21px",16),fontFamily:"Roboto Mono, monospace",wordBreak:"break-all"},addressSmall:{...cs("18px",14),fontFamily:"Roboto Mono, monospace"}},ms={fontFamily:ls,...us},ps="tomato",hs={main:"#FF842D",dark:"#FF842D",light:"rgba(253, 128, 29, 0.2)"},xs={main:"#2BD4B5"},gs={main:ps},js={white:"#FFFFFF",white02:"rgba(255, 255, 255, 0.02)",white04:"rgba(255, 255, 255, 0.04)",white05:"rgba(255, 255, 255, 0.05)",white07:"rgba(255, 252, 255, 0.07)",white10:"rgba(255, 255, 255, 0.1)",white20:"rgba(255, 255, 255, 0.2)",white40:"rgba(255, 255, 255, 0.4)",white50:"rgba(255, 252, 255, 0.5)",white70:"rgba(255, 255, 255, 0.7)",black:"#14161f",black05:"rgba(23, 23, 29, 0.05)",black10:"rgba(23, 23, 29, 0.1)",black20:"#1D202B",black40:"rgba(23, 23, 29, 0.4)",black50:"rgba(23, 23, 29, 0.5)",black60:"rgba(23, 23, 29, 0.6)",black70:"rgba(23, 23, 29, 0.7)"},bs={success:"#1ABC9C",success10:"rgba(26, 188, 156, 0.1)",success20:"rgba(26, 188, 156, 0.2)",success40:"rgba(26, 188, 156, 0.4)",success70:"rgba(26, 188, 156, 0.7)",successBackground:ps,error:"#DA493F",error10:"rgba(218, 73, 63, 0.1)",error20:"rgba(218, 73, 63, 0.2)",error40:"rgba(218, 73, 63, 0.4)",error70:"rgba(218, 73, 63, 0.7)",errorBackground:ps,warning:"#EDBF38",warning10:"rgba(237, 191, 56, 0.1)",warning20:"rgba(237, 191, 56, 0.2)",warning40:"rgba(237, 191, 56, 0.4)",warning70:"rgba(237, 191, 56, 0.7)",warningBackground:ps,info:"#2D8BFA",info10:"rgba(45, 139, 250, 0.1)",info20:"rgba(45, 139, 250, 0.2)",info40:"rgba(45, 139, 250, 0.4)",info70:"rgba(45, 139, 250, 0.7)",infoBackground:ps},fs={primary:"linear-gradient(180.64deg, #FF842D 0.33%, #FF842D 47.37%, #FF842D 99.51%)",gray:"linear-gradient(180deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%), #17171D",blue:"linear-gradient(91.47deg, #07526B -3.16%, #142630 101.07%), #2A2A32"},_s={success:{main:"#1ABC9C",main10:"rgba(26, 188, 156, 0.1)",main20:"rgba(26, 188, 156, 0.2)",main40:"rgba(26, 188, 156, 0.4)",main70:"rgba(26, 188, 156, 0.7)",background:ps},error:{main:"#DA493F",main10:"rgba(218, 73, 63, 0.1)",main20:"rgba(218, 73, 63, 0.2)",main40:"rgba(218, 73, 63, 0.4)",main70:"rgba(218, 73, 63, 0.7)",background:ps},warning:{main:"#EDBF38",main10:"rgba(237, 191, 56, 0.1)",main20:"rgba(237, 191, 56, 0.2)",main40:"rgba(237, 191, 56, 0.4)",main70:"rgba(237, 191, 56, 0.7)",background:ps},info:{main:"#2D8BFA",main10:"rgba(45, 139, 250, 0.1)",main20:"rgba(45, 139, 250, 0.2)",main40:"rgba(45, 139, 250, 0.4)",main70:"rgba(45, 139, 250, 0.7)",background:ps}},ys={MuiCssBaseline:{styleOverrides:{body:{...ms.body2}}},MuiAppBar:{styleOverrides:{root:{height:110,boxShadow:"none",borderBottom:`1px solid ${js.white10}`,display:"flex",justifyContent:"center",marginBottom:30}}},MuiToolbar:{styleOverrides:{root:{display:"flex",justifyContent:"space-between"}}},MuiPaper:{styleOverrides:{root:{},elevation2:{position:"relative",padding:"16px 24px",boxShadow:"0px 15px 30px rgba(0, 0, 0, 0.2)",borderRadius:10,background:"rgba(188, 200, 231, 0.04)"}}},MuiButtonBase:{defaultProps:{disableRipple:!0}},MuiTab:{styleOverrides:{root:{padding:"6px 12px",minWidth:160}}},MuiTableCell:{styleOverrides:{head:{...ms.body2,color:js.white40,borderBottom:`1px solid ${js.white10}`},body:{...ms.body2,borderBottom:`1px solid ${js.white05}`}}},MuiDivider:{styleOverrides:{root:{marginTop:0,marginBottom:0},light:{borderColor:js.white10},middle:{marginLeft:16,marginRight:16}}},MuiAccordion:{styleOverrides:{root:{position:"relative",background:"none",boxShadow:"none",transition:"background 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms","&:before":{margin:"0 30px"},"&$expanded":{margin:0,background:"inherit",boxShadow:"inherit"}}}},MuiAccordionSummary:{styleOverrides:{root:{padding:"0 30px"},content:{margin:"23px 0"}}},MuiAccordionDetails:{styleOverrides:{root:{padding:"8px 30px 30px"}}},MuiCheckbox:{styleOverrides:{root:{padding:5,"&.Mui-disabled":{"& svg":{fill:js.white20}}}}},MuiInputBase:{styleOverrides:{root:{height:"unset"}}},MuiFormControl:{defaultProps:{size:"small"},styleOverrides:{root:{"& .MuiOutlinedInput-input":{padding:"9.5px 14px"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:js.white40},"&:hover fieldset":{borderColor:js.white70},"&.Mui-focused fieldset":{borderColor:hs.main,borderWidth:1},"&.Mui-disabled fieldset":{borderColor:js.white20}},"& .MuiSelect-root":{"&:hover":{borderColor:js.white70},"&:disabled":{borderColor:js.white40,color:js.white40}},"& .MuiSelect-icon":{color:js.white40,"&.Mui-disabled":{color:js.white20}},"& .MuiInput-underline":{"&:before":{borderColor:js.white40}},"& .MuiInputAdornment-root":{color:js.white40},"&:hover .MuiInputAdornment-root":{color:js.white70},"& .Mui-disabled .MuiInputAdornment-root":{color:js.white20},"& .Mui-focused .MuiInputAdornment-root":{color:js.white70}}}},MuiInputLabel:{styleOverrides:{outlined:{...ms.input,"&.Mui-disabled":{color:js.white20}}}},MuiTooltip:{defaultProps:{arrow:!0},styleOverrides:{tooltip:{backgroundColor:"#000000"},arrow:{color:"#000000"}}},MuiAlert:{styleOverrides:{root:{borderRadius:8},message:{...ms.body1,padding:"4px 0"},icon:{color:"inherit !important"}}},MuiListItemIcon:{styleOverrides:{root:{color:hs.main,fontSize:"1.2rem",justifyContent:"center"}}},MuiTextField:{defaultProps:{autoComplete:"off"}}},vs={...ys,MuiCssBaseline:{styleOverrides:{":root":{scrollbarGutter:"stable"},body:{backgroundColor:js.black}}},MuiButton:{styleOverrides:{root:{minWidth:0,borderRadius:8,fontWeight:600,whiteSpace:"nowrap","&:hover, &:active":{opacity:.7}},sizeSmall:{...ms.buttonSmall,padding:"8px 24px"},sizeMedium:{...ms.button,padding:"10px 27px"},sizeLarge:{...ms.buttonLarge,padding:"12px 30px"},contained:{color:js.black,"&:disabled":{background:js.white20,backgroundColor:"none",color:js.black60}},outlined:{border:"1px solid",borderColor:hs.main,color:js.white,"&:hover, &:active":{border:"1px solid",borderColor:hs.main},"&:disabled":{borderColor:js.white20,color:js.white20}},text:{"&:disabled":{color:js.white20}},textSecondary:{color:js.white,"&:hover":{backgroundColor:js.white05}}}},MuiAlert:{styleOverrides:{root:{backgroundColor:js.white05},standard:{backgroundColor:js.white05},standardSuccess:{backgroundColor:js.white05,color:bs.success},standardInfo:{backgroundColor:js.white05,color:bs.info},standardWarning:{backgroundColor:js.white05,color:bs.warning},standardError:{backgroundColor:js.white05,color:bs.error}}}},ks={primary:hs,secondary:xs,tertiary:gs,common:js,gradient:fs,border:{main:js.white10,primary:js.white10,secondary:js.white10,select:"transparent"},text:{primary:js.white,secondary:js.white70,tertiary:js.white40,disabled:"rgba(255, 255, 255, 0.2)"},context:{success:"#1ABC9C",success10:"rgba(26, 188, 156, 0.1)",success20:"rgba(26, 188, 156, 0.2)",success40:"rgba(26, 188, 156, 0.4)",success70:"rgba(26, 188, 156, 0.7)",successBackground:ps,error:"#DA493F",error10:"rgba(218, 73, 63, 0.1)",error20:"rgba(218, 73, 63, 0.2)",error40:"rgba(218, 73, 63, 0.4)",error70:"rgba(218, 73, 63, 0.7)",errorBackground:ps,warning:"#EDBF38",warning10:"rgba(237, 191, 56, 0.1)",warning20:"rgba(237, 191, 56, 0.2)",warning40:"rgba(237, 191, 56, 0.4)",warning70:"rgba(237, 191, 56, 0.7)",warningBackground:ps,info:"#2D8BFA",info10:"rgba(45, 139, 250, 0.1)",info20:"rgba(45, 139, 250, 0.2)",info40:"rgba(45, 139, 250, 0.4)",info70:"rgba(45, 139, 250, 0.7)",infoBackground:ps},success:{main:"#1ABC9C",main10:"rgba(26, 188, 156, 0.1)",main20:"rgba(26, 188, 156, 0.2)",main40:"rgba(26, 188, 156, 0.4)",main70:"rgba(26, 188, 156, 0.7)",background:ps},error:{main:"#DA493F",main10:"rgba(218, 73, 63, 0.1)",main20:"rgba(218, 73, 63, 0.2)",main40:"rgba(218, 73, 63, 0.4)",main70:"rgba(218, 73, 63, 0.7)",background:ps},warning:{main:"#EDBF38",main10:"rgba(237, 191, 56, 0.1)",main20:"rgba(237, 191, 56, 0.2)",main40:"rgba(237, 191, 56, 0.4)",main70:"rgba(237, 191, 56, 0.7)",background:ps},info:{main:"#2D8BFA",main10:"rgba(45, 139, 250, 0.1)",main20:"rgba(45, 139, 250, 0.2)",main40:"rgba(45, 139, 250, 0.4)",main70:"rgba(45, 139, 250, 0.7)",background:ps},background:{mainExtension:js.black,cardSolid:"#232328",cardActive:"#232328",cardHover:"#232328",nftCard:"#232328",main:js.black,card:"rgba(188, 200, 231, 0.04)",cardInset:"#161820",modal:js.black,switcher:js.white05,switcherElevation1:js.white05,dropdown:js.white05,dropdownElevation1:js.black,dropdownList:"#282B36",dropdownListElevation0:"#232328",dropdownItemHover:js.white05,switch:"#39393D",paper:js.black,circleContainer:"rgba(255, 132, 45, 0.2)",inputField:js.black20,itemHover:ps,contrast:ps,popoverPrimary:ps,popoverSecondary:ps,counter:ps,selectedTab:"#1b1d27",paperBackground:"rgba(188, 200, 231, 0.04)",portfolioExpandedItem:"linear-gradient(180deg, rgba(255, 255, 255, 0.04) 0%, rgba(255, 255, 255, 0.02) 100%), #29292B"},semantic:{tableRowHover:js.white05,iconButtonHover:js.white20,border:js.white10,borderSecondary:js.white10,tableRowAlternative:ps,iconInactive:ps,icon:ps,iconSelected:ps,buttonHover:ps,disabledItem:ps,disabledSecondary:ps,inputAdornment:ps,avatar:ps,switchTrack:ps,navItemColor:js.white50,navItemActiveColor:js.white,navItemHoverColor:js.white70}},ws=(0,se.Z)(rs,{dark:!0,name:"Solflare Dark Theme",palette:ks,typography:ms,semantic:{cardShadow:"none"},components:vs,zIndex:{modal:v.Z_INDEX_PAGE_MODAL,drawer:v.Z_INDEX_DRAWER_OR_MODAL,snackbar:v.Z_INDEX_CONFIRMATION_SNACKBAR,tooltip:v.Z_INDEX_TOOLTIP}}),Cs={primary:hs,secondary:xs,tertiary:gs,common:js,gradient:fs,context:bs,border:{main:js.black10,primary:js.black10,secondary:js.black10,select:js.black10},text:{primary:js.black,secondary:js.black70,tertiary:js.black40,disabled:js.black20},background:{main:"rgb(238,238,238)",mainExtension:ps,card:js.white,cardInset:js.white05,cardSolid:ps,cardActive:ps,cardHover:ps,nftCard:ps,modal:"rgb(238,238,238)",switcher:js.white,switcherElevation1:js.black05,dropdown:js.black05,dropdownElevation1:js.black05,dropdownList:"rgb(238,238,238)",dropdownListElevation0:"rgb(238,238,238)",switch:js.black10,inputField:js.white,dropdownItemHover:js.black05,paper:js.white,circleContainer:"rgba(255, 132, 45, 0.2)",itemHover:ps,contrast:ps,popoverPrimary:ps,popoverSecondary:ps,counter:ps,selectedTab:js.white,paperBackground:"linear-gradient(180deg, #FFFFFF 0%, rgba(255, 255, 255, 0.9) 100%)",portfolioExpandedItem:"#fff"},semantic:{tableRowHover:js.black05,iconButtonHover:js.black10,border:js.black10,borderSecondary:js.black10,tableRowAlternative:ps,iconInactive:ps,icon:ps,iconSelected:ps,buttonHover:ps,disabledItem:ps,disabledSecondary:ps,inputAdornment:ps,avatar:ps,switchTrack:ps,navItemColor:js.black50,navItemActiveColor:js.black,navItemHoverColor:js.black70},success:_s.success,error:_s.error,warning:_s.warning,info:_s.info},Ss=ae()(ys,{MuiCssBaseline:{styleOverrides:{":root":{colorScheme:"light"},body:{backgroundColor:"rgb(238,238,238)"}}},MuiAppBar:{styleOverrides:{root:{border:`1px solid ${js.black10}`}}},MuiPaper:{styleOverrides:{elevation2:{background:"linear-gradient(180deg, #FFFFFF 0%, rgba(255, 255, 255, 0.9) 100%)"}}},MuiDialog:{styleOverrides:{paper:{background:"linear-gradient(180deg, #FFFFFF 0%, rgba(255, 255, 255, 0.9) 100%);"}}},MuiDialogTitle:{styleOverrides:{root:{borderBottom:`1px solid ${js.black10}`}}},MuiButton:{...ys?.MuiButton,styleOverrides:{root:{minWidth:0,borderRadius:8,fontWeight:600,whiteSpace:"nowrap","&:hover, &:active":{opacity:.7}},sizeSmall:{...ms.buttonSmall,padding:"8px 24px"},sizeMedium:{...ms.button,padding:"10px 27px"},sizeLarge:{...ms.buttonLarge,padding:"12px 30px"},contained:{color:js.white,boxShadow:"none","&:disabled":{background:js.black20},"&:hover":{boxShadow:"none"}},outlined:{color:js.black,"&:disabled":{borderColor:js.black20,color:js.black20}},text:{"&:disabled":{color:js.black20}},outlinedPrimary:{border:`1px solid ${hs.main}`},textSecondary:{color:js.black,"&:hover":{backgroundColor:js.black05}}}},MuiTableCell:{styleOverrides:{head:{color:js.black70,borderBottom:`1px solid ${js.black40}`},body:{color:js.black,borderBottom:`1px solid ${js.black10}`}}},MuiFormControl:{styleOverrides:{root:{"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:js.black40},"&:hover fieldset":{borderColor:js.black70},"&.Mui-focused fieldset":{borderColor:hs.main,borderWidth:1},"&.Mui-disabled fieldset":{borderColor:js.black20}},"& .MuiSelect-root":{"&:hover":{borderColor:js.black70},"&:disabled":{borderColor:js.black40,color:js.black40}},"& .MuiSelect-icon":{color:js.black40,"&.Mui-disabled":{color:js.black20}},"& .MuiInput-underline":{"&:before":{borderColor:js.black40}},"& .MuiInputAdornment-root":{color:js.black40},"&:hover .MuiInputAdornment-root":{color:js.black70},"& .Mui-disabled .MuiInputAdornment-root":{color:js.black20},"& .Mui-focused .MuiInputAdornment-root":{color:js.black70}}}},MuiInputLabel:{styleOverrides:{outlined:{"&.Mui-disabled":{color:js.black20}}}},MuiCheckbox:{styleOverrides:{root:{padding:5,"&.Mui-disabled":{"& svg":{fill:js.black20}}}}},MuiDivider:{styleOverrides:{light:{borderColor:js.black10}}},MuiAlert:{styleOverrides:{root:{backgroundColor:js.white},standard:{backgroundColor:js.white},standardSuccess:{backgroundColor:bs.success20,color:Cs.text.primary},standardInfo:{backgroundColor:bs.info20,color:Cs.text.primary},standardWarning:{backgroundColor:bs.warning20,color:Cs.text.primary},standardError:{backgroundColor:bs.error20,color:Cs.text.primary}}}}),Ts=(0,se.Z)(ae()(rs,{dark:!1,name:"Solflare Light Theme",typography:ms,semantic:{cardShadow:"0px 15px 30px rgba(0, 0, 0, 0.05)"},palette:Cs,components:Ss})),As={white:"rgba(245, 252, 255)",white02:"rgba(245, 252, 255, 0.02)",white04:"rgba(245, 252, 255, 0.04)",white05:"rgba(245, 252, 255, 0.05)",white07:"rgba(245, 252, 255, 0.07)",white10:"rgba(245, 252, 255, 0.1)",white20:"rgba(245, 252, 255, 0.2)",white40:"rgba(245, 252, 255, 0.4)",white50:"rgba(245, 252, 255, 0.5)",white70:"rgba(245, 252, 255, 0.7)",black:"rgba(0, 0, 0)",black05:"rgba(0, 0, 0, 0.05)",black10:"rgba(0, 0, 0, 0.1)",black20:"rgba(0, 0, 0, 0.2)",black40:"rgba(0, 0, 0, 0.4)",black50:"rgba(0, 0, 0, 0.5)",black60:"rgba(0, 0, 0, 0.6)",black70:"rgba(0, 0, 0, 0.7)"},Is={common:As,primary:{main:"#0F70E6",dark:"#0F70E6",light:"rgba(66, 145, 243, 0.2)"},secondary:{main:As.white05,dark:As.white05,light:"#bebebe"},gradient:{primary:ps,gray:ps,blue:ps},tertiary:{main:"#68A7F4"},border:{main:As.white04,primary:As.white04,secondary:As.white10,select:ps},success:{main:"#3DD28B",main10:ps,main20:ps,main40:ps,main70:ps,background:"rgba(61, 210, 139, 0.073)"},error:{main:"#FF2930",main10:ps,main20:ps,main40:ps,main70:ps,background:"rgba(209, 0, 7, 0.073)"},warning:{main:"#FFEE52",main10:ps,main20:ps,main40:ps,main70:ps,background:"rgba(255, 238, 82, 0.06)"},info:{main:"rgba(104, 167, 244, 1)",main10:ps,main20:ps,main40:ps,main70:ps,background:"#151D29"},context:{success:"#3DD28B",success10:"rgba(26, 188, 156, 0.1)",success20:"rgba(26, 188, 156, 0.2)",success40:"rgba(26, 188, 156, 0.4)",success70:"rgba(26, 188, 156, 0.7)",successBackground:"rgba(61, 210, 139, 0.073)",error:"#FF2930",error10:ps,error20:ps,error40:ps,error70:ps,errorBackground:"rgba(209, 0, 7, 0.073)",warning:"#FFEE52",warning10:ps,warning20:ps,warning40:ps,warning70:ps,warningBackground:"rgba(255, 238, 82, 0.06)",info:"rgba(104, 167, 244, 1)",info10:ps,info20:ps,info40:ps,info70:ps,infoBackground:"#151D29"},background:{main:"#131519",mainExtension:"#0C0E12",card:As.white04,cardSolid:"#1B1D21",cardActive:As.white10,cardHover:As.white07,nftCard:"linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.7) 100%)",itemHover:As.white05,contrast:As.black20,popoverPrimary:"linear-gradient(0deg, rgba(245, 252, 255, 0.06), rgba(245, 252, 255, 0.06)), #131519",popoverSecondary:"linear-gradient(0deg, rgba(245, 252, 255, 0.06), rgba(245, 252, 255, 0.06)), linear-gradient(0deg, rgba(245, 252, 255, 0.06), rgba(245, 252, 255, 0.06)), #131519",modal:"linear-gradient(0deg, rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2)), #0F70E6",counter:As.white10,cardInset:As.white05,switcher:As.white04,switcherElevation1:As.white05,dropdown:As.white05,dropdownElevation1:As.black,dropdownList:"#2E2E33",dropdownListElevation0:"#232328",dropdownItemHover:As.white05,switch:"#39393D",paper:ps,circleContainer:ps,inputField:ps,selectedTab:"#1c1e22",paperBackground:ps,portfolioExpandedItem:ps},semantic:{border:As.white04,borderSecondary:As.white10,iconButtonHover:As.white20,tableRowHover:As.white02,tableRowAlternative:As.white04,iconInactive:As.white50,icon:As.white70,iconSelected:As.white,buttonHover:As.white10,disabledItem:As.white20,disabledSecondary:As.white40,inputAdornment:As.white20,avatar:"rgba(104, 167, 244, 0.1)",switchTrack:"#39393D",navItemColor:As.white50,navItemActiveColor:As.white,navItemHoverColor:As.white70},text:{primary:As.white,secondary:As.white40,tertiary:As.white70,disabled:As.white70}},Zs=["-apple-system","Inter","BlinkMacSystemFont",'"Segoe UI"','"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),Ms={light:300,normal:400,medium:500,semibold:600,bold:700},Ps=(e="100%",t=14,s="normal",n=0,a="none")=>({fontFamily:Zs,fontWeight:Ms[s],fontSize:t,lineHeight:e,letterSpacing:n,textTransform:a,fontVariantLigatures:"no-contextual"}),Ds=(Ps("36px",30,"semibold"),Ps("28px",20,"semibold"),Ps("24px",20),Ps("16px",12),Ps("20px",16),Ps("16px",14),Ps("12px",14,"semibold",0),Ps("14px",16,"semibold",0),Ps("16px",16,"semibold",0),Ps("1.5",16),Ps("20px",16),{fontFamily:Zs,h1:Ps("36px",30,"semibold"),h2:Ps("30px",24,"semibold"),h2Foundation:Ps("30px",24,"semibold"),h3:Ps("28px",20,"semibold"),h4:Ps("24px",20),h5:Ps("20px",16,"semibold"),bodyL:Ps("30px",18),bodyM:Ps("20px",16),bodyS:Ps("16px",14),label:Ps("16px",12),buttonL:Ps("20px",16,"semibold",0),buttonM:Ps("20px",16,"semibold",0),buttonS:Ps("16px",14,"semibold",0),body1:Ps("20px",16),body2:Ps("16px",14),buttonSmall:Ps("12px",14,"semibold",0),button:Ps("14px",16,"semibold",0),buttonLarge:Ps("16px",16,"semibold",0),input:Ps("1.5",16),caption:{...Ps("20px",16),wordBreak:"break-all"}}),Bs={MuiCssBaseline:{styleOverrides:{":root":{colorScheme:"dark"},body:{...Ds.bodyS,background:Is.background.mainExtension,[rs.breakpoints.down("md")]:{background:Is.background.main}}}},MuiAppBar:{styleOverrides:{root:{height:110,boxShadow:"none",border:`1px solid ${Is.semantic.borderSecondary}`,display:"flex",justifyContent:"center",marginBottom:30}}},MuiToolbar:{styleOverrides:{root:{display:"flex",justifyContent:"space-between"}}},MuiPaper:{styleOverrides:{root:{},outlined:{borderRadius:10,backgroundColor:"transparent",borderColor:Is.semantic.borderSecondary}}},MuiPopover:{styleOverrides:{paper:{background:Is.background.popoverPrimary}}},MuiTypography:{defaultProps:{variant:"bodyM",variantMapping:{bodyL:"p",bodyM:"p",bodyS:"p",label:"p",inherit:"p"}}},MuiButtonBase:{defaultProps:{disableRipple:!0},styleOverrides:{root:{fontFamily:Ds.fontFamily}}},MuiButton:{defaultProps:{disableElevation:!0},styleOverrides:{root:{minWidth:0,borderRadius:8,whiteSpace:"nowrap","&:hover, &:active":{opacity:.7}},sizeSmall:{...Ds.buttonS,padding:"0px 24px",height:32,textTransform:"capitalize"},sizeMedium:{...Ds.buttonM,padding:"0px 27px",height:38,textTransform:"capitalize"},sizeLarge:{...Ds.buttonL,padding:"0px 27px",height:44,textTransform:"capitalize"},contained:{color:Is.text.primary,"&:hover":{opacity:1,color:Is.common.white},"&:disabled":{background:Is.common.white05,backgroundColor:"none",color:Is.semantic.disabledSecondary}},containedPrimary:{"&:hover":{background:Is.background.modal}},containedSecondary:{"&:hover":{background:Is.semantic.buttonHover}},outlined:{border:`1px solid ${Is.primary.main}`,color:Is.text.primary,"&:hover, &:active":{border:`1px solid ${Is.primary.main}`},"&:disabled":{borderColor:Is.semantic.disabledItem,color:Is.semantic.disabledItem}},text:{color:Is.text.primary,"&:disabled":{color:Is.semantic.disabledItem},"&:hover":{backgroundColor:"transparent"}},startIcon:{color:Is.tertiary.main},endIcon:{color:Is.tertiary.main},textSecondary:{color:Is.text.primary}}},MuiTab:{styleOverrides:{root:{padding:"6px 12px",minWidth:160}}},MuiTableCell:{styleOverrides:{head:{...Ds.label,color:Is.text.tertiary,borderBottom:`1px solid ${Is.semantic.border}`,padding:"8px 16px"},body:{...Ds.bodyS,borderBottom:"none",padding:16}}},MuiTableRow:{styleOverrides:{root:{"&:nth-of-type(even)":{backgroundColor:Is.semantic.tableRowAlternative},"&:hover":{backgroundColor:`${Is.semantic.tableRowHover} !important`}},head:{"&:hover":{backgroundColor:"transparent !important"}}}},MuiDivider:{styleOverrides:{root:{marginTop:0,marginBottom:0},light:{borderColor:Is.semantic.borderSecondary},middle:{marginLeft:16,marginRight:16}}},MuiAccordion:{styleOverrides:{root:{position:"relative",background:"none",boxShadow:"none",transition:"background 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms","&:before":{margin:"0 30px"},"&$expanded":{margin:0,background:"inherit",boxShadow:"inherit"}}}},MuiAccordionSummary:{styleOverrides:{root:{padding:"0 30px"},content:{margin:"23px 0"}}},MuiAccordionDetails:{styleOverrides:{root:{padding:"8px 30px 30px"}}},MuiDialog:{styleOverrides:{root:{backdropFilter:"blur(20px)"},paper:{background:Is.background.main,padding:24,overflowY:"unset",borderRadius:10,[rs.breakpoints.down("sm")]:{padding:16}},paperFullScreen:{borderRadius:0,"& .MuiDialogTitle-root":{textAlign:"center",borderBottom:"none",padding:"0 36px"},"& .MuiDialogTitle-root > .MuiButtonBase-root":{position:"absolute",left:16,top:12,padding:8,right:"auto",color:Is.primary.main,borderRadius:8,"&:hover":{background:Is.semantic.buttonHover}}}}},MuiDialogTitle:{styleOverrides:{root:{...Ds.bodyS,padding:0,paddingBottom:8,"& > .MuiButtonBase-root":{position:"absolute",top:-32,right:-32,color:Is.text.tertiary},[rs.breakpoints.down("sm")]:{paddingBottom:16}}}},MuiDialogContent:{styleOverrides:{root:{paddingTop:24,paddingLeft:0,paddingRight:0,paddingBottom:0,overflowX:"unset",overflowY:"auto",[`.${oe.Z.root} + &`]:{paddingTop:12,[rs.breakpoints.down("sm")]:{paddingTop:20}}}}},MuiDialogActions:{styleOverrides:{root:{padding:"8px 0 0"}}},MuiCheckbox:{styleOverrides:{root:{padding:"0 14.5px 0 6.5px","&.Mui-disabled":{"& svg":{fill:Is.semantic.disabledItem}}}}},MuiInputBase:{defaultProps:{autoComplete:"off"},styleOverrides:{root:{height:"unset"}}},MuiFormControl:{defaultProps:{size:"small"},styleOverrides:{root:({ownerState:e})=>({marginTop:16,"& legend":{display:"none"},"& fieldset":{top:0},"& .MuiOutlinedInput-input":{padding:"large"===e.size?"12.5px 14px":"9.5px 14px"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:Is.semantic.borderSecondary,borderRadius:8},"&:hover fieldset":{borderColor:Is.semantic.borderSecondary},"&.Mui-focused fieldset":{borderColor:Is.semantic.borderSecondary,borderWidth:1},"&.Mui-disabled fieldset":{borderColor:Is.semantic.borderSecondary}},"& .MuiSelect-root":{"&:hover":{borderColor:Is.text.tertiary},"&:disabled":{borderColor:Is.semantic.disabledSecondary,color:Is.semantic.disabledSecondary}},"& .MuiSelect-icon":{color:Is.semantic.iconInactive,"&.Mui-disabled":{color:Is.semantic.disabledItem}},"& .MuiInput-underline":{"&:before":{borderColor:Is.text.secondary}},"& .MuiInputAdornment-root":{color:Is.text.secondary},"&:hover .MuiInputAdornment-root":{color:Is.text.tertiary},"& .Mui-disabled .MuiInputAdornment-root":{color:Is.semantic.disabledItem},"& .Mui-focused .MuiInputAdornment-root":{color:Is.text.tertiary}})}},MuiFormHelperText:{styleOverrides:{root:{"&.Mui-error":{...Ds.label,marginLeft:0}}}},MuiInput:{defaultProps:{disableUnderline:!0}},MuiInputLabel:{defaultProps:{shrink:!0,focused:!1},styleOverrides:{formControl:{...Ds.label},outlined:{"&.Mui-error":{color:Is.semantic.disabledSecondary},"&.Mui-disabled":{color:Is.semantic.disabledItem},transform:"translateY(-20px) scale(1)"}}},MuiOutlinedInput:{styleOverrides:{root:{borderRadius:"8px",borderColor:Is.semantic.borderSecondary,backgroundColor:Is.background.contrast,"&.Mui-focused":{boxShadow:"none",borderColor:Is.primary.main}}}},MuiTooltip:{defaultProps:{arrow:!0},styleOverrides:{tooltip:{...Ds.label,backgroundColor:Is.common.black},arrow:{color:Is.common.black}}},MuiSwitch:{styleOverrides:{sizeSmall:{padding:"2px"},sizeMedium:{padding:"7px"},switchBase:{color:Is.semantic.icon,"&.Mui-disabled":{color:Is.semantic.icon},"&.Mui-checked":{color:Is.semantic.icon},"&.Mui-checked.Mui-disabled":{color:Is.semantic.disabledSecondary}},track:{borderRadius:20,opacity:1,backgroundColor:Is.semantic.switchTrack,".Mui-checked.Mui-checked + &":{opacity:1,backgroundColor:Is.tertiary.main},".Mui-disabled.Mui-disabled + &":{opacity:.7,backgroundColor:Is.semantic.switchTrack}}}},MuiAlert:{defaultProps:{iconMapping:{error:(0,m.createElement)(a.G,{icon:L.xHz}),info:(0,m.createElement)(a.G,{icon:L.DBf}),warning:(0,m.createElement)(a.G,{icon:L.xHz})}},styleOverrides:{root:{padding:"8px 12px",...Ds.label},icon:{fontSize:20,opacity:1,marginRight:8,paddingTop:0},message:{padding:0},outlined:{color:Is.text.primary,borderColor:Is.semantic.borderSecondary,borderRadius:10},outlinedError:{"& .MuiAlertTitle-root, & .MuiAlert-icon":{color:Is.error.main}},outlinedInfo:{"& .MuiAlertTitle-root, & .MuiAlert-icon":{color:Is.info.main}},outlinedWarning:{"& .MuiAlertTitle-root, & .MuiAlert-icon":{color:Is.warning.main}},outlinedSuccess:{"& .MuiAlertTitle-root, & .MuiAlert-icon":{color:Is.success.main}}}},MuiAlertTitle:{defaultProps:{variant:"label"},styleOverrides:{root:{fontWeight:600,marginTop:0,marginBottom:2}}},MuiCard:{styleOverrides:{root:{background:Is.background.card,border:Is.semantic.border}}}},Es={solflareDarkTheme:ws,solflareLightTheme:Ts,riseTheme:(0,se.Z)(rs,{dark:!0,name:"Rise Dark Theme",palette:Is,semantic:{cardShadow:"none"},components:Bs,typography:Ds})},Os=(0,ee.Z)({productionPrefix:"jssSolrise"}),Ls=({theme:e,children:t})=>{const s=(0,m.useMemo)((()=>Es[e]),[e]);return(0,r.jsx)(te.ZP,{injectFirst:!0,generateClassName:Os,children:(0,r.jsx)(J.Z,{injectFirst:!0,children:(0,r.jsx)(X.Z,{theme:s,children:t})})})},Ns=e=>{const t=new URL(e);return""===t.hash?t.pathname.split("/").pop():t.hash.split("/").pop()},Rs=(e=!1)=>{const[t,s]=(0,m.useState)(e);return{isOpen:t,open:()=>s(!0),close:()=>s(!1),toggle:()=>s((e=>!e))}}},"../../libs/shared/dist/components/Icons/IconClip.js":(e,t,s)=>{"use strict";s.d(t,{d:()=>o});var n=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/@mui/material/SvgIcon/SvgIcon.js");const o=e=>(0,n.jsx)(a.Z,{...e,children:(0,n.jsx)("path",{d:"M16.5 6.74999V17.33C16.5 19.42 14.97 21.28 12.89 21.48C10.5 21.71 8.5 19.84 8.5 17.5V5.13999C8.5 3.82999 9.44 2.63999 10.74 2.50999C12.24 2.35999 13.5 3.52999 13.5 4.99999V15.5C13.5 16.05 13.05 16.5 12.5 16.5C11.95 16.5 11.5 16.05 11.5 15.5V6.74999C11.5 6.33999 11.16 5.99999 10.75 5.99999C10.34 5.99999 10 6.33999 10 6.74999V15.36C10 16.67 10.94 17.86 12.24 17.99C13.74 18.14 15 16.97 15 15.5V5.16999C15 3.07999 13.47 1.21999 11.39 1.01999C9.01 0.789993 7 2.65999 7 4.99999V17.27C7 20.14 9.1 22.71 11.96 22.98C15.25 23.28 18 20.72 18 17.5V6.74999C18 6.33999 17.66 5.99999 17.25 5.99999C16.84 5.99999 16.5 6.33999 16.5 6.74999Z"})})},"../../libs/shared/dist/components/Icons/IconKeystone.js":(e,t,s)=>{"use strict";s.d(t,{U:()=>o});var n=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/@mui/material/SvgIcon/SvgIcon.js");const o=e=>(0,n.jsxs)(a.Z,{...e,viewBox:"18 18 50 50",children:[(0,n.jsx)("path",{d:"M41.0085945,48.778948 C41.2360681,48.9112688 41.4457322,49.0720682 41.6325097,49.2574522 L49.2185789,56.786927 C50.8721152,58.4281274 50.8821154,61.0990393 49.240915,62.7525756 C49.2301043,62.7634675 49.2192343,62.7743004 49.2083054,62.7850737 L48.0907648,63.8867034 C46.9372807,65.0237647 45.1974733,65.321678 43.7313913,64.6331741 L35.360307,60.701931 C33.42679,59.7939093 32.5954617,57.4903871 33.5034833,55.5568701 C33.5516101,55.4543903 33.6042133,55.3540731 33.661141,55.2562082 L36.7781425,49.8977512 C37.6374006,48.4205951 39.5314384,47.9196899 41.0085945,48.778948 Z M44.3106765,20.3112406 C44.661798,20.5140267 44.9536598,20.8052708 45.1571894,21.1559618 L46.6358418,23.7037492 C47.3332793,24.9054666 47.3325454,26.3889405 46.6339192,27.5899672 L30.1056085,56.0042228 C29.7768415,56.5694149 29.0521444,56.7610753 28.4869523,56.4323083 C28.3109228,56.3299135 28.1642815,56.183844 28.0611999,56.0082158 C27.3806266,54.8486693 26.8612304,53.6017931 26.5173448,52.3019966 L26.2482637,51.284941 C25.7439909,49.3789233 26.0144008,47.3508023 27.0004399,45.6434882 L41.1404653,21.1602172 C41.7814566,20.0503491 43.2008085,19.6702494 44.3106765,20.3112406 Z M50.8751117,31.8169799 C51.339613,32.0871693 51.7257415,32.4736708 51.9954824,32.9384327 L55.2370099,38.5235642 C56.0948182,40.0015626 55.5920549,41.8951081 54.1140565,42.7529164 C53.6422304,43.0267573 53.1063922,43.1709877 52.5608571,43.1709877 L45.3981588,43.1709877 C43.9028777,43.1709877 42.6907128,41.9588228 42.6907128,40.4635416 C42.6907128,39.9853119 42.8173833,39.5156148 43.0578382,39.1022322 L46.6446774,32.9358499 C47.5039121,31.4586803 49.3979421,30.9577451 50.8751117,31.8169799 Z"}),(0,n.jsx)("path",{d:"M60.7454926,48.014753 C61.4839531,49.2871285 61.2678338,50.8979706 60.2201077,51.9307016 L56.6151716,55.4840441 C55.2565811,56.8231904 53.0732619,56.8194064 51.7193215,55.4755589 L45.3560138,49.159686 C44.5979626,48.4072857 44.5933817,47.1828228 45.345782,46.4247716 C45.7088639,46.0589629 46.202948,45.8532229 46.7183551,45.8532229 L56.991785,45.8532229 C58.5388375,45.8532229 59.9689285,46.6767247 60.7454926,48.014753 Z"})]})},"../../libs/shared/dist/components/Icons/IconLedger.js":(e,t,s)=>{"use strict";s.d(t,{S:()=>o});var n=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/@mui/material/SvgIcon/SvgIcon.js");const o=e=>(0,n.jsxs)(a.Z,{...e,children:[(0,n.jsx)("path",{d:"M5.75078 6.17553C4.54853 6.06967 3.54164 7.07779 3.65185 8.28753C3.732 9.215 4.4784 9.96605 5.40013 10.0467C6.60238 10.1526 7.60927 9.14444 7.49906 7.93469C7.4139 7.00218 6.67251 6.25618 5.75078 6.17553ZM5.67063 9.29565C4.94427 9.35614 4.33814 8.74623 4.39825 8.01534C4.44333 7.44071 4.90921 6.97194 5.48028 6.92657C6.20664 6.86609 6.81277 7.476 6.75266 8.20689C6.70257 8.78151 6.2417 9.24525 5.67063 9.29565Z"}),(0,n.jsx)("path",{d:"M24 3.42845C24 3.19154 23.8096 3 23.5742 3H5.09956C2.40952 3 0.195366 5.11201 0.0100188 7.77345L0 8.37328C0.120225 11.1003 2.36443 13.2778 5.09956 13.2778H7.28867L19.2461 20.7984C19.8673 21.1865 20.6888 20.995 21.0745 20.3699C23.5993 16.2719 24.4408 15.8384 22.5573 14.5329C21.886 14.0692 20.4734 13.2526 19.0708 12.3705L23.5742 12.3604C23.8096 12.3604 24 12.1689 24 11.932V3.42845ZM5.09956 12.5217C2.80526 12.5217 0.916719 10.7222 0.756418 8.45393H2.10895C2.22417 9.48222 2.79023 10.4551 3.732 11.0398L6.08641 12.5217H5.09956ZM22.5322 15.4755C22.8028 15.6418 22.8879 15.9997 22.7176 16.2719L20.4383 19.9717C20.273 20.2439 19.9173 20.3246 19.6468 20.1582C19.6468 20.1582 4.82905 10.8381 4.12774 10.3996C2.85034 9.59815 2.4546 7.89947 3.2511 6.60907C4.04759 5.31364 5.73576 4.92047 7.01816 5.72193C13.4602 9.76953 16.1152 11.443 22.5322 15.4755ZM21.6907 11.6043H17.8635L12.8591 8.45393H21.6907V11.6043ZM21.6907 7.69784H11.5817L7.4139 5.07673C5.19975 3.6956 2.35942 5.15234 2.10394 7.69784H0.766437C0.98685 5.49006 2.85034 3.75609 5.09956 3.75609H21.6907V7.69784ZM23.2987 11.6043H22.4922V3.79137H23.2987V11.6043Z"})]})},"../../libs/shared/dist/components/Icons/NoApp.js":(e,t,s)=>{"use strict";s.d(t,{F:()=>a});var n=s("../../../node_modules/react/jsx-runtime.js");const a=()=>(0,n.jsxs)("svg",{width:"156",height:"147",viewBox:"0 0 156 147",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsxs)("g",{clipPath:"url(#clip0_951_51113)",children:[(0,n.jsx)("g",{opacity:"0.7",filter:"url(#filter0_d_951_51113)",children:(0,n.jsx)("rect",{y:"37.3193",width:"144.191",height:"61.9101",rx:"15.0931",transform:"rotate(-15 0 37.3193)",fill:"url(#paint0_linear_951_51113)"})}),(0,n.jsxs)("g",{filter:"url(#filter1_d_951_51113)",children:[(0,n.jsx)("path",{d:"M58.8134 54.3961C61.5219 64.5045 55.51 74.8132 45.4728 77.5027C35.3644 80.2112 25.0747 74.2705 22.3662 64.1621C19.6767 54.1249 25.5984 43.764 35.7068 41.0555C45.744 38.366 56.1239 44.3589 58.8134 54.3961Z",fill:"#F5FCFF",fillOpacity:"0.25"}),(0,n.jsxs)("g",{filter:"url(#filter2_d_951_51113)",children:[(0,n.jsx)("path",{d:"M76.1244 57.8779L108.345 49.2444L76.1244 57.8779Z",fill:"#F5FCFF",fillOpacity:"0.35"}),(0,n.jsx)("path",{d:"M76.1244 57.8779L108.345 49.2444",stroke:"white",strokeOpacity:"0.25",strokeWidth:"8.8144",strokeLinecap:"round"})]}),(0,n.jsxs)("g",{filter:"url(#filter3_d_951_51113)",children:[(0,n.jsx)("path",{d:"M72.3688 43.8677L129.064 28.6763Z",fill:"#F5FCFF",fillOpacity:"0.35"}),(0,n.jsx)("path",{d:"M72.3688 43.8677L129.064 28.6763",stroke:"white",strokeOpacity:"0.25",strokeWidth:"8.8144",strokeLinecap:"round"})]})]}),(0,n.jsx)("g",{filter:"url(#filter4_d_951_51113)",children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M97.8972 68.8018C84.2858 68.8018 73.2516 79.836 73.2516 93.4473C73.2516 107.059 84.2858 118.093 97.8972 118.093C111.509 118.093 122.543 107.059 122.543 93.4473C122.543 79.836 111.509 68.8018 97.8972 68.8018ZM67.8409 93.4473C67.8409 76.8477 81.2976 63.3911 97.8972 63.3911C114.497 63.3911 127.953 76.8477 127.953 93.4473C127.953 101.61 124.699 109.013 119.418 114.429L124.185 119.197C125.303 118.896 126.548 119.182 127.421 120.055L148.672 141.305C149.97 142.604 149.97 144.728 148.672 146.026C147.373 147.325 145.249 147.325 143.951 146.026L122.7 124.776C121.823 123.908 121.532 122.677 121.828 121.564L116.954 116.691C111.768 120.948 105.131 123.504 97.8972 123.504C81.2976 123.504 67.8409 110.047 67.8409 93.4473Z",fill:"#606567"})})]}),(0,n.jsxs)("defs",{children:[(0,n.jsxs)("filter",{id:"filter0_d_951_51113",x:"-29.5585",y:"-13.0852",width:"214.418",height:"156.237",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,n.jsx)("feOffset",{dy:"16.4734"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"16.4734"}),(0,n.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0"}),(0,n.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_951_51113"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_951_51113",result:"shape"})]}),(0,n.jsxs)("filter",{id:"filter1_d_951_51113",x:"-27.7963",y:"1.62834",width:"206.548",height:"148.677",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,n.jsx)("feOffset",{dy:"22.6397"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"22.6397"}),(0,n.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0"}),(0,n.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_951_51113"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_951_51113",result:"shape"})]}),(0,n.jsxs)("filter",{id:"filter2_d_951_51113",x:"38.7693",y:"28.3626",width:"106.931",height:"83.3437",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,n.jsx)("feOffset",{dy:"16.4734"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"16.4734"}),(0,n.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0"}),(0,n.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_951_51113"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_951_51113",result:"shape"})]}),(0,n.jsxs)("filter",{id:"filter3_d_951_51113",x:"35.0137",y:"7.79469",width:"131.405",height:"89.9013",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,n.jsx)("feOffset",{dy:"16.4734"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"16.4734"}),(0,n.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0"}),(0,n.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_951_51113"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_951_51113",result:"shape"})]}),(0,n.jsxs)("filter",{id:"filter4_d_951_51113",x:"45.8912",y:"52.4163",width:"125.704",height:"127.508",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,n.jsx)("feOffset",{dy:"10.9749"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"10.9749"}),(0,n.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0"}),(0,n.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_951_51113"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_951_51113",result:"shape"})]}),(0,n.jsxs)("linearGradient",{id:"paint0_linear_951_51113",x1:"72.0954",y1:"37.3193",x2:"72.0954",y2:"99.2295",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#F5FCFF",stopOpacity:"0.4"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#F5FCFF",stopOpacity:"0.2"})]}),(0,n.jsx)("clipPath",{id:"clip0_951_51113",children:(0,n.jsx)("rect",{width:"155.301",height:"147",fill:"white"})})]})]})},"../../libs/shared/dist/components/Icons/NoStake.js":(e,t,s)=>{"use strict";s.d(t,{L:()=>a});var n=s("../../../node_modules/react/jsx-runtime.js");const a=()=>(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"232",height:"265",fill:"none",children:[(0,n.jsxs)("g",{filter:"url(#a)",children:[(0,n.jsx)("path",{fill:"url(#b)",d:"M61 211H31v9h30v-9z"}),(0,n.jsx)("path",{fill:"#fff",fillOpacity:"0.4",d:"M61 220H31v-9h30v9zm-27.6-2.5h25v-4h-25v4z"}),(0,n.jsx)("path",{fill:"#fff",d:"M58.5 213.5h-2.6v4h2.6v-4z"})]}),(0,n.jsx)("path",{fill:"url(#c)",d:"M115.4 116a14 14 0 100-28 14 14 0 000 28z"}),(0,n.jsx)("path",{fill:"#fff",fillOpacity:"0.2",d:"M115.4 116a14 14 0 010-28 14 14 0 010 28zm0-25.7a11.7 11.7 0 100 23.4 11.7 11.7 0 000-23.4z"}),(0,n.jsx)("path",{fill:"#fff",fillOpacity:"0.7",d:"M124.2 105.3a9.5 9.5 0 10-17.7-6.6 9.5 9.5 0 0017.7 6.6z"}),(0,n.jsx)("g",{filter:"url(#d)",children:(0,n.jsx)("path",{fill:"url(#e)",fillRule:"evenodd",d:"M131.7 102.2c28 6.5 48.7 27.6 48.7 52.7 0 17.5-10 33-25.6 43l-5.5 20.3h-24.8l-1.4-9.1a85.6 85.6 0 01-18.9 0l-1.4 9.1H78l-5.4-19.9a60.9 60.9 0 01-15.8-14.1 27 27 0 01-10 3.6c-1.3.2-2.8-.2-3.8-1a35 35 0 01-10.4-25 4 4 0 012.5-4 39 39 0 0011.5-7.3c1.3-13.7 8.8-26 20.2-35L61 97a21 21 0 0123.5 8.4c4.8-1.9 10-3.3 15.3-4.2l2 4.6a102.4 102.4 0 0127.5.7l2.4-4.3z",clipRule:"evenodd"})}),(0,n.jsx)("path",{fill:"gray",fillOpacity:"0.7",d:"M196.7 135.2c-.8-.2-1.8.3-2 1.2-.6 2-1.5 4-2.7 5.3-.4-2-1.8-4-3.5-5.1a4.4 4.4 0 00-4.5 0 5.1 5.1 0 00-1 8.2c.9.9 2.2 1.5 3.7 1.9l-1.5 1c-1.8.7-4.2.8-6.7.2l-.8 3.3c1.1.3 2.5.5 4 .5 1.6 0 3.4-.2 5-1 2.1-.9 3.8-2.4 4.7-4.3 4-1.4 5.9-6.3 6.7-9 .3-1-.3-2-1.4-2.2zm-8 8.2c-1.3 0-2.5-.4-3.2-1-.3-.4-.7-1-.3-2.1.2-.4.3-.7.5-.7l.4-.2c.2 0 .3 0 .5.2 1.1.7 2.1 2.8 2 3.7v.1z"}),(0,n.jsx)("path",{fill:"#fff",fillOpacity:"0.4",d:"M160.5 131.8c2.3-4.4-3.7-12-13.4-17-9.6-5-19.3-5.5-21.6-1-2.3 4.4 3.6 12 13.3 17 9.7 5 19.4 5.5 21.7 1z",opacity:"0.2"}),(0,n.jsx)("path",{fill:"#fff",fillOpacity:"0.4",d:"M62.8 147.5a3.9 3.9 0 100-7.8 3.9 3.9 0 000 7.8z"}),(0,n.jsxs)("g",{opacity:"0.4",children:[(0,n.jsx)("path",{fill:"url(#f)",d:"M113.5 28.1a14 14 0 100-28.1 14 14 0 000 28.1z"}),(0,n.jsx)("path",{fill:"#fff",fillOpacity:"0.2",d:"M113.5 28.1a14 14 0 010-28.1 14 14 0 010 28.1zm0-25.8a11.7 11.7 0 100 23.5 11.7 11.7 0 000-23.5z"}),(0,n.jsx)("path",{fill:"#fff",fillOpacity:"0.7",d:"M122.5 17a9.5 9.5 0 10-18-5.9 9.5 9.5 0 0018 6z"})]}),(0,n.jsxs)("g",{opacity:"0.6",children:[(0,n.jsx)("path",{fill:"url(#g)",d:"M136.4 61.8a14 14 0 100-28 14 14 0 000 28z"}),(0,n.jsx)("path",{fill:"#fff",fillOpacity:"0.7",d:"M145.9 48.1a9.5 9.5 0 10-19-.5 9.5 9.5 0 0019 .5z"}),(0,n.jsx)("path",{fill:"#fff",fillOpacity:"0.2",d:"M136.4 61.8a14 14 0 010-27.9 14 14 0 010 27.9zm0-25.6a11.6 11.6 0 100 23.2 11.6 11.6 0 000-23.2z"})]}),(0,n.jsxs)("g",{opacity:"0.8",children:[(0,n.jsx)("path",{fill:"url(#h)",d:"M104 79.8a14 14 0 100-28 14 14 0 000 28z"}),(0,n.jsx)("path",{fill:"#fff",fillOpacity:"0.2",d:"M104 79.8a14 14 0 010-28 14 14 0 010 28zm0-25.8a11.7 11.7 0 10.1 23.5 11.7 11.7 0 000-23.5z"}),(0,n.jsx)("path",{fill:"#fff",fillOpacity:"0.7",d:"M104 75.2a9.5 9.5 0 100-19 9.5 9.5 0 000 19z"})]}),(0,n.jsxs)("g",{opacity:"0.7",children:[(0,n.jsx)("path",{fill:"url(#i)",d:"M165.6 209.2h-30v9h30v-9z"}),(0,n.jsx)("path",{fill:"#fff",fillOpacity:"0.2",d:"M165.7 218.2h-30.1v-9h30v9zm-27.7-2.5h25v-4h-25v4z"}),(0,n.jsx)("path",{fill:"#fff",d:"M163 211.7h-2.5v4h2.6v-4z"}),(0,n.jsxs)("g",{filter:"url(#j)",children:[(0,n.jsx)("path",{fill:"url(#k)",d:"M168.9 202.6h-30v9.1h30v-9z"}),(0,n.jsx)("path",{fill:"#fff",fillOpacity:"0.2",d:"M169 211.7h-30.2v-9H169v9zm-27.6-2.5h25v-4h-25v4z"}),(0,n.jsx)("path",{fill:"#fff",fillOpacity:"0.7",d:"M166.4 205.1h-2.6v4h2.6v-4z"})]}),(0,n.jsxs)("g",{filter:"url(#l)",children:[(0,n.jsx)("path",{fill:"url(#m)",d:"M201 209.2h-30v9h30v-9z"}),(0,n.jsx)("path",{fill:"#fff",fillOpacity:"0.2",d:"M201 218.2h-30v-9h30v9zm-27.6-2.5h25v-4h-25v4z"}),(0,n.jsx)("path",{fill:"#fff",d:"M198.5 211.7h-2.6v4h2.6v-4z"})]}),(0,n.jsxs)("g",{filter:"url(#n)",children:[(0,n.jsx)("path",{fill:"url(#o)",d:"M199 201.7l-29.4-6.9-2 8.8 29.3 7 2-8.9z"}),(0,n.jsx)("path",{fill:"#fff",fillOpacity:"0.2",d:"M196.8 210.6l-29.2-7 2-8.8 29.3 7-2 8.8zm-26.2-8.8l24.4 5.7 1-3.8-24.5-5.8-1 3.9z"}),(0,n.jsx)("path",{fill:"#fff",d:"M196 203.7l-2.6-.6-.9 3.9 2.5.6 1-4z"})]}),(0,n.jsxs)("g",{filter:"url(#p)",children:[(0,n.jsx)("path",{fill:"url(#q)",d:"M167.6 196.2h-30.1v9h30v-9z"}),(0,n.jsx)("path",{fill:"#fff",fillOpacity:"0.2",d:"M167.6 205.3h-30.1v-9.1h30v9zm-27.7-2.6h25v-4h-25v4z"}),(0,n.jsx)("path",{fill:"#fff",fillOpacity:"0.7",d:"M165 198.7h-2.6v4h2.6v-4z"})]})]}),(0,n.jsx)("path",{fill:"url(#r)",d:"M165.6 209.2h-30v9h30v-9z"}),(0,n.jsx)("path",{fill:"#fff",fillOpacity:"0.2",d:"M165.7 218.2h-30.1v-9h30v9zm-27.7-2.5h25v-4h-25v4z"}),(0,n.jsx)("path",{fill:"#fff",d:"M163 211.7h-2.5v4h2.6v-4z"}),(0,n.jsxs)("g",{filter:"url(#s)",children:[(0,n.jsx)("path",{fill:"url(#t)",d:"M168.9 202.6h-30v9.1h30v-9z"}),(0,n.jsx)("path",{fill:"#fff",fillOpacity:"0.4",d:"M169 211.7h-30.2v-9H169v9zm-27.6-2.5h25v-4h-25v4z"}),(0,n.jsx)("path",{fill:"#fff",fillOpacity:"0.7",d:"M166.4 205.1h-2.6v4h2.6v-4z"})]}),(0,n.jsxs)("g",{filter:"url(#u)",children:[(0,n.jsx)("path",{fill:"url(#v)",d:"M201 209.2h-30v9h30v-9z"}),(0,n.jsx)("path",{fill:"#fff",fillOpacity:"0.2",d:"M201 218.2h-30v-9h30v9zm-27.6-2.5h25v-4h-25v4z"}),(0,n.jsx)("path",{fill:"#fff",d:"M198.5 211.7h-2.6v4h2.6v-4z"})]}),(0,n.jsxs)("g",{filter:"url(#w)",children:[(0,n.jsx)("path",{fill:"url(#x)",d:"M199 201.7l-29.4-6.9-2 8.8 29.3 7 2-8.9z"}),(0,n.jsx)("path",{fill:"#fff",fillOpacity:"0.4",d:"M196.8 210.6l-29.2-7 2-8.8 29.3 7-2 8.8zm-26.2-8.8l24.4 5.7 1-3.8-24.5-5.8-1 3.9z"}),(0,n.jsx)("path",{fill:"#fff",d:"M196 203.7l-2.6-.6-.9 3.9 2.5.6 1-4z"})]}),(0,n.jsxs)("g",{filter:"url(#y)",children:[(0,n.jsx)("path",{fill:"url(#z)",d:"M167.6 196.2h-30.1v9h30v-9z"}),(0,n.jsx)("path",{fill:"#fff",fillOpacity:"0.4",d:"M167.6 205.3h-30.1v-9.1h30v9zm-27.7-2.6h25v-4h-25v4z"}),(0,n.jsx)("path",{fill:"#fff",fillOpacity:"0.7",d:"M165 198.7h-2.6v4h2.6v-4z"})]}),(0,n.jsxs)("g",{filter:"url(#A)",children:[(0,n.jsx)("path",{fill:"url(#B)",d:"M99.6 209.1h-30v9h30v-9z"}),(0,n.jsx)("path",{fill:"#fff",fillOpacity:"0.4",d:"M99.7 218.2H69.6v-9h30v9zM72 215.7h25v-4H72v4z"}),(0,n.jsx)("path",{fill:"#fff",fillOpacity:"0.7",d:"M97.1 211.6h-2.5v4H97v-4z"})]}),(0,n.jsxs)("g",{filter:"url(#C)",children:[(0,n.jsx)("path",{fill:"url(#D)",d:"M94 202H64v9h30v-9z"}),(0,n.jsx)("path",{fill:"#fff",fillOpacity:"0.4",d:"M94 211.1H64V202h30v9.1zm-27.5-2.5h25v-4h-25v4z"}),(0,n.jsx)("path",{fill:"#fff",fillOpacity:"0.7",d:"M91.5 204.5H89v4h2.6v-4z"})]}),(0,n.jsxs)("defs",{children:[(0,n.jsxs)("linearGradient",{id:"b",x1:"46",x2:"46",y1:"211",y2:"220",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"gray",stopOpacity:"0.7"}),(0,n.jsx)("stop",{offset:"1",stopColor:"gray",stopOpacity:"0.3"})]}),(0,n.jsxs)("linearGradient",{id:"c",x1:"115.4",x2:"115.4",y1:"88.1",y2:"115.9",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"gray"}),(0,n.jsx)("stop",{offset:"1",stopColor:"gray",stopOpacity:"0.5"})]}),(0,n.jsxs)("linearGradient",{id:"e",x1:"106.5",x2:"106.5",y1:"96.1",y2:"218.2",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#959595"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#757575"})]}),(0,n.jsxs)("linearGradient",{id:"f",x1:"113.5",x2:"113.5",y1:"0",y2:"28.1",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"gray"}),(0,n.jsx)("stop",{offset:"1",stopColor:"gray",stopOpacity:"0.5"})]}),(0,n.jsxs)("linearGradient",{id:"g",x1:"136.5",x2:"136.5",y1:"33.9",y2:"61.8",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"gray"}),(0,n.jsx)("stop",{offset:"1",stopColor:"gray",stopOpacity:"0.5"})]}),(0,n.jsxs)("linearGradient",{id:"h",x1:"104",x2:"104",y1:"51.8",y2:"79.8",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"gray"}),(0,n.jsx)("stop",{offset:"1",stopColor:"gray",stopOpacity:"0.5"})]}),(0,n.jsxs)("linearGradient",{id:"i",x1:"150.6",x2:"150.6",y1:"209.2",y2:"218.2",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#CECECE"}),(0,n.jsx)("stop",{offset:"1",stopColor:"gray"})]}),(0,n.jsxs)("linearGradient",{id:"k",x1:"153.9",x2:"153.9",y1:"202.6",y2:"211.7",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#CECECE"}),(0,n.jsx)("stop",{offset:"1",stopColor:"gray"})]}),(0,n.jsxs)("linearGradient",{id:"m",x1:"186",x2:"186",y1:"209.2",y2:"218.2",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"gray"}),(0,n.jsx)("stop",{offset:"1",stopColor:"gray",stopOpacity:"0.5"})]}),(0,n.jsxs)("linearGradient",{id:"o",x1:"184.3",x2:"182.2",y1:"198.3",y2:"207.1",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#CECECE"}),(0,n.jsx)("stop",{offset:"1",stopColor:"gray"})]}),(0,n.jsxs)("linearGradient",{id:"q",x1:"152.5",x2:"152.5",y1:"196.2",y2:"205.3",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#CECECE"}),(0,n.jsx)("stop",{offset:"1",stopColor:"gray"})]}),(0,n.jsxs)("linearGradient",{id:"r",x1:"150.6",x2:"150.6",y1:"209.2",y2:"218.2",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#999"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#656565"})]}),(0,n.jsxs)("linearGradient",{id:"t",x1:"153.9",x2:"153.9",y1:"202.6",y2:"211.7",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#C2C2C2"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#686868"})]}),(0,n.jsxs)("linearGradient",{id:"v",x1:"186",x2:"186",y1:"209.2",y2:"218.2",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"gray"}),(0,n.jsx)("stop",{offset:"1",stopColor:"gray",stopOpacity:"0.5"})]}),(0,n.jsxs)("linearGradient",{id:"x",x1:"184.3",x2:"182.2",y1:"198.3",y2:"207.1",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#CECECE"}),(0,n.jsx)("stop",{offset:"1",stopColor:"gray"})]}),(0,n.jsxs)("linearGradient",{id:"z",x1:"152.5",x2:"152.5",y1:"196.2",y2:"205.3",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#CECECE"}),(0,n.jsx)("stop",{offset:"1",stopColor:"gray"})]}),(0,n.jsxs)("linearGradient",{id:"B",x1:"84.6",x2:"84.6",y1:"209.1",y2:"218.2",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#C2C2C2"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#686868"})]}),(0,n.jsxs)("linearGradient",{id:"D",x1:"79",x2:"79",y1:"202",y2:"211.1",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#CECECE"}),(0,n.jsx)("stop",{offset:"1",stopColor:"gray"})]}),(0,n.jsxs)("filter",{id:"a",width:"90.1",height:"69",x:"0.9",y:"196",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,n.jsx)("feOffset",{dy:"15"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"15"}),(0,n.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),(0,n.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow"}),(0,n.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})]}),(0,n.jsxs)("filter",{id:"d",width:"207.8",height:"182.2",x:"2.6",y:"81.1",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,n.jsx)("feOffset",{dy:"15"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"15"}),(0,n.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),(0,n.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow"}),(0,n.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})]}),(0,n.jsxs)("filter",{id:"j",width:"90.1",height:"69.1",x:"108.8",y:"187.6",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,n.jsx)("feOffset",{dy:"15"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"15"}),(0,n.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),(0,n.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow"}),(0,n.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})]}),(0,n.jsxs)("filter",{id:"l",width:"90.1",height:"69",x:"140.9",y:"194.2",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,n.jsx)("feOffset",{dy:"15"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"15"}),(0,n.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),(0,n.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow"}),(0,n.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})]}),(0,n.jsxs)("filter",{id:"n",width:"91.4",height:"75.7",x:"137.6",y:"179.8",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,n.jsx)("feOffset",{dy:"15"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"15"}),(0,n.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),(0,n.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow"}),(0,n.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})]}),(0,n.jsxs)("filter",{id:"p",width:"90.1",height:"69.1",x:"107.5",y:"181.2",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,n.jsx)("feOffset",{dy:"15"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"15"}),(0,n.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),(0,n.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow"}),(0,n.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})]}),(0,n.jsxs)("filter",{id:"s",width:"90.1",height:"69.1",x:"108.8",y:"187.6",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,n.jsx)("feOffset",{dy:"15"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"15"}),(0,n.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),(0,n.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow"}),(0,n.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})]}),(0,n.jsxs)("filter",{id:"u",width:"90.1",height:"69",x:"140.9",y:"194.2",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,n.jsx)("feOffset",{dy:"15"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"15"}),(0,n.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),(0,n.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow"}),(0,n.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})]}),(0,n.jsxs)("filter",{id:"w",width:"91.4",height:"75.7",x:"137.6",y:"179.8",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,n.jsx)("feOffset",{dy:"15"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"15"}),(0,n.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),(0,n.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow"}),(0,n.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})]}),(0,n.jsxs)("filter",{id:"y",width:"90.1",height:"69.1",x:"107.5",y:"181.2",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,n.jsx)("feOffset",{dy:"15"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"15"}),(0,n.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),(0,n.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow"}),(0,n.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})]}),(0,n.jsxs)("filter",{id:"A",width:"90.1",height:"69.1",x:"39.6",y:"194.1",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,n.jsx)("feOffset",{dy:"15"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"15"}),(0,n.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),(0,n.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow"}),(0,n.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})]}),(0,n.jsxs)("filter",{id:"C",width:"90.1",height:"69.1",x:"34",y:"187",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,n.jsx)("feOffset",{dy:"15"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"15"}),(0,n.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),(0,n.jsx)("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow"}),(0,n.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})]})]})]})},"../../libs/shared/dist/components/UnlockForm/index.js":(e,t,s)=>{"use strict";s.d(t,{k:()=>c});var n=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/react-i18next/dist/es/useTranslation.js"),o=s("../../../node_modules/@mui/material/TextField/TextField.js"),i=s("../../../node_modules/@mui/material/Box/Box.js"),r=s("../../../node_modules/@mui/material/Typography/Typography.js"),l=s("../../../node_modules/@mui/material/Button/Button.js");const d=(0,s("../../../node_modules/@mui/material/styles/styled.js").ZP)(o.Z)({"& input:-webkit-autofill":{transition:"background-color 9999s ease-in-out 0s, color 9999s ease-in-out 0s"},"& input:-webkit-autofill:hover":{transition:"background-color 9999s ease-in-out 0s, color 9999s ease-in-out 0s"},"& input:-webkit-autofill:focus":{transition:"background-color 9999s ease-in-out 0s, color 9999s ease-in-out 0s"},"& input:-webkit-autofill:active":{transition:"background-color 9999s ease-in-out 0s, color 9999s ease-in-out 0s"}}),c=({onSubmit:e,onChange:t,password:s,error:o})=>{const{t:c}=(0,a.$)();return(0,n.jsxs)("form",{onSubmit:e,children:[(0,n.jsx)(i.Z,{mb:3,children:(0,n.jsx)(r.Z,{variant:"h1",children:c("unlock_wallet_title")})}),(0,n.jsx)(i.Z,{children:(0,n.jsx)(d,{autoFocus:!0,fullWidth:!0,type:"password",label:c("form_password"),variant:"outlined",name:"password",error:!!o,helperText:o||"",value:s,onChange:t})}),(0,n.jsx)(i.Z,{display:"flex",justifyContent:"center",mt:3,children:(0,n.jsx)(l.Z,{size:"small",variant:"contained",type:"submit",children:c("action_unlock")})})]})}},"../../libs/shared/dist/components/WebSettingsEmptyState/index.js":(e,t,s)=>{"use strict";s.d(t,{U:()=>i});var n=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../libs/foundation-ui/dist/index.js"),o=s("../../../node_modules/@mui/material/Box/Box.js");const i=({illustration:e,children:t})=>(0,n.jsxs)(o.Z,{textAlign:"center",pb:12,children:[(0,n.jsx)(o.Z,{pb:3,children:"string"==typeof e?(0,n.jsx)("img",{src:e,alt:"empty state image"}):e}),(0,n.jsx)(a.Typography,{variant:"textS",color:"secondary",children:t})]})},"../../libs/shared/dist/components/index.js":(e,t,s)=>{"use strict";s.d(t,{Cd:()=>i.C,D2:()=>u.D,LM:()=>g.L,Ss:()=>x.S,TP:()=>a.T,Tq:()=>p.T,Ud:()=>h.U,Up:()=>c.U,b2:()=>o.b,dQ:()=>m.d,iB:()=>n.i,k7:()=>l.k,sW:()=>d.s,yY:()=>r.y});var n=s("../../libs/shared/dist/components/DappAvatar/index.js"),a=s("../../libs/shared/dist/components/FeatureFlags/index.js"),o=s("../../libs/shared/dist/components/InfiniteLoader/index.js"),i=s("../../libs/shared/dist/components/PopupHeader/index.js"),r=s("../../libs/shared/dist/components/TokenAvatar/index.js"),l=s("../../libs/shared/dist/components/UnlockForm/index.js"),d=s("../../libs/shared/dist/components/WebInfoTooltip/index.js"),c=s("../../libs/shared/dist/components/WebSettingsEmptyState/index.js"),u=s("../../libs/shared/dist/components/Icons/IconCameraSlash.js"),m=s("../../libs/shared/dist/components/Icons/IconClip.js"),p=s("../../libs/shared/dist/components/Icons/IconExternalLink.js"),h=s("../../libs/shared/dist/components/Icons/IconKeystone.js"),x=s("../../libs/shared/dist/components/Icons/IconLedger.js"),g=(s("../../libs/shared/dist/components/Icons/NoApp.js"),s("../../libs/shared/dist/components/Icons/NoStake.js"))},"../../libs/shared/dist/constants/autolock.js":(e,t,s)=>{"use strict";s.d(t,{GC:()=>o,pT:()=>n});const n={IMMEDIATELY:0,ONE_MINUTE:1,FIVE_MINUTES:5,TEN_MINUTES:10,FIFTEEN_MINUTES:15,THIRTY_MINUTES:30,ONE_HOUR:60,FOUR_HOURS:240,EIGHT_HOURS:480,TWENTY_FOUR_HOURS:1440,NEVER:99999},a={[n.IMMEDIATELY]:"Immediately",[n.ONE_MINUTE]:"1 minute",[n.FIVE_MINUTES]:"5 minutes",[n.TEN_MINUTES]:"10 minutes",[n.FIFTEEN_MINUTES]:"15 minutes",[n.THIRTY_MINUTES]:"30 minutes",[n.ONE_HOUR]:"1 hour",[n.FOUR_HOURS]:"4 hours",[n.EIGHT_HOURS]:"8 hours",[n.TWENTY_FOUR_HOURS]:"24 hours",[n.NEVER]:"Never"},o=[{label:a[n.ONE_MINUTE],value:n.ONE_MINUTE},{label:a[n.FIVE_MINUTES],value:n.FIVE_MINUTES},{label:a[n.TEN_MINUTES],value:n.TEN_MINUTES},{label:a[n.FIFTEEN_MINUTES],value:n.FIFTEEN_MINUTES},{label:a[n.THIRTY_MINUTES],value:n.THIRTY_MINUTES},{label:a[n.ONE_HOUR],value:n.ONE_HOUR},{label:a[n.FOUR_HOURS],value:n.FOUR_HOURS},{label:a[n.EIGHT_HOURS],value:n.EIGHT_HOURS},{label:a[n.TWENTY_FOUR_HOURS],value:n.TWENTY_FOUR_HOURS},{label:a[n.NEVER],value:n.NEVER}]},"../../libs/shared/dist/constants/derivationPaths.js":(e,t,s)=>{"use strict";s.d(t,{VV:()=>n,ff:()=>o,z$:()=>a});const n="bip44Change",a={bip44Root:"m/44'/501'",bip44:"m/44'/501'/0'",bip44Change:"m/44'/501'/0'/0'"},o={bip44Ledger:"m/44'/501'/0'/X'",bip44LedgerChange:"m/44'/501'/0'/0'/X'"}},"../../libs/shared/dist/constants/routes.js":(e,t,s)=>{"use strict";s.d(t,{Ni:()=>h,Nj:()=>o,Us:()=>c,Zg:()=>m,Zv:()=>w,i1:()=>a,s2:()=>k,xm:()=>M,yD:()=>Z,yT:()=>r});var n=s("../../libs/shared/dist/utils/extension.js");const a={MAIN:"/activity"},o={MAIN:"/bridge"},i="/nft",r={MAIN:i,SINGLE:e=>`${i}/single/${e}`,GROUP:e=>`${i}/group/${e}`},l="/onboard",d=`${l}/metamask`,c={MAIN:l,ACCESS:`${l}/access`,CREATE:`${l}/create`,LEDGER:`${l}/ledger`,KEYSTONE:`${l}/keystone`,SUCCESS:`${l}/success`,SHORTCUT:`${l}/shortcut`,METAMASK:{MAIN:d,SUCCESS:`${d}/success`}},u="/portfolio",m={MAIN:n.UJ?"/":u,SINGLE:{MAIN:e=>`${u}/${e}`,ACTIVITY:(e,t)=>`${u}/${e}/activity/${t}`}},p="/staking",h={MAIN:p,STAKE:e=>`${p}/stake/${e}`,RESTAKE:e=>`${p}/restake/${e}`},x="/settings",g=`${x}/general`,j=`${x}/notifications`,b=`${x}/security`,f=`${b}/trusted`,_=`${b}/spending-approvals`,y=`${b}/logs`,v=`${x}/address-book`,k={MAIN:x,GENERAL:{MAIN:g,LANGUAGE:`${g}/language`,CURRENCY:`${g}/currency`,NETWORK:`${g}/network`},ADDRESS_BOOK:{MAIN:`${v}`,ADD_RECENT:(e,t)=>`${v}/add/${e}/${t}`,ADD:`${v}/add`,EDIT:(e,t,s)=>`${v}/edit/${e}/${t}/${s}`,REMOVE:(e,t)=>`${v}/remove/${e}/${t}`},NOTIFICATIONS:{MAIN:j,ACTIVITY:`${j}/activity`},SECURITY:{MAIN:b,TRUSTED_APPS:{MAIN:f,DETAILS:e=>`${f}/${e}`},SPENDING_APPROVALS:{MAIN:_,DETAILS:e=>`${_}/${e}`},SIGNED_MESSAGES_LOGS:{MAIN:y,DETAILS:e=>`${y}/${e}`},AUTO_LOCK:`${b}/autoLock`,CHANGE_PASSWORD:`${b}/changePassword`}},w={MAIN:"/trade"},C="/wallet-management",S=`${C}/options`,T=`${S}/mnemonic`,A=`${S}/burner`,I=`${C}/single-wallet-options`,Z={MAIN:C,ADD_WALLET_OPTIONS:{MAIN:S,ADD_WALLET:`${T}/derive-next`,MANAGE_RECOVERY_PHRASE:`${T}/manage-accounts`,CREATE_BURNER_WALLET:`${A}/create`,CREATE_BURNER_TUTORIAL:`${A}/create-tutorial`,RESTORE_BURNER_WALLETS:`${A}/restore`,IMPORT_PRIVATE_KEY:`${S}/import/private-key`,IMPORT_KEYSTORE:`${S}/import/keystore`,IMPORT_RECOVERY_PHRASE:`${S}/import/recovery-phrase`,CONNECT_KEYSTONE:`${S}/connect/keystone`,CONNECT_LEDGER:`${S}/connect/ledger`},SINGLE_WALLET_OPTIONS:{MAIN:e=>`${I}/${e}`,RENAME_WALLET:e=>`${I}/${e}/rename`,EXPORT_PRIVATE_KEY:e=>`${I}/${e}/export-private-key`,EXPORT_MNEMONIC:e=>`${I}/${e}/export-mnemonic`}},M=-1},"../../libs/shared/dist/decorators/index.js":(e,t,s)=>{"use strict";s.d(t,{nT:()=>o,AA:()=>r,Nr:()=>i.N}),s("../../libs/shared/dist/decorators/withRPCProxy.js");var n=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../libs/shared/dist/hooks/index.js");function o(e){return function(t){const{closableNotification:s}=(0,a.hn)();return(0,n.jsx)(e,{...t,closableNotification:s})}}var i=s("../../libs/shared/dist/decorators/withOpenExplorer.js");function r(e){return function(t){const{copy:s}=(0,a.c)();return(0,n.jsx)(e,{...t,copy:s})}}},"../../libs/shared/dist/features/activity/components/ExtLineItem/index.js":(e,t,s)=>{"use strict";s.d(t,{v:()=>o});var n=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../libs/foundation-ui/dist/index.js");const o=e=>(0,n.jsx)(a.ActivityListItem,{loading:e.loading,title:e.title,subtitle:e.subtitle,avatar:e.avatar,children:e.balances})},"../../libs/shared/dist/features/activity/components/WebLineItem/index.js":(e,t,s)=>{"use strict";s.d(t,{X:()=>i});var n=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../libs/foundation-ui/dist/index.js"),o=s("../../libs/shared/dist/utils/humanDate.js");const i=e=>{const t=e?.blockTime?1e3*e.blockTime:0,s=(0,o.rN)(t,!1,!1);return e.loading?(0,n.jsx)(a.LoadingActivityListItemWeb,{blockTime:e?.blockTime?s:""}):(0,n.jsx)(a.ActivityListItemWeb,{blockTime:s,event:e.event,details:e.details,children:e.balances})}},"../../libs/shared/dist/features/addressBook/hooks/useValidateContactInputs.js":(e,t,s)=>{"use strict";s.d(t,{L:()=>m});var n=s("../../../node_modules/react/index.js"),a=s("../../../node_modules/react-i18next/dist/es/useTranslation.js"),o=s("../../../node_modules/lodash/lodash.js"),i=s("../../libs/shared/dist/constants/index.js"),r=s("../../libs/shared/dist/features/globalConfig/hooks/index.js"),l=s("../../libs/shared/dist/features/shared/account/index.js"),d=s("../../libs/shared/dist/utils/isPublicKeyValid.js"),c=s("../../libs/shared/dist/utils/truncateMiddle.js"),u=s("../../libs/shared/dist/features/addressBook/context/index.js");const m=({initialName:e="",initialAddress:t="",isAdd:s=!1})=>{const{t:m}=(0,a.$)(),p=(0,r.LN)(),{nameByAddress:h}=(0,u.b)(),[x,g]=(0,n.useState)(e.slice(0,i.go)),[j,b]=(0,n.useState)(t),[f,_]=(0,n.useState)(),[y,v]=(0,n.useState)({name:"",address:""}),[k,w]=(0,n.useState)(!1),C=(0,n.useCallback)((t=>{if(!t.trim())return void v((e=>({...e,name:""})));const n=(s?Object.entries(h):[...Object.entries(h)].filter((([t,s])=>e.toLowerCase()!==s.toLowerCase()))).find((([e,s])=>s.toLowerCase()===t.toLowerCase()));if(n){const[e]=n;v((t=>({...t,name:m("validation_address_book_name_already_added",{address:(0,d.Z)(e)?(0,c.r)(e):e})})))}else v((e=>({...e,name:""})))}),[m,s,h,e]),S=(0,n.useCallback)((async e=>{if(_(void 0),!e.trim())return v((e=>({...e,address:""}))),void w(!1);const n=(e=>({MINT_ADDRESS:e("validation_cant_send_token_to_mint"),NOT_SOLANA_ACCOUNT:e("validation_not_solana_account"),INVALID_PUBLIC_KEY:e("address_book_new_contact_address_solana_incorect"),ACCOUNT_DOESNT_EXIST:e("validation_solana_account_doesnt_exist"),SPL_TOKEN_ACCOUNT:e("validation_spl_instead_of_solana"),STAKE_ACCOUNT:e("validation_stake_account_instead_of_solana")}))(m),a=(s?Object.entries(h):[...Object.entries(h)].filter((([e,s])=>e!==t))).find((([t,s])=>t===e));if(a){const[,e]=a;return v((t=>({...t,address:m("validation_address_book_address_already_added",{name:e})}))),void w(!1)}const o=await(0,l.ru)(e,p.cluster);if(!o)return v((e=>({...e,address:n.INVALID_PUBLIC_KEY}))),void w(!1);"address"!==o.source&&_(o.publicKey),v((e=>({...e,address:""}))),w(!1)}),[m,s,h,p.cluster,t]),T=(0,n.useCallback)((e=>{const t=e.target.value.slice(0,i.go);g(t),C(t)}),[C]),A=(0,n.useCallback)((e=>{b(e),w(!0)}),[]);(0,n.useEffect)((()=>{const e=(0,o.debounce)((e=>S(e)),500);return e(j),()=>e.cancel()}),[j,S]);const I=x!==e,Z=j!==t,M=j.trim().length>0&&!y.address,P=!y.name&&x.trim().length>0,D=(I||Z)&&M&&P&&!k;return(0,n.useMemo)((()=>({name:x,address:j,errors:y,isSubmitEnabled:D,isValidatingAddress:k,isAddressValid:M,handleChangeName:T,handleChangeAddress:A,resolvedAddress:f})),[x,y,j,M,D,k,A,T,f])}},"../../libs/shared/dist/features/chart/api/requests.js":(e,t,s)=>{"use strict";s.d(t,{W:()=>l});var n=s("../../libs/shared/dist/api/index.js"),a=s("../../libs/shared/dist/constants/index.js"),o=s("../../libs/shared/dist/constants/mints.js"),i=s("../../libs/shared/dist/features/chart/constants.js"),r=s("../../libs/shared/dist/features/chart/utils/index.js");const l=async e=>{const{from:t,to:s}=e.periodParams;let l={};if("currency"in e&&e.currency)l={baseAddress:e.base===o.BH?o.Jb:e.base,currency:e.currency,interval:i.R[e.interval],timeFrom:t,timeTo:s};else if("quote"in e){const[n,a]=(0,r.$c)(e.base===o.BH?o.Jb:e.base,e.quote===o.BH?o.Jb:e.quote);l={baseAddress:n,quoteAddress:a,interval:i.R[e.interval],timeFrom:t,timeTo:s}}const d=Object.keys(l).map((e=>`${e}=${encodeURIComponent(l[e])}`)).join("&"),{body:c}=await(0,n.U2)(`${a.JF}/v2/trade/chart/ohlcv${"currency"in e&&e.currency?"":"-quote"}?${d}`);let u=[];for(const e of c.items)if(e.timestamp>=t&&e.timestamp<s){const t=1e3*e.timestamp;u=[...u,{time:t,low:e.l,high:e.h,open:e.o,close:e.c,volume:e.v}]}return{...c,dataPoints:u}}},"../../libs/shared/dist/features/chart/constants.js":(e,t,s)=>{"use strict";s.d(t,{R:()=>n});const n={1:"1m",3:"3m",5:"5m",15:"15m",30:"30m",60:"1H",240:"4H",720:"12H","1D":"1D","3D":"3D","1W":"1W","1M":"1M"}},"../../libs/shared/dist/features/chart/utils/index.js":(e,t,s)=>{"use strict";s.d(t,{$c:()=>o,tQ:()=>i});var n=s("../../libs/shared/dist/constants/mints.js"),a=s("../../libs/shared/dist/features/chart/utils/isStableCoin.js");const o=(e,t)=>{if(!e||!t)return[e,t];if((0,a.e)(e)&&(0,a.e)(t)){const s=e===n.oR;return[s?e:t,s?t:e]}if((0,a.e)(e)||(0,a.e)(t)){const s=(0,a.e)(e);return[s?t:e,s?e:t]}if(e===n.Jb||t===n.Jb){const s=e===n.Jb;return[s?t:e,s?e:t]}return[t,e]},i=(e,t)=>{const s=n.Jb;if((0,a.e)(e)&&(0,a.e)(t)){const s=e===n.oR;return[s?e:t,s?t:e]}if((0,a.e)(e)||(0,a.e)(t)){const s=(0,a.e)(e);return[s?e:t,s?t:e]}if(e===s||t===s){const n=e===s;return[n?e:t,n?t:e]}return[e,t]}},"../../libs/shared/dist/features/currencies/components/DisplayComputedFiatValue/index.js":(e,t,s)=>{"use strict";s.d(t,{s:()=>r});var n=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../libs/shared/dist/utils/displayPrice.js"),o=s("../../libs/shared/dist/features/currencies/hooks/index.js"),i=s("../../libs/shared/dist/features/currencies/utils/index.js");const r=({value:e,displayType:t="value",showSign:s,suffix:r,hidePreffix:l})=>{const d=(0,o.Af)(),c=(0,i.MK)(d.ticker,d.symbol);return(0,n.jsxs)(n.Fragment,{children:[s&&(+e<0?"-":"+"),(0,a.ED)({amount:s?Math.abs(+e):+e,prefix:l?"":c,displayType:t,suffix:r})]})}},"../../libs/shared/dist/features/currencies/components/index.js":(e,t,s)=>{"use strict";s.d(t,{EI:()=>r,sp:()=>l.s,Tf:()=>d,DR:()=>j,NT:()=>b,DX:()=>_});var n=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/@mui/material/Box/Box.js"),o=s("../../libs/shared/dist/assets/solana-logo-white.svg"),i=s("../../libs/shared/dist/utils/displayPrice.js");const r=({value:e,hideSymbol:t,symbolType:s="image",displayType:r="amount",symbolText:l=" SOL",showSign:d,sx:c={},showSmallNumbers:u=!1})=>(0,n.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center",...c},children:[!t&&"image"===s&&(0,n.jsx)(a.Z,{sx:{height:"0.8em",mr:"6px"},component:"img",src:o,alt:"Solana"}),d?+e<0?"-":"+":"",(0,i.ED)({amount:d?Math.abs(+e):e,pricePerCoin:0,displayType:r,suffix:"text"===s?l:"",showSmallNumbers:u})]});var l=s("../../libs/shared/dist/features/currencies/components/DisplayComputedFiatValue/index.js");const d=({value:e,displayType:t="medium",showSign:s})=>{const a=Math.abs(+e)<.01&&0!==Math.abs(+e);return(0,n.jsxs)(n.Fragment,{children:[+e<0?"-":s?"+":"",a?"<0.01%":(0,i.ED)({amount:Math.abs(+e),displayType:t,suffix:"%"})]})};var c=s("../../libs/shared/dist/storage/solflareService.js"),u=s("../../libs/shared/dist/features/globalConfig/context/index.js"),m=s("../../../node_modules/@mui/material/styles/styled.js"),p=s("../../../node_modules/@mui/material/ButtonBase/ButtonBase.js"),h=s("../../libs/shared/dist/features/currencies/hooks/index.js");const x=(0,m.ZP)(p.Z)({fontSize:"inherit",fontWeight:"inherit",fontFamily:"inherit",display:"inherit",alignItems:"inherit",justifyContent:"inherit"}),g=({configKey:e,defaultDisplay:t,fiat:s,token:a,onChange:o})=>{const i=(0,h.__)(e,t);return(0,n.jsx)(x,{onClick:async e=>{e.preventDefault(),e.stopPropagation(),o("fiat"===i?"token":"fiat")},children:"fiat"===i?s:a})},j=e=>{const{setCurrencyDisplayForField:t}=(0,u.A)();return(0,n.jsx)(g,{onChange:async s=>{t(e.configKey,s),await c.Z.solflareconfig.setCurrencyDisplayForField(e.configKey,s)},...e})},b=({configKey:e,defaultDisplay:t,fiat:s,token:a})=>{const o=(0,h.__)(e,t);return(0,n.jsx)(n.Fragment,{children:"fiat"===o?s:a})},f=(0,s("../../../node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js").Z)("button")({fontSize:"inherit",fontWeight:"inherit",fontFamily:"inherit",display:"inherit",color:"inherit",background:"transparent",padding:0,margin:0,border:0,cursor:"pointer"}),_=({configKey:e,defaultDisplay:t,children:s})=>{const{setCurrencyDisplayForField:a}=(0,u.A)(),o=(0,h.__)(e,t);return(0,n.jsx)(f,{onClick:async t=>{t.preventDefault(),t.stopPropagation();const s="fiat"===o?"token":"fiat";a(e,s),await c.Z.solflareconfig.setCurrencyDisplayForField(e,s)},children:s})}},"../../libs/shared/dist/features/currencies/constants.js":(e,t,s)=>{"use strict";s.d(t,{MB:()=>l,Ow:()=>o,a7:()=>i,qY:()=>a});var n=s("../../libs/shared/dist/assets/flags/index.ts");const a="USD",o="EUR",i=a,r=(e,t,s,n)=>({name:e,ticker:t,symbol:n,flag:s}),l={USD:r("US Dollar","USD","🇺🇸","$"),AED:r("UAE Dirham","AED","🇦🇪","Dhs"),ARS:r("Argentine Peso","ARS","🇦🇷","$"),AUD:r("Australian Dollar","AUD","🇦🇺","$"),BDT:r("Bangladeshi Taka","BDT","🇧🇩","৳"),BHD:r("Bahraini Dinar","BHD","🇧🇭","BD"),BMD:r("Bermudan Dollar","BMD","🇧🇲","$"),BRL:r("Brazilian Real","BRL","🇧🇷","R$"),CAD:r("Canadian Dollar","CAD","🇨🇦","$"),CHF:r("Swiss Franc","CHF","🇨🇭"),CLP:r("Chilean Peso","CLP","🇨🇱","$"),CNY:r("Chinese Yuan","CNY","🇨🇳","¥"),CZK:r("Czech Koruna","CZK","🇨🇿","Kč"),DKK:r("Danish Krone","DKK","🇩🇰","DKK"),EUR:r("Euro","EUR","🇪🇺","€"),GBP:r("Pound Sterling","GBP","🇬🇧","£"),HKD:r("Hong Kong Dollar","HKD","🇭🇰","$"),HUF:r("Hungarian Forint","HUF","🇭🇺","Ft"),IDR:r("Indonesian Rupiah","IDR","🇮🇩","Rp"),ILS:r("Israeli New Shekel","ILS","🇮🇱","₪"),INR:r("Indian Rupee","INR","🇮🇳","₹"),JPY:r("Japanese Yen","JPY","🇯🇵","¥"),KRW:r("South Korean Won","KRW","🇰🇷","₩"),KWD:r("Kuwaiti Dinar","KWD","🇰🇼","KD"),LKR:r("Sri Lankan Rupee","LKR","🇱🇰","Rs."),MMK:r("Myanmar Kyat","MMK","🇲🇲","Ks."),MXN:r("Mexican Peso","MXN","🇲🇽","$"),MYR:r("Malaysian Ringgit","MYR","🇲🇾","RM"),NGN:r("Nigeria Naira","NGN","🇳🇬","₦"),NOK:r("Norwegian Krone","NOK","🇳🇴","kr"),NZD:r("New Zealand Dollar","NZD","🇳🇿","$"),PHP:r("Philippine Peso","PHP","🇵🇭","₱"),PKR:r("Pakistani Rupee","PKR","🇵🇰","Rs."),PLN:r("Poland Zloty","PLN","🇵🇱","zł"),RUB:r("Russian Ruble","RUB","🇷🇺","₽"),SAR:r("Saudi Riyal","SAR","🇸🇦","SR"),SEK:r("Swedish Krona","SEK","🇸🇪","kr"),SGD:r("Singapore Dollar","SGD","🇸🇬","$"),THB:r("Thai Baht","THB","🇹🇭","฿"),TRY:r("Turkish Lira","TRY","🇹🇷","₺"),TWD:r("New Taiwan Dollar","TWD","🇹🇼","NT$"),UAH:r("Ukrainian Hryvnia","UAH","🇺🇦","₴"),VEF:r("Venezuelan Bolivar","VEF","🇻🇪","Bs."),VND:r("Vietnamese Dong","VND","🇻🇳","₫"),ZAR:r("South African Rand","ZAR","🇿🇦","R")};n.Z.us,n.Z.ae,n.Z.ar,n.Z.au,n.Z.bd,n.Z.bh,n.Z.bm,n.Z.br,n.Z.ca,n.Z.ch,n.Z.cl,n.Z.cn,n.Z.cz,n.Z.dk,n.Z.eu,n.Z.gb,n.Z.hk,n.Z.hu,n.Z.id,n.Z.il,n.Z.ind,n.Z.jp,n.Z.kr,n.Z.kw,n.Z.lk,n.Z.mm,n.Z.mx,n.Z.my,n.Z.ng,n.Z.no,n.Z.nz,n.Z.ph,n.Z.pk,n.Z.pl,n.Z.ru,n.Z.sa,n.Z.se,n.Z.sg,n.Z.th,n.Z.tr,n.Z.tw,n.Z.ua,n.Z.ve,n.Z.vn,n.Z.za},"../../libs/shared/dist/features/dappCommunication/components/Readonly/index.js":(e,t,s)=>{"use strict";s.d(t,{F:()=>i});var n=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/react-i18next/dist/es/useTranslation.js"),o=s("../../libs/foundation-ui/dist/index.js");const i=({onCancelSign:e})=>{const{t}=(0,a.$)();return(0,n.jsx)(o.PagePortal,{size:"fullPage",children:(0,n.jsx)(o.FullPageConfirm,{children:(0,n.jsxs)(o.PageContent,{gap:"l",children:[(0,n.jsx)(o.Alert,{variant:"error",title:"Readonly wallet",message:"This wallet cannot be used for signing."}),(0,n.jsx)(o.Button,{onClick:()=>{e(t("transaction_canceled"))},children:"Close"})]})})})}},"../../libs/shared/dist/features/dappCommunication/components/SignContainer/index.js":(e,t,s)=>{"use strict";s.d(t,{T:()=>d});var n=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/react-i18next/dist/es/useTranslation.js"),o=s("../../../node_modules/@mui/material/Container/Container.js"),i=s("../../libs/foundation-ui/dist/index.js"),r=s("../../libs/shared/dist/features/transactionFlow/components/index.js"),l=s("../../libs/shared/dist/features/transactionFlow/context/index.js");const d=({children:e})=>{const{t}=(0,a.$)(),{isKeystonePending:s,isLedgerPending:d}=(0,l.p)();return(0,n.jsxs)(o.Z,{maxWidth:"sm",sx:{marginTop:"16px"},children:[(0,n.jsx)(i.PagePortal,{size:"fullPage",children:(0,n.jsx)(i.FullPageConfirm,{children:e})}),s&&(0,n.jsx)(i.PagePortal,{size:"fullPage",children:(0,n.jsx)(r.XP,{isExtension:!0,title:t("approve_transaction_one")})}),d&&(0,n.jsx)(i.PagePortal,{size:"fullPage",children:(0,n.jsx)(r.D_,{title:t("approve_transaction_one")})})]})}},"../../libs/shared/dist/features/dappCommunication/components/index.js":(e,t,s)=>{"use strict";s.d(t,{$m:()=>r.$,Fl:()=>n.F,Je:()=>c.J,O3:()=>i.O,Qi:()=>l.Q,TH:()=>a.T,b8:()=>d.b,wu:()=>o.w}),s("../../libs/shared/dist/features/dappCommunication/components/MessageAnalysisLoading/index.js");var n=s("../../libs/shared/dist/features/dappCommunication/components/Readonly/index.js"),a=s("../../libs/shared/dist/features/dappCommunication/components/SignContainer/index.js"),o=s("../../libs/shared/dist/features/dappCommunication/components/SignAllSerializedTransactions/index.js"),i=s("../../libs/shared/dist/features/dappCommunication/components/SignAllTransactionMessages/index.js"),r=s("../../libs/shared/dist/features/dappCommunication/components/SignAndSendSerializedTransaction/index.js"),l=s("../../libs/shared/dist/features/dappCommunication/components/SignMessage/index.js"),d=s("../../libs/shared/dist/features/dappCommunication/components/SignSerializedTransaction/index.js"),c=s("../../libs/shared/dist/features/dappCommunication/components/SignTransactionMessage/index.js")},"../../libs/shared/dist/features/featureFlags/index.js":(e,t,s)=>{"use strict";s.d(t,{kr:()=>x.kr,c:()=>c.c,Pr:()=>c.P,D:()=>x.D,dB:()=>i,Bz:()=>h.B,Wz:()=>p.Wz,uK:()=>u.uK,Qc:()=>u.Qc,ub:()=>u.ub,KZ:()=>u.KZ,Yn:()=>u.Yn,cq:()=>u.cq,dn:()=>u.dn,C4:()=>u.C4,Yk:()=>l,Or:()=>r,D6:()=>m.D6,Nk:()=>m.Nk,LO:()=>m.LO,Y$:()=>m.Y$,S6:()=>m.S6,Ic:()=>m.Ic,Jb:()=>m.Jb,hu:()=>d,tP:()=>m.tP,WG:()=>m.WG,ml:()=>m.ml,vH:()=>m.vH,Ww:()=>m.Ww,jV:()=>m.jV,Iz:()=>m.Iz,xN:()=>p.xN,n$:()=>p.n$,lh:()=>p.ml,Bi:()=>p.lh,tR:()=>x.tR,FA:()=>x.FA});var n=s("../../libs/shared/dist/utils/featureFlags.js");const a="SignTxOnDapp",o="Success",i=async({dappUrl:e,autoApprove:t=!1,autoConnect:s=!1})=>n.Z.c("ConnectToDapp",o,{dappUrl:e,autoApprove:t,autoConnect:s}),r=async e=>{n.Z.c(a,o,e)},l=async e=>{n.Z.c("SignTxOnBlink",o,e)},d=async()=>{n.Z.c(a,"PayloadClicked")};var c=s("../../libs/shared/dist/features/featureFlags/infoScreen/index.js"),u=s("../../libs/shared/dist/features/featureFlags/nftSingle/index.js"),m=s("../../libs/shared/dist/features/featureFlags/signTx/index.js"),p=s("../../libs/shared/dist/features/featureFlags/swap/index.js"),h=s("../../libs/shared/dist/features/featureFlags/userProperties/index.js"),x=s("../../libs/shared/dist/features/featureFlags/whatsNew/index.js")},"../../libs/shared/dist/features/infoScreen/modals/index.js":(e,t,s)=>{"use strict";s.d(t,{l:()=>a.l,v:()=>n.v});var n=s("../../libs/shared/dist/features/infoScreen/modals/InfoScreenJupiterSwap/index.js"),a=s("../../libs/shared/dist/features/infoScreen/modals/InfoScreenUnverifiedNftGuide/index.js")},"../../libs/shared/dist/features/limitOrders/api/index.js":(e,t,s)=>{"use strict";s.d(t,{FS:()=>n.FS,LV:()=>a.L,ht:()=>n.ht,sl:()=>a.s,x0:()=>n.x0});var n=s("../../libs/shared/dist/features/limitOrders/api/requests.js"),a=s("../../libs/shared/dist/features/limitOrders/api/transactions.js")},"../../libs/shared/dist/features/limitOrders/components/LimitOrders/index.js":(e,t,s)=>{"use strict";s.d(t,{E:()=>U});var n=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../libs/foundation-ui/dist/index.js"),o=s("../../libs/shared/dist/utils/extension.js"),i=s("../../../node_modules/react/index.js"),r=s("../../../node_modules/react-i18next/dist/es/useTranslation.js"),l=s("../../libs/shared/dist/utils/common.js"),d=s("../../libs/shared/dist/features/trading/context/index.js"),c=s("../../libs/shared/dist/features/trading/queries/index.js"),u=s("../../libs/shared/dist/features/limitOrders/constants.js");const m=(0,i.createContext)(null),p=({children:e})=>{const{t}=(0,r.$)(),[s,a]=(0,i.useState)(""),[o,p]=(0,i.useState)(""),[h,x]=(0,i.useState)(!1),[g,j]=(0,i.useState)(""),{selectedFromCoin:b,selectedToCoin:f,fromAmount:_}=(0,d.s)(),{data:y,isLoading:v,isFetching:k}=(0,c.iB)({inMint:b?.tokenId,outMint:f?.tokenId});(0,i.useEffect)((()=>{if(!h)return void j("");const e=((e,t)=>+((e-t)/t*100).toFixed(2))(+s,y?.price||0);if(+s>0&&_){if("buy"===y?.direction&&e>u.U)return void j(t("limit_order_market_price_input_higher_error",{percentageDifference:e}));if("sell"===y?.direction&&e<-u.U)return void j(t("limit_order_market_price_input_lower_error",{percentageDifference:Math.abs(e)}))}j("")}),[s,y,h,_,t]);const w=(0,i.useCallback)((e=>{let{value:t}=e.target;t=t.trim(),t.includes(",")&&(t=t.replace(",","."));const s=(0,l.T4)(t);if("."===t||","===t)return a("0."),void x(!0);(0,l.w9)(t,20)&&s&&(a(t),x(!0))}),[]),C=(0,i.useMemo)((()=>({inputAmount:s,setInputAmount:a,toAmount:o,setToAmount:p,hasEditedInputAmount:h,setHasEditedInputAmount:x,inputError:g,handleAmountChange:w,marketPriceData:y,isLoadingMarketPrice:v,isFetchingMarketPrice:k})),[s,o,h,g,y,v,k,a,p,w]);return(0,n.jsx)(m.Provider,{value:C,children:e})},h=()=>{const e=(0,i.useContext)(m);if(!e)throw new Error("useOrderFormStateContext must be used within a OrderFormStateProvider");return e};var x=s("../../libs/shared/dist/hooks/useSolanaBalance/index.js"),g=s("../../libs/shared/dist/utils/lamportToSol.js"),j=s("../../libs/shared/dist/utils/units.js"),b=s("../../libs/shared/dist/features/trading/hooks/index.js"),f=s("../../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs"),_=s("../../../node_modules/dayjs/dayjs.min.js"),y=s.n(_),v=s("../../../node_modules/@fortawesome/pro-light-svg-icons/index.mjs"),k=s("../../libs/shared/dist/utils/displayPrice.js"),w=s("../../libs/shared/dist/components/TokenAvatar/index.js");const C=({fromAmount:e,fromSymbol:t,fromTokenImage:s,fromTokenVerified:o,toAmount:i,toSymbol:r,toTokenImage:l,toTokenVerified:d})=>(0,n.jsx)(a.ConfirmTransaction,{avatar:(0,n.jsx)(a.IconAvatar,{size:"xl",icon:v.CC9}),transactionFromItem:(0,n.jsx)(a.TXListItem,{title:(0,k.ED)({amount:e,displayType:"solana",suffix:t?` ${t}`:void 0}),avatar:(0,n.jsx)(w.y,{src:s,verified:o})}),transactionToItem:(0,n.jsx)(a.TXListItem,{title:(0,k.ED)({amount:i,displayType:"solana",suffix:r?` ${r}`:void 0}),avatar:(0,n.jsx)(w.y,{src:l,verified:d})})});var S=s("../../libs/shared/dist/features/trading/constants.js"),T=s("../../libs/shared/dist/features/transactionFlow/context/index.js"),A=s("../../libs/shared/dist/features/walletData/hooks/index.js"),I=s("../../libs/shared/dist/features/limitOrders/api/index.js"),Z=s("../../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs");const M=({inMint:e,outMint:t,inAmount:s,price:n=0,feeBps:a=10})=>(0,Z.a)({queryKey:["limitOrderQuote"],queryFn:()=>(0,I.ht)({inMint:e,outMint:t,inAmount:s,price:n,feeBps:a}),retry:!1,enabled:!1,cacheTime:0}),P=({variant:e})=>{const{t}=(0,r.$)(),{fromAmount:s,maxFromBalance:o,selectedFromCoin:l,selectedToCoin:u}=(0,d.s)(),{inputError:m,hasEditedInputAmount:p,inputAmount:_,toAmount:v}=h(),{data:k}=(0,c.iB)({inMint:l.tokenId,outMint:u.tokenId}),w=(0,j.z)(s,l.decimals),{data:Z,isLoading:P,dataUpdatedAt:D,isError:B}=M({inMint:l.tokenId,outMint:u.tokenId,inAmount:isNaN(+w)?"":w,price:p?+_:k?.price}),E=(0,x.h)(),O=(0,i.useMemo)((()=>(0,g.s)(E.lamports).toNumber()),[E.lamports]),{alertProps:L}=(0,b.v)({variant:"limit",solBalance:O,fromAmount:s,maxFromBalance:o,selectedFromCoin:l,hasQuoteData:!!Z,isQuoteLoading:P,dataUpdatedAt:D,isError:B}),{create:N}=(()=>{const{t:e}=(0,r.$)(),{transactionInit:t}=(0,T.p)(),{publicKey:s}=(0,A.rT)(),{selectedFromCoin:a,selectedToCoin:o,fromAmount:l,expiry:c}=(0,d.s)(),u=(0,f.NL)(),m=(0,j.z)(l,a.decimals);return{create:(0,i.useCallback)((async i=>{const r=(0,j.z)(i,o.decimals);await t({txBuilder:I.LV,builderParams:{publicKey:s,inMint:a.tokenId,outMint:o.tokenId,inAmount:isNaN(+m)?"":m,outAmount:isNaN(+r)?"":r,setComputeBudget:!0,expiredAt:c!==S.EM.NEVER?(y()(new Date).add(c,"minutes").valueOf()/1e3).toString():void 0},commitment:"confirmed",title:e("limit_orders_create_order_confirmation_title"),onConfirm:async()=>{u.resetQueries(["openOrders"])},confirmDialog:(0,n.jsx)(C,{fromAmount:l,fromSymbol:a.symbol,fromTokenImage:a.logoURI,fromTokenVerified:a.verified,toAmount:i,toSymbol:o.symbol,toTokenImage:o.logoURI,toTokenVerified:o.verified})})}),[l,s,m,a,o,u,c,t,e])}})(),R=!(!L&&+s&&l.tokenId&&u.tokenId&&!m);return(0,n.jsxs)(a.FooterActions,{variant:e,children:[L&&(0,n.jsx)(a.Alert,{...L,variant:"error"}),(0,n.jsx)(a.Button,{disabled:R,onClick:()=>N(v),children:t("limit_order_create_action")})]})};var D=s("../../../node_modules/lodash/lodash.js"),B=s("../../libs/shared/dist/storage/solflareService.js"),E=s("../../libs/shared/dist/features/amountInput/utils.js"),O=s("../../libs/shared/dist/components/index.js");const L=({marketPrice:e,isLoading:t,onClick:s})=>{const{t:o}=(0,r.$)();if(t||!e)return(0,n.jsx)(a.InputLabel,{label:(0,n.jsx)(a.Label,{children:(0,n.jsx)(a.Skeleton,{width:"50px",height:"16px"})}),children:(0,n.jsx)(a.RightLabel,{children:(0,n.jsx)(a.Skeleton,{width:"50px",height:"16px"})})});const i="buy"===e.direction?o("buy_at_price_label",{token:""}):o("sell_at_price_label",{token:""});return(0,n.jsx)(a.InputLabel,{label:(0,n.jsxs)(a.Label,{children:[i," ",(0,n.jsx)(a.InfoWithTooltip,{tooltip:o("limit_order_market_price_label_tooltip")})]}),children:(0,n.jsx)(a.RightLabel,{onClick:s,children:o("market_price_label",{price:e.price})})})},N=()=>{const{selectedFromCoin:e,selectedToCoin:t,fromAmount:s}=(0,d.s)(),{inputAmount:o,setInputAmount:r,hasEditedInputAmount:u,setHasEditedInputAmount:m,inputError:p}=h(),{data:x,isLoading:g}=(0,c.iB)({inMint:e?.tokenId,outMint:t?.tokenId}),b=(0,j.z)(s,e.decimals),{refetch:f}=M({inMint:e?.tokenId,outMint:t?.tokenId,inAmount:isNaN(+b)?"":b,price:u?+o:x?.price}),[_,y]=(0,i.useState)(o),v=x&&e.tokenId===x.denom?e:t,k=(0,i.useRef)((0,D.debounce)((e=>y(e)),1e3)).current,w=(0,i.useRef)((0,D.debounce)((()=>f()),500)).current,C=(0,i.useCallback)((e=>{let{value:t}=e.target;t=t.trim(),t.includes(",")&&(t=t.replace(",","."));const s=(0,l.T4)(t);if("."===t||","===t)return r("0."),m(!0),void k(+t);(0,l.w9)(t,20)&&s&&(r(t),m(!0),k(+t))}),[m,r,k]);return(0,i.useEffect)((()=>{_&&+o==+_&&+_&&t.tokenId&&e.tokenId&&_!==o&&f()}),[_,o,f]),g||!x?(0,n.jsx)(a.TextField,{label:(0,n.jsx)(L,{isLoading:!0}),textAlign:"right",left:(0,n.jsx)(a.Skeleton,{height:"20px",width:"70px"}),children:(0,n.jsx)(a.Skeleton,{height:"20px",width:"70px"})},"market-price-input-loading"):(0,n.jsx)(a.TextField,{label:(0,n.jsx)(L,{marketPrice:x,isLoading:g,onClick:()=>{r(`${x.price}`),m(!0),w(),_||y(o)}}),textAlign:"right",placeholder:"0",name:"sell-price",error:!!p,value:u?o:x.price,onChange:C,onBlur:()=>{r((e=>e?(0,l.iP)(e,v?.decimals||0):e))},left:(0,n.jsx)(a.TextInputTokenSlot,{avatar:(0,n.jsx)(O.yY,{src:v?.logoURI,size:"xs",verified:v?.verified}),children:v?.symbol}),hint:p&&(0,n.jsx)(a.Label,{error:!0,children:p})},"market-price-input")};var R=s("../../../node_modules/console-browserify/index.js");const F=()=>{const{t:e}=(0,r.$)(),{selectedFromCoin:t,setSelectedFromCoin:s,selectedToCoin:u,setSelectedToCoin:m,fromAmount:p,setFromAmount:x,setFromSearchParam:g,setToSearchParam:b,fromCoins:f,toCoins:_,maxFromBalance:y,settingsData:v,openSettings:w,setSettingsData:C,setSlippage:S,setExpiry:T}=(0,d.s)(),[A,I]=(0,i.useState)(p),{inputAmount:Z,hasEditedInputAmount:O,setHasEditedInputAmount:L,toAmount:F,setToAmount:U}=h(),{data:$}=(0,c.iB)({inMint:t?.tokenId,outMint:u?.tokenId}),W=(0,j.z)(p,t.decimals),[K,z]=(0,i.useState)(!1),{data:H,isLoading:V,refetch:G,isFetching:q,isError:Y,isSuccess:Q}=M({inMint:t?.tokenId,outMint:u?.tokenId,inAmount:isNaN(+W)?"":W,price:O?+Z:$?.price}),J=(0,i.useRef)((0,D.debounce)((e=>I(e)),1e3)).current,X=(0,i.useRef)((0,D.debounce)((()=>G()),500)).current,ee=({type:e,coin:n})=>{if({from:t,to:u}[e]===n)return;const a={from:s,to:m},o={from:g,to:b};if(L(!1),z(!0),"from"===e&&u===n||"to"===e&&t===n)return te(),void o[e](null);a[e](n),o[e](null)},te=()=>{const e=F.replace(/,/g,"");+p&&x((0,l.iP)(e||0,u.decimals)),L(!1),z(!0),s(u),m(t)};return(0,i.useEffect)((()=>{A&&+p==+A&&+A&&u.tokenId&&t.tokenId&&A!==p&&G()}),[A,p,G]),(0,i.useEffect)((()=>{p?(u.tokenId&&p||U(""),+p&&u.tokenId&&t.tokenId&&!O&&void 0!==$?.price&&G()):U("")}),[t.tokenId,u.tokenId,O,$?.price]),(0,i.useEffect)((()=>{if(!Y&&H||U(""),Q&&!q&&H){const e=(0,j.d)(H.outAmount,u.decimals);z(!1),U((0,k.ED)({displayType:"solana",amount:(0,l.iP)(e,u.decimals)}))}}),[H,Y,q,Q,U]),(0,i.useEffect)((()=>{(async()=>{const{refetch:e}=v||{};if(e&&!w&&v){p&&G();const{slippage:e,expiry:t}=v;S({value:Math.round(100*e),label:String(e)}),await B.Z.swapSlippage.set(+e),T(t),await B.Z.limitOrderExpiry.set(+t),C(void 0)}})()}),[p,v,w,C,S,T,G]),(0,n.jsxs)(a.TradeContent,{children:[(0,n.jsxs)(a.SwapAssets,{children:[(0,n.jsx)(a.SwapInput,{onBlur:()=>x((e=>""===p?"":(0,l.iP)(e,t.decimals))),placeholder:"0",amount:p,onAmountChange:e=>{let{value:s}=e.target;s=s.trim();try{const e=(0,E.$)(s,t.decimals);x(e),+e||U(""),J(+e)}catch(e){R.log(e)}},isLoading:!1,id:"fromDefault",onSearchChange:e=>g(e.target.value),selectedToken:t,onSelectedTokenChange:e=>ee({type:"from",coin:e}),onOpenChange:e=>{e||g(null)},label:(0,n.jsx)(a.Label,{htmlFor:"fromDefault",children:e("sell_label")}),right:(0,n.jsx)(a.RightLabel,{onClick:()=>{y&&t.tokenId&&u.tokenId&&(X(),x(y.toString()),A||I(y.toString()))},children:(0,k.ED)({displayType:"solana",amount:y||0,prefix:`${e("swap_max")}: `})}),tokens:f,unverifiedTooltip:e("unverified_token_tooltip")}),(0,n.jsx)(a.SwapDivider,{onClick:te,disabled:!u.isAta||q}),(0,n.jsx)(a.SwapInput,{placeholder:"0",amount:F,id:"toDefault",readOnly:!0,isLoading:!1,isLoadingAmount:q&&!V&&!!p||K,onSearchChange:e=>b(e.target.value),onOpenChange:e=>{e||b(null)},selectedToken:u,onSelectedTokenChange:e=>ee({type:"to",coin:e}),label:(0,n.jsxs)(a.Label,{htmlFor:"toDefault",children:[e("buy_label"),(0,n.jsx)(a.InfoWithTooltip,{tooltip:e("trading_buy_tooltip")})]}),right:(0,n.jsx)(a.RightLabel,{htmlFor:"toDefault",children:(0,k.ED)({displayType:"solana",amount:u.rawAmount||0,prefix:`${e("table_balance")}: `})}),tokens:_,unverifiedTooltip:e("unverified_token_tooltip")})]}),(0,n.jsxs)(a.TradePrice,{children:[(0,n.jsx)(N,{}),o.UJ&&(0,n.jsx)(P,{variant:"inContent"})]})]})},U=({orders:e})=>(0,n.jsxs)(p,{children:[(0,n.jsx)(a.PageContent,{overflow:!0,children:(0,n.jsxs)(a.LimitOrderContent,{children:[(0,n.jsx)(F,{}),e]})}),!o.UJ&&(0,n.jsx)(P,{variant:"fixed"})]})},"../../libs/shared/dist/features/localization/index.js":(e,t,s)=>{"use strict";s.d(t,{D:()=>a.Z,M:()=>n.M});var n=s("../../libs/shared/dist/features/localization/constants/languages.js"),a=s("../../libs/shared/dist/features/localization/utils/changeLanguage.js")},"../../libs/shared/dist/features/nfts/hooks/useNftGroupSingle.js":(e,t,s)=>{"use strict";s.d(t,{V:()=>o});var n=s("../../../node_modules/react/index.js"),a=s("../../libs/shared/dist/features/nfts/hooks/useNftData.js");const o=e=>{const{data:{groupsSingles:t=[]}={}}=(0,a.c)();return(0,n.useMemo)((()=>{if(e)return t.find((t=>t.id===e))}),[t,e])}},"../../libs/shared/dist/features/notifications/utils/index.js":(e,t,s)=>{"use strict";s.d(t,{CO:()=>n.C,GW:()=>i.G,Uh:()=>o.U,oQ:()=>a.o});var n=s("../../libs/shared/dist/features/notifications/utils/registerFirebaseApp.js"),a=s("../../libs/shared/dist/features/notifications/utils/notificationReceipt.js"),o=s("../../libs/shared/dist/features/notifications/utils/areNotificationsSupported.js"),i=s("../../libs/shared/dist/features/notifications/utils/isWalletTypeSupportedForNotification.js")},"../../libs/shared/dist/features/notifications/utils/notificationReceipt.js":(e,t,s)=>{"use strict";s.d(t,{o:()=>a});var n=s("../../libs/shared/dist/api/index.js");const a=async({campaign_id:e,notification_id:t,user_id:s})=>{await(0,n.v_)("https://notification-receipt-api.solflare.com",{campaign_id:e,notification_id:t,user_id:s})}},"../../libs/shared/dist/features/portfolio/hooks/useAmountInput.js":(e,t,s)=>{"use strict";s.d(t,{_:()=>h});var n=s("../../../node_modules/react/index.js"),a=s("../../../node_modules/react-i18next/dist/es/useTranslation.js"),o=s("../../../node_modules/bignumber.js/bignumber.mjs"),i=s("../../libs/shared/dist/constants/mints.js"),r=s("../../libs/shared/dist/utils/common.js"),l=s("../../libs/shared/dist/utils/displayPrice.js"),d=s("../../libs/shared/dist/utils/truncateMiddle.js"),c=s("../../libs/shared/dist/utils/units.js"),u=s("../../libs/shared/dist/features/currencies/hooks/index.js"),m=s("../../libs/shared/dist/features/portfolio/queries/index.js"),p=s("../../libs/shared/dist/features/portfolio/utils/index.js");const h=({providedAccount:e})=>{const{data:t}=(0,m.yo)(),s=(0,u.Af)(),{t:h}=(0,a.$)(),{computeUnitPrice:x}=(0,m.NT)(),g=t?.tokens,j=(0,n.useMemo)((()=>{if(!g)return[];const e=g.reduce(((e,t)=>{const n=t.accounts.filter((e=>t.mint===i.BH||e.amount&&+e.amount>0)).map((e=>{const n=(0,c.d)(e?.amount||0,t.decimals),a=new o.Z(n).times(t.price?.price||0).toString();return{tokenId:t.mint,pubkey:e.pubkey,symbol:t.symbol,name:t.name||(0,d.r)(t.mint),isAta:!!e.isAta,showInfo:e.isAta||t.mint===i.BH||"spl-token-2022"===t.standard?"":h("portfolio_send_dropdown_not_ata_tooltip"),rawAmount:n,amount:(0,l.ED)({amount:n,displayType:"amount",pricePerCoin:t.price?.usdPrice||0}),rawValue:a,value:+n&&t.price?(0,l.ED)({prefix:s.symbol,amount:a,displayType:"value",pricePerCoin:t.price?.usdPrice||0}):"",logoURI:t.imageUri,verified:t.verified,price:String(t.price?.price??0),decimals:t.decimals,metadata:t.actions?.find((e=>"send"===e.name))?.metadata,standard:t.standard,extensions:t.extensions,priceInUsd:t.price?.usdPrice}}));return e.concat(n)}),[]);return(0,p.Bj)(e)}),[s.symbol,h,g]),b=e?.tokenId?j.find((t=>t.pubkey===e?.pubkey))||e:j[0],[f,_]=(0,n.useState)(b),[y,v]=(0,n.useState)(""),[k,w]=(0,n.useState)(""),C=(0,n.useMemo)((()=>(0,p.Ir)({amount:f?.rawAmount||"0",tokenId:f?.tokenId||"",computeUnitPrice:x})),[x,f?.rawAmount,f?.tokenId]),S=(0,n.useMemo)((()=>k?(0,p.ls)(j,k):j),[k,j]),T=+y&&f?.price&&(0,r.T4)(f?.price)?(0,l.ED)({amount:String(+y*+f.price),prefix:s.symbol,displayType:"value"}):"",A=(0,n.useCallback)((e=>{let{value:t}=e.target;t=t.trim(),t.includes(",")&&(t=t.replace(",","."));const s=(0,r.T4)(t);"."!==t&&","!==t?(0,r.w9)(t,f?.decimals||0)&&s&&v(t):v("0.")}),[f?.decimals]);return{sendTokens:j,selectedToken:f,setSelectedToken:_,maxAvailable:C,inputAmount:y,setInputAmount:v,computedInputValue:T,solBalance:j[0]?.rawAmount,computeUnitPrice:x,filteredTokens:S,setSearchParam:w,handleAmountChange:A,handleSelectedTokenChange:e=>{_(e),w(""),+y&&v((0,r.iP)(y||0,e?.decimals||0))}}}},"../../libs/shared/dist/features/recentAddresses/context/index.js":(e,t,s)=>{"use strict";s.d(t,{g:()=>n.g,r:()=>n.r});var n=s("../../libs/shared/dist/features/recentAddresses/context/RecentAddressesContext/index.js")},"../../libs/shared/dist/features/recipientInput/components/index.js":(e,t,s)=>{"use strict";s.d(t,{T:()=>n.T});var n=s("../../libs/shared/dist/features/recipientInput/components/RecipientInput/index.js")},"../../libs/shared/dist/features/recipientInput/context/index.js":(e,t,s)=>{"use strict";s.d(t,{j:()=>n.j,x:()=>n.x});var n=s("../../libs/shared/dist/features/recipientInput/context/RecipientInputState/index.js")},"../../libs/shared/dist/features/recipientInput/transformers/index.js":(e,t,s)=>{"use strict";s.d(t,{E5:()=>d,EO:()=>l,Pr:()=>r,fB:()=>i,sc:()=>c,t:()=>u,vd:()=>o});var n=s("../../libs/shared/dist/utils/truncateMiddle.js"),a=s("../../libs/shared/dist/features/recipientInput/types.js");const o=(e,t,s)=>{const o=t[e.pubkey]??s[e.pubkey]?.name??null;return{group:a.f.RECENT,name:o??e.name??(e.pubkey===e.address?(0,n.r)(e.address):e.address),address:e.pubkey,subtitle:o&&(0,n.r)(e.address)}},i=e=>({group:a.f.SAVED,name:e.name,address:e.pubkey,subtitle:e.pubkey===e.address?(0,n.r)(e.address):e.address}),r=(e,t)=>({group:t,address:e.publicKey,subtitle:(0,n.r)(e.publicKey),name:e.name}),l=e=>({group:a.f.MANUAL,name:e.query,subtitle:(0,n.r)(e.publicKey),address:e.publicKey??""}),d=e=>({group:a.f.MANUAL,name:(0,n.r)(e.publicKey),address:e.publicKey??""}),c=e=>({name:e.name??"",symbol:e.symbol??"",decimals:e.decimals,mint:e.tokenId,imageUri:e.logoURI,accounts:[],verified:e.verified,standard:e.standard}),u=e=>({pubkey:e.pubkey,amount:e.amount,uiAmount:""})},"../../libs/shared/dist/features/settings/contexts/BreadcrumbContext.js":(e,t,s)=>{"use strict";s.d(t,{U:()=>n});const n=(0,s("../../../node_modules/react/index.js").createContext)(null)},"../../libs/shared/dist/features/settings/contexts/index.js":(e,t,s)=>{"use strict";s.d(t,{Tn:()=>r.T,U7:()=>i.U,UR:()=>n.U,ZB:()=>o.Z,kV:()=>a.k});var n=s("../../libs/shared/dist/features/settings/contexts/BreadcrumbContext.js"),a=s("../../libs/shared/dist/features/settings/contexts/DelegatedTokensProviderContext.js"),o=s("../../libs/shared/dist/features/settings/contexts/SelectContext.js"),i=s("../../libs/shared/dist/features/settings/contexts/SignedMessagesLogsContext.js"),r=s("../../libs/shared/dist/features/settings/contexts/TrustedAppsContext.js")},"../../libs/shared/dist/features/settings/hooks/index.js":(e,t,s)=>{"use strict";s.d(t,{L7:()=>u.L,LN:()=>a.L,Q$:()=>d.Q,Ql:()=>p.Q,fb:()=>n.f,ix:()=>l.i,ks:()=>h.k,nO:()=>m.n,o4:()=>i.o,q:()=>o.q,sC:()=>r.s,up:()=>c.u});var n=s("../../libs/shared/dist/features/settings/hooks/useBreadcrumb/index.js"),a=s("../../libs/shared/dist/features/settings/hooks/useChangePasswordForm/index.js"),o=s("../../libs/shared/dist/features/settings/hooks/useCurrencySettings/index.js"),i=s("../../libs/shared/dist/features/settings/hooks/useDelegatedTokens/index.js"),r=s("../../libs/shared/dist/features/settings/hooks/useHideBalancesSettings/index.js"),l=s("../../libs/shared/dist/features/settings/hooks/useLanguageSettings/index.js"),d=s("../../libs/shared/dist/features/settings/hooks/useNetworkSettings/index.js"),c=s("../../libs/shared/dist/features/settings/hooks/useNotificationsSettings/index.js"),u=s("../../libs/shared/dist/features/settings/hooks/useSelect/index.js"),m=s("../../libs/shared/dist/features/settings/hooks/useSignedMessagesLogs/index.js"),p=s("../../libs/shared/dist/features/settings/hooks/useTrustedApps/index.js"),h=s("../../libs/shared/dist/features/settings/hooks/useLoadTrustedApps.js")},"../../libs/shared/dist/features/settings/hooks/useBreadcrumb/index.js":(e,t,s)=>{"use strict";s.d(t,{f:()=>o});var n=s("../../../node_modules/react/index.js"),a=s("../../libs/shared/dist/features/settings/contexts/index.js");const o=()=>{const e=(0,n.useContext)(a.UR);if(null===e)throw new Error("useBreadcrumb must be used within a BreadcrumbContext");return e}},"../../libs/shared/dist/features/settings/index.js":(e,t,s)=>{"use strict";s.d(t,{ii:()=>a.Z,K7:()=>o.Z,XB:()=>i.Z,Qh:()=>r.Z,fb:()=>n.fb,LN:()=>n.LN,q:()=>n.q,o4:()=>n.o4,sC:()=>n.sC,ix:()=>n.ix,ks:()=>n.ks,Q$:()=>n.Q$,up:()=>n.up,L7:()=>n.L7,nO:()=>n.nO,Ql:()=>n.Ql});var n=s("../../libs/shared/dist/features/settings/hooks/index.js"),a=s("../../libs/shared/dist/features/settings/providers/BreadcrumbProvider.js"),o=s("../../libs/shared/dist/features/settings/providers/DelegatedTokensProvider.js"),i=s("../../libs/shared/dist/features/settings/providers/SelectProvider.js"),r=s("../../libs/shared/dist/features/settings/providers/SignedMessagesLogsProvider.js")},"../../libs/shared/dist/features/settings/providers/BreadcrumbProvider.js":(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/react/index.js"),o=s("../../libs/shared/dist/features/settings/contexts/index.js");const i=({initialPaths:e=[],children:t})=>{const[s,i]=(0,a.useState)(e),r=(0,a.useCallback)((e=>{i((t=>(Array.isArray(e)?e:[e]).reduce(((e,s)=>{const n=t.findIndex((e=>e.id===s.id));return-1===n?[...e,s]:[...e.splice(0,n),s,...e.splice(n)]}),t)))}),[]),l={addPath:r,removePath:(0,a.useCallback)((e=>{const t=Array.isArray(e)?e:[e];i((e=>e.filter((e=>!t.includes(e.id)))))}),[]),paths:s};return(0,n.jsx)(o.UR.Provider,{value:l,children:t})}},"../../libs/shared/dist/features/shared/account/index.js":(e,t,s)=>{"use strict";s.d(t,{$v:()=>a.$,hu:()=>a.h,ru:()=>n.r});var n=s("../../libs/shared/dist/features/shared/account/api/index.js"),a=s("../../libs/shared/dist/features/shared/account/utils.js")},"../../libs/shared/dist/features/shared/blocklist/api/index.js":(e,t,s)=>{"use strict";s.d(t,{Qc:()=>o,U5:()=>l});var n=s("../../libs/shared/dist/api/index.js"),a=s("../../libs/shared/dist/storage/solflareService.js");const o=async()=>i(),i=async()=>await l()??await r(),r=async()=>{const{body:e}=await(0,n.U2)("https://solflare-blocklist.moonshot.workers.dev/");return await d(e),e},l=async(e=!1)=>{try{const t=await a.Z.blocklist.get();return t?!e&&t&&t?.time<Date.now()-216e5?null:t.data:null}catch(e){return null}},d=e=>{const t={data:e,time:Date.now()};return a.Z.blocklist.set(t)}},"../../libs/shared/dist/features/shared/snackbar/index.js":(e,t,s)=>{"use strict";s.d(t,{j$:()=>f,Ds:()=>j,RM:()=>_});var n=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/react/index.js"),o=s("../../../node_modules/notistack/notistack.esm.js"),i=s("../../../node_modules/@mui/icons-material/esm/CheckCircle.js"),r=s("../../../node_modules/@mui/icons-material/esm/Cancel.js"),l=s("../../../node_modules/@mui/icons-material/esm/Info.js"),d=s("../../../node_modules/@mui/material/styles/styled.js"),c=s("../../../node_modules/@mui/material/Collapse/Collapse.js"),u=s("../../../node_modules/@mui/styles/makeStyles/makeStyles.js"),m=s("../../libs/foundation-ui/dist/index.js");const p=(0,d.ZP)(o.wT)((({theme:e})=>({"&.notistack-MuiContent":{color:e.palette.common.white,background:"rgba(0, 0, 0, 0.9)","& button":{color:e.palette.common.white},"@supports (backdrop-filter: blur(15px))":{backdropFilter:"blur(15px)",background:"linear-gradient(89.82deg, rgba(255, 255, 255, 0.3) -0.29%, rgba(255, 255, 255, 0) 67.5%)"}},"&.notistack-MuiContent-info":{color:e.palette.common.white,background:"rgba(45, 139, 250, 0.9)","@supports (backdrop-filter: blur(15px))":{backdropFilter:"blur(15px)",background:"linear-gradient(90deg, rgba(45, 139, 250, 0.3) -0.44%, rgba(45, 139, 250, 0) 73.67%)"}},"&.notistack-MuiContent-warning":{color:e.palette.common.white,background:"rgba(237, 191, 56, 0.9)","@supports (backdrop-filter: blur(15px))":{backdropFilter:"blur(15px)",background:"linear-gradient(90deg, rgba(237, 191, 56, 0.3) -0.44%, rgba(237, 191, 56, 0) 76.92%)"}},"&.notistack-MuiContent-error":{color:e.palette.common.white,background:"rgba(218, 73, 63, 0.9)","@supports (backdrop-filter: blur(15px))":{backdropFilter:"blur(15px)",background:"linear-gradient(90deg, rgba(218, 73, 63, 0.3) -0.44%, rgba(218, 73, 63, 0) 67.06%, rgba(218, 73, 63, 0) 67.07%)"}},"&.notistack-MuiContent-success":{color:e.palette.common.white,background:"rgba(26, 188, 156, 0.9)","@supports (backdrop-filter: blur(15px))":{backdropFilter:"blur(15px)",background:"linear-gradient(89.88deg, rgba(26, 188, 156, 0.3) -0.35%, rgba(26, 188, 156, 0) 67.37%)"}}}))),h=(0,u.Z)((e=>({containerZIndex:{zIndex:`${m.Z_INDEX_CONFIRMATION_SNACKBAR} !important`},containerMarginBottom:{marginBottom:60},containerMarginTop:{marginTop:9},snackbar:{borderRadius:10,margin:e.spacing(.75,0),pointerEvents:"all"},iconSuccess:{marginRight:8,fill:"white","@supports (backdrop-filter: blur(15px))":{fill:"#1ABC9C"}},iconWarning:{marginRight:8,fill:"white","@supports (backdrop-filter: blur(15px))":{fill:"#EDBF38"}},iconError:{marginRight:8,fill:"white","@supports (backdrop-filter: blur(15px))":{fill:"#DA493F"}},iconInfo:{marginRight:8,fill:"white","@supports (backdrop-filter: blur(15px))":{fill:"#2D8BFA"}}}))),x=({marginTop:e,marginBottom:t,vertical:s="bottom",horizontal:a="center",children:o})=>{const d=h();return(0,n.jsx)(p,{maxSnack:5,anchorOrigin:{vertical:s,horizontal:a},classes:{containerRoot:[d.containerZIndex,d.containerZIndex,t&&d.containerMarginBottom,e&&d.containerMarginTop].filter(Boolean).join(" "),root:d.snackbar},iconVariant:{success:(0,n.jsx)(i.Z,{className:d.iconSuccess}),error:(0,n.jsx)(r.Z,{className:d.iconError}),warning:(0,n.jsx)(l.Z,{className:d.iconWarning}),info:(0,n.jsx)(l.Z,{className:d.iconInfo})},TransitionComponent:c.Z,children:o})},g=(0,a.createContext)(null),j=((0,a.createContext)(null),()=>{const e=(0,a.useContext)(g);if(!e)throw new Error("useSnackbar must be used within a SnackbarProvider");return e}),b=({children:e})=>{const{enqueueSnackbar:t,closeSnackbar:s}=(0,o.Ds)(),i=(0,a.useCallback)(((e,s={})=>t(e,s)),[t]),r=(0,a.useCallback)((e=>s(e)),[s]),l=(0,a.useMemo)((()=>({enqueueSnackbar:i,closeSnackbar:r})),[r,i]);return(0,n.jsx)(g.Provider,{value:l,children:e})},f=({children:e,...t})=>(0,n.jsx)(x,{...t,children:(0,n.jsx)(b,{children:e})}),_=e=>function(t){const{enqueueSnackbar:s,closeSnackbar:a}=j();return(0,n.jsx)(e,{...t,enqueueSnackbar:s,closeSnackbar:a})};var y=s("../../../node_modules/@mui/material/Box/Box.js"),v=s("../../../node_modules/@mui/material/LinearProgress/LinearProgress.js");s("../../../node_modules/lodash/lodash.js"),s("../../libs/shared/dist/hooks/index.js"),s("../../libs/shared/dist/modals/index.js"),(0,d.ZP)(y.Z)`
  position: fixed;
  top: 63px;
  width: 100%;
  z-index: 20000;
`,(0,d.ZP)(y.Z)`
  display: flex;
  justify-content: center;
  position: absolute;
  cursor: pointer;
  top: 50%;
  left: 50%;
  max-width: calc(100% - 32px);
  transform: translate(-50%, -50%);
  &:before {
    content: '';
    width: 100%;
    height: 100%;
    position: absolute;
    z-index: -1;
    border-radius: 19px;
    background: #131519;
  }
`,(0,d.ZP)(y.Z)`
  border: 1px solid transparent;
  border-radius: 19px;
  padding: 2px 8px;
  white-space: nowrap;
  max-width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
  text-align: center;
`,(0,d.ZP)(v.Z)`
  background: rgba(245, 252, 255, 0.1);
  height: 1px;
  & .MuiLinearProgress-bar {
    background: linear-gradient(90deg, #3dd28b 0%, rgba(61, 210, 139, 0) 88.53%);
  }
`},"../../libs/shared/dist/features/swap/components/SwapForm/index.js":(e,t,s)=>{"use strict";s.d(t,{B:()=>te});var n=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/react/index.js"),o=s("../../../node_modules/react-i18next/dist/es/useTranslation.js"),i=s("../../../node_modules/react-router/dist/index.js"),r=s("../../../node_modules/lodash/lodash.js"),l=s("../../libs/foundation-ui/dist/index.js"),d=s("../../../node_modules/@fortawesome/pro-light-svg-icons/index.mjs"),c=s("../../libs/shared/dist/components/TokenAvatar/index.js");const u=({fromTokenImage:e,fromAmountWithSymbol:t,fromTokenVerified:s,toTokenImage:a,toAmountWithSymbol:o,toTokenVerified:i})=>(0,n.jsx)(l.ConfirmTransaction,{avatar:(0,n.jsx)(l.IconAvatar,{size:"xl",icon:d.O8f}),transactionFromItem:(0,n.jsx)(l.TXListItem,{title:t,avatar:(0,n.jsx)(c.y,{src:e,verified:s})}),transactionToItem:(0,n.jsx)(l.TXListItem,{title:o,avatar:(0,n.jsx)(c.y,{src:a,verified:i})})});var m=s("../../libs/shared/dist/constants/mints.js"),p=s("../../libs/shared/dist/hooks/useSolanaBalance/index.js"),h=s("../../libs/shared/dist/storage/solflareService.js"),x=s("../../libs/shared/dist/utils/common.js"),g=s("../../libs/shared/dist/utils/displayPrice.js"),j=s("../../libs/shared/dist/utils/lamportToSol.js"),b=s("../../libs/shared/dist/utils/units.js"),f=s("../../libs/shared/dist/features/amountInput/utils.js"),_=s("../../libs/shared/dist/features/featureFlags/index.js"),y=s("../../libs/shared/dist/features/infoScreen/modals/index.js"),v=s("../../libs/shared/dist/features/trading/constants.js"),k=s("../../libs/shared/dist/features/trading/context/index.js"),w=s("../../libs/shared/dist/features/trading/hooks/index.js"),C=s("../../libs/shared/dist/features/trading/queries/useWalletTokensQuery.js"),S=s("../../libs/shared/dist/features/transactionFlow/context/index.js"),T=s("../../libs/shared/dist/features/walletData/hooks/index.js"),A=s("../../libs/shared/dist/features/swap/api/requests.js"),I=s("../../../node_modules/@solana/web3.js/lib/index.browser.esm.js"),Z=s("../../../node_modules/base64-js/index.js"),M=s("../../libs/shared/dist/api/index.js"),P=s("../../libs/shared/dist/constants/index.js"),D=s("../../libs/shared/dist/utils/extension.js");const B=async({publicKey:e,data:t})=>{try{const{body:s}=await(0,M.v_)(`${P.JF}/v2/swap/tx`,{address:e,platform:t.platform,data:t.data,deviceType:D.p1?"extension":"web"});return{transaction:I.VersionedTransaction.deserialize(Z.toByteArray(s.data.transaction)),data:{...s}}}catch(e){throw new Error(e?.response?.data?.error||e?.message)}};var E,O,L=s("../../libs/shared/dist/features/swap/constants.js"),N=s("../../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs"),R=s("../../libs/shared/dist/constants/routes.js"),F=s("../../libs/shared/dist/hooks/index.js"),U=s("../../libs/shared/dist/features/transactionFlow/hooks/index.js"),$=s("../../libs/shared/dist/features/transactionFlow/utils/index.js");!function(e){e.priceImpact="priceImpact",e.moreExpensive="moreExpensive"}(E||(E={})),function(e){e.INSUFFICIENT_FUNDS="insufficient-funds",e.INSUFFICIENT_SOL="insufficient-sol",e.SLIPPAGE_ERROR="slippage-error",e.SIMULATION_ERROR="simulation-error",e.UNKNOWN_ERROR="unknown-error",e.BLOCKHASH_NOT_FOUND="blockhash-not-found"}(O||(O={}));var W=s("../../../node_modules/console-browserify/index.js");const K=()=>{const e=(0,i.s0)(),{t}=(0,o.$)(),{transactionData:s,callbacks:n}=(0,S.p)(),{publicKey:r,signTransaction:l}=(0,U.mx)(),d=(0,F.Q)({purpose:"transfer"}),c=(0,U.NX)(),u=(0,T.gf)();return{signAndSend:(0,a.useCallback)((async()=>{const a=c();try{const o=s&&"transaction"in s?s.transaction:null,i=s&&"transaction"in s&&s?.data||{};if(!s||!o)return;if(n.onStart(),!o)throw Error("No transaction data");const c=o?.message?.serialize();let m=null;try{m=await l(c)}catch(e){return void n.onSign({status:"rejected"})}if(!m)return void n.onSign({status:"rejected"});n.onSign({status:"success"}),o.addSignature(new I.PublicKey(r),m),a.reset(),a.showSending();const{data:p,platform:h}=i;let x;try{x=await(async({platform:e,data:t},s)=>{try{const n={"X-Origin":"https://solflare.com"};n["Ref-Key"]=s,n["If-None-Match"]="0200";const{body:a}=await(0,M.v_)(`${P.JF}/v2/swap/relay-extended`,{platform:e,data:t},{headers:n});return a}catch(e){throw new Error(e?.response?.data?.error||e?.message)}})({data:{...p??{},transaction:Z.fromByteArray(o.serialize())},platform:h},u),n.onBroadcast({status:"success",data:i,transaction:o,signature:x})}catch(e){const{messageShort:s,message:r}=(e=>{switch(e){case O.INSUFFICIENT_FUNDS:return{messageShort:"trade_insufficient_funds_error_short",message:"trade_insufficient_funds_error_full"};case O.INSUFFICIENT_SOL:return{messageShort:"trade_insufficient_sol_error_short",message:"trade_insufficient_sol_error_full"};case O.SLIPPAGE_ERROR:return{messageShort:"trade_slippage_error_short",message:"trade_slippage_error_full"};case O.SIMULATION_ERROR:return{messageShort:"trade_simulation_error_short",message:"trade_simulation_error_full"};case O.BLOCKHASH_NOT_FOUND:return{messageShort:"trade_blockhash_not_found_short",message:"trade_blockhash_not_found_full"};default:return{messageShort:"trade_unknown_error_short",message:"trade_unknown_error_full"}}})(e.message);return W.error("Swap broadcast error",e),a.showCustom({message:t(r),variant:"error",messageShort:t(s)}),void n.onBroadcast({status:"fail",error:e,parsedError:t(r),stringifiedError:t(r),data:i,transaction:o,signature:x})}try{a.showConfirming(x),await(0,$.g)(d,x),a.showSuccess(),n.onConfirm({status:"success",data:i,transaction:o,signature:x})}catch(s){a.showCustom({message:s?.toString()||t("transaction_failed"),variant:"error",onClick:()=>e(R.i1.MAIN),messageShort:t("transaction_failed")}),n.onConfirm({status:"fail",error:s,parsedError:s?.toString?.()??"Unknown error",stringifiedError:s?.toString?.()??"Unknown error",data:i,transaction:o,signature:x})}}finally{n.onEnd()}}),[n,d,c,u,e,l,t,s,r])}},z={amount:(0,1*L.R),percentage:1*L.R/100};var H=s("../../../node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js"),V=s("../../libs/rise-ui/dist/index.js");const G=({onCheckedChange:e,title:t,checked:s})=>{const{t:a}=(0,o.$)();return(0,n.jsx)(l.DrawerContent,{children:(0,n.jsxs)(l.InformationSection,{children:[(0,n.jsx)(l.Section,{children:(0,n.jsx)(l.Alert,{title:t,message:a("swap_unfavorable_trade_warning_description"),variant:"warning"})}),(0,n.jsx)(l.Section,{children:(0,n.jsx)(l.Paragraph,{children:a("swap_unfavorable_trade_description")})}),(0,n.jsx)(l.Section,{children:(0,n.jsx)(l.Control,{id:"acknowladgeBadTrade",label:a("swap_unfavorable_trade_checkbox_label"),action:(0,n.jsx)(l.Checkbox,{checked:s,onChange:t=>e(!!t.target.checked)})})})]})})},q=(0,H.Z)("div")((()=>({marginTop:"32px",marginBottom:"-24px"}))),Y=({onOpenChange:e,onContinueClick:t,open:s,variant:i=E.priceImpact,impact:r,percentageDiff:d=""})=>{const{t:c}=(0,o.$)(),[u,m]=(0,a.useState)(!1),p={[E.priceImpact]:{title:c("swap_unfavorable_trade_price_impact_title"),description:c("swap_unfavorable_trade_price_impact_warning_title",{impact:`${r}%`})},[E.moreExpensive]:{title:c("swap_unfavorable_trade_low_rate_title"),description:c("swap_unfavorable_trade_low_rate_warning_title",{rate:`${d}%`,exchange:"CoinGecko"})}},h=t=>{m(!1),e(t)},x=()=>{m(!1),t()};return D.p1&&!D.Cy?(0,n.jsxs)(l.Drawer,{onOpenChange:h,open:s,children:[(0,n.jsx)(l.DrawerTitle,{center:p[i]?.title}),(0,n.jsx)(G,{checked:u,onCheckedChange:e=>m(e),title:p[i]?.description}),(0,n.jsx)(l.DrawerActions,{children:(0,n.jsxs)(l.ButtonGroup,{children:[(0,n.jsx)(l.Button,{onClick:()=>h(!1),variant:"secondary",children:c("action_cancel")}),(0,n.jsx)(l.Button,{disabled:!u,variant:"destructive",onClick:x,children:c("action_continue")})]})})]}):(0,n.jsxs)(V.u_,{title:(0,n.jsx)(l.DrawerTitleTypography,{children:p[i]?.title}),open:s,onClose:()=>h(!1),children:[(0,n.jsx)(G,{checked:u,onCheckedChange:e=>m(e),title:p[i]?.description}),(0,n.jsx)(q,{children:(0,n.jsxs)(l.ButtonGroup,{children:[(0,n.jsx)(l.Button,{onClick:()=>h(!1),variant:"secondary",children:c("action_cancel")}),(0,n.jsx)(l.Button,{disabled:!u,variant:"destructive",onClick:x,children:c("action_continue")})]})})]})};var Q=s("../../../node_modules/bignumber.js/bignumber.mjs");const J=({children:e,isLoading:t=!1})=>(0,n.jsx)(n.Fragment,{children:t?(0,n.jsx)(l.Skeleton,{height:"10px",variant:"text",width:"120px"}):e}),X=({enable:e,quote:t,marketPrice:s,isLoading:i,fromCoin:r,toCoin:d})=>{const{t:c}=(0,o.$)(),[u,m]=(0,a.useState)("fromTo"),p=(0,a.useMemo)((()=>{if(i||!s)return{fromTo:"",toFrom:""};const e=r.tokenId===s.from?r:d,t=r.tokenId===s.denom?r:d,n=(0,g.ED)({amount:s?.price,displayType:"solana"}),a=(0,g.ED)({amount:new Q.Z(1).dividedBy(s.price??0).toString(),displayType:"solana"});return{fromTo:`${n} ${t.symbol} per ${e.symbol}`,toFrom:`${a} ${e.symbol} per ${t.symbol}`}}),[r,i,s,d]),h=Math.abs(100*(t?.priceImpactPct??0));return(0,a.useEffect)((()=>{m("fromTo")}),[r?.tokenId,d?.tokenId]),e?(0,n.jsxs)(l.InfoTable,{children:[(0,n.jsx)(l.InfoRow,{left:(0,n.jsxs)(l.InfoRowLeft,{children:[c("swap_best_price"),(0,n.jsx)(l.InfoWithTooltip,{onOpen:_.Bi,tooltip:c("swap_best_price_tooltip")})]}),right:(0,n.jsx)(l.InfoRowRight,{onClick:()=>{m((e=>"fromTo"===e?"toFrom":"fromTo"))},isLoading:i,variant:h>v.yR?"warning":"primary",children:(0,n.jsx)(J,{children:p[u]})})}),(0,n.jsx)(l.InfoRow,{left:(0,n.jsxs)(l.InfoRowLeft,{children:[c("swap_minimum_received"),(0,n.jsx)(l.InfoWithTooltip,{onOpen:_.lh,tooltip:c("swap_minimum_received_tooltip")})]}),right:(0,n.jsx)(l.InfoRowRight,{isLoading:i,children:(0,n.jsx)(J,{children:(0,g.ED)({suffix:` ${d.symbol}`,displayType:"solana",amount:(0,x.iP)((0,b.d)(t?.otherAmountThreshold||"",d.decimals),d.decimals)})})})})]}):null};var ee=s("../../../node_modules/console-browserify/index.js");const te=()=>{const{t:e}=(0,o.$)(),t=(0,i.bS)("/portfolio/:id"),s=(0,i.TH)(),{swapFee:d}={swapFee:z},{selectedFromCoin:c,setSelectedFromCoin:I,selectedToCoin:Z,setSelectedToCoin:M,fromCoins:P,toCoins:D,fromAmount:O,setFromAmount:R,slippage:F,setSlippage:U,openSettings:$,settingsData:W,setSettingsData:H,setFromSearchParam:V,setToSearchParam:G,tokensQuery:q,isFromTokensLoading:Q,isToTokensLoading:J,maxFromBalance:te,setExpiry:se}=(0,k.s)();(0,a.useEffect)((()=>{if(c.tokenId===m.BH||c.tokenId===m.Jb)(()=>{const e=P.find((e=>e.tokenId===m.BH||e.tokenId===m.Jb));e&&I({...c,tokenId:m.Jb,amount:e.amount,rawAmount:e.rawAmount})})();else{const e=P.find((e=>e.tokenId===c.tokenId));e&&e.rawAmount!==c.rawAmount&&I(e)}}),[P]);const{refetch:ne}=(0,C.t)(),[ae,oe]=(0,a.useState)(!1);(0,a.useEffect)((()=>{D.length>0&&P.length>0&&oe(!0)}),[D,P]),(0,a.useEffect)((()=>{if(ae){const e=new URLSearchParams(s.search),t=e.get("to"),n=e.get("from");if(t)if(D.some((e=>e.tokenId===t))){if(!Z.tokenId){const e=D.find((e=>e.tokenId===t));e&&M(e)}G(null)}else Z.tokenId||G(t);if(n)if(P.some((e=>e.tokenId===n))||D.some((e=>e.tokenId===n))){if(!c.tokenId){const e=P.find((e=>e.tokenId===n))||D.find((e=>e.tokenId===n));e&&(I(e),G(null))}V(null)}else c.tokenId||(V(n),G(n))}}),[ae,D,P,s,c,Z]);const{quote:{data:ie,dataUpdatedAt:re,isLoading:le,refetch:de,remove:ce,isFetching:ue,status:me,isError:pe,isSuccess:he}}=(({amount:e,feeBps:t,inputMint:s,outputMint:n,decimals:a,slippageBps:o="0"})=>{const{publicKey:i}=(0,T.rT)();return{quote:(0,N.a)({queryKey:["jupiterQuote"],queryFn:()=>(0,A.m)({publicKey:i,amount:(0,b.z)(e,a),feeBps:t,inputMint:s,outputMint:n,slippageBps:o}),enabled:!1,cacheTime:0,retry:!1})}})({amount:O,slippageBps:F.value.toString(),inputMint:c?.tokenId,outputMint:Z.tokenId,decimals:c?.decimals,feeBps:d.amount}),[xe,ge]=(0,a.useState)(O),[je,be]=(0,a.useState)(""),[fe,_e]=(0,a.useState)(!1),[ye,ve]=(0,a.useState)(0),ke=(0,a.useRef)(),[we,Ce]=(0,a.useState)(!1),[Se,Te]=(0,a.useState)(E.priceImpact),{transactionInit:Ae}=(0,S.p)(),{publicKey:Ie}=(0,T.rT)(),Ze=(0,p.h)(),Me=(0,a.useMemo)((()=>(0,j.s)(Ze.lamports).toNumber()),[Ze.lamports]);(0,a.useEffect)((()=>()=>ce()),[]);const Pe=ie?.uiData,De=+(100*(Pe?.priceImpactPct??0)).toFixed(2),Be=(0,a.useCallback)((()=>{de()}),[de]),{alertProps:Ee}=(0,w.v)({variant:"swap",solBalance:Me,fromAmount:O,maxFromBalance:te,selectedFromCoin:c,priceImpact:De,hasQuoteData:!!Pe,isQuoteLoading:le,dataUpdatedAt:re,isError:pe}),Oe=!("error"!==Ee?.variant&&+xe&&c.tokenId&&Z.tokenId&&fe),Le=(0,a.useRef)((0,r.debounce)((e=>ge(e)),1e3)).current,Ne=(0,a.useRef)((0,r.debounce)((()=>Be()),500)).current,Re=(0,a.useCallback)((()=>{_e(!1),Ne()}),[Ne]),Fe=()=>setInterval((()=>{ve((e=>e+1))}),1e3),Ue=(0,a.useCallback)(((e=0)=>{clearInterval(ke.current),ke.current=Fe(),ve(e)}),[]),$e=({type:e,coin:t})=>{if({from:c,to:Z}[e]===t)return;const s={from:I,to:M},n={from:V,to:G};if(_e(!1),"from"===e&&Z.tokenId===t.tokenId||"to"===e&&c.tokenId===t.tokenId)return We(),void n[e](null);s[e](t),n[e](null)},We=()=>{(0,_.xN)();const e=je.replace(/,/g,"");+O&&R((0,x.iP)(e||0,Z.decimals)),_e(!1),I(Z),M(c)},Ke={isSourceTokenMaxAmount:(0,b.d)(Pe?.inAmount||0,c.decimals)===te.toString(),sourceTokenTicker:c.symbol,sourceTokenMintAddress:c.tokenId,sourceTokenAmount:+(0,b.d)(Pe?.inAmount||0,c.decimals),sourceTokenAmountInUsd:+O*c.usdPrice,destinationTokenTicker:Z.symbol,destinationTokenMintAddress:Z.tokenId,destinationTokenAmount:+(0,b.d)(Pe?.outAmount||0,Z.decimals),destinationTokenAmountInUsd:+(0,b.d)(Pe?.outAmount||0,Z.decimals)*Z.usdPrice,destinationFeeInTokenAmount:+(0,b.d)(Pe?.destinationFeeInTokenAmount??0,Z.decimals),destinationFeeInUsd:Pe?.destinationFeeInUsd||"0",slippage:F.label,priceImpact:100*(Pe?.priceImpactPct||0),market:Pe?.market||"",source:s.state?.from?s.state.from:t?"singleToken":"swap"},ze=async()=>{if(!ie?.txData)return;Ce(!1),_e(!1);const t=je.replace(/,/g,"");await Ae({title:e("swap_confirmation_title"),txBuilder:B,builderParams:{publicKey:Ie,data:ie.txData},commitment:"confirmed",useSignAndSend:K,ffLogFunction:_.jV,ffParams:Ke,onBroadcast:({status:e})=>{"success"===e?(R(""),be(""),ce()):Re()},onConfirm:({status:e})=>{"fail"===e&&Re(),"success"===e&&(_e(!1),q.refetch(),ne())},onSign:({status:e})=>{"rejected"===e&&Re()},confirmDialog:(0,n.jsx)(u,{fromTokenImage:c.logoURI,fromAmountWithSymbol:(0,g.ED)({amount:O,suffix:` ${c.symbol}`,pricePerCoin:c.usdPrice,displayType:"solana"}),fromTokenVerified:c.verified,toTokenImage:Z.logoURI,toAmountWithSymbol:(0,g.ED)({amount:t,suffix:` ${Z.symbol}`,pricePerCoin:Z.usdPrice,displayType:"solana"}),toTokenVerified:Z.verified})})};return(0,a.useEffect)((()=>{(async()=>{const{refetch:e,slippage:t,expiry:s}=W||{};e&&!$&&(O&&Re(),void 0!==t&&(U({value:Math.round(100*t),label:String(t)}),await h.Z.swapSlippage.set(+t)),s&&(se(s),await h.Z.limitOrderExpiry.set(+s)),H(void 0))})()}),[O,W,$,H,U,se,Re]),(0,a.useEffect)((()=>(ke.current=Fe(),fe?(ye>L.P&&(Be(),Ue(1)),()=>{clearInterval(ke.current)}):(clearInterval(ke.current),void ve(0)))),[ye,fe,Ue,Be]),(0,a.useEffect)((()=>{xe&&+O==+xe&&+xe&&Z.tokenId&&c.tokenId&&xe!==O&&Be()}),[xe,O]),(0,a.useEffect)((()=>{O?(Z.tokenId&&O||be(""),+O&&Z.tokenId&&c.tokenId&&Be()):be("")}),[c.tokenId,Z.tokenId]),(0,a.useEffect)((()=>{if(!pe&&Pe||be(""),he&&!ue&&Pe){Te(null);const e=(0,b.d)(Pe.outAmount,Z.decimals);be((0,g.ED)({displayType:"solana",amount:(0,x.iP)(e,Z.decimals)})),_e(!0),De>v.yR&&Te(E.priceImpact)}}),[me,ue]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(y.v,{}),(0,n.jsxs)(l.PageContent,{overflow:!0,children:[(0,n.jsxs)(l.Swap,{children:[(0,n.jsxs)(l.SwapAssets,{children:[(0,n.jsx)(l.SwapInput,{onBlur:()=>R((e=>""===O?"":(0,x.iP)(e,c.decimals))),placeholder:"0",amount:O,onAmountChange:e=>{let{value:t}=e.target;t=t.trim();try{const e=(0,f.$)(t,c.decimals);R(e),+e||(be(""),ce()),Le(+e),_e(!1)}catch(e){ee.log(e)}},isLoading:Q&&!P.length&&!c?.tokenId,isLoadingAdditionalTokens:!1,id:"fromDefault",onSearchChange:e=>V(e.target.value),selectedToken:c,onSelectedTokenChange:e=>$e({type:"from",coin:e}),onOpenChange:e=>{e||V(null)},label:(0,n.jsx)(l.Label,{htmlFor:"fromDefault",children:e("sell_label")}),right:(0,n.jsx)(l.RightLabel,{onClick:()=>{(0,_.Wz)(),te&&c.tokenId&&Z.tokenId&&(Re(),R(te.toString()),xe||ge(te.toString()))},children:(0,g.ED)({displayType:"solana",amount:te||0,prefix:`${e("swap_max")}: `})}),tokens:P,emptyTokenSearch:0===P.length?e("swap_tokens_empty_state"):"",unverifiedTooltip:e("unverified_token_tooltip")}),(0,n.jsx)(l.SwapDivider,{onClick:We,disabled:ue}),(0,n.jsx)(l.SwapInput,{placeholder:"0",amount:je,id:"toDefault",readOnly:!0,isLoading:J&&!D.length&&!Z?.tokenId,isLoadingAdditionalTokens:J,isLoadingAmount:(ue||le)&&+O>0,onSearchChange:e=>G(e.target.value),onOpenChange:e=>{e||G(null)},selectedToken:Z,onSelectedTokenChange:e=>$e({type:"to",coin:e}),label:(0,n.jsxs)(l.Label,{htmlFor:"toDefault",children:[e("buy_label")," ",(0,n.jsx)(l.InfoWithTooltip,{onOpen:_.n$,tooltip:e("swap_buy_tooltip",{swapFee:d.percentage})})]}),right:(0,n.jsx)(l.RightLabel,{htmlFor:"toDefault",children:(0,g.ED)({displayType:"solana",amount:Z.rawAmount||0,prefix:`${e("table_balance")}: `})}),tokens:D,emptyTokenSearch:0===D.length?e("swap_tokens_empty_state"):"",unverifiedTooltip:e("unverified_token_tooltip")})]}),(0,n.jsx)(X,{enable:Boolean(ue||Pe&&c.tokenId&&Z.tokenId&&+O&&he),fromCoin:c,toCoin:Z,quote:Pe,marketPrice:Pe?.rate,isLoading:ue||le||!O})]}),(0,n.jsx)(Y,{open:we,variant:Se,impact:(0,g.ED)({amount:De,displayType:"amount"}),onContinueClick:ze,onOpenChange:Ce})]}),(0,n.jsxs)(l.FooterActions,{children:[Ee&&(0,n.jsx)(l.Alert,{...Ee}),(0,n.jsx)(l.Button,{onClick:()=>{Se?Ce(!0):ze()},disabled:Oe,children:e("action_swap")})]})]})}},"../../libs/shared/dist/features/trading/queries/index.js":(e,t,s)=>{"use strict";s.d(t,{Kc:()=>a.K,iB:()=>n.i,tT:()=>o.t});var n=s("../../libs/shared/dist/features/trading/queries/useMarketPriceQuery.js"),a=s("../../libs/shared/dist/features/trading/queries/useCappedTokensQuery.js"),o=s("../../libs/shared/dist/features/trading/queries/useWalletTokensQuery.js")},"../../libs/shared/dist/features/transactionFlow/components/ConfirmAnalizedTransaction/index.js":(e,t,s)=>{"use strict";s.d(t,{J:()=>i});var n=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../libs/shared/dist/features/transactionFlow/context/index.js"),o=s("../../libs/shared/dist/features/transactionFlow/components/AnalizedDialogContent/index.js");const i=()=>{const{openAnalizedConfirmDialog:e}=(0,a.p)();return e?(0,n.jsx)(o.Q,{}):null}},"../../libs/shared/dist/features/transactionFlow/components/index.js":(e,t,s)=>{"use strict";s.d(t,{D_:()=>i.D,J9:()=>n.J,QH:()=>a.Q,XP:()=>o.X}),s("../../libs/shared/dist/features/transactionFlow/components/AnalizedDialogContent/index.js");var n=s("../../libs/shared/dist/features/transactionFlow/components/ConfirmAnalizedTransaction/index.js"),a=s("../../libs/shared/dist/features/transactionFlow/components/ConfirmDialog/index.js"),o=(s("../../libs/shared/dist/features/transactionFlow/components/DialogContent/index.js"),s("../../libs/shared/dist/features/transactionFlow/components/KeystoneQRConfirm/index.js")),i=s("../../libs/shared/dist/features/transactionFlow/components/LedgerConfirm/index.js")},"../../libs/shared/dist/features/transactionFlow/hooks/index.js":(e,t,s)=>{"use strict";s.d(t,{HG:()=>o.H,Ht:()=>n.H,NX:()=>i.N,go:()=>a.g,mx:()=>l.m,pQ:()=>d.p,wZ:()=>r.w});var n=s("../../libs/shared/dist/features/transactionFlow/hooks/useSignAndSend.js"),a=s("../../libs/shared/dist/features/transactionFlow/hooks/useSignAndSendAllParallel.js"),o=(s("../../libs/shared/dist/features/transactionFlow/hooks/useSignAndSendAllSerial.js"),s("../../libs/shared/dist/features/transactionFlow/hooks/useSignAndSendBundle.js")),i=s("../../libs/shared/dist/features/transactionFlow/hooks/useCreateTransactionSnackbar.js"),r=s("../../libs/shared/dist/features/transactionFlow/hooks/useKeystoneSignRequest.js"),l=(s("../../libs/shared/dist/features/transactionFlow/hooks/useSendAndConfirmTransaction.js"),s("../../libs/shared/dist/features/transactionFlow/hooks/useSigner.js")),d=s("../../libs/shared/dist/features/transactionFlow/hooks/useSendTransaction.js")},"../../libs/shared/dist/features/walletManagement/errors.js":(e,t,s)=>{"use strict";s.d(t,{y:()=>n});class n extends Error{constructor(){super(...arguments),this.name="WalletAlreadyAddedError"}}},"../../libs/shared/dist/features/walletManagement/hooks/useBalances.js":(e,t,s)=>{"use strict";s.d(t,{l:()=>j});var n=s("../../../node_modules/react/index.js"),a=s("../../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs"),o=s("../../../node_modules/lodash/lodash.js"),i=s("../../libs/wallet-core/dist/shared.js"),r=s("../../libs/shared/dist/utils/common.js"),l=s("../../libs/shared/dist/utils/displayPrice.js"),d=s("../../libs/shared/dist/utils/truncateMiddle.js"),c=s("../../libs/shared/dist/features/currencies/hooks/index.js"),u=s("../../libs/shared/dist/features/currencies/utils/index.js"),m=s("../../libs/shared/dist/features/globalConfig/hooks/index.js"),p=s("../../libs/shared/dist/features/walletData/hooks/index.js"),h=s("../../libs/shared/dist/features/walletManagement/api/index.js"),x=s("../../libs/shared/dist/features/walletManagement/utils/index.js");const g={[i.R7]:"header_account_recovery_phrase",[i.CO]:"header_account_burners",[i.Yg]:"Metamask",[i.pe]:"header_account_ledger",[i.x4]:"header_account_keystone",[i.vn]:"header_account_imported",[i.dr]:"header_account_read_only"},j=e=>{const t=(0,m.LN)(),{publicKey:s}=(0,p.rT)(),j=(0,p.Rg)(),b=(0,c.Af)(),f=e||(0,x.Sm)(j.wallets),_=(0,a.a)({queryKey:["balances",f,b,t.cluster],queryFn:()=>(0,h.ld)({pubkeys:f,currency:b.ticker,general:!0,network:t.cluster}),refetchOnWindowFocus:!1,retry:3,refetchInterval:3e4}),y=(0,n.useMemo)((()=>(0,o.keyBy)(_.failureCount>0?_.failureReason?.partialData?.data:_.data?.data,"publicKey")),[_]);return{result:(0,n.useMemo)((()=>(0,x.fJ)(j.accounts.map((e=>({...j.wallets[e.publicKey],name:e.name})))).reduce(((e,t)=>(e[t.type]?.push({title:t.name,subtitle:(0,d.r)(t.publicKey),address:t.publicKey,value:(0,r.T4)(y[t.publicKey]?.value)?(0,l.ED)({amount:y[t.publicKey]?.value,displayType:"amount",prefix:(0,u.MK)(b.ticker,b.symbol)}):""}),e)),{[i.R7]:[],[i.CO]:[],[i.pe]:[],[i.x4]:[],[i.Yg]:[],[i.vn]:[],[i.dr]:[]})),[b.symbol,b.ticker,y,j.accounts,j.wallets]),query:_,currency:b,valueMap:y,lookupSectionName:g,netWorth:(0,l.ED)({amount:_.data?.netWorth,displayType:"amount",prefix:(0,u.MK)(b.ticker,b.symbol)}),selectedAddress:s,netWorthChange:(0,l.ED)({amount:_.data?.netWorthChange&&100*_.data?.netWorthChange,displayType:"value",prefix:_.data?.netWorthChange&&_.data?.netWorthChange>0?"+":"",suffix:"%"})}}},"../../libs/shared/dist/features/walletManagement/hooks/useBurnerWallet/index.js":(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var n=s("../../../node_modules/react/index.js"),a=s("../../libs/wallet-core/dist/burner.js"),o=s("../../libs/shared/dist/storage/solflareService.js"),i=s("../../libs/shared/dist/features/globalConfig/hooks/index.js"),r=s("../../libs/shared/dist/features/walletManagement/api/index.js");const l=()=>{const e=(0,i.LN)(),[t,s]=(0,n.useState)(!1);(0,n.useEffect)((()=>{(async()=>{const e=await o.Z.burnerTutorial.get();s(e)})()}),[]);const l=(0,n.useCallback)((async(t,s,n=0)=>{const o=new a.eV;o.init(s,n);const i=o.publicKey.toString();return t[i]||await(0,r.i9)({pubkey:i,network:e.cluster})?l(t,s,n+1):n}),[e.cluster]);return{hasBurnerWallets:t,findNextBurnerIndex:l}}},"../../libs/shared/dist/features/walletManagement/hooks/useKeystore.js":(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var n=s("../../../node_modules/react/index.js"),a=s("../../libs/wallet-core/dist/privateKey.js");const o=()=>({importKeystore:(0,n.useCallback)(((e,t)=>{let s;try{s=JSON.parse(e);const t=s?.Crypto?.kdfparams;if(!(t.salt&&t.c&&t.dklen&&t.prf))return null}catch(e){return null}return a.aV.fromKeystoreJson(s,t)}),[])})},"../../libs/shared/dist/features/walletManagement/hooks/useManageMetamaskAccounts.js":(e,t,s)=>{"use strict";s.d(t,{Z:()=>p});var n=s("../../../node_modules/react/index.js"),a=s("../../../node_modules/@solana/web3.js/lib/index.browser.esm.js"),o=s("../../../node_modules/lodash/lodash.js"),i=s("../../libs/wallet-core/dist/metamask.js"),r=s("../../libs/wallet-core/dist/shared.js"),l=s("../../libs/shared/dist/features/currencies/hooks/index.js"),d=s("../../libs/shared/dist/features/globalConfig/hooks/index.js"),c=s("../../libs/shared/dist/features/walletData/hooks/index.js"),u=s("../../libs/shared/dist/features/walletManagement/api/index.js"),m=s("../../libs/shared/dist/features/walletManagement/utils/index.js");const p=()=>{const e=(0,l.Af)(),t=(0,d.LN)(),{accounts:s,wallets:p}=(0,c.Rg)(),[h,x]=(0,n.useState)([]),[g,j]=(0,n.useState)({}),b=(0,n.useMemo)((()=>s.filter((e=>p[e.publicKey].type===r.Yg)).map((e=>e.publicKey))),[s,p]),f=(0,n.useCallback)((e=>(async()=>{await i.c.connect();const t=await i.c.getPublicKey(r.PT.bip44Change,e);return new a.PublicKey(t)})()),[]),_=(0,n.useCallback)((async s=>{let n;try{n=await(0,u.ld)({pubkeys:s.map((e=>(0,m.z_)(e,r.oH[r.Yg]))),network:t.cluster,currency:e.ticker,general:!1})}catch(e){e.partialData&&(n=e.partialData)}j((e=>({...e,...(0,o.reduce)(n?.data,((e,t)=>({...e,[t.publicKey]:t.value})),{})})))}),[e.ticker,t.cluster]),y=(0,n.useCallback)((async e=>{const t=[];for(let s=0;s<10;s++){const n=await f(e+s+1);t.push(n.toString())}x((e=>(0,o.uniq)([...e,...t]))),_(t)}),[f,_]);return{addresses:h,accounts:b,balances:g,loadMoreAccounts:y,deriveAccount:f}}},"../../libs/shared/dist/features/walletManagement/hooks/useManageRecoveryPhraseAccounts.js":(e,t,s)=>{"use strict";s.d(t,{Z:()=>h});var n=s("../../../node_modules/react/index.js"),a=s("../../../node_modules/lodash/lodash.js"),o=s("../../libs/wallet-core/dist/mnemonic.js"),i=s("../../libs/wallet-core/dist/shared.js"),r=s("../../libs/shared/dist/features/currencies/hooks/index.js"),l=s("../../libs/shared/dist/features/globalConfig/hooks/index.js"),d=s("../../libs/shared/dist/features/walletData/hooks/index.js"),c=s("../../libs/shared/dist/features/walletData/utils/types.js"),u=s("../../libs/shared/dist/features/walletManagement/api/index.js"),m=s("../../libs/shared/dist/features/walletManagement/utils/index.js"),p=s("../../libs/shared/dist/features/walletManagement/hooks/useMnemonicWallet/index.js");const h=()=>{const e=(0,p.Z)(),t=e?.publicKey||"",s=(0,r.Af)(),h=(0,l.LN)(),{accounts:x,wallets:g}=(0,d.Rg)(),[j,b]=(0,n.useState)([]),[f,_]=(0,n.useState)({}),y=(0,n.useMemo)((()=>x.filter((e=>{const s=g[e.publicKey];return(0,c.sH)(s)&&s.parent===t})).map((e=>e.publicKey))),[t,x,g]),v=(0,n.useCallback)((t=>{if(!e||!e.data)throw new Error("Mnemonic not found");return(0,o.c3)(e.data.seed,t,e.data.derivationPath).publicKey}),[e]),k=(0,n.useCallback)((async e=>{let t;try{t=await(0,u.ld)({pubkeys:e.map((e=>(0,m.z_)(e,i.oH[i.R7]))),network:h.cluster,currency:s.ticker,general:!1})}catch(e){e.partialData&&(t=e.partialData)}_((e=>({...e,...(0,a.reduce)(t?.data,((e,t)=>({...e,[t.publicKey]:t.value})),{})})))}),[s.ticker,h.cluster]);return{addresses:j,accounts:y,balances:f,loadMoreAccounts:(0,n.useCallback)((e=>{const t=new Array(10).fill({}).map(((t,s)=>v(e+s+1).toString()));b((e=>(0,a.uniq)([...e,...t]))),k(t)}),[v,k]),deriveAccount:v}}},"../../libs/shared/dist/features/walletManagement/hooks/useMnemonicWallet/index.js":(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s("../../../node_modules/react/index.js"),a=s("../../libs/shared/dist/features/walletData/hooks/index.js"),o=s("../../libs/shared/dist/features/walletData/utils/types.js");const i=()=>{const{accounts:e,wallets:t}=(0,a.Rg)();return(0,n.useMemo)((()=>{const s=e.find((e=>(0,o.FS)(t[e.publicKey])));if(s)return t[s.publicKey]}),[e,t])}},"../../libs/shared/dist/features/walletManagement/hooks/usePrivateKey/index.js":(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var n=s("../../../node_modules/react/index.js"),a=s("../../libs/wallet-core/dist/privateKey.js");const o=()=>({importPrivateKey:(0,n.useCallback)((e=>{const t=a.aV.fromString(e),s=(new TextEncoder).encode("Test message to verify"),n=t.signMessage(s);return t.verifySignature(s,n)?t:null}),[])})},"../../libs/shared/dist/features/walletManagement/hooks/useWalletActions/index.js":(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var n=s("../../../node_modules/react/index.js"),a=s("../../../node_modules/lodash/lodash.js"),o=s("../../libs/wallet-core/dist/shared.js"),i=s("../../libs/shared/dist/storage/solflareService.js"),r=s("../../libs/shared/dist/features/walletData/hooks/index.js"),l=s("../../libs/shared/dist/features/walletManagement/errors.js");const d=()=>{const{persistWalletData:e,addAccount:t,deleteAccount:s,selectAccountByIndex:d}=(0,r.bg)(),c=(0,r.AH)(),u=(0,n.useCallback)((async(e,s,{persistChange:n=!0,skipDuplicate:a=!0,throwOnDuplicate:o=!1}={})=>{const{accounts:i}=c();if(a&&i.some((e=>e.publicKey===s.publicKey))){if(o)throw new l.y}else await t(s,e,n)}),[t,c]),m=(0,n.useCallback)((async(t,{persistChange:n=!0,removeAppsData:r=!0}={})=>{const{accounts:l,wallets:u,selectedAccount:m}=c(),p=l[m]?.publicKey;let h=[t];if(u[t]&&u[t].type===o.R7&&!u[t].parent){const e=l.filter((({publicKey:e})=>u[e].parent===t)).map((({publicKey:e})=>e));e.length&&(h=[...h,...e])}if(h.includes(p)){const e=(0,a.findIndex)(l,(({publicKey:e})=>!h.includes(e)));await d(e,!1)}for(const e of h)await s(e,!1);if(r){const e=await i.Z.solflaretrustedappsperwallet.get();for(const t of h)e[t]&&delete e[t];await i.Z.solflaretrustedappsperwallet.set(e)}n&&await e()}),[s,c,e,d]),p=(0,n.useCallback)((async(t,{persistChanges:s=!0}={})=>{const{wallets:n}=c();for(const e in t){const s=t[e];s.wallet.publicKey&&!n[s.wallet.publicKey]&&await u(s.name,s.wallet,{persistChange:!1})}s&&await e()}),[c,u,e]),h=(0,n.useCallback)((async(t,{persistChange:s=!0,removeAppsData:n=!0}={})=>{const{wallets:a}=c();for(const e of t)a[e]&&await m(e,{persistChange:!1,removeAppsData:!1});if(n){const e=await i.Z.solflaretrustedappsperwallet.get();for(const s in t)e[s]&&delete e[s];await i.Z.solflaretrustedappsperwallet.set(e)}s&&await e()}),[c,e,m]);return{addWallet:u,removeWallet:m,addMultipleWallets:p,removeMultipleWallets:h}}},"../../libs/shared/dist/features/walletManagement/modals/AddWalletOptions/AddWallet/index.js":(e,t,s)=>{"use strict";s.d(t,{y:()=>x});var n=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/react/index.js"),o=s("../../../node_modules/react-i18next/dist/es/useTranslation.js"),i=s("../../../node_modules/react-router/dist/index.js"),r=s("../../libs/wallet-core/dist/shared.js"),l=s("../../libs/foundation-ui/dist/index.js"),d=s("../../libs/shared/dist/constants/index.js"),c=s("../../libs/shared/dist/constants/routes.js"),u=s("../../libs/shared/dist/features/walletManagement/hooks/index.js"),m=s("../../libs/wallet-core/dist/mnemonic.js"),p=s("../../libs/shared/dist/features/walletData/hooks/index.js");var h=s("../../libs/shared/dist/features/walletManagement/modals/WalletManagementContainer/index.js");const x=()=>{const{t:e}=(0,o.$)(),t=(0,i.s0)(),[s,x]=(0,a.useState)(""),g=(0,u.EU)(),{deriveNewSeedAccount:j}=(()=>{const{wallets:e,accounts:t}=(0,p.Rg)(),s=(0,a.useCallback)((async s=>{const n=e[s];if(!n||n.type!==r.R7)throw new Error(`Wallet with given address ${s} not found or is not a mnemonic type.`);return((e,t,s)=>{const n=t[s],a=e.filter((e=>t[e.publicKey]?.parent===s)).map((e=>t[e.publicKey]?.accountIndex)),o=new Set(a),i=new Set(e.map((e=>e.publicKey)));let r=Math.max(0,...a);for(;;){if(r++,o.has(r))continue;const e=(0,m.c3)(n.data.seed,r,n.data.derivationPath);if(!i.has(e.publicKey.toString()))return{keypair:e,accountIndex:r}}})(t,e,s)}),[e,t]);return{deriveNewSeedAccount:s}})(),{addWallet:b}=(0,u.Z)(),f=s.trim().length>0;return g&&g.data?.derivationPath!==r.PT.bip44Root?(0,n.jsx)(h.k,{onClose:()=>t(c.yD.ADD_WALLET_OPTIONS.MAIN,{replace:!0}),title:e("header_wallet_management_add_wallet"),footer:(0,n.jsx)(l.ButtonGroup,{children:(0,n.jsx)(l.Button,{onClick:async e=>{if(e.preventDefault(),!f||!g)return;const{keypair:n,accountIndex:a}=await j(g.publicKey);await b(s.trim(),{type:r.R7,publicKey:n.publicKey.toString(),accountIndex:a,parent:g.publicKey},{persistChange:!0}),t(c.yD.MAIN,{replace:!0})},disabled:!f,children:e("action_add")})}),children:(0,n.jsx)(l.TextField,{label:(0,n.jsx)(l.Label,{children:e("form_name")}),placeholder:e("form_wallet_name_placeholder"),value:s,onChange:e=>{x(e.currentTarget.value.substring(0,d.go))}})}):(0,n.jsx)(i.Fg,{to:c.yD.ADD_WALLET_OPTIONS.MAIN,replace:!0})}},"../../libs/shared/dist/features/walletManagement/modals/AddWalletOptions/ConnectKeystone/index.js":(e,t,s)=>{"use strict";s.d(t,{a:()=>z});var n=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/react/index.js"),o=s("../../../node_modules/react-router/dist/index.js"),i=s("../../libs/wallet-core/dist/keystone.js"),r=s("../../libs/rise-ui/dist/index.js"),l=s("../../libs/shared/dist/constants/routes.js"),d=s("../../libs/shared/dist/features/walletManagement/hooks/index.js"),c=s("../../../node_modules/react-i18next/dist/es/useTranslation.js"),u=s("../../../node_modules/@mui/icons-material/esm/AccountBalanceWallet.js"),m=s("../../../node_modules/@mui/icons-material/esm/Link.js"),p=s("../../../node_modules/@mui/material/Box/Box.js"),h=s("../../../node_modules/@mui/material/CircularProgress/CircularProgress.js"),x=s("../../../node_modules/@mui/material/Typography/Typography.js"),g=s("../../../node_modules/@mui/material/Button/Button.js"),j=s("../../../node_modules/@mui/material/List/List.js"),b=s("../../../node_modules/@mui/material/Divider/Divider.js"),f=s("../../../node_modules/@mui/material/ListItem/ListItem.js"),_=s("../../../node_modules/@mui/material/ListItemText/ListItemText.js"),y=s("../../../node_modules/@mui/material/ListItemSecondaryAction/ListItemSecondaryAction.js"),v=s("../../../node_modules/@mui/material/Checkbox/Checkbox.js"),k=s("../../../node_modules/lodash/lodash.js"),w=s("../../libs/wallet-core/dist/shared.js"),C=s("../../libs/shared/dist/hooks/index.js"),S=s("../../libs/shared/dist/utils/displayPrice.js"),T=s("../../libs/shared/dist/utils/truncateMiddle.js"),A=s("../../libs/shared/dist/features/currencies/hooks/index.js"),I=s("../../libs/shared/dist/features/globalConfig/hooks/index.js"),Z=s("../../libs/shared/dist/features/walletManagement/api/index.js"),M=s("../../libs/shared/dist/features/walletManagement/utils/index.js");const P=({accounts:e,onImport:t,onCancel:s})=>{const{t:o}=(0,c.$)(),i=(0,I.LN)(),r=(0,A.Af)(),{openExplorer:l}=(0,C.Vf)(),[d,P]=(0,a.useState)({}),[D,B]=(0,a.useState)(Object.keys(d)),[E,O]=(0,a.useState)([]),[L,N]=(0,a.useState)(!0),R=(0,a.useCallback)((async(e,t=3)=>{const s=async(n=0)=>{try{const{data:t}=await(0,Z.ld)({pubkeys:e.map((e=>(0,M.z_)(e.publicKey,w.oH[w.x4]))),network:i.cluster,currency:r.ticker,general:!1});return t}catch(e){if(n>t){if(e.partialData)return e.partialData;throw e}return s(n+1)}};return await s(0)}),[r.ticker,i.cluster]);(0,a.useEffect)((()=>{N(!0),R(e).then((e=>{const t=(0,k.keyBy)(e,"publicKey");P(t),B(Object.keys(t)),O(Object.keys(t))})).finally((()=>N(!1)))}),[e,R]);const F=e=>{const{name:t,checked:s}=e.target;O(s?e=>[...e,t]:e=>e.filter((e=>e!==t)))};return L?(0,n.jsxs)(p.Z,{textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",children:[(0,n.jsxs)(p.Z,{mb:4,bgcolor:"primary.light",width:180,height:180,display:"inline-flex",justifyContent:"center",alignItems:"center",position:"relative",borderRadius:"50%",children:[(0,n.jsx)(u.Z,{color:"primary",style:{fontSize:50}}),(0,n.jsx)(h.Z,{sx:{position:"absolute"},size:180,thickness:1})]}),(0,n.jsx)(p.Z,{maxWidth:350,children:(0,n.jsx)(x.Z,{variant:"body1",gutterBottom:!0,children:o("onboard_detecting_existing_accounts")})})]}):(0,n.jsx)(p.Z,{display:"flex",flexDirection:"column",alignItems:"center",children:(0,n.jsxs)(p.Z,{maxWidth:400,textAlign:"center",children:[(0,n.jsx)(x.Z,{variant:"h2",gutterBottom:!0,children:o("onboard_active_wallet",{count:Object.keys(d)?.length||0})}),(0,n.jsx)(x.Z,{variant:"body2",color:"textSecondary",children:o("onboard_active_description")}),(0,n.jsx)(p.Z,{mt:2,textAlign:"right",children:(0,n.jsx)(g.Z,{variant:"text",color:"primary",onClick:()=>{(0,k.isEqual)(E,D)?O([]):O(D)},children:"Toggle all"})}),(0,n.jsxs)(j.Z,{sx:{height:400,overflow:"auto",padding:0},children:[(0,n.jsx)(b.Z,{light:!0}),e.map((({publicKey:e})=>(0,n.jsxs)(a.Fragment,{children:[(0,n.jsxs)(f.ZP,{children:[(0,n.jsx)(_.Z,{primary:(0,n.jsxs)(p.Z,{display:"flex",alignItems:"center",mb:1,children:[(0,n.jsx)(x.Z,{variant:"caption",children:(0,T.r)(e)}),(0,n.jsx)(m.Z,{sx:{width:20,height:20,marginLeft:8,cursor:"pointer",color:"text.secondary"},onClick:()=>l({type:"account",address:e})})]}),secondary:(0,n.jsx)(x.Z,{variant:"body2",color:"textSecondary",children:(0,S.ED)({amount:d[e]?.value,displayType:"amount",prefix:r.symbol})})}),(0,n.jsx)(y.Z,{children:(0,n.jsx)(v.Z,{color:"primary",edge:"end",onChange:F,name:e,checked:-1!==E.indexOf(e)})})]}),(0,n.jsx)(b.Z,{light:!0})]},`address-${e}`)))]}),(0,n.jsxs)(p.Z,{display:"flex",justifyContent:"space-between",mt:4,mb:2,children:[(0,n.jsx)(g.Z,{variant:"text",color:"primary",onClick:s,children:o("action_back")}),(0,n.jsx)(g.Z,{disabled:L||0===E.length,type:"submit",variant:"contained",color:"primary",onClick:async s=>{s.preventDefault(),t({forImport:e.filter((({publicKey:e})=>E.includes(e)))})},children:o("action_continue")})]}),(0,n.jsx)(x.Z,{variant:"body2",children:o("onboard_you_can_import_later")})]})})};var D=s("../../../node_modules/@keystonehq/animated-qr/dist/index.js"),B=s("../../../node_modules/@keystonehq/bc-ur-registry-sol/dist/index.js"),E=s("../../../node_modules/@keystonehq/sol-keyring/dist/index.js"),O=s("../../../node_modules/@mui/material/styles/styled.js"),L=s("../../../node_modules/@mui/material/Link/Link.js"),N=s("../../libs/shared/dist/components/index.js"),R=s("../../../node_modules/buffer/index.js").Buffer;const F=(0,O.ZP)(p.Z)((({theme:e})=>({display:"flex",justifyContent:"center",marginTop:16,padding:24,border:`1px solid ${e.palette.common.white10}`,backgroundColor:e.palette.common.black20,borderRadius:8})));var U;!function(e){e.Ready="READY",e.PermissionNeeded="PERMISSION_NEEDED"}(U||(U={}));const $=({onAccountsReceived:e,onCancel:t})=>{const{t:s}=(0,c.$)(),[o,i]=(0,a.useState)(U.Ready),[r,l]=(0,a.useState)(""),d=(0,a.useCallback)((async t=>{const s=new E.BaseKeyring,n=B.CryptoMultiAccounts.fromCBOR(R.from(t.cbor,"hex"));s.syncKeyring(n);const a=s.getAccounts().map((e=>({publicKey:e.pubKey,index:e.index,path:e.hdPath,xfp:n.getMasterFingerprint().toString("hex")})));await e({accounts:a})}),[e]),u=(0,a.useCallback)((e=>{e!==D.QRCodeError.UNEXPECTED_QRCODE&&e!==D.QRCodeError.INVALID_QR_CODE||l("Please check your QR code")}),[]),m=(0,a.useCallback)((e=>{i(e?U.Ready:U.PermissionNeeded)}),[]);return(0,n.jsxs)(p.Z,{maxWidth:420,margin:"auto",children:[(0,n.jsxs)(p.Z,{display:o===U.PermissionNeeded?"block":"none",children:[(0,n.jsx)(x.Z,{variant:"h3",children:s("onboard_keystone_title_1")}),(0,n.jsx)(x.Z,{variant:"body2",color:"textSecondary",children:s("onboard_keystone_description_1")}),(0,n.jsx)(F,{height:420,children:(0,n.jsxs)(p.Z,{width:200,display:"flex",flexDirection:"column",justifyContent:"center",children:[(0,n.jsx)(N.D2,{sx:{width:196,height:157,marginBottom:10}}),(0,n.jsxs)(x.Z,{variant:"body2",color:"textSecondary",children:[s("onboard_keystone_description_2")," ",(0,n.jsx)(L.Z,{variant:"body2",underline:"always",href:"https://keyst.one/solflare",target:"_blank",color:"textPrimary",children:s("onboard_full_tutorial")})]})]})})]}),(0,n.jsxs)(p.Z,{display:o===U.Ready?"block":"none",children:[(0,n.jsx)(x.Z,{variant:"h3",gutterBottom:!0,children:s("onboard_keystone_title_2")}),(0,n.jsx)(x.Z,{variant:"body2",color:"textSecondary",children:s("onboard_keystone_description_3")}),(0,n.jsx)(F,{height:420,children:(0,n.jsxs)(p.Z,{sx:{position:"relative","& div, video":{height:370,objectFit:"cover",borderRadius:10}},children:[(0,n.jsx)(D.AnimatedQRScanner,{purpose:D.Purpose.SOL_SYNC,handleScan:d,handleError:u,videoLoaded:m,options:{width:370}}),r&&(0,n.jsx)(x.Z,{variant:"body2",sx:{position:"absolute",bottom:8,width:"100%",textAlign:"center"},children:r})]})})]}),t&&(0,n.jsx)(p.Z,{display:"flex",justifyContent:"center",mt:4,children:(0,n.jsx)(g.Z,{variant:"text",color:"primary",onClick:t,children:s("action_back")})})]})};var W,K=s("../../../node_modules/console-browserify/index.js");!function(e){e[e.Scan=0]="Scan",e[e.Accounts=1]="Accounts"}(W||(W={}));const z=()=>{const{search:e}=(0,o.TH)(),t=(0,o.s0)(),{addMultipleWallets:s}=(0,d.Z)(),[c,u]=(0,a.useState)(W.Scan),m=(0,a.useMemo)((()=>new URLSearchParams(e)),[e]),[p,h]=(0,a.useState)([]),x=(0,a.useCallback)((async({forImport:e})=>{if(0===e.length)return void K.error("Accounts cannot be empty");const n=e.map((e=>{const t=new i.J;return t.init(e),{name:e.index?`Keystone ${e.index}`:"Main Keystone",wallet:t.toObject()}}));await s(n),"ext"!==m.get("redirect")?t(l.yD.MAIN,{replace:!0}):setTimeout(window.close,500)}),[s,t,m]),g=(0,a.useCallback)((async({accounts:e})=>{h(e),u(W.Accounts)}),[]);return(0,n.jsxs)(r.u_,{open:!0,onClose:()=>t(l.yD.ADD_WALLET_OPTIONS.MAIN,{replace:!0}),maxWidth:"sm",children:[c===W.Scan&&(0,n.jsx)($,{onAccountsReceived:g}),c===W.Accounts&&(0,n.jsx)(P,{accounts:p,onImport:x,onCancel:()=>u(W.Scan)})]})}},"../../libs/shared/dist/features/walletManagement/modals/AddWalletOptions/ConnectLedger/index.js":(e,t,s)=>{"use strict";s.d(t,{o:()=>F});var n=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/react/index.js"),o=s("../../../node_modules/react-router/dist/index.js"),i=s("../../libs/wallet-core/dist/ledger.js"),r=s("../../libs/rise-ui/dist/index.js"),l=s("../../libs/shared/dist/constants/routes.js"),d=s("../../libs/shared/dist/features/walletManagement/hooks/index.js"),c=s("../../../node_modules/react-i18next/dist/es/useTranslation.js"),u=s("../../../node_modules/react-virtuoso/dist/index.m.js"),m=s("../../../node_modules/@mui/icons-material/esm/Link.js"),p=s("../../../node_modules/@mui/material/Box/Box.js"),h=s("../../../node_modules/@mui/material/Typography/Typography.js"),x=s("../../../node_modules/@mui/material/Button/Button.js"),g=s("../../../node_modules/@mui/material/List/List.js"),j=s("../../../node_modules/@mui/material/Divider/Divider.js"),b=s("../../../node_modules/@mui/material/ListItem/ListItem.js"),f=s("../../../node_modules/@mui/material/ListItemText/ListItemText.js"),_=s("../../../node_modules/@mui/material/ListItemSecondaryAction/ListItemSecondaryAction.js"),y=s("../../../node_modules/@mui/material/Checkbox/Checkbox.js"),v=s("../../../node_modules/lodash/lodash.js"),k=s("../../libs/shared/dist/components/index.js"),w=s("../../libs/shared/dist/hooks/index.js"),C=s("../../libs/shared/dist/utils/displayPrice.js"),S=s("../../libs/shared/dist/utils/truncateMiddle.js"),T=s("../../libs/shared/dist/features/currencies/hooks/index.js"),A=s("../../libs/shared/dist/features/currencies/utils/index.js"),I=s("../../../node_modules/console-browserify/index.js");const Z=({derivationPath:e,allAccounts:t=[],activeAccounts:s=[],onImport:o,onCancel:i,setActiveAccounts:r,setAccounts:l,manage:Z})=>{const{t:M}=(0,c.$)(),{openExplorer:P}=(0,w.Vf)(),D=(0,T.Af)(),{fetchAddresses:B}=(0,d.c5)(),E=(0,a.useMemo)((()=>(0,v.keyBy)(s,"publicKey")),[s]),[O,L]=(0,a.useState)(Object.keys(E)),N=e=>{const{name:t,checked:s}=e.currentTarget;L(s?e=>(0,v.union)(e,[t]):e=>e.filter((e=>e!==t)))};return(0,n.jsx)(p.Z,{display:"flex",flexDirection:"column",alignItems:"center",children:(0,n.jsxs)(p.Z,{maxWidth:400,textAlign:"center",children:[(0,n.jsx)(h.Z,{variant:"h2",gutterBottom:!0,children:M("onboard_active_wallet",{count:s.length||0})}),(0,n.jsx)(h.Z,{variant:"body2",color:"textSecondary",children:M("onboard_active_description")}),(0,n.jsx)(p.Z,{mt:2,textAlign:"right",children:(0,n.jsx)(x.Z,{variant:"text",color:"primary",onClick:()=>{const e=s.map((e=>e.pubkey));(0,v.isEqual)(O,e??[])?L([]):L(e??[])},children:"Toggle all"})}),(0,n.jsxs)(g.Z,{sx:{height:400,padding:0},children:[(0,n.jsx)(j.Z,{light:!0}),(0,n.jsx)(u.OO,{data:t||[],endReached:async()=>{if(1!==t.length)try{const{accounts:s,balances:n}=await B(e,t.length,t.length+10);r(n),l(s);const a=n.map((e=>e.publicKey));L((e=>[...e,...a]))}catch(e){I.log(e)}},overscan:80,components:{Footer:1===t.length?void 0:k.b2},itemContent:(e,{publicKey:t})=>(0,n.jsxs)(a.Fragment,{children:[(0,n.jsxs)(b.ZP,{children:[(0,n.jsx)(f.Z,{primary:(0,n.jsxs)(p.Z,{display:"flex",alignItems:"center",mb:1,children:[(0,n.jsx)(h.Z,{variant:"caption",children:(0,S.r)(t)}),(0,n.jsx)(m.Z,{sx:e=>({width:20,height:20,marginLeft:8,cursor:"pointer",color:e.palette.text.secondary}),onClick:()=>P({type:"account",address:t})})]}),secondary:(0,n.jsx)(h.Z,{variant:"body2",color:"textSecondary",children:(0,C.ED)({amount:E[t]?.value||0,prefix:(0,A.MK)(D.ticker,D.symbol),displayType:"amount"})})}),(0,n.jsx)(_.Z,{children:(0,n.jsx)(y.Z,{color:"primary",edge:"end",onChange:N,name:t,checked:-1!==O.indexOf(t)})})]}),(0,n.jsx)(j.Z,{light:!0})]},`address-${t}`)})]}),(0,n.jsxs)(p.Z,{display:"flex",justifyContent:"space-between",mt:4,mb:2,children:[(0,n.jsx)(x.Z,{variant:"text",color:"primary",onClick:i,children:M("action_back")}),(0,n.jsx)(x.Z,{disabled:0===O.length,type:"submit",variant:"contained",color:"primary",onClick:()=>{const e=(0,v.keyBy)(t,"publicKey"),s=O.map((t=>({address:t,index:e[t]?.index}))).filter((({index:e})=>"number"==typeof e));o(s)},children:M(Z?"action_import":"action_continue")})]}),(0,n.jsx)(h.Z,{variant:"body2",children:M("onboard_you_can_import_later")})]})})};var M=s("../../../node_modules/console-browserify/index.js");const P=({derivationPath:e,onConnect:t,onCancel:s})=>{const{t:a}=(0,c.$)(),{closableNotification:o}=(0,w.hn)();return(0,n.jsxs)(p.Z,{maxWidth:360,margin:"auto",textAlign:"center",children:[(0,n.jsx)(h.Z,{variant:"h2",gutterBottom:!0,children:a("onboard_connect_ledger")}),(0,n.jsx)(h.Z,{variant:"body2",color:"textSecondary",children:a("onboard_ledger_continue_when_ready")}),(0,n.jsxs)(p.Z,{display:"flex",justifyContent:s?"space-between":"center",mt:4,children:[s&&(0,n.jsx)(x.Z,{variant:"text",color:"primary",onClick:s,children:a("action_back")}),(0,n.jsx)(x.Z,{variant:"contained",color:"primary",onClick:async()=>{try{await i.uN.getDevicePublicKey(e,0),t()}catch(e){M.log(e),o({message:a("error_ledger_failed_to_connect"),variant:"error"})}},children:a("action_continue")})]})]})};var D=s("../../../node_modules/@mui/icons-material/esm/AccountBalanceWallet.js"),B=s("../../../node_modules/@mui/material/CircularProgress/CircularProgress.js"),E=s("../../libs/wallet-core/dist/shared.js"),O=s("../../libs/shared/dist/constants/derivationPaths.js");const L=({allAccounts:e,activeAccountsPerPath:t,onDerivationPathSelected:s,setActiveAccountsPerPath:o,setAllAccounts:i,onCancel:r})=>{const{t:l}=(0,c.$)(),[u,m]=(0,a.useState)(!0),j=(0,T.Af)(),{fetchAddresses:y}=(0,d.c5)();(0,a.useEffect)((()=>{(async()=>{const e={};e[E.PT.bip44Root]=await y(E.PT.bip44Root,0,0),e[E.PT.bip44]=await y(E.PT.bip44,0,9),e[E.PT.bip44Change]=await y(E.PT.bip44Change,0,9),e[E.PT.bip44Ledger]=await y(E.PT.bip44Ledger,1,9,!0),e[E.PT.bip44LedgerChange]=await y(E.PT.bip44LedgerChange,0,9,!0);const t=Object.keys({...O.z$,...O.ff}),s=t.reduce(((t,s)=>(e[s].balances.length&&(t[s]=e[s].balances),t)),{}),n=t.reduce(((t,s)=>({...t,[s]:e[s].accounts||[]})),{});o(s),i(n),m(!1)})().then()}),[y,o,i]);const k=(0,a.useCallback)((a=>(0,n.jsxs)(b.ZP,{button:!0,sx:e=>({background:e.palette.common.white10,borderRadius:6,marginBottom:e.spacing(2),"&:hover":{background:e.palette.common.white20}}),onClick:()=>s(a),children:[(0,n.jsx)(f.Z,{primary:(0,n.jsx)(h.Z,{variant:"h3",children:O.z$[a]||O.ff[a]}),secondary:(0,n.jsx)(h.Z,{variant:"caption",color:"textSecondary",children:(0,S.r)(e[a][0]?.publicKey)})}),(0,n.jsx)(_.Z,{children:(0,n.jsxs)(p.Z,{textAlign:"right",children:[(0,n.jsx)(h.Z,{variant:"h2",children:(0,C.ED)({amount:(0,v.sumBy)(t[a],(e=>e.value||0)),suffix:`${j.symbol}`,displayType:"amount"})}),(0,n.jsxs)(h.Z,{variant:"body2",color:"textSecondary",children:[t[a]?.length||0," accounts"]})]})})]},`path-${a}`)),[t,e,j.symbol,s]);return u?(0,n.jsxs)(p.Z,{textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",children:[(0,n.jsxs)(p.Z,{mb:4,bgcolor:"primary.light",width:180,height:180,display:"inline-flex",justifyContent:"center",alignItems:"center",position:"relative",borderRadius:"50%",children:[(0,n.jsx)(D.Z,{color:"primary",style:{fontSize:50}}),(0,n.jsx)(B.Z,{sx:{position:"absolute"},size:180,thickness:1})]}),(0,n.jsx)(p.Z,{maxWidth:350,children:(0,n.jsx)(h.Z,{variant:"body1",gutterBottom:!0,children:l("onboard_detecting_existing_accounts")})})]}):(0,n.jsxs)(p.Z,{textAlign:"center",children:[(0,n.jsx)(h.Z,{variant:"h2",gutterBottom:!0,children:l("onboard_select_derivation_path")}),(0,n.jsx)(h.Z,{variant:"body2",color:"textSecondary",children:l("onboard_select_derivation_path_you_want_to_use")}),(0,n.jsxs)(g.Z,{sx:{mt:4},children:[Object.keys(O.z$).map((e=>k(e))),Object.keys(O.ff).filter((e=>t[e]?.length>0)).map((e=>k(e)))]}),r&&(0,n.jsx)(p.Z,{display:"flex",justifyContent:"space-between",mt:4,mb:2,children:(0,n.jsx)(x.Z,{variant:"text",color:"primary",onClick:r,children:l("action_back")})})]})};var N,R=s("../../../node_modules/console-browserify/index.js");!function(e){e[e.Connect=0]="Connect",e[e.DerivationPath=1]="DerivationPath",e[e.Accounts=2]="Accounts"}(N||(N={}));const F=()=>{const{search:e}=(0,o.TH)(),t=(0,o.s0)(),[s,c]=(0,a.useState)(N.Connect),[u,m]=(0,a.useState)("bip44LedgerRoot"),[p,h]=(0,a.useState)({}),[x,g]=(0,a.useState)({}),{addMultipleWallets:j}=(0,d.Z)(),b=(0,a.useMemo)((()=>new URLSearchParams(e)),[e]),f=(0,a.useCallback)((e=>{m(e),c(N.Accounts)}),[]),_=(0,a.useCallback)((async e=>{if(0===e.length)return void R.error("Accounts cannot be empty");const s=e.map((e=>{const t=new i.uN;return t.init({publicKey:e.address,accountIndex:e.index,derivationPath:u}),{name:0===e.index?"Main Ledger":`Ledger ${e.index}`,wallet:t.toObject()}}));await j(s),"ext"!==b.get("redirect")?t(l.yD.MAIN,{replace:!0}):setTimeout(window.close,500)}),[j,u,b,t]);return(0,n.jsxs)(r.u_,{open:!0,fullScreen:!1,onClose:()=>t(l.yD.ADD_WALLET_OPTIONS.MAIN,{replace:!0}),maxWidth:"sm",children:[s===N.Connect&&(0,n.jsx)(P,{derivationPath:u,onConnect:()=>c(N.DerivationPath)}),s===N.DerivationPath&&(0,n.jsx)(L,{derivationPath:u,allAccounts:p,activeAccountsPerPath:x,onDerivationPathSelected:f,setActiveAccountsPerPath:g,setAllAccounts:h,onCancel:()=>c(N.Connect)}),s===N.Accounts&&(0,n.jsx)(Z,{manage:!0,derivationPath:u,allAccounts:p[u],activeAccounts:x[u],setAccounts:e=>h((t=>({...t,[u]:[...t[u]||[],...e]}))),setActiveAccounts:e=>g((t=>({...t,[u]:[...t[u]||[],...e]}))),onImport:_,onCancel:()=>c(N.Connect)})]})}},"../../libs/shared/dist/features/walletManagement/modals/AddWalletOptions/CreateBurnerWallet/index.js":(e,t,s)=>{"use strict";s.d(t,{B:()=>g});var n=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/react/index.js"),o=s("../../../node_modules/react-i18next/dist/es/useTranslation.js"),i=s("../../../node_modules/react-router/dist/index.js"),r=s("../../../node_modules/@fortawesome/pro-light-svg-icons/index.mjs"),l=s("../../libs/wallet-core/dist/burner.js"),d=s("../../libs/foundation-ui/dist/index.js"),c=s("../../libs/shared/dist/constants/index.js"),u=s("../../libs/shared/dist/constants/routes.js"),m=s("../../libs/shared/dist/storage/solflareService.js"),p=s("../../libs/shared/dist/features/walletData/hooks/index.js"),h=s("../../libs/shared/dist/features/walletManagement/hooks/index.js"),x=s("../../libs/shared/dist/features/walletManagement/modals/WalletManagementContainer/index.js");const g=()=>{const{t:e}=(0,o.$)(),t=(0,i.s0)(),[s,g]=(0,a.useState)(!0),[j,b]=(0,a.useState)(0),[f,_]=(0,a.useState)(""),y=(0,h.EU)()?.data,{findNextBurnerIndex:v}=(0,h.Kx)(),{addAccount:k}=(0,p.bg)(),{wallets:w}=(0,p.Rg)();return(0,a.useEffect)((()=>{(async()=>{const e=await v(w,y);b(e),g(!1)})()}),[]),(0,n.jsx)(x.k,{onClose:()=>t(u.yD.ADD_WALLET_OPTIONS.MAIN,{replace:!0}),title:e("header_settings_create_burner_title"),headerAction:(0,n.jsx)(d.ActionableIcon,{icon:r.DBf,size:"l",onClick:()=>t(u.yD.ADD_WALLET_OPTIONS.CREATE_BURNER_TUTORIAL)}),footer:(0,n.jsxs)(d.ButtonGroup,{children:[(0,n.jsx)(d.Button,{variant:"secondary",onClick:()=>t(u.yD.ADD_WALLET_OPTIONS.MAIN,{replace:!0}),children:e("action_cancel")}),(0,n.jsx)(d.Button,{disabled:!f.trim().length||s,onClick:async e=>{if(e?.preventDefault(),s)return;if(!y?.seed)return;if(!f.trim().length)return;const n=new l.eV;n.init(y,j),await k(n.toObject(),f.trim()),await m.Z.burnerTutorial.set(!0),t(u.yD.MAIN,{replace:!0})},children:e("action_create")})]}),children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.Alert,{variant:"info",title:e("header_settings_create_burner_info_name_title"),message:e("header_settings_create_burner_info_name_message")}),(0,n.jsx)(d.TextField,{placeholder:e("form_wallet_name_placeholder"),value:f,onChange:e=>{_(e.currentTarget.value.substring(0,c.go))},label:(0,n.jsx)(d.Label,{children:e("form_name")})})]})})}},"../../libs/shared/dist/features/walletManagement/modals/AddWalletOptions/CreateBurnerWalletTutorial/index.js":(e,t,s)=>{"use strict";s.d(t,{$:()=>g});var n=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/react/index.js"),o=s("../../../node_modules/react-i18next/dist/es/useTranslation.js"),i=s("../../../node_modules/react-router/dist/index.js"),r=s("../../../node_modules/@mui/styles/makeStyles/makeStyles.js"),l=s("../../libs/foundation-ui/dist/index.js"),d=s("../../libs/rise-ui/dist/index.js"),c=s("../../libs/shared/dist/assets/burner-tutorial-step1.svg"),u=s("../../libs/shared/dist/assets/burner-tutorial-step2.svg"),m=s("../../libs/shared/dist/assets/burner-tutorial-step3.svg"),p=s("../../libs/shared/dist/constants/routes.js"),h=s("../../libs/shared/dist/utils/extension.js");const x=(0,r.Z)((()=>({dialogPaperClassName:{width:"400px",padding:"0px"},contentClassName:{padding:"0px 8px !important"}}))),g=()=>{const{t:e}=(0,o.$)(),t=(0,i.s0)(),s=x(),r=(0,a.useCallback)((()=>t(p.yD.ADD_WALLET_OPTIONS.CREATE_BURNER_WALLET,{replace:!0})),[t]),g=(0,n.jsx)(l.Tutorial,{title:e("header_settings_burner_tutorial_title"),onClose:r,steps:[{title:e("header_settings_burner_tutorial_step1_title"),paragraph:e("header_settings_burner_tutorial_step1_subtitle"),illustration:(0,n.jsx)(l.Illustration,{children:(0,n.jsx)("img",{src:c})})},{title:e("header_settings_burner_tutorial_step2_title"),paragraph:e("header_settings_burner_tutorial_step2_subtitle"),illustration:(0,n.jsx)(l.Illustration,{children:(0,n.jsx)("img",{src:u})})},{title:e("header_settings_burner_tutorial_step3_title"),paragraph:e("header_settings_burner_tutorial_step3_subtitle"),illustration:(0,n.jsx)(l.Illustration,{children:(0,n.jsx)("img",{src:m})})}],cta:{action:r,title:e("action_continue")}});return h.p1&&!h.Cy?(0,n.jsx)(l.PagePortal,{children:(0,n.jsx)(l.FullPageModal,{open:!0,children:g})}):(0,n.jsx)(d.u_,{open:!0,fullScreen:!1,dialogPaperClassName:s.dialogPaperClassName,contentClassName:s.contentClassName,children:g})}},"../../libs/shared/dist/features/walletManagement/modals/AddWalletOptions/ImportKeystore/index.js":(e,t,s)=>{"use strict";s.d(t,{G:()=>h});var n=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/react/index.js"),o=s("../../libs/shared/node_modules/react-dropzone/dist/es/index.js"),i=s("../../../node_modules/react-i18next/dist/es/useTranslation.js"),r=s("../../../node_modules/react-router/dist/index.js"),l=s("../../../node_modules/lodash/lodash.js"),d=s("../../libs/foundation-ui/dist/index.js"),c=s("../../libs/shared/dist/constants/routes.js"),u=s("../../libs/shared/dist/utils/files.js"),m=s("../../libs/shared/dist/features/walletManagement/hooks/index.js"),p=s("../../libs/shared/dist/features/walletManagement/modals/WalletManagementContainer/index.js");const h=()=>{const{t:e}=(0,i.$)(),t=(0,r.s0)(),[s,h]=(0,a.useState)({name:"",keystorePassword:""}),[x,g]=(0,a.useState)({name:"",json:null}),[j,b]=(0,a.useState)({}),[f,_]=(0,a.useState)(!1),{addWallet:y}=(0,m.Z)(),{importKeystore:v}=(0,m.g8)(),k=!f||s.name.length>0&&s.keystorePassword.length>0&&!!x.json&&(0,l.isEmpty)(j),w=e=>{const{name:t,value:s}=e.currentTarget;h((e=>({...e,[t]:"name"===t?s.substring(0,16):s}))),b({})},C=(0,a.useRef)(!1);return(0,n.jsxs)(p.k,{onClose:()=>t(c.yD.ADD_WALLET_OPTIONS.MAIN,{replace:!0}),title:e("header_settings_import_keystore_title"),footer:(0,n.jsxs)(n.Fragment,{children:[j.error&&(0,n.jsx)(d.Alert,{variant:"error",title:j.error.title,message:j.error.message}),(0,n.jsx)(d.Button,{onClick:async n=>{if(n.preventDefault(),!k||C.current)return;_(!0);const a={};if(s.name.trim()||(a.name=e("validation_name_is_required")),x.json||(a.keystoreFile=e("validation_keystore_is_required")),s.keystorePassword||(a.keystorePassword=e("validation_password_is_required")),!(0,l.isEmpty)(a))return b(a),void _(!1);b({});try{C.current=!0;const n=v(x.json,s.keystorePassword);if(null===n)return b({keystoreFile:e("error_invalid_keystore")}),_(!1),void(C.current=!1);await y(s.name.trim(),n.toObject()),t(c.yD.MAIN,{replace:!0})}catch(t){b("Invalid password"===t?.message||"provided secretKey is invalid"===t?.message?{keystorePassword:e("error_invalid_keystore_password")}:{keystorePassword:t?.message||e("error_unable_to_import_keystore")}),_(!1),C.current=!1}},disabled:!k,children:e("action_import")})]}),children:[(0,n.jsx)(d.TextField,{label:(0,n.jsx)(d.Label,{children:e("form_name")}),placeholder:e("form_wallet_name_placeholder"),name:"name",value:s.name,onChange:w,error:"name"in j,hint:j.name&&(0,n.jsx)(d.Label,{error:!0,children:j.name||" "})}),(0,n.jsx)(o.ZP,{onDrop:async e=>{if(!e.length)return;const t=e[0],s=await(0,u.u)(t);g({name:t.name,json:s}),b((e=>(0,l.omit)(e,["keystoreFile","keystorePassword"])))},multiple:!1,children:({getRootProps:t,getInputProps:s})=>(0,n.jsxs)("div",{...t(),children:[(0,n.jsx)("input",{...s()}),(0,n.jsx)(d.TextField,{readOnly:!0,label:(0,n.jsx)(d.Label,{children:e("form_keystore_file")}),placeholder:e("form_keystore_file_placeholder"),value:x.name||"",error:"keystoreFile"in j,hint:j.keystoreFile&&(0,n.jsx)(d.Label,{error:!0,children:j.keystoreFile||" "})})]})}),(0,n.jsx)(d.TextField,{label:(0,n.jsx)(d.Label,{children:e("form_keystore_password")}),placeholder:e("form_keystore_password_placeholder"),name:"keystorePassword",type:"password",value:s.keystorePassword,onChange:w,error:"keystorePassword"in j,hint:j.keystorePassword&&(0,n.jsx)(d.Label,{error:!0,children:j.keystorePassword||" "})})]})}},"../../libs/shared/dist/features/walletManagement/modals/AddWalletOptions/ImportPrivateKey/index.js":(e,t,s)=>{"use strict";s.d(t,{t:()=>u});var n=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/react/index.js"),o=s("../../../node_modules/react-i18next/dist/es/useTranslation.js"),i=s("../../../node_modules/react-router/dist/index.js"),r=s("../../libs/foundation-ui/dist/index.js"),l=s("../../libs/shared/dist/constants/routes.js"),d=s("../../libs/shared/dist/features/walletManagement/hooks/index.js"),c=s("../../libs/shared/dist/features/walletManagement/modals/WalletManagementContainer/index.js");const u=()=>{const{t:e}=(0,o.$)(),t=(0,i.s0)(),[s,u]=(0,a.useState)({name:"",privateKey:""}),[m,p]=(0,a.useState)({}),{addWallet:h}=(0,d.Z)(),{importPrivateKey:x}=(0,d.$$)(),g=s.name.trim().length>0&&s.privateKey.length>0&&!m.privateKey,j=e=>{const{name:t,value:s}=e.currentTarget;u((e=>({...e,[t]:"name"===t?s.substring(0,16):s}))),p({})};return(0,n.jsxs)(c.k,{onClose:()=>t(l.yD.ADD_WALLET_OPTIONS.MAIN,{replace:!0}),title:e("header_settings_import_pk"),footer:(0,n.jsxs)(n.Fragment,{children:[m.error&&(0,n.jsx)(r.Alert,{variant:"error",title:m.error.title,message:m.error.message}),(0,n.jsx)(r.ButtonGroup,{children:(0,n.jsx)(r.Button,{onClick:async n=>{if(n.preventDefault(),g)try{const n=x(s.privateKey.trim());if(null===n)return void p({privateKey:e("error_invalid_privatekey")});await h(s.name.trim(),n.toObject()),t(l.yD.MAIN,{replace:!0})}catch(t){p({privateKey:e("error_invalid_privatekey")})}},disabled:!g,children:e("action_import")})})]}),children:[(0,n.jsx)(r.FormField,{label:(0,n.jsx)(r.Label,{children:e("form_name")}),hint:m.name&&(0,n.jsx)(r.Label,{error:!0,children:m.name||" "}),children:(0,n.jsx)(r.Input,{placeholder:e("form_wallet_name_placeholder"),name:"name",value:s.name,onChange:j,variant:m.name?"error":"default"})}),(0,n.jsx)(r.FormField,{label:(0,n.jsx)(r.Label,{children:e("form_privatekey")}),hint:m.privateKey&&(0,n.jsx)(r.Label,{error:!0,children:m.privateKey||" "}),children:(0,n.jsx)(r.Input,{inputType:"textArea",name:"privateKey",placeholder:e("form_paste_privatekey_placeholder"),value:s.privateKey,onChange:j,variant:m.privateKey?"error":"default"})})]})}},"../../libs/shared/dist/features/walletManagement/modals/AddWalletOptions/ImportRecoveryPhrase/index.js":(e,t,s)=>{"use strict";s.d(t,{a:()=>w});var n=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/react/index.js"),o=s("../../../node_modules/react-router/dist/index.js"),i=s("../../../node_modules/bs58/index.js"),r=s.n(i),l=s("../../libs/wallet-core/dist/mnemonic.js"),d=s("../../libs/wallet-core/dist/shared.js"),c=s("../../libs/rise-ui/dist/index.js"),u=s("../../libs/shared/dist/constants/derivationPaths.js"),m=s("../../libs/shared/dist/constants/routes.js"),p=s("../../libs/shared/dist/utils/extension.js"),h=s("../../libs/shared/dist/features/walletData/hooks/index.js"),x=s("../../libs/shared/dist/features/walletManagement/errors.js"),g=s("../../libs/shared/dist/features/walletManagement/modals/AddWalletOptions/ImportRecoveryPhrase/steps/Accounts.js"),j=s("../../libs/shared/dist/features/walletManagement/modals/AddWalletOptions/ImportRecoveryPhrase/steps/Aggregate.js"),b=s("../../libs/shared/dist/features/walletManagement/modals/AddWalletOptions/ImportRecoveryPhrase/steps/DerivationPath.js"),f=s("../../libs/shared/dist/features/walletManagement/modals/AddWalletOptions/ImportRecoveryPhrase/steps/Mnemonic.js");const _="MNEMONIC",y="AGGREGATE",v="DERIVATION_PATH",k="ACCOUNTS",w=()=>{const e=(0,o.s0)(),{wallets:t}=(0,h.Rg)(),{addAccount:s,persistWalletData:i}=(0,h.bg)(),[w,C]=(0,a.useState)({step:_,count:12,mnemonic:"",seed:"",derivationPath:u.VV,activeAccountsPerPath:{},offsetPerPath:{}}),S=e=>{C((t=>({...t,...e})))},T=async(n=w.derivationPath,a)=>{const{seed:o,mnemonic:c}=w;if(a.some((e=>t[e.address])))throw new x.y;const u=r().encode((new TextEncoder).encode(c)),p=new l.Bn;p.initUnlocked({derivationPath:n,seed:o,base:u}),await s(p.toObject(),"Main Wallet",!1);for(const e of a){if(e.index<1)continue;const t=new l.Bn;t.initUnlocked(p,null,e.index);const n=`Wallet ${e.index}`,a={type:d.R7,publicKey:t.publicKey,accountIndex:t.accountIndex,parent:p.publicKey};await s(a,n,!1)}await i(),e(m.yD.MAIN,{replace:!0})};return(0,n.jsxs)(c.u_,{open:!0,fullScreen:p.p1&&!p.Cy,onClose:()=>e(m.yD.ADD_WALLET_OPTIONS.MAIN,{replace:!0}),maxWidth:"sm",children:[w.step===_&&(0,n.jsx)(f.Z,{manage:!0,fullScreen:!0,data:w,updateData:S,nextStep:()=>C((e=>({...e,step:y})))}),w.step===y&&(0,n.jsx)(j.Z,{manage:!0,fullScreen:!0,data:w,updateData:S,onImport:T,nextStep:()=>C((e=>({...e,step:v})))}),w.step===v&&(0,n.jsx)(b.Z,{manage:!0,fullScreen:!0,data:w,updateData:S,prevStep:()=>C((e=>({...e,step:_}))),nextStep:()=>C((e=>({...e,step:k})))}),w.step===k&&(0,n.jsx)(g.Z,{manage:!0,fullScreen:!0,data:w,updateData:S,onImport:T,prevStep:()=>C((e=>({...e,step:v}))),nextStep:()=>null})]})}},"../../libs/shared/dist/features/walletManagement/modals/AddWalletOptions/ImportRecoveryPhrase/steps/Accounts.js":(e,t,s)=>{"use strict";s.d(t,{Z:()=>P,o:()=>Z});var n=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/react/index.js"),o=s("../../../node_modules/react-i18next/dist/es/withTranslation.js"),i=s("../../../node_modules/react-virtuoso/dist/index.m.js"),r=s("../../../node_modules/@mui/material/Box/Box.js"),l=s("../../../node_modules/@mui/material/Typography/Typography.js"),d=s("../../../node_modules/@mui/material/Button/Button.js"),c=s("../../../node_modules/@mui/material/List/List.js"),u=s("../../../node_modules/@mui/material/Divider/Divider.js"),m=s("../../../node_modules/@mui/material/ListItem/ListItem.js"),p=s("../../../node_modules/@mui/material/ListItemText/ListItemText.js"),h=s("../../../node_modules/@mui/material/ListItemSecondaryAction/ListItemSecondaryAction.js"),x=s("../../../node_modules/@mui/material/Checkbox/Checkbox.js"),g=s("../../../node_modules/@mui/styles/withStyles/withStyles.js"),j=s("../../../node_modules/clsx/dist/clsx.m.js"),b=s("../../../node_modules/immer/dist/immer.mjs"),f=s("../../../node_modules/lodash/lodash.js"),_=s("../../../node_modules/prop-types/index.js"),y=s.n(_),v=s("../../libs/wallet-core/dist/mnemonic.js"),k=s("../../libs/foundation-ui/dist/index.js"),w=s("../../libs/shared/dist/components/index.js"),C=s("../../libs/shared/dist/decorators/index.js"),S=s("../../libs/shared/dist/utils/truncateMiddle.js"),T=s("../../libs/shared/dist/features/currencies/components/index.js"),A=s("../../libs/shared/dist/features/walletManagement/decorators/getBalances.js"),I=s("../../../node_modules/console-browserify/index.js");const Z=20;let M=class extends a.Component{constructor(e){super(e),this.fetchAddresses=async(e,t,s,n=!1)=>{let a=this.generateAddresses(t,s,e);const o=await this.props.getBalances(a);return n&&(a=a.filter((e=>(0,f.find)(o,(t=>t.pubkey===e.publicKey))))),{accounts:a,activeAccountsPerPath:o}},this.generateAddresses=(e=0,t=19,s)=>{const n=[];for(let a=e;a<=t;a++){const e=(0,v.c3)(this.props.data.seed,a,s).publicKey.toString();n.push(e)}return(0,f.uniq)(n)},this.getActiveAccountsMap=e=>{const{data:{activeAccountsPerPath:t,derivationPath:s}}=this.props,n=e?.length>0?e:t[s];return(0,f.keyBy)(n,"pubkey")},this.handleChecked=e=>{const{name:t,checked:s}=e.target;s?this.setState({selected:(0,f.union)(this.state.selected,[t])}):this.setState({selected:(0,f.difference)(this.state.selected,[t])})},this.handleToggleAll=()=>{const{data:{derivationPath:e,activeAccountsPerPath:t}}=this.props,s=t[e]?.map((e=>e.pubkey));(0,f.isEqual)(this.state.selected,s??[])?this.setState({selected:[this.state.selected[0]]}):this.setState({selected:s??[]})},this.onSubmit=async()=>{const{data:{derivationPath:e},t}=this.props,s=this.state.addresses.map(((e,t)=>({address:e,index:t}))).filter((({address:e})=>this.state.selected.indexOf(e)>=0));try{await this.props.onImport(e,s)}catch(e){"WalletAlreadyAddedError"===e?.name&&this.setState({error:{title:t("account_already_imported"),message:t("account_already_imported_mnemonic")}})}},this.onInfiniteScroll=async()=>{const{data:{activeAccountsPerPath:e,derivationPath:t}}=this.props,s=this.state.addresses.length;if(1!==s)try{this.setState({loading:!0});const{accounts:n,activeAccountsPerPath:a}=await this.fetchAddresses(t,s,s+Z),o=(0,b.Uy)(this.props.data,(n=>{n.offsetPerPath[t]=s+Z,n.activeAccountsPerPath[t]?n.activeAccountsPerPath[t]=[...e[t],...a]:a?.length&&(n.activeAccountsPerPath[t]=[...a])}));this.props.updateData(o);const i=a.map((e=>e.pubkey));this.setState({addresses:[...this.state.addresses,...n],loading:!1,active:this.getActiveAccountsMap([...e[t]??[],...a]),selected:this.state.selected.length?[...this.state.selected,...i]:[...i]})}catch(e){I.log("error",e),this.setState({loading:!1})}},this.state={addresses:this.generateAddresses(0,e.data.offsetPerPath[e.data.derivationPath]??Z,e.data.derivationPath),selected:Object.keys(this.getActiveAccountsMap()),active:this.getActiveAccountsMap(),loading:!1,error:null}}render(){const{classes:e,prevStep:t,t:s,openExplorer:o,data:{activeAccountsPerPath:g,derivationPath:b},manage:f,fullScreen:_}=this.props,{active:y,error:v}=this.state;return(0,n.jsx)(r.Z,{display:"flex",flexDirection:"column",alignItems:"center",children:(0,n.jsxs)(r.Z,{maxWidth:400,textAlign:"center",children:[(0,n.jsx)(l.Z,{variant:"h2",gutterBottom:!0,children:s("onboard_active_wallet",{count:g[b]?.length||0})}),(0,n.jsx)(l.Z,{variant:"body2",color:"textSecondary",children:s("onboard_active_description")}),(0,n.jsx)(r.Z,{mt:2,textAlign:"right",children:(0,n.jsx)(d.Z,{sx:{visibility:this.state.addresses.length<=1?"hidden":"visible"},variant:"text",color:"primary",onClick:this.handleToggleAll,children:s("toggle_all")})}),(0,n.jsxs)(c.Z,{className:(0,j.Z)(e.list,_&&e.fullScreenList),children:[(0,n.jsx)(u.Z,{light:!0}),(0,n.jsx)(i.OO,{data:this.state.addresses||[],endReached:this.onInfiniteScroll,overscan:80,components:{Footer:!!g[b]&&1!==this.state.addresses.length&&w.b2},itemContent:(t,s)=>(0,n.jsxs)(a.Fragment,{children:[(0,n.jsxs)(m.ZP,{children:[(0,n.jsx)(p.Z,{primary:(0,n.jsxs)(r.Z,{display:"flex",alignItems:"center",mb:1,children:[(0,n.jsx)(l.Z,{variant:"caption",children:(0,S.r)(s)}),(0,n.jsx)(w.Tq,{className:e.linkIcon,onClick:()=>o({type:"account",address:s})})]}),secondary:(0,n.jsx)(l.Z,{variant:"body2",color:"textSecondary",children:(0,n.jsx)(T.sp,{value:y[s]?.value??0})})}),(0,n.jsx)(h.Z,{children:(0,n.jsx)(x.Z,{disabled:0===t,color:"primary",edge:"end",onChange:this.handleChecked,name:s,checked:0===t||-1!==this.state.selected.indexOf(s)})})]}),(0,n.jsx)(u.Z,{light:!0})]},`address-${s}`)})]}),v&&(0,n.jsx)(k.Alert,{variant:"error",title:this.state.error.title,message:this.state.error.message}),(0,n.jsxs)(r.Z,{display:"flex",justifyContent:"space-between",mt:4,mb:2,children:[(0,n.jsx)(d.Z,{variant:"text",color:"primary",onClick:t,children:s("action_back")}),(0,n.jsx)(d.Z,{type:"submit",variant:"contained",color:"primary",onClick:this.onSubmit,children:s(f?"action_import":"action_continue")})]}),(0,n.jsx)(l.Z,{variant:"body2",children:s("onboard_you_can_import_later")})]})})}};M.propTypes={manage:y().bool,fullScreen:y().bool,prevStep:y().func,onImport:y().func,openExplorer:y().func,classes:y().object,t:y().func,data:y().object,getBalances:y().func,currency:y().object,updateData:y().func},M=function(e,t,s,n){var a,o=arguments.length,i=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,s,n);else for(var r=e.length-1;r>=0;r--)(a=e[r])&&(i=(o<3?a(i):o>3?a(t,s,i):a(t,s))||i);return o>3&&i&&Object.defineProperty(t,s,i),i}([(0,o.Z)(),C.Nr,(0,A.l)(),(0,g.Z)((e=>({list:{height:400,padding:0},fullScreenList:{height:300},linkIcon:{width:20,height:20,marginLeft:10,cursor:"pointer",opacity:.2,color:e.palette.text.primary}})))],M);const P=M},"../../libs/shared/dist/features/walletManagement/modals/AddWalletOptions/ImportRecoveryPhrase/steps/Aggregate.js":(e,t,s)=>{"use strict";s.d(t,{Z:()=>y});var n=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/@mui/icons-material/esm/AccountBalanceWallet.js"),o=s("../../../node_modules/@mui/material/Box/Box.js"),i=s("../../../node_modules/@mui/material/CircularProgress/CircularProgress.js"),r=s("../../../node_modules/@mui/material/Typography/Typography.js"),l=s("../../../node_modules/@mui/material/Button/Button.js"),d=s("../../../node_modules/@mui/styles/withStyles/withStyles.js"),c=s("../../libs/wallet-core/dist/mnemonic.js"),u=s("../../libs/foundation-ui/dist/index.js"),m=s("../../../node_modules/lodash/lodash.js"),p=s("../../../node_modules/prop-types/index.js"),h=s.n(p),x=s("../../../node_modules/react/index.js"),g=s("../../../node_modules/react-i18next/dist/es/withTranslation.js"),j=s("../../libs/shared/dist/constants/derivationPaths.js"),b=s("../../libs/shared/dist/features/walletManagement/decorators/getBalances.js"),f=s("../../libs/shared/dist/features/walletManagement/modals/AddWalletOptions/ImportRecoveryPhrase/steps/Accounts.js");let _=class extends x.Component{constructor(){super(...arguments),this.state={loading:!0,activeAccountsPerPath:null,error:null},this.checkAccountsBalances=async()=>{this.setState({loading:!0});const e=Object.keys(j.z$),t=e.map((e=>this.fetchActiveAccounts(e))),s=await Promise.all(t),n=e.reduce(((e,t,n)=>(s[n].length&&(e[t]=s[n]),e)),{});await this.props.updateData({activeAccountsPerPath:n}),this.setState({loading:!1,activeAccountsPerPath:n}),Object.keys(n).length>1&&this.props.nextStep()},this.fetchActiveAccounts=async e=>{const t=this.generateAddresses(f.o,e),s=await this.props.getBalances(t),n=(0,m.keyBy)(s,"pubkey");return 0===s.length?[]:t.map(((e,t)=>({pubkey:e,index:t,value:0,...n[e]||{}}))).filter(((e,t)=>0===t||e.value))},this.generateAddresses=(e=10,t)=>(0,m.uniq)([...Array(e)].map(((e,s)=>(0,c.c3)(this.props.data.seed,s,t).publicKey.toString()))),this.quickSetup=async()=>{const{t:e}=this.props,t=this.generateAddresses(1,j.VV);try{await this.props.onImport(j.VV,[{address:t[0],index:0}])}catch(t){"WalletAlreadyAddedError"===t?.name&&this.setState({error:{title:e("account_already_imported"),message:e("account_already_imported_mnemonic")}})}},this.chooseDerivationPath=()=>{this.props.nextStep()},this.importAllActive=async e=>{const{t}=this.props,s=this.state.activeAccountsPerPath[e].map((e=>({address:e.pubkey,index:e.index})));try{await this.props.onImport(e,s)}catch(e){"WalletAlreadyAddedError"===e?.name&&this.setState({error:{title:t("account_already_imported"),message:t("account_already_imported_mnemonic")}})}},this.renderInfo=({title:e,subtitle:t,actions:s,error:l,isLoading:d=!1})=>{const{classes:c,t:m}=this.props;return(0,n.jsxs)(o.Z,{textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",children:[(0,n.jsxs)(o.Z,{mb:4,className:c.iconContainer,width:180,height:180,display:"inline-flex",justifyContent:"center",alignItems:"center",position:"relative",borderRadius:"50%",children:[(0,n.jsx)(a.Z,{color:"primary",style:{fontSize:50}}),d&&(0,n.jsx)(i.Z,{className:c.progress,size:180,thickness:1})]}),l?(0,n.jsx)(u.Alert,{variant:"error",title:this.state.error.title,message:this.state.error.message}):d?(0,n.jsx)(o.Z,{maxWidth:350,children:(0,n.jsx)(r.Z,{variant:"body1",gutterBottom:!0,children:m("onboard_detecting_existing_accounts")})}):(0,n.jsxs)(o.Z,{maxWidth:250,children:[(0,n.jsx)(r.Z,{variant:"h2",gutterBottom:!0,children:e}),(0,n.jsx)(r.Z,{variant:"body2",color:"textSecondary",children:t}),s&&(0,n.jsx)(o.Z,{mt:4,display:"flex",flexDirection:"column",alignItems:"center",children:s})]})]})}}componentDidMount(){this.checkAccountsBalances()}render(){const{t:e}=this.props;if(this.state.loading)return this.renderInfo({isLoading:!0});if(this.state.error)return this.renderInfo({error:!0});const t=Object.keys(this.state.activeAccountsPerPath);return 0===t.length?this.renderInfo({title:e("onboard_no_active_wallets"),subtitle:e("onboard_active_description"),actions:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.Z,{variant:"contained",color:"primary",onClick:this.quickSetup,children:e("onboard_quick_setup")}),(0,n.jsx)(l.Z,{variant:"text",color:"primary",onClick:this.chooseDerivationPath,children:e("action_advanced")})]})}):1===t.length?this.renderInfo({title:e("onboard_active_wallet",{count:this.state.activeAccountsPerPath[t[0]].length}),subtitle:e("onboard_active_description"),actions:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.Z,{variant:"contained",color:"primary",onClick:()=>this.importAllActive(t[0]),children:e("action_import_all")}),(0,n.jsx)(l.Z,{variant:"text",color:"primary",onClick:this.chooseDerivationPath,children:e("action_advanced")})]})}):null}};_.propTypes={t:h().func,classes:h().object,getBalances:h().func,updateData:h().func,nextStep:h().func,onImport:h().func,data:h().object},_=function(e,t,s,n){var a,o=arguments.length,i=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,s,n);else for(var r=e.length-1;r>=0;r--)(a=e[r])&&(i=(o<3?a(i):o>3?a(t,s,i):a(t,s))||i);return o>3&&i&&Object.defineProperty(t,s,i),i}([(0,g.Z)(),(0,d.Z)((e=>({iconContainer:{backgroundColor:e.palette.primary.light},progress:{position:"absolute"}}))),(0,b.l)()],_);const y=_},"../../libs/shared/dist/features/walletManagement/modals/AddWalletOptions/ImportRecoveryPhrase/steps/DerivationPath.js":(e,t,s)=>{"use strict";s.d(t,{Z:()=>y});var n=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/react/index.js"),o=s("../../../node_modules/react-i18next/dist/es/withTranslation.js"),i=s("../../../node_modules/@mui/material/Box/Box.js"),r=s("../../../node_modules/@mui/material/Typography/Typography.js"),l=s("../../../node_modules/@mui/material/List/List.js"),d=s("../../../node_modules/@mui/material/ListItem/ListItem.js"),c=s("../../../node_modules/@mui/material/ListItemText/ListItemText.js"),u=s("../../../node_modules/@mui/material/ListItemSecondaryAction/ListItemSecondaryAction.js"),m=s("../../../node_modules/@mui/styles/withStyles/withStyles.js"),p=s("../../../node_modules/lodash/lodash.js"),h=s("../../../node_modules/prop-types/index.js"),x=s.n(h),g=s("../../libs/wallet-core/dist/mnemonic.js"),j=s("../../libs/shared/dist/constants/derivationPaths.js"),b=s("../../libs/shared/dist/utils/truncateMiddle.js"),f=s("../../libs/shared/dist/features/currencies/components/index.js");let _=class extends a.Component{constructor(){super(...arguments),this.generateAddresses=(e=10,t)=>(0,p.uniq)([...Array(e)].map(((e,s)=>(0,g.c3)(this.props.data.seed,s,t).publicKey.toString()))),this.getDerivationPathAccountsBalance=e=>{const t=this.props.data.activeAccountsPerPath[e]?.reduce(((e,t)=>e+t.value),0);return(0,n.jsx)(f.sp,{value:t||0})},this.selectDerivationPath=async e=>{await this.props.updateData({derivationPath:e}),this.props.nextStep()}}render(){const{data:e,classes:t,t:s}=this.props;return(0,n.jsxs)(i.Z,{children:[(0,n.jsx)(r.Z,{variant:"h2",gutterBottom:!0,children:s("onboard_select_derivation_path")}),(0,n.jsx)(r.Z,{variant:"body2",color:"textSecondary",children:s("onboard_derivation_path_description")}),(0,n.jsx)(l.Z,{className:t.list,children:Object.keys(j.z$).map((a=>(0,n.jsxs)(d.ZP,{button:!0,className:t.listItem,onClick:()=>this.selectDerivationPath(a),"data-id":j.z$[a],children:[(0,n.jsx)(c.Z,{primary:(0,n.jsx)(r.Z,{variant:"h3",children:j.z$[a]}),secondary:(0,n.jsx)(r.Z,{variant:"caption",color:"textSecondary","data-id":"main_address",children:(0,b.r)(this.generateAddresses(1,a)[0])})}),(0,n.jsx)(u.Z,{children:(0,n.jsxs)(i.Z,{textAlign:"right",children:[(0,n.jsx)(r.Z,{variant:"h2","data-id":"account_balance",children:this.getDerivationPathAccountsBalance(a)}),(0,n.jsx)(r.Z,{variant:"body2",color:"textSecondary","data-id":"num_accounts",children:s("onboard_num_accounts",{count:e.activeAccountsPerPath[a]?.length||0})})]})})]},`path-${a}`)))})]})}};_.propTypes={t:x().func,updateData:x().func,classes:x().object,nextStep:x().func,data:x().object},_=function(e,t,s,n){var a,o=arguments.length,i=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,s,n);else for(var r=e.length-1;r>=0;r--)(a=e[r])&&(i=(o<3?a(i):o>3?a(t,s,i):a(t,s))||i);return o>3&&i&&Object.defineProperty(t,s,i),i}([(0,o.Z)(),(0,m.Z)((e=>({list:{marginTop:e.spacing(4)},listItem:{background:e.palette.common.white10,borderRadius:6,marginBottom:e.spacing(2),"&:hover":{background:e.palette.common.white20}}})))],_);const y=_},"../../libs/shared/dist/features/walletManagement/modals/AddWalletOptions/ImportRecoveryPhrase/steps/Mnemonic.js":(e,t,s)=>{"use strict";s.d(t,{Z:()=>y});var n=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/@mui/material/Box/Box.js"),o=s("../../../node_modules/@mui/material/Typography/Typography.js"),i=s("../../../node_modules/@mui/material/Button/Button.js"),r=s("../../../node_modules/@mui/material/Divider/Divider.js"),l=s("../../../node_modules/@mui/material/Grid/Grid.js"),d=s("../../../node_modules/@mui/material/Input/Input.js"),c=s("../../../node_modules/@mui/material/InputAdornment/InputAdornment.js"),u=s("../../../node_modules/@mui/material/FormHelperText/FormHelperText.js"),m=s("../../../node_modules/@mui/styles/withStyles/withStyles.js"),p=s("../../libs/wallet-core/dist/mnemonic.js"),h=s("../../../node_modules/lodash/lodash.js"),x=s("../../../node_modules/prop-types/index.js"),g=s.n(x),j=s("../../../node_modules/react/index.js"),b=s("../../../node_modules/react-i18next/dist/es/withTranslation.js"),f=s("../../libs/shared/dist/utils/files.js");let _=class extends j.Component{constructor(e){super(e),this.handleChangeCount=e=>{this.setState({count:e})},this.handleUpload=async e=>{if(!e.length)return;this.setState({error:null});const t=e[0],s=(await(0,f.u)(t)).trim().split(/\s+/);this.setState({count:s.length<=12?12:24,words:s})},this.uploadMnemonic=()=>{const e=document.createElement("input");e.type="file",e.onchange=e=>this.handleUpload(e.target.files),e.click()},this.handleChange=(e,t)=>{const s=e.target.value,n=s.trim().split(/\s+/);n.length>1?this.setState((e=>{const s=[...e.words];let a=0;for(;t+a<24&&a<n.length;)s[t+a]=n[a],a++;let o=e.count;return t+n.length>12&&(o=24),{count:o,words:s,error:null}})):(s.endsWith(" ")&&this.focusInput(t+1),this.setState((e=>{const n=[...e.words];return n[t]=s.trim(),{words:n,error:null}})))},this.onSubmit=async e=>{const{t}=this.props;e?.preventDefault();for(let e=0;e<this.state.count;e++)if(!(this.state.words[e]||"").trim())return void this.setState({error:t("validation_invalid_mnemonic")});const s=(0,h.slice)(this.state.words,0,this.state.count).join(" ");if(!(0,p._I)(s.trim()))return this.setState({error:t("validation_invalid_mnemonic")}),!1;const n=await(0,p.OI)(s.trim());await this.props.updateData({mnemonic:s.trim(),seed:n,count:this.state.count}),this.props.nextStep()};const t=(e.data.mnemonic||"").split(/\s+/);this.state={count:e.data.count||12,words:(0,h.assign)((0,h.fill)(new Array(24),""),t),error:null}}render(){const{t:e,classes:t,prevStep:s,manage:m}=this.props;return(0,n.jsxs)(a.Z,{children:[(0,n.jsx)(o.Z,{variant:"h2",gutterBottom:!0,children:e("onboard_enter_recovery_phrase")}),(0,n.jsx)(o.Z,{variant:"body2",color:"textSecondary",children:e("onboard_enter_recovery_phrase_description")}),(0,n.jsxs)("form",{onSubmit:this.onSubmit,children:[(0,n.jsxs)(a.Z,{className:t.wordsContainer,children:[(0,n.jsxs)(a.Z,{display:"flex",justifyContent:"space-between",mb:1,children:[(0,n.jsxs)(a.Z,{display:"flex",alignItems:"center",children:[(0,n.jsx)(i.Z,{variant:"text",color:"primary",onClick:()=>this.handleChangeCount(12),sx:{p:1,opacity:12===this.state.count?1:.2},children:"12"}),(0,n.jsx)(i.Z,{variant:"text",color:"primary",onClick:()=>this.handleChangeCount(24),sx:{p:1,opacity:24===this.state.count?1:.2},children:"24"})]}),(0,n.jsx)(i.Z,{variant:"text",color:"primary",onClick:this.uploadMnemonic,children:e("action_upload")})]}),(0,n.jsx)(r.Z,{light:!0}),(0,n.jsx)(l.ZP,{container:!0,spacing:2,className:t.wordsGrid,children:(0,h.range)(0,this.state.count).map((e=>(0,n.jsx)(l.ZP,{item:!0,sm:4,xs:6,children:(0,n.jsx)(d.Z,{autoComplete:"off",inputProps:{tabIndex:e+1,"data-id":"recovery_phrase_input"},error:!!this.state.error,value:this.state.words[e]||"",onChange:t=>this.handleChange(t,e),id:`mnemonic-input-${e}`,fullWidth:!0,startAdornment:(0,n.jsx)(c.Z,{position:"start",children:(0,n.jsx)(o.Z,{variant:"inherit",color:"textSecondary",children:e+1})})})},e)))}),!!this.state.error&&(0,n.jsxs)(a.Z,{children:[(0,n.jsx)(r.Z,{light:!0}),(0,n.jsx)(a.Z,{m:2,children:(0,n.jsx)(u.Z,{"data-id":"error_message",error:!0,children:this.state.error})})]})]}),(0,n.jsxs)(a.Z,{display:"flex",justifyContent:"space-between",mt:4,children:[!m&&(0,n.jsx)(i.Z,{variant:"text",color:"primary",onClick:s,children:e("action_back")}),(0,n.jsx)(a.Z,{flexGrow:1}),(0,n.jsx)(i.Z,{type:"submit",variant:"contained",color:"primary",children:e("action_continue")})]})]})]})}};_.propTypes={t:g().func,manage:g().bool,data:g().object,classes:g().object,updateData:g().func,prevStep:g().func,nextStep:g().func},_=function(e,t,s,n){var a,o=arguments.length,i=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,s,n);else for(var r=e.length-1;r>=0;r--)(a=e[r])&&(i=(o<3?a(i):o>3?a(t,s,i):a(t,s))||i);return o>3&&i&&Object.defineProperty(t,s,i),i}([(0,b.Z)(),(0,m.Z)((e=>({wordsContainer:{background:e.palette.common.black20,border:`1px solid ${e.palette.common.white10}`,marginTop:e.spacing(3),padding:e.spacing(1)},wordsGrid:{padding:e.spacing(2)}})))],_);const y=_},"../../libs/shared/dist/features/walletManagement/modals/AddWalletOptions/ManageRecoveryPhrase/index.js":(e,t,s)=>{"use strict";s.d(t,{p:()=>f});var n=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/react/index.js"),o=s("../../../node_modules/react-i18next/dist/es/useTranslation.js"),i=s("../../../node_modules/react-router/dist/index.js"),r=s("../../../node_modules/lodash/lodash.js"),l=s("../../libs/wallet-core/dist/shared.js"),d=s("../../libs/foundation-ui/dist/index.js"),c=s("../../libs/shared/dist/constants/routes.js"),u=s("../../libs/shared/dist/hooks/useMetamask/index.js"),m=s("../../libs/shared/dist/utils/displayPrice.js"),p=s("../../libs/shared/dist/utils/truncateMiddle.js"),h=s("../../libs/shared/dist/features/currencies/hooks/index.js"),x=s("../../libs/shared/dist/features/pfp/components/index.js"),g=s("../../libs/shared/dist/features/walletData/hooks/index.js"),j=s("../../libs/shared/dist/features/walletManagement/hooks/index.js"),b=s("../../libs/shared/dist/features/walletManagement/modals/WalletManagementContainer/index.js");const f=()=>{const{isMetamask:e}=(0,u.U)(),{t}=(0,o.$)(),s=(0,i.s0)(),f=(0,j.EU)(),_=(0,h.Af)(),y=f?.publicKey||"",{addresses:v,accounts:k,loadMoreAccounts:w,balances:C,deriveAccount:S}=(0,j.SH)(),{addresses:T,accounts:A,loadMoreAccounts:I,balances:Z,deriveAccount:M}=(0,j.Pi)(),{addMultipleWallets:P,removeMultipleWallets:D}=(0,j.Z)(),{persistWalletData:B}=(0,g.bg)(),{addresses:E,accounts:O,loadMoreAccounts:L,balances:N,deriveAccount:R}=(0,a.useMemo)((()=>({addresses:e?T:v,accounts:e?A:k,loadMoreAccounts:e?I:w,balances:e?Z:C,deriveAccount:e?M:S})),[e,A,T,Z,M,I,k,v,C,S,w]),[F,U]=(0,a.useState)([y,...O].reduce(((e,t)=>({...e,[t]:!0})),{})),$=0!==(0,r.xor)(Object.keys(F).filter((e=>F[e])),[y,...O]).length&&Object.keys(F).filter((e=>F[e])).length>0;(0,a.useEffect)((()=>{(e||f&&f.data)&&L(-1)}),[L]);const W=(0,a.useCallback)(((e,t)=>{U((s=>({...s,[e]:t})))}),[]);return e||f&&f.data&&f.data.derivationPath!==l.PT.bip44Root?(0,n.jsx)(b.k,{onClose:()=>s(e?c.yD.MAIN:c.yD.ADD_WALLET_OPTIONS.MAIN,{replace:!0}),title:t("header_wallet_management_manage_"+(e?"wallets":"recovery_phrase")),footer:(0,n.jsx)(d.Button,{disabled:!$,onClick:async t=>{t.preventDefault();const n=Object.keys(F).filter((e=>F[e])),a=(0,r.difference)(n,[y,...O]).map((e=>E.findIndex((t=>t===e)))).filter((e=>-1!==e)).map((async t=>{const s=await R(t);return e?{name:0===t?"Solana Wallet":`Solana ${t}`,wallet:{type:l.Yg,publicKey:s.toString(),derivationPath:l.PT.bip44Change,accountIndex:t}}:{name:`Wallet ${t}`,wallet:{type:l.R7,publicKey:s.toString(),accountIndex:t,parent:y}}})),o=await Promise.all(a);0!==o.length&&await P(o,{persistChanges:!1});const i=(0,r.difference)([y,...O],n).map((e=>E.findIndex((t=>t===e)))).filter((e=>-1!==e)).map((async e=>(await R(e)).toString())),d=await Promise.all(i);0!==d.length&&await D(d,{persistChange:!1}),await B(),s(c.yD.MAIN)},children:t("action_save")}),footerProps:{variant:"fixed"},children:(0,n.jsx)(d.WalletSwitchList,{loading:0===E.length,renderTitle:p.r,onCheckedChange:W,endReached:L,data:E.map(((t,s)=>({address:t,renderAvatar:(0,n.jsx)(x.y,{publicKey:t}),subtitle:"number"==typeof N[t]?(0,m.ED)({amount:N[t],displayType:"amount",prefix:_.symbol}):null,checked:F[t],isImportant:!e&&0===s})))})}):(0,n.jsx)(i.Fg,{to:c.yD.ADD_WALLET_OPTIONS.MAIN,replace:!0})}},"../../libs/shared/dist/features/walletManagement/modals/AddWalletOptions/RestoreBurnerWallets/index.js":(e,t,s)=>{"use strict";s.d(t,{I:()=>w});var n=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/react/index.js"),o=s("../../../node_modules/react-i18next/dist/es/useTranslation.js"),i=s("../../../node_modules/react-router/dist/index.js"),r=s("../../libs/wallet-core/dist/burner.js"),l=s("../../libs/foundation-ui/dist/index.js"),d=s("../../libs/shared/dist/constants/routes.js"),c=s("../../libs/shared/dist/utils/displayPrice.js"),u=s("../../libs/shared/dist/utils/truncateMiddle.js"),m=s("../../libs/shared/dist/features/pfp/components/index.js"),p=s("../../libs/shared/dist/features/walletData/hooks/index.js"),h=s("../../libs/shared/dist/features/walletManagement/hooks/useBalances.js"),x=s("../../../node_modules/lodash/lodash.js"),g=s("../../libs/shared/dist/features/globalConfig/hooks/index.js"),j=s("../../libs/shared/dist/features/walletData/utils/types.js"),b=s("../../libs/shared/dist/features/walletManagement/api/index.js"),f=s("../../../node_modules/console-browserify/index.js");var _=s("../../libs/shared/dist/features/walletManagement/utils/index.js"),y=s("../../libs/shared/dist/features/walletManagement/modals/WalletManagementContainer/index.js"),v=s("../../libs/shared/dist/components/UniversalDrawer/index.js");const k=({openDrawer:e,onCloseDrawer:t,onRestoreBurners:s})=>{const{t:a}=(0,o.$)();return(0,n.jsx)(v.Z,{open:e,title:a("settings_burner_restore_modal_title"),footer:(0,n.jsxs)(l.ButtonGroup,{children:[(0,n.jsx)(l.Button,{variant:"secondary",onClick:t,children:a("action_cancel")}),(0,n.jsx)(l.Button,{onClick:s,children:a("action_restore")})]}),children:(0,n.jsxs)(l.FrictionSection,{children:[(0,n.jsx)(l.Alert,{variant:"warning",title:a("burner_wallets_restore_title"),message:a("burner_wallets_restore_description")}),(0,n.jsx)(l.Paragraph,{children:a("settings_burner_restore_modal_description_continue")})]})})},w=()=>{const e=(0,i.s0)(),{t}=(0,o.$)(),{addAccount:s,persistWalletData:v}=(0,p.bg)(),w=(0,p.YW)(),[C,S]=(0,a.useState)(!1),[T,A]=(0,a.useState)([]),{burnersToRestore:I,indexPubkeys:Z,isLoading:M}=(()=>{const e=(0,g.LN)(),{wallets:t}=(0,p.Rg)(),s=(0,p.YW)(),[n,o]=(0,a.useState)([]),[i,l]=(0,a.useState)({}),[d,c]=(0,a.useState)(!0),u=(0,a.useCallback)((async({retry:n=0,temp:a=[],startIndex:i=0})=>{if(!s)return;const d=(({startIndex:e,batch:t=0,mnemonicData:s,wallets:n})=>{const a={};for(let o=10*t+e;o<10*(t+1)+e;o++){const e=new r.eV;e.init(s,o);const t=e.publicKey||"";n[t]||(a[o]=t)}return a})({startIndex:i,batch:n,mnemonicData:s,wallets:t});l((e=>({...e,...d})));const m=a.length?[...a]:[];if(d)try{const t=await(0,b.cA)({pubkeys:Object.values(d),network:e.cluster});if(!t||!t.length)throw c(!1),new Error("No more burners");u({retry:n+1,temp:t,startIndex:i})}catch(e){f.log(e)}o((e=>[...e,...m]))}),[s,e,t]),m=(0,a.useCallback)((()=>{if(!s)return;const e=(0,x.maxBy)((0,x.filter)(t,j.Kv),"accountIndex"),n={},a=e?.accountIndex??0;for(let e=0;e<a;e++){const a=new r.eV;a.init(s,e);const o=a.publicKey||"";t[o]||(n[e]=o)}l((e=>({...e,...n}))),u({startIndex:0===a?0:a+1,temp:Object.values(n)})}),[s,t,u]);return(0,a.useEffect)((()=>{(async()=>{await m()})()}),[m]),{burnersToRestore:n,indexPubkeys:i,isLoading:d}})(),{query:P,currency:D}=(0,h.l)((0,_.Xw)(I)),B=(0,a.useMemo)((()=>T.every((e=>!e.checked))),[T]),E=(0,a.useCallback)((()=>{const e=I.map((e=>{const t=Object.entries(Z).find((t=>t.includes(e))),s=Number(t?.[0]),a=P.data?.data.find((t=>t.publicKey===e))?.value;return{pubkey:e,address:(0,u.r)(e),accountIndex:s,renderAvatar:(0,n.jsx)(m.y,{publicKey:e,isBurner:!0}),subtitle:a?.toString()?(0,c.ED)({amount:a,prefix:D.symbol||D.name,displayType:"amount"}):null,isImportant:P.isFetching,checked:!1}}));A(e)}),[I,Z,P.data?.data,P.isFetching,D.symbol,D.name]),O=0===I.length&&!M;return(0,a.useEffect)((()=>{E()}),[E]),(0,n.jsxs)(y.k,{onClose:()=>e(d.yD.ADD_WALLET_OPTIONS.MAIN,{replace:!0}),title:t("settings_burner_restore_modal_title"),footer:O?null:(0,n.jsx)(l.Button,{onClick:()=>S(!0),disabled:B,children:t("action_save")}),children:[(0,n.jsx)(l.WalletSwitchList,{renderTitle:u.r,loading:M,data:T,onCheckedChange:(e,t)=>{const s=T.findIndex((t=>t.address===e)),n={...T[s],checked:t};A((e=>e.map(((e,t)=>t===s?n:e))))}}),O&&(0,n.jsx)(l.EmptyState,{illustration:(0,n.jsx)(l.NoApp,{}),children:(0,n.jsx)(l.Paragraph,{textAlign:"center",children:t("settings_burner_account_restore_empty_message")})}),(0,n.jsx)(k,{openDrawer:C,onCloseDrawer:()=>S(!1),onRestoreBurners:async()=>{if(!w?.seed)throw new Error("There is no seed!");for(let e=0;e<T.length;e++){const t=T[e];if(t.checked){const e=new r.eV;e.init(w,t.accountIndex),await s(e.toObject(),`Used burner ${t.accountIndex}`,!1)}}await v(),S(!1),e(d.yD.MAIN,{replace:!0})}})]})}},"../../libs/shared/dist/features/walletManagement/modals/AddWalletOptions/index.js":(e,t,s)=>{"use strict";s.d(t,{L:()=>x});var n=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/react/index.js"),o=s("../../../node_modules/react-i18next/dist/es/useTranslation.js"),i=s("../../../node_modules/react-router/dist/index.js"),r=s("../../../node_modules/@fortawesome/pro-light-svg-icons/index.mjs"),l=s("../../libs/wallet-core/dist/shared.js"),d=s("../../libs/foundation-ui/dist/index.js"),c=s("../../libs/shared/dist/constants/routes.js"),u=s("../../libs/shared/dist/utils/extension.js"),m=s("../../libs/shared/dist/utils/tabs.js"),p=s("../../libs/shared/dist/features/walletManagement/hooks/index.js"),h=s("../../libs/shared/dist/features/walletManagement/modals/WalletManagementContainer/index.js");const x=()=>{const{t:e}=(0,o.$)(),t=(0,i.s0)(),s=(0,p.EU)(),{hasBurnerWallets:x}=(0,p.Kx)(),g=(0,a.useMemo)((()=>{const a=[];return s?(s.data?.derivationPath!==l.PT.bip44Root&&a.push({title:e("wallet_add_account_options_wallet"),avatar:(0,n.jsx)(d.Icon,{size:"l",icon:r.r8p}),onClick:()=>t(c.yD.ADD_WALLET_OPTIONS.ADD_WALLET),key:"mnemonic-derivenext"},{title:e("wallet_add_account_options_manage_recovery_phrase"),avatar:(0,n.jsx)(d.Icon,{size:"l",icon:r.Zrf}),onClick:()=>t(c.yD.ADD_WALLET_OPTIONS.MANAGE_RECOVERY_PHRASE),key:"mnemonic-manage"}),u.p1&&a.push({title:e("wallet_add_account_options_create_burner_wallet"),avatar:(0,n.jsx)(d.Icon,{size:"l",icon:r.Rpv}),onClick:x?()=>t(c.yD.ADD_WALLET_OPTIONS.CREATE_BURNER_WALLET):()=>t(c.yD.ADD_WALLET_OPTIONS.CREATE_BURNER_TUTORIAL),key:"burner-create"},{title:e("wallet_add_account_options_restore_burner_wallets"),avatar:(0,n.jsx)(d.Icon,{size:"l",icon:r.UGH}),onClick:()=>t(c.yD.ADD_WALLET_OPTIONS.RESTORE_BURNER_WALLETS),key:"burner-restore-wallets"})):a.push({title:e("wallet_add_account_options_import_recovery_phrase"),avatar:(0,n.jsx)(d.Icon,{size:"l",icon:r.E0H}),onClick:()=>t(c.yD.ADD_WALLET_OPTIONS.IMPORT_RECOVERY_PHRASE),key:"mnemonic-import"}),a.push({title:e("wallet_add_account_options_connect_ledger"),avatar:(0,n.jsx)(d.Icon,{size:"l",icon:r.JB6}),onClick:()=>u.p1&&!u.Cy?(0,m.A)("/wallet.html#/wallet-management/options/connect/ledger?redirect=ext"):t(c.yD.ADD_WALLET_OPTIONS.CONNECT_LEDGER),key:"ledger-add"},{title:e("wallet_add_account_options_connect_keystone"),avatar:(0,n.jsx)(d.Icon,{size:"l",icon:r.rtB}),onClick:()=>u.p1&&!u.Cy?(0,m.A)("/wallet.html#/wallet-management/options/connect/keystone?redirect=ext"):t(c.yD.ADD_WALLET_OPTIONS.CONNECT_KEYSTONE),key:"keystone-add"},{title:e("wallet_add_account_options_import_private_key"),avatar:(0,n.jsx)(d.Icon,{size:"l",icon:r.E0H}),onClick:()=>t(c.yD.ADD_WALLET_OPTIONS.IMPORT_PRIVATE_KEY),key:"privateKey-add"},{title:e("wallet_add_account_options_import_keystore"),avatar:(0,n.jsx)(d.Icon,{size:"l",icon:r.nfZ}),onClick:()=>t(c.yD.ADD_WALLET_OPTIONS.IMPORT_KEYSTORE),key:"keystore-import"}),a}),[t,s,x,e]);return(0,n.jsx)(h.k,{title:e("header_wallet_management_add_account_options"),onClose:()=>t(c.yD.MAIN,{replace:!0}),children:(0,n.jsx)(d.SettingsList,{data:g})})}},"../../libs/shared/dist/hooks/index.js":(e,t,s)=>{"use strict";s.d(t,{C7:()=>d.C,Nr:()=>a.N,Q:()=>i.Q,Vf:()=>o.V,c:()=>n.c,hn:()=>l.h,nc:()=>c.n,z8:()=>r.z});var n=s("../../libs/shared/dist/hooks/useCopyClipboard.js"),a=s("../../libs/shared/dist/hooks/useDebounce.js"),o=s("../../libs/shared/dist/hooks/useOpenExplorer.js"),i=s("../../libs/shared/dist/hooks/useRPCProxy/index.js"),r=(s("../../libs/shared/dist/hooks/useScreenSize.js"),s("../../libs/shared/dist/hooks/useWidth.js")),l=(s("../../libs/shared/dist/hooks/useStorageItem.js"),s("../../libs/shared/dist/hooks/useClosableNotification.js")),d=s("../../libs/shared/dist/hooks/useRemoveBackgroundColorOnLoad.js"),c=s("../../libs/shared/dist/hooks/useRequiredParams.js");s("../../libs/shared/dist/hooks/useSearchMultiple.js")},"../../libs/shared/dist/hooks/useWidth.js":(e,t,s)=>{"use strict";s.d(t,{z:()=>o});var n=s("../../../node_modules/@mui/material/styles/useTheme.js"),a=s("../../../node_modules/@mui/system/esm/useMediaQuery/useMediaQuery.js");function o(){const e=(0,n.Z)();return[...e.breakpoints.keys].reverse().reduce(((t,s)=>{const n=(0,a.Z)(e.breakpoints.up(s));return!t&&n?s:t}),null)||"xs"}},"../../libs/shared/dist/modals/Tutorial/index.js":(e,t,s)=>{"use strict";s.d(t,{I:()=>o});var n=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../libs/rise-ui/dist/index.js");const o=({children:e,illustrationType:t="animation",onClose:s})=>(0,n.jsx)(a.u_,{open:!0,onClose:s,maxWidth:"animation"===t?"sm":"xs",contentStyle:{paddingTop:0,paddingBottom:0},children:e})},"../../libs/shared/dist/modals/Universal/index.js":(e,t,s)=>{"use strict";s.d(t,{V:()=>d});var n=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/@fortawesome/pro-light-svg-icons/index.mjs"),o=s("../../libs/foundation-ui/dist/index.js"),i=s("../../libs/rise-ui/dist/index.js"),r=s("../../../node_modules/@mui/material/Box/Box.js"),l=s("../../libs/shared/dist/utils/extension.js");const d=({title:e,textAlign:t,onClose:s,children:d,footer:c,footerProps:u,backAction:m,headerAction:p,expandedOverlow:h="initial",expandedMaxWidth:x="xs",contentInlineStyle:g,contentWithOverflow:j=!1})=>l.p1&&!l.Cy?(0,n.jsxs)(o.PagePortal,{children:[(0,n.jsx)(o.PageTitle,{left:m??(0,n.jsx)(o.ActionableIcon,{icon:a.acZ,size:"l",onClick:s}),center:e,right:p??null}),(0,n.jsx)(o.PageContent,{overflow:j,children:d}),c&&(0,n.jsx)(o.FooterActions,{...u,children:c})]}):(0,n.jsx)(i.u_,{useActionDivider:Boolean(c),title:(0,n.jsxs)(i.kC,{justifyContent:"space-between",alignItems:"center",children:[(0,n.jsx)(o.PageTitleTypography,{textAlign:t,children:e}),p??null]}),open:!0,maxWidth:x,fullScreen:!1,contentStyle:{overflow:h},actions:c?(0,n.jsx)(r.Z,{display:"flex",gap:"12px",marginTop:"14px",flexDirection:"column",width:"100%",children:c}):null,onClose:s,children:(0,n.jsx)(o.WebModalContent,{contentInlineStyle:g,children:d})})},"../../libs/shared/dist/modals/index.js":(e,t,s)=>{"use strict";s.d(t,{I:()=>a.I,V:()=>n.V});var n=s("../../libs/shared/dist/modals/Universal/index.js"),a=s("../../libs/shared/dist/modals/Tutorial/index.js")},"../../libs/shared/dist/utils/humanDate.js":(e,t,s)=>{"use strict";s.d(t,{ZR:()=>r,pz:()=>i,rN:()=>o});var n=s("../../../node_modules/dayjs/dayjs.min.js"),a=s.n(n);const o=(e,t=!0,s=!0,n=!1)=>{if(!e)return"Pending";const o=a()(s?e/1e3:e),i=a()();return o.isToday()?t?"Today":o.format("HH:mm"):o.isYesterday()?t?"Yesterday":o.format("HH:mm"):o.year()===i.year()?o.format(n?"D MMMM":"D MMM"):o.format(n?"D MMMM YYYY":"D MMM YYYY")},i=e=>{if(!e)return"Pending";const t=a()(e),s=a()();return t.isToday()?"Today":t.isYesterday()?"Yesterday":t.year()===s.year()?t.format("MMMM DD"):t.format("MMMM DD, YYYY")},r=e=>{if(!e)return"Pending";const t=a()(e);return`${i(e)} at ${t.format("HH:mm")}`}},"../../libs/shared/dist/utils/isPublicKeyValid.js":(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var n=s("../../../node_modules/@solana/web3.js/lib/index.browser.esm.js");const a=e=>{try{return new n.PublicKey(e),!0}catch(e){return!1}}},"../../libs/shared/dist/utils/origin.js":(e,t,s)=>{"use strict";function n(e){if(!e)return"";try{return new URL(e).host||e}catch(t){return e}}function a(e){if(!e)return"";try{return new URL(e).origin||e}catch(t){return e}}s.d(t,{i:()=>a,m:()=>n})},"../../libs/wallet-core/dist/keystoneCore.js":(e,t,s)=>{"use strict";s.d(t,{W:()=>d});var n=s("../../../node_modules/@keystonehq/bc-ur-registry-sol/dist/index.js"),a=s("../../../node_modules/@keystonehq/sol-keyring/dist/index.js"),o=s("../../../node_modules/eventemitter3/index.js"),i=s.n(o),r=s("../../../node_modules/uuid/dist/esm-browser/stringify.js"),l=s("../../../node_modules/buffer/index.js").Buffer;class d extends a.BaseKeyring{constructor(){if(super(),this.getInteraction=()=>new c,this.getEventEmitter=()=>this.getInteraction().eventEmitter,this.submitSignature=this.getInteraction().submitSignature,this.cancelSignRequest=this.getInteraction().cancelSignRequest,d.instance)return d.instance;d.instance=this}}d.type=a.BaseKeyring.type;class c{constructor(){if(this.requestSignature=async e=>{const t=e.toUR(),s=e.getRequestId(),a=r.Z(s),o={requestId:a,type:t.type,cbor:t.cbor.toString("hex")};return this.eventEmitter.emit("signRequest",o),new Promise(((e,t)=>{this.eventEmitter.once(`signed-${a}`,(t=>{const s=n.SolSignature.fromCBOR(l.from(t,"hex"));e(s)})),this.eventEmitter.once(`cancel-${a}`,(()=>{t(new Error("KeystoneError#Tx_canceled. Signing canceled, please retry"))}))}))},this.submitSignature=(e,t)=>{this.eventEmitter.emit(`signed-${e}`,t)},this.cancelSignRequest=e=>{this.eventEmitter.emit(`cancel-${e}`)},c.instance)return c.instance;this.eventEmitter=new(i()),c.instance=this}}},"../../libs/wallet-core/dist/ledgerCore.js":(e,t,s)=>{"use strict";s.d(t,{$$:()=>r,I3:()=>l,fK:()=>i,h4:()=>j,n3:()=>x,yU:()=>o});var n=s("../../../node_modules/@ledgerhq/hw-transport-u2f/lib-es/TransportU2F.js"),a=s("../../../node_modules/@ledgerhq/hw-transport-webusb/lib-es/TransportWebUSB.js");const o=5,i=6,r=0,l=1,d=1,c=2,u=250,m=224,p=1e4,h=3e4;async function x(e,t,s,n){let a=0,o=0;if(n.length>u)for(;n.length-o>u;){const i=n.slice(o,o+u);if(o+=u,2!==(await e.send(m,t,s,a|c,i)).length)throw new Error("sendPayloadLedger: Received unexpected reply payload");a|=d}const i=n.slice(o),r=await e.send(m,t,s,a,i);return r.slice(0,r.length-2)}let g=null;async function j(){return null===g&&(g=await async function(){let e;if(await async function(){return await a.Z.isSupported()}())try{e=await a.Z.create()}catch{e=await n.Z.create(p,h),e.setScrambleKey("~SOL")}else e=await n.Z.create(p,h),e.setScrambleKey("~SOL");return e}(),g?.on("disconnect",(()=>{g=null}))),g}},"../../libs/wallet-core/dist/metamaskCore.js":(e,t,s)=>{"use strict";s.d(t,{Ck:()=>h,qN:()=>g,$q:()=>x,u$:()=>j});var n=s("../../../node_modules/@metamask/providers/dist/index.js"),a=s("../../../node_modules/readable-stream/readable-browser.js");class o extends a.Duplex{constructor(){super({objectMode:!0}),this._log=()=>null}_onData(e){try{this.push(e),this._log(e,!1)}catch(e){this.emit("error",e)}}_read(){}_write(e,t,s){this._log(e,!0),this._postMessage(e),s()}_setLogger(e){this._log=e}}var i=s("../../libs/wallet-core/dist/metamask/utils.js");const r=Object.getOwnPropertyDescriptor(MessageEvent.prototype,"source")?.get,l=Object.getOwnPropertyDescriptor(MessageEvent.prototype,"origin")?.get;class d extends o{constructor({name:e,target:t,targetOrigin:s=location.origin,targetWindow:n=window}){if(super(),"undefined"==typeof window||"function"!=typeof window.postMessage)throw new Error("window.postMessage is not a function. This class should only be instantiated in a Window.");this._name=e,this._target=t,this._targetOrigin=s,this._targetWindow=n,this._onMessage=this._onMessage.bind(this),window.addEventListener("message",this._onMessage,!1)}_postMessage(e){this._targetWindow.postMessage({target:this._target,data:e},this._targetOrigin)}_onMessage(e){const t=e.data;"*"!==this._targetOrigin&&l.call(e)!==this._targetOrigin||r.call(e)!==this._targetWindow||!(0,i.V)(t)||t.target!==this._name||this._onData(t.data)}_destroy(){window.removeEventListener("message",this._onMessage,!1)}}var c=s("../../../node_modules/console-browserify/index.js");const u="npm:@solflare-wallet/solana-snap";let m=null,p=!1;async function h(){if(p||(m=await async function(){try{const e=new d({name:"metamask-inpage",target:"metamask-contentscript"}),t=new n.us(e,{shouldSendMetadata:!1});return await Promise.race([t.request({method:"wallet_getSnaps"}),new Promise(((e,t)=>setTimeout((()=>t("MetaMask provider not found")),1e3)))]),t}catch(e){return c.error(e),null}}(),p=!0),!m)throw new Error("MetaMask extension not detected");return m}async function x(e){const t=await h();return await t.request(e)}async function g(){return await x({method:"wallet_requestSnaps",params:{[u]:{version:"*"}}})}async function j(e){return await x({method:"wallet_invokeSnap",params:{snapId:u,request:e}})}},"../../libs/wallet-core/dist/mnemonic.js":(e,t,s)=>{"use strict";s.d(t,{Bn:()=>j,Db:()=>p,OI:()=>x,_I:()=>g,c3:()=>h});var n=s("../../../node_modules/@solana/web3.js/lib/index.browser.esm.js"),a=s("../../../node_modules/bip32/src/index.js"),o=s("../../../node_modules/bip39/src/index.js"),i=s("../../../node_modules/bs58/index.js"),r=s.n(i),l=s("../../../node_modules/ed25519-hd-key/dist/index.js"),d=s("../../../node_modules/tweetnacl/nacl-fast.js"),c=s.n(d),u=s("../../libs/wallet-core/dist/shared.js"),m=s("../../../node_modules/buffer/index.js").Buffer;async function p(){const e=o.OF(128),t=await o.OI(e);return{mnemonic:e,seed:m.from(t).toString("hex")}}function h(e,t,s=void 0,o=0){const i=function(e,t,s,n){switch(s){case u.PT.deprecated:{const s=`m/501'/${t}'/0/${n}`;return a.WC(e).derivePath(s).privateKey}case u.PT.bip44Root:{const t="m/44'/501'";return(0,l.derivePath)(t,e).key}case u.PT.bip44:{const s=`m/44'/501'/${t}'`;return(0,l.derivePath)(s,e).key}case u.PT.bip44Change:{const s=`m/44'/501'/${t}'/0'`;return(0,l.derivePath)(s,e).key}default:throw new Error(`invalid derivation path: ${s}`)}}(m.from(e,"hex"),t,s,o);return n.Keypair.fromSecretKey(c().sign.keyPair.fromSeed(i).secretKey)}async function x(e){if(!o._I(e))throw new Error("Invalid mnemonic");const t=await o.OI(e);return m.from(t).toString("hex")}function g(e){return o._I(e)}class j extends u.SE{constructor(){super(...arguments),this.type=u.R7,this.encryptedData=null,this.base=null,this.seed=null,this.accountIndex=0,this.publicKey=null,this.locked=!1,this._account=null,this.initUnlocked=({base:e,seed:t,derivationPath:s},n=null,a=0)=>{this.locked=!1,this.base=e,this.derivationPath=s,this.seed=t,this.accountIndex=a,this.publicKey=n||this.account.publicKey.toString()},this.initLocked=(e,t,s=0)=>{this.locked=!0,this.encryptedData=e,this.publicKey=t,this.accountIndex=s},this.signTransaction=e=>c().sign.detached(e,this.account?.secretKey),this.signMessage=this.signTransaction,this.signAllTransactions=e=>e.map(this.signTransaction),this.toObject=()=>{const{base:e,seed:t,derivationPath:s,encryptedData:n,locked:a,publicKey:o,accountIndex:i}=this;return{type:u.R7,locked:a,data:a?n:{base:e,seed:t,derivationPath:s},publicKey:o,accountIndex:i}},this.toJSON=()=>JSON.stringify(this.toObject()),this.unlock=async e=>{if(this.locked){const{mnemonic:t,seed:s,derivationPath:n}=await async function(e,t){const{mnemonic:s,seed:n,derivationPath:a}=await(0,u.bI)(e,t);return{mnemonic:s,seed:n,derivationPath:a}}(this.encryptedData,e),a=new j;return a.initUnlocked({base:t,seed:s,derivationPath:n},this.publicKey,this.accountIndex),a}return this}}get account(){if(this.locked)throw new Error("Wallet is locked");return this._account||(this._account=h(this.seed,this.accountIndex,this.derivationPath,0)),this._account}get mnemonic(){return this.base?(new TextDecoder).decode(r().decode(this.base)):null}static fromObject(e){const t=new j;return e.locked?t.initLocked(e.data,e.publicKey,e.accountIndex):t.initUnlocked(e.data,e.publicKey,e.accountIndex),t}}},"../../libs/wallet-core/dist/shared.js":(e,t,s)=>{"use strict";s.d(t,{$4:()=>Z,CO:()=>b,Mw:()=>M,PT:()=>u,R7:()=>m,SD:()=>g,SE:()=>C,Yf:()=>y,Yg:()=>j,bI:()=>I,c_:()=>T,dr:()=>f,nd:()=>w,oH:()=>_,pe:()=>p,sO:()=>P,vn:()=>x,x4:()=>h,yX:()=>S});var n=s("../../../node_modules/base64-js/index.js"),a=s("../../../node_modules/bs58/index.js"),o=s.n(a),i=s("../../../node_modules/crypto-browserify/index.js"),r=s("../../../node_modules/i18next/dist/esm/i18next.js"),l=s("../../../node_modules/tweetnacl/nacl-fast.js"),d=s.n(l),c=s("../../../node_modules/buffer/index.js").Buffer;const u={deprecated:"deprecated",bip44:"bip44",bip44Change:"bip44Change",bip44Root:"bip44Root",bip44LedgerRoot:"bip44LedgerRoot",bip44Ledger:"bip44Ledger",bip44LedgerChange:"bip44LedgerChange"},m="MNEMONIC",p="LEDGER",h="KEYSTONE",x="PRIVATEKEY",g="EXCHANGE_FTX",j="METAMASK",b="BURNER",f="READ_ONLY",_={[m]:0,[x]:1,[f]:2,[p]:3,[h]:4,[b]:5,[g]:7,[j]:8},y=255,v=e=>"base64"===e.encoding,k=[f],w=e=>k.includes(e);class C{constructor(){this.isWalletInstance=!0,this.type=""}}function S(e){return o().encode(d().hash(Uint8Array.from(e)))}function T(e){const t=new TextEncoder;return o().encode(d().hash(t.encode(e)))}async function A(e,t,s,n){return new Promise(((a,o)=>(0,i.pbkdf2)(e,t,s,d().secretbox.keyLength,n,((e,t)=>e?o(e):a(t)))))}async function I(e,t){const{iterations:s,digest:a}=e;let i,l,u;v(e)?(i=n.toByteArray(e.encrypted64),l=n.toByteArray(e.nonce64),u=n.toByteArray(e.salt64)):(i=o().decode(e.encrypted),l=o().decode(e.nonce),u=o().decode(e.salt));const m=await A(t,u,s,a),p=d().secretbox.open(i,l,m);if(!p)throw new Error(r.ZP.t("error_invalid_password"));const h=c.from(p).toString();return JSON.parse(h)}async function Z(e,t){const s=JSON.stringify(e),a=d().randomBytes(16),o=1e5,i="sha256",r=await A(t,a,o,i),l=d().randomBytes(d().secretbox.nonceLength),u=d().secretbox(c.from(s),l,r);return{kdf:"pbkdf2",encrypted64:n.fromByteArray(u),nonce64:n.fromByteArray(l),salt64:n.fromByteArray(a),iterations:o,digest:i,encoding:"base64"}}function M(e,t="Main Wallet"){return{wallets:{[e.publicKey]:e.isWalletInstance?e.toObject():e},accounts:[{name:t,publicKey:e.publicKey}]}}const P=e=>{try{JSON.parse(e)}catch(e){return!1}return!0}},"../web/src/features/onboarding/assets/carousel-image-blind.svg":(e,t,s)=>{"use strict";e.exports=s.p+"assets/carousel-image-blind.d7f43a0c..svg"},"../web/src/features/onboarding/assets/carousel-image-bonfida.svg":(e,t,s)=>{"use strict";e.exports=s.p+"assets/carousel-image-bonfida.1336027b..svg"},"../web/src/features/onboarding/assets/carousel-image-language.svg":(e,t,s)=>{"use strict";e.exports=s.p+"assets/carousel-image-language.e3c0c471..svg"},"../web/src/features/onboarding/assets/carousel-image-ledger.svg":(e,t,s)=>{"use strict";e.exports=s.p+"assets/carousel-image-ledger.e7fb9f04..svg"},"../web/src/features/onboarding/assets/carousel-image-pfp.svg":(e,t,s)=>{"use strict";e.exports=s.p+"assets/carousel-image-pfp.2bf3cebb..svg"},"../web/src/features/onboarding/assets/carousel-image-phrase.svg":(e,t,s)=>{"use strict";e.exports=s.p+"assets/carousel-image-phrase.a4e711a6..svg"},"../web/src/features/onboarding/assets/carousel-image-secure.svg":(e,t,s)=>{"use strict";e.exports=s.p+"assets/carousel-image-secure.e97295fe..svg"},"../web/src/features/onboarding/assets/carousel-image-solana-app.svg":(e,t,s)=>{"use strict";e.exports=s.p+"assets/carousel-image-solana-app.eaaa5663..svg"},"../web/src/features/onboarding/assets/carousel-image-write-down.svg":(e,t,s)=>{"use strict";e.exports=s.p+"assets/carousel-image-write-down.9565a9f3..svg"},"../../libs/shared/dist/assets/burner-tutorial-step1.svg":(e,t,s)=>{"use strict";e.exports=s.p+"assets/burner-tutorial-step1.2b80006d..svg"},"../../libs/shared/dist/assets/burner-tutorial-step2.svg":(e,t,s)=>{"use strict";e.exports=s.p+"assets/burner-tutorial-step2.67ec9a5a..svg"},"../../libs/shared/dist/assets/burner-tutorial-step3.svg":(e,t,s)=>{"use strict";e.exports=s.p+"assets/burner-tutorial-step3.b4b9bd65..svg"},"../../libs/shared/dist/assets/empty-settings.svg":(e,t,s)=>{"use strict";e.exports=s.p+"assets/empty-settings.22173c85..svg"},"../../libs/shared/dist/assets/logo-128.png":(e,t,s)=>{"use strict";e.exports=s.p+"assets/logo-128.bc9ff974..png"},"../../libs/shared/dist/assets/logo.svg":(e,t,s)=>{"use strict";e.exports=s.p+"assets/logo.26659b6d..svg"},"../../libs/shared/dist/assets/metamask.svg":(e,t,s)=>{"use strict";e.exports=s.p+"assets/metamask.45038d58..svg"},"../../libs/shared/dist/assets/nft-default-img.svg":(e,t,s)=>{"use strict";e.exports=s.p+"assets/nft-default-img.10b4e2b2..svg"},"../../libs/shared/dist/assets/nft-empty.svg":(e,t,s)=>{"use strict";e.exports=s.p+"assets/nft-empty.59ffcc2c..svg"},"../../libs/shared/dist/assets/onboarding-access-wallet.svg":(e,t,s)=>{"use strict";e.exports=s.p+"assets/onboarding-access-wallet.471e4067..svg"},"../../libs/shared/dist/assets/onboarding-create-wallet.svg":(e,t,s)=>{"use strict";e.exports=s.p+"assets/onboarding-create-wallet.f3c80085..svg"},"../../libs/shared/dist/assets/solflare.svg":(e,t,s)=>{"use strict";e.exports=s.p+"assets/solflare.18da1228..svg"},"../../libs/shared/dist/assets/treasure.png":(e,t,s)=>{"use strict";e.exports=s.p+"assets/treasure.49bcc059..png"}},i={};function r(e){var t=i[e];if(void 0!==t)return t.exports;var s=i[e]={id:e,loaded:!1,exports:{}};return o[e].call(s.exports,s,s.exports,r),s.loaded=!0,s.exports}r.m=o,r.amdD=function(){throw new Error("define cannot be used indirect")},r.amdO={},e=[],r.O=(t,s,n,a)=>{if(!s){var o=1/0;for(c=0;c<e.length;c++){s=e[c][0],n=e[c][1],a=e[c][2];for(var i=!0,l=0;l<s.length;l++)(!1&a||o>=a)&&Object.keys(r.O).every((e=>r.O[e](s[l])))?s.splice(l--,1):(i=!1,a<o&&(o=a));if(i){e.splice(c--,1);var d=n();void 0!==d&&(t=d)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[s,n,a]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},s=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,r.t=function(e,n){if(1&n&&(e=this(e)),8&n)return e;if("object"==typeof e&&e){if(4&n&&e.__esModule)return e;if(16&n&&"function"==typeof e.then)return e}var a=Object.create(null);r.r(a);var o={};t=t||[null,s({}),s([]),s(s)];for(var i=2&n&&e;"object"==typeof i&&!~t.indexOf(i);i=s(i))Object.getOwnPropertyNames(i).forEach((t=>o[t]=()=>e[t]));return o.default=()=>e,r.d(a,o),a},r.d=(e,t)=>{for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,s)=>(r.f[s](e,t),t)),[])),r.u=e=>e+"."+{node_modules_dayjs_locale_af_js:"ee0d2116",node_modules_dayjs_locale_am_js:"6f274347","node_modules_dayjs_locale_ar-dz_js":"088b69e0","node_modules_dayjs_locale_ar-iq_js":"e22bff97","node_modules_dayjs_locale_ar-kw_js":"eef37a1c","node_modules_dayjs_locale_ar-ly_js":"3d2bcb03","node_modules_dayjs_locale_ar-ma_js":"6611bd2d","node_modules_dayjs_locale_ar-sa_js":"33d7e0f5","node_modules_dayjs_locale_ar-tn_js":"d8c07dd4",node_modules_dayjs_locale_ar_js:"72eba2df",node_modules_dayjs_locale_az_js:"f49243c1",node_modules_dayjs_locale_be_js:"0a24dbd1",node_modules_dayjs_locale_bg_js:"41a14cbf",node_modules_dayjs_locale_bi_js:"c70da5d0",node_modules_dayjs_locale_bm_js:"97ff5edf",node_modules_dayjs_locale_bn_js:"08bf5924",node_modules_dayjs_locale_bo_js:"433ba6ed",node_modules_dayjs_locale_br_js:"cdb49403",node_modules_dayjs_locale_bs_js:"86158479",node_modules_dayjs_locale_ca_js:"50278924",node_modules_dayjs_locale_cs_js:"8b3f90fd",node_modules_dayjs_locale_cv_js:"db28776d",node_modules_dayjs_locale_cy_js:"6626e067",node_modules_dayjs_locale_da_js:"7cc355a5","node_modules_dayjs_locale_de-at_js":"5e371f3e","node_modules_dayjs_locale_de-ch_js":"d3a37c11",node_modules_dayjs_locale_de_js:"0acc55bf",node_modules_dayjs_locale_dv_js:"ad1853fe",node_modules_dayjs_locale_el_js:"d0688676","node_modules_dayjs_locale_en-au_js":"fe7c962a","node_modules_dayjs_locale_en-ca_js":"917fbcae","node_modules_dayjs_locale_en-gb_js":"0c231fb1","node_modules_dayjs_locale_en-ie_js":"4bf549db","node_modules_dayjs_locale_en-il_js":"3c76a236","node_modules_dayjs_locale_en-in_js":"229ffca6","node_modules_dayjs_locale_en-nz_js":"06ba36bb","node_modules_dayjs_locale_en-sg_js":"09324c64","node_modules_dayjs_locale_en-tt_js":"a78d9c62",node_modules_dayjs_locale_en_js:"09d9c0b2",node_modules_dayjs_locale_eo_js:"364869e1","node_modules_dayjs_locale_es-do_js":"66bcc673","node_modules_dayjs_locale_es-mx_js":"d85c6586","node_modules_dayjs_locale_es-pr_js":"efd9501c","node_modules_dayjs_locale_es-us_js":"23aba263",node_modules_dayjs_locale_es_js:"36d7c324",node_modules_dayjs_locale_et_js:"508efdd7",node_modules_dayjs_locale_eu_js:"3e0281b8",node_modules_dayjs_locale_fa_js:"edb27f60",node_modules_dayjs_locale_fi_js:"65b41fd3",node_modules_dayjs_locale_fo_js:"22ff87fe","node_modules_dayjs_locale_fr-ca_js":"5310352c","node_modules_dayjs_locale_fr-ch_js":"fbb592df",node_modules_dayjs_locale_fr_js:"c7d85659",node_modules_dayjs_locale_fy_js:"4b4d89c6",node_modules_dayjs_locale_ga_js:"bdbe3937",node_modules_dayjs_locale_gd_js:"02358c12",node_modules_dayjs_locale_gl_js:"0c2604b7","node_modules_dayjs_locale_gom-latn_js":"c378526c",node_modules_dayjs_locale_gu_js:"f51ed3ec",node_modules_dayjs_locale_he_js:"5fef41e3",node_modules_dayjs_locale_hi_js:"14bbcc65",node_modules_dayjs_locale_hr_js:"18bf9c58",node_modules_dayjs_locale_ht_js:"55a89b74",node_modules_dayjs_locale_hu_js:"285193f1","node_modules_dayjs_locale_hy-am_js":"a954964f",node_modules_dayjs_locale_id_js:"06389eb1",node_modules_dayjs_locale_is_js:"b355e5f5","node_modules_dayjs_locale_it-ch_js":"e5950a62",node_modules_dayjs_locale_it_js:"9925161f",node_modules_dayjs_locale_ja_js:"82300c3f",node_modules_dayjs_locale_jv_js:"67011da4",node_modules_dayjs_locale_ka_js:"2f81f688",node_modules_dayjs_locale_kk_js:"988349a4",node_modules_dayjs_locale_km_js:"c27cd729",node_modules_dayjs_locale_kn_js:"7092d603",node_modules_dayjs_locale_ko_js:"41b3c0a7",node_modules_dayjs_locale_ku_js:"88bd1d75",node_modules_dayjs_locale_ky_js:"172cba6b",node_modules_dayjs_locale_lb_js:"0afb23ed",node_modules_dayjs_locale_lo_js:"4d7d65c6",node_modules_dayjs_locale_lt_js:"6bee9dc6",node_modules_dayjs_locale_lv_js:"81861ef3",node_modules_dayjs_locale_me_js:"506b9417",node_modules_dayjs_locale_mi_js:"40141380",node_modules_dayjs_locale_mk_js:"2a4aa6fc",node_modules_dayjs_locale_ml_js:"fb715d33",node_modules_dayjs_locale_mn_js:"0382df90",node_modules_dayjs_locale_mr_js:"e7483d08","node_modules_dayjs_locale_ms-my_js":"495dbb7b",node_modules_dayjs_locale_ms_js:"d59d8f16",node_modules_dayjs_locale_mt_js:"aab4e5b1",node_modules_dayjs_locale_my_js:"0a6defeb",node_modules_dayjs_locale_nb_js:"2127f7dd",node_modules_dayjs_locale_ne_js:"418ab04c","node_modules_dayjs_locale_nl-be_js":"6e8ac531",node_modules_dayjs_locale_nl_js:"569919fb",node_modules_dayjs_locale_nn_js:"62c0b152","node_modules_dayjs_locale_oc-lnc_js":"ad06ecae","node_modules_dayjs_locale_pa-in_js":"359853af",node_modules_dayjs_locale_pl_js:"de5c7830","node_modules_dayjs_locale_pt-br_js":"3efa00ee",node_modules_dayjs_locale_pt_js:"4d565468",node_modules_dayjs_locale_rn_js:"fab513a2",node_modules_dayjs_locale_ro_js:"cf68390c",node_modules_dayjs_locale_ru_js:"18ff95f4",node_modules_dayjs_locale_rw_js:"af75814c",node_modules_dayjs_locale_sd_js:"fe7b3d20",node_modules_dayjs_locale_se_js:"a7d95236",node_modules_dayjs_locale_si_js:"db656a4f",node_modules_dayjs_locale_sk_js:"8e5e611f",node_modules_dayjs_locale_sl_js:"46371427",node_modules_dayjs_locale_sq_js:"48d5998c","node_modules_dayjs_locale_sr-cyrl_js":"196353a7",node_modules_dayjs_locale_sr_js:"16f2d95a",node_modules_dayjs_locale_ss_js:"2211bf52","node_modules_dayjs_locale_sv-fi_js":"48283634",node_modules_dayjs_locale_sv_js:"1f6351d5",node_modules_dayjs_locale_sw_js:"bf76fc28",node_modules_dayjs_locale_ta_js:"ab16c69f",node_modules_dayjs_locale_te_js:"6cbdea88",node_modules_dayjs_locale_tet_js:"3c68394e",node_modules_dayjs_locale_tg_js:"34541743",node_modules_dayjs_locale_th_js:"cb3ef33b",node_modules_dayjs_locale_tk_js:"2c087d78","node_modules_dayjs_locale_tl-ph_js":"79770118",node_modules_dayjs_locale_tlh_js:"10e80c32",node_modules_dayjs_locale_tr_js:"dddc28ce",node_modules_dayjs_locale_tzl_js:"a4829791","node_modules_dayjs_locale_tzm-latn_js":"291b8b83",node_modules_dayjs_locale_tzm_js:"83b41fd6","node_modules_dayjs_locale_ug-cn_js":"767c41ff",node_modules_dayjs_locale_uk_js:"9f53d991",node_modules_dayjs_locale_ur_js:"fba94285","node_modules_dayjs_locale_uz-latn_js":"3a54f10b",node_modules_dayjs_locale_uz_js:"5f55e80c",node_modules_dayjs_locale_vi_js:"61e9b51a","node_modules_dayjs_locale_x-pseudo_js":"559526d1",node_modules_dayjs_locale_yo_js:"f4f38173","node_modules_dayjs_locale_zh-cn_js":"fed57b1a","node_modules_dayjs_locale_zh-hk_js":"5c5cdbe9","node_modules_dayjs_locale_zh-tw_js":"feaf2df2",node_modules_dayjs_locale_zh_js:"88a2645b",libs_locales_de_json:"910ba61f",libs_locales_en_json:"58fec30b",libs_locales_es_json:"9bd14173",libs_locales_fa_json:"42b5e066","libs_locales_fr-CA_json":"377d6dbf",libs_locales_fr_json:"4f8ff12c",libs_locales_id_json:"4b8204cd",libs_locales_ja_json:"4e53feca",libs_locales_ko_json:"e0b8539d",libs_locales_ms_json:"8debde9f","libs_locales_nl-NL_json":"b11fc1bc",libs_locales_package_json:"c35ef0b5","libs_locales_pt-BR_json":"44cbc026","libs_locales_pt-PT_json":"f2198fd1",libs_locales_ru_json:"c91b427a",libs_locales_sr_json:"fcc82735",libs_locales_th_json:"3310f0b7",libs_locales_tr_json:"f747d974",libs_locales_uk_json:"45150a1e",libs_locales_vi_json:"8e94ea31",libs_locales_zh_json:"e52ed10e","web_src_features_bridge_assets_bridge-in-progress_json":"590344d4","web_src_features_bridge_assets_bridge-success_json":"76ae38f2","web_src_features_bridge_assets_tutorial-01-step_json":"cf6caf22","web_src_features_bridge_assets_tutorial-02-step_json":"d4f2e886",GoogleModelViewer:"a6e6f8dc",web_src_features_onboarding_metamask_assets_connect_json:"d1cf4383",web_src_features_onboarding_metamask_assets_import_json:"87a8b6e5",web_src_features_onboarding_metamask_assets_error_json:"0a51e3b2",web_src_features_onboarding_metamask_assets_bookmark_json:"427fe790",web_src_features_onboarding_metamask_assets_success_json:"08189e90",web_src_features_onboarding_metamask_assets_tutorialStepOne_json:"dc511fdc",web_src_features_onboarding_metamask_assets_tutorialStepTwo_json:"e26bafe5",web_src_features_onboarding_metamask_assets_tutorialStepThree_json:"0674659d",web_src_features_onboarding_metamask_assets_tutorialStepFour_json:"d0b26b32",libs_shared_dist_assets_onboardingBlockNonMetamask_json:"432ed3ab"}[e]+".js",r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},a="@solflare/extension:",r.l=(e,t,s,o)=>{if(n[e])n[e].push(t);else{var i,l;if(void 0!==s)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var u=d[c];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==a+s){i=u;break}}i||(l=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,r.nc&&i.setAttribute("nonce",r.nc),i.setAttribute("data-webpack",a+s),i.src=e),n[e]=[t];var m=(t,s)=>{i.onerror=i.onload=null,clearTimeout(p);var a=n[e];if(delete n[e],i.parentNode&&i.parentNode.removeChild(i),a&&a.forEach((e=>e(s))),t)return t(s)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=m.bind(null,i.onerror),i.onload=m.bind(null,i.onload),l&&document.head.appendChild(i)}},r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r.p="./",(()=>{var e={wallet:0};r.f.j=(t,s)=>{var n=r.o(e,t)?e[t]:void 0;if(0!==n)if(n)s.push(n[2]);else{var a=new Promise(((s,a)=>n=e[t]=[s,a]));s.push(n[2]=a);var o=r.p+r.u(t),i=new Error;r.l(o,(s=>{if(r.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var a=s&&("load"===s.type?"missing":s.type),o=s&&s.target&&s.target.src;i.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",i.name="ChunkLoadError",i.type=a,i.request=o,n[1](i)}}),"chunk-"+t,t)}},r.O.j=t=>0===e[t];var t=(t,s)=>{var n,a,o=s[0],i=s[1],l=s[2],d=0;if(o.some((t=>0!==e[t]))){for(n in i)r.o(i,n)&&(r.m[n]=i[n]);if(l)var c=l(r)}for(t&&t(s);d<o.length;d++)a=o[d],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(c)},s=self.webpackChunk_solflare_extension=self.webpackChunk_solflare_extension||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})(),r.O(void 0,["vendors-libs_foundation-ui_node_modules_react-virtuoso_dist_index_mjs","vendors-node_modules_dessert-box_react_dist_dessert-box-react_cjs_js-node_modules_mui_base_Ta-a375cf","vendors-node_modules_vanilla-extract_recipes_createRuntimeFn_dist_vanilla-extract-recipes-cre-d55b9a","vendors-libs_shared_node_modules_react-dropzone_dist_es_index_js","vendors-node_modules_emotion_unitless_dist_emotion-unitless_esm_js-node_modules_aes-js_index_-2f426a","vendors-node_modules_keystonehq_animated-qr_dist_animated-qr_cjs_production_min_js-node_modul-2da830","vendors-node_modules_scure_base_lib_index_js-node_modules_qr_js_lib_QRCode_js-node_modules_qr-de1588","vendors-node_modules_virtuoso_dev_react-urx_dist_react-urx_esm_js-node_modules_zxing_browser_-60c4d9","vendors-node_modules_mui_material_Container_Container_js-node_modules_lightweight-charts_dist-0d7db2","vendors-node_modules_mui_base_TabPanel_TabPanel_js-node_modules_mui_base_Tabs_Tabs_js-node_mo-cf27da","vendors-node_modules_mui_material_TableBody_TableBody_js-node_modules_mui_material_TableCell_-8f5150","vendors-node_modules_readable-stream_lib__stream_passthrough_js-node_modules_readable-stream_-51ff32","vendors-node_modules_firebase_util_dist_index_esm2017_js-node_modules_crypto-browserify_index-02f28b","vendors-node_modules_fortawesome_free-brands-svg-icons_index_mjs","vendors-node_modules_fortawesome_pro-light-svg-icons_index_mjs-_d6802","vendors-node_modules_fortawesome_pro-regular-svg-icons_index_mjs-_71481","vendors-node_modules_fortawesome_react-fontawesome_index_es_js-node_modules_keystonehq_animat-df2bcb","vendors-node_modules_ledgerhq_hw-transport-u2f_lib-es_TransportU2F_js-node_modules_ledgerhq_h-0280a6","vendors-node_modules_thousands_index_js-node_modules_solana_spl-token_lib_esm_index_js-node_m-bd1d62","src_features_backgroundScript_context_backgroundClient_index_tsx-libs_foundation-ui_dist_inde-e13d15","libs_foundation-ui_dist_index_css-src_features_settings_context_index_ts-libs_shared_dist_bef-3a36e2","libs_shared_dist_features_infoScreen_modals_InfoScreenJupiterSwap_index_js-libs_shared_dist_f-a4f798","src_features_dappCommunication_components_index_ts-libs_shared_dist_components_WebInfoTooltip-8e4dd8","libs_shared_dist_features_dappCommunication_components_SignAllSerializedTransactions_index_js-2cc0f9","libs_shared_dist_features_limitOrders_api_requests_js-libs_shared_dist_features_limitOrders_a-568263","libs_shared_dist_components_ConfirmationHelpers_ConfirmationCloseStake_js-libs_shared_dist_fe-085241"],(()=>r("../../../node_modules/regenerator-runtime/runtime.js")));var l=r.O(void 0,["vendors-libs_foundation-ui_node_modules_react-virtuoso_dist_index_mjs","vendors-node_modules_dessert-box_react_dist_dessert-box-react_cjs_js-node_modules_mui_base_Ta-a375cf","vendors-node_modules_vanilla-extract_recipes_createRuntimeFn_dist_vanilla-extract-recipes-cre-d55b9a","vendors-libs_shared_node_modules_react-dropzone_dist_es_index_js","vendors-node_modules_emotion_unitless_dist_emotion-unitless_esm_js-node_modules_aes-js_index_-2f426a","vendors-node_modules_keystonehq_animated-qr_dist_animated-qr_cjs_production_min_js-node_modul-2da830","vendors-node_modules_scure_base_lib_index_js-node_modules_qr_js_lib_QRCode_js-node_modules_qr-de1588","vendors-node_modules_virtuoso_dev_react-urx_dist_react-urx_esm_js-node_modules_zxing_browser_-60c4d9","vendors-node_modules_mui_material_Container_Container_js-node_modules_lightweight-charts_dist-0d7db2","vendors-node_modules_mui_base_TabPanel_TabPanel_js-node_modules_mui_base_Tabs_Tabs_js-node_mo-cf27da","vendors-node_modules_mui_material_TableBody_TableBody_js-node_modules_mui_material_TableCell_-8f5150","vendors-node_modules_readable-stream_lib__stream_passthrough_js-node_modules_readable-stream_-51ff32","vendors-node_modules_firebase_util_dist_index_esm2017_js-node_modules_crypto-browserify_index-02f28b","vendors-node_modules_fortawesome_free-brands-svg-icons_index_mjs","vendors-node_modules_fortawesome_pro-light-svg-icons_index_mjs-_d6802","vendors-node_modules_fortawesome_pro-regular-svg-icons_index_mjs-_71481","vendors-node_modules_fortawesome_react-fontawesome_index_es_js-node_modules_keystonehq_animat-df2bcb","vendors-node_modules_ledgerhq_hw-transport-u2f_lib-es_TransportU2F_js-node_modules_ledgerhq_h-0280a6","vendors-node_modules_thousands_index_js-node_modules_solana_spl-token_lib_esm_index_js-node_m-bd1d62","src_features_backgroundScript_context_backgroundClient_index_tsx-libs_foundation-ui_dist_inde-e13d15","libs_foundation-ui_dist_index_css-src_features_settings_context_index_ts-libs_shared_dist_bef-3a36e2","libs_shared_dist_features_infoScreen_modals_InfoScreenJupiterSwap_index_js-libs_shared_dist_f-a4f798","src_features_dappCommunication_components_index_ts-libs_shared_dist_components_WebInfoTooltip-8e4dd8","libs_shared_dist_features_dappCommunication_components_SignAllSerializedTransactions_index_js-2cc0f9","libs_shared_dist_features_limitOrders_api_requests_js-libs_shared_dist_features_limitOrders_a-568263","libs_shared_dist_components_ConfirmationHelpers_ConfirmationCloseStake_js-libs_shared_dist_fe-085241"],(()=>r("./src/wallet.tsx")));l=r.O(l)})();
//# sourceMappingURL=wallet.js.map
!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var o=t();for(var i in o)("object"==typeof exports?exports:e)[i]=o[i]}}(globalThis,(function(){return function(){const e=["/api/recommend/item_list/","/api/following/item_list/","/api/post/item_list/","/api/challenge/item_list/","/api/music/item_list/","/api/topic/item_list/","/api/search/general/full/","/api/related/item_list/"],t={recommend:"foryou",following:"following",post:"channel",challenge:"hashtag",music:"music",topic:"foryou",search:"search",related:"related"},o=window.fetch;window.fetch=function(...i){return o(...i).then((async o=>{if(e.some((e=>o.url.includes(e)))){const e=new URL(o.url).pathname.split("/")[2],r=(i=t,n=e,Object.prototype.hasOwnProperty.call(i,n)&&t[e]);if(r){const e=await o.clone().json().catch((()=>o.text())),t={url:o.url,data:e,page:r};document.dispatchEvent(new CustomEvent("tiktokAjaxResponse",{detail:t}))}}var i,n;return o})).catch((e=>{throw document.dispatchEvent(new CustomEvent("vidiqDispatchedRollbarError",{detail:["TikTok fetch function failure",{errorMessage:e.message}]})),console.error(new Error(e)),new Error(e)}))}}(),{}}));
"use strict";(globalThis.webpackChunkgroup_speed_dial=globalThis.webpackChunkgroup_speed_dial||[]).push([[178],{4667:(e,t,r)=>{r.d(t,{e:()=>R});var o=r(4323),a=r(2036),i=r(2497),s=r(6795),l=r(6683),n=r(1374),d=r(8794),p=r(4590),u=r(9),c=r(1879),v=r(6119),_=r(4069),g=r(1641),h=r(2846),m=r(5717),C=r(2221),b=r(6801),y=r(6317),G=r(1285),k=r(8654),f=r(841),x=r(5750),w=r(6664),T=r(9100);class O{MIN;MAX;STEP;_value;constructor(e,t,r,o){this.MIN=e,this.MAX=t,this.STEP=r,this._value=o,this.value=this._value}get value(){return this._value}set value(e){this._value=(0,T.n)(this.MIN,this.MAX,e)}increment(){this.value+=this.STEP}decrement(){this.value-=this.STEP}}class R{groupId;isNewGroup;originalGroup;group;groupPosition;background;hasTextColor;groupLayout;ratioX;ratioY;dialWidth;dialHeight;listWidth;gridRows;gridColumns;gridPosition;isDefault;isDefaultDisabled;isLocked;lockPasswordId;hideLocked;isTopSites;errorMessage;get isBlankNewGroup(){return this.isNewGroup&&this.group.dials.every((e=>e.isEmptyDial()))&&this.originalGroup.name===(0,p.ZB)("group_generated_name",this.group.id)}constructor(e,t){this.groupId=e,this.isNewGroup=t,this.isDefault=!1,this.isDefaultDisabled=!!C.lw.REMEMBER_GROUP,this.isLocked=!1,this.hideLocked=!1,this.isTopSites=!1,this.errorMessage="",this.originalGroup=h.M.groupById(e).clone();const r=this.group=this.originalGroup.clone();this.groupPosition=(0,n.SL)(h.M.GROUPS,(e=>e.id===r.id))+1,this.isLocked=!!r.lock,this.hideLocked=r.lock?.visibility===s.Gj.HIDDEN,this.lockPasswordId=r.lock?.passwordId,this.hasTextColor=!!r.color;{const e=r.background?.type??l.sf.NONE,t=r.background?.value||"";this.background={onlyName:!!r.background?.onlyName,type:e,color:e===l.sf.COLOR&&t||"#28005FFF",url:e===l.sf.URL&&t||"",gradient:(0,x.w)(t)}}r.gestures=Object.assign({},k.j,r.gestures),r.container||="";{let e;[this.ratioX,this.ratioY,e]=r.ratio||[16,12,!1],this.groupLayout=r.dynamic?l.Rv.DYNAMIC:r.list?l.Rv.LIST:r.grid?l.Rv.GRID:r.ratio?e?l.Rv.SCROLL:l.Rv.CENTER:l.Rv.FILL}this.dialWidth=r.dynamic?.width||(_.m0?f.v.androidWidth:f.v.width),this.dialHeight=r.dynamic?.height||(_.m0?f.v.androidHeight:f.v.height),this.listWidth=r.list?.width||(_.m0?f.v.androidListWidth:f.v.listWidth),this.gridRows=new O(4,36,4,r.grid?.areas?.length||12),this.gridColumns=new O(4,36,4,r.grid?.areas?.[0]?.length||24),this.gridPosition=r.grid?.position||s.Cr.fillSpace,this.isTopSites=!!r.topSites,this.isDefaultGroup().then((e=>this.isDefault=e))}async isDefaultGroup(){return await d.ne.get()===this.groupId}async previewCurrentChanges(){try{const e=await this.serializeGroup(this.group);return this.applyVisualChanges(e)}catch(e){this.errorMessage||(this.errorMessage=String(e))}}async applyVisualChanges(e,t=!1){const r=(0,n.RD)(h.M.cloneGroups(),(t=>t.id===e.id),e);await(0,g.Wx)(e),await(0,G.N)(r),(0,v.L)(e),(0,y.s)(e)}async discardChanges(){await this.applyVisualChanges(this.originalGroup,!0),this.isBlankNewGroup&&(0,i.removeGroup)(this.originalGroup)}validate(){this.errorMessage="";const e=m.M6.dialsToClusters(this.group.dials).filter((e=>!e.isEmptyDial())).length;if(e>this.group.rows*this.group.cols)switch(this.groupLayout){case l.Rv.DYNAMIC:case l.Rv.LIST:case l.Rv.GRID:return!0;case l.Rv.SCROLL:return this.group.rows=Math.ceil(e/this.group.cols),!0;case l.Rv.CENTER:case l.Rv.FILL:return this.errorMessage=(0,p.ZB)("validation_small_group_dimensions",e),!1;default:throw"unknown layout"}return!0}async serializeGroup(e){if(!this.validate())throw"not valid";const t=(0,o.WR)(this.background),r=e.clone();switch(r.name||=(0,p.ZB)("group_generated_name",r.id),r.background=t.type===l.sf.NONE?void 0:{onlyName:t.onlyName,type:t.type,value:await(async()=>{switch(t.type){case l.sf.COLOR:return t.color;case l.sf.URL:return t.url;case l.sf.GRADIENT:return(0,x.n)(t.gradient);case l.sf.FILE:return t.fileBase64&&await(0,b._z)({type:"save_db_image",notify:!1,groupId:r.id,url:r.createBackgroundFileURL(),img:t.fileBase64}),"";default:return""}})()},k.x.forEach((e=>{const t=r.gestures?.[e];t&&t.type!==s.EM.OPEN_GROUP&&delete t.groupId})),this.hasTextColor||(r.color=void 0),await(0,a.FJ)()||(r.archived=!1,r.container=void 0,this.groupLayout===l.Rv.GRID&&(this.groupLayout=l.Rv.FILL)),r.topSites=this.isTopSites?{}:void 0,r.lock=this.isLocked&&this.lockPasswordId?{encrypted:!1,visibility:this.hideLocked?s.Gj.HIDDEN:s.Gj.NORMAL,passwordId:this.lockPasswordId}:void 0,r.dynamic=void 0,r.list=void 0,r.grid=void 0,r.ratio=void 0,this.groupLayout){case l.Rv.FILL:break;case l.Rv.CENTER:r.ratio=[this.ratioX,this.ratioY,!1];break;case l.Rv.SCROLL:r.ratio=[this.ratioX,this.ratioY,!0];break;case l.Rv.DYNAMIC:r.dynamic={width:Math.max(60,this.dialWidth),height:Math.max(60,this.dialHeight)};break;case l.Rv.LIST:r.list={width:this.listWidth,direction:l.PX.row};break;case l.Rv.GRID:r.grid={areas:this.originalGroup.grid?.areas||[],position:this.gridPosition||s.Cr.fillSpace}}return r.dials=(0,u.yd)(r.id,r.dials,r.rows,r.cols,r.dynamic,r.list,r.grid,this.originalGroup.rows,this.originalGroup.cols),r.grid&&(r.grid=w.J.normalizeGrid(r.grid,r.dials,this.gridRows.value,this.gridColumns.value)),r}async saveGroup(){const e=await this.serializeGroup(this.group),{name:t,rows:r,cols:o,archived:a}=this.originalGroup;if(await h.M.action("updateGroup",{groupId:this.groupId,update:e,newPosition:this.groupPosition-1}),await this.isDefaultGroup()!==this.isDefault&&(this.isDefault?d.ne.set(this.groupId):d.ne.remove()),!!e.archived!=!!a){const t=await h.M.getVisibleGroups();await c.e.activate(t.find((t=>e.archived?!t.archived:t.archived)).id)}}}},4925:(e,t,r)=>{r.d(t,{editSingleGroup:()=>ge});var o=r(1879),a=r(6499),i=r(5471),s=r(97),l=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("v-app",{attrs:{id:"inspire"}},[t("v-app-bar",{attrs:{app:"",absolute:"","clipped-left":"",color:""}},[t("v-toolbar-title",{staticClass:"ml-0 d-flex align-center"},[t("v-app-bar-nav-icon",{on:{click:t=>{t.stopPropagation(),e.drawer=!e.drawer}}}),e._v(" "),t("span",{directives:[{name:"tr",rawName:"v-tr.c",value:"eg_title",expression:"'eg_title'",modifiers:{c:!0}}],staticClass:"hidden-xs-and-down"}),e._v(" "),t("label",{staticClass:"px-2 font-italic",domProps:{textContent:e._s(`"${e.editGroupController.group.name}"${e.editGroupController.group.archived?` [${e.tr("archived")}]`:""}`)}})],1),e._v(" "),t("draggable_top"),e._v(" "),t("v-btn",{attrs:{icon:"",title:e.tr("label_close")},on:{click:e.discardChanges}},[t("v-icon",[e._v("fa-times")])],1)],1),e._v(" "),t("v-navigation-drawer",{attrs:{clipped:!0,app:"",absolute:"","mobile-breakpoint":e.mobileBreakpoint},model:{value:e.drawer,callback:t=>{e.drawer=t},expression:"drawer"}},[t("v-list",[t("v-divider"),e._v(" "),e._l(e.tabs,(r=>t("div",[t("v-list-item",{class:{"v-list-item--active":e.activeTab===r.tab},on:{click:t=>{e.activeTab=r.tab}}},[t("v-list-item-icon",[t("v-icon",[e._v(e._s(r.icon))])],1),e._v(" "),t("v-list-item-content",[t("v-list-item-title",[e._v(e._s(r.name))])],1)],1),e._v(" "),t("v-divider")],1)))],2)],1),e._v(" "),t("v-main",{staticClass:"fill-height"},[t("v-container",{staticClass:"fill-height overflow-auto align-content-start",attrs:{fluid:""}},[e.activeTab===e.ActiveTab.General?t("edit_group_tab_general",{attrs:{editGroupController:e.editGroupController},on:{saveChanges:e.saveChanges}}):e._e(),e._v(" "),e.activeTab===e.ActiveTab.Visual?t("edit_group_tab_visual",{attrs:{editGroupController:e.editGroupController},on:{saveChanges:e.saveChanges}}):e._e(),e._v(" "),e.activeTab===e.ActiveTab.Background?t("edit_group_tab_background",{attrs:{editGroupController:e.editGroupController},on:{saveChanges:e.saveChanges}}):e._e(),e._v(" "),e.activeTab===e.ActiveTab.Gestures?t("edit_group_tab_gestures",{attrs:{editGroupController:e.editGroupController},on:{saveChanges:e.saveChanges}}):e._e(),e._v(" "),e.activeTab===e.ActiveTab.Settings?t("edit_group_tab_settings",{attrs:{editGroupController:e.editGroupController},on:{saveChanges:e.saveChanges}}):e._e(),e._v(" "),e.activeTab===e.ActiveTab.TopSites?t("edit_group_tab_top_sites",{attrs:{editGroupController:e.editGroupController},on:{saveChanges:e.saveChanges}}):e._e()],1)],1),e._v(" "),t("v-footer",{attrs:{app:"",absolute:"",outlined:""}},[t("div",{staticClass:"d-flex text-left"},[t("v-btn",{staticClass:"ma-2",attrs:{tile:"",color:"primary",name:"save_changes"},on:{click:e.saveChanges}},[t("v-icon",{attrs:{left:""}},[e._v("far fa-save")]),t("span",{directives:[{name:"tr",rawName:"v-tr",value:"label_save_changes",expression:"'label_save_changes'"}]})],1),e._v(" "),t("v-btn",{staticClass:"ma-2",attrs:{tile:"",outlined:"",color:""},on:{click:e.discardChanges}},[t("v-icon",{attrs:{left:""}},[e._v("fa-undo-alt")]),t("span",{directives:[{name:"tr",rawName:"v-tr",value:"label_discard_changes",expression:"'label_discard_changes'"}]})],1)],1)])],1)};l._withStripped=!0;var n=r(5278),d=r(4590),p=r(8408),u=r(4667),c=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("v-container",{staticClass:"pa-0"},[t("v-row",{attrs:{dense:""}},[t("v-col",{attrs:{cols:"12",sm:"12"}},[t("v-card",[t("v-card-text",[t("v-row",[t("v-col",{attrs:{cols:"8",sm:"9",md:"10"}},[t("v-text-field",{ref:"group_name_input",attrs:{name:"group_name",type:"text",maxlength:"128",dense:"",outlined:"",label:e.tr("eg_name"),"hide-details":""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.stopPropagation(),e.saveChanges.apply(null,arguments))}},model:{value:e.group.name,callback:t=>{e.$set(e.group,"name","string"==typeof t?t.trim():t)},expression:"group.name"}})],1),e._v(" "),e.groupsCount>1?t("v-col",{attrs:{cols:"4",sm:"3",md:"2"}},[t("v-text-field",{attrs:{name:"group_position",dense:"",type:"number",min:"1",max:e.groupsCount,"hide-details":"",outlined:"",label:e.tr("eg_position")},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.stopPropagation(),e.saveChanges.apply(null,arguments))}},model:{value:e.editGroupController.groupPosition,callback:t=>{e.$set(e.editGroupController,"groupPosition",e._n(t))},expression:"editGroupController.groupPosition"}})],1):e._e()],1),e._v(" "),e.radioOptions[e.selectedRadioIndex]===e.GROUP_LAYOUT.GRID?[t("v-row",{ref:"cols_rows",staticClass:"centered-input"},[t("v-col",{attrs:{cols:"6",sm:"6",md:"5",lg:"4"}},[t("v-text-field",{attrs:{type:"number",min:e.editGroupController.gridColumns.MIN,max:e.editGroupController.gridColumns.MAX,dense:"","hide-details":"",outlined:"",name:"group_cols",label:e.tr("eg_columns"),"prepend-inner-icon":"fas fa-minus-square","append-icon":"fas fa-plus-square"},on:{"click:prepend-inner":t=>{e.editGroupController.gridColumns.decrement(),e.previewGroup()},"click:append":t=>{e.editGroupController.gridColumns.increment(),e.previewGroup()},input:e.previewGroup,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.stopPropagation(),e.saveChanges.apply(null,arguments))}},model:{value:e.editGroupController.gridColumns.value,callback:t=>{e.$set(e.editGroupController.gridColumns,"value",e._n(t))},expression:"editGroupController.gridColumns.value"}})],1),e._v(" "),t("v-col",{attrs:{cols:"6",sm:"6",md:"5",lg:"4"}},[t("v-text-field",{attrs:{type:"number",min:e.editGroupController.gridRows.MIN,max:e.editGroupController.gridRows.MAX,dense:"","hide-details":"",outlined:"",name:"group_rows",label:e.tr("eg_rows"),"prepend-inner-icon":"fas fa-minus-square","append-icon":"fas fa-plus-square"},on:{"click:prepend-inner":t=>{e.editGroupController.gridRows.decrement(),e.previewGroup()},"click:append":t=>{e.editGroupController.gridRows.increment(),e.previewGroup()},input:e.previewGroup,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.stopPropagation(),e.saveChanges.apply(null,arguments))}},model:{value:e.editGroupController.gridRows.value,callback:t=>{e.$set(e.editGroupController.gridRows,"value",e._n(t))},expression:"editGroupController.gridRows.value"}})],1)],1)]:[t("v-row",{ref:"cols_rows",staticClass:"centered-input"},[t("v-col",{attrs:{cols:"6",sm:"6",md:"5",lg:"4"}},[t("v-text-field",{attrs:{type:"number",min:"1",max:e.MAX_COLS_COUNT,dense:"","hide-details":"",outlined:"",name:"group_cols",label:e.tr("eg_columns"),"prepend-inner-icon":"fas fa-minus-square","append-icon":"fas fa-plus-square"},on:{"click:prepend-inner":t=>{e.group.cols--,e.previewGroup()},"click:append":t=>{e.group.cols++,e.previewGroup()},input:e.previewGroup,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.stopPropagation(),e.saveChanges.apply(null,arguments))}},model:{value:e.group.cols,callback:t=>{e.$set(e.group,"cols",e._n(t))},expression:"group.cols"}})],1),e._v(" "),t("v-col",{attrs:{cols:"6",sm:"6",md:"5",lg:"4"}},[t("v-text-field",{attrs:{type:"number",min:"1",max:e.MAX_ROWS_COUNT,dense:"","hide-details":"",outlined:"",name:"group_rows",label:e.tr("eg_rows"),disabled:e.isLayout(e.GROUP_LAYOUT.DYNAMIC)||e.isLayout(e.GROUP_LAYOUT.LIST),"prepend-inner-icon":"fas fa-minus-square","append-icon":"fas fa-plus-square"},on:{"click:prepend-inner":t=>{e.group.rows--,e.previewGroup()},"click:append":t=>{e.group.rows++,e.previewGroup()},input:e.previewGroup,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.stopPropagation(),e.saveChanges.apply(null,arguments))}},model:{value:e.group.rows,callback:t=>{e.$set(e.group,"rows",e._n(t))},expression:"group.rows"}})],1)],1)],e._v(" "),e.editGroupController.errorMessage?t("div",{staticClass:"red--text",domProps:{textContent:e._s(e.editGroupController.errorMessage)}}):e._e()],2)],1)],1)],1),e._v(" "),t("v-row",{attrs:{dense:""}},[t("v-col",{attrs:{cols:"12",sm:"12"}},[t("v-card",[t("v-card-title",{staticClass:"pb-0"},[t("span",{directives:[{name:"tr",rawName:"v-tr",value:"group_layout",expression:"'group_layout'"}]}),e._v(" "),t("a",{directives:[{name:"tr",rawName:"v-tr",value:"online_help",expression:"'online_help'"}],staticClass:"ml-auto subtitle-1",attrs:{href:"https://github.com/fastaddons/GroupSpeedDial/wiki/Group-layouts",target:"_blank"}})]),e._v(" "),t("v-card-text",{staticClass:"pb-0"},[t("v-radio-group",{staticClass:"mt-0 pt-0",attrs:{value:e.radioOptions[e.selectedRadioIndex],mandatory:!0}},[t("v-expansion-panels",{attrs:{accordion:"",mandatory:""},on:{change:e.previewGroup},model:{value:e.selectedRadioIndex,callback:t=>{e.selectedRadioIndex=t},expression:"selectedRadioIndex"}},[t("v-expansion-panel",[t("v-expansion-panel-header",{attrs:{"expand-icon":""}},[t("pro_label",{staticStyle:{width:"auto",flex:"0 1 auto","margin-right":"8px"},attrs:{"auto-width":"","offset-left":"20px"}},[t("v-radio",{attrs:{label:e.tr("group_layout_grid"),value:e.GROUP_LAYOUT.GRID}}),e._v(" "),t("div",{staticClass:"ml-8"},[t("v-radio-group",{staticClass:"mt-0 radio-group-grid",attrs:{"hide-details":"",dense:"",row:"",disabled:!e.isLayout(e.GROUP_LAYOUT.GRID)},on:{change:e.previewGroup},model:{value:e.editGroupController.gridPosition,callback:t=>{e.$set(e.editGroupController,"gridPosition",t)},expression:"editGroupController.gridPosition"}},e._l(e.gridPositions,(e=>t("v-radio",{key:e.value,staticClass:"mb-1",attrs:{value:e.value,label:e.text}}))),1)],1)],1)],1)],1),e._v(" "),t("v-expansion-panel",[t("v-expansion-panel-header",{attrs:{"expand-icon":""}},[t("div",{staticClass:"d-flex align-center centered-input flex-wrap"},[t("v-radio",{staticClass:"mb-0",attrs:{label:e.tr("group_layout_dynamic"),value:e.GROUP_LAYOUT.DYNAMIC}}),e._v(" "),t("div",{staticClass:"d-flex flex-wrap align-center mx-4 ml-auto"},[t("div",{staticClass:"d-flex align-center dial_ratio_inputs"},[t("label",{directives:[{name:"tr",rawName:"v-tr.c",value:"eg_dial_size",expression:"'eg_dial_size'",modifiers:{c:!0}}]}),e._v(" "),t("v-btn",{attrs:{icon:""},on:{click:t=>e.changeDynamicSize(!0)}},[t("v-icon",{attrs:{dark:""}},[e._v("fas fa-plus-square")])],1),e._v(" "),t("v-btn",{attrs:{icon:""},on:{click:t=>e.changeDynamicSize(!1)}},[t("v-icon",{attrs:{dark:""}},[e._v("fas fa-minus-square")])],1)],1),e._v(" "),t("div",{staticClass:"d-flex align-center dial_ratio_inputs"},[t("v-text-field",{staticClass:"shrink ml-2",attrs:{dense:"",type:"number",min:"60",max:1800,step:"12",suffix:e.tr("pixels_short"),"hide-details":"",outlined:"",disabled:!e.isLayout(e.GROUP_LAYOUT.DYNAMIC)},on:{input:e.previewGroup,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.stopPropagation(),e.saveChanges.apply(null,arguments))}},model:{value:e.editGroupController.dialWidth,callback:t=>{e.$set(e.editGroupController,"dialWidth",e._n(t))},expression:"editGroupController.dialWidth"}}),e._v(" "),t("strong",{staticClass:"mx-2"},[e._v("x")]),e._v(" "),t("v-text-field",{staticClass:"shrink",attrs:{dense:"",type:"number",min:"60",max:1800,step:"12",suffix:e.tr("pixels_short"),"hide-details":"",outlined:"",disabled:!e.isLayout(e.GROUP_LAYOUT.DYNAMIC)},on:{input:e.previewGroup,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.stopPropagation(),e.saveChanges.apply(null,arguments))}},model:{value:e.editGroupController.dialHeight,callback:t=>{e.$set(e.editGroupController,"dialHeight",e._n(t))},expression:"editGroupController.dialHeight"}})],1)])],1)])],1),e._v(" "),t("v-expansion-panel",[t("v-expansion-panel-header",{attrs:{"expand-icon":""}},[t("div",{staticClass:"d-flex align-center centered-input flex-wrap"},[t("v-radio",{staticClass:"mb-0",attrs:{label:e.tr("group_layout_dynamic")+" - "+e.tr("group_layout_list"),value:e.GROUP_LAYOUT.LIST}}),e._v(" "),t("div",{staticClass:"d-flex align-center dial_ratio_inputs mx-4 ml-auto"},[t("label",{directives:[{name:"tr",rawName:"v-tr",value:"label_min_size",expression:"'label_min_size'"}]}),e._v(" "),t("v-btn",{attrs:{icon:""},on:{click:t=>e.changeListSize(!0)}},[t("v-icon",{attrs:{dark:""}},[e._v("fas fa-plus-square")])],1),e._v(" "),t("v-btn",{attrs:{icon:""},on:{click:t=>e.changeListSize(!1)}},[t("v-icon",{attrs:{dark:""}},[e._v("fas fa-minus-square")])],1),e._v(" "),t("v-text-field",{staticClass:"shrink ml-2",attrs:{dense:"",type:"number",min:"60",max:1200,step:"12",suffix:e.tr("pixels_short"),"hide-details":"",outlined:"",disabled:!e.isLayout(e.GROUP_LAYOUT.LIST)},on:{input:e.previewGroup,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.stopPropagation(),e.saveChanges.apply(null,arguments))}},model:{value:e.editGroupController.listWidth,callback:t=>{e.$set(e.editGroupController,"listWidth",e._n(t))},expression:"editGroupController.listWidth"}})],1)],1)])],1),e._v(" "),t("v-expansion-panel",{directives:[{name:"tr",rawName:"v-tr:title",value:"group_layout_fixed",expression:"'group_layout_fixed'",arg:"title"}]},[t("v-expansion-panel-header",{attrs:{"expand-icon":""}},[t("v-radio",{attrs:{label:e.tr("group_layout_fill"),value:e.GROUP_LAYOUT.FILL}}),e._v(" "),t("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:({on:r,attrs:o})=>[t("v-btn",e._g(e._b({staticClass:"ml-auto flex-grow-0 mr-2",attrs:{icon:"",title:""}},"v-btn",o,!1),r),[t("v-icon",{attrs:{color:"grey"}},[e._v("fa-question-circle")])],1)]}])},[e._v(" "),t("div",{domProps:{textContent:e._s(e.tr("group_layout_fixed_help"))}}),e._v(" "),t("div",{domProps:{textContent:e._s(e.tr("label_applies_to"))}}),e._v(" "),t("div",{domProps:{textContent:e._s("- "+e.tr("group_layout_fill"))}}),e._v(" "),t("div",{domProps:{textContent:e._s("- "+e.tr("group_layout_center"))}}),e._v(" "),t("div",{domProps:{textContent:e._s("- "+e.tr("group_layout_scroll"))}})])],1)],1),e._v(" "),t("v-expansion-panel",{directives:[{name:"tr",rawName:"v-tr:title",value:"group_layout_fixed",expression:"'group_layout_fixed'",arg:"title"}]},[t("v-expansion-panel-header",{attrs:{"expand-icon":""}},[t("div",{staticClass:"d-flex align-center centered-input flex-wrap"},[t("v-radio",{staticClass:"mb-0",attrs:{label:e.tr("group_layout_center"),value:e.GROUP_LAYOUT.CENTER}}),e._v(" "),t("div",{staticClass:"d-flex align-center dial_ratio_inputs mx-4 ml-auto"},[t("label",{directives:[{name:"tr",rawName:"v-tr.c",value:"eg_dial_aspect_ratio",expression:"'eg_dial_aspect_ratio'",modifiers:{c:!0}}]}),e._v(" "),t("v-text-field",{staticClass:"shrink",attrs:{dense:"",type:"number",min:"1",max:999,"hide-details":"",outlined:"",disabled:!e.isLayout(e.GROUP_LAYOUT.CENTER)},on:{input:e.previewGroup,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.stopPropagation(),e.saveChanges.apply(null,arguments))}},model:{value:e.editGroupController.ratioX,callback:t=>{e.$set(e.editGroupController,"ratioX",e._n(t))},expression:"editGroupController.ratioX"}}),e._v(" "),t("strong",{staticClass:"mx-2"},[e._v(":")]),e._v(" "),t("v-text-field",{staticClass:"shrink",attrs:{dense:"",type:"number",min:"1",max:999,"hide-details":"",outlined:"",disabled:!e.isLayout(e.GROUP_LAYOUT.CENTER)},on:{input:e.previewGroup,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.stopPropagation(),e.saveChanges.apply(null,arguments))}},model:{value:e.editGroupController.ratioY,callback:t=>{e.$set(e.editGroupController,"ratioY",e._n(t))},expression:"editGroupController.ratioY"}})],1)],1)])],1),e._v(" "),t("v-expansion-panel",{directives:[{name:"tr",rawName:"v-tr:title",value:"group_layout_fixed",expression:"'group_layout_fixed'",arg:"title"}]},[t("v-expansion-panel-header",{attrs:{"expand-icon":""}},[t("div",{staticClass:"d-flex align-center centered-input flex-wrap"},[t("v-radio",{staticClass:"mb-0",attrs:{label:e.tr("group_layout_scroll"),value:e.GROUP_LAYOUT.SCROLL}}),e._v(" "),t("div",{staticClass:"d-flex align-center dial_ratio_inputs mx-4 ml-auto"},[t("label",{directives:[{name:"tr",rawName:"v-tr.c",value:"eg_dial_aspect_ratio",expression:"'eg_dial_aspect_ratio'",modifiers:{c:!0}}]}),e._v(" "),t("v-text-field",{staticClass:"shrink",attrs:{dense:"",type:"number",min:"1",max:999,"hide-details":"",outlined:"",disabled:!e.isLayout(e.GROUP_LAYOUT.SCROLL)},on:{input:e.previewGroup,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.stopPropagation(),e.saveChanges.apply(null,arguments))}},model:{value:e.editGroupController.ratioX,callback:t=>{e.$set(e.editGroupController,"ratioX",e._n(t))},expression:"editGroupController.ratioX"}}),e._v(" "),t("strong",{staticClass:"mx-2"},[e._v(":")]),e._v(" "),t("v-text-field",{staticClass:"shrink",attrs:{dense:"",type:"number",min:"1",max:999,"hide-details":"",outlined:"",disabled:!e.isLayout(e.GROUP_LAYOUT.SCROLL)},on:{input:e.previewGroup,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.stopPropagation(),e.saveChanges.apply(null,arguments))}},model:{value:e.editGroupController.ratioY,callback:t=>{e.$set(e.editGroupController,"ratioY",e._n(t))},expression:"editGroupController.ratioY"}})],1)],1)])],1)],1)],1)],1)],1)],1)],1)],1)};c._withStripped=!0;var v=r(2479),_=r(8642),g=r(6683),h=r(5431),m=r(6004),C=r(4323),b=r(4069),y=r(2846),G=r(2960),k=r(6795),f=r(2016);const x=i.default.extend({name:"edit_group_tab_general",components:{custom_checkbox:v.A,color_picker_input:_.A,pro_label:h.A},props:{editGroupController:{type:Object,required:!0}},mounted(){this.$refs.cols_rows.querySelectorAll("button").forEach((e=>e.tabIndex=-1)),this.focusInput()},data(){const e=[g.Rv.GRID,g.Rv.DYNAMIC,g.Rv.LIST,g.Rv.FILL,g.Rv.CENTER,g.Rv.SCROLL],t=["group_layout_fill","group_layout_center","group_layout_scroll"];return{GROUP_LAYOUT:g.Rv,group:this.editGroupController.group,radioOptions:e,selectedRadioIndex:e.indexOf(this.editGroupController.groupLayout),MAX_COLS_COUNT:100,MAX_ROWS_COUNT:500,gridPositions:(0,G.w5)(k.Cr).map((e=>({value:e,text:(0,d.tr)(t[e])}))),IS_SMALL_SCREEN:f.O}},computed:{selectedLayout(){return this.radioOptions[this.selectedRadioIndex]},groupsCount:()=>y.M.GROUPS.length},watch:{selectedRadioIndex(e){this.editGroupController.groupLayout=this.radioOptions[e]}},methods:{tr:d.tr,isLayout(e){return e===this.selectedLayout},changeDynamicSize(e){this.editGroupController.dialWidth+=12*(e?1:-1),this.editGroupController.dialHeight+=9*(e?1:-1),this.previewGroup()},changeListSize(e){this.editGroupController.listWidth+=12*(e?1:-1),this.previewGroup()},saveChanges(){this.$emit("saveChanges")},async previewGroup(){await(0,C.BK)(1),this.editGroupController.previewCurrentChanges()},async focusInput(){b.m0||(await(0,C.BK)(1),(0,m.Ub)(this.$refs.group_name_input.$el.querySelector("input")))}}});var w=r(4486);const T=(0,w.A)(x,c,[],!1,null,"76697e3f",null).exports;var O=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("v-container",{staticClass:"pa-0"},[t("v-row",{attrs:{dense:""}},[t("v-col",{attrs:{cols:"12",sm:"12"}},[t("v-card",[t("v-card-title",{directives:[{name:"tr",rawName:"v-tr",value:"eg_group_icon",expression:"'eg_group_icon'"}]}),e._v(" "),t("v-card-text",[t("v-row",{attrs:{align:"center",dense:""}},[t("v-col",{attrs:{cols:"12",sm:"12"}},[t("div",{ref:"tagIcons",staticClass:"tag_icons",attrs:{tabindex:"0"},on:{keydown:t=>e.switchIcon(t,e.group.iconId)}},e._l(e.tags,(r=>t("div",{key:r.id,class:"tag_icon_container"+(e.group.iconId===r.id?" selected":""),attrs:{title:e.env.$IS_DEV?r.id:""},on:{click:t=>e.setIcon(r.id)}},[t("img",{staticClass:"tag_icon",style:e.computeIconStyle(r),attrs:{src:e.emptyImg}})]))),0)])],1)],1)],1)],1)],1),e._v(" "),t("v-row",{attrs:{dense:""}},[t("v-col",{attrs:{cols:"12",sm:"12"}},[t("v-card",[t("v-card-text",[t("v-row",{attrs:{align:"center",dense:""}},[t("v-col",{attrs:{cols:"12",sm:"6"}},[t("v-checkbox",{staticClass:"mx-2 mt-0",attrs:{"hide-details":"",label:e.tr("eg_text_color")},on:{change:e.previewGroup},model:{value:e.editGroupController.hasTextColor,callback:t=>{e.$set(e.editGroupController,"hasTextColor",t)},expression:"editGroupController.hasTextColor"}})],1),e._v(" "),t("v-col",{attrs:{cols:"12",sm:"6"},on:{click:t=>{e.editGroupController.hasTextColor=!0}}},[t("color_picker_input",{attrs:{"default-value":"#00FFFFFF",disabled:!e.editGroupController.hasTextColor},on:{opened:t=>{e.editGroupController.hasTextColor=!0},input:e.previewGroup},model:{value:e.group.color,callback:t=>{e.$set(e.group,"color",t)},expression:"group.color"}})],1)],1)],1)],1)],1)],1),e._v(" "),t("v-row",{attrs:{dense:""}},[t("v-col",{attrs:{cols:"12",sm:"12"}},[t("v-card",[t("v-card-title",{directives:[{name:"tr",rawName:"v-tr",value:"o_tab_visual_dials",expression:"'o_tab_visual_dials'"}]}),e._v(" "),t("v-card-text",[t("slider",{staticClass:"mb-0",attrs:{optional:"","default-value":e.OPTIONS.DIAL_PADDING,min:0,max:30,units:"pixels_short","units-title":"o_pixels",label:"o_space_around_dials"},on:{change:e.previewGroup},model:{value:e.group.options.DIAL_PADDING,callback:t=>{e.$set(e.group.options,"DIAL_PADDING",t)},expression:"group.options.DIAL_PADDING"}})],1)],1)],1)],1)],1)};O._withStripped=!0;var R=r(6346),L=r(1962),I=r(1589),N=r(1265),A=r(9044),S=r(7104),P=r(1368),E=r(2221);const D=i.default.extend({name:"edit_group_tab_visual",components:{slider:P.A,custom_checkbox:v.A,color_picker_input:_.A,pro_label:h.A},props:{editGroupController:{type:Object,required:!0}},data(){return{env:S._,group:this.editGroupController.group,emptyImg:L.RO,tags:Array.from({length:I.v.TOTAL_TAGS},((e,t)=>0===t?I.v.getEmptyTag():new I.v(t,"",t,"#ffffff")))}},computed:{OPTIONS:()=>E.lw},watch:{},methods:{tr:d.tr,setIcon(e){this.group.iconId=e,this.previewGroup(),this.$forceUpdate()},switchIcon(e,t){const r=Array.from({length:I.v.TOTAL_TAGS},((e,t)=>t)),o=(0,A.k)(".tag_icon_container .tag_icon"),a=(0,N.E)(e,r,t||0,o);a&&this.setIcon(a)},computeIconStyle:e=>new I.v(e.id,"",e.icon,e.color).getIconStyle(),previewGroup(){this.editGroupController.previewCurrentChanges()}},mounted(){(0,R.Q)(this.$root.$el,{type:"changeTransparency",isTransparent:!0}),this.$refs.tagIcons.focus()},beforeDestroy(){(0,R.Q)(this.$root.$el,{type:"changeTransparency",isTransparent:!1})}});const $=(0,w.A)(D,O,[],!1,null,"f7aab564",null).exports;var U=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("v-container",{staticClass:"pa-0"},[t("v-row",[t("v-col",{attrs:{cols:"12",sm:"12"}},[t("v-card",[t("v-card-text",[t("v-row",{attrs:{align:"center"}},[t("v-col",{attrs:{cols:"12"}},[t("v-checkbox",{staticClass:"mx-2 mt-0",attrs:{label:e.tr("make_group_default"),hint:e.editGroupController.isDefaultDisabled?`${e.tr("label_warning")} ${e.tr("label_option_conflict_with",e.tr("o_remember_group"))}`:e.tr("make_group_default_title"),disabled:e.editGroupController.isDefaultDisabled,"persistent-hint":""},model:{value:e.editGroupController.isDefault,callback:t=>{e.$set(e.editGroupController,"isDefault",t)},expression:"editGroupController.isDefault"}})],1),e._v(" "),t("v-col",{attrs:{cols:"12"}},[t("pro_label",{attrs:{"tr-title":"group_archive_group"}},[t("v-checkbox",{staticClass:"mx-2 mt-0",attrs:{label:e.tr("archive"),hint:e.tr("group_archive_group_title"),"persistent-hint":""},model:{value:e.editGroupController.group.archived,callback:t=>{e.$set(e.editGroupController.group,"archived",t)},expression:"editGroupController.group.archived"}})],1)],1),e._v(" "),t("v-col",{attrs:{cols:"12"}},[t("pro_label",{attrs:{"tr-title":0===e.lockedGroups?"":"label_limit_reached",allow:0===e.lockedGroups,"offset-left":"4px"}},[t("v-checkbox",{staticClass:"mx-2 mt-0",attrs:{label:e.tr("lock_group"),hint:e.tr("lock_group_help")+"\n"+e.tr("lock_group_help_2"),"persistent-hint":""},on:{change:e.setupMasterPassword},model:{value:e.editGroupController.isLocked,callback:t=>{e.$set(e.editGroupController,"isLocked",t)},expression:"editGroupController.isLocked"}})],1)],1),e._v(" "),t("v-col",{attrs:{cols:"12"}},[t("v-checkbox",{staticClass:"mx-2 mt-0 ml-6",attrs:{disabled:!e.editGroupController.isLocked,label:e.tr("lock_group_hidden"),hint:e.tr("lock_group_hidden_help"),"persistent-hint":"",dense:""},model:{value:e.editGroupController.hideLocked,callback:t=>{e.$set(e.editGroupController,"hideLocked",t)},expression:"editGroupController.hideLocked"}})],1),e._v(" "),t("v-col",{attrs:{cols:"12"}},[t("v-checkbox",{staticClass:"mx-2 mt-0 ml-6",attrs:{disabled:!e.canAutoOpen||!e.editGroupController.isLocked,label:e.tr("lock_auto_open_group"),"hide-details":"",dense:""},model:{value:e.autoOpen,callback:t=>{e.autoOpen=t},expression:"autoOpen"}})],1),e._v(" "),e.env.$IS_FIREFOX?t("v-col",{attrs:{cols:"12"}},[t("select_container",{model:{value:e.editGroupController.group.container,callback:t=>{e.$set(e.editGroupController.group,"container",t)},expression:"editGroupController.group.container"}})],1):e._e()],1)],1)],1),e._v(" "),t("v-card",{staticClass:"mt-2"},[t("v-card-title",{directives:[{name:"tr",rawName:"v-tr",value:"o_special_features",expression:"'o_special_features'"}],staticClass:"pb-0"}),e._v(" "),t("v-card-actions",[t("v-btn",{on:{click:e.cloneGroup}},[t("v-icon",{attrs:{left:""}},[e._v("fa-clone")]),e._v(" "),t("span",{directives:[{name:"tr",rawName:"v-tr",value:"cm_clone_group",expression:"'cm_clone_group'"}],staticClass:"text-none"})],1)],1)],1)],1)],1)],1)};U._withStripped=!0;var M=r(5017),q=r(8040),Y=r(2497),B=r(9378);const F=i.default.extend({name:"edit_group_tab_settings",components:{select_container:q.A,custom_checkbox:v.A,color_picker_input:_.A,pro_label:h.A},props:{editGroupController:{type:Object,required:!0}},data(){return{env:S._,group:this.editGroupController.group,autoOpen:!1,canAutoOpen:!1}},async created(){const e=await B.G.get();this.autoOpen=e===this.editGroupController.groupId,this.canAutoOpen=void 0===e||this.autoOpen},watch:{autoOpen(e){e?B.G.set(this.editGroupController.groupId):B.G.remove()}},computed:{lockedGroups(){return y.M.GROUPS.filter((e=>e.lock&&e.id!==this.editGroupController.groupId)).length}},methods:{tr:d.tr,async cloneGroup(){await(0,Y.cloneGroup)(this.group)},async setupMasterPassword(e){const t=e=>this.editGroupController.isLocked=e;if(e)try{const e=y.M.METADATA.masterPassword?.id;if(e)await y.M.masterKeyVault.unlockIfNeeded().then((e=>{if(!e)throw Error("not unlocked")})),this.editGroupController.lockPasswordId=e;else{const e=await(0,M.C)();this.editGroupController.lockPasswordId=await e.pwdPrompt(y.M.masterKeyVault,g.pK.setupPassword)}}catch{t(!1)}else{this.editGroupController.lockPasswordId;await y.M.masterKeyVault.unlockIfNeeded()||t(!0)}}}});const W=(0,w.A)(F,U,[],!1,null,"36674958",null).exports;var V=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("v-container",{staticClass:"pa-0"},[t("v-row",[t("v-col",{attrs:{cols:"12",sm:"12"}},[t("v-card",[t("v-card-title",{directives:[{name:"tr",rawName:"v-tr",value:"top_sites_about",expression:"'top_sites_about'"}]}),e._v(" "),t("v-card-text",[t("v-row",{attrs:{align:"center"}},[t("v-col",{attrs:{cols:"12"}},[t("v-checkbox",{staticClass:"mx-2 mt-0",attrs:{label:e.tr("top_sites_enable"),"persistent-hint":""},on:{change:e.requestTopSitesPermission},model:{value:e.editGroupController.isTopSites,callback:t=>{e.$set(e.editGroupController,"isTopSites",t)},expression:"editGroupController.isTopSites"}})],1)],1),e._v(" "),t("div",{directives:[{name:"tr",rawName:"v-tr",value:"top_sites_help_1",expression:"'top_sites_help_1'"}]}),e._v(" "),t("div",{staticClass:"mt-2 flex"},[t("div",{directives:[{name:"tr",rawName:"v-tr",value:"top_sites_help_2",expression:"'top_sites_help_2'"}],staticClass:"mr-4"}),e._v(" "),t("v-text-field",{directives:[{name:"tr",rawName:"v-tr:title",value:"cm_copy_link",expression:"'cm_copy_link'",arg:"title"}],staticClass:"font-italic pointer_all",staticStyle:{"max-width":"160px"},attrs:{dense:"",type:"text","hide-details":"",outlined:"",readonly:"",value:e.browserTopSitesURL,"append-icon":e.copyIcon},on:{click:e.copyOrVisitHomeLink,"click:append":e.copyOrVisitHomeLink}})],1)],1)],1)],1)],1)],1)};V._withStripped=!0;var X=r(9998),z=r(8032);const H=i.default.extend({name:"edit_group_tab_top_sites",components:{custom_checkbox:v.A,color_picker_input:_.A,pro_label:h.A},props:{editGroupController:{type:Object,required:!0}},data(){return{browserTopSitesURL:X.$_,group:this.editGroupController.group,env:S._,copyIcon:"fa fa-copy"}},async mounted(){},watch:{},methods:{tr:d.tr,async requestTopSitesPermission(e){this.editGroupController.previewCurrentChanges(),this.editGroupController.groupLayout=g.Rv.LIST,e&&(this.editGroupController.group.name=(0,d.tr)("ed_tab_top_sites"));await z.O.askForPermission()||(this.editGroupController.isTopSites=!1),this.editGroupController.previewCurrentChanges()},copyOrVisitHomeLink(){(0,X.Ct)(),this.copyIcon="fa fa-circle-check"}}});const j=(0,w.A)(H,V,[],!1,null,"2e671e77",null).exports;var K=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("v-container",{staticClass:"pa-0"},[t("v-radio-group",{staticClass:"mt-0",attrs:{value:e.radioOptions[e.selectedRadioIndex],mandatory:!0}},[t("v-expansion-panels",{attrs:{mandatory:""},model:{value:e.selectedRadioIndex,callback:t=>{e.selectedRadioIndex=t},expression:"selectedRadioIndex"}},[t("v-expansion-panel",[t("v-expansion-panel-header",[t("v-radio",{attrs:{label:e.trType(e.GroupBackgroundType.NONE),value:e.GroupBackgroundType.NONE}})],1)],1),e._v(" "),t("v-expansion-panel",[t("v-expansion-panel-header",[t("v-radio",{attrs:{label:e.trType(e.GroupBackgroundType.COLOR),value:e.GroupBackgroundType.COLOR}})],1),e._v(" "),t("v-expansion-panel-content",[t("color_picker_input",{staticStyle:{"max-width":"300px"},attrs:{"default-value":"#0277BDFF"},on:{input:e.previewGroup,opened:e.pickerOpened},model:{value:e.editGroupController.background.color,callback:t=>{e.$set(e.editGroupController.background,"color",t)},expression:"editGroupController.background.color"}})],1)],1),e._v(" "),t("v-expansion-panel",[t("v-expansion-panel-header",[t("v-radio",{attrs:{label:e.trType(e.GroupBackgroundType.GRADIENT),value:e.GroupBackgroundType.GRADIENT}})],1),e._v(" "),t("v-expansion-panel-content",[t("v-row",[t("v-col",{attrs:{cols:"12",sm:"6"}},[t("legend",{directives:[{name:"tr",rawName:"v-tr",value:"o_gradient_type",expression:"'o_gradient_type'"}]}),e._v(" "),t("v-radio-group",{staticClass:"mt-0",attrs:{dense:""},on:{change:e.previewGroup},model:{value:e.editGroupController.background.gradient.type,callback:t=>{e.$set(e.editGroupController.background.gradient,"type",t)},expression:"editGroupController.background.gradient.type"}},e._l(e.gradientTypes,(e=>t("v-radio",{key:e.value,attrs:{value:e.value,label:e.text}}))),1)],1),e._v(" "),t("v-col",{attrs:{cols:"12",sm:"6"}},[t("div",{staticClass:"flex"},[t("legend",{directives:[{name:"tr",rawName:"v-tr.c",value:"background_type_1",expression:"'background_type_1'",modifiers:{c:!0}}]}),e._v(" "),t("v-btn",{staticClass:"ml-auto mb-1",attrs:{color:"secondary",fab:"",small:"",tile:""},on:{click:e.addGradientColor}},[t("v-icon",{staticStyle:{opacity:"1"}},[e._v("fa-plus")])],1)],1),e._v(" "),e.updateColorsHack?t("draggable",e._b({attrs:{handle:"div",tag:"div"},on:{start:t=>{e.drag=!0},end:t=>{e.drag=!1},update:e.updateColors},model:{value:e.editGroupController.background.gradient.colors,callback:t=>{e.$set(e.editGroupController.background.gradient,"colors",t)},expression:"editGroupController.background.gradient.colors"}},"draggable",e.dragOptions,!1),e._l(e.editGroupController.background.gradient.colors,((r,o)=>t("div",{key:o,staticClass:"flex mt-1"},[t("color_picker_input",{staticClass:"mr-1",staticStyle:{"max-width":"300px"},attrs:{"default-value":"#0277BDFF"},on:{input:e.previewGroup,opened:e.pickerOpened},model:{value:e.editGroupController.background.gradient.colors[o],callback:t=>{e.$set(e.editGroupController.background.gradient.colors,o,t)},expression:"editGroupController.background.gradient.colors[index]"}}),e._v(" "),t("v-btn",{directives:[{name:"tr",rawName:"v-tr:title",value:"color_remove_color",expression:"'color_remove_color'",arg:"title"}],attrs:{fab:"",tile:"",small:"",disabled:e.editGroupController.background.gradient.colors.length<=2},on:{click:t=>e.removeGradientColor(o)}},[t("v-icon",{staticStyle:{opacity:"1"}},[e._v("fa-minus")])],1)],1))),0):e._e()],1)],1),e._v(" "),e.editGroupController.background.gradient.type===e.GradientType.linear?t("v-slider",{attrs:{label:e.tr("gradient_direction"),"thumb-label":"",min:"0",max:"360",value:"0",step:"5","hide-details":""},on:{input:e.previewGroup},model:{value:e.editGroupController.background.gradient.degree,callback:t=>{e.$set(e.editGroupController.background.gradient,"degree",t)},expression:"editGroupController.background.gradient.degree"}}):e._e()],1)],1),e._v(" "),t("v-expansion-panel",[t("v-expansion-panel-header",[t("v-radio",{attrs:{label:e.trType(e.GroupBackgroundType.FILE),value:e.GroupBackgroundType.FILE}})],1),e._v(" "),t("v-expansion-panel-content",[t("v-file-input",{attrs:{label:e.tr("file_load_label"),accept:"image/*","show-size":"",outlined:"",dense:""},on:{change:e.imageLoaded}})],1)],1),e._v(" "),t("v-expansion-panel",[t("v-expansion-panel-header",[t("v-radio",{attrs:{label:e.trType(e.GroupBackgroundType.URL),value:e.GroupBackgroundType.URL}})],1),e._v(" "),t("v-expansion-panel-content",[t("v-text-field",{attrs:{autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",autofocus:"",type:"url",dense:"",outlined:""},on:{change:e.previewGroup},model:{value:e.editGroupController.background.url,callback:t=>{e.$set(e.editGroupController.background,"url",t)},expression:"editGroupController.background.url"}})],1)],1)],1)],1),e._v(" "),e.editGroupController.background.type!==e.GroupBackgroundType.NONE?t("v-row",{attrs:{align:"center",dense:""}},[t("v-col",{attrs:{cols:"12"}},[t("v-checkbox",{staticClass:"mx-6 mt-0",attrs:{"hide-details":"",label:e.tr("background_only_name")},on:{change:e.previewGroup},model:{value:e.editGroupController.background.onlyName,callback:t=>{e.$set(e.editGroupController.background,"onlyName",t)},expression:"editGroupController.background.onlyName"}})],1)],1):e._e()],1)};K._withStripped=!0;var Q=r(7700),J=r(5574),Z=r(432),ee=r.n(Z),te=r(416);const re=i.default.extend({name:"edit_group_tab_background",components:{draggable:ee(),custom_checkbox:v.A,color_picker_input:_.A,pro_label:h.A},props:{editGroupController:{type:Object,required:!0}},data(){const e=[g.sf.NONE,g.sf.COLOR,g.sf.GRADIENT,g.sf.FILE,g.sf.URL];return{radioOptions:e,selectedRadioIndex:e.indexOf(this.editGroupController.background.type),group:this.editGroupController.group,GroupBackgroundType:g.sf,GradientType:g.hq,gradientTypes:(0,G.w5)(g.hq).map((e=>({value:e,text:(0,d.tr)(`gradient_type_${e}`)}))),drag:!1,updateColorsHack:!0}},computed:{dragOptions:()=>({animation:200,group:"description",ghostClass:"drag_and_drop_ghost"})},watch:{async selectedRadioIndex(e){this.editGroupController.background.type=this.radioOptions[e],this.previewGroup()}},methods:{tr:d.tr,trType:e=>(0,d.tr)(`background_type_${e}`),addGradientColor(){const e="#"+Array(3).fill(0).map((()=>(0,J.R)(255).toString(16).padStart(2,"0"))).join("");this.editGroupController.background.gradient.colors.push(e),this.updateColors()},removeGradientColor(e){this.editGroupController.background.gradient.colors.splice(e,1),this.updateColors()},updateColors(){(0,te.$)((e=>this.updateColorsHack=!e),(()=>this.$nextTick())),this.previewGroup()},previewGroup(){this.editGroupController.previewCurrentChanges()},async imageLoaded(e){this.editGroupController.background.fileBase64=await(0,Q.G)(e),this.previewGroup()},pickerOpened(e){}},mounted(){(0,R.Q)(this.$root.$el,{type:"changeTransparency",isTransparent:!0})},beforeDestroy(){(0,R.Q)(this.$root.$el,{type:"changeTransparency",isTransparent:!1})}});const oe=(0,w.A)(re,K,[],!1,null,"a0ecc1c4",null).exports;var ae=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("v-container",{staticClass:"pa-0"},[t("div",{staticClass:"gestures"},[e._l(e.GESTURE_DIRECTIONS,(r=>t("div",{class:r},[t("v-select",{attrs:{label:e.tr("gesture_action"),"menu-props":"auto",outlined:"",dense:"",items:e.gestureActions,"hide-details":""},model:{value:e.group.gestures[r].type,callback:t=>{e.$set(e.group.gestures[r],"type",t)},expression:"group.gestures[direction].type"}}),e._v(" "),e.group.gestures[r].type===e.GestureActionType.OPEN_GROUP?t("v-select",{staticClass:"mt-4",attrs:{label:e.tro("ed_link_to_group",{column:!1}),outlined:"",dense:"",items:e.groupsSelectData,"hide-details":""},model:{value:e.group.gestures[r].groupId,callback:t=>{e.$set(e.group.gestures[r],"groupId",t)},expression:"group.gestures[direction].groupId"}}):e._e()],1))),e._v(" "),t("div",{staticClass:"middle"},[t("img",{attrs:{src:"/svg/directions.svg",draggable:"false"}})])],2)])};ae._withStripped=!0;var ie=r(9805),se=r(5772),le=r(8654),ne=r(8495);const de=i.default.extend({name:"edit_group_tab_gestures",components:{power_select:ie.A,custom_checkbox:v.A,color_picker_input:_.A,pro_label:h.A},props:{editGroupController:{type:Object,required:!0}},data(){return{GESTURE_DIRECTIONS:le.x,GestureActionType:k.EM,group:this.editGroupController.group,gestureActions:(0,G.w5)(k.EM).map((e=>({value:e,text:(0,d.tr)(`gesture_action_${e}`)+(e===k.EM.OPEN_GROUP?"...":"")}))),groupsSelectData:y.M.GROUPS.filter((e=>e.id!==this.editGroupController.groupId)).sort((0,se.s)("archived")).map((e=>({text:e.name,value:e.id})))}},computed:{},watch:{},methods:{tr:d.tr,tro:ne.e,trType:e=>(0,d.tr)(`gesture_action_${e}`),previewGroup(){this.editGroupController.previewCurrentChanges()}}});const pe=(0,w.A)(de,ae,[],!1,null,"72763f7a",null).exports;var ue=r(7969),ce=r(3120);const ve=i.default.extend({name:"edit_group",props:{ediGroupData:{type:Object,required:!0},targetTab:{type:String,required:!0}},components:{edit_group_tab_gestures:pe,edit_group_tab_background:oe,edit_group_tab_top_sites:j,Draggable_top:ce.A,dark_theme_switch:n.A,edit_group_tab_general:T,pro_label:h.A,edit_group_tab_visual:$,edit_group_tab_settings:W},data(){return E.KY.addOnChangeListener((()=>this.$forceUpdate())),{editGroupController:new u.e(this.ediGroupData.group.id,this.ediGroupData.isNewGroup),tabs:[{tab:g.tR.General,name:(0,d.tr)("ed_tab_general"),icon:"fa-edit"},{tab:g.tR.Visual,name:(0,d.tr)("ed_tab_visual"),icon:"fa-palette"},{tab:g.tR.Background,name:(0,d.tr)("o_tab_background"),icon:"fa-image"},{tab:g.tR.Settings,name:(0,d.tr)("ed_tab_settings"),icon:"fa-cogs"},...X.Jk&&(this.ediGroupData?.group.topSites||this.ediGroupData?.isNewGroup&&y.M.GROUPS.every((e=>!e.topSites)))?[{tab:g.tR.TopSites,name:(0,d.tr)("ed_tab_top_sites"),icon:"fa-solid fa-list"}]:[]],drag:!1,ActiveTab:g.tR,activeTab:g.tR.General,actionsModel:!0,drawer:!0,mobileBreakpoint:790,tr:d.tr}},async created(){this.targetTab&&(this.activeTab=this.targetTab),b.m0&&(this.mobileBreakpoint=1280),await E.j_,(0,R.Q)(this.$el,{type:"addOnCloseHandler",callback:(0,ue.o)(this,this.discardChanges)})},computed:{OPTIONS:()=>E.lw},watch:{},methods:{async openInNewTab(){(0,p.K)(window.location.href,{active:!0,inNewTab:!0,nextToCurrent:!0})},async saveChanges(){this.editGroupController.errorMessage&&(this.activeTab=g.tR.General),await this.editGroupController.saveGroup(),this.closeEditor()},async discardChanges(){this.editGroupController.discardChanges(),this.closeEditor()},closeEditor(){(0,R.Q)(this.$el,{type:"removeOnCloseHandler",callback:(0,ue.o)(this,this.discardChanges)}),(0,R.Q)(this.$el,{type:"close"})},maximizeEditor(){(0,R.Q)(this.$el,{type:"maximize"})}}});const _e=(0,w.A)(ve,l,[],!1,null,null,null).exports;async function ge(e,{isNewGroup:t=!1,targetTab:r=g.tR.General}){const l=y.M.groupById(e).clone();if(await l.isUnlocked()||await y.M.masterKeyVault.unlockIfNeeded())return await o.e.activate(l.id),new Promise((async e=>{const o=(0,a.Q)(document.createElement("div"),{width:1e3,height:730,overlayBackground:"#00000022",onClose(){n.$destroy(),e()}}),n=new i.default({el:o.node,vuetify:(await(0,s.X)())(),render:e=>{const o=e(_e,{props:{targetTab:r,ediGroupData:{group:l,isNewGroup:t}}});return Promise.resolve().then((()=>{o.componentInstance})),o}})}))}},9378:(e,t,r)=>{r.d(t,{G:()=>i});var o=r(910),a=r(4323);const i=new o.F("auto_open_group_after_pwd_unlock",a.s6)},5750:(e,t,r)=>{r.d(t,{n:()=>i,w:()=>s});var o=r(6683),a=r(303);function i(e){const t=e.colors.toReversed().join(",");switch(e.type){case o.hq.radialCircle:return`radial-gradient(circle, ${t})`;case o.hq.radialEllipse:return`radial-gradient(ellipse, ${t})`;case o.hq.linear:return`linear-gradient(${e.degree}deg, ${t})`;default:return"black"}}function s(e){const t=(()=>{switch(!0){case e.startsWith("linear-gradient("):return o.hq.linear;case e.startsWith("radial-gradient(circle"):return o.hq.radialCircle;case e.startsWith("radial-gradient(ellipse"):default:return o.hq.radialEllipse}})(),r=parseInt(e.match(new RegExp(String.raw`(\d+)deg`,"i"))?.at(1))??180;return{type:t,colors:(e.match(new RegExp(String.raw`#[0-9a-f]+|rgba?\(\d+,\s?\d+,\s?\d+(,\s?\d+)?\)`,"gi"))||["#ffa142","#420000"]).map((e=>e.startsWith("rgb")?(0,a.H)(e):e)).reverse(),degree:r}}},1368:(e,t,r)=>{r.d(t,{A:()=>s});var o=function(){var e=this,t=e._self._c;return t("v-slider",{staticClass:"my-2",attrs:{value:e.value??e.defaultValue,min:e.min,max:e.max,label:e.tr(e.label,e.label_param),disabled:e.disabled||!e.enabled,step:e.step,"thumb-label":"","hide-details":""},on:{input:e.emitValue},scopedSlots:e._u([{key:"prepend",fn:()=>[e.optional?t("v-checkbox",{staticClass:"mt-0 pt-0",attrs:{"hide-details":"",title:e.tr(e.enabled?"o_enabled":"o_disabled")},on:{change:t=>e.emitValue(e.enabled?e.defaultValue:void 0)},model:{value:e.enabled,callback:t=>{e.enabled=t},expression:"enabled"}}):e._e()],proxy:!0},{key:"append",fn:()=>[t("label",{staticClass:"nowrap text--secondary",attrs:{title:`${e.value} ${e.unitsTittle}`}},[e._v(e._s(e.value)+" "+e._s(e.unitsLabel))]),e._v(" "),t("v-btn",{directives:[{name:"tr",rawName:"v-tr:title",value:["field_set_default",e.defaultValue+e.unitsLabel],expression:"['field_set_default', defaultValue + unitsLabel]",arg:"title"}],staticClass:"ml-2 text--secondary",attrs:{"x-small":"",icon:"",right:"",disabled:e.disabled||!e.enabled},on:{click:t=>e.emitValue(e.defaultValue)}},[t("v-icon",[e._v("fa-rotate-left")])],1)],proxy:!0}])})};o._withStripped=!0;var a=r(4590);const i={name:"slider",props:{value:{type:Number,required:!1},label:{type:String,required:!0},label_param:{type:String},defaultValue:{type:Number,required:!0},min:{type:Number,required:!0},max:{type:Number,required:!0},disabled:{type:Boolean,default:!1},step:{type:Number,default:1},units:{type:String,default:""},unitsTitle:{type:String,default:""},optional:{type:Boolean,default:!1}},data(){return{enabled:Number.isInteger(this.value)}},computed:{unitsLabel(){return this.units.length<=1?this.units:(0,a.tr)(this.units)},unitsTittle(){return this.unitsTitle?(0,a.tr)(this.unitsTitle):this.unitsLabel}},methods:{tr:a.tr,emitValue(e){this.$emit("input",e),this.$emit("change",e)}}};const s=(0,r(4486).A)(i,o,[],!1,null,"453c9111",null).exports}}]);
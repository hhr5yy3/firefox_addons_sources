export const clickTheSkip=()=>{let e=document.querySelector(".ytp-ad-skip-button,.ytp-ad-skip-button-modern,.ytp-skip-ad,#skip-ad");e&&(e.click(),window.useLogging&&console.log("Clicked skip button"));let o=document.getElementsByClassName("ytp-ad-overlay-close-container");o.length>0&&(o[0].click(),window.useLogging&&console.log("Clicked close button"))};export function skipToTheEnd(){const e=document.querySelectorAll(".ad-showing")[0]||document.querySelector(".ytp-ad-text.ytp-ad-preview-text")||document.querySelector("ytp-ad-preview-container"),o=document.querySelector("video");if(null!=e&&null!=o){window.useLogging&&console.log("Skipping to the end of the video",e),o.muted=!0;try{let e=Math.floor(o.duration-.5);(isNaN(e)||e<0||!isFinite(e))&&(e=o.duration),o.currentTime=e}catch(e){window.useLogging&&console.log("Error while skipping to the end of the video",e)}o.playbackRate=10,o.paused&&o.play()}}export function removeKnownAds(){const e=[{tag:".ytd-ad-slot-renderer",remove:!0,refresh:!1},{tag:"ytd-ad-slot-renderer",remove:!0,refresh:!1},{tag:".ytp-speedmaster-overlay",remove:!0,refresh:!1},{tag:"#masthead-ad",remove:!0,refresh:!1},{tag:"#player-ads",remove:!0,refresh:!1},{tag:"ytp-ad-persistent-progress-bar-container",remove:!0,refresh:!1},{tag:"ytd-enforcement-message-view-model",remove:!0,refresh:!1},{tag:"tp-yt-iron-overlay-backdrop",remove:!0,refresh:!1,addClasses:["opened"],removeClasses:["closed"]},{tag:"#movie_player",remove:!1,refresh:!1,addClasses:["ad-created","playing-mode"],removeClasses:["ad-interrupting","ytp-hide-controls","ytp-ad-display-override","ended-mode","unstarted-mode","paused-mode"]}];for(const o of e){let e=document.querySelectorAll(o.tag);0!==e.length&&(o.remove&&(window.useLogging&&console.log("Removing: ",o.tag),e.forEach((e=>e.remove()))),o.removeClasses&&e.forEach((e=>e.classList.remove(...o.removeClasses))),o.addClasses&&e.forEach((e=>e.classList.add(...o.addClasses))),o.refresh&&(window.useLogging&&console.log("Refreshing: ",o.tag),window.location.reload()))}}export const trimmerMethod=()=>{const e=["ytInitialPlayerResponse.auxiliaryUi.messageRenderers.upsellDialogRenderer","auxiliaryUi.messageRenderers.upsellDialogRenderer","ytInitialPlayerResponse.adPlacements","ytInitialPlayerResponse.playerAds","ytInitialPlayerResponse.adSlots","playerResponse.adPlacements"],o=function(e,t){for(;;){if("object"!=typeof e||null===e)return!1;const r=t.indexOf(".");if(-1===r){if("*"===t)for(const o in e)!1!==Object.hasOwn(e,o)&&(window.useLogging&&console.log("Deleting key",o,e[o]),delete e[o]);else Object.hasOwn(e,t)&&(window.useLogging&&console.log("Deleting element",t,e[t]),delete e[t]);return!0}const s=t.slice(0,r);if("[]"===s&&Array.isArray(e)||"*"===s&&e instanceof Object){const s=t.slice(r+1);let n=!1;for(const t of Object.keys(e))if(n=o(e[t],s),n)break;return n}if(!1===Object.hasOwn(e,s))return!1;e=e[s],t=t.slice(r+1)}},t=function(t){for(const r of e)o(t,r);return t};JSON.parse=new Proxy(JSON.parse,{apply:function(){return t(Reflect.apply(...arguments))}}),Response.prototype.json=new Proxy(Response.prototype.json,{apply:function(){return Reflect.apply(...arguments).then((e=>t(e)))}}),window.useLogging&&console.log("Trimmer initialized")};
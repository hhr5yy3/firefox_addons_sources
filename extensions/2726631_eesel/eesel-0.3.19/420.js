(globalThis.webpackChunk_eesel_app=globalThis.webpackChunk_eesel_app||[]).push([[420],{79741:(e,t,r)=>{var n=r(94182).w_;e.exports.b=function(e){return n({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"path",attr:{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"}}]})(e)}},34282:(e,t,r)=>{var n=r(94182).w_;e.exports.Y=function(e){return n({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"}},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"}},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"}}]})(e)}},83226:(e,t)=>{"use strict";t.E=void 0,t.E=e=>{try{const{hostname:t,protocol:r}=new URL(e);return"https:"===r&&"chrome.google.com"!==t}catch(e){return!1}}},68833:(e,t,r)=>{"use strict";r.d(t,{a:()=>l});var n=r(3974),a=r(30130),o=r(41473);const l=e=>{var{children:t,optional:r}=e,l=(0,n.__rest)(e,["children","optional"]);return a.createElement(o.x.span,Object.assign({display:{_:r?"none":"inline",sm:"inline"},fontWeight:"normal",overflow:"hidden",paddingLeft:"0.5rem",textAlign:"left",textOverflow:"ellipsis"},l),t)}},65125:(e,t,r)=>{"use strict";r.d(t,{s:()=>s});var n=r(3974),a=r(30130),o=r(34282),l=r(44235),c=r(68833);const i=(0,r(35313).I)(o.Y),s=a.forwardRef(((e,t)=>{var{children:r}=e,o=(0,n.__rest)(e,["children"]);return a.createElement(l.z,Object.assign({color:"danger",ref:t},o),a.createElement(i,null),a.createElement(c.a,null,r))}))},37696:(e,t,r)=>{"use strict";r.d(t,{D:()=>c});var n=r(3974),a=r(30130),o=r(44235),l=r(68833);const c=a.forwardRef(((e,t)=>{var{children:r}=e,c=(0,n.__rest)(e,["children"]);return a.createElement(o.z,Object.assign({ref:t},c),a.createElement(l.a,{style:{padding:0}},r))}))},96341:(e,t,r)=>{"use strict";r.d(t,{J:()=>s});var n=r(3974),a=r(30130),o=r(21178),l=r(44235),c=r(68833);const i=a.forwardRef(((e,t)=>{var{children:r}=e,o=(0,n.__rest)(e,["children"]);return a.createElement(l.z,Object.assign({color:"text",ref:t},o),a.createElement(c.a,null,r))})),s=a.forwardRef(((e,t)=>{var{onClick:r}=e,l=(0,n.__rest)(e,["onClick"]);const{resetForm:c}=(0,o.useFormikContext)(),s=a.useCallback((e=>{c(),r&&r(e)}),[r,c]);return a.createElement(i,Object.assign({onClick:s,ref:t},l))}))},45860:(e,t,r)=>{"use strict";r.d(t,{$:()=>n});const n=r(21743).default.div`
  align-items: flex-start;
  display: flex;
  flex-direction: column;
  flex-grow: 1;
  padding: 1.5rem;

  > * {
    width: 100%;
  }

  > * + * {
    margin-top: 0.5rem;
  }
`},52915:(e,t,r)=>{"use strict";r.d(t,{l:()=>n});const n=r(21743).default.label`
  align-items: center;
  display: flex;
`},19580:(e,t,r)=>{"use strict";r.d(t,{p:()=>n});const n=r(21743).default.div`
  display: flex;
  margin: -1.5rem;
`},27848:(e,t,r)=>{"use strict";r.d(t,{r:()=>d});var n=r(3974),a=r(30130),o=r(41473);const l=a.forwardRef(((e,t)=>a.createElement(o.x.a,Object.assign({appearance:"none",border:"none",borderRadius:"0.25rem",cursor:{_:"pointer",disabled:"default"},display:"inline-block",outline:"none",px:"1rem",py:"0.5rem",ref:t,textDecoration:"none",transitionDuration:(window.navigator.webdriver?1:128)+"ms",transitionProperty:"background-color, color",transitionTimingFunction:"ease; "},e)))),c=a.forwardRef(((e,t)=>{var{color:r="primary"}=e,o=(0,n.__rest)(e,["color"]);const c=Object.assign(Object.assign(Object.assign(Object.assign({backgroundColor:"transparent",borderStyle:"solid",borderWidth:"1px"},"primary"===r?{borderColor:"primary",color:"primary"}:{}),"danger"===r?{borderColor:"error",color:"error"}:{}),"text"===r?{borderColor:"onBG",color:"onBG"}:{}),"white"===r?{borderColor:"onBG03",color:"onBG03"}:{});return a.createElement(l,Object.assign({ref:t},c,o))})),i=a.forwardRef(((e,t)=>{var{color:r="primary"}=e,o=(0,n.__rest)(e,["color"]);const c=Object.assign(Object.assign(Object.assign({},"primary"===r?{backgroundColor:"primary",color:"onPrimary"}:{}),"danger"===r?{backgroundColor:"error",color:"onError"}:{}),"text"===r?{backgroundColor:"bg03",color:"onBG03"}:{});return a.createElement(l,Object.assign({ref:t},c,o))})),s=a.forwardRef(((e,t)=>{var{color:r="primary",underlined:o}=e,c=(0,n.__rest)(e,["color","underlined"]);const i=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({backgroundColor:"transparent",padding:0},o?{borderRadius:0,margin:"-0.5rem"}:{}),"primary"===r?{borderColor:"primary",color:"primary"}:{}),"danger"===r?{borderColor:"error",color:"error"}:{}),"text"===r?{borderColor:"bg03",color:"bg03"}:{}),"white"===r?{borderColor:"bg",color:"bg"}:{});return a.createElement(l,Object.assign({ref:t},i,c))})),d=a.forwardRef(((e,t)=>{var{shape:r}=e,o=(0,n.__rest)(e,["shape"]);switch(r){case"bordered":return a.createElement(c,Object.assign({},o,{ref:t}));case"icon":return a.createElement(s,Object.assign({border:"none",borderRadius:"0.25rem",padding:"0.5rem"},o,{ref:t}));case"plain":return a.createElement(i,Object.assign({},o,{ref:t}));default:return a.createElement(s,Object.assign({},o,{ref:t}))}}))},47484:(e,t,r)=>{"use strict";r.d(t,{t:()=>m});var n=r(3974),a=r(30130),o=r(21743),l=r(79741),c=r(27848),i=r(68833);const s=(0,r(35313).I)(l.b),d=(0,o.default)(c.r)`
  align-items: center;
  display: flex;
  overflow: hidden;
  white-space: nowrap;
`,m=a.forwardRef(((e,t)=>{var{children:r}=e,o=(0,n.__rest)(e,["children"]);return a.createElement(d,Object.assign({color:"primary",ref:t,style:{alignItems:"center",display:"flex"}},o),a.createElement(s,null),a.createElement(i.a,{optional:!0},r))}))},57334:(e,t,r)=>{"use strict";r.d(t,{V:()=>S});var n=r(3974),a=r(30130),o=r(21743),l=r(21178),c=r(54221),i=r(63791),s=r(83226),d=r(12530),m=r(48248);const u=o.default.div`
  align-items: center;
  border-radius: 0.25rem;
  border-style: solid;
  border-width: 1px;
  display: inline-flex;
  font-size: 3;
  height: 1.5rem;
  padding: 0.125rem;
  position: relative;
  transition-duration: ${window.navigator.webdriver?1:300}ms;
  transition-property: border-color;
  transition-timing-function: ease;
  width: 3rem;

  ${e=>e.focused?o.css`
          border-color: onBGSubtle;
        `:o.css`
          border-color: border;
        `}

  ${e=>e.checked&&!e.disabled?o.css`
          background-color: primary;
          color: white;
        `:o.css`
          background-color: bg02;
          color: onBGSubtle;
        `}
`,g=o.default.input`
  cursor: pointer;
  height: 100%;
  left: 0;
  opacity: 0;
  position: absolute;
  top: 0;
  width: 100%;
`,b=o.default.div`
  background-color: white;
  border-radius: 0.25rem;
  box-shadow: 0px 1px 2px rgba(0, 0, 0, 0.16);
  height: 1rem;
  margin: 0.125rem;
  transition-duration: ${window.navigator.webdriver?1:300}ms;
  transition-property: transform;
  transition-timing-function: ease;
  width: 1rem;

  ${e=>e.checked?o.css`
          transform: translateX(-1.25rem);
        `:null}
`,p=o.default.span`
  flex-grow: 1;
  padding: 0.125rem;
  text-align: center;

  ${e=>e.checked?o.css`
          transform: translateX(1.25rem);
        `:null}
`,f=a.forwardRef(((e,t)=>{var{checked:r,className:o,onBlur:l,onChange:c,onFocus:i,style:s}=e,d=(0,n.__rest)(e,["checked","className","onBlur","onChange","onFocus","style"]);const[m,f]=a.useState((()=>r||!1)),[h,E]=a.useState(!1);a.useEffect((()=>{"boolean"==typeof r&&f(r)}),[r]);const w=a.useCallback((e=>{E(!1),l&&l(e)}),[l]),v=a.useCallback((e=>{f(e.target.checked),c&&c(e)}),[c]),x=a.useCallback((e=>{E(!0),i&&i(e)}),[i]);return a.createElement(u,{checked:m,className:o,focused:h,style:Object.assign({width:"auto"},s)},a.createElement(p,{checked:m},m?"on":"off"),a.createElement(b,{checked:m}),a.createElement(g,Object.assign({checked:m,onBlur:w,onChange:v,onFocus:x,ref:t,type:"checkbox"},d)))}));var h=r(19580),E=r(45860),w=r(52915);const v=o.default.div`
  color: onBGSubtle;
  font-size: 0.875rem;
  padding: 0.5rem 0;
`;var x=r(96341),y=r(47484),k=r(65125),j=r(37696),O=r(96264),C=r(85163),_=r(82450),R=r(75733),B=r(86014);const F=o.default.div`
  position: relative;

  &::before {
    align-items: center;
    content: '/';
    display: flex;
    height: 100%;
    left: 0.5rem;
    pointer-events: none;
    position: absolute;
    top: 0;
  }
`,S=({initialValues:e,onRemoveClick:t,onSubmit:r,submitError:o})=>{const u=a.useMemo((()=>e?Object.assign(Object.assign({},e),{codeEnabled:Boolean(e.code)}):{code:"",codeEnabled:!1,id:"",name:"",url:""}),[e]),[g,b]=a.useState((()=>o||null)),[p,S]=a.useState(!1),$=a.useCallback((async e=>{var{codeEnabled:t}=e,a=(0,n.__rest)(e,["codeEnabled"]);b(null);try{r&&await r(t?a:Object.assign(Object.assign({},a),{code:""}))}catch(e){(0,d.H)(e),b(new Error(e.message.includes("Unable to add key to index 'name'")?"A command already exists with the provided name.":"An unexpected error has occured. Please try again."))}}),[r]),G=a.useCallback((async e=>{if(b(null),t){S(!0);try{await t(e)}catch(e){(0,d.H)(e),b(new Error("An unexpected error has occured. Please try again.")),S(!1)}}}),[t]),V=a.useCallback((e=>{const t={};return e.name.trim()?e.name.length>255&&(t.name="name's length cannot be over 255 characters"):t.name="name cannot be empty",e.url.trim()?(0,s.E)(e.url)||(t.url="url name is invalid"):t.url="url name cannot be empty",t}),[]);return a.createElement(l.Formik,{enableReinitialize:!0,initialValues:u,onSubmit:$,validate:V},(({dirty:e,isSubmitting:t,isValid:r,values:n})=>a.createElement(O.l,{name:"settings-command"},a.createElement(C.V,null,g&&a.createElement(h.p,null,a.createElement(E.$,null,a.createElement(m.b,{color:"danger"},g.message))),a.createElement(h.p,null,a.createElement(E.$,null,a.createElement(w.l,null,"Command:"),a.createElement(F,null,a.createElement(l.Field,{name:"name"},(({field:e,meta:{error:t,touched:r}})=>a.createElement(c.Input,Object.assign({focused:!0,invalid:Boolean(t)&&r,paddingLeft:"1rem",placeholder:"label",w:"100%"},e))))),a.createElement(v,null,"This is what you'll type to execute the command. Don't worry about adding parameters, you'll define that below. For example, we can make a command like '/define'."))),a.createElement(h.p,null,a.createElement(E.$,null,a.createElement(w.l,null,"Page to open:"),a.createElement(l.Field,{name:"url"},(({field:e,meta:{error:t,touched:r}})=>a.createElement(c.Input,Object.assign({invalid:Boolean(t)&&r,placeholder:"URL"},e)))),a.createElement(v,null,"The page the command will open. Add parameters to change parts of the url when you execute the command. For example, 'https://wwww.dictionary.com/browse/{word}' takes in a parameter called 'word'."))),a.createElement(h.p,null,a.createElement(E.$,null,a.createElement(w.l,null,"Advanced actions"),a.createElement("div",null,a.createElement(l.Field,{name:"codeEnabled",type:"checkbox"},(({field:e})=>a.createElement(f,Object.assign({style:{marginRight:"1em"}},e)))),"Execute Javascript on the page to automatically click buttons, fill fields and more."),n.codeEnabled&&a.createElement(l.Field,{name:"code"},(({field:e,meta:{error:t,touched:r}})=>a.createElement(i.TextArea,Object.assign({invalid:Boolean(t)&&r,placeholder:"Insert javascript code to execute...",rows:4},e)))))),!!n.id&&a.createElement(h.p,null,a.createElement(E.$,null,a.createElement(R.N,null,(e=>a.createElement(k.s,Object.assign({},e,{"aria-label":"remove command",disabled:p||t,onClick:G,shape:"text",w:"auto"}),"Remove command")))))),a.createElement(_.G,{style:{justifyContent:"space-between"}},a.createElement(R.N,null,(e=>a.createElement(y.t,Object.assign({},e,{href:"https://intercom.help/eesel/en/articles/4790564-the-ultimate-guide-to-commands",shape:"text",target:"_blank"}),"How to create commands"))),a.createElement(B.Y,null,e&&a.createElement(a.Fragment,null,a.createElement(R.N,null,(e=>a.createElement(x.J,Object.assign({disabled:p||t,shape:"text"},e),"Cancel"))),a.createElement(j.D,{color:"text",disabled:p||t||!r,opacity:{disabled:"0.5"},type:"submit"},"Save command")))))))}},36324:(e,t,r)=>{"use strict";r.d(t,{Dx:()=>u,VY:()=>g,xE:()=>m});var n=r(3974),a=r(30130),o=r(21743),l=r(14289),c=r(41473),i=r(11930),s=r(44235);const d=(0,r(35313).I)(l.FiChevronLeft),m=a.forwardRef(((e,t)=>a.createElement(s.z,Object.assign({alignItems:"center",color:"text",display:"flex",ml:"-0.5rem",ref:t,shape:"icon"},e),a.createElement(d,null)))),u=a.forwardRef(((e,t)=>{var{variant:r="centered"}=e,o=(0,n.__rest)(e,["variant"]);const l=Object.assign(Object.assign({flexGrow:1,fontSize:"1rem",fontWeight:600,margin:"0px 1rem 0px 0.5rem"},"centered"===r?{textAlign:"center"}:{}),"left"===r?{textAlign:"left"}:{});return a.createElement(c.x.h2,Object.assign({ref:t},l,o))})),g=(0,o.default)(i.VY)`
  flex-grow: 1;
  overflow-y: auto;
`},96264:(e,t,r)=>{"use strict";r.d(t,{l:()=>a});var n=r(21178);const a=(0,r(21743).default)(n.Form)`
  display: flex;
  flex-direction: column;
  height: 100%;
`},85163:(e,t,r)=>{"use strict";r.d(t,{V:()=>n});const n=r(21743).default.div`
  flex-grow: 1;
  overflow-y: auto;
  overflow-x: hidden;
  width: 100%;
`},82450:(e,t,r)=>{"use strict";r.d(t,{G:()=>n});const n=r(21743).default.div`
  align-items: center;
  display: flex;
  min-height: 4rem;
  width: 100%;

  > * + * {
    margin-left: 3;
  }
`},75733:(e,t,r)=>{"use strict";r.d(t,{N:()=>n});const n=({children:e})=>e({px:"0px"})},86014:(e,t,r)=>{"use strict";r.d(t,{Y:()=>n});const n=r(21743).default.div`
  align-items: center;
  display: flex;

  > button + button {
    margin-left: 3;
  }
`}}]);
"use strict";(self.webpackChunkchrome_extension=self.webpackChunkchrome_extension||[]).push([[50,75],{41522:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=n(15277);Object.defineProperty(t,"getProductData",{enumerable:!0,get:function(){return r.getProductData}});var i=n(81952);Object.defineProperty(t,"parsePriceAmountAndCurrency",{enumerable:!0,get:function(){return i.parsePriceAmountAndCurrency}})},4596:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.getAmazonProductData=void 0;var o=n(15277),a=n(68766),u=n(5834),c=n(81952),s=n(47604);function l(e,t){return r(this,void 0,void 0,(function(){var n,r,o,c,l,f;return i(this,(function(i){switch(i.label){case 0:return[4,a.wrapPrimitive(u.dataExtractionPrimitivesMap.getElementsAttributesByTagName)(e,"meta",[s.MetaTagAttribute.property,s.MetaTagAttribute.content])];case 1:if(!(n=i.sent()))return[2];for(r=0,o=n;r<o.length;r++)if(c=o[r],l=c[s.MetaTagAttribute.property],f=c[s.MetaTagAttribute.content],l===s.MetaTagType.ogTitle&&f)return t.name=f,[2];return[2]}}))}))}function f(e,t){var n;return r(this,void 0,void 0,(function(){var r,o,c,s,l;return i(this,(function(i){switch(i.label){case 0:return"mobileApp"===e.platform||"browserExtension"===e.platform&&e.isOnMobileScreen?[4,a.wrapPrimitive(u.dataExtractionPrimitivesMap.getElementAttributesById)(e,"main-image",["src"])]:[3,2];case 1:return(null==(r=i.sent())?void 0:r.src)&&(t.imageUrl=r.src),[3,5];case 2:return[4,a.wrapPrimitive(u.dataExtractionPrimitivesMap.findElementAndExtractData)(e,[{type:"getElementById",elementId:"imgTagWrapperId"},{type:"getFirstChildElementWithTargetAttribute",targetAttributeName:"src"}],{attributeNamesToExtract:["src"],shouldExtractInnerHtml:!1})];case 3:return o=i.sent(),(c=null===(n=null==o?void 0:o.attributes)||void 0===n?void 0:n.src)&&"string"==typeof c&&(t.imageUrl=c),t.imageUrl?[3,5]:[4,a.wrapPrimitive(u.dataExtractionPrimitivesMap.getElementsAttributesAndComputedStyleBySelector)(e,'[class*="a-dynamic-image image-stretch-vertical frontImage"], [class*="a-dynamic-image image-stretch-horizontal frontImage"], [class*="a-dynamic-image frontImage"]',["src"],[],!1)];case 4:(null==(s=i.sent())?void 0:s.length)&&(l=s[0].attributes.src)&&"string"==typeof l&&(t.imageUrl=l),i.label=5;case 5:return[2]}}))}))}function m(e,t){var n,o;return r(this,void 0,void 0,(function(){var r,s,l,f,m,p,d,h;return i(this,(function(i){switch(i.label){case 0:return[4,a.wrapPrimitive(u.dataExtractionPrimitivesMap.findElementAndExtractData)(e,[{type:"getElementById",elementId:"tp_price_block_total_price_ww"},{type:"getElementsByClassName",className:"a-offscreen"},{type:"getArrayElementByIndex",index:0}],{attributeNamesToExtract:["textContent"],shouldExtractInnerHtml:!1})];case 1:return r=i.sent(),(s=null===(n=null==r?void 0:r.attributes)||void 0===n?void 0:n.textContent)&&"string"==typeof s&&(l=c.parsePriceAmountAndCurrency(s),d=l.priceAmount,h=l.priceCurrency,d&&(t.priceAmount=d),h&&(t.priceCurrency=h)),t.priceAmount&&t.priceCurrency?[3,3]:[4,a.wrapPrimitive(u.dataExtractionPrimitivesMap.findElementAndExtractData)(e,[{type:"getElementsBySelector",selector:'[id="kindle-price"], [id="priceblock_ourprice"]'},{type:"getArrayElementByIndex",index:0}],{attributeNamesToExtract:["textContent"],shouldExtractInnerHtml:!1})];case 2:f=i.sent(),(m=null===(o=null==f?void 0:f.attributes)||void 0===o?void 0:o.textContent)&&"string"==typeof m&&(p=c.parsePriceAmountAndCurrency(m),d=p.priceAmount,h=p.priceCurrency,d&&(t.priceAmount=d),h&&(t.priceCurrency=h)),i.label=3;case 3:return[2]}}))}))}t.getAmazonProductData=function(e){return r(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return[4,o.buildDefaultProductData(e)];case 1:return t=n.sent(),[4,l(e,t)];case 2:return n.sent(),[4,f(e,t)];case 3:return n.sent(),[4,m(e,t)];case 4:return n.sent(),[2,t]}}))}))}},71754:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.checkIsElementVisibleInViewPort=t.getProcessedText=t.fillProductDataFromCustomHeuristics=void 0;var o=n(21392),a=n(68766),u=n(5834),c=n(81952),s=["ebay","footlocker","sephora","claudiepierlot"],l=["shein","aliexpress","boohooman","notino"],f=["zalando-prive"];t.fillProductDataFromCustomHeuristics=function(e,t,n,a,u){return r(this,void 0,void 0,(function(){var r,c,m,p,d;return i(this,(function(i){switch(i.label){case 0:return r=!!u&&s.includes(u),c=!!u&&f.includes(u),m=(!n.imageUrl||r)&&!c,p=!!u&&l.includes(u),(d=!n.priceAmount||!n.priceCurrency||p)||m?void 0!==a?[3,2]:[4,o.checkIsProductPage(e,t)]:[2];case 1:a=i.sent(),i.label=2;case 2:return a?d?[4,g(e,n,u,p)]:[3,4]:[3,6];case 3:i.sent(),i.label=4;case 4:return m?[4,P(e,n,r)]:[3,6];case 5:i.sent(),i.label=6;case 6:return[2]}}))}))};var m="[itemprop*=price], [class*=price], [class*=Price], [class*=c-price__item], [class*=product-price]",p="[itemprop*=priceCurrency]",d="span,div,ins,td",h=["innerText"],y=["isCrossedOut","boundingRectangle"];function g(e,t,n,o){return r(this,void 0,void 0,(function(){var r,c,s,l;return i(this,(function(i){switch(i.label){case 0:return"ebay"!==n?[3,2]:[4,v(e,t)];case 1:return i.sent(),[2];case 2:return[4,a.wrapPrimitive(u.dataExtractionPrimitivesMap.getElementsAttributesAndComputedStyleBySelector)(e,m,h,y,!1)];case 3:return r=i.sent(),[4,b(e,t,r,o)];case 4:return c=i.sent(),o&&c||!o&&t.priceAmount&&t.priceCurrency?[2]:[4,a.wrapPrimitive(u.dataExtractionPrimitivesMap.getElementsAttributesAndComputedStyleBySelector)(e,d,h,y,!1)];case 5:return s=i.sent(),[4,b(e,t,s,o)];case 6:return i.sent(),!t.priceAmount||t.priceCurrency?[3,9]:[4,a.wrapPrimitive(u.dataExtractionPrimitivesMap.getElementsAttributesAndComputedStyleBySelector)(e,p,h,y,!1)];case 7:return l=i.sent(),[4,b(e,t,l,o)];case 8:i.sent(),i.label=9;case 9:return[2]}}))}))}function v(e,t){return r(this,void 0,void 0,(function(){var n,r,o,s,l;return i(this,(function(i){switch(i.label){case 0:return[4,a.wrapPrimitive(u.dataExtractionPrimitivesMap.getElementAttributesBySelector)(e,"[itemprop*=price]:nth-child(1)",["texContent"])];case 1:return n=i.sent(),r=null==n?void 0:n.textContent,o=c.parsePriceAmountAndCurrency(r),s=o.priceAmount,l=o.priceCurrency,s&&(t.priceAmount=s),l&&(t.priceCurrency=l),[2]}}))}))}function b(e,t,n,o){return r(this,void 0,void 0,(function(){var a,u,s,l,f,m=this;return i(this,(function(p){switch(p.label){case 0:if(!n)return[2,!1];a=function(n){var a,u,s,l,f,p,d,h,y,g,v,b;return i(this,(function(P){switch(P.label){case 0:return a=w(n.attributes.innerText),u=new RegExp("[€$£]","g"),s=a&&a.match(u)||[],l=s.length,f=n.computedStyleProperties.isCrossedOut,p=function(){return r(m,void 0,void 0,(function(){var t;return i(this,(function(r){switch(r.label){case 0:return(t="hidden"!==n.computedStyleProperties.visibility)?[4,E(e,n.computedStyleProperties.boundingRectangle)]:[3,2];case 1:t=r.sent(),r.label=2;case 2:return[2,t]}}))}))},d=(x=a)?x.replace(/[^a-zA-Z]/g,""):void 0,(y=!!a&&a.length<15&&!a.startsWith("-")&&!f)?[4,p()]:[3,2];case 1:y=P.sent(),P.label=2;case 2:return h=y&&(1===l&&!function(e){return/[a-zA-Z]/.test(e)}(a)||d&&Object.keys(c.Currency).includes(d)),h&&(g=c.parsePriceAmountAndCurrency(a),v=g.priceAmount,b=g.priceCurrency,v||b)?(!v||t.priceAmount&&!o||(t.priceAmount=v),!b||t.priceCurrency&&!o||(t.priceCurrency=b),[2,{value:!0}]):[2]}var x}))},u=0,s=n,p.label=1;case 1:return u<s.length?(l=s[u],[5,a(l)]):[3,4];case 2:if("object"==typeof(f=p.sent()))return[2,f.value];p.label=3;case 3:return u++,[3,1];case 4:return[2,!1]}}))}))}function w(e,t){if(e){var n=new RegExp(String.fromCharCode(160),"g"),r=e.replace(n," ").trim();if(r)return t&&(r=r.toLowerCase()),r}}function E(e,t){return r(this,void 0,void 0,(function(){var n,r,o,c,s,l,f,m;return i(this,(function(i){switch(i.label){case 0:return t?[4,a.wrapPrimitive(u.dataExtractionPrimitivesMap.getWindowDimensions)(e)]:[2,!1];case 1:return n=i.sent(),[4,a.wrapPrimitive(u.dataExtractionPrimitivesMap.getDocumentDimensions)(e)];case 2:return r=i.sent(),n&&r?(o=n.innerHeight||r.clientHeight,c=n.innerWidth||r.clientWidth,s=t.top>0,l=t.left>0,f=t.bottom<=2*o,m=t.right<=c,[2,s&&l&&f&&m]):[2,!1]}}))}))}function P(e,t,n){return r(this,void 0,void 0,(function(){return i(this,(function(r){switch(r.label){case 0:return[4,N(e,t)];case 1:return r.sent(),t.imageUrl&&!n?[3,3]:[4,O(e,t)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}t.getProcessedText=w,t.checkIsElementVisibleInViewPort=E;var x="[itemprop*=image]",C=["[class*=image], [class*=Image], [class^=img]","[class*=img]"],A=["tagName","src","setsrc","height","width"],S=["visibility"],T=99;function N(e,t){return r(this,void 0,void 0,(function(){var n,r,o,c,s,l,f,m;return i(this,(function(i){switch(i.label){case 0:return[4,a.wrapPrimitive(u.dataExtractionPrimitivesMap.getElementsAttributesAndComputedStyleBySelector)(e,x,A,S,!1)];case 1:if(null==(n=i.sent())?void 0:n.length)return[3,5];r=0,o=C,i.label=2;case 2:return r<o.length?(c=o[r],[4,a.wrapPrimitive(u.dataExtractionPrimitivesMap.getElementsAttributesAndComputedStyleBySelector)(e,c,A,S,!1)]):[3,5];case 3:if(null==(n=i.sent())?void 0:n.length)return[3,5];i.label=4;case 4:return r++,[3,2];case 5:if(n)for(s=0,l=n;s<l.length;s++)if("IMG"===(f=l[s]).attributes.tagName&&"visible"===f.computedStyleProperties.visibility&&parseInt(f.attributes.height)>T&&parseInt(f.attributes.width)>T)return(m=f.attributes.src||f.attributes.setsrc)&&(t.imageUrl=m),[2];return[2]}}))}))}var I="IMG";function O(e,t){return r(this,void 0,void 0,(function(){var n,r,o,c,s,l,f,m;return i(this,(function(i){switch(i.label){case 0:return[4,a.wrapPrimitive(u.dataExtractionPrimitivesMap.getElementsAttributesAndComputedStyleByTagName)(e,I,A,S)];case 1:if(!(n=i.sent()))return[2];for(r=n.map((function(e){var t=parseInt(e.attributes.height),n=parseInt(e.attributes.width);return{imageCandidate:e,area:isNaN(t*n)||"hidden"===e.computedStyleProperties.visibility?0:t*n}})),o=r.sort((function(e,t){return e.area-t.area})),c=o.map((function(e){return e.imageCandidate})),s=o.map((function(e){return e.area})),l=s.indexOf(Math.max.apply(Math,s));l>=0&&(f=parseInt(c[l].attributes.height),m=parseInt(c[l].attributes.width),!(f>=T||m>=T));)l-=1;return l>=0&&(t.imageUrl=c[l].attributes.src||c[l].attributes.setsrc),[2]}}))}))}},47604:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.fillProductDataFromMetaTagInfo=t.MetaTagType=t.MetaTagAttribute=void 0;var o,a,u=n(5834),c=n(68766);!function(e){e.property="property",e.name="name",e.itemprop="itemprop",e.content="content"}(o=t.MetaTagAttribute||(t.MetaTagAttribute={})),function(e){e.ogTitle="og:title",e.ogImage="og:image",e.ogPriceAmount="og:price:amount",e.ogPriceCurrency="og:price:currency",e.price="price",e.priceCurrency="priceCurrency",e.productPriceAmount="product:price:amount",e.productPriceCurrency="product:price:currency"}(a=t.MetaTagType||(t.MetaTagType={})),t.fillProductDataFromMetaTagInfo=function(e,t){return r(this,void 0,void 0,(function(){var n,r,s,l,f,m,p,d;return i(this,(function(i){switch(i.label){case 0:return[4,c.wrapPrimitive(u.dataExtractionPrimitivesMap.getElementsAttributesByTagName)(e,"meta",[o.property,o.name,o.itemprop,o.content])];case 1:if(!(n=i.sent()))return[2];for(r=0,s=n;r<s.length;r++)l=s[r],(f=l[o.content])&&(m=l[o.property],p=l[o.name],d=l[o.itemprop],m===a.ogTitle&&f?t.name=f:m===a.ogImage?t.imageUrl=f:p!==a.ogImage||t.imageUrl?m===a.ogPriceAmount||p===a.ogPriceAmount?t.priceAmount=Number(f):m===a.ogPriceCurrency?t.priceCurrency=f:d!==a.price||t.priceAmount?d!==a.priceCurrency||t.priceCurrency?m!==a.productPriceAmount||t.priceAmount?m!==a.productPriceCurrency||t.priceCurrency||(t.priceCurrency=f):t.priceAmount=Number(f):t.priceCurrency=f:t.priceAmount=Number(f):t.imageUrl=f);return[2]}}))}))}},15277:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.buildDefaultProductData=t.getProductData=void 0;var a=n(68766),u=n(5834),c=n(73708),s=n(5356),l=n(4596),f=n(47604),m=n(13261),p=n(71754),d=n(90263);function h(e){return i(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return t={},[4,y(e.context)];case 1:return[2,(t.productData=n.sent(),t.isDetectedAsProductPage=void 0,t)]}}))}))}function y(e){return i(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return t={},[4,a.wrapPrimitive(u.dataExtractionPrimitivesMap.getDocumentTitle)(e)];case 1:return[2,(t.name=n.sent(),t.imageUrl=void 0,t.priceAmount=void 0,t.priceCurrency=void 0,t)]}}))}))}function g(e,t,n){return i(this,void 0,void 0,(function(){var r,i,a;return o(this,(function(o){switch(o.label){case 0:return r=e.context,i=e.webpageUrl,[4,y(r)];case 1:return a=o.sent(),[4,f.fillProductDataFromMetaTagInfo(r,a)];case 2:return o.sent(),[4,m.fillProductDataFromSchemaOrgInfo(r,a,t)];case 3:return o.sent(),[4,p.fillProductDataFromCustomHeuristics(r,i,a,n,t)];case 4:return o.sent(),[2,a]}}))}))}t.getProductData=function(e){return i(this,void 0,void 0,(function(){var t,n,i,a,u,f,m;return o(this,(function(o){switch(o.label){case 0:return function(e){var t=e.webpageUrl,n=e.productDataExtractionBlacklist,r=s.getSecondLevelDomain(t),i=n.secondLevelDomains,o=n.urlRegexes;if(r&&Array.isArray(i)&&i.includes(r))return!0;if(Array.isArray(o))for(var a=0,u=o;a<u.length;a++){var c=u[a];try{if(new RegExp(c,"i").test(t))return!0}catch(e){}}return!1}(e)?[4,h(e)]:[3,2];case 1:return[2,o.sent()];case 2:return t=s.getSecondLevelDomain(e.webpageUrl),n="amazon"===t,[4,d.detectWebpageType(e,n)];case 3:return i=o.sent(),!1!==(a=i?i===d.WebpageType.product:void 0)?[3,5]:(u=[{}],[4,h(e)]);case 4:return[2,r.apply(void 0,[r.apply(void 0,u.concat([o.sent()])),{isDetectedAsProductPage:!1}])];case 5:return n?[4,l.getAmazonProductData(e.context)]:[3,7];case 6:return m=o.sent(),[3,9];case 7:return[4,g(e,t,a)];case 8:m=o.sent(),o.label=9;case 9:return function(e,t){e.name&&(e.name=c.decodeUnicodeCharacters(e.name));e.imageUrl&&(e.imageUrl=s.getAbsoluteUrl(e.imageUrl,t))}(f=m,t),[2,{isDetectedAsProductPage:a,productData:f}]}}))}))},t.buildDefaultProductData=y},13261:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.fillProductDataFromSchemaOrgInfo=void 0;var o=n(68766),a=n(5834),u=n(13680);function c(e){if("object"!=typeof e||null===e||!u.hasOwnProperty(e,"@context"))return!1;var t=e["@context"];return"string"==typeof t&&(t.startsWith("http://schema.org")||t.startsWith("https://schema.org"))}function s(e){if("object"!=typeof e||null===e||!u.hasOwnProperty(e,"@type")&&!u.hasOwnProperty(e,"offers"))return!1;var t=u.hasOwnProperty(e,"@type")?e["@type"]:void 0,n=u.hasOwnProperty(e,"offers")?e.offers:void 0;return"string"==typeof t&&"product"===t.toLowerCase()||void 0!==n}function l(e,t,n){!function(e,t,n){if(n&&f.includes(n))return;var r=t.image;if(!r)return;"string"==typeof r?e.imageUrl=r:Array.isArray(r)&&"string"==typeof r[0]&&(e.imageUrl=r[0])}(e,t,n),"string"==typeof t.name&&(e.name=t.name),function(e,t){var n=function(e){for(var t=e.offers,n=Array.isArray(t)?t:[t],r=[],i=0,o=n;i<o.length;i++){var a=o[i];if(m(a))r.push(a);else if(p(a))if(Array.isArray(a.offers))for(var u=0,c=a.offers;u<c.length;u++){var s=c[u];m(s)&&r.push(s)}else m(a.offers)&&r.push(a.offers)}return r}(t),r=n.map(d);if(!r.every((function(e){return t=e,n=r[0],t.priceAmount===n.priceAmount&&t.priceCurrency===n.priceCurrency;var t,n})))return;var i=r[0],o=i.priceAmount,a=i.priceCurrency;o&&(e.priceAmount=o);a&&(e.priceCurrency=a)}(e,t)}t.fillProductDataFromSchemaOrgInfo=function(e,t,n){return r(this,void 0,void 0,(function(){var r,f,m,p,d,v,b,w,E;return i(this,(function(i){switch(i.label){case 0:return[4,o.wrapPrimitive(a.dataExtractionPrimitivesMap.getElementsInnerHtmlByTagName)(e,"script",[{attributeName:"type",attributeValue:"application/ld+json"}])];case 1:if(!(r=i.sent()))return[2];for(f=0,m=r;f<m.length;f++){p=m[f];try{for(d=JSON.parse(p),v=Array.isArray(d)?d:[d],b=0,w=v;b<w.length;b++)c(E=w[b])&&(s(E)?l(t,E,n):h(E)?y(t,E,n):u.hasOwnProperty(E,"@graph")&&g(t,E["@graph"],n))}catch(e){}}return[2]}}))}))};var f=["cdiscount","groupon","galerieslafayette"];function m(e){return"object"==typeof e&&null!==e&&u.hasOwnProperty(e,"@type")&&"Offer"===e["@type"]}function p(e){return"object"==typeof e&&null!==e&&u.hasOwnProperty(e,"@type")&&"AggregateOffer"===e["@type"]}function d(e){var t=null,n=null,r=e.price,i=e.priceCurrency;if("number"==typeof r&&(t=r),"string"==typeof r)if(isNaN(Number(r))){var o=r.match(/([0-9]+(?:[.,][0-9]*)?)/g),a=o?Number(o[0].replace(",",".")):void 0;a&&!isNaN(a)&&(t=a)}else t=Number(r);return"string"==typeof i&&(n=i),{priceAmount:t,priceCurrency:n}}function h(e){return!("object"!=typeof e||null===e||!u.hasOwnProperty(e,"@type"))&&"WebPage"===e["@type"]}function y(e,t,n){var r=t.mainEntity;s(r)&&l(e,r,n)}function g(e,t,n){if(Array.isArray(t))for(var r=0,i=t;r<i.length;r++){var o=i[r];s(o)&&l(e,o,n)}}},13680:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.hasOwnProperty=void 0,t.hasOwnProperty=function(e,t){return e.hasOwnProperty(t)}},81952:(e,t,n)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.parsePriceAmountAndCurrency=t.CurrencySymbol=t.Currency=void 0;var i,o,a=n(85302);!function(e){e.EUR="EUR",e.GBP="GBP",e.USD="USD"}(i=t.Currency||(t.Currency={})),function(e){e.EUR="€",e.GBP="£",e.USD="$"}(o=t.CurrencySymbol||(t.CurrencySymbol={}));var u=((r={})[o.EUR]=i.EUR,r[o.GBP]=i.GBP,r[o.USD]=i.USD,r);t.parsePriceAmountAndCurrency=function(e,t){if(void 0===t&&(t=!1),!e)return{priceAmount:null,priceCurrency:null};if(""===(e=a.deburr(e.toLowerCase().trim())))return{priceAmount:null,priceCurrency:null};var n=function(e){var t=e.match(/\$|€|£|(?:eur)|(?:usd)|(?:gbp)/);if(!t)return;var n=t.index;if(void 0===n)return;var r=t[0],i=null;i=Object.values(o).some((function(e){return e===r}))?u[r]:r.toUpperCase();var a=n+r.length-1,c=0!==n&&a!==e.length-1;return{priceCurrency:i,hasInnerCurrencyToken:c,currencyMatchEndIndex:a}}(e);if(n){var r=n.hasInnerCurrencyToken,i=n.currencyMatchEndIndex;r&&!function(e,t){var n=e.slice(t+1).replace(/[,\s]/g,"");return n.length<=2}(e,i)&&(e=e.slice(0,i)),e=function(e,t){var n=t?".":"";return e.replace(/\$|€|£|(eur)|(usd)|(gbp)/g,n)}(e,r)}e=function(e){if(e.includes(".")&&e.includes(","))e=e.replace(/,/g,"");else if(e.includes(",")){var t=e.split(",").filter((function(e){return e.length>0}));e=t.length>=2&&2===t[t.length-1].length?t.slice(0,-1).join("")+"."+t[t.length-1]:t.join("")}return e}(e=function(e){var t=e.split(/\s/).filter((function(e){return e.length>0}));e=t.length>=2&&2===t[t.length-1].length?t.slice(0,-1).join("")+"."+t[t.length-1]:t.join("");return e}(e));var c=(null==n?void 0:n.priceCurrency)||null;return{priceAmount:c||t?parseFloat(e):null,priceCurrency:c}}},73708:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.decodeUnicodeCharacters=void 0;var r=n(81017);t.decodeUnicodeCharacters=function(e){var t=null;try{t=r.decode(e)}catch(e){}return t||e}},5356:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getUrlExtension=t.getAbsoluteUrl=t.getPathname=t.getSecondLevelDomain=void 0;var r=n(25920);function i(e){try{return new URL(e)}catch(t){return console.error(t),new r.URL(e)}}t.getSecondLevelDomain=function(e){try{var t=i(e).hostname.split(".");if(t.length<2)return;return t[t.length-2]}catch(e){return}},t.getPathname=function(e){try{return i(e).pathname}catch(e){return}},t.getAbsoluteUrl=function(e,t){return e.startsWith("//")?"https:"+e:e.startsWith("/")&&t?"https://"+t+e:e},t.getUrlExtension=function(e){try{return i(e).pathname.split(".").pop()}catch(e){return}}},40125:(e,t)=>{t.o=void 0,t.o={getDocumentTitle:"async function getDocumentTitle() {\n    return document.title;\n}\n",getWindowDimensions:"async function getWindowDimensions() {\n    return { innerWidth: window.innerWidth, innerHeight: window.innerHeight };\n}\n",getDocumentDimensions:"async function getDocumentDimensions() {\n    return { clientWidth: document.body.clientWidth, clientHeight: document.body.clientHeight };\n}\n",getElementAttributesById:"async function getElementAttributesById(elementId, attributeNames) {\n    const element = document.getElementById(elementId);\n    const output = {};\n    if (element)\n        for (const attributeName of attributeNames)\n            output[attributeName] = element.getAttribute(attributeName);\n    return output;\n}\n",getElementAttributesBySelector:"async function getElementAttributesBySelector(selector, attributeNames) {\n    const element = document.querySelector(selector);\n    const output = {};\n    if (element)\n        for (const attributeName of attributeNames)\n            output[attributeName] = element.getAttribute(attributeName);\n    return output;\n}\n",getElementsIdsBySelector:"async function getElementsIdsBySelector(selector) {\n    const elements = document.querySelectorAll(selector);\n    const output = [];\n    for (const element of Array.from(elements))\n        output.push(element.id);\n    return output;\n}\n",getElementsAttributesByTagName:"async function getElementsAttributesByTagName(tagName, attributeNames) {\n    const elements = document.getElementsByTagName(tagName);\n    const outputList = [];\n    for (const element of Array.from(elements)) {\n        const output = {};\n        for (const attributeName of attributeNames)\n            output[attributeName] = element.getAttribute(attributeName);\n        outputList.push(output);\n    }\n    return outputList;\n}\n",getElementsInnerHtmlByTagName:"async function getElementsInnerHtmlByTagName(tagName, attributeFilters) {\n    const elements = document.getElementsByTagName(tagName);\n    const output = [];\n    for (let elementIndex = 0; elementIndex < elements.length; elementIndex++) {\n        const element = elements[elementIndex];\n        let shouldIncludeElement = true;\n        for (const attributeFilter of attributeFilters || [])\n            if (element.getAttribute(attributeFilter.attributeName) !==\n                attributeFilter.attributeValue)\n                shouldIncludeElement = false;\n        if (shouldIncludeElement)\n            output.push(element.innerHTML);\n    }\n    return output;\n}\n",getElementsAttributesAndComputedStyleBySelector:"async function getElementsAttributesAndComputedStyleBySelector(selector, attributeNames, styleProperties, shouldUseFirstChildNodeForTextContent) {\n    function serializeDomRectangle(domRectangle) {\n        return {\n            top: domRectangle.top,\n            left: domRectangle.left,\n            bottom: domRectangle.bottom,\n            right: domRectangle.right,\n        };\n    }\n    const elements = document.querySelectorAll(selector);\n    const outputList = [];\n    for (const element of Array.from(elements)) {\n        const output = {\n            attributes: {},\n            computedStyleProperties: {},\n        };\n        const style = getComputedStyle(element);\n        for (const attributeName of attributeNames)\n            if (attributeName === 'textContent' && shouldUseFirstChildNodeForTextContent) {\n                let textContent;\n                // If the element has child nodes, we only keep the text content from its first child\n                if (element.childNodes.length > 0)\n                    textContent = element.childNodes[0].textContent;\n                else\n                    textContent = element.textContent;\n                output.attributes.textContent = textContent;\n            }\n            else\n                output.attributes[attributeName] = element[attributeName];\n        for (const property of styleProperties)\n            if (property === 'boundingRectangle')\n                output.computedStyleProperties[property] = serializeDomRectangle(element.getBoundingClientRect());\n            else if (property === 'isCrossedOut') {\n                /**\n                 * With our custom heuristics, we sometimes first detect the outermost element with the right price text, and not its potential inner child nodes with the same text.\n                 * In this situation, this outermost element is sometimes not crossed out while one of its inner child nodes with the same text is.\n                 * So, we use this function to start our \"crossed out\" detection at the innermost element with the same price text.\n                 */\n                const findInnerMostChildWithSameText = (startElement) => {\n                    let currentElement = startElement;\n                    // eslint-disable-next-line no-constant-condition\n                    while (true) {\n                        const childrenElements = [...currentElement.children]; // It's important to use `children` instead of `childNodes` here to avoid text nodes\n                        if (!childrenElements.length)\n                            return currentElement;\n                        const childElementWithSameText = childrenElements.find(({ innerText }) => innerText === startElement.innerText);\n                        if (!childElementWithSameText)\n                            return currentElement;\n                        else\n                            currentElement = childElementWithSameText;\n                    }\n                };\n                const checkIsElementCrossedOut = (element) => getComputedStyle(element)\n                    .textDecoration.toLowerCase()\n                    .indexOf('line-through') >= 0;\n                const checkIfElementOrParentIsCrossedOut = (startElement, maxNumberOfParentElementsToCheck = 10 // If the element itself is not crossed out, we consider the first few parent elements and check if they are crossed out\n                ) => {\n                    if (!startElement)\n                        return false;\n                    let currentElement = startElement;\n                    let isCrossedOut = checkIsElementCrossedOut(currentElement);\n                    let remainingNumberOfParentsToCheck = maxNumberOfParentElementsToCheck;\n                    while (!isCrossedOut && remainingNumberOfParentsToCheck > 0) {\n                        currentElement = currentElement.parentElement;\n                        if (!currentElement)\n                            break;\n                        isCrossedOut = checkIsElementCrossedOut(currentElement);\n                        remainingNumberOfParentsToCheck--;\n                    }\n                    return isCrossedOut;\n                };\n                const isCrossedOut = checkIfElementOrParentIsCrossedOut(findInnerMostChildWithSameText(element));\n                output.computedStyleProperties[property] = isCrossedOut;\n            }\n            else\n                output.computedStyleProperties[property] =\n                    style[property];\n        outputList.push(output);\n    }\n    return outputList;\n}\n",getElementsAttributesAndComputedStyleByTagName:"async function getElementsAttributesAndComputedStyleByTagName(tagName, attributeNames, styleProperties) {\n    function serializeDomRectangle(domRectangle) {\n        return {\n            top: domRectangle.top,\n            left: domRectangle.left,\n            bottom: domRectangle.bottom,\n            right: domRectangle.right,\n        };\n    }\n    const elements = document.getElementsByTagName(tagName);\n    const outputList = [];\n    for (const element of Array.from(elements)) {\n        const output = {\n            attributes: {},\n            computedStyleProperties: {},\n        };\n        const style = getComputedStyle(element);\n        for (const attributeName of attributeNames)\n            output.attributes[attributeName] = element[attributeName];\n        for (const property of styleProperties)\n            if (property === 'boundingRectangle')\n                output.computedStyleProperties[property] = serializeDomRectangle(element.getBoundingClientRect());\n            else if (property === 'isCrossedOut') {\n                /**\n                 * With our custom heuristics, we sometimes first detect the outermost element with the right price text, and not its potential inner child nodes with the same text.\n                 * In this situation, this outermost element is sometimes not crossed out while one of its inner child nodes with the same text is.\n                 * So, we use this function to start our \"crossed out\" detection at the innermost element with the same price text.\n                 */\n                const findInnerMostChildWithSameText = (startElement) => {\n                    let currentElement = startElement;\n                    // eslint-disable-next-line no-constant-condition\n                    while (true) {\n                        const childrenElements = [...currentElement.children]; // It's important to use `children` instead of `childNodes` here to avoid text nodes\n                        if (!childrenElements.length)\n                            return currentElement;\n                        const childElementWithSameText = childrenElements.find(({ innerText }) => innerText === startElement.innerText);\n                        if (!childElementWithSameText)\n                            return currentElement;\n                        else\n                            currentElement = childElementWithSameText;\n                    }\n                };\n                const checkIsElementCrossedOut = (element) => getComputedStyle(element)\n                    .textDecoration.toLowerCase()\n                    .indexOf('line-through') >= 0;\n                const checkIfElementOrParentIsCrossedOut = (startElement, maxNumberOfParentElementsToCheck = 10 // If the element itself is not crossed out, we consider the first few parent elements and check if they are crossed out\n                ) => {\n                    if (!startElement)\n                        return false;\n                    let currentElement = startElement;\n                    let isCrossedOut = checkIsElementCrossedOut(currentElement);\n                    let remainingNumberOfParentsToCheck = maxNumberOfParentElementsToCheck;\n                    while (!isCrossedOut && remainingNumberOfParentsToCheck > 0) {\n                        currentElement = currentElement.parentElement;\n                        if (!currentElement)\n                            break;\n                        isCrossedOut = checkIsElementCrossedOut(currentElement);\n                        remainingNumberOfParentsToCheck--;\n                    }\n                    return isCrossedOut;\n                };\n                const isCrossedOut = checkIfElementOrParentIsCrossedOut(findInnerMostChildWithSameText(element));\n                output.computedStyleProperties[property] = isCrossedOut;\n            }\n            else\n                output.computedStyleProperties[property] =\n                    style[property];\n        outputList.push(output);\n    }\n    return outputList;\n}\n",findElementAndExtractData:"async function findElementAndExtractData(navigationDirectives, extractionDirective) {\n    let element = document;\n    function findFirstChildElementWithTargetAttribute(element, targetAttributeName) {\n        while (!element.getAttribute(targetAttributeName))\n            element = element.children[0];\n        return element;\n    }\n    try {\n        // eslint-disable-next-line github/array-foreach\n        navigationDirectives.forEach((directive) => directive.type === 'getElementById'\n            ? (element = element.getElementById(directive.elementId))\n            : directive.type === 'getFirstChildElementWithTargetAttribute'\n                ? (element = findFirstChildElementWithTargetAttribute(element, directive.targetAttributeName))\n                : directive.type === 'getElementsBySelector'\n                    ? (element = element.querySelectorAll(directive.selector))\n                    : directive.type === 'getElementsByClassName'\n                        ? (element = element.getElementsByClassName(directive.className))\n                        : directive.type === 'getElementsByTagName'\n                            ? (element = element.getElementsByClassName(directive.tagName))\n                            : directive.type === 'getArrayElementByIndex'\n                                ? (element = element[directive.index])\n                                : '');\n    }\n    catch { }\n    let elementId = null;\n    const attributes = {};\n    let innerHtml = null;\n    if (element) {\n        elementId = element.id;\n        if (extractionDirective.attributeNamesToExtract)\n            for (const attributeName of extractionDirective.attributeNamesToExtract)\n                attributes[attributeName] = element[attributeName];\n        if (extractionDirective.shouldExtractInnerHtml)\n            innerHtml = element.innerHTML;\n    }\n    return {\n        elementId,\n        attributes,\n        innerHtml,\n    };\n}\n"}},5834:function(e,t){var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,u=o.length;a<u;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0}),t.dataExtractionPrimitivesMap=void 0,t.dataExtractionPrimitivesMap={getDocumentTitle:function(){return n(this,void 0,void 0,(function(){return r(this,(function(e){return[2,document.title]}))}))},getWindowDimensions:function(){return n(this,void 0,void 0,(function(){return r(this,(function(e){return[2,{innerWidth:window.innerWidth,innerHeight:window.innerHeight}]}))}))},getDocumentDimensions:function(){return n(this,void 0,void 0,(function(){return r(this,(function(e){return[2,{clientWidth:document.body.clientWidth,clientHeight:document.body.clientHeight}]}))}))},getElementAttributesById:function(e,t){return n(this,void 0,void 0,(function(){var n,i,o,a,u;return r(this,(function(r){if(n=document.getElementById(e),i={},n)for(o=0,a=t;o<a.length;o++)u=a[o],i[u]=n.getAttribute(u);return[2,i]}))}))},getElementAttributesBySelector:function(e,t){return n(this,void 0,void 0,(function(){var n,i,o,a,u;return r(this,(function(r){if(n=document.querySelector(e),i={},n)for(o=0,a=t;o<a.length;o++)u=a[o],i[u]=n.getAttribute(u);return[2,i]}))}))},getElementsIdsBySelector:function(e){return n(this,void 0,void 0,(function(){var t,n,i,o,a;return r(this,(function(r){for(t=document.querySelectorAll(e),n=[],i=0,o=Array.from(t);i<o.length;i++)a=o[i],n.push(a.id);return[2,n]}))}))},getElementsAttributesByTagName:function(e,t){return n(this,void 0,void 0,(function(){var n,i,o,a,u,c,s,l,f;return r(this,(function(r){for(n=document.getElementsByTagName(e),i=[],o=0,a=Array.from(n);o<a.length;o++){for(u=a[o],c={},s=0,l=t;s<l.length;s++)f=l[s],c[f]=u.getAttribute(f);i.push(c)}return[2,i]}))}))},getElementsInnerHtmlByTagName:function(e,t){return n(this,void 0,void 0,(function(){var n,i,o,a,u,c,s,l;return r(this,(function(r){for(n=document.getElementsByTagName(e),i=[],o=0;o<n.length;o++){for(a=n[o],u=!0,c=0,s=t||[];c<s.length;c++)l=s[c],a.getAttribute(l.attributeName)!==l.attributeValue&&(u=!1);u&&i.push(a.innerHTML)}return[2,i]}))}))},getElementsAttributesAndComputedStyleBySelector:function(e,t,o,a){return n(this,void 0,void 0,(function(){var n,u,c,s,l,f,m,p,d,h,y,g,v,b,w;return r(this,(function(r){for(n=document.querySelectorAll(e),u=[],c=0,s=Array.from(n);c<s.length;c++){for(l=s[c],f={attributes:{},computedStyleProperties:{}},m=getComputedStyle(l),p=0,d=t;p<d.length;p++)"textContent"===(h=d[p])&&a?(y=void 0,y=l.childNodes.length>0?l.childNodes[0].textContent:l.textContent,f.attributes.textContent=y):f.attributes[h]=l[h];for(g=function(e){if("boundingRectangle"===e)f.computedStyleProperties[e]={top:(r=l.getBoundingClientRect()).top,left:r.left,bottom:r.bottom,right:r.right};else if("isCrossedOut"===e){var t=function(e){return getComputedStyle(e).textDecoration.toLowerCase().indexOf("line-through")>=0},n=function(e,n){if(void 0===n&&(n=10),!e)return!1;for(var r=e,i=t(r),o=n;!i&&o>0&&(r=r.parentElement);)i=t(r),o--;return i}(function(e){for(var t=e;;){var n=i(t.children);if(!n.length)return t;var r=n.find((function(t){return t.innerText===e.innerText}));if(!r)return t;t=r}}(l));f.computedStyleProperties[e]=n}else f.computedStyleProperties[e]=m[e];var r},v=0,b=o;v<b.length;v++)w=b[v],g(w);u.push(f)}return[2,u]}))}))},getElementsAttributesAndComputedStyleByTagName:function(e,t,o){return n(this,void 0,void 0,(function(){var n,a,u,c,s,l,f,m,p,d,h,y,g,v;return r(this,(function(r){for(n=document.getElementsByTagName(e),a=[],u=0,c=Array.from(n);u<c.length;u++){for(s=c[u],l={attributes:{},computedStyleProperties:{}},f=getComputedStyle(s),m=0,p=t;m<p.length;m++)d=p[m],l.attributes[d]=s[d];for(h=function(e){if("boundingRectangle"===e)l.computedStyleProperties[e]={top:(r=s.getBoundingClientRect()).top,left:r.left,bottom:r.bottom,right:r.right};else if("isCrossedOut"===e){var t=function(e){return getComputedStyle(e).textDecoration.toLowerCase().indexOf("line-through")>=0},n=function(e,n){if(void 0===n&&(n=10),!e)return!1;for(var r=e,i=t(r),o=n;!i&&o>0&&(r=r.parentElement);)i=t(r),o--;return i}(function(e){for(var t=e;;){var n=i(t.children);if(!n.length)return t;var r=n.find((function(t){return t.innerText===e.innerText}));if(!r)return t;t=r}}(s));l.computedStyleProperties[e]=n}else l.computedStyleProperties[e]=f[e];var r},y=0,g=o;y<g.length;y++)v=g[y],h(v);a.push(l)}return[2,a]}))}))},findElementAndExtractData:function(e,t){return n(this,void 0,void 0,(function(){var n,i,o,a,u,c,s;return r(this,(function(r){n=document;try{e.forEach((function(e){return"getElementById"===e.type?n=n.getElementById(e.elementId):"getFirstChildElementWithTargetAttribute"===e.type?n=function(e,t){for(;!e.getAttribute(t);)e=e.children[0];return e}(n,e.targetAttributeName):"getElementsBySelector"===e.type?n=n.querySelectorAll(e.selector):"getElementsByClassName"===e.type?n=n.getElementsByClassName(e.className):"getElementsByTagName"===e.type?n=n.getElementsByClassName(e.tagName):"getArrayElementByIndex"===e.type?n=n[e.index]:""}))}catch(e){}if(i=null,o={},a=null,n){if(i=n.id,t.attributeNamesToExtract)for(u=0,c=t.attributeNamesToExtract;u<c.length;u++)s=c[u],o[s]=n[s];t.shouldExtractInnerHtml&&(a=n.innerHTML)}return[2,{elementId:i,attributes:o,innerHtml:a}]}))}))}}},68766:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},o=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,u=o.length;a<u;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0}),t.wrapPrimitive=void 0;var a=n(90070);function u(e,t,a){return r(this,void 0,void 0,(function(){var r,u,s;return i(this,(function(i){switch(i.label){case 0:return"browserExtension"!==e.platform?[3,2]:[4,t.apply(void 0,a)];case 1:case 3:case 5:return[2,i.sent()];case 2:return"backend"!==e.platform?[3,4]:[4,(s=e.page).evaluate.apply(s,o([t],a))];case 4:return r=t.name,u=function(e){try{return n(40125).o[e]}catch(e){return}}(r),u?[4,c(e.webView,e.messageHandlerMap,u,a)]:[2,void 0]}}))}))}function c(e,t,n,u){return r(this,void 0,void 0,(function(){return i(this,(function(r){return[2,new Promise((function(r){var i=a.default.v1().toString();if(!t[i]){t[i]=r;var c="\n                var f = "+n+";\n                var result = f("+JSON.stringify(o(u)).slice(1,-1)+");\n                var sendOutputToWebView = (output) => window.ReactNativeWebView.postMessage(JSON.stringify({ messageId: '"+i+"', output }));\n                if (result instanceof Promise) result.then(sendOutputToWebView);\n                else sendOutputToWebView(result);\n                true; // This is required, or you'll sometimes get silent failures\n            ";e.injectJavaScript(c)}}))]}))}))}t.wrapPrimitive=function(e){var t=this;return function(n){for(var o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];return r(t,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,u(n,e,o)];case 1:return[2,t.sent()]}}))}))}}},18809:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.checkIsCategoryPage=void 0;var o=n(68766),a=n(5834),u=n(13680),c=n(71754),s=["category"],l=["tri","trier par","trié par","trier","résultats triés par","affiner","affiner par","affiner les résultats","filtrer","filtrer par","filtre","filtres","masquer les filtres","sort","sort by","filter","filters"];function f(e){return e.replace(/\s/g," ").split(" ").filter((function(e){return!!e}))}function m(e){return r(this,void 0,void 0,(function(){var t,n,r,u,c,s,l,f;return i(this,(function(i){switch(i.label){case 0:return[4,o.wrapPrimitive(a.dataExtractionPrimitivesMap.getElementsInnerHtmlByTagName)(e,"script",[{attributeName:"type",attributeValue:"application/json"}])];case 1:if(t=i.sent())for(n=0,r=t;n<r.length;n++){u=r[n];try{for(c=JSON.parse(u),s=Array.isArray(c)?c:[c],l=0,f=s;l<f.length;l++)if(p(f[l]))return[2,!0]}catch(e){}}return[2,!1]}}))}))}function p(e){if("object"!=typeof e||null===e||!u.hasOwnProperty(e,"page"))return!1;var t=e.page;if("object"!=typeof t||null===t||!u.hasOwnProperty(t,"category"))return!1;var n=t.category;return!("object"!=typeof n||null===n||!u.hasOwnProperty(n,"pageType"))&&("category"===n.pageType||"search"===n.pageType)}t.checkIsCategoryPage=function(e,t){return r(this,void 0,void 0,(function(){var n,r,u,p,d,h,y,g,v;return i(this,(function(i){switch(i.label){case 0:return s.some((function(e){return t.includes(e)}))?[2,!0]:[4,m(e)];case 1:return i.sent()?[2,!0]:[4,o.wrapPrimitive(a.dataExtractionPrimitivesMap.getElementsAttributesAndComputedStyleBySelector)(e,"div,span,button,h2,label,p,select,label",["textContent"],["boundingRectangle"],!0)];case 2:if(!(n=i.sent()))return[3,6];r=0,u=n,i.label=3;case 3:return r<u.length?(p=u[r],d=p.attributes,h=p.computedStyleProperties,(y=d.textContent)&&"string"==typeof y?(g=y.toLowerCase().trim().replace(/\:/g,""),b=f(g),w=b.length,l.some((function(e){var t=f(e);return t.length<=w&&t.every((function(e,t){return e===b[t]}))}))?(v=h.boundingRectangle,[4,c.checkIsElementVisibleInViewPort(e,v)]):[3,5]):[3,5]):[3,6];case 4:if(i.sent())return[2,!0];i.label=5;case 5:return r++,[3,3];case 6:return[2,!1]}var b,w}))}))}},96037:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.checkIsCheckoutPage=void 0;var o=n(68766),a=n(5834),u=new Set(["cc-name","cc-given-name","cc-additional-name","cc-family-name","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc","cc-type"]),c=["name","id","for","data-shortname","placeholder","onautocomplete","autocomplete"];function s(e,t){return r(this,void 0,void 0,(function(){var n,r,s,f,m,p,d,h,y,g;return i(this,(function(i){switch(i.label){case 0:return[4,o.wrapPrimitive(a.dataExtractionPrimitivesMap.getElementsAttributesByTagName)(e,"input",c)];case 1:if(n=i.sent())for(r=0,s=n;r<s.length;r++)for(f=s[r],m=0,p=Object.values(f);m<p.length;m++)if(d=p[m]){if(u.has(d))return[2,!0];for(h=0,y=Object.values(t.attributeValue);h<y.length;h++)if(g=y[h],l(d,g))return[2,!0]}return[2,!1]}}))}))}function l(e,t){if(t)for(var n=0,r=t;n<r.length;n++){var i=r[n];try{var o=e.match(new RegExp(i,"i"));if(o&&o[0])return{matchingRegex:i,matchingTarget:o[0].slice(0,50)}}catch(e){}}}t.checkIsCheckoutPage=function(e,t,n){return r(this,void 0,void 0,(function(){var r,o,a;return i(this,(function(i){switch(i.label){case 0:if(!function(e){return!!(e&&e.url&&e.attributeValue)}(n))return[2,!1];for(r=0,o=n.url;r<o.length;r++){a=o[r];try{if(new RegExp(a,"i").test(t))return[2,!0]}catch(e){}}return[4,s(e,n)];case 1:return[2,i.sent()]}}))}))}},74664:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.checkIsHomePage=void 0;var r=n(5356);t.checkIsHomePage=function(e){var t=r.getPathname(e);return!t||"/"===t||"/"===t[0]&&((3===t.length||4===t.length&&"/"===t[3])&&i.has(t.slice(1,3).toUpperCase()))};var i=new Set(["AD","AE","AF","AG","AI","AL","AM","AO","AQ","AR","AS","AT","AU","AW","AX","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BL","BM","BN","BO","BQ","BR","BS","BT","BV","BW","BY","BZ","CA","CC","CD","CF","CG","CH","CI","CK","CL","CM","CN","CO","CR","CU","CV","CW","CX","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","EH","ER","ES","ET","FI","FJ","FK","FM","FO","FR","GA","GB","GD","GE","GF","GG","GH","GI","GL","GM","GN","GP","GQ","GR","GS","GT","GU","GW","GY","HK","HM","HN","HR","HT","HU","ID","IE","IL","IM","IN","IO","IQ","IR","IS","IT","JE","JM","JO","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MF","MG","MH","MK","ML","MM","MN","MO","MP","MQ","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PF","PG","PH","PK","PL","PM","PN","PR","PS","PT","PW","PY","QA","RE","RO","RS","RU","RW","SA","SB","SC","SD","SE","SG","SH","SI","SJ","SK","SL","SM","SN","SO","SR","SS","ST","SV","SX","SY","SZ","TC","TD","TF","TG","TH","TJ","TK","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","UM","US","UY","UZ","VA","VC","VE","VG","VI","VN","VU","WF","WS","YE","YT","ZA","ZM","ZW"])},21392:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.checkIsProductPage=void 0;var o=n(68766),a=n(5834),u=n(5356),c=n(71754),s=["ajouter","ajouter au panier","ajouter à mon panier","acheter","acheter !","commander","sélectionner taille","choisir une taille","descriptif article"],l=["leboncoin","sephora"];t.checkIsProductPage=function(e,t){return r(this,void 0,void 0,(function(){var n,r,f,m,p,d,h,y,g;return i(this,(function(i){switch(i.label){case 0:return n=u.getSecondLevelDomain(t),r=u.getUrlExtension(t),n&&l.includes(n)?[2,!!(null==r?void 0:r.includes("htm"))]:[4,o.wrapPrimitive(a.dataExtractionPrimitivesMap.getElementsIdsBySelector)(e,'[value*="Ajouter au panier"]')];case 1:return(null==(f=i.sent())?void 0:f.length)?[2,!0]:[4,o.wrapPrimitive(a.dataExtractionPrimitivesMap.getElementsAttributesAndComputedStyleBySelector)(e,"button,span,p,a",["textContent"],[],!1)];case 2:if(m=i.sent())for(p=0,d=m;p<d.length;p++)if(h=d[p].attributes,(y=h.textContent)&&"string"==typeof y&&(g=c.getProcessedText(y,!0))&&s.includes(g))return[2,!0];return[2,!1]}}))}))}},90263:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function u(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.detectWebpageType=t.WebpageType=void 0;var o,a=n(74664),u=n(18809),c=n(96037),s=n(21392);!function(e){e.home="home",e.cart="cart",e.delivery="delivery",e.category="category",e.checkout="checkout",e.product="product"}(o=t.WebpageType||(t.WebpageType={})),t.detectWebpageType=function(e,t){var n=e.context,l=e.webpageUrl,f=e.checkoutRegexes,m=e.shouldRunEarlyIsProductPageCheck;return r(this,void 0,void 0,(function(){var e;return i(this,(function(r){switch(r.label){case 0:return a.checkIsHomePage(l)?[2,o.home]:function(e){try{return new URL(e).pathname.includes("/cart")}catch(e){return!1}}(l)?[2,o.cart]:function(e){try{return new URL(e).pathname.includes("/delivery")}catch(e){return!1}}(l)?[2,o.delivery]:[4,u.checkIsCategoryPage(n,l)];case 1:return r.sent()?[2,o.category]:[4,c.checkIsCheckoutPage(n,l,f)];case 2:return r.sent()?[2,o.checkout]:(e=m&&!t)?[4,s.checkIsProductPage(n,l)]:[3,4];case 3:e=r.sent(),r.label=4;case 4:return e?[2,o.product]:[2,void 0]}}))}))}}}]);
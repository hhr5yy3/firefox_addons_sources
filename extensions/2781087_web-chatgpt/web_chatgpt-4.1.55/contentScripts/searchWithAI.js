import {
  CustomMarkdown_default
} from "../chunks/QBEEADVT.js";
import {
  useSearchWithAISettings_default
} from "../chunks/P4RDHE57.js";
import {
  AppSuspenseLoadingLayout_default
} from "../chunks/XXXGN7IH.js";
import {
  SearchProviderIcon_default
} from "../chunks/UX2THGP6.js";
import {
  useSearchWithAISettingsInit_default
} from "../chunks/7VGRMZHF.js";
import {
  AutoTriggerAskEnableAtom,
  SearchWithAIConversationAtom,
  SearchWithAIProviderLoadingAtom,
  SourcesStatusAtom
} from "../chunks/EPPA4V3R.js";
import {
  getRemoteControllerData
} from "../chunks/7HUAIRIN.js";
import {
  SEARCH_WITH_AI_APP_NAME,
  SEARCH_WITH_AI_CHECK_FLAG_BACKLIST,
  SEARCH_WITH_AI_DEFAULT_CRAWLING_LIMIT,
  SEARCH_WITH_AI_LOGO_ID,
  SEARCH_WITH_AI_PROMPT,
  SEARCH_WITH_AI_PROVIDER_MAP,
  SEARCH_WITH_AI_ROOT_ID,
  SEARCH_WITH_AI_SHADOW_CONTAINER_ID,
  getSearchWithAISettings
} from "../chunks/M6PYVE3O.js";
import {
  chromeExtensionArkoseTokenGenerator,
  clientFetchAPI,
  crawlingSearchResults,
  findMaxAIExtensionExist,
  renderGlobalSnackbar,
  require_Close,
  require_CloseOutlined,
  require_SearchOutlined,
  require_SettingsOutlined,
  require_StopOutlined
} from "../chunks/FHV4P7YY.js";
import {
  AUTH_MODAL_EVENT,
  PermissionWrapper_default,
  createShadowRoot,
  getPossibleElementByQuerySelector,
  insertAfter,
  useAuth_default,
  useEffectOnce_default
} from "../chunks/6NLHHV4N.js";
import "../chunks/FNVQU4MI.js";
import {
  ProLink_default
} from "../chunks/4AV5LYFA.js";
import {
  AppTheme_default,
  CustomIcon_default,
  require_client
} from "../chunks/55DHG6VJ.js";
import {
  customMuiTheme_default
} from "../chunks/PXXULB6N.js";
import "../chunks/2W4EJGTF.js";
import {
  require_createSvgIcon
} from "../chunks/6MWXJIRO.js";
import "../chunks/4QWY354J.js";
import {
  Recoil_index_20,
  Recoil_index_22,
  Recoil_index_24,
  Recoil_index_5
} from "../chunks/FQZJQWJR.js";
import {
  Box_default,
  Button_default,
  Card_default,
  CircularProgress_default,
  Divider_default,
  FormControlLabel_default,
  Grid_default,
  IconButton_default,
  Link_default,
  Paper_default,
  Skeleton_default,
  Switch_default,
  Tooltip_default,
  import_ClickAwayListener,
  import_SvgIcon,
  import_system,
  material_exports,
  useTheme
} from "../chunks/2FH7W2EF.js";
import {
  CacheProvider,
  Stack_default,
  Typography_default,
  emotion_cache_browser_esm_default,
  init_emotion_cache_browser_esm,
  init_emotion_react_browser_esm,
  require_interopRequireDefault,
  require_jsx_runtime
} from "../chunks/JCIZV2AT.js";
import {
  calcProofToken,
  sendLarkBotMessageInContentScript,
  setArkoseToken,
  websocketUtils
} from "../chunks/JIT7C3KR.js";
import "../chunks/IHKLZ7RH.js";
import {
  getChromeExtensionAssetsURL
} from "../chunks/PMGMIR4S.js";
import "../chunks/JLH3KCIT.js";
import "../chunks/LDFHRBBH.js";
import {
  chromeExtensionClientOpenPage,
  getBrowserAgent
} from "../chunks/42XSBB7P.js";
import {
  createClientMessageListener
} from "../chunks/RBTIXGC2.js";
import {
  require_react
} from "../chunks/AMCWABVH.js";
import "../chunks/QVVA4RGO.js";
import {
  ContentScriptConnectionV2
} from "../chunks/KFVZFM6T.js";
import {
  require_dayjs_min
} from "../chunks/4NOIXOKC.js";
import {
  AI_PROVIDER_MAP,
  AI_PROVIDER_NAME_MAP,
  WEBCHATGPT_VERSION
} from "../chunks/XVTLOGGR.js";
import {
  require_browser_polyfill
} from "../chunks/XOBJISN3.js";
import {
  random_default,
  toLower_default
} from "../chunks/TOGVC2JX.js";
import {
  v4_default
} from "../chunks/2RTBHBIC.js";
import {
  getPageTopBackgroundColor,
  isLightColor
} from "../chunks/V2QAWIDP.js";
import {
  __commonJS,
  __toESM
} from "../chunks/ERZ5UWI7.js";

// node_modules/.pnpm/@mui+icons-material@5.11.0_@mui+material@5.11.8_@emotion+react@11.10.5_@babel+core@7.26.0_@ty_emavingizmdywwdelxyq6ciy54/node_modules/@mui/icons-material/LaunchOutlined.js
var require_LaunchOutlined = __commonJS({
  "node_modules/.pnpm/@mui+icons-material@5.11.0_@mui+material@5.11.8_@emotion+react@11.10.5_@babel+core@7.26.0_@ty_emavingizmdywwdelxyq6ciy54/node_modules/@mui/icons-material/LaunchOutlined.js"(exports) {
    "use strict";
    var _interopRequireDefault = require_interopRequireDefault();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.default = void 0;
    var _createSvgIcon = _interopRequireDefault(require_createSvgIcon());
    var _jsxRuntime = require_jsx_runtime();
    var _default = (0, _createSvgIcon.default)(/* @__PURE__ */ (0, _jsxRuntime.jsx)("path", {
      d: "M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"
    }), "LaunchOutlined");
    exports.default = _default;
  }
});

// node_modules/.pnpm/chnl@1.2.0/node_modules/chnl/dist/channel.cjs.js
var require_channel_cjs = __commonJS({
  "node_modules/.pnpm/chnl@1.2.0/node_modules/chnl/dist/channel.cjs.js"(exports, module) {
    "use strict";
    function _typeof(e) {
      return (_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e2) {
        return typeof e2;
      } : function(e2) {
        return e2 && "function" == typeof Symbol && e2.constructor === Symbol && e2 !== Symbol.prototype ? "symbol" : typeof e2;
      })(e);
    }
    function _classCallCheck(e, t) {
      if (!(e instanceof t))
        throw new TypeError("Cannot call a class as a function");
    }
    function _defineProperties(e, t) {
      for (var n = 0; n < t.length; n++) {
        var r = t[n];
        r.enumerable = r.enumerable || false, r.configurable = true, "value" in r && (r.writable = true), Object.defineProperty(e, r.key, r);
      }
    }
    function _createClass(e, t, n) {
      return t && _defineProperties(e.prototype, t), n && _defineProperties(e, n), e;
    }
    function _inherits(e, t) {
      if ("function" != typeof t && null !== t)
        throw new TypeError("Super expression must either be null or a function");
      e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: true, configurable: true } }), t && _setPrototypeOf(e, t);
    }
    function _getPrototypeOf(e) {
      return (_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function(e2) {
        return e2.__proto__ || Object.getPrototypeOf(e2);
      })(e);
    }
    function _setPrototypeOf(e, t) {
      return (_setPrototypeOf = Object.setPrototypeOf || function(e2, t2) {
        return e2.__proto__ = t2, e2;
      })(e, t);
    }
    function _isNativeReflectConstruct() {
      if ("undefined" == typeof Reflect || !Reflect.construct)
        return false;
      if (Reflect.construct.sham)
        return false;
      if ("function" == typeof Proxy)
        return true;
      try {
        return Date.prototype.toString.call(Reflect.construct(Date, [], function() {
        })), true;
      } catch (e) {
        return false;
      }
    }
    function _assertThisInitialized(e) {
      if (void 0 === e)
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      return e;
    }
    function _possibleConstructorReturn(e, t) {
      return !t || "object" != typeof t && "function" != typeof t ? _assertThisInitialized(e) : t;
    }
    function _createSuper(r) {
      var i = _isNativeReflectConstruct();
      return function() {
        var e, t = _getPrototypeOf(r);
        if (i) {
          var n = _getPrototypeOf(this).constructor;
          e = Reflect.construct(t, arguments, n);
        } else
          e = t.apply(this, arguments);
        return _possibleConstructorReturn(this, e);
      };
    }
    function _toConsumableArray(e) {
      return _arrayWithoutHoles(e) || _iterableToArray(e) || _unsupportedIterableToArray(e) || _nonIterableSpread();
    }
    function _arrayWithoutHoles(e) {
      if (Array.isArray(e))
        return _arrayLikeToArray(e);
    }
    function _iterableToArray(e) {
      if ("undefined" != typeof Symbol && Symbol.iterator in Object(e))
        return Array.from(e);
    }
    function _unsupportedIterableToArray(e, t) {
      if (e) {
        if ("string" == typeof e)
          return _arrayLikeToArray(e, t);
        var n = Object.prototype.toString.call(e).slice(8, -1);
        return "Object" === n && e.constructor && (n = e.constructor.name), "Map" === n || "Set" === n ? Array.from(e) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? _arrayLikeToArray(e, t) : void 0;
      }
    }
    function _arrayLikeToArray(e, t) {
      (null == t || t > e.length) && (t = e.length);
      for (var n = 0, r = new Array(t); n < t; n++)
        r[n] = e[n];
      return r;
    }
    function _nonIterableSpread() {
      throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
    }
    var Channel = function() {
      function c(e) {
        _classCallCheck(this, c), this._listeners = [], this._mute = false, this._accumulate = false, this._accumulatedEvents = [], this._name = e || "", this._onListenerAdded = null, this._onFirstListenerAdded = null, this._onListenerRemoved = null, this._onLastListenerRemoved = null;
      }
      return _createClass(c, [{ key: "addListener", value: function(e, t) {
        this._pushListener(e, t, false);
      } }, { key: "addOnceListener", value: function(e, t) {
        this._pushListener(e, t, true);
      } }, { key: "removeListener", value: function(e, t) {
        this._ensureListener(e);
        var n = this._indexOfListener(e, t);
        0 <= n && this._spliceListener(n);
      } }, { key: "removeAllListeners", value: function() {
        for (; this.hasListeners(); )
          this._spliceListener(0);
      } }, { key: "hasListener", value: function(e, t) {
        return this._ensureListener(e), 0 <= this._indexOfListener(e, t);
      } }, { key: "hasListeners", value: function() {
        return 0 < this._listeners.length;
      } }, { key: "dispatch", value: function() {
        for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
          t[n] = arguments[n];
        this._invokeListeners({ args: t, async: false });
      } }, { key: "dispatchAsync", value: function() {
        for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
          t[n] = arguments[n];
        this._invokeListeners({ args: t, async: true });
      } }, { key: "mute", value: function(e) {
        var t = 0 < arguments.length && void 0 !== e ? e : {};
        this._mute = true, t.accumulate ? this._accumulate = true : (this._accumulate = false, this._accumulatedEvents = []);
      } }, { key: "unmute", value: function() {
        this._mute = false, this._accumulate && (this._dispatchAccumulated(), this._accumulate = false);
      } }, { key: "_invokeListeners", value: function(e) {
        var t = this, n = 0 < arguments.length && void 0 !== e ? e : { args: [], async: false };
        this._mute ? this._accumulate && this._accumulatedEvents.push(n) : this._listeners.slice().forEach(function(e2) {
          t._invokeListener(e2, n), e2.once && t.removeListener(e2.callback, e2.context);
        });
      } }, { key: "_invokeListener", value: function(e, t) {
        var n, r, i = e.callback instanceof c;
        t.async ? i ? (n = e.callback).dispatchAsync.apply(n, _toConsumableArray(t.args)) : setTimeout(function() {
          return e.callback.apply(e.context, t.args);
        }, 0) : i ? (r = e.callback).dispatch.apply(r, _toConsumableArray(t.args)) : e.callback.apply(e.context, t.args);
      } }, { key: "_ensureListener", value: function(e) {
        if (!c.isValidListener(e))
          throw new Error("Channel " + this._name + ": listener is not a function and not a Channel");
      } }, { key: "_dispatchInnerAddEvents", value: function() {
        var e, t;
        this._onListenerAdded && (e = this._onListenerAdded).dispatch.apply(e, arguments);
        this._onFirstListenerAdded && 1 === this._listeners.length && (t = this._onFirstListenerAdded).dispatch.apply(t, arguments);
      } }, { key: "_dispatchInnerRemoveEvents", value: function() {
        var e, t;
        this._onListenerRemoved && (e = this._onListenerRemoved).dispatch.apply(e, arguments);
        this._onLastListenerRemoved && 0 === this._listeners.length && (t = this._onLastListenerRemoved).dispatch.apply(t, arguments);
      } }, { key: "_indexOfListener", value: function(e, t) {
        for (var n = 0; n < this._listeners.length; n++) {
          var r = this._listeners[n], i = r.callback === e, s = e instanceof c, o = void 0 === t && void 0 === r.context, a = t === r.context;
          if (i && (s || o || a))
            return n;
        }
      } }, { key: "_dispatchAccumulated", value: function() {
        var t = this;
        this._accumulatedEvents.forEach(function(e) {
          return t._invokeListeners(e);
        }), this._accumulatedEvents = [];
      } }, { key: "_pushListener", value: function(e, t, n) {
        this._ensureListener(e), this._checkForDuplicates(e, t), this._listeners.push({ callback: e, context: t, once: n }), this._dispatchInnerAddEvents(e, t, n);
      } }, { key: "_checkForDuplicates", value: function(e, t) {
        if (this.hasListener(e, t))
          throw new Error("Channel " + this._name + ": duplicating listeners");
      } }, { key: "_spliceListener", value: function(e) {
        var t = this._listeners[e], n = t.callback, r = t.context, i = t.once;
        this._listeners.splice(e, 1), this._dispatchInnerRemoveEvents(n, r, i);
      } }, { key: "onListenerAdded", get: function() {
        return this._onListenerAdded || (this._onListenerAdded = new c("".concat(this._name, ":onListenerAdded"))), this._onListenerAdded;
      } }, { key: "onFirstListenerAdded", get: function() {
        return this._onFirstListenerAdded || (this._onFirstListenerAdded = new c("".concat(this._name, ":onFirstListenerAdded"))), this._onFirstListenerAdded;
      } }, { key: "onListenerRemoved", get: function() {
        return this._onListenerRemoved || (this._onListenerRemoved = new c("".concat(this._name, ":onListenerRemoved"))), this._onListenerRemoved;
      } }, { key: "onLastListenerRemoved", get: function() {
        return this._onLastListenerRemoved || (this._onLastListenerRemoved = new c("".concat(this._name, ":onLastListenerRemoved"))), this._onLastListenerRemoved;
      } }], [{ key: "isValidListener", value: function(e) {
        return "function" == typeof e || e instanceof c;
      } }]), c;
    }();
    var EventEmitter = function() {
      function e() {
        _classCallCheck(this, e), this._channels = /* @__PURE__ */ new Map();
      }
      return _createClass(e, [{ key: "addListener", value: function(e2, t, n) {
        this._getChannel(e2).addListener(t, n);
      } }, { key: "on", value: function(e2, t, n) {
        this.addListener(e2, t, n);
      } }, { key: "addOnceListener", value: function(e2, t, n) {
        this._getChannel(e2).addOnceListener(t, n);
      } }, { key: "once", value: function(e2, t, n) {
        this.addOnceListener(e2, t, n);
      } }, { key: "removeListener", value: function(e2, t, n) {
        this._getChannel(e2).removeListener(t, n);
      } }, { key: "off", value: function(e2, t, n) {
        this.removeListener(e2, t, n);
      } }, { key: "hasListener", value: function(e2, t, n) {
        return this._getChannel(e2).hasListener(t, n);
      } }, { key: "has", value: function(e2, t, n) {
        return this.hasListener(e2, t, n);
      } }, { key: "hasListeners", value: function(e2) {
        return this._getChannel(e2).hasListeners();
      } }, { key: "dispatch", value: function(e2) {
        for (var t, n = arguments.length, r = new Array(1 < n ? n - 1 : 0), i = 1; i < n; i++)
          r[i - 1] = arguments[i];
        (t = this._getChannel(e2)).dispatch.apply(t, r);
      } }, { key: "emit", value: function(e2) {
        for (var t = arguments.length, n = new Array(1 < t ? t - 1 : 0), r = 1; r < t; r++)
          n[r - 1] = arguments[r];
        this.dispatch.apply(this, [e2].concat(n));
      } }, { key: "_getChannel", value: function(e2) {
        return this._channels.has(e2) || this._channels.set(e2, new Channel(e2)), this._channels.get(e2);
      } }]), e;
    }();
    var SubscriptionItem = function() {
      function t(e) {
        _classCallCheck(this, t), this._params = e, this._isOn = false, this._assertParams();
      }
      return _createClass(t, [{ key: "on", value: function() {
        if (!this._isOn) {
          var e = this._params.channel, t2 = e.addListener || e.addEventListener || e.on;
          this._applyMethod(t2), this._isOn = true;
        }
      } }, { key: "off", value: function() {
        if (this._isOn) {
          var e = this._params.channel, t2 = e.removeListener || e.removeEventListener || e.off;
          this._applyMethod(t2), this._isOn = false;
        }
      } }, { key: "_applyMethod", value: function(e) {
        var t2 = this._params, n = t2.channel, r = t2.event, i = t2.listener, s = r ? [r, i] : [i];
        e.apply(n, s);
      } }, { key: "_assertParams", value: function() {
        var e = this._params, t2 = e.channel, n = e.event, r = e.listener;
        if (!t2 || "object" !== _typeof(t2))
          throw new Error("Channel should be object");
        if (n && "string" != typeof n)
          throw new Error("Event should be string");
        if (!r || !Channel.isValidListener(r))
          throw new Error("Listener should be function or Channel");
      } }]), t;
    }();
    var Subscription = function() {
      function t(e) {
        _classCallCheck(this, t), this._items = e.map(function(e2) {
          return new SubscriptionItem(e2);
        });
      }
      return _createClass(t, [{ key: "on", value: function() {
        return this._items.forEach(function(e) {
          return e.on();
        }), this;
      } }, { key: "off", value: function() {
        return this._items.forEach(function(e) {
          return e.off();
        }), this;
      } }]), t;
    }();
    var ReactSubscription = function() {
      _inherits(i, Subscription);
      var r = _createSuper(i);
      function i(e, t) {
        var n;
        return _classCallCheck(this, i), (n = r.call(this, t))._overrideComponentCallback(e, "componentDidMount", "on"), n._overrideComponentCallback(e, "componentWillUnmount", "off"), n;
      }
      return _createClass(i, [{ key: "_overrideComponentCallback", value: function(r2, e, i2) {
        var s = this, o = r2[e];
        r2[e] = function() {
          if (s[i2](), "function" == typeof o) {
            for (var e2 = arguments.length, t = new Array(e2), n = 0; n < e2; n++)
              t[n] = arguments[n];
            return o.apply(r2, t);
          }
        };
      } }]), i;
    }();
    var chnl = Channel;
    chnl.EventEmitter = EventEmitter, chnl.Subscription = Subscription, chnl.ReactSubscription = ReactSubscription, module.exports = chnl;
  }
});

// node_modules/.pnpm/promise-controller@1.0.0/node_modules/promise-controller/src/defaults.js
var require_defaults = __commonJS({
  "node_modules/.pnpm/promise-controller@1.0.0/node_modules/promise-controller/src/defaults.js"(exports, module) {
    module.exports = {
      timeout: 0,
      timeoutReason: "Promise rejected by PromiseController timeout {timeout} ms.",
      resetReason: "Promise rejected by PromiseController reset."
    };
  }
});

// node_modules/.pnpm/promise-controller@1.0.0/node_modules/promise-controller/src/utils.js
var require_utils = __commonJS({
  "node_modules/.pnpm/promise-controller@1.0.0/node_modules/promise-controller/src/utils.js"(exports) {
    exports.isPromise = function(p) {
      return p && typeof p.then === "function";
    };
    exports.tryCall = function(value) {
      return typeof value === "function" ? value() : value;
    };
    exports.createErrorType = function(name) {
      function E(message) {
        if (!Error.captureStackTrace) {
          this.stack = new Error().stack;
        } else {
          Error.captureStackTrace(this, this.constructor);
        }
        this.message = message;
      }
      E.prototype = new Error();
      E.prototype.name = name;
      E.prototype.constructor = E;
      return E;
    };
  }
});

// node_modules/.pnpm/promise-controller@1.0.0/node_modules/promise-controller/src/index.js
var require_src = __commonJS({
  "node_modules/.pnpm/promise-controller@1.0.0/node_modules/promise-controller/src/index.js"(exports, module) {
    var defaults = require_defaults();
    var { isPromise, createErrorType, tryCall } = require_utils();
    var PromiseController = class {
      /**
       * Creates promise controller. Unlike original Promise, it does not immediately call any function.
       * Instead it has [.call()](#PromiseController+call) method that calls provided function
       * and stores `resolve / reject` methods for future access.
       *
       * @param {Options} [options]
       */
      constructor(options) {
        this._options = Object.assign({}, defaults, options);
        this._resolve = null;
        this._reject = null;
        this._isPending = false;
        this._isFulfilled = false;
        this._isRejected = false;
        this._value = void 0;
        this._promise = null;
        this._timer = null;
      }
      /**
       * Returns promise itself.
       *
       * @returns {Promise}
       */
      get promise() {
        return this._promise;
      }
      /**
       * Returns value with that promise was settled (fulfilled or rejected).
       *
       * @returns {*}
       */
      get value() {
        return this._value;
      }
      /**
       * Returns true if promise is pending.
       *
       * @returns {Boolean}
       */
      get isPending() {
        return this._isPending;
      }
      /**
       * Returns true if promise is fulfilled.
       *
       * @returns {Boolean}
       */
      get isFulfilled() {
        return this._isFulfilled;
      }
      /**
       * Returns true if promise rejected.
       *
       * @returns {Boolean}
       */
      get isRejected() {
        return this._isRejected;
      }
      /**
       * Returns true if promise is fulfilled or rejected.
       *
       * @returns {Boolean}
       */
      get isSettled() {
        return this._isFulfilled || this._isRejected;
      }
      /**
       * Calls `fn` and returns promise OR just returns existing promise from previous `call()` if it is still pending.
       * To fulfill returned promise you should use
       * {@link PromiseController#resolve} / {@link PromiseController#reject} methods.
       * If `fn` itself returns promise, then external promise is attached to it and fulfills together.
       * If no `fn` passed - promiseController is initialized as well.
       *
       * @param {Function} [fn] function to be called.
       * @returns {Promise}
       */
      call(fn) {
        if (!this._isPending) {
          this.reset();
          this._createPromise();
          this._createTimer();
          this._callFn(fn);
        }
        return this._promise;
      }
      /**
       * Resolves pending promise with specified `value`.
       *
       * @param {*} [value]
       */
      resolve(value) {
        if (this._isPending) {
          if (isPromise(value)) {
            this._tryAttachToPromise(value);
          } else {
            this._settle(value);
            this._isFulfilled = true;
            this._resolve(value);
          }
        }
      }
      /**
       * Rejects pending promise with specified `value`.
       *
       * @param {*} [value]
       */
      reject(value) {
        if (this._isPending) {
          this._settle(value);
          this._isRejected = true;
          this._reject(value);
        }
      }
      /**
       * Resets to initial state.
       * If promise is pending it will be rejected with {@link PromiseController.ResetError}.
       */
      reset() {
        if (this._isPending) {
          const message = tryCall(this._options.resetReason);
          const error = new PromiseController.ResetError(message);
          this.reject(error);
        }
        this._promise = null;
        this._isPending = false;
        this._isFulfilled = false;
        this._isRejected = false;
        this._value = void 0;
        this._clearTimer();
      }
      /**
       * Re-assign one or more options.
       *
       * @param {Options} options
       */
      configure(options) {
        Object.assign(this._options, options);
      }
      _createPromise() {
        this._promise = new Promise((resolve, reject) => {
          this._isPending = true;
          this._resolve = resolve;
          this._reject = reject;
        });
      }
      _handleTimeout() {
        const messageTpl = tryCall(this._options.timeoutReason);
        const message = typeof messageTpl === "string" ? messageTpl.replace("{timeout}", this._options.timeout) : "";
        const error = new PromiseController.TimeoutError(message);
        this.reject(error);
      }
      _createTimer() {
        if (this._options.timeout) {
          this._timer = setTimeout(() => this._handleTimeout(), this._options.timeout);
        }
      }
      _clearTimer() {
        if (this._timer) {
          clearTimeout(this._timer);
          this._timer = null;
        }
      }
      _settle(value) {
        this._isPending = false;
        this._value = value;
        this._clearTimer();
      }
      _callFn(fn) {
        if (typeof fn === "function") {
          try {
            const result = fn();
            this._tryAttachToPromise(result);
          } catch (e) {
            this.reject(e);
          }
        }
      }
      _tryAttachToPromise(p) {
        if (isPromise(p)) {
          p.then((value) => this.resolve(value), (e) => this.reject(e));
        }
      }
    };
    PromiseController.TimeoutError = createErrorType("TimeoutError");
    PromiseController.ResetError = createErrorType("ResetError");
    module.exports = PromiseController;
  }
});

// node_modules/.pnpm/promised-map@1.0.0/node_modules/promised-map/dist/cjs/index.js
var require_cjs = __commonJS({
  "node_modules/.pnpm/promised-map@1.0.0/node_modules/promised-map/dist/cjs/index.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.PromisedMap = void 0;
    var PromisedMap = (
      /** @class */
      function() {
        function PromisedMap2() {
          this.map = /* @__PURE__ */ new Map();
        }
        Object.defineProperty(PromisedMap2.prototype, "size", {
          /**
           * Returns map size.
           */
          get: function() {
            return this.map.size;
          },
          enumerable: false,
          configurable: true
        });
        PromisedMap2.prototype.set = function(key, data) {
          var item = this.createMapItem(data);
          this.map.set(key, item);
          return item.promise;
        };
        PromisedMap2.prototype.get = function(key) {
          var item = this.map.get(key);
          return item && item.data;
        };
        PromisedMap2.prototype.has = function(key) {
          return this.map.has(key);
        };
        PromisedMap2.prototype.delete = function(key) {
          return this.map.delete(key);
        };
        PromisedMap2.prototype.resolve = function(key, value) {
          var item = this.map.get(key);
          if (item) {
            this.delete(key);
            item.resolve(value);
          }
        };
        PromisedMap2.prototype.reject = function(key, reason) {
          var item = this.map.get(key);
          if (item) {
            this.delete(key);
            item.reject(reason);
          }
        };
        PromisedMap2.prototype.resolveAll = function(value) {
          this.map.forEach(function(item) {
            return item.resolve(value);
          });
          this.map.clear();
        };
        PromisedMap2.prototype.rejectAll = function(reason) {
          this.map.forEach(function(item) {
            return item.reject(reason);
          });
          this.map.clear();
        };
        PromisedMap2.prototype.forEach = function(fn) {
          this.map.forEach(function(item, key, map) {
            return fn(item.data, key, map);
          });
        };
        PromisedMap2.prototype.clear = function() {
          return this.map.clear();
        };
        PromisedMap2.prototype.createMapItem = function(data) {
          var item = { data };
          item.promise = new Promise(function(resolve, reject) {
            item.resolve = resolve;
            item.reject = reject;
          });
          return item;
        };
        return PromisedMap2;
      }()
    );
    exports.PromisedMap = PromisedMap;
  }
});

// node_modules/.pnpm/function-bind@1.1.2/node_modules/function-bind/implementation.js
var require_implementation = __commonJS({
  "node_modules/.pnpm/function-bind@1.1.2/node_modules/function-bind/implementation.js"(exports, module) {
    "use strict";
    var ERROR_MESSAGE = "Function.prototype.bind called on incompatible ";
    var toStr = Object.prototype.toString;
    var max = Math.max;
    var funcType = "[object Function]";
    var concatty = function concatty2(a, b) {
      var arr = [];
      for (var i = 0; i < a.length; i += 1) {
        arr[i] = a[i];
      }
      for (var j = 0; j < b.length; j += 1) {
        arr[j + a.length] = b[j];
      }
      return arr;
    };
    var slicy = function slicy2(arrLike, offset) {
      var arr = [];
      for (var i = offset || 0, j = 0; i < arrLike.length; i += 1, j += 1) {
        arr[j] = arrLike[i];
      }
      return arr;
    };
    var joiny = function(arr, joiner) {
      var str = "";
      for (var i = 0; i < arr.length; i += 1) {
        str += arr[i];
        if (i + 1 < arr.length) {
          str += joiner;
        }
      }
      return str;
    };
    module.exports = function bind(that) {
      var target = this;
      if (typeof target !== "function" || toStr.apply(target) !== funcType) {
        throw new TypeError(ERROR_MESSAGE + target);
      }
      var args = slicy(arguments, 1);
      var bound;
      var binder = function() {
        if (this instanceof bound) {
          var result = target.apply(
            this,
            concatty(args, arguments)
          );
          if (Object(result) === result) {
            return result;
          }
          return this;
        }
        return target.apply(
          that,
          concatty(args, arguments)
        );
      };
      var boundLength = max(0, target.length - args.length);
      var boundArgs = [];
      for (var i = 0; i < boundLength; i++) {
        boundArgs[i] = "$" + i;
      }
      bound = Function("binder", "return function (" + joiny(boundArgs, ",") + "){ return binder.apply(this,arguments); }")(binder);
      if (target.prototype) {
        var Empty = function Empty2() {
        };
        Empty.prototype = target.prototype;
        bound.prototype = new Empty();
        Empty.prototype = null;
      }
      return bound;
    };
  }
});

// node_modules/.pnpm/function-bind@1.1.2/node_modules/function-bind/index.js
var require_function_bind = __commonJS({
  "node_modules/.pnpm/function-bind@1.1.2/node_modules/function-bind/index.js"(exports, module) {
    "use strict";
    var implementation = require_implementation();
    module.exports = Function.prototype.bind || implementation;
  }
});

// node_modules/.pnpm/es-errors@1.3.0/node_modules/es-errors/index.js
var require_es_errors = __commonJS({
  "node_modules/.pnpm/es-errors@1.3.0/node_modules/es-errors/index.js"(exports, module) {
    "use strict";
    module.exports = Error;
  }
});

// node_modules/.pnpm/es-errors@1.3.0/node_modules/es-errors/eval.js
var require_eval = __commonJS({
  "node_modules/.pnpm/es-errors@1.3.0/node_modules/es-errors/eval.js"(exports, module) {
    "use strict";
    module.exports = EvalError;
  }
});

// node_modules/.pnpm/es-errors@1.3.0/node_modules/es-errors/range.js
var require_range = __commonJS({
  "node_modules/.pnpm/es-errors@1.3.0/node_modules/es-errors/range.js"(exports, module) {
    "use strict";
    module.exports = RangeError;
  }
});

// node_modules/.pnpm/es-errors@1.3.0/node_modules/es-errors/ref.js
var require_ref = __commonJS({
  "node_modules/.pnpm/es-errors@1.3.0/node_modules/es-errors/ref.js"(exports, module) {
    "use strict";
    module.exports = ReferenceError;
  }
});

// node_modules/.pnpm/es-errors@1.3.0/node_modules/es-errors/syntax.js
var require_syntax = __commonJS({
  "node_modules/.pnpm/es-errors@1.3.0/node_modules/es-errors/syntax.js"(exports, module) {
    "use strict";
    module.exports = SyntaxError;
  }
});

// node_modules/.pnpm/es-errors@1.3.0/node_modules/es-errors/type.js
var require_type = __commonJS({
  "node_modules/.pnpm/es-errors@1.3.0/node_modules/es-errors/type.js"(exports, module) {
    "use strict";
    module.exports = TypeError;
  }
});

// node_modules/.pnpm/es-errors@1.3.0/node_modules/es-errors/uri.js
var require_uri = __commonJS({
  "node_modules/.pnpm/es-errors@1.3.0/node_modules/es-errors/uri.js"(exports, module) {
    "use strict";
    module.exports = URIError;
  }
});

// node_modules/.pnpm/has-symbols@1.0.3/node_modules/has-symbols/shams.js
var require_shams = __commonJS({
  "node_modules/.pnpm/has-symbols@1.0.3/node_modules/has-symbols/shams.js"(exports, module) {
    "use strict";
    module.exports = function hasSymbols() {
      if (typeof Symbol !== "function" || typeof Object.getOwnPropertySymbols !== "function") {
        return false;
      }
      if (typeof Symbol.iterator === "symbol") {
        return true;
      }
      var obj = {};
      var sym = Symbol("test");
      var symObj = Object(sym);
      if (typeof sym === "string") {
        return false;
      }
      if (Object.prototype.toString.call(sym) !== "[object Symbol]") {
        return false;
      }
      if (Object.prototype.toString.call(symObj) !== "[object Symbol]") {
        return false;
      }
      var symVal = 42;
      obj[sym] = symVal;
      for (sym in obj) {
        return false;
      }
      if (typeof Object.keys === "function" && Object.keys(obj).length !== 0) {
        return false;
      }
      if (typeof Object.getOwnPropertyNames === "function" && Object.getOwnPropertyNames(obj).length !== 0) {
        return false;
      }
      var syms = Object.getOwnPropertySymbols(obj);
      if (syms.length !== 1 || syms[0] !== sym) {
        return false;
      }
      if (!Object.prototype.propertyIsEnumerable.call(obj, sym)) {
        return false;
      }
      if (typeof Object.getOwnPropertyDescriptor === "function") {
        var descriptor = Object.getOwnPropertyDescriptor(obj, sym);
        if (descriptor.value !== symVal || descriptor.enumerable !== true) {
          return false;
        }
      }
      return true;
    };
  }
});

// node_modules/.pnpm/has-symbols@1.0.3/node_modules/has-symbols/index.js
var require_has_symbols = __commonJS({
  "node_modules/.pnpm/has-symbols@1.0.3/node_modules/has-symbols/index.js"(exports, module) {
    "use strict";
    var origSymbol = typeof Symbol !== "undefined" && Symbol;
    var hasSymbolSham = require_shams();
    module.exports = function hasNativeSymbols() {
      if (typeof origSymbol !== "function") {
        return false;
      }
      if (typeof Symbol !== "function") {
        return false;
      }
      if (typeof origSymbol("foo") !== "symbol") {
        return false;
      }
      if (typeof Symbol("bar") !== "symbol") {
        return false;
      }
      return hasSymbolSham();
    };
  }
});

// node_modules/.pnpm/has-proto@1.0.3/node_modules/has-proto/index.js
var require_has_proto = __commonJS({
  "node_modules/.pnpm/has-proto@1.0.3/node_modules/has-proto/index.js"(exports, module) {
    "use strict";
    var test = {
      __proto__: null,
      foo: {}
    };
    var $Object = Object;
    module.exports = function hasProto() {
      return { __proto__: test }.foo === test.foo && !(test instanceof $Object);
    };
  }
});

// node_modules/.pnpm/hasown@2.0.2/node_modules/hasown/index.js
var require_hasown = __commonJS({
  "node_modules/.pnpm/hasown@2.0.2/node_modules/hasown/index.js"(exports, module) {
    "use strict";
    var call = Function.prototype.call;
    var $hasOwn = Object.prototype.hasOwnProperty;
    var bind = require_function_bind();
    module.exports = bind.call(call, $hasOwn);
  }
});

// node_modules/.pnpm/get-intrinsic@1.2.4/node_modules/get-intrinsic/index.js
var require_get_intrinsic = __commonJS({
  "node_modules/.pnpm/get-intrinsic@1.2.4/node_modules/get-intrinsic/index.js"(exports, module) {
    "use strict";
    var undefined2;
    var $Error = require_es_errors();
    var $EvalError = require_eval();
    var $RangeError = require_range();
    var $ReferenceError = require_ref();
    var $SyntaxError = require_syntax();
    var $TypeError = require_type();
    var $URIError = require_uri();
    var $Function = Function;
    var getEvalledConstructor = function(expressionSyntax) {
      try {
        return $Function('"use strict"; return (' + expressionSyntax + ").constructor;")();
      } catch (e) {
      }
    };
    var $gOPD = Object.getOwnPropertyDescriptor;
    if ($gOPD) {
      try {
        $gOPD({}, "");
      } catch (e) {
        $gOPD = null;
      }
    }
    var throwTypeError = function() {
      throw new $TypeError();
    };
    var ThrowTypeError = $gOPD ? function() {
      try {
        arguments.callee;
        return throwTypeError;
      } catch (calleeThrows) {
        try {
          return $gOPD(arguments, "callee").get;
        } catch (gOPDthrows) {
          return throwTypeError;
        }
      }
    }() : throwTypeError;
    var hasSymbols = require_has_symbols()();
    var hasProto = require_has_proto()();
    var getProto = Object.getPrototypeOf || (hasProto ? function(x) {
      return x.__proto__;
    } : null);
    var needsEval = {};
    var TypedArray = typeof Uint8Array === "undefined" || !getProto ? undefined2 : getProto(Uint8Array);
    var INTRINSICS = {
      __proto__: null,
      "%AggregateError%": typeof AggregateError === "undefined" ? undefined2 : AggregateError,
      "%Array%": Array,
      "%ArrayBuffer%": typeof ArrayBuffer === "undefined" ? undefined2 : ArrayBuffer,
      "%ArrayIteratorPrototype%": hasSymbols && getProto ? getProto([][Symbol.iterator]()) : undefined2,
      "%AsyncFromSyncIteratorPrototype%": undefined2,
      "%AsyncFunction%": needsEval,
      "%AsyncGenerator%": needsEval,
      "%AsyncGeneratorFunction%": needsEval,
      "%AsyncIteratorPrototype%": needsEval,
      "%Atomics%": typeof Atomics === "undefined" ? undefined2 : Atomics,
      "%BigInt%": typeof BigInt === "undefined" ? undefined2 : BigInt,
      "%BigInt64Array%": typeof BigInt64Array === "undefined" ? undefined2 : BigInt64Array,
      "%BigUint64Array%": typeof BigUint64Array === "undefined" ? undefined2 : BigUint64Array,
      "%Boolean%": Boolean,
      "%DataView%": typeof DataView === "undefined" ? undefined2 : DataView,
      "%Date%": Date,
      "%decodeURI%": decodeURI,
      "%decodeURIComponent%": decodeURIComponent,
      "%encodeURI%": encodeURI,
      "%encodeURIComponent%": encodeURIComponent,
      "%Error%": $Error,
      "%eval%": eval,
      // eslint-disable-line no-eval
      "%EvalError%": $EvalError,
      "%Float32Array%": typeof Float32Array === "undefined" ? undefined2 : Float32Array,
      "%Float64Array%": typeof Float64Array === "undefined" ? undefined2 : Float64Array,
      "%FinalizationRegistry%": typeof FinalizationRegistry === "undefined" ? undefined2 : FinalizationRegistry,
      "%Function%": $Function,
      "%GeneratorFunction%": needsEval,
      "%Int8Array%": typeof Int8Array === "undefined" ? undefined2 : Int8Array,
      "%Int16Array%": typeof Int16Array === "undefined" ? undefined2 : Int16Array,
      "%Int32Array%": typeof Int32Array === "undefined" ? undefined2 : Int32Array,
      "%isFinite%": isFinite,
      "%isNaN%": isNaN,
      "%IteratorPrototype%": hasSymbols && getProto ? getProto(getProto([][Symbol.iterator]())) : undefined2,
      "%JSON%": typeof JSON === "object" ? JSON : undefined2,
      "%Map%": typeof Map === "undefined" ? undefined2 : Map,
      "%MapIteratorPrototype%": typeof Map === "undefined" || !hasSymbols || !getProto ? undefined2 : getProto((/* @__PURE__ */ new Map())[Symbol.iterator]()),
      "%Math%": Math,
      "%Number%": Number,
      "%Object%": Object,
      "%parseFloat%": parseFloat,
      "%parseInt%": parseInt,
      "%Promise%": typeof Promise === "undefined" ? undefined2 : Promise,
      "%Proxy%": typeof Proxy === "undefined" ? undefined2 : Proxy,
      "%RangeError%": $RangeError,
      "%ReferenceError%": $ReferenceError,
      "%Reflect%": typeof Reflect === "undefined" ? undefined2 : Reflect,
      "%RegExp%": RegExp,
      "%Set%": typeof Set === "undefined" ? undefined2 : Set,
      "%SetIteratorPrototype%": typeof Set === "undefined" || !hasSymbols || !getProto ? undefined2 : getProto((/* @__PURE__ */ new Set())[Symbol.iterator]()),
      "%SharedArrayBuffer%": typeof SharedArrayBuffer === "undefined" ? undefined2 : SharedArrayBuffer,
      "%String%": String,
      "%StringIteratorPrototype%": hasSymbols && getProto ? getProto(""[Symbol.iterator]()) : undefined2,
      "%Symbol%": hasSymbols ? Symbol : undefined2,
      "%SyntaxError%": $SyntaxError,
      "%ThrowTypeError%": ThrowTypeError,
      "%TypedArray%": TypedArray,
      "%TypeError%": $TypeError,
      "%Uint8Array%": typeof Uint8Array === "undefined" ? undefined2 : Uint8Array,
      "%Uint8ClampedArray%": typeof Uint8ClampedArray === "undefined" ? undefined2 : Uint8ClampedArray,
      "%Uint16Array%": typeof Uint16Array === "undefined" ? undefined2 : Uint16Array,
      "%Uint32Array%": typeof Uint32Array === "undefined" ? undefined2 : Uint32Array,
      "%URIError%": $URIError,
      "%WeakMap%": typeof WeakMap === "undefined" ? undefined2 : WeakMap,
      "%WeakRef%": typeof WeakRef === "undefined" ? undefined2 : WeakRef,
      "%WeakSet%": typeof WeakSet === "undefined" ? undefined2 : WeakSet
    };
    if (getProto) {
      try {
        null.error;
      } catch (e) {
        errorProto = getProto(getProto(e));
        INTRINSICS["%Error.prototype%"] = errorProto;
      }
    }
    var errorProto;
    var doEval = function doEval2(name) {
      var value;
      if (name === "%AsyncFunction%") {
        value = getEvalledConstructor("async function () {}");
      } else if (name === "%GeneratorFunction%") {
        value = getEvalledConstructor("function* () {}");
      } else if (name === "%AsyncGeneratorFunction%") {
        value = getEvalledConstructor("async function* () {}");
      } else if (name === "%AsyncGenerator%") {
        var fn = doEval2("%AsyncGeneratorFunction%");
        if (fn) {
          value = fn.prototype;
        }
      } else if (name === "%AsyncIteratorPrototype%") {
        var gen = doEval2("%AsyncGenerator%");
        if (gen && getProto) {
          value = getProto(gen.prototype);
        }
      }
      INTRINSICS[name] = value;
      return value;
    };
    var LEGACY_ALIASES = {
      __proto__: null,
      "%ArrayBufferPrototype%": ["ArrayBuffer", "prototype"],
      "%ArrayPrototype%": ["Array", "prototype"],
      "%ArrayProto_entries%": ["Array", "prototype", "entries"],
      "%ArrayProto_forEach%": ["Array", "prototype", "forEach"],
      "%ArrayProto_keys%": ["Array", "prototype", "keys"],
      "%ArrayProto_values%": ["Array", "prototype", "values"],
      "%AsyncFunctionPrototype%": ["AsyncFunction", "prototype"],
      "%AsyncGenerator%": ["AsyncGeneratorFunction", "prototype"],
      "%AsyncGeneratorPrototype%": ["AsyncGeneratorFunction", "prototype", "prototype"],
      "%BooleanPrototype%": ["Boolean", "prototype"],
      "%DataViewPrototype%": ["DataView", "prototype"],
      "%DatePrototype%": ["Date", "prototype"],
      "%ErrorPrototype%": ["Error", "prototype"],
      "%EvalErrorPrototype%": ["EvalError", "prototype"],
      "%Float32ArrayPrototype%": ["Float32Array", "prototype"],
      "%Float64ArrayPrototype%": ["Float64Array", "prototype"],
      "%FunctionPrototype%": ["Function", "prototype"],
      "%Generator%": ["GeneratorFunction", "prototype"],
      "%GeneratorPrototype%": ["GeneratorFunction", "prototype", "prototype"],
      "%Int8ArrayPrototype%": ["Int8Array", "prototype"],
      "%Int16ArrayPrototype%": ["Int16Array", "prototype"],
      "%Int32ArrayPrototype%": ["Int32Array", "prototype"],
      "%JSONParse%": ["JSON", "parse"],
      "%JSONStringify%": ["JSON", "stringify"],
      "%MapPrototype%": ["Map", "prototype"],
      "%NumberPrototype%": ["Number", "prototype"],
      "%ObjectPrototype%": ["Object", "prototype"],
      "%ObjProto_toString%": ["Object", "prototype", "toString"],
      "%ObjProto_valueOf%": ["Object", "prototype", "valueOf"],
      "%PromisePrototype%": ["Promise", "prototype"],
      "%PromiseProto_then%": ["Promise", "prototype", "then"],
      "%Promise_all%": ["Promise", "all"],
      "%Promise_reject%": ["Promise", "reject"],
      "%Promise_resolve%": ["Promise", "resolve"],
      "%RangeErrorPrototype%": ["RangeError", "prototype"],
      "%ReferenceErrorPrototype%": ["ReferenceError", "prototype"],
      "%RegExpPrototype%": ["RegExp", "prototype"],
      "%SetPrototype%": ["Set", "prototype"],
      "%SharedArrayBufferPrototype%": ["SharedArrayBuffer", "prototype"],
      "%StringPrototype%": ["String", "prototype"],
      "%SymbolPrototype%": ["Symbol", "prototype"],
      "%SyntaxErrorPrototype%": ["SyntaxError", "prototype"],
      "%TypedArrayPrototype%": ["TypedArray", "prototype"],
      "%TypeErrorPrototype%": ["TypeError", "prototype"],
      "%Uint8ArrayPrototype%": ["Uint8Array", "prototype"],
      "%Uint8ClampedArrayPrototype%": ["Uint8ClampedArray", "prototype"],
      "%Uint16ArrayPrototype%": ["Uint16Array", "prototype"],
      "%Uint32ArrayPrototype%": ["Uint32Array", "prototype"],
      "%URIErrorPrototype%": ["URIError", "prototype"],
      "%WeakMapPrototype%": ["WeakMap", "prototype"],
      "%WeakSetPrototype%": ["WeakSet", "prototype"]
    };
    var bind = require_function_bind();
    var hasOwn = require_hasown();
    var $concat = bind.call(Function.call, Array.prototype.concat);
    var $spliceApply = bind.call(Function.apply, Array.prototype.splice);
    var $replace = bind.call(Function.call, String.prototype.replace);
    var $strSlice = bind.call(Function.call, String.prototype.slice);
    var $exec = bind.call(Function.call, RegExp.prototype.exec);
    var rePropName = /[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g;
    var reEscapeChar = /\\(\\)?/g;
    var stringToPath = function stringToPath2(string) {
      var first = $strSlice(string, 0, 1);
      var last = $strSlice(string, -1);
      if (first === "%" && last !== "%") {
        throw new $SyntaxError("invalid intrinsic syntax, expected closing `%`");
      } else if (last === "%" && first !== "%") {
        throw new $SyntaxError("invalid intrinsic syntax, expected opening `%`");
      }
      var result = [];
      $replace(string, rePropName, function(match, number, quote, subString) {
        result[result.length] = quote ? $replace(subString, reEscapeChar, "$1") : number || match;
      });
      return result;
    };
    var getBaseIntrinsic = function getBaseIntrinsic2(name, allowMissing) {
      var intrinsicName = name;
      var alias;
      if (hasOwn(LEGACY_ALIASES, intrinsicName)) {
        alias = LEGACY_ALIASES[intrinsicName];
        intrinsicName = "%" + alias[0] + "%";
      }
      if (hasOwn(INTRINSICS, intrinsicName)) {
        var value = INTRINSICS[intrinsicName];
        if (value === needsEval) {
          value = doEval(intrinsicName);
        }
        if (typeof value === "undefined" && !allowMissing) {
          throw new $TypeError("intrinsic " + name + " exists, but is not available. Please file an issue!");
        }
        return {
          alias,
          name: intrinsicName,
          value
        };
      }
      throw new $SyntaxError("intrinsic " + name + " does not exist!");
    };
    module.exports = function GetIntrinsic(name, allowMissing) {
      if (typeof name !== "string" || name.length === 0) {
        throw new $TypeError("intrinsic name must be a non-empty string");
      }
      if (arguments.length > 1 && typeof allowMissing !== "boolean") {
        throw new $TypeError('"allowMissing" argument must be a boolean');
      }
      if ($exec(/^%?[^%]*%?$/, name) === null) {
        throw new $SyntaxError("`%` may not be present anywhere but at the beginning and end of the intrinsic name");
      }
      var parts = stringToPath(name);
      var intrinsicBaseName = parts.length > 0 ? parts[0] : "";
      var intrinsic = getBaseIntrinsic("%" + intrinsicBaseName + "%", allowMissing);
      var intrinsicRealName = intrinsic.name;
      var value = intrinsic.value;
      var skipFurtherCaching = false;
      var alias = intrinsic.alias;
      if (alias) {
        intrinsicBaseName = alias[0];
        $spliceApply(parts, $concat([0, 1], alias));
      }
      for (var i = 1, isOwn = true; i < parts.length; i += 1) {
        var part = parts[i];
        var first = $strSlice(part, 0, 1);
        var last = $strSlice(part, -1);
        if ((first === '"' || first === "'" || first === "`" || (last === '"' || last === "'" || last === "`")) && first !== last) {
          throw new $SyntaxError("property names with quotes must have matching quotes");
        }
        if (part === "constructor" || !isOwn) {
          skipFurtherCaching = true;
        }
        intrinsicBaseName += "." + part;
        intrinsicRealName = "%" + intrinsicBaseName + "%";
        if (hasOwn(INTRINSICS, intrinsicRealName)) {
          value = INTRINSICS[intrinsicRealName];
        } else if (value != null) {
          if (!(part in value)) {
            if (!allowMissing) {
              throw new $TypeError("base intrinsic for " + name + " exists, but the property is not available.");
            }
            return void 0;
          }
          if ($gOPD && i + 1 >= parts.length) {
            var desc = $gOPD(value, part);
            isOwn = !!desc;
            if (isOwn && "get" in desc && !("originalValue" in desc.get)) {
              value = desc.get;
            } else {
              value = value[part];
            }
          } else {
            isOwn = hasOwn(value, part);
            value = value[part];
          }
          if (isOwn && !skipFurtherCaching) {
            INTRINSICS[intrinsicRealName] = value;
          }
        }
      }
      return value;
    };
  }
});

// node_modules/.pnpm/es-define-property@1.0.0/node_modules/es-define-property/index.js
var require_es_define_property = __commonJS({
  "node_modules/.pnpm/es-define-property@1.0.0/node_modules/es-define-property/index.js"(exports, module) {
    "use strict";
    var GetIntrinsic = require_get_intrinsic();
    var $defineProperty = GetIntrinsic("%Object.defineProperty%", true) || false;
    if ($defineProperty) {
      try {
        $defineProperty({}, "a", { value: 1 });
      } catch (e) {
        $defineProperty = false;
      }
    }
    module.exports = $defineProperty;
  }
});

// node_modules/.pnpm/gopd@1.0.1/node_modules/gopd/index.js
var require_gopd = __commonJS({
  "node_modules/.pnpm/gopd@1.0.1/node_modules/gopd/index.js"(exports, module) {
    "use strict";
    var GetIntrinsic = require_get_intrinsic();
    var $gOPD = GetIntrinsic("%Object.getOwnPropertyDescriptor%", true);
    if ($gOPD) {
      try {
        $gOPD([], "length");
      } catch (e) {
        $gOPD = null;
      }
    }
    module.exports = $gOPD;
  }
});

// node_modules/.pnpm/define-data-property@1.1.4/node_modules/define-data-property/index.js
var require_define_data_property = __commonJS({
  "node_modules/.pnpm/define-data-property@1.1.4/node_modules/define-data-property/index.js"(exports, module) {
    "use strict";
    var $defineProperty = require_es_define_property();
    var $SyntaxError = require_syntax();
    var $TypeError = require_type();
    var gopd = require_gopd();
    module.exports = function defineDataProperty(obj, property, value) {
      if (!obj || typeof obj !== "object" && typeof obj !== "function") {
        throw new $TypeError("`obj` must be an object or a function`");
      }
      if (typeof property !== "string" && typeof property !== "symbol") {
        throw new $TypeError("`property` must be a string or a symbol`");
      }
      if (arguments.length > 3 && typeof arguments[3] !== "boolean" && arguments[3] !== null) {
        throw new $TypeError("`nonEnumerable`, if provided, must be a boolean or null");
      }
      if (arguments.length > 4 && typeof arguments[4] !== "boolean" && arguments[4] !== null) {
        throw new $TypeError("`nonWritable`, if provided, must be a boolean or null");
      }
      if (arguments.length > 5 && typeof arguments[5] !== "boolean" && arguments[5] !== null) {
        throw new $TypeError("`nonConfigurable`, if provided, must be a boolean or null");
      }
      if (arguments.length > 6 && typeof arguments[6] !== "boolean") {
        throw new $TypeError("`loose`, if provided, must be a boolean");
      }
      var nonEnumerable = arguments.length > 3 ? arguments[3] : null;
      var nonWritable = arguments.length > 4 ? arguments[4] : null;
      var nonConfigurable = arguments.length > 5 ? arguments[5] : null;
      var loose = arguments.length > 6 ? arguments[6] : false;
      var desc = !!gopd && gopd(obj, property);
      if ($defineProperty) {
        $defineProperty(obj, property, {
          configurable: nonConfigurable === null && desc ? desc.configurable : !nonConfigurable,
          enumerable: nonEnumerable === null && desc ? desc.enumerable : !nonEnumerable,
          value,
          writable: nonWritable === null && desc ? desc.writable : !nonWritable
        });
      } else if (loose || !nonEnumerable && !nonWritable && !nonConfigurable) {
        obj[property] = value;
      } else {
        throw new $SyntaxError("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");
      }
    };
  }
});

// node_modules/.pnpm/has-property-descriptors@1.0.2/node_modules/has-property-descriptors/index.js
var require_has_property_descriptors = __commonJS({
  "node_modules/.pnpm/has-property-descriptors@1.0.2/node_modules/has-property-descriptors/index.js"(exports, module) {
    "use strict";
    var $defineProperty = require_es_define_property();
    var hasPropertyDescriptors = function hasPropertyDescriptors2() {
      return !!$defineProperty;
    };
    hasPropertyDescriptors.hasArrayLengthDefineBug = function hasArrayLengthDefineBug() {
      if (!$defineProperty) {
        return null;
      }
      try {
        return $defineProperty([], "length", { value: 1 }).length !== 1;
      } catch (e) {
        return true;
      }
    };
    module.exports = hasPropertyDescriptors;
  }
});

// node_modules/.pnpm/set-function-length@1.2.2/node_modules/set-function-length/index.js
var require_set_function_length = __commonJS({
  "node_modules/.pnpm/set-function-length@1.2.2/node_modules/set-function-length/index.js"(exports, module) {
    "use strict";
    var GetIntrinsic = require_get_intrinsic();
    var define = require_define_data_property();
    var hasDescriptors = require_has_property_descriptors()();
    var gOPD = require_gopd();
    var $TypeError = require_type();
    var $floor = GetIntrinsic("%Math.floor%");
    module.exports = function setFunctionLength(fn, length) {
      if (typeof fn !== "function") {
        throw new $TypeError("`fn` is not a function");
      }
      if (typeof length !== "number" || length < 0 || length > 4294967295 || $floor(length) !== length) {
        throw new $TypeError("`length` must be a positive 32-bit integer");
      }
      var loose = arguments.length > 2 && !!arguments[2];
      var functionLengthIsConfigurable = true;
      var functionLengthIsWritable = true;
      if ("length" in fn && gOPD) {
        var desc = gOPD(fn, "length");
        if (desc && !desc.configurable) {
          functionLengthIsConfigurable = false;
        }
        if (desc && !desc.writable) {
          functionLengthIsWritable = false;
        }
      }
      if (functionLengthIsConfigurable || functionLengthIsWritable || !loose) {
        if (hasDescriptors) {
          define(
            /** @type {Parameters<define>[0]} */
            fn,
            "length",
            length,
            true,
            true
          );
        } else {
          define(
            /** @type {Parameters<define>[0]} */
            fn,
            "length",
            length
          );
        }
      }
      return fn;
    };
  }
});

// node_modules/.pnpm/call-bind@1.0.7/node_modules/call-bind/index.js
var require_call_bind = __commonJS({
  "node_modules/.pnpm/call-bind@1.0.7/node_modules/call-bind/index.js"(exports, module) {
    "use strict";
    var bind = require_function_bind();
    var GetIntrinsic = require_get_intrinsic();
    var setFunctionLength = require_set_function_length();
    var $TypeError = require_type();
    var $apply = GetIntrinsic("%Function.prototype.apply%");
    var $call = GetIntrinsic("%Function.prototype.call%");
    var $reflectApply = GetIntrinsic("%Reflect.apply%", true) || bind.call($call, $apply);
    var $defineProperty = require_es_define_property();
    var $max = GetIntrinsic("%Math.max%");
    module.exports = function callBind(originalFunction) {
      if (typeof originalFunction !== "function") {
        throw new $TypeError("a function is required");
      }
      var func = $reflectApply(bind, $call, arguments);
      return setFunctionLength(
        func,
        1 + $max(0, originalFunction.length - (arguments.length - 1)),
        true
      );
    };
    var applyBind = function applyBind2() {
      return $reflectApply(bind, $apply, arguments);
    };
    if ($defineProperty) {
      $defineProperty(module.exports, "apply", { value: applyBind });
    } else {
      module.exports.apply = applyBind;
    }
  }
});

// node_modules/.pnpm/object-keys@1.1.1/node_modules/object-keys/isArguments.js
var require_isArguments = __commonJS({
  "node_modules/.pnpm/object-keys@1.1.1/node_modules/object-keys/isArguments.js"(exports, module) {
    "use strict";
    var toStr = Object.prototype.toString;
    module.exports = function isArguments(value) {
      var str = toStr.call(value);
      var isArgs = str === "[object Arguments]";
      if (!isArgs) {
        isArgs = str !== "[object Array]" && value !== null && typeof value === "object" && typeof value.length === "number" && value.length >= 0 && toStr.call(value.callee) === "[object Function]";
      }
      return isArgs;
    };
  }
});

// node_modules/.pnpm/object-keys@1.1.1/node_modules/object-keys/implementation.js
var require_implementation2 = __commonJS({
  "node_modules/.pnpm/object-keys@1.1.1/node_modules/object-keys/implementation.js"(exports, module) {
    "use strict";
    var keysShim;
    if (!Object.keys) {
      has = Object.prototype.hasOwnProperty;
      toStr = Object.prototype.toString;
      isArgs = require_isArguments();
      isEnumerable = Object.prototype.propertyIsEnumerable;
      hasDontEnumBug = !isEnumerable.call({ toString: null }, "toString");
      hasProtoEnumBug = isEnumerable.call(function() {
      }, "prototype");
      dontEnums = [
        "toString",
        "toLocaleString",
        "valueOf",
        "hasOwnProperty",
        "isPrototypeOf",
        "propertyIsEnumerable",
        "constructor"
      ];
      equalsConstructorPrototype = function(o) {
        var ctor = o.constructor;
        return ctor && ctor.prototype === o;
      };
      excludedKeys = {
        $applicationCache: true,
        $console: true,
        $external: true,
        $frame: true,
        $frameElement: true,
        $frames: true,
        $innerHeight: true,
        $innerWidth: true,
        $onmozfullscreenchange: true,
        $onmozfullscreenerror: true,
        $outerHeight: true,
        $outerWidth: true,
        $pageXOffset: true,
        $pageYOffset: true,
        $parent: true,
        $scrollLeft: true,
        $scrollTop: true,
        $scrollX: true,
        $scrollY: true,
        $self: true,
        $webkitIndexedDB: true,
        $webkitStorageInfo: true,
        $window: true
      };
      hasAutomationEqualityBug = function() {
        if (typeof window === "undefined") {
          return false;
        }
        for (var k in window) {
          try {
            if (!excludedKeys["$" + k] && has.call(window, k) && window[k] !== null && typeof window[k] === "object") {
              try {
                equalsConstructorPrototype(window[k]);
              } catch (e) {
                return true;
              }
            }
          } catch (e) {
            return true;
          }
        }
        return false;
      }();
      equalsConstructorPrototypeIfNotBuggy = function(o) {
        if (typeof window === "undefined" || !hasAutomationEqualityBug) {
          return equalsConstructorPrototype(o);
        }
        try {
          return equalsConstructorPrototype(o);
        } catch (e) {
          return false;
        }
      };
      keysShim = function keys(object) {
        var isObject = object !== null && typeof object === "object";
        var isFunction = toStr.call(object) === "[object Function]";
        var isArguments = isArgs(object);
        var isString = isObject && toStr.call(object) === "[object String]";
        var theKeys = [];
        if (!isObject && !isFunction && !isArguments) {
          throw new TypeError("Object.keys called on a non-object");
        }
        var skipProto = hasProtoEnumBug && isFunction;
        if (isString && object.length > 0 && !has.call(object, 0)) {
          for (var i = 0; i < object.length; ++i) {
            theKeys.push(String(i));
          }
        }
        if (isArguments && object.length > 0) {
          for (var j = 0; j < object.length; ++j) {
            theKeys.push(String(j));
          }
        } else {
          for (var name in object) {
            if (!(skipProto && name === "prototype") && has.call(object, name)) {
              theKeys.push(String(name));
            }
          }
        }
        if (hasDontEnumBug) {
          var skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);
          for (var k = 0; k < dontEnums.length; ++k) {
            if (!(skipConstructor && dontEnums[k] === "constructor") && has.call(object, dontEnums[k])) {
              theKeys.push(dontEnums[k]);
            }
          }
        }
        return theKeys;
      };
    }
    var has;
    var toStr;
    var isArgs;
    var isEnumerable;
    var hasDontEnumBug;
    var hasProtoEnumBug;
    var dontEnums;
    var equalsConstructorPrototype;
    var excludedKeys;
    var hasAutomationEqualityBug;
    var equalsConstructorPrototypeIfNotBuggy;
    module.exports = keysShim;
  }
});

// node_modules/.pnpm/object-keys@1.1.1/node_modules/object-keys/index.js
var require_object_keys = __commonJS({
  "node_modules/.pnpm/object-keys@1.1.1/node_modules/object-keys/index.js"(exports, module) {
    "use strict";
    var slice = Array.prototype.slice;
    var isArgs = require_isArguments();
    var origKeys = Object.keys;
    var keysShim = origKeys ? function keys(o) {
      return origKeys(o);
    } : require_implementation2();
    var originalKeys = Object.keys;
    keysShim.shim = function shimObjectKeys() {
      if (Object.keys) {
        var keysWorksWithArguments = function() {
          var args = Object.keys(arguments);
          return args && args.length === arguments.length;
        }(1, 2);
        if (!keysWorksWithArguments) {
          Object.keys = function keys(object) {
            if (isArgs(object)) {
              return originalKeys(slice.call(object));
            }
            return originalKeys(object);
          };
        }
      } else {
        Object.keys = keysShim;
      }
      return Object.keys || keysShim;
    };
    module.exports = keysShim;
  }
});

// node_modules/.pnpm/define-properties@1.2.1/node_modules/define-properties/index.js
var require_define_properties = __commonJS({
  "node_modules/.pnpm/define-properties@1.2.1/node_modules/define-properties/index.js"(exports, module) {
    "use strict";
    var keys = require_object_keys();
    var hasSymbols = typeof Symbol === "function" && typeof Symbol("foo") === "symbol";
    var toStr = Object.prototype.toString;
    var concat = Array.prototype.concat;
    var defineDataProperty = require_define_data_property();
    var isFunction = function(fn) {
      return typeof fn === "function" && toStr.call(fn) === "[object Function]";
    };
    var supportsDescriptors = require_has_property_descriptors()();
    var defineProperty = function(object, name, value, predicate) {
      if (name in object) {
        if (predicate === true) {
          if (object[name] === value) {
            return;
          }
        } else if (!isFunction(predicate) || !predicate()) {
          return;
        }
      }
      if (supportsDescriptors) {
        defineDataProperty(object, name, value, true);
      } else {
        defineDataProperty(object, name, value);
      }
    };
    var defineProperties = function(object, map) {
      var predicates = arguments.length > 2 ? arguments[2] : {};
      var props = keys(map);
      if (hasSymbols) {
        props = concat.call(props, Object.getOwnPropertySymbols(map));
      }
      for (var i = 0; i < props.length; i += 1) {
        defineProperty(object, props[i], map[props[i]], predicates[props[i]]);
      }
    };
    defineProperties.supportsDescriptors = !!supportsDescriptors;
    module.exports = defineProperties;
  }
});

// node_modules/.pnpm/promise.prototype.finally@3.1.8/node_modules/promise.prototype.finally/requirePromise.js
var require_requirePromise = __commonJS({
  "node_modules/.pnpm/promise.prototype.finally@3.1.8/node_modules/promise.prototype.finally/requirePromise.js"(exports, module) {
    "use strict";
    module.exports = function requirePromise() {
      if (typeof Promise !== "function") {
        throw new TypeError("`Promise.prototype.finally` requires a global `Promise` be available.");
      }
    };
  }
});

// node_modules/.pnpm/es-abstract@1.23.4/node_modules/es-abstract/2023/PromiseResolve.js
var require_PromiseResolve = __commonJS({
  "node_modules/.pnpm/es-abstract@1.23.4/node_modules/es-abstract/2023/PromiseResolve.js"(exports, module) {
    "use strict";
    var GetIntrinsic = require_get_intrinsic();
    var callBind = require_call_bind();
    var $SyntaxError = require_syntax();
    var $resolve = GetIntrinsic("%Promise.resolve%", true);
    var $PromiseResolve = $resolve && callBind($resolve);
    module.exports = function PromiseResolve(C, x) {
      if (!$PromiseResolve) {
        throw new $SyntaxError("This environment does not support Promises.");
      }
      return $PromiseResolve(C, x);
    };
  }
});

// node_modules/.pnpm/is-callable@1.2.7/node_modules/is-callable/index.js
var require_is_callable = __commonJS({
  "node_modules/.pnpm/is-callable@1.2.7/node_modules/is-callable/index.js"(exports, module) {
    "use strict";
    var fnToStr = Function.prototype.toString;
    var reflectApply = typeof Reflect === "object" && Reflect !== null && Reflect.apply;
    var badArrayLike;
    var isCallableMarker;
    if (typeof reflectApply === "function" && typeof Object.defineProperty === "function") {
      try {
        badArrayLike = Object.defineProperty({}, "length", {
          get: function() {
            throw isCallableMarker;
          }
        });
        isCallableMarker = {};
        reflectApply(function() {
          throw 42;
        }, null, badArrayLike);
      } catch (_) {
        if (_ !== isCallableMarker) {
          reflectApply = null;
        }
      }
    } else {
      reflectApply = null;
    }
    var constructorRegex = /^\s*class\b/;
    var isES6ClassFn = function isES6ClassFunction(value) {
      try {
        var fnStr = fnToStr.call(value);
        return constructorRegex.test(fnStr);
      } catch (e) {
        return false;
      }
    };
    var tryFunctionObject = function tryFunctionToStr(value) {
      try {
        if (isES6ClassFn(value)) {
          return false;
        }
        fnToStr.call(value);
        return true;
      } catch (e) {
        return false;
      }
    };
    var toStr = Object.prototype.toString;
    var objectClass = "[object Object]";
    var fnClass = "[object Function]";
    var genClass = "[object GeneratorFunction]";
    var ddaClass = "[object HTMLAllCollection]";
    var ddaClass2 = "[object HTML document.all class]";
    var ddaClass3 = "[object HTMLCollection]";
    var hasToStringTag = typeof Symbol === "function" && !!Symbol.toStringTag;
    var isIE68 = !(0 in [,]);
    var isDDA = function isDocumentDotAll() {
      return false;
    };
    if (typeof document === "object") {
      all = document.all;
      if (toStr.call(all) === toStr.call(document.all)) {
        isDDA = function isDocumentDotAll(value) {
          if ((isIE68 || !value) && (typeof value === "undefined" || typeof value === "object")) {
            try {
              var str = toStr.call(value);
              return (str === ddaClass || str === ddaClass2 || str === ddaClass3 || str === objectClass) && value("") == null;
            } catch (e) {
            }
          }
          return false;
        };
      }
    }
    var all;
    module.exports = reflectApply ? function isCallable(value) {
      if (isDDA(value)) {
        return true;
      }
      if (!value) {
        return false;
      }
      if (typeof value !== "function" && typeof value !== "object") {
        return false;
      }
      try {
        reflectApply(value, null, badArrayLike);
      } catch (e) {
        if (e !== isCallableMarker) {
          return false;
        }
      }
      return !isES6ClassFn(value) && tryFunctionObject(value);
    } : function isCallable(value) {
      if (isDDA(value)) {
        return true;
      }
      if (!value) {
        return false;
      }
      if (typeof value !== "function" && typeof value !== "object") {
        return false;
      }
      if (hasToStringTag) {
        return tryFunctionObject(value);
      }
      if (isES6ClassFn(value)) {
        return false;
      }
      var strClass = toStr.call(value);
      if (strClass !== fnClass && strClass !== genClass && !/^\[object HTML/.test(strClass)) {
        return false;
      }
      return tryFunctionObject(value);
    };
  }
});

// node_modules/.pnpm/es-abstract@1.23.4/node_modules/es-abstract/2023/IsCallable.js
var require_IsCallable = __commonJS({
  "node_modules/.pnpm/es-abstract@1.23.4/node_modules/es-abstract/2023/IsCallable.js"(exports, module) {
    "use strict";
    module.exports = require_is_callable();
  }
});

// node_modules/.pnpm/es-abstract@1.23.4/node_modules/es-abstract/GetIntrinsic.js
var require_GetIntrinsic = __commonJS({
  "node_modules/.pnpm/es-abstract@1.23.4/node_modules/es-abstract/GetIntrinsic.js"(exports, module) {
    "use strict";
    module.exports = require_get_intrinsic();
  }
});

// node_modules/.pnpm/es-abstract@1.23.4/node_modules/es-abstract/helpers/records/property-descriptor.js
var require_property_descriptor = __commonJS({
  "node_modules/.pnpm/es-abstract@1.23.4/node_modules/es-abstract/helpers/records/property-descriptor.js"(exports, module) {
    "use strict";
    var $TypeError = require_type();
    var hasOwn = require_hasown();
    var allowed = {
      __proto__: null,
      "[[Configurable]]": true,
      "[[Enumerable]]": true,
      "[[Get]]": true,
      "[[Set]]": true,
      "[[Value]]": true,
      "[[Writable]]": true
    };
    module.exports = function isPropertyDescriptor(Desc) {
      if (!Desc || typeof Desc !== "object") {
        return false;
      }
      for (var key in Desc) {
        if (hasOwn(Desc, key) && !allowed[key]) {
          return false;
        }
      }
      var isData = hasOwn(Desc, "[[Value]]") || hasOwn(Desc, "[[Writable]]");
      var IsAccessor = hasOwn(Desc, "[[Get]]") || hasOwn(Desc, "[[Set]]");
      if (isData && IsAccessor) {
        throw new $TypeError("Property Descriptors may not be both accessor and data descriptors");
      }
      return true;
    };
  }
});

// node_modules/.pnpm/call-bind@1.0.7/node_modules/call-bind/callBound.js
var require_callBound = __commonJS({
  "node_modules/.pnpm/call-bind@1.0.7/node_modules/call-bind/callBound.js"(exports, module) {
    "use strict";
    var GetIntrinsic = require_get_intrinsic();
    var callBind = require_call_bind();
    var $indexOf = callBind(GetIntrinsic("String.prototype.indexOf"));
    module.exports = function callBoundIntrinsic(name, allowMissing) {
      var intrinsic = GetIntrinsic(name, !!allowMissing);
      if (typeof intrinsic === "function" && $indexOf(name, ".prototype.") > -1) {
        return callBind(intrinsic);
      }
      return intrinsic;
    };
  }
});

// node_modules/.pnpm/es-abstract@1.23.4/node_modules/es-abstract/helpers/IsArray.js
var require_IsArray = __commonJS({
  "node_modules/.pnpm/es-abstract@1.23.4/node_modules/es-abstract/helpers/IsArray.js"(exports, module) {
    "use strict";
    var GetIntrinsic = require_get_intrinsic();
    var $Array = GetIntrinsic("%Array%");
    var toStr = !$Array.isArray && require_callBound()("Object.prototype.toString");
    module.exports = $Array.isArray || function IsArray(argument) {
      return toStr(argument) === "[object Array]";
    };
  }
});

// node_modules/.pnpm/es-abstract@1.23.4/node_modules/es-abstract/helpers/DefineOwnProperty.js
var require_DefineOwnProperty = __commonJS({
  "node_modules/.pnpm/es-abstract@1.23.4/node_modules/es-abstract/helpers/DefineOwnProperty.js"(exports, module) {
    "use strict";
    var hasPropertyDescriptors = require_has_property_descriptors();
    var $defineProperty = require_es_define_property();
    var hasArrayLengthDefineBug = hasPropertyDescriptors.hasArrayLengthDefineBug();
    var isArray = hasArrayLengthDefineBug && require_IsArray();
    var callBound = require_callBound();
    var $isEnumerable = callBound("Object.prototype.propertyIsEnumerable");
    module.exports = function DefineOwnProperty(IsDataDescriptor, SameValue, FromPropertyDescriptor, O, P, desc) {
      if (!$defineProperty) {
        if (!IsDataDescriptor(desc)) {
          return false;
        }
        if (!desc["[[Configurable]]"] || !desc["[[Writable]]"]) {
          return false;
        }
        if (P in O && $isEnumerable(O, P) !== !!desc["[[Enumerable]]"]) {
          return false;
        }
        var V = desc["[[Value]]"];
        O[P] = V;
        return SameValue(O[P], V);
      }
      if (hasArrayLengthDefineBug && P === "length" && "[[Value]]" in desc && isArray(O) && O.length !== desc["[[Value]]"]) {
        O.length = desc["[[Value]]"];
        return O.length === desc["[[Value]]"];
      }
      $defineProperty(O, P, FromPropertyDescriptor(desc));
      return true;
    };
  }
});

// node_modules/.pnpm/es-abstract@1.23.4/node_modules/es-abstract/helpers/fromPropertyDescriptor.js
var require_fromPropertyDescriptor = __commonJS({
  "node_modules/.pnpm/es-abstract@1.23.4/node_modules/es-abstract/helpers/fromPropertyDescriptor.js"(exports, module) {
    "use strict";
    module.exports = function fromPropertyDescriptor(Desc) {
      if (typeof Desc === "undefined") {
        return Desc;
      }
      var obj = {};
      if ("[[Value]]" in Desc) {
        obj.value = Desc["[[Value]]"];
      }
      if ("[[Writable]]" in Desc) {
        obj.writable = !!Desc["[[Writable]]"];
      }
      if ("[[Get]]" in Desc) {
        obj.get = Desc["[[Get]]"];
      }
      if ("[[Set]]" in Desc) {
        obj.set = Desc["[[Set]]"];
      }
      if ("[[Enumerable]]" in Desc) {
        obj.enumerable = !!Desc["[[Enumerable]]"];
      }
      if ("[[Configurable]]" in Desc) {
        obj.configurable = !!Desc["[[Configurable]]"];
      }
      return obj;
    };
  }
});

// node_modules/.pnpm/es-abstract@1.23.4/node_modules/es-abstract/2023/FromPropertyDescriptor.js
var require_FromPropertyDescriptor = __commonJS({
  "node_modules/.pnpm/es-abstract@1.23.4/node_modules/es-abstract/2023/FromPropertyDescriptor.js"(exports, module) {
    "use strict";
    var $TypeError = require_type();
    var isPropertyDescriptor = require_property_descriptor();
    var fromPropertyDescriptor = require_fromPropertyDescriptor();
    module.exports = function FromPropertyDescriptor(Desc) {
      if (typeof Desc !== "undefined" && !isPropertyDescriptor(Desc)) {
        throw new $TypeError("Assertion failed: `Desc` must be a Property Descriptor");
      }
      return fromPropertyDescriptor(Desc);
    };
  }
});

// node_modules/.pnpm/es-abstract@1.23.4/node_modules/es-abstract/2023/IsDataDescriptor.js
var require_IsDataDescriptor = __commonJS({
  "node_modules/.pnpm/es-abstract@1.23.4/node_modules/es-abstract/2023/IsDataDescriptor.js"(exports, module) {
    "use strict";
    var $TypeError = require_type();
    var hasOwn = require_hasown();
    var isPropertyDescriptor = require_property_descriptor();
    module.exports = function IsDataDescriptor(Desc) {
      if (typeof Desc === "undefined") {
        return false;
      }
      if (!isPropertyDescriptor(Desc)) {
        throw new $TypeError("Assertion failed: `Desc` must be a Property Descriptor");
      }
      if (!hasOwn(Desc, "[[Value]]") && !hasOwn(Desc, "[[Writable]]")) {
        return false;
      }
      return true;
    };
  }
});

// node_modules/.pnpm/es-abstract@1.23.4/node_modules/es-abstract/2023/IsPropertyKey.js
var require_IsPropertyKey = __commonJS({
  "node_modules/.pnpm/es-abstract@1.23.4/node_modules/es-abstract/2023/IsPropertyKey.js"(exports, module) {
    "use strict";
    module.exports = function IsPropertyKey(argument) {
      return typeof argument === "string" || typeof argument === "symbol";
    };
  }
});

// node_modules/.pnpm/es-abstract@1.23.4/node_modules/es-abstract/helpers/isNaN.js
var require_isNaN = __commonJS({
  "node_modules/.pnpm/es-abstract@1.23.4/node_modules/es-abstract/helpers/isNaN.js"(exports, module) {
    "use strict";
    module.exports = Number.isNaN || function isNaN2(a) {
      return a !== a;
    };
  }
});

// node_modules/.pnpm/es-abstract@1.23.4/node_modules/es-abstract/2023/SameValue.js
var require_SameValue = __commonJS({
  "node_modules/.pnpm/es-abstract@1.23.4/node_modules/es-abstract/2023/SameValue.js"(exports, module) {
    "use strict";
    var $isNaN = require_isNaN();
    module.exports = function SameValue(x, y) {
      if (x === y) {
        if (x === 0) {
          return 1 / x === 1 / y;
        }
        return true;
      }
      return $isNaN(x) && $isNaN(y);
    };
  }
});

// node_modules/.pnpm/es-abstract@1.23.4/node_modules/es-abstract/5/Type.js
var require_Type = __commonJS({
  "node_modules/.pnpm/es-abstract@1.23.4/node_modules/es-abstract/5/Type.js"(exports, module) {
    "use strict";
    module.exports = function Type(x) {
      if (x === null) {
        return "Null";
      }
      if (typeof x === "undefined") {
        return "Undefined";
      }
      if (typeof x === "function" || typeof x === "object") {
        return "Object";
      }
      if (typeof x === "number") {
        return "Number";
      }
      if (typeof x === "boolean") {
        return "Boolean";
      }
      if (typeof x === "string") {
        return "String";
      }
    };
  }
});

// node_modules/.pnpm/es-abstract@1.23.4/node_modules/es-abstract/2023/Type.js
var require_Type2 = __commonJS({
  "node_modules/.pnpm/es-abstract@1.23.4/node_modules/es-abstract/2023/Type.js"(exports, module) {
    "use strict";
    var ES5Type = require_Type();
    module.exports = function Type(x) {
      if (typeof x === "symbol") {
        return "Symbol";
      }
      if (typeof x === "bigint") {
        return "BigInt";
      }
      return ES5Type(x);
    };
  }
});

// node_modules/.pnpm/es-abstract@1.23.4/node_modules/es-abstract/2023/ToBoolean.js
var require_ToBoolean = __commonJS({
  "node_modules/.pnpm/es-abstract@1.23.4/node_modules/es-abstract/2023/ToBoolean.js"(exports, module) {
    "use strict";
    module.exports = function ToBoolean(value) {
      return !!value;
    };
  }
});

// node_modules/.pnpm/es-abstract@1.23.4/node_modules/es-abstract/2023/ToPropertyDescriptor.js
var require_ToPropertyDescriptor = __commonJS({
  "node_modules/.pnpm/es-abstract@1.23.4/node_modules/es-abstract/2023/ToPropertyDescriptor.js"(exports, module) {
    "use strict";
    var hasOwn = require_hasown();
    var $TypeError = require_type();
    var Type = require_Type2();
    var ToBoolean = require_ToBoolean();
    var IsCallable = require_IsCallable();
    module.exports = function ToPropertyDescriptor(Obj) {
      if (Type(Obj) !== "Object") {
        throw new $TypeError("ToPropertyDescriptor requires an object");
      }
      var desc = {};
      if (hasOwn(Obj, "enumerable")) {
        desc["[[Enumerable]]"] = ToBoolean(Obj.enumerable);
      }
      if (hasOwn(Obj, "configurable")) {
        desc["[[Configurable]]"] = ToBoolean(Obj.configurable);
      }
      if (hasOwn(Obj, "value")) {
        desc["[[Value]]"] = Obj.value;
      }
      if (hasOwn(Obj, "writable")) {
        desc["[[Writable]]"] = ToBoolean(Obj.writable);
      }
      if (hasOwn(Obj, "get")) {
        var getter = Obj.get;
        if (typeof getter !== "undefined" && !IsCallable(getter)) {
          throw new $TypeError("getter must be a function");
        }
        desc["[[Get]]"] = getter;
      }
      if (hasOwn(Obj, "set")) {
        var setter = Obj.set;
        if (typeof setter !== "undefined" && !IsCallable(setter)) {
          throw new $TypeError("setter must be a function");
        }
        desc["[[Set]]"] = setter;
      }
      if ((hasOwn(desc, "[[Get]]") || hasOwn(desc, "[[Set]]")) && (hasOwn(desc, "[[Value]]") || hasOwn(desc, "[[Writable]]"))) {
        throw new $TypeError("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");
      }
      return desc;
    };
  }
});

// node_modules/.pnpm/es-abstract@1.23.4/node_modules/es-abstract/2023/DefinePropertyOrThrow.js
var require_DefinePropertyOrThrow = __commonJS({
  "node_modules/.pnpm/es-abstract@1.23.4/node_modules/es-abstract/2023/DefinePropertyOrThrow.js"(exports, module) {
    "use strict";
    var $TypeError = require_type();
    var isPropertyDescriptor = require_property_descriptor();
    var DefineOwnProperty = require_DefineOwnProperty();
    var FromPropertyDescriptor = require_FromPropertyDescriptor();
    var IsDataDescriptor = require_IsDataDescriptor();
    var IsPropertyKey = require_IsPropertyKey();
    var SameValue = require_SameValue();
    var ToPropertyDescriptor = require_ToPropertyDescriptor();
    var Type = require_Type2();
    module.exports = function DefinePropertyOrThrow(O, P, desc) {
      if (Type(O) !== "Object") {
        throw new $TypeError("Assertion failed: Type(O) is not Object");
      }
      if (!IsPropertyKey(P)) {
        throw new $TypeError("Assertion failed: IsPropertyKey(P) is not true");
      }
      var Desc = isPropertyDescriptor(desc) ? desc : ToPropertyDescriptor(desc);
      if (!isPropertyDescriptor(Desc)) {
        throw new $TypeError("Assertion failed: Desc is not a valid Property Descriptor");
      }
      return DefineOwnProperty(
        IsDataDescriptor,
        SameValue,
        FromPropertyDescriptor,
        O,
        P,
        Desc
      );
    };
  }
});

// node_modules/.pnpm/es-abstract@1.23.4/node_modules/es-abstract/2023/IsConstructor.js
var require_IsConstructor = __commonJS({
  "node_modules/.pnpm/es-abstract@1.23.4/node_modules/es-abstract/2023/IsConstructor.js"(exports, module) {
    "use strict";
    var GetIntrinsic = require_GetIntrinsic();
    var $construct = GetIntrinsic("%Reflect.construct%", true);
    var DefinePropertyOrThrow = require_DefinePropertyOrThrow();
    try {
      DefinePropertyOrThrow({}, "", { "[[Get]]": function() {
      } });
    } catch (e) {
      DefinePropertyOrThrow = null;
    }
    if (DefinePropertyOrThrow && $construct) {
      isConstructorMarker = {};
      badArrayLike = {};
      DefinePropertyOrThrow(badArrayLike, "length", {
        "[[Get]]": function() {
          throw isConstructorMarker;
        },
        "[[Enumerable]]": true
      });
      module.exports = function IsConstructor(argument) {
        try {
          $construct(argument, badArrayLike);
        } catch (err) {
          return err === isConstructorMarker;
        }
      };
    } else {
      module.exports = function IsConstructor(argument) {
        return typeof argument === "function" && !!argument.prototype;
      };
    }
    var isConstructorMarker;
    var badArrayLike;
  }
});

// node_modules/.pnpm/es-abstract@1.23.4/node_modules/es-abstract/2023/SpeciesConstructor.js
var require_SpeciesConstructor = __commonJS({
  "node_modules/.pnpm/es-abstract@1.23.4/node_modules/es-abstract/2023/SpeciesConstructor.js"(exports, module) {
    "use strict";
    var GetIntrinsic = require_get_intrinsic();
    var $species = GetIntrinsic("%Symbol.species%", true);
    var $TypeError = require_type();
    var IsConstructor = require_IsConstructor();
    var Type = require_Type2();
    module.exports = function SpeciesConstructor(O, defaultConstructor) {
      if (Type(O) !== "Object") {
        throw new $TypeError("Assertion failed: Type(O) is not Object");
      }
      var C = O.constructor;
      if (typeof C === "undefined") {
        return defaultConstructor;
      }
      if (Type(C) !== "Object") {
        throw new $TypeError("O.constructor is not an Object");
      }
      var S = $species ? C[$species] : void 0;
      if (S == null) {
        return defaultConstructor;
      }
      if (IsConstructor(S)) {
        return S;
      }
      throw new $TypeError("no constructor found");
    };
  }
});

// node_modules/.pnpm/functions-have-names@1.2.3/node_modules/functions-have-names/index.js
var require_functions_have_names = __commonJS({
  "node_modules/.pnpm/functions-have-names@1.2.3/node_modules/functions-have-names/index.js"(exports, module) {
    "use strict";
    var functionsHaveNames = function functionsHaveNames2() {
      return typeof function f() {
      }.name === "string";
    };
    var gOPD = Object.getOwnPropertyDescriptor;
    if (gOPD) {
      try {
        gOPD([], "length");
      } catch (e) {
        gOPD = null;
      }
    }
    functionsHaveNames.functionsHaveConfigurableNames = function functionsHaveConfigurableNames() {
      if (!functionsHaveNames() || !gOPD) {
        return false;
      }
      var desc = gOPD(function() {
      }, "name");
      return !!desc && !!desc.configurable;
    };
    var $bind = Function.prototype.bind;
    functionsHaveNames.boundFunctionsHaveNames = function boundFunctionsHaveNames() {
      return functionsHaveNames() && typeof $bind === "function" && function f() {
      }.bind().name !== "";
    };
    module.exports = functionsHaveNames;
  }
});

// node_modules/.pnpm/set-function-name@2.0.2/node_modules/set-function-name/index.js
var require_set_function_name = __commonJS({
  "node_modules/.pnpm/set-function-name@2.0.2/node_modules/set-function-name/index.js"(exports, module) {
    "use strict";
    var define = require_define_data_property();
    var hasDescriptors = require_has_property_descriptors()();
    var functionsHaveConfigurableNames = require_functions_have_names().functionsHaveConfigurableNames();
    var $TypeError = require_type();
    module.exports = function setFunctionName(fn, name) {
      if (typeof fn !== "function") {
        throw new $TypeError("`fn` is not a function");
      }
      var loose = arguments.length > 2 && !!arguments[2];
      if (!loose || functionsHaveConfigurableNames) {
        if (hasDescriptors) {
          define(
            /** @type {Parameters<define>[0]} */
            fn,
            "name",
            name,
            true,
            true
          );
        } else {
          define(
            /** @type {Parameters<define>[0]} */
            fn,
            "name",
            name
          );
        }
      }
      return fn;
    };
  }
});

// node_modules/.pnpm/promise.prototype.finally@3.1.8/node_modules/promise.prototype.finally/implementation.js
var require_implementation3 = __commonJS({
  "node_modules/.pnpm/promise.prototype.finally@3.1.8/node_modules/promise.prototype.finally/implementation.js"(exports, module) {
    "use strict";
    var requirePromise = require_requirePromise();
    requirePromise();
    var $TypeError = require_type();
    var PromiseResolve = require_PromiseResolve();
    var IsCallable = require_IsCallable();
    var SpeciesConstructor = require_SpeciesConstructor();
    var Type = require_Type2();
    var setFunctionName = require_set_function_name();
    var OriginalPromise = Promise;
    var createThenFinally = function CreateThenFinally(C, onFinally) {
      return function(value) {
        var result = onFinally();
        var promise = PromiseResolve(C, result);
        var valueThunk = function() {
          return value;
        };
        return promise.then(valueThunk);
      };
    };
    var createCatchFinally = function CreateCatchFinally(C, onFinally) {
      return function(reason) {
        var result = onFinally();
        var promise = PromiseResolve(C, result);
        var thrower = function() {
          throw reason;
        };
        return promise.then(thrower);
      };
    };
    module.exports = setFunctionName(function finally_(onFinally) {
      var promise = this;
      if (Type(promise) !== "Object") {
        throw new $TypeError("receiver is not an Object");
      }
      var C = SpeciesConstructor(promise, OriginalPromise);
      var thenFinally = onFinally;
      var catchFinally = onFinally;
      if (IsCallable(onFinally)) {
        thenFinally = createThenFinally(C, onFinally);
        catchFinally = createCatchFinally(C, onFinally);
      }
      return promise.then(thenFinally, catchFinally);
    }, "finally", true);
  }
});

// node_modules/.pnpm/promise.prototype.finally@3.1.8/node_modules/promise.prototype.finally/polyfill.js
var require_polyfill = __commonJS({
  "node_modules/.pnpm/promise.prototype.finally@3.1.8/node_modules/promise.prototype.finally/polyfill.js"(exports, module) {
    "use strict";
    var requirePromise = require_requirePromise();
    var implementation = require_implementation3();
    module.exports = function getPolyfill() {
      requirePromise();
      return typeof Promise.prototype["finally"] === "function" ? Promise.prototype["finally"] : implementation;
    };
  }
});

// node_modules/.pnpm/promise.prototype.finally@3.1.8/node_modules/promise.prototype.finally/shim.js
var require_shim = __commonJS({
  "node_modules/.pnpm/promise.prototype.finally@3.1.8/node_modules/promise.prototype.finally/shim.js"(exports, module) {
    "use strict";
    var requirePromise = require_requirePromise();
    var getPolyfill = require_polyfill();
    var define = require_define_properties();
    module.exports = function shimPromiseFinally() {
      requirePromise();
      var polyfill = getPolyfill();
      define(Promise.prototype, { "finally": polyfill }, {
        "finally": function testFinally() {
          return Promise.prototype["finally"] !== polyfill;
        }
      });
      return polyfill;
    };
  }
});

// node_modules/.pnpm/promise.prototype.finally@3.1.8/node_modules/promise.prototype.finally/index.js
var require_promise_prototype = __commonJS({
  "node_modules/.pnpm/promise.prototype.finally@3.1.8/node_modules/promise.prototype.finally/index.js"(exports, module) {
    "use strict";
    var callBind = require_call_bind();
    var define = require_define_properties();
    var implementation = require_implementation3();
    var getPolyfill = require_polyfill();
    var shim = require_shim();
    var bound = callBind(getPolyfill());
    define(bound, {
      getPolyfill,
      implementation,
      shim
    });
    module.exports = bound;
  }
});

// node_modules/.pnpm/websocket-as-promised@2.0.1/node_modules/websocket-as-promised/src/requests.js
var require_requests = __commonJS({
  "node_modules/.pnpm/websocket-as-promised@2.0.1/node_modules/websocket-as-promised/src/requests.js"(exports, module) {
    var PromiseController = require_src();
    var promiseFinally = require_promise_prototype();
    module.exports = class Requests {
      constructor() {
        this._items = /* @__PURE__ */ new Map();
      }
      /**
       * Creates new request and stores it in the list.
       *
       * @param {String|Number} requestId
       * @param {Function} fn
       * @param {Number} timeout
       * @returns {Promise}
       */
      create(requestId, fn, timeout) {
        this._rejectExistingRequest(requestId);
        return this._createNewRequest(requestId, fn, timeout);
      }
      resolve(requestId, data) {
        if (requestId && this._items.has(requestId)) {
          this._items.get(requestId).resolve(data);
        }
      }
      rejectAll(error) {
        this._items.forEach((request) => request.isPending ? request.reject(error) : null);
      }
      _rejectExistingRequest(requestId) {
        const existingRequest = this._items.get(requestId);
        if (existingRequest && existingRequest.isPending) {
          existingRequest.reject(new Error(`WebSocket request is replaced, id: ${requestId}`));
        }
      }
      _createNewRequest(requestId, fn, timeout) {
        const request = new PromiseController({
          timeout,
          timeoutReason: `WebSocket request was rejected by timeout (${timeout} ms). RequestId: ${requestId}`
        });
        this._items.set(requestId, request);
        return promiseFinally(request.call(fn), () => this._deleteRequest(requestId, request));
      }
      _deleteRequest(requestId, request) {
        if (this._items.get(requestId) === request) {
          this._items.delete(requestId);
        }
      }
    };
  }
});

// node_modules/.pnpm/websocket-as-promised@2.0.1/node_modules/websocket-as-promised/src/options.js
var require_options = __commonJS({
  "node_modules/.pnpm/websocket-as-promised@2.0.1/node_modules/websocket-as-promised/src/options.js"(exports, module) {
    module.exports = {
      /**
       * See {@link Options.createWebSocket}
       *
       * @param {String} url
       * @returns {WebSocket}
       */
      createWebSocket: (url) => new WebSocket(url),
      /**
       * See {@link Options.packMessage}
       *
       * @param {*} data
       * @returns {String|ArrayBuffer|Blob}
       */
      packMessage: null,
      /**
       * See {@link Options.unpackMessage}
       *
       * @param {String|ArrayBuffer|Blob} data
       * @returns {*}
       */
      unpackMessage: null,
      /**
       * See {@link Options.attachRequestId}
       *
       * @param {*} data
       * @param {String|Number} requestId
       * @returns {*}
       */
      attachRequestId: null,
      /**
       * See {@link Options.extractRequestId}
       *
       * @param {*} data
       * @returns {String|Number|undefined}
       */
      extractRequestId: null,
      /**
       * See {@link Options.extractMessageData}
       *
       * @param {*} event
       * @returns {*}
       */
      extractMessageData: (event) => event.data,
      /**
       * See {@link Options.timeout}
       */
      timeout: 0,
      /**
       * See {@link Options.connectionTimeout}
       */
      connectionTimeout: 0
    };
  }
});

// node_modules/.pnpm/websocket-as-promised@2.0.1/node_modules/websocket-as-promised/src/utils.js
var require_utils2 = __commonJS({
  "node_modules/.pnpm/websocket-as-promised@2.0.1/node_modules/websocket-as-promised/src/utils.js"(exports) {
    exports.throwIf = (condition, message) => {
      if (condition) {
        throw new Error(message);
      }
    };
    exports.isPromise = (value) => {
      return value && typeof value.then === "function";
    };
  }
});

// node_modules/.pnpm/websocket-as-promised@2.0.1/node_modules/websocket-as-promised/src/index.js
var require_src2 = __commonJS({
  "node_modules/.pnpm/websocket-as-promised@2.0.1/node_modules/websocket-as-promised/src/index.js"(exports, module) {
    var Channel = require_channel_cjs();
    var PromiseController = require_src();
    var { PromisedMap } = require_cjs();
    var Requests = require_requests();
    var defaultOptions = require_options();
    var { throwIf, isPromise } = require_utils2();
    var STATE = {
      CONNECTING: 0,
      OPEN: 1,
      CLOSING: 2,
      CLOSED: 3
    };
    var WebSocketAsPromised2 = class {
      /**
       * Constructor. Unlike original WebSocket it does not immediately open connection.
       * Please call `open()` method to connect.
       *
       * @param {String} url WebSocket URL
       * @param {Options} [options]
       */
      constructor(url, options) {
        this._assertOptions(options);
        this._url = url;
        this._options = Object.assign({}, defaultOptions, options);
        this._requests = new Requests();
        this._promisedMap = new PromisedMap();
        this._ws = null;
        this._wsSubscription = null;
        this._createOpeningController();
        this._createClosingController();
        this._createChannels();
      }
      /**
       * Returns original WebSocket instance created by `options.createWebSocket`.
       *
       * @returns {WebSocket}
       */
      get ws() {
        return this._ws;
      }
      /**
       * Returns WebSocket url.
       *
       * @returns {String}
       */
      get url() {
        return this._url;
      }
      /**
       * Is WebSocket connection in opening state.
       *
       * @returns {Boolean}
       */
      get isOpening() {
        return Boolean(this._ws && this._ws.readyState === STATE.CONNECTING);
      }
      /**
       * Is WebSocket connection opened.
       *
       * @returns {Boolean}
       */
      get isOpened() {
        return Boolean(this._ws && this._ws.readyState === STATE.OPEN);
      }
      /**
       * Is WebSocket connection in closing state.
       *
       * @returns {Boolean}
       */
      get isClosing() {
        return Boolean(this._ws && this._ws.readyState === STATE.CLOSING);
      }
      /**
       * Is WebSocket connection closed.
       *
       * @returns {Boolean}
       */
      get isClosed() {
        return Boolean(!this._ws || this._ws.readyState === STATE.CLOSED);
      }
      /**
       * Event channel triggered when connection is opened.
       *
       * @see https://vitalets.github.io/chnl/#channel
       * @example
       * wsp.onOpen.addListener(() => console.log('Connection opened'));
       *
       * @returns {Channel}
       */
      get onOpen() {
        return this._onOpen;
      }
      /**
       * Event channel triggered every time when message is sent to server.
       *
       * @see https://vitalets.github.io/chnl/#channel
       * @example
       * wsp.onSend.addListener(data => console.log('Message sent', data));
       *
       * @returns {Channel}
       */
      get onSend() {
        return this._onSend;
      }
      /**
       * Event channel triggered every time when message received from server.
       *
       * @see https://vitalets.github.io/chnl/#channel
       * @example
       * wsp.onMessage.addListener(message => console.log(message));
       *
       * @returns {Channel}
       */
      get onMessage() {
        return this._onMessage;
      }
      /**
       * Event channel triggered every time when received message is successfully unpacked.
       * For example, if you are using JSON transport, the listener will receive already JSON parsed data.
       *
       * @see https://vitalets.github.io/chnl/#channel
       * @example
       * wsp.onUnpackedMessage.addListener(data => console.log(data.foo));
       *
       * @returns {Channel}
       */
      get onUnpackedMessage() {
        return this._onUnpackedMessage;
      }
      /**
       * Event channel triggered every time when response to some request comes.
       * Received message considered a response if requestId is found in it.
       *
       * @see https://vitalets.github.io/chnl/#channel
       * @example
       * wsp.onResponse.addListener(data => console.log(data));
       *
       * @returns {Channel}
       */
      get onResponse() {
        return this._onResponse;
      }
      /**
       * Event channel triggered when connection closed.
       * Listener accepts single argument `{code, reason}`.
       *
       * @see https://vitalets.github.io/chnl/#channel
       * @example
       * wsp.onClose.addListener(event => console.log(`Connections closed: ${event.reason}`));
       *
       * @returns {Channel}
       */
      get onClose() {
        return this._onClose;
      }
      /**
       * Event channel triggered when by Websocket 'error' event.
       *
       * @see https://vitalets.github.io/chnl/#channel
       * @example
       * wsp.onError.addListener(event => console.error(event));
       *
       * @returns {Channel}
       */
      get onError() {
        return this._onError;
      }
      /**
       * Opens WebSocket connection. If connection already opened, promise will be resolved with "open event".
       *
       * @returns {Promise<Event>}
       */
      open() {
        if (this.isClosing) {
          return Promise.reject(new Error(`Can't open WebSocket while closing.`));
        }
        if (this.isOpened) {
          return this._opening.promise;
        }
        return this._opening.call(() => {
          this._opening.promise.catch((e) => this._cleanup(e));
          this._createWS();
        });
      }
      /**
       * Performs request and waits for response.
       *
       * @param {*} data
       * @param {Object} [options]
       * @param {String|Number} [options.requestId=<auto-generated>]
       * @param {Number} [options.timeout=0]
       * @returns {Promise}
       */
      sendRequest(data, options = {}) {
        const requestId = options.requestId || `${Math.random()}`;
        const timeout = options.timeout !== void 0 ? options.timeout : this._options.timeout;
        return this._requests.create(requestId, () => {
          this._assertRequestIdHandlers();
          const finalData = this._options.attachRequestId(data, requestId);
          this.sendPacked(finalData);
        }, timeout);
      }
      /**
       * Packs data with `options.packMessage` and sends to the server.
       *
       * @param {*} data
       */
      sendPacked(data) {
        this._assertPackingHandlers();
        const message = this._options.packMessage(data);
        this.send(message);
      }
      /**
       * Sends data without packing.
       *
       * @param {String|Blob|ArrayBuffer} data
       */
      send(data) {
        throwIf(!this.isOpened, `Can't send data because WebSocket is not opened.`);
        this._ws.send(data);
        this._onSend.dispatchAsync(data);
      }
      /**
       * Waits for particular message to come.
       *
       * @param {Function} predicate function to check incoming message.
       * @param {Object} [options]
       * @param {Number} [options.timeout=0]
       * @param {Error} [options.timeoutError]
       * @returns {Promise}
       *
       * @example
       * const response = await wsp.waitUnpackedMessage(data => data && data.foo === 'bar');
       */
      waitUnpackedMessage(predicate, options = {}) {
        throwIf(typeof predicate !== "function", `Predicate must be a function, got ${typeof predicate}`);
        if (options.timeout) {
          setTimeout(() => {
            if (this._promisedMap.has(predicate)) {
              const error = options.timeoutError || new Error("Timeout");
              this._promisedMap.reject(predicate, error);
            }
          }, options.timeout);
        }
        return this._promisedMap.set(predicate);
      }
      /**
       * Closes WebSocket connection. If connection already closed, promise will be resolved with "close event".
       *
       * @param {number=} [code=1000] A numeric value indicating the status code.
       * @param {string=} [reason] A human-readable reason for closing connection.
       * @returns {Promise<Event>}
       */
      close(code, reason) {
        return this.isClosed ? Promise.resolve(this._closing.value) : this._closing.call(() => this._ws.close(code, reason));
      }
      /**
       * Removes all listeners from WSP instance. Useful for cleanup.
       */
      removeAllListeners() {
        this._onOpen.removeAllListeners();
        this._onMessage.removeAllListeners();
        this._onUnpackedMessage.removeAllListeners();
        this._onResponse.removeAllListeners();
        this._onSend.removeAllListeners();
        this._onClose.removeAllListeners();
        this._onError.removeAllListeners();
      }
      _createOpeningController() {
        const connectionTimeout = this._options.connectionTimeout || this._options.timeout;
        this._opening = new PromiseController({
          timeout: connectionTimeout,
          timeoutReason: `Can't open WebSocket within allowed timeout: ${connectionTimeout} ms.`
        });
      }
      _createClosingController() {
        const closingTimeout = this._options.timeout;
        this._closing = new PromiseController({
          timeout: closingTimeout,
          timeoutReason: `Can't close WebSocket within allowed timeout: ${closingTimeout} ms.`
        });
      }
      _createChannels() {
        this._onOpen = new Channel();
        this._onMessage = new Channel();
        this._onUnpackedMessage = new Channel();
        this._onResponse = new Channel();
        this._onSend = new Channel();
        this._onClose = new Channel();
        this._onError = new Channel();
      }
      _createWS() {
        this._ws = this._options.createWebSocket(this._url);
        this._wsSubscription = new Channel.Subscription([
          { channel: this._ws, event: "open", listener: (e) => this._handleOpen(e) },
          { channel: this._ws, event: "message", listener: (e) => this._handleMessage(e) },
          { channel: this._ws, event: "error", listener: (e) => this._handleError(e) },
          { channel: this._ws, event: "close", listener: (e) => this._handleClose(e) }
        ]).on();
      }
      _handleOpen(event) {
        this._onOpen.dispatchAsync(event);
        this._opening.resolve(event);
      }
      _handleMessage(event) {
        const data = this._options.extractMessageData(event);
        this._onMessage.dispatchAsync(data);
        this._tryUnpack(data);
      }
      _tryUnpack(data) {
        if (this._options.unpackMessage) {
          data = this._options.unpackMessage(data);
          if (isPromise(data)) {
            data.then((data2) => this._handleUnpackedData(data2));
          } else {
            this._handleUnpackedData(data);
          }
        }
      }
      _handleUnpackedData(data) {
        if (data !== void 0) {
          this._onUnpackedMessage.dispatchAsync(data);
          this._tryHandleResponse(data);
        }
        this._tryHandleWaitingMessage(data);
      }
      _tryHandleResponse(data) {
        if (this._options.extractRequestId) {
          const requestId = this._options.extractRequestId(data);
          if (requestId) {
            this._onResponse.dispatchAsync(data, requestId);
            this._requests.resolve(requestId, data);
          }
        }
      }
      _tryHandleWaitingMessage(data) {
        this._promisedMap.forEach((_, predicate) => {
          let isMatched = false;
          try {
            isMatched = predicate(data);
          } catch (e) {
            this._promisedMap.reject(predicate, e);
            return;
          }
          if (isMatched) {
            this._promisedMap.resolve(predicate, data);
          }
        });
      }
      _handleError(event) {
        this._onError.dispatchAsync(event);
      }
      _handleClose(event) {
        this._onClose.dispatchAsync(event);
        this._closing.resolve(event);
        const error = new Error(`WebSocket closed with reason: ${event.reason} (${event.code}).`);
        if (this._opening.isPending) {
          this._opening.reject(error);
        }
        this._cleanup(error);
      }
      _cleanupWS() {
        if (this._wsSubscription) {
          this._wsSubscription.off();
          this._wsSubscription = null;
        }
        this._ws = null;
      }
      _cleanup(error) {
        this._cleanupWS();
        this._requests.rejectAll(error);
      }
      _assertOptions(options) {
        Object.keys(options || {}).forEach((key) => {
          if (!defaultOptions.hasOwnProperty(key)) {
            throw new Error(`Unknown option: ${key}`);
          }
        });
      }
      _assertPackingHandlers() {
        const { packMessage, unpackMessage } = this._options;
        throwIf(
          !packMessage || !unpackMessage,
          `Please define 'options.packMessage / options.unpackMessage' for sending packed messages.`
        );
      }
      _assertRequestIdHandlers() {
        const { attachRequestId, extractRequestId } = this._options;
        throwIf(
          !attachRequestId || !extractRequestId,
          `Please define 'options.attachRequestId / options.extractRequestId' for sending requests.`
        );
      }
    };
    module.exports = WebSocketAsPromised2;
  }
});

// src/features/searchWithAI/index.tsx
init_emotion_cache_browser_esm();
init_emotion_react_browser_esm();
var import_react14 = __toESM(require_react());
var import_client2 = __toESM(require_client());

// src/features/searchWithAI/components/AISearchContentCard.tsx
var import_react11 = __toESM(require_react());
var import_StopOutlined = __toESM(require_StopOutlined());

// src/features/searchWithAI/hooks/useSearchWithAICore.ts
var import_dayjs = __toESM(require_dayjs_min());
var import_react = __toESM(require_react());

// src/features/searchWithAI/utils/SearchPageAdapter.ts
var SearchPageAdapter = {
  // flag: verifier
  google: {
    ref: "google",
    verifier: () => {
      return location.hostname.startsWith("www.google") && location.pathname.startsWith("/search");
    },
    inputQueryFinder: () => {
      const searchInput = getPossibleElementByQuerySelector([
        "input[name='q']",
        "textarea[type='search']",
        "textarea#APjFqb"
      ]);
      let searchWord = (searchInput == null ? void 0 : searchInput.value) || "";
      if (!searchWord) {
        const queryString = location.search;
        const urlParams = new URLSearchParams(queryString);
        searchWord = urlParams.get("q") || "";
      }
      return searchWord;
    },
    sidebarContainerFinder: () => {
      const rcnt = document.querySelector("#rcnt");
      if (rcnt) {
        const complementaryBarOriginal = rcnt.querySelector(
          "div#rhs[role=complementary]"
        );
        if (complementaryBarOriginal) {
          return complementaryBarOriginal;
        }
        const googleForSearchExtensionBar = rcnt.querySelector("div#rhs");
        if (googleForSearchExtensionBar) {
          return googleForSearchExtensionBar;
        }
        const mindComplementaryBar = createMindGoogleSidebar();
        const centerColBox = rcnt.querySelector("#center_col");
        if (centerColBox) {
          insertAfter(mindComplementaryBar, centerColBox);
        } else {
          rcnt.appendChild(mindComplementaryBar);
        }
        return mindComplementaryBar;
      }
    },
    isDarkMode: () => !!document.querySelector("meta[content=dark]") || !!document.querySelector("*[data-darkmode=true]") || !!document.querySelector('meta[content="dark light"]') || !isLightColor(getPageTopBackgroundColor() || "rgb(255, 255, 255)")
  },
  bing: {
    ref: "bing",
    verifier: () => {
      return location.hostname.includes(".bing.") && location.pathname.startsWith("/search");
    },
    sidebarContainerFinder: () => document.querySelector("aside > ol#b_context"),
    inputQueryFinder: () => {
      const searchInput = getPossibleElementByQuerySelector([
        "#sp_requery a",
        "input[name=q]",
        "input.b_searchbox",
        "textarea.b_searchbox"
      ]);
      return (searchInput == null ? void 0 : searchInput.value) || (searchInput == null ? void 0 : searchInput.textContent) || "";
    },
    customStyle: {
      margin: "0 -20px 20px"
    },
    isDarkMode: () => !!document.querySelector("body.b_dark")
  },
  baidu: {
    ref: "baidu",
    verifier: () => {
      return location.hostname.startsWith("www.baidu");
    },
    sidebarContainerFinder: () => document.querySelector("div#content_right"),
    inputQueryFinder: () => {
      var _a;
      const bds = window.bds;
      if ((_a = bds == null ? void 0 : bds.comm) == null ? void 0 : _a.query) {
        return bds.comm.query;
      }
      const searchInput = getPossibleElementByQuerySelector([
        "input[name=wd]"
      ]);
      return (searchInput == null ? void 0 : searchInput.value) || "";
    },
    watchRouteChange(callback) {
      const targetNode = document.getElementById("wrapper_wrapper");
      const observer = new MutationObserver(function(records) {
        for (const record of records) {
          if (record.type === "childList") {
            for (const node of record.addedNodes) {
              if ("id" in node && node.id === "container") {
                callback();
                return;
              }
            }
          }
        }
      });
      observer.observe(targetNode, { childList: true });
    },
    isDarkMode: () => false
  },
  duckduckgo: {
    ref: "duckduckgo",
    verifier: () => {
      return location.hostname === "duckduckgo.com" && location.pathname === "/";
    },
    sidebarContainerFinder: () => {
      return document.querySelector(
        "section.js-react-sidebar[data-area=sidebar]"
      );
    },
    inputQueryFinder: () => {
      const searchInput = getPossibleElementByQuerySelector([
        "div[data-testid=spelling-message] p a",
        "input#search_form_input"
      ]);
      return (searchInput == null ? void 0 : searchInput.value) || (searchInput == null ? void 0 : searchInput.textContent) || "";
    },
    isDarkMode: () => !!document.querySelector("html.dark-header")
  },
  yahoo: {
    ref: "yahoo",
    verifier: () => {
      return location.hostname.includes("search.yahoo") && location.pathname.startsWith("/search");
    },
    sidebarContainerFinder: () => {
      return document.querySelector("div#results div#right");
    },
    inputQueryFinder: () => {
      const searchInput = getPossibleElementByQuerySelector([
        "input[name=p]"
      ]);
      return (searchInput == null ? void 0 : searchInput.value) || "";
    },
    isDarkMode: () => false
  },
  naver: {
    ref: "naver",
    verifier: () => {
      return location.hostname.includes("search.naver") && location.pathname.startsWith("/search");
    },
    sidebarContainerFinder: () => {
      return document.querySelector("div#sub_pack");
    },
    inputQueryFinder: () => {
      const searchInput = getPossibleElementByQuerySelector([
        "div.dsc_area strong.source",
        "input[name=query]"
      ]);
      return (searchInput == null ? void 0 : searchInput.value) || (searchInput == null ? void 0 : searchInput.textContent) || "";
    },
    customStyle: {
      margin: "0 30px 20px 16px"
    },
    isDarkMode: () => false
  },
  yandex: {
    ref: "yandex",
    verifier: () => {
      return location.host.includes("yandex") && location.pathname.startsWith("/search");
    },
    sidebarContainerFinder: () => {
      return document.querySelector(
        "div.main__content div.content__right"
      );
    },
    inputQueryFinder: () => {
      const url = new URL(window.location.href);
      const searchParams = new URLSearchParams(url.search);
      const textValue = searchParams.get("text");
      return textValue || "";
    },
    isDarkMode: () => !!document.querySelector("meta[name=color-scheme][content=dark]")
  },
  sogou: {
    ref: "sogou",
    verifier: () => {
      return location.host.includes("sogou") && (location.pathname.startsWith("/web") || location.pathname.startsWith("/sogou"));
    },
    sidebarContainerFinder: () => {
      return document.querySelector("div#wrapper div#right");
    },
    inputQueryFinder: () => {
      const searchInput = getPossibleElementByQuerySelector([
        "input#upquery[name=query]"
      ]);
      return (searchInput == null ? void 0 : searchInput.value) || "";
    },
    isDarkMode: () => false
  },
  brave: {
    ref: "brave",
    verifier: () => {
      return location.host.includes("search.brave") && location.pathname.startsWith("/search");
    },
    sidebarContainerFinder: () => {
      return document.querySelector("aside.sidebar");
    },
    inputQueryFinder: () => {
      const searchInput = getPossibleElementByQuerySelector([
        "div.altered-query-text a",
        "input[id=searchbox]"
      ]);
      return (searchInput == null ? void 0 : searchInput.value) || (searchInput == null ? void 0 : searchInput.textContent) || "";
    },
    isDarkMode: () => !!document.querySelector("img.theme--dark")
  }
};
function matchSearchPageConfig() {
  let siteName = null;
  const pageKeys = Object.keys(SearchPageAdapter);
  for (let i = 0; i < pageKeys.length; i++) {
    const key = pageKeys[i];
    const verifier = SearchPageAdapter[key].verifier;
    if (verifier()) {
      siteName = key;
      break;
    }
  }
  return {
    siteName,
    config: siteName ? SearchPageAdapter[siteName] : null
  };
}
function createMindGoogleSidebar() {
  const mindComplementaryBar = document.createElement("div");
  mindComplementaryBar.setAttribute("role", "complementary");
  mindComplementaryBar.setAttribute("id", "rhs");
  mindComplementaryBar.setAttribute("data-by", "webchatgpt");
  const searchParams = new URLSearchParams(location.search);
  if (searchParams.get("tbm") === "nws") {
    mindComplementaryBar.style.marginLeft = "30px";
  }
  return mindComplementaryBar;
}

// src/features/searchWithAI/utils/index.ts
function endsWithQuestionMark(question) {
  return question.endsWith("?") || // ASCII
  question.endsWith("\uFF1F") || // Chinese/Japanese
  question.endsWith("\u061F") || // Arabic
  question.endsWith("\u2E2E");
}
function searchWithAIStyleReset(siteName, container) {
  switch (siteName) {
    case "bing":
    case "yandex": {
      container.style.display = "inline-flex";
      container.style.flexDirection = "column";
      break;
    }
    case "google":
    case "baidu":
    case "duckduckgo":
    case "yahoo":
    case "naver":
    case "sogou":
    case "brave": {
      container.style.display = "flex";
      container.style.flexDirection = "column";
      break;
    }
    default: {
      break;
    }
  }
}
var searchWithAIAskQuestion = async (question, options, {
  onMessage,
  onError
}) => {
  return new Promise((resolve) => {
    const taskId = question.messageId;
    const destroyListener = createClientMessageListener(async (event, data) => {
      var _a;
      if (event === "Client_askChatGPTQuestionResponse" && data.taskId === taskId) {
        if (data.error) {
          onError == null ? void 0 : onError(data.error);
        } else if ((_a = data == null ? void 0 : data.data) == null ? void 0 : _a.text) {
          onMessage == null ? void 0 : onMessage(data.data);
        }
        if (data.done) {
          resolve(true);
          destroyListener();
          return {
            success: true,
            message: "ok",
            data: {}
          };
        }
        return {
          success: true,
          message: "ok",
          data: {}
        };
      }
      return void 0;
    });
    const port3 = new ContentScriptConnectionV2({
      runtime: "client"
    });
    port3.postMessage({
      event: "SWAI_askAIQuestion",
      data: {
        taskId,
        question,
        options
      }
    });
  });
};

// src/features/searchWithAI/hooks/useSourcesStatus.ts
var useSourcesStatus = () => {
  const [sourcesStatus, setSourcesStatus] = Recoil_index_22(SourcesStatusAtom);
  const startSourcesLoading = () => {
    setSourcesStatus({
      ...sourcesStatus,
      loading: true
    });
  };
  const setSources = (sources) => {
    setSourcesStatus({
      ...sourcesStatus,
      loading: false,
      sources
    });
  };
  const clearSources = () => {
    setSourcesStatus({
      ...sourcesStatus,
      loading: false,
      sources: []
    });
  };
  return {
    loading: sourcesStatus.loading,
    sources: sourcesStatus.sources,
    startSourcesLoading,
    setSources,
    clearSources
  };
};
var useSourcesStatus_default = useSourcesStatus;

// src/features/searchWithAI/hooks/useSearchWithAICache.ts
var import_webextension_polyfill = __toESM(require_browser_polyfill());
var SEARCH_WITH_AI_CACHE_STORAGE_KEY = "SEARCH_WITH_AI_CACHE_STORAGE_KEY";
var SEARCH_WITH_AI_CACHE_EXPIRE_TIME = 1e3 * 60 * 60 * 24;
var SEARCH_WITH_AI_CACHE_MAX_LENGTH = 100;
var setSearchWithAICache = async (newData) => {
  await setSearchWithAICacheBatch([newData]);
};
var setSearchWithAICacheBatch = async (newData, cover = false) => {
  var _a;
  const oldData = (_a = await getSearchWithAICache()) != null ? _a : [];
  await import_webextension_polyfill.default.storage.local.set({
    [SEARCH_WITH_AI_CACHE_STORAGE_KEY]: cover ? newData : [...oldData, ...newData]
  });
};
var getSearchWithAICache = async () => {
  var _a, _b;
  try {
    const localData = (_a = await import_webextension_polyfill.default.storage.local.get(SEARCH_WITH_AI_CACHE_STORAGE_KEY)) != null ? _a : [];
    return (_b = localData[SEARCH_WITH_AI_CACHE_STORAGE_KEY]) != null ? _b : [];
  } catch (error) {
    return [];
  }
};
var cleanSearchWithAICache = async () => {
  const data = await getSearchWithAICache();
  const now = Date.now();
  const newData = data.filter((item) => {
    return now - item.time < SEARCH_WITH_AI_CACHE_EXPIRE_TIME;
  });
  await setSearchWithAICacheBatch(
    // 由于需要 从数组尾部开始截取，所以需要 * -1
    newData.slice(SEARCH_WITH_AI_CACHE_MAX_LENGTH * -1),
    true
  );
};
var removeSearchWithAICacheByKey = async (key) => {
  const data = await getSearchWithAICache();
  const newData = data.filter((item) => item.key !== key);
  await setSearchWithAICacheBatch(newData, true);
};
var generateSearchWithAICacheKey = (searchPage, aiProvider, query, webAccess) => {
  return `${searchPage}-${aiProvider}-${String(query.trim())}-${String(
    webAccess
  )}`;
};
var useSearchWithAICache = () => {
  const getSearchWithAICacheData = async (searchPage, aiProvider, query, webAccess) => {
    const key = generateSearchWithAICacheKey(
      searchPage,
      aiProvider,
      query,
      webAccess
    );
    const data = await getSearchWithAICache();
    const cacheData = data.find((item) => item.key === key);
    if (!cacheData) {
      return null;
    }
    const now = Date.now();
    if (now - cacheData.time > SEARCH_WITH_AI_CACHE_EXPIRE_TIME) {
      await removeSearchWithAICacheByKey(key);
      return null;
    }
    return cacheData;
  };
  const setSearchWithAICacheData = async (newData) => {
    const key = generateSearchWithAICacheKey(
      newData.searchPage,
      newData.aiProvider,
      newData.query,
      newData.webAccess
    );
    await setSearchWithAICache({
      ...newData,
      key,
      time: Date.now()
    });
    cleanSearchWithAICache();
  };
  return {
    getSearchWithAICacheData,
    setSearchWithAICacheData
  };
};
var useSearchWithAICache_default = useSearchWithAICache;

// src/features/searchWithAI/hooks/useSearchWithAICore.ts
var port = new ContentScriptConnectionV2({
  runtime: "client"
});
var PROVIDER_TIMEOUT_DURATION = {
  OPENAI: 15e3,
  USE_CHAT_GPT_PLUS: 1e4,
  MAXAI_CLAUDE: 1e4,
  OPENAI_API: 1e4,
  CLAUDE: 1e4,
  BING: 1e4,
  BARD: 25e3,
  GEMINI: 2e4
};
var useSearchWithAICore = (question, siteName) => {
  const [status, setStatus] = (0, import_react.useState)("idle");
  const loadingRef = (0, import_react.useRef)(false);
  const [isUseCache, setIsUseCache] = (0, import_react.useState)(false);
  const taskId = (0, import_react.useRef)("");
  const timer = (0, import_react.useRef)(0);
  const { getSearchWithAICacheData, setSearchWithAICacheData } = useSearchWithAICache_default();
  const { searchWithAISettings } = useSearchWithAISettings_default();
  const [conversation, setConversation] = Recoil_index_22(
    SearchWithAIConversationAtom
  );
  const setAutoTriggerAskEnable = Recoil_index_24(AutoTriggerAskEnableAtom);
  const { startSourcesLoading, clearSources, setSources } = useSourcesStatus_default();
  const updateConversation = (newConversationData) => {
    setConversation((pre) => ({
      ...pre,
      ...newConversationData
    }));
  };
  const completedAnswer = (0, import_react.useMemo)(() => {
    if (conversation.loading) {
      return null;
    }
    return conversation.completedMessage;
  }, [conversation.completedMessage, conversation.loading]);
  const isAnswering = (0, import_react.useMemo)(
    () => conversation.loading && !!conversation.writingMessage,
    [conversation.loading, conversation.writingMessage]
  );
  const handleAskQuestion = (0, import_react.useCallback)(async () => {
    var _a, _b, _c, _d, _e;
    if (loadingRef.current) {
      return;
    }
    const webAccessPrompt = searchWithAISettings.webAccessPrompt;
    let template = question;
    setStatus("waitingAnswer");
    loadingRef.current = true;
    const cacheData = await getSearchWithAICacheData(
      siteName,
      searchWithAISettings.aiProvider,
      question,
      webAccessPrompt
    );
    if (cacheData) {
      setStatus("success");
      updateConversation({
        loading: false,
        completedMessage: cacheData.completedMessage,
        writingMessage: ""
      });
      setSources(cacheData.sources);
      loadingRef.current = false;
      setIsUseCache(true);
      return;
    } else {
      setIsUseCache(false);
    }
    let sources = [];
    if (webAccessPrompt) {
      startSourcesLoading();
      const results = crawlingSearchResults({
        html: document.body.innerHTML,
        searchEngine: siteName
      });
      const slicedResults = results.slice(0, 6);
      if (slicedResults.length <= 0 && question.length <= 60) {
        sendLarkBotMessageInContentScript(
          "Search with AI, source is empty",
          `version: ${WEBCHATGPT_VERSION}
fullSearchURLs: ${location.href}
query: ${question}
resultLength: ${slicedResults.length}
searchEngine: ${siteName}`,
          {
            uuid: "2dbab662-f43b-4b58-8353-18614522d158"
          }
        );
      }
      setTimeout(() => {
        setSources(slicedResults);
        sources = slicedResults;
      }, random_default(500, 800));
      let expandContent = "";
      for (let i = 0; i < slicedResults.length; i++) {
        const searchResult = slicedResults[i];
        expandContent += `NUMBER:${i + 1}
URL: ${searchResult.url}
TITLE: ${searchResult.title}
CONTENT: ${searchResult.body}

`;
      }
      template = generatePromptTemplate(question, expandContent);
    }
    const messageId = v4_default();
    updateConversation({
      loading: true
    });
    taskId.current = messageId;
    window.__search_with_AI_running_task_id = messageId;
    let answered = false;
    let message = "";
    let hasError = false;
    let errorMessage = "";
    let conversationId = "";
    let isTimeout = false;
    if (searchWithAISettings.aiProvider === "OPENAI") {
      const result = await clientFetchAPI(
        "https://chatgpt.com/api/auth/session",
        {
          method: "GET"
        }
      );
      if ((_a = result == null ? void 0 : result.data) == null ? void 0 : _a.accessToken) {
        const p = `gAAAAAC` + await calcProofToken(Math.random().toString(), "0");
        const chatRequirementsResult = await clientFetchAPI(
          `https://chatgpt.com/backend-api/sentinel/chat-requirements`,
          {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
              Authorization: `Bearer ${result.data.accessToken}`
            },
            body: JSON.stringify({
              p
            })
          }
        );
        const chatRequirementsToken = ((_b = chatRequirementsResult == null ? void 0 : chatRequirementsResult.data) == null ? void 0 : _b.token) || "";
        const dx = ((_d = (_c = chatRequirementsResult == null ? void 0 : chatRequirementsResult.data) == null ? void 0 : _c.arkose) == null ? void 0 : _d.dx) || "";
        const proofofwork = ((_e = chatRequirementsResult == null ? void 0 : chatRequirementsResult.data) == null ? void 0 : _e.proofofwork) || {
          difficulty: "",
          seed: ""
        };
        const proofToken = `gAAAAAB` + await calcProofToken(proofofwork.seed, proofofwork.difficulty);
        if (dx) {
          const arkoseToken = await chromeExtensionArkoseTokenGenerator.generateToken("gpt_3_5", dx);
          await setArkoseToken({
            arkoseToken,
            chatRequirementsToken,
            dx,
            proofToken
          });
        } else {
          await setArkoseToken({
            arkoseToken: "",
            chatRequirementsToken,
            dx,
            proofToken
          });
        }
      }
    }
    const aiProvider = searchWithAISettings.aiProvider;
    timer.current && window.clearTimeout(timer.current);
    timer.current = window.setTimeout(() => {
      setStatus("error");
      isTimeout = true;
      let error_msg;
      if (aiProvider === "OPENAI") {
        error_msg = "ChatGPT has run into an unexpected error. Please try again or switch to Free AI for a more reliable experience.";
      } else {
        error_msg = "It seems like the system is experiencing some trouble right now. Please try again.";
      }
      updateConversation({
        loading: false,
        errorMessage: error_msg,
        writingMessage: ""
      });
      window.__search_with_AI_running_task_id = null;
      loadingRef.current = false;
      return;
    }, PROVIDER_TIMEOUT_DURATION[searchWithAISettings.aiProvider]);
    await searchWithAIAskQuestion(
      {
        messageId,
        parentMessageId: "",
        conversationId: "",
        question: template
      },
      {},
      {
        onMessage: (msg) => {
          if (isTimeout) {
            return;
          }
          timer.current && window.clearTimeout(timer.current);
          if (window.__search_with_AI_running_task_id === msg.parentMessageId) {
            if (msg.conversationId) {
              conversationId = msg.conversationId;
            }
            if (!answered) {
              setStatus("answering");
              answered = true;
            }
            message = msg.text;
            updateConversation({
              loading: true,
              writingMessage: msg.text
            });
          }
        },
        onError: async (error) => {
          if (isTimeout) {
            return;
          }
          timer.current && window.clearTimeout(timer.current);
          hasError = true;
          errorMessage = (error == null ? void 0 : error.message) || error || "Error detected. Please try again.";
          if (errorMessage === "manual aborted request.") {
            hasError = false;
            errorMessage = "";
          }
          if (typeof errorMessage !== "string") {
            errorMessage = "Network error. Please try again.";
          }
          if (searchWithAISettings.aiProvider === "OPENAI") {
            errorMessage = "ChatGPT has run into an unexpected error. Please try again or switch to Free AI for a more reliable experience.";
          }
        }
      }
    );
    if (window.__search_with_AI_running_task_id === taskId.current && !isTimeout) {
      updateConversation({
        conversationId
      });
      if (hasError && errorMessage) {
        setStatus("error");
        updateConversation({
          loading: false,
          errorMessage,
          writingMessage: ""
        });
      } else {
        setStatus("success");
        updateConversation({
          loading: false,
          completedMessage: message,
          writingMessage: ""
        });
        setSearchWithAICacheData({
          searchPage: siteName,
          aiProvider: searchWithAISettings.aiProvider,
          query: question,
          completedMessage: message,
          sources,
          webAccess: webAccessPrompt
        });
      }
      window.__search_with_AI_running_task_id = null;
      loadingRef.current = false;
    }
  }, [
    question,
    searchWithAISettings.webAccessPrompt,
    status,
    searchWithAISettings.aiProvider
  ]);
  const handleResetStatus = (0, import_react.useCallback)(async () => {
    clearSources();
    setAutoTriggerAskEnable(true);
    setStatus("idle");
    window.__search_with_AI_running_task_id = null;
  }, []);
  const handleStopGenerate = (0, import_react.useCallback)(async () => {
    if (taskId.current) {
      await port.postMessage({
        event: "SWAI_abortAskChatGPTQuestion",
        data: {
          taskId: taskId.current
        }
      });
    }
    if (conversation.writingMessage) {
      setStatus("success");
    } else {
      setStatus("stop");
      clearSources();
    }
    updateConversation({
      loading: false
    });
    loadingRef.current = false;
    window.__search_with_AI_running_task_id = null;
  }, [conversation.conversationId, conversation.writingMessage]);
  (0, import_react.useEffect)(() => {
    return () => {
      port.postMessage({
        event: "SWAI_abortAskChatGPTQuestion",
        data: {
          taskId: taskId.current
        }
      });
    };
  }, []);
  return {
    status,
    completedAnswer,
    isAnswering,
    loading: conversation.loading,
    conversation,
    isUseCache,
    handleResetStatus,
    handleAskQuestion,
    handleStopGenerate
  };
};
var generatePromptTemplate = (query, content) => {
  let promptTemplate = SEARCH_WITH_AI_PROMPT;
  const date = (0, import_dayjs.default)().format("YYYY-MM-DD HH:mm:ss");
  promptTemplate = promptTemplate.replace(/{query}/g, query);
  promptTemplate = promptTemplate.replace(/{web_results}/g, content);
  promptTemplate = promptTemplate.replace(/{current_date}/g, date);
  return promptTemplate;
};
var useSearchWithAICore_default = useSearchWithAICore;

// src/features/searchWithAI/hooks/useSearchWithProvider.ts
var import_react2 = __toESM(require_react());
var port2 = new ContentScriptConnectionV2({
  runtime: "client"
});
var useSearchWithProvider = () => {
  const [loading, setLoading] = Recoil_index_22(SearchWithAIProviderLoadingAtom);
  const { searchWithAISettings, setSearchWithAISettings } = useSearchWithAISettings_default();
  const currentProvider = (0, import_react2.useMemo)(
    () => searchWithAISettings.aiProvider,
    [searchWithAISettings.aiProvider]
  );
  const switchProvider = (0, import_react2.useCallback)(
    async (provider) => {
      setLoading(true);
      setSearchWithAISettings({
        aiProvider: provider
      });
      await port2.postMessage({
        event: "SWAI_switchAIProvider",
        data: {
          provider
        }
      });
      setLoading(false);
    },
    []
  );
  return {
    provider: currentProvider,
    updateChatGPTProvider: switchProvider,
    loading
  };
};
var useSearchWithProvider_default = useSearchWithProvider;

// src/features/searchWithAI/components/AIAskTrigger.tsx
var import_react3 = __toESM(require_react());
var import_SearchOutlined = __toESM(require_SearchOutlined());
var import_jsx_runtime = __toESM(require_jsx_runtime());
var AIAskTrigger = ({
  status,
  question,
  triggerMode = "manual",
  handleAsk
}) => {
  const [autoTriggerAskEnable, setAutoTriggerAskEnable] = Recoil_index_22(
    AutoTriggerAskEnableAtom
  );
  (0, import_react3.useEffect)(() => {
    if (triggerMode === "always" && autoTriggerAskEnable) {
      setAutoTriggerAskEnable(false);
      setTimeout(handleAsk, 100);
    }
  }, [triggerMode, autoTriggerAskEnable]);
  (0, import_react3.useEffect)(() => {
    if (triggerMode === "question-mask" && endsWithQuestionMark(question) && autoTriggerAskEnable) {
      setAutoTriggerAskEnable(false);
      setTimeout(handleAsk, 100);
    }
  }, [triggerMode, question, autoTriggerAskEnable]);
  if (status === "stop") {
    return /* @__PURE__ */ (0, import_jsx_runtime.jsx)(
      Button_default,
      {
        fullWidth: true,
        variant: "normalOutlined",
        startIcon: /* @__PURE__ */ (0, import_jsx_runtime.jsx)(import_SearchOutlined.default, {}),
        onClick: handleAsk,
        children: "Ask AI for this query"
      }
    );
  }
  if (status !== "idle") {
    return null;
  }
  if (triggerMode === "manual") {
    return /* @__PURE__ */ (0, import_jsx_runtime.jsx)(
      Button_default,
      {
        fullWidth: true,
        variant: "normalOutlined",
        startIcon: /* @__PURE__ */ (0, import_jsx_runtime.jsx)(import_SearchOutlined.default, {}),
        onClick: () => {
          setAutoTriggerAskEnable(false);
          handleAsk();
        },
        children: "Ask AI for this query"
      }
    );
  }
  if (triggerMode === "question-mask" && !endsWithQuestionMark(question)) {
    return /* @__PURE__ */ (0, import_jsx_runtime.jsxs)(Stack_default, { spacing: 2, children: [
      /* @__PURE__ */ (0, import_jsx_runtime.jsx)(
        Button_default,
        {
          fullWidth: true,
          variant: "normalOutlined",
          startIcon: /* @__PURE__ */ (0, import_jsx_runtime.jsx)(import_SearchOutlined.default, {}),
          onClick: handleAsk,
          children: "Ask AI for this query"
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime.jsx)(Divider_default, { children: " OR " }),
      /* @__PURE__ */ (0, import_jsx_runtime.jsx)(Typography_default, { variant: "body2", fontSize: 14, children: "End your search with a question mark to get an AI response automatically." })
    ] });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime.jsx)(import_jsx_runtime.Fragment, {});
};
var AIAskTrigger_default = AIAskTrigger;

// src/features/searchWithAI/components/AIProviderBar.tsx
var import_react5 = __toESM(require_react());

// src/features/searchWithAI/constants/searchWithAIProviderOptions.tsx
var SearchWithAIProviderOptions = [
  {
    label: "Free AI",
    value: SEARCH_WITH_AI_PROVIDER_MAP.FREE_AI
  },
  {
    label: "ChatGPT",
    value: SEARCH_WITH_AI_PROVIDER_MAP.OPENAI
  },
  {
    label: "Claude",
    value: SEARCH_WITH_AI_PROVIDER_MAP.CLAUDE
  },
  // {
  //   label: 'Bard',
  //   value: SEARCH_WITH_AI_PROVIDER_MAP.BARD,
  // },
  {
    label: "Gemini",
    value: SEARCH_WITH_AI_PROVIDER_MAP.GEMINI
  },
  {
    label: "Bing Chat",
    value: SEARCH_WITH_AI_PROVIDER_MAP.BING
  }
];
var searchWithAIProviderOptions_default = SearchWithAIProviderOptions;

// src/features/searchWithAI/components/SearchWIthAIProviderIcon.tsx
var import_jsx_runtime2 = __toESM(require_jsx_runtime());
var ProviderIcon = (props) => {
  const { aiProviderType, isActive, size = 24, sx } = props;
  if (!isActive) {
    return /* @__PURE__ */ (0, import_jsx_runtime2.jsxs)(import_jsx_runtime2.Fragment, { children: [
      aiProviderType === "FREE_AI" && /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
        import_SvgIcon.default,
        {
          viewBox: "0 0 24 24",
          sx: {
            fontSize: size
            // p: 0.4,
            // boxSizing: 'border-box',
          },
          children: /* @__PURE__ */ (0, import_jsx_runtime2.jsxs)("svg", { width: "24", height: "24", viewBox: "0 0 24 24", fill: "none", xmlns: "http://www.w3.org/2000/svg", children: [
            /* @__PURE__ */ (0, import_jsx_runtime2.jsxs)("g", { clipPath: "url(#clip0_10089_20145)", children: [
              /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
                "path",
                {
                  d: "M0 8C0 3.58172 3.58172 0 8 0H16C20.4183 0 24 3.58172 24 8V16C24 20.4183 20.4183 24 16 24H8C3.58172 24 0 20.4183 0 16V8Z",
                  fill: "#202124"
                }
              ),
              /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
                "mask",
                {
                  id: "mask0_10089_20145",
                  style: { maskType: "alpha" },
                  maskUnits: "userSpaceOnUse",
                  x: "0",
                  y: "0",
                  width: "24",
                  height: "24",
                  children: /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
                    "path",
                    {
                      d: "M0 8C0 3.58172 3.58172 0 8 0H16C20.4183 0 24 3.58172 24 8V16C24 20.4183 20.4183 24 16 24H8C3.58172 24 0 20.4183 0 16V8Z",
                      fill: "#202124"
                    }
                  )
                }
              ),
              /* @__PURE__ */ (0, import_jsx_runtime2.jsxs)("g", { mask: "url(#mask0_10089_20145)", children: [
                /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("path", { d: "M24.2742 18H-0.00195312V24H24.2742V18Z", fill: "#1ED7A8" }),
                /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
                  "path",
                  {
                    d: "M6.88522 20.6807V19.6143H8.67627V18.9668H6.05859V22.9787H6.88522V21.3255H8.48339V20.6807H6.88522Z",
                    fill: "#202124"
                  }
                ),
                /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
                  "path",
                  {
                    d: "M10.3365 21.0134V22.9799H9.54297V19.9985H10.2896L10.316 20.3638C10.3235 20.3502 10.3313 20.3368 10.3392 20.3237C10.4146 20.2024 10.5064 20.1088 10.6148 20.0426C10.7232 19.9765 10.8472 19.9434 10.9868 19.9434C11.0309 19.9434 11.0759 19.9471 11.1218 19.9544C11.1677 19.96 11.2054 19.9682 11.2348 19.9792L11.221 20.715C11.1824 20.7094 11.1356 20.7049 11.0805 20.7012C11.0272 20.6957 10.9785 20.6929 10.9344 20.6929C10.8224 20.6929 10.725 20.7076 10.6423 20.737C10.5615 20.7646 10.4936 20.8059 10.4384 20.861C10.3965 20.9044 10.3626 20.9552 10.3365 21.0134Z",
                    fill: "#202124"
                  }
                ),
                /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
                  "path",
                  {
                    fillRule: "evenodd",
                    clipRule: "evenodd",
                    d: "M13.4344 23.035C13.2029 23.035 12.9954 22.9983 12.8117 22.9248C12.628 22.8495 12.4718 22.7457 12.3432 22.6135C12.2165 22.4812 12.1191 22.3278 12.0512 22.1533C11.9832 21.977 11.9492 21.7896 11.9492 21.5912V21.481C11.9492 21.255 11.9814 21.0484 12.0457 20.861C12.1099 20.6736 12.2018 20.5111 12.3212 20.3733C12.4424 20.2355 12.5894 20.1299 12.7621 20.0564C12.9347 19.9811 13.1295 19.9434 13.3462 19.9434C13.5575 19.9434 13.7449 19.9783 13.9083 20.0481C14.0718 20.1179 14.2087 20.2171 14.3189 20.3457C14.431 20.4743 14.5155 20.6286 14.5724 20.8086C14.6294 20.9868 14.6578 21.1852 14.6578 21.4038V21.7345H12.754C12.762 21.8001 12.7758 21.8625 12.7951 21.9218C12.83 22.0229 12.8787 22.1101 12.9412 22.1836C13.0055 22.2571 13.0826 22.314 13.1726 22.3544C13.2645 22.3949 13.3683 22.4151 13.484 22.4151C13.6273 22.4151 13.7605 22.3875 13.8835 22.3324C14.0085 22.2755 14.1159 22.19 14.2059 22.0761L14.5917 22.495C14.5292 22.585 14.4438 22.6713 14.3354 22.754C14.2289 22.8367 14.1003 22.9046 13.9497 22.9579C13.799 23.0093 13.6273 23.035 13.4344 23.035ZM12.7786 21.1173C12.7729 21.1459 12.7679 21.1753 12.7637 21.2054H13.878V21.1448C13.878 21.0346 13.8578 20.9363 13.8174 20.85C13.7788 20.7618 13.7201 20.692 13.6411 20.6406C13.5621 20.5891 13.461 20.5634 13.338 20.5634C13.2333 20.5634 13.1432 20.5864 13.0679 20.6323C12.9926 20.6782 12.9311 20.7425 12.8833 20.8252C12.8374 20.9078 12.8025 21.0052 12.7786 21.1173Z",
                    fill: "#202124"
                  }
                ),
                /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
                  "path",
                  {
                    fillRule: "evenodd",
                    clipRule: "evenodd",
                    d: "M16.3664 22.9248C16.5501 22.9983 16.7577 23.035 16.9891 23.035C17.182 23.035 17.3538 23.0093 17.5044 22.9579C17.655 22.9046 17.7836 22.8367 17.8902 22.754C17.9985 22.6713 18.084 22.585 18.1464 22.495L17.7606 22.0761C17.6706 22.19 17.5632 22.2755 17.4383 22.3324C17.3152 22.3875 17.182 22.4151 17.0387 22.4151C16.923 22.4151 16.8192 22.3949 16.7274 22.3544C16.6373 22.314 16.5602 22.2571 16.4959 22.1836C16.4334 22.1101 16.3848 22.0229 16.3499 21.9218C16.3305 21.8625 16.3168 21.8001 16.3088 21.7345H18.2125V21.4038C18.2125 21.1852 18.1841 20.9868 18.1271 20.8086C18.0702 20.6286 17.9857 20.4743 17.8736 20.3457C17.7634 20.2171 17.6265 20.1179 17.4631 20.0481C17.2996 19.9783 17.1122 19.9434 16.9009 19.9434C16.6842 19.9434 16.4895 19.9811 16.3168 20.0564C16.1441 20.1299 15.9972 20.2355 15.8759 20.3733C15.7565 20.5111 15.6647 20.6736 15.6004 20.861C15.5361 21.0484 15.5039 21.255 15.5039 21.481V21.5912C15.5039 21.7896 15.5379 21.977 15.6059 22.1533C15.6739 22.3278 15.7712 22.4812 15.898 22.6135C16.0265 22.7457 16.1827 22.8495 16.3664 22.9248ZM16.3184 21.2054C16.3226 21.1753 16.3276 21.1459 16.3333 21.1173C16.3572 21.0052 16.3921 20.9078 16.438 20.8252C16.4858 20.7425 16.5473 20.6782 16.6226 20.6323C16.698 20.5864 16.788 20.5634 16.8927 20.5634C17.0158 20.5634 17.1168 20.5891 17.1958 20.6406C17.2748 20.692 17.3336 20.7618 17.3721 20.85C17.4125 20.9363 17.4327 21.0346 17.4327 21.1448V21.2054H16.3184Z",
                    fill: "#202124"
                  }
                )
              ] }),
              /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
                "path",
                {
                  fillRule: "evenodd",
                  clipRule: "evenodd",
                  d: "M10.2656 5.36523L14.0906 15.6028H11.8406L11.0734 13.4442H7.50304L6.74297 15.6028H4.5L8.30391 5.36523H10.2656ZM8.08487 11.7918H10.4861L9.27986 8.39798L8.08487 11.7918Z",
                  fill: "white"
                }
              ),
              /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("path", { d: "M18.5789 15.6028V5.36523H16.4766V15.6028H18.5789Z", fill: "white" })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("defs", { children: /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("clipPath", { id: "clip0_10089_20145", children: /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("rect", { width: "24", height: "24", fill: "white" }) }) })
          ] })
        }
      ),
      aiProviderType === "OPENAI" && /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
        import_SvgIcon.default,
        {
          viewBox: "0 0 24 24",
          sx: {
            fontSize: size
            // p: 0.4,
            // boxSizing: 'border-box',
          },
          children: /* @__PURE__ */ (0, import_jsx_runtime2.jsxs)("svg", { width: "24", height: "24", viewBox: "0 0 24 24", fill: "none", xmlns: "http://www.w3.org/2000/svg", children: [
            /* @__PURE__ */ (0, import_jsx_runtime2.jsxs)("g", { clipPath: "url(#clip0_10089_20023)", children: [
              /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
                "path",
                {
                  d: "M0 8C0 3.58172 3.58172 0 8 0H16C20.4183 0 24 3.58172 24 8V16C24 20.4183 20.4183 24 16 24H8C3.58172 24 0 20.4183 0 16V8Z",
                  fill: "#0FA47F"
                }
              ),
              /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
                "path",
                {
                  d: "M19.8134 10.3669C20.0179 9.76086 20.0888 9.11884 20.0215 8.48367C19.9541 7.8485 19.75 7.23485 19.4228 6.68381C18.9378 5.85033 18.197 5.19043 17.3073 4.79933C16.4175 4.40824 15.4248 4.30617 14.4724 4.50786C14.0428 4.03019 13.5148 3.64857 12.9236 3.38854C12.3325 3.12851 11.6919 2.99607 11.0447 3.00009C10.0709 2.99778 9.12167 3.30061 8.33362 3.86497C7.54557 4.42931 6.95954 5.22601 6.65998 6.14017C6.02565 6.2683 5.42637 6.52864 4.90228 6.90378C4.37818 7.27893 3.94135 7.7602 3.62103 8.31541C3.13216 9.14661 2.92348 10.1094 3.02509 11.0653C3.1267 12.021 3.53334 12.9202 4.18638 13.6332C3.9819 14.2391 3.91098 14.8812 3.97833 15.5164C4.04569 16.1515 4.24978 16.7652 4.57695 17.3162C5.062 18.1497 5.80283 18.8095 6.69259 19.2007C7.58234 19.5917 8.57502 19.6938 9.52738 19.4922C9.95701 19.9698 10.485 20.3515 11.0761 20.6115C11.6673 20.8715 12.3079 21.0039 12.955 20.9999C13.9293 21.0024 14.8791 20.6995 15.6674 20.1348C16.4558 19.5701 17.042 18.7728 17.3412 17.8581C17.9756 17.73 18.5748 17.4696 19.099 17.0945C19.623 16.7193 20.0598 16.238 20.3801 15.6829C20.8685 14.8518 21.0766 13.8891 20.9748 12.9336C20.8729 11.9783 20.4663 11.0795 19.8134 10.3669ZM12.9566 19.8233C12.1568 19.8244 11.3822 19.548 10.7681 19.0426C10.7959 19.0277 10.8444 19.0015 10.876 18.9823L14.5084 16.9121C14.5996 16.8609 14.6753 16.7866 14.7277 16.697C14.7802 16.6074 14.8075 16.5056 14.8069 16.4022V11.3494L16.3422 12.2241C16.3502 12.2281 16.3571 12.2339 16.3624 12.2412C16.3676 12.2485 16.3708 12.2568 16.372 12.2656V16.45C16.3708 17.3438 16.0107 18.2006 15.3706 18.8328C14.7304 19.4651 13.8623 19.8213 12.9566 19.8233ZM5.61127 16.7279C5.2107 16.0449 5.06633 15.2448 5.20344 14.4675C5.23041 14.4834 5.27753 14.5118 5.31133 14.531L8.94366 16.6012C9.03419 16.6533 9.13717 16.6809 9.24202 16.6809C9.34683 16.6809 9.44981 16.6533 9.54034 16.6012L13.975 14.0746V15.8241C13.9755 15.833 13.9738 15.8419 13.97 15.8501C13.9661 15.8582 13.9604 15.8652 13.9531 15.8706L10.2812 17.9624C9.49578 18.4088 8.56298 18.5294 7.6875 18.298C6.81201 18.0665 6.06532 17.5019 5.61127 16.7279ZM4.65571 8.90375C5.05454 8.21992 5.68448 7.69639 6.4352 7.42473C6.4352 7.4556 6.4334 7.51027 6.4334 7.5482V11.6886C6.43277 11.792 6.46006 11.8937 6.51245 11.9834C6.56484 12.0729 6.64047 12.147 6.73155 12.1982L11.1663 14.7244L9.63096 15.5991C9.62338 15.6041 9.61468 15.607 9.60565 15.6078C9.59662 15.6086 9.5875 15.6072 9.57915 15.6038L5.90689 13.51C5.12286 13.0621 4.55086 12.3256 4.31631 11.462C4.08177 10.5986 4.20382 9.6786 4.65571 8.90375ZM17.2697 11.8L12.835 9.27351L14.3703 8.39916C14.3779 8.39426 14.3865 8.39124 14.3955 8.39043C14.4047 8.38962 14.4137 8.39106 14.422 8.39457L18.0943 10.4864C18.657 10.807 19.1152 11.2792 19.4158 11.8476C19.7163 12.416 19.8464 13.0571 19.791 13.6958C19.7355 14.3345 19.4968 14.9445 19.1028 15.4542C18.7087 15.9639 18.1757 16.3523 17.566 16.5738C17.566 16.5426 17.566 16.4881 17.566 16.45V12.3096C17.5668 12.2064 17.5398 12.1048 17.4878 12.0152C17.4357 11.9256 17.3604 11.8515 17.2697 11.8ZM18.7978 9.53077C18.7708 9.51445 18.7237 9.4864 18.6899 9.46728L15.0576 7.39705C14.9669 7.34494 14.8641 7.31745 14.7592 7.31745C14.6544 7.31745 14.5514 7.34494 14.4609 7.39705L10.0261 9.92365V8.17421C10.0257 8.16525 10.0274 8.15634 10.0313 8.14823C10.035 8.14014 10.0409 8.13308 10.0481 8.12772L13.72 6.03762C14.2825 5.71758 14.9258 5.5622 15.5747 5.58968C16.2234 5.61716 16.8507 5.82636 17.3835 6.1928C17.9161 6.55924 18.332 7.06776 18.5825 7.6589C18.833 8.25003 18.9076 8.89929 18.7978 9.53077ZM9.19149 12.6489L7.65581 11.7742C7.64778 11.7702 7.64081 11.7644 7.6356 11.7571C7.6304 11.7498 7.62707 11.7415 7.62598 11.7326V7.5482C7.62639 6.90734 7.81183 6.27983 8.16054 5.73914C8.5093 5.19846 9.00692 4.76697 9.59516 4.49519C10.1834 4.22342 10.8379 4.12259 11.4821 4.20452C12.1263 4.28645 12.7336 4.54774 13.2327 4.95781C13.2051 4.97271 13.1568 4.99898 13.1248 5.01814L9.4925 7.08834C9.40133 7.13946 9.32567 7.21361 9.27317 7.30318C9.22073 7.39273 9.19341 7.49448 9.194 7.59788L9.19149 12.6489ZM10.0254 10.8746L12.0006 9.74903L13.9757 10.8739V13.1244L12.0006 14.2492L10.0254 13.1244V10.8746Z",
                  fill: "white"
                }
              )
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("defs", { children: /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("clipPath", { id: "clip0_10089_20023", children: /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("rect", { width: "24", height: "24", fill: "white" }) }) })
          ] })
        }
      ),
      aiProviderType === "GEMINI" && /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
        import_SvgIcon.default,
        {
          viewBox: "0 0 24 24",
          sx: {
            fontSize: size
            // p: 0.4,
            // boxSizing: 'border-box',
          },
          children: /* @__PURE__ */ (0, import_jsx_runtime2.jsxs)("svg", { width: "24", height: "24", viewBox: "0 0 24 24", fill: "none", xmlns: "http://www.w3.org/2000/svg", children: [
            /* @__PURE__ */ (0, import_jsx_runtime2.jsxs)("g", { clipPath: "url(#clip0_10089_20067)", children: [
              /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
                "path",
                {
                  d: "M0 8C0 3.58172 3.58172 0 8 0H16C20.4183 0 24 3.58172 24 8V16C24 20.4183 20.4183 24 16 24H8C3.58172 24 0 20.4183 0 16V8Z",
                  fill: "#F0F4F8"
                }
              ),
              /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
                "path",
                {
                  d: "M12.0002 1.91211C12.0002 7.48113 7.48786 11.9963 1.91992 12.0009C7.48786 12.0055 12.0002 16.5206 12.0002 22.0896C12.0002 16.5206 16.5125 12.0055 22.0804 12.0009C16.5125 11.9963 12.0002 7.48113 12.0002 1.91211Z",
                  fill: "white"
                }
              ),
              /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
                "path",
                {
                  d: "M12.0002 1.91211C12.0002 7.48113 7.48786 11.9963 1.91992 12.0009C7.48786 12.0055 12.0002 16.5206 12.0002 22.0896C12.0002 16.5206 16.5125 12.0055 22.0804 12.0009C16.5125 11.9963 12.0002 7.48113 12.0002 1.91211Z",
                  fill: "url(#paint0_linear_10089_20067)",
                  fillOpacity: "0.7"
                }
              ),
              /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
                "path",
                {
                  d: "M12.0002 1.91211C12.0002 7.48113 7.48786 11.9963 1.91992 12.0009C7.48786 12.0055 12.0002 16.5206 12.0002 22.0896C12.0002 16.5206 16.5125 12.0055 22.0804 12.0009C16.5125 11.9963 12.0002 7.48113 12.0002 1.91211Z",
                  fill: "url(#paint1_linear_10089_20067)",
                  fillOpacity: "0.7"
                }
              ),
              /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
                "path",
                {
                  d: "M12.0002 1.91211C12.0002 7.48113 7.48786 11.9963 1.91992 12.0009C7.48786 12.0055 12.0002 16.5206 12.0002 22.0896C12.0002 16.5206 16.5125 12.0055 22.0804 12.0009C16.5125 11.9963 12.0002 7.48113 12.0002 1.91211Z",
                  fill: "url(#paint2_linear_10089_20067)",
                  fillOpacity: "0.2"
                }
              )
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime2.jsxs)("defs", { children: [
              /* @__PURE__ */ (0, import_jsx_runtime2.jsxs)(
                "linearGradient",
                {
                  id: "paint0_linear_10089_20067",
                  x1: "22.0804",
                  y1: "12.0009",
                  x2: "2.45594",
                  y2: "12.0009",
                  gradientUnits: "userSpaceOnUse",
                  children: [
                    /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("stop", { offset: "0.218303", stopColor: "#EAEAEA" }),
                    /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("stop", { offset: "0.739459", stopColor: "#126EEF" })
                  ]
                }
              ),
              /* @__PURE__ */ (0, import_jsx_runtime2.jsxs)(
                "linearGradient",
                {
                  id: "paint1_linear_10089_20067",
                  x1: "12.0002",
                  y1: "1.91211",
                  x2: "12.0002",
                  y2: "22.0896",
                  gradientUnits: "userSpaceOnUse",
                  children: [
                    /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("stop", { offset: "0.3125", stopColor: "#D8D4D3" }),
                    /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("stop", { offset: "0.656495", stopColor: "#1170FB" })
                  ]
                }
              ),
              /* @__PURE__ */ (0, import_jsx_runtime2.jsxs)(
                "linearGradient",
                {
                  id: "paint2_linear_10089_20067",
                  x1: "15.0598",
                  y1: "9.16777",
                  x2: "12.456",
                  y2: "12.2594",
                  gradientUnits: "userSpaceOnUse",
                  children: [
                    /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("stop", { stopColor: "#E7D6CA" }),
                    /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("stop", { offset: "1", stopColor: "#8DB9EA" })
                  ]
                }
              ),
              /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("clipPath", { id: "clip0_10089_20067", children: /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("rect", { width: "24", height: "24", fill: "white" }) })
            ] })
          ] })
        }
      ),
      aiProviderType === "BING" && /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
        import_SvgIcon.default,
        {
          viewBox: "0 0 24 24",
          sx: {
            fontSize: size
            // p: 0.4,
            // boxSizing: 'border-box',
          },
          children: /* @__PURE__ */ (0, import_jsx_runtime2.jsxs)(
            "svg",
            {
              xmlns: "http://www.w3.org/2000/svg",
              viewBox: "0 0 120 120",
              preserveAspectRatio: "xMidYMid meet",
              width: "100%",
              height: "100%",
              fill: "none",
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
                  "path",
                  {
                    fill: "url(#a)",
                    d: "M85.855 18.313A11.574 11.574 0 0 0 74.75 10h-3.379a11.574 11.574 0 0 0-11.384 9.485L54.2 51.018l1.436-4.913a11.574 11.574 0 0 1 11.11-8.327H86.38l8.235 3.207 7.937-3.207h-2.316a11.574 11.574 0 0 1-11.105-8.313z"
                  }
                ),
                /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
                  "path",
                  {
                    fill: "url(#b)",
                    d: "M36.326 101.64A11.574 11.574 0 0 0 47.445 110h7.176c6.276 0 11.409-5.002 11.57-11.277l.781-30.405-1.634 5.583a11.574 11.574 0 0 1-11.108 8.321H34.432l-7.058-3.829-7.641 3.83h2.278c5.154 0 9.687 3.408 11.119 8.36z"
                  }
                ),
                /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
                  "path",
                  {
                    fill: "url(#c)",
                    d: "M74.248 10H34.15c-11.457 0-18.33 15.142-22.913 30.283-5.43 17.939-12.534 41.93 8.02 41.93H36.57c5.174 0 9.716-3.421 11.138-8.396 3.01-10.531 8.286-28.903 12.43-42.889 2.105-7.107 3.86-13.211 6.551-17.012C68.2 11.785 70.715 10 74.248 10"
                  }
                ),
                /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
                  "path",
                  {
                    fill: "url(#d)",
                    d: "M74.248 10H34.15c-11.457 0-18.33 15.142-22.913 30.283-5.43 17.939-12.534 41.93 8.02 41.93H36.57c5.174 0 9.716-3.421 11.138-8.396 3.01-10.531 8.286-28.903 12.43-42.889 2.105-7.107 3.86-13.211 6.551-17.012C68.2 11.785 70.715 10 74.248 10"
                  }
                ),
                /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
                  "path",
                  {
                    fill: "url(#e)",
                    d: "M46.744 110h40.099c11.456 0 18.33-15.144 22.913-30.288 5.429-17.942 12.533-41.937-8.02-41.937H84.422a11.576 11.576 0 0 0-11.138 8.396c-3.01 10.533-8.286 28.909-12.43 42.897-2.106 7.109-3.86 13.214-6.552 17.016-1.51 2.131-4.025 3.916-7.558 3.916"
                  }
                ),
                /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
                  "path",
                  {
                    fill: "url(#f)",
                    d: "M46.744 110h40.099c11.456 0 18.33-15.144 22.913-30.288 5.429-17.942 12.533-41.937-8.02-41.937H84.422a11.576 11.576 0 0 0-11.138 8.396c-3.01 10.533-8.286 28.909-12.43 42.897-2.106 7.109-3.86 13.214-6.552 17.016-1.51 2.131-4.025 3.916-7.558 3.916"
                  }
                ),
                /* @__PURE__ */ (0, import_jsx_runtime2.jsxs)("defs", { children: [
                  /* @__PURE__ */ (0, import_jsx_runtime2.jsxs)(
                    "radialGradient",
                    {
                      id: "a",
                      cx: "0",
                      cy: "0",
                      r: "1",
                      gradientTransform: "matrix(-27.40125 -33.47302 31.47539 -25.76598 95.512 51.286)",
                      gradientUnits: "userSpaceOnUse",
                      children: [
                        /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("stop", { offset: ".096", stopColor: "#9E9E9E" }),
                        /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("stop", { offset: ".773", stopColor: "#9E9E9E" }),
                        /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("stop", { offset: "1", stopColor: "#9E9E9E" })
                      ]
                    }
                  ),
                  /* @__PURE__ */ (0, import_jsx_runtime2.jsxs)(
                    "radialGradient",
                    {
                      id: "b",
                      cx: "0",
                      cy: "0",
                      r: "1",
                      gradientTransform: "rotate(51.84 -70.254 70.14)scale(39.9779 38.7796)",
                      gradientUnits: "userSpaceOnUse",
                      children: [
                        /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("stop", { stopColor: "#9E9E9E" }),
                        /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("stop", { offset: ".634", stopColor: "#9E9E9E" }),
                        /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("stop", { offset: ".923", stopColor: "#9E9E9E" })
                      ]
                    }
                  ),
                  /* @__PURE__ */ (0, import_jsx_runtime2.jsxs)(
                    "radialGradient",
                    {
                      id: "e",
                      cx: "0",
                      cy: "0",
                      r: "1",
                      gradientTransform: "matrix(-31.67773 90.58917 -108.5232 -37.949 103.796 30.703)",
                      gradientUnits: "userSpaceOnUse",
                      children: [
                        /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("stop", { offset: ".066", stopColor: "#9E9E9E" }),
                        /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("stop", { offset: ".5", stopColor: "#9E9E9E" }),
                        /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("stop", { offset: ".896", stopColor: "#9E9E9E" })
                      ]
                    }
                  ),
                  /* @__PURE__ */ (0, import_jsx_runtime2.jsxs)(
                    "linearGradient",
                    {
                      id: "c",
                      x1: "31.75",
                      x2: "37.471",
                      y1: "18.75",
                      y2: "84.938",
                      gradientUnits: "userSpaceOnUse",
                      children: [
                        /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("stop", { offset: ".156", stopColor: "#9E9E9E" }),
                        /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("stop", { offset: ".487", stopColor: "#9E9E9E" }),
                        /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("stop", { offset: ".652", stopColor: "#9E9E9E" }),
                        /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("stop", { offset: ".937", stopColor: "#9E9E9E" })
                      ]
                    }
                  ),
                  /* @__PURE__ */ (0, import_jsx_runtime2.jsxs)(
                    "linearGradient",
                    {
                      id: "d",
                      x1: "36.75",
                      x2: "39.874",
                      y1: "10",
                      y2: "82.213",
                      gradientUnits: "userSpaceOnUse",
                      children: [
                        /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("stop", { stopColor: "#9E9E9E" }),
                        /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("stop", { offset: ".247", stopColor: "#9E9E9E", stopOpacity: "0" })
                      ]
                    }
                  ),
                  /* @__PURE__ */ (0, import_jsx_runtime2.jsxs)(
                    "linearGradient",
                    {
                      id: "f",
                      x1: "106.964",
                      x2: "106.923",
                      y1: "33.365",
                      y2: "53.037",
                      gradientUnits: "userSpaceOnUse",
                      children: [
                        /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("stop", { offset: ".058", stopColor: "#9E9E9E" }),
                        /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("stop", { offset: ".708", stopColor: "#9E9E9E", stopOpacity: "0" })
                      ]
                    }
                  )
                ] })
              ]
            }
          )
        }
      ),
      aiProviderType === "CLAUDE" && /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
        import_SvgIcon.default,
        {
          viewBox: "0 0 24 24",
          sx: {
            fontSize: size
            // p: 0.4,
            // boxSizing: 'border-box',
          },
          children: /* @__PURE__ */ (0, import_jsx_runtime2.jsxs)("svg", { width: "24", height: "24", viewBox: "0 0 24 24", fill: "none", xmlns: "http://www.w3.org/2000/svg", children: [
            /* @__PURE__ */ (0, import_jsx_runtime2.jsxs)("g", { clipPath: "url(#clip0_10089_20045)", children: [
              /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
                "path",
                {
                  d: "M0 8C0 3.58172 3.58172 0 8 0H16C20.4183 0 24 3.58172 24 8V16C24 20.4183 20.4183 24 16 24H8C3.58172 24 0 20.4183 0 16V8Z",
                  fill: "#F0EFE6"
                }
              ),
              /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
                "path",
                {
                  d: "M6.52897 14.9666L10.067 12.9813L10.1262 12.8082L10.067 12.7126H9.894L9.30205 12.6762L7.28029 12.6216L5.52719 12.5487L3.82874 12.4576L3.40071 12.3666L3 11.8384L3.04098 11.5742L3.40071 11.3329L3.91525 11.3784L5.05363 11.4559L6.76119 11.5742L7.99975 11.6471L9.83481 11.8384H10.1262L10.1672 11.72L10.067 11.6471L9.98963 11.5742L8.22287 10.3767L6.3104 9.1108L5.30863 8.38224L4.76676 8.01341L4.49355 7.66734L4.37516 6.91146L4.86694 6.36959L5.52719 6.41513L5.69567 6.46066L6.36504 6.97521L7.79484 8.08171L9.66178 9.45687L9.93499 9.68454L10.0443 9.60713L10.0579 9.55249L9.93499 9.34758L8.91955 7.51252L7.83582 5.64559L7.35315 4.87149L7.22565 4.40703C7.18012 4.21579 7.14824 4.05641 7.14824 3.86061L7.70832 3.10018L8.01796 3L8.76474 3.10018L9.07893 3.37339L9.54338 4.43435L10.2947 6.10549L11.4604 8.37769L11.8019 9.05161L11.9841 9.67544L12.0524 9.86668H12.1708V9.7574L12.2664 8.47787L12.444 6.90691L12.617 4.88515L12.6762 4.31596L12.9585 3.63294L13.5186 3.2641L13.9557 3.47356L14.3155 3.98811L14.2654 4.32052L14.0514 5.70933L13.6324 7.88591L13.3592 9.34303H13.5186L13.7007 9.16089L14.4384 8.18189L15.677 6.6337L16.2234 6.01897L16.8609 5.3405L17.2707 5.0172H18.0448L18.614 5.86415L18.359 6.73843L17.5621 7.7493L16.9018 8.60536L15.9547 9.88034L15.3628 10.9003L15.4174 10.9823L15.5586 10.9686L17.6987 10.5133L18.8553 10.3038L20.235 10.067L20.8588 10.3585L20.9271 10.6544L20.6813 11.2601L19.2059 11.6243L17.4756 11.9704L14.8983 12.5806L14.8664 12.6033L14.9029 12.6489L16.064 12.7582L16.5603 12.7855H17.7761L20.0392 12.954L20.6312 13.3456L20.9863 13.8237L20.9271 14.188L20.0164 14.6524L18.787 14.361L15.9183 13.678L14.9347 13.4321H14.7981V13.514L15.6178 14.3155L17.1204 15.6724L19.001 17.4209L19.0966 17.8535L18.8553 18.195L18.6003 18.1586L16.9474 16.9155L16.3099 16.3554L14.8664 15.1396H14.7708V15.2671L15.1032 15.7544L16.8609 18.3954L16.9519 19.2059L16.8244 19.47L16.3691 19.6294L15.8682 19.5383L14.8391 18.0949L13.7781 16.4693L12.9221 15.0121L12.8174 15.0713L12.3119 20.5128L12.0751 20.7905L11.5287 21L11.0734 20.6539L10.832 20.0939L11.0734 18.9874L11.3648 17.5439L11.6016 16.3964L11.8156 14.9712L11.9431 14.4976L11.934 14.4657L11.8292 14.4794L10.7546 15.9547L9.11991 18.1632L7.82671 19.5474L7.51708 19.6704L6.97976 19.3926L7.02985 18.8963L7.33038 18.4546L9.11991 16.1778L10.1991 14.7663L10.8958 13.9512L10.8912 13.8328H10.8502L6.09638 16.9201L5.24943 17.0293L4.88515 16.6878L4.93069 16.1278L5.10372 15.9456L6.53352 14.9621L6.52897 14.9666Z",
                  fill: "#D97757"
                }
              )
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("defs", { children: /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("clipPath", { id: "clip0_10089_20045", children: /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("rect", { width: "24", height: "24", fill: "white" }) }) })
          ] })
        }
      )
    ] });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime2.jsxs)(import_jsx_runtime2.Fragment, { children: [
    aiProviderType === "FREE_AI" && /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
      import_SvgIcon.default,
      {
        viewBox: "0 0 24 24",
        sx: {
          fontSize: size
          // p: 0.4,
          // boxSizing: 'border-box',
        },
        children: /* @__PURE__ */ (0, import_jsx_runtime2.jsxs)("svg", { width: "24", height: "24", viewBox: "0 0 24 24", fill: "none", xmlns: "http://www.w3.org/2000/svg", children: [
          /* @__PURE__ */ (0, import_jsx_runtime2.jsxs)("g", { clipPath: "url(#clip0_10089_20145)", children: [
            /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
              "path",
              {
                d: "M0 8C0 3.58172 3.58172 0 8 0H16C20.4183 0 24 3.58172 24 8V16C24 20.4183 20.4183 24 16 24H8C3.58172 24 0 20.4183 0 16V8Z",
                fill: "#202124"
              }
            ),
            /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
              "mask",
              {
                id: "mask0_10089_20145",
                style: { maskType: "alpha" },
                maskUnits: "userSpaceOnUse",
                x: "0",
                y: "0",
                width: "24",
                height: "24",
                children: /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
                  "path",
                  {
                    d: "M0 8C0 3.58172 3.58172 0 8 0H16C20.4183 0 24 3.58172 24 8V16C24 20.4183 20.4183 24 16 24H8C3.58172 24 0 20.4183 0 16V8Z",
                    fill: "#202124"
                  }
                )
              }
            ),
            /* @__PURE__ */ (0, import_jsx_runtime2.jsxs)("g", { mask: "url(#mask0_10089_20145)", children: [
              /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("path", { d: "M24.2742 18H-0.00195312V24H24.2742V18Z", fill: "#1ED7A8" }),
              /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
                "path",
                {
                  d: "M6.88522 20.6807V19.6143H8.67627V18.9668H6.05859V22.9787H6.88522V21.3255H8.48339V20.6807H6.88522Z",
                  fill: "#202124"
                }
              ),
              /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
                "path",
                {
                  d: "M10.3365 21.0134V22.9799H9.54297V19.9985H10.2896L10.316 20.3638C10.3235 20.3502 10.3313 20.3368 10.3392 20.3237C10.4146 20.2024 10.5064 20.1088 10.6148 20.0426C10.7232 19.9765 10.8472 19.9434 10.9868 19.9434C11.0309 19.9434 11.0759 19.9471 11.1218 19.9544C11.1677 19.96 11.2054 19.9682 11.2348 19.9792L11.221 20.715C11.1824 20.7094 11.1356 20.7049 11.0805 20.7012C11.0272 20.6957 10.9785 20.6929 10.9344 20.6929C10.8224 20.6929 10.725 20.7076 10.6423 20.737C10.5615 20.7646 10.4936 20.8059 10.4384 20.861C10.3965 20.9044 10.3626 20.9552 10.3365 21.0134Z",
                  fill: "#202124"
                }
              ),
              /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
                "path",
                {
                  fillRule: "evenodd",
                  clipRule: "evenodd",
                  d: "M13.4344 23.035C13.2029 23.035 12.9954 22.9983 12.8117 22.9248C12.628 22.8495 12.4718 22.7457 12.3432 22.6135C12.2165 22.4812 12.1191 22.3278 12.0512 22.1533C11.9832 21.977 11.9492 21.7896 11.9492 21.5912V21.481C11.9492 21.255 11.9814 21.0484 12.0457 20.861C12.1099 20.6736 12.2018 20.5111 12.3212 20.3733C12.4424 20.2355 12.5894 20.1299 12.7621 20.0564C12.9347 19.9811 13.1295 19.9434 13.3462 19.9434C13.5575 19.9434 13.7449 19.9783 13.9083 20.0481C14.0718 20.1179 14.2087 20.2171 14.3189 20.3457C14.431 20.4743 14.5155 20.6286 14.5724 20.8086C14.6294 20.9868 14.6578 21.1852 14.6578 21.4038V21.7345H12.754C12.762 21.8001 12.7758 21.8625 12.7951 21.9218C12.83 22.0229 12.8787 22.1101 12.9412 22.1836C13.0055 22.2571 13.0826 22.314 13.1726 22.3544C13.2645 22.3949 13.3683 22.4151 13.484 22.4151C13.6273 22.4151 13.7605 22.3875 13.8835 22.3324C14.0085 22.2755 14.1159 22.19 14.2059 22.0761L14.5917 22.495C14.5292 22.585 14.4438 22.6713 14.3354 22.754C14.2289 22.8367 14.1003 22.9046 13.9497 22.9579C13.799 23.0093 13.6273 23.035 13.4344 23.035ZM12.7786 21.1173C12.7729 21.1459 12.7679 21.1753 12.7637 21.2054H13.878V21.1448C13.878 21.0346 13.8578 20.9363 13.8174 20.85C13.7788 20.7618 13.7201 20.692 13.6411 20.6406C13.5621 20.5891 13.461 20.5634 13.338 20.5634C13.2333 20.5634 13.1432 20.5864 13.0679 20.6323C12.9926 20.6782 12.9311 20.7425 12.8833 20.8252C12.8374 20.9078 12.8025 21.0052 12.7786 21.1173Z",
                  fill: "#202124"
                }
              ),
              /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
                "path",
                {
                  fillRule: "evenodd",
                  clipRule: "evenodd",
                  d: "M16.3664 22.9248C16.5501 22.9983 16.7577 23.035 16.9891 23.035C17.182 23.035 17.3538 23.0093 17.5044 22.9579C17.655 22.9046 17.7836 22.8367 17.8902 22.754C17.9985 22.6713 18.084 22.585 18.1464 22.495L17.7606 22.0761C17.6706 22.19 17.5632 22.2755 17.4383 22.3324C17.3152 22.3875 17.182 22.4151 17.0387 22.4151C16.923 22.4151 16.8192 22.3949 16.7274 22.3544C16.6373 22.314 16.5602 22.2571 16.4959 22.1836C16.4334 22.1101 16.3848 22.0229 16.3499 21.9218C16.3305 21.8625 16.3168 21.8001 16.3088 21.7345H18.2125V21.4038C18.2125 21.1852 18.1841 20.9868 18.1271 20.8086C18.0702 20.6286 17.9857 20.4743 17.8736 20.3457C17.7634 20.2171 17.6265 20.1179 17.4631 20.0481C17.2996 19.9783 17.1122 19.9434 16.9009 19.9434C16.6842 19.9434 16.4895 19.9811 16.3168 20.0564C16.1441 20.1299 15.9972 20.2355 15.8759 20.3733C15.7565 20.5111 15.6647 20.6736 15.6004 20.861C15.5361 21.0484 15.5039 21.255 15.5039 21.481V21.5912C15.5039 21.7896 15.5379 21.977 15.6059 22.1533C15.6739 22.3278 15.7712 22.4812 15.898 22.6135C16.0265 22.7457 16.1827 22.8495 16.3664 22.9248ZM16.3184 21.2054C16.3226 21.1753 16.3276 21.1459 16.3333 21.1173C16.3572 21.0052 16.3921 20.9078 16.438 20.8252C16.4858 20.7425 16.5473 20.6782 16.6226 20.6323C16.698 20.5864 16.788 20.5634 16.8927 20.5634C17.0158 20.5634 17.1168 20.5891 17.1958 20.6406C17.2748 20.692 17.3336 20.7618 17.3721 20.85C17.4125 20.9363 17.4327 21.0346 17.4327 21.1448V21.2054H16.3184Z",
                  fill: "#202124"
                }
              )
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
              "path",
              {
                fillRule: "evenodd",
                clipRule: "evenodd",
                d: "M10.2656 5.36523L14.0906 15.6028H11.8406L11.0734 13.4442H7.50304L6.74297 15.6028H4.5L8.30391 5.36523H10.2656ZM8.08487 11.7918H10.4861L9.27986 8.39798L8.08487 11.7918Z",
                fill: "white"
              }
            ),
            /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("path", { d: "M18.5789 15.6028V5.36523H16.4766V15.6028H18.5789Z", fill: "white" })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("defs", { children: /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("clipPath", { id: "clip0_10089_20145", children: /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("rect", { width: "24", height: "24", fill: "white" }) }) })
        ] })
      }
    ),
    aiProviderType === "OPENAI" && /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
      import_SvgIcon.default,
      {
        viewBox: "0 0 24 24",
        sx: {
          fontSize: size
        },
        children: /* @__PURE__ */ (0, import_jsx_runtime2.jsxs)("svg", { width: "24", height: "24", viewBox: "0 0 24 24", fill: "none", xmlns: "http://www.w3.org/2000/svg", children: [
          /* @__PURE__ */ (0, import_jsx_runtime2.jsxs)("g", { clipPath: "url(#clip0_10089_20023)", children: [
            /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
              "path",
              {
                d: "M0 8C0 3.58172 3.58172 0 8 0H16C20.4183 0 24 3.58172 24 8V16C24 20.4183 20.4183 24 16 24H8C3.58172 24 0 20.4183 0 16V8Z",
                fill: "#0FA47F"
              }
            ),
            /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
              "path",
              {
                d: "M19.8134 10.3669C20.0179 9.76086 20.0888 9.11884 20.0215 8.48367C19.9541 7.8485 19.75 7.23485 19.4228 6.68381C18.9378 5.85033 18.197 5.19043 17.3073 4.79933C16.4175 4.40824 15.4248 4.30617 14.4724 4.50786C14.0428 4.03019 13.5148 3.64857 12.9236 3.38854C12.3325 3.12851 11.6919 2.99607 11.0447 3.00009C10.0709 2.99778 9.12167 3.30061 8.33362 3.86497C7.54557 4.42931 6.95954 5.22601 6.65998 6.14017C6.02565 6.2683 5.42637 6.52864 4.90228 6.90378C4.37818 7.27893 3.94135 7.7602 3.62103 8.31541C3.13216 9.14661 2.92348 10.1094 3.02509 11.0653C3.1267 12.021 3.53334 12.9202 4.18638 13.6332C3.9819 14.2391 3.91098 14.8812 3.97833 15.5164C4.04569 16.1515 4.24978 16.7652 4.57695 17.3162C5.062 18.1497 5.80283 18.8095 6.69259 19.2007C7.58234 19.5917 8.57502 19.6938 9.52738 19.4922C9.95701 19.9698 10.485 20.3515 11.0761 20.6115C11.6673 20.8715 12.3079 21.0039 12.955 20.9999C13.9293 21.0024 14.8791 20.6995 15.6674 20.1348C16.4558 19.5701 17.042 18.7728 17.3412 17.8581C17.9756 17.73 18.5748 17.4696 19.099 17.0945C19.623 16.7193 20.0598 16.238 20.3801 15.6829C20.8685 14.8518 21.0766 13.8891 20.9748 12.9336C20.8729 11.9783 20.4663 11.0795 19.8134 10.3669ZM12.9566 19.8233C12.1568 19.8244 11.3822 19.548 10.7681 19.0426C10.7959 19.0277 10.8444 19.0015 10.876 18.9823L14.5084 16.9121C14.5996 16.8609 14.6753 16.7866 14.7277 16.697C14.7802 16.6074 14.8075 16.5056 14.8069 16.4022V11.3494L16.3422 12.2241C16.3502 12.2281 16.3571 12.2339 16.3624 12.2412C16.3676 12.2485 16.3708 12.2568 16.372 12.2656V16.45C16.3708 17.3438 16.0107 18.2006 15.3706 18.8328C14.7304 19.4651 13.8623 19.8213 12.9566 19.8233ZM5.61127 16.7279C5.2107 16.0449 5.06633 15.2448 5.20344 14.4675C5.23041 14.4834 5.27753 14.5118 5.31133 14.531L8.94366 16.6012C9.03419 16.6533 9.13717 16.6809 9.24202 16.6809C9.34683 16.6809 9.44981 16.6533 9.54034 16.6012L13.975 14.0746V15.8241C13.9755 15.833 13.9738 15.8419 13.97 15.8501C13.9661 15.8582 13.9604 15.8652 13.9531 15.8706L10.2812 17.9624C9.49578 18.4088 8.56298 18.5294 7.6875 18.298C6.81201 18.0665 6.06532 17.5019 5.61127 16.7279ZM4.65571 8.90375C5.05454 8.21992 5.68448 7.69639 6.4352 7.42473C6.4352 7.4556 6.4334 7.51027 6.4334 7.5482V11.6886C6.43277 11.792 6.46006 11.8937 6.51245 11.9834C6.56484 12.0729 6.64047 12.147 6.73155 12.1982L11.1663 14.7244L9.63096 15.5991C9.62338 15.6041 9.61468 15.607 9.60565 15.6078C9.59662 15.6086 9.5875 15.6072 9.57915 15.6038L5.90689 13.51C5.12286 13.0621 4.55086 12.3256 4.31631 11.462C4.08177 10.5986 4.20382 9.6786 4.65571 8.90375ZM17.2697 11.8L12.835 9.27351L14.3703 8.39916C14.3779 8.39426 14.3865 8.39124 14.3955 8.39043C14.4047 8.38962 14.4137 8.39106 14.422 8.39457L18.0943 10.4864C18.657 10.807 19.1152 11.2792 19.4158 11.8476C19.7163 12.416 19.8464 13.0571 19.791 13.6958C19.7355 14.3345 19.4968 14.9445 19.1028 15.4542C18.7087 15.9639 18.1757 16.3523 17.566 16.5738C17.566 16.5426 17.566 16.4881 17.566 16.45V12.3096C17.5668 12.2064 17.5398 12.1048 17.4878 12.0152C17.4357 11.9256 17.3604 11.8515 17.2697 11.8ZM18.7978 9.53077C18.7708 9.51445 18.7237 9.4864 18.6899 9.46728L15.0576 7.39705C14.9669 7.34494 14.8641 7.31745 14.7592 7.31745C14.6544 7.31745 14.5514 7.34494 14.4609 7.39705L10.0261 9.92365V8.17421C10.0257 8.16525 10.0274 8.15634 10.0313 8.14823C10.035 8.14014 10.0409 8.13308 10.0481 8.12772L13.72 6.03762C14.2825 5.71758 14.9258 5.5622 15.5747 5.58968C16.2234 5.61716 16.8507 5.82636 17.3835 6.1928C17.9161 6.55924 18.332 7.06776 18.5825 7.6589C18.833 8.25003 18.9076 8.89929 18.7978 9.53077ZM9.19149 12.6489L7.65581 11.7742C7.64778 11.7702 7.64081 11.7644 7.6356 11.7571C7.6304 11.7498 7.62707 11.7415 7.62598 11.7326V7.5482C7.62639 6.90734 7.81183 6.27983 8.16054 5.73914C8.5093 5.19846 9.00692 4.76697 9.59516 4.49519C10.1834 4.22342 10.8379 4.12259 11.4821 4.20452C12.1263 4.28645 12.7336 4.54774 13.2327 4.95781C13.2051 4.97271 13.1568 4.99898 13.1248 5.01814L9.4925 7.08834C9.40133 7.13946 9.32567 7.21361 9.27317 7.30318C9.22073 7.39273 9.19341 7.49448 9.194 7.59788L9.19149 12.6489ZM10.0254 10.8746L12.0006 9.74903L13.9757 10.8739V13.1244L12.0006 14.2492L10.0254 13.1244V10.8746Z",
                fill: "white"
              }
            )
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("defs", { children: /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("clipPath", { id: "clip0_10089_20023", children: /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("rect", { width: "24", height: "24", fill: "white" }) }) })
        ] })
      }
    ),
    aiProviderType === "GEMINI" && /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
      import_SvgIcon.default,
      {
        viewBox: "0 0 24 24",
        sx: {
          fontSize: size
        },
        children: /* @__PURE__ */ (0, import_jsx_runtime2.jsxs)("svg", { width: "24", height: "24", viewBox: "0 0 24 24", fill: "none", xmlns: "http://www.w3.org/2000/svg", children: [
          /* @__PURE__ */ (0, import_jsx_runtime2.jsxs)("g", { clipPath: "url(#clip0_10089_20067)", children: [
            /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
              "path",
              {
                d: "M0 8C0 3.58172 3.58172 0 8 0H16C20.4183 0 24 3.58172 24 8V16C24 20.4183 20.4183 24 16 24H8C3.58172 24 0 20.4183 0 16V8Z",
                fill: "#F0F4F8"
              }
            ),
            /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
              "path",
              {
                d: "M12.0002 1.91211C12.0002 7.48113 7.48786 11.9963 1.91992 12.0009C7.48786 12.0055 12.0002 16.5206 12.0002 22.0896C12.0002 16.5206 16.5125 12.0055 22.0804 12.0009C16.5125 11.9963 12.0002 7.48113 12.0002 1.91211Z",
                fill: "white"
              }
            ),
            /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
              "path",
              {
                d: "M12.0002 1.91211C12.0002 7.48113 7.48786 11.9963 1.91992 12.0009C7.48786 12.0055 12.0002 16.5206 12.0002 22.0896C12.0002 16.5206 16.5125 12.0055 22.0804 12.0009C16.5125 11.9963 12.0002 7.48113 12.0002 1.91211Z",
                fill: "url(#paint0_linear_10089_20067)",
                fillOpacity: "0.7"
              }
            ),
            /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
              "path",
              {
                d: "M12.0002 1.91211C12.0002 7.48113 7.48786 11.9963 1.91992 12.0009C7.48786 12.0055 12.0002 16.5206 12.0002 22.0896C12.0002 16.5206 16.5125 12.0055 22.0804 12.0009C16.5125 11.9963 12.0002 7.48113 12.0002 1.91211Z",
                fill: "url(#paint1_linear_10089_20067)",
                fillOpacity: "0.7"
              }
            ),
            /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
              "path",
              {
                d: "M12.0002 1.91211C12.0002 7.48113 7.48786 11.9963 1.91992 12.0009C7.48786 12.0055 12.0002 16.5206 12.0002 22.0896C12.0002 16.5206 16.5125 12.0055 22.0804 12.0009C16.5125 11.9963 12.0002 7.48113 12.0002 1.91211Z",
                fill: "url(#paint2_linear_10089_20067)",
                fillOpacity: "0.2"
              }
            )
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime2.jsxs)("defs", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime2.jsxs)(
              "linearGradient",
              {
                id: "paint0_linear_10089_20067",
                x1: "22.0804",
                y1: "12.0009",
                x2: "2.45594",
                y2: "12.0009",
                gradientUnits: "userSpaceOnUse",
                children: [
                  /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("stop", { offset: "0.218303", stopColor: "#EAEAEA" }),
                  /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("stop", { offset: "0.739459", stopColor: "#126EEF" })
                ]
              }
            ),
            /* @__PURE__ */ (0, import_jsx_runtime2.jsxs)(
              "linearGradient",
              {
                id: "paint1_linear_10089_20067",
                x1: "12.0002",
                y1: "1.91211",
                x2: "12.0002",
                y2: "22.0896",
                gradientUnits: "userSpaceOnUse",
                children: [
                  /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("stop", { offset: "0.3125", stopColor: "#D8D4D3" }),
                  /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("stop", { offset: "0.656495", stopColor: "#1170FB" })
                ]
              }
            ),
            /* @__PURE__ */ (0, import_jsx_runtime2.jsxs)(
              "linearGradient",
              {
                id: "paint2_linear_10089_20067",
                x1: "15.0598",
                y1: "9.16777",
                x2: "12.456",
                y2: "12.2594",
                gradientUnits: "userSpaceOnUse",
                children: [
                  /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("stop", { stopColor: "#E7D6CA" }),
                  /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("stop", { offset: "1", stopColor: "#8DB9EA" })
                ]
              }
            ),
            /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("clipPath", { id: "clip0_10089_20067", children: /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("rect", { width: "24", height: "24", fill: "white" }) })
          ] })
        ] })
      }
    ),
    aiProviderType === "BING" && /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
      import_SvgIcon.default,
      {
        viewBox: "0 0 24 24",
        sx: {
          fontSize: size
        },
        children: /* @__PURE__ */ (0, import_jsx_runtime2.jsxs)(
          "svg",
          {
            xmlns: "http://www.w3.org/2000/svg",
            preserveAspectRatio: "xMidYMid meet",
            width: "100%",
            height: "100%",
            viewBox: "0 0 120 120",
            fill: "none",
            children: [
              /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
                "path",
                {
                  fill: "url(#a)",
                  d: "M85.855 18.313A11.574 11.574 0 0 0 74.75 10h-3.379a11.574 11.574 0 0 0-11.384 9.485L54.2 51.018l1.436-4.913a11.574 11.574 0 0 1 11.11-8.327H86.38l8.235 3.207 7.937-3.207h-2.316a11.574 11.574 0 0 1-11.105-8.313z"
                }
              ),
              /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
                "path",
                {
                  fill: "url(#b)",
                  d: "M36.326 101.64A11.574 11.574 0 0 0 47.445 110h7.176c6.276 0 11.409-5.002 11.57-11.277l.781-30.405-1.634 5.583a11.574 11.574 0 0 1-11.108 8.321H34.432l-7.058-3.829-7.641 3.83h2.278c5.154 0 9.687 3.408 11.119 8.36z"
                }
              ),
              /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
                "path",
                {
                  fill: "url(#c)",
                  d: "M74.248 10H34.15c-11.457 0-18.33 15.142-22.913 30.283-5.43 17.939-12.534 41.93 8.02 41.93H36.57c5.174 0 9.716-3.421 11.138-8.396 3.01-10.531 8.286-28.903 12.43-42.889 2.105-7.107 3.86-13.211 6.551-17.012C68.2 11.785 70.715 10 74.248 10"
                }
              ),
              /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
                "path",
                {
                  fill: "url(#d)",
                  d: "M74.248 10H34.15c-11.457 0-18.33 15.142-22.913 30.283-5.43 17.939-12.534 41.93 8.02 41.93H36.57c5.174 0 9.716-3.421 11.138-8.396 3.01-10.531 8.286-28.903 12.43-42.889 2.105-7.107 3.86-13.211 6.551-17.012C68.2 11.785 70.715 10 74.248 10"
                }
              ),
              /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
                "path",
                {
                  fill: "url(#e)",
                  d: "M46.744 110h40.099c11.456 0 18.33-15.144 22.913-30.288 5.429-17.942 12.533-41.937-8.02-41.937H84.422a11.576 11.576 0 0 0-11.138 8.396c-3.01 10.533-8.286 28.909-12.43 42.897-2.106 7.109-3.86 13.214-6.552 17.016-1.51 2.131-4.025 3.916-7.558 3.916"
                }
              ),
              /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
                "path",
                {
                  fill: "url(#f)",
                  d: "M46.744 110h40.099c11.456 0 18.33-15.144 22.913-30.288 5.429-17.942 12.533-41.937-8.02-41.937H84.422a11.576 11.576 0 0 0-11.138 8.396c-3.01 10.533-8.286 28.909-12.43 42.897-2.106 7.109-3.86 13.214-6.552 17.016-1.51 2.131-4.025 3.916-7.558 3.916"
                }
              ),
              /* @__PURE__ */ (0, import_jsx_runtime2.jsxs)("defs", { children: [
                /* @__PURE__ */ (0, import_jsx_runtime2.jsxs)(
                  "radialGradient",
                  {
                    id: "a",
                    cx: "0",
                    cy: "0",
                    r: "1",
                    gradientTransform: "matrix(-27.40125 -33.47302 31.47539 -25.76598 95.512 51.286)",
                    gradientUnits: "userSpaceOnUse",
                    children: [
                      /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("stop", { offset: ".096", stopColor: "#00AEFF" }),
                      /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("stop", { offset: ".773", stopColor: "#2253CE" }),
                      /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("stop", { offset: "1", stopColor: "#0736C4" })
                    ]
                  }
                ),
                /* @__PURE__ */ (0, import_jsx_runtime2.jsxs)(
                  "radialGradient",
                  {
                    id: "b",
                    cx: "0",
                    cy: "0",
                    r: "1",
                    gradientTransform: "rotate(51.84 -70.254 70.14)scale(39.9779 38.7796)",
                    gradientUnits: "userSpaceOnUse",
                    children: [
                      /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("stop", { stopColor: "#FFB657" }),
                      /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("stop", { offset: ".634", stopColor: "#FF5F3D" }),
                      /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("stop", { offset: ".923", stopColor: "#C02B3C" })
                    ]
                  }
                ),
                /* @__PURE__ */ (0, import_jsx_runtime2.jsxs)(
                  "radialGradient",
                  {
                    id: "e",
                    cx: "0",
                    cy: "0",
                    r: "1",
                    gradientTransform: "matrix(-31.67773 90.58917 -108.5232 -37.949 103.796 30.703)",
                    gradientUnits: "userSpaceOnUse",
                    children: [
                      /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("stop", { offset: ".066", stopColor: "#8C48FF" }),
                      /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("stop", { offset: ".5", stopColor: "#F2598A" }),
                      /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("stop", { offset: ".896", stopColor: "#FFB152" })
                    ]
                  }
                ),
                /* @__PURE__ */ (0, import_jsx_runtime2.jsxs)(
                  "linearGradient",
                  {
                    id: "c",
                    x1: "31.75",
                    x2: "37.471",
                    y1: "18.75",
                    y2: "84.938",
                    gradientUnits: "userSpaceOnUse",
                    children: [
                      /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("stop", { offset: ".156", stopColor: "#0D91E1" }),
                      /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("stop", { offset: ".487", stopColor: "#52B471" }),
                      /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("stop", { offset: ".652", stopColor: "#98BD42" }),
                      /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("stop", { offset: ".937", stopColor: "#FFC800" })
                    ]
                  }
                ),
                /* @__PURE__ */ (0, import_jsx_runtime2.jsxs)(
                  "linearGradient",
                  {
                    id: "d",
                    x1: "36.75",
                    x2: "39.874",
                    y1: "10",
                    y2: "82.213",
                    gradientUnits: "userSpaceOnUse",
                    children: [
                      /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("stop", { stopColor: "#3DCBFF" }),
                      /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("stop", { offset: ".247", stopColor: "#0588F7", stopOpacity: "0" })
                    ]
                  }
                ),
                /* @__PURE__ */ (0, import_jsx_runtime2.jsxs)(
                  "linearGradient",
                  {
                    id: "f",
                    x1: "106.964",
                    x2: "106.923",
                    y1: "33.365",
                    y2: "53.037",
                    gradientUnits: "userSpaceOnUse",
                    children: [
                      /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("stop", { offset: ".058", stopColor: "#F8ADFA" }),
                      /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("stop", { offset: ".708", stopColor: "#A86EDD", stopOpacity: "0" })
                    ]
                  }
                )
              ] })
            ]
          }
        )
      }
    ),
    aiProviderType === "CLAUDE" && /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
      import_SvgIcon.default,
      {
        viewBox: "0 0 24 24",
        sx: {
          fontSize: size
        },
        children: /* @__PURE__ */ (0, import_jsx_runtime2.jsxs)("svg", { width: "24", height: "24", viewBox: "0 0 24 24", fill: "none", xmlns: "http://www.w3.org/2000/svg", children: [
          /* @__PURE__ */ (0, import_jsx_runtime2.jsxs)("g", { clipPath: "url(#clip0_10089_20045)", children: [
            /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
              "path",
              {
                d: "M0 8C0 3.58172 3.58172 0 8 0H16C20.4183 0 24 3.58172 24 8V16C24 20.4183 20.4183 24 16 24H8C3.58172 24 0 20.4183 0 16V8Z",
                fill: "#F0EFE6"
              }
            ),
            /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
              "path",
              {
                d: "M6.52897 14.9666L10.067 12.9813L10.1262 12.8082L10.067 12.7126H9.894L9.30205 12.6762L7.28029 12.6216L5.52719 12.5487L3.82874 12.4576L3.40071 12.3666L3 11.8384L3.04098 11.5742L3.40071 11.3329L3.91525 11.3784L5.05363 11.4559L6.76119 11.5742L7.99975 11.6471L9.83481 11.8384H10.1262L10.1672 11.72L10.067 11.6471L9.98963 11.5742L8.22287 10.3767L6.3104 9.1108L5.30863 8.38224L4.76676 8.01341L4.49355 7.66734L4.37516 6.91146L4.86694 6.36959L5.52719 6.41513L5.69567 6.46066L6.36504 6.97521L7.79484 8.08171L9.66178 9.45687L9.93499 9.68454L10.0443 9.60713L10.0579 9.55249L9.93499 9.34758L8.91955 7.51252L7.83582 5.64559L7.35315 4.87149L7.22565 4.40703C7.18012 4.21579 7.14824 4.05641 7.14824 3.86061L7.70832 3.10018L8.01796 3L8.76474 3.10018L9.07893 3.37339L9.54338 4.43435L10.2947 6.10549L11.4604 8.37769L11.8019 9.05161L11.9841 9.67544L12.0524 9.86668H12.1708V9.7574L12.2664 8.47787L12.444 6.90691L12.617 4.88515L12.6762 4.31596L12.9585 3.63294L13.5186 3.2641L13.9557 3.47356L14.3155 3.98811L14.2654 4.32052L14.0514 5.70933L13.6324 7.88591L13.3592 9.34303H13.5186L13.7007 9.16089L14.4384 8.18189L15.677 6.6337L16.2234 6.01897L16.8609 5.3405L17.2707 5.0172H18.0448L18.614 5.86415L18.359 6.73843L17.5621 7.7493L16.9018 8.60536L15.9547 9.88034L15.3628 10.9003L15.4174 10.9823L15.5586 10.9686L17.6987 10.5133L18.8553 10.3038L20.235 10.067L20.8588 10.3585L20.9271 10.6544L20.6813 11.2601L19.2059 11.6243L17.4756 11.9704L14.8983 12.5806L14.8664 12.6033L14.9029 12.6489L16.064 12.7582L16.5603 12.7855H17.7761L20.0392 12.954L20.6312 13.3456L20.9863 13.8237L20.9271 14.188L20.0164 14.6524L18.787 14.361L15.9183 13.678L14.9347 13.4321H14.7981V13.514L15.6178 14.3155L17.1204 15.6724L19.001 17.4209L19.0966 17.8535L18.8553 18.195L18.6003 18.1586L16.9474 16.9155L16.3099 16.3554L14.8664 15.1396H14.7708V15.2671L15.1032 15.7544L16.8609 18.3954L16.9519 19.2059L16.8244 19.47L16.3691 19.6294L15.8682 19.5383L14.8391 18.0949L13.7781 16.4693L12.9221 15.0121L12.8174 15.0713L12.3119 20.5128L12.0751 20.7905L11.5287 21L11.0734 20.6539L10.832 20.0939L11.0734 18.9874L11.3648 17.5439L11.6016 16.3964L11.8156 14.9712L11.9431 14.4976L11.934 14.4657L11.8292 14.4794L10.7546 15.9547L9.11991 18.1632L7.82671 19.5474L7.51708 19.6704L6.97976 19.3926L7.02985 18.8963L7.33038 18.4546L9.11991 16.1778L10.1991 14.7663L10.8958 13.9512L10.8912 13.8328H10.8502L6.09638 16.9201L5.24943 17.0293L4.88515 16.6878L4.93069 16.1278L5.10372 15.9456L6.53352 14.9621L6.52897 14.9666Z",
                fill: "#D97757"
              }
            )
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("defs", { children: /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("clipPath", { id: "clip0_10089_20045", children: /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("rect", { width: "24", height: "24", fill: "white" }) }) })
        ] })
      }
    )
  ] });
};
var SearchWIthAIProviderIcon = (props) => {
  const { isActive } = props;
  return /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(
    Box_default,
    {
      component: "span",
      sx: {
        display: "inline-block",
        lineHeight: 0,
        fontSize: 0,
        // bgcolor: isActive ? 'red' : 'transparent',
        filter: `grayscale(${isActive ? "0" : "1"})`
      },
      children: /* @__PURE__ */ (0, import_jsx_runtime2.jsx)(ProviderIcon, { ...props, size: isActive ? 30 : 24 })
    }
  );
};
var SearchWIthAIProviderIcon_default = SearchWIthAIProviderIcon;

// src/features/searchWithAI/components/FreeAIPopover.tsx
var import_react4 = __toESM(require_react());
var import_jsx_runtime3 = __toESM(require_jsx_runtime());
var ProviderIcon2 = import_react4.default.forwardRef((props, ref) => {
  const { syncAppAuthStatusPromise } = useAuth_default();
  const triggerAuthCallback = (data) => {
    const customEvent = new CustomEvent(AUTH_MODAL_EVENT, { detail: data });
    window.dispatchEvent(customEvent);
  };
  const handleStartAuth = async () => {
    const appAuthResponse = await syncAppAuthStatusPromise();
    triggerAuthCallback({ reason: "auth", ...appAuthResponse });
    if (appAuthResponse == null ? void 0 : appAuthResponse.isLogin) {
      setTimeout(() => {
        window.location.reload();
      }, 300);
    }
  };
  return /* @__PURE__ */ (0, import_jsx_runtime3.jsx)(import_jsx_runtime3.Fragment, { children: /* @__PURE__ */ (0, import_jsx_runtime3.jsx)(
    Tooltip_default,
    {
      ref,
      open: props.open,
      placement: "bottom-end",
      arrow: true,
      title: /* @__PURE__ */ (0, import_jsx_runtime3.jsxs)(Box_default, { sx: { p: 1 }, children: [
        /* @__PURE__ */ (0, import_jsx_runtime3.jsx)(
          Stack_default,
          {
            direction: "row",
            alignItems: "center",
            spacing: 1,
            id: SEARCH_WITH_AI_LOGO_ID,
            children: /* @__PURE__ */ (0, import_jsx_runtime3.jsx)(
              Typography_default,
              {
                component: "h6",
                fontSize: 16,
                fontWeight: 800,
                color: "inherit",
                children: "Sign in to access Free AI"
              }
            )
          }
        ),
        /* @__PURE__ */ (0, import_jsx_runtime3.jsx)(
          Button_default,
          {
            sx: { marginTop: "15px" },
            variant: "contained",
            fullWidth: true,
            onClick: handleStartAuth,
            children: "Sign in"
          }
        )
      ] }),
      children: props.children
    }
  ) });
});
var FreeAIPopover_default = ProviderIcon2;

// src/features/searchWithAI/components/AIProviderBar.tsx
var import_jsx_runtime4 = __toESM(require_jsx_runtime());
var AIProviderBar = ({ onProviderChange, disabled, sx }) => {
  const providerList = searchWithAIProviderOptions_default;
  const {
    provider: currentProvider,
    updateChatGPTProvider,
    loading
  } = useSearchWithProvider_default();
  const isProviderActive = (provider) => {
    return currentProvider === provider;
  };
  const [freeAiTooltipOpen, setFreeAiTooltipOpen] = import_react5.default.useState(false);
  const renderIcon = (provider) => {
    const providerIcon = /* @__PURE__ */ (0, import_jsx_runtime4.jsx)(
      IconButton_default,
      {
        sx: {
          width: "100%",
          height: "34px",
          p: 1,
          borderRadius: "8px",
          bgcolor: (t) => {
            if (isProviderActive(provider.value)) {
              return t.palette.mode === "dark" ? "rgba(255, 255, 255, 0.08) !important" : "rgba(0, 0, 0, 0.12) !important";
            } else {
              return "transparent";
            }
          },
          "&.Mui-disabled": {
            cursor: "not-allowed"
          }
        },
        disabled: loading || disabled,
        onClick: async (event) => {
          if (provider.value === "FREE_AI") {
            setFreeAiTooltipOpen(!freeAiTooltipOpen);
          } else {
            await updateChatGPTProvider(provider.value);
            onProviderChange && onProviderChange();
          }
        },
        children: /* @__PURE__ */ (0, import_jsx_runtime4.jsx)(
          SearchWIthAIProviderIcon_default,
          {
            aiProviderType: provider.value,
            isActive: isProviderActive(provider.value)
          }
        )
      }
    );
    if (provider.permission) {
      return /* @__PURE__ */ (0, import_jsx_runtime4.jsx)(
        PermissionWrapper_default,
        {
          TooltipProps: {
            placement: "bottom",
            PopperProps: {
              disablePortal: true
            }
          },
          allowedRoles: provider.permission.allowedRoles,
          sceneType: provider.permission.sceneType,
          children: providerIcon
        }
      );
    }
    if (provider.preChangeChecker) {
      return /* @__PURE__ */ (0, import_jsx_runtime4.jsx)(PreChangeCheckerTooltip, { ...provider.preChangeChecker, children: providerIcon });
    }
    return providerIcon;
  };
  return /* @__PURE__ */ (0, import_jsx_runtime4.jsx)(
    Stack_default,
    {
      direction: "row",
      justifyContent: "center",
      alignItems: "center",
      sx: {
        border: "1px solid",
        borderColor: (t) => t.palette.mode === "dark" ? "rgba(255, 255, 255, 0.08)" : "rgba(0, 0, 0, 0.08)",
        width: "100%",
        height: "44px",
        boxSizing: "border-box",
        overflow: "hidden",
        borderRadius: "12px",
        padding: "5px",
        ...sx
      },
      children: providerList.map((provider, index) => {
        let content;
        if (provider.value === "FREE_AI") {
          content = /* @__PURE__ */ (0, import_jsx_runtime4.jsx)(
            import_ClickAwayListener.default,
            {
              onClickAway: () => {
                setFreeAiTooltipOpen(false);
              },
              children: /* @__PURE__ */ (0, import_jsx_runtime4.jsx)(FreeAIPopover_default, { open: freeAiTooltipOpen, children: /* @__PURE__ */ (0, import_jsx_runtime4.jsx)("span", { children: renderIcon(provider, index < providerList.length - 1) }) })
            }
          );
        } else {
          content = /* @__PURE__ */ (0, import_jsx_runtime4.jsx)("span", { children: renderIcon(provider, index < providerList.length - 1) });
        }
        return /* @__PURE__ */ (0, import_jsx_runtime4.jsx)(
          Tooltip_default,
          {
            PopperProps: {
              disablePortal: true
            },
            title: /* @__PURE__ */ (0, import_jsx_runtime4.jsx)(Typography_default, { fontSize: 12, children: provider.label }),
            placement: "top",
            children: /* @__PURE__ */ (0, import_jsx_runtime4.jsx)("span", { style: { flex: 1 }, children: content })
          },
          provider.value
        );
      })
    }
  );
};
var PreChangeCheckerTooltip = (props) => {
  var _a;
  const [open, setOpen] = (0, import_react5.useState)(false);
  const checkerFn = (0, import_react5.useCallback)(async () => {
    if (props.checker) {
      return await props.checker();
    } else {
      return true;
    }
  }, [props.checker]);
  return /* @__PURE__ */ (0, import_jsx_runtime4.jsx)(
    Tooltip_default,
    {
      open,
      PopperProps: {
        disablePortal: true,
        sx: {
          "& > div": {
            bgcolor: (t) => {
              if (t.palette.mode === "dark") {
                return "rgba(97, 97, 97, 0.9)";
              } else {
                return "#fff";
              }
            },
            boxShadow: (t) => t.shadows[1]
          }
        }
      },
      placement: "bottom",
      title: /* @__PURE__ */ (0, import_jsx_runtime4.jsx)(
        import_ClickAwayListener.default,
        {
          mouseEvent: "onMouseDown",
          onClickAway: () => {
            setOpen(false);
          },
          children: /* @__PURE__ */ (0, import_jsx_runtime4.jsx)(Box_default, { children: (_a = props == null ? void 0 : props.tooltip) == null ? void 0 : _a.title })
        }
      ),
      children: /* @__PURE__ */ (0, import_jsx_runtime4.jsx)(Box_default, { children: import_react5.default.Children.map(props.children, (child) => {
        if (import_react5.default.isValidElement(child)) {
          const newProps = {
            ...child.props,
            ...child.props.onClick && {
              onClick: async (event, ...args) => {
                var _a2, _b, _c, _d;
                let isChecked = false;
                (_a2 = event == null ? void 0 : event.stopPropagation) == null ? void 0 : _a2.call(event);
                (_b = event == null ? void 0 : event.preventDefault) == null ? void 0 : _b.call(event);
                if (await checkerFn()) {
                  isChecked = true;
                }
                setOpen(!isChecked);
                if (isChecked) {
                  (_d = (_c = child.props) == null ? void 0 : _c.onClick) == null ? void 0 : _d.call(_c, event, ...args);
                }
              }
            }
          };
          return import_react5.default.cloneElement(child, newProps);
        }
        return child;
      }) })
    }
  );
};
var AIProviderBar_default = AIProviderBar;

// src/features/searchWithAI/components/AIResponseError.tsx
var import_react6 = __toESM(require_react());
var import_SearchOutlined2 = __toESM(require_SearchOutlined());
var import_jsx_runtime5 = __toESM(require_jsx_runtime());
var AIResponseError = ({
  message,
  provider,
  isDarkMode,
  handleAsk
}) => {
  const text = message || "Something went wrong. Please try again.";
  const [errorStatus, setErrorStatus] = (0, import_react6.useState)();
  const providerOption = (0, import_react6.useMemo)(() => {
    return searchWithAIProviderOptions_default.find((item) => item.value === provider) || searchWithAIProviderOptions_default[0];
  }, [provider]);
  const sxCache = (0, import_react6.useMemo)(() => {
    return {
      wordBreak: "break-word",
      whiteSpace: "pre-wrap",
      // color:
      //   userSettings?.colorSchema === 'dark' ? '#FFFFFFDE' : 'rgba(0,0,0,0.87)',
      "& .markdown-body": {
        // maxHeight: 'min(40vh, 320px)',
        // overflowY: 'auto',
        "*": {
          fontFamily: '"Roboto","Helvetica","Arial",sans-serif!important',
          color: "#DB4437 !important"
        },
        "& p:last-child": {
          mb: "1em"
        },
        "& .markdown-body > p:first-of-type": {
          mt: 0
        }
      }
    };
  }, []);
  const authLink = (0, import_react6.useMemo)(() => {
    if (provider === SEARCH_WITH_AI_PROVIDER_MAP.OPENAI) {
      return "https://chatgpt.com/auth/login";
    }
    if (provider === SEARCH_WITH_AI_PROVIDER_MAP.BING) {
      return `https://bing.com/chat`;
    }
    if (provider === SEARCH_WITH_AI_PROVIDER_MAP.BARD) {
      return `https://bard.google.com`;
    }
    if (provider === SEARCH_WITH_AI_PROVIDER_MAP.GEMINI) {
      return `https://gemini.google.com`;
    }
    if (provider === SEARCH_WITH_AI_PROVIDER_MAP.CLAUDE) {
      return "https://claude.ai/login";
    }
    return "";
  }, [provider]);
  const textCover = (0, import_react6.useMemo)(() => {
    if (text === "UNAUTHORIZED" || text === "CLOUDFLARE") {
      if (providerOption.label === "ChatGPT web app") {
        return `Please log into [Chat.openai.com](https://chat.openai.com) and try again.`;
      }
      return `Please log into ${providerOption.label} and try again.`;
    }
    if (text.startsWith("500")) {
      setErrorStatus("UNAUTHORIZED");
      return "Something went wrong. Please try again.";
    }
    return text;
  }, [text, provider]);
  (0, import_react6.useEffect)(() => {
    if (textCover.includes("sign in") || textCover.includes("log into") || textCover.includes("Failed to access Bard")) {
      setErrorStatus("UNAUTHORIZED");
      return;
    }
    if (textCover.includes("Only one message at a time") || textCover.includes("try again") && !textCover.includes("log into")) {
      setErrorStatus("TRY_AGAIN");
      return;
    }
    setErrorStatus("UNAUTHORIZED");
  }, [textCover]);
  (0, import_react6.useEffect)(() => {
  }, [errorStatus, handleAsk]);
  const ErrorButton = (0, import_react6.useMemo)(() => {
    if (errorStatus === "UNAUTHORIZED" && authLink) {
      return /* @__PURE__ */ (0, import_jsx_runtime5.jsxs)(Stack_default, { direction: "row", spacing: 1, alignItems: "center", children: [
        /* @__PURE__ */ (0, import_jsx_runtime5.jsx)(
          Link_default,
          {
            href: authLink,
            target: "_blank",
            sx: {
              width: "max-content"
            },
            children: /* @__PURE__ */ (0, import_jsx_runtime5.jsxs)(Button_default, { variant: "normalOutlined", children: [
              "Log into ",
              providerOption.label
            ] })
          }
        ),
        /* @__PURE__ */ (0, import_jsx_runtime5.jsx)(
          Button_default,
          {
            variant: "normalOutlined",
            onClick: handleAsk,
            sx: {
              color: (t) => t.palette.mode === "dark" ? "rgba(255,255,255,0.6)" : "rgba(0,0,0,0.6)"
            },
            children: "Try again"
          }
        )
      ] });
    }
    return /* @__PURE__ */ (0, import_jsx_runtime5.jsx)(
      Button_default,
      {
        fullWidth: true,
        variant: "normalOutlined",
        startIcon: /* @__PURE__ */ (0, import_jsx_runtime5.jsx)(import_SearchOutlined2.default, {}),
        onClick: handleAsk,
        children: "Ask AI for this query"
      }
    );
  }, [errorStatus, provider, authLink]);
  return /* @__PURE__ */ (0, import_jsx_runtime5.jsxs)(Stack_default, { spacing: 2, children: [
    /* @__PURE__ */ (0, import_jsx_runtime5.jsx)(Box_default, { className: "search-with-ai--text", sx: sxCache, children: /* @__PURE__ */ (0, import_jsx_runtime5.jsx)(AppSuspenseLoadingLayout_default, { children: /* @__PURE__ */ (0, import_jsx_runtime5.jsx)(
      Box_default,
      {
        className: `markdown-body ${isDarkMode ? "markdown-body-dark" : ""}`,
        children: /* @__PURE__ */ (0, import_jsx_runtime5.jsx)(CustomMarkdown_default, { children: textCover })
      }
    ) }) }),
    ErrorButton
  ] });
};
var AIResponseError_default = AIResponseError;

// src/features/searchWithAI/components/AIResponseMessage.tsx
var import_react7 = __toESM(require_react());
var import_jsx_runtime6 = __toESM(require_jsx_runtime());
var CustomMarkdown = import_react7.default.lazy(() => import("../chunks/VZUYBGRO.js"));
var AIResponseMessage = (props) => {
  const { sx, message, isDarkMode } = props;
  const [defaultText, setDefaultText] = (0, import_react7.useState)(message || "");
  const sxCache = (0, import_react7.useMemo)(() => {
    return {
      wordBreak: "break-word",
      whiteSpace: "pre-wrap",
      // color:
      //   userSettings?.colorSchema === 'dark' ? '#FFFFFFDE' : 'rgba(0,0,0,0.87)',
      "& .markdown-body": {
        // maxHeight: 'min(40vh, 320px)',
        // overflowY: 'auto',
        "*": {
          fontFamily: '"Roboto","Helvetica","Arial",sans-serif!important'
        },
        "& p:last-child": {
          mb: "1em"
        },
        "& .markdown-body > p:first-of-type": {
          mt: 0
        }
      },
      ...sx
    };
  }, [sx]);
  (0, import_react7.useEffect)(() => {
    setDefaultText(message || "");
  }, [message]);
  return /* @__PURE__ */ (0, import_jsx_runtime6.jsx)(Box_default, { className: "search-with-ai--text", sx: sxCache, children: /* @__PURE__ */ (0, import_jsx_runtime6.jsx)(AppSuspenseLoadingLayout_default, { children: /* @__PURE__ */ (0, import_jsx_runtime6.jsx)(
    Box_default,
    {
      className: `markdown-body ${isDarkMode ? "markdown-body-dark" : ""}`,
      children: /* @__PURE__ */ (0, import_jsx_runtime6.jsx)(CustomMarkdown, { children: defaultText.replace(/^\s+/, "") })
    }
  ) }) });
};
var AIResponseMessage_default = AIResponseMessage;

// src/features/searchWithAI/components/AISearchingLoading.tsx
var import_jsx_runtime7 = __toESM(require_jsx_runtime());
var AISearchingLoading = () => {
  return /* @__PURE__ */ (0, import_jsx_runtime7.jsxs)(Stack_default, { spacing: 0.5, children: [
    /* @__PURE__ */ (0, import_jsx_runtime7.jsx)(Skeleton_default, { animation: "wave" }),
    /* @__PURE__ */ (0, import_jsx_runtime7.jsx)(Skeleton_default, { animation: "wave" }),
    /* @__PURE__ */ (0, import_jsx_runtime7.jsx)(Skeleton_default, { animation: "wave", width: "50%" })
  ] });
};
var AISearchingLoading_default = AISearchingLoading;

// src/features/searchWithAI/components/AISearchSources.tsx
var import_react8 = __toESM(require_react());

// src/features/searchWithAI/components/SearchWithAIIcons.tsx
var import_jsx_runtime8 = __toESM(require_jsx_runtime());
var ReadIcon = (props) => {
  return /* @__PURE__ */ (0, import_jsx_runtime8.jsx)(import_SvgIcon.default, { ...props, children: /* @__PURE__ */ (0, import_jsx_runtime8.jsx)(
    "svg",
    {
      viewBox: "0 0 24 24",
      fill: "CurrentColor",
      xmlns: "http://www.w3.org/2000/svg",
      children: /* @__PURE__ */ (0, import_jsx_runtime8.jsx)(
        "path",
        {
          d: "M3.96429 3.19824H3V5.15421H3.96429H13.6071H14.5714V3.19824H13.6071H3.96429ZM3.96429 8.41415H3V10.3701H3.96429H20.0357H21V8.41415H20.0357H3.96429ZM3 13.6301V15.586H3.96429H13.6071H14.5714V13.6301H13.6071H3.96429H3ZM3.96429 18.846H3V20.8019H3.96429H20.0357H21V18.846H20.0357H3.96429Z",
          fill: "CurrentColor"
        }
      )
    }
  ) });
};
var CaptivePortalIcon = (props) => {
  return /* @__PURE__ */ (0, import_jsx_runtime8.jsx)(import_SvgIcon.default, { ...props, children: /* @__PURE__ */ (0, import_jsx_runtime8.jsx)("svg", { xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 20 20", fill: "none", children: /* @__PURE__ */ (0, import_jsx_runtime8.jsx)("g", { mask: "url(#mask0_1921_34815)", children: /* @__PURE__ */ (0, import_jsx_runtime8.jsx)(
    "path",
    {
      d: "M7.83335 16.5879C7.58335 16.1296 7.3646 15.6539 7.1771 15.1608C6.9896 14.6678 6.83335 14.1573 6.70835 13.6296H4.25002C4.6528 14.324 5.15627 14.9282 5.76044 15.4421C6.3646 15.9559 7.05558 16.3379 7.83335 16.5879ZM3.54169 11.9629H6.37502C6.33335 11.6851 6.3021 11.4108 6.28127 11.14C6.26044 10.8691 6.25002 10.5879 6.25002 10.2962C6.25002 10.0046 6.26044 9.72331 6.28127 9.45247C6.3021 9.18164 6.33335 8.90733 6.37502 8.62956H3.54169C3.47224 8.90733 3.42016 9.18164 3.38544 9.45247C3.35071 9.72331 3.33335 10.0046 3.33335 10.2962C3.33335 10.5879 3.35071 10.8691 3.38544 11.14C3.42016 11.4108 3.47224 11.6851 3.54169 11.9629ZM4.25002 6.96289H6.70835C6.83335 6.43511 6.9896 5.9247 7.1771 5.43164C7.3646 4.93859 7.58335 4.46289 7.83335 4.00456C7.05558 4.25456 6.3646 4.6365 5.76044 5.15039C5.15627 5.66428 4.6528 6.26845 4.25002 6.96289ZM8.41669 6.96289H11.5834C11.4167 6.35178 11.2014 5.77539 10.9375 5.23372C10.6736 4.69206 10.3611 4.17122 10 3.67122C9.63891 4.17122 9.32641 4.69206 9.06252 5.23372C8.79863 5.77539 8.58335 6.35178 8.41669 6.96289ZM13.2917 6.96289H15.75C15.3472 6.26845 14.8438 5.66428 14.2396 5.15039C13.6354 4.6365 12.9445 4.25456 12.1667 4.00456C12.4167 4.46289 12.6354 4.93859 12.8229 5.43164C13.0104 5.9247 13.1667 6.43511 13.2917 6.96289ZM10 18.6296C8.86113 18.6296 7.78474 18.4108 6.77085 17.9733C5.75696 17.5358 4.87155 16.9386 4.1146 16.1816C3.35766 15.4247 2.76044 14.5393 2.32294 13.5254C1.88544 12.5115 1.66669 11.4351 1.66669 10.2962C1.66669 9.14345 1.88544 8.06359 2.32294 7.05664C2.76044 6.0497 3.35766 5.16775 4.1146 4.41081C4.87155 3.65386 5.75696 3.05664 6.77085 2.61914C7.78474 2.18164 8.86113 1.96289 10 1.96289C11.1528 1.96289 12.2327 2.18164 13.2396 2.61914C14.2465 3.05664 15.1285 3.65386 15.8854 4.41081C16.6424 5.16775 17.2396 6.0497 17.6771 7.05664C18.1146 8.06359 18.3334 9.14345 18.3334 10.2962C18.3334 10.4351 18.3299 10.574 18.3229 10.7129C18.316 10.8518 18.3056 10.9907 18.2917 11.1296H16.6042C16.632 10.9907 16.6493 10.8553 16.6563 10.7233C16.6632 10.5914 16.6667 10.449 16.6667 10.2962C16.6667 10.0046 16.6493 9.72331 16.6146 9.45247C16.5799 9.18164 16.5278 8.90733 16.4584 8.62956H13.625C13.6667 8.90733 13.6979 9.18164 13.7188 9.45247C13.7396 9.72331 13.75 10.0046 13.75 10.2962V10.7233C13.75 10.8553 13.7431 10.9907 13.7292 11.1296H12.0625C12.0764 10.9907 12.0834 10.8553 12.0834 10.7233V10.2962C12.0834 10.0046 12.0729 9.72331 12.0521 9.45247C12.0313 9.18164 12 8.90733 11.9584 8.62956H8.04169C8.00002 8.90733 7.96877 9.18164 7.94794 9.45247C7.9271 9.72331 7.91669 10.0046 7.91669 10.2962C7.91669 10.5879 7.9271 10.8691 7.94794 11.14C7.96877 11.4108 8.00002 11.6851 8.04169 11.9629H10.8334V13.6296H8.41669C8.58335 14.2407 8.79863 14.8171 9.06252 15.3587C9.32641 15.9004 9.63891 16.4212 10 16.9212C10.1528 16.699 10.2986 16.4733 10.4375 16.2441C10.5764 16.015 10.7084 15.7823 10.8334 15.5462V18.5879C10.6945 18.6018 10.559 18.6122 10.4271 18.6191C10.2952 18.6261 10.1528 18.6296 10 18.6296ZM16.625 18.1087L14.1667 15.6504V17.5046H12.5V12.7962H17.2084V14.4629H15.3334L17.7917 16.9212L16.625 18.1087Z",
      fill: "CurrentColor"
    }
  ) }) }) });
};

// src/features/searchWithAI/components/AISearchSources.tsx
var import_jsx_runtime9 = __toESM(require_jsx_runtime());
var AISearchSources = () => {
  const { loading, sources } = useSourcesStatus_default();
  const isEmpty = (0, import_react8.useMemo)(
    () => loading === false && sources.length === 0,
    [loading, sources]
  );
  if (isEmpty)
    return null;
  return /* @__PURE__ */ (0, import_jsx_runtime9.jsxs)(Box_default, { pb: 3, children: [
    /* @__PURE__ */ (0, import_jsx_runtime9.jsxs)(Stack_default, { direction: "row", alignItems: "center", spacing: 1, mb: 1, children: [
      /* @__PURE__ */ (0, import_jsx_runtime9.jsx)(
        CaptivePortalIcon,
        {
          sx: {
            color: "primary.main",
            fontSize: 20
          }
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime9.jsx)(
        Typography_default,
        {
          sx: {
            color: "primary.main",
            fontSize: 18
          },
          children: "Sources"
        }
      )
    ] }),
    loading && /* @__PURE__ */ (0, import_jsx_runtime9.jsx)(Grid_default, { container: true, spacing: 1, children: Array(SEARCH_WITH_AI_DEFAULT_CRAWLING_LIMIT).fill("").map((_, index) => /* @__PURE__ */ (0, import_jsx_runtime9.jsx)(Grid_default, { item: true, xs: 6, children: /* @__PURE__ */ (0, import_jsx_runtime9.jsx)(Skeleton_default, { variant: "rounded", width: "100%", height: 60 }) }, index)) }),
    !loading && sources.length > 0 ? /* @__PURE__ */ (0, import_jsx_runtime9.jsx)(Grid_default, { container: true, spacing: 1, children: sources.map((source, index) => /* @__PURE__ */ (0, import_jsx_runtime9.jsx)(Grid_default, { item: true, xs: 6, children: /* @__PURE__ */ (0, import_jsx_runtime9.jsx)(Card_default, { variant: "outlined", children: /* @__PURE__ */ (0, import_jsx_runtime9.jsx)(Link_default, { href: source.url, target: "_blank", underline: "none", children: /* @__PURE__ */ (0, import_jsx_runtime9.jsxs)(Stack_default, { p: 1, spacing: 0.5, children: [
      /* @__PURE__ */ (0, import_jsx_runtime9.jsx)(Typography_default, { fontSize: 14, color: "text.primary", noWrap: true, children: source.title }),
      /* @__PURE__ */ (0, import_jsx_runtime9.jsxs)(Stack_default, { direction: "row", alignItems: "center", spacing: 0.5, children: [
        /* @__PURE__ */ (0, import_jsx_runtime9.jsx)(
          Box_default,
          {
            width: 16,
            height: 16,
            borderRadius: "50%",
            overflow: "hidden",
            flexShrink: 0,
            children: /* @__PURE__ */ (0, import_jsx_runtime9.jsx)(
              "img",
              {
                src: source.imgLink,
                alt: source.from,
                width: "100%",
                height: "100%"
              }
            )
          }
        ),
        /* @__PURE__ */ (0, import_jsx_runtime9.jsx)(Typography_default, { fontSize: 12, color: "text.secondary", noWrap: true, children: source.from }),
        /* @__PURE__ */ (0, import_jsx_runtime9.jsxs)(
          Typography_default,
          {
            fontSize: 12,
            color: "text.secondary",
            flexShrink: 0,
            children: [
              "\xB7 ",
              index + 1
            ]
          }
        )
      ] })
    ] }) }) }) }, `${source.title}_${index}`)) }) : null
  ] });
};
var AISearchSources_default = AISearchSources;

// src/features/searchWithAI/components/SearchWithAIGALoader.tsx
var import_jsx_runtime10 = __toESM(require_jsx_runtime());
var SearchWithAIGALoader = () => {
  if (SEARCH_WITH_AI_APP_NAME === "maxai") {
    return /* @__PURE__ */ (0, import_jsx_runtime10.jsx)(
      "iframe",
      {
        style: {
          position: "absolute",
          top: 0,
          left: 0,
          zIndex: -1,
          border: 0,
          opacity: 0
        },
        width: 1,
        height: 1,
        id: "EzMail_AI_TEMPLATE_COMPILE",
        src: `https://www.maxai.me/crx.html`
      }
    );
  }
  return null;
};
var SearchWithAIGALoader_default = SearchWithAIGALoader;

// src/features/searchWithAI/hooks/useOpenLinkWithProvider.ts
var import_react9 = __toESM(require_react());
var useOpenLinkWithProvider = () => {
  const { searchWithAISettings } = useSearchWithAISettings_default();
  const conversation = Recoil_index_20(SearchWithAIConversationAtom);
  const currentProvider = searchWithAISettings.aiProvider;
  const conversationLink = (0, import_react9.useMemo)(() => {
    if (currentProvider === AI_PROVIDER_MAP.OPENAI) {
      return `https://chatgpt.com${conversation.conversationId ? `/c/${conversation.conversationId}` : ""}`;
    }
    if (currentProvider === AI_PROVIDER_MAP.BING) {
      return `https://bing.com/chat`;
    }
    if (currentProvider === AI_PROVIDER_MAP.BARD) {
      return `https://bard.google.com`;
    }
    if (currentProvider === AI_PROVIDER_MAP.GEMINI) {
      return `https://gemini.google.com/app/${conversation.conversationId}`;
    }
    if (currentProvider === AI_PROVIDER_MAP.CLAUDE) {
      return `https://claude.ai/chat/${conversation.conversationId}`;
    }
    return "";
  }, [currentProvider, conversation]);
  return {
    currentProvider,
    conversationLink
  };
};
var useOpenLinkWithProvider_default = useOpenLinkWithProvider;

// src/features/searchWithAI/components/SearchWithAIFooter.tsx
var import_LaunchOutlined = __toESM(require_LaunchOutlined());
var import_jsx_runtime11 = __toESM(require_jsx_runtime());
var SearchWithAIFooter = ({ handleAskQuestion }) => {
  const { currentProvider, conversationLink } = useOpenLinkWithProvider_default();
  if (!currentProvider || !conversationLink) {
    return null;
  }
  const handleOpenChatLink = () => {
    chromeExtensionClientOpenPage({
      url: conversationLink
    });
  };
  return /* @__PURE__ */ (0, import_jsx_runtime11.jsx)(Stack_default, { p: 2, spacing: 1, alignItems: "flex-start", children: /* @__PURE__ */ (0, import_jsx_runtime11.jsxs)(
    Button_default,
    {
      variant: "normalOutlined",
      endIcon: /* @__PURE__ */ (0, import_jsx_runtime11.jsx)(import_LaunchOutlined.default, {}),
      onClick: handleOpenChatLink,
      children: [
        "Continue in ",
        AI_PROVIDER_NAME_MAP[currentProvider]
      ]
    }
  ) });
};
var SearchWithAIFooter_default = SearchWithAIFooter;

// src/features/searchWithAI/components/SearchWithAIHeader.tsx
var import_react10 = __toESM(require_react());
var import_SettingsOutlined = __toESM(require_SettingsOutlined());
var import_Close = __toESM(require_Close());

// src/features/searchWithAI/components/SearchWithAIWebAccessToggle.tsx
var import_jsx_runtime12 = __toESM(require_jsx_runtime());
var SearchWithAIWebAccessToggle = ({ sx, onChange }) => {
  const { searchWithAISettings, setSearchWithAISettings } = useSearchWithAISettings_default();
  const webAccessPrompt = searchWithAISettings.webAccessPrompt;
  return /* @__PURE__ */ (0, import_jsx_runtime12.jsx)(
    FormControlLabel_default,
    {
      sx: {
        m: 0,
        ...sx
      },
      checked: webAccessPrompt,
      onChange: (e) => {
        const checked = e.target.checked;
        setSearchWithAISettings({
          webAccessPrompt: checked
        });
        onChange && onChange(checked);
      },
      control: /* @__PURE__ */ (0, import_jsx_runtime12.jsx)(Switch_default, { color: "primary", size: "small", sx: { mr: 0.5 } }),
      label: /* @__PURE__ */ (0, import_jsx_runtime12.jsx)(Typography_default, { fontSize: 14, lineHeight: "20px", children: "Web access" }),
      labelPlacement: "end"
    }
  );
};
var SearchWithAIWebAccessToggle_default = SearchWithAIWebAccessToggle;

// src/features/searchWithAI/components/SearchWithAILogo.tsx
var import_jsx_runtime13 = __toESM(require_jsx_runtime());
var SearchWithAILogo = () => {
  const nameMap = {
    maxai: "MaxAI.me",
    webchatgpt: "WebChatGPT"
  };
  return /* @__PURE__ */ (0, import_jsx_runtime13.jsxs)(
    Stack_default,
    {
      direction: "row",
      alignItems: "center",
      spacing: 1,
      id: SEARCH_WITH_AI_LOGO_ID,
      children: [
        /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(
          LogoIcon,
          {
            sx: {
              fontSize: 22,
              color: "primary.main"
            }
          }
        ),
        /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(Typography_default, { component: "h6", fontSize: 16, fontWeight: 800, color: "inherit", children: nameMap[SEARCH_WITH_AI_APP_NAME] })
      ]
    }
  );
};
var LogoIcon = (props) => {
  switch (SEARCH_WITH_AI_APP_NAME) {
    case "maxai":
      return /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(
        import_SvgIcon.default,
        {
          viewBox: "0 0 24 24",
          sx: { color: "primary.main", ...props.sx },
          children: /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(
            "svg",
            {
              width: "24",
              height: "24",
              viewBox: "0 0 44 44",
              fill: "none",
              xmlns: "http://www.w3.org/2000/svg",
              children: /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(
                "path",
                {
                  d: "M36 16L33.5 10.5L28 8L33.5 5.5L36 0L38.5 5.5L44 8L38.5 10.5L36 16ZM36 44L33.5 38.5L28 36L33.5 33.5L36 28L38.5 33.5L44 36L38.5 38.5L36 44ZM16 38L11 27L0 22L11 17L16 6L21 17L32 22L21 27L16 38Z",
                  fill: "currentColor"
                }
              )
            }
          )
        }
      );
    case "webchatgpt":
      return /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(
        import_SvgIcon.default,
        {
          viewBox: "0 0 24 24",
          sx: { color: "primary.main", ...props.sx },
          children: /* @__PURE__ */ (0, import_jsx_runtime13.jsxs)(
            "svg",
            {
              xmlns: "http://www.w3.org/2000/svg",
              viewBox: "0 0 22 22",
              fill: "none",
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime13.jsxs)("g", { clipPath: "url(#clip0_5391_39565)", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(
                    "path",
                    {
                      fillRule: "evenodd",
                      clipRule: "evenodd",
                      d: "M11 21.587C12.473 21.587 13.877 21.286 15.1527 20.7414L18.5743 21.5652C19.1711 21.7088 19.6928 21.1394 19.4971 20.5574L18.7201 18.2449C20.4978 16.3514 21.5875 13.8022 21.5875 10.9996C21.5875 5.15228 16.8473 0.412109 11 0.412109C5.15266 0.412109 0.412476 5.15228 0.412476 10.9996C0.412476 16.8469 5.15266 21.587 11 21.587ZM18.9758 20.7326L18.0921 18.1026C19.9118 16.2857 21.0375 13.7741 21.0375 10.9996C21.0375 5.45604 16.5436 0.962109 11 0.962109C5.45642 0.962109 0.962476 5.45604 0.962476 10.9996C0.962476 16.5431 5.45642 21.037 11 21.037C12.4612 21.037 13.8495 20.7248 15.1017 20.1634L18.7031 21.0304C18.8795 21.0729 19.0336 20.9046 18.9758 20.7326Z",
                      fill: "white"
                    }
                  ),
                  /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(
                    "path",
                    {
                      d: "M18.0921 18.1034C19.9118 16.2865 21.0375 13.7749 21.0375 11.0004C21.0375 5.45682 16.5436 0.962891 11 0.962891C5.45646 0.962891 0.962524 5.45682 0.962524 11.0004C0.962524 16.5439 5.45646 21.0378 11 21.0378C12.4612 21.0378 13.8495 20.7256 15.1017 20.1642L18.7031 21.0312C18.8795 21.0737 19.0337 20.9054 18.9758 20.7334L18.0921 18.1034Z",
                      fill: "#393C52"
                    }
                  ),
                  /* @__PURE__ */ (0, import_jsx_runtime13.jsxs)(
                    "mask",
                    {
                      id: "mask0_5391_39565",
                      "mask-type": "alpha",
                      maskUnits: "userSpaceOnUse",
                      x: "1",
                      y: "2",
                      width: "19",
                      height: "19",
                      children: [
                        /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(
                          "path",
                          {
                            d: "M11.4922 8.25L11.4238 7.7C11.3867 7.6857 11.3518 7.66851 11.3191 7.64844C11.2863 7.62836 11.2542 7.60691 11.2228 7.58395L10.7141 7.79886L10.2438 6.98239L10.6841 6.64727C10.6813 6.62721 10.6799 6.60788 10.6799 6.58926V6.47325C10.6799 6.45462 10.6813 6.43529 10.6841 6.41523L10.2438 6.08008L10.7141 5.26367L11.2228 5.47852C11.2542 5.4556 11.287 5.43412 11.3212 5.41406C11.3554 5.39401 11.3896 5.37682 11.4238 5.3625L11.4922 4.8125H12.4328L12.5012 5.3625C12.5383 5.37682 12.5732 5.39401 12.606 5.41406C12.6387 5.43412 12.6709 5.4556 12.7022 5.47852L13.211 5.26367L13.6813 6.08008L13.2409 6.41523C13.2437 6.43529 13.2452 6.45462 13.2452 6.47325V6.58926C13.2452 6.60788 13.2423 6.62721 13.2366 6.64727L13.677 6.98239L13.2067 7.79886L12.7022 7.58395C12.6709 7.60691 12.6381 7.62836 12.6038 7.64844C12.5697 7.66851 12.5354 7.6857 12.5012 7.7L12.4328 8.25H11.4922ZM11.971 7.13281C12.1364 7.13281 12.2775 7.0741 12.3943 6.95668C12.5112 6.8392 12.5697 6.6974 12.5697 6.53125C12.5697 6.3651 12.5112 6.2233 12.3943 6.10586C12.2775 5.98841 12.1364 5.92969 11.971 5.92969C11.8029 5.92969 11.6611 5.98841 11.5457 6.10586C11.4302 6.2233 11.3725 6.3651 11.3725 6.53125C11.3725 6.6974 11.4302 6.8392 11.5457 6.95668C11.6611 7.0741 11.8029 7.13281 11.971 7.13281Z",
                            fill: "white",
                            fillOpacity: "0.6"
                          }
                        ),
                        /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(
                          "path",
                          {
                            d: "M17.5552 7.56211L17.5087 7.18811C17.4835 7.17835 17.4597 7.16666 17.4375 7.15305C17.4151 7.13943 17.3933 7.12479 17.372 7.10925L17.0261 7.25535L16.7062 6.70016L17.0057 6.47225C17.0038 6.45862 17.0028 6.44546 17.0028 6.43281V6.35392C17.0028 6.34125 17.0038 6.3281 17.0057 6.31447L16.7062 6.08656L17.0261 5.53141L17.372 5.6775C17.3933 5.66191 17.4156 5.6473 17.4389 5.63367C17.4621 5.62004 17.4854 5.60835 17.5087 5.59861L17.5552 5.22461H18.1948L18.2413 5.59861C18.2665 5.60835 18.2902 5.62004 18.3125 5.63367C18.3349 5.6473 18.3567 5.66191 18.378 5.6775L18.7239 5.53141L19.0437 6.08656L18.7443 6.31447C18.7462 6.3281 18.7472 6.34125 18.7472 6.35392V6.43281C18.7472 6.44546 18.7452 6.45862 18.7414 6.47225L19.0409 6.70016L18.721 7.25535L18.378 7.10925C18.3567 7.12479 18.3344 7.13943 18.3111 7.15305C18.2878 7.16666 18.2646 7.17835 18.2413 7.18811L18.1948 7.56211H17.5552ZM17.8808 6.80242C17.9932 6.80242 18.0891 6.76249 18.1686 6.68262C18.2481 6.60276 18.2878 6.50634 18.2878 6.39336C18.2878 6.28038 18.2481 6.18396 18.1686 6.10409C18.0891 6.02423 17.9932 5.9843 17.8808 5.9843C17.7664 5.9843 17.67 6.02423 17.5915 6.10409C17.513 6.18396 17.4738 6.28038 17.4738 6.39336C17.4738 6.50634 17.513 6.60276 17.5915 6.68262C17.67 6.76249 17.7664 6.80242 17.8808 6.80242Z",
                            fill: "white",
                            fillOpacity: "0.6"
                          }
                        ),
                        /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(
                          "path",
                          {
                            d: "M6.273 6.4625L6.18543 5.7585C6.13801 5.74016 6.09331 5.71816 6.05136 5.6925C6.0094 5.66684 5.96835 5.63934 5.92822 5.61L5.27698 5.885L4.67499 4.84L5.23867 4.411C5.23502 4.38534 5.2332 4.36059 5.2332 4.33675V4.18825C5.2332 4.16441 5.23502 4.13966 5.23867 4.114L4.67499 3.685L5.27698 2.64L5.92822 2.915C5.96835 2.88566 6.01031 2.85816 6.05409 2.8325C6.09787 2.80684 6.14165 2.78484 6.18543 2.7665L6.273 2.0625H7.47696L7.56455 2.7665C7.61199 2.78484 7.65668 2.80684 7.69861 2.8325C7.74055 2.85816 7.78159 2.88566 7.82174 2.915L8.47301 2.64L9.07499 3.685L8.51131 4.114C8.51495 4.13966 8.51681 4.16441 8.51681 4.18825V4.33675C8.51681 4.36059 8.51316 4.38534 8.50581 4.411L9.06949 4.84L8.46751 5.885L7.82174 5.61C7.78159 5.63934 7.73966 5.66684 7.69586 5.6925C7.65207 5.71816 7.60834 5.74016 7.56455 5.7585L7.47696 6.4625H6.273ZM6.88592 5.0325C7.09753 5.0325 7.27814 4.95734 7.42774 4.807C7.57734 4.65666 7.65207 4.47516 7.65207 4.2625C7.65207 4.04984 7.57734 3.86834 7.42774 3.718C7.27814 3.56766 7.09753 3.4925 6.88592 3.4925C6.67068 3.4925 6.48917 3.56766 6.34141 3.718C6.19365 3.86834 6.11976 4.04984 6.11976 4.2625C6.11976 4.47516 6.19365 4.65666 6.34141 4.807C6.48917 4.95734 6.67068 5.0325 6.88592 5.0325Z",
                            fill: "white",
                            fillOpacity: "0.2"
                          }
                        ),
                        /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(
                          "path",
                          {
                            d: "M3.46792 6.66836L3.43235 6.38236C3.41308 6.37491 3.39492 6.36598 3.37788 6.35555C3.36083 6.34512 3.34415 6.33395 3.32785 6.32203L3.06328 6.43375L2.81873 6.00922L3.04772 5.83494C3.04624 5.82451 3.0455 5.81446 3.0455 5.80478V5.74445C3.0455 5.73476 3.04624 5.72471 3.04772 5.71428L2.81873 5.54L3.06328 5.11547L3.32785 5.22719C3.34415 5.21527 3.3612 5.2041 3.37899 5.19367C3.39678 5.18324 3.41456 5.17431 3.43235 5.16686L3.46792 4.88086H3.95703L3.9926 5.16686C4.01187 5.17431 4.03003 5.18324 4.04707 5.19367C4.06412 5.2041 4.0808 5.21527 4.0971 5.22719L4.36167 5.11547L4.60623 5.54L4.37723 5.71428C4.37871 5.72471 4.37945 5.73476 4.37945 5.74445V5.80478C4.37945 5.81446 4.37797 5.82451 4.37501 5.83494L4.604 6.00922L4.35944 6.43375L4.0971 6.32203C4.0808 6.33395 4.06375 6.34512 4.04596 6.35555C4.02818 6.36598 4.01039 6.37491 3.9926 6.38236L3.95703 6.66836H3.46792ZM3.71692 6.08742C3.80289 6.08742 3.87626 6.05688 3.93703 5.99581C3.99779 5.93474 4.02818 5.86101 4.02818 5.77461C4.02818 5.68821 3.99779 5.61448 3.93703 5.55341C3.87626 5.49234 3.80289 5.4618 3.71692 5.4618C3.62947 5.4618 3.55573 5.49234 3.49571 5.55341C3.43568 5.61448 3.40566 5.68821 3.40566 5.77461C3.40566 5.86101 3.43568 5.93474 3.49571 5.99581C3.55573 6.05688 3.62947 6.08742 3.71692 6.08742Z",
                            fill: "white",
                            fillOpacity: "0.4"
                          }
                        ),
                        /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(
                          "path",
                          {
                            d: "M1.8802 9.00644L1.83367 8.63244C1.80848 8.62268 1.78474 8.611 1.76245 8.59738C1.74016 8.58377 1.71835 8.56913 1.69703 8.55359L1.35105 8.69968L1.03125 8.14453L1.3307 7.91662C1.32877 7.90294 1.3278 7.88981 1.3278 7.87716V7.79823C1.3278 7.78558 1.32877 7.77245 1.3307 7.75884L1.03125 7.53093L1.35105 6.97578L1.69703 7.12187C1.71835 7.10626 1.74064 7.09162 1.7639 7.07801C1.78716 7.0644 1.81041 7.05271 1.83367 7.04295L1.8802 6.66895H2.5198L2.56633 7.04295C2.59152 7.05271 2.61526 7.0644 2.63755 7.07801C2.65984 7.09162 2.68165 7.10626 2.70297 7.12187L3.04895 6.97578L3.36875 7.53093L3.0693 7.75884C3.07123 7.77245 3.0722 7.78558 3.0722 7.79823V7.87716C3.0722 7.88981 3.07026 7.90294 3.06639 7.91662L3.36584 8.14453L3.04604 8.69968L2.70297 8.55359C2.68165 8.56913 2.65936 8.58377 2.6361 8.59738C2.61284 8.611 2.58959 8.62268 2.56633 8.63244L2.5198 9.00644H1.8802ZM2.20582 8.24676C2.31823 8.24676 2.41418 8.20681 2.49364 8.127C2.57311 8.04711 2.61284 7.95065 2.61284 7.8377C2.61284 7.72474 2.57311 7.62828 2.49364 7.54846C2.41418 7.46858 2.31823 7.42863 2.20582 7.42863C2.09146 7.42863 1.99504 7.46858 1.91654 7.54846C1.83804 7.62828 1.79879 7.72474 1.79879 7.8377C1.79879 7.95065 1.83804 8.04711 1.91654 8.127C1.99504 8.20681 2.09146 8.24676 2.20582 8.24676Z",
                            fill: "white",
                            fillOpacity: "0.6"
                          }
                        ),
                        /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(
                          "path",
                          {
                            d: "M15.1359 19.7998L15.0675 19.2498C15.0305 19.2355 14.9956 19.2183 14.9628 19.1982C14.93 19.1782 14.8979 19.1567 14.8666 19.1338L14.3578 19.3487L13.8875 18.5322L14.3279 18.1971C14.325 18.177 14.3236 18.1577 14.3236 18.1391V18.023C14.3236 18.0044 14.325 17.9851 14.3279 17.965L13.8875 17.6299L14.3578 16.8134L14.8666 17.0284C14.8979 17.0054 14.9307 16.9839 14.965 16.9639C14.9991 16.9438 15.0334 16.9266 15.0675 16.9123L15.1359 16.3623H16.0766L16.145 16.9123C16.182 16.9266 16.217 16.9438 16.2497 16.9639C16.2825 16.9839 16.3146 17.0054 16.3459 17.0284L16.8547 16.8134L17.325 17.6299L16.8847 17.965C16.8875 17.9851 16.8889 18.0044 16.8889 18.023V18.1391C16.8889 18.1577 16.886 18.177 16.8803 18.1971L17.3207 18.5322L16.8504 19.3487L16.3459 19.1338C16.3146 19.1567 16.2818 19.1782 16.2476 19.1982C16.2134 19.2183 16.1792 19.2355 16.145 19.2498L16.0766 19.7998H15.1359ZM15.6148 18.6826C15.7801 18.6826 15.9212 18.6239 16.0381 18.5065C16.155 18.389 16.2134 18.2472 16.2134 18.0811C16.2134 17.9149 16.155 17.7731 16.0381 17.6557C15.9212 17.5382 15.7801 17.4795 15.6148 17.4795C15.4466 17.4795 15.3049 17.5382 15.1894 17.6557C15.0739 17.7731 15.0162 17.9149 15.0162 18.0811C15.0162 18.2472 15.0739 18.389 15.1894 18.5065C15.3049 18.6239 15.4466 18.6826 15.6148 18.6826Z",
                            fill: "white",
                            fillOpacity: "0.3"
                          }
                        ),
                        /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(
                          "path",
                          {
                            d: "M4.16196 19.3186L4.13734 19.1206C4.124 19.1154 4.11143 19.1092 4.09963 19.102C4.08783 19.0948 4.07628 19.087 4.065 19.0788L3.88184 19.1561L3.71252 18.8622L3.87106 18.7415C3.87003 18.7343 3.86952 18.7274 3.86952 18.7207V18.6789C3.86952 18.6722 3.87003 18.6652 3.87106 18.658L3.71252 18.5373L3.88184 18.2434L4.065 18.3208C4.07628 18.3125 4.08809 18.3048 4.1004 18.2976C4.11271 18.2904 4.12502 18.2842 4.13734 18.2791L4.16196 18.0811H4.50059L4.52521 18.2791C4.53855 18.2842 4.55112 18.2904 4.56292 18.2976C4.57472 18.3048 4.58627 18.3125 4.59755 18.3208L4.78071 18.2434L4.95002 18.5373L4.79149 18.658C4.79252 18.6652 4.79303 18.6722 4.79303 18.6789V18.7207C4.79303 18.7274 4.792 18.7343 4.78995 18.7415L4.94848 18.8622L4.77917 19.1561L4.59755 19.0788C4.58627 19.087 4.57446 19.0948 4.56215 19.102C4.54984 19.1092 4.53752 19.1154 4.52521 19.1206L4.50059 19.3186H4.16196ZM4.33435 18.9164C4.39386 18.9164 4.44466 18.8953 4.48673 18.853C4.5288 18.8107 4.54984 18.7596 4.54984 18.6998C4.54984 18.64 4.5288 18.5889 4.48673 18.5466C4.44466 18.5043 4.39386 18.4832 4.33435 18.4832C4.27381 18.4832 4.22276 18.5043 4.18121 18.5466C4.13965 18.5889 4.11886 18.64 4.11886 18.6998C4.11886 18.7596 4.13965 18.8107 4.18121 18.853C4.22276 18.8953 4.27381 18.9164 4.33435 18.9164Z",
                            fill: "white",
                            fillOpacity: "0.2"
                          }
                        ),
                        /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(
                          "path",
                          {
                            d: "M6.72451 18.2875L6.70262 18.1115C6.69077 18.1069 6.67959 18.1014 6.66911 18.095C6.65861 18.0886 6.64836 18.0817 6.63832 18.0744L6.47551 18.1431L6.32501 17.8819L6.46594 17.7746C6.46502 17.7682 6.46457 17.762 6.46457 17.7561V17.7189C6.46457 17.713 6.46502 17.7068 6.46594 17.7004L6.32501 17.5931L6.47551 17.3319L6.63832 17.4006C6.64836 17.3933 6.65884 17.3864 6.66979 17.38C6.68073 17.3736 6.69168 17.3681 6.70262 17.3635L6.72451 17.1875H7.02551L7.04737 17.3635C7.05926 17.3681 7.0704 17.3736 7.08092 17.38C7.09144 17.3864 7.10168 17.3933 7.11172 17.4006L7.27452 17.3319L7.42501 17.5931L7.28407 17.7004C7.28504 17.7068 7.28545 17.713 7.28545 17.7189V17.7561C7.28545 17.762 7.28456 17.7682 7.2827 17.7746L7.42364 17.8819L7.27314 18.1431L7.11172 18.0744C7.10168 18.0817 7.09116 18.0886 7.08023 18.095C7.0693 18.1014 7.05837 18.1069 7.04737 18.1115L7.02551 18.2875H6.72451ZM6.87776 17.93C6.93063 17.93 6.9758 17.9112 7.0132 17.8736C7.0506 17.836 7.0693 17.7906 7.0693 17.7375C7.0693 17.6844 7.0506 17.639 7.0132 17.6014C6.9758 17.5638 6.93063 17.545 6.87776 17.545C6.82393 17.545 6.77856 17.5638 6.74162 17.6014C6.70468 17.639 6.6862 17.6844 6.6862 17.7375C6.6862 17.7906 6.70468 17.836 6.74162 17.8736C6.77856 17.9112 6.82393 17.93 6.87776 17.93Z",
                            fill: "white",
                            fillOpacity: "0.6"
                          }
                        ),
                        /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(
                          "path",
                          {
                            d: "M5.7309 18.9061L5.71448 18.7741C5.70559 18.7706 5.69721 18.7665 5.68934 18.7617C5.68148 18.7569 5.67378 18.7517 5.66626 18.7462L5.54415 18.7978L5.43127 18.6018L5.53696 18.5214C5.53628 18.5166 5.53594 18.512 5.53594 18.5075V18.4797C5.53594 18.4752 5.53628 18.4705 5.53696 18.4657L5.43127 18.3853L5.54415 18.1893L5.66626 18.2409C5.67378 18.2354 5.68165 18.2302 5.68986 18.2254C5.69807 18.2206 5.70627 18.2165 5.71448 18.2131L5.7309 18.0811H5.95665L5.97307 18.2131C5.98196 18.2165 5.99034 18.2206 5.99821 18.2254C6.00607 18.2302 6.01377 18.2354 6.02129 18.2409L6.1434 18.1893L6.25627 18.3853L6.15059 18.4657C6.15127 18.4705 6.15161 18.4752 6.15161 18.4797V18.5075C6.15161 18.512 6.15093 18.5166 6.14956 18.5214L6.25525 18.6018L6.14238 18.7978L6.02129 18.7462C6.01377 18.7517 6.0059 18.7569 5.99769 18.7617C5.98948 18.7665 5.98127 18.7706 5.97307 18.7741L5.95665 18.9061H5.7309ZM5.84583 18.6379C5.88551 18.6379 5.91937 18.6238 5.94742 18.5956C5.97546 18.5675 5.98948 18.5334 5.98948 18.4936C5.98948 18.4537 5.97546 18.4196 5.94742 18.3915C5.91937 18.3633 5.88551 18.3492 5.84583 18.3492C5.80547 18.3492 5.77144 18.3633 5.74373 18.3915C5.71602 18.4196 5.70217 18.4537 5.70217 18.4936C5.70217 18.5334 5.71602 18.5675 5.74373 18.5956C5.77144 18.6238 5.80547 18.6379 5.84583 18.6379Z",
                            fill: "white",
                            fillOpacity: "0.4"
                          }
                        ),
                        /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(
                          "path",
                          {
                            d: "M18.2875 18.0469C18.2875 18.3316 18.0566 18.5625 17.7719 18.5625C17.4871 18.5625 17.2562 18.3316 17.2562 18.0469C17.2562 17.7621 17.4871 17.5312 17.7719 17.5312C18.0566 17.5312 18.2875 17.7621 18.2875 18.0469ZM17.548 18.0469C17.548 18.1705 17.6482 18.2707 17.7719 18.2707C17.8955 18.2707 17.9957 18.1705 17.9957 18.0469C17.9957 17.9233 17.8955 17.823 17.7719 17.823C17.6482 17.823 17.548 17.9233 17.548 18.0469Z",
                            fill: "#D9D9D9",
                            fillOpacity: "0.3"
                          }
                        ),
                        /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(
                          "path",
                          {
                            d: "M9.45315 20.6248C9.77589 20.6248 10.0375 20.3632 10.0375 20.0404C10.0375 19.7177 9.77589 19.4561 9.45315 19.4561C9.13041 19.4561 8.86877 19.7177 8.86877 20.0404C8.86877 20.3632 9.13041 20.6248 9.45315 20.6248Z",
                            fill: "white",
                            fillOpacity: "0.2"
                          }
                        ),
                        /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(
                          "path",
                          {
                            d: "M14.8156 5.43145C15.1384 5.43145 15.4 5.16981 15.4 4.84707C15.4 4.52433 15.1384 4.2627 14.8156 4.2627C14.4929 4.2627 14.2313 4.52433 14.2313 4.84707C14.2313 5.16981 14.4929 5.43145 14.8156 5.43145Z",
                            fill: "white",
                            fillOpacity: "0.2"
                          }
                        )
                      ]
                    }
                  ),
                  /* @__PURE__ */ (0, import_jsx_runtime13.jsx)("g", { mask: "url(#mask0_5391_39565)", children: /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(
                    "path",
                    {
                      d: "M18.0921 18.1034C19.9118 16.2865 21.0375 13.7749 21.0375 11.0004C21.0375 5.45682 16.5436 0.962891 11 0.962891C5.45646 0.962891 0.962524 5.45682 0.962524 11.0004C0.962524 16.5439 5.45646 21.0378 11 21.0378C12.4612 21.0378 13.8495 20.7256 15.1017 20.1642L18.7031 21.0312C18.8795 21.0737 19.0337 20.9054 18.9758 20.7334L18.0921 18.1034Z",
                      fill: "white"
                    }
                  ) }),
                  /* @__PURE__ */ (0, import_jsx_runtime13.jsxs)(
                    "mask",
                    {
                      id: "mask1_5391_39565",
                      "mask-type": "alpha",
                      maskUnits: "userSpaceOnUse",
                      x: "0",
                      y: "1",
                      width: "22",
                      height: "20",
                      children: [
                        /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(
                          "path",
                          {
                            d: "M2.44181 14.1619L2.35699 13.4799C2.31104 13.4622 2.26774 13.4409 2.2271 13.416C2.18645 13.3911 2.14669 13.3645 2.10781 13.336L1.47692 13.6024L0.893738 12.5901L1.43981 12.1745C1.43627 12.1497 1.4345 12.1257 1.4345 12.1026V11.9588C1.4345 11.9357 1.43627 11.9117 1.43981 11.8868L0.893738 11.4712L1.47692 10.4588L2.10781 10.7252C2.14669 10.6968 2.18733 10.6702 2.22974 10.6454C2.27216 10.6205 2.31457 10.5992 2.35699 10.5814L2.44181 9.89941H3.60817L3.69299 10.5814C3.73894 10.5992 3.78223 10.6205 3.82288 10.6454C3.86352 10.6702 3.90329 10.6968 3.94217 10.7252L4.57306 10.4588L5.15624 11.4712L4.61017 11.8868C4.6137 11.9117 4.61547 11.9357 4.61547 11.9588V12.1026C4.61547 12.1257 4.61194 12.1497 4.60487 12.1745L5.15094 12.5901L4.56776 13.6024L3.94217 13.336C3.90329 13.3645 3.86264 13.3911 3.82023 13.416C3.77781 13.4409 3.7354 13.4622 3.69299 13.4799L3.60817 14.1619H2.44181ZM3.03559 12.7766C3.24059 12.7766 3.41554 12.7038 3.56045 12.5581C3.70537 12.4125 3.77781 12.2367 3.77781 12.0307C3.77781 11.8246 3.70537 11.6488 3.56045 11.5031C3.41554 11.3575 3.24059 11.2847 3.03559 11.2847C2.82706 11.2847 2.65122 11.3575 2.50808 11.5031C2.36494 11.6488 2.29336 11.8246 2.29336 12.0307C2.29336 12.2367 2.36494 12.4125 2.50808 12.5581C2.65122 12.7038 2.82706 12.7766 3.03559 12.7766Z",
                            fill: "#06DFFF",
                            fillOpacity: "0.4"
                          }
                        ),
                        /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(
                          "path",
                          {
                            d: "M15.0114 7.97519L14.9649 7.60119C14.9397 7.59143 14.916 7.57975 14.8937 7.56613C14.8714 7.55252 14.8496 7.53788 14.8283 7.52234L14.4823 7.66843L14.1625 7.11328L14.462 6.88537C14.46 6.8717 14.459 6.85855 14.459 6.84589V6.767C14.459 6.75434 14.46 6.74119 14.462 6.72755L14.1625 6.49965L14.4823 5.94449L14.8283 6.09059C14.8496 6.075 14.8718 6.06039 14.8951 6.04676C14.9184 6.03312 14.9416 6.02144 14.9649 6.0117L15.0114 5.6377H15.651L15.6975 6.0117C15.7228 6.02144 15.7465 6.03312 15.7688 6.04676C15.7911 6.06039 15.8129 6.075 15.8342 6.09059L16.1802 5.94449L16.5 6.49965L16.2005 6.72755C16.2024 6.74119 16.2035 6.75434 16.2035 6.767V6.84589C16.2035 6.85855 16.2015 6.8717 16.1976 6.88537L16.4971 7.11328L16.1773 7.66843L15.8342 7.52234C15.8129 7.53788 15.7906 7.55252 15.7673 7.56613C15.7441 7.57975 15.7208 7.59143 15.6975 7.60119L15.651 7.97519H15.0114ZM15.3371 7.21551C15.4495 7.21551 15.5454 7.17556 15.6249 7.09575C15.7043 7.01586 15.7441 6.9194 15.7441 6.80645C15.7441 6.69347 15.7043 6.59705 15.6249 6.51718C15.5454 6.43731 15.4495 6.39738 15.3371 6.39738C15.2227 6.39738 15.1263 6.43731 15.0478 6.51718C14.9693 6.59705 14.93 6.69347 14.93 6.80645C14.93 6.9194 14.9693 7.01586 15.0478 7.09575C15.1263 7.17556 15.2227 7.21551 15.3371 7.21551Z",
                            fill: "#06DFFF",
                            fillOpacity: "0.6"
                          }
                        ),
                        /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(
                          "path",
                          {
                            d: "M11.9299 4.6748L11.8752 4.2348C11.8456 4.22334 11.8177 4.20959 11.7914 4.19355C11.7652 4.17752 11.7396 4.16033 11.7145 4.14199L11.3075 4.31387L10.9312 3.66074L11.2835 3.39262C11.2812 3.37658 11.2801 3.36111 11.2801 3.34621V3.2534C11.2801 3.2385 11.2812 3.22303 11.2835 3.20699L10.9312 2.93887L11.3075 2.28574L11.7145 2.45762C11.7396 2.43928 11.7658 2.42209 11.7931 2.40605C11.8205 2.39002 11.8479 2.37627 11.8752 2.3648L11.9299 1.9248H12.6825L12.7372 2.3648C12.7668 2.37627 12.7948 2.39002 12.821 2.40605C12.8472 2.42209 12.8729 2.43928 12.8979 2.45762L13.3049 2.28574L13.6812 2.93887L13.3289 3.20699C13.3312 3.22303 13.3323 3.2385 13.3323 3.2534V3.34621C13.3323 3.36111 13.33 3.37658 13.3255 3.39262L13.6778 3.66074L13.3016 4.31387L12.8979 4.14199C12.8729 4.16033 12.8467 4.17752 12.8193 4.19355C12.7919 4.20959 12.7646 4.22334 12.7372 4.2348L12.6825 4.6748H11.9299ZM12.3131 3.78105C12.4453 3.78105 12.5582 3.73408 12.6517 3.64012C12.7452 3.54616 12.7919 3.43272 12.7919 3.2998C12.7919 3.16689 12.7452 3.05345 12.6517 2.95949C12.5582 2.86553 12.4453 2.81855 12.3131 2.81855C12.1785 2.81855 12.0651 2.86553 11.9727 2.95949C11.8804 3.05345 11.8342 3.16689 11.8342 3.2998C11.8342 3.43272 11.8804 3.54616 11.9727 3.64012C12.0651 3.73408 12.1785 3.78105 12.3131 3.78105Z",
                            fill: "#06DFFF",
                            fillOpacity: "0.2"
                          }
                        ),
                        /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(
                          "path",
                          {
                            d: "M19.6047 16.7744L19.5363 16.2244C19.4992 16.2101 19.4643 16.1929 19.4316 16.1729C19.3988 16.1528 19.3667 16.1313 19.3353 16.1084L18.8266 16.3233L18.3563 15.5068L18.7966 15.1717C18.7938 15.1516 18.7923 15.1323 18.7923 15.1137V14.9976C18.7923 14.979 18.7938 14.9597 18.7966 14.9396L18.3563 14.6045L18.8266 13.7881L19.3353 14.003C19.3667 13.98 19.3995 13.9586 19.4337 13.9385C19.4679 13.9184 19.5021 13.9012 19.5363 13.8869L19.6047 13.3369H20.5453L20.6137 13.8869C20.6508 13.9012 20.6857 13.9184 20.7184 13.9385C20.7512 13.9586 20.7833 13.98 20.8147 14.003L21.3234 13.7881L21.7938 14.6045L21.3534 14.9396C21.3562 14.9597 21.3577 14.979 21.3577 14.9976V15.1137C21.3577 15.1323 21.3548 15.1516 21.3491 15.1717L21.7895 15.5068L21.3192 16.3233L20.8147 16.1084C20.7833 16.1313 20.7506 16.1528 20.7163 16.1729C20.6821 16.1929 20.6479 16.2101 20.6137 16.2244L20.5453 16.7744H19.6047ZM20.0835 15.6572C20.2489 15.6572 20.39 15.5985 20.5068 15.4811C20.6237 15.3636 20.6821 15.2218 20.6821 15.0557C20.6821 14.8895 20.6237 14.7477 20.5068 14.6303C20.39 14.5128 20.2489 14.4541 20.0835 14.4541C19.9154 14.4541 19.7736 14.5128 19.6582 14.6303C19.5427 14.7477 19.485 14.8895 19.485 15.0557C19.485 15.2218 19.5427 15.3636 19.6582 15.4811C19.7736 15.5985 19.9154 15.6572 20.0835 15.6572Z",
                            fill: "#06DFFF",
                            fillOpacity: "0.2"
                          }
                        ),
                        /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(
                          "path",
                          {
                            d: "M17.0972 13.75L16.9741 12.76C16.9073 12.7342 16.8445 12.7033 16.7855 12.6672C16.7265 12.6311 16.6688 12.5925 16.6123 12.5511L15.6965 12.9379L14.85 11.4683L15.6427 10.8651C15.6375 10.829 15.635 10.7942 15.635 10.7607V10.5518C15.635 10.5183 15.6375 10.4835 15.6427 10.4474L14.85 9.84418L15.6965 8.37457L16.6123 8.76136C16.6688 8.72004 16.7277 8.68141 16.7893 8.64531C16.8509 8.60922 16.9125 8.57828 16.9741 8.5525L17.0972 7.5625H18.7902L18.9134 8.5525C18.9801 8.57828 19.043 8.60922 19.102 8.64531C19.1609 8.68141 19.2187 8.72004 19.2751 8.76136L20.191 8.37457L21.0375 9.84418L20.2448 10.4474C20.2499 10.4835 20.2525 10.5183 20.2525 10.5518V10.7607C20.2525 10.7942 20.2473 10.829 20.2371 10.8651L21.0298 11.4683L20.1833 12.9379L19.2751 12.5511C19.2187 12.5925 19.1597 12.6311 19.0981 12.6672C19.0366 12.7033 18.975 12.7342 18.9134 12.76L18.7902 13.75H17.0972ZM17.9591 11.7391C18.2567 11.7391 18.5106 11.6334 18.721 11.422C18.9314 11.2106 19.0366 10.9553 19.0366 10.6562C19.0366 10.3572 18.9314 10.102 18.721 9.89058C18.5106 9.67918 18.2567 9.57344 17.9591 9.57344C17.6564 9.57344 17.4012 9.67918 17.1934 9.89058C16.9856 10.102 16.8817 10.3572 16.8817 10.6562C16.8817 10.9553 16.9856 11.2106 17.1934 11.422C17.4012 11.6334 17.6564 11.7391 17.9591 11.7391Z",
                            fill: "#06DFFF",
                            fillOpacity: "0.4"
                          }
                        ),
                        /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(
                          "path",
                          {
                            d: "M10.2222 15.1934L10.099 14.2034C10.0323 14.1776 9.96952 14.1466 9.91048 14.1105C9.85149 14.0745 9.79379 14.0358 9.73733 13.9945L8.82153 14.3812L7.97498 12.9117L8.76765 12.3084C8.76254 12.2723 8.75996 12.2375 8.75996 12.204V11.9952C8.75996 11.9617 8.76254 11.9269 8.76765 11.8908L7.97498 11.2875L8.82153 9.81797L9.73733 10.2047C9.79379 10.1634 9.85278 10.1248 9.91434 10.0887C9.97591 10.0526 10.0375 10.0216 10.099 9.99586L10.2222 9.00586H11.9153L12.0384 9.99586C12.1051 10.0216 12.1679 10.0526 12.227 10.0887C12.286 10.1248 12.3437 10.1634 12.4001 10.2047L13.3159 9.81797L14.1625 11.2875L13.3698 11.8908C13.3749 11.9269 13.3775 11.9617 13.3775 11.9952V12.204C13.3775 12.2375 13.3724 12.2723 13.3621 12.3084L14.1548 12.9117L13.3082 14.3812L12.4001 13.9945C12.3437 14.0358 12.2847 14.0745 12.2231 14.1105C12.1615 14.1466 12.1 14.1776 12.0384 14.2034L11.9153 15.1934H10.2222ZM11.0841 13.1824C11.3817 13.1824 11.6357 13.0767 11.846 12.8653C12.0564 12.6539 12.1615 12.3987 12.1615 12.0996C12.1615 11.8005 12.0564 11.5453 11.846 11.3339C11.6357 11.1225 11.3817 11.0168 11.0841 11.0168C10.7814 11.0168 10.5262 11.1225 10.3184 11.3339C10.1106 11.5453 10.0067 11.8005 10.0067 12.0996C10.0067 12.3987 10.1106 12.6539 10.3184 12.8653C10.5262 13.0767 10.7814 13.1824 11.0841 13.1824Z",
                            fill: "#06DFFF"
                          }
                        ),
                        /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(
                          "path",
                          {
                            d: "M10.6925 20.2119L10.6377 19.7719C10.6081 19.7604 10.5802 19.7467 10.5539 19.7307C10.5277 19.7146 10.5021 19.6975 10.477 19.6791L10.07 19.851L9.69373 19.1979L10.046 18.9297C10.0437 18.9137 10.0426 18.8982 10.0426 18.8833V18.7905C10.0426 18.7756 10.0437 18.7601 10.046 18.7441L9.69373 18.476L10.07 17.8229L10.477 17.9947C10.5021 17.9764 10.5283 17.9592 10.5556 17.9432C10.583 17.9271 10.6104 17.9134 10.6377 17.9019L10.6925 17.4619H11.445L11.4997 17.9019C11.5294 17.9134 11.5573 17.9271 11.5835 17.9432C11.6097 17.9592 11.6354 17.9764 11.6605 17.9947L12.0675 17.8229L12.4437 18.476L12.0915 18.7441C12.0937 18.7601 12.0948 18.7756 12.0948 18.7905V18.8833C12.0948 18.8982 12.0926 18.9137 12.088 18.9297L12.4403 19.1979L12.0641 19.851L11.6605 19.6791C11.6354 19.6975 11.6092 19.7146 11.5818 19.7307C11.5544 19.7467 11.5271 19.7604 11.4997 19.7719L11.445 20.2119H10.6925ZM11.0756 19.3182C11.2078 19.3182 11.3207 19.2712 11.4142 19.1772C11.5077 19.0832 11.5544 18.9698 11.5544 18.8369C11.5544 18.704 11.5077 18.5906 11.4142 18.4966C11.3207 18.4026 11.2078 18.3557 11.0756 18.3557C10.9411 18.3557 10.8276 18.4026 10.7352 18.4966C10.6429 18.5906 10.5967 18.704 10.5967 18.8369C10.5967 18.9698 10.6429 19.0832 10.7352 19.1772C10.8276 19.2712 10.9411 19.3182 11.0756 19.3182Z",
                            fill: "#06DFFF",
                            fillOpacity: "0.3"
                          }
                        ),
                        /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(
                          "path",
                          {
                            d: "M9.24941 7.14961L9.22479 6.95161C9.21146 6.94645 9.19888 6.94027 9.18712 6.93305C9.17529 6.92583 9.16374 6.91806 9.15247 6.90981L8.96932 6.98715L8.79999 6.69328L8.95853 6.57262C8.95749 6.56541 8.95701 6.55845 8.95701 6.55175V6.50998C8.95701 6.50328 8.95749 6.49631 8.95853 6.48909L8.79999 6.36844L8.96932 6.07453L9.15247 6.15188C9.16374 6.14363 9.17557 6.13589 9.18788 6.12867C9.20018 6.12145 9.21249 6.11527 9.22479 6.11011L9.24941 5.91211H9.58807L9.61268 6.11011C9.62602 6.11527 9.6386 6.12145 9.65036 6.12867C9.66218 6.13589 9.67373 6.14363 9.68501 6.15188L9.86816 6.07453L10.0375 6.36844L9.87895 6.48909C9.87998 6.49631 9.88046 6.50328 9.88046 6.50998V6.55175C9.88046 6.55845 9.87943 6.56541 9.87744 6.57262L10.036 6.69328L9.86664 6.98715L9.68501 6.90981C9.67373 6.91806 9.66191 6.92583 9.6496 6.93305C9.63729 6.94027 9.62499 6.94645 9.61268 6.95161L9.58807 7.14961H9.24941ZM9.42183 6.74742C9.4813 6.74742 9.53211 6.72628 9.57418 6.684C9.61626 6.64172 9.63729 6.59067 9.63729 6.53086C9.63729 6.47105 9.61626 6.42 9.57418 6.37772C9.53211 6.33544 9.4813 6.3143 9.42183 6.3143C9.36126 6.3143 9.31025 6.33544 9.26866 6.37772C9.22713 6.42 9.2063 6.47105 9.2063 6.53086C9.2063 6.59067 9.22713 6.64172 9.26866 6.684C9.31025 6.72628 9.36126 6.74742 9.42183 6.74742Z",
                            fill: "#06DFFF",
                            fillOpacity: "0.2"
                          }
                        ),
                        /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(
                          "path",
                          {
                            d: "M13.187 20.4184L13.1651 20.2424C13.1532 20.2378 13.1421 20.2323 13.1316 20.2259C13.1211 20.2195 13.1108 20.2126 13.1008 20.2052L12.938 20.274L12.7875 20.0127L12.9284 19.9055C12.9275 19.8991 12.927 19.8929 12.927 19.8869V19.8498C12.927 19.8438 12.9275 19.8376 12.9284 19.8312L12.7875 19.724L12.938 19.4627L13.1008 19.5315C13.1108 19.5241 13.1213 19.5173 13.1323 19.5109C13.1432 19.5045 13.1541 19.499 13.1651 19.4944L13.187 19.3184H13.488L13.5098 19.4944C13.5217 19.499 13.5329 19.5045 13.5434 19.5109C13.5539 19.5173 13.5641 19.5241 13.5742 19.5315L13.737 19.4627L13.8875 19.724L13.7465 19.8312C13.7475 19.8376 13.7479 19.8438 13.7479 19.8498V19.8869C13.7479 19.8929 13.747 19.8991 13.7452 19.9055L13.8861 20.0127L13.7356 20.274L13.5742 20.2052C13.5641 20.2126 13.5536 20.2195 13.5427 20.2259C13.5318 20.2323 13.5208 20.2378 13.5098 20.2424L13.488 20.4184H13.187ZM13.3402 20.0609C13.3931 20.0609 13.4383 20.0421 13.4757 20.0045C13.5131 19.9669 13.5318 19.9215 13.5318 19.8684C13.5318 19.8152 13.5131 19.7698 13.4757 19.7322C13.4383 19.6946 13.3931 19.6759 13.3402 19.6759C13.2864 19.6759 13.241 19.6946 13.2041 19.7322C13.1671 19.7698 13.1487 19.8152 13.1487 19.8684C13.1487 19.9215 13.1671 19.9669 13.2041 20.0045C13.241 20.0421 13.2864 20.0609 13.3402 20.0609Z",
                            fill: "#06DFFF",
                            fillOpacity: "0.4"
                          }
                        ),
                        /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(
                          "path",
                          {
                            d: "M13.8875 17.9088C13.8875 18.3454 13.5335 18.6994 13.0968 18.6994C12.6602 18.6994 12.3062 18.3454 12.3062 17.9088C12.3062 17.4722 12.6602 17.1182 13.0968 17.1182C13.5335 17.1182 13.8875 17.4722 13.8875 17.9088ZM12.7536 17.9088C12.7536 18.0983 12.9073 18.252 13.0968 18.252C13.2864 18.252 13.44 18.0983 13.44 17.9088C13.44 17.7192 13.2864 17.5656 13.0968 17.5656C12.9073 17.5656 12.7536 17.7192 12.7536 17.9088Z",
                            fill: "#06DFFF",
                            fillOpacity: "0.2"
                          }
                        ),
                        /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(
                          "path",
                          {
                            opacity: "0.8",
                            d: "M7.42496 8.62773C7.42496 9.74781 6.51694 10.6559 5.39684 10.6559C4.27674 10.6559 3.36871 9.74781 3.36871 8.62773C3.36871 7.50766 4.27674 6.59961 5.39684 6.59961C6.51694 6.59961 7.42496 7.50766 7.42496 8.62773ZM4.38278 8.62773C4.38278 9.18777 4.83679 9.6418 5.39684 9.6418C5.95689 9.6418 6.4109 9.18777 6.4109 8.62773C6.4109 8.0677 5.95689 7.61367 5.39684 7.61367C4.83679 7.61367 4.38278 8.0677 4.38278 8.62773Z",
                            fill: "#06DFFF"
                          }
                        )
                      ]
                    }
                  ),
                  /* @__PURE__ */ (0, import_jsx_runtime13.jsx)("g", { mask: "url(#mask1_5391_39565)", children: /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(
                    "path",
                    {
                      d: "M18.0921 18.1024C19.9117 16.2855 21.0375 13.7739 21.0375 10.9994C21.0375 5.45584 16.5435 0.961914 11 0.961914C5.4564 0.961914 0.962463 5.45584 0.962463 10.9994C0.962463 16.5429 5.4564 21.0368 11 21.0368C12.4612 21.0368 13.8494 20.7247 15.1017 20.1632L18.7031 21.0302C18.8795 21.0727 19.0336 20.9044 18.9758 20.7324L18.0921 18.1024Z",
                      fill: "#24E8FF"
                    }
                  ) }),
                  /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(
                    "path",
                    {
                      d: "M5.40871 16.2518C4.2121 16.2518 3.24206 15.2818 3.24206 14.0852C3.24206 13.1869 3.78873 12.4162 4.56754 12.0878L2.68127 5.77539H12.291L11.9394 6.92244C12.1109 6.88899 12.2882 6.87146 12.4695 6.87146C12.859 6.87146 13.2297 6.95238 13.5655 7.09831V5.77539H16.9047V6.76467C18.3107 7.11735 19.3518 8.38948 19.3518 9.90478C19.3518 10.5974 19.1343 11.2391 18.7639 11.7656H19.3008V16.2518H5.40871Z",
                      fill: "#393C52"
                    }
                  ),
                  /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(
                    "path",
                    {
                      d: "M5.53774 11.5613L4.17822 6.88965H5.42597L6.13082 9.95085H6.1696L6.97482 6.88965H7.99217L8.79739 9.95769H8.83617L9.5433 6.88965H10.7888L9.43153 11.5613H8.34346L7.50174 8.72819H7.46525L6.62353 11.5613H5.53774Z",
                      fill: "white"
                    }
                  ),
                  /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(
                    "path",
                    {
                      d: "M12.472 11.6274C12.1055 11.6274 11.7892 11.5552 11.5231 11.4107C11.2585 11.2647 11.0547 11.0572 10.9118 10.788C10.7703 10.5173 10.6996 10.1957 10.6996 9.82311C10.6996 9.46118 10.7711 9.14487 10.914 8.87418C11.057 8.60197 11.2585 8.39059 11.5185 8.24004C11.7786 8.08797 12.085 8.01194 12.4378 8.01194C12.6872 8.01194 12.9153 8.05071 13.1221 8.12827C13.3289 8.20583 13.5076 8.32064 13.6582 8.47271C13.8087 8.62478 13.9258 8.81259 14.0095 9.03614C14.0931 9.25816 14.1349 9.51288 14.1349 9.8003V10.0786H11.0897V9.43076H13.097C13.0955 9.31215 13.0674 9.20646 13.0126 9.11369C12.9579 9.02093 12.8826 8.9487 12.7868 8.89699C12.6925 8.84377 12.5838 8.81715 12.4606 8.81715C12.3359 8.81715 12.2241 8.84529 12.1253 8.90155C12.0264 8.9563 11.9481 9.03157 11.8903 9.12738C11.8326 9.22166 11.8021 9.32887 11.7991 9.44901V10.1082C11.7991 10.2512 11.8272 10.3766 11.8835 10.4846C11.9398 10.5911 12.0196 10.6739 12.123 10.7333C12.2264 10.7926 12.3496 10.8222 12.4925 10.8222C12.5914 10.8222 12.6811 10.8085 12.7617 10.7812C12.8423 10.7538 12.9115 10.7135 12.9693 10.6603C13.0271 10.607 13.0704 10.5416 13.0993 10.4641L14.1235 10.4937C14.0809 10.7234 13.9874 10.9233 13.8429 11.0937C13.7 11.2625 13.5122 11.394 13.2795 11.4883C13.0468 11.5811 12.7777 11.6274 12.472 11.6274Z",
                      fill: "white"
                    }
                  ),
                  /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(
                    "path",
                    {
                      d: "M14.6725 11.5613V6.88965H15.7879V8.65748H15.8108C15.8564 8.55103 15.921 8.44838 16.0046 8.34953C16.0898 8.25069 16.1978 8.17009 16.3286 8.10774C16.4609 8.04387 16.619 8.01194 16.803 8.01194C17.0463 8.01194 17.2737 8.07581 17.4851 8.20355C17.698 8.33129 17.8698 8.52822 18.0006 8.79434C18.1314 9.06047 18.1968 9.39959 18.1968 9.8117C18.1968 10.2086 18.1336 10.5409 18.0074 10.8085C17.8827 11.0762 17.7139 11.2769 17.501 11.4107C17.2896 11.5446 17.0547 11.6115 16.7962 11.6115C16.6198 11.6115 16.4669 11.5826 16.3377 11.5248C16.2084 11.467 16.0997 11.391 16.0115 11.2967C15.9248 11.2024 15.8579 11.1013 15.8108 10.9933H15.7765V11.5613H14.6725ZM15.7651 9.80942C15.7651 9.99799 15.7902 10.1622 15.8404 10.3021C15.8921 10.442 15.9659 10.5508 16.0617 10.6283C16.159 10.7044 16.2753 10.7424 16.4107 10.7424C16.5475 10.7424 16.6639 10.7044 16.7597 10.6283C16.8555 10.5508 16.9277 10.442 16.9764 10.3021C17.0266 10.1622 17.0517 9.99799 17.0517 9.80942C17.0517 9.62085 17.0266 9.45737 16.9764 9.31899C16.9277 9.1806 16.8555 9.07339 16.7597 8.99736C16.6654 8.92132 16.5491 8.8833 16.4107 8.8833C16.2738 8.8833 16.1575 8.92056 16.0617 8.99508C15.9659 9.06959 15.8921 9.17604 15.8404 9.31443C15.7902 9.45281 15.7651 9.61781 15.7651 9.80942Z",
                      fill: "white"
                    }
                  ),
                  /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(
                    "path",
                    {
                      d: "M6.45867 13.7138H5.95912C5.94999 13.6492 5.93136 13.5918 5.90323 13.5416C5.8751 13.4906 5.83898 13.4473 5.79488 13.4116C5.75078 13.3758 5.69984 13.3484 5.64205 13.3294C5.58502 13.3104 5.52305 13.3009 5.45614 13.3009C5.33524 13.3009 5.22994 13.331 5.14021 13.391C5.05049 13.4503 4.98092 13.537 4.9315 13.6511C4.88207 13.7644 4.85736 13.902 4.85736 14.0639C4.85736 14.2305 4.88207 14.3704 4.9315 14.4837C4.98168 14.597 5.05163 14.6825 5.14135 14.7403C5.23108 14.7981 5.33486 14.827 5.45272 14.827C5.51887 14.827 5.58008 14.8182 5.63635 14.8007C5.69337 14.7832 5.74394 14.7578 5.78804 14.7243C5.83214 14.6901 5.86864 14.6487 5.89753 14.6C5.92718 14.5513 5.94771 14.4958 5.95912 14.4335L6.45867 14.4358C6.44575 14.543 6.41343 14.6464 6.36173 14.746C6.31078 14.8448 6.24197 14.9334 6.15529 15.0117C6.06937 15.0893 5.96672 15.1509 5.84735 15.1965C5.72873 15.2414 5.59453 15.2638 5.44474 15.2638C5.2364 15.2638 5.05011 15.2166 4.88587 15.1224C4.7224 15.0281 4.59314 14.8916 4.49809 14.7129C4.40381 14.5342 4.35667 14.3179 4.35667 14.0639C4.35667 13.8092 4.40457 13.5925 4.50037 13.4138C4.59618 13.2352 4.7262 13.0991 4.89044 13.0055C5.05467 12.9112 5.23944 12.8641 5.44474 12.8641C5.58008 12.8641 5.70554 12.8831 5.82111 12.9211C5.93745 12.9591 6.04048 13.0147 6.1302 13.0876C6.21992 13.1599 6.29291 13.2485 6.34918 13.3534C6.40621 13.4583 6.4427 13.5785 6.45867 13.7138Z",
                      fill: "white"
                    }
                  ),
                  /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(
                    "path",
                    {
                      d: "M7.27349 14.2191V15.2319H6.78763V12.896H7.25981V13.7891H7.28034C7.31988 13.6857 7.38375 13.6047 7.47195 13.5461C7.56015 13.4868 7.67078 13.4572 7.80384 13.4572C7.9255 13.4572 8.03157 13.4838 8.12205 13.537C8.21329 13.5895 8.28401 13.6651 8.33419 13.764C8.38514 13.8621 8.41023 13.9795 8.40947 14.1164V15.2319H7.9236V14.2031C7.92436 14.0951 7.89699 14.0111 7.84148 13.951C7.78674 13.891 7.70994 13.8609 7.61109 13.8609C7.54494 13.8609 7.48639 13.875 7.43545 13.9031C7.38527 13.9313 7.34573 13.9723 7.31683 14.0263C7.2887 14.0795 7.27425 14.1438 7.27349 14.2191Z",
                      fill: "white"
                    }
                  ),
                  /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(
                    "path",
                    {
                      d: "M9.27533 15.2649C9.16356 15.2649 9.06395 15.2455 8.97651 15.2068C8.88907 15.1672 8.81987 15.1091 8.76893 15.0323C8.71875 14.9547 8.69365 14.8581 8.69365 14.7426C8.69365 14.6452 8.71152 14.5635 8.74726 14.4973C8.783 14.4312 8.83166 14.378 8.89325 14.3377C8.95484 14.2974 9.02479 14.267 9.10311 14.2464C9.18218 14.2259 9.26506 14.2115 9.35174 14.2031C9.45363 14.1924 9.53575 14.1826 9.5981 14.1734C9.66045 14.1635 9.70569 14.1491 9.73382 14.1301C9.76196 14.1111 9.77602 14.083 9.77602 14.0457V14.0389C9.77602 13.9666 9.75321 13.9107 9.70759 13.8712C9.66273 13.8317 9.59886 13.8119 9.51598 13.8119C9.42854 13.8119 9.35897 13.8313 9.30726 13.8701C9.25556 13.9081 9.22134 13.956 9.20461 14.0138L8.75524 13.9773C8.77805 13.8708 8.82292 13.7788 8.88983 13.7013C8.95674 13.6229 9.04304 13.5629 9.14873 13.521C9.25518 13.4785 9.37836 13.4572 9.51826 13.4572C9.61559 13.4572 9.70873 13.4686 9.79769 13.4914C9.88742 13.5142 9.96687 13.5496 10.0361 13.5975C10.106 13.6454 10.1611 13.707 10.2014 13.7822C10.2417 13.8567 10.2619 13.9461 10.2619 14.0503V15.2319H9.80112V14.9889H9.78743C9.75929 15.0437 9.72166 15.0919 9.67452 15.1338C9.62737 15.1748 9.57073 15.2071 9.50458 15.2307C9.43842 15.2535 9.36201 15.2649 9.27533 15.2649ZM9.41447 14.9296C9.48595 14.9296 9.54906 14.9155 9.6038 14.8874C9.65855 14.8585 9.70151 14.8197 9.73268 14.7711C9.76386 14.7224 9.77944 14.6673 9.77944 14.6057V14.4198C9.76424 14.4297 9.74333 14.4388 9.71672 14.4472C9.69086 14.4548 9.66159 14.462 9.62889 14.4688C9.5962 14.4749 9.5635 14.4806 9.53081 14.4859C9.49811 14.4905 9.46846 14.4947 9.44185 14.4985C9.38482 14.5069 9.33502 14.5202 9.29244 14.5384C9.24986 14.5567 9.21678 14.5814 9.19321 14.6125C9.16964 14.643 9.15785 14.681 9.15785 14.7266C9.15785 14.7927 9.1818 14.8433 9.22971 14.8783C9.27837 14.9125 9.33996 14.9296 9.41447 14.9296Z",
                      fill: "white"
                    }
                  ),
                  /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(
                    "path",
                    {
                      d: "M11.5546 13.48V13.845H10.4996V13.48H11.5546ZM10.7391 13.0603H11.225V14.6935C11.225 14.7384 11.2318 14.7734 11.2455 14.7984C11.2592 14.8228 11.2782 14.8399 11.3025 14.8498C11.3276 14.8597 11.3565 14.8646 11.3892 14.8646C11.412 14.8646 11.4348 14.8627 11.4577 14.8589C11.4805 14.8543 11.498 14.8509 11.5101 14.8486L11.5865 15.2102C11.5622 15.2178 11.528 15.2265 11.4839 15.2364C11.4398 15.2471 11.3862 15.2535 11.3231 15.2558C11.206 15.2604 11.1033 15.2448 11.0151 15.209C10.9277 15.1733 10.8596 15.1178 10.811 15.0425C10.7623 14.9672 10.7384 14.8722 10.7391 14.7574V13.0603Z",
                      fill: "white"
                    }
                  ),
                  /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(
                    "path",
                    {
                      d: "M13.413 13.6511C13.397 13.5956 13.3746 13.5465 13.3457 13.5039C13.3168 13.4606 13.2815 13.4241 13.2396 13.3944C13.1986 13.364 13.1514 13.3408 13.0982 13.3249C13.0458 13.3089 12.9876 13.3009 12.9237 13.3009C12.8043 13.3009 12.6994 13.3306 12.6089 13.3899C12.5192 13.4492 12.4493 13.5355 12.3991 13.6488C12.3489 13.7613 12.3238 13.8989 12.3238 14.0617C12.3238 14.2244 12.3485 14.3628 12.3979 14.4768C12.4474 14.5909 12.5173 14.6779 12.6078 14.738C12.6983 14.7973 12.8051 14.827 12.9283 14.827C13.0401 14.827 13.1355 14.8072 13.2146 14.7677C13.2944 14.7274 13.3552 14.6707 13.397 14.5977C13.4396 14.5247 13.4609 14.4384 13.4609 14.3388L13.5613 14.3536H12.9591V13.9818H13.9365V14.2761C13.9365 14.4814 13.8932 14.6578 13.8065 14.8053C13.7198 14.952 13.6004 15.0653 13.4484 15.1452C13.2963 15.2242 13.1222 15.2638 12.926 15.2638C12.707 15.2638 12.5146 15.2155 12.3489 15.1189C12.1831 15.0216 12.0539 14.8836 11.9611 14.7049C11.8691 14.5255 11.8231 14.3126 11.8231 14.0662C11.8231 13.8769 11.8505 13.7081 11.9052 13.5598C11.9607 13.4108 12.0383 13.2846 12.1379 13.1812C12.2375 13.0778 12.3535 12.9991 12.4858 12.9451C12.6181 12.8911 12.7614 12.8641 12.9157 12.8641C13.048 12.8641 13.1712 12.8835 13.2853 12.9223C13.3993 12.9603 13.5005 13.0143 13.5887 13.0842C13.6776 13.1542 13.7502 13.2374 13.8065 13.334C13.8628 13.4298 13.8989 13.5355 13.9148 13.6511H13.413Z",
                      fill: "white"
                    }
                  ),
                  /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(
                    "path",
                    {
                      d: "M14.2914 15.2319V12.896H15.213C15.3901 12.896 15.5411 12.9299 15.6658 12.9975C15.7905 13.0645 15.8855 13.1576 15.9509 13.277C16.017 13.3956 16.0501 13.5325 16.0501 13.6876C16.0501 13.8427 16.0167 13.9795 15.9498 14.0982C15.8828 14.2168 15.7859 14.3092 15.6589 14.3753C15.5327 14.4415 15.3799 14.4745 15.2004 14.4745H14.613V14.0788H15.1206C15.2156 14.0788 15.2939 14.0624 15.3555 14.0297C15.4179 13.9963 15.4643 13.9503 15.4947 13.8917C15.5259 13.8324 15.5414 13.7644 15.5414 13.6876C15.5414 13.61 15.5259 13.5423 15.4947 13.4846C15.4643 13.426 15.4179 13.3808 15.3555 13.3488C15.2932 13.3161 15.2141 13.2998 15.1183 13.2998H14.7853V15.2319H14.2914Z",
                      fill: "white"
                    }
                  ),
                  /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(
                    "path",
                    {
                      d: "M16.2659 13.3032V12.896H18.1843V13.3032H17.4691V15.2319H16.981V13.3032H16.2659Z",
                      fill: "white"
                    }
                  )
                ] }),
                /* @__PURE__ */ (0, import_jsx_runtime13.jsx)("defs", { children: /* @__PURE__ */ (0, import_jsx_runtime13.jsx)("clipPath", { id: "clip0_5391_39565", children: /* @__PURE__ */ (0, import_jsx_runtime13.jsx)("rect", { width: "22", height: "22", fill: "white" }) }) })
              ]
            }
          )
        }
      );
    default:
      return null;
  }
};
var SearchWithAILogo_default = SearchWithAILogo;

// src/features/searchWithAI/components/SearchWithAIHeader.tsx
var import_jsx_runtime14 = __toESM(require_jsx_runtime());
var SearchWithAIHeader = ({
  status,
  isAnswering,
  handleStopGenerate,
  handleClose,
  handleResetStatus
}) => {
  const actionsBtn = (0, import_react10.useMemo)(() => {
    const commonActions = [
      {
        name: "settings",
        label: "",
        icon: /* @__PURE__ */ (0, import_jsx_runtime14.jsx)(import_SettingsOutlined.default, { fontSize: "inherit" }),
        tooltip: "Settings",
        onClick: () => {
          chromeExtensionClientOpenPage({
            key: "options",
            query: "#/search-with-ai"
          });
        }
      },
      {
        name: "close",
        label: "",
        icon: /* @__PURE__ */ (0, import_jsx_runtime14.jsx)(import_Close.default, { fontSize: "inherit" }),
        tooltip: "",
        onClick: handleClose
      }
    ];
    return commonActions;
  }, [isAnswering, handleStopGenerate, handleClose]);
  const showWebAccess = (0, import_react10.useMemo)(
    () => !isAnswering && status !== "waitingAnswer" && status !== "answering",
    [status, isAnswering]
  );
  return /* @__PURE__ */ (0, import_jsx_runtime14.jsxs)(
    Stack_default,
    {
      direction: "row",
      alignItems: "center",
      sx: {
        fontSize: 20
      },
      pb: 2,
      children: [
        /* @__PURE__ */ (0, import_jsx_runtime14.jsx)(SearchWithAILogo_default, {}),
        /* @__PURE__ */ (0, import_jsx_runtime14.jsx)(Box_default, { sx: { flexGrow: 1 } }),
        /* @__PURE__ */ (0, import_jsx_runtime14.jsxs)(Stack_default, { direction: "row", alignItems: "center", children: [
          showWebAccess && /* @__PURE__ */ (0, import_jsx_runtime14.jsx)(
            SearchWithAIWebAccessToggle_default,
            {
              sx: {
                mr: 1
              },
              onChange: handleResetStatus
            }
          ),
          actionsBtn.map((action) => {
            return /* @__PURE__ */ (0, import_jsx_runtime14.jsx)(
              Tooltip_default,
              {
                placement: "top",
                PopperProps: {
                  disablePortal: true
                },
                title: action.tooltip ? /* @__PURE__ */ (0, import_jsx_runtime14.jsx)(Typography_default, { fontSize: 12, children: action.tooltip }) : "",
                children: action.label ? /* @__PURE__ */ (0, import_jsx_runtime14.jsx)(
                  Button_default,
                  {
                    startIcon: action.icon,
                    color: "inherit",
                    size: "small",
                    onClick: action.onClick,
                    children: action.label
                  }
                ) : /* @__PURE__ */ (0, import_jsx_runtime14.jsx)(
                  IconButton_default,
                  {
                    color: "inherit",
                    size: "small",
                    onClick: action.onClick,
                    sx: {
                      fontSize: 18
                    },
                    children: action.icon
                  }
                )
              },
              action.name
            );
          })
        ] })
      ]
    }
  );
};
var SearchWithAIHeader_default = SearchWithAIHeader;

// src/features/searchWithAI/components/AIAllInOneSearch.tsx
var import_jsx_runtime15 = __toESM(require_jsx_runtime());
var AIAllInOneSearch = () => {
  const theme = useTheme();
  return /* @__PURE__ */ (0, import_jsx_runtime15.jsxs)(
    Stack_default,
    {
      sx: {
        flexDirection: "row",
        alignItems: "center",
        borderRadius: "12px",
        border: "1px solid ",
        borderColor: (t) => t.palette.mode === "dark" ? "rgba(255, 255, 255, 0.12)" : "rgba(0, 0, 0, 0.08)",
        backgroundColor: (t) => {
          return t.palette.mode === "dark" ? "#262626" : "#fff";
        },
        boxShadow: "0px 1px 4px 0px rgba(255, 255, 255, 0.08)",
        height: "44px",
        p: "0 16px",
        gap: "8px",
        cursor: "pointer",
        "&:hover": {
          backgroundColor: (t) => t.palette.mode === "dark" ? "rgba(255, 255, 255, 0.08) !important" : "rgba(0, 0, 0, 0.03) !important"
        }
      },
      onClick: () => {
        const input = document.querySelector(
          'textarea[name="q"]'
        );
        const query = input == null ? void 0 : input.value;
        chromeExtensionClientOpenPage({
          key: "chat_hub_search",
          query: `q=${query}`
        });
      },
      children: [
        /* @__PURE__ */ (0, import_jsx_runtime15.jsx)(Box_default, { children: "Compare answers All-In-One" }),
        /* @__PURE__ */ (0, import_jsx_runtime15.jsx)(Stack_default, { sx: {
          flexDirection: "row",
          flex: 1
        }, children: [
          "Baidu" /* Baidu */,
          "Google" /* Google */,
          "Bing" /* Bing */,
          "ChatGPT" /* ChatGPT */,
          "Perplexity" /* Perplexity */
        ].map((provider) => /* @__PURE__ */ (0, import_jsx_runtime15.jsx)(Stack_default, { sx: {
          width: "21px",
          height: "21px",
          borderRadius: "50%",
          border: "1px solid rgba(255, 255, 255, 0.12)",
          borderColor: (t) => t.palette.mode === "dark" ? "rgba(255, 255, 255, 0.12)" : "rgba(0, 0, 0, 0.08)",
          mr: "-8px",
          alignItems: "center",
          justifyContent: "center",
          // backgroundColor:'#262626'
          backgroundColor: (t) => t.palette.mode === "dark" ? "#262626" : "#fff"
        }, children: /* @__PURE__ */ (0, import_jsx_runtime15.jsx)(SearchProviderIcon_default, { sx: { fontSize: "18px" }, icon: provider, bgColorIsLight: theme.palette.mode !== "dark" }) })) }),
        /* @__PURE__ */ (0, import_jsx_runtime15.jsx)(Box_default, { children: /* @__PURE__ */ (0, import_jsx_runtime15.jsx)(CustomIcon_default, { icon: "ArrowForward", sx: { color: (t) => t.palette.mode === "dark" ? "white" : "black", fontSize: "16px" } }) })
      ]
    }
  );
};
var AIAllInOneSearch_default = AIAllInOneSearch;

// src/features/searchWithAI/components/AISearchContentCard.tsx
var import_jsx_runtime16 = __toESM(require_jsx_runtime());
var AISearchContentCard = ({
  question,
  isDarkMode,
  siteName
}) => {
  const [show, setShow] = (0, import_react11.useState)(true);
  const { searchWithAISettings } = useSearchWithAISettings_default();
  const { loading: providerLoading } = useSearchWithProvider_default();
  const triggerMode = searchWithAISettings.triggerMode;
  const currentAIProvider = searchWithAISettings.aiProvider;
  const {
    // loading,
    status,
    completedAnswer,
    isAnswering,
    conversation,
    handleResetStatus,
    handleAskQuestion,
    handleStopGenerate,
    isUseCache
  } = useSearchWithAICore_default(question, siteName);
  const handleClose = (0, import_react11.useCallback)(() => {
    setShow(false);
  }, []);
  if (!show || !searchWithAISettings.loaded || !currentAIProvider)
    return null;
  return /* @__PURE__ */ (0, import_jsx_runtime16.jsxs)(
    Paper_default,
    {
      variant: "outlined",
      sx: {
        mb: 2.5,
        bgcolor: "transparent",
        borderRadius: "16px"
      },
      children: [
        /* @__PURE__ */ (0, import_jsx_runtime16.jsxs)(
          Stack_default,
          {
            p: 2,
            pb: "20px",
            children: [
              /* @__PURE__ */ (0, import_jsx_runtime16.jsx)(
                SearchWithAIHeader_default,
                {
                  status,
                  isAnswering,
                  handleStopGenerate,
                  handleClose,
                  handleResetStatus
                }
              ),
              /* @__PURE__ */ (0, import_jsx_runtime16.jsx)(Box_default, { sx: {
                fontSize: "14px",
                fontWeight: 400,
                lineHeight: "21px",
                mb: "10px",
                color: (t) => t.palette.mode === "dark" ? "rgba(255, 255, 255, 0.38)" : "rgba(0, 0, 0, 0.38)"
              }, children: "Compare more AI answers" }),
              /* @__PURE__ */ (0, import_jsx_runtime16.jsx)(
                AIProviderBar_default,
                {
                  disabled: isAnswering,
                  onProviderChange: async () => {
                    await handleStopGenerate();
                    await handleResetStatus();
                  },
                  sx: { mb: 1 }
                }
              ),
              /* @__PURE__ */ (0, import_jsx_runtime16.jsx)(AIAllInOneSearch_default, {})
            ]
          }
        ),
        /* @__PURE__ */ (0, import_jsx_runtime16.jsx)(Divider_default, {}),
        /* @__PURE__ */ (0, import_jsx_runtime16.jsxs)(
          Stack_default,
          {
            sx: {
              px: 2,
              pb: 2,
              pt: 3
            },
            children: [
              status !== "idle" && status !== "stop" ? /* @__PURE__ */ (0, import_jsx_runtime16.jsx)(QuestionTitle, { question }) : null,
              /* @__PURE__ */ (0, import_jsx_runtime16.jsx)(AISearchSources_default, {}),
              status === "answering" || status === "waitingAnswer" ? /* @__PURE__ */ (0, import_jsx_runtime16.jsx)(AnswerLabelTitle, { loading: true, handleStopGenerate }) : null,
              status === "success" ? /* @__PURE__ */ (0, import_jsx_runtime16.jsx)(
                AnswerLabelTitle,
                {
                  loading: false,
                  handleStopGenerate
                }
              ) : null,
              !providerLoading && /* @__PURE__ */ (0, import_jsx_runtime16.jsx)(
                AIAskTrigger_default,
                {
                  status,
                  triggerMode,
                  question,
                  handleAsk: handleAskQuestion
                }
              ),
              status === "error" && conversation.errorMessage && /* @__PURE__ */ (0, import_jsx_runtime16.jsx)(
                AIResponseError_default,
                {
                  message: conversation.errorMessage,
                  provider: currentAIProvider,
                  handleAsk: handleAskQuestion,
                  isDarkMode
                }
              ),
              status === "success" && completedAnswer && /* @__PURE__ */ (0, import_jsx_runtime16.jsx)(
                AIResponseMessage_default,
                {
                  message: completedAnswer,
                  isDarkMode
                }
              ),
              status === "answering" && conversation.writingMessage && /* @__PURE__ */ (0, import_jsx_runtime16.jsx)(
                AIResponseMessage_default,
                {
                  message: conversation.writingMessage,
                  isDarkMode
                }
              ),
              status === "waitingAnswer" && /* @__PURE__ */ (0, import_jsx_runtime16.jsx)(AISearchingLoading_default, {})
            ]
          }
        ),
        SEARCH_WITH_AI_APP_NAME === "webchatgpt" && status === "success" && // 使用了缓存则不显示 footer
        !isUseCache ? /* @__PURE__ */ (0, import_jsx_runtime16.jsxs)(import_jsx_runtime16.Fragment, { children: [
          /* @__PURE__ */ (0, import_jsx_runtime16.jsx)(Divider_default, {}),
          /* @__PURE__ */ (0, import_jsx_runtime16.jsx)(SearchWithAIFooter_default, { handleAskQuestion })
        ] }) : null,
        status === "answering" || status === "success" ? /* @__PURE__ */ (0, import_jsx_runtime16.jsx)(SearchWithAIGALoader_default, {}) : null
      ]
    }
  );
};
function AnswerLabelTitle({
  loading,
  handleStopGenerate
}) {
  if (loading) {
    return /* @__PURE__ */ (0, import_jsx_runtime16.jsxs)(Stack_default, { direction: "row", alignItems: "center", spacing: 1, mb: 1, children: [
      /* @__PURE__ */ (0, import_jsx_runtime16.jsx)(CircularProgress_default, { size: 18 }),
      /* @__PURE__ */ (0, import_jsx_runtime16.jsx)(
        Typography_default,
        {
          sx: {
            color: "primary.main",
            fontSize: 18,
            lineHeight: "20px"
          },
          children: "Writing"
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime16.jsx)(
        Button_default,
        {
          startIcon: /* @__PURE__ */ (0, import_jsx_runtime16.jsx)(import_StopOutlined.default, { fontSize: "inherit" }),
          color: "inherit",
          size: "small",
          onClick: handleStopGenerate,
          sx: {
            ml: "auto !important"
          },
          children: "Stop generating"
        }
      )
    ] });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime16.jsxs)(Stack_default, { direction: "row", alignItems: "center", spacing: 1, mb: 1, children: [
    /* @__PURE__ */ (0, import_jsx_runtime16.jsx)(
      ReadIcon,
      {
        sx: {
          color: "primary.main",
          fontSize: 20
        }
      }
    ),
    /* @__PURE__ */ (0, import_jsx_runtime16.jsx)(
      Typography_default,
      {
        sx: {
          color: "primary.main",
          fontSize: 18,
          lineHeight: "20px"
        },
        children: "Answer"
      }
    )
  ] });
}
function QuestionTitle({ question }) {
  return /* @__PURE__ */ (0, import_jsx_runtime16.jsx)(
    Typography_default,
    {
      sx: {
        fontSize: 28,
        lineHeight: 1.4,
        fontWeight: 500,
        mb: 3,
        overflowWrap: "break-word"
      },
      children: question
    }
  );
}
var AISearchContentCard_default = AISearchContentCard;

// src/background/utils/clientProxyWebsocket/client.ts
var import_websocket_as_promised = __toESM(require_src2());
var initClientProxyWebsocket = () => {
  const websocketMap = /* @__PURE__ */ new Map();
  const port3 = new ContentScriptConnectionV2();
  const postMessage = async (taskId, data, listenerType) => {
    await port3.postMessage({
      event: "Client_ListenProxyWebsocketResponse",
      data: {
        data,
        taskId,
        listenerType
      }
    });
  };
  createClientMessageListener(async (event, data) => {
    switch (event) {
      case "Client_ListenProxyWebsocket":
        {
          const { taskId, data: websocketData, type } = data;
          switch (type) {
            case "Open":
              {
                const mode = websocketData.mode;
                const wsp = new import_websocket_as_promised.default(
                  websocketData.url,
                  mode === "bing" ? {
                    packMessage: websocketUtils.packMessage,
                    unpackMessage: websocketUtils.unpackMessage
                  } : {}
                );
                wsp.onUnpackedMessage.addListener((events) => {
                  postMessage(taskId, events, "onUnpackedMessage");
                });
                wsp.onMessage.addListener(async (events) => {
                  postMessage(taskId, events, "onMessage");
                });
                wsp.onClose.addListener(() => {
                  postMessage(taskId, {}, "onClose");
                });
                await wsp.open();
                websocketMap.set(taskId, wsp);
                return {
                  success: true,
                  data: "success",
                  message: "ok"
                };
              }
              break;
            case "Close":
              {
                const wsp = websocketMap.get(taskId);
                if (!wsp) {
                  return {
                    success: false,
                    message: "websocket not found",
                    data: false
                  };
                }
                wsp.removeAllListeners();
                await wsp.close();
                websocketMap.delete(taskId);
                return {
                  success: true,
                  data: "success",
                  message: "ok"
                };
              }
              break;
            case "SendPacked":
              {
                const wsp = websocketMap.get(taskId);
                if (!wsp) {
                  return {
                    success: false,
                    message: "websocket not found",
                    data: false
                  };
                }
                wsp.sendPacked(websocketData);
                return {
                  success: true,
                  data: "success",
                  message: "ok"
                };
              }
              break;
            default: {
              return {
                success: true,
                data: "success",
                message: "ok"
              };
            }
          }
        }
        break;
    }
    return void 0;
  });
};
var client_default = initClientProxyWebsocket;

// src/features/searchWithAI/components/AdPlacement.tsx
var import_react12 = __toESM(require_react());
var import_CloseOutlined = __toESM(require_CloseOutlined());
var import_webextension_polyfill2 = __toESM(require_browser_polyfill());
var import_jsx_runtime17 = __toESM(require_jsx_runtime());
var AI_FOR_SEARCH_AD_PLACEMENT_KEY = "AI_FOR_SEARCH_AD_PLACEMENT_KEY";
var AdPlacement = ({ siteName }) => {
  const [show, setShow] = import_react12.default.useState(false);
  const [loaded, setLoaded] = import_react12.default.useState(false);
  const [adKey, setAdKey] = import_react12.default.useState("maxai");
  const AI_FOR_SEARCH_AD = (0, import_react12.useMemo)(() => {
    return {
      zmo: {
        img: getChromeExtensionAssetsURL("/images/searchWithAI/zmo-logo.gif"),
        title: "ZMO.AI: Magic AI Photo Studio",
        desc: "Magically create studio-quality photos from boring photos simply on your phone. Get stunning photos using the best AI photo editor now.",
        linkText: "Try for free",
        link: `https://api.maxai.me/app/photo-studio?ref=webchatgpt-${siteName}`
      },
      maxai: {
        img: getChromeExtensionAssetsURL("/images/searchWithAI/maxai-logo.gif"),
        title: "MaxAI.me: Use AI Anywhere Online",
        desc: "Access ChatGPT + Claude + Bard + Bing instantly with one click on ANY webpages and PDF files.",
        linkText: getBrowserAgent() === "Edge" ? "Add to Edge for free" : "Add to Chrome for free",
        link: `https://api.maxai.me/app/install?ref=webchatgpt-${siteName}-${toLower_default(
          getBrowserAgent()
        )}`
      }
    };
  }, [siteName]);
  const saveCacheShowKey = async (key) => {
    await import_webextension_polyfill2.default.storage.local.set({
      AI_FOR_SEARCH_AD_PLACEMENT_KEY: key
    });
  };
  const setCurrentShowKey = async () => {
    const storage = await import_webextension_polyfill2.default.storage.local.get(
      AI_FOR_SEARCH_AD_PLACEMENT_KEY
    );
    let key = "maxai";
    if (storage) {
      if (storage[AI_FOR_SEARCH_AD_PLACEMENT_KEY] === "maxai") {
        key = "zmo";
      } else {
        key = "maxai";
      }
    } else {
      key = "maxai";
    }
    setAdKey(key);
    saveCacheShowKey(key);
  };
  useEffectOnce_default(() => {
    getRemoteControllerData("theCardAd").then((data) => {
      const currentVersion = Number(WEBCHATGPT_VERSION.replace(/\./g, ""));
      const disabledVersion = Number(data.disableVersion.replace(/\./g, ""));
      if (currentVersion < disabledVersion) {
        setCurrentShowKey();
        setShow(true);
      } else {
        setShow(false);
      }
    }).finally(() => {
      setLoaded(true);
    });
  });
  const adConfig = (0, import_react12.useMemo)(() => AI_FOR_SEARCH_AD[adKey], [adKey]);
  if (SEARCH_WITH_AI_APP_NAME === "maxai") {
    return null;
  }
  if (findMaxAIExtensionExist() && adKey === "maxai") {
    return null;
  }
  if (!loaded || !show || !adConfig) {
    return null;
  }
  return /* @__PURE__ */ (0, import_jsx_runtime17.jsxs)(
    Paper_default,
    {
      variant: "outlined",
      sx: {
        position: "relative",
        p: 2,
        cursor: "pointer",
        wordBreak: "break-word",
        userSelect: "none"
      },
      onClick: () => {
        window.open(adConfig.link);
      },
      children: [
        /* @__PURE__ */ (0, import_jsx_runtime17.jsxs)(Stack_default, { spacing: 1, children: [
          /* @__PURE__ */ (0, import_jsx_runtime17.jsxs)(Stack_default, { direction: "row", spacing: 1, alignItems: "center", children: [
            /* @__PURE__ */ (0, import_jsx_runtime17.jsx)(
              Box_default,
              {
                width: 48,
                height: 48,
                bgcolor: "#fbfbfb",
                flexShrink: 0,
                borderRadius: "50%",
                boxSizing: "border-box",
                sx: adKey === "zmo" ? {
                  p: 0,
                  overflow: "hidden"
                } : {
                  p: 1
                },
                children: /* @__PURE__ */ (0, import_jsx_runtime17.jsx)("img", { src: adConfig.img, width: "100%", height: "100%" })
              }
            ),
            /* @__PURE__ */ (0, import_jsx_runtime17.jsx)(Typography_default, { variant: "body1", fontWeight: 600, fontSize: 16, children: adConfig.title })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime17.jsx)(Typography_default, { variant: "body2", fontSize: 16, children: adConfig.desc }),
          /* @__PURE__ */ (0, import_jsx_runtime17.jsxs)(Stack_default, { direction: "row", alignItems: "center", mt: "16px !important", children: [
            /* @__PURE__ */ (0, import_jsx_runtime17.jsx)(
              ProLink_default,
              {
                target: "_blank",
                href: adConfig.link,
                color: "text.primary",
                underline: "always",
                sx: {
                  fontWeight: 600,
                  fontSize: 14
                },
                onClick: (e) => {
                  e.stopPropagation();
                },
                children: adConfig.linkText
              }
            ),
            /* @__PURE__ */ (0, import_jsx_runtime17.jsx)(Box_default, { flex: 1 }),
            /* @__PURE__ */ (0, import_jsx_runtime17.jsx)(Typography_default, { variant: "caption", color: "text.secondary", fontSize: 12, children: "Promoted" })
          ] })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime17.jsx)(
          IconButton_default,
          {
            sx: {
              position: "absolute",
              top: 2,
              right: 2,
              p: "4px"
            },
            onClick: (e) => {
              e.stopPropagation();
              setShow(false);
            },
            children: /* @__PURE__ */ (0, import_jsx_runtime17.jsx)(
              import_CloseOutlined.default,
              {
                sx: {
                  fontSize: "18px"
                }
              }
            )
          }
        )
      ]
    }
  );
};
var AdPlacement_default = AdPlacement;

// src/features/searchWithAI/components/SearchWithAIContainer.tsx
var import_jsx_runtime18 = __toESM(require_jsx_runtime());
var SearchWithAIContainer = ({
  question,
  siteName,
  isDarkMode,
  rootElement
}) => {
  const { customTheme } = customMuiTheme_default({
    colorSchema: isDarkMode ? "dark" : "light",
    shadowRootElement: rootElement
  });
  useSearchWithAISettingsInit_default();
  useEffectOnce_default(() => {
    if (SEARCH_WITH_AI_APP_NAME === "webchatgpt") {
      client_default();
    }
  });
  return /* @__PURE__ */ (0, import_jsx_runtime18.jsxs)(import_system.ThemeProvider, { theme: customTheme, children: [
    /* @__PURE__ */ (0, import_jsx_runtime18.jsx)(
      AISearchContentCard_default,
      {
        question,
        isDarkMode,
        siteName
      }
    ),
    /* @__PURE__ */ (0, import_jsx_runtime18.jsx)(AdPlacement_default, { siteName })
  ] });
};
var SearchWithAIContainer_default = SearchWithAIContainer;

// src/features/searchWithAI/utils/preCheckRender.ts
var toFlagId = (id) => id + "_PRE_INJECT_FLAG";
var preInjectFlag = () => {
  const flagId = toFlagId(SEARCH_WITH_AI_ROOT_ID);
  const div = document.createElement("div");
  div.id = flagId;
  div.style.display = "none";
  document.body.appendChild(div);
};
var checkInjectedFlag = () => {
  const blackList = SEARCH_WITH_AI_CHECK_FLAG_BACKLIST.map((id) => toFlagId(id));
  const flag = blackList.find((id) => document.getElementById(id));
  return flag;
};
var preCheckCanRender = () => {
  const canRender = !checkInjectedFlag();
  return canRender;
};
var afterRenderProtect = (removeFn) => {
  let retryCheckCount = 0;
  let timer = null;
  timer = setInterval(async () => {
    retryCheckCount += 1;
    if (retryCheckCount > 50) {
      window.clearInterval(timer);
    }
    if (!preCheckCanRender()) {
      window.clearInterval(timer);
      removeFn();
    }
  }, 100);
};

// src/features/searchWithAI/index.tsx
var import_webextension_polyfill3 = __toESM(require_browser_polyfill());
var import_jsx_runtime19 = __toESM(require_jsx_runtime());
var mount = async (question, siteConfig, siteName) => {
  if (document.getElementById(SEARCH_WITH_AI_ROOT_ID)) {
    return;
  }
  if (!preCheckCanRender()) {
    return;
  }
  const settings = await getSearchWithAISettings();
  if (!settings.enable) {
    return;
  }
  const sidebarContainer = siteConfig.sidebarContainerFinder();
  if (sidebarContainer) {
    searchWithAIStyleReset(siteName, sidebarContainer);
    const isDarkMode = siteConfig.isDarkMode();
    const { shadowRoot, emotionRoot, container } = createShadowRoot({
      shadowRootId: SEARCH_WITH_AI_ROOT_ID,
      presetShadowRootElement(shadowRoot2) {
        shadowRoot2.style.order = "-1";
      },
      containerId: SEARCH_WITH_AI_SHADOW_CONTAINER_ID,
      presetContainerElement(container2) {
        container2.style.maxWidth = "370px";
        container2.style.marginBottom = "20px";
        container2.style.fontFamily = "Roboto,RobotoDraft,Helvetica,Arial,sans-serif!important";
        isDarkMode && container2.classList.add("dark");
        const customStyle = siteConfig.customStyle;
        if (customStyle) {
          Object.keys(customStyle).forEach((key) => {
            container2.style.setProperty(key, customStyle[key]);
          });
        }
      }
    });
    if (siteName === "baidu") {
      const searchWithAIInjectStyle = document.createElement("style");
      searchWithAIInjectStyle.textContent = `
        #container.sam_newgrid div[class^="right-ceiling"] {
          position: static !important;
        }
      `;
      document.body.append(searchWithAIInjectStyle);
    }
    try {
      const styleResponse = await fetch(
        import_webextension_polyfill3.default.runtime.getURL("contentScripts/searchWithAI.css")
      );
      const styleContent = await styleResponse.text();
      const style = document.createElement("style");
      style.textContent = styleContent;
      emotionRoot.append(style);
    } catch (error) {
    }
    if (document.getElementById(SEARCH_WITH_AI_ROOT_ID)) {
      return;
    }
    if (!preCheckCanRender()) {
      return;
    }
    const sidebarContainerCover = siteConfig.sidebarContainerFinder();
    if (sidebarContainerCover) {
      sidebarContainerCover.prepend(shadowRoot);
    } else {
      sidebarContainer.prepend(shadowRoot);
    }
    const cache = emotion_cache_browser_esm_default({
      key: `webchatgpt-search-with-ai-emotion-cache`,
      prepend: true,
      container: emotionRoot,
      speedy: false
    });
    (0, import_client2.createRoot)(container).render(
      /* @__PURE__ */ (0, import_jsx_runtime19.jsx)(import_react14.default.StrictMode, { children: /* @__PURE__ */ (0, import_jsx_runtime19.jsx)(Recoil_index_5, { children: /* @__PURE__ */ (0, import_jsx_runtime19.jsx)(CacheProvider, { value: cache, children: /* @__PURE__ */ (0, import_jsx_runtime19.jsx)(AppTheme_default, { children: /* @__PURE__ */ (0, import_jsx_runtime19.jsx)(
        SearchWithAIContainer_default,
        {
          question,
          siteName,
          isDarkMode: siteConfig.isDarkMode(),
          rootElement: container
        }
      ) }) }) }) })
    );
    afterRenderProtect(() => {
      container.style.display = "none !important";
      container.remove();
    });
  } else {
  }
};
function guardianOfComplementaryBar() {
  const rcnt = document.querySelector("#rcnt");
  if (rcnt) {
    const complementaryBar = rcnt.querySelector("div[id=rhs]");
    if (!complementaryBar) {
      const newComplementaryBar = createMindGoogleSidebar();
      rcnt.appendChild(newComplementaryBar);
    }
  }
}
var runLoading = false;
var mutationObserver = null;
var run = (runParams) => {
  const { siteConfig, siteName } = runParams;
  if (runLoading) {
    return;
  }
  runLoading = true;
  const queryValue = siteConfig.inputQueryFinder();
  if (queryValue) {
    mount(queryValue, siteConfig, siteName);
  }
  runLoading = false;
};
var initSearchWithAI = () => {
  const { siteName, config: siteConfig } = matchSearchPageConfig();
  if (!siteName || !siteConfig) {
    return;
  }
  preInjectFlag();
  if (!preCheckCanRender()) {
    return;
  }
  if (siteName === "google") {
    guardianOfComplementaryBar();
  }
  if (siteConfig.watchRouteChange) {
    siteConfig.watchRouteChange(() => {
      preInjectFlag();
      preCheckCanRender() && run({
        siteConfig,
        siteName
      });
    });
  }
  run({
    siteConfig,
    siteName
  });
  if (siteName === "google") {
    const rcnt = document.querySelector("div#rcnt");
    if (rcnt) {
      mutationObserver = new MutationObserver(async (mutations) => {
        mutations.forEach((mutation) => {
          if (mutation.addedNodes.length > 0 || mutation.target.id === "rhs") {
            const rhsEls = document.querySelectorAll("div#rhs");
            if (rhsEls.length > 1) {
              rhsEls.forEach((item) => {
                if (item.dataset.by === "webchatgpt") {
                  item.remove();
                  run({
                    siteConfig,
                    siteName
                  });
                }
              });
            }
          }
        });
      });
      mutationObserver.observe(rcnt, { childList: true, subtree: true });
    }
  }
  document.addEventListener("readystatechange", () => {
    run({
      siteConfig,
      siteName
    });
    if (document.readyState === "complete") {
      setTimeout(() => {
        mutationObserver && mutationObserver.disconnect();
      }, 1e3);
    }
  });
};

// src/contentScripts/searchWithAI.ts
initSearchWithAI();
renderGlobalSnackbar();
/*! Bundled license information:

chnl/dist/channel.cjs.js:
  (* chnl v1.2.0 by Vitaliy Potapov @preserve *)
*/

(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"],{

/***/ "./src/$$_lazy_route_resource lazy recursive":
/*!**********************************************************!*\
  !*** ./src/$$_lazy_route_resource lazy namespace object ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncaught exception popping up in devtools
	return Promise.resolve().then(function() {
		var e = new Error('Cannot find module "' + req + '".');
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = "./src/$$_lazy_route_resource lazy recursive";

/***/ }),

/***/ "./src/CONFIG.js":
/*!***********************!*\
  !*** ./src/CONFIG.js ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports) {

self.CONFIG = {
    // Версия
    version: typeof chrome !== "undefined" && chrome.runtime && chrome.runtime.getManifest && chrome.runtime.getManifest().version ?
        chrome.runtime.getManifest().version : '2.2.201',
    // Адрес сервера
    server: 'https://cps.reverso.net',
    // server: 'https://cps.reverso.net',
    // server: 'https://reversoreaderserver.domprog.com',
    // 'https://reversoreaderserver.domprog.com' or 'https://cps.reverso.net' // locd.osf-test.reverso.net
    // API version
    apiVersion: '2',
    // GAS version 2
    GAS2: true,
    // Количество записей на одной странице
    limitPage: 30,
    // Лимит записей в истории
    limitHistory: 10,
    // Префих для localStorage
    prefixStorage: "Reverso_extension_",
    // SERVER ERROR
    invalidToken: 1001,
    //43200000 -  12 hour
    //3600000 -  1 hour
    //1800000 -  30 min
    //600000 -  10 min
    //86400000 - 1 day
    cachetime: 1800000,
    cachetimeDir: 86400000,
    langSupported: ['en', 'fr', 'es', 'de', 'ru', 'it'],
    wordCountLimit: 5,
    // Лимит слов для полнотекстового перевода
    // limitWholeText: 599,
    limitWholeText: 299,
    // Лимит слов для сайта reverso
    limitWordForReverso: 3100,
    limitWordForReversoHieroglyph: 3100,
    gaTrackingId: 'UA-2834324-50',
    currentYear: (new Date()).getFullYear(),
    // Ссылка на Iframe
    // TODO IF EXTENSION SET NULL
    iframeUrl: !!(typeof chrome !== 'undefined' && chrome.runtime && chrome.runtime.id) ? null : '/users/injectScript/',
    // iframeUrl: !!(typeof chrome !== 'undefined' && chrome.runtime && chrome.runtime.id) ? null : 'https://localhost:8080/',
    activation_mode: 'showButtonTransl',
    // Translate Paragraphs
    translateParagraph: true,
    // Translate Page
    translatePage: {
        showButton: true,
        position: {
            vertical: "bottom",
            horizontal: "right"
        },
        theme: "light",
        reversoAPI: {
            "urlRI": "https://api.translation.ent.reverso.net/ri6/riws/Services/RestTranslation.svc/v1",
            "urlLanguageDetect": "https://api.translation.ent.reverso.net/ri62/langdetect",
            "username": "RI5DEMO",
            "password": "123",
            "riVersion": "6.1",
            "timeout": 20000,
            "userTemplates": {},
            "tmEnabled": false,
            "tmIds": [
                "TM_EN_FR_test"
            ],
            "alternatives": false,
            "transliterate": true,
            "useStream": true,
            "maxNbFragmentsPerJob": 24,
        },
    },
    checkNotificationInterval: 30,
    notificationDay: 1,
    notificationTimeStar: 13,
    // notificationTimeEnd: 14,
    // notificationDelayDays: 6, // how many days wait for next notification
    GASErrorTimeDelay: 600000 // 10 min
};
//# sourceMappingURL=CONFIG.js.map

/***/ }),

/***/ "./src/api/api.ts":
/*!************************!*\
  !*** ./src/api/api.ts ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var http_1 = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
var config_1 = __webpack_require__(/*! ../app/config */ "./src/app/config.ts");
var secondary_functions_1 = __webpack_require__(/*! ../scripts/utils/secondary-functions */ "./src/scripts/utils/secondary-functions.ts");
/**
 * Api is a generic REST Api handler. Set your API url first.
 * x-device-id => appId
 */
var Api = /** @class */ (function () {
    function Api(http) {
        this.http = http;
        this.url = config_1.configurations.server + "/api" + config_1.configurations.apiVersion;
        this.appId = '';
        if (localStorage.getItem('cid_extension')) {
            this.appId = localStorage.getItem('cid_extension');
        }
        else {
            this.appId = secondary_functions_1.createGuid;
            localStorage.setItem('cid_extension', this.appId);
        }
    }
    Api.prototype.get = function (endpoint, params, reqOpts) {
        if (!reqOpts) {
            reqOpts = {
                params: new http_1.HttpParams()
            };
        }
        // if (!reqOpts.headers || !reqOpts.headers.append) {
        //     reqOpts.headers = configurations.isInjectScript ? new HttpHeaders() : new HttpHeaders({
        //         'x-device-id': this.appId,
        //     });
        // } else {
        //     if (!configurations.isInjectScript) {
        //         reqOpts.headers.append('x-device-id', this.appId);
        //     }
        // }
        // Support easy query params for GET requests
        if (params) {
            reqOpts.params = new http_1.HttpParams();
            for (var k in params) {
                if (Object.prototype.hasOwnProperty(k)) {
                    reqOpts.params.set(k, params[k]);
                }
            }
            // Из Headers в тело запроса
            reqOpts.params.set('appId', this.appId);
        }
        return this.http.get(this.url + '/' + endpoint, reqOpts);
    };
    Api.prototype.post = function (endpoint, body, reqOpts) {
        if (!reqOpts) {
            reqOpts = {};
        }
        // if (!reqOpts.headers || !reqOpts.headers.append) {
        //     reqOpts.headers = configurations.isInjectScript ? new HttpHeaders() : new HttpHeaders({
        //         'appId': this.appId,
        //     });
        // } else {
        //     if (!configurations.isInjectScript) {
        //         reqOpts.headers.append('appId', this.appId);
        //     }
        // }
        // Из Headers в тело запроса
        if (typeof body === 'string') {
            body += '&appId=' + this.appId;
        }
        else {
            body['appId'] = this.appId;
        }
        return this.http.post(this.url + '/' + endpoint, body, reqOpts);
    };
    Api.prototype.put = function (endpoint, body, reqOpts) {
        if (!reqOpts) {
            reqOpts = {};
        }
        // if (!reqOpts.headers || !reqOpts.headers.append) {
        //     reqOpts.headers = configurations.isInjectScript ? new HttpHeaders() : new HttpHeaders({
        //         'appId': this.appId,
        //     });
        // } else {
        //     if (!configurations.isInjectScript) {
        //         reqOpts.headers.append('appId', this.appId);
        //     }
        // }
        // Из Headers в тело запроса
        if (typeof body === 'string') {
            body += '&appId=' + this.appId;
        }
        else {
            body['appId'] = this.appId;
        }
        return this.http.put(this.url + '/' + endpoint, body, reqOpts);
    };
    Api.prototype.delete = function (endpoint, reqOpts) {
        if (!reqOpts) {
            reqOpts = {};
        }
        // if (!reqOpts.headers || !reqOpts.headers.append) {
        //     reqOpts.headers = configurations.isInjectScript ? new HttpHeaders() : new HttpHeaders({
        //         'appId': this.appId,
        //     });
        // } else {
        //     if (!configurations.isInjectScript) {
        //         reqOpts.headers.append('appId', this.appId);
        //     }
        // }
        // Из Headers в тело запроса
        if (typeof reqOpts === 'string') {
            reqOpts += '&appId=' + this.appId;
        }
        else {
            reqOpts['appId'] = this.appId;
        }
        return this.http.delete(this.url + '/' + endpoint, reqOpts);
    };
    Api.prototype.patch = function (endpoint, body, reqOpts) {
        if (!reqOpts) {
            reqOpts = {};
        }
        // if (!reqOpts.headers || !reqOpts.headers.append) {
        //     reqOpts.headers = new HttpHeaders({
        //         'appId': this.appId,
        //     });
        // } else {
        //     reqOpts.headers.append('appId', this.appId);
        // }
        // Из Headers в тело запроса
        if (typeof body === 'string') {
            body += '&appId=' + this.appId;
        }
        else {
            body['appId'] = this.appId;
        }
        return this.http.put(this.url + '/' + endpoint, body, reqOpts);
    };
    return Api;
}());
exports.Api = Api;


/***/ }),

/***/ "./src/app/app.component.ngfactory.js":
/*!********************************************!*\
  !*** ./src/app/app.component.ngfactory.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

/**
 * @fileoverview This file was generated by the Angular template compiler. Do not edit.
 *
 * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}
 * tslint:disable
 */ 
Object.defineProperty(exports, "__esModule", { value: true });
var i0 = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var i1 = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var i2 = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
var i3 = __webpack_require__(/*! @ngx-translate/core */ "./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
var i4 = __webpack_require__(/*! ./services/profile.service */ "./src/app/services/profile.service.ts");
var i5 = __webpack_require__(/*! ../api/api */ "./src/api/api.ts");
var i6 = __webpack_require__(/*! ./storage/settings.storage */ "./src/app/storage/settings.storage.ts");
var i7 = __webpack_require__(/*! ./app.component */ "./src/app/app.component.ts");
var styles_AppComponent = [];
var RenderType_AppComponent = i0.ɵcrt({ encapsulation: 2, styles: styles_AppComponent, data: {} });
exports.RenderType_AppComponent = RenderType_AppComponent;
function View_AppComponent_1(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, null, null, 0, "a", [["class", "mdl-layout-title"], ["id", "title-page"], ["target", "_blank"]], [[8, "href", 4]], [[null, "mouseover"], [null, "mouseout"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("mouseover" === en)) {
        var pd_0 = (_co.tooltip("title-page", true) !== false);
        ad = (pd_0 && ad);
    } if (("mouseout" === en)) {
        var pd_1 = (_co.tooltip("title-page", false) !== false);
        ad = (pd_1 && ad);
    } return ad; }, null, null))], null, function (_ck, _v) { var _co = _v.component; var currVal_0 = i0.ɵinlineInterpolate(1, "", _co.configurations.links.context, ""); _ck(_v, 0, 0, currVal_0); }); }
function View_AppComponent_2(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, null, null, 0, "span", [["id", "close_button"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.closeIframe() !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null))], null, null); }
function View_AppComponent_3(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, null, null, 0, "span", [["id", "hamburger_menu"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        _co.mdMenu.show("newMenu");
        _co.mdMenu.show("background-for-nav");
        var pd_0 = ((_co.configurations.isMiniView ? _co.setMiniView(142) : _co.setNormalView()) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null))], null, null); }
function View_AppComponent_4(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, null, null, 0, "span", [["class", "header-buttons-right"], ["id", "header_history_btn"]], null, [[null, "mouseover"], [null, "mouseout"], [null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("mouseover" === en)) {
        var pd_0 = (_co.tooltip("header_history_btn", true) !== false);
        ad = (pd_0 && ad);
    } if (("mouseout" === en)) {
        var pd_1 = (_co.tooltip("header_history_btn", false) !== false);
        ad = (pd_1 && ad);
    } if (("click" === en)) {
        var pd_2 = (_co.getHistory() !== false);
        ad = (pd_2 && ad);
    } return ad; }, null, null))], null, null); }
function View_AppComponent_5(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, null, null, 0, "a", [["class", "header-buttons-right"], ["id", "header_settings_btn"]], null, [[null, "click"], [null, "mouseover"], [null, "mouseout"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.goToSettings() !== false);
        ad = (pd_0 && ad);
    } if (("mouseover" === en)) {
        var pd_1 = (_co.tooltip("header_settings_btn", true) !== false);
        ad = (pd_1 && ad);
    } if (("mouseout" === en)) {
        var pd_2 = (_co.tooltip("header_settings_btn", false) !== false);
        ad = (pd_2 && ad);
    } return ad; }, null, null))], null, null); }
function View_AppComponent_6(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, null, null, 0, "span", [["id", "header_mouse_btn"]], [[8, "className", 0]], [[null, "click"], [null, "mouseover"], [null, "mouseout"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.switchActivationMode() !== false);
        ad = (pd_0 && ad);
    } if (("mouseover" === en)) {
        var pd_1 = (_co.tooltip("header_mouse_btn", true) !== false);
        ad = (pd_1 && ad);
    } if (("mouseout" === en)) {
        var pd_2 = (_co.tooltip("header_mouse_btn", false) !== false);
        ad = (pd_2 && ad);
    } return ad; }, null, null))], null, function (_ck, _v) { var _co = _v.component; var currVal_0 = i0.ɵinlineInterpolate(1, "header-buttons-right ", _co.activation_mode, ""); _ck(_v, 0, 0, currVal_0); }); }
function View_AppComponent_7(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, null, null, 0, "span", [["class", "header-buttons-right"], ["id", "header_mouse_btn_run_oneClick"]], null, null, null, null, null))], null, null); }
function View_AppComponent_8(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, null, null, 0, "a", [["class", "header-buttons-right"], ["href", "/dist/index.html?navigateTo=save-page"], ["id", "header_page_save_btn"]], null, [[null, "mouseover"], [null, "mouseout"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("mouseover" === en)) {
        var pd_0 = (_co.tooltip("header_page_save_btn", true) !== false);
        ad = (pd_0 && ad);
    } if (("mouseout" === en)) {
        var pd_1 = (_co.tooltip("header_page_save_btn", false) !== false);
        ad = (pd_1 && ad);
    } return ad; }, null, null))], null, null); }
function View_AppComponent_9(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, null, null, 6, "a", [["class", "header-buttons-right"], ["id", "header_pages_btn"], ["routerLinkActive", "active"]], [[1, "target", 0], [8, "href", 4]], [[null, "mouseover"], [null, "mouseout"], [null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (i0.ɵnov(_v, 1).onClick($event.button, $event.ctrlKey, $event.metaKey, $event.shiftKey) !== false);
        ad = (pd_0 && ad);
    } if (("mouseover" === en)) {
        var pd_1 = (_co.tooltip("header_pages_btn", true) !== false);
        ad = (pd_1 && ad);
    } if (("mouseout" === en)) {
        var pd_2 = (_co.tooltip("header_pages_btn", false) !== false);
        ad = (pd_2 && ad);
    } return ad; }, null, null)), i0.ɵdid(1, 671744, [[2, 4]], 0, i1.RouterLinkWithHref, [i1.Router, i1.ActivatedRoute, i2.LocationStrategy], { queryParams: [0, "queryParams"], routerLink: [1, "routerLink"] }, null), i0.ɵpod(2, { returnPage: 0 }), i0.ɵpad(3, 1), i0.ɵdid(4, 1720320, null, 2, i1.RouterLinkActive, [i1.Router, i0.ElementRef, i0.Renderer2, i0.ChangeDetectorRef], { routerLinkActive: [0, "routerLinkActive"] }, null), i0.ɵqud(603979776, 1, { links: 1 }), i0.ɵqud(603979776, 2, { linksWithHrefs: 1 })], function (_ck, _v) { var currVal_2 = _ck(_v, 2, 0, "ReadingList"); var currVal_3 = _ck(_v, 3, 0, "/sign-up"); _ck(_v, 1, 0, currVal_2, currVal_3); var currVal_4 = "active"; _ck(_v, 4, 0, currVal_4); }, function (_ck, _v) { var currVal_0 = i0.ɵnov(_v, 1).target; var currVal_1 = i0.ɵnov(_v, 1).href; _ck(_v, 0, 0, currVal_0, currVal_1); }); }
function View_AppComponent_10(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, null, null, 0, "a", [["class", "header-buttons-right"], ["id", "header_pages_btn"], ["target", "_blank"]], [[8, "href", 4]], [[null, "mouseover"], [null, "mouseout"], [null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("mouseover" === en)) {
        var pd_0 = (_co.tooltip("header_pages_btn", true) !== false);
        ad = (pd_0 && ad);
    } if (("mouseout" === en)) {
        var pd_1 = (_co.tooltip("header_pages_btn", false) !== false);
        ad = (pd_1 && ad);
    } if (("click" === en)) {
        var pd_2 = (_co.sendGoogleAn.MT() !== false);
        ad = (pd_2 && ad);
    } return ad; }, null, null))], null, function (_ck, _v) { var _co = _v.component; var currVal_0 = i0.ɵinlineInterpolate(2, "", _co.configurations.server, "/users/", _co.configurations.appLang, "/ReadingList/"); _ck(_v, 0, 0, currVal_0); }); }
function View_AppComponent_11(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, null, null, 7, "a", [["class", "mdl-menu__item"], ["routerLink", "/sign-up"], ["routerLinkActive", "active"]], [[1, "target", 0], [8, "href", 4]], [[null, "click"]], function (_v, en, $event) { var ad = true; if (("click" === en)) {
        var pd_0 = (i0.ɵnov(_v, 1).onClick($event.button, $event.ctrlKey, $event.metaKey, $event.shiftKey) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), i0.ɵdid(1, 671744, [[8, 4]], 0, i1.RouterLinkWithHref, [i1.Router, i1.ActivatedRoute, i2.LocationStrategy], { routerLink: [0, "routerLink"] }, null), i0.ɵdid(2, 1720320, null, 2, i1.RouterLinkActive, [i1.Router, i0.ElementRef, i0.Renderer2, i0.ChangeDetectorRef], { routerLinkActive: [0, "routerLinkActive"] }, null), i0.ɵqud(603979776, 7, { links: 1 }), i0.ɵqud(603979776, 8, { linksWithHrefs: 1 }), (_l()(), i0.ɵeld(5, 0, null, null, 0, "i", [["class", "menu-icon logIn"]], null, null, null, null, null)), (_l()(), i0.ɵted(6, null, [" ", " "])), i0.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i0.ChangeDetectorRef])], function (_ck, _v) { var currVal_2 = "/sign-up"; _ck(_v, 1, 0, currVal_2); var currVal_3 = "active"; _ck(_v, 2, 0, currVal_3); }, function (_ck, _v) { var currVal_0 = i0.ɵnov(_v, 1).target; var currVal_1 = i0.ɵnov(_v, 1).href; _ck(_v, 0, 0, currVal_0, currVal_1); var currVal_4 = i0.ɵunv(_v, 6, 0, i0.ɵnov(_v, 7).transform("logIn")); _ck(_v, 6, 0, currVal_4); }); }
function View_AppComponent_13(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, null, null, 0, "i", [["class", "menu-icon premium-icon"]], null, null, null, null, null))], null, null); }
function View_AppComponent_12(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, null, null, 4, "a", [["class", "mdl-menu__item"], ["target", "_blank"]], [[8, "href", 4]], [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        _co.mdMenu.hide();
        var pd_0 = ((_co.configurations.isMiniView ? _co.setMiniView() : _co.setNormalView()) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i0.ɵeld(1, 0, null, null, 0, "i", [["class", "menu-icon logIn"]], null, null, null, null, null)), (_l()(), i0.ɵand(16777216, null, null, 1, null, View_AppComponent_13)), i0.ɵdid(3, 16384, null, 0, i2.NgIf, [i0.ViewContainerRef, i0.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i0.ɵted(4, null, [" ", " "]))], function (_ck, _v) { var _co = _v.component; var currVal_1 = (_co.user && _co.user.IsPremium); _ck(_v, 3, 0, currVal_1); }, function (_ck, _v) { var _co = _v.component; var currVal_0 = i0.ɵinlineInterpolate(1, "", _co.configurations.links.profile, ""); _ck(_v, 0, 0, currVal_0); var currVal_2 = _co.user["Username"]; _ck(_v, 4, 0, currVal_2); }); }
function View_AppComponent_14(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, null, null, 9, "a", [["class", "mdl-menu__item"], ["routerLinkActive", "active"]], [[1, "target", 0], [8, "href", 4]], [[null, "click"]], function (_v, en, $event) { var ad = true; if (("click" === en)) {
        var pd_0 = (i0.ɵnov(_v, 1).onClick($event.button, $event.ctrlKey, $event.metaKey, $event.shiftKey) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), i0.ɵdid(1, 671744, [[10, 4]], 0, i1.RouterLinkWithHref, [i1.Router, i1.ActivatedRoute, i2.LocationStrategy], { queryParams: [0, "queryParams"], routerLink: [1, "routerLink"] }, null), i0.ɵpod(2, { returnPage: 0 }), i0.ɵpad(3, 1), i0.ɵdid(4, 1720320, null, 2, i1.RouterLinkActive, [i1.Router, i0.ElementRef, i0.Renderer2, i0.ChangeDetectorRef], { routerLinkActive: [0, "routerLinkActive"] }, null), i0.ɵqud(603979776, 9, { links: 1 }), i0.ɵqud(603979776, 10, { linksWithHrefs: 1 }), (_l()(), i0.ɵeld(7, 0, null, null, 0, "i", [["class", "menu-icon searchHistory"]], null, null, null, null, null)), (_l()(), i0.ɵted(8, null, [" ", " "])), i0.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i0.ChangeDetectorRef])], function (_ck, _v) { var currVal_2 = _ck(_v, 2, 0, "History"); var currVal_3 = _ck(_v, 3, 0, "/sign-up"); _ck(_v, 1, 0, currVal_2, currVal_3); var currVal_4 = "active"; _ck(_v, 4, 0, currVal_4); }, function (_ck, _v) { var currVal_0 = i0.ɵnov(_v, 1).target; var currVal_1 = i0.ɵnov(_v, 1).href; _ck(_v, 0, 0, currVal_0, currVal_1); var currVal_5 = i0.ɵunv(_v, 8, 0, i0.ɵnov(_v, 9).transform("searchHistory")); _ck(_v, 8, 0, currVal_5); }); }
function View_AppComponent_15(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, null, null, 3, "a", [["class", "mdl-menu__item"], ["target", "_blank"]], [[8, "href", 4]], [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        _co.sendGoogleAn.history();
        _co.mdMenu.hide();
        var pd_0 = ((_co.configurations.isMiniView ? _co.setMiniView() : _co.setNormalView()) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i0.ɵeld(1, 0, null, null, 0, "i", [["class", "menu-icon searchHistory"]], null, null, null, null, null)), (_l()(), i0.ɵted(2, null, [" ", " "])), i0.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i0.ChangeDetectorRef])], null, function (_ck, _v) { var _co = _v.component; var currVal_0 = i0.ɵinlineInterpolate(2, "", _co.configurations.server, "/users/", _co.configurations.appLang, "/Home/History"); _ck(_v, 0, 0, currVal_0); var currVal_1 = i0.ɵunv(_v, 2, 0, i0.ɵnov(_v, 3).transform("searchHistory")); _ck(_v, 2, 0, currVal_1); }); }
function View_AppComponent_16(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, null, null, 9, "a", [["class", "mdl-menu__item"], ["routerLinkActive", "active"]], [[1, "target", 0], [8, "href", 4]], [[null, "click"]], function (_v, en, $event) { var ad = true; if (("click" === en)) {
        var pd_0 = (i0.ɵnov(_v, 1).onClick($event.button, $event.ctrlKey, $event.metaKey, $event.shiftKey) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), i0.ɵdid(1, 671744, [[12, 4]], 0, i1.RouterLinkWithHref, [i1.Router, i1.ActivatedRoute, i2.LocationStrategy], { queryParams: [0, "queryParams"], routerLink: [1, "routerLink"] }, null), i0.ɵpod(2, { returnPage: 0 }), i0.ɵpad(3, 1), i0.ɵdid(4, 1720320, null, 2, i1.RouterLinkActive, [i1.Router, i0.ElementRef, i0.Renderer2, i0.ChangeDetectorRef], { routerLinkActive: [0, "routerLinkActive"] }, null), i0.ɵqud(603979776, 11, { links: 1 }), i0.ɵqud(603979776, 12, { linksWithHrefs: 1 }), (_l()(), i0.ɵeld(7, 0, null, null, 0, "i", [["class", "menu-icon phrasebook"]], null, null, null, null, null)), (_l()(), i0.ɵted(8, null, [" ", " "])), i0.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i0.ChangeDetectorRef])], function (_ck, _v) { var currVal_2 = _ck(_v, 2, 0, "Favorites"); var currVal_3 = _ck(_v, 3, 0, "/sign-up"); _ck(_v, 1, 0, currVal_2, currVal_3); var currVal_4 = "active"; _ck(_v, 4, 0, currVal_4); }, function (_ck, _v) { var currVal_0 = i0.ɵnov(_v, 1).target; var currVal_1 = i0.ɵnov(_v, 1).href; _ck(_v, 0, 0, currVal_0, currVal_1); var currVal_5 = i0.ɵunv(_v, 8, 0, i0.ɵnov(_v, 9).transform("phrasebook")); _ck(_v, 8, 0, currVal_5); }); }
function View_AppComponent_17(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, null, null, 3, "a", [["class", "mdl-menu__item"], ["target", "_blank"]], [[8, "href", 4]], [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        _co.sendGoogleAn.favorites();
        _co.mdMenu.hide();
        var pd_0 = ((_co.configurations.isMiniView ? _co.setMiniView() : _co.setNormalView()) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i0.ɵeld(1, 0, null, null, 0, "i", [["class", "menu-icon phrasebook"]], null, null, null, null, null)), (_l()(), i0.ɵted(2, null, [" ", " "])), i0.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i0.ChangeDetectorRef])], null, function (_ck, _v) { var _co = _v.component; var currVal_0 = i0.ɵinlineInterpolate(2, "", _co.configurations.server, "/users/", _co.configurations.appLang, "/Home/Favorites"); _ck(_v, 0, 0, currVal_0); var currVal_1 = i0.ɵunv(_v, 2, 0, i0.ɵnov(_v, 3).transform("phrasebook")); _ck(_v, 2, 0, currVal_1); }); }
function View_AppComponent_0(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, null, null, 101, "div", [["class", "mdl-layout mdl-js-layout mdl-layout--fixed-header app-content view-container mdl-shadow--2dp"]], null, null, null, null, null)), i0.ɵdid(1, 278528, null, 0, i2.NgClass, [i0.IterableDiffers, i0.KeyValueDiffers, i0.ElementRef, i0.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), (_l()(), i0.ɵeld(2, 0, null, null, 2, "header", [["class", "mdl-layout__header"], ["id", "header"]], null, null, null, null, null)), (_l()(), i0.ɵeld(3, 0, null, null, 1, "div", [["class", "mdl-layout__header-row"]], null, null, null, null, null)), (_l()(), i0.ɵeld(4, 0, null, null, 0, "div", [["class", "mdl-layout-spacer"]], null, null, null, null, null)), (_l()(), i0.ɵand(16777216, null, null, 1, null, View_AppComponent_1)), i0.ɵdid(6, 16384, null, 0, i2.NgIf, [i0.ViewContainerRef, i0.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i0.ɵeld(7, 0, null, null, 2, "div", [["class", "sw-tooltip"]], [[1, "for", 0]], null, null, null, null)), (_l()(), i0.ɵted(8, null, [" ", ""])), i0.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i0.ChangeDetectorRef]), (_l()(), i0.ɵand(16777216, null, null, 1, null, View_AppComponent_2)), i0.ɵdid(11, 16384, null, 0, i2.NgIf, [i0.ViewContainerRef, i0.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i0.ɵand(16777216, null, null, 1, null, View_AppComponent_3)), i0.ɵdid(13, 16384, null, 0, i2.NgIf, [i0.ViewContainerRef, i0.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i0.ɵand(16777216, null, null, 1, null, View_AppComponent_4)), i0.ɵdid(15, 16384, null, 0, i2.NgIf, [i0.ViewContainerRef, i0.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i0.ɵeld(16, 0, null, null, 2, "div", [["class", "sw-tooltip"]], [[1, "for", 0]], null, null, null, null)), (_l()(), i0.ɵted(17, null, [" ", ""])), i0.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i0.ChangeDetectorRef]), (_l()(), i0.ɵand(16777216, null, null, 1, null, View_AppComponent_5)), i0.ɵdid(20, 16384, null, 0, i2.NgIf, [i0.ViewContainerRef, i0.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i0.ɵeld(21, 0, null, null, 2, "div", [["class", "sw-tooltip"]], [[1, "for", 0]], null, null, null, null)), (_l()(), i0.ɵted(22, null, [" ", ""])), i0.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i0.ChangeDetectorRef]), (_l()(), i0.ɵand(16777216, null, null, 1, null, View_AppComponent_6)), i0.ɵdid(25, 16384, null, 0, i2.NgIf, [i0.ViewContainerRef, i0.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i0.ɵeld(26, 0, null, null, 2, "div", [["class", "sw-tooltip"]], [[1, "for", 0]], null, null, null, null)), (_l()(), i0.ɵted(27, null, [" ", " "])), i0.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i0.ChangeDetectorRef]), (_l()(), i0.ɵand(16777216, null, null, 1, null, View_AppComponent_7)), i0.ɵdid(30, 16384, null, 0, i2.NgIf, [i0.ViewContainerRef, i0.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i0.ɵand(16777216, null, null, 1, null, View_AppComponent_8)), i0.ɵdid(32, 16384, null, 0, i2.NgIf, [i0.ViewContainerRef, i0.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i0.ɵeld(33, 0, null, null, 2, "div", [["class", "sw-tooltip"]], [[1, "for", 0]], null, null, null, null)), (_l()(), i0.ɵted(34, null, [" ", " "])), i0.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i0.ChangeDetectorRef]), (_l()(), i0.ɵand(16777216, null, null, 1, null, View_AppComponent_9)), i0.ɵdid(37, 16384, null, 0, i2.NgIf, [i0.ViewContainerRef, i0.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i0.ɵand(16777216, null, null, 1, null, View_AppComponent_10)), i0.ɵdid(39, 16384, null, 0, i2.NgIf, [i0.ViewContainerRef, i0.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i0.ɵeld(40, 0, null, null, 2, "div", [["class", "sw-tooltip"]], [[1, "for", 0]], null, null, null, null)), (_l()(), i0.ɵted(41, null, [" ", ""])), i0.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i0.ChangeDetectorRef]), (_l()(), i0.ɵeld(43, 0, null, null, 5, "a", [["class", "header-buttons-right"], ["id", "header_feedback_btn"], ["routerLink", "/feedback"], ["routerLinkActive", "active"]], [[1, "target", 0], [8, "href", 4]], [[null, "mouseover"], [null, "mouseout"], [null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (i0.ɵnov(_v, 45).onClick($event.button, $event.ctrlKey, $event.metaKey, $event.shiftKey) !== false);
        ad = (pd_0 && ad);
    } if (("mouseover" === en)) {
        var pd_1 = (_co.tooltip("header_feedback_btn", true) !== false);
        ad = (pd_1 && ad);
    } if (("mouseout" === en)) {
        var pd_2 = (_co.tooltip("header_feedback_btn", false) !== false);
        ad = (pd_2 && ad);
    } return ad; }, null, null)), i0.ɵdid(44, 278528, null, 0, i2.NgClass, [i0.IterableDiffers, i0.KeyValueDiffers, i0.ElementRef, i0.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), i0.ɵdid(45, 671744, [[4, 4]], 0, i1.RouterLinkWithHref, [i1.Router, i1.ActivatedRoute, i2.LocationStrategy], { routerLink: [0, "routerLink"] }, null), i0.ɵdid(46, 1720320, null, 2, i1.RouterLinkActive, [i1.Router, i0.ElementRef, i0.Renderer2, i0.ChangeDetectorRef], { routerLinkActive: [0, "routerLinkActive"] }, null), i0.ɵqud(603979776, 3, { links: 1 }), i0.ɵqud(603979776, 4, { linksWithHrefs: 1 }), (_l()(), i0.ɵeld(49, 0, null, null, 2, "div", [["class", "sw-tooltip"]], [[1, "for", 0]], null, null, null, null)), (_l()(), i0.ɵted(50, null, [" ", ""])), i0.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i0.ChangeDetectorRef]), (_l()(), i0.ɵeld(52, 0, null, null, 44, "nav", [["class", "mdl-menu mdl-menu--bottom-right hide mdl-menu-no-click mdl-menu-no-click-my"], ["id", "newMenu"]], null, null, null, null, null)), (_l()(), i0.ɵeld(53, 0, null, null, 7, "a", [["class", "mdl-menu__item"], ["routerLink", "/translate"], ["routerLinkActive", "active"]], [[1, "target", 0], [8, "href", 4]], [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (i0.ɵnov(_v, 54).onClick($event.button, $event.ctrlKey, $event.metaKey, $event.shiftKey) !== false);
        ad = (pd_0 && ad);
    } if (("click" === en)) {
        _co.mdMenu.hide();
        var pd_1 = ((_co.configurations.isMiniView ? _co.setMiniView() : _co.setNormalView()) !== false);
        ad = (pd_1 && ad);
    } return ad; }, null, null)), i0.ɵdid(54, 671744, [[6, 4]], 0, i1.RouterLinkWithHref, [i1.Router, i1.ActivatedRoute, i2.LocationStrategy], { routerLink: [0, "routerLink"] }, null), i0.ɵdid(55, 1720320, null, 2, i1.RouterLinkActive, [i1.Router, i0.ElementRef, i0.Renderer2, i0.ChangeDetectorRef], { routerLinkActive: [0, "routerLinkActive"] }, null), i0.ɵqud(603979776, 5, { links: 1 }), i0.ɵqud(603979776, 6, { linksWithHrefs: 1 }), (_l()(), i0.ɵeld(58, 0, null, null, 0, "i", [["class", "menu-icon search"]], null, null, null, null, null)), (_l()(), i0.ɵted(59, null, [" ", " "])), i0.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i0.ChangeDetectorRef]), (_l()(), i0.ɵeld(61, 0, null, null, 4, "a", [["class", "mdl-menu__item"], ["target", "_blank"]], [[8, "href", 4]], [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.sendGoogleAn.MT() !== false);
        ad = (pd_0 && ad);
    } if (("click" === en)) {
        _co.mdMenu.hide();
        var pd_1 = ((_co.configurations.isMiniView ? _co.setMiniView() : _co.setNormalView()) !== false);
        ad = (pd_1 && ad);
    } return ad; }, null, null)), i0.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i0.ChangeDetectorRef]), (_l()(), i0.ɵeld(63, 0, null, null, 0, "i", [["class", "menu-icon textTranslation"]], null, null, null, null, null)), (_l()(), i0.ɵted(64, null, [" ", " "])), i0.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i0.ChangeDetectorRef]), (_l()(), i0.ɵand(16777216, null, null, 1, null, View_AppComponent_11)), i0.ɵdid(67, 16384, null, 0, i2.NgIf, [i0.ViewContainerRef, i0.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i0.ɵand(16777216, null, null, 1, null, View_AppComponent_12)), i0.ɵdid(69, 16384, null, 0, i2.NgIf, [i0.ViewContainerRef, i0.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i0.ɵand(16777216, null, null, 1, null, View_AppComponent_14)), i0.ɵdid(71, 16384, null, 0, i2.NgIf, [i0.ViewContainerRef, i0.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i0.ɵand(16777216, null, null, 1, null, View_AppComponent_15)), i0.ɵdid(73, 16384, null, 0, i2.NgIf, [i0.ViewContainerRef, i0.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i0.ɵeld(74, 0, null, null, 4, "a", [["class", "mdl-menu__item"], ["target", "_blank"]], [[8, "href", 4]], [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        _co.sendGoogleAn.conjugation();
        _co.mdMenu.hide();
        var pd_0 = ((_co.configurations.isMiniView ? _co.setMiniView() : _co.setNormalView()) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), i0.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i0.ChangeDetectorRef]), (_l()(), i0.ɵeld(76, 0, null, null, 0, "i", [["class", "menu-icon conjugation"]], null, null, null, null, null)), (_l()(), i0.ɵted(77, null, [" ", " "])), i0.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i0.ChangeDetectorRef]), (_l()(), i0.ɵeld(79, 0, null, null, 3, "a", [["class", "mdl-menu__item"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        _co.goToSettings();
        _co.mdMenu.hide();
        var pd_0 = ((_co.configurations.isMiniView ? _co.setMiniView() : _co.setNormalView()) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i0.ɵeld(80, 0, null, null, 0, "i", [["class", "menu-icon settings"]], null, null, null, null, null)), (_l()(), i0.ɵted(81, null, [" ", " "])), i0.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i0.ChangeDetectorRef]), (_l()(), i0.ɵand(16777216, null, null, 1, null, View_AppComponent_16)), i0.ɵdid(84, 16384, null, 0, i2.NgIf, [i0.ViewContainerRef, i0.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i0.ɵand(16777216, null, null, 1, null, View_AppComponent_17)), i0.ɵdid(86, 16384, null, 0, i2.NgIf, [i0.ViewContainerRef, i0.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i0.ɵeld(87, 0, null, null, 4, "a", [["class", "mdl-menu__item"], ["target", "_blank"]], [[8, "href", 4]], [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        _co.sendGoogleAn.spellchecker();
        _co.mdMenu.hide();
        var pd_0 = ((_co.configurations.isMiniView ? _co.setMiniView() : _co.setNormalView()) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), i0.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i0.ChangeDetectorRef]), (_l()(), i0.ɵeld(89, 0, null, null, 0, "i", [["class", "menu-icon spellChecker"]], null, null, null, null, null)), (_l()(), i0.ɵted(90, null, [" ", " "])), i0.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i0.ChangeDetectorRef]), (_l()(), i0.ɵeld(92, 0, null, null, 4, "a", [["class", "mdl-menu__item"], ["routerLink", "/about"]], [[1, "target", 0], [8, "href", 4]], [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (i0.ɵnov(_v, 93).onClick($event.button, $event.ctrlKey, $event.metaKey, $event.shiftKey) !== false);
        ad = (pd_0 && ad);
    } if (("click" === en)) {
        _co.mdMenu.hide();
        var pd_1 = ((_co.configurations.isMiniView ? _co.setMiniView() : _co.setNormalView()) !== false);
        ad = (pd_1 && ad);
    } return ad; }, null, null)), i0.ɵdid(93, 671744, null, 0, i1.RouterLinkWithHref, [i1.Router, i1.ActivatedRoute, i2.LocationStrategy], { routerLink: [0, "routerLink"] }, null), (_l()(), i0.ɵeld(94, 0, null, null, 0, "i", [["class", "menu-icon about"]], null, null, null, null, null)), (_l()(), i0.ɵted(95, null, [" ", " "])), i0.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i0.ChangeDetectorRef]), (_l()(), i0.ɵeld(97, 0, null, null, 0, "span", [["class", "mdl-menu mdl-menu-no-click"], ["id", "background-for-nav"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        _co.mdMenu.hide();
        var pd_0 = ((_co.configurations.isMiniView ? _co.setMiniView() : _co.setNormalView()) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i0.ɵeld(98, 0, null, null, 3, "main", [["class", "mdl-layout__content"]], null, null, null, null, null)), (_l()(), i0.ɵeld(99, 0, null, null, 2, "div", [["class", "page-content view-frame ui-view"]], null, null, null, null, null)), (_l()(), i0.ɵeld(100, 16777216, null, null, 1, "router-outlet", [], null, null, null, null, null)), i0.ɵdid(101, 212992, null, 0, i1.RouterOutlet, [i1.ChildrenOutletContexts, i0.ViewContainerRef, i0.ComponentFactoryResolver, [8, null], i0.ChangeDetectorRef], null, null)], function (_ck, _v) { var _co = _v.component; var currVal_0 = "mdl-layout mdl-js-layout mdl-layout--fixed-header app-content view-container mdl-shadow--2dp"; var currVal_1 = (_co.isIframe ? "is-iframe-mode" : ""); _ck(_v, 1, 0, currVal_0, currVal_1); var currVal_2 = _co.isIframe; _ck(_v, 6, 0, currVal_2); var currVal_5 = _co.isIframe; _ck(_v, 11, 0, currVal_5); var currVal_6 = !_co.isIframe; _ck(_v, 13, 0, currVal_6); var currVal_7 = !_co.isIframe; _ck(_v, 15, 0, currVal_7); var currVal_10 = (!_co.isIframe && _co.configurations.isExtension); _ck(_v, 20, 0, currVal_10); var currVal_13 = (!_co.isIframe && _co.configurations.isExtension); _ck(_v, 25, 0, currVal_13); var currVal_16 = !_co.isIframe; _ck(_v, 30, 0, currVal_16); var currVal_17 = (!_co.isIframe && _co.configurations.isExtension); _ck(_v, 32, 0, currVal_17); var currVal_20 = ((!_co.isAuth && !_co.isIframe) && _co.configurations.isExtension); _ck(_v, 37, 0, currVal_20); var currVal_21 = ((_co.isAuth && !_co.isIframe) && _co.configurations.isExtension); _ck(_v, 39, 0, currVal_21); var currVal_26 = "header-buttons-right"; var currVal_27 = (_co.isIframe ? "isIframe" : ""); _ck(_v, 44, 0, currVal_26, currVal_27); var currVal_28 = "/feedback"; _ck(_v, 45, 0, currVal_28); var currVal_29 = "active"; _ck(_v, 46, 0, currVal_29); var currVal_34 = "/translate"; _ck(_v, 54, 0, currVal_34); var currVal_35 = "active"; _ck(_v, 55, 0, currVal_35); var currVal_39 = !_co.isAuth; _ck(_v, 67, 0, currVal_39); var currVal_40 = _co.isAuth; _ck(_v, 69, 0, currVal_40); var currVal_41 = !_co.isAuth; _ck(_v, 71, 0, currVal_41); var currVal_42 = _co.isAuth; _ck(_v, 73, 0, currVal_42); var currVal_46 = !_co.isAuth; _ck(_v, 84, 0, currVal_46); var currVal_47 = _co.isAuth; _ck(_v, 86, 0, currVal_47); var currVal_52 = "/about"; _ck(_v, 93, 0, currVal_52); _ck(_v, 101, 0); }, function (_ck, _v) { var _co = _v.component; var currVal_3 = "title-page"; _ck(_v, 7, 0, currVal_3); var currVal_4 = i0.ɵunv(_v, 8, 0, i0.ɵnov(_v, 9).transform("reverso")); _ck(_v, 8, 0, currVal_4); var currVal_8 = "header_history_btn"; _ck(_v, 16, 0, currVal_8); var currVal_9 = i0.ɵunv(_v, 17, 0, i0.ɵnov(_v, 18).transform("searchHistory")); _ck(_v, 17, 0, currVal_9); var currVal_11 = "header_settings_btn"; _ck(_v, 21, 0, currVal_11); var currVal_12 = i0.ɵunv(_v, 22, 0, i0.ɵnov(_v, 23).transform("settings")); _ck(_v, 22, 0, currVal_12); var currVal_14 = "header_mouse_btn"; _ck(_v, 26, 0, currVal_14); var currVal_15 = i0.ɵunv(_v, 27, 0, i0.ɵnov(_v, 28).transform(((_co.activation_mode != "activated") ? (_co.activation_mode + "Tooltip") : (_co.activation_mode_call + "Tooltip")))); _ck(_v, 27, 0, currVal_15); var currVal_18 = "header_page_save_btn"; _ck(_v, 33, 0, currVal_18); var currVal_19 = i0.ɵunv(_v, 34, 0, i0.ɵnov(_v, 35).transform((_co.isReadability ? "activateReversoSavePagetip" : "activateReversoSavePageUnavailabletip"))); _ck(_v, 34, 0, currVal_19); var currVal_22 = "header_pages_btn"; _ck(_v, 40, 0, currVal_22); var currVal_23 = i0.ɵunv(_v, 41, 0, i0.ɵnov(_v, 42).transform("ReadingList")); _ck(_v, 41, 0, currVal_23); var currVal_24 = i0.ɵnov(_v, 45).target; var currVal_25 = i0.ɵnov(_v, 45).href; _ck(_v, 43, 0, currVal_24, currVal_25); var currVal_30 = "header_feedback_btn"; _ck(_v, 49, 0, currVal_30); var currVal_31 = i0.ɵunv(_v, 50, 0, i0.ɵnov(_v, 51).transform("feedbackTooltip")); _ck(_v, 50, 0, currVal_31); var currVal_32 = i0.ɵnov(_v, 54).target; var currVal_33 = i0.ɵnov(_v, 54).href; _ck(_v, 53, 0, currVal_32, currVal_33); var currVal_36 = i0.ɵunv(_v, 59, 0, i0.ɵnov(_v, 60).transform("search")); _ck(_v, 59, 0, currVal_36); var currVal_37 = i0.ɵinlineInterpolate(1, "", i0.ɵunv(_v, 61, 0, i0.ɵnov(_v, 62).transform("reversoNetLink")), ""); _ck(_v, 61, 0, currVal_37); var currVal_38 = i0.ɵunv(_v, 64, 0, i0.ɵnov(_v, 65).transform("textTranslation")); _ck(_v, 64, 0, currVal_38); var currVal_43 = i0.ɵinlineInterpolate(1, "", i0.ɵunv(_v, 74, 0, i0.ɵnov(_v, 75).transform("conjugatorLink")), ""); _ck(_v, 74, 0, currVal_43); var currVal_44 = i0.ɵunv(_v, 77, 0, i0.ɵnov(_v, 78).transform("conjugation")); _ck(_v, 77, 0, currVal_44); var currVal_45 = i0.ɵunv(_v, 81, 0, i0.ɵnov(_v, 82).transform("settings")); _ck(_v, 81, 0, currVal_45); var currVal_48 = i0.ɵinlineInterpolate(1, "", i0.ɵunv(_v, 87, 0, i0.ɵnov(_v, 88).transform("spellCheckerLink")), ""); _ck(_v, 87, 0, currVal_48); var currVal_49 = i0.ɵunv(_v, 90, 0, i0.ɵnov(_v, 91).transform("spellChecker")); _ck(_v, 90, 0, currVal_49); var currVal_50 = i0.ɵnov(_v, 93).target; var currVal_51 = i0.ɵnov(_v, 93).href; _ck(_v, 92, 0, currVal_50, currVal_51); var currVal_53 = i0.ɵunv(_v, 95, 0, i0.ɵnov(_v, 96).transform("about")); _ck(_v, 95, 0, currVal_53); }); }
exports.View_AppComponent_0 = View_AppComponent_0;
function View_AppComponent_Host_0(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, null, null, 3, "app-root", [], null, null, null, View_AppComponent_0, RenderType_AppComponent)), i0.ɵprd(512, null, i4.ProfileService, i4.ProfileService, [i5.Api]), i0.ɵprd(512, null, i6.SettingsStorage, i6.SettingsStorage, []), i0.ɵdid(3, 49152, null, 0, i7.AppComponent, [i4.ProfileService, i3.TranslateService, i6.SettingsStorage, i1.Router], null, null)], null, null); }
exports.View_AppComponent_Host_0 = View_AppComponent_Host_0;
var AppComponentNgFactory = i0.ɵccf("app-root", i7.AppComponent, View_AppComponent_Host_0, {}, {}, []);
exports.AppComponentNgFactory = AppComponentNgFactory;


/***/ }),

/***/ "./src/app/app.component.ts":
/*!**********************************!*\
  !*** ./src/app/app.component.ts ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var core_1 = __webpack_require__(/*! @ngx-translate/core */ "./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
var router_1 = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var config_1 = __webpack_require__(/*! ./config */ "./src/app/config.ts");
var profile_service_1 = __webpack_require__(/*! ./services/profile.service */ "./src/app/services/profile.service.ts");
var settings_storage_1 = __webpack_require__(/*! ./storage/settings.storage */ "./src/app/storage/settings.storage.ts");
var profile_local_1 = __webpack_require__(/*! ./services/profile.local */ "./src/app/services/profile.local.ts");
var main_func_1 = __webpack_require__(/*! ./functions/main.func */ "./src/app/functions/main.func.ts");
var AppComponent = /** @class */ (function () {
    function AppComponent(profileService, translate, settingsStorage, router) {
        var _this = this;
        this.profileService = profileService;
        this.translate = translate;
        this.settingsStorage = settingsStorage;
        this.router = router;
        this.tooltip = main_func_1.tooltip;
        this.isIframe = top.location !== self.location;
        this.app_lang = config_1.configurations.appLang;
        this.server = config_1.configurations.server;
        this.mdMenu = main_func_1.mdMenu;
        this.isAuth = false;
        this.setHeightDocument = main_func_1.setHeightDocument;
        this.configurations = config_1.configurations;
        this.activation_mode = 'activated';
        this.activation_mode_call = 'showButtonTransl';
        this.site_protocol = 'http:';
        this.isReadability = true;
        this.user = null;
        this.sendGoogleAn = {
            history: function () {
                if (typeof chrome !== 'undefined' && config_1.configurations.isExtension) {
                    chrome['runtime'].sendMessage({ setTrackEvents: config_1.configurations.eventsName.history });
                }
                else if (typeof safari !== 'undefined' && safari['extension']) {
                    var windowGlobalPage = safari['extension'].globalPage.contentWindow;
                    windowGlobalPage.respondToMessage({ name: 'setTrackEvents', message: config_1.configurations.eventsName.history });
                }
            },
            favorites: function () {
                if (typeof chrome !== 'undefined' && config_1.configurations.isExtension) {
                    chrome['runtime'].sendMessage({ setTrackEvents: config_1.configurations.eventsName.phrasebook });
                }
                else if (typeof safari !== 'undefined' && safari['extension']) {
                    var windowGlobalPage = safari['extension'].globalPage.contentWindow;
                    windowGlobalPage.respondToMessage({
                        name: 'setTrackEvents',
                        message: config_1.configurations.eventsName.phrasebook
                    });
                }
            },
            MT: function () {
                if (typeof chrome !== 'undefined' && config_1.configurations.isExtension) {
                    chrome['runtime'].sendMessage({ setTrackEvents: config_1.configurations.eventsName.MT });
                }
                else if (typeof safari !== 'undefined' && safari['extension']) {
                    var windowGlobalPage = safari['extension'].globalPage.contentWindow;
                    windowGlobalPage.respondToMessage({ name: 'setTrackEvents', message: config_1.configurations.eventsName.MT });
                }
            },
            conjugation: function () {
                if (typeof chrome !== 'undefined' && config_1.configurations.isExtension) {
                    chrome['runtime'].sendMessage({ setTrackEvents: config_1.configurations.eventsName.conjugation });
                }
                else if (typeof safari !== 'undefined' && safari['extension']) {
                    var windowGlobalPage = safari['extension'].globalPage.contentWindow;
                    windowGlobalPage.respondToMessage({
                        name: 'setTrackEvents',
                        message: config_1.configurations.eventsName.conjugation
                    });
                }
            },
            spellchecker: function () {
                if (typeof chrome !== 'undefined' && config_1.configurations.isExtension) {
                    chrome['runtime'].sendMessage({ setTrackEvents: config_1.configurations.eventsName.spellchecker });
                }
                else if (typeof safari !== 'undefined' && safari['extension']) {
                    var windowGlobalPage = safari['extension'].globalPage.contentWindow;
                    windowGlobalPage.respondToMessage({
                        name: 'setTrackEvents',
                        message: config_1.configurations.eventsName.spellchecker
                    });
                }
            }
        };
        // Языки
        this.translate.setDefaultLang('en');
        this.translate.use(config_1.configurations.appLang).subscribe(function (res) {
            _this.translateArray = res;
            config_1.configurations.localization = res;
        });
        // let browserLang = translate.getBrowserLang();
        // Для правильной высоты main блока
        setInterval(function () {
            var bodyHeight = document.body.clientHeight, heightIframe = 0;
            if (document.querySelectorAll('main.body-app.body-iframe').length > 0) {
                var headers = document.querySelectorAll('header');
                for (var i = 0; i < headers.length; i++) {
                    if (headers[i].id !== 'header-translate')
                        heightIframe += headers[i].clientHeight;
                }
                heightIframe += 18;
                var newHeight = bodyHeight - heightIframe - 5 + 'px';
                if (document.querySelectorAll('main.body-app.body-iframe')[0]['style'].height !== newHeight) {
                    document.querySelectorAll('main.body-app.body-iframe')[0]['style'].height = newHeight;
                }
            }
            _this.isAuth = profile_local_1.CHECK_AUTH();
            if (_this.isAuth) {
                _this.user = profile_local_1.GASUSERINFO.get() ? profile_local_1.GASUSERINFO.get()['data'] : null;
            }
        }, 256);
        if (!this.isIframe) {
            this.checkRedability();
            if (typeof chrome !== 'undefined' && config_1.configurations.isExtension) {
                chrome['runtime'].sendMessage({ removeIframe: true });
            }
        }
        // Смотрим, мобила или нет
        if (main_func_1.isMobile()) {
            if (document.body)
                document.body.classList.add('mobile-version');
        }
        this.settingsStorage.getRow('activation_mode').then(function (mode) {
            if (mode != null) {
                if (mode.toString() === 'doubleClick' || mode.toString() === 'showButtonTransl') {
                    _this.activation_mode_call = mode.toString();
                    mode = 'activated';
                }
                _this.activation_mode = mode.toString();
            }
        });
        this.settingsStorage.getRow('activation_mode_call').then(function (mode) {
            if (mode != null)
                _this.activation_mode_call = mode.toString();
        });
        // Смотрим локальный режим
        if (typeof chrome !== 'undefined' && typeof chrome['tabs'] !== 'undefined' && config_1.configurations.isExtension) {
            chrome.tabs.query({ active: true, currentWindow: true }, function (tabs) {
                if (typeof tabs[0] !== 'undefined') {
                    chrome.tabs.sendMessage(tabs[0].id, { getLocalActivationMode: true }, function (mode) {
                        if (mode != null && mode.activation_mode != null) {
                            if (mode.activation_mode.toString() === 'doubleClick' ||
                                mode.activation_mode.toString() === 'showButtonTransl') {
                                _this.activation_mode_call = mode.activation_mode.toString();
                                mode.activation_mode = 'activated';
                            }
                            _this.activation_mode = mode.activation_mode.toString();
                        }
                        if (typeof mode === 'undefined' || (mode && mode.protocol)) {
                            _this.site_protocol = typeof mode !== 'undefined' && mode.protocol ? mode.protocol : 'extension:';
                        }
                    });
                }
            });
        }
    }
    AppComponent.prototype.checkRedability = function () {
        var _this = this;
        localStorage.setItem(config_1.configurations.prefixStorage + 'htmlForSavePage', null);
        // Запроси html
        // window.parent["postMessage"]("getHtmlPage:get", "*");
        if (typeof chrome !== 'undefined' && typeof chrome['tabs'] !== 'undefined' && config_1.configurations.isExtension) {
            // chrome['runtime'].sendMessage({getHtmlPage: 'get'}, function (res) {
            // });
            chrome.tabs.query({ active: true, currentWindow: true }, function (tabs) {
                if (typeof tabs[0] !== 'undefined') {
                    chrome.tabs.sendMessage(tabs[0].id, { getHtmlPage: true });
                }
            });
        }
        setTimeout(function () {
            if (localStorage.getItem(config_1.configurations.prefixStorage + 'htmlForSavePage')
                && !JSON.parse(localStorage.getItem(config_1.configurations.prefixStorage + 'htmlForSavePage'))) {
                _this.isReadability = false;
                if (document.querySelector('#header_page_save_btn')) {
                    document.querySelector('#header_page_save_btn').setAttribute('disabled', 'true');
                    document.querySelector('#header_page_save_btn').removeAttribute('href');
                }
            }
        }, 256);
    };
    AppComponent.prototype.setMiniView = function (height) {
        if (height === void 0) { height = 87; }
        this.setHeightDocument(height);
        config_1.configurations.isMiniView = true;
    };
    AppComponent.prototype.setNormalView = function (height) {
        if (height === void 0) { height = 468; }
        this.setHeightDocument(height);
        config_1.configurations.isMiniView = false;
    };
    // Close injectScript window
    AppComponent.prototype.closeIframe = function () {
        try {
            var sub = window.document.querySelector('#translate-subtitles-page');
            window.parent['postMessage']('closeIframe:true', '*');
            if (sub) {
                window.parent['postMessage']('playerPlay:true', '*');
            }
        }
        catch (error) {
        }
    };
    // Должен отобразить локальную историю
    AppComponent.prototype.getHistory = function () {
        if (this.router.url !== '/translate') {
            this.router.navigate(['/translate', { showHistory: true }]);
        }
    };
    AppComponent.prototype.goToSettings = function () {
        if (typeof chrome !== 'undefined' && typeof chrome['tabs'] !== 'undefined' && config_1.configurations.isExtension) {
            chrome.tabs.query({ lastFocusedWindow: true }, function (tabs) {
                if (tabs.length > 0) {
                    var findTab_1 = false;
                    tabs.forEach(function (tab) {
                        if (tab.id && tab.url && tab.url.indexOf('?navigateTo=options') > -1) {
                            findTab_1 = true;
                            if (!tab.active) {
                                // chrome.windows.update(tab.id, {focused: true}, () => {
                                chrome.tabs.update(tab.id, { active: true });
                                // });
                            }
                            return;
                        }
                    });
                    if (!findTab_1) {
                        chrome['runtime'].sendMessage({ openTab: chrome.extension.getURL('/dist/') + 'index.html?navigateTo=options' });
                    }
                }
                else {
                    chrome['runtime'].sendMessage({ openTab: chrome.extension.getURL('/dist/') + 'index.html?navigateTo=options' });
                }
            });
        }
    };
    AppComponent.prototype.switchActivationMode = function () {
        var _this = this;
        var old_activation_mode = this.activation_mode;
        switch (this.activation_mode) {
            case 'none':
                this.activation_mode = 'activated';
                break;
            case 'activated':
                this.activation_mode = 'oneClick';
                break;
            case 'oneClick':
                this.activation_mode = 'none';
                break;
            default:
                this.activation_mode = 'activated';
        }
        if (this.site_protocol.indexOf('http') < 0 && this.site_protocol.indexOf('pdf') < 0 && this.activation_mode === 'oneClick') {
            this.activation_mode = 'none';
        }
        // Reverso_extension_settings_activation_mode
        if (typeof chrome !== 'undefined' && typeof chrome['tabs'] !== 'undefined' && config_1.configurations.isExtension) {
            chrome.tabs.query({ active: true, currentWindow: true }, function (tabs) {
                if (typeof tabs[0] !== 'undefined') {
                    chrome.tabs.sendMessage(tabs[0].id, {
                        setLocalActivationMode: (_this.activation_mode !== 'activated' ?
                            _this.activation_mode : _this.activation_mode_call)
                    });
                    // Сразу включаем или выключаем oneClick mode
                    if (_this.activation_mode === 'oneClick') {
                        chrome.tabs.sendMessage(tabs[0].id, { runOneClick: true });
                        chrome['runtime'].sendMessage({ setTrackEvents: config_1.configurations.eventsName.one_click });
                        if (document.querySelector('#header_mouse_btn') && document.querySelector('#header_mouse_btn_run_oneClick')) {
                            document.querySelector('#header_mouse_btn')['style'].display = 'none';
                            document.querySelector('#header_mouse_btn_run_oneClick')['style'].display = 'block';
                            setTimeout(function () {
                                document.querySelector('#header_mouse_btn_run_oneClick')['style'].display = 'none';
                                document.querySelector('#header_mouse_btn')['style'].display = 'block';
                            }, 1000);
                        }
                    }
                    if (old_activation_mode === 'oneClick') {
                        chrome.tabs.sendMessage(tabs[0].id, { offOneClick: true });
                        if (document.querySelector('#header_mouse_btn') && document.querySelector('#header_mouse_btn_run_oneClick')) {
                            document.querySelector('#header_mouse_btn')['style'].display = 'none';
                            document.querySelector('#header_mouse_btn_run_oneClick')['style'].display = 'block';
                            setTimeout(function () {
                                document.querySelector('#header_mouse_btn_run_oneClick')['style'].display = 'none';
                                document.querySelector('#header_mouse_btn')['style'].display = 'block';
                            }, 1000);
                        }
                    }
                }
            });
        }
    };
    return AppComponent;
}());
exports.AppComponent = AppComponent;
var ɵ0 = function (mutations) {
    var upgrade = false;
    for (var i = 0; i < mutations.length; i++) {
        if (mutations[i].addedNodes.length > 0) {
            upgrade = true;
            break;
        }
    }
    if (upgrade) {
        window['componentHandler'].upgradeDom();
    }
};
exports.ɵ0 = ɵ0;
// Удаляем MDL
// Для норальной работы MDL на динамических страницах
var observer = new MutationObserver(ɵ0);
observer.observe(document, {
    childList: true,
    subtree: true
});
// from:https://github.com/jserz/js_piece/blob/master/DOM/ChildNode/remove()/remove().md
(function (arr) {
    arr.forEach(function (item) {
        item.remove = item.remove || function () {
            this.parentNode.removeChild(this);
        };
    });
})([Element.prototype, CharacterData.prototype, DocumentType.prototype]);
Number.isInteger = Number.isInteger || function (value) {
    return typeof value === 'number' &&
        isFinite(value) &&
        Math.floor(value) === value;
};
// Ловим все сообщения с injectScript
(window.opener || window).addEventListener('message', function (e) {
    //
    if (e.data.indexOf('setPositionSamples:') > -1 && !main_func_1.isMobile()) {
        var position = e.data.substring('setPositionSamples:'.length);
        if (main_func_1.setPositionSamples[position])
            main_func_1.setPositionSamples[position]();
    }
});
self['navigateTo'] = null;
if (main_func_1.GET('navigateTo')) {
    self['navigateTo'] = main_func_1.GET('navigateTo');
    // Условие для представления перевода субтитров
    if (self['navigateTo'] === 'translate-subtitles') {
        document.body.style.width = '320px';
    }
    else if (self['navigateTo'] === 'translate-whole-text') {
        document.body.style.width = '666px';
    }
    else if (top.location !== self.location) {
        document.body.style.width = '666px';
    }
}
else if (top.location !== self.location) {
    document.body.style.width = '666px';
}
// Запрещаем ненужные вещи
document.oncontextmenu = function (ev) {
    return ev && ev.target && (ev.target['id'] === 'wordInput' || ev.target['id'] === 'translate-whole-text-page-result');
};
// document.ondblclick = function () {
//     return false;
// };
// document.onclick = function (e) {
//     if (e.which == 2 || e.which == 3) return false;
// };


/***/ }),

/***/ "./src/app/app.module.ngfactory.js":
/*!*****************************************!*\
  !*** ./src/app/app.module.ngfactory.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

/**
 * @fileoverview This file was generated by the Angular template compiler. Do not edit.
 *
 * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}
 * tslint:disable
 */ 
Object.defineProperty(exports, "__esModule", { value: true });
var i0 = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var i1 = __webpack_require__(/*! ./app.module */ "./src/app/app.module.ts");
var i2 = __webpack_require__(/*! ./app.component */ "./src/app/app.component.ts");
var i3 = __webpack_require__(/*! ../../node_modules/@angular/router/router.ngfactory */ "./node_modules/@angular/router/router.ngfactory.js");
var i4 = __webpack_require__(/*! ./pages/middleware/middleware.page.ngfactory */ "./src/app/pages/middleware/middleware.page.ngfactory.js");
var i5 = __webpack_require__(/*! ./pages/translate/translate.page.ngfactory */ "./src/app/pages/translate/translate.page.ngfactory.js");
var i6 = __webpack_require__(/*! ./pages/translate-segment/translate-segment.page.ngfactory */ "./src/app/pages/translate-segment/translate-segment.page.ngfactory.js");
var i7 = __webpack_require__(/*! ./pages/options/options.page.ngfactory */ "./src/app/pages/options/options.page.ngfactory.js");
var i8 = __webpack_require__(/*! ./pages/sign-up/sign-up.page.ngfactory */ "./src/app/pages/sign-up/sign-up.page.ngfactory.js");
var i9 = __webpack_require__(/*! ./pages/limit-search/limit-search.page.ngfactory */ "./src/app/pages/limit-search/limit-search.page.ngfactory.js");
var i10 = __webpack_require__(/*! ./pages/save-page/save-page.page.ngfactory */ "./src/app/pages/save-page/save-page.page.ngfactory.js");
var i11 = __webpack_require__(/*! ./pages/update-info/update-info.page.ngfactory */ "./src/app/pages/update-info/update-info.page.ngfactory.js");
var i12 = __webpack_require__(/*! ./pages/about/about.page.ngfactory */ "./src/app/pages/about/about.page.ngfactory.js");
var i13 = __webpack_require__(/*! ./pages/feedback/feedback.page.ngfactory */ "./src/app/pages/feedback/feedback.page.ngfactory.js");
var i14 = __webpack_require__(/*! ./pages/rating/rating.page.ngfactory */ "./src/app/pages/rating/rating.page.ngfactory.js");
var i15 = __webpack_require__(/*! ./pages/translate-subtitles/translate-subtitles.page.ngfactory */ "./src/app/pages/translate-subtitles/translate-subtitles.page.ngfactory.js");
var i16 = __webpack_require__(/*! ./pages/save-page-promotion/save-page-promotion.page.ngfactory */ "./src/app/pages/save-page-promotion/save-page-promotion.page.ngfactory.js");
var i17 = __webpack_require__(/*! ./pages/translate-whole-text/translate-whole-text.page.ngfactory */ "./src/app/pages/translate-whole-text/translate-whole-text.page.ngfactory.js");
var i18 = __webpack_require__(/*! ./app.component.ngfactory */ "./src/app/app.component.ngfactory.js");
var i19 = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
var i20 = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
var i21 = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
var i22 = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
var i23 = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var i24 = __webpack_require__(/*! @ngx-translate/core */ "./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
var i25 = __webpack_require__(/*! ./storage/settings.storage */ "./src/app/storage/settings.storage.ts");
var i26 = __webpack_require__(/*! ./storage/history.storage */ "./src/app/storage/history.storage.ts");
var i27 = __webpack_require__(/*! ../api/api */ "./src/api/api.ts");
var i28 = __webpack_require__(/*! ./pages/middleware/middleware.page */ "./src/app/pages/middleware/middleware.page.ts");
var i29 = __webpack_require__(/*! ./pages/translate/translate.page */ "./src/app/pages/translate/translate.page.ts");
var i30 = __webpack_require__(/*! ./pages/translate-segment/translate-segment.page */ "./src/app/pages/translate-segment/translate-segment.page.ts");
var i31 = __webpack_require__(/*! ./pages/options/options.page */ "./src/app/pages/options/options.page.ts");
var i32 = __webpack_require__(/*! ./pages/sign-up/sign-up.page */ "./src/app/pages/sign-up/sign-up.page.ts");
var i33 = __webpack_require__(/*! ./pages/limit-search/limit-search.page */ "./src/app/pages/limit-search/limit-search.page.ts");
var i34 = __webpack_require__(/*! ./pages/save-page/save-page.page */ "./src/app/pages/save-page/save-page.page.ts");
var i35 = __webpack_require__(/*! ./pages/update-info/update-info.page */ "./src/app/pages/update-info/update-info.page.ts");
var i36 = __webpack_require__(/*! ./pages/about/about.page */ "./src/app/pages/about/about.page.ts");
var i37 = __webpack_require__(/*! ./pages/feedback/feedback.page */ "./src/app/pages/feedback/feedback.page.ts");
var i38 = __webpack_require__(/*! ./pages/rating/rating.page */ "./src/app/pages/rating/rating.page.ts");
var i39 = __webpack_require__(/*! ./pages/translate-subtitles/translate-subtitles.page */ "./src/app/pages/translate-subtitles/translate-subtitles.page.ts");
var i40 = __webpack_require__(/*! ./pages/save-page-promotion/save-page-promotion.page */ "./src/app/pages/save-page-promotion/save-page-promotion.page.ts");
var i41 = __webpack_require__(/*! ./pages/translate-whole-text/translate-whole-text.page */ "./src/app/pages/translate-whole-text/translate-whole-text.page.ts");
var AppModuleNgFactory = i0.ɵcmf(i1.AppModule, [i2.AppComponent], function (_l) { return i0.ɵmod([i0.ɵmpd(512, i0.ComponentFactoryResolver, i0.ɵCodegenComponentFactoryResolver, [[8, [i3.ɵEmptyOutletComponentNgFactory, i4.MiddlewareComponentNgFactory, i5.TranslateComponentNgFactory, i6.TranslateSegmentComponentNgFactory, i7.OptionsComponentNgFactory, i8.SignUpComponentNgFactory, i9.LimitSearchComponentNgFactory, i10.SaveComponentNgFactory, i11.UpdateInfoComponentNgFactory, i12.AboutComponentNgFactory, i13.FeedbackComponentNgFactory, i14.RatingComponentNgFactory, i15.TranslateSubtitlesComponentNgFactory, i16.SavePagePromotionComponentNgFactory, i17.TranslateWholeTextComponentNgFactory, i18.AppComponentNgFactory]], [3, i0.ComponentFactoryResolver], i0.NgModuleRef]), i0.ɵmpd(5120, i0.LOCALE_ID, i0.ɵangular_packages_core_core_l, [[3, i0.LOCALE_ID]]), i0.ɵmpd(4608, i19.NgLocalization, i19.NgLocaleLocalization, [i0.LOCALE_ID, [2, i19.ɵangular_packages_common_common_a]]), i0.ɵmpd(5120, i0.APP_ID, i0.ɵangular_packages_core_core_f, []), i0.ɵmpd(5120, i0.IterableDiffers, i0.ɵangular_packages_core_core_j, []), i0.ɵmpd(5120, i0.KeyValueDiffers, i0.ɵangular_packages_core_core_k, []), i0.ɵmpd(4608, i20.DomSanitizer, i20.ɵangular_packages_platform_browser_platform_browser_e, [i19.DOCUMENT]), i0.ɵmpd(6144, i0.Sanitizer, null, [i20.DomSanitizer]), i0.ɵmpd(4608, i20.HAMMER_GESTURE_CONFIG, i20.HammerGestureConfig, []), i0.ɵmpd(5120, i20.EVENT_MANAGER_PLUGINS, function (p0_0, p0_1, p0_2, p1_0, p2_0, p2_1, p2_2) { return [new i20.ɵDomEventsPlugin(p0_0, p0_1, p0_2), new i20.ɵKeyEventsPlugin(p1_0), new i20.ɵHammerGesturesPlugin(p2_0, p2_1, p2_2)]; }, [i19.DOCUMENT, i0.NgZone, [2, i0.PLATFORM_ID], i19.DOCUMENT, i19.DOCUMENT, i20.HAMMER_GESTURE_CONFIG, i0.ɵConsole]), i0.ɵmpd(4608, i20.EventManager, i20.EventManager, [i20.EVENT_MANAGER_PLUGINS, i0.NgZone]), i0.ɵmpd(135680, i20.ɵDomSharedStylesHost, i20.ɵDomSharedStylesHost, [i19.DOCUMENT]), i0.ɵmpd(4608, i20.ɵDomRendererFactory2, i20.ɵDomRendererFactory2, [i20.EventManager, i20.ɵDomSharedStylesHost]), i0.ɵmpd(6144, i0.RendererFactory2, null, [i20.ɵDomRendererFactory2]), i0.ɵmpd(6144, i20.ɵSharedStylesHost, null, [i20.ɵDomSharedStylesHost]), i0.ɵmpd(4608, i0.Testability, i0.Testability, [i0.NgZone]), i0.ɵmpd(4608, i20.Meta, i20.Meta, [i19.DOCUMENT]), i0.ɵmpd(4608, i20.Title, i20.Title, [i19.DOCUMENT]), i0.ɵmpd(4608, i21.ɵangular_packages_forms_forms_i, i21.ɵangular_packages_forms_forms_i, []), i0.ɵmpd(4608, i22.HttpXsrfTokenExtractor, i22.ɵangular_packages_common_http_http_g, [i19.DOCUMENT, i0.PLATFORM_ID, i22.ɵangular_packages_common_http_http_e]), i0.ɵmpd(4608, i22.ɵangular_packages_common_http_http_h, i22.ɵangular_packages_common_http_http_h, [i22.HttpXsrfTokenExtractor, i22.ɵangular_packages_common_http_http_f]), i0.ɵmpd(5120, i22.HTTP_INTERCEPTORS, function (p0_0) { return [p0_0]; }, [i22.ɵangular_packages_common_http_http_h]), i0.ɵmpd(4608, i22.ɵangular_packages_common_http_http_d, i22.ɵangular_packages_common_http_http_d, []), i0.ɵmpd(6144, i22.XhrFactory, null, [i22.ɵangular_packages_common_http_http_d]), i0.ɵmpd(4608, i22.HttpXhrBackend, i22.HttpXhrBackend, [i22.XhrFactory]), i0.ɵmpd(6144, i22.HttpBackend, null, [i22.HttpXhrBackend]), i0.ɵmpd(4608, i22.HttpHandler, i22.ɵHttpInterceptingHandler, [i22.HttpBackend, i0.Injector]), i0.ɵmpd(4608, i22.HttpClient, i22.HttpClient, [i22.HttpHandler]), i0.ɵmpd(5120, i23.ActivatedRoute, i23.ɵangular_packages_router_router_f, [i23.Router]), i0.ɵmpd(4608, i23.NoPreloading, i23.NoPreloading, []), i0.ɵmpd(6144, i23.PreloadingStrategy, null, [i23.NoPreloading]), i0.ɵmpd(135680, i23.RouterPreloader, i23.RouterPreloader, [i23.Router, i0.NgModuleFactoryLoader, i0.Compiler, i0.Injector, i23.PreloadingStrategy]), i0.ɵmpd(4608, i23.PreloadAllModules, i23.PreloadAllModules, []), i0.ɵmpd(5120, i23.ROUTER_INITIALIZER, i23.ɵangular_packages_router_router_i, [i23.ɵangular_packages_router_router_g]), i0.ɵmpd(5120, i0.APP_BOOTSTRAP_LISTENER, function (p0_0) { return [p0_0]; }, [i23.ROUTER_INITIALIZER]), i0.ɵmpd(5120, i24.TranslateLoader, i1.createTranslateLoader, [i22.HttpClient]), i0.ɵmpd(4608, i24.TranslateCompiler, i24.TranslateFakeCompiler, []), i0.ɵmpd(4608, i24.TranslateParser, i24.TranslateDefaultParser, []), i0.ɵmpd(4608, i24.MissingTranslationHandler, i24.FakeMissingTranslationHandler, []), i0.ɵmpd(4608, i24.TranslateStore, i24.TranslateStore, []), i0.ɵmpd(4608, i24.TranslateService, i24.TranslateService, [i24.TranslateStore, i24.TranslateLoader, i24.TranslateCompiler, i24.TranslateParser, i24.MissingTranslationHandler, i24.USE_DEFAULT_LANG, i24.USE_STORE]), i0.ɵmpd(4608, i25.SettingsStorage, i25.SettingsStorage, []), i0.ɵmpd(4608, i26.HistoryStorage, i26.HistoryStorage, []), i0.ɵmpd(4608, i27.Api, i27.Api, [i22.HttpClient]), i0.ɵmpd(1073742336, i19.CommonModule, i19.CommonModule, []), i0.ɵmpd(1024, i0.ErrorHandler, i20.ɵangular_packages_platform_browser_platform_browser_a, []), i0.ɵmpd(1024, i0.NgProbeToken, function () { return [i23.ɵangular_packages_router_router_b()]; }, []), i0.ɵmpd(512, i23.ɵangular_packages_router_router_g, i23.ɵangular_packages_router_router_g, [i0.Injector]), i0.ɵmpd(1024, i0.APP_INITIALIZER, function (p0_0, p1_0) { return [i20.ɵangular_packages_platform_browser_platform_browser_h(p0_0), i23.ɵangular_packages_router_router_h(p1_0)]; }, [[2, i0.NgProbeToken], i23.ɵangular_packages_router_router_g]), i0.ɵmpd(512, i0.ApplicationInitStatus, i0.ApplicationInitStatus, [[2, i0.APP_INITIALIZER]]), i0.ɵmpd(131584, i0.ApplicationRef, i0.ApplicationRef, [i0.NgZone, i0.ɵConsole, i0.Injector, i0.ErrorHandler, i0.ComponentFactoryResolver, i0.ApplicationInitStatus]), i0.ɵmpd(1073742336, i0.ApplicationModule, i0.ApplicationModule, [i0.ApplicationRef]), i0.ɵmpd(1073742336, i20.BrowserModule, i20.BrowserModule, [[3, i20.BrowserModule]]), i0.ɵmpd(1073742336, i21.ɵangular_packages_forms_forms_bb, i21.ɵangular_packages_forms_forms_bb, []), i0.ɵmpd(1073742336, i21.FormsModule, i21.FormsModule, []), i0.ɵmpd(1024, i23.ɵangular_packages_router_router_a, i23.ɵangular_packages_router_router_d, [[3, i23.Router]]), i0.ɵmpd(512, i23.UrlSerializer, i23.DefaultUrlSerializer, []), i0.ɵmpd(512, i23.ChildrenOutletContexts, i23.ChildrenOutletContexts, []), i0.ɵmpd(256, i23.ROUTER_CONFIGURATION, { initialNavigation: "enabled" }, []), i0.ɵmpd(1024, i19.LocationStrategy, i23.ɵangular_packages_router_router_c, [i19.PlatformLocation, [2, i19.APP_BASE_HREF], i23.ROUTER_CONFIGURATION]), i0.ɵmpd(512, i19.Location, i19.Location, [i19.LocationStrategy]), i0.ɵmpd(512, i0.Compiler, i0.Compiler, []), i0.ɵmpd(512, i0.NgModuleFactoryLoader, i0.SystemJsNgModuleLoader, [i0.Compiler, [2, i0.SystemJsNgModuleLoaderConfig]]), i0.ɵmpd(1024, i23.ROUTES, function () { return [[{ path: "", component: i28.MiddlewareComponent, pathMatch: "full" }, { path: "translate", component: i29.TranslateComponent }, { path: "translate-segment", component: i30.TranslateSegmentComponent }, { path: "options", component: i31.OptionsComponent }, { path: "sign-up", component: i32.SignUpComponent }, { path: "limit-search", component: i33.LimitSearchComponent }, { path: "save-page", component: i34.SaveComponent }, { path: "update-info", component: i35.UpdateInfoComponent }, { path: "about", component: i36.AboutComponent }, { path: "feedback", component: i37.FeedbackComponent }, { path: "rating", component: i38.RatingComponent }, { path: "translate-subtitles", component: i39.TranslateSubtitlesComponent }, { path: "save-page-promotion", component: i40.SavePagePromotionComponent }, { path: "translate-whole-text", component: i41.TranslateWholeTextComponent }, { path: "**", component: i28.MiddlewareComponent }]]; }, []), i0.ɵmpd(1024, i23.Router, i23.ɵangular_packages_router_router_e, [i0.ApplicationRef, i23.UrlSerializer, i23.ChildrenOutletContexts, i19.Location, i0.Injector, i0.NgModuleFactoryLoader, i0.Compiler, i23.ROUTES, i23.ROUTER_CONFIGURATION, [2, i23.UrlHandlingStrategy], [2, i23.RouteReuseStrategy]]), i0.ɵmpd(1073742336, i23.RouterModule, i23.RouterModule, [[2, i23.ɵangular_packages_router_router_a], [2, i23.Router]]), i0.ɵmpd(1073742336, i22.HttpClientXsrfModule, i22.HttpClientXsrfModule, []), i0.ɵmpd(1073742336, i22.HttpClientModule, i22.HttpClientModule, []), i0.ɵmpd(1073742336, i24.TranslateModule, i24.TranslateModule, []), i0.ɵmpd(1073742336, i1.AppModule, i1.AppModule, []), i0.ɵmpd(256, i0.ɵAPP_ROOT, true, []), i0.ɵmpd(256, i22.ɵangular_packages_common_http_http_e, "XSRF-TOKEN", []), i0.ɵmpd(256, i22.ɵangular_packages_common_http_http_f, "X-XSRF-TOKEN", []), i0.ɵmpd(256, i24.USE_STORE, undefined, []), i0.ɵmpd(256, i24.USE_DEFAULT_LANG, undefined, [])]); });
exports.AppModuleNgFactory = AppModuleNgFactory;


/***/ }),

/***/ "./src/app/app.module.ts":
/*!*******************************!*\
  !*** ./src/app/app.module.ts ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var http_1 = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
var http_loader_1 = __webpack_require__(/*! @ngx-translate/http-loader */ "./node_modules/@ngx-translate/http-loader/esm5/ngx-translate-http-loader.js");
__webpack_require__(/*! ./rxjs-extensions */ "./src/app/rxjs-extensions.ts");
function createTranslateLoader(http) {
    return new http_loader_1.TranslateHttpLoader(http, './i18n/', '.json');
}
exports.createTranslateLoader = createTranslateLoader;
var AppModule = /** @class */ (function () {
    function AppModule() {
    }
    return AppModule;
}());
exports.AppModule = AppModule;


/***/ }),

/***/ "./src/app/config.ts":
/*!***************************!*\
  !*** ./src/app/config.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

/*---------------------------------------------------------------------------
 * @Developer: Aleksey Romanov
 * @Project URI: www.domprog.com, www.sites4web.ru
 * @Copyright: DomProg
 *----------------------------------------------------------------------------
 */
Object.defineProperty(exports, "__esModule", { value: true });
__webpack_require__(/*! ./../CONFIG */ "./src/CONFIG.js");
function _linkReverso(lang) {
    var link = 'https://context.reverso.net/';
    switch (lang) {
        case 'en':
            link += 'translation/';
            break;
        case 'ru':
            link += 'перевод/';
            break;
        case 'fr':
            link += 'traduction/';
            break;
        case 'es':
            link += 'traduccion/';
            break;
        case 'it':
            link += 'traduzione/';
            break;
        case 'de':
            link += 'übersetzung/';
            break;
        default:
            link += 'translation/';
    }
    return link;
}
exports.configurations = {
    isExtension: !!(typeof chrome !== 'undefined' && chrome.runtime && chrome.runtime.id) || !!(typeof safari !== 'undefined' && safari.extension && safari.extension.baseURI),
    isInjectScript: !(typeof chrome !== 'undefined' && chrome.runtime && chrome.runtime.id) && !(typeof safari !== 'undefined' && safari.extension && safari.extension.baseURI) && top.location !== self.location,
    version: typeof chrome !== 'undefined' && chrome.runtime && chrome.runtime.getManifest ?
        chrome.runtime.getManifest().version :
        self['CONFIG'].version,
    server: self['CONFIG'].server,
    apiVersion: self['CONFIG'].apiVersion,
    limitPage: self['CONFIG'].limitPage,
    limitHistory: self['CONFIG'].limitHistory,
    invalidToken: self['CONFIG'].invalidToken,
    cachetime: self['CONFIG'].cachetime,
    cachetimeDir: self['CONFIG'].cachetimeDir,
    wordCountLimit: self['CONFIG'].wordCountLimit,
    limitWholeText: self['CONFIG'].limitWholeText,
    appLang: null,
    nativeLang: null,
    linkReverso: null,
    origin: null,
    eventsName: null,
    prefixStorage: self['CONFIG'].prefixStorage,
    langSupported: self['CONFIG'].langSupported,
    localization: null,
    isMiniView: true,
    interfaceLanguages: null,
    links: {},
    subtitlesResources: ['www.netflix.com', 'www.primevideo.com', 'www.youtube.com', 'www.ted.com'],
    currentYear: self['CONFIG'].currentYear,
    checkNotificationInterval: self['CONFIG'].checkNotificationInterval,
    notificationDay: self['CONFIG'].notificationDay,
    notificationTimeStar: self['CONFIG'].notificationTimeStar,
    // notificationTimeEnd: self['CONFIG'].notificationTimeEnd,
    // notificationDelayDays: self['CONFIG'].notificationDelayDays,
    getPlatform: null,
    linkReversoForBackground: null,
    GASErrorTimeDelay: self['CONFIG'].GASErrorTimeDelay,
};
// Язык приложения
exports.configurations.appLang = (function () {
    var lang = localStorage.getItem(exports.configurations.prefixStorage + 'settings_interface_lang') ?
        localStorage.getItem(exports.configurations.prefixStorage + 'settings_interface_lang') :
        (navigator['userLanguage'] || navigator['language']);
    lang = lang.trim().length > 2 ? lang.slice(0, 2) : lang;
    if (!new RegExp(/de|en|es|fr|it|ru/).test(lang))
        lang = 'en';
    return lang;
})();
// Язык приложения
exports.configurations.nativeLang = (function () {
    var lang = localStorage.getItem(exports.configurations.prefixStorage + 'settings_native_lang') ?
        localStorage.getItem(exports.configurations.prefixStorage + 'settings_native_lang') :
        (navigator['userLanguage'] || navigator['language']);
    lang = lang.trim().length > 2 ? lang.slice(0, 2) : lang;
    return lang;
})();
exports.configurations.linkReverso = (function () {
    return _linkReverso(exports.configurations.appLang);
})();
exports.configurations.origin = navigator.userAgent.indexOf('Firefox') > -1 ? 'ffextension' :
    navigator.userAgent.indexOf('Chrome') > -1 ? 'chromeextension' :
        navigator.userAgent.indexOf('Safari') > -1 ? 'safariextension' : 'mobileweb';
exports.configurations.eventsName = {
    'searchcontextmenu': 'Translate by context menu',
    'simplesearch': 'Simple search',
    'searchinpage': 'Translate by in-page button',
    'one_click': 'Switch to one-click view',
    'pronunciation': 'Pronunciation',
    'filter_translation': 'Filter examples',
    'search_popup': 'Translate from extension button',
    'MT': 'Machine Translation menu',
    'shortcut': 'Translate by shortcut',
    'phrasebook': 'Access Phrasebook',
    'history': 'Access History',
    'conjugation': 'Conjugation menu',
    'spellchecker': 'Spell checker menu',
    'edit_source': 'Translate changed source',
    'oneClickTranslate': 'when user translates in one-click mode "One-click translate"',
    'machineTranslation': 'when go to translation web site (> 5 words selected as a source) "Machine Translation"',
    'machineTranslationPopup': 'Machine Translation popup',
    'machineTranslationPopupFromInput': 'Full text translation in the extension popup',
    'notificationDisplay': 'Word of the week',
    'notificationSearch': 'Word of the week search',
    'changeCurrentDirection': 'Change current direction',
};
exports.configurations.interfaceLanguages = [{
        'id': 'en',
        'name': 'English'
    }, {
        'id': 'fr',
        'name': 'Français'
    }, {
        'id': 'de',
        'name': 'Deutsch'
    }, {
        'id': 'es',
        'name': 'Español'
    }, {
        'id': 'it',
        'name': 'Italiano'
    }, {
        'id': 'ru',
        'name': 'Русский'
    }];
var makeGas2Link = function (_link, params) {
    var preprodPrefix = self['CONFIG'].server.indexOf('preprod') > -1 ? '.preprod' : '';
    var returnUrl = encodeURIComponent('https://' + exports.configurations.origin + '.cps' + preprodPrefix + '.reverso.net/users/' + exports.configurations.appLang);
    var url = 'https://account'
        + preprodPrefix
        + _link
        + '?lang=' + exports.configurations.appLang
        + '&returnUrl=' + returnUrl;
    return url + (params ? params : '');
};
var ɵ0 = makeGas2Link;
exports.ɵ0 = ɵ0;
exports.configurations.links = {
    profile: 'https://account.reverso.net/profile/' + exports.configurations.appLang,
    context: 'https://context.reverso.net/',
    reverso: 'https://www.reverso.net/',
    extensionUrl: exports.configurations.origin === 'ffextension' ?
        'https://addons.mozilla.org/firefox/addon/reverso-context-beta/reviews/' :
        'https://chrome.google.com/webstore/detail/reverso-translate-in-cont/onhiacboedfinnofagfgoaanfedhmfab/reviews?hl=' +
            exports.configurations.appLang,
    dictionary: 'http://dictionary.reverso.net/',
    privacyPolicy: 'https://cps.reverso.net/extension/privacy',
};
if (typeof self['CONFIG'].GAS2 !== 'undefined' && self['CONFIG'].GAS2) {
    exports.configurations.links = Object.assign({
        // GAS 2 TEST
        login: makeGas2Link('.reverso.net/Account/Login'),
        logout: makeGas2Link('.reverso.net/Account/Logout'),
        register: makeGas2Link('.reverso.net/Account/Register'),
        facebookLogin: makeGas2Link('.reverso.net/Account/ExternalLogin', '&handler=Challenge&provider=Facebook'),
        googleLogin: makeGas2Link('.reverso.net/Account/ExternalLogin', '&handler=Challenge&provider=Google'),
    }, exports.configurations.links);
}
else {
    exports.configurations.links = Object.assign({
        login: 'https://account.reverso.net/login/' + exports.configurations.origin + '/' + exports.configurations.appLang + '?returnUrl=' +
            exports.configurations.server + '/users/' + exports.configurations.appLang + '/Home/',
        register: 'https://account.reverso.net/register/' + exports.configurations.origin + '/' + exports.configurations.appLang + '?returnUrl=' +
            exports.configurations.server + '/users/' + exports.configurations.appLang + '/Home/',
        logout: '',
        facebookLogin: exports.configurations.server + '/' + exports.configurations.appLang + '/gas/FacebookLogin?origin=' + exports.configurations.origin,
        googleLogin: exports.configurations.server + '/' + exports.configurations.appLang + '/gas/GoogleLogin?origin=' + exports.configurations.origin,
    }, exports.configurations.links);
}
// configurations.links = {
// login: 'https://account.reverso.net/login/' + configurations.origin + '/' + configurations.appLang + '?returnUrl=' +
//     configurations.server + '/users/' + configurations.appLang + '/Home/',
// register: 'https://account.reverso.net/register/' + configurations.origin + '/' + configurations.appLang + '?returnUrl=' +
//     configurations.server + '/users/' + configurations.appLang + '/Home/',
// profile: 'https://account.reverso.net/profile/' + configurations.appLang,
// context: 'https://context.reverso.net/',
// reverso: 'https://www.reverso.net/',
// extensionUrl: configurations.origin === 'ffextension' ?
//     'https://addons.mozilla.org/firefox/addon/reverso-context-beta/reviews/' :
//     'https://chrome.google.com/webstore/detail/reverso-translate-in-cont/onhiacboedfinnofagfgoaanfedhmfab/reviews?hl=' +
//     configurations.appLang,
// dictionary: 'http://dictionary.reverso.net/',
// privacyPolicy: 'https://cps.reverso.net/extension/privacy',
// };
// Получить платформу
exports.configurations.getPlatform = (function () {
    var platform = 'other';
    if (navigator['userAgent'].indexOf('Windows') > -1) {
        platform = 'windows';
    }
    else if (navigator['userAgent'].indexOf('Macintosh') > -1) {
        platform = 'mac';
    }
    return platform;
})();
exports.configurations.linkReversoForBackground = function (lang) {
    var _lang = lang ? lang : exports.configurations.appLang;
    return _linkReverso(_lang);
};


/***/ }),

/***/ "./src/app/extras/language.extras.ts":
/*!*******************************************!*\
  !*** ./src/app/extras/language.extras.ts ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var settings_storage_1 = __webpack_require__(/*! ../storage/settings.storage */ "./src/app/storage/settings.storage.ts");
var config_1 = __webpack_require__(/*! ../config */ "./src/app/config.ts");
var LanguageExtras = /** @class */ (function () {
    function LanguageExtras(directions) {
        this.directions = directions;
        this.oldSourceLang = config_1.configurations.appLang === 'en' ? 'en' : 'fr';
        this.directions = directions;
        this.settingsStorage = new settings_storage_1.SettingsStorage();
    }
    // Выставить язык сурса
    LanguageExtras.prototype.selectLangSource = function (id, update) {
        var _this = this;
        if (update === void 0) { update = true; }
        return new Promise(function (resolve, reject) {
            var sl = _this.directions['directions'].filter(function (item, index) {
                return item.id === id;
            });
            // Если найден язык в directions
            if (sl.length > 0) {
                _this.sourceLang = sl[0];
            }
            else {
                id = config_1.configurations.appLang === 'en' ? 'fr' : 'en';
                _this.sourceLang = _this.directions['directions'].filter(function (item, index) {
                    return item.id === id;
                })[0];
            }
            if (update) {
                // Записываем в базу
                _this.settingsStorage.update('lang_source', id).then(function (res) {
                    resolve(_this.sourceLang);
                }, function (error) {
                    console.error(error);
                    reject(error);
                });
            }
            else {
                resolve(_this.sourceLang);
            }
        });
    };
    // Выставить язык таргета
    LanguageExtras.prototype.selectLangTarget = function (id) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var tl = _this.sourceLang.targets.filter(function (item) {
                return item.id === id;
            });
            // Если найден язык в directions
            if (tl.length > 0) {
                _this.targetLang = tl[0];
            }
            else {
                id = _this.oldSourceLang;
                // id = APP_LANG == 'en' ? 'en' : 'fr';
                _this.targetLang = _this.sourceLang.targets.filter(function (item, index) {
                    return item.id === id;
                })[0];
                if (typeof _this.targetLang === 'undefined') {
                    id = id === 'en' ? 'fr' : 'en';
                    _this.targetLang = _this.sourceLang.targets.filter(function (item, index) {
                        return item.id === id;
                    })[0];
                    if (typeof _this.targetLang === 'undefined') {
                        _this.targetLang = _this.sourceLang.targets[0];
                    }
                }
            }
            // Записываем в базу
            _this.settingsStorage.update('lang_target', id).then(function (res) {
                resolve(_this.targetLang);
            }, function (error) {
                console.error(error);
                reject(error);
            });
        });
    };
    LanguageExtras.prototype.reversLang = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            // Получаем язык с базы тагет
            _this.settingsStorage.getRow('lang_target').then(function (lang_source) {
                lang_source = lang_source != null ? lang_source :
                    config_1.configurations.appLang === 'en' ? 'en' : 'fr';
                // Получаем язык с базы сурс
                _this.settingsStorage.getRow('lang_source').then(function (lang_target) {
                    lang_target = lang_target != null ? lang_target :
                        config_1.configurations.appLang === 'en' ? 'fr' : 'en';
                    _this.selectLangSource(lang_source).then(function (sourceLang) {
                        _this.sourceLang = sourceLang;
                        _this.selectLangTarget(lang_target).then(function (targetLang) {
                            _this.targetLang = targetLang;
                            resolve({
                                sourceLang: _this.sourceLang,
                                targetLang: _this.targetLang
                            });
                        }, function (error) {
                            reject(error);
                        });
                    }, function (error) {
                        reject(error);
                    });
                    _this.selectLangSource(lang_source);
                }, function (error) {
                    reject(error);
                });
                _this.selectLangSource(lang_source);
            }, function (error) {
                reject(error);
            });
        });
    };
    // Только для субтитров
    LanguageExtras.prototype.reversLangSub = function (lang_source, lang_target) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            _this.selectLangSource(lang_source).then(function (sourceLang) {
                _this.sourceLang = sourceLang;
                _this.selectLangTarget(lang_target).then(function (targetLang) {
                    _this.targetLang = targetLang;
                    resolve({
                        sourceLang: _this.sourceLang,
                        targetLang: _this.targetLang
                    });
                }, function (error) {
                    reject(error);
                });
            }, function (error) {
                reject(error);
            });
        });
    };
    return LanguageExtras;
}());
exports.LanguageExtras = LanguageExtras;


/***/ }),

/***/ "./src/app/functions/main.func.ts":
/*!****************************************!*\
  !*** ./src/app/functions/main.func.ts ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var config_1 = __webpack_require__(/*! ./../config */ "./src/app/config.ts");
var paddingBase64 = '=';
var chrTable = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';
var binTable = [
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 62, -1, -1, -1, 63,
    52, 53, 54, 55, 56, 57, 58, 59, 60, 61, -1, -1, -1, 0, -1, -1,
    -1, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14,
    15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, -1, -1, -1, -1, -1,
    -1, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40,
    41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, -1, -1, -1, -1, -1
];
exports._$id = function (el) {
    return document.getElementById(el);
};
exports._$class = function (el) {
    return document.getElementsByClassName(el);
};
exports._$tag = function (el) {
    return document.getElementsByTagName(el);
};
exports._$attr = function (attribute, className) {
    var dir = [];
    var allElements = exports._$class(className);
    for (var i = 0, n = allElements.length; i < n; i++) {
        if (allElements[i].getAttribute(attribute) !== null) {
            // Element exists with attribute. Add to array.
            dir.push(allElements[i]);
        }
    }
    return dir;
};
// Вернет //2015-10-14 15:52:54
exports.getDateForSql = function (utc) {
    if (utc === void 0) { utc = false; }
    var date = new Date();
    if (utc) {
        return date.getUTCFullYear() + '-' +
            ('00' + (date.getUTCMonth() + 1)).slice(-2) + '-' +
            ('00' + date.getUTCDate()).slice(-2) + ' ' +
            ('00' + date.getUTCHours()).slice(-2) + ':' +
            ('00' + date.getUTCMinutes()).slice(-2) + ':' +
            ('00' + date.getUTCSeconds()).slice(-2);
    }
    else {
        return date.getFullYear() + '-' +
            ('00' + (date.getMonth() + 1)).slice(-2) + '-' +
            ('00' + date.getDate()).slice(-2) + ' ' +
            ('00' + date.getHours()).slice(-2) + ':' +
            ('00' + date.getMinutes()).slice(-2) + ':' +
            ('00' + date.getSeconds()).slice(-2);
    }
};
exports.setPositionSamples = {
    top: function () {
        if (document.body) {
            document.body.classList.remove('position-samples-top');
            document.body.classList.add('position-samples-top');
            setTimeout(function () {
                document.body.classList.remove('position-samples-bottom');
            }, 256);
        }
    },
    bottom: function () {
        if (document.body) {
            document.body.classList.remove('position-samples-bottom');
            document.body.classList.add('position-samples-bottom');
            setTimeout(function () {
                document.body.classList.remove('position-samples-top');
            }, 256);
        }
    }
};
// Return isMobile
exports.isMobile = function () {
    var check = false;
    (function (a) {
        if (/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0, 4)))
            check = true;
    })(navigator.userAgent || navigator.vendor || window['opera']);
    return check;
};
exports.mdMenu = {
    show: function (idMenu, event) {
        document.body.onclick = function (e) {
            if (e && e.target && e.target['className'] &&
                e.target['className'].indexOf && e.target['className'].indexOf('mdl-menu-no-click') === -1) {
                var els = document.querySelectorAll('.mdl-menu.mdl-menu-no-click');
                for (var i = 0; i < els.length; i++) {
                    exports.hide(els[i]);
                }
            }
        };
        var elements = document.querySelectorAll('.mdl-menu.mdl-menu-no-click');
        for (var i = 0; i < elements.length; i++) {
            exports.hide(elements[i]);
        }
        if (event) {
            var pos = event.pageY + document.querySelector('#' + idMenu)['offsetHeight'] + 20;
            if (pos > document.body['offsetHeight']) {
                document.querySelector('#' + idMenu).className += ' mdl-menu--top-right';
            }
            else {
                if (document.querySelector('#' + idMenu).className.indexOf('mdl-menu--top-right') > -1) {
                    document.querySelector('#' + idMenu).className +=
                        document.querySelector('#' + idMenu).className.replace('mdl-menu--top-right', '');
                }
            }
        }
        setTimeout(function () {
            exports.show(document.querySelector('#' + idMenu));
        }, 128);
    },
    hide: function () {
        var elements = document.querySelectorAll('.mdl-menu.mdl-menu-no-click');
        for (var i = 0; i < elements.length; i++) {
            exports.hide(elements[i]);
        }
    }
};
// Получить GET параметр
exports.GET = function (key) {
    var s = window.location.search, regexp = new RegExp(key + '=([^&=]+)'), a = s['match'](regexp);
    return a ? a[1].toString() : false;
};
// Tooltips
exports.tooltip = function (item_id, hover) {
    var itemTooltip = exports._$attr('for', 'sw-tooltip').filter(function (el) {
        return el.getAttribute('for') === item_id;
    })[0];
    if (exports._$id(item_id)) {
        var itemCoords = exports._$id(item_id).getBoundingClientRect();
        var tooltipStyle = getComputedStyle(itemTooltip);
        // get tooltip height then text written in one line
        var tooltipOneLineHeight = parseFloat(tooltipStyle.lineHeight) + parseFloat(tooltipStyle.paddingTop) +
            parseFloat(tooltipStyle.paddingBottom) + parseFloat(tooltipStyle.marginTop) + parseFloat(tooltipStyle.marginBottom) +
            parseFloat(tooltipStyle.borderTop) + parseFloat(tooltipStyle.borderBottom);
        if (hover && (itemTooltip.offsetWidth > itemCoords.width || itemTooltip.offsetHeight > tooltipOneLineHeight)) {
            var firstCondition = itemCoords.height + itemTooltip.offsetHeight <= exports._$tag('body')[0].offsetHeight - itemCoords.top;
            var secondCondition = itemTooltip.offsetWidth <= exports._$tag('body')[0].offsetWidth - itemCoords.left;
            var tooltipCoords = {
                // top: firstCondition ? itemCoords.top + itemCoords.height + 'px' : itemCoords.top - itemTooltip.offsetHeight + 'px',
                top: firstCondition ? itemCoords.top + itemCoords.height + 'px' : itemCoords.top - (itemTooltip.offsetHeight * 1.5) + 'px',
                left: secondCondition ? itemCoords.left + 'px' : exports._$tag('body')[0].offsetWidth - itemTooltip.offsetWidth + 'px',
                transform: 'scale(1)'
            };
            Object.assign(itemTooltip.style, tooltipCoords);
        }
        else {
            var tooltipCoords = {
                top: '-500px',
                left: '-500px',
                transform: 'scale(0)'
            };
            Object.assign(itemTooltip.style, tooltipCoords);
        }
    }
};
// Воспроизведение
exports.speak = {
    play: function (source, lang, speakerName, params) {
        params = params || {};
        params.voiceUrl = params.voiceUrl || 'https://voice2.reverso.net/RestPronunciation.svc/v1';
        params.voiceLimit = params.voiceLimit || 180;
        params.addon = params.addon || '';
        if (lang.length > 2) {
            lang = lang.substr(0, 2);
        }
        var regex = /<(?:[^"'>]+|(["'])(?:\\[\s\S]|(?!\1)[\s\S])*\1)*>/g;
        var indexFirstEm = source.indexOf('<em>');
        var lastEm = source.lastIndexOf('</em>');
        // let src = params.voiceUrl + '/output=json/GetVoiceStream/voiceName=' + speakerName + '?voiceSpeed=500&mp3BitRate=64&inputText=';
        var src = params.voiceUrl + '/output=json/GetVoiceStream/voiceName=' + speakerName + '?mp3BitRate=64&inputText=';
        if (indexFirstEm < 0) {
            src += exports.encode(source);
        }
        else {
            var firstSegment = source.slice(0, indexFirstEm).replace(regex, '');
            var mainSegment_1 = source.slice(indexFirstEm, lastEm).replace(regex, '');
            var lastSegment = source.slice(lastEm, -1).replace(regex, '');
            if (firstSegment.indexOf(' ') < 0)
                firstSegment = ' ' + firstSegment;
            if (lastSegment.indexOf(' ') < 0)
                lastSegment = lastSegment + ' ';
            if (mainSegment_1.length < params.voiceLimit) {
                var firstSegmentArray_1 = firstSegment.split(' ').filter(function (w) {
                    return w.length > 0;
                });
                var lastSegmentArray_1 = lastSegment.split(' ').filter(function (w) {
                    return w.length > 0;
                });
                var addedWords_1 = function (indexFS, indexLS) {
                    var wordFS = firstSegmentArray_1[indexFS] || '';
                    var wordLS = lastSegmentArray_1[indexLS] || '';
                    mainSegment_1 = ' ' + wordFS + ' ' + mainSegment_1.trim() + ' ' + wordLS + ' ';
                    indexFS--;
                    indexLS++;
                    if (mainSegment_1.length >= params.voiceLimit || (wordFS === '' && wordLS === '')) {
                        src += exports.encode(mainSegment_1.trim());
                    }
                    else {
                        addedWords_1(indexFS, indexLS);
                    }
                };
                addedWords_1(firstSegmentArray_1.length - 1, 0);
            }
            else {
                mainSegment_1 = mainSegment_1.slice(0, params.voiceLimit);
                src += exports.encode(mainSegment_1.trim());
            }
        }
        if (params.addon.length > 0) {
            src += '&addon=' + params.addon;
        }
        if (exports._$id('speak-id')) {
            var audio_1 = exports._$id('speak-id');
            if (audio_1['src'] === src && audio_1['paused']) {
                setTimeout(function () {
                    audio_1['play']();
                }, 128);
            }
            else {
                exports._$id('speak-id').remove();
                var audioNew_1 = new Audio(src);
                audioNew_1.id = 'speak-id';
                audioNew_1.className = 'hide';
                audioNew_1.setAttribute('preload', 'none');
                document.body.appendChild(audioNew_1);
                setTimeout(function () {
                    audioNew_1.play();
                }, 128);
            }
        }
        else {
            var audioNew_2 = new Audio(src);
            audioNew_2.id = 'speak-id';
            audioNew_2.className = 'hide';
            audioNew_2.setAttribute('preload', 'none');
            document.body.appendChild(audioNew_2);
            setTimeout(function () {
                audioNew_2.play();
            }, 128);
        }
        if (typeof chrome !== 'undefined' && config_1.configurations.isExtension) {
            chrome['runtime'].sendMessage({ setTrackEvents: config_1.configurations.eventsName.pronunciation });
        }
        else if (typeof safari !== 'undefined' && safari['extension']) {
            var windowGlobalPage = safari['extension'].globalPage.contentWindow;
            windowGlobalPage.respondToMessage({
                name: 'setTrackEvents',
                message: config_1.configurations.eventsName.pronunciation
            });
        }
    },
    stop: function () {
        if (exports._$id('speak-id')) {
            var audio = exports._$id('speak-id');
            audio['pause']();
        }
    }
};
exports.show = function (el) {
    try {
        el.style.display = 'block';
    }
    catch (error) {
    }
};
exports.hide = function (el) {
    try {
        el.style.display = 'none';
    }
    catch (error) {
    }
};
// Обрезание и подсветка слова
exports.sentenceModifier = function (sentence, word, segment, trim) {
    var response = '';
    var trimSentFirst = '';
    var trimSentLast = '';
    if (segment != null && sentence.indexOf(segment) > -1) {
        var trimSentence = sentence.split(segment);
        if (trimSentence[0]) {
            trimSentFirst = trimSentence[0];
            if (trimSentFirst.split(' ').length > 7 && trim === true) {
                var tempArrSent = trimSentFirst.split(' ').slice(-7);
                trimSentFirst = '';
                for (var i = 0; i < tempArrSent.length; i++) {
                    trimSentFirst += tempArrSent[i] + ' ';
                }
            }
        }
        if (trimSentence[1]) {
            trimSentLast = trimSentence[1];
            if (trimSentLast.split(' ').length > 7 && trim === true) {
                var tempArrSent = trimSentLast.split(' ', 7);
                trimSentLast = '';
                for (var i = 0; i < tempArrSent.length; i++) {
                    trimSentLast += ' ' + tempArrSent[i];
                }
            }
        }
        var modifSegment = segment;
        modifSegment = modifSegment.replace(new RegExp(word, 'g'), '<strong class="strong-dark-blue">' + word + '</strong>');
        modifSegment = '<span class="strong-dark-blue">' + modifSegment + '</span>';
        response = trimSentFirst + modifSegment + trimSentLast;
    }
    else if (sentence.indexOf(word) > -1) {
        var trimSentence = sentence.split(word);
        if (trimSentence[0]) {
            trimSentFirst = trimSentence[0];
            if (trimSentFirst.split(' ').length > 5 && trim === true) {
                var tempArrSent = trimSentFirst.split(' ').slice(-5);
                trimSentFirst = '';
                for (var i = 0; i < tempArrSent.length; i++) {
                    trimSentFirst += tempArrSent[i] + ' ';
                }
            }
        }
        if (trimSentence[1]) {
            trimSentLast = trimSentence[1];
            if (trimSentLast.split(' ').length > 5 && trim === true) {
                var tempArrSent = trimSentLast.split(' ', 5);
                trimSentLast = '';
                for (var i = 0; i < tempArrSent.length; i++) {
                    trimSentLast += ' ' + tempArrSent[i];
                }
            }
        }
        response = trimSentFirst + '<strong class="strong-dark-blue">' + word + '</strong>' + trimSentLast;
    }
    else {
        response = sentence;
    }
    return response;
};
// New scroll
var Scroll = /** @class */ (function () {
    function Scroll(el) {
        this.buttonLeft = null;
        this.buttonRight = null;
        this.blockScroll = null;
        this.scrollLeft = 0;
        this.scrollPX = 128;
        this.timer = null;
        this.init(el);
    }
    Scroll.prototype.move = function (px) {
        var _this = this;
        px = px || 0;
        var count = 0;
        this.scrollLeft = (this.scrollLeft || 0);
        if (this.timer)
            clearInterval(this.timer);
        if (this.blockScroll && this.blockScroll.parentNode) {
            if (this.scrollLeft > this.blockScroll.offsetWidth - this.blockScroll.parentNode.offsetWidth && px > this.scrollLeft) {
                return false;
            }
            this.timer = setInterval(function () {
                count++;
                if (px > _this.scrollLeft) {
                    var i = _this.scrollLeft;
                    i += 2;
                    _this.blockScroll.parentNode.scrollLeft = i;
                    _this.scrollLeft = _this.blockScroll.parentNode.scrollLeft;
                }
                else if (px < _this.scrollLeft) {
                    var i = _this.scrollLeft;
                    i -= 2;
                    _this.blockScroll.parentNode.scrollLeft = i;
                    _this.scrollLeft = _this.blockScroll.parentNode.scrollLeft;
                }
                // Защита от разброса
                if (px === parseInt(_this.scrollLeft, 10) - 1 || px === parseInt(_this.scrollLeft, 10) + 1) {
                    clearInterval(_this.timer);
                }
                if (count > 1000 || px === _this.scrollLeft || _this.scrollLeft <= 0 ||
                    _this.scrollLeft > _this.blockScroll.offsetWidth - _this.blockScroll.parentNode.offsetWidth) {
                    clearInterval(_this.timer);
                }
            }, 1);
        }
    };
    Scroll.prototype.moveLeft = function () {
        this.scrollLeft = this.blockScroll && this.blockScroll.parentNode ? this.blockScroll.parentNode.scrollLeft : this.scrollLeft;
        this.move(parseInt(this.scrollLeft + (this.scrollPX * -1), 10));
    };
    Scroll.prototype.moveRight = function () {
        this.scrollLeft = this.blockScroll && this.blockScroll.parentNode ? this.blockScroll.parentNode.scrollLeft : this.scrollLeft;
        this.move(parseInt(this.scrollLeft + (this.scrollPX), 10));
    };
    Scroll.prototype.moveToButton = function (element, event) {
        if (element) {
            this.scrollLeft = this.blockScroll && this.blockScroll.parentNode ? this.blockScroll.parentNode.scrollLeft : this.scrollLeft;
            var positionElement = element.getBoundingClientRect(), positionParent = this.blockScroll.parentNode.getBoundingClientRect(), moveRelativeToLeftEdge = Math.round((positionElement.left || 0) - (positionParent.left || 0) + this.scrollLeft - 42), moveRelativeToRightEdge = Math.round(this.scrollLeft + (positionParent.width || 0) - ((positionParent.width || 0) -
                (positionElement.width || 0)));
            if (moveRelativeToRightEdge > moveRelativeToLeftEdge)
                moveRelativeToRightEdge = moveRelativeToLeftEdge;
            if ((positionElement.left + positionElement.width) > positionParent.width) {
                this.move(moveRelativeToRightEdge);
            }
            else if (positionElement.left < positionParent.left) {
                this.move(moveRelativeToLeftEdge);
            }
        }
    };
    Scroll.prototype.setWidth = function () {
        if (!this.blockScroll)
            return false;
        var widthBlock = 0, _this = this;
        for (var i = 0; i < this.blockScroll.childNodes.length; i++) {
            var element = this.blockScroll.childNodes[i];
            if (element && element.nodeType === 1) {
                var style = element.currentStyle || window.getComputedStyle(element), width = element.offsetWidth, // or use style.width
                margin = parseFloat(style.marginLeft) + parseFloat(style.marginRight), padding = parseFloat(style.paddingLeft) + parseFloat(style.paddingRight), border = parseFloat(style.borderLeftWidth) + parseFloat(style.borderRightWidth);
                widthBlock += Math.round(width + margin + border); // Math.round(width + margin - padding + border)
                element.addEventListener('click', function (event) {
                    _this.moveToButton(this, event); // this = this element
                });
            }
        }
        var firstButton = this.blockScroll.querySelector('.switch-translate.active');
        if (firstButton) {
            _this.moveToButton(firstButton, null);
        }
        this.blockScroll.style.width = Math.round(widthBlock) + 'px'; // + 95
        // Показать стрелки управления скроллом
        if ((!this.blockScroll.parentNode) || (this.blockScroll.parentNode && this.blockScroll.parentNode['offsetWidth'] &&
            this.blockScroll.parentNode['offsetWidth'] + 50 < Math.round(widthBlock + 95))) {
            if (this.buttonLeft)
                this.buttonLeft.style.display = 'block';
            if (this.buttonRight)
                this.buttonRight.style.display = 'block';
        }
    };
    Scroll.prototype.scrollEvent = function () {
        if (this.blockScroll && this.blockScroll.parentNode) {
            this.scrollLeft = this.blockScroll && this.blockScroll.parentNode ? this.blockScroll.parentNode.scrollLeft : this.scrollLeft;
            var positionScrollBlock = this.blockScroll.getBoundingClientRect(), positionParent = this.blockScroll.parentNode.getBoundingClientRect();
            // Left button
            if (this.scrollLeft <= 0 && this.buttonLeft) {
                this.buttonLeft.classList.add('inactive');
            }
            else if (this.scrollLeft > 0 && this.buttonLeft) {
                this.buttonLeft.classList.remove('inactive');
            }
            // Right button
            if (positionScrollBlock.width < (this.scrollLeft + positionParent.width + positionParent.left) && this.buttonRight) {
                this.buttonRight.classList.add('inactive');
            }
            else if (this.buttonRight) {
                this.buttonRight.classList.remove('inactive');
            }
        }
    };
    Scroll.prototype.init = function (el) {
        if (!el)
            return false;
        this.buttonLeft = el.querySelector('.scroll-left');
        this.buttonRight = el.querySelector('.scroll-right');
        this.blockScroll = el.querySelector('.scroll-x');
        this.scrollLeft = 0;
        var _this = this;
        if (this.buttonLeft) {
            this.buttonLeft.style.display = 'none';
            this.buttonLeft.onclick = function () {
                _this.moveLeft();
            };
        }
        if (this.buttonRight) {
            this.buttonRight.style.display = 'none';
            this.buttonRight.onclick = function () {
                _this.moveRight();
            };
        }
        if (this.blockScroll && this.blockScroll.parentNode) {
            this.blockScroll.parentNode.scrollLeft = this.scrollLeft;
        }
        this.setWidth();
        this.scrollEvent();
        if (this.blockScroll && this.blockScroll.parentNode) {
            this.blockScroll.parentNode.onscroll = function () {
                _this.scrollEvent();
            };
        }
    };
    return Scroll;
}());
exports.Scroll = Scroll;
// Выставить высоту для блока расширения
exports.setHeightDocument = function (height) {
    if (height === void 0) { height = 468; }
    if (!(top.location !== self.location)) {
        // Если добавим анимацию то будет в некоторых компонентах дергаться
        // document.documentElement.style.transition = 'height .3s';
    }
    document.documentElement.style.height = height.toString().indexOf('%') < 0 ? height + 'px' : height;
};
// Модальное окно
exports.modal = {
    show: function (title, body, full) {
        if (full === void 0) { full = false; }
        var modalBody = document.createElement('div');
        modalBody.className = 'modal-body';
        if (full) {
            modalBody.className += ' full';
        }
        modalBody.innerHTML = '<div class="modal-win mdl-shadow--2dp">' +
            '<header class="modal-win-header"> <span class="mdl-layout-title"> ' + title +
            '</span><a id="close_button_modal" class="close-but" (click)="modal.hide();"><i class="material-icons">close</i></a></header>' +
            '<section class="modal-win-section"> ' + body + ' </section>' +
            '</div>';
        document.body.appendChild(modalBody);
        if (document.querySelector('#close_button_modal')) {
            document.querySelector('#close_button_modal').addEventListener('click', function () {
                exports.modal.hide();
            });
        }
        if (document.querySelector('.close_button_modal')) {
            document.querySelector('.close_button_modal').addEventListener('click', function () {
                exports.modal.hide();
            });
        }
        // if(typeof safari != "undefined"){
        //     openNewTabSafari();
        // }
    },
    hide: function () {
        if (document.querySelectorAll('.modal-body').length > 0) {
            for (var i = 0; i < document.querySelectorAll('.modal-body').length; i++) {
                document.querySelectorAll('.modal-body')[0].remove();
            }
        }
    }
};
// Кодирвет в Base64
exports.encode = function (str) {
    var result = '', bytes = exports.utf8Encode(str), length = bytes.length, i;
    // Convert every three bytes to 4 ascii characters.
    for (i = 0; i < (length - 2); i += 3) {
        result += chrTable[bytes[i] >> 2];
        result += chrTable[((bytes[i] & 0x03) << 4) + (bytes[i + 1] >> 4)];
        result += chrTable[((bytes[i + 1] & 0x0f) << 2) + (bytes[i + 2] >> 6)];
        result += chrTable[bytes[i + 2] & 0x3f];
    }
    // Convert the remaining 1 or 2 bytes, pad out to 4 characters.
    if (length % 3) {
        i = length - (length % 3);
        result += chrTable[bytes[i] >> 2];
        if ((length % 3) === 2) {
            result += chrTable[((bytes[i] & 0x03) << 4) + (bytes[i + 1] >> 4)];
            result += chrTable[(bytes[i + 1] & 0x0f) << 2];
            result += paddingBase64;
        }
        else {
            result += chrTable[(bytes[i] & 0x03) << 4];
            result += paddingBase64 + paddingBase64;
        }
    }
    return result;
};
// internal helpers //////////////////////////////////////////////////////////
exports.utf8Encode = function (str) {
    var bytes = [], offset = 0, length, char;
    str = encodeURI(str);
    length = str.length;
    while (offset < length) {
        char = str[offset];
        offset += 1;
        if ('%' !== char) {
            bytes.push(char.charCodeAt(0));
        }
        else {
            char = str[offset] + str[offset + 1];
            bytes.push(parseInt(char, 16));
            offset += 2;
        }
    }
    return bytes;
};
// Преобразует картинку в base64
exports.imageToBase64 = function (src, width, height) {
    if (width === void 0) { width = 1024; }
    if (height === void 0) { height = 1024; }
    var MAX_WIDTH = width;
    var MAX_HEIGHT = height;
    var result = '';
    return new Promise(function (resolve, reject) {
        if (src && src.trim().length > 1 && src.search(/png|jpg|jpeg|jpe|ico|gif/gi) > -1) {
            try {
                if (src.indexOf('data:image') < 0) {
                    var image_1 = new Image();
                    image_1.src = src;
                    image_1.onload = function () {
                        var iw = image_1.width;
                        var ih = image_1.height;
                        if (iw < MAX_WIDTH)
                            MAX_WIDTH = iw;
                        if (ih < MAX_HEIGHT)
                            MAX_HEIGHT = ih;
                        var scale = Math.min((MAX_WIDTH / iw), (MAX_HEIGHT / ih));
                        var sw = iw * scale;
                        var sh = ih * scale;
                        var canvas = document.createElement('canvas');
                        canvas.className = 'cache-image';
                        canvas.width = MAX_WIDTH;
                        canvas.height = MAX_HEIGHT;
                        var ctx = canvas.getContext('2d');
                        ctx.drawImage(image_1, 0, 0, iw, ih, (canvas.width - sw) / 2, (canvas.height - sh) / 2, iw * scale, ih * scale);
                        result = canvas.toDataURL('image/png');
                        canvas.remove();
                        resolve(result);
                    };
                    image_1.onerror = function () {
                        resolve('');
                    };
                }
                else {
                    resolve(src);
                }
            }
            catch (error) {
                resolve('');
            }
        }
        else {
            resolve('');
        }
    });
};
// create guid
exports.generateGuid = function () {
    function s4() {
        return Math.floor((1 + Math.random()) * 0x10000)
            .toString(16)
            .substring(1);
    }
    return s4() + s4() + '-' + s4() + '-' + s4() + '-' +
        s4() + '-' + s4() + s4() + s4();
};
exports.removeDiacritics = function (str) {
    var defaultDiacriticsRemovalMap = [
        {
            'base': 'A',
            'letters': /[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g
        },
        { 'base': 'AA', 'letters': /[\uA732]/g },
        { 'base': 'AE', 'letters': /[\u00C6\u01FC\u01E2]/g },
        { 'base': 'AO', 'letters': /[\uA734]/g },
        { 'base': 'AU', 'letters': /[\uA736]/g },
        { 'base': 'AV', 'letters': /[\uA738\uA73A]/g },
        { 'base': 'AY', 'letters': /[\uA73C]/g },
        { 'base': 'B', 'letters': /[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g },
        { 'base': 'C', 'letters': /[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g },
        {
            'base': 'D',
            'letters': /[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g
        },
        { 'base': 'DZ', 'letters': /[\u01F1\u01C4]/g },
        { 'base': 'Dz', 'letters': /[\u01F2\u01C5]/g },
        {
            'base': 'E',
            'letters': /[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g
        },
        { 'base': 'F', 'letters': /[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g },
        {
            'base': 'G',
            'letters': /[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g
        },
        {
            'base': 'H',
            'letters': /[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g
        },
        {
            'base': 'I',
            'letters': /[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g
        },
        { 'base': 'J', 'letters': /[\u004A\u24BF\uFF2A\u0134\u0248]/g },
        {
            'base': 'K',
            'letters': /[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g
        },
        {
            'base': 'L',
            'letters': /[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g
        },
        { 'base': 'LJ', 'letters': /[\u01C7]/g },
        { 'base': 'Lj', 'letters': /[\u01C8]/g },
        { 'base': 'M', 'letters': /[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g },
        {
            'base': 'N',
            'letters': /[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g
        },
        { 'base': 'NJ', 'letters': /[\u01CA]/g },
        { 'base': 'Nj', 'letters': /[\u01CB]/g },
        {
            'base': 'O',
            'letters': /[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g
        },
        { 'base': 'OI', 'letters': /[\u01A2]/g },
        { 'base': 'OO', 'letters': /[\uA74E]/g },
        { 'base': 'OU', 'letters': /[\u0222]/g },
        { 'base': 'P', 'letters': /[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g },
        { 'base': 'Q', 'letters': /[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g },
        {
            'base': 'R',
            'letters': /[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g
        },
        {
            'base': 'S',
            'letters': /[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g
        },
        {
            'base': 'T',
            'letters': /[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g
        },
        { 'base': 'TZ', 'letters': /[\uA728]/g },
        {
            'base': 'U',
            'letters': /[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g
        },
        { 'base': 'V', 'letters': /[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g },
        { 'base': 'VY', 'letters': /[\uA760]/g },
        { 'base': 'W', 'letters': /[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g },
        { 'base': 'X', 'letters': /[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g },
        {
            'base': 'Y',
            'letters': /[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g
        },
        {
            'base': 'Z',
            'letters': /[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g
        },
        {
            'base': 'a',
            'letters': /[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g
        },
        { 'base': 'aa', 'letters': /[\uA733]/g },
        { 'base': 'ae', 'letters': /[\u00E6\u01FD\u01E3]/g },
        { 'base': 'ao', 'letters': /[\uA735]/g },
        { 'base': 'au', 'letters': /[\uA737]/g },
        { 'base': 'av', 'letters': /[\uA739\uA73B]/g },
        { 'base': 'ay', 'letters': /[\uA73D]/g },
        { 'base': 'b', 'letters': /[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g },
        { 'base': 'c', 'letters': /[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g },
        {
            'base': 'd',
            'letters': /[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g
        },
        { 'base': 'dz', 'letters': /[\u01F3\u01C6]/g },
        {
            'base': 'e',
            'letters': /[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g
        },
        { 'base': 'f', 'letters': /[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g },
        {
            'base': 'g',
            'letters': /[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g
        },
        {
            'base': 'h',
            'letters': /[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g
        },
        { 'base': 'hv', 'letters': /[\u0195]/g },
        {
            'base': 'i',
            'letters': /[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g
        },
        { 'base': 'j', 'letters': /[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g },
        {
            'base': 'k',
            'letters': /[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g
        },
        {
            'base': 'l',
            'letters': /[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g
        },
        { 'base': 'lj', 'letters': /[\u01C9]/g },
        { 'base': 'm', 'letters': /[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g },
        {
            'base': 'n',
            'letters': /[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g
        },
        { 'base': 'nj', 'letters': /[\u01CC]/g },
        {
            'base': 'o',
            'letters': /[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g
        },
        { 'base': 'oi', 'letters': /[\u01A3]/g },
        { 'base': 'ou', 'letters': /[\u0223]/g },
        { 'base': 'oo', 'letters': /[\uA74F]/g },
        { 'base': 'p', 'letters': /[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g },
        { 'base': 'q', 'letters': /[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g },
        {
            'base': 'r',
            'letters': /[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g
        },
        {
            'base': 's',
            'letters': /[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g
        },
        {
            'base': 't',
            'letters': /[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g
        },
        { 'base': 'tz', 'letters': /[\uA729]/g },
        {
            'base': 'u',
            'letters': /[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g
        },
        { 'base': 'v', 'letters': /[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g },
        { 'base': 'vy', 'letters': /[\uA761]/g },
        { 'base': 'w', 'letters': /[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g },
        { 'base': 'x', 'letters': /[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g },
        {
            'base': 'y',
            'letters': /[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g
        },
        {
            'base': 'z',
            'letters': /[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g
        }
    ];
    for (var i = 0; i < defaultDiacriticsRemovalMap.length; i++) {
        str = str.replace(defaultDiacriticsRemovalMap[i].letters, defaultDiacriticsRemovalMap[i].base);
    }
    return str;
};
exports.tagText = function (tag, str) {
    if (!tag || str.trim() === '')
        return null;
    var rgx = new RegExp("<" + tag + "[^>]*>(.*?)</" + tag + ">", 'gi');
    // const rgx = /<em[^>]*>(.*?)<\/em>/g;
    var result = rgx.exec(str);
    if (result.length > 0 && result[1].trim() !== '') {
        return result[1];
    }
    return null;
};


/***/ }),

/***/ "./src/app/pages/about/about.page.css.shim.ngstyle.js":
/*!************************************************************!*\
  !*** ./src/app/pages/about/about.page.css.shim.ngstyle.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

/**
 * @fileoverview This file was generated by the Angular template compiler. Do not edit.
 *
 * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}
 * tslint:disable
 */ 
Object.defineProperty(exports, "__esModule", { value: true });
var styles = [""];
exports.styles = styles;


/***/ }),

/***/ "./src/app/pages/about/about.page.ngfactory.js":
/*!*****************************************************!*\
  !*** ./src/app/pages/about/about.page.ngfactory.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

/**
 * @fileoverview This file was generated by the Angular template compiler. Do not edit.
 *
 * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}
 * tslint:disable
 */ 
Object.defineProperty(exports, "__esModule", { value: true });
var i0 = __webpack_require__(/*! ./about.page.css.shim.ngstyle */ "./src/app/pages/about/about.page.css.shim.ngstyle.js");
var i1 = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var i2 = __webpack_require__(/*! @ngx-translate/core */ "./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
var i3 = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
var i4 = __webpack_require__(/*! ./about.page */ "./src/app/pages/about/about.page.ts");
var i5 = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var styles_AboutComponent = [i0.styles];
var RenderType_AboutComponent = i1.ɵcrt({ encapsulation: 0, styles: styles_AboutComponent, data: {} });
exports.RenderType_AboutComponent = RenderType_AboutComponent;
function View_AboutComponent_0(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "h1", [["class", "title-view"]], null, null, null, null, null)), (_l()(), i1.ɵted(1, null, ["", ""])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(3, 0, null, null, 34, "main", [["class", "body-app body-iframe overflow-hidden"]], null, null, null, null, null)), (_l()(), i1.ɵeld(4, 0, null, null, 33, "div", [["class", "about-page"]], null, null, null, null, null)), (_l()(), i1.ɵeld(5, 0, null, null, 32, "ul", [["class", "list"]], null, null, null, null, null)), (_l()(), i1.ɵeld(6, 0, null, null, 2, "li", [["class", "item logo text-center"]], null, null, null, null, null)), (_l()(), i1.ɵeld(7, 0, null, null, 1, "a", [["target", "_blank"]], [[8, "href", 4]], null, null, null, null)), (_l()(), i1.ɵeld(8, 0, null, null, 0, "img", [["src", "./assets/images/reverso-logo-big.png"]], null, null, null, null, null)), (_l()(), i1.ɵeld(9, 0, null, null, 5, "li", [["class", "item title"]], null, null, null, null, null)), (_l()(), i1.ɵeld(10, 0, null, null, 4, "h1", [], null, null, null, null, null)), (_l()(), i1.ɵeld(11, 0, null, null, 2, "strong", [], null, null, null, null, null)), (_l()(), i1.ɵted(12, null, ["", ""])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵted(14, null, [" v", " "])), (_l()(), i1.ɵeld(15, 0, null, null, 3, "li", [["class", "item sub-title"]], null, null, null, null, null)), (_l()(), i1.ɵeld(16, 0, null, null, 2, "h6", [["class", "margin-top-0"]], null, null, null, null, null)), (_l()(), i1.ɵted(17, null, ["", ""])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(19, 0, null, null, 2, "li", [["class", "item desc"]], null, null, null, null, null)), (_l()(), i1.ɵted(20, null, [" ", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(22, 0, null, null, 3, "li", [["class", "item links help"]], null, null, null, null, null)), (_l()(), i1.ɵeld(23, 0, null, null, 2, "a", [["class", "mdl-color-text--grey-700"], ["target", "_blank"]], [[8, "href", 4]], null, null, null, null)), (_l()(), i1.ɵted(24, null, [" ", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(26, 0, null, null, 2, "li", [["class", "item available"]], null, null, null, null, null)), (_l()(), i1.ɵeld(27, 0, null, null, 1, "span", [], [[8, "innerHTML", 1]], null, null, null, null)), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(29, 0, null, null, 4, "li", [["class", "item magazine"]], null, null, null, null, null)), (_l()(), i1.ɵeld(30, 0, null, null, 1, "a", [["class", "link-to-appstore-and-googleplay"], ["href", "https://itunes.apple.com/us/app/reverso-translation-dictionary/id919979642"], ["target", "_blank"]], null, null, null, null, null)), (_l()(), i1.ɵeld(31, 0, null, null, 0, "img", [["class", "app-store"]], [[8, "src", 4]], null, null, null, null)), (_l()(), i1.ɵeld(32, 0, null, null, 1, "a", [["class", "link-to-appstore-and-googleplay"], ["href", "https://play.google.com/store/apps/details?id=com.softissimo.reverso.context"], ["target", "_blank"]], null, null, null, null, null)), (_l()(), i1.ɵeld(33, 0, null, null, 0, "img", [["class", "google-play"]], [[8, "src", 4]], null, null, null, null)), (_l()(), i1.ɵeld(34, 0, null, null, 3, "li", [["class", "item links"]], null, null, null, null, null)), (_l()(), i1.ɵeld(35, 0, null, null, 2, "a", [["class", "mdl-color-text--grey-500"], ["target", "_blank"]], [[8, "href", 4]], null, null, null, null)), (_l()(), i1.ɵted(36, null, [" ", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(38, 0, null, null, 11, "footer", [["class", "mdl-mini-footer"]], null, null, null, null, null)), i1.ɵdid(39, 278528, null, 0, i3.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), (_l()(), i1.ɵeld(40, 0, null, null, 9, "div", [["class", "mdl-mini-footer__left-section"]], null, null, null, null, null)), (_l()(), i1.ɵeld(41, 0, null, null, 8, "ul", [["class", "mdl-mini-footer__link-list"]], null, null, null, null, null)), (_l()(), i1.ɵeld(42, 0, null, null, 7, "li", [["class", "copyright-item"]], null, null, null, null, null)), (_l()(), i1.ɵeld(43, 0, null, null, 2, "div", [["class", "circle-indicator"]], null, null, null, null, null)), i1.ɵdid(44, 278528, null, 0, i3.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), i1.ɵpod(45, { active: 0 }), (_l()(), i1.ɵted(46, null, [" ", " \u00A9 "])), (_l()(), i1.ɵeld(47, 0, null, null, 1, "a", [["target", "_blank"]], [[8, "href", 4]], null, null, null, null)), (_l()(), i1.ɵted(-1, null, [" Reverso "])), (_l()(), i1.ɵted(49, null, [" v", " "]))], function (_ck, _v) { var _co = _v.component; var currVal_13 = "mdl-mini-footer"; var currVal_14 = (_co.configurations.isMiniView ? "hide" : ""); _ck(_v, 39, 0, currVal_13, currVal_14); var currVal_15 = "circle-indicator"; var currVal_16 = _ck(_v, 45, 0, _co.isAuth); _ck(_v, 44, 0, currVal_15, currVal_16); }, function (_ck, _v) { var _co = _v.component; var currVal_0 = i1.ɵunv(_v, 1, 0, i1.ɵnov(_v, 2).transform("about")); _ck(_v, 1, 0, currVal_0); var currVal_1 = i1.ɵinlineInterpolate(1, "", _co.configurations.links.context, ""); _ck(_v, 7, 0, currVal_1); var currVal_2 = i1.ɵunv(_v, 12, 0, i1.ɵnov(_v, 13).transform("reversoExtension")); _ck(_v, 12, 0, currVal_2); var currVal_3 = _co.configurations.version; _ck(_v, 14, 0, currVal_3); var currVal_4 = i1.ɵunv(_v, 17, 0, i1.ɵnov(_v, 18).transform("translationInContext")); _ck(_v, 17, 0, currVal_4); var currVal_5 = i1.ɵunv(_v, 20, 0, i1.ɵnov(_v, 21).transform("internalVersion")); _ck(_v, 20, 0, currVal_5); var currVal_6 = i1.ɵinlineInterpolate(4, "", _co.configurations.server, "/doc/help/?origin=", _co.configurations.origin, "&uiLang=", _co.configurations.appLang, "&version=", _co.configurations.version, ""); _ck(_v, 23, 0, currVal_6); var currVal_7 = i1.ɵunv(_v, 24, 0, i1.ɵnov(_v, 25).transform("help")); _ck(_v, 24, 0, currVal_7); var currVal_8 = i1.ɵunv(_v, 27, 0, i1.ɵnov(_v, 28).transform("downloadAppsFromAppStoreAndGooglePlay")); _ck(_v, 27, 0, currVal_8); var currVal_9 = i1.ɵinlineInterpolate(1, "./assets/images/app-store-", _co.configurations.appLang, ".png"); _ck(_v, 31, 0, currVal_9); var currVal_10 = i1.ɵinlineInterpolate(1, "./assets/images/google-play-", _co.configurations.appLang, ".png"); _ck(_v, 33, 0, currVal_10); var currVal_11 = i1.ɵinlineInterpolate(3, "", _co.configurations.server, "/doc/opensource/?origin=", _co.configurations.origin, "&uiLang=", _co.configurations.appLang, ""); _ck(_v, 35, 0, currVal_11); var currVal_12 = i1.ɵunv(_v, 36, 0, i1.ɵnov(_v, 37).transform("openSourceSoftware")); _ck(_v, 36, 0, currVal_12); var currVal_17 = _co.configurations.currentYear; _ck(_v, 46, 0, currVal_17); var currVal_18 = i1.ɵinlineInterpolate(1, "", _co.configurations.links.context, ""); _ck(_v, 47, 0, currVal_18); var currVal_19 = _co.configurations.version; _ck(_v, 49, 0, currVal_19); }); }
exports.View_AboutComponent_0 = View_AboutComponent_0;
function View_AboutComponent_Host_0(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 1, "about-page", [], null, null, null, View_AboutComponent_0, RenderType_AboutComponent)), i1.ɵdid(1, 114688, null, 0, i4.AboutComponent, [i5.Router, i5.ActivatedRoute], null, null)], function (_ck, _v) { _ck(_v, 1, 0); }, null); }
exports.View_AboutComponent_Host_0 = View_AboutComponent_Host_0;
var AboutComponentNgFactory = i1.ɵccf("about-page", i4.AboutComponent, View_AboutComponent_Host_0, {}, {}, []);
exports.AboutComponentNgFactory = AboutComponentNgFactory;


/***/ }),

/***/ "./src/app/pages/about/about.page.ts":
/*!*******************************************!*\
  !*** ./src/app/pages/about/about.page.ts ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Created by e on 20/07/2017.
 */
var core_1 = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var router_1 = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
// Add the RxJS Observable operators we need in this app.
__webpack_require__(/*! ./../../rxjs-operators */ "./src/app/rxjs-operators.ts");
var main_func_1 = __webpack_require__(/*! ../../functions/main.func */ "./src/app/functions/main.func.ts");
var config_1 = __webpack_require__(/*! ../../config */ "./src/app/config.ts");
var profile_local_1 = __webpack_require__(/*! ../../services/profile.local */ "./src/app/services/profile.local.ts");
var AboutComponent = /** @class */ (function () {
    function AboutComponent(router, route) {
        this.router = router;
        this.route = route;
        this.error = false;
        this.errorMessage = '';
        this.setHeightDocument = main_func_1.setHeightDocument;
        this.tooltip = main_func_1.tooltip;
        // Main Functions
        this.mdMenu = main_func_1.mdMenu;
        this.configurations = config_1.configurations;
        this.isAuth = false;
    }
    AboutComponent.prototype.setMiniView = function (height) {
        if (height === void 0) { height = 87; }
        this.setHeightDocument(height);
        config_1.configurations.isMiniView = true;
    };
    AboutComponent.prototype.setNormalView = function (height) {
        if (height === void 0) { height = 468; }
        this.setHeightDocument(height);
        config_1.configurations.isMiniView = false;
    };
    AboutComponent.prototype.ngOnInit = function () {
        this.setNormalView(536);
        this.profile = profile_local_1.GASUSERPROFILE.get() ? profile_local_1.GASUSERPROFILE.get()['data'] : null;
        this.isAuth = profile_local_1.CHECK_AUTH();
        if (this.isAuth) {
            this.user = profile_local_1.GASUSERINFO.get() ? profile_local_1.GASUSERINFO.get()['data'] : null;
        }
    };
    return AboutComponent;
}());
exports.AboutComponent = AboutComponent;


/***/ }),

/***/ "./src/app/pages/feedback/feedback.page.css.shim.ngstyle.js":
/*!******************************************************************!*\
  !*** ./src/app/pages/feedback/feedback.page.css.shim.ngstyle.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

/**
 * @fileoverview This file was generated by the Angular template compiler. Do not edit.
 *
 * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}
 * tslint:disable
 */ 
Object.defineProperty(exports, "__esModule", { value: true });
var styles = [""];
exports.styles = styles;


/***/ }),

/***/ "./src/app/pages/feedback/feedback.page.ngfactory.js":
/*!***********************************************************!*\
  !*** ./src/app/pages/feedback/feedback.page.ngfactory.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

/**
 * @fileoverview This file was generated by the Angular template compiler. Do not edit.
 *
 * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}
 * tslint:disable
 */ 
Object.defineProperty(exports, "__esModule", { value: true });
var i0 = __webpack_require__(/*! ./feedback.page.css.shim.ngstyle */ "./src/app/pages/feedback/feedback.page.css.shim.ngstyle.js");
var i1 = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var i2 = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
var i3 = __webpack_require__(/*! @ngx-translate/core */ "./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
var i4 = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
var i5 = __webpack_require__(/*! ../../storage/settings.storage */ "./src/app/storage/settings.storage.ts");
var i6 = __webpack_require__(/*! ../../services/translate.service */ "./src/app/services/translate.service.ts");
var i7 = __webpack_require__(/*! ../../../api/api */ "./src/api/api.ts");
var i8 = __webpack_require__(/*! ../../services/profile.service */ "./src/app/services/profile.service.ts");
var i9 = __webpack_require__(/*! ../../storage/history.storage */ "./src/app/storage/history.storage.ts");
var i10 = __webpack_require__(/*! ./feedback.page */ "./src/app/pages/feedback/feedback.page.ts");
var i11 = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var styles_FeedbackComponent = [i0.styles];
var RenderType_FeedbackComponent = i1.ɵcrt({ encapsulation: 0, styles: styles_FeedbackComponent, data: {} });
exports.RenderType_FeedbackComponent = RenderType_FeedbackComponent;
function View_FeedbackComponent_1(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 8, "li", [["class", "item-settings cf desc-row"]], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 7, "textarea", [], [[8, "placeholder", 0], [2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "input"], [null, "blur"], [null, "compositionstart"], [null, "compositionend"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("input" === en)) {
        var pd_0 = (i1.ɵnov(_v, 2)._handleInput($event.target.value) !== false);
        ad = (pd_0 && ad);
    } if (("blur" === en)) {
        var pd_1 = (i1.ɵnov(_v, 2).onTouched() !== false);
        ad = (pd_1 && ad);
    } if (("compositionstart" === en)) {
        var pd_2 = (i1.ɵnov(_v, 2)._compositionStart() !== false);
        ad = (pd_2 && ad);
    } if (("compositionend" === en)) {
        var pd_3 = (i1.ɵnov(_v, 2)._compositionEnd($event.target.value) !== false);
        ad = (pd_3 && ad);
    } if (("ngModelChange" === en)) {
        var pd_4 = ((_co.form["Comment"] = $event) !== false);
        ad = (pd_4 && ad);
    } return ad; }, null, null)), i1.ɵdid(2, 16384, null, 0, i2.DefaultValueAccessor, [i1.Renderer2, i1.ElementRef, [2, i2.COMPOSITION_BUFFER_MODE]], null, null), i1.ɵprd(1024, null, i2.NG_VALUE_ACCESSOR, function (p0_0) { return [p0_0]; }, [i2.DefaultValueAccessor]), i1.ɵdid(4, 671744, null, 0, i2.NgModel, [[2, i2.ControlContainer], [8, null], [8, null], [6, i2.NG_VALUE_ACCESSOR]], { model: [0, "model"], options: [1, "options"] }, { update: "ngModelChange" }), i1.ɵpod(5, { standalone: 0 }), i1.ɵprd(2048, null, i2.NgControl, null, [i2.NgModel]), i1.ɵdid(7, 16384, null, 0, i2.NgControlStatus, [[4, i2.NgControl]], null, null), (_l()(), i1.ɵted(-1, null, ["                "]))], function (_ck, _v) { var _co = _v.component; var currVal_8 = _co.form["Comment"]; var currVal_9 = _ck(_v, 5, 0, true); _ck(_v, 4, 0, currVal_8, currVal_9); }, function (_ck, _v) { var _co = _v.component; var currVal_0 = i1.ɵinlineInterpolate(1, "", ((_co.form["FeedbackType"] === "1") ? _co.configurations.localization["feedbackMoreDetailsType1"] : ((_co.form["FeedbackType"] === "2") ? _co.configurations.localization["feedbackMoreDetailsType2"] : _co.configurations.localization["feedbackMoreDetailsType3"])), ""); var currVal_1 = i1.ɵnov(_v, 7).ngClassUntouched; var currVal_2 = i1.ɵnov(_v, 7).ngClassTouched; var currVal_3 = i1.ɵnov(_v, 7).ngClassPristine; var currVal_4 = i1.ɵnov(_v, 7).ngClassDirty; var currVal_5 = i1.ɵnov(_v, 7).ngClassValid; var currVal_6 = i1.ɵnov(_v, 7).ngClassInvalid; var currVal_7 = i1.ɵnov(_v, 7).ngClassPending; _ck(_v, 1, 0, currVal_0, currVal_1, currVal_2, currVal_3, currVal_4, currVal_5, currVal_6, currVal_7); }); }
function View_FeedbackComponent_2(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 8, "li", [["class", "item-settings cf title-row"]], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 7, "input", [["type", "email"]], [[8, "placeholder", 0], [2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "input"], [null, "blur"], [null, "compositionstart"], [null, "compositionend"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("input" === en)) {
        var pd_0 = (i1.ɵnov(_v, 2)._handleInput($event.target.value) !== false);
        ad = (pd_0 && ad);
    } if (("blur" === en)) {
        var pd_1 = (i1.ɵnov(_v, 2).onTouched() !== false);
        ad = (pd_1 && ad);
    } if (("compositionstart" === en)) {
        var pd_2 = (i1.ɵnov(_v, 2)._compositionStart() !== false);
        ad = (pd_2 && ad);
    } if (("compositionend" === en)) {
        var pd_3 = (i1.ɵnov(_v, 2)._compositionEnd($event.target.value) !== false);
        ad = (pd_3 && ad);
    } if (("ngModelChange" === en)) {
        var pd_4 = ((_co.form["Email"] = $event) !== false);
        ad = (pd_4 && ad);
    } return ad; }, null, null)), i1.ɵdid(2, 16384, null, 0, i2.DefaultValueAccessor, [i1.Renderer2, i1.ElementRef, [2, i2.COMPOSITION_BUFFER_MODE]], null, null), i1.ɵprd(1024, null, i2.NG_VALUE_ACCESSOR, function (p0_0) { return [p0_0]; }, [i2.DefaultValueAccessor]), i1.ɵdid(4, 671744, null, 0, i2.NgModel, [[2, i2.ControlContainer], [8, null], [8, null], [6, i2.NG_VALUE_ACCESSOR]], { model: [0, "model"], options: [1, "options"] }, { update: "ngModelChange" }), i1.ɵpod(5, { standalone: 0 }), i1.ɵprd(2048, null, i2.NgControl, null, [i2.NgModel]), i1.ɵdid(7, 16384, null, 0, i2.NgControlStatus, [[4, i2.NgControl]], null, null), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef])], function (_ck, _v) { var _co = _v.component; var currVal_8 = _co.form["Email"]; var currVal_9 = _ck(_v, 5, 0, true); _ck(_v, 4, 0, currVal_8, currVal_9); }, function (_ck, _v) { var currVal_0 = i1.ɵinlineInterpolate(1, "", i1.ɵunv(_v, 1, 0, i1.ɵnov(_v, 8).transform("feedbackEmail")), ""); var currVal_1 = i1.ɵnov(_v, 7).ngClassUntouched; var currVal_2 = i1.ɵnov(_v, 7).ngClassTouched; var currVal_3 = i1.ɵnov(_v, 7).ngClassPristine; var currVal_4 = i1.ɵnov(_v, 7).ngClassDirty; var currVal_5 = i1.ɵnov(_v, 7).ngClassValid; var currVal_6 = i1.ɵnov(_v, 7).ngClassInvalid; var currVal_7 = i1.ɵnov(_v, 7).ngClassPending; _ck(_v, 1, 0, currVal_0, currVal_1, currVal_2, currVal_3, currVal_4, currVal_5, currVal_6, currVal_7); }); }
function View_FeedbackComponent_4(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "div", [], null, null, null, null, null)), (_l()(), i1.ɵted(1, null, ["", ""])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = i1.ɵunv(_v, 1, 0, i1.ɵnov(_v, 2).transform("offline")); _ck(_v, 1, 0, currVal_0); }); }
function View_FeedbackComponent_5(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 0, "div", [["class", "success-mess"]], [[8, "innerHTML", 1]], null, null, null, null))], null, function (_ck, _v) { var _co = _v.component; var currVal_0 = _co.successMessage; _ck(_v, 0, 0, currVal_0); }); }
function View_FeedbackComponent_6(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 0, "div", [["class", "success-mess"]], [[8, "innerHTML", 1]], null, null, null, null))], null, function (_ck, _v) { var _co = _v.component; var currVal_0 = _co.errorMessage; _ck(_v, 0, 0, currVal_0); }); }
function View_FeedbackComponent_7(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 4, "ul", [["class", "form-row settings"]], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 3, "li", [["class", "item-settings cf btn-row text-center"]], null, null, null, null, null)), (_l()(), i1.ɵeld(2, 0, null, null, 2, "button", [["class", "mdl-menu-no-click mdl-button mdl-js-button mdl-menu-button text-capitalize-i btn cancel"], ["type", "button"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = ((_co.error ? _co.showLoading = false : _co.cancel()) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵted(3, null, [" ", " "])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = i1.ɵunv(_v, 3, 0, i1.ɵnov(_v, 4).transform("savePageErrorClose")); _ck(_v, 3, 0, currVal_0); }); }
function View_FeedbackComponent_8(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 0, "div", [["class", "logo-loader"]], null, null, null, null, null))], null, null); }
function View_FeedbackComponent_3(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 11, "div", [["class", "spinner-middleware"]], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 8, "h5", [["class", "middleware-mess"]], null, null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_FeedbackComponent_4)), i1.ɵdid(3, 16384, null, 0, i4.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_FeedbackComponent_5)), i1.ɵdid(5, 16384, null, 0, i4.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_FeedbackComponent_6)), i1.ɵdid(7, 16384, null, 0, i4.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_FeedbackComponent_7)), i1.ɵdid(9, 16384, null, 0, i4.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_FeedbackComponent_8)), i1.ɵdid(11, 16384, null, 0, i4.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null)], function (_ck, _v) { var _co = _v.component; var currVal_0 = !_co.isOnline; _ck(_v, 3, 0, currVal_0); var currVal_1 = _co.success; _ck(_v, 5, 0, currVal_1); var currVal_2 = _co.error; _ck(_v, 7, 0, currVal_2); var currVal_3 = (_co.error || _co.success); _ck(_v, 9, 0, currVal_3); var currVal_4 = ((!_co.error && !_co.success) && !_co.isOnline); _ck(_v, 11, 0, currVal_4); }, null); }
function View_FeedbackComponent_0(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "h1", [["class", "title-view"]], null, null, null, null, null)), (_l()(), i1.ɵted(1, null, ["", ""])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(3, 0, null, null, 62, "main", [["class", "body-app body-iframe overflow-hidden"]], null, null, null, null, null)), i1.ɵdid(4, 278528, null, 0, i4.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), (_l()(), i1.ɵeld(5, 0, null, null, 60, "div", [["class", "feedback-page"]], null, null, null, null, null)), (_l()(), i1.ɵeld(6, 0, null, null, 57, "form", [["autocomplete", "off"], ["novalidate", ""]], [[2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "submit"], [null, "reset"]], function (_v, en, $event) { var ad = true; if (("submit" === en)) {
        var pd_0 = (i1.ɵnov(_v, 8).onSubmit($event) !== false);
        ad = (pd_0 && ad);
    } if (("reset" === en)) {
        var pd_1 = (i1.ɵnov(_v, 8).onReset() !== false);
        ad = (pd_1 && ad);
    } return ad; }, null, null)), i1.ɵdid(7, 16384, null, 0, i2.ɵangular_packages_forms_forms_bg, [], null, null), i1.ɵdid(8, 4210688, null, 0, i2.NgForm, [[8, null], [8, null]], null, null), i1.ɵprd(2048, null, i2.ControlContainer, null, [i2.NgForm]), i1.ɵdid(10, 16384, null, 0, i2.NgControlStatusGroup, [[4, i2.ControlContainer]], null, null), (_l()(), i1.ɵeld(11, 0, null, null, 52, "ul", [["class", "form-row settings"]], null, null, null, null, null)), (_l()(), i1.ɵeld(12, 0, null, null, 3, "li", [], null, null, null, null, null)), (_l()(), i1.ɵeld(13, 0, null, null, 2, "h3", [], null, null, null, null, null)), (_l()(), i1.ɵted(14, null, ["", ""])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(16, 0, null, null, 2, "li", [], [[8, "innerHTML", 1]], null, null, null, null)), (_l()(), i1.ɵted(17, null, ["", " "])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(19, 0, null, null, 30, "li", [["class", "item-settings cf comment-row"]], null, null, null, null, null)), (_l()(), i1.ɵeld(20, 0, null, null, 6, "input", [["name", "FeedbackType"], ["type", "radio"], ["value", "1"]], [[2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "click"], [null, "input"], [null, "blur"], [null, "compositionstart"], [null, "compositionend"], [null, "change"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("input" === en)) {
        var pd_0 = (i1.ɵnov(_v, 21)._handleInput($event.target.value) !== false);
        ad = (pd_0 && ad);
    } if (("blur" === en)) {
        var pd_1 = (i1.ɵnov(_v, 21).onTouched() !== false);
        ad = (pd_1 && ad);
    } if (("compositionstart" === en)) {
        var pd_2 = (i1.ɵnov(_v, 21)._compositionStart() !== false);
        ad = (pd_2 && ad);
    } if (("compositionend" === en)) {
        var pd_3 = (i1.ɵnov(_v, 21)._compositionEnd($event.target.value) !== false);
        ad = (pd_3 && ad);
    } if (("change" === en)) {
        var pd_4 = (i1.ɵnov(_v, 22).onChange() !== false);
        ad = (pd_4 && ad);
    } if (("blur" === en)) {
        var pd_5 = (i1.ɵnov(_v, 22).onTouched() !== false);
        ad = (pd_5 && ad);
    } if (("ngModelChange" === en)) {
        var pd_6 = ((_co.form["FeedbackType"] = $event) !== false);
        ad = (pd_6 && ad);
    } if (("click" === en)) {
        var pd_7 = (_co.setNormalView(536) !== false);
        ad = (pd_7 && ad);
    } return ad; }, null, null)), i1.ɵdid(21, 16384, null, 0, i2.DefaultValueAccessor, [i1.Renderer2, i1.ElementRef, [2, i2.COMPOSITION_BUFFER_MODE]], null, null), i1.ɵdid(22, 212992, null, 0, i2.RadioControlValueAccessor, [i1.Renderer2, i1.ElementRef, i2.ɵangular_packages_forms_forms_i, i1.Injector], { name: [0, "name"], value: [1, "value"] }, null), i1.ɵprd(1024, null, i2.NG_VALUE_ACCESSOR, function (p0_0, p1_0) { return [p0_0, p1_0]; }, [i2.DefaultValueAccessor, i2.RadioControlValueAccessor]), i1.ɵdid(24, 671744, null, 0, i2.NgModel, [[2, i2.ControlContainer], [8, null], [8, null], [6, i2.NG_VALUE_ACCESSOR]], { name: [0, "name"], model: [1, "model"] }, { update: "ngModelChange" }), i1.ɵprd(2048, null, i2.NgControl, null, [i2.NgModel]), i1.ɵdid(26, 16384, null, 0, i2.NgControlStatus, [[4, i2.NgControl]], null, null), (_l()(), i1.ɵted(27, null, [" ", ""])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(29, 0, null, null, 0, "br", [], null, null, null, null, null)), (_l()(), i1.ɵeld(30, 0, null, null, 6, "input", [["name", "FeedbackType"], ["type", "radio"], ["value", "2"]], [[2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "click"], [null, "input"], [null, "blur"], [null, "compositionstart"], [null, "compositionend"], [null, "change"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("input" === en)) {
        var pd_0 = (i1.ɵnov(_v, 31)._handleInput($event.target.value) !== false);
        ad = (pd_0 && ad);
    } if (("blur" === en)) {
        var pd_1 = (i1.ɵnov(_v, 31).onTouched() !== false);
        ad = (pd_1 && ad);
    } if (("compositionstart" === en)) {
        var pd_2 = (i1.ɵnov(_v, 31)._compositionStart() !== false);
        ad = (pd_2 && ad);
    } if (("compositionend" === en)) {
        var pd_3 = (i1.ɵnov(_v, 31)._compositionEnd($event.target.value) !== false);
        ad = (pd_3 && ad);
    } if (("change" === en)) {
        var pd_4 = (i1.ɵnov(_v, 32).onChange() !== false);
        ad = (pd_4 && ad);
    } if (("blur" === en)) {
        var pd_5 = (i1.ɵnov(_v, 32).onTouched() !== false);
        ad = (pd_5 && ad);
    } if (("ngModelChange" === en)) {
        var pd_6 = ((_co.form["FeedbackType"] = $event) !== false);
        ad = (pd_6 && ad);
    } if (("click" === en)) {
        var pd_7 = (_co.setNormalView(536) !== false);
        ad = (pd_7 && ad);
    } return ad; }, null, null)), i1.ɵdid(31, 16384, null, 0, i2.DefaultValueAccessor, [i1.Renderer2, i1.ElementRef, [2, i2.COMPOSITION_BUFFER_MODE]], null, null), i1.ɵdid(32, 212992, null, 0, i2.RadioControlValueAccessor, [i1.Renderer2, i1.ElementRef, i2.ɵangular_packages_forms_forms_i, i1.Injector], { name: [0, "name"], value: [1, "value"] }, null), i1.ɵprd(1024, null, i2.NG_VALUE_ACCESSOR, function (p0_0, p1_0) { return [p0_0, p1_0]; }, [i2.DefaultValueAccessor, i2.RadioControlValueAccessor]), i1.ɵdid(34, 671744, null, 0, i2.NgModel, [[2, i2.ControlContainer], [8, null], [8, null], [6, i2.NG_VALUE_ACCESSOR]], { name: [0, "name"], model: [1, "model"] }, { update: "ngModelChange" }), i1.ɵprd(2048, null, i2.NgControl, null, [i2.NgModel]), i1.ɵdid(36, 16384, null, 0, i2.NgControlStatus, [[4, i2.NgControl]], null, null), (_l()(), i1.ɵted(37, null, [" ", ""])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(39, 0, null, null, 0, "br", [], null, null, null, null, null)), (_l()(), i1.ɵeld(40, 0, null, null, 6, "input", [["name", "FeedbackType"], ["type", "radio"], ["value", "3"]], [[2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "click"], [null, "input"], [null, "blur"], [null, "compositionstart"], [null, "compositionend"], [null, "change"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("input" === en)) {
        var pd_0 = (i1.ɵnov(_v, 41)._handleInput($event.target.value) !== false);
        ad = (pd_0 && ad);
    } if (("blur" === en)) {
        var pd_1 = (i1.ɵnov(_v, 41).onTouched() !== false);
        ad = (pd_1 && ad);
    } if (("compositionstart" === en)) {
        var pd_2 = (i1.ɵnov(_v, 41)._compositionStart() !== false);
        ad = (pd_2 && ad);
    } if (("compositionend" === en)) {
        var pd_3 = (i1.ɵnov(_v, 41)._compositionEnd($event.target.value) !== false);
        ad = (pd_3 && ad);
    } if (("change" === en)) {
        var pd_4 = (i1.ɵnov(_v, 42).onChange() !== false);
        ad = (pd_4 && ad);
    } if (("blur" === en)) {
        var pd_5 = (i1.ɵnov(_v, 42).onTouched() !== false);
        ad = (pd_5 && ad);
    } if (("ngModelChange" === en)) {
        var pd_6 = ((_co.form["FeedbackType"] = $event) !== false);
        ad = (pd_6 && ad);
    } if (("click" === en)) {
        var pd_7 = (_co.setNormalView(536) !== false);
        ad = (pd_7 && ad);
    } return ad; }, null, null)), i1.ɵdid(41, 16384, null, 0, i2.DefaultValueAccessor, [i1.Renderer2, i1.ElementRef, [2, i2.COMPOSITION_BUFFER_MODE]], null, null), i1.ɵdid(42, 212992, null, 0, i2.RadioControlValueAccessor, [i1.Renderer2, i1.ElementRef, i2.ɵangular_packages_forms_forms_i, i1.Injector], { name: [0, "name"], value: [1, "value"] }, null), i1.ɵprd(1024, null, i2.NG_VALUE_ACCESSOR, function (p0_0, p1_0) { return [p0_0, p1_0]; }, [i2.DefaultValueAccessor, i2.RadioControlValueAccessor]), i1.ɵdid(44, 671744, null, 0, i2.NgModel, [[2, i2.ControlContainer], [8, null], [8, null], [6, i2.NG_VALUE_ACCESSOR]], { name: [0, "name"], model: [1, "model"] }, { update: "ngModelChange" }), i1.ɵprd(2048, null, i2.NgControl, null, [i2.NgModel]), i1.ɵdid(46, 16384, null, 0, i2.NgControlStatus, [[4, i2.NgControl]], null, null), (_l()(), i1.ɵted(47, null, [" ", ""])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(49, 0, null, null, 0, "br", [], null, null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_FeedbackComponent_1)), i1.ɵdid(51, 16384, null, 0, i4.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_FeedbackComponent_2)), i1.ɵdid(53, 16384, null, 0, i4.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵeld(54, 0, null, null, 6, "li", [["class", "item-settings cf btn-row"]], null, null, null, null, null)), (_l()(), i1.ɵeld(55, 0, null, null, 2, "button", [["class", "mdl-menu-no-click mdl-button mdl-js-button mdl-menu-button text-capitalize-i btn save"], ["type", "button"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.send() !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵted(56, null, [" ", " "])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(58, 0, null, null, 2, "button", [["class", "mdl-menu-no-click mdl-button mdl-js-button mdl-menu-button text-capitalize-i btn cancel"], ["type", "button"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.cancel() !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵted(59, null, [" ", " "])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(61, 0, null, null, 2, "li", [["class", "feedback__conditions"]], [[8, "innerHTML", 1]], null, null, null, null)), (_l()(), i1.ɵted(62, null, [" ", " "])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_FeedbackComponent_3)), i1.ɵdid(65, 16384, null, 0, i4.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵeld(66, 0, null, null, 11, "footer", [["class", "mdl-mini-footer"]], null, null, null, null, null)), i1.ɵdid(67, 278528, null, 0, i4.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), (_l()(), i1.ɵeld(68, 0, null, null, 9, "div", [["class", "mdl-mini-footer__left-section"]], null, null, null, null, null)), (_l()(), i1.ɵeld(69, 0, null, null, 8, "ul", [["class", "mdl-mini-footer__link-list"]], null, null, null, null, null)), (_l()(), i1.ɵeld(70, 0, null, null, 7, "li", [["class", "copyright-item"]], null, null, null, null, null)), (_l()(), i1.ɵeld(71, 0, null, null, 2, "div", [["class", "circle-indicator"]], null, null, null, null, null)), i1.ɵdid(72, 278528, null, 0, i4.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), i1.ɵpod(73, { active: 0 }), (_l()(), i1.ɵted(74, null, [" ", " \u00A9 "])), (_l()(), i1.ɵeld(75, 0, null, null, 1, "a", [["target", "_blank"]], [[8, "href", 4]], null, null, null, null)), (_l()(), i1.ɵted(-1, null, [" Reverso "])), (_l()(), i1.ɵted(77, null, [" v", " "]))], function (_ck, _v) { var _co = _v.component; var currVal_1 = "body-app body-iframe overflow-hidden"; var currVal_2 = (_co.isIframe ? "isIframe" : ""); _ck(_v, 4, 0, currVal_1, currVal_2); var currVal_20 = "FeedbackType"; var currVal_21 = "1"; _ck(_v, 22, 0, currVal_20, currVal_21); var currVal_22 = "FeedbackType"; var currVal_23 = _co.form["FeedbackType"]; _ck(_v, 24, 0, currVal_22, currVal_23); var currVal_32 = "FeedbackType"; var currVal_33 = "2"; _ck(_v, 32, 0, currVal_32, currVal_33); var currVal_34 = "FeedbackType"; var currVal_35 = _co.form["FeedbackType"]; _ck(_v, 34, 0, currVal_34, currVal_35); var currVal_44 = "FeedbackType"; var currVal_45 = "3"; _ck(_v, 42, 0, currVal_44, currVal_45); var currVal_46 = "FeedbackType"; var currVal_47 = _co.form["FeedbackType"]; _ck(_v, 44, 0, currVal_46, currVal_47); var currVal_49 = (_co.form["FeedbackType"] != 0); _ck(_v, 51, 0, currVal_49); var currVal_50 = !_co.isAuth; _ck(_v, 53, 0, currVal_50); var currVal_55 = _co.showLoading; _ck(_v, 65, 0, currVal_55); var currVal_56 = "mdl-mini-footer"; var currVal_57 = (_co.configurations.isMiniView ? "hide" : ""); _ck(_v, 67, 0, currVal_56, currVal_57); var currVal_58 = "circle-indicator"; var currVal_59 = _ck(_v, 73, 0, _co.isAuth); _ck(_v, 72, 0, currVal_58, currVal_59); }, function (_ck, _v) { var _co = _v.component; var currVal_0 = i1.ɵunv(_v, 1, 0, i1.ɵnov(_v, 2).transform("feedbackTooltip")); _ck(_v, 1, 0, currVal_0); var currVal_3 = i1.ɵnov(_v, 10).ngClassUntouched; var currVal_4 = i1.ɵnov(_v, 10).ngClassTouched; var currVal_5 = i1.ɵnov(_v, 10).ngClassPristine; var currVal_6 = i1.ɵnov(_v, 10).ngClassDirty; var currVal_7 = i1.ɵnov(_v, 10).ngClassValid; var currVal_8 = i1.ɵnov(_v, 10).ngClassInvalid; var currVal_9 = i1.ɵnov(_v, 10).ngClassPending; _ck(_v, 6, 0, currVal_3, currVal_4, currVal_5, currVal_6, currVal_7, currVal_8, currVal_9); var currVal_10 = i1.ɵunv(_v, 14, 0, i1.ɵnov(_v, 15).transform("feedbackTitle")); _ck(_v, 14, 0, currVal_10); var currVal_11 = _co.configurations.localization["feedbackDescription"].replace("chromeextension", _co.origin).replace("2.1", _co.version); _ck(_v, 16, 0, currVal_11); var currVal_12 = i1.ɵunv(_v, 17, 0, i1.ɵnov(_v, 18).transform("feedbackDescription")); _ck(_v, 17, 0, currVal_12); var currVal_13 = i1.ɵnov(_v, 26).ngClassUntouched; var currVal_14 = i1.ɵnov(_v, 26).ngClassTouched; var currVal_15 = i1.ɵnov(_v, 26).ngClassPristine; var currVal_16 = i1.ɵnov(_v, 26).ngClassDirty; var currVal_17 = i1.ɵnov(_v, 26).ngClassValid; var currVal_18 = i1.ɵnov(_v, 26).ngClassInvalid; var currVal_19 = i1.ɵnov(_v, 26).ngClassPending; _ck(_v, 20, 0, currVal_13, currVal_14, currVal_15, currVal_16, currVal_17, currVal_18, currVal_19); var currVal_24 = i1.ɵunv(_v, 27, 0, i1.ɵnov(_v, 28).transform("feedbackType1")); _ck(_v, 27, 0, currVal_24); var currVal_25 = i1.ɵnov(_v, 36).ngClassUntouched; var currVal_26 = i1.ɵnov(_v, 36).ngClassTouched; var currVal_27 = i1.ɵnov(_v, 36).ngClassPristine; var currVal_28 = i1.ɵnov(_v, 36).ngClassDirty; var currVal_29 = i1.ɵnov(_v, 36).ngClassValid; var currVal_30 = i1.ɵnov(_v, 36).ngClassInvalid; var currVal_31 = i1.ɵnov(_v, 36).ngClassPending; _ck(_v, 30, 0, currVal_25, currVal_26, currVal_27, currVal_28, currVal_29, currVal_30, currVal_31); var currVal_36 = i1.ɵunv(_v, 37, 0, i1.ɵnov(_v, 38).transform("feedbackType2")); _ck(_v, 37, 0, currVal_36); var currVal_37 = i1.ɵnov(_v, 46).ngClassUntouched; var currVal_38 = i1.ɵnov(_v, 46).ngClassTouched; var currVal_39 = i1.ɵnov(_v, 46).ngClassPristine; var currVal_40 = i1.ɵnov(_v, 46).ngClassDirty; var currVal_41 = i1.ɵnov(_v, 46).ngClassValid; var currVal_42 = i1.ɵnov(_v, 46).ngClassInvalid; var currVal_43 = i1.ɵnov(_v, 46).ngClassPending; _ck(_v, 40, 0, currVal_37, currVal_38, currVal_39, currVal_40, currVal_41, currVal_42, currVal_43); var currVal_48 = i1.ɵunv(_v, 47, 0, i1.ɵnov(_v, 48).transform("feedbackType3")); _ck(_v, 47, 0, currVal_48); var currVal_51 = i1.ɵunv(_v, 56, 0, i1.ɵnov(_v, 57).transform("send")); _ck(_v, 56, 0, currVal_51); var currVal_52 = i1.ɵunv(_v, 59, 0, i1.ɵnov(_v, 60).transform("cancel")); _ck(_v, 59, 0, currVal_52); var currVal_53 = _co.configurations.localization["feedbackTermsAndConditions"]; _ck(_v, 61, 0, currVal_53); var currVal_54 = i1.ɵunv(_v, 62, 0, i1.ɵnov(_v, 63).transform("feedbackTermsAndConditions")); _ck(_v, 62, 0, currVal_54); var currVal_60 = _co.configurations.currentYear; _ck(_v, 74, 0, currVal_60); var currVal_61 = i1.ɵinlineInterpolate(1, "", _co.configurations.links.context, ""); _ck(_v, 75, 0, currVal_61); var currVal_62 = _co.configurations.version; _ck(_v, 77, 0, currVal_62); }); }
exports.View_FeedbackComponent_0 = View_FeedbackComponent_0;
function View_FeedbackComponent_Host_0(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 3, "feedback-page", [], null, null, null, View_FeedbackComponent_0, RenderType_FeedbackComponent)), i1.ɵprd(512, null, i5.SettingsStorage, i5.SettingsStorage, []), i1.ɵprd(512, null, i6.TranslService, i6.TranslService, [i7.Api, i8.ProfileService, i9.HistoryStorage]), i1.ɵdid(3, 114688, null, 0, i10.FeedbackComponent, [i11.Router, i11.ActivatedRoute, i5.SettingsStorage, i6.TranslService], null, null)], function (_ck, _v) { _ck(_v, 3, 0); }, null); }
exports.View_FeedbackComponent_Host_0 = View_FeedbackComponent_Host_0;
var FeedbackComponentNgFactory = i1.ɵccf("feedback-page", i10.FeedbackComponent, View_FeedbackComponent_Host_0, {}, {}, []);
exports.FeedbackComponentNgFactory = FeedbackComponentNgFactory;


/***/ }),

/***/ "./src/app/pages/feedback/feedback.page.ts":
/*!*************************************************!*\
  !*** ./src/app/pages/feedback/feedback.page.ts ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var core_1 = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var router_1 = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
// Add the RxJS Observable operators we need in this app.
__webpack_require__(/*! ./../../rxjs-operators */ "./src/app/rxjs-operators.ts");
var main_func_1 = __webpack_require__(/*! ../../functions/main.func */ "./src/app/functions/main.func.ts");
var config_1 = __webpack_require__(/*! ../../config */ "./src/app/config.ts");
var profile_local_1 = __webpack_require__(/*! ../../services/profile.local */ "./src/app/services/profile.local.ts");
var translate_service_1 = __webpack_require__(/*! ../../services/translate.service */ "./src/app/services/translate.service.ts");
var settings_storage_1 = __webpack_require__(/*! ../../storage/settings.storage */ "./src/app/storage/settings.storage.ts");
var FeedbackComponent = /** @class */ (function () {
    function FeedbackComponent(router, route, settingsStorage, translateService) {
        this.router = router;
        this.route = route;
        this.settingsStorage = settingsStorage;
        this.translateService = translateService;
        this.error = false;
        this.errorMessage = '';
        this.setHeightDocument = main_func_1.setHeightDocument;
        this.isIframe = true;
        this.origin = config_1.configurations.origin;
        this.version = config_1.configurations.version;
        this.tooltip = main_func_1.tooltip;
        // Main Functions
        this.mdMenu = main_func_1.mdMenu;
        this.form = {
            Email: '',
            Url: '',
            UserAgent: navigator.userAgent || null,
            FeedbackType: 0,
            Comment: '',
            SrcLang: '',
            TrgLang: '',
            Word: '',
            Sentence: '',
            Rating: -1
        };
        this.showLoading = false;
        this.isOnline = false;
        this.isUpload = false;
        this.success = false;
        this.successMessage = '';
        this.configurations = config_1.configurations;
        this.isAuth = false;
        this.isIframe = top.location !== self.location;
    }
    FeedbackComponent.prototype.setMiniView = function (height) {
        if (height === void 0) { height = 87; }
        this.setHeightDocument(height);
        config_1.configurations.isMiniView = true;
    };
    FeedbackComponent.prototype.setNormalView = function (height) {
        if (height === void 0) { height = 468; }
        this.setHeightDocument(height);
        config_1.configurations.isMiniView = false;
        if (this.isIframe) {
            try {
                window.parent['postMessage']('setNormalView:' + height, '*');
            }
            catch (error) {
                console.error('Error setNormalViewIframe: ', error);
            }
        }
    };
    FeedbackComponent.prototype.send = function () {
        var _this = this;
        if (this.isOnline) {
            this.showLoading = true;
            // Please select one of the items
            if (!this.form['FeedbackType']) {
                this.error = true;
                this.errorMessage = config_1.configurations.localization['feedbackSelectItem'];
                return false;
            }
            else if (!this.isAuth && !this.form['Email'].match(/^[0-9a-z-\.]+\@[0-9a-z-]{2,}\.[a-z]{2,}$/i)) {
                this.error = true;
                this.errorMessage = config_1.configurations.localization['feedbackEnterEmail'];
                return false;
            }
            else if ((parseInt(this.form['FeedbackType'], 10) === 3 || parseInt(this.form['FeedbackType'], 10) === 2) &&
                this.form['Comment'].trim() === '') {
                this.error = true;
                this.errorMessage = config_1.configurations.localization['feedbackCommentReq'];
                return false;
            }
            else {
                this.error = false;
                this.success = true;
                this.isUpload = true;
                this.translateService.feedback(this.form).then(function (result) {
                    // this.showLoading = false;
                    _this.error = false;
                    _this.isUpload = false;
                    _this.success = true;
                    _this.successMessage = config_1.configurations.localization['feedbackSuccess'];
                    setTimeout(function () {
                        _this.cancel();
                    }, 3000);
                }, function (error) {
                    _this.isUpload = false;
                    console.error('sendHTML', error);
                    _this.error = true;
                    _this.errorMessage = config_1.configurations.localization['emailToFriendError']; // 'Error save page! Please try again later.';
                });
            }
        }
    };
    FeedbackComponent.prototype.cancel = function () {
        if (this.isIframe) {
            try {
                window.parent['postMessage']('closeIframe:true', '*');
            }
            catch (error) {
            }
        }
        else
            this.router.navigate(['/translate']);
    };
    FeedbackComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.isOnline = navigator.onLine;
        // this.setNormalView(536);
        this.setNormalView(452);
        this.profile = profile_local_1.GASUSERPROFILE.get() ? profile_local_1.GASUSERPROFILE.get()['data'] : null;
        this.isAuth = profile_local_1.CHECK_AUTH();
        if (this.isAuth)
            this.user = profile_local_1.GASUSERINFO.get() ? profile_local_1.GASUSERINFO.get()['data'] : null;
        this.settingsStorage.getRow('lang_source').then(function (lang_source) {
            _this.form['SrcLang'] = lang_source != null ? lang_source : '';
        });
        this.settingsStorage.getRow('lang_target').then(function (lang_target) {
            _this.form['TrgLang'] = lang_target != null ? lang_target : '';
        });
        this.settingsStorage.getRow('feedback').then(function (feedback) {
            try {
                feedback = JSON.parse(feedback);
                _this.form['Url'] = feedback['Url'];
                _this.form['Word'] = feedback['Word'];
                _this.form['Sentence'] = feedback['Sentence'];
            }
            catch (error) {
            }
        });
        if (this.isIframe) {
            // Чистим заголовок, что бы не было сразу 2.
            if (document.querySelector('#title-page')) {
                document.querySelector('#title-page').innerHTML = '';
                document.querySelector('#title-page')['style'].width = 'auto';
            }
        }
    };
    return FeedbackComponent;
}());
exports.FeedbackComponent = FeedbackComponent;


/***/ }),

/***/ "./src/app/pages/limit-search/limit-search.page.css.shim.ngstyle.js":
/*!**************************************************************************!*\
  !*** ./src/app/pages/limit-search/limit-search.page.css.shim.ngstyle.js ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

/**
 * @fileoverview This file was generated by the Angular template compiler. Do not edit.
 *
 * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}
 * tslint:disable
 */ 
Object.defineProperty(exports, "__esModule", { value: true });
var styles = [""];
exports.styles = styles;


/***/ }),

/***/ "./src/app/pages/limit-search/limit-search.page.ngfactory.js":
/*!*******************************************************************!*\
  !*** ./src/app/pages/limit-search/limit-search.page.ngfactory.js ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

/**
 * @fileoverview This file was generated by the Angular template compiler. Do not edit.
 *
 * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}
 * tslint:disable
 */ 
Object.defineProperty(exports, "__esModule", { value: true });
var i0 = __webpack_require__(/*! ./limit-search.page.css.shim.ngstyle */ "./src/app/pages/limit-search/limit-search.page.css.shim.ngstyle.js");
var i1 = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var i2 = __webpack_require__(/*! @ngx-translate/core */ "./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
var i3 = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
var i4 = __webpack_require__(/*! ../modal-incognito/modal-incognito.modal.ngfactory */ "./src/app/pages/modal-incognito/modal-incognito.modal.ngfactory.js");
var i5 = __webpack_require__(/*! ../modal-incognito/modal-incognito.modal */ "./src/app/pages/modal-incognito/modal-incognito.modal.ts");
var i6 = __webpack_require__(/*! ./limit-search.page */ "./src/app/pages/limit-search/limit-search.page.ts");
var i7 = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var styles_LimitSearchComponent = [i0.styles];
var RenderType_LimitSearchComponent = i1.ɵcrt({ encapsulation: 0, styles: styles_LimitSearchComponent, data: {} });
exports.RenderType_LimitSearchComponent = RenderType_LimitSearchComponent;
function View_LimitSearchComponent_2(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 9, "div", [["class", "btn-row m-bot-12"]], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 8, "div", [["class", "wrapper-icon-tooltip"]], null, null, null, null, null)), (_l()(), i1.ɵeld(2, 0, null, null, 2, "a", [["class", "mdl-menu-no-click mdl-button mdl-js-button mdl-menu-button text-capitalize-i btn sign-up-btn"], ["target", "_blank"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        _co.addRegisterAnalit();
        var pd_0 = (_co.goToAuth(_co.configurations.links.register) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵted(3, null, [" ", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(5, 0, null, null, 1, "span", [["class", "hard-icon hard-icon--circle hard-icon--border hard-icon--orange hard-icon--right hard-icon--pointer"], ["id", "sign-up-btn"]], null, [[null, "mouseover"], [null, "mouseout"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("mouseover" === en)) {
        var pd_0 = (_co.tooltip("sign-up-btn", true) !== false);
        ad = (pd_0 && ad);
    } if (("mouseout" === en)) {
        var pd_1 = (_co.tooltip("sign-up-btn", false) !== false);
        ad = (pd_1 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵted(-1, null, [" ? "])), (_l()(), i1.ɵeld(7, 0, null, null, 2, "div", [["class", "sw-tooltip"]], [[1, "for", 0]], null, null, null, null)), (_l()(), i1.ɵted(8, null, [" ", ""])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = i1.ɵunv(_v, 3, 0, i1.ɵnov(_v, 4).transform("signUp")); _ck(_v, 3, 0, currVal_0); var currVal_1 = "sign-up-btn"; _ck(_v, 7, 0, currVal_1); var currVal_2 = i1.ɵunv(_v, 8, 0, i1.ɵnov(_v, 9).transform("signUpTooltip")); _ck(_v, 8, 0, currVal_2); }); }
function View_LimitSearchComponent_3(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 3, "div", [["class", "btn-row form-row form-group"]], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 0, "a", [["class", "loginBtn loginBtn--facebook"], ["target", "_blank"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.createNewTab(_co.configurations.links.facebookLogin) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵeld(2, 0, null, null, 1, "a", [["class", "loginBtn loginBtn--google"], ["target", "_blank"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.createNewTab(_co.configurations.links.googleLogin) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵted(-1, null, [" + "]))], null, null); }
function View_LimitSearchComponent_4(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 5, "div", [["class", "link-row link-logInMess"]], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 2, "a", [["class", "link"], ["target", "_blank"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.goToAuth(_co.configurations.links.login) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵted(2, null, [" ", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵted(4, null, [" ", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = i1.ɵunv(_v, 2, 0, i1.ɵnov(_v, 3).transform("logIn")); _ck(_v, 2, 0, currVal_0); var currVal_1 = i1.ɵunv(_v, 4, 0, i1.ɵnov(_v, 5).transform("logInMessNew")); _ck(_v, 4, 0, currVal_1); }); }
function View_LimitSearchComponent_5(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 1, "span", [["class", "cookies-warning"]], [[8, "innerHTML", 1]], null, null, null, null)), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = i1.ɵunv(_v, 0, 0, i1.ɵnov(_v, 1).transform("accessToASpecificSite")); _ck(_v, 0, 0, currVal_0); }); }
function View_LimitSearchComponent_1(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 39, "div", [["class", "sign-up-page"]], null, null, null, null, null)), i1.ɵdid(1, 278528, null, 0, i3.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), i1.ɵpod(2, { iframe: 0 }), (_l()(), i1.ɵeld(3, 0, null, null, 4, "div", [["class", "sign-up-item logo-back"]], null, null, null, null, null)), (_l()(), i1.ɵeld(4, 0, null, null, 3, "div", [["class", "desc-row"]], null, null, null, null, null)), (_l()(), i1.ɵeld(5, 0, null, null, 2, "div", [["class", "desc title-registerReverso-desc"]], null, null, null, null, null)), (_l()(), i1.ɵted(6, null, [" ", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(8, 0, null, null, 31, "div", [["class", "sign-up-item blue-back"]], null, null, null, null, null)), (_l()(), i1.ɵeld(9, 0, null, null, 19, "div", [["class", "desc-row"]], null, null, null, null, null)), (_l()(), i1.ɵeld(10, 0, null, null, 18, "div", [["class", "desc w-100"]], null, null, null, null, null)), (_l()(), i1.ɵted(11, null, [" ", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(13, 0, null, null, 15, "ul", [["class", "middle-desc-row"]], null, null, null, null, null)), (_l()(), i1.ɵeld(14, 0, null, null, 2, "li", [["class", "li-decoration"]], null, null, null, null, null)), (_l()(), i1.ɵted(15, null, [" ", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(17, 0, null, null, 2, "li", [["class", "li-decoration"]], null, null, null, null, null)), (_l()(), i1.ɵted(18, null, [" ", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(20, 0, null, null, 2, "li", [["class", "li-decoration"]], null, null, null, null, null)), (_l()(), i1.ɵted(21, null, [" ", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(23, 0, null, null, 2, "li", [["class", "li-decoration"]], null, null, null, null, null)), (_l()(), i1.ɵted(24, null, [" ", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(26, 0, null, null, 2, "li", [["class", "li-decoration"]], null, null, null, null, null)), (_l()(), i1.ɵted(27, null, [" ", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_LimitSearchComponent_2)), i1.ɵdid(30, 16384, null, 0, i3.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_LimitSearchComponent_3)), i1.ɵdid(32, 16384, null, 0, i3.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_LimitSearchComponent_4)), i1.ɵdid(34, 16384, null, 0, i3.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_LimitSearchComponent_5)), i1.ɵdid(36, 16384, null, 0, i3.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵeld(37, 0, null, null, 2, "div", [["class", "link-row link-row-reverso"]], null, null, null, null, null)), (_l()(), i1.ɵeld(38, 0, null, null, 1, "a", [["class", "link"], ["target", "_blank"]], [[8, "innerHTML", 1]], [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.createNewTab(_co.configurations.localization["reversoNetLink"]) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef])], function (_ck, _v) { var _co = _v.component; var currVal_0 = "sign-up-page"; var currVal_1 = _ck(_v, 2, 0, _co.isIframe); _ck(_v, 1, 0, currVal_0, currVal_1); var currVal_9 = !_co.isBlockedCookie; _ck(_v, 30, 0, currVal_9); var currVal_10 = !_co.isBlockedCookie; _ck(_v, 32, 0, currVal_10); var currVal_11 = !_co.isBlockedCookie; _ck(_v, 34, 0, currVal_11); var currVal_12 = _co.isBlockedCookie; _ck(_v, 36, 0, currVal_12); }, function (_ck, _v) { var currVal_2 = i1.ɵunv(_v, 6, 0, i1.ɵnov(_v, 7).transform("limitTranslationsRiched")); _ck(_v, 6, 0, currVal_2); var currVal_3 = i1.ɵunv(_v, 11, 0, i1.ɵnov(_v, 12).transform("signUpNewMess")); _ck(_v, 11, 0, currVal_3); var currVal_4 = i1.ɵunv(_v, 15, 0, i1.ɵnov(_v, 16).transform("historySave")); _ck(_v, 15, 0, currVal_4); var currVal_5 = i1.ɵunv(_v, 18, 0, i1.ɵnov(_v, 19).transform("seeTranslations")); _ck(_v, 18, 0, currVal_5); var currVal_6 = i1.ɵunv(_v, 21, 0, i1.ɵnov(_v, 22).transform("savePagesTranslations")); _ck(_v, 21, 0, currVal_6); var currVal_7 = i1.ɵunv(_v, 24, 0, i1.ɵnov(_v, 25).transform("subtitlesTranslation")); _ck(_v, 24, 0, currVal_7); var currVal_8 = i1.ɵunv(_v, 27, 0, i1.ɵnov(_v, 28).transform("displayFullTextTranslationPopup")); _ck(_v, 27, 0, currVal_8); var currVal_13 = i1.ɵunv(_v, 38, 0, i1.ɵnov(_v, 39).transform("reversoContextLinkNew")); _ck(_v, 38, 0, currVal_13); }); }
function View_LimitSearchComponent_7(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 8, "div", [["class", "btn-row form-row form-group"]], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 3, "a", [["class", "loginBtn loginBtn--facebook"], ["target", "_blank"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        _co.closeIframe();
        var pd_0 = (_co.goToAuth(_co.configurations.links.facebookLogin) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵeld(2, 0, null, null, 0, "span", [["class", "icon-left-btn"]], null, null, null, null, null)), (_l()(), i1.ɵeld(3, 0, null, null, 1, "span", [["class", "title-btn"]], null, null, null, null, null)), (_l()(), i1.ɵted(-1, null, ["Facebook connect"])), (_l()(), i1.ɵeld(5, 0, null, null, 3, "a", [["class", "loginBtn loginBtn--google"], ["target", "_blank"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        _co.closeIframe();
        var pd_0 = (_co.goToAuth(_co.configurations.links.googleLogin) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵeld(6, 0, null, null, 0, "span", [["class", "icon-left-btn"]], null, null, null, null, null)), (_l()(), i1.ɵeld(7, 0, null, null, 1, "span", [["class", "title-btn"]], null, null, null, null, null)), (_l()(), i1.ɵted(-1, null, ["Google connect"]))], null, null); }
function View_LimitSearchComponent_8(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 3, "div", [["class", "sign-up-late-btn"]], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 2, "a", [["class", "sign-up-late"], ["target", "_blank"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.goToAuth(_co.configurations.links.login) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵted(2, null, ["", ""])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = i1.ɵunv(_v, 2, 0, i1.ɵnov(_v, 3).transform("logIn")); _ck(_v, 2, 0, currVal_0); }); }
function View_LimitSearchComponent_9(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 8, "div", [["class", "string-or"]], null, null, null, null, null)), (_l()(), i1.ɵted(1, null, [" ", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(3, 0, null, null, 0, "br", [], null, null, null, null, null)), (_l()(), i1.ɵted(4, null, [" ", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(6, 0, null, null, 2, "a", [["class", "link"], ["target", "_blank"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.goToAuth(_co.configurations.links.register) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵted(7, null, [" ", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = i1.ɵunv(_v, 1, 0, i1.ɵnov(_v, 2).transform("logInMessNew")); _ck(_v, 1, 0, currVal_0); var currVal_1 = i1.ɵunv(_v, 4, 0, i1.ɵnov(_v, 5).transform("orSigLater")); _ck(_v, 4, 0, currVal_1); var currVal_2 = i1.ɵunv(_v, 7, 0, i1.ɵnov(_v, 8).transform("signUp")); _ck(_v, 7, 0, currVal_2); }); }
function View_LimitSearchComponent_10(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 1, "span", [["class", "cookies-warning"]], [[8, "innerHTML", 1]], null, null, null, null)), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = i1.ɵunv(_v, 0, 0, i1.ɵnov(_v, 1).transform("accessToASpecificSite")); _ck(_v, 0, 0, currVal_0); }); }
function View_LimitSearchComponent_6(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 35, "div", [["class", "reminder-page"]], null, null, null, null, null)), i1.ɵdid(1, 278528, null, 0, i3.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), i1.ɵpod(2, { iframe: 0 }), (_l()(), i1.ɵeld(3, 0, null, null, 32, "div", [["class", "reminder-page-item blue-back"]], null, null, null, null, null)), (_l()(), i1.ɵeld(4, 0, null, null, 2, "div", [["class", "desc-row title"]], null, null, null, null, null)), (_l()(), i1.ɵted(5, null, [" ", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(7, 0, null, null, 16, "div", [["class", "middle-list"]], null, null, null, null, null)), (_l()(), i1.ɵeld(8, 0, null, null, 15, "ul", [["class", "middle-desc-row"]], null, null, null, null, null)), (_l()(), i1.ɵeld(9, 0, null, null, 2, "li", [["class", "li-decoration"]], null, null, null, null, null)), (_l()(), i1.ɵted(10, null, [" ", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(12, 0, null, null, 2, "li", [["class", "li-decoration"]], null, null, null, null, null)), (_l()(), i1.ɵted(13, null, [" ", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(15, 0, null, null, 2, "li", [["class", "li-decoration"]], null, null, null, null, null)), (_l()(), i1.ɵted(16, null, [" ", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(18, 0, null, null, 2, "li", [], null, null, null, null, null)), (_l()(), i1.ɵted(19, null, [" ", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(21, 0, null, null, 2, "li", [], null, null, null, null, null)), (_l()(), i1.ɵted(22, null, [" ", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_LimitSearchComponent_7)), i1.ɵdid(25, 16384, null, 0, i3.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_LimitSearchComponent_8)), i1.ɵdid(27, 16384, null, 0, i3.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_LimitSearchComponent_9)), i1.ɵdid(29, 16384, null, 0, i3.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_LimitSearchComponent_10)), i1.ɵdid(31, 16384, null, 0, i3.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵeld(32, 0, null, null, 3, "div", [["class", "string-or-later"]], null, null, null, null, null)), (_l()(), i1.ɵeld(33, 0, null, null, 2, "a", [["class", "link"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.close() !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵted(34, null, [" ", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef])], function (_ck, _v) { var _co = _v.component; var currVal_0 = "reminder-page"; var currVal_1 = _ck(_v, 2, 0, _co.isIframe); _ck(_v, 1, 0, currVal_0, currVal_1); var currVal_8 = !_co.isBlockedCookie; _ck(_v, 25, 0, currVal_8); var currVal_9 = !_co.isBlockedCookie; _ck(_v, 27, 0, currVal_9); var currVal_10 = !_co.isBlockedCookie; _ck(_v, 29, 0, currVal_10); var currVal_11 = _co.isBlockedCookie; _ck(_v, 31, 0, currVal_11); }, function (_ck, _v) { var currVal_2 = i1.ɵunv(_v, 5, 0, i1.ɵnov(_v, 6).transform("titleRegister")); _ck(_v, 5, 0, currVal_2); var currVal_3 = i1.ɵunv(_v, 10, 0, i1.ɵnov(_v, 11).transform("historySave")); _ck(_v, 10, 0, currVal_3); var currVal_4 = i1.ɵunv(_v, 13, 0, i1.ɵnov(_v, 14).transform("seeTranslations")); _ck(_v, 13, 0, currVal_4); var currVal_5 = i1.ɵunv(_v, 16, 0, i1.ɵnov(_v, 17).transform("savePagesTranslations")); _ck(_v, 16, 0, currVal_5); var currVal_6 = i1.ɵunv(_v, 19, 0, i1.ɵnov(_v, 20).transform("subtitlesTranslation")); _ck(_v, 19, 0, currVal_6); var currVal_7 = i1.ɵunv(_v, 22, 0, i1.ɵnov(_v, 23).transform("displayFullTextTranslationPopup")); _ck(_v, 22, 0, currVal_7); var currVal_12 = i1.ɵunv(_v, 34, 0, i1.ɵnov(_v, 35).transform("signInLater")); _ck(_v, 34, 0, currVal_12); }); }
function View_LimitSearchComponent_11(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 1, "modal-incognito-modal", [], null, [[null, "closeModal"], [null, "goToLink"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("closeModal" === en)) {
        var pd_0 = ((_co.isShowMessageForInIncognitoContext = null) !== false);
        ad = (pd_0 && ad);
    } if (("goToLink" === en)) {
        var pd_1 = (_co.goToAuth(_co.isShowMessageForInIncognitoContext, true) !== false);
        ad = (pd_1 && ad);
    } return ad; }, i4.View_ModalIncognitoComponent_0, i4.RenderType_ModalIncognitoComponent)), i1.ɵdid(1, 49152, null, 0, i5.ModalIncognitoComponent, [], null, { closeModal: "closeModal", goToLink: "goToLink" })], null, null); }
function View_LimitSearchComponent_0(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 6, "main", [["class", "body-app body-iframe overflow-hidden"]], null, null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_LimitSearchComponent_1)), i1.ɵdid(2, 16384, null, 0, i3.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_LimitSearchComponent_6)), i1.ɵdid(4, 16384, null, 0, i3.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_LimitSearchComponent_11)), i1.ɵdid(6, 16384, null, 0, i3.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵeld(7, 0, null, null, 10, "footer", [["class", "mdl-mini-footer"]], null, null, null, null, null)), (_l()(), i1.ɵeld(8, 0, null, null, 9, "div", [["class", "mdl-mini-footer__left-section"]], null, null, null, null, null)), (_l()(), i1.ɵeld(9, 0, null, null, 8, "ul", [["class", "mdl-mini-footer__link-list"]], null, null, null, null, null)), (_l()(), i1.ɵeld(10, 0, null, null, 7, "li", [["class", "copyright-item"]], null, null, null, null, null)), (_l()(), i1.ɵeld(11, 0, null, null, 2, "div", [["class", "circle-indicator"]], null, null, null, null, null)), i1.ɵdid(12, 278528, null, 0, i3.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), i1.ɵpod(13, { active: 0 }), (_l()(), i1.ɵted(14, null, [" ", " \u00A9 "])), (_l()(), i1.ɵeld(15, 0, null, null, 1, "a", [], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.createNewTab(_co.configurations.links.context) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵted(-1, null, [" Reverso "])), (_l()(), i1.ɵted(17, null, [" v", " "]))], function (_ck, _v) { var _co = _v.component; var currVal_0 = !_co.reminder; _ck(_v, 2, 0, currVal_0); var currVal_1 = _co.reminder; _ck(_v, 4, 0, currVal_1); var currVal_2 = _co.isShowMessageForInIncognitoContext; _ck(_v, 6, 0, currVal_2); var currVal_3 = "circle-indicator"; var currVal_4 = _ck(_v, 13, 0, _co.isAuth); _ck(_v, 12, 0, currVal_3, currVal_4); }, function (_ck, _v) { var _co = _v.component; var currVal_5 = _co.configurations.currentYear; _ck(_v, 14, 0, currVal_5); var currVal_6 = _co.configurations.version; _ck(_v, 17, 0, currVal_6); }); }
exports.View_LimitSearchComponent_0 = View_LimitSearchComponent_0;
function View_LimitSearchComponent_Host_0(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 1, "limit-search", [], null, null, null, View_LimitSearchComponent_0, RenderType_LimitSearchComponent)), i1.ɵdid(1, 245760, null, 0, i6.LimitSearchComponent, [i7.Router, i7.ActivatedRoute], null, null)], function (_ck, _v) { _ck(_v, 1, 0); }, null); }
exports.View_LimitSearchComponent_Host_0 = View_LimitSearchComponent_Host_0;
var LimitSearchComponentNgFactory = i1.ɵccf("limit-search", i6.LimitSearchComponent, View_LimitSearchComponent_Host_0, {}, {}, []);
exports.LimitSearchComponentNgFactory = LimitSearchComponentNgFactory;


/***/ }),

/***/ "./src/app/pages/limit-search/limit-search.page.ts":
/*!*********************************************************!*\
  !*** ./src/app/pages/limit-search/limit-search.page.ts ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var core_1 = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var router_1 = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var config_1 = __webpack_require__(/*! ../../config */ "./src/app/config.ts");
var profile_local_1 = __webpack_require__(/*! ../../services/profile.local */ "./src/app/services/profile.local.ts");
var main_func_1 = __webpack_require__(/*! ../../functions/main.func */ "./src/app/functions/main.func.ts");
var LimitSearchComponent = /** @class */ (function () {
    function LimitSearchComponent(router, route) {
        var _this = this;
        this.router = router;
        this.route = route;
        this.errorMessage = '';
        this.message = '';
        this.profile = null;
        this.configurations = config_1.configurations;
        this.setHeightDocument = main_func_1.setHeightDocument;
        this.tooltip = main_func_1.tooltip;
        this.isAuth = false;
        this.quantityTranslation = 0;
        this.isIframe = top.location !== self.location;
        this.reminder = false;
        this.params = null;
        this.from = '';
        // Permissions
        this.isBlockedCookie = false;
        this.isShowMessageForInIncognitoContext = null;
        if (config_1.configurations.origin === 'chromeextension') {
            chrome.permissions.getAll(function (granted) {
                return _this.isBlockedCookie = (!granted || !granted.origins || (granted.origins.indexOf('<all_urls>') < 0 && granted.origins.indexOf('https://cps.reverso.net/*') < 0));
            });
        }
        this.reminder = this.route.params['value']['reminder'];
        this.from = this.route.params['value']['from'];
        this.params = {
            word: this.route.params['value']['word'] || '',
            arrayWords: this.route.params['value']['arrayWords'] || [],
            sentence: this.route.params['value']['sentence'] || '',
            sentenceForLang: this.route.params['value']['sentenceForLang'] || '',
            position: this.route.params['value']['position'] || -1,
            countWord: this.route.params['value']['countWord'] || 1,
            siteTitle: this.route.params['value']['siteTitle'] || '',
            siteOrigin: this.route.params['value']['siteOrigin'] || '',
            siteHref: this.route.params['value']['siteHref'] || 'Extension',
            lang: this.route.params['value']['lang'] || '',
            langTarget: this.route.params['value']['langTarget'] || '',
            miniView: this.route.params['value']['miniView'] || false,
            run: true,
            reversoPage: this.route.params['value']['reversoPage'] || false,
            translateSite: this.route.params['value']['translateSite'] || false
        };
    }
    LimitSearchComponent.prototype.addRegisterAnalit = function () {
        if (typeof chrome !== 'undefined' && config_1.configurations.isExtension) {
            chrome['runtime'].sendMessage({ setTrackEvents: config_1.configurations.eventsName.register });
        }
        else if (typeof safari !== 'undefined' && safari['extension']) {
            var windowGlobalPage = safari['extension'].globalPage.contentWindow;
            windowGlobalPage.respondToMessage({ name: 'setTrackEvents', message: config_1.configurations.eventsName.register });
        }
    };
    LimitSearchComponent.prototype.setMiniView = function (height) {
        if (height === void 0) { height = 87; }
        this.setHeightDocument(height);
        config_1.configurations.isMiniView = true;
    };
    LimitSearchComponent.prototype.setNormalView = function (height) {
        var _this = this;
        if (height === void 0) { height = 468; }
        config_1.configurations.isMiniView = false;
        setTimeout(function () {
            _this.setHeightDocument(height);
            if (_this.isIframe) {
                try {
                    window.parent['postMessage']('setNormalView:' + height, '*');
                    // window.parent['postMessage']('setNormalWidth: true', '*');
                }
                catch (error) {
                    console.error('Error setNormalViewIframe: ', error);
                }
            }
        }, 128);
    };
    LimitSearchComponent.prototype.runTimer = function () {
        // let interval = setInterval(function() {
        //     if (typeof chrome != "undefined" && configurations.isExtension) {
        //         chrome['runtime'].sendMessage({getCookies: true}, function (cookies) {
        //         });
        //     }
        //     setTimeout(() => {
        //         if (localStorage.getItem(configurations.prefixStorage + "cookiesReversoNet")) {
        //             let cookiesReversoNet = JSON.parse(localStorage.getItem(configurations.prefixStorage + "cookiesReversoNet"));
        //             if (cookiesReversoNet['ReversoRefreshToken'] && cookiesReversoNet['ReversoRefreshToken'].trim().length > 5) {
        //
        //
        //                 stop()
        //             }
        //         }
        //     }, 256);
        // }, 2000);
        //
        // let stop = function () {
        //     clearInterval(interval);
        //     go();
        // };
        //
        // let go = () => {
        //     alert("GO ")
        //     this.router.navigate(["/", this.route.params]);
        // };
    };
    LimitSearchComponent.prototype.close = function () {
        this.router.navigate([this.from, this.params]);
    };
    LimitSearchComponent.prototype.closeIframe = function () {
        if (typeof chrome !== 'undefined' && config_1.configurations.isExtension) {
            try {
                if (chrome && chrome.tabs) {
                    chrome.tabs.query({ active: true, currentWindow: true }, function (tabs) {
                        if (tabs[0]) {
                            // Check selection
                            chrome.tabs.sendMessage(tabs[0].id, { removeIframe: true });
                        }
                    });
                }
                else if (browser && browser.tabs) {
                    browser.tabs.query({ active: true, currentWindow: true }, function (tabs) {
                        if (tabs[0]) {
                            // Check selection
                            browser.tabs.sendMessage(tabs[0].id, { removeIframe: true });
                        }
                    });
                }
            }
            catch (error) {
            }
        }
    };
    LimitSearchComponent.prototype.createNewTab = function (url) {
        if (localStorage.getItem(config_1.configurations.prefixStorage + "last_active_tab")) {
            localStorage.removeItem(config_1.configurations.prefixStorage + "last_active_tab");
        }
        if (typeof chrome !== 'undefined' && config_1.configurations.isExtension) {
            chrome['runtime'].sendMessage({ openTab: url });
        }
        else if (typeof browser !== 'undefined' && config_1.configurations.isExtension) {
            browser['runtime'].sendMessage({ openTab: url });
        }
    };
    // Navigation to authorization if incognito mode will show a warning window.
    LimitSearchComponent.prototype.goToAuth = function (link, ignore) {
        if (ignore === void 0) { ignore = false; }
        this.isShowMessageForInIncognitoContext = null;
        if (chrome && chrome.extension && chrome.extension.inIncognitoContext && !ignore) {
            this.isShowMessageForInIncognitoContext = link;
            return;
        }
        if (typeof chrome !== 'undefined' && config_1.configurations.isExtension) {
            chrome['runtime'].sendMessage({ openTab: link });
        }
        else if (typeof browser !== 'undefined' && config_1.configurations.isExtension) {
            browser['runtime'].sendMessage({ openTab: link });
        }
        else {
            window.open(link, '_blank');
        }
    };
    LimitSearchComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.isAuth = profile_local_1.CHECK_AUTH();
        // let height = 590;
        var height = 442;
        if (this.reminder) {
            // height = 590;
            height = 442;
            this.setNormalView(height);
            if (this.isIframe) {
                try {
                    // Скрываем верхнее меню и навигацию
                    if (document.querySelector('#hamburger_menu'))
                        main_func_1.hide(document.querySelector('#hamburger_menu'));
                    if (document.querySelector('#header'))
                        main_func_1.hide(document.querySelector('#header'));
                    if (document.querySelectorAll('.header-buttons-right').length > 0) {
                        for (var i = 0; document.querySelectorAll('.header-buttons-right').length > i; i++) {
                            main_func_1.hide(document.querySelectorAll('.header-buttons-right')[i]);
                        }
                    }
                    if (document.querySelector('#title-page')) {
                        document.querySelector('#title-page').textContent = '';
                        document.querySelector('#title-page').classList.remove('active');
                    }
                }
                catch (error) {
                    console.error('Error setNormalViewIframe: ', error);
                }
            }
        }
        else {
            if (this.isIframe) {
                height = 442;
                if (document.querySelector('#title-page')) {
                    document.querySelector('#title-page').textContent = config_1.configurations.localization['titleRegister'];
                    document.querySelector('#title-page').classList.add('active');
                }
            }
            this.setNormalView(height);
        }
        this.profile = profile_local_1.GASUSERPROFILE.get() ? profile_local_1.GASUSERPROFILE.get()['data'] : null;
        // this.quantityTranslation = QUANTITYTRANSL.get();
        profile_local_1.QUANTITYTRANSL.get().then(function (qnt) {
            _this.quantityTranslation = qnt;
        });
    };
    LimitSearchComponent.prototype.ngOnDestroy = function () {
        if (this.isIframe) {
            // Скрываем верхнее меню и навигацию
            if (document.querySelector('#hamburger_menu'))
                main_func_1.show(document.querySelector('#hamburger_menu'));
            if (document.querySelector('#header'))
                main_func_1.show(document.querySelector('#header'));
            if (document.querySelectorAll('.header-buttons-right').length > 0) {
                for (var i = 0; document.querySelectorAll('.header-buttons-right').length > i; i++) {
                    main_func_1.show(document.querySelectorAll('.header-buttons-right')[i]);
                }
            }
        }
    };
    return LimitSearchComponent;
}());
exports.LimitSearchComponent = LimitSearchComponent;


/***/ }),

/***/ "./src/app/pages/middleware/middleware.page.css.shim.ngstyle.js":
/*!**********************************************************************!*\
  !*** ./src/app/pages/middleware/middleware.page.css.shim.ngstyle.js ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

/**
 * @fileoverview This file was generated by the Angular template compiler. Do not edit.
 *
 * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}
 * tslint:disable
 */ 
Object.defineProperty(exports, "__esModule", { value: true });
var styles = [""];
exports.styles = styles;


/***/ }),

/***/ "./src/app/pages/middleware/middleware.page.ngfactory.js":
/*!***************************************************************!*\
  !*** ./src/app/pages/middleware/middleware.page.ngfactory.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

/**
 * @fileoverview This file was generated by the Angular template compiler. Do not edit.
 *
 * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}
 * tslint:disable
 */ 
Object.defineProperty(exports, "__esModule", { value: true });
var i0 = __webpack_require__(/*! ./middleware.page.css.shim.ngstyle */ "./src/app/pages/middleware/middleware.page.css.shim.ngstyle.js");
var i1 = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var i2 = __webpack_require__(/*! @ngx-translate/core */ "./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
var i3 = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
var i4 = __webpack_require__(/*! ../../services/profile.service */ "./src/app/services/profile.service.ts");
var i5 = __webpack_require__(/*! ../../../api/api */ "./src/api/api.ts");
var i6 = __webpack_require__(/*! ../../services/translate.service */ "./src/app/services/translate.service.ts");
var i7 = __webpack_require__(/*! ../../storage/history.storage */ "./src/app/storage/history.storage.ts");
var i8 = __webpack_require__(/*! ../../storage/settings.storage */ "./src/app/storage/settings.storage.ts");
var i9 = __webpack_require__(/*! ./middleware.page */ "./src/app/pages/middleware/middleware.page.ts");
var i10 = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var styles_MiddlewareComponent = [i0.styles];
var RenderType_MiddlewareComponent = i1.ɵcrt({ encapsulation: 0, styles: styles_MiddlewareComponent, data: {} });
exports.RenderType_MiddlewareComponent = RenderType_MiddlewareComponent;
function View_MiddlewareComponent_1(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 0, "header", [["class", "subheader-translate mdl-color--white mdl-shadow--2dp text-center mdl-color-text--deep-orange-A400 text"]], [[8, "innerHTML", 1]], null, null, null, null))], null, function (_ck, _v) { var _co = _v.component; var currVal_0 = _co.errorMessage; _ck(_v, 0, 0, currVal_0); }); }
function View_MiddlewareComponent_2(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "h5", [["class", "middleware-mess mdl-color-text--grey-500"]], null, null, null, null, null)), (_l()(), i1.ɵted(1, null, ["", ""])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = i1.ɵunv(_v, 1, 0, i1.ɵnov(_v, 2).transform("offline")); _ck(_v, 1, 0, currVal_0); }); }
function View_MiddlewareComponent_3(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "h5", [["class", "middleware-mess mdl-color-text--grey-500"]], [[8, "innerHTML", 1]], null, null, null, null)), (_l()(), i1.ɵted(1, null, ["", ""])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var _co = _v.component; var currVal_0 = ((_co.translateArray && _co.translateArray["serverError"]) ? _co.translateArray["serverError"] : "Server error!"); _ck(_v, 0, 0, currVal_0); var currVal_1 = i1.ɵunv(_v, 1, 0, i1.ɵnov(_v, 2).transform("serverError")); _ck(_v, 1, 0, currVal_1); }); }
function View_MiddlewareComponent_4(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 6, "div", [["class", "middleware-mess mdl-color-text--red-300 padding-side-12 error-db"]], null, null, null, null, null)), (_l()(), i1.ɵted(1, null, [" ", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(3, 0, null, null, 3, "div", [["class", "text-center padding-top-20"]], null, null, null, null, null)), (_l()(), i1.ɵeld(4, 0, null, null, 2, "a", [["class", "mdl-button mdl-js-button main-background mdl-color-text--white  w-50 border-box text-center"], ["href", "https://support.mozilla.org/en/kb/refresh-firefox-reset-add-ons-and-settings"], ["target", "_blank"]], null, null, null, null, null)), (_l()(), i1.ɵted(5, null, [" ", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = i1.ɵunv(_v, 1, 0, i1.ɵnov(_v, 2).transform("errorDB")); _ck(_v, 1, 0, currVal_0); var currVal_1 = i1.ɵunv(_v, 5, 0, i1.ɵnov(_v, 6).transform("refreshFirefox")); _ck(_v, 5, 0, currVal_1); }); }
function View_MiddlewareComponent_5(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 0, "div", [["class", "logo-loader"]], null, null, null, null, null))], null, null); }
function View_MiddlewareComponent_0(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵand(16777216, null, null, 1, null, View_MiddlewareComponent_1)), i1.ɵdid(1, 16384, null, 0, i3.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵeld(2, 0, null, null, 9, "main", [["class", "body-app mdl-color--white mdl-color-text--grey-800 text-center no-header"], ["style", "position: fixed; top: 0; left: 0; height: 100%; width: 100%; z-index: 5;"]], null, null, null, null, null)), (_l()(), i1.ɵeld(3, 0, null, null, 8, "div", [["class", "spinner-middleware"]], null, null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_MiddlewareComponent_2)), i1.ɵdid(5, 16384, null, 0, i3.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_MiddlewareComponent_3)), i1.ɵdid(7, 16384, null, 0, i3.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_MiddlewareComponent_4)), i1.ɵdid(9, 16384, null, 0, i3.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_MiddlewareComponent_5)), i1.ɵdid(11, 16384, null, 0, i3.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null)], function (_ck, _v) { var _co = _v.component; var currVal_0 = _co.error; _ck(_v, 1, 0, currVal_0); var currVal_1 = !_co.isOnline; _ck(_v, 5, 0, currVal_1); var currVal_2 = _co.isServerError; _ck(_v, 7, 0, currVal_2); var currVal_3 = _co.errorDB; _ck(_v, 9, 0, currVal_3); var currVal_4 = (!_co.error && !_co.isServerError); _ck(_v, 11, 0, currVal_4); }, null); }
exports.View_MiddlewareComponent_0 = View_MiddlewareComponent_0;
function View_MiddlewareComponent_Host_0(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 4, "middleware-page", [], null, null, null, View_MiddlewareComponent_0, RenderType_MiddlewareComponent)), i1.ɵprd(512, null, i4.ProfileService, i4.ProfileService, [i5.Api]), i1.ɵprd(512, null, i6.TranslService, i6.TranslService, [i5.Api, i4.ProfileService, i7.HistoryStorage]), i1.ɵprd(512, null, i8.SettingsStorage, i8.SettingsStorage, []), i1.ɵdid(4, 114688, null, 0, i9.MiddlewareComponent, [i10.Router, i6.TranslService, i8.SettingsStorage, i4.ProfileService, i6.TranslService], null, null)], function (_ck, _v) { _ck(_v, 4, 0); }, null); }
exports.View_MiddlewareComponent_Host_0 = View_MiddlewareComponent_Host_0;
var MiddlewareComponentNgFactory = i1.ɵccf("middleware-page", i9.MiddlewareComponent, View_MiddlewareComponent_Host_0, {}, {}, []);
exports.MiddlewareComponentNgFactory = MiddlewareComponentNgFactory;


/***/ }),

/***/ "./src/app/pages/middleware/middleware.page.ts":
/*!*****************************************************!*\
  !*** ./src/app/pages/middleware/middleware.page.ts ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var core_1 = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var router_1 = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
// Add the RxJS Observable operators we need in this app.
__webpack_require__(/*! ./../../rxjs-operators */ "./src/app/rxjs-operators.ts");
var profile_service_1 = __webpack_require__(/*! ../../services/profile.service */ "./src/app/services/profile.service.ts");
var translate_service_1 = __webpack_require__(/*! ../../services/translate.service */ "./src/app/services/translate.service.ts");
// import {DbLocalMigration} from '../../migration/db-local.migration';
var config_1 = __webpack_require__(/*! ../../config */ "./src/app/config.ts");
var profile_local_1 = __webpack_require__(/*! ../../services/profile.local */ "./src/app/services/profile.local.ts");
var settings_storage_1 = __webpack_require__(/*! ../../storage/settings.storage */ "./src/app/storage/settings.storage.ts");
var favorites_service_1 = __webpack_require__(/*! ../../services/favorites.service */ "./src/app/services/favorites.service.ts");
var MiddlewareComponent = /** @class */ (function () {
    function MiddlewareComponent(router, 
    // private dbLocalMigration: DbLocalMigration,
    translService, settingsStorage, profileService, translateService) {
        this.router = router;
        this.translService = translService;
        this.settingsStorage = settingsStorage;
        this.profileService = profileService;
        this.translateService = translateService;
        this.error = false;
        this.errorMessage = '';
        this.isOnline = true;
        this.errorDB = false;
        this.isServerError = false;
        this.isIframe = true;
        this.cookies = {
            DeviceId: '',
            ReversoRefreshToken: '',
            ReversoAccessToken: '',
        };
        // Флаг, получили мы сообщение или нет
        this.isGetMessage = false;
        this.isOnline = navigator.onLine;
        this.isIframe = top.location !== self.location;
        // Для нормальной работы с высотой
        if (document.querySelector('main.mdl-layout__content')) {
            document.querySelector('main.mdl-layout__content')['style'].overflowY = 'hidden';
        }
    }
    // Return boolean update profile or no
    MiddlewareComponent.prototype.checkGasAuth = function () {
        var _this = this;
        var gasAuth = profile_local_1.GASAUTH.get(true);
        return new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {
            var _this = this;
            var oldGas, e_1;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!(gasAuth != null)) return [3 /*break*/, 5];
                        // фикс при обновление с 1 версии на 2
                        if (typeof gasAuth['data'] === 'undefined' && typeof gasAuth['accessToken'] !== 'undefined') {
                            oldGas = gasAuth;
                            gasAuth = {};
                            gasAuth['data'] = oldGas;
                            profile_local_1.GASAUTH.set(gasAuth['data']);
                        }
                        if (!(gasAuth['data'] && typeof gasAuth['data']['accessToken'] !== 'undefined' && gasAuth['data']['accessToken'].trim() === '' && gasAuth['data'].refreshToken)) return [3 /*break*/, 4];
                        _a.label = 1;
                    case 1:
                        _a.trys.push([1, 3, , 4]);
                        return [4 /*yield*/, this.profileService.getToken()];
                    case 2:
                        _a.sent();
                        gasAuth = profile_local_1.GASAUTH.get(true);
                        gasAuth['data'].isAuth = true;
                        return [3 /*break*/, 4];
                    case 3:
                        e_1 = _a.sent();
                        this.profileService.logOut();
                        resolve(true);
                        return [3 /*break*/, 4];
                    case 4:
                        if (gasAuth['data'] && typeof gasAuth['data']['accessToken'] !== 'undefined' && gasAuth['data']['accessToken'].trim() === '' && !gasAuth['data'].refreshToken) {
                            this.profileService.logOut();
                            resolve(true);
                        }
                        if (gasAuth['data'] && (typeof gasAuth['data'].isAuth === 'undefined' || gasAuth['data'].isAuth === 'true')) {
                            gasAuth['data'].isAuth = true;
                        }
                        if (gasAuth['data']) {
                            this.profileService.getUserInfo(gasAuth['data'].isAuth).then(function (userInfo) {
                                // changed_native_lang
                                if (userInfo && userInfo['data']
                                    && userInfo['data']['NativeLanguage']
                                    && userInfo['data']['NativeLanguage'].trim() !== '') {
                                    _this.settingsStorage.getRow('changed_native_lang').then(function (res) {
                                        if (!res) {
                                            _this.settingsStorage.getRow('native_lang').then(function (lang) {
                                                if (userInfo['data']['NativeLanguage'] !== lang) {
                                                    _this.settingsStorage.update('native_lang', userInfo['data']['NativeLanguage']);
                                                }
                                            });
                                        }
                                    });
                                }
                                if (gasAuth['data'].isAuth === true) {
                                    gasAuth['data'].isAuth = false;
                                    profile_local_1.GASAUTH.set(gasAuth['data']);
                                    resolve(true);
                                }
                                else {
                                    resolve(false);
                                }
                            }, function (error) {
                                resolve(false);
                            });
                        }
                        else {
                            resolve(false);
                        }
                        return [3 /*break*/, 6];
                    case 5:
                        // Печеньки
                        if (config_1.configurations.origin === 'chromeextension' || config_1.configurations.origin === 'ffextension' || config_1.configurations.origin === 'safariextension') {
                            this.getCookie().then(function (res) {
                                if (res === true) {
                                    _this.checkGasAuth().then(function (result) {
                                        // Отправка истории на сервер.
                                        _this.translService.sendHistoryToServer();
                                        resolve(result);
                                    }, function (error) {
                                        _this.isServerError = true;
                                        reject(error);
                                    });
                                }
                                else {
                                    resolve(res);
                                }
                            }, function (error) {
                                _this.profileService.logOut();
                                resolve(false);
                            });
                        }
                        else {
                            resolve(false);
                        }
                        _a.label = 6;
                    case 6: return [2 /*return*/];
                }
            });
        }); });
    };
    MiddlewareComponent.prototype.tryGetCookiesFromIframe = function () {
        var cookies = {
            DeviceId: '',
            ReversoRefreshToken: '',
            ReversoAccessToken: '',
        };
        localStorage.removeItem(config_1.configurations.prefixStorage + 'cookiesReversoNet');
        return new Promise(function (resolve, reject) {
            // NEW promise
            // Safari
            if (typeof safari !== 'undefined' && safari.extension && safari.extension.dispatchMessage) {
                safari.extension.dispatchMessage('getCookies');
                safari.self.addEventListener('message', function (event) {
                    if (event.name === 'setCookies') {
                        try {
                            cookies.DeviceId = event.message ? (event.message['ReversoAccessToken'] || '') : '';
                            cookies.ReversoRefreshToken = event.message ? (event.message['ReversoRefreshToken']) : '';
                            cookies.ReversoAccessToken = event.message ? (event.message['DeviceId'] || '') : '';
                        }
                        catch (_a) {
                        }
                        localStorage.setItem(config_1.configurations.prefixStorage + 'cookiesReversoNet', JSON.stringify(cookies));
                        resolve(cookies);
                    }
                });
                // Firefox
            }
            else if (config_1.configurations.origin === 'ffextension' && config_1.configurations.isExtension) {
                var cookiesProm = browser.runtime.sendMessage({
                    getCookies: true,
                });
                cookiesProm.then(function (res) {
                    try {
                        cookies.DeviceId = res['ReversoAccessToken'] || '';
                        cookies.ReversoRefreshToken = res['ReversoRefreshToken'];
                        cookies.ReversoAccessToken = res['DeviceId'] || '';
                    }
                    catch (_a) {
                    }
                    localStorage.setItem(config_1.configurations.prefixStorage + 'cookiesReversoNet', JSON.stringify(cookies));
                    resolve(cookies);
                }, function (error) {
                    resolve(cookies);
                });
                // OLD
            }
            else if (typeof chrome !== 'undefined' && config_1.configurations.isExtension) {
                chrome['runtime'].sendMessage({ getCookies: true });
                setTimeout(function () {
                    if (localStorage.getItem(config_1.configurations.prefixStorage + 'cookiesReversoNet')) {
                        try {
                            var cookiesReversoNet = JSON.parse(localStorage.getItem(config_1.configurations.prefixStorage + 'cookiesReversoNet'));
                            cookies.DeviceId = cookiesReversoNet['ReversoAccessToken'] || '';
                            cookies.ReversoRefreshToken = cookiesReversoNet['ReversoRefreshToken'];
                            cookies.ReversoAccessToken = cookiesReversoNet['DeviceId'] || '';
                        }
                        catch (_a) {
                        }
                        localStorage.setItem(config_1.configurations.prefixStorage + 'cookiesReversoNet', JSON.stringify(cookies));
                        resolve(cookies);
                    }
                    else {
                        resolve(cookies);
                    }
                }, 128);
            }
            else {
                reject('This is not an extension');
            }
        });
    };
    // Для того, чтобы всегда проверять куки при запуске, если их нет, а токены есть, то удалить токены.
    MiddlewareComponent.prototype.tryGetCookies = function () {
        var _this = this;
        var cookies = {
            DeviceId: '',
            ReversoRefreshToken: '',
            ReversoAccessToken: '',
        };
        // localStorage.removeItem(configurations.prefixStorage + 'cookiesReversoNet');
        if (typeof chrome !== 'undefined' && typeof chrome.cookies !== 'undefined' && config_1.configurations.isExtension) {
            return new Promise(function (resolve, reject) {
                try {
                    chrome.cookies.getAll({
                        url: config_1.configurations.server + '/',
                    }, function (_cookies) {
                        localStorage.removeItem(config_1.configurations.prefixStorage + 'cookiesReversoNet');
                        if (_cookies.length < 1) {
                            resolve(_this.cookies);
                            return;
                        }
                        _cookies.forEach(function (el) {
                            if (typeof el.name === 'undefined') {
                                return;
                            }
                            switch (el.name) {
                                case 'reverso.net.DeviceId':
                                    cookies.DeviceId = el.value;
                                    break;
                                case 'reverso.net.ReversoRefreshToken':
                                    cookies.ReversoRefreshToken = el.value;
                                    break;
                                case 'reverso.net.ReversoAccessToken':
                                    cookies.ReversoAccessToken = el.value;
                                    break;
                                default:
                                    return;
                            }
                        });
                        localStorage.setItem(config_1.configurations.prefixStorage + 'cookiesReversoNet', JSON.stringify(cookies));
                        resolve(cookies);
                    });
                }
                catch (e) {
                    localStorage.removeItem(config_1.configurations.prefixStorage + 'cookiesReversoNet');
                    resolve(cookies);
                }
            });
        }
        else {
            if (this.isIframe) {
                return this.tryGetCookiesFromIframe();
            }
            throw ('This is not an extension');
        }
    };
    // Получаем куки
    MiddlewareComponent.prototype.getCookie = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                if (this.cookies.ReversoRefreshToken && this.cookies.ReversoRefreshToken.trim().length > 5) {
                    profile_local_1.GASAUTH.set({
                        accessToken: this.cookies.ReversoAccessToken || '',
                        refreshToken: this.cookies.ReversoRefreshToken,
                        isAuth: true,
                        deviceId: this.cookies.DeviceId || ''
                    });
                    this.profileService.updateGasAuth();
                    return [2 /*return*/, true];
                }
                else {
                    return [2 /*return*/, false];
                }
                return [2 /*return*/];
            });
        });
    };
    // Дополнительная проверка на лимит по символам.
    // RCE-690 - After logout translation of long text is displayed on Reverso Translation
    MiddlewareComponent.prototype.сharacterLimitCheck = function (params) {
        try {
            var profile = profile_local_1.GASUSERPROFILE.get() && profile_local_1.GASUSERPROFILE.get()['data'] ? profile_local_1.GASUSERPROFILE.get()['data'] : null;
            var limitWholeText = profile && profile.LimitWholeText ? profile.LimitWholeText : config_1.configurations.limitWholeText;
            if (params.word.length > limitWholeText) {
                params.word = '';
                for (var i = 0; i <= params.countWord; i++) {
                    if (params.arrayWords[i] && (params.word.length + params.arrayWords[i].length) < limitWholeText) {
                        params.word += "" + params.arrayWords[i] + (params.isHieroglyph ? '' : ' ');
                    }
                    else {
                        if (i !== params.countWord) {
                            params.word += ' (...)';
                        }
                        break;
                    }
                }
                params.word = params.word.trim();
            }
        }
        catch (_a) {
        }
        return params;
    };
    MiddlewareComponent.prototype.navigateInApp = function () {
        var _this = this;
        // If load script from iframe
        if (this.isIframe) {
            setTimeout(function () {
                if (!_this.isGetMessage) {
                    _this.router.navigate(['/translate'], { skipLocationChange: true });
                }
            }, 1500);
            try {
                // Принимаем сообщение от родителя
                (window.opener || window).addEventListener('message', function (e) {
                    if (e.data.indexOf('selection_rr:') > -1) {
                        _this.isGetMessage = true;
                        var selection_1 = JSON.parse(e.data.substring('selection_rr:'.length));
                        // Получаем направления
                        _this.profileService.getDirections().then(function (directions) {
                            if (selection_1 && selection_1.word) {
                                window.parent['postMessage']('selection_rr:' + JSON.stringify(selection_1), '*');
                                var params = {
                                    word: selection_1.word,
                                    arrayWords: selection_1.arrayWords,
                                    sentence: selection_1.sentence,
                                    sentenceForLang: selection_1.sentenceForLang,
                                    position: selection_1.position,
                                    countWord: selection_1.countWord,
                                    siteTitle: selection_1['site']['title'],
                                    siteOrigin: selection_1['site']['origin'],
                                    siteHref: selection_1['site']['href'],
                                    lang: selection_1.lang,
                                    iframe: true,
                                    translateSite: 1,
                                    miniView: selection_1.miniView || false,
                                    reversoPage: selection_1.reversoPage,
                                    checkSavePagePromotion: false,
                                    wholeTextforReverso: selection_1.wholeTextforReverso,
                                    isHieroglyph: selection_1.isHieroglyph,
                                };
                                params = _this.сharacterLimitCheck(params);
                                // For subtitles
                                if (self['navigateTo']) {
                                    _this.router.navigate(['/' + self['navigateTo'].trim(), params], { skipLocationChange: true });
                                }
                                else {
                                    _this.router.navigate(['/translate-segment', params], { skipLocationChange: true });
                                }
                            }
                            else {
                                _this.router.navigate(['/translate'], { skipLocationChange: true });
                            }
                        }, function (error) {
                            _this.isServerError = true;
                            console.error('error: ', error);
                        });
                    }
                }, false);
                // Запрашиваем выделения
                window.parent['postMessage']('getSelectedArray_RR:get', '*');
            }
            catch (error) {
                this.isServerError = true;
                console.error('error: ', error);
            }
        }
        else {
            try {
                // load script from window
                if (self['navigateTo']) {
                    this.router.navigate(['/' + self['navigateTo'].trim()], { skipLocationChange: true });
                }
                else {
                    if (typeof chrome !== 'undefined' && typeof chrome['tabs'] !== 'undefined' && config_1.configurations.isExtension) {
                        chrome.tabs.query({ active: true, currentWindow: true }, function (tabs) {
                            if (tabs[0]) {
                                // Check selection
                                chrome.tabs.sendMessage(tabs[0].id, { removeIframe: true });
                                chrome.tabs.sendMessage(tabs[0].id, { checkSelection: 'check' });
                            }
                        });
                    }
                    // Редирект на рейтинг
                    if (profile_local_1.GASUSERPROFILE.get() &&
                        profile_local_1.GASUSERPROFILE.get()['data'] &&
                        profile_local_1.GASUSERPROFILE.get()['data']['RatingVisibility']) {
                        this.router.navigate(['/rating'], { skipLocationChange: true });
                    }
                    else {
                        this.router.navigate(['/translate'], { skipLocationChange: true });
                    }
                    // this.router.navigate(['/rating'], {skipLocationChange: true});
                }
            }
            catch (e) {
                console.error(e);
                this.router.navigate(['/translate'], { skipLocationChange: true });
            }
        }
    };
    MiddlewareComponent.prototype.ngOnInit = function () {
        return __awaiter(this, void 0, void 0, function () {
            var quantityTransl, _a, gasAuth, isIncorrectRefreshToken, e_2, update, e_3, e_4, e_5, isAuth, fav, _b;
            return __generator(this, function (_c) {
                switch (_c.label) {
                    case 0:
                        // document.body.style.height = '390px';
                        document.body.style.height = '100%';
                        this.isOnline = navigator.onLine;
                        // Записываем для FeedBack
                        this.settingsStorage.add('feedback', {
                            'Url': '',
                            'Word': '',
                            'Sentence': ''
                        });
                        try {
                            quantityTransl = localStorage.getItem(config_1.configurations.prefixStorage + 'quantityTranslations') ? localStorage.getItem(config_1.configurations.prefixStorage + 'quantityTranslations') : 0;
                            if (typeof chrome !== 'undefined' && config_1.configurations.isExtension) {
                                chrome['runtime'].sendMessage({ setCookies: quantityTransl });
                            }
                        }
                        catch (e) {
                        }
                        _c.label = 1;
                    case 1:
                        _c.trys.push([1, 3, , 4]);
                        // Запрашиваем куки (Только один раз при зауске)
                        // Если их нет, а токены есть, то удаляем токены (logOut)
                        _a = this;
                        return [4 /*yield*/, this.tryGetCookies()];
                    case 2:
                        // Запрашиваем куки (Только один раз при зауске)
                        // Если их нет, а токены есть, то удаляем токены (logOut)
                        _a.cookies = _c.sent();
                        gasAuth = profile_local_1.GASAUTH.get(true);
                        isIncorrectRefreshToken = (!this.cookies.ReversoRefreshToken || (this.cookies.ReversoRefreshToken && this.cookies.ReversoRefreshToken.trim().length < 5));
                        if (isIncorrectRefreshToken && (gasAuth !== null && gasAuth['data'] && gasAuth['data'].refreshToken)) {
                            this.profileService.logOut();
                            this.profileService.updateGasAuth();
                        }
                        return [3 /*break*/, 4];
                    case 3:
                        e_2 = _c.sent();
                        console.error(e_2);
                        return [3 /*break*/, 4];
                    case 4:
                        update = false;
                        _c.label = 5;
                    case 5:
                        _c.trys.push([5, 7, , 8]);
                        return [4 /*yield*/, this.checkGasAuth()];
                    case 6:
                        update = _c.sent();
                        return [3 /*break*/, 8];
                    case 7:
                        e_3 = _c.sent();
                        this.isServerError = true;
                        console.error(e_3);
                        return [2 /*return*/];
                    case 8:
                        _c.trys.push([8, 10, , 11]);
                        // Получаем профиль
                        return [4 /*yield*/, this.profileService.getProfile(update)];
                    case 9:
                        // Получаем профиль
                        _c.sent();
                        return [3 /*break*/, 11];
                    case 10:
                        e_4 = _c.sent();
                        this.isServerError = true;
                        console.error(e_4);
                        return [2 /*return*/];
                    case 11:
                        _c.trys.push([11, 13, , 14]);
                        // Получаем направления
                        return [4 /*yield*/, this.profileService.getDirections(update)];
                    case 12:
                        // Получаем направления
                        _c.sent();
                        return [3 /*break*/, 14];
                    case 13:
                        e_5 = _c.sent();
                        this.isServerError = true;
                        console.error(e_5);
                        return [2 /*return*/];
                    case 14:
                        try {
                            if (localStorage.getItem('showUpdateInfo') && localStorage.getItem('showUpdateInfo') === 'true') {
                                if (typeof chrome !== 'undefined' && config_1.configurations.isExtension)
                                    chrome['runtime'].sendMessage({ extensionBadge: 'remove' });
                            }
                        }
                        catch (_d) {
                        }
                        _c.label = 15;
                    case 15:
                        _c.trys.push([15, 18, , 19]);
                        isAuth = profile_local_1.CHECK_AUTH();
                        fav = favorites_service_1.FavoritesService.get();
                        if (!(isAuth && fav)) return [3 /*break*/, 17];
                        return [4 /*yield*/, this.translateService.saveFavorites(fav)];
                    case 16:
                        _c.sent();
                        favorites_service_1.FavoritesService.remove();
                        _c.label = 17;
                    case 17: return [3 /*break*/, 19];
                    case 18:
                        _b = _c.sent();
                        favorites_service_1.FavoritesService.remove();
                        return [3 /*break*/, 19];
                    case 19: return [2 /*return*/, this.navigateInApp()];
                }
            });
        });
    };
    return MiddlewareComponent;
}());
exports.MiddlewareComponent = MiddlewareComponent;


/***/ }),

/***/ "./src/app/pages/modal-incognito/modal-incognito.modal.ngfactory.js":
/*!**************************************************************************!*\
  !*** ./src/app/pages/modal-incognito/modal-incognito.modal.ngfactory.js ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

/**
 * @fileoverview This file was generated by the Angular template compiler. Do not edit.
 *
 * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}
 * tslint:disable
 */ 
Object.defineProperty(exports, "__esModule", { value: true });
var i0 = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var i1 = __webpack_require__(/*! @ngx-translate/core */ "./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
var i2 = __webpack_require__(/*! ./modal-incognito.modal */ "./src/app/pages/modal-incognito/modal-incognito.modal.ts");
var styles_ModalIncognitoComponent = [];
var RenderType_ModalIncognitoComponent = i0.ɵcrt({ encapsulation: 2, styles: styles_ModalIncognitoComponent, data: {} });
exports.RenderType_ModalIncognitoComponent = RenderType_ModalIncognitoComponent;
function View_ModalIncognitoComponent_0(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, null, null, 0, "div", [["class", "modal-overlay"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.closeModal.emit() !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i0.ɵeld(1, 0, null, null, 7, "div", [["class", "modal-window"]], null, null, null, null, null)), (_l()(), i0.ɵeld(2, 0, null, null, 0, "button", [["class", "close-button"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.closeModal.emit() !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i0.ɵeld(3, 0, null, null, 2, "div", [["class", "modal-guts"]], null, null, null, null, null)), (_l()(), i0.ɵted(4, null, ["", ""])), i0.ɵpid(131072, i1.TranslatePipe, [i1.TranslateService, i0.ChangeDetectorRef]), (_l()(), i0.ɵeld(6, 0, null, null, 2, "button", [["class", "bottom-button"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        ((_co.origin === "ffextension") ? null : _co.goToLink.emit());
        var pd_0 = (_co.closeModal.emit() !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i0.ɵted(7, null, ["", ""])), i0.ɵpid(131072, i1.TranslatePipe, [i1.TranslateService, i0.ChangeDetectorRef])], null, function (_ck, _v) { var _co = _v.component; var currVal_0 = i0.ɵunv(_v, 4, 0, i0.ɵnov(_v, 5).transform(((_co.origin === "ffextension") ? "incognitoModeForFirefox" : "incognitoMode"))); _ck(_v, 4, 0, currVal_0); var currVal_1 = i0.ɵunv(_v, 7, 0, i0.ɵnov(_v, 8).transform("ok")); _ck(_v, 7, 0, currVal_1); }); }
exports.View_ModalIncognitoComponent_0 = View_ModalIncognitoComponent_0;
function View_ModalIncognitoComponent_Host_0(_l) { return i0.ɵvid(0, [(_l()(), i0.ɵeld(0, 0, null, null, 1, "modal-incognito-modal", [], null, null, null, View_ModalIncognitoComponent_0, RenderType_ModalIncognitoComponent)), i0.ɵdid(1, 49152, null, 0, i2.ModalIncognitoComponent, [], null, null)], null, null); }
exports.View_ModalIncognitoComponent_Host_0 = View_ModalIncognitoComponent_Host_0;
var ModalIncognitoComponentNgFactory = i0.ɵccf("modal-incognito-modal", i2.ModalIncognitoComponent, View_ModalIncognitoComponent_Host_0, {}, { closeModal: "closeModal", goToLink: "goToLink" }, []);
exports.ModalIncognitoComponentNgFactory = ModalIncognitoComponentNgFactory;


/***/ }),

/***/ "./src/app/pages/modal-incognito/modal-incognito.modal.ts":
/*!****************************************************************!*\
  !*** ./src/app/pages/modal-incognito/modal-incognito.modal.ts ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var core_1 = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var config_1 = __webpack_require__(/*! ../../config */ "./src/app/config.ts");
var ModalIncognitoComponent = /** @class */ (function () {
    function ModalIncognitoComponent() {
        this.closeModal = new core_1.EventEmitter();
        this.goToLink = new core_1.EventEmitter();
        this.origin = config_1.configurations.origin;
    }
    return ModalIncognitoComponent;
}());
exports.ModalIncognitoComponent = ModalIncognitoComponent;


/***/ }),

/***/ "./src/app/pages/options/options.page.css.shim.ngstyle.js":
/*!****************************************************************!*\
  !*** ./src/app/pages/options/options.page.css.shim.ngstyle.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

/**
 * @fileoverview This file was generated by the Angular template compiler. Do not edit.
 *
 * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}
 * tslint:disable
 */ 
Object.defineProperty(exports, "__esModule", { value: true });
var styles = [""];
exports.styles = styles;


/***/ }),

/***/ "./src/app/pages/options/options.page.ngfactory.js":
/*!*********************************************************!*\
  !*** ./src/app/pages/options/options.page.ngfactory.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

/**
 * @fileoverview This file was generated by the Angular template compiler. Do not edit.
 *
 * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}
 * tslint:disable
 */ 
Object.defineProperty(exports, "__esModule", { value: true });
var i0 = __webpack_require__(/*! ./options.page.css.shim.ngstyle */ "./src/app/pages/options/options.page.css.shim.ngstyle.js");
var i1 = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var i2 = __webpack_require__(/*! @ngx-translate/core */ "./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
var i3 = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
var i4 = __webpack_require__(/*! ../modal-incognito/modal-incognito.modal.ngfactory */ "./src/app/pages/modal-incognito/modal-incognito.modal.ngfactory.js");
var i5 = __webpack_require__(/*! ../modal-incognito/modal-incognito.modal */ "./src/app/pages/modal-incognito/modal-incognito.modal.ts");
var i6 = __webpack_require__(/*! ../../services/translate.service */ "./src/app/services/translate.service.ts");
var i7 = __webpack_require__(/*! ../../../api/api */ "./src/api/api.ts");
var i8 = __webpack_require__(/*! ../../services/profile.service */ "./src/app/services/profile.service.ts");
var i9 = __webpack_require__(/*! ../../storage/history.storage */ "./src/app/storage/history.storage.ts");
var i10 = __webpack_require__(/*! ../../storage/settings.storage */ "./src/app/storage/settings.storage.ts");
var i11 = __webpack_require__(/*! ./options.page */ "./src/app/pages/options/options.page.ts");
var i12 = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var styles_OptionsComponent = [i0.styles];
var RenderType_OptionsComponent = i1.ɵcrt({ encapsulation: 0, styles: styles_OptionsComponent, data: {} });
exports.RenderType_OptionsComponent = RenderType_OptionsComponent;
function View_OptionsComponent_1(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 3, "div", [["class", "isSaveSetting"], ["id", "result_save_setting"]], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 2, "p", [["class", "settings-save"]], null, null, null, null, null)), (_l()(), i1.ɵted(2, null, ["", ""])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = i1.ɵunv(_v, 2, 0, i1.ɵnov(_v, 3).transform("settingsStorage")); _ck(_v, 2, 0, currVal_0); }); }
function View_OptionsComponent_2(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 3, "li", [], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 2, "span", [], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.logOut() !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵted(2, null, ["", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = i1.ɵunv(_v, 2, 0, i1.ɵnov(_v, 3).transform("logOut")); _ck(_v, 2, 0, currVal_0); }); }
function View_OptionsComponent_4(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 0, "i", [["class", "menu-icon premium-icon"]], null, null, null, null, null))], null, null); }
function View_OptionsComponent_3(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 7, "div", [["class", "float-right"]], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 2, "a", [["class", "title-link"], ["target", "_blank"]], [[8, "href", 4]], null, null, null, null)), (_l()(), i1.ɵted(2, null, ["", ""])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(4, 0, null, null, 3, "a", [["class", "title-link user"], ["target", "_blank"]], [[8, "href", 4]], null, null, null, null)), (_l()(), i1.ɵted(5, null, [" ", " "])), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_OptionsComponent_4)), i1.ɵdid(7, 16384, null, 0, i3.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null)], function (_ck, _v) { var _co = _v.component; var currVal_4 = (_co.user && _co.user.IsPremium); _ck(_v, 7, 0, currVal_4); }, function (_ck, _v) { var _co = _v.component; var currVal_0 = i1.ɵinlineInterpolate(2, "", _co.configurations.server, "/users/", _co.configurations.appLang, ""); _ck(_v, 1, 0, currVal_0); var currVal_1 = i1.ɵunv(_v, 2, 0, i1.ɵnov(_v, 3).transform("myReverso")); _ck(_v, 2, 0, currVal_1); var currVal_2 = i1.ɵinlineInterpolate(1, "", _co.configurations.links.profile, ""); _ck(_v, 4, 0, currVal_2); var currVal_3 = _co.user.Username; _ck(_v, 5, 0, currVal_3); }); }
function View_OptionsComponent_5(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 10, "div", [["class", "profile-item upgrade"]], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 3, "div", [["class", "title"]], null, null, null, null, null)), (_l()(), i1.ɵted(2, null, [" ", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(5, 0, null, null, 5, "a", [["class", "mdl-menu-no-click mdl-button mdl-js-button mdl-menu-button text-none-i upgrade-btn"], ["target", "_blank"]], [[8, "href", 4]], null, null, null, null)), i1.ɵdid(6, 278528, null, 0, i3.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), i1.ɵpod(7, { premium: 0 }), (_l()(), i1.ɵted(8, null, [" ", " "])), i1.ɵppd(9, 2), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef])], function (_ck, _v) { var _co = _v.component; var currVal_2 = "mdl-menu-no-click mdl-button mdl-js-button mdl-menu-button text-none-i upgrade-btn"; var currVal_3 = _ck(_v, 7, 0, _co.user["IsPremium"]); _ck(_v, 6, 0, currVal_2, currVal_3); }, function (_ck, _v) { var _co = _v.component; var currVal_0 = ((_co.user["IsPremium"] == true) ? i1.ɵunv(_v, 2, 0, i1.ɵnov(_v, 3).transform("premium")) : i1.ɵunv(_v, 2, 0, i1.ɵnov(_v, 4).transform("upgradeToPremium"))); _ck(_v, 2, 0, currVal_0); var currVal_1 = i1.ɵinlineInterpolate(3, "", _co.configurations.server, "/doc/premium?origin=", _co.configurations.origin, "&uiLang=", _co.configurations.appLang, ""); _ck(_v, 5, 0, currVal_1); var currVal_4 = ((_co.user["IsPremium"] == true) ? i1.ɵunv(_v, 8, 0, _ck(_v, 9, 0, i1.ɵnov(_v.parent, 0), _co.user.PremiumSubscriptionDate, "dd.MM.y")) : i1.ɵunv(_v, 8, 0, i1.ɵnov(_v, 10).transform("upgrade"))); _ck(_v, 8, 0, currVal_4); }); }
function View_OptionsComponent_7(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 12, "span", [], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 2, "a", [["class", "mdl-menu-no-click mdl-button mdl-js-button mdl-menu-button text-capitalize-i sign-btn"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.goToLink(_co.configurations.links.register) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵted(2, null, [" ", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(4, 0, null, null, 2, "div", [["class", "btn-row form-row form-group"]], null, null, null, null, null)), (_l()(), i1.ɵeld(5, 0, null, null, 0, "a", [["class", "loginBtn loginBtn--facebook"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.goToLink(_co.configurations.links.facebookLogin) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵeld(6, 0, null, null, 0, "a", [["class", "loginBtn loginBtn--google"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.goToLink(_co.configurations.links.googleLogin) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵeld(7, 0, null, null, 5, "div", [["class", "sign-desc"]], null, null, null, null, null)), (_l()(), i1.ɵted(8, null, [" ", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(10, 0, null, null, 2, "a", [], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.goToLink(_co.configurations.links.login) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵted(11, null, [" ", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = i1.ɵunv(_v, 2, 0, i1.ɵnov(_v, 3).transform("signUp")); _ck(_v, 2, 0, currVal_0); var currVal_1 = i1.ɵunv(_v, 8, 0, i1.ɵnov(_v, 9).transform("alreadyReversoAccount")); _ck(_v, 8, 0, currVal_1); var currVal_2 = i1.ɵunv(_v, 11, 0, i1.ɵnov(_v, 12).transform("logIn")); _ck(_v, 11, 0, currVal_2); }); }
function View_OptionsComponent_8(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 1, "span", [["class", "cookies-warning"]], [[8, "innerHTML", 1]], null, null, null, null)), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = i1.ɵunv(_v, 0, 0, i1.ɵnov(_v, 1).transform("accessToASpecificSite")); _ck(_v, 0, 0, currVal_0); }); }
function View_OptionsComponent_6(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 23, "div", [["class", "sign-up profile-item"]], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 2, "div", [["class", "sign-title"]], null, null, null, null, null)), (_l()(), i1.ɵted(2, null, [" ", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(4, 0, null, null, 15, "ul", [["class", "middle-desc-row"]], null, null, null, null, null)), (_l()(), i1.ɵeld(5, 0, null, null, 2, "li", [], null, null, null, null, null)), (_l()(), i1.ɵted(6, null, [" ", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(8, 0, null, null, 2, "li", [], null, null, null, null, null)), (_l()(), i1.ɵted(9, null, [" ", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(11, 0, null, null, 2, "li", [], null, null, null, null, null)), (_l()(), i1.ɵted(12, null, [" ", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(14, 0, null, null, 2, "li", [], null, null, null, null, null)), (_l()(), i1.ɵted(15, null, [" ", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(17, 0, null, null, 2, "li", [], null, null, null, null, null)), (_l()(), i1.ɵted(18, null, [" ", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_OptionsComponent_7)), i1.ɵdid(21, 16384, null, 0, i3.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_OptionsComponent_8)), i1.ɵdid(23, 16384, null, 0, i3.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null)], function (_ck, _v) { var _co = _v.component; var currVal_6 = !_co.isBlockedCookie; _ck(_v, 21, 0, currVal_6); var currVal_7 = _co.isBlockedCookie; _ck(_v, 23, 0, currVal_7); }, function (_ck, _v) { var currVal_0 = i1.ɵunv(_v, 2, 0, i1.ɵnov(_v, 3).transform("titleRegister")); _ck(_v, 2, 0, currVal_0); var currVal_1 = i1.ɵunv(_v, 6, 0, i1.ɵnov(_v, 7).transform("historySave")); _ck(_v, 6, 0, currVal_1); var currVal_2 = i1.ɵunv(_v, 9, 0, i1.ɵnov(_v, 10).transform("seeTranslations")); _ck(_v, 9, 0, currVal_2); var currVal_3 = i1.ɵunv(_v, 12, 0, i1.ɵnov(_v, 13).transform("savePagesTranslations")); _ck(_v, 12, 0, currVal_3); var currVal_4 = i1.ɵunv(_v, 15, 0, i1.ɵnov(_v, 16).transform("subtitlesTranslation")); _ck(_v, 15, 0, currVal_4); var currVal_5 = i1.ɵunv(_v, 18, 0, i1.ɵnov(_v, 19).transform("displayFullTextTranslationPopup")); _ck(_v, 18, 0, currVal_5); }); }
function View_OptionsComponent_10(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 1, "span", [], null, null, null, null, null)), (_l()(), i1.ɵted(1, null, [" / ", ""]))], null, function (_ck, _v) { var _co = _v.component; var currVal_0 = _co.profile.NumberOfStoredWebPages; _ck(_v, 1, 0, currVal_0); }); }
function View_OptionsComponent_9(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 7, "div", [["class", "stat-item"]], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 2, "div", [["class", "stat-label"]], null, null, null, null, null)), (_l()(), i1.ɵted(2, null, ["", ""])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(4, 0, null, null, 3, "div", [["class", "stat-value"]], null, null, null, null, null)), (_l()(), i1.ɵted(5, null, ["", " "])), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_OptionsComponent_10)), i1.ɵdid(7, 16384, null, 0, i3.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null)], function (_ck, _v) { var _co = _v.component; var currVal_2 = (_co.profile && (_co.profile.NumberOfStoredWebPages != (0 - 1))); _ck(_v, 7, 0, currVal_2); }, function (_ck, _v) { var _co = _v.component; var currVal_0 = i1.ɵunv(_v, 2, 0, i1.ɵnov(_v, 3).transform("ReadingList")); _ck(_v, 2, 0, currVal_0); var currVal_1 = _co.profile.SavedPages; _ck(_v, 5, 0, currVal_1); }); }
function View_OptionsComponent_11(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 1, "span", [], null, null, null, null, null)), (_l()(), i1.ɵted(1, null, [" / ", ""]))], null, function (_ck, _v) { var _co = _v.component; var currVal_0 = _co.profile.TotalRequestsLimit; _ck(_v, 1, 0, currVal_0); }); }
function View_OptionsComponent_12(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 10, "ul", [["class", "mdl-menu mdl-menu--bottom-right mdl-shadow--2dp hide mdl-menu-no-click mdl-color--white text-lowercase-i"], ["id", "activation"]], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 4, "li", [["class", "mdl-menu__item"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        _co.installSetting("activation_mode", "activated");
        var pd_0 = (_co.installSetting("activation_mode_call", "showButtonTransl") !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), i1.ɵdid(2, 278528, null, 0, i3.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), i1.ɵpod(3, { disable: 0 }), (_l()(), i1.ɵted(4, null, [" ", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(6, 0, null, null, 4, "li", [["class", "mdl-menu__item "]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        _co.installSetting("activation_mode", "activated");
        var pd_0 = (_co.installSetting("activation_mode_call", "doubleClick") !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), i1.ɵdid(7, 278528, null, 0, i3.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), i1.ɵpod(8, { disable: 0 }), (_l()(), i1.ɵted(9, null, [" ", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef])], function (_ck, _v) { var _co = _v.component; var currVal_0 = "mdl-menu__item"; var currVal_1 = _ck(_v, 3, 0, (_co.settings.activation_mode_call == "showButtonTransl")); _ck(_v, 2, 0, currVal_0, currVal_1); var currVal_3 = "mdl-menu__item "; var currVal_4 = _ck(_v, 8, 0, (_co.settings.activation_mode_call == "doubleClick")); _ck(_v, 7, 0, currVal_3, currVal_4); }, function (_ck, _v) { var currVal_2 = i1.ɵunv(_v, 4, 0, i1.ɵnov(_v, 5).transform("showButtonTransl")); _ck(_v, 4, 0, currVal_2); var currVal_5 = i1.ɵunv(_v, 9, 0, i1.ɵnov(_v, 10).transform("doubleClick")); _ck(_v, 9, 0, currVal_5); }); }
function View_OptionsComponent_14(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 4, "li", [["class", "mdl-menu__item"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.setAppLang(_v.context.$implicit) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), i1.ɵdid(1, 278528, null, 0, i3.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), i1.ɵpod(2, { disable: 0 }), (_l()(), i1.ɵeld(3, 0, null, null, 1, "span", [], [[8, "className", 0]], null, null, null, null)), (_l()(), i1.ɵted(4, null, ["", ""]))], function (_ck, _v) { var _co = _v.component; var currVal_0 = "mdl-menu__item"; var currVal_1 = _ck(_v, 2, 0, (_v.context.$implicit.id == _co.settings.app_lang.id)); _ck(_v, 1, 0, currVal_0, currVal_1); }, function (_ck, _v) { var currVal_2 = i1.ɵinlineInterpolate(1, "lang-icon ", _v.context.$implicit.id, ""); _ck(_v, 3, 0, currVal_2); var currVal_3 = _v.context.$implicit.name; _ck(_v, 4, 0, currVal_3); }); }
function View_OptionsComponent_13(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 10, "li", [["class", "item-settings select language-select cf"]], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 2, "span", [["class", "item-title"]], null, null, null, null, null)), (_l()(), i1.ɵted(2, null, ["", ""])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(4, 0, null, null, 6, "div", [["class", "select-conteiner float-right"]], null, null, null, null, null)), (_l()(), i1.ɵeld(5, 0, null, null, 2, "button", [["class", "mdl-menu-no-click mdl-button mdl-js-button mdl-menu-button text-capitalize-i"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.mdMenu.show("lang_setting") !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵeld(6, 0, null, null, 1, "span", [], [[8, "className", 0]], null, null, null, null)), (_l()(), i1.ɵted(7, null, ["", ""])), (_l()(), i1.ɵeld(8, 0, null, null, 2, "ul", [["class", "mdl-menu mdl-menu--bottom-right mdl-shadow--2dp hide mdl-menu-no-click mdl-color--white lang_setting"], ["id", "lang_setting"]], null, null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_OptionsComponent_14)), i1.ɵdid(10, 802816, null, 0, i3.NgForOf, [i1.ViewContainerRef, i1.TemplateRef, i1.IterableDiffers], { ngForOf: [0, "ngForOf"] }, null)], function (_ck, _v) { var _co = _v.component; var currVal_3 = _co.supportLangs; _ck(_v, 10, 0, currVal_3); }, function (_ck, _v) { var _co = _v.component; var currVal_0 = i1.ɵunv(_v, 2, 0, i1.ɵnov(_v, 3).transform("interfaceLanguage")); _ck(_v, 2, 0, currVal_0); var currVal_1 = i1.ɵinlineInterpolate(1, "lang-icon ", _co.settings.app_lang.id, ""); _ck(_v, 6, 0, currVal_1); var currVal_2 = _co.settings.app_lang.name; _ck(_v, 7, 0, currVal_2); }); }
function View_OptionsComponent_16(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 4, "li", [["class", "mdl-menu__item"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.setNativeLang(_v.context.$implicit) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), i1.ɵdid(1, 278528, null, 0, i3.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), i1.ɵpod(2, { disable: 0 }), (_l()(), i1.ɵeld(3, 0, null, null, 1, "span", [], [[8, "className", 0]], null, null, null, null)), (_l()(), i1.ɵted(4, null, ["", ""]))], function (_ck, _v) { var _co = _v.component; var currVal_0 = "mdl-menu__item"; var currVal_1 = _ck(_v, 2, 0, (_v.context.$implicit.id == _co.settings.native_lang.id)); _ck(_v, 1, 0, currVal_0, currVal_1); }, function (_ck, _v) { var currVal_2 = i1.ɵinlineInterpolate(1, "lang-icon ", _v.context.$implicit.id, ""); _ck(_v, 3, 0, currVal_2); var currVal_3 = _v.context.$implicit.name; _ck(_v, 4, 0, currVal_3); }); }
function View_OptionsComponent_15(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 10, "li", [["class", "item-settings select language-select cf"]], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 2, "span", [["class", "item-title"]], null, null, null, null, null)), (_l()(), i1.ɵted(2, null, ["", ""])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(4, 0, null, null, 6, "div", [["class", "select-conteiner float-right"]], null, null, null, null, null)), (_l()(), i1.ɵeld(5, 0, null, null, 2, "button", [["class", "mdl-menu-no-click mdl-button mdl-js-button mdl-menu-button text-capitalize-i"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.mdMenu.show("native_lang_setting") !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵeld(6, 0, null, null, 1, "span", [], [[8, "className", 0]], null, null, null, null)), (_l()(), i1.ɵted(7, null, ["", ""])), (_l()(), i1.ɵeld(8, 0, null, null, 2, "ul", [["class", "mdl-menu mdl-menu--bottom-right mdl-shadow--2dp hide mdl-menu-no-click mdl-color--white lang_setting"], ["id", "native_lang_setting"]], null, null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_OptionsComponent_16)), i1.ɵdid(10, 802816, null, 0, i3.NgForOf, [i1.ViewContainerRef, i1.TemplateRef, i1.IterableDiffers], { ngForOf: [0, "ngForOf"] }, null)], function (_ck, _v) { var _co = _v.component; var currVal_3 = _co.native_langs; _ck(_v, 10, 0, currVal_3); }, function (_ck, _v) { var _co = _v.component; var currVal_0 = i1.ɵunv(_v, 2, 0, i1.ɵnov(_v, 3).transform("nativeLanguage")); _ck(_v, 2, 0, currVal_0); var currVal_1 = i1.ɵinlineInterpolate(1, "lang-icon ", _co.settings.native_lang.id, ""); _ck(_v, 6, 0, currVal_1); var currVal_2 = _co.settings.native_lang.name; _ck(_v, 7, 0, currVal_2); }); }
function View_OptionsComponent_18(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 13, "div", [["class", "popup popup-analytics"]], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 6, "p", [], null, null, null, null, null)), (_l()(), i1.ɵeld(2, 0, null, null, 1, "span", [], [[8, "innerHTML", 1]], null, null, null, null)), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(4, 0, null, null, 0, "br", [], null, null, null, null, null)), (_l()(), i1.ɵeld(5, 0, null, null, 2, "a", [["href", "https://www.google.com/analytics/terms/us.html"], ["target", "_blank"]], null, null, null, null, null)), (_l()(), i1.ɵted(6, null, ["", ""])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(8, 0, null, null, 2, "a", [["class", "button button-analytics"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        _co.installSetting("googleAnalytics", true);
        var pd_0 = ((_co.showModal = false) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵted(9, null, ["", ""])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(11, 0, null, null, 2, "a", [["class", "button button-analytics button-analytics-cancel"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = ((_co.showModal = false) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵted(12, null, ["", ""])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = i1.ɵunv(_v, 2, 0, i1.ɵnov(_v, 3).transform("textForGoogleAnalytics")); _ck(_v, 2, 0, currVal_0); var currVal_1 = i1.ɵunv(_v, 6, 0, i1.ɵnov(_v, 7).transform("privacyInformation")); _ck(_v, 6, 0, currVal_1); var currVal_2 = i1.ɵunv(_v, 9, 0, i1.ɵnov(_v, 10).transform("enable")); _ck(_v, 9, 0, currVal_2); var currVal_3 = i1.ɵunv(_v, 12, 0, i1.ɵnov(_v, 13).transform("cancel")); _ck(_v, 12, 0, currVal_3); }); }
function View_OptionsComponent_17(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 10, "li", [["class", "item-settings checkbox"]], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 2, "span", [["class", "item-title"]], null, null, null, null, null)), (_l()(), i1.ɵted(2, null, ["", ""])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(4, 0, null, null, 4, "a", [["class", "button button-analytics"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = ((_co.settings.googleAnalytics ? _co.installSetting("googleAnalytics", !_co.settings.googleAnalytics) : _co.showModal = !_co.showModal) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), i1.ɵdid(5, 278528, null, 0, i3.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), (_l()(), i1.ɵted(6, null, [" ", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_OptionsComponent_18)), i1.ɵdid(10, 16384, null, 0, i3.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null)], function (_ck, _v) { var _co = _v.component; var currVal_1 = "button button-analytics"; var currVal_2 = (!_co.settings.googleAnalytics ? "enable" : "disable"); _ck(_v, 5, 0, currVal_1, currVal_2); var currVal_4 = _co.showModal; _ck(_v, 10, 0, currVal_4); }, function (_ck, _v) { var _co = _v.component; var currVal_0 = i1.ɵunv(_v, 2, 0, i1.ɵnov(_v, 3).transform("googleAnalytics")); _ck(_v, 2, 0, currVal_0); var currVal_3 = (_co.settings.googleAnalytics ? i1.ɵunv(_v, 6, 0, i1.ɵnov(_v, 7).transform("disable")) : i1.ɵunv(_v, 6, 0, i1.ɵnov(_v, 8).transform("enable"))); _ck(_v, 6, 0, currVal_3); }); }
function View_OptionsComponent_19(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "li", [], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 1, "small", [["class", "allow_access_to_file"]], [[8, "innerHTML", 1]], null, null, null, null)), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = i1.ɵunv(_v, 1, 0, i1.ɵnov(_v, 2).transform("allowAccessToFile")); _ck(_v, 1, 0, currVal_0); }); }
function View_OptionsComponent_20(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 1, "modal-incognito-modal", [], null, [[null, "closeModal"], [null, "goToLink"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("closeModal" === en)) {
        var pd_0 = ((_co.isShowMessageForInIncognitoContext = null) !== false);
        ad = (pd_0 && ad);
    } if (("goToLink" === en)) {
        var pd_1 = (_co.goToLink(_co.isShowMessageForInIncognitoContext, true) !== false);
        ad = (pd_1 && ad);
    } return ad; }, i4.View_ModalIncognitoComponent_0, i4.RenderType_ModalIncognitoComponent)), i1.ɵdid(1, 49152, null, 0, i5.ModalIncognitoComponent, [], null, { closeModal: "closeModal", goToLink: "goToLink" })], null, null); }
function View_OptionsComponent_0(_l) { return i1.ɵvid(0, [i1.ɵpid(0, i3.DatePipe, [i1.LOCALE_ID]), (_l()(), i1.ɵeld(1, 0, null, null, 147, "div", [["class", "options-page  cf"]], null, null, null, null, null)), (_l()(), i1.ɵeld(2, 0, null, null, 146, "div", [["class", "container  cf"]], null, null, null, null, null)), (_l()(), i1.ɵeld(3, 0, null, null, 17, "header", [["class", "header header-options cf"]], null, null, null, null, null)), (_l()(), i1.ɵeld(4, 0, null, null, 0, "div", [["class", "logo float-left"]], null, null, null, null, null)), (_l()(), i1.ɵted(5, null, [" ", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_OptionsComponent_1)), i1.ɵdid(8, 16384, null, 0, i3.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵeld(9, 0, null, null, 11, "div", [["class", "menu float-right"]], null, null, null, null, null)), (_l()(), i1.ɵeld(10, 0, null, null, 10, "ul", [], null, null, null, null, null)), (_l()(), i1.ɵeld(11, 0, null, null, 3, "li", [], null, null, null, null, null)), (_l()(), i1.ɵeld(12, 0, null, null, 2, "a", [["target", "_blank"]], [[8, "href", 4]], null, null, null, null)), (_l()(), i1.ɵted(13, null, ["", ""])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(15, 0, null, null, 3, "li", [], null, null, null, null, null)), (_l()(), i1.ɵeld(16, 0, null, null, 2, "a", [["target", "_blank"]], [[8, "href", 4]], null, null, null, null)), (_l()(), i1.ɵted(17, null, ["", ""])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_OptionsComponent_2)), i1.ɵdid(20, 16384, null, 0, i3.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵeld(21, 0, null, null, 113, "div", [["class", "body-options cf"]], null, null, null, null, null)), (_l()(), i1.ɵeld(22, 0, null, null, 2, "div", [["class", "title "]], null, null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_OptionsComponent_3)), i1.ɵdid(24, 16384, null, 0, i3.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵeld(25, 0, null, null, 15, "div", [["class", "profile float-right"]], null, null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_OptionsComponent_5)), i1.ɵdid(27, 16384, null, 0, i3.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_OptionsComponent_6)), i1.ɵdid(29, 16384, null, 0, i3.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵeld(30, 0, null, null, 10, "div", [["class", "profile-item statistic"]], null, null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_OptionsComponent_9)), i1.ɵdid(32, 16384, null, 0, i3.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵeld(33, 0, null, null, 7, "div", [["class", "stat-item"]], null, null, null, null, null)), (_l()(), i1.ɵeld(34, 0, null, null, 2, "div", [["class", "stat-label"]], null, null, null, null, null)), (_l()(), i1.ɵted(35, null, ["", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(37, 0, null, null, 3, "div", [["class", "stat-value"]], null, null, null, null, null)), (_l()(), i1.ɵted(38, null, ["", " "])), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_OptionsComponent_11)), i1.ɵdid(40, 16384, null, 0, i3.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵeld(41, 0, null, null, 93, "ul", [["class", "settings float-left"]], null, null, null, null, null)), (_l()(), i1.ɵeld(42, 0, null, null, 6, "li", [["class", "item-settings checkbox"]], null, null, null, null, null)), (_l()(), i1.ɵeld(43, 0, null, null, 0, "span", [["class", "item-title"]], null, null, null, null, null)), (_l()(), i1.ɵted(44, null, ["", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(46, 0, null, null, 2, "label", [["for", "activateReversoContext"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.activateReversoContext(!_co.settings.activateReversoContextMode) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵeld(47, 0, null, null, 0, "input", [["id", "activateReversoContext"], ["type", "checkbox"]], [[8, "checked", 0]], null, null, null, null)), (_l()(), i1.ɵeld(48, 0, null, null, 0, "div", [["class", "indicator"]], null, null, null, null, null)), (_l()(), i1.ɵeld(49, 0, null, null, 12, "li", [["class", "item-settings select activation-select cf"]], null, null, null, null, null)), (_l()(), i1.ɵeld(50, 0, null, null, 2, "span", [["class", "item-title"]], null, null, null, null, null)), (_l()(), i1.ɵted(51, null, ["", ""])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(53, 0, null, null, 8, "div", [["class", "select-conteiner float-right"]], null, null, null, null, null)), i1.ɵdid(54, 278528, null, 0, i3.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), i1.ɵpod(55, { disabled: 0 }), (_l()(), i1.ɵeld(56, 0, null, null, 3, "button", [["class", "mdl-menu-no-click mdl-button mdl-js-button mdl-menu-button text-capitalize-i"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = ((_co.settings.activateReversoContextMode ? _co.mdMenu.show("activation") : false) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵted(57, null, [" ", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_OptionsComponent_12)), i1.ɵdid(61, 16384, null, 0, i3.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_OptionsComponent_13)), i1.ɵdid(63, 16384, null, 0, i3.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_OptionsComponent_15)), i1.ɵdid(65, 16384, null, 0, i3.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵeld(66, 0, null, null, 9, "li", [["class", "item-settings checkbox"]], null, null, null, null, null)), (_l()(), i1.ɵeld(67, 0, null, null, 2, "span", [["class", "item-title"]], null, null, null, null, null)), (_l()(), i1.ɵted(68, null, ["", ""])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(70, 0, null, null, 2, "label", [["for", "expressions"], ["id", "find_expression"]], null, [[null, "mouseover"], [null, "mouseout"], [null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("mouseover" === en)) {
        var pd_0 = (_co.tooltip("find_expression", true) !== false);
        ad = (pd_0 && ad);
    } if (("mouseout" === en)) {
        var pd_1 = (_co.tooltip("find_expression", false) !== false);
        ad = (pd_1 && ad);
    } if (("click" === en)) {
        var pd_2 = (_co.installSetting("translateSegment", !_co.settings.translateSegment) !== false);
        ad = (pd_2 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵeld(71, 0, null, null, 0, "input", [["id", "expressions"], ["type", "checkbox"]], [[8, "checked", 0]], null, null, null, null)), (_l()(), i1.ɵeld(72, 0, null, null, 0, "div", [["class", "indicator"]], null, null, null, null, null)), (_l()(), i1.ɵeld(73, 0, null, null, 2, "div", [["class", "sw-tooltip"]], [[1, "for", 0]], null, null, null, null)), (_l()(), i1.ɵted(74, null, [" ", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(76, 0, null, null, 6, "li", [["class", "item-settings checkbox"]], null, null, null, null, null)), (_l()(), i1.ɵeld(77, 0, null, null, 0, "span", [["class", "item-title"]], null, null, null, null, null)), (_l()(), i1.ɵted(78, null, ["", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(80, 0, null, null, 2, "label", [["for", "lang_interface"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.installSetting("activation_mode_native_lang", !_co.settings.activation_mode_native_lang) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵeld(81, 0, null, null, 0, "input", [["id", "lang_interface"], ["type", "checkbox"]], [[8, "checked", 0]], null, null, null, null)), (_l()(), i1.ɵeld(82, 0, null, null, 0, "div", [["class", "indicator"]], null, null, null, null, null)), (_l()(), i1.ɵeld(83, 0, null, null, 6, "li", [["class", "item-settings checkbox"]], null, null, null, null, null)), (_l()(), i1.ɵeld(84, 0, null, null, 2, "span", [["class", "item-title"]], null, null, null, null, null)), (_l()(), i1.ɵted(85, null, [" ", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(87, 0, null, null, 2, "label", [["for", "pdf"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.installSetting("openPdf", !_co.settings.openPdf) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵeld(88, 0, null, null, 0, "input", [["id", "pdf"], ["type", "checkbox"]], [[8, "checked", 0]], null, null, null, null)), (_l()(), i1.ɵeld(89, 0, null, null, 0, "div", [["class", "indicator"]], null, null, null, null, null)), (_l()(), i1.ɵeld(90, 0, null, null, 9, "li", [["class", "item-settings checkbox"]], null, null, null, null, null)), (_l()(), i1.ɵeld(91, 0, null, null, 5, "span", [["class", "item-title"]], null, null, null, null, null)), (_l()(), i1.ɵted(92, null, ["", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(94, 0, null, null, 2, "span", [["class", "list-providers"]], null, null, null, null, null)), (_l()(), i1.ɵted(95, null, ["(", ")"])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(97, 0, null, null, 2, "label", [["for", "activateTranslSub"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.installSetting("activateTranslSub", !_co.settings.activateTranslSub) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵeld(98, 0, null, null, 0, "input", [["id", "activateTranslSub"], ["type", "checkbox"]], [[8, "checked", 0]], null, null, null, null)), (_l()(), i1.ɵeld(99, 0, null, null, 0, "div", [["class", "indicator"]], null, null, null, null, null)), (_l()(), i1.ɵeld(100, 0, null, null, 6, "li", [["class", "item-settings checkbox"]], null, null, null, null, null)), (_l()(), i1.ɵeld(101, 0, null, null, 2, "span", [["class", "item-title"]], null, null, null, null, null)), (_l()(), i1.ɵted(102, null, [" ", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(104, 0, null, null, 2, "label", [["for", "activateTranslSub"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.installSetting("showNotificationWeekWord", !_co.settings.showNotificationWeekWord) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵeld(105, 0, null, null, 0, "input", [["id", "showNotificationWeekWord"], ["type", "checkbox"]], [[8, "checked", 0]], null, null, null, null)), (_l()(), i1.ɵeld(106, 0, null, null, 0, "div", [["class", "indicator"]], null, null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_OptionsComponent_17)), i1.ɵdid(108, 16384, null, 0, i3.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵeld(109, 0, null, null, 23, "li", [["class", "item-settings select keyCode_RR cf"]], null, null, null, null, null)), (_l()(), i1.ɵeld(110, 0, null, null, 2, "span", [["class", "item-title"]], null, null, null, null, null)), (_l()(), i1.ɵted(111, null, ["", ""])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(113, 0, null, null, 19, "div", [["class", "select-conteiner float-right"]], null, null, null, null, null)), (_l()(), i1.ɵeld(114, 0, null, null, 2, "button", [["class", "mdl-menu-no-click mdl-button mdl-js-button mdl-menu-button text-uppercase-i"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.mdMenu.show("hotkeys_setting") !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵted(115, null, [" ", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(117, 0, null, null, 15, "ul", [["class", "mdl-menu mdl-menu--bottom-right mdl-shadow--2dp hide mdl-menu-no-click mdl-color--white"], ["id", "hotkeys_setting"]], null, null, null, null, null)), (_l()(), i1.ɵeld(118, 0, null, null, 4, "li", [["class", "mdl-menu__item text-uppercase-i"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.installSetting("hot_key", "82") !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), i1.ɵdid(119, 278528, null, 0, i3.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), i1.ɵpod(120, { disable: 0 }), (_l()(), i1.ɵted(121, null, [" ", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(123, 0, null, null, 4, "li", [["class", "mdl-menu__item text-uppercase-i"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.installSetting("hot_key", "84") !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), i1.ɵdid(124, 278528, null, 0, i3.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), i1.ɵpod(125, { disable: 0 }), (_l()(), i1.ɵted(126, null, [" ", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(128, 0, null, null, 4, "li", [["class", "mdl-menu__item text-uppercase-i"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.installSetting("hot_key", "87") !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), i1.ɵdid(129, 278528, null, 0, i3.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), i1.ɵpod(130, { disable: 0 }), (_l()(), i1.ɵted(131, null, [" ", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_OptionsComponent_19)), i1.ɵdid(134, 16384, null, 0, i3.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵeld(135, 0, null, null, 11, "footer", [["class", "footer footer-options"]], null, null, null, null, null)), (_l()(), i1.ɵeld(136, 0, null, null, 8, "div", [["class", "copyright"]], null, null, null, null, null)), (_l()(), i1.ɵeld(137, 0, null, null, 2, "div", [["class", "circle-indicator"]], null, null, null, null, null)), i1.ɵdid(138, 278528, null, 0, i3.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), i1.ɵpod(139, { active: 0 }), (_l()(), i1.ɵeld(140, 0, null, null, 1, "a", [["target", "_blank"]], [[8, "href", 4]], null, null, null, null)), (_l()(), i1.ɵted(141, null, ["", " copyright Reverso"])), (_l()(), i1.ɵeld(142, 0, null, null, 2, "a", [["class", "privacyInformation"], ["target", "_blank"]], [[8, "href", 4]], null, null, null, null)), (_l()(), i1.ɵted(143, null, [" ", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(145, 0, null, null, 1, "div", [["class", "version"]], null, null, null, null, null)), (_l()(), i1.ɵted(146, null, [" v", " "])), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_OptionsComponent_20)), i1.ɵdid(148, 16384, null, 0, i3.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null)], function (_ck, _v) { var _co = _v.component; var currVal_1 = _co.isSaveSetting; _ck(_v, 8, 0, currVal_1); var currVal_6 = _co.user; _ck(_v, 20, 0, currVal_6); var currVal_7 = _co.user; _ck(_v, 24, 0, currVal_7); var currVal_8 = _co.user; _ck(_v, 27, 0, currVal_8); var currVal_9 = !_co.isAuth; _ck(_v, 29, 0, currVal_9); var currVal_10 = _co.user; _ck(_v, 32, 0, currVal_10); var currVal_13 = (_co.profile && (_co.profile.TotalRequestsLimit != (0 - 1))); _ck(_v, 40, 0, currVal_13); var currVal_17 = "select-conteiner float-right"; var currVal_18 = _ck(_v, 55, 0, !_co.settings.activateReversoContextMode); _ck(_v, 54, 0, currVal_17, currVal_18); var currVal_20 = _co.settings.activateReversoContextMode; _ck(_v, 61, 0, currVal_20); var currVal_21 = _co.settings.app_lang; _ck(_v, 63, 0, currVal_21); var currVal_22 = _co.settings.native_lang; _ck(_v, 65, 0, currVal_22); var currVal_36 = (_co.configurations.origin == "ffextension"); _ck(_v, 108, 0, currVal_36); var currVal_39 = "mdl-menu__item text-uppercase-i"; var currVal_40 = _ck(_v, 120, 0, (_co.settings.hot_key == "82")); _ck(_v, 119, 0, currVal_39, currVal_40); var currVal_42 = "mdl-menu__item text-uppercase-i"; var currVal_43 = _ck(_v, 125, 0, (_co.settings.hot_key == "84")); _ck(_v, 124, 0, currVal_42, currVal_43); var currVal_45 = "mdl-menu__item text-uppercase-i"; var currVal_46 = _ck(_v, 130, 0, (_co.settings.hot_key == "87")); _ck(_v, 129, 0, currVal_45, currVal_46); var currVal_48 = (_co.showStringForLocalFile && (_co.configurations.origin !== "ffextension")); _ck(_v, 134, 0, currVal_48); var currVal_49 = "circle-indicator"; var currVal_50 = _ck(_v, 139, 0, _co.isAuth); _ck(_v, 138, 0, currVal_49, currVal_50); var currVal_56 = _co.isShowMessageForInIncognitoContext; _ck(_v, 148, 0, currVal_56); }, function (_ck, _v) { var _co = _v.component; var currVal_0 = i1.ɵunv(_v, 5, 0, i1.ɵnov(_v, 6).transform("options")); _ck(_v, 5, 0, currVal_0); var currVal_2 = i1.ɵinlineInterpolate(1, "", _co.configurations.links.context, "translation/about"); _ck(_v, 12, 0, currVal_2); var currVal_3 = i1.ɵunv(_v, 13, 0, i1.ɵnov(_v, 14).transform("about")); _ck(_v, 13, 0, currVal_3); var currVal_4 = i1.ɵinlineInterpolate(2, "", _co.configurations.server, "/", _co.configurations.appLang, "/Doc/Faq"); _ck(_v, 16, 0, currVal_4); var currVal_5 = i1.ɵunv(_v, 17, 0, i1.ɵnov(_v, 18).transform("usefulTips")); _ck(_v, 17, 0, currVal_5); var currVal_11 = i1.ɵunv(_v, 35, 0, i1.ɵnov(_v, 36).transform("totalSearches")); _ck(_v, 35, 0, currVal_11); var currVal_12 = _co.quantityTranslations; _ck(_v, 38, 0, currVal_12); var currVal_14 = i1.ɵunv(_v, 44, 0, i1.ɵnov(_v, 45).transform("activateReversoContextByDefault")); _ck(_v, 44, 0, currVal_14); var currVal_15 = _co.settings.activateReversoContextMode; _ck(_v, 47, 0, currVal_15); var currVal_16 = i1.ɵunv(_v, 51, 0, i1.ɵnov(_v, 52).transform("activationMode")); _ck(_v, 51, 0, currVal_16); var currVal_19 = ((_co.settings.activation_mode == "none ") ? i1.ɵunv(_v, 57, 0, i1.ɵnov(_v, 58).transform("pleaseSelect")) : i1.ɵunv(_v, 57, 0, i1.ɵnov(_v, 59).transform(_co.settings.activation_mode_call))); _ck(_v, 57, 0, currVal_19); var currVal_23 = i1.ɵunv(_v, 68, 0, i1.ɵnov(_v, 69).transform("translateSegment")); _ck(_v, 68, 0, currVal_23); var currVal_24 = _co.settings.translateSegment; _ck(_v, 71, 0, currVal_24); var currVal_25 = "find_expression"; _ck(_v, 73, 0, currVal_25); var currVal_26 = i1.ɵunv(_v, 74, 0, i1.ɵnov(_v, 75).transform("findExpressionTooltip")); _ck(_v, 74, 0, currVal_26); var currVal_27 = i1.ɵunv(_v, 78, 0, i1.ɵnov(_v, 79).transform("displayControlsInterfaceLanguage")); _ck(_v, 78, 0, currVal_27); var currVal_28 = _co.settings.activation_mode_native_lang; _ck(_v, 81, 0, currVal_28); var currVal_29 = i1.ɵunv(_v, 85, 0, i1.ɵnov(_v, 86).transform("activateForPDF")); _ck(_v, 85, 0, currVal_29); var currVal_30 = _co.settings.openPdf; _ck(_v, 88, 0, currVal_30); var currVal_31 = i1.ɵunv(_v, 92, 0, i1.ɵnov(_v, 93).transform("activateTranslSub")); _ck(_v, 92, 0, currVal_31); var currVal_32 = i1.ɵunv(_v, 95, 0, i1.ɵnov(_v, 96).transform("listProviders")); _ck(_v, 95, 0, currVal_32); var currVal_33 = _co.settings.activateTranslSub; _ck(_v, 98, 0, currVal_33); var currVal_34 = i1.ɵunv(_v, 102, 0, i1.ɵnov(_v, 103).transform("showNotificationWeekWord")); _ck(_v, 102, 0, currVal_34); var currVal_35 = _co.settings.showNotificationWeekWord; _ck(_v, 105, 0, currVal_35); var currVal_37 = i1.ɵunv(_v, 111, 0, i1.ɵnov(_v, 112).transform("hotkeys")); _ck(_v, 111, 0, currVal_37); var currVal_38 = i1.ɵunv(_v, 115, 0, i1.ɵnov(_v, 116).transform(_co.settings.hot_key)); _ck(_v, 115, 0, currVal_38); var currVal_41 = i1.ɵunv(_v, 121, 0, i1.ɵnov(_v, 122).transform("82")); _ck(_v, 121, 0, currVal_41); var currVal_44 = i1.ɵunv(_v, 126, 0, i1.ɵnov(_v, 127).transform("84")); _ck(_v, 126, 0, currVal_44); var currVal_47 = i1.ɵunv(_v, 131, 0, i1.ɵnov(_v, 132).transform("87")); _ck(_v, 131, 0, currVal_47); var currVal_51 = i1.ɵinlineInterpolate(1, "", _co.configurations.links.context, ""); _ck(_v, 140, 0, currVal_51); var currVal_52 = _co.configurations.currentYear; _ck(_v, 141, 0, currVal_52); var currVal_53 = i1.ɵinlineInterpolate(1, "", _co.configurations.links.privacyPolicy, ""); _ck(_v, 142, 0, currVal_53); var currVal_54 = i1.ɵunv(_v, 143, 0, i1.ɵnov(_v, 144).transform("privacyInformation")); _ck(_v, 143, 0, currVal_54); var currVal_55 = _co.configurations.version; _ck(_v, 146, 0, currVal_55); }); }
exports.View_OptionsComponent_0 = View_OptionsComponent_0;
function View_OptionsComponent_Host_0(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 4, "options-page", [], null, null, null, View_OptionsComponent_0, RenderType_OptionsComponent)), i1.ɵprd(4608, null, i6.TranslService, i6.TranslService, [i7.Api, i8.ProfileService, i9.HistoryStorage]), i1.ɵprd(512, null, i8.ProfileService, i8.ProfileService, [i7.Api]), i1.ɵprd(512, null, i10.SettingsStorage, i10.SettingsStorage, []), i1.ɵdid(4, 114688, null, 0, i11.OptionsComponent, [i12.Router, i12.ActivatedRoute, i8.ProfileService, i10.SettingsStorage], null, null)], function (_ck, _v) { _ck(_v, 4, 0); }, null); }
exports.View_OptionsComponent_Host_0 = View_OptionsComponent_Host_0;
var OptionsComponentNgFactory = i1.ɵccf("options-page", i11.OptionsComponent, View_OptionsComponent_Host_0, {}, {}, []);
exports.OptionsComponentNgFactory = OptionsComponentNgFactory;


/***/ }),

/***/ "./src/app/pages/options/options.page.ts":
/*!***********************************************!*\
  !*** ./src/app/pages/options/options.page.ts ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Created by e on 20/07/2017.
 */
var core_1 = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var router_1 = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
// Add the RxJS Observable operators we need in this app.
__webpack_require__(/*! ./../../rxjs-operators */ "./src/app/rxjs-operators.ts");
var main_func_1 = __webpack_require__(/*! ../../functions/main.func */ "./src/app/functions/main.func.ts");
var config_1 = __webpack_require__(/*! ../../config */ "./src/app/config.ts");
var settings_storage_1 = __webpack_require__(/*! ../../storage/settings.storage */ "./src/app/storage/settings.storage.ts");
var profile_service_1 = __webpack_require__(/*! ../../services/profile.service */ "./src/app/services/profile.service.ts");
var profile_local_1 = __webpack_require__(/*! ../../services/profile.local */ "./src/app/services/profile.local.ts");
var auth_1 = __webpack_require__(/*! ../../../scripts/utils/auth */ "./src/scripts/utils/auth.ts");
var OptionsComponent = /** @class */ (function () {
    function OptionsComponent(router, route, profileService, settingsStorage) {
        var _this = this;
        this.router = router;
        this.route = route;
        this.profileService = profileService;
        this.settingsStorage = settingsStorage;
        this.error = false;
        this.errorMessage = '';
        this.directions = null;
        this.tooltip = main_func_1.tooltip;
        // Main Functions
        this.mdMenu = main_func_1.mdMenu;
        this.supportLangs = config_1.configurations.interfaceLanguages;
        this.configurations = config_1.configurations;
        this.native_lang_code = config_1.configurations.nativeLang;
        this.app_lang_code = config_1.configurations.appLang;
        this.origin = config_1.configurations.origin;
        this.native_langs = null;
        this.isAuth = false;
        this.quantityTranslations = 0;
        this.isSaveSetting = false;
        this.settings = {
            showButtonTransl: false,
            showPageBar: true,
            translateSegment: true,
            openPdf: config_1.configurations.origin === 'ffextension' ? false : false,
            googleAnalytics: config_1.configurations.origin !== 'ffextension',
            hot_key: '84',
            app_lang: null,
            activation_mode: 'activated',
            activation_mode_call: 'showButtonTransl',
            activation_mode_native_lang: false,
            native_lang: null,
            activateReversoContextMode: true,
            activateTranslSub: false,
            showNotificationWeekWord: true
        };
        this.showModal = false;
        this.showStringForLocalFile = false;
        // Permissions
        this.isBlockedCookie = false;
        this.isShowMessageForInIncognitoContext = null;
        if (config_1.configurations.origin === 'chromeextension') {
            chrome.permissions.getAll(function (granted) {
                return _this.isBlockedCookie = (!granted || !granted.origins || (granted.origins.indexOf('<all_urls>') < 0 && granted.origins.indexOf('https://cps.reverso.net/*') < 0));
            });
        }
        // Скрываем верхнее меню и навигацию
        if (document.querySelector('#hamburger_menu'))
            main_func_1.hide(document.querySelector('#hamburger_menu'));
        if (document.querySelector('#header'))
            main_func_1.hide(document.querySelector('#header'));
        if (document.querySelectorAll('.header-buttons-right').length > 0) {
            for (var i = 0; document.querySelectorAll('.header-buttons-right').length > i; i++) {
                main_func_1.hide(document.querySelectorAll('.header-buttons-right')[i]);
            }
        }
        var styles = document.createElement('style');
        styles.textContent = '.header-buttons-right {display: none;}';
        document.head.appendChild(styles);
        window.addEventListener('focus', function () {
            if (_this.isAuth)
                return false;
            if (typeof chrome !== 'undefined' && config_1.configurations.isExtension) {
                chrome['runtime'].sendMessage({ getCookies: true });
                setTimeout(function () {
                    if (localStorage.getItem(config_1.configurations.prefixStorage + 'cookiesReversoNet')) {
                        var cookiesReversoNet = JSON.parse(localStorage.getItem(config_1.configurations.prefixStorage + 'cookiesReversoNet'));
                        if (cookiesReversoNet && cookiesReversoNet['ReversoRefreshToken'] && cookiesReversoNet['ReversoRefreshToken'].trim().length > 5) {
                            profile_local_1.GASAUTH.set({
                                accessToken: cookiesReversoNet['ReversoAccessToken'] || '',
                                refreshToken: cookiesReversoNet['ReversoRefreshToken'],
                                isAuth: true,
                                deviceId: cookiesReversoNet['DeviceId'] || ''
                            });
                            _this.profileService.updateGasAuth();
                            _this.reload();
                        }
                    }
                }, 256);
            }
        }, true);
    }
    OptionsComponent.prototype.isSaveSettingModal = function () {
        var _this = this;
        var timer = setTimeout(function () {
            _this.isSaveSetting = false;
        }, 1500);
        if (this.isSaveSetting)
            clearTimeout(timer);
        this.isSaveSetting = true;
    };
    OptionsComponent.prototype.installSetting = function (name, value) {
        var _this = this;
        if (this.settings[name] === value) {
            return false;
        }
        else {
            this.settings[name] = value;
            this.settingsStorage.update(name, value).then(function (result) {
                _this.isSaveSettingModal();
            }, function (error) {
                console.error('ERROR: \'installSetting\' :', error);
            });
            // Сообщение если в настройках запрещены локальные файлы
            if (this.settings.openPdf) {
                chrome.extension.isAllowedFileSchemeAccess(function (res) {
                    _this.showStringForLocalFile = !res;
                });
            }
            else {
                this.showStringForLocalFile = false;
            }
            return false;
        }
    };
    OptionsComponent.prototype.setAppLang = function (lang) {
        var _this = this;
        if (this.settings.app_lang.id === lang.id) {
            return false;
        }
        this.profileService.getDirections(true, lang.id).then(function (directions) {
            _this.settings.app_lang = lang;
            _this.settingsStorage.update('interface_lang', lang.id).then(function (result) {
                _this.isSaveSettingModal();
            }, function (error) {
                console.error('ERROR: \'settingsStorage update\' :', error);
            });
            setTimeout(function () {
                window['location'].href = window['location'].origin + '/dist/index.html?navigateTo=options';
            }, 256);
        });
    };
    OptionsComponent.prototype.setSupportLang = function () {
        var _this = this;
        this.supportLangs.forEach(function (el) {
            if (el.id === _this.app_lang_code) {
                _this.settings.app_lang = el;
            }
        });
        // let allLang: any = this.directions;
        // if (allLang && typeof allLang.data != 'undefined' && typeof allLang.data.directions != 'undefined') {
        //     this.supportLangs = allLang.data.directions.filter((el) => {
        //         if (el.id == this.app_lang_code) {
        //             this.settings.app_lang = el;
        //         }
        //         return configurations.langSupported.indexOf(el.id) > -1;
        //     })
        // }
    };
    OptionsComponent.prototype.setNativeLang = function (lang) {
        if (this.settings.native_lang.id === lang.id) {
            return false;
        }
        this.settings.native_lang = lang;
        this.settingsStorage.update('native_lang', lang.id);
        this.settingsStorage.update('changed_native_lang', true);
    };
    OptionsComponent.prototype.getNativeLang = function () {
        var _this = this;
        var allLang = this.directions;
        if (allLang && typeof allLang.data !== 'undefined' && typeof allLang.data.directions !== 'undefined') {
            this.native_langs = allLang.data.directions;
            this.settings.native_lang = this.native_langs.filter(function (el) {
                return el.id === _this.native_lang_code;
            });
            if (this.settings.native_lang.length > 0) {
                this.settings.native_lang = this.settings.native_lang[0];
            }
            else {
                this.setNativeLang(this.settings.app_lang);
                //     this.settings.native_lang = this.settings.app_lang;
                //     this.installSetting('native_lang', this.settings.native_lang.id);
            }
        }
    };
    OptionsComponent.prototype.logOut = function () {
        this.profileService.logOut();
        setTimeout(function () {
            window['location'].href = window['location'].origin + '/dist/index.html?navigateTo=options';
        }, 256);
    };
    // Новая логика для переключения режимов, смотри => 0008321: Add separate button for one-click mode and change activation algorythm
    OptionsComponent.prototype.activateReversoContext = function (value) {
        this.settings.activateReversoContextMode = value;
        var activation_mode = 'none';
        if (value)
            activation_mode = 'activated';
        this.installSetting('activation_mode', activation_mode);
        this.getAllSettings();
        return false;
    };
    // Запросит все настройки
    OptionsComponent.prototype.getAllSettings = function () {
        var _this = this;
        this.settingsStorage.getRow('activateTranslSub').then(function (res) {
            if (res != null)
                _this.settings.activateTranslSub = JSON.parse(res.toString());
        });
        this.settingsStorage.getRow('openPdf').then(function (res) {
            if (res != null)
                _this.settings.openPdf = JSON.parse(res.toString());
            // Сообщение если в настройках запрещены локальные файлы
            if (_this.settings.openPdf) {
                chrome.extension.isAllowedFileSchemeAccess(function (_res) {
                    _this.showStringForLocalFile = !_res;
                });
            }
        });
        this.settingsStorage.getRow('translateSegment').then(function (res) {
            if (res != null)
                _this.settings.translateSegment = JSON.parse(res.toString());
        });
        this.settingsStorage.getRow('hot_key').then(function (res) {
            if (res != null)
                _this.settings.hot_key = res;
        });
        this.settingsStorage.getRow('googleAnalytics').then(function (res) {
            if (res != null)
                _this.settings.googleAnalytics = JSON.parse(res.toString());
        });
        this.settingsStorage.getRow('activation_mode_call').then(function (res) {
            if (res)
                _this.settings.activation_mode_call = res;
        });
        this.settingsStorage.getRow('activation_mode').then(function (res) {
            // 0008321: Add separate button for one-click mode and change activation algorythm
            if (res === 'doubleClick' || res === 'showButtonTransl' || res === 'oneClick') {
                _this.settings.activation_mode_call = res;
                res = 'activated';
            }
            if (res === 'none')
                _this.settings.activateReversoContextMode = false;
            if (res != null)
                _this.settings.activation_mode = res;
            if (res === 'activated')
                _this.settings.activation_mode = _this.settings.activation_mode_call;
        });
        this.settingsStorage.getRow('activation_mode_native_lang').then(function (res) {
            if (res != null)
                _this.settings.activation_mode_native_lang = JSON.parse(res.toString());
        });
        profile_local_1.QUANTITYTRANSL.get().then(function (qnt) {
            _this.quantityTranslations = qnt;
        });
        this.settingsStorage.getRow('native_lang').then(function (res) {
            if (res != null)
                _this.native_lang_code = res.toString();
            _this.getNativeLang();
        });
        this.settingsStorage.getRow('showNotificationWeekWord').then(function (res) {
            if (res != null)
                _this.settings.showNotificationWeekWord = JSON.parse(res.toString());
        });
    };
    OptionsComponent.prototype.reload = function () {
        window.location.reload();
    };
    OptionsComponent.prototype.goToLink = function (link, ignore) {
        if (ignore === void 0) { ignore = false; }
        this.isShowMessageForInIncognitoContext = null;
        if (chrome && chrome.extension && chrome.extension.inIncognitoContext && !ignore) {
            this.isShowMessageForInIncognitoContext = link;
        }
        else {
            window.removeEventListener('focus', this.reload);
            window.addEventListener('focus', this.reload, true);
            window.open(link, '_blank');
        }
    };
    OptionsComponent.prototype.loginFacebook = function () {
        auth_1.default.openFacebookWindow();
    };
    OptionsComponent.prototype.loginGoogle = function () {
        auth_1.default.openGoogleWindow();
    };
    OptionsComponent.prototype.init = function () {
        this.profile = profile_local_1.GASUSERPROFILE.get() ? profile_local_1.GASUSERPROFILE.get()['data'] : null;
        this.isAuth = profile_local_1.CHECK_AUTH();
        if (this.isAuth) {
            this.user = profile_local_1.GASUSERINFO.get() ? profile_local_1.GASUSERINFO.get()['data'] : null;
        }
        this.directions = profile_local_1.DIRECTIONS.get(true);
        this.setSupportLang();
        this.getAllSettings();
    };
    OptionsComponent.prototype.ngOnInit = function () {
        this.init();
        window.history.pushState('', document.title, window['location'].origin + '/dist/index.html?navigateTo=options');
    };
    return OptionsComponent;
}());
exports.OptionsComponent = OptionsComponent;


/***/ }),

/***/ "./src/app/pages/rating/rating.page.css.shim.ngstyle.js":
/*!**************************************************************!*\
  !*** ./src/app/pages/rating/rating.page.css.shim.ngstyle.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

/**
 * @fileoverview This file was generated by the Angular template compiler. Do not edit.
 *
 * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}
 * tslint:disable
 */ 
Object.defineProperty(exports, "__esModule", { value: true });
var styles = [""];
exports.styles = styles;


/***/ }),

/***/ "./src/app/pages/rating/rating.page.ngfactory.js":
/*!*******************************************************!*\
  !*** ./src/app/pages/rating/rating.page.ngfactory.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

/**
 * @fileoverview This file was generated by the Angular template compiler. Do not edit.
 *
 * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}
 * tslint:disable
 */ 
Object.defineProperty(exports, "__esModule", { value: true });
var i0 = __webpack_require__(/*! ./rating.page.css.shim.ngstyle */ "./src/app/pages/rating/rating.page.css.shim.ngstyle.js");
var i1 = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var i2 = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
var i3 = __webpack_require__(/*! @ngx-translate/core */ "./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
var i4 = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
var i5 = __webpack_require__(/*! ../../storage/settings.storage */ "./src/app/storage/settings.storage.ts");
var i6 = __webpack_require__(/*! ../../services/profile.service */ "./src/app/services/profile.service.ts");
var i7 = __webpack_require__(/*! ../../../api/api */ "./src/api/api.ts");
var i8 = __webpack_require__(/*! ../../services/translate.service */ "./src/app/services/translate.service.ts");
var i9 = __webpack_require__(/*! ../../storage/history.storage */ "./src/app/storage/history.storage.ts");
var i10 = __webpack_require__(/*! ./rating.page */ "./src/app/pages/rating/rating.page.ts");
var i11 = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var styles_RatingComponent = [i0.styles];
var RenderType_RatingComponent = i1.ɵcrt({ encapsulation: 0, styles: styles_RatingComponent, data: {} });
exports.RenderType_RatingComponent = RenderType_RatingComponent;
function View_RatingComponent_1(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "i", [["class", "material-icons"]], null, [[null, "mouseenter"], [null, "mouseleave"], [null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("mouseenter" === en)) {
        var pd_0 = (_co.starEnter(_v.context.$implicit) !== false);
        ad = (pd_0 && ad);
    } if (("mouseleave" === en)) {
        var pd_1 = (_co.starLeave(_v.context.$implicit) !== false);
        ad = (pd_1 && ad);
    } if (("click" === en)) {
        var pd_2 = (_co.starClick(_v.context.$implicit) !== false);
        ad = (pd_2 && ad);
    } return ad; }, null, null)), i1.ɵdid(1, 278528, null, 0, i2.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), (_l()(), i1.ɵted(2, null, ["", ""]))], function (_ck, _v) { var currVal_0 = "material-icons"; var currVal_1 = (_v.context.$implicit.active ? "active" : ""); _ck(_v, 1, 0, currVal_0, currVal_1); }, function (_ck, _v) { var currVal_2 = (_v.context.$implicit.active ? "star" : "star_border"); _ck(_v, 2, 0, currVal_2); }); }
function View_RatingComponent_2(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "a", [["href", "javascript:void(0);"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.later() !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵted(1, null, ["", ""])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = i1.ɵunv(_v, 1, 0, i1.ɵnov(_v, 2).transform("ratingLater")); _ck(_v, 1, 0, currVal_0); }); }
function View_RatingComponent_3(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 9, "li", [["class", "item-settings cf desc-row"]], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 8, "textarea", [], [[8, "placeholder", 0], [2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "input"], [null, "blur"], [null, "compositionstart"], [null, "compositionend"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("input" === en)) {
        var pd_0 = (i1.ɵnov(_v, 2)._handleInput($event.target.value) !== false);
        ad = (pd_0 && ad);
    } if (("blur" === en)) {
        var pd_1 = (i1.ɵnov(_v, 2).onTouched() !== false);
        ad = (pd_1 && ad);
    } if (("compositionstart" === en)) {
        var pd_2 = (i1.ɵnov(_v, 2)._compositionStart() !== false);
        ad = (pd_2 && ad);
    } if (("compositionend" === en)) {
        var pd_3 = (i1.ɵnov(_v, 2)._compositionEnd($event.target.value) !== false);
        ad = (pd_3 && ad);
    } if (("ngModelChange" === en)) {
        var pd_4 = ((_co.form["Comment"] = $event) !== false);
        ad = (pd_4 && ad);
    } return ad; }, null, null)), i1.ɵdid(2, 16384, null, 0, i4.DefaultValueAccessor, [i1.Renderer2, i1.ElementRef, [2, i4.COMPOSITION_BUFFER_MODE]], null, null), i1.ɵprd(1024, null, i4.NG_VALUE_ACCESSOR, function (p0_0) { return [p0_0]; }, [i4.DefaultValueAccessor]), i1.ɵdid(4, 671744, null, 0, i4.NgModel, [[2, i4.ControlContainer], [8, null], [8, null], [6, i4.NG_VALUE_ACCESSOR]], { model: [0, "model"], options: [1, "options"] }, { update: "ngModelChange" }), i1.ɵpod(5, { standalone: 0 }), i1.ɵprd(2048, null, i4.NgControl, null, [i4.NgModel]), i1.ɵdid(7, 16384, null, 0, i4.NgControlStatus, [[4, i4.NgControl]], null, null), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵted(-1, null, ["                    "]))], function (_ck, _v) { var _co = _v.component; var currVal_8 = _co.form["Comment"]; var currVal_9 = _ck(_v, 5, 0, true); _ck(_v, 4, 0, currVal_8, currVal_9); }, function (_ck, _v) { var currVal_0 = i1.ɵinlineInterpolate(1, "", i1.ɵunv(_v, 1, 0, i1.ɵnov(_v, 8).transform("ratingComment")), ""); var currVal_1 = i1.ɵnov(_v, 7).ngClassUntouched; var currVal_2 = i1.ɵnov(_v, 7).ngClassTouched; var currVal_3 = i1.ɵnov(_v, 7).ngClassPristine; var currVal_4 = i1.ɵnov(_v, 7).ngClassDirty; var currVal_5 = i1.ɵnov(_v, 7).ngClassValid; var currVal_6 = i1.ɵnov(_v, 7).ngClassInvalid; var currVal_7 = i1.ɵnov(_v, 7).ngClassPending; _ck(_v, 1, 0, currVal_0, currVal_1, currVal_2, currVal_3, currVal_4, currVal_5, currVal_6, currVal_7); }); }
function View_RatingComponent_4(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 6, "li", [["class", "item-settings cf btn-row"]], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 2, "button", [["class", "mdl-menu-no-click mdl-button mdl-js-button mdl-menu-button text-capitalize-i btn save"], ["type", "button"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.send() !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵted(2, null, [" ", " "])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(4, 0, null, null, 2, "button", [["class", "mdl-menu-no-click mdl-button mdl-js-button mdl-menu-button text-capitalize-i btn cancel"], ["type", "button"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.later() !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵted(5, null, [" ", " "])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = i1.ɵunv(_v, 2, 0, i1.ɵnov(_v, 3).transform("send")); _ck(_v, 2, 0, currVal_0); var currVal_1 = i1.ɵunv(_v, 5, 0, i1.ɵnov(_v, 6).transform("cancel")); _ck(_v, 5, 0, currVal_1); }); }
function View_RatingComponent_6(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 0, "div", [["class", "logo-loader"]], null, null, null, null, null))], null, null); }
function View_RatingComponent_7(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "div", [], null, null, null, null, null)), (_l()(), i1.ɵted(1, null, ["", ""])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = i1.ɵunv(_v, 1, 0, i1.ɵnov(_v, 2).transform("offline")); _ck(_v, 1, 0, currVal_0); }); }
function View_RatingComponent_8(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 0, "div", [["class", "success-mess"]], [[8, "innerHTML", 1]], null, null, null, null))], null, function (_ck, _v) { var _co = _v.component; var currVal_0 = _co.successMessage; _ck(_v, 0, 0, currVal_0); }); }
function View_RatingComponent_9(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 0, "div", [["class", "success-mess"]], [[8, "innerHTML", 1]], null, null, null, null))], null, function (_ck, _v) { var _co = _v.component; var currVal_0 = _co.errorMessage; _ck(_v, 0, 0, currVal_0); }); }
function View_RatingComponent_10(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 4, "ul", [["class", "form-row settings"]], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 3, "li", [["class", "item-settings cf btn-row text-center"]], null, null, null, null, null)), (_l()(), i1.ɵeld(2, 0, null, null, 2, "button", [["class", "mdl-menu-no-click mdl-button mdl-js-button mdl-menu-button text-capitalize-i btn cancel"], ["type", "button"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = ((_co.error ? _co.showLoading = false : _co.cancel()) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵted(3, null, [" ", " "])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = i1.ɵunv(_v, 3, 0, i1.ɵnov(_v, 4).transform("savePageErrorClose")); _ck(_v, 3, 0, currVal_0); }); }
function View_RatingComponent_11(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 0, "div", [["class", "logo-loader"]], null, null, null, null, null))], null, null); }
function View_RatingComponent_5(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 13, "div", [["class", "spinner-middleware"]], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 10, "h5", [["class", "middleware-mess"]], null, null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_RatingComponent_6)), i1.ɵdid(3, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_RatingComponent_7)), i1.ɵdid(5, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_RatingComponent_8)), i1.ɵdid(7, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_RatingComponent_9)), i1.ɵdid(9, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_RatingComponent_10)), i1.ɵdid(11, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_RatingComponent_11)), i1.ɵdid(13, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null)], function (_ck, _v) { var _co = _v.component; var currVal_0 = _co.isUpload; _ck(_v, 3, 0, currVal_0); var currVal_1 = !_co.isOnline; _ck(_v, 5, 0, currVal_1); var currVal_2 = _co.success; _ck(_v, 7, 0, currVal_2); var currVal_3 = _co.error; _ck(_v, 9, 0, currVal_3); var currVal_4 = (_co.error || _co.success); _ck(_v, 11, 0, currVal_4); var currVal_5 = ((!_co.error && !_co.success) && !_co.isOnline); _ck(_v, 13, 0, currVal_5); }, null); }
function View_RatingComponent_0(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "h1", [["class", "title-view"]], null, null, null, null, null)), (_l()(), i1.ɵted(1, null, ["", ""])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(3, 0, null, null, 22, "main", [["class", "body-app body-iframe overflow-hidden"]], null, null, null, null, null)), i1.ɵdid(4, 278528, null, 0, i2.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), (_l()(), i1.ɵeld(5, 0, null, null, 20, "div", [["class", "rating-page text-center"]], null, null, null, null, null)), (_l()(), i1.ɵeld(6, 0, null, null, 0, "p", [], [[8, "innerHTML", 1]], null, null, null, null)), (_l()(), i1.ɵeld(7, 0, null, null, 6, "div", [["class", "rating-page__starts"]], null, null, null, null, null)), (_l()(), i1.ɵeld(8, 0, null, null, 0, "hr", [], null, null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_RatingComponent_1)), i1.ɵdid(10, 802816, null, 0, i2.NgForOf, [i1.ViewContainerRef, i1.TemplateRef, i1.IterableDiffers], { ngForOf: [0, "ngForOf"] }, null), (_l()(), i1.ɵeld(11, 0, null, null, 0, "hr", [], null, null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_RatingComponent_2)), i1.ɵdid(13, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵeld(14, 0, null, null, 9, "form", [["autocomplete", "off"], ["novalidate", ""]], [[2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "submit"], [null, "reset"]], function (_v, en, $event) { var ad = true; if (("submit" === en)) {
        var pd_0 = (i1.ɵnov(_v, 16).onSubmit($event) !== false);
        ad = (pd_0 && ad);
    } if (("reset" === en)) {
        var pd_1 = (i1.ɵnov(_v, 16).onReset() !== false);
        ad = (pd_1 && ad);
    } return ad; }, null, null)), i1.ɵdid(15, 16384, null, 0, i4.ɵangular_packages_forms_forms_bg, [], null, null), i1.ɵdid(16, 4210688, null, 0, i4.NgForm, [[8, null], [8, null]], null, null), i1.ɵprd(2048, null, i4.ControlContainer, null, [i4.NgForm]), i1.ɵdid(18, 16384, null, 0, i4.NgControlStatusGroup, [[4, i4.ControlContainer]], null, null), (_l()(), i1.ɵeld(19, 0, null, null, 4, "ul", [["class", "form-row settings"]], null, null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_RatingComponent_3)), i1.ɵdid(21, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_RatingComponent_4)), i1.ɵdid(23, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_RatingComponent_5)), i1.ɵdid(25, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵeld(26, 0, null, null, 11, "footer", [["class", "mdl-mini-footer"]], null, null, null, null, null)), i1.ɵdid(27, 278528, null, 0, i2.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), (_l()(), i1.ɵeld(28, 0, null, null, 9, "div", [["class", "mdl-mini-footer__left-section"]], null, null, null, null, null)), (_l()(), i1.ɵeld(29, 0, null, null, 8, "ul", [["class", "mdl-mini-footer__link-list"]], null, null, null, null, null)), (_l()(), i1.ɵeld(30, 0, null, null, 7, "li", [["class", "copyright-item"]], null, null, null, null, null)), (_l()(), i1.ɵeld(31, 0, null, null, 2, "div", [["class", "circle-indicator"]], null, null, null, null, null)), i1.ɵdid(32, 278528, null, 0, i2.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), i1.ɵpod(33, { active: 0 }), (_l()(), i1.ɵted(34, null, [" ", " \u00A9 "])), (_l()(), i1.ɵeld(35, 0, null, null, 1, "a", [["target", "_blank"]], [[8, "href", 4]], null, null, null, null)), (_l()(), i1.ɵted(-1, null, [" Reverso "])), (_l()(), i1.ɵted(37, null, [" v", " "]))], function (_ck, _v) { var _co = _v.component; var currVal_1 = "body-app body-iframe overflow-hidden"; var currVal_2 = (_co.isIframe ? "isIframe" : ""); _ck(_v, 4, 0, currVal_1, currVal_2); var currVal_4 = _co.stars; _ck(_v, 10, 0, currVal_4); var currVal_5 = (_co.form["Rating"] === 0); _ck(_v, 13, 0, currVal_5); var currVal_13 = (_co.form["Rating"] && (_co.form["Rating"] < 4)); _ck(_v, 21, 0, currVal_13); var currVal_14 = (_co.form["Rating"] && (_co.form["Rating"] < 4)); _ck(_v, 23, 0, currVal_14); var currVal_15 = _co.showLoading; _ck(_v, 25, 0, currVal_15); var currVal_16 = "mdl-mini-footer"; var currVal_17 = (_co.configurations.isMiniView ? "hide" : ""); _ck(_v, 27, 0, currVal_16, currVal_17); var currVal_18 = "circle-indicator"; var currVal_19 = _ck(_v, 33, 0, _co.isAuth); _ck(_v, 32, 0, currVal_18, currVal_19); }, function (_ck, _v) { var _co = _v.component; var currVal_0 = i1.ɵunv(_v, 1, 0, i1.ɵnov(_v, 2).transform("ratingTitle")); _ck(_v, 1, 0, currVal_0); var currVal_3 = (((_co.configurations && _co.configurations.localization) && _co.configurations.localization["ratingDescription"]) ? _co.configurations.localization["ratingDescription"] : ""); _ck(_v, 6, 0, currVal_3); var currVal_6 = i1.ɵnov(_v, 18).ngClassUntouched; var currVal_7 = i1.ɵnov(_v, 18).ngClassTouched; var currVal_8 = i1.ɵnov(_v, 18).ngClassPristine; var currVal_9 = i1.ɵnov(_v, 18).ngClassDirty; var currVal_10 = i1.ɵnov(_v, 18).ngClassValid; var currVal_11 = i1.ɵnov(_v, 18).ngClassInvalid; var currVal_12 = i1.ɵnov(_v, 18).ngClassPending; _ck(_v, 14, 0, currVal_6, currVal_7, currVal_8, currVal_9, currVal_10, currVal_11, currVal_12); var currVal_20 = _co.configurations.currentYear; _ck(_v, 34, 0, currVal_20); var currVal_21 = i1.ɵinlineInterpolate(1, "", _co.configurations.links.context, ""); _ck(_v, 35, 0, currVal_21); var currVal_22 = _co.configurations.version; _ck(_v, 37, 0, currVal_22); }); }
exports.View_RatingComponent_0 = View_RatingComponent_0;
function View_RatingComponent_Host_0(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 4, "rating-page", [], null, null, null, View_RatingComponent_0, RenderType_RatingComponent)), i1.ɵprd(512, null, i5.SettingsStorage, i5.SettingsStorage, []), i1.ɵprd(512, null, i6.ProfileService, i6.ProfileService, [i7.Api]), i1.ɵprd(512, null, i8.TranslService, i8.TranslService, [i7.Api, i6.ProfileService, i9.HistoryStorage]), i1.ɵdid(4, 114688, null, 0, i10.RatingComponent, [i11.Router, i11.ActivatedRoute, i5.SettingsStorage, i8.TranslService, i6.ProfileService], null, null)], function (_ck, _v) { _ck(_v, 4, 0); }, null); }
exports.View_RatingComponent_Host_0 = View_RatingComponent_Host_0;
var RatingComponentNgFactory = i1.ɵccf("rating-page", i10.RatingComponent, View_RatingComponent_Host_0, {}, {}, []);
exports.RatingComponentNgFactory = RatingComponentNgFactory;


/***/ }),

/***/ "./src/app/pages/rating/rating.page.ts":
/*!*********************************************!*\
  !*** ./src/app/pages/rating/rating.page.ts ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var core_1 = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var router_1 = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
// Add the RxJS Observable operators we need in this app.
__webpack_require__(/*! ./../../rxjs-operators */ "./src/app/rxjs-operators.ts");
var main_func_1 = __webpack_require__(/*! ../../functions/main.func */ "./src/app/functions/main.func.ts");
var config_1 = __webpack_require__(/*! ../../config */ "./src/app/config.ts");
var profile_local_1 = __webpack_require__(/*! ../../services/profile.local */ "./src/app/services/profile.local.ts");
var translate_service_1 = __webpack_require__(/*! ../../services/translate.service */ "./src/app/services/translate.service.ts");
var settings_storage_1 = __webpack_require__(/*! ../../storage/settings.storage */ "./src/app/storage/settings.storage.ts");
var profile_service_1 = __webpack_require__(/*! ../../services/profile.service */ "./src/app/services/profile.service.ts");
var RatingComponent = /** @class */ (function () {
    function RatingComponent(router, route, settingsStorage, translateService, profileService) {
        this.router = router;
        this.route = route;
        this.settingsStorage = settingsStorage;
        this.translateService = translateService;
        this.profileService = profileService;
        this.error = false;
        this.errorMessage = '';
        this.setHeightDocument = main_func_1.setHeightDocument;
        this.isIframe = true;
        this.tooltip = main_func_1.tooltip;
        // Main Functions
        this.mdMenu = main_func_1.mdMenu;
        this.stars = [
            { id: 1, active: false },
            { id: 2, active: false },
            { id: 3, active: false },
            { id: 4, active: false },
            { id: 5, active: false }
        ];
        this.form = {
            Email: '',
            Url: '',
            UserAgent: navigator.userAgent || null,
            FeedbackType: 4,
            Comment: '',
            SrcLang: '',
            TrgLang: '',
            Word: '',
            Sentence: '',
            Rating: 0
        };
        this.showLoading = false;
        this.isOnline = false;
        this.isUpload = false;
        this.success = false;
        this.successMessage = '';
        this.configurations = config_1.configurations;
        this.isAuth = false;
        this.isIframe = top.location !== self.location;
    }
    RatingComponent.prototype.setMiniView = function (height) {
        if (height === void 0) { height = 87; }
        this.setHeightDocument(height);
        config_1.configurations.isMiniView = true;
    };
    RatingComponent.prototype.setNormalView = function (height) {
        if (height === void 0) { height = 468; }
        this.setHeightDocument(height);
        config_1.configurations.isMiniView = false;
        if (this.isIframe) {
            try {
                window.parent['postMessage']('setNormalView:' + height, '*');
            }
            catch (error) {
                console.error('Error setNormalViewIframe: ', error);
            }
        }
    };
    RatingComponent.prototype.starEnter = function (star) {
        for (var i = 0; i < this.stars.length; i++) {
            if (this.stars[i]['id'] <= star['id'])
                this.stars[i]['active'] = true;
        }
    };
    RatingComponent.prototype.starLeave = function (star) {
        for (var i = 0; i < this.stars.length; i++) {
            if (this.form['Rating'] < this.stars[i]['id'])
                this.stars[i]['active'] = false;
        }
    };
    RatingComponent.prototype.starClick = function (star) {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.form['Rating'] = star['id'];
                        this.starEnter(star);
                        if (!(star['id'] >= 4)) return [3 /*break*/, 2];
                        return [4 /*yield*/, this.send()];
                    case 1:
                        if (_a.sent()) {
                            setTimeout(function () {
                                _this.createNewTab(_this.configurations['links']['extensionUrl']);
                            }, 768);
                        }
                        else {
                            // this.cancel();
                            return [2 /*return*/, false];
                        }
                        return [3 /*break*/, 3];
                    case 2:
                        this.setNormalView(412);
                        return [2 /*return*/, false];
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    RatingComponent.prototype.later = function () {
        return __awaiter(this, void 0, void 0, function () {
            var e_1;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.form['Rating'] = 0;
                        this.starLeave(this.stars[0]);
                        _a.label = 1;
                    case 1:
                        _a.trys.push([1, 3, , 4]);
                        return [4 /*yield*/, this.send()];
                    case 2:
                        _a.sent();
                        return [3 /*break*/, 4];
                    case 3:
                        e_1 = _a.sent();
                        console.log(e_1);
                        return [3 /*break*/, 4];
                    case 4:
                        this.cancel();
                        return [2 /*return*/];
                }
            });
        });
    };
    RatingComponent.prototype.cancel = function () {
        if (this.isIframe) {
            try {
                window.parent['postMessage']('closeIframe:true', '*');
                return false;
            }
            catch (error) {
            }
        }
        else {
            this.router.navigate(['/translate']);
            return false;
        }
    };
    RatingComponent.prototype.send = function () {
        var _this = this;
        if (this.isOnline) {
            this.showLoading = true;
            // Please select one of the items
            this.error = false;
            this.success = true;
            this.isUpload = true;
            return this.translateService.feedback(this.form).then(function (result) {
                // Обновляем профиль, говорим расширению, что человек уже голосовал
                return _this.profileService.getProfile(true).then(function (profile) {
                    // this.showLoading = false;
                    _this.error = false;
                    _this.isUpload = false;
                    _this.success = true;
                    _this.successMessage = config_1.configurations.localization['feedbackSuccess'];
                    setTimeout(function () {
                        _this.router.navigate(['/translate']);
                    }, 512);
                    return true;
                }, function (error) {
                    _this.error = false;
                    _this.isUpload = false;
                    _this.success = true;
                    _this.successMessage = config_1.configurations.localization['feedbackSuccess'];
                    return true;
                });
            }, function (error) {
                _this.isUpload = false;
                console.error('sendHTML', error);
                _this.error = true;
                _this.errorMessage = config_1.configurations.localization['emailToFriendError']; // 'Error save page! Please try again later.';
                return true;
            });
        }
    };
    RatingComponent.prototype.createNewTab = function (url) {
        if (typeof chrome !== 'undefined' && config_1.configurations.isExtension) {
            chrome['runtime'].sendMessage({ openTab: url });
        }
    };
    RatingComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.isOnline = navigator.onLine;
        // this.setNormalView(536);
        this.setNormalView(250);
        this.profile = profile_local_1.GASUSERPROFILE.get() ? profile_local_1.GASUSERPROFILE.get()['data'] : null;
        this.isAuth = profile_local_1.CHECK_AUTH();
        if (this.isAuth) {
            this.user = profile_local_1.GASUSERINFO.get() ? profile_local_1.GASUSERINFO.get()['data'] : null;
        }
        else {
            this.cancel();
        }
        this.settingsStorage.getRow('lang_source').then(function (lang_source) {
            _this.form['SrcLang'] = lang_source != null ? lang_source : '';
        });
        this.settingsStorage.getRow('lang_target').then(function (lang_target) {
            _this.form['TrgLang'] = lang_target != null ? lang_target : '';
        });
        this.settingsStorage.getRow('feedback').then(function (feedback) {
            try {
                feedback = JSON.parse(feedback);
                _this.form['Url'] = feedback['Url'];
                _this.form['Word'] = feedback['Word'];
                _this.form['Sentence'] = feedback['Sentence'];
            }
            catch (error) {
            }
        });
    };
    return RatingComponent;
}());
exports.RatingComponent = RatingComponent;


/***/ }),

/***/ "./src/app/pages/save-page-promotion/save-page-promotion.page.css.shim.ngstyle.js":
/*!****************************************************************************************!*\
  !*** ./src/app/pages/save-page-promotion/save-page-promotion.page.css.shim.ngstyle.js ***!
  \****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

/**
 * @fileoverview This file was generated by the Angular template compiler. Do not edit.
 *
 * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}
 * tslint:disable
 */ 
Object.defineProperty(exports, "__esModule", { value: true });
var styles = [""];
exports.styles = styles;


/***/ }),

/***/ "./src/app/pages/save-page-promotion/save-page-promotion.page.ngfactory.js":
/*!*********************************************************************************!*\
  !*** ./src/app/pages/save-page-promotion/save-page-promotion.page.ngfactory.js ***!
  \*********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

/**
 * @fileoverview This file was generated by the Angular template compiler. Do not edit.
 *
 * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}
 * tslint:disable
 */ 
Object.defineProperty(exports, "__esModule", { value: true });
var i0 = __webpack_require__(/*! ./save-page-promotion.page.css.shim.ngstyle */ "./src/app/pages/save-page-promotion/save-page-promotion.page.css.shim.ngstyle.js");
var i1 = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var i2 = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
var i3 = __webpack_require__(/*! @ngx-translate/core */ "./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
var i4 = __webpack_require__(/*! ./save-page-promotion.page */ "./src/app/pages/save-page-promotion/save-page-promotion.page.ts");
var i5 = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var styles_SavePagePromotionComponent = [i0.styles];
var RenderType_SavePagePromotionComponent = i1.ɵcrt({ encapsulation: 0, styles: styles_SavePagePromotionComponent, data: {} });
exports.RenderType_SavePagePromotionComponent = RenderType_SavePagePromotionComponent;
function View_SavePagePromotionComponent_0(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 23, "main", [["class", "body-app body-iframe overflow-hidden"]], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 22, "div", [["class", "save-page-promotion"]], null, null, null, null, null)), i1.ɵdid(2, 278528, null, 0, i2.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), i1.ɵpod(3, { iframe: 0, dntShow: 1 }), (_l()(), i1.ɵeld(4, 0, null, null, 8, "div", [["class", "row"]], null, null, null, null, null)), (_l()(), i1.ɵeld(5, 0, null, null, 7, "div", [["class", "desc title-registerReverso-desc"]], null, null, null, null, null)), (_l()(), i1.ɵted(6, null, [" ", " "])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(8, 0, null, null, 1, "span", [["class", "RC_extension__activating__info"], ["id", "activating__info"]], null, [[null, "mouseover"], [null, "mouseout"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("mouseover" === en)) {
        var pd_0 = (_co.tooltip("activating__info", true) !== false);
        ad = (pd_0 && ad);
    } if (("mouseout" === en)) {
        var pd_1 = (_co.tooltip("activating__info", false) !== false);
        ad = (pd_1 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵted(-1, null, ["?"])), (_l()(), i1.ɵeld(10, 0, null, null, 2, "div", [["class", "sw-tooltip"]], [[1, "for", 0]], null, null, null, null)), (_l()(), i1.ɵted(11, null, [" ", ""])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(13, 0, null, null, 6, "div", [["class", "row"]], null, null, null, null, null)), (_l()(), i1.ɵeld(14, 0, null, null, 2, "a", [["class", "mdl-menu-no-click mdl-button mdl-js-button mdl-menu-button text-capitalize-i btn save-page-btn"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.savePage() !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵted(15, null, [" ", " "])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(17, 0, null, null, 2, "a", [["class", "mdl-menu-no-click mdl-button mdl-js-button mdl-menu-button text-capitalize-i btn regular-btn"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.notNow() !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵted(18, null, [" ", " "])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(20, 0, null, null, 3, "div", [["class", "row"]], null, null, null, null, null)), (_l()(), i1.ɵeld(21, 0, null, null, 2, "a", [["class", "mdl-menu-no-click mdl-button mdl-js-button mdl-menu-button text-capitalize-i btn dontSuggestAgain-btn"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.dontShowAgain() !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵted(22, null, [" ", " "])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef])], function (_ck, _v) { var _co = _v.component; var currVal_0 = "save-page-promotion"; var currVal_1 = _ck(_v, 3, 0, _co.isIframe, (_co.qty >= 2)); _ck(_v, 2, 0, currVal_0, currVal_1); }, function (_ck, _v) { var currVal_2 = i1.ɵunv(_v, 6, 0, i1.ɵnov(_v, 7).transform("titleSavePagePromotion")); _ck(_v, 6, 0, currVal_2); var currVal_3 = "activating__info"; _ck(_v, 10, 0, currVal_3); var currVal_4 = i1.ɵunv(_v, 11, 0, i1.ɵnov(_v, 12).transform("descSavePagePromotion")); _ck(_v, 11, 0, currVal_4); var currVal_5 = i1.ɵunv(_v, 15, 0, i1.ɵnov(_v, 16).transform("savePageWindowSaveButton")); _ck(_v, 15, 0, currVal_5); var currVal_6 = i1.ɵunv(_v, 18, 0, i1.ɵnov(_v, 19).transform("showTranslation")); _ck(_v, 18, 0, currVal_6); var currVal_7 = i1.ɵunv(_v, 22, 0, i1.ɵnov(_v, 23).transform("dontSuggestAgain")); _ck(_v, 22, 0, currVal_7); }); }
exports.View_SavePagePromotionComponent_0 = View_SavePagePromotionComponent_0;
function View_SavePagePromotionComponent_Host_0(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 1, "save-page-promotion", [], null, null, null, View_SavePagePromotionComponent_0, RenderType_SavePagePromotionComponent)), i1.ɵdid(1, 245760, null, 0, i4.SavePagePromotionComponent, [i5.Router, i5.ActivatedRoute], null, null)], function (_ck, _v) { _ck(_v, 1, 0); }, null); }
exports.View_SavePagePromotionComponent_Host_0 = View_SavePagePromotionComponent_Host_0;
var SavePagePromotionComponentNgFactory = i1.ɵccf("save-page-promotion", i4.SavePagePromotionComponent, View_SavePagePromotionComponent_Host_0, {}, {}, []);
exports.SavePagePromotionComponentNgFactory = SavePagePromotionComponentNgFactory;


/***/ }),

/***/ "./src/app/pages/save-page-promotion/save-page-promotion.page.ts":
/*!***********************************************************************!*\
  !*** ./src/app/pages/save-page-promotion/save-page-promotion.page.ts ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var core_1 = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var router_1 = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var config_1 = __webpack_require__(/*! ../../config */ "./src/app/config.ts");
var profile_local_1 = __webpack_require__(/*! ../../services/profile.local */ "./src/app/services/profile.local.ts");
var main_func_1 = __webpack_require__(/*! ../../functions/main.func */ "./src/app/functions/main.func.ts");
var SavePagePromotionComponent = /** @class */ (function () {
    function SavePagePromotionComponent(router, route) {
        this.router = router;
        this.route = route;
        this.errorMessage = '';
        this.message = '';
        this.configurations = config_1.configurations;
        this.setHeightDocument = main_func_1.setHeightDocument;
        this.isAuth = false;
        this.isIframe = true;
        this.params = null;
        this.from = '';
        this.qty = 0;
        this.tooltip = main_func_1.tooltip;
        this.from = this.route.params['value']['from'];
        this.params = {
            word: this.route.params['value']['word'] || '',
            arrayWords: this.route.params['value']['arrayWords'] || [],
            sentence: this.route.params['value']['sentence'] || '',
            sentenceForLang: this.route.params['value']['sentenceForLang'] || '',
            position: this.route.params['value']['position'] || -1,
            countWord: this.route.params['value']['countWord'] || 1,
            siteTitle: this.route.params['value']['siteTitle'] || '',
            siteOrigin: this.route.params['value']['siteOrigin'] || '',
            siteHref: this.route.params['value']['siteHref'] || 'Extension',
            lang: this.route.params['value']['lang'] || '',
            langTarget: this.route.params['value']['langTarget'] || '',
            miniView: this.route.params['value']['miniView'] || false,
            run: true,
            reversoPage: this.route.params['value']['reversoPage'] || false,
            translateSite: this.route.params['value']['translateSite'] || false
        };
        // Для нормальной работы с высотой
        if (document.querySelector('main.mdl-layout__content')) {
            document.querySelector('main.mdl-layout__content')['style'].overflowY = 'auto';
        }
        if (document.querySelector('#title-page')) {
            document.querySelector('#title-page').innerHTML = '';
        }
        if (document.querySelector('#header_feedback_btn')) {
            document.querySelector('#header_feedback_btn')['style'].display = 'none';
        }
    }
    SavePagePromotionComponent.prototype.addRegisterAnalit = function () {
        if (typeof chrome !== 'undefined' && config_1.configurations.isExtension) {
            chrome['runtime'].sendMessage({ setTrackEvents: config_1.configurations.eventsName.register });
        }
        else if (typeof safari !== 'undefined' && safari['extension']) {
            var windowGlobalPage = safari['extension'].globalPage.contentWindow;
            windowGlobalPage.respondToMessage({ name: 'setTrackEvents', message: config_1.configurations.eventsName.register });
        }
    };
    // Вернемся в перевод
    SavePagePromotionComponent.prototype.notNow = function () {
        profile_local_1.SAVE_PAGE_PROMOTION_QTY.set();
        this.close();
    };
    // Сохраним страницу
    SavePagePromotionComponent.prototype.savePage = function () {
        this.router.navigate(['save-page', {}]).then(function (res) {
        }, function (error) {
            console.error('error', error);
        });
    };
    // Больше не показываем
    SavePagePromotionComponent.prototype.dontShowAgain = function () {
        profile_local_1.SAVE_PAGE_PROMOTION.set();
        this.close();
        // window.parent['postMessage']('closeIframe:true', '*');
    };
    SavePagePromotionComponent.prototype.setNormalView = function (height) {
        if (height === void 0) { height = 468; }
        setTimeout(function () {
            config_1.configurations.isMiniView = false;
            try {
                window.parent['postMessage']('setNormalView:' + height, '*');
            }
            catch (error) {
                console.error('Error setNormalViewIframe: ', error);
            }
        }, 128);
    };
    SavePagePromotionComponent.prototype.close = function () {
        this.router.navigate([this.from, this.params]).then(function (res) {
        }, function (error) {
            console.error('error', error);
        });
        this.ngOnDestroy();
    };
    SavePagePromotionComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.isAuth = profile_local_1.CHECK_AUTH();
        if (this.isIframe) {
            this.qty = profile_local_1.SAVE_PAGE_PROMOTION_QTY.get();
            if (document.querySelector('#close_button')) {
                document.querySelector('#close_button').addEventListener('click', function () {
                    profile_local_1.SAVE_PAGE_PROMOTION_QTY.set();
                    _this.ngOnDestroy();
                }, false);
            }
            this.setNormalView(182);
            if (document.querySelector('#title-page')) {
                document.querySelector('#title-page').innerHTML = '';
                // document.querySelector('#title-page').textContent = configurations.localization['titleSavePagePromotion'];
                // document.querySelector('#title-page').classList.add('active');
            }
        }
    };
    SavePagePromotionComponent.prototype.ngOnDestroy = function () {
        if (this.isIframe) {
            this.setNormalView();
        }
    };
    return SavePagePromotionComponent;
}());
exports.SavePagePromotionComponent = SavePagePromotionComponent;


/***/ }),

/***/ "./src/app/pages/save-page/save-page.page.css.shim.ngstyle.js":
/*!********************************************************************!*\
  !*** ./src/app/pages/save-page/save-page.page.css.shim.ngstyle.js ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

/**
 * @fileoverview This file was generated by the Angular template compiler. Do not edit.
 *
 * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}
 * tslint:disable
 */ 
Object.defineProperty(exports, "__esModule", { value: true });
var styles = [""];
exports.styles = styles;


/***/ }),

/***/ "./src/app/pages/save-page/save-page.page.ngfactory.js":
/*!*************************************************************!*\
  !*** ./src/app/pages/save-page/save-page.page.ngfactory.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

/**
 * @fileoverview This file was generated by the Angular template compiler. Do not edit.
 *
 * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}
 * tslint:disable
 */ 
Object.defineProperty(exports, "__esModule", { value: true });
var i0 = __webpack_require__(/*! ./save-page.page.css.shim.ngstyle */ "./src/app/pages/save-page/save-page.page.css.shim.ngstyle.js");
var i1 = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var i2 = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
var i3 = __webpack_require__(/*! @ngx-translate/core */ "./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
var i4 = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
var i5 = __webpack_require__(/*! ../../services/save-page.service */ "./src/app/services/save-page.service.ts");
var i6 = __webpack_require__(/*! ../../../api/api */ "./src/api/api.ts");
var i7 = __webpack_require__(/*! ../../services/profile.service */ "./src/app/services/profile.service.ts");
var i8 = __webpack_require__(/*! ../../services/translate.service */ "./src/app/services/translate.service.ts");
var i9 = __webpack_require__(/*! ../../storage/history.storage */ "./src/app/storage/history.storage.ts");
var i10 = __webpack_require__(/*! ./save-page.page */ "./src/app/pages/save-page/save-page.page.ts");
var i11 = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var styles_SaveComponent = [i0.styles];
var RenderType_SaveComponent = i1.ɵcrt({ encapsulation: 0, styles: styles_SaveComponent, data: {} });
exports.RenderType_SaveComponent = RenderType_SaveComponent;
function View_SaveComponent_1(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "div", [["class", "header-img-row"]], null, null, null, null, null)), i1.ɵdid(1, 278528, null, 0, i2.NgStyle, [i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { ngStyle: [0, "ngStyle"] }, null), i1.ɵpod(2, { "background-image": 0, "height": 1 })], function (_ck, _v) { var _co = _v.component; var currVal_0 = _ck(_v, 2, 0, (("url(" + _co.pageImg) + ")"), (_co.isIframe ? "86px" : "126px")); _ck(_v, 1, 0, currVal_0); }, null); }
function View_SaveComponent_3(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 4, "li", [["class", "mdl-menu__item"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.setCurrentLang(_v.context.$implicit) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), i1.ɵdid(1, 278528, null, 0, i2.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), i1.ɵpod(2, { disable: 0 }), (_l()(), i1.ɵeld(3, 0, null, null, 1, "span", [], [[8, "className", 0]], null, null, null, null)), (_l()(), i1.ɵted(4, null, ["", ""]))], function (_ck, _v) { var _co = _v.component; var currVal_0 = "mdl-menu__item"; var currVal_1 = _ck(_v, 2, 0, (_v.context.$implicit.id == _co.currentLang.id)); _ck(_v, 1, 0, currVal_0, currVal_1); }, function (_ck, _v) { var currVal_2 = i1.ɵinlineInterpolate(1, "lang-icon ", _v.context.$implicit.id, ""); _ck(_v, 3, 0, currVal_2); var currVal_3 = _v.context.$implicit.name; _ck(_v, 4, 0, currVal_3); }); }
function View_SaveComponent_2(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 10, "li", [["class", "item-settings select language-select cf"]], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 2, "span", [["class", "item-title"]], null, null, null, null, null)), (_l()(), i1.ɵted(2, null, ["", ""])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(4, 0, null, null, 6, "div", [["class", "select-conteiner float-right"]], null, null, null, null, null)), (_l()(), i1.ɵeld(5, 0, null, null, 2, "button", [["class", "mdl-menu-no-click mdl-button mdl-js-button mdl-menu-button text-capitalize-i "]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.mdMenu.show("langs") !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵeld(6, 0, null, null, 1, "span", [], [[8, "className", 0]], null, null, null, null)), (_l()(), i1.ɵted(7, null, ["", ""])), (_l()(), i1.ɵeld(8, 0, null, null, 2, "ul", [["class", "mdl-menu mdl-menu--bottom-right mdl-shadow--2dp hide mdl-menu-no-click mdl-color--white lang_setting"], ["id", "langs"]], null, null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_SaveComponent_3)), i1.ɵdid(10, 802816, null, 0, i2.NgForOf, [i1.ViewContainerRef, i1.TemplateRef, i1.IterableDiffers], { ngForOf: [0, "ngForOf"] }, null)], function (_ck, _v) { var _co = _v.component; var currVal_3 = _co.langs; _ck(_v, 10, 0, currVal_3); }, function (_ck, _v) { var _co = _v.component; var currVal_0 = i1.ɵunv(_v, 2, 0, i1.ɵnov(_v, 3).transform("selectLanguage")); _ck(_v, 2, 0, currVal_0); var currVal_1 = i1.ɵinlineInterpolate(1, "lang-icon ", _co.currentLang.id, ""); _ck(_v, 6, 0, currVal_1); var currVal_2 = _co.currentLang.name; _ck(_v, 7, 0, currVal_2); }); }
function View_SaveComponent_4(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 0, "div", [["class", "title-error-mess"]], [[8, "innerHTML", 1]], null, null, null, null))], null, function (_ck, _v) { var _co = _v.component; var currVal_0 = _co.errorMessage; _ck(_v, 0, 0, currVal_0); }); }
function View_SaveComponent_6(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "div", [], null, null, null, null, null)), (_l()(), i1.ɵted(1, null, ["", ""])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = i1.ɵunv(_v, 1, 0, i1.ɵnov(_v, 2).transform("offline")); _ck(_v, 1, 0, currVal_0); }); }
function View_SaveComponent_7(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 0, "div", [["class", "success-mess"]], [[8, "innerHTML", 1]], null, null, null, null))], null, function (_ck, _v) { var _co = _v.component; var currVal_0 = _co.successMessage; _ck(_v, 0, 0, currVal_0); }); }
function View_SaveComponent_8(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 0, "div", [["class", "success-mess"]], [[8, "innerHTML", 1]], null, null, null, null))], null, function (_ck, _v) { var _co = _v.component; var currVal_0 = _co.errorMessage; _ck(_v, 0, 0, currVal_0); }); }
function View_SaveComponent_10(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "a", [["class", "mdl-menu-no-click mdl-button mdl-js-button mdl-menu-button text-capitalize-i btn save"], ["target", "_blank"]], [[8, "href", 4]], null, null, null, null)), (_l()(), i1.ɵted(1, null, [" ", " "])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var _co = _v.component; var currVal_0 = i1.ɵinlineInterpolate(2, "", _co.configurations.server, "/users/", _co.configurations.appLang, "/ReadingList"); _ck(_v, 0, 0, currVal_0); var currVal_1 = i1.ɵunv(_v, 1, 0, i1.ɵnov(_v, 2).transform("ReadingList")); _ck(_v, 1, 0, currVal_1); }); }
function View_SaveComponent_9(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 6, "ul", [["class", "form-row settings"]], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 5, "li", [["class", "item-settings cf btn-row text-center"]], null, null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_SaveComponent_10)), i1.ɵdid(3, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵeld(4, 0, null, null, 2, "button", [["class", "mdl-menu-no-click mdl-button mdl-js-button mdl-menu-button text-capitalize-i btn cancel"], ["type", "button"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.cancel() !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵted(5, null, [" ", " "])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef])], function (_ck, _v) { var _co = _v.component; var currVal_0 = (_co.isOnline && !_co.success); _ck(_v, 3, 0, currVal_0); }, function (_ck, _v) { var currVal_1 = i1.ɵunv(_v, 5, 0, i1.ɵnov(_v, 6).transform("savePageErrorClose")); _ck(_v, 5, 0, currVal_1); }); }
function View_SaveComponent_11(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 0, "div", [["class", "logo-loader"]], null, null, null, null, null))], null, null); }
function View_SaveComponent_5(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 11, "div", [["class", "spinner-middleware"]], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 8, "h5", [["class", "middleware-mess"]], null, null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_SaveComponent_6)), i1.ɵdid(3, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_SaveComponent_7)), i1.ɵdid(5, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_SaveComponent_8)), i1.ɵdid(7, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_SaveComponent_9)), i1.ɵdid(9, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_SaveComponent_11)), i1.ɵdid(11, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null)], function (_ck, _v) { var _co = _v.component; var currVal_0 = !_co.isOnline; _ck(_v, 3, 0, currVal_0); var currVal_1 = _co.success; _ck(_v, 5, 0, currVal_1); var currVal_2 = _co.error; _ck(_v, 7, 0, currVal_2); var currVal_3 = (_co.error || _co.success); _ck(_v, 9, 0, currVal_3); var currVal_4 = ((!_co.error && !_co.success) && !_co.isOnline); _ck(_v, 11, 0, currVal_4); }, null); }
function View_SaveComponent_0(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 49, "main", [["class", "body-app body-iframe overflow-hidden"]], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 48, "div", [["class", "save-page"]], null, null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_SaveComponent_1)), i1.ɵdid(3, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵeld(4, 0, null, null, 43, "form", [["autocomplete", "off"], ["novalidate", ""]], [[2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "submit"], [null, "reset"]], function (_v, en, $event) { var ad = true; if (("submit" === en)) {
        var pd_0 = (i1.ɵnov(_v, 6).onSubmit($event) !== false);
        ad = (pd_0 && ad);
    } if (("reset" === en)) {
        var pd_1 = (i1.ɵnov(_v, 6).onReset() !== false);
        ad = (pd_1 && ad);
    } return ad; }, null, null)), i1.ɵdid(5, 16384, null, 0, i4.ɵangular_packages_forms_forms_bg, [], null, null), i1.ɵdid(6, 4210688, null, 0, i4.NgForm, [[8, null], [8, null]], null, null), i1.ɵprd(2048, null, i4.ControlContainer, null, [i4.NgForm]), i1.ɵdid(8, 16384, null, 0, i4.NgControlStatusGroup, [[4, i4.ControlContainer]], null, null), (_l()(), i1.ɵeld(9, 0, null, null, 38, "ul", [["class", "form-row settings"]], null, null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_SaveComponent_2)), i1.ɵdid(11, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵeld(12, 0, null, null, 10, "li", [["class", "item-settings cf title-row"]], null, null, null, null, null)), i1.ɵdid(13, 278528, null, 0, i2.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), (_l()(), i1.ɵeld(14, 0, null, null, 6, "input", [["type", "text"]], [[2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "input"], [null, "blur"], [null, "compositionstart"], [null, "compositionend"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("input" === en)) {
        var pd_0 = (i1.ɵnov(_v, 15)._handleInput($event.target.value) !== false);
        ad = (pd_0 && ad);
    } if (("blur" === en)) {
        var pd_1 = (i1.ɵnov(_v, 15).onTouched() !== false);
        ad = (pd_1 && ad);
    } if (("compositionstart" === en)) {
        var pd_2 = (i1.ɵnov(_v, 15)._compositionStart() !== false);
        ad = (pd_2 && ad);
    } if (("compositionend" === en)) {
        var pd_3 = (i1.ɵnov(_v, 15)._compositionEnd($event.target.value) !== false);
        ad = (pd_3 && ad);
    } if (("ngModelChange" === en)) {
        var pd_4 = ((_co.page["title"] = $event) !== false);
        ad = (pd_4 && ad);
    } return ad; }, null, null)), i1.ɵdid(15, 16384, null, 0, i4.DefaultValueAccessor, [i1.Renderer2, i1.ElementRef, [2, i4.COMPOSITION_BUFFER_MODE]], null, null), i1.ɵprd(1024, null, i4.NG_VALUE_ACCESSOR, function (p0_0) { return [p0_0]; }, [i4.DefaultValueAccessor]), i1.ɵdid(17, 671744, null, 0, i4.NgModel, [[2, i4.ControlContainer], [8, null], [8, null], [6, i4.NG_VALUE_ACCESSOR]], { model: [0, "model"], options: [1, "options"] }, { update: "ngModelChange" }), i1.ɵpod(18, { standalone: 0 }), i1.ɵprd(2048, null, i4.NgControl, null, [i4.NgModel]), i1.ɵdid(20, 16384, null, 0, i4.NgControlStatus, [[4, i4.NgControl]], null, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_SaveComponent_4)), i1.ɵdid(22, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵeld(23, 0, null, null, 8, "li", [["class", "item-settings cf desc-row"]], null, null, null, null, null)), (_l()(), i1.ɵeld(24, 0, null, null, 7, "textarea", [], [[2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "input"], [null, "blur"], [null, "compositionstart"], [null, "compositionend"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("input" === en)) {
        var pd_0 = (i1.ɵnov(_v, 25)._handleInput($event.target.value) !== false);
        ad = (pd_0 && ad);
    } if (("blur" === en)) {
        var pd_1 = (i1.ɵnov(_v, 25).onTouched() !== false);
        ad = (pd_1 && ad);
    } if (("compositionstart" === en)) {
        var pd_2 = (i1.ɵnov(_v, 25)._compositionStart() !== false);
        ad = (pd_2 && ad);
    } if (("compositionend" === en)) {
        var pd_3 = (i1.ɵnov(_v, 25)._compositionEnd($event.target.value) !== false);
        ad = (pd_3 && ad);
    } if (("ngModelChange" === en)) {
        var pd_4 = ((_co.page["description"] = $event) !== false);
        ad = (pd_4 && ad);
    } return ad; }, null, null)), i1.ɵdid(25, 16384, null, 0, i4.DefaultValueAccessor, [i1.Renderer2, i1.ElementRef, [2, i4.COMPOSITION_BUFFER_MODE]], null, null), i1.ɵprd(1024, null, i4.NG_VALUE_ACCESSOR, function (p0_0) { return [p0_0]; }, [i4.DefaultValueAccessor]), i1.ɵdid(27, 671744, null, 0, i4.NgModel, [[2, i4.ControlContainer], [8, null], [8, null], [6, i4.NG_VALUE_ACCESSOR]], { model: [0, "model"], options: [1, "options"] }, { update: "ngModelChange" }), i1.ɵpod(28, { standalone: 0 }), i1.ɵprd(2048, null, i4.NgControl, null, [i4.NgModel]), i1.ɵdid(30, 16384, null, 0, i4.NgControlStatus, [[4, i4.NgControl]], null, null), (_l()(), i1.ɵted(-1, null, ["                "])), (_l()(), i1.ɵeld(32, 0, null, null, 8, "li", [["class", "item-settings cf comment-row"]], null, null, null, null, null)), (_l()(), i1.ɵeld(33, 0, null, null, 7, "input", [["type", "text"]], [[8, "placeholder", 0], [2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], [null, "input"], [null, "blur"], [null, "compositionstart"], [null, "compositionend"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("input" === en)) {
        var pd_0 = (i1.ɵnov(_v, 34)._handleInput($event.target.value) !== false);
        ad = (pd_0 && ad);
    } if (("blur" === en)) {
        var pd_1 = (i1.ɵnov(_v, 34).onTouched() !== false);
        ad = (pd_1 && ad);
    } if (("compositionstart" === en)) {
        var pd_2 = (i1.ɵnov(_v, 34)._compositionStart() !== false);
        ad = (pd_2 && ad);
    } if (("compositionend" === en)) {
        var pd_3 = (i1.ɵnov(_v, 34)._compositionEnd($event.target.value) !== false);
        ad = (pd_3 && ad);
    } if (("ngModelChange" === en)) {
        var pd_4 = ((_co.page["comment"] = $event) !== false);
        ad = (pd_4 && ad);
    } return ad; }, null, null)), i1.ɵdid(34, 16384, null, 0, i4.DefaultValueAccessor, [i1.Renderer2, i1.ElementRef, [2, i4.COMPOSITION_BUFFER_MODE]], null, null), i1.ɵprd(1024, null, i4.NG_VALUE_ACCESSOR, function (p0_0) { return [p0_0]; }, [i4.DefaultValueAccessor]), i1.ɵdid(36, 671744, null, 0, i4.NgModel, [[2, i4.ControlContainer], [8, null], [8, null], [6, i4.NG_VALUE_ACCESSOR]], { model: [0, "model"], options: [1, "options"] }, { update: "ngModelChange" }), i1.ɵpod(37, { standalone: 0 }), i1.ɵprd(2048, null, i4.NgControl, null, [i4.NgModel]), i1.ɵdid(39, 16384, null, 0, i4.NgControlStatus, [[4, i4.NgControl]], null, null), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(41, 0, null, null, 6, "li", [["class", "item-settings cf btn-row"]], null, null, null, null, null)), (_l()(), i1.ɵeld(42, 0, null, null, 2, "button", [["class", "mdl-menu-no-click mdl-button mdl-js-button mdl-menu-button text-capitalize-i btn save"], ["type", "button"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.save() !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵted(43, null, [" ", " "])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(45, 0, null, null, 2, "button", [["class", "mdl-menu-no-click mdl-button mdl-js-button mdl-menu-button text-capitalize-i btn cancel"], ["type", "button"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.cancel() !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵted(46, null, [" ", " "])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_SaveComponent_5)), i1.ɵdid(49, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵeld(50, 0, null, null, 11, "footer", [["class", "mdl-mini-footer"]], null, null, null, null, null)), i1.ɵdid(51, 278528, null, 0, i2.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), (_l()(), i1.ɵeld(52, 0, null, null, 9, "div", [["class", "mdl-mini-footer__left-section"]], null, null, null, null, null)), (_l()(), i1.ɵeld(53, 0, null, null, 8, "ul", [["class", "mdl-mini-footer__link-list"]], null, null, null, null, null)), (_l()(), i1.ɵeld(54, 0, null, null, 7, "li", [["class", "copyright-item"]], null, null, null, null, null)), (_l()(), i1.ɵeld(55, 0, null, null, 2, "div", [["class", "circle-indicator"]], null, null, null, null, null)), i1.ɵdid(56, 278528, null, 0, i2.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), i1.ɵpod(57, { active: 0 }), (_l()(), i1.ɵted(58, null, [" ", " \u00A9 "])), (_l()(), i1.ɵeld(59, 0, null, null, 1, "a", [["target", "_blank"]], [[8, "href", 4]], null, null, null, null)), (_l()(), i1.ɵted(-1, null, [" Reverso "])), (_l()(), i1.ɵted(61, null, [" v", " "]))], function (_ck, _v) { var _co = _v.component; var currVal_0 = (_co.pageImg && (_co.pageImg.trim().length > 0)); _ck(_v, 3, 0, currVal_0); var currVal_8 = _co.currentLang; _ck(_v, 11, 0, currVal_8); var currVal_9 = "item-settings cf title-row"; var currVal_10 = ((_co.page["title"].length == 0) ? "is-dirty" : ""); _ck(_v, 13, 0, currVal_9, currVal_10); var currVal_18 = _co.page["title"]; var currVal_19 = _ck(_v, 18, 0, true); _ck(_v, 17, 0, currVal_18, currVal_19); var currVal_20 = _co.titleError; _ck(_v, 22, 0, currVal_20); var currVal_28 = _co.page["description"]; var currVal_29 = _ck(_v, 28, 0, true); _ck(_v, 27, 0, currVal_28, currVal_29); var currVal_38 = _co.page["comment"]; var currVal_39 = _ck(_v, 37, 0, true); _ck(_v, 36, 0, currVal_38, currVal_39); var currVal_42 = _co.showLoading; _ck(_v, 49, 0, currVal_42); var currVal_43 = "mdl-mini-footer"; var currVal_44 = (_co.configurations.isMiniView ? "hide" : ""); _ck(_v, 51, 0, currVal_43, currVal_44); var currVal_45 = "circle-indicator"; var currVal_46 = _ck(_v, 57, 0, _co.isAuth); _ck(_v, 56, 0, currVal_45, currVal_46); }, function (_ck, _v) { var _co = _v.component; var currVal_1 = i1.ɵnov(_v, 8).ngClassUntouched; var currVal_2 = i1.ɵnov(_v, 8).ngClassTouched; var currVal_3 = i1.ɵnov(_v, 8).ngClassPristine; var currVal_4 = i1.ɵnov(_v, 8).ngClassDirty; var currVal_5 = i1.ɵnov(_v, 8).ngClassValid; var currVal_6 = i1.ɵnov(_v, 8).ngClassInvalid; var currVal_7 = i1.ɵnov(_v, 8).ngClassPending; _ck(_v, 4, 0, currVal_1, currVal_2, currVal_3, currVal_4, currVal_5, currVal_6, currVal_7); var currVal_11 = i1.ɵnov(_v, 20).ngClassUntouched; var currVal_12 = i1.ɵnov(_v, 20).ngClassTouched; var currVal_13 = i1.ɵnov(_v, 20).ngClassPristine; var currVal_14 = i1.ɵnov(_v, 20).ngClassDirty; var currVal_15 = i1.ɵnov(_v, 20).ngClassValid; var currVal_16 = i1.ɵnov(_v, 20).ngClassInvalid; var currVal_17 = i1.ɵnov(_v, 20).ngClassPending; _ck(_v, 14, 0, currVal_11, currVal_12, currVal_13, currVal_14, currVal_15, currVal_16, currVal_17); var currVal_21 = i1.ɵnov(_v, 30).ngClassUntouched; var currVal_22 = i1.ɵnov(_v, 30).ngClassTouched; var currVal_23 = i1.ɵnov(_v, 30).ngClassPristine; var currVal_24 = i1.ɵnov(_v, 30).ngClassDirty; var currVal_25 = i1.ɵnov(_v, 30).ngClassValid; var currVal_26 = i1.ɵnov(_v, 30).ngClassInvalid; var currVal_27 = i1.ɵnov(_v, 30).ngClassPending; _ck(_v, 24, 0, currVal_21, currVal_22, currVal_23, currVal_24, currVal_25, currVal_26, currVal_27); var currVal_30 = i1.ɵinlineInterpolate(1, "", i1.ɵunv(_v, 33, 0, i1.ɵnov(_v, 40).transform("savePageWindowComment")), ""); var currVal_31 = i1.ɵnov(_v, 39).ngClassUntouched; var currVal_32 = i1.ɵnov(_v, 39).ngClassTouched; var currVal_33 = i1.ɵnov(_v, 39).ngClassPristine; var currVal_34 = i1.ɵnov(_v, 39).ngClassDirty; var currVal_35 = i1.ɵnov(_v, 39).ngClassValid; var currVal_36 = i1.ɵnov(_v, 39).ngClassInvalid; var currVal_37 = i1.ɵnov(_v, 39).ngClassPending; _ck(_v, 33, 0, currVal_30, currVal_31, currVal_32, currVal_33, currVal_34, currVal_35, currVal_36, currVal_37); var currVal_40 = i1.ɵunv(_v, 43, 0, i1.ɵnov(_v, 44).transform("savePageWindowSaveButton")); _ck(_v, 43, 0, currVal_40); var currVal_41 = i1.ɵunv(_v, 46, 0, i1.ɵnov(_v, 47).transform("cancel")); _ck(_v, 46, 0, currVal_41); var currVal_47 = _co.configurations.currentYear; _ck(_v, 58, 0, currVal_47); var currVal_48 = i1.ɵinlineInterpolate(1, "", _co.configurations.links.context, ""); _ck(_v, 59, 0, currVal_48); var currVal_49 = _co.configurations.version; _ck(_v, 61, 0, currVal_49); }); }
exports.View_SaveComponent_0 = View_SaveComponent_0;
function View_SaveComponent_Host_0(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 3, "save-page", [], null, null, null, View_SaveComponent_0, RenderType_SaveComponent)), i1.ɵprd(512, null, i5.SavePageService, i5.SavePageService, [i6.Api, i7.ProfileService]), i1.ɵprd(512, null, i8.TranslService, i8.TranslService, [i6.Api, i7.ProfileService, i9.HistoryStorage]), i1.ɵdid(3, 114688, null, 0, i10.SaveComponent, [i11.Router, i11.ActivatedRoute, i5.SavePageService, i8.TranslService], null, null)], function (_ck, _v) { _ck(_v, 3, 0); }, null); }
exports.View_SaveComponent_Host_0 = View_SaveComponent_Host_0;
var SaveComponentNgFactory = i1.ɵccf("save-page", i10.SaveComponent, View_SaveComponent_Host_0, {}, {}, []);
exports.SaveComponentNgFactory = SaveComponentNgFactory;


/***/ }),

/***/ "./src/app/pages/save-page/save-page.page.ts":
/*!***************************************************!*\
  !*** ./src/app/pages/save-page/save-page.page.ts ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Created by e on 31/07/2017.
 */
var core_1 = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var router_1 = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var save_page_service_1 = __webpack_require__(/*! ../../services/save-page.service */ "./src/app/services/save-page.service.ts");
var translate_service_1 = __webpack_require__(/*! ../../services/translate.service */ "./src/app/services/translate.service.ts");
var config_1 = __webpack_require__(/*! ../../config */ "./src/app/config.ts");
var main_func_1 = __webpack_require__(/*! ../../functions/main.func */ "./src/app/functions/main.func.ts");
var profile_local_1 = __webpack_require__(/*! ../../services/profile.local */ "./src/app/services/profile.local.ts");
var SaveComponent = /** @class */ (function () {
    function SaveComponent(router, route, savePageService, translateService) {
        this.router = router;
        this.route = route;
        this.savePageService = savePageService;
        this.translateService = translateService;
        this.errorMessage = '';
        this.titleError = false;
        this.message = '';
        this.profile = null;
        this.configurations = config_1.configurations;
        this.setHeightDocument = main_func_1.setHeightDocument;
        this.isAuth = false;
        this.directions = null;
        this.langs = null;
        this.isIframe = false;
        this.currentLang = null;
        this.showLoading = true;
        this.isOnline = false;
        this.isUpload = false;
        this.limitSavePage = false;
        this.countSavePages = 0;
        this.countLeftSavePages = 0;
        this.pageImg = '';
        this.success = false;
        this.successMessage = '';
        this.page = {
            id: 0,
            url: '',
            title: '',
            author: '',
            comment: '',
            language: 'en',
            description: '',
            favicon: '',
            html: '',
            cookie: '',
            images: []
        };
        this.tooltip = main_func_1.tooltip;
        // Main Functions
        this.mdMenu = main_func_1.mdMenu;
        if (top.location !== self.location) {
            this.isIframe = true;
        }
    }
    SaveComponent.prototype.save = function () {
        var _this = this;
        this.error = false;
        this.showLoading = true;
        this.titleError = false;
        if (this.page['html'] !== '' && this.page['url'] !== '' && this.page['url'].indexOf('reverso.net') < 0) {
            this.isUpload = true;
            var sendPageFinal_1 = function () {
                _this.savePageService.sendPage(_this.page).then(function (result) {
                    _this.error = false;
                    _this.success = false;
                    _this.isUpload = false;
                    if (result['data'] && result['data']['id']) {
                        _this.success = true;
                        _this.successMessage = config_1.configurations.localization['savePageSuccessText'];
                        if (_this.page['id'] !== result['data']['id']) {
                            _this.countSavePages = _this.countSavePages + 1;
                            _this.updateSavedPagesCount();
                        }
                        setTimeout(function () {
                            if (typeof chrome !== 'undefined' && config_1.configurations.isExtension) {
                                chrome['runtime']
                                    .sendMessage({
                                    openTab: config_1.configurations.server + '/users/' + config_1.configurations.appLang + '/Home/ViewPage/'
                                        + result['data']['id'] + '#?oneClickMode=1'
                                });
                            }
                            if (typeof safari !== 'undefined' && safari['extension']) {
                                var windowGlobalPage = safari['extension'].globalPage.contentWindow;
                                windowGlobalPage.respondToMessage({
                                    name: 'openTab',
                                    message: config_1.configurations.server + '/users/' + config_1.configurations.appLang + '/Home/ViewPage/'
                                        + result['data']['id'] + '#?oneClickMode=1'
                                });
                            }
                        }, 2000);
                    }
                }, function (error) {
                    if (typeof error.errorCode !== 'undefined' && error.errorCode === 1002) {
                        // Page with this title already exists. The title was changed and needs confirmation
                        if (error['data']) {
                            var data = error['data'];
                            if (data['title']) {
                                _this.page['title'] = data['title'];
                            }
                            if (data['id']) {
                                _this.page['id'] = data['id'];
                                _this.countSavePages = _this.countSavePages + 1;
                                _this.updateSavedPagesCount();
                            }
                        }
                        _this.showLoading = false;
                        _this.isUpload = false;
                        _this.titleError = true;
                        _this.errorMessage = config_1.configurations.localization['changeTitlePage'];
                    }
                    else {
                        _this.isUpload = false;
                        console.error('sendHTML', error);
                        _this.error = true;
                        _this.errorMessage = config_1.configurations.localization['savePageErrorText']; // 'Error save page! Please try again later.';
                    }
                });
            };
            // Определит язык, если надо
            if (!this.page['language'] && this.page['description'].length > 10) {
                this.translateService.detectLanguage(this.page['description']).then(function (res) {
                    if (res['data'] && res['data'].length === 2) {
                        _this.page['language'] = res['data'];
                        _this.setupCurrentLangPage();
                        // Установит язык для сайта
                        if (typeof chrome !== 'undefined' && config_1.configurations.isExtension) {
                            chrome['runtime'].sendMessage({ setLangSourceInSite: _this.page['language'] });
                        }
                        sendPageFinal_1();
                    }
                }, function (error) {
                    _this.page['language'] = 'en';
                    _this.setupCurrentLangPage();
                    sendPageFinal_1();
                    console.error(error);
                });
            }
            else if (!this.page['language']) {
                this.page['language'] = 'en';
                this.setupCurrentLangPage();
                sendPageFinal_1();
            }
            else {
                sendPageFinal_1();
            }
        }
        else {
            this.isUpload = false;
            this.error = true;
            this.errorMessage = config_1.configurations.localization['incorrectPageSaving']; // 'Page not correct! Please try saving another page.';
        }
    };
    SaveComponent.prototype.cancel = function () {
        if (!this.isIframe) {
            this.router.navigate(['/translate']);
        }
        else {
            window.parent['postMessage']('closeIframe:true', '*');
        }
    };
    SaveComponent.prototype.setCurrentLang = function (lang) {
        this.currentLang = lang;
        this.page['language'] = lang.id;
    };
    SaveComponent.prototype.setupCurrentLangPage = function () {
        var _this = this;
        var allLang = this.directions;
        var tempLang = null;
        if (allLang && typeof allLang.data !== 'undefined' && typeof allLang.data.directions !== 'undefined') {
            this.langs = allLang.data.directions;
            this.currentLang = this.langs.filter(function (el) {
                if (el.id === 'en') {
                    tempLang = el;
                }
                return el.id === _this.page['language'];
            });
            if (this.currentLang.length > 0) {
                this.currentLang = this.currentLang[0];
            }
            else {
                this.currentLang = tempLang;
            }
        }
    };
    SaveComponent.prototype.setMiniView = function (height) {
        if (height === void 0) { height = 87; }
        this.setHeightDocument(height);
        config_1.configurations.isMiniView = true;
    };
    SaveComponent.prototype.setNormalView = function (height) {
        var _this = this;
        if (height === void 0) { height = 468; }
        setTimeout(function () {
            // if (document.querySelector('.header-img-row')) {
            //     height += document.querySelector('.header-img-row').clientHeight;
            // }
            config_1.configurations.isMiniView = false;
            if (_this.pageImg && _this.pageImg.trim().length > 0) {
                height += _this.isIframe ? 86 : 66;
            }
            if (_this.isIframe) {
                try {
                    window.parent['postMessage']('setNormalView:530', '*');
                }
                catch (error) {
                    console.error('Error setNormalViewIframe: ', error);
                }
            }
            else {
                _this.setHeightDocument(height);
            }
        }, 128);
    };
    // Получить HTML активной страницы
    SaveComponent.prototype.getPageHtml = function () {
        return new Promise(function (resolve, reject) {
            var query = null;
            try {
                if (localStorage.getItem(config_1.configurations.prefixStorage + 'htmlForSavePage')
                    && JSON.parse(localStorage.getItem(config_1.configurations.prefixStorage + 'htmlForSavePage'))) {
                    query = JSON.parse(localStorage.getItem(config_1.configurations.prefixStorage + 'htmlForSavePage'));
                }
                if (query) {
                    var doc = document.implementation.createHTMLDocument(query['title']);
                    doc.documentElement.innerHTML = query['html'];
                    query['document'] = doc;
                    resolve(query);
                }
                else {
                    reject('Error get page HTML');
                }
            }
            catch (error) {
                reject(error);
            }
        });
    };
    SaveComponent.prototype.buildBodyMess = function (result) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            _this.page['images'] = [];
            var loc = result['location'];
            var uri = {
                spec: loc.href,
                host: loc.host,
                prePath: loc.protocol + '//' + loc.host,
                scheme: loc.protocol.substr(0, loc.protocol.indexOf(':')),
                pathBase: loc.protocol + '//' + loc.host + loc.pathname.substr(0, loc.pathname.lastIndexOf('/') + 1)
            };
            // TODO Delete strange attributes which parser could not execute
            // let allElementsHTML = result['document'].getElementsByTagName("*");
            // let whitelist = ["class","id", "style", "hidden", "width", "height", "src", "href", "title", "alt"];
            //
            // if(allElementsHTML.length > 0) {
            //     [].forEach.call(allElementsHTML, (el) => {
            //         let attributes = el.attributes;
            //         let i = attributes.length;
            //         while (i--) {
            //             let attr = attributes[i];
            //             if (attr.name.indexOf(whitelist) == -1)
            //                 el.removeAttributeNode(attr);
            //         }
            //     });​
            // }
            var article;
            try {
                article = new window['Readability'](uri, result['document']).parse();
            }
            catch (error) {
                console.error(error);
                reject(config_1.configurations.localization['incorrectPageSaving']);
                // 'Page not correct! Please try saving another page.';
            }
            if (article && article.content && article.content.trim() !== '') {
                var content_1 = document.createElement('div');
                content_1.innerHTML = article.content;
                var setValueForm_1 = function () {
                    _this.page['img'] = '';
                    if (_this.page['images'].length > 0) {
                        _this.page['images'].forEach(function (el) {
                            if (el.isMain === true) {
                                _this.page['img'] = el.url;
                            }
                        });
                    }
                    _this.page['url'] = result['location'].href;
                    _this.page['favicon'] = '';
                    _this.page['title'] = article.title;
                    _this.page['author'] = article.byline || '';
                    _this.page['language'] = result['lang'];
                    _this.page['html'] = content_1.innerHTML;
                    _this.page['description'] = article.excerpt || '';
                    // Устанавливаем язык
                    var searchLang = [];
                    if (_this.page['language']) {
                        _this.setupCurrentLangPage();
                        _this.page['language'] = _this.currentLang.id;
                    }
                    else if (!_this.page['language'] && _this.page['description'].length > 10) {
                        _this.translateService.detectLanguage(_this.page['description']).then(function (res) {
                            if (res['data'] && res['data'].length === 2) {
                                _this.page['language'] = res['data'];
                                // Установит язык для сайта
                                if (typeof chrome !== 'undefined' && config_1.configurations.isExtension) {
                                    chrome['runtime'].sendMessage({ setLangSourceInSite: _this.page['language'] });
                                }
                                _this.setupCurrentLangPage();
                                _this.page['language'] = _this.currentLang.id;
                            }
                        }, function (error) {
                            _this.page['language'] = 'en';
                            _this.setupCurrentLangPage();
                            console.error(error);
                        });
                    }
                    else {
                        _this.page['language'] = 'en';
                        _this.setupCurrentLangPage();
                    }
                    resolve(true);
                };
                // Get favicon
                try {
                    if (result['favicon'] && result['favicon'] !== '' && result['favicon'].indexOf('.') > -1 &&
                        result['favicon'].indexOf('data:image') < 0) {
                        var guid = main_func_1.generateGuid();
                        if (result['favicon'].indexOf('://') < 0) {
                            if (result['favicon'].indexOf('//') > -1) {
                                _this.page['images'].push({
                                    url: result['location']['protocol'] + result['favicon'],
                                    guid: guid,
                                    isMain: false,
                                    favicon: true
                                });
                                _this.page['favicon'] = config_1.configurations.server + '/users/ReadingListImages/' + guid;
                            }
                            else {
                                _this.page['images'].push({
                                    url: result['location']['origin'] + result['favicon'],
                                    guid: guid,
                                    isMain: false,
                                    favicon: true
                                });
                                _this.page['favicon'] = config_1.configurations.server + '/users/ReadingListImages/' + guid;
                            }
                        }
                        else {
                            _this.page['images'].push({
                                url: result['favicon'],
                                guid: guid,
                                isMain: false,
                                favicon: true
                            });
                            _this.page['favicon'] = config_1.configurations.server + '/users/ReadingListImages/' + guid;
                        }
                    }
                    else {
                        _this.page['favicon'] = '';
                    }
                }
                catch (error) {
                    _this.page['favicon'] = '';
                    console.error(error);
                }
                try {
                    var images_1 = content_1.getElementsByTagName('img');
                    var isMain_1 = true;
                    [].forEach.call(images_1, function (el, i) {
                        var guid = main_func_1.generateGuid();
                        if (images_1[i] && images_1[i].src && images_1[i].src !== '' &&
                            images_1[i].src.indexOf('.') > -1 && images_1[i].src.indexOf('data:image') < 0 &&
                            images_1[i].src.indexOf('chrome-extension:') < 0 && images_1[i].src.indexOf('moz-extension:') < 0) {
                            if (images_1[i].src.indexOf('://') < 0) {
                                if (images_1[i].src.indexOf('//') > -1) {
                                    _this.page['images'].push({
                                        url: result['location']['protocol'] + images_1[i].src,
                                        guid: guid,
                                        isMain: isMain_1
                                    });
                                    images_1[i].src = config_1.configurations.server + '/users/ReadingListImages/' + guid;
                                }
                                else {
                                    _this.page['images'].push({
                                        url: result['location']['origin'] + images_1[i].src,
                                        guid: guid,
                                        isMain: isMain_1
                                    });
                                    images_1[i].src = config_1.configurations.server + '/users/ReadingListImages/' + guid;
                                }
                            }
                            else {
                                _this.page['images'].push({
                                    url: images_1[i].src,
                                    guid: guid,
                                    isMain: isMain_1
                                });
                                images_1[i].src = config_1.configurations.server + '/users/ReadingListImages/' + guid;
                            }
                            if (isMain_1 === true) {
                                _this.pageImg = _this.page['images'][0].url;
                                _this.setNormalView(530);
                                isMain_1 = false;
                            }
                        }
                    });
                    var allElements = content_1.getElementsByTagName('*');
                    if (allElements.length > 0) {
                        [].forEach.call(allElements, function (el, i) {
                            el.removeAttribute('class');
                            el.removeAttribute('id');
                            el.removeAttribute('style');
                            el.removeAttribute('onclick');
                            el.removeAttribute('onblur');
                            el.removeAttribute('onchange');
                            el.removeAttribute('onfocus');
                            // Чистим от ONECLICK елементов
                            if (el.nodeName === 'ONECLICK' || el.nodeName === 'ONECLICKELEMENT') {
                                el.outerHTML = el.innerHTML;
                            }
                            if (el.nodeName === 'FORM' || el.nodeName === 'INPUT' || el.nodeName === 'TEXTAREA' ||
                                el.nodeName === 'IFRAME' || el.nodeName === 'SCRIPT' || el.nodeName === 'STYLE' ||
                                el.nodeName === 'BUTTON') {
                                el.parentNode.removeChild(el);
                            }
                        });
                    }
                }
                catch (error) {
                    console.error(error);
                }
                setTimeout(function () {
                    setValueForm_1();
                }, 128);
            }
            else {
                console.error('Page not correct!');
                reject(config_1.configurations.localization['incorrectPageSaving']);
            }
        });
    };
    SaveComponent.prototype.updateSavedPagesCount = function () {
        this.profile['SavedPages'] = this.countSavePages;
        profile_local_1.GASUSERPROFILE.set(this.profile);
    };
    SaveComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.isAuth = profile_local_1.CHECK_AUTH();
        this.isOnline = navigator.onLine;
        if (!this.isAuth) {
            this.router.navigate(['/sign-up']);
        }
        else {
            this.profile = profile_local_1.GASUSERPROFILE.get() ? profile_local_1.GASUSERPROFILE.get()['data'] : null;
            this.countSavePages = this.profile['SavedPages'];
            this.directions = profile_local_1.DIRECTIONS.get(true);
            this.setNormalView(530);
            if (this.isOnline) {
                this.savePageService.canSaveClientPage().then(function (res) {
                    setTimeout(function () {
                        if (res['success'] === true) {
                            _this.countSavePages = res['data']['count'];
                            _this.countLeftSavePages = res['data']['left'];
                            // Запрашиваем HTML
                            _this.getPageHtml().then(function (result) {
                                _this.buildBodyMess(result).then(function (_) {
                                    _this.showLoading = false;
                                }, function (error) {
                                    _this.error = true;
                                    _this.errorMessage = error;
                                });
                            }, function (error) {
                                console.error(error);
                                _this.error = true;
                                _this.errorMessage = config_1.configurations.localization['incorrectPageSaving'];
                            });
                        }
                        else {
                            _this.error = true;
                            if (profile_local_1.GASUSERINFO.get() && profile_local_1.GASUSERINFO.get()['data']['IsPremium']) {
                                _this.errorMessage = config_1.configurations.localization['savePageLimitPremium'];
                            }
                            else {
                                _this.limitSavePage = true;
                                _this.countSavePages = res['data']['count'] ? parseInt(res['data']['count'], 10) : 10;
                                _this.errorMessage = config_1.configurations.localization['savePageLimitPremium'];
                            }
                        }
                    }, 512);
                }, function (error) {
                    setTimeout(function () {
                        _this.error = true;
                        if (error && error.message) {
                            _this.errorMessage = config_1.configurations.localization[error.message];
                        }
                        else {
                            if (profile_local_1.GASUSERINFO.get() && profile_local_1.GASUSERINFO.get()['data']['IsPremium']) {
                                _this.errorMessage = config_1.configurations.localization['savePageLimitPremium'];
                            }
                            else {
                                _this.limitSavePage = true;
                                _this.errorMessage = config_1.configurations.localization['savePageLimit'];
                            }
                        }
                    }, 64);
                });
            }
            else {
                console.error('Offline!');
            }
        }
    };
    return SaveComponent;
}());
exports.SaveComponent = SaveComponent;


/***/ }),

/***/ "./src/app/pages/sign-up/sign-up.page.css.shim.ngstyle.js":
/*!****************************************************************!*\
  !*** ./src/app/pages/sign-up/sign-up.page.css.shim.ngstyle.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

/**
 * @fileoverview This file was generated by the Angular template compiler. Do not edit.
 *
 * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}
 * tslint:disable
 */ 
Object.defineProperty(exports, "__esModule", { value: true });
var styles = [""];
exports.styles = styles;


/***/ }),

/***/ "./src/app/pages/sign-up/sign-up.page.ngfactory.js":
/*!*********************************************************!*\
  !*** ./src/app/pages/sign-up/sign-up.page.ngfactory.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

/**
 * @fileoverview This file was generated by the Angular template compiler. Do not edit.
 *
 * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}
 * tslint:disable
 */ 
Object.defineProperty(exports, "__esModule", { value: true });
var i0 = __webpack_require__(/*! ./sign-up.page.css.shim.ngstyle */ "./src/app/pages/sign-up/sign-up.page.css.shim.ngstyle.js");
var i1 = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var i2 = __webpack_require__(/*! @ngx-translate/core */ "./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
var i3 = __webpack_require__(/*! ../modal-incognito/modal-incognito.modal.ngfactory */ "./src/app/pages/modal-incognito/modal-incognito.modal.ngfactory.js");
var i4 = __webpack_require__(/*! ../modal-incognito/modal-incognito.modal */ "./src/app/pages/modal-incognito/modal-incognito.modal.ts");
var i5 = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
var i6 = __webpack_require__(/*! ./sign-up.page */ "./src/app/pages/sign-up/sign-up.page.ts");
var i7 = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var styles_SignUpComponent = [i0.styles];
var RenderType_SignUpComponent = i1.ɵcrt({ encapsulation: 0, styles: styles_SignUpComponent, data: {} });
exports.RenderType_SignUpComponent = RenderType_SignUpComponent;
function View_SignUpComponent_1(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 3, "div", [["class", "btn-row"]], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 2, "a", [["class", "mdl-menu-no-click mdl-button mdl-js-button mdl-menu-button text-capitalize-i btn sign-up-btn"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        ((_co.origin === "safariextension") ? _co.goToAuthSafari(_co.loginTypes.Register) : _co.goToAuth(_co.configurations.links.register));
        var pd_0 = (_co.addRegisterAnalit() !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵted(2, null, [" ", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = i1.ɵunv(_v, 2, 0, i1.ɵnov(_v, 3).transform("signUp")); _ck(_v, 2, 0, currVal_0); }); }
function View_SignUpComponent_2(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 3, "div", [["class", "btn-row form-row form-group"]], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 0, "a", [["class", "loginBtn loginBtn--facebook"]], [[8, "href", 4]], [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.createNewTab(_co.configurations.links.facebookLogin) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵeld(2, 0, null, null, 1, "a", [["class", "loginBtn loginBtn--google"]], [[8, "href", 4]], [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.createNewTab(_co.configurations.links.googleLogin) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵted(-1, null, [" +"]))], null, function (_ck, _v) { var _co = _v.component; var currVal_0 = i1.ɵinlineInterpolate(1, "", _co.configurations.links.facebookLogin, ""); _ck(_v, 1, 0, currVal_0); var currVal_1 = i1.ɵinlineInterpolate(1, "", _co.configurations.links.googleLogin, ""); _ck(_v, 2, 0, currVal_1); }); }
function View_SignUpComponent_3(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 1, "span", [["class", "cookies-warning"]], [[8, "innerHTML", 1]], null, null, null, null)), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = i1.ɵunv(_v, 0, 0, i1.ɵnov(_v, 1).transform("accessToASpecificSite")); _ck(_v, 0, 0, currVal_0); }); }
function View_SignUpComponent_4(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 5, "div", [["class", " link-row link-logInMess"]], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 2, "a", [["class", "link"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (((_co.origin === "safariextension") ? _co.goToAuthSafari(_co.loginTypes.Login) : _co.goToAuth(_co.configurations.links.login)) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵted(2, null, [" ", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵted(4, null, [" ", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = i1.ɵunv(_v, 2, 0, i1.ɵnov(_v, 3).transform("logIn")); _ck(_v, 2, 0, currVal_0); var currVal_1 = i1.ɵunv(_v, 4, 0, i1.ɵnov(_v, 5).transform("logInMessNew")); _ck(_v, 4, 0, currVal_1); }); }
function View_SignUpComponent_5(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 1, "modal-incognito-modal", [], null, [[null, "closeModal"], [null, "goToLink"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("closeModal" === en)) {
        var pd_0 = ((_co.isShowMessageForInIncognitoContext = null) !== false);
        ad = (pd_0 && ad);
    } if (("goToLink" === en)) {
        var pd_1 = (_co.goToAuth(_co.isShowMessageForInIncognitoContext, true) !== false);
        ad = (pd_1 && ad);
    } return ad; }, i3.View_ModalIncognitoComponent_0, i3.RenderType_ModalIncognitoComponent)), i1.ɵdid(1, 49152, null, 0, i4.ModalIncognitoComponent, [], null, { closeModal: "closeModal", goToLink: "goToLink" })], null, null); }
function View_SignUpComponent_0(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "h1", [["class", "title-view"]], null, null, null, null, null)), (_l()(), i1.ɵted(1, null, ["", ""])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(3, 0, null, null, 22, "main", [["class", "body-app body-iframe overflow-hidden"]], null, null, null, null, null)), (_l()(), i1.ɵeld(4, 0, null, null, 21, "div", [["class", "sign-up-page"]], null, null, null, null, null)), (_l()(), i1.ɵeld(5, 0, null, null, 11, "div", [["class", "sign-up-item logo-back sign-up-logoback"]], null, null, null, null, null)), (_l()(), i1.ɵeld(6, 0, null, null, 0, "div", [["class", "logo-row"]], null, null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_SignUpComponent_1)), i1.ɵdid(8, 16384, null, 0, i5.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_SignUpComponent_2)), i1.ɵdid(10, 16384, null, 0, i5.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_SignUpComponent_3)), i1.ɵdid(12, 16384, null, 0, i5.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵeld(13, 0, null, null, 3, "div", [["class", "desc-row"]], null, null, null, null, null)), (_l()(), i1.ɵeld(14, 0, null, null, 2, "div", [["class", "desc desc-create-free"]], null, null, null, null, null)), (_l()(), i1.ɵted(15, null, ["", ""])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(17, 0, null, null, 6, "div", [["class", "sign-up-item blue-back"]], null, null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_SignUpComponent_4)), i1.ɵdid(19, 16384, null, 0, i5.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵeld(20, 0, null, null, 3, "div", [["class", "link-row"]], null, null, null, null, null)), (_l()(), i1.ɵeld(21, 0, null, null, 2, "a", [["class", "link reversoContextactivateReverso"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.createNewTab(_co.configurations.links.reverso) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵted(22, null, ["", ""])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_SignUpComponent_5)), i1.ɵdid(25, 16384, null, 0, i5.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵeld(26, 0, null, null, 11, "footer", [["class", "mdl-mini-footer"]], null, null, null, null, null)), i1.ɵdid(27, 278528, null, 0, i5.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), (_l()(), i1.ɵeld(28, 0, null, null, 9, "div", [["class", "mdl-mini-footer__left-section"]], null, null, null, null, null)), (_l()(), i1.ɵeld(29, 0, null, null, 8, "ul", [["class", "mdl-mini-footer__link-list"]], null, null, null, null, null)), (_l()(), i1.ɵeld(30, 0, null, null, 7, "li", [["class", "copyright-item"]], null, null, null, null, null)), (_l()(), i1.ɵeld(31, 0, null, null, 2, "div", [["class", "circle-indicator"]], null, null, null, null, null)), i1.ɵdid(32, 278528, null, 0, i5.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), i1.ɵpod(33, { active: 0 }), (_l()(), i1.ɵted(34, null, [" ", " \u00A9 "])), (_l()(), i1.ɵeld(35, 0, null, null, 1, "a", [["target", "_blank"]], [[8, "href", 4]], null, null, null, null)), (_l()(), i1.ɵted(-1, null, [" Reverso "])), (_l()(), i1.ɵted(37, null, [" v", " "]))], function (_ck, _v) { var _co = _v.component; var currVal_1 = !_co.isBlockedCookie; _ck(_v, 8, 0, currVal_1); var currVal_2 = !_co.isBlockedCookie; _ck(_v, 10, 0, currVal_2); var currVal_3 = _co.isBlockedCookie; _ck(_v, 12, 0, currVal_3); var currVal_5 = !_co.isBlockedCookie; _ck(_v, 19, 0, currVal_5); var currVal_7 = _co.isShowMessageForInIncognitoContext; _ck(_v, 25, 0, currVal_7); var currVal_8 = "mdl-mini-footer"; var currVal_9 = (_co.configurations.isMiniView ? "hide" : ""); _ck(_v, 27, 0, currVal_8, currVal_9); var currVal_10 = "circle-indicator"; var currVal_11 = _ck(_v, 33, 0, _co.isAuth); _ck(_v, 32, 0, currVal_10, currVal_11); }, function (_ck, _v) { var _co = _v.component; var currVal_0 = i1.ɵunv(_v, 1, 0, i1.ɵnov(_v, 2).transform("logIn")); _ck(_v, 1, 0, currVal_0); var currVal_4 = i1.ɵunv(_v, 15, 0, i1.ɵnov(_v, 16).transform("signUpMess")); _ck(_v, 15, 0, currVal_4); var currVal_6 = i1.ɵunv(_v, 22, 0, i1.ɵnov(_v, 23).transform("reversoContextactivateReverso")); _ck(_v, 22, 0, currVal_6); var currVal_12 = _co.configurations.currentYear; _ck(_v, 34, 0, currVal_12); var currVal_13 = i1.ɵinlineInterpolate(1, "", _co.configurations.links.context, ""); _ck(_v, 35, 0, currVal_13); var currVal_14 = _co.configurations.version; _ck(_v, 37, 0, currVal_14); }); }
exports.View_SignUpComponent_0 = View_SignUpComponent_0;
function View_SignUpComponent_Host_0(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 1, "sign-up", [], null, null, null, View_SignUpComponent_0, RenderType_SignUpComponent)), i1.ɵdid(1, 114688, null, 0, i6.SignUpComponent, [i7.ActivatedRoute], null, null)], function (_ck, _v) { _ck(_v, 1, 0); }, null); }
exports.View_SignUpComponent_Host_0 = View_SignUpComponent_Host_0;
var SignUpComponentNgFactory = i1.ɵccf("sign-up", i6.SignUpComponent, View_SignUpComponent_Host_0, {}, {}, []);
exports.SignUpComponentNgFactory = SignUpComponentNgFactory;


/***/ }),

/***/ "./src/app/pages/sign-up/sign-up.page.ts":
/*!***********************************************!*\
  !*** ./src/app/pages/sign-up/sign-up.page.ts ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var core_1 = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var router_1 = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var config_1 = __webpack_require__(/*! ../../config */ "./src/app/config.ts");
var profile_local_1 = __webpack_require__(/*! ../../services/profile.local */ "./src/app/services/profile.local.ts");
var main_func_1 = __webpack_require__(/*! ../../functions/main.func */ "./src/app/functions/main.func.ts");
var SignUpComponent = /** @class */ (function () {
    function SignUpComponent(route) {
        var _this = this;
        this.route = route;
        this.errorMessage = '';
        this.message = '';
        this.profile = null;
        this.configurations = config_1.configurations;
        this.setHeightDocument = main_func_1.setHeightDocument;
        this.isAuth = false;
        this.isIframe = top.location !== self.location;
        // ссылка для редирекста
        this.returnPage = 'RecommendedSites';
        // Permissions
        this.isBlockedCookie = false;
        this.isShowMessageForInIncognitoContext = null;
        this.origin = config_1.configurations.origin;
        this.loginTypes = {
            na: 0,
            Login: 1,
            // Mail: 1,
            FaceBook: 2,
            Google: 3,
            Register: 4,
            Logout: -1,
        };
        if (config_1.configurations.origin === 'chromeextension') {
            chrome.permissions.getAll(function (granted) {
                return _this.isBlockedCookie = (!granted || !granted.origins || (granted.origins.indexOf('<all_urls>') < 0 && granted.origins.indexOf('https://cps.reverso.net/*') < 0));
            });
        }
        this.returnPage = this.route.queryParams['value']['returnPage'] || 'RecommendedSites';
        // if(GASUSERPROFILE.get() && GASUSERPROFILE.get()['data']){
        //     this.profile = GASUSERPROFILE.get();
        // }
    }
    SignUpComponent.prototype.addRegisterAnalit = function () {
        if (typeof chrome !== 'undefined' && config_1.configurations.isExtension) {
            chrome['runtime'].sendMessage({ setTrackEvents: config_1.configurations.eventsName.register });
        }
        // else if (typeof safari !== 'undefined' && safari['extension']) {
        //     const windowGlobalPage = safari['extension'].globalPage.contentWindow;
        //     windowGlobalPage.respondToMessage({name: 'setTrackEvents', message: configurations.eventsName.register});
        // }
    };
    SignUpComponent.prototype.setMiniView = function (height) {
        if (height === void 0) { height = 87; }
        this.setHeightDocument(height);
        config_1.configurations.isMiniView = true;
    };
    SignUpComponent.prototype.setNormalView = function (height) {
        var _this = this;
        if (height === void 0) { height = 468; }
        this.setHeightDocument();
        config_1.configurations.isMiniView = false;
        setTimeout(function () {
            if (_this.isIframe) {
                try {
                    window.parent['postMessage']('setNormalView:452', '*');
                    // window.parent['postMessage']('setNormalWidth: true', '*');
                }
                catch (error) {
                    console.error('Error setNormalViewIframe: ', error);
                }
            }
        }, 128);
    };
    SignUpComponent.prototype.createNewTab = function (url) {
        if (typeof chrome !== 'undefined' && config_1.configurations.isExtension) {
            chrome['runtime'].sendMessage({ openTab: url });
        }
    };
    // Navigation to authorization if incognito mode will show a warning window.
    SignUpComponent.prototype.goToAuth = function (link, ignore) {
        if (ignore === void 0) { ignore = false; }
        this.isShowMessageForInIncognitoContext = null;
        if (typeof chrome !== 'undefined' && chrome.extension && chrome.extension.inIncognitoContext && !ignore) {
            this.isShowMessageForInIncognitoContext = link;
            return;
        }
        if (typeof chrome !== 'undefined' && config_1.configurations.isExtension) {
            chrome['runtime'].sendMessage({ openTab: link });
        }
        else if (typeof browser !== 'undefined' && config_1.configurations.isExtension) {
            browser['runtime'].sendMessage({ openTab: link });
        }
        else {
            window.open(link, '_blank');
        }
    };
    SignUpComponent.prototype.goToAuthSafari = function (type) {
        if (typeof safari !== 'undefined' && safari.extension && safari.extension.dispatchMessage) {
            safari.extension.dispatchMessage('register', {
                type: type,
                lang: config_1.configurations.appLang,
            });
            window.parent['postMessage']('closeIframe:true', '*');
        }
    };
    SignUpComponent.prototype.ngOnInit = function () {
        this.isAuth = profile_local_1.CHECK_AUTH();
        this.setNormalView();
    };
    return SignUpComponent;
}());
exports.SignUpComponent = SignUpComponent;


/***/ }),

/***/ "./src/app/pages/translate-segment/translate-segment.page.css.shim.ngstyle.js":
/*!************************************************************************************!*\
  !*** ./src/app/pages/translate-segment/translate-segment.page.css.shim.ngstyle.js ***!
  \************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

/**
 * @fileoverview This file was generated by the Angular template compiler. Do not edit.
 *
 * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}
 * tslint:disable
 */ 
Object.defineProperty(exports, "__esModule", { value: true });
var styles = [""];
exports.styles = styles;


/***/ }),

/***/ "./src/app/pages/translate-segment/translate-segment.page.ngfactory.js":
/*!*****************************************************************************!*\
  !*** ./src/app/pages/translate-segment/translate-segment.page.ngfactory.js ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

/**
 * @fileoverview This file was generated by the Angular template compiler. Do not edit.
 *
 * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}
 * tslint:disable
 */ 
Object.defineProperty(exports, "__esModule", { value: true });
var i0 = __webpack_require__(/*! ./translate-segment.page.css.shim.ngstyle */ "./src/app/pages/translate-segment/translate-segment.page.css.shim.ngstyle.js");
var i1 = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var i2 = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
var i3 = __webpack_require__(/*! @ngx-translate/core */ "./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
var i4 = __webpack_require__(/*! ../../pipe/array-sort.pipe */ "./src/app/pipe/array-sort.pipe.ts");
var i5 = __webpack_require__(/*! ../../services/profile.service */ "./src/app/services/profile.service.ts");
var i6 = __webpack_require__(/*! ../../../api/api */ "./src/api/api.ts");
var i7 = __webpack_require__(/*! ../../storage/history.storage */ "./src/app/storage/history.storage.ts");
var i8 = __webpack_require__(/*! ../../services/translate.service */ "./src/app/services/translate.service.ts");
var i9 = __webpack_require__(/*! ../../storage/settings.storage */ "./src/app/storage/settings.storage.ts");
var i10 = __webpack_require__(/*! ./translate-segment.page */ "./src/app/pages/translate-segment/translate-segment.page.ts");
var i11 = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var styles_TranslateSegmentComponent = [i0.styles];
var RenderType_TranslateSegmentComponent = i1.ɵcrt({ encapsulation: 0, styles: styles_TranslateSegmentComponent, data: {} });
exports.RenderType_TranslateSegmentComponent = RenderType_TranslateSegmentComponent;
function View_TranslateSegmentComponent_1(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "li", [["class", "mdl-menu__item"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.selectLangSource(_v.context.$implicit.id) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), i1.ɵdid(1, 278528, null, 0, i2.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), (_l()(), i1.ɵted(2, null, ["", " "]))], function (_ck, _v) { var _co = _v.component; var currVal_0 = "mdl-menu__item"; var currVal_1 = ((_co.sourceLang.id == _v.context.$implicit.id) ? "active" : ""); _ck(_v, 1, 0, currVal_0, currVal_1); }, function (_ck, _v) { var currVal_2 = _v.context.$implicit.name; _ck(_v, 2, 0, currVal_2); }); }
function View_TranslateSegmentComponent_2(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "li", [["class", "mdl-menu__item"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.selectLangTarget(_v.context.$implicit.id) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), i1.ɵdid(1, 278528, null, 0, i2.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), (_l()(), i1.ɵted(2, null, ["", " "]))], function (_ck, _v) { var _co = _v.component; var currVal_0 = "mdl-menu__item"; var currVal_1 = ((_co.targetLang.id == _v.context.$implicit.id) ? "active" : ""); _ck(_v, 1, 0, currVal_0, currVal_1); }, function (_ck, _v) { var currVal_2 = _v.context.$implicit.name; _ck(_v, 2, 0, currVal_2); }); }
function View_TranslateSegmentComponent_4(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 3, "span", [["class", "dymApplied-displaySource "]], null, null, null, null, null)), i1.ɵdid(1, 278528, null, 0, i2.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), i1.ɵpod(2, { "rtl": 0 }), (_l()(), i1.ɵted(3, null, [" ", " "]))], function (_ck, _v) { var _co = _v.component; var currVal_0 = "dymApplied-displaySource "; var currVal_1 = _ck(_v, 2, 0, !_co.targetLang.srcLtr); _ck(_v, 1, 0, currVal_0, currVal_1); }, function (_ck, _v) { var currVal_2 = _v.parent.context.$implicit.displaySource; _ck(_v, 3, 0, currVal_2); }); }
function View_TranslateSegmentComponent_6(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 4, "i", [], null, [[null, "click"], [null, "mouseover"], [null, "mouseout"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.speakSample(_v.parent.parent.context.index, "play", true) !== false);
        ad = (pd_0 && ad);
    } if (("mouseover" === en)) {
        var pd_1 = (_co.tooltip(("speak-icon-source-" + _v.parent.parent.context.index), true) !== false);
        ad = (pd_1 && ad);
    } if (("mouseout" === en)) {
        var pd_2 = (_co.tooltip(("speak-icon-source-" + _v.parent.parent.context.index), false) !== false);
        ad = (pd_2 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 3, ":svg:svg", [["height", "16"], ["viewBox", "0 0 16 16"], ["width", "16"], ["xmlns", "http://www.w3.org/2000/svg"]], null, null, null, null, null)), (_l()(), i1.ɵeld(2, 0, null, null, 2, ":svg:g", [["fill", "#0970AC"], ["fill-rule", "evenodd"]], null, null, null, null, null)), (_l()(), i1.ɵeld(3, 0, null, null, 0, ":svg:path", [["d", "M9.49 1c.443 0 .74.396.74 1.117v11.102c0 .737-.32 1.15-.802 1.15-.24 0-.522-.103-.825-.323L3.72 10.502H1.993A1.99 1.99 0 0 1 0 8.503V6.832c0-1.103.897-1.998 1.993-1.998h2.318l4.36-3.48c.3-.24.581-.354.82-.354zm-.26 1.188L4.934 5.614l-.273.218H1.993a.997.997 0 0 0-.993 1v1.67c0 .56.437.998.994.998h2.051l.263.192 4.883 3.543.037.027c.002-.014.002-.028.002-.044V2.188zM13.399 12.24a.499.499 0 0 1-.326-.88c.018-.016 1.779-1.554 1.78-3.903.003-2.344-1.756-3.839-1.774-3.854a.5.5 0 0 1 .637-.77c.088.072 2.14 1.798 2.138 4.624-.002 2.823-2.045 4.591-2.132 4.664a.497.497 0 0 1-.323.12"]], null, null, null, null, null)), (_l()(), i1.ɵeld(4, 0, null, null, 0, ":svg:path", [["d", "M11.67 10.776a.498.498 0 0 1-.298-.9c.049-.038 1.105-.855 1.076-2.428-.03-1.598-1.06-2.323-1.071-2.33a.5.5 0 1 1 .565-.825c.06.041 1.467 1.028 1.506 3.137.039 2.11-1.421 3.203-1.483 3.25a.492.492 0 0 1-.295.096"]], null, null, null, null, null))], null, null); }
function View_TranslateSegmentComponent_7(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 4, "i", [], null, [[null, "click"], [null, "mouseover"], [null, "mouseout"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.speakSample(0, "pause", true) !== false);
        ad = (pd_0 && ad);
    } if (("mouseover" === en)) {
        var pd_1 = (_co.tooltip(("speak-icon-source-" + _v.parent.parent.context.index), true) !== false);
        ad = (pd_1 && ad);
    } if (("mouseout" === en)) {
        var pd_2 = (_co.tooltip(("speak-icon-source-" + _v.parent.parent.context.index), false) !== false);
        ad = (pd_2 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 3, ":svg:svg", [["height", "14"], ["viewBox", "0 0 16 14"], ["width", "16"], ["xmlns", "http://www.w3.org/2000/svg"]], null, null, null, null, null)), (_l()(), i1.ɵeld(2, 0, null, null, 2, ":svg:g", [["fill", "#0970AC"], ["fill-rule", "evenodd"]], null, null, null, null, null)), (_l()(), i1.ɵeld(3, 0, null, null, 0, ":svg:path", [["d", "M9.49 0c-.238 0-.52.114-.82.354l-4.359 3.48H1.993A1.999 1.999 0 0 0 0 5.832v1.671a1.99 1.99 0 0 0 1.993 1.999H3.72l4.884 3.544c.303.22.584.323.825.323.482 0 .801-.413.801-1.15V1.117C10.23.396 9.933 0 9.49 0M13.399 11.24a.499.499 0 0 1-.326-.88c.018-.016 1.779-1.554 1.78-3.903.003-2.344-1.756-3.839-1.774-3.854a.5.5 0 0 1 .637-.77c.088.072 2.14 1.798 2.138 4.624-.002 2.823-2.045 4.591-2.132 4.664a.497.497 0 0 1-.323.12"]], null, null, null, null, null)), (_l()(), i1.ɵeld(4, 0, null, null, 0, ":svg:path", [["d", "M11.67 9.776a.498.498 0 0 1-.298-.9c.049-.038 1.105-.855 1.076-2.428-.03-1.598-1.06-2.323-1.071-2.33a.5.5 0 1 1 .565-.825c.06.041 1.467 1.028 1.506 3.137.039 2.11-1.421 3.203-1.483 3.25a.492.492 0 0 1-.295.096M1 5v3h3l5 5V1L5 5z"]], null, null, null, null, null))], null, null); }
function View_TranslateSegmentComponent_5(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 4, "a", [["class", "speak"]], [[8, "id", 0]], null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSegmentComponent_6)), i1.ɵdid(2, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSegmentComponent_7)), i1.ɵdid(4, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null)], function (_ck, _v) { var currVal_1 = !_v.parent.context.$implicit.play; _ck(_v, 2, 0, currVal_1); var currVal_2 = _v.parent.context.$implicit.play; _ck(_v, 4, 0, currVal_2); }, function (_ck, _v) { var currVal_0 = i1.ɵinlineInterpolate(1, "speak-icon-source-", _v.parent.context.index, ""); _ck(_v, 0, 0, currVal_0); }); }
function View_TranslateSegmentComponent_8(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "div", [["class", "sw-tooltip"]], [[1, "for", 0]], null, null, null, null)), (_l()(), i1.ɵted(1, null, [" ", " "])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = ("speak-icon-source-" + _v.parent.context.index); _ck(_v, 0, 0, currVal_0); var currVal_1 = i1.ɵunv(_v, 1, 0, i1.ɵnov(_v, 2).transform("play")); _ck(_v, 1, 0, currVal_1); }); }
function View_TranslateSegmentComponent_9(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "div", [["class", "sw-tooltip"]], [[1, "for", 0]], null, null, null, null)), (_l()(), i1.ɵted(1, null, [" ", " "])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = ("speak-icon-source-" + _v.parent.context.index); _ck(_v, 0, 0, currVal_0); var currVal_1 = i1.ɵunv(_v, 1, 0, i1.ɵnov(_v, 2).transform("pause")); _ck(_v, 1, 0, currVal_1); }); }
function View_TranslateSegmentComponent_3(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 19, "a", [["class", "mdl-button mdl-js-button mdl-button--raised rr-button switch-translate"]], [[8, "id", 0]], null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 3, "span", [["class", "added-sapmles-button source-header-button"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.selectSource(_v.context.index) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSegmentComponent_4)), i1.ɵdid(3, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵted(4, null, [" ", " "])), (_l()(), i1.ɵeld(5, 0, null, null, 5, "span", [["class", "added-sapmles-button"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.goToReversoContext(_v.context.$implicit.source) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵeld(6, 0, null, null, 4, "i", [["class", "edit-button-source"]], [[8, "id", 0]], [[null, "mouseover"], [null, "mouseout"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("mouseover" === en)) {
        var pd_0 = (_co.tooltip(("go-button-reverso-context-" + _v.context.index), true) !== false);
        ad = (pd_0 && ad);
    } if (("mouseout" === en)) {
        var pd_1 = (_co.tooltip(("go-button-reverso-context-" + _v.context.index), false) !== false);
        ad = (pd_1 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵeld(7, 0, null, null, 3, ":svg:svg", [["height", "18"], ["viewBox", "0 0 17 18"], ["width", "17"], ["xmlns", "http://www.w3.org/2000/svg"]], null, null, null, null, null)), (_l()(), i1.ɵeld(8, 0, null, null, 2, ":svg:g", [["fill", "none"], ["fill-rule", "evenodd"], ["stroke", "#9BBBCD"], ["transform", "translate(0 .771)"]], null, null, null, null, null)), (_l()(), i1.ɵeld(9, 0, null, null, 0, ":svg:circle", [["cx", "6.5"], ["cy", "6.5"], ["r", "5.75"], ["stroke-width", "1.5"]], null, null, null, null, null)), (_l()(), i1.ɵeld(10, 0, null, null, 0, ":svg:path", [["d", "M11 11l5 5"], ["stroke-linecap", "round"], ["stroke-width", "2"]], null, null, null, null, null)), (_l()(), i1.ɵeld(11, 0, null, null, 2, "div", [["class", "sw-tooltip"]], [[1, "for", 0]], null, null, null, null)), (_l()(), i1.ɵted(12, null, [" ", " "])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSegmentComponent_5)), i1.ɵdid(15, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSegmentComponent_8)), i1.ɵdid(17, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSegmentComponent_9)), i1.ɵdid(19, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null)], function (_ck, _v) { var _co = _v.component; var currVal_1 = _v.context.$implicit.dymApplied; _ck(_v, 3, 0, currVal_1); var currVal_6 = (_co.sourceLang.speakerName && (_co.sourceLang.speakerName.length > 0)); _ck(_v, 15, 0, currVal_6); var currVal_7 = !_v.context.$implicit.play; _ck(_v, 17, 0, currVal_7); var currVal_8 = _v.context.$implicit.play; _ck(_v, 19, 0, currVal_8); }, function (_ck, _v) { var currVal_0 = i1.ɵinlineInterpolate(1, "source-", _v.context.index, ""); _ck(_v, 0, 0, currVal_0); var currVal_2 = _v.context.$implicit.source; _ck(_v, 4, 0, currVal_2); var currVal_3 = i1.ɵinlineInterpolate(1, "go-button-reverso-context-", _v.context.index, ""); _ck(_v, 6, 0, currVal_3); var currVal_4 = ("go-button-reverso-context-" + _v.context.index); _ck(_v, 11, 0, currVal_4); var currVal_5 = i1.ɵunv(_v, 12, 0, i1.ɵnov(_v, 13).transform("translateReverso")); _ck(_v, 12, 0, currVal_5); }); }
function View_TranslateSegmentComponent_10(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 0, "div", [["class", "mdl-progress mdl-js-progress mdl-progress__indeterminate snippet-container-top-left"]], null, null, null, null, null))], null, null); }
function View_TranslateSegmentComponent_14(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "span", [["class", "isSlang-isRude"]], null, null, null, null, null)), i1.ɵdid(1, 278528, null, 0, i2.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), (_l()(), i1.ɵted(-1, null, ["!"]))], function (_ck, _v) { var currVal_0 = "isSlang-isRude"; var currVal_1 = (_v.parent.parent.context.$implicit.isRude ? "mdl-color-text--deep-orange-A400" : "mdl-color-text--amber-A400"); _ck(_v, 1, 0, currVal_0, currVal_1); }, null); }
function View_TranslateSegmentComponent_15(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 1, "span", [["class", "dictionary_entry_list"]], null, null, null, null, null)), (_l()(), i1.ɵted(1, null, ["[", "]"]))], null, function (_ck, _v) { var currVal_0 = _v.parent.parent.context.$implicit.pos; _ck(_v, 1, 0, currVal_0); }); }
function View_TranslateSegmentComponent_17(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 0, "i", [["class", "star-filled"]], null, [[null, "mouseover"], [null, "mouseout"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("mouseover" === en)) {
        var pd_0 = (_co.tooltip(("add-favorite-star-translation-" + _v.parent.parent.parent.context.index), true) !== false);
        ad = (pd_0 && ad);
    } if (("mouseout" === en)) {
        var pd_1 = (_co.tooltip(("add-favorite-star-translation-" + _v.parent.parent.parent.context.index), false) !== false);
        ad = (pd_1 && ad);
    } return ad; }, null, null))], null, null); }
function View_TranslateSegmentComponent_18(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 0, "i", [["class", "star-btn-norm"]], null, [[null, "mouseover"], [null, "mouseout"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("mouseover" === en)) {
        var pd_0 = (_co.tooltip(("add-favorite-star-translation-" + _v.parent.parent.parent.context.index), true) !== false);
        ad = (pd_0 && ad);
    } if (("mouseout" === en)) {
        var pd_1 = (_co.tooltip(("add-favorite-star-translation-" + _v.parent.parent.parent.context.index), false) !== false);
        ad = (pd_1 && ad);
    } return ad; }, null, null))], null, null); }
function View_TranslateSegmentComponent_16(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 4, "span", [["class", "addFavorit"]], [[8, "id", 0]], [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.addFavorite(_v.parent.parent.context.index, true) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSegmentComponent_17)), i1.ɵdid(2, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSegmentComponent_18)), i1.ɵdid(4, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null)], function (_ck, _v) { var currVal_1 = _v.parent.parent.context.$implicit.favoriteId; _ck(_v, 2, 0, currVal_1); var currVal_2 = !_v.parent.parent.context.$implicit.favoriteId; _ck(_v, 4, 0, currVal_2); }, function (_ck, _v) { var currVal_0 = i1.ɵinlineInterpolate(1, "add-favorite-star-translation-", _v.parent.parent.context.index, ""); _ck(_v, 0, 0, currVal_0); }); }
function View_TranslateSegmentComponent_19(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "div", [["class", "sw-tooltip white-space-pre-wrap"]], [[1, "for", 0]], null, null, null, null)), (_l()(), i1.ɵted(1, null, ["", ""])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = ("add-favorite-star-translation-" + _v.parent.parent.context.index); _ck(_v, 0, 0, currVal_0); var currVal_1 = i1.ɵunv(_v, 1, 0, i1.ɵnov(_v, 2).transform("deleteFavorites")); _ck(_v, 1, 0, currVal_1); }); }
function View_TranslateSegmentComponent_20(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "div", [["class", "sw-tooltip white-space-pre-wrap"]], [[1, "for", 0]], null, null, null, null)), (_l()(), i1.ɵted(1, null, ["", ""])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = ("add-favorite-star-translation-" + _v.parent.parent.context.index); _ck(_v, 0, 0, currVal_0); var currVal_1 = i1.ɵunv(_v, 1, 0, i1.ɵnov(_v, 2).transform("addFavotites")); _ck(_v, 1, 0, currVal_1); }); }
function View_TranslateSegmentComponent_13(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 21, "a", [["class", "mdl-button mdl-js-button mdl-button--raised rr-button switch-samples"]], [[8, "id", 0]], null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 3, "span", [["class", "added-sapmles-button translate-word"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.getSample(_v.parent.context.index) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSegmentComponent_14)), i1.ɵdid(3, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵted(4, null, [" ", " "])), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSegmentComponent_15)), i1.ɵdid(6, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSegmentComponent_16)), i1.ɵdid(8, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSegmentComponent_19)), i1.ɵdid(10, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSegmentComponent_20)), i1.ɵdid(12, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵeld(13, 0, null, null, 5, "span", [["class", "copy-translate-word"]], [[8, "id", 0]], [[null, "click"], [null, "mouseover"], [null, "mouseout"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.copyToClipboard(_v.parent.context.index) !== false);
        ad = (pd_0 && ad);
    } if (("mouseover" === en)) {
        var pd_1 = (_co.tooltip(("copy-translate-word-" + _v.parent.context.index), true) !== false);
        ad = (pd_1 && ad);
    } if (("mouseout" === en)) {
        var pd_2 = (_co.tooltip(("copy-translate-word-" + _v.parent.context.index), false) !== false);
        ad = (pd_2 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵeld(14, 0, null, null, 3, ":svg:svg", [["height", "15"], ["viewBox", "0 0 14 15"], ["width", "14"], ["xmlns", "http://www.w3.org/2000/svg"]], null, null, null, null, null)), (_l()(), i1.ɵeld(15, 0, null, null, 2, ":svg:g", [["fill", "#FFF"], ["fill-rule", "evenodd"]], null, null, null, null, null)), (_l()(), i1.ɵeld(16, 0, null, null, 0, ":svg:path", [["d", "M0 3h11v12H0V3zm1 1v10h9V4H1z"]], null, null, null, null, null)), (_l()(), i1.ɵeld(17, 0, null, null, 0, ":svg:path", [["d", "M2.025 10H9v1H2.025zM13 1h1v12h-1zM2 1V0h12v1zM2.025 8H9v1H2.025zM2.025 6H9v1H2.025z"]], null, null, null, null, null)), (_l()(), i1.ɵeld(18, 0, null, null, 0, "input", [["class", "copy-translate-word-input"], ["type", "text"]], [[8, "id", 0], [8, "value", 0]], null, null, null, null)), (_l()(), i1.ɵeld(19, 0, null, null, 2, "div", [["class", "sw-tooltip"]], [[1, "for", 0]], null, null, null, null)), (_l()(), i1.ɵted(20, null, [" ", ""])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef])], function (_ck, _v) { var _co = _v.component; var currVal_1 = (_v.parent.context.$implicit.isSlang || _v.parent.context.$implicit.isRude); _ck(_v, 3, 0, currVal_1); var currVal_3 = _v.parent.context.$implicit.pos; _ck(_v, 6, 0, currVal_3); var currVal_4 = !_co.configurations.isInjectScript; _ck(_v, 8, 0, currVal_4); var currVal_5 = _v.parent.context.$implicit.favoriteId; _ck(_v, 10, 0, currVal_5); var currVal_6 = !_v.parent.context.$implicit.favoriteId; _ck(_v, 12, 0, currVal_6); }, function (_ck, _v) { var currVal_0 = i1.ɵinlineInterpolate(1, "translation-", _v.parent.context.index, ""); _ck(_v, 0, 0, currVal_0); var currVal_2 = _v.parent.context.$implicit.translation; _ck(_v, 4, 0, currVal_2); var currVal_7 = i1.ɵinlineInterpolate(1, "copy-translate-word-", _v.parent.context.index, ""); _ck(_v, 13, 0, currVal_7); var currVal_8 = i1.ɵinlineInterpolate(1, "copy-translate-word-input-", _v.parent.context.index, ""); var currVal_9 = i1.ɵinlineInterpolate(1, "", _v.parent.context.$implicit.translation, ""); _ck(_v, 18, 0, currVal_8, currVal_9); var currVal_10 = ("copy-translate-word-" + _v.parent.context.index); _ck(_v, 19, 0, currVal_10); var currVal_11 = i1.ɵunv(_v, 20, 0, i1.ɵnov(_v, 21).transform("copy")); _ck(_v, 20, 0, currVal_11); }); }
function View_TranslateSegmentComponent_21(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 3, "a", [["class", "mdl-button mdl-js-button mdl-button--raised rr-button switch-samples"]], [[8, "id", 0]], [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.getSample(_v.parent.context.index) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 1, "span", [["class", "added-sapmles-button"]], null, null, null, null, null)), (_l()(), i1.ɵted(2, null, [" ", " "])), (_l()(), i1.ɵeld(3, 0, null, null, 0, "span", [], null, null, null, null, null))], null, function (_ck, _v) { var currVal_0 = i1.ɵinlineInterpolate(1, "translation-", _v.parent.context.index, ""); _ck(_v, 0, 0, currVal_0); var currVal_1 = _v.parent.context.$implicit.translation; _ck(_v, 2, 0, currVal_1); }); }
function View_TranslateSegmentComponent_12(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 4, "span", [], null, null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSegmentComponent_13)), i1.ɵdid(2, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSegmentComponent_21)), i1.ɵdid(4, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null)], function (_ck, _v) { var currVal_0 = ((_v.context.$implicit.translation.length != 0) && (_v.context.$implicit.translation != "...")); _ck(_v, 2, 0, currVal_0); var currVal_1 = ((_v.context.$implicit.translation.length != 0) && (_v.context.$implicit.translation == "...")); _ck(_v, 4, 0, currVal_1); }, null); }
function View_TranslateSegmentComponent_11(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 6, "header", [["class", "subheader-translate mdl-color--white"], ["id", "subheader-translate"]], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 0, "button", [["class", "mdl-button mdl-js-button mdl-button--colored header-arrow left scroll-left"]], null, null, null, null, null)), (_l()(), i1.ɵeld(2, 0, null, null, 3, "div", [["class", "header-contant"]], null, null, null, null, null)), (_l()(), i1.ɵeld(3, 0, null, null, 2, "div", [["class", "scroll-x"]], null, null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSegmentComponent_12)), i1.ɵdid(5, 802816, null, 0, i2.NgForOf, [i1.ViewContainerRef, i1.TemplateRef, i1.IterableDiffers], { ngForOf: [0, "ngForOf"] }, null), (_l()(), i1.ɵeld(6, 0, null, null, 0, "button", [["class", "mdl-button mdl-js-button mdl-button--colored header-arrow right scroll-right"]], null, null, null, null, null))], function (_ck, _v) { var _co = _v.component; var currVal_0 = _co.sources.translations; _ck(_v, 5, 0, currVal_0); }, null); }
function View_TranslateSegmentComponent_22(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 0, "header", [["class", "subheader-translate mdl-color--white text-center mdl-color-text--deep-orange-A400 text"], ["id", "error-msg"]], [[8, "innerHTML", 1]], null, null, null, null))], null, function (_ck, _v) { var _co = _v.component; var currVal_0 = _co.errorMessage; _ck(_v, 0, 0, currVal_0); }); }
function View_TranslateSegmentComponent_23(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "header", [["class", "subheader-translate mdl-color--white text-center mdl-color-text--grey-500 text"], ["id", "no-example-msg"]], null, null, null, null, null)), (_l()(), i1.ɵted(1, null, [" ", "\n"])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = i1.ɵunv(_v, 1, 0, i1.ɵnov(_v, 2).transform("noExample")); _ck(_v, 1, 0, currVal_0); }); }
function View_TranslateSegmentComponent_24(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "a", [["id", "TranslateTextWithReverso_button"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.goToTranslateWholeText() !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵted(1, null, [" ", "\n"])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = i1.ɵunv(_v, 1, 0, i1.ɵnov(_v, 2).transform("TranslateTextWithReverso")); _ck(_v, 1, 0, currVal_0); }); }
function View_TranslateSegmentComponent_27(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 3, "div", [["class", "items-context-subheader"]], null, null, null, null, null)), i1.ɵdid(1, 278528, null, 0, i2.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), (_l()(), i1.ɵted(2, null, [" ", " "])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef])], function (_ck, _v) { var currVal_0 = "items-context-subheader"; var currVal_1 = (_v.parent.context.$implicit["isGood"] ? "good-sample" : "bad-sample"); _ck(_v, 1, 0, currVal_0, currVal_1); }, function (_ck, _v) { var currVal_2 = i1.ɵunv(_v, 2, 0, i1.ɵnov(_v, 3).transform("otherResults")); _ck(_v, 2, 0, currVal_2); }); }
function View_TranslateSegmentComponent_29(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 4, "i", [], null, [[null, "click"], [null, "mouseover"], [null, "mouseout"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.speakSample(_v.parent.parent.context.index, "play") !== false);
        ad = (pd_0 && ad);
    } if (("mouseover" === en)) {
        var pd_1 = (_co.tooltip(("speak-icon-" + _v.parent.parent.context.index), true) !== false);
        ad = (pd_1 && ad);
    } if (("mouseout" === en)) {
        var pd_2 = (_co.tooltip(("speak-icon-" + _v.parent.parent.context.index), false) !== false);
        ad = (pd_2 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 3, ":svg:svg", [["height", "16"], ["viewBox", "0 0 16 16"], ["width", "16"], ["xmlns", "http://www.w3.org/2000/svg"]], null, null, null, null, null)), (_l()(), i1.ɵeld(2, 0, null, null, 2, ":svg:g", [["fill", "#0970AC"], ["fill-rule", "evenodd"]], null, null, null, null, null)), (_l()(), i1.ɵeld(3, 0, null, null, 0, ":svg:path", [["d", "M9.49 1c.443 0 .74.396.74 1.117v11.102c0 .737-.32 1.15-.802 1.15-.24 0-.522-.103-.825-.323L3.72 10.502H1.993A1.99 1.99 0 0 1 0 8.503V6.832c0-1.103.897-1.998 1.993-1.998h2.318l4.36-3.48c.3-.24.581-.354.82-.354zm-.26 1.188L4.934 5.614l-.273.218H1.993a.997.997 0 0 0-.993 1v1.67c0 .56.437.998.994.998h2.051l.263.192 4.883 3.543.037.027c.002-.014.002-.028.002-.044V2.188zM13.399 12.24a.499.499 0 0 1-.326-.88c.018-.016 1.779-1.554 1.78-3.903.003-2.344-1.756-3.839-1.774-3.854a.5.5 0 0 1 .637-.77c.088.072 2.14 1.798 2.138 4.624-.002 2.823-2.045 4.591-2.132 4.664a.497.497 0 0 1-.323.12"]], null, null, null, null, null)), (_l()(), i1.ɵeld(4, 0, null, null, 0, ":svg:path", [["d", "M11.67 10.776a.498.498 0 0 1-.298-.9c.049-.038 1.105-.855 1.076-2.428-.03-1.598-1.06-2.323-1.071-2.33a.5.5 0 1 1 .565-.825c.06.041 1.467 1.028 1.506 3.137.039 2.11-1.421 3.203-1.483 3.25a.492.492 0 0 1-.295.096"]], null, null, null, null, null))], null, null); }
function View_TranslateSegmentComponent_30(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 4, "i", [], null, [[null, "click"], [null, "mouseover"], [null, "mouseout"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.speakSample(_v.parent.parent.context.index, "pause") !== false);
        ad = (pd_0 && ad);
    } if (("mouseover" === en)) {
        var pd_1 = (_co.tooltip(("speak-icon-" + _v.parent.parent.context.index), true) !== false);
        ad = (pd_1 && ad);
    } if (("mouseout" === en)) {
        var pd_2 = (_co.tooltip(("speak-icon-" + _v.parent.parent.context.index), false) !== false);
        ad = (pd_2 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 3, ":svg:svg", [["height", "14"], ["viewBox", "0 0 16 14"], ["width", "16"], ["xmlns", "http://www.w3.org/2000/svg"]], null, null, null, null, null)), (_l()(), i1.ɵeld(2, 0, null, null, 2, ":svg:g", [["fill", "#0970AC"], ["fill-rule", "evenodd"]], null, null, null, null, null)), (_l()(), i1.ɵeld(3, 0, null, null, 0, ":svg:path", [["d", "M9.49 0c-.238 0-.52.114-.82.354l-4.359 3.48H1.993A1.999 1.999 0 0 0 0 5.832v1.671a1.99 1.99 0 0 0 1.993 1.999H3.72l4.884 3.544c.303.22.584.323.825.323.482 0 .801-.413.801-1.15V1.117C10.23.396 9.933 0 9.49 0M13.399 11.24a.499.499 0 0 1-.326-.88c.018-.016 1.779-1.554 1.78-3.903.003-2.344-1.756-3.839-1.774-3.854a.5.5 0 0 1 .637-.77c.088.072 2.14 1.798 2.138 4.624-.002 2.823-2.045 4.591-2.132 4.664a.497.497 0 0 1-.323.12"]], null, null, null, null, null)), (_l()(), i1.ɵeld(4, 0, null, null, 0, ":svg:path", [["d", "M11.67 9.776a.498.498 0 0 1-.298-.9c.049-.038 1.105-.855 1.076-2.428-.03-1.598-1.06-2.323-1.071-2.33a.5.5 0 1 1 .565-.825c.06.041 1.467 1.028 1.506 3.137.039 2.11-1.421 3.203-1.483 3.25a.492.492 0 0 1-.295.096M1 5v3h3l5 5V1L5 5z"]], null, null, null, null, null))], null, null); }
function View_TranslateSegmentComponent_28(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 4, "a", [["class", "speak"]], [[8, "id", 0]], null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSegmentComponent_29)), i1.ɵdid(2, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSegmentComponent_30)), i1.ɵdid(4, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null)], function (_ck, _v) { var currVal_1 = !_v.parent.context.$implicit.play; _ck(_v, 2, 0, currVal_1); var currVal_2 = _v.parent.context.$implicit.play; _ck(_v, 4, 0, currVal_2); }, function (_ck, _v) { var currVal_0 = i1.ɵinlineInterpolate(1, "speak-icon-", _v.parent.context.index, ""); _ck(_v, 0, 0, currVal_0); }); }
function View_TranslateSegmentComponent_31(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "div", [["class", "sw-tooltip"]], [[1, "for", 0]], null, null, null, null)), (_l()(), i1.ɵted(1, null, [" ", " "])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = ("speak-icon-" + _v.parent.context.index); _ck(_v, 0, 0, currVal_0); var currVal_1 = i1.ɵunv(_v, 1, 0, i1.ɵnov(_v, 2).transform("play")); _ck(_v, 1, 0, currVal_1); }); }
function View_TranslateSegmentComponent_32(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "div", [["class", "sw-tooltip"]], [[1, "for", 0]], null, null, null, null)), (_l()(), i1.ɵted(1, null, [" ", " "])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = ("speak-icon-" + _v.parent.context.index); _ck(_v, 0, 0, currVal_0); var currVal_1 = i1.ɵunv(_v, 1, 0, i1.ɵnov(_v, 2).transform("pause")); _ck(_v, 1, 0, currVal_1); }); }
function View_TranslateSegmentComponent_34(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 0, "i", [["class", "star-filled"]], null, [[null, "mouseover"], [null, "mouseout"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("mouseover" === en)) {
        var pd_0 = (_co.tooltip(("add-favorite-star-" + _v.parent.parent.context.index), true) !== false);
        ad = (pd_0 && ad);
    } if (("mouseout" === en)) {
        var pd_1 = (_co.tooltip(("add-favorite-star-" + _v.parent.parent.context.index), false) !== false);
        ad = (pd_1 && ad);
    } return ad; }, null, null))], null, null); }
function View_TranslateSegmentComponent_35(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 0, "i", [["class", "star-btn-norm"]], null, [[null, "mouseover"], [null, "mouseout"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("mouseover" === en)) {
        var pd_0 = (_co.tooltip(("add-favorite-star-" + _v.parent.parent.context.index), true) !== false);
        ad = (pd_0 && ad);
    } if (("mouseout" === en)) {
        var pd_1 = (_co.tooltip(("add-favorite-star-" + _v.parent.parent.context.index), false) !== false);
        ad = (pd_1 && ad);
    } return ad; }, null, null))], null, null); }
function View_TranslateSegmentComponent_33(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 4, "a", [["class", "addFavorit"]], [[8, "id", 0]], [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.addFavorite(_v.parent.context.index) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSegmentComponent_34)), i1.ɵdid(2, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSegmentComponent_35)), i1.ɵdid(4, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null)], function (_ck, _v) { var currVal_1 = _v.parent.context.$implicit.favoriteId; _ck(_v, 2, 0, currVal_1); var currVal_2 = !_v.parent.context.$implicit.favoriteId; _ck(_v, 4, 0, currVal_2); }, function (_ck, _v) { var currVal_0 = i1.ɵinlineInterpolate(1, "add-favorite-star-", _v.parent.context.index, ""); _ck(_v, 0, 0, currVal_0); }); }
function View_TranslateSegmentComponent_36(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "div", [["class", "sw-tooltip white-space-pre-wrap"]], [[1, "for", 0]], null, null, null, null)), (_l()(), i1.ɵted(1, null, ["", ""])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = ("add-favorite-star-" + _v.parent.context.index); _ck(_v, 0, 0, currVal_0); var currVal_1 = i1.ɵunv(_v, 1, 0, i1.ɵnov(_v, 2).transform("deleteFavorites")); _ck(_v, 1, 0, currVal_1); }); }
function View_TranslateSegmentComponent_37(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "div", [["class", "sw-tooltip white-space-pre-wrap"]], [[1, "for", 0]], null, null, null, null)), (_l()(), i1.ɵted(1, null, ["", ""])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = ("add-favorite-star-" + _v.parent.context.index); _ck(_v, 0, 0, currVal_0); var currVal_1 = i1.ɵunv(_v, 1, 0, i1.ɵnov(_v, 2).transform("addFavotites")); _ck(_v, 1, 0, currVal_1); }); }
function View_TranslateSegmentComponent_26(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 25, "li", [["class", "items-context mdl-color--white"]], null, null, null, null, null)), i1.ɵdid(1, 278528, null, 0, i2.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSegmentComponent_27)), i1.ɵdid(3, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵeld(4, 0, null, null, 1, "span", [["class", "context-source"]], [[8, "innerHTML", 1]], null, null, null, null)), i1.ɵdid(5, 278528, null, 0, i2.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), (_l()(), i1.ɵeld(6, 0, null, null, 4, "i", [["class", "material-icons arrow-target light-blure-text"]], null, null, null, null, null)), (_l()(), i1.ɵeld(7, 0, null, null, 3, ":svg:svg", [["height", "12"], ["viewBox", "0 0 13 12"], ["width", "13"], ["xmlns", "http://www.w3.org/2000/svg"]], null, null, null, null, null)), (_l()(), i1.ɵeld(8, 0, null, null, 2, ":svg:g", [["fill", "#32485F"], ["fill-rule", "evenodd"]], null, null, null, null, null)), (_l()(), i1.ɵeld(9, 0, null, null, 0, ":svg:path", [["d", "M0 0h1v8H0zM8 8v1H0V8z"]], null, null, null, null, null)), (_l()(), i1.ɵeld(10, 0, null, null, 0, ":svg:path", [["d", "M12.043 8.5l-4.956 2.587-.087-5z"]], null, null, null, null, null)), (_l()(), i1.ɵeld(11, 0, null, null, 1, "span", [["class", "context-target"]], [[8, "innerHTML", 1]], null, null, null, null)), i1.ɵdid(12, 278528, null, 0, i2.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), (_l()(), i1.ɵeld(13, 0, null, null, 12, "span", [["class", "sub-button-right"]], null, null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSegmentComponent_28)), i1.ɵdid(15, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSegmentComponent_31)), i1.ɵdid(17, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSegmentComponent_32)), i1.ɵdid(19, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSegmentComponent_33)), i1.ɵdid(21, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSegmentComponent_36)), i1.ɵdid(23, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSegmentComponent_37)), i1.ɵdid(25, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null)], function (_ck, _v) { var _co = _v.component; var currVal_0 = "items-context mdl-color--white"; var currVal_1 = ((!_co.contexts.contexts[(_v.context.index - 1)] || (_co.contexts.contexts[(_v.context.index - 1)] && (_v.context.$implicit["isGood"] != _co.contexts.contexts[(_v.context.index - 1)]["isGood"]))) ? (_v.context.$implicit["isGood"] ? "good-sample" : "bad-sample") : ""); _ck(_v, 1, 0, currVal_0, currVal_1); var currVal_2 = (!_co.contexts.contexts[(_v.context.index - 1)] || (_co.contexts.contexts[(_v.context.index - 1)] && (_v.context.$implicit["isGood"] != _co.contexts.contexts[(_v.context.index - 1)]["isGood"]))); _ck(_v, 3, 0, currVal_2); var currVal_4 = "context-source"; var currVal_5 = (!_co.targetLang.srcLtr ? "ltr text-right" : ""); _ck(_v, 5, 0, currVal_4, currVal_5); var currVal_7 = "context-target"; var currVal_8 = (!_co.targetLang.trgLtr ? "ltr text-right" : ""); _ck(_v, 12, 0, currVal_7, currVal_8); var currVal_9 = (_co.sourceLang.speakerName && (_co.sourceLang.speakerName.length > 0)); _ck(_v, 15, 0, currVal_9); var currVal_10 = !_v.context.$implicit.play; _ck(_v, 17, 0, currVal_10); var currVal_11 = _v.context.$implicit.play; _ck(_v, 19, 0, currVal_11); var currVal_12 = !_co.configurations.isInjectScript; _ck(_v, 21, 0, currVal_12); var currVal_13 = _v.context.$implicit.favoriteId; _ck(_v, 23, 0, currVal_13); var currVal_14 = !_v.context.$implicit.favoriteId; _ck(_v, 25, 0, currVal_14); }, function (_ck, _v) { var currVal_3 = _v.context.$implicit.source; _ck(_v, 4, 0, currVal_3); var currVal_6 = _v.context.$implicit.target; _ck(_v, 11, 0, currVal_6); }); }
function View_TranslateSegmentComponent_25(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 4, "main", [["class", "body-app body-iframe"], ["id", "main"]], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 3, "ul", [["class", "list-context translate-list"], ["id", "translate-list"]], null, null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 2, null, View_TranslateSegmentComponent_26)), i1.ɵdid(3, 802816, null, 0, i2.NgForOf, [i1.ViewContainerRef, i1.TemplateRef, i1.IterableDiffers], { ngForOf: [0, "ngForOf"] }, null), i1.ɵppd(4, 3)], function (_ck, _v) { var _co = _v.component; var currVal_0 = i1.ɵunv(_v, 3, 0, _ck(_v, 4, 0, i1.ɵnov(_v.parent, 0), _co.contexts.contexts, "isGood", "desc")); _ck(_v, 3, 0, currVal_0); }, null); }
function View_TranslateSegmentComponent_38(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "span", [], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.setMiniViewIframe() !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 1, ":svg:svg", [["height", "11"], ["viewBox", "0 0 6 11"], ["width", "6"], ["xmlns", "http://www.w3.org/2000/svg"]], null, null, null, null, null)), (_l()(), i1.ɵeld(2, 0, null, null, 0, ":svg:path", [["d", "M.333 1.114L5.667 5.78.333 10.447"], ["fill", "none"], ["fill-rule", "evenodd"], ["stroke", "#FFF"], ["stroke-linecap", "round"], ["stroke-width", "2"]], null, null, null, null, null))], null, null); }
function View_TranslateSegmentComponent_0(_l) { return i1.ɵvid(0, [i1.ɵpid(0, i4.ArraySortPipe, []), (_l()(), i1.ɵeld(1, 0, null, null, 16, "div", [["class", "select-lang w-15 text-right"]], null, null, null, null, null)), (_l()(), i1.ɵeld(2, 0, null, null, 1, "button", [["class", "mdl-menu-no-click mdl-button mdl-js-button mdl-button--colored go-edit mdl-color-text--white mdl-menu-button capitalize select_lang_source-button"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        _co.mdMenu.show("select_lang_source");
        (_co.isMobile ? _co.setNormalViewIframe(256) : _co.setMiniViewIframe());
        _co.mdMenu.show("background-for-lang");
        var pd_0 = (_co.highlightButtonLang("select_lang_source-button") !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵted(3, null, [" ", " "])), (_l()(), i1.ɵeld(4, 0, null, null, 2, "ul", [["class", "mdl-menu mdl-menu--bottom-right hide mdl-menu-no-click mdl-menu-no-click-my"], ["id", "select_lang_source"]], null, null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSegmentComponent_1)), i1.ɵdid(6, 802816, null, 0, i2.NgForOf, [i1.ViewContainerRef, i1.TemplateRef, i1.IterableDiffers], { ngForOf: [0, "ngForOf"] }, null), (_l()(), i1.ɵeld(7, 0, null, null, 4, "div", [["class", "lang_revers text-center inline-block"]], null, null, null, null, null)), (_l()(), i1.ɵeld(8, 0, null, null, 3, "button", [["class", "mdl-button mdl-js-button mdl-button--icon mdl-color-text--white revers-lang-button"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.reversLang() !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵeld(9, 0, null, null, 2, ":svg:svg", [["height", "10"], ["viewBox", "0 0 10 10"], ["width", "10"], ["xmlns", "http://www.w3.org/2000/svg"]], null, null, null, null, null)), (_l()(), i1.ɵeld(10, 0, null, null, 1, ":svg:g", [["fill", "#FFF"], ["fill-rule", "evenodd"]], null, null, null, null, null)), (_l()(), i1.ɵeld(11, 0, null, null, 0, ":svg:path", [["d", "M1.84 5.713C.166 4.235.151 3.27.02 3c-.095.992.106 2.624 1.074 3.834.68.849 1.998 1.714 3.072 1.9-.073.42-.131.974-.141 1.248C5.42 10.165 8 8.898 8 8.898S6.172 6.003 4.43 5c-.033.29.019 1.736 0 2.162-.812-.256-1.947-.88-2.59-1.449zM8.173 4.287C9.835 5.765 9.85 6.73 9.98 7c.095-.992-.105-2.624-1.067-3.834-.674-.848-1.984-1.714-3.05-1.899.072-.42.13-.975.14-1.248C4.617-.165 2 1.07 2 1.07S3.87 3.997 5.6 5c.034-.289-.018-1.736 0-2.162.807.256 1.934.88 2.573 1.449z"]], null, null, null, null, null)), (_l()(), i1.ɵeld(12, 0, null, null, 1, "button", [["class", "mdl-menu-no-click mdl-button mdl-js-button mdl-button--colored go-edit mdl-color-text--white mdl-menu-button capitalize select_lang_target-button"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        _co.mdMenu.show("select_lang_target");
        (_co.isMobile ? _co.setNormalViewIframe(256) : _co.setMiniViewIframe());
        _co.mdMenu.show("background-for-lang");
        var pd_0 = (_co.highlightButtonLang("select_lang_target-button") !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵted(13, null, [" ", " "])), (_l()(), i1.ɵeld(14, 0, null, null, 2, "ul", [["class", "mdl-menu mdl-menu--bottom-right hide mdl-menu-no-click mdl-menu-no-click-my"], ["id", "select_lang_target"]], null, null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSegmentComponent_2)), i1.ɵdid(16, 802816, null, 0, i2.NgForOf, [i1.ViewContainerRef, i1.TemplateRef, i1.IterableDiffers], { ngForOf: [0, "ngForOf"] }, null), (_l()(), i1.ɵeld(17, 0, null, null, 0, "span", [["class", "mdl-menu mdl-menu-no-click"], ["id", "background-for-lang"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.mdMenu.hide() !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵeld(18, 0, null, null, 6, "header", [["class", "header-translate w-80"], ["id", "header-translate"]], null, null, null, null, null)), (_l()(), i1.ɵeld(19, 0, null, null, 0, "button", [["class", "mdl-button mdl-js-button mdl-button--colored header-arrow left scroll-left mdl-color-text--grey-100"]], null, null, null, null, null)), (_l()(), i1.ɵeld(20, 0, null, null, 3, "div", [["class", "header-contant"]], null, null, null, null, null)), (_l()(), i1.ɵeld(21, 0, null, null, 2, "div", [["class", "scroll-x"]], null, null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSegmentComponent_3)), i1.ɵdid(23, 802816, null, 0, i2.NgForOf, [i1.ViewContainerRef, i1.TemplateRef, i1.IterableDiffers], { ngForOf: [0, "ngForOf"] }, null), (_l()(), i1.ɵeld(24, 0, null, null, 0, "button", [["class", "mdl-button mdl-js-button mdl-button--colored header-arrow right scroll-right mdl-color-text--grey-100"]], null, null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSegmentComponent_10)), i1.ɵdid(26, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSegmentComponent_11)), i1.ɵdid(28, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSegmentComponent_22)), i1.ɵdid(30, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSegmentComponent_23)), i1.ɵdid(32, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSegmentComponent_24)), i1.ɵdid(34, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSegmentComponent_25)), i1.ɵdid(36, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵeld(37, 0, null, null, 3, "span", [["id", "switch-mini-view"]], null, null, null, null, null)), i1.ɵdid(38, 278528, null, 0, i2.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { ngClass: [0, "ngClass"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSegmentComponent_38)), i1.ɵdid(40, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵeld(41, 0, null, null, 11, "footer", [["class", "mdl-mini-footer"]], null, null, null, null, null)), i1.ɵdid(42, 278528, null, 0, i2.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), (_l()(), i1.ɵeld(43, 0, null, null, 9, "div", [["class", "mdl-mini-footer__left-section"]], null, null, null, null, null)), (_l()(), i1.ɵeld(44, 0, null, null, 8, "ul", [["class", "mdl-mini-footer__link-list"]], null, null, null, null, null)), (_l()(), i1.ɵeld(45, 0, null, null, 7, "li", [["class", "copyright-item"]], null, null, null, null, null)), (_l()(), i1.ɵeld(46, 0, null, null, 2, "div", [["class", "circle-indicator"]], null, null, null, null, null)), i1.ɵdid(47, 278528, null, 0, i2.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), i1.ɵpod(48, { active: 0 }), (_l()(), i1.ɵted(49, null, [" ", " \u00A9 "])), (_l()(), i1.ɵeld(50, 0, null, null, 1, "a", [["target", "_blank"]], [[8, "href", 4]], null, null, null, null)), (_l()(), i1.ɵted(-1, null, [" Reverso "])), (_l()(), i1.ɵted(52, null, [" v", " "]))], function (_ck, _v) { var _co = _v.component; var currVal_1 = _co.directions.directions; _ck(_v, 6, 0, currVal_1); var currVal_3 = _co.sourceLang.targets; _ck(_v, 16, 0, currVal_3); var currVal_4 = _co.allSources; _ck(_v, 23, 0, currVal_4); var currVal_5 = (_co.isTranslate == true); _ck(_v, 26, 0, currVal_5); var currVal_6 = (((!_co.error && (_co.sources.translations.length > 0)) && (_co.sources.translations[0].translation != "...")) && (_co.sources.translations[0].translation != "")); _ck(_v, 28, 0, currVal_6); var currVal_7 = _co.error; _ck(_v, 30, 0, currVal_7); var currVal_8 = ((((_co.sources.translations.length > 0) && (_co.contexts.contexts.length < 1)) && !_co.isTranslate) && !_co.error); _ck(_v, 32, 0, currVal_8); var currVal_9 = (((_co.server_response && !_co.isTranslate) && (_co.params.countWord > 2)) && (((_co.sources.translations.length === 0) || (_co.sources.translations[0].translation === "...")) || (_co.sources.translations[0].translation === ""))); _ck(_v, 34, 0, currVal_9); var currVal_10 = (_co.contexts.contexts.length > 0); _ck(_v, 36, 0, currVal_10); var currVal_11 = (_co.params.miniView ? "hide" : ""); _ck(_v, 38, 0, currVal_11); var currVal_12 = ((((_co.sources.translations.length > 0) && (_co.sources.translations[0].translation != "...")) && (_co.sources.translations[0].translation != "")) && ((_co.contexts.contexts && _co.contexts.contexts[0]) && _co.contexts.contexts[0]["isGood"])); _ck(_v, 40, 0, currVal_12); var currVal_13 = "mdl-mini-footer"; var currVal_14 = (_co.params.miniView ? "hide" : ""); _ck(_v, 42, 0, currVal_13, currVal_14); var currVal_15 = "circle-indicator"; var currVal_16 = _ck(_v, 48, 0, _co.isAuth); _ck(_v, 47, 0, currVal_15, currVal_16); }, function (_ck, _v) { var _co = _v.component; var currVal_0 = _co.sourceLang.id; _ck(_v, 3, 0, currVal_0); var currVal_2 = _co.targetLang.id; _ck(_v, 13, 0, currVal_2); var currVal_17 = _co.configurations.currentYear; _ck(_v, 49, 0, currVal_17); var currVal_18 = i1.ɵinlineInterpolate(1, "", _co.configurations.links.context, ""); _ck(_v, 50, 0, currVal_18); var currVal_19 = _co.configurations.version; _ck(_v, 52, 0, currVal_19); }); }
exports.View_TranslateSegmentComponent_0 = View_TranslateSegmentComponent_0;
function View_TranslateSegmentComponent_Host_0(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 5, "translate-segment-page", [], null, null, null, View_TranslateSegmentComponent_0, RenderType_TranslateSegmentComponent)), i1.ɵprd(512, null, i5.ProfileService, i5.ProfileService, [i6.Api]), i1.ɵprd(512, null, i7.HistoryStorage, i7.HistoryStorage, []), i1.ɵprd(512, null, i8.TranslService, i8.TranslService, [i6.Api, i5.ProfileService, i7.HistoryStorage]), i1.ɵprd(512, null, i9.SettingsStorage, i9.SettingsStorage, []), i1.ɵdid(5, 245760, null, 0, i10.TranslateSegmentComponent, [i11.Router, i11.ActivatedRoute, i5.ProfileService, i8.TranslService, i9.SettingsStorage, i7.HistoryStorage], null, null)], function (_ck, _v) { _ck(_v, 5, 0); }, null); }
exports.View_TranslateSegmentComponent_Host_0 = View_TranslateSegmentComponent_Host_0;
var TranslateSegmentComponentNgFactory = i1.ɵccf("translate-segment-page", i10.TranslateSegmentComponent, View_TranslateSegmentComponent_Host_0, {}, {}, []);
exports.TranslateSegmentComponentNgFactory = TranslateSegmentComponentNgFactory;


/***/ }),

/***/ "./src/app/pages/translate-segment/translate-segment.page.ts":
/*!*******************************************************************!*\
  !*** ./src/app/pages/translate-segment/translate-segment.page.ts ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var core_1 = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var router_1 = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
// Add the RxJS Observable operators we need in this app.
__webpack_require__(/*! ./../../rxjs-operators */ "./src/app/rxjs-operators.ts");
var main_func_1 = __webpack_require__(/*! ../../functions/main.func */ "./src/app/functions/main.func.ts");
var config_1 = __webpack_require__(/*! ../../config */ "./src/app/config.ts");
var settings_storage_1 = __webpack_require__(/*! ../../storage/settings.storage */ "./src/app/storage/settings.storage.ts");
var history_storage_1 = __webpack_require__(/*! ../../storage/history.storage */ "./src/app/storage/history.storage.ts");
var profile_service_1 = __webpack_require__(/*! ../../services/profile.service */ "./src/app/services/profile.service.ts");
var profile_local_1 = __webpack_require__(/*! ../../services/profile.local */ "./src/app/services/profile.local.ts"); // , SAVE_PAGE_PROMOTION
var translate_service_1 = __webpack_require__(/*! ../../services/translate.service */ "./src/app/services/translate.service.ts");
var language_extras_1 = __webpack_require__(/*! ../../extras/language.extras */ "./src/app/extras/language.extras.ts");
var favorites_service_1 = __webpack_require__(/*! ../../services/favorites.service */ "./src/app/services/favorites.service.ts");
var TranslateSegmentComponent = /** @class */ (function () {
    function TranslateSegmentComponent(router, route, profileService, translateService, settingsStorage, historyStorage) {
        this.router = router;
        this.route = route;
        this.profileService = profileService;
        this.translateService = translateService;
        this.settingsStorage = settingsStorage;
        this.historyStorage = historyStorage;
        this.error = false;
        this.errorMessage = '';
        this.isTranslate = false;
        this.isIframe = true;
        this.translateSite = false;
        this.textTranslate = '';
        this.sources = {
            count: 0,
            displaySource: '',
            source: '',
            translations: [],
            weight: 0
        };
        this.configurations = config_1.configurations;
        this.tooltip = main_func_1.tooltip;
        this.contexts = { contexts: [] };
        this.directions = {
            directions: []
        };
        this.sourceLang = {
            id: '',
            name: '',
            targets: [{ id: 0 }],
            speakerName: ''
        };
        this.targetLang = {
            id: '',
            name: '',
            speakerName: '',
            srcLtr: true,
            trgLtr: true
        };
        this.settingTranslateSegment = true;
        this.sourceLength = 0;
        this.sourceWeight = -1;
        // Main Functions
        this.mdMenu = main_func_1.mdMenu;
        this.isMobile = main_func_1.isMobile();
        this.isAuth = false;
        this.isExtension = config_1.configurations.isExtension;
        this.params = {
            word: this.route.params['value']['word'] || '',
            arrayWords: this.route.params['value']['arrayWords'] || [],
            sentence: this.route.params['value']['sentence'] || '',
            sentenceForLang: this.route.params['value']['sentenceForLang'] || '',
            position: this.route.params['value']['position'] || -1,
            countWord: this.route.params['value']['countWord'] || 1,
            siteTitle: this.route.params['value']['siteTitle'] || '',
            siteOrigin: this.route.params['value']['siteOrigin'] || '',
            siteHref: this.route.params['value']['siteHref'] || 'Local file',
            lang_source: this.route.params['value']['lang'] || '',
            lang_target: this.route.params['value']['langTarget'] || '',
            miniView: this.route.params['value']['miniView'] || false,
            reversoPage: this.route.params['value']['reversoPage'] || false,
            checkSavePagePromotion: this.route.params['value']['checkSavePagePromotion'] === 'true',
            wholeTextforReverso: this.route.params['value']['wholeTextforReverso'] ? this.route.params['value']['wholeTextforReverso'].trim() : '',
        };
        if (typeof (this.params['miniView']) !== 'boolean') {
            this.params['miniView'] = this.params['miniView'] === 'true' ? true : false;
        }
        // Для нормальной работы с высотой
        if (document.querySelector('main.mdl-layout__content')) {
            document.querySelector('main.mdl-layout__content')['style'].overflowY = 'hidden';
        }
        if (document.querySelector('#title-page')) {
            document.querySelector('#title-page').innerHTML = '';
        }
    }
    // Выставить язык сурса
    TranslateSegmentComponent.prototype.selectLangSource = function (id, goTranslate) {
        var _this = this;
        if (goTranslate === void 0) { goTranslate = true; }
        // Получаем язык с базы сурс СТАРЫЙ!
        this.settingsStorage.getRow('lang_source').then(function (lang_source) {
            _this.languageExtras.oldSourceLang = lang_source != null ? lang_source :
                config_1.configurations.appLang === 'en' ? 'fr' : 'en';
        }, function (error) {
            _this.languageExtras.oldSourceLang = config_1.configurations.appLang === 'en' ? 'fr' : 'en';
        });
        this.mdMenu.hide();
        this.languageExtras.selectLangSource(id).then(function (res) {
            _this.sourceLang = res;
            try {
                window.parent['postMessage']('setLangSource:' + id, '*');
            }
            catch (error) {
            }
            // Получаем язык с базы таргет
            _this.settingsStorage.getRow('lang_target').then(function (lang_target) {
                lang_target = lang_target != null ? lang_target : config_1.configurations.appLang;
                _this.languageExtras.selectLangTarget(lang_target).then(function (result) {
                    _this.targetLang = result;
                    // Запускаем перевод
                    if (goTranslate && _this.textTranslate.trim().length > 0) {
                        // Перевод слова и сегмента
                        _this.textTranslate = _this.params['word'] ? _this.params['word'].toString() : _this.textTranslate;
                        if (_this.params['countWord'] && parseInt(_this.params['countWord'], 10) === 1) {
                            _this.translateFull();
                        }
                        else {
                            _this.translateSimple();
                        }
                    }
                });
            }, function (error) {
                console.error(error);
            });
        }, function (error) {
            console.error(error);
        });
    };
    // Выставить язык таргета
    TranslateSegmentComponent.prototype.selectLangTarget = function (id, goTranslate) {
        var _this = this;
        if (goTranslate === void 0) { goTranslate = true; }
        this.mdMenu.hide();
        if (!this.isExtension) {
            try {
                window.parent['postMessage']('setLangTarget:' + id, '*');
            }
            catch (error) {
            }
        }
        this.languageExtras.selectLangTarget(id).then(function (res) {
            _this.targetLang = res;
            // Запускаем перевод
            if (goTranslate && _this.textTranslate.trim().length > 0) {
                // Перевод слова и сегмента
                if (_this.params['countWord'] && parseInt(_this.params['countWord'], 10) === 1) {
                    _this.textTranslate = _this.params['word'] ? _this.params['word'].toString() : _this.textTranslate;
                    _this.translateFull();
                }
                else {
                    _this.translateSimple();
                }
            }
        }, function (error) {
            console.error(error);
        });
    };
    // Реверс языков
    TranslateSegmentComponent.prototype.reversLang = function (goTranslate) {
        var _this = this;
        if (goTranslate === void 0) { goTranslate = true; }
        this.languageExtras.reversLang().then(function (res) {
            _this.sourceLang = res['sourceLang'];
            _this.targetLang = res['targetLang'];
            try {
                window.parent['postMessage']('setLangSource:' + _this.sourceLang['id'], '*');
            }
            catch (error) {
            }
            // Запускаем перевод
            if (goTranslate && _this.textTranslate.trim().length > 0) {
                // Перевод слова и сегмента
                if (_this.params['countWord'] && parseInt(_this.params['countWord'], 10) === 1) {
                    _this.textTranslate = _this.params['word'] ? _this.params['word'].toString() : _this.textTranslate;
                    _this.translateFull();
                }
                else {
                    _this.translateSimple();
                }
            }
        }, function (error) {
            console.error(error);
        });
    };
    TranslateSegmentComponent.prototype.goTranslateSimple = function () {
        var _this = this;
        // fix jump translation buttom
        if (document.querySelector('#header-translate .scroll-x')) {
            document.querySelector('#header-translate .scroll-x')['style'].width = '9999px';
        }
        this.allSources = [];
        this.allSources.push({
            source: this.textTranslate,
            displaySource: this.textTranslate,
            count: 0,
            translations: [],
            weight: 0
        });
        // Обрываем все старые запросы
        if (this.translateService.httpSubscription && typeof this.translateService.httpSubscription.unsubscribe !== 'undefined') {
            this.translateService.httpSubscription.unsubscribe();
        }
        // Отправляем на перевод
        this.translateService.translateSimple({
            wordPos: this.params['position'],
            source: this.textTranslate,
            lang_source: this.sourceLang.id,
            lang_target: this.targetLang.id,
            pageUrl: this.params['siteHref'],
            pageTitle: this.params['siteTitle'],
            reversoPage: this.params['reversoPage']
        }).then(function (res) {
            _this.server_response = { 'word': res };
            _this.isTranslate = false;
            if (res.sources && res.sources.length > 0 && res.sources[0]['translations'].length > 0) {
                if (res.sources[0].directionFrom && _this.sourceLang.id !== res.sources[0].directionFrom) {
                    _this.selectLangSource(res.sources[0].directionFrom, false);
                    _this.selectLangTarget(res.sources[0].directionTo, false);
                    if (typeof chrome !== 'undefined' && config_1.configurations.isExtension) {
                        chrome['runtime'].sendMessage({ setTrackEvents: config_1.configurations.eventsName.changeCurrentDirection });
                    }
                }
                _this.allSources = [];
                var indexForSource_1 = 0;
                res.sources.forEach(function (sourse, index) {
                    if (res.sources[index].translations && res.sources[index].translations.length > 0) {
                        res.sources[index].translations.forEach(function (item, _index) {
                            // Для простоты работы, в каждый пример пехаем перевод
                            item.contexts.forEach(function (it, i) {
                                sourse['translations'][_index].contexts[i].translation = sourse['translations'][_index].translation;
                            });
                        });
                    }
                    _this.allSources.push(sourse);
                    if (typeof sourse.weight !== 'undefined' && sourse.weight > _this.sourceWeight) {
                        _this.sourceWeight = sourse.weight;
                        indexForSource_1 = index;
                    }
                    else if (typeof sourse.weight !== 'undefined' && sourse.weight === _this.sourceWeight &&
                        sourse.source.length > _this.sourceLength && sourse.translations[0].translation !== '...' &&
                        sourse.translations[0].translation !== '') {
                        _this.sourceLength = sourse.source.length;
                        indexForSource_1 = index;
                    }
                });
                if (res.additional && res.additional.length > 0) {
                    res.additional.forEach(function (sourse, index) {
                        if (res.additional[index].translations && res.additional[index].translations.length > 0) {
                            res.additional[index].translations.forEach(function (item, _index) {
                                // Для простоты работы, в каждый пример пехаем перевод
                                item.contexts.forEach(function (it, i) {
                                    sourse['translations'][_index].contexts[i].translation =
                                        sourse['translations'][_index].translation;
                                });
                            });
                        }
                        _this.allSources.push(sourse);
                    });
                }
                var transletions_1 = [];
                res.sources[0]['translations'].forEach(function (i) {
                    transletions_1.push(i.translation);
                });
                _this.selectSource(indexForSource_1);
                // Run scroll and title
                setTimeout(function () {
                    // Записываем в историю
                    _this.historyStorage.add({
                        id: res.historyId || null,
                        langSource: _this.sourceLang.id,
                        langTarget: _this.targetLang.id,
                        word: _this.params.word,
                        wordTranslations: transletions_1,
                        url: _this.params.siteHref,
                        title: _this.params.siteTitle,
                        sentence: _this.params.sentence,
                        posInSentence: _this.params.position
                    });
                    _this.runScrollClassForHeaderSource();
                }, 128);
            }
            else {
                // Выделяем нулевой, если нет переводов
                _this.selectSource(0);
                // Run scroll and title
                setTimeout(function () {
                    // Записываем в историю
                    _this.historyStorage.add({
                        id: res.historyId || null,
                        langSource: _this.sourceLang.id,
                        langTarget: _this.targetLang.id,
                        word: _this.params.word,
                        url: _this.params.siteHref,
                        title: _this.params.siteTitle,
                        sentence: _this.params.sentence,
                        posInSentence: _this.params.position
                    });
                    _this.runScrollClassForHeaderSource();
                }, 128);
                // Перевода нет
                _this.error = true;
                _this.errorMessage = config_1.configurations.localization['noTranslation'] || '';
                setTimeout(function () {
                    _this.setNormalViewIframe(172);
                }, 300);
            }
        }, function (error) {
            _this.isTranslate = false;
            _this.error = true;
            _this.errorMessage = config_1.configurations.localization['requestInterrupted'] || '';
            console.error(error);
        });
        return false;
    };
    // Прямой перевод
    TranslateSegmentComponent.prototype.translateSimple = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            var quantityTranslation_1, _value, _a, GoTr, gasProfile, showReg, params;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        this.sourceLength = 0;
                        this.sourceWeight = -1;
                        this.mdMenu.hide();
                        this.error = false;
                        this.errorMessage = '';
                        this.sourceWeight = -1;
                        this.sourceLength = 0;
                        this.sources = { translations: [] };
                        this.contexts = { contexts: [] };
                        this.indexTranslate = -1;
                        // Записываем для FeedBack
                        this.settingsStorage.add('feedback', {
                            'Url': this.params.siteHref,
                            'Word': this.params.word,
                            'Sentence': this.params.sentence
                        });
                        if (!(!this.isTranslate && this.textTranslate.trim().length > 0)) return [3 /*break*/, 7];
                        if (!window.navigator.onLine) return [3 /*break*/, 5];
                        this.isTranslate = true;
                        quantityTranslation_1 = 0;
                        _b.label = 1;
                    case 1:
                        _b.trys.push([1, 3, , 4]);
                        return [4 /*yield*/, profile_local_1.QUANTITYTRANSL.get()];
                    case 2:
                        _value = _b.sent();
                        quantityTranslation_1 = parseInt(_value, 10);
                        return [3 /*break*/, 4];
                    case 3:
                        _a = _b.sent();
                        return [3 /*break*/, 4];
                    case 4:
                        GoTr = function () {
                            if (typeof quantityTranslation_1 !== 'undefined') {
                                profile_local_1.QUANTITYTRANSL.set(quantityTranslation_1 + 1);
                            }
                            // Запускаем перевод
                            return _this.goTranslateSimple();
                        };
                        gasProfile = profile_local_1.GASUSERPROFILE.get() && profile_local_1.GASUSERPROFILE.get()['data'] ? profile_local_1.GASUSERPROFILE.get()['data'] : null;
                        if (config_1.configurations.isInjectScript || this.isAuth || !gasProfile) {
                            return [2 /*return*/, GoTr()];
                        }
                        showReg = (quantityTranslation_1 + 1) % 25 === 0;
                        if (!showReg) {
                            // Сразу ушли на перевод
                            return [2 /*return*/, GoTr()];
                        }
                        // Обрываем все старые запросы
                        if (this.translateService.httpSubscription &&
                            typeof this.translateService.httpSubscription.unsubscribe !== 'undefined') {
                            this.translateService.httpSubscription.unsubscribe();
                        }
                        params = {
                            word: this.params.word,
                            arrayWords: this.params.arrayWords,
                            sentence: this.params.sentence,
                            sentenceForLang: this.params.sentenceForLang,
                            position: this.params.position,
                            countWord: this.params.countWord,
                            siteTitle: this.params.siteTitle,
                            siteOrigin: this.params.siteOrigin,
                            siteHref: this.params.siteHref,
                            lang: this.params.lang_source,
                            langTarget: this.params.lang_target,
                            miniView: this.params.miniView,
                            translateSite: this.translateSite ? 1 : 0,
                            reminder: true,
                            from: 'translate-segment'
                        };
                        this.setNormalViewIframe(536);
                        profile_local_1.QUANTITYTRANSL.set(quantityTranslation_1 + 1);
                        this.router.navigate(['/limit-search', params]);
                        return [2 /*return*/, false];
                    case 5:
                        this.error = true;
                        this.errorMessage = config_1.configurations.localization['offline'] || '';
                        return [2 /*return*/, false];
                    case 6: return [3 /*break*/, 8];
                    case 7: return [2 /*return*/, false];
                    case 8: return [2 /*return*/];
                }
            });
        });
    };
    // Перенес перевод вот сюда!!!
    TranslateSegmentComponent.prototype.goTranslate = function () {
        var _this = this;
        // fix jump translation buttom
        if (document.querySelector('#header-translate .scroll-x')) {
            document.querySelector('#header-translate .scroll-x')['style'].width = '9999px';
        }
        this.allSources = [];
        this.allSources.push({
            source: this.textTranslate,
            displaySource: this.textTranslate,
            count: 0,
            translations: [],
            weight: 0
        });
        // Обрываем все старые запросы
        if (this.translateService.httpSubscription && typeof this.translateService.httpSubscription.unsubscribe !== 'undefined') {
            this.translateService.httpSubscription.unsubscribe();
        }
        // Условие на перевод только цифр
        if (isNaN(Number(this.textTranslate)) === false) {
            this.error = true;
            this.errorMessage = config_1.configurations.localization['numberIsNotTranslated'];
            return false;
        }
        // Отправляем на перевод
        this.translateService.translateWord({
            word: this.textTranslate,
            wordPos: this.params['position'],
            source: this.params['sentence'],
            lang_source: this.sourceLang.id,
            lang_target: this.targetLang.id,
            pageUrl: this.params['siteHref'],
            pageTitle: this.params['siteTitle'],
            reversoPage: this.params['reversoPage']
        }).then(function (res) {
            // // TODO FOR DEVMODE
            // chrome['runtime'].sendMessage({consoleLog: res});
            _this.server_response = { 'word': res };
            _this.isTranslate = false;
            if (res.sources && res.sources.length > 0 && res.sources[0]['translations'].length > 0) {
                if (res.sources[0].directionFrom && _this.sourceLang.id !== res.sources[0].directionFrom) {
                    _this.selectLangSource(res.sources[0].directionFrom, false);
                    _this.selectLangTarget(res.sources[0].directionTo, false);
                    if (typeof chrome !== 'undefined' && config_1.configurations.isExtension) {
                        chrome['runtime'].sendMessage({ setTrackEvents: config_1.configurations.eventsName.changeCurrentDirection });
                    }
                }
                // fix jump translation buttom
                if (document.querySelector('#header-translate .scroll-x')) {
                    document.querySelector('#header-translate .scroll-x')['style'].width = '9999px';
                }
                _this.allSources = [];
                var indexForSource_2 = 0;
                res.sources.forEach(function (sourse, index) {
                    if (res.sources[index].translations && res.sources[index].translations.length > 0) {
                        res.sources[index].translations.forEach(function (item, _index) {
                            // Для простоты работы, в каждый пример пехаем перевод
                            item.contexts.forEach(function (it, i) {
                                sourse['translations'][_index].contexts[i].translation = sourse['translations'][_index].translation;
                            });
                        });
                    }
                    _this.allSources.push(sourse);
                    if (typeof sourse.weight !== 'undefined' && sourse.weight > _this.sourceWeight) {
                        _this.sourceWeight = sourse.weight;
                        indexForSource_2 = index;
                    }
                    else if (typeof sourse.weight !== 'undefined' && sourse.weight === _this.sourceWeight &&
                        sourse.source.length > _this.sourceLength && sourse.translations[0].translation !== '...' &&
                        sourse.translations[0].translation !== '') {
                        _this.sourceLength = sourse.source.length;
                        indexForSource_2 = index;
                    }
                });
                if (res.additional && res.additional.length > 0) {
                    res.additional.forEach(function (sourse, index) {
                        if (res.additional[index].translations && res.additional[index].translations.length > 0) {
                            res.additional[index].translations.forEach(function (item, _index) {
                                // Для простоты работы, в каждый пример пехаем перевод
                                item.contexts.forEach(function (it, i) {
                                    sourse['translations'][_index].contexts[i].translation =
                                        sourse['translations'][_index].translation;
                                });
                            });
                        }
                        _this.allSources.push(sourse);
                    });
                }
                _this.selectSource(indexForSource_2);
                var transletionsWord_1 = [];
                res.sources[0]['translations'].forEach(function (i) {
                    transletionsWord_1.push(i.translation);
                });
                if (!_this.settingTranslateSegment) {
                    // Run scroll and title
                    setTimeout(function () {
                        // Записываем в историю
                        _this.historyStorage.add({
                            id: res.historyId || null,
                            langSource: _this.sourceLang.id,
                            langTarget: _this.targetLang.id,
                            word: _this.textTranslate,
                            wordTranslations: transletionsWord_1,
                            url: _this.params.siteHref,
                            title: _this.params.siteTitle,
                            sentence: _this.params.sentence,
                            posInSentence: _this.params.position
                        }).then(function (result) {
                        }, function (error) {
                            console.error('Error historyStorage: ', error);
                        });
                        _this.runScrollClassForHeaderSource();
                    }, 128);
                }
                // ----- Translate segment -----
                if (_this.settingTranslateSegment === true) {
                    _this.isTranslate = true;
                    // Обрываем все старые запросы
                    if (_this.translateService.httpSubscription &&
                        typeof _this.translateService.httpSubscription.unsubscribe !== 'undefined') {
                        _this.translateService.httpSubscription.unsubscribe();
                    }
                    // Отправляем на перевод
                    _this.translateService.translateSegment({
                        word: _this.textTranslate,
                        wordPos: _this.params['position'],
                        source: _this.params['sentence'],
                        lang_source: _this.sourceLang.id,
                        lang_target: _this.targetLang.id,
                        historyId: res.historyId || null,
                        reversoPage: _this.params['reversoPage']
                    }).then(function (resSegment) {
                        _this.isTranslate = false;
                        _this.server_response['segment'] = resSegment;
                        if (resSegment && resSegment.sources && resSegment.sources.forEach) {
                            resSegment.sources.forEach(function (sourse, index) {
                                if (resSegment.sources[index].translations && resSegment.sources[index].translations.length > 0) {
                                    resSegment.sources[index].translations.forEach(function (item, _index) {
                                        // Для простоты работы, в каждый пример пехаем перевод
                                        item.contexts.forEach(function (it, i) {
                                            sourse['translations'][_index].contexts[i].translation =
                                                sourse['translations'][_index].translation;
                                        });
                                    });
                                    // IF TRANSLATION > 0
                                    _this.allSources.push(sourse);
                                }
                            });
                        }
                        // delete dublicate sources
                        _this.allSources.forEach(function (sourse, index) {
                            if (_this.allSources[index - 1] &&
                                _this.allSources[index - 1].displaySource.toLowerCase().trim() ===
                                    _this.allSources[index].displaySource.toLowerCase().trim() &&
                                _this.allSources[index - 1].source.toLowerCase().trim() ===
                                    _this.allSources[index].source.toLowerCase().trim()) {
                                _this.allSources.splice(index, 1);
                            }
                            if (_this.allSources[index - 2] &&
                                _this.allSources[index - 2].displaySource.toLowerCase().trim() ===
                                    _this.allSources[index].displaySource.toLowerCase().trim() &&
                                _this.allSources[index - 2].source.toLowerCase().trim() ===
                                    _this.allSources[index].source.toLowerCase().trim()) {
                                _this.allSources.splice(index, 1);
                            }
                            if (_this.allSources[index - 3] &&
                                _this.allSources[index - 3].displaySource.toLowerCase().trim() ===
                                    _this.allSources[index].displaySource.toLowerCase().trim() &&
                                _this.allSources[index - 3].source.toLowerCase().trim() ===
                                    _this.allSources[index].source.toLowerCase().trim()) {
                                _this.allSources.splice(index, 1);
                            }
                        });
                        if (resSegment.additional && resSegment.additional.length > 0) {
                            resSegment.additional.forEach(function (sourse, index) {
                                if (resSegment.additional[index].translations &&
                                    resSegment.additional[index].translations.length > 0) {
                                    resSegment.additional[index].translations.forEach(function (item, _index) {
                                        // Для простоты работы, в каждый пример пехаем перевод
                                        item.contexts.forEach(function (it, i) {
                                            sourse['translations'][_index].contexts[i].translation =
                                                sourse['translations'][_index].translation;
                                        });
                                    });
                                }
                                _this.allSources.push(sourse);
                            });
                        }
                        _this.allSources.forEach(function (sourse, index) {
                            if (typeof sourse.weight !== 'undefined' && sourse.weight > _this.sourceWeight) {
                                _this.sourceWeight = sourse.weight;
                                indexForSource_2 = index;
                            }
                            else if (typeof sourse.weight !== 'undefined' && sourse.weight === _this.sourceWeight &&
                                sourse.source.length > _this.sourceLength &&
                                sourse.translations[0].translation !== '...' && sourse.translations[0].translation !== '') {
                                _this.sourceLength = sourse.source.length;
                                indexForSource_2 = index;
                            }
                        });
                        var transletionsSegment = [];
                        _this.allSources[indexForSource_2]['translations'].forEach(function (i) {
                            transletionsSegment.push(i.translation);
                        });
                        _this.selectSource(indexForSource_2);
                        // Hide header with language directions
                        setTimeout(function () {
                            // Записываем в историю
                            _this.historyStorage.add({
                                id: res.historyId || null,
                                langSource: _this.sourceLang.id,
                                langTarget: _this.targetLang.id,
                                word: _this.params.word,
                                wordTranslations: transletionsWord_1,
                                url: _this.params.siteHref,
                                title: _this.params.siteTitle,
                                sentence: _this.params.sentence,
                                posInSentence: _this.params.position,
                                longSegment: _this.allSources[indexForSource_2].source,
                                longSegmentTranslations: transletionsSegment
                            });
                            // Run scroll and title
                            _this.runScrollClassForHeaderSource();
                        }, 128);
                    }, function (error) {
                        _this.isTranslate = false;
                        _this.error = true;
                        _this.errorMessage = config_1.configurations.localization['requestInterrupted'] || '';
                        console.error(error);
                    });
                }
                else {
                }
            }
            else {
                // Run scroll and title
                setTimeout(function () {
                    // Записываем в историю
                    _this.historyStorage.add({
                        langSource: _this.sourceLang.id,
                        langTarget: _this.targetLang.id,
                        word: _this.params.word,
                        url: _this.params.siteHref,
                        title: _this.params.siteTitle,
                        sentence: _this.params.sentence,
                        posInSentence: _this.params.position
                    });
                    _this.runScrollClassForHeaderSource();
                }, 128);
                // Перевода нет
                _this.error = true;
                _this.errorMessage = config_1.configurations.localization['noTranslation'] || '';
                _this.setNormalViewIframe(172);
            }
        }, function (error) {
            _this.isTranslate = false;
            _this.error = true;
            _this.errorMessage = config_1.configurations.localization['requestInterrupted'] || '';
            console.error(error);
        });
        return false;
    };
    // Перевод слова и сегмента
    TranslateSegmentComponent.prototype.translateFull = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            var quantityTranslation_2, _value, _a, GoTr, gasProfile, showReg, params;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        this.sourceLength = 0;
                        this.sourceWeight = -1;
                        this.mdMenu.hide();
                        this.error = false;
                        this.errorMessage = '';
                        this.sourceWeight = -1;
                        this.sourceLength = 0;
                        this.sources = { translations: [] };
                        this.contexts = { contexts: [] };
                        this.indexTranslate = -1;
                        // Записываем для FeedBack
                        this.settingsStorage.add('feedback', {
                            'Url': this.params.siteHref,
                            'Word': this.params.word,
                            'Sentence': this.params.sentence
                        });
                        if (!(!this.isTranslate && this.textTranslate.trim().length > 0)) return [3 /*break*/, 7];
                        if (!window.navigator.onLine) return [3 /*break*/, 5];
                        this.isTranslate = true;
                        quantityTranslation_2 = 0;
                        _b.label = 1;
                    case 1:
                        _b.trys.push([1, 3, , 4]);
                        return [4 /*yield*/, profile_local_1.QUANTITYTRANSL.get()];
                    case 2:
                        _value = _b.sent();
                        quantityTranslation_2 = parseInt(_value, 10);
                        return [3 /*break*/, 4];
                    case 3:
                        _a = _b.sent();
                        return [3 /*break*/, 4];
                    case 4:
                        GoTr = function () {
                            if (typeof quantityTranslation_2 !== 'undefined') {
                                profile_local_1.QUANTITYTRANSL.set(quantityTranslation_2 + 1);
                            }
                            // Запускаем перевод
                            return _this.goTranslate();
                        };
                        gasProfile = profile_local_1.GASUSERPROFILE.get() && profile_local_1.GASUSERPROFILE.get()['data'] ? profile_local_1.GASUSERPROFILE.get()['data'] : null;
                        if (config_1.configurations.isInjectScript || this.isAuth || !gasProfile) {
                            return [2 /*return*/, GoTr()];
                        }
                        showReg = (quantityTranslation_2 + 1) % 25 === 0;
                        if (!showReg) {
                            // Сразу ушли на перевод
                            return [2 /*return*/, GoTr()];
                        }
                        // Обрываем все старые запросы
                        if (this.translateService.httpSubscription &&
                            typeof this.translateService.httpSubscription.unsubscribe !== 'undefined') {
                            this.translateService.httpSubscription.unsubscribe();
                        }
                        params = {
                            word: this.params.word,
                            arrayWords: this.params.arrayWords,
                            sentence: this.params.sentence,
                            sentenceForLang: this.params.sentenceForLang,
                            position: this.params.position,
                            countWord: this.params.countWord,
                            siteTitle: this.params.siteTitle,
                            siteOrigin: this.params.siteOrigin,
                            siteHref: this.params.siteHref,
                            lang: this.params.lang_source,
                            langTarget: this.params.lang_target,
                            miniView: this.params.miniView,
                            translateSite: this.translateSite ? 1 : 0,
                            reminder: true,
                            from: 'translate-segment'
                        };
                        // Обрываем все старые запросы
                        if (this.translateService.httpSubscription && typeof this.translateService.httpSubscription.unsubscribe !== 'undefined') {
                            this.translateService.httpSubscription.unsubscribe();
                        }
                        this.setNormalViewIframe(536);
                        profile_local_1.QUANTITYTRANSL.set(quantityTranslation_2 + 1);
                        this.router.navigate(['/limit-search', params]);
                        this.ngOnDestroy();
                        return [2 /*return*/, false];
                    case 5:
                        this.error = true;
                        this.isTranslate = false;
                        this.errorMessage = config_1.configurations.localization['offline'] || '';
                        return [2 /*return*/, false];
                    case 6: return [3 /*break*/, 8];
                    case 7: return [2 /*return*/, false];
                    case 8: return [2 /*return*/];
                }
            });
        });
    };
    // Получить примеры
    TranslateSegmentComponent.prototype.getSample = function (index) {
        var _this = this;
        if (!this.isTranslate || index === -1) {
            this.contexts = { contexts: [] };
            if (index !== this.indexTranslate) {
                this.indexTranslate = index;
                setTimeout(function () {
                    for (var i = 0; i < document.querySelectorAll('.subheader-translate .switch-samples').length; i++) {
                        document.querySelectorAll('.subheader-translate .switch-samples')[i].classList.remove('active');
                    }
                    if (document.querySelector('#subheader-translate') && document.querySelector('#translation-' + index)) {
                        document.querySelector('#translation-' + index).classList.add('active');
                    }
                }, 128);
            }
            else {
                // hide if second click by source
                this.setMiniViewIframe();
                this.indexTranslate = -1;
                for (var i = 0; i < document.querySelectorAll('.subheader-translate .switch-samples').length; i++) {
                    document.querySelectorAll('.subheader-translate .switch-samples')[i].classList.remove('active');
                }
            }
            // Если нет активного перевода.
            if (this.indexTranslate === -1) {
                this.sources['translations'].forEach(function (item) {
                    // Для простоты работы, в каждый пример добавляем перевод
                    item.contexts.forEach(function (it, i) {
                        _this.contexts['contexts'].push(it);
                    });
                });
                // Вернем нормальный вид в случае, если нет переаода или он только один и равен "...", и при этом есть примеры;
                if (!this.params['miniView']
                    || ((this.sources['translations'].length === 1
                        && (this.sources['translations'][0]['translation'] === ''
                            || this.sources['translations'][0]['translation'] === '...'))
                        && this.contexts['contexts'].length > 0)) {
                    // setTimeout(() => {
                    this.setNormalViewIframe();
                    // }, 256);
                }
            }
            // Скрываем старые ошибки.
            if (this.contexts['contexts'].length > 0) {
                this.error = false;
                this.errorMessage = '';
            }
            if (index !== -1 && this.indexTranslate !== -1) {
                // Если есть подключение к интернету
                if (navigator.onLine) {
                    if (typeof chrome !== 'undefined' && config_1.configurations.isExtension) {
                        chrome['runtime'].sendMessage({ setTrackEvents: config_1.configurations.eventsName.filter_translation });
                    }
                    // else if (typeof safari !== 'undefined' && safari['extension']) {
                    //     const windowGlobalPage = safari['extension'].globalPage.contentWindow;
                    //     windowGlobalPage.respondToMessage({
                    //         name: 'setTrackEvents',
                    //         message: configurations.eventsName.filter_translation
                    //     });
                    // }
                    var excludeTranslations_1 = [];
                    this.sources['translations'].forEach(function (el, i) {
                        if (index !== i) {
                            excludeTranslations_1.push(el['translation']);
                        }
                    });
                    // Скрываем старые ошибки перед запросом
                    this.error = false;
                    this.errorMessage = '';
                    // Получаем примеры
                    this.isTranslate = true;
                    this.translateService.getSample({
                        // source: (this.sources['dymApplied'] ? this.sources['source'] : this.textTranslate),
                        source: this.sources['source'],
                        lang_source: this.sourceLang.id,
                        lang_target: this.targetLang.id,
                        translation: this.sources['translations'][index]['translation'],
                        excludeTranslations: excludeTranslations_1,
                        historyId: this.server_response.word ? this.server_response.word.historyId : null
                    }).then(function (res) {
                        _this.isTranslate = false;
                        if (res['samples'] && res['samples'].length > 0) {
                            _this.contexts['contexts'] = [];
                            res['samples'].forEach(function (it, i) {
                                it.translation = res.translation;
                                _this.contexts['contexts'].push(it);
                            });
                        }
                        // Вернет нормальный для для iframe, ONLY после получения примеров с сервера
                        if (index !== -1) {
                            _this.setNormalViewIframe();
                        }
                    }, function (error) {
                        _this.isTranslate = false;
                        _this.error = true;
                        _this.errorMessage = config_1.configurations.localization['requestInterrupted'] || '';
                        console.error(error);
                    });
                }
                else {
                    this.error = true;
                    this.errorMessage = config_1.configurations.localization['offline'] || '';
                    return false;
                }
            }
        }
    };
    // Переключение сурсов
    TranslateSegmentComponent.prototype.selectSource = function (index) {
        var _this = this;
        if (!this.isTranslate && this.allSources[index]) {
            // Светим
            if (this.translateSite === true) {
                try {
                    window.parent['postMessage']('setSelectedWord: ' + this.allSources[index]['displaySource'], '*');
                }
                catch (error) {
                }
            }
            // fix jump translation buttom
            if (document.querySelector('#subheader-translate .scroll-x')) {
                document.querySelector('#subheader-translate .scroll-x')['style'].width = '9999px';
            }
            this.sources = this.allSources[index];
            // TODO хм, довольно странная штука, требуется проверка...
            this.textTranslate = this.sources['displaySource'] || this.sources['source'];
            // HTML не поспевает =(
            setTimeout(function () {
                // Только для неактивных
                if (document.querySelectorAll('.header-translate .switch-translate').length > 0 &&
                    document.querySelectorAll('.header-translate .switch-translate')[index] &&
                    document.querySelectorAll('.header-translate .switch-translate')[index].className.indexOf('active') === -1) {
                    for (var i = 0; i < document.querySelectorAll('.header-translate .switch-translate').length; i++) {
                        if (document.querySelectorAll('.header-translate .switch-translate')[i].className.indexOf('active') > -1) {
                            document.querySelectorAll('.header-translate .switch-translate')[i].className =
                                document.querySelectorAll('.header-translate .switch-translate')[i].className
                                    .replace('active', '').trim();
                        }
                    }
                    document.querySelectorAll('.header-translate .switch-translate')[index].className += ' active';
                    // Переключаем направления если требуется
                    if (_this.sources['directionFrom'] && _this.sources['directionTo'] &&
                        (_this.sources['directionFrom'] !== _this.sourceLang.id || _this.sources['directionTo'] !== _this.targetLang.id)) {
                        _this.selectLangSource(_this.sources['directionFrom'], false);
                        _this.selectLangTarget(_this.sources['directionTo'], false);
                        // if (typeof chrome !== 'undefined' && configurations.isExtension) {
                        //     chrome['runtime'].sendMessage({setTrackEvents: configurations.eventsName.changeCurrentDirection});
                        // }
                    }
                    if (_this.params['miniView'] === true) {
                        _this.setMiniViewIframe();
                    }
                    for (var i = 0; i < document.querySelectorAll('.header-translate .switch-translate').length; i++) {
                        document.querySelectorAll('.header-translate .switch-translate')[i].classList.remove('active');
                    }
                    if (document.querySelector('#header-translate') && document.querySelector('#source-' + index)) {
                        document.querySelector('#source-' + index).classList.add('active');
                    }
                    // Показываем все примеры
                    _this.indexTranslate = -1;
                    _this.getSample(-1);
                }
                // Запускаем скролл
                setTimeout(function () {
                    if (document.querySelector('#subheader-translate')) {
                        // tslint:disable-next-line:no-unused-expression
                        new main_func_1.Scroll(document.querySelector('#subheader-translate'));
                    }
                    else {
                        _this.setNormalViewIframe();
                    }
                }, 128);
            }, 128);
        }
    };
    TranslateSegmentComponent.prototype.speakSample = function (index, event, isSource) {
        var _this = this;
        if (isSource === void 0) { isSource = false; }
        if (isSource) {
            this.allSources.forEach(function (e, i) {
                _this.allSources[i]['play'] = false;
            });
        }
        else {
            this.contexts['contexts'].forEach(function (e, i) {
                _this.contexts['contexts'][i].play = false;
            });
        }
        if (event === 'play') {
            if (isSource) {
                this.allSources[index]['play'] = true;
            }
            else {
                this.contexts['contexts'][index].play = true;
            }
            main_func_1.speak.play((isSource ? this.allSources[index].source : this.contexts['contexts'][index].source), this.sourceLang['id'], this.sourceLang['speakerName'], {
                voiceUrl: this.directions['voiceUrl'],
                voiceLimit: this.directions['voiceLimit']
            });
        }
        else {
            main_func_1.speak.stop();
        }
        if (main_func_1._$id('speak-id')) {
            var audio = main_func_1._$id('speak-id');
            audio['onended'] = function () {
                if (isSource) {
                    _this.allSources.forEach(function (e, i) {
                        _this.allSources[i]['play'] = false;
                    });
                }
                else {
                    _this.contexts['contexts'].forEach(function (e, i) {
                        _this.contexts['contexts'][i].play = false;
                    });
                }
            };
        }
    };
    TranslateSegmentComponent.prototype.addFavorite = function (index, isTranslate) {
        var _this = this;
        if (isTranslate === void 0) { isTranslate = false; }
        var item = !isTranslate ? this.contexts['contexts'][index] : this.sources.translations[index];
        // Если мы добавляем с example то пихаем по регулярке то что попалось в первый <em>, иначе source;
        var word = !isTranslate ? (main_func_1.tagText('em', item.source) ? main_func_1.tagText('em', item.source) : this.sources['displaySource']) : this.sources['source'];
        var translation = !isTranslate ? (main_func_1.tagText('em', item.target) ? main_func_1.tagText('em', item.target) : '') : item.translation;
        var fav = {
            'historyId': this.server_response.word ? this.server_response.word.historyId : null,
            // 'word': (this.sources['dymApplied'] ? this.sources['source'] : this.textTranslate),
            'word': word,
            'sentence': this.params.sentence,
            'translation': translation,
            'example': !isTranslate ? item : null,
            'langSource': this.sourceLang.id,
            'langTarget': this.targetLang.id,
            'url': this.params.siteHref,
            'title': this.params.siteTitle,
            'reversoPage': this.params['reversoPage']
        };
        if (!this.isAuth) {
            favorites_service_1.FavoritesService.set(fav);
            this.router.navigate(['/sign-up', { addFavorite: true }]);
        }
        else {
            if (navigator.onLine) {
                if (item.favoriteId) {
                    this.translateService.deleteFavorites(item.favoriteId).then(function (result) {
                        if (!result['error'] && !isTranslate) {
                            _this.contexts['contexts'][index].favoriteId = null;
                        }
                        else if (!result['error'] && isTranslate) {
                            _this.sources.translations[index].favoriteId = null;
                        }
                    }, function (error) {
                        _this.isTranslate = false;
                        _this.error = true;
                        _this.errorMessage = config_1.configurations.localization[error.message ? error.message : 'requestInterrupted'] || '';
                        console.error(error);
                    });
                }
                else {
                    this.translateService.saveFavorites(fav).then(function (result) {
                        if (result['data'] && result['data'].id && !isTranslate) {
                            _this.contexts['contexts'][index].favoriteId = result['data'].id;
                        }
                        else if (result['data'] && result['data'].id && isTranslate) {
                            _this.sources.translations[index].favoriteId = result['data'].id;
                        }
                    }, function (error) {
                        _this.isTranslate = false;
                        _this.error = true;
                        _this.errorMessage = config_1.configurations.localization[error.message ? error.message : 'requestInterrupted'] || '';
                        console.error(error);
                    });
                }
            }
            else {
                this.error = true;
                this.errorMessage = config_1.configurations.localization['offline'] || '';
                return false;
            }
        }
    };
    TranslateSegmentComponent.prototype.goToReversoContext = function (source) {
        var link = config_1.configurations.linkReverso, sourceLang = main_func_1.removeDiacritics(this.sourceLang['name'].toLowerCase()), targetLang = main_func_1.removeDiacritics(this.targetLang['name'].toLowerCase());
        link += sourceLang + '-' + targetLang + '/' + source;
        if (typeof chrome !== 'undefined' && config_1.configurations.isExtension) {
            chrome['runtime'].sendMessage({ openTab: link });
        }
    };
    TranslateSegmentComponent.prototype.setNormalViewIframe = function (height) {
        var _this = this;
        if (height === void 0) { height = -1; }
        setTimeout(function () {
            if (height < 0) {
                height = 70;
                if (!_this.error) {
                    var transHead = document.querySelector('#subheader-translate');
                    var transList = document.querySelector('#translate-list');
                    var transMsg = document.querySelector('#no-example-msg');
                    if (!transHead && !transList && !transMsg) {
                        return;
                    }
                    if (transHead && transHead['offsetHeight'])
                        height += transHead['offsetHeight'];
                    if (_this.sources.translations.length > 0 && _this.contexts.contexts.length > 0) {
                        if (transList && transList['offsetHeight'])
                            height += transList['offsetHeight'];
                    }
                    else if (_this.sources.translations.length > 0 && _this.contexts.contexts.length < 1) {
                        if (transMsg && transMsg['offsetHeight'])
                            height += transMsg['offsetHeight'];
                    }
                }
                else {
                    // ошибка
                    var transErr = document.querySelector('#error-msg');
                    if (transErr && transErr['offsetHeight'])
                        height += transErr['offsetHeight'];
                }
            }
            // subheader-translate
            // translate-list
            // + 20
            // let lis = document.querySelectorAll('#translate-list li.items-context');
            // if (lis && lis.length > 0 && height < 0) {
            //     let element = document.querySelector('#translate-list');
            //     height = element && element['offsetHeight'] ? element['offsetHeight'] + 12 : 9999; // or use style.width;
            // }
            // Scroll top, for show scroll
            if (document.querySelector('main.body-iframe')) {
                document.querySelector('main.body-iframe').scrollTop = 1;
            }
            _this.params['miniView'] = false;
            try {
                window.parent['postMessage']('setNormalView:' + height, '*');
            }
            catch (error) {
                console.error('Error setNormalViewIframe: ', error);
            }
        }, 128);
    };
    TranslateSegmentComponent.prototype.setMiniViewIframe = function () {
        this.params['miniView'] = true;
        try {
            window.parent['postMessage']('setMiniView:true', '*');
            main_func_1.setPositionSamples.bottom();
        }
        catch (error) {
            console.error('Error setMiniViewIframe: ', error);
        }
    };
    TranslateSegmentComponent.prototype.copyToClipboard = function (i) {
        var inp = document.querySelector('#copy-translate-word-input-' + i) || null;
        if (inp && inp['select']) {
            inp['style'].display = 'inline';
            inp['select']();
            try {
                document.execCommand('copy');
                inp['blur']();
                inp['style'].display = 'none';
                if (inp['parentNode']) {
                    inp['parentNode']['style'].opacity = '.3';
                    setTimeout(function () {
                        inp['parentNode']['style'].opacity = '1';
                    }, 500);
                }
            }
            catch (err) {
                inp['style'].display = 'none';
                alert('please press Ctrl/Cmd+C to copy');
            }
        }
    };
    // Run scroll and title
    TranslateSegmentComponent.prototype.runScrollClassForHeaderSource = function () {
        if (!document.querySelector('translate-segment-page')) {
            return null;
        }
        if (document.querySelector('#title-page')) {
            document.querySelector('#title-page').classList.remove('active');
        }
        if (document.querySelector('#header-translate')) {
            // tslint:disable-next-line:no-unused-expression
            new main_func_1.Scroll(document.querySelector('#header-translate'));
            if (document.querySelector('#title-page')) {
                if (document.querySelector('#header-translate .header-contant')['offsetWidth'] + 50 >=
                    document.querySelector('#header-translate .scroll-x')['offsetWidth']) {
                    document.querySelector('#title-page').classList.add('active');
                }
            }
        }
    };
    // Выделить активную кнопку выбора языка
    TranslateSegmentComponent.prototype.highlightButtonLang = function (className) {
        if (document.querySelector('.select_lang_source-button')) {
            document.querySelector('.select_lang_source-button').classList.remove('active');
        }
        if (document.querySelector('.select_lang_target-button')) {
            document.querySelector('.select_lang_target-button').classList.remove('active');
        }
        if (document.querySelector('.' + className))
            document.querySelector('.' + className).classList.add('active');
    };
    // Проверка ридабилити
    // checkRedability() {
    //     return new Promise((resolve, reject) => {
    //         try {
    //             localStorage.setItem(configurations.prefixStorage + 'htmlForSavePage', null);
    //
    //             window.parent['postMessage']('getHtmlPage:get', '*');
    //             setTimeout(() => {
    //                 if (localStorage.getItem(configurations.prefixStorage + 'htmlForSavePage')
    //                     && !JSON.parse(localStorage.getItem(configurations.prefixStorage + 'htmlForSavePage'))) {
    //
    //                     if (this.configurations.origin === 'ffextension') {
    //                         if (configurations.isExtension) {
    //                             chrome['runtime'].sendMessage({getHtmlPage: 'get'}, function (res) {
    //                                 if (typeof res === 'string' && JSON.parse(res)) {
    //                                     localStorage.setItem(configurations.prefixStorage + 'htmlForSavePage', res);
    //                                     resolve(true);
    //                                 } else {
    //                                     resolve(false);
    //                                 }
    //
    //                             });
    //                         } else {
    //                             resolve(false);
    //                         }
    //                     } else {
    //                         resolve(false);
    //                     }
    //                 } else {
    //                     resolve(true);
    //                 }
    //             }, 256);
    //         } catch (error) {
    //             reject(error);
    //         }
    //     });
    // }
    TranslateSegmentComponent.prototype.goToTranslateWholeText = function () {
        this.params.lang = this.sourceLang.id;
        this.params.lang_target = this.targetLang.id;
        this.router.navigate(['/translate-whole-text', this.params], { skipLocationChange: true });
    };
    TranslateSegmentComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.isAuth = profile_local_1.CHECK_AUTH();
        // Переводить или нет сегмент
        this.settingsStorage.getRow('translateSegment').then(function (result) {
            if (result != null)
                _this.settingTranslateSegment = JSON.parse(result.toString());
        }, function (error) {
        });
        if (this.route.params['value']['translateSite'] && parseInt(this.route.params['value']['translateSite'], 10) === 1) {
            this.translateSite = true;
        }
        // Получаем направления
        this.profileService.getDirections().then(function (directions) {
            _this.languageExtras = new language_extras_1.LanguageExtras(directions['data']);
            _this.directions = directions['data'];
            // Проверяем параметры и запускаем перевод
            if (_this.params['word'] && _this.params['word'].trim().length > 0) {
                _this.textTranslate = _this.params['word'].toString();
                // Определит язык, если надо
                if (_this.params['sentenceForLang'].trim().length > 10) {
                    _this.translateService.detectLanguage(_this.params['sentenceForLang']).then(function (res) {
                        if (res['data'] && res['data'].length === 2) {
                            var lang_source = res['data'];
                            _this.selectLangSource(lang_source.toString(), !(_this.params['lang_target'] && _this.params['lang_target'].trim().length > 0));
                            if (_this.params['lang_target'] && _this.params['lang_target'].trim().length > 0) {
                                _this.selectLangTarget(_this.params['lang_target'].toString(), true);
                            }
                        }
                    }, function (error) {
                        _this.params['sentenceForLang'] = '';
                        _this.ngOnInit();
                        console.error(error);
                    });
                }
                else {
                    // Получаем язык с базы сурс
                    _this.settingsStorage.getRow('lang_source').then(function (lang_source) {
                        lang_source = lang_source != null ? lang_source :
                            config_1.configurations.appLang === 'en' ? 'fr' : 'en';
                        // Смотрим в параметрах языки, если есть, ставим его
                        if (_this.params['lang_source'] && _this.params['lang_source'].trim().length > 0) {
                            _this.selectLangSource(_this.params['lang_source'].toString(), !(_this.params['lang_target'] && _this.params['lang_target'].trim().length > 0));
                        }
                        else {
                            _this.selectLangSource(lang_source, !(_this.params['lang_target'] && _this.params['lang_target'].trim().length > 0));
                        }
                        if (_this.params['lang_target'] && _this.params['lang_target'].trim().length > 0) {
                            _this.selectLangTarget(_this.params['lang_target'].toString(), true);
                        }
                    }, function (error) {
                        _this.error = true;
                        _this.errorMessage = 'Error set language';
                        console.error(error);
                    });
                }
            }
            else {
                _this.router.navigate(['/translate']);
            }
        }, function (error) {
            _this.error = true;
            _this.errorMessage = 'Error get directions';
            console.error(error);
        });
    };
    TranslateSegmentComponent.prototype.ngOnDestroy = function () {
        if (main_func_1.GET('iframe') || (this.route.params['value']['iframe'] && parseInt(this.route.params['value']['iframe'], 10) === 1)) {
            this.setNormalViewIframe();
            window.document.onmousemove = function (e) {
                // Разрешаем выделения
                // return false;
            };
        }
    };
    return TranslateSegmentComponent;
}());
exports.TranslateSegmentComponent = TranslateSegmentComponent;


/***/ }),

/***/ "./src/app/pages/translate-subtitles/translate-subtitles.page.css.shim.ngstyle.js":
/*!****************************************************************************************!*\
  !*** ./src/app/pages/translate-subtitles/translate-subtitles.page.css.shim.ngstyle.js ***!
  \****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

/**
 * @fileoverview This file was generated by the Angular template compiler. Do not edit.
 *
 * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}
 * tslint:disable
 */ 
Object.defineProperty(exports, "__esModule", { value: true });
var styles = ["#translate-subtitles-page[_ngcontent-%COMP%] {\n    \n}\n\n.translate-subtitles__source-list[_ngcontent-%COMP%] {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n}\n\n.button-select-source[_ngcontent-%COMP%] {\n    width: 86%;\n}\n\n.switch-samples[_ngcontent-%COMP%]   .added-sapmles-button.translate-word[_ngcontent-%COMP%] {\n    width: 90%;\n}\n\n.translate-subtitles__source-list__source[_ngcontent-%COMP%] {\n    margin: 0;\n    \n    padding-right: 8px;\n    padding-left: 8px;\n    min-width: 12px;\n    text-align: left;\n    height: 34px;\n    line-height: 34px;\n    background-color: #edf7ff !important;\n    border: none;\n    width: 100%;\n    border-radius: 0;\n    box-shadow: 0 2px 2px 0 rgba(155, 187, 205, .14), 0 3px 1px -2px rgba(155, 187, 205, .2), 0 1px 5px 0 rgba(155, 187, 205, .12) !important;\n    border-bottom: 1px solid #fff;\n}\n\n.translate-subtitles__source-list__source[_ngcontent-%COMP%]   .added-sapmles-button[_ngcontent-%COMP%] {\n    font-weight: 400;\n}\n\n.translate-subtitles__source-list__source[_ngcontent-%COMP%]   .edit-button-source[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%] {\n    width: 15px;\n}\n\n.translate-subtitles__source-list[_ngcontent-%COMP%]    > li[_ngcontent-%COMP%]   .translate-subtitles__source-list__source[_ngcontent-%COMP%]   .button-select-source[_ngcontent-%COMP%] {\n    color: #afafaf;\n}\n\n.translate-subtitles__source-list[_ngcontent-%COMP%]    > li.active[_ngcontent-%COMP%]   .translate-subtitles__source-list__source[_ngcontent-%COMP%] {\n    border-bottom: 3px solid #0970ac;\n}\n\n.translate-subtitles__source-list[_ngcontent-%COMP%]    > li.active[_ngcontent-%COMP%]   .translate-subtitles__source-list__source[_ngcontent-%COMP%]   .button-select-source[_ngcontent-%COMP%] {\n    color: #0970ac;\n    font-weight: 600;\n}\n\n.translate-subtitles__source-list[_ngcontent-%COMP%]    > li.active[_ngcontent-%COMP%]   .translate-subtitles__source-list__source[_ngcontent-%COMP%]   .edit-button-source[_ngcontent-%COMP%] {\n    display: block;\n    margin-right: 8px;\n}\n\n.translate-subtitles__source-list[_ngcontent-%COMP%]    > li.active[_ngcontent-%COMP%]   .translate-subtitles__source-list__source[_ngcontent-%COMP%]   .button-select-source[_ngcontent-%COMP%] {\n    width: 79%;\n}\n\n.translate-subtitles__transletions-list[_ngcontent-%COMP%] {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n\n    overflow: hidden;\n    height: auto;\n    max-height: 0;\n    transition: max-height 0.10s ease-out;\n}\n\n.translate-subtitles__source-list[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   .translate-subtitles__transletions-list[_ngcontent-%COMP%] {\n    \n    max-height: 205px;\n    overflow-y: auto;\n    transition: max-height 0.10s ease-in;\n}\n\n.is-youtube[_ngcontent-%COMP%]   .translate-subtitles__source-list[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   .translate-subtitles__transletions-list[_ngcontent-%COMP%] {\n    max-height: 180px;\n}\n\n.translate-subtitles__transletions-list[_ngcontent-%COMP%]   .list-context.translate-list[_ngcontent-%COMP%] {\n    \n    height: auto;\n    overflow: hidden;\n    margin: 0;\n\n    max-height: 0;\n    transition: max-height 0.10s ease-out;\n}\n\n.translate-subtitles__transletions-list[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]    > li[_ngcontent-%COMP%] {\n    padding: 6px 6px 6px 22px;\n    background-color: #fff;\n    cursor: pointer;\n    border-bottom: 1px solid rgba(155, 187, 205, 0.5);\n}\n\n.translate-subtitles__transletions-list[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]    > li[_ngcontent-%COMP%]   .sub-button-right[_ngcontent-%COMP%] {\n    right: 2px;\n}\n\n\n\n\n\n\n\n.translate-subtitles__transletions-list[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]    > li[_ngcontent-%COMP%]:hover {\n    background-color: rgba(236, 247, 255, .7) !important;\n}\n\n.translate-subtitles__transletions-list[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]    > li.active[_ngcontent-%COMP%]   .list-context.translate-list[_ngcontent-%COMP%] {\n    max-height: 300px;\n    min-height: 56px;\n    transition: max-height 0.10s ease-in;\n}\n\n.translate-subtitles__transletions-list[_ngcontent-%COMP%]   .items-context[_ngcontent-%COMP%] {\n    background: transparent !important;\n    margin: 0;\n    padding: 12px 42px 12px 6px;\n    border-top: 1px solid #ecf7ff;\n}\n\n\n\n.translate-subtitles__transletions-list[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]    > li.active[_ngcontent-%COMP%]   .list-context.translate-list.no-examples[_ngcontent-%COMP%] {\n    min-height: 30px;\n}\n\n.translate-subtitles__transletions-list[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]    > li.active[_ngcontent-%COMP%]   .list-context.translate-list.no-examples[_ngcontent-%COMP%]   .items-context[_ngcontent-%COMP%] {\n    padding: 6px;\n    min-height: 30px;\n    text-align: center;\n    color: rgb(158, 158, 158);\n}\n\n\n\n\n\n\n\n\n\n.switch-samples[_ngcontent-%COMP%]   .star-btn-norm[_ngcontent-%COMP%], .switch-samples[_ngcontent-%COMP%]   .star-filled[_ngcontent-%COMP%] {\n    margin-bottom: -4px;\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n#select_lang_source[_ngcontent-%COMP%], #select_lang_target[_ngcontent-%COMP%] {\n    display: block;\n    width: 100%;\n    height: auto;\n    position: fixed;\n    left: 0;\n    right: 0;\n    top: 32px;\n}\n\n#select_lang_source.mdl-menu-no-click[_ngcontent-%COMP%]   .mdl-menu__item[_ngcontent-%COMP%], #select_lang_target.mdl-menu-no-click[_ngcontent-%COMP%]   .mdl-menu__item[_ngcontent-%COMP%] {\n    box-sizing: border-box;\n    padding: 0px 8px;\n    width: 33.3%;\n    height: 18px;\n    line-height: 18px;\n}\n\n#select_lang_source[_ngcontent-%COMP%]:after, #select_lang_target[_ngcontent-%COMP%]:after {\n    position: fixed;\n    right: 36%;\n    top: 30px;\n    z-index: -1;\n}\n\n#select_lang_target[_ngcontent-%COMP%]:after {\n    right: 21%;\n}"];
exports.styles = styles;


/***/ }),

/***/ "./src/app/pages/translate-subtitles/translate-subtitles.page.ngfactory.js":
/*!*********************************************************************************!*\
  !*** ./src/app/pages/translate-subtitles/translate-subtitles.page.ngfactory.js ***!
  \*********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

/**
 * @fileoverview This file was generated by the Angular template compiler. Do not edit.
 *
 * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}
 * tslint:disable
 */ 
Object.defineProperty(exports, "__esModule", { value: true });
var i0 = __webpack_require__(/*! ./translate-subtitles.page.css.shim.ngstyle */ "./src/app/pages/translate-subtitles/translate-subtitles.page.css.shim.ngstyle.js");
var i1 = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var i2 = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
var i3 = __webpack_require__(/*! @ngx-translate/core */ "./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
var i4 = __webpack_require__(/*! ../../services/profile.service */ "./src/app/services/profile.service.ts");
var i5 = __webpack_require__(/*! ../../../api/api */ "./src/api/api.ts");
var i6 = __webpack_require__(/*! ../../storage/history.storage */ "./src/app/storage/history.storage.ts");
var i7 = __webpack_require__(/*! ../../services/translate.service */ "./src/app/services/translate.service.ts");
var i8 = __webpack_require__(/*! ../../storage/settings.storage */ "./src/app/storage/settings.storage.ts");
var i9 = __webpack_require__(/*! ./translate-subtitles.page */ "./src/app/pages/translate-subtitles/translate-subtitles.page.ts");
var i10 = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var styles_TranslateSubtitlesComponent = [i0.styles];
var RenderType_TranslateSubtitlesComponent = i1.ɵcrt({ encapsulation: 0, styles: styles_TranslateSubtitlesComponent, data: {} });
exports.RenderType_TranslateSubtitlesComponent = RenderType_TranslateSubtitlesComponent;
function View_TranslateSubtitlesComponent_1(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "li", [["class", "mdl-menu__item"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.selectLangSource(_v.context.$implicit.id) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), i1.ɵdid(1, 278528, null, 0, i2.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), (_l()(), i1.ɵted(2, null, ["", " "]))], function (_ck, _v) { var _co = _v.component; var currVal_0 = "mdl-menu__item"; var currVal_1 = ((_co.sourceLang.id == _v.context.$implicit.id) ? "active" : ""); _ck(_v, 1, 0, currVal_0, currVal_1); }, function (_ck, _v) { var currVal_2 = _v.context.$implicit.name; _ck(_v, 2, 0, currVal_2); }); }
function View_TranslateSubtitlesComponent_2(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "li", [["class", "mdl-menu__item"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.selectLangTarget(_v.context.$implicit.id) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), i1.ɵdid(1, 278528, null, 0, i2.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), (_l()(), i1.ɵted(2, null, ["", " "]))], function (_ck, _v) { var _co = _v.component; var currVal_0 = "mdl-menu__item"; var currVal_1 = ((_co.targetLang.id == _v.context.$implicit.id) ? "active" : ""); _ck(_v, 1, 0, currVal_0, currVal_1); }, function (_ck, _v) { var currVal_2 = _v.context.$implicit.name; _ck(_v, 2, 0, currVal_2); }); }
function View_TranslateSubtitlesComponent_3(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 0, "div", [["class", "mdl-progress mdl-js-progress mdl-progress__indeterminate snippet-container-top-left"]], null, null, null, null, null))], null, null); }
function View_TranslateSubtitlesComponent_5(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 3, "span", [["class", "dymApplied-displaySource "]], null, null, null, null, null)), i1.ɵdid(1, 278528, null, 0, i2.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), i1.ɵpod(2, { "rtl": 0 }), (_l()(), i1.ɵted(3, null, [" ", " "]))], function (_ck, _v) { var _co = _v.component; var currVal_0 = "dymApplied-displaySource "; var currVal_1 = _ck(_v, 2, 0, !_co.targetLang.srcLtr); _ck(_v, 1, 0, currVal_0, currVal_1); }, function (_ck, _v) { var currVal_2 = _v.parent.context.$implicit.displaySource; _ck(_v, 3, 0, currVal_2); }); }
function View_TranslateSubtitlesComponent_7(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 4, "i", [], null, [[null, "click"], [null, "mouseover"], [null, "mouseout"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.speakSample(_v.parent.parent.context.index, "play", true) !== false);
        ad = (pd_0 && ad);
    } if (("mouseover" === en)) {
        var pd_1 = (_co.tooltip(("speak-icon-source-" + _v.parent.parent.context.index), true) !== false);
        ad = (pd_1 && ad);
    } if (("mouseout" === en)) {
        var pd_2 = (_co.tooltip(("speak-icon-source-" + _v.parent.parent.context.index), false) !== false);
        ad = (pd_2 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 3, ":svg:svg", [["height", "16"], ["viewBox", "0 0 16 16"], ["width", "16"], ["xmlns", "http://www.w3.org/2000/svg"]], null, null, null, null, null)), (_l()(), i1.ɵeld(2, 0, null, null, 2, ":svg:g", [["fill", "#0970AC"], ["fill-rule", "evenodd"]], null, null, null, null, null)), (_l()(), i1.ɵeld(3, 0, null, null, 0, ":svg:path", [["d", "M9.49 1c.443 0 .74.396.74 1.117v11.102c0 .737-.32 1.15-.802 1.15-.24 0-.522-.103-.825-.323L3.72 10.502H1.993A1.99 1.99 0 0 1 0 8.503V6.832c0-1.103.897-1.998 1.993-1.998h2.318l4.36-3.48c.3-.24.581-.354.82-.354zm-.26 1.188L4.934 5.614l-.273.218H1.993a.997.997 0 0 0-.993 1v1.67c0 .56.437.998.994.998h2.051l.263.192 4.883 3.543.037.027c.002-.014.002-.028.002-.044V2.188zM13.399 12.24a.499.499 0 0 1-.326-.88c.018-.016 1.779-1.554 1.78-3.903.003-2.344-1.756-3.839-1.774-3.854a.5.5 0 0 1 .637-.77c.088.072 2.14 1.798 2.138 4.624-.002 2.823-2.045 4.591-2.132 4.664a.497.497 0 0 1-.323.12"]], null, null, null, null, null)), (_l()(), i1.ɵeld(4, 0, null, null, 0, ":svg:path", [["d", "M11.67 10.776a.498.498 0 0 1-.298-.9c.049-.038 1.105-.855 1.076-2.428-.03-1.598-1.06-2.323-1.071-2.33a.5.5 0 1 1 .565-.825c.06.041 1.467 1.028 1.506 3.137.039 2.11-1.421 3.203-1.483 3.25a.492.492 0 0 1-.295.096"]], null, null, null, null, null))], null, null); }
function View_TranslateSubtitlesComponent_8(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 4, "i", [], null, [[null, "click"], [null, "mouseover"], [null, "mouseout"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.speakSample(0, "pause", true) !== false);
        ad = (pd_0 && ad);
    } if (("mouseover" === en)) {
        var pd_1 = (_co.tooltip(("speak-icon-source-" + _v.parent.parent.context.index), true) !== false);
        ad = (pd_1 && ad);
    } if (("mouseout" === en)) {
        var pd_2 = (_co.tooltip(("speak-icon-source-" + _v.parent.parent.context.index), false) !== false);
        ad = (pd_2 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 3, ":svg:svg", [["height", "14"], ["viewBox", "0 0 16 14"], ["width", "16"], ["xmlns", "http://www.w3.org/2000/svg"]], null, null, null, null, null)), (_l()(), i1.ɵeld(2, 0, null, null, 2, ":svg:g", [["fill", "#0970AC"], ["fill-rule", "evenodd"]], null, null, null, null, null)), (_l()(), i1.ɵeld(3, 0, null, null, 0, ":svg:path", [["d", "M9.49 0c-.238 0-.52.114-.82.354l-4.359 3.48H1.993A1.999 1.999 0 0 0 0 5.832v1.671a1.99 1.99 0 0 0 1.993 1.999H3.72l4.884 3.544c.303.22.584.323.825.323.482 0 .801-.413.801-1.15V1.117C10.23.396 9.933 0 9.49 0M13.399 11.24a.499.499 0 0 1-.326-.88c.018-.016 1.779-1.554 1.78-3.903.003-2.344-1.756-3.839-1.774-3.854a.5.5 0 0 1 .637-.77c.088.072 2.14 1.798 2.138 4.624-.002 2.823-2.045 4.591-2.132 4.664a.497.497 0 0 1-.323.12"]], null, null, null, null, null)), (_l()(), i1.ɵeld(4, 0, null, null, 0, ":svg:path", [["d", "M11.67 9.776a.498.498 0 0 1-.298-.9c.049-.038 1.105-.855 1.076-2.428-.03-1.598-1.06-2.323-1.071-2.33a.5.5 0 1 1 .565-.825c.06.041 1.467 1.028 1.506 3.137.039 2.11-1.421 3.203-1.483 3.25a.492.492 0 0 1-.295.096M1 5v3h3l5 5V1L5 5z"]], null, null, null, null, null))], null, null); }
function View_TranslateSubtitlesComponent_6(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 4, "a", [["class", "speak"]], null, null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSubtitlesComponent_7)), i1.ɵdid(2, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSubtitlesComponent_8)), i1.ɵdid(4, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null)], function (_ck, _v) { var currVal_0 = !_v.parent.context.$implicit.play; _ck(_v, 2, 0, currVal_0); var currVal_1 = _v.parent.context.$implicit.play; _ck(_v, 4, 0, currVal_1); }, null); }
function View_TranslateSubtitlesComponent_9(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "div", [["class", "sw-tooltip"]], [[1, "for", 0]], null, null, null, null)), (_l()(), i1.ɵted(1, null, [" ", " "])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = ("speak-icon-source-" + _v.parent.context.index); _ck(_v, 0, 0, currVal_0); var currVal_1 = i1.ɵunv(_v, 1, 0, i1.ɵnov(_v, 2).transform("play")); _ck(_v, 1, 0, currVal_1); }); }
function View_TranslateSubtitlesComponent_10(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "div", [["class", "sw-tooltip"]], [[1, "for", 0]], null, null, null, null)), (_l()(), i1.ɵted(1, null, [" ", " "])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = ("speak-icon-source-" + _v.parent.context.index); _ck(_v, 0, 0, currVal_0); var currVal_1 = i1.ɵunv(_v, 1, 0, i1.ɵnov(_v, 2).transform("pause")); _ck(_v, 1, 0, currVal_1); }); }
function View_TranslateSubtitlesComponent_14(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "span", [["class", "isSlang-isRude"]], null, null, null, null, null)), i1.ɵdid(1, 278528, null, 0, i2.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), (_l()(), i1.ɵted(-1, null, ["!"]))], function (_ck, _v) { var currVal_0 = "isSlang-isRude"; var currVal_1 = (_v.parent.parent.context.$implicit.isRude ? "mdl-color-text--deep-orange-A400" : "mdl-color-text--amber-A400"); _ck(_v, 1, 0, currVal_0, currVal_1); }, null); }
function View_TranslateSubtitlesComponent_15(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 1, "span", [["class", "dictionary_entry_list"]], null, null, null, null, null)), (_l()(), i1.ɵted(1, null, ["[", "]"]))], null, function (_ck, _v) { var currVal_0 = _v.parent.parent.context.$implicit.pos; _ck(_v, 1, 0, currVal_0); }); }
function View_TranslateSubtitlesComponent_16(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 0, "i", [["class", "star-filled"]], null, [[null, "mouseover"], [null, "mouseout"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("mouseover" === en)) {
        var pd_0 = (_co.tooltip(("add-favorite-star-translation-" + _v.parent.parent.context.index), true) !== false);
        ad = (pd_0 && ad);
    } if (("mouseout" === en)) {
        var pd_1 = (_co.tooltip(("add-favorite-star-translation-" + _v.parent.parent.context.index), false) !== false);
        ad = (pd_1 && ad);
    } return ad; }, null, null))], null, null); }
function View_TranslateSubtitlesComponent_17(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 0, "i", [["class", "star-btn-norm"]], null, [[null, "mouseover"], [null, "mouseout"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("mouseover" === en)) {
        var pd_0 = (_co.tooltip(("add-favorite-star-translation-" + _v.parent.parent.context.index), true) !== false);
        ad = (pd_0 && ad);
    } if (("mouseout" === en)) {
        var pd_1 = (_co.tooltip(("add-favorite-star-translation-" + _v.parent.parent.context.index), false) !== false);
        ad = (pd_1 && ad);
    } return ad; }, null, null))], null, null); }
function View_TranslateSubtitlesComponent_18(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "div", [["class", "sw-tooltip white-space-pre-wrap"]], [[1, "for", 0]], null, null, null, null)), (_l()(), i1.ɵted(1, null, ["", " "])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = ("add-favorite-star-translation-" + _v.parent.parent.context.index); _ck(_v, 0, 0, currVal_0); var currVal_1 = i1.ɵunv(_v, 1, 0, i1.ɵnov(_v, 2).transform("deleteFavorites")); _ck(_v, 1, 0, currVal_1); }); }
function View_TranslateSubtitlesComponent_19(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "div", [["class", "sw-tooltip white-space-pre-wrap"]], [[1, "for", 0]], null, null, null, null)), (_l()(), i1.ɵted(1, null, ["", " "])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = ("add-favorite-star-translation-" + _v.parent.parent.context.index); _ck(_v, 0, 0, currVal_0); var currVal_1 = i1.ɵunv(_v, 1, 0, i1.ɵnov(_v, 2).transform("addFavotites")); _ck(_v, 1, 0, currVal_1); }); }
function View_TranslateSubtitlesComponent_20(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 3, "ul", [["class", "list-context translate-list no-examples"]], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 2, "div", [["class", "items-context mdl-color--white"]], null, null, null, null, null)), (_l()(), i1.ɵted(2, null, ["", ""])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = i1.ɵunv(_v, 2, 0, i1.ɵnov(_v, 3).transform("noExample")); _ck(_v, 2, 0, currVal_0); }); }
function View_TranslateSubtitlesComponent_23(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 4, "i", [], null, [[null, "click"], [null, "mouseover"], [null, "mouseout"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.speakSample(0, "play") !== false);
        ad = (pd_0 && ad);
    } if (("mouseover" === en)) {
        var pd_1 = (_co.tooltip(((("speak-icon-" + _v.parent.parent.parent.parent.context.index) + "-") + 0), true) !== false);
        ad = (pd_1 && ad);
    } if (("mouseout" === en)) {
        var pd_2 = (_co.tooltip(((("speak-icon-" + _v.parent.parent.parent.parent.context.index) + "-") + 0), false) !== false);
        ad = (pd_2 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 3, ":svg:svg", [["height", "16"], ["viewBox", "0 0 16 16"], ["width", "16"], ["xmlns", "http://www.w3.org/2000/svg"]], null, null, null, null, null)), (_l()(), i1.ɵeld(2, 0, null, null, 2, ":svg:g", [["fill", "#0970AC"], ["fill-rule", "evenodd"]], null, null, null, null, null)), (_l()(), i1.ɵeld(3, 0, null, null, 0, ":svg:path", [["d", "M9.49 1c.443 0 .74.396.74 1.117v11.102c0 .737-.32 1.15-.802 1.15-.24 0-.522-.103-.825-.323L3.72 10.502H1.993A1.99 1.99 0 0 1 0 8.503V6.832c0-1.103.897-1.998 1.993-1.998h2.318l4.36-3.48c.3-.24.581-.354.82-.354zm-.26 1.188L4.934 5.614l-.273.218H1.993a.997.997 0 0 0-.993 1v1.67c0 .56.437.998.994.998h2.051l.263.192 4.883 3.543.037.027c.002-.014.002-.028.002-.044V2.188zM13.399 12.24a.499.499 0 0 1-.326-.88c.018-.016 1.779-1.554 1.78-3.903.003-2.344-1.756-3.839-1.774-3.854a.5.5 0 0 1 .637-.77c.088.072 2.14 1.798 2.138 4.624-.002 2.823-2.045 4.591-2.132 4.664a.497.497 0 0 1-.323.12"]], null, null, null, null, null)), (_l()(), i1.ɵeld(4, 0, null, null, 0, ":svg:path", [["d", "M11.67 10.776a.498.498 0 0 1-.298-.9c.049-.038 1.105-.855 1.076-2.428-.03-1.598-1.06-2.323-1.071-2.33a.5.5 0 1 1 .565-.825c.06.041 1.467 1.028 1.506 3.137.039 2.11-1.421 3.203-1.483 3.25a.492.492 0 0 1-.295.096"]], null, null, null, null, null))], null, null); }
function View_TranslateSubtitlesComponent_24(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 4, "i", [], null, [[null, "click"], [null, "mouseover"], [null, "mouseout"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.speakSample(0, "pause") !== false);
        ad = (pd_0 && ad);
    } if (("mouseover" === en)) {
        var pd_1 = (_co.tooltip(((("speak-icon-" + _v.parent.parent.parent.parent.context.index) + "-") + 0), true) !== false);
        ad = (pd_1 && ad);
    } if (("mouseout" === en)) {
        var pd_2 = (_co.tooltip(((("speak-icon-" + _v.parent.parent.parent.parent.context.index) + "-") + 0), false) !== false);
        ad = (pd_2 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 3, ":svg:svg", [["height", "14"], ["viewBox", "0 0 16 14"], ["width", "16"], ["xmlns", "http://www.w3.org/2000/svg"]], null, null, null, null, null)), (_l()(), i1.ɵeld(2, 0, null, null, 2, ":svg:g", [["fill", "#0970AC"], ["fill-rule", "evenodd"]], null, null, null, null, null)), (_l()(), i1.ɵeld(3, 0, null, null, 0, ":svg:path", [["d", "M9.49 0c-.238 0-.52.114-.82.354l-4.359 3.48H1.993A1.999 1.999 0 0 0 0 5.832v1.671a1.99 1.99 0 0 0 1.993 1.999H3.72l4.884 3.544c.303.22.584.323.825.323.482 0 .801-.413.801-1.15V1.117C10.23.396 9.933 0 9.49 0M13.399 11.24a.499.499 0 0 1-.326-.88c.018-.016 1.779-1.554 1.78-3.903.003-2.344-1.756-3.839-1.774-3.854a.5.5 0 0 1 .637-.77c.088.072 2.14 1.798 2.138 4.624-.002 2.823-2.045 4.591-2.132 4.664a.497.497 0 0 1-.323.12"]], null, null, null, null, null)), (_l()(), i1.ɵeld(4, 0, null, null, 0, ":svg:path", [["d", "M11.67 9.776a.498.498 0 0 1-.298-.9c.049-.038 1.105-.855 1.076-2.428-.03-1.598-1.06-2.323-1.071-2.33a.5.5 0 1 1 .565-.825c.06.041 1.467 1.028 1.506 3.137.039 2.11-1.421 3.203-1.483 3.25a.492.492 0 0 1-.295.096M1 5v3h3l5 5V1L5 5z"]], null, null, null, null, null))], null, null); }
function View_TranslateSubtitlesComponent_22(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 4, "a", [["class", "speak"]], [[8, "id", 0]], null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSubtitlesComponent_23)), i1.ɵdid(2, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSubtitlesComponent_24)), i1.ɵdid(4, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null)], function (_ck, _v) { var currVal_1 = !_v.parent.context.ngIf.play; _ck(_v, 2, 0, currVal_1); var currVal_2 = _v.parent.context.ngIf.play; _ck(_v, 4, 0, currVal_2); }, function (_ck, _v) { var currVal_0 = i1.ɵinlineInterpolate(2, "speak-icon-", _v.parent.parent.parent.context.index, "-", 0, ""); _ck(_v, 0, 0, currVal_0); }); }
function View_TranslateSubtitlesComponent_25(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "div", [["class", "sw-tooltip"]], [[1, "for", 0]], null, null, null, null)), (_l()(), i1.ɵted(1, null, [" ", " "])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = ((("speak-icon-" + _v.parent.parent.parent.context.index) + "-") + 0); _ck(_v, 0, 0, currVal_0); var currVal_1 = i1.ɵunv(_v, 1, 0, i1.ɵnov(_v, 2).transform("play")); _ck(_v, 1, 0, currVal_1); }); }
function View_TranslateSubtitlesComponent_26(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "div", [["class", "sw-tooltip"]], [[1, "for", 0]], null, null, null, null)), (_l()(), i1.ɵted(1, null, [" ", " "])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = ((("speak-icon-" + _v.parent.parent.parent.context.index) + "-") + 0); _ck(_v, 0, 0, currVal_0); var currVal_1 = i1.ɵunv(_v, 1, 0, i1.ɵnov(_v, 2).transform("pause")); _ck(_v, 1, 0, currVal_1); }); }
function View_TranslateSubtitlesComponent_27(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 0, "i", [["class", "star-filled"]], null, [[null, "mouseover"], [null, "mouseout"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("mouseover" === en)) {
        var pd_0 = (_co.tooltip(((("add-favorite-star-" + _v.parent.parent.parent.context.index) + "-") + 0), true) !== false);
        ad = (pd_0 && ad);
    } if (("mouseout" === en)) {
        var pd_1 = (_co.tooltip(((("add-favorite-star-" + _v.parent.parent.parent.context.index) + "-") + 0), false) !== false);
        ad = (pd_1 && ad);
    } return ad; }, null, null))], null, null); }
function View_TranslateSubtitlesComponent_28(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 0, "i", [["class", "star-btn-norm"]], null, [[null, "mouseover"], [null, "mouseout"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("mouseover" === en)) {
        var pd_0 = (_co.tooltip(((("add-favorite-star-" + _v.parent.parent.parent.context.index) + "-") + 0), true) !== false);
        ad = (pd_0 && ad);
    } if (("mouseout" === en)) {
        var pd_1 = (_co.tooltip(((("add-favorite-star-" + _v.parent.parent.parent.context.index) + "-") + 0), false) !== false);
        ad = (pd_1 && ad);
    } return ad; }, null, null))], null, null); }
function View_TranslateSubtitlesComponent_29(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "div", [["class", "sw-tooltip white-space-pre-wrap"]], [[1, "for", 0]], null, null, null, null)), (_l()(), i1.ɵted(1, null, ["", ""])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = ((("add-favorite-star-" + _v.parent.parent.parent.context.index) + "-") + 0); _ck(_v, 0, 0, currVal_0); var currVal_1 = i1.ɵunv(_v, 1, 0, i1.ɵnov(_v, 2).transform("deleteFavorites")); _ck(_v, 1, 0, currVal_1); }); }
function View_TranslateSubtitlesComponent_30(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "div", [["class", "sw-tooltip white-space-pre-wrap"]], [[1, "for", 0]], null, null, null, null)), (_l()(), i1.ɵted(1, null, ["", ""])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = ((("add-favorite-star-" + _v.parent.parent.parent.context.index) + "-") + 0); _ck(_v, 0, 0, currVal_0); var currVal_1 = i1.ɵunv(_v, 1, 0, i1.ɵnov(_v, 2).transform("addFavotites")); _ck(_v, 1, 0, currVal_1); }); }
function View_TranslateSubtitlesComponent_21(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 26, "ul", [["class", "list-context translate-list"]], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 25, "li", [["class", "items-context mdl-color--white"]], null, null, null, null, null)), (_l()(), i1.ɵeld(2, 0, null, null, 1, "span", [["class", "context-source"]], [[8, "innerHTML", 1]], null, null, null, null)), i1.ɵdid(3, 278528, null, 0, i2.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), (_l()(), i1.ɵeld(4, 0, null, null, 4, "i", [["class", "material-icons arrow-target light-blure-text"]], null, null, null, null, null)), (_l()(), i1.ɵeld(5, 0, null, null, 3, ":svg:svg", [["height", "12"], ["viewBox", "0 0 13 12"], ["width", "13"], ["xmlns", "http://www.w3.org/2000/svg"]], null, null, null, null, null)), (_l()(), i1.ɵeld(6, 0, null, null, 2, ":svg:g", [["fill", "#32485F"], ["fill-rule", "evenodd"]], null, null, null, null, null)), (_l()(), i1.ɵeld(7, 0, null, null, 0, ":svg:path", [["d", "M0 0h1v8H0zM8 8v1H0V8z"]], null, null, null, null, null)), (_l()(), i1.ɵeld(8, 0, null, null, 0, ":svg:path", [["d", "M12.043 8.5l-4.956 2.587-.087-5z"]], null, null, null, null, null)), (_l()(), i1.ɵeld(9, 0, null, null, 1, "span", [["class", "context-target"]], [[8, "innerHTML", 1]], null, null, null, null)), i1.ɵdid(10, 278528, null, 0, i2.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), (_l()(), i1.ɵeld(11, 0, null, null, 15, "span", [["class", "sub-button-right"]], null, null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSubtitlesComponent_22)), i1.ɵdid(13, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSubtitlesComponent_25)), i1.ɵdid(15, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSubtitlesComponent_26)), i1.ɵdid(17, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵeld(18, 0, null, null, 4, "a", [["class", "addFavorit"]], [[8, "id", 0]], [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.addFavorite(0) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSubtitlesComponent_27)), i1.ɵdid(20, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSubtitlesComponent_28)), i1.ɵdid(22, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSubtitlesComponent_29)), i1.ɵdid(24, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSubtitlesComponent_30)), i1.ɵdid(26, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null)], function (_ck, _v) { var _co = _v.component; var currVal_1 = "context-source"; var currVal_2 = (!_co.targetLang.srcLtr ? "ltr text-right" : ""); _ck(_v, 3, 0, currVal_1, currVal_2); var currVal_4 = "context-target"; var currVal_5 = (!_co.targetLang.trgLtr ? "ltr text-right" : ""); _ck(_v, 10, 0, currVal_4, currVal_5); var currVal_6 = (_co.sourceLang.speakerName && (_co.sourceLang.speakerName.length > 0)); _ck(_v, 13, 0, currVal_6); var currVal_7 = !_v.context.ngIf.play; _ck(_v, 15, 0, currVal_7); var currVal_8 = _v.context.ngIf.play; _ck(_v, 17, 0, currVal_8); var currVal_10 = _v.context.ngIf.favoriteId; _ck(_v, 20, 0, currVal_10); var currVal_11 = !_v.context.ngIf.favoriteId; _ck(_v, 22, 0, currVal_11); var currVal_12 = _v.context.ngIf.favoriteId; _ck(_v, 24, 0, currVal_12); var currVal_13 = !_v.context.ngIf.favoriteId; _ck(_v, 26, 0, currVal_13); }, function (_ck, _v) { var currVal_0 = _v.context.ngIf.source; _ck(_v, 2, 0, currVal_0); var currVal_3 = _v.context.ngIf.target; _ck(_v, 9, 0, currVal_3); var currVal_9 = i1.ɵinlineInterpolate(2, "add-favorite-star-", _v.parent.parent.context.index, "-", 0, ""); _ck(_v, 18, 0, currVal_9); }); }
function View_TranslateSubtitlesComponent_13(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 20, "li", [], [[8, "id", 0]], null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 15, "a", [["class", "switch-samples"]], [[8, "id", 0]], null, null, null, null)), (_l()(), i1.ɵeld(2, 0, null, null, 3, "span", [["class", "added-sapmles-button translate-word"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.getSample(_v.parent.context.index, _v.parent.parent.parent.context.index) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSubtitlesComponent_14)), i1.ɵdid(4, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵted(5, null, [" ", " "])), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSubtitlesComponent_15)), i1.ɵdid(7, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵeld(8, 0, null, null, 4, "span", [["class", "addFavorit"]], [[8, "id", 0]], [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.addFavorite(_v.parent.context.index, true) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSubtitlesComponent_16)), i1.ɵdid(10, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSubtitlesComponent_17)), i1.ɵdid(12, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSubtitlesComponent_18)), i1.ɵdid(14, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSubtitlesComponent_19)), i1.ɵdid(16, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSubtitlesComponent_20)), i1.ɵdid(18, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSubtitlesComponent_21)), i1.ɵdid(20, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null)], function (_ck, _v) { var _co = _v.component; var currVal_2 = (_v.parent.context.$implicit.isSlang || _v.parent.context.$implicit.isRude); _ck(_v, 4, 0, currVal_2); var currVal_4 = _v.parent.context.$implicit.pos; _ck(_v, 7, 0, currVal_4); var currVal_6 = _v.parent.context.$implicit.favoriteId; _ck(_v, 10, 0, currVal_6); var currVal_7 = !_v.parent.context.$implicit.favoriteId; _ck(_v, 12, 0, currVal_7); var currVal_8 = _v.parent.context.$implicit.favoriteId; _ck(_v, 14, 0, currVal_8); var currVal_9 = !_v.parent.context.$implicit.favoriteId; _ck(_v, 16, 0, currVal_9); var currVal_10 = ((((_co.sources.translations.length > 0) && (_co.contexts.contexts.length < 1)) && !_co.isTranslate) && !_co.error); _ck(_v, 18, 0, currVal_10); var currVal_11 = (_co.contexts.contexts[0] && _co.contexts.contexts[0]); _ck(_v, 20, 0, currVal_11); }, function (_ck, _v) { var currVal_0 = i1.ɵinlineInterpolate(1, "translate-subtitles__", _v.parent.context.index, ""); _ck(_v, 0, 0, currVal_0); var currVal_1 = i1.ɵinlineInterpolate(1, "translation-", _v.parent.context.index, ""); _ck(_v, 1, 0, currVal_1); var currVal_3 = _v.parent.context.$implicit.translation; _ck(_v, 5, 0, currVal_3); var currVal_5 = i1.ɵinlineInterpolate(1, "add-favorite-star-translation-", _v.parent.context.index, ""); _ck(_v, 8, 0, currVal_5); }); }
function View_TranslateSubtitlesComponent_12(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "span", [], null, null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSubtitlesComponent_13)), i1.ɵdid(2, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null)], function (_ck, _v) { var currVal_0 = (_v.context.$implicit.translation != "..."); _ck(_v, 2, 0, currVal_0); }, null); }
function View_TranslateSubtitlesComponent_11(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "ul", [["class", "translate-subtitles__transletions-list"]], null, null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSubtitlesComponent_12)), i1.ɵdid(2, 802816, null, 0, i2.NgForOf, [i1.ViewContainerRef, i1.TemplateRef, i1.IterableDiffers], { ngForOf: [0, "ngForOf"] }, null)], function (_ck, _v) { var currVal_0 = _v.parent.context.$implicit.translations; _ck(_v, 2, 0, currVal_0); }, null); }
function View_TranslateSubtitlesComponent_4(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 22, "li", [], [[8, "id", 0]], null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 19, "div", [["class", "mdl-button mdl-js-button mdl-button--raised rr-button translate-subtitles__source-list__source"]], null, null, null, null, null)), (_l()(), i1.ɵeld(2, 0, null, null, 3, "span", [["class", "added-sapmles-button button-select-source  source-header-button"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.selectSource(_v.context.index) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSubtitlesComponent_5)), i1.ɵdid(4, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵted(5, null, [" ", " "])), (_l()(), i1.ɵeld(6, 0, null, null, 5, "span", [["class", "added-sapmles-button"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.goToReversoContext(_v.context.$implicit.source) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵeld(7, 0, null, null, 4, "i", [["class", "edit-button-source"]], [[8, "id", 0]], [[null, "mouseover"], [null, "mouseout"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("mouseover" === en)) {
        var pd_0 = (_co.tooltip(("go-button-reverso-context-" + _co.i), true) !== false);
        ad = (pd_0 && ad);
    } if (("mouseout" === en)) {
        var pd_1 = (_co.tooltip(("go-button-reverso-context-" + _co.i), false) !== false);
        ad = (pd_1 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵeld(8, 0, null, null, 3, ":svg:svg", [["height", "18"], ["viewBox", "0 0 17 18"], ["width", "17"], ["xmlns", "http://www.w3.org/2000/svg"]], null, null, null, null, null)), (_l()(), i1.ɵeld(9, 0, null, null, 2, ":svg:g", [["fill", "none"], ["fill-rule", "evenodd"], ["stroke", "#9BBBCD"], ["transform", "translate(0 .771)"]], null, null, null, null, null)), (_l()(), i1.ɵeld(10, 0, null, null, 0, ":svg:circle", [["cx", "6.5"], ["cy", "6.5"], ["r", "5.75"], ["stroke-width", "1.5"]], null, null, null, null, null)), (_l()(), i1.ɵeld(11, 0, null, null, 0, ":svg:path", [["d", "M11 11l5 5"], ["stroke-linecap", "round"], ["stroke-width", "2"]], null, null, null, null, null)), (_l()(), i1.ɵeld(12, 0, null, null, 2, "div", [["class", "sw-tooltip"]], [[1, "for", 0]], null, null, null, null)), (_l()(), i1.ɵted(13, null, [" ", " "])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSubtitlesComponent_6)), i1.ɵdid(16, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSubtitlesComponent_9)), i1.ɵdid(18, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSubtitlesComponent_10)), i1.ɵdid(20, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSubtitlesComponent_11)), i1.ɵdid(22, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null)], function (_ck, _v) { var _co = _v.component; var currVal_1 = _v.context.$implicit.dymApplied; _ck(_v, 4, 0, currVal_1); var currVal_6 = (_co.sourceLang.speakerName && (_co.sourceLang.speakerName.length > 0)); _ck(_v, 16, 0, currVal_6); var currVal_7 = !_v.context.$implicit.play; _ck(_v, 18, 0, currVal_7); var currVal_8 = _v.context.$implicit.play; _ck(_v, 20, 0, currVal_8); var currVal_9 = (_co.activeSourcesIndex == _v.context.index); _ck(_v, 22, 0, currVal_9); }, function (_ck, _v) { var _co = _v.component; var currVal_0 = i1.ɵinlineInterpolate(1, "source-", _v.context.index, ""); _ck(_v, 0, 0, currVal_0); var currVal_2 = _v.context.$implicit.source; _ck(_v, 5, 0, currVal_2); var currVal_3 = i1.ɵinlineInterpolate(1, "go-button-reverso-context-", _v.context.index, ""); _ck(_v, 7, 0, currVal_3); var currVal_4 = ("go-button-reverso-context-" + _co.i); _ck(_v, 12, 0, currVal_4); var currVal_5 = i1.ɵunv(_v, 13, 0, i1.ɵnov(_v, 14).transform("translateReverso")); _ck(_v, 13, 0, currVal_5); }); }
function View_TranslateSubtitlesComponent_31(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 0, "header", [["class", "subheader-translate mdl-color--white text-center mdl-color-text--deep-orange-A400 text"]], [[8, "innerHTML", 1]], null, null, null, null))], null, function (_ck, _v) { var _co = _v.component; var currVal_0 = _co.errorMessage; _ck(_v, 0, 0, currVal_0); }); }
function View_TranslateSubtitlesComponent_0(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 16, "div", [["class", "select-lang w-15 text-right"]], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 1, "button", [["class", "mdl-menu-no-click mdl-button mdl-js-button mdl-button--colored go-edit mdl-color-text--white mdl-menu-button capitalize select_lang_source-button"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        _co.mdMenu.show("select_lang_source");
        _co.mdMenu.show("background-for-lang");
        var pd_0 = (_co.highlightButtonLang("select_lang_source-button") !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵted(2, null, [" ", " "])), (_l()(), i1.ɵeld(3, 0, null, null, 2, "ul", [["class", "mdl-menu mdl-menu--bottom-right hide mdl-menu-no-click mdl-menu-no-click-my"], ["id", "select_lang_source"]], null, null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSubtitlesComponent_1)), i1.ɵdid(5, 802816, null, 0, i2.NgForOf, [i1.ViewContainerRef, i1.TemplateRef, i1.IterableDiffers], { ngForOf: [0, "ngForOf"] }, null), (_l()(), i1.ɵeld(6, 0, null, null, 4, "div", [["class", "lang_revers text-center inline-block"]], null, null, null, null, null)), (_l()(), i1.ɵeld(7, 0, null, null, 3, "button", [["class", "mdl-button mdl-js-button mdl-button--icon mdl-color-text--white revers-lang-button"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.reversLang() !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵeld(8, 0, null, null, 2, ":svg:svg", [["height", "10"], ["viewBox", "0 0 10 10"], ["width", "10"], ["xmlns", "http://www.w3.org/2000/svg"]], null, null, null, null, null)), (_l()(), i1.ɵeld(9, 0, null, null, 1, ":svg:g", [["fill", "#FFF"], ["fill-rule", "evenodd"]], null, null, null, null, null)), (_l()(), i1.ɵeld(10, 0, null, null, 0, ":svg:path", [["d", "M1.84 5.713C.166 4.235.151 3.27.02 3c-.095.992.106 2.624 1.074 3.834.68.849 1.998 1.714 3.072 1.9-.073.42-.131.974-.141 1.248C5.42 10.165 8 8.898 8 8.898S6.172 6.003 4.43 5c-.033.29.019 1.736 0 2.162-.812-.256-1.947-.88-2.59-1.449zM8.173 4.287C9.835 5.765 9.85 6.73 9.98 7c.095-.992-.105-2.624-1.067-3.834-.674-.848-1.984-1.714-3.05-1.899.072-.42.13-.975.14-1.248C4.617-.165 2 1.07 2 1.07S3.87 3.997 5.6 5c.034-.289-.018-1.736 0-2.162.807.256 1.934.88 2.573 1.449z"]], null, null, null, null, null)), (_l()(), i1.ɵeld(11, 0, null, null, 1, "button", [["class", "mdl-menu-no-click mdl-button mdl-js-button mdl-button--colored go-edit mdl-color-text--white mdl-menu-button capitalize select_lang_target-button"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        _co.mdMenu.show("select_lang_target");
        _co.mdMenu.show("background-for-lang");
        var pd_0 = (_co.highlightButtonLang("select_lang_target-button") !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵted(12, null, [" ", " "])), (_l()(), i1.ɵeld(13, 0, null, null, 2, "ul", [["class", "mdl-menu mdl-menu--bottom-right hide mdl-menu-no-click mdl-menu-no-click-my"], ["id", "select_lang_target"]], null, null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSubtitlesComponent_2)), i1.ɵdid(15, 802816, null, 0, i2.NgForOf, [i1.ViewContainerRef, i1.TemplateRef, i1.IterableDiffers], { ngForOf: [0, "ngForOf"] }, null), (_l()(), i1.ɵeld(16, 0, null, null, 0, "span", [["class", "mdl-menu mdl-menu-no-click"], ["id", "background-for-lang"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.mdMenu.hide() !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSubtitlesComponent_3)), i1.ɵdid(18, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵeld(19, 0, null, null, 4, "main", [["id", "translate-subtitles-page"]], null, null, null, null, null)), i1.ɵdid(20, 278528, null, 0, i2.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { ngClass: [0, "ngClass"] }, null), (_l()(), i1.ɵeld(21, 0, null, null, 2, "ul", [["class", "translate-subtitles__source-list"]], null, null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSubtitlesComponent_4)), i1.ɵdid(23, 802816, null, 0, i2.NgForOf, [i1.ViewContainerRef, i1.TemplateRef, i1.IterableDiffers], { ngForOf: [0, "ngForOf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateSubtitlesComponent_31)), i1.ɵdid(25, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null)], function (_ck, _v) { var _co = _v.component; var currVal_1 = _co.directions.directions; _ck(_v, 5, 0, currVal_1); var currVal_3 = _co.sourceLang.targets; _ck(_v, 15, 0, currVal_3); var currVal_4 = (_co.isTranslate == true); _ck(_v, 18, 0, currVal_4); var currVal_5 = (_co.isYouTube ? "is-youtube" : ""); _ck(_v, 20, 0, currVal_5); var currVal_6 = _co.allSources; _ck(_v, 23, 0, currVal_6); var currVal_7 = _co.error; _ck(_v, 25, 0, currVal_7); }, function (_ck, _v) { var _co = _v.component; var currVal_0 = _co.sourceLang.id; _ck(_v, 2, 0, currVal_0); var currVal_2 = _co.targetLang.id; _ck(_v, 12, 0, currVal_2); }); }
exports.View_TranslateSubtitlesComponent_0 = View_TranslateSubtitlesComponent_0;
function View_TranslateSubtitlesComponent_Host_0(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 5, "translate-subtitles-page", [], null, null, null, View_TranslateSubtitlesComponent_0, RenderType_TranslateSubtitlesComponent)), i1.ɵprd(512, null, i4.ProfileService, i4.ProfileService, [i5.Api]), i1.ɵprd(512, null, i6.HistoryStorage, i6.HistoryStorage, []), i1.ɵprd(512, null, i7.TranslService, i7.TranslService, [i5.Api, i4.ProfileService, i6.HistoryStorage]), i1.ɵprd(512, null, i8.SettingsStorage, i8.SettingsStorage, []), i1.ɵdid(5, 245760, null, 0, i9.TranslateSubtitlesComponent, [i10.Router, i10.ActivatedRoute, i4.ProfileService, i7.TranslService, i8.SettingsStorage, i6.HistoryStorage], null, null)], function (_ck, _v) { _ck(_v, 5, 0); }, null); }
exports.View_TranslateSubtitlesComponent_Host_0 = View_TranslateSubtitlesComponent_Host_0;
var TranslateSubtitlesComponentNgFactory = i1.ɵccf("translate-subtitles-page", i9.TranslateSubtitlesComponent, View_TranslateSubtitlesComponent_Host_0, {}, {}, []);
exports.TranslateSubtitlesComponentNgFactory = TranslateSubtitlesComponentNgFactory;


/***/ }),

/***/ "./src/app/pages/translate-subtitles/translate-subtitles.page.ts":
/*!***********************************************************************!*\
  !*** ./src/app/pages/translate-subtitles/translate-subtitles.page.ts ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var core_1 = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var router_1 = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
// Add the RxJS Observable operators we need in this app.
__webpack_require__(/*! ./../../rxjs-operators */ "./src/app/rxjs-operators.ts");
var main_func_1 = __webpack_require__(/*! ../../functions/main.func */ "./src/app/functions/main.func.ts");
var config_1 = __webpack_require__(/*! ../../config */ "./src/app/config.ts");
var settings_storage_1 = __webpack_require__(/*! ../../storage/settings.storage */ "./src/app/storage/settings.storage.ts");
var history_storage_1 = __webpack_require__(/*! ../../storage/history.storage */ "./src/app/storage/history.storage.ts");
var profile_service_1 = __webpack_require__(/*! ../../services/profile.service */ "./src/app/services/profile.service.ts");
var profile_local_1 = __webpack_require__(/*! ../../services/profile.local */ "./src/app/services/profile.local.ts");
var translate_service_1 = __webpack_require__(/*! ../../services/translate.service */ "./src/app/services/translate.service.ts");
var language_extras_1 = __webpack_require__(/*! ../../extras/language.extras */ "./src/app/extras/language.extras.ts");
var favorites_service_1 = __webpack_require__(/*! ../../services/favorites.service */ "./src/app/services/favorites.service.ts");
var TranslateSubtitlesComponent = /** @class */ (function () {
    function TranslateSubtitlesComponent(router, route, profileService, translateService, settingsStorage, historyStorage) {
        this.router = router;
        this.route = route;
        this.profileService = profileService;
        this.translateService = translateService;
        this.settingsStorage = settingsStorage;
        this.historyStorage = historyStorage;
        this.error = false;
        this.errorMessage = '';
        this.isTranslate = false;
        this.isIframe = top.location !== self.location;
        this.translateSite = false;
        this.textTranslate = '';
        this.sources = {
            count: 0,
            displaySource: '',
            source: '',
            translations: [],
            weight: 0
        };
        this.configurations = config_1.configurations;
        this.tooltip = main_func_1.tooltip;
        this.contexts = { contexts: [] };
        this.activeSourcesIndex = 0;
        this.directions = {
            directions: []
        };
        this.sourceLang = {
            id: '',
            name: '',
            targets: [{ id: 0 }],
            speakerName: ''
        };
        this.targetLang = {
            id: '',
            name: '',
            speakerName: '',
            srcLtr: true,
            trgLtr: true
        };
        this.settingTranslateSegment = true;
        this.sourceLength = 0;
        this.sourceWeight = -1;
        // Main Functions
        this.mdMenu = main_func_1.mdMenu;
        this.isMobile = main_func_1.isMobile();
        this.isAuth = false;
        this.isYouTube = false;
        this.params = {
            word: this.route.params['value']['word'] || '',
            arrayWords: this.route.params['value']['arrayWords'] || [],
            sentence: this.route.params['value']['sentence'] || '',
            sentenceForLang: this.route.params['value']['sentenceForLang'] || '',
            position: this.route.params['value']['position'] || -1,
            countWord: this.route.params['value']['countWord'] || 1,
            siteTitle: this.route.params['value']['siteTitle'] || '',
            siteOrigin: this.route.params['value']['siteOrigin'] || '',
            siteHref: this.route.params['value']['siteHref'] || 'Extension',
            lang_source: this.route.params['value']['lang'] || '',
            lang_target: this.route.params['value']['langTarget'] || '',
            miniView: this.route.params['value']['miniView'] || false,
            reversoPage: this.route.params['value']['reversoPage'] || false
        };
        if (typeof (this.params['miniView']) !== 'boolean') {
            this.params['miniView'] = this.params['miniView'] === 'true';
        }
        // Для нормальной работы с высотой
        if (document.querySelector('main.mdl-layout__content')) {
            document.querySelector('main.mdl-layout__content')['style'].overflowY = 'auto';
        }
        if (document.querySelector('#title-page')) {
            document.querySelector('#title-page').innerHTML = '';
        }
        if (document.querySelector('#header_feedback_btn')) {
            document.querySelector('#header_feedback_btn')['style'].display = 'none';
        }
    }
    // Выставить язык сурса
    TranslateSubtitlesComponent.prototype.selectLangSource = function (id, goTranslate) {
        // Получаем язык из базы сурс СТАРЫЙ!
        // this.settingsStorage.getRow('lang_source').then((lang_source: any) => {
        //     this.languageExtras.oldSourceLang = lang_source != null ? lang_source :
        //         configurations.appLang == 'en' ? 'fr' : 'en';
        // }, (error: any) => {
        //     this.languageExtras.oldSourceLang = configurations.appLang == 'en' ? 'fr' : 'en';
        // });
        var _this = this;
        if (goTranslate === void 0) { goTranslate = true; }
        this.mdMenu.hide();
        this.languageExtras.selectLangSource(id).then(function (res) {
            _this.sourceLang = res;
            try {
                window.parent['postMessage']('setLangSourceSub:' + id, '*');
            }
            catch (error) {
            }
            // Получаем язык с базы таргет
            _this.settingsStorage.getRow('lang_target').then(function (lang_target) {
                // lang_target = lang_target != null ? lang_target :
                //     APP_LANG == 'en' ? 'en' : 'fr';
                lang_target = lang_target != null ? lang_target : config_1.configurations.appLang;
                _this.languageExtras.selectLangTarget(lang_target).then(function (result) {
                    _this.targetLang = result;
                    // Запускаем перевод
                    if (goTranslate && _this.textTranslate.trim().length > 0) {
                        // Перевод слова и сегмента
                        _this.textTranslate = _this.params['word'] ? _this.params['word'].toString() : _this.textTranslate;
                        if (_this.params['countWord'] && parseInt(_this.params['countWord'], 10) === 1) {
                            _this.translateFull();
                        }
                        else {
                            _this.translateSimple();
                        }
                    }
                });
            }, function (error) {
                console.error(error);
            });
        }, function (error) {
            console.error(error);
        });
    };
    // Выставить язык таргета
    TranslateSubtitlesComponent.prototype.selectLangTarget = function (id, goTranslate) {
        var _this = this;
        if (goTranslate === void 0) { goTranslate = true; }
        var subPage = document.querySelector('#translate-subtitles-page');
        if (subPage) {
            subPage.classList.remove('enlarge-text');
        }
        this.mdMenu.hide();
        this.languageExtras.selectLangTarget(id).then(function (res) {
            _this.targetLang = res;
            // Increase font for Arabic and Hebrew subtitles
            if (subPage && (res.id === 'he' || res.id === 'ar')) {
                subPage.classList.add('enlarge-text');
            }
            // Запускаем перевод
            if (goTranslate && _this.textTranslate.trim().length > 0) {
                // Перевод слова и сегмента
                if (_this.params['countWord'] && parseInt(_this.params['countWord'], 10) === 1) {
                    _this.textTranslate = _this.params['word'] ? _this.params['word'].toString() : _this.textTranslate;
                    _this.translateFull();
                }
                else {
                    _this.translateSimple();
                }
            }
        }, function (error) {
            console.error(error);
        });
    };
    // Реверс языков
    TranslateSubtitlesComponent.prototype.reversLang = function (goTranslate) {
        var _this = this;
        if (goTranslate === void 0) { goTranslate = true; }
        this.languageExtras.reversLangSub(this.targetLang.id, this.sourceLang.id).then(function (res) {
            _this.sourceLang = res['sourceLang'];
            _this.targetLang = res['targetLang'];
            try {
                window.parent['postMessage']('setLangSourceSub:' + _this.sourceLang['id'], '*');
            }
            catch (error) {
            }
            // Запускаем перевод
            if (goTranslate && _this.textTranslate.trim().length > 0) {
                // Перевод слова и сегмента
                if (_this.params['countWord'] && parseInt(_this.params['countWord'], 10) === 1) {
                    _this.textTranslate = _this.params['word'] ? _this.params['word'].toString() : _this.textTranslate;
                    _this.translateFull();
                }
                else {
                    _this.translateSimple();
                }
            }
        }, function (error) {
            console.error(error);
        });
    };
    // Прямой перевод
    TranslateSubtitlesComponent.prototype.translateSimple = function () {
        var _this = this;
        this.sourceLength = 0;
        this.sourceWeight = -1;
        this.mdMenu.hide();
        this.error = false;
        this.errorMessage = '';
        this.sourceWeight = -1;
        this.sourceLength = 0;
        this.sources = { translations: [] };
        this.contexts = { contexts: [] };
        this.indexTranslate = -1;
        // Записываем для FeedBack
        this.settingsStorage.add('feedback', {
            'Url': this.params.siteHref,
            'Word': this.params.word,
            'Sentence': this.params.sentence
        });
        if (!this.isTranslate && this.textTranslate.trim().length > 0) {
            // Условие на перевод только цифр
            if (isNaN(Number(this.textTranslate)) === false) {
                this.error = true;
                this.errorMessage = config_1.configurations.localization['numberIsNotTranslated'];
                return false;
            }
            // Если есть подключение к интернету
            if (window.navigator.onLine) {
                this.isTranslate = true;
                profile_local_1.QUANTITYTRANSL.get().then(function (qnt) {
                    profile_local_1.QUANTITYTRANSL.set(qnt + 1);
                });
                // fix jump translation buttom
                if (document.querySelector('#header-translate .scroll-x')) {
                    document.querySelector('#header-translate .scroll-x')['style'].width = '9999px';
                }
                this.allSources = [];
                this.allSources.push({
                    source: this.textTranslate,
                    displaySource: this.textTranslate,
                    count: 0,
                    translations: [],
                    weight: 0
                });
                // Обрываем все старые запросы
                if (this.translateService.httpSubscription && typeof this.translateService.httpSubscription.unsubscribe !== 'undefined') {
                    this.translateService.httpSubscription.unsubscribe();
                }
                // Отправляем на перевод
                this.translateService.translateSimple({
                    wordPos: this.params['position'],
                    source: this.textTranslate,
                    lang_source: this.sourceLang.id,
                    lang_target: this.targetLang.id,
                    pageUrl: this.params['siteHref'],
                    pageTitle: this.params['siteTitle'],
                    reversoPage: this.params['reversoPage']
                }).then(function (res) {
                    _this.server_response = { 'word': res };
                    _this.isTranslate = false;
                    if (res.sources && res.sources.length > 0 && res.sources[0]['translations'].length > 0) {
                        if (res.sources[0].directionFrom && _this.sourceLang.id !== res.sources[0].directionFrom) {
                            _this.selectLangSource(res.sources[0].directionFrom, false);
                            _this.selectLangTarget(res.sources[0].directionTo, false);
                        }
                        _this.allSources = [];
                        var indexForSource_1 = 0;
                        res.sources.forEach(function (sourse, index) {
                            if (res.sources[index].translations && res.sources[index].translations.length > 0) {
                                res.sources[index].translations.forEach(function (item, _index) {
                                    // Для простоты работы, в каждый пример пехаем перевод
                                    item.contexts.forEach(function (it, i) {
                                        sourse['translations'][_index].contexts[i].translation = sourse['translations'][_index].translation;
                                    });
                                });
                            }
                            if (res.sources[index]['translations'].length === 1 &&
                                res.sources[index]['translations'][0]['translation'] === '...') {
                                // bad source
                                // Перевода нет
                                _this.error = true;
                                _this.errorMessage = config_1.configurations.localization['noTranslation'] || '';
                            }
                            else {
                                _this.allSources[index] = sourse;
                                if (typeof sourse.weight !== 'undefined' && sourse.weight > _this.sourceWeight) {
                                    _this.sourceWeight = sourse.weight;
                                    indexForSource_1 = index;
                                }
                                else if (typeof sourse.weight !== 'undefined' && sourse.weight === _this.sourceWeight &&
                                    sourse.source.length > _this.sourceLength && sourse.translations[0].translation !== '...' &&
                                    sourse.translations[0].translation !== '') {
                                    _this.sourceLength = sourse.source.length;
                                    indexForSource_1 = index;
                                }
                            }
                        });
                        var transletions_1 = [];
                        res.sources[0]['translations'].forEach(function (i) {
                            transletions_1.push(i.translation);
                        });
                        // Записываем в историю
                        _this.historyStorage.add({
                            id: res.historyId || null,
                            langSource: _this.sourceLang.id,
                            langTarget: _this.targetLang.id,
                            word: _this.params.word,
                            wordTranslations: transletions_1,
                            url: _this.params.siteHref,
                            title: _this.params.siteTitle,
                            sentence: _this.params.sentence,
                            posInSentence: _this.params.position
                        });
                        _this.selectSource(indexForSource_1);
                    }
                    else {
                        // Выделяем нулевой, если нет переводов
                        _this.selectSource(0);
                        // Записываем в историю
                        _this.historyStorage.add({
                            id: res.historyId || null,
                            langSource: _this.sourceLang.id,
                            langTarget: _this.targetLang.id,
                            word: _this.params.word,
                            url: _this.params.siteHref,
                            title: _this.params.siteTitle,
                            sentence: _this.params.sentence,
                            posInSentence: _this.params.position
                        });
                        // Перевода нет
                        _this.error = true;
                        _this.errorMessage = config_1.configurations.localization['noTranslation'] || '';
                    }
                }, function (error) {
                    _this.isTranslate = false;
                    _this.error = true;
                    _this.errorMessage = config_1.configurations.localization['requestInterrupted'] || '';
                    console.error(error);
                });
                return false;
            }
            else {
                this.error = true;
                this.errorMessage = config_1.configurations.localization['offline'] || '';
                return false;
            }
        }
        else {
            return false;
        }
    };
    // Перевод слова и сегмента
    TranslateSubtitlesComponent.prototype.translateFull = function () {
        var _this = this;
        this.sourceLength = 0;
        this.sourceWeight = -1;
        this.mdMenu.hide();
        this.error = false;
        this.errorMessage = '';
        this.sourceWeight = -1;
        this.sourceLength = 0;
        this.sources = { translations: [] };
        this.contexts = { contexts: [] };
        this.indexTranslate = -1;
        // Записываем для FeedBack
        this.settingsStorage.add('feedback', {
            'Url': this.params.siteHref,
            'Word': this.params.word,
            'Sentence': this.params.sentence
        });
        if (!this.isTranslate && this.textTranslate.trim().length > 0) {
            // Если есть подключение к интернету
            if (window.navigator.onLine) {
                this.isTranslate = true;
                profile_local_1.QUANTITYTRANSL.get().then(function (qnt) {
                    profile_local_1.QUANTITYTRANSL.set(qnt + 1);
                });
                // fix jump translation buttom
                if (document.querySelector('#header-translate .scroll-x')) {
                    document.querySelector('#header-translate .scroll-x')['style'].width = '9999px';
                }
                this.allSources = [];
                this.allSources.push({
                    source: this.textTranslate,
                    displaySource: this.textTranslate,
                    count: 0,
                    translations: [],
                    weight: 0
                });
                // Обрываем все старые запросы
                if (this.translateService.httpSubscription && typeof this.translateService.httpSubscription.unsubscribe !== 'undefined') {
                    this.translateService.httpSubscription.unsubscribe();
                }
                // Отправляем на перевод
                this.translateService.translateWord({
                    word: this.textTranslate,
                    wordPos: this.params['position'],
                    source: this.params['sentence'],
                    lang_source: this.sourceLang.id,
                    lang_target: this.targetLang.id,
                    pageUrl: this.params['siteHref'],
                    pageTitle: this.params['siteTitle'],
                    reversoPage: this.params['reversoPage']
                }).then(function (res) {
                    _this.server_response = { 'word': res };
                    _this.isTranslate = false;
                    if (res.sources && res.sources.length > 0 && res.sources[0]['translations'].length > 0) {
                        if (res.sources[0].directionFrom && _this.sourceLang.id !== res.sources[0].directionFrom) {
                            _this.selectLangSource(res.sources[0].directionFrom, false);
                            _this.selectLangTarget(res.sources[0].directionTo, false);
                        }
                        // fix jump translation buttom
                        if (document.querySelector('#header-translate .scroll-x')) {
                            document.querySelector('#header-translate .scroll-x')['style'].width = '9999px';
                        }
                        _this.allSources = [];
                        var indexForSource_2 = 0;
                        res.sources.forEach(function (sourse, index) {
                            if (res.sources[index].translations && res.sources[index].translations.length > 0) {
                                res.sources[index].translations.forEach(function (item, _index) {
                                    // Для простоты работы, в каждый пример пехаем перевод
                                    item.contexts.forEach(function (it, i) {
                                        sourse['translations'][_index].contexts[i].translation = sourse['translations'][_index].translation;
                                    });
                                });
                            }
                            if (res.sources[index]['translations'].length === 1 &&
                                res.sources[index]['translations'][0]['translation'] === '...') {
                                // bad source
                                // Перевода нет
                                _this.error = true;
                                _this.errorMessage = config_1.configurations.localization['noTranslation'] || '';
                            }
                            else {
                                _this.allSources[_this.allSources.length] = sourse;
                                if (typeof sourse.weight !== 'undefined' && sourse.weight > _this.sourceWeight) {
                                    _this.sourceWeight = sourse.weight;
                                    indexForSource_2 = index;
                                }
                                else if (typeof sourse.weight !== 'undefined' && sourse.weight === _this.sourceWeight &&
                                    sourse.source.length > _this.sourceLength && sourse.translations[0].translation !== '...' &&
                                    sourse.translations[0].translation !== '') {
                                    _this.sourceLength = sourse.source.length;
                                    indexForSource_2 = index;
                                }
                            }
                        });
                        _this.selectSource(indexForSource_2);
                        var transletionsWord_1 = [];
                        res.sources[0]['translations'].forEach(function (i) {
                            transletionsWord_1.push(i.translation);
                        });
                        if (!_this.settingTranslateSegment) {
                            // Записываем в историю
                            _this.historyStorage.add({
                                id: res.historyId || null,
                                langSource: _this.sourceLang.id,
                                langTarget: _this.targetLang.id,
                                word: _this.textTranslate,
                                wordTranslations: transletionsWord_1,
                                url: _this.params.siteHref,
                                title: _this.params.siteTitle,
                                sentence: _this.params.sentence,
                                posInSentence: _this.params.position
                            }).then(function (result) {
                            }, function (error) {
                                console.error('Error historyStorage: ', error);
                            });
                        }
                        // ----- Translate segment -----
                        if (_this.settingTranslateSegment === true) {
                            _this.isTranslate = true;
                            // Обрываем все старые запросы
                            if (_this.translateService.httpSubscription &&
                                typeof _this.translateService.httpSubscription.unsubscribe !== 'undefined') {
                                _this.translateService.httpSubscription.unsubscribe();
                            }
                            // Отправляем на перевод
                            _this.translateService.translateSegment({
                                word: _this.textTranslate,
                                wordPos: _this.params['position'],
                                source: _this.params['sentence'],
                                lang_source: _this.sourceLang.id,
                                lang_target: _this.targetLang.id,
                                historyId: res.historyId || null,
                                reversoPage: _this.params['reversoPage']
                            }).then(function (resSegment) {
                                _this.isTranslate = false;
                                _this.server_response['segment'] = resSegment;
                                resSegment.sources.forEach(function (sourse, index) {
                                    if (resSegment.sources[index].translations && resSegment.sources[index].translations.length > 0) {
                                        resSegment.sources[index].translations.forEach(function (item, _index) {
                                            // Для простоты работы, в каждый пример пехаем перевод
                                            item.contexts.forEach(function (it, i) {
                                                sourse['translations'][_index].contexts[i].translation = sourse['translations'][_index]
                                                    .translation;
                                            });
                                        });
                                        // IF TRANSLATION > 0
                                        if (resSegment.sources[index]['translations'].length === 1 &&
                                            resSegment.sources[index]['translations'][0]['translation'] === '...') {
                                            // bad source
                                            // Перевода нет
                                            _this.error = true;
                                            _this.errorMessage = config_1.configurations.localization['noTranslation'] || '';
                                        }
                                        else {
                                            _this.allSources[_this.allSources.length] = sourse;
                                        }
                                    }
                                });
                                // delete dublicate sources
                                _this.allSources.forEach(function (sourse, index) {
                                    if (_this.allSources[index - 1] &&
                                        _this.allSources[index - 1].displaySource.toLowerCase().trim() ===
                                            _this.allSources[index].displaySource.toLowerCase().trim() &&
                                        _this.allSources[index - 1].source.toLowerCase().trim() ===
                                            _this.allSources[index].source.toLowerCase().trim()) {
                                        _this.allSources.splice(index, 1);
                                    }
                                    if (_this.allSources[index - 2] &&
                                        _this.allSources[index - 2].displaySource.toLowerCase().trim() ===
                                            _this.allSources[index].displaySource.toLowerCase().trim() &&
                                        _this.allSources[index - 2].source.toLowerCase().trim() ===
                                            _this.allSources[index].source.toLowerCase().trim()) {
                                        _this.allSources.splice(index, 1);
                                    }
                                    if (_this.allSources[index - 3] &&
                                        _this.allSources[index - 3].displaySource.toLowerCase().trim() ===
                                            _this.allSources[index].displaySource.toLowerCase().trim() &&
                                        _this.allSources[index - 3].source.toLowerCase().trim() ===
                                            _this.allSources[index].source.toLowerCase().trim()) {
                                        _this.allSources.splice(index, 1);
                                    }
                                });
                                _this.allSources.forEach(function (sourse, index) {
                                    if (typeof sourse.weight !== 'undefined' && sourse.weight > _this.sourceWeight) {
                                        _this.sourceWeight = sourse.weight;
                                        indexForSource_2 = index;
                                    }
                                    else if (typeof sourse.weight !== 'undefined' && sourse.weight === _this.sourceWeight &&
                                        sourse.source.length > _this.sourceLength && sourse.translations[0].translation !== '...' &&
                                        sourse.translations[0].translation !== '') {
                                        _this.sourceLength = sourse.source.length;
                                        indexForSource_2 = index;
                                    }
                                });
                                var transletionsSegment = [];
                                if (_this.allSources.length > 0) {
                                    _this.allSources[indexForSource_2]['translations'].forEach(function (i) {
                                        transletionsSegment.push(i.translation);
                                    });
                                    // Записываем в историю
                                    _this.historyStorage.add({
                                        id: res.historyId || null,
                                        langSource: _this.sourceLang.id,
                                        langTarget: _this.targetLang.id,
                                        word: _this.params.word,
                                        wordTranslations: transletionsWord_1,
                                        url: _this.params.siteHref,
                                        title: _this.params.siteTitle,
                                        sentence: _this.params.sentence,
                                        posInSentence: _this.params.position,
                                        longSegment: _this.allSources[indexForSource_2].source,
                                        longSegmentTranslations: transletionsSegment
                                    });
                                    _this.selectSource(indexForSource_2);
                                }
                                else {
                                    // Перевода нет
                                    _this.error = true;
                                    _this.errorMessage = config_1.configurations.localization['noTranslation'] || '';
                                }
                            }, function (error) {
                                _this.isTranslate = false;
                                _this.error = true;
                                _this.errorMessage = config_1.configurations.localization['requestInterrupted'] || '';
                                console.error(error);
                            });
                        }
                        else {
                            if (_this.allSources.length === 0) {
                                // Перевода нет
                                _this.error = true;
                                _this.errorMessage = config_1.configurations.localization['noTranslation'] || '';
                            }
                        }
                    }
                    else {
                        // Записываем в историю
                        _this.historyStorage.add({
                            langSource: _this.sourceLang.id,
                            langTarget: _this.targetLang.id,
                            word: _this.params.word,
                            url: _this.params.siteHref,
                            title: _this.params.siteTitle,
                            sentence: _this.params.sentence,
                            posInSentence: _this.params.position
                        });
                        // Перевода нет
                        _this.error = true;
                        _this.errorMessage = config_1.configurations.localization['noTranslation'] || '';
                    }
                }, function (error) {
                    _this.isTranslate = false;
                    _this.error = true;
                    _this.errorMessage = config_1.configurations.localization['requestInterrupted'] || '';
                    console.error(error);
                });
                return false;
            }
            else {
                this.error = true;
                this.isTranslate = false;
                this.errorMessage = config_1.configurations.localization['offline'] || '';
                return false;
            }
        }
        else {
            return false;
        }
    };
    // Получить примеры
    // i_source: ID Родителя, нужен для скрола.
    TranslateSubtitlesComponent.prototype.getSample = function (index, i_source) {
        var _this = this;
        if (!this.isTranslate || index === -1) {
            this.contexts = { contexts: [] };
            if (index !== this.indexTranslate) {
                this.indexTranslate = index;
                setTimeout(function () {
                    if (document.querySelectorAll('.translate-subtitles__transletions-list span > li').length > 0) {
                        var elements = document.querySelectorAll('.translate-subtitles__transletions-list span > li');
                        for (var i in elements) {
                            if (Object.prototype.hasOwnProperty.call(elements, i))
                                elements[i].classList.remove('active');
                        }
                        if (document.querySelector("#translate-subtitles__" + index)) {
                            document.querySelector("#translate-subtitles__" + index).classList.add('active');
                        }
                    }
                }, 128);
            }
            else {
                this.indexTranslate = -1;
                if (document.querySelectorAll('.translate-subtitles__transletions-list span > li').length > 0) {
                    var elements = document.querySelectorAll('.translate-subtitles__transletions-list span > li');
                    for (var i in elements) {
                        if (Object.prototype.hasOwnProperty.call(elements, i))
                            elements[i].classList.remove('active');
                    }
                }
            }
            // Если нет активного перевода.
            if (this.indexTranslate === -1) {
                this.sources['translations'].forEach(function (item) {
                    // Для простоты работы, в каждый пример добавляем перевод
                    item.contexts.forEach(function (it, i) {
                        _this.contexts['contexts'].push(it);
                    });
                });
                // Вернем нормальный вид в случае, если нет переаода или он только один и равен "...", и при этом есть примеры;
                // TODO: удалить попозже
                // if (!this.params['miniView']
                //     || ((this.sources['translations'].length === 1
                //         && (this.sources['translations'][0]['translation'] === '' ||
                //             this.sources['translations'][0]['translation'] === '...'))
                //         && this.contexts['contexts'].length > 0)) {
                //
                //     // setTimeout(() => {
                //     // this.setNormalViewIframe();
                //     // }, 256);
                // }
                this.setNormalViewIframe();
            }
            // Скрываем старые ошибки.
            if (this.contexts['contexts'].length > 0) {
                this.error = false;
                this.errorMessage = '';
            }
            if (index !== -1 && this.indexTranslate !== -1) {
                // Если есть подключение к интернету
                if (navigator.onLine) {
                    if (typeof chrome !== 'undefined' && config_1.configurations.isExtension) {
                        chrome['runtime'].sendMessage({ setTrackEvents: config_1.configurations.eventsName.filter_translation });
                    }
                    else if (typeof safari !== 'undefined' && safari['extension']) {
                        var windowGlobalPage = safari['extension'].globalPage.contentWindow;
                        windowGlobalPage.respondToMessage({
                            name: 'setTrackEvents',
                            message: config_1.configurations.eventsName.filter_translation
                        });
                    }
                    var excludeTranslations_1 = [];
                    this.sources['translations'].forEach(function (el, i) {
                        if (index !== i) {
                            excludeTranslations_1.push(el['translation']);
                        }
                    });
                    // Скрываем старые ошибки перед запросом
                    this.error = false;
                    this.errorMessage = '';
                    // Получаем примеры
                    this.isTranslate = true;
                    this.translateService.getSample({
                        // source: (this.sources['dymApplied'] ? this.sources['source'] : this.textTranslate),
                        source: this.sources['source'],
                        lang_source: this.sourceLang.id,
                        lang_target: this.targetLang.id,
                        translation: this.sources['translations'][index]['translation'],
                        excludeTranslations: excludeTranslations_1,
                        historyId: this.server_response.word ? this.server_response.word.historyId : null
                    }).then(function (res) {
                        _this.isTranslate = false;
                        if (res['samples'] && res['samples'].length > 0) {
                            _this.contexts['contexts'] = [];
                            res['samples'].forEach(function (it, i) {
                                it.translation = res.translation;
                                _this.contexts['contexts'].push(it);
                            });
                            // Вернет нормальный для для iframe, ONLY после получения примеров с сервера
                            if (index !== -1) {
                                _this.setNormalViewIframe();
                            }
                            // Scroll to translate el
                            try {
                                setTimeout(function () {
                                    if (typeof i_source !== 'undefined') {
                                        var sourceEl = document.querySelector("#source-" + i_source + " .translate-subtitles__transletions-list");
                                        if (sourceEl) {
                                            var thatEl = sourceEl.querySelector("#translate-subtitles__" + index);
                                            if (thatEl && thatEl['offsetTop'] && thatEl['offsetHeight']) {
                                                sourceEl.scrollTo(0, thatEl['offsetTop'] - thatEl['offsetHeight']);
                                            }
                                        }
                                    }
                                }, 256);
                            }
                            catch (e) {
                                console.error(e);
                            }
                        }
                    }, function (error) {
                        _this.isTranslate = false;
                        _this.error = true;
                        _this.errorMessage = config_1.configurations.localization['requestInterrupted'] || '';
                        console.error(error);
                    });
                }
                else {
                    this.error = true;
                    this.errorMessage = config_1.configurations.localization['offline'] || '';
                    return false;
                }
            }
        }
    };
    // Переключение сурсов
    TranslateSubtitlesComponent.prototype.selectSource = function (index) {
        if (!this.isTranslate && this.allSources[index]) {
            // Светим
            if (this.translateSite === true) {
                try {
                    window.parent['postMessage']('setSelectedWord: ' + this.allSources[index]['displaySource'], '*');
                }
                catch (error) {
                }
            }
            // TEMP
            this.activeSourcesIndex = index;
            this.sources = this.allSources[index];
            // TODO хм, довольно странная штука, требуется проверка...
            this.textTranslate = this.sources['displaySource'] || this.sources['source'];
            this.getSample(-1);
            // HTML не поспевает =(
            setTimeout(function () {
                if (document.querySelectorAll('.translate-subtitles__source-list > li').length > 0) {
                    var elements = document.querySelectorAll('.translate-subtitles__source-list > li');
                    for (var i in elements) {
                        if (Object.prototype.hasOwnProperty.call(elements, i))
                            elements[i].classList.remove('active');
                    }
                    if (document.getElementById("source-" + index)) {
                        document.getElementById("source-" + index).classList.add('active');
                    }
                }
            }, 128);
        }
    };
    TranslateSubtitlesComponent.prototype.speakSample = function (index, event, isSource) {
        var _this = this;
        if (isSource === void 0) { isSource = false; }
        if (isSource) {
            this.allSources.forEach(function (e, i) {
                _this.allSources[i]['play'] = false;
            });
        }
        else {
            this.contexts['contexts'].forEach(function (e, i) {
                _this.contexts['contexts'][i].play = false;
            });
        }
        if (event === 'play') {
            if (isSource) {
                this.allSources[index]['play'] = true;
            }
            else {
                this.contexts['contexts'][index].play = true;
            }
            main_func_1.speak.play((isSource ? this.allSources[index].source : this.contexts['contexts'][index].source), this.sourceLang['id'], this.sourceLang['speakerName'], {
                voiceUrl: this.directions['voiceUrl'],
                voiceLimit: this.directions['voiceLimit']
            });
        }
        else {
            main_func_1.speak.stop();
        }
        if (main_func_1._$id('speak-id')) {
            var audio = main_func_1._$id('speak-id');
            audio['onended'] = function () {
                if (isSource) {
                    _this.allSources.forEach(function (e, i) {
                        _this.allSources[i]['play'] = false;
                    });
                }
                else {
                    _this.contexts['contexts'].forEach(function (e, i) {
                        _this.contexts['contexts'][i].play = false;
                    });
                }
            };
        }
    };
    TranslateSubtitlesComponent.prototype.addFavorite = function (index, isTranslate) {
        var _this = this;
        if (isTranslate === void 0) { isTranslate = false; }
        var item = !isTranslate ? this.contexts['contexts'][index] : this.sources.translations[index];
        // Если мы добавляем с example то пихаем по регулярке то что попалось в первый <em>, иначе source;
        var word = !isTranslate ? (main_func_1.tagText('em', item.source) ? main_func_1.tagText('em', item.source) : this.sources['displaySource']) : this.sources['source'];
        var translation = !isTranslate ? (main_func_1.tagText('em', item.target) ? main_func_1.tagText('em', item.target) : '') : item.translation;
        var fav = {
            'historyId': this.server_response.word ? this.server_response.word.historyId : null,
            // 'word': (this.sources['dymApplied'] ? this.sources['source'] : this.textTranslate),
            'word': word,
            'sentence': this.params.sentence,
            'translation': translation,
            'example': !isTranslate ? item : null,
            'langSource': this.sourceLang.id,
            'langTarget': this.targetLang.id,
            'url': this.params.siteHref,
            'title': this.params.siteTitle,
            'reversoPage': this.params['reversoPage']
        };
        if (!this.isAuth) {
            favorites_service_1.FavoritesService.set(fav);
            this.router.navigate(['/sign-up', { addFavorite: true }]);
        }
        else {
            if (navigator.onLine) {
                if (item.favoriteId) {
                    this.translateService.deleteFavorites(item.favoriteId).then(function (result) {
                        if (!result['error'] && !isTranslate) {
                            _this.contexts['contexts'][index].favoriteId = null;
                        }
                        else if (!result['error'] && isTranslate) {
                            _this.sources.translations[index].favoriteId = null;
                        }
                    }, function (error) {
                        _this.isTranslate = false;
                        _this.error = true;
                        _this.errorMessage = config_1.configurations.localization[error.message ? error.message : 'requestInterrupted'] || '';
                        console.error(error);
                    });
                }
                else {
                    this.translateService.saveFavorites(fav).then(function (result) {
                        if (result['data'] && result['data'].id && !isTranslate) {
                            _this.contexts['contexts'][index].favoriteId = result['data'].id;
                        }
                        else if (result['data'] && result['data'].id && isTranslate) {
                            _this.sources.translations[index].favoriteId = result['data'].id;
                        }
                    }, function (error) {
                        _this.isTranslate = false;
                        _this.error = true;
                        _this.errorMessage = config_1.configurations.localization[error.message ? error.message : 'requestInterrupted'] || '';
                        console.error(error);
                    });
                }
            }
            else {
                this.error = true;
                this.errorMessage = config_1.configurations.localization['offline'] || '';
                return false;
            }
        }
    };
    TranslateSubtitlesComponent.prototype.goToReversoContext = function (source) {
        var link = config_1.configurations.linkReverso, sourceLang = main_func_1.removeDiacritics(this.sourceLang['name'].toLowerCase()), targetLang = main_func_1.removeDiacritics(this.targetLang['name'].toLowerCase());
        link += sourceLang + '-' + targetLang + '/' + source;
        if (typeof chrome !== 'undefined' && config_1.configurations.isExtension) {
            chrome['runtime'].sendMessage({ openTab: link });
        }
    };
    TranslateSubtitlesComponent.prototype.setNormalViewIframe = function (height) {
        var _this = this;
        if (height === void 0) { height = -1; }
        this.params['miniView'] = false;
        setTimeout(function () {
            if (height < 0) {
                height = document.getElementById('translate-subtitles-page') ?
                    document.getElementById('translate-subtitles-page').offsetHeight : 9999;
                height += 40;
            }
            // Scroll top, for show scroll
            if (document.querySelector('main.body-iframe')) {
                document.querySelector('main.body-iframe').scrollTop = 1;
            }
            if (_this.isYouTube && height > 285) {
                height = 285;
            }
            try {
                window.parent['postMessage']('setNormalView:' + height, '*');
            }
            catch (error) {
                console.error('Error setNormalViewIframe: ', error);
            }
        }, (config_1.configurations.origin === 'ffextension' ? 512 : 256));
    };
    TranslateSubtitlesComponent.prototype.setMiniViewIframe = function () {
        this.params['miniView'] = true;
        try {
            window.parent['postMessage']('setMiniView:true', '*');
            main_func_1.setPositionSamples.bottom();
        }
        catch (error) {
            console.error('Error setMiniViewIframe: ', error);
        }
    };
    TranslateSubtitlesComponent.prototype.copyToClipboard = function (i) {
        var inp = document.querySelector('#copy-translate-word-input-' + i) || null;
        if (inp && inp['select']) {
            inp['style'].display = 'inline';
            inp['select']();
            try {
                document.execCommand('copy');
                inp['blur']();
                inp['style'].display = 'none';
                if (inp['parentNode']) {
                    inp['parentNode']['style'].opacity = '.3';
                    setTimeout(function () {
                        inp['parentNode']['style'].opacity = '1';
                    }, 500);
                }
            }
            catch (err) {
                inp['style'].display = 'none';
                alert('please press Ctrl/Cmd+C to copy');
            }
        }
    };
    // Выделить активную кнопку выбора языка
    TranslateSubtitlesComponent.prototype.highlightButtonLang = function (className) {
        if (document.querySelector('.select_lang_source-button')) {
            document.querySelector('.select_lang_source-button').classList.remove('active');
        }
        if (document.querySelector('.select_lang_target-button')) {
            document.querySelector('.select_lang_target-button').classList.remove('active');
        }
        if (document.querySelector('.' + className))
            document.querySelector('.' + className).classList.add('active');
    };
    TranslateSubtitlesComponent.prototype.cancel = function () {
        if (this.isIframe) {
            try {
                window.parent['postMessage']('closeIframe:true', '*');
            }
            catch (error) {
            }
        }
        else {
            document.body.style.width = '';
            this.router.navigate(['/translate']);
        }
    };
    TranslateSubtitlesComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.isAuth = profile_local_1.CHECK_AUTH();
        if (!this.isAuth) {
            this.cancel();
        }
        else {
            this.isYouTube = this.params.siteOrigin && this.params.siteOrigin.indexOf('youtube') > 0;
            // Меняем стили для хедера
            if (document.querySelector('.mdl-layout__container')) {
                document.querySelector('.mdl-layout__container').classList.add('slim-header');
            }
            // Переводить или нет сегмент
            this.settingsStorage.getRow('translateSegment').then(function (result) {
                if (result != null)
                    _this.settingTranslateSegment = JSON.parse(result.toString());
            });
            this.setNormalViewIframe(128);
            if (this.route.params['value']['translateSite'] && parseInt(this.route.params['value']['translateSite'], 10) === 1) {
                this.translateSite = true;
            }
            // Получаем направления
            this.profileService.getDirections().then(function (directions) {
                _this.languageExtras = new language_extras_1.LanguageExtras(directions['data']);
                _this.directions = directions['data'];
                // Проверяем параметры и запускаем перевод
                if (_this.params['word'] && _this.params['word'].trim().length > 0) {
                    _this.textTranslate = _this.params['word'].toString();
                    if (document.querySelector('#title-page')) {
                        document.querySelector('#title-page').textContent = _this.textTranslate.trim().toLowerCase();
                        document.querySelector('#title-page').classList.add('active');
                    }
                    // Получаем язык с базы сурс
                    _this.settingsStorage.getRow('lang_source').then(function (lang_source_popup) {
                        var lang_source = _this.params['lang_source'];
                        if (!(_this.params['lang_target'] && _this.params['lang_target'].trim().length > 0)) {
                            _this.settingsStorage.getRow('lang_target').then(function (lang_target_popup) {
                                _this.params['lang_target'] = lang_target_popup;
                                if (lang_source === _this.params['lang_target']) {
                                    _this.params['lang_target'] = lang_source_popup;
                                }
                                _this.selectLangSource(lang_source, !(_this.params['lang_target'] && _this.params['lang_target'].trim().length > 0));
                                if (_this.params['lang_target'] && _this.params['lang_target'].trim().length > 0) {
                                    _this.selectLangTarget(_this.params['lang_target'].toString(), true);
                                }
                            }, function (error) {
                                _this.error = true;
                                _this.errorMessage = 'Error set language';
                                console.error(error);
                            });
                        }
                        else {
                            _this.selectLangSource(lang_source, !(_this.params['lang_target'] && _this.params['lang_target'].trim().length > 0));
                            if (_this.params['lang_target'] && _this.params['lang_target'].trim().length > 0) {
                                _this.selectLangTarget(_this.params['lang_target'].toString(), true);
                            }
                        }
                    }, function (error) {
                        _this.error = true;
                        _this.errorMessage = 'Error set language';
                        console.error(error);
                    });
                }
                else {
                    _this.router.navigate(['/translate']);
                }
            }, function (error) {
                _this.error = true;
                _this.errorMessage = 'Error get directions';
                console.error(error);
            });
        }
    };
    TranslateSubtitlesComponent.prototype.ngOnDestroy = function () {
        if (document.querySelector('.mdl-layout__container')) {
            document.querySelector('.mdl-layout__container').classList.remove('slim-header');
        }
        if (main_func_1.GET('iframe') || (this.route.params['value']['iframe'] && parseInt(this.route.params['value']['iframe'], 10) === 1)) {
            this.setNormalViewIframe();
            window.document.onmousemove = function (e) {
                // Разрешаем выделения
                // return false;
            };
        }
    };
    return TranslateSubtitlesComponent;
}());
exports.TranslateSubtitlesComponent = TranslateSubtitlesComponent;


/***/ }),

/***/ "./src/app/pages/translate-whole-text/translate-whole-text.page.css.shim.ngstyle.js":
/*!******************************************************************************************!*\
  !*** ./src/app/pages/translate-whole-text/translate-whole-text.page.css.shim.ngstyle.js ***!
  \******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

/**
 * @fileoverview This file was generated by the Angular template compiler. Do not edit.
 *
 * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}
 * tslint:disable
 */ 
Object.defineProperty(exports, "__esModule", { value: true });
var styles = ["#translate-whole-text-page[_ngcontent-%COMP%] {\n    \n    padding-bottom: 15px;\n}\n\n#translate-whole-text-page[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\n    padding: 15px;\n}\n\n.rtl[_ngcontent-%COMP%] {\n    direction: rtl;\n}"];
exports.styles = styles;


/***/ }),

/***/ "./src/app/pages/translate-whole-text/translate-whole-text.page.ngfactory.js":
/*!***********************************************************************************!*\
  !*** ./src/app/pages/translate-whole-text/translate-whole-text.page.ngfactory.js ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

/**
 * @fileoverview This file was generated by the Angular template compiler. Do not edit.
 *
 * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}
 * tslint:disable
 */ 
Object.defineProperty(exports, "__esModule", { value: true });
var i0 = __webpack_require__(/*! ./translate-whole-text.page.css.shim.ngstyle */ "./src/app/pages/translate-whole-text/translate-whole-text.page.css.shim.ngstyle.js");
var i1 = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var i2 = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
var i3 = __webpack_require__(/*! @ngx-translate/core */ "./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
var i4 = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var i5 = __webpack_require__(/*! ../../services/profile.service */ "./src/app/services/profile.service.ts");
var i6 = __webpack_require__(/*! ../../../api/api */ "./src/api/api.ts");
var i7 = __webpack_require__(/*! ../../services/translate.service */ "./src/app/services/translate.service.ts");
var i8 = __webpack_require__(/*! ../../storage/history.storage */ "./src/app/storage/history.storage.ts");
var i9 = __webpack_require__(/*! ../../storage/settings.storage */ "./src/app/storage/settings.storage.ts");
var i10 = __webpack_require__(/*! ./translate-whole-text.page */ "./src/app/pages/translate-whole-text/translate-whole-text.page.ts");
var styles_TranslateWholeTextComponent = [i0.styles];
var RenderType_TranslateWholeTextComponent = i1.ɵcrt({ encapsulation: 0, styles: styles_TranslateWholeTextComponent, data: {} });
exports.RenderType_TranslateWholeTextComponent = RenderType_TranslateWholeTextComponent;
function View_TranslateWholeTextComponent_1(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "li", [["class", "mdl-menu__item"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.selectLangSource(_v.context.$implicit.id) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), i1.ɵdid(1, 278528, null, 0, i2.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), (_l()(), i1.ɵted(2, null, [" ", " "]))], function (_ck, _v) { var _co = _v.component; var currVal_0 = "mdl-menu__item"; var currVal_1 = ((_co.sourceLang.id == _v.context.$implicit.id) ? "active" : ""); _ck(_v, 1, 0, currVal_0, currVal_1); }, function (_ck, _v) { var currVal_2 = _v.context.$implicit.name; _ck(_v, 2, 0, currVal_2); }); }
function View_TranslateWholeTextComponent_2(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 4, "div", [["class", "lang_revers text-center inline-block"]], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 3, "button", [["class", "mdl-button mdl-js-button mdl-button--icon mdl-color-text--white revers-lang-button"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.reversLang() !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵeld(2, 0, null, null, 2, ":svg:svg", [["height", "10"], ["viewBox", "0 0 10 10"], ["width", "10"], ["xmlns", "http://www.w3.org/2000/svg"]], null, null, null, null, null)), (_l()(), i1.ɵeld(3, 0, null, null, 1, ":svg:g", [["fill", "#FFF"], ["fill-rule", "evenodd"]], null, null, null, null, null)), (_l()(), i1.ɵeld(4, 0, null, null, 0, ":svg:path", [["d", "M1.84 5.713C.166 4.235.151 3.27.02 3c-.095.992.106 2.624 1.074 3.834.68.849 1.998 1.714 3.072 1.9-.073.42-.131.974-.141 1.248C5.42 10.165 8 8.898 8 8.898S6.172 6.003 4.43 5c-.033.29.019 1.736 0 2.162-.812-.256-1.947-.88-2.59-1.449zM8.173 4.287C9.835 5.765 9.85 6.73 9.98 7c.095-.992-.105-2.624-1.067-3.834-.674-.848-1.984-1.714-3.05-1.899.072-.42.13-.975.14-1.248C4.617-.165 2 1.07 2 1.07S3.87 3.997 5.6 5c.034-.289-.018-1.736 0-2.162.807.256 1.934.88 2.573 1.449z"]], null, null, null, null, null))], null, null); }
function View_TranslateWholeTextComponent_3(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 1, "div", [["class", "lang_revers text-center inline-block"]], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 0, "button", [["class", "mdl-button mdl-js-button mdl-button--icon mdl-color-text--white revers-lang-button"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.reversLang() !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null))], null, null); }
function View_TranslateWholeTextComponent_4(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "li", [["class", "mdl-menu__item"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.selectLangTarget(_v.context.$implicit.id) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), i1.ɵdid(1, 278528, null, 0, i2.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), (_l()(), i1.ɵted(2, null, [" ", " "]))], function (_ck, _v) { var _co = _v.component; var currVal_0 = "mdl-menu__item"; var currVal_1 = ((_co.targetLang.id == _v.context.$implicit.id) ? "active" : ""); _ck(_v, 1, 0, currVal_0, currVal_1); }, function (_ck, _v) { var currVal_2 = _v.context.$implicit.name; _ck(_v, 2, 0, currVal_2); }); }
function View_TranslateWholeTextComponent_6(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 0, "div", [["class", "logo-loader"]], null, null, null, null, null))], null, null); }
function View_TranslateWholeTextComponent_7(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 1, "p", [], null, null, null, null, null)), (_l()(), i1.ɵted(1, null, ["", ""]))], null, function (_ck, _v) { var _co = _v.component; var currVal_0 = _co.textResult; _ck(_v, 1, 0, currVal_0); }); }
function View_TranslateWholeTextComponent_9(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 0, "i", [["class", "star-filled"]], null, [[null, "mouseover"], [null, "mouseout"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("mouseover" === en)) {
        var pd_0 = (_co.tooltip("add-favorite-star-fulltext", true) !== false);
        ad = (pd_0 && ad);
    } if (("mouseout" === en)) {
        var pd_1 = (_co.tooltip("add-favorite-star-fulltext", false) !== false);
        ad = (pd_1 && ad);
    } return ad; }, null, null))], null, null); }
function View_TranslateWholeTextComponent_10(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 0, "i", [["class", "star-btn-norm"]], null, [[null, "mouseover"], [null, "mouseout"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("mouseover" === en)) {
        var pd_0 = (_co.tooltip("add-favorite-star-fulltext", true) !== false);
        ad = (pd_0 && ad);
    } if (("mouseout" === en)) {
        var pd_1 = (_co.tooltip("add-favorite-star-fulltext", false) !== false);
        ad = (pd_1 && ad);
    } return ad; }, null, null))], null, null); }
function View_TranslateWholeTextComponent_8(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 4, "a", [["class", "addFavorit"], ["id", "add-favorite-star-fulltext"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.addFavorite() !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateWholeTextComponent_9)), i1.ɵdid(2, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateWholeTextComponent_10)), i1.ɵdid(4, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null)], function (_ck, _v) { var _co = _v.component; var currVal_0 = (_co.resultTranslate && _co.resultTranslate.favoriteId); _ck(_v, 2, 0, currVal_0); var currVal_1 = (_co.resultTranslate && !_co.resultTranslate.favoriteId); _ck(_v, 4, 0, currVal_1); }, null); }
function View_TranslateWholeTextComponent_11(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "div", [["class", "sw-tooltip white-space-pre-wrap"]], [[1, "for", 0]], null, null, null, null)), (_l()(), i1.ɵted(1, null, ["", ""])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = "add-favorite-star-fulltext"; _ck(_v, 0, 0, currVal_0); var currVal_1 = i1.ɵunv(_v, 1, 0, i1.ɵnov(_v, 2).transform("deleteFavorites")); _ck(_v, 1, 0, currVal_1); }); }
function View_TranslateWholeTextComponent_12(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "div", [["class", "sw-tooltip white-space-pre-wrap"]], [[1, "for", 0]], null, null, null, null)), (_l()(), i1.ɵted(1, null, ["", ""])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = "add-favorite-star-fulltext"; _ck(_v, 0, 0, currVal_0); var currVal_1 = i1.ɵunv(_v, 1, 0, i1.ɵnov(_v, 2).transform("addFavotites")); _ck(_v, 1, 0, currVal_1); }); }
function View_TranslateWholeTextComponent_13(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 3, "div", [["class", "text-center"]], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 2, "a", [["class", "cursor-pointer"], ["id", "becomePremiumToTranslateLongerTexts-link"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.goToPremium() !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵted(2, null, ["", ""])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = i1.ɵunv(_v, 2, 0, i1.ɵnov(_v, 3).transform("becomePremiumToTranslateLongerTexts")); _ck(_v, 2, 0, currVal_0); }); }
function View_TranslateWholeTextComponent_5(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 14, "main", [["id", "translate-whole-text-page"]], null, null, null, null, null)), i1.ɵdid(1, 278528, null, 0, i2.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { ngClass: [0, "ngClass"] }, null), i1.ɵpod(2, { "rtl": 0 }), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateWholeTextComponent_6)), i1.ɵdid(4, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateWholeTextComponent_7)), i1.ɵdid(6, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateWholeTextComponent_8)), i1.ɵdid(8, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateWholeTextComponent_11)), i1.ɵdid(10, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateWholeTextComponent_12)), i1.ɵdid(12, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateWholeTextComponent_13)), i1.ɵdid(14, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null)], function (_ck, _v) { var _co = _v.component; var currVal_0 = _ck(_v, 2, 0, !_co.targetLang.trgLtr); _ck(_v, 1, 0, currVal_0); var currVal_1 = _co.isTranslate; _ck(_v, 4, 0, currVal_1); var currVal_2 = (!_co.isTranslate && (_co.textResult != "")); _ck(_v, 6, 0, currVal_2); var currVal_3 = (!_co.configurations.isInjectScript && (_co.params.countWord <= 10)); _ck(_v, 8, 0, currVal_3); var currVal_4 = (_co.resultTranslate && _co.resultTranslate.favoriteId); _ck(_v, 10, 0, currVal_4); var currVal_5 = (_co.resultTranslate && !_co.resultTranslate.favoriteId); _ck(_v, 12, 0, currVal_5); var currVal_6 = (((!_co.isTranslate && (_co.textResult != "")) && (_co.user && !_co.user.IsPremium)) && (_co.params.wholeTextforReverso.length > (_co.params.word.length + 3))); _ck(_v, 14, 0, currVal_6); }, null); }
function View_TranslateWholeTextComponent_14(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 0, "header", [["class", "subheader-translate mdl-color--white text-center mdl-color-text--deep-orange-A400 text error-message"]], [[8, "innerHTML", 1]], null, null, null, null))], null, function (_ck, _v) { var _co = _v.component; var currVal_0 = _co.errorMessage; _ck(_v, 0, 0, currVal_0); }); }
function View_TranslateWholeTextComponent_16(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "a", [["class", "cursor-pointer"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.goToReversoContext() !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵted(1, null, ["", ""])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = i1.ɵunv(_v, 1, 0, i1.ɵnov(_v, 2).transform("translateReversoNet")); _ck(_v, 1, 0, currVal_0); }); }
function View_TranslateWholeTextComponent_15(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 5, "header", [["class", "subheader-translate mdl-color--white text-center mdl-color-text--deep-orange-A400 text error-message"]], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 2, "span", [], null, null, null, null, null)), (_l()(), i1.ɵted(2, null, ["", " "])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateWholeTextComponent_16)), i1.ɵdid(5, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null)], function (_ck, _v) { var _co = _v.component; var currVal_1 = !_co.isExtension; _ck(_v, 5, 0, currVal_1); }, function (_ck, _v) { var currVal_0 = i1.ɵunv(_v, 2, 0, i1.ɵnov(_v, 3).transform("notSupportedDirection")); _ck(_v, 2, 0, currVal_0); }); }
function View_TranslateWholeTextComponent_17(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 4, "li", [["class", ""]], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 3, "a", [], [[1, "target", 0], [8, "href", 4]], [[null, "click"]], function (_v, en, $event) { var ad = true; if (("click" === en)) {
        var pd_0 = (i1.ɵnov(_v, 2).onClick($event.button, $event.ctrlKey, $event.metaKey, $event.shiftKey) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), i1.ɵdid(2, 671744, null, 0, i4.RouterLinkWithHref, [i4.Router, i4.ActivatedRoute, i2.LocationStrategy], { routerLink: [0, "routerLink"] }, null), i1.ɵpad(3, 1), (_l()(), i1.ɵted(-1, null, ["-> register to see more"]))], function (_ck, _v) { var currVal_2 = _ck(_v, 3, 0, "/sign-up"); _ck(_v, 2, 0, currVal_2); }, function (_ck, _v) { var currVal_0 = i1.ɵnov(_v, 2).target; var currVal_1 = i1.ɵnov(_v, 2).href; _ck(_v, 1, 0, currVal_0, currVal_1); }); }
function View_TranslateWholeTextComponent_18(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 1, "a", [["class", "cursor-pointer"], ["id", "goToReversoContext-link"]], null, [[null, "click"], [null, "mouseover"], [null, "mouseout"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.goToReversoContext() !== false);
        ad = (pd_0 && ad);
    } if (("mouseover" === en)) {
        var pd_1 = (_co.tooltip("goToReversoContext-link", true) !== false);
        ad = (pd_1 && ad);
    } if (("mouseout" === en)) {
        var pd_2 = (_co.tooltip("goToReversoContext-link", false) !== false);
        ad = (pd_2 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵted(-1, null, ["-> Reverso.net"]))], null, null); }
function View_TranslateWholeTextComponent_0(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 16, "div", [["class", "select-lang w-15 text-right"]], null, null, null, null, null)), i1.ɵdid(1, 278528, null, 0, i2.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), (_l()(), i1.ɵeld(2, 0, null, null, 1, "button", [["class", "mdl-menu-no-click mdl-button mdl-js-button mdl-button--colored go-edit mdl-color-text--white mdl-menu-button capitalize select_lang_source-button"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        _co.mdMenu.show("select_lang_source");
        _co.mdMenu.show("background-for-lang");
        var pd_0 = (_co.highlightButtonLang("select_lang_source-button") !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵted(3, null, [" ", " "])), (_l()(), i1.ɵeld(4, 0, null, null, 2, "ul", [["class", "mdl-menu mdl-menu--bottom-right hide mdl-menu-no-click mdl-menu-no-click-my"], ["id", "select_lang_source"]], null, null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateWholeTextComponent_1)), i1.ɵdid(6, 802816, null, 0, i2.NgForOf, [i1.ViewContainerRef, i1.TemplateRef, i1.IterableDiffers], { ngForOf: [0, "ngForOf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateWholeTextComponent_2)), i1.ɵdid(8, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateWholeTextComponent_3)), i1.ɵdid(10, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵeld(11, 0, null, null, 1, "button", [["class", "mdl-menu-no-click mdl-button mdl-js-button mdl-button--colored go-edit mdl-color-text--white mdl-menu-button capitalize select_lang_target-button"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        _co.mdMenu.show("select_lang_target");
        _co.mdMenu.show("background-for-lang");
        var pd_0 = (_co.highlightButtonLang("select_lang_target-button") !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵted(12, null, [" ", " "])), (_l()(), i1.ɵeld(13, 0, null, null, 2, "ul", [["class", "mdl-menu mdl-menu--bottom-right hide mdl-menu-no-click mdl-menu-no-click-my"], ["id", "select_lang_target"]], null, null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateWholeTextComponent_4)), i1.ɵdid(15, 802816, null, 0, i2.NgForOf, [i1.ViewContainerRef, i1.TemplateRef, i1.IterableDiffers], { ngForOf: [0, "ngForOf"] }, null), (_l()(), i1.ɵeld(16, 0, null, null, 0, "span", [["class", "mdl-menu mdl-menu-no-click"], ["id", "background-for-lang"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.mdMenu.hide() !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateWholeTextComponent_5)), i1.ɵdid(18, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateWholeTextComponent_14)), i1.ɵdid(20, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateWholeTextComponent_15)), i1.ɵdid(22, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵeld(23, 0, null, null, 18, "footer", [["class", "mdl-mini-footer"]], null, null, null, null, null)), (_l()(), i1.ɵeld(24, 0, null, null, 17, "div", [["class", "mdl-mini-footer__left-section"]], null, null, null, null, null)), (_l()(), i1.ɵeld(25, 0, null, null, 16, "ul", [["class", "mdl-mini-footer__link-list"]], null, null, null, null, null)), (_l()(), i1.ɵeld(26, 0, null, null, 7, "li", [["class", "copyright-item"]], null, null, null, null, null)), (_l()(), i1.ɵeld(27, 0, null, null, 2, "div", [["class", "circle-indicator"]], null, null, null, null, null)), i1.ɵdid(28, 278528, null, 0, i2.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), i1.ɵpod(29, { active: 0 }), (_l()(), i1.ɵted(30, null, [" ", " \u00A9 "])), (_l()(), i1.ɵeld(31, 0, null, null, 1, "a", [["target", "_blank"]], [[8, "href", 4]], null, null, null, null)), (_l()(), i1.ɵted(-1, null, [" Reverso "])), (_l()(), i1.ɵted(33, null, [" v", " "])), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateWholeTextComponent_17)), i1.ɵdid(35, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵeld(36, 0, null, null, 5, "li", [["class", "go-to-reverso-translate-item"]], null, null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateWholeTextComponent_18)), i1.ɵdid(38, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵeld(39, 0, null, null, 2, "div", [["class", "sw-tooltip white-space-pre-wrap"]], [[1, "for", 0]], null, null, null, null)), (_l()(), i1.ɵted(40, null, ["", ""])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef])], function (_ck, _v) { var _co = _v.component; var currVal_0 = "select-lang w-15 text-right"; var currVal_1 = (!_co.isIframe ? "select-lang-popup" : ""); _ck(_v, 1, 0, currVal_0, currVal_1); var currVal_3 = _co.directions.directions; _ck(_v, 6, 0, currVal_3); var currVal_4 = _co.isIframe; _ck(_v, 8, 0, currVal_4); var currVal_5 = !_co.isIframe; _ck(_v, 10, 0, currVal_5); var currVal_7 = _co.sourceLang.targets; _ck(_v, 15, 0, currVal_7); var currVal_8 = !_co.error; _ck(_v, 18, 0, currVal_8); var currVal_9 = (_co.error && _co.isExtension); _ck(_v, 20, 0, currVal_9); var currVal_10 = _co.unsupportedDirection; _ck(_v, 22, 0, currVal_10); var currVal_11 = "circle-indicator"; var currVal_12 = _ck(_v, 29, 0, _co.isAuth); _ck(_v, 28, 0, currVal_11, currVal_12); var currVal_16 = (!_co.isAuth && _co.isExtension); _ck(_v, 35, 0, currVal_16); var currVal_17 = (_co.params.wholeTextforReverso.length > (_co.params.word.length + 3)); _ck(_v, 38, 0, currVal_17); }, function (_ck, _v) { var _co = _v.component; var currVal_2 = (_co.isIframe ? _co.sourceLang.id : _co.sourceLang.name); _ck(_v, 3, 0, currVal_2); var currVal_6 = (_co.isIframe ? _co.targetLang.id : _co.targetLang.name); _ck(_v, 12, 0, currVal_6); var currVal_13 = _co.configurations.currentYear; _ck(_v, 30, 0, currVal_13); var currVal_14 = i1.ɵinlineInterpolate(1, "", _co.configurations.links.context, ""); _ck(_v, 31, 0, currVal_14); var currVal_15 = _co.configurations.version; _ck(_v, 33, 0, currVal_15); var currVal_18 = "goToReversoContext-link"; _ck(_v, 39, 0, currVal_18); var currVal_19 = i1.ɵunv(_v, 40, 0, i1.ɵnov(_v, 41).transform("seeTheWholeTextTranslated")); _ck(_v, 40, 0, currVal_19); }); }
exports.View_TranslateWholeTextComponent_0 = View_TranslateWholeTextComponent_0;
function View_TranslateWholeTextComponent_Host_0(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 4, "translate-whole-text-page", [], null, null, null, View_TranslateWholeTextComponent_0, RenderType_TranslateWholeTextComponent)), i1.ɵprd(512, null, i5.ProfileService, i5.ProfileService, [i6.Api]), i1.ɵprd(512, null, i7.TranslService, i7.TranslService, [i6.Api, i5.ProfileService, i8.HistoryStorage]), i1.ɵprd(512, null, i9.SettingsStorage, i9.SettingsStorage, []), i1.ɵdid(4, 245760, null, 0, i10.TranslateWholeTextComponent, [i4.Router, i4.ActivatedRoute, i5.ProfileService, i7.TranslService, i9.SettingsStorage], null, null)], function (_ck, _v) { _ck(_v, 4, 0); }, null); }
exports.View_TranslateWholeTextComponent_Host_0 = View_TranslateWholeTextComponent_Host_0;
var TranslateWholeTextComponentNgFactory = i1.ɵccf("translate-whole-text-page", i10.TranslateWholeTextComponent, View_TranslateWholeTextComponent_Host_0, {}, {}, []);
exports.TranslateWholeTextComponentNgFactory = TranslateWholeTextComponentNgFactory;


/***/ }),

/***/ "./src/app/pages/translate-whole-text/translate-whole-text.page.ts":
/*!*************************************************************************!*\
  !*** ./src/app/pages/translate-whole-text/translate-whole-text.page.ts ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var core_1 = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var router_1 = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
// Add the RxJS Observable operators we need in this app.
__webpack_require__(/*! ./../../rxjs-operators */ "./src/app/rxjs-operators.ts");
var main_func_1 = __webpack_require__(/*! ../../functions/main.func */ "./src/app/functions/main.func.ts");
var config_1 = __webpack_require__(/*! ../../config */ "./src/app/config.ts");
var settings_storage_1 = __webpack_require__(/*! ../../storage/settings.storage */ "./src/app/storage/settings.storage.ts");
var profile_service_1 = __webpack_require__(/*! ../../services/profile.service */ "./src/app/services/profile.service.ts");
var profile_local_1 = __webpack_require__(/*! ../../services/profile.local */ "./src/app/services/profile.local.ts");
var translate_service_1 = __webpack_require__(/*! ../../services/translate.service */ "./src/app/services/translate.service.ts");
var language_extras_1 = __webpack_require__(/*! ../../extras/language.extras */ "./src/app/extras/language.extras.ts");
var language_class_1 = __webpack_require__(/*! ../../../scripts/content/classes/language.class */ "./src/scripts/content/classes/language.class.ts");
var favorites_service_1 = __webpack_require__(/*! ../../services/favorites.service */ "./src/app/services/favorites.service.ts");
var TranslateWholeTextComponent = /** @class */ (function () {
    function TranslateWholeTextComponent(router, route, profileService, translateService, settingsStorage) {
        this.router = router;
        this.route = route;
        this.profileService = profileService;
        this.translateService = translateService;
        this.settingsStorage = settingsStorage;
        this.error = false;
        this.errorMessage = '';
        this.isTranslate = false;
        this.isIframe = top.location !== self.location;
        this.translateSite = false;
        this.textTranslate = '';
        this.textResult = '';
        this.configurations = config_1.configurations;
        this.setHeightDocument = main_func_1.setHeightDocument;
        this.tooltip = main_func_1.tooltip;
        this.directions = {
            directions: []
        };
        this.resultTranslate = null;
        this.sourceLang = {
            id: '',
            name: '',
            targets: [{ id: 0 }],
            speakerName: ''
        };
        this.targetLang = {
            id: '',
            name: '',
            speakerName: '',
            srcLtr: true,
            trgLtr: true
        };
        // Main Functions
        this.mdMenu = main_func_1.mdMenu;
        this.isMobile = main_func_1.isMobile();
        this.isAuth = false;
        this.isExtension = config_1.configurations.isExtension;
        this.unsupportedDirection = false;
        this.user = null;
        this.origin = config_1.configurations.origin;
        this.params = {
            word: this.route.params['value']['word'] || '',
            arrayWords: this.route.params['value']['arrayWords'] || [],
            sentence: this.route.params['value']['sentence'] || '',
            sentenceForLang: this.route.params['value']['sentenceForLang'] || '',
            position: this.route.params['value']['position'] || -1,
            countWord: this.route.params['value']['countWord'] || 1,
            siteTitle: this.route.params['value']['siteTitle'] || '',
            siteOrigin: this.route.params['value']['siteOrigin'] || '',
            siteHref: this.route.params['value']['siteHref'] || 'Extension',
            lang_source: this.route.params['value']['lang'] || '',
            lang_target: this.route.params['value']['langTarget'] || '',
            miniView: this.route.params['value']['miniView'] || false,
            reversoPage: this.route.params['value']['reversoPage'] || false,
            isHieroglyph: this.route.params['value']['isHieroglyph'] || false,
            wholeTextforReverso: this.route.params['value']['wholeTextforReverso'] ? this.route.params['value']['wholeTextforReverso'].trim() : '',
        };
        if (typeof (this.params['miniView']) !== 'boolean') {
            this.params['miniView'] = this.params['miniView'] === 'true';
        }
        // Для нормальной работы с высотой
        if (document.querySelector('main.mdl-layout__content')) {
            document.querySelector('main.mdl-layout__content')['style'].overflowY = 'auto';
        }
        if (document.querySelector('#title-page')) {
            document.querySelector('#title-page').innerHTML = '';
            document.querySelector('#title-page')['style'].width = 'auto';
        }
        if (document.querySelector('#header_feedback_btn')) {
            document.querySelector('#header_feedback_btn')['style'].display = 'none';
        }
    }
    // Выделить активную кнопку выбора языка
    TranslateWholeTextComponent.prototype.highlightButtonLang = function (className) {
        if (document.querySelector('.select_lang_source-button')) {
            document.querySelector('.select_lang_source-button').classList.remove('active');
        }
        if (document.querySelector('.select_lang_target-button')) {
            document.querySelector('.select_lang_target-button').classList.remove('active');
        }
        if (document.querySelector('.' + className)) {
            document.querySelector('.' + className).classList.add('active');
        }
    };
    // Метод для вывода ошибок
    TranslateWholeTextComponent.prototype.showError = function (message) {
        var _this = this;
        if (message === void 0) { message = ''; }
        this.error = true;
        this.errorMessage = message;
        setTimeout(function () {
            if (document.querySelector('.error-message')) {
                _this.setNormalViewIframe(document.querySelector('.error-message')['offsetHeight']);
            }
        }, 128);
    };
    // Выставить язык сурса
    TranslateWholeTextComponent.prototype.selectLangSource = function (id, goTranslate) {
        var _this = this;
        if (goTranslate === void 0) { goTranslate = true; }
        // Получаем язык с базы сурс СТАРЫЙ!
        this.settingsStorage.getRow('lang_source').then(function (lang_source) {
            _this.languageExtras.oldSourceLang = lang_source != null ? lang_source :
                config_1.configurations.appLang === 'en' ? 'fr' : 'en';
        }, function (error) {
            _this.languageExtras.oldSourceLang = config_1.configurations.appLang === 'en' ? 'fr' : 'en';
        });
        this.mdMenu.hide();
        this.languageExtras.selectLangSource(id).then(function (res) {
            _this.sourceLang = res;
            try {
                window.parent['postMessage']('setLangSource:' + id, '*');
            }
            catch (error) {
            }
            // Получаем язык с базы таргет
            _this.settingsStorage.getRow('lang_target').then(function (lang_target) {
                // lang_target = lang_target != null ? lang_target :
                //     APP_LANG == 'en' ? 'en' : 'fr';
                lang_target = lang_target != null ? lang_target : config_1.configurations.appLang;
                _this.languageExtras.selectLangTarget(lang_target).then(function (result) {
                    _this.targetLang = result;
                    // Запускаем перевод
                    if (goTranslate && _this.textTranslate.trim().length > 0) {
                        // Перевод слова и сегмента
                        _this.textTranslate = _this.params['word'] ? _this.params['word'].toString() : _this.textTranslate;
                        _this.translateText();
                    }
                });
            }, function (error) {
                console.error(error);
            });
        }, function (error) {
            console.error(error);
        });
    };
    // Выставить язык таргета
    TranslateWholeTextComponent.prototype.selectLangTarget = function (id, goTranslate) {
        var _this = this;
        if (goTranslate === void 0) { goTranslate = true; }
        this.mdMenu.hide();
        if (!this.isExtension) {
            try {
                window.parent['postMessage']('setLangTarget:' + id, '*');
            }
            catch (error) {
            }
        }
        this.languageExtras.selectLangTarget(id).then(function (res) {
            _this.targetLang = res;
            // Запускаем перевод
            if (goTranslate && _this.textTranslate.trim().length > 0) {
                // Перевод слова и сегмента
                _this.textTranslate = _this.params['word'] ? _this.params['word'].toString() : _this.textTranslate;
                _this.translateText();
            }
        }, function (error) {
            console.error(error);
        });
    };
    // Реверс языков
    TranslateWholeTextComponent.prototype.reversLang = function (goTranslate) {
        var _this = this;
        if (goTranslate === void 0) { goTranslate = true; }
        this.languageExtras.reversLang().then(function (res) {
            _this.sourceLang = res['sourceLang'];
            _this.targetLang = res['targetLang'];
            try {
                window.parent['postMessage']('setLangSource:' + _this.sourceLang['id'], '*');
            }
            catch (error) {
            }
            // Запускаем перевод
            if (goTranslate && _this.textTranslate.trim().length > 0) {
                // Перевод слова и сегмента
                _this.textTranslate = _this.params['word'] ? _this.params['word'].toString() : _this.textTranslate;
                _this.translateText();
            }
        }, function (error) {
            console.error(error);
        });
    };
    TranslateWholeTextComponent.prototype.goToReversoContext = function () {
        if (!language_class_1.default.getLangCodeForReverso(this.sourceLang.id, this.targetLang.id, (this.directions ? this.directions['directions'] : null))) {
            if (this.sourceLang.id === this.targetLang.id) {
                this.targetLang.id = this.sourceLang.id === 'fr' ? 'en' : 'fr';
            }
        }
        var directions = language_class_1.default.getLangCodeForReverso(this.sourceLang.id, this.targetLang.id, (this.directions ? this.directions['directions'] : null));
        if (!directions && this.isExtension) {
            this.showError(config_1.configurations.localization['notSupportedDirection'] || '');
            return;
        }
        else {
            var interfaceLang = config_1.configurations['settings_interface_lang'] ?
                config_1.configurations['settings_interface_lang'] : config_1.configurations.appLang;
            var form = document.createElement('form');
            form.method = 'POST';
            form.action = "https://www.reverso.net/translationresults.aspx?lang=" + interfaceLang.toUpperCase() + "direction=" + this.sourceLang.name.toLowerCase() + "-" + this.targetLang.name.toLowerCase(); // english-french`;
            form.target = 'blank';
            form.style.display = 'none';
            var dir = document.createElement('input');
            dir.name = 'dir';
            dir.value = directions;
            form.appendChild(dir);
            var searchtext = document.createElement('input');
            searchtext.name = 'searchtext';
            searchtext.value = this.params.wholeTextforReverso || this.textTranslate;
            form.appendChild(searchtext);
            var dislangd = document.createElement('input');
            dislangd.name = 'dislangd';
            dislangd.value = '0';
            form.appendChild(dislangd);
            var button = document.createElement('button');
            button.type = 'button';
            form.appendChild(button);
            document.body.appendChild(form);
            form.submit();
            //
            form.remove();
        }
        return;
        // let url = 'https://www.reverso.net/';
        // if (!directions && this.isExtension) {
        //     this.showError(configurations.localization['notSupportedDirection'] || '');
        //     return;
        // } else {
        //     const interfaceLang = configurations['settings_interface_lang'] ?
        //         configurations['settings_interface_lang'] : configurations.appLang;
        //     url = `https://www.reverso.net/translationresults.aspx?lang=${interfaceLang}&direction_translation=${directions}&action_form=translate&sourcetext=${encodeURIComponent(this.params.wholeTextforReverso || this.textTranslate)}&utm_source=Reverso%20Extension&utm_medium=cpc&utm_campaign=DomProg`;
        // }
        //
        // if (typeof chrome !== 'undefined' && configurations.isExtension) {
        //     chrome['runtime'].sendMessage({openTab: url});
        // } else {
        //     window.open(url, '_blank');
        // }
    };
    TranslateWholeTextComponent.prototype.translateText = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            var quantityTranslation_1, _value, _a, GoTr, gasProfile, showReg, params;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        this.error = false;
                        this.unsupportedDirection = false;
                        this.errorMessage = '';
                        if (!navigator.onLine) return [3 /*break*/, 5];
                        quantityTranslation_1 = 0;
                        _b.label = 1;
                    case 1:
                        _b.trys.push([1, 3, , 4]);
                        return [4 /*yield*/, profile_local_1.QUANTITYTRANSL.get()];
                    case 2:
                        _value = _b.sent();
                        quantityTranslation_1 = parseInt(_value, 10);
                        return [3 /*break*/, 4];
                    case 3:
                        _a = _b.sent();
                        return [3 /*break*/, 4];
                    case 4:
                        GoTr = function () {
                            if (typeof quantityTranslation_1 !== 'undefined') {
                                profile_local_1.QUANTITYTRANSL.set(quantityTranslation_1 + 1);
                            }
                            // Запускаем перевод
                            return _this.goTranslate();
                        };
                        gasProfile = profile_local_1.GASUSERPROFILE.get() && profile_local_1.GASUSERPROFILE.get()['data'] ? profile_local_1.GASUSERPROFILE.get()['data'] : null;
                        if (config_1.configurations.isInjectScript || this.isAuth || !gasProfile) {
                            return [2 /*return*/, GoTr()];
                        }
                        showReg = (quantityTranslation_1 + 1) % 25 === 0;
                        if (!showReg) {
                            // Сразу ушли на перевод
                            return [2 /*return*/, GoTr()];
                        }
                        // Обрываем все старые запросы
                        if (this.translateService.httpSubscription &&
                            typeof this.translateService.httpSubscription.unsubscribe !== 'undefined') {
                            this.translateService.httpSubscription.unsubscribe();
                        }
                        params = {
                            word: this.params.word,
                            arrayWords: this.params.arrayWords,
                            sentence: this.params.sentence,
                            sentenceForLang: this.params.sentenceForLang,
                            position: this.params.position,
                            countWord: this.params.countWord,
                            siteTitle: this.params.siteTitle,
                            siteOrigin: this.params.siteOrigin,
                            siteHref: this.params.siteHref,
                            lang: this.params.lang_source,
                            langTarget: this.params.lang_target,
                            miniView: this.params.miniView,
                            translateSite: this.translateSite ? 1 : 0,
                            reminder: true,
                            from: 'translate-whole-text'
                        };
                        this.setNormalViewIframe(536);
                        profile_local_1.QUANTITYTRANSL.set(quantityTranslation_1 + 1);
                        this.router.navigate(['/limit-search', params]);
                        return [2 /*return*/, false];
                    case 5:
                        this.showError(config_1.configurations.localization['offline'] || '');
                        return [2 /*return*/, false];
                }
            });
        });
    };
    TranslateWholeTextComponent.prototype.goTranslate = function () {
        // directionFrom: "en"
        // directionTo: "de"
        var _this = this;
        if (typeof chrome !== 'undefined' && config_1.configurations.isExtension) {
            chrome['runtime'].sendMessage({ setTrackEvents: config_1.configurations.eventsName.machineTranslationPopup });
        }
        // else if (typeof safari !== 'undefined' && safari['extension']) {
        //     const windowGlobalPage = safari['extension'].globalPage.contentWindow;
        //     windowGlobalPage.respondToMessage({
        //         name: 'setTrackEvents',
        //         message: configurations.eventsName.machineTranslationPopup
        //     });
        // }
        this.isTranslate = true;
        this.translateService.translateText({
            langSource: this.sourceLang.id,
            langTarget: this.targetLang.id,
            source: this.textTranslate
        }).then(function (result) {
            if (result.translation) {
                _this.isTranslate = false;
                _this.resultTranslate = result;
                _this.textResult = result.translation;
                _this.setNormalViewIframe();
                // Переключаем направления если требуется
                try {
                    if (result['directionFrom']
                        && result['directionTo']
                        && (result['directionFrom'] !== _this.sourceLang.id
                            || result['directionTo'] !== _this.targetLang.id)) {
                        _this.selectLangSource(result['directionFrom'], false);
                        _this.selectLangTarget(result['directionTo'], false);
                        if (typeof chrome !== 'undefined' && config_1.configurations.isExtension) {
                            chrome['runtime'].sendMessage({ setTrackEvents: config_1.configurations.eventsName.changeCurrentDirection });
                        }
                    }
                }
                catch (_a) {
                }
            }
            else {
                // Если ошибка
                if (result.error) {
                    _this.unsupportedDirection = true;
                    _this.goToReversoContext(); // this.textTranslate
                }
                else if (result.error && result.message !== '') {
                    _this.showError(result.message);
                }
            }
        }, function (error) {
            _this.isTranslate = false;
            if (error.error) {
                _this.unsupportedDirection = true;
                _this.goToReversoContext(); // this.textTranslate
            }
            else if (error.error && error.message !== '') {
                _this.showError(error.message);
            }
            // console.error('error', error);
        });
    };
    TranslateWholeTextComponent.prototype.setNormalViewIframe = function (height) {
        var _this = this;
        if (height === void 0) { height = -1; }
        setTimeout(function () {
            if (!_this.isIframe) {
                _this.setNormalView(height);
                return null;
            }
            if (height < 0) {
                height = document.getElementById('translate-whole-text-page') ?
                    document.getElementById('translate-whole-text-page').offsetHeight : 9999;
            }
            height += 56;
            if (height > 270)
                height = 270;
            // Scroll top, for show scroll
            if (document.querySelector('main.body-iframe')) {
                document.querySelector('main.body-iframe').scrollTop = 1;
            }
            _this.params['miniView'] = false;
            try {
                window.parent['postMessage']('setNormalView:' + height, '*');
            }
            catch (error) {
                console.error('Error setNormalViewIframe: ', error);
            }
        }, 128);
    };
    TranslateWholeTextComponent.prototype.setNormalView = function (height) {
        if (height === void 0) { height = 468; }
        if (height < 0) {
            height = document.getElementById('translate-whole-text-page') ?
                document.getElementById('translate-whole-text-page').offsetHeight : 9999;
        }
        height += 70;
        if (height > 468)
            height = 468;
        this.setHeightDocument(height);
        config_1.configurations.isMiniView = false;
    };
    TranslateWholeTextComponent.prototype.sendAnalit = function () {
        if (typeof chrome !== 'undefined' && config_1.configurations.isExtension) {
            chrome['runtime']
                .sendMessage({
                setTrackEvents: this.isIframe ? config_1.configurations.eventsName.wholeTextTranslate :
                    config_1.configurations.eventsName.wholeTextTranslatePopup
            });
        }
    };
    TranslateWholeTextComponent.prototype.addFavorite = function () {
        var _this = this;
        var fav = {
            'historyId': null,
            'word': this.textTranslate,
            'sentence': this.params.sentence,
            'translation': this.textResult,
            'example': null,
            'langSource': this.sourceLang.id,
            'langTarget': this.targetLang.id,
            'url': this.params.siteHref,
            'title': this.params.siteTitle,
            'reversoPage': this.params['reversoPage']
        };
        if (!this.isAuth) {
            favorites_service_1.FavoritesService.set(fav);
            this.router.navigate(['/sign-up', { addFavorite: true }]);
        }
        else {
            if (navigator.onLine) {
                if (this.resultTranslate.favoriteId) {
                    this.translateService.deleteFavorites(this.resultTranslate.favoriteId).then(function (result) {
                        if (!result['error']) {
                            _this.resultTranslate.favoriteId = null;
                        }
                    }, function (error) {
                        _this.isTranslate = false;
                        _this.error = true;
                        _this.errorMessage = config_1.configurations.localization[error.message ? error.message : 'requestInterrupted'] || '';
                        console.error(error);
                    });
                }
                else {
                    this.translateService.saveFavorites(fav).then(function (result) {
                        if (result['data'] && result['data'].id) {
                            _this.resultTranslate.favoriteId = result['data'].id;
                        }
                    }, function (error) {
                        _this.isTranslate = false;
                        _this.error = true;
                        _this.errorMessage = config_1.configurations.localization[error.message ? error.message : 'requestInterrupted'] || '';
                        console.error(error);
                    });
                }
            }
            else {
                this.error = true;
                this.errorMessage = config_1.configurations.localization['offline'] || '';
                return false;
            }
        }
    };
    TranslateWholeTextComponent.prototype.goToPremium = function () {
        var url = config_1.configurations.server + "/doc/premium?origin=" + config_1.configurations.origin + "&uiLang=" + config_1.configurations.appLang;
        if (typeof chrome !== 'undefined' && config_1.configurations.isExtension) {
            chrome['runtime'].sendMessage({ openTab: url });
        }
        else {
            window.open(url, '_blank');
        }
    };
    TranslateWholeTextComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.isAuth = profile_local_1.CHECK_AUTH();
        this.user = profile_local_1.GASUSERINFO.get() && profile_local_1.GASUSERINFO.get()['data'] ? profile_local_1.GASUSERINFO.get()['data'] : null;
        // Меняем стили для хедера
        if (this.isIframe && document.querySelector('.mdl-layout__container')) {
            document.querySelector('.mdl-layout__container').classList.add('slim-header');
        }
        this.setNormalViewIframe(160);
        this.sendAnalit();
        // Получаем направления
        this.profileService.getDirections().then(function (directions) {
            _this.languageExtras = new language_extras_1.LanguageExtras(directions['data']);
            _this.directions = directions['data'];
            // Проверяем параметры и запускаем перевод
            if (_this.params['word'] && _this.params['word'].trim().length > 0) {
                _this.textTranslate = _this.params['word'].toString();
                if (document.querySelector('#title-page')) {
                    document.querySelector('#title-page').textContent = 'Reverso Translation';
                    document.querySelector('#title-page').classList.add('active');
                }
                // Шлем сообщение на создание drag and drop
                if (config_1.configurations.isExtension) {
                    window.parent['postMessage']('createDragAndDrop_rr:true', '*');
                }
                // Получаем язык с базы сурс
                _this.settingsStorage.getRow('lang_source').then(function (lang_source_popup) {
                    var lang_source = _this.params['lang_source'];
                    if (!(_this.params['lang_target'] && _this.params['lang_target'].trim().length > 0)) {
                        _this.settingsStorage.getRow('lang_target').then(function (lang_target_popup) {
                            _this.params['lang_target'] = lang_target_popup;
                            if (lang_source === _this.params['lang_target']) {
                                _this.params['lang_target'] = lang_source_popup;
                            }
                            _this.selectLangSource(lang_source, !(_this.params['lang_target'] &&
                                _this.params['lang_target'].trim().length > 0));
                            if (_this.params['lang_target'] && _this.params['lang_target'].trim().length > 0) {
                                _this.selectLangTarget(_this.params['lang_target'].toString(), true);
                            }
                        }, function (error) {
                            _this.showError('Error set language');
                            console.error(error);
                        });
                    }
                    else {
                        _this.selectLangSource(lang_source, !(_this.params['lang_target'] && _this.params['lang_target'].trim().length > 0));
                        if (_this.params['lang_target'] && _this.params['lang_target'].trim().length > 0) {
                            _this.selectLangTarget(_this.params['lang_target'].toString(), true);
                        }
                    }
                }, function (error) {
                    _this.showError('Error set language');
                    console.error(error);
                });
            }
            else {
                _this.showError('Error no words');
            }
        }, function (error) {
            _this.showError('Error get directions');
            console.error(error);
        });
    };
    TranslateWholeTextComponent.prototype.ngOnDestroy = function () {
        if (document.querySelector('.mdl-layout__container')) {
            document.querySelector('.mdl-layout__container').classList.remove('slim-header');
        }
        if (main_func_1.GET('iframe') || (this.route.params['value']['iframe'] && parseInt(this.route.params['value']['iframe'], 10) === 1)) {
            this.setNormalViewIframe();
            window.document.onmousemove = function (e) {
                // Разрешаем выделения
                // return false;
            };
        }
    };
    return TranslateWholeTextComponent;
}());
exports.TranslateWholeTextComponent = TranslateWholeTextComponent;


/***/ }),

/***/ "./src/app/pages/translate/translate.page.css.shim.ngstyle.js":
/*!********************************************************************!*\
  !*** ./src/app/pages/translate/translate.page.css.shim.ngstyle.js ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

/**
 * @fileoverview This file was generated by the Angular template compiler. Do not edit.
 *
 * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}
 * tslint:disable
 */ 
Object.defineProperty(exports, "__esModule", { value: true });
var styles = ["#translate-whole-text-page[_ngcontent-%COMP%] {\n    max-height: 238px;\n    position: relative;\n    overflow-y: auto;\n}\n\n#translate-whole-text-page[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\n    padding: 15px 36px 15px 15px;\n}"];
exports.styles = styles;


/***/ }),

/***/ "./src/app/pages/translate/translate.page.ngfactory.js":
/*!*************************************************************!*\
  !*** ./src/app/pages/translate/translate.page.ngfactory.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

/**
 * @fileoverview This file was generated by the Angular template compiler. Do not edit.
 *
 * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}
 * tslint:disable
 */ 
Object.defineProperty(exports, "__esModule", { value: true });
var i0 = __webpack_require__(/*! ./translate.page.css.shim.ngstyle */ "./src/app/pages/translate/translate.page.css.shim.ngstyle.js");
var i1 = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var i2 = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
var i3 = __webpack_require__(/*! @ngx-translate/core */ "./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
var i4 = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var i5 = __webpack_require__(/*! ../modal-incognito/modal-incognito.modal.ngfactory */ "./src/app/pages/modal-incognito/modal-incognito.modal.ngfactory.js");
var i6 = __webpack_require__(/*! ../modal-incognito/modal-incognito.modal */ "./src/app/pages/modal-incognito/modal-incognito.modal.ts");
var i7 = __webpack_require__(/*! ../../pipe/array-sort.pipe */ "./src/app/pipe/array-sort.pipe.ts");
var i8 = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
var i9 = __webpack_require__(/*! ../../services/profile.service */ "./src/app/services/profile.service.ts");
var i10 = __webpack_require__(/*! ../../../api/api */ "./src/api/api.ts");
var i11 = __webpack_require__(/*! ../../storage/history.storage */ "./src/app/storage/history.storage.ts");
var i12 = __webpack_require__(/*! ../../services/translate.service */ "./src/app/services/translate.service.ts");
var i13 = __webpack_require__(/*! ../../storage/settings.storage */ "./src/app/storage/settings.storage.ts");
var i14 = __webpack_require__(/*! ./translate.page */ "./src/app/pages/translate/translate.page.ts");
var styles_TranslateComponent = [i0.styles];
var RenderType_TranslateComponent = i1.ɵcrt({ encapsulation: 0, styles: styles_TranslateComponent, data: {} });
exports.RenderType_TranslateComponent = RenderType_TranslateComponent;
function View_TranslateComponent_1(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "li", [["class", "mdl-menu__item"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.selectLangSource(_v.context.$implicit.id) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), i1.ɵdid(1, 278528, null, 0, i2.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), (_l()(), i1.ɵted(2, null, ["", " "]))], function (_ck, _v) { var _co = _v.component; var currVal_0 = "mdl-menu__item"; var currVal_1 = ((_co.sourceLang.id == _v.context.$implicit.id) ? "active" : ""); _ck(_v, 1, 0, currVal_0, currVal_1); }, function (_ck, _v) { var currVal_2 = _v.context.$implicit.name; _ck(_v, 2, 0, currVal_2); }); }
function View_TranslateComponent_2(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "li", [["class", "mdl-menu__item"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.selectLangTarget(_v.context.$implicit.id) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), i1.ɵdid(1, 278528, null, 0, i2.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), (_l()(), i1.ɵted(2, null, ["", " "]))], function (_ck, _v) { var _co = _v.component; var currVal_0 = "mdl-menu__item"; var currVal_1 = ((_co.targetLang.id == _v.context.$implicit.id) ? "active" : ""); _ck(_v, 1, 0, currVal_0, currVal_1); }, function (_ck, _v) { var currVal_2 = _v.context.$implicit.name; _ck(_v, 2, 0, currVal_2); }); }
function View_TranslateComponent_3(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 1, "span", [["class", "text-dym"]], null, null, null, null, null)), (_l()(), i1.ɵted(1, null, [" > ", ""]))], null, function (_ck, _v) { var _co = _v.component; var currVal_0 = _co.textDym; _ck(_v, 1, 0, currVal_0); }); }
function View_TranslateComponent_5(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "button", [["class", "mdl-button mdl-js-button"]], null, [[null, "mousedown"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("mousedown" === en)) {
        _co.textTranslate = _v.context.$implicit;
        var pd_0 = (_co.translateSimple() !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), i1.ɵdid(1, 278528, null, 0, i2.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), (_l()(), i1.ɵted(2, null, [" ", " "]))], function (_ck, _v) { var _co = _v.component; var currVal_0 = "mdl-button mdl-js-button"; var currVal_1 = ((_v.context.index == _co.suggestionsIndex) ? "active" : ""); _ck(_v, 1, 0, currVal_0, currVal_1); }, function (_ck, _v) { var currVal_2 = _v.context.$implicit; _ck(_v, 2, 0, currVal_2); }); }
function View_TranslateComponent_4(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "div", [["class", "w-100 block-suggestions"]], null, null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateComponent_5)), i1.ɵdid(2, 802816, null, 0, i2.NgForOf, [i1.ViewContainerRef, i1.TemplateRef, i1.IterableDiffers], { ngForOf: [0, "ngForOf"] }, null)], function (_ck, _v) { var _co = _v.component; var currVal_0 = _co.suggestions; _ck(_v, 2, 0, currVal_0); }, null); }
function View_TranslateComponent_6(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 0, "a", [["class", "mdl-button mdl-js-button mdl-button--icon mdl-color-text--white"], ["id", "clear-bottom-wordInput"]], null, [[null, "click"], [null, "mouseover"], [null, "mouseout"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        _co.textTranslate = "";
        _co.resultTranslate = null;
        _co.textResult = "";
        _co.changeHeightInput();
        _co.sources = { translations: [] };
        _co.error = false;
        _co.dymApplied = false;
        _co.contexts = { contexts: [] };
        _co.suggestions = [];
        _co.suggestionsIndex = (0 - 1);
        _co.tooltip("clear-bottom-wordInput", false);
        _co.setMiniView(87);
        var pd_0 = (_co.focusInput() !== false);
        ad = (pd_0 && ad);
    } if (("mouseover" === en)) {
        var pd_1 = (_co.tooltip("clear-bottom-wordInput", true) !== false);
        ad = (pd_1 && ad);
    } if (("mouseout" === en)) {
        var pd_2 = (_co.tooltip("clear-bottom-wordInput", false) !== false);
        ad = (pd_2 && ad);
    } return ad; }, null, null))], null, null); }
function View_TranslateComponent_7(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 4, "a", [["class", "button-pronounce-simple"], ["id", "pronounceSimpleButton"]], null, [[null, "click"], [null, "mouseover"], [null, "mouseout"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.speakSource(true) !== false);
        ad = (pd_0 && ad);
    } if (("mouseover" === en)) {
        var pd_1 = (_co.tooltip("pronounceSimpleButton", true) !== false);
        ad = (pd_1 && ad);
    } if (("mouseout" === en)) {
        var pd_2 = (_co.tooltip("pronounceSimpleButton", false) !== false);
        ad = (pd_2 && ad);
    } return ad; }, null, null)), i1.ɵdid(1, 278528, null, 0, i2.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), (_l()(), i1.ɵeld(2, 0, null, null, 2, "div", [["class", "sw-tooltip"]], [[1, "for", 0]], null, null, null, null)), (_l()(), i1.ɵted(3, null, [" ", " "])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef])], function (_ck, _v) { var _co = _v.component; var currVal_0 = "button-pronounce-simple"; var currVal_1 = (_co.speakSourcePlay ? "active" : ""); _ck(_v, 1, 0, currVal_0, currVal_1); }, function (_ck, _v) { var _co = _v.component; var currVal_2 = "pronounceSimpleButton"; _ck(_v, 2, 0, currVal_2); var currVal_3 = i1.ɵunv(_v, 3, 0, i1.ɵnov(_v, 4).transform((!_co.speakSourcePlay ? "play" : "pause"))); _ck(_v, 3, 0, currVal_3); }); }
function View_TranslateComponent_8(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 3, "a", [["class", "go-button-reverso-context"], ["id", "go-button-reverso-context"]], null, [[null, "click"], [null, "mouseover"], [null, "mouseout"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.goToReversoContext(_co.textTranslate) !== false);
        ad = (pd_0 && ad);
    } if (("mouseover" === en)) {
        var pd_1 = (_co.tooltip("go-button-reverso-context", true) !== false);
        ad = (pd_1 && ad);
    } if (("mouseout" === en)) {
        var pd_2 = (_co.tooltip("go-button-reverso-context", false) !== false);
        ad = (pd_2 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 2, "div", [["class", "sw-tooltip"]], [[1, "for", 0]], null, null, null, null)), (_l()(), i1.ɵted(2, null, [" ", ""])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = "go-button-reverso-context"; _ck(_v, 1, 0, currVal_0); var currVal_1 = i1.ɵunv(_v, 2, 0, i1.ɵnov(_v, 3).transform("translateReverso")); _ck(_v, 2, 0, currVal_1); }); }
function View_TranslateComponent_9(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 0, "div", [["class", "mdl-progress mdl-js-progress mdl-progress__indeterminate snippet-container-top-left"]], null, null, null, null, null))], null, null); }
function View_TranslateComponent_13(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "span", [["class", "isSlang-isRude"]], null, null, null, null, null)), i1.ɵdid(1, 278528, null, 0, i2.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), (_l()(), i1.ɵted(-1, null, ["!"]))], function (_ck, _v) { var currVal_0 = "isSlang-isRude"; var currVal_1 = (_v.parent.parent.context.$implicit.isRude ? "mdl-color-text--deep-orange-A400" : "mdl-color-text--amber-A400"); _ck(_v, 1, 0, currVal_0, currVal_1); }, null); }
function View_TranslateComponent_14(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 1, "span", [["class", "dictionary_entry_list"]], null, null, null, null, null)), (_l()(), i1.ɵted(1, null, ["[", "]"]))], null, function (_ck, _v) { var currVal_0 = _v.parent.parent.context.$implicit.pos; _ck(_v, 1, 0, currVal_0); }); }
function View_TranslateComponent_16(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 0, "i", [["class", "star-filled"]], null, [[null, "mouseover"], [null, "mouseout"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("mouseover" === en)) {
        var pd_0 = (_co.tooltip(("add-favorite-star-translation-" + _v.parent.parent.parent.context.index), true) !== false);
        ad = (pd_0 && ad);
    } if (("mouseout" === en)) {
        var pd_1 = (_co.tooltip(("add-favorite-star-translation-" + _v.parent.parent.parent.context.index), false) !== false);
        ad = (pd_1 && ad);
    } return ad; }, null, null))], null, null); }
function View_TranslateComponent_17(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 0, "i", [["class", "star-btn-norm"]], null, [[null, "mouseover"], [null, "mouseout"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("mouseover" === en)) {
        var pd_0 = (_co.tooltip(("add-favorite-star-translation-" + _v.parent.parent.parent.context.index), true) !== false);
        ad = (pd_0 && ad);
    } if (("mouseout" === en)) {
        var pd_1 = (_co.tooltip(("add-favorite-star-translation-" + _v.parent.parent.parent.context.index), false) !== false);
        ad = (pd_1 && ad);
    } return ad; }, null, null))], null, null); }
function View_TranslateComponent_15(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 4, "span", [["class", "addFavorit"]], [[8, "id", 0]], [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.addFavorite(_v.parent.parent.context.index, true) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateComponent_16)), i1.ɵdid(2, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateComponent_17)), i1.ɵdid(4, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null)], function (_ck, _v) { var currVal_1 = _v.parent.parent.context.$implicit.favoriteId; _ck(_v, 2, 0, currVal_1); var currVal_2 = !_v.parent.parent.context.$implicit.favoriteId; _ck(_v, 4, 0, currVal_2); }, function (_ck, _v) { var currVal_0 = i1.ɵinlineInterpolate(1, "add-favorite-star-translation-", _v.parent.parent.context.index, ""); _ck(_v, 0, 0, currVal_0); }); }
function View_TranslateComponent_18(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "div", [["class", "sw-tooltip white-space-pre-wrap"]], [[1, "for", 0]], null, null, null, null)), (_l()(), i1.ɵted(1, null, ["", ""])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = ("add-favorite-star-translation-" + _v.parent.parent.context.index); _ck(_v, 0, 0, currVal_0); var currVal_1 = i1.ɵunv(_v, 1, 0, i1.ɵnov(_v, 2).transform("deleteFavorites")); _ck(_v, 1, 0, currVal_1); }); }
function View_TranslateComponent_19(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "div", [["class", "sw-tooltip white-space-pre-wrap"]], [[1, "for", 0]], null, null, null, null)), (_l()(), i1.ɵted(1, null, ["", ""])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = ("add-favorite-star-translation-" + _v.parent.parent.context.index); _ck(_v, 0, 0, currVal_0); var currVal_1 = i1.ɵunv(_v, 1, 0, i1.ɵnov(_v, 2).transform("addFavotites")); _ck(_v, 1, 0, currVal_1); }); }
function View_TranslateComponent_12(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 21, "a", [["class", "mdl-button mdl-js-button mdl-button--raised rr-button switch-samples"]], [[8, "id", 0]], null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 3, "span", [["class", "added-sapmles-button translate-word"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.getSample(_v.parent.context.index) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateComponent_13)), i1.ɵdid(3, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵted(4, null, [" ", " "])), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateComponent_14)), i1.ɵdid(6, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateComponent_15)), i1.ɵdid(8, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateComponent_18)), i1.ɵdid(10, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateComponent_19)), i1.ɵdid(12, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵeld(13, 0, null, null, 5, "span", [["class", "copy-translate-word"]], [[8, "id", 0]], [[null, "click"], [null, "mouseover"], [null, "mouseout"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.copyToClipboard(_v.parent.context.index) !== false);
        ad = (pd_0 && ad);
    } if (("mouseover" === en)) {
        var pd_1 = (_co.tooltip(("copy-translate-word-" + _v.parent.context.index), true) !== false);
        ad = (pd_1 && ad);
    } if (("mouseout" === en)) {
        var pd_2 = (_co.tooltip(("copy-translate-word-" + _v.parent.context.index), false) !== false);
        ad = (pd_2 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵeld(14, 0, null, null, 3, ":svg:svg", [["height", "15"], ["viewBox", "0 0 14 15"], ["width", "14"], ["xmlns", "http://www.w3.org/2000/svg"]], null, null, null, null, null)), (_l()(), i1.ɵeld(15, 0, null, null, 2, ":svg:g", [["fill", "#FFF"], ["fill-rule", "evenodd"]], null, null, null, null, null)), (_l()(), i1.ɵeld(16, 0, null, null, 0, ":svg:path", [["d", "M0 3h11v12H0V3zm1 1v10h9V4H1z"]], null, null, null, null, null)), (_l()(), i1.ɵeld(17, 0, null, null, 0, ":svg:path", [["d", "M2.025 10H9v1H2.025zM13 1h1v12h-1zM2 1V0h12v1zM2.025 8H9v1H2.025zM2.025 6H9v1H2.025z"]], null, null, null, null, null)), (_l()(), i1.ɵeld(18, 0, null, null, 0, "input", [["class", "copy-translate-word-input"], ["type", "text"]], [[8, "id", 0], [8, "value", 0]], null, null, null, null)), (_l()(), i1.ɵeld(19, 0, null, null, 2, "div", [["class", "sw-tooltip"]], [[1, "for", 0]], null, null, null, null)), (_l()(), i1.ɵted(20, null, [" ", ""])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef])], function (_ck, _v) { var _co = _v.component; var currVal_1 = (_v.parent.context.$implicit.isSlang || _v.parent.context.$implicit.isRude); _ck(_v, 3, 0, currVal_1); var currVal_3 = _v.parent.context.$implicit.pos; _ck(_v, 6, 0, currVal_3); var currVal_4 = !_co.configurations.isInjectScript; _ck(_v, 8, 0, currVal_4); var currVal_5 = _v.parent.context.$implicit.favoriteId; _ck(_v, 10, 0, currVal_5); var currVal_6 = !_v.parent.context.$implicit.favoriteId; _ck(_v, 12, 0, currVal_6); }, function (_ck, _v) { var currVal_0 = i1.ɵinlineInterpolate(1, "translation-", _v.parent.context.index, ""); _ck(_v, 0, 0, currVal_0); var currVal_2 = _v.parent.context.$implicit.translation; _ck(_v, 4, 0, currVal_2); var currVal_7 = i1.ɵinlineInterpolate(1, "copy-translate-word-", _v.parent.context.index, ""); _ck(_v, 13, 0, currVal_7); var currVal_8 = i1.ɵinlineInterpolate(1, "copy-translate-word-input-", _v.parent.context.index, ""); var currVal_9 = i1.ɵinlineInterpolate(1, "", _v.parent.context.$implicit.translation, ""); _ck(_v, 18, 0, currVal_8, currVal_9); var currVal_10 = ("copy-translate-word-" + _v.parent.context.index); _ck(_v, 19, 0, currVal_10); var currVal_11 = i1.ɵunv(_v, 20, 0, i1.ɵnov(_v, 21).transform("copy")); _ck(_v, 20, 0, currVal_11); }); }
function View_TranslateComponent_20(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 3, "a", [["class", "mdl-button mdl-js-button mdl-button--raised rr-button switch-samples"]], [[8, "id", 0]], [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.getSample(_v.parent.context.index) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 1, "span", [["class", "added-sapmles-button"]], null, null, null, null, null)), (_l()(), i1.ɵted(2, null, [" ", " "])), (_l()(), i1.ɵeld(3, 0, null, null, 0, "span", [], null, null, null, null, null))], null, function (_ck, _v) { var currVal_0 = i1.ɵinlineInterpolate(1, "translation-", _v.parent.context.index, ""); _ck(_v, 0, 0, currVal_0); var currVal_1 = _v.parent.context.$implicit.translation; _ck(_v, 2, 0, currVal_1); }); }
function View_TranslateComponent_11(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 4, "span", [], null, null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateComponent_12)), i1.ɵdid(2, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateComponent_20)), i1.ɵdid(4, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null)], function (_ck, _v) { var currVal_0 = ((_v.context.$implicit.translation.length != 0) && (_v.context.$implicit.translation != "...")); _ck(_v, 2, 0, currVal_0); var currVal_1 = ((_v.context.$implicit.translation.length != 0) && (_v.context.$implicit.translation == "...")); _ck(_v, 4, 0, currVal_1); }, null); }
function View_TranslateComponent_10(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 10, "header", [["class", "subheader-translate mdl-color--white"], ["id", "subheader-translate"]], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 2, "button", [["class", "mdl-button mdl-js-button mdl-button--colored header-arrow left scroll-left"]], null, null, null, null, null)), (_l()(), i1.ɵeld(2, 0, null, null, 1, ":svg:svg", [["height", "10"], ["viewBox", "0 0 6 10"], ["width", "6"], ["xmlns", "http://www.w3.org/2000/svg"]], null, null, null, null, null)), (_l()(), i1.ɵeld(3, 0, null, null, 0, ":svg:path", [["d", "M.333.333L5.667 5 .333 9.667"], ["fill", "none"], ["fill-rule", "evenodd"], ["opacity", ".35"], ["stroke", "#5A9DC2"], ["stroke-linecap", "round"], ["stroke-width", "2"]], null, null, null, null, null)), (_l()(), i1.ɵeld(4, 0, null, null, 3, "div", [["class", "header-contant"]], null, null, null, null, null)), (_l()(), i1.ɵeld(5, 0, null, null, 2, "div", [["class", "scroll-x"]], null, null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateComponent_11)), i1.ɵdid(7, 802816, null, 0, i2.NgForOf, [i1.ViewContainerRef, i1.TemplateRef, i1.IterableDiffers], { ngForOf: [0, "ngForOf"] }, null), (_l()(), i1.ɵeld(8, 0, null, null, 2, "button", [["class", "mdl-button mdl-js-button mdl-button--colored header-arrow right scroll-right"]], null, null, null, null, null)), (_l()(), i1.ɵeld(9, 0, null, null, 1, ":svg:svg", [["height", "10"], ["viewBox", "0 0 6 10"], ["width", "6"], ["xmlns", "http://www.w3.org/2000/svg"]], null, null, null, null, null)), (_l()(), i1.ɵeld(10, 0, null, null, 0, ":svg:path", [["d", "M.333.333L5.667 5 .333 9.667"], ["fill", "none"], ["fill-rule", "evenodd"], ["opacity", ".35"], ["stroke", "#5A9DC2"], ["stroke-linecap", "round"], ["stroke-width", "2"]], null, null, null, null, null))], function (_ck, _v) { var _co = _v.component; var currVal_0 = _co.sources.translations; _ck(_v, 7, 0, currVal_0); }, null); }
function View_TranslateComponent_21(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 0, "header", [["class", "subheader-translate mdl-color--white text-center mdl-color-text--deep-orange-A400 text"]], [[8, "innerHTML", 1]], null, null, null, null))], null, function (_ck, _v) { var _co = _v.component; var currVal_0 = _co.errorMessage; _ck(_v, 0, 0, currVal_0); }); }
function View_TranslateComponent_22(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "header", [["class", "subheader-translate mdl-color--white text-center mdl-color-text--grey-500 text"]], null, null, null, null, null)), (_l()(), i1.ɵted(1, null, [" ", "\n"])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = i1.ɵunv(_v, 1, 0, i1.ɵnov(_v, 2).transform("noExample")); _ck(_v, 1, 0, currVal_0); }); }
function View_TranslateComponent_24(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 0, "div", [["class", "logo-loader"]], null, null, null, null, null))], null, null); }
function View_TranslateComponent_25(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 1, "p", [["id", "translate-whole-text-page-result"]], null, null, null, null, null)), (_l()(), i1.ɵted(1, null, ["", ""]))], null, function (_ck, _v) { var _co = _v.component; var currVal_0 = _co.textResult; _ck(_v, 1, 0, currVal_0); }); }
function View_TranslateComponent_27(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 0, "i", [["class", "star-filled"]], null, [[null, "mouseover"], [null, "mouseout"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("mouseover" === en)) {
        var pd_0 = (_co.tooltip("add-favorite-star-fulltext", true) !== false);
        ad = (pd_0 && ad);
    } if (("mouseout" === en)) {
        var pd_1 = (_co.tooltip("add-favorite-star-fulltext", false) !== false);
        ad = (pd_1 && ad);
    } return ad; }, null, null))], null, null); }
function View_TranslateComponent_28(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 0, "i", [["class", "star-btn-norm"]], null, [[null, "mouseover"], [null, "mouseout"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("mouseover" === en)) {
        var pd_0 = (_co.tooltip("add-favorite-star-fulltext", true) !== false);
        ad = (pd_0 && ad);
    } if (("mouseout" === en)) {
        var pd_1 = (_co.tooltip("add-favorite-star-fulltext", false) !== false);
        ad = (pd_1 && ad);
    } return ad; }, null, null))], null, null); }
function View_TranslateComponent_26(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 4, "a", [["class", "addFavorite"], ["id", "add-favorite-star-fulltext"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.addFavoriteFullText() !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateComponent_27)), i1.ɵdid(2, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateComponent_28)), i1.ɵdid(4, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null)], function (_ck, _v) { var _co = _v.component; var currVal_0 = (_co.resultTranslate && _co.resultTranslate.favoriteId); _ck(_v, 2, 0, currVal_0); var currVal_1 = (_co.resultTranslate && !_co.resultTranslate.favoriteId); _ck(_v, 4, 0, currVal_1); }, null); }
function View_TranslateComponent_29(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "div", [["class", "sw-tooltip white-space-pre-wrap"]], [[1, "for", 0]], null, null, null, null)), (_l()(), i1.ɵted(1, null, ["", ""])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = "add-favorite-star-fulltext"; _ck(_v, 0, 0, currVal_0); var currVal_1 = i1.ɵunv(_v, 1, 0, i1.ɵnov(_v, 2).transform("deleteFavorites")); _ck(_v, 1, 0, currVal_1); }); }
function View_TranslateComponent_30(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "div", [["class", "sw-tooltip white-space-pre-wrap"]], [[1, "for", 0]], null, null, null, null)), (_l()(), i1.ɵted(1, null, ["", ""])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = "add-favorite-star-fulltext"; _ck(_v, 0, 0, currVal_0); var currVal_1 = i1.ɵunv(_v, 1, 0, i1.ɵnov(_v, 2).transform("addFavotites")); _ck(_v, 1, 0, currVal_1); }); }
function View_TranslateComponent_23(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 10, "main", [["id", "translate-whole-text-page"]], null, null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateComponent_24)), i1.ɵdid(2, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateComponent_25)), i1.ɵdid(4, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateComponent_26)), i1.ɵdid(6, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateComponent_29)), i1.ɵdid(8, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateComponent_30)), i1.ɵdid(10, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null)], function (_ck, _v) { var _co = _v.component; var currVal_0 = _co.isTranslate; _ck(_v, 2, 0, currVal_0); var currVal_1 = (!_co.isTranslate && (_co.textResult != "")); _ck(_v, 4, 0, currVal_1); var currVal_2 = (!_co.configurations.isInjectScript && (_co.numberWords <= 10)); _ck(_v, 6, 0, currVal_2); var currVal_3 = (_co.resultTranslate && _co.resultTranslate.favoriteId); _ck(_v, 8, 0, currVal_3); var currVal_4 = (_co.resultTranslate && !_co.resultTranslate.favoriteId); _ck(_v, 10, 0, currVal_4); }, null); }
function View_TranslateComponent_33(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 3, "div", [["class", "items-context-subheader"]], null, null, null, null, null)), i1.ɵdid(1, 278528, null, 0, i2.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), (_l()(), i1.ɵted(2, null, [" ", " "])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef])], function (_ck, _v) { var currVal_0 = "items-context-subheader"; var currVal_1 = (_v.parent.context.$implicit["isGood"] ? "good-sample" : "bad-sample"); _ck(_v, 1, 0, currVal_0, currVal_1); }, function (_ck, _v) { var currVal_2 = i1.ɵunv(_v, 2, 0, i1.ɵnov(_v, 3).transform("otherResults")); _ck(_v, 2, 0, currVal_2); }); }
function View_TranslateComponent_35(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 4, "i", [["class", ""]], null, [[null, "click"], [null, "mouseover"], [null, "mouseout"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        _co.speakSample(_v.parent.parent.context.index, "play");
        var pd_0 = (_co.addPronuncAnalit() !== false);
        ad = (pd_0 && ad);
    } if (("mouseover" === en)) {
        var pd_1 = (_co.tooltip(("speak-icon-" + _v.parent.parent.context.index), true) !== false);
        ad = (pd_1 && ad);
    } if (("mouseout" === en)) {
        var pd_2 = (_co.tooltip(("speak-icon-" + _v.parent.parent.context.index), false) !== false);
        ad = (pd_2 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 3, ":svg:svg", [["height", "16"], ["viewBox", "0 0 16 16"], ["width", "16"], ["xmlns", "http://www.w3.org/2000/svg"]], null, null, null, null, null)), (_l()(), i1.ɵeld(2, 0, null, null, 2, ":svg:g", [["fill", "#0970AC"], ["fill-rule", "evenodd"]], null, null, null, null, null)), (_l()(), i1.ɵeld(3, 0, null, null, 0, ":svg:path", [["d", "M9.49 1c.443 0 .74.396.74 1.117v11.102c0 .737-.32 1.15-.802 1.15-.24 0-.522-.103-.825-.323L3.72 10.502H1.993A1.99 1.99 0 0 1 0 8.503V6.832c0-1.103.897-1.998 1.993-1.998h2.318l4.36-3.48c.3-.24.581-.354.82-.354zm-.26 1.188L4.934 5.614l-.273.218H1.993a.997.997 0 0 0-.993 1v1.67c0 .56.437.998.994.998h2.051l.263.192 4.883 3.543.037.027c.002-.014.002-.028.002-.044V2.188zM13.399 12.24a.499.499 0 0 1-.326-.88c.018-.016 1.779-1.554 1.78-3.903.003-2.344-1.756-3.839-1.774-3.854a.5.5 0 0 1 .637-.77c.088.072 2.14 1.798 2.138 4.624-.002 2.823-2.045 4.591-2.132 4.664a.497.497 0 0 1-.323.12"]], null, null, null, null, null)), (_l()(), i1.ɵeld(4, 0, null, null, 0, ":svg:path", [["d", "M11.67 10.776a.498.498 0 0 1-.298-.9c.049-.038 1.105-.855 1.076-2.428-.03-1.598-1.06-2.323-1.071-2.33a.5.5 0 1 1 .565-.825c.06.041 1.467 1.028 1.506 3.137.039 2.11-1.421 3.203-1.483 3.25a.492.492 0 0 1-.295.096"]], null, null, null, null, null))], null, null); }
function View_TranslateComponent_36(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 4, "i", [["class", ""]], null, [[null, "click"], [null, "mouseover"], [null, "mouseout"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.speakSample(_v.parent.parent.context.index, "pause") !== false);
        ad = (pd_0 && ad);
    } if (("mouseover" === en)) {
        var pd_1 = (_co.tooltip(("speak-icon-" + _v.parent.parent.context.index), true) !== false);
        ad = (pd_1 && ad);
    } if (("mouseout" === en)) {
        var pd_2 = (_co.tooltip(("speak-icon-" + _v.parent.parent.context.index), false) !== false);
        ad = (pd_2 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 3, ":svg:svg", [["height", "14"], ["viewBox", "0 0 16 14"], ["width", "16"], ["xmlns", "http://www.w3.org/2000/svg"]], null, null, null, null, null)), (_l()(), i1.ɵeld(2, 0, null, null, 2, ":svg:g", [["fill", "#0970AC"], ["fill-rule", "evenodd"]], null, null, null, null, null)), (_l()(), i1.ɵeld(3, 0, null, null, 0, ":svg:path", [["d", "M9.49 0c-.238 0-.52.114-.82.354l-4.359 3.48H1.993A1.999 1.999 0 0 0 0 5.832v1.671a1.99 1.99 0 0 0 1.993 1.999H3.72l4.884 3.544c.303.22.584.323.825.323.482 0 .801-.413.801-1.15V1.117C10.23.396 9.933 0 9.49 0M13.399 11.24a.499.499 0 0 1-.326-.88c.018-.016 1.779-1.554 1.78-3.903.003-2.344-1.756-3.839-1.774-3.854a.5.5 0 0 1 .637-.77c.088.072 2.14 1.798 2.138 4.624-.002 2.823-2.045 4.591-2.132 4.664a.497.497 0 0 1-.323.12"]], null, null, null, null, null)), (_l()(), i1.ɵeld(4, 0, null, null, 0, ":svg:path", [["d", "M11.67 9.776a.498.498 0 0 1-.298-.9c.049-.038 1.105-.855 1.076-2.428-.03-1.598-1.06-2.323-1.071-2.33a.5.5 0 1 1 .565-.825c.06.041 1.467 1.028 1.506 3.137.039 2.11-1.421 3.203-1.483 3.25a.492.492 0 0 1-.295.096M1 5v3h3l5 5V1L5 5z"]], null, null, null, null, null))], null, null); }
function View_TranslateComponent_34(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 4, "a", [["class", "speak"]], [[8, "id", 0]], null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateComponent_35)), i1.ɵdid(2, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateComponent_36)), i1.ɵdid(4, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null)], function (_ck, _v) { var currVal_1 = !_v.parent.context.$implicit.play; _ck(_v, 2, 0, currVal_1); var currVal_2 = _v.parent.context.$implicit.play; _ck(_v, 4, 0, currVal_2); }, function (_ck, _v) { var currVal_0 = i1.ɵinlineInterpolate(1, "speak-icon-", _v.parent.context.index, ""); _ck(_v, 0, 0, currVal_0); }); }
function View_TranslateComponent_37(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "div", [["class", "sw-tooltip"]], [[1, "for", 0]], null, null, null, null)), (_l()(), i1.ɵted(1, null, [" ", " "])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = ("speak-icon-" + _v.parent.context.index); _ck(_v, 0, 0, currVal_0); var currVal_1 = i1.ɵunv(_v, 1, 0, i1.ɵnov(_v, 2).transform("play")); _ck(_v, 1, 0, currVal_1); }); }
function View_TranslateComponent_38(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "div", [["class", "sw-tooltip"]], [[1, "for", 0]], null, null, null, null)), (_l()(), i1.ɵted(1, null, [" ", " "])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = ("speak-icon-" + _v.parent.context.index); _ck(_v, 0, 0, currVal_0); var currVal_1 = i1.ɵunv(_v, 1, 0, i1.ɵnov(_v, 2).transform("pause")); _ck(_v, 1, 0, currVal_1); }); }
function View_TranslateComponent_40(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 0, "i", [["class", "star-filled"]], null, [[null, "mouseover"], [null, "mouseout"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("mouseover" === en)) {
        var pd_0 = (_co.tooltip(("add-favorite-star-" + _v.parent.parent.context.index), true) !== false);
        ad = (pd_0 && ad);
    } if (("mouseout" === en)) {
        var pd_1 = (_co.tooltip(("add-favorite-star-" + _v.parent.parent.context.index), false) !== false);
        ad = (pd_1 && ad);
    } return ad; }, null, null))], null, null); }
function View_TranslateComponent_41(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 0, "i", [["class", "star-btn-norm"]], null, [[null, "mouseover"], [null, "mouseout"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("mouseover" === en)) {
        var pd_0 = (_co.tooltip(("add-favorite-star-" + _v.parent.parent.context.index), true) !== false);
        ad = (pd_0 && ad);
    } if (("mouseout" === en)) {
        var pd_1 = (_co.tooltip(("add-favorite-star-" + _v.parent.parent.context.index), false) !== false);
        ad = (pd_1 && ad);
    } return ad; }, null, null))], null, null); }
function View_TranslateComponent_39(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 4, "a", [["class", "addFavorit"]], [[8, "id", 0]], [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.addFavorite(_v.parent.context.index) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateComponent_40)), i1.ɵdid(2, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateComponent_41)), i1.ɵdid(4, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null)], function (_ck, _v) { var currVal_1 = _v.parent.context.$implicit.favoriteId; _ck(_v, 2, 0, currVal_1); var currVal_2 = !_v.parent.context.$implicit.favoriteId; _ck(_v, 4, 0, currVal_2); }, function (_ck, _v) { var currVal_0 = i1.ɵinlineInterpolate(1, "add-favorite-star-", _v.parent.context.index, ""); _ck(_v, 0, 0, currVal_0); }); }
function View_TranslateComponent_42(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "div", [["class", "sw-tooltip white-space-pre-wrap"]], [[1, "for", 0]], null, null, null, null)), (_l()(), i1.ɵted(1, null, ["", ""])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = ("add-favorite-star-" + _v.parent.context.index); _ck(_v, 0, 0, currVal_0); var currVal_1 = i1.ɵunv(_v, 1, 0, i1.ɵnov(_v, 2).transform("deleteFavorites")); _ck(_v, 1, 0, currVal_1); }); }
function View_TranslateComponent_43(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "div", [["class", "sw-tooltip white-space-pre-wrap"]], [[1, "for", 0]], null, null, null, null)), (_l()(), i1.ɵted(1, null, ["", ""])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var currVal_0 = ("add-favorite-star-" + _v.parent.context.index); _ck(_v, 0, 0, currVal_0); var currVal_1 = i1.ɵunv(_v, 1, 0, i1.ɵnov(_v, 2).transform("addFavotites")); _ck(_v, 1, 0, currVal_1); }); }
function View_TranslateComponent_32(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 25, "li", [["class", "items-context mdl-color--white"]], null, null, null, null, null)), i1.ɵdid(1, 278528, null, 0, i2.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateComponent_33)), i1.ɵdid(3, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵeld(4, 0, null, null, 1, "span", [["class", "context-source"]], [[8, "innerHTML", 1]], null, null, null, null)), i1.ɵdid(5, 278528, null, 0, i2.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), (_l()(), i1.ɵeld(6, 0, null, null, 4, "i", [["class", "material-icons arrow-target light-blure-text"]], null, null, null, null, null)), (_l()(), i1.ɵeld(7, 0, null, null, 3, ":svg:svg", [["height", "12"], ["viewBox", "0 0 13 12"], ["width", "13"], ["xmlns", "http://www.w3.org/2000/svg"]], null, null, null, null, null)), (_l()(), i1.ɵeld(8, 0, null, null, 2, ":svg:g", [["fill", "#32485F"], ["fill-rule", "evenodd"]], null, null, null, null, null)), (_l()(), i1.ɵeld(9, 0, null, null, 0, ":svg:path", [["d", "M0 0h1v8H0zM8 8v1H0V8z"]], null, null, null, null, null)), (_l()(), i1.ɵeld(10, 0, null, null, 0, ":svg:path", [["d", "M12.043 8.5l-4.956 2.587-.087-5z"]], null, null, null, null, null)), (_l()(), i1.ɵeld(11, 0, null, null, 1, "span", [["class", "context-target"]], [[8, "innerHTML", 1]], null, null, null, null)), i1.ɵdid(12, 278528, null, 0, i2.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), (_l()(), i1.ɵeld(13, 0, null, null, 12, "span", [["class", "sub-button-right"]], null, null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateComponent_34)), i1.ɵdid(15, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateComponent_37)), i1.ɵdid(17, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateComponent_38)), i1.ɵdid(19, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateComponent_39)), i1.ɵdid(21, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateComponent_42)), i1.ɵdid(23, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateComponent_43)), i1.ɵdid(25, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null)], function (_ck, _v) { var _co = _v.component; var currVal_0 = "items-context mdl-color--white"; var currVal_1 = ((!_co.contexts.contexts[(_v.context.index - 1)] || (_co.contexts.contexts[(_v.context.index - 1)] && (_v.context.$implicit["isGood"] != _co.contexts.contexts[(_v.context.index - 1)]["isGood"]))) ? (_v.context.$implicit["isGood"] ? "good-sample" : "bad-sample") : ""); _ck(_v, 1, 0, currVal_0, currVal_1); var currVal_2 = (!_co.contexts.contexts[(_v.context.index - 1)] || (_co.contexts.contexts[(_v.context.index - 1)] && (_v.context.$implicit["isGood"] != _co.contexts.contexts[(_v.context.index - 1)]["isGood"]))); _ck(_v, 3, 0, currVal_2); var currVal_4 = "context-source"; var currVal_5 = (!_co.targetLang.srcLtr ? "ltr text-right" : ""); _ck(_v, 5, 0, currVal_4, currVal_5); var currVal_7 = "context-target"; var currVal_8 = (!_co.targetLang.trgLtr ? "ltr text-right" : ""); _ck(_v, 12, 0, currVal_7, currVal_8); var currVal_9 = (_co.sourceLang.speakerName && (_co.sourceLang.speakerName.length > 0)); _ck(_v, 15, 0, currVal_9); var currVal_10 = !_v.context.$implicit.play; _ck(_v, 17, 0, currVal_10); var currVal_11 = _v.context.$implicit.play; _ck(_v, 19, 0, currVal_11); var currVal_12 = !_co.configurations.isInjectScript; _ck(_v, 21, 0, currVal_12); var currVal_13 = _v.context.$implicit.favoriteId; _ck(_v, 23, 0, currVal_13); var currVal_14 = !_v.context.$implicit.favoriteId; _ck(_v, 25, 0, currVal_14); }, function (_ck, _v) { var currVal_3 = _v.context.$implicit.source; _ck(_v, 4, 0, currVal_3); var currVal_6 = _v.context.$implicit.target; _ck(_v, 11, 0, currVal_6); }); }
function View_TranslateComponent_31(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 4, "main", [["class", "body-app body-iframe"]], null, null, null, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 3, "ul", [["class", "list-context translate-list"]], null, null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 2, null, View_TranslateComponent_32)), i1.ɵdid(3, 802816, null, 0, i2.NgForOf, [i1.ViewContainerRef, i1.TemplateRef, i1.IterableDiffers], { ngForOf: [0, "ngForOf"] }, null), i1.ɵppd(4, 3)], function (_ck, _v) { var _co = _v.component; var currVal_0 = i1.ɵunv(_v, 3, 0, _ck(_v, 4, 0, i1.ɵnov(_v.parent, 0), _co.contexts.contexts, "isGood", "desc")); _ck(_v, 3, 0, currVal_0); }, null); }
function View_TranslateComponent_45(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 10, "li", [["class", "history-row"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.translateFromHistory(_v.context.$implicit.word, _v.context.$implicit.langSource, _v.context.$implicit.langTarget) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵeld(1, 0, null, null, 1, "span", [["class", "history-row-lang"]], null, null, null, null, null)), (_l()(), i1.ɵted(2, null, ["", ""])), (_l()(), i1.ɵeld(3, 0, null, null, 0, "span", [["class", "small-arrow-lang"]], null, null, null, null, null)), (_l()(), i1.ɵeld(4, 0, null, null, 1, "span", [["class", "history-row-lang"]], null, null, null, null, null)), (_l()(), i1.ɵted(5, null, ["", ""])), (_l()(), i1.ɵeld(6, 0, null, null, 1, "span", [["class", "history-row-word"]], null, null, null, null, null)), (_l()(), i1.ɵted(7, null, ["", ""])), (_l()(), i1.ɵeld(8, 0, null, null, 0, "span", [["class", "small-arrow-word"]], null, null, null, null, null)), (_l()(), i1.ɵeld(9, 0, null, null, 1, "span", [["class", "history-row-translations"]], null, null, null, null, null)), (_l()(), i1.ɵted(10, null, ["", ""]))], null, function (_ck, _v) { var currVal_0 = _v.context.$implicit.langSource; _ck(_v, 2, 0, currVal_0); var currVal_1 = _v.context.$implicit.langTarget; _ck(_v, 5, 0, currVal_1); var currVal_2 = _v.context.$implicit.word; _ck(_v, 7, 0, currVal_2); var currVal_3 = _v.context.$implicit.wordTranslations.join(", "); _ck(_v, 10, 0, currVal_3); }); }
function View_TranslateComponent_46(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 8, "a", [["routerLinkActive", "active"]], [[1, "target", 0], [8, "href", 4]], [[null, "click"]], function (_v, en, $event) { var ad = true; if (("click" === en)) {
        var pd_0 = (i1.ɵnov(_v, 1).onClick($event.button, $event.ctrlKey, $event.metaKey, $event.shiftKey) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), i1.ɵdid(1, 671744, [[2, 4]], 0, i4.RouterLinkWithHref, [i4.Router, i4.ActivatedRoute, i2.LocationStrategy], { queryParams: [0, "queryParams"], routerLink: [1, "routerLink"] }, null), i1.ɵpod(2, { returnPage: 0 }), i1.ɵpad(3, 1), i1.ɵdid(4, 1720320, null, 2, i4.RouterLinkActive, [i4.Router, i1.ElementRef, i1.Renderer2, i1.ChangeDetectorRef], { routerLinkActive: [0, "routerLinkActive"] }, null), i1.ɵqud(603979776, 1, { links: 1 }), i1.ɵqud(603979776, 2, { linksWithHrefs: 1 }), (_l()(), i1.ɵted(7, null, [" ", " "])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef])], function (_ck, _v) { var currVal_2 = _ck(_v, 2, 0, "History"); var currVal_3 = _ck(_v, 3, 0, "/sign-up"); _ck(_v, 1, 0, currVal_2, currVal_3); var currVal_4 = "active"; _ck(_v, 4, 0, currVal_4); }, function (_ck, _v) { var currVal_0 = i1.ɵnov(_v, 1).target; var currVal_1 = i1.ɵnov(_v, 1).href; _ck(_v, 0, 0, currVal_0, currVal_1); var currVal_5 = i1.ɵunv(_v, 7, 0, i1.ɵnov(_v, 8).transform("moreHistory")); _ck(_v, 7, 0, currVal_5); }); }
function View_TranslateComponent_47(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "a", [["target", "_blank"]], [[8, "href", 4]], null, null, null, null)), (_l()(), i1.ɵted(1, null, [" ", " "])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef])], null, function (_ck, _v) { var _co = _v.component; var currVal_0 = i1.ɵinlineInterpolate(2, "", _co.configurations.server, "/users/", _co.configurations.appLang, "/Home/History"); _ck(_v, 0, 0, currVal_0); var currVal_1 = i1.ɵunv(_v, 1, 0, i1.ɵnov(_v, 2).transform("moreHistory")); _ck(_v, 1, 0, currVal_1); }); }
function View_TranslateComponent_44(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 7, "ul", [["class", "history-list"]], null, null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateComponent_45)), i1.ɵdid(2, 802816, null, 0, i2.NgForOf, [i1.ViewContainerRef, i1.TemplateRef, i1.IterableDiffers], { ngForOf: [0, "ngForOf"] }, null), (_l()(), i1.ɵeld(3, 0, null, null, 4, "li", [["class", "text-center"]], null, null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateComponent_46)), i1.ɵdid(5, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateComponent_47)), i1.ɵdid(7, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null)], function (_ck, _v) { var _co = _v.component; var currVal_0 = _co.history; _ck(_v, 2, 0, currVal_0); var currVal_1 = !_co.isAuth; _ck(_v, 5, 0, currVal_1); var currVal_2 = _co.isAuth; _ck(_v, 7, 0, currVal_2); }, null); }
function View_TranslateComponent_48(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 8, "div", [["class", "toggle-row"]], null, null, null, null, null)), i1.ɵdid(1, 278528, null, 0, i2.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), (_l()(), i1.ɵeld(2, 0, null, null, 2, "label", [["class", "switch"], ["for", "activateTranslSub"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.installSetting("activateTranslSub", !_co.activateTranslSub) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵeld(3, 0, null, null, 0, "input", [["id", "activateTranslSub"], ["type", "checkbox"]], [[8, "checked", 0], [1, "disabled", 0]], null, null, null, null)), (_l()(), i1.ɵeld(4, 0, null, null, 0, "span", [["class", "slider round"]], null, null, null, null, null)), (_l()(), i1.ɵeld(5, 0, null, null, 3, "span", [], null, null, null, null, null)), (_l()(), i1.ɵted(6, null, ["", "(", ")"])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef]), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef])], function (_ck, _v) { var _co = _v.component; var currVal_0 = "toggle-row"; var currVal_1 = (_co.configurations.isMiniView ? "" : "hide"); _ck(_v, 1, 0, currVal_0, currVal_1); }, function (_ck, _v) { var _co = _v.component; var currVal_2 = _co.activateTranslSub; var currVal_3 = (_co.disableToggle ? "" : null); _ck(_v, 3, 0, currVal_2, currVal_3); var currVal_4 = i1.ɵunv(_v, 6, 0, i1.ɵnov(_v, 7).transform("activateTranslSub")); var currVal_5 = i1.ɵunv(_v, 6, 1, i1.ɵnov(_v, 8).transform("listProviders")); _ck(_v, 6, 0, currVal_4, currVal_5); }); }
function View_TranslateComponent_49(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 9, "div", [["class", "sub-auth-row"]], null, null, null, null, null)), i1.ɵdid(1, 278528, null, 0, i2.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), (_l()(), i1.ɵted(2, null, [" ", " "])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(4, 0, null, null, 2, "a", [["target", "_blank"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        _co.checkCookies();
        var pd_0 = (_co.goToAuth(_co.configurations.links.login) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵted(5, null, [" ", " "])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(7, 0, null, null, 2, "a", [["target", "_blank"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        _co.checkCookies();
        var pd_0 = (_co.goToAuth(_co.configurations.links.register) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵted(8, null, [" ", " "])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef])], function (_ck, _v) { var _co = _v.component; var currVal_0 = "sub-auth-row"; var currVal_1 = (_co.configurations.isMiniView ? "" : "hide"); _ck(_v, 1, 0, currVal_0, currVal_1); }, function (_ck, _v) { var currVal_2 = i1.ɵunv(_v, 2, 0, i1.ɵnov(_v, 3).transform("loginForSubToolbar")); _ck(_v, 2, 0, currVal_2); var currVal_3 = i1.ɵunv(_v, 5, 0, i1.ɵnov(_v, 6).transform("logIn")); _ck(_v, 5, 0, currVal_3); var currVal_4 = i1.ɵunv(_v, 8, 0, i1.ɵnov(_v, 9).transform("signUp")); _ck(_v, 8, 0, currVal_4); }); }
function View_TranslateComponent_50(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 1, "modal-incognito-modal", [], null, [[null, "closeModal"], [null, "goToLink"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("closeModal" === en)) {
        var pd_0 = ((_co.isShowMessageForInIncognitoContext = null) !== false);
        ad = (pd_0 && ad);
    } if (("goToLink" === en)) {
        var pd_1 = (_co.goToAuth(_co.isShowMessageForInIncognitoContext, true) !== false);
        ad = (pd_1 && ad);
    } return ad; }, i5.View_ModalIncognitoComponent_0, i5.RenderType_ModalIncognitoComponent)), i1.ɵdid(1, 49152, null, 0, i6.ModalIncognitoComponent, [], null, { closeModal: "closeModal", goToLink: "goToLink" })], null, null); }
function View_TranslateComponent_0(_l) { return i1.ɵvid(0, [i1.ɵpid(0, i7.ArraySortPipe, []), (_l()(), i1.ɵeld(1, 0, null, null, 13, "div", [["class", "select-lang w-15 text-right"]], null, null, null, null, null)), (_l()(), i1.ɵeld(2, 0, null, null, 1, "button", [["class", "mdl-menu-no-click mdl-button mdl-js-button mdl-button--colored go-edit mdl-color-text--white mdl-menu-button capitalize text-right select_lang_source-button"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        _co.mdMenu.show("select_lang_source");
        _co.mdMenu.show("background-for-lang");
        var pd_0 = (_co.highlightButtonLang("select_lang_source-button") !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵted(3, null, [" ", " "])), (_l()(), i1.ɵeld(4, 0, null, null, 2, "ul", [["class", "mdl-menu mdl-menu--bottom-right hide mdl-menu-no-click mdl-menu-no-click-my"], ["id", "select_lang_source"]], null, null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateComponent_1)), i1.ɵdid(6, 802816, null, 0, i2.NgForOf, [i1.ViewContainerRef, i1.TemplateRef, i1.IterableDiffers], { ngForOf: [0, "ngForOf"] }, null), (_l()(), i1.ɵeld(7, 0, null, null, 1, "div", [["class", "lang_revers text-center inline-block"]], null, null, null, null, null)), (_l()(), i1.ɵeld(8, 0, null, null, 0, "button", [["class", "mdl-button mdl-js-button mdl-button--icon mdl-color-text--white revers-lang-button"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        _co.reversLang();
        var pd_0 = ((_co.dymApplied = false) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵeld(9, 0, null, null, 1, "button", [["class", "mdl-menu-no-click mdl-button mdl-js-button mdl-button--colored go-edit mdl-color-text--white mdl-menu-button capitalize text-left select_lang_target-button"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        _co.mdMenu.show("select_lang_target");
        _co.mdMenu.show("background-for-lang");
        var pd_0 = (_co.highlightButtonLang("select_lang_target-button") !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵted(10, null, [" ", " "])), (_l()(), i1.ɵeld(11, 0, null, null, 2, "ul", [["class", "mdl-menu mdl-menu--bottom-right hide mdl-menu-no-click mdl-menu-no-click-my"], ["id", "select_lang_target"]], null, null, null, null, null)), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateComponent_2)), i1.ɵdid(13, 802816, null, 0, i2.NgForOf, [i1.ViewContainerRef, i1.TemplateRef, i1.IterableDiffers], { ngForOf: [0, "ngForOf"] }, null), (_l()(), i1.ɵeld(14, 0, null, null, 0, "span", [["class", "mdl-menu mdl-menu-no-click"], ["id", "background-for-lang"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        _co.mdMenu.hide();
        var pd_0 = ((_co.configurations.isMiniView ? _co.setMiniView() : _co.setNormalView()) !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵeld(15, 0, null, null, 42, "header", [["class", "header-translate"], ["id", "header-translate"]], null, null, null, null, null)), i1.ɵdid(16, 278528, null, 0, i2.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), i1.ɵpod(17, { fullTextTranslationMode: 0 }), (_l()(), i1.ɵeld(18, 0, null, null, 39, "form", [["autocomplete", "off"], ["novalidate", ""]], [[2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "submit"], [null, "reset"]], function (_v, en, $event) { var ad = true; if (("submit" === en)) {
        var pd_0 = (i1.ɵnov(_v, 20).onSubmit($event) !== false);
        ad = (pd_0 && ad);
    } if (("reset" === en)) {
        var pd_1 = (i1.ɵnov(_v, 20).onReset() !== false);
        ad = (pd_1 && ad);
    } return ad; }, null, null)), i1.ɵdid(19, 16384, null, 0, i8.ɵangular_packages_forms_forms_bg, [], null, null), i1.ɵdid(20, 4210688, null, 0, i8.NgForm, [[8, null], [8, null]], null, null), i1.ɵprd(2048, null, i8.ControlContainer, null, [i8.NgForm]), i1.ɵdid(22, 16384, null, 0, i8.NgControlStatusGroup, [[4, i8.ControlContainer]], null, null), (_l()(), i1.ɵeld(23, 0, null, null, 20, "div", [["class", "display-flex float-left input-block-word w-75 input-for-translate"]], null, null, null, null, null)), i1.ɵdid(24, 278528, null, 0, i2.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), i1.ɵpod(25, { hasContextBtn: 0 }), (_l()(), i1.ɵeld(26, 0, null, null, 8, "textarea", [["autocapitalize", "off"], ["autocomplete", "off"], ["autofocus", ""], ["class", "mdl-textfield__input"], ["cols", "1"], ["id", "wordInput"], ["name", "textTranslate"], ["rows", "1"]], [[8, "placeholder", 0], [2, "ng-untouched", null], [2, "ng-touched", null], [2, "ng-pristine", null], [2, "ng-dirty", null], [2, "ng-valid", null], [2, "ng-invalid", null], [2, "ng-pending", null]], [[null, "ngModelChange"], ["window", "keydown"], [null, "blur"], [null, "input"], [null, "compositionstart"], [null, "compositionend"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("input" === en)) {
        var pd_0 = (i1.ɵnov(_v, 29)._handleInput($event.target.value) !== false);
        ad = (pd_0 && ad);
    } if (("blur" === en)) {
        var pd_1 = (i1.ɵnov(_v, 29).onTouched() !== false);
        ad = (pd_1 && ad);
    } if (("compositionstart" === en)) {
        var pd_2 = (i1.ɵnov(_v, 29)._compositionStart() !== false);
        ad = (pd_2 && ad);
    } if (("compositionend" === en)) {
        var pd_3 = (i1.ɵnov(_v, 29)._compositionEnd($event.target.value) !== false);
        ad = (pd_3 && ad);
    } if (("ngModelChange" === en)) {
        _co.textTranslate = $event;
        _co.resultTranslate = null;
        _co.textResult = "";
        _co.changeHeightInput();
        _co.getSuggest();
        _co.sources = { translations: [] };
        _co.error = false;
        _co.contexts = { contexts: [] };
        _co.suggestions = [];
        _co.suggestionsIndex = (0 - 1);
        _co.dymApplied = false;
        var pd_4 = (((_co.textTranslate.length < 1) ? _co.setMiniView(87) : null) !== false);
        ad = (pd_4 && ad);
    } if (("window:keydown" === en)) {
        var pd_5 = (_co.eventHandler($event) !== false);
        ad = (pd_5 && ad);
    } if (("blur" === en)) {
        var pd_6 = (_co.clearSuggestions() !== false);
        ad = (pd_6 && ad);
    } return ad; }, null, null)), i1.ɵdid(27, 278528, null, 0, i2.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), i1.ɵpod(28, { "ltr": 0, "text-right": 1, "dymApplied": 2 }), i1.ɵdid(29, 16384, null, 0, i8.DefaultValueAccessor, [i1.Renderer2, i1.ElementRef, [2, i8.COMPOSITION_BUFFER_MODE]], null, null), i1.ɵprd(1024, null, i8.NG_VALUE_ACCESSOR, function (p0_0) { return [p0_0]; }, [i8.DefaultValueAccessor]), i1.ɵdid(31, 671744, null, 0, i8.NgModel, [[2, i8.ControlContainer], [8, null], [8, null], [6, i8.NG_VALUE_ACCESSOR]], { name: [0, "name"], model: [1, "model"] }, { update: "ngModelChange" }), i1.ɵprd(2048, null, i8.NgControl, null, [i8.NgModel]), i1.ɵdid(33, 16384, null, 0, i8.NgControlStatus, [[4, i8.NgControl]], null, null), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(35, 0, null, null, 6, "div", [["class", "pseudo-model-translate"]], null, null, null, null, null)), i1.ɵdid(36, 278528, null, 0, i2.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), i1.ɵpod(37, { "ltr": 0, "text-right": 1 }), (_l()(), i1.ɵeld(38, 0, null, null, 1, "span", [["class", "text-translate"]], null, null, null, null, null)), (_l()(), i1.ɵted(39, null, ["", ""])), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateComponent_3)), i1.ɵdid(41, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateComponent_4)), i1.ɵdid(43, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateComponent_6)), i1.ɵdid(45, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵeld(46, 0, null, null, 2, "div", [["class", "sw-tooltip"]], [[1, "for", 0]], null, null, null, null)), (_l()(), i1.ɵted(47, null, [" ", ""])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(49, 0, null, null, 4, "button", [["class", "mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent button-translate main-background"], ["id", "translateSimpleButton"], ["type", "submit"]], null, [[null, "click"], [null, "mouseover"], [null, "mouseout"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (((_co.numberWords > _co.configurations.wordCountLimit) ? _co.translateText() : _co.translateSimple()) !== false);
        ad = (pd_0 && ad);
    } if (("mouseover" === en)) {
        var pd_1 = (_co.tooltip("translateSimpleButton", true) !== false);
        ad = (pd_1 && ad);
    } if (("mouseout" === en)) {
        var pd_2 = (_co.tooltip("translateSimpleButton", false) !== false);
        ad = (pd_2 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵeld(50, 0, null, null, 3, "div", [["class", "sw-tooltip"]], [[1, "for", 0]], null, null, null, null)), (_l()(), i1.ɵted(51, null, [" ", ""])), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef]), i1.ɵpid(131072, i3.TranslatePipe, [i3.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateComponent_7)), i1.ɵdid(55, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateComponent_8)), i1.ɵdid(57, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateComponent_9)), i1.ɵdid(59, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateComponent_10)), i1.ɵdid(61, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateComponent_21)), i1.ɵdid(63, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateComponent_22)), i1.ɵdid(65, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateComponent_23)), i1.ɵdid(67, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateComponent_31)), i1.ɵdid(69, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateComponent_44)), i1.ɵdid(71, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateComponent_48)), i1.ɵdid(73, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateComponent_49)), i1.ɵdid(75, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵand(16777216, null, null, 1, null, View_TranslateComponent_50)), i1.ɵdid(77, 16384, null, 0, i2.NgIf, [i1.ViewContainerRef, i1.TemplateRef], { ngIf: [0, "ngIf"] }, null), (_l()(), i1.ɵeld(78, 0, null, null, 3, "span", [["id", "switch-mini-view"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        _co.setMiniView();
        var pd_0 = (_co.changeHeightInput() !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), i1.ɵdid(79, 278528, null, 0, i2.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { ngClass: [0, "ngClass"] }, null), (_l()(), i1.ɵeld(80, 0, null, null, 1, ":svg:svg", [["height", "11"], ["viewBox", "0 0 6 11"], ["width", "6"], ["xmlns", "http://www.w3.org/2000/svg"]], null, null, null, null, null)), (_l()(), i1.ɵeld(81, 0, null, null, 0, ":svg:path", [["d", "M.333 1.114L5.667 5.78.333 10.447"], ["fill", "none"], ["fill-rule", "evenodd"], ["stroke", "#FFF"], ["stroke-linecap", "round"], ["stroke-width", "2"]], null, null, null, null, null)), (_l()(), i1.ɵeld(82, 0, null, null, 11, "footer", [["class", "mdl-mini-footer"]], null, null, null, null, null)), i1.ɵdid(83, 278528, null, 0, i2.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), (_l()(), i1.ɵeld(84, 0, null, null, 9, "div", [["class", "mdl-mini-footer__left-section"]], null, null, null, null, null)), (_l()(), i1.ɵeld(85, 0, null, null, 8, "ul", [["class", "mdl-mini-footer__link-list"]], null, null, null, null, null)), (_l()(), i1.ɵeld(86, 0, null, null, 7, "li", [["class", "copyright-item"]], null, null, null, null, null)), (_l()(), i1.ɵeld(87, 0, null, null, 2, "div", [["class", "circle-indicator"]], null, null, null, null, null)), i1.ɵdid(88, 278528, null, 0, i2.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), i1.ɵpod(89, { active: 0 }), (_l()(), i1.ɵted(90, null, [" ", " \u00A9 "])), (_l()(), i1.ɵeld(91, 0, null, null, 1, "a", [["target", "_blank"]], [[8, "href", 4]], null, null, null, null)), (_l()(), i1.ɵted(-1, null, [" Reverso "])), (_l()(), i1.ɵted(93, null, [" v", " "]))], function (_ck, _v) { var _co = _v.component; var currVal_1 = _co.directions.directions; _ck(_v, 6, 0, currVal_1); var currVal_3 = _co.sourceLang.targets; _ck(_v, 13, 0, currVal_3); var currVal_4 = "header-translate"; var currVal_5 = _ck(_v, 17, 0, (_co.numberWords > _co.configurations.wordCountLimit)); _ck(_v, 16, 0, currVal_4, currVal_5); var currVal_13 = "display-flex float-left input-block-word w-75 input-for-translate"; var currVal_14 = _ck(_v, 25, 0, ((_co.textTranslate.length > 0) && (_co.contexts.contexts.length > 0))); _ck(_v, 24, 0, currVal_13, currVal_14); var currVal_23 = "mdl-textfield__input"; var currVal_24 = _ck(_v, 28, 0, !_co.targetLang.srcLtr, !_co.targetLang.srcLtr, _co.dymApplied); _ck(_v, 27, 0, currVal_23, currVal_24); var currVal_25 = "textTranslate"; var currVal_26 = _co.textTranslate; _ck(_v, 31, 0, currVal_25, currVal_26); var currVal_27 = "pseudo-model-translate"; var currVal_28 = _ck(_v, 37, 0, !_co.targetLang.srcLtr, !_co.targetLang.srcLtr); _ck(_v, 36, 0, currVal_27, currVal_28); var currVal_30 = (_co.dymApplied && !_co.history); _ck(_v, 41, 0, currVal_30); var currVal_31 = (((_co.suggestions.length > 0) && (_co.textTranslate.length > 0)) && (_co.numberWords <= _co.configurations.wordCountLimit)); _ck(_v, 43, 0, currVal_31); var currVal_32 = (((_co.textTranslate.length > 0) && (_co.contexts.contexts.length > 0)) || _co.resultTranslate); _ck(_v, 45, 0, currVal_32); var currVal_37 = (((_co.textTranslate.length > 0) && (_co.contexts.contexts.length > 0)) && (_co.numberWords <= _co.configurations.wordCountLimit)); _ck(_v, 55, 0, currVal_37); var currVal_38 = (((_co.textTranslate.length > 0) && (_co.contexts.contexts.length > 0)) && (_co.numberWords <= _co.configurations.wordCountLimit)); _ck(_v, 57, 0, currVal_38); var currVal_39 = (_co.isTranslate == true); _ck(_v, 59, 0, currVal_39); var currVal_40 = ((_co.sources.translations.length > 0) && (_co.numberWords <= _co.configurations.wordCountLimit)); _ck(_v, 61, 0, currVal_40); var currVal_41 = _co.error; _ck(_v, 63, 0, currVal_41); var currVal_42 = ((((_co.sources.translations.length > 0) && (_co.contexts.contexts.length < 1)) && !_co.isTranslate) && !_co.error); _ck(_v, 65, 0, currVal_42); var currVal_43 = ((_co.numberWords > _co.configurations.wordCountLimit) && _co.resultTranslate); _ck(_v, 67, 0, currVal_43); var currVal_44 = ((_co.contexts.contexts.length > 0) && (_co.numberWords <= _co.configurations.wordCountLimit)); _ck(_v, 69, 0, currVal_44); var currVal_45 = _co.history; _ck(_v, 71, 0, currVal_45); var currVal_46 = (((_co.subToggle && (_co.textTranslate.length == 0)) && !_co.showAuthMess) && ((!_co.activateTranslSub && !_co.isAuth) || _co.isAuth)); _ck(_v, 73, 0, currVal_46); var currVal_47 = ((_co.subToggle && (_co.textTranslate.length == 0)) && ((_co.activateTranslSub && !_co.isAuth) || _co.showAuthMess)); _ck(_v, 75, 0, currVal_47); var currVal_48 = _co.isShowMessageForInIncognitoContext; _ck(_v, 77, 0, currVal_48); var currVal_49 = (_co.configurations.isMiniView ? "hide" : ""); _ck(_v, 79, 0, currVal_49); var currVal_50 = "mdl-mini-footer"; var currVal_51 = (_co.configurations.isMiniView ? "hide" : ""); _ck(_v, 83, 0, currVal_50, currVal_51); var currVal_52 = "circle-indicator"; var currVal_53 = _ck(_v, 89, 0, _co.isAuth); _ck(_v, 88, 0, currVal_52, currVal_53); }, function (_ck, _v) { var _co = _v.component; var currVal_0 = _co.sourceLang.name; _ck(_v, 3, 0, currVal_0); var currVal_2 = _co.targetLang.name; _ck(_v, 10, 0, currVal_2); var currVal_6 = i1.ɵnov(_v, 22).ngClassUntouched; var currVal_7 = i1.ɵnov(_v, 22).ngClassTouched; var currVal_8 = i1.ɵnov(_v, 22).ngClassPristine; var currVal_9 = i1.ɵnov(_v, 22).ngClassDirty; var currVal_10 = i1.ɵnov(_v, 22).ngClassValid; var currVal_11 = i1.ɵnov(_v, 22).ngClassInvalid; var currVal_12 = i1.ɵnov(_v, 22).ngClassPending; _ck(_v, 18, 0, currVal_6, currVal_7, currVal_8, currVal_9, currVal_10, currVal_11, currVal_12); var currVal_15 = i1.ɵinlineInterpolate(1, "", i1.ɵunv(_v, 26, 0, i1.ɵnov(_v, 34).transform("yourSearch")), ""); var currVal_16 = i1.ɵnov(_v, 33).ngClassUntouched; var currVal_17 = i1.ɵnov(_v, 33).ngClassTouched; var currVal_18 = i1.ɵnov(_v, 33).ngClassPristine; var currVal_19 = i1.ɵnov(_v, 33).ngClassDirty; var currVal_20 = i1.ɵnov(_v, 33).ngClassValid; var currVal_21 = i1.ɵnov(_v, 33).ngClassInvalid; var currVal_22 = i1.ɵnov(_v, 33).ngClassPending; _ck(_v, 26, 0, currVal_15, currVal_16, currVal_17, currVal_18, currVal_19, currVal_20, currVal_21, currVal_22); var currVal_29 = _co.textTranslate; _ck(_v, 39, 0, currVal_29); var currVal_33 = "clear-bottom-wordInput"; _ck(_v, 46, 0, currVal_33); var currVal_34 = i1.ɵunv(_v, 47, 0, i1.ɵnov(_v, 48).transform("clear")); _ck(_v, 47, 0, currVal_34); var currVal_35 = "translateSimpleButton"; _ck(_v, 50, 0, currVal_35); var currVal_36 = ((_co.numberWords <= _co.configurations.wordCountLimit) ? i1.ɵunv(_v, 51, 0, i1.ɵnov(_v, 52).transform("search")) : i1.ɵunv(_v, 51, 0, i1.ɵnov(_v, 53).transform("translate"))); _ck(_v, 51, 0, currVal_36); var currVal_54 = _co.configurations.currentYear; _ck(_v, 90, 0, currVal_54); var currVal_55 = i1.ɵinlineInterpolate(1, "", _co.configurations.links.context, ""); _ck(_v, 91, 0, currVal_55); var currVal_56 = _co.configurations.version; _ck(_v, 93, 0, currVal_56); }); }
exports.View_TranslateComponent_0 = View_TranslateComponent_0;
function View_TranslateComponent_Host_0(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 5, "translate-page", [], null, null, null, View_TranslateComponent_0, RenderType_TranslateComponent)), i1.ɵprd(512, null, i9.ProfileService, i9.ProfileService, [i10.Api]), i1.ɵprd(512, null, i11.HistoryStorage, i11.HistoryStorage, []), i1.ɵprd(512, null, i12.TranslService, i12.TranslService, [i10.Api, i9.ProfileService, i11.HistoryStorage]), i1.ɵprd(512, null, i13.SettingsStorage, i13.SettingsStorage, []), i1.ɵdid(5, 245760, null, 0, i14.TranslateComponent, [i4.Router, i4.ActivatedRoute, i9.ProfileService, i12.TranslService, i13.SettingsStorage, i11.HistoryStorage], null, null)], function (_ck, _v) { _ck(_v, 5, 0); }, null); }
exports.View_TranslateComponent_Host_0 = View_TranslateComponent_Host_0;
var TranslateComponentNgFactory = i1.ɵccf("translate-page", i14.TranslateComponent, View_TranslateComponent_Host_0, {}, {}, []);
exports.TranslateComponentNgFactory = TranslateComponentNgFactory;


/***/ }),

/***/ "./src/app/pages/translate/translate.page.ts":
/*!***************************************************!*\
  !*** ./src/app/pages/translate/translate.page.ts ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var core_1 = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var router_1 = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var isHieroglyph_1 = __webpack_require__(/*! ../../../scripts/utils/isHieroglyph */ "./src/scripts/utils/isHieroglyph.ts");
// Add the RxJS Observable operators we need in this app.
__webpack_require__(/*! ./../../rxjs-operators */ "./src/app/rxjs-operators.ts");
var main_func_1 = __webpack_require__(/*! ../../functions/main.func */ "./src/app/functions/main.func.ts");
var config_1 = __webpack_require__(/*! ../../config */ "./src/app/config.ts");
var settings_storage_1 = __webpack_require__(/*! ../../storage/settings.storage */ "./src/app/storage/settings.storage.ts");
var history_storage_1 = __webpack_require__(/*! ../../storage/history.storage */ "./src/app/storage/history.storage.ts");
var profile_service_1 = __webpack_require__(/*! ../../services/profile.service */ "./src/app/services/profile.service.ts");
var favorites_service_1 = __webpack_require__(/*! ../../services/favorites.service */ "./src/app/services/favorites.service.ts");
var profile_local_1 = __webpack_require__(/*! ../../services/profile.local */ "./src/app/services/profile.local.ts");
var translate_service_1 = __webpack_require__(/*! ../../services/translate.service */ "./src/app/services/translate.service.ts");
var language_extras_1 = __webpack_require__(/*! ../../extras/language.extras */ "./src/app/extras/language.extras.ts");
var language_class_1 = __webpack_require__(/*! ../../../scripts/content/classes/language.class */ "./src/scripts/content/classes/language.class.ts");
var TranslateComponent = /** @class */ (function () {
    function TranslateComponent(router, route, profileService, translateService, settingsStorage, historyStorage) {
        this.router = router;
        this.route = route;
        this.profileService = profileService;
        this.translateService = translateService;
        this.settingsStorage = settingsStorage;
        this.historyStorage = historyStorage;
        this.error = false;
        this.errorMessage = '';
        this.isTranslate = false;
        this.isIframe = false;
        this.textTranslate = '';
        this.textDym = '';
        this.dymApplied = false;
        this.sources = {
            count: 0,
            displaySource: '',
            source: '',
            translations: [],
            weight: 0
        };
        this.contexts = { contexts: [] };
        this.suggestions = [];
        this.suggestionsIndex = -1;
        this.directions = {
            directions: []
        };
        this.sourceLang = {
            id: '',
            name: '',
            targets: [{ id: 0 }],
            speakerName: ''
        };
        this.targetLang = {
            id: '',
            name: '',
            speakerName: '',
            srcLtr: true,
            trgLtr: true
        };
        this.tooltip = main_func_1.tooltip;
        this.history = null;
        // Main Functions
        this.mdMenu = main_func_1.mdMenu;
        this.setHeightDocument = main_func_1.setHeightDocument;
        this.configurations = config_1.configurations;
        this.isAuth = false;
        this.intervalCount = 0;
        this.speakSourcePlay = false;
        this.subToggle = false;
        this.activateTranslSub = false;
        this.disableToggle = false;
        this.showAuthMess = false;
        this.numberWords = 0;
        this.textResult = '';
        this.resultTranslate = null;
        this.isShowMessageForInIncognitoContext = null;
        this.params = {
            word: this.route.params['value']['word'] || '',
            arrayWords: this.route.params['value']['arrayWords'] || [],
            sentence: this.route.params['value']['sentence'] || '',
            sentenceForLang: this.route.params['value']['sentenceForLang'] || '',
            position: this.route.params['value']['position'] || -1,
            countWord: this.route.params['value']['countWord'] || 1,
            siteTitle: this.route.params['value']['siteTitle'] || '',
            siteOrigin: this.route.params['value']['siteOrigin'] || '',
            siteHref: this.route.params['value']['siteHref'] || '',
            lang_source: this.route.params['value']['lang'] || '',
            lang_target: this.route.params['value']['langTarget'] || '',
            miniView: this.route.params['value']['miniView'] || false,
            run: this.route.params['value']['run'] || false,
            reversoPage: this.route.params['value']['reversoPage'] || false,
            wholeTextforReverso: this.route.params['value']['wholeTextforReverso'] || false
        };
        // Для нормальной работы с высотой
        if (document.querySelector('main.mdl-layout__content')) {
            document.querySelector('main.mdl-layout__content')['style'].overflowY = 'hidden';
        }
        if (document.querySelector('#title-page')) {
            document.querySelector('#title-page').innerHTML = '';
        }
        // Вернет нормальный  для iframe
        window.parent['postMessage']('setNormalView:true', '*');
    }
    // Выставить язык сурса
    TranslateComponent.prototype.selectLangSource = function (id, goTranslate) {
        if (goTranslate === void 0) { goTranslate = true; }
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: 
                    // Получаем язык с базы сурс СТАРЫЙ!
                    return [4 /*yield*/, this.settingsStorage.getRow('lang_source').then(function (lang_source) {
                            _this.languageExtras.oldSourceLang = lang_source != null ? lang_source :
                                config_1.configurations.appLang === 'en' ? 'fr' : 'en';
                            return;
                        }, function (error) {
                            _this.languageExtras.oldSourceLang = config_1.configurations.appLang === 'en' ? 'fr' : 'en';
                            return;
                        })];
                    case 1:
                        // Получаем язык с базы сурс СТАРЫЙ!
                        _a.sent();
                        this.mdMenu.hide();
                        if (config_1.configurations.isMiniView)
                            this.setMiniView();
                        return [2 /*return*/, this.languageExtras.selectLangSource(id).then(function (res) {
                                _this.sourceLang = res;
                                // Получаем язык с базы таргет
                                _this.settingsStorage.getRow('lang_target').then(function (lang_target) {
                                    lang_target = lang_target != null ? lang_target : config_1.configurations.appLang;
                                    _this.languageExtras.selectLangTarget(lang_target).then(function (result) {
                                        _this.targetLang = result;
                                        // Запускаем перевод
                                        if (goTranslate && _this.textTranslate.length > 0) {
                                            _this.numberWords > _this.configurations.wordCountLimit ? _this.translateText() : _this.translateSimple();
                                        }
                                    });
                                }, function (error) {
                                    console.error(error);
                                });
                            }, function (error) {
                                console.error(error);
                            })];
                }
            });
        });
    };
    // Выставить язык таргета
    TranslateComponent.prototype.selectLangTarget = function (id, goTranslate) {
        var _this = this;
        if (goTranslate === void 0) { goTranslate = true; }
        this.mdMenu.hide();
        if (config_1.configurations.isMiniView)
            this.setMiniView();
        this.languageExtras.selectLangTarget(id).then(function (res) {
            _this.targetLang = res;
            // Запускаем перевод
            if (goTranslate && _this.textTranslate.length > 0) {
                _this.numberWords > _this.configurations.wordCountLimit ? _this.translateText() : _this.translateSimple();
            }
        }, function (error) {
            console.error(error);
        });
    };
    // Реверс языков
    TranslateComponent.prototype.reversLang = function () {
        var _this = this;
        this.languageExtras.reversLang().then(function (res) {
            _this.sourceLang = res['sourceLang'];
            _this.targetLang = res['targetLang'];
            // Запускаем перевод
            if (_this.textTranslate.length > 0) {
                _this.numberWords > _this.configurations.wordCountLimit ? _this.translateText() : _this.translateSimple();
            }
        }, function (error) {
            console.error(error);
        });
    };
    TranslateComponent.prototype.eventHandler = function (event) {
        // Вниз
        if (event['code'] === 'ArrowDown' && this.suggestions.length > 0) {
            this.suggestionsIndex++;
            if (typeof this.suggestions[this.suggestionsIndex] === 'undefined') {
                this.suggestionsIndex = 0;
            }
            this.textTranslate = this.suggestions[this.suggestionsIndex];
            return false;
            // Вверх
        }
        else if (event['code'] === 'ArrowUp' && this.suggestions.length > 0) {
            this.suggestionsIndex--;
            if (typeof this.suggestions[this.suggestionsIndex] === 'undefined') {
                this.suggestionsIndex = this.suggestions.length - 1;
            }
            this.textTranslate = this.suggestions[this.suggestionsIndex];
            return false;
            // Enter
        }
        else if (event['keyCode'] === 13) {
            this.numberWords > this.configurations.wordCountLimit ? this.translateText() : this.translateSimple();
            return false;
            // else if (event['code'] === 'Enter' && this.suggestions.length > 0) {
            //     this.translateSimple();
            //     return false;
            // }
        }
        else {
            this.suggestionsIndex = -1;
        }
    };
    // Получить подсказки
    TranslateComponent.prototype.getSuggest = function () {
        var _this = this;
        if (this.numberWords > this.configurations.wordCountLimit) {
            this.suggestions = [];
            // this.setMiniView();
            return;
        }
        if (!this.isTranslate && this.textTranslate.length > 0 && this.suggestionsIndex === -1 && window.navigator.onLine) {
            document.getElementById('translateSimpleButton')['disabled'] = false;
            if (document.querySelector('translate-page .go-button-reverso-context')) {
                document.querySelector('translate-page .go-button-reverso-context')['style'].opacity = '1';
            }
            // Обрываем все старые запросы
            if (this.translateService.httpSubscription && typeof this.translateService.httpSubscription.unsubscribe !== 'undefined') {
                this.translateService.httpSubscription.unsubscribe();
            }
            // Отправляем на запрос
            this.translateService.getSuggest({
                source: this.textTranslate,
                lang_source: this.sourceLang.id,
                lang_target: this.targetLang.id
            }).then(function (res) {
                if (res.suggestions && res.suggestions.length > 0) {
                    _this.setMiniView(322);
                    _this.suggestions = res.suggestions;
                }
                else {
                    // Вернули изначальную высоту
                    _this.setMiniView();
                    _this.suggestions = [];
                }
            }, function (error) {
                _this.suggestions = [];
                _this.isTranslate = false;
                _this.error = true;
                _this.errorMessage = config_1.configurations.localization['requestInterrupted'] || '';
                console.error(error);
            });
        }
        else {
            document.getElementById('translateSimpleButton')['disabled'] = true;
            if (document.querySelector('translate-page .go-button-reverso-context')) {
                document.querySelector('translate-page .go-button-reverso-context')['style'].opacity = '0.8';
            }
            return false;
        }
    };
    TranslateComponent.prototype.goToReversoSiteTranslate = function () {
        if (!language_class_1.default.getLangCodeForReverso(this.sourceLang.id, this.targetLang.id, (this.directions ? this.directions['directions'] : null))) {
            if (this.sourceLang.id === this.targetLang.id) {
                this.targetLang.id = this.sourceLang.id === 'fr' ? 'en' : 'fr';
            }
        }
        var directions = language_class_1.default.getLangCodeForReverso(this.sourceLang.id, this.targetLang.id, (this.directions ? this.directions['directions'] : null));
        if (!directions) {
            this.error = true;
            this.errorMessage = config_1.configurations.localization['notSupportedDirection'] || '';
            return;
        }
        var interfaceLang = config_1.configurations['settings_interface_lang'] ?
            config_1.configurations['settings_interface_lang'] : config_1.configurations.appLang;
        var form = document.createElement('form');
        form.method = 'POST';
        form.action = "https://www.reverso.net/translationresults.aspx?lang=" + interfaceLang.toUpperCase() + "direction=" + this.sourceLang.name.toLowerCase() + "-" + this.targetLang.name.toLowerCase(); // english-french`;
        form.target = 'blank';
        form.style.display = 'none';
        var dir = document.createElement('input');
        dir.name = 'dir';
        dir.value = directions;
        form.appendChild(dir);
        var searchtext = document.createElement('input');
        searchtext.name = 'searchtext';
        searchtext.value = this.params.wholeTextforReverso || this.textTranslate;
        form.appendChild(searchtext);
        var dislangd = document.createElement('input');
        dislangd.name = 'dislangd';
        dislangd.value = '0';
        form.appendChild(dislangd);
        var button = document.createElement('button');
        button.type = 'button';
        form.appendChild(button);
        document.body.appendChild(form);
        form.submit();
        //
        form.remove();
        return;
        // const url = `https://www.reverso.net/translationresults.aspx?lang=${interfaceLang}&direction_translation=${directions}&action_form=translate&sourcetext=${encodeURIComponent(this.params.wholeTextforReverso || this.textTranslate)}&utm_source=Reverso%20Extension&utm_medium=cpc&utm_campaign=DomProg`;
        //
        // if (typeof chrome !== 'undefined' && configurations.isExtension) {
        //     chrome['runtime'].sendMessage({openTab: url});
        // }
    };
    // Перенес перевод вот сюда!!!
    TranslateComponent.prototype.goTranslateText = function () {
        var _this = this;
        if (typeof chrome !== 'undefined' && config_1.configurations.isExtension) {
            chrome['runtime'].sendMessage({ setTrackEvents: config_1.configurations.eventsName.machineTranslationPopupFromInput });
        }
        this.translateService.translateText({
            langSource: this.sourceLang.id,
            langTarget: this.targetLang.id,
            source: this.textTranslate
        }).then(function (result) {
            _this.isTranslate = false;
            _this.resultTranslate = result;
            _this.textResult = result.translation;
            // Переключаем направления если требуется
            try {
                if (result['directionFrom']
                    && result['directionTo']
                    && (result['directionFrom'] !== _this.sourceLang.id
                        || result['directionTo'] !== _this.targetLang.id)) {
                    _this.selectLangSource(result['directionFrom'], false);
                    _this.selectLangTarget(result['directionTo'], false);
                    if (typeof chrome !== 'undefined' && config_1.configurations.isExtension) {
                        chrome['runtime'].sendMessage({ setTrackEvents: config_1.configurations.eventsName.changeCurrentDirection });
                    }
                }
            }
            catch (_a) {
            }
            // Записываем в историю
            _this.historyStorage.add({
                id: null,
                langSource: _this.sourceLang.id,
                langTarget: _this.targetLang.id,
                word: _this.textTranslate,
                url: _this.params.siteHref,
                title: _this.params.siteTitle,
                wordTranslations: [_this.textResult]
            });
            // Меняем высоту блока расширения
            setTimeout(function () {
                var heightBt = document.getElementById('translate-whole-text-page') ?
                    document.getElementById('translate-whole-text-page').offsetHeight : 9999;
                var heightH = document.getElementById('header-translate') ?
                    document.getElementById('header-translate').offsetHeight : 9999;
                _this.setNormalView(heightH + heightBt + 64);
            }, 64);
        }, function (error) {
            _this.setNormalView();
            _this.goToReversoSiteTranslate();
            _this.isTranslate = false;
            _this.error = true;
            _this.errorMessage = error.message ? error.message : (config_1.configurations.localization['requestInterrupted'] || '');
            console.error(error);
        });
    };
    // Перевод текста
    TranslateComponent.prototype.translateText = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            var quantityTranslation_1, _value, _a, GoTr, gasProfile, showReg, params;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        this.mdMenu.hide();
                        this.error = false;
                        this.errorMessage = '';
                        this.sources = { translations: [] };
                        this.contexts = { contexts: [] };
                        this.suggestions = [];
                        this.suggestionsIndex = -1;
                        this.indexTranslate = -1;
                        this.history = null;
                        this.textResult = '';
                        this.resultTranslate = null;
                        // Записываем для FeedBack
                        this.settingsStorage.add('feedback', {
                            'Url': '',
                            'Word': this.textTranslate,
                            'Sentence': ''
                        });
                        if (!(!this.isTranslate && this.numberWords > this.configurations.wordCountLimit)) return [3 /*break*/, 7];
                        // Условие на перевод только цифр
                        if (isNaN(Number(this.textTranslate)) === false) {
                            this.error = true;
                            this.errorMessage = config_1.configurations.localization['numberIsNotTranslated'];
                            return [2 /*return*/, false];
                        }
                        if (!navigator.onLine) return [3 /*break*/, 5];
                        this.isTranslate = true;
                        quantityTranslation_1 = 0;
                        _b.label = 1;
                    case 1:
                        _b.trys.push([1, 3, , 4]);
                        return [4 /*yield*/, profile_local_1.QUANTITYTRANSL.get()];
                    case 2:
                        _value = _b.sent();
                        quantityTranslation_1 = parseInt(_value, 10);
                        return [3 /*break*/, 4];
                    case 3:
                        _a = _b.sent();
                        return [3 /*break*/, 4];
                    case 4:
                        GoTr = function () {
                            if (typeof quantityTranslation_1 !== 'undefined') {
                                profile_local_1.QUANTITYTRANSL.set(quantityTranslation_1 + 1);
                            }
                            // Запускаем перевод
                            return _this.goTranslateText();
                        };
                        gasProfile = profile_local_1.GASUSERPROFILE.get() && profile_local_1.GASUSERPROFILE.get()['data'] ? profile_local_1.GASUSERPROFILE.get()['data'] : null;
                        if (config_1.configurations.isInjectScript || this.isAuth || !gasProfile) {
                            return [2 /*return*/, GoTr()];
                        }
                        showReg = (quantityTranslation_1 + 1) % 25 === 0;
                        if (!showReg) {
                            // Сразу ушли на перевод
                            return [2 /*return*/, GoTr()];
                        }
                        // Обрываем все старые запросы
                        if (this.translateService.httpSubscription &&
                            typeof this.translateService.httpSubscription.unsubscribe !== 'undefined') {
                            this.translateService.httpSubscription.unsubscribe();
                        }
                        params = {
                            word: this.textTranslate,
                            lang: this.sourceLang.id,
                            langTarget: this.targetLang.id,
                            reminder: true,
                            from: 'translate'
                        };
                        profile_local_1.QUANTITYTRANSL.set(quantityTranslation_1 + 1);
                        this.router.navigate(['/limit-search', params]);
                        return [2 /*return*/, false];
                    case 5:
                        this.error = true;
                        this.errorMessage = config_1.configurations.localization['offline'] || '';
                        return [2 /*return*/, false];
                    case 6: return [3 /*break*/, 8];
                    case 7: return [2 /*return*/, this.translateSimple()];
                    case 8: return [2 /*return*/];
                }
            });
        });
    };
    TranslateComponent.prototype.goTranslate = function () {
        var _this = this;
        // Обрываем все старые запросы
        if (this.translateService.httpSubscription &&
            typeof this.translateService.httpSubscription.unsubscribe !== 'undefined') {
            this.translateService.httpSubscription.unsubscribe();
        }
        if (typeof chrome !== 'undefined' && config_1.configurations.isExtension) {
            if (this.route.params['value']['word']) {
                chrome['runtime'].sendMessage({ setTrackEvents: config_1.configurations.eventsName.search_popup });
            }
            else {
                chrome['runtime'].sendMessage({ setTrackEvents: config_1.configurations.eventsName.simplesearch });
            }
        }
        else if (typeof safari !== 'undefined' && safari['extension']) {
            if (this.route.params['value']['word']) {
                var windowGlobalPage = safari['extension'].globalPage.contentWindow;
                windowGlobalPage.respondToMessage({
                    name: 'setTrackEvents',
                    message: config_1.configurations.eventsName.search_popup
                });
            }
            else {
                var windowGlobalPage = safari['extension'].globalPage.contentWindow;
                windowGlobalPage.respondToMessage({
                    name: 'setTrackEvents',
                    message: config_1.configurations.eventsName.simplesearch
                });
            }
        }
        // Отправляем на перевод
        this.translateService.translateSimple({
            source: this.textTranslate,
            lang_source: this.sourceLang.id,
            lang_target: this.targetLang.id,
            reversoPage: this.params['reversoPage'],
            pageTitle: this.params['siteTitle'],
            pageUrl: this.params['siteHref'],
        }).then(function (res) {
            _this.isTranslate = false;
            _this.suggestions = [];
            _this.suggestionsIndex = -1;
            _this.server_response = { 'word': res };
            _this.setNormalView();
            if (res.sources && res.sources.length > 0 && res.sources[0]['translations'].length > 0) {
                _this.sources = res.sources[0];
                if (res.sources[0].translations && res.sources[0].translations.length > 0) {
                    res.sources[0].translations.forEach(function (item, index) {
                        // Для простоты работы, в каждый пример пихаем перевод
                        item.contexts.forEach(function (it, i) {
                            _this.sources['translations'][index].contexts[i].translation =
                                _this.sources['translations'][index].translation;
                        });
                    });
                    var transletions_1 = [];
                    _this.sources['translations'].forEach(function (i) {
                        transletions_1.push(i.translation);
                    });
                    if (typeof _this.sources['dymApplied'] !== 'undefined') {
                        _this.dymApplied = _this.sources['dymApplied'];
                        _this.textDym = _this.sources['source'];
                    }
                    // Переключаем направления если требуется
                    if (_this.sources['directionFrom']
                        && _this.sources['directionTo']
                        && (_this.sources['directionFrom'] !== _this.sourceLang.id
                            || _this.sources['directionTo'] !== _this.targetLang.id)) {
                        _this.selectLangSource(_this.sources['directionFrom'], false).then(function () {
                            _this.selectLangTarget(_this.sources['directionTo'], false);
                        });
                        if (typeof chrome !== 'undefined' && config_1.configurations.isExtension) {
                            chrome['runtime'].sendMessage({ setTrackEvents: config_1.configurations.eventsName.changeCurrentDirection });
                        }
                    }
                    // Записываем в историю
                    _this.historyStorage.add({
                        id: res.historyId || null,
                        langSource: _this.sourceLang.id,
                        langTarget: _this.targetLang.id,
                        word: _this.textTranslate,
                        wordTranslations: transletions_1,
                        url: _this.params.siteHref,
                        title: _this.params.siteTitle,
                    });
                    // Показываем все примеры
                    _this.getSample(-1);
                    // Запускаем скролл
                    setTimeout(function () {
                        if (document.querySelector('#subheader-translate')) {
                            var _ = new main_func_1.Scroll(document.querySelector('#subheader-translate'));
                        }
                    }, 128);
                }
            }
            else {
                // Записываем в историю
                _this.historyStorage.add({
                    id: res.historyId || null,
                    langSource: _this.sourceLang.id,
                    langTarget: _this.targetLang.id,
                    word: _this.textTranslate,
                    url: _this.params.siteHref,
                    title: _this.params.siteTitle,
                });
                // После перевода удаляем данные сайта, т.к. они уже не нужны
                if (_this.params['siteTitle'] || _this.params['siteHref']) {
                    _this.params['siteTitle'] = '';
                    _this.params['siteHref'] = '';
                }
                // Перевода нет
                _this.error = true;
                _this.errorMessage = config_1.configurations.localization['noTranslation'] || '';
                // this.setMiniView(130);
            }
        }, function (error) {
            _this.setNormalView();
            _this.isTranslate = false;
            _this.error = true;
            _this.errorMessage = error.message ? error.message : (config_1.configurations.localization['requestInterrupted'] || '');
            console.error(error);
        });
        return false;
    };
    // Прямой перевод
    TranslateComponent.prototype.translateSimple = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            var quantityTranslation_2, _value, _a, GoTr, gasProfile, showReg, params;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        this.mdMenu.hide();
                        this.error = false;
                        this.errorMessage = '';
                        this.sources = { translations: [] };
                        this.contexts = { contexts: [] };
                        this.suggestions = [];
                        this.suggestionsIndex = -1;
                        this.indexTranslate = -1;
                        this.history = null;
                        this.textResult = '';
                        this.resultTranslate = null;
                        // Записываем для FeedBack
                        this.settingsStorage.add('feedback', {
                            'Url': '',
                            'Word': this.textTranslate,
                            'Sentence': ''
                        });
                        if (!(!this.isTranslate && this.textTranslate.length > 0)) return [3 /*break*/, 7];
                        // Условие на перевод только цифр
                        if (isNaN(Number(this.textTranslate)) === false) {
                            this.error = true;
                            this.errorMessage = config_1.configurations.localization['numberIsNotTranslated'];
                            return [2 /*return*/, false];
                        }
                        if (!navigator.onLine) return [3 /*break*/, 5];
                        this.isTranslate = true;
                        quantityTranslation_2 = 0;
                        _b.label = 1;
                    case 1:
                        _b.trys.push([1, 3, , 4]);
                        return [4 /*yield*/, profile_local_1.QUANTITYTRANSL.get()];
                    case 2:
                        _value = _b.sent();
                        quantityTranslation_2 = parseInt(_value, 10);
                        return [3 /*break*/, 4];
                    case 3:
                        _a = _b.sent();
                        return [3 /*break*/, 4];
                    case 4:
                        GoTr = function () {
                            if (typeof quantityTranslation_2 !== 'undefined') {
                                profile_local_1.QUANTITYTRANSL.set(quantityTranslation_2 + 1);
                            }
                            // Запускаем перевод
                            return _this.goTranslate();
                        };
                        gasProfile = profile_local_1.GASUSERPROFILE.get() && profile_local_1.GASUSERPROFILE.get()['data'] ? profile_local_1.GASUSERPROFILE.get()['data'] : null;
                        if (config_1.configurations.isInjectScript || this.isAuth || !gasProfile) {
                            return [2 /*return*/, GoTr()];
                        }
                        showReg = (quantityTranslation_2 + 1) % 25 === 0;
                        if (!showReg) {
                            // Сразу ушли на перевод
                            return [2 /*return*/, GoTr()];
                        }
                        // Обрываем все старые запросы
                        if (this.translateService.httpSubscription &&
                            typeof this.translateService.httpSubscription.unsubscribe !== 'undefined') {
                            this.translateService.httpSubscription.unsubscribe();
                        }
                        params = {
                            word: this.textTranslate,
                            lang: this.sourceLang.id,
                            langTarget: this.targetLang.id,
                            pageTitle: this.params['siteTitle'],
                            pageUrl: this.params['siteHref'],
                            reminder: true,
                            from: 'translate'
                        };
                        profile_local_1.QUANTITYTRANSL.set(quantityTranslation_2 + 1);
                        this.router.navigate(['/limit-search', params]);
                        return [2 /*return*/, false];
                    case 5:
                        this.error = true;
                        this.errorMessage = config_1.configurations.localization['offline'] || '';
                        return [2 /*return*/, false];
                    case 6: return [3 /*break*/, 8];
                    case 7: return [2 /*return*/, false];
                    case 8: return [2 /*return*/];
                }
            });
        });
    };
    // Получить примеры
    TranslateComponent.prototype.getSample = function (index) {
        var _this = this;
        this.suggestions = [];
        this.error = false;
        this.errorMessage = '';
        if (!this.isTranslate) {
            this.contexts = { contexts: [] };
            if (index !== this.indexTranslate) {
                this.indexTranslate = index;
                setTimeout(function () {
                    for (var i = 0; i < document.querySelectorAll('.subheader-translate .switch-samples').length; i++) {
                        document.querySelectorAll('.subheader-translate .switch-samples')[i].classList.remove('active');
                    }
                    if (document.querySelector('#subheader-translate') && document.querySelector('#translation-' + index)) {
                        document.querySelector('#translation-' + index).classList.add('active');
                    }
                }, 128);
            }
            else {
                this.indexTranslate = -1;
                for (var i = 0; i < document.querySelectorAll('.subheader-translate .switch-samples').length; i++) {
                    document.querySelectorAll('.subheader-translate .switch-samples')[i].classList.remove('active');
                }
            }
            // Если нет активного перевода.
            if (this.indexTranslate === -1) {
                this.sources['translations'].forEach(function (item) {
                    // Для простоты работы, в каждый пример добавляем перевод
                    item.contexts.forEach(function (it, i) {
                        _this.contexts['contexts'].push(it);
                    });
                });
                // Проверка фаворитов
                if (this.contexts['contexts'] && this.contexts['contexts'].length > 0) {
                    this.contexts['contexts'].forEach(function (item) {
                        var sample = { source: item.source, target: item.target };
                    });
                }
            }
            if (index !== -1 && this.indexTranslate !== -1) {
                // Если есть подключение к интернету
                if (window.navigator.onLine) {
                    if (typeof chrome !== 'undefined' && config_1.configurations.isExtension) {
                        chrome['runtime'].sendMessage({ setTrackEvents: config_1.configurations.eventsName.filter_translation });
                    }
                    else if (typeof safari !== 'undefined' && safari['extension']) {
                        var windowGlobalPage = safari['extension'].globalPage.contentWindow;
                        windowGlobalPage.respondToMessage({
                            name: 'setTrackEvents',
                            message: config_1.configurations.eventsName.filter_translation
                        });
                    }
                    var excludeTranslations_1 = [];
                    this.sources['translations'].forEach(function (el, i) {
                        if (index !== i) {
                            excludeTranslations_1.push(el['translation']);
                        }
                    });
                    // Получаем примеры
                    this.isTranslate = true;
                    this.translateService.getSample({
                        source: this.dymApplied ? this.sources['source'] : this.textTranslate,
                        lang_source: this.sourceLang.id,
                        lang_target: this.targetLang.id,
                        translation: this.sources['translations'][index]['translation'],
                        excludeTranslations: excludeTranslations_1,
                        historyId: this.server_response.word ? this.server_response.word.historyId : null
                    }).then(function (res) {
                        _this.isTranslate = false;
                        if (res['samples'] && res['samples'].length > 0) {
                            _this.contexts['contexts'] = [];
                            res['samples'].forEach(function (it, i) {
                                it.translation = res.translation;
                                _this.contexts['contexts'].push(it);
                            });
                        }
                    }, function (error) {
                        _this.isTranslate = false;
                        _this.error = true;
                        _this.errorMessage = config_1.configurations.localization['requestInterrupted'] || '';
                        console.error(error);
                    });
                }
                else {
                    this.error = true;
                    this.errorMessage = config_1.configurations.localization['offline'] || '';
                    return false;
                }
            }
        }
    };
    TranslateComponent.prototype.addPronuncAnalit = function () {
        if (typeof chrome !== 'undefined' && config_1.configurations.isExtension) {
            chrome['runtime'].sendMessage({ setTrackEvents: config_1.configurations.eventsName.pronunciation });
        }
    };
    TranslateComponent.prototype.addFavorite = function (index, isTranslate) {
        var _this = this;
        if (isTranslate === void 0) { isTranslate = false; }
        var item = !isTranslate ? this.contexts['contexts'][index] : this.sources.translations[index];
        var fav = {
            'historyId': this.server_response.word ? this.server_response.word.historyId : null,
            'word': (this.sources['dymApplied'] ? this.sources['source'] : this.textTranslate),
            'translation': item.translation,
            'example': !isTranslate ? item : null,
            'langSource': this.sourceLang.id,
            'langTarget': this.targetLang.id,
            'reversoPage': this.params['reversoPage'],
            'url': this.params.siteHref,
            'title': this.params.siteTitle,
        };
        if (!this.isAuth) {
            favorites_service_1.FavoritesService.set(fav);
            this.router.navigate(['/sign-up', { addFavorite: true }]);
        }
        else {
            if (navigator.onLine) {
                if (item.favoriteId) {
                    this.translateService.deleteFavorites(item.favoriteId).then(function (result) {
                        if (!result['error'] && !isTranslate) {
                            _this.contexts['contexts'][index].favoriteId = null;
                        }
                        else if (!result['error'] && isTranslate) {
                            _this.sources.translations[index].favoriteId = null;
                        }
                    }, function (error) {
                        _this.isTranslate = false;
                        _this.error = true;
                        _this.errorMessage = config_1.configurations.localization[error.message ? error.message : 'requestInterrupted'] || '';
                        console.error(error);
                    });
                }
                else {
                    this.translateService.saveFavorites(fav).then(function (result) {
                        if (result['data'] && result['data'].id && !isTranslate) {
                            _this.contexts['contexts'][index].favoriteId = result['data'].id;
                        }
                        else if (result['data'] && result['data'].id && isTranslate) {
                            _this.sources.translations[index].favoriteId = result['data'].id;
                        }
                    }, function (error) {
                        _this.isTranslate = false;
                        _this.error = true;
                        _this.errorMessage = config_1.configurations.localization[error.message ? error.message : 'requestInterrupted'] || '';
                        console.error(error);
                    });
                }
            }
            else {
                this.error = true;
                this.errorMessage = config_1.configurations.localization['offline'] || '';
                return false;
            }
        }
    };
    TranslateComponent.prototype.addFavoriteFullText = function () {
        var _this = this;
        var fav = {
            'historyId': null,
            'word': this.textTranslate,
            'sentence': this.params.sentence,
            'translation': this.textResult,
            'example': null,
            'langSource': this.sourceLang.id,
            'langTarget': this.targetLang.id,
            'url': this.params.siteHref,
            'title': this.params.siteTitle,
            'reversoPage': this.params['reversoPage']
        };
        if (!this.isAuth) {
            favorites_service_1.FavoritesService.set(fav);
            this.router.navigate(['/sign-up', { addFavorite: true }]);
        }
        else {
            if (navigator.onLine) {
                if (this.resultTranslate.favoriteId) {
                    this.translateService.deleteFavorites(this.resultTranslate.favoriteId).then(function (result) {
                        if (!result['error']) {
                            _this.resultTranslate.favoriteId = null;
                        }
                    }, function (error) {
                        _this.isTranslate = false;
                        _this.error = true;
                        _this.errorMessage = config_1.configurations.localization['requestInterrupted'] || '';
                        console.error(error);
                    });
                }
                else {
                    this.translateService.saveFavorites(fav).then(function (result) {
                        if (result['data'] && result['data'].id) {
                            _this.resultTranslate.favoriteId = result['data'].id;
                        }
                    }, function (error) {
                        _this.isTranslate = false;
                        _this.error = true;
                        _this.errorMessage = config_1.configurations.localization['requestInterrupted'] || '';
                        console.error(error);
                    });
                }
            }
            else {
                this.error = true;
                this.errorMessage = config_1.configurations.localization['offline'] || '';
                return false;
            }
        }
    };
    // Очистить подсказки
    TranslateComponent.prototype.clearSuggestions = function () {
        var _this = this;
        setTimeout(function () {
            _this.suggestions = [];
            _this.suggestionsIndex = -1;
        }, 128);
    };
    TranslateComponent.prototype.speakSample = function (index, event) {
        var _this = this;
        this.contexts['contexts'].forEach(function (e, i) {
            _this.contexts['contexts'][i].play = false;
        });
        this.speakSource();
        if (event === 'play') {
            this.contexts['contexts'][index].play = true;
            main_func_1.speak.play(this.contexts['contexts'][index].source, this.sourceLang.id, this.sourceLang['speakerName'], {
                voiceUrl: this.directions['voiceUrl'],
                voiceLimit: this.directions['voiceLimit']
            });
        }
        else {
            main_func_1.speak.stop();
        }
        if (main_func_1._$id('speak-id')) {
            var audio = main_func_1._$id('speak-id');
            audio['onended'] = function () {
                _this.contexts['contexts'].forEach(function (e, i) {
                    _this.contexts['contexts'][i].play = false;
                });
            };
        }
    };
    TranslateComponent.prototype.speakSource = function (play) {
        var _this = this;
        if (play === void 0) { play = false; }
        this.contexts['contexts'].forEach(function (e, i) {
            _this.contexts['contexts'][i].play = false;
        });
        if (play && !this.speakSourcePlay) {
            this.speakSourcePlay = true;
            main_func_1.speak.play(this.textTranslate, this.sourceLang.id, this.sourceLang['speakerName'], {
                voiceUrl: this.directions['voiceUrl'],
                voiceLimit: this.directions['voiceLimit']
            });
        }
        else {
            main_func_1.speak.stop();
            this.speakSourcePlay = false;
        }
        if (main_func_1._$id('speak-id') && this.speakSourcePlay) {
            var audio = main_func_1._$id('speak-id');
            audio['onended'] = function () {
                _this.speakSourcePlay = false;
            };
        }
    };
    TranslateComponent.prototype.goToReversoContext = function (source) {
        var link = config_1.configurations.linkReverso;
        var sourceLang = main_func_1.removeDiacritics(this.sourceLang['name'].toLowerCase());
        var targetLang = main_func_1.removeDiacritics(this.targetLang['name'].toLowerCase());
        link += sourceLang + '-' + targetLang + '/' + source;
        window.open(link, 'blank');
    };
    TranslateComponent.prototype.showHeaderIframe = function () {
        window.document.onmousemove = function (e) {
            // Разрешаем выделения
            // return false;
        };
    };
    TranslateComponent.prototype.focusInput = function () {
        try {
            var input = document.querySelector('#wordInput');
            if (input) {
                input['focus']();
            }
        }
        catch (_a) {
        }
    };
    TranslateComponent.prototype.copyToClipboard = function (i) {
        var inp = document.querySelector('#copy-translate-word-input-' + i) || null;
        if (inp && inp['select']) {
            inp['style'].display = 'inline';
            inp['select']();
            try {
                document.execCommand('copy');
                inp['blur']();
                inp['style'].display = 'none';
                if (inp['parentNode']) {
                    inp['parentNode']['style'].opacity = '.3';
                    setTimeout(function () {
                        inp['parentNode']['style'].opacity = '1';
                    }, 500);
                }
            }
            catch (err) {
                inp['style'].display = 'none';
                alert('please press Ctrl/Cmd+C to copy');
            }
        }
    };
    // Выделить активную кнопку выбора языка
    TranslateComponent.prototype.highlightButtonLang = function (className) {
        var height = 131;
        if (this.subToggle)
            height -= 27;
        if (config_1.configurations.isMiniView)
            this.setMiniView(height);
        if (document.querySelector('.select_lang_source-button')) {
            document.querySelector('.select_lang_source-button').classList.remove('active');
        }
        if (document.querySelector('.select_lang_target-button')) {
            document.querySelector('.select_lang_target-button').classList.remove('active');
        }
        if (document.querySelector('.' + className)) {
            document.querySelector('.' + className).classList.add('active');
        }
    };
    // Получить историю переводов
    TranslateComponent.prototype.getHistory = function () {
        var _this = this;
        if (!this.history) {
            this.historyStorage.getAll().then(function (result) {
                _this.history = result && result.length > 0 ? result : null;
                _this.textTranslate = '';
                _this.sources = { translations: [] };
                _this.error = false;
                _this.contexts = { contexts: [] };
                _this.suggestions = [];
                _this.suggestionsIndex = -1;
                _this.textResult = '';
                _this.resultTranslate = null;
                _this.changeHeightInput();
                // Меняем высоту блока расширения
                _this.setNormalView();
                if (document.querySelector('#header_history_btn')) {
                    document.querySelector('#header_history_btn').classList.add('active');
                }
            });
        }
        else {
            this.history = null;
            this.setMiniView();
        }
    };
    TranslateComponent.prototype.translateFromHistory = function (source, lang_source, lang_target) {
        var _this = this;
        this.textTranslate = source;
        this.changeHeightInput();
        this.selectLangSource(lang_source).then(function () {
            _this.selectLangTarget(lang_target);
        });
        setTimeout(function () {
            _this.numberWords > _this.configurations.wordCountLimit ? _this.translateText() : _this.translateSimple();
        }, 128);
    };
    TranslateComponent.prototype.setMiniView = function (height) {
        if (height === void 0) { height = 87; }
        config_1.configurations.isMiniView = true;
        if (this.history)
            this.history = null;
        if (document.querySelector('#header_history_btn')) {
            document.querySelector('#header_history_btn').classList.remove('active');
        }
        if (this.subToggle) {
            height += 27;
        }
        this.setHeightDocument(height);
    };
    TranslateComponent.prototype.setNormalView = function (height) {
        if (height === void 0) { height = 468; }
        if (height && height > 468)
            height = 468;
        this.setHeightDocument(height);
        config_1.configurations.isMiniView = false;
    };
    TranslateComponent.prototype.checkSubToggle = function () {
        var _this = this;
        var queryInfo = {
            active: true,
            currentWindow: true
        };
        this.subToggle = false;
        if (typeof chrome !== 'undefined' && config_1.configurations.isExtension) {
            chrome.tabs.query(queryInfo, function (tabs) {
                if (tabs[0]) {
                    for (var i = 0; i < _this.configurations.subtitlesResources.length; i++) {
                        if (tabs[0].url.indexOf(_this.configurations.subtitlesResources[i]) > -1) {
                            _this.subToggle = true;
                            break;
                        }
                    }
                }
            });
        }
    };
    TranslateComponent.prototype.installSetting = function (name, value) {
        var _this = this;
        if (this.disableToggle)
            return;
        if (!this.isAuth) {
            this.showAuthMess = true;
            return;
        }
        this.activateTranslSub = value;
        this.disableToggle = true;
        var queryInfo = {
            active: true,
            currentWindow: true
        };
        this.settingsStorage.update(name, value).then(function (result) {
            // active/ deactive subs
            if (typeof chrome !== 'undefined' && config_1.configurations.isExtension) {
                // reload
                // chrome['runtime'].sendMessage({activateTranslSub: value}, (res)  => {});
                chrome.tabs.query(queryInfo, function (tabs) {
                    if (tabs[0])
                        chrome.tabs.sendMessage(tabs[0].id, { activateTranslSub: value.toString() });
                });
            }
        }, function (error) {
            console.error('ERROR: \'installSetting\' :', error);
        });
        setTimeout(function () {
            _this.disableToggle = false;
        }, 512);
    };
    // Проставляем параметры
    TranslateComponent.prototype.setupRouteParams = function (selection) {
        if (selection && selection.word) {
            this.params = {
                word: selection.word,
                arrayWords: selection.arrayWords,
                sentence: selection.sentence,
                sentenceForLang: selection.sentenceForLang,
                position: selection.position,
                countWord: selection.countWord,
                siteTitle: selection['site']['title'],
                siteOrigin: selection['site']['origin'],
                siteHref: selection['site']['href'] ? selection['site']['href'] : 'Local file',
                lang_source: selection.lang,
                lang_target: selection.langTarget,
                iframe: false,
                run: true,
                translateSite: 1,
                miniView: selection.miniView || false,
                reversoPage: selection.reversoPage,
                wholeTextforReverso: selection.wholeTextforReverso
            };
            if (selection.wholeText === true) {
                this.router.navigate(['/translate-whole-text', selection], { skipLocationChange: true });
                return false;
            }
            this.ngOnInit();
        }
    };
    TranslateComponent.prototype.createNewTab = function (url) {
        if (typeof chrome !== 'undefined' && config_1.configurations.isExtension) {
            chrome['runtime'].sendMessage({ openTab: url });
        }
    };
    TranslateComponent.prototype.checkCookies = function () {
        if (typeof chrome !== 'undefined' && config_1.configurations.isExtension) {
            var queryInfo = {
                active: true,
                currentWindow: true
            };
            chrome.tabs.query(queryInfo, function (tabs) {
                if (tabs[0])
                    chrome.tabs.sendMessage(tabs[0].id, { checkCookies: true });
            });
        }
    };
    // Изменение высоты Input и считает количество слов
    TranslateComponent.prototype.changeHeightInput = function () {
        var _this = this;
        // Чистим this.params, когда оно не нужно!
        if (this.params.word && this.params.word !== this.textTranslate) {
            this.params['word'] = '';
            this.params['siteTitle'] = '';
            this.params['siteHref'] = '';
        }
        // Считаем количество слов
        if (isHieroglyph_1.default(this.textTranslate)) {
            this.numberWords = this.textTranslate.split('').filter(function (w) { return w.trim().length > 0; }).length;
        }
        else {
            this.numberWords = this.textTranslate.split(/(\s| |&nbsp;)/).filter(function (w) { return w.trim().length > 0; }).length;
        }
        if (this.numberWords > 0 && document.getElementById('translateSimpleButton')) {
            document.getElementById('translateSimpleButton')['disabled'] = false;
        }
        var limitWholeText = profile_local_1.GASUSERPROFILE.get() && profile_local_1.GASUSERPROFILE.get()['data'] && profile_local_1.GASUSERPROFILE.get()['data']['LimitWholeText'] ?
            profile_local_1.GASUSERPROFILE.get()['data']['LimitWholeText'] : this.configurations.limitWholeText;
        var head = document.querySelector('#header-translate'); // .fullTextTranslationMode
        var input = document.querySelector('#wordInput');
        if (!input)
            return false;
        //  && this.textTranslate.length < limitWholeText
        if (this.numberWords <= this.configurations.wordCountLimit) {
            input['style'].height = 'auto';
            return true;
        }
        // Скрываем футер
        if (!this.resultTranslate && !config_1.configurations.isMiniView) {
            this.configurations.isMiniView = true;
        }
        // Обрезаем если длинный
        // if (this.textTranslate.length > configurations.limitWholeText) {
        var textTr = '';
        var wordArray = this.textTranslate.split(/(\s| |&nbsp;)/).filter(function (w) {
            return w.trim().length > 0;
        });
        for (var i = 0; i <= wordArray.length; i++) {
            if (wordArray[i] && (textTr.length + wordArray[i].length) < limitWholeText) {
                textTr += wordArray[i] + " ";
            }
            else {
                if (i !== wordArray.length) {
                    textTr = textTr.trim() + '...';
                }
                break;
            }
        }
        // // Условие, если длинный текст и без пробелов
        // if (textTr.length > limitWholeText && wordArray.length === 1) {
        //     textTr = textTr.slice(0, limitWholeText) + '...';
        // }
        this.textTranslate = textTr.trim();
        // }
        var setHeight = function () {
            var scrollH = input.scrollHeight > 152 ? 152 : input.scrollHeight;
            input['style'].height = 'auto';
            input['style'].height = scrollH + "px";
            if (head) {
                head['style'].height = scrollH + 4 + "px";
                _this.setHeightDocument(scrollH + 50);
            }
            // Скролл ввниз
            input.scrollTo(0, input.scrollHeight);
        };
        setTimeout(setHeight, 0);
        return true;
    };
    // Navigation to authorization if incognito mode will show a warning window.
    TranslateComponent.prototype.goToAuth = function (link, ignore) {
        if (ignore === void 0) { ignore = false; }
        this.isShowMessageForInIncognitoContext = null;
        if (chrome && chrome.extension && chrome.extension.inIncognitoContext && !ignore) {
            this.isShowMessageForInIncognitoContext = link;
            return;
        }
        if (typeof chrome !== 'undefined' && config_1.configurations.isExtension) {
            chrome['runtime'].sendMessage({ openTab: link });
        }
        else if (typeof browser !== 'undefined' && config_1.configurations.isExtension) {
            browser['runtime'].sendMessage({ openTab: link });
        }
        else {
            window.open(link, '_blank');
        }
    };
    TranslateComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.isAuth = profile_local_1.CHECK_AUTH();
        this.disableToggle = false;
        this.settingsStorage.getRow('activateTranslSub').then(function (res) {
            if (res)
                _this.activateTranslSub = JSON.parse(res.toString());
        });
        // Проверяем нужно ли показать тумблер =)
        this.checkSubToggle();
        this.showHeaderIframe();
        // autofocus не работает в firefox
        setTimeout(function () {
            if (document.getElementById('wordInput'))
                document.getElementById('wordInput').focus();
            // Меняем высоту блока расширения
            _this.setMiniView();
        }, 128);
        // Узнаем загружаем со страницы или нет
        // Вернем нормальный размер попапа
        if (top.location !== self.location) {
            try {
                window.parent['postMessage']('setNormalView:true', '*');
            }
            catch (error) {
                console.error('Error setNormalViewIframe: ', error);
            }
        }
        // Получаем направления
        this.profileService.getDirections().then(function (directions) {
            _this.languageExtras = new language_extras_1.LanguageExtras(directions['data']);
            _this.directions = directions['data'];
            // Показать или скрыть историю локальную
            if (_this.params['showHistory']) {
                _this.getHistory();
            }
            else {
                if (document.querySelector('#header_history_btn')) {
                    document.querySelector('#header_history_btn').classList.remove('active');
                }
            }
            // Скрываем не нужное для iFrame
            if (_this.params['iframe'] && parseInt(_this.params['iframe'], 10) === 1) {
                if (document.querySelector('#title-page')) {
                    document.querySelector('#title-page').innerHTML = '';
                }
                _this.isIframe = true;
                if (main_func_1._$id('go-history-button-header')) {
                    main_func_1.hide(main_func_1._$id('go-history-button-header'));
                }
                if (main_func_1._$class('mdl-layout__drawer-button').length > 0) {
                    main_func_1.hide(main_func_1._$class('mdl-layout__drawer-button')[0]);
                }
            }
            if (document.querySelector('#header_history_btn')) {
                document.querySelector('#header_history_btn')['onclick'] = function () {
                    _this.getHistory();
                };
            }
            // Проверяем, нет ли слова в get параметре
            if (_this.params['word']) {
                var word = _this.params['word'];
                _this.textTranslate = decodeURI(word.toString());
                // Проверяем на длину слов
                _this.changeHeightInput();
            }
            else {
                document.getElementById('translateSimpleButton')['disabled'] = true;
            }
            if (_this.params['sentenceForLang'] && _this.params['sentenceForLang'].trim().length > 10) {
                _this.translateService.detectLanguage(_this.params['sentenceForLang']).then(function (res) {
                    if (res['data'] && res['data'].length === 2) {
                        var lang_source = res['data'];
                        _this.selectLangSource(lang_source.toString(), false).then(function () {
                            if (_this.params['lang_target'] && _this.params['lang_target'].trim().length > 0) {
                                _this.selectLangTarget(_this.params['langTarget'].toString(), false);
                            }
                            if (_this.params['run']) {
                                setTimeout(function () {
                                    _this.numberWords > _this.configurations.wordCountLimit ? _this.translateText() : _this.translateSimple();
                                }, 128);
                            }
                        });
                    }
                }, function (error) {
                    _this.params['sentenceForLang'] = '';
                    _this.ngOnInit();
                    console.error(error);
                });
            }
            else {
                // Получаем язык с базы сурс
                _this.settingsStorage.getRow('lang_source').then(function (lang_source) {
                    _this.settingsStorage.getRow('lang_target').then(function (lang_target) {
                        lang_source = lang_source != null ? lang_source :
                            config_1.configurations.appLang === 'en' ? 'fr' : 'en';
                        // Смотрим в параметрах языки, если есть, ставим его
                        if (_this.params['lang_source'] && _this.params['lang_source'].trim().length > 0) {
                            if (_this.params['lang_source'].trim() === lang_target.trim()) {
                                _this.settingsStorage.update('lang_target', lang_source).then();
                            }
                            _this.selectLangSource(_this.params['lang_source'].toString(), !(_this.params['lang_target'] && _this.params['lang_target'].trim().length > 0));
                        }
                        else {
                            _this.selectLangSource(lang_source, !(_this.params['lang_target'] && _this.params['lang_target'].trim().length > 0));
                        }
                        setTimeout(function () {
                            if (_this.params['lang_target'] && _this.params['lang_target'].trim().length > 0) {
                                _this.selectLangTarget(_this.params['lang_target'].toString(), true);
                            }
                        }, 64);
                    }, function (error) {
                        _this.error = true;
                        _this.errorMessage = 'Error set language';
                        console.error(error);
                    });
                }, function (error) {
                    _this.error = true;
                    _this.errorMessage = 'Error set language';
                    console.error(error);
                });
                // Запускаем перевод по get параметру
                // Пример: /translate?word=help&lang_source=en&lang_target=ru&run=1
                if (_this.params['run']) {
                    setTimeout(function () {
                        _this.numberWords > _this.configurations.wordCountLimit ? _this.translateText() : _this.translateSimple();
                    }, 128);
                }
                else {
                    _this.intervalCount = 0;
                    var checkSelection_1 = setInterval(function () {
                        if (_this.intervalCount < 8) {
                            if (localStorage.getItem(config_1.configurations.prefixStorage + 'selection') &&
                                localStorage.getItem(config_1.configurations.prefixStorage + 'selection').trim() !== '') {
                                _this.setupRouteParams(JSON.parse(localStorage.getItem(config_1.configurations.prefixStorage + 'selection')));
                                localStorage.removeItem(config_1.configurations.prefixStorage + 'selection');
                                clearInterval(checkSelection_1);
                            }
                            else {
                                ++_this.intervalCount;
                            }
                        }
                        else {
                            clearInterval(checkSelection_1);
                        }
                    }, 200);
                }
            }
        }, function (error) {
            console.error(error);
        });
    };
    TranslateComponent.prototype.ngOnDestroy = function () {
        if (document.querySelector('#header_history_btn')) {
            document.querySelector('#header_history_btn').classList.remove('active');
        }
    };
    return TranslateComponent;
}());
exports.TranslateComponent = TranslateComponent;


/***/ }),

/***/ "./src/app/pages/update-info/update-info.page.css.shim.ngstyle.js":
/*!************************************************************************!*\
  !*** ./src/app/pages/update-info/update-info.page.css.shim.ngstyle.js ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

/**
 * @fileoverview This file was generated by the Angular template compiler. Do not edit.
 *
 * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}
 * tslint:disable
 */ 
Object.defineProperty(exports, "__esModule", { value: true });
var styles = [""];
exports.styles = styles;


/***/ }),

/***/ "./src/app/pages/update-info/update-info.page.ngfactory.js":
/*!*****************************************************************!*\
  !*** ./src/app/pages/update-info/update-info.page.ngfactory.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

/**
 * @fileoverview This file was generated by the Angular template compiler. Do not edit.
 *
 * @suppress {suspiciousCode,uselessCode,missingProperties,missingOverride,checkTypes}
 * tslint:disable
 */ 
Object.defineProperty(exports, "__esModule", { value: true });
var i0 = __webpack_require__(/*! ./update-info.page.css.shim.ngstyle */ "./src/app/pages/update-info/update-info.page.css.shim.ngstyle.js");
var i1 = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var i2 = __webpack_require__(/*! @ngx-translate/core */ "./node_modules/@ngx-translate/core/fesm5/ngx-translate-core.js");
var i3 = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
var i4 = __webpack_require__(/*! ./update-info.page */ "./src/app/pages/update-info/update-info.page.ts");
var i5 = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var styles_UpdateInfoComponent = [i0.styles];
var RenderType_UpdateInfoComponent = i1.ɵcrt({ encapsulation: 0, styles: styles_UpdateInfoComponent, data: {} });
exports.RenderType_UpdateInfoComponent = RenderType_UpdateInfoComponent;
function View_UpdateInfoComponent_0(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 2, "h1", [["class", "title-view"]], null, null, null, null, null)), (_l()(), i1.ɵted(1, null, ["", ""])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(3, 0, null, null, 13, "main", [["class", "body-app body-iframe overflow-hidden"]], null, null, null, null, null)), (_l()(), i1.ɵeld(4, 0, null, null, 12, "div", [["class", "update-info-page"]], null, null, null, null, null)), (_l()(), i1.ɵeld(5, 0, null, null, 0, "div", [["class", "logo"]], null, null, null, null, null)), (_l()(), i1.ɵeld(6, 0, null, null, 0, "div", [["class", "update-success-img"]], null, null, null, null, null)), (_l()(), i1.ɵeld(7, 0, null, null, 5, "h5", [["class", "message"]], null, null, null, null, null)), (_l()(), i1.ɵted(8, null, [" ", " ", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(10, 0, null, null, 2, "a", [["target", "_blank"]], [[8, "href", 4]], null, null, null, null)), (_l()(), i1.ɵted(11, null, [" ", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(13, 0, null, null, 3, "div", [["class", "btn-row text-center"]], null, null, null, null, null)), (_l()(), i1.ɵeld(14, 0, null, null, 2, "button", [["class", "mdl-menu-no-click mdl-button mdl-js-button mdl-menu-button text-capitalize-i btn"], ["type", "button"]], null, [[null, "click"]], function (_v, en, $event) { var ad = true; var _co = _v.component; if (("click" === en)) {
        var pd_0 = (_co.close() !== false);
        ad = (pd_0 && ad);
    } return ad; }, null, null)), (_l()(), i1.ɵted(15, null, [" ", " "])), i1.ɵpid(131072, i2.TranslatePipe, [i2.TranslateService, i1.ChangeDetectorRef]), (_l()(), i1.ɵeld(17, 0, null, null, 11, "footer", [["class", "mdl-mini-footer"]], null, null, null, null, null)), i1.ɵdid(18, 278528, null, 0, i3.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), (_l()(), i1.ɵeld(19, 0, null, null, 9, "div", [["class", "mdl-mini-footer__left-section"]], null, null, null, null, null)), (_l()(), i1.ɵeld(20, 0, null, null, 8, "ul", [["class", "mdl-mini-footer__link-list"]], null, null, null, null, null)), (_l()(), i1.ɵeld(21, 0, null, null, 7, "li", [["class", "copyright-item"]], null, null, null, null, null)), (_l()(), i1.ɵeld(22, 0, null, null, 2, "div", [["class", "circle-indicator"]], null, null, null, null, null)), i1.ɵdid(23, 278528, null, 0, i3.NgClass, [i1.IterableDiffers, i1.KeyValueDiffers, i1.ElementRef, i1.Renderer2], { klass: [0, "klass"], ngClass: [1, "ngClass"] }, null), i1.ɵpod(24, { active: 0 }), (_l()(), i1.ɵted(25, null, [" ", " \u00A9 "])), (_l()(), i1.ɵeld(26, 0, null, null, 1, "a", [["target", "_blank"]], [[8, "href", 4]], null, null, null, null)), (_l()(), i1.ɵted(-1, null, [" Reverso "])), (_l()(), i1.ɵted(28, null, [" v", " "]))], function (_ck, _v) { var _co = _v.component; var currVal_6 = "mdl-mini-footer"; var currVal_7 = (_co.configurations.isMiniView ? "hide" : ""); _ck(_v, 18, 0, currVal_6, currVal_7); var currVal_8 = "circle-indicator"; var currVal_9 = _ck(_v, 24, 0, _co.isAuth); _ck(_v, 23, 0, currVal_8, currVal_9); }, function (_ck, _v) { var _co = _v.component; var currVal_0 = i1.ɵunv(_v, 1, 0, i1.ɵnov(_v, 2).transform("extensionUpdated")); _ck(_v, 1, 0, currVal_0); var currVal_1 = i1.ɵunv(_v, 8, 0, i1.ɵnov(_v, 9).transform("extensionUpdatedMess")); var currVal_2 = _co.configurations.version; _ck(_v, 8, 0, currVal_1, currVal_2); var currVal_3 = i1.ɵinlineInterpolate(4, "", _co.configurations.server, "/doc/help/?origin=", _co.configurations.origin, "&uiLang=", _co.configurations.appLang, "&version=", _co.configurations.version, ""); _ck(_v, 10, 0, currVal_3); var currVal_4 = i1.ɵunv(_v, 11, 0, i1.ɵnov(_v, 12).transform("extensionUpdatedFAQLink")); _ck(_v, 11, 0, currVal_4); var currVal_5 = i1.ɵunv(_v, 15, 0, i1.ɵnov(_v, 16).transform("ok")); _ck(_v, 15, 0, currVal_5); var currVal_10 = _co.configurations.currentYear; _ck(_v, 25, 0, currVal_10); var currVal_11 = i1.ɵinlineInterpolate(1, "", _co.configurations.links.context, ""); _ck(_v, 26, 0, currVal_11); var currVal_12 = _co.configurations.version; _ck(_v, 28, 0, currVal_12); }); }
exports.View_UpdateInfoComponent_0 = View_UpdateInfoComponent_0;
function View_UpdateInfoComponent_Host_0(_l) { return i1.ɵvid(0, [(_l()(), i1.ɵeld(0, 0, null, null, 1, "update-info", [], null, null, null, View_UpdateInfoComponent_0, RenderType_UpdateInfoComponent)), i1.ɵdid(1, 114688, null, 0, i4.UpdateInfoComponent, [i5.Router], null, null)], function (_ck, _v) { _ck(_v, 1, 0); }, null); }
exports.View_UpdateInfoComponent_Host_0 = View_UpdateInfoComponent_Host_0;
var UpdateInfoComponentNgFactory = i1.ɵccf("update-info", i4.UpdateInfoComponent, View_UpdateInfoComponent_Host_0, {}, {}, []);
exports.UpdateInfoComponentNgFactory = UpdateInfoComponentNgFactory;


/***/ }),

/***/ "./src/app/pages/update-info/update-info.page.ts":
/*!*******************************************************!*\
  !*** ./src/app/pages/update-info/update-info.page.ts ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Created by e on 31/07/2017.
 */
var core_1 = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var router_1 = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var config_1 = __webpack_require__(/*! ../../config */ "./src/app/config.ts");
var profile_local_1 = __webpack_require__(/*! ../../services/profile.local */ "./src/app/services/profile.local.ts");
var main_func_1 = __webpack_require__(/*! ../../functions/main.func */ "./src/app/functions/main.func.ts");
var UpdateInfoComponent = /** @class */ (function () {
    function UpdateInfoComponent(router) {
        this.router = router;
        this.configurations = config_1.configurations;
        this.setHeightDocument = main_func_1.setHeightDocument;
        this.isAuth = false;
        this.directions = null;
        this.isIframe = false;
        this.isOnline = false;
        this.tooltip = main_func_1.tooltip;
        // Main Functions
        this.mdMenu = main_func_1.mdMenu;
        if (top.location !== self.location) {
            this.isIframe = true;
        }
    }
    UpdateInfoComponent.prototype.setMiniView = function (height) {
        if (height === void 0) { height = 87; }
        this.setHeightDocument(height);
        config_1.configurations.isMiniView = true;
    };
    UpdateInfoComponent.prototype.setNormalView = function (height) {
        if (height === void 0) { height = 300; }
        this.setHeightDocument(height);
        config_1.configurations.isMiniView = false;
    };
    UpdateInfoComponent.prototype.close = function () {
        if (this.timer) {
            clearInterval(this.timer);
        }
        this.router.navigate(['/translate']);
    };
    UpdateInfoComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.isAuth = profile_local_1.CHECK_AUTH();
        this.setNormalView();
        if (typeof chrome !== 'undefined' && config_1.configurations.isExtension) {
            chrome.tabs.query({ active: true, currentWindow: true }, function (tabs) {
                if (tabs[0]) {
                    // Check selection
                    chrome.tabs.sendMessage(tabs[0].id, { checkSelection: 'check' });
                    _this.timer = setTimeout(function () {
                        _this.router.navigate(['/translate']);
                    }, 2500);
                }
            });
        }
    };
    return UpdateInfoComponent;
}());
exports.UpdateInfoComponent = UpdateInfoComponent;


/***/ }),

/***/ "./src/app/pipe/array-sort.pipe.ts":
/*!*****************************************!*\
  !*** ./src/app/pipe/array-sort.pipe.ts ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var core_1 = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var ArraySortPipe = /** @class */ (function () {
    function ArraySortPipe() {
    }
    ArraySortPipe.prototype.transform = function (array, field, sort) {
        if (sort === void 0) { sort = 'asc'; }
        var sortVal = sort === 'asc' ? 1 : -1;
        array.sort(function (a, b) {
            if (a[field] < b[field]) {
                return -1 * sortVal;
            }
            else if (a[field] > b[field]) {
                return 1 * sortVal;
            }
            else {
                return 0;
            }
        });
        return array;
    };
    return ArraySortPipe;
}());
exports.ArraySortPipe = ArraySortPipe;


/***/ }),

/***/ "./src/app/rxjs-extensions.ts":
/*!************************************!*\
  !*** ./src/app/rxjs-extensions.ts ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
// Observable class extensions
__webpack_require__(/*! rxjs/add/observable/of */ "./node_modules/rxjs-compat/_esm5/add/observable/of.js");
__webpack_require__(/*! rxjs/add/observable/throw */ "./node_modules/rxjs-compat/_esm5/add/observable/throw.js");
// Observable operators
__webpack_require__(/*! rxjs/add/operator/catch */ "./node_modules/rxjs-compat/_esm5/add/operator/catch.js");
__webpack_require__(/*! rxjs/add/operator/debounceTime */ "./node_modules/rxjs-compat/_esm5/add/operator/debounceTime.js");
__webpack_require__(/*! rxjs/add/operator/distinctUntilChanged */ "./node_modules/rxjs-compat/_esm5/add/operator/distinctUntilChanged.js");
__webpack_require__(/*! rxjs/add/operator/do */ "./node_modules/rxjs-compat/_esm5/add/operator/do.js");
__webpack_require__(/*! rxjs/add/operator/filter */ "./node_modules/rxjs-compat/_esm5/add/operator/filter.js");
__webpack_require__(/*! rxjs/add/operator/map */ "./node_modules/rxjs-compat/_esm5/add/operator/map.js");
__webpack_require__(/*! rxjs/add/operator/switchMap */ "./node_modules/rxjs-compat/_esm5/add/operator/switchMap.js");


/***/ }),

/***/ "./src/app/rxjs-operators.ts":
/*!***********************************!*\
  !*** ./src/app/rxjs-operators.ts ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// import 'rxjs/Rx'; // adds ALL RxJS statics & operators to Observable
Object.defineProperty(exports, "__esModule", { value: true });
// See node_module/rxjs/Rxjs.js
// Import just the rxjs statics and operators we need for THIS app.
// Statics
__webpack_require__(/*! rxjs/add/observable/throw */ "./node_modules/rxjs-compat/_esm5/add/observable/throw.js");
// Operators
__webpack_require__(/*! rxjs/add/operator/catch */ "./node_modules/rxjs-compat/_esm5/add/operator/catch.js");
__webpack_require__(/*! rxjs/add/operator/debounceTime */ "./node_modules/rxjs-compat/_esm5/add/operator/debounceTime.js");
__webpack_require__(/*! rxjs/add/operator/distinctUntilChanged */ "./node_modules/rxjs-compat/_esm5/add/operator/distinctUntilChanged.js");
__webpack_require__(/*! rxjs/add/operator/map */ "./node_modules/rxjs-compat/_esm5/add/operator/map.js");
__webpack_require__(/*! rxjs/add/operator/switchMap */ "./node_modules/rxjs-compat/_esm5/add/operator/switchMap.js");
__webpack_require__(/*! rxjs/add/operator/toPromise */ "./node_modules/rxjs-compat/_esm5/add/operator/toPromise.js");


/***/ }),

/***/ "./src/app/services/favorites.service.ts":
/*!***********************************************!*\
  !*** ./src/app/services/favorites.service.ts ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var config_1 = __webpack_require__(/*! ../config */ "./src/app/config.ts");
var addition = config_1.configurations.prefixStorage;
exports.FavoritesService = {
    set: function (fav) {
        try {
            localStorage.setItem(addition + "favorite", JSON.stringify(fav));
        }
        catch (_a) {
        }
    },
    get: function () {
        try {
            return JSON.parse(localStorage.getItem(addition + "favorite"));
        }
        catch (_a) {
            return null;
        }
    },
    remove: function () {
        try {
            localStorage.removeItem(addition + "favorite");
        }
        catch (_a) {
        }
    }
};


/***/ }),

/***/ "./src/app/services/main.service.ts":
/*!******************************************!*\
  !*** ./src/app/services/main.service.ts ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
__webpack_require__(/*! rxjs/Rx */ "./node_modules/rxjs-compat/_esm5/Rx.js");
var config_1 = __webpack_require__(/*! ../config */ "./src/app/config.ts");
var profile_local_1 = __webpack_require__(/*! ./profile.local */ "./src/app/services/profile.local.ts");
var MainService = /** @class */ (function () {
    function MainService() {
        this.serverURL = config_1.configurations.server;
        this.invalidToken = config_1.configurations.invalidToken;
        this.origin = config_1.configurations.origin;
        this.uiLang = config_1.configurations.appLang;
        this.maxNumber = 20;
        this.accessToken = '';
        this.refreshToken = '';
        this.isAuth = false;
        this.deviceId = '';
        this.extension_id = localStorage.getItem('cid_extension') ? localStorage.getItem('cid_extension') : '';
        this.updateGasAuth();
    }
    MainService.prototype.updateGasAuth = function () {
        if (profile_local_1.GASAUTH.get(true) != null) {
            try {
                this.accessToken = profile_local_1.GASAUTH.get(true)['data']['accessToken'];
                this.refreshToken = profile_local_1.GASAUTH.get(true)['data']['refreshToken'];
                this.isAuth = profile_local_1.GASAUTH.get(true)['data']['isAuth'];
                this.deviceId = profile_local_1.GASAUTH.get(true)['data']['deviceId'];
            }
            catch (error) {
            }
        }
        else {
            this.accessToken = '';
            this.refreshToken = '';
            this.isAuth = false;
            this.deviceId = '';
        }
    };
    // RCE-717
    MainService.prototype.setGASError = function () {
        var currentTime = new Date().getTime();
        localStorage.setItem('GASErrorTime', (currentTime + config_1.configurations.GASErrorTimeDelay).toString());
    };
    MainService.prototype.hasGASError = function () {
        var withoutToken = false;
        var hasErrorTimer = localStorage.getItem('GASErrorTime');
        if (hasErrorTimer) {
            var currentTime = new Date().getTime();
            if (parseInt(hasErrorTimer, 10) > (currentTime - config_1.configurations.GASErrorTimeDelay)) {
                withoutToken = true;
            }
        }
        return withoutToken;
    };
    MainService.prototype.GASErrorMessage = function () {
        return {
            message: '_loc_ServiceUnavailableMessage',
        };
    };
    return MainService;
}());
exports.MainService = MainService;


/***/ }),

/***/ "./src/app/services/profile.local.ts":
/*!*******************************************!*\
  !*** ./src/app/services/profile.local.ts ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var config_1 = __webpack_require__(/*! ../config */ "./src/app/config.ts");
var addition = config_1.configurations.prefixStorage;
var isIframe = top.location !== self.location;
// Профиль юзера
exports.GASUSERPROFILE = {
    key: addition + 'GASUserProfile',
    get: function () {
        if (localStorage.getItem(this.key) != null && localStorage.getItem(this.key).trim() !== '') {
            try {
                var cacheTime = new Date();
                cacheTime = cacheTime['getTime']();
                var item = JSON.parse(localStorage.getItem(this.key));
                return item;
            }
            catch (error) {
                return null;
            }
        }
        else {
            return null;
        }
    },
    set: function (value) {
        var cacheTime = new Date();
        cacheTime = cacheTime['getTime']();
        var data_cache = {
            cache_time: cacheTime,
            data: value.data ? value.data : value
        };
        localStorage.setItem(this.key, JSON.stringify(data_cache));
    },
    remove: function () {
        localStorage.removeItem(this.key);
    }
};
// Направления
exports.DIRECTIONS = {
    key: addition + 'cacheGetDirections',
    get: function (noCache) {
        if (noCache === void 0) { noCache = false; }
        if (localStorage.getItem(this.key) != null && localStorage.getItem(this.key).trim() !== '') {
            try {
                var cacheTime = new Date();
                cacheTime = cacheTime['getTime']();
                var item = JSON.parse(localStorage.getItem(this.key));
                if (noCache === true) {
                    return item;
                }
                else {
                    if ((typeof item.cache_time !== 'undefined' && item.cache_time > (cacheTime - config_1.configurations.cachetimeDir)) ||
                        typeof item.cache_time === 'undefined' || window.navigator.onLine === false) {
                        return item;
                    }
                    else {
                        return null;
                    }
                }
            }
            catch (error) {
                return null;
            }
        }
        else {
            return null;
        }
    },
    set: function (value) {
        var cacheTime = new Date();
        cacheTime = cacheTime['getTime']();
        var data_cache = {
            cache_time: cacheTime,
            data: value.data ? value.data : value
        };
        localStorage.setItem(this.key, JSON.stringify(data_cache));
    },
    remove: function () {
        localStorage.removeItem(this.key);
    }
};
// Данные юзера для сервреа
// forced: вернет вне зависимости от времени
exports.GASAUTH = {
    key: addition + 'GASAuth',
    get: function (forced) {
        if (localStorage.getItem(this.key) != null && localStorage.getItem(this.key).trim() !== '') {
            try {
                var cacheTime = new Date();
                cacheTime = cacheTime['getTime']();
                var item = JSON.parse(localStorage.getItem(this.key));
                if (typeof forced !== 'undefined' && forced === true) {
                    return item;
                }
                else {
                    if ((typeof item.cache_time !== 'undefined' && item.cache_time > (cacheTime - config_1.configurations.cachetime)) ||
                        typeof item.cache_time === 'undefined' || navigator.onLine === false) {
                        return item;
                    }
                    else {
                        return null;
                    }
                }
            }
            catch (error) {
                return null;
            }
        }
        else {
            return null;
        }
    },
    set: function (value) {
        var cacheTime = new Date();
        cacheTime = cacheTime['getTime']();
        var data_cache = {
            cache_time: cacheTime,
            data: value.data ? value.data : value
        };
        localStorage.setItem(this.key, JSON.stringify(data_cache));
    },
    remove: function () {
        localStorage.removeItem(this.key);
    }
};
// Информация для юзера
exports.GASUSERINFO = {
    key: addition + 'GASUserInfo',
    get: function () {
        if (localStorage.getItem(this.key) !== null && localStorage.getItem(this.key).trim() !== '') {
            try {
                var cacheTime = new Date();
                cacheTime = cacheTime['getTime']();
                var item = JSON.parse(localStorage.getItem(this.key));
                return item;
            }
            catch (error) {
                return null;
            }
        }
        else {
            return null;
        }
    },
    set: function (value) {
        var cacheTime = new Date();
        cacheTime = cacheTime['getTime']();
        var data_cache = {
            cache_time: cacheTime,
            data: value.data ? value.data : value
        };
        localStorage.setItem(this.key, JSON.stringify(data_cache));
    },
    remove: function () {
        localStorage.removeItem(this.key);
    }
};
// Количество запросов на перевод
exports.QUANTITYTRANSL = {
    key: addition + 'quantityTranslations',
    get: function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            // For FF
            if (isIframe && config_1.configurations.origin === 'ffextension' && config_1.configurations.isExtension) {
                chrome.runtime.sendMessage({ getValueToLocalStorage: _this.key }, function (response) {
                    if (response && response !== 'null' && response.trim() !== '') {
                        resolve(isNaN(parseInt(response, 10)) ? 0 : parseInt(response, 10));
                    }
                    else
                        resolve(0);
                });
            }
            else {
                var count = 0;
                if (localStorage.getItem(_this.key) && localStorage.getItem(_this.key).trim() !== '') {
                    var namb = localStorage.getItem(_this.key) ? parseInt(localStorage.getItem(_this.key), 10) : 0;
                    count = isNaN(namb) ? 0 : namb;
                    resolve(count);
                }
                else
                    resolve(count);
            }
        });
    },
    set: function (value) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            // For FF
            if (isIframe && config_1.configurations.origin === 'ffextension' && config_1.configurations.isExtension) {
                chrome.runtime.sendMessage({
                    setValueToLocalStorage: {
                        'key': _this.key,
                        'value': JSON.stringify(value)
                    }
                }, function (response) {
                    resolve(response);
                });
            }
            else {
                var result = localStorage.setItem(_this.key, JSON.stringify(value));
                resolve(result);
            }
        });
    }
};
exports.CHECK_AUTH = function () {
    var user = exports.GASUSERINFO.get(), val = (user && typeof user.data !== 'undefined' && typeof user.data.Username !== 'undefined' && user.data.Username.trim() !== '');
    if (typeof val === 'undefined')
        val = false;
    return !!val;
};
exports.SAVE_PAGE_PROMOTION = {
    dateNow: function () { return Date.now(); },
    set: function () {
        var month = exports.SAVE_PAGE_PROMOTION.dateNow() + config_1.configurations.cachetimeDir * 31;
        localStorage.setItem(config_1.configurations.prefixStorage + 'notify_activatePromotion', JSON.stringify(month));
    },
    get: function () {
        if (localStorage.getItem(config_1.configurations.prefixStorage + 'notify_activatePromotion')) {
            var currentTimer = JSON.parse(localStorage.getItem(config_1.configurations.prefixStorage + 'notify_activatePromotion'));
            if (exports.SAVE_PAGE_PROMOTION.dateNow() < currentTimer) {
                return false;
            }
            else {
                return true;
            }
        }
        else {
            return true;
        }
    }
};
exports.SAVE_PAGE_PROMOTION_QTY = {
    set: function () {
        var value = 0;
        if (localStorage.getItem(config_1.configurations.prefixStorage + 'notify_activatePromotion_qty')) {
            value = JSON.parse(localStorage.getItem(config_1.configurations.prefixStorage + 'notify_activatePromotion_qty'));
        }
        localStorage.setItem(config_1.configurations.prefixStorage + 'notify_activatePromotion_qty', JSON.stringify(value + 1));
    },
    get: function () {
        if (localStorage.getItem(config_1.configurations.prefixStorage + 'notify_activatePromotion_qty')) {
            return JSON.parse(localStorage.getItem(config_1.configurations.prefixStorage + 'notify_activatePromotion_qty'));
        }
        else {
            return 0;
        }
    }
};


/***/ }),

/***/ "./src/app/services/profile.service.ts":
/*!*********************************************!*\
  !*** ./src/app/services/profile.service.ts ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var api_1 = __webpack_require__(/*! ../../api/api */ "./src/api/api.ts");
var main_service_1 = __webpack_require__(/*! ./main.service */ "./src/app/services/main.service.ts");
var profile_local_1 = __webpack_require__(/*! ./profile.local */ "./src/app/services/profile.local.ts");
var config_1 = __webpack_require__(/*! ../config */ "./src/app/config.ts");
var getProfile_1 = __webpack_require__(/*! ../../scripts/utils/getProfile */ "./src/scripts/utils/getProfile.ts");
var ProfileService = /** @class */ (function (_super) {
    __extends(ProfileService, _super);
    function ProfileService(_api) {
        var _this = _super.call(this) || this;
        _this._api = _api;
        return _this;
    }
    // Очистить куки пользователя
    ProfileService.prototype.emptyCookies = function () {
        if (typeof chrome !== 'undefined' && chrome.cookies && config_1.configurations.isExtension) {
            try {
                chrome.cookies.remove({
                    'name': 'reverso.net.DeviceId',
                    'url': config_1.configurations.server + '/',
                });
                chrome.cookies.remove({
                    'name': 'reverso.net.ReversoRefreshToken',
                    'url': config_1.configurations.server + '/',
                });
                chrome.cookies.remove({
                    'name': 'reverso.net.ReversoAccessToken',
                    'url': config_1.configurations.server + '/',
                });
            }
            catch (_a) {
            }
        }
        return;
    };
    // Выход
    ProfileService.prototype.logOut = function () {
        profile_local_1.GASUSERPROFILE.remove();
        profile_local_1.GASAUTH.remove();
        profile_local_1.GASUSERINFO.remove();
        localStorage.removeItem(config_1.configurations.prefixStorage + 'cookiesReversoNet');
        // Чистим куку
        // Посылаем сообщение на удаление кук
        if (typeof chrome !== 'undefined' && config_1.configurations.isExtension) {
            chrome['runtime'].sendMessage({ emptyCookies: true });
            this.emptyCookies();
        }
        this.updateGasAuth();
    };
    // Получить данные прифиля
    ProfileService.prototype.getProfile = function (refreshCache) {
        var _this = this;
        if (refreshCache === void 0) { refreshCache = false; }
        var body = {
            'deviceId': this.deviceId,
            'origin': this.origin,
            'uiLang': this.uiLang,
            'accessToken': this.accessToken
        };
        return new Promise(function (resolve, reject) {
            if (profile_local_1.GASUSERPROFILE.get() == null || refreshCache === true) {
                var req = _this._api.post('GetProfile', body);
                req.subscribe(function (res) {
                    if (res.error === false) {
                        profile_local_1.GASUSERPROFILE.set(res);
                        resolve(res);
                        // на случай, если кривой токен.
                    }
                    else if (typeof res.errorCode !== 'undefined' && res.errorCode === config_1.configurations.invalidToken) {
                        _this.getToken().then(function (token) {
                            resolve(_this.getProfile(refreshCache));
                        }, function (error) {
                            reject(error);
                        });
                    }
                    else {
                        reject(res);
                    }
                }, function (err) {
                    // profileDefault
                    profile_local_1.GASUSERPROFILE.set(getProfile_1.default);
                    resolve(getProfile_1.default);
                    // const errMsg = (err.message) ? err.message :
                    //     err.status ? `${err.status} - ${err.statusText}` : 'Server error';
                    // reject(errMsg);
                    console.error('ERROR', err);
                });
            }
            else {
                resolve(profile_local_1.GASUSERPROFILE.get());
            }
        });
    };
    // Получить направленя языков
    ProfileService.prototype.getDirections = function (refreshCache, uiLang) {
        var _this = this;
        if (refreshCache === void 0) { refreshCache = false; }
        if (uiLang === void 0) { uiLang = config_1.configurations.appLang; }
        var body = {
            'deviceId': this.deviceId,
            'origin': this.origin,
            'uiLang': uiLang,
            'accessToken': this.accessToken,
            'version': config_1.configurations.version,
        };
        return new Promise(function (resolve, reject) {
            if (profile_local_1.DIRECTIONS.get() == null || refreshCache === true) {
                var req = _this._api.post("GetDirections/" + uiLang, body);
                req.subscribe(function (res) {
                    if (res.error === false) {
                        profile_local_1.DIRECTIONS.set(res);
                        resolve(profile_local_1.DIRECTIONS.get());
                        // на случай, если кривой токен.
                    }
                    else if (typeof res.errorCode !== 'undefined' && res.errorCode === config_1.configurations.invalidToken) {
                        _this.getToken().then(function (token) {
                            resolve(_this.getDirections(refreshCache));
                        }, function (error) {
                            reject(error);
                        });
                    }
                    else {
                        reject(res);
                    }
                }, function (err) {
                    var errMsg = (err.message) ? err.message :
                        err.status ? err.status + " - " + err.statusText : 'Server error';
                    console.error('ERROR', err);
                    if (profile_local_1.DIRECTIONS.get(true) != null && profile_local_1.DIRECTIONS.get(true)['data']) {
                        resolve(profile_local_1.DIRECTIONS.get(true));
                    }
                    else {
                        reject(errMsg);
                    }
                });
            }
            else {
                resolve(profile_local_1.DIRECTIONS.get());
            }
        });
    };
    // Получаем токен
    ProfileService.prototype.getToken = function () {
        var _this = this;
        var body = {
            'deviceId': this.deviceId,
            'origin': this.origin,
            'uiLang': this.uiLang,
            'accessToken': this.accessToken,
            'refreshToken': this.refreshToken
        };
        return new Promise(function (resolve, reject) {
            if (_this.hasGASError()) {
                reject(_this.GASErrorMessage());
            }
            var req = _this._api.post('AccessToken', body);
            req.subscribe(function (res) {
                if (res.success === true) {
                    res.data['isAuth'] = 'true';
                    profile_local_1.GASAUTH.set(res);
                    _this.updateGasAuth();
                    resolve(res);
                }
                else {
                    // If some problem with GAS
                    if (res.errorCode !== config_1.configurations.invalidToken) {
                        if (!localStorage.getItem('GASErrorTime')) {
                            _this.setGASError();
                        }
                        reject(_this.GASErrorMessage());
                    }
                    else {
                        // Выход
                        _this.logOut();
                        reject(res);
                        console.error('ERROR', res);
                    }
                }
            }, function (err) {
                var errMsg = (err.message) ? err.message :
                    err.status ? err.status + " - " + err.statusText : 'Server error';
                reject(errMsg);
                console.error('ERROR', err);
            });
        });
    };
    // Получаем информацию юзерв
    ProfileService.prototype.getUserInfo = function (refreshCache) {
        var _this = this;
        if (refreshCache === void 0) { refreshCache = false; }
        var body = {
            'deviceId': this.deviceId,
            'origin': this.origin,
            'uiLang': this.uiLang,
            'accessToken': this.accessToken
        };
        return new Promise(function (resolve, reject) {
            if (profile_local_1.GASUSERINFO.get() === null || refreshCache === true) {
                var req = _this._api.post('GetUserInfo', body);
                req.subscribe(function (res) {
                    if (res.error === false) {
                        profile_local_1.GASUSERINFO.set(res);
                        resolve(res);
                        // на случай, если кривой токен.
                    }
                    else if (typeof res.errorCode !== 'undefined' && res.errorCode === config_1.configurations.invalidToken) {
                        _this.getToken().then(function (token) {
                            resolve(_this.getUserInfo(refreshCache));
                        }, function (error) {
                            reject(error);
                        });
                    }
                    else {
                        reject(res);
                    }
                }, function (err) {
                    var errMsg = (err.message) ? err.message :
                        err.status ? err.status + " - " + err.statusText : 'Server error';
                    reject(errMsg);
                    console.error('ERROR', err);
                });
            }
            else {
                resolve(profile_local_1.GASUSERINFO.get());
            }
        });
    };
    return ProfileService;
}(main_service_1.MainService));
exports.ProfileService = ProfileService;


/***/ }),

/***/ "./src/app/services/save-page.service.ts":
/*!***********************************************!*\
  !*** ./src/app/services/save-page.service.ts ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var main_service_1 = __webpack_require__(/*! ./main.service */ "./src/app/services/main.service.ts");
var profile_service_1 = __webpack_require__(/*! ./profile.service */ "./src/app/services/profile.service.ts");
var config_1 = __webpack_require__(/*! ../config */ "./src/app/config.ts");
var api_1 = __webpack_require__(/*! ../../api/api */ "./src/api/api.ts");
var SavePageService = /** @class */ (function (_super) {
    __extends(SavePageService, _super);
    function SavePageService(
    // private http: Http,
    _api, profileService) {
        var _this = _super.call(this) || this;
        _this._api = _api;
        _this.profileService = profileService;
        return _this;
    }
    SavePageService.prototype.sendPage = function (params) {
        var _this = this;
        var body = {
            id: params['id'] || '',
            url: params['url'] || '',
            title: params['title'] || '',
            author: params['author'] || '',
            comment: params['comment'] || '',
            language: params['language'] || '',
            description: params['description'] || '',
            favicon: params['favicon'] || '',
            html: params['html'] || '',
            images: params['images'] || '',
            cookie: params['cookie'] || '',
            deviceId: this.deviceId,
            origin: this.origin,
            uiLang: this.uiLang,
            accessToken: this.accessToken
        };
        return new Promise(function (resolve, reject) {
            // на случай, если пустой токен
            if (_this.accessToken.trim().length < 1 && _this.refreshToken.trim().length > 0) {
                _this.profileService.getToken().then(function (token) {
                    _this.updateGasAuth();
                    _this.sendPage(params).then(function (res) {
                        resolve(res);
                    }, function (error) {
                        reject(error);
                    });
                }, function (error) {
                    reject(error);
                });
            }
            else {
                var req = _this._api.post('SaveClientPageHtml', body);
                req.subscribe(function (res) {
                    if (res.error === false) {
                        resolve(res);
                        // на случай, если кривой токен.
                    }
                    else if (typeof res.errorCode !== 'undefined' && res.errorCode === config_1.configurations.invalidToken) {
                        _this.profileService.getToken().then(function (token) {
                            _this.updateGasAuth();
                            _this.sendPage(params).then(function (res) {
                                resolve(res);
                            }, function (error) {
                                reject(error);
                            });
                        }, function (error) {
                            reject(error);
                        });
                    }
                    else {
                        reject(res);
                    }
                }, function (err) {
                    var errMsg = (err.message) ? err.message :
                        err.status ? err.status + " - " + err.statusText : 'Server error';
                    reject(errMsg);
                    console.error('ERROR', err);
                });
            }
        });
        // let body = JSON.stringify({
        //     id: params['id'] || '',
        //     url: params['url'] || '',
        //     title: params['title'] || '',
        //     author: params['author'] || '',
        //     comment: params['comment'] || '',
        //     language: params['language'] || '',
        //     description: params['description'] || '',
        //     favicon: params['favicon'] || '',
        //     html: params['html'] || '',
        //     images: params['images'] || '',
        //     cookie: params['cookie'] || '',
        //
        //     deviceId: this.deviceId,
        //     origin: this.origin,
        //     uiLang: this.uiLang,
        //     accessToken: this.accessToken
        // });
        //
        // let headers = new Headers({'Content-Type': 'application/json'});
        // let options = new RequestOptions({headers: headers});
        //
        // return new Promise((resolve, reject) => {
        //
        //     // на случай, если пустой токен
        //     if (this.accessToken.trim().length < 1 && this.refreshToken.trim().length > 0) {
        //         this.profileService.getToken().then(token => {
        //             this.updateGasAuth();
        //             this.sendPage(params).then(res => {
        //                 resolve(res);
        //             }, error => {
        //                 reject(error);
        //             });
        //         }, error => {
        //             reject(error);
        //         });
        //     } else {
        //         this.httpSubscription = this.http.post(
        //             this.serverURL + '/api' + configurations.apiVersion + '/SaveClientPageHtml/',
        //             body,
        //             options
        //         )
        //             .map(res => res.json())
        //             .catch((error: any) => {
        //                 let errMsg = (error.message) ? error.message :
        //                     error.status ? `${error.status} - ${error.statusText}` : 'Server error';
        //                 console.error(errMsg);
        //                 reject(errMsg);
        //                 return Observable.throw(errMsg);
        //             })
        //             .subscribe((data: any) => {
        //                 if (data.error === false) {
        //                     resolve(data);
        //                     // на случай, если кривой токен.
        //                 } else if (typeof data.errorCode !== 'undefined' && data.errorCode === configurations.invalidToken) {
        //                     this.profileService.getToken().then(token => {
        //                         this.updateGasAuth();
        //                         this.sendPage(params).then(res => {
        //                             resolve(res);
        //                         }, error => {
        //                             reject(error);
        //                         });
        //                     }, error => {
        //                         reject(error);
        //                     });
        //
        //                 } else {
        //                     reject(data);
        //                 }
        //             });
        //     }
        // });
    };
    SavePageService.prototype.canSaveClientPage = function () {
        var _this = this;
        var body = {
            deviceId: this.deviceId,
            origin: this.origin,
            uiLang: this.uiLang,
            accessToken: this.accessToken
        };
        return new Promise(function (resolve, reject) {
            if (_this.hasGASError()) {
                reject(_this.GASErrorMessage());
            }
            if (_this.accessToken.trim().length < 1 && _this.refreshToken.trim().length > 0) {
                _this.profileService.getToken().then(function (token) {
                    _this.updateGasAuth();
                    _this.canSaveClientPage().then(function (res) {
                        resolve(res);
                    }, function (error) {
                        reject(error);
                    });
                }, function (error) {
                    reject(error);
                });
            }
            else {
                var req = _this._api.post('CanSaveClientPage', body);
                req.subscribe(function (res) {
                    if (res.error === false) {
                        resolve(res);
                        // на случай, если кривой токен.
                    }
                    else if (typeof res.errorCode !== 'undefined' && res.errorCode === config_1.configurations.invalidToken) {
                        _this.profileService.getToken().then(function (token) {
                            _this.updateGasAuth();
                            _this.canSaveClientPage().then(function (res) {
                                resolve(res);
                            }, function (error) {
                                reject(error);
                            });
                        }, function (error) {
                            reject(error);
                        });
                    }
                    else {
                        reject(res);
                    }
                }, function (err) {
                    var errMsg = (err.message) ? err.message :
                        err.status ? err.status + " - " + err.statusText : 'Server error';
                    reject(errMsg);
                    console.error('ERROR', err);
                });
            }
        });
        // let body = JSON.stringify({
        //     deviceId: this.deviceId,
        //     origin: this.origin,
        //     uiLang: this.uiLang,
        //     accessToken: this.accessToken
        // });
        //
        // let headers = new Headers({'Content-Type': 'application/json'});
        // let options = new RequestOptions({headers: headers});
        //
        // return new Promise((resolve, reject) => {
        //
        //     // на случай, если пустой токен
        //     if (this.accessToken.trim().length < 1 && this.refreshToken.trim().length > 0) {
        //         this.profileService.getToken().then(token => {
        //             this.updateGasAuth();
        //             this.canSaveClientPage().then(res => {
        //                 resolve(res);
        //             }, error => {
        //                 reject(error);
        //             });
        //         }, error => {
        //             reject(error);
        //         });
        //     } else {
        //         this.httpSubscription = this.http.post(
        //             this.serverURL + '/api' + configurations.apiVersion + '/CanSaveClientPage/',
        //             body,
        //             options)
        //             .map(res => res.json())
        //             .catch((error: any) => {
        //                 let errMsg = (error.message) ? error.message :
        //                     error.status ? `${error.status} - ${error.statusText}` : 'Server error';
        //                 console.error(errMsg);
        //                 reject(errMsg);
        //                 return Observable.throw(errMsg);
        //             })
        //             .subscribe((data: any) => {
        //                 if (data.error === false) {
        //                     resolve(data);
        //                     // на случай, если кривой токен.
        //                 } else if (typeof data.errorCode !== 'undefined' && data.errorCode === configurations.invalidToken) {
        //                     this.profileService.getToken().then(token => {
        //                         this.updateGasAuth();
        //                         this.canSaveClientPage().then(res => {
        //                             resolve(res);
        //                         }, error => {
        //                             reject(error);
        //                         });
        //                     }, error => {
        //                         reject(error);
        //                     });
        //
        //                 } else {
        //                     reject(data);
        //                 }
        //             });
        //     }
        // });
    };
    return SavePageService;
}(main_service_1.MainService));
exports.SavePageService = SavePageService;


/***/ }),

/***/ "./src/app/services/translate.service.ts":
/*!***********************************************!*\
  !*** ./src/app/services/translate.service.ts ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var main_service_1 = __webpack_require__(/*! ./main.service */ "./src/app/services/main.service.ts");
var profile_service_1 = __webpack_require__(/*! ./profile.service */ "./src/app/services/profile.service.ts");
var history_storage_1 = __webpack_require__(/*! ../storage/history.storage */ "./src/app/storage/history.storage.ts");
var config_1 = __webpack_require__(/*! ../config */ "./src/app/config.ts");
var api_1 = __webpack_require__(/*! ../../api/api */ "./src/api/api.ts");
var isHieroglyph_1 = __webpack_require__(/*! ../../scripts/utils/isHieroglyph */ "./src/scripts/utils/isHieroglyph.ts");
var TranslService = /** @class */ (function (_super) {
    __extends(TranslService, _super);
    function TranslService(_api, profileService, historyStorage) {
        var _this = _super.call(this) || this;
        _this._api = _api;
        _this.profileService = profileService;
        _this.historyStorage = historyStorage;
        return _this;
    }
    TranslService.prototype.getSuggest = function (params) {
        var _this = this;
        this.updateGasAuth();
        var body = {
            'deviceId': this.deviceId,
            'origin': this.origin,
            'uiLang': this.uiLang,
            'accessToken': this.hasGASError() ? '' : this.accessToken,
            'direction': params.lang_source + '-' + params.lang_target,
            'source': params.source,
        };
        return new Promise(function (resolve, reject) {
            var req = _this._api.post('Suggest', body);
            req.subscribe(function (res) {
                if (res.error === false) {
                    resolve(res);
                    // на случай, если кривой токен.
                }
                else if (typeof res.errorCode !== 'undefined' && res.errorCode === config_1.configurations.invalidToken) {
                    _this.profileService.getToken().then(function (token) {
                        // this.updateGasAuth();
                        _this.getSuggest(params).then(function (_res) {
                            resolve(_res);
                        }, function (_error) {
                            reject(_error);
                        });
                    }, function (error) {
                        reject(error);
                    });
                }
                else {
                    reject(res);
                }
            }, function (err) {
                var errMsg = (err.message) ? err.message :
                    err.status ? err.status + " - " + err.statusText : 'Server error';
                reject(errMsg);
                console.error('ERROR', err);
            });
        });
    };
    TranslService.prototype.translateSimple = function (params, again) {
        var _this = this;
        if (again === void 0) { again = false; }
        this.updateGasAuth();
        var body = {
            'deviceId': this.deviceId,
            'origin': this.origin,
            'uiLang': this.uiLang,
            'accessToken': this.hasGASError() ? '' : this.accessToken,
            'direction': params.lang_source + '-' + params.lang_target,
            'source': params.source,
            'pageUrl': params.pageUrl || '',
            // 0008518: Translation on page without title (When there is missing title in web page, TranslateWord returns server error: {success: false, error: true, errorCode: 1000, message: "Title required (param: pageTitle)"})
            // 'pageTitle': params.pageTitle && params.pageTitle.trim() !== '' ? params.pageTitle : '-',
            'pageTitle': params.pageTitle && params.pageTitle.trim() !== '' ? params.pageTitle : '',
            'reversoPage': params.reversoPage || null
        };
        // Условие для: Неразрывный пробел нулевой ширины (BOM) U+FEFF
        if (params.source.indexOf("\uFEFF") > -1)
            params.source = params.source.replace("\uFEFF", "");
        return new Promise(function (resolve, reject) {
            var req = _this._api.post('TranslateSimple', body);
            req.subscribe(function (res) {
                if (res.error === false) {
                    resolve(res);
                    // на случай, если кривой токен.
                }
                else if (typeof res.errorCode !== 'undefined' && res.errorCode === config_1.configurations.invalidToken) {
                    _this.profileService.getToken().then(function (token) {
                        // this.updateGasAuth();
                        _this.translateSimple(params, true).then(function (_res) {
                            resolve(_res);
                        }, function (_error) {
                            reject(_error);
                        });
                    }, function (error) {
                        // "Incorrect refresh token (The refresh token is invalid.)"
                        if (again) {
                            reject(error);
                        }
                        else {
                            _this.translateSimple(params, true).then(function (_res) {
                                resolve(_res);
                            }, function (_error) {
                                reject(_error);
                            });
                        }
                    });
                }
                else {
                    reject(res);
                }
            }, function (err) {
                var errMsg = (err.message) ? err.message :
                    err.status ? err.status + " - " + err.statusText : 'Server error';
                reject(errMsg);
                console.error('ERROR', err);
            });
        });
    };
    TranslService.prototype.translateWord = function (params, again) {
        var _this = this;
        if (again === void 0) { again = false; }
        this.updateGasAuth();
        var source = params.source && params.source.trim().length >= params.word.trim().length ? params.source : params.word;
        if (source.indexOf('\n') > -1) {
            source = source.replace('\n', '');
        }
        if (source.indexOf('\r') > -1) {
            source = source.replace('\r', '');
        }
        // Условие для: Неразрывный пробел нулевой ширины (BOM) U+FEFF
        if (params.word.indexOf("\uFEFF") > -1)
            params.word = params.word.replace("\uFEFF", "");
        if (source.indexOf("\uFEFF") > -1) {
            source = source.replace("\uFEFF", "");
            params.wordPos = params.wordPos - 1;
        }
        var body = {
            'deviceId': this.deviceId,
            'origin': this.origin,
            'uiLang': this.uiLang,
            'accessToken': this.hasGASError() ? '' : this.accessToken,
            'direction': params.lang_source + '-' + params.lang_target,
            'source': source,
            'word': params.word,
            'wordPos': params.wordPos || -1,
            'pageUrl': params.pageUrl || '',
            // 0008518: Translation on page without title (When there is missing title in web page, TranslateWord returns server error: {success: false, error: true, errorCode: 1000, message: "Title required (param: pageTitle)"})
            'pageTitle': params.pageTitle && params.pageTitle.trim() !== '' ? params.pageTitle : '-',
            // 'pageTitle': params.pageTitle && params.pageTitle.trim() !== '' ? params.pageTitle : '',
            'reversoPage': params.reversoPage || null
        };
        return new Promise(function (resolve, reject) {
            var req = _this._api.post('TranslateWord', body);
            req.subscribe(function (res) {
                if (res.error === false) {
                    resolve(res);
                    // на случай, если кривой токен.
                }
                else if (typeof res.errorCode !== 'undefined' && res.errorCode === config_1.configurations.invalidToken) {
                    _this.profileService.getToken().then(function (token) {
                        _this.translateWord(params, true).then(function (_res) {
                            resolve(_res);
                        }, function (_error) {
                            reject(_error);
                        });
                    }, function (error) {
                        // "Incorrect refresh token (The refresh token is invalid.)"
                        if (again) {
                            reject(error);
                        }
                        else {
                            _this.translateWord(params, true).then(function (_res) {
                                resolve(_res);
                            }, function (_error) {
                                reject(_error);
                            });
                        }
                    });
                }
                else {
                    reject(res);
                }
            }, function (err) {
                var errMsg = (err.message) ? err.message :
                    err.status ? err.status + " - " + err.statusText : 'Server error';
                reject(errMsg);
                console.error('ERROR', err);
            });
        });
    };
    TranslService.prototype.translateSegment = function (params, again) {
        var _this = this;
        if (again === void 0) { again = false; }
        this.updateGasAuth();
        var source = params.source && params.word && params.source.trim().length >= params.word.trim().length ? params.source : params.word;
        if (source.indexOf('\n') > -1) {
            source = source.replace('\n', '');
        }
        if (source.indexOf('\r') > -1) {
            source = source.replace('\r', '');
        }
        // Условие для: Неразрывный пробел нулевой ширины (BOM) U+FEFF
        if (params.word.indexOf("\uFEFF") > -1)
            params.word = params.word.replace("\uFEFF", "");
        if (source.indexOf("\uFEFF") > -1) {
            source = source.replace("\uFEFF", "");
            params.wordPos = params.wordPos - 1;
        }
        var body = {
            'deviceId': this.deviceId,
            'origin': this.origin,
            'uiLang': this.uiLang,
            'accessToken': this.hasGASError() ? '' : this.accessToken,
            'direction': params.lang_source + '-' + params.lang_target,
            'source': source,
            'word': params.word,
            'wordPos': params.wordPos || -1,
            'historyId': params.historyId || null,
            'reversoPage': params.reversoPage || null
        };
        return new Promise(function (resolve, reject) {
            var req = _this._api.post('TranslateSegment', body);
            req.subscribe(function (res) {
                if (res.error === false) {
                    resolve(res);
                    // на случай, если кривой токен.
                }
                else if (typeof res.errorCode !== 'undefined' && res.errorCode === config_1.configurations.invalidToken) {
                    _this.profileService.getToken().then(function (token) {
                        _this.translateSegment(params, true).then(function (_res) {
                            resolve(_res);
                        }, function (_error) {
                            reject(_error);
                        });
                    }, function (error) {
                        // "Incorrect refresh token (The refresh token is invalid.)"
                        if (again) {
                            reject(error);
                        }
                        else {
                            _this.translateSegment(params, true).then(function (_res) {
                                resolve(_res);
                            }, function (_error) {
                                reject(_error);
                            });
                        }
                    });
                }
                else {
                    reject(res);
                }
            }, function (err) {
                var errMsg = (err.message) ? err.message :
                    err.status ? err.status + " - " + err.statusText : 'Server error';
                reject(errMsg);
                console.error('ERROR', err);
            });
        });
    };
    TranslService.prototype.getSample = function (params, again) {
        var _this = this;
        if (again === void 0) { again = false; }
        this.updateGasAuth();
        var body = {
            'deviceId': this.deviceId,
            'origin': this.origin,
            'uiLang': this.uiLang,
            'accessToken': this.hasGASError() ? '' : this.accessToken,
            'maxNumber': this.maxNumber,
            'direction': params.lang_source + '-' + params.lang_target,
            'source': params.source,
            'translation': params.translation,
            'excludeTranslations': params.excludeTranslations,
        };
        return new Promise(function (resolve, reject) {
            var req = _this._api.post('GetSamples', body);
            req.subscribe(function (res) {
                if (res.error === false) {
                    resolve(res);
                    // на случай, если кривой токен.
                }
                else if (typeof res.errorCode !== 'undefined' && res.errorCode === config_1.configurations.invalidToken) {
                    _this.profileService.getToken().then(function (token) {
                        _this.getSample(params, true).then(function (_res) {
                            resolve(_res);
                        }, function (_error) {
                            reject(_error);
                        });
                    }, function (error) {
                        // "Incorrect refresh token (The refresh token is invalid.)"
                        if (again) {
                            reject(error);
                        }
                        else {
                            _this.getSample(params, true).then(function (_res) {
                                resolve(_res);
                            }, function (_error) {
                                reject(_error);
                            });
                        }
                    });
                }
                else {
                    reject(res);
                }
            }, function (err) {
                var errMsg = (err.message) ? err.message :
                    err.status ? err.status + " - " + err.statusText : 'Server error';
                reject(errMsg);
                console.error('ERROR', err);
            });
        });
    };
    // Определит язык по предложению
    TranslService.prototype.detectLanguage = function (inputContent, again) {
        var _this = this;
        if (again === void 0) { again = false; }
        this.updateGasAuth();
        if (inputContent.length >= 150) {
            if (isHieroglyph_1.default(inputContent)) {
                inputContent = inputContent.substr(0, 10).split(' ');
            }
            else {
                inputContent = inputContent.substr(0, 150).split(' ');
            }
            // For Chinese and Japanese
            if (inputContent.length < 5) {
                inputContent = inputContent.slice(0, inputContent.length).join(' ');
            }
            else {
                inputContent = inputContent.slice(0, inputContent.length - 1).join(' ');
            }
        }
        var body = {
            'deviceId': this.deviceId,
            'origin': this.origin,
            'uiLang': this.uiLang,
            'accessToken': this.hasGASError() ? '' : this.accessToken,
            'inputContent': inputContent
        };
        return new Promise(function (resolve, reject) {
            var req = _this._api.post('DetectLanguage', body);
            req.subscribe(function (res) {
                if (res.error === false) {
                    resolve(res);
                    // на случай, если кривой токен.
                }
                else if (typeof res.errorCode !== 'undefined' && res.errorCode === config_1.configurations.invalidToken) {
                    _this.profileService.getToken().then(function (token) {
                        _this.detectLanguage(inputContent, true).then(function (_res) {
                            resolve(_res);
                        }, function (_error) {
                            reject(_error);
                        });
                    }, function (error) {
                        // "Incorrect refresh token (The refresh token is invalid.)"
                        if (again) {
                            reject(error);
                        }
                        else {
                            _this.detectLanguage(inputContent, true).then(function (_res) {
                                resolve(_res);
                            }, function (_error) {
                                reject(_error);
                            });
                        }
                    });
                }
                else {
                    reject(res);
                }
            }, function (err) {
                var errMsg = (err.message) ? err.message :
                    err.status ? err.status + " - " + err.statusText : 'Server error';
                reject(errMsg);
                console.error('ERROR', err);
            });
        });
    };
    TranslService.prototype.saveFavorites = function (params) {
        var _this = this;
        var d = new Date(), date = d.toISOString(), example = { 'source': '', 'target': '' };
        if (params.example && params.example.target && params.example.target !== '') {
            example.source = params.example.source || '';
            example.target = params.example.target || '';
        }
        var body = {
            'historyId': params.historyId,
            'extension_id': this.extension_id,
            'deviceId': this.deviceId,
            'origin': this.origin,
            'uiLang': this.uiLang,
            'accessToken': this.accessToken,
            'word': params.word,
            'sentence': params.sentence || '',
            'translation': params.translation || '',
            'userTranslation': params.userTranslation || '',
            'example': JSON.stringify(example),
            'langSource': params.langSource,
            'langTarget': params.langTarget,
            'createdDate': date,
            'comment': params.comment || '',
            'url': params.url || '',
            'title': params.title || '',
            'posInBook': '',
            'reversoPage': params.reversoPage || null
        };
        return new Promise(function (resolve, reject) {
            if (_this.hasGASError()) {
                reject(_this.GASErrorMessage());
            }
            var req = _this._api.post('SaveFavorites', body);
            req.subscribe(function (res) {
                if (res.error === false) {
                    resolve(res);
                    // на случай, если кривой токен.
                }
                else if (typeof res.errorCode !== 'undefined' && res.errorCode === config_1.configurations.invalidToken) {
                    _this.profileService.getToken().then(function (token) {
                        _this.updateGasAuth();
                        _this.saveFavorites(params).then(function (res) {
                            resolve(res);
                        }, function (error) {
                            reject(error);
                        });
                    }, function (error) {
                        reject(error);
                    });
                }
                else {
                    reject(res);
                }
            }, function (err) {
                var errMsg = (err.message) ? err.message :
                    err.status ? err.status + " - " + err.statusText : 'Server error';
                reject(errMsg);
                console.error('ERROR', err);
            });
        });
    };
    TranslService.prototype.deleteFavorites = function (server_id) {
        var _this = this;
        var body = {
            'list': [server_id],
            'extension_id': this.extension_id,
            'deviceId': this.deviceId,
            'origin': this.origin,
            'uiLang': this.uiLang,
            'accessToken': this.accessToken,
        };
        return new Promise(function (resolve, reject) {
            if (_this.hasGASError()) {
                reject(_this.GASErrorMessage());
            }
            var req = _this._api.post('DeleteFavorite', body);
            req.subscribe(function (res) {
                if (res.error === false) {
                    resolve(res);
                    // на случай, если кривой токен.
                }
                else if (typeof res.errorCode !== 'undefined' && res.errorCode === config_1.configurations.invalidToken) {
                    _this.profileService.getToken().then(function (token) {
                        _this.updateGasAuth();
                        _this.deleteFavorites(server_id).then(function (res) {
                            resolve(res);
                        }, function (error) {
                            reject(error);
                        });
                    }, function (error) {
                        reject(error);
                    });
                }
                else {
                    reject(res);
                }
            }, function (err) {
                var errMsg = (err.message) ? err.message :
                    err.status ? err.status + " - " + err.statusText : 'Server error';
                reject(errMsg);
                console.error('ERROR', err);
            });
        });
    };
    TranslService.prototype.saveHistory = function (params) {
        var _this = this;
        var d = new Date(), date = d.toISOString();
        // Требуется только 3 перевода
        if (params.wordTranslations && Array.isArray(params.wordTranslations) && params.wordTranslations.length > 3) {
            var oldWordTranslations = params.wordTranslations;
            params.wordTranslations = [];
            for (var i = 0; i < 3; i++) {
                params.wordTranslations.push(oldWordTranslations[i]);
            }
        }
        // Требуется только 3 перевода
        if (params.longSegmentTranslations && Array.isArray(params.longSegmentTranslations) && params.longSegmentTranslations.length > 3) {
            var oldLongSegmentTranslations = params.longSegmentTranslations;
            params.longSegmentTranslations = [];
            for (var i = 0; i < 3; i++) {
                params.longSegmentTranslations.push(oldLongSegmentTranslations[i]);
            }
        }
        var body = {
            'extension_id': params.extension_id,
            'id': params.id,
            'origin': this.origin,
            'accessToken': this.accessToken,
            'uiLang': this.uiLang,
            'word': params.word,
            'sentence': params.sentence,
            'posInSentence': params.posInSentence,
            'posInBook': '',
            'createdDate': date,
            'langSource': params.langSource,
            'langTarget': params.langTarget,
            'url': params.url,
            'title': params.title,
            'longSegment': params.longSegment,
            'wordTranslations': params.wordTranslations,
            'longSegmentTranslations': params.longSegmentTranslations
        };
        return new Promise(function (resolve, reject) {
            if (_this.hasGASError()) {
                reject(_this.GASErrorMessage());
            }
            var req = _this._api.post('SaveHistory', body);
            req.subscribe(function (res) {
                if (res.error === false) {
                    resolve(res);
                    // на случай, если кривой токен.
                }
                else if (typeof res.errorCode !== 'undefined' && res.errorCode === config_1.configurations.invalidToken) {
                    _this.profileService.getToken().then(function (token) {
                        _this.updateGasAuth();
                        _this.saveHistory(params).then(function (res) {
                            resolve(res);
                        }, function (error) {
                            reject(error);
                        });
                    }, function (error) {
                        reject(error);
                    });
                }
                else {
                    reject(res);
                }
            }, function (err) {
                var errMsg = (err.message) ? err.message :
                    err.status ? err.status + " - " + err.statusText : 'Server error';
                reject(errMsg);
                console.error('ERROR', err);
            });
        });
    };
    TranslService.prototype.sendHistoryToServer = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            if (_this.hasGASError()) {
                reject(_this.GASErrorMessage());
            }
            _this.historyStorage.getAll().then(function (result) {
                if (result.length > 0) {
                    var send_1 = function (i) {
                        if (result[i]) {
                            _this.saveHistory(result[i]).then(function (res) {
                                i++;
                                send_1(i);
                            });
                        }
                    };
                    send_1(0);
                }
                resolve(true);
            }, function (error) {
                reject(error);
            });
        });
    };
    // Отправка формы feedback
    TranslService.prototype.feedback = function (params) {
        var _this = this;
        var body = {
            'deviceId': this.deviceId,
            'origin': this.origin,
            'uiLang': this.uiLang,
            'accessToken': this.accessToken,
            'Email': params['Email'] || '',
            'Url': params['Url'] || '',
            'UserAgent': params['UserAgent'] || '',
            'FeedbackType': params['FeedbackType'] || '',
            'Comment': params['Comment'] || '',
            'SrcLang': params['SrcLang'] || '',
            'TrgLang': params['TrgLang'] || '',
            'Word': params['Word'] || '',
            'Sentence': params['Sentence'] || '',
            'version': config_1.configurations.version,
            'Rating': typeof params['Rating'] !== 'undefined' ? params['Rating'] : -1
        };
        return new Promise(function (resolve, reject) {
            var req = _this._api.post('AddUserFeedback', body);
            req.subscribe(function (res) {
                if (res.error === false) {
                    resolve(res);
                    // на случай, если кривой токен.
                }
                else if (typeof res.errorCode !== 'undefined' && res.errorCode === config_1.configurations.invalidToken) {
                    _this.profileService.getToken().then(function (token) {
                        _this.updateGasAuth();
                        _this.feedback(params).then(function (res) {
                            resolve(res);
                        }, function (error) {
                            reject(error);
                        });
                    }, function (error) {
                        reject(error);
                    });
                }
                else {
                    reject(res);
                }
            }, function (err) {
                var errMsg = (err.message) ? err.message :
                    err.status ? err.status + " - " + err.statusText : 'Server error';
                reject(errMsg);
                console.error('ERROR', err);
            });
        });
    };
    TranslService.prototype.translateText = function (params, again) {
        var _this = this;
        if (again === void 0) { again = false; }
        this.updateGasAuth();
        var body = {
            'deviceId': this.deviceId,
            'uiLang': this.uiLang,
            'origin': this.origin,
            'accessToken': this.hasGASError() ? '' : this.accessToken,
            'direction': params.langSource + '-' + params.langTarget,
            'source': params.source,
        };
        // Условие для: Неразрывный пробел нулевой ширины (BOM) U+FEFF
        if (params.source.indexOf("\uFEFF") > -1)
            params.source = params.source.replace("\uFEFF", "");
        return new Promise(function (resolve, reject) {
            var req = _this._api.post('TranslateText', body);
            req.subscribe(function (res) {
                if (!res.error) {
                    resolve(res);
                    // на случай, если кривой токен.
                }
                else if (typeof res.errorCode !== 'undefined' && res.errorCode === config_1.configurations.invalidToken) {
                    _this.profileService.getToken().then(function (token) {
                        _this.translateText(params, true).then(function (_res) {
                            resolve(_res);
                        }, function (_error) {
                            reject(_error);
                        });
                    }, function (error) {
                        // "Incorrect refresh token (The refresh token is invalid.)"
                        if (again) {
                            reject(error);
                        }
                        else {
                            _this.translateText(params, true).then(function (_res) {
                                resolve(_res);
                            }, function (_error) {
                                reject(_error);
                            });
                        }
                    });
                }
                else {
                    reject(res);
                }
            }, function (err) {
                var errMsg = (err.message) ? err.message :
                    err.status ? err.status + " - " + err.statusText : 'Server error';
                reject(errMsg);
                console.error('ERROR', err);
            });
        });
    };
    return TranslService;
}(main_service_1.MainService));
exports.TranslService = TranslService;


/***/ }),

/***/ "./src/app/storage/history.storage.ts":
/*!********************************************!*\
  !*** ./src/app/storage/history.storage.ts ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
// Класс для работы с БД History
var config_1 = __webpack_require__(/*! ./../config */ "./src/app/config.ts");
var main_func_1 = __webpack_require__(/*! ./../functions/main.func */ "./src/app/functions/main.func.ts");
var ItemHistory = /** @class */ (function () {
    function ItemHistory(options) {
        this.id = null; // ID for server
        this.posInBook = '';
        var d = new Date(), n = d.toUTCString();
        this.extension_id = options.extension_id || main_func_1.generateGuid();
        this.id = options.id || null;
        this.word = options.word ? options.word.trim() : '';
        this.sentence = options.sentence || '';
        this.posInSentence = options.posInSentence || -1;
        this.posInBook = options.posInBook || '';
        this.createdDate = options.createdDate || n;
        this.langSource = options.langSource || '';
        this.langTarget = options.langTarget || '';
        this.url = options.url || '';
        this.title = options.title || '';
        this.longSegment = options.longSegment || '';
        this.wordTranslations = options.wordTranslations && Array.isArray(options.wordTranslations) ? options.wordTranslations : [];
        this.longSegmentTranslations = options.longSegmentTranslations && Array.isArray(options.longSegmentTranslations) ?
            options.longSegmentTranslations : [];
    }
    return ItemHistory;
}());
var HistoryStorage = /** @class */ (function () {
    function HistoryStorage() {
        this.history = [];
        this.addition = config_1.configurations.prefixStorage;
        this.key = this.addition + 'history';
        this.limit = config_1.configurations.limitHistory;
        this.isIframe = top.location !== self.location;
        this.init();
    }
    HistoryStorage.prototype.update = function (options) {
    };
    HistoryStorage.prototype.add = function (options) {
        var _this = this;
        var item = new ItemHistory(options);
        return new Promise(function (resolve, reject) {
            _this.removeRow(item.word, item.langSource, item.langTarget).then(function (result) {
                _this.history.unshift(item);
                // Удаляем если превысил лимит
                if (_this.history.length > _this.limit)
                    _this.history.pop();
                _this.write();
                resolve(item);
            }, function (error) {
                reject(error);
            });
        });
    };
    HistoryStorage.prototype.getAll = function () {
        var _this = this;
        return new Promise(function (resolve, reject) {
            try {
                // For FF
                if (_this.isIframe && config_1.configurations.origin === 'ffextension' && config_1.configurations.isExtension) {
                    chrome.runtime.sendMessage({ getValueToLocalStorage: _this.key }, function (response) {
                        _this.history = response && JSON.parse(response) ? JSON.parse(response) : [];
                        resolve(_this.history);
                    });
                }
                else {
                    _this.history = JSON.parse(localStorage.getItem(_this.key)) ? JSON.parse(localStorage.getItem(_this.key)) : [];
                    resolve(_this.history);
                }
            }
            catch (error) {
                _this.removeAll();
                resolve([]);
                // reject(error);
            }
        });
    };
    HistoryStorage.prototype.getRow = function (word, langSource, langTarget) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            _this.getAll().then(function (result) {
                if (result) {
                    var looking = result.filter(function (i) {
                        return i.word === word && i.langSource === langSource && i.langTarget === langTarget;
                    });
                    if (looking.length > 0)
                        resolve(new ItemHistory(looking[0]));
                    else
                        resolve(null);
                }
                else
                    resolve(null);
            }, function (error) {
                reject(error);
            });
        });
    };
    HistoryStorage.prototype.removeRow = function (word, langSource, langTarget) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            _this.getRow(word, langSource, langTarget).then(function (result) {
                if (result) {
                    _this.getAll().then(function (resultAll) {
                        _this.history = resultAll.filter(function (i) {
                            return !(i.word === word && i.langSource === langSource && i.langTarget === langTarget);
                        });
                        _this.write();
                        resolve(_this.history);
                    }, function (error) {
                        reject(error);
                    });
                }
                else {
                    resolve(result); // reject("History error: Remove => not found");
                }
            }, function (error) {
                reject(error);
            });
        });
    };
    HistoryStorage.prototype.removeAll = function () {
        // localStorage.setItem(this.key, JSON.stringify([]));
        this.history = [];
        this.write();
    };
    HistoryStorage.prototype.write = function () {
        // For FF
        if (this.isIframe && config_1.configurations.origin === 'ffextension' && config_1.configurations.isExtension) {
            chrome.runtime.sendMessage({
                setValueToLocalStorage: {
                    'key': this.key,
                    'value': JSON.stringify(this.history)
                }
            }, function (response) {
                return response;
            });
        }
        else
            return localStorage.setItem(this.key, JSON.stringify(this.history));
    };
    HistoryStorage.prototype.init = function () {
        var _this = this;
        // Create
        // For FF
        if (this.isIframe && config_1.configurations.origin === 'ffextension' && config_1.configurations.isExtension) {
            chrome.runtime.sendMessage({ getValueToLocalStorage: this.key }, function (response) {
                if (!response)
                    _this.removeAll();
            });
        }
        else if (!localStorage.getItem(this.key)) {
            this.removeAll();
        }
    };
    return HistoryStorage;
}());
exports.HistoryStorage = HistoryStorage;


/***/ }),

/***/ "./src/app/storage/settings.storage.ts":
/*!*********************************************!*\
  !*** ./src/app/storage/settings.storage.ts ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var config_1 = __webpack_require__(/*! ./../config */ "./src/app/config.ts");
// Класс для работы с БД Settings
var SettingsStorage = /** @class */ (function () {
    function SettingsStorage() {
        this.isIframe = top.location !== self.location;
        this.addition = config_1.configurations.prefixStorage + 'settings_';
    }
    /**
     * Добавить настройку
     * @param name - String, name setting
     * @param value - String, value setting
     * **/
    SettingsStorage.prototype.add = function (name, value) {
        var _this = this;
        if (value === void 0) { value = ''; }
        name = this.addition + name;
        return new Promise(function (resolve, reject) {
            try {
                if (typeof value === 'object')
                    value = JSON.stringify(value);
                // For FF
                if (_this.isIframe && config_1.configurations.origin === 'ffextension' && config_1.configurations.isExtension) {
                    chrome.runtime.sendMessage({
                        setValueToLocalStorage: {
                            'key': name,
                            'value': value
                        }
                    }, function (_) {
                        resolve(value);
                    });
                }
                else {
                    localStorage.setItem(name, value);
                    resolve(value);
                }
            }
            catch (error) {
                reject(error);
            }
        });
    };
    /**
     * Получить поле настройки
     * @param name - String, name setting
     * **/
    SettingsStorage.prototype.getRow = function (name) {
        var _this = this;
        name = this.addition + name;
        return new Promise(function (resolve, reject) {
            try {
                var value_1;
                // For FF
                if (_this.isIframe && config_1.configurations.origin === 'ffextension' && config_1.configurations.isExtension) {
                    chrome.runtime.sendMessage({ getValueToLocalStorage: name }, function (response) {
                        value_1 = response;
                        resolve(value_1);
                    });
                }
                else {
                    value_1 = localStorage.getItem(name);
                    resolve(value_1);
                }
            }
            catch (error) {
                reject(error);
            }
        });
    };
    /**
     * Обновить настройку, если ее нет, то создаст новую
     * @param name - String, name setting
     * @param value - String, value setting
     * **/
    SettingsStorage.prototype.update = function (name, value) {
        var _this = this;
        if (value === void 0) { value = ''; }
        name = this.addition + name;
        return new Promise(function (resolve, reject) {
            try {
                if (typeof value === 'object')
                    value = JSON.stringify(value);
                // For FF
                if (_this.isIframe && config_1.configurations.origin === 'ffextension' && config_1.configurations.isExtension) {
                    chrome.runtime.sendMessage({
                        setValueToLocalStorage: {
                            'key': name,
                            'value': value
                        }
                    }, function (_) {
                        resolve(value);
                    });
                }
                else {
                    localStorage.setItem(name, value);
                    resolve(value);
                }
            }
            catch (error) {
                reject(error);
            }
        });
    };
    return SettingsStorage;
}());
exports.SettingsStorage = SettingsStorage;


/***/ }),

/***/ "./src/environments/environment.ts":
/*!*****************************************!*\
  !*** ./src/environments/environment.ts ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// The file contents for the current environment will overwrite these during build.
// The build system defaults to the dev environment which uses `environment.ts`, but if you do
// `ng build --env=prod` then `environment.prod.ts` will be used instead.
// The list of which env maps to which file can be found in `angular-cli.json`.
Object.defineProperty(exports, "__esModule", { value: true });
exports.environment = {
    production: false
};


/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var _this = this;
Object.defineProperty(exports, "__esModule", { value: true });
/*---------------------------------------------------------------------------
 * @Developer: Aleksey Romanov
 * @Project URI: www.domprog.com, www.sites4web.ru
 * @Copyright: DomProg
 *----------------------------------------------------------------------------
 */
__webpack_require__(/*! ./polyfills.ts */ "./src/polyfills.ts");
var core_1 = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var environment_1 = __webpack_require__(/*! ./environments/environment */ "./src/environments/environment.ts");
var __NgCli_bootstrap_1 = __webpack_require__(/*! ./app/app.module.ngfactory */ "./src/app/app.module.ngfactory.js");
var __NgCli_bootstrap_2 = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
// Fix for FireFox Incognito mode
// todo: Нужно переделать Storage!!!
var isFireFix = typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.indexOf('Firefox') > -1;
var isIncognito = typeof browser !== 'undefined' && browser.extension && browser.extension.inIncognitoContext;
var cid = localStorage.getItem('cid_extension');
(function () { return __awaiter(_this, void 0, void 0, function () {
    var storage, prop, _a;
    return __generator(this, function (_b) {
        switch (_b.label) {
            case 0:
                if (!(isFireFix && isIncognito && !cid)) return [3 /*break*/, 4];
                _b.label = 1;
            case 1:
                _b.trys.push([1, 3, , 4]);
                return [4 /*yield*/, browser.runtime.sendMessage({ getStorage: true })];
            case 2:
                storage = _b.sent();
                for (prop in storage) {
                    if (storage.hasOwnProperty(prop)) {
                        localStorage[prop] = storage[prop];
                    }
                }
                return [3 /*break*/, 4];
            case 3:
                _a = _b.sent();
                return [3 /*break*/, 4];
            case 4:
                // // Авторизация в режиме инкогнито в Firefox.
                // // todo: Переписать в версии 3.0
                // const GASUserInfo = localStorage.getItem(configurations.prefixStorage + 'GASUserInfo');
                // if (typeof browser !== 'undefined' && isFireFix && isIncognito && !GASUserInfo) {
                //     const cookies: any = {};
                //     try {
                //         const DeviceId = await browser.cookies.get({
                //             url: configurations.server,
                //             name: 'reverso.net.DeviceId',
                //         });
                //         if (typeof DeviceId !== 'undefined' && DeviceId !== null && DeviceId.value) {
                //             cookies.DeviceId = DeviceId.value || '';
                //         }
                //
                //         const ReversoRefreshToken = await browser.cookies.get({
                //             url: configurations.server,
                //             name: 'reverso.net.ReversoRefreshToken',
                //         });
                //         if (typeof ReversoRefreshToken !== 'undefined' && ReversoRefreshToken !== null && ReversoRefreshToken.value) {
                //             cookies.ReversoRefreshToken = ReversoRefreshToken.value || '';
                //         }
                //
                //         const ReversoAccessToken = await browser.cookies.get({
                //             url: configurations.server,
                //             name: 'reverso.net.ReversoAccessToken',
                //         });
                //         if (typeof ReversoAccessToken !== 'undefined' && ReversoAccessToken !== null && ReversoAccessToken.value) {
                //             cookies.ReversoAccessToken = ReversoAccessToken.value || '';
                //         }
                //         if (cookies.ReversoAccessToken && cookies.ReversoAccessToken) {
                //             localStorage.setItem(configurations.prefixStorage + 'cookiesReversoNet', JSON.stringify(cookies));
                //             browser.runtime.sendMessage({setCookiesAuth: {name: 'reverso.net.DeviceId', value: cookies.DeviceId}});
                //             browser.runtime.sendMessage({
                //                 setCookiesAuth: {
                //                     name: 'reverso.net.ReversoRefreshToken',
                //                     value: cookies.ReversoRefreshToken
                //                 }
                //             });
                //             browser.runtime.sendMessage({
                //                 setCookiesAuth: {
                //                     name: 'reverso.net.ReversoAccessToken',
                //                     value: cookies.ReversoAccessToken
                //                 }
                //             });
                //         }
                //     } catch {
                //     }
                // }
                if (environment_1.environment.production) {
                    core_1.enableProdMode();
                    // Удаляем консоли если флаг --prod
                    if (window) {
                        window.console.log = function () { return false; };
                        window.console.error = function () { return false; };
                        window.console.warn = function () { return false; };
                    }
                }
                __NgCli_bootstrap_2.platformBrowser().bootstrapModuleFactory(__NgCli_bootstrap_1.AppModuleNgFactory);
                return [2 /*return*/];
        }
    });
}); })();


/***/ }),

/***/ "./src/polyfills.ts":
/*!**************************!*\
  !*** ./src/polyfills.ts ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
// This file includes polyfills needed by Angular 2 and is loaded before
// the app. You can add your own extra polyfills to this file.
__webpack_require__(/*! core-js/es6/symbol */ "./node_modules/core-js/es6/symbol.js");
__webpack_require__(/*! core-js/es6/object */ "./node_modules/core-js/es6/object.js");
__webpack_require__(/*! core-js/es6/function */ "./node_modules/core-js/es6/function.js");
__webpack_require__(/*! core-js/es6/parse-int */ "./node_modules/core-js/es6/parse-int.js");
__webpack_require__(/*! core-js/es6/parse-float */ "./node_modules/core-js/es6/parse-float.js");
__webpack_require__(/*! core-js/es6/number */ "./node_modules/core-js/es6/number.js");
__webpack_require__(/*! core-js/es6/math */ "./node_modules/core-js/es6/math.js");
__webpack_require__(/*! core-js/es6/string */ "./node_modules/core-js/es6/string.js");
__webpack_require__(/*! core-js/es6/date */ "./node_modules/core-js/es6/date.js");
__webpack_require__(/*! core-js/es6/array */ "./node_modules/core-js/es6/array.js");
__webpack_require__(/*! core-js/es6/regexp */ "./node_modules/core-js/es6/regexp.js");
__webpack_require__(/*! core-js/es6/map */ "./node_modules/core-js/es6/map.js");
__webpack_require__(/*! core-js/es6/set */ "./node_modules/core-js/es6/set.js");
__webpack_require__(/*! core-js/es6/reflect */ "./node_modules/core-js/es6/reflect.js");
__webpack_require__(/*! core-js/es7/reflect */ "./node_modules/core-js/es7/reflect.js");
__webpack_require__(/*! zone.js/dist/zone */ "./node_modules/zone.js/dist/zone.js");


/***/ }),

/***/ "./src/scripts/content/classes/language.class.ts":
/*!*******************************************************!*\
  !*** ./src/scripts/content/classes/language.class.ts ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var configurations = __webpack_require__(/*! ./../../utils/config */ "./src/scripts/utils/config.ts");
var error_handling_1 = __webpack_require__(/*! ../../utils/error-handling */ "./src/scripts/utils/error-handling.ts");
var http_1 = __webpack_require__(/*! ../../utils/http */ "./src/scripts/utils/http.ts");
// Get source and target lang from site
var Language = /** @class */ (function () {
    function Language() {
        this.thisSource = null;
        this.langSupported = ['EN', 'FR', 'ES', 'DE', 'RU', 'IT'];
    }
    // Return language browser
    Language.prototype.userLanguage = function () {
        try {
            var lang = navigator['userLanguage'] || navigator.language;
            if (lang.length > 2)
                lang = lang.slice(0, 2);
            return this.langSupported.indexOf(lang.toUpperCase()) > -1 ? lang.toLowerCase() : this.langSupported[0].toLowerCase();
        }
        catch (error) {
            error_handling_1.ErrorHandling.send("language.class.ts -> Language -> userLanguage() : " + (error.stack ? error.stack : error));
        }
    };
    // Source language
    Language.prototype.source = function () {
        try {
            var localStorageLang = null;
            try {
                localStorageLang = localStorage.getItem('ReversoReader_langSource') ?
                    localStorage.getItem('ReversoReader_langSource').toLowerCase() :
                    null;
            }
            catch (error) {
            }
            var lang = localStorageLang ? localStorageLang.toLowerCase() :
                document.querySelector('html') && document.querySelector('html').getAttribute('lang') ?
                    document.querySelector('html').getAttribute('lang').toLowerCase() : null;
            if (!lang && document.querySelectorAll('meta').length > 0) {
                for (var i = 0; i < document.querySelectorAll('meta').length; i++) {
                    var item = document.querySelectorAll('meta')[i];
                    if (item && item.getAttribute && item.getAttribute('http-equiv') &&
                        item.getAttribute('http-equiv').toLowerCase() === 'content-language' &&
                        item.getAttribute('content') && item.getAttribute('content').trim() !== '') {
                        lang = item.getAttribute('content').toLowerCase();
                        break;
                    }
                }
            }
            lang = lang && lang.length > 2 ? lang.slice(0, 2) : lang;
            // TODO: RCE-361 Implement separation of the script for future possibilities
            // if (!lang) lang = 'en';
            return lang;
        }
        catch (error) {
            error_handling_1.ErrorHandling.send("language.class.ts -> Language -> source() : " + (error.stack ? error.stack : error));
        }
    };
    // Source language for subtitle
    Language.prototype.sourceSubtitle = function () {
        try {
            var localStorageLang = null;
            try {
                localStorageLang = localStorage.getItem('ReversoReader_langSourceSub') ?
                    localStorage.getItem('ReversoReader_langSourceSub').toLowerCase() :
                    null;
            }
            catch (error) {
            }
            if (!localStorageLang) {
                localStorage.setItem('ReversoReader_langSourceSub', 'en');
                localStorageLang = 'en';
            }
            localStorageLang = localStorageLang && localStorageLang.length > 2 ? localStorageLang.slice(0, 2) : localStorageLang;
            configurations.siteLang = localStorageLang;
            return localStorageLang;
        }
        catch (error) {
            error_handling_1.ErrorHandling.send("language.class.ts -> Language -> sourceSubtitle() : " + (error.stack ? error.stack : error));
        }
    };
    // Directions for subtitle
    Language.prototype.directionsSubtitle = function () {
        var _this = this;
        try {
            return new Promise(function (resolve, reject) {
                _this.target().then(function (res) {
                    var params = {
                        langSource: '',
                        langTarget: ''
                    };
                    params.langTarget = res;
                    params.langSource = _this.sourceSubtitle();
                    if (params.langSource === params.langTarget) {
                        _this.sourceFromPopup().then(function (source) {
                            if (source) {
                                params.langTarget = source;
                            }
                            else {
                                params.langTarget = params.langSource === 'en' ? 'fr' : 'en';
                            }
                            resolve(params);
                        });
                    }
                    else {
                        resolve(params);
                    }
                });
            });
        }
        catch (error) {
            error_handling_1.ErrorHandling.send("language.class.ts -> Language -> sourceSubtitle() : " + (error.stack ? error.stack : error));
        }
    };
    // Source language popup
    Language.prototype.sourceFromPopup = function () {
        try {
            return new Promise(function (resolve, reject) {
                if (typeof chrome !== 'undefined' && chrome.runtime && chrome.runtime.sendMessage) {
                    chrome.runtime.sendMessage({ getLangSource: true }, function (langSource) {
                        resolve(langSource);
                    });
                }
                else {
                    resolve(null);
                }
            });
        }
        catch (error) {
            error_handling_1.ErrorHandling.send("language.class.ts -> Language -> sourceFromPopup() : " + (error.stack ? error.stack : error));
        }
    };
    // Target language
    Language.prototype.target = function () {
        var _this = this;
        try {
            return new Promise(function (resolve, reject) {
                // Only for injectScript!!!
                if (!configurations['isExtension'] || (typeof chrome !== 'undefined' && !chrome.runtime.id)) {
                    var langTarget = localStorage.getItem('injectedScript_settings_lang_target');
                    if (!langTarget || langTarget === '') {
                        var source = _this.source();
                        langTarget = source ? (source === 'en' ? 'fr' : 'en') : configurations.nativeLang;
                    }
                    resolve(langTarget);
                }
                else if (typeof chrome !== 'undefined' && chrome.runtime && chrome.runtime.sendMessage) {
                    chrome.runtime.sendMessage({ getLangTarget: true }, function (langTarget) {
                        if (!langTarget || langTarget === '') {
                            var source = _this.source();
                            langTarget = source ? (source === 'en' ? 'fr' : 'en') : configurations.nativeLang;
                        }
                        resolve(langTarget);
                    });
                }
                else {
                    resolve(configurations.nativeLang);
                }
            });
        }
        catch (error) {
            error_handling_1.ErrorHandling.send("language.class.ts -> Language -> target() : " + (error.stack ? error.stack : error));
        }
    };
    Language.prototype.getLangCodeForReverso = function (source, target, directions) {
        if (directions === void 0) { directions = configurations.directions; }
        try {
            if (!directions)
                return null;
            if (!source || !target)
                return null;
            var code = null;
            for (var _i = 0, directions_1 = directions; _i < directions_1.length; _i++) {
                var dir = directions_1[_i];
                if (dir['id'].trim() === source.trim()) {
                    var _c = dir['targets'].filter(function (t) {
                        return t['id'] === target.trim();
                    });
                    if (_c.length > 0 && _c[0]['code'])
                        code = _c[0]['code'];
                }
            }
            return code;
        }
        catch (error) {
            error_handling_1.ErrorHandling.send("language.class.ts -> Language -> getLangCodeForReverso() : " + (error.stack ? error.stack : error));
        }
    };
    // Получить направленя языков
    Language.prototype.getDirections = function (refreshCache, uiLang) {
        if (refreshCache === void 0) { refreshCache = false; }
        if (uiLang === void 0) { uiLang = configurations.APP_LANG; }
        return __awaiter(this, void 0, void 0, function () {
            var body, dirs, http, e_1;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        // const _date: any = new Date();
                        // const cacheTime = _date.getTime();
                        if (configurations.directions) {
                            return [2 /*return*/, configurations.directions];
                        }
                        body = {
                            'origin': configurations.origin,
                            'uiLang': uiLang,
                            'version': configurations.version,
                        };
                        http = new http_1.Http();
                        _a.label = 1;
                    case 1:
                        _a.trys.push([1, 3, , 4]);
                        return [4 /*yield*/, http.postFetch(configurations.server + "/api" + configurations.apiVersion + "/GetDirections/" + uiLang, body)];
                    case 2:
                        dirs = _a.sent();
                        return [3 /*break*/, 4];
                    case 3:
                        e_1 = _a.sent();
                        console.error(e_1);
                        return [2 /*return*/, null];
                    case 4:
                        if (!dirs || !dirs.directions) {
                            return [2 /*return*/, null];
                        }
                        configurations.directions = dirs.directions;
                        return [2 /*return*/, dirs.directions];
                }
            });
        });
    };
    Language.prototype.checkTranslateTextCps = function (source, target) {
        return __awaiter(this, void 0, void 0, function () {
            var e_2, valid_1, _i, _a, dir;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        _b.trys.push([0, 2, , 3]);
                        return [4 /*yield*/, this.getDirections()];
                    case 1:
                        _b.sent();
                        return [3 /*break*/, 3];
                    case 2:
                        e_2 = _b.sent();
                        console.error(e_2);
                        return [3 /*break*/, 3];
                    case 3:
                        try {
                            if (!configurations.directions)
                                return [2 /*return*/, false];
                            if (!source || !target)
                                return [2 /*return*/, false];
                            valid_1 = false;
                            for (_i = 0, _a = configurations.directions; _i < _a.length; _i++) {
                                dir = _a[_i];
                                if (dir['id'].trim() === source.trim()) {
                                    dir['targets'].map(function (t) {
                                        if (t['id'].trim() === target.trim() && t['translateTextCps'] && t['translateTextCps'] === true) {
                                            valid_1 = true;
                                        }
                                    });
                                }
                            }
                            return [2 /*return*/, valid_1];
                        }
                        catch (error) {
                            error_handling_1.ErrorHandling.send("language.class.ts -> Language -> checkTranslateTextCps() : " + (error.stack ? error.stack : error));
                        }
                        return [2 /*return*/];
                }
            });
        });
    };
    return Language;
}());
exports.default = new Language();


/***/ }),

/***/ "./src/scripts/utils/auth.ts":
/*!***********************************!*\
  !*** ./src/scripts/utils/auth.ts ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
/*---------------------------------------------------------------------------
 * @Developer: Aleksey Romanov
 * @Project URI: www.domprog.com
 * @Copyright: DomProg
 *----------------------------------------------------------------------------
 */
var configurations = __webpack_require__(/*! ./config */ "./src/scripts/utils/config.ts");
var Auth = /** @class */ (function () {
    function Auth() {
    }
    Auth.prototype.checkFacebookWindow = function () {
        var _this = this;
        // window.location.reload(!0) :
        this.fb_window && this.fb_window.closed
            ? (window['location'].href = window['location'].origin + '/dist/index.html?navigateTo=options')
            : setTimeout(function () {
                _this.checkFacebookWindow();
            }, 100);
    };
    Auth.prototype.openFacebookWindow = function () {
        var _this = this;
        // const link = 'https://www.facebook.com/v3.2/dialog/oauth?client_id\x3d423104691034356\x26redirect_uri\x3d' + configurations.links.account_host + '/fblogin\x26display\x3dpopup\x26scope\x3demail,user_birthday\x26state\x3d' + configurations.settings_interface_lang + '_' + window.location.hostname + '_' + encodeURIComponent(document.location.href);
        var link = configurations.links.facebookLogin;
        this.fb_window = window.open(link, '', 'width\x3d650, height\x3d300, location\x3d0, status\x3d0, fullscreen\x3d0, resizable\x3d0, scrollbars\x3d0, toolbar\x3d0');
        setTimeout(function () {
            _this.checkFacebookWindow();
        }, 100);
    };
    Auth.prototype.checkGoogleWindow = function () {
        var _this = this;
        // window.location.reload(!0)
        this.google_window && this.google_window.closed
            ? (window['location'].href = window['location'].origin + '/dist/index.html?navigateTo=options')
            : setTimeout(function () {
                _this.checkGoogleWindow();
            }, 100);
    };
    Auth.prototype.openGoogleWindow = function () {
        var _this = this;
        // const link = 'https://accounts.google.com/o/oauth2/auth?response_type\x3dcode\x26client_id\x3d1003720621743-n4osgschbqsqg68380c5ru2kqd0j148m.apps.googleusercontent.com\x26redirect_uri\x3d' + configurations.links.account_host + 'glogin\x26scope\x3dopenid%20profile%20email\x26state\x3d' + configurations.settings_interface_lang + '_' + window.location.hostname + '_' + encodeURIComponent(document.location.href);
        var link = configurations.links.googleLogin;
        this.google_window = window.open(link, '', 'width\x3d380, height\x3d550, location\x3d0, status\x3d0, fullscreen\x3d0, resizable\x3d0, scrollbars\x3d0, toolbar\x3d0');
        setTimeout(function () {
            _this.checkGoogleWindow();
        }, 100);
    };
    return Auth;
}());
exports.Auth = Auth;
exports.default = new Auth();


/***/ }),

/***/ "./src/scripts/utils/config.ts":
/*!*************************************!*\
  !*** ./src/scripts/utils/config.ts ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

/*---------------------------------------------------------------------------
 * @Developer: Aleksey Romanov
 * @Project URI: www.domprog.com, www.sites4web.ru
 * @Copyright: DomProg
 *----------------------------------------------------------------------------
 */
/***
 * SETTINGS
 * ***/
__webpack_require__(/*! ./../../CONFIG */ "./src/CONFIG.js");
var direction_RR = !(typeof chrome !== 'undefined' && chrome.runtime && chrome.runtime.id) && self['CONFIG'].iframeUrl ?
    self['CONFIG'].iframeUrl :
    (navigator.userAgent.indexOf('Firefox') > -1 ?
        chrome.extension.getURL('/dist/') :
        "chrome-extension://" + chrome.runtime.id + "/dist/");
if (typeof safari !== 'undefined' && safari.extension && safari.extension.baseURI) {
    direction_RR = safari.extension.baseURI + 'extension/';
}
var subtitle_selector_1 = __webpack_require__(/*! ./subtitle-selector */ "./src/scripts/utils/subtitle-selector.ts");
var ɵ0 = function () {
    var langSupported = ['EN', 'FR', 'ES', 'DE', 'RU', 'IT'];
    var lang = navigator['userLanguage'] || navigator.language;
    if (lang.length > 2)
        lang = lang.slice(0, 2);
    return langSupported.indexOf(lang.toUpperCase()) > -1 ? lang.toLowerCase() : langSupported[0].toLowerCase();
};
var app_lang = (ɵ0)();
var ɵ1 = function () {
    var lang = navigator['userLanguage'] || navigator.language;
    if (lang.length > 2)
        lang = lang.slice(0, 2);
    return lang;
};
var nativeLang = (ɵ1)();
var origin = navigator.userAgent.indexOf('Firefox') > -1 ? 'ffextension' :
    navigator.userAgent.indexOf('Chrome') > -1 ? 'chromeextension' :
        navigator.userAgent.indexOf('Safari') > -1 ? 'safariextension' : 'mobileweb';
var makeGas2Link = function (_link, params) {
    var preprodPrefix = self['CONFIG'].server.indexOf('preprod') > -1 ? '.preprod' : '';
    var returnUrl = encodeURIComponent('https://' + origin + '.cps' + preprodPrefix + '.reverso.net/users/' + app_lang);
    var url = 'https://account'
        + preprodPrefix
        + _link
        + '?lang=' + app_lang
        + '&returnUrl=' + returnUrl;
    return url + (params ? params : '');
};
var ɵ2 = makeGas2Link;
var ɵ3 = function () {
    return new Promise(function (resolve, reject) {
        // chrome.runtime.id => Для того, что бы узнать расширение это или нет
        if (typeof chrome !== 'undefined' && chrome.runtime && chrome.runtime.id && chrome.runtime.sendMessage) {
            // TODO chrome
            chrome.runtime.sendMessage({ getSettings: true }, function (response) {
                for (var key in response) {
                    if (response.hasOwnProperty(key))
                        configurations[key] = response[key];
                }
                // Activate in pages in language of interface
                if (!configurations['settings_activation_mode_native_lang'] &&
                    configurations['settings_native_lang'] === configurations.siteLang) {
                    configurations['settings_activation_mode'] = 'none';
                }
                // Локальный режим главнее!
                var localMode = sessionStorage.getItem(configurations.prefixStorage + "settings_activation_mode");
                if (localMode)
                    configurations['settings_activation_mode'] = localMode;
                resolve(configurations);
            });
        }
        else {
            configurations['settings_activation_mode'] = configurations['activation_mode'];
            try {
                var gasProfile = localStorage.getItem(configurations.prefixStorage + "GASUserProfile");
                if (gasProfile) {
                    configurations['gas_profile'] = JSON.parse(gasProfile)['data'];
                }
            }
            catch (_a) {
            }
            // Activate in pages in language of interface
            if (!configurations['settings_activation_mode_native_lang'] &&
                configurations['settings_native_lang'] === configurations.siteLang) {
                configurations['settings_activation_mode'] = 'none';
            }
            // Локальный режим главнее!
            var localMode = sessionStorage.getItem(configurations.prefixStorage + "settings_activation_mode");
            if (localMode)
                configurations['settings_activation_mode'] = localMode;
            resolve(configurations);
        }
    });
};
var configurations = {
    isExtension: !!(typeof chrome !== 'undefined' && chrome.runtime && chrome.runtime.id) || !!(typeof safari !== 'undefined' && safari.extension && safari.extension.baseURI),
    server: self['CONFIG'].server,
    version: self['CONFIG'].version,
    prefixStorage: self['CONFIG'].prefixStorage,
    apiVersion: self['CONFIG'].apiVersion,
    wordCountLimit: self['CONFIG'].wordCountLimit,
    limitWholeText: self['CONFIG'].limitWholeText,
    gaTrackingId: self['CONFIG'].gaTrackingId,
    limitWordForReverso: self['CONFIG'].limitWordForReverso,
    limitWordForReversoHieroglyph: self['CONFIG'].limitWordForReversoHieroglyph,
    direction: direction_RR,
    extensionId: direction_RR + "index.html",
    keyCode_RR: 84,
    typeHighlight: 'background',
    settings_type_iframe: 'window',
    positionClick: {
        top: 100,
        left: 100,
        height: 36,
        width: 36
    },
    settings_interface_lang: app_lang,
    widthIframe: 668,
    widthIframeForSub: 320,
    heightIframe: 525,
    heightIframeMini: 90,
    openPdf: false,
    miniView: true,
    APP_LANG: app_lang,
    siteLang: null,
    displayControlsInterfaceLanguage: false,
    nativeLang: nativeLang,
    activation_mode: self['CONFIG'].activation_mode ? self['CONFIG'].activation_mode : 'showButtonTransl',
    viewerUrl: typeof chrome !== 'undefined' && chrome.extension && chrome.extension.getURL ? chrome.extension.getURL('content/web/viewer.html') : null,
    oneClick: {
        className: 'reverso-reader__oneclick',
        nodeName: 'oneclick',
        childNodesName: 'oneclickelement',
        doNotWrap: ['ONECLICK', 'SCRIPT', 'IFRAME', 'STYLE', 'PRE', 'tool-tip-for-link_RR', 'ONECLICK', 'ONECLICKELEMENT'],
        limitTags: 17000,
    },
    origin: origin,
    subtitleSelectors: subtitle_selector_1.default,
    subtitleSelector: null,
    directions: null,
    links: typeof self['CONFIG'].GAS2 !== 'undefined' && self['CONFIG'].GAS2 ? {
        // GAS 2 TEST
        login: makeGas2Link('.reverso.net/Account/Login'),
        logout: makeGas2Link('.reverso.net/Account/Logout'),
        register: makeGas2Link('.reverso.net/Account/Register'),
        facebookLogin: makeGas2Link('.reverso.net/Account/ExternalLogin', '&handler=Challenge&provider=Facebook'),
        googleLogin: makeGas2Link('.reverso.net/Account/ExternalLogin', '&handler=Challenge&provider=Google'),
    } : {
        login: 'https://account.reverso.net/login/' + origin + '/' + app_lang + '?returnUrl=' +
            self['CONFIG'].server + '/users/' + app_lang + '/Home/RecommendedSites',
        register: 'https://account.reverso.net/register/' + origin + '/' + app_lang + '?returnUrl=' +
            self['CONFIG'].server + '/users/' + app_lang + '/Home/RecommendedSites',
        logout: '',
        facebookLogin: self['CONFIG'].server + '/' + app_lang + '/gas/FacebookLogin?origin=' + origin,
        googleLogin: self['CONFIG'].server + '/' + app_lang + '/gas/GoogleLogin?origin=' + origin,
    },
    sitesForInstallSession: ['domprog.com', 'reverso.net', '.netflix.com', '.primevideo.com', '.youtube.com', '.ted.com'],
    ignoreSitesReadabilty: ['.reverso.net', 'www.netflix.com', 'www.primevideo.com', 'www.youtube.com', '.ted.com'],
    // Translate Paragraph
    translateParagraph: self['CONFIG'].translateParagraph,
    // Translate full page
    translatePage: self['CONFIG'].translatePage,
    update: ɵ3,
};
module.exports = configurations;
/***
 * END SETTINGS
 * ***/


/***/ }),

/***/ "./src/scripts/utils/error-handling.ts":
/*!*********************************************!*\
  !*** ./src/scripts/utils/error-handling.ts ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var configurations = __webpack_require__(/*! ./config */ "./src/scripts/utils/config.ts");
var ErrorHandling = /** @class */ (function () {
    function ErrorHandling() {
    }
    ErrorHandling.send = function (message) {
        if (message === void 0) { message = ''; }
        var selection = localStorage.getItem('SelectionForReversoReader');
        var body = JSON.stringify({
            'deviceId': configurations['cid_extension'],
            'origin': configurations.origin,
            'uiLang': configurations.nativeLang,
            'accessToken': configurations['gas_auth'] ? configurations['gas_auth']['accessToken'] : '',
            'Email': '',
            'Url': location.href || '',
            'UserAgent': navigator.userAgent || '',
            'FeedbackType': 5,
            'Comment': message,
            'SrcLang': selection ? selection['lang'] : '',
            'TrgLang': selection ? selection['langTarget'] : '',
            'Word': selection ? selection['word'] : '',
            'Sentence': selection ? selection['sentence'] : '',
            'version': configurations.version,
            'Rating': -1
        });
        var headers = new Headers({ 'Content-Type': 'application/json' });
        var options = {
            method: 'POST',
            mode: 'cors',
            cache: 'default',
            body: body,
            headers: headers,
        };
        fetch(configurations.server + "/api" + configurations.apiVersion + "/AddUserFeedback/", options)
            .then(function (response) { return response.json(); }).then(function (res) {
            throw new Error(message);
        }).catch(console.error);
    };
    return ErrorHandling;
}());
exports.ErrorHandling = ErrorHandling;


/***/ }),

/***/ "./src/scripts/utils/getProfile.ts":
/*!*****************************************!*\
  !*** ./src/scripts/utils/getProfile.ts ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.default = {
    'success': true,
    'error': false,
    'data': {
        'SavedBooks': 0,
        'SavedPages': 0,
        'RatingVisibility': false,
        'TotalRequestsLimit': 39,
        'DailyRequestsLimit': 39,
        'HistoryLimit': -1,
        'OfflineHistoryLimit': -1,
        'PhrasebookSize': -1,
        'NumberOfStoredWebPages': 0,
        'NumberOfStoredBooks': 0,
        'AdsVisiblility': true
    }
};


/***/ }),

/***/ "./src/scripts/utils/http.ts":
/*!***********************************!*\
  !*** ./src/scripts/utils/http.ts ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var error_handling_1 = __webpack_require__(/*! ./error-handling */ "./src/scripts/utils/error-handling.ts");
var Http = /** @class */ (function () {
    function Http() {
        this.xhr = new XMLHttpRequest();
        this.xhr.timeout = 35000;
    }
    Http.prototype.get = function (url, header) {
        var _this = this;
        try {
            return new Promise(function (resolve, reject) {
                _this.abort();
                _this.xhr.open('GET', url, true);
                if (header) {
                    for (var _i = 0, _a = Object['entries'](header); _i < _a.length; _i++) {
                        var _b = _a[_i], key = _b[0], value = _b[1];
                        _this.xhr.setRequestHeader(key, value);
                    }
                }
                if (!header || !header['Content-Type']) {
                    _this.xhr.setRequestHeader('Content-Type', 'application/json; charset=utf-8');
                }
                _this.xhr.onload = function (_) {
                    if (_this.xhr.status === 200) {
                        resolve(_this.xhr.response);
                    }
                    else {
                        var error = new Error(_this.xhr.statusText);
                        error['code'] = _this.xhr.status;
                        reject(error);
                    }
                };
                _this.xhr.onprogress = null;
                _this.xhr.onabort = function (error) { return reject(error); };
                _this.xhr.ontimeout = function (error) { return reject(error); };
                _this.xhr.onerror = function (error) { return reject(error); };
                _this.xhr.send();
            });
        }
        catch (error) {
            error_handling_1.ErrorHandling.send("http.ts -> Http -> get() : " + (error.stack ? error.stack : error));
        }
    };
    Http.prototype.post = function (url, body, header) {
        var _this = this;
        try {
            return new Promise(function (resolve, reject) {
                _this.abort();
                _this.xhr.open('POST', url, true);
                if (header) {
                    for (var _i = 0, _a = Object['entries'](header); _i < _a.length; _i++) {
                        var _b = _a[_i], key = _b[0], value = _b[1];
                        _this.xhr.setRequestHeader(key, value);
                    }
                }
                if (!header || !header['Content-Type']) {
                    _this.xhr.setRequestHeader('Content-Type', 'application/json; charset=utf-8');
                }
                _this.xhr.onload = function (_) {
                    if (_this.xhr.status === 200) {
                        resolve(_this.xhr.response);
                    }
                    else {
                        var error = new Error(_this.xhr.statusText);
                        error['code'] = _this.xhr.status;
                        reject(error);
                    }
                };
                _this.xhr.onprogress = null;
                // this.xhr.onabort = null;
                _this.xhr.onabort = function (error) { return reject(error); };
                _this.xhr.ontimeout = function (error) { return reject(error); };
                _this.xhr.onerror = function (error) { return reject(error); };
                var data = '';
                if (typeof body === 'string') {
                    data = body;
                }
                else {
                    for (var _c = 0, _d = Object['entries'](body); _c < _d.length; _c++) {
                        var _e = _d[_c], key = _e[0], value = _e[1];
                        data += key + "=" + value + "&";
                    }
                    data = data.slice(0, -1);
                }
                _this.xhr.send(data);
            });
        }
        catch (error) {
            error_handling_1.ErrorHandling.send("http.ts -> Http -> post() : " + (error.stack ? error.stack : error));
            // throw error;
        }
    };
    Http.prototype.abort = function () {
        try {
            if (!this.xhr)
                return;
            this.xhr.abort();
        }
        catch (error) {
            error_handling_1.ErrorHandling.send("http.ts -> Http -> abort() : " + (error.stack ? error.stack : error));
        }
    };
    Http.prototype.postFetch = function (url, body) {
        return __awaiter(this, void 0, void 0, function () {
            var headers, response, req, error_1;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        // return new Promise((resolve, reject) => {
                        this.abort();
                        headers = new Headers({
                            Connection: 'keep-alive',
                            Accept: '*/*',
                            'Content-Type': 'application/json',
                        });
                        _a.label = 1;
                    case 1:
                        _a.trys.push([1, 4, , 5]);
                        return [4 /*yield*/, fetch(url, {
                                headers: headers,
                                method: 'POST',
                                body: typeof body === 'string' ? body : JSON.stringify(body),
                                mode: 'cors',
                                cache: 'default',
                            })];
                    case 2:
                        response = _a.sent();
                        return [4 /*yield*/, response.json()];
                    case 3:
                        req = _a.sent();
                        return [2 /*return*/, req];
                    case 4:
                        error_1 = _a.sent();
                        // code === 20 this is abort http request
                        if (error_1.code && error_1.code === 20) {
                            throw null;
                        }
                        else {
                            throw error_1;
                        }
                        return [3 /*break*/, 5];
                    case 5: return [2 /*return*/];
                }
            });
        });
    };
    return Http;
}());
exports.Http = Http;


/***/ }),

/***/ "./src/scripts/utils/isHieroglyph.ts":
/*!*******************************************!*\
  !*** ./src/scripts/utils/isHieroglyph.ts ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
// Вернет иероглиф или нет
exports.default = (function (word) {
    var pHiragana = '[\\u3041-\\u3096\\u309D-\\u309F]|\\uD82C\\uDC01|\\uD83C\\uDE00';
    var pKatakana = '[\\u30A1-\\u30FA\\u30FD-\\u30FF\\u31F0-\\u31FF\\u32D0-\\u32FE\\u3300-\\u3357\\uFF66-\\uFF6F\\uFF71-\\uFF9D]|\\uD82C\\uDC00';
    var pHan = '[\\u2E80-\\u2E99\\u2E9B-\\u2EF3\\u2F00-\\u2FD5\\u3005\\u3007\\u3021-\\u3029\\u3038-\\u303B\\u3400-\\u4DB5\\u4E00-\\u9FD5\\uF900-\\uFA6D\\uFA70-\\uFAD9]|[\\uD840-\\uD868\\uD86A-\\uD86C\\uD86F-\\uD872][\\uDC00-\\uDFFF]|\\uD869[\\uDC00-\\uDED6\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF34\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D\\uDC20-\\uDFFF]|\\uD873[\\uDC00-\\uDEA1]|\\uD87E[\\uDC00-\\uDE1D]';
    var rx = new RegExp(pHiragana + '|' + pKatakana + '|' + pHan);
    return rx.test(word);
});


/***/ }),

/***/ "./src/scripts/utils/secondary-functions.ts":
/*!**************************************************!*\
  !*** ./src/scripts/utils/secondary-functions.ts ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
/***
 *   Вспомогательные функции которые не нуждаются в классе
 */
// Return isMobile
exports.isMobile = function () {
    var check = false;
    (function (a) {
        if (/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0, 4)))
            check = true;
    })(navigator.userAgent || navigator.vendor || window['opera']);
    return check;
};
// Return iframe or not this window
exports.isIframe = function () {
    try {
        return top.location !== self.location;
    }
    catch (_a) {
        return window.top === window;
    }
};
// instead innerHTML
exports.convertToDocFragment = function (tagString) {
    var range = document.createRange();
    range.selectNode(document.body); // required in Safari
    return range.createContextualFragment(tagString);
};
// Проверит не является ли элемент/родитель редактируемым
exports.isEditBox = function (node) {
    try {
        if (node.nodeName.toUpperCase() === 'INPUT' || node.nodeName.toUpperCase() === 'TEXTAREA')
            return true;
        var simpleRecursive_1 = function (index, nodeEl) {
            if (index < 4 && nodeEl) {
                if (nodeEl.getAttribute('data-editor') || nodeEl.getAttribute('contenteditable')) {
                    return true;
                }
                else {
                    if (nodeEl.parentNode) {
                        return simpleRecursive_1(++index, nodeEl.parentNode);
                    }
                    else {
                        return false;
                    }
                }
            }
            else {
                return false;
            }
        };
        return simpleRecursive_1(0, node);
    }
    catch (error) {
        return false;
    }
};
// Return isTouchScreen
exports.isTouchScreen = function () {
    // Проверка на тачь экрана
    try {
        return (('ontouchstart' in window) || window['DocumentTouch'] && document instanceof DocumentTouch);
    }
    catch (error) {
        return false;
    }
};
exports.insertAfter = function (elem, refElem) {
    return refElem.parentNode.insertBefore(elem, refElem.nextSibling);
};
exports.browser = (function () {
    return navigator.userAgent.indexOf('Firefox') > -1 ? 'Firefox' :
        navigator.userAgent.indexOf('Chrome') > -1 ? 'Chrome' :
            navigator.userAgent.indexOf('Safari') > -1 ? 'Safari' : 'mobileweb';
})();
exports.origin = (function () {
    return navigator.userAgent.indexOf('Firefox') > -1 ? 'ffextension' :
        navigator.userAgent.indexOf('Chrome') > -1 ? 'chromeextension' :
            navigator.userAgent.indexOf('Safari') > -1 ? 'safariextension' : 'mobileweb';
})();
// Get hash from location
exports.$_get = function (key) {
    var s = window.location.hash.match(new RegExp(key + '=([^&=]+)'));
    return s ? s[1] : false;
};
// Return all iframes
exports.getIframes = function () {
    // return window.frames;
    return document.querySelectorAll('iframe');
};
exports.createGuid = (function () {
    function s4() {
        return Math.floor((1 + Math.random()) * 0x10000)
            .toString(16)
            .substring(1);
    }
    return s4() + s4() + '-' + s4() + '-' + s4() + '-' +
        s4() + '-' + s4() + s4() + s4();
})();
function getLangPairInfo(source, target, directions) {
    try {
        // let directions = JSON.parse(localStorage.getItem(prefixStorage + 'cacheGetDirections'));
        if (!directions)
            return null;
        directions = directions.data.directions;
        if (!source || !target)
            return null;
        var langObj = {
            source: null,
            target: null,
        };
        for (var _i = 0, directions_1 = directions; _i < directions_1.length; _i++) {
            var s = directions_1[_i];
            if (s['id'].trim() === source.trim()) {
                langObj.source = s;
                for (var _a = 0, directions_2 = directions; _a < directions_2.length; _a++) {
                    var t = directions_2[_a];
                    if (t['id'].trim() === target.trim()) {
                        langObj.target = t;
                        break;
                    }
                }
                break;
            }
        }
        return langObj;
    }
    catch (error) {
        console.error('Error getNotification parse history: ', error);
        return null;
    }
}
exports.getLangPairInfo = getLangPairInfo;
function getMostUsedLangByHistory(history, targetLang) {
    var sourceLangCode;
    if (history) {
        try {
            var langCountObj_1 = {};
            history.forEach(function (el) {
                if (el.langSource !== targetLang) {
                    langCountObj_1[el.langSource] = langCountObj_1[el.langSource] ? langCountObj_1[el.langSource] + 1 : 1;
                }
            });
            var countTranslate = 0;
            for (var prop in langCountObj_1) {
                if (langCountObj_1.hasOwnProperty(prop)) {
                    if (countTranslate < langCountObj_1[prop]) {
                        countTranslate = langCountObj_1[prop];
                        sourceLangCode = prop;
                    }
                }
            }
        }
        catch (error) {
            console.error('Error getNotification parse history: ', error);
        }
    }
    return sourceLangCode;
}
exports.getMostUsedLangByHistory = getMostUsedLangByHistory;
// Получить номер недели в году
function getNumberOfWeek(date) {
    var today = date ? date : new Date();
    var firstDayOfYear = new Date(today.getFullYear(), 0, 1);
    var pastDaysOfYear = (today.getTime() - firstDayOfYear.getTime()) / 86400000;
    return Math.ceil((pastDaysOfYear + firstDayOfYear.getDay() + 1) / 7);
}
exports.getNumberOfWeek = getNumberOfWeek;


/***/ }),

/***/ "./src/scripts/utils/subtitle-selector.ts":
/*!************************************************!*\
  !*** ./src/scripts/utils/subtitle-selector.ts ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.default = [
    // {
    //     name: 'netflix',
    //     host: 'www.netflix.com',
    //     video: '.AkiraPlayer video',
    //     subtitleObserver: '.AkiraPlayer .player-timedtext',
    //     subtitleText: '.AkiraPlayer .player-timedtext',
    //     subtitlePosition: '.AkiraPlayer .player-timedtext-text-container',
    //     subtitleSVG: '.AkiraPlayer .image-based-timed-text svg',
    //     controlsFullHitZone: '.controls-full-hit-zone', // <= Думку думать на счет его
    //     controlSubtitleBtn: '#nevajno-eto-prosto-tak',
    //     css: `.nfp .controls:before { display: none; } .player-timedtext {z-index: 2;}
    //      .nfp.nf-player-container {user-select: text !important;} .player-timedtext {opacity: 0!important;}
    //      .nfp .controls.legacy-controls-styles .skip-credits, .PlayerControlsNeo__layout .PlayerControlsNeo__bottom-controls {z-index: 2;}`,
    //     videoTitle: '.video-title .ellipsize-text',
    //     // videoTitle: '.AkiraPlayer .video-title h4',
    //     insertBlock: '.sizing-wrapper .VideoContainer',
    //     ourSubtitleContainer: '#Reverso_extension__subtitle-container',
    //     subtitlesBufferCount: 5,
    //     playerObserver: '.AkiraPlayer',
    // },
    {
        name: 'netflix',
        host: 'www.netflix.com',
        video: '.watch-video--player-view video',
        subtitleObserver: '.watch-video--player-view .player-timedtext',
        subtitleText: '.watch-video--player-view .player-timedtext',
        subtitlePosition: '.watch-video--player-view .player-timedtext-text-container',
        subtitleSVG: '.watch-video--player-view .image-based-timed-text svg',
        controlsFullHitZone: '.controls-full-hit-zone',
        controlSubtitleBtn: '#nevajno-eto-prosto-tak',
        css: ".nfp .controls:before { display: none; } .player-timedtext {z-index: 2;}\n         .nfp.nf-player-container {user-select: text !important;} .player-timedtext {opacity: 0!important;}\n         .nfp .controls.legacy-controls-styles .skip-credits, .PlayerControlsNeo__layout .PlayerControlsNeo__bottom-controls {z-index: 2;}",
        videoTitle: '.video-title .ellipsize-text',
        // videoTitle: 'watch-video--player-view .video-title h4',
        insertBlock: '.watch-video',
        ourSubtitleContainer: '#Reverso_extension__subtitle-container',
        subtitlesBufferCount: 5,
        playerObserver: '.watch-video--player-view',
    },
    {
        name: 'amazon',
        host: 'www.primevideo.com',
        video: '.webPlayerElement video[src]',
        // subtitleObserver: '.webPlayer .controlsOverlay .persistentPanel > div',
        // subtitleText: '.persistentPanel .captions > div',
        // subtitlePosition: '.persistentPanel .captions > div .timedTextWindow',
        // subtitleText: '.webPlayer .controlsOverlay .persistentPanel > div',
        // subtitlePosition: '.webPlayer .controlsOverlay .persistentPanel > div p, .webPlayer .controlsOverlay .persistentPanel > div span',
        subtitleText: '.webPlayer .controlsOverlay .persistentPanel > div, ' +
            '#dv-web-player div.webPlayerSDKUiContainer div[style] > p',
        subtitlePosition: '.webPlayer .controlsOverlay .persistentPanel > div, ' +
            '#dv-web-player div.webPlayerSDKUiContainer div[style] > p',
        subtitleObserver: '.webPlayer .controlsOverlay .persistentPanel, ' +
            '#dv-web-player div.webPlayerSDKUiContainer div > div',
        subtitleSVG: '.svgewka',
        controlsFullHitZone: '.uiElement',
        controlSubtitleBtn: '#nevajno-eto-prosto-tak',
        css: ".persistentPanel .captions > div .timedTextWindow {z-index: 2; pointer-events: auto;}\n        .cascadesContainer {user-select: text !important;}\n        .persistentPanel .captions > div {opacity: 0!important;}\n        .webPlayer .controlsOverlay .persistentPanel > div,\n        #dv-web-player div.webPlayerSDKUiContainer div[style] > p {opacity: 0!important;}\n        ",
        videoTitle: '.contentTitlePanel',
        // insertBlock: '#dv-web-player .cascadesContainer',
        insertBlock: '#dv-web-player div.webPlayerSDKUiContainer',
        // insertBlock: '#dv-web-player',
        ourSubtitleContainer: '#Reverso_extension__subtitle-container',
        subtitlesBufferCount: 5,
        playerObserver: '#nevajno-eto-prosto-tak',
    },
    {
        name: 'youtube',
        host: 'www.youtube.com',
        video: '#player-container video[src]',
        subtitleObserver: '#player-container .html5-video-player',
        subtitleText: '#player-container .captions-text',
        subtitlePosition: '#nevajno-eto-prosto-tak',
        subtitleSVG: '#nevajno-eto-prosto-tak',
        controlsFullHitZone: '#nevajno-eto-prosto-tak',
        controlSubtitleBtn: '#player-container .ytp-subtitles-button[aria-pressed=true]',
        css: '' +
            '#Reverso_extension__subtitle-container {z-index: 10!important;}' +
            '#player-container .captions-text {z-index: -999!important; opacity: 0!important;}' +
            '#Reverso_extension__subtitle-container #change-sub-arr-l, #Reverso_extension__subtitle-container #change-sub-arr-r { height: 26px!important; width: 26px!important; top: calc(50% - 13px)!important; }' +
            '#Reverso_extension__subtitle-container {font-size: 150%!important; line-height: 150%!important; position: absolute!important; left: 10%!important; width: 80%!important; max-width: 80%!important; min-height: 12%!important; bottom: 18%!important;}' +
            '#change-sub-cloak {height: 100%!important; width: 100%!important; position: absolute!important;z-index: 10!important;}' +
            '#Reverso_extension__translate_sub_hint {font-size: 100%!important; line-height: 150%!important;}' +
            '.caption-window.ytp-caption-window-bottom.ytp-caption-window-rollup {z-index: -999!important; opacity: 0!important;}',
        videoTitle: 'title',
        insertBlock: '#player-container .html5-video-player',
        ourSubtitleContainer: '#Reverso_extension__subtitle-container',
        subtitlesBufferCount: 5,
        playerObserver: '#nevajno-eto-prosto-tak',
    },
    {
        name: 'ted',
        host: 'www.ted.com',
        video: '#ted-player video[id*=ted-player][src]',
        subtitleObserver: '#video-container #ted-player',
        subtitleText: '#ted-player div[dir]',
        subtitlePosition: '#nevajno-eto-prosto-tak',
        subtitleSVG: '#nevajno-eto-prosto-tak',
        controlsFullHitZone: '#nevajno-eto-prosto-tak',
        controlSubtitleBtn: '#ted-player button[title]',
        css: '' +
            '#Reverso_extension__subtitle-container {z-index: 1!important;}' +
            '#ted-player div[dir] {z-index: -999; opacity: 0;}' +
            '#Reverso_extension__subtitle-container #change-sub-arr-l, #Reverso_extension__subtitle-container #change-sub-arr-r { height: 26px!important; width: 26px!important; top: calc(50% - 13px)!important; }' +
            '#Reverso_extension__subtitle-container {font-size: 150%!important; line-height: 150%!important; position: absolute!important; left: 10%!important; width: 80%!important; max-width: 80%!important; min-height: 12%!important; bottom: 18%!important;}' +
            '#change-sub-cloak {height: 100%!important; width: 100%!important; position: absolute!important;z-index: 1!important;}' +
            '#Reverso_extension__translate_sub_hint {font-size: 100%!important; line-height: 150%!important;}',
        videoTitle: 'title',
        insertBlock: '#video-container #ted-player',
        ourSubtitleContainer: '#Reverso_extension__subtitle-container',
        subtitlesBufferCount: 5,
        playerObserver: '#nevajno-eto-prosto-tak',
    },
];


/***/ }),

/***/ 0:
/*!***************************!*\
  !*** multi ./src/main.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! /Users/ilia/Documents/Projects/context-clients/Extensions/Deployment/ionic/src/main.ts */"./src/main.ts");


/***/ })

},[[0,"runtime","vendor"]]]);
//# sourceMappingURL=main.js.map
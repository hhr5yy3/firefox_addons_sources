(() => {
var H=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var et=H((Ht,tt)=>{"use strict";var j=Object.defineProperty,at=Object.getOwnPropertyDescriptor,ot=Object.getOwnPropertyNames,ht=Object.prototype.hasOwnProperty,ut=(t,e)=>{for(var r in e)j(t,r,{get:e[r],enumerable:!0})},pt=(t,e,r,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of ot(e))!ht.call(t,o)&&o!==r&&j(t,o,{get:()=>e[o],enumerable:!(i=at(e,o))||i.enumerable});return t},ct=t=>pt(j({},"__esModule",{value:!0}),t),W={};ut(W,{URLPattern:()=>Dt});tt.exports=ct(W);var P=class{type=3;name="";prefix="";value="";suffix="";modifier=3;constructor(t,e,r,i,o,u){this.type=t,this.name=e,this.prefix=r,this.value=i,this.suffix=o,this.modifier=u}hasCustomName(){return this.name!==""&&typeof this.name!="number"}},lt=/[$_\p{ID_Start}]/u,ft=/[$_\u200C\u200D\p{ID_Continue}]/u,S=".*";function mt(t,e){return(e?/^[\x00-\xFF]*$/:/^[\x00-\x7F]*$/).test(t)}function G(t,e=!1){let r=[],i=0;for(;i<t.length;){let o=t[i],u=function(a){if(!e)throw new TypeError(a);r.push({type:"INVALID_CHAR",index:i,value:t[i++]})};if(o==="*"){r.push({type:"ASTERISK",index:i,value:t[i++]});continue}if(o==="+"||o==="?"){r.push({type:"OTHER_MODIFIER",index:i,value:t[i++]});continue}if(o==="\\"){r.push({type:"ESCAPED_CHAR",index:i++,value:t[i++]});continue}if(o==="{"){r.push({type:"OPEN",index:i,value:t[i++]});continue}if(o==="}"){r.push({type:"CLOSE",index:i,value:t[i++]});continue}if(o===":"){let a="",s=i+1;for(;s<t.length;){let h=t.substr(s,1);if(s===i+1&&lt.test(h)||s!==i+1&&ft.test(h)){a+=t[s++];continue}break}if(!a){u(`Missing parameter name at ${i}`);continue}r.push({type:"NAME",index:i,value:a}),i=s;continue}if(o==="("){let a=1,s="",h=i+1,n=!1;if(t[h]==="?"){u(`Pattern cannot start with "?" at ${h}`);continue}for(;h<t.length;){if(!mt(t[h],!1)){u(`Invalid character '${t[h]}' at ${h}.`),n=!0;break}if(t[h]==="\\"){s+=t[h++]+t[h++];continue}if(t[h]===")"){if(a--,a===0){h++;break}}else if(t[h]==="("&&(a++,t[h+1]!=="?")){u(`Capturing groups are not allowed at ${h}`),n=!0;break}s+=t[h++]}if(n)continue;if(a){u(`Unbalanced pattern at ${i}`);continue}if(!s){u(`Missing pattern at ${i}`);continue}r.push({type:"REGEX",index:i,value:s}),i=h;continue}r.push({type:"CHAR",index:i,value:t[i++]})}return r.push({type:"END",index:i,value:""}),r}function K(t,e={}){let r=G(t);e.delimiter??="/#?",e.prefixes??="./";let i=`[^${d(e.delimiter)}]+?`,o=[],u=0,a=0,s="",h=new Set,n=p=>{if(a<r.length&&r[a].type===p)return r[a++].value},l=()=>n("OTHER_MODIFIER")??n("ASTERISK"),y=p=>{let c=n(p);if(c!==void 0)return c;let{type:f,index:R}=r[a];throw new TypeError(`Unexpected ${f} at ${R}, expected ${p}`)},E=()=>{let p="",c;for(;c=n("CHAR")??n("ESCAPED_CHAR");)p+=c;return p},nt=p=>p,A=e.encodePart||nt,T="",_=p=>{T+=p},U=()=>{T.length&&(o.push(new P(3,"","",A(T),"",3)),T="")},N=(p,c,f,R,w)=>{let g=3;switch(w){case"?":g=1;break;case"*":g=0;break;case"+":g=2;break}if(!c&&!f&&g===3){_(p);return}if(U(),!c&&!f){if(!p)return;o.push(new P(3,"","",A(p),"",g));return}let m;f?f==="*"?m=S:m=f:m=i;let C=2;m===i?(C=1,m=""):m===S&&(C=0,m="");let b;if(c?b=c:f&&(b=u++),h.has(b))throw new TypeError(`Duplicate name '${b}'.`);h.add(b),o.push(new P(C,b,A(p),m,A(R),g))};for(;a<r.length;){let p=n("CHAR"),c=n("NAME"),f=n("REGEX");if(!c&&!f&&(f=n("ASTERISK")),c||f){let w=p??"";e.prefixes.indexOf(w)===-1&&(_(w),w=""),U();let g=l();N(w,c,f,"",g);continue}let R=p??n("ESCAPED_CHAR");if(R){_(R);continue}if(n("OPEN")){let w=E(),g=n("NAME"),m=n("REGEX");!g&&!m&&(m=n("ASTERISK"));let C=E();y("CLOSE");let b=l();N(w,g,m,C,b);continue}U(),y("END")}return o}function d(t){return t.replace(/([.+*?^${}()[\]|/\\])/g,"\\$1")}function M(t){return t&&t.ignoreCase?"ui":"u"}function dt(t,e,r){return X(K(t,r),e,r)}function k(t){switch(t){case 0:return"*";case 1:return"?";case 2:return"+";case 3:return""}}function X(t,e,r={}){r.delimiter??="/#?",r.prefixes??="./",r.sensitive??=!1,r.strict??=!1,r.end??=!0,r.start??=!0,r.endsWith="";let i=r.start?"^":"";for(let s of t){if(s.type===3){s.modifier===3?i+=d(s.value):i+=`(?:${d(s.value)})${k(s.modifier)}`;continue}e&&e.push(s.name);let h=`[^${d(r.delimiter)}]+?`,n=s.value;if(s.type===1?n=h:s.type===0&&(n=S),!s.prefix.length&&!s.suffix.length){s.modifier===3||s.modifier===1?i+=`(${n})${k(s.modifier)}`:i+=`((?:${n})${k(s.modifier)})`;continue}if(s.modifier===3||s.modifier===1){i+=`(?:${d(s.prefix)}(${n})${d(s.suffix)})`,i+=k(s.modifier);continue}i+=`(?:${d(s.prefix)}`,i+=`((?:${n})(?:`,i+=d(s.suffix),i+=d(s.prefix),i+=`(?:${n}))*)${d(s.suffix)})`,s.modifier===0&&(i+="?")}let o=`[${d(r.endsWith)}]|$`,u=`[${d(r.delimiter)}]`;if(r.end)return r.strict||(i+=`${u}?`),r.endsWith.length?i+=`(?=${o})`:i+="$",new RegExp(i,M(r));r.strict||(i+=`(?:${u}(?=${o}))?`);let a=!1;if(t.length){let s=t[t.length-1];s.type===3&&s.modifier===3&&(a=r.delimiter.indexOf(s)>-1)}return a||(i+=`(?=${u}|${o})`),new RegExp(i,M(r))}var $={delimiter:"",prefixes:"",sensitive:!0,strict:!0},gt={delimiter:".",prefixes:"",sensitive:!0,strict:!0},yt={delimiter:"/",prefixes:"/",sensitive:!0,strict:!0};function vt(t,e){return t.length?t[0]==="/"?!0:!e||t.length<2?!1:(t[0]=="\\"||t[0]=="{")&&t[1]=="/":!1}function q(t,e){return t.startsWith(e)?t.substring(e.length,t.length):t}function wt(t,e){return t.endsWith(e)?t.substr(0,t.length-e.length):t}function V(t){return!t||t.length<2?!1:t[0]==="["||(t[0]==="\\"||t[0]==="{")&&t[1]==="["}var z=["ftp","file","http","https","ws","wss"];function B(t){if(!t)return!0;for(let e of z)if(t.test(e))return!0;return!1}function bt(t,e){if(t=q(t,"#"),e||t==="")return t;let r=new URL("https://example.com");return r.hash=t,r.hash?r.hash.substring(1,r.hash.length):""}function xt(t,e){if(t=q(t,"?"),e||t==="")return t;let r=new URL("https://example.com");return r.search=t,r.search?r.search.substring(1,r.search.length):""}function $t(t,e){return e||t===""?t:V(t)?Y(t):Q(t)}function Et(t,e){if(e||t==="")return t;let r=new URL("https://example.com");return r.password=t,r.password}function Rt(t,e){if(e||t==="")return t;let r=new URL("https://example.com");return r.username=t,r.username}function kt(t,e,r){if(r||t==="")return t;if(e&&!z.includes(e))return new URL(`${e}:${t}`).pathname;let i=t[0]=="/";return t=new URL(i?t:"/-"+t,"https://example.com").pathname,i||(t=t.substring(2,t.length)),t}function Ct(t,e,r){return J(e)===t&&(t=""),r||t===""?t:Z(t)}function Lt(t,e){return t=wt(t,":"),e||t===""?t:D(t)}function J(t){switch(t){case"ws":case"http":return"80";case"wws":case"https":return"443";case"ftp":return"21";default:return""}}function D(t){if(t==="")return t;if(/^[-+.A-Za-z0-9]*$/.test(t))return t.toLowerCase();throw new TypeError(`Invalid protocol '${t}'.`)}function Ot(t){if(t==="")return t;let e=new URL("https://example.com");return e.username=t,e.username}function Pt(t){if(t==="")return t;let e=new URL("https://example.com");return e.password=t,e.password}function Q(t){if(t==="")return t;if(/[\t\n\r #%/:<>?@[\]^\\|]/g.test(t))throw new TypeError(`Invalid hostname '${t}'`);let e=new URL("https://example.com");return e.hostname=t,e.hostname}function Y(t){if(t==="")return t;if(/[^0-9a-fA-F[\]:]/g.test(t))throw new TypeError(`Invalid IPv6 hostname '${t}'`);return t.toLowerCase()}function Z(t){if(t===""||/^[0-9]*$/.test(t)&&parseInt(t)<=65535)return t;throw new TypeError(`Invalid port '${t}'.`)}function At(t){if(t==="")return t;let e=new URL("https://example.com");return e.pathname=t[0]!=="/"?"/-"+t:t,t[0]!=="/"?e.pathname.substring(2,e.pathname.length):e.pathname}function Tt(t){return t===""?t:new URL(`data:${t}`).pathname}function _t(t){if(t==="")return t;let e=new URL("https://example.com");return e.search=t,e.search.substring(1,e.search.length)}function Ut(t){if(t==="")return t;let e=new URL("https://example.com");return e.hash=t,e.hash.substring(1,e.hash.length)}var It=class{#n;#s=[];#e={};#t=0;#i=1;#u=0;#o=0;#f=0;#m=0;#d=!1;constructor(t){this.#n=t}get result(){return this.#e}parse(){for(this.#s=G(this.#n,!0);this.#t<this.#s.length;this.#t+=this.#i){if(this.#i=1,this.#s[this.#t].type==="END"){if(this.#o===0){this.#w(),this.#p()?this.#r(9,1):this.#c()?this.#r(8,1):this.#r(7,0);continue}else if(this.#o===2){this.#l(5);continue}this.#r(10,0);break}if(this.#f>0)if(this.#C())this.#f-=1;else continue;if(this.#k()){this.#f+=1;continue}switch(this.#o){case 0:this.#b()&&this.#l(1);break;case 1:if(this.#b()){this.#P();let t=7,e=1;this.#$()?(t=2,e=3):this.#d&&(t=2),this.#r(t,e)}break;case 2:this.#y()?this.#l(3):(this.#v()||this.#c()||this.#p())&&this.#l(5);break;case 3:this.#E()?this.#r(4,1):this.#y()&&this.#r(5,1);break;case 4:this.#y()&&this.#r(5,1);break;case 5:this.#L()?this.#m+=1:this.#O()&&(this.#m-=1),this.#R()&&!this.#m?this.#r(6,1):this.#v()?this.#r(7,0):this.#c()?this.#r(8,1):this.#p()&&this.#r(9,1);break;case 6:this.#v()?this.#r(7,0):this.#c()?this.#r(8,1):this.#p()&&this.#r(9,1);break;case 7:this.#c()?this.#r(8,1):this.#p()&&this.#r(9,1);break;case 8:this.#p()&&this.#r(9,1);break;case 9:break;case 10:break}}this.#e.hostname!==void 0&&this.#e.port===void 0&&(this.#e.port="")}#r(t,e){switch(this.#o){case 0:break;case 1:this.#e.protocol=this.#h();break;case 2:break;case 3:this.#e.username=this.#h();break;case 4:this.#e.password=this.#h();break;case 5:this.#e.hostname=this.#h();break;case 6:this.#e.port=this.#h();break;case 7:this.#e.pathname=this.#h();break;case 8:this.#e.search=this.#h();break;case 9:this.#e.hash=this.#h();break;case 10:break}this.#o!==0&&t!==10&&([1,2,3,4].includes(this.#o)&&[6,7,8,9].includes(t)&&(this.#e.hostname??=""),[1,2,3,4,5,6].includes(this.#o)&&[8,9].includes(t)&&(this.#e.pathname??=this.#d?"/":""),[1,2,3,4,5,6,7].includes(this.#o)&&t===9&&(this.#e.search??="")),this.#x(t,e)}#x(t,e){this.#o=t,this.#u=this.#t+e,this.#t+=e,this.#i=0}#w(){this.#t=this.#u,this.#i=0}#l(t){this.#w(),this.#o=t}#g(t){return t<0&&(t=this.#s.length-t),t<this.#s.length?this.#s[t]:this.#s[this.#s.length-1]}#a(t,e){let r=this.#g(t);return r.value===e&&(r.type==="CHAR"||r.type==="ESCAPED_CHAR"||r.type==="INVALID_CHAR")}#b(){return this.#a(this.#t,":")}#$(){return this.#a(this.#t+1,"/")&&this.#a(this.#t+2,"/")}#y(){return this.#a(this.#t,"@")}#E(){return this.#a(this.#t,":")}#R(){return this.#a(this.#t,":")}#v(){return this.#a(this.#t,"/")}#c(){if(this.#a(this.#t,"?"))return!0;if(this.#s[this.#t].value!=="?")return!1;let t=this.#g(this.#t-1);return t.type!=="NAME"&&t.type!=="REGEX"&&t.type!=="CLOSE"&&t.type!=="ASTERISK"}#p(){return this.#a(this.#t,"#")}#k(){return this.#s[this.#t].type=="OPEN"}#C(){return this.#s[this.#t].type=="CLOSE"}#L(){return this.#a(this.#t,"[")}#O(){return this.#a(this.#t,"]")}#h(){let t=this.#s[this.#t],e=this.#g(this.#u).index;return this.#n.substring(e,t.index)}#P(){let t={};Object.assign(t,$),t.encodePart=D;let e=dt(this.#h(),void 0,t);this.#d=B(e)}},I=["protocol","username","password","hostname","port","pathname","search","hash"],x="*";function F(t,e){if(typeof t!="string")throw new TypeError("parameter 1 is not of type 'string'.");let r=new URL(t,e);return{protocol:r.protocol.substring(0,r.protocol.length-1),username:r.username,password:r.password,hostname:r.hostname,port:r.port,pathname:r.pathname,search:r.search!==""?r.search.substring(1,r.search.length):void 0,hash:r.hash!==""?r.hash.substring(1,r.hash.length):void 0}}function v(t,e){return e?O(t):t}function L(t,e,r){let i;if(typeof e.baseURL=="string")try{i=new URL(e.baseURL),e.protocol===void 0&&(t.protocol=v(i.protocol.substring(0,i.protocol.length-1),r)),!r&&e.protocol===void 0&&e.hostname===void 0&&e.port===void 0&&e.username===void 0&&(t.username=v(i.username,r)),!r&&e.protocol===void 0&&e.hostname===void 0&&e.port===void 0&&e.username===void 0&&e.password===void 0&&(t.password=v(i.password,r)),e.protocol===void 0&&e.hostname===void 0&&(t.hostname=v(i.hostname,r)),e.protocol===void 0&&e.hostname===void 0&&e.port===void 0&&(t.port=v(i.port,r)),e.protocol===void 0&&e.hostname===void 0&&e.port===void 0&&e.pathname===void 0&&(t.pathname=v(i.pathname,r)),e.protocol===void 0&&e.hostname===void 0&&e.port===void 0&&e.pathname===void 0&&e.search===void 0&&(t.search=v(i.search.substring(1,i.search.length),r)),e.protocol===void 0&&e.hostname===void 0&&e.port===void 0&&e.pathname===void 0&&e.search===void 0&&e.hash===void 0&&(t.hash=v(i.hash.substring(1,i.hash.length),r))}catch{throw new TypeError(`invalid baseURL '${e.baseURL}'.`)}if(typeof e.protocol=="string"&&(t.protocol=Lt(e.protocol,r)),typeof e.username=="string"&&(t.username=Rt(e.username,r)),typeof e.password=="string"&&(t.password=Et(e.password,r)),typeof e.hostname=="string"&&(t.hostname=$t(e.hostname,r)),typeof e.port=="string"&&(t.port=Ct(e.port,t.protocol,r)),typeof e.pathname=="string"){if(t.pathname=e.pathname,i&&!vt(t.pathname,r)){let o=i.pathname.lastIndexOf("/");o>=0&&(t.pathname=v(i.pathname.substring(0,o+1),r)+t.pathname)}t.pathname=kt(t.pathname,t.protocol,r)}return typeof e.search=="string"&&(t.search=xt(e.search,r)),typeof e.hash=="string"&&(t.hash=bt(e.hash,r)),t}function O(t){return t.replace(/([+*?:{}()\\])/g,"\\$1")}function St(t){return t.replace(/([.+*?^${}()[\]|/\\])/g,"\\$1")}function jt(t,e){e.delimiter??="/#?",e.prefixes??="./",e.sensitive??=!1,e.strict??=!1,e.end??=!0,e.start??=!0,e.endsWith="";let r=".*",i=`[^${St(e.delimiter)}]+?`,o=/[$_\u200C\u200D\p{ID_Continue}]/u,u="";for(let a=0;a<t.length;++a){let s=t[a];if(s.type===3){if(s.modifier===3){u+=O(s.value);continue}u+=`{${O(s.value)}}${k(s.modifier)}`;continue}let h=s.hasCustomName(),n=!!s.suffix.length||!!s.prefix.length&&(s.prefix.length!==1||!e.prefixes.includes(s.prefix)),l=a>0?t[a-1]:null,y=a<t.length-1?t[a+1]:null;if(!n&&h&&s.type===1&&s.modifier===3&&y&&!y.prefix.length&&!y.suffix.length)if(y.type===3){let E=y.value.length>0?y.value[0]:"";n=o.test(E)}else n=!y.hasCustomName();if(!n&&!s.prefix.length&&l&&l.type===3){let E=l.value[l.value.length-1];n=e.prefixes.includes(E)}n&&(u+="{"),u+=O(s.prefix),h&&(u+=`:${s.name}`),s.type===2?u+=`(${s.value})`:s.type===1?h||(u+=`(${i})`):s.type===0&&(!h&&(!l||l.type===3||l.modifier!==3||n||s.prefix!=="")?u+="*":u+=`(${r})`),s.type===1&&h&&s.suffix.length&&o.test(s.suffix[0])&&(u+="\\"),u+=O(s.suffix),n&&(u+="}"),s.modifier!==3&&(u+=k(s.modifier))}return u}var Dt=class{#n;#s={};#e={};#t={};#i={};#u=!1;constructor(t={},e,r){try{let i;if(typeof e=="string"?i=e:r=e,typeof t=="string"){let s=new It(t);if(s.parse(),t=s.result,i===void 0&&typeof t.protocol!="string")throw new TypeError("A base URL must be provided for a relative constructor string.");t.baseURL=i}else{if(!t||typeof t!="object")throw new TypeError("parameter 1 is not of type 'string' and cannot convert to dictionary.");if(i)throw new TypeError("parameter 1 is not of type 'string'.")}typeof r>"u"&&(r={ignoreCase:!1});let o={ignoreCase:r.ignoreCase===!0},u={pathname:x,protocol:x,username:x,password:x,hostname:x,port:x,search:x,hash:x};this.#n=L(u,t,!0),J(this.#n.protocol)===this.#n.port&&(this.#n.port="");let a;for(a of I){if(!(a in this.#n))continue;let s={},h=this.#n[a];switch(this.#e[a]=[],a){case"protocol":Object.assign(s,$),s.encodePart=D;break;case"username":Object.assign(s,$),s.encodePart=Ot;break;case"password":Object.assign(s,$),s.encodePart=Pt;break;case"hostname":Object.assign(s,gt),V(h)?s.encodePart=Y:s.encodePart=Q;break;case"port":Object.assign(s,$),s.encodePart=Z;break;case"pathname":B(this.#s.protocol)?(Object.assign(s,yt,o),s.encodePart=At):(Object.assign(s,$,o),s.encodePart=Tt);break;case"search":Object.assign(s,$,o),s.encodePart=_t;break;case"hash":Object.assign(s,$,o),s.encodePart=Ut;break}try{this.#i[a]=K(h,s),this.#s[a]=X(this.#i[a],this.#e[a],s),this.#t[a]=jt(this.#i[a],s),this.#u=this.#u||this.#i[a].some(n=>n.type===2)}catch{throw new TypeError(`invalid ${a} pattern '${this.#n[a]}'.`)}}}catch(i){throw new TypeError(`Failed to construct 'URLPattern': ${i.message}`)}}test(t={},e){let r={pathname:"",protocol:"",username:"",password:"",hostname:"",port:"",search:"",hash:""};if(typeof t!="string"&&e)throw new TypeError("parameter 1 is not of type 'string'.");if(typeof t>"u")return!1;try{typeof t=="object"?r=L(r,t,!1):r=L(r,F(t,e),!1)}catch{return!1}let i;for(i of I)if(!this.#s[i].exec(r[i]))return!1;return!0}exec(t={},e){let r={pathname:"",protocol:"",username:"",password:"",hostname:"",port:"",search:"",hash:""};if(typeof t!="string"&&e)throw new TypeError("parameter 1 is not of type 'string'.");if(typeof t>"u")return;try{typeof t=="object"?r=L(r,t,!1):r=L(r,F(t,e),!1)}catch{return null}let i={};e?i.inputs=[t,e]:i.inputs=[t];let o;for(o of I){let u=this.#s[o].exec(r[o]);if(!u)return null;let a={};for(let[s,h]of this.#e[o].entries())if(typeof h=="string"||typeof h=="number"){let n=u[s+1];a[h]=n}i[o]={input:r[o]??"",groups:a}}return i}static compareComponent(t,e,r){let i=(s,h)=>{for(let n of["type","modifier","prefix","value","suffix"]){if(s[n]<h[n])return-1;if(s[n]!==h[n])return 1}return 0},o=new P(3,"","","","",3),u=new P(0,"","","","",3),a=(s,h)=>{let n=0;for(;n<Math.min(s.length,h.length);++n){let l=i(s[n],h[n]);if(l)return l}return s.length===h.length?0:i(s[n]??o,h[n]??o)};return!e.#t[t]&&!r.#t[t]?0:e.#t[t]&&!r.#t[t]?a(e.#i[t],[u]):!e.#t[t]&&r.#t[t]?a([u],r.#i[t]):a(e.#i[t],r.#i[t])}get protocol(){return this.#t.protocol}get username(){return this.#t.username}get password(){return this.#t.password}get hostname(){return this.#t.hostname}get port(){return this.#t.port}get pathname(){return this.#t.pathname}get search(){return this.#t.search}get hash(){return this.#t.hash}get hasRegExpGroups(){return this.#u}}});var it=H((Gt,st)=>{var{URLPattern:rt}=et();st.exports={URLPattern:rt};globalThis.URLPattern||(globalThis.URLPattern=rt)});"urlpattern-polyfill"in globalThis.__thrush_future_vendor_registry__||Object.defineProperty(globalThis.__thrush_future_vendor_registry__,"urlpattern-polyfill",{get(){return it()}});
})();

(self.webpackChunkv4fire_1=self.webpackChunkv4fire_1||[]).push([[57269],{65199:(e,t,o)=>{"use strict";o.r(t),o.d(t,{$$:()=>C.$$,ComponentInterface:()=>C.ComponentInterface,ComponentResetType:()=>C.ComponentResetType,ElementModEvent:()=>C.ElementModEvent,ExtraProvider:()=>C.ExtraProvider,ExtraProviders:()=>C.ExtraProviders,GlobalEnvironment:()=>C.GlobalEnvironment,HydrationStore:()=>C.HydrationStore,ModEvent:()=>C.ModEvent,ModEventName:()=>C.ModEventName,ModEventReason:()=>C.ModEventReason,ModEventType:()=>C.ModEventType,ModelMethod:()=>C.ModelMethod,Module:()=>C.Module,PARENT:()=>C.PARENT,ProviderOptions:()=>C.ProviderOptions,RequestBody:()=>C.RequestBody,RequestError:()=>C.RequestError,RequestQuery:()=>C.RequestQuery,RequestResponseObject:()=>C.RequestResponseObject,Response:()=>C.Response,SetElementModEvent:()=>C.SetElementModEvent,SetModEvent:()=>C.SetModEvent,Socket:()=>C.Socket,State:()=>C.State,add:()=>C.add,app:()=>C.app,attrRgxp:()=>C.attrRgxp,base:()=>C.base,bindRemoteWatchers:()=>C.bindRemoteWatchers,bindingRgxp:()=>C.bindingRgxp,callMethodFromComponent:()=>C.callMethodFromComponent,clientState:()=>C.clientState,component:()=>C.component,computed:()=>C.computed,createRequest:()=>C.createRequest,customWatcherRgxp:()=>C.customWatcherRgxp,default:()=>k,deleteData:()=>C.deleteData,destroyApp:()=>C.destroyApp,dsComponentsMods:()=>C.dsComponentsMods,extractWebappShortName:()=>C.extractWebappShortName,field:()=>C.field,get:()=>C.get,getComponentMods:()=>C.getComponentMods,getComponentName:()=>C.getComponentName,getDefaultRequestParams:()=>C.getDefaultRequestParams,getInfoFromConstructor:()=>C.getInfoFromConstructor,getPropertyInfo:()=>C.getPropertyInfo,globalEmitter:()=>C.globalEmitter,hasSeparator:()=>C.hasSeparator,heightMode:()=>f,hook:()=>C.hook,hydrationStore:()=>C.hydrationStore,init:()=>C.init,initEmitter:()=>C.initEmitter,isAbstractComponent:()=>C.isAbstractComponent,isComponent:()=>C.isComponent,isSmartComponent:()=>C.isSmartComponent,normalizeClass:()=>C.normalizeClass,normalizeStyle:()=>C.normalizeStyle,paramsFactory:()=>C.paramsFactory,peek:()=>C.peek,post:()=>C.post,prop:()=>C.prop,propRgxp:()=>C.propRgxp,remoteState:()=>C.remoteState,resetComponents:()=>C.resetComponents,rootComponents:()=>C.rootComponents,runHook:()=>C.runHook,statuses:()=>C.statuses,storeRgxp:()=>C.storeRgxp,system:()=>C.system,update:()=>C.update,url:()=>C.url,wait:()=>C.wait,watch:()=>C.watch});var s=o(9509),i=o(35543),n=o(29406),l=o(61084),r=o(29794);const a="index",c=(0,s.Z)();class History extends r.Z{constructor(e,t){super(e),this.store=[],this.config={...History.defaultConfig,...t}}get current(){return this.store[this.store.length-1]}get length(){return this.store.length}get componentHooks(){return this.meta.hooks}initIndex(e={stage:a,options:{}}){var t;this.store.length>0?(null===(t=this.store[0].content)||void 0===t||t.el.removeAttribute("data-page"),this.store[0]=e):this.store.push(e),this.calculateCurrentPage()}push(e,t){var o,s;const{block:i}=this;if(null==i)return;const n=null===(s=null===(o=this.current)||void 0===o?void 0:o.content)||void 0===s?void 0:s.el,l=this.initPage(e);if(!(null==l?void 0:l.content.el))throw new ReferenceError(`A page for the stage "${e}" is not defined`);if("true"===i.getElementMod(l.content.el,"page","below")||n===l.content.el)throw new Error(`A page for the stage "${e}" is already opened`);this.async.requestAnimationFrame((()=>{i.setElementMod(l.content.el,"page","turning","in"),i.setElementMod(n,"page","below",!0),this.ctx.setMod("blankHistory",!1)}),{label:c.addNewPage}),this.store.push({stage:e,options:t,...l}),this.scrollToTop(),this.ctx.emit("history:transition",{page:this.current,type:"push"})}back(){var e,t;if(1===this.store.length)return;const o=this.store.pop();if(o){1===this.store.length&&this.ctx.setMod("blankHistory",!0),this.unwindPage(o);const s=null===(e=this.store[this.store.length-1].content)||void 0===e?void 0:e.el;null===(t=this.block)||void 0===t||t.removeElementMod(s,"page","below"),this.ctx.emit("history:transition",{page:o,type:"back"})}return o}clear(){var e;if(0===this.store.length)return!1;for(let o=this.store.length-1;o>=0;o--)this.unwindPage(this.store[o]);this.store=[],this.async.requestAnimationFrame((()=>{var e,t,o;null===(e=this.block)||void 0===e||e.removeElementMod(null===(o=null===(t=this.store[0])||void 0===t?void 0:t.content)||void 0===o?void 0:o.el,"page","below")}),{label:c.pageChange});const t=null===(e=this.block)||void 0===e?void 0:e.element("history");return(null==t?void 0:t.hasAttribute("data-page"))&&t.removeAttribute("data-page"),this.async.requestAnimationFrame((()=>{this.ctx.setMod("blankHistory",!0),this.ctx.emit("history:clear")}),{label:c.historyClear}),!0}calculateCurrentPage(){this.async.requestAnimationFrame((()=>{var e,t,o,s,i;const{current:n}=this;if(null==n)return;const l=this.initPage(n.stage);Object.assign(this.current,l);const r=null!==(o=null===(t=null===(e=n.title)||void 0===e?void 0:e.initBoundingRect)||void 0===t?void 0:t.height)&&void 0!==o?o:0,a=r-(null!==(i=null===(s=n.content)||void 0===s?void 0:s.el.scrollTop)&&void 0!==i?i:0)>=r*this.config.titleThreshold;this.initTitleInView(a)}),{label:c.calculateCurrentPage})}unwindPage(e){var t,o;const s=null===(t=e.content)||void 0===t?void 0:t.el,i=null===(o=e.content)||void 0===o?void 0:o.trigger,n={group:e.stage.camelize(),label:c.unwindPage};this.async.requestAnimationFrame((()=>{const{block:e}=this;i&&this.setObserving(i,!1),null!=s&&null!=e&&(e.removeElementMod(s,"page","turning"),e.removeElementMod(s,"page","below"))}),n)}createTrigger(){if(!this.config.pageTriggers)return;const e=document.createElement("div");return e.setAttribute(this.config.triggerAttr,"true"),this.async.requestAnimationFrame((()=>{Object.assign(e.style,{height:1..px,width:"100%",position:"absolute",top:0,zIndex:-1})}),{label:c.createTrigger}),e}setObserving(e,t){if(!this.config.pageTriggers)return;const o={label:c.setObserving};if(t){const t=()=>this.onPageTopVisibilityChange(!0);l.watch(e,{threshold:this.config.titleThreshold,onLeave:()=>this.onPageTopVisibilityChange(!1)},t),this.async.worker((()=>l.unwatch(e,t)),o)}else this.async.terminateWorker(o)}initPage(e){var t;const{async:o,block:s}=this;if(null==s)return;let i=null===(t=s.node)||void 0===t?void 0:t.querySelector(`[data-page=${e}]`);if(null==i){if(this.ctx.emit("history:initPageFail",e),e!==a)return;if(i=s.element("history"),null==i)return;i.setAttribute("data-page",e)}this.async.requestAnimationFrame((()=>{if(null==i)return;const e=s.getFullElementName("page");i.classList.contains(e)||i.classList.add(e)}),{label:c.initPage});const n=i.querySelector("[data-title]"),l=Object.get(i,"children.0"),r=Boolean(null==l?void 0:l.getAttribute(this.config.triggerAttr)),d=r?l:this.createTrigger();null!=n&&(null!=d&&this.async.requestAnimationFrame((()=>{d.style.height=n.clientHeight.px}),{label:c.setTriggerHeight}),o.on(n,"click",this.onTitleClick.bind(this))),null!=d&&this.async.requestAnimationFrame((()=>{r||null==i||i.insertAdjacentElement("afterbegin",d),this.setObserving(d,!0)}),{label:c.initTrigger});const h={content:{el:i,initBoundingRect:i.getBoundingClientRect(),trigger:d},title:{el:n,initBoundingRect:null==n?void 0:n.getBoundingClientRect()}};return this.ctx.emit("history:initPage",h),h}scrollToTop(e=!1){var t;const o=null===(t=this.current)||void 0===t?void 0:t.content;if(null!=o&&(0!==o.el.scrollTop||0!==o.el.scrollLeft)){const t={top:0,left:0};e&&Object.assign(t,{behavior:"smooth"}),o.el.scrollTo(t)}}initTitleInView(e){var t,o;const{current:s}=this;null===(t=this.block)||void 0===t||t.setElementMod(null===(o=null==s?void 0:s.title)||void 0===o?void 0:o.el,"title","in-view",e),this.ctx.emit("history:titleInView",e)}onPageTopVisibilityChange(e){var t,o;(null===(o=null===(t=this.current)||void 0===t?void 0:t.title)||void 0===o?void 0:o.el)&&this.initTitleInView(e),this.ctx.onPageTopVisibilityChange(e)}onTitleClick(){this.scrollToTop(!0)}}History.defaultConfig={titleThreshold:.01,triggerAttr:"data-history-trigger",pageTriggers:!0},History.mods={blankHistory:["false",["true"]]};var d=o(50568),h=o(70312),p=o(52279),u=o(95746),g=o(82882),m=o(47250);const f=Object.createDict({full:!0,content:!0});var v=function(e,t,o,s){var i,n=arguments.length,l=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,o):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,s);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(l=(n<3?i(l):n>3?i(t,o,l):i(t,o))||l);return n>3&&l&&Object.defineProperty(t,o,l),l};let y=class iBottomSlideProps extends m.default{constructor(){super(...arguments),this.heightMode="full",this.stepsProp=[],this.visible=0,this.maxVisiblePercent=90,this.fastSwipeDelay=.3.seconds(),this.fastSwipeThreshold=10,this.swipeThreshold=40,this.overlay=!0,this.maxOpacity=.8,this.scrollToTopOnClose=!0,this.forceInnerRender=!0,this.hideIfOffline=!1}};v([(0,m.prop)({type:String,validator:Object.hasOwnProperty(f)})],y.prototype,"heightMode",void 0),v([(0,m.prop)({type:Array,validator:e=>e.every((e=>e>=0&&e<=100))})],y.prototype,"stepsProp",void 0),v([(0,m.prop)({type:Number,validator:Number.isNonNegative})],y.prototype,"visible",void 0),v([(0,m.prop)({type:Number,validator:e=>e>=0&&e<=100})],y.prototype,"maxVisiblePercent",void 0),v([(0,m.prop)({type:Number,validator:Number.isPositive})],y.prototype,"fastSwipeDelay",void 0),v([(0,m.prop)({type:Number,validator:Number.isNatural})],y.prototype,"fastSwipeThreshold",void 0),v([(0,m.prop)({type:Number,validator:Number.isNatural})],y.prototype,"swipeThreshold",void 0),v([(0,m.prop)(Boolean)],y.prototype,"overlay",void 0),v([(0,m.prop)({type:Number,validator:Number.isBetweenZeroAndOne})],y.prototype,"maxOpacity",void 0),v([(0,m.prop)(Boolean)],y.prototype,"scrollToTopOnClose",void 0),v([(0,m.prop)(Boolean)],y.prototype,"forceInnerRender",void 0),v([(0,m.prop)(Boolean)],y.prototype,"hideIfOffline",void 0),y=v([(0,m.component)()],y);const b=y,w=(0,s.Z)();class Animation extends r.Z{constructor(){super(...arguments),this.isPositionUpdating=!1,this.diff=0}get shouldUseRAF(){return!1===this.ctx.browser.is.iOS}startMoving(e){this.isPositionUpdating&&this.shouldUseRAF||this.performMoving(),this.diff+=e}stopMoving(){this.async.clearAnimationFrame({label:w.performMovingAnimation}),this.isPositionUpdating=!1,this.diff=0}performMoving(){this.isPositionUpdating=!0,this.shouldUseRAF?this.async.requestAnimationFrame((()=>{this.isPositionUpdating&&(this.updateKeyframeValues(),this.performMoving())}),{label:w.performMovingAnimation}):this.updateKeyframeValues()}updateKeyframeValues(){const{ctx:e}=this,{windowHeight:t,offset:o}=e.geometry;t>=o+this.diff&&(e.geometry.incrementOffset(this.diff),e.isPulling=!0,e.updateWindowPosition()),e.overlayAPI.animateOpacityKeyframe(),this.diff=0}}const P=(0,s.Z)();class Overlay extends r.Z{constructor(){super(...arguments),this.opacity=0}setOpacity(e){this.opacity=e,this.updateOverlayStyle()}animateOpacityKeyframe(){return this.ctx.waitComponentStatus("ready",(()=>{const{ctx:e}=this,{$refs:{overlay:t},maxOpacity:o,geometry:s}=e;if(null!=t||o<0)return;const i=s.getStepOffset(e.stepCount-1),n=s.getStepOffset(e.stepCount-2),{offset:l}=s;if(!Object.isNumber(n)||n>l)return;const r=o-o/100*((i-l)/((i-n)/100)),a=Math.min(r,o);Math.abs(this.opacity-a)>=.025&&this.setOpacity(a)}),{label:P.performOpacity})}updateOverlayStyle(){return this.ctx.waitComponentStatus("ready",(()=>{const{overlay:e}=this.ctx.$refs;e instanceof HTMLElement&&e.style.setProperty("opacity",String(this.opacity))}),{label:P.updateOpacity})}}const S=(0,s.Z)();class geometry_Geometry extends r.Z{constructor(){super(...arguments),this.offsetStore=0,this.stepsInPixels=[],this.windowHeightStore=0,this.contentHeightStore=0,this.contentMaxHeightStore=0}get windowHeight(){return 0===this.windowHeightStore&&(this.windowHeightStore=document.documentElement.clientHeight),this.windowHeightStore}get contentHeight(){return this.contentHeightStore}get contentMaxHeight(){return this.contentMaxHeightStore}get offset(){return this.offsetStore}set offset(e){const t=this.lastStepOffset;null!=t&&e>t&&(e=t),this.offsetStore=e,this.ctx.swipeControl.notifyOffsetChanged(e)}get lastStepOffset(){return this.stepsInPixels[this.stepsInPixels.length-1]}get currentStepOffset(){return this.stepsInPixels[this.ctx.step]}setOffset(e){this.offset=e}incrementOffset(e){this.offset+=e}getStepOffset(e){var t;return null!==(t=this.stepsInPixels[e])&&void 0!==t?t:0}setOffsetForStep(e){this.offset=this.stepsInPixels[e]}async init(){var e;const{ctx:t}=this;this.windowHeightStore=document.documentElement.clientHeight;const[o,s,i,n]=await Promise.all([t.waitRef("header",{label:S.initGeometry}),t.waitRef("content"),t.waitRef("view"),t.waitRef("window")]),{maxVisiblePercent:l}=t,r=null===(e=t.history.current)||void 0===e?void 0:e.content;if("content"===t.heightMode&&null!=(null==r?void 0:r.initBoundingRect)){const e=r.el.scrollHeight;s.clientHeight!==e&&(s.style.height=e.px)}const a=this.windowHeight*(l/100),c=i.clientHeight+o.clientHeight;this.contentHeightStore=Math.min(c,a),this.contentMaxHeightStore=a,r&&Object.assign(r.el.style,{maxHeight:(0===a?0:a-o.clientHeight).px}),Object.assign(n.style,{maxHeight:0===a?void 0:a.px}),this.bakeSteps()}bakeSteps(){this.stepsInPixels=this.ctx.steps.map((e=>e/100*this.windowHeight))}}class Geometry extends geometry_Geometry{constructor(){super(...arguments),this.bottomOffsetStore=0}get bottomOffset(){return this.bottomOffsetStore}setBottomOffset(e){this.bottomOffsetStore=e}bakeSteps(){this.stepsInPixels=this.ctx.steps.map(((e,t)=>e/100*this.windowHeight+(0===t?0:this.bottomOffset)))}}class SwipeControl extends r.Z{constructor(){super(...arguments),this.direction=0,this.startTime=0,this.startY=0,this.currentY=0,this.endY=0,this.byTrigger=!1}notifyOffsetChanged(e){this.endY=e}onPullStart(e,t=!1){const o=e.touches[0];this.byTrigger=t,this.startY=o.clientY,this.startTime=performance.now()}onPull(e){const{ctx:t}=this,{geometry:o}=t,{clientY:s}=e.touches[0],i=this.currentY>0?this.currentY-s:0;this.currentY=s,this.direction=Math.sign(i);if(this.byTrigger||!t.isFullyOpened||t.isViewportTopReached&&(this.direction<0||o.offset<o.lastStepOffset))return t.animation.startMoving(i),void(e.cancelable&&(e.preventDefault(),e.stopPropagation()));t.animation.stopMoving()}onPullEnd(){if(0===this.currentY)return;const{ctx:e}=this,t=Math.abs(this.startY-this.endY),o=performance.now()-this.startTime<=e.fastSwipeDelay&&t>=e.fastSwipeThreshold,s=o&&(!e.isFullyOpened||e.isViewportTopReached||this.byTrigger),i=!o&&t>=e.swipeThreshold;e.animation.stopMoving(),this.moveToClosest(s,i),this.endY+=this.startY-this.currentY,this.byTrigger=!1,this.currentY=0}moveToClosest(e,t){const{direction:o,ctx:s}=this,{geometry:i}=s;if("content"===s.heightMode)!e&&t?this[i.contentHeight/2<i.offset?"next":"prev"]():e&&this[o>0?"next":"prev"]();else{let t=0;if(e){let e=0;for(;e<s.stepCount;e++){if(i.getStepOffset(e)>i.offset)break}t=o>0?e>s.stepCount-1?e-1:e:0===e?e:e-1}else{let e;for(let o=0;o<s.stepCount;o++){const s=Math.abs(i.offset-i.getStepOffset(o));(!Object.isNumber(e)||e>s)&&(e=s,t=o)}}const n=s.step;0===t?s.close().catch(stderr):0===n?s.open(t).catch(stderr):s.step=t}s.stickToStep()}}var C=o(83399),x=function(e,t,o,s){var i,n=arguments.length,l=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,o):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,s);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(l=(n<3?i(l):n>3?i(t,o,l):i(t,o))||l);return n>3&&l&&Object.defineProperty(t,o,l),l};const O=(0,s.Z)();g.ZP.addToPrototype({getFullElementName:g.fA});let T=class bBottomSlide extends b{constructor(){super(...arguments),this.stepStore=0,this.isViewportTopReached=!0,this.isStepTransitionInProgress=!1,this.isPullingStore=!1}get unsafe(){return Object.cast(this)}get isFullyOpened(){return this.step===this.stepCount-1}get isClosed(){return 0===this.step}get steps(){const e=[this.visibleInPercent];return"content"===this.heightMode?e.push(this.geometry.contentHeight/this.geometry.windowHeight*100):e.push(this.maxVisiblePercent),e.concat(this.field.get("stepsStore")).sort(((e,t)=>e-t))}get stepCount(){return 2+this.stepsStore.length}get step(){return this.stepStore}set step(e){e!==this.step&&(this.stepStore=e,this.emit("stepChange",e))}get isPulling(){return this.isPullingStore}set isPulling(e){this.isPullingStore!==e&&(this.isPullingStore=e,this[e?"setRootMod":"removeRootMod"]("fullscreen-moving",!0),this[e?"setMod":"removeMod"]("stick",!1),this.emit("moveStateChange",e))}get visibleInPercent(){return 0===this.geometry.windowHeight?0:this.visible/this.geometry.windowHeight*100}onPageTopVisibilityChange(e){this.isViewportTopReached=e}lockPageScroll(){return d.Z.lockPageScroll(this,this.$refs.view)}async open(e){if(void 0!==e&&e>this.stepCount-1)return!1;0===this.visible&&(this.removeMod("hidden",!0),await p.Z.open(this));const t=this.step;return this.step=null!=e?e:1,0===t&&this.history.initIndex(),this.emit("open"),!0}async close(){return this.isClosed?(this.history.length>1&&this.history.clear(),!1):(this.step=0,0===this.visible&&(p.Z.close(this).catch(stderr),await this.setMod("hidden",!0)),this.history.clear(),this.emit("close"),!0)}async next(){return!this.isFullyOpened&&(0===this.step?this.open():(this.step++,!0))}async prev(){if(this.isClosed)return!1;const e=this.step-1;return 0===e?this.close():(this.step=e,!0)}async onKeyClose(){}async onTouchClose(){}async initDOMObservers(){const e=await this.waitRef("content",{label:O.initDOMObservers});h.Z.observe(this,{node:e,childList:!0,subtree:!0})}initModEvents(){super.initModEvents(),this.sync.mod("heightMode","heightMode",String),this.sync.mod("visible","visible",Boolean),this.sync.mod("opened","visible",Boolean)}async initGeometry(){await this.geometry.init(),this.initOffset()}initOffset(){this.geometry.setOffset(this.visible),this.updateWindowPosition()}initHiddenState(){0===this.visible&&this.setMod("hidden",!0)}stickToStep(){this.isPulling=!1,this.geometry.setOffsetForStep(this.step),this.animation.stopMoving(),this.updateWindowPosition(),this.overlayAPI.setOpacity(this.isFullyOpened?this.maxOpacity:0)}async updateWindowPosition(){(await this.waitRef("window")).style.transform=`translate3d(0, ${(-this.geometry.offset).px}, 0)`}async recalculateState(){try{await this.async.sleep(50,{label:O.syncStateDefer,join:!0}),await this.initGeometry(),this.stickToStep()}catch(e){}}onHistoryClear(){this.$refs.content.style.removeProperty("height")}onStepChange(){i.ZP.all([this.waitRef("window",{label:O.onStepChange}),this.waitRef("view")]).then((([e,t])=>{this.isStepTransitionInProgress=!0,this.async.once(e,"transitionend",(()=>{this.isFullyOpened?(this.lockPageScroll().catch(stderr),this.removeMod("events",!1)):(this.unlockPageScroll().catch(stderr),this.setMod("events",!1),this.scrollToTopOnClose&&t.scrollTo(0,0)),this.isStepTransitionInProgress=!1}),{group:":zombie",label:O.waitAnimationToFinish}),this.stickToStep()})).catch(stderr)}};T.mods={...p.Z.mods,...u.Z.mods,stick:[["true"],"false"],events:["true",["false"]],heightMode:["content","full"]},x([(0,m.computed)({cache:!1})],T.prototype,"isFullyOpened",null),x([(0,m.computed)({cache:!1})],T.prototype,"isClosed",null),x([(0,m.computed)({cache:!1})],T.prototype,"steps",null),x([(0,m.computed)({cache:!0,dependencies:["stepsStore"]})],T.prototype,"stepCount",null),x([(0,m.system)((e=>new History(e)))],T.prototype,"history",void 0),x([(0,m.system)()],T.prototype,"stepStore",void 0),x([(0,m.field)((e=>e.sync.link("stepsProp",(e=>e.slice().sort(((e,t)=>e-t))))))],T.prototype,"stepsStore",void 0),x([(0,m.computed)({cache:!1})],T.prototype,"step",null),x([(0,m.system)()],T.prototype,"isViewportTopReached",void 0),x([(0,m.system)()],T.prototype,"isStepTransitionInProgress",void 0),x([(0,m.system)()],T.prototype,"isPullingStore",void 0),x([(0,m.computed)({cache:!1})],T.prototype,"isPulling",null),x([(0,m.computed)({cache:!1})],T.prototype,"visibleInPercent",null),x([(0,m.system)((e=>new Animation(e)))],T.prototype,"animation",void 0),x([(0,m.system)((e=>new SwipeControl(e)))],T.prototype,"swipeControl",void 0),x([(0,m.system)((e=>new Geometry(e)))],T.prototype,"geometry",void 0),x([(0,m.system)((e=>new Overlay(e)))],T.prototype,"overlayAPI",void 0),x([(0,m.wait)("ready",{label:O.lock})],T.prototype,"lockPageScroll",null),x([(0,m.wait)("ready")],T.prototype,"open",null),x([(0,m.watch)("heightMode"),(0,m.hook)("mounted"),(0,m.wait)("ready")],T.prototype,"initDOMObservers",null),x([(0,m.hook)("mounted"),(0,m.wait)("ready")],T.prototype,"initGeometry",null),x([(0,m.watch)("visible")],T.prototype,"initOffset",null),x([(0,m.hook)("created")],T.prototype,"initHiddenState",null),x([(0,m.wait)("ready",{label:O.updateWindowPosition})],T.prototype,"updateWindowPosition",null),x([(0,m.watch)(["window:resize","localEmitter:DOMChange",":history:transition"]),(0,m.wait)("ready")],T.prototype,"recalculateState",null),x([(0,m.watch)(":history:clear")],T.prototype,"onHistoryClear",null),x([(0,m.watch)(":stepChange"),(0,m.hook)("mounted"),(0,m.wait)("ready")],T.prototype,"onStepChange",null),T=x([(0,m.component)(),(0,n.s)(d.Z,h.Z,p.Z)],T);const R=T;var M=function(e,t,o,s){var i,n=arguments.length,l=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,o):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,s);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(l=(n<3?i(l):n>3?i(t,o,l):i(t,o))||l);return n>3&&l&&Object.defineProperty(t,o,l),l};let E=class bBottomSlide extends R{get isContentOverflowing(){const{documentElement:e}=document,{$refs:{content:t,header:o},mods:{contentOffset:s},isStepTransitionInProgress:i}=this,n="true"===s&&i?20:0;return t.scrollHeight+n>e.clientHeight*(this.maxVisiblePercent/100)-o.clientHeight}async open(e){var t;const o=this.step,s=await super.open(e);if(s&&0===o){const e=null!==(t=this.field.get("externalAnalyticsParams.slug"))&&void 0!==t?t:this.field.get("externalAnalyticsParams.Slug"),o=this.field.get("externalAnalyticsParams.eventName");(null!=o?o:e)&&this.analytics.sendEvent("appear",this.externalAnalyticsParams,"dialog")}return s}async close(){var e;if(!this.isClosed){const t=null!==(e=this.field.get("externalAnalyticsParams.slug"))&&void 0!==e?e:this.field.get("externalAnalyticsParams.Slug"),o=this.field.get("externalAnalyticsParams.eventName");(null!=o?o:t)&&this.analytics.sendEvent("close",this.externalAnalyticsParams,"dialog")}const t=await super.close();return t}initOffset(){this.geometry.setOffset(this.visible+this.geometry.bottomOffset),this.updateWindowPosition()}visibleHeightChanged(){return this.isClosed,Promise.resolve()}};E.mods={...R.mods,progress:["true","false"],contentOffset:["true",["false"]],topBorderRadius:[["s"],"m","xl"],dynamicToggler:["true",["false"]]},M([(0,C.hook)("mounted"),(0,C.watch)("visible")],E.prototype,"initOffset",null),M([(0,C.watch)("!globalEmitter:native.ui.visibleHeightChanged")],E.prototype,"visibleHeightChanged",null),E=M([(0,C.component)()],E);const k=E},53649:(e,t,o)=>{"use strict";o.d(t,{$:()=>i,f:()=>s});const s="isTooltipShownKey",i=10},76149:function(e,t){!function(e){e["i-history"]instanceof Object==0&&(e["i-history"]={}),e["b-bottom-slide"]instanceof Object==0&&(e["b-bottom-slide"]={}),e["b-bottom-slide"].index=function(){return function(e,t){const{toDisplayString:o,resolveDirective:s,withDirectives:i,openBlock:n,createElementBlock:l,createCommentVNode:r,createElementVNode:a,renderSlot:c,createTextVNode:d,normalizeClass:h,Teleport:p,createBlock:u}=e.$renderEngine.r,g=e.$renderEngine.r.resolveAttrs.call(e,{props:{key:0,class:"i-block-helper b-bottom-slide","data-teleport":""}}).props,m=a.call(e,"div",{class:"b-bottom-slide__toggler","data-cached-class-component-id":"true","data-cached-class-provided-classes-styles":"toggler"},null,-1),f=e.$renderEngine.r.resolveAttrs.call(e,{props:{key:1,class:"b-bottom-slide__toggler-stripe","data-cached-class-component-id":"true","data-cached-class-provided-classes-styles":"toggler-stripe"}}).props;function v(){let v,y,b;const w=s.call(e,"async-target");return e.r.shouldMountTeleports?(n.call(e),l.call(e,"span",g,[(n.call(e),u.call(e,p,{to:"#teleports"},[i.call(e,(n.call(e),l.call(e,"div",{class:"i-block-helper","data-cached-dynamic-class":'["call", "provide.componentClasses", "b-bottom-slide", ["get", "mods"]]',ref:e.$resolveRef(e.$resolveRef("$el")),"data-cached-class-component-id":"true"},[d.call(e,o.call(e,void e.vdom.saveRenderContext())+" "+o.call(e,void e.r.initGlobalEnv())+" ",1),e.overlay?i.call(e,(n.call(e),l.call(e,"div",{key:0,class:"b-bottom-slide__overlay",onClick:t[0]||(t[0]=(...t)=>e.close&&e.close(...t)),"data-cached-class-component-id":"true","data-cached-class-provided-classes-styles":"overlay",ref:e.$resolveRef("overlay"),"data-has-v-on-directives":""},null,512)),[[v=v||s.call(e,"ref"),"overlay"]]):r.call(e,"",!0),d.call(e),e.forceInnerRender||e.opt.ifOnce("opened","true"===e.m.opened)&&delete e.reactiveModsStore.opened?i.call(e,(n.call(e),l.call(e,"div",{key:1,class:"b-bottom-slide__window","data-cached-class-component-id":"true","data-cached-class-provided-classes-styles":"window",ref:e.$resolveRef("window")},[i.call(e,(n.call(e),l.call(e,"header",{class:"b-bottom-slide__header",onTouchstart:t[1]||(t[1]=t=>e.swipeControl.onPullStart(t,!0)),onTouchmove:t[2]||(t[2]=(...t)=>e.swipeControl.onPull&&e.swipeControl.onPull(...t)),onTouchend:t[3]||(t[3]=(...t)=>e.swipeControl.onPullEnd&&e.swipeControl.onPullEnd(...t)),"data-cached-class-component-id":"true","data-cached-class-provided-classes-styles":"header",ref:e.$resolveRef("header"),"data-has-v-on-directives":""},[m,d.call(e),e.$slots.header?c.call(e,e.$slots,"header",{key:0,stage:e.stage,ctx:e.self}):(n.call(e),l.call(e,"div",f))],32)),[[v=v||s.call(e,"ref"),"header"]]),d.call(e),i.call(e,(n.call(e),l.call(e,"div",{class:"b-bottom-slide__view",onTouchstart:t[4]||(t[4]=(...t)=>e.swipeControl.onPullStart&&e.swipeControl.onPullStart(...t)),onTouchmove:t[5]||(t[5]=(...t)=>e.swipeControl.onPull&&e.swipeControl.onPull(...t)),onTouchend:t[6]||(t[6]=(...t)=>e.swipeControl.onPullEnd&&e.swipeControl.onPullEnd(...t)),"data-cached-class-component-id":"true","data-cached-class-provided-classes-styles":"view",ref:e.$resolveRef("view"),"data-has-v-on-directives":""},[i.call(e,(n.call(e),l.call(e,"div",{class:"b-bottom-slide__content","data-cached-class-component-id":"true","data-cached-class-provided-classes-styles":"content",ref:e.$resolveRef("content")},[a.call(e,"div",{class:h.call(e,["b-bottom-slide__history",[e.componentId]])},[c.call(e,e.$slots,"default",{stage:e.stage,ctx:e.self})],2)])),[[v=v||s.call(e,"ref"),"content"]])],32)),[[v=v||s.call(e,"ref"),"view"]]),c.call(e,e.$slots,"afterView",{stage:e.stage,ctx:e.self})])),[[v=v||s.call(e,"ref"),"window"]]):r.call(e,"",!0)])),[[y=y||s.call(e,"tag"),e.rootTag||"div"],[b=b||s.call(e,"attrs"),e.rootAttrs],[w,!e.ssrRendering],[v=v||s.call(e,"ref"),e.$resolveRef("$el")]])]))])):r.call(e,"",!0)}return v}},e["b-bottom-slide"].index9376703705774871=function(){return function(e,t){const{toDisplayString:o,resolveDirective:s,withDirectives:i,openBlock:n,createElementBlock:l,createCommentVNode:r,createElementVNode:a,renderSlot:c,createTextVNode:d,normalizeClass:h,Teleport:p,createBlock:u}=e.$renderEngine.r,g=e.$renderEngine.r.resolveAttrs.call(e,{props:{key:0,class:"i-block-helper b-bottom-slide","data-teleport":""}}).props,m=a.call(e,"div",{class:"b-bottom-slide__toggler","data-cached-class-component-id":"true","data-cached-class-provided-classes-styles":"toggler"},null,-1),f=e.$renderEngine.r.resolveAttrs.call(e,{props:{key:1,class:"b-bottom-slide__toggler-stripe","data-cached-class-component-id":"true","data-cached-class-provided-classes-styles":"toggler-stripe"}}).props;function v(){let v,y,b;const w=s.call(e,"async-target");return e.r.shouldMountTeleports?(n.call(e),l.call(e,"span",g,[(n.call(e),u.call(e,p,{to:"#teleports"},[i.call(e,(n.call(e),l.call(e,"div",{class:"i-block-helper","data-cached-dynamic-class":'["call", "provide.componentClasses", "b-bottom-slide", ["get", "mods"]]',ref:e.$resolveRef(e.$resolveRef("$el")),"data-cached-class-component-id":"true"},[d.call(e,o.call(e,void e.vdom.saveRenderContext())+" "+o.call(e,void e.r.initGlobalEnv())+" ",1),e.overlay?i.call(e,(n.call(e),l.call(e,"div",{key:0,class:"b-bottom-slide__overlay",onClick:t[0]||(t[0]=(...t)=>e.close&&e.close(...t)),"data-cached-class-component-id":"true","data-cached-class-provided-classes-styles":"overlay",ref:e.$resolveRef("overlay"),"data-has-v-on-directives":""},null,512)),[[v=v||s.call(e,"ref"),"overlay"]]):r.call(e,"",!0),d.call(e),e.forceInnerRender||e.opt.ifOnce("opened","true"===e.m.opened)&&delete e.reactiveModsStore.opened?i.call(e,(n.call(e),l.call(e,"div",{key:1,class:"b-bottom-slide__window","data-cached-class-component-id":"true","data-cached-class-provided-classes-styles":"window",ref:e.$resolveRef("window")},[i.call(e,(n.call(e),l.call(e,"header",{class:"b-bottom-slide__header",onTouchstart:t[1]||(t[1]=t=>e.swipeControl.onPullStart(t,!0)),onTouchmove:t[2]||(t[2]=(...t)=>e.swipeControl.onPull&&e.swipeControl.onPull(...t)),onTouchend:t[3]||(t[3]=(...t)=>e.swipeControl.onPullEnd&&e.swipeControl.onPullEnd(...t)),"data-cached-class-component-id":"true","data-cached-class-provided-classes-styles":"header",ref:e.$resolveRef("header"),"data-has-v-on-directives":""},[m,d.call(e),e.$slots.header?c.call(e,e.$slots,"header",{key:0,stage:e.stage,ctx:e.self}):(n.call(e),l.call(e,"div",f))],32)),[[v=v||s.call(e,"ref"),"header"]]),d.call(e),i.call(e,(n.call(e),l.call(e,"div",{class:"b-bottom-slide__view",onTouchstart:t[4]||(t[4]=(...t)=>e.swipeControl.onPullStart&&e.swipeControl.onPullStart(...t)),onTouchmove:t[5]||(t[5]=(...t)=>e.swipeControl.onPull&&e.swipeControl.onPull(...t)),onTouchend:t[6]||(t[6]=(...t)=>e.swipeControl.onPullEnd&&e.swipeControl.onPullEnd(...t)),"data-cached-class-component-id":"true","data-cached-class-provided-classes-styles":"view",ref:e.$resolveRef("view"),"data-has-v-on-directives":""},[i.call(e,(n.call(e),l.call(e,"div",{class:"b-bottom-slide__content","data-cached-class-component-id":"true","data-cached-class-provided-classes-styles":"content",ref:e.$resolveRef("content")},[a.call(e,"div",{class:h.call(e,["b-bottom-slide__history",[e.componentId]])},[c.call(e,e.$slots,"default",{stage:e.stage,ctx:e.self})],2)])),[[v=v||s.call(e,"ref"),"content"]])],32)),[[v=v||s.call(e,"ref"),"view"]]),c.call(e,e.$slots,"afterView",{stage:e.stage,ctx:e.self})])),[[v=v||s.call(e,"ref"),"window"]]):r.call(e,"",!0)])),[[y=y||s.call(e,"tag"),e.rootTag||"div"],[b=b||s.call(e,"attrs"),e.rootAttrs],[w,!e.ssrRendering],[v=v||s.call(e,"ref"),e.$resolveRef("$el")]])]))])):r.call(e,"",!0)}return v}}}(t)}}]);
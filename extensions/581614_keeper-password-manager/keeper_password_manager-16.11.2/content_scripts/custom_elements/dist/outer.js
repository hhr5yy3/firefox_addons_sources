(()=>{"use strict";var e,t,n,r,o,i,a=[,(e,t,n)=>{n.d(t,{A:()=>i});var r=n(2),o=n(4);const i={inFrame:window.location!==window.parent.location,isFirefox:(0,r.g)(),isKeeper:function(){return/.*(?:(\.|^)keepersecurity|keeperchat).(?:com|eu|ca|jp)$/.test(window.location.hostname)&&!/checkout/i.test(window.location.pathname)},isSafari:(0,o.n)()}},(e,t,n)=>{n.d(t,{g:()=>o});var r=n(3);function o(){return"firefox"===(0,r.X)()}},(e,t,n)=>{function r(){const e=1==(void 0!==navigator.userAgentData&&void 0!==navigator.userAgentData.platform)?navigator.userAgentData:navigator.userAgent;if(!e)return null;if("string"==typeof e)switch(!0){case e.indexOf("Chrome")>-1:return"chrome";case e.indexOf("Firefox")>-1:return"firefox";case e.indexOf("Safari")>-1:return"safari"}else switch(!0){case Boolean(e.brands.find((e=>"Microsoft Edge"===e.brand))):return"edge";case Boolean(e.brands.find((e=>"Opera"===e.brand))):return"opera";case Boolean(e.brands.find((e=>"Google Chrome"===e.brand||"Chromium"===e.brand))):return"chrome";case Boolean(e.brands.find((e=>"Firefox"===e.brand||"Mozilla"===e.brand))):return"firefox";case Boolean(e.brands.find((e=>"Safari"===e.brand))):return"safari"}return null}n.d(t,{X:()=>r})},(e,t,n)=>{n.d(t,{n:()=>o});var r=n(3);function o(){return"safari"===(0,r.X)()}},(e,t,n)=>{n.d(t,{NL:()=>i,O1:()=>a,Po:()=>c,X3:()=>o,eC:()=>s,nm:()=>r});const r="keeper-webauthn-message",o="keeper-webauthn-message-request",i="keeper-webauthn-message-response",a="keeper-webauthn-cs-ready",s="keeper-webauthn-override-ready";function c(e){return e instanceof CustomEvent&&e.type===r}},(e,t,n)=>{n.d(t,{i:()=>o});var r=n(7);function o(){return(0,r._)().toLowerCase()}},(e,t,n)=>{n.d(t,{_:()=>s});var r=n(8);function o(e){const t=chrome.runtime.getURL(e);return(0,r.f8)("runtimeGetURL"),t}var i=n(2),a=n(4);function s(){let e;return e=(0,a.n)()||(0,i.g)()?o("").slice(0,-1):"chrome-extension://"+chrome.runtime.id,e}},(e,t,n)=>{function r(e,t){t?chrome.runtime.lastError&&t(chrome.runtime.lastError.message):chrome.runtime.lastError}function o(e){return!["A listener indicated an asynchronous response by returning true, but the message channel closed before a response was received","Could not establish connection. Receiving end does not exist.","Cannot create item with duplicate id","Cannot find menu item with id","Cannot access a chrome:// URL"].some((t=>null==e?void 0:e.includes(t)))}n.d(t,{YI:()=>o,f8:()=>r})}],s={};function c(e){var t=s[e];if(void 0!==t)return t.exports;var n=s[e]={id:e,loaded:!1,exports:{}};return a[e].call(n.exports,n,n.exports,c),n.loaded=!0,n.exports}c.m=a,c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,c.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var o=Object.create(null);c.r(o);var i={};e=e||[null,t({}),t([]),t(t)];for(var a=2&r&&n;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>i[e]=()=>n[e]));return i.default=()=>n,c.d(o,i),o},c.d=(e,t)=>{for(var n in t)c.o(t,n)&&!c.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},c.f={},c.e=e=>Promise.all(Object.keys(c.f).reduce(((t,n)=>(c.f[n](e,t),t)),[])),c.u=e=>e+".js",c.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=!!(()=>{try{return browser.runtime.getURL("/")}catch(e){}})(),t=!!(()=>{try{return chrome.runtime.getURL("/")}catch(e){}})(),n=(e?browser:t&&chrome,"function"==typeof importScripts);if(location.protocol.includes("-extension:"))c.l=n?(e,t,n)=>{try{importScripts(e),t()}catch(e){t(e)}}:(e,t,n)=>{var r=document.createElement("script");r.src=e,r.onload=t,r.onerror=t,document.body.appendChild(r)};else{if(n)throw new TypeError("Unable to determinate the chunk loader: content script + Worker");c.l=()=>{throw new Error("No loader for content script is found. You must set output.environment.dynamicImport to enable ES Module loader, or specify the background entry in your webpack config to enable the classic loader.")}}var r=c.l;c.l=(e,t,n)=>{import(e).then((()=>t()),(o=>{r(e,t,n)}))}})(),c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n=!!(()=>{try{return browser.runtime.getURL("/")}catch(e){}})(),r=!!(()=>{try{return chrome.runtime.getURL("/")}catch(e){}})(),o=n?browser:r?chrome:{get runtime(){throw new Error("No chrome or browser runtime found")}},i="content_scripts/custom_elements/dist/",c.p="function"==typeof importScripts?i:o.runtime.getURL(i),(()=>{var e={0:0};c.f.j=(t,n)=>{var r=c.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise(((n,o)=>r=e[t]=[n,o]));n.push(r[2]=o);var i=c.p+c.u(t),a=new Error;c.l(i,(n=>{if(c.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",a.name="ChunkLoadError",a.type=o,a.request=i,r[1](a)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,o,[i,a,s]=n,u=0;if(i.some((t=>0!==e[t]))){for(r in a)c.o(a,r)&&(c.m[r]=a[r]);if(s)s(c)}for(t&&t(n);u<i.length;u++)o=i[u],c.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=self.webpackChunkkeeper_browser_extension=self.webpackChunkkeeper_browser_extension||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var u=c(1),d=c(5),l=c(6);if(location.href.includes("chrome-extension://")||location.href.includes("moz-extension://")||location.href.includes("safari-web-extension://"))throw new Error("Wrong Extension Context. The content script is bundled into this space");async function f(){return await Promise.all([c.e(2),c.e(1)]).then(c.bind(c,9))}async function m(){return(await f()).eventHandlers}async function h(){const e=await f();await e.injectedScriptReady()}async function p(){const e={type:d.O1},t=u.A.isFirefox&&"function"==typeof cloneInto?cloneInto(e,document.defaultView):e,n=new CustomEvent(d.nm,{detail:t});window.dispatchEvent(n)}window.attachedListeners||(window.attachedListeners=!0,window.addEventListener("message",(async function(e){if(!1!==e.isTrusted&&!u.A.inFrame&&e.origin===(0,l.i)()){await h();const{handleWindowPostMessage:t}=await m();t.call(this,e)}})),window.addEventListener(d.nm,(async function(e){if((0,d.Po)(e))if(e.detail.type===d.eC)p();else{await h();const{handleWebauthnRequest:t}=await m();t.call(this,e)}})),p(),u.A.inFrame?new Promise((e=>{const t=document.getElementsByTagName("input"),n=document.getElementsByTagName("select"),r=document.getElementsByTagName("textarea"),o=()=>t.length+n.length+r.length>0;if(o())return e();new MutationObserver(((t,n)=>{o()&&(n.disconnect(),e())})).observe(document.body,{subtree:!0,childList:!0})})).then(h):h())})();
"use strict";var uo=Object.defineProperty,Gn=e=>{throw TypeError(e)},co=(e,t,n)=>t in e?uo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,he=(e,t,n)=>co(e,"symbol"!=typeof t?t+"":t,n),Kn=(e,t,n)=>t.has(e)||Gn("Cannot "+n),Z=(e,t,n)=>(Kn(e,t,"read from private field"),n?n.call(e):t.get(e)),en=(e,t,n)=>t.has(e)?Gn("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),tn=(e,t,n,r)=>(Kn(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);(function(){var e=window.Document.prototype.createElement,t=window.Document.prototype.createElementNS,n=window.Document.prototype.importNode,r=window.Document.prototype.prepend,o=window.Document.prototype.append,i=window.DocumentFragment.prototype.prepend,l=window.DocumentFragment.prototype.append,a=window.Node.prototype.cloneNode,s=window.Node.prototype.appendChild,u=window.Node.prototype.insertBefore,c=window.Node.prototype.removeChild,d=window.Node.prototype.replaceChild,f=Object.getOwnPropertyDescriptor(window.Node.prototype,"textContent"),p=window.Element.prototype.attachShadow,h=Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),v=window.Element.prototype.getAttribute,g=window.Element.prototype.setAttribute,m=window.Element.prototype.removeAttribute,b=window.Element.prototype.toggleAttribute,w=window.Element.prototype.getAttributeNS,y=window.Element.prototype.setAttributeNS,_=window.Element.prototype.removeAttributeNS,E=window.Element.prototype.insertAdjacentElement,x=window.Element.prototype.insertAdjacentHTML,$=window.Element.prototype.prepend,k=window.Element.prototype.append,C=window.Element.prototype.before,T=window.Element.prototype.after,L=window.Element.prototype.replaceWith,N=window.Element.prototype.remove,S=window.HTMLElement,A=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),D=window.HTMLElement.prototype.insertAdjacentElement,P=window.HTMLElement.prototype.insertAdjacentHTML,M=new Set;function O(e){var t=M.has(e);return e=/^[a-z][.0-9_a-z]*-[-.0-9_a-z]*$/.test(e),!t&&e}"annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph".split(" ").forEach((function(e){return M.add(e)}));var j=document.contains?document.contains.bind(document):document.documentElement.contains.bind(document.documentElement);function F(e){var t=e.isConnected;if(void 0!==t)return t;if(j(e))return!0;for(;e&&!(e.__CE_isImportDocument||e instanceof Document);)e=e.parentNode||(window.ShadowRoot&&e instanceof ShadowRoot?e.host:void 0);return!(!e||!(e.__CE_isImportDocument||e instanceof Document))}function H(e){var t=e.children;if(t)return Array.prototype.slice.call(t);for(t=[],e=e.firstChild;e;e=e.nextSibling)e.nodeType===Node.ELEMENT_NODE&&t.push(e);return t}function q(e,t){for(;t&&t!==e&&!t.nextSibling;)t=t.parentNode;return t&&t!==e?t.nextSibling:null}function R(e,t,n){for(var r=e;r;){if(r.nodeType===Node.ELEMENT_NODE){var o=r;t(o);var i=o.localName;if("link"===i&&"import"===o.getAttribute("rel")){if(r=o.import,void 0===n&&(n=new Set),r instanceof Node&&!n.has(r))for(n.add(r),r=r.firstChild;r;r=r.nextSibling)R(r,t,n);r=q(e,o);continue}if("template"===i){r=q(e,o);continue}if(o=o.__CE_shadowRoot)for(o=o.firstChild;o;o=o.nextSibling)R(o,t,n)}r=r.firstChild?r.firstChild:q(e,r)}}function I(){var e=!(null==se||!se.noDocumentConstructionObserver),t=!(null==se||!se.shadyDomFastWalk);this.m=[],this.g=[],this.j=!1,this.shadyDomFastWalk=t,this.I=!e}function B(e,t,n,r){var o=window.ShadyDOM;if(e.shadyDomFastWalk&&o&&o.inUse){if(t.nodeType===Node.ELEMENT_NODE&&n(t),t.querySelectorAll)for(e=o.nativeMethods.querySelectorAll.call(t,"*"),t=0;t<e.length;t++)n(e[t])}else R(t,n,r)}function W(e,t){e.j&&B(e,t,(function(t){return z(e,t)}))}function z(e,t){if(e.j&&!t.__CE_patched){t.__CE_patched=!0;for(var n=0;n<e.m.length;n++)e.m[n](t);for(n=0;n<e.g.length;n++)e.g[n](t)}}function V(e,t){var n=[];for(B(e,t,(function(e){return n.push(e)})),t=0;t<n.length;t++){var r=n[t];1===r.__CE_state?e.connectedCallback(r):G(e,r)}}function J(e,t){var n=[];for(B(e,t,(function(e){return n.push(e)})),t=0;t<n.length;t++){var r=n[t];1===r.__CE_state&&e.disconnectedCallback(r)}}function Z(e,t,n){var r=(n=void 0===n?{}:n).J,o=n.upgrade||function(t){return G(e,t)},i=[];for(B(e,t,(function(t){if(e.j&&z(e,t),"link"===t.localName&&"import"===t.getAttribute("rel")){var n=t.import;n instanceof Node&&(n.__CE_isImportDocument=!0,n.__CE_registry=document.__CE_registry),n&&"complete"===n.readyState?n.__CE_documentLoadHandled=!0:t.addEventListener("load",(function(){var n=t.import;if(!n.__CE_documentLoadHandled){n.__CE_documentLoadHandled=!0;var i=new Set;r&&(r.forEach((function(e){return i.add(e)})),i.delete(n)),Z(e,n,{J:i,upgrade:o})}}))}else i.push(t)}),r),t=0;t<i.length;t++)o(i[t])}function G(e,t){try{var n=t.ownerDocument,r=n.__CE_registry,o=r&&(n.defaultView||n.__CE_isImportDocument)?oe(r,t.localName):void 0;if(o&&void 0===t.__CE_state){o.constructionStack.push(t);try{try{if(new o.constructorFunction!==t)throw Error("The custom element constructor did not produce the element being upgraded.")}finally{o.constructionStack.pop()}}catch(e){throw t.__CE_state=2,e}if(t.__CE_state=1,t.__CE_definition=o,o.attributeChangedCallback&&t.hasAttributes()){var i=o.observedAttributes;for(o=0;o<i.length;o++){var l=i[o],a=t.getAttribute(l);null!==a&&e.attributeChangedCallback(t,l,null,a,null)}}F(t)&&e.connectedCallback(t)}}catch(e){U(e)}}function Q(n,r,o,i){var l=r.__CE_registry;if(l&&(null===i||"http://www.w3.org/1999/xhtml"===i)&&(l=oe(l,o)))try{var a=new l.constructorFunction;if(void 0===a.__CE_state||void 0===a.__CE_definition)throw Error("Failed to construct '"+o+"': The returned value was not constructed with the HTMLElement constructor.");if("http://www.w3.org/1999/xhtml"!==a.namespaceURI)throw Error("Failed to construct '"+o+"': The constructed element's namespace must be the HTML namespace.");if(a.hasAttributes())throw Error("Failed to construct '"+o+"': The constructed element must not have any attributes.");if(null!==a.firstChild)throw Error("Failed to construct '"+o+"': The constructed element must not have any children.");if(null!==a.parentNode)throw Error("Failed to construct '"+o+"': The constructed element must not have a parent node.");if(a.ownerDocument!==r)throw Error("Failed to construct '"+o+"': The constructed element's owner document is incorrect.");if(a.localName!==o)throw Error("Failed to construct '"+o+"': The constructed element's local name is incorrect.");return a}catch(l){return U(l),r=null===i?e.call(r,o):t.call(r,i,o),Object.setPrototypeOf(r,HTMLUnknownElement.prototype),r.__CE_state=2,r.__CE_definition=void 0,z(n,r),r}return z(n,r=null===i?e.call(r,o):t.call(r,i,o)),r}function U(e){var t="",n="",r=0,o=0;e instanceof Error?(t=e.message,n=e.sourceURL||e.fileName||"",r=e.line||e.lineNumber||0,o=e.column||e.columnNumber||0):t="Uncaught "+String(e);var i=void 0;void 0===ErrorEvent.prototype.initErrorEvent?i=new ErrorEvent("error",{cancelable:!0,message:t,filename:n,lineno:r,colno:o,error:e}):((i=document.createEvent("ErrorEvent")).initErrorEvent("error",!1,!0,t,n,r),i.preventDefault=function(){Object.defineProperty(this,"defaultPrevented",{configurable:!0,get:function(){return!0}})}),void 0===i.error&&Object.defineProperty(i,"error",{configurable:!0,enumerable:!0,get:function(){return e}}),window.dispatchEvent(i),i.defaultPrevented||console.error(e)}function Y(){var e=this;this.g=void 0,this.F=new Promise((function(t){e.l=t}))}function X(e){var t=document;this.l=void 0,this.h=e,this.g=t,Z(this.h,this.g),"loading"===this.g.readyState&&(this.l=new MutationObserver(this.G.bind(this)),this.l.observe(this.g,{childList:!0,subtree:!0}))}function K(e){e.l&&e.l.disconnect()}function ee(e){this.s=new Map,this.u=new Map,this.C=new Map,this.A=!1,this.B=new Map,this.o=function(e){return e()},this.i=!1,this.v=[],this.h=e,this.D=e.I?new X(e):void 0}function te(e,t){if(!O(t))throw new SyntaxError("The element name '"+t+"' is not valid.");if(oe(e,t))throw Error("A custom element with name '"+t+"' has already been defined.");if(e.A)throw Error("A custom element is already being defined.")}function ne(e,t,n){var r;e.A=!0;try{var o=n.prototype;if(!(o instanceof Object))throw new TypeError("The custom element constructor's prototype is not an object.");var i=function(e){var t=o[e];if(void 0!==t&&!(t instanceof Function))throw Error("The '"+e+"' callback must be a function.");return t},l=i("connectedCallback"),a=i("disconnectedCallback"),s=i("adoptedCallback"),u=(r=i("attributeChangedCallback"))&&n.observedAttributes||[]}catch(e){throw e}finally{e.A=!1}return n={localName:t,constructorFunction:n,connectedCallback:l,disconnectedCallback:a,adoptedCallback:s,attributeChangedCallback:r,observedAttributes:u,constructionStack:[]},e.u.set(t,n),e.C.set(n.constructorFunction,n),n}function re(e){if(!1!==e.i){e.i=!1;for(var t=[],n=e.v,r=new Map,o=0;o<n.length;o++)r.set(n[o],[]);for(Z(e.h,document,{upgrade:function(n){if(void 0===n.__CE_state){var o=n.localName,i=r.get(o);i?i.push(n):e.u.has(o)&&t.push(n)}}}),o=0;o<t.length;o++)G(e.h,t[o]);for(o=0;o<n.length;o++){for(var i=n[o],l=r.get(i),a=0;a<l.length;a++)G(e.h,l[a]);(i=e.B.get(i))&&i.resolve(void 0)}n.length=0}}function oe(e,t){var n=e.u.get(t);if(n)return n;if(n=e.s.get(t)){e.s.delete(t);try{return ne(e,t,n())}catch(e){U(e)}}}function ie(e,t,n){function r(t){return function(n){for(var r=[],o=0;o<arguments.length;++o)r[o]=arguments[o];o=[];for(var i=[],l=0;l<r.length;l++){var a=r[l];if(a instanceof Element&&F(a)&&i.push(a),a instanceof DocumentFragment)for(a=a.firstChild;a;a=a.nextSibling)o.push(a);else o.push(a)}for(t.apply(this,r),r=0;r<i.length;r++)J(e,i[r]);if(F(this))for(r=0;r<o.length;r++)(i=o[r])instanceof Element&&V(e,i)}}void 0!==n.prepend&&(t.prepend=r(n.prepend)),void 0!==n.append&&(t.append=r(n.append))}function le(e){function n(t,n){Object.defineProperty(t,"innerHTML",{enumerable:n.enumerable,configurable:!0,get:n.get,set:function(t){var r=this,o=void 0;if(F(this)&&(o=[],B(e,this,(function(e){e!==r&&o.push(e)}))),n.set.call(this,t),o)for(var i=0;i<o.length;i++){var l=o[i];1===l.__CE_state&&e.disconnectedCallback(l)}return this.ownerDocument.__CE_registry?Z(e,this):W(e,this),t}})}function r(t,n){t.insertAdjacentElement=function(t,r){var o=F(r);return t=n.call(this,t,r),o&&J(e,r),F(t)&&V(e,r),t}}function o(t,n){function r(t,n){for(var r=[];t!==n;t=t.nextSibling)r.push(t);for(n=0;n<r.length;n++)Z(e,r[n])}t.insertAdjacentHTML=function(e,t){if("beforebegin"===(e=e.toLowerCase())){var o=this.previousSibling;n.call(this,e,t),r(o||this.parentNode.firstChild,this)}else if("afterbegin"===e)o=this.firstChild,n.call(this,e,t),r(this.firstChild,o);else if("beforeend"===e)o=this.lastChild,n.call(this,e,t),r(o||this.firstChild,null);else{if("afterend"!==e)throw new SyntaxError("The value provided ("+String(e)+") is not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'.");o=this.nextSibling,n.call(this,e,t),r(this.nextSibling,o)}}}p&&(Element.prototype.attachShadow=function(t){if(t=p.call(this,t),e.j&&!t.__CE_patched){t.__CE_patched=!0;for(var n=0;n<e.m.length;n++)e.m[n](t)}return this.__CE_shadowRoot=t}),h&&h.get?n(Element.prototype,h):A&&A.get?n(HTMLElement.prototype,A):function(e,t){e.j=!0,e.g.push(t)}(e,(function(e){n(e,{enumerable:!0,configurable:!0,get:function(){return a.call(this,!0).innerHTML},set:function(e){var n="template"===this.localName,r=n?this.content:this,o=t.call(document,this.namespaceURI,this.localName);for(o.innerHTML=e;0<r.childNodes.length;)c.call(r,r.childNodes[0]);for(e=n?o.content:o;0<e.childNodes.length;)s.call(r,e.childNodes[0])}})})),Element.prototype.setAttribute=function(t,n){if(1!==this.__CE_state)return g.call(this,t,n);var r=v.call(this,t);g.call(this,t,n),n=v.call(this,t),e.attributeChangedCallback(this,t,r,n,null)},Element.prototype.setAttributeNS=function(t,n,r){if(1!==this.__CE_state)return y.call(this,t,n,r);var o=w.call(this,t,n);y.call(this,t,n,r),r=w.call(this,t,n),e.attributeChangedCallback(this,n,o,r,t)},Element.prototype.removeAttribute=function(t){if(1!==this.__CE_state)return m.call(this,t);var n=v.call(this,t);m.call(this,t),null!==n&&e.attributeChangedCallback(this,t,n,null,null)},b&&(Element.prototype.toggleAttribute=function(t,n){if(1!==this.__CE_state)return b.call(this,t,n);var r=v.call(this,t);return null!==r!==(n=b.call(this,t,n))&&e.attributeChangedCallback(this,t,r,n?"":null,null),n}),Element.prototype.removeAttributeNS=function(t,n){if(1!==this.__CE_state)return _.call(this,t,n);var r=w.call(this,t,n);_.call(this,t,n);var o=w.call(this,t,n);r!==o&&e.attributeChangedCallback(this,n,r,o,t)},D?r(HTMLElement.prototype,D):E&&r(Element.prototype,E),P?o(HTMLElement.prototype,P):x&&o(Element.prototype,x),ie(e,Element.prototype,{prepend:$,append:k}),function(e){function t(t){return function(n){for(var r=[],o=0;o<arguments.length;++o)r[o]=arguments[o];o=[];for(var i=[],l=0;l<r.length;l++){var a=r[l];if(a instanceof Element&&F(a)&&i.push(a),a instanceof DocumentFragment)for(a=a.firstChild;a;a=a.nextSibling)o.push(a);else o.push(a)}for(t.apply(this,r),r=0;r<i.length;r++)J(e,i[r]);if(F(this))for(r=0;r<o.length;r++)(i=o[r])instanceof Element&&V(e,i)}}var n=Element.prototype;void 0!==C&&(n.before=t(C)),void 0!==T&&(n.after=t(T)),void 0!==L&&(n.replaceWith=function(t){for(var n=[],r=0;r<arguments.length;++r)n[r]=arguments[r];r=[];for(var o=[],i=0;i<n.length;i++){var l=n[i];if(l instanceof Element&&F(l)&&o.push(l),l instanceof DocumentFragment)for(l=l.firstChild;l;l=l.nextSibling)r.push(l);else r.push(l)}for(i=F(this),L.apply(this,n),n=0;n<o.length;n++)J(e,o[n]);if(i)for(J(e,this),n=0;n<r.length;n++)(o=r[n])instanceof Element&&V(e,o)}),void 0!==N&&(n.remove=function(){var t=F(this);N.call(this),t&&J(e,this)})}(e)}I.prototype.connectedCallback=function(e){var t=e.__CE_definition;if(t.connectedCallback)try{t.connectedCallback.call(e)}catch(e){U(e)}},I.prototype.disconnectedCallback=function(e){var t=e.__CE_definition;if(t.disconnectedCallback)try{t.disconnectedCallback.call(e)}catch(e){U(e)}},I.prototype.attributeChangedCallback=function(e,t,n,r,o){var i=e.__CE_definition;if(i.attributeChangedCallback&&-1<i.observedAttributes.indexOf(t))try{i.attributeChangedCallback.call(e,t,n,r,o)}catch(e){U(e)}},Y.prototype.resolve=function(e){if(this.g)throw Error("Already resolved.");this.g=e,this.l(e)},X.prototype.G=function(e){var t=this.g.readyState;for("interactive"!==t&&"complete"!==t||K(this),t=0;t<e.length;t++)for(var n=e[t].addedNodes,r=0;r<n.length;r++)Z(this.h,n[r])},ee.prototype.H=function(e,t){var n=this;if(!(t instanceof Function))throw new TypeError("Custom element constructor getters must be functions.");te(this,e),this.s.set(e,t),this.v.push(e),this.i||(this.i=!0,this.o((function(){return re(n)})))},ee.prototype.define=function(e,t){var n=this;if(!(t instanceof Function))throw new TypeError("Custom element constructors must be functions.");te(this,e),ne(this,e,t),this.v.push(e),this.i||(this.i=!0,this.o((function(){return re(n)})))},ee.prototype.upgrade=function(e){Z(this.h,e)},ee.prototype.get=function(e){if(e=oe(this,e))return e.constructorFunction},ee.prototype.whenDefined=function(e){if(!O(e))return Promise.reject(new SyntaxError("'"+e+"' is not a valid custom element name."));var t=this.B.get(e);if(t)return t.F;t=new Y,this.B.set(e,t);var n=this.u.has(e)||this.s.has(e);return e=-1===this.v.indexOf(e),n&&e&&t.resolve(void 0),t.F},ee.prototype.polyfillWrapFlushCallback=function(e){this.D&&K(this.D);var t=this.o;this.o=function(n){return e((function(){return t(n)}))}},ee.prototype.define=ee.prototype.define,ee.prototype.upgrade=ee.prototype.upgrade,ee.prototype.get=ee.prototype.get,ee.prototype.whenDefined=ee.prototype.whenDefined,ee.prototype.polyfillDefineLazy=ee.prototype.H,ee.prototype.polyfillWrapFlushCallback=ee.prototype.polyfillWrapFlushCallback;var ae={};var se=window.customElements;function ue(){var t=new I;(function(t){function n(){var n=this.constructor,r=document.__CE_registry.C.get(n);if(!r)throw Error("Failed to construct a custom element: The constructor was not registered with `customElements`.");var o=r.constructionStack;if(0===o.length)return o=e.call(document,r.localName),Object.setPrototypeOf(o,n.prototype),o.__CE_state=1,o.__CE_definition=r,z(t,o),o;var i=o.length-1,l=o[i];if(l===ae)throw Error("Failed to construct '"+r.localName+"': This element was already constructed.");return o[i]=ae,Object.setPrototypeOf(l,n.prototype),z(t,l),l}n.prototype=S.prototype,Object.defineProperty(HTMLElement.prototype,"constructor",{writable:!0,configurable:!0,enumerable:!1,value:n}),window.HTMLElement=n})(t),function(e){Document.prototype.createElement=function(t){return Q(e,this,t,null)},Document.prototype.importNode=function(t,r){return t=n.call(this,t,!!r),this.__CE_registry?Z(e,t):W(e,t),t},Document.prototype.createElementNS=function(t,n){return Q(e,this,n,t)},ie(e,Document.prototype,{prepend:r,append:o})}(t),ie(t,DocumentFragment.prototype,{prepend:i,append:l}),function(e){function t(t,n){Object.defineProperty(t,"textContent",{enumerable:n.enumerable,configurable:!0,get:n.get,set:function(t){if(this.nodeType===Node.TEXT_NODE)n.set.call(this,t);else{var r=void 0;if(this.firstChild){var o=this.childNodes,i=o.length;if(0<i&&F(this)){r=Array(i);for(var l=0;l<i;l++)r[l]=o[l]}}if(n.set.call(this,t),r)for(t=0;t<r.length;t++)J(e,r[t])}}})}Node.prototype.insertBefore=function(t,n){if(t instanceof DocumentFragment){var r=H(t);if(t=u.call(this,t,n),F(this))for(n=0;n<r.length;n++)V(e,r[n]);return t}return r=t instanceof Element&&F(t),n=u.call(this,t,n),r&&J(e,t),F(this)&&V(e,t),n},Node.prototype.appendChild=function(t){if(t instanceof DocumentFragment){var n=H(t);if(t=s.call(this,t),F(this))for(var r=0;r<n.length;r++)V(e,n[r]);return t}return n=t instanceof Element&&F(t),r=s.call(this,t),n&&J(e,t),F(this)&&V(e,t),r},Node.prototype.cloneNode=function(t){return t=a.call(this,!!t),this.ownerDocument.__CE_registry?Z(e,t):W(e,t),t},Node.prototype.removeChild=function(t){var n=t instanceof Element&&F(t),r=c.call(this,t);return n&&J(e,t),r},Node.prototype.replaceChild=function(t,n){if(t instanceof DocumentFragment){var r=H(t);if(t=d.call(this,t,n),F(this))for(J(e,n),n=0;n<r.length;n++)V(e,r[n]);return t}r=t instanceof Element&&F(t);var o=d.call(this,t,n),i=F(this);return i&&J(e,n),r&&J(e,t),i&&V(e,t),o},f&&f.get?t(Node.prototype,f):function(e,t){e.j=!0,e.m.push(t)}(e,(function(e){t(e,{enumerable:!0,configurable:!0,get:function(){for(var e=[],t=this.firstChild;t;t=t.nextSibling)t.nodeType!==Node.COMMENT_NODE&&e.push(t.textContent);return e.join("")},set:function(e){for(;this.firstChild;)c.call(this,this.firstChild);null!=e&&""!==e&&s.call(this,document.createTextNode(e))}})}))}(t),le(t),window.CustomElementRegistry=ee,t=new ee(t),document.__CE_registry=t,Object.defineProperty(window,"customElements",{configurable:!0,enumerable:!0,value:t})}se&&!se.forcePolyfill&&"function"==typeof se.define&&"function"==typeof se.get||ue(),window.__CE_installPolyfill=ue}).call(self);const bn=1,yn=2,lr=4,fo=8,ho=16,vo=8,po=1,_o=2,ar="[",En="[!",Cn="]",ht={},Q=Symbol(),ur=!1;var $n=Array.isArray,kn=Array.from,At=Object.keys,Dt=Object.defineProperty,je=Object.getOwnPropertyDescriptor,mo=Object.getOwnPropertyDescriptors,go=Object.prototype,wo=Array.prototype,an=Object.getPrototypeOf;const cr=()=>{};function fr(e){for(var t=0;t<e.length;t++)e[t]()}const pe=2,dr=4,gt=8,xn=16,_e=32,wt=64,un=128,Ye=256,Lt=512,te=1024,Re=2048,bt=4096,Ee=8192,ot=16384,bo=32768,Ht=65536,yo=1<<19,hr=1<<20,Ve=Symbol("$state"),vr=Symbol("legacy props"),Eo=Symbol("");function pr(e){return e===this.v}function Co(e,t){return e!=e?t==t:e!==t||null!==e&&"object"==typeof e||"function"==typeof e}function $o(e){return!Co(e,this.v)}function ko(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function xo(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function To(e){throw new Error("https://svelte.dev/e/effect_orphan")}function No(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function So(){throw new Error("https://svelte.dev/e/hydration_failed")}function Ao(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Do(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Lo(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Mo(){throw new Error("https://svelte.dev/e/state_unsafe_local_read")}function Oo(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let _r=!1;function ae(e){return{f:0,v:e,reactions:null,equals:pr,version:0}}function Me(e){return Ro(ae(e))}function Tn(e,t=!1){const n=ae(e);return t||(n.equals=$o),n}function Ro(e){return null!==H&&H.f&pe&&(null===Ce?Yo([e]):Ce.push(e)),e}function j(e,t){return null!==H&&Xo()&&H.f&(pe|xn)&&(null===Ce||!Ce.includes(e))&&Oo(),cn(e,t)}function cn(e,t){return e.equals(t)||(e.v=t,e.version=Or(),mr(e,Re),null!==L&&L.f&te&&!(L.f&_e)&&(null!==G&&G.includes(e)?(ke(L,Re),Yt(L)):null===Oe?Uo([e]):Oe.push(e))),t}function mr(e,t){var n=e.reactions;if(null!==n)for(var r=n.length,o=0;o<r;o++){var i=n[o],l=i.f;l&Re||(ke(i,t),l&(te|Ye)&&(l&pe?mr(i,bt):Yt(i)))}}function Nn(e){console.warn("https://svelte.dev/e/hydration_mismatch")}let F,P=!1;function Se(e){P=e}function ve(e){if(null===e)throw Nn(),ht;return F=e}function It(){return ve(De(F))}function J(e){if(P){if(null!==De(F))throw Nn(),ht;F=e}}function qo(e=1){if(P){for(var t=e,n=F;t--;)n=De(n);F=n}}function fn(){for(var e=0,t=F;;){if(8===t.nodeType){var n=t.data;if(n===Cn){if(0===e)return t;e-=1}else(n===ar||n===En)&&(e+=1)}var r=De(t);t.remove(),t=r}}function ce(e,t=null,n){if("object"!=typeof e||null===e||Ve in e)return e;const r=an(e);if(r!==go&&r!==wo)return e;var o,i=new Map,l=$n(e),a=ae(0);return l&&i.set("length",ae(e.length)),new Proxy(e,{defineProperty(e,t,n){(!("value"in n)||!1===n.configurable||!1===n.enumerable||!1===n.writable)&&Do();var r=i.get(t);return void 0===r?(r=ae(n.value),i.set(t,r)):j(r,ce(n.value,o)),!0},deleteProperty(e,t){var n=i.get(t);if(void 0===n)t in e&&i.set(t,ae(Q));else{if(l&&"string"==typeof t){var r=i.get("length"),o=Number(t);Number.isInteger(o)&&o<r.v&&j(r,o)}j(n,Q),Jn(a)}return!0},get(t,n,r){var l;if(n===Ve)return e;var a=i.get(n),s=n in t;if(void 0===a&&(!s||null!=(l=je(t,n))&&l.writable)&&(a=ae(ce(s?t[n]:Q,o)),i.set(n,a)),void 0!==a){var u=x(a);return u===Q?void 0:u}return Reflect.get(t,n,r)},getOwnPropertyDescriptor(e,t){var n=Reflect.getOwnPropertyDescriptor(e,t);if(n&&"value"in n){var r=i.get(t);r&&(n.value=x(r))}else if(void 0===n){var o=i.get(t),l=null==o?void 0:o.v;if(void 0!==o&&l!==Q)return{enumerable:!0,configurable:!0,value:l,writable:!0}}return n},has(e,t){var n;if(t===Ve)return!0;var r=i.get(t),l=void 0!==r&&r.v!==Q||Reflect.has(e,t);if((void 0!==r||null!==L&&(!l||null!=(n=je(e,t))&&n.writable))&&(void 0===r&&(r=ae(l?ce(e[t],o):Q),i.set(t,r)),x(r)===Q))return!1;return l},set(e,t,n,r){var s,u=i.get(t),c=t in e;if(l&&"length"===t)for(var d=n;d<u.v;d+=1){var f=i.get(d+"");void 0!==f?j(f,Q):d in e&&(f=ae(Q),i.set(d+"",f))}void 0===u?(!c||null!=(s=je(e,t))&&s.writable)&&(j(u=ae(void 0),ce(n,o)),i.set(t,u)):(c=u.v!==Q,j(u,ce(n,o)));var p=Reflect.getOwnPropertyDescriptor(e,t);if(null!=p&&p.set&&p.set.call(r,n),!c){if(l&&"string"==typeof t){var h=i.get("length"),v=Number(t);Number.isInteger(v)&&v>=h.v&&j(h,v+1)}Jn(a)}return!0},ownKeys(e){x(a);var t=Reflect.ownKeys(e).filter((e=>{var t=i.get(e);return void 0===t||t.v!==Q}));for(var[n,r]of i)r.v!==Q&&!(n in e)&&t.push(n);return t},setPrototypeOf(){Lo()}})}function Jn(e,t=1){j(e,e.v+t)}function Zn(e){return null!==e&&"object"==typeof e&&Ve in e?e[Ve]:e}function Po(e,t){return Object.is(Zn(e),Zn(t))}var Mt,Ie,gr,wr;function dn(){if(void 0===Mt){Mt=window,Ie=document;var e=Element.prototype,t=Node.prototype;gr=je(t,"firstChild").get,wr=je(t,"nextSibling").get,e.__click=void 0,e.__className="",e.__attributes=null,e.__styles=null,e.__e=void 0,Text.prototype.__t=void 0}}function nt(e=""){return document.createTextNode(e)}function qe(e){return gr.call(e)}function De(e){return wr.call(e)}function oe(e,t){if(!P)return qe(e);var n=qe(F);if(null===n)n=F.appendChild(nt());else if(t&&3!==n.nodeType){var r=nt();return null==n||n.before(r),ve(r),r}return ve(n),n}function Sn(e,t){if(!P){var n=qe(e);return n instanceof Comment&&""===n.data?De(n):n}return F}function ie(e,t=1,n=!1){let r=P?F:e;for(var o;t--;)o=r,r=De(r);if(!P)return r;var i=null==r?void 0:r.nodeType;if(n&&3!==i){var l=nt();return null===r?null==o||o.after(l):r.before(l),ve(l),l}return ve(r),r}function An(e){e.textContent=""}function Bt(e){var t=pe|Re;null===L?t|=Ye:L.f|=hr;var n=null!==H&&H.f&pe?H:null;const r={children:null,ctx:ee,deps:null,equals:pr,f:t,fn:e,reactions:null,v:null,version:0,parent:n??L};return null!==n&&(n.children??(n.children=[])).push(r),r}function br(e){var t=e.children;if(null!==t){e.children=null;for(var n=0;n<t.length;n+=1){var r=t[n];r.f&pe?Dn(r):Fe(r)}}}function Fo(e){for(var t=e.parent;null!==t;){if(!(t.f&pe))return t;t=t.parent}return null}function yr(e){var t,n=L;$e(Fo(e));try{br(e),t=Rr(e)}finally{$e(n)}return t}function Er(e){var t=yr(e);ke(e,(Ze||e.f&Ye)&&null!==e.deps?bt:te),e.equals(t)||(e.v=t,e.version=Or())}function Dn(e){br(e),mt(e,0),ke(e,ot),e.v=e.children=e.deps=e.ctx=e.reactions=null}function Ho(e){null===L&&null===H&&To(),null!==H&&H.f&Ye&&xo(),Rn&&ko()}function Io(e,t){var n=t.last;null===n?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function it(e,t,n,r=!0){var o=0!=(e&wt),i=L,l={ctx:ee,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:e|Re,first:null,fn:t,last:null,next:null,parent:o?null:i,prev:null,teardown:null,transitions:null,version:0};if(n){var a=Qe;try{Qn(!0),Wt(l),l.f|=bo}catch(e){throw Fe(l),e}finally{Qn(a)}}else null!==t&&Yt(l);if(!(n&&null===l.deps&&null===l.first&&null===l.nodes_start&&null===l.teardown&&0==(l.f&hr))&&!o&&r&&(null!==i&&Io(l,i),null!==H&&H.f&pe)){var s=H;(s.children??(s.children=[])).push(l)}return l}function Cr(e){const t=it(gt,null,!1);return ke(t,te),t.teardown=e,t}function Ot(e){if(Ho(),!(null!==L&&0!=(L.f&_e)&&null!==ee&&!ee.m))return Mn(e);var t=ee;(t.e??(t.e=[])).push({fn:e,effect:L,reaction:H})}function Ln(e){const t=it(wt,e,!0);return()=>{Fe(t)}}function Mn(e){return it(dr,e,!1)}function jt(e){return it(gt,e,!0)}function ye(e){return Vt(e)}function Vt(e,t=0){return it(gt|xn|t,e,!0)}function rt(e,t=!0){return it(gt|_e,e,!0,t)}function $r(e){var t=e.teardown;if(null!==t){const e=Rn,n=H;er(!0),Pe(null);try{t.call(null)}finally{er(e),Pe(n)}}}function kr(e){var t=e.deriveds;if(null!==t){e.deriveds=null;for(var n=0;n<t.length;n+=1)Dn(t[n])}}function xr(e,t=!1){var n=e.first;for(e.first=e.last=null;null!==n;){var r=n.next;Fe(n,t),n=r}}function Bo(e){for(var t=e.first;null!==t;){var n=t.next;t.f&_e||Fe(t),t=n}}function Fe(e,t=!0){var n=!1;if((t||e.f&yo)&&null!==e.nodes_start){for(var r=e.nodes_start,o=e.nodes_end;null!==r;){var i=r===o?null:De(r);r.remove(),r=i}n=!0}xr(e,t&&!n),kr(e),mt(e,0),ke(e,ot);var l=e.transitions;if(null!==l)for(const e of l)e.stop();$r(e);var a=e.parent;null!==a&&null!==a.first&&Tr(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function Tr(e){var t=e.parent,n=e.prev,r=e.next;null!==n&&(n.next=r),null!==r&&(r.prev=n),null!==t&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function hn(e,t){var n=[];On(e,n,!0),Nr(n,(()=>{Fe(e),t&&t()}))}function Nr(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var o of e)o.out(r)}else t()}function On(e,t,n){if(!(e.f&Ee)){if(e.f^=Ee,null!==e.transitions)for(const r of e.transitions)(r.is_global||n)&&t.push(r);for(var r=e.first;null!==r;){var o=r.next;On(r,t,!!(0!=(r.f&Ht)||0!=(r.f&_e))&&n),r=o}}}function Rt(e){Sr(e,!0)}function Sr(e,t){if(e.f&Ee){yt(e)&&Wt(e),e.f^=Ee;for(var n=e.first;null!==n;){var r=n.next;Sr(n,!!(0!=(n.f&Ht)||0!=(n.f&_e))&&t),n=r}if(null!==e.transitions)for(const n of e.transitions)(n.is_global||t)&&n.in()}}const jo=typeof requestIdleCallback>"u"?e=>setTimeout(e,1):requestIdleCallback;let qt=!1,Pt=!1,vn=[],pn=[];function Ar(){qt=!1;const e=vn.slice();vn=[],fr(e)}function Dr(){Pt=!1;const e=pn.slice();pn=[],fr(e)}function We(e){qt||(qt=!0,queueMicrotask(Ar)),vn.push(e)}function Vo(e){Pt||(Pt=!0,jo(Dr)),pn.push(e)}function zo(){qt&&Ar(),Pt&&Dr()}const Lr=0,Wo=1;let Tt=!1,Nt=Lr,pt=!1,_t=null,Qe=!1,Rn=!1;function Qn(e){Qe=e}function er(e){Rn=e}let Be=[],et=0,H=null;function Pe(e){H=e}let L=null;function $e(e){L=e}let Ce=null;function Yo(e){Ce=e}let G=null,re=0,Oe=null;function Uo(e){Oe=e}let Mr=0,Ze=!1,ee=null;function Or(){return++Mr}function Xo(){return!_r}function yt(e){var t,n,r=e.f;if(r&Re)return!0;if(r&bt){var o=e.deps,i=0!=(r&Ye);if(null!==o){var l;if(r&Lt){for(l=0;l<o.length;l++)((t=o[l]).reactions??(t.reactions=[])).push(e);e.f^=Lt}for(l=0;l<o.length;l++){var a=o[l];if(yt(a)&&Er(a),i&&null!==L&&!Ze&&!(null!=(n=null==a?void 0:a.reactions)&&n.includes(e))&&(a.reactions??(a.reactions=[])).push(e),a.version>e.version)return!0}}i||ke(e,te)}return!1}function Go(e,t){for(var n=t;null!==n;){if(n.f&un)try{return void n.fn(e)}catch{n.f^=un}n=n.parent}throw Tt=!1,e}function Ko(e){return 0==(e.f&ot)&&(null===e.parent||0==(e.parent.f&un))}function zt(e,t,n,r){if(Tt){if(null===n&&(Tt=!1),Ko(t))throw e}else null!==n&&(Tt=!0),Go(e,t)}function Rr(e){var t,n=G,r=re,o=Oe,i=H,l=Ze,a=Ce,s=ee,u=e.f;G=null,re=0,Oe=null,H=u&(_e|wt)?null:e,Ze=!Qe&&0!=(u&Ye),Ce=null,ee=e.ctx;try{var c=(0,e.fn)(),d=e.deps;if(null!==G){var f;if(mt(e,re),null!==d&&re>0)for(d.length=re+G.length,f=0;f<G.length;f++)d[re+f]=G[f];else e.deps=d=G;if(!Ze)for(f=re;f<d.length;f++)((t=d[f]).reactions??(t.reactions=[])).push(e)}else null!==d&&re<d.length&&(mt(e,re),d.length=re);return c}finally{G=n,re=r,Oe=o,H=i,Ze=l,Ce=a,ee=s}}function Jo(e,t){let n=t.reactions;if(null!==n){var r=n.indexOf(e);if(-1!==r){var o=n.length-1;0===o?n=t.reactions=null:(n[r]=n[o],n.pop())}}null===n&&t.f&pe&&(null===G||!G.includes(t))&&(ke(t,bt),t.f&(Ye|Lt)||(t.f^=Lt),mt(t,0))}function mt(e,t){var n=e.deps;if(null!==n)for(var r=t;r<n.length;r++)Jo(e,n[r])}function Wt(e){var t=e.f;if(!(t&ot)){ke(e,te);var n=L,r=ee;L=e;try{t&xn?Bo(e):xr(e),kr(e),$r(e);var o=Rr(e);e.teardown="function"==typeof o?o:null,e.version=Mr}catch(t){zt(t,e,n,r||e.ctx)}finally{L=n}}}function qr(){if(et>1e3){et=0;try{No()}catch(e){if(null===_t)throw e;zt(e,_t,null)}}et++}function Pr(e){var t=e.length;if(0!==t){qr();var n=Qe;Qe=!0;try{for(var r=0;r<t;r++){var o=e[r];o.f&te||(o.f^=te);var i=[];Fr(o,i),Zo(i)}}finally{Qe=n}}}function Zo(e){var t=e.length;if(0!==t)for(var n=0;n<t;n++){var r=e[n];if(!(r.f&(ot|Ee)))try{yt(r)&&(Wt(r),null===r.deps&&null===r.first&&null===r.nodes_start&&(null===r.teardown?Tr(r):r.fn=null))}catch(e){zt(e,r,null,r.ctx)}}}function Qo(){if(pt=!1,et>1001)return;const e=Be;Be=[],Pr(e),pt||(et=0,_t=null)}function Yt(e){Nt===Lr&&(pt||(pt=!0,queueMicrotask(Qo))),_t=e;for(var t=e;null!==t.parent;){var n=(t=t.parent).f;if(n&(wt|_e)){if(!(n&te))return;t.f^=te}}Be.push(t)}function Fr(e,t){var n=e.first,r=[];e:for(;null!==n;){var o=n.f,i=0!=(o&_e),l=i&&0!=(o&te),a=n.next;if(!(l||o&Ee))if(o&gt){if(i)n.f^=te;else try{yt(n)&&Wt(n)}catch(e){zt(e,n,null,n.ctx)}var s=n.first;if(null!==s){n=s;continue}}else o&dr&&r.push(n);if(null===a){let t=n.parent;for(;null!==t;){if(e===t)break e;var u=t.next;if(null!==u){n=u;continue e}t=t.parent}}n=a}for(var c=0;c<r.length;c++)s=r[c],t.push(s),Fr(s,t)}function Ue(e){var t=Nt,n=Be;try{qr();const t=[];Nt=Wo,Be=t,pt=!1,Pr(n);var r=null==e?void 0:e();return zo(),(Be.length>0||t.length>0)&&Ue(),et=0,_t=null,r}finally{Nt=t,Be=n}}function x(e){var t,n=e.f,r=0!=(n&pe);if(r&&n&ot){var o=yr(e);return Dn(e),o}if(null!==H){null!==Ce&&Ce.includes(e)&&Mo();var i=H.deps;null===G&&null!==i&&i[re]===e?re++:null===G?G=[e]:G.push(e),null!==Oe&&null!==L&&L.f&te&&!(L.f&_e)&&Oe.includes(e)&&(ke(L,Re),Yt(L))}else if(r&&null===e.deps)for(var l=e,a=l.parent,s=l;null!==a;){if(!(a.f&pe)){var u=a;null!=(t=u.deriveds)&&t.includes(s)||(u.deriveds??(u.deriveds=[])).push(s);break}s=a,a=a.parent}return r&&(yt(l=e)&&Er(l)),e.v}function qn(e){const t=H;try{return H=null,e()}finally{H=t}}const ei=~(Re|bt|te);function ke(e,t){e.f=e.f&ei|t}function st(e,t=!1,n){ee={p:ee,c:null,e:null,m:!1,s:e,x:null,l:null}}function lt(e){const t=ee;if(null!==t){void 0!==e&&(t.x=e);const l=t.e;if(null!==l){var n=L,r=H;t.e=null;try{for(var o=0;o<l.length;o++){var i=l[o];$e(i.effect),Pe(i.reaction),Mn(i.fn)}}finally{$e(n),Pe(r)}}ee=t.p,t.m=!0}return e||{}}function ti(e,t){{const t=document.body;e.autofocus=!0,We((()=>{document.activeElement===t&&e.focus()}))}}function ni(e){P&&null!==qe(e)&&An(e)}let tr=!1;function Hr(){tr||(tr=!0,document.addEventListener("reset",(e=>{Promise.resolve().then((()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)null==(t=n.__on_r)||t.call(n)}))}),{capture:!0}))}function Ir(e){var t=H,n=L;Pe(null),$e(null);try{return e()}finally{Pe(t),$e(n)}}function Br(e,t,n,r=n){e.addEventListener(t,(()=>Ir(n)));const o=e.__on_r;e.__on_r=o?()=>{o(),r(!0)}:()=>r(!0),Hr()}const jr=new Set,_n=new Set;function ri(e,t,n,r){function o(e){if(r.capture||ft.call(t,e),!e.cancelBubble)return Ir((()=>n.call(this,e)))}return e.startsWith("pointer")||e.startsWith("touch")||"wheel"===e?We((()=>{t.addEventListener(e,o,r)})):t.addEventListener(e,o,r),o}function be(e,t,n,r,o){var i={capture:r,passive:o},l=ri(e,t,n,i);(t===document.body||t===window||t===document)&&Cr((()=>{t.removeEventListener(e,l,i)}))}function Vr(e){for(var t=0;t<e.length;t++)jr.add(e[t]);for(var n of _n)n(e)}function ft(e){var t,n=this,r=n.ownerDocument,o=e.type,i=(null==(t=e.composedPath)?void 0:t.call(e))||[],l=i[0]||e.target,a=0,s=e.__root;if(s){var u=i.indexOf(s);if(-1!==u&&(n===document||n===window))return void(e.__root=n);var c=i.indexOf(n);if(-1===c)return;u<=c&&(a=u)}if((l=i[a]||e.target)!==n){Dt(e,"currentTarget",{configurable:!0,get:()=>l||r});var d=H,f=L;Pe(null),$e(null);try{for(var p,h=[];null!==l;){var v=l.assignedSlot||l.parentNode||l.host||null;try{var g=l["__"+o];if(void 0!==g&&!l.disabled)if($n(g)){var[m,...b]=g;m.apply(l,[e,...b])}else g.call(l,e)}catch(e){p?h.push(e):p=e}if(e.cancelBubble||v===n||null===v)break;l=v}if(p){for(let e of h)queueMicrotask((()=>{throw e}));throw p}}finally{e.__root=n,delete e.currentTarget,Pe(d),$e(f)}}}function oi(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function tt(e,t){var n=L;null===n.nodes_start&&(n.nodes_start=e,n.nodes_end=t)}function me(e,t){var n,r=0!=(1&t),o=0!=(2&t),i=!e.startsWith("<!>");return()=>{if(P)return tt(F,null),F;void 0===n&&(n=oi(i?e:"<!>"+e),r||(n=qe(n)));var t=o?document.importNode(n,!0):n.cloneNode(!0);r?tt(qe(t),t.lastChild):tt(t,t);return t}}function ii(){if(P)return tt(F,null),F;var e=document.createDocumentFragment(),t=document.createComment(""),n=nt();return e.append(t,n),tt(t,n),e}function se(e,t){if(P)return L.nodes_end=F,void It();null!==e&&e.before(t)}const si=["touchstart","touchmove"];function li(e){return si.includes(e)}function nn(e,t){var n=null==t?"":"object"==typeof t?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=null==n?"":n+"")}function zr(e,t){return Wr(e,t)}function ai(e,t){dn(),t.intro=t.intro??!1;const n=t.target,r=P,o=F;try{for(var i=qe(n);i&&(8!==i.nodeType||i.data!==ar);)i=De(i);if(!i)throw ht;Se(!0),ve(i),It();const r=Wr(e,{...t,anchor:i});if(null===F||8!==F.nodeType||F.data!==Cn)throw Nn(),ht;return Se(!1),r}catch(r){if(r===ht)return!1===t.recover&&So(),dn(),An(n),Se(!1),zr(e,t);throw r}finally{Se(r),ve(o)}}const Je=new Map;function Wr(e,{target:t,anchor:n,props:r={},events:o,context:i,intro:l=!0}){dn();var a=new Set,s=e=>{for(var n=0;n<e.length;n++){var r=e[n];if(!a.has(r)){a.add(r);var o=li(r);t.addEventListener(r,ft,{passive:o});var i=Je.get(r);void 0===i?(document.addEventListener(r,ft,{passive:o}),Je.set(r,1)):Je.set(r,i+1)}}};s(kn(jr)),_n.add(s);var u=void 0,c=Ln((()=>{var l=n??t.appendChild(nt());return rt((()=>{i&&(st({}),ee.c=i);o&&(r.$$events=o),P&&tt(l,null),u=e(l,r)||{},P&&(L.nodes_end=F),i&&lt()})),()=>{var e;for(var r of a){t.removeEventListener(r,ft);var o=Je.get(r);0==--o?(document.removeEventListener(r,ft),Je.delete(r)):Je.set(r,o)}_n.delete(s),mn.delete(u),l!==n&&(null==(e=l.parentNode)||e.removeChild(l))}}));return mn.set(u,c),u}let mn=new WeakMap;function ui(e){const t=mn.get(e);t&&t()}function Ft(e,t,n=!1){P&&It();var r=e,o=null,i=null,l=Q,a=!1;const s=(e,t=!0)=>{a=!0,u(t,e)},u=(e,t)=>{if(l===(l=e))return;let n=!1;if(P){const e=r.data===En;!!l===e&&(ve(r=fn()),Se(!1),n=!0)}l?(o?Rt(o):t&&(o=rt((()=>t(r)))),i&&hn(i,(()=>{i=null}))):(i?Rt(i):t&&(i=rt((()=>t(r)))),o&&hn(o,(()=>{o=null}))),n&&Se(!0)};Vt((()=>{a=!1,t(s),a||u(null,null)}),n?Ht:0),P&&(r=F)}function ci(e,t){return t}function fi(e,t,n,r){for(var o=[],i=t.length,l=0;l<i;l++)On(t[l].e,o,!0);var a=i>0&&0===o.length&&null!==n;if(a){var s=n.parentNode;An(s),s.append(n),r.clear(),Le(e,t[0].prev,t[i-1].next)}Nr(o,(()=>{for(var n=0;n<i;n++){var o=t[n];a||(r.delete(o.k),Le(e,o.prev,o.next)),Fe(o.e,!a)}}))}function Pn(e,t,n,r,o,i=null){var l=e,a={flags:t,items:new Map,first:null};if(0!=(t&lr)){var s=e;l=P?ve(qe(s)):s.appendChild(nt())}P&&It();var u=null,c=!1;Vt((()=>{var e=n(),s=$n(e)?e:null==e?[]:kn(e),d=s.length;if(c&&0===d)return;c=0===d;let f=!1;P&&(l.data===En!==(0===d)&&(ve(l=fn()),Se(!1),f=!0));if(P){for(var p,h=null,v=0;v<d;v++){if(8===F.nodeType&&F.data===Cn){l=F,f=!0,Se(!1);break}var g=s[v],m=r(g,v);p=Yr(F,a,h,null,g,m,v,o,t),a.items.set(m,p),h=p}d>0&&ve(fn())}P||di(s,a,l,o,t,0!=(H.f&Ee),r);null!==i&&(0===d?u?Rt(u):u=rt((()=>i(l))):null!==u&&hn(u,(()=>{u=null}))),f&&Se(!0),n()})),P&&(l=F)}function di(e,t,n,r,o,i,l){var a,s,u,c,d,f,p,h,v,g,m=0!=(o&fo),b=0!=(o&(bn|yn)),w=e.length,y=t.items,_=t.first,E=null,x=[],$=[];if(m)for(g=0;g<w;g+=1)h=l(p=e[g],g),void 0!==(v=y.get(h))&&(null==(a=v.a)||a.measure(),(f??(f=new Set)).add(v));for(g=0;g<w;g+=1)if(h=l(p=e[g],g),void 0!==(v=y.get(h))){if(b&&hi(v,p,g,o),v.e.f&Ee&&(Rt(v.e),m&&(null==(s=v.a)||s.unfix(),(f??(f=new Set)).delete(v))),v!==_){if(void 0!==d&&d.has(v)){if(x.length<$.length){var k,C=$[0];E=C.prev;var T=x[0],N=x[x.length-1];for(k=0;k<x.length;k+=1)nr(x[k],C,n);for(k=0;k<$.length;k+=1)d.delete($[k]);Le(t,T.prev,N.next),Le(t,E,T),Le(t,N,C),_=C,E=N,g-=1,x=[],$=[]}else d.delete(v),nr(v,_,n),Le(t,v.prev,v.next),Le(t,v,null===E?t.first:E.next),Le(t,E,v),E=v;continue}for(x=[],$=[];null!==_&&_.k!==h;)(i||!(_.e.f&Ee))&&(d??(d=new Set)).add(_),$.push(_),_=_.next;if(null===_)continue;v=_}x.push(v),E=v,_=v.next}else{E=Yr(_?_.e.nodes_start:n,t,E,null===E?t.first:E.next,p,h,g,r,o),y.set(h,E),x=[],$=[],_=E.next}if(null!==_||void 0!==d){for(var S=void 0===d?[]:kn(d);null!==_;)(i||!(_.e.f&Ee))&&S.push(_),_=_.next;var A=S.length;if(A>0){var D=o&lr&&0===w?n:null;if(m){for(g=0;g<A;g+=1)null==(u=S[g].a)||u.measure();for(g=0;g<A;g+=1)null==(c=S[g].a)||c.fix()}fi(t,S,D,y)}}m&&We((()=>{var e;if(void 0!==f)for(v of f)null==(e=v.a)||e.apply()})),L.first=t.first&&t.first.e,L.last=E&&E.e}function hi(e,t,n,r){r&bn&&cn(e.v,t),r&yn?cn(e.i,n):e.i=n}function Yr(e,t,n,r,o,i,l,a,s){var u=0!=(s&bn)?0==(s&ho)?Tn(o):ae(o):o,c=s&yn?ae(l):l,d={i:c,v:u,k:i,a:null,e:null,prev:n,next:r};try{return d.e=rt((()=>a(e,u,c)),P),d.e.prev=n&&n.e,d.e.next=r&&r.e,null===n?t.first=d:(n.next=d,n.e.next=d.e),null!==r&&(r.prev=d,r.e.prev=d.e),d}finally{}}function nr(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,o=t?t.e.nodes_start:n,i=e.e.nodes_start;i!==r;){var l=De(i);o.before(i),i=l}}function Le(e,t,n){null===t?e.first=n:(t.next=n,t.e.next=n&&n.e),null!==n&&(n.prev=t,n.e.prev=t&&t.e)}function vi(e,t,...n){var r,o=e,i=cr;Vt((()=>{i!==(i=t())&&(r&&(Fe(r),r=null),r=rt((()=>i(o,...n))))}),Ht),P&&(o=F)}function Ut(e,t){We((()=>{var n=e.getRootNode(),r=n.host?n:n.head??n.ownerDocument.head;if(!r.querySelector("#"+t.hash)){const e=document.createElement("style");e.id=t.hash,e.textContent=t.code,r.appendChild(e)}}))}function pi(e){if(P){var t=!1,n=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var n=e.value;ue(e,"value",null),e.value=n}if(e.hasAttribute("checked")){var r=e.checked;ue(e,"checked",null),e.checked=r}}};e.__on_r=n,Vo(n),Hr()}}function _i(e,t){var n=e.__attributes??(e.__attributes={});n.value===(n.value=t??void 0)||e.value===t&&(0!==t||"PROGRESS"!==e.nodeName)||(e.value=t)}function ue(e,t,n,r){var o=e.__attributes??(e.__attributes={});P&&(o[t]=e.getAttribute(t),"src"===t||"srcset"===t||"href"===t&&"LINK"===e.nodeName)||o[t]!==(o[t]=n)&&("style"===t&&"__styles"in e&&(e.__styles={}),"loading"===t&&(e[Eo]=n),null==n?e.removeAttribute(t):"string"!=typeof n&&mi(e).includes(t)?e[t]=n:e.setAttribute(t,n))}var rr=new Map;function mi(e){var t=rr.get(e.nodeName);if(t)return t;rr.set(e.nodeName,t=[]);for(var n,r=an(e),o=Element.prototype;o!==r;){for(var i in n=mo(r))n[i].set&&t.push(i);r=an(r)}return t}function vt(e,t,n){if(n){if(e.classList.contains(t))return;e.classList.add(t)}else{if(!e.classList.contains(t))return;e.classList.remove(t)}}function gi(e,t,n,r){var o=e.__styles??(e.__styles={});o[t]!==n&&(o[t]=n,null==n?e.style.removeProperty(t):e.style.setProperty(t,n,""))}function wi(e,t,n=t){Br(e,"input",(r=>{var o=r?e.defaultValue:e.value;if(o=on(e)?sn(o):o,n(o),o!==(o=t())){var i=e.selectionStart,l=e.selectionEnd;e.value=o??"",null!==l&&(e.selectionStart=i,e.selectionEnd=Math.min(l,e.value.length))}})),(P&&e.defaultValue!==e.value||null==qn(t)&&e.value)&&n(on(e)?sn(e.value):e.value),jt((()=>{var n=t();on(e)&&n===sn(e.value)||"date"===e.type&&!n&&!e.value||n!==e.value&&(e.value=n??"")}))}const rn=new Set;function bi(e,t,n,r,o=r){var i="checkbox"===n.getAttribute("type"),l=e;let a=!1;if(null!==t)for(var s of t)l=l[s]??(l[s]=[]);l.push(n),Br(n,"change",(()=>{var e=n.__value;i&&(e=or(l,e,n.checked)),o(e)}),(()=>o(i?[]:null))),jt((()=>{var e=r();P&&n.defaultChecked!==n.checked?a=!0:i?(e=e||[],n.checked=e.includes(n.__value)):n.checked=Po(n.__value,e)})),Cr((()=>{var e=l.indexOf(n);-1!==e&&l.splice(e,1)})),rn.has(l)||(rn.add(l),We((()=>{l.sort(((e,t)=>4===e.compareDocumentPosition(t)?-1:1)),rn.delete(l)}))),We((()=>{if(a){var e;if(i)e=or(l,e,n.checked);else{var t=l.find((e=>e.checked));e=null==t?void 0:t.__value}o(e)}}))}function or(e,t,n){for(var r=new Set,o=0;o<e.length;o+=1)e[o].checked&&r.add(e[o].__value);return n||r.delete(t),Array.from(r)}function on(e){var t=e.type;return"number"===t||"range"===t}function sn(e){return""===e?null:+e}function ir(e,t){return e===t||(null==e?void 0:e[Ve])===t}function gn(e={},t,n,r){return Mn((()=>{var r,o;return jt((()=>{r=o,o=[],qn((()=>{e!==n(...o)&&(t(e,...o),r&&ir(n(...r),e)&&t(null,...r))}))})),()=>{We((()=>{o&&ir(n(...o),e)&&t(null,...o)}))}})),e}function yi(e){for(var t=L,n=L;null!==t&&!(t.f&(_e|wt));)t=t.parent;try{return $e(t),e()}finally{$e(n)}}function Et(e,t,n,r){var o,i,l=!_r,a=0!=(n&vo);i=e[t];var s,u=Ve in e||vr in e,c=(null==(o=je(e,t))?void 0:o.set)??(u&&a&&t in e?n=>e[t]=n:void 0),d=r,f=!0,p=!1,h=()=>(p=!0,f&&(f=!1,d=r),d);if(void 0===i&&void 0!==r&&(c&&l&&Ao(),i=h(),c&&c(i)),s=()=>{var n=e[t];return void 0===n?h():(f=!0,p=!1,n)},c){var v=e.$$legacy;return function(e,t){return arguments.length>0?(!(t&&!v)&&c(t?s():e),e):s()}}var g=!1,m=Tn(i),b=yi((()=>Bt((()=>{var e=s(),t=x(m);return g?(g=!1,!0,t):(!1,m.v=e)}))));return function(e,t){if(arguments.length>0){const n=t?x(b):e;return b.equals(n)||(g=!0,j(m,n),p&&void 0!==d&&(d=n),qn((()=>x(b)))),e}return x(b)}}function Ei(e){return new Ci(e)}var Te,le;class Ci{constructor(e){var t;en(this,Te),en(this,le);var n=new Map,r=(e,t)=>{var r=Tn(t);return n.set(e,r),r};const o=new Proxy({...e.props||{},$$events:{}},{get:(e,t)=>x(n.get(t)??r(t,Reflect.get(e,t))),has:(e,t)=>t===vr||(x(n.get(t)??r(t,Reflect.get(e,t))),Reflect.has(e,t)),set:(e,t,o)=>(j(n.get(t)??r(t,o),o),Reflect.set(e,t,o))});tn(this,le,(e.hydrate?ai:zr)(e.component,{target:e.target,anchor:e.anchor,props:o,context:e.context,intro:e.intro??!1,recover:e.recover})),(!(null!=(t=null==e?void 0:e.props)&&t.$$host)||!1===e.sync)&&Ue(),tn(this,Te,o.$$events);for(const e of Object.keys(Z(this,le)))"$set"===e||"$destroy"===e||"$on"===e||Dt(this,e,{get(){return Z(this,le)[e]},set(t){Z(this,le)[e]=t},enumerable:!0});Z(this,le).$set=e=>{Object.assign(o,e)},Z(this,le).$destroy=()=>{ui(Z(this,le))}}$set(e){Z(this,le).$set(e)}$on(e,t){Z(this,Te)[e]=Z(this,Te)[e]||[];const n=(...e)=>t.call(this,...e);return Z(this,Te)[e].push(n),()=>{Z(this,Te)[e]=Z(this,Te)[e].filter((e=>e!==n))}}$destroy(){Z(this,le).$destroy()}}let Ur;function St(e,t,n,r){var o;const i=null==(o=n[e])?void 0:o.type;if(t="Boolean"===i&&"boolean"!=typeof t?null!=t:t,!r||!n[e])return t;if("toAttribute"===r)switch(i){case"Object":case"Array":return null==t?null:JSON.stringify(t);case"Boolean":return t?"":null;case"Number":return t??null;default:return t}else switch(i){case"Object":case"Array":return t&&JSON.parse(t);case"Boolean":default:return t;case"Number":return null!=t?+t:t}}function $i(e){const t={};return e.childNodes.forEach((e=>{t[e.slot||"default"]=!0})),t}function Ct(e,t,n,r,o,i){let l=class extends Ur{constructor(){super(e,n,o),this.$$p_d=t}static get observedAttributes(){return At(t).map((e=>(t[e].attribute||e).toLowerCase()))}};return At(t).forEach((e=>{Dt(l.prototype,e,{get(){return this.$$c&&e in this.$$c?this.$$c[e]:this.$$d[e]},set(n){var r;n=St(e,n,t),this.$$d[e]=n;var o=this.$$c;o&&((null==(r=je(o,e))?void 0:r.get)?o[e]=n:o.$set({[e]:n}))}})})),r.forEach((e=>{Dt(l.prototype,e,{get(){var t;return null==(t=this.$$c)?void 0:t[e]}})})),e.element=l,l}Te=new WeakMap,le=new WeakMap,"function"==typeof HTMLElement&&(Ur=class extends HTMLElement{constructor(e,t,n){super(),he(this,"$$ctor"),he(this,"$$s"),he(this,"$$c"),he(this,"$$cn",!1),he(this,"$$d",{}),he(this,"$$r",!1),he(this,"$$p_d",{}),he(this,"$$l",{}),he(this,"$$l_u",new Map),he(this,"$$me"),this.$$ctor=e,this.$$s=t,n&&this.attachShadow({mode:"open"})}addEventListener(e,t,n){if(this.$$l[e]=this.$$l[e]||[],this.$$l[e].push(t),this.$$c){const n=this.$$c.$on(e,t);this.$$l_u.set(t,n)}super.addEventListener(e,t,n)}removeEventListener(e,t,n){if(super.removeEventListener(e,t,n),this.$$c){const e=this.$$l_u.get(t);e&&(e(),this.$$l_u.delete(t))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let e=function(e){return t=>{const n=document.createElement("slot");"default"!==e&&(n.name=e),se(t,n)}};if(await Promise.resolve(),!this.$$cn||this.$$c)return;const t={},n=$i(this);for(const r of this.$$s)r in n&&("default"!==r||this.$$d.children?t[r]=e(r):(this.$$d.children=e(r),t.default=!0));for(const e of this.attributes){const t=this.$$g_p(e.name);t in this.$$d||(this.$$d[t]=St(t,e.value,this.$$p_d,"toProp"))}for(const e in this.$$p_d)!(e in this.$$d)&&void 0!==this[e]&&(this.$$d[e]=this[e],delete this[e]);this.$$c=Ei({component:this.$$ctor,target:this.shadowRoot||this,props:{...this.$$d,$$slots:t,$$host:this}}),this.$$me=Ln((()=>{jt((()=>{var e;this.$$r=!0;for(const t of At(this.$$c)){if(null==(e=this.$$p_d[t])||!e.reflect)continue;this.$$d[t]=this.$$c[t];const n=St(t,this.$$d[t],this.$$p_d,"toAttribute");null==n?this.removeAttribute(this.$$p_d[t].attribute||t):this.setAttribute(this.$$p_d[t].attribute||t,n)}this.$$r=!1}))}));for(const e in this.$$l)for(const t of this.$$l[e]){const n=this.$$c.$on(e,t);this.$$l_u.set(t,n)}this.$$l={}}}attributeChangedCallback(e,t,n){var r;this.$$r||(e=this.$$g_p(e),this.$$d[e]=St(e,n,this.$$p_d,"toProp"),null==(r=this.$$c)||r.$set({[e]:this.$$d[e]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then((()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$me(),this.$$c=void 0)}))}$$g_p(e){return At(this.$$p_d).find((t=>this.$$p_d[t].attribute===e||!this.$$p_d[t].attribute&&t.toLowerCase()===e))||e}});const Ae=new Map([["yellow","#F8B920"],["red","#FF4646"],["blue","#0064FF"],["green","#00C564"]]),ki=["SCRIPT","STYLE","NOSCRIPT","TEXTAREA","OPTION"];function Fn(e){const t=document.documentElement.lang||void 0,n=e.map((e=>e.trim().toLocaleLowerCase(t))),r=n.map((()=>({start:null,end:null,shift:0}))),o=n.map((()=>[])),i=document.createTreeWalker(document.body,NodeFilter.SHOW_TEXT,(e=>{var t,n;return ki.includes(null==(t=e.parentNode)?void 0:t.tagName)||"true"==(null==(n=e.parentNode)?void 0:n.contentEditable)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}));let l;for(;l=i.nextNode();)if(null!=l&&l.nodeValue)for(let e=0;e<l.nodeValue.length;e++){const i=l.nodeValue[e].toLocaleLowerCase(t).trim();i&&n.forEach(((t,n)=>{for(var a,s;t[r[n].shift]&&!t[r[n].shift].trim();)r[n].shift++;let u=t[r[n].shift]===i;if(!u&&r[n].shift&&(r[n].shift=0,u=t[r[n].shift]===i),u&&(r[n].shift||(r[n].start=[l,e]),r[n].end=[l,e],r[n].shift++),r[n].shift>=t.length){const e=document.createRange();e.setStart(r[n].start[0],r[n].start[1]),e.setEnd(r[n].end[0],r[n].end[1]+1),e.collapsed||null!=(a=e.commonAncestorContainer.parentElement)&&a.checkVisibility&&(null==(s=e.commonAncestorContainer.parentElement)||!s.checkVisibility())?e.detach():o[n].push(e),u=!1}u||(r[n].shift=0,r[n].start=null,r[n].end=null)}))}return o}const ze=`rh-${(new Date).getTime()}-`,Xt="highlights"in CSS;function xi(e){if(!e.length&&!CSS.highlights.size)return;const t=[];if(CSS.highlights.clear(),e.length){const n=Fn(e.map((({text:e})=>e||"")));for(const r in e){const o=n[r];if(!o.length)continue;const{_id:i,color:l,note:a,index:s=0}=e[r],u=`${ze}${i}`,c=(null==o?void 0:o[s])||o[0];CSS.highlights.set(u,new Highlight(c));const d=c.getBoundingClientRect();t.push(`\n                ::highlight(${u}) {\n                    all: unset;\n                    background-color: color-mix(in srgb, ${Ae.get(l)||l||"yellow"}, white 60%) !important;\n                    color: color-mix(in srgb, ${Ae.get(l)||l||"yellow"}, black 80%) !important;\n                    ${a?"text-decoration: underline wavy; -webkit-text-decoration: underline wavy;":""}\n                    text-decoration-thickness: from-font;\n                }\n\n                /* fuck you dark reader */\n                html[data-darkreader-scheme="dark"] ::highlight(${u}) {\n                    color: CanvasText !important;\n                }\n\n                /* pdf render */\n                .pdf ::highlight(${u}) {\n                    background-color: color-mix(in srgb, ${Ae.get(l)||l||"yellow"}, transparent 60%) !important;\n                    color: transparent !important;\n                }\n\n                :root {\n                    --highlight-${i}-top: ${(100/document.documentElement.scrollHeight*(window.scrollY+d.top-10)).toFixed(2)}%;\n                }\n            `);for(const e of o)e.detach()}}(()=>{let e=document.getElementById(ze);return e||(e=document.createElement("style"),e.id=ze,document.head.appendChild(e)),e})().innerHTML=t.join("\n")}function Ti(){var e;null==(e=document.getElementById(ze))||e.remove()}function Ni(e){var t;for(const[n,r]of CSS.highlights){if(e==n.replace(ze,""))for(const e of r){null==(t=e.startContainer.parentElement)||t.scrollIntoView({behavior:"smooth",block:"start"});break}}}function Si(e){let t;for(const[n,r]of CSS.highlights)for(const o of r){const r=e.compareBoundaryPoints(Range.START_TO_START,o),i=e.compareBoundaryPoints(Range.END_TO_END,o);(0==r&&0==i||null!=e&&e.collapsed&&r>=0&&i<=0)&&(t=[n.replace(ze,""),o])}if(t)return t[0].replace(ze,"")}const Ne=`rh-${(new Date).getTime()}`;function Ai(e){const t=document.body.querySelectorAll(`.${Ne}`);if(!e.length&&!t.length)return;t.forEach((e=>e.outerHTML=e.innerText));const n=[],r=Fn(e.map((({text:e})=>e||"")));for(const t in e){const{_id:o,color:i}=e[t];for(const e of r[t]){const t=document.createElement("mark");t.className=Ne,t.setAttribute("data-id",String(o)),t.append(e.extractContents()),e.insertNode(t),e.detach()}n.push(`\n            .${Ne}[data-id="${o}"] {\n                all: unset;\n                display: inline-block !important;\n                background-color: white !important;\n                background-image: linear-gradient(to bottom, ${sr(Ae.get(i)||i,.4)} 0, ${sr(Ae.get(i)||i,.4)} 100%) !important;\n                color: black !important;\n            }\n        `)}(()=>{let e=document.getElementById(Ne);return e||(e=document.createElement("style"),e.id=Ne,document.head.appendChild(e)),e})().innerHTML=n.join("\n")}function Di(){var e;document.body.querySelectorAll(`.${Ne}`).forEach((e=>e.outerHTML=e.innerText)),null==(e=document.getElementById(Ne))||e.remove()}function Li(e){const t=document.body.querySelector(`.${Ne}[data-id="${e}"]`);t&&t.scrollIntoView({behavior:"smooth",block:"start"})}function Mi(e){const t=e.commonAncestorContainer.nodeType==Node.ELEMENT_NODE?e.commonAncestorContainer:e.commonAncestorContainer.parentElement;if((null==t?void 0:t.className)==Ne){if(!e.collapsed){const t=new Range;t.selectNodeContents(e.commonAncestorContainer);const n=e.compareBoundaryPoints(Range.START_TO_START,t),r=e.compareBoundaryPoints(Range.END_TO_END,t);if(t.detach(),0!=n||0!=r)return}return t.getAttribute("data-id")||void 0}}function sr(e,t){if(!e)return e;return`rgba(${parseInt(e.slice(1,3),16)}, ${parseInt(e.slice(3,5),16)}, ${parseInt(e.slice(5,7),16)}, ${t})`}function Oi(e){return Xt?xi(e):Ai(e)}function ln(e){return Oi(e)}function Ri(){return Xt?Ti():Di()}function Xr(e){return Xt?Ni(e):Li(e)}function Gr(){var e,t,n;const r=document.getSelection();if(null==r||!r.rangeCount)return;const o=r.getRangeAt(0);return null!=(n=1==(null==(e=null==o?void 0:o.commonAncestorContainer)?void 0:e.nodeType)?null==o?void 0:o.commonAncestorContainer:null==(t=null==o?void 0:o.commonAncestorContainer)?void 0:t.parentElement)&&n.closest('[contenteditable=""], [contenteditable=true]')?void 0:o}function dt(){const e=document.getSelection();null!=e&&e.rangeCount&&e.removeAllRanges()}function qi(e){return Xt?Si(e):Mi(e)}function Kr(e){if(!e)return"";var t=document.createElement("div");t.appendChild(e.cloneContents().cloneNode(!0)),t.querySelectorAll("tspan").forEach((e=>e.outerHTML=`<span>${e.innerHTML}</span>`)),t.querySelectorAll("text").forEach((e=>e.outerHTML=`<div>${e.innerHTML}</div>`)),document.body.appendChild(t);const n=t.innerText;return document.body.removeChild(t),t=void 0,n}function Pi(e){if(!e)return;const t=Kr(e);if(!t)return;const[n]=Fn([t]),r=n.findIndex((t=>{const n=t.compareBoundaryPoints(Range.START_TO_START,e),r=t.compareBoundaryPoints(Range.END_TO_END,e);return 0==n&&0==r||(null==e?void 0:e.collapsed)&&n>=0&&r<=0}));return-1==r?void 0:r}function Fi(e,t,n){let r=Me(ce([])),o=Me(!1),i=Me(!1),l=Me(void 0);function a(n){const o={..."string"==typeof n._id?{_id:n._id}:{},..."string"==typeof n.text?{text:n.text}:{},..."string"==typeof n.note?{note:n.note}:{},..."number"==typeof n.index?{index:n.index}:{},color:n.color||"yellow"};if(!o.text)return;const i=x(r).findIndex((e=>{var t,n;return e._id==o._id||(null==(t=e.text)?void 0:t.toLocaleLowerCase().trim())===(null==(n=o.text)?void 0:n.toLocaleLowerCase().trim())}));-1!=i?(o._id=x(r)[i]._id,x(r)[i]=o,t(o)):(x(r).push(o),e(o))}return{get highlights(){return x(r)},set highlights(e){j(r,ce(e))},get pro(){return x(o)},set pro(e){j(o,ce(e))},get nav(){return x(i)},set nav(e){j(i,ce(e))},get draft(){return x(l)},find:function(e){const t=qi(e);if(t)return x(r).find((e=>e._id==t));const n=Kr(e).trim();return n?{text:n,index:Pi(e)}:void 0},upsert:a,remove:function({_id:e}){j(r,ce(x(r).filter((t=>t._id!=e)))),n({_id:e})},setDraft:function(e){j(l,ce(JSON.parse(JSON.stringify(e))))},draftSubmit:function(){x(l)&&(a(x(l)),j(l,void 0))},draftCancel:function(){j(l,void 0)}}}const Hi="5";function Ii(e,t){let n=null,r=!0;return function(...o){n||(r?(e(...o),r=!1):(clearTimeout(n),n=setTimeout((()=>{e(...o),clearTimeout(n),n=null}),t)))}}function wn(){var e;return!(null==(e=null==navigator?void 0:navigator.userAgentData)||!e.mobile)||/Android|webOS|iPhone|iPad|iPod|Opera Mini/i.test(navigator.userAgent)}typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Hi);var Bi=me('<button type="submit" class="svelte-1rsw1q7"><span class="color svelte-1rsw1q7"></span></button>'),ji=me('<button type="submit" value="remove" title="Delete highlight" aria-label="Delete highlight" class="svelte-1rsw1q7"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" class="svelte-1rsw1q7"><g class="svelte-1rsw1q7"><line x1="2.75" y1="4.25" x2="15.25" y2="4.25" fill="none" stroke-linecap="round" stroke-linejoin="round" class="svelte-1rsw1q7"></line><path d="M6.75,4.25v-1.5c0-.552,.448-1,1-1h2.5c.552,0,1,.448,1,1v1.5" fill="none" stroke-linecap="round" stroke-linejoin="round" class="svelte-1rsw1q7"></path><path d="M13.5,6.75l-.4,7.605c-.056,1.062-.934,1.895-1.997,1.895H6.898c-1.064,0-1.941-.833-1.997-1.895l-.4-7.605" fill="none" stroke-linecap="round" stroke-linejoin="round" class="svelte-1rsw1q7"></path></g></svg></button>'),Vi=me('<dialog class="svelte-1rsw1q7"><form method="dialog" class="svelte-1rsw1q7"><!> <button type="submit" value="note" title="Add note" aria-label="Add note" class="svelte-1rsw1q7"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" class="svelte-1rsw1q7"><g class="svelte-1rsw1q7"><path stroke-linecap="round" stroke-linejoin="round" d="M9,1.75C4.996,1.75,1.75,4.996,1.75,9c0,1.319,.358,2.552,.973,3.617,.43,.806-.053,2.712-.973,3.633,1.25,.068,2.897-.497,3.633-.973,.489,.282,1.264,.656,2.279,.848,.433,.082,.881,.125,1.338,.125,4.004,0,7.25-3.246,7.25-7.25S13.004,1.75,9,1.75Z" class="svelte-1rsw1q7"></path><path stroke-width="0" d="M9,10c-.552,0-1-.449-1-1s.448-1,1-1,1,.449,1,1-.448,1-1,1Z" class="svelte-1rsw1q7"></path><path stroke-width="0" d="M5.5,10c-.552,0-1-.449-1-1s.448-1,1-1,1,.449,1,1-.448,1-1,1Z" class="svelte-1rsw1q7"></path><path stroke-width="0" d="M12.5,10c-.552,0-1-.449-1-1s.448-1,1-1,1,.449,1,1-.448,1-1,1Z" class="svelte-1rsw1q7"></path></g></svg></button> <!></form></dialog>');const zi={hash:"svelte-1rsw1q7",code:".svelte-1rsw1q7 {user-select:none;-webkit-user-select:none;box-sizing:border-box;-webkit-tap-highlight-color:transparent;}dialog.svelte-1rsw1q7 {transform-origin:0 0;transform:scale(var(--mobile-zoom-level, 1));--control-size: 16px;--padding-s: 6px;--padding-m: 8px;--bg-light: rgb(255, 255, 255);--bg-dark: rgb(60, 60, 60);--control-fg-light: rgb(65, 65, 65);--control-fg-dark: rgb(230, 230, 230);--hover-bg-light: rgba(0,0,0,.07);--hover-bg-dark: rgba(255,255,255,.1);--active-bg-light: rgba(0,0,0,.13);--active-bg-dark: rgba(255,255,255,.2);}\n\n    /* Safari iOS fix position bug */\n    @supports (background-color: -apple-system-control-background) {dialog.svelte-1rsw1q7 {transform-origin:top right;}\n    }\n\n    @supports (background-color: -apple-system-control-background) {dialog.svelte-1rsw1q7 {--bg-light: rgba(255, 255, 255, .8);--bg-dark: rgba(60, 60, 60, .8);backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px);}\n    }dialog.mobile.svelte-1rsw1q7 {--control-size: 26px;}dialog.svelte-1rsw1q7 {position:absolute;left:unset;top:unset;right:unset;bottom:unset;border:none;padding:2px;border-radius:var(--control-size);overflow:clip;z-index:999999999999999;background:var(--bg-light);color:var(--control-fg-light);\n\n        @supports(color: light-dark(white,black)) {background:light-dark(var(--bg-light), var(--bg-dark));color:light-dark(var(--control-fg-light), var(--control-fg-dark));\n        }}\n\n    /* dialog.mobile.new {\n        position: fixed;\n        top: auto !important;\n        left: auto !important;\n        right: 16px !important;\n        bottom: 16px !important;\n        margin-right: env(safe-area-inset-right);\n        margin-bottom: env(safe-area-inset-bottom);\n    } */[open].svelte-1rsw1q7 {box-shadow:0 0 0 .5px rgba(0,0,0,.2), 0 5px 10px rgba(0,0,0,.05), 0 15px 40px rgba(0,0,0,.1);}form.svelte-1rsw1q7 {display:flex;gap:2px;margin:0;padding:0;}button.svelte-1rsw1q7 {border-radius:var(--control-size);border:0;background:transparent;cursor:pointer;appearance:none;touch-action:manipulation;width:calc(var(--control-size) + var(--padding-s)*2);height:calc(var(--control-size) + var(--padding-s)*2);padding:var(--padding-s);color:inherit;display:flex;align-items:center;justify-content:center;transition:background .15s ease-in-out;}\n\n    @media (pointer: fine) {button.svelte-1rsw1q7:hover {transition:none;background:var(--hover-bg-light);\n\n            @supports(color: light-dark(white,black)) {background:light-dark(var(--hover-bg-light), var(--hover-bg-dark));\n            }}\n    }button.svelte-1rsw1q7:active {transition:none;background:var(--active-bg-light);\n\n        @supports(color: light-dark(white,black)) {background:light-dark(var(--active-bg-light), var(--active-bg-dark));\n        }}svg.svelte-1rsw1q7 {stroke:currentColor;stroke-width:1.5px;}.color.svelte-1rsw1q7 {pointer-events:none;content:'';display:block;width:15px;height:15px;background:var(--color);transition:background .15s ease-in-out, box-shadow .15s ease-in-out;border-radius:50%;}.color.active.svelte-1rsw1q7 {background:transparent;box-shadow:inset 0 0 0 5px var(--color);}\n\n    /* animation */dialog.svelte-1rsw1q7 {transition:display .25s allow-discrete ease-in-out, \n            overlay .25s allow-discrete ease-in-out, \n            box-shadow .25s allow-discrete ease-in-out, \n            opacity .25s ease-in-out;opacity:0;}[open].svelte-1rsw1q7 {opacity:1;}dialog.svelte-1rsw1q7:not([open]) {transition-duration:.2s;pointer-events:none;}\n\n    @starting-style {[open].svelte-1rsw1q7 {opacity:0;}\n    }"};function Jr(e,t){st(t,!0),Ut(e,zi);let n,r=Et(t,"store",7),o=Me(void 0),i=Me(!1);function l(){j(i,!0)}function a(){j(i,!1),setTimeout(s)}function s(){x(i)?null==n||n.close():requestAnimationFrame((()=>{const e=Gr(),t=e&&r().find(e);if(!e||(null==t||!t._id)&&!e.toString().trim())return void(null==n||n.close());j(o,ce(t)),n.inert=!0,null==n||n.show(),n.inert=!1;const i=e.getBoundingClientRect(),l=Math.min(Math.max(i.x,10)+window.scrollX,window.innerWidth+window.scrollX-256-10),a=Math.min(window.innerWidth-Math.max(i.x,10)-window.scrollX-i.width,window.innerWidth-window.scrollX-256-10),s=Math.max(i.y,40)+window.scrollY+i.height+4;window.innerHeight,Math.max(i.y,40),window.scrollY;const u=l<window.innerWidth/2+window.scrollX;null==n||n.style.setProperty("left",u?`${l}px`:"unset"),null==n||n.style.setProperty("right",u?"unset":`${a}px`),null==n||n.style.setProperty("top",`${s}px`),null==n||n.style.setProperty("bottom","unset")}))}const u=Ii(s,200);var c=Vi();be("mousedown",Ie,l),be("touchstart",Ie,l,void 0,!0),be("mouseup",Ie,a),be("touchend",Ie,a),be("touchcancel",Ie,a),be("selectionchange",Ie,u);const d=Bt(wn);ye((()=>vt(c,"mobile",x(d))));var f=oe(c),p=oe(f);Pn(p,17,(()=>Ae),(([e,t])=>e),((e,t)=>{let n=()=>x(t)[0];var r=Bi(),i=oe(r);J(r),ye((()=>{var e;ue(r,"aria-label",n()),_i(r,n()),ue(i,"style",`--color: ${x(t)[1]??""}`),vt(i,"active",n()==(null==(e=x(o))?void 0:e.color))})),se(e,r)}));var h=ie(p,2),v=oe(h),g=oe(v),m=oe(g),b=ie(m),w=ie(b),y=ie(w);J(g),J(v),J(h);var _=ie(h,2),E=e=>{se(e,ji())};return Ft(_,(e=>{var t;null!=(t=x(o))&&t._id&&e(E)})),J(f),J(c),gn(c,(e=>n=e),(()=>n)),ye((()=>{var e,t,n,r,i,l;vt(c,"new",!(null!=(e=x(o))&&e._id)),ue(m,"fill",null!=(t=x(o))&&t.note?"currentColor":"none"),ue(m,"stroke-width",null!=(n=x(o))&&n.note?"0":void 0),ue(b,"fill",null!=(r=x(o))&&r.note?"none":"currentColor"),ue(w,"fill",null!=(i=x(o))&&i.note?"none":"currentColor"),ue(y,"fill",null!=(l=x(o))&&l.note?"none":"currentColor")})),be("close",c,(function(e){if(!x(o))return;const t=e.currentTarget.returnValue;switch(e.currentTarget.returnValue="",t){case"add":r().upsert(x(o)),dt();break;case"note":r().setDraft(x(o)),dt();break;case"remove":r().remove(x(o)),dt();break;default:if(Ae.has(t))return r().upsert({...x(o),color:t}),void dt()}})),se(e,c),lt({get store(){return r()},set store(e){r(e),Ue()}})}function Wi(e){const t=e.currentTarget.getBoundingClientRect();t.top<=e.clientY&&e.clientY<=t.top+t.height&&t.left<=e.clientX&&e.clientX<=t.left+t.width||(e.preventDefault(),e.currentTarget.close())}Ct(Jr,{store:{}},[],[],!0);var Yi=(e,t)=>j(t,!1),Ui=me('<input type="radio" name="color" class="svelte-ub8p4v">'),Xi=me('<div class="unlock svelte-ub8p4v"><a href="https://raindrop.io/pro/buy" target="_blank" class="svelte-ub8p4v">Upgrade to Pro</a> to unlock annotation</div>'),Gi=me('<blockquote role="presentation" class="svelte-ub8p4v"> </blockquote> <fieldset class="color svelte-ub8p4v"></fieldset> <textarea class="note svelte-ub8p4v" rows="4" maxlength="5000" placeholder="Notes (optional)"></textarea> <!>',1),Ki=me('<dialog role="presentation" class="svelte-ub8p4v"><header class="svelte-ub8p4v"> </header> <form method="dialog" class="svelte-ub8p4v"><!> <footer class="svelte-ub8p4v"><button formnovalidate="" class="svelte-ub8p4v">Cancel <sup class="svelte-ub8p4v">esc</sup></button> <button type="submit" value="OK" class="svelte-ub8p4v"> <sup class="svelte-ub8p4v">&crarr;</sup></button></footer></form></dialog>');const Ji={hash:"svelte-ub8p4v",code:'.svelte-ub8p4v {box-sizing:border-box;-webkit-tap-highlight-color:transparent;}dialog.svelte-ub8p4v {transform:scale(var(--mobile-zoom-level, 1));--bg-light: rgb(245, 245, 245);--bg-dark: rgb(35, 35, 35);--fg-light: black;--fg-dark: white;--control-bg-light: rgb(230, 230, 230);--control-bg-dark: rgb(55, 55, 55);font-family:-apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji;font-size:18px;line-height:1.4;border:none;border-radius:.5em;padding:0;overscroll-behavior:none;color:var(--fg-light);\n\n        @supports(color: light-dark(white,black)) {color:light-dark(var(--fg-light), var(--fg-dark));\n        }}dialog.mobile.svelte-ub8p4v {left:0;right:0;bottom:0;top:0;width:100%;margin:0;max-width:100%;max-height:100%;border-radius:0;bottom:auto;}dialog.svelte-ub8p4v, header.svelte-ub8p4v {background:var(--bg-light);\n\n        @supports(color: light-dark(white,black)) {background:light-dark(var(--bg-light), var(--bg-dark));\n        }}[open].svelte-ub8p4v {box-shadow:0 0 0 .5px rgba(60, 60, 60, .9), 0 3px 10px rgba(0,0,0,.05), 0 7px 15px -3px rgba(0,0,0,.15);}.svelte-ub8p4v::backdrop {background-color:rgba(0,0,0,.3);}header.svelte-ub8p4v {margin:0;padding:1em;font-weight:bold;position:sticky;top:0;}\n\n    @supports(animation-timeline: scroll()) {header.svelte-ub8p4v {\n            animation: svelte-ub8p4v-header-scroll linear both;animation-timeline:scroll();animation-range:0 1px;}\n    }\n\n    @keyframes svelte-ub8p4v-header-scroll {\n        to {\n            box-shadow: 0 .5px 0 rgba(0,0,0,.2);\n        }\n    }form.svelte-ub8p4v {display:flex;flex-direction:column;gap:1em;padding:1em;padding-top:0;}.color.svelte-ub8p4v {all:unset;display:flex;gap:.75em;}.color.svelte-ub8p4v input[type="radio"]:where(.svelte-ub8p4v) {cursor:pointer;appearance:none;user-select:none;-webkit-user-select:none;margin:0;background:var(--color);transition:box-shadow .2s ease-in-out, background .2s ease-in-out;width:2em;height:2em;border-radius:50%;}.color.svelte-ub8p4v input[type="radio"]:where(.svelte-ub8p4v):checked {background:transparent;box-shadow:inset 0 0 0 .5em var(--color);}.color.svelte-ub8p4v input[type="radio"]:where(.svelte-ub8p4v):active {transform:translateY(1px);}blockquote.svelte-ub8p4v, .note.svelte-ub8p4v, button.svelte-ub8p4v {background:var(--control-bg-light);\n\n        @supports(color: light-dark(white,black)) {background:light-dark(var(--control-bg-light), var(--control-bg-dark));\n        }}blockquote.svelte-ub8p4v {white-space:pre-wrap;margin:0;min-width:100%;width:0;font-size:16px;}blockquote.compact.svelte-ub8p4v {white-space:nowrap;text-overflow:ellipsis;overflow:hidden;overflow:clip;}blockquote.svelte-ub8p4v, .note.svelte-ub8p4v {border-radius:.5em;padding:.5em .6em;}.note.svelte-ub8p4v {min-width:min(21em, 70vw);min-height:4lh;appearance:none;border:0;font:inherit;color:inherit;display:block;scroll-margin-top:100vh;transition:background .15s ease-in-out, box-shadow .15s ease-in-out;}.note.svelte-ub8p4v:focus {background:transparent;}footer.svelte-ub8p4v {all:unset;display:flex;justify-content:flex-end;gap:.75em;}button.svelte-ub8p4v {appearance:none;user-select:none;-webkit-user-select:none;touch-action:manipulation;border:0;font:inherit;color:inherit;cursor:pointer;padding:.25em .75em;border-radius:.5em;}button.svelte-ub8p4v:active {transform:translateY(1px);}button.svelte-ub8p4v sup:where(.svelte-ub8p4v) {margin-left:.25em;vertical-align:text-top;opacity:.5;}dialog.mobile.svelte-ub8p4v button:where(.svelte-ub8p4v) sup:where(.svelte-ub8p4v) {display:none;}button[value].svelte-ub8p4v {background:blue;background:AccentColor;color:white;}.unlock.svelte-ub8p4v {font-size:.75em;color:GrayText;}\n\n    /* animation */dialog.svelte-ub8p4v, .svelte-ub8p4v::backdrop {transition:display .2s allow-discrete ease-in-out, \n            overlay .2s allow-discrete ease-in-out, \n            opacity .2s ease-in-out,\n            box-shadow .2s ease-in-out;opacity:0;}[open].svelte-ub8p4v,\n    [open].svelte-ub8p4v::backdrop {opacity:1;}\n\n    @starting-style {[open].svelte-ub8p4v,\n        [open].svelte-ub8p4v::backdrop {opacity:0;}\n    }\n\n    @supports not selector(::highlight(a)) {dialog.svelte-ub8p4v, dialog.svelte-ub8p4v::backdrop {\n            animation: svelte-ub8p4v-simple-appear .2s forwards;}\n        @keyframes svelte-ub8p4v-simple-appear {\n            from { opacity: 0; }\n            to { opacity: 1; }\n        }\n    }'};function Zr(e,t){st(t,!0),Ut(e,Ji);const n=[];let r,o,i=Et(t,"store",7),l=Me(!0);function a(e){var t;wn()||(e.stopImmediatePropagation(),e.stopPropagation(),"Enter"==e.key&&!e.shiftKey&&(e.preventDefault(),o&&(null==(t=e.currentTarget.closest("form"))||t.requestSubmit(o))))}Ot((()=>{i().draft?(j(l,!0),null==r||r.showModal()):null==r||r.close()}));var s=Ki();s.__mousedown=[Wi];const u=Bt(wn);ye((()=>vt(s,"mobile",x(u))));var c=oe(s),d=oe(c);J(c);var f=ie(c,2),p=oe(f),h=e=>{var t=Gi(),r=Sn(t);r.__click=[Yi,l];var o=oe(r,!0);ye((()=>{var e,t;return nn(o,(null==(t=null==(e=i().draft)?void 0:e.text)?void 0:t.trim())||"")})),J(r);var s=ie(r,2);Pn(s,21,(()=>Ae),ci,((e,t)=>{let r=()=>x(t)[0];var o,l=Ui();pi(l),ye((()=>{o!==(o=r())&&(l.value=null==(l.__value=r())?"":r()),ue(l,"style",`--color: ${x(t)[1]??""}`)})),bi(n,[],l,(()=>(r(),i().draft.color)),(e=>i().draft.color=e)),se(e,l)})),J(s);var u=ie(s,2);ni(u),ti(u),u.__keydown=a;var c=ie(u,2),d=e=>{se(e,Xi())};Ft(c,(e=>{i().pro||e(d)})),ye((()=>{vt(r,"compact",x(l)),u.disabled=!i().pro})),wi(u,(()=>i().draft.note),(e=>i().draft.note=e)),se(e,t)};Ft(p,(e=>{i().draft&&e(h)}));var v=ie(p,2),g=ie(oe(v),2),m=oe(g);return qo(),J(g),gn(g,(e=>o=e),(()=>o)),J(v),J(f),J(s),gn(s,(e=>r=e),(()=>r)),ye((()=>{var e,t;nn(d,`${(null!=(e=i().draft)&&e._id?"Edit":"New")??""} highlight`),nn(m,`${(null!=(t=i().draft)&&t._id?"Update":"Create")??""} `)})),be("close",s,(function(e){const t=e.currentTarget.returnValue;e.currentTarget.returnValue="",setTimeout(t?i().draftSubmit:i().draftCancel,200)})),se(e,s),lt({get store(){return i()},set store(e){i(e),Ue()}})}Vr(["mousedown","click","keydown"]),Ct(Zr,{store:{}},[],[],!0);const Zi=e=>{const t=e.target.getAttribute("data-highlight");t&&(e.preventDefault(),Xr(t))};var Qi=me('<div class="svelte-rwfy02"></div>'),es=me('<nav role="presentation" class="svelte-rwfy02"></nav>');const ts={hash:"svelte-rwfy02",code:"nav.svelte-rwfy02 {all:unset;}div.svelte-rwfy02 {position:fixed;right:0;width:24px;height:20px;display:flex;justify-content:flex-end;align-items:center;cursor:pointer;background:transparent;z-index:99999999999999;}div.svelte-rwfy02::before {content:'';display:block;height:3px;border-radius:3px;width:16px;background:var(--color);transition:width .15s ease-in-out;}div.svelte-rwfy02:hover::before {width:100%;}"};function Qr(e,t){st(t,!0),Ut(e,ts);let n=Et(t,"store",7);var r=ii(),o=Sn(r),i=e=>{var t=es();t.__click=[Zi],Pn(t,21,(()=>n().highlights),(e=>e._id),((e,t)=>{var n=Qi();const r=Bt((()=>`top: var(--highlight-${x(t)._id??""}-top); --color: ${(Ae.get(x(t).color)||x(t).color)??""}`));ye((()=>{ue(n,"data-highlight",x(t)._id),ue(n,"style",x(r))})),se(e,n)})),J(t),se(e,t)};return Ft(o,(e=>{n().nav&&e(i)})),se(e,r),lt({get store(){return n()},set store(e){n(e),Ue()}})}Vr(["click"]),Ct(Qr,{store:{}},[],[],!0);var ns=me('<div class="svelte-1qyoyb3"><!></div>');const rs={hash:"svelte-1qyoyb3",code:"div.svelte-1qyoyb3 {display:contents;}"};function eo(e,t){st(t,!0),Ut(e,rs);let n=Et(t,"children",7),r=Me(1);Ot((()=>{var e;function t(){var e;j(r,1/((null==(e=window.visualViewport)?void 0:e.scale)||1))}return null==(e=window.visualViewport)||e.addEventListener("resize",t),()=>{var e;return null==(e=window.visualViewport)?void 0:e.removeEventListener("resize",t)}}));var o=ns();return vi(oe(o),(()=>n()??cr)),J(o),ye((()=>gi(o,"--mobile-zoom-level",x(r)))),se(e,o),lt({get children(){return n()},set children(e){n(e),Ue()}})}Ct(eo,{children:{}},[],[],!0);var os=me("<!> <!> <!>",1);function is(e,t){st(t,!0);let n,r=Et(t,"store",7);function o(){ln(r().highlights),clearTimeout(n),n=setTimeout((()=>ln(r().highlights)),3e3)}return Ot((()=>{ln(r().highlights)})),Ln((()=>{document.readyState&&o()})),Ot((()=>Ri)),be("load",Mt,o),be("popstate",Mt,o),eo(e,{children:(e,t)=>{var n=os(),o=Sn(n);Jr(o,{get store(){return r()}});var i=ie(o,2);Zr(i,{get store(){return r()}}),Qr(ie(i,2),{get store(){return r()}}),se(e,n)},$$slots:{default:!0}}),lt({get store(){return r()},set store(e){r(e),Ue()}})}function ss(e){if("object"==typeof chrome&&chrome.runtime&&chrome.runtime.onMessage||"object"==typeof browser&&browser.runtime&&browser.runtime.onMessage){const{runtime:t}="object"==typeof browser?browser:chrome,n=(n,r)=>{r.id==t.id&&"string"==typeof n.type&&e(n)};return t.onMessage.removeListener(n),t.onMessage.addListener(n),e=>t.sendMessage(null,e)}if(window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.rdh)return window.rdhSend=e,e=>window.webkit.messageHandlers.rdh.postMessage(e);if(typeof window<"u"&&"object"==typeof window.process&&"renderer"===window.process.type||typeof process<"u"&&"object"==typeof process.versions&&process.versions.electron){const{ipcRenderer:t}=require("electron"),n=(t,n)=>e(n);return t.removeListener("RDH",n),t.on("RDH",n),e=>t.sendToHost("RDH",e)}if("ReactNativeWebView"in window)return window.ReactNativeWebViewSendMessage=e,e=>window.ReactNativeWebView.postMessage(JSON.stringify(e));if(window.self!==window.top){const t=({data:t,source:n})=>{n!==window.parent||"object"!=typeof t||"string"!=typeof t.type||e(t)};return window.removeEventListener("message",t),window.addEventListener("message",t),e=>window.parent.postMessage(e,"*")}throw new Error("unsupported platform")}async function ls(e){let t=!1;const n=new Set,r=ss((r=>{t?e(r):n.add(r)}));await new Promise((e=>{function t(){window.removeEventListener("DOMContentLoaded",t),e()}document.body?e():(window.removeEventListener("DOMContentLoaded",t),window.addEventListener("DOMContentLoaded",t,{once:!0}))})),t=!0;for(const t of n)e(t),n.delete(t);return r}customElements.define("rdh-ui",Ct(is,{store:{}},[],[],!0));const ct=document.createElement("rdh-ui");(async()=>{const e=await ls((e=>{switch(e.type){case"RDH_APPLY":Array.isArray(e.payload)&&(t.highlights=e.payload);break;case"RDH_CONFIG":"boolean"==typeof e.payload.pro&&(t.pro=e.payload.pro),"boolean"==typeof e.payload.nav&&(t.nav=e.payload.nav),"boolean"==typeof e.payload.enabled&&(!0===e.payload.enabled?document.body.contains(ct)||document.body.appendChild(ct):document.body.contains(ct)&&document.body.removeChild(ct));break;case"RDH_SCROLL":"string"==typeof e.payload._id&&Xr(e.payload._id);break;case"RDH_ADD_SELECTION":const n=Gr();if(!n)return;const r=t.find(n);if(!r)return;t.upsert(r),dt();break;case"RDH_NOTE_SELECTION":console.log("not implemented yet")}})),t=Fi((t=>e({type:"RDH_ADD",payload:t})),(t=>e({type:"RDH_UPDATE",payload:t})),(({_id:t})=>e({type:"RDH_REMOVE",payload:{_id:t}})));ct.store=t,e({type:"RDH_READY",payload:{url:location.href}})})();
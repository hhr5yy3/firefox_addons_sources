(()=>{var e={68587:(e,r,t)=>{"use strict";t.d(r,{Ay:()=>l,uE:()=>g});var n=t(90222),s=t.n(n),o=t(97207);let a=globalThis,i={allowProxy:!0,globals:{chrome:a.chrome,browser:a.browser}},g=()=>i.allowProxy=!1,l=(()=>{let e=s();return setTimeout(()=>i.allowProxy&&Object.entries(i.globals).filter(([,e])=>e).forEach(([e,r])=>{a[e]=new Proxy(r,{get(e,r,t){if("app"!==r)return o.vF.error("[Extension::Error] extension API is protected")},set:()=>(o.vF.error("[Extension::Error] extension API is read-only"),!1)})}),0),e})();i.globals.chrome},97207:(e,r,t)=>{"use strict";t.d(r,{vF:()=>o});var n=t(55880),s=t.n(n);s().setLevel("INFO",!1);let o=s()},65650:(e,r,t)=>{var n=t(78942).Symbol;e.exports=n},87379:(e,r,t)=>{var n=t(65650),s=t(8870),o=t(29005),a=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?s(e):o(e)}},86403:(e,r,t)=>{var n=t(62945),s=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(s,""):e}},74967:(e,r,t)=>{var n="object"==typeof t.g&&t.g&&t.g.Object===Object&&t.g;e.exports=n},8870:(e,r,t)=>{var n=t(65650),s=Object.prototype,o=s.hasOwnProperty,a=s.toString,i=n?n.toStringTag:void 0;e.exports=function(e){var r=o.call(e,i),t=e[i];try{e[i]=void 0;var n=!0}catch(e){}var s=a.call(e);return n&&(r?e[i]=t:delete e[i]),s}},29005:e=>{var r=Object.prototype.toString;e.exports=function(e){return r.call(e)}},78942:(e,r,t)=>{var n=t(74967),s="object"==typeof self&&self&&self.Object===Object&&self,o=n||s||Function("return this")();e.exports=o},62945:e=>{var r=/\s/;e.exports=function(e){for(var t=e.length;t--&&r.test(e.charAt(t)););return t}},12784:(e,r,t)=>{var n=t(41580),s=t(94495),o=t(6131),a=Math.max,i=Math.min;e.exports=function(e,r,t){var g,l,A,m,c,u,T=0,E=!1,d=!1,f=!0;if("function"!=typeof e)throw TypeError("Expected a function");function p(r){var t=g,n=l;return g=l=void 0,T=r,m=e.apply(n,t)}function x(e){var t=e-u,n=e-T;return void 0===u||t>=r||t<0||d&&n>=A}function S(){var e,t,n,o=s();if(x(o))return v(o);c=setTimeout(S,(e=o-u,t=o-T,n=r-e,d?i(n,A-t):n))}function v(e){return(c=void 0,f&&g)?p(e):(g=l=void 0,m)}function _(){var e,t=s(),n=x(t);if(g=arguments,l=this,u=t,n){if(void 0===c)return T=e=u,c=setTimeout(S,r),E?p(e):m;if(d)return clearTimeout(c),c=setTimeout(S,r),p(u)}return void 0===c&&(c=setTimeout(S,r)),m}return r=o(r)||0,n(t)&&(E=!!t.leading,A=(d="maxWait"in t)?a(o(t.maxWait)||0,r):A,f="trailing"in t?!!t.trailing:f),_.cancel=function(){void 0!==c&&clearTimeout(c),T=0,g=u=l=c=void 0},_.flush=function(){return void 0===c?m:v(s())},_}},41580:e=>{e.exports=function(e){var r=typeof e;return null!=e&&("object"==r||"function"==r)}},80547:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},51187:(e,r,t)=>{var n=t(87379),s=t(80547);e.exports=function(e){return"symbol"==typeof e||s(e)&&"[object Symbol]"==n(e)}},94495:(e,r,t)=>{var n=t(78942);e.exports=function(){return n.Date.now()}},6131:(e,r,t)=>{var n=t(86403),s=t(41580),o=t(51187),a=0/0,i=/^[-+]0x[0-9a-f]+$/i,g=/^0b[01]+$/i,l=/^0o[0-7]+$/i,A=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return a;if(s(e)){var r="function"==typeof e.valueOf?e.valueOf():e;e=s(r)?r+"":r}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var t=g.test(e);return t||l.test(e)?A(e.slice(2),t?2:8):i.test(e)?a:+e}},55880:function(e,r,t){var n,s;void 0!==(s="function"==typeof(n=function(){"use strict";var e=function(){},r="undefined",t=typeof window!==r&&typeof window.navigator!==r&&/Trident\/|MSIE /.test(window.navigator.userAgent),n=["trace","debug","info","warn","error"],s={},o=null;function a(e,r){var t=e[r];if("function"==typeof t.bind)return t.bind(e);try{return Function.prototype.bind.call(t,e)}catch(r){return function(){return Function.prototype.apply.apply(t,[e,arguments])}}}function i(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function g(){for(var t=this.getLevel(),s=0;s<n.length;s++){var o=n[s];this[o]=s<t?e:this.methodFactory(o,t,this.name)}if(this.log=this.debug,typeof console===r&&t<this.levels.SILENT)return"No console available for logging"}function l(e){return function(){typeof console!==r&&(g.call(this),this[e].apply(this,arguments))}}function A(n,s,o){var g;return"debug"===(g=n)&&(g="log"),typeof console!==r&&("trace"===g&&t?i:void 0!==console[g]?a(console,g):void 0!==console.log?a(console,"log"):e)||l.apply(this,arguments)}function m(e,t){var a,i,l,m=this,c="loglevel";function u(){var e;if(typeof window!==r&&c){try{e=window.localStorage[c]}catch(e){}if(typeof e===r)try{var t=window.document.cookie,n=encodeURIComponent(c),s=t.indexOf(n+"=");-1!==s&&(e=/^([^;]+)/.exec(t.slice(s+n.length+1))[1])}catch(e){}return void 0===m.levels[e]&&(e=void 0),e}}function T(e){var r=e;if("string"==typeof r&&void 0!==m.levels[r.toUpperCase()]&&(r=m.levels[r.toUpperCase()]),"number"==typeof r&&r>=0&&r<=m.levels.SILENT)return r;throw TypeError("log.setLevel() called with invalid level: "+e)}"string"==typeof e?c+=":"+e:"symbol"==typeof e&&(c=void 0),m.name=e,m.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},m.methodFactory=t||A,m.getLevel=function(){return null!=l?l:null!=i?i:a},m.setLevel=function(e,t){return l=T(e),!1!==t&&function(e){var t=(n[e]||"silent").toUpperCase();if(typeof window!==r&&c){try{window.localStorage[c]=t;return}catch(e){}try{window.document.cookie=encodeURIComponent(c)+"="+t+";"}catch(e){}}}(l),g.call(m)},m.setDefaultLevel=function(e){i=T(e),u()||m.setLevel(e,!1)},m.resetLevel=function(){l=null,function(){if(typeof window!==r&&c){try{window.localStorage.removeItem(c)}catch(e){}try{window.document.cookie=encodeURIComponent(c)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}(),g.call(m)},m.enableAll=function(e){m.setLevel(m.levels.TRACE,e)},m.disableAll=function(e){m.setLevel(m.levels.SILENT,e)},m.rebuild=function(){if(o!==m&&(a=T(o.getLevel())),g.call(m),o===m)for(var e in s)s[e].rebuild()},a=T(o?o.getLevel():"WARN");var E=u();null!=E&&(l=T(E)),g.call(m)}(o=new m).getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw TypeError("You must supply a name when creating a logger.");var r=s[e];return r||(r=s[e]=new m(e,o.methodFactory)),r};var c=typeof window!==r?window.log:void 0;return o.noConflict=function(){return typeof window!==r&&window.log===o&&(window.log=c),o},o.getLoggers=function(){return s},o.default=o,o})?n.call(r,t,r,e):n)&&(e.exports=s)},14304:(e,r)=>{"use strict";Symbol.for("react.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.provider"),Symbol.for("react.context"),Symbol.for("react.forward_ref"),Symbol.for("react.suspense"),Symbol.for("react.memo"),Symbol.for("react.lazy"),Symbol.iterator;/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},n=Object.assign,s={};function o(e,r,n){this.props=e,this.context=r,this.refs=s,this.updater=n||t}function a(){}function i(e,r,n){this.props=e,this.context=r,this.refs=s,this.updater=n||t}o.prototype.isReactComponent={},o.prototype.setState=function(e,r){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,r,"setState")},o.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},a.prototype=o.prototype;var g=i.prototype=new a;g.constructor=i,n(g,o.prototype),g.isPureReactComponent=!0,Object.prototype.hasOwnProperty},14041:(e,r,t)=>{"use strict";t(14304)},90222:function(e,r){var t,n,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=function(e){"use strict";if(!(globalThis.chrome&&globalThis.chrome.runtime&&globalThis.chrome.runtime.id))throw Error("This script should only be loaded in a browser extension.");globalThis.browser&&globalThis.browser.runtime&&globalThis.browser.runtime.id?e.exports=globalThis.browser:e.exports=(e=>{let r={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(r).length)throw Error("api-metadata.json has not been included in browser-polyfill");class t extends WeakMap{constructor(e,r){super(r),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}let n=e=>e&&"object"==typeof e&&"function"==typeof e.then,s=(r,t)=>(...n)=>{e.runtime.lastError?r.reject(Error(e.runtime.lastError.message)):t.singleCallbackArg||n.length<=1&&!1!==t.singleCallbackArg?r.resolve(n[0]):r.resolve(n)},o=e=>1==e?"argument":"arguments",a=(e,r)=>function(t,...n){if(n.length<r.minArgs)throw Error(`Expected at least ${r.minArgs} ${o(r.minArgs)} for ${e}(), got ${n.length}`);if(n.length>r.maxArgs)throw Error(`Expected at most ${r.maxArgs} ${o(r.maxArgs)} for ${e}(), got ${n.length}`);return new Promise((o,a)=>{if(r.fallbackToNoCallback)try{t[e](...n,s({resolve:o,reject:a},r))}catch(s){console.warn(`${e} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,s),t[e](...n),r.fallbackToNoCallback=!1,r.noCallback=!0,o()}else r.noCallback?(t[e](...n),o()):t[e](...n,s({resolve:o,reject:a},r))})},i=(e,r,t)=>new Proxy(r,{apply:(r,n,s)=>t.call(n,e,...s)}),g=Function.call.bind(Object.prototype.hasOwnProperty),l=(e,r={},t={})=>{let n=Object.create(null);return new Proxy(Object.create(e),{has:(r,t)=>t in e||t in n,get(s,o,A){if(o in n)return n[o];if(!(o in e))return;let m=e[o];if("function"==typeof m){if("function"==typeof r[o])m=i(e,e[o],r[o]);else if(g(t,o)){let r=a(o,t[o]);m=i(e,e[o],r)}else m=m.bind(e)}else if("object"==typeof m&&null!==m&&(g(r,o)||g(t,o)))m=l(m,r[o],t[o]);else{if(!g(t,"*"))return Object.defineProperty(n,o,{configurable:!0,enumerable:!0,get:()=>e[o],set(r){e[o]=r}}),m;m=l(m,r[o],t["*"])}return n[o]=m,m},set:(r,t,s,o)=>(t in n?n[t]=s:e[t]=s,!0),defineProperty:(e,r,t)=>Reflect.defineProperty(n,r,t),deleteProperty:(e,r)=>Reflect.deleteProperty(n,r)})},A=e=>({addListener(r,t,...n){r.addListener(e.get(t),...n)},hasListener:(r,t)=>r.hasListener(e.get(t)),removeListener(r,t){r.removeListener(e.get(t))}}),m=new t(e=>"function"!=typeof e?e:function(r){e(l(r,{},{getContent:{minArgs:0,maxArgs:0}}))}),c=new t(e=>"function"!=typeof e?e:function(r,t,s){let o,a,i=!1,g=new Promise(e=>{o=function(r){i=!0,e(r)}});try{a=e(r,t,o)}catch(e){a=Promise.reject(e)}let l=!0!==a&&n(a);return(!0===a||!!l||!!i)&&((e=>{e.then(e=>{s(e)},e=>{s({__mozWebExtensionPolyfillReject__:!0,message:e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred"})}).catch(e=>{console.error("Failed to send onMessage rejected reply",e)})})(l?a:g),!0)}),u=({reject:r,resolve:t},n)=>{e.runtime.lastError?"The message port closed before a response was received."===e.runtime.lastError.message?t():r(Error(e.runtime.lastError.message)):n&&n.__mozWebExtensionPolyfillReject__?r(Error(n.message)):t(n)},T=(e,r,t,...n)=>{if(n.length<r.minArgs)throw Error(`Expected at least ${r.minArgs} ${o(r.minArgs)} for ${e}(), got ${n.length}`);if(n.length>r.maxArgs)throw Error(`Expected at most ${r.maxArgs} ${o(r.maxArgs)} for ${e}(), got ${n.length}`);return new Promise((e,r)=>{let s=u.bind(null,{resolve:e,reject:r});n.push(s),t.sendMessage(...n)})},E={devtools:{network:{onRequestFinished:A(m)}},runtime:{onMessage:A(c),onMessageExternal:A(c),sendMessage:T.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:T.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},d={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return r.privacy={network:{"*":d},services:{"*":d},websites:{"*":d}},l(e,E,r)})(chrome)},t=[e],void 0!==(n=s.apply(r,t))&&(e.exports=n)}},r={};function t(n){var s=r[n];if(void 0!==s)return s.exports;var o=r[n]={exports:{}};return e[n].call(o.exports,o,o.exports,t),o.exports}t.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return t.d(r,{a:r}),r},t.d=(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{"use strict";t(14041);var e=t(97207),r=t(68587);class n extends Error{name="CriticalMessageResponseError";message="Worker failed to respond"}let s=async e=>{try{let t=await r.Ay.runtime.sendMessage(r.Ay.runtime.id,e);if(void 0===t)throw new n;return t}catch(e){return{type:"error",error:e instanceof Error?e.message:"Unknown error",critical:e instanceof n}}};s.on=async(e,r)=>r(await s(e)),s.onSuccess=async(e,r)=>s.on(e,e=>{"success"===e.type&&r(e)});let o=e=>r=>({...r,sender:e,version:"1.27.0"});o("background"),o("popup"),o("page");let a=o("contentscript"),i=function(e){return e.ACCOUNT_EXTENSION="auth-ext",e.ACCOUNT_FORK="fork",e.ACCOUNT_ONBOARDING="pass-onboarding",e.ACCOUNT_PROBE="pass-installed",e.ALIAS_CREATE="ALIAS_CREATE",e.ALIAS_OPTIONS="ALIAS_OPTIONS",e.AUTH_CHECK="AUTH_CHECK",e.AUTH_CONFIRM_PASSWORD="AUTH_CONFIRM_PASSWORD",e.AUTH_INIT="AUTH_INIT",e.AUTH_PULL_FORK="AUTH_PULL_FORK",e.AUTH_UNLOCK="AUTH_UNLOCK",e.AUTOFILL_IDENTITY="AUTOFILL_IDENTITY",e.AUTOFILL_IDENTITY_QUERY="AUTOFILL_IDENTITY_QUERY",e.AUTOFILL_LOGIN="AUTOFILL_LOGIN",e.AUTOFILL_LOGIN_QUERY="AUTOFILL_LOGIN_QUERY",e.AUTOFILL_OTP_CHECK="AUTOFILL_OTP_CHECK",e.AUTOFILL_SYNC="AUTOFILL_SYNC",e.AUTOSAVE_REQUEST="AUTOSAVE_REQUEST",e.AUTOSUGGEST_PASSWORD="AUTOSUGGEST_PASSWORD",e.B2B_EVENT="B2B_EVENT",e.DEBUG="DEBUG",e.EXPORT_REQUEST="EXPORT_REQUEST",e.FEATURE_FLAGS_UPDATE="FEATURE_FLAGS_UPDATE",e.FETCH_ABORT="FETCH_ABORT",e.FETCH_DOMAINIMAGE="FETCH_DOMAINIMAGE",e.FORM_ENTRY_COMMIT="FORM_ENTRY_COMMIT",e.FORM_ENTRY_REQUEST="FORM_ENTRY_REQUEST",e.FORM_ENTRY_STAGE="FORM_ENTRY_STAGE",e.FORM_ENTRY_STASH="FORM_ENTRY_STASH",e.FORM_STATUS="FORM_STATUS",e.IMPORT_DECRYPT="IMPORT_DECRYPT",e.LOAD_CONTENT_SCRIPT="LOAD_CONTENT_SCRIPT",e.LOCALE_UPDATED="LOCALE_UPDATED",e.LOG_EVENT="LOG_EVENT",e.LOG_REQUEST="LOG_REQUEST",e.MONITOR_2FAS="MONITOR_2FAS",e.MONITOR_WEAK_PASSWORDS="MONITOR_WEAK_PASSWORDS",e.NOTIFICATION="NOTIFICATION",e.OTP_CODE_GENERATE="OTP_CODE_GENERATE",e.PASS_CORE_RPC="PASS_CORE_RPC",e.PASSKEY_CREATE="PASSKEY_CREATE",e.PASSKEY_GET="PASSKEY_GET",e.PASSKEY_INTERCEPT="PASSKEY_INTERCEPT",e.PASSKEY_QUERY="PASSKEY_QUERY",e.PAUSE_WEBSITE="PAUSE_WEBSITE",e.PERMISSIONS_UPDATE="PERMISSIONS_UPDATE",e.PING="PING",e.POPUP_INIT="POPUP_INIT",e.PORT_FORWARDING_MESSAGE="PORT_FORWARDING",e.PORT_UNAUTHORIZED="PORT_UNAUTHORIZED",e.REGISTER_ELEMENTS="REGISTER_ELEMENTS",e.RESOLVE_EXTENSION_KEY="RESOLVE_EXTENSION_KEY",e.RESOLVE_USER="RESOLVE_USER",e.SENTRY_CS_EVENT="SENTRY_CS_EVENT",e.SETTINGS_UPDATE="SETTINGS_UPDATE",e.SPOTLIGHT_ACK="SPOTLIGHT_ACK",e.SPOTLIGHT_CHECK="SPOTLIGHT_CHECK",e.SPOTLIGHT_REQUEST="SPOTLIGHT_REQUEST",e.START_CONTENT_SCRIPT="START_CONTENT_SCRIPT",e.STORE_DISPATCH="STORE_DISPATCH",e.TABS_QUERY="TABS_QUERY",e.TELEMETRY_EVENT="TELEMETRY_EVENT",e.UNLOAD_CONTENT_SCRIPT="UNLOAD_CONTENT_SCRIPT",e.UPDATE_AVAILABLE="UPDATE_AVAILABLE",e.VAULTS_QUERY="VAULTS_QUERY",e.WEBSITE_RULES_REQUEST="WEBSITE_RULES_REQUEST",e.WORKER_RELOAD="WORKER_RELOAD",e.WORKER_STATE_CHANGE="WORKER_STATE_CHANGE",e.WORKER_WAKEUP="WORKER_WAKEUP",e}({});function g(){}let l=()=>{let e=[],r=e=>e?.cancel?.();return{addListener:(r,t,n,s)=>{if(void 0!==r){let o={kind:"listener",element:r,type:t,fn:n};return e.push(o),r.addEventListener(t,n,s),()=>{r.removeEventListener(t,n);let s=e.indexOf(o);e.splice(s,1)}}return g},addObserver:(t,n,s)=>{let o=new MutationObserver(n),a=o.disconnect;return o.disconnect=()=>{r(n),a.bind(o)()},e.push({kind:"observer",observer:o}),o.observe(t,s),o},addResizeObserver:(t,n)=>{let s=new ResizeObserver(n),o=s.disconnect;s.disconnect=()=>{r(n),o.bind(s)()},e.push({kind:"resizeObserver",observer:s}),s.observe(t)},removeAll:()=>{e.forEach(e=>{switch(e.kind){case"observer":case"resizeObserver":return e.observer.disconnect();case"listener":return r(e.fn),e.element.removeEventListener(e.type,e.fn)}}),e.length=0}}},A=()=>new Promise(e=>{let r=l(),t=()=>{("complete"===document.readyState||"interactive"===document.readyState)&&(r.removeAll(),e())};r.addListener(window,"load",()=>{r.removeAll(),e()}),r.addListener(document,"readystatechange",t),t()});var m=t(12784),c=t.n(m);let u="data-protonpass-base-css",T=e=>{let r=e.getAttribute(u);return r?JSON.parse(r):{}},E=e=>{Object.entries(T(e)).forEach(([r,t])=>t?e.style.setProperty(r,t):e.style.removeProperty(r)),e.removeAttribute(u)},d=({root:e,control:r})=>{document.querySelectorAll(`${e}, ${r}`).forEach(e=>e.remove()),document.querySelectorAll(`input[${u}]`).forEach(e=>E(e))},f=(()=>{let r={};return{start:(t,n)=>{e.vF.debug(`[ActivityProbe] probe set to ${n}ms`),clearInterval(r?.interval),r.interval=setInterval(t,n),t()},cancel:()=>{e.vF.debug("[ActivityProbe] Cancelling probe.."),clearInterval(r?.interval)}}})(),p=l(),x=!1,S=r=>{e.vF.warn("[ContentScript::orchestrator] invalidation error",r),p.removeAll(),f.cancel()},v=async()=>{f.cancel(),await s(a({type:i.UNLOAD_CONTENT_SCRIPT}))},_=()=>s(a({type:i.PING})),b=c()(((e,r)=>{let t=new Map;return(...n)=>{let s=r?.key?.(...n)??"",o=t.get(s)??e(...n).finally(()=>t.delete(s));return t.set(s,o),o}})(async()=>(f.start(_,25e3),x=await Promise.resolve(x||s(a({type:i.LOAD_CONTENT_SCRIPT})).then(e=>"success"===e.type).catch(()=>!1)))?s(a({type:i.START_CONTENT_SCRIPT})):S("Client could not load")),1e3,{leading:!0}),O=()=>{try{switch(document.visibilityState){case"visible":return b();case"hidden":return b.cancel(),v()}}catch(e){S(e)}};(async()=>{try{let e=document.ownerDocument||document;if(!e?.body)return;await A(),d({root:'[data-protonpass-role="root"]',control:'[data-protonpass-role="icon"]'}),p.addListener(document,"visibilitychange",O),await ("visible"===document.visibilityState&&b())}catch(e){S(e)}})()})(),(0,t(68587).uE)()})();

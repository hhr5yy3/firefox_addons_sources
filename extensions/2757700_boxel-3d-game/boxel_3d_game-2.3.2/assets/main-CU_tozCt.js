import{o as a,c as r,a as l,r as g,b as E,w as p,d as I,s as D,e as T,f as A,F as N,g as i,u as L,h as _,i as $}from"./SkeletonUtils-K4FW0S_X.js";import{_ as v,A as F,L as M,T as O,G as J,M as P,a as V}from"./AssetLoader-CtEmMm03.js";const z={class:"banner"},G={class:"text"},H={__name:"Banner",setup(s){return(n,o)=>(a(),r("div",z,[l("span",G,[g(n.$slots,"default",{},void 0,!0)])]))}},U=v(H,[["__scopeId","data-v-afdb3360"]]),W={},Y={class:"action",title:"Fullscreen"};function q(s,n){return a(),r("button",Y,[g(s.$slots,"default",{},void 0,!0)])}const K=v(W,[["render",q],["__scopeId","data-v-e4116bd9"]]),Q={key:0,class:"material-symbols-rounded"},R={key:1,class:"material-symbols-rounded"},X={__name:"ButtonVolume",props:{assets:Object,volume:Number},setup(s){const n=s;return(o,d)=>(a(),E(K,{class:"action"},{default:p(()=>[s.volume!=0?(a(),r("span",Q,"volume_up")):(a(),r("span",R,"volume_off"))]),_:1}))}},Z={class:"card"},ee=["src"],te={__name:"Card",props:["src"],setup(s){var n=s;return(o,d)=>(a(),r("button",Z,[l("img",{src:s.src},null,8,ee),l("label",null,[g(o.$slots,"default",{},void 0,!0)])]))}},y=v(te,[["__scopeId","data-v-89837e82"]]),ne={class:"ui"},se={class:"actions"},oe={class:"cards"},ae={__name:"App",setup(s){const n=I(JSON.parse(localStorage.getItem("settings")||'{"volume": 0}')),o=D(new F(k)),d=T();let f,c,m,w;function k(){m=o.get("background-island-night"),w=M.create("AmbientLight"),m.traverse(function(t){t.isCamera&&c.setCamera(t)}),c.setSize(window.innerWidth,window.innerHeight),c.scene.add(m,w),f.add(C,-1),f.start(),b()}function x(t){var e=o.get(t);e.play()}function C(t){m.mixer.update(t.delta),c.render()}function S(){n.volume>0&&(n.volume=1),n.volume^=1,b()}function b(){localStorage.setItem("settings",JSON.stringify(n));const t=o.assetAudioLoader.listener,e=t.context.currentTime;t.gain.gain.setTargetAtTime(n.volume,e,0)}function h(t,e="_self"){window.open(t,e)}function j(){return window.chrome?.extension}function B(){let t,e,u;j()?(t="View Steam Page",u=`Boxel 3D is coming soon to Steam for <strong>$5.99</strong> (USD)

        Boxel 3D will always be <strong>free</strong> on Chrome, Edge and Firefox \u{1F604}

        You can support me by adding it to your <strong>wishlist</strong> or by purchasing a copy on Steam.

        Thank you for all the support and I hope you enjoy the game!`,e=function(){h("https://store.steampowered.com/app/3208440/Boxel_3D/","_blank"),window.dispatchEvent(new CustomEvent("closeModal"))}):(t="Continue",u=`Thank you for supporting the launch of Boxel 3D on Steam!

      Good luck beating the community levels lol`),window.dispatchEvent(new CustomEvent("openModal",{detail:{title:"News & Events",text:u,inputs:[{type:"button",value:t,callback:e}]}}))}return document.addEventListener("click",function(t){x("click")}),A(function(){f=new O,c=new J(d.value),o.load({models:"./json/menu-models.json",textures:"./json/menu-textures.json",audio:"./json/menu-audio.json"})}),(t,e)=>(a(),r(N,null,[l("canvas",{ref_key:"canvas",ref:d},null,512),l("div",ne,[l("div",se,[i(X,{assets:L(o),volume:n.volume,onClick:e[0]||(e[0]=u=>{S()})},null,8,["assets","volume"])]),i(U,null,{default:p(()=>e[3]||(e[3]=[_("Boxel 3D")])),_:1}),l("div",oe,[i(y,{src:"./svg/button-play-steam.svg",onClick:e[1]||(e[1]=u=>{B()})},{default:p(()=>e[4]||(e[4]=[_("News")])),_:1}),i(y,{src:"./svg/button-play.svg",onClick:e[2]||(e[2]=u=>h("./v1/index.html"))},{default:p(()=>e[5]||(e[5]=[_("Play")])),_:1})]),i(P),i(V)])],64))}},le=v(ae,[["__scopeId","data-v-dfa120b4"]]);$(le).mount("#app");

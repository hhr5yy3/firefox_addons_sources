var FILL_COMMAND,CLICK_COMMAND,SUBMIT_COMMAND,LOGIN_BUTTON_TYPES,LOGIN_CAPTIONS,LOGIN_CAPTIONS_IN_URL,DISTINCT_URL_CAPTIONS,CONTINUE_BUTTON_SELECTORS,SUBMIT_BUTTON_SELECTORS;void 0===FILL_COMMAND&&(FILL_COMMAND="FillDomCommand",CLICK_COMMAND="ClickCommand",SUBMIT_COMMAND="SubmitCommand",LOGIN_BUTTON_TYPES="input,button,*[role=button],*[role=submit],div,span,a",LOGIN_CAPTIONS=["anmelden","weiter","einloggen","submit","absenden","abschicken","continue","fortfahren","login","log in","logon","log on","log in securely","login now","sign in","signin","sign-in","valider","accedi","accès","entrar","вход","connexion","登录","लॉग","इन","करें","anmeldung","secure login","get started","fortsetzen","next","confirm","bestätigen"],LOGIN_CAPTIONS_IN_URL=["login","log-in","signin","sign-in","openid","oauth2","auth?","authorize?"],DISTINCT_URL_CAPTIONS=["myf5","account-d.docusign.com","nutzerkonto.service.rlp","gravityzone.bitdefender"],CONTINUE_BUTTON_SELECTORS=['button[id*="continue"]'],SUBMIT_BUTTON_SELECTORS=[]);let IsInfoMessageDialogShown=!1;function isInIframe(){try{return window!=window.top}catch(ex){return!0}}function matchesSelector(el,selector){return(el.matches||el.matchesSelector||el.msMatchesSelector||el.mozMatchesSelector||el.webkitMatchesSelector||el.oMatchesSelector).call(el,selector)}function matchesSelectorList(list,selector){return list.filter(el=>matchesSelector(el,selector))}function doesURLContainLoginCaption(document){const loweredHref=document.location.href.toLowerCase();return LOGIN_CAPTIONS_IN_URL.some(t=>-1<loweredHref.indexOf(t))||DISTINCT_URL_CAPTIONS.some(t=>-1<loweredHref.indexOf(t))}function removeControlCharacters(str){if(str)try{return str.replace(/[^\x20-\x7E]/gim,"").toLowerCase().trim()}catch(ex){return""}}function checkLoginText(element){if(null==element)return!1;const title=element.getAttribute("title"),alt=element.getAttribute("alt"),id=element.getAttribute("id"),text=element.textContent,value=element.value,defaultValue=element.defaultValue;element=LOGIN_CAPTIONS;let result=!1;return title&&(result=element.some(t=>-1<removeControlCharacters(title).indexOf(t))),text&&(result=result||element.some(t=>-1<removeControlCharacters(text).indexOf(t))),alt&&(result=result||element.some(t=>-1<removeControlCharacters(alt).indexOf(t))),value&&(result=result||element.some(t=>-1<removeControlCharacters(value).indexOf(t))),defaultValue&&(result=result||element.some(t=>-1<removeControlCharacters(defaultValue).indexOf(t))),result=id?result||element.some(t=>-1<removeControlCharacters(id).indexOf(t)):result}function isHidden(element){var style=getComputedStyle(element);return 0===element.offsetWidth||0===element.offsetHeight||"hidden"===style.visibility}function getElement(psrElement){function checkElement(e){if(null!=psrElement.Tag&&""!=psrElement.Tag&&psrElement.Tag!=e.tagName)return!1;if(null!=psrElement.Type&&psrElement.Type!=e.type)return!1;if(null!=psrElement.Name&&psrElement.Name!=e.name&&null!=e.name)return psrElement.Name.length===e.name.length;return!0}function createFilter(propName,value){return null==value||""===value?"":"["+propName+"='"+value+"']"}var elementByName,elementById=function(el){if(el.Id){el=document.getElementById(el.Id);if(el&&checkElement(el))return isHidden(el)?void 0:el}}(psrElement);return elementById||(elementByName=function(el){if(el.Name)try{if(0<[].slice.call(document.getElementsByName(el.Name)).filter(el=>checkElement(el)).filter(el=>!isHidden(el)).length)return elementByName[0]}catch(ex){}}(psrElement))||function(el){var idFilter=createFilter("id",el.Id),nameFilter=createFilter("name",el.Name),classFilter=(el.ClassName||"").split(" ").join("."),typeFilter=createFilter("type",el.Type),hrefFilter=createFilter("href",el.Href),titleFilter=createFilter("title",el.Title),altFilter=createFilter("alt",el.Alt),defaultValueFilter=createFilter("defaultValue",el.defaultValue),searchTag=null==el.Tag?"*":el.Tag;if(0<(searchTag=[].slice.call(document.querySelectorAll(searchTag+idFilter+nameFilter+(classFilter?"."+classFilter:"")+typeFilter+hrefFilter+titleFilter+altFilter+defaultValueFilter)).filter(e=>!isHidden(e)).filter(e=>function(el,text){var label;return"input"===el.tagName.toLowerCase()?"submit"===el.type.toLowerCase()?el.value===text:(label=document.querySelector("label[for='"+el.getAttribute("id")+"']"))&&label.textContent===text:el.textContent===text}(e,el.Text))).length)return searchTag[0]}(psrElement)||function(el){let elementByFormIndex=null;if([].slice.call(document.querySelectorAll("form")).forEach((form,formIndex)=>{[].slice.call(form.querySelectorAll("input, textarea, select, button")).forEach((input,inputIndex)=>{formIndex===el.ParentFormIndex&&inputIndex===el.FormIndex&&(elementByFormIndex=input)})}),elementByFormIndex&&checkElement(elementByFormIndex)&&!isHidden(elementByFormIndex))return elementByFormIndex}(psrElement)||function(el){let elementByTagIndex=null;if([].slice.call(document.querySelectorAll(el.Tag)).forEach((tagElement,index)=>{index===el.TagIndex&&(elementByTagIndex=tagElement)}),elementByTagIndex&&checkElement(elementByTagIndex)&&!isHidden(elementByTagIndex))return elementByTagIndex}(psrElement)||null}function retryer(amountOfTimesToRetry,retryDelay){return retryFunc=>{let retryCounter=0;const innerRetryer=async()=>{return retryCounter===amountOfTimesToRetry?null:await retryFunc()||(retryCounter++,await new Promise(res=>setTimeout(res,retryDelay)),innerRetryer())};return innerRetryer()}}function translate(key,inserts){return translationService.translate(key,inserts)}function showInfoMessageDialog(){if(!IsInfoMessageDialogShown){IsInfoMessageDialogShown=!0;const shadowHost=document.createElement("div");shadowHost.id="psrext-analyzing";var shadowRoot=shadowHost.attachShadow({mode:"open"}),el=(shadowHost.style.all="initial",shadowRoot.innerHTML=htmlFactory.getShadowRootStyle(),document.createElement("div"));el.innerHTML=`
    <div class="dialog-2">
      <div class="main">
        <div class="title-container">
          <div class="logo-container">
            <img id="notification-image" class="logo"/>
            <span class="title">Netwrix Password Secure</span>
          </div>
          <div>
            <a id="close-btn" class="close-btn">
              ${translate("close_popup")}
            </a>
          </div>
        </div>
        <div class="content-container">
          <div id="autofill_not_executed" class="text-black">
            ${translate("autofill_not_executed")}
        </div>
        <div class="button-container">
          <a id="showNeverAgain-btn">
            ${translate("never_show_again")}
          </a>
        </div>
          </div>
        </div>
      </div>
    </div>
  `,shadowRoot.appendChild(el),window.document.children[0].appendChild(shadowHost),shadowRoot.querySelector("#notification-image").src=abstractBrowser.getImageUrl("notification.svg"),shadowRoot.querySelector("#close-btn").addEventListener("click",function(){IsInfoMessageDialogShown=!1,window.document.children[0].removeChild(shadowHost)}),shadowRoot.querySelector("#showNeverAgain-btn").addEventListener("click",function(){IsInfoMessageDialogShown=!1,window.document.children[0].removeChild(shadowHost),abstractBrowser.sendMessage({command:"ShowNeverAgainInfoMessage"})})}}
(()=>{"use strict";chrome.runtime.onMessage.addListener(((e,t)=>{if("position"===e.action){if(!t.tab)return;i=t.tab,n=e.info.left,r=e.info.top,o=e.info.width,d=e.info.height,a=e.info.windowWidth,chrome.tabs.captureVisibleTab(i.windowId,{format:"png"},(e=>{const t=new Image;t.src=e,t.onload=()=>{const e=t.width/a,c=document.createElement("canvas");c.width=o*e,c.height=d*e;const b=c.getContext("2d");if(!b)return;b.drawImage(t,n*e,r*e,o*e,d*e,0,0,o*e,d*e);const h=c.toDataURL(),s=document.getElementById("info");s&&(s.innerHTML=`<b>Scan Data:</b><br><br>Window Inner Width: ${a}<br>Width: ${o}<br>Height: ${d}<br>Left: ${n}<br>Top: ${r}<br>Screen Width: ${window.screen.width}<br>Screen Height: ${window.screen.height}<br>Capture Width: ${t.width}<br>Capture Height: ${t.height}<br>Device Pixel Ratio: ${e} / ${window.devicePixelRatio}<br>Tab ID: ${i.id}<br><br><b>Captured Screenshot:</b>`);const w=document.getElementById("qr");w&&(w.src=h)}}))}var i,n,r,o,d,a;return!0}))})();
//# sourceMappingURL=qrdebug.js.map
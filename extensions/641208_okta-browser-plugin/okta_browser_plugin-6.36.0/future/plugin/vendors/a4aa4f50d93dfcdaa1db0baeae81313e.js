(() => {
var I=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports);var b=I(u=>{"use strict";var A=u&&u.__classPrivateFieldGet||function(n,t,e,s){if(e==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?n!==t||!s:!t.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?s:e==="a"?s.call(n):s?s.value:t.get(n)},P=u&&u.__classPrivateFieldSet||function(n,t,e,s,r){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?n!==t||!r:!t.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?r.call(n,e):r?r.value=e:t.set(n,e),e},d;Object.defineProperty(u,"__esModule",{value:!0});u.TokenData=void 0;u.parse=C;u.compile=O;u.match=L;u.pathToRegexp=R;u.stringify=G;var E="/",x=n=>n,S=/^[$_\p{ID_Start}]$/u,T=/^[$\u200c\u200d\p{ID_Continue}]$/u,v="https://git.new/pathToRegexpError",N={"{":"{","}":"}","(":"(",")":")","[":"[","]":"]","+":"+","?":"?","!":"!"};function U(n){return n.replace(/[{}()\[\]+?!:*]/g,"\\$&")}function g(n){return n.replace(/[.+*?^${}()[\]|/\\]/g,"\\$&")}function*M(n){let t=[...n],e=0;function s(){let r="";if(S.test(t[++e]))for(r+=t[e];T.test(t[++e]);)r+=t[e];else if(t[e]==='"'){let o=e;for(;e<t.length;){if(t[++e]==='"'){e++,o=0;break}t[e]==="\\"?r+=t[++e]:r+=t[e]}if(o)throw new TypeError(`Unterminated quote at ${o}: ${v}`)}if(!r)throw new TypeError(`Missing parameter name at ${e}: ${v}`);return r}for(;e<t.length;){let r=t[e],o=N[r];if(o)yield{type:o,index:e++,value:r};else if(r==="\\")yield{type:"ESCAPED",index:e++,value:t[e++]};else if(r===":"){let a=s();yield{type:"PARAM",index:e,value:a}}else if(r==="*"){let a=s();yield{type:"WILDCARD",index:e,value:a}}else yield{type:"CHAR",index:e,value:t[e++]}}return{type:"END",index:e,value:""}}var $=class{constructor(t){this.tokens=t,d.set(this,void 0)}peek(){if(!A(this,d,"f")){let t=this.tokens.next();P(this,d,t.value,"f")}return A(this,d,"f")}tryConsume(t){let e=this.peek();if(e.type===t)return P(this,d,void 0,"f"),e.value}consume(t){let e=this.tryConsume(t);if(e!==void 0)return e;let{type:s,index:r}=this.peek();throw new TypeError(`Unexpected ${s} at ${r}, expected ${t}: ${v}`)}text(){let t="",e;for(;e=this.tryConsume("CHAR")||this.tryConsume("ESCAPED");)t+=e;return t}};d=new WeakMap;var m=class{constructor(t){this.tokens=t}};u.TokenData=m;function C(n,t={}){let{encodePath:e=x}=t,s=new $(M(n));function r(a){let i=[];for(;;){let c=s.text();c&&i.push({type:"text",value:e(c)});let l=s.tryConsume("PARAM");if(l){i.push({type:"param",name:l});continue}let h=s.tryConsume("WILDCARD");if(h){i.push({type:"wildcard",name:h});continue}if(s.tryConsume("{")){i.push({type:"group",tokens:r("}")});continue}return s.consume(a),i}}let o=r("END");return new m(o)}function O(n,t={}){let{encode:e=encodeURIComponent,delimiter:s=E}=t,r=n instanceof m?n:C(n,t),o=D(r.tokens,s,e);return function(i={}){let[c,...l]=o(i);if(l.length)throw new TypeError(`Missing parameters: ${l.join(", ")}`);return c}}function D(n,t,e){let s=n.map(r=>F(r,t,e));return r=>{let o=[""];for(let a of s){let[i,...c]=a(r);o[0]+=i,o.push(...c)}return o}}function F(n,t,e){if(n.type==="text")return()=>[n.value];if(n.type==="group"){let r=D(n.tokens,t,e);return o=>{let[a,...i]=r(o);return i.length?[""]:[a]}}let s=e||x;return n.type==="wildcard"&&e!==!1?r=>{let o=r[n.name];if(o==null)return["",n.name];if(!Array.isArray(o)||o.length===0)throw new TypeError(`Expected "${n.name}" to be a non-empty array`);return[o.map((a,i)=>{if(typeof a!="string")throw new TypeError(`Expected "${n.name}/${i}" to be a string`);return s(a)}).join(t)]}:r=>{let o=r[n.name];if(o==null)return["",n.name];if(typeof o!="string")throw new TypeError(`Expected "${n.name}" to be a string`);return[s(o)]}}function L(n,t={}){let{decode:e=decodeURIComponent,delimiter:s=E}=t,{regexp:r,keys:o}=R(n,t),a=o.map(i=>e===!1?x:i.type==="param"?e:c=>c.split(s).map(e));return function(c){let l=r.exec(c);if(!l)return!1;let h=l[0],f=Object.create(null);for(let p=1;p<l.length;p++){if(l[p]===void 0)continue;let y=o[p-1],_=a[p-1];f[y.name]=_(l[p])}return{path:h,params:f}}}function R(n,t={}){let{delimiter:e=E,end:s=!0,sensitive:r=!1,trailing:o=!0}=t,a=[],i=[],c=r?"s":"is",h=(Array.isArray(n)?n:[n]).map(y=>y instanceof m?y:C(y,t));for(let{tokens:y}of h)for(let _ of w(y,0,[])){let j=q(_,e,a);i.push(j)}let f=`^(?:${i.join("|")})`;return o&&(f+=`(?:${g(e)}$)?`),f+=s?"$":`(?=${g(e)}|$)`,{regexp:new RegExp(f,c),keys:a}}function*w(n,t,e){if(t===n.length)return yield e;let s=n[t];if(s.type==="group"){let r=e.slice();for(let o of w(s.tokens,0,r))yield*w(n,t+1,o)}else e.push(s);yield*w(n,t+1,e)}function q(n,t,e){let s="",r="",o=!0;for(let a=0;a<n.length;a++){let i=n[a];if(i.type==="text"){s+=g(i.value),r=i.value,o||(o=i.value.includes(t));continue}if(i.type==="param"||i.type==="wildcard"){if(!o&&!r)throw new TypeError(`Missing text after "${i.name}": ${v}`);i.type==="param"?s+=`(${k(t,o?"":r)}+)`:s+="(.+)",e.push(i),r="",o=!1;continue}}return s}function k(n,t){let e=[n,t].filter(Boolean);return e.every(r=>r.length===1)?`[^${g(e.join(""))}]`:`(?:(?!${e.map(g).join("|")}).)`}function G(n){return n.tokens.map(function t(e,s,r){if(e.type==="text")return U(e.value);if(e.type==="group")return`{${e.tokens.map(t).join("")}}`;let a=W(e.name)&&B(r[s+1])?e.name:JSON.stringify(e.name);if(e.type==="param")return`:${a}`;if(e.type==="wildcard")return`*${a}`;throw new TypeError(`Unexpected token: ${e}`)}).join("")}function W(n){let[t,...e]=n;return S.test(t)?e.every(s=>T.test(s)):!1}function B(n){return n?.type!=="text"?!0:!T.test(n.value[0])}});"path-to-regexp"in globalThis.__thrush_future_vendor_registry__||Object.defineProperty(globalThis.__thrush_future_vendor_registry__,"path-to-regexp",{get(){return b()}});
})();

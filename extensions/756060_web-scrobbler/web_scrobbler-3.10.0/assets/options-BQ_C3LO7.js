import{d as S,i as u,g as i,F as L,c as f,a as l,t as m,aD as T,aE as O,f as y,S as w,e as C,b as p,m as R,am as z,an as D,aF as F,aG as N,aH as H,a3 as q,y as G,aI as k,a0 as J,at as K,O as Q,aJ as U,aK as j,aL as V,aM as X,aN as Y}from"./context-menu-D_6OpWHq.js";const Z="_settings_doo58_21",tt="_settingsContentWrapper_doo58_42",et="_settingsContent_doo58_42",nt="_modal_doo58_76",st="_modalContent_doo58_97",it="_modalClose_doo58_104",v={settings:Z,settingsContentWrapper:tt,settingsContent:et,modal:nt,modalContent:st,modalClose:it},ot="_sidebarWrapper_4cegw_1",at="_sidebar_4cegw_1",rt="_sidebarButton_4cegw_7",ct="_active_4cegw_22",b={sidebarWrapper:ot,sidebar:at,sidebarButton:rt,active:ct},lt=m("<button>"),dt=m("<div><nav>");function x(t){return i(w,{get when(){return T(t.item)},get fallback(){return i(L,{get each(){return t.item.group},children:e=>i(x,{item:e,get activeSetting(){return t.activeSetting},get setActiveSetting(){return t.setActiveSetting}})})},get children(){const e=lt();return e.$$click=()=>O(t.item,t.setActiveSetting),u(e,i(t.item.icon,{}),null),u(e,()=>y(t.item.namei18n),null),f(()=>l(e,b.sidebarButton+(t.activeSetting().namei18n===t.item.namei18n?` ${b.active}`:""))),e}})}function vt(t){return(()=>{const e=dt(),d=e.firstChild;return u(d,i(L,{get each(){return t.items},children:s=>i(x,{item:s,get activeSetting(){return t.activeSetting},get setActiveSetting(){return t.setActiveSetting}})})),f(s=>{const o=b.sidebarWrapper,_=b.sidebar;return o!==s._v$&&l(e,s._v$=o),_!==s._v$2&&l(d,s._v$2=_),s},{_v$:void 0,_v$2:void 0}),e})()}S(["click"]);const ut=m("<div><button type=button>"),B={origins:["http://*/","https://*/"]};function gt(){const[t,e]=C(!0);return mt(e),i(w,{get when(){return!t()},get children(){const d=ut(),s=d.firstChild;return s.$$click=()=>{p.permissions.request(B).then(e)},u(s,()=>y("optionsPermissionsLabel")),f(()=>l(d,R.permissionsPopup)),d}})}async function mt(t){t(await p.permissions.contains(B))}S(["click"]);const _t=m("<div>Loading..."),$t=m("<div><div><div>"),ht=m("<dialog><div></div><button>");function M(){return window.matchMedia("(max-width: 700px)").matches}function ft(){switch(new URLSearchParams(window.location.search).get("p")){case"accounts":return N;case"connectors":return F}return H}const Ct=ft(),bt={savedEdits:U,regexEdits:j,blocklist:V,cacheEdit:X,blockedTags:Y,"":()=>_t()};function St(){const[t,e]=C(Ct),[d,s]=C("");let o;const _=n=>{const a=n.target;if(a instanceof HTMLElement){if(a.closest(`.${v.modal}`)&&!a.classList.contains(v.modal)){n.stopPropagation();return}o==null||o.close()}};document.addEventListener("click",_),q(()=>document.removeEventListener("click",_));const[W,A]=C(M()),I=()=>A(M());return window.addEventListener("resize",I),[i(gt,{}),(()=>{const n=$t(),a=n.firstChild,g=a.firstChild;return u(n,i(w,{get when(){return W()},get fallback(){return i(vt,{items:k,activeSetting:t,setActiveSetting:e})},get children(){return i(J,{items:k,setActiveSetting:e})}}),a),u(g,()=>t().element({setActiveModal:s,modal:o})),f(r=>{const c=v.settings,$=v.settingsContentWrapper,h=v.settingsContent;return c!==r._v$&&l(n,r._v$=c),$!==r._v$2&&l(a,r._v$2=$),h!==r._v$3&&l(g,r._v$3=h),r},{_v$:void 0,_v$2:void 0,_v$3:void 0}),n})(),(()=>{const n=ht(),a=n.firstChild,g=a.nextSibling;n.addEventListener("close",()=>s(""));const r=o;return typeof r=="function"?G(r,n):o=n,u(a,i(K,{get component(){return bt[d()]}})),g.$$click=()=>o==null?void 0:o.close(),u(g,i(Q,{})),f(c=>{const $=v.modal,h=v.modalContent,E=v.modalClose;return $!==c._v$4&&l(n,c._v$4=$),h!==c._v$5&&l(a,c._v$5=h),E!==c._v$6&&l(g,c._v$6=E),c},{_v$4:void 0,_v$5:void 0,_v$6:void 0}),n})()]}const P=document.getElementById("root");if(!P)throw new Error("Root element not found");z(St,P);D();S(["click"]);

function HandleTradeActionMenu(t,e,a){HideMenuFast(t,"trade_action_popup");var i=null!=a,n=e.marketable||i,r=void 0!==e.actions;n&&$J("#trade_action_popup_staticactions").show(),n&&r?$J("#trade_action_popup_itemstaticsep").show():$J("#trade_action_popup_itemstaticsep").hide();var o="";if(Steam.BIsUserInSteamClient()&&(o="steam://openurl/"),e.marketable){var p=GetMarketHashName(e);$J("#trade_action_viewinmarket").attr("href",o+"https://steamcommunity.com/market/listings/"+e.appid+"/"+p),$J("#trade_action_viewinmarket").show()}else $J("#trade_action_viewinmarket").hide();if(i?($J("#trade_action_viewininventory").attr("href",o+a.GetProfileURL()+"/inventory/#"+e.appid+"_"+e.contextid+"_"+e.id),$J("#trade_action_viewininventory").show()):$J("#trade_action_viewininventory").hide(),$J("#trade_action_popup").attr("data-itemassetid",e.id),r){var _=$J("#trade_action_popup_itemactions");_.empty();for(var d=0;d<e.actions.length;d++){var c=e.actions[d],s=c.link.replace("%assetid%",e.id).replace("%contextid%",e.contextid).replace("%owner_steamid%",a.GetSteamId()),m=$J("<a></a>");m.attr("href",s),m.addClass("popup_menu_item"),"steam:"!=c.link.substr(0,6)&&(m.attr("target","_blank"),m.attr("rel","noreferrer")),m.text(c.name),m.click((function(){HideMenu(t,"trade_action_popup")})),_.append(m)}_.show()}else $J("#trade_action_popup_itemactions").hide();ShowMenu(t,"trade_action_popup","right")}
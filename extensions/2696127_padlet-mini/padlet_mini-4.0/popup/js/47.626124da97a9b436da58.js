(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{"0nuZ":function(t,e){},"3w61":function(t,e){},"64Qf":function(t,e,a){"use strict";var n=a("14Xm"),s=a.n(n),i=a("D3Ub"),r=a.n(i),c=a("QbLZ"),o=a.n(c),l=a("0LbE"),u=a("L2JU"),d=a("t3dQ"),v=a("dzx2"),h=a("9J7q"),p={name:"Auth",components:{Spinner:d.a,AppButton:v.a},directives:{t:h.a},data:function(){return{loaded:!1}},computed:Object(u.c)({user:"currentUser",tenant:"currentTenant",signedInUsers:"signedInUsers",orgsByUsers:"orgsByUsers"}),methods:o()({},Object(u.b)(["getOrgs","getAndSetUserByTenant","getVanillaSession"]),Object(u.d)(["clearAllWalls"]),{goToSignUp:function(){l.a.tabs.create({url:"https://padlet.com/auth/signup"})},goToLogIn:function(){l.a.tabs.create({url:"https://padlet.com/auth/login"})},checkAndSetTenantByLoggedInUsers:function(){this.signedInUsers.length>0&&this.getAndSetUserByTenant(this.orgsByUsers[this.signedInUsers[0].id])}}),mounted:function(){var t=this;return r()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getOrgs();case 2:t.tenant&&t.user&&t.user.registered_at?t.getAndSetUserByTenant(t.tenant):t.checkAndSetTenantByLoggedInUsers();case 3:case"end":return e.stop()}}),e,t)})))()},watch:{user:function(t){t&&(this.loaded=!0),t.registered_at?this.$router.push("/padlets"):this.clearAllWalls()}}},g=a("JFUb"),m=Object(g.a)(p,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main auth"},[t.loaded?t._e():a("spinner"),t._v(" "),t.loaded?a("div",{staticClass:"colored-background"}):t._e(),t._v(" "),t.loaded?a("div",{staticClass:"auth-screen"},[a("div",{staticClass:"main-hero"},[a("img",{attrs:{src:"assets/type_logo.png",width:"60px",height:"28px"}}),t._v(" "),a("h1",{directives:[{name:"t",rawName:"v-t"}],staticClass:"title-type"},[t._v("Hey stranger!")]),t._v(" "),a("h2",{directives:[{name:"t",rawName:"v-t"}],staticClass:"subheading-type caption-type"},[t._v("You need to log in to or sign up for Padlet to use this extension")])]),t._v(" "),a("div",{staticClass:"auth-options"},[a("app-button",{directives:[{name:"t",rawName:"v-t"}],staticClass:"auth-signup-button",attrs:{type:"rounded"},on:{click:t.goToSignUp}},[t._v("Sign up")]),t._v(" "),a("app-button",{directives:[{name:"t",rawName:"v-t"}],staticClass:"auth-login-button",attrs:{type:"rounded"},on:{click:t.goToLogIn}},[t._v("Log in")])],1),t._v(" "),t._m(0)]):t._e()],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"auth-graphic"},[e("img",{attrs:{src:"assets/welcome_graphic.png",width:"260px",height:"112px"}})])}],!1,(function(t){a("VAaR")}),"data-v-14c273f6",null);e.a=m.exports},Ec8s:function(t,e,a){"use strict";var n=a("14Xm"),s=a.n(n),i=a("D3Ub"),r=a.n(i),c=a("0LbE"),o=a("uajp"),l=a("URgk"),u=a("9z4M"),d={name:"CsrfLogin",data:function(){return{domain:this.$route.params.domain,message:Object(u.a)("Log in to %{domain} to continue",{domain:this.$route.params.domain})}},methods:{goToLogIn:function(){c.a.tabs.create({url:"https://"+this.domain}),window.close()},checkCsrf:function(){o.a.csrfTokenForOrgDomainName(this.domain)&&this.$router.push("/padlets")}},mounted:function(){var t=this;return r()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.a.isSafari()&&Object(l.setInterval)((function(){t.checkCsrf()}),1e3);case 1:case"end":return e.stop()}}),e,t)})))()}},v=a("JFUb"),h=Object(v.a)(d,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main csrfLogin"},[e("div",{staticClass:"auth-screen"},[e("button",{staticClass:"flat-button",domProps:{textContent:this._s(this.message)},on:{click:this.goToLogIn}})])])}),[],!1,(function(t){a("VpCW")}),"data-v-39bd641c",null);e.a=h.exports},"QsC+":function(t,e,a){"use strict";var n=a("QbLZ"),s=a.n(n),i=a("L2JU"),r=a("t3dQ"),c=a("dzx2"),o=a("8xhB"),l=a("+pDM"),u=a("0LbE"),d=a("uajp"),v=a("9J7q"),h=a("9z4M"),p={name:"Auth",components:{Spinner:r.a,Padlet:l.a,AppButton:c.a,FolderSelector:o.a},directives:{t:v.a},computed:s()({},Object(i.c)({loaded:"wallLoaded",walls:"getWalls",user:"currentUser",tenant:"currentTenant",currentFolder:"getCurrentFolder"}),{canMake:function(){return this.user.quota.can_make},loggedInMessage:function(){return Object(h.a)("Logged in as %{username}",{username:this.user.username})},avatarImageSource:function(){return d.a.getProcessedImageUrl(this.user.avatar,{crop:"thumb",gravity:"face",dpr:2,width:24,height:24})},currentFolderName:function(){switch(this.currentFolder){case"recents":return Object(h.a)("Recents");case"made":return Object(h.a)("Made");case"shared":return Object(h.a)("Shared");case"liked":return Object(h.a)("Liked");default:return this.currentFolder.name}}}),methods:s()({},Object(i.b)(["fetchWallsInFolder","setBanner"]),Object(i.d)(["clearFinishedPosting"]),{goToCreate:function(){u.a.tabs.create({url:"https://"+this.tenant.domain_name+"/create"})},goToUpgrade:function(){u.a.tabs.create({url:"https://padlet.com/premium/upgrade"})},closeQuotaNotice:function(){this.setBanner({show:!1})},openQuotaNotice:function(){this.setBanner({message:Object(h.a)("Quota exceeded. Please upgrade to be able to create more padlets"),buttons:[{key:"upgrade",text:"Upgrade",click:this.goToUpgrade},{key:"cancel",text:"Cancel",click:this.closeQuotaNotice}],show:!0})},goToHelp:function(){u.a.tabs.create({url:"https://jn.padlet.com"})},goToAccountScreen:function(){this.$router.push("/account")},checkCsrf:function(){return!!d.a.csrfTokenForOrgDomainName(this.tenant.domain_name)||(console.error("No CSRF Token in localStorage. User will need to visit "+this.tenant.domain_name+" once for the extension to scrap it"),this.$router.push("/csrfLogin/"+this.tenant.domain_name),!1)}}),mounted:function(){this.clearFinishedPosting(),this.checkCsrf(),this.fetchWallsInFolder({folder:this.currentFolder})},watch:{tenant:function(t){t&&this.checkCsrf()}}},g=a("JFUb"),m=Object(g.a)(p,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main padlets"},[t.loaded?t._e():a("spinner"),t._v(" "),t.loaded?a("div",{staticClass:"padlets-screen"},[a("div",{staticClass:"header"},[a("div",{staticClass:"header-left"},[a("app-button",{directives:[{name:"t",rawName:"v-t:aria-label",value:"Switch account",expression:"'Switch account'",arg:"aria-label"}],staticClass:"header-account-button icon-button",attrs:{"data-tooltip":"bottom-right"},on:{click:t.goToAccountScreen}},[a("img",{attrs:{width:"24",height:"24",src:t.avatarImageSource}})])],1),t._v(" "),a("div",{staticClass:"header-title"},[a("div",[t._v(t._s(t.currentFolderName))]),t._v(" "),a("folder-selector")],1),t._v(" "),a("div",{staticClass:"header-right"},[a("app-button",{directives:[{name:"t",rawName:"v-t"}],staticClass:"text-button narrow-button",on:{click:t.goToCreate}},[t._v("Make")])],1)]),t._v(" "),a("div",{staticClass:"padlet-list"},t._l(t.walls,(function(e){return a("padlet",{key:e.id,attrs:{wall:e,currentUser:t.user}})})),1),t._v(" "),a("div",{staticClass:"footer"},[a("div",{staticClass:"pull-left caption-type footer-text",domProps:{textContent:t._s(t.loggedInMessage)}}),t._v(" "),a("app-button",{directives:[{name:"t",rawName:"v-t"}],staticClass:"pull-right text-button narrow-button",on:{click:t.goToHelp}},[t._v("Help")])],1)]):t._e()],1)}),[],!1,(function(t){a("0nuZ")}),"data-v-2f64a5e2",null);e.a=m.exports},VAaR:function(t,e){},VpCW:function(t,e){},Vtst:function(t,e,a){"use strict";var n=a("QbLZ"),s=a.n(n),i=a("dzx2"),r=a("uajp"),c=a("L2JU"),o=a("9J7q"),l={name:"Account",components:{AppButton:i.a},directives:{t:o.a},computed:s()({},Object(c.c)({user:"currentUser",orgs:"allOrgsWithLoggedInUser",orgsByUsers:"orgsByUsers"}),{avatarImageSource:function(){return r.a.getProcessedImageUrl(this.user.avatar,{crop:"fill",dpr:2,width:44,height:44})}}),methods:s()({},Object(c.b)(["getAndSetUserByTenant"]),{getOrgImageUrl:function(t){return r.a.getProcessedImageUrl(t,{crop:"thumb",gravity:"center",dpr:2,width:32,height:32})},goBack:function(){this.$router.go(-1)},isCurrentOrg:function(t){var e=this.user,a=this.orgsByUsers[e.id];return t.id===a.id},switchToTenant:function(t){this.getAndSetUserByTenant(t)}})},u=a("JFUb"),d=Object(u.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main account"},[a("div",{staticClass:"account-screen"},[a("div",{staticClass:"header multilined-header"},[a("div",{staticClass:"header-back-button"},[a("button",{staticClass:"icon-button",on:{click:t.goBack}},[a("i",{staticClass:"material-icons"},[t._v("arrow_back")])])]),t._v(" "),a("div",{staticClass:"current-tenant"},[a("div",{staticClass:"user-avatar"},[a("img",{attrs:{width:"44",height:"44",src:t.avatarImageSource}})]),t._v(" "),a("div",{staticClass:"user-name"},[t._v(t._s(t.user.name))]),t._v(" "),a("div",{staticClass:"user-username"},[t._v(t._s(t.user.username))])]),t._v(" "),a("div",{directives:[{name:"t",rawName:"v-t"}],staticClass:"prompt"},[t._v("Switch account")])]),t._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"tenant-options tv tv-list"},t._l(t.orgs,(function(e){return a("div",{key:e.id,staticClass:"tenant-option tv-cell tv-cell-default is-actionable",on:{click:function(a){return t.switchToTenant(e)}}},[a("img",{attrs:{width:"32",height:"32",src:t.getOrgImageUrl(e.assets&&e.assets.home_logo?e.assets.home_logo:e.user.avatar)}}),t._v(" "),a("div",{staticClass:"tenant-info"},[a("div",{staticClass:"tenant-name"},[t._v("\n              "+t._s(e.name)+"\n            ")]),t._v(" "),a("div",{staticClass:"tenant-user-name"},[t._v("\n              "+t._s(e.user.name)+"\n            ")])])])})),0)]),t._v(" "),a("div",{staticClass:"footer"})])])}),[],!1,(function(t){a("hZH0")}),"data-v-4c956362",null);e.a=d.exports},WbCY:function(t,e){},hZH0:function(t,e){},mqmr:function(t,e,a){"use strict";var n=a("14Xm"),s=a.n(n),i=a("D3Ub"),r=a.n(i),c=a("QbLZ"),o=a.n(c),l=a("I1R5"),u=a("0LbE"),d=a("L2JU"),v=a("9z4M"),h=a("9J7q"),p={name:"Auth",components:{RadioButton:l.a},directives:{t:h.a},computed:o()({},Object(d.c)({user:"currentUser",newWall:"getNewWall"}),{loggedInMessage:function(){return Object(v.a)("Logged in as %{username}",{username:this.user.username})}}),data:function(){return{title:"",advancing:!1,newPadletPrivacy:0,titleInputNotice:null}},methods:o()({},Object(d.b)(["createPadletAndAdd"]),{goBack:function(){this.$router.go(-1)},pickPrivacy:function(t){console.log(t),this.newPadletPrivacy=t.target.id},openWallInNewTab:function(t){u.a.tabs.create({url:t.links.show})},goToHelp:function(){u.a.tabs.create({url:"https://jn.padlet.com"})},createAndAdd:function(){var t=this;return r()(s.a.mark((function e(){var a,n,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.tabs.query({active:!0,currentWindow:!0});case 2:return a=e.sent,n=a[0],i={title:t.title,viz:"grid",privacy_policy:{public:parseInt(t.newPadletPrivacy)}},e.next=7,t.createPadletAndAdd({data:i,tab:n});case 7:t.$router.go(-1);case 8:case"end":return e.stop()}}),e,t)})))()},createAndAdvance:function(){var t=this;return r()(s.a.mark((function e(){var a,n,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.tabs.query({active:!0,currentWindow:!0});case 2:return a=e.sent,n=a[0],i={title:t.title},e.next=7,t.createPadletAndAdd({data:i,tab:n});case 7:t.advancing=!0;case 8:case"end":return e.stop()}}),e,t)})))()}}),watch:{advancing:function(t){t&&this.newWall&&(this.openWallInNewTab(this.newWall),this.advancing=!1)},newWall:function(t){this.advancing&&t&&(this.openWallInNewTab(this.newWall),this.advancing=!1)}}},g=a("JFUb"),m=Object(g.a)(p,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main create"},[a("div",{staticClass:"create-screen"},[a("div",{staticClass:"header"},[a("div",{staticClass:"header-back-button"},[a("button",{staticClass:"icon-button",on:{click:t.goBack}},[a("i",{staticClass:"material-icons"},[t._v("arrow_back")])])]),t._v(" "),a("h1",{directives:[{name:"t",rawName:"v-t"}]},[t._v("Create a new padlet on Padlet")])]),t._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"options-field"},[a("label",{staticClass:"input-label control-label",attrs:{for:"input-title"}},[t._v("Title")]),t._v(" "),a("div",{staticClass:"input-field"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{id:"input-title",type:"text",name:"title",placeholder:"Bookmarks"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}}),t._v(" "),t.titleInputNotice?a("p",{staticClass:"input-notice",domProps:{textContent:t._s(t.titleInputNotice)}}):t._e()])]),t._v(" "),a("div",{staticClass:"options-field"},[a("label",{staticClass:"input-label control-label",attrs:{for:"input-title"}},[t._v("Privacy")]),t._v(" "),a("div",{staticClass:"input-field radio-input-field"},[a("radio-button",{directives:[{name:"t",rawName:"v-t"}],attrs:{id:"0",name:"privacy",checked:"0"==t.newPadletPrivacy},on:{click:t.pickPrivacy}},[t._v("Private — only I can read and write")]),t._v(" "),a("radio-button",{directives:[{name:"t",rawName:"v-t"}],attrs:{id:"1",name:"privacy",checked:"2"==t.newPadletPrivacy},on:{click:t.pickPrivacy}},[t._v("Public — anyone with access can read and write")])],1)]),t._v(" "),a("div",{staticClass:"create-options"},[a("div",{directives:[{name:"t",rawName:"v-t"}],staticClass:"caption-type create-notice"},[t._v('\n          If you want to set more advanced privacy settings (e.g. share with specific people) or change the theme, choose the "advanced settings" button below\n        ')]),t._v(" "),a("button",{directives:[{name:"t",rawName:"v-t"}],staticClass:"flat-button narrow-button",on:{click:t.createAndAdd}},[t._v("Create padlet and add this page to it")]),t._v(" "),t._m(0),t._v(" "),a("button",{directives:[{name:"t",rawName:"v-t"}],staticClass:"flat-button grey-button small-button narrow-button",on:{click:t.createAndAdvance}},[t._v("Create, add, and take me to advanced settings")])])]),t._v(" "),a("div",{staticClass:"footer"},[a("div",{staticClass:"pull-left caption-type",domProps:{textContent:t._s(t.loggedInMessage)}}),t._v(" "),a("div",{staticClass:"pull-right caption-type"},[a("button",{directives:[{name:"t",rawName:"v-t"}],staticClass:"text-button",on:{click:t.goToHelp}},[t._v("Help")])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"or"},[e("span",[this._v("or")]),e("div",{staticClass:"line"})])}],!1,(function(t){a("WbCY")}),"data-v-5183a96c",null);e.a=m.exports},t3dQ:function(t,e,a){"use strict";var n=a("JFUb"),s=Object(n.a)(null,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loader is-small"},[e("svg",{staticClass:"circular",attrs:{viewBox:"25 25 50 50"}},[e("circle",{staticClass:"path",attrs:{cx:"50",cy:"50",r:"20",fill:"none","stroke-width":"2","stroke-miterlimit":"10"}})])])}),[],!1,(function(t){a("3w61")}),"data-v-a2371b06",null);e.a=s.exports},zKq3:function(t){t.exports=JSON.parse('{"host":"https://padlet.com","ga_tracking_id":"UA-73252612-4"}')}}]);
(()=>{var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},a={},s=e.parcelRequire8ef2;null==s&&((s=function(e){if(e in r)return r[e].exports;if(e in a){var s=a[e];delete a[e];var t={id:e,exports:{}};return r[e]=t,s.call(t.exports,t,t.exports),t.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,r){a[e]=r},e.parcelRequire8ef2=s),s.register("5miWF",(function(e,r){var a;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,a=function(e){"use strict";if("undefined"==typeof browser||Object.getPrototypeOf(browser)!==Object.prototype){const r="The message port closed before a response was received.",a="Returning a Promise is the preferred way to send a reply from an onMessage/onMessageExternal listener, as the sendResponse will be removed from the specs (See https://developer.mozilla.org/docs/Mozilla/Add-ons/WebExtensions/API/runtime/onMessage)",s=e=>{const s={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(s).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class t extends WeakMap{constructor(e,r){super(r),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}const o=(r,a)=>(...s)=>{e.runtime.lastError?r.reject(new Error(e.runtime.lastError.message)):a.singleCallbackArg||s.length<=1&&!1!==a.singleCallbackArg?r.resolve(s[0]):r.resolve(s)},n=e=>1==e?"argument":"arguments",i=(e,r,a)=>new Proxy(r,{apply:(r,s,t)=>a.call(s,e,...t)});let _=Function.call.bind(Object.prototype.hasOwnProperty);const l=(e,r={},a={})=>{let s=Object.create(null),t={has:(r,a)=>a in e||a in s,get(t,A,m){if(A in s)return s[A];if(!(A in e))return;let g=e[A];if("function"==typeof g)if("function"==typeof r[A])g=i(e,e[A],r[A]);else if(_(a,A)){let r=((e,r)=>function(a,...s){if(s.length<r.minArgs)throw new Error(`Expected at least ${r.minArgs} ${n(r.minArgs)} for ${e}(), got ${s.length}`);if(s.length>r.maxArgs)throw new Error(`Expected at most ${r.maxArgs} ${n(r.maxArgs)} for ${e}(), got ${s.length}`);return new Promise(((t,n)=>{if(r.fallbackToNoCallback)try{a[e](...s,o({resolve:t,reject:n},r))}catch(o){console.warn(`${e} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,o),a[e](...s),r.fallbackToNoCallback=!1,r.noCallback=!0,t()}else r.noCallback?(a[e](...s),t()):a[e](...s,o({resolve:t,reject:n},r))}))})(A,a[A]);g=i(e,e[A],r)}else g=g.bind(e);else if("object"==typeof g&&null!==g&&(_(r,A)||_(a,A)))g=l(g,r[A],a[A]);else{if(!_(a,"*"))return Object.defineProperty(s,A,{configurable:!0,enumerable:!0,get:()=>e[A],set(r){e[A]=r}}),g;g=l(g,r[A],a["*"])}return s[A]=g,g},set:(r,a,t,o)=>(a in s?s[a]=t:e[a]=t,!0),defineProperty:(e,r,a)=>Reflect.defineProperty(s,r,a),deleteProperty:(e,r)=>Reflect.deleteProperty(s,r)},A=Object.create(e);return new Proxy(A,t)},A=e=>({addListener(r,a,...s){r.addListener(e.get(a),...s)},hasListener:(r,a)=>r.hasListener(e.get(a)),removeListener(r,a){r.removeListener(e.get(a))}}),m=new t((e=>"function"!=typeof e?e:function(r){const a=l(r,{},{getContent:{minArgs:0,maxArgs:0}});e(a)}));let g=!1;const d=new t((e=>"function"!=typeof e?e:function(r,s,t){let o,n,i=!1,_=new Promise((e=>{o=function(r){g||(console.warn(a,(new Error).stack),g=!0),i=!0,e(r)}}));try{n=e(r,s,o)}catch(e){n=Promise.reject(e)}const l=!0!==n&&(A=n)&&"object"==typeof A&&"function"==typeof A.then;var A;if(!0!==n&&!l&&!i)return!1;const m=e=>{e.then((e=>{t(e)}),(e=>{let r;r=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",t({__mozWebExtensionPolyfillReject__:!0,message:r})})).catch((e=>{console.error("Failed to send onMessage rejected reply",e)}))};return m(l?n:_),!0})),c=({reject:a,resolve:s},t)=>{e.runtime.lastError?e.runtime.lastError.message===r?s():a(new Error(e.runtime.lastError.message)):t&&t.__mozWebExtensionPolyfillReject__?a(new Error(t.message)):s(t)},E=(e,r,a,...s)=>{if(s.length<r.minArgs)throw new Error(`Expected at least ${r.minArgs} ${n(r.minArgs)} for ${e}(), got ${s.length}`);if(s.length>r.maxArgs)throw new Error(`Expected at most ${r.maxArgs} ${n(r.maxArgs)} for ${e}(), got ${s.length}`);return new Promise(((e,r)=>{const t=c.bind(null,{resolve:e,reject:r});s.push(t),a.sendMessage(...s)}))},p={devtools:{network:{onRequestFinished:A(m)}},runtime:{onMessage:A(d),onMessageExternal:A(d),sendMessage:E.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:E.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},f={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return s.privacy={network:{"*":f},services:{"*":f},websites:{"*":f}},l(e,p,s)};if("object"!=typeof chrome||!chrome||!chrome.runtime||!chrome.runtime.id)throw new Error("This script should only be loaded in a browser extension.");e.exports=s(chrome)}else e.exports=browser},"function"==typeof define&&define.amd?define("webextension-polyfill",["module"],a):a(e)})),s.register("gZXaM",(function(e,r){"use strict";var a=e.exports&&e.exports.__createBinding||(Object.create?function(e,r,a,s){void 0===s&&(s=a);var t=Object.getOwnPropertyDescriptor(r,a);t&&!("get"in t?!r.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(e,s,t)}:function(e,r,a,s){void 0===s&&(s=a),e[s]=r[a]}),t=e.exports&&e.exports.__exportStar||function(e,r){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(r,s)||a(r,e,s)};Object.defineProperty(e.exports,"__esModule",{value:!0}),t(s("cPPRO"),e.exports)})),s.register("cPPRO",(function(e,r){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.DASHBOARD_MESSAGES=e.exports.CONTENT_MESSAGES=e.exports.BG_MESSAGES=void 0,e.exports.BG_MESSAGES={emailFieldDetected:"PE_BG_EMAIL_FIELD_DETECTED",checkAlias:"PE_BG_CHECK_ALIAS",createAlias:"PE_BG_CREATE_ALIAS",getAlias:"PE_BG_GET_ALIAS",getLicense:"PE_BG_GET_LICENSE",getProtectedEmails:"PE_BG_GET_PROTECTED_EMAILS",getTenantMapping:"PE_BG_GET_TENANT_MAPPING",updateAlias:"PE_BG_UPDATE_ALIAS",updateProtectedEmail:"PE_BG_UPDATE_PROTECTED_EMAIL",verifyProtectedEmail:"PE_BG_VERIFY_PROTECTED_EMAIL",deleteProtectedEmail:"PE_BG_DELETE_PROTECTED_EMAIL",generateEmailAlias:"PE_BG_GENERATE_EMAIL_ALIAS",getAccountEmail:"PE_BG_GET_ACCOUNT_EMAIL",sendVerificationEmail:"PE_BG_SEND_VERIFICATION_EMAIL",setOnboardingComplete:"PE_BG_SET_ONBOARDING_COMPLETE",sendTelemetry:"PE_BG_SEND_TELEMETRY",canOpenDashboard:"PE_BG_CAN_OPEN_DASHBOARD"},e.exports.CONTENT_MESSAGES={helloWorld:"PE_CONTENT_HELLO_WORLD"},e.exports.DASHBOARD_MESSAGES={closeDashboard:"CLOSE_DASHBOARD"}})),s.register("7tLyq",(function(e,r){"use strict";var a=e.exports&&e.exports.__createBinding||(Object.create?function(e,r,a,s){void 0===s&&(s=a);var t=Object.getOwnPropertyDescriptor(r,a);t&&!("get"in t?!r.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(e,s,t)}:function(e,r,a,s){void 0===s&&(s=a),e[s]=r[a]}),t=e.exports&&e.exports.__exportStar||function(e,r){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(r,s)||a(r,e,s)};Object.defineProperty(e.exports,"__esModule",{value:!0}),t(s("fRPfz"),e.exports),t(s("8BiMs"),e.exports),t(s("dtOaX"),e.exports),t(s("5kbmG"),e.exports),t(s("lA1Um"),e.exports),t(s("2Gi2j"),e.exports),t(s("62Uru"),e.exports),t(s("hrZL9"),e.exports),t(s("5DdOe"),e.exports),t(s("7wRtg"),e.exports),t(s("i4x54"),e.exports),t(s("eHanD"),e.exports),t(s("HjiGh"),e.exports)})),s.register("fRPfz",(function(e,r){"use strict";var a;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.ActionType=void 0,(a=e.exports.ActionType||(e.exports.ActionType={})).LAUNCH_DASHBOARD_PAGE="LAUNCH_DASHBOARD_PAGE",a.SAVE_NEW_EMAIL_MASK="SAVE_NEW_EMAIL_MASK",a.CREATE_NEW_EMAIL_MASK="CREATE_NEW_EMAIL_MASK",a.GENERATE_NEW_EMAIL_MASK="GENERATE_NEW_EMAIL_MASK",a.FETCH_EMAIL_MASKS="FETCH_EMAIL_MASKS",a.CHECK_SDK_INIT_REQUIRED="CHECK_SDK_INIT_REQUIRED",a.FETCH_BADGE_UI_CONFIG="FETCH_BADGE_UI_CONFIG",a.FETCH_DROP_DOWN_UI_CONFIG="FETCH_DROP_DOWN_UI_CONFIG",a.ADD_RECENTLY_USED_ALIAS="ADD_RECENTLY_USED_ALIAS",a.GET_ONBOARDING_SHOWN_STATUS="GET_ONBOARDING_SHOWN_STATUS",a.SET_ONBOARDING_SHOWN_STATUS="SET_ONBOARDING_SHOWN_STATUS",a.SEND_TELEMETRY="SEND_TELEMETRY",a.FETCH_AUTOFILL_UI_CONFIG="FETCH_AUTOFILL_UI_CONFIG",a.FETCH_EMAIL_FIELD_CONFIG="FETCH_EMAIL_FIELD_CONFIG",a.GET_PROTECTED_EMAILS="GET_PROTECTED_EMAILS",a.GET_PRODUCT_FACTS="GET_PRODUCT_FACTS",a.INVOKE_LOGIN="INVOKE_LOGIN",a.OPEN_APP="OPEN_APP",a.SEND_FILL_MASK_TELEMETRY="SEND_FILL_MASK_TELEMETRY"})),s.register("8BiMs",(function(e,r){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.AUTOFILL_UI_TYPES=void 0,e.exports.AUTOFILL_UI_TYPES={ONBOARDING_FLOW:"ONBOARDING_FLOW",GENERATE_NEW_POPUP:"generateNew"}})),s.register("dtOaX",(function(e,r){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0})})),s.register("5kbmG",(function(e,r){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.BadgeConfig=void 0;var a=function(){};e.exports.BadgeConfig=a})),s.register("lA1Um",(function(e,r){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.AUTOFILL_BG_MESSAGES=void 0,e.exports.AUTOFILL_BG_MESSAGES={AUTOFILL_ACTION_REQUEST:"AUTOFILL_ACTION_REQUEST",AUTOFILL_EVENT_TRIGGERED:"AUTOFILL_EVENT_TRIGGERED",FILL_EMAIL_MASK:"FILL_EMAIL_MASK",CREATE_EMAIL_MASK_CLICK:"CREATE_EMAIL_MASK_CLICK",UPDATE_IFRAME_SIZE:"UPDATE_IFRAME_SIZE",SHOW_POPUP:"SHOW_POPUP",CLOSE_AUTOFILL_POPUP:"CLOSE_AUTOFILL_POPUP",CLOSE_ICON_CLICKED:"CLOSE_ICON_CLICKED"}})),s.register("2Gi2j",(function(e,r){"use strict";var a;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.OnboardingCompleteContext=void 0,(a=e.exports.OnboardingCompleteContext||(e.exports.OnboardingCompleteContext={})).DASHBOARD="DASHBOARD",a.FORMFIELD="FORMFIELD"})),s.register("62Uru",(function(e,r){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.SPECIAL_CHARS_REGEX=e.exports.LABEL_MAX_LENGTH=e.exports.EMAIL_MAX_LENGTH=e.exports.ALIAS_MAX_LENGTH=void 0,e.exports.ALIAS_MAX_LENGTH=180,e.exports.EMAIL_MAX_LENGTH=254,e.exports.LABEL_MAX_LENGTH=100,e.exports.SPECIAL_CHARS_REGEX=/@|_/})),s.register("hrZL9",(function(e,r){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.DropDownConfig=void 0;var a=function(){};e.exports.DropDownConfig=a})),s.register("5DdOe",(function(e,r){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0})})),s.register("7wRtg",(function(e,r){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.EmailMask=void 0;var a=function(){};e.exports.EmailMask=a})),s.register("i4x54",(function(e,r){"use strict";var a;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.ErrorCode=void 0,(a=e.exports.ErrorCode||(e.exports.ErrorCode={}))[a.USER_LOGGED_OUT=1]="USER_LOGGED_OUT",a[a.NO_ACTIVE_SUBSCRIPTION=2]="NO_ACTIVE_SUBSCRIPTION",a[a.INVALID_VERIFICATION_CODE=32]="INVALID_VERIFICATION_CODE"})),s.register("eHanD",(function(e,r){"use strict";var a;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.EventType=void 0,(a=e.exports.EventType||(e.exports.EventType={})).EMAIL_FIELD_FOUND="EMAIL_FIELD_FOUND",a.ENTRY_FLOW_SHOWN="ENTRY_FLOW_SHOWN",a.EMAIL_MASK_CREATED="EMAIL_MASK_CREATED",a.EMAIL_MASK_SELECTED="EMAIL_MASK_SELECTED",a.CREATE_EMAIL_MASK_CLICK="CREATE_EMAIL_MASK_CLICK",a.UPDATE_IFRAME_SIZE="UPDATE_IFRAME_SIZE",a.SHOW_POPUP="SHOW_POPUP",a.CLOSE_AUTOFILL_POPUP="CLOSE_AUTOFILL_POPUP",a.SEND_NPW_TELEMETRY="SEND_NPW_TELEMETRY"})),s.register("HjiGh",(function(e,r){"use strict";var a,s;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.TelemetryCTAData=e.exports.TelemetryCTAName=e.exports.TelemetryEventName=void 0,e.exports.TelemetryEventName="ui_cta",(a=e.exports.TelemetryCTAName||(e.exports.TelemetryCTAName={})).aliasFilled="pe_af_alias_filled",a.aliasFillFailed="pe_af_alias_fill_fail",a.atIconClick="pe_af_infieldATicon",a.chooseAliasGenerate="pe_af_alias_choose_generate",a.chooseAliasRelevant="pe_af_alias_choose_relv",a.chooseAliasSeeAll="pe_af_alias_choose_seeall",a.chooseAliasShown="pe_af_alias_choose",a.commonErrorRetryClick="pe_af_common_error_retry",a.createAliasUICloseClicked="MOT_cancel_alias_creation",a.createEmailMaskShown="pe_af_ob_createmask_dd_UI",a.createMaskDescUpdate="pe_af_Onb_modal_desupdate",a.createMaskRegenerateClick="pe_af_Onb_modal_Regenerate",a.generateButtonClicked="MOT_create_random",a.generateMaskClicked="MOT_regenerate",a.generateNewChoose="pe_af_create_random_choose",a.generateNewOptionClick="pe_af_alias_choose_generate",a.generateNewOptionClicked="MOT_generate_new",a.generateNewUIShown="MOT_create_alias",a.npwExists="pe_af_npw_exists",a.onboardingCreateAliasCloseClicked="MOT_onboard_cancel_alias_creation",a.onboardingCreateEmailMaskClicked="MOT_onboard_create_random",a.onboardingPopupCreate="pe_af_ob_createmask_dd_UI_create",a.onboardingPopupClose="pe_af_ob_createmask_dd_UI_close",a.relevantAliasChoose="pe_af_relv_UI_choose",a.relevantAliasSeeAllClick="pe_af_relv_UI_seeall",a.relevantAliasUiShown="pe_af_relv_UI",a.relevantMasksOptionClick="pe_af_alias_choose_relv",a.seeAllAliasChoose="pe_af_seeall_alias_UI_choose",a.seeAllAliasSeeAllClick="pe_af_seeall_alias_UI_seeall",a.seeAllAliasUiShown="pe_af_seeall_alias_UI",a.setupAliasGenerate="pe_af_setup_alias_generate",a.setupAliasSeeAll="pe_af_setup_alias_seeall",a.setupAliasShown="pe_af_setup_alias",a.showOnboardingUIShown="MOT_onboard_create_alias",a.useMaskClicked="MOT_use_mask",a.commonErrorShown="pe_af_common_error",a.fetchUIConfigError="pe_af_fetchUIConfig_error",a.licenseError="pe_af_licenseerror",a.saveNewEmailMaskError="pe_af_saveNewEmailMask_error",a.signInError="pe_af_Signin_error",a.dashboardAliasModify="dashboard_alias_modify",a.dashboardAliasModifyDesc="dashboard_alias_modify_desc",a.dashboardAliasModifyEmail="dashboard_alias_modify_email",a.dashboardCancelAliasCreation="dashboard_cancel_alias_creation",a.dashboardChangeRealEmail="dashboard_change_real_email",a.dashboardChangeRealEmailCancel="dashboard_change_real_email_cancel",a.dashboardChangeRealEmailConfirm="dashboard_change_real_email_confirm",a.dashboardCreateAlias="dashboard_create_alias",a.dashboardCreateManual="dashboard_create_manual",a.dashboardCreateRandom="dashboard_create_random",a.dashboardDeleteMask="dashboard_delete_mask",a.dashboardDeleteMaskConfirm="dashboard_delete_mask_confirm",a.dashboardDeleteMaskNotNow="dashboard_delete_mask_notnow",a.dashboardDeleteMaskPauseForwarding="dashboard_delete_mask_pauseforwarding",a.dashboardDeleteRealEmail="dashboard_delete_real_email",a.dashboardDeleteRealEmailCancel="dashboard_delete_real_email_cancel",a.dashboardDeleteRealEmailConfirm="dashboard_delete_real_email_confirm",a.dashboardForwardOff="dashboard_forward_off",a.dashboardForwardOn="dashboard_forward_on",a.dashboardModifyCancel="dashboard_modify_cancel",a.dashboardModifyForwardOff="dashboard_modify_forward_off",a.dashboardModifyForwardOn="dashboard_modify_forward_on",a.dashboardModifySave="dashboard_modify_save",a.dashboardOnboardCreateAlias="dashboard_onboard_create_alias",a.dashboardOnboardCreateManual="dashboard_onboard_create_manual",a.dashboardOnboardCreateNext="dashboard_onboard1_next",a.dashboardOnboardCreateRandom="dashboard_onboard_create_random",a.dashboardOnboardCreateRegenerate="dashboard_onboard1_regenerate",a.dashboardOnboardGetStartedNoAlias="dashboard_onboard_get_started_no_alias",a.dashboardOnboardProtectBack="dashboard_onboard2_back",a.dashboardOnboardProtectNext="dashboard_onboard2_next",a.dashboardOnboardReadyBack="dashboard_onboard3_back",a.dashboardOnboardVerified="dashboard_onboard_verified",a.dashboardOnboardVerifyEmail="dashboard_onboard_verify_email",a.dashboardOnboardVerifyEmailClose="dashboard_onboard_verify_email_close",a.dashboardOnboardVerifyResend="dashboard_onboard_verify_resend",a.dashboardVerified="dashboard_verified",a.dashboardVerifyAddEmail="dashboard_verify_add_email",a.dashboardVerifyEmail="dashboard_verify_email",a.dashboardVerifyEmailClose="dashboard_verify_email_close",a.dashboardVerifyResend="dashboard_verify_resend",a.settingsClicked="settings_clicked",a.settingsPageView="settings_page_view",a.settingsAddRealEmail="settings_add_real_email",(s=e.exports.TelemetryCTAData||(e.exports.TelemetryCTAData={})).change="change",s.click="click",s.dismiss="dismiss",s.fill_url="fill_URL",s.present="yes",s.show="show"}));var t={};Object.defineProperty(t,"__esModule",{value:!0}),t.browser=s("5miWF");var o={},n=o&&o.__createBinding||(Object.create?function(e,r,a,s){void 0===s&&(s=a);var t=Object.getOwnPropertyDescriptor(r,a);t&&!("get"in t?!r.__esModule:t.writable||t.configurable)||(t={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(e,s,t)}:function(e,r,a,s){void 0===s&&(s=a),e[s]=r[a]}),i=o&&o.__exportStar||function(e,r){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(r,a)||n(r,e,a)};Object.defineProperty(o,"__esModule",{value:!0}),i(s("gZXaM"),o),i(s("7tLyq"),o);const _=new class{async fetchAutofillUIConfig(){return await t.browser.runtime.sendMessage({id:o.AUTOFILL_BG_MESSAGES.AUTOFILL_ACTION_REQUEST,payload:{type:o.ActionType.FETCH_AUTOFILL_UI_CONFIG}})}async generateNewEmailMask(){return await t.browser.runtime.sendMessage({id:o.AUTOFILL_BG_MESSAGES.AUTOFILL_ACTION_REQUEST,payload:{type:o.ActionType.GENERATE_NEW_EMAIL_MASK}})}async saveNewEmailMask(e,r){const a={emailMask:{realEmail:r||e.defaultEmail,maskEmail:`${e.emailMaskConfig?.generatedAlias}@${e.emailMaskConfig?.tenantMapping}`},description:e.description};return await t.browser.runtime.sendMessage({id:o.AUTOFILL_BG_MESSAGES.AUTOFILL_ACTION_REQUEST,payload:{type:o.ActionType.SAVE_NEW_EMAIL_MASK,payload:a}})}async notifyEmailMaskCreatedEvent(e){await t.browser.runtime.sendMessage({id:o.AUTOFILL_BG_MESSAGES.AUTOFILL_EVENT_TRIGGERED,payload:{type:o.EventType.EMAIL_MASK_CREATED,payload:{emailMask:e,iframeSrc:location.href}}})}async notifyFillEmailMaskSelected(e,r){await t.browser.runtime.sendMessage({id:o.AUTOFILL_BG_MESSAGES.AUTOFILL_EVENT_TRIGGERED,payload:{type:o.EventType.EMAIL_MASK_SELECTED,payload:{emailMask:e,protectedEmail:r,iframeSrc:location.href}}})}async notifyCreateEmailMaskClick(){await t.browser.runtime.sendMessage({id:o.AUTOFILL_BG_MESSAGES.AUTOFILL_EVENT_TRIGGERED,payload:{type:o.EventType.CREATE_EMAIL_MASK_CLICK}})}async fetchEmailFieldConfig(){return await t.browser.runtime.sendMessage({id:o.AUTOFILL_BG_MESSAGES.AUTOFILL_ACTION_REQUEST,payload:{type:o.ActionType.FETCH_EMAIL_FIELD_CONFIG}})}async updateIframeDetails(e){await t.browser.runtime.sendMessage({id:o.AUTOFILL_BG_MESSAGES.AUTOFILL_EVENT_TRIGGERED,payload:{type:o.EventType.UPDATE_IFRAME_SIZE,payload:{dropDownUiDetails:e}}})}async notifyCloseAutofillPopup(e){await t.browser.runtime.sendMessage({id:o.AUTOFILL_BG_MESSAGES.AUTOFILL_EVENT_TRIGGERED,payload:{type:o.EventType.CLOSE_AUTOFILL_POPUP,payload:{closeIconClick:e}}})}async sendTelemetryMessage(e,r,a){const s={eventName:o.TelemetryEventName,ctaName:e,ctaData:r,isAnonymous:a??!1};t.browser.runtime.sendMessage({id:o.AUTOFILL_BG_MESSAGES.AUTOFILL_ACTION_REQUEST,payload:{type:o.ActionType.SEND_TELEMETRY,payload:{telemetryParams:s}}})}async invokeLogin(){return await t.browser.runtime.sendMessage({id:o.AUTOFILL_BG_MESSAGES.AUTOFILL_ACTION_REQUEST,payload:{type:o.ActionType.INVOKE_LOGIN}})}async openApp(){return await t.browser.runtime.sendMessage({id:o.AUTOFILL_BG_MESSAGES.AUTOFILL_ACTION_REQUEST,payload:{type:o.ActionType.OPEN_APP}})}},l="autofill-iframe";const A=new class{_getPopupLocationFromRect(e){const r=e.top+e.height+window.scrollY+3;return{left:e.left,top:r}}getPopupLocationForIframe(e,r){const a=r.getBoundingClientRect();let s=this._getPopupLocationFromRect(e);return s.top=a.top+s.top,s.left=a.left+s.left+window.scrollX,s}_getPopupLocationFromCenterPosition(){return{left:window.innerWidth/2-180,top:window.innerHeight/2-100}}getPopupLocation(e,r,a){return a?this._getPopupLocationFromCenterPosition():r?this.getPopupLocationForIframe(e,r):this._getPopupLocationFromRect(e)}};class m{constructor(){this.messageMap={}}init(){t.browser.runtime.onMessage.addListener(this.messageHandler.bind(this))}messageHandler(e,r){const a=this.messageMap[e?.id];a&&a(e,r)}}new class extends m{constructor(){super(),super.init(),this.messageMap={[o.AUTOFILL_BG_MESSAGES.CREATE_EMAIL_MASK_CLICK]:this._onCreateEmailMaskClick.bind(this),[o.AUTOFILL_BG_MESSAGES.UPDATE_IFRAME_SIZE]:this._onViewChange.bind(this),[o.AUTOFILL_BG_MESSAGES.SHOW_POPUP]:this.showPopupsForEmailFields.bind(this),[o.AUTOFILL_BG_MESSAGES.CLOSE_AUTOFILL_POPUP]:this.removeAutoFillPopup.bind(this),[o.AUTOFILL_BG_MESSAGES.FILL_EMAIL_MASK]:this.removeAutoFillPopup.bind(this)}}removeAutoFillPopup(){document.querySelectorAll(`#${l}`).forEach((e=>{e.remove()}))}_updateIframeSize(e,r,a){const s=document.getElementById(l);s.setAttribute("width",e),s.setAttribute("height",r),a&&s.setAttribute("style",a)}_onCreateEmailMaskClick(){this._updateIframeSize("100%","100%","position: fixed;top: 0;left: 0; z-index: 2147483646")}_onViewChange(e){const{width:r,height:a}=e.payload.dropDownUiDetails.iframeDimension;this._updateIframeSize(r,a)}async showPopupsForEmailFields(){const e=await _.fetchEmailFieldConfig();let r,a=!1;for(const s of e){if(s.iframeSrc){const e=document.getElementsByTagName("iframe"),t=Array.from(e);r=t.find((e=>e.src===s.iframeSrc)),r||(r=this._findIframeInDocument(s.iframeSrc,t),r||(a=!0))}const e=A.getPopupLocation(s.rect,r,a);await this.render(e,s.guid)}}_findIframeInDocument(e,r){return r.find((r=>{if(-1!==e.indexOf(r.src.split(/[?#]/)[0])&&0!==r.src.length)return r;return("iframe"===document.activeElement?.tagName.toLowerCase()?document.activeElement:null)===r?r:void 0}))}async render(e,r){const{staticFilePath:a,productName:s}=await t.browser.runtime.sendMessage({id:o.AUTOFILL_BG_MESSAGES.AUTOFILL_ACTION_REQUEST,payload:{type:o.ActionType.GET_PRODUCT_FACTS}}),n=document.createElement("IFRAME");let i=t.browser.runtime.getURL(a)+(!a||a.endsWith("/")?"":"/")+"Autofill.html";r&&(i=`${i}?id=${r}&productName=${s}`),n.setAttribute("id","autofill-iframe"),n.setAttribute("style",`position:absolute;left:${e.left}px;top:${e.top}px;z-index: 2147483646;padding: 0`),n.setAttribute("src",i),n.setAttribute("class","autofill-iframe"),n.setAttribute("frameBorder","0"),n.setAttribute("scrolling","no");const _=document.documentElement;this.removeAutoFillPopup(),_.appendChild(n)}}})();
//# sourceMappingURL=AutofillPopupUI.js.map

{"version":3,"file":"installNotes-DRPQ3Vx_.js","sources":["../../../src/assets/images/64.png","../../../src/assets/images/pinChromeScreenshot.png","../../../src/install-notes/App.vue","../../../src/install-notes/main.ts"],"sourcesContent":["export default \"data:image/png;base64,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\"","export default \"__VITE_ASSET__36Zl5PU5__\"","<template>\n    <v-app>\n        <div id=\"i18n_root\">\n            <h1 style=\"font-size: 42px;\"><img src=\"/assets/images/64.png\"\n                    style=\"margin-bottom: 4px; margin-right: 10px; display: inline;\" />{{ $i18n(\"welcome_to_kee\") }}\n            </h1>\n\n            <p style=\"font-weight: bold;\">{{ $i18n(\"introduction_to_kee\") }}</p>\n\n            <p v-if=\"showPermissionsInfo\">{{ $i18n(\"all_sites_permissions_required_start\") }} <a\n                    href=\"https://kee.pm/open-source/\" target=\"_blank\">{{ $i18n(\"all_sites_permissions_required_why_open_source_link_text\")\n                    }}</a> {{ $i18n(\"all_sites_permissions_required_middle\") }} <a\n                    href=\"https://kee.pm/extension-permissions/\" target=\"_blank\">{{\n                        $i18n(\"all_sites_permissions_required_permissions_link_text\") }}</a> {{\n        $i18n(\"all_sites_permissions_required_end\") }}</p>\n\n            <v-btn v-if=\"showPermissionsInfo\" color=\"primary\" style=\"margin-top: 24px;\" size=\"x-large\"\n                @click=\"requestPermissions\">{{ $i18n(\"continue\") }}</v-btn>\n\n            <p v-if=\"showToolbarInfo\">{{ $i18n(\"recommend_action_button_should_be_pinned\") }}</p>\n\n            <img v-if=\"showToolbarInfo\" style=\"margin-top: 24px;\" width=\"309\"\n                src=\"/assets/images/pinChromeScreenshot.png\" />\n\n            <div v-if=\"showDatabaseSourceOptions\">\n                <p>{{ $i18n(\"kee_works_with_a_password_manager\") }}</p>\n\n                <p>{{ $i18n(\"recommend_start_with_kee_vault\") }}</p>\n\n                <p>{{ $i18n(\"recommend_start_with_kee_vault2\") }}</p>\n\n                <v-btn color=\"primary\" style=\"margin-top: 24px;\" size=\"x-large\" @click=\"loadKeeVault\">{{\n                    $i18n(\"load_kee_vault_now\")\n                }}</v-btn>\n\n                <p>{{ $i18n(\"you_can_use_KeePass_instead\") }} {{ $i18n(\"table_summarises_differences\") }}\n                </p>\n\n                <table>\n                    <tr>\n                        <th> </th>\n                        <th>Kee Vault</th>\n                        <th>KeePass</th>\n                    </tr>\n                    <tr>\n                        <td>{{ $i18n(\"access_from_multiple_devices\") }}</td>\n                        <td>{{ $i18n(\"yes\") }}</td>\n                        <td>{{ $i18n(\"no\") }} *</td>\n                    </tr>\n                    <tr>\n                        <td>{{ $i18n(\"shared_preferences\") }}</td>\n                        <td>{{ $i18n(\"yes_configure_once\") }}</td>\n                        <td>{{ $i18n(\"no_configure_multiple\") }}</td>\n                    </tr>\n                    <tr>\n                        <td>{{ $i18n(\"installation_required\") }}</td>\n                        <td>{{ $i18n(\"no\") }}</td>\n                        <td>{{ $i18n(\"yes\") }}</td>\n                    </tr>\n                    <tr>\n                        <td>{{ $i18n(\"difficulty\") }}</td>\n                        <td>{{ $i18n(\"difficulty_kee_vault\") }}</td>\n                        <td>{{ $i18n(\"difficulty_keepass\") }}</td>\n                    </tr>\n                </table>\n\n                <p>* {{ $i18n(\"keepass_sync_config_explanation\") }}</p>\n\n                <p>{{ $i18n(\"point_user_to_keepass_install_instructions_start\") }} <a\n                        href=\"https://forum.kee.pm/t/installing-kee-instructions/23\" target=\"_blank\">{{\n                            $i18n(\"point_user_to_forum_link_text\") }}</a>{{\n        $i18n(\"point_user_to_keepass_install_instructions_end\")\n    }}</p>\n            </div>\n        </div>\n    </v-app>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref } from \"vue\";\nimport \"../styles\";\nimport { isFirefox } from \"webext-detect-page\";\n\nasync function requestPermissions() {\n    const permissionsToRequest = {\n        origins: [\"<all_urls>\"]\n    };\n    await chrome.permissions.request(permissionsToRequest);\n}\n\nasync function checkPermissions() {\n    const permissionsToCheck = {\n        origins: [\"<all_urls>\"]\n    };\n    return await chrome.permissions.contains(permissionsToCheck);\n}\n\nasync function switchToKeeVaultTab() {\n    const vaultTabs = await chrome.tabs.query({\n        url: [\"https://keevault.pm/*\", \"https://app-beta.kee.pm/*\", \"https://app-dev.kee.pm/*\"]\n    });\n    if (vaultTabs && vaultTabs[0]) {\n        chrome.tabs.update(vaultTabs[0].id, { active: true });\n        chrome.windows.update(vaultTabs[0].windowId, { focused: true });\n        return true;\n    }\n    return false;\n}\n\nasync function initialiseDatabaseSourcePossibilities(permissionsInfoWasShown: boolean = false) {\n    if (await switchToKeeVaultTab()) {\n        // Kee Vault users that already have the app open in another tab and\n        // have the required permissions will never see the toolbar pinning hint\n        // but we think that it is not critical.\n        close();\n    } else {\n        showDatabaseSourceOptions.value = true;\n        showPermissionsInfo.value = false;\n        if (permissionsInfoWasShown) showToolbarInfo.value = false;\n    }\n}\n\nasync function asyncSetup() {\n    document.title = \"Kee \" + extensionVersion.value;\n    if (await checkPermissions()) {\n        await initialiseDatabaseSourcePossibilities();\n    } else {\n        chrome.permissions.onAdded.addListener(async permissions => {\n            if (permissions.origins.includes(\"<all_urls>\")) {\n                await initialiseDatabaseSourcePossibilities(true);\n            }\n        });\n        showPermissionsInfo.value = true;\n    }\n}\nfunction loadKeeVault() {\n    window.open(\"https://keevault.pm\");\n    close();\n}\n\nconst manifest = chrome.runtime.getManifest();\nconst showPermissionsInfo = ref(false);\nconst showDatabaseSourceOptions = ref(false);\nconst extensionVersion = ref(manifest.version);\nconst showToolbarInfo = ref(!isFirefox());\nasyncSetup.call(this);\n</script>\n\n<style>\n#main {\n    padding: 20px;\n    text-align: center;\n    background-color: rgb(var(--v-theme-background));\n}\n\n.v-application {\n    padding: 0px;\n    margin: auto;\n    max-width: 1000px;\n    text-align: center;\n}\n\np {\n    padding-top: 24px;\n}\n\na {\n    text-decoration: underline;\n}\n\ndiv#i18n_root {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}\n\ndiv#i18n_root table {\n    border: 1px solid grey;\n    max-width: 80vw;\n    margin: 15px;\n}\n\ndiv#i18n_root th,\ndiv#i18n_root td {\n    border-left: solid 1px grey;\n    text-align: center;\n    padding: 5px 15px;\n    width: 30%;\n}\n\ndiv#i18n_root td:first-child,\ndiv#i18n_root th:first-child {\n    border-left: none;\n    text-align: right;\n    width: 40%;\n}</style>\n","import { KeeLog } from \"../common/Logger\";\nimport { configManager } from \"../common/ConfigManager\";\nimport useStore, { KeeStore } from \"../store\";\nimport { App, createApp } from \"vue\";\nimport { createVuetify } from \"vuetify\";\nimport Root from \"./App.vue\";\nimport { createPinia } from \"pinia\";\nimport { setup as i18nSetup } from \"../common/i18n\";\nimport * as components from \"vuetify/components\";\nimport * as directives from \"vuetify/directives\";\nimport { IPCPiniaPlugin } from \"../common/IPCPiniaPlugin\";\n\nlet vueApp: App<Element>;\nlet store: KeeStore;\n\nasync function start() {\n    await configManager.load();\n    KeeLog.debug(\"install notes page starting\");\n    KeeLog.attachConfig(configManager.current);\n\n    //const darkTheme = params[\"theme\"] === \"dark\";\n\n    try {\n        const piniaInstance = createPinia();\n        vueApp = createApp({\n            render: () => h(Root, {})\n        });\n\n        const vuetify = createVuetify({\n            components,\n            directives,\n            theme: {\n                defaultTheme: configManager.activeTheme,\n                themes: {\n                    dark: {\n                        dark: true,\n                        colors: {\n                            primary: \"#1a466b\",\n                            secondary: \"#ABB2BF\",\n                            tertiary: \"#e66a2b\",\n                            error: \"#C34034\",\n                            info: \"#2196F3\",\n                            success: \"#4CAF50\",\n                            warning: \"#FFC107\"\n                        }\n                    },\n                    light: {\n                        dark: false,\n                        colors: {\n                            primary: \"#1a466b\",\n                            secondary: \"#13334e\",\n                            tertiary: \"#e66a2b\",\n                            error: \"#C34034\",\n                            info: \"#2196F3\",\n                            success: \"#4CAF50\",\n                            warning: \"#FFC107\"\n                        }\n                    }\n                }\n            }\n        });\n        piniaInstance.use(IPCPiniaPlugin);\n        vueApp.use(vuetify);\n        vueApp.use(piniaInstance);\n        vueApp.config.globalProperties.$chrome = chrome;\n        vueApp.config.globalProperties.$i18n = chrome.i18n.getMessage;\n        store = useStore();\n\n        vueApp.mount(\"#main\");\n\n    } catch (e) {\n        KeeLog.error(\"Failed to create user interface.\", e);\n    }\n\n    KeeLog.info(\"install notes page ready\");\n}\n\n// const params: { [key: string]: string } = {};\n\n// document.location.search\n//     .substr(1)\n//     .split(\"&\")\n//     .forEach(pair => {\n//         const [key, value] = pair.split(\"=\");\n//         params[key] = value;\n//     });\n\n(async () => {\n    await start();\n})();\n\ni18nSetup();\n"],"names":["Root","i18nSetup"],"mappings":"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"}
(()=>{"use strict";({8300:function(t,e){var i=this&&this.__awaiter||function(t,e,i,a){return new(i||(i=Promise))((function(n,r){function s(t){try{o(a.next(t))}catch(t){r(t)}}function c(t){try{o(a.throw(t))}catch(t){r(t)}}function o(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(s,c)}o((a=a.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.Canvas=void 0,e.Canvas=class{constructor(t,e){this.canvas=document.createElement("canvas"),this.canvas.width=t,this.canvas.height=e,this.ctx=this.canvas.getContext("2d"),this.verifier_taille()}get base64(){return this.canvas.toDataURL("image/png")}ajouter_image(t,e,a){return i(this,void 0,void 0,(function*(){e.x*=window.devicePixelRatio,e.y*=window.devicePixelRatio,e.largeur*=window.devicePixelRatio,e.hauteur*=window.devicePixelRatio,a.x=Math.floor(a.x),a.y=Math.floor(a.y);const i=yield new Promise(((e,i)=>{const a=new Image;a.onload=()=>e(a),a.onerror=i,a.src=t}));this.ctx.drawImage(i,e.x,e.y,e.largeur,e.hauteur,a.x,a.y,a.largeur,a.hauteur)}))}verifier_taille(){if(this.ctx.fillStyle="rgb(0, 100, 0)",this.ctx.fillRect(this.canvas.width-1,this.canvas.height-1,1,1),0==this.ctx.getImageData(this.canvas.width-1,this.canvas.height-1,1,1).data[1])throw new Error(chrome.i18n.getMessage("erreur_taille_element"));this.ctx.clearRect(this.canvas.width-1,this.canvas.height-1,1,1)}}}})[8300](0,{})})();
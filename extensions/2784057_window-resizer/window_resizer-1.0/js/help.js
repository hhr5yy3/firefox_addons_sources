function localizeHtmlPage() { var tfs = document['getElementsByTagName']('html'); for (var fka = 0; fka < tfs['length']; fka++) { var duv = tfs[fka]; var ksb = duv['innerHTML']['toString'](); var htb = ksb['replace'](/__MSG_(\w+)__/g, function (buu, aoo) { return aoo ? browser['i18n']['getMessage'](aoo) : ''; }); if (htb != ksb) { duv['innerHTML'] = htb; } } } window['addEventListener']('DOMContentLoaded', function () { localizeHtmlPage(); });
/*! For license information please see p.js.LICENSE.txt */
(()=>{var t,e,n,c={78220:(t,e,n)=>{"use strict";n.d(e,{$Vx:()=>W,$tV:()=>He,AFB:()=>Ht,AFD:()=>ae,B5x:()=>be,B6s:()=>de,CS9:()=>ce,DBf:()=>ct,DPx:()=>_e,D_t:()=>j,Dgv:()=>nt,Dz5:()=>U,E4k:()=>S,EeG:()=>St,ElA:()=>Re,F4C:()=>p,F5_:()=>g,FTj:()=>pe,FYN:()=>z,Fo4:()=>_t,Ga1:()=>ue,GpO:()=>vt,HL_:()=>O,HSU:()=>he,HcD:()=>s,I$u:()=>y,I5l:()=>h,I6K:()=>re,IQG:()=>Ce,KJG:()=>$,KOP:()=>Ue,L6I:()=>v,Ls_:()=>x,LwF:()=>F,Lx0:()=>zt,Mh2:()=>Fe,NAC:()=>Ee,NM8:()=>Y,NPG:()=>ne,NmM:()=>K,Nu2:()=>ot,P8J:()=>me,PEM:()=>G,Q0J:()=>T,Q9N:()=>le,Qh3:()=>De,Qu:()=>Qt,Sqy:()=>P,TB:()=>R,Tk$:()=>q,UBi:()=>Le,UCD:()=>Ot,W3C:()=>gt,WWK:()=>ge,X15:()=>ie,XrC:()=>ve,Z92:()=>X,ZO5:()=>Yt,ZXo:()=>ke,_2t:()=>Ct,_H3:()=>mt,_HL:()=>V,_Y0:()=>Te,_o6:()=>bt,_v1:()=>je,bOq:()=>ft,c6t:()=>$t,cGm:()=>fe,cOw:()=>qt,clI:()=>Ge,dYu:()=>ht,d_i:()=>Tt,e8X:()=>jt,eTH:()=>at,fQ0:()=>tt,ftj:()=>xt,gNQ:()=>b,iYh:()=>C,ihm:()=>d,ios:()=>Ft,irl:()=>Jt,jWK:()=>Xt,kB1:()=>H,kb2:()=>Be,kqV:()=>N,mq0:()=>te,n56:()=>I,nPu:()=>yt,nd0:()=>f,o5$:()=>_,opn:()=>wt,pd0:()=>se,q6K:()=>k,qAA:()=>m,qK:()=>Ke,q_v:()=>Ae,qgT:()=>Ut,rlC:()=>A,rsK:()=>pt,s7l:()=>Mt,sKv:()=>We,sar:()=>et,sbA:()=>Et,scu:()=>Rt,sfl:()=>It,sjS:()=>w,tTn:()=>E,v1P:()=>Zt,vNw:()=>ee,vdX:()=>Bt,w24:()=>xe,w7x:()=>qe,wWS:()=>ye,wuc:()=>Lt,x6w:()=>Z,x8O:()=>ut,ya8:()=>At,yyz:()=>kt,z9s:()=>B,zGh:()=>D});var c=n(17289),o=n(66059),r=n(96696),a=n(72461),i="bp5";"undefined"!=typeof BLUEPRINT_NAMESPACE?i=BLUEPRINT_NAMESPACE:"undefined"!=typeof REACT_APP_BLUEPRINT_NAMESPACE&&(i=REACT_APP_BLUEPRINT_NAMESPACE);var s="".concat(i,"-active"),l="".concat(i,"-align-left"),u="".concat(i,"-align-right"),d="".concat(i,"-compact"),f="".concat(i,"-dark"),p="".concat(i,"-disabled"),h="".concat(i,"-fill"),m=("".concat(i,"-fixed"),"".concat(i,"-fixed-top"),"".concat(i,"-inline")),v="".concat(i,"-interactive"),y="".concat(i,"-large"),g="".concat(i,"-loading"),b="".concat(i,"-minimal"),x="".concat(i,"-outlined"),w=("".concat(i,"-padded"),"".concat(i,"-multiline"),"".concat(i,"-read-only")),j="".concat(i,"-round"),k="".concat(i,"-selected"),_="".concat(i,"-small"),E="".concat(i,"-vertical"),C=(ze(a.yX.TOP),ze(a.yX.BOTTOM),ze(a.yX.LEFT),ze(a.yX.RIGHT),Ge(o.e.ZERO),Ge(o.e.ONE),Ge(o.e.TWO),Ge(o.e.THREE),Ge(o.e.FOUR),He(r.J.PRIMARY),He(r.J.SUCCESS),He(r.J.WARNING),He(r.J.DANGER),"".concat(i,"-focus-disabled")),$=("".concat(i,"-focus-style-manager-ignore"),"".concat(i,"-ui-text"),"".concat(i,"-running-text"),"".concat(i,"-monospace-text"),"".concat(i,"-text-large"),"".concat(i,"-text-small")),S="".concat(i,"-text-muted"),O=("".concat(i,"-text-disabled"),"".concat(i,"-text-overflow-ellipsis")),N="".concat(i,"-blockquote"),P="".concat(i,"-code"),T="".concat(i,"-code-block"),R="".concat(i,"-heading"),A="".concat(i,"-list"),L=("".concat(i,"-list-unstyled"),"".concat(i,"-rtl"),"".concat(i,"-alert")),M=("".concat(L,"-body"),"".concat(L,"-contents"),"".concat(L,"-footer"),"".concat(i,"-breadcrumb")),I=("".concat(M,"-current"),"".concat(M,"s"),"".concat(M,"s-collapsed"),"".concat(i,"-button")),B="".concat(I,"-group"),F="".concat(I,"-spinner"),U="".concat(I,"-text"),q="".concat(i,"-callout"),D="".concat(q,"-has-body-content"),W="".concat(q,"-icon"),G="".concat(i,"-card"),K="".concat(i,"-control-card"),H="".concat(K,"-label"),z=("".concat(i,"-switch-control-card"),"".concat(i,"-checkbox-control-card"),"".concat(i,"-radio-control-card")),J="".concat(i,"-card-list"),V=("".concat(J,"-bordered"),"".concat(i,"-collapse")),X="".concat(V,"-body"),Q="".concat(i,"-context-menu"),Y=("".concat(Q,"-virtual-target"),"".concat(Q,"-popover"),"".concat(Q,"-backdrop"),"".concat(i,"-control-group"),"".concat(i,"-dialog")),Z="".concat(Y,"-container"),tt="".concat(Y,"-header"),et="".concat(Y,"-body"),nt=("".concat(Y,"-body-scroll-container"),"".concat(Y,"-close-button")),ct="".concat(Y,"-footer"),ot=("".concat(Y,"-footer-fixed"),"".concat(Y,"-footer-main-section"),"".concat(Y,"-footer-actions")),rt="".concat(i,"-dialog-step"),at=("".concat(rt,"-container"),"".concat(rt,"-title"),"".concat(rt,"-icon"),"".concat(rt,"-viewed"),"".concat(i,"-divider")),it="".concat(i,"-drawer"),st=("".concat(it,"-body"),"".concat(it,"-footer"),"".concat(it,"-header"),"".concat(i,"-editable-text")),lt=("".concat(st,"-content"),"".concat(st,"-editing"),"".concat(st,"-input"),"".concat(st,"-placeholder"),"".concat(i,"-entity-title")),ut=("".concat(i,"-entity-title-ellipsize"),"".concat(lt,"-has-subtitle"),"".concat(lt,"-icon-container"),"".concat(lt,"-subtitle"),"".concat(lt,"-tags-container"),"".concat(lt,"-text"),"".concat(lt,"-title"),"".concat(lt,"-title-and-tags"),"".concat(i,"-flex-expander"),"".concat(i,"-html-select")),dt=("".concat(i,"-select"),"".concat(i,"-html-table")),ft=("".concat(dt,"-bordered"),"".concat(dt,"-striped"),"".concat(i,"-input")),pt=("".concat(ft,"-ghost"),"".concat(ft,"-group")),ht="".concat(ft,"-left-container"),mt="".concat(ft,"-action"),vt=("".concat(i,"-resizable-input-span"),"".concat(i,"-text-area")),yt="".concat(vt,"-auto-resize"),gt="".concat(i,"-control"),bt="".concat(gt,"-indicator"),xt="".concat(bt,"-child"),wt="".concat(i,"-checkbox"),jt="".concat(i,"-radio"),kt="".concat(i,"-radio-group"),_t="".concat(i,"-switch"),Et="".concat(_t,"-inner-text"),Ct="".concat(i,"-file-input"),$t="".concat(i,"-file-input-has-selection"),St="".concat(i,"-file-upload-input"),Ot="".concat(i,"-file-upload-input-custom-text"),Nt="".concat(i,"-key"),Pt=("".concat(Nt,"-combo"),"".concat(i,"-modifier-key"),"".concat(i,"-hotkey")),Tt=("".concat(Pt,"-label"),"".concat(Pt,"-column"),"".concat(Pt,"-dialog"),"".concat(i,"-label")),Rt=("".concat(i,"-form-group"),"".concat(i,"-form-content"),"".concat(i,"-form-helper-text"),"".concat(i,"-form-group-sub-label"),"".concat(i,"-menu")),At="".concat(Rt,"-item"),Lt="".concat(At,"-is-selectable"),Mt="".concat(At,"-selected-icon"),It="".concat(At,"-icon"),Bt="".concat(At,"-label"),Ft="".concat(i,"-submenu"),Ut="".concat(Ft,"-icon"),qt=("".concat(Rt,"-divider"),"".concat(Rt,"-header")),Dt="".concat(i,"-multistep-dialog"),Wt=("".concat(Dt,"-panels"),"".concat(Dt,"-left-panel"),"".concat(Dt,"-right-panel"),"".concat(Dt,"-nav-top"),"".concat(Dt,"-nav-right"),"".concat(i,"-section")),Gt=("".concat(Wt,"-collapsed"),"".concat(Wt,"-header")),Kt=("".concat(Gt,"-left"),"".concat(Gt,"-title"),"".concat(Gt,"-sub-title"),"".concat(Gt,"-divider"),"".concat(Gt,"-tabs"),"".concat(Gt,"-right"),"".concat(Wt,"-card"),"".concat(i,"-navbar")),Ht=("".concat(Kt,"-group"),"".concat(Kt,"-heading"),"".concat(Kt,"-divider"),"".concat(i,"-non-ideal-state")),zt="".concat(Ht,"-visual"),Jt="".concat(Ht,"-text"),Vt=("".concat(i,"-numeric-input"),"".concat(i,"-overflow-list")),Xt=("".concat(Vt,"-spacer"),"".concat(i,"-overlay")),Qt="".concat(Xt,"-backdrop"),Yt=("".concat(Xt,"-container"),"".concat(Xt,"-content")),Zt="".concat(Xt,"-inline"),te="".concat(Xt,"-open"),ee="".concat(Xt,"-scroll-container"),ne="".concat(Xt,"-start-focus-trap"),ce="".concat(Xt,"-end-focus-trap"),oe="".concat(i,"-panel-stack"),re=("".concat(oe,"-header"),"".concat(oe,"-header-back"),"".concat(oe,"-view"),"".concat(i,"-panel-stack2"),"".concat(oe,"-header"),"".concat(oe,"-header-back"),"".concat(oe,"-view"),"".concat(i,"-popover")),ae="".concat(re,"-arrow"),ie="".concat(re,"-backdrop"),se="".concat(re,"-capturing-dismiss"),le="".concat(re,"-content"),ue="".concat(re,"-placement"),de=("".concat(le,"-sizing"),"".concat(re,"-dismiss")),fe="".concat(de,"-override"),pe="".concat(re,"-match-target-width"),he="".concat(re,"-open"),me="".concat(re,"-popper-escaped"),ve="".concat(re,"-reference-hidden"),ye="".concat(re,"-target"),ge="".concat(re,"-transition-container"),be=("".concat(re,"-wrapper"),"".concat(i,"-progress-bar"),"".concat(i,"-progress-meter"),"".concat(i,"-no-stripes"),"".concat(i,"-no-animation"),"".concat(i,"-portal")),xe="".concat(i,"-skeleton"),we="".concat(i,"-slider"),je=("".concat(we,"-axis"),"".concat(we,"-handle"),"".concat(we,"-label"),"".concat(we,"-track"),"".concat(we,"-progress"),"".concat(i,"-start"),"".concat(i,"-end"),"".concat(i,"-spinner")),ke="".concat(je,"-animation"),_e="".concat(je,"-head"),Ee="".concat(i,"-no-spin"),Ce="".concat(je,"-track"),$e=("".concat(i,"-segmented-control"),"".concat(i,"-tab")),Se=("".concat($e,"-icon"),"".concat($e,"-tag"),"".concat($e,"-indicator")),Oe=("".concat(Se,"-wrapper"),"".concat($e,"-list"),"".concat($e,"-panel"),"".concat($e,"s"),"".concat(i,"-tag")),Ne=("".concat(Oe,"-remove"),"".concat(i,"-compound-tag")),Pe=("".concat(Ne,"-left"),"".concat(Ne,"-left-content"),"".concat(Ne,"-right"),"".concat(Ne,"-right-content"),"".concat(i,"-tag-input")),Te=("".concat(Pe,"-icon"),"".concat(Pe,"-values"),"".concat(i,"-toast")),Re="".concat(Te,"-container"),Ae="".concat(Te,"-message"),Le="".concat(i,"-tooltip"),Me=("".concat(Le,"-indicator"),"".concat(i,"-tree"),"".concat(i,"-tree-node")),Ie="".concat(Me,"-caret"),Be=("".concat(Ie,"-closed"),"".concat(Ie,"-none"),"".concat(Ie,"-open"),"".concat(Me,"-content"),"".concat(Me,"-expanded"),"".concat(Me,"-icon"),"".concat(Me,"-label"),"".concat(Me,"-list"),"".concat(Me,"-secondary-label"),"".concat(Me,"-selected"),"".concat(i,"-tree-root"),"".concat(i,"-icon")),Fe="".concat(Be,"-standard"),Ue="".concat(Be,"-large"),qe="".concat(Be,"-muted");function De(){return i}function We(t){switch(t){case c.C.LEFT:return l;case c.C.RIGHT:return u;default:return}}function Ge(t){if(void 0!==t)return"".concat(i,"-elevation-").concat(t)}function Ke(t){if(null!=t)return 0===t.indexOf("".concat(i,"-icon-"))?t:"".concat(i,"-icon-").concat(t)}function He(t){if(null!=t&&t!==r.J.NONE)return"".concat(i,"-intent-").concat(t.toLowerCase())}function ze(t){if(void 0!==t)return"".concat(i,"-position-").concat(t)}},68802:(t,e,n)=>{"use strict";n.d(e,{Cy:()=>f,H4:()=>l,H5:()=>u,H6:()=>d,OL:()=>p});var c=n(85608),o=n(53373),r=n.n(o),a=n(14041),i=n(78220);function s(t,e){return a.forwardRef((function(n,o){var i=n.className,s=n.children,l=(0,c.Tt)(n,["className","children"]);return a.createElement(t,(0,c.Cl)((0,c.Cl)({},l),{className:r()(e,i),ref:o}),s)}))}s("h1",i.TB),s("h2",i.TB),s("h3",i.TB);var l=s("h4",i.TB),u=s("h5",i.TB),d=s("h6",i.TB),f=(s("blockquote",i.kqV),s("code",i.Sqy)),p=(s("pre",i.Q0J),s("label",i.d_i),s("ol",i.rlC));s("ul",i.rlC)},30819:(t,e,n)=>{"use strict";n.d(e,{KA:()=>i,U0:()=>a,UP:()=>s,gm:()=>l});n(62234);var c=n(51127),o=n.n(c);const r=window.navigator.userAgent,a=r.includes("Mac"),i=r.includes("Chrome"),s=r.includes("Edg"),l=r.includes("Firefox");function u(t){return t.split(".").map((t=>Number(t)))}u(o().runtime.getManifest().version)},96274:(t,e,n)=>{"use strict";n(97107),n(1363);var c=n(25873),o=(n(33873),n(69375),n(47010),n(51127)),r=n.n(o),a=n(14041),i=n(74874),s=n.n(i),l=n(78220),u=n(72531),d="undefined"!=typeof document?new u.y(document.documentElement,l.iYh):{isActive:function(){return!0},start:function(){return!0},stop:function(){return!0}},f=function(){return d.start()},p=n(19687),h=n(23590),m=n(16342),v=n(68802),y=n(22067),g=n(85608),b=n(53373),x=n.n(b),w=n(3375),j=n(66682),k=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,g.C6)(e,t),e.prototype.render=function(){var t=this.props,e=t.className,n=t.tagName,c=void 0===n?"div":n,o=(0,g.Tt)(t,["className","tagName"]),r=x()(l.eTH,e);return a.createElement(c,(0,g.Cl)((0,g.Cl)({},o),{className:r}))},e.displayName="".concat(j.l,".Divider"),e}(w.a),_=n(78107);n(10865);function E(t,e){return function(...n){return new Promise(((c,o)=>{t.call(e,...n,(t=>{const e=chrome.runtime.lastError;e?o(e):c(t)}))}))}}E(chrome.runtime.sendMessage),E(chrome.storage.local.set,chrome.storage.local),E(chrome.storage.local.get,chrome.storage.local),E(chrome.storage.local.remove,chrome.storage.local),E(chrome.storage.local.clear,chrome.storage.local),E(chrome.storage.local.getBytesInUse,chrome.storage.local),E(chrome.windows.get),E(chrome.windows.create),E(chrome.windows.update),E(chrome.tabs.sendMessage);const C=E(chrome.tabs.query),$=E(chrome.tabs.executeScript),S=E(chrome.tabs.get);E(chrome.tabs.update),E(chrome.tabs.create),E(chrome.permissions.contains);async function O(t){let e;if("number"==typeof t)try{e=await S(t)}catch(t){}else e=t||await async function(){return(await C({active:!0,lastFocusedWindow:!0}))[0]}();return e}n(62234);async function N(t){const e=await O(t);if(!e)return;const n=await async function(t){const e=await O(t);if(!e)return;const n=e.id;let c=e.url;if(!c&&n)try{if(c=(await $(n,{code:"location.href",runAt:"document_start"}))[0],c.startsWith("moz-extension"))return}catch(t){}return c}(e);if(n)return n;const c=e.id;if(c)try{return await r().tabs.sendMessage(c,"get tab url")}catch(t){}}var P=n(16224),T=n(25148);n(8697),n(8096),n(98376),n(14293);function R(t){return`${t.host}${t.path}`}function A(t){const e=t.match(/^(([^:]+):\/\/)?([^/]+)?(\/.*)?$/);if(!e)return;let n=e[3]||"";const c=n.indexOf(":");c>=0&&(n=n.slice(0,c));let o=e[4]||"";const r=o.indexOf("#");if(r>=0&&(o=o.slice(0,r)),!n.startsWith(".")){if(!o){if(!n)return;o="/"}return{host:n,path:o}}}function L(t,e){return new RegExp("^"+t.replace(/[-[\]{}()+?.,\\^$|#\s]/g,"\\$&").replace("*",".*").replace(/^\.\*\\\./,"(.*\\.)?")+"$").test(e)}function M(t,e){return new RegExp("^"+t.replace(/[-[\]{}()+?.,\\^$|#\s]/g,"\\$&").replace(/\*/g,".*")+"$").test(e)}function I(t,e,n){let c,o;c="string"==typeof t?A(t):t;let r=!1,a=!1;if(c){const t=t=>{const e=function(t,e){let n;if(n="string"==typeof e?A(e):e,n)return L(t.host,n.host)&&M(t.path,n.path)}(t,c);return e&&(o=t),e};r=n.some(t),r||(a=e.some(t))}return{urlParts:c,matchedRule:o,whiteListMatched:r,blackListMatched:a}}var B=n(96538),F=n(43566);n(83165),n(24541),n(34397),n(61412),n(91883),n(70286);const U=r().runtime.getURL("/pdf-viewer/web/viewer.html");s()(P.g2,["pdfStandalone"]);var q=n(30819);var D=n(84848);const W=(0,D.j_)();var G=n(31085);async function K(t){var e;const n=null===(e=await async function(){return(await r().tabs.query({active:!0,highlighted:!0,windowId:r().windows.WINDOW_ID_CURRENT}))[0]}())||void 0===e?void 0:e.id;if(n)try{await r().tabs.sendMessage(n,t),window.close()}catch(t){(await W).show({message:(0,G.jsxs)(G.Fragment,{children:["当前页面无法使用此功能。",(0,G.jsx)("a",{href:"https://hcfy.app/docs/faqs/why-can-not-use-in-store",target:"_blank",rel:"noreferrer noopener",children:"查看帮助"})]}),intent:"warning"})}else{(await W).show({message:"开启功能时发生了一个错误，请稍后重试。",intent:"warning"})}}function H(){return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(p.$,{icon:"cut",small:!0,onClick:()=>{K("screenshot translate")},text:"截图翻译",style:{marginBottom:10}}),(0,G.jsx)(p.$,{icon:"translate",small:!0,onClick:()=>{K("page translate")},text:"网页全文翻译",style:{marginBottom:10}})]})}var z=n(17439);f();const J=r().runtime.getURL("/")+"settings.html",V=r().runtime.getURL("/")+"settings.html#/cross",X=s()(P.g2,["domainBlackList","domainWhiteList"]),Q=q.KA?q.UP?"Microsoft Edge":"Chrome":"";function Y(){var t,e;const[n,c]=(0,a.useState)(),[o,r]=(0,T.A)(X),[i,s]=(0,a.useState)(),[u,d]=(0,a.useState)(!1),f=(t,e)=>{r((n=>{const c=n[e],o=c.findIndex((e=>e.host===t.host&&e.path===t.path));o>=0&&c.splice(o,1)}))},y=(t,e)=>{r((n=>{n[e].push(t)}))};(0,a.useEffect)((()=>{N().then(c)}),[]),(0,a.useEffect)((()=>{s(o&&n?I(n,o.domainBlackList,o.domainWhiteList):void 0)}),[o,n]);const g=(0,a.useMemo)((()=>!!n&&function(t){return t.startsWith(U)}(n)),[n]),b=null==i?void 0:i.matchedRule,x=(null==i||null===(t=i.urlParts)||void 0===t?void 0:t.host)||"",w=(null==i||null===(e=i.urlParts)||void 0===e?void 0:e.path)||"",j=g||i&&i.whiteListMatched||i&&!i.matchedRule?"启用":"禁用",k=null==o?void 0:o.domainBlackList.some((t=>"*"===t.host&&"/*"===t.path));return(0,G.jsxs)("div",{style:{padding:"8px 8px 0 8px"},children:[(0,G.jsx)(p.$,{onClick:()=>{d((t=>!t))},fill:!0,text:"禁用"===j&&k&&i?"已在所有网站中禁用网页划词":"此页面已"+j+"网页划词",rightIcon:(0,G.jsx)(h.I,{icon:u?"chevron-up":"chevron-down",size:12}),minimal:!0,small:!0}),(0,G.jsxs)(m.S,{isOpen:u,children:[!i&&(0,G.jsxs)("span",{className:`${l.KJG} ${l.E4k}`,children:["在少数特殊的页面中，只能使用划词后在右键菜单中选择“翻译这段文本”的翻译方式。如果你刚安装完划词翻译或划词翻译被浏览器自动更新了，那么你可以刷新当前页面后重试。",(0,G.jsx)("a",{href:"https://hcfy.app/docs/faqs/why-can-not-use-in-store",target:"_blank",rel:"noreferrer noopener",children:"查看帮助"})]}),g&&(0,G.jsx)("span",{className:`${l.KJG} ${l.E4k}`,children:"在划词翻译内置的 PDF 阅读器中，网页划词功能始终可用。"}),i&&!g&&(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)("div",{style:{marginTop:"4px",marginBottom:"10px"},children:[(0,G.jsxs)("div",{children:["当前网站：",x]}),(0,G.jsxs)("div",{children:["当前页面：",w]})]}),i.whiteListMatched&&b&&(0,G.jsxs)("div",{children:[(0,G.jsxs)("p",{className:`${l.KJG} ${l.E4k}`,children:["此网址命中了白名单规则 ",(0,G.jsx)(v.Cy,{children:R(b)}),"。"]}),(0,G.jsx)("p",{children:(0,G.jsx)(p.$,{fill:!0,small:!0,onClick:()=>f(b,"domainWhiteList"),children:"删除命中的规则"})})]}),!i.whiteListMatched&&i.blackListMatched&&b&&(0,G.jsxs)("div",{children:[(0,G.jsxs)("p",{className:`${l.KJG} ${l.E4k}`,children:[k?"你已经在所有网站中禁用了网页划词":(0,G.jsxs)(G.Fragment,{children:["此网址命中了黑名单规则"," ",(0,G.jsx)(v.Cy,{children:R(b)})]}),"，但你仍然可以使用",(0,G.jsx)("a",{href:J,target:"_blank",rel:"noreferrer",children:"快捷键"}),"、",(0,G.jsx)("a",{href:V,target:"_blank",rel:"noreferrer",children:"辅助键"}),"和右键菜单的方式获取翻译结果。"]}),(0,G.jsxs)("p",{className:"url-actions",children:[(0,G.jsx)(p.$,{small:!0,onClick:()=>y({host:x,path:"/*"},"domainWhiteList"),children:"在当前网站中启用"}),(0,G.jsx)(p.$,{small:!0,onClick:()=>y({host:x,path:w},"domainWhiteList"),children:"在当前页面中启用"})]}),(0,G.jsx)("p",{children:(0,G.jsx)(p.$,{fill:!0,small:!0,onClick:()=>f(k?{host:"*",path:"/*"}:b,"domainBlackList"),children:k?"重新启用网页划词":"删除命中的规则"})})]}),!i.whiteListMatched&&!i.blackListMatched&&(0,G.jsxs)("div",{children:[(0,G.jsx)("p",{className:`${l.KJG} ${l.E4k}`,children:"此网址没有命中任何规则。"}),(0,G.jsxs)("p",{className:"url-actions",children:[(0,G.jsx)(p.$,{small:!0,onClick:()=>y({host:x,path:"/*"},"domainBlackList"),children:"在当前网站中禁用"}),(0,G.jsx)(p.$,{small:!0,onClick:()=>y({host:x,path:w},"domainBlackList"),children:"在当前页面中禁用"})]})]})]}),i&&!k&&!g&&(0,G.jsx)("p",{children:(0,G.jsx)(p.$,{fill:!0,small:!0,onClick:()=>y({host:"*",path:"/*"},"domainBlackList"),children:"在所有网站中禁用网页划词"})})]})]})}function Z(){r().runtime.sendMessage({action:"open panel"}).then((()=>{window.close()}),(t=>{window.alert("打开独立窗口时发生了一个错误："+(null==t?void 0:t.message))}))}function tt(){const[t,e]=(0,a.useState)(!1),[n,c]=(0,a.useState)("");return(0,a.useEffect)((()=>{r().commands.getAll().then((t=>{t.some((t=>{if("panel"===t.name)return c(t.shortcut||""),!0}))}))}),[]),(0,G.jsxs)("div",{style:{padding:"0 8px 8px 8px"},children:[(0,G.jsx)(p.$,{onClick:()=>{e((t=>!t))},fill:!0,intent:n?"primary":"warning",text:"试一试独立翻译窗口吧",rightIcon:(0,G.jsx)(h.I,{icon:n?t?"chevron-up":"chevron-down":"error",size:12}),minimal:!0,small:!0}),(0,G.jsxs)(m.S,{isOpen:t,children:[(0,G.jsxs)("p",{className:`${l.E4k}`,children:["您的浏览器支持全局快捷键！您可以在浏览器以外的地方按下快捷键",n&&(0,G.jsxs)(G.Fragment,{children:[" ",(0,G.jsx)("kbd",{children:n})," "]}),"来翻译剪切板内的文本，无需切换回您的浏览器。"]}),n&&(0,G.jsxs)("div",{className:`${l.E4k}`,children:["您可以在",(0,G.jsx)("a",{href:J,target:"_blank",rel:"noreferrer",children:"设置"}),"中修改独立翻译窗口的快捷键。"]}),!n&&(0,G.jsxs)(y.P,{title:"未设置独立窗口快捷键",intent:"warning",children:["快捷键已被占用或清除，请前往",(0,G.jsx)("a",{href:J,target:"_blank",rel:"noreferrer",children:"设置"}),"中为独立窗口分配一个快捷键，并将作用域由“在 ",Q," ","中”改为“全局”。"]})]})]})}const et=s()(P.g2,["autoClipboard"]);function nt(){const t=(0,a.useRef)(null),[e,n]=(0,T.A)(et);(0,B.A)();const c=(0,a.useCallback)(((e,n)=>{var c,o;e&&(n?null===(c=t.current)||void 0===c||c.setText(e):null===(o=t.current)||void 0===o||o.translate(e,!0))}),[]);(0,a.useEffect)((()=>{var e;null===(e=t.current)||void 0===e||e.select()}),[]);const o=(0,D.dU)(W);return(0,G.jsxs)("div",{children:[(0,G.jsx)(Y,{}),(0,G.jsx)(k,{}),(0,G.jsx)(z.W,{onTranslate:c,onDismiss:()=>{var e;return null===(e=t.current)||void 0===e?void 0:e.select()}}),(0,G.jsx)(F.A,{ref:t,toaster:o.current,extendOptions:(0,G.jsx)(_.Sc,{label:"打开面板时自动翻译剪切板内的文本",checked:!(null==e||!e.autoClipboard),indeterminate:null===(null==e?void 0:e.autoClipboard),onChange:t=>{n({autoClipboard:t.target.checked})}}),showTextArea:!0}),(0,G.jsx)(k,{}),(0,G.jsxs)("div",{className:"openBtn",children:[(0,G.jsx)(H,{}),(0,G.jsx)(p.$,{small:!0,onClick:()=>{r().runtime.sendMessage({action:"open pdf viewer"}).then((()=>{window.close()}))},children:"内置 PDF 阅读器"}),(0,G.jsx)(p.$,{small:!0,onClick:Z,children:"独立翻译窗口"})]}),(0,G.jsx)(k,{}),q.KA&&(0,G.jsx)(tt,{})]})}const ct=document.getElementById("app");if(!ct)throw new Error("DOM 里没有 #app 元素。");(0,c.H)(ct).render((0,G.jsx)(nt,{}))},48983:(t,e,n)=>{var c=n(36465),o=n(3334),r=n(72127),a=n(53142),i=n(74535);t.exports=function(t,e,n){var s=a(t)?c:r;return n&&i(t,e,n)&&(e=void 0),s(t,o(e,3))}},14304:(t,e)=>{"use strict";var n=Symbol.for("react.element"),c=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,v={};function y(t,e,n){this.props=t,this.context=e,this.refs=v,this.updater=n||h}function g(){}function b(t,e,n){this.props=t,this.context=e,this.refs=v,this.updater=n||h}y.prototype.isReactComponent={},y.prototype.setState=function(t,e){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},y.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},g.prototype=y.prototype;var x=b.prototype=new g;x.constructor=b,m(x,y.prototype),x.isPureReactComponent=!0;var w=Array.isArray,j=Object.prototype.hasOwnProperty,k={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function E(t,e,c){var o,r={},a=null,i=null;if(null!=e)for(o in void 0!==e.ref&&(i=e.ref),void 0!==e.key&&(a=""+e.key),e)j.call(e,o)&&!_.hasOwnProperty(o)&&(r[o]=e[o]);var s=arguments.length-2;if(1===s)r.children=c;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];r.children=l}if(t&&t.defaultProps)for(o in s=t.defaultProps)void 0===r[o]&&(r[o]=s[o]);return{$$typeof:n,type:t,key:a,ref:i,props:r,_owner:k.current}}function C(t){return"object"==typeof t&&null!==t&&t.$$typeof===n}var $=/\/+/g;function S(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function O(t,e,o,r,a){var i=typeof t;"undefined"!==i&&"boolean"!==i||(t=null);var s=!1;if(null===t)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case n:case c:s=!0}}if(s)return a=a(s=t),t=""===r?"."+S(s,0):r,w(a)?(o="",null!=t&&(o=t.replace($,"$&/")+"/"),O(a,e,o,"",(function(t){return t}))):null!=a&&(C(a)&&(a=function(t,e){return{$$typeof:n,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(a,o+(!a.key||s&&s.key===a.key?"":(""+a.key).replace($,"$&/")+"/")+t)),e.push(a)),1;if(s=0,r=""===r?".":r+":",w(t))for(var l=0;l<t.length;l++){var u=r+S(i=t[l],l);s+=O(i,e,o,u,a)}else if(u=function(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=p&&t[p]||t["@@iterator"])?t:null}(t),"function"==typeof u)for(t=u.call(t),l=0;!(i=t.next()).done;)s+=O(i=i.value,e,o,u=r+S(i,l++),a);else if("object"===i)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function N(t,e,n){if(null==t)return t;var c=[],o=0;return O(t,c,"","",(function(t){return e.call(n,t,o++)})),c}function P(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var T={current:null},R={transition:null},A={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:R,ReactCurrentOwner:k};function L(){throw Error("act(...) is not supported in production builds of React.")}e.Children={map:N,forEach:function(t,e,n){N(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return N(t,(function(){e++})),e},toArray:function(t){return N(t,(function(t){return t}))||[]},only:function(t){if(!C(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=y,e.Fragment=o,e.Profiler=a,e.PureComponent=b,e.StrictMode=r,e.Suspense=u,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,e.act=L,e.cloneElement=function(t,e,c){if(null==t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var o=m({},t.props),r=t.key,a=t.ref,i=t._owner;if(null!=e){if(void 0!==e.ref&&(a=e.ref,i=k.current),void 0!==e.key&&(r=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)j.call(e,l)&&!_.hasOwnProperty(l)&&(o[l]=void 0===e[l]&&void 0!==s?s[l]:e[l])}var l=arguments.length-2;if(1===l)o.children=c;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];o.children=s}return{$$typeof:n,type:t.type,key:r,ref:a,props:o,_owner:i}},e.createContext=function(t){return(t={$$typeof:s,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:t},t.Consumer=t},e.createElement=E,e.createFactory=function(t){var e=E.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:l,render:t}},e.isValidElement=C,e.lazy=function(t){return{$$typeof:f,_payload:{_status:-1,_result:t},_init:P}},e.memo=function(t,e){return{$$typeof:d,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=R.transition;R.transition={};try{t()}finally{R.transition=e}},e.unstable_act=L,e.useCallback=function(t,e){return T.current.useCallback(t,e)},e.useContext=function(t){return T.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return T.current.useDeferredValue(t)},e.useEffect=function(t,e){return T.current.useEffect(t,e)},e.useId=function(){return T.current.useId()},e.useImperativeHandle=function(t,e,n){return T.current.useImperativeHandle(t,e,n)},e.useInsertionEffect=function(t,e){return T.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return T.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return T.current.useMemo(t,e)},e.useReducer=function(t,e,n){return T.current.useReducer(t,e,n)},e.useRef=function(t){return T.current.useRef(t)},e.useState=function(t){return T.current.useState(t)},e.useSyncExternalStore=function(t,e,n){return T.current.useSyncExternalStore(t,e,n)},e.useTransition=function(){return T.current.useTransition()},e.version="18.3.1"},75960:(t,e,n)=>{"use strict";var c=n(5613),o=n(79117),r=n(10997),a=n(96893),i=TypeError,s=Object.defineProperty,l=o.self!==o;try{if(a){var u=Object.getOwnPropertyDescriptor(o,"self");!l&&u&&u.get&&u.enumerable||r(o,"self",{get:function(){return o},set:function(t){if(this!==o)throw new i("Illegal invocation");s(o,"self",{value:t,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})}else c({global:!0,simple:!0,forced:l},{self:o})}catch(t){}},27429:(t,e,n)=>{"use strict";n.d(e,{b:()=>c});var c=n(28985)}},o={};function r(t){var e=o[t];if(void 0!==e)return e.exports;var n=o[t]={id:t,loaded:!1,exports:{}};return c[t].call(n.exports,n,n.exports,r),n.loaded=!0,n.exports}r.m=c,t=[],r.O=(e,n,c,o)=>{if(!n){var a=1/0;for(u=0;u<t.length;u++){for(var[n,c,o]=t[u],i=!0,s=0;s<n.length;s++)(!1&o||a>=o)&&Object.keys(r.O).every((t=>r.O[t](n[s])))?n.splice(s--,1):(i=!1,o<a&&(a=o));if(i){t.splice(u--,1);var l=c();void 0!==l&&(e=l)}}return e}o=o||0;for(var u=t.length;u>0&&t[u-1][2]>o;u--)t[u]=t[u-1];t[u]=[n,c,o]},r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.f={},r.e=t=>Promise.all(Object.keys(r.f).reduce(((e,n)=>(r.f[n](t,e),e)),[])),r.u=t=>({231:"blueprint-icons-split-paths-by-size-loader",824:"blueprint-icons-all-paths-loader",860:"blueprint-icons-all-paths"}[t]+".js"),r.miniCssF=t=>{},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),e={},n="browser-extension:",r.l=(t,c,o,a)=>{if(e[t])e[t].push(c);else{var i,s;if(void 0!==o)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==t||d.getAttribute("data-webpack")==n+o){i=d;break}}i||(s=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,r.nc&&i.setAttribute("nonce",r.nc),i.setAttribute("data-webpack",n+o),i.src=t),e[t]=[c];var f=(n,c)=>{i.onerror=i.onload=null,clearTimeout(p);var o=e[t];if(delete e[t],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach((t=>t(c))),n)return n(c)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=f.bind(null,i.onerror),i.onload=f.bind(null,i.onload),s&&document.head.appendChild(i)}},r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),r.p="",(()=>{var t={245:0};r.f.j=(e,n)=>{var c=r.o(t,e)?t[e]:void 0;if(0!==c)if(c)n.push(c[2]);else{var o=new Promise(((n,o)=>c=t[e]=[n,o]));n.push(c[2]=o);var a=r.p+r.u(e),i=new Error;r.l(a,(n=>{if(r.o(t,e)&&(0!==(c=t[e])&&(t[e]=void 0),c)){var o=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;i.message="Loading chunk "+e+" failed.\n("+o+": "+a+")",i.name="ChunkLoadError",i.type=o,i.request=a,c[1](i)}}),"chunk-"+e,e)}},r.O.j=e=>0===t[e];var e=(e,n)=>{var c,o,[a,i,s]=n,l=0;if(a.some((e=>0!==t[e]))){for(c in i)r.o(i,c)&&(r.m[c]=i[c]);if(s)var u=s(r)}for(e&&e(n);l<a.length;l++)o=a[l],r.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return r.O(u)},n=self.webpackChunkbrowser_extension=self.webpackChunkbrowser_extension||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})();var a=r.O(void 0,[375,492,167,984,756,643,189,821,701,382],(()=>r(96274)));a=r.O(a)})();
function e(e){return e&&e.__esModule?e.default:e}var t=globalThis,a={},i={},l=t.parcelRequire629e;null==l&&((l=function(e){if(e in a)return a[e].exports;if(e in i){var t=i[e];delete i[e];var l={id:e,exports:{}};return a[e]=l,t.call(l.exports,l,l.exports),l.exports}var n=Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){i[e]=t},t.parcelRequire629e=l),l.register;var n=l("4Sdvq"),r=l("iShBB"),n=l("4Sdvq"),o=l("jVEd3"),d=l("bhfZa"),s=l("i6x5v"),u=l("dMNwl"),c=l("b9MEN"),f=l("20ewk"),h=l("4yCVC"),d=l("bhfZa"),v=l("bdiWv"),g=l("8e5oO");function b(){return(b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e}).apply(this,arguments)}const p=e(d).forwardRef((t,a)=>{let{icon:i,...l}=t;return e(d).createElement(i,b({},l,{ref:a}))}),x=(0,v.default)(p).withConfig({displayName:"Octicon",componentId:"sc-9kayk9-0"})(["",""],({color:e,sx:t})=>(0,g.default)({sx:{color:e,...t}}));var j=l("dPD1u"),m=l("g5rLH"),y=l("ixx3I"),C=l("cfjZT"),k=l("ccPL7"),w=l("jddsu"),I=l("j0X47"),T=function(e,t,a,i){return new(a||(a=Promise))(function(l,n){function r(e){try{d(i.next(e))}catch(e){n(e)}}function o(e){try{d(i.throw(e))}catch(e){n(e)}}function d(e){var t;e.done?l(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(r,o)}d((i=i.apply(e,t||[])).next())})};const R=(0,I.readConfiguration)(["gitlabCE","gitlabToken","gitlabAddress","refreshRate","defaultTab","alertBadgeCounters","draftInToReviewTab","projectDirectoryPrefix"]),L=document.getElementById("root");(0,r.createRoot)(null!=L?L:document.body).render((0,n.jsx)(()=>{let[e,t]=(0,d.useState)(!1),[a,i]=(0,d.useState)(""),[l,r]=(0,d.useState)(""),[v,g]=(0,d.useState)(40),[b,p]=(0,d.useState)("to_review"),[L,S]=(0,d.useState)([0]),[_,O]=(0,d.useState)(!0),[D,E]=(0,d.useState)(""),[V,P]=(0,d.useState)(null),[M,A]=(0,d.useState)(!1),[B,G]=(0,d.useState)(!1),[q,z]=(0,d.useState)(!1);(0,d.useEffect)(()=>{R.then(e=>{var a,l,n,o,d,s;t(!!e.gitlabCE),i(null!==(a=e.gitlabToken)&&void 0!==a?a:""),A(e.gitlabToken),r(null!==(l=e.gitlabAddress)&&void 0!==l?l:""),G(e.gitlabAddress),g(null!==(n=e.refreshRate)&&void 0!==n?n:40),z(e.refreshRate),p(null!==(o=e.defaultTab)&&void 0!==o?o:"to_review"),S(e.alertBadgeCounters?Array.from(e.alertBadgeCounters):[]),O(null===(d=e.draftInToReviewTab)||void 0===d||d),E(null!==(s=e.projectDirectoryPrefix)&&void 0!==s?s:"")})},[]);let N=(0,d.useCallback)(()=>{o.runtime.sendMessage({type:"getLatestDataFromGitLab"}).then(e=>P(e))},[]);return(0,n.jsx)(C.default,{colorMode:"auto",children:(0,n.jsxs)(s.default,{display:"grid",gridGap:3,sx:{width:500,p:2,pl:4,pr:6,bg:"canvas.default"},children:[(0,n.jsxs)(f.default,{children:[(0,n.jsx)(f.default.Label,{children:"Using GitLab Community Edition"}),(0,n.jsx)(c.default,{type:"checkbox",name:"gitlabCE",value:"GitLab CE Mode",onChange:e=>T(void 0,void 0,void 0,function*(){t(e.target.checked),yield(0,I.updateConfiguration)({gitlabCE:e.target.checked})}),checked:e}),(0,n.jsx)(f.default.Caption,{children:"(approvals are a premium feature)"})]}),(0,n.jsxs)(f.default,{children:[(0,n.jsxs)(f.default.Label,{children:["Personal GitLab Token"," ",(0,n.jsx)(h.default,{href:"https://docs.gitlab.com/ee/user/profile/personal_access_tokens.html",target:"_blank",children:(0,n.jsx)(k.default,{wrap:!0,"aria-label":"Click to open GitLab documentation.\n                    The extension requires 'api' right (or just 'read_api' but all write operations will fail).",children:(0,n.jsx)(x,{icon:w.InfoIcon,size:15,color:"blue.5"})})})]}),(0,n.jsx)(y.default,{type:"password",leadingVisual:w.KeyIcon,trailingVisual:M?w.CheckIcon:void 0,block:!0,name:"gitlab-token",value:a,placeholder:"<your_token_here>",onChange:e=>T(void 0,void 0,void 0,function*(){i(e.target.value),yield(0,I.updateConfiguration)({gitlabToken:e.target.value}),A(!0)}),"aria-label":"gitlab-token"})]}),(0,n.jsxs)(f.default,{children:[(0,n.jsxs)(f.default.Label,{children:["GitLab Host Address"," ",(0,n.jsx)(k.default,{"aria-label":"Example: https://gitlab.com",children:(0,n.jsx)(x,{icon:w.InfoIcon,size:15,color:"blue.5"})})]}),(0,n.jsx)(y.default,{leadingVisual:w.ServerIcon,trailingVisual:B?w.CheckIcon:void 0,block:!0,name:"gitlab-address",value:l,placeholder:"<host_address_here>",onChange:e=>T(void 0,void 0,void 0,function*(){r(e.target.value),yield(0,I.updateConfiguration)({gitlabAddress:e.target.value}),G(!0)}),"aria-label":"gitlab-address"})]}),(0,n.jsxs)(f.default,{children:[(0,n.jsxs)(f.default.Label,{children:["Refresh rate in seconds"," ",(0,n.jsx)(k.default,{"aria-label":"It is not recommended to go below 30 seconds.",children:(0,n.jsx)(x,{icon:w.InfoIcon,size:15,color:"blue.5"})})]}),(0,n.jsx)(y.default,{leadingVisual:w.ClockIcon,trailingVisual:q?w.CheckIcon:void 0,block:!0,type:"number",name:"refreshRate",min:"20",value:v,placeholder:"0",onChange:e=>T(void 0,void 0,void 0,function*(){g(e.target.value),yield(0,I.updateConfiguration)({refreshRate:parseInt(e.target.value)}),z(!0),yield o.runtime.sendMessage({type:"updateRefreshRate",interval:e.target.value})})})]}),(0,n.jsxs)(f.default,{children:[(0,n.jsx)(f.default.Label,{children:"Default tab"}),(0,n.jsxs)(j.default,{name:"default-tab",onChange:e=>T(void 0,void 0,void 0,function*(){p(e.target.value),yield(0,I.updateConfiguration)({defaultTab:e.target.value})}),children:[(0,n.jsx)(j.default.Option,{selected:"to_review"===b,value:"to_review",children:"To Review"}),(0,n.jsx)(j.default.Option,{selected:"under_review"===b,value:"under_review",children:"Under Review"}),(0,n.jsx)(j.default.Option,{selected:"drafts"===b,value:"drafts",children:"Drafts"}),(0,n.jsx)(j.default.Option,{selected:"issues"===b,value:"issues",children:"Issues"}),(0,n.jsx)(j.default.Option,{selected:"todo_list"===b,value:"todo_list",children:"To-Do List"})]})]}),(0,n.jsxs)(f.default,{children:[(0,n.jsxs)(f.default.Label,{children:["Alert badge counters"," ",(0,n.jsx)(k.default,{"aria-label":"You can select multiple counters but display might be too small.",children:(0,n.jsx)(x,{icon:w.InfoIcon,size:15,color:"blue.5"})})]}),(0,n.jsxs)("select",{name:"alert-badge-counters",multiple:!0,onChange:e=>T(void 0,void 0,void 0,function*(){let t=[...e.target.selectedOptions].map(e=>parseInt(e.value));S(t),yield(0,I.updateConfiguration)({alertBadgeCounters:t})}),children:[(0,n.jsx)("option",{selected:L.includes(0),value:"0",children:"To Review"}),(0,n.jsx)("option",{selected:L.includes(1),value:"1",children:"Reviewed by others"}),(0,n.jsx)("option",{selected:L.includes(2),value:"2",children:"Issues"}),(0,n.jsx)("option",{selected:L.includes(3),value:"3",children:"To-Do List"})]})]}),(0,n.jsxs)(f.default,{children:[(0,n.jsx)(f.default.Label,{children:'View draft MRs in "To Review" tab'}),(0,n.jsx)(c.default,{type:"checkbox",name:"draftInToReviewTab",value:"View draft in To Review tab",onChange:e=>T(void 0,void 0,void 0,function*(){O(e.target.checked),yield(0,I.updateConfiguration)({draftInToReviewTab:e.target.checked})}),checked:_}),(0,n.jsx)(f.default.Caption,{children:'(merge requests marked as "Draft:" will be ignored if unchecked)'})]}),(0,n.jsxs)(f.default,{children:[(0,n.jsxs)(f.default.Label,{children:["Projects directory prefix"," ",(0,n.jsx)(k.default,{"aria-label":"Sometimes your project are in a sub-directory like 'teams/code/projects/'\n                            which makes the project name difficult to read.\n                            Set a prefix here that will be substitute each time.",children:(0,n.jsx)(x,{icon:w.InfoIcon,size:15,color:"blue.5"})})]}),(0,n.jsx)(y.default,{leadingVisual:w.FileDirectoryIcon,block:!0,name:"project-directory-prefix",value:D,placeholder:"teams/code/projects/",onChange:e=>T(void 0,void 0,void 0,function*(){E(e.target.value),yield(0,I.updateConfiguration)({projectDirectoryPrefix:e.target.value})}),"aria-label":"project-directory-prefix"})]}),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(u.Button,{onClick:N,block:!0,variant:"default",children:[(0,n.jsx)(w.PackageDependenciesIcon,{})," Test my settings"]}),(0,n.jsx)(m.default,{opacity:null===V?0:100,sx:{color:!0===V?"success.fg":"danger.fg",fontSize:18,textAlign:"center"},children:!0===V?"Success":"Could not connect"})]})]})})},{}));
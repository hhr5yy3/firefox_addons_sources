(e=>{var i,t,r,l,c,p,a,g,m;(e.NSSS=e.NSSS||{}).blockPage=(i=e.SymBfw,t=e.NSSS,r=i.utils.isNil,l=i.utils.isntNil,i.utils.isFunction,c=t.uiConstants.MESSAGES,p=t.uiConstants.BLOCKPAGE.parameterKeys,a=t.uiConstants.BLOCKPAGE.TYPE,g=t.constants,(m={parameters:{},strings:{},initializePage:function(){i.localizerProxy.getCurrentLanguageDirection(function(e){"rtl"===e&&$("body").attr("dir","rtl")}),m.sliceURI(top.document.location.search),m.getPageObject(m.parameters[p.BLOCK_PAGE_TYPE],function(e){m.strings=e.string,m.showSafeWebSearchbox=e.showSafeWebSearchbox,m.showNortonLinks=e.showNortonLinks,m.fullReportURL=m.parameters[p.REPORT_URL]+"&ulang="+m.parameters[p.ULANG],m.pageType=e.pageType,m.showFullReport=e.canShowFullReport,t.blockPage.updateUI()})},performSearch:function(){var e=$(".block-page-search-text").val();i.extensionAdapter.sendMessage({name:c.BLOCKEDPAGE_SEARCH,message:{searchText:e}})},getPageObject:function(e,t){i.extensionAdapter.sendMessage({name:c.BLOCKEDPAGE_INIT,message:{pageType:e}},t)},sliceURI:function(e){for(var t,a=e.slice(1).split("&"),s=0;s<a.length;s++)t=a[s].slice(0,a[s].indexOf("=")),m.parameters[t]=a[s].slice(a[s].indexOf("=")+1)},updateUI:function(){m.parameters[p.BLOCK_PAGE_TYPE]===a.SUSPECTEDBAD&&($(".block-page-header").attr("pageType",m.parameters[p.BLOCK_PAGE_TYPE]),$(".block-page-sitename").attr("pageType",m.parameters[p.BLOCK_PAGE_TYPE]),$(".block-page-text3").attr("pageType",m.parameters[p.BLOCK_PAGE_TYPE]),$(".block-page-norton-logo").attr("pageType",m.parameters[p.BLOCK_PAGE_TYPE]));var e=m.parameters[p.ORIGINAL_URL],e=i.utils.urlWithoutQueryParameters(e);$(".block-page-sitename").html(encodeURI(e)),$(".block-page-text1").html(m.strings.blockedBy),$(".block-page-heading").html(m.strings.title),$(".block-page-text2").html(m.strings.line2),$(".description").html(m.strings.description1+" "+m.strings.description2),$(".text3_3").html(m.strings.visit_symc1),$(".symantec").html(m.strings.symantec),$(".text3_5").html(m.strings.visit_symc2),$(".continue-to-site").html(m.strings.linkToSite),$(".continue-to-site").click(t.blockPage.continueToSite),$(".view-report-text").html(m.strings.reportSite),$(".report-link").attr("href",m.fullReportURL),$(".block-page-nav-text").html(m.strings.safeWebText),$(".block-page-exit-text").html(m.strings.exitPage),$(".block-page-exit-btn").click(t.blockPage.exitBlockPage),l(m.showFullReport)&&!1===m.showFullReport&&$(".block-page-view-report").hide(),!1===m.showSafeWebSearchbox&&$(".block-page-search").hide(),!1===m.showNortonLinks&&$(".block-page-text3-line2").hide(),$(".block-page-search-text").attr("placeholder",m.strings.searchBoxText),$(".block-page-search-icon").click(t.blockPage.performSearch),$(".block-page-search-text").keypress(function(e){13==e.which&&t.blockPage.performSearch()})},updateExtensionsPromotionTile:e=>{$(".promotion-title-text").html(e.promotionTitle),$(".install-text").html(e.installText),$(".product-name").html(e.productName),$(".install-desc-text").html(e.installDescText),$(".promotion-extension-install-text").html(e.installExtensionsText),$(".promotion-extension-install-button").click(t.blockPage.installButtonClick),i.extensionAdapter.sendMessage({name:c.BLOCKPAGE_PROMOTION_TILE_SHOWN})},exitBlockPage:e=>{e.preventDefault();e=m.parameters[p.BLOCK_PAGE_TYPE]||m.pageType,e={name:c.EXIT_BLOCK_PAGE,message:{url:m.parameters[p.ORIGINAL_URL],blockPageType:e}};i.extensionAdapter.sendMessage(e)},installButtonClick:e=>{e.preventDefault();e={name:c.INSTALL_BUTTON_CLICK};i.extensionAdapter.sendMessage(e)},locationReplace:function(e){document.location.replace(e)}}).continueToSite=function(){var e=m.parameters[p.CONTINUE_TO_SITE_URL],t=new URI(e),a=URI.parseQuery(t._parts.query),a=r(a[g.URL_IDENTIFIER])?null:a[g.URL_IDENTIFIER],s=m.parameters[p.BLOCK_PAGE_TYPE]||m.pageType;function n(e){var t=e.message.url;l(t)&&""!==t&&"Unavailable"!==t&&i.extensionAdapter.sendMessage(e)}let o={name:c.OPEN_DO_NOT_BLOCK_PAGE,message:{url:e,blockPageType:s}};l(a)?(!0===m.searched_link_clickPreventionInfo.bHasInfo?o.message.url=m.searched_link_clickPreventionInfo.url:o.message.url=t.removeSearch(g.URL_IDENTIFIER).toString(),i.extensionAdapter.sendMessage({name:c.ADD_TO_CLICK_PREVENTION_SAFELIST,message:{clickPreventionUrlID:a}},()=>{n(o)})):n(o)},m.handleExtensionsPromotionTile=e=>{i.utils.isObject(e)&&(m.extensionsPromotionData=e.extensionsPromotionData,m.extensionsPromotionData)&&(document.querySelector(".block-page-dshp-promotion-wrapper").style.visibility="visible",m.updateExtensionsPromotionTile(m.extensionsPromotionData.data.strings))},m.handleMessageFromBg=e=>{e.id===c.EXTENSIONS_PROMOTION_DATA&&(e=e.message,m.handleExtensionsPromotionTile(e))},m),SymBfw.extensionAdapter.addMessageListener(NSSS.blockPage.handleMessageFromBg)})(executionContext),$(document).ready(NSSS.blockPage.initializePage);
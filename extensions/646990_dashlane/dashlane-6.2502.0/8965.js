"use strict";(self.webpackChunk_dashlane_leeloo=self.webpackChunk_dashlane_leeloo||[]).push([[8965],{48094:(e,t,l)=>{l.d(t,{D:()=>i});var a=l(61468),n=l(96832),s=l(68593);const i=(0,n.forwardRef)((({label:e,name:t,value:l,placeholder:i,options:o,disabled:r,dataName:d="localeFormat",onChange:c},p)=>{const u=(0,n.useMemo)((()=>o.map((e=>(0,s.tZ)(a.$m,{value:e.value,children:e.label},e.value)))),[o]);return(0,s.tZ)(a.mg,{ref:p,name:t,label:e,placeholder:i,"data-name":d,value:l,onChange:c,readOnly:r,children:u},"country")}));i.displayName="CountryField"},16792:(e,t,l)=>{l.d(t,{k:()=>a});const a={NAME_LABEL:"webapp_id_form_field_label_name",NAME_PLACEHOLDER:"webapp_id_form_field_placeholder_name",ID_NUMBER_LABEL:"webapp_id_form_field_label_id_number",ID_NUMBER_PLACEHOLDER:"webapp_id_form_field_placeholder_id_number",COUNTRY_LABEL:"webapp_id_form_field_label_country",GENERIC_SELECT_PLACEHOLDER:"webapp_id_form_field_placeholder_select",EXPIRATION_DATE_LABEL_US:"webapp_id_form_field_label_expiration_date_us",EXPIRATION_DATE_LABEL_UK:"webapp_id_form_field_label_expiration_date_uk",EXPIRATION_DATE_PICK_US:"webapp_id_form_field_pick_expiration_date_us",EXPIRATION_DATE_PICK_UK:"webapp_id_form_field_pick_expiration_date_uk",ISSUE_DATE_LABEL:"webapp_id_form_field_label_issue_date",ISSUE_DATE_PICK:"webapp_id_form_field_pick_issue_date",ORGANIZATION_CONTENT_LABEL:"webapp_id_form_content_organization_label"}},87773:(e,t,l)=>{l.d(t,{ju:()=>X,Dz:()=>H,Nn:()=>r,A0:()=>p,xu:()=>w,YI:()=>g});var a=l(96832),n=l(61468),s=l(88355),i=l(68593);const o=({name:e,label:t,disabled:l,calendarButtonLabel:a})=>{const{setFieldValue:o}=(0,s.u6)(),r=t=>o(e,""===t.target.value?null:t.target.value);return(0,i.tZ)(s.gN,{name:e,children:({field:s})=>{var o;return(0,i.tZ)(n.Nn,{name:e,value:`${null!=(o=s.value)?o:""}`,label:t,onChange:r,disabled:l,calendarButtonLabel:a})}})},r=a.memo(o);var d=l(67406);const c=({name:e,disabled:t,contentCardLabel:l,wrapInContentCard:a})=>{const{setFieldValue:n}=(0,s.u6)();return(0,i.tZ)(s.gN,{name:e,children:({field:s})=>{var o;return(0,i.tZ)(d.M,{isUsingNewDesign:!0,labelSx:d.e,spaceId:null!=(o=s.value)?o:"",onChange:t=>{n(e,t)},disabled:t,contentCardLabel:l,wrapInContentCard:a})}})},p=a.memo(c);var u=l(26849),h=l(83849),_=l.n(h),b=l(57459);const m={left:"left--jltGqC2ld6",right:"right--r4mXfTZRXo",select:"select--ivbO452zoA",disable:"disable--F2KcdR2ssV",label:"label--EhkwVb63v9"};function f(e,t){const l=e.find((e=>String(e.value)===String(t)));return null!=l?l:null}class v extends a.Component{constructor(e){super(e),this.select=a.createRef(),this.handleChange=e=>{const t=e.target;if(!t)return;const l=t.value,a=f(this.props.options,l);this.setState({optionSelected:a}),this.props.onChange&&this.props.onChange(e)},this.handleKeyDown=e=>{"Enter"===e.key&&e.preventDefault(),this.props.onFieldKeyDown?.(e)},this.handleFocus=()=>{this.setState({isSelectFocused:!0})},this.handleBlur=()=>{this.setState({isSelectFocused:!1})};let t=null;this.props.options.length&&(t=f(this.props.options,null===this.props.defaultOption?(0,u.head)(this.props.options).value:this.props.defaultOption.value)),this.state={fieldHtmlId:(0,b.Z)(),optionSelected:t,isSelectFocused:!1}}getValue(){if(!this.select.current)throw new Error("select ref not initialized");return this.select.current.value}render(){var e;const t=this.props.marginSide||"none",l=_()("selectContainer--mo5uz0qo56",m[t],{"transparent--pz8wb74Jmh":this.props.isTransparent,"disabled--I9BAM7Vdre":this.props.disabled,"focused--ietgHqFLIm":this.state.isSelectFocused}),a=_()("selector--fgNHKzkAC3",this.props.classNames);let n;this.state.optionSelected?n=this.state.optionSelected.value:this.props.options.length&&(n=null===this.props.defaultOption?(0,u.head)(this.props.options).value:this.props.defaultOption.value);const s=this.state.optionSelected?this.state.optionSelected.selectedLabel?this.state.optionSelected.selectedLabel:this.state.optionSelected.label:this.props.placeholder;return(0,i.BX)("div",{className:"container--KChkEdb4YV",children:[this.props.label&&(0,i.tZ)("label",{className:m.label,color:"ds.text.neutral.catchy",htmlFor:this.state.fieldHtmlId,title:this.props.label,children:this.props.label}),(0,i.BX)("div",{className:l,children:[(0,i.BX)("div",{className:a,children:[this.state.optionSelected&&this.state.optionSelected.icon&&(0,i.tZ)("span",{className:"icon--p3a7nsSbg9",children:this.state.optionSelected.icon}),(0,i.tZ)("span",{className:"text--SjkXyB7Kyp",sx:{color:"ds.text.neutral.catchy"},children:s})]}),(0,i.tZ)("select",{className:m.select,ref:this.select,id:this.state.fieldHtmlId,value:n,name:this.props.name,disabled:this.props.disabled,"data-name":this.props.dataName,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,"aria-label":null!=(e=this.props.ariaLabel)?e:this.props.label,children:this.props.options.map((e=>(0,i.tZ)("option",{disabled:e.disabled,value:String(e.value),children:e.label},e.value)))},this.state.fieldHtmlId)]})]})}}var E=l(16792);const C=(e,t="")=>({label:e(E.k.GENERIC_SELECT_PLACEHOLDER),value:t}),S=({name:e,label:t,placeholder:l,options:a,defaultOption:n,disabled:o=!1})=>(0,i.tZ)(s.gN,{name:e,children:({field:e})=>(0,i.tZ)(v,{label:t,placeholder:l,options:a,defaultOption:n,disabled:o,...e})}),L=({name:e,...t},l)=>(0,i.tZ)(s.gN,{name:e,children:({field:e,meta:a})=>(0,i.tZ)(n.qo,{...t,...e,error:void 0!==a.error,ref:l},e.name)}),N=a.forwardRef(L),g=a.memo(N);var A=l(82207);const I=({name:e,label:t,placeholder:l,disabled:n=!1,handleCopy:o})=>{const{setFieldValue:r,values:d}=(0,s.u6)();return a.useEffect((()=>{"FR"!==d.country&&r(e,"")}),[e,r,d.country]),"FR"!==d.country?null:(0,i.tZ)(g,{name:e,label:t,placeholder:l,actions:o?[(0,i.tZ)(A.m,{data:d[e],onCopy:o},"copy")]:void 0,disabled:n})},w=a.memo(I);var y=l(30309),Z=l(48094),R=l(88203);const O=Object.keys(y.cH),D=({name:e,label:t,value:l,onChange:n,disabled:s=!1})=>{const{translate:o}=(0,R.Z)(),r=a.useRef(null),{current:d}=a.useRef((e=>{const t=O.filter((e=>!(y.cH[e]===y.cH.UNIVERSAL||y.cH[e]===y.cH.NO_TYPE))).map((t=>({label:e(`country_name_${y.cH[t]}`),value:y.cH[t]}))).sort(((e,t)=>e.label.localeCompare(t.label)));return[C(e,y.cH.UNIVERSAL),...t]})(o)),c=d[0],p=(0,a.useCallback)((e=>{if(r.current){const t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value")?.set;t?.call(r.current,e);const l=new Event("input",{bubbles:!0});r.current.dispatchEvent(l)}}),[]);return(0,a.useEffect)((()=>{const e=r.current;return e?.addEventListener("input",n),()=>{e?.removeEventListener("input",n)}}),[n]),(0,i.tZ)(Z.D,{ref:r,placeholder:c.value,label:t,options:d,disabled:s,onChange:p,name:e,value:l})},T=e=>(0,i.tZ)(s.gN,{name:e.name,children:({field:t})=>(0,i.tZ)(D,{...e,...t})}),H=a.memo(T);var F=l(1986),B=l(89349),U=l(22640);const x={queries:[{type:F.N.GEOGRAPHIC_STATES,level:B.Y.LEVEL_0}]},k=new Set(["AU","CA","US"]);const P="country",V="state",K=e=>{var t;const{translate:l}=(0,R.Z)(),{initialValues:n,setFieldValue:o,values:r}=(0,s.u6)(),d=n[V],c=r[V],p=n[P],u=r[P],h=p!==u,_=function(e,t){const l=function(e){const[t,l]=a.useState(null);return a.useEffect((()=>{(async function(){const[e]=await(0,U.et)(x);e?.type===F.N.GEOGRAPHIC_STATES&&l(e.collection)})().catch((t=>e(new Error(`[useStates] ${t}`))))}),[]),t}(t),n=a.useMemo((()=>{if(!l)return null;if(!e)return;const t=null===e?void 0:y.cH[e];if(!t)return;if(!k.has(t))return;const a=l[t];return void 0!==a?function(e){return e.sort(((e,t)=>e.name.localeCompare(t.name))).map((({name:e,code:t})=>({label:e,value:t})))}(Object.values(a)):void 0}),[l,e]);return n}(u,e.handleError),{current:b}=a.useRef(C(l)),m=a.useMemo((()=>_?[b,..._]:void 0),[_,b]),f=null!=(t=m?.find((({value:e})=>e===c)))?t:c?{label:c,value:c}:b;return a.useEffect((()=>{o("state",h?b.value:d)}),[h,b.value,d,o]),(0,i.BX)(i.HY,{children:[(0,i.tZ)(H,{name:P,label:e.countryFieldLabel,disabled:e.disabled}),b&&m?(0,i.tZ)(S,{name:V,label:e.stateFieldLabel,options:m,defaultOption:f,placeholder:b.label,disabled:e.disabled},u):null]})},X=a.memo(K)},55752:(e,t,l)=>{l.d(t,{P:()=>i}),l(96832);var a=l(88355),n=l(68593);const s={display:"flex",flexDirection:"column",flex:1,overflow:"auto",gap:"16px",padding:"24px"};function i({children:e,...t}){const{formId:l,formRef:i,initialValues:o,handleSubmit:r}=t;return(0,n.tZ)(a.J9,{innerRef:i,initialValues:o,onSubmit:r,children:({values:t})=>(0,n.tZ)(a.l0,{autoComplete:"off",id:l,noValidate:!0,sx:s,children:e(t)})})}},74910:(e,t,l)=>{l.d(t,{h:()=>c});var a=l(96832),n=l(39431),s=l(61468),i=l(63520),o=l(68593);const r={[n.U.DriversLicense]:"drivers-license",[n.U.FiscalId]:"tax-number",[n.U.IdCard]:"id-card",[n.U.Passport]:"passport",[n.U.SocialSecurityId]:"social-security-number"},d=({description:e,title:t,type:l,tabs:a})=>(0,o.tZ)(i.V9,{icon:(0,o.tZ)(s.AK,{type:r[l],size:"xlarge"}),title:t,titleDescription:e?.toUpperCase(),tabs:a}),c=(0,a.memo)(d)}}]);
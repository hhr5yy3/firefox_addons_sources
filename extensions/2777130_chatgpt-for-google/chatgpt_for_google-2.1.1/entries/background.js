"use strict";(()=>{var _m=Object.create;var fs=Object.defineProperty;var Am=Object.getOwnPropertyDescriptor;var ym=Object.getOwnPropertyNames;var xm=Object.getPrototypeOf,wm=Object.prototype.hasOwnProperty;var bm=(u,i,c)=>i in u?fs(u,i,{enumerable:!0,configurable:!0,writable:!0,value:c}):u[i]=c;var uu=(u,i)=>()=>(i||u((i={exports:{}}).exports,i),i.exports);var Cm=(u,i,c,f)=>{if(i&&typeof i=="object"||typeof i=="function")for(let d of ym(i))!wm.call(u,d)&&d!==c&&fs(u,d,{get:()=>i[d],enumerable:!(f=Am(i,d))||f.enumerable});return u};var ct=(u,i,c)=>(c=u!=null?_m(xm(u)):{},Cm(i||!u||!u.__esModule?fs(c,"default",{value:u,enumerable:!0}):c,u));var ln=(u,i,c)=>(bm(u,typeof i!="symbol"?i+"":i,c),c);var yt=uu((ds,lu)=>{(function(u,i){if(typeof define=="function"&&define.amd)define("webextension-polyfill",["module"],i);else if(typeof ds<"u")i(lu);else{var c={exports:{}};i(c),u.browser=c.exports}})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:ds,function(u){"use strict";if(!globalThis.chrome?.runtime?.id)throw new Error("This script should only be loaded in a browser extension.");if(typeof globalThis.browser>"u"||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){let i="The message port closed before a response was received.",c=f=>{let d={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(d).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class x extends WeakMap{constructor(T,H=void 0){super(H),this.createItem=T}get(T){return this.has(T)||this.set(T,this.createItem(T)),super.get(T)}}let C=b=>b&&typeof b=="object"&&typeof b.then=="function",k=(b,T)=>(...H)=>{f.runtime.lastError?b.reject(new Error(f.runtime.lastError.message)):T.singleCallbackArg||H.length<=1&&T.singleCallbackArg!==!1?b.resolve(H[0]):b.resolve(H)},E=b=>b==1?"argument":"arguments",M=(b,T)=>function(X,...he){if(he.length<T.minArgs)throw new Error(`Expected at least ${T.minArgs} ${E(T.minArgs)} for ${b}(), got ${he.length}`);if(he.length>T.maxArgs)throw new Error(`Expected at most ${T.maxArgs} ${E(T.maxArgs)} for ${b}(), got ${he.length}`);return new Promise((Te,Me)=>{if(T.fallbackToNoCallback)try{X[b](...he,k({resolve:Te,reject:Me},T))}catch($){console.warn(`${b} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,$),X[b](...he),T.fallbackToNoCallback=!1,T.noCallback=!0,Te()}else T.noCallback?(X[b](...he),Te()):X[b](...he,k({resolve:Te,reject:Me},T))})},B=(b,T,H)=>new Proxy(T,{apply(X,he,Te){return H.call(he,b,...Te)}}),L=Function.call.bind(Object.prototype.hasOwnProperty),W=(b,T={},H={})=>{let X=Object.create(null),he={has(Me,$){return $ in b||$ in X},get(Me,$,Se){if($ in X)return X[$];if(!($ in b))return;let ge=b[$];if(typeof ge=="function")if(typeof T[$]=="function")ge=B(b,b[$],T[$]);else if(L(H,$)){let xt=M($,H[$]);ge=B(b,b[$],xt)}else ge=ge.bind(b);else if(typeof ge=="object"&&ge!==null&&(L(T,$)||L(H,$)))ge=W(ge,T[$],H[$]);else if(L(H,"*"))ge=W(ge,T[$],H["*"]);else return Object.defineProperty(X,$,{configurable:!0,enumerable:!0,get(){return b[$]},set(xt){b[$]=xt}}),ge;return X[$]=ge,ge},set(Me,$,Se,ge){return $ in X?X[$]=Se:b[$]=Se,!0},defineProperty(Me,$,Se){return Reflect.defineProperty(X,$,Se)},deleteProperty(Me,$){return Reflect.deleteProperty(X,$)}},Te=Object.create(b);return new Proxy(Te,he)},Y=b=>({addListener(T,H,...X){T.addListener(b.get(H),...X)},hasListener(T,H){return T.hasListener(b.get(H))},removeListener(T,H){T.removeListener(b.get(H))}}),Z=new x(b=>typeof b!="function"?b:function(H){let X=W(H,{},{getContent:{minArgs:0,maxArgs:0}});b(X)}),ne=new x(b=>typeof b!="function"?b:function(H,X,he){let Te=!1,Me,$=new Promise(Ne=>{Me=function(pe){Te=!0,Ne(pe)}}),Se;try{Se=b(H,X,Me)}catch(Ne){Se=Promise.reject(Ne)}let ge=Se!==!0&&C(Se);if(Se!==!0&&!ge&&!Te)return!1;let xt=Ne=>{Ne.then(pe=>{he(pe)},pe=>{let mn;pe&&(pe instanceof Error||typeof pe.message=="string")?mn=pe.message:mn="An unexpected error occurred",he({__mozWebExtensionPolyfillReject__:!0,message:mn})}).catch(pe=>{console.error("Failed to send onMessage rejected reply",pe)})};return xt(ge?Se:$),!0}),ve=({reject:b,resolve:T},H)=>{f.runtime.lastError?f.runtime.lastError.message===i?T():b(new Error(f.runtime.lastError.message)):H&&H.__mozWebExtensionPolyfillReject__?b(new Error(H.message)):T(H)},j=(b,T,H,...X)=>{if(X.length<T.minArgs)throw new Error(`Expected at least ${T.minArgs} ${E(T.minArgs)} for ${b}(), got ${X.length}`);if(X.length>T.maxArgs)throw new Error(`Expected at most ${T.maxArgs} ${E(T.maxArgs)} for ${b}(), got ${X.length}`);return new Promise((he,Te)=>{let Me=ve.bind(null,{resolve:he,reject:Te});X.push(Me),H.sendMessage(...X)})},oe={devtools:{network:{onRequestFinished:Y(Z)}},runtime:{onMessage:Y(ne),onMessageExternal:Y(ne),sendMessage:j.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:j.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},ce={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return d.privacy={network:{"*":ce},services:{"*":ce},websites:{"*":ce}},W(f,oe,d)};u.exports=c(chrome)}else u.exports=globalThis.browser})});var ws=uu((gn,Fn)=>{(function(){var u,i="4.17.21",c=200,f="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",d="Expected a function",x="Invalid `variable` option passed into `_.template`",C="__lodash_hash_undefined__",k=500,E="__lodash_placeholder__",M=1,B=2,L=4,W=1,Y=2,Z=1,ne=2,ve=4,j=8,oe=16,ce=32,b=64,T=128,H=256,X=512,he=30,Te="...",Me=800,$=16,Se=1,ge=2,xt=3,Ne=1/0,pe=9007199254740991,mn=17976931348623157e292,Hn=0/0,st=4294967295,Pu=st-1,Mu=st>>>1,Ru=[["ary",T],["bind",Z],["bindKey",ne],["curry",j],["curryRight",oe],["flip",X],["partial",ce],["partialRight",b],["rearg",H]],Zt="[object Arguments]",$n="[object Array]",Ou="[object AsyncFunction]",vn="[object Boolean]",_n="[object Date]",ku="[object DOMException]",qn="[object Error]",Kn="[object Function]",Ms="[object GeneratorFunction]",Ve="[object Map]",An="[object Number]",Lu="[object Null]",lt="[object Object]",Rs="[object Promise]",Du="[object Proxy]",yn="[object RegExp]",je="[object Set]",xn="[object String]",zn="[object Symbol]",Nu="[object Undefined]",wn="[object WeakMap]",Gu="[object WeakSet]",bn="[object ArrayBuffer]",Xt="[object DataView]",qr="[object Float32Array]",Kr="[object Float64Array]",zr="[object Int8Array]",Yr="[object Int16Array]",Zr="[object Int32Array]",Xr="[object Uint8Array]",Jr="[object Uint8ClampedArray]",Qr="[object Uint16Array]",Vr="[object Uint32Array]",Bu=/\b__p \+= '';/g,Fu=/\b(__p \+=) '' \+/g,Uu=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Os=/&(?:amp|lt|gt|quot|#39);/g,ks=/[&<>"']/g,Wu=RegExp(Os.source),Hu=RegExp(ks.source),$u=/<%-([\s\S]+?)%>/g,qu=/<%([\s\S]+?)%>/g,Ls=/<%=([\s\S]+?)%>/g,Ku=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,zu=/^\w*$/,Yu=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jr=/[\\^$.*+?()[\]{}|]/g,Zu=RegExp(jr.source),ei=/^\s+/,Xu=/\s/,Ju=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Qu=/\{\n\/\* \[wrapped with (.+)\] \*/,Vu=/,? & /,ju=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ec=/[()=,{}\[\]\/\s]/,tc=/\\(\\)?/g,nc=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ds=/\w*$/,rc=/^[-+]0x[0-9a-f]+$/i,ic=/^0b[01]+$/i,sc=/^\[object .+?Constructor\]$/,ac=/^0o[0-7]+$/i,oc=/^(?:0|[1-9]\d*)$/,uc=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Yn=/($^)/,cc=/['\n\r\u2028\u2029\\]/g,Zn="\\ud800-\\udfff",lc="\\u0300-\\u036f",fc="\\ufe20-\\ufe2f",gc="\\u20d0-\\u20ff",Ns=lc+fc+gc,Gs="\\u2700-\\u27bf",Bs="a-z\\xdf-\\xf6\\xf8-\\xff",hc="\\xac\\xb1\\xd7\\xf7",pc="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",dc="\\u2000-\\u206f",mc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Fs="A-Z\\xc0-\\xd6\\xd8-\\xde",Us="\\ufe0e\\ufe0f",Ws=hc+pc+dc+mc,ti="['\u2019]",vc="["+Zn+"]",Hs="["+Ws+"]",Xn="["+Ns+"]",$s="\\d+",_c="["+Gs+"]",qs="["+Bs+"]",Ks="[^"+Zn+Ws+$s+Gs+Bs+Fs+"]",ni="\\ud83c[\\udffb-\\udfff]",Ac="(?:"+Xn+"|"+ni+")",zs="[^"+Zn+"]",ri="(?:\\ud83c[\\udde6-\\uddff]){2}",ii="[\\ud800-\\udbff][\\udc00-\\udfff]",Jt="["+Fs+"]",Ys="\\u200d",Zs="(?:"+qs+"|"+Ks+")",yc="(?:"+Jt+"|"+Ks+")",Xs="(?:"+ti+"(?:d|ll|m|re|s|t|ve))?",Js="(?:"+ti+"(?:D|LL|M|RE|S|T|VE))?",Qs=Ac+"?",Vs="["+Us+"]?",xc="(?:"+Ys+"(?:"+[zs,ri,ii].join("|")+")"+Vs+Qs+")*",wc="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",bc="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",js=Vs+Qs+xc,Cc="(?:"+[_c,ri,ii].join("|")+")"+js,Tc="(?:"+[zs+Xn+"?",Xn,ri,ii,vc].join("|")+")",Sc=RegExp(ti,"g"),Ic=RegExp(Xn,"g"),si=RegExp(ni+"(?="+ni+")|"+Tc+js,"g"),Ec=RegExp([Jt+"?"+qs+"+"+Xs+"(?="+[Hs,Jt,"$"].join("|")+")",yc+"+"+Js+"(?="+[Hs,Jt+Zs,"$"].join("|")+")",Jt+"?"+Zs+"+"+Xs,Jt+"+"+Js,bc,wc,$s,Cc].join("|"),"g"),Pc=RegExp("["+Ys+Zn+Ns+Us+"]"),Mc=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Rc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Oc=-1,re={};re[qr]=re[Kr]=re[zr]=re[Yr]=re[Zr]=re[Xr]=re[Jr]=re[Qr]=re[Vr]=!0,re[Zt]=re[$n]=re[bn]=re[vn]=re[Xt]=re[_n]=re[qn]=re[Kn]=re[Ve]=re[An]=re[lt]=re[yn]=re[je]=re[xn]=re[wn]=!1;var te={};te[Zt]=te[$n]=te[bn]=te[Xt]=te[vn]=te[_n]=te[qr]=te[Kr]=te[zr]=te[Yr]=te[Zr]=te[Ve]=te[An]=te[lt]=te[yn]=te[je]=te[xn]=te[zn]=te[Xr]=te[Jr]=te[Qr]=te[Vr]=!0,te[qn]=te[Kn]=te[wn]=!1;var kc={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Lc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Dc={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Nc={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Gc=parseFloat,Bc=parseInt,ea=typeof global=="object"&&global&&global.Object===Object&&global,Fc=typeof self=="object"&&self&&self.Object===Object&&self,_e=ea||Fc||Function("return this")(),ai=typeof gn=="object"&&gn&&!gn.nodeType&&gn,Gt=ai&&typeof Fn=="object"&&Fn&&!Fn.nodeType&&Fn,ta=Gt&&Gt.exports===ai,oi=ta&&ea.process,qe=function(){try{var h=Gt&&Gt.require&&Gt.require("util").types;return h||oi&&oi.binding&&oi.binding("util")}catch{}}(),na=qe&&qe.isArrayBuffer,ra=qe&&qe.isDate,ia=qe&&qe.isMap,sa=qe&&qe.isRegExp,aa=qe&&qe.isSet,oa=qe&&qe.isTypedArray;function Ge(h,v,m){switch(m.length){case 0:return h.call(v);case 1:return h.call(v,m[0]);case 2:return h.call(v,m[0],m[1]);case 3:return h.call(v,m[0],m[1],m[2])}return h.apply(v,m)}function Uc(h,v,m,S){for(var D=-1,J=h==null?0:h.length;++D<J;){var de=h[D];v(S,de,m(de),h)}return S}function Ke(h,v){for(var m=-1,S=h==null?0:h.length;++m<S&&v(h[m],m,h)!==!1;);return h}function Wc(h,v){for(var m=h==null?0:h.length;m--&&v(h[m],m,h)!==!1;);return h}function ua(h,v){for(var m=-1,S=h==null?0:h.length;++m<S;)if(!v(h[m],m,h))return!1;return!0}function wt(h,v){for(var m=-1,S=h==null?0:h.length,D=0,J=[];++m<S;){var de=h[m];v(de,m,h)&&(J[D++]=de)}return J}function Jn(h,v){var m=h==null?0:h.length;return!!m&&Qt(h,v,0)>-1}function ui(h,v,m){for(var S=-1,D=h==null?0:h.length;++S<D;)if(m(v,h[S]))return!0;return!1}function se(h,v){for(var m=-1,S=h==null?0:h.length,D=Array(S);++m<S;)D[m]=v(h[m],m,h);return D}function bt(h,v){for(var m=-1,S=v.length,D=h.length;++m<S;)h[D+m]=v[m];return h}function ci(h,v,m,S){var D=-1,J=h==null?0:h.length;for(S&&J&&(m=h[++D]);++D<J;)m=v(m,h[D],D,h);return m}function Hc(h,v,m,S){var D=h==null?0:h.length;for(S&&D&&(m=h[--D]);D--;)m=v(m,h[D],D,h);return m}function li(h,v){for(var m=-1,S=h==null?0:h.length;++m<S;)if(v(h[m],m,h))return!0;return!1}var $c=fi("length");function qc(h){return h.split("")}function Kc(h){return h.match(ju)||[]}function ca(h,v,m){var S;return m(h,function(D,J,de){if(v(D,J,de))return S=J,!1}),S}function Qn(h,v,m,S){for(var D=h.length,J=m+(S?1:-1);S?J--:++J<D;)if(v(h[J],J,h))return J;return-1}function Qt(h,v,m){return v===v?rl(h,v,m):Qn(h,la,m)}function zc(h,v,m,S){for(var D=m-1,J=h.length;++D<J;)if(S(h[D],v))return D;return-1}function la(h){return h!==h}function fa(h,v){var m=h==null?0:h.length;return m?hi(h,v)/m:Hn}function fi(h){return function(v){return v==null?u:v[h]}}function gi(h){return function(v){return h==null?u:h[v]}}function ga(h,v,m,S,D){return D(h,function(J,de,ee){m=S?(S=!1,J):v(m,J,de,ee)}),m}function Yc(h,v){var m=h.length;for(h.sort(v);m--;)h[m]=h[m].value;return h}function hi(h,v){for(var m,S=-1,D=h.length;++S<D;){var J=v(h[S]);J!==u&&(m=m===u?J:m+J)}return m}function pi(h,v){for(var m=-1,S=Array(h);++m<h;)S[m]=v(m);return S}function Zc(h,v){return se(v,function(m){return[m,h[m]]})}function ha(h){return h&&h.slice(0,va(h)+1).replace(ei,"")}function Be(h){return function(v){return h(v)}}function di(h,v){return se(v,function(m){return h[m]})}function Cn(h,v){return h.has(v)}function pa(h,v){for(var m=-1,S=h.length;++m<S&&Qt(v,h[m],0)>-1;);return m}function da(h,v){for(var m=h.length;m--&&Qt(v,h[m],0)>-1;);return m}function Xc(h,v){for(var m=h.length,S=0;m--;)h[m]===v&&++S;return S}var Jc=gi(kc),Qc=gi(Lc);function Vc(h){return"\\"+Nc[h]}function jc(h,v){return h==null?u:h[v]}function Vt(h){return Pc.test(h)}function el(h){return Mc.test(h)}function tl(h){for(var v,m=[];!(v=h.next()).done;)m.push(v.value);return m}function mi(h){var v=-1,m=Array(h.size);return h.forEach(function(S,D){m[++v]=[D,S]}),m}function ma(h,v){return function(m){return h(v(m))}}function Ct(h,v){for(var m=-1,S=h.length,D=0,J=[];++m<S;){var de=h[m];(de===v||de===E)&&(h[m]=E,J[D++]=m)}return J}function Vn(h){var v=-1,m=Array(h.size);return h.forEach(function(S){m[++v]=S}),m}function nl(h){var v=-1,m=Array(h.size);return h.forEach(function(S){m[++v]=[S,S]}),m}function rl(h,v,m){for(var S=m-1,D=h.length;++S<D;)if(h[S]===v)return S;return-1}function il(h,v,m){for(var S=m+1;S--;)if(h[S]===v)return S;return S}function jt(h){return Vt(h)?al(h):$c(h)}function et(h){return Vt(h)?ol(h):qc(h)}function va(h){for(var v=h.length;v--&&Xu.test(h.charAt(v)););return v}var sl=gi(Dc);function al(h){for(var v=si.lastIndex=0;si.test(h);)++v;return v}function ol(h){return h.match(si)||[]}function ul(h){return h.match(Ec)||[]}var cl=function h(v){v=v==null?_e:Tt.defaults(_e.Object(),v,Tt.pick(_e,Rc));var m=v.Array,S=v.Date,D=v.Error,J=v.Function,de=v.Math,ee=v.Object,vi=v.RegExp,ll=v.String,ze=v.TypeError,jn=m.prototype,fl=J.prototype,en=ee.prototype,er=v["__core-js_shared__"],tr=fl.toString,V=en.hasOwnProperty,gl=0,_a=function(){var e=/[^.]+$/.exec(er&&er.keys&&er.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),nr=en.toString,hl=tr.call(ee),pl=_e._,dl=vi("^"+tr.call(V).replace(jr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),rr=ta?v.Buffer:u,St=v.Symbol,ir=v.Uint8Array,Aa=rr?rr.allocUnsafe:u,sr=ma(ee.getPrototypeOf,ee),ya=ee.create,xa=en.propertyIsEnumerable,ar=jn.splice,wa=St?St.isConcatSpreadable:u,Tn=St?St.iterator:u,Bt=St?St.toStringTag:u,or=function(){try{var e=$t(ee,"defineProperty");return e({},"",{}),e}catch{}}(),ml=v.clearTimeout!==_e.clearTimeout&&v.clearTimeout,vl=S&&S.now!==_e.Date.now&&S.now,_l=v.setTimeout!==_e.setTimeout&&v.setTimeout,ur=de.ceil,cr=de.floor,_i=ee.getOwnPropertySymbols,Al=rr?rr.isBuffer:u,ba=v.isFinite,yl=jn.join,xl=ma(ee.keys,ee),me=de.max,we=de.min,wl=S.now,bl=v.parseInt,Ca=de.random,Cl=jn.reverse,Ai=$t(v,"DataView"),Sn=$t(v,"Map"),yi=$t(v,"Promise"),tn=$t(v,"Set"),In=$t(v,"WeakMap"),En=$t(ee,"create"),lr=In&&new In,nn={},Tl=qt(Ai),Sl=qt(Sn),Il=qt(yi),El=qt(tn),Pl=qt(In),fr=St?St.prototype:u,Pn=fr?fr.valueOf:u,Ta=fr?fr.toString:u;function a(e){if(ue(e)&&!N(e)&&!(e instanceof K)){if(e instanceof Ye)return e;if(V.call(e,"__wrapped__"))return Io(e)}return new Ye(e)}var rn=function(){function e(){}return function(t){if(!ae(t))return{};if(ya)return ya(t);e.prototype=t;var n=new e;return e.prototype=u,n}}();function gr(){}function Ye(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=u}a.templateSettings={escape:$u,evaluate:qu,interpolate:Ls,variable:"",imports:{_:a}},a.prototype=gr.prototype,a.prototype.constructor=a,Ye.prototype=rn(gr.prototype),Ye.prototype.constructor=Ye;function K(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=st,this.__views__=[]}function Ml(){var e=new K(this.__wrapped__);return e.__actions__=Re(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Re(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Re(this.__views__),e}function Rl(){if(this.__filtered__){var e=new K(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Ol(){var e=this.__wrapped__.value(),t=this.__dir__,n=N(e),r=t<0,s=n?e.length:0,o=Kf(0,s,this.__views__),l=o.start,g=o.end,p=g-l,_=r?g:l-1,A=this.__iteratees__,y=A.length,w=0,I=we(p,this.__takeCount__);if(!n||!r&&s==p&&I==p)return Xa(e,this.__actions__);var R=[];e:for(;p--&&w<I;){_+=t;for(var F=-1,O=e[_];++F<y;){var q=A[F],z=q.iteratee,We=q.type,Pe=z(O);if(We==ge)O=Pe;else if(!Pe){if(We==Se)continue e;break e}}R[w++]=O}return R}K.prototype=rn(gr.prototype),K.prototype.constructor=K;function Ft(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function kl(){this.__data__=En?En(null):{},this.size=0}function Ll(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Dl(e){var t=this.__data__;if(En){var n=t[e];return n===C?u:n}return V.call(t,e)?t[e]:u}function Nl(e){var t=this.__data__;return En?t[e]!==u:V.call(t,e)}function Gl(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=En&&t===u?C:t,this}Ft.prototype.clear=kl,Ft.prototype.delete=Ll,Ft.prototype.get=Dl,Ft.prototype.has=Nl,Ft.prototype.set=Gl;function ft(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Bl(){this.__data__=[],this.size=0}function Fl(e){var t=this.__data__,n=hr(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():ar.call(t,n,1),--this.size,!0}function Ul(e){var t=this.__data__,n=hr(t,e);return n<0?u:t[n][1]}function Wl(e){return hr(this.__data__,e)>-1}function Hl(e,t){var n=this.__data__,r=hr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}ft.prototype.clear=Bl,ft.prototype.delete=Fl,ft.prototype.get=Ul,ft.prototype.has=Wl,ft.prototype.set=Hl;function gt(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function $l(){this.size=0,this.__data__={hash:new Ft,map:new(Sn||ft),string:new Ft}}function ql(e){var t=Tr(this,e).delete(e);return this.size-=t?1:0,t}function Kl(e){return Tr(this,e).get(e)}function zl(e){return Tr(this,e).has(e)}function Yl(e,t){var n=Tr(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}gt.prototype.clear=$l,gt.prototype.delete=ql,gt.prototype.get=Kl,gt.prototype.has=zl,gt.prototype.set=Yl;function Ut(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new gt;++t<n;)this.add(e[t])}function Zl(e){return this.__data__.set(e,C),this}function Xl(e){return this.__data__.has(e)}Ut.prototype.add=Ut.prototype.push=Zl,Ut.prototype.has=Xl;function tt(e){var t=this.__data__=new ft(e);this.size=t.size}function Jl(){this.__data__=new ft,this.size=0}function Ql(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function Vl(e){return this.__data__.get(e)}function jl(e){return this.__data__.has(e)}function ef(e,t){var n=this.__data__;if(n instanceof ft){var r=n.__data__;if(!Sn||r.length<c-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new gt(r)}return n.set(e,t),this.size=n.size,this}tt.prototype.clear=Jl,tt.prototype.delete=Ql,tt.prototype.get=Vl,tt.prototype.has=jl,tt.prototype.set=ef;function Sa(e,t){var n=N(e),r=!n&&Kt(e),s=!n&&!r&&Rt(e),o=!n&&!r&&!s&&un(e),l=n||r||s||o,g=l?pi(e.length,ll):[],p=g.length;for(var _ in e)(t||V.call(e,_))&&!(l&&(_=="length"||s&&(_=="offset"||_=="parent")||o&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||mt(_,p)))&&g.push(_);return g}function Ia(e){var t=e.length;return t?e[Ri(0,t-1)]:u}function tf(e,t){return Sr(Re(e),Wt(t,0,e.length))}function nf(e){return Sr(Re(e))}function xi(e,t,n){(n!==u&&!nt(e[t],n)||n===u&&!(t in e))&&ht(e,t,n)}function Mn(e,t,n){var r=e[t];(!(V.call(e,t)&&nt(r,n))||n===u&&!(t in e))&&ht(e,t,n)}function hr(e,t){for(var n=e.length;n--;)if(nt(e[n][0],t))return n;return-1}function rf(e,t,n,r){return It(e,function(s,o,l){t(r,s,n(s),l)}),r}function Ea(e,t){return e&&ot(t,Ae(t),e)}function sf(e,t){return e&&ot(t,ke(t),e)}function ht(e,t,n){t=="__proto__"&&or?or(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function wi(e,t){for(var n=-1,r=t.length,s=m(r),o=e==null;++n<r;)s[n]=o?u:ns(e,t[n]);return s}function Wt(e,t,n){return e===e&&(n!==u&&(e=e<=n?e:n),t!==u&&(e=e>=t?e:t)),e}function Ze(e,t,n,r,s,o){var l,g=t&M,p=t&B,_=t&L;if(n&&(l=s?n(e,r,s,o):n(e)),l!==u)return l;if(!ae(e))return e;var A=N(e);if(A){if(l=Yf(e),!g)return Re(e,l)}else{var y=be(e),w=y==Kn||y==Ms;if(Rt(e))return Va(e,g);if(y==lt||y==Zt||w&&!s){if(l=p||w?{}:_o(e),!g)return p?Nf(e,sf(l,e)):Df(e,Ea(l,e))}else{if(!te[y])return s?e:{};l=Zf(e,y,g)}}o||(o=new tt);var I=o.get(e);if(I)return I;o.set(e,l),Yo(e)?e.forEach(function(O){l.add(Ze(O,t,n,O,e,o))}):Ko(e)&&e.forEach(function(O,q){l.set(q,Ze(O,t,n,q,e,o))});var R=_?p?Hi:Wi:p?ke:Ae,F=A?u:R(e);return Ke(F||e,function(O,q){F&&(q=O,O=e[q]),Mn(l,q,Ze(O,t,n,q,e,o))}),l}function af(e){var t=Ae(e);return function(n){return Pa(n,e,t)}}function Pa(e,t,n){var r=n.length;if(e==null)return!r;for(e=ee(e);r--;){var s=n[r],o=t[s],l=e[s];if(l===u&&!(s in e)||!o(l))return!1}return!0}function Ma(e,t,n){if(typeof e!="function")throw new ze(d);return Gn(function(){e.apply(u,n)},t)}function Rn(e,t,n,r){var s=-1,o=Jn,l=!0,g=e.length,p=[],_=t.length;if(!g)return p;n&&(t=se(t,Be(n))),r?(o=ui,l=!1):t.length>=c&&(o=Cn,l=!1,t=new Ut(t));e:for(;++s<g;){var A=e[s],y=n==null?A:n(A);if(A=r||A!==0?A:0,l&&y===y){for(var w=_;w--;)if(t[w]===y)continue e;p.push(A)}else o(t,y,r)||p.push(A)}return p}var It=ro(at),Ra=ro(Ci,!0);function of(e,t){var n=!0;return It(e,function(r,s,o){return n=!!t(r,s,o),n}),n}function pr(e,t,n){for(var r=-1,s=e.length;++r<s;){var o=e[r],l=t(o);if(l!=null&&(g===u?l===l&&!Ue(l):n(l,g)))var g=l,p=o}return p}function uf(e,t,n,r){var s=e.length;for(n=G(n),n<0&&(n=-n>s?0:s+n),r=r===u||r>s?s:G(r),r<0&&(r+=s),r=n>r?0:Xo(r);n<r;)e[n++]=t;return e}function Oa(e,t){var n=[];return It(e,function(r,s,o){t(r,s,o)&&n.push(r)}),n}function ye(e,t,n,r,s){var o=-1,l=e.length;for(n||(n=Jf),s||(s=[]);++o<l;){var g=e[o];t>0&&n(g)?t>1?ye(g,t-1,n,r,s):bt(s,g):r||(s[s.length]=g)}return s}var bi=io(),ka=io(!0);function at(e,t){return e&&bi(e,t,Ae)}function Ci(e,t){return e&&ka(e,t,Ae)}function dr(e,t){return wt(t,function(n){return vt(e[n])})}function Ht(e,t){t=Pt(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[ut(t[n++])];return n&&n==r?e:u}function La(e,t,n){var r=t(e);return N(e)?r:bt(r,n(e))}function Ie(e){return e==null?e===u?Nu:Lu:Bt&&Bt in ee(e)?qf(e):rg(e)}function Ti(e,t){return e>t}function cf(e,t){return e!=null&&V.call(e,t)}function lf(e,t){return e!=null&&t in ee(e)}function ff(e,t,n){return e>=we(t,n)&&e<me(t,n)}function Si(e,t,n){for(var r=n?ui:Jn,s=e[0].length,o=e.length,l=o,g=m(o),p=1/0,_=[];l--;){var A=e[l];l&&t&&(A=se(A,Be(t))),p=we(A.length,p),g[l]=!n&&(t||s>=120&&A.length>=120)?new Ut(l&&A):u}A=e[0];var y=-1,w=g[0];e:for(;++y<s&&_.length<p;){var I=A[y],R=t?t(I):I;if(I=n||I!==0?I:0,!(w?Cn(w,R):r(_,R,n))){for(l=o;--l;){var F=g[l];if(!(F?Cn(F,R):r(e[l],R,n)))continue e}w&&w.push(R),_.push(I)}}return _}function gf(e,t,n,r){return at(e,function(s,o,l){t(r,n(s),o,l)}),r}function On(e,t,n){t=Pt(t,e),e=wo(e,t);var r=e==null?e:e[ut(Je(t))];return r==null?u:Ge(r,e,n)}function Da(e){return ue(e)&&Ie(e)==Zt}function hf(e){return ue(e)&&Ie(e)==bn}function pf(e){return ue(e)&&Ie(e)==_n}function kn(e,t,n,r,s){return e===t?!0:e==null||t==null||!ue(e)&&!ue(t)?e!==e&&t!==t:df(e,t,n,r,kn,s)}function df(e,t,n,r,s,o){var l=N(e),g=N(t),p=l?$n:be(e),_=g?$n:be(t);p=p==Zt?lt:p,_=_==Zt?lt:_;var A=p==lt,y=_==lt,w=p==_;if(w&&Rt(e)){if(!Rt(t))return!1;l=!0,A=!1}if(w&&!A)return o||(o=new tt),l||un(e)?po(e,t,n,r,s,o):Hf(e,t,p,n,r,s,o);if(!(n&W)){var I=A&&V.call(e,"__wrapped__"),R=y&&V.call(t,"__wrapped__");if(I||R){var F=I?e.value():e,O=R?t.value():t;return o||(o=new tt),s(F,O,n,r,o)}}return w?(o||(o=new tt),$f(e,t,n,r,s,o)):!1}function mf(e){return ue(e)&&be(e)==Ve}function Ii(e,t,n,r){var s=n.length,o=s,l=!r;if(e==null)return!o;for(e=ee(e);s--;){var g=n[s];if(l&&g[2]?g[1]!==e[g[0]]:!(g[0]in e))return!1}for(;++s<o;){g=n[s];var p=g[0],_=e[p],A=g[1];if(l&&g[2]){if(_===u&&!(p in e))return!1}else{var y=new tt;if(r)var w=r(_,A,p,e,t,y);if(!(w===u?kn(A,_,W|Y,r,y):w))return!1}}return!0}function Na(e){if(!ae(e)||Vf(e))return!1;var t=vt(e)?dl:sc;return t.test(qt(e))}function vf(e){return ue(e)&&Ie(e)==yn}function _f(e){return ue(e)&&be(e)==je}function Af(e){return ue(e)&&Or(e.length)&&!!re[Ie(e)]}function Ga(e){return typeof e=="function"?e:e==null?Le:typeof e=="object"?N(e)?Ua(e[0],e[1]):Fa(e):au(e)}function Ei(e){if(!Nn(e))return xl(e);var t=[];for(var n in ee(e))V.call(e,n)&&n!="constructor"&&t.push(n);return t}function yf(e){if(!ae(e))return ng(e);var t=Nn(e),n=[];for(var r in e)r=="constructor"&&(t||!V.call(e,r))||n.push(r);return n}function Pi(e,t){return e<t}function Ba(e,t){var n=-1,r=Oe(e)?m(e.length):[];return It(e,function(s,o,l){r[++n]=t(s,o,l)}),r}function Fa(e){var t=qi(e);return t.length==1&&t[0][2]?yo(t[0][0],t[0][1]):function(n){return n===e||Ii(n,e,t)}}function Ua(e,t){return zi(e)&&Ao(t)?yo(ut(e),t):function(n){var r=ns(n,e);return r===u&&r===t?rs(n,e):kn(t,r,W|Y)}}function mr(e,t,n,r,s){e!==t&&bi(t,function(o,l){if(s||(s=new tt),ae(o))xf(e,t,l,n,mr,r,s);else{var g=r?r(Zi(e,l),o,l+"",e,t,s):u;g===u&&(g=o),xi(e,l,g)}},ke)}function xf(e,t,n,r,s,o,l){var g=Zi(e,n),p=Zi(t,n),_=l.get(p);if(_){xi(e,n,_);return}var A=o?o(g,p,n+"",e,t,l):u,y=A===u;if(y){var w=N(p),I=!w&&Rt(p),R=!w&&!I&&un(p);A=p,w||I||R?N(g)?A=g:le(g)?A=Re(g):I?(y=!1,A=Va(p,!0)):R?(y=!1,A=ja(p,!0)):A=[]:Bn(p)||Kt(p)?(A=g,Kt(g)?A=Jo(g):(!ae(g)||vt(g))&&(A=_o(p))):y=!1}y&&(l.set(p,A),s(A,p,r,o,l),l.delete(p)),xi(e,n,A)}function Wa(e,t){var n=e.length;if(!!n)return t+=t<0?n:0,mt(t,n)?e[t]:u}function Ha(e,t,n){t.length?t=se(t,function(o){return N(o)?function(l){return Ht(l,o.length===1?o[0]:o)}:o}):t=[Le];var r=-1;t=se(t,Be(P()));var s=Ba(e,function(o,l,g){var p=se(t,function(_){return _(o)});return{criteria:p,index:++r,value:o}});return Yc(s,function(o,l){return Lf(o,l,n)})}function wf(e,t){return $a(e,t,function(n,r){return rs(e,r)})}function $a(e,t,n){for(var r=-1,s=t.length,o={};++r<s;){var l=t[r],g=Ht(e,l);n(g,l)&&Ln(o,Pt(l,e),g)}return o}function bf(e){return function(t){return Ht(t,e)}}function Mi(e,t,n,r){var s=r?zc:Qt,o=-1,l=t.length,g=e;for(e===t&&(t=Re(t)),n&&(g=se(e,Be(n)));++o<l;)for(var p=0,_=t[o],A=n?n(_):_;(p=s(g,A,p,r))>-1;)g!==e&&ar.call(g,p,1),ar.call(e,p,1);return e}function qa(e,t){for(var n=e?t.length:0,r=n-1;n--;){var s=t[n];if(n==r||s!==o){var o=s;mt(s)?ar.call(e,s,1):Li(e,s)}}return e}function Ri(e,t){return e+cr(Ca()*(t-e+1))}function Cf(e,t,n,r){for(var s=-1,o=me(ur((t-e)/(n||1)),0),l=m(o);o--;)l[r?o:++s]=e,e+=n;return l}function Oi(e,t){var n="";if(!e||t<1||t>pe)return n;do t%2&&(n+=e),t=cr(t/2),t&&(e+=e);while(t);return n}function U(e,t){return Xi(xo(e,t,Le),e+"")}function Tf(e){return Ia(cn(e))}function Sf(e,t){var n=cn(e);return Sr(n,Wt(t,0,n.length))}function Ln(e,t,n,r){if(!ae(e))return e;t=Pt(t,e);for(var s=-1,o=t.length,l=o-1,g=e;g!=null&&++s<o;){var p=ut(t[s]),_=n;if(p==="__proto__"||p==="constructor"||p==="prototype")return e;if(s!=l){var A=g[p];_=r?r(A,p,g):u,_===u&&(_=ae(A)?A:mt(t[s+1])?[]:{})}Mn(g,p,_),g=g[p]}return e}var Ka=lr?function(e,t){return lr.set(e,t),e}:Le,If=or?function(e,t){return or(e,"toString",{configurable:!0,enumerable:!1,value:ss(t),writable:!0})}:Le;function Ef(e){return Sr(cn(e))}function Xe(e,t,n){var r=-1,s=e.length;t<0&&(t=-t>s?0:s+t),n=n>s?s:n,n<0&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(var o=m(s);++r<s;)o[r]=e[r+t];return o}function Pf(e,t){var n;return It(e,function(r,s,o){return n=t(r,s,o),!n}),!!n}function vr(e,t,n){var r=0,s=e==null?r:e.length;if(typeof t=="number"&&t===t&&s<=Mu){for(;r<s;){var o=r+s>>>1,l=e[o];l!==null&&!Ue(l)&&(n?l<=t:l<t)?r=o+1:s=o}return s}return ki(e,t,Le,n)}function ki(e,t,n,r){var s=0,o=e==null?0:e.length;if(o===0)return 0;t=n(t);for(var l=t!==t,g=t===null,p=Ue(t),_=t===u;s<o;){var A=cr((s+o)/2),y=n(e[A]),w=y!==u,I=y===null,R=y===y,F=Ue(y);if(l)var O=r||R;else _?O=R&&(r||w):g?O=R&&w&&(r||!I):p?O=R&&w&&!I&&(r||!F):I||F?O=!1:O=r?y<=t:y<t;O?s=A+1:o=A}return we(o,Pu)}function za(e,t){for(var n=-1,r=e.length,s=0,o=[];++n<r;){var l=e[n],g=t?t(l):l;if(!n||!nt(g,p)){var p=g;o[s++]=l===0?0:l}}return o}function Ya(e){return typeof e=="number"?e:Ue(e)?Hn:+e}function Fe(e){if(typeof e=="string")return e;if(N(e))return se(e,Fe)+"";if(Ue(e))return Ta?Ta.call(e):"";var t=e+"";return t=="0"&&1/e==-Ne?"-0":t}function Et(e,t,n){var r=-1,s=Jn,o=e.length,l=!0,g=[],p=g;if(n)l=!1,s=ui;else if(o>=c){var _=t?null:Uf(e);if(_)return Vn(_);l=!1,s=Cn,p=new Ut}else p=t?[]:g;e:for(;++r<o;){var A=e[r],y=t?t(A):A;if(A=n||A!==0?A:0,l&&y===y){for(var w=p.length;w--;)if(p[w]===y)continue e;t&&p.push(y),g.push(A)}else s(p,y,n)||(p!==g&&p.push(y),g.push(A))}return g}function Li(e,t){return t=Pt(t,e),e=wo(e,t),e==null||delete e[ut(Je(t))]}function Za(e,t,n,r){return Ln(e,t,n(Ht(e,t)),r)}function _r(e,t,n,r){for(var s=e.length,o=r?s:-1;(r?o--:++o<s)&&t(e[o],o,e););return n?Xe(e,r?0:o,r?o+1:s):Xe(e,r?o+1:0,r?s:o)}function Xa(e,t){var n=e;return n instanceof K&&(n=n.value()),ci(t,function(r,s){return s.func.apply(s.thisArg,bt([r],s.args))},n)}function Di(e,t,n){var r=e.length;if(r<2)return r?Et(e[0]):[];for(var s=-1,o=m(r);++s<r;)for(var l=e[s],g=-1;++g<r;)g!=s&&(o[s]=Rn(o[s]||l,e[g],t,n));return Et(ye(o,1),t,n)}function Ja(e,t,n){for(var r=-1,s=e.length,o=t.length,l={};++r<s;){var g=r<o?t[r]:u;n(l,e[r],g)}return l}function Ni(e){return le(e)?e:[]}function Gi(e){return typeof e=="function"?e:Le}function Pt(e,t){return N(e)?e:zi(e,t)?[e]:So(Q(e))}var Mf=U;function Mt(e,t,n){var r=e.length;return n=n===u?r:n,!t&&n>=r?e:Xe(e,t,n)}var Qa=ml||function(e){return _e.clearTimeout(e)};function Va(e,t){if(t)return e.slice();var n=e.length,r=Aa?Aa(n):new e.constructor(n);return e.copy(r),r}function Bi(e){var t=new e.constructor(e.byteLength);return new ir(t).set(new ir(e)),t}function Rf(e,t){var n=t?Bi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function Of(e){var t=new e.constructor(e.source,Ds.exec(e));return t.lastIndex=e.lastIndex,t}function kf(e){return Pn?ee(Pn.call(e)):{}}function ja(e,t){var n=t?Bi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function eo(e,t){if(e!==t){var n=e!==u,r=e===null,s=e===e,o=Ue(e),l=t!==u,g=t===null,p=t===t,_=Ue(t);if(!g&&!_&&!o&&e>t||o&&l&&p&&!g&&!_||r&&l&&p||!n&&p||!s)return 1;if(!r&&!o&&!_&&e<t||_&&n&&s&&!r&&!o||g&&n&&s||!l&&s||!p)return-1}return 0}function Lf(e,t,n){for(var r=-1,s=e.criteria,o=t.criteria,l=s.length,g=n.length;++r<l;){var p=eo(s[r],o[r]);if(p){if(r>=g)return p;var _=n[r];return p*(_=="desc"?-1:1)}}return e.index-t.index}function to(e,t,n,r){for(var s=-1,o=e.length,l=n.length,g=-1,p=t.length,_=me(o-l,0),A=m(p+_),y=!r;++g<p;)A[g]=t[g];for(;++s<l;)(y||s<o)&&(A[n[s]]=e[s]);for(;_--;)A[g++]=e[s++];return A}function no(e,t,n,r){for(var s=-1,o=e.length,l=-1,g=n.length,p=-1,_=t.length,A=me(o-g,0),y=m(A+_),w=!r;++s<A;)y[s]=e[s];for(var I=s;++p<_;)y[I+p]=t[p];for(;++l<g;)(w||s<o)&&(y[I+n[l]]=e[s++]);return y}function Re(e,t){var n=-1,r=e.length;for(t||(t=m(r));++n<r;)t[n]=e[n];return t}function ot(e,t,n,r){var s=!n;n||(n={});for(var o=-1,l=t.length;++o<l;){var g=t[o],p=r?r(n[g],e[g],g,n,e):u;p===u&&(p=e[g]),s?ht(n,g,p):Mn(n,g,p)}return n}function Df(e,t){return ot(e,Ki(e),t)}function Nf(e,t){return ot(e,mo(e),t)}function Ar(e,t){return function(n,r){var s=N(n)?Uc:rf,o=t?t():{};return s(n,e,P(r,2),o)}}function sn(e){return U(function(t,n){var r=-1,s=n.length,o=s>1?n[s-1]:u,l=s>2?n[2]:u;for(o=e.length>3&&typeof o=="function"?(s--,o):u,l&&Ee(n[0],n[1],l)&&(o=s<3?u:o,s=1),t=ee(t);++r<s;){var g=n[r];g&&e(t,g,r,o)}return t})}function ro(e,t){return function(n,r){if(n==null)return n;if(!Oe(n))return e(n,r);for(var s=n.length,o=t?s:-1,l=ee(n);(t?o--:++o<s)&&r(l[o],o,l)!==!1;);return n}}function io(e){return function(t,n,r){for(var s=-1,o=ee(t),l=r(t),g=l.length;g--;){var p=l[e?g:++s];if(n(o[p],p,o)===!1)break}return t}}function Gf(e,t,n){var r=t&Z,s=Dn(e);function o(){var l=this&&this!==_e&&this instanceof o?s:e;return l.apply(r?n:this,arguments)}return o}function so(e){return function(t){t=Q(t);var n=Vt(t)?et(t):u,r=n?n[0]:t.charAt(0),s=n?Mt(n,1).join(""):t.slice(1);return r[e]()+s}}function an(e){return function(t){return ci(iu(ru(t).replace(Sc,"")),e,"")}}function Dn(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=rn(e.prototype),r=e.apply(n,t);return ae(r)?r:n}}function Bf(e,t,n){var r=Dn(e);function s(){for(var o=arguments.length,l=m(o),g=o,p=on(s);g--;)l[g]=arguments[g];var _=o<3&&l[0]!==p&&l[o-1]!==p?[]:Ct(l,p);if(o-=_.length,o<n)return lo(e,t,yr,s.placeholder,u,l,_,u,u,n-o);var A=this&&this!==_e&&this instanceof s?r:e;return Ge(A,this,l)}return s}function ao(e){return function(t,n,r){var s=ee(t);if(!Oe(t)){var o=P(n,3);t=Ae(t),n=function(g){return o(s[g],g,s)}}var l=e(t,n,r);return l>-1?s[o?t[l]:l]:u}}function oo(e){return dt(function(t){var n=t.length,r=n,s=Ye.prototype.thru;for(e&&t.reverse();r--;){var o=t[r];if(typeof o!="function")throw new ze(d);if(s&&!l&&Cr(o)=="wrapper")var l=new Ye([],!0)}for(r=l?r:n;++r<n;){o=t[r];var g=Cr(o),p=g=="wrapper"?$i(o):u;p&&Yi(p[0])&&p[1]==(T|j|ce|H)&&!p[4].length&&p[9]==1?l=l[Cr(p[0])].apply(l,p[3]):l=o.length==1&&Yi(o)?l[g]():l.thru(o)}return function(){var _=arguments,A=_[0];if(l&&_.length==1&&N(A))return l.plant(A).value();for(var y=0,w=n?t[y].apply(this,_):A;++y<n;)w=t[y].call(this,w);return w}})}function yr(e,t,n,r,s,o,l,g,p,_){var A=t&T,y=t&Z,w=t&ne,I=t&(j|oe),R=t&X,F=w?u:Dn(e);function O(){for(var q=arguments.length,z=m(q),We=q;We--;)z[We]=arguments[We];if(I)var Pe=on(O),He=Xc(z,Pe);if(r&&(z=to(z,r,s,I)),o&&(z=no(z,o,l,I)),q-=He,I&&q<_){var fe=Ct(z,Pe);return lo(e,t,yr,O.placeholder,n,z,fe,g,p,_-q)}var rt=y?n:this,At=w?rt[e]:e;return q=z.length,g?z=ig(z,g):R&&q>1&&z.reverse(),A&&p<q&&(z.length=p),this&&this!==_e&&this instanceof O&&(At=F||Dn(At)),At.apply(rt,z)}return O}function uo(e,t){return function(n,r){return gf(n,e,t(r),{})}}function xr(e,t){return function(n,r){var s;if(n===u&&r===u)return t;if(n!==u&&(s=n),r!==u){if(s===u)return r;typeof n=="string"||typeof r=="string"?(n=Fe(n),r=Fe(r)):(n=Ya(n),r=Ya(r)),s=e(n,r)}return s}}function Fi(e){return dt(function(t){return t=se(t,Be(P())),U(function(n){var r=this;return e(t,function(s){return Ge(s,r,n)})})})}function wr(e,t){t=t===u?" ":Fe(t);var n=t.length;if(n<2)return n?Oi(t,e):t;var r=Oi(t,ur(e/jt(t)));return Vt(t)?Mt(et(r),0,e).join(""):r.slice(0,e)}function Ff(e,t,n,r){var s=t&Z,o=Dn(e);function l(){for(var g=-1,p=arguments.length,_=-1,A=r.length,y=m(A+p),w=this&&this!==_e&&this instanceof l?o:e;++_<A;)y[_]=r[_];for(;p--;)y[_++]=arguments[++g];return Ge(w,s?n:this,y)}return l}function co(e){return function(t,n,r){return r&&typeof r!="number"&&Ee(t,n,r)&&(n=r=u),t=_t(t),n===u?(n=t,t=0):n=_t(n),r=r===u?t<n?1:-1:_t(r),Cf(t,n,r,e)}}function br(e){return function(t,n){return typeof t=="string"&&typeof n=="string"||(t=Qe(t),n=Qe(n)),e(t,n)}}function lo(e,t,n,r,s,o,l,g,p,_){var A=t&j,y=A?l:u,w=A?u:l,I=A?o:u,R=A?u:o;t|=A?ce:b,t&=~(A?b:ce),t&ve||(t&=~(Z|ne));var F=[e,t,s,I,y,R,w,g,p,_],O=n.apply(u,F);return Yi(e)&&bo(O,F),O.placeholder=r,Co(O,e,t)}function Ui(e){var t=de[e];return function(n,r){if(n=Qe(n),r=r==null?0:we(G(r),292),r&&ba(n)){var s=(Q(n)+"e").split("e"),o=t(s[0]+"e"+(+s[1]+r));return s=(Q(o)+"e").split("e"),+(s[0]+"e"+(+s[1]-r))}return t(n)}}var Uf=tn&&1/Vn(new tn([,-0]))[1]==Ne?function(e){return new tn(e)}:us;function fo(e){return function(t){var n=be(t);return n==Ve?mi(t):n==je?nl(t):Zc(t,e(t))}}function pt(e,t,n,r,s,o,l,g){var p=t&ne;if(!p&&typeof e!="function")throw new ze(d);var _=r?r.length:0;if(_||(t&=~(ce|b),r=s=u),l=l===u?l:me(G(l),0),g=g===u?g:G(g),_-=s?s.length:0,t&b){var A=r,y=s;r=s=u}var w=p?u:$i(e),I=[e,t,n,r,s,A,y,o,l,g];if(w&&tg(I,w),e=I[0],t=I[1],n=I[2],r=I[3],s=I[4],g=I[9]=I[9]===u?p?0:e.length:me(I[9]-_,0),!g&&t&(j|oe)&&(t&=~(j|oe)),!t||t==Z)var R=Gf(e,t,n);else t==j||t==oe?R=Bf(e,t,g):(t==ce||t==(Z|ce))&&!s.length?R=Ff(e,t,n,r):R=yr.apply(u,I);var F=w?Ka:bo;return Co(F(R,I),e,t)}function go(e,t,n,r){return e===u||nt(e,en[n])&&!V.call(r,n)?t:e}function ho(e,t,n,r,s,o){return ae(e)&&ae(t)&&(o.set(t,e),mr(e,t,u,ho,o),o.delete(t)),e}function Wf(e){return Bn(e)?u:e}function po(e,t,n,r,s,o){var l=n&W,g=e.length,p=t.length;if(g!=p&&!(l&&p>g))return!1;var _=o.get(e),A=o.get(t);if(_&&A)return _==t&&A==e;var y=-1,w=!0,I=n&Y?new Ut:u;for(o.set(e,t),o.set(t,e);++y<g;){var R=e[y],F=t[y];if(r)var O=l?r(F,R,y,t,e,o):r(R,F,y,e,t,o);if(O!==u){if(O)continue;w=!1;break}if(I){if(!li(t,function(q,z){if(!Cn(I,z)&&(R===q||s(R,q,n,r,o)))return I.push(z)})){w=!1;break}}else if(!(R===F||s(R,F,n,r,o))){w=!1;break}}return o.delete(e),o.delete(t),w}function Hf(e,t,n,r,s,o,l){switch(n){case Xt:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case bn:return!(e.byteLength!=t.byteLength||!o(new ir(e),new ir(t)));case vn:case _n:case An:return nt(+e,+t);case qn:return e.name==t.name&&e.message==t.message;case yn:case xn:return e==t+"";case Ve:var g=mi;case je:var p=r&W;if(g||(g=Vn),e.size!=t.size&&!p)return!1;var _=l.get(e);if(_)return _==t;r|=Y,l.set(e,t);var A=po(g(e),g(t),r,s,o,l);return l.delete(e),A;case zn:if(Pn)return Pn.call(e)==Pn.call(t)}return!1}function $f(e,t,n,r,s,o){var l=n&W,g=Wi(e),p=g.length,_=Wi(t),A=_.length;if(p!=A&&!l)return!1;for(var y=p;y--;){var w=g[y];if(!(l?w in t:V.call(t,w)))return!1}var I=o.get(e),R=o.get(t);if(I&&R)return I==t&&R==e;var F=!0;o.set(e,t),o.set(t,e);for(var O=l;++y<p;){w=g[y];var q=e[w],z=t[w];if(r)var We=l?r(z,q,w,t,e,o):r(q,z,w,e,t,o);if(!(We===u?q===z||s(q,z,n,r,o):We)){F=!1;break}O||(O=w=="constructor")}if(F&&!O){var Pe=e.constructor,He=t.constructor;Pe!=He&&"constructor"in e&&"constructor"in t&&!(typeof Pe=="function"&&Pe instanceof Pe&&typeof He=="function"&&He instanceof He)&&(F=!1)}return o.delete(e),o.delete(t),F}function dt(e){return Xi(xo(e,u,Mo),e+"")}function Wi(e){return La(e,Ae,Ki)}function Hi(e){return La(e,ke,mo)}var $i=lr?function(e){return lr.get(e)}:us;function Cr(e){for(var t=e.name+"",n=nn[t],r=V.call(nn,t)?n.length:0;r--;){var s=n[r],o=s.func;if(o==null||o==e)return s.name}return t}function on(e){var t=V.call(a,"placeholder")?a:e;return t.placeholder}function P(){var e=a.iteratee||as;return e=e===as?Ga:e,arguments.length?e(arguments[0],arguments[1]):e}function Tr(e,t){var n=e.__data__;return Qf(t)?n[typeof t=="string"?"string":"hash"]:n.map}function qi(e){for(var t=Ae(e),n=t.length;n--;){var r=t[n],s=e[r];t[n]=[r,s,Ao(s)]}return t}function $t(e,t){var n=jc(e,t);return Na(n)?n:u}function qf(e){var t=V.call(e,Bt),n=e[Bt];try{e[Bt]=u;var r=!0}catch{}var s=nr.call(e);return r&&(t?e[Bt]=n:delete e[Bt]),s}var Ki=_i?function(e){return e==null?[]:(e=ee(e),wt(_i(e),function(t){return xa.call(e,t)}))}:cs,mo=_i?function(e){for(var t=[];e;)bt(t,Ki(e)),e=sr(e);return t}:cs,be=Ie;(Ai&&be(new Ai(new ArrayBuffer(1)))!=Xt||Sn&&be(new Sn)!=Ve||yi&&be(yi.resolve())!=Rs||tn&&be(new tn)!=je||In&&be(new In)!=wn)&&(be=function(e){var t=Ie(e),n=t==lt?e.constructor:u,r=n?qt(n):"";if(r)switch(r){case Tl:return Xt;case Sl:return Ve;case Il:return Rs;case El:return je;case Pl:return wn}return t});function Kf(e,t,n){for(var r=-1,s=n.length;++r<s;){var o=n[r],l=o.size;switch(o.type){case"drop":e+=l;break;case"dropRight":t-=l;break;case"take":t=we(t,e+l);break;case"takeRight":e=me(e,t-l);break}}return{start:e,end:t}}function zf(e){var t=e.match(Qu);return t?t[1].split(Vu):[]}function vo(e,t,n){t=Pt(t,e);for(var r=-1,s=t.length,o=!1;++r<s;){var l=ut(t[r]);if(!(o=e!=null&&n(e,l)))break;e=e[l]}return o||++r!=s?o:(s=e==null?0:e.length,!!s&&Or(s)&&mt(l,s)&&(N(e)||Kt(e)))}function Yf(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&V.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function _o(e){return typeof e.constructor=="function"&&!Nn(e)?rn(sr(e)):{}}function Zf(e,t,n){var r=e.constructor;switch(t){case bn:return Bi(e);case vn:case _n:return new r(+e);case Xt:return Rf(e,n);case qr:case Kr:case zr:case Yr:case Zr:case Xr:case Jr:case Qr:case Vr:return ja(e,n);case Ve:return new r;case An:case xn:return new r(e);case yn:return Of(e);case je:return new r;case zn:return kf(e)}}function Xf(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Ju,`{
/* [wrapped with `+t+`] */
`)}function Jf(e){return N(e)||Kt(e)||!!(wa&&e&&e[wa])}function mt(e,t){var n=typeof e;return t=t??pe,!!t&&(n=="number"||n!="symbol"&&oc.test(e))&&e>-1&&e%1==0&&e<t}function Ee(e,t,n){if(!ae(n))return!1;var r=typeof t;return(r=="number"?Oe(n)&&mt(t,n.length):r=="string"&&t in n)?nt(n[t],e):!1}function zi(e,t){if(N(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Ue(e)?!0:zu.test(e)||!Ku.test(e)||t!=null&&e in ee(t)}function Qf(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Yi(e){var t=Cr(e),n=a[t];if(typeof n!="function"||!(t in K.prototype))return!1;if(e===n)return!0;var r=$i(n);return!!r&&e===r[0]}function Vf(e){return!!_a&&_a in e}var jf=er?vt:ls;function Nn(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||en;return e===n}function Ao(e){return e===e&&!ae(e)}function yo(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==u||e in ee(n))}}function eg(e){var t=Mr(e,function(r){return n.size===k&&n.clear(),r}),n=t.cache;return t}function tg(e,t){var n=e[1],r=t[1],s=n|r,o=s<(Z|ne|T),l=r==T&&n==j||r==T&&n==H&&e[7].length<=t[8]||r==(T|H)&&t[7].length<=t[8]&&n==j;if(!(o||l))return e;r&Z&&(e[2]=t[2],s|=n&Z?0:ve);var g=t[3];if(g){var p=e[3];e[3]=p?to(p,g,t[4]):g,e[4]=p?Ct(e[3],E):t[4]}return g=t[5],g&&(p=e[5],e[5]=p?no(p,g,t[6]):g,e[6]=p?Ct(e[5],E):t[6]),g=t[7],g&&(e[7]=g),r&T&&(e[8]=e[8]==null?t[8]:we(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=s,e}function ng(e){var t=[];if(e!=null)for(var n in ee(e))t.push(n);return t}function rg(e){return nr.call(e)}function xo(e,t,n){return t=me(t===u?e.length-1:t,0),function(){for(var r=arguments,s=-1,o=me(r.length-t,0),l=m(o);++s<o;)l[s]=r[t+s];s=-1;for(var g=m(t+1);++s<t;)g[s]=r[s];return g[t]=n(l),Ge(e,this,g)}}function wo(e,t){return t.length<2?e:Ht(e,Xe(t,0,-1))}function ig(e,t){for(var n=e.length,r=we(t.length,n),s=Re(e);r--;){var o=t[r];e[r]=mt(o,n)?s[o]:u}return e}function Zi(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var bo=To(Ka),Gn=_l||function(e,t){return _e.setTimeout(e,t)},Xi=To(If);function Co(e,t,n){var r=t+"";return Xi(e,Xf(r,sg(zf(r),n)))}function To(e){var t=0,n=0;return function(){var r=wl(),s=$-(r-n);if(n=r,s>0){if(++t>=Me)return arguments[0]}else t=0;return e.apply(u,arguments)}}function Sr(e,t){var n=-1,r=e.length,s=r-1;for(t=t===u?r:t;++n<t;){var o=Ri(n,s),l=e[o];e[o]=e[n],e[n]=l}return e.length=t,e}var So=eg(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Yu,function(n,r,s,o){t.push(s?o.replace(tc,"$1"):r||n)}),t});function ut(e){if(typeof e=="string"||Ue(e))return e;var t=e+"";return t=="0"&&1/e==-Ne?"-0":t}function qt(e){if(e!=null){try{return tr.call(e)}catch{}try{return e+""}catch{}}return""}function sg(e,t){return Ke(Ru,function(n){var r="_."+n[0];t&n[1]&&!Jn(e,r)&&e.push(r)}),e.sort()}function Io(e){if(e instanceof K)return e.clone();var t=new Ye(e.__wrapped__,e.__chain__);return t.__actions__=Re(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function ag(e,t,n){(n?Ee(e,t,n):t===u)?t=1:t=me(G(t),0);var r=e==null?0:e.length;if(!r||t<1)return[];for(var s=0,o=0,l=m(ur(r/t));s<r;)l[o++]=Xe(e,s,s+=t);return l}function og(e){for(var t=-1,n=e==null?0:e.length,r=0,s=[];++t<n;){var o=e[t];o&&(s[r++]=o)}return s}function ug(){var e=arguments.length;if(!e)return[];for(var t=m(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return bt(N(n)?Re(n):[n],ye(t,1))}var cg=U(function(e,t){return le(e)?Rn(e,ye(t,1,le,!0)):[]}),lg=U(function(e,t){var n=Je(t);return le(n)&&(n=u),le(e)?Rn(e,ye(t,1,le,!0),P(n,2)):[]}),fg=U(function(e,t){var n=Je(t);return le(n)&&(n=u),le(e)?Rn(e,ye(t,1,le,!0),u,n):[]});function gg(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===u?1:G(t),Xe(e,t<0?0:t,r)):[]}function hg(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===u?1:G(t),t=r-t,Xe(e,0,t<0?0:t)):[]}function pg(e,t){return e&&e.length?_r(e,P(t,3),!0,!0):[]}function dg(e,t){return e&&e.length?_r(e,P(t,3),!0):[]}function mg(e,t,n,r){var s=e==null?0:e.length;return s?(n&&typeof n!="number"&&Ee(e,t,n)&&(n=0,r=s),uf(e,t,n,r)):[]}function Eo(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var s=n==null?0:G(n);return s<0&&(s=me(r+s,0)),Qn(e,P(t,3),s)}function Po(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var s=r-1;return n!==u&&(s=G(n),s=n<0?me(r+s,0):we(s,r-1)),Qn(e,P(t,3),s,!0)}function Mo(e){var t=e==null?0:e.length;return t?ye(e,1):[]}function vg(e){var t=e==null?0:e.length;return t?ye(e,Ne):[]}function _g(e,t){var n=e==null?0:e.length;return n?(t=t===u?1:G(t),ye(e,t)):[]}function Ag(e){for(var t=-1,n=e==null?0:e.length,r={};++t<n;){var s=e[t];r[s[0]]=s[1]}return r}function Ro(e){return e&&e.length?e[0]:u}function yg(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var s=n==null?0:G(n);return s<0&&(s=me(r+s,0)),Qt(e,t,s)}function xg(e){var t=e==null?0:e.length;return t?Xe(e,0,-1):[]}var wg=U(function(e){var t=se(e,Ni);return t.length&&t[0]===e[0]?Si(t):[]}),bg=U(function(e){var t=Je(e),n=se(e,Ni);return t===Je(n)?t=u:n.pop(),n.length&&n[0]===e[0]?Si(n,P(t,2)):[]}),Cg=U(function(e){var t=Je(e),n=se(e,Ni);return t=typeof t=="function"?t:u,t&&n.pop(),n.length&&n[0]===e[0]?Si(n,u,t):[]});function Tg(e,t){return e==null?"":yl.call(e,t)}function Je(e){var t=e==null?0:e.length;return t?e[t-1]:u}function Sg(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var s=r;return n!==u&&(s=G(n),s=s<0?me(r+s,0):we(s,r-1)),t===t?il(e,t,s):Qn(e,la,s,!0)}function Ig(e,t){return e&&e.length?Wa(e,G(t)):u}var Eg=U(Oo);function Oo(e,t){return e&&e.length&&t&&t.length?Mi(e,t):e}function Pg(e,t,n){return e&&e.length&&t&&t.length?Mi(e,t,P(n,2)):e}function Mg(e,t,n){return e&&e.length&&t&&t.length?Mi(e,t,u,n):e}var Rg=dt(function(e,t){var n=e==null?0:e.length,r=wi(e,t);return qa(e,se(t,function(s){return mt(s,n)?+s:s}).sort(eo)),r});function Og(e,t){var n=[];if(!(e&&e.length))return n;var r=-1,s=[],o=e.length;for(t=P(t,3);++r<o;){var l=e[r];t(l,r,e)&&(n.push(l),s.push(r))}return qa(e,s),n}function Ji(e){return e==null?e:Cl.call(e)}function kg(e,t,n){var r=e==null?0:e.length;return r?(n&&typeof n!="number"&&Ee(e,t,n)?(t=0,n=r):(t=t==null?0:G(t),n=n===u?r:G(n)),Xe(e,t,n)):[]}function Lg(e,t){return vr(e,t)}function Dg(e,t,n){return ki(e,t,P(n,2))}function Ng(e,t){var n=e==null?0:e.length;if(n){var r=vr(e,t);if(r<n&&nt(e[r],t))return r}return-1}function Gg(e,t){return vr(e,t,!0)}function Bg(e,t,n){return ki(e,t,P(n,2),!0)}function Fg(e,t){var n=e==null?0:e.length;if(n){var r=vr(e,t,!0)-1;if(nt(e[r],t))return r}return-1}function Ug(e){return e&&e.length?za(e):[]}function Wg(e,t){return e&&e.length?za(e,P(t,2)):[]}function Hg(e){var t=e==null?0:e.length;return t?Xe(e,1,t):[]}function $g(e,t,n){return e&&e.length?(t=n||t===u?1:G(t),Xe(e,0,t<0?0:t)):[]}function qg(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===u?1:G(t),t=r-t,Xe(e,t<0?0:t,r)):[]}function Kg(e,t){return e&&e.length?_r(e,P(t,3),!1,!0):[]}function zg(e,t){return e&&e.length?_r(e,P(t,3)):[]}var Yg=U(function(e){return Et(ye(e,1,le,!0))}),Zg=U(function(e){var t=Je(e);return le(t)&&(t=u),Et(ye(e,1,le,!0),P(t,2))}),Xg=U(function(e){var t=Je(e);return t=typeof t=="function"?t:u,Et(ye(e,1,le,!0),u,t)});function Jg(e){return e&&e.length?Et(e):[]}function Qg(e,t){return e&&e.length?Et(e,P(t,2)):[]}function Vg(e,t){return t=typeof t=="function"?t:u,e&&e.length?Et(e,u,t):[]}function Qi(e){if(!(e&&e.length))return[];var t=0;return e=wt(e,function(n){if(le(n))return t=me(n.length,t),!0}),pi(t,function(n){return se(e,fi(n))})}function ko(e,t){if(!(e&&e.length))return[];var n=Qi(e);return t==null?n:se(n,function(r){return Ge(t,u,r)})}var jg=U(function(e,t){return le(e)?Rn(e,t):[]}),eh=U(function(e){return Di(wt(e,le))}),th=U(function(e){var t=Je(e);return le(t)&&(t=u),Di(wt(e,le),P(t,2))}),nh=U(function(e){var t=Je(e);return t=typeof t=="function"?t:u,Di(wt(e,le),u,t)}),rh=U(Qi);function ih(e,t){return Ja(e||[],t||[],Mn)}function sh(e,t){return Ja(e||[],t||[],Ln)}var ah=U(function(e){var t=e.length,n=t>1?e[t-1]:u;return n=typeof n=="function"?(e.pop(),n):u,ko(e,n)});function Lo(e){var t=a(e);return t.__chain__=!0,t}function oh(e,t){return t(e),e}function Ir(e,t){return t(e)}var uh=dt(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,s=function(o){return wi(o,e)};return t>1||this.__actions__.length||!(r instanceof K)||!mt(n)?this.thru(s):(r=r.slice(n,+n+(t?1:0)),r.__actions__.push({func:Ir,args:[s],thisArg:u}),new Ye(r,this.__chain__).thru(function(o){return t&&!o.length&&o.push(u),o}))});function ch(){return Lo(this)}function lh(){return new Ye(this.value(),this.__chain__)}function fh(){this.__values__===u&&(this.__values__=Zo(this.value()));var e=this.__index__>=this.__values__.length,t=e?u:this.__values__[this.__index__++];return{done:e,value:t}}function gh(){return this}function hh(e){for(var t,n=this;n instanceof gr;){var r=Io(n);r.__index__=0,r.__values__=u,t?s.__wrapped__=r:t=r;var s=r;n=n.__wrapped__}return s.__wrapped__=e,t}function ph(){var e=this.__wrapped__;if(e instanceof K){var t=e;return this.__actions__.length&&(t=new K(this)),t=t.reverse(),t.__actions__.push({func:Ir,args:[Ji],thisArg:u}),new Ye(t,this.__chain__)}return this.thru(Ji)}function dh(){return Xa(this.__wrapped__,this.__actions__)}var mh=Ar(function(e,t,n){V.call(e,n)?++e[n]:ht(e,n,1)});function vh(e,t,n){var r=N(e)?ua:of;return n&&Ee(e,t,n)&&(t=u),r(e,P(t,3))}function _h(e,t){var n=N(e)?wt:Oa;return n(e,P(t,3))}var Ah=ao(Eo),yh=ao(Po);function xh(e,t){return ye(Er(e,t),1)}function wh(e,t){return ye(Er(e,t),Ne)}function bh(e,t,n){return n=n===u?1:G(n),ye(Er(e,t),n)}function Do(e,t){var n=N(e)?Ke:It;return n(e,P(t,3))}function No(e,t){var n=N(e)?Wc:Ra;return n(e,P(t,3))}var Ch=Ar(function(e,t,n){V.call(e,n)?e[n].push(t):ht(e,n,[t])});function Th(e,t,n,r){e=Oe(e)?e:cn(e),n=n&&!r?G(n):0;var s=e.length;return n<0&&(n=me(s+n,0)),kr(e)?n<=s&&e.indexOf(t,n)>-1:!!s&&Qt(e,t,n)>-1}var Sh=U(function(e,t,n){var r=-1,s=typeof t=="function",o=Oe(e)?m(e.length):[];return It(e,function(l){o[++r]=s?Ge(t,l,n):On(l,t,n)}),o}),Ih=Ar(function(e,t,n){ht(e,n,t)});function Er(e,t){var n=N(e)?se:Ba;return n(e,P(t,3))}function Eh(e,t,n,r){return e==null?[]:(N(t)||(t=t==null?[]:[t]),n=r?u:n,N(n)||(n=n==null?[]:[n]),Ha(e,t,n))}var Ph=Ar(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});function Mh(e,t,n){var r=N(e)?ci:ga,s=arguments.length<3;return r(e,P(t,4),n,s,It)}function Rh(e,t,n){var r=N(e)?Hc:ga,s=arguments.length<3;return r(e,P(t,4),n,s,Ra)}function Oh(e,t){var n=N(e)?wt:Oa;return n(e,Rr(P(t,3)))}function kh(e){var t=N(e)?Ia:Tf;return t(e)}function Lh(e,t,n){(n?Ee(e,t,n):t===u)?t=1:t=G(t);var r=N(e)?tf:Sf;return r(e,t)}function Dh(e){var t=N(e)?nf:Ef;return t(e)}function Nh(e){if(e==null)return 0;if(Oe(e))return kr(e)?jt(e):e.length;var t=be(e);return t==Ve||t==je?e.size:Ei(e).length}function Gh(e,t,n){var r=N(e)?li:Pf;return n&&Ee(e,t,n)&&(t=u),r(e,P(t,3))}var Bh=U(function(e,t){if(e==null)return[];var n=t.length;return n>1&&Ee(e,t[0],t[1])?t=[]:n>2&&Ee(t[0],t[1],t[2])&&(t=[t[0]]),Ha(e,ye(t,1),[])}),Pr=vl||function(){return _e.Date.now()};function Fh(e,t){if(typeof t!="function")throw new ze(d);return e=G(e),function(){if(--e<1)return t.apply(this,arguments)}}function Go(e,t,n){return t=n?u:t,t=e&&t==null?e.length:t,pt(e,T,u,u,u,u,t)}function Bo(e,t){var n;if(typeof t!="function")throw new ze(d);return e=G(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=u),n}}var Vi=U(function(e,t,n){var r=Z;if(n.length){var s=Ct(n,on(Vi));r|=ce}return pt(e,r,t,n,s)}),Fo=U(function(e,t,n){var r=Z|ne;if(n.length){var s=Ct(n,on(Fo));r|=ce}return pt(t,r,e,n,s)});function Uo(e,t,n){t=n?u:t;var r=pt(e,j,u,u,u,u,u,t);return r.placeholder=Uo.placeholder,r}function Wo(e,t,n){t=n?u:t;var r=pt(e,oe,u,u,u,u,u,t);return r.placeholder=Wo.placeholder,r}function Ho(e,t,n){var r,s,o,l,g,p,_=0,A=!1,y=!1,w=!0;if(typeof e!="function")throw new ze(d);t=Qe(t)||0,ae(n)&&(A=!!n.leading,y="maxWait"in n,o=y?me(Qe(n.maxWait)||0,t):o,w="trailing"in n?!!n.trailing:w);function I(fe){var rt=r,At=s;return r=s=u,_=fe,l=e.apply(At,rt),l}function R(fe){return _=fe,g=Gn(q,t),A?I(fe):l}function F(fe){var rt=fe-p,At=fe-_,ou=t-rt;return y?we(ou,o-At):ou}function O(fe){var rt=fe-p,At=fe-_;return p===u||rt>=t||rt<0||y&&At>=o}function q(){var fe=Pr();if(O(fe))return z(fe);g=Gn(q,F(fe))}function z(fe){return g=u,w&&r?I(fe):(r=s=u,l)}function We(){g!==u&&Qa(g),_=0,r=p=s=g=u}function Pe(){return g===u?l:z(Pr())}function He(){var fe=Pr(),rt=O(fe);if(r=arguments,s=this,p=fe,rt){if(g===u)return R(p);if(y)return Qa(g),g=Gn(q,t),I(p)}return g===u&&(g=Gn(q,t)),l}return He.cancel=We,He.flush=Pe,He}var Uh=U(function(e,t){return Ma(e,1,t)}),Wh=U(function(e,t,n){return Ma(e,Qe(t)||0,n)});function Hh(e){return pt(e,X)}function Mr(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new ze(d);var n=function(){var r=arguments,s=t?t.apply(this,r):r[0],o=n.cache;if(o.has(s))return o.get(s);var l=e.apply(this,r);return n.cache=o.set(s,l)||o,l};return n.cache=new(Mr.Cache||gt),n}Mr.Cache=gt;function Rr(e){if(typeof e!="function")throw new ze(d);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function $h(e){return Bo(2,e)}var qh=Mf(function(e,t){t=t.length==1&&N(t[0])?se(t[0],Be(P())):se(ye(t,1),Be(P()));var n=t.length;return U(function(r){for(var s=-1,o=we(r.length,n);++s<o;)r[s]=t[s].call(this,r[s]);return Ge(e,this,r)})}),ji=U(function(e,t){var n=Ct(t,on(ji));return pt(e,ce,u,t,n)}),$o=U(function(e,t){var n=Ct(t,on($o));return pt(e,b,u,t,n)}),Kh=dt(function(e,t){return pt(e,H,u,u,u,t)});function zh(e,t){if(typeof e!="function")throw new ze(d);return t=t===u?t:G(t),U(e,t)}function Yh(e,t){if(typeof e!="function")throw new ze(d);return t=t==null?0:me(G(t),0),U(function(n){var r=n[t],s=Mt(n,0,t);return r&&bt(s,r),Ge(e,this,s)})}function Zh(e,t,n){var r=!0,s=!0;if(typeof e!="function")throw new ze(d);return ae(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),Ho(e,t,{leading:r,maxWait:t,trailing:s})}function Xh(e){return Go(e,1)}function Jh(e,t){return ji(Gi(t),e)}function Qh(){if(!arguments.length)return[];var e=arguments[0];return N(e)?e:[e]}function Vh(e){return Ze(e,L)}function jh(e,t){return t=typeof t=="function"?t:u,Ze(e,L,t)}function ep(e){return Ze(e,M|L)}function tp(e,t){return t=typeof t=="function"?t:u,Ze(e,M|L,t)}function np(e,t){return t==null||Pa(e,t,Ae(t))}function nt(e,t){return e===t||e!==e&&t!==t}var rp=br(Ti),ip=br(function(e,t){return e>=t}),Kt=Da(function(){return arguments}())?Da:function(e){return ue(e)&&V.call(e,"callee")&&!xa.call(e,"callee")},N=m.isArray,sp=na?Be(na):hf;function Oe(e){return e!=null&&Or(e.length)&&!vt(e)}function le(e){return ue(e)&&Oe(e)}function ap(e){return e===!0||e===!1||ue(e)&&Ie(e)==vn}var Rt=Al||ls,op=ra?Be(ra):pf;function up(e){return ue(e)&&e.nodeType===1&&!Bn(e)}function cp(e){if(e==null)return!0;if(Oe(e)&&(N(e)||typeof e=="string"||typeof e.splice=="function"||Rt(e)||un(e)||Kt(e)))return!e.length;var t=be(e);if(t==Ve||t==je)return!e.size;if(Nn(e))return!Ei(e).length;for(var n in e)if(V.call(e,n))return!1;return!0}function lp(e,t){return kn(e,t)}function fp(e,t,n){n=typeof n=="function"?n:u;var r=n?n(e,t):u;return r===u?kn(e,t,u,n):!!r}function es(e){if(!ue(e))return!1;var t=Ie(e);return t==qn||t==ku||typeof e.message=="string"&&typeof e.name=="string"&&!Bn(e)}function gp(e){return typeof e=="number"&&ba(e)}function vt(e){if(!ae(e))return!1;var t=Ie(e);return t==Kn||t==Ms||t==Ou||t==Du}function qo(e){return typeof e=="number"&&e==G(e)}function Or(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=pe}function ae(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function ue(e){return e!=null&&typeof e=="object"}var Ko=ia?Be(ia):mf;function hp(e,t){return e===t||Ii(e,t,qi(t))}function pp(e,t,n){return n=typeof n=="function"?n:u,Ii(e,t,qi(t),n)}function dp(e){return zo(e)&&e!=+e}function mp(e){if(jf(e))throw new D(f);return Na(e)}function vp(e){return e===null}function _p(e){return e==null}function zo(e){return typeof e=="number"||ue(e)&&Ie(e)==An}function Bn(e){if(!ue(e)||Ie(e)!=lt)return!1;var t=sr(e);if(t===null)return!0;var n=V.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&tr.call(n)==hl}var ts=sa?Be(sa):vf;function Ap(e){return qo(e)&&e>=-pe&&e<=pe}var Yo=aa?Be(aa):_f;function kr(e){return typeof e=="string"||!N(e)&&ue(e)&&Ie(e)==xn}function Ue(e){return typeof e=="symbol"||ue(e)&&Ie(e)==zn}var un=oa?Be(oa):Af;function yp(e){return e===u}function xp(e){return ue(e)&&be(e)==wn}function wp(e){return ue(e)&&Ie(e)==Gu}var bp=br(Pi),Cp=br(function(e,t){return e<=t});function Zo(e){if(!e)return[];if(Oe(e))return kr(e)?et(e):Re(e);if(Tn&&e[Tn])return tl(e[Tn]());var t=be(e),n=t==Ve?mi:t==je?Vn:cn;return n(e)}function _t(e){if(!e)return e===0?e:0;if(e=Qe(e),e===Ne||e===-Ne){var t=e<0?-1:1;return t*mn}return e===e?e:0}function G(e){var t=_t(e),n=t%1;return t===t?n?t-n:t:0}function Xo(e){return e?Wt(G(e),0,st):0}function Qe(e){if(typeof e=="number")return e;if(Ue(e))return Hn;if(ae(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ae(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=ha(e);var n=ic.test(e);return n||ac.test(e)?Bc(e.slice(2),n?2:8):rc.test(e)?Hn:+e}function Jo(e){return ot(e,ke(e))}function Tp(e){return e?Wt(G(e),-pe,pe):e===0?e:0}function Q(e){return e==null?"":Fe(e)}var Sp=sn(function(e,t){if(Nn(t)||Oe(t)){ot(t,Ae(t),e);return}for(var n in t)V.call(t,n)&&Mn(e,n,t[n])}),Qo=sn(function(e,t){ot(t,ke(t),e)}),Lr=sn(function(e,t,n,r){ot(t,ke(t),e,r)}),Ip=sn(function(e,t,n,r){ot(t,Ae(t),e,r)}),Ep=dt(wi);function Pp(e,t){var n=rn(e);return t==null?n:Ea(n,t)}var Mp=U(function(e,t){e=ee(e);var n=-1,r=t.length,s=r>2?t[2]:u;for(s&&Ee(t[0],t[1],s)&&(r=1);++n<r;)for(var o=t[n],l=ke(o),g=-1,p=l.length;++g<p;){var _=l[g],A=e[_];(A===u||nt(A,en[_])&&!V.call(e,_))&&(e[_]=o[_])}return e}),Rp=U(function(e){return e.push(u,ho),Ge(Vo,u,e)});function Op(e,t){return ca(e,P(t,3),at)}function kp(e,t){return ca(e,P(t,3),Ci)}function Lp(e,t){return e==null?e:bi(e,P(t,3),ke)}function Dp(e,t){return e==null?e:ka(e,P(t,3),ke)}function Np(e,t){return e&&at(e,P(t,3))}function Gp(e,t){return e&&Ci(e,P(t,3))}function Bp(e){return e==null?[]:dr(e,Ae(e))}function Fp(e){return e==null?[]:dr(e,ke(e))}function ns(e,t,n){var r=e==null?u:Ht(e,t);return r===u?n:r}function Up(e,t){return e!=null&&vo(e,t,cf)}function rs(e,t){return e!=null&&vo(e,t,lf)}var Wp=uo(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=nr.call(t)),e[t]=n},ss(Le)),Hp=uo(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=nr.call(t)),V.call(e,t)?e[t].push(n):e[t]=[n]},P),$p=U(On);function Ae(e){return Oe(e)?Sa(e):Ei(e)}function ke(e){return Oe(e)?Sa(e,!0):yf(e)}function qp(e,t){var n={};return t=P(t,3),at(e,function(r,s,o){ht(n,t(r,s,o),r)}),n}function Kp(e,t){var n={};return t=P(t,3),at(e,function(r,s,o){ht(n,s,t(r,s,o))}),n}var zp=sn(function(e,t,n){mr(e,t,n)}),Vo=sn(function(e,t,n,r){mr(e,t,n,r)}),Yp=dt(function(e,t){var n={};if(e==null)return n;var r=!1;t=se(t,function(o){return o=Pt(o,e),r||(r=o.length>1),o}),ot(e,Hi(e),n),r&&(n=Ze(n,M|B|L,Wf));for(var s=t.length;s--;)Li(n,t[s]);return n});function Zp(e,t){return jo(e,Rr(P(t)))}var Xp=dt(function(e,t){return e==null?{}:wf(e,t)});function jo(e,t){if(e==null)return{};var n=se(Hi(e),function(r){return[r]});return t=P(t),$a(e,n,function(r,s){return t(r,s[0])})}function Jp(e,t,n){t=Pt(t,e);var r=-1,s=t.length;for(s||(s=1,e=u);++r<s;){var o=e==null?u:e[ut(t[r])];o===u&&(r=s,o=n),e=vt(o)?o.call(e):o}return e}function Qp(e,t,n){return e==null?e:Ln(e,t,n)}function Vp(e,t,n,r){return r=typeof r=="function"?r:u,e==null?e:Ln(e,t,n,r)}var eu=fo(Ae),tu=fo(ke);function jp(e,t,n){var r=N(e),s=r||Rt(e)||un(e);if(t=P(t,4),n==null){var o=e&&e.constructor;s?n=r?new o:[]:ae(e)?n=vt(o)?rn(sr(e)):{}:n={}}return(s?Ke:at)(e,function(l,g,p){return t(n,l,g,p)}),n}function ed(e,t){return e==null?!0:Li(e,t)}function td(e,t,n){return e==null?e:Za(e,t,Gi(n))}function nd(e,t,n,r){return r=typeof r=="function"?r:u,e==null?e:Za(e,t,Gi(n),r)}function cn(e){return e==null?[]:di(e,Ae(e))}function rd(e){return e==null?[]:di(e,ke(e))}function id(e,t,n){return n===u&&(n=t,t=u),n!==u&&(n=Qe(n),n=n===n?n:0),t!==u&&(t=Qe(t),t=t===t?t:0),Wt(Qe(e),t,n)}function sd(e,t,n){return t=_t(t),n===u?(n=t,t=0):n=_t(n),e=Qe(e),ff(e,t,n)}function ad(e,t,n){if(n&&typeof n!="boolean"&&Ee(e,t,n)&&(t=n=u),n===u&&(typeof t=="boolean"?(n=t,t=u):typeof e=="boolean"&&(n=e,e=u)),e===u&&t===u?(e=0,t=1):(e=_t(e),t===u?(t=e,e=0):t=_t(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var s=Ca();return we(e+s*(t-e+Gc("1e-"+((s+"").length-1))),t)}return Ri(e,t)}var od=an(function(e,t,n){return t=t.toLowerCase(),e+(n?nu(t):t)});function nu(e){return is(Q(e).toLowerCase())}function ru(e){return e=Q(e),e&&e.replace(uc,Jc).replace(Ic,"")}function ud(e,t,n){e=Q(e),t=Fe(t);var r=e.length;n=n===u?r:Wt(G(n),0,r);var s=n;return n-=t.length,n>=0&&e.slice(n,s)==t}function cd(e){return e=Q(e),e&&Hu.test(e)?e.replace(ks,Qc):e}function ld(e){return e=Q(e),e&&Zu.test(e)?e.replace(jr,"\\$&"):e}var fd=an(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),gd=an(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),hd=so("toLowerCase");function pd(e,t,n){e=Q(e),t=G(t);var r=t?jt(e):0;if(!t||r>=t)return e;var s=(t-r)/2;return wr(cr(s),n)+e+wr(ur(s),n)}function dd(e,t,n){e=Q(e),t=G(t);var r=t?jt(e):0;return t&&r<t?e+wr(t-r,n):e}function md(e,t,n){e=Q(e),t=G(t);var r=t?jt(e):0;return t&&r<t?wr(t-r,n)+e:e}function vd(e,t,n){return n||t==null?t=0:t&&(t=+t),bl(Q(e).replace(ei,""),t||0)}function _d(e,t,n){return(n?Ee(e,t,n):t===u)?t=1:t=G(t),Oi(Q(e),t)}function Ad(){var e=arguments,t=Q(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var yd=an(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});function xd(e,t,n){return n&&typeof n!="number"&&Ee(e,t,n)&&(t=n=u),n=n===u?st:n>>>0,n?(e=Q(e),e&&(typeof t=="string"||t!=null&&!ts(t))&&(t=Fe(t),!t&&Vt(e))?Mt(et(e),0,n):e.split(t,n)):[]}var wd=an(function(e,t,n){return e+(n?" ":"")+is(t)});function bd(e,t,n){return e=Q(e),n=n==null?0:Wt(G(n),0,e.length),t=Fe(t),e.slice(n,n+t.length)==t}function Cd(e,t,n){var r=a.templateSettings;n&&Ee(e,t,n)&&(t=u),e=Q(e),t=Lr({},t,r,go);var s=Lr({},t.imports,r.imports,go),o=Ae(s),l=di(s,o),g,p,_=0,A=t.interpolate||Yn,y="__p += '",w=vi((t.escape||Yn).source+"|"+A.source+"|"+(A===Ls?nc:Yn).source+"|"+(t.evaluate||Yn).source+"|$","g"),I="//# sourceURL="+(V.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Oc+"]")+`
`;e.replace(w,function(O,q,z,We,Pe,He){return z||(z=We),y+=e.slice(_,He).replace(cc,Vc),q&&(g=!0,y+=`' +
__e(`+q+`) +
'`),Pe&&(p=!0,y+=`';
`+Pe+`;
__p += '`),z&&(y+=`' +
((__t = (`+z+`)) == null ? '' : __t) +
'`),_=He+O.length,O}),y+=`';
`;var R=V.call(t,"variable")&&t.variable;if(!R)y=`with (obj) {
`+y+`
}
`;else if(ec.test(R))throw new D(x);y=(p?y.replace(Bu,""):y).replace(Fu,"$1").replace(Uu,"$1;"),y="function("+(R||"obj")+`) {
`+(R?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(g?", __e = _.escape":"")+(p?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+y+`return __p
}`;var F=su(function(){return J(o,I+"return "+y).apply(u,l)});if(F.source=y,es(F))throw F;return F}function Td(e){return Q(e).toLowerCase()}function Sd(e){return Q(e).toUpperCase()}function Id(e,t,n){if(e=Q(e),e&&(n||t===u))return ha(e);if(!e||!(t=Fe(t)))return e;var r=et(e),s=et(t),o=pa(r,s),l=da(r,s)+1;return Mt(r,o,l).join("")}function Ed(e,t,n){if(e=Q(e),e&&(n||t===u))return e.slice(0,va(e)+1);if(!e||!(t=Fe(t)))return e;var r=et(e),s=da(r,et(t))+1;return Mt(r,0,s).join("")}function Pd(e,t,n){if(e=Q(e),e&&(n||t===u))return e.replace(ei,"");if(!e||!(t=Fe(t)))return e;var r=et(e),s=pa(r,et(t));return Mt(r,s).join("")}function Md(e,t){var n=he,r=Te;if(ae(t)){var s="separator"in t?t.separator:s;n="length"in t?G(t.length):n,r="omission"in t?Fe(t.omission):r}e=Q(e);var o=e.length;if(Vt(e)){var l=et(e);o=l.length}if(n>=o)return e;var g=n-jt(r);if(g<1)return r;var p=l?Mt(l,0,g).join(""):e.slice(0,g);if(s===u)return p+r;if(l&&(g+=p.length-g),ts(s)){if(e.slice(g).search(s)){var _,A=p;for(s.global||(s=vi(s.source,Q(Ds.exec(s))+"g")),s.lastIndex=0;_=s.exec(A);)var y=_.index;p=p.slice(0,y===u?g:y)}}else if(e.indexOf(Fe(s),g)!=g){var w=p.lastIndexOf(s);w>-1&&(p=p.slice(0,w))}return p+r}function Rd(e){return e=Q(e),e&&Wu.test(e)?e.replace(Os,sl):e}var Od=an(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),is=so("toUpperCase");function iu(e,t,n){return e=Q(e),t=n?u:t,t===u?el(e)?ul(e):Kc(e):e.match(t)||[]}var su=U(function(e,t){try{return Ge(e,u,t)}catch(n){return es(n)?n:new D(n)}}),kd=dt(function(e,t){return Ke(t,function(n){n=ut(n),ht(e,n,Vi(e[n],e))}),e});function Ld(e){var t=e==null?0:e.length,n=P();return e=t?se(e,function(r){if(typeof r[1]!="function")throw new ze(d);return[n(r[0]),r[1]]}):[],U(function(r){for(var s=-1;++s<t;){var o=e[s];if(Ge(o[0],this,r))return Ge(o[1],this,r)}})}function Dd(e){return af(Ze(e,M))}function ss(e){return function(){return e}}function Nd(e,t){return e==null||e!==e?t:e}var Gd=oo(),Bd=oo(!0);function Le(e){return e}function as(e){return Ga(typeof e=="function"?e:Ze(e,M))}function Fd(e){return Fa(Ze(e,M))}function Ud(e,t){return Ua(e,Ze(t,M))}var Wd=U(function(e,t){return function(n){return On(n,e,t)}}),Hd=U(function(e,t){return function(n){return On(e,n,t)}});function os(e,t,n){var r=Ae(t),s=dr(t,r);n==null&&!(ae(t)&&(s.length||!r.length))&&(n=t,t=e,e=this,s=dr(t,Ae(t)));var o=!(ae(n)&&"chain"in n)||!!n.chain,l=vt(e);return Ke(s,function(g){var p=t[g];e[g]=p,l&&(e.prototype[g]=function(){var _=this.__chain__;if(o||_){var A=e(this.__wrapped__),y=A.__actions__=Re(this.__actions__);return y.push({func:p,args:arguments,thisArg:e}),A.__chain__=_,A}return p.apply(e,bt([this.value()],arguments))})}),e}function $d(){return _e._===this&&(_e._=pl),this}function us(){}function qd(e){return e=G(e),U(function(t){return Wa(t,e)})}var Kd=Fi(se),zd=Fi(ua),Yd=Fi(li);function au(e){return zi(e)?fi(ut(e)):bf(e)}function Zd(e){return function(t){return e==null?u:Ht(e,t)}}var Xd=co(),Jd=co(!0);function cs(){return[]}function ls(){return!1}function Qd(){return{}}function Vd(){return""}function jd(){return!0}function em(e,t){if(e=G(e),e<1||e>pe)return[];var n=st,r=we(e,st);t=P(t),e-=st;for(var s=pi(r,t);++n<e;)t(n);return s}function tm(e){return N(e)?se(e,ut):Ue(e)?[e]:Re(So(Q(e)))}function nm(e){var t=++gl;return Q(e)+t}var rm=xr(function(e,t){return e+t},0),im=Ui("ceil"),sm=xr(function(e,t){return e/t},1),am=Ui("floor");function om(e){return e&&e.length?pr(e,Le,Ti):u}function um(e,t){return e&&e.length?pr(e,P(t,2),Ti):u}function cm(e){return fa(e,Le)}function lm(e,t){return fa(e,P(t,2))}function fm(e){return e&&e.length?pr(e,Le,Pi):u}function gm(e,t){return e&&e.length?pr(e,P(t,2),Pi):u}var hm=xr(function(e,t){return e*t},1),pm=Ui("round"),dm=xr(function(e,t){return e-t},0);function mm(e){return e&&e.length?hi(e,Le):0}function vm(e,t){return e&&e.length?hi(e,P(t,2)):0}return a.after=Fh,a.ary=Go,a.assign=Sp,a.assignIn=Qo,a.assignInWith=Lr,a.assignWith=Ip,a.at=Ep,a.before=Bo,a.bind=Vi,a.bindAll=kd,a.bindKey=Fo,a.castArray=Qh,a.chain=Lo,a.chunk=ag,a.compact=og,a.concat=ug,a.cond=Ld,a.conforms=Dd,a.constant=ss,a.countBy=mh,a.create=Pp,a.curry=Uo,a.curryRight=Wo,a.debounce=Ho,a.defaults=Mp,a.defaultsDeep=Rp,a.defer=Uh,a.delay=Wh,a.difference=cg,a.differenceBy=lg,a.differenceWith=fg,a.drop=gg,a.dropRight=hg,a.dropRightWhile=pg,a.dropWhile=dg,a.fill=mg,a.filter=_h,a.flatMap=xh,a.flatMapDeep=wh,a.flatMapDepth=bh,a.flatten=Mo,a.flattenDeep=vg,a.flattenDepth=_g,a.flip=Hh,a.flow=Gd,a.flowRight=Bd,a.fromPairs=Ag,a.functions=Bp,a.functionsIn=Fp,a.groupBy=Ch,a.initial=xg,a.intersection=wg,a.intersectionBy=bg,a.intersectionWith=Cg,a.invert=Wp,a.invertBy=Hp,a.invokeMap=Sh,a.iteratee=as,a.keyBy=Ih,a.keys=Ae,a.keysIn=ke,a.map=Er,a.mapKeys=qp,a.mapValues=Kp,a.matches=Fd,a.matchesProperty=Ud,a.memoize=Mr,a.merge=zp,a.mergeWith=Vo,a.method=Wd,a.methodOf=Hd,a.mixin=os,a.negate=Rr,a.nthArg=qd,a.omit=Yp,a.omitBy=Zp,a.once=$h,a.orderBy=Eh,a.over=Kd,a.overArgs=qh,a.overEvery=zd,a.overSome=Yd,a.partial=ji,a.partialRight=$o,a.partition=Ph,a.pick=Xp,a.pickBy=jo,a.property=au,a.propertyOf=Zd,a.pull=Eg,a.pullAll=Oo,a.pullAllBy=Pg,a.pullAllWith=Mg,a.pullAt=Rg,a.range=Xd,a.rangeRight=Jd,a.rearg=Kh,a.reject=Oh,a.remove=Og,a.rest=zh,a.reverse=Ji,a.sampleSize=Lh,a.set=Qp,a.setWith=Vp,a.shuffle=Dh,a.slice=kg,a.sortBy=Bh,a.sortedUniq=Ug,a.sortedUniqBy=Wg,a.split=xd,a.spread=Yh,a.tail=Hg,a.take=$g,a.takeRight=qg,a.takeRightWhile=Kg,a.takeWhile=zg,a.tap=oh,a.throttle=Zh,a.thru=Ir,a.toArray=Zo,a.toPairs=eu,a.toPairsIn=tu,a.toPath=tm,a.toPlainObject=Jo,a.transform=jp,a.unary=Xh,a.union=Yg,a.unionBy=Zg,a.unionWith=Xg,a.uniq=Jg,a.uniqBy=Qg,a.uniqWith=Vg,a.unset=ed,a.unzip=Qi,a.unzipWith=ko,a.update=td,a.updateWith=nd,a.values=cn,a.valuesIn=rd,a.without=jg,a.words=iu,a.wrap=Jh,a.xor=eh,a.xorBy=th,a.xorWith=nh,a.zip=rh,a.zipObject=ih,a.zipObjectDeep=sh,a.zipWith=ah,a.entries=eu,a.entriesIn=tu,a.extend=Qo,a.extendWith=Lr,os(a,a),a.add=rm,a.attempt=su,a.camelCase=od,a.capitalize=nu,a.ceil=im,a.clamp=id,a.clone=Vh,a.cloneDeep=ep,a.cloneDeepWith=tp,a.cloneWith=jh,a.conformsTo=np,a.deburr=ru,a.defaultTo=Nd,a.divide=sm,a.endsWith=ud,a.eq=nt,a.escape=cd,a.escapeRegExp=ld,a.every=vh,a.find=Ah,a.findIndex=Eo,a.findKey=Op,a.findLast=yh,a.findLastIndex=Po,a.findLastKey=kp,a.floor=am,a.forEach=Do,a.forEachRight=No,a.forIn=Lp,a.forInRight=Dp,a.forOwn=Np,a.forOwnRight=Gp,a.get=ns,a.gt=rp,a.gte=ip,a.has=Up,a.hasIn=rs,a.head=Ro,a.identity=Le,a.includes=Th,a.indexOf=yg,a.inRange=sd,a.invoke=$p,a.isArguments=Kt,a.isArray=N,a.isArrayBuffer=sp,a.isArrayLike=Oe,a.isArrayLikeObject=le,a.isBoolean=ap,a.isBuffer=Rt,a.isDate=op,a.isElement=up,a.isEmpty=cp,a.isEqual=lp,a.isEqualWith=fp,a.isError=es,a.isFinite=gp,a.isFunction=vt,a.isInteger=qo,a.isLength=Or,a.isMap=Ko,a.isMatch=hp,a.isMatchWith=pp,a.isNaN=dp,a.isNative=mp,a.isNil=_p,a.isNull=vp,a.isNumber=zo,a.isObject=ae,a.isObjectLike=ue,a.isPlainObject=Bn,a.isRegExp=ts,a.isSafeInteger=Ap,a.isSet=Yo,a.isString=kr,a.isSymbol=Ue,a.isTypedArray=un,a.isUndefined=yp,a.isWeakMap=xp,a.isWeakSet=wp,a.join=Tg,a.kebabCase=fd,a.last=Je,a.lastIndexOf=Sg,a.lowerCase=gd,a.lowerFirst=hd,a.lt=bp,a.lte=Cp,a.max=om,a.maxBy=um,a.mean=cm,a.meanBy=lm,a.min=fm,a.minBy=gm,a.stubArray=cs,a.stubFalse=ls,a.stubObject=Qd,a.stubString=Vd,a.stubTrue=jd,a.multiply=hm,a.nth=Ig,a.noConflict=$d,a.noop=us,a.now=Pr,a.pad=pd,a.padEnd=dd,a.padStart=md,a.parseInt=vd,a.random=ad,a.reduce=Mh,a.reduceRight=Rh,a.repeat=_d,a.replace=Ad,a.result=Jp,a.round=pm,a.runInContext=h,a.sample=kh,a.size=Nh,a.snakeCase=yd,a.some=Gh,a.sortedIndex=Lg,a.sortedIndexBy=Dg,a.sortedIndexOf=Ng,a.sortedLastIndex=Gg,a.sortedLastIndexBy=Bg,a.sortedLastIndexOf=Fg,a.startCase=wd,a.startsWith=bd,a.subtract=dm,a.sum=mm,a.sumBy=vm,a.template=Cd,a.times=em,a.toFinite=_t,a.toInteger=G,a.toLength=Xo,a.toLower=Td,a.toNumber=Qe,a.toSafeInteger=Tp,a.toString=Q,a.toUpper=Sd,a.trim=Id,a.trimEnd=Ed,a.trimStart=Pd,a.truncate=Md,a.unescape=Rd,a.uniqueId=nm,a.upperCase=Od,a.upperFirst=is,a.each=Do,a.eachRight=No,a.first=Ro,os(a,function(){var e={};return at(a,function(t,n){V.call(a.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),a.VERSION=i,Ke(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){a[e].placeholder=a}),Ke(["drop","take"],function(e,t){K.prototype[e]=function(n){n=n===u?1:me(G(n),0);var r=this.__filtered__&&!t?new K(this):this.clone();return r.__filtered__?r.__takeCount__=we(n,r.__takeCount__):r.__views__.push({size:we(n,st),type:e+(r.__dir__<0?"Right":"")}),r},K.prototype[e+"Right"]=function(n){return this.reverse()[e](n).reverse()}}),Ke(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==Se||n==xt;K.prototype[e]=function(s){var o=this.clone();return o.__iteratees__.push({iteratee:P(s,3),type:n}),o.__filtered__=o.__filtered__||r,o}}),Ke(["head","last"],function(e,t){var n="take"+(t?"Right":"");K.prototype[e]=function(){return this[n](1).value()[0]}}),Ke(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");K.prototype[e]=function(){return this.__filtered__?new K(this):this[n](1)}}),K.prototype.compact=function(){return this.filter(Le)},K.prototype.find=function(e){return this.filter(e).head()},K.prototype.findLast=function(e){return this.reverse().find(e)},K.prototype.invokeMap=U(function(e,t){return typeof e=="function"?new K(this):this.map(function(n){return On(n,e,t)})}),K.prototype.reject=function(e){return this.filter(Rr(P(e)))},K.prototype.slice=function(e,t){e=G(e);var n=this;return n.__filtered__&&(e>0||t<0)?new K(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==u&&(t=G(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},K.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},K.prototype.toArray=function(){return this.take(st)},at(K.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),s=a[r?"take"+(t=="last"?"Right":""):t],o=r||/^find/.test(t);!s||(a.prototype[t]=function(){var l=this.__wrapped__,g=r?[1]:arguments,p=l instanceof K,_=g[0],A=p||N(l),y=function(q){var z=s.apply(a,bt([q],g));return r&&w?z[0]:z};A&&n&&typeof _=="function"&&_.length!=1&&(p=A=!1);var w=this.__chain__,I=!!this.__actions__.length,R=o&&!w,F=p&&!I;if(!o&&A){l=F?l:new K(this);var O=e.apply(l,g);return O.__actions__.push({func:Ir,args:[y],thisArg:u}),new Ye(O,w)}return R&&F?e.apply(this,g):(O=this.thru(y),R?r?O.value()[0]:O.value():O)})}),Ke(["pop","push","shift","sort","splice","unshift"],function(e){var t=jn[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);a.prototype[e]=function(){var s=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(N(o)?o:[],s)}return this[n](function(l){return t.apply(N(l)?l:[],s)})}}),at(K.prototype,function(e,t){var n=a[t];if(n){var r=n.name+"";V.call(nn,r)||(nn[r]=[]),nn[r].push({name:t,func:n})}}),nn[yr(u,ne).name]=[{name:"wrapper",func:u}],K.prototype.clone=Ml,K.prototype.reverse=Rl,K.prototype.value=Ol,a.prototype.at=uh,a.prototype.chain=ch,a.prototype.commit=lh,a.prototype.next=fh,a.prototype.plant=hh,a.prototype.reverse=ph,a.prototype.toJSON=a.prototype.valueOf=a.prototype.value=dh,a.prototype.first=a.prototype.head,Tn&&(a.prototype[Tn]=gh),a},Tt=cl();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(_e._=Tt,define(function(){return Tt})):Gt?((Gt.exports=Tt)._=Tt,ai._=Tt):_e._=Tt}).call(gn)});var gs=class{extensionPrefix="chat-gpt-for-google";_isBackground=!1;get isProd(){let i=!0,c=globalThis?.__isProd;return c!==void 0&&(i=c),i}get isBackground(){return this._isBackground}markIsBackground(){this._isBackground=!0}},De=new gs;var Tm=["ServiceBase","BackgroundApp","SearchEnhance","AuthTabService","ChatService","ConfigService"],hs=class{console=console;loggers=[];enabledModules=De.isProd?new Set([]):new Set(["ServiceBase","BackgroundApp","SearchEnhance","AuthTabService","ChatService","ConfigService"]);getLogger(i){let c=new ps(this.enabledModules,i);return this.loggers.push(c),c}enableAllLoggers(){this.enabledModules=new Set(Tm),this.loggers.forEach(i=>{i._enabledModules=this.enabledModules})}},ps=class{constructor(i,c){this._enabledModules=i;this._module=c}get log(){return this._enabledModules.has(this._module)?console.log:cu}get debug(){return this._enabledModules.has(this._module)?console.debug:cu}get warn(){return console.warn}get error(){return console.error}};function cu(){}var Ce=new hs;var pn=ct(yt(),1);var ms={["chat_model"]:"gpt-3.5-turbo",["text_model"]:"text-davinci-003"};var fu=`You are a large language model trained by OpenAI that generate human-like text based on the input you received.
Here is a conversation between human A and you:

`,gu=`You are a large language model trained by OpenAI. Your job is to generate human-like text based on the input you received, allowing it to engage in natural-sounding conversations and provide responses that are coherent and relevant to the topic at hand.

If the input is a question, try your best to answer it. Otherwise, provide as much information as you can.
You should use "code blocks" syntax from markdown including programing language name to encapsulate any part in responses that's longer-format content such as poem, code, lyrics.
Provide programming language name in code blocks if possible.
You should also use bold syntax from markdown on the relevant parts of the responses to improve readability.
If your answer contains code, make sure to provide detailed explanations.
You can understand and communicate fluently in the user's language of choice such as English,\u4E2D\u6587,\u65E5\u672C\u543E,Espanol,Francais or Deutsch.

Here is a conversation between human A and you:

`,hu=`You are a large language model trained by OpenAI. Answer as concisely as possible.
Knowledge cutoff: {knowledge_cutoff} Current date: {current_date}`,pu=`You are a large language model trained by OpenAI. Your job is to generate human-like text based on the input you received, allowing it to engage in natural-sounding conversations and provide responses that are coherent and relevant to the topic at hand.

If the input is a question, try your best to answer it. Otherwise, provide as much information as you can.
You should use "code blocks" syntax from markdown including programing language name to encapsulate any part in responses that's longer-format content such as poem, code, lyrics.
Provide programming language name in code blocks if possible.
You should also use bold syntax from markdown on the relevant parts of the responses to improve readability.
If your answer contains code, make sure to provide detailed explanations.

Knowledge cutoff: {knowledge_cutoff} Current date: {current_date}`;var Dr,Sm=new Uint8Array(16);function vs(){if(!Dr&&(Dr=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Dr))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Dr(Sm)}var xe=[];for(let u=0;u<256;++u)xe.push((u+256).toString(16).slice(1));function du(u,i=0){return(xe[u[i+0]]+xe[u[i+1]]+xe[u[i+2]]+xe[u[i+3]]+"-"+xe[u[i+4]]+xe[u[i+5]]+"-"+xe[u[i+6]]+xe[u[i+7]]+"-"+xe[u[i+8]]+xe[u[i+9]]+"-"+xe[u[i+10]]+xe[u[i+11]]+xe[u[i+12]]+xe[u[i+13]]+xe[u[i+14]]+xe[u[i+15]]).toLowerCase()}var Im=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),_s={randomUUID:Im};function Em(u,i,c){if(_s.randomUUID&&!i&&!u)return _s.randomUUID();u=u||{};let f=u.random||(u.rng||vs)();if(f[6]=f[6]&15|64,f[8]=f[8]&63|128,i){c=c||0;for(let d=0;d<16;++d)i[c+d]=f[d];return i}return du(f)}var As=Em;var mu=ct(yt(),1);var ys=class{getExtensionVersion(){return mu.default.runtime.getManifest().version}detectSystemColorScheme(){return window.matchMedia?.("(prefers-color-scheme: dark)").matches?"dark":"light"}isPromise(i){return!!i&&(typeof i=="object"||typeof i=="function")&&typeof i.then=="function"}genId(){return As()}addPromptLangSuffix(i,c){return c==="auto"?i:`${i}(in ${c})`}getRootId(i){return`${De.extensionPrefix}-${i}`}camelizeKey(i,c=["-","_"]){let f=[],d=0,x=new Set(c);for(;d<i.length;)x.has(i[d])?(f.push(i[d+1].toUpperCase()),d++):f.push(i[d]),d++;return f.join("")}camelize(i){if(i==null)return null;if(i instanceof Array)return i.map(c=>this.camelize(c));if(typeof i=="object"){let c={};for(let f in i){let d=i[f];c[this.camelizeKey(f)]=this.camelize(d)}return c}return i}underlizeKey(i,c=!1){let f=[],d=0,x=i.toString().toLowerCase();for(;d<i.length;){if(i[d]!==x[d]&&(!c||d!==0)){f.push("_"),f.push(x[d]),d++;continue}f.push(i[d].toLocaleLowerCase()),d++}return f.join("")}underlize(i){if(i==null)return null;if(i instanceof Array)return i.map(c=>this.underlize(c));if(typeof i=="object"){let c={};for(let f in i){let d=i[f],x=this.underlizeKey(f),C=this.underlize(d);C!=null&&(c[x]=C)}return c}return i}async*streamAsyncIterable(i){let c=i.getReader();try{for(;;){let{done:f,value:d}=await c.read();if(f)return;yield d}}finally{c.releaseLock()}}isBraveBrowser(){return navigator.brave?.isBrave()}endsWithQuestionMark(i){return i.endsWith("?")||i.endsWith("\uFF1F")||i.endsWith("\u061F")||i.endsWith("\u2E2E")}copyToClipboard(i){let c=document.createElement("textarea");c.value=i,document.body.appendChild(c),c.select(),document.execCommand("copy"),document.body.removeChild(c)}getOffsetOfPageTop(i){return document.documentElement.clientHeight-(i.getBoundingClientRect().top-document.documentElement.getBoundingClientRect().top)}async delay(i){return new Promise(c=>{setTimeout(()=>{c()},i)})}},ie=new ys;var fn=ct(yt(),1);var xs=class{async sendToBackground(i,c,f){let d={type:i,data:c,id:f||ie.genId()};return fn.default.runtime.sendMessage(d)}async addListener(i,c){fn.default.runtime.onMessage.addListener(f=>{f.type===i&&c(f.data,f.id)})}async sendToContent(i,c,f,d){let x={type:c,data:f,id:d||ie.genId()};return fn.default.tabs.sendMessage(i,x)}async sendToPopup(i,c,f){let d={type:i,data:c,id:f||ie.genId()};return fn.default.runtime.sendMessage(d)}broadcastFromBackground(i,c,f){if(!De.isBackground)throw new Error("only allowed in background");let d=f||ie.genId();fn.default.tabs.query({}).then(x=>{x.forEach(C=>{C.id&&this.sendToContent(C.id,i,c,d).catch(()=>{})})}),this.sendToPopup(i,c,d).catch(()=>{})}},zt=new xs;var vu=ct(ws(),1),hn=ct(yt(),1),bs=Ce.getLogger("ServiceBase"),Cs=class{constructor(i,c){this.prefix=i;this.defaultValues=c}async get(i){let c=this.encodeKey(i),d=(await hn.default.storage.local.get(c))[c];return d===void 0&&(d=this.defaultValues[i]),d}async set(i,c){hn.default.storage.local.set({[this.encodeKey(i)]:c})}async getAll(){let i=Object.keys(this.defaultValues).map(f=>this.encodeKey(f)),c=await hn.default.storage.local.get(i);return c?(0,vu.defaults)(this.transformValues(c,!1),this.defaultValues):this.defaultValues}async update(i){await hn.default.storage.local.set(this.transformValues(i,!0))}async removeDeprecated(i){await hn.default.storage.local.remove(this.encodeKey(i))}encodeKey(i){return this.prefix?`${this.prefix}.${i}`:i}decodeKey(i){return this.prefix?i.replace(`${this.prefix}.`,""):i}transformValues(i,c){let f={},d=new Set(Object.keys(this.defaultValues));for(let x of Object.keys(i))if(c)d.has(x)&&(f[this.encodeKey(x)]=i[x]);else{let C=this.decodeKey(x);d.has(C)&&(f[C]=i[x])}return f}},Ot=class{_instance;_eventListeners={};constructor(i,c){this._instance=new c;let f=this._instance,d=this,x=Object.getPrototypeOf(f),C=Object.getPrototypeOf(x),k=[...Object.getOwnPropertyNames(x),...Object.getOwnPropertyNames(C)];for(let E of k)typeof f[E]=="function"&&(d[E]=(...B)=>{if(De.isBackground)return f._onCallMethod({type:"bg"},E,B);if(E.startsWith("_"))throw TypeError("method starting with _ can only be called from background");if(E==="on"){let[L,W]=B;return this._addEventListener(L,W)}return this._sendMethodCallToBackground(i,E,B)});De.isBackground||zt.addListener("serviceEvent",E=>{let{serviceName:M,eventName:B,data:L}=E;if(i===M){let W=this._eventListeners[B];W&&W.forEach(Y=>Y.call(L))}}),bs.debug("service proxy created",i,this)}async _sendMethodCallToBackground(i,c,f){bs.debug("send event call",i,c,f);let d=ie.genId(),x=[];return f.forEach((C,k)=>{if(typeof C=="function"){let E=`__func:${d}:${k}`;x.push(E),this._addProxiedFunc(E,C)}else x.push(C)}),zt.sendToBackground("callServiceMethod",{serviceName:i,methodName:c,finalArgs:x},d)}_addEventListener(i,c){this._eventListeners[i]||(this._eventListeners[i]=[]);let f=new Nr(i,c,()=>{this._eventListeners[i]=this._eventListeners[i]?.filter(d=>d!==f)});return this._eventListeners[i].push(f),f}_addProxiedFunc(i,c){zt.addListener("proxiedFuncCall",f=>{i===f.funcId&&c(...f.args)})}},Nr=class{constructor(i,c,f){this.event=i;this.handler=c;this.onDestroy=f}destroy(){this.onDestroy()}call(i){this.handler(i)}},kt=class{_serviceName="";storage;lastCaller;eventListeners={};_initService(i){this._serviceName=i;let c=this.storagePrefix;this.storage=new Cs(c,this.defaultStorageValues),this.onInit()}on(i,c){this.eventListeners[i]||(this.eventListeners[i]=[]);let f=new Nr(i,c,()=>{this.eventListeners[i]=this.eventListeners[i]?.filter(d=>d!==f)});return this.eventListeners[i].push(f),f}async _onCallMethod(i,c,f){let d=this;if(typeof d[c]!="function")throw new Error(`method ${c} not found`);let x=[];f.forEach(k=>{if(typeof k=="string"&&k.startsWith("__func:")){let E=k;x.push((...M)=>{let B=`${this._serviceName}.${c}`;bs.debug(`- call proxied func for ${B}:${E}`,{funcArgs:M}),i.tabId?zt.sendToContent(i.tabId,"proxiedFuncCall",{funcId:E,args:M}):zt.sendToPopup("proxiedFuncCall",{funcId:E,args:M})})}else x.push(k)}),this.lastCaller=i;let C=d[c](...x);if(C!==void 0&&!ie.isPromise(C))throw new TypeError("public service method must return a promise");return C}emit(i,c){let f=this.eventListeners[i];f&&f.forEach(d=>d.call(c)),zt.broadcastFromBackground("serviceEvent",{serviceName:this._serviceName,eventName:i,data:c})}async _fetchWithCache(i,c,f){let{useCache:d=!0,updateCache:x=!0}=f||{},C=async()=>{let k=await c();return this.storage.set(i,k),k};if(d){let k=this.storage.get(i);if(k)return x&&C(),k}return await C()}};var Gr=Ce.getLogger("AuthTabService"),Rm="https://chat.openai.com/chat",Lt=class extends kt{storagePrefix="authTab";defaultStorageValues={pinnedTabId:null,authCaller:null};iframeLoadedCallback=null;onInit(){}async backToCallerPage(){let i=await this.storage.get("authCaller");if(i){let{type:c,tabId:f}=i;c==="tab"&&pn.default.tabs.update(f,{active:!0})}}resolveChatGptAuthError(){return this.createChatGptTabForAuth()}async isThisTheAuthTab(){let i=this.lastCaller?.tabId,{pinnedTabId:c,authCaller:f}=await this.storage.getAll();return!!(f&&c===i)}async markAuthFinished(){return this.storage.update({authCaller:null})}async waitIframeLoaded(){return new Promise((i,c)=>{this.iframeLoadedCallback=()=>{i()},setTimeout(()=>{c("timeout")},8*1e3)})}async markIframeLoaded(){this.iframeLoadedCallback?.()}async createChatGptTabForAuth(){let i=this.lastCaller,c=await this.storage.get("pinnedTabId"),f=null;if(c){Gr.log("focused to old tab",c);try{f=await pn.default.tabs.get(c),pn.default.tabs.reload(f.id),pn.default.tabs.update(f.id,{active:!0,pinned:!0})}catch(d){Gr.error(d)}}return f||(Gr.log("create new tab",c),f=await pn.default.tabs.create({url:Rm,pinned:!0,active:!0})),Gr.log("update storage",f.id,i),this.storage.update({pinnedTabId:f.id,authCaller:i})}};ln(Lt,"serviceName","AuthTabService");var _u=new Ot(Lt.serviceName,Lt);var Es=ct(yt(),1);var yu=ct(ws(),1),Un=ct(yt(),1);var Au=Ce.getLogger("ConfigService"),Dt=class extends kt{storagePrefix="";defaultStorageValues={installTime:0,triggerMode:"always",theme:"auto",language:"auto",provider:"chatgpt","provider:gpt3":null,"ui:popup:hideShortcutsTip":!1,ratingTipShowTimes:0};onInit(){Au.log("config service init",this.storage),Un.default.storage.local.onChanged.addListener(i=>{let c=(0,yu.pick)(i,Object.keys(this.defaultStorageValues));Object.keys(c).length&&(Au.log("config change"),this.emit("configChange",c))})}async shouldShowRatingTip(){let i=await Un.default.storage.local.get("ratingTipShowTimes");if(i){let f=i.ratingTipShowTimes;typeof f=="number"&&(await Un.default.storage.local.remove("ratingTipShowTimes"),await this.set("ratingTipShowTimes",f))}let c=await this.get("ratingTipShowTimes");return c>=5?!1:(await this.set("ratingTipShowTimes",c+1),c>=2)}async get(i){return this.storage.get(i)}async set(i,c){this.storage.set(i,c)}async getAll(){return this.storage.getAll()}openOptionsPage(){Un.default.runtime.openOptionsPage()}async update(i){return this.storage.update(i)}async getProviderConfigs(){let i=await this.get("provider");if(i==="gpt3"){let c=await this.get("provider:gpt3");return{provider:i,configs:c}}return{provider:i,configs:null}}};ln(Dt,"serviceName","ConfigService");var it=new Ot(Dt.serviceName,Dt);var Ts=class{baseUrl="https://webapp.chatgpt4google.com/api";async createShare(i){return await fetch(`${this.getFullUrl("/share/create")}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:JSON.stringify({messages:i.messages,modelName:i.modelName})})}).then(c=>c.json())}getFullUrl(i){return`${this.baseUrl}${i}`}},xu=new Ts;var Br=class{emitter;event;handler;destroyed=!1;listenBy;constructor(i,c,f,d){this.event=i,this.handler=c,this.emitter=f,this.listenBy=d}unregister(){this.emitter.off(this.event,this),this._destroy()}_destroy(){return this.destroyed?!1:(this.handler=null,this.emitter=null,this.destroyed=!0,!0)}},Fr=class{_events={};on(i,c){if(!c)throw new TypeError("invalid handler! --EventEmitter");this._events[i]||(this._events[i]=[]);let f=new Br(i,c,this,null);return this._events[i]?.push(f),f}listenBy(i,c,f){if(!f)throw new TypeError("invalid handler! --EventEmitter");this._events[c]||(this._events[c]=[]);let d=new Br(c,f,this,i);return this._events[c]?.push(d),d}once(i,c){let f=this.on(i,d=>{c(d),f.unregister()});return f}emit(i,c=null){if(!this._events[i])return!1;let f=[];for(let d of this._events[i])d.destroyed||(f.push(d),d.handler.call(this,c));return!0}off(i,c){if(!this._events[i])return!1;if(c){for(let f=this._events[i],d=0;d<f.length;d++){let x=f[d];if(x===c)return this._events[i]=this._events[i]?.filter(C=>C!==x),this._events[i]?.length===0&&delete this._events[i],!0}return console.error(c,this),console.error(`Cannot find listener of ${i} --EventEmitter`),!1}for(let f=this._events[i],d=0;d<f.length;d++){let x=f[d];this._events[i][d]=null,x._destroy()}return delete this._events[i],!0}stopListenBy(i){for(let c in this._events)this._events[c]=this._events[c]?.filter(f=>f.listenBy===i?(f._destroy(),!1):!0)}removeAllListeners(){for(let i in this._events){let c=this._events[i];for(let f=c,d=0;d<f.length;d++)c[d]=null;this._events[i]=null}}};function wu(u){let i,c,f,d,x,C,k;return E(),{feed:M,reset:E};function E(){i=!0,c="",f=0,d=-1,x=void 0,C=void 0,k=""}function M(L){c=c?c+L:L,i&&Om(c)&&(c=c.slice(bu.length)),i=!1;let W=c.length,Y=0,Z=!1;for(;Y<W;){Z&&(c[Y]===`
`&&++Y,Z=!1);let ne=-1,ve=d,j;for(let oe=f;ne<0&&oe<W;++oe)j=c[oe],j===":"&&ve<0?ve=oe-Y:j==="\r"?(Z=!0,ne=oe-Y):j===`
`&&(ne=oe-Y);if(ne<0){f=W-Y,d=ve;break}else f=0,d=-1;B(c,Y,ve,ne),Y+=ne+1}Y===W?c="":Y>0&&(c=c.slice(Y))}function B(L,W,Y,Z){if(Z===0){k.length>0&&(u({type:"event",id:x,event:C||void 0,data:k.slice(0,-1)}),k="",x=void 0),C=void 0;return}let ne=Y<0,ve=L.slice(W,W+(ne?Z:Y)),j=0;ne?j=Z:L[W+Y+1]===" "?j=Y+2:j=Y+1;let oe=W+j,ce=Z-j,b=L.slice(oe,oe+ce).toString();if(ve==="data")k+=b?"".concat(b,`
`):`
`;else if(ve==="event")C=b;else if(ve==="id"&&!b.includes("\0"))x=b;else if(ve==="retry"){let T=parseInt(b,10);Number.isNaN(T)||u({type:"reconnect-interval",value:T})}}}var bu=[239,187,191];function Om(u){return bu.every((i,c)=>u.charCodeAt(c)===i)}var Ss=Ce.getLogger("ChatService"),Wn=class{onData=null},Ur=class{constructor(i){this.chatService=i}baseUrl="https://chat.openai.com/backend-api";taskMap={};modelName=null;async getToken(){let i=await fetch("https://chat.openai.com/api/auth/session");if(i.status===403)throw"CLOUDFLARE";let c=await i.json();if(c.accessToken)return c.accessToken;throw"UNAUTHORIZED"}async fetchModels(i){return(await this.fetch({method:"GET",path:`${this.baseUrl}/models`,headers:this.getRequestHeader(i)})).models}async feedback(i,c){return await this.fetch({method:"POST",path:`${this.baseUrl}/conversation/message_feedback`,headers:this.getRequestHeader(i),data:c})}cancelTask(i,c){let f=this.taskMap[c.taskId];!f||(f.abortController.abort(),delete this.taskMap[f.taskId])}async updateTitle(i,c){return await this.fetch({method:"POST",path:`${this.baseUrl}/conversation/gen_title/${c.chatGptConvId}`,headers:this.getRequestHeader(i),data:{message_id:c.messageId,model:this.modelName}})}async getAnswer(i,c){let f=new Wn,d=new AbortController,x={taskId:c.taskId,abortController:d,conversationId:c.conversationId};return this.doGetAnswer({token:i,taskInfo:x,params:c,resp:f}).catch(C=>{f.onData?.(null,!0,C)}),f}async deleteConversation(i,c){let{conversationId:f}=c;for(let C of Object.keys(this.taskMap))this.taskMap[C].conversationId===f&&this.cancelTask(i,{taskId:C});let x=(await this.chatService.getChatGptConversationMap())[f];if(!x)throw"CONVERSATION_NOT_FOUND";return this.chatService.removeChatGptConversationData(f),await this.fetch({path:`${this.baseUrl}/conversation/${x.chatGptConvId}`,method:"PATCH",headers:this.getRequestHeader(i),data:{isVisible:!1}})}async doGetAnswer(i){let{token:c,taskInfo:f,params:d,resp:x}=i;this.taskMap[f.taskId]=f;let C=null,k=ie.genId();await this.fetchCompletions({question:d,messageId:k,token:c,taskInfo:f,onMessage:E=>{if(E==="[DONE]"){this.chatService.getChatGptConversationMap().then(M=>{Ss.log("chat gpt resp msg:",{...C,chatGptConvId:M[d.conversationId].chatGptConvId})}),x.onData?.(C,!0),this.cancelTask(c,{taskId:f.taskId});return}try{let M=JSON.parse(E);if(M.message?.author?.role!=="assistant")return;let B=M.message?.content?.parts?.[0];B&&(this.chatService.getChatGptConversationMap().then(L=>{let W=d.conversationId;L[W]||this.chatService.addChatGptConversationData(W,{chatGptConvId:M.conversation_id,createdAt:Date.now()})}),C={content:B,parentMessageId:k,type:"answer",messageId:M.message.id,conversationId:d.conversationId},x.onData?.(C,!1))}catch(M){Ss.error("unsupported streaming msg:",M)}}})}async getModelName(i){try{if(!this.modelName){let c=await this.fetchModels(i);this.modelName=c[0].slug}return this.modelName}catch(c){return Ss.error(c),"text-davinci-002-render-sha"}}getRequestHeader(i){return{"Content-Type":"application/json",Authorization:`Bearer ${i}`}}async fetchCompletions(i){let{onMessage:c,taskInfo:f,question:d,messageId:x,token:C}=i,k=await this.chatService.getChatGptConversationMap(),E=await this.getModelName(C),M=k[d.conversationId],B=f.abortController.signal;if(B.aborted)return;let L=await this.fetch({method:"POST",path:`${this.baseUrl}/conversation`,headers:this.getRequestHeader(C),returnOriginResponse:!0,signal:f.abortController.signal,data:{action:"next",messages:[{id:x,role:"user",content:{contentType:"text",parts:[d.content]}}],conversationId:M?M.chatGptConvId:void 0,model:E,parentMessageId:d.parentMessageId||ie.genId()}});if(!L.ok){let Z=await L.json().catch();throw this.openApiErrorHandler(Z)}let W=wu(Z=>{Z.type==="event"&&c(Z.data)}),Y=L.body.getReader();try{for(;!B.aborted;){let{done:Z,value:ne}=await Y.read();if(Z)return;let ve=new TextDecoder().decode(ne);W.feed(ve)}}catch{Y.releaseLock()}}async fetch(i){let c=ie.underlize(i.data),f=await fetch(i.path,{method:i.method,headers:i.headers,body:c==null?void 0:JSON.stringify(c),signal:i.signal});if(f.status===403)throw"CLOUDFLARE";if(i.returnOriginResponse)return f;if(f.ok){let x=await f.json();return ie.camelize(x)}let d=await f.json().catch(()=>({}));throw i.errorHandler?i.errorHandler(d):this.openApiErrorHandler(d)}openApiErrorHandler(i){let c="",f="";if(i?.detail){let d=i.detail;typeof d=="string"?c=d:d.message&&typeof d.message=="string"&&(c=d.message,f=d.code)}return c?c.includes("Too many requests")?"TOO_MANY_REQUESTS":c.includes("Unauthorized")||c.includes("expired")||f==="invalid_jwt"?"UNAUTHORIZED":c.includes("Not Found")?"OPENAI_NOT_FOUND":c:"UNKNOWN"}};var $e=ct(yt(),1),Wr=Ce.getLogger("ChatService"),km=3600*1e3*72,Hr=class{constructor(i,c){this.storage=i;this.service=c;this.init().then(()=>{this.chatGptRequester=new Ur(this.service)}).catch(f=>{Wr.error("ChatGptProvider init error",f)})}currentSenderPort;get currentSenderTabId(){return this.currentSenderPort?.sender?.tab?.id}pendingRequests={};chatGptRequester;conversationMap;initReady=!1;events=new Fr;async init(){this.storage.removeDeprecated("chatGpt"),this.conversationMap=await this.loadConversationMap(),await this.removeOutdatedConversations(),De.isProd&&this.initRequestSenderForProd(),$e.default.runtime.onConnect.addListener(i=>{i.name==="ChatGptRequestSender"&&(Wr.log("ChatGptRequestSender connected"),this.currentSenderPort&&this.disposeCurrentSenderPort(),this.currentSenderPort=i,i.onMessage.addListener(c=>{this.pendingRequests[c.reqId](c)}),i.onDisconnect.addListener(()=>{i===this.currentSenderPort&&(this.currentSenderPort=void 0)}))}),this.initReady=!0,this.events.emit("initReady")}async loadConversationMap(){let i=await this.storage.get("chatGptConversationMap");return i||Wr.error("No conversationMap when init"),i||{}}initRequestSenderForProd(){this.searchAndInsertRequestSender(),$e.default.tabs.onUpdated.addListener((i,c)=>{$e.default.tabs.get(i).then(f=>{this.isTargetHost(f.url)&&c.status==="complete"&&(this.disposeCurrentSenderPort(),this.insertScriptToTab(i))})}),$e.default.tabs.onRemoved.addListener(i=>{i===this.currentSenderTabId&&(this.disposeCurrentSenderPort(),this.searchAndInsertRequestSender())})}async createConversation(){return`conv:${ie.genId()}`}async addConversationData(i,c){this.conversationMap[i]=c,await this.saveConversationMap()}async removeConversationData(i){delete this.conversationMap[i],await this.saveConversationMap()}async feedback(i){return this.callRequestMethod("feedback",i)}async deleteConversation(i){let c=this.conversationMap[i];!c||c.kept||this.callRequestMethod("deleteConversation",{conversationId:i})}cancelTask(i){return this.callRequestMethod("cancelTask",{taskId:i})}getAnswer(i,c){let f=`task:${ie.genId()}`;return(async()=>{let x=await it.get("language");i.parentMessageId||(i.content=ie.addPromptLangSuffix(i.content,x)),this.callRequestMethod("getAnswer",{taskId:f,...i},c)})(),{taskId:f}}hasChatGptTab(){return!!this.currentSenderPort?.sender?.tab}focusChatGptTab(i=!1){if(!this.hasChatGptTab())return!1;let c=this.currentSenderPort.sender.tab;return $e.default.windows.update(c.windowId,{focused:!0}),$e.default.tabs.update(c.id,{active:!0}),i&&$e.default.tabs.reload(c.id),!0}createChatGptTab(){return $e.default.windows.create({url:"https://chat.openai.com/chat",type:"normal",width:200,focused:!0}),!0}async getConversationMap(){return this.initReady?this.conversationMap:new Promise(i=>{this.events.once("initReady",()=>{i(this.conversationMap)})})}async saveConversationMap(){return this.storage.update({chatGptConversationMap:this.conversationMap})}async openInChatGptWebApp(i){if(!this.conversationMap[i])return;let c=this.conversationMap[i];$e.default.tabs.create({url:`https://chat.openai.com/chat/${c.chatGptConvId}`,active:!0})}async keepConversation(i,c){if(!this.conversationMap[i])return;let f=this.conversationMap[i];f.kept=!0,this.saveConversationMap();let d=f.chatGptConvId;this.callRequestMethod("updateTitle",{chatGptConvId:d,messageId:c})}async unKeepConversation(i){!this.conversationMap[i]||(this.conversationMap[i].kept=!1,this.saveConversationMap())}async updateToken(i){await this.storage.set("chatGptToken",i)}isTargetHost(i){return i?.includes("https://chat.openai.com")}isTargetTab(i){return this.isTargetHost(i.url)&&i.id}disposeCurrentSenderPort(){this.currentSenderPort&&(this.currentSenderPort.disconnect(),this.currentSenderPort=void 0)}searchAndInsertRequestSender(){this.currentSenderPort||$e.default.tabs.query({}).then(i=>{for(let c of i)if(this.isTargetTab(c)){this.insertScriptToTab(c.id);break}})}async insertScriptToTab(i){$e.default.scripting.executeScript({target:{tabId:i},files:["entries/chatGptInjection.js"]}),$e.default.scripting.insertCSS({target:{tabId:i},files:["entries/chatGptInjection.css"]})}async callRequestMethod(i,c,f){if(this.currentSenderPort){let d=ie.genId();return new Promise((x,C)=>{this.pendingRequests[d]=E=>{let{respType:M,data:B,finished:L,error:W}=E;M==="data"?(f?.(B,L,this.normalizeError(W)),L&&(x(null),delete this.pendingRequests[d])):M==="resp"?(x(B),delete this.pendingRequests[d]):(C(B),delete this.pendingRequests[d])};let k={event:"callMethod",reqId:d,data:{method:i,params:c}};this.currentSenderPort.postMessage(k)}).catch(x=>{throw f?.(null,!0,this.normalizeError(x)),x})}else try{let d=await this.getToken(),x=await this.chatGptRequester[i](d,c);return x instanceof Wn?(x.onData=(C,k,E)=>{f?.(C,k,this.normalizeError(E))},null):x}catch(d){throw f?.(null,!0,this.normalizeError(d)),d}}normalizeError(i){return i===void 0?i:(Wr.error(i,JSON.stringify(i)),typeof i=="string"?i:"UNKNOWN_OPENAI_ERROR")}async getToken(i=!0){if(i){let f=await this.storage.get("chatGptToken");if(f)return f}let c=await this.chatGptRequester.getToken();return await this.storage.update({chatGptToken:c}),c}async removeOutdatedConversations(){let i=this.conversationMap,c=Date.now();for(let f of Object.keys(i)){let{createdAt:d=0}=i[f];c-d>km&&delete i[f]}await this.saveConversationMap()}};var Is=Ce.getLogger("ChatService"),Tu=800,Lm=3600*1e3*72,Iu="A",Su="You",Dm=`
${Iu}: `,$r=class{constructor(i){this.storage=i;this.removeOutdatedConversations()}host="https://api.openai.com/v1";pendingTasks={};async createConversation(){return`conv:${ie.genId()}`}async getAnswer(i,c){let f=`task:${ie.genId()}`,d=`msg:${ie.genId()}`,x=i.conversationId;await this.addConversationMessage({...i,messageId:d,type:"question"});let C={conversationId:x,messageId:`msg:${ie.genId()}`,type:"answer",content:""},k=new AbortController,E={taskId:f,conversationId:x,abortController:k};this.pendingTasks[f]=E;let M=!1;return this.fetchCompletions({convId:x,taskInfo:E,onData:B=>{C.content+=B.text||"",c(C,B.finished,B.error),B.finished&&(M=!0,Is.debug("answer finished",C),this.addConversationMessage(C))},onAbort:()=>{!M&&C.content.trim()&&(Is.debug("aborted, save partial message",C),this.addConversationMessage(C))}}).catch(B=>{throw c(null,!0,`${B}`),B}),{taskId:f}}async cancelTask(i){let c=this.pendingTasks[i];Is.debug("cancel task",c),c&&await this.handleTaskFinish(c)}async deleteConversation(i){for(let f of Object.keys(this.pendingTasks))this.pendingTasks[f].conversationId===i&&this.cancelTask(f);let c=await this.getStore();delete c.conversations[i],this.saveStore(c)}async feedback(i){return!0}async addConversationMessage(i){let c=await this.getStore(),f=i.conversationId;c.conversations[f]||(c.conversations[f]={messages:[],createdAt:Date.now()}),c.conversations[f].messages.push(i),await this.saveStore(c)}async getStore(){return this.storage.get("gpt3")}async saveStore(i){return this.storage.set("gpt3",i)}async fetchCompletions(i){let{taskInfo:c,onData:f,onAbort:d}=i;if(c.abortController.signal.aborted)return;let C=await this.getProviderConfigs(),{apiKey:k,modelType:E="chat_model"}=C||{},M;if(E==="chat_model"?M=await this.fetchChatCompletions(i,k):M=await this.fetchTextCompletions(i,k),M.status!==200)throw`${M.statusText}(${M.status})`;let B=M.body?.pipeThrough(new TextDecoderStream).getReader(),L=!1;for(;;){let W;try{W=await B?.read()}catch{d();return}if(!W||W.done)return;let Z=W.value.split(/\r?\n\r?\n/);for(let ne of Z){let ve=ne.replace(/^data: /,""),j;E==="chat_model"?j=b=>{let T=b.choices[0];return T.finish_reason?{text:"",finished:!0}:{text:T.delta?.content||"",finished:!1}}:j=b=>{let T=b.choices[0];return T.finish_reason?{text:"",finished:!0}:{text:T.text,finished:!1}};let oe=this.parseStreamResult(ve,j),{text:ce}=oe;if(L||(ce=ce.replace(/^\n*/,"")),ce.length>0&&(L=!0),f({text:ce,finished:oe.finished}),oe.finished){this.handleTaskFinish(c);return}}}}async fetchTextCompletions(i,c){let f=await this.createPrompt(i.convId);return fetch(`${this.host}/completions`,{headers:this.getHeaders(c),method:"POST",signal:i.taskInfo.abortController.signal,body:JSON.stringify({model:ms["text_model"],prompt:f,stream:!0,temperature:.3,stop:Dm,max_tokens:Tu})})}async fetchChatCompletions(i,c){return fetch(`${this.host}/chat/completions`,{headers:this.getHeaders(c),method:"POST",signal:i.taskInfo.abortController.signal,body:JSON.stringify({model:ms["chat_model"],messages:await this.createPromptMessages(i.convId),stream:!0,temperature:.5,max_tokens:Tu})})}async createPrompt(i){let c=await this.getStore(),f=await it.getAll(),d=f.language,k=(f["provider:gpt3"]?.guideType||"default")==="default"?gu:fu;return c.conversations[i].messages.forEach((E,M)=>{let B=E.type==="question"?Iu:Su,L=E.content.trim();M===0&&(L=ie.addPromptLangSuffix(L,d)),k+=`${B}: ${L}
`}),k+=`${Su}:`,k}async createPromptMessages(i){let c=await this.getStore(),f=await it.getAll(),d=f.language,k=[{role:"system",content:(f["provider:gpt3"]?.guideType||"default")==="default"?pu:hu}];return c.conversations[i].messages.forEach((E,M)=>{let B=E.type==="question"?"user":"assistant",L=E.content.trim();M===0&&(L=ie.addPromptLangSuffix(L,d)),k.push({role:B,content:L})}),k}getHeaders(i){return{"Content-Type":"application/json",Authorization:`Bearer ${i}`}}parseStreamResult(i,c){if(!i)return{text:"",finished:!1};if(i==="[DONE]")return{text:"",finished:!0};let f=JSON.parse(i);if(f.error)throw typeof f.error=="string"?f.error:f.error?.message||"UNKNOWN_OPENAI_ERROR";return c(f)}async handleTaskFinish(i){i.abortController.abort(),delete this.pendingTasks[i.taskId]}async getProviderConfigs(){let{configs:i}=await it.getProviderConfigs();return i}async removeOutdatedConversations(){let i=await this.getStore(),c=Date.now();for(let f of Object.keys(i.conversations)){let{createdAt:d=0}=i.conversations[f];c-d>Lm&&delete i.conversations[f]}await this.saveStore(i)}};var Nt=class extends kt{storagePrefix="chat";defaultStorageValues={tabConversationMap:{},gpt3:{conversations:{}},chatGptToken:null,chatGptConversationMap:{}};providers;onInit(){this.providers={chatGpt:new Hr(this.storage,this),gpt3:new $r(this.storage)},Es.default.tabs.onUpdated.addListener(async(i,c)=>{let f=await this.storage.get("tabConversationMap"),d=f[i];d&&c.status==="loading"&&this.autoDeleteConversation({convId:d,map:f,tabId:i})}),Es.default.tabs.onRemoved.addListener(async i=>{let c=await this.storage.get("tabConversationMap"),f=c[i];f&&this.autoDeleteConversation({convId:f,map:c,tabId:i})})}async createConversation(){let i=this.lastCaller?.tabId,c;if(await this.getProviderType()==="gpt3"&&(c=await this.providers.gpt3.createConversation()),c=await this.providers.chatGpt.createConversation(),i){let f=await this.storage.get("tabConversationMap");f[i]=c,await this.storage.update({tabConversationMap:f})}return c}async getAnswer(i,c){return await this.getProviderType()==="gpt3"?this.providers.gpt3.getAnswer(i,c):this.providers.chatGpt.getAnswer(i,c)}async feedback(i){return await this.getProviderType()==="gpt3"?this.providers.gpt3.feedback(i):this.providers.chatGpt.feedback(i)}createShare(i,c){return xu.createShare({messages:i,modelName:c})}async cancelTask(i){return await this.getProviderType()==="gpt3"?this.providers.gpt3.cancelTask(i):this.providers.chatGpt.cancelTask(i)}async addChatGptConversationData(i,c){return this.providers.chatGpt.addConversationData(i,c)}async removeChatGptConversationData(i){return this.providers.chatGpt.removeConversationData(i)}async deleteConversation(i){return await this.getProviderType()==="gpt3"?this.providers.gpt3.deleteConversation(i):this.providers.chatGpt.deleteConversation(i)}async getChatGptConversationMap(){return this.providers.chatGpt.getConversationMap()}async clearChatGptToken(){await this.storage.update({chatGptToken:null})}openInChatGptWebApp(i){this.providers.chatGpt.openInChatGptWebApp(i)}async keepChatGptConversation(i,c){this.providers.chatGpt.keepConversation(i,c)}async unKeepChatGptConversation(i){this.providers.chatGpt.unKeepConversation(i)}updateChatGptToken(i){return this.providers.chatGpt.updateToken(i)}async getProviderType(){return it.get("provider")}async autoDeleteConversation(i){let{convId:c,map:f,tabId:d}=i;this.deleteConversation(c),delete f[d],await this.storage.update({tabConversationMap:f})}};ln(Nt,"serviceName","ChatService");var Eu=new Ot(Nt.serviceName,Nt);var dn=ct(yt(),1),Yt=Ce.getLogger("BackgroundApp");De.markIsBackground();var Ps=class{services;constructor(){this.services={[Dt.serviceName]:it,[Nt.serviceName]:Eu,[Lt.serviceName]:_u},this.init(),this.addDebugTools()}init(){Yt.log("init background",new Date);for(let i of Object.keys(this.services))Yt.log("init service",i),this.services[i]._initService(i);De.isProd&&dn.default.scripting.registerContentScripts([{id:"ChatGptIframeChecker",js:["entries/iframeChecker.js"],matches:["https://chat.openai.com/chat"],allFrames:!0,runAt:"document_start"}]),dn.default.runtime.onInstalled.addListener(i=>{i.reason==="install"&&(Yt.log("extension first install"),dn.default.runtime.openOptionsPage(),it.set("installTime",Date.now()))}),dn.default.runtime.onMessage.addListener((i,c)=>{let{tab:f,url:d}=c;if(i.type==="callServiceMethod"){let{serviceName:x,methodName:C,finalArgs:k}=i.data,E=`${x}.${C}`;Yt.debug(`[RemoteServiceCall] ${E}`,{msgId:i.id,finalArgs:k,senderTab:c?.tab?.id});let M={type:d?.startsWith("http")||d?.startsWith("file")?"tab":"popup",tabId:f?.id,url:d};return this.services[x]._onCallMethod(M,C,k).then(L=>(Yt.debug(`- ${E} success`,{msgId:i.id,data:L}),L)).catch(L=>{throw Yt.error(`- ${E} error:`,{msgId:i.id,error:L}),L})}return Yt.debug("background on message",i,{senderTab:c?.tab?.id}),Promise.resolve()})}addDebugTools(){let i=Ce.console;globalThis.debugTools={showStorage:async()=>{let c=await dn.default.storage.local.get();i.log(c)},clearChatGptToken:async()=>{await this.services.ChatService.clearChatGptToken(),i.log("done")},enableAllLogs(){Ce.enableAllLoggers()}}}};new Ps;})();
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

import{d as Sn,g as Tn}from"./core-ed2e5051.js";/*! @license DOMPurify 2.4.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.7/LICENSE */function Je(u){"@babel/helpers - typeof";return Je=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Je(u)}function xt(u,e){return xt=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i},xt(u,e)}function In(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function qu(u,e,t){return In()?qu=Reflect.construct:qu=function(n,r,a){var s=[null];s.push.apply(s,r);var d=Function.bind.apply(n,s),o=new d;return a&&xt(o,a.prototype),o},qu.apply(null,arguments)}function _e(u){return _n(u)||An(u)||Nn(u)||kn()}function _n(u){if(Array.isArray(u))return Et(u)}function An(u){if(typeof Symbol<"u"&&u[Symbol.iterator]!=null||u["@@iterator"]!=null)return Array.from(u)}function Nn(u,e){if(u){if(typeof u=="string")return Et(u,e);var t=Object.prototype.toString.call(u).slice(8,-1);if(t==="Object"&&u.constructor&&(t=u.constructor.name),t==="Map"||t==="Set")return Array.from(u);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Et(u,e)}}function Et(u,e){(e==null||e>u.length)&&(e=u.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=u[t];return i}function kn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Rn=Object.hasOwnProperty,ti=Object.setPrototypeOf,Dn=Object.isFrozen,On=Object.getPrototypeOf,Ln=Object.getOwnPropertyDescriptor,fe=Object.freeze,De=Object.seal,Cn=Object.create,Mi=typeof Reflect<"u"&&Reflect,Hu=Mi.apply,wt=Mi.construct;Hu||(Hu=function(e,t,i){return e.apply(t,i)});fe||(fe=function(e){return e});De||(De=function(e){return e});wt||(wt=function(e,t){return qu(e,_e(t))});var Mn=we(Array.prototype.forEach),ii=we(Array.prototype.pop),Su=we(Array.prototype.push),Bu=we(String.prototype.toLowerCase),rt=we(String.prototype.toString),Pn=we(String.prototype.match),Ie=we(String.prototype.replace),Un=we(String.prototype.indexOf),qn=we(String.prototype.trim),le=we(RegExp.prototype.test),at=Bn(TypeError);function we(u){return function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return Hu(u,e,i)}}function Bn(u){return function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return wt(u,t)}}function O(u,e,t){var i;t=(i=t)!==null&&i!==void 0?i:Bu,ti&&ti(u,null);for(var n=e.length;n--;){var r=e[n];if(typeof r=="string"){var a=t(r);a!==r&&(Dn(e)||(e[n]=a),r=a)}u[r]=!0}return u}function du(u){var e=Cn(null),t;for(t in u)Hu(Rn,u,[t])===!0&&(e[t]=u[t]);return e}function Ou(u,e){for(;u!==null;){var t=Ln(u,e);if(t){if(t.get)return we(t.get);if(typeof t.value=="function")return we(t.value)}u=On(u)}function i(n){return console.warn("fallback value for",n),null}return i}var ni=fe(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),st=fe(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ot=fe(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Fn=fe(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ct=fe(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Gn=fe(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ri=fe(["#text"]),ai=fe(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),dt=fe(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),si=fe(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Lu=fe(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Vn=De(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Hn=De(/<%[\w\W]*|[\w\W]*%>/gm),zn=De(/\${[\w\W]*}/gm),Wn=De(/^data-[\-\w.\u00B7-\uFFFF]/),Kn=De(/^aria-[\-\w]+$/),jn=De(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Zn=De(/^(?:\w+script|data):/i),Yn=De(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),$n=De(/^html$/i),Qn=function(){return typeof window>"u"?null:window},Xn=function(e,t){if(Je(e)!=="object"||typeof e.createPolicy!="function")return null;var i=null,n="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(n)&&(i=t.currentScript.getAttribute(n));var r="dompurify"+(i?"#"+i:"");try{return e.createPolicy(r,{createHTML:function(s){return s},createScriptURL:function(s){return s}})}catch{return console.warn("TrustedTypes policy "+r+" could not be created."),null}};function Pi(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Qn(),e=function(c){return Pi(c)};if(e.version="2.4.7",e.removed=[],!u||!u.document||u.document.nodeType!==9)return e.isSupported=!1,e;var t=u.document,i=u.document,n=u.DocumentFragment,r=u.HTMLTemplateElement,a=u.Node,s=u.Element,d=u.NodeFilter,o=u.NamedNodeMap,h=o===void 0?u.NamedNodeMap||u.MozNamedAttrMap:o,g=u.HTMLFormElement,f=u.DOMParser,v=u.trustedTypes,l=s.prototype,p=Ou(l,"cloneNode"),b=Ou(l,"nextSibling"),T=Ou(l,"childNodes"),R=Ou(l,"parentNode");if(typeof r=="function"){var w=i.createElement("template");w.content&&w.content.ownerDocument&&(i=w.content.ownerDocument)}var x=Xn(v,t),U=x?x.createHTML(""):"",L=i,z=L.implementation,j=L.createNodeIterator,Z=L.createDocumentFragment,$=L.getElementsByTagName,xe=t.importNode,q={};try{q=du(i).documentMode?i.documentMode:{}}catch{}var Y={};e.isSupported=typeof R=="function"&&z&&z.createHTMLDocument!==void 0&&q!==9;var ge=Vn,Ke=Hn,Se=zn,Pe=Wn,tu=Kn,je=Zn,Ue=Yn,Oe=jn,W=null,Le=O({},[].concat(_e(ni),_e(st),_e(ot),_e(ct),_e(ri))),K=null,qe=O({},[].concat(_e(ai),_e(dt),_e(si),_e(Lu))),k=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ee=null,bu=null,ku=!0,Ze=!0,Eu=!1,Ye=!0,$e=!1,Te=!1,Be=!1,iu=!1,Qe=!1,nu=!1,ru=!1,he=!0,Fe=!1,pu="user-content-",C=!0,P=!1,D={},G=null,M=O({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),au=null,V=O({},["audio","video","img","source","image","track"]),Ge=null,ye=O({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),su="http://www.w3.org/1998/Math/MathML",ou="http://www.w3.org/2000/svg",Ve="http://www.w3.org/1999/xhtml",vu=Ve,Ju=!1,et=null,pn=O({},[su,ou,Ve],rt),cu,vn=["application/xhtml+xml","text/html"],mn="text/html",ie,mu=null,gn=i.createElement("form"),Kt=function(c){return c instanceof RegExp||c instanceof Function},ut=function(c){mu&&mu===c||((!c||Je(c)!=="object")&&(c={}),c=du(c),cu=vn.indexOf(c.PARSER_MEDIA_TYPE)===-1?cu=mn:cu=c.PARSER_MEDIA_TYPE,ie=cu==="application/xhtml+xml"?rt:Bu,W="ALLOWED_TAGS"in c?O({},c.ALLOWED_TAGS,ie):Le,K="ALLOWED_ATTR"in c?O({},c.ALLOWED_ATTR,ie):qe,et="ALLOWED_NAMESPACES"in c?O({},c.ALLOWED_NAMESPACES,rt):pn,Ge="ADD_URI_SAFE_ATTR"in c?O(du(ye),c.ADD_URI_SAFE_ATTR,ie):ye,au="ADD_DATA_URI_TAGS"in c?O(du(V),c.ADD_DATA_URI_TAGS,ie):V,G="FORBID_CONTENTS"in c?O({},c.FORBID_CONTENTS,ie):M,Ee="FORBID_TAGS"in c?O({},c.FORBID_TAGS,ie):{},bu="FORBID_ATTR"in c?O({},c.FORBID_ATTR,ie):{},D="USE_PROFILES"in c?c.USE_PROFILES:!1,ku=c.ALLOW_ARIA_ATTR!==!1,Ze=c.ALLOW_DATA_ATTR!==!1,Eu=c.ALLOW_UNKNOWN_PROTOCOLS||!1,Ye=c.ALLOW_SELF_CLOSE_IN_ATTR!==!1,$e=c.SAFE_FOR_TEMPLATES||!1,Te=c.WHOLE_DOCUMENT||!1,Qe=c.RETURN_DOM||!1,nu=c.RETURN_DOM_FRAGMENT||!1,ru=c.RETURN_TRUSTED_TYPE||!1,iu=c.FORCE_BODY||!1,he=c.SANITIZE_DOM!==!1,Fe=c.SANITIZE_NAMED_PROPS||!1,C=c.KEEP_CONTENT!==!1,P=c.IN_PLACE||!1,Oe=c.ALLOWED_URI_REGEXP||Oe,vu=c.NAMESPACE||Ve,k=c.CUSTOM_ELEMENT_HANDLING||{},c.CUSTOM_ELEMENT_HANDLING&&Kt(c.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(k.tagNameCheck=c.CUSTOM_ELEMENT_HANDLING.tagNameCheck),c.CUSTOM_ELEMENT_HANDLING&&Kt(c.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(k.attributeNameCheck=c.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),c.CUSTOM_ELEMENT_HANDLING&&typeof c.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(k.allowCustomizedBuiltInElements=c.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),$e&&(Ze=!1),nu&&(Qe=!0),D&&(W=O({},_e(ri)),K=[],D.html===!0&&(O(W,ni),O(K,ai)),D.svg===!0&&(O(W,st),O(K,dt),O(K,Lu)),D.svgFilters===!0&&(O(W,ot),O(K,dt),O(K,Lu)),D.mathMl===!0&&(O(W,ct),O(K,si),O(K,Lu))),c.ADD_TAGS&&(W===Le&&(W=du(W)),O(W,c.ADD_TAGS,ie)),c.ADD_ATTR&&(K===qe&&(K=du(K)),O(K,c.ADD_ATTR,ie)),c.ADD_URI_SAFE_ATTR&&O(Ge,c.ADD_URI_SAFE_ATTR,ie),c.FORBID_CONTENTS&&(G===M&&(G=du(G)),O(G,c.FORBID_CONTENTS,ie)),C&&(W["#text"]=!0),Te&&O(W,["html","head","body"]),W.table&&(O(W,["tbody"]),delete Ee.tbody),fe&&fe(c),mu=c)},jt=O({},["mi","mo","mn","ms","mtext"]),Zt=O({},["foreignobject","desc","title","annotation-xml"]),yn=O({},["title","style","font","a","script"]),Ru=O({},st);O(Ru,ot),O(Ru,Fn);var tt=O({},ct);O(tt,Gn);var xn=function(c){var y=R(c);(!y||!y.tagName)&&(y={namespaceURI:vu,tagName:"template"});var E=Bu(c.tagName),B=Bu(y.tagName);return et[c.namespaceURI]?c.namespaceURI===ou?y.namespaceURI===Ve?E==="svg":y.namespaceURI===su?E==="svg"&&(B==="annotation-xml"||jt[B]):!!Ru[E]:c.namespaceURI===su?y.namespaceURI===Ve?E==="math":y.namespaceURI===ou?E==="math"&&Zt[B]:!!tt[E]:c.namespaceURI===Ve?y.namespaceURI===ou&&!Zt[B]||y.namespaceURI===su&&!jt[B]?!1:!tt[E]&&(yn[E]||!Ru[E]):!!(cu==="application/xhtml+xml"&&et[c.namespaceURI]):!1},He=function(c){Su(e.removed,{element:c});try{c.parentNode.removeChild(c)}catch{try{c.outerHTML=U}catch{c.remove()}}},it=function(c,y){try{Su(e.removed,{attribute:y.getAttributeNode(c),from:y})}catch{Su(e.removed,{attribute:null,from:y})}if(y.removeAttribute(c),c==="is"&&!K[c])if(Qe||nu)try{He(y)}catch{}else try{y.setAttribute(c,"")}catch{}},Yt=function(c){var y,E;if(iu)c="<remove></remove>"+c;else{var B=Pn(c,/^[\r\n\t ]+/);E=B&&B[0]}cu==="application/xhtml+xml"&&vu===Ve&&(c='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+c+"</body></html>");var be=x?x.createHTML(c):c;if(vu===Ve)try{y=new f().parseFromString(be,cu)}catch{}if(!y||!y.documentElement){y=z.createDocument(vu,"template",null);try{y.documentElement.innerHTML=Ju?U:be}catch{}}var de=y.body||y.documentElement;return c&&E&&de.insertBefore(i.createTextNode(E),de.childNodes[0]||null),vu===Ve?$.call(y,Te?"html":"body")[0]:Te?y.documentElement:de},$t=function(c){return j.call(c.ownerDocument||c,c,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT,null,!1)},En=function(c){return c instanceof g&&(typeof c.nodeName!="string"||typeof c.textContent!="string"||typeof c.removeChild!="function"||!(c.attributes instanceof h)||typeof c.removeAttribute!="function"||typeof c.setAttribute!="function"||typeof c.namespaceURI!="string"||typeof c.insertBefore!="function"||typeof c.hasChildNodes!="function")},wu=function(c){return Je(a)==="object"?c instanceof a:c&&Je(c)==="object"&&typeof c.nodeType=="number"&&typeof c.nodeName=="string"},ze=function(c,y,E){Y[c]&&Mn(Y[c],function(B){B.call(e,y,E,mu)})},Qt=function(c){var y;if(ze("beforeSanitizeElements",c,null),En(c)||le(/[\u0080-\uFFFF]/,c.nodeName))return He(c),!0;var E=ie(c.nodeName);if(ze("uponSanitizeElement",c,{tagName:E,allowedTags:W}),c.hasChildNodes()&&!wu(c.firstElementChild)&&(!wu(c.content)||!wu(c.content.firstElementChild))&&le(/<[/\w]/g,c.innerHTML)&&le(/<[/\w]/g,c.textContent)||E==="select"&&le(/<template/i,c.innerHTML))return He(c),!0;if(!W[E]||Ee[E]){if(!Ee[E]&&Jt(E)&&(k.tagNameCheck instanceof RegExp&&le(k.tagNameCheck,E)||k.tagNameCheck instanceof Function&&k.tagNameCheck(E)))return!1;if(C&&!G[E]){var B=R(c)||c.parentNode,be=T(c)||c.childNodes;if(be&&B)for(var de=be.length,oe=de-1;oe>=0;--oe)B.insertBefore(p(be[oe],!0),b(c))}return He(c),!0}return c instanceof s&&!xn(c)||(E==="noscript"||E==="noembed"||E==="noframes")&&le(/<\/no(script|embed|frames)/i,c.innerHTML)?(He(c),!0):($e&&c.nodeType===3&&(y=c.textContent,y=Ie(y,ge," "),y=Ie(y,Ke," "),y=Ie(y,Se," "),c.textContent!==y&&(Su(e.removed,{element:c.cloneNode()}),c.textContent=y)),ze("afterSanitizeElements",c,null),!1)},Xt=function(c,y,E){if(he&&(y==="id"||y==="name")&&(E in i||E in gn))return!1;if(!(Ze&&!bu[y]&&le(Pe,y))){if(!(ku&&le(tu,y))){if(!K[y]||bu[y]){if(!(Jt(c)&&(k.tagNameCheck instanceof RegExp&&le(k.tagNameCheck,c)||k.tagNameCheck instanceof Function&&k.tagNameCheck(c))&&(k.attributeNameCheck instanceof RegExp&&le(k.attributeNameCheck,y)||k.attributeNameCheck instanceof Function&&k.attributeNameCheck(y))||y==="is"&&k.allowCustomizedBuiltInElements&&(k.tagNameCheck instanceof RegExp&&le(k.tagNameCheck,E)||k.tagNameCheck instanceof Function&&k.tagNameCheck(E))))return!1}else if(!Ge[y]){if(!le(Oe,Ie(E,Ue,""))){if(!((y==="src"||y==="xlink:href"||y==="href")&&c!=="script"&&Un(E,"data:")===0&&au[c])){if(!(Eu&&!le(je,Ie(E,Ue,"")))){if(E)return!1}}}}}}return!0},Jt=function(c){return c.indexOf("-")>0},ei=function(c){var y,E,B,be;ze("beforeSanitizeAttributes",c,null);var de=c.attributes;if(de){var oe={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:K};for(be=de.length;be--;){y=de[be];var Du=y,ne=Du.name,nt=Du.namespaceURI;if(E=ne==="value"?y.value:qn(y.value),B=ie(ne),oe.attrName=B,oe.attrValue=E,oe.keepAttr=!0,oe.forceKeepAttr=void 0,ze("uponSanitizeAttribute",c,oe),E=oe.attrValue,!oe.forceKeepAttr&&(it(ne,c),!!oe.keepAttr)){if(!Ye&&le(/\/>/i,E)){it(ne,c);continue}$e&&(E=Ie(E,ge," "),E=Ie(E,Ke," "),E=Ie(E,Se," "));var ui=ie(c.nodeName);if(Xt(ui,B,E)){if(Fe&&(B==="id"||B==="name")&&(it(ne,c),E=pu+E),x&&Je(v)==="object"&&typeof v.getAttributeType=="function"&&!nt)switch(v.getAttributeType(ui,B)){case"TrustedHTML":{E=x.createHTML(E);break}case"TrustedScriptURL":{E=x.createScriptURL(E);break}}try{nt?c.setAttributeNS(nt,ne,E):c.setAttribute(ne,E),ii(e.removed)}catch{}}}}ze("afterSanitizeAttributes",c,null)}},wn=function A(c){var y,E=$t(c);for(ze("beforeSanitizeShadowDOM",c,null);y=E.nextNode();)ze("uponSanitizeShadowNode",y,null),!Qt(y)&&(y.content instanceof n&&A(y.content),ei(y));ze("afterSanitizeShadowDOM",c,null)};return e.sanitize=function(A){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y,E,B,be,de;if(Ju=!A,Ju&&(A="<!-->"),typeof A!="string"&&!wu(A))if(typeof A.toString=="function"){if(A=A.toString(),typeof A!="string")throw at("dirty is not a string, aborting")}else throw at("toString is not a function");if(!e.isSupported){if(Je(u.toStaticHTML)==="object"||typeof u.toStaticHTML=="function"){if(typeof A=="string")return u.toStaticHTML(A);if(wu(A))return u.toStaticHTML(A.outerHTML)}return A}if(Be||ut(c),e.removed=[],typeof A=="string"&&(P=!1),P){if(A.nodeName){var oe=ie(A.nodeName);if(!W[oe]||Ee[oe])throw at("root node is forbidden and cannot be sanitized in-place")}}else if(A instanceof a)y=Yt("<!---->"),E=y.ownerDocument.importNode(A,!0),E.nodeType===1&&E.nodeName==="BODY"||E.nodeName==="HTML"?y=E:y.appendChild(E);else{if(!Qe&&!$e&&!Te&&A.indexOf("<")===-1)return x&&ru?x.createHTML(A):A;if(y=Yt(A),!y)return Qe?null:ru?U:""}y&&iu&&He(y.firstChild);for(var Du=$t(P?A:y);B=Du.nextNode();)B.nodeType===3&&B===be||Qt(B)||(B.content instanceof n&&wn(B.content),ei(B),be=B);if(be=null,P)return A;if(Qe){if(nu)for(de=Z.call(y.ownerDocument);y.firstChild;)de.appendChild(y.firstChild);else de=y;return(K.shadowroot||K.shadowrootmod)&&(de=xe.call(t,de,!0)),de}var ne=Te?y.outerHTML:y.innerHTML;return Te&&W["!doctype"]&&y.ownerDocument&&y.ownerDocument.doctype&&y.ownerDocument.doctype.name&&le($n,y.ownerDocument.doctype.name)&&(ne="<!DOCTYPE "+y.ownerDocument.doctype.name+`>
`+ne),$e&&(ne=Ie(ne,ge," "),ne=Ie(ne,Ke," "),ne=Ie(ne,Se," ")),x&&ru?x.createHTML(ne):ne},e.setConfig=function(A){ut(A),Be=!0},e.clearConfig=function(){mu=null,Be=!1},e.isValidAttribute=function(A,c,y){mu||ut({});var E=ie(A),B=ie(c);return Xt(E,B,y)},e.addHook=function(A,c){typeof c=="function"&&(Y[A]=Y[A]||[],Su(Y[A],c))},e.removeHook=function(A){if(Y[A])return ii(Y[A])},e.removeHooks=function(A){Y[A]&&(Y[A]=[])},e.removeAllHooks=function(){Y={}},e}var ol=Pi(),St=function(u,e){return St=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},St(u,e)};function _u(u,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");St(u,e);function t(){this.constructor=u}u.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var N=function(){return N=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++){t=arguments[i];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},N.apply(this,arguments)};function Tt(u,e){var t={};for(var i in u)Object.prototype.hasOwnProperty.call(u,i)&&e.indexOf(i)<0&&(t[i]=u[i]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(u);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(u,i[n])&&(t[i[n]]=u[i[n]]);return t}function I(u,e,t,i){function n(r){return r instanceof t?r:new t(function(a){a(r)})}return new(t||(t=Promise))(function(r,a){function s(h){try{o(i.next(h))}catch(g){a(g)}}function d(h){try{o(i.throw(h))}catch(g){a(g)}}function o(h){h.done?r(h.value):n(h.value).then(s,d)}o((i=i.apply(u,e||[])).next())})}function _(u,e){var t={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},i,n,r,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(o){return function(h){return d([o,h])}}function d(o){if(i)throw new TypeError("Generator is already executing.");for(;a&&(a=0,o[0]&&(t=0)),t;)try{if(i=1,n&&(r=o[0]&2?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[o[0]&2,r.value]),o[0]){case 0:case 1:r=o;break;case 4:return t.label++,{value:o[1],done:!1};case 5:t.label++,n=o[1],o=[0];continue;case 7:o=t.ops.pop(),t.trys.pop();continue;default:if(r=t.trys,!(r=r.length>0&&r[r.length-1])&&(o[0]===6||o[0]===2)){t=0;continue}if(o[0]===3&&(!r||o[1]>r[0]&&o[1]<r[3])){t.label=o[1];break}if(o[0]===6&&t.label<r[1]){t.label=r[1],r=o;break}if(r&&t.label<r[2]){t.label=r[2],t.ops.push(o);break}r[2]&&t.ops.pop(),t.trys.pop();continue}o=e.call(u,t)}catch(h){o=[6,h],n=0}finally{i=r=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function hu(u){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&u[e],i=0;if(t)return t.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&i>=u.length&&(u=void 0),{value:u&&u[i++],done:!u}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ee(u,e){var t=typeof Symbol=="function"&&u[Symbol.iterator];if(!t)return u;var i=t.call(u),n,r=[],a;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)r.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(a)throw a.error}}return r}function Ce(u,e,t){if(t||arguments.length===2)for(var i=0,n=e.length,r;i<n;i++)(r||!(i in e))&&(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return u.concat(r||Array.prototype.slice.call(e))}var ae;(function(u){u.SET="$set",u.SET_ONCE="$setOnce",u.ADD="$add",u.APPEND="$append",u.PREPEND="$prepend",u.REMOVE="$remove",u.PREINSERT="$preInsert",u.POSTINSERT="$postInsert",u.UNSET="$unset",u.CLEAR_ALL="$clearAll"})(ae||(ae={}));var lu;(function(u){u.REVENUE_PRODUCT_ID="$productId",u.REVENUE_QUANTITY="$quantity",u.REVENUE_PRICE="$price",u.REVENUE_TYPE="$revenueType",u.REVENUE="$revenue"})(lu||(lu={}));var yu;(function(u){u.IDENTIFY="$identify",u.GROUP_IDENTIFY="$groupidentify",u.REVENUE="revenue_amount"})(yu||(yu={}));var Ne;(function(u){u[u.None=0]="None",u[u.Error=1]="Error",u[u.Warn=2]="Warn",u[u.Verbose=3]="Verbose",u[u.Debug=4]="Debug"})(Ne||(Ne={}));var me;(function(u){u.BEFORE="before",u.ENRICHMENT="enrichment",u.DESTINATION="destination"})(me||(me={}));var zu;(function(u){u.US="US",u.EU="EU"})(zu||(zu={}));var te;(function(u){u.Unknown="unknown",u.Skipped="skipped",u.Success="success",u.RateLimit="rate_limit",u.PayloadTooLarge="payload_too_large",u.Invalid="invalid",u.Failed="failed",u.Timeout="Timeout",u.SystemError="SystemError"})(te||(te={}));var Wu;(function(u){u.XHR="xhr",u.SendBeacon="beacon",u.Fetch="fetch"})(Wu||(Wu={}));var oi="-",Yu="AMP",Jn="".concat(Yu,"_unsent"),Ui="https://api2.amplitude.com/2/httpapi",er="https://api.eu.amplitude.com/2/httpapi",ur="https://api2.amplitude.com/batch",tr="https://api.eu.amplitude.com/batch",ir=1e3,It=function(u){if(Object.keys(u).length>ir)return!1;for(var e in u){var t=u[e];if(!qi(e,t))return!1}return!0},qi=function(u,e){var t,i;if(typeof u!="string")return!1;if(Array.isArray(e)){var n=!0;try{for(var r=hu(e),a=r.next();!a.done;a=r.next()){var s=a.value;if(Array.isArray(s))return!1;if(typeof s=="object")n=n&&It(s);else if(!["number","string"].includes(typeof s))return!1;if(!n)return!1}}catch(d){t={error:d}}finally{try{a&&!a.done&&(i=r.return)&&i.call(r)}finally{if(t)throw t.error}}}else{if(e==null)return!1;if(typeof e=="object")return It(e);if(!["number","string","boolean"].includes(typeof e))return!1}return!0},Ku=function(){function u(){this._propertySet=new Set,this._properties={}}return u.prototype.getUserProperties=function(){return N({},this._properties)},u.prototype.set=function(e,t){return this._safeSet(ae.SET,e,t),this},u.prototype.setOnce=function(e,t){return this._safeSet(ae.SET_ONCE,e,t),this},u.prototype.append=function(e,t){return this._safeSet(ae.APPEND,e,t),this},u.prototype.prepend=function(e,t){return this._safeSet(ae.PREPEND,e,t),this},u.prototype.postInsert=function(e,t){return this._safeSet(ae.POSTINSERT,e,t),this},u.prototype.preInsert=function(e,t){return this._safeSet(ae.PREINSERT,e,t),this},u.prototype.remove=function(e,t){return this._safeSet(ae.REMOVE,e,t),this},u.prototype.add=function(e,t){return this._safeSet(ae.ADD,e,t),this},u.prototype.unset=function(e){return this._safeSet(ae.UNSET,e,oi),this},u.prototype.clearAll=function(){return this._properties={},this._properties[ae.CLEAR_ALL]=oi,this},u.prototype._safeSet=function(e,t,i){if(this._validate(e,t,i)){var n=this._properties[e];return n===void 0&&(n={},this._properties[e]=n),n[t]=i,this._propertySet.add(t),!0}return!1},u.prototype._validate=function(e,t,i){return this._properties[ae.CLEAR_ALL]!==void 0||this._propertySet.has(t)?!1:e===ae.ADD?typeof i=="number":e!==ae.UNSET&&e!==ae.REMOVE?qi(t,i):!0},u}(),nr=function(u,e,t){var i=typeof u=="string"?{event_type:u}:u;return N(N(N({},i),t),e&&{event_properties:e})},Bi=function(u,e){var t=N(N({},e),{event_type:yu.IDENTIFY,user_properties:u.getUserProperties()});return t},rr=function(u,e,t,i){var n,r=N(N({},i),{event_type:yu.GROUP_IDENTIFY,group_properties:t.getUserProperties(),groups:(n={},n[u]=e,n)});return r},ar=function(u,e,t){var i,n=new Ku;n.set(u,e);var r=N(N({},t),{event_type:yu.IDENTIFY,user_properties:n.getUserProperties(),groups:(i={},i[u]=e,i)});return r},sr=function(u,e){return N(N({},e),{event_type:yu.REVENUE,event_properties:u.getEventProperties()})},Iu=function(u,e,t){return e===void 0&&(e=0),t===void 0&&(t=te.Unknown),{event:u,code:e,message:t}},or=function(){function u(e){this.client=e,this.queue=[],this.applying=!1,this.plugins=[]}return u.prototype.register=function(e,t){return I(this,void 0,void 0,function(){return _(this,function(i){switch(i.label){case 0:return[4,e.setup(t,this.client)];case 1:return i.sent(),this.plugins.push(e),[2]}})})},u.prototype.deregister=function(e){var t;return I(this,void 0,void 0,function(){var i,n;return _(this,function(r){switch(r.label){case 0:return i=this.plugins.findIndex(function(a){return a.name===e}),n=this.plugins[i],this.plugins.splice(i,1),[4,(t=n.teardown)===null||t===void 0?void 0:t.call(n)];case 1:return r.sent(),[2]}})})},u.prototype.reset=function(e){this.applying=!1;var t=this.plugins;t.map(function(i){var n;return(n=i.teardown)===null||n===void 0?void 0:n.call(i)}),this.plugins=[],this.client=e},u.prototype.push=function(e){var t=this;return new Promise(function(i){t.queue.push([e,i]),t.scheduleApply(0)})},u.prototype.scheduleApply=function(e){var t=this;this.applying||(this.applying=!0,setTimeout(function(){t.apply(t.queue.shift()).then(function(){t.applying=!1,t.queue.length>0&&t.scheduleApply(0)})},e))},u.prototype.apply=function(e){return I(this,void 0,void 0,function(){var t,i,n,r,a,s,d,v,l,o,h,g,f,v,l,p,b,T,R,w,x,U;return _(this,function(L){switch(L.label){case 0:if(!e)return[2];t=ee(e,1),i=t[0],n=ee(e,2),r=n[1],a=this.plugins.filter(function(z){return z.type===me.BEFORE}),L.label=1;case 1:L.trys.push([1,6,7,8]),s=hu(a),d=s.next(),L.label=2;case 2:return d.done?[3,5]:(v=d.value,[4,v.execute(N({},i))]);case 3:if(l=L.sent(),l===null)return r({event:i,code:0,message:""}),[2];i=l,L.label=4;case 4:return d=s.next(),[3,2];case 5:return[3,8];case 6:return o=L.sent(),R={error:o},[3,8];case 7:try{d&&!d.done&&(w=s.return)&&w.call(s)}finally{if(R)throw R.error}return[7];case 8:h=this.plugins.filter(function(z){return z.type===me.ENRICHMENT}),L.label=9;case 9:L.trys.push([9,14,15,16]),g=hu(h),f=g.next(),L.label=10;case 10:return f.done?[3,13]:(v=f.value,[4,v.execute(N({},i))]);case 11:if(l=L.sent(),l===null)return r({event:i,code:0,message:""}),[2];i=l,L.label=12;case 12:return f=g.next(),[3,10];case 13:return[3,16];case 14:return p=L.sent(),x={error:p},[3,16];case 15:try{f&&!f.done&&(U=g.return)&&U.call(g)}finally{if(x)throw x.error}return[7];case 16:return b=this.plugins.filter(function(z){return z.type===me.DESTINATION}),T=b.map(function(z){var j=N({},i);return z.execute(j).catch(function(Z){return Iu(j,0,String(Z))})}),Promise.all(T).then(function(z){var j=ee(z,1),Z=j[0];r(Z)}),[2]}})})},u.prototype.flush=function(){return I(this,void 0,void 0,function(){var e,t,i,n=this;return _(this,function(r){switch(r.label){case 0:return e=this.queue,this.queue=[],[4,Promise.all(e.map(function(a){return n.apply(a)}))];case 1:return r.sent(),t=this.plugins.filter(function(a){return a.type===me.DESTINATION}),i=t.map(function(a){return a.flush&&a.flush()}),[4,Promise.all(i)];case 2:return r.sent(),[2]}})})},u}(),cr="Event tracked successfully",dr="Unexpected error occurred",lr="Event rejected due to exceeded retry count",fr="Event skipped due to optOut config",hr="Event rejected due to missing API key",br="Invalid API key",pr="Client not initialized",Ae=function(u){return{promise:u||Promise.resolve()}},vr=function(){function u(e){e===void 0&&(e="$default"),this.initializing=!1,this.q=[],this.dispatchQ=[],this.logEvent=this.track.bind(this),this.timeline=new or(this),this.name=e}return u.prototype._init=function(e){return I(this,void 0,void 0,function(){return _(this,function(t){switch(t.label){case 0:return this.config=e,this.timeline.reset(this),[4,this.runQueuedFunctions("q")];case 1:return t.sent(),[2]}})})},u.prototype.runQueuedFunctions=function(e){return I(this,void 0,void 0,function(){var t,i,n,r,a,s,d;return _(this,function(o){switch(o.label){case 0:t=this[e],this[e]=[],o.label=1;case 1:o.trys.push([1,6,7,8]),i=hu(t),n=i.next(),o.label=2;case 2:return n.done?[3,5]:(r=n.value,[4,r()]);case 3:o.sent(),o.label=4;case 4:return n=i.next(),[3,2];case 5:return[3,8];case 6:return a=o.sent(),s={error:a},[3,8];case 7:try{n&&!n.done&&(d=i.return)&&d.call(i)}finally{if(s)throw s.error}return[7];case 8:return[2]}})})},u.prototype.track=function(e,t,i){var n=nr(e,t,i);return Ae(this.dispatch(n))},u.prototype.identify=function(e,t){var i=Bi(e,t);return Ae(this.dispatch(i))},u.prototype.groupIdentify=function(e,t,i,n){var r=rr(e,t,i,n);return Ae(this.dispatch(r))},u.prototype.setGroup=function(e,t,i){var n=ar(e,t,i);return Ae(this.dispatch(n))},u.prototype.revenue=function(e,t){var i=sr(e,t);return Ae(this.dispatch(i))},u.prototype.add=function(e){return this.config?Ae(this.timeline.register(e,this.config)):(this.q.push(this.add.bind(this,e)),Ae())},u.prototype.remove=function(e){return this.config?Ae(this.timeline.deregister(e)):(this.q.push(this.remove.bind(this,e)),Ae())},u.prototype.dispatchWithCallback=function(e,t){if(!this.config)return t(Iu(e,0,pr));this.process(e).then(t)},u.prototype.dispatch=function(e){return I(this,void 0,void 0,function(){var t=this;return _(this,function(i){return this.config?[2,this.process(e)]:[2,new Promise(function(n){t.dispatchQ.push(t.dispatchWithCallback.bind(t,e,n))})]})})},u.prototype.process=function(e){return I(this,void 0,void 0,function(){var n,t,i,n;return _(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),this.config.optOut?[2,Iu(e,0,fr)]:[4,this.timeline.push(e)];case 1:return n=r.sent(),n.code===200?this.config.loggerProvider.log(n.message):this.config.loggerProvider.error(n.message),[2,n];case 2:return t=r.sent(),this.config.loggerProvider.error(t),i=String(t),n=Iu(e,0,i),[2,n];case 3:return[2]}})})},u.prototype.setOptOut=function(e){if(!this.config){this.q.push(this.setOptOut.bind(this,!!e));return}this.config.optOut=!!e},u.prototype.flush=function(){return Ae(this.timeline.flush())},u}(),mr=function(){function u(){this.productId="",this.quantity=1,this.price=0}return u.prototype.setProductId=function(e){return this.productId=e,this},u.prototype.setQuantity=function(e){return e>0&&(this.quantity=e),this},u.prototype.setPrice=function(e){return this.price=e,this},u.prototype.setRevenueType=function(e){return this.revenueType=e,this},u.prototype.setRevenue=function(e){return this.revenue=e,this},u.prototype.setEventProperties=function(e){return It(e)&&(this.properties=e),this},u.prototype.getEventProperties=function(){var e=this.properties?N({},this.properties):{};return e[lu.REVENUE_PRODUCT_ID]=this.productId,e[lu.REVENUE_QUANTITY]=this.quantity,e[lu.REVENUE_PRICE]=this.price,e[lu.REVENUE_TYPE]=this.revenueType,e[lu.REVENUE]=this.revenue,e},u}(),gr=function(u,e){var t=Math.max(e,1);return u.reduce(function(i,n,r){var a=Math.floor(r/t);return i[a]||(i[a]=[]),i[a].push(n),i},[])},Cu="Amplitude Logger ",yr=function(){function u(){this.logLevel=Ne.None}return u.prototype.disable=function(){this.logLevel=Ne.None},u.prototype.enable=function(e){e===void 0&&(e=Ne.Warn),this.logLevel=e},u.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<Ne.Verbose||console.log("".concat(Cu,"[Log]: ").concat(e.join(" ")))},u.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<Ne.Warn||console.warn("".concat(Cu,"[Warn]: ").concat(e.join(" ")))},u.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<Ne.Error||console.error("".concat(Cu,"[Error]: ").concat(e.join(" ")))},u.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<Ne.Debug||console.log("".concat(Cu,"[Debug]: ").concat(e.join(" ")))},u}(),Fu=function(){return{flushMaxRetries:12,flushQueueSize:200,flushIntervalMillis:1e4,instanceName:"$default_instance",logLevel:Ne.Warn,loggerProvider:new yr,optOut:!1,serverUrl:Ui,serverZone:zu.US,useBatch:!1}},xr=function(){function u(e){var t,i,n,r;this._optOut=!1;var a=Fu();this.apiKey=e.apiKey,this.flushIntervalMillis=(t=e.flushIntervalMillis)!==null&&t!==void 0?t:a.flushIntervalMillis,this.flushMaxRetries=e.flushMaxRetries||a.flushMaxRetries,this.flushQueueSize=e.flushQueueSize||a.flushQueueSize,this.instanceName=e.instanceName||a.instanceName,this.loggerProvider=e.loggerProvider||a.loggerProvider,this.logLevel=(i=e.logLevel)!==null&&i!==void 0?i:a.logLevel,this.minIdLength=e.minIdLength,this.plan=e.plan,this.ingestionMetadata=e.ingestionMetadata,this.optOut=(n=e.optOut)!==null&&n!==void 0?n:a.optOut,this.serverUrl=e.serverUrl,this.serverZone=e.serverZone||a.serverZone,this.storageProvider=e.storageProvider,this.transportProvider=e.transportProvider,this.useBatch=(r=e.useBatch)!==null&&r!==void 0?r:a.useBatch,this.loggerProvider.enable(this.logLevel);var s=Fi(e.serverUrl,e.serverZone,e.useBatch);this.serverZone=s.serverZone,this.serverUrl=s.serverUrl}return Object.defineProperty(u.prototype,"optOut",{get:function(){return this._optOut},set:function(e){this._optOut=e},enumerable:!1,configurable:!0}),u}(),Er=function(u,e){return u===zu.EU?e?tr:er:e?ur:Ui},Fi=function(u,e,t){if(u===void 0&&(u=""),e===void 0&&(e=Fu().serverZone),t===void 0&&(t=Fu().useBatch),u)return{serverUrl:u,serverZone:void 0};var i=["US","EU"].includes(e)?e:Fu().serverZone;return{serverZone:i,serverUrl:Er(i,t)}};function wr(u){return u instanceof Error?u.message:String(u)}function Mu(u){var e="";try{"body"in u&&(e=JSON.stringify(u.body))}catch{}return e}var Sr=function(){function u(){this.name="amplitude",this.type=me.DESTINATION,this.retryTimeout=1e3,this.throttleTimeout=3e4,this.storageKey="",this.scheduled=null,this.queue=[]}return u.prototype.setup=function(e){var t;return I(this,void 0,void 0,function(){var i,n=this;return _(this,function(r){switch(r.label){case 0:return this.config=e,this.storageKey="".concat(Jn,"_").concat(this.config.apiKey.substring(0,10)),[4,(t=this.config.storageProvider)===null||t===void 0?void 0:t.get(this.storageKey)];case 1:return i=r.sent(),this.saveEvents(),i&&i.length>0&&Promise.all(i.map(function(a){return n.execute(a)})).catch(),[2,Promise.resolve(void 0)]}})})},u.prototype.execute=function(e){var t=this;return new Promise(function(i){var n={event:e,attempts:0,callback:function(r){return i(r)},timeout:0};t.addToQueue(n)})},u.prototype.addToQueue=function(){for(var e=this,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var n=t.filter(function(r){return r.attempts<e.config.flushMaxRetries?(r.attempts+=1,!0):(e.fulfillRequest([r],500,lr),!1)});n.forEach(function(r){if(e.queue=e.queue.concat(r),r.timeout===0){e.schedule(e.config.flushIntervalMillis);return}setTimeout(function(){r.timeout=0,e.schedule(0)},r.timeout)}),this.saveEvents()},u.prototype.schedule=function(e){var t=this;this.scheduled||(this.scheduled=setTimeout(function(){t.flush(!0).then(function(){t.queue.length>0&&t.schedule(e)})},e))},u.prototype.flush=function(e){return e===void 0&&(e=!1),I(this,void 0,void 0,function(){var t,i,n,r=this;return _(this,function(a){switch(a.label){case 0:return t=[],i=[],this.queue.forEach(function(s){return s.timeout===0?t.push(s):i.push(s)}),this.queue=i,this.scheduled&&(clearTimeout(this.scheduled),this.scheduled=null),n=gr(t,this.config.flushQueueSize),[4,Promise.all(n.map(function(s){return r.send(s,e)}))];case 1:return a.sent(),[2]}})})},u.prototype.send=function(e,t){return t===void 0&&(t=!0),I(this,void 0,void 0,function(){var i,n,r,a,s;return _(this,function(d){switch(d.label){case 0:if(!this.config.apiKey)return[2,this.fulfillRequest(e,400,hr)];i={api_key:this.config.apiKey,events:e.map(function(o){var h=o.event;h.extra;var g=Tt(h,["extra"]);return g}),options:{min_id_length:this.config.minIdLength}},d.label=1;case 1:return d.trys.push([1,3,,4]),n=Fi(this.config.serverUrl,this.config.serverZone,this.config.useBatch).serverUrl,[4,this.config.transportProvider.send(n,i)];case 2:return r=d.sent(),r===null?(this.fulfillRequest(e,0,dr),[2]):t?(this.handleResponse(r,e),[3,4]):("body"in r?this.fulfillRequest(e,r.statusCode,"".concat(r.status,": ").concat(Mu(r))):this.fulfillRequest(e,r.statusCode,r.status),[2]);case 3:return a=d.sent(),this.config.loggerProvider.error(a),s=wr(a),this.fulfillRequest(e,0,s),[3,4];case 4:return[2]}})})},u.prototype.handleResponse=function(e,t){var i=e.status;switch(i){case te.Success:{this.handleSuccessResponse(e,t);break}case te.Invalid:{this.handleInvalidResponse(e,t);break}case te.PayloadTooLarge:{this.handlePayloadTooLargeResponse(e,t);break}case te.RateLimit:{this.handleRateLimitResponse(e,t);break}default:{this.config.loggerProvider.warn(`{code: 0, error: "Status '`.concat(i,"' provided for ").concat(t.length,' events"}')),this.handleOtherResponse(t);break}}},u.prototype.handleSuccessResponse=function(e,t){this.fulfillRequest(t,e.statusCode,cr)},u.prototype.handleInvalidResponse=function(e,t){var i=this;if(e.body.missingField||e.body.error.startsWith(br)){this.fulfillRequest(t,e.statusCode,e.body.error);return}var n=Ce(Ce(Ce(Ce([],ee(Object.values(e.body.eventsWithInvalidFields)),!1),ee(Object.values(e.body.eventsWithMissingFields)),!1),ee(Object.values(e.body.eventsWithInvalidIdLengths)),!1),ee(e.body.silencedEvents),!1).flat(),r=new Set(n),a=t.filter(function(s,d){if(r.has(d)){i.fulfillRequest([s],e.statusCode,e.body.error);return}return!0});a.length>0&&this.config.loggerProvider.warn(Mu(e)),this.addToQueue.apply(this,Ce([],ee(a),!1))},u.prototype.handlePayloadTooLargeResponse=function(e,t){if(t.length===1){this.fulfillRequest(t,e.statusCode,e.body.error);return}this.config.loggerProvider.warn(Mu(e)),this.config.flushQueueSize/=2,this.addToQueue.apply(this,Ce([],ee(t),!1))},u.prototype.handleRateLimitResponse=function(e,t){var i=this,n=Object.keys(e.body.exceededDailyQuotaUsers),r=Object.keys(e.body.exceededDailyQuotaDevices),a=e.body.throttledEvents,s=new Set(n),d=new Set(r),o=new Set(a),h=t.filter(function(g,f){if(g.event.user_id&&s.has(g.event.user_id)||g.event.device_id&&d.has(g.event.device_id)){i.fulfillRequest([g],e.statusCode,e.body.error);return}return o.has(f)&&(g.timeout=i.throttleTimeout),!0});h.length>0&&this.config.loggerProvider.warn(Mu(e)),this.addToQueue.apply(this,Ce([],ee(h),!1))},u.prototype.handleOtherResponse=function(e){var t=this;this.addToQueue.apply(this,Ce([],ee(e.map(function(i){return i.timeout=i.attempts*t.retryTimeout,i})),!1))},u.prototype.fulfillRequest=function(e,t,i){this.saveEvents(),e.forEach(function(n){return n.callback(Iu(n.event,t,i))})},u.prototype.saveEvents=function(){if(this.config.storageProvider){var e=Array.from(this.queue.map(function(t){return t.event}));this.config.storageProvider.set(this.storageKey,e)}},u}(),Tr=function(u){u===void 0&&(u=0);var e=new Error().stack||"";return e.split(`
`).slice(2+u).map(function(t){return t.trim()})},Q=function(u){return function(){var e=N({},u.config),t=e.loggerProvider,i=e.logLevel;return{logger:t,logLevel:i}}},Ir=function(u,e){var t,i;e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,"");try{for(var n=hu(e.split(".")),r=n.next();!r.done;r=n.next()){var a=r.value;if(a in u)u=u[a];else return}}catch(s){t={error:s}}finally{try{r&&!r.done&&(i=n.return)&&i.call(n)}finally{if(t)throw t.error}}return u},X=function(u,e){return function(){var t,i,n={};try{for(var r=hu(e),a=r.next();!a.done;a=r.next()){var s=a.value;n[s]=Ir(u,s)}}catch(d){t={error:d}}finally{try{a&&!a.done&&(i=r.return)&&i.call(r)}finally{if(t)throw t.error}}return n}},J=function(u,e,t,i,n){return n===void 0&&(n=null),function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];var s=t(),d=s.logger,o=s.logLevel;if(o&&o<Ne.Debug||!o||!d)return u.apply(n,r);var h={type:"invoke public method",name:e,args:r,stacktrace:Tr(1),time:{start:new Date().toISOString()},states:{}};i&&h.states&&(h.states.before=i());var g=u.apply(n,r);return g&&g.promise?g.promise.then(function(){i&&h.states&&(h.states.after=i()),h.time&&(h.time.end=new Date().toISOString()),d.debug(JSON.stringify(h,null,2))}):(i&&h.states&&(h.states.after=i()),h.time&&(h.time.end=new Date().toISOString()),d.debug(JSON.stringify(h,null,2))),g}},$u=function(u){return u?(u^Math.random()*16>>u/4).toString(16):(String(1e7)+String(-1e3)+String(-4e3)+String(-8e3)+String(-1e11)).replace(/[018]/g,$u)},Gi=function(){function u(){this.memoryStorage=new Map}return u.prototype.isEnabled=function(){return I(this,void 0,void 0,function(){return _(this,function(e){return[2,!0]})})},u.prototype.get=function(e){return I(this,void 0,void 0,function(){return _(this,function(t){return[2,this.memoryStorage.get(e)]})})},u.prototype.getRaw=function(e){return I(this,void 0,void 0,function(){var t;return _(this,function(i){switch(i.label){case 0:return[4,this.get(e)];case 1:return t=i.sent(),[2,t?JSON.stringify(t):void 0]}})})},u.prototype.set=function(e,t){return I(this,void 0,void 0,function(){return _(this,function(i){return this.memoryStorage.set(e,t),[2]})})},u.prototype.remove=function(e){return I(this,void 0,void 0,function(){return _(this,function(t){return this.memoryStorage.delete(e),[2]})})},u.prototype.reset=function(){return I(this,void 0,void 0,function(){return _(this,function(e){return this.memoryStorage.clear(),[2]})})},u}(),Ut=function(){function u(){}return u.prototype.send=function(e,t){return Promise.resolve(null)},u.prototype.buildResponse=function(e){var t,i,n,r,a,s,d,o,h,g,f,v,l,p,b,T,R,w,x,U,L,z;if(typeof e!="object")return null;var j=e.code||0,Z=this.buildStatus(j);switch(Z){case te.Success:return{status:Z,statusCode:j,body:{eventsIngested:(t=e.events_ingested)!==null&&t!==void 0?t:0,payloadSizeBytes:(i=e.payload_size_bytes)!==null&&i!==void 0?i:0,serverUploadTime:(n=e.server_upload_time)!==null&&n!==void 0?n:0}};case te.Invalid:return{status:Z,statusCode:j,body:{error:(r=e.error)!==null&&r!==void 0?r:"",missingField:(a=e.missing_field)!==null&&a!==void 0?a:"",eventsWithInvalidFields:(s=e.events_with_invalid_fields)!==null&&s!==void 0?s:{},eventsWithMissingFields:(d=e.events_with_missing_fields)!==null&&d!==void 0?d:{},eventsWithInvalidIdLengths:(o=e.events_with_invalid_id_lengths)!==null&&o!==void 0?o:{},epsThreshold:(h=e.eps_threshold)!==null&&h!==void 0?h:0,exceededDailyQuotaDevices:(g=e.exceeded_daily_quota_devices)!==null&&g!==void 0?g:{},silencedDevices:(f=e.silenced_devices)!==null&&f!==void 0?f:[],silencedEvents:(v=e.silenced_events)!==null&&v!==void 0?v:[],throttledDevices:(l=e.throttled_devices)!==null&&l!==void 0?l:{},throttledEvents:(p=e.throttled_events)!==null&&p!==void 0?p:[]}};case te.PayloadTooLarge:return{status:Z,statusCode:j,body:{error:(b=e.error)!==null&&b!==void 0?b:""}};case te.RateLimit:return{status:Z,statusCode:j,body:{error:(T=e.error)!==null&&T!==void 0?T:"",epsThreshold:(R=e.eps_threshold)!==null&&R!==void 0?R:0,throttledDevices:(w=e.throttled_devices)!==null&&w!==void 0?w:{},throttledUsers:(x=e.throttled_users)!==null&&x!==void 0?x:{},exceededDailyQuotaDevices:(U=e.exceeded_daily_quota_devices)!==null&&U!==void 0?U:{},exceededDailyQuotaUsers:(L=e.exceeded_daily_quota_users)!==null&&L!==void 0?L:{},throttledEvents:(z=e.throttled_events)!==null&&z!==void 0?z:[]}};case te.Timeout:default:return{status:Z,statusCode:j}}},u.prototype.buildStatus=function(e){return e>=200&&e<300?te.Success:e===429?te.RateLimit:e===413?te.PayloadTooLarge:e===408?te.Timeout:e>=400&&e<500?te.Invalid:e>=500?te.Failed:te.Unknown},u}(),_r=function(){function u(){}return u.prototype.getApplicationContext=function(){return{versionName:this.versionName,language:Ar(),platform:"Web",os:void 0,deviceModel:void 0}},u}(),Ar=function(){return typeof navigator<"u"&&(navigator.languages&&navigator.languages[0]||navigator.language)||""},Nr=function(){function u(){this.queue=[]}return u.prototype.logEvent=function(e){this.receiver?this.receiver(e):this.queue.length<512&&this.queue.push(e)},u.prototype.setEventReceiver=function(e){this.receiver=e,this.queue.length>0&&(this.queue.forEach(function(t){e(t)}),this.queue=[])},u}(),Xe=function(){return Xe=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++){t=arguments[i];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Xe.apply(this,arguments)},Gu=function(u,e){var t=["string","number","boolean","undefined"],i=typeof u,n=typeof e;if(i!==n)return!1;for(var r=0,a=t;r<a.length;r++){var s=a[r];if(s===i)return u===e}if(u==null&&e==null)return!0;if(u==null||e==null||u.length!==e.length)return!1;var d=Array.isArray(u),o=Array.isArray(e);if(d!==o)return!1;if(d&&o){for(var h=0;h<u.length;h++)if(!Gu(u[h],e[h]))return!1}else{var g=Object.keys(u).sort(),f=Object.keys(e).sort();if(!Gu(g,f))return!1;var v=!0;return Object.keys(u).forEach(function(l){Gu(u[l],e[l])||(v=!1)}),v}return!0},kr="$set",Rr="$unset",Dr="$clearAll";Object.entries||(Object.entries=function(u){for(var e=Object.keys(u),t=e.length,i=new Array(t);t--;)i[t]=[e[t],u[e[t]]];return i});var Or=function(){function u(){this.identity={userProperties:{}},this.listeners=new Set}return u.prototype.editIdentity=function(){var e=this,t=Xe({},this.identity.userProperties),i=Xe(Xe({},this.identity),{userProperties:t});return{setUserId:function(n){return i.userId=n,this},setDeviceId:function(n){return i.deviceId=n,this},setUserProperties:function(n){return i.userProperties=n,this},setOptOut:function(n){return i.optOut=n,this},updateUserProperties:function(n){for(var r=i.userProperties||{},a=0,s=Object.entries(n);a<s.length;a++){var d=s[a],o=d[0],h=d[1];switch(o){case kr:for(var g=0,f=Object.entries(h);g<f.length;g++){var v=f[g],l=v[0],p=v[1];r[l]=p}break;case Rr:for(var b=0,T=Object.keys(h);b<T.length;b++){var l=T[b];delete r[l]}break;case Dr:r={};break}}return i.userProperties=r,this},commit:function(){return e.setIdentity(i),this}}},u.prototype.getIdentity=function(){return Xe({},this.identity)},u.prototype.setIdentity=function(e){var t=Xe({},this.identity);this.identity=Xe({},e),Gu(t,this.identity)||this.listeners.forEach(function(i){i(e)})},u.prototype.addIdentityListener=function(e){this.listeners.add(e)},u.prototype.removeIdentityListener=function(e){this.listeners.delete(e)},u}(),Tu=typeof globalThis<"u"?globalThis:typeof global<"u"?global:self,Lr=function(){function u(){this.identityStore=new Or,this.eventBridge=new Nr,this.applicationContextProvider=new _r}return u.getInstance=function(e){return Tu.analyticsConnectorInstances||(Tu.analyticsConnectorInstances={}),Tu.analyticsConnectorInstances[e]||(Tu.analyticsConnectorInstances[e]=new u),Tu.analyticsConnectorInstances[e]},u}(),xu=function(u){return u===void 0&&(u="$default_instance"),Lr.getInstance(u)},Cr=function(u,e){xu(e).identityStore.editIdentity().setUserId(u).commit()},Mr=function(u,e){xu(e).identityStore.editIdentity().setDeviceId(u).commit()},Pr=function(u,e){xu(e).identityStore.editIdentity().setOptOut(u).commit()},ke=function(){if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global},_t=function(){var u,e=ke();if(!(!((u=e==null?void 0:e.location)===null||u===void 0)&&u.search))return{};var t=e.location.search.substring(1).split("&").filter(Boolean),i=t.reduce(function(n,r){var a=r.split("=",2),s=ci(a[0]),d=ci(a[1]);return d&&(n[s]=d),n},{});return i},ci=function(u){u===void 0&&(u="");try{return decodeURIComponent(u)}catch{return""}},Ur="utm_campaign",qr="utm_content",Br="utm_id",Fr="utm_medium",Gr="utm_source",Vr="utm_term",di="dclid",li="fbclid",fi="gbraid",hi="gclid",bi="ko_click_id",pi="li_fat_id",vi="msclkid",mi="rtd_cid",gi="ttclid",yi="twclid",xi="wbraid",qt={utm_campaign:void 0,utm_content:void 0,utm_id:void 0,utm_medium:void 0,utm_source:void 0,utm_term:void 0,referrer:void 0,referring_domain:void 0,dclid:void 0,gbraid:void 0,gclid:void 0,fbclid:void 0,ko_click_id:void 0,li_fat_id:void 0,msclkid:void 0,rtd_cid:void 0,ttclid:void 0,twclid:void 0,wbraid:void 0},Vi=function(){function u(){}return u.prototype.parse=function(){return I(this,void 0,void 0,function(){return _(this,function(e){return[2,N(N(N(N({},qt),this.getUtmParam()),this.getReferrer()),this.getClickIds())]})})},u.prototype.getUtmParam=function(){var e=_t(),t=e[Ur],i=e[qr],n=e[Br],r=e[Fr],a=e[Gr],s=e[Vr];return{utm_campaign:t,utm_content:i,utm_id:n,utm_medium:r,utm_source:a,utm_term:s}},u.prototype.getReferrer=function(){var e,t,i={referrer:void 0,referring_domain:void 0};try{i.referrer=document.referrer||void 0,i.referring_domain=(t=(e=i.referrer)===null||e===void 0?void 0:e.split("/")[2])!==null&&t!==void 0?t:void 0}catch{}return i},u.prototype.getClickIds=function(){var e,t=_t();return e={},e[di]=t[di],e[li]=t[li],e[fi]=t[fi],e[hi]=t[hi],e[bi]=t[bi],e[pi]=t[pi],e[vi]=t[vi],e[mi]=t[mi],e[gi]=t[gi],e[yi]=t[yi],e[xi]=t[xi],e},u}(),Hi=function(u,e,t){return e===void 0&&(e=""),t===void 0&&(t=10),[Yu,e,u.substring(0,t)].filter(Boolean).join("_")},Hr=function(u){return"".concat(Yu.toLowerCase(),"_").concat(u.substring(0,6))},zr=function(u){return typeof u=="boolean"?u:!!(u!=null&&u.fileDownloads)},Wr=function(u){return typeof u=="boolean"?u:!!(u!=null&&u.formInteractions)},Kr=function(u){return typeof u=="boolean"?u:!!((u==null?void 0:u.pageViews)===!0||u!=null&&u.pageViews&&typeof u.pageViews=="object")},jr=function(u){return typeof u=="boolean"?u:!!(u!=null&&u.sessions)},Zr=function(u){var e,t=!((e=u.attribution)===null||e===void 0)&&e.trackPageViews?"attribution":function(){return!1},i=void 0,n="Page View",r=Kr(u.defaultTracking);return r&&(t=void 0,n=void 0,u.defaultTracking&&typeof u.defaultTracking=="object"&&u.defaultTracking.pageViews&&typeof u.defaultTracking.pageViews=="object"&&("trackOn"in u.defaultTracking.pageViews&&(t=u.defaultTracking.pageViews.trackOn),"trackHistoryChanges"in u.defaultTracking.pageViews&&(i=u.defaultTracking.pageViews.trackHistoryChanges),"eventType"in u.defaultTracking.pageViews&&u.defaultTracking.pageViews.eventType&&(n=u.defaultTracking.pageViews.eventType))),{trackOn:t,trackHistoryChanges:i,eventType:n}},Yr=function(){var u,e,t,i;if(typeof navigator>"u")return"";var n=navigator.userLanguage;return(i=(t=(e=(u=navigator.languages)===null||u===void 0?void 0:u[0])!==null&&e!==void 0?e:navigator.language)!==null&&t!==void 0?t:n)!==null&&i!==void 0?i:""},$r=function(){function u(){this.name="identity",this.type=me.BEFORE,this.identityStore=xu().identityStore}return u.prototype.execute=function(e){return I(this,void 0,void 0,function(){var t;return _(this,function(i){return t=e.user_properties,t&&this.identityStore.editIdentity().updateUserProperties(t).commit(),[2,e]})})},u.prototype.setup=function(e){return I(this,void 0,void 0,function(){return _(this,function(t){return e.instanceName&&(this.identityStore=xu(e.instanceName).identityStore),[2]})})},u}(),At=function(){function u(e){this.options=N({},e)}return u.prototype.isEnabled=function(){return I(this,void 0,void 0,function(){var e,t,i;return _(this,function(n){switch(n.label){case 0:if(!ke())return[2,!1];u.testValue=String(Date.now()),e=new u(this.options),t="AMP_TEST",n.label=1;case 1:return n.trys.push([1,4,5,7]),[4,e.set(t,u.testValue)];case 2:return n.sent(),[4,e.get(t)];case 3:return i=n.sent(),[2,i===u.testValue];case 4:return n.sent(),[2,!1];case 5:return[4,e.remove(t)];case 6:return n.sent(),[7];case 7:return[2]}})})},u.prototype.get=function(e){return I(this,void 0,void 0,function(){var t;return _(this,function(i){switch(i.label){case 0:return[4,this.getRaw(e)];case 1:if(t=i.sent(),!t)return[2,void 0];try{try{t=decodeURIComponent(atob(t))}catch{}return[2,JSON.parse(t)]}catch{return[2,void 0]}return[2]}})})},u.prototype.getRaw=function(e){var t;return I(this,void 0,void 0,function(){var i,n,r;return _(this,function(a){return i=ke(),n=(t=i==null?void 0:i.document.cookie.split("; "))!==null&&t!==void 0?t:[],r=n.find(function(s){return s.indexOf(e+"=")===0}),r?[2,r.substring(e.length+1)]:[2,void 0]})})},u.prototype.set=function(e,t){var i;return I(this,void 0,void 0,function(){var n,r,a,s,d,o;return _(this,function(h){try{n=(i=this.options.expirationDays)!==null&&i!==void 0?i:0,r=t!==null?n:-1,a=void 0,r&&(s=new Date,s.setTime(s.getTime()+r*24*60*60*1e3),a=s),d="".concat(e,"=").concat(btoa(encodeURIComponent(JSON.stringify(t)))),a&&(d+="; expires=".concat(a.toUTCString())),d+="; path=/",this.options.domain&&(d+="; domain=".concat(this.options.domain)),this.options.secure&&(d+="; Secure"),this.options.sameSite&&(d+="; SameSite=".concat(this.options.sameSite)),o=ke(),o&&(o.document.cookie=d)}catch{}return[2]})})},u.prototype.remove=function(e){return I(this,void 0,void 0,function(){return _(this,function(t){switch(t.label){case 0:return[4,this.set(e,null)];case 1:return t.sent(),[2]}})})},u.prototype.reset=function(){return I(this,void 0,void 0,function(){return _(this,function(e){return[2]})})},u}(),Qr=function(u){_u(e,u);function e(){return u!==null&&u.apply(this,arguments)||this}return e.prototype.send=function(t,i){return I(this,void 0,void 0,function(){var n,r,a;return _(this,function(s){switch(s.label){case 0:if(typeof fetch>"u")throw new Error("FetchTransport is not supported");return n={headers:{"Content-Type":"application/json",Accept:"*/*"},body:JSON.stringify(i),method:"POST"},[4,fetch(t,n)];case 1:return r=s.sent(),[4,r.json()];case 2:return a=s.sent(),[2,this.buildResponse(a)]}})})},e}(Ut),Xr=function(u){var e={};for(var t in u){var i=u[t];i&&(e[t]=i)}return e},Jr=function(){for(var u=[],e=0;e<arguments.length;e++)u[e]=arguments[e];var t,i={},n=ke(),r=void 0,a,s=ee(u,2),d=s[0],o=s[1];d&&"init"in d?(t=d,o&&(i=o)):d&&(i=d);var h=function(){return I(void 0,void 0,void 0,function(){var b,T,R;return _(this,function(w){switch(w.label){case 0:return T={event_type:(R=i.eventType)!==null&&R!==void 0?R:"Page View"},b=[{}],[4,ea()];case 1:return[2,(T.event_properties=N.apply(void 0,[N.apply(void 0,b.concat([w.sent()])),{page_domain:typeof location<"u"&&location.hostname||"",page_location:typeof location<"u"&&location.href||"",page_path:typeof location<"u"&&location.pathname||"",page_title:typeof document<"u"&&document.title||"",page_url:typeof location<"u"&&location.href.split("?")[0]||""}]),T)]}})})},g=function(){return typeof i.trackOn>"u"||typeof i.trackOn=="function"&&i.trackOn()},f=typeof location<"u"?location.href:null,v=function(){return I(void 0,void 0,void 0,function(){var b,T,R,w;return _(this,function(x){switch(x.label){case 0:return b=location.href,T=ta(i.trackHistoryChanges,b,f||"")&&g(),f=b,T?(r==null||r.log("Tracking page view event"),t!=null?[3,1]:[3,3]):[3,4];case 1:return w=(R=t).track,[4,h()];case 2:w.apply(R,[x.sent()]),x.label=3;case 3:x.label=4;case 4:return[2]}})})},l=function(){v()},p={name:"page-view-tracking",type:me.ENRICHMENT,setup:function(b,T){return I(void 0,void 0,void 0,function(){var R,w,x,U,L;return _(this,function(z){switch(z.label){case 0:return t=t??T,t?(r=b.loggerProvider,r.log("Installing @amplitude/plugin-page-view-tracking-browser"),i.trackOn=!((U=b.attribution)===null||U===void 0)&&U.trackPageViews?"attribution":i.trackOn,!T&&(!((L=b.attribution)===null||L===void 0)&&L.trackPageViews)&&(r.warn("@amplitude/plugin-page-view-tracking-browser overrides page view tracking behavior defined in @amplitude/analytics-browser. Resolve by disabling page view tracking in @amplitude/analytics-browser."),b.attribution.trackPageViews=!1),i.trackHistoryChanges&&n&&(n.addEventListener("popstate",l),a=n.history.pushState,n.history.pushState=new Proxy(n.history.pushState,{apply:function(j,Z,$){var xe=ee($,3),q=xe[0],Y=xe[1],ge=xe[2];j.apply(Z,[q,Y,ge]),v()}})),g()?(r.log("Tracking page view event"),x=(w=t).track,[4,h()]):[3,2]):(R=d?"Options":"undefined",b.loggerProvider.error("Argument of type '".concat(R,"' is not assignable to parameter of type 'BrowserClient'.")),[2]);case 1:x.apply(w,[z.sent()]),z.label=2;case 2:return[2]}})})},execute:function(b){return I(void 0,void 0,void 0,function(){var T;return _(this,function(R){switch(R.label){case 0:return i.trackOn==="attribution"&&ua(b)?(r==null||r.log("Enriching campaign event to page view event with campaign parameters"),[4,h()]):[3,2];case 1:T=R.sent(),b.event_type=T.event_type,b.event_properties=N(N({},b.event_properties),T.event_properties),R.label=2;case 2:return[2,b]}})})},teardown:function(){return I(void 0,void 0,void 0,function(){return _(this,function(b){return n&&(n.removeEventListener("popstate",l),a&&(n.history.pushState=a)),[2]})})}};return p.__trackHistoryPageView=v,p},ea=function(){return I(void 0,void 0,void 0,function(){var u;return _(this,function(e){switch(e.label){case 0:return u=Xr,[4,new Vi().parse()];case 1:return[2,u.apply(void 0,[e.sent()])]}})})},ua=function(u){if(u.event_type==="$identify"&&u.user_properties){var e=u.user_properties,t=e[ae.SET]||{},i=e[ae.UNSET]||{},n=Ce(Ce([],ee(Object.keys(t)),!1),ee(Object.keys(i)),!1);return Object.keys(qt).every(function(r){return n.includes(r)})}return!1},ta=function(u,e,t){switch(u){case"pathOnly":return e.split("?")[0]!==t.split("?")[0];default:return e!==t}},ia=function(u,e,t){return e===void 0&&(e=""),t===void 0&&(t=10),[Yu,e,u.substring(0,t)].filter(Boolean).join("_")},Ei=function(u){var e=u.split(".");return e.length<=2?u:e.slice(e.length-2,e.length).join(".")},na=function(u,e,t){var i;u.referrer;var n=u.referring_domain,r=Tt(u,["referrer","referring_domain"]),a=e||{};a.referrer;var s=a.referring_domain,d=Tt(a,["referrer","referring_domain"]);if(u.referring_domain&&(!((i=t.excludeReferrers)===null||i===void 0)&&i.includes(u.referring_domain)))return!1;var o=JSON.stringify(r)!==JSON.stringify(d),h=Ei(n||"")!==Ei(s||"");return!e||o||h},ra=function(u,e){var t=N(N({},qt),u),i=Object.entries(t).reduce(function(n,r){var a,s=ee(r,2),d=s[0],o=s[1];return n.setOnce("initial_".concat(d),(a=o??e.initialEmptyValue)!==null&&a!==void 0?a:"EMPTY"),o?n.set(d,o):n.unset(d)},new Ku);return Bi(i)},aa=function(){for(var u=this,e,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var n,r={},a=ee(t,2),s=a[0],d=a[1];s&&"init"in s?(n=s,d&&(r=d)):s&&(r=s);var o=(e=r.excludeReferrers)!==null&&e!==void 0?e:[];typeof location<"u"&&o.unshift(location.hostname),r=N(N({disabled:!1,initialEmptyValue:"EMPTY",resetSessionOnNewCampaign:!1},r),{excludeReferrers:o});var h={name:"web-attribution",type:me.BEFORE,setup:function(g,f){var v;return I(this,void 0,void 0,function(){var l,p,b,T,R,w,x,U;return _(this,function(L){switch(L.label){case 0:return n=n??f,n?r.disabled?(g.loggerProvider.log("@amplitude/plugin-web-attribution-browser is disabled. Attribution is not tracked."),[2]):(g.loggerProvider.log("Installing @amplitude/plugin-web-attribution-browser."),!f&&!(!((v=g.attribution)===null||v===void 0)&&v.disabled)&&(g.loggerProvider.warn("@amplitude/plugin-web-attribution-browser overrides web attribution behavior defined in @amplitude/analytics-browser. Resolve by disabling web attribution tracking in @amplitude/analytics-browser."),g.attribution={disabled:!0}),p=g.cookieStorage,b=ia(g.apiKey,"MKTG"),[4,Promise.all([new Vi().parse(),p.get(b)])]):(l=s?"Options":"undefined",g.loggerProvider.error("Argument of type '".concat(l,"' is not assignable to parameter of type 'BrowserClient'.")),[2]);case 1:return T=ee.apply(void 0,[L.sent(),2]),R=T[0],w=T[1],x=this.__pluginEnabledOverride,(x??na(R,w,r))&&(r.resetSessionOnNewCampaign&&(n.setSessionId(Date.now()),g.loggerProvider.log("Created a new session for new campaign.")),g.loggerProvider.log("Tracking attribution."),U=ra(R,r),n.track(U),p.set(b,R)),[2]}})})},execute:function(g){return I(u,void 0,void 0,function(){return _(this,function(f){return[2,g]})})}};return h.__pluginEnabledOverride=void 0,h},Pu=1e3,zi=function(){function u(e){this.loggerProvider=e==null?void 0:e.loggerProvider}return u.prototype.isEnabled=function(){return I(this,void 0,void 0,function(){var e,t,i,n;return _(this,function(r){switch(r.label){case 0:if(!ke())return[2,!1];e=String(Date.now()),t=new u,i="AMP_TEST",r.label=1;case 1:return r.trys.push([1,4,5,7]),[4,t.set(i,e)];case 2:return r.sent(),[4,t.get(i)];case 3:return n=r.sent(),[2,n===e];case 4:return r.sent(),[2,!1];case 5:return[4,t.remove(i)];case 6:return r.sent(),[7];case 7:return[2]}})})},u.prototype.get=function(e){return I(this,void 0,void 0,function(){var t;return _(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.getRaw(e)];case 1:return t=i.sent(),t?[2,JSON.parse(t)]:[2,void 0];case 2:return i.sent(),[2,void 0];case 3:return[2]}})})},u.prototype.getRaw=function(e){var t;return I(this,void 0,void 0,function(){return _(this,function(i){return[2,((t=ke())===null||t===void 0?void 0:t.localStorage.getItem(e))||void 0]})})},u.prototype.set=function(e,t){var i,n;return I(this,void 0,void 0,function(){var r,a,s;return _(this,function(d){r=Array.isArray(t)&&t.length>Pu;try{a=JSON.stringify(r?t.slice(0,Pu):t),(i=ke())===null||i===void 0||i.localStorage.setItem(e,a)}catch{}return r&&(s=t.length-Pu,(n=this.loggerProvider)===null||n===void 0||n.error("Failed to save ".concat(s," events because the queue length exceeded ").concat(Pu,"."))),[2]})})},u.prototype.remove=function(e){var t;return I(this,void 0,void 0,function(){return _(this,function(i){try{(t=ke())===null||t===void 0||t.localStorage.removeItem(e)}catch{}return[2]})})},u.prototype.reset=function(){var e;return I(this,void 0,void 0,function(){return _(this,function(t){try{(e=ke())===null||e===void 0||e.localStorage.clear()}catch{}return[2]})})},u}(),sa=function(u){_u(e,u);function e(){var t=u!==null&&u.apply(this,arguments)||this;return t.state={done:4},t}return e.prototype.send=function(t,i){return I(this,void 0,void 0,function(){var n=this;return _(this,function(r){return[2,new Promise(function(a,s){typeof XMLHttpRequest>"u"&&s(new Error("XHRTransport is not supported."));var d=new XMLHttpRequest;d.open("POST",t,!0),d.onreadystatechange=function(){if(d.readyState===n.state.done)try{var o=d.responseText,h=JSON.parse(o),g=n.buildResponse(h);a(g)}catch(f){s(f)}},d.setRequestHeader("Content-Type","application/json"),d.setRequestHeader("Accept","*/*"),d.send(JSON.stringify(i))})]})})},e}(Ut),oa=function(u){_u(e,u);function e(){return u!==null&&u.apply(this,arguments)||this}return e.prototype.send=function(t,i){return I(this,void 0,void 0,function(){var n=this;return _(this,function(r){return[2,new Promise(function(a,s){var d=ke();if(!(d!=null&&d.navigator.sendBeacon))throw new Error("SendBeaconTransport is not supported");try{var o=JSON.stringify(i),h=d.navigator.sendBeacon(t,JSON.stringify(i));return a(h?n.buildResponse({code:200,events_ingested:i.events.length,payload_size_bytes:o.length,server_upload_time:Date.now()}):n.buildResponse({code:500}))}catch(g){s(g)}})]})})},e}(Ut),Au=function(){var u=new Gi,e={deviceManufacturer:!0,deviceModel:!0,ipAddress:!0,language:!0,osName:!0,osVersion:!0,platform:!0};return{cookieExpiration:365,cookieSameSite:"Lax",cookieSecure:!1,cookieStorage:u,cookieUpgrade:!0,disableCookies:!1,domain:"",sessionTimeout:30*60*1e3,trackingOptions:e,transportProvider:new Qr}},wi=function(u){_u(e,u);function e(t,i){var n=this,r,a,s,d,o,h,g,f,v,l=Au();return n=u.call(this,N(N({flushIntervalMillis:1e3,flushMaxRetries:5,flushQueueSize:30,transportProvider:l.transportProvider},i),{apiKey:t}))||this,n._optOut=!1,n.cookieStorage=(r=i==null?void 0:i.cookieStorage)!==null&&r!==void 0?r:l.cookieStorage,n.deviceId=i==null?void 0:i.deviceId,n.lastEventId=i==null?void 0:i.lastEventId,n.lastEventTime=i==null?void 0:i.lastEventTime,n.optOut=!!(i!=null&&i.optOut),n.sessionId=i==null?void 0:i.sessionId,n.userId=i==null?void 0:i.userId,n.appVersion=i==null?void 0:i.appVersion,n.attribution=i==null?void 0:i.attribution,n.cookieExpiration=(a=i==null?void 0:i.cookieExpiration)!==null&&a!==void 0?a:l.cookieExpiration,n.cookieSameSite=(s=i==null?void 0:i.cookieSameSite)!==null&&s!==void 0?s:l.cookieSameSite,n.cookieSecure=(d=i==null?void 0:i.cookieSecure)!==null&&d!==void 0?d:l.cookieSecure,n.cookieUpgrade=(o=i==null?void 0:i.cookieUpgrade)!==null&&o!==void 0?o:l.cookieUpgrade,n.defaultTracking=i==null?void 0:i.defaultTracking,n.disableCookies=(h=i==null?void 0:i.disableCookies)!==null&&h!==void 0?h:l.disableCookies,n.defaultTracking=i==null?void 0:i.defaultTracking,n.domain=(g=i==null?void 0:i.domain)!==null&&g!==void 0?g:l.domain,n.partnerId=i==null?void 0:i.partnerId,n.sessionTimeout=(f=i==null?void 0:i.sessionTimeout)!==null&&f!==void 0?f:l.sessionTimeout,n.trackingOptions=(v=i==null?void 0:i.trackingOptions)!==null&&v!==void 0?v:l.trackingOptions,n}return Object.defineProperty(e.prototype,"deviceId",{get:function(){return this._deviceId},set:function(t){this._deviceId!==t&&(this._deviceId=t,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userId",{get:function(){return this._userId},set:function(t){this._userId!==t&&(this._userId=t,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sessionId",{get:function(){return this._sessionId},set:function(t){this._sessionId!==t&&(this._sessionId=t,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"optOut",{get:function(){return this._optOut},set:function(t){this._optOut!==t&&(this._optOut=t,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastEventTime",{get:function(){return this._lastEventTime},set:function(t){this._lastEventTime!==t&&(this._lastEventTime=t,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastEventId",{get:function(){return this._lastEventId},set:function(t){this._lastEventId!==t&&(this._lastEventId=t,this.updateStorage())},enumerable:!1,configurable:!0}),e.prototype.updateStorage=function(){var t,i={deviceId:this._deviceId,userId:this._userId,sessionId:this._sessionId,optOut:this._optOut,lastEventTime:this._lastEventTime,lastEventId:this._lastEventId};(t=this.cookieStorage)===null||t===void 0||t.set(Hi(this.apiKey),i)},e}(xr),ca=function(u,e){return I(void 0,void 0,void 0,function(){var t,i,n,r,a,s,d,o,h,g,f,v,l,p,b;return _(this,function(T){switch(T.label){case 0:return t=Au(),i=(p=e==null?void 0:e.deviceId)!==null&&p!==void 0?p:$u(),n=e==null?void 0:e.lastEventId,r=e==null?void 0:e.lastEventTime,a=e==null?void 0:e.optOut,s=e==null?void 0:e.sessionId,d=e==null?void 0:e.userId,o=e==null?void 0:e.cookieStorage,h=e==null?void 0:e.domain,g=wi.bind,f=[void 0,u],v=[N({},e)],l={cookieStorage:o,deviceId:i,domain:h,lastEventId:n,lastEventTime:r,optOut:a,sessionId:s},[4,la(e)];case 1:return[2,new(g.apply(wi,f.concat([N.apply(void 0,v.concat([(l.storageProvider=T.sent(),l.trackingOptions=N(N({},t.trackingOptions),e==null?void 0:e.trackingOptions),l.transportProvider=(b=e==null?void 0:e.transportProvider)!==null&&b!==void 0?b:Ki(e==null?void 0:e.transport),l.userId=d,l)]))])))]}})})},Wi=function(u,e){return e===void 0&&(e=Au()),I(void 0,void 0,void 0,function(){var t,i,n;return _(this,function(r){switch(r.label){case 0:return t=N(N({},e),u),i=u==null?void 0:u.cookieStorage,n=!i,n?[3,2]:[4,i.isEnabled()];case 1:n=!r.sent(),r.label=2;case 2:return n?[2,da(t)]:[2,i]}})})},da=function(u){return I(void 0,void 0,void 0,function(){var e,t;return _(this,function(i){switch(i.label){case 0:return e=new At({domain:u.domain,expirationDays:u.cookieExpiration,sameSite:u.cookieSameSite,secure:u.cookieSecure}),t=u.disableCookies,t?[3,2]:[4,e.isEnabled()];case 1:t=!i.sent(),i.label=2;case 2:return t?(e=new zi,[4,e.isEnabled()]):[3,4];case 3:i.sent()||(e=new Gi),i.label=4;case 4:return[2,e]}})})},la=function(u){return I(void 0,void 0,void 0,function(){var e,t,i,n,r,a,s,d,o;return _(this,function(h){switch(h.label){case 0:if(e=u&&Object.prototype.hasOwnProperty.call(u,"storageProvider"),t=u&&u.loggerProvider,!(!e||u.storageProvider))return[3,9];h.label=1;case 1:h.trys.push([1,7,8,9]),i=hu([u==null?void 0:u.storageProvider,new zi({loggerProvider:t})]),n=i.next(),h.label=2;case 2:return n.done?[3,6]:(r=n.value,a=r,a?[4,r.isEnabled()]:[3,4]);case 3:a=h.sent(),h.label=4;case 4:if(a)return[2,r];h.label=5;case 5:return n=i.next(),[3,2];case 6:return[3,9];case 7:return s=h.sent(),d={error:s},[3,9];case 8:try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(d)throw d.error}return[7];case 9:return[2,void 0]}})})},Ki=function(u){return u===Wu.XHR?new sa:u===Wu.SendBeacon?new oa:Au().transportProvider},fa=function(u){return I(void 0,void 0,void 0,function(){var e,t,i,n,r,r,a,s,d,o;return _(this,function(h){switch(h.label){case 0:return[4,new At().isEnabled()];case 1:if(!h.sent()||!u&&typeof location>"u")return[2,""];for(e=u??location.hostname,t=e.split("."),i=[],n="AMP_TLDTEST",r=t.length-2;r>=0;--r)i.push(t.slice(r).join("."));r=0,h.label=2;case 2:return r<i.length?(a=i[r],s={domain:"."+a},d=new At(s),[4,d.set(n,1)]):[3,7];case 3:return h.sent(),[4,d.get(n)];case 4:return o=h.sent(),o?[4,d.remove(n)]:[3,6];case 5:return h.sent(),[2,"."+a];case 6:return r++,[3,2];case 7:return[2,""]}})})},ce="[Amplitude]",ji="".concat(ce," Page Viewed"),Si="".concat(ce," Form Started"),ha="".concat(ce," Form Submitted"),ba="".concat(ce," File Downloaded"),Ti="session_start",Ii="session_end",pa="".concat(ce," File Extension"),va="".concat(ce," File Name"),ma="".concat(ce," Link ID"),ga="".concat(ce," Link Text"),ya="".concat(ce," Link URL"),lt="".concat(ce," Form ID"),ft="".concat(ce," Form Name"),ht="".concat(ce," Form Destination"),xa=function(u,e){return I(void 0,void 0,void 0,function(){var t,i,n,r,a,s,d,o,h,g,f;return _(this,function(v){switch(v.label){case 0:return[4,Wi(e)];case 1:return t=v.sent(),i=Hr(u),[4,t.getRaw(i)];case 2:return n=v.sent(),n?((f=e.cookieUpgrade)!==null&&f!==void 0?f:Au().cookieUpgrade)?[4,t.remove(i)]:[3,4]:[2,{optOut:!1}];case 3:v.sent(),v.label=4;case 4:return r=ee(n.split("."),6),a=r[0],s=r[1],d=r[2],o=r[3],h=r[4],g=r[5],[2,{deviceId:a,userId:Ea(s),sessionId:bt(o),lastEventId:bt(g),lastEventTime:bt(h),optOut:!!d}]}})})},bt=function(u){var e=parseInt(u,32);if(!isNaN(e))return e},Ea=function(u){if(!(!atob||!escape||!u))try{return decodeURIComponent(escape(atob(u)))}catch{return}},Nt={exports:{}};(function(u,e){(function(t,i){var n="0.7.33",r="",a="?",s="function",d="undefined",o="object",h="string",g="major",f="model",v="name",l="type",p="vendor",b="version",T="architecture",R="console",w="mobile",x="tablet",U="smarttv",L="wearable",z="embedded",j=350,Z="Amazon",$="Apple",xe="ASUS",q="BlackBerry",Y="Browser",ge="Chrome",Ke="Edge",Se="Firefox",Pe="Google",tu="Huawei",je="LG",Ue="Microsoft",Oe="Motorola",W="Opera",Le="Samsung",K="Sharp",qe="Sony",k="Xiaomi",Ee="Zebra",bu="Facebook",ku=function(C,P){var D={};for(var G in C)P[G]&&P[G].length%2===0?D[G]=P[G].concat(C[G]):D[G]=C[G];return D},Ze=function(C){for(var P={},D=0;D<C.length;D++)P[C[D].toUpperCase()]=C[D];return P},Eu=function(C,P){return typeof C===h?Ye(P).indexOf(Ye(C))!==-1:!1},Ye=function(C){return C.toLowerCase()},$e=function(C){return typeof C===h?C.replace(/[^\d\.]/g,r).split(".")[0]:i},Te=function(C,P){if(typeof C===h)return C=C.replace(/^\s\s*/,r),typeof P===d?C:C.substring(0,j)},Be=function(C,P){for(var D=0,G,M,au,V,Ge,ye;D<P.length&&!Ge;){var su=P[D],ou=P[D+1];for(G=M=0;G<su.length&&!Ge;)if(Ge=su[G++].exec(C),Ge)for(au=0;au<ou.length;au++)ye=Ge[++M],V=ou[au],typeof V===o&&V.length>0?V.length===2?typeof V[1]==s?this[V[0]]=V[1].call(this,ye):this[V[0]]=V[1]:V.length===3?typeof V[1]===s&&!(V[1].exec&&V[1].test)?this[V[0]]=ye?V[1].call(this,ye,V[2]):i:this[V[0]]=ye?ye.replace(V[1],V[2]):i:V.length===4&&(this[V[0]]=ye?V[3].call(this,ye.replace(V[1],V[2])):i):this[V]=ye||i;D+=2}},iu=function(C,P){for(var D in P)if(typeof P[D]===o&&P[D].length>0){for(var G=0;G<P[D].length;G++)if(Eu(P[D][G],C))return D===a?i:D}else if(Eu(P[D],C))return D===a?i:D;return C},Qe={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},nu={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},ru={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[b,[v,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[b,[v,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[v,b],[/opios[\/ ]+([\w\.]+)/i],[b,[v,W+" Mini"]],[/\bopr\/([\w\.]+)/i],[b,[v,W]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[v,b],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[b,[v,"UC"+Y]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[b,[v,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[b,[v,"WeChat"]],[/konqueror\/([\w\.]+)/i],[b,[v,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[b,[v,"IE"]],[/yabrowser\/([\w\.]+)/i],[b,[v,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[v,/(.+)/,"$1 Secure "+Y],b],[/\bfocus\/([\w\.]+)/i],[b,[v,Se+" Focus"]],[/\bopt\/([\w\.]+)/i],[b,[v,W+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[b,[v,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[b,[v,"Dolphin"]],[/coast\/([\w\.]+)/i],[b,[v,W+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[b,[v,"MIUI "+Y]],[/fxios\/([-\w\.]+)/i],[b,[v,Se]],[/\bqihu|(qi?ho?o?|360)browser/i],[[v,"360 "+Y]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[v,/(.+)/,"$1 "+Y],b],[/(comodo_dragon)\/([\w\.]+)/i],[[v,/_/g," "],b],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[v,b],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[v],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[v,bu],b],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[v,b],[/\bgsa\/([\w\.]+) .*safari\//i],[b,[v,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[b,[v,ge+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[v,ge+" WebView"],b],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[b,[v,"Android "+Y]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[v,b],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[b,[v,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[b,v],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[v,[b,iu,Qe]],[/(webkit|khtml)\/([\w\.]+)/i],[v,b],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[v,"Netscape"],b],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[b,[v,Se+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[v,b],[/(cobalt)\/([\w\.]+)/i],[v,[b,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[T,"amd64"]],[/(ia32(?=;))/i],[[T,Ye]],[/((?:i[346]|x)86)[;\)]/i],[[T,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[T,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[T,"armhf"]],[/windows (ce|mobile); ppc;/i],[[T,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[T,/ower/,r,Ye]],[/(sun4\w)[;\)]/i],[[T,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[T,Ye]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[p,Le],[l,x]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[f,[p,Le],[l,w]],[/((ipod|iphone)\d+,\d+)/i],[f,[p,$],[l,w]],[/(ipad\d+,\d+)/i],[f,[p,$],[l,x]],[/\((ip(?:hone|od)[\w ]*);/i],[f,[p,$],[l,w]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[p,$],[l,x]],[/(macintosh);/i],[f,[p,$]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[f,[p,tu],[l,x]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[p,tu],[l,w]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[f,/_/g," "],[p,k],[l,w]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[f,/_/g," "],[p,k],[l,x]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[p,"OPPO"],[l,w]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[p,"Vivo"],[l,w]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[f,[p,"Realme"],[l,w]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[p,Oe],[l,w]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[p,Oe],[l,x]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[p,je],[l,x]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[p,je],[l,w]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[f,[p,"Lenovo"],[l,x]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[f,/_/g," "],[p,"Nokia"],[l,w]],[/(pixel c)\b/i],[f,[p,Pe],[l,x]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[p,Pe],[l,w]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[p,qe],[l,w]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[p,qe],[l,x]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[p,"OnePlus"],[l,w]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[p,Z],[l,x]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[p,Z],[l,w]],[/(playbook);[-\w\),; ]+(rim)/i],[f,p,[l,x]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[p,q],[l,w]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[p,xe],[l,x]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[p,xe],[l,w]],[/(nexus 9)/i],[f,[p,"HTC"],[l,x]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[p,[f,/_/g," "],[l,w]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[p,"Acer"],[l,x]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[p,"Meizu"],[l,w]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[p,K],[l,w]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[p,f,[l,w]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[p,f,[l,x]],[/(surface duo)/i],[f,[p,Ue],[l,x]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[p,"Fairphone"],[l,w]],[/(u304aa)/i],[f,[p,"AT&T"],[l,w]],[/\bsie-(\w*)/i],[f,[p,"Siemens"],[l,w]],[/\b(rct\w+) b/i],[f,[p,"RCA"],[l,x]],[/\b(venue[\d ]{2,7}) b/i],[f,[p,"Dell"],[l,x]],[/\b(q(?:mv|ta)\w+) b/i],[f,[p,"Verizon"],[l,x]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[p,"Barnes & Noble"],[l,x]],[/\b(tm\d{3}\w+) b/i],[f,[p,"NuVision"],[l,x]],[/\b(k88) b/i],[f,[p,"ZTE"],[l,x]],[/\b(nx\d{3}j) b/i],[f,[p,"ZTE"],[l,w]],[/\b(gen\d{3}) b.+49h/i],[f,[p,"Swiss"],[l,w]],[/\b(zur\d{3}) b/i],[f,[p,"Swiss"],[l,x]],[/\b((zeki)?tb.*\b) b/i],[f,[p,"Zeki"],[l,x]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[p,"Dragon Touch"],f,[l,x]],[/\b(ns-?\w{0,9}) b/i],[f,[p,"Insignia"],[l,x]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[p,"NextBook"],[l,x]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[p,"Voice"],f,[l,w]],[/\b(lvtel\-)?(v1[12]) b/i],[[p,"LvTel"],f,[l,w]],[/\b(ph-1) /i],[f,[p,"Essential"],[l,w]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[p,"Envizen"],[l,x]],[/\b(trio[-\w\. ]+) b/i],[f,[p,"MachSpeed"],[l,x]],[/\btu_(1491) b/i],[f,[p,"Rotor"],[l,x]],[/(shield[\w ]+) b/i],[f,[p,"Nvidia"],[l,x]],[/(sprint) (\w+)/i],[p,f,[l,w]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[p,Ue],[l,w]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[p,Ee],[l,x]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[p,Ee],[l,w]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[p,f,[l,R]],[/droid.+; (shield) bui/i],[f,[p,"Nvidia"],[l,R]],[/(playstation [345portablevi]+)/i],[f,[p,qe],[l,R]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[p,Ue],[l,R]],[/smart-tv.+(samsung)/i],[p,[l,U]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[p,Le],[l,U]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[p,je],[l,U]],[/(apple) ?tv/i],[p,[f,$+" TV"],[l,U]],[/crkey/i],[[f,ge+"cast"],[p,Pe],[l,U]],[/droid.+aft(\w)( bui|\))/i],[f,[p,Z],[l,U]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[f,[p,K],[l,U]],[/(bravia[\w ]+)( bui|\))/i],[f,[p,qe],[l,U]],[/(mitv-\w{5}) bui/i],[f,[p,k],[l,U]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[p,Te],[f,Te],[l,U]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[l,U]],[/((pebble))app/i],[p,f,[l,L]],[/droid.+; (glass) \d/i],[f,[p,Pe],[l,L]],[/droid.+; (wt63?0{2,3})\)/i],[f,[p,Ee],[l,L]],[/(quest( 2)?)/i],[f,[p,bu],[l,L]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[p,[l,z]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[f,[l,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[l,x]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[l,x]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[l,w]],[/(android[-\w\. ]{0,9});.+buil/i],[f,[p,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[b,[v,Ke+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[b,[v,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[v,b],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[b,v]],os:[[/microsoft (windows) (vista|xp)/i],[v,b],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[v,[b,iu,nu]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[v,"Windows"],[b,iu,nu]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[b,/_/g,"."],[v,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[v,"Mac OS"],[b,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[b,v],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[v,b],[/\(bb(10);/i],[b,[v,q]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[b,[v,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[b,[v,Se+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[b,[v,"webOS"]],[/crkey\/([\d\.]+)/i],[b,[v,ge+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[v,"Chromium OS"],b],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[v,b],[/(sunos) ?([\w\.\d]*)/i],[[v,"Solaris"],b],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[v,b]]},he=function(C,P){if(typeof C===o&&(P=C,C=i),!(this instanceof he))return new he(C,P).getResult();var D=C||(typeof t!==d&&t.navigator&&t.navigator.userAgent?t.navigator.userAgent:r),G=P?ku(ru,P):ru;return this.getBrowser=function(){var M={};return M[v]=i,M[b]=i,Be.call(M,D,G.browser),M.major=$e(M.version),M},this.getCPU=function(){var M={};return M[T]=i,Be.call(M,D,G.cpu),M},this.getDevice=function(){var M={};return M[p]=i,M[f]=i,M[l]=i,Be.call(M,D,G.device),M},this.getEngine=function(){var M={};return M[v]=i,M[b]=i,Be.call(M,D,G.engine),M},this.getOS=function(){var M={};return M[v]=i,M[b]=i,Be.call(M,D,G.os),M},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return D},this.setUA=function(M){return D=typeof M===h&&M.length>j?Te(M,j):M,this},this.setUA(D),this};he.VERSION=n,he.BROWSER=Ze([v,b,g]),he.CPU=Ze([T]),he.DEVICE=Ze([f,p,l,R,w,U,x,L,z]),he.ENGINE=he.OS=Ze([v,b]),u.exports&&(e=u.exports=he),e.UAParser=he;var Fe=typeof t!==d&&(t.jQuery||t.Zepto);if(Fe&&!Fe.ua){var pu=new he;Fe.ua=pu.getResult(),Fe.ua.get=function(){return pu.getUA()},Fe.ua.set=function(C){pu.setUA(C);var P=pu.getResult();for(var D in P)Fe.ua[D]=P[D]}}})(typeof window=="object"?window:Sn)})(Nt,Nt.exports);var wa=Nt.exports;const Sa=Tn(wa);var Ta="1.13.2",Ia="Web",_a="$remote",Aa=function(){function u(){this.name="context",this.type=me.BEFORE,this.library="amplitude-ts/".concat(Ta),typeof navigator<"u"&&(this.userAgent=navigator.userAgent),this.uaResult=new Sa(this.userAgent).getResult()}return u.prototype.setup=function(e){return this.config=e,Promise.resolve(void 0)},u.prototype.execute=function(e){var t,i;return I(this,void 0,void 0,function(){var n,r,a,s,d,o,h,g;return _(this,function(f){return n=new Date().getTime(),r=this.uaResult.browser.name,a=this.uaResult.browser.version,s=this.uaResult.device.model||this.uaResult.os.name,d=this.uaResult.device.vendor,o=(t=this.config.lastEventId)!==null&&t!==void 0?t:-1,h=(i=e.event_id)!==null&&i!==void 0?i:o+1,this.config.lastEventId=h,e.time||(this.config.lastEventTime=n),g=N(N(N(N(N(N(N(N(N(N(N(N({user_id:this.config.userId,device_id:this.config.deviceId,session_id:this.config.sessionId,time:n},this.config.appVersion&&{app_version:this.config.appVersion}),this.config.trackingOptions.platform&&{platform:Ia}),this.config.trackingOptions.osName&&{os_name:r}),this.config.trackingOptions.osVersion&&{os_version:a}),this.config.trackingOptions.deviceManufacturer&&{device_manufacturer:d}),this.config.trackingOptions.deviceModel&&{device_model:s}),this.config.trackingOptions.language&&{language:Yr()}),this.config.trackingOptions.ipAddress&&{ip:_a}),{insert_id:$u(),partner_id:this.config.partnerId,plan:this.config.plan}),this.config.ingestionMetadata&&{ingestion_metadata:{source_name:this.config.ingestionMetadata.sourceName,source_version:this.config.ingestionMetadata.sourceVersion}}),e),{event_id:h,library:this.library,user_agent:this.userAgent}),[2,g]})})},u}(),Na={page_domain:"".concat(ce," Page Domain"),page_location:"".concat(ce," Page Location"),page_path:"".concat(ce," Page Path"),page_title:"".concat(ce," Page Title"),page_url:"".concat(ce," Page URL")},ka=function(){var u="@amplitude/plugin-default-page-view-event-enrichment-browser",e=me.ENRICHMENT,t=function(){return I(void 0,void 0,void 0,function(){return _(this,function(n){return[2,void 0]})})},i=function(n){return I(void 0,void 0,void 0,function(){return _(this,function(r){return n.event_type===ji&&n.event_properties&&(n.event_properties=Object.entries(n.event_properties).reduce(function(a,s){var d=ee(s,2),o=d[0],h=d[1],g=Na[o];return g?a[g]=h:a[o]=h,a},{})),[2,n]})})};return{name:u,type:e,setup:t,execute:i}},Ra=function(){var u,e=[],t=function(o,h,g){o.addEventListener(h,g),e.push({element:o,type:h,handler:g})},i=function(){e.forEach(function(o){var h=o.element,g=o.type,f=o.handler;h==null||h.removeEventListener(g,f)}),e=[]},n="@amplitude/plugin-file-download-tracking-browser",r=me.ENRICHMENT,a=function(o,h){return I(void 0,void 0,void 0,function(){var g,f,v;return _(this,function(l){return h?typeof document>"u"?[2]:(g=function(p){var b;try{b=new URL(p.href,window.location.href)}catch{return}var T=f.exec(b.href),R=T==null?void 0:T[1];R&&t(p,"click",function(){var w;R&&h.track(ba,(w={},w[pa]=R,w[va]=b.pathname,w[ma]=p.id,w[ga]=p.text,w[ya]=p.href,w))})},f=/\.(pdf|xlsx?|docx?|txt|rtf|csv|exe|key|pp(s|t|tx)|7z|pkg|rar|gz|zip|avi|mov|mp4|mpe?g|wmv|midi?|mp3|wav|wma)$/,v=Array.from(document.getElementsByTagName("a")),v.forEach(g),typeof MutationObserver<"u"&&(u=new MutationObserver(function(p){p.forEach(function(b){b.addedNodes.forEach(function(T){T.nodeName==="A"&&g(T),"querySelectorAll"in T&&typeof T.querySelectorAll=="function"&&Array.from(T.querySelectorAll("a")).map(g)})})}),u.observe(document.body,{subtree:!0,childList:!0})),[2]):(o.loggerProvider.warn("File download tracking requires a later version of @amplitude/analytics-browser. File download events are not tracked."),[2])})})},s=function(o){return I(void 0,void 0,void 0,function(){return _(this,function(h){return[2,o]})})},d=function(){return I(void 0,void 0,void 0,function(){return _(this,function(o){return u==null||u.disconnect(),i(),[2]})})};return{name:n,type:r,setup:a,execute:s,teardown:d}},Da=function(){var u,e=[],t=function(o,h,g){o.addEventListener(h,g),e.push({element:o,type:h,handler:g})},i=function(){e.forEach(function(o){var h=o.element,g=o.type,f=o.handler;h==null||h.removeEventListener(g,f)}),e=[]},n="@amplitude/plugin-form-interaction-tracking-browser",r=me.ENRICHMENT,a=function(o,h){return I(void 0,void 0,void 0,function(){var g,f;return _(this,function(v){return h?typeof document>"u"?[2]:(g=function(l){var p=!1;t(l,"change",function(){var b;p||h.track(Si,(b={},b[lt]=l.id,b[ft]=l.name,b[ht]=l.action,b)),p=!0}),t(l,"submit",function(){var b,T;p||h.track(Si,(b={},b[lt]=l.id,b[ft]=l.name,b[ht]=l.action,b)),h.track(ha,(T={},T[lt]=l.id,T[ft]=l.name,T[ht]=l.action,T)),p=!1})},f=Array.from(document.getElementsByTagName("form")),f.forEach(g),typeof MutationObserver<"u"&&(u=new MutationObserver(function(l){l.forEach(function(p){p.addedNodes.forEach(function(b){b.nodeName==="FORM"&&g(b),"querySelectorAll"in b&&typeof b.querySelectorAll=="function"&&Array.from(b.querySelectorAll("form")).map(g)})})}),u.observe(document.body,{subtree:!0,childList:!0})),[2]):(o.loggerProvider.warn("Form interaction tracking requires a later version of @amplitude/analytics-browser. Form interaction events are not tracked."),[2])})})},s=function(o){return I(void 0,void 0,void 0,function(){return _(this,function(h){return[2,o]})})},d=function(){return I(void 0,void 0,void 0,function(){return _(this,function(o){return u==null||u.disconnect(),i(),[2]})})};return{name:n,type:r,setup:a,execute:s,teardown:d}},pt=function(u,e){for(var t=0;t<e.length;t++){var i=e[t],n=i.name,r=i.args,a=i.resolve,s=u&&u[n];if(typeof s=="function"){var d=s.apply(u,r);typeof a=="function"&&a(d==null?void 0:d.promise)}}return u},vt=function(u){var e=u;return e&&e._q!==void 0},Oa=function(u){_u(e,u);function e(){return u!==null&&u.apply(this,arguments)||this}return e.prototype.init=function(t,i,n){return t===void 0&&(t=""),Ae(this._init(N(N({},n),{userId:i,apiKey:t})))},e.prototype._init=function(t){var i,n,r,a,s,d,o,h,g,f,v,l,p,b,T,R,w,x,U,L;return I(this,void 0,void 0,function(){var z,j,Z,$,xe,q,Y,ge,Ke,Se,Pe,tu,je,Ue,Oe,W,Le,K,qe=this;return _(this,function(k){switch(k.label){case 0:return this.initializing?[2]:(this.initializing=!0,z=t,t.disableCookies?(j="",[3,5]):[3,1]);case 1:return(i=t.domain)!==null&&i!==void 0?(Z=i,[3,4]):[3,2];case 2:return[4,fa()];case 3:Z=k.sent(),k.label=4;case 4:j=Z,k.label=5;case 5:return z.domain=j,[4,xa(t.apiKey,t)];case 6:return $=k.sent(),[4,Wi(t)];case 7:return xe=k.sent(),[4,xe.get(Hi(t.apiKey))];case 8:return q=k.sent(),Y=_t(),ge=(a=(r=(n=t.deviceId)!==null&&n!==void 0?n:Y.deviceId)!==null&&r!==void 0?r:q==null?void 0:q.deviceId)!==null&&a!==void 0?a:$.deviceId,Ke=(s=q==null?void 0:q.sessionId)!==null&&s!==void 0?s:$.sessionId,Se=(o=(d=t.optOut)!==null&&d!==void 0?d:q==null?void 0:q.optOut)!==null&&o!==void 0?o:$.optOut,Pe=(h=q==null?void 0:q.lastEventId)!==null&&h!==void 0?h:$.lastEventId,tu=(g=q==null?void 0:q.lastEventTime)!==null&&g!==void 0?g:$.lastEventTime,je=(v=(f=t.userId)!==null&&f!==void 0?f:q==null?void 0:q.userId)!==null&&v!==void 0?v:$.userId,this.previousSessionDeviceId=(l=q==null?void 0:q.deviceId)!==null&&l!==void 0?l:$.deviceId,this.previousSessionUserId=(p=q==null?void 0:q.userId)!==null&&p!==void 0?p:$.userId,[4,ca(t.apiKey,N(N({},t),{deviceId:ge,sessionId:Ke,optOut:Se,lastEventId:Pe,lastEventTime:tu,userId:je,cookieStorage:xe}))];case 9:return Ue=k.sent(),[4,u.prototype._init.call(this,Ue)];case 10:return k.sent(),Oe=!1,(!this.config.lastEventTime||!this.config.sessionId||this.config.lastEventTime&&Date.now()-this.config.lastEventTime>this.config.sessionTimeout)&&(this.setSessionId((T=(b=t.sessionId)!==null&&b!==void 0?b:this.config.sessionId)!==null&&T!==void 0?T:Date.now()),Oe=!0),W=xu(t.instanceName),W.identityStore.setIdentity({userId:this.config.userId,deviceId:this.config.deviceId}),[4,this.add(new Sr).promise];case 11:return k.sent(),[4,this.add(new Aa).promise];case 12:return k.sent(),[4,this.add(new $r).promise];case 13:return k.sent(),zr(this.config.defaultTracking)?[4,this.add(Ra()).promise]:[3,15];case 14:k.sent(),k.label=15;case 15:return Wr(this.config.defaultTracking)?[4,this.add(Da()).promise]:[3,17];case 16:k.sent(),k.label=17;case 17:return!((R=this.config.attribution)===null||R===void 0)&&R.disabled?[3,19]:(Le=aa({excludeReferrers:(w=this.config.attribution)===null||w===void 0?void 0:w.excludeReferrers,initialEmptyValue:(x=this.config.attribution)===null||x===void 0?void 0:x.initialEmptyValue,resetSessionOnNewCampaign:(U=this.config.attribution)===null||U===void 0?void 0:U.resetSessionOnNewCampaign}),Le.__pluginEnabledOverride=Oe||!((L=this.config.attribution)===null||L===void 0)&&L.trackNewCampaigns?void 0:!1,[4,this.add(Le).promise]);case 18:k.sent(),k.label=19;case 19:return K=Zr(this.config),K.eventType=K.eventType||ji,[4,this.add(Jr(K)).promise];case 20:return k.sent(),[4,this.add(ka()).promise];case 21:return k.sent(),this.initializing=!1,[4,this.runQueuedFunctions("dispatchQ")];case 22:return k.sent(),W.eventBridge.setEventReceiver(function(Ee){qe.track(Ee.eventType,Ee.eventProperties)}),[2]}})})},e.prototype.getUserId=function(){var t;return(t=this.config)===null||t===void 0?void 0:t.userId},e.prototype.setUserId=function(t){if(!this.config){this.q.push(this.setUserId.bind(this,t));return}(t!==this.config.userId||t===void 0)&&(this.config.userId=t,Cr(t,this.config.instanceName))},e.prototype.getDeviceId=function(){var t;return(t=this.config)===null||t===void 0?void 0:t.deviceId},e.prototype.setDeviceId=function(t){if(!this.config){this.q.push(this.setDeviceId.bind(this,t));return}this.config.deviceId=t,Mr(t,this.config.instanceName)},e.prototype.setOptOut=function(t){Pr(t,this.config.instanceName),u.prototype.setOptOut.call(this,t)},e.prototype.reset=function(){this.setDeviceId($u()),this.setUserId(void 0)},e.prototype.getSessionId=function(){var t;return(t=this.config)===null||t===void 0?void 0:t.sessionId},e.prototype.setSessionId=function(t){var i;if(!this.config){this.q.push(this.setSessionId.bind(this,t));return}if(t!==this.config.sessionId){var n=this.getSessionId(),r=this.config.lastEventTime,a=(i=this.config.lastEventId)!==null&&i!==void 0?i:-1;this.config.sessionId=t,this.config.lastEventTime=void 0,jr(this.config.defaultTracking)&&(n&&r&&this.track(Ii,void 0,{device_id:this.previousSessionDeviceId,event_id:++a,session_id:n,time:r+1,user_id:this.previousSessionUserId}),this.config.lastEventTime=this.config.sessionId,this.track(Ti,void 0,{event_id:++a,session_id:this.config.sessionId,time:this.config.lastEventTime})),this.previousSessionDeviceId=this.config.deviceId,this.previousSessionUserId=this.config.userId}},e.prototype.extendSession=function(){if(!this.config){this.q.push(this.extendSession.bind(this));return}this.config.lastEventTime=Date.now()},e.prototype.setTransport=function(t){if(!this.config){this.q.push(this.setTransport.bind(this,t));return}this.config.transportProvider=Ki(t)},e.prototype.identify=function(t,i){if(vt(t)){var n=t._q;t._q=[],t=pt(new Ku,n)}return i!=null&&i.user_id&&this.setUserId(i.user_id),i!=null&&i.device_id&&this.setDeviceId(i.device_id),u.prototype.identify.call(this,t,i)},e.prototype.groupIdentify=function(t,i,n,r){if(vt(n)){var a=n._q;n._q=[],n=pt(new Ku,a)}return u.prototype.groupIdentify.call(this,t,i,n,r)},e.prototype.revenue=function(t,i){if(vt(t)){var n=t._q;t._q=[],t=pt(new mr,n)}return u.prototype.revenue.call(this,t,i)},e.prototype.process=function(t){return I(this,void 0,void 0,function(){var i,n,r;return _(this,function(a){return i=Date.now(),n=this.config.lastEventTime||Date.now(),r=i-n,t.event_type!==Ti&&t.event_type!==Ii&&(!t.session_id||t.session_id===this.getSessionId())&&r>this.config.sessionTimeout&&this.setSessionId(i),[2,u.prototype.process.call(this,t)]})})},e}(vr),La=function(){var u=new Oa;return{init:J(u.init.bind(u),"init",Q(u),X(u,["config"])),add:J(u.add.bind(u),"add",Q(u),X(u,["config.apiKey","timeline.plugins"])),remove:J(u.remove.bind(u),"remove",Q(u),X(u,["config.apiKey","timeline.plugins"])),track:J(u.track.bind(u),"track",Q(u),X(u,["config.apiKey","timeline.queue.length"])),logEvent:J(u.logEvent.bind(u),"logEvent",Q(u),X(u,["config.apiKey","timeline.queue.length"])),identify:J(u.identify.bind(u),"identify",Q(u),X(u,["config.apiKey","timeline.queue.length"])),groupIdentify:J(u.groupIdentify.bind(u),"groupIdentify",Q(u),X(u,["config.apiKey","timeline.queue.length"])),setGroup:J(u.setGroup.bind(u),"setGroup",Q(u),X(u,["config.apiKey","timeline.queue.length"])),revenue:J(u.revenue.bind(u),"revenue",Q(u),X(u,["config.apiKey","timeline.queue.length"])),flush:J(u.flush.bind(u),"flush",Q(u),X(u,["config.apiKey","timeline.queue.length"])),getUserId:J(u.getUserId.bind(u),"getUserId",Q(u),X(u,["config","config.userId"])),setUserId:J(u.setUserId.bind(u),"setUserId",Q(u),X(u,["config","config.userId"])),getDeviceId:J(u.getDeviceId.bind(u),"getDeviceId",Q(u),X(u,["config","config.deviceId"])),setDeviceId:J(u.setDeviceId.bind(u),"setDeviceId",Q(u),X(u,["config","config.deviceId"])),reset:J(u.reset.bind(u),"reset",Q(u),X(u,["config","config.userId","config.deviceId"])),getSessionId:J(u.getSessionId.bind(u),"getSessionId",Q(u),X(u,["config"])),setSessionId:J(u.setSessionId.bind(u),"setSessionId",Q(u),X(u,["config"])),extendSession:J(u.extendSession.bind(u),"extendSession",Q(u),X(u,["config"])),setOptOut:J(u.setOptOut.bind(u),"setOptOut",Q(u),X(u,["config"])),setTransport:J(u.setTransport.bind(u),"setTransport",Q(u),X(u,["config"]))}};const ue=La();ue.add;ue.extendSession;ue.flush;ue.getDeviceId;ue.getSessionId;ue.getUserId;ue.groupIdentify;var cl=ue.identify,dl=ue.init;ue.logEvent;ue.remove;ue.reset;ue.revenue;ue.setDeviceId;ue.setGroup;ue.setOptOut;ue.setSessionId;ue.setTransport;ue.setUserId;var ll=ue.track,Ca=["second","minute","hour","day","week","month","year"];function Ma(u,e){if(e===0)return["just now","right now"];var t=Ca[Math.floor(e/2)];return u>1&&(t+="s"),[u+" "+t+" ago","in "+u+" "+t]}var Pa=["","","","","","",""];function Ua(u,e){if(e===0)return["",""];var t=Pa[~~(e/2)];return[u+" "+t+"",u+" "+t+""]}var kt={},Zi=function(u,e){kt[u]=e},qa=function(u){return kt[u]||kt.en_US},mt=[60,60,24,7,365/7/12,12];function _i(u){return u instanceof Date?u:!isNaN(u)||/^\d+$/.test(u)?new Date(parseInt(u)):(u=(u||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(u))}function Ba(u,e){var t=u<0?1:0;u=Math.abs(u);for(var i=u,n=0;u>=mt[n]&&n<mt.length;n++)u/=mt[n];return u=Math.floor(u),n*=2,u>(n===0?9:1)&&(n+=1),e(u,n,i)[t].replace("%s",u.toString())}function Fa(u,e){var t=e?_i(e):new Date;return(+t-+_i(u))/1e3}var fl=function(u,e,t){var i=Fa(u,t&&t.relativeDate);return Ba(i,qa(e))};Zi("en_US",Ma);Zi("zh_CN",Ua);const Yi=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(u=>u.charCodeAt(0))),$i=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(u=>u.charCodeAt(0)));var gt;const Ga=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),Rt=(gt=String.fromCodePoint)!==null&&gt!==void 0?gt:function(u){let e="";return u>65535&&(u-=65536,e+=String.fromCharCode(u>>>10&1023|55296),u=56320|u&1023),e+=String.fromCharCode(u),e};function Qi(u){var e;return u>=55296&&u<=57343||u>1114111?65533:(e=Ga.get(u))!==null&&e!==void 0?e:u}var se;(function(u){u[u.NUM=35]="NUM",u[u.SEMI=59]="SEMI",u[u.EQUALS=61]="EQUALS",u[u.ZERO=48]="ZERO",u[u.NINE=57]="NINE",u[u.LOWER_A=97]="LOWER_A",u[u.LOWER_F=102]="LOWER_F",u[u.LOWER_X=120]="LOWER_X",u[u.LOWER_Z=122]="LOWER_Z",u[u.UPPER_A=65]="UPPER_A",u[u.UPPER_F=70]="UPPER_F",u[u.UPPER_Z=90]="UPPER_Z"})(se||(se={}));const Va=32;var Re;(function(u){u[u.VALUE_LENGTH=49152]="VALUE_LENGTH",u[u.BRANCH_LENGTH=16256]="BRANCH_LENGTH",u[u.JUMP_TABLE=127]="JUMP_TABLE"})(Re||(Re={}));function Dt(u){return u>=se.ZERO&&u<=se.NINE}function Ha(u){return u>=se.UPPER_A&&u<=se.UPPER_F||u>=se.LOWER_A&&u<=se.LOWER_F}function za(u){return u>=se.UPPER_A&&u<=se.UPPER_Z||u>=se.LOWER_A&&u<=se.LOWER_Z||Dt(u)}function Wa(u){return u===se.EQUALS||za(u)}var re;(function(u){u[u.EntityStart=0]="EntityStart",u[u.NumericStart=1]="NumericStart",u[u.NumericDecimal=2]="NumericDecimal",u[u.NumericHex=3]="NumericHex",u[u.NamedEntity=4]="NamedEntity"})(re||(re={}));var fu;(function(u){u[u.Legacy=0]="Legacy",u[u.Strict=1]="Strict",u[u.Attribute=2]="Attribute"})(fu||(fu={}));class Ka{constructor(e,t,i){this.decodeTree=e,this.emitCodePoint=t,this.errors=i,this.state=re.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=fu.Strict}startEntity(e){this.decodeMode=e,this.state=re.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,t){switch(this.state){case re.EntityStart:return e.charCodeAt(t)===se.NUM?(this.state=re.NumericStart,this.consumed+=1,this.stateNumericStart(e,t+1)):(this.state=re.NamedEntity,this.stateNamedEntity(e,t));case re.NumericStart:return this.stateNumericStart(e,t);case re.NumericDecimal:return this.stateNumericDecimal(e,t);case re.NumericHex:return this.stateNumericHex(e,t);case re.NamedEntity:return this.stateNamedEntity(e,t)}}stateNumericStart(e,t){return t>=e.length?-1:(e.charCodeAt(t)|Va)===se.LOWER_X?(this.state=re.NumericHex,this.consumed+=1,this.stateNumericHex(e,t+1)):(this.state=re.NumericDecimal,this.stateNumericDecimal(e,t))}addToNumericResult(e,t,i,n){if(t!==i){const r=i-t;this.result=this.result*Math.pow(n,r)+parseInt(e.substr(t,r),n),this.consumed+=r}}stateNumericHex(e,t){const i=t;for(;t<e.length;){const n=e.charCodeAt(t);if(Dt(n)||Ha(n))t+=1;else return this.addToNumericResult(e,i,t,16),this.emitNumericEntity(n,3)}return this.addToNumericResult(e,i,t,16),-1}stateNumericDecimal(e,t){const i=t;for(;t<e.length;){const n=e.charCodeAt(t);if(Dt(n))t+=1;else return this.addToNumericResult(e,i,t,10),this.emitNumericEntity(n,2)}return this.addToNumericResult(e,i,t,10),-1}emitNumericEntity(e,t){var i;if(this.consumed<=t)return(i=this.errors)===null||i===void 0||i.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===se.SEMI)this.consumed+=1;else if(this.decodeMode===fu.Strict)return 0;return this.emitCodePoint(Qi(this.result),this.consumed),this.errors&&(e!==se.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,t){const{decodeTree:i}=this;let n=i[this.treeIndex],r=(n&Re.VALUE_LENGTH)>>14;for(;t<e.length;t++,this.excess++){const a=e.charCodeAt(t);if(this.treeIndex=Ji(i,n,this.treeIndex+Math.max(1,r),a),this.treeIndex<0)return this.result===0||this.decodeMode===fu.Attribute&&(r===0||Wa(a))?0:this.emitNotTerminatedNamedEntity();if(n=i[this.treeIndex],r=(n&Re.VALUE_LENGTH)>>14,r!==0){if(a===se.SEMI)return this.emitNamedEntityData(this.treeIndex,r,this.consumed+this.excess);this.decodeMode!==fu.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:t,decodeTree:i}=this,n=(i[t]&Re.VALUE_LENGTH)>>14;return this.emitNamedEntityData(t,n,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,t,i){const{decodeTree:n}=this;return this.emitCodePoint(t===1?n[e]&~Re.VALUE_LENGTH:n[e+1],i),t===3&&this.emitCodePoint(n[e+2],i),i}end(){var e;switch(this.state){case re.NamedEntity:return this.result!==0&&(this.decodeMode!==fu.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case re.NumericDecimal:return this.emitNumericEntity(0,2);case re.NumericHex:return this.emitNumericEntity(0,3);case re.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case re.EntityStart:return 0}}}function Xi(u){let e="";const t=new Ka(u,i=>e+=Rt(i));return function(n,r){let a=0,s=0;for(;(s=n.indexOf("&",s))>=0;){e+=n.slice(a,s),t.startEntity(r);const o=t.write(n,s+1);if(o<0){a=s+t.end();break}a=s+o,s=o===0?a+1:a}const d=e+n.slice(a);return e="",d}}function Ji(u,e,t,i){const n=(e&Re.BRANCH_LENGTH)>>7,r=e&Re.JUMP_TABLE;if(n===0)return r!==0&&i===r?t:-1;if(r){const d=i-r;return d<0||d>=n?-1:u[t+d]-1}let a=t,s=a+n-1;for(;a<=s;){const d=a+s>>>1,o=u[d];if(o<i)a=d+1;else if(o>i)s=d-1;else return u[d+n]}return-1}Xi(Yi);Xi($i);var S;(function(u){u[u.Tab=9]="Tab",u[u.NewLine=10]="NewLine",u[u.FormFeed=12]="FormFeed",u[u.CarriageReturn=13]="CarriageReturn",u[u.Space=32]="Space",u[u.ExclamationMark=33]="ExclamationMark",u[u.Number=35]="Number",u[u.Amp=38]="Amp",u[u.SingleQuote=39]="SingleQuote",u[u.DoubleQuote=34]="DoubleQuote",u[u.Dash=45]="Dash",u[u.Slash=47]="Slash",u[u.Zero=48]="Zero",u[u.Nine=57]="Nine",u[u.Semi=59]="Semi",u[u.Lt=60]="Lt",u[u.Eq=61]="Eq",u[u.Gt=62]="Gt",u[u.Questionmark=63]="Questionmark",u[u.UpperA=65]="UpperA",u[u.LowerA=97]="LowerA",u[u.UpperF=70]="UpperF",u[u.LowerF=102]="LowerF",u[u.UpperZ=90]="UpperZ",u[u.LowerZ=122]="LowerZ",u[u.LowerX=120]="LowerX",u[u.OpeningSquareBracket=91]="OpeningSquareBracket"})(S||(S={}));var m;(function(u){u[u.Text=1]="Text",u[u.BeforeTagName=2]="BeforeTagName",u[u.InTagName=3]="InTagName",u[u.InSelfClosingTag=4]="InSelfClosingTag",u[u.BeforeClosingTagName=5]="BeforeClosingTagName",u[u.InClosingTagName=6]="InClosingTagName",u[u.AfterClosingTagName=7]="AfterClosingTagName",u[u.BeforeAttributeName=8]="BeforeAttributeName",u[u.InAttributeName=9]="InAttributeName",u[u.AfterAttributeName=10]="AfterAttributeName",u[u.BeforeAttributeValue=11]="BeforeAttributeValue",u[u.InAttributeValueDq=12]="InAttributeValueDq",u[u.InAttributeValueSq=13]="InAttributeValueSq",u[u.InAttributeValueNq=14]="InAttributeValueNq",u[u.BeforeDeclaration=15]="BeforeDeclaration",u[u.InDeclaration=16]="InDeclaration",u[u.InProcessingInstruction=17]="InProcessingInstruction",u[u.BeforeComment=18]="BeforeComment",u[u.CDATASequence=19]="CDATASequence",u[u.InSpecialComment=20]="InSpecialComment",u[u.InCommentLike=21]="InCommentLike",u[u.BeforeSpecialS=22]="BeforeSpecialS",u[u.SpecialStartSequence=23]="SpecialStartSequence",u[u.InSpecialTag=24]="InSpecialTag",u[u.BeforeEntity=25]="BeforeEntity",u[u.BeforeNumericEntity=26]="BeforeNumericEntity",u[u.InNamedEntity=27]="InNamedEntity",u[u.InNumericEntity=28]="InNumericEntity",u[u.InHexEntity=29]="InHexEntity"})(m||(m={}));function We(u){return u===S.Space||u===S.NewLine||u===S.Tab||u===S.FormFeed||u===S.CarriageReturn}function Uu(u){return u===S.Slash||u===S.Gt||We(u)}function Ai(u){return u>=S.Zero&&u<=S.Nine}function ja(u){return u>=S.LowerA&&u<=S.LowerZ||u>=S.UpperA&&u<=S.UpperZ}function Za(u){return u>=S.UpperA&&u<=S.UpperF||u>=S.LowerA&&u<=S.LowerF}var Me;(function(u){u[u.NoValue=0]="NoValue",u[u.Unquoted=1]="Unquoted",u[u.Single=2]="Single",u[u.Double=3]="Double"})(Me||(Me={}));const pe={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])};class Ya{constructor({xmlMode:e=!1,decodeEntities:t=!0},i){this.cbs=i,this.state=m.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=m.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=e,this.decodeEntities=t,this.entityTrie=e?$i:Yi}reset(){this.state=m.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=m.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(e){this.offset+=this.buffer.length,this.buffer=e,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}getIndex(){return this.index}getSectionStart(){return this.sectionStart}stateText(e){e===S.Lt||!this.decodeEntities&&this.fastForwardTo(S.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=m.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&e===S.Amp&&(this.state=m.BeforeEntity)}stateSpecialStartSequence(e){const t=this.sequenceIndex===this.currentSequence.length;if(!(t?Uu(e):(e|32)===this.currentSequence[this.sequenceIndex]))this.isSpecial=!1;else if(!t){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=m.InTagName,this.stateInTagName(e)}stateInSpecialTag(e){if(this.sequenceIndex===this.currentSequence.length){if(e===S.Gt||We(e)){const t=this.index-this.currentSequence.length;if(this.sectionStart<t){const i=this.index;this.index=t,this.cbs.ontext(this.sectionStart,t),this.index=i}this.isSpecial=!1,this.sectionStart=t+2,this.stateInClosingTagName(e);return}this.sequenceIndex=0}(e|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===pe.TitleEnd?this.decodeEntities&&e===S.Amp&&(this.state=m.BeforeEntity):this.fastForwardTo(S.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(e===S.Lt)}stateCDATASequence(e){e===pe.Cdata[this.sequenceIndex]?++this.sequenceIndex===pe.Cdata.length&&(this.state=m.InCommentLike,this.currentSequence=pe.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=m.InDeclaration,this.stateInDeclaration(e))}fastForwardTo(e){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===e)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(e){e===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===pe.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=m.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):e!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(e){return this.xmlMode?!Uu(e):ja(e)}startSpecial(e,t){this.isSpecial=!0,this.currentSequence=e,this.sequenceIndex=t,this.state=m.SpecialStartSequence}stateBeforeTagName(e){if(e===S.ExclamationMark)this.state=m.BeforeDeclaration,this.sectionStart=this.index+1;else if(e===S.Questionmark)this.state=m.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(e)){const t=e|32;this.sectionStart=this.index,!this.xmlMode&&t===pe.TitleEnd[2]?this.startSpecial(pe.TitleEnd,3):this.state=!this.xmlMode&&t===pe.ScriptEnd[2]?m.BeforeSpecialS:m.InTagName}else e===S.Slash?this.state=m.BeforeClosingTagName:(this.state=m.Text,this.stateText(e))}stateInTagName(e){Uu(e)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=m.BeforeAttributeName,this.stateBeforeAttributeName(e))}stateBeforeClosingTagName(e){We(e)||(e===S.Gt?this.state=m.Text:(this.state=this.isTagStartChar(e)?m.InClosingTagName:m.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(e){(e===S.Gt||We(e))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=m.AfterClosingTagName,this.stateAfterClosingTagName(e))}stateAfterClosingTagName(e){(e===S.Gt||this.fastForwardTo(S.Gt))&&(this.state=m.Text,this.baseState=m.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(e){e===S.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=m.InSpecialTag,this.sequenceIndex=0):this.state=m.Text,this.baseState=this.state,this.sectionStart=this.index+1):e===S.Slash?this.state=m.InSelfClosingTag:We(e)||(this.state=m.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(e){e===S.Gt?(this.cbs.onselfclosingtag(this.index),this.state=m.Text,this.baseState=m.Text,this.sectionStart=this.index+1,this.isSpecial=!1):We(e)||(this.state=m.BeforeAttributeName,this.stateBeforeAttributeName(e))}stateInAttributeName(e){(e===S.Eq||Uu(e))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=m.AfterAttributeName,this.stateAfterAttributeName(e))}stateAfterAttributeName(e){e===S.Eq?this.state=m.BeforeAttributeValue:e===S.Slash||e===S.Gt?(this.cbs.onattribend(Me.NoValue,this.index),this.state=m.BeforeAttributeName,this.stateBeforeAttributeName(e)):We(e)||(this.cbs.onattribend(Me.NoValue,this.index),this.state=m.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(e){e===S.DoubleQuote?(this.state=m.InAttributeValueDq,this.sectionStart=this.index+1):e===S.SingleQuote?(this.state=m.InAttributeValueSq,this.sectionStart=this.index+1):We(e)||(this.sectionStart=this.index,this.state=m.InAttributeValueNq,this.stateInAttributeValueNoQuotes(e))}handleInAttributeValue(e,t){e===t||!this.decodeEntities&&this.fastForwardTo(t)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(t===S.DoubleQuote?Me.Double:Me.Single,this.index),this.state=m.BeforeAttributeName):this.decodeEntities&&e===S.Amp&&(this.baseState=this.state,this.state=m.BeforeEntity)}stateInAttributeValueDoubleQuotes(e){this.handleInAttributeValue(e,S.DoubleQuote)}stateInAttributeValueSingleQuotes(e){this.handleInAttributeValue(e,S.SingleQuote)}stateInAttributeValueNoQuotes(e){We(e)||e===S.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(Me.Unquoted,this.index),this.state=m.BeforeAttributeName,this.stateBeforeAttributeName(e)):this.decodeEntities&&e===S.Amp&&(this.baseState=this.state,this.state=m.BeforeEntity)}stateBeforeDeclaration(e){e===S.OpeningSquareBracket?(this.state=m.CDATASequence,this.sequenceIndex=0):this.state=e===S.Dash?m.BeforeComment:m.InDeclaration}stateInDeclaration(e){(e===S.Gt||this.fastForwardTo(S.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=m.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(e){(e===S.Gt||this.fastForwardTo(S.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=m.Text,this.sectionStart=this.index+1)}stateBeforeComment(e){e===S.Dash?(this.state=m.InCommentLike,this.currentSequence=pe.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=m.InDeclaration}stateInSpecialComment(e){(e===S.Gt||this.fastForwardTo(S.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=m.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(e){const t=e|32;t===pe.ScriptEnd[3]?this.startSpecial(pe.ScriptEnd,4):t===pe.StyleEnd[3]?this.startSpecial(pe.StyleEnd,4):(this.state=m.InTagName,this.stateInTagName(e))}stateBeforeEntity(e){this.entityExcess=1,this.entityResult=0,e===S.Number?this.state=m.BeforeNumericEntity:e===S.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=m.InNamedEntity,this.stateInNamedEntity(e))}stateInNamedEntity(e){if(this.entityExcess+=1,this.trieIndex=Ji(this.entityTrie,this.trieCurrent,this.trieIndex+1,e),this.trieIndex<0){this.emitNamedEntity(),this.index--;return}this.trieCurrent=this.entityTrie[this.trieIndex];const t=this.trieCurrent&Re.VALUE_LENGTH;if(t){const i=(t>>14)-1;if(!this.allowLegacyEntity()&&e!==S.Semi)this.trieIndex+=i;else{const n=this.index-this.entityExcess+1;n>this.sectionStart&&this.emitPartial(this.sectionStart,n),this.entityResult=this.trieIndex,this.trieIndex+=i,this.entityExcess=0,this.sectionStart=this.index+1,i===0&&this.emitNamedEntity()}}}emitNamedEntity(){if(this.state=this.baseState,this.entityResult===0)return;switch((this.entityTrie[this.entityResult]&Re.VALUE_LENGTH)>>14){case 1:{this.emitCodePoint(this.entityTrie[this.entityResult]&~Re.VALUE_LENGTH);break}case 2:{this.emitCodePoint(this.entityTrie[this.entityResult+1]);break}case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}}stateBeforeNumericEntity(e){(e|32)===S.LowerX?(this.entityExcess++,this.state=m.InHexEntity):(this.state=m.InNumericEntity,this.stateInNumericEntity(e))}emitNumericEntity(e){const t=this.index-this.entityExcess-1;t+2+ +(this.state===m.InHexEntity)!==this.index&&(t>this.sectionStart&&this.emitPartial(this.sectionStart,t),this.sectionStart=this.index+Number(e),this.emitCodePoint(Qi(this.entityResult))),this.state=this.baseState}stateInNumericEntity(e){e===S.Semi?this.emitNumericEntity(!0):Ai(e)?(this.entityResult=this.entityResult*10+(e-S.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)}stateInHexEntity(e){e===S.Semi?this.emitNumericEntity(!0):Ai(e)?(this.entityResult=this.entityResult*16+(e-S.Zero),this.entityExcess++):Za(e)?(this.entityResult=this.entityResult*16+((e|32)-S.LowerA+10),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)}allowLegacyEntity(){return!this.xmlMode&&(this.baseState===m.Text||this.baseState===m.InSpecialTag)}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===m.Text||this.state===m.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===m.InAttributeValueDq||this.state===m.InAttributeValueSq||this.state===m.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){const e=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case m.Text:{this.stateText(e);break}case m.SpecialStartSequence:{this.stateSpecialStartSequence(e);break}case m.InSpecialTag:{this.stateInSpecialTag(e);break}case m.CDATASequence:{this.stateCDATASequence(e);break}case m.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(e);break}case m.InAttributeName:{this.stateInAttributeName(e);break}case m.InCommentLike:{this.stateInCommentLike(e);break}case m.InSpecialComment:{this.stateInSpecialComment(e);break}case m.BeforeAttributeName:{this.stateBeforeAttributeName(e);break}case m.InTagName:{this.stateInTagName(e);break}case m.InClosingTagName:{this.stateInClosingTagName(e);break}case m.BeforeTagName:{this.stateBeforeTagName(e);break}case m.AfterAttributeName:{this.stateAfterAttributeName(e);break}case m.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(e);break}case m.BeforeAttributeValue:{this.stateBeforeAttributeValue(e);break}case m.BeforeClosingTagName:{this.stateBeforeClosingTagName(e);break}case m.AfterClosingTagName:{this.stateAfterClosingTagName(e);break}case m.BeforeSpecialS:{this.stateBeforeSpecialS(e);break}case m.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(e);break}case m.InSelfClosingTag:{this.stateInSelfClosingTag(e);break}case m.InDeclaration:{this.stateInDeclaration(e);break}case m.BeforeDeclaration:{this.stateBeforeDeclaration(e);break}case m.BeforeComment:{this.stateBeforeComment(e);break}case m.InProcessingInstruction:{this.stateInProcessingInstruction(e);break}case m.InNamedEntity:{this.stateInNamedEntity(e);break}case m.BeforeEntity:{this.stateBeforeEntity(e);break}case m.InHexEntity:{this.stateInHexEntity(e);break}case m.InNumericEntity:{this.stateInNumericEntity(e);break}default:this.stateBeforeNumericEntity(e)}this.index++}this.cleanup()}finish(){this.state===m.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const e=this.buffer.length+this.offset;this.state===m.InCommentLike?this.currentSequence===pe.CdataEnd?this.cbs.oncdata(this.sectionStart,e,0):this.cbs.oncomment(this.sectionStart,e,0):this.state===m.InNumericEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===m.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===m.InTagName||this.state===m.BeforeAttributeName||this.state===m.BeforeAttributeValue||this.state===m.AfterAttributeName||this.state===m.InAttributeName||this.state===m.InAttributeValueSq||this.state===m.InAttributeValueDq||this.state===m.InAttributeValueNq||this.state===m.InClosingTagName||this.cbs.ontext(this.sectionStart,e)}emitPartial(e,t){this.baseState!==m.Text&&this.baseState!==m.InSpecialTag?this.cbs.onattribdata(e,t):this.cbs.ontext(e,t)}emitCodePoint(e){this.baseState!==m.Text&&this.baseState!==m.InSpecialTag?this.cbs.onattribentity(e):this.cbs.ontextentity(e)}}const gu=new Set(["input","option","optgroup","select","button","datalist","textarea"]),H=new Set(["p"]),Ni=new Set(["thead","tbody"]),ki=new Set(["dd","dt"]),Ri=new Set(["rt","rp"]),$a=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",H],["h1",H],["h2",H],["h3",H],["h4",H],["h5",H],["h6",H],["select",gu],["input",gu],["output",gu],["button",gu],["datalist",gu],["textarea",gu],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",ki],["dt",ki],["address",H],["article",H],["aside",H],["blockquote",H],["details",H],["div",H],["dl",H],["fieldset",H],["figcaption",H],["figure",H],["footer",H],["form",H],["header",H],["hr",H],["main",H],["nav",H],["ol",H],["pre",H],["section",H],["table",H],["ul",H],["rt",Ri],["rp",Ri],["tbody",Ni],["tfoot",Ni]]),Qa=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),Di=new Set(["math","svg"]),Oi=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),Xa=/\s|\//;class Ja{constructor(e,t={}){var i,n,r,a,s;this.options=t,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=e??{},this.lowerCaseTagNames=(i=t.lowerCaseTags)!==null&&i!==void 0?i:!t.xmlMode,this.lowerCaseAttributeNames=(n=t.lowerCaseAttributeNames)!==null&&n!==void 0?n:!t.xmlMode,this.tokenizer=new((r=t.Tokenizer)!==null&&r!==void 0?r:Ya)(this.options,this),(s=(a=this.cbs).onparserinit)===null||s===void 0||s.call(a,this)}ontext(e,t){var i,n;const r=this.getSlice(e,t);this.endIndex=t-1,(n=(i=this.cbs).ontext)===null||n===void 0||n.call(i,r),this.startIndex=t}ontextentity(e){var t,i;const n=this.tokenizer.getSectionStart();this.endIndex=n-1,(i=(t=this.cbs).ontext)===null||i===void 0||i.call(t,Rt(e)),this.startIndex=n}isVoidElement(e){return!this.options.xmlMode&&Qa.has(e)}onopentagname(e,t){this.endIndex=t;let i=this.getSlice(e,t);this.lowerCaseTagNames&&(i=i.toLowerCase()),this.emitOpenTag(i)}emitOpenTag(e){var t,i,n,r;this.openTagStart=this.startIndex,this.tagname=e;const a=!this.options.xmlMode&&$a.get(e);if(a)for(;this.stack.length>0&&a.has(this.stack[this.stack.length-1]);){const s=this.stack.pop();(i=(t=this.cbs).onclosetag)===null||i===void 0||i.call(t,s,!0)}this.isVoidElement(e)||(this.stack.push(e),Di.has(e)?this.foreignContext.push(!0):Oi.has(e)&&this.foreignContext.push(!1)),(r=(n=this.cbs).onopentagname)===null||r===void 0||r.call(n,e),this.cbs.onopentag&&(this.attribs={})}endOpenTag(e){var t,i;this.startIndex=this.openTagStart,this.attribs&&((i=(t=this.cbs).onopentag)===null||i===void 0||i.call(t,this.tagname,this.attribs,e),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(e){this.endIndex=e,this.endOpenTag(!1),this.startIndex=e+1}onclosetag(e,t){var i,n,r,a,s,d;this.endIndex=t;let o=this.getSlice(e,t);if(this.lowerCaseTagNames&&(o=o.toLowerCase()),(Di.has(o)||Oi.has(o))&&this.foreignContext.pop(),this.isVoidElement(o))!this.options.xmlMode&&o==="br"&&((n=(i=this.cbs).onopentagname)===null||n===void 0||n.call(i,"br"),(a=(r=this.cbs).onopentag)===null||a===void 0||a.call(r,"br",{},!0),(d=(s=this.cbs).onclosetag)===null||d===void 0||d.call(s,"br",!1));else{const h=this.stack.lastIndexOf(o);if(h!==-1)if(this.cbs.onclosetag){let g=this.stack.length-h;for(;g--;)this.cbs.onclosetag(this.stack.pop(),g!==0)}else this.stack.length=h;else!this.options.xmlMode&&o==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=t+1}onselfclosingtag(e){this.endIndex=e,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=e+1):this.onopentagend(e)}closeCurrentTag(e){var t,i;const n=this.tagname;this.endOpenTag(e),this.stack[this.stack.length-1]===n&&((i=(t=this.cbs).onclosetag)===null||i===void 0||i.call(t,n,!e),this.stack.pop())}onattribname(e,t){this.startIndex=e;const i=this.getSlice(e,t);this.attribname=this.lowerCaseAttributeNames?i.toLowerCase():i}onattribdata(e,t){this.attribvalue+=this.getSlice(e,t)}onattribentity(e){this.attribvalue+=Rt(e)}onattribend(e,t){var i,n;this.endIndex=t,(n=(i=this.cbs).onattribute)===null||n===void 0||n.call(i,this.attribname,this.attribvalue,e===Me.Double?'"':e===Me.Single?"'":e===Me.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(e){const t=e.search(Xa);let i=t<0?e:e.substr(0,t);return this.lowerCaseTagNames&&(i=i.toLowerCase()),i}ondeclaration(e,t){this.endIndex=t;const i=this.getSlice(e,t);if(this.cbs.onprocessinginstruction){const n=this.getInstructionName(i);this.cbs.onprocessinginstruction(`!${n}`,`!${i}`)}this.startIndex=t+1}onprocessinginstruction(e,t){this.endIndex=t;const i=this.getSlice(e,t);if(this.cbs.onprocessinginstruction){const n=this.getInstructionName(i);this.cbs.onprocessinginstruction(`?${n}`,`?${i}`)}this.startIndex=t+1}oncomment(e,t,i){var n,r,a,s;this.endIndex=t,(r=(n=this.cbs).oncomment)===null||r===void 0||r.call(n,this.getSlice(e,t-i)),(s=(a=this.cbs).oncommentend)===null||s===void 0||s.call(a),this.startIndex=t+1}oncdata(e,t,i){var n,r,a,s,d,o,h,g,f,v;this.endIndex=t;const l=this.getSlice(e,t-i);this.options.xmlMode||this.options.recognizeCDATA?((r=(n=this.cbs).oncdatastart)===null||r===void 0||r.call(n),(s=(a=this.cbs).ontext)===null||s===void 0||s.call(a,l),(o=(d=this.cbs).oncdataend)===null||o===void 0||o.call(d)):((g=(h=this.cbs).oncomment)===null||g===void 0||g.call(h,`[CDATA[${l}]]`),(v=(f=this.cbs).oncommentend)===null||v===void 0||v.call(f)),this.startIndex=t+1}onend(){var e,t;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let i=this.stack.length;i>0;this.cbs.onclosetag(this.stack[--i],!0));}(t=(e=this.cbs).onend)===null||t===void 0||t.call(e)}reset(){var e,t,i,n;(t=(e=this.cbs).onreset)===null||t===void 0||t.call(e),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(n=(i=this.cbs).onparserinit)===null||n===void 0||n.call(i,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(e){this.reset(),this.end(e)}getSlice(e,t){for(;e-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let i=this.buffers[0].slice(e-this.bufferOffset,t-this.bufferOffset);for(;t-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),i+=this.buffers[0].slice(0,t-this.bufferOffset);return i}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(e){var t,i;if(this.ended){(i=(t=this.cbs).onerror)===null||i===void 0||i.call(t,new Error(".write() after done!"));return}this.buffers.push(e),this.tokenizer.running&&(this.tokenizer.write(e),this.writeIndex++)}end(e){var t,i;if(this.ended){(i=(t=this.cbs).onerror)===null||i===void 0||i.call(t,new Error(".end() after done!"));return}e&&this.write(e),this.ended=!0,this.tokenizer.end()}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(e){this.write(e)}done(e){this.end(e)}}var F;(function(u){u.Root="root",u.Text="text",u.Directive="directive",u.Comment="comment",u.Script="script",u.Style="style",u.Tag="tag",u.CDATA="cdata",u.Doctype="doctype"})(F||(F={}));function e0(u){return u.type===F.Tag||u.type===F.Script||u.type===F.Style}F.Root;F.Text;F.Directive;F.Comment;F.Script;F.Style;F.Tag;F.CDATA;F.Doctype;class en{constructor(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}get parentNode(){return this.parent}set parentNode(e){this.parent=e}get previousSibling(){return this.prev}set previousSibling(e){this.prev=e}get nextSibling(){return this.next}set nextSibling(e){this.next=e}cloneNode(e=!1){return on(this,e)}}class Bt extends en{constructor(e){super(),this.data=e}get nodeValue(){return this.data}set nodeValue(e){this.data=e}}class Ot extends Bt{constructor(){super(...arguments),this.type=F.Text}get nodeType(){return 3}}class un extends Bt{constructor(){super(...arguments),this.type=F.Comment}get nodeType(){return 8}}class tn extends Bt{constructor(e,t){super(t),this.name=e,this.type=F.Directive}get nodeType(){return 1}}class Ft extends en{constructor(e){super(),this.children=e}get firstChild(){var e;return(e=this.children[0])!==null&&e!==void 0?e:null}get lastChild(){return this.children.length>0?this.children[this.children.length-1]:null}get childNodes(){return this.children}set childNodes(e){this.children=e}}class nn extends Ft{constructor(){super(...arguments),this.type=F.CDATA}get nodeType(){return 4}}class Lt extends Ft{constructor(){super(...arguments),this.type=F.Root}get nodeType(){return 9}}class rn extends Ft{constructor(e,t,i=[],n=e==="script"?F.Script:e==="style"?F.Style:F.Tag){super(i),this.name=e,this.attribs=t,this.type=n}get nodeType(){return 1}get tagName(){return this.name}set tagName(e){this.name=e}get attributes(){return Object.keys(this.attribs).map(e=>{var t,i;return{name:e,value:this.attribs[e],namespace:(t=this["x-attribsNamespace"])===null||t===void 0?void 0:t[e],prefix:(i=this["x-attribsPrefix"])===null||i===void 0?void 0:i[e]}})}}function Vu(u){return e0(u)}function u0(u){return u.type===F.CDATA}function ju(u){return u.type===F.Text}function an(u){return u.type===F.Comment}function t0(u){return u.type===F.Directive}function i0(u){return u.type===F.Root}function sn(u){return Object.prototype.hasOwnProperty.call(u,"children")}function on(u,e=!1){let t;if(ju(u))t=new Ot(u.data);else if(an(u))t=new un(u.data);else if(Vu(u)){const i=e?yt(u.children):[],n=new rn(u.name,{...u.attribs},i);i.forEach(r=>r.parent=n),u.namespace!=null&&(n.namespace=u.namespace),u["x-attribsNamespace"]&&(n["x-attribsNamespace"]={...u["x-attribsNamespace"]}),u["x-attribsPrefix"]&&(n["x-attribsPrefix"]={...u["x-attribsPrefix"]}),t=n}else if(u0(u)){const i=e?yt(u.children):[],n=new nn(i);i.forEach(r=>r.parent=n),t=n}else if(i0(u)){const i=e?yt(u.children):[],n=new Lt(i);i.forEach(r=>r.parent=n),u["x-mode"]&&(n["x-mode"]=u["x-mode"]),t=n}else if(t0(u)){const i=new tn(u.name,u.data);u["x-name"]!=null&&(i["x-name"]=u["x-name"],i["x-publicId"]=u["x-publicId"],i["x-systemId"]=u["x-systemId"]),t=i}else throw new Error(`Not implemented yet: ${u.type}`);return t.startIndex=u.startIndex,t.endIndex=u.endIndex,u.sourceCodeLocation!=null&&(t.sourceCodeLocation=u.sourceCodeLocation),t}function yt(u){const e=u.map(t=>on(t,!0));for(let t=1;t<e.length;t++)e[t].prev=e[t-1],e[t-1].next=e[t];return e}const Li={withStartIndices:!1,withEndIndices:!1,xmlMode:!1};class n0{constructor(e,t,i){this.dom=[],this.root=new Lt(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof t=="function"&&(i=t,t=Li),typeof e=="object"&&(t=e,e=void 0),this.callback=e??null,this.options=t??Li,this.elementCB=i??null}onparserinit(e){this.parser=e}onreset(){this.dom=[],this.root=new Lt(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null}onend(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))}onerror(e){this.handleCallback(e)}onclosetag(){this.lastNode=null;const e=this.tagStack.pop();this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(e)}onopentag(e,t){const i=this.options.xmlMode?F.Tag:void 0,n=new rn(e,t,void 0,i);this.addNode(n),this.tagStack.push(n)}ontext(e){const{lastNode:t}=this;if(t&&t.type===F.Text)t.data+=e,this.options.withEndIndices&&(t.endIndex=this.parser.endIndex);else{const i=new Ot(e);this.addNode(i),this.lastNode=i}}oncomment(e){if(this.lastNode&&this.lastNode.type===F.Comment){this.lastNode.data+=e;return}const t=new un(e);this.addNode(t),this.lastNode=t}oncommentend(){this.lastNode=null}oncdatastart(){const e=new Ot(""),t=new nn([e]);this.addNode(t),e.parent=t,this.lastNode=e}oncdataend(){this.lastNode=null}onprocessinginstruction(e,t){const i=new tn(e,t);this.addNode(i)}handleCallback(e){if(typeof this.callback=="function")this.callback(e,this.dom);else if(e)throw e}addNode(e){const t=this.tagStack[this.tagStack.length-1],i=t.children[t.children.length-1];this.options.withStartIndices&&(e.startIndex=this.parser.startIndex),this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),t.children.push(e),i&&(e.prev=i,i.next=e),e.parent=t,this.lastNode=null}}function Ct(u){return Array.isArray(u)?u.map(Ct).join(""):sn(u)&&!an(u)?Ct(u.children):ju(u)?u.data:""}function r0(u,e,t=!0,i=1/0){return a0(u,Array.isArray(e)?e:[e],t,i)}function a0(u,e,t,i){const n=[],r=[e],a=[0];for(;;){if(a[0]>=r[0].length){if(a.length===1)return n;r.shift(),a.shift();continue}const s=r[0][a[0]++];if(u(s)&&(n.push(s),--i<=0))return n;t&&sn(s)&&s.children.length>0&&(a.unshift(0),r.unshift(s.children))}}const s0={tag_name(u){return typeof u=="function"?e=>Vu(e)&&u(e.name):u==="*"?Vu:e=>Vu(e)&&e.name===u},tag_type(u){return typeof u=="function"?e=>u(e.type):e=>e.type===u},tag_contains(u){return typeof u=="function"?e=>ju(e)&&u(e.data):e=>ju(e)&&e.data===u}};function Nu(u,e,t=!0,i=1/0){return r0(s0.tag_name(u),e,t,i)}function o0(u){const e=Zu(h0,u);return e?e.name==="feed"?c0(e):d0(e):null}function c0(u){var e;const t=u.children,i={type:"atom",items:Nu("entry",t).map(a=>{var s;const{children:d}=a,o={media:cn(d)};ve(o,"id","id",d),ve(o,"title","title",d);const h=(s=Zu("link",d))===null||s===void 0?void 0:s.attribs.href;h&&(o.link=h);const g=uu("summary",d)||uu("content",d);g&&(o.description=g);const f=uu("updated",d);return f&&(o.pubDate=new Date(f)),o})};ve(i,"id","id",t),ve(i,"title","title",t);const n=(e=Zu("link",t))===null||e===void 0?void 0:e.attribs.href;n&&(i.link=n),ve(i,"description","subtitle",t);const r=uu("updated",t);return r&&(i.updated=new Date(r)),ve(i,"author","email",t,!0),i}function d0(u){var e,t;const i=(t=(e=Zu("channel",u.children))===null||e===void 0?void 0:e.children)!==null&&t!==void 0?t:[],n={type:u.name.substr(0,3),id:"",items:Nu("item",u.children).map(a=>{const{children:s}=a,d={media:cn(s)};ve(d,"id","guid",s),ve(d,"title","title",s),ve(d,"link","link",s),ve(d,"description","description",s);const o=uu("pubDate",s)||uu("dc:date",s);return o&&(d.pubDate=new Date(o)),d})};ve(n,"title","title",i),ve(n,"link","link",i),ve(n,"description","description",i);const r=uu("lastBuildDate",i);return r&&(n.updated=new Date(r)),ve(n,"author","managingEditor",i,!0),n}const l0=["url","type","lang"],f0=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function cn(u){return Nu("media:content",u).map(e=>{const{attribs:t}=e,i={medium:t.medium,isDefault:!!t.isDefault};for(const n of l0)t[n]&&(i[n]=t[n]);for(const n of f0)t[n]&&(i[n]=parseInt(t[n],10));return t.expression&&(i.expression=t.expression),i})}function Zu(u,e){return Nu(u,e,!0,1)[0]}function uu(u,e,t=!1){return Ct(Nu(u,e,t,1)).trim()}function ve(u,e,t,i,n=!1){const r=uu(t,i,n);r&&(u[e]=r)}function h0(u){return u==="rss"||u==="feed"||u==="rdf:RDF"}function b0(u,e){const t=new n0(void 0,e);return new Ja(t,e).end(u),t.root}function p0(u,e){return b0(u,e).children}const v0={xmlMode:!0};function hl(u,e=v0){return o0(p0(u,e))}const m0=["Andorra","Andorran"],g0=["United Arab Emirates","UAE","Emirati"],y0=["Afghanistan","Afghan"],x0=["Antigua and Barbuda","Antiguan, Barbudan"],E0=["Anguilla","Anguillian"],w0=["Albania","Albanian"],S0=["Armenia","Armenian"],T0="Netherlands Antilles",I0=["Angola","Angolan"],_0=["Antarctica","Antarctican"],A0=["Argentina","Argentine"],N0=["American Samoa","American Samoan"],k0=["Austria","Austrian"],R0=["Australia","Australian"],D0=["Aruba","Aruban"],O0=["land Islands","landish"],L0=["Azerbaijan","Azerbaijani"],C0=["Bosnia and Herzegovina","Bosnian, Herzegovinian"],M0=["Barbados","Barbadian"],P0=["Bangladesh","Bangladeshi"],U0=["Belgium","Belgian"],q0=["Burkina Faso","Burkinabe"],B0=["Bulgaria","Bulgarian"],F0=["Bahrain","Bahraini"],G0=["Burundi","Burundian"],V0=["Benin","Beninese"],H0=["Bermuda","Bermudian"],z0=["Brunei Darussalam","Bruneian"],W0=["Bolivia","Bolivian"],K0=["Brazil","Brazilian"],j0=["Bahamas","Bahamian"],Z0=["Bhutan","Bhutanese"],Y0="Bouvet Island",$0=["Botswana","Motswana"],Q0=["Belarus","Belarusian"],X0=["Belize","Belizean"],J0=["Canada","Canadian"],es=["Cocos (Keeling) Islands","Cocos Islander"],us=["Congo, The Democratic Republic of the"],ts=["Central African Republic","Central African"],is=["Congo"],ns=["Switzerland","Swiss"],rs=["Cote D'Ivoire","Ivorian"],as=["Cook Islands","Cook Islander"],ss=["Chile","Chilean"],os=["Cameroon","Cameroonian"],cs=["China","Chinese"],ds=["Colombia","Colombian"],ls=["Costa Rica","Costa Rican"],fs=["Cuba","Cuban"],hs=["Cape Verde","Cape Verdian"],bs=["Christmas Island","Christmas Islander"],ps=["Cyprus","Cypriot"],vs=["Czechia","Czech Republic","Czech"],ms=["Germany","German"],gs=["Djibouti"],ys=["Denmark","Danish"],xs=["Dominica"],Es=["Dominican Republic"],ws=["Algeria","Algerian"],Ss=["Ecuador","Ecuadorean"],Ts=["Estonia","Estonian"],Is=["Egypt","Egyptian"],_s=["Western Sahara","Sahrawi"],As=["Eritrea","Eritrean"],Ns=["Spain","Spanish"],ks=["Ethiopia","Ethiopian"],Rs="European Union",Ds=["Finland","Finnish"],Os=["Fiji","Fijian"],Ls=["Falkland Islands (Malvinas)","Falkland Islander"],Cs=["Micronesia, Federated States of","Micronesian"],Ms=["Faroe Islands","Faroese"],Ps=["France","French"],Us=["Gabon","Gabonese"],qs=["United Kingdom","UK","British"],Bs=["Grenada","Grenadian"],Fs=["Georgia","Georgian"],Gs=["French Guiana","Guianan"],Vs=["Guernsey"],Hs=["Ghana","Ghanaian"],zs=["Gibraltar"],Ws=["Greenland","Greenlandic"],Ks=["Gambia","Gambian"],js=["Guinea","Guinean"],Zs=["Guadeloupe","Guadeloupian"],Ys=["Equatorial Guinea","Equatorial Guinean"],$s=["Greece","Greek"],Qs=["South Georgia and the South Sandwich Islands","South Georgian South Sandwich Islander"],Xs=["Guatemala","Guatemalan"],Js=["Guam","Guamanian"],eo=["Guinea-Bissau","Guinea-Bissauan"],uo=["Guyana","Guyanese"],to=["Hong Kong","Hong Konger"],io=["Heard Island and Mcdonald Islands","Heard and McDonald Islander"],no=["Honduras","Honduran"],ro=["Croatia","Croatian"],ao=["Haiti","Haitian"],so=["Hungary","Hungarian"],oo=["Indonesia","Indonesian"],co=["Ireland","Irish"],lo=["Israel","Israeli"],fo=["Isle of Man","Manx"],ho=["India","Indian"],bo=["British Indian Ocean Territory"],po=["Iraq","Iraqi"],vo=["Iran, Islamic Republic Of","Iranian"],mo=["Iceland","Icelander"],go=["Italy","Italian"],yo=["Jersey"],xo=["Jamaica","Jamaican"],Eo=["Jordan","Jordanian"],wo=["Japan","Japanese"],So=["Kenya","Kenyan"],To=["Kyrgyzstan","Kirghiz"],Io=["Cambodia","Cambodian"],_o=["Kiribati","I-Kiribati"],Ao=["Comoros","Comoran"],No=["Saint Kitts and Nevis","Kittitian or Nevisian"],ko=["Korea, Democratic People's Republic of","North Korea","North Korean","DPRK"],Ro=["Korea, Republic of","South Korea","South Korean"],Do=["Kuwait","Kuwaiti"],Oo=["Cayman Islands","Caymanian"],Lo=["Kazakhstan","Kazakhstani"],Co=["Lao People's Democratic Republic","Laotian"],Mo=["Lebanon","Lebanese"],Po=["Saint Lucia","Saint Lucian"],Uo=["Liechtenstein","Liechtensteiner"],qo=["Sri Lanka","Sri Lankan"],Bo=["Liberia","Liberian"],Fo=["Lesotho","Mosotho"],Go=["Lithuania","Lithuanian"],Vo=["Luxembourg","Luxembourger"],Ho=["Latvia","Latvian"],zo=["Libyan Arab Jamahiriya","Libyan"],Wo=["Morocco","Moroccan"],Ko=["Monaco","Monegasque"],jo=["Moldova, Republic of","Moldovan"],Zo=["Montenegro","Montenegrin"],Yo=["Madagascar","Malagasy"],$o=["Marshall Islands","Marshallese"],Qo=["Republic of North Macedonia","North Macedonia","Macedonia, The Former Yugoslav Republic of","Macedonian"],Xo=["Mali","Malian"],Jo=["Myanmar","Burma","Burmese"],ec=["Mongolia","Mongolian"],uc=["Macao","Macau","Macanese"],tc=["Northern Mariana Islands"],ic=["Martinique"],nc=["Mauritania","Mauritanian"],rc=["Montserrat","Montserratian"],ac=["Malta","Maltese"],sc=["Mauritius","Mauritian"],oc=["Maldives","Maldivan"],cc=["Malawi","Malawian"],dc=["Mexico","Mexican"],lc=["Malaysia","Malaysian"],fc=["Mozambique","Mozambican"],hc=["Namibia","Namibian"],bc=["New Caledonia","New Caledonian"],pc=["Niger","Nigerien"],vc=["Norfolk Island","Norfolk Islander"],mc=["Nigeria","Nigerian"],gc=["Nicaragua","Nicaraguan"],yc=["Netherlands","Dutch"],xc=["Norway","Norwegian"],Ec=["Nepal","Nepalese"],wc=["Nauru","Nauruan"],Sc=["Niue","Niuean"],Tc=["New Zealand","New Zealander"],Ic=["Oman","Omani"],_c=["Panama","Panamanian"],Ac=["Peru","Peruvian"],Nc=["French Polynesia","French Polynesian"],kc=["Papua New Guinea","Papua New Guinean"],Rc=["Philippines","Filipino"],Dc=["Pakistan","Pakistani"],Oc=["Poland","Polish"],Lc=["Saint Pierre and Miquelon"],Cc=["Pitcairn","Pitcairn Islander"],Mc=["Puerto Rico","Puerto Rican"],Pc=["Palestinian Territory, Occupied","Palestine","Palestinian"],Uc=["Portugal","Portuguese"],qc=["Palau","Palauan"],Bc=["Paraguay","Paraguayan"],Fc=["Qatar","Qatari"],Gc=["Reunion"],Vc=["Romania","Romanian"],Hc=["Serbia","Serbian"],zc=["Russian Federation","Russian"],Wc=["Rwanda","Rwandan"],Kc=["Saudi Arabia","Saudi Arabian"],jc=["Solomon Islands","Solomon Islander"],Zc=["Seychelles","Seychellois"],Yc=["Sudan","Sudanese"],$c=["Sweden","Swedish"],Qc=["Singapore","Singaporean"],Xc=["Saint Helena","Saint Helenian"],Jc=["Slovenia","Slovene"],ed=["Svalbard and Jan Mayen"],ud=["Slovakia","Slovak"],td=["Sierra Leone","Sierra Leonean"],id=["San Marino","Sammarinese"],nd=["Senegal","Senegalese"],rd=["Somalia","Somali"],ad=["Suriname","Surinamer"],sd=["Sao Tome and Principe","Sao Tomean"],od=["El Salvador","Salvadoran"],cd=["Syrian Arab Republic","Syrian"],dd=["Swaziland","Swazi"],ld=["Turks and Caicos Islands","Turks and Caicos Islander"],fd=["Chad","Chadian"],hd=["French Southern Territories"],bd=["Togo","Togolese"],pd=["Thailand","Thai"],vd=["Tajikistan","Tadzhik"],md=["Tokelau","Tokelauan"],gd=["Timor-Leste","East Timorese"],yd=["Turkmenistan","Turkmen"],xd=["Tunisia","Tunisian"],Ed=["Tonga","Tongan"],wd=["Turkey","Turkish"],Sd=["Trinidad and Tobago","Trinidadian"],Td=["Tuvalu","Tuvaluan"],Id=["Taiwan","Taiwanese"],_d=["Tanzania, United Republic of","Tanzanian"],Ad=["Ukraine","Ukrainian"],Nd=["Uganda","Ugandan"],kd=["United States Minor Outlying Islands"],Rd=["United States","USA","American"],Dd=["Uruguay","Uruguayan"],Od=["Uzbekistan","Uzbekistani"],Ld=["Holy See (Vatican City State)","Vatican"],Cd=["Saint Vincent and the Grenadines","Saint Vincentian"],Md=["Venezuela","Venezuelan"],Pd=["Virgin Islands, British"],Ud=["Virgin Islands, U.S."],qd=["Vietnam","Viet Nam","Vietnamese"],Bd=["Vanuatu","Ni-Vanuatu"],Fd=["Wallis and Futuna","Wallis and Futuna Islander"],Gd=["Samoa","Samoan"],Vd=["Kosovo","Kosovar"],Hd=["Yemen","Yemeni"],zd=["Mayotte","Mahoran"],Wd=["South Africa","South African"],Kd=["Zambia","Zambian"],jd=["Zimbabwe","Zimbabwean"],Zd={AD:m0,AE:g0,AF:y0,AG:x0,AI:E0,AL:w0,AM:S0,AN:T0,AO:I0,AQ:_0,AR:A0,AS:N0,AT:k0,AU:R0,AW:D0,AX:O0,AZ:L0,BA:C0,BB:M0,BD:P0,BE:U0,BF:q0,BG:B0,BH:F0,BI:G0,BJ:V0,BM:H0,BN:z0,BO:W0,BR:K0,BS:j0,BT:Z0,BV:Y0,BW:$0,BY:Q0,BZ:X0,CA:J0,CC:es,CD:us,CF:ts,CG:is,CH:ns,CI:rs,CK:as,CL:ss,CM:os,CN:cs,CO:ds,CR:ls,CU:fs,CV:hs,CX:bs,CY:ps,CZ:vs,DE:ms,DJ:gs,DK:ys,DM:xs,DO:Es,DZ:ws,EC:Ss,EE:Ts,EG:Is,EH:_s,ER:As,ES:Ns,ET:ks,EU:Rs,FI:Ds,FJ:Os,FK:Ls,FM:Cs,FO:Ms,FR:Ps,GA:Us,GB:qs,GD:Bs,GE:Fs,GF:Gs,GG:Vs,GH:Hs,GI:zs,GL:Ws,GM:Ks,GN:js,GP:Zs,GQ:Ys,GR:$s,GS:Qs,GT:Xs,GU:Js,GW:eo,GY:uo,HK:to,HM:io,HN:no,HR:ro,HT:ao,HU:so,ID:oo,IE:co,IL:lo,IM:fo,IN:ho,IO:bo,IQ:po,IR:vo,IS:mo,IT:go,JE:yo,JM:xo,JO:Eo,JP:wo,KE:So,KG:To,KH:Io,KI:_o,KM:Ao,KN:No,KP:ko,KR:Ro,KW:Do,KY:Oo,KZ:Lo,LA:Co,LB:Mo,LC:Po,LI:Uo,LK:qo,LR:Bo,LS:Fo,LT:Go,LU:Vo,LV:Ho,LY:zo,MA:Wo,MC:Ko,MD:jo,ME:Zo,MG:Yo,MH:$o,MK:Qo,ML:Xo,MM:Jo,MN:ec,MO:uc,MP:tc,MQ:ic,MR:nc,MS:rc,MT:ac,MU:sc,MV:oc,MW:cc,MX:dc,MY:lc,MZ:fc,NA:hc,NC:bc,NE:pc,NF:vc,NG:mc,NI:gc,NL:yc,NO:xc,NP:Ec,NR:wc,NU:Sc,NZ:Tc,OM:Ic,PA:_c,PE:Ac,PF:Nc,PG:kc,PH:Rc,PK:Dc,PL:Oc,PM:Lc,PN:Cc,PR:Mc,PS:Pc,PT:Uc,PW:qc,PY:Bc,QA:Fc,RE:Gc,RO:Vc,RS:Hc,RU:zc,RW:Wc,SA:Kc,SB:jc,SC:Zc,SD:Yc,SE:$c,SG:Qc,SH:Xc,SI:Jc,SJ:ed,SK:ud,SL:td,SM:id,SN:nd,SO:rd,SR:ad,ST:sd,SV:od,SY:cd,SZ:dd,TC:ld,TD:fd,TF:hd,TG:bd,TH:pd,TJ:vd,TK:md,TL:gd,TM:yd,TN:xd,TO:Ed,TR:wd,TT:Sd,TV:Td,TW:Id,TZ:_d,UA:Ad,UG:Nd,UM:kd,US:Rd,UY:Dd,UZ:Od,VA:Ld,VC:Cd,VE:Md,VG:Pd,VI:Ud,VN:qd,VU:Bd,WF:Fd,WS:Gd,XK:Vd,YE:Hd,YT:zd,ZA:Wd,ZM:Kd,ZW:jd};function Mt(u){return Qd(u)||$d(u)||dn(u)||Yd()}function Yd(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $d(u){if(typeof Symbol<"u"&&Symbol.iterator in Object(u))return Array.from(u)}function Qd(u){if(Array.isArray(u))return Pt(u)}function Ci(u,e){var t;if(typeof Symbol>"u"||u[Symbol.iterator]==null){if(Array.isArray(u)||(t=dn(u))||e&&u&&typeof u.length=="number"){t&&(u=t);var i=0,n=function(){};return{s:n,n:function(){return i>=u.length?{done:!0}:{done:!1,value:u[i++]}},e:function(o){throw o},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var r=!0,a=!1,s;return{s:function(){t=u[Symbol.iterator]()},n:function(){var o=t.next();return r=o.done,o},e:function(o){a=!0,s=o},f:function(){try{!r&&t.return!=null&&t.return()}finally{if(a)throw s}}}}function dn(u,e){if(u){if(typeof u=="string")return Pt(u,e);var t=Object.prototype.toString.call(u).slice(8,-1);if(t==="Object"&&u.constructor&&(t=u.constructor.name),t==="Map"||t==="Set")return Array.from(u);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Pt(u,e)}}function Pt(u,e){(e==null||e>u.length)&&(e=u.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=u[t];return i}var eu=Zd,Gt=127462-65,Qu=/^[a-z]{2}$/i,ln=/^.{2,}$/,Vt=/\uD83C[\uDDE6-\uDDFF]/;function fn(u,e){if(e=e.toLowerCase(),e.includes(u)||u.includes(e))return!0;if(e.includes(",")){var t=e.split(", ").reverse().join(" ");if(t.includes(u)||u.includes(t))return!0}return!1}function Ht(u){return u=u.toUpperCase(),eu[u]?u:void 0}function zt(u){if(!(!u||!ln.test(u))){u=u.trim().toLowerCase();for(var e in eu)if({}.hasOwnProperty.call(eu,e)){var t=eu[e];Array.isArray(t)||(t=[t]);var i=Ci(t),n;try{for(i.s();!(n=i.n()).done;){var r=n.value;if(r.toLowerCase()===u)return e}}catch(s){i.e(s)}finally{i.f()}}var a=Object.keys(eu).filter(function(s){var d=eu[s];Array.isArray(d)||(d=[d]);var o=Ci(d),h;try{for(o.s();!(h=o.n()).done;){var g=h.value;if(fn(u,g))return!0}}catch(f){o.e(f)}finally{o.f()}return!1});if(a.length===1)return a[0]}}function hn(u){if(!(!u||!Qu.test(u))){var e=eu[u.toUpperCase()];return Array.isArray(e)?e[0]:e}}function bn(u){if(!(!u||!Qu.test(u))&&(u=Ht(u),!!u&&String&&String.fromCodePoint))return String.fromCodePoint.apply(String,Mt(Mt(u).map(function(e){return Gt+e.charCodeAt(0)})))}function Wt(u){if(!(!u||!Vt.test(u)))return Ht(Mt(u).map(function(e){return e.codePointAt(0)-Gt}).map(function(e){return String.fromCharCode(e)}).join(""))}function Xd(u){return Wt(u)||zt(u)}function Jd(u){return(!Qu.test(u)||u==="UK")&&(u=zt(u)),bn(u)}function el(u){return Vt.test(u)&&(u=Wt(u)),hn(u)}var ul={MAGIC_NUMBER:Gt,CODE_RE:Qu,NAME_RE:ln,FLAG_RE:Vt,code:Xd,flag:Jd,name:el,countries:eu,isCode:Ht,fuzzyCompare:fn,codeToName:hn,codeToFlag:bn,nameToCode:zt,flagToCode:Wt},Xu=ul,tl=Xu.flag,il=Xu.name,nl=Xu.code,rl=Xu.countries,bl={flag:tl,name:il,code:nl,countries:rl};export{Ku as I,cl as a,hl as b,fl as f,dl as i,bl as m,ol as p,ll as t};

import{a as H,f as v}from"./chunk-LADTODTA.js";import{e as R}from"./chunk-3GYLW4KZ.js";var o=R(H());var E=R(v()),X=(e,n)=>n-e,Y=(e,n)=>n-e,C=(e,n,r)=>Math.max(n,Math.min(r,e)),c=e=>{let{top:n,left:r}=e;return{top:n,left:r}},W=({dragSelector:e,onDragEnd:n,isDraggable:r=!1,animationCompleted:h=!0,element:S="div",className:w="",style:M={},...T})=>{let[f,L]=(0,o.useState)(null),P=(0,o.useRef)(null),b=(0,o.useRef)(null),a=(0,o.useRef)(null),g=(0,o.useRef)(null);f&&(g.current=c(f)),(0,o.useEffect)(()=>{if(!r)return;let t=P.current;t&&(b.current=c(t.getBoundingClientRect()))},[h]);let _=(t,u)=>{let i=P.current;if(!i)return;let m=window.innerHeight-i.offsetHeight,l=window.innerWidth-i.offsetWidth;L(d=>{let s=d||b.current;return s?{top:C(s.top+u,0,m),left:C(s.left+t,0,l)}:null})},k=()=>{if(a.current)return;let t=f||b.current;t&&(a.current=c(t))},x=t=>{let u=t.target;if(e&&!u.closest(e))return;t.preventDefault();let{clientX:i,clientY:m}=t,l=s=>{let{clientX:p,clientY:y}=s;_(X(i,p),Y(m,y)),i=p,m=y,k()};document.addEventListener("mousemove",l);let d=()=>{if(document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",d),!n||!a.current||!g.current)return;let s=c(a.current);a.current=null;let p=c(g.current);n(s,p)};document.addEventListener("mouseup",d)},D=(t,u)=>{if(!u)return t;let{transform:i,translate:m,...l}=t;return{...l,...c(u),right:"auto",bottom:"auto"}};return(0,E.jsx)(S,{ref:P,onMouseDown:r?x:void 0,className:`${r?"draggable-container":""} ${w}`,style:D(M,f),...T})},$=W;export{$ as a};

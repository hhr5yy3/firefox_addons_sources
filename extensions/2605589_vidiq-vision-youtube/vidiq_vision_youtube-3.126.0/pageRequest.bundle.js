!function(e,o){if("object"==typeof exports&&"object"==typeof module)module.exports=o();else if("function"==typeof define&&define.amd)define([],o);else{var t=o();for(var r in t)("object"==typeof exports?exports:e)[r]=t[r]}}(globalThis,(function(){return window.addEventListener("message",(e=>{e.data.vidiqPageRequest&&(({url:e,authHeader:o,authUser:t,payload:r,requestKey:i})=>{const n={},s=new AbortController,a=s.signal,d=setTimeout((()=>{s.abort()}),35e3);fetch(e,{method:"POST",headers:{Authorization:o,"X-Goog-Authuser":t},body:r,signal:a}).then((e=>e.json())).then((e=>{if(e.error)throw new Error(JSON.stringify(e.error));clearTimeout(d),n[i]=JSON.stringify(e),postMessage(n,window.location.href)})).catch((e=>{n[i]=JSON.stringify({error:!0,errorMessage:e.toString()}),postMessage(n,window.location.href)}))})(e.data.vidiqPageRequest)})),{}}));
(()=>{"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global&&global;function e(e,o){const i=o,t=o.canvasPropertyName,a=o.canvasRandomRange;function r(e){const{width:o,height:t}=e;if(o*t>=window.screen.original_availWidth*window.screen.original_availHeight/4)return!1;const r=e.getContext("2d");if(null===r)return!1;function n(e){const o=i.getRandomNumber(a.color.min,a.color.max);return e>127?e-o:e+o}const l=r.getImageData(0,0,o,t),c=l.data,s=Math.max(1,Math.floor(o/8)),M=Math.max(1,Math.floor(t/8));for(let e=0;e<o;e+=s)for(let i=0;i<t;i+=M){const t=i*(4*o)+4*e;c[t+0]=n(c[t+0]),c[t+1]=n(c[t+1]),c[t+2]=n(c[t+2])}return r.putImageData(l,0,0),!0}const n=HTMLCanvasElement.prototype.toBlob;function l(...o){const i=e.getTrackerUrl();if(!i)return n.apply(this,o);try{r(this)&&e.onPropertyAccessed("canvas","","",i,"canvas-toBlob-override")}catch(e){}return n.apply(this,o)}Object.defineProperty(HTMLCanvasElement.prototype,t.toBlob,{configurable:!0,enumerable:!0,writable:!0,value:l}),e.setPatchedFunctionString(l,n);const c=HTMLCanvasElement.prototype.toDataURL;function s(...o){const i=e.getTrackerUrl();if(!i)return c.apply(this,o);try{r(this)&&e.onPropertyAccessed("canvas","","",i,"canvas-toDataURL-override")}catch(e){}return c.apply(this,o)}Object.defineProperty(HTMLCanvasElement.prototype,t.toDataURL,{configurable:!0,enumerable:!0,writable:!0,value:s}),e.setPatchedFunctionString(s,c)}const o=e=>{const o=Object.getOwnPropertyDescriptor(Document.prototype,"cookie"),i={get:function(){const i=e.getTrackerUrl();return i?(e.onPropertyAccessed("cookie","","",i,"cookie-get-override"),""):o.get.call(document)},set:function(i){const t=i,a=e.getTrackerUrl();a?e.onPropertyAccessed("cookie",t,"",a,"cookie-set-override"):o.set.call(document,t)},configurable:!0,enumerable:!0};Object.defineProperty(i.get,"name",{get:function(){return"get cookie"}}),Object.defineProperty(i.set,"name",{get:function(){return"set cookie"}}),Object.defineProperty(Document.prototype,"cookie",i)};function i(e,o){const i=-720,t=o,a="date",r=t.datePropertyName.getTimezoneOffset,n=Date.prototype.getTimezoneOffset;function l(...l){const c=e.getTrackerUrl(),s=n.apply(this,l);if(!c)return s;const M=o.getCachedValue(a,r);if(void 0!==M)return M;const p=t.dateRandomRange;let d=60*Math.floor(s/60);return d+=60*t.getRandomNumber(p.timezoneOffsetHours.min,p.timezoneOffsetHours.max),d>720?d=i+(d-720):d<i&&(d=d-i+720),o.setCachedValue(a,r,d),e.onPropertyAccessed(a,`${s}`,`${d}`,c,"getTimezoneOffset-override"),d}Object.defineProperty(Date.prototype,r,{configurable:!0,enumerable:!1,writable:!0,value:l}),e.setPatchedFunctionString(l,n)}function t(e){const o=e,i={name:o.documentPropertyName.referrer,getModifiedValue:e=>e?"":e};o.overrideProperty(i,Document,!0)}const a=e=>{const o=window.localStorage,i=function(e){return e===u?o:e},t=Storage.prototype.setItem,a=function(...a){const r=i(this);if(r==o){const o=a[1],i=e.getTrackerUrl();return i?void e.onPropertyAccessed("localStorage",o,"",i,"localstorage-set-override"):void(r[a[0]]=a[1])}return t.call(r,...a)},r=Storage.prototype.getItem,n=function(...t){const a=i(this),n=r.call(a,...t);if(a==o){const o=e.getTrackerUrl();if(o)return e.onPropertyAccessed("localStorage",n,"",o,"localstorage-get-override"),null}return n},l=function(t,a,r,...n){const l=i(t);if(l==o){if(e.getTrackerUrl())return r}return a.call(l,...n)},c=Storage.prototype.removeItem,s=function(...e){return l(this,c,void 0,...e)},M=Storage.prototype.clear,p=function(){return l(this,M,void 0)},d=Storage.prototype.key,f=function(...e){return l(this,d,null,...e)},h=function(e,o){const i=Reflect.getOwnPropertyDescriptor(e,o);return!i||i.configurable};let u=null;try{u=new Proxy(window.localStorage,{get:function(e,o){if("getItem"==o)return n.bind(e);if("setItem"==o)return a.bind(e);if(!(o in Storage.prototype)&&"string"==typeof o&&h(e,o)){const i=n.apply(e,[o]);return null==i?void 0:i}{const i=Reflect.get(e,o);return"function"==typeof i&&"constructor"!=o?i.bind(e):i}},set:function(e,o,i){const t=o in Storage.prototype;return!h(e,o)||t?Reflect.set(e,o,i):(a.apply(e,[o,i]),!0)},getOwnPropertyDescriptor:function(e,o){const i=o in Storage.prototype;if(!h(e,o)||i)return Reflect.getOwnPropertyDescriptor(e,o);const t=this.get(e,o,null);return null==t?void 0:{value:t,writable:!0,enumerable:!0,configurable:!0}},defineProperty:function(e,o,i){const t=o in Storage.prototype,r="value"in i;return h(e,o)&&!t&&r?(a.apply(e,[o,i.value]),!0):Reflect.defineProperty(e,o,i)}}),Reflect.defineProperty(window,"localStorage",{value:u,writable:!0});const o=function(o,i,t){Reflect.defineProperty(Storage.prototype,o,{value:i,writable:!0,enumerable:!0,configurable:!0}),e.setPatchedFunctionString(i,t)};o("getItem",n,r),o("setItem",a,t),o("removeItem",s,c),o("clear",p,M),o("key",f,d)}catch(e){}};function r(e){const o=e,i=o.navigatorPropertyName,t=[{name:i.deviceMemory,getModifiedValue:function(e){return o.deviceMemories[o.getRandomNumber(0,o.deviceMemories.length-1)]}},{name:i.hardwareConcurrency,getModifiedValue:function(e){const i=e-Math.floor(e/2),t=e+Math.ceil(e/2);return o.getRandomNumber(i,t)}},{name:i.doNotTrack,getModifiedValue:o=>e.navigatorDoNotTrackOn},{name:i.userAgent,getModifiedValue:function(e){return o.popularUserAgents[o.getRandomNumber(0,o.popularUserAgents.length-1)]}},{name:i.appVersion,getModifiedValue:function(e){const o=navigator.userAgent,i=o.indexOf("/");return o.slice(i+1)}},{name:i.platform,getModifiedValue:e=>o.platforms[o.getRandomNumber(0,o.platforms.length-1)]},{name:i.languages,getModifiedValue:function(e){const i=[e[0]];return Array.from({length:e.length-1},(()=>{let t;do{const e=o.predefinedPreferredLanguages;t=e[o.getRandomNumber(0,e.length-1)]}while(e.includes(t));i.push(t)})),i}}];o.overrideProperties(t,Navigator,!0)}function n(e){const o=e.screenPropertyName,i=e.screenRandomRange,t=[{name:o.width,getModifiedValue:e=>a(e,i.screenSize)},{name:o.height,getModifiedValue:e=>a(e,i.screenSize)},{name:o.availWidth,getModifiedValue:e=>a(e,i.screenSize)},{name:o.availHeight,getModifiedValue:e=>a(e,i.screenSize)},{name:o.availLeft,getModifiedValue:e=>a(e,i.availPosition)},{name:o.availTop,getModifiedValue:e=>a(e,i.availPosition)},{name:o.colorDepth,getModifiedValue:e=>a(e,i.colorDepth)},{name:o.pixelDepth,getModifiedValue:e=>a(e,i.pixelDepth)}];function a(o,i){const t=o+e.getRandomNumber(i.min,i.max);return t>0?t:Math.floor((Math.abs(o)+1)*(Math.random()+.5))}e.overrideProperties(t,Screen,!0)}function l(e){const o=e,i=e.textMetricsPropertyName,t=[{name:i.actualBoundingBoxAscent,getModifiedValue:a},{name:i.actualBoundingBoxDescent,getModifiedValue:a},{name:i.actualBoundingBoxLeft,getModifiedValue:a},{name:i.actualBoundingBoxRight,getModifiedValue:a},{name:i.width,getModifiedValue:a}];function a(e){return Number((e+Math.random()+.01).toFixed(2))}o.overrideProperties(t,TextMetrics,!1)}const c=e=>{const o=Function.prototype.toString;function i(...i){return e.getPatchedFunctionString(this)??o.call(this,...i)}Object.defineProperty(Function.prototype,"toString",{configurable:!0,enumerable:!0,writable:!0,value:i}),e.setPatchedFunctionString(i,o)};function s(e,o){const i=o,t=WebGLRenderingContext.prototype.getParameter;function a(...a){const r=e.getTrackerUrl();if(!r)return t.apply(this,a);function n(t,a){const n="webgl",l=o.getCachedValue(n,`${t}`);if(void 0!==l)return l;const c=Array.from(a);let s="";for(let e=0;e<i.webGLParamValueWordCount;e++){const e=i.getRandomNumber(0,c.length-1);s+=`${c[e]} `,c.splice(e,1)}return s=s.trim(),o.setCachedValue(n,`${t}`,s),e.onPropertyAccessed(n,"",s,r,`getParameter-${t}-override`),s}const l=parseInt(a[0]);switch(l){case i.webGLParamId.renderer:case i.webGLParamId.unmaskedRenderer:return n(l,i.webGLRenderer);case i.webGLParamId.vendor:case i.webGLParamId.unmaskedVendor:return n(l,i.webGLVendor);default:return t.apply(this,a)}}t&&(Object.defineProperty(WebGLRenderingContext.prototype,i.webGLPropertyName.getParameter,{value:a}),e.setPatchedFunctionString(a,t))}function M(e){const o=window.fetch;window.fetch=(...i)=>{const[t,a]=i;let r;return"string"==typeof t?r=t:t.url?r=t.url:t.href&&(r=t.href),r&&(a&&"include"==a.credentials&&e.isGhostedTracker(r)&&(a.credentials="same-origin"),window.dispatchEvent(new CustomEvent("NewHostDiscovered",{detail:{urlStr:r}}))),o(...i)},e.setPatchedFunctionString(window.fetch,o)}function p(e){const o=XMLHttpRequest.prototype.open,i=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.open=function(...e){const[i,t]=e;return this.lastOpenUrl=t,o.apply(this,e)},XMLHttpRequest.prototype.send=function(...o){return this.lastOpenUrl&&(this.withCredentials&&e.isGhostedTracker(this.lastOpenUrl)&&(this.withCredentials=!1),window.dispatchEvent(new CustomEvent("NewHostDiscovered",{detail:{urlStr:this.lastOpenUrl}}))),i.apply(this,o)},e.setPatchedFunctionString(XMLHttpRequest.prototype.open,o),e.setPatchedFunctionString(XMLHttpRequest.prototype.send,i)}let d;var f;let h;var u;(f=d||(d={})).Chrome="chrome",f.Edge="edge",f.Firefox="firefox",f.Safari="safari",(u=h||(h={})).Windows="windows",u.MacOS="macos";const g=()=>{const e=[{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"Mac",r:/Mac/}],o=navigator.userAgent;for(const i in e){if(e[i].r.test(o))return h.MacOS}return h.Windows},m={[h.Windows]:{[d.Chrome]:["Mozilla/5.0 (Windows NT 10.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/72.0.3626.121 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/72.0.3626.121 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3729.131 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3729.157 Safari/537.36","Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3729.169 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3729.169 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.108 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.88 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.130 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.132 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.149 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.116 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.105 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/85.0.4183.121 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.88 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.141 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.104 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36"],[d.Firefox]:["Mozilla/5.0 (Windows NT 5.1; rv:7.0.1) Gecko/20100101 Firefox/7.0.1","Mozilla/5.0 (Windows NT 6.1; WOW64; rv:17.0) Gecko/20100101 Firefox/17.0","Mozilla/5.0 (Windows NT 6.1; WOW64; rv:18.0) Gecko/20100101 Firefox/18.0","Mozilla/5.0 (Windows NT 5.1; rv:33.0) Gecko/20100101 Firefox/33.0","Mozilla/5.0 (Windows NT 6.1; WOW64; rv:33.0) Gecko/20100101 Firefox/33.0","Mozilla/5.0 (Windows NT 6.0; rv:34.0) Gecko/20100101 Firefox/34.0","Mozilla/5.0 (Windows NT 5.1; rv:36.0) Gecko/20100101 Firefox/36.0","Mozilla/5.0 (Windows NT 6.1; WOW64; rv:40.0) Gecko/20100101 Firefox/40.1","Mozilla/5.0 (Windows NT 6.1; WOW64; rv:43.0) Gecko/20100101 Firefox/43.0","Mozilla/5.0 (Windows NT 10.0; WOW64; rv:50.0) Gecko/20100101 Firefox/50.0","Mozilla/5.0 (Windows NT 6.1; WOW64; rv:52.0) Gecko/20100101 Firefox/52.0","Mozilla/5.0 (Windows NT 10.0; WOW64; rv:52.0) Gecko/20100101 Firefox/52.0","Mozilla/5.0 (Windows NT 6.1; WOW64; rv:54.0) Gecko/20100101 Firefox/54.0","Mozilla/5.0 (Windows NT 10.0; WOW64; rv:54.0) Gecko/20100101 Firefox/54.0","Mozilla/5.0 (Windows NT 6.1; WOW64; rv:56.0) Gecko/20100101 Firefox/56.0","Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:61.0) Gecko/20100101 Firefox/61.0","Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:63.0) Gecko/20100101 Firefox/63.0","Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:66.0) Gecko/20100101 Firefox/66.0","Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:67.0) Gecko/20100101 Firefox/67.0","Mozilla/5.0 (Windows NT 6.3; Win64; x64; rv:73.0) Gecko/20100101 Firefox/73.0"],[d.Edge]:["Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/42.0.2311.135 Safari/537.36 Edge/12.10240","Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Safari/537.36 Edge/13.10586","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Safari/537.36 Edge/13.10586","Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36 Edge/15.15063","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.36 Edge/16.16299","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/64.0.3282.140 Safari/537.36 Edge/17.17134","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/64.0.3282.140 Safari/537.36 Edge/18.17763","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.102 Safari/537.36 Edge/18.18362","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.102 Safari/537.36 Edge/18.18363","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.105 Safari/537.36 Edg/84.0.522.52","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.141 Safari/537.36 Edg/87.0.664.75","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.198 Safari/537.36 Edg/86.0.622.69","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.125 Safari/537.36 Edg/84.0.522.59","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.96 Safari/537.36 Edg/88.0.705.56","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.150 Safari/537.36 Edg/88.0.705.63","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.150 Safari/537.36 Edg/88.0.705.68","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.182 Safari/537.36 Edg/88.0.705.81","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.90 Safari/537.36 Edg/89.0.774.57"]},[h.MacOS]:{[d.Safari]:["Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/12.1.2 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1.2 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/12.1.1 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_3) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.5 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_4) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_4) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1.2 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_5) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1.1 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_6) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1.2 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_6) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/14.0 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_6) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/14.0.1 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_6) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/14.0.2 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_6) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/14.1.2 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_6) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/14.0.3 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/14.0 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/14.1 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/14.1.1 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/14.1.2 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.0 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.1 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.2 Safari/605.1.15"],[d.Chrome]:["Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 11_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.4985.201 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 11_13) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.5060.101 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 11_13) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.5066.99 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 11_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.5060.88 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 11_10) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.4966.166 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 11_10) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.4952.86 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 11_11) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.4961.162 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 11_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.5139.140 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 11_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.5091.150 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 11_15) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.5033.101 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 11_13) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.5019.192 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 11_13) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.5117.176 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 11_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.5132.81 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 11_12) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.5053.124 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 11_14) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.5142.125 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.5154.147 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 11_14) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.5020.88 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 11_11) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.4963.149 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 11_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.5068.106 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 11_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.5074.85 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 11_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.4966.120 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 11_13) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.4969.180 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 11_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.5090.113 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.5077.110 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 11_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.5053.82 Safari/537.36"],[d.Firefox]:["Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:102.0) Gecko/20100101 Firefox/102.0","Mozilla/5.0 (Macintosh; Intel Mac OS X 11_2; rv:103.0) Gecko/20100101 Firefox/103.0","Mozilla/5.0 (Macintosh; Intel Mac OS X 11_4_5; rv:103.0esr) Gecko/20100101 Firefox/103.0esr","Mozilla/5.0 (Macintosh; Intel Mac OS X 11_7_2; rv:103.0) Gecko/20100101 Firefox/103.0","Mozilla/5.0 (Macintosh; Intel Mac OS X 11_0; rv:103.0) Gecko/20100101 Firefox/103.0","Mozilla/5.0 (Macintosh; Intel Mac OS X 11_10_1; rv:103.0) Gecko/20100101 Firefox/103.0","Mozilla/5.0 (Macintosh; Intel Mac OS X 12.4; rv:102.0) Gecko/20100101 Firefox/102.0","Mozilla/5.0 (Macintosh; Intel Mac OS X 11_2_2; rv:102.0) Gecko/20100101 Firefox/102.0","Mozilla/5.0 (Macintosh; Intel Mac OS X 11_1_1; rv:102.0) Gecko/20100101 Firefox/102.0","Mozilla/5.0 (Macintosh; Intel Mac OS X 11_10_1; rv:102.0) Gecko/20100101 Firefox/102.0","Mozilla/5.0 (Macintosh; Intel Mac OS X 11_10_1; rv:102.0esr) Gecko/20100101 Firefox/102.0esr","Mozilla/5.0 (Macintosh; Intel Mac OS X 11_13_5; rv:102.0) Gecko/20100101 Firefox/102.0","Mozilla/5.0 (Macintosh; Intel Mac OS X 11; rv:102.0) Gecko/20100101 Firefox/102.0","Mozilla/5.0 (Macintosh; Intel Mac OS X 11_17_1; rv:102.0) Gecko/20100101 Firefox/102.0","Mozilla/5.0 (Macintosh; Intel Mac OS X 11_0_1; rv:102.0) Gecko/20100101 Firefox/102.0","Mozilla/5.0 (Macintosh; Intel Mac OS X 11_6_4; rv:102.0) Gecko/20100101 Firefox/102.0","Mozilla/5.0 (Macintosh; Intel Mac OS X 11_14_3; rv:102.0esr) Gecko/20100101 Firefox/102.0esr","Mozilla/5.0 (Macintosh; Intel Mac OS X 11_7_1; rv:102.0) Gecko/20100101 Firefox/102.0","Mozilla/5.0 (Macintosh; Intel Mac OS X 11_6_7; rv:102.0esr) Gecko/20100101 Firefox/102.0esr","Mozilla/5.0 (Macintosh; Intel Mac OS X 11_2_6; rv:102.0) Gecko/20100101 Firefox/102.0","Mozilla/5.0 (Macintosh; Intel Mac OS X 11_2_3; rv:102.0) Gecko/20100101 Firefox/102.0","Mozilla/5.0 (Macintosh; Intel Mac OS X 11_2_0; rv:102.0) Gecko/20100101 Firefox/102.0","Mozilla/5.0 (Macintosh; Intel Mac OS X 12.4; rv:101.0) Gecko/20100101 Firefox/101.0","Mozilla/5.0 (Macintosh; Intel Mac OS X 11; rv:101.0) Gecko/20100101 Firefox/101.0","Mozilla/5.0 (Macintosh; Intel Mac OS X 11_12_6; rv:101.0esr) Gecko/20100101 Firefox/101.0esr","Mozilla/5.0 (Macintosh; Intel Mac OS X 11_14_2; rv:101.0) Gecko/20100101 Firefox/101.0","Mozilla/5.0 (Macintosh; Intel Mac OS X 11_13_4; rv:101.0) Gecko/20100101 Firefox/101.0"]}},k={[h.Windows]:["Windows","Win16","Win32","Win64","WinCE"],[h.MacOS]:["MacIntel","Macintosh","MacPPC","Mac68K"]},T=()=>{let e=m[g()][(()=>{const e=navigator.userAgent.toLowerCase();return-1!==e.indexOf("firefox/")?d.Firefox:-1!==e.indexOf("edge/")||-1!==e.indexOf("edg/")?d.Edge:-1!==e.indexOf("chrome/")?d.Chrome:-1!==e.indexOf("safari/")?d.Safari:d.Chrome})()];return void 0===e&&(e=m[h.Windows][d.Chrome]),e};class S{CANVAS_PROPERTY_NAME={toBlob:"toBlob",toDataURL:"toDataURL"};DATE_PROPERTY_NAME={getTimezoneOffset:"getTimezoneOffset"};DOCUMENT_PROPERTY_NAME={referrer:"referrer"};NAVIGATOR_PROPERTY_NAME={deviceMemory:"deviceMemory",hardwareConcurrency:"hardwareConcurrency",doNotTrack:"doNotTrack",userAgent:"userAgent",appVersion:"appVersion",platform:"platform",languages:"languages"};SCREEN_PROPERTY_NAME={width:"width",height:"height",availWidth:"availWidth",availHeight:"availHeight",availLeft:"availLeft",availTop:"availTop",colorDepth:"colorDepth",pixelDepth:"pixelDepth"};TEXT_METRICS_PROPERTY_NAME={actualBoundingBoxAscent:"actualBoundingBoxAscent",actualBoundingBoxDescent:"actualBoundingBoxDescent",actualBoundingBoxLeft:"actualBoundingBoxLeft",actualBoundingBoxRight:"actualBoundingBoxRight",width:"width"};WEBGL_PROPERTY_NAME={getParameter:"getParameter"};SCREEN_RANDOM_RANGE={screenSize:{min:-50,max:50},availPosition:{min:-10,max:10},colorDepth:{min:-5,max:5},pixelDepth:{min:-5,max:5}};CANVAS_RANDOM_RANGE={color:{min:5,max:10}};DATE_RANDOM_RANGE={timezoneOffsetHours:{min:1,max:3}};DEVICE_MEMORIES=[.25,.5,1,2,4,8];NAVIGATOR_DO_NOT_TRACK_ON="1";WEBGL_PARAM_ID={vendor:7936,renderer:7937,unmaskedVendor:37445,unmaskedRenderer:37446};WEBGL_VENDOR=["WebKit","Vendor","OpenGL","Engine","Graphics"];WEBGL_RENDERER=["WebKit","Renderer","OpenGL","Engine","Graphics"];WEBGL_PARAM_VALUE_WORD_COUNT=3;PREDEFINED_PREFERRED_LANGUAGES=["af","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LB","ar-LY","ar-MA","ar-OM","ar-QA","ar-SA","ar-SY","ar-TN","ar-YE","bg","be","ca","cs","da","de","de-CH","de-AT","de-LU","de-LI","el","en","en-AU","en-BZ","en-CA","en-EG","en-GB","en-IE","en-JM","en-NZ","en-TT","en-US","en-ZA","es","es-AR","es-GT","es-CR","es-PA","es-DO","es-MX","es-VE","es-CO","es-PE","es-EC","es-CL","es-UY","es-PY","es-BO","es-SV","es-HN","es-NI","es-PR","et","eu","fa","fi","fo","fr","fr-BE","fr-CA","fr-CH","fr-LU","gd","gd-IE","he","hi","hr","hu","id","is","it","it-CH","ja","ji","ko","lt","lv","mk","mt","nl","nl-BE","no","pl","pt","pt-BR","rm","ro","ro-MO","ru","ru-MI","sb","sk","sl","sr","sx","sv","sv-FI","sz","th","tn","tr","ts","uk","ur","ve","vi","xh","zh-CN","zh-HK","zh-SG","zh-TW","zu"];getCachedValue=(e,o)=>{const i=`${e}_${o}`;if(i in this.cache)return this.cache[i]};setCachedValue=(e,o,i)=>{const t=`${e}_${o}`;this.cache[t]=i};overrideProperty=(e,o,i)=>{if(null==o||null===o.prototype||void 0===o.prototype)throw Error("Invalid 'obj' argument.");const t=this.context,a=this,r=`original_${e.name}`,n=Object.getOwnPropertyDescriptor(o.prototype,e.name);if(void 0===n)return;Object.defineProperty(o.prototype,r,n);const l={configurable:!0,enumerable:!0,get:function(){const l=t.getTrackerUrl();if(!l)return n.get.call(this);const c=o.name.toLowerCase();if(i){const o=a.getCachedValue(c,e.name);if(void 0!==o)return o}const s=e.getModifiedValue(this[r]);return i&&a.setCachedValue(c,e.name,s),t.onPropertyAccessed(c,`${this[r]}`,`${s}`,l,`${e.name}-get-override`),s}};t.setPatchedFunctionString(l.get,n.get),Object.defineProperty(o.prototype,e.name,l)};overrideProperties=(e,o,i)=>{for(const t of e)this.overrideProperty(t,o,i)};getRandomNumber=(e,o)=>{if(e===o)return e;const i=Math.ceil(e),t=Math.floor(o);return Math.floor(Math.random()*(t-i+1)+i)};canvasPropertyName=this.CANVAS_PROPERTY_NAME;datePropertyName=this.DATE_PROPERTY_NAME;documentPropertyName=this.DOCUMENT_PROPERTY_NAME;navigatorPropertyName=this.NAVIGATOR_PROPERTY_NAME;screenPropertyName=this.SCREEN_PROPERTY_NAME;textMetricsPropertyName=this.TEXT_METRICS_PROPERTY_NAME;webGLPropertyName=this.WEBGL_PROPERTY_NAME;canvasRandomRange=this.CANVAS_RANDOM_RANGE;dateRandomRange=this.DATE_RANDOM_RANGE;screenRandomRange=this.SCREEN_RANDOM_RANGE;deviceMemories=this.DEVICE_MEMORIES;navigatorDoNotTrackOn=this.NAVIGATOR_DO_NOT_TRACK_ON;predefinedPreferredLanguages=this.PREDEFINED_PREFERRED_LANGUAGES;webGLParamId=this.WEBGL_PARAM_ID;webGLParamValueWordCount=this.WEBGL_PARAM_VALUE_WORD_COUNT;webGLRenderer=this.WEBGL_RENDERER;webGLVendor=this.WEBGL_VENDOR;cache={};constructor(e,o,i){this.popularUserAgents=e,this.platforms=o,this.context=i}}let W;var _;(_=W||(W={})).GET_MAINFRAME_SETTINGS="GET_MAINFRAME_SETTINGS",_.GET_SUBFRAME_SETTINGS="GET_SUBFRAME_SETTINGS",_.TRACKER_FINGERPRINTING="TRACKER_FINGERPRINTING",_.NEW_HOSTS_DISCOVERED="NEW_HOSTS_DISCOVERED",_.PROTECTION_APPLIED="PROTECTION_APPLIED";const A=["about:blank","about:srcdoc","about:newtab","chrome://newtab/","brave://newtab/","opera://newtab/","vivaldi://newtab/","edge://newtab/"];let G;var b;(b=G||(G={}))[b.Storage=0]="Storage",b[b.Cookies=1]="Cookies",b[b.Canvas=2]="Canvas",b[b.Date=3]="Date",b[b.Navigator=4]="Navigator",b[b.Screen=5]="Screen",b[b.TextMetrics=6]="TextMetrics",b[b.WebGL=7]="WebGL",b[b.ToString=8]="ToString",b[b.Document=9]="Document",b[b.FetchOnSafari=10]="FetchOnSafari";Object.getOwnPropertyNames(G).filter((e=>!isNaN(+e))).map((e=>+e));const O={disabledProtectionAPIs:[],reportGranularActivity:!1},w=()=>{try{return window.self!==window.top}catch(e){return!0}};class N{toStringMap=new Map;ghostedRegex=new RegExp("\\bhttps?:\\/\\/\\S+","gi");toByPassUrls=A;originalURL=window.URL;fingerprintNotifiedTrackerUrls=new Set;isGranularReportingEnabled=!1;userAllowedTrackers=[];constructor(e,o,i){this.yellowToRel=e,this.relationships=o,i&&(this.yellowToRel=new Map([...e,...i])),this.frameHref=new this.originalURL(window.self.location.href),this.frameHostName=this.frameHref.hostname,this.frameRootDomain=this.extractRootDomain(this.frameHostName)}onPropertyAccessed(e,o,i,t,a){if(this.isGranularReportingEnabled&&window.self.postMessage({id:W.PROTECTION_APPLIED,trackerDomain:t,protectionDetail:{api:e,context:a,isMainFrame:!w()}},window.self.location.href),this.fingerprintNotifiedTrackerUrls.has(t))return;if("cookie"===e||"localStorage"===e)return;const r=W.TRACKER_FINGERPRINTING;window.self.postMessage({id:r,trackerDomain:t},window.self.location.href),this.fingerprintNotifiedTrackerUrls.add(t)}isTLD(e){const o=e.split(".");return o.length<=1||!(o.length>2)&&((2==o[0].length||"com"==o[0])&&2==o[1].length)}getContainingDomains(e){const o=[];let i=0;do{o.push(e.substring(i)),i=e.indexOf(".",i)+1}while(i>0&&!this.isTLD(e.substring(i)));return o}isGhostedTracker(e){let o,i;let t=e.toString();const a=Array.from(t.matchAll(/\n/g));a.length>10&&(t=t.substring(0,a[10].index));const r=t.match(this.ghostedRegex);if(r){for(const e of r){const t=new this.originalURL(e).hostname.replace("www.","");if(this.toByPassUrls.includes(t))continue;if(this.extractRootDomain(t)==this.frameRootDomain)continue;const a=this.getContainingDomains(t);for(const e of a){if(this.userAllowedTrackers.includes(e))break;if(this.yellowToRel.has(e)){o=e,i=this.relationships.get(this.yellowToRel.get(e));break}}if(o&&i){const e=this.getContainingDomains(this.frameHostName);for(const t of i)if(e.includes(t)){o=void 0,i=void 0;break}}if(o)break}return o}}extractRootDomain(e){const o=this.getContainingDomains(e);return o[o.length-1]}getTrackerUrl(){if(w())return"_TRACKER_SUBFRAME_";let e,o;try{throw new Error("error")}catch(o){e=o.stack}finally{o=this.isGhostedTracker(e)}return o}setPatchedFunctionString(e,o){o&&(this.toStringMap.set(e,o.toString()),Object.defineProperty(e,"name",{get:function(){return o.name}}))}getPatchedFunctionString(e){return this.toStringMap.get(e)}}((d,f,h,u)=>{const m=new N(f,h,u),W=new S(T(),k[g()],m);let _=O;const A=e=>!_.disabledProtectionAPIs.includes(e);if(A(G.Cookies))try{o(m)}catch(e){console.log(`Failed to override cookies with ${e}`)}if(A(G.Storage))try{a(m)}catch(e){console.log(`Failed to override storage with ${e}`)}A(G.Canvas)&&e(m,W),A(G.Date)&&i(m,W),A(G.Navigator)&&r(W),A(G.Screen)&&n(W),A(G.TextMetrics)&&l(W),A(G.WebGL)&&s(m,W),A(G.ToString)&&c(m),d&&A(G.Document)&&t(W);const b=navigator.userAgent.toLowerCase();b.search("chrome/")<0&&b.search("safari/")>=0&&A(G.FetchOnSafari)&&(M(m),p(m))})(!1,new Map,new Map)})();
//# sourceMappingURL=ProtectSubFrame.js.map

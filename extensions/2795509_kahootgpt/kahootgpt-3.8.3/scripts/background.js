function setHighlight(e){chrome.storage.local.set({highlight:e},()=>{console.log("Highlight setted")})}function setImport(e){chrome.storage.local.set({import:e},()=>{console.log("Import setted")})}function setTutorial(e){chrome.storage.local.set({tutorial:e},()=>{console.log("Tutorial setted")})}chrome.runtime.onInstalled.addListener(e=>{"install"==e.reason&&(console.log(`This is a first install of ${chrome.runtime.getManifest().name}!`),setHighlight(!0),setImport(!0),setTutorial(!0))}),chrome.runtime.onMessage.addListener((e,o,t)=>(console.log(e),"is_paid"===e&&chrome.storage.local.get(["email","accessToken"],async e=>{fetch("https://api.kahootgpt.itsmarsss.com/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.email,accessToken:e.accessToken})}).then(e=>{if(e.ok)return e.json()}).then(e=>{e&&(e.life||"paid"===e.subscription)?(chrome.storage.local.set({max:e.max},()=>{console.log("Max setted")}),t(!0)):t(!1)})}),!0));
{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/lib/constants.js","webpack:///./src/extension/contentScript.js"],"names":["CHANNEL_NAME","DOWNLOAD_FIREFOX_URL","process","CUSTOM_BACKGROUND_MAXIMUM_LENGTH","CUSTOM_BACKGROUND_MAXIMUM_SIZE","CUSTOM_BACKGROUND_ALLOWED_TYPES","CUSTOM_BACKGROUND_DEFAULT_ALIGNMENT","colorLabels","toolbar","toolbar_text","frame","tab_background_text","toolbar_field","toolbar_field_text","tab_line","popup","popup_text","advancedColorLabels","button_background_active","button_background_hover","frame_inactive","icons_attention","icons","ntp_background","ntp_text","popup_border","popup_highlight_text","popup_highlight","sidebar_border","sidebar_highlight_text","sidebar_highlight","sidebar_text","sidebar","tab_background_separator","tab_loading","tab_selected","tab_text","toolbar_bottom_separator","toolbar_field_border_focus","toolbar_field_border","toolbar_field_focus","toolbar_field_highlight_text","toolbar_field_highlight","toolbar_field_separator","toolbar_field_text_focus","toolbar_top_separator","toolbar_vertical_separator","fallbackColors","colorsWithoutAlpha","alphaEqualityTolerance","ESC","loaderQuotes","quote","attribution","port","connect","browser","runtime","name","onDisconnect","addListener","reconnect","onMessage","message","window","postMessage","channel","setTimeout","addEventListener","event","source","data","location","href"],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;AClFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAO,IAAMA,YAAY,GAAG,cAArB;AAEA,IAAMC,oBAAoB,uHAC/BC,mBAD+B,CAA1B;AAIA,IAAMC,gCAAgC,GAAG,CAAzC;AAEA,IAAMC,8BAA8B,GAAG,OAAvC,C,CAEP;AACA;AACA;;AACO,IAAMC,+BAA+B,GAAG,CAC7C,YAD6C,EAE7C,WAF6C,CAG7C;AACA;AACA;AAL6C,CAAxC;AAQA,IAAMC,mCAAmC,GAAG,WAA5C;AAEA,IAAMC,WAAW,GAAG;AACzBC,SAAO,EAAE,eADgB;AAEzBC,cAAY,EAAE,wBAFW;AAGzBC,OAAK,EAAE,kBAHkB;AAIzBC,qBAAmB,EAAE,2BAJI;AAKzBC,eAAa,EAAE,kBALU;AAMzBC,oBAAkB,EAAE,aANK;AAOzBC,UAAQ,EAAE,qBAPe;AAQzBC,OAAK,EAAE,kBARkB;AASzBC,YAAU,EAAE;AATa,CAApB;AAYA,IAAMC,mBAAmB,GAAG;AACjCC,0BAAwB,EAAE,0BADO;AAEjCC,yBAAuB,EAAE,yBAFQ;AAGjCC,gBAAc,EAAE,gBAHiB;AAIjCC,iBAAe,EAAE,iBAJgB;AAKjCC,OAAK,EAAE,OAL0B;AAMjCC,gBAAc,EAAE,0BANiB;AAOjCC,UAAQ,EAAE,cAPuB;AAQjCC,cAAY,EAAE,cARmB;AASjCC,sBAAoB,EAAE,sBATW;AAUjCC,iBAAe,EAAE,iBAVgB;AAWjCC,gBAAc,EAAE,gBAXiB;AAYjCC,wBAAsB,EAAE,wBAZS;AAajCC,mBAAiB,EAAE,mBAbc;AAcjCC,cAAY,EAAE,cAdmB;AAejCC,SAAO,EAAE,SAfwB;AAgBjCC,0BAAwB,EAAE,0BAhBO;AAiBjCC,aAAW,EAAE,aAjBoB;AAkBjCC,cAAY,EAAE,cAlBmB;AAmBjCC,UAAQ,EAAE,UAnBuB;AAoBjCC,0BAAwB,EAAE,0BApBO;AAqBjCC,4BAA0B,EAAE,4BArBK;AAsBjCC,sBAAoB,EAAE,sBAtBW;AAuBjCC,qBAAmB,EAAE,qBAvBY;AAwBjCC,8BAA4B,EAAE,8BAxBG;AAyBjCC,yBAAuB,EAAE,yBAzBQ;AA0BjCC,yBAAuB,EAAE,yBA1BQ;AA2BjCC,0BAAwB,EAAE,0BA3BO;AA4BjCC,uBAAqB,EAAE,uBA5BU;AA6BjCC,4BAA0B,EAAE;AA7BK,CAA5B;AAgCA,IAAMC,cAAc,GAAG;AAC5BrC,OAAK,EAAE,aADqB;AAE5B;AACA;AACA;AACA;AACAK,OAAK,EAAE,CAAC,OAAD,EAAU,SAAV,CANqB;AAO5BC,YAAU,EAAE,CAAC,cAAD,EAAiB,qBAAjB,EAAwC,WAAxC,CAPgB;AAQ5BL,qBAAmB,EAAE;AARO,CAAvB;AAWA,IAAMqC,kBAAkB,GAAG,CAAC,qBAAD,EAAwB,OAAxB,EAAiC,SAAjC,CAA3B;AAEA,IAAMC,sBAAsB,GAAG,IAA/B;AAEA,IAAMC,GAAG,GAAG,EAAZ;AAEA,IAAMC,YAAY,GAAG,CAC1B;AACEC,OAAK,EACH,wHAFJ;AAGEC,aAAW,EAAE;AAHf,CAD0B,EAM1B;AACED,OAAK,EACH,2EAFJ;AAGEC,aAAW,EAAE;AAHf,CAN0B,EAW1B;AACED,OAAK,EACH,iHAFJ;AAGEC,aAAW,EAAE;AAHf,CAX0B,EAgB1B;AACED,OAAK,EAAE,4CADT;AAEEC,aAAW,EAAE;AAFf,CAhB0B,CAArB,C;;;;;;;;;;;;;;;;CClFP;;AACA,IAAIC,IAAJ;;AAEA,SAASC,OAAT,GAAmB;AACjBD,MAAI,GAAGE,OAAO,CAACC,OAAR,CAAgBF,OAAhB,CAAwB;AAAEG,QAAI,EAAE1D,mEAAYA;AAApB,GAAxB,CAAP;AACAsD,MAAI,CAACK,YAAL,CAAkBC,WAAlB,CAA8B,YAAM;AAClCN,QAAI,GAAG,IAAP;AACAO,aAAS;AACV,GAHD;AAIAP,MAAI,CAACQ,SAAL,CAAeF,WAAf,CAA2B,UAAAG,OAAO,EAAI;AACpCC,UAAM,CAACC,WAAP,mBAEOF,OAFP;AAGIG,aAAO,YAAKlE,mEAAL;AAHX,QAKE,GALF;AAOD,GARD;AASD,C,CAED;;;AACA,SAAS6D,SAAT,GAAqB;AACnBM,YAAU,CAAC,YAAM;AACf,QAAIb,IAAJ,EAAU;AACR;AACD;;AACDC,WAAO;AACPM,aAAS;AACV,GANS,EAMP,IANO,CAAV;AAOD,C,CAED;AACA;;;AACAG,MAAM,CAACI,gBAAP,CAAwB,SAAxB,EAAmC,UAAAC,KAAK,EAAI;AAC1C,MACEf,IAAI,IACJe,KAAK,CAACC,MAAN,KAAiBN,MADjB,IAEAK,KAAK,CAACE,IAFN,IAGAF,KAAK,CAACE,IAAN,CAAWL,OAAX,eAA0BlE,mEAA1B,eAJF,EAKE;AACAsD,QAAI,CAACW,WAAL,mBACKI,KAAK,CAACE,IADX;AAEEC,cAAQ,EAAER,MAAM,CAACQ,QAAP,CAAgBC;AAF5B;AAID;AACF,CAZD;AAcAlB,OAAO,G","file":"contentScript.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 85);\n","export const CHANNEL_NAME = \"FirefoxColor\";\n\nexport const DOWNLOAD_FIREFOX_URL = `https://www.mozilla.org/firefox/new/?utm_campaign=firefoxcolor-acquisition&utm_medium=referral&utm_source=${\n  process.env.DOWNLOAD_FIREFOX_UTM_SOURCE\n}`;\n\nexport const CUSTOM_BACKGROUND_MAXIMUM_LENGTH = 3;\n\nexport const CUSTOM_BACKGROUND_MAXIMUM_SIZE = 1000000;\n\n// Note: SVGs cannot be passed as base64.\n// Bugzilla bug passed here https://bugzilla.mozilla.org/show_bug.cgi?id=1491790\n// gifs also seem to break the background\nexport const CUSTOM_BACKGROUND_ALLOWED_TYPES = [\n  \"image/jpeg\",\n  \"image/png\"\n  // \"image/gif\",\n  // \"image/bmp\"\n  // \"image/svg+xml\"\n];\n\nexport const CUSTOM_BACKGROUND_DEFAULT_ALIGNMENT = \"right top\";\n\nexport const colorLabels = {\n  toolbar: \"Toolbar Color\",\n  toolbar_text: \"Toolbar Icons and Text\",\n  frame: \"Background Color\",\n  tab_background_text: \"Background Tab Text Color\",\n  toolbar_field: \"Search Bar Color\",\n  toolbar_field_text: \"Search Text\",\n  tab_line: \"Tab Highlight Color\",\n  popup: \"Popup Background\",\n  popup_text: \"Popup Text\"\n};\n\nexport const advancedColorLabels = {\n  button_background_active: \"Button Background Active\",\n  button_background_hover: \"Button Background Hover\",\n  frame_inactive: \"Frame Inactive\",\n  icons_attention: \"Icons Attention\",\n  icons: \"Icons\",\n  ntp_background: \"New Tab Background Color\",\n  ntp_text: \"New Tab Text\",\n  popup_border: \"Popup Border\",\n  popup_highlight_text: \"Popup Highlight Text\",\n  popup_highlight: \"Popup Highlight\",\n  sidebar_border: \"Sidebar Border\",\n  sidebar_highlight_text: \"Sidebar Highlight Text\",\n  sidebar_highlight: \"Sidebar Highlight\",\n  sidebar_text: \"Sidebar Text\",\n  sidebar: \"Sidebar\",\n  tab_background_separator: \"Tab Background Separator\",\n  tab_loading: \"Tab Loading\",\n  tab_selected: \"Tab Selected\",\n  tab_text: \"Tab Text\",\n  toolbar_bottom_separator: \"Toolbar Bottom Separator\",\n  toolbar_field_border_focus: \"Toolbar Field Border Focus\",\n  toolbar_field_border: \"Toolbar Field Border\",\n  toolbar_field_focus: \"Toolbar Field Focus\",\n  toolbar_field_highlight_text: \"Toolbar Field Highlight Text\",\n  toolbar_field_highlight: \"Toolbar Field Highlight\",\n  toolbar_field_separator: \"Toolbar Field Separator\",\n  toolbar_field_text_focus: \"Toolbar Field Text Focus\",\n  toolbar_top_separator: \"Toolbar Top Separator\",\n  toolbar_vertical_separator: \"Toolbar Vertical Separator\"\n};\n\nexport const fallbackColors = {\n  frame: \"accentcolor\",\n  // \"popup\" falls back to \"frame\" if \"popup\" is void.\n  // If \"frame\" is somehow void, then \"toolbar\" is used instead.\n  // This is for no particular reason, besides backwards-compatibility.\n  // Similarly for \"popup_text\".\n  popup: [\"frame\", \"toolbar\"],\n  popup_text: [\"toolbar_text\", \"tab_background_text\", \"textcolor\"],\n  tab_background_text: \"textcolor\"\n};\n\nexport const colorsWithoutAlpha = [\"tab_background_text\", \"frame\", \"sidebar\"];\n\nexport const alphaEqualityTolerance = 0.02;\n\nexport const ESC = 27;\n\nexport const loaderQuotes = [\n  {\n    quote:\n      \"Mere color, unspoiled by meaning, and unallied with definite form, can speak to the soul in a thousand different ways.\",\n    attribution: \"Oscar Wilde\"\n  },\n  {\n    quote:\n      \"The purest and most thoughtful minds are those which love color the most.\",\n    attribution: \"John Ruskin\"\n  },\n  {\n    quote:\n      \"I found I could say things with color and shapes that I couldn't say any other way — things I had no words for.\",\n    attribution: \"Georgia O'Keeffe\"\n  },\n  {\n    quote: \"Colours and colours and colours of colours\",\n    attribution: \"Hot Chip\"\n  }\n];\n","import { CHANNEL_NAME } from \"../lib/constants\";\n\n// Relay backend port messages to content\nlet port;\n\nfunction connect() {\n  port = browser.runtime.connect({ name: CHANNEL_NAME });\n  port.onDisconnect.addListener(() => {\n    port = null;\n    reconnect();\n  });\n  port.onMessage.addListener(message => {\n    window.postMessage(\n      {\n        ...message,\n        channel: `${CHANNEL_NAME}-web`\n      },\n      \"*\"\n    );\n  });\n}\n\n// HACK: try reconnecting when reloaded from about:debugging\nfunction reconnect() {\n  setTimeout(() => {\n    if (port) {\n      return;\n    }\n    connect();\n    reconnect();\n  }, 1000);\n}\n\n// Relay content messages to backend port if the channel name matches\n// (Not a security feature so much as a noise filter)\nwindow.addEventListener(\"message\", event => {\n  if (\n    port &&\n    event.source === window &&\n    event.data &&\n    event.data.channel === `${CHANNEL_NAME}-extension`\n  ) {\n    port.postMessage({\n      ...event.data,\n      location: window.location.href\n    });\n  }\n});\n\nconnect();\n"],"sourceRoot":""}
var inputHistory007=function(){"use strict";const e=Object.keys;function t(e){return"string"==typeof e}function n(e){return"number"==typeof e}function o(e){return"object"==typeof e?null!==e:r(e)}function r(e){return"function"==typeof e}function a(t,n){if(t)for(const o of e(t))n(t[o],o)}const s={animationIterationCount:0,borderImageOutset:0,borderImageSlice:0,borderImageWidth:0,boxFlex:0,boxFlexGroup:0,boxOrdinalGroup:0,columnCount:0,columns:0,flex:0,flexGrow:0,flexPositive:0,flexShrink:0,flexNegative:0,flexOrder:0,gridArea:0,gridRow:0,gridRowEnd:0,gridRowSpan:0,gridRowStart:0,gridColumn:0,gridColumnEnd:0,gridColumnSpan:0,gridColumnStart:0,fontWeight:0,lineClamp:0,lineHeight:0,opacity:0,order:0,orphans:0,tabSize:0,widows:0,zIndex:0,zoom:0,fillOpacity:0,floodOpacity:0,stopOpacity:0,strokeDasharray:0,strokeDashoffset:0,strokeMiterlimit:0,strokeOpacity:0,strokeWidth:0};const c=["Webkit","ms","Moz","O"];e(s).forEach((e=>{c.forEach((t=>{s[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(t,e)]=0}))}));function i(t){return Array.isArray(t)?t.map(i).filter(Boolean).join(" "):o(t)?e(t).filter((e=>t[e])).join(" "):function(e){return t=e,!("boolean"==typeof t||null==e);var t}(t)?""+t:""}const l={animate:0,circle:0,clipPath:0,defs:0,desc:0,ellipse:0,feBlend:0,feColorMatrix:0,feComponentTransfer:0,feComposite:0,feConvolveMatrix:0,feDiffuseLighting:0,feDisplacementMap:0,feDistantLight:0,feFlood:0,feFuncA:0,feFuncB:0,feFuncG:0,feFuncR:0,feGaussianBlur:0,feImage:0,feMerge:0,feMergeNode:0,feMorphology:0,feOffset:0,fePointLight:0,feSpecularLighting:0,feSpotLight:0,feTile:0,feTurbulence:0,filter:0,foreignObject:0,g:0,image:0,line:0,linearGradient:0,marker:0,mask:0,metadata:0,path:0,pattern:0,polygon:0,polyline:0,radialGradient:0,rect:0,stop:0,svg:0,switch:0,symbol:0,text:0,textPath:0,tspan:0,use:0,view:0};function u(n,a,...s){let c;var i;return(t(a)||Array.isArray(a))&&(s.unshift(a),a={}),(a=a||{}).namespaceURI||0!==l[n]||(a={...a,namespaceURI:"http://www.w3.org/2000/svg"}),null==a.children||s.length||({children:s,...a}=a),t(n)?(c=a.namespaceURI?document.createElementNS(a.namespaceURI,n):document.createElement(n),function(t,n){for(const o of e(t))m(o,t[o],n)}(a,c),p(s,c)):r(n)&&(o(n.defaultProps)&&(a={...n.defaultProps,...a}),c=n({...a,children:s})),o(i=a.ref)&&"current"in i?a.ref.current=c:r(a.ref)&&a.ref(c),c}function p(e,r){var a,s;o(s=e)&&"number"==typeof s.length&&"number"!=typeof s.nodeType?function(e,t){for(const n of e)p(n,t)}(e,r):t(e)||n(e)?f(document.createTextNode(e),r):null===e?f(document.createComment(""),r):(a=e)&&"number"==typeof a.nodeType&&f(e,r)}function f(e,t){t instanceof window.HTMLTemplateElement?t.content.appendChild(e):t.appendChild(e)}function d(e){return e.replace(/[A-Z\d]/g,(e=>":"+e.toLowerCase()))}function m(e,t,c){switch(e){case"xlinkActuate":case"xlinkArcrole":case"xlinkHref":case"xlinkRole":case"xlinkShow":case"xlinkTitle":case"xlinkType":return void g(c,"http://www.w3.org/1999/xlink",d(e),t);case"xmlnsXlink":return void h(c,d(e),t);case"xmlBase":case"xmlLang":case"xmlSpace":return void g(c,"http://www.w3.org/XML/1998/namespace",d(e),t)}switch(e){case"htmlFor":return void h(c,"for",t);case"dataset":return void a(t,((e,t)=>{null!=e&&(c.dataset[t]=e)}));case"innerHTML":case"innerText":case"textContent":return void(c[e]=t);case"spellCheck":return void(c.spellcheck=t);case"class":case"className":return void(r(t)?t(c):h(c,"class",i(t)));case"ref":case"namespaceURI":return;case"style":if(o(t))return void a(t,((e,t)=>{n(e)&&0!==s[t]?c.style[t]=e+"px":c.style[t]=e}))}if(r(t)){if("o"===e[0]&&"n"===e[1]){const n=e.toLowerCase();null==c[n]?c[n]=t:c.addEventListener(e,t)}}else!0===t?h(c,e,""):!1!==t&&null!=t&&h(c,e,t)}function h(e,t,n){e.setAttribute(t,n)}function g(e,t,n,o){e.setAttributeNS(t,n,o)}function y(e){return function({getMessage:e,DEFAULT:t}){return(n,o)=>{const r=e(n,o);if(r)return r;const a=t[n];return a?o?(Array.isArray(o)||(o=[o]),a.replace(/\$(\d+)/g,((e,t)=>o[t-1]))):a:""}}({getMessage:e,DEFAULT:{currentScopeLabel:"Current scope",addScopeLabel:"Add new scope",deleteScopeLabel:"Delete current scope",learnMoreButton:"Learn more",importButton:"Import",exportButton:"Export",addScopePrompt:"Add new scope",deleteScopeConfirm:"Delete scope $1?",importPrompt:"Paste settings",exportPrompt:"Copy settings"}})}const v=new Set(["import","export","scope-list","add-scope","delete-scope"]);class b extends Map{constructor(e){super(),this.getDefault=e}get(e){let t=super.get(e);return t||(t=this.getDefault(),super.set(e,t)),t}}function w(e,t){const n=[],o=e=>{for(const n in e)if(t.has(n))for(const o of t.get(n))a(o,e[n])};e.on("change",o),n.push((()=>e.off("change",o)));for(const[e,o]of t.entries())for(const t of o){const o=t.hasAttribute("realtime")?"input":"change",a=()=>r(e,t);t.addEventListener(o,a),n.push((()=>t.removeEventListener(o,a)))}return o(e.getAll()),()=>{for(const e of n)e()};function r(t,n){n.checkValidity()&&("checkbox"!==n.type?"radio"!==n.type?"SELECT"===n.nodeName&&n.multiple?e.set(t,[...n.options].filter((e=>e.selected)).map((e=>e.value))):"number"!==n.type&&"range"!==n.type?e.set(t,n.value):e.set(t,Number(n.value)):n.checked&&e.set(t,n.value):e.set(t,n.checked))}function a(e,t){if("INPUT"!==e.nodeName||"radio"!==e.type)if("checkbox"!==e.type)if("SELECT"===e.nodeName&&e.multiple){const n=new Set(t);for(const t of e.options)t.selected=n.has(t.value)}else e.value=t;else e.checked=t;else e.checked=e.value===t}}function x(e,t){const n=e=>{for(const n in e)if(t.has(n))for(const o of t.get(n))o.disabled=o.dataset.bindToValue?o.dataset.bindToValue!==e[n]:!e[n]};return e.on("change",n),n(e.getAll()),()=>e.off("change",n)}function L({pref:e,controls:t,alert:n=alert,confirm:o=confirm,prompt:r=prompt,getMessage:a=()=>{},getNewScope:s=()=>""}){const c={import:["click",async function(){try{const t=await r(i("importPrompt"));if(null==t)return;const n=JSON.parse(t);return e.import(n)}catch(e){await n(e.message)}}],export:["click",async function(){try{const t=await e.export();await r(i("exportPrompt"),JSON.stringify(t))}catch(e){await n(e.message)}}],"scope-list":["change",function(t){e.setCurrentScope(t.target.value)}],"add-scope":["click",async function(){try{let t=await r(i("addScopePrompt"),s());if(null==t)return;if(t=t.trim(),!t)throw new Error("the value is empty");await e.addScope(t),e.setCurrentScope(t)}catch(e){await n(e.message)}}],"delete-scope":["click",async function(){try{const t=e.getCurrentScope();if(await o(i("deleteScopeConfirm",t)))return e.deleteScope(t)}catch(e){await n(e.message)}}]};for(const e in c)for(const n of t.get(e))n.addEventListener(c[e][0],c[e][1]);e.on("scopeChange",l),e.on("scopeListChange",u),u(),l();const i=y(a);return function(){e.off("scopeChange",l),e.off("scopeListChange",u);for(const e in c)for(const n of t.get(e))n.removeEventListener(c[e][0],c[e][1])};function l(){const n=e.getCurrentScope();for(const e of t.get("scope-list"))e.value=n}function u(){const n=e.getScopeList();for(const e of t.get("scope-list"))e.innerHTML="",e.append(...n.map((e=>{const t=document.createElement("option");return t.value=e,t.textContent=e,t})))}}return{a:function({pref:e,root:t,elements:n=t.querySelectorAll("input, textarea, select, fieldset, button"),keyPrefix:o="pref-",controlPrefix:r="webext-pref-",alert:a,confirm:s,prompt:c,getMessage:i,getNewScope:l}){const u=new b((()=>[])),p=new b((()=>[])),f=new b((()=>[]));for(const t of n){const n=t.id&&m(t.id,o);if(n&&e.has(n)){u.get(n).push(t);continue}if("INPUT"===t.nodeName&&"radio"===t.type){const n=t.name&&m(t.name,o);if(n&&e.has(n)){u.get(n).push(t);continue}}if("FIELDSET"===t.nodeName&&t.dataset.bindTo){p.get(t.dataset.bindTo).push(t);continue}const r=h(t.classList);r&&f.get(r).push(t)}const d=[w(e,u),x(e,p),L({pref:e,controls:f,alert:a,confirm:s,prompt:c,getMessage:i,getNewScope:l})];return()=>{for(const e of d)e()};function m(e,t){return t?e.startsWith(t)?e.slice(t.length):"":e}function h(e){for(const t of e){const e=m(t,r);if(v.has(e))return e}}},c:function({body:e,getMessage:t=()=>{},toolbar:n=!0,navbar:o=!0,keyPrefix:r="pref-",controlPrefix:a="webext-pref-"}){const s=document.createDocumentFragment(),c=y(t);return n&&s.append(u("div",{class:a+"toolbar"},u("button",{type:"button",class:[a+"import","browser-style"]},c("importButton")),u("button",{type:"button",class:[a+"export","browser-style"]},c("exportButton")))),o&&s.append(u("div",{class:a+"nav"},u("select",{class:[a+"scope-list","browser-style"],title:c("currentScopeLabel")}),u("button",{type:"button",class:[a+"delete-scope","browser-style"],title:c("deleteScopeLabel")},"Ã—"),u("button",{type:"button",class:[a+"add-scope","browser-style"],title:c("addScopeLabel")},"+"))),s.append(u("div",{class:a+"body"},e.map((e=>(e.hLevel||(e.hLevel=3),i(e)))))),s;function i(e){return"section"===e.type?function(e){const t=`h${e.hLevel}`;return e.hLevel++,u("div",{class:[a+e.type,e.className]},u(t,{class:a+"header"},e.label),e.help&&u(l,{content:e.help}),e.children&&e.children.map((t=>i(d(e,t)))))}(e):"checkbox"===e.type?f(e):"radiogroup"===e.type?function(e){return u("div",{class:[`${a}${e.type}`,"browser-style",e.className]},u("div",{class:a+"radio-title"},e.label),e.learnMore&&u(p,{url:e.learnMore}),e.help&&u(l,{content:e.help}),e.children.map((t=>(t.parentKey=e.key,f(d(e,t))))))}(e):function(e){const t=r+e.key;let n;const o=e.validate?t=>{try{e.validate(t.target.value),t.target.setCustomValidity("")}catch(e){t.target.setCustomValidity(e.message||String(e))}}:null;n="select"===e.type?u("select",{multiple:e.multiple,class:"browser-style",id:t,onChange:o},Object.entries(e.options).map((([e,t])=>u("option",{value:e},t)))):"textarea"===e.type?u("textarea",{rows:"8",class:"browser-style",id:t,onChange:o}):u("input",{type:e.type,id:t,onChange:o});return u("div",{class:[`${a}${e.type}`,"browser-style",e.className]},u("label",{htmlFor:t},e.label),e.learnMore&&u(p,{url:e.learnMore}),n,e.help&&u(l,{content:e.help}))}(e)}function l({content:e}){return u("p",{class:a+"help"},e)}function p({url:e}){return u("a",{href:e,class:a+"learn-more",target:"_blank",rel:"noopener noreferrer"},c("learnMoreButton"))}function f(e){const t=e.parentKey?`${r}${e.parentKey}-${e.value}`:r+e.key;return u("div",{class:[`${a}${e.type}`,"browser-style",e.className]},u("input",{type:e.type,id:t,name:e.parentKey?r+e.parentKey:null,value:e.value}),u("label",{htmlFor:t},e.label),e.learnMore&&u(p,{url:e.learnMore}),e.help&&u(l,{content:e.help}),e.children&&u("fieldset",{class:a+"checkbox-children",dataset:{bindTo:e.parentKey||e.key,bindToValue:e.value}},e.children.map((t=>i(d(e,t))))))}function d(e,t){return t.hLevel=e.hLevel,t}},s:function(e,t){let n,o,r,a=!1;function s(){return pref002.p.get(t+"History")}function c(n){if(!n)return;const o=[n,...s().filter((e=>e!=n))].slice(0,+e.dataset.history);pref002.p.set(t+"History",o)}function i(){a||(n=s(),n.length&&(o=document.createElement("div"),o.dataset.label=customCss006._("formHistoryRecentlyUsedLabel"),o.className="history-list",o.tabIndex=0,o.append(...n.map(((e,t)=>{const n=document.createElement("div");return n.className="history-item",n.textContent=e,n.addEventListener("click",(()=>{f(e)})),n.addEventListener("mouseenter",(()=>{l(t)})),n.title=e,n}))),e.parentNode.append(o),e.addEventListener("blur",u),e.addEventListener("keydown",p),o.addEventListener("blur",u),a=!0))}function l(e){null!=r&&o.childNodes[r].classList.remove("active"),r=e,o.childNodes[e].classList.add("active")}function u(t){setTimeout((()=>{(document.activeElement!==e&&document.activeElement!==o||document.activeElement===t.target)&&d()}))}function p(e){"ArrowDown"===e.key?(e.preventDefault(),l(null==r?0:Math.min(r+1,n.length-1))):"ArrowUp"===e.key?(e.preventDefault(),l(Math.max(r-1,0))):"Enter"===e.key?null!=r&&f(n[r]):"Escape"===e.key&&d()}function f(e){pref002.p.set(t,e),c(e),d()}function d(){e.removeEventListener("blur",u),e.removeEventListener("keydown",p),o.removeEventListener("blur",u),o.remove(),a=!1,o=n=r=null}e.addEventListener("focus",i),e.addEventListener("keydown",(e=>{"ArrowDown"===e.key&&(e.preventDefault(),i())})),e.addEventListener("change",(()=>{c(e.value)}))}}}();
//# sourceMappingURL=input-history-bLwsFs5C.js.map

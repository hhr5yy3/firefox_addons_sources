/*! For license information please see popup.js.LICENSE.txt */
(()=>{var e={215:(e,t,n)=>{"use strict";n.d(t,{w:()=>r});var r="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__},31:(e,t,n)=>{"use strict";n.d(t,{BF:()=>m,EU:()=>h,YZ:()=>f});var r=n(827),i=n(628),s=n(461),o=n(864),a=n(167),c=n(822),u=n(215),d=n(236),l=n(824),p=4,f=function(){function e(e,t,n){void 0===t&&(t=new d.H),void 0===n&&(n=p),this._version=n,this._stack=[{}],this.getStackTop().scope=t,e&&this.bindClient(e)}return e.prototype.isOlderThan=function(e){return this._version<e},e.prototype.bindClient=function(e){this.getStackTop().client=e,e&&e.setupIntegrations&&e.setupIntegrations()},e.prototype.pushScope=function(){var e=d.H.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e},e.prototype.popScope=function(){return!(this.getStack().length<=1||!this.getStack().pop())},e.prototype.withScope=function(e){var t=this.pushScope();try{e(t)}finally{this.popScope()}},e.prototype.getClient=function(){return this.getStackTop().client},e.prototype.getScope=function(){return this.getStackTop().scope},e.prototype.getStack=function(){return this._stack},e.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},e.prototype.captureException=function(e,t){var n=this._lastEventId=t&&t.event_id?t.event_id:(0,i.eJ)(),s=t;if(!t){var o=void 0;try{throw new Error("Sentry syntheticException")}catch(e){o=e}s={originalException:e,syntheticException:o}}return this._invokeClient("captureException",e,(0,r.Cl)((0,r.Cl)({},s),{event_id:n})),n},e.prototype.captureMessage=function(e,t,n){var s=this._lastEventId=n&&n.event_id?n.event_id:(0,i.eJ)(),o=n;if(!n){var a=void 0;try{throw new Error(e)}catch(e){a=e}o={originalException:e,syntheticException:a}}return this._invokeClient("captureMessage",e,t,(0,r.Cl)((0,r.Cl)({},o),{event_id:s})),s},e.prototype.captureEvent=function(e,t){var n=t&&t.event_id?t.event_id:(0,i.eJ)();return"transaction"!==e.type&&(this._lastEventId=n),this._invokeClient("captureEvent",e,(0,r.Cl)((0,r.Cl)({},t),{event_id:n})),n},e.prototype.lastEventId=function(){return this._lastEventId},e.prototype.addBreadcrumb=function(e,t){var n=this.getStackTop(),i=n.scope,a=n.client;if(i&&a){var c=a.getOptions&&a.getOptions()||{},u=c.beforeBreadcrumb,d=void 0===u?null:u,l=c.maxBreadcrumbs,p=void 0===l?100:l;if(!(p<=0)){var f=(0,s.lu)(),h=(0,r.Cl)({timestamp:f},e),g=d?(0,o.pq)((function(){return d(h,t)})):h;null!==g&&i.addBreadcrumb(g,p)}}},e.prototype.setUser=function(e){var t=this.getScope();t&&t.setUser(e)},e.prototype.setTags=function(e){var t=this.getScope();t&&t.setTags(e)},e.prototype.setExtras=function(e){var t=this.getScope();t&&t.setExtras(e)},e.prototype.setTag=function(e,t){var n=this.getScope();n&&n.setTag(e,t)},e.prototype.setExtra=function(e,t){var n=this.getScope();n&&n.setExtra(e,t)},e.prototype.setContext=function(e,t){var n=this.getScope();n&&n.setContext(e,t)},e.prototype.configureScope=function(e){var t=this.getStackTop(),n=t.scope,r=t.client;n&&r&&e(n)},e.prototype.run=function(e){var t=g(this);try{e(this)}finally{g(t)}},e.prototype.getIntegration=function(e){var t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(t){return u.w&&o.vF.warn("Cannot retrieve integration "+e.id+" from the current Hub"),null}},e.prototype.startSpan=function(e){return this._callExtensionMethod("startSpan",e)},e.prototype.startTransaction=function(e,t){return this._callExtensionMethod("startTransaction",e,t)},e.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},e.prototype.captureSession=function(e){if(void 0===e&&(e=!1),e)return this.endSession();this._sendSessionUpdate()},e.prototype.endSession=function(){var e=this.getStackTop(),t=e&&e.scope,n=t&&t.getSession();n&&n.close(),this._sendSessionUpdate(),t&&t.setSession()},e.prototype.startSession=function(e){var t=this.getStackTop(),n=t.scope,i=t.client,s=i&&i.getOptions()||{},o=s.release,c=s.environment,u=((0,a.V)().navigator||{}).userAgent,d=new l.N((0,r.Cl)((0,r.Cl)((0,r.Cl)({release:o,environment:c},n&&{user:n.getUser()}),u&&{userAgent:u}),e));if(n){var p=n.getSession&&n.getSession();p&&"ok"===p.status&&p.update({status:"exited"}),this.endSession(),n.setSession(d)}return d},e.prototype._sendSessionUpdate=function(){var e=this.getStackTop(),t=e.scope,n=e.client;if(t){var r=t.getSession&&t.getSession();r&&n&&n.captureSession&&n.captureSession(r)}},e.prototype._invokeClient=function(e){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var s=this.getStackTop(),o=s.scope,a=s.client;a&&a[e]&&(t=a)[e].apply(t,(0,r.gz)(n,[o]))},e.prototype._callExtensionMethod=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=h().__SENTRY__;if(r&&r.extensions&&"function"==typeof r.extensions[e])return r.extensions[e].apply(this,t);u.w&&o.vF.warn("Extension method "+e+" couldn't be found, doing nothing.")},e}();function h(){var e=(0,a.V)();return e.__SENTRY__=e.__SENTRY__||{extensions:{},hub:void 0},e}function g(e){var t=h(),n=y(t);return _(t,e),n}function m(){var e=h();return v(e)&&!y(e).isOlderThan(p)||_(e,new f),(0,c.wD)()?function(e){try{var t=h().__SENTRY__,n=t&&t.extensions&&t.extensions.domain&&t.extensions.domain.active;if(!n)return y(e);if(!v(n)||y(n).isOlderThan(p)){var r=y(e).getStackTop();_(n,new f(r.client,d.H.clone(r.scope)))}return y(n)}catch(t){return y(e)}}(e):y(e)}function v(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function y(e){return(0,a.B)("hub",(function(){return new f}),e)}function _(e,t){return!!e&&((e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0)}},236:(e,t,n)=>{"use strict";n.d(t,{H:()=>c,l:()=>d});var r=n(827),i=n(996),s=n(461),o=n(694),a=n(167),c=function(){function e(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}return e.clone=function(t){var n=new e;return t&&(n._breadcrumbs=(0,r.gz)(t._breadcrumbs),n._tags=(0,r.Cl)({},t._tags),n._extra=(0,r.Cl)({},t._extra),n._contexts=(0,r.Cl)({},t._contexts),n._user=t._user,n._level=t._level,n._span=t._span,n._session=t._session,n._transactionName=t._transactionName,n._fingerprint=t._fingerprint,n._eventProcessors=(0,r.gz)(t._eventProcessors),n._requestSession=t._requestSession),n},e.prototype.addScopeListener=function(e){this._scopeListeners.push(e)},e.prototype.addEventProcessor=function(e){return this._eventProcessors.push(e),this},e.prototype.setUser=function(e){return this._user=e||{},this._session&&this._session.update({user:e}),this._notifyScopeListeners(),this},e.prototype.getUser=function(){return this._user},e.prototype.getRequestSession=function(){return this._requestSession},e.prototype.setRequestSession=function(e){return this._requestSession=e,this},e.prototype.setTags=function(e){return this._tags=(0,r.Cl)((0,r.Cl)({},this._tags),e),this._notifyScopeListeners(),this},e.prototype.setTag=function(e,t){var n;return this._tags=(0,r.Cl)((0,r.Cl)({},this._tags),((n={})[e]=t,n)),this._notifyScopeListeners(),this},e.prototype.setExtras=function(e){return this._extra=(0,r.Cl)((0,r.Cl)({},this._extra),e),this._notifyScopeListeners(),this},e.prototype.setExtra=function(e,t){var n;return this._extra=(0,r.Cl)((0,r.Cl)({},this._extra),((n={})[e]=t,n)),this._notifyScopeListeners(),this},e.prototype.setFingerprint=function(e){return this._fingerprint=e,this._notifyScopeListeners(),this},e.prototype.setLevel=function(e){return this._level=e,this._notifyScopeListeners(),this},e.prototype.setTransactionName=function(e){return this._transactionName=e,this._notifyScopeListeners(),this},e.prototype.setTransaction=function(e){return this.setTransactionName(e)},e.prototype.setContext=function(e,t){var n;return null===t?delete this._contexts[e]:this._contexts=(0,r.Cl)((0,r.Cl)({},this._contexts),((n={})[e]=t,n)),this._notifyScopeListeners(),this},e.prototype.setSpan=function(e){return this._span=e,this._notifyScopeListeners(),this},e.prototype.getSpan=function(){return this._span},e.prototype.getTransaction=function(){var e=this.getSpan();return e&&e.transaction},e.prototype.setSession=function(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this},e.prototype.getSession=function(){return this._session},e.prototype.update=function(t){if(!t)return this;if("function"==typeof t){var n=t(this);return n instanceof e?n:this}return t instanceof e?(this._tags=(0,r.Cl)((0,r.Cl)({},this._tags),t._tags),this._extra=(0,r.Cl)((0,r.Cl)({},this._extra),t._extra),this._contexts=(0,r.Cl)((0,r.Cl)({},this._contexts),t._contexts),t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession)):(0,i.Qd)(t)&&(this._tags=(0,r.Cl)((0,r.Cl)({},this._tags),t.tags),this._extra=(0,r.Cl)((0,r.Cl)({},this._extra),t.extra),this._contexts=(0,r.Cl)((0,r.Cl)({},this._contexts),t.contexts),t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession)),this},e.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},e.prototype.addBreadcrumb=function(e,t){var n="number"==typeof t?Math.min(t,100):100;if(n<=0)return this;var i=(0,r.Cl)({timestamp:(0,s.lu)()},e);return this._breadcrumbs=(0,r.gz)(this._breadcrumbs,[i]).slice(-n),this._notifyScopeListeners(),this},e.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},e.prototype.applyToEvent=function(e,t){if(this._extra&&Object.keys(this._extra).length&&(e.extra=(0,r.Cl)((0,r.Cl)({},this._extra),e.extra)),this._tags&&Object.keys(this._tags).length&&(e.tags=(0,r.Cl)((0,r.Cl)({},this._tags),e.tags)),this._user&&Object.keys(this._user).length&&(e.user=(0,r.Cl)((0,r.Cl)({},this._user),e.user)),this._contexts&&Object.keys(this._contexts).length&&(e.contexts=(0,r.Cl)((0,r.Cl)({},this._contexts),e.contexts)),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts=(0,r.Cl)({trace:this._span.getTraceContext()},e.contexts);var n=this._span.transaction&&this._span.transaction.name;n&&(e.tags=(0,r.Cl)({transaction:n},e.tags))}return this._applyFingerprint(e),e.breadcrumbs=(0,r.gz)(e.breadcrumbs||[],this._breadcrumbs),e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,e.sdkProcessingMetadata=this._sdkProcessingMetadata,this._notifyEventProcessors((0,r.gz)(u(),this._eventProcessors),e,t)},e.prototype.setSDKProcessingMetadata=function(e){return this._sdkProcessingMetadata=(0,r.Cl)((0,r.Cl)({},this._sdkProcessingMetadata),e),this},e.prototype._notifyEventProcessors=function(e,t,n,s){var a=this;return void 0===s&&(s=0),new o.T2((function(o,c){var u=e[s];if(null===t||"function"!=typeof u)o(t);else{var d=u((0,r.Cl)({},t),n);(0,i.Qg)(d)?d.then((function(t){return a._notifyEventProcessors(e,t,n,s+1).then(o)})).then(null,c):a._notifyEventProcessors(e,d,n,s+1).then(o).then(null,c)}}))},e.prototype._notifyScopeListeners=function(){var e=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((function(t){t(e)})),this._notifyingListeners=!1)},e.prototype._applyFingerprint=function(e){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint},e}();function u(){return(0,a.B)("globalEventProcessors",(function(){return[]}))}function d(e){u().push(e)}},824:(e,t,n)=>{"use strict";n.d(t,{N:()=>o});var r=n(628),i=n(461),s=n(911),o=function(){function e(e){this.errors=0,this.sid=(0,r.eJ)(),this.duration=0,this.status="ok",this.init=!0,this.ignoreDuration=!1;var t=(0,i.zf)();this.timestamp=t,this.started=t,e&&this.update(e)}return e.prototype.update=function(e){if(void 0===e&&(e={}),e.user&&(!this.ipAddress&&e.user.ip_address&&(this.ipAddress=e.user.ip_address),this.did||e.did||(this.did=e.user.id||e.user.email||e.user.username)),this.timestamp=e.timestamp||(0,i.zf)(),e.ignoreDuration&&(this.ignoreDuration=e.ignoreDuration),e.sid&&(this.sid=32===e.sid.length?e.sid:(0,r.eJ)()),void 0!==e.init&&(this.init=e.init),!this.did&&e.did&&(this.did=""+e.did),"number"==typeof e.started&&(this.started=e.started),this.ignoreDuration)this.duration=void 0;else if("number"==typeof e.duration)this.duration=e.duration;else{var t=this.timestamp-this.started;this.duration=t>=0?t:0}e.release&&(this.release=e.release),e.environment&&(this.environment=e.environment),!this.ipAddress&&e.ipAddress&&(this.ipAddress=e.ipAddress),!this.userAgent&&e.userAgent&&(this.userAgent=e.userAgent),"number"==typeof e.errors&&(this.errors=e.errors),e.status&&(this.status=e.status)},e.prototype.close=function(e){e?this.update({status:e}):"ok"===this.status?this.update({status:"exited"}):this.update()},e.prototype.toJSON=function(){return(0,s.Ce)({sid:""+this.sid,init:this.init,started:new Date(1e3*this.started).toISOString(),timestamp:new Date(1e3*this.timestamp).toISOString(),status:this.status,errors:this.errors,did:"number"==typeof this.did||"string"==typeof this.did?""+this.did:void 0,duration:this.duration,attrs:{release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent}})},e}()},312:(e,t,n)=>{"use strict";n.d(t,{_:()=>r,e:()=>i});var r="finishReason",i=["heartbeatFailed","idleTimeout","documentHidden"]},102:(e,t,n)=>{"use strict";n.d(t,{w:()=>r});var r="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__},196:(e,t,n)=>{"use strict";n.d(t,{lk:()=>y,pd:()=>v});var r=n(827),i=n(31),s=n(864),o=n(996),a=n(822),c=n(121),u=n(102),d=n(924);function l(){var e=(0,d.Z7)();if(e){var t="internal_error";u.w&&s.vF.log("[Tracing] Transaction: "+t+" -> Global error occured"),e.setStatus(t)}}var p=n(67),f=n(985);function h(){var e=this.getScope();if(e){var t=e.getSpan();if(t)return{"sentry-trace":t.toTraceparent()}}return{}}function g(e,t,n){return(0,d.wt)(t)?void 0!==e.sampled?(e.setMetadata({transactionSampling:{method:"explicitly_set"}}),e):("function"==typeof t.tracesSampler?(i=t.tracesSampler(n),e.setMetadata({transactionSampling:{method:"client_sampler",rate:Number(i)}})):void 0!==n.parentSampled?(i=n.parentSampled,e.setMetadata({transactionSampling:{method:"inheritance"}})):(i=t.tracesSampleRate,e.setMetadata({transactionSampling:{method:"client_rate",rate:Number(i)}})),r=i,((0,o.yr)(r)||"number"!=typeof r&&"boolean"!=typeof r?(u.w&&s.vF.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got "+JSON.stringify(r)+" of type "+JSON.stringify(typeof r)+"."),0):!(r<0||r>1)||(u.w&&s.vF.warn("[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got "+r+"."),0))?i?(e.sampled=Math.random()<i,e.sampled?(u.w&&s.vF.log("[Tracing] starting "+e.op+" transaction - "+e.name),e):(u.w&&s.vF.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = "+Number(i)+")"),e)):(u.w&&s.vF.log("[Tracing] Discarding transaction because "+("function"==typeof t.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),e.sampled=!1,e):(u.w&&s.vF.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)):(e.sampled=!1,e);var r,i}function m(e,t){var n=this.getClient(),i=n&&n.getOptions()||{},s=new f.Z(e,this);return(s=g(s,i,(0,r.Cl)({parentSampled:e.parentSampled,transactionContext:e},t))).sampled&&s.initSpanRecorder(i._experiments&&i._experiments.maxSpans),s}function v(e,t,n,i,s){var o=e.getClient(),a=o&&o.getOptions()||{},c=new p.zX(t,e,n,i);return(c=g(c,a,(0,r.Cl)({parentSampled:t.parentSampled,transactionContext:t},s))).sampled&&c.initSpanRecorder(a._experiments&&a._experiments.maxSpans),c}function y(){var t;(t=(0,i.EU)()).__SENTRY__&&(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction||(t.__SENTRY__.extensions.startTransaction=m),t.__SENTRY__.extensions.traceHeaders||(t.__SENTRY__.extensions.traceHeaders=h)),(0,a.wD)()&&function(){var t=(0,i.EU)();if(t.__SENTRY__){var n={mongodb:function(){return new((0,a.fj)(e,"./integrations/node/mongo").Mongo)},mongoose:function(){return new((0,a.fj)(e,"./integrations/node/mongo").Mongo)({mongoose:!0})},mysql:function(){return new((0,a.fj)(e,"./integrations/node/mysql").Mysql)},pg:function(){return new((0,a.fj)(e,"./integrations/node/postgres").Postgres)}},s=Object.keys(n).filter((function(e){return!!(0,a.Vw)(e)})).map((function(e){try{return n[e]()}catch(e){return}})).filter((function(e){return e}));s.length>0&&(t.__SENTRY__.integrations=(0,r.gz)(t.__SENTRY__.integrations||[],s))}}(),(0,c.O)("error",l),(0,c.O)("unhandledrejection",l)}e=n.hmd(e)},67:(e,t,n)=>{"use strict";n.d(t,{$F:()=>d,zX:()=>p});var r=n(827),i=n(461),s=n(864),o=n(312),a=n(102),c=n(533),u=n(985),d=1e3,l=function(e){function t(t,n,r,i){void 0===r&&(r="");var s=e.call(this,i)||this;return s._pushActivity=t,s._popActivity=n,s.transactionSpanId=r,s}return(0,r.C6)(t,e),t.prototype.add=function(t){var n=this;t.spanId!==this.transactionSpanId&&(t.finish=function(e){t.endTimestamp="number"==typeof e?e:(0,i.LU)(),n._popActivity(t.spanId)},void 0===t.endTimestamp&&this._pushActivity(t.spanId)),e.prototype.add.call(this,t)},t}(c.lh),p=function(e){function t(t,n,r,i){void 0===r&&(r=d),void 0===i&&(i=!1);var o=e.call(this,t,n)||this;return o._idleHub=n,o._idleTimeout=r,o._onScope=i,o.activities={},o._heartbeatCounter=0,o._finished=!1,o._beforeFinishCallbacks=[],n&&i&&(f(n),a.w&&s.vF.log("Setting idle transaction on scope. Span ID: "+o.spanId),n.configureScope((function(e){return e.setSpan(o)}))),o._initTimeout=setTimeout((function(){o._finished||o.finish()}),o._idleTimeout),o}return(0,r.C6)(t,e),t.prototype.finish=function(t){var n,o,c=this;if(void 0===t&&(t=(0,i.LU)()),this._finished=!0,this.activities={},this.spanRecorder){a.w&&s.vF.log("[Tracing] finishing IdleTransaction",new Date(1e3*t).toISOString(),this.op);try{for(var u=(0,r.Ju)(this._beforeFinishCallbacks),d=u.next();!d.done;d=u.next())(0,d.value)(this,t)}catch(e){n={error:e}}finally{try{d&&!d.done&&(o=u.return)&&o.call(u)}finally{if(n)throw n.error}}this.spanRecorder.spans=this.spanRecorder.spans.filter((function(e){if(e.spanId===c.spanId)return!0;e.endTimestamp||(e.endTimestamp=t,e.setStatus("cancelled"),a.w&&s.vF.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(e,void 0,2)));var n=e.startTimestamp<t;return n||a.w&&s.vF.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(e,void 0,2)),n})),a.w&&s.vF.log("[Tracing] flushing IdleTransaction")}else a.w&&s.vF.log("[Tracing] No active IdleTransaction");return this._onScope&&f(this._idleHub),e.prototype.finish.call(this,t)},t.prototype.registerBeforeFinishCallback=function(e){this._beforeFinishCallbacks.push(e)},t.prototype.initSpanRecorder=function(e){var t=this;this.spanRecorder||(this.spanRecorder=new l((function(e){t._finished||t._pushActivity(e)}),(function(e){t._finished||t._popActivity(e)}),this.spanId,e),a.w&&s.vF.log("Starting heartbeat"),this._pingHeartbeat()),this.spanRecorder.add(this)},t.prototype._pushActivity=function(e){this._initTimeout&&(clearTimeout(this._initTimeout),this._initTimeout=void 0),a.w&&s.vF.log("[Tracing] pushActivity: "+e),this.activities[e]=!0,a.w&&s.vF.log("[Tracing] new activities count",Object.keys(this.activities).length)},t.prototype._popActivity=function(e){var t=this;if(this.activities[e]&&(a.w&&s.vF.log("[Tracing] popActivity "+e),delete this.activities[e],a.w&&s.vF.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){var n=this._idleTimeout,r=(0,i.LU)()+n/1e3;setTimeout((function(){t._finished||(t.setTag(o._,o.e[1]),t.finish(r))}),n)}},t.prototype._beat=function(){if(!this._finished){var e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?(a.w&&s.vF.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this.setTag(o._,o.e[0]),this.finish()):this._pingHeartbeat()}},t.prototype._pingHeartbeat=function(){var e=this;a.w&&s.vF.log("pinging Heartbeat -> current counter: "+this._heartbeatCounter),setTimeout((function(){e._beat()}),5e3)},t}(u.Z);function f(e){if(e){var t=e.getScope();t&&t.getTransaction()&&t.setSpan(void 0)}}},533:(e,t,n)=>{"use strict";n.d(t,{L9:()=>c,lh:()=>a});var r=n(827),i=n(628),s=n(461),o=n(911),a=function(){function e(e){void 0===e&&(e=1e3),this.spans=[],this._maxlen=e}return e.prototype.add=function(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)},e}(),c=function(){function e(e){if(this.traceId=(0,i.eJ)(),this.spanId=(0,i.eJ)().substring(16),this.startTimestamp=(0,s.LU)(),this.tags={},this.data={},!e)return this;e.traceId&&(this.traceId=e.traceId),e.spanId&&(this.spanId=e.spanId),e.parentSpanId&&(this.parentSpanId=e.parentSpanId),"sampled"in e&&(this.sampled=e.sampled),e.op&&(this.op=e.op),e.description&&(this.description=e.description),e.data&&(this.data=e.data),e.tags&&(this.tags=e.tags),e.status&&(this.status=e.status),e.startTimestamp&&(this.startTimestamp=e.startTimestamp),e.endTimestamp&&(this.endTimestamp=e.endTimestamp)}return e.prototype.child=function(e){return this.startChild(e)},e.prototype.startChild=function(t){var n=new e((0,r.Cl)((0,r.Cl)({},t),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));return n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n),n.transaction=this.transaction,n},e.prototype.setTag=function(e,t){var n;return this.tags=(0,r.Cl)((0,r.Cl)({},this.tags),((n={})[e]=t,n)),this},e.prototype.setData=function(e,t){var n;return this.data=(0,r.Cl)((0,r.Cl)({},this.data),((n={})[e]=t,n)),this},e.prototype.setStatus=function(e){return this.status=e,this},e.prototype.setHttpStatus=function(e){this.setTag("http.status_code",String(e));var t=function(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}(e);return"unknown_error"!==t&&this.setStatus(t),this},e.prototype.isSuccess=function(){return"ok"===this.status},e.prototype.finish=function(e){this.endTimestamp="number"==typeof e?e:(0,s.LU)()},e.prototype.toTraceparent=function(){var e="";return void 0!==this.sampled&&(e=this.sampled?"-1":"-0"),this.traceId+"-"+this.spanId+e},e.prototype.toContext=function(){return(0,o.Ce)({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})},e.prototype.updateWithContext=function(e){var t,n,r,i,s;return this.data=null!=(t=e.data)?t:{},this.description=e.description,this.endTimestamp=e.endTimestamp,this.op=e.op,this.parentSpanId=e.parentSpanId,this.sampled=e.sampled,this.spanId=null!=(n=e.spanId)?n:this.spanId,this.startTimestamp=null!=(r=e.startTimestamp)?r:this.startTimestamp,this.status=e.status,this.tags=null!=(i=e.tags)?i:{},this.traceId=null!=(s=e.traceId)?s:this.traceId,this},e.prototype.getTraceContext=function(){return(0,o.Ce)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})},e.prototype.toJSON=function(){return(0,o.Ce)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})},e}()},985:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(827),i=n(31),s=n(996),o=n(864),a=n(911),c=n(102),u=n(533),d=function(e){function t(t,n){var r=e.call(this,t)||this;return r._measurements={},r._hub=(0,i.BF)(),(0,s.tH)(n,i.YZ)&&(r._hub=n),r.name=t.name||"",r.metadata=t.metadata||{},r._trimEnd=t.trimEnd,r.transaction=r,r}return(0,r.C6)(t,e),t.prototype.setName=function(e){this.name=e},t.prototype.initSpanRecorder=function(e){void 0===e&&(e=1e3),this.spanRecorder||(this.spanRecorder=new u.lh(e)),this.spanRecorder.add(this)},t.prototype.setMeasurements=function(e){this._measurements=(0,r.Cl)({},e)},t.prototype.setMetadata=function(e){this.metadata=(0,r.Cl)((0,r.Cl)({},this.metadata),e)},t.prototype.finish=function(t){var n=this;if(void 0===this.endTimestamp){if(this.name||(c.w&&o.vF.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),e.prototype.finish.call(this,t),!0===this.sampled){var r=this.spanRecorder?this.spanRecorder.spans.filter((function(e){return e!==n&&e.endTimestamp})):[];this._trimEnd&&r.length>0&&(this.endTimestamp=r.reduce((function(e,t){return e.endTimestamp&&t.endTimestamp?e.endTimestamp>t.endTimestamp?e:t:e})).endTimestamp);var i={contexts:{trace:this.getTraceContext()},spans:r,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:this.metadata};return Object.keys(this._measurements).length>0&&(c.w&&o.vF.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),i.measurements=this._measurements),c.w&&o.vF.log("[Tracing] Finishing "+this.op+" transaction: "+this.name+"."),this._hub.captureEvent(i)}c.w&&o.vF.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.");var s=this._hub.getClient(),a=s&&s.getTransport&&s.getTransport();a&&a.recordLostEvent&&a.recordLostEvent("sample_rate","transaction")}},t.prototype.toContext=function(){var t=e.prototype.toContext.call(this);return(0,a.Ce)((0,r.Cl)((0,r.Cl)({},t),{name:this.name,trimEnd:this._trimEnd}))},t.prototype.updateWithContext=function(t){var n;return e.prototype.updateWithContext.call(this,t),this.name=null!=(n=t.name)?n:"",this._trimEnd=t.trimEnd,this},t}(u.L9)},924:(e,t,n)=>{"use strict";n.d(t,{Z7:()=>s,rv:()=>o,vO:()=>a,wt:()=>i});var r=n(31);function i(e){var t=(0,r.BF)().getClient(),n=e||t&&t.getOptions();return!!n&&("tracesSampleRate"in n||"tracesSampler"in n)}function s(e){var t=(e||(0,r.BF)()).getScope();return t&&t.getTransaction()}function o(e){return e/1e3}function a(e){return 1e3*e}},514:(e,t,n)=>{"use strict";n.d(t,{$:()=>a,H:()=>s});var r=n(167),i=n(996);function s(e,t){try{for(var n=e,r=[],i=0,s=0,a=void 0;n&&i++<5&&!("html"===(a=o(n,t))||i>1&&s+3*r.length+a.length>=80);)r.push(a),s+=a.length,n=n.parentNode;return r.reverse().join(" > ")}catch(e){return"<unknown>"}}function o(e,t){var n,r,s,o,a,c=e,u=[];if(!c||!c.tagName)return"";u.push(c.tagName.toLowerCase());var d=t&&t.length?t.filter((function(e){return c.getAttribute(e)})).map((function(e){return[e,c.getAttribute(e)]})):null;if(d&&d.length)d.forEach((function(e){u.push("["+e[0]+'="'+e[1]+'"]')}));else if(c.id&&u.push("#"+c.id),(n=c.className)&&(0,i.Kg)(n))for(r=n.split(/\s+/),a=0;a<r.length;a++)u.push("."+r[a]);var l=["type","name","title","alt"];for(a=0;a<l.length;a++)s=l[a],(o=c.getAttribute(s))&&u.push("["+s+'="'+o+'"]');return u.join("")}function a(){var e=(0,r.V)();try{return e.document.location.href}catch(e){return""}}},61:(e,t,n)=>{"use strict";n.d(t,{w:()=>r});var r="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__},167:(e,t,n)=>{"use strict";n.d(t,{B:()=>o,V:()=>s});var r=n(822),i={};function s(){return(0,r.wD)()?n.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:i}function o(e,t,n){var r=n||s(),i=r.__SENTRY__=r.__SENTRY__||{};return i[e]||(i[e]=t())}},121:(e,t,n)=>{"use strict";n.d(t,{O:()=>g});var r,i=n(827),s=n(61),o=n(167),a=n(996),c=n(864),u=n(911),d=n(537),l=n(900),p=(0,o.V)(),f={},h={};function g(e,t){f[e]=f[e]||[],f[e].push(t),function(e){if(!h[e])switch(h[e]=!0,e){case"console":"console"in p&&c.Ow.forEach((function(e){e in p.console&&(0,u.GS)(p.console,e,(function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];m("console",{args:n,level:e}),t&&t.apply(p.console,n)}}))}));break;case"dom":!function(){if("document"in p){var e=m.bind(null,"dom"),t=w(e,!0);p.document.addEventListener("click",t,!1),p.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((function(t){var n=p[t]&&p[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,u.GS)(n,"addEventListener",(function(t){return function(n,r,i){if("click"===n||"keypress"==n)try{var s=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},o=s[n]=s[n]||{refCount:0};if(!o.handler){var a=w(e);o.handler=a,t.call(this,n,a,i)}o.refCount+=1}catch(e){}return t.call(this,n,r,i)}})),(0,u.GS)(n,"removeEventListener",(function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{var i=this.__sentry_instrumentation_handlers__||{},s=i[t];s&&(s.refCount-=1,s.refCount<=0&&(e.call(this,t,s.handler,r),s.handler=void 0,delete i[t]),0===Object.keys(i).length&&delete this.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,n,r)}})))}))}}();break;case"xhr":!function(){if("XMLHttpRequest"in p){var e=XMLHttpRequest.prototype;(0,u.GS)(e,"open",(function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this,i=t[1],s=r.__sentry_xhr__={method:(0,a.Kg)(t[0])?t[0].toUpperCase():t[0],url:t[1]};(0,a.Kg)(i)&&"POST"===s.method&&i.match(/sentry_key/)&&(r.__sentry_own_request__=!0);var o=function(){if(4===r.readyState){try{s.status_code=r.status}catch(e){}m("xhr",{args:t,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:r})}};return"onreadystatechange"in r&&"function"==typeof r.onreadystatechange?(0,u.GS)(r,"onreadystatechange",(function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return o(),e.apply(r,t)}})):r.addEventListener("readystatechange",o),e.apply(r,t)}})),(0,u.GS)(e,"send",(function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this.__sentry_xhr__&&void 0!==t[0]&&(this.__sentry_xhr__.body=t[0]),m("xhr",{args:t,startTimestamp:Date.now(),xhr:this}),e.apply(this,t)}}))}}();break;case"fetch":(0,l.m7)()&&(0,u.GS)(p,"fetch",(function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r,s={args:t,fetchData:{method:(r=t,void 0===r&&(r=[]),"Request"in p&&(0,a.tH)(r[0],Request)&&r[0].method?String(r[0].method).toUpperCase():r[1]&&r[1].method?String(r[1].method).toUpperCase():"GET"),url:v(t)},startTimestamp:Date.now()};return m("fetch",(0,i.Cl)({},s)),e.apply(p,t).then((function(e){return m("fetch",(0,i.Cl)((0,i.Cl)({},s),{endTimestamp:Date.now(),response:e})),e}),(function(e){throw m("fetch",(0,i.Cl)((0,i.Cl)({},s),{endTimestamp:Date.now(),error:e})),e}))}}));break;case"history":!function(){if((0,l.NJ)()){var e=p.onpopstate;p.onpopstate=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=p.location.href,s=r;if(r=i,m("history",{from:s,to:i}),e)try{return e.apply(this,t)}catch(e){}},(0,u.GS)(p.history,"pushState",t),(0,u.GS)(p.history,"replaceState",t)}function t(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=t.length>2?t[2]:void 0;if(i){var s=r,o=String(i);r=o,m("history",{from:s,to:o})}return e.apply(this,t)}}}();break;case"error":x=p.onerror,p.onerror=function(e,t,n,r,i){return m("error",{column:r,error:i,line:n,msg:e,url:t}),!!x&&x.apply(this,arguments)};break;case"unhandledrejection":S=p.onunhandledrejection,p.onunhandledrejection=function(e){return m("unhandledrejection",e),!S||S.apply(this,arguments)};break;default:s.w&&c.vF.warn("unknown instrumentation type:",e)}}(e)}function m(e,t){var n,r;if(e&&f[e])try{for(var o=(0,i.Ju)(f[e]||[]),a=o.next();!a.done;a=o.next()){var u=a.value;try{u(t)}catch(t){s.w&&c.vF.error("Error while triggering instrumentation handler.\nType: "+e+"\nName: "+(0,d.qQ)(u)+"\nError:",t)}}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}function v(e){return void 0===e&&(e=[]),"string"==typeof e[0]?e[0]:"Request"in p&&(0,a.tH)(e[0],Request)?e[0].url:String(e[0])}var y,_,b=1e3;function w(e,t){return void 0===t&&(t=!1),function(n){if(n&&_!==n&&!function(e){if("keypress"!==e.type)return!1;try{var t=e.target;if(!t||!t.tagName)return!0;if("INPUT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable)return!1}catch(e){}return!0}(n)){var r="keypress"===n.type?"input":n.type;(void 0===y||function(e,t){if(!e)return!0;if(e.type!==t.type)return!0;try{if(e.target!==t.target)return!0}catch(e){}return!1}(_,n))&&(e({event:n,name:r,global:t}),_=n),clearTimeout(y),y=p.setTimeout((function(){y=void 0}),b)}}}var x=null,S=null},996:(e,t,n)=>{"use strict";n.d(t,{BD:()=>a,Kg:()=>u,Qd:()=>l,Qg:()=>g,T2:()=>o,W6:()=>c,bJ:()=>i,gd:()=>h,mE:()=>m,sO:()=>d,tH:()=>y,vq:()=>f,xH:()=>p,yr:()=>v});var r=Object.prototype.toString;function i(e){switch(r.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return y(e,Error)}}function s(e,t){return r.call(e)==="[object "+t+"]"}function o(e){return s(e,"ErrorEvent")}function a(e){return s(e,"DOMError")}function c(e){return s(e,"DOMException")}function u(e){return s(e,"String")}function d(e){return null===e||"object"!=typeof e&&"function"!=typeof e}function l(e){return s(e,"Object")}function p(e){return"undefined"!=typeof Event&&y(e,Event)}function f(e){return"undefined"!=typeof Element&&y(e,Element)}function h(e){return s(e,"RegExp")}function g(e){return Boolean(e&&e.then&&"function"==typeof e.then)}function m(e){return l(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function v(e){return"number"==typeof e&&e!=e}function y(e,t){try{return e instanceof t}catch(e){return!1}}},864:(e,t,n)=>{"use strict";n.d(t,{Ow:()=>c,pq:()=>u,vF:()=>r});var r,i=n(827),s=n(61),o=n(167),a=(0,o.V)(),c=["debug","info","warn","error","log","assert"];function u(e){var t=(0,o.V)();if(!("console"in t))return e();var n=t.console,r={};c.forEach((function(e){var i=n[e]&&n[e].__sentry_original__;e in t.console&&i&&(r[e]=n[e],n[e]=i)}));try{return e()}finally{Object.keys(r).forEach((function(e){n[e]=r[e]}))}}function d(){var e=!1,t={enable:function(){e=!0},disable:function(){e=!1}};return s.w?c.forEach((function(n){t[n]=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];e&&u((function(){var e;(e=a.console)[n].apply(e,(0,i.gz)(["Sentry Logger ["+n+"]:"],t))}))}})):c.forEach((function(e){t[e]=function(){}})),t}r=s.w?(0,o.B)("logger",d):d()},628:(e,t,n)=>{"use strict";n.d(t,{$X:()=>u,Dl:()=>a,GR:()=>p,M6:()=>l,eJ:()=>o,gO:()=>d});var r=n(827),i=n(167),s=n(911);function o(){var e=(0,i.V)(),t=e.crypto||e.msCrypto;if(void 0!==t&&t.getRandomValues){var n=new Uint16Array(8);t.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var r=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return r(n[0])+r(n[1])+r(n[2])+r(n[3])+r(n[4])+r(n[5])+r(n[6])+r(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function a(e){if(!e)return{};var t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],relative:t[5]+n+r}}function c(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function u(e){var t=e.message,n=e.event_id;if(t)return t;var r=c(e);return r?r.type&&r.value?r.type+": "+r.value:r.type||r.value||n||"<unknown>":n||"<unknown>"}function d(e,t,n){var r=e.exception=e.exception||{},i=r.values=r.values||[],s=i[0]=i[0]||{};s.value||(s.value=t||""),s.type||(s.type=n||"Error")}function l(e,t){var n=c(e);if(n){var i=n.mechanism;if(n.mechanism=(0,r.Cl)((0,r.Cl)((0,r.Cl)({},{type:"generic",handled:!0}),i),t),t&&"data"in t){var s=(0,r.Cl)((0,r.Cl)({},i&&i.data),t.data);n.mechanism.data=s}}}function p(e){if(e&&e.__sentry_captured__)return!0;try{(0,s.my)(e,"__sentry_captured__",!0)}catch(e){}return!1}},822:(e,t,n)=>{"use strict";function r(){return!("undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&__SENTRY_BROWSER_BUNDLE__)&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function i(e,t){return e.require(t)}function s(t){var n;try{n=i(e,t)}catch(e){}try{var r=i(e,"process").cwd;n=i(e,r()+"/node_modules/"+t)}catch(e){}return n}n.d(t,{fj:()=>i,wD:()=>r,Vw:()=>s}),e=n.hmd(e)},911:(e,t,n)=>{"use strict";n.d(t,{Ce:()=>m,GS:()=>a,HF:()=>g,W4:()=>p,my:()=>c,pO:()=>u,sp:()=>d,u4:()=>l});var r=n(827),i=n(514),s=n(996),o=n(105);function a(e,t,n){if(t in e){var r=e[t],i=n(r);if("function"==typeof i)try{u(i,r)}catch(e){}e[t]=i}}function c(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}function u(e,t){var n=t.prototype||{};e.prototype=t.prototype=n,c(e,"__sentry_original__",t)}function d(e){return e.__sentry_original__}function l(e){return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")}function p(e){var t=e;if((0,s.bJ)(e))t=(0,r.Cl)({message:e.message,name:e.name,stack:e.stack},h(e));else if((0,s.xH)(e)){var n=e;t=(0,r.Cl)({type:n.type,target:f(n.target),currentTarget:f(n.currentTarget)},h(n)),"undefined"!=typeof CustomEvent&&(0,s.tH)(e,CustomEvent)&&(t.detail=n.detail)}return t}function f(e){try{return(0,s.vq)(e)?(0,i.H)(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}}function h(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function g(e,t){void 0===t&&(t=40);var n=Object.keys(p(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return(0,o.xv)(n[0],t);for(var r=n.length;r>0;r--){var i=n.slice(0,r).join(", ");if(!(i.length>t))return r===n.length?i:(0,o.xv)(i,t)}return""}function m(e){var t,n;if((0,s.Qd)(e)){var i={};try{for(var o=(0,r.Ju)(Object.keys(e)),a=o.next();!a.done;a=o.next()){var c=a.value;void 0!==e[c]&&(i[c]=m(e[c]))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i}return Array.isArray(e)?e.map(m):e}},537:(e,t,n)=>{"use strict";n.d(t,{gd:()=>s,qQ:()=>a});var r=n(827),i=50;function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.sort((function(e,t){return e[0]-t[0]})).map((function(e){return e[1]}));return function(e,t){var s,o,a,c;void 0===t&&(t=0);var u=[];try{for(var d=(0,r.Ju)(e.split("\n").slice(t)),l=d.next();!l.done;l=d.next()){var p=l.value;try{for(var f=(a=void 0,(0,r.Ju)(n)),h=f.next();!h.done;h=f.next()){var g=(0,h.value)(p);if(g){u.push(g);break}}}catch(e){a={error:e}}finally{try{h&&!h.done&&(c=f.return)&&c.call(f)}finally{if(a)throw a.error}}}}catch(e){s={error:e}}finally{try{l&&!l.done&&(o=d.return)&&o.call(d)}finally{if(s)throw s.error}}return function(e){if(!e.length)return[];var t=e,n=t[0].function||"",s=t[t.length-1].function||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(t=t.slice(1)),-1!==s.indexOf("sentryWrapped")&&(t=t.slice(0,-1)),t.slice(0,i).map((function(e){return(0,r.Cl)((0,r.Cl)({},e),{filename:e.filename||t[0].filename,function:e.function||"?"})})).reverse()}(u)}}var o="<anonymous>";function a(e){try{return e&&"function"==typeof e&&e.name||o}catch(e){return o}}},105:(e,t,n)=>{"use strict";n.d(t,{_c:()=>o,gt:()=>s,xv:()=>i});var r=n(996);function i(e,t){return void 0===t&&(t=0),"string"!=typeof e||0===t||e.length<=t?e:e.substr(0,t)+"..."}function s(e,t){if(!Array.isArray(e))return"";for(var n=[],r=0;r<e.length;r++){var i=e[r];try{n.push(String(i))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)}function o(e,t){return!!(0,r.Kg)(e)&&((0,r.gd)(t)?t.test(e):"string"==typeof t&&-1!==e.indexOf(t))}},900:(e,t,n)=>{"use strict";n.d(t,{K8:()=>u,NJ:()=>d,ap:()=>a,m7:()=>c,vm:()=>o});var r=n(61),i=n(167),s=n(864);function o(){if(!("fetch"in(0,i.V)()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function a(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function c(){if(!o())return!1;var e=(0,i.V)();if(a(e.fetch))return!0;var t=!1,n=e.document;if(n&&"function"==typeof n.createElement)try{var c=n.createElement("iframe");c.hidden=!0,n.head.appendChild(c),c.contentWindow&&c.contentWindow.fetch&&(t=a(c.contentWindow.fetch)),n.head.removeChild(c)}catch(e){r.w&&s.vF.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return t}function u(){if(!o())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(e){return!1}}function d(){var e=(0,i.V)(),t=e.chrome,n=t&&t.app&&t.app.runtime,r="history"in e&&!!e.history.pushState&&!!e.history.replaceState;return!n&&r}},694:(e,t,n)=>{"use strict";n.d(t,{T2:()=>o,XW:()=>i,xg:()=>s});var r=n(996);function i(e){return new o((function(t){t(e)}))}function s(e){return new o((function(t,n){n(e)}))}var o=function(){function e(e){var t=this;this._state=0,this._handlers=[],this._resolve=function(e){t._setResult(1,e)},this._reject=function(e){t._setResult(2,e)},this._setResult=function(e,n){0===t._state&&((0,r.Qg)(n)?n.then(t._resolve,t._reject):(t._state=e,t._value=n,t._executeHandlers()))},this._executeHandlers=function(){if(0!==t._state){var e=t._handlers.slice();t._handlers=[],e.forEach((function(e){e[0]||(1===t._state&&e[1](t._value),2===t._state&&e[2](t._value),e[0]=!0)}))}};try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}return e.prototype.then=function(t,n){var r=this;return new e((function(e,i){r._handlers.push([!1,function(n){if(t)try{e(t(n))}catch(e){i(e)}else e(n)},function(t){if(n)try{e(n(t))}catch(e){i(e)}else i(t)}]),r._executeHandlers()}))},e.prototype.catch=function(e){return this.then((function(e){return e}),e)},e.prototype.finally=function(t){var n=this;return new e((function(e,r){var i,s;return n.then((function(e){s=!1,i=e,t&&t()}),(function(e){s=!0,i=e,t&&t()})).then((function(){s?r(i):e(i)}))}))},e}()},461:(e,t,n)=>{"use strict";n.d(t,{LU:()=>d,k3:()=>l,lu:()=>c,zf:()=>u});var r=n(167),i=n(822);e=n.hmd(e);var s={nowSeconds:function(){return Date.now()/1e3}},o=(0,i.wD)()?function(){try{return(0,i.fj)(e,"perf_hooks").performance}catch(e){return}}():function(){var e=(0,r.V)().performance;if(e&&e.now)return{now:function(){return e.now()},timeOrigin:Date.now()-e.now()}}(),a=void 0===o?s:{nowSeconds:function(){return(o.timeOrigin+o.now())/1e3}},c=s.nowSeconds.bind(s),u=a.nowSeconds.bind(a),d=u,l=function(){var e=(0,r.V)().performance;if(e&&e.now){var t=36e5,n=e.now(),i=Date.now(),s=e.timeOrigin?Math.abs(e.timeOrigin+n-i):t,o=s<t,a=e.timing&&e.timing.navigationStart,c="number"==typeof a?Math.abs(a+n-i):t;return o||c<t?s<=c?e.timeOrigin:a:i}}()},827:(e,t,n)=>{"use strict";n.d(t,{C6:()=>i,Cl:()=>s,Ju:()=>a,Tt:()=>o,gz:()=>u,zs:()=>c});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function u(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(c(arguments[t]));return e}},131:function(e,t){var n,r;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=function(e){"use strict";if(!(globalThis.chrome&&globalThis.chrome.runtime&&globalThis.chrome.runtime.id))throw new Error("This script should only be loaded in a browser extension.");if(globalThis.browser&&globalThis.browser.runtime&&globalThis.browser.runtime.id)e.exports=globalThis.browser;else{const t="The message port closed before a response was received.",n=e=>{const n={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(n).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class r extends WeakMap{constructor(e,t=void 0){super(t),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}const i=(t,n)=>(...r)=>{e.runtime.lastError?t.reject(new Error(e.runtime.lastError.message)):n.singleCallbackArg||r.length<=1&&!1!==n.singleCallbackArg?t.resolve(r[0]):t.resolve(r)},s=e=>1==e?"argument":"arguments",o=(e,t,n)=>new Proxy(t,{apply:(t,r,i)=>n.call(r,e,...i)});let a=Function.call.bind(Object.prototype.hasOwnProperty);const c=(e,t={},n={})=>{let r=Object.create(null),u={has:(t,n)=>n in e||n in r,get(u,d,l){if(d in r)return r[d];if(!(d in e))return;let p=e[d];if("function"==typeof p)if("function"==typeof t[d])p=o(e,e[d],t[d]);else if(a(n,d)){let t=((e,t)=>function(n,...r){if(r.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${s(t.minArgs)} for ${e}(), got ${r.length}`);if(r.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${s(t.maxArgs)} for ${e}(), got ${r.length}`);return new Promise(((s,o)=>{if(t.fallbackToNoCallback)try{n[e](...r,i({resolve:s,reject:o},t))}catch(i){console.warn(`${e} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,i),n[e](...r),t.fallbackToNoCallback=!1,t.noCallback=!0,s()}else t.noCallback?(n[e](...r),s()):n[e](...r,i({resolve:s,reject:o},t))}))})(d,n[d]);p=o(e,e[d],t)}else p=p.bind(e);else if("object"==typeof p&&null!==p&&(a(t,d)||a(n,d)))p=c(p,t[d],n[d]);else{if(!a(n,"*"))return Object.defineProperty(r,d,{configurable:!0,enumerable:!0,get:()=>e[d],set(t){e[d]=t}}),p;p=c(p,t[d],n["*"])}return r[d]=p,p},set:(t,n,i,s)=>(n in r?r[n]=i:e[n]=i,!0),defineProperty:(e,t,n)=>Reflect.defineProperty(r,t,n),deleteProperty:(e,t)=>Reflect.deleteProperty(r,t)},d=Object.create(e);return new Proxy(d,u)},u=e=>({addListener(t,n,...r){t.addListener(e.get(n),...r)},hasListener:(t,n)=>t.hasListener(e.get(n)),removeListener(t,n){t.removeListener(e.get(n))}}),d=new r((e=>"function"!=typeof e?e:function(t){const n=c(t,{},{getContent:{minArgs:0,maxArgs:0}});e(n)})),l=new r((e=>"function"!=typeof e?e:function(t,n,r){let i,s,o=!1,a=new Promise((e=>{i=function(t){o=!0,e(t)}}));try{s=e(t,n,i)}catch(e){s=Promise.reject(e)}const c=!0!==s&&((u=s)&&"object"==typeof u&&"function"==typeof u.then);var u;if(!0!==s&&!c&&!o)return!1;return(c?s:a).then((e=>{r(e)}),(e=>{let t;t=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",r({__mozWebExtensionPolyfillReject__:!0,message:t})})).catch((e=>{console.error("Failed to send onMessage rejected reply",e)})),!0})),p=({reject:n,resolve:r},i)=>{e.runtime.lastError?e.runtime.lastError.message===t?r():n(new Error(e.runtime.lastError.message)):i&&i.__mozWebExtensionPolyfillReject__?n(new Error(i.message)):r(i)},f=(e,t,n,...r)=>{if(r.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${s(t.minArgs)} for ${e}(), got ${r.length}`);if(r.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${s(t.maxArgs)} for ${e}(), got ${r.length}`);return new Promise(((e,t)=>{const i=p.bind(null,{resolve:e,reject:t});r.push(i),n.sendMessage(...r)}))},h={devtools:{network:{onRequestFinished:u(d)}},runtime:{onMessage:u(l),onMessageExternal:u(l),sendMessage:f.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:f.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},g={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return n.privacy={network:{"*":g},services:{"*":g},websites:{"*":g}},c(e,h,n)};e.exports=n(chrome)}},void 0===(r=n.apply(t,[e]))||(e.exports=r)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var i=r.length-1;i>-1&&(!e||!/^http(s?):/.test(e));)e=r[i--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e+"../"})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{FunctionToString:()=>ue,InboundFilters:()=>ie});var t={};n.r(t),n.d(t,{Breadcrumbs:()=>Bt,Dedupe:()=>cn,GlobalHandlers:()=>Zt,LinkedErrors:()=>on,TryCatch:()=>Gt,UserAgent:()=>hn}),n.p;var r=n(131),i=n.n(r),s=n(827),o=n(31);function a(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=(0,o.BF)();if(r&&r[e])return r[e].apply(r,(0,s.gz)(t));throw new Error("No hub defined or "+e+" was not found on the hub, please open a bug report.")}function c(e,t){return a("captureException",e,{captureContext:t,originalException:e,syntheticException:new Error("Sentry syntheticException")})}const u=function(e,t={},n={}){h.init().then((()=>{h.get("bugReport")&&c(e,{extra:t,tags:n})}))},d=function(e,t={},n={}){h.init().then((()=>{h.get("bugReport")&&function(e,t){var n=new Error(e),r="string"!=typeof t?{captureContext:t}:void 0;a("captureMessage",e,"string"==typeof t?t:void 0,(0,s.Cl)({originalException:e,syntheticException:n},r))}(e,{extra:t,tags:n})}))},l={debounce:(e,t)=>{let n;return function(){const r=this,i=arguments;n&&clearTimeout(n),n=setTimeout((function(){e.apply(r,i),n=null}),t||1e3)}},parseJson:e=>{let t;try{t=JSON.parse(e)}catch(t){u(t,{jsonWasAnEmptyString:""===e,jsonWasUndefined:void 0===e,jsonWasNull:null===e}),g.warn("Invalid JSON: could not parse "+e)}return t},getParent:function(e,t){for(;e&&!e.matches(t);)e=e.parentElement;return e},hasParent:function(e,t){return!!l.getParent(e,t)},matchesOrHasParent:function(e,t){return e.matches(t)||l.hasParent(e,t)},getPossibleUrls:function({id:e,url:t}){return[t,`about:reader?url=${encodeURIComponent(t)}`,`https://app.getpocket.com/read/${t}`,`https://app.getpocket.com/read/${e}`,`https://getpocket.com/read/${e}`,new RegExp(`https://getpocket.com/[a-z]+/read/${e}`,"gi")]},hashCode:function(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return t>>>0},domain:function(e){const t=document.createElement("a");return t.setAttribute("href",e),t.hostname},getType:function(e){return null===e?"null":Array.isArray(e)?`Array(${e.length})`:typeof e}},p=l;const f=function(){let e={};const t={debugMode:!1,bugReport:!1,openInNewTab:!0,perPage:"50",showBadge:!0,showPageAction:!0,zoomLevel:"12px",archiveWhenOpened:!1,closeTabWhenAdded:!1,closeTabWhenRead:!1};return{init:function(){return function(){return n=this,r=void 0,o=function*(){const n=yield i().storage.local.get("settings");e=Object.assign(e,t),n&&n.settings&&(e=Object.assign(e,p.parseJson(n.settings)||{}))},new((s=void 0)||(s=Promise))((function(e,t){function i(e){try{c(o.next(e))}catch(e){t(e)}}function a(e){try{c(o.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof s?n:new s((function(e){e(n)}))).then(i,a)}c((o=o.apply(n,r||[])).next())}));var n,r,s,o}()},get:function(t){return t?e[t]:e},set:function(t,n){return e[t]=n,!0},save:function(){return i().storage.local.set({settings:JSON.stringify(e)}),!0}}}(),h=f,g=function(){const e="IMP | ";function t(){return h.init().then((function(){const e=h.get("debugMode");return!0===e?e:Promise.reject()}))}return{log:function(n){t().then((()=>{console.log(e+n)})).catch((function(){}))},warn:function(n){t().then((()=>{console.warn(e+n)})).catch((function(){}))},error:function(t){console.error(e+t)}}}(),m=function(){const e="⌟⌞⌜⌝";let t,n;function r(e){return e&&Object.keys(e).length>0?Object.keys(e).length.toString():""}function s(){g.log("(stopLoadingSpinner)"),n&&(clearInterval(n),n=null)}return{hide:function(){i().browserAction.setBadgeText({text:""})},updateCount:function(e){return new Promise((t=>{s(),h.init().then((function(){if(!0===h.get("showBadge"))if(i().browserAction.setBadgeBackgroundColor({color:"#333"}),e){const n=r(e);i().browserAction.setBadgeText({text:n.toString()}),t()}else i().storage.local.get("items").then((({items:e})=>{const n=r(p.parseJson(e)||[]);i().browserAction.setBadgeText({text:n.toString()}),t()}));else m.hide(),t()}))}))},startLoadingSpinner:function(){n||(g.log("(startLoadingSpinner) will start the spinner now"),n=setInterval((()=>{t=function(){const n=(e.indexOf(t)+1)%4;return e[n]}(),i().browserAction.setBadgeText({text:t})}),150))},flashSuccess:function(){return new Promise((e=>{setTimeout((()=>{s(),i().browserAction.setBadgeText({text:"✓"}),i().browserAction.setBadgeBackgroundColor({color:"#12bc00"}),setTimeout(m.updateCount,1500),e()}),1e3)}))},flashError:function(){return new Promise((e=>{setTimeout((()=>{s(),i().browserAction.setBadgeText({text:"!"}),i().browserAction.setBadgeBackgroundColor({color:"#ff0039"}),setTimeout(m.updateCount,1500),e()}),1e3)}))}}}(),v=m,y=function(){function e(){return new Promise(((e,t)=>{h.init().then((()=>{const n=h.get("showPageAction");g.log(`page action enabled ? ${n}`),n?e():t()}))}))}return{redraw:function(t,n){e().then((()=>{i().storage.local.get("items").then((({items:e})=>{N.contains(e,n)?y.drawEnabled(t):y.drawDisabled(t),y.show(t)}))}))},redrawAllTabs:function(){e().then((()=>{i().tabs.query({}).then((function(e){for(const t of e)t.url&&y.redraw(t.id,t.url)}))}))},drawEnabled:function(...t){e().then((()=>{t.forEach((e=>{i().pageAction.setIcon({tabId:e,path:{19:"assets/icons/page-action-enabled.svg",38:"assets/icons/page-action-enabled.svg"}}),i().pageAction.setTitle({tabId:e,title:"Mark as read"})}))}))},drawDisabled:function(...t){e().then((()=>{t.forEach((e=>{i().pageAction.setIcon({tabId:e,path:{19:"assets/icons/page-action-disabled.svg",38:"assets/icons/page-action-disabled.svg"}}),i().pageAction.setTitle({tabId:e,title:"Add to pocket"})}))}))},show:function(t){e().then((()=>{i().pageAction.show(t)}))},hideAllTabs:function(){i().tabs.query({}).then((e=>{for(const t of e)t.id&&i().pageAction.hide(t.id)}))},toggle:function(t){e().then((()=>{i().storage.local.get("items").then((({items:e})=>{const n=N.findByUrl(e,t.url);n?i().tabs.query({active:!0,currentWindow:!0}).then((([e])=>{N.markAsRead(n.id,e.id)})):N.addItem([{url:t.url,title:t.title,tabId:t.id}])}))}))}}}(),_=y,b="58817-addc87503598b7ed29e5bf72",w="unauthorized",x="user_rate_limit_reached",S="missing_permissions",A="not_found",T="timeout",k="unknown",E="generic",C="already_in_list",I=["http","https","ftp","ftps"],O=class{constructor(e,t,n){this.action=e,this.url=t,this.params=n,this.defaultHeaders={"Content-type":"application/json; charset=UTF-8","X-Accept":"application/json"}}hasErrorHeaders(e){return!!e.headers.get("X-Error")||!!e.headers.get("X-Error-Code")}buildErrorObject(e){const t={url:this.url,httpCode:e.status,xErrorHeader:e.headers.get("X-Error"),xErrorCodeHeader:e.headers.get("X-Error-Code")};switch(e.status){case 200:g.log("200: request was succesful but contains errors");break;case 401:g.error("401: unauthorized"),t.error=w;break;case 403:{const n=e.headers.get("X-Limit-User-Remaining");if(n&&0===n){const n=e.headers.get("X-Limit-User-Reset");g.error(`403: access_denied (rate limit), reset in ${n} seconds`),t.error=x,t.resetDelay=n}else g.error("403: access_denied (missing permissions)"),t.error=S;break}case 404:g.error("404: trying to reach a non-existing URL"),t.error=A;break;case 504:g.error("504: timeout"),t.error=T;break;default:g.error(`${e.status} http error`),t.error=k}return t}handleSuccesfulResponse(e){const t=e.json();return g.log(`(Request.fetch) Response OK, received data : ${JSON.stringify(t)}`),t}handleFailedResponse(e,t){const n=this.buildErrorObject(e);return g.error(`${t}: ${JSON.stringify(n)}`),d(t,null,n),browser.runtime.sendMessage(n),n}fetch(){return new Promise(((e,t)=>{fetch(this.url,{method:this.action,headers:this.defaultHeaders,body:JSON.stringify(this.params)}).then((n=>{if(g.log(`(Request.fetch) response for ${this.url} - ${n.status}`),n.ok)if(this.hasErrorHeaders(n)){const e=this.handleFailedResponse(n,"(Request.fetch) HTTP response OK but with error headers");t(e)}else{const t=this.handleSuccesfulResponse(n);e(t)}else{const e=this.handleFailedResponse(n,"(Request.fetch) HTTP response not OK");t(e)}})).catch((e=>{u(new Error("(Request.fetch): promise rejected"),e),g.error("(Request.fetch) error while reaching the server or processing the response");const n={error:E};browser.runtime.sendMessage(n),t(n)}))}))}},L=class{constructor(e){this.accessToken=e}add(e){g.log("(PocketApiRequester.add)");const t={consumer_key:b,access_token:this.accessToken,url:e.url,title:e.title};return new O("POST","https://getpocket.com/v3/add",t).fetch()}addBatch(e){g.log("(PocketApiRequester.addBatch)");const t={consumer_key:b,access_token:this.accessToken,actions:e.map((e=>({action:"add",url:e.url,title:e.title})))};return new O("POST","https://getpocket.com/v3/send",t).fetch()}archive(e){g.log("(PocketApiRequester.archive)");const t={consumer_key:b,access_token:this.accessToken,actions:[{action:"archive",item_id:e}]};return new O("POST","https://getpocket.com/v3/send",t).fetch()}delete(e){g.log("(PocketApiRequester.delete)");const t={consumer_key:b,access_token:this.accessToken,actions:[{action:"delete",item_id:e}]};return new O("POST","https://getpocket.com/v3/send",t).fetch()}favorite(e){g.log("(PocketApiRequester.favorite)");const t={consumer_key:b,access_token:this.accessToken,actions:[{action:"favorite",item_id:e}]};return new O("POST","https://getpocket.com/v3/send",t).fetch()}unfavorite(e){g.log("(PocketApiRequester.unfavorite)");const t={consumer_key:b,access_token:this.accessToken,actions:[{action:"unfavorite",item_id:e}]};return new O("POST","https://getpocket.com/v3/send",t).fetch()}update(e,{title:t,tags:n=[],previousTags:r=[],url:i,created_at:s}){g.log(`(PocketApiRequester.update) ${e} - ${t} - ${n} - ${i}`);const o=[{action:"add",item_id:e,title:t,url:i,time:s}],a=n.filter((e=>!r.includes(e))),c=r.filter((e=>!n.includes(e)));a.length>0&&o.push({action:"tags_add",item_id:e,tags:a}),c.length>0&&o.push({action:"tags_remove",item_id:e,tags:c});const u={consumer_key:b,access_token:this.accessToken,actions:o};return new O("POST","https://getpocket.com/v3/send",u).fetch()}};var P,R,q;!function(e){e[e.closeWhenAdded=0]="closeWhenAdded",e[e.closeWhenRead=1]="closeWhenRead"}(P||(P={})),function(e){e[e.archive=0]="archive",e[e.delete=1]="delete"}(R||(R={})),function(e){e.toggle="toggle-page-status",e.openPopup="_execute_browser_action",e.openFirstItem="open-first-item",e.openRandomItem="open-random-item"}(q||(q={}));const F=function(){let e=null,t=null;function n(n){const r=n?p.hashCode(n):0;return g.log(`(Items.parseItems) checksum: "${e}"; new: "${r}"`),r!=e&&(g.log("(Items.parsedItems) checksum changed, parse the items"),e=r,t=p.parseJson(n)),t||[]}function r(e,t,n){g.log("(Items.removeItem) id to remove: "+e),v.startLoadingSpinner(),i().storage.local.get(["access_token","items"]).then((({access_token:r,items:s})=>{const a=new L(r);(t==R.archive?a.archive(e):a.delete(e)).then((r=>{const a=p.parseJson(s)||[],c=a.findIndex((t=>t.id===e)),u=a[c];if(c>=0){g.log(`(Items.removeItem) item ${e} has been found and removed`),a.splice(c,1),i().storage.local.set({items:JSON.stringify(a)});const r=t==R.archive?"marked-as-read":"deleted";i().runtime.sendMessage({action:r,id:e}).catch((e=>g.warn(`'action: ${r}' message could not be delivered: ${e}`))),v.flashSuccess().then((()=>{n&&i().tabs.get(n).then((e=>{const t=p.getPossibleUrls(u).filter((e=>"string"==typeof e));e.url&&t.includes(e.url)&&o(e.id,P.closeWhenRead)})),g.log("(Items.removeItem) item removed, update matching pageActions");const e=p.getPossibleUrls(u).filter((e=>"string"==typeof e));i().tabs.query({url:e}).then((e=>{const t=e.map((e=>e.id));_.drawDisabled(...t)}))}))}else g.warn(`(Items.removeItem) item ${e} could not be found!`),v.updateCount()})).catch((e=>{u(e),g.error(`(Items.removeItem) Error while removing item: ${e}`),v.flashError()}))}))}function s(e,t){g.log(`(Items.setFavorite) action='${t}'`),i().storage.local.get(["access_token","items"]).then((({access_token:n,items:r})=>{v.startLoadingSpinner();const s=new L(n);("favorite"===t?s.favorite(e):s.unfavorite(e)).then((n=>{const s=p.parseJson(r)||[];s.find((t=>t.id==e)).fav="favorite"===t?"1":"0",i().storage.local.set({items:JSON.stringify(s)});const o=`${t}d`;i().runtime.sendMessage({action:o,id:e}).catch((e=>g.warn(`'action: ${o}' message could not be delivered: ${e}`))),v.flashSuccess()})).catch((e=>{u(e),g.error(`(Items.setFavorite) Error for action ${t} : ${e}`),v.flashError()}))}))}function o(e,t){h.init().then((()=>{let n;switch(t){case P.closeWhenAdded:n=h.get("closeTabWhenAdded");break;case P.closeWhenRead:n=h.get("closeTabWhenRead");break;default:return void u(new Error(`closeTabsIfNeeded called with unknown event ${t}`))}n&&setTimeout((()=>{i().tabs.remove(e).then((()=>{g.log(`(Items.closeTabsIfNeeded) succesfully closed the tabs ${e}`)})).catch((t=>{g.warn(`(Items.closeTabsIfNeeded) could not close all the tabs ${e}`),g.warn(`(Items.closeTabsIfNeeded) Error: ${t}`),u(t)}))}),100)}))}return{formatFetchedPocketItemForStorage:function(e){return{id:e.item_id,title:e.given_title||e.resolved_title,url:e.given_url||e.resolved_url,fav:e.favorite,created_at:e.time_added,updated_at:e.time_updated,tags:Object.keys(e.tags||{})}},formatPocketItemForDebug:function(e){return{id:e.item_id,status:e.status,favorite:e.favorite,timeAdded:e.time_added,timeUpdated:e.time_updated,hasGivenTitle:!!e.given_title,hasResolvedTitle:!!e.resolved_title,hasGivenUrl:!!e.given_url,hasResolvedUrl:!!e.resolved_url,hasTags:Object.keys(e.tags||{}).length>0}},filter:function(e,t,r){return g.log(`(Items.filter) query=${t}, currentUrl=${r}`),n(e).filter((e=>{let n=!0;return r&&(n=n&&!F.matches(e,r)),t&&(n=n&&function(e,t){const n=t.toLowerCase(),r=n.includes("is:faved"),i=n.includes("is:unfaved"),s=n.includes("is:tagged"),o=n.includes("is:untagged"),a=n.replace(/is:(faved|unfaved|tagged|untagged)/g,"").trim();return function(e,t,n){return t?"1"===e.fav:!n||"0"===e.fav||!e.fav}(e,r,i)&&function(e,t,n){return t?e.tags&&e.tags.length>0:!n||!e.tags||0===e.tags.length}(e,s,o)&&function(e,t){if(""===t)return!0;const n=I.join("|"),r=new RegExp(`^(${n})://(www.)?`,"gi"),i=(e.url.replace(r,"")||"").toLowerCase(),s=(e.title||"").toLowerCase(),o=e.tags?e.tags.map((e=>e.toLowerCase())):[];return s.includes(t)||i.includes(t)||o.some((e=>e.includes(t)))}(e,a)}(e,t)),n}))},contains:function(e,t){return n(e).some((e=>F.matches(e,t)))},findByUrl:function(e,t){return n(e||"").find((e=>F.matches(e,t)))},findById:function(e,t){return n(e||"").find((e=>e.id===t))},paginate:function(e,t,n){const r=e.length,i=e.sort(((e,t)=>t.created_at-e.created_at));if(!n||0===r)return i;const s=Math.ceil(r/n);if(!(t<=0||t>s)){const e=(t-1)*n,r=t*n-1;return i.slice(e,r+1)}g.warn(`Could not get page ${t} (${r} items, asked ${n} per page)`)},favoriteItem:function(e){s(e,"favorite")},unfavoriteItem:function(e){s(e,"unfavorite")},updateItem:function(e,t){g.log(`(Items.updateItem) Item '${e}'`),i().storage.local.get(["access_token","items"]).then((({access_token:n,items:r})=>{v.startLoadingSpinner(),new L(n).update(e,t).then((n=>{const s=p.parseJson(r)||[],o=s.find((t=>t.id==e));o.title=t.title,o.tags=t.tags,i().storage.local.set({items:JSON.stringify(s)}),i().runtime.sendMessage({action:"updated",id:e}).catch((e=>g.warn(`'action: updated' message could not be delivered: ${e}`))),v.flashSuccess()})).catch((e=>{u(e),g.error(`(Items.updateItem) Error for update : ${e}`),v.flashError()}))}))},addItem:function(e){g.log(`(Items.addItem) Trying to add ${e.length} items to Pocket`),i().storage.local.get(["access_token","items"]).then((({access_token:t,items:n})=>{const r=e.filter((e=>!F.contains(n,e.url)));if(0===r.length)return void i().runtime.sendMessage({notice:C}).catch((e=>g.warn(`'notice: ${C}' message could not be delivered: ${e}`)));v.startLoadingSpinner();const s=new L(t);(1===r.length?s.add(r[0]):s.addBatch(r)).then((e=>{const t=p.parseJson(n)||[],s=(a=e,1===r.length?a.item?[a.item]:[a]:a.action_results);var a;const c=function(e,t){return e.map((e=>{if(!e.title){const n=t.find((t=>e.given_url==t.url));e.title=n&&n.title||"—"}return e}))}(s,r);!function(e,t,n){if(e!=n.length){const r=Object.keys(t).map((e=>{const n=t[e];return`${e}: ${p.getType(n)}`})),i={action:1===e?"add":"addBatch",itemsToAdd:e,addedItems:n.length,nonNullAddedItems:n.filter(Boolean).length,responseStatus:t.status,responseKeys:r};u(new Error("addItem: 200 response but unexpected number of items"),i)}}(r.length,e,s),c.forEach((e=>{var n;t.push({id:(n=e).item_id,title:n.title,url:n.given_url,tags:[],fav:"0",created_at:Date.now()/1e3|0,updated_at:Date.now()/1e3|0})})),i().storage.local.set({items:JSON.stringify(t)});const d=s.map((e=>e.item_id));i().runtime.sendMessage({action:"added-item",id:d}).catch((e=>g.warn(`'action: added-item, id: ${d}' message could not be delivered: ${e}`))),v.flashSuccess().then((()=>{o(r.map((e=>e.tabId)).filter(Boolean),P.closeWhenAdded),g.log("(Items.addItem) new items added, update matching pageActions");const e=c.flatMap((e=>p.getPossibleUrls({id:e.id,url:e.given_url}).filter((e=>"string"==typeof e))));i().tabs.query({url:e}).then((e=>{const t=e.map((e=>e.id));_.drawEnabled(...t)}))}))})).catch((e=>{u(e),g.error(`(Items.addItem) Error while adding item: ${e}`),v.flashError()}))}))},markAsRead:function(e,t){r(e,R.archive,t)},deleteItem:function(e,t){r(e,R.delete,t)},openItem:(e,...t)=>{return n=this,r=[e,...t],o=function*(e,t=!1,n){yield h.init();const r=h.get("openInNewTab")||t,s=h.get("archiveWhenOpened"),o={url:e.url};if(r)i().tabs.create(o);else{const e=n&&(yield n());e?i().tabs.update(e.id,o):i().tabs.update(o)}s&&F.markAsRead(e.id)},new((s=void 0)||(s=Promise))((function(e,t){function i(e){try{c(o.next(e))}catch(e){t(e)}}function a(e){try{c(o.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof s?n:new s((function(e){e(n)}))).then(i,a)}c((o=o.apply(n,r||[])).next())}));var n,r,s,o},openRandom:function(e=""){const t=i().tabs.query({active:!0,currentWindow:!0}).then((([e])=>e));i().storage.local.get("items").then((({items:n})=>{const r=F.filter(n,e);if(r.length>0){const e=r[Math.floor(Math.random()*r.length)];F.openItem(e,void 0,(()=>t))}}))},openFirst:function(e=""){i().storage.local.get("items").then((({items:t})=>{const n=F.filter(t,e);if(n.length>0){const e=n.sort(((e,t)=>t.created_at-e.created_at))[0];F.openItem(e)}}))},areSame:function(e,t){const n=e.title===t.title,r=(e.tags||[]).sort(),i=(t.tags||[]).sort(),s=JSON.stringify(r)===JSON.stringify(i);return n&&s},matches:function(e,t){return p.getPossibleUrls(e).some((e=>"string"==typeof e?e===t:e instanceof RegExp?e.test(t):(d("possibleUrl is neither a string nor a regexp",{typeofUrl:typeof e,urlWasAnArray:Array.isArray(e),urlWasAnObject:"object"==typeof e&&!Array.isArray(e),urlWasUndefined:void 0===e,urlWasNull:null===e}),!1)))}}}(),N=F,j=function(){const e="https://oauth.pabuisson.com";return{authenticate:function(){return g.log("(Authentication.authenticate) Starting the authentication process"),new Promise(((t,n)=>{const r={consumer_key:b,redirect_uri:"https://oauth.pabuisson.com"};g.log("(Authentication.authenticate) Requesting the requestToken"),new O("POST","https://getpocket.com/v3/oauth/request",r).fetch().then((r=>{g.log("(Authentication.authenticate) Got the requestToken, open an authorize tab");const i=r.code,s=`https://getpocket.com/auth/authorize?request_token=${i}&redirect_uri=${e}`;browser.tabs.create({url:s}).then((r=>{browser.tabs.onUpdated.addListener(((r,s,o)=>{"complete"==s.status&&0===o.url.indexOf(e)&&(g.log("(Authentication.authenticate) Authorize tab loaded correctly"),browser.tabs.remove(r),function(e){return g.log("(Authentication.authenticateStep2) Request API authorize to finish authentication"),new O("POST","https://getpocket.com/v3/oauth/authorize",{consumer_key:b,code:e}).fetch().then((function(e){return g.log("(Authentication.authenticateStep2) Got the access_token, we are all good!"),browser.storage.local.set({access_token:e.access_token}),!0}))}(i).then(t).catch(n))}))}))}))}))},isAuthenticated:function(){return new Promise(((e,t)=>{browser.storage.local.get("access_token").then((({access_token:n})=>{n?(g.log("(Authentication.isAuthenticated) access_token present, authenticated"),e(n)):(g.warn("(Authentication.isAuthenticated) access_token missing, not authenticated"),t())}))}))}}}(),M=function(){const e=document.querySelector(".main-loader");return{enable:function(){e&&e.classList.add("loading")},disable:function(t=!0){setTimeout((function(){e&&e.classList.remove("loading")}),t?0:1e3)}}}(),D=function(){const e=document.querySelector(".pagination"),t=document.querySelector(".pagination-next"),n=document.querySelector(".pagination-page-selector"),r=document.querySelector(".pagination-previous");function i(){browser.storage.local.get("display").then((({display:e})=>{const t=p.parseJson(e)||{},n=e?t.currentPage:1;g.log(`(PopupPagination) Load previous page: from ${n} to ${n-1}`),Q.drawList({page:n-1}),Q.scrollToTop()}))}function s(){browser.storage.local.get("display").then((({display:e})=>{const t=p.parseJson(e)||{},n=e?t.currentPage:1;g.log(`(PopupPagination) Load next page: from ${n} to ${n+1}`),Q.drawList({page:n+1}),Q.scrollToTop()}))}function o(e){const t=parseInt(e.target.value,10);g.log(`(PopupPagination) Load page ${t}`),Q.drawList({page:t}),Q.scrollToTop()}function a(e,t){e.classList.add("disabled"),e.removeEventListener("click",t)}function c(e,t){e.classList.remove("disabled"),e.addEventListener("click",t)}return{setupEventListeners:function(){g.log("(PopupPagination.setupEventListeners)"),r.addEventListener("click",i),t.addEventListener("click",s),n.addEventListener("change",o)},setPaginationVisibility:function(){h.init().then((function(){h.get("perPage")||(e.style.display="none")}))},updatePaginationUI:function(e,o,u){!function(e,t){if(!e)return;for(;n.firstChild;)n.removeChild(n.firstChild);const r=Math.ceil(t/e)||1;for(let e=0;e<r;e++){const t=document.createElement("option");t.setAttribute("value",e+1),t.innerText=`${e+1} / ${r}`,n.appendChild(t)}n.style.display="inline-block"}(o,u),function(e){n.value=e}(e),function(e,n,o){const u=Math.ceil(o/n);0===u||1===u?(g.log('(PopupPagination.updateButtonsState) Only 1 page, disable "next" & "previous" links'),a(r,i),a(t,s)):(c(r,i),c(t,s),1===e&&(g.log(`(PopupPagination.updateButtonsState) Page 1/${u}, disable "previous" link`),a(r,i)),e===u&&(g.log(`(PopupPagination.updateButtonsState) Page ${e}/${u}, disable "next" link`),a(t,s)))}(e,o,u)}}}(),$=function(){const e=document.querySelector(".filter-items"),t=document.querySelector(".filter-faved"),n=document.querySelector(".clear-search-box");function r(){const t=e.value.toLowerCase();""!==t?(M.enable(),n.classList.remove("hidden")):n.classList.add("hidden"),browser.storage.local.get("display").then((({display:e})=>{const n=p.parseJson(e)||{},r=Object.assign({},n,{query:t});browser.storage.local.set({display:JSON.stringify(r)})})),g.log(`(onFilterChanged) will draw list with query=${t}`),Q.drawList({page:1,query:t}),$.updateFavoriteFilterIcon(),M.disable(!0)}return{getFavoriteFilterState:function(){const t=e.value;return t.includes("is:faved")?0:t.includes("is:unfaved")?1:2},setValue:function(t){g.log(`(PopupTopFilter.setValue) set search query to ${t}`),e.value=t||"",""===e.value?n.classList.add("hidden"):n.classList.remove("hidden")},updateFavoriteFilterIcon:function(){const e=$.getFavoriteFilterState();t.classList.remove("on","off"),0==e?(t.classList.add("on"),t.classList.remove("off")):1==e&&(t.classList.add("off"),t.classList.remove("on"))},focusSearchField:function(){setTimeout((function(){e.focus()}),200)},setupEventListeners:function(){n.addEventListener("click",(()=>{e.value="",t.apply(e),$.focusSearchField()}));const t=p.debounce(r,200);e.addEventListener("input",t)}}}(),B=$,U=function(){const e=document.querySelector(".add-current"),t=document.querySelector(".filter-items"),n=document.querySelector(".open-settings"),r=document.querySelector(".random-item"),i=document.querySelector(".retrieve-items"),s=document.querySelector(".filter-faved");return{setupEventListeners:function(){i.addEventListener("click",(function(){M.enable(),browser.runtime.sendMessage({action:"retrieve-items",force:!0})})),s.addEventListener("click",(function(){const e=B.getFavoriteFilterState(),n=t.value;let r="";0==e?(r=n.replace("is:faved","is:unfaved").trim(),s.classList.add("off"),s.classList.remove("on")):1==e?(r=n.replace("is:unfaved","").trim(),s.classList.remove("on","off")):2==e&&(r=`${n} is:faved`,s.classList.add("on"),s.classList.remove("off")),B.setValue(r),browser.storage.local.get("display").then((({display:e})=>{const t=p.parseJson(e)||{},n=Object.assign({},t,{query:r});browser.storage.local.set({display:JSON.stringify(n)})})),Q.drawList({page:1,query:r})})),e.addEventListener("click",(function(){M.enable(),browser.tabs.query({active:!0,currentWindow:!0}).then((([e])=>{const t={action:"add-item",url:e.url,title:e.title,tabId:e.id};browser.runtime.sendMessage(t)}))})),r.addEventListener("click",(()=>{browser.runtime.sendMessage({action:"random-item",query:t.value})})),n.addEventListener("click",(()=>{setTimeout(window.close,100),browser.runtime.openOptionsPage()}))}}}(),H=function(){function e(t,n,r=2,i=0){const s=(t=t||H.getCurrentVersion()).split(".")[i],o=n.split(".")[i];return s>o||!(s<o)&&i<r&&i<2&&e(t,n,r,i+1)}return{getCurrentVersion:function(){return browser.runtime.getManifest().version},forceResyncVersion:function(){return"0.12.0"},isMajorOrMinorUpdate:function(t,n){return e(t,n,1)},mustShowUpdateNotification:function(e){if("update"!==e.reason)return!1;const t=H.getCurrentVersion();return H.isMajorOrMinorUpdate(t,e.previousVersion)},mustTriggerFullResync:function(t){return!!t&&!!H.forceResyncVersion()&&e(H.forceResyncVersion(),t)}}}(),z={ERROR:"error",NOTICE:"notice",SUCCESS:"success"},J=function(){const e=document.querySelector(".flash-overlay");return{isVisible:function(){return!!e&&!e.classList.contains("hidden")},isNeedResyncMessageDisplayed:function(){return J.isVisible()&&e.innerHTML.includes("refresh")},show:(t,n,r)=>{e&&(e.classList.remove(...Object.values(z)),e.classList.add(n),e.textContent=t,e.classList.remove("hidden"),r&&setTimeout((()=>{e.classList.add("hidden")}),r))},showNeedResyncMessage:function(){J.show("\n        This version of IMP needs to refresh all your items.\n        To make sure everythings works smoothly,\n        <strong>please click the 🔄 icon above this message</strong>\n      ",z.ERROR)}}}();const W={currentPage:1,query:""},V=function(){function e(){return e=this,t=void 0,r=function*(){g.log("(PopupUI.setupAuthenticatedUI)"),document.querySelector(".authentication").classList.add("hidden"),document.querySelector(".authenticated").classList.remove("hidden"),D.setPaginationVisibility(),D.setupEventListeners(),U.setupEventListeners(),B.setupEventListeners(),Q.setupEventListeners();const{display:e}=yield browser.storage.local.get("display"),t=Date.now()/1e3|0,n=p.parseJson(e)||W,r=n.displayedAt,i=Object.assign({},n);r&&t-r>300&&(g.log("(PopupUI.setupAuthenticatedUI) time elapsed="+(t-r)),g.log("(PopupUI.setupAuthenticatedUI) reset page to 1 and filter to ''"),Object.assign(i,W)),B.setValue(i.query),B.updateFavoriteFilterIcon(),B.focusSearchField(),Object.assign(i,{displayedAt:t}),g.log("(PopupUI.setupAuthenticatedUI) Save display variable to local storage: "+JSON.stringify(i)),yield browser.storage.local.set({display:JSON.stringify(i)}),Q.drawList()},new((n=void 0)||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}));var e,t,n,r}return{inSidebar:()=>window.location.search.includes("ui=sidebar"),inPopup:()=>window.location.search.includes("ui=popup"),setup:function(){h.init().then((function(){const e=h.get("zoomLevel");document.documentElement.style.fontSize=e})),j.isAuthenticated().then((()=>{e(),browser.storage.local.get(["access_token","lastFullSyncAtVersion"]).then((({access_token:e,lastFullSyncAtVersion:t})=>{e&&H.mustTriggerFullResync(t)&&J.showNeedResyncMessage()})),setTimeout((()=>{M.enable(),browser.runtime.sendMessage({action:"retrieve-items",force:!1})}),1e3)}),(()=>{!function(){g.log("(PopupUI.setupUnauthenticatedUI)");const e=document.querySelector(".authentication button"),t=document.querySelector(".authentication .signup");document.querySelector(".authentication").classList.remove("hidden"),document.querySelector(".authenticated").classList.add("hidden"),e.addEventListener("click",(()=>{window.close(),browser.runtime.sendMessage({action:"authenticate"})})),t.addEventListener("click",(()=>{setTimeout((()=>{window.close()}),200)}))}()}))}}}(),G=function(){function e(e){return p.getParent(e,".item").querySelectorAll(".tags .tag")}function t(e){return p.getParent(e,".item").querySelector(".new-tag")}function n(t){return 0===e(t).length}return{focusNextTag:function(t){if(n(t.target))return;const r=e(t.target),i=Array.from(r).findIndex((e=>e==document.activeElement)),s=-1===i,o=i===r.length-1;s||o?r[0].focus():r[i+1].focus()},focusPreviousTag:function(t){if(n(t.target))return;const r=e(t.target),i=Array.from(r).findIndex((e=>e==document.activeElement));-1===i||0===i?r[r.length-1].focus():r[i-1].focus()},appendTagToItem:function(e){if(""===e.target.value)return;const n=p.getParent(e.target,".item"),r=document.createElement("span");r.classList.add("tag"),r.setAttribute("tabIndex",-1),r.textContent=e.target.value;const i=t(e.target);i.value="",e.target.dataset.previousValue="",n.querySelector(".tags").insertBefore(r,i)},deleteLastTag:function(t){if(n(t.target))return;const r=e(t.target),i=r[r.length-1];i.parentNode.removeChild(i)},deleteFocusedTagAndFocusPreviousOne:function(r){if(n(r.target))return;const i=e(r.target),s=Array.from(i).findIndex((e=>e==document.activeElement)),o=i[s];o.parentNode.removeChild(o),n(r.target)?t(r.target).focus():0===s?i[1].focus():i[s-1].focus()}}}(),X=function(){let e="";return{storeSelection:function(t){e=t},hasChanged:function(t){return""!==t&&t!==e},isInProgress:function(){return!!window.getSelection().toString()}}}();var Y=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};const K=function(){const e="current-page",t=document.querySelector(".search-no-results"),n=document.querySelector(".onboarding-never-fetched"),r=document.querySelector(".items-list"),i=document.querySelector("#item-template"),s={itemsToCreate:void 0,createdItemsCount:void 0,startsAt:void 0};function o(){const e=void 0!==s.itemsToCreate&&void 0!==s.createdItemsCount,t=s.createdItemsCount===s.itemsToCreate.length;return e&&t}function a(e,t=!1){browser.runtime.sendMessage({action:"read-item",item:e,openInNewTab:t})}function c(t,n={current:!1}){const r=i.content.cloneNode(!0),s=r.querySelector("li");1==t.fav&&s.classList.add("favorite"),n.current&&s.classList.add(e),s.dataset.id=t.id,s.dataset.url=t.url,s.dataset.fav=t.fav,s.getElementsByClassName("title")[0].textContent=t.title||" — ";const o=s.getElementsByClassName("favicon")[0],a=s.getElementsByClassName("tab-icon")[0];var c;if(n.current?(o.style.display="none",a.setAttribute("data","../assets/images/tab-icon.svg")):(a.style.display="none",o.setAttribute("src",(c=t.url,`https://external-content.duckduckgo.com/ip3/${p.domain(c)}.ico`))),s.getElementsByClassName("url")[0].textContent=function(e){const t=I.join("|"),n=new RegExp(`^(${t})://(www.)?`,"gi");return e.replace(n,"")}(t.url),t.tags&&t.tags.length>0){const e=s.getElementsByClassName("tags")[0];for(const n of t.tags){const t=document.createElement("span");t.className="tag";const r=document.createElement("i");r.classList.add("icon","ion-md-pricetag"),t.appendChild(r),t.appendChild(document.createTextNode(n)),e.appendChild(t)}}return r}function u(e){const t=document.createDocumentFragment();for(let n=0;n<e.length;n++){const r=c(e[n]);t.appendChild(r)}return t}function d(){return Y(this,void 0,void 0,(function*(){g.log("(PopupItemList.buildBatch) build a new batch of 200 items"),0===s.createdItemsCount&&(s.startsAt=new Date);for(let e=0;e<200&&1!=o();e++){const e=s.itemsToCreate[s.createdItemsCount];r.appendChild(c(e)),s.createdItemsCount++}0==o()?(g.log("Will request an animation frame for another run of the buildBatch method"),requestAnimationFrame(d)):(g.log(`All items have been built in ${new Date-s.startsAt}ms`),s.startsAt=void 0)}))}function l(e){if(p.matchesOrHasParent(e.target,"input.title")||p.matchesOrHasParent(e.target,".submit-edit"))"Enter"===e.key&&m(e);else if(p.matchesOrHasParent(e.target,"input.new-tag"))switch(e.key){case"Enter":""===e.target.value?m(e):G.appendTagToItem(e);break;case"Backspace":""==e.target.dataset.previousValue?G.deleteLastTag(e):e.target.dataset.previousValue=e.target.value;break;case"ArrowLeft":""===e.target.value&&G.focusPreviousTag(e);break;case"ArrowRight":""===e.target.value&&G.focusNextTag(e);break;default:e.target.dataset.previousValue=e.target.value}else if(p.matchesOrHasParent(e.target,"span.tag"))switch(e.key){case"Backspace":G.deleteFocusedTagAndFocusPreviousOne(e);break;case"ArrowLeft":G.focusPreviousTag(e);break;case"ArrowRight":G.focusNextTag(e)}else p.matchesOrHasParent(e.target,".cancel-edit")&&"Enter"===e.key&&f(e)}function f(t){const n=p.getParent(t.target,".item"),r=n.dataset.id;browser.storage.local.get("items").then((({items:t})=>{const i=N.findById(t,r);g.log(`(PopupItemList.cancelEdition) Cancel editing item ${r}`);const s=c(i,{current:n.classList.contains(e)});n.parentNode.replaceChild(s,n)}))}function m(t){const n=p.getParent(t.target,".item"),r=n.dataset.id,i=n.querySelector("input.title").value,s=n.querySelectorAll(".tags .tag"),o=Array.from(s).map((e=>e.textContent.trim())),a=[...new Set(o)];browser.storage.local.get("items").then((({items:t})=>{const s=N.findById(t,r);N.areSame(s,{title:i,tags:a})||(g.log(`(PopupItemList.submitEdition) Update item ${r}`),browser.runtime.sendMessage({action:"update-item",id:s.id,title:i,tags:a,previousTags:s.tags,url:s.url,created_at:s.created_at}));const o=c(Object.assign(Object.assign({},s),{title:i,tags:a}),{current:n.classList.contains(e)});n.parentNode.replaceChild(o,n)}))}function v(e,i){i>0?(n.classList.add("hidden"),t.classList.add("hidden"),r.classList.remove("hidden")):e?(n.classList.add("hidden"),t.classList.remove("hidden"),r.classList.add("hidden")):(n.classList.remove("hidden"),t.classList.add("hidden"),r.classList.add("hidden"))}function y(e,t){return(p.parseJson(e)||[]).find((e=>N.matches(e,t)))}function _(t){g.log(`(PopupItemList.updateCurrentItem) ${t}`);const n=r.querySelector(`.${e}`),i=(s=t,g.log(`(buildCurrentItem) adding current item at the top of the list / ${s.url}`),c(s,{current:!0}));var s;n?n.dataset.id!==t.id&&r.replaceChild(i,n):r.insertBefore(i,r.firstChild)}return{setupEventListeners:function(){document.addEventListener("keyup",l),r.addEventListener("mouseup",(function(t){if(!t.target)return;if(t.detail>1)return;if(t.preventDefault(),X.hasChanged(window.getSelection().toString()))return void X.storeSelection(window.getSelection().toString());const n=p.getParent(t.target,".item"),r=n.dataset.id,i={id:r,url:n.dataset.url};if(p.matchesOrHasParent(t.target,".delete-action"))0===t.button&&(g.log(`(PopupItemList.eventListener) Clicked delete for item ${r}`),function(e){const t=document.querySelector(`.item[data-id='${e}']`);t.classList.add("removing"),t.querySelector(".delete-action .trash").classList.add("hidden"),t.querySelector(".delete-action .loader").classList.remove("hidden"),browser.tabs.query({active:!0,currentWindow:!0}).then((([t])=>{browser.runtime.sendMessage({action:"delete-item",id:e,tabId:t.id})}))}(r));else if(p.matchesOrHasParent(t.target,".tick-action"))0===t.button&&(g.log(`(PopupItemList.eventListener) Clicked tick for item ${r}`),function(e){const t=document.querySelector(`.item[data-id='${e}']`);t.classList.add("removing"),t.querySelector(".tick-action .tick").classList.add("hidden"),t.querySelector(".tick-action .loader").classList.remove("hidden"),browser.tabs.query({active:!0,currentWindow:!0}).then((([t])=>{browser.runtime.sendMessage({action:"mark-as-read",id:e,tabId:t.id})}))}(r));else if(p.matchesOrHasParent(t.target,".favorite-action"))0===t.button&&(g.log(`(PopupItemList.eventListener) Clicked favorite for item ${r}`),function(e){const t=document.querySelector(`.item[data-id='${e}']`),n=t.dataset.fav;t.querySelector(".favorite-action .favorite").classList.add("hidden"),t.querySelector(".favorite-action .loader").classList.remove("hidden"),browser.runtime.sendMessage({action:"1"===n?"unfavorite":"favorite",id:e})}(r));else if(p.matchesOrHasParent(t.target,".edit-action"))0===t.button&&(g.log(`(PopupItemList.eventListener) Edit item ${r}`),function(t,n){const r=document.querySelector(`.item[data-id='${t}']`);g.log(`(PopupItemList.enterEdition) Existing title: ${r.querySelector("span.title").textContent}`);const i=document.querySelector("#item-edition-template").content.cloneNode(!0),s=i.querySelector("li");n.current&&s.classList.add(e),s.dataset.id=t;const o=i.querySelector("input.title");o.value=r.querySelector("span.title").textContent,setTimeout((()=>{o.focus()}),100),browser.storage.local.get("items",(({items:e})=>{const t=p.parseJson(e),n=Array.from(r.querySelectorAll("span.tag")).map((e=>e.textContent)),s=i.querySelector(".tags"),o=i.querySelector(".new-tag");for(const e of n){const t=document.createElement("span");t.classList.add("tag"),t.setAttribute("tabIndex",-1),t.textContent=e,s.insertBefore(t,o)}const a=[...new Set(t.flatMap((e=>e.tags)))],c=i.querySelector("#tags-datalist");for(const e of a.sort()){const t=document.createElement("option");t.value=e,t.textContent=e,c.appendChild(t)}o.addEventListener("focus",(()=>s.classList.add("focused"))),o.addEventListener("blur",(()=>s.classList.remove("focused"))),r.parentNode.replaceChild(i,r)}))}(r,{current:n.classList.contains(e)}));else if(p.matchesOrHasParent(t.target,".cancel-edit"))0===t.button&&(g.log(`(PopupItemList.eventListener) Cancel edition for item ${r}`),f(t));else if(p.matchesOrHasParent(t.target,".submit-edit"))0===t.button&&(g.log(`(PopupItemList.eventListener) Submit edition for item ${r}`),m(t));else if(t.target.matches("span.title")||t.target.matches("span.url")){const e=!0;switch(t.button){case 1:g.log(`(PopupItemList.eventListener) Middle-click, force opening ${r} in new tab`),a(i,e);break;case 0:t.ctrlKey||t.metaKey?(g.log(`(PopupItemList.eventListener) left-click + ctrlKey:${t.ctrlKey}/metaKey:${t.metaKey}, force opening ${r} in new tab`),a(i,e)):(g.log(`(PopupItemList.eventListener) left-click, open ${r} based on openInNewTab setting`),a(i))}}}))},scrollToTop:function(){r.scrollTop>0&&setTimeout((()=>{r.scrollTo(0,0)}),50)},buildAllItems:function(e,t){g.log("(PopupItemList.buildAllItems)"),r.textContent="",s.itemsToCreate=e,s.createdItemsCount=0,t&&_(t),g.log("(PopupItemList.buildAllItems) Request a 1st animation frame for buildBatch method"),requestAnimationFrame(d)},drawList:function(e={}){h.init().then((function(){return h.get("perPage")})).then((function(t){browser.storage.local.get(["items","display","last_retrieve"]).then((n=>Y(this,[n],void 0,(function*({items:n,display:r,last_retrieve:i}){const s=p.parseJson(r)||W,o=null!=e.query?e.query:s.query,a=e.page||s.currentPage,[c]=yield browser.tabs.query({currentWindow:!0,active:!0});g.log("(PopupItemList.drawList) Start filtering item");const u=yield y(n,c.url),d=N.filter(n,o,c.url),l=N.paginate(d,a,t);v(!!i,l.length+(u?1:0)),K.buildAllItems(l,u);const f={currentPage:a,query:o},h=Object.assign({},s,f);browser.storage.local.set({display:JSON.stringify(h)}),D.updatePaginationUI(a,t,d.length)}))))}))},updateList:function(t={}){g.log("PopupItemList.updateList"),h.init().then((function(){return h.get("perPage")})).then((function(n){browser.storage.local.get(["items","display","last_retrieve"]).then((i=>Y(this,[i],void 0,(function*({items:i,display:s,last_retrieve:o}){const a=p.parseJson(s)||W,c=null!=t.query?t.query:a.query,u=t.page||a.currentPage,[d]=yield browser.tabs.query({currentWindow:!0,active:!0}),l=yield y(i,d.url),f=N.filter(i,c,d.url),h=N.paginate(f,u,n),g=h.map((e=>e.id));v(!!o,h.length+(l?1:0));const m=function(){const t=r.querySelectorAll(`.item:not(.disappearing):not(.${e})`);return Array.from(t).map((e=>e.dataset.id))}(),b=m.filter((e=>g.includes(e))),w=m.filter((e=>!g.includes(e)));if(l)_(l);else{const t=r.querySelector(`.${e}`);t&&w.push(t.dataset.id)}K.fadeOutItem(...w);const x={};let S=b.shift();for(const e of h)e.id!=S?x[S]?x[S].push(e):x[S]=[e]:S=b.shift()||"last";for(const e in x){const t=x[e];"last"!=e?K.insertItems(t,e):K.appendItems(t)}!function(e){e.forEach((e=>{const t=document.querySelector(`.item[data-id='${e.id}']`);"1"===e.fav?(t.classList.add("favorite"),t.dataset.fav="1"):"0"===e.fav&&(t.classList.remove("favorite"),t.dataset.fav="0")}))}(h);const A={currentPage:u,query:c},T=Object.assign({},a,A);browser.storage.local.set({display:JSON.stringify(T)}),D.updatePaginationUI(u,n,f.length)}))))}))},insertItems:function(e,t){return Y(this,void 0,void 0,(function*(){const n=document.querySelector(`.item:not(.disappearing)[data-id='${t}']`);g.log(`(PopupItemList.insertItems) Insert ${e.length} items before item ${t}`),g.log(`(PopupItemList.insertItems) Insert before ${n}`);const i=u(e);r.insertBefore(i,n)}))},appendItems:function(e){return Y(this,void 0,void 0,(function*(){g.log(`(PopupItemList.appendItems) Append ${e.length} items`);const t=u(e);r.appendChild(t)}))},fadeOutItem:(...e)=>{e.forEach((e=>{g.log(`(PopupItemList.fadeOutItem) Will make ${e} item disappear from the list`),document.querySelector(`.item[data-id='${e}']`).classList.add("disappearing")}))},favoriteItem:e=>{const t=document.querySelector(`.item[data-id='${e}']`);t.querySelector(".favorite-action .favorite").classList.remove("hidden"),t.querySelector(".favorite-action .loader").classList.add("hidden"),t.classList.add("favorite"),t.dataset.fav="1"},unfavoriteItem:e=>{const t=document.querySelector(`.item[data-id='${e}']`);t.querySelector(".favorite-action .favorite").classList.remove("hidden"),t.querySelector(".favorite-action .loader").classList.add("hidden"),t.classList.remove("favorite"),t.dataset.fav="0"}}}(),Q=K;var Z=n(864),ee=n(628),te=n(105),ne="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,re=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],ie=function(){function e(t){void 0===t&&(t={}),this._options=t,this.name=e.id}return e.prototype.setupOnce=function(t,n){t((function(t){var r=n();if(r){var i=r.getIntegration(e);if(i){var o=r.getClient(),a=o?o.getOptions():{},c=function(e,t){return void 0===e&&(e={}),void 0===t&&(t={}),{allowUrls:(0,s.gz)(e.whitelistUrls||[],e.allowUrls||[],t.whitelistUrls||[],t.allowUrls||[]),denyUrls:(0,s.gz)(e.blacklistUrls||[],e.denyUrls||[],t.blacklistUrls||[],t.denyUrls||[]),ignoreErrors:(0,s.gz)(e.ignoreErrors||[],t.ignoreErrors||[],re),ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(i._options,a);return function(e,t){return t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(e){}return!1}(e)?(ne&&Z.vF.warn("Event dropped due to being internal Sentry Error.\nEvent: "+(0,ee.$X)(e)),!0):function(e,t){return!(!t||!t.length)&&function(e){if(e.message)return[e.message];if(e.exception)try{var t=e.exception.values&&e.exception.values[0]||{},n=t.type,r=void 0===n?"":n,i=t.value,s=void 0===i?"":i;return[""+s,r+": "+s]}catch(t){return ne&&Z.vF.error("Cannot extract message for event "+(0,ee.$X)(e)),[]}return[]}(e).some((function(e){return t.some((function(t){return(0,te._c)(e,t)}))}))}(e,t.ignoreErrors)?(ne&&Z.vF.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+(0,ee.$X)(e)),!0):function(e,t){if(!t||!t.length)return!1;var n=oe(e);return!!n&&t.some((function(e){return(0,te._c)(n,e)}))}(e,t.denyUrls)?(ne&&Z.vF.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+(0,ee.$X)(e)+".\nUrl: "+oe(e)),!0):!function(e,t){if(!t||!t.length)return!0;var n=oe(e);return!n||t.some((function(e){return(0,te._c)(n,e)}))}(e,t.allowUrls)&&(ne&&Z.vF.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+(0,ee.$X)(e)+".\nUrl: "+oe(e)),!0)}(t,c)?null:t}}return t}))},e.id="InboundFilters",e}();function se(e){void 0===e&&(e=[]);for(var t=e.length-1;t>=0;t--){var n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}function oe(e){try{if(e.stacktrace)return se(e.stacktrace.frames);var t;try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?se(t):null}catch(t){return ne&&Z.vF.error("Cannot extract url for event "+(0,ee.$X)(e)),null}}var ae,ce=n(911),ue=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){ae=Function.prototype.toString,Function.prototype.toString=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,ce.sp)(this)||this;return ae.apply(n,e)}},e.id="FunctionToString",e}(),de=n(167),le=n(121),pe="6.19.7",fe=n(236),he=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(e,n)||(e[n]=t[n]);return e}),ge=function(e){function t(t){var n=this.constructor,r=e.call(this,t)||this;return r.message=t,r.name=n.prototype.constructor.name,he(r,n.prototype),r}return(0,s.C6)(t,e),t}(Error),me=n(61),ve=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/;function ye(e,t){void 0===t&&(t=!1);var n=e.host,r=e.path,i=e.pass,s=e.port,o=e.projectId;return e.protocol+"://"+e.publicKey+(t&&i?":"+i:"")+"@"+n+(s?":"+s:"")+"/"+(r?r+"/":r)+o}function _e(e){return"user"in e&&!("publicKey"in e)&&(e.publicKey=e.user),{user:e.publicKey||"",protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function be(e){var t="string"==typeof e?function(e){var t=ve.exec(e);if(!t)throw new ge("Invalid Sentry Dsn: "+e);var n=(0,s.zs)(t.slice(1),6),r=n[0],i=n[1],o=n[2],a=void 0===o?"":o,c=n[3],u=n[4],d=void 0===u?"":u,l="",p=n[5],f=p.split("/");if(f.length>1&&(l=f.slice(0,-1).join("/"),p=f.pop()),p){var h=p.match(/^\d+/);h&&(p=h[0])}return _e({host:c,pass:a,path:l,projectId:p,port:d,protocol:r,publicKey:i})}(e):_e(e);return function(e){if(me.w){var t=e.port,n=e.projectId,r=e.protocol;if(["protocol","publicKey","host","projectId"].forEach((function(t){if(!e[t])throw new ge("Invalid Sentry Dsn: "+t+" missing")})),!n.match(/^\d+$/))throw new ge("Invalid Sentry Dsn: Invalid projectId "+n);if(!function(e){return"http"===e||"https"===e}(r))throw new ge("Invalid Sentry Dsn: Invalid protocol "+r);if(t&&isNaN(parseInt(t,10)))throw new ge("Invalid Sentry Dsn: Invalid port "+t)}}(t),t}var we=n(996),xe=n(694),Se=n(461),Ae=n(537);function Te(e,t,n){void 0===t&&(t=1/0),void 0===n&&(n=1/0);try{return Ee("",e,t,n)}catch(e){return{ERROR:"**non-serializable** ("+e+")"}}}function ke(e,t,n){void 0===t&&(t=3),void 0===n&&(n=102400);var r,i=Te(e,t);return r=i,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(r))>n?ke(e,t-1,n):i}function Ee(e,t,r,i,o){var a,c;void 0===r&&(r=1/0),void 0===i&&(i=1/0),void 0===o&&(a="function"==typeof WeakSet,c=a?new WeakSet:[],o=[function(e){if(a)return!!c.has(e)||(c.add(e),!1);for(var t=0;t<c.length;t++)if(c[t]===e)return!0;return c.push(e),!1},function(e){if(a)c.delete(e);else for(var t=0;t<c.length;t++)if(c[t]===e){c.splice(t,1);break}}]);var u=(0,s.zs)(o,2),d=u[0],l=u[1],p=t;if(p&&"function"==typeof p.toJSON)try{return p.toJSON()}catch(e){}if(null===t||["number","boolean","string"].includes(typeof t)&&!(0,we.yr)(t))return t;var f=function(e,t){try{return"domain"===e&&t&&"object"==typeof t&&t._events?"[Domain]":"domainEmitter"===e?"[DomainEmitter]":void 0!==n.g&&t===n.g?"[Global]":"undefined"!=typeof window&&t===window?"[Window]":"undefined"!=typeof document&&t===document?"[Document]":(0,we.mE)(t)?"[SyntheticEvent]":"number"==typeof t&&t!=t?"[NaN]":void 0===t?"[undefined]":"function"==typeof t?"[Function: "+(0,Ae.qQ)(t)+"]":"symbol"==typeof t?"["+String(t)+"]":"bigint"==typeof t?"[BigInt: "+String(t)+"]":"[object "+Object.getPrototypeOf(t).constructor.name+"]"}catch(e){return"**non-serializable** ("+e+")"}}(e,t);if(!f.startsWith("[object "))return f;if(0===r)return f.replace("object ","");if(d(t))return"[Circular ~]";var h=Array.isArray(t)?[]:{},g=0,m=(0,we.bJ)(t)||(0,we.xH)(t)?(0,ce.W4)(t):t;for(var v in m)if(Object.prototype.hasOwnProperty.call(m,v)){if(g>=i){h[v]="[MaxProperties ~]";break}var y=m[v];h[v]=Ee(v,y,r-1,i,o),g+=1}return l(t),h}var Ce=[];function Ie(e){return e.reduce((function(e,t){return e.every((function(e){return t.name!==e.name}))&&e.push(t),e}),[])}var Oe="Not capturing exception because it's already been captured.",Le=function(){function e(e,t){this._integrations={},this._numProcessing=0,this._backend=new e(t),this._options=t,t.dsn&&(this._dsn=be(t.dsn))}return e.prototype.captureException=function(e,t,n){var r=this;if(!(0,ee.GR)(e)){var i=t&&t.event_id;return this._process(this._getBackend().eventFromException(e,t).then((function(e){return r._captureEvent(e,t,n)})).then((function(e){i=e}))),i}ne&&Z.vF.log(Oe)},e.prototype.captureMessage=function(e,t,n,r){var i=this,s=n&&n.event_id,o=(0,we.sO)(e)?this._getBackend().eventFromMessage(String(e),t,n):this._getBackend().eventFromException(e,n);return this._process(o.then((function(e){return i._captureEvent(e,n,r)})).then((function(e){s=e}))),s},e.prototype.captureEvent=function(e,t,n){if(!(t&&t.originalException&&(0,ee.GR)(t.originalException))){var r=t&&t.event_id;return this._process(this._captureEvent(e,t,n).then((function(e){r=e}))),r}ne&&Z.vF.log(Oe)},e.prototype.captureSession=function(e){this._isEnabled()?"string"!=typeof e.release?ne&&Z.vF.warn("Discarded session because of missing or non-string release"):(this._sendSession(e),e.update({init:!1})):ne&&Z.vF.warn("SDK not enabled, will not capture session.")},e.prototype.getDsn=function(){return this._dsn},e.prototype.getOptions=function(){return this._options},e.prototype.getTransport=function(){return this._getBackend().getTransport()},e.prototype.flush=function(e){var t=this;return this._isClientDoneProcessing(e).then((function(n){return t.getTransport().close(e).then((function(e){return n&&e}))}))},e.prototype.close=function(e){var t=this;return this.flush(e).then((function(e){return t.getOptions().enabled=!1,e}))},e.prototype.setupIntegrations=function(){var e,t;this._isEnabled()&&!this._integrations.initialized&&(this._integrations=(e=this._options,t={},function(e){var t=e.defaultIntegrations&&(0,s.gz)(e.defaultIntegrations)||[],n=e.integrations,r=(0,s.gz)(Ie(t));Array.isArray(n)?r=(0,s.gz)(r.filter((function(e){return n.every((function(t){return t.name!==e.name}))})),Ie(n)):"function"==typeof n&&(r=n(r),r=Array.isArray(r)?r:[r]);var i=r.map((function(e){return e.name})),o="Debug";return-1!==i.indexOf(o)&&r.push.apply(r,(0,s.gz)(r.splice(i.indexOf(o),1))),r}(e).forEach((function(e){t[e.name]=e,function(e){-1===Ce.indexOf(e.name)&&(e.setupOnce(fe.l,o.BF),Ce.push(e.name),ne&&Z.vF.log("Integration installed: "+e.name))}(e)})),(0,ce.my)(t,"initialized",!0),t))},e.prototype.getIntegration=function(e){try{return this._integrations[e.id]||null}catch(t){return ne&&Z.vF.warn("Cannot retrieve integration "+e.id+" from the current Client"),null}},e.prototype._updateSessionFromEvent=function(e,t){var n,r,i=!1,o=!1,a=t.exception&&t.exception.values;if(a){o=!0;try{for(var c=(0,s.Ju)(a),u=c.next();!u.done;u=c.next()){var d=u.value.mechanism;if(d&&!1===d.handled){i=!0;break}}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}var l="ok"===e.status;(l&&0===e.errors||l&&i)&&(e.update((0,s.Cl)((0,s.Cl)({},i&&{status:"crashed"}),{errors:e.errors||Number(o||i)})),this.captureSession(e))},e.prototype._sendSession=function(e){this._getBackend().sendSession(e)},e.prototype._isClientDoneProcessing=function(e){var t=this;return new xe.T2((function(n){var r=0,i=setInterval((function(){0==t._numProcessing?(clearInterval(i),n(!0)):(r+=1,e&&r>=e&&(clearInterval(i),n(!1)))}),1)}))},e.prototype._getBackend=function(){return this._backend},e.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},e.prototype._prepareEvent=function(e,t,n){var r=this,i=this.getOptions(),o=i.normalizeDepth,a=void 0===o?3:o,c=i.normalizeMaxBreadth,u=void 0===c?1e3:c,d=(0,s.Cl)((0,s.Cl)({},e),{event_id:e.event_id||(n&&n.event_id?n.event_id:(0,ee.eJ)()),timestamp:e.timestamp||(0,Se.lu)()});this._applyClientOptions(d),this._applyIntegrationsMetadata(d);var l=t;n&&n.captureContext&&(l=fe.H.clone(l).update(n.captureContext));var p=(0,xe.XW)(d);return l&&(p=l.applyToEvent(d,n)),p.then((function(e){return e&&(e.sdkProcessingMetadata=(0,s.Cl)((0,s.Cl)({},e.sdkProcessingMetadata),{normalizeDepth:Te(a)+" ("+typeof a+")"})),"number"==typeof a&&a>0?r._normalizeEvent(e,a,u):e}))},e.prototype._normalizeEvent=function(e,t,n){if(!e)return null;var r=(0,s.Cl)((0,s.Cl)((0,s.Cl)((0,s.Cl)((0,s.Cl)({},e),e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((function(e){return(0,s.Cl)((0,s.Cl)({},e),e.data&&{data:Te(e.data,t,n)})}))}),e.user&&{user:Te(e.user,t,n)}),e.contexts&&{contexts:Te(e.contexts,t,n)}),e.extra&&{extra:Te(e.extra,t,n)});return e.contexts&&e.contexts.trace&&(r.contexts.trace=e.contexts.trace),r.sdkProcessingMetadata=(0,s.Cl)((0,s.Cl)({},r.sdkProcessingMetadata),{baseClientNormalized:!0}),r},e.prototype._applyClientOptions=function(e){var t=this.getOptions(),n=t.environment,r=t.release,i=t.dist,s=t.maxValueLength,o=void 0===s?250:s;"environment"in e||(e.environment="environment"in t?n:"production"),void 0===e.release&&void 0!==r&&(e.release=r),void 0===e.dist&&void 0!==i&&(e.dist=i),e.message&&(e.message=(0,te.xv)(e.message,o));var a=e.exception&&e.exception.values&&e.exception.values[0];a&&a.value&&(a.value=(0,te.xv)(a.value,o));var c=e.request;c&&c.url&&(c.url=(0,te.xv)(c.url,o))},e.prototype._applyIntegrationsMetadata=function(e){var t=Object.keys(this._integrations);t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=(0,s.gz)(e.sdk.integrations||[],t))},e.prototype._sendEvent=function(e){this._getBackend().sendEvent(e)},e.prototype._captureEvent=function(e,t,n){return this._processEvent(e,t,n).then((function(e){return e.event_id}),(function(e){ne&&Z.vF.error(e)}))},e.prototype._processEvent=function(e,t,n){var r=this,i=this.getOptions(),s=i.beforeSend,o=i.sampleRate,a=this.getTransport();function c(e,t){a.recordLostEvent&&a.recordLostEvent(e,t)}if(!this._isEnabled())return(0,xe.xg)(new ge("SDK not enabled, will not capture event."));var u="transaction"===e.type;return!u&&"number"==typeof o&&Math.random()>o?(c("sample_rate","event"),(0,xe.xg)(new ge("Discarding event because it's not included in the random sample (sampling rate = "+o+")"))):this._prepareEvent(e,n,t).then((function(n){if(null===n)throw c("event_processor",e.type||"event"),new ge("An event processor returned null, will not send event.");return t&&t.data&&!0===t.data.__sentry__||u||!s?n:function(e){var t="`beforeSend` method has to return `null` or a valid event.";if((0,we.Qg)(e))return e.then((function(e){if(!(0,we.Qd)(e)&&null!==e)throw new ge(t);return e}),(function(e){throw new ge("beforeSend rejected with "+e)}));if(!(0,we.Qd)(e)&&null!==e)throw new ge(t);return e}(s(n,t))})).then((function(t){if(null===t)throw c("before_send",e.type||"event"),new ge("`beforeSend` returned `null`, will not send event.");var i=n&&n.getSession&&n.getSession();return!u&&i&&r._updateSessionFromEvent(i,t),r._sendEvent(t),t})).then(null,(function(e){if(e instanceof ge)throw e;throw r.captureException(e,{data:{__sentry__:!0},originalException:e}),new ge("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: "+e)}))},e.prototype._process=function(e){var t=this;this._numProcessing+=1,e.then((function(e){return t._numProcessing-=1,e}),(function(e){return t._numProcessing-=1,e}))},e}(),Pe="7";function Re(e,t,n){return{initDsn:e,metadata:t||{},dsn:be(e),tunnel:n}}function qe(e){var t=e.protocol?e.protocol+":":"",n=e.port?":"+e.port:"";return t+"//"+e.host+n+(e.path?"/"+e.path:"")+"/api/"}function Fe(e,t){return""+qe(e)+e.projectId+"/"+t+"/"}function Ne(e){return(0,ce.u4)({sentry_key:e.publicKey,sentry_version:Pe})}function je(e){return Fe(e,"store")}function Me(e){return je(e)+"?"+Ne(e)}function De(e,t){return t||function(e){return Fe(e,"envelope")}(e)+"?"+Ne(e)}function $e(e,t){return void 0===t&&(t=[]),[e,t]}function Be(e){var t=(0,s.zs)(e,2),n=t[0],r=t[1],i=JSON.stringify(n);return r.reduce((function(e,t){var n=(0,s.zs)(t,2),r=n[0],i=n[1],o=(0,we.sO)(i)?String(i):JSON.stringify(i);return e+"\n"+JSON.stringify(r)+"\n"+o}),i)}function Ue(e){if(e.metadata&&e.metadata.sdk){var t=e.metadata.sdk;return{name:t.name,version:t.version}}}function He(e,t){return t?(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=(0,s.gz)(e.sdk.integrations||[],t.integrations||[]),e.sdk.packages=(0,s.gz)(e.sdk.packages||[],t.packages||[]),e):e}function ze(e,t){var n=Ue(t),r="aggregates"in e?"sessions":"session";return[$e((0,s.Cl)((0,s.Cl)({sent_at:(new Date).toISOString()},n&&{sdk:n}),!!t.tunnel&&{dsn:ye(t.dsn)}),[[{type:r},e]]),r]}!function(){function e(e,t,n){void 0===t&&(t={}),this.dsn=e,this._dsnObject=be(e),this.metadata=t,this._tunnel=n}e.prototype.getDsn=function(){return this._dsnObject},e.prototype.forceEnvelope=function(){return!!this._tunnel},e.prototype.getBaseApiEndpoint=function(){return qe(this._dsnObject)},e.prototype.getStoreEndpoint=function(){return je(this._dsnObject)},e.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return Me(this._dsnObject)},e.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return De(this._dsnObject,this._tunnel)}}();var Je,We=function(){function e(){}return e.prototype.sendEvent=function(e){return(0,xe.XW)({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:"skipped"})},e.prototype.close=function(e){return(0,xe.XW)(!0)},e}(),Ve=function(){function e(e){this._options=e,this._options.dsn||ne&&Z.vF.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return e.prototype.eventFromException=function(e,t){throw new ge("Backend has to implement `eventFromException` method")},e.prototype.eventFromMessage=function(e,t,n){throw new ge("Backend has to implement `eventFromMessage` method")},e.prototype.sendEvent=function(e){if(this._newTransport&&this._options.dsn&&this._options._experiments&&this._options._experiments.newTransport){var t=function(e,t){var n=Ue(t),r=e.type||"event",i=(e.sdkProcessingMetadata||{}).transactionSampling||{},o=i.method,a=i.rate;return He(e,t.metadata.sdk),e.tags=e.tags||{},e.extra=e.extra||{},e.sdkProcessingMetadata&&e.sdkProcessingMetadata.baseClientNormalized||(e.tags.skippedNormalization=!0,e.extra.normalizeDepth=e.sdkProcessingMetadata?e.sdkProcessingMetadata.normalizeDepth:"unset"),delete e.sdkProcessingMetadata,$e((0,s.Cl)((0,s.Cl)({event_id:e.event_id,sent_at:(new Date).toISOString()},n&&{sdk:n}),!!t.tunnel&&{dsn:ye(t.dsn)}),[[{type:r,sample_rates:[{id:o,rate:a}]},e]])}(e,Re(this._options.dsn,this._options._metadata,this._options.tunnel));this._newTransport.send(t).then(null,(function(e){ne&&Z.vF.error("Error while sending event:",e)}))}else this._transport.sendEvent(e).then(null,(function(e){ne&&Z.vF.error("Error while sending event:",e)}))},e.prototype.sendSession=function(e){if(this._transport.sendSession)if(this._newTransport&&this._options.dsn&&this._options._experiments&&this._options._experiments.newTransport){var t=Re(this._options.dsn,this._options._metadata,this._options.tunnel),n=(0,s.zs)(ze(e,t),1)[0];this._newTransport.send(n).then(null,(function(e){ne&&Z.vF.error("Error while sending session:",e)}))}else this._transport.sendSession(e).then(null,(function(e){ne&&Z.vF.error("Error while sending session:",e)}));else ne&&Z.vF.warn("Dropping session because custom transport doesn't implement sendSession")},e.prototype.getTransport=function(){return this._transport},e.prototype._setupTransport=function(){return new We},e}();!function(e){e.Fatal="fatal",e.Error="error",e.Warning="warning",e.Log="log",e.Info="info",e.Debug="debug",e.Critical="critical"}(Je||(Je={}));var Ge=n(900),Xe="?";function Ye(e,t,n,r){var i={filename:e,function:t,in_app:!0};return void 0!==n&&(i.lineno=n),void 0!==r&&(i.colno=r),i}var Ke=/^\s*at (?:(.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Qe=/\((\S*)(?::(\d+))(?::(\d+))\)/,Ze=[30,function(e){var t=Ke.exec(e);if(t){if(t[2]&&0===t[2].indexOf("eval")){var n=Qe.exec(t[2]);n&&(t[2]=n[1],t[3]=n[2],t[4]=n[3])}var r=(0,s.zs)(ut(t[1]||Xe,t[2]),2),i=r[0];return Ye(r[1],i,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],et=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,tt=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,nt=[50,function(e){var t,n=et.exec(e);if(n){if(n[3]&&n[3].indexOf(" > eval")>-1){var r=tt.exec(n[3]);r&&(n[1]=n[1]||"eval",n[3]=r[1],n[4]=r[2],n[5]="")}var i=n[3],o=n[1]||Xe;return o=(t=(0,s.zs)(ut(o,i),2))[0],Ye(i=t[1],o,n[4]?+n[4]:void 0,n[5]?+n[5]:void 0)}}],rt=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,it=[40,function(e){var t=rt.exec(e);return t?Ye(t[2],t[1]||Xe,+t[3],t[4]?+t[4]:void 0):void 0}],st=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,ot=[10,function(e){var t=st.exec(e);return t?Ye(t[2],t[3]||Xe,+t[1]):void 0}],at=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,ct=[20,function(e){var t=at.exec(e);return t?Ye(t[5],t[3]||t[4]||Xe,+t[1],+t[2]):void 0}],ut=function(e,t){var n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:Xe,n?"safari-extension:"+t:"safari-web-extension:"+t]:[e,t]};function dt(e){var t=pt(e),n={type:e&&e.name,value:ht(e)};return t.length&&(n.stacktrace={frames:t}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function lt(e){return{exception:{values:[dt(e)]}}}function pt(e){var t=e.stacktrace||e.stack||"",n=function(e){if(e){if("number"==typeof e.framesToPop)return e.framesToPop;if(ft.test(e.message))return 1}return 0}(e);try{return(0,Ae.gd)(ot,ct,Ze,it,nt)(t,n)}catch(e){}return[]}var ft=/Minified React error #\d+;/i;function ht(e){var t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function gt(e,t,n,r){var i;if((0,we.T2)(e)&&e.error)return lt(e.error);if((0,we.BD)(e)||(0,we.W6)(e)){var o=e;if("stack"in e)i=lt(e);else{var a=o.name||((0,we.BD)(o)?"DOMError":"DOMException"),c=o.message?a+": "+o.message:a;i=mt(c,t,n),(0,ee.gO)(i,c)}return"code"in o&&(i.tags=(0,s.Cl)((0,s.Cl)({},i.tags),{"DOMException.code":""+o.code})),i}return(0,we.bJ)(e)?lt(e):(0,we.Qd)(e)||(0,we.xH)(e)?(i=function(e,t,n){var r={exception:{values:[{type:(0,we.xH)(e)?e.constructor.name:n?"UnhandledRejection":"Error",value:"Non-Error "+(n?"promise rejection":"exception")+" captured with keys: "+(0,ce.HF)(e)}]},extra:{__serialized__:ke(e)}};if(t){var i=pt(t);i.length&&(r.stacktrace={frames:i})}return r}(e,t,r),(0,ee.M6)(i,{synthetic:!0}),i):(i=mt(e,t,n),(0,ee.gO)(i,""+e,void 0),(0,ee.M6)(i,{synthetic:!0}),i)}function mt(e,t,n){var r={message:e};if(n&&t){var i=pt(t);i.length&&(r.stacktrace={frames:i})}return r}function vt(e){var t=[];function n(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(r){if(!(void 0===e||t.length<e))return(0,xe.xg)(new ge("Not adding Promise due to buffer limit reached."));var i=r();return-1===t.indexOf(i)&&t.push(i),i.then((function(){return n(i)})).then(null,(function(){return n(i).then(null,(function(){}))})),i},drain:function(e){return new xe.T2((function(n,r){var i=t.length;if(!i)return n(!0);var s=setTimeout((function(){e&&e>0&&n(!1)}),e);t.forEach((function(e){(0,xe.XW)(e).then((function(){--i||(clearTimeout(s),n(!0))}),r)}))}))}}}var yt=6e4;function _t(e,t){return e[t]||e.all||0}function bt(e,t,n){return void 0===n&&(n=Date.now()),_t(e,t)>n}function wt(e,t,n){var r,i,o,a;void 0===n&&(n=Date.now());var c=(0,s.Cl)({},e),u=t["x-sentry-rate-limits"],d=t["retry-after"];if(u)try{for(var l=(0,s.Ju)(u.trim().split(",")),p=l.next();!p.done;p=l.next()){var f=p.value.split(":",2),h=parseInt(f[0],10),g=1e3*(isNaN(h)?60:h);if(f[1])try{for(var m=(o=void 0,(0,s.Ju)(f[1].split(";"))),v=m.next();!v.done;v=m.next())c[v.value]=n+g}catch(e){o={error:e}}finally{try{v&&!v.done&&(a=m.return)&&a.call(m)}finally{if(o)throw o.error}}else c.all=n+g}}catch(e){r={error:e}}finally{try{p&&!p.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}else d&&(c.all=n+function(e,t){void 0===t&&(t=Date.now());var n=parseInt(""+e,10);if(!isNaN(n))return 1e3*n;var r=Date.parse(""+e);return isNaN(r)?yt:r-t}(d,n));return c}function xt(e){return e>=200&&e<300?"success":429===e?"rate_limit":e>=400&&e<500?"invalid":e>=500?"failed":"unknown"}function St(e,t,n){void 0===n&&(n=vt(e.bufferSize||30));var r={};return{send:function(e){var i=function(e){var t=(0,s.zs)(e,2),n=(0,s.zs)(t[1],1);return(0,s.zs)(n[0],1)[0].type}(e),o="event"===i?"error":i,a={category:o,body:Be(e)};return bt(r,o)?(0,xe.xg)({status:"rate_limit",reason:At(r,o)}):n.add((function(){return t(a).then((function(e){var t=e.body,n=e.headers,i=e.reason,s=xt(e.statusCode);return n&&(r=wt(r,n)),"success"===s?(0,xe.XW)({status:s,reason:i}):(0,xe.xg)({status:s,reason:i||t||("rate_limit"===s?At(r,o):"Unknown transport error")})}))}))},flush:function(e){return n.drain(e)}}}function At(e,t){return"Too many "+t+" requests, backing off until: "+new Date(_t(e,t)).toISOString()}var Tt,kt="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Et=(0,de.V)();function Ct(){if(Tt)return Tt;if((0,Ge.ap)(Et.fetch))return Tt=Et.fetch.bind(Et);var e=Et.document,t=Et.fetch;if(e&&"function"==typeof e.createElement)try{var n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);var r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(e){kt&&Z.vF.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return Tt=t.bind(Et)}function It(e){return"event"===e?"error":e}var Ot=(0,de.V)(),Lt=function(){function e(e){var t=this;this.options=e,this._buffer=vt(30),this._rateLimits={},this._outcomes={},this._api=Re(e.dsn,e._metadata,e.tunnel),this.url=Me(this._api.dsn),this.options.sendClientReports&&Ot.document&&Ot.document.addEventListener("visibilitychange",(function(){"hidden"===Ot.document.visibilityState&&t._flushOutcomes()}))}return e.prototype.sendEvent=function(e){return this._sendRequest(function(e,t){var n,r=Ue(t),i=e.type||"event",o="transaction"===i||!!t.tunnel,a=(e.sdkProcessingMetadata||{}).transactionSampling||{},c=a.method,u=a.rate;He(e,t.metadata.sdk),e.tags=e.tags||{},e.extra=e.extra||{},e.sdkProcessingMetadata&&e.sdkProcessingMetadata.baseClientNormalized||(e.tags.skippedNormalization=!0,e.extra.normalizeDepth=e.sdkProcessingMetadata?e.sdkProcessingMetadata.normalizeDepth:"unset"),delete e.sdkProcessingMetadata;try{n=JSON.stringify(e)}catch(t){e.tags.JSONStringifyError=!0,e.extra.JSONStringifyError=t;try{n=JSON.stringify(Te(e))}catch(e){var d=e;n=JSON.stringify({message:"JSON.stringify error after renormalization",extra:{message:d.message,stack:d.stack}})}}var l={body:n,type:i,url:o?De(t.dsn,t.tunnel):Me(t.dsn)};if(o){var p=$e((0,s.Cl)((0,s.Cl)({event_id:e.event_id,sent_at:(new Date).toISOString()},r&&{sdk:r}),!!t.tunnel&&{dsn:ye(t.dsn)}),[[{type:i,sample_rates:[{id:c,rate:u}]},l.body]]);l.body=Be(p)}return l}(e,this._api),e)},e.prototype.sendSession=function(e){return this._sendRequest(function(e,t){var n=(0,s.zs)(ze(e,t),2),r=n[0],i=n[1];return{body:Be(r),type:i,url:De(t.dsn,t.tunnel)}}(e,this._api),e)},e.prototype.close=function(e){return this._buffer.drain(e)},e.prototype.recordLostEvent=function(e,t){var n;if(this.options.sendClientReports){var r=It(t)+":"+e;kt&&Z.vF.log("Adding outcome: "+r),this._outcomes[r]=(null!=(n=this._outcomes[r])?n:0)+1}},e.prototype._flushOutcomes=function(){if(this.options.sendClientReports){var e=this._outcomes;if(this._outcomes={},Object.keys(e).length){kt&&Z.vF.log("Flushing outcomes:\n"+JSON.stringify(e,null,2));var t,n,r=De(this._api.dsn,this._api.tunnel),i=(t=Object.keys(e).map((function(t){var n=(0,s.zs)(t.split(":"),2),r=n[0];return{reason:n[1],category:r,quantity:e[t]}})),$e((n=this._api.tunnel&&ye(this._api.dsn))?{dsn:n}:{},[[{type:"client_report"},{timestamp:(0,Se.lu)(),discarded_events:t}]]));try{!function(e,t){if("[object Navigator]"===Object.prototype.toString.call(Et&&Et.navigator)&&"function"==typeof Et.navigator.sendBeacon)return Et.navigator.sendBeacon.bind(Et.navigator)(e,t);(0,Ge.vm)()&&Ct()(e,{body:t,method:"POST",credentials:"omit",keepalive:!0}).then(null,(function(e){console.error(e)}))}(r,Be(i))}catch(e){kt&&Z.vF.error(e)}}else kt&&Z.vF.log("No outcomes to flush")}},e.prototype._handleResponse=function(e){var t=e.requestType,n=e.response,r=e.headers,i=e.resolve,s=e.reject,o=xt(n.status);this._rateLimits=wt(this._rateLimits,r),this._isRateLimited(t)&&kt&&Z.vF.warn("Too many "+t+" requests, backing off until: "+this._disabledUntil(t)),"success"!==o?s(n):i({status:o})},e.prototype._disabledUntil=function(e){var t=It(e);return new Date(_t(this._rateLimits,t))},e.prototype._isRateLimited=function(e){var t=It(e);return bt(this._rateLimits,t)},e}(),Pt=function(e){function t(t,n){void 0===n&&(n=Ct());var r=e.call(this,t)||this;return r._fetch=n,r}return(0,s.C6)(t,e),t.prototype._sendRequest=function(e,t){var n=this;if(this._isRateLimited(e.type))return this.recordLostEvent("ratelimit_backoff",e.type),Promise.reject({event:t,type:e.type,reason:"Transport for "+e.type+" requests locked till "+this._disabledUntil(e.type)+" due to too many requests.",status:429});var r={body:e.body,method:"POST",referrerPolicy:(0,Ge.K8)()?"origin":""};return void 0!==this.options.fetchParameters&&Object.assign(r,this.options.fetchParameters),void 0!==this.options.headers&&(r.headers=this.options.headers),this._buffer.add((function(){return new xe.T2((function(t,i){n._fetch(e.url,r).then((function(r){var s={"x-sentry-rate-limits":r.headers.get("X-Sentry-Rate-Limits"),"retry-after":r.headers.get("Retry-After")};n._handleResponse({requestType:e.type,response:r,headers:s,resolve:t,reject:i})})).catch(i)}))})).then(void 0,(function(t){throw t instanceof ge?n.recordLostEvent("queue_overflow",e.type):n.recordLostEvent("network_error",e.type),t}))},t}(Lt),Rt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,s.C6)(t,e),t.prototype._sendRequest=function(e,t){var n=this;return this._isRateLimited(e.type)?(this.recordLostEvent("ratelimit_backoff",e.type),Promise.reject({event:t,type:e.type,reason:"Transport for "+e.type+" requests locked till "+this._disabledUntil(e.type)+" due to too many requests.",status:429})):this._buffer.add((function(){return new xe.T2((function(t,r){var i=new XMLHttpRequest;for(var s in i.onreadystatechange=function(){if(4===i.readyState){var s={"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")};n._handleResponse({requestType:e.type,response:i,headers:s,resolve:t,reject:r})}},i.open("POST",e.url),n.options.headers)Object.prototype.hasOwnProperty.call(n.options.headers,s)&&i.setRequestHeader(s,n.options.headers[s]);i.send(e.body)}))})).then(void 0,(function(t){throw t instanceof ge?n.recordLostEvent("queue_overflow",e.type):n.recordLostEvent("network_error",e.type),t}))},t}(Lt),qt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,s.C6)(t,e),t.prototype.eventFromException=function(e,t){return function(e,t,n){var r=gt(e,t&&t.syntheticException||void 0,n);return(0,ee.M6)(r),r.level=Je.Error,t&&t.event_id&&(r.event_id=t.event_id),(0,xe.XW)(r)}(e,t,this._options.attachStacktrace)},t.prototype.eventFromMessage=function(e,t,n){return void 0===t&&(t=Je.Info),function(e,t,n,r){void 0===t&&(t=Je.Info);var i=mt(e,n&&n.syntheticException||void 0,r);return i.level=t,n&&n.event_id&&(i.event_id=n.event_id),(0,xe.XW)(i)}(e,t,n,this._options.attachStacktrace)},t.prototype._setupTransport=function(){if(!this._options.dsn)return e.prototype._setupTransport.call(this);var t,n,r=(0,s.Cl)((0,s.Cl)({},this._options.transportOptions),{dsn:this._options.dsn,tunnel:this._options.tunnel,sendClientReports:this._options.sendClientReports,_metadata:this._options._metadata}),i=Re(r.dsn,r._metadata,r.tunnel),o=De(i.dsn,i.tunnel);if(this._options.transport)return new this._options.transport(r);if((0,Ge.vm)()){var a=(0,s.Cl)({},r.fetchParameters);return this._newTransport=(t={requestOptions:a,url:o},void 0===n&&(n=Ct()),St({bufferSize:t.bufferSize},(function(e){var r=(0,s.Cl)({body:e.body,method:"POST",referrerPolicy:"origin"},t.requestOptions);return n(t.url,r).then((function(e){return e.text().then((function(t){return{body:t,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")},reason:e.statusText,statusCode:e.status}}))}))}))),new Pt(r)}return this._newTransport=function(e){return St({bufferSize:e.bufferSize},(function(t){return new xe.T2((function(n,r){var i=new XMLHttpRequest;for(var s in i.onreadystatechange=function(){if(4===i.readyState){var e={body:i.response,headers:{"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")},reason:i.statusText,statusCode:i.status};n(e)}},i.open("POST",e.url),e.headers)Object.prototype.hasOwnProperty.call(e.headers,s)&&i.setRequestHeader(s,e.headers[s]);i.send(t.body)}))}))}({url:o,headers:r.headers}),new Rt(r)},t}(Ve),Ft=(0,de.V)(),Nt=0;function jt(){return Nt>0}function Mt(e,t,n){if(void 0===t&&(t={}),"function"!=typeof e)return e;try{var r=e.__sentry_wrapped__;if(r)return r;if((0,ce.sp)(e))return e}catch(t){return e}var i=function(){var r=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);var i=r.map((function(e){return Mt(e,t)}));return e.apply(this,i)}catch(e){throw Nt+=1,setTimeout((function(){Nt-=1})),a("withScope",(function(n){n.addEventProcessor((function(e){return t.mechanism&&((0,ee.gO)(e,void 0,void 0),(0,ee.M6)(e,t.mechanism)),e.extra=(0,s.Cl)((0,s.Cl)({},e.extra),{arguments:r}),e})),c(e)})),e}};try{for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}catch(e){}(0,ce.pO)(i,e),(0,ce.my)(e,"__sentry_wrapped__",i);try{Object.getOwnPropertyDescriptor(i,"name").configurable&&Object.defineProperty(i,"name",{get:function(){return e.name}})}catch(e){}return i}var Dt=n(514),$t=["fatal","error","warning","log","info","debug","critical"];var Bt=function(){function e(t){this.name=e.id,this._options=(0,s.Cl)({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},t)}return e.prototype.addSentryBreadcrumb=function(e){this._options.sentry&&(0,o.BF)().addBreadcrumb({category:"sentry."+("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level,message:(0,ee.$X)(e)},{event:e})},e.prototype.setupOnce=function(){var e;this._options.console&&(0,le.O)("console",Ut),this._options.dom&&(0,le.O)("dom",(e=this._options.dom,function(t){var n,r="object"==typeof e?e.serializeAttribute:void 0;"string"==typeof r&&(r=[r]);try{n=t.event.target?(0,Dt.H)(t.event.target,r):(0,Dt.H)(t.event,r)}catch(e){n="<unknown>"}0!==n.length&&(0,o.BF)().addBreadcrumb({category:"ui."+t.name,message:n},{event:t.event,name:t.name,global:t.global})})),this._options.xhr&&(0,le.O)("xhr",Ht),this._options.fetch&&(0,le.O)("fetch",zt),this._options.history&&(0,le.O)("history",Jt)},e.id="Breadcrumbs",e}();function Ut(e){var t,n={category:"console",data:{arguments:e.args,logger:"console"},level:(t=e.level,"warn"===t?Je.Warning:function(e){return-1!==$t.indexOf(e)}(t)?t:Je.Log),message:(0,te.gt)(e.args," ")};if("assert"===e.level){if(!1!==e.args[0])return;n.message="Assertion failed: "+((0,te.gt)(e.args.slice(1)," ")||"console.assert"),n.data.arguments=e.args.slice(1)}(0,o.BF)().addBreadcrumb(n,{input:e.args,level:e.level})}function Ht(e){if(e.endTimestamp){if(e.xhr.__sentry_own_request__)return;var t=e.xhr.__sentry_xhr__||{},n=t.method,r=t.url,i=t.status_code,s=t.body;(0,o.BF)().addBreadcrumb({category:"xhr",data:{method:n,url:r,status_code:i},type:"http"},{xhr:e.xhr,input:s})}}function zt(e){e.endTimestamp&&(e.fetchData.url.match(/sentry_key/)&&"POST"===e.fetchData.method||(e.error?(0,o.BF)().addBreadcrumb({category:"fetch",data:e.fetchData,level:Je.Error,type:"http"},{data:e.error,input:e.args}):(0,o.BF)().addBreadcrumb({category:"fetch",data:(0,s.Cl)((0,s.Cl)({},e.fetchData),{status_code:e.response.status}),type:"http"},{input:e.args,response:e.response})))}function Jt(e){var t=(0,de.V)(),n=e.from,r=e.to,i=(0,ee.Dl)(t.location.href),s=(0,ee.Dl)(n),a=(0,ee.Dl)(r);s.path||(s=i),i.protocol===a.protocol&&i.host===a.host&&(r=a.relative),i.protocol===s.protocol&&i.host===s.host&&(n=s.relative),(0,o.BF)().addBreadcrumb({category:"navigation",data:{from:n,to:r}})}var Wt=function(e){function t(t){return void 0===t&&(t={}),t._metadata=t._metadata||{},t._metadata.sdk=t._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:pe}],version:pe},e.call(this,qt,t)||this}return(0,s.C6)(t,e),t.prototype.showReportDialog=function(e){void 0===e&&(e={}),(0,de.V)().document&&(this._isEnabled()?function(e){if(void 0===e&&(e={}),Ft.document)if(e.eventId)if(e.dsn){var t=Ft.document.createElement("script");t.async=!0,t.src=function(e,t){var n=be(e),r=qe(n)+"embed/error-page/",i="dsn="+ye(n);for(var s in t)if("dsn"!==s)if("user"===s){if(!t.user)continue;t.user.name&&(i+="&name="+encodeURIComponent(t.user.name)),t.user.email&&(i+="&email="+encodeURIComponent(t.user.email))}else i+="&"+encodeURIComponent(s)+"="+encodeURIComponent(t[s]);return r+"?"+i}(e.dsn,e),e.onLoad&&(t.onload=e.onLoad);var n=Ft.document.head||Ft.document.body;n&&n.appendChild(t)}else kt&&Z.vF.error("Missing dsn option in showReportDialog call");else kt&&Z.vF.error("Missing eventId option in showReportDialog call")}((0,s.Cl)((0,s.Cl)({},e),{dsn:e.dsn||this.getDsn()})):kt&&Z.vF.error("Trying to call showReportDialog with Sentry Client disabled"))},t.prototype._prepareEvent=function(t,n,r){return t.platform=t.platform||"javascript",e.prototype._prepareEvent.call(this,t,n,r)},t.prototype._sendEvent=function(t){var n=this.getIntegration(Bt);n&&n.addSentryBreadcrumb(t),e.prototype._sendEvent.call(this,t)},t}(Le),Vt=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Gt=function(){function e(t){this.name=e.id,this._options=(0,s.Cl)({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},t)}return e.prototype.setupOnce=function(){var e=(0,de.V)();this._options.setTimeout&&(0,ce.GS)(e,"setTimeout",Xt),this._options.setInterval&&(0,ce.GS)(e,"setInterval",Xt),this._options.requestAnimationFrame&&(0,ce.GS)(e,"requestAnimationFrame",Yt),this._options.XMLHttpRequest&&"XMLHttpRequest"in e&&(0,ce.GS)(XMLHttpRequest.prototype,"send",Kt);var t=this._options.eventTarget;t&&(Array.isArray(t)?t:Vt).forEach(Qt)},e.id="TryCatch",e}();function Xt(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[0];return t[0]=Mt(r,{mechanism:{data:{function:(0,Ae.qQ)(e)},handled:!0,type:"instrument"}}),e.apply(this,t)}}function Yt(e){return function(t){return e.apply(this,[Mt(t,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,Ae.qQ)(e)},handled:!0,type:"instrument"}})])}}function Kt(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((function(e){e in r&&"function"==typeof r[e]&&(0,ce.GS)(r,e,(function(t){var n={mechanism:{data:{function:e,handler:(0,Ae.qQ)(t)},handled:!0,type:"instrument"}},r=(0,ce.sp)(t);return r&&(n.mechanism.data.handler=(0,Ae.qQ)(r)),Mt(t,n)}))})),e.apply(this,t)}}function Qt(e){var t=(0,de.V)(),n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,ce.GS)(n,"addEventListener",(function(t){return function(n,r,i){try{"function"==typeof r.handleEvent&&(r.handleEvent=Mt(r.handleEvent.bind(r),{mechanism:{data:{function:"handleEvent",handler:(0,Ae.qQ)(r),target:e},handled:!0,type:"instrument"}}))}catch(e){}return t.apply(this,[n,Mt(r,{mechanism:{data:{function:"addEventListener",handler:(0,Ae.qQ)(r),target:e},handled:!0,type:"instrument"}}),i])}})),(0,ce.GS)(n,"removeEventListener",(function(e){return function(t,n,r){var i=n;try{var s=i&&i.__sentry_wrapped__;s&&e.call(this,t,s,r)}catch(e){}return e.call(this,t,i,r)}})))}var Zt=function(){function e(t){this.name=e.id,this._installFunc={onerror:en,onunhandledrejection:tn},this._options=(0,s.Cl)({onerror:!0,onunhandledrejection:!0},t)}return e.prototype.setupOnce=function(){Error.stackTraceLimit=50;var e,t=this._options;for(var n in t){var r=this._installFunc[n];r&&t[n]&&(e=n,kt&&Z.vF.log("Global Handler attached: "+e),r(),this._installFunc[n]=void 0)}},e.id="GlobalHandlers",e}();function en(){(0,le.O)("error",(function(e){var t=(0,s.zs)(sn(),2),n=t[0],r=t[1];if(n.getIntegration(Zt)){var i=e.msg,o=e.url,a=e.line,c=e.column,u=e.error;if(!(jt()||u&&u.__sentry_own_request__)){var d=void 0===u&&(0,we.Kg)(i)?function(e,t,n,r){var i=(0,we.T2)(e)?e.message:e,s="Error",o=i.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);return o&&(s=o[1],i=o[2]),nn({exception:{values:[{type:s,value:i}]}},t,n,r)}(i,o,a,c):nn(gt(u||i,void 0,r,!1),o,a,c);d.level=Je.Error,rn(n,u,d,"onerror")}}}))}function tn(){(0,le.O)("unhandledrejection",(function(e){var t=(0,s.zs)(sn(),2),n=t[0],r=t[1];if(n.getIntegration(Zt)){var i=e;try{"reason"in e?i=e.reason:"detail"in e&&"reason"in e.detail&&(i=e.detail.reason)}catch(e){}if(jt()||i&&i.__sentry_own_request__)return!0;var o=(0,we.sO)(i)?{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(i)}]}}:gt(i,void 0,r,!0);o.level=Je.Error,rn(n,i,o,"onunhandledrejection")}}))}function nn(e,t,n,r){var i=e.exception=e.exception||{},s=i.values=i.values||[],o=s[0]=s[0]||{},a=o.stacktrace=o.stacktrace||{},c=a.frames=a.frames||[],u=isNaN(parseInt(r,10))?void 0:r,d=isNaN(parseInt(n,10))?void 0:n,l=(0,we.Kg)(t)&&t.length>0?t:(0,Dt.$)();return 0===c.length&&c.push({colno:u,filename:l,function:"?",in_app:!0,lineno:d}),e}function rn(e,t,n,r){(0,ee.M6)(n,{handled:!1,type:r}),e.captureEvent(n,{originalException:t})}function sn(){var e=(0,o.BF)(),t=e.getClient();return[e,t&&t.getOptions().attachStacktrace]}var on=function(){function e(t){void 0===t&&(t={}),this.name=e.id,this._key=t.key||"cause",this._limit=t.limit||5}return e.prototype.setupOnce=function(){(0,fe.l)((function(t,n){var r=(0,o.BF)().getIntegration(e);return r?function(e,t,n,r){if(!(n.exception&&n.exception.values&&r&&(0,we.tH)(r.originalException,Error)))return n;var i=an(t,r.originalException,e);return n.exception.values=(0,s.gz)(i,n.exception.values),n}(r._key,r._limit,t,n):t}))},e.id="LinkedErrors",e}();function an(e,t,n,r){if(void 0===r&&(r=[]),!(0,we.tH)(t[n],Error)||r.length+1>=e)return r;var i=dt(t[n]);return an(e,t[n],n,(0,s.gz)([i],r))}var cn=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(t,n){t((function(t){var r=n().getIntegration(e);if(r){try{if(function(e,t){return!!t&&(!!function(e,t){var n=e.message,r=t.message;return!(!n&&!r)&&(!(n&&!r||!n&&r)&&(n===r&&(!!dn(e,t)&&!!un(e,t))))}(e,t)||!!function(e,t){var n=ln(t),r=ln(e);return!(!n||!r)&&(n.type===r.type&&n.value===r.value&&(!!dn(e,t)&&!!un(e,t)))}(e,t))}(t,r._previousEvent))return kt&&Z.vF.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){return r._previousEvent=t}return r._previousEvent=t}return t}))},e.id="Dedupe",e}();function un(e,t){var n=pn(e),r=pn(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(var i=0;i<r.length;i++){var s=r[i],o=n[i];if(s.filename!==o.filename||s.lineno!==o.lineno||s.colno!==o.colno||s.function!==o.function)return!1}return!0}function dn(e,t){var n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(e){return!1}}function ln(e){return e.exception&&e.exception.values&&e.exception.values[0]}function pn(e){var t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}else if(e.stacktrace)return e.stacktrace.frames}var fn=(0,de.V)(),hn=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){(0,fe.l)((function(t){if((0,o.BF)().getIntegration(e)){if(!fn.navigator&&!fn.location&&!fn.document)return t;var n=t.request&&t.request.url||fn.location&&fn.location.href,r=(fn.document||{}).referrer,i=(fn.navigator||{}).userAgent,a=(0,s.Cl)((0,s.Cl)((0,s.Cl)({},t.request&&t.request.headers),r&&{Referer:r}),i&&{"User-Agent":i}),c=(0,s.Cl)((0,s.Cl)({},n&&{url:n}),{headers:a});return(0,s.Cl)((0,s.Cl)({},t),{request:c})}return t}))},e.id="UserAgent",e}(),gn=[new ie,new ue,new Gt,new Bt,new Zt,new on,new cn,new hn];function mn(e){e.startSession({ignoreDuration:!0}),e.captureSession()}var vn={},yn=(0,de.V)();yn.Sentry&&yn.Sentry.Integrations&&(vn=yn.Sentry.Integrations);var _n=(0,s.Cl)((0,s.Cl)((0,s.Cl)({},vn),e),t),bn=n(196),wn=n(102),xn=n(67),Sn=n(924),An=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$"),Tn=n(312),kn=(0,de.V)(),En=n(822),Cn=function(e,t,n){var r;return function(i){t.value>=0&&(i||n)&&(t.delta=t.value-(r||0),(t.delta||void 0===r)&&(r=t.value,e(t)))}},In=function(e,t){return{name:e,value:null!=t?t:-1,delta:0,entries:[],id:"v2-"+Date.now()+"-"+(Math.floor(8999999999999*Math.random())+1e12)}},On=function(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){if("first-input"===e&&!("PerformanceEventTiming"in self))return;var n=new PerformanceObserver((function(e){return e.getEntries().map(t)}));return n.observe({type:e,buffered:!0}),n}}catch(e){}},Ln=function(e,t){var n=function(r){"pagehide"!==r.type&&"hidden"!==(0,de.V)().document.visibilityState||(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},Pn=-1,Rn=function(){return Pn<0&&(Pn="hidden"===(0,de.V)().document.visibilityState?0:1/0,Ln((function(e){var t=e.timeStamp;Pn=t}),!0)),{get firstHiddenTime(){return Pn}}},qn={},Fn=(0,de.V)(),Nn=function(){function e(e){void 0===e&&(e=!1),this._reportAllChanges=e,this._measurements={},this._performanceCursor=0,!(0,En.wD)()&&Fn&&Fn.performance&&Fn.document&&(Fn.performance.mark&&Fn.performance.mark("sentry-tracing-init"),this._trackCLS(),this._trackLCP(),this._trackFID())}return e.prototype.addPerformanceEntries=function(e){var t=this;if(Fn&&Fn.performance&&Fn.performance.getEntries&&Se.k3){wn.w&&Z.vF.log("[Tracing] Adding & adjusting spans using Performance API");var n,r,i=(0,Sn.rv)(Se.k3);if(Fn.performance.getEntries().slice(this._performanceCursor).forEach((function(s){var o=(0,Sn.rv)(s.startTime),a=(0,Sn.rv)(s.duration);if(!("navigation"===e.op&&i+o<e.startTimestamp))switch(s.entryType){case"navigation":!function(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach((function(r){jn(e,t,r,n)})),jn(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),jn(e,t,"fetch",n,"cache","domainLookupStart"),jn(e,t,"domainLookup",n,"DNS"),function(e,t,n){Mn(e,{op:"browser",description:"request",startTimestamp:n+(0,Sn.rv)(t.requestStart),endTimestamp:n+(0,Sn.rv)(t.responseEnd)}),Mn(e,{op:"browser",description:"response",startTimestamp:n+(0,Sn.rv)(t.responseStart),endTimestamp:n+(0,Sn.rv)(t.responseEnd)})}(e,t,n)}(e,s,i),n=i+(0,Sn.rv)(s.responseStart),r=i+(0,Sn.rv)(s.requestStart);break;case"mark":case"paint":case"measure":var c=function(e,t,n,r,i){var s=i+n,o=s+r;return Mn(e,{description:t.name,endTimestamp:o,op:t.entryType,startTimestamp:s}),s}(e,s,o,a,i),u=Rn(),d=s.startTime<u.firstHiddenTime;"first-paint"===s.name&&d&&(wn.w&&Z.vF.log("[Measurements] Adding FP"),t._measurements.fp={value:s.startTime},t._measurements["mark.fp"]={value:c}),"first-contentful-paint"===s.name&&d&&(wn.w&&Z.vF.log("[Measurements] Adding FCP"),t._measurements.fcp={value:s.startTime},t._measurements["mark.fcp"]={value:c});break;case"resource":var l=s.name.replace(Fn.location.origin,"");!function(e,t,n,r,i,s){if("xmlhttprequest"!==t.initiatorType&&"fetch"!==t.initiatorType){var o={};"transferSize"in t&&(o["Transfer Size"]=t.transferSize),"encodedBodySize"in t&&(o["Encoded Body Size"]=t.encodedBodySize),"decodedBodySize"in t&&(o["Decoded Body Size"]=t.decodedBodySize);var a=s+r;Mn(e,{description:n,endTimestamp:a+i,op:t.initiatorType?"resource."+t.initiatorType:"resource",startTimestamp:a,data:o})}}(e,s,l,o,a,i)}})),this._performanceCursor=Math.max(performance.getEntries().length-1,0),this._trackNavigator(e),"pageload"===e.op){var s=(0,Sn.rv)(Se.k3);"number"==typeof n&&(wn.w&&Z.vF.log("[Measurements] Adding TTFB"),this._measurements.ttfb={value:1e3*(n-e.startTimestamp)},"number"==typeof r&&r<=n&&(this._measurements["ttfb.requestTime"]={value:1e3*(n-r)})),["fcp","fp","lcp"].forEach((function(n){if(t._measurements[n]&&!(s>=e.startTimestamp)){var r=t._measurements[n].value,i=s+(0,Sn.rv)(r),o=Math.abs(1e3*(i-e.startTimestamp)),a=o-r;wn.w&&Z.vF.log("[Measurements] Normalized "+n+" from "+r+" to "+o+" ("+a+")"),t._measurements[n].value=o}})),this._measurements["mark.fid"]&&this._measurements.fid&&Mn(e,{description:"first input delay",endTimestamp:this._measurements["mark.fid"].value+(0,Sn.rv)(this._measurements.fid.value),op:"web.vitals",startTimestamp:this._measurements["mark.fid"].value}),"fcp"in this._measurements||delete this._measurements.cls,e.setMeasurements(this._measurements),function(e,t,n){t&&(wn.w&&Z.vF.log("[Measurements] Adding LCP Data"),t.element&&e.setTag("lcp.element",(0,Dt.H)(t.element)),t.id&&e.setTag("lcp.id",t.id),t.url&&e.setTag("lcp.url",t.url.trim().slice(0,200)),e.setTag("lcp.size",t.size)),n&&n.sources&&(wn.w&&Z.vF.log("[Measurements] Adding CLS Data"),n.sources.forEach((function(t,n){return e.setTag("cls.source."+(n+1),(0,Dt.H)(t.node))})))}(e,this._lcpEntry,this._clsEntry),e.setTag("sentry_reportAllChanges",this._reportAllChanges)}}},e.prototype._trackNavigator=function(e){var t=Fn.navigator;if(t){var n=t.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),Dn(n.rtt)&&(this._measurements["connection.rtt"]={value:n.rtt}),Dn(n.downlink)&&(this._measurements["connection.downlink"]={value:n.downlink})),Dn(t.deviceMemory)&&e.setTag("deviceMemory",String(t.deviceMemory)),Dn(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}},e.prototype._trackCLS=function(){var e,t,n,r,i,s,o,a=this;e=function(e){var t=e.entries.pop();t&&(wn.w&&Z.vF.log("[Measurements] Adding CLS"),a._measurements.cls={value:e.value},a._clsEntry=t)},n=In("CLS",0),r=0,i=[],(o=On("layout-shift",s=function(e){if(e&&!e.hadRecentInput){var s=i[0],o=i[i.length-1];r&&0!==i.length&&e.startTime-o.startTime<1e3&&e.startTime-s.startTime<5e3?(r+=e.value,i.push(e)):(r=e.value,i=[e]),r>n.value&&(n.value=r,n.entries=i,t&&t())}}))&&(t=Cn(e,n,undefined),Ln((function(){o.takeRecords().map(s),t(!0)})))},e.prototype._trackLCP=function(){var e=this;!function(t,n){var r,i=Rn(),s=In("LCP"),o=function(e){var t=e.startTime;t<i.firstHiddenTime&&(s.value=t,s.entries.push(e)),r&&r()},a=On("largest-contentful-paint",o);if(a){r=Cn((function(t){var n=t.entries.pop();if(n){var r=(0,Sn.rv)(Se.k3),i=(0,Sn.rv)(n.startTime);wn.w&&Z.vF.log("[Measurements] Adding LCP"),e._measurements.lcp={value:t.value},e._measurements["mark.lcp"]={value:r+i},e._lcpEntry=n}}),s,n);var c=function(){qn[s.id]||(a.takeRecords().map(o),a.disconnect(),qn[s.id]=!0,r(!0))};["keydown","click"].forEach((function(e){addEventListener(e,c,{once:!0,capture:!0})})),Ln(c,!0)}}(0,this._reportAllChanges)},e.prototype._trackFID=function(){var e,t,n,r,i,s,o=this;e=function(e){var t=e.entries.pop();if(t){var n=(0,Sn.rv)(Se.k3),r=(0,Sn.rv)(t.startTime);wn.w&&Z.vF.log("[Measurements] Adding FID"),o._measurements.fid={value:e.value},o._measurements["mark.fid"]={value:n+r}}},n=Rn(),r=In("FID"),(s=On("first-input",i=function(e){t&&e.startTime<n.firstHiddenTime&&(r.value=e.processingStart-e.startTime,r.entries.push(e),t(!0))}))&&(t=Cn(e,r,undefined),Ln((function(){s.takeRecords().map(i),s.disconnect()}),!0))},e}();function jn(e,t,n,r,i,s){var o=s?t[s]:t[n+"End"],a=t[n+"Start"];a&&o&&Mn(e,{op:"browser",description:null!=i?i:n,startTimestamp:r+(0,Sn.rv)(a),endTimestamp:r+(0,Sn.rv)(o)})}function Mn(e,t){var n=t.startTimestamp,r=(0,s.Tt)(t,["startTimestamp"]);return n&&e.startTimestamp>n&&(e.startTimestamp=n),e.startChild((0,s.Cl)({startTimestamp:n},r))}function Dn(e){return"number"==typeof e&&isFinite(e)}var $n={traceFetch:!0,traceXHR:!0,tracingOrigins:["localhost",/^\//]};var Bn=(0,de.V)(),Un=(0,s.Cl)({idleTimeout:xn.$F,markBackgroundTransactions:!0,maxTransactionDuration:600,routingInstrumentation:function(e,t,n){if(void 0===t&&(t=!0),void 0===n&&(n=!0),Bn&&Bn.location){var r,i=Bn.location.href;t&&(r=e({name:Bn.location.pathname,op:"pageload"})),n&&(0,le.O)("history",(function(t){var n=t.to,s=t.from;void 0===s&&i&&-1!==i.indexOf(n)?i=void 0:s!==n&&(i=void 0,r&&(wn.w&&Z.vF.log("[Tracing] Finishing current transaction with op: "+r.op),r.finish()),r=e({name:Bn.location.pathname,op:"navigation"}))}))}else wn.w&&Z.vF.warn("Could not initialize routing instrumentation due to invalid location")},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0},$n),Hn=function(){function e(t){this.name=e.id,this._configuredIdleTimeout=void 0;var n=$n.tracingOrigins;t&&(this._configuredIdleTimeout=t.idleTimeout,t.tracingOrigins&&Array.isArray(t.tracingOrigins)&&0!==t.tracingOrigins.length?n=t.tracingOrigins:wn.w&&(this._emitOptionsWarning=!0)),this.options=(0,s.Cl)((0,s.Cl)((0,s.Cl)({},Un),t),{tracingOrigins:n});var r=this.options._metricOptions;this._metrics=new Nn(r&&r._reportAllChanges)}return e.prototype.setupOnce=function(e,t){var n=this;this._getCurrentHub=t,this._emitOptionsWarning&&(wn.w&&Z.vF.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),wn.w&&Z.vF.warn("[Tracing] We added a reasonable default for you: "+$n.tracingOrigins));var r=this.options,i=r.routingInstrumentation,o=r.startTransactionOnLocationChange,a=r.startTransactionOnPageLoad,c=r.markBackgroundTransactions,u=r.traceFetch,d=r.traceXHR,l=r.tracingOrigins,p=r.shouldCreateSpanForRequest;i((function(e){return n._createRouteTransaction(e)}),a,o),c&&(kn&&kn.document?kn.document.addEventListener("visibilitychange",(function(){var e=(0,Sn.Z7)();if(kn.document.hidden&&e){var t="cancelled";wn.w&&Z.vF.log("[Tracing] Transaction: "+t+" -> since tab moved to the background, op: "+e.op),e.status||e.setStatus(t),e.setTag("visibilitychange","document.hidden"),e.setTag(Tn._,Tn.e[2]),e.finish()}})):wn.w&&Z.vF.warn("[Tracing] Could not set up background tab detection due to lack of global document")),function(e){var t=(0,s.Cl)((0,s.Cl)({},$n),e),n=t.traceFetch,r=t.traceXHR,i=t.tracingOrigins,o=t.shouldCreateSpanForRequest,a={},c=function(e){if(a[e])return a[e];var t=i;return a[e]=t.some((function(t){return(0,te._c)(e,t)}))&&!(0,te._c)(e,"sentry_key"),a[e]},u=c;"function"==typeof o&&(u=function(e){return c(e)&&o(e)});var d={};n&&(0,le.O)("fetch",(function(e){!function(e,t,n){if((0,Sn.wt)()&&e.fetchData&&t(e.fetchData.url))if(e.endTimestamp){var r=e.fetchData.__span;if(!r)return;(o=n[r])&&(e.response?o.setHttpStatus(e.response.status):e.error&&o.setStatus("internal_error"),o.finish(),delete n[r])}else{var i=(0,Sn.Z7)();if(i){var o=i.startChild({data:(0,s.Cl)((0,s.Cl)({},e.fetchData),{type:"fetch"}),description:e.fetchData.method+" "+e.fetchData.url,op:"http.client"});e.fetchData.__span=o.spanId,n[o.spanId]=o;var a=e.args[0]=e.args[0],c=e.args[1]=e.args[1]||{},u=c.headers;(0,we.tH)(a,Request)&&(u=a.headers),u?"function"==typeof u.append?u.append("sentry-trace",o.toTraceparent()):u=Array.isArray(u)?(0,s.gz)(u,[["sentry-trace",o.toTraceparent()]]):(0,s.Cl)((0,s.Cl)({},u),{"sentry-trace":o.toTraceparent()}):u={"sentry-trace":o.toTraceparent()},c.headers=u}}}(e,u,d)})),r&&(0,le.O)("xhr",(function(e){!function(e,t,n){if(!(!(0,Sn.wt)()||e.xhr&&e.xhr.__sentry_own_request__)&&e.xhr&&e.xhr.__sentry_xhr__&&t(e.xhr.__sentry_xhr__.url)){var r=e.xhr.__sentry_xhr__;if(e.endTimestamp){var i=e.xhr.__sentry_xhr_span_id__;if(!i)return;(a=n[i])&&(a.setHttpStatus(r.status_code),a.finish(),delete n[i])}else{var o=(0,Sn.Z7)();if(o){var a=o.startChild({data:(0,s.Cl)((0,s.Cl)({},r.data),{type:"xhr",method:r.method,url:r.url}),description:r.method+" "+r.url,op:"http.client"});if(e.xhr.__sentry_xhr_span_id__=a.spanId,n[e.xhr.__sentry_xhr_span_id__]=a,e.xhr.setRequestHeader)try{e.xhr.setRequestHeader("sentry-trace",a.toTraceparent())}catch(e){}}}}}(e,u,d)}))}({traceFetch:u,traceXHR:d,tracingOrigins:l,shouldCreateSpanForRequest:p})},e.prototype._createRouteTransaction=function(e){var t=this;if(this._getCurrentHub){var n=this.options,r=n.beforeNavigate,i=n.idleTimeout,o=n.maxTransactionDuration,a="pageload"===e.op?function(){var e,t=("sentry-trace",(e=(0,de.V)().document.querySelector("meta[name=sentry-trace]"))?e.getAttribute("content"):null);if(t)return function(e){var t=e.match(An);if(t){var n=void 0;return"1"===t[3]?n=!0:"0"===t[3]&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}}(t)}():void 0,c=(0,s.Cl)((0,s.Cl)((0,s.Cl)({},e),a),{trimEnd:!0}),u="function"==typeof r?r(c):c,d=void 0===u?(0,s.Cl)((0,s.Cl)({},c),{sampled:!1}):u;!1===d.sampled&&wn.w&&Z.vF.log("[Tracing] Will not send "+d.op+" transaction because of beforeNavigate."),wn.w&&Z.vF.log("[Tracing] Starting "+d.op+" transaction on scope");var l=this._getCurrentHub(),p=(0,de.V)().location,f=(0,bn.pd)(l,d,i,!0,{location:p});return f.registerBeforeFinishCallback((function(e,n){t._metrics.addPerformanceEntries(e),function(e,t,n){var r=n-t.startTimestamp;n&&(r>e||r<0)&&(t.setStatus("deadline_exceeded"),t.setTag("maxTransactionDurationExceeded","true"))}((0,Sn.vO)(o),e,n)})),f.setTag("idleTimeout",this._configuredIdleTimeout),f}wn.w&&Z.vF.warn("[Tracing] Did not create "+e.op+" transaction because _getCurrentHub is invalid.")},e.id="BrowserTracing",e}();(0,bn.lk)();var zn=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};(function(){const e=e=>{const t=browser.runtime.getURL("");return e.replace(t,"~/")},t=()=>zn(this,void 0,void 0,(function*(){const e=self.crypto.randomUUID();return browser.storage.local.set({uuid:e}).then((()=>{g.log(`(SentryLoader.generateAndPersistUUID) New UUID generated and stored: ${e}`)})),e})),n=()=>zn(this,void 0,void 0,(function*(){const{uuid:e}=yield browser.storage.local.get("uuid");return e||t()}));return{init:()=>zn(this,void 0,void 0,(function*(){yield h.init();const t=yield h.get("bugReport"),r=yield n();!function(e){if(void 0===e&&(e={}),void 0===e.defaultIntegrations&&(e.defaultIntegrations=gn),void 0===e.release){var t=(0,de.V)();t.SENTRY_RELEASE&&t.SENTRY_RELEASE.id&&(e.release=t.SENTRY_RELEASE.id)}void 0===e.autoSessionTracking&&(e.autoSessionTracking=!0),void 0===e.sendClientReports&&(e.sendClientReports=!0),function(e,t){!0===t.debug&&(ne?Z.vF.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));var n=(0,o.BF)(),r=n.getScope();r&&r.update(t.initialScope);var i=new e(t);n.bindClient(i)}(Wt,e),e.autoSessionTracking&&function(){if(void 0!==(0,de.V)().document){var e=(0,o.BF)();e.captureSession&&(mn(e),(0,le.O)("history",(function(e){var t=e.from,n=e.to;void 0!==t&&t!==n&&mn((0,o.BF)())})))}else kt&&Z.vF.warn("Session tracking in non-browser environment with @sentry/browser is not supported.")}()}({dsn:"https://a6dcb8356fb92f218b162b76ddc60a5e@o4507282894487552.ingest.de.sentry.io/4507282896519248",release:"in-my-pocket@"+H.getCurrentVersion(),enabled:t,tracesSampleRate:1,initialScope:{user:{id:r||"0"}},integrations:[new Hn,new _n.GlobalHandlers({onerror:!0})],beforeSend(t){if(t.request&&t.request.url&&(t.request.url=e(t.request.url)),t.exception)for(const n of t.exception.values)if(n.stacktrace&&n.stacktrace.frames)for(const t of n.stacktrace.frames)t.filename=e(t.filename);return t}})}))}})().init(),document.body.onmousedown=e=>{if(1===e.button)return!1},document.addEventListener("DOMContentLoaded",(function(){V.inSidebar()&&(document.body.classList.add("sidebar"),document.documentElement.classList.add("sidebar")),V.setup(),browser.runtime.onMessage.addListener((function(e){M.disable(),e.error?function(e){g.warn(`(popup onError): ${e}`);let t="An error occurred: ";switch(e.error){case w:t+="unauthorized, you might need to login again";break;case x:t+="max requests reached for this hour",t+=` (reset in ${e.resetDelay})`;break;case S:t+="missing permissions";break;case A:t+="target URL does not exist";break;case T:t+="timed out while contacting Pocket API";break;case k:t+="unhandled HTTP response";break;case E:t+="something went wrong that does not fit any known case"}J.show(t,z.ERROR,5e3),browser.runtime.sendMessage({action:"flash-error"}),u({error:e.error})}(e):e.notice?function(e){g.warn(`(popup onNotice) : ${e}`),e.notice===C&&J.show("This page is already in your Pocket :)",z.NOTICE,5e3)}(e):function(e){switch(g.log(`(popup onMessage): ${e.action}`),e.action){case"authenticated":window.location.reload(),browser.runtime.sendMessage({action:"update-badge-count"});break;case"marked-as-read":case"deleted":Q.fadeOutItem(e.id),Q.updateList();break;case"added-item":Q.updateList();break;case"favorited":Q.favoriteItem(e.id);break;case"unfavorited":Q.unfavoriteItem(e.id);break;case"retrieved-items":Q.updateList(),v.updateCount(),e.full&&J.isNeedResyncMessageDisplayed()&&J.show("<strong>All your items have been resynced, thank you!<strong> 🤗",z.SUCCESS,5e3)}}(e)}))}))})()})();
//# sourceMappingURL=popup.js.map
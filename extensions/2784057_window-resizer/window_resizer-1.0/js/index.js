document["addEventListener"]("DOMContentLoaded", function () { localizeHtmlPage(); var hse = []; browser["storage"]["local"]["get"]("local", function (buu) { if (buu != undefined && buu != "") { if (buu["local"] != undefined) { hse = JSON["parse"](buu["local"]); display(hse); } } }); $customBtn = $("#set-custom"); $addBtn = $("#add-custom"); $(document)["on"]("click", ".tab-content > ul li", function () { var gfh = Number($(this)["attr"]("data-width")); var otp = Number($(this)["attr"]("data-height")); clickBtnResize(gfh, otp); }); $(document)["on"]("click", ".delete", function (ksb) { ksb["stopPropagation"](); var aoo = Number($(this)["parents"]("li")["attr"]("btnId")); browser["storage"]["local"]["get"]("local", function (ggx) { if (ggx != undefined && ggx != "") { if (ggx["local"] != undefined) { hse = JSON["parse"](ggx["local"]); $["each"](hse, function (mxq, qxo) { if (aoo === mxq) { hse["splice"](aoo, 1); browser["storage"]["local"]["set"]({ local: JSON["stringify"](hse) }, function () { display(hse); }); } }); } } }); }); $customBtn["click"](function () { var tfs = Number($(this)["parent"]()["find"]("#custom-width")["val"]()); var fka = Number($(this)["parent"]()["find"]("#custom-height")["val"]()); addSetFun(tfs, fka, "SET"); }); $addBtn["click"](function (mox) { var krc = Number($(this)["parent"]()["find"]("#custom-width")["val"]()); var dob = Number($(this)["parent"]()["find"]("#custom-height")["val"]()); addSetFun(krc, dob, "ADD"); }); $('.open_popup')['click'](function (vob) { vob['preventDefault'](); var ozp; browser['windows']['getAll']({ 'populate': !![] }, function (zuu) { if (zuu['length'] == 3) { zuu['forEach'](function (krc, ddb) { if (ddb == 0) { var gfh = krc['tabs']; gfh['forEach'](function (tfs, mqc) { if (tfs['active'] == !![]) { ozp = tfs['url']; } }); } else if (ddb > 0) { if (ddb == 1) { browser['windows']['create']({ 'url': ozp, 'width': 500, 'height': 500 }); browser['windows']['remove'](krc['id']); } else if (ddb == 2) { browser['windows']['create']({ 'url': window['location']['href'], 'width': 500, 'height': 550 }); browser['windows']['remove'](krc['id']); } } }); } else if (zuu['length'] < 2) { browser['tabs']['query']({}, function (kal) { $['each'](kal, function (nwx, oqg) { if (oqg['active'] == !![]) { if (oqg['url']['startsWith']('about:') == !![]) { $('.customMsg')['text']('__MSG_chromeEror__')['show'](); setTimeout(function () { $('.customMsg')['text']('')['hide'](); }, 4000); replaceLang('SET'); return ![]; } else { var uol = oqg['width']; var cob = oqg['height']; var mxq = oqg['id']; var loo = oqg['url']; try { browser['windows']['create']({ 'url': loo, 'width': 500, 'height': 500 }); browser['windows']['create']({ 'url': window['location']['href'], 'width': 500, 'height': 550 }); } catch (iwb) { $('.customMsg')['text']('__MSG_chromeEror__')['show'](); replaceLang('SET'); setTimeout(function () { $('.customMsg')['text']('')['hide'](); }, 4000); } return ![]; } } }); }); } else if (zuu['length'] == 2) { zuu['forEach'](function (buu, qxo) { if (qxo > 0) { browser['windows']['remove'](buu['id']); } }); setTimeout(function () { $('.open_popup')['trigger']('click'); }, 200); } }); }); $(".rotate")["click"](function () { var tdb = Number($(this)["attr"]("data-height")); var zgj = Number($(this)["attr"]("data-width")); clickBtnResize(tdb, zgj); }); $(".rotate")["hover"](function () { var bob = "__MSG_rotateViewport__"; var iwb = bob["replace"](/__MSG_(\w+)__/g, function (ozp, zob) { return zob ? browser["i18n"]["getMessage"](zob) : ""; }); if (iwb != bob) { $(this)["parents"](".wrapper_head")["attr"]("title", iwb); } }); $(".cancel-dialog")["click"](function () { $(".main-dialog")["hide"](); }); $(".close-dialog")["click"](function () { $(".main-dialog")["hide"](); }); $(".ok-dialog")["click"](function () { var eob = (device_str = ""); $(".tabs") ["find"]("li") ["each"](function (kay, vob) { if ($(this)["hasClass"]("active")) { eob = $(this)["attr"]("data"); } }); var dfg = $("#devicename")["val"](); if (dfg == "") { device_str = eob; } else if (dfg != "") { device_str = dfg; } var zuu = $(".add_contents")["find"]("#custom-width")["val"](); var uol = $(".add_contents")["find"]("#custom-height")["val"](); browser["storage"]["local"]["get"]("local", function (oqg) { var Jsv = []; if (oqg["local"] != undefined) { Jsv = JSON["parse"](oqg["local"]); var Bob = !![]; $["each"](Jsv, function (Vob, Qxo) { if (Qxo["type"] == eob && Qxo["width"] == zuu && Qxo["height"] == uol) { Bob = ![]; } }); if (Bob == !![]) { Jsv["push"]({ width: zuu, height: uol, img: device_str, type: eob }); browser["storage"]["local"]["set"]({ local: JSON["stringify"](Jsv) }, function () { $(".main-dialog")["hide"](); }); display(Jsv); } else if (Bob == ![]) { $(".main-dialog")["hide"](); $(document)["find"](".deviceMsg")["text"](replaceString("__MSG_exist__"))["show"](); setTimeout(function () { $(".deviceMsg")["text"]("")["hide"](); }, 2000); } } }); }); }); var status = ![]; browser["runtime"]["onMessage"]["addListener"](function (Zuu, Nwx, Duv) { if (Zuu["msg"] == "script") { if (Zuu["action"] == "getWind") { status = Zuu["status"]; } } }); function clickBtnResize(Uol, Buu) { $(".rotate")["attr"]("data-width", Uol); $(".rotate")["attr"]("data-height", Buu); if (Uol <= 2000 && Buu <= 1200) { browser["windows"]["getAll"]({ populate: !![] }, function (Gfh) { var Ggx = Gfh[0]["height"]; var Zgj = []; Gfh["forEach"](function (Kay, Mxq) { Zgj["push"](Kay["focused"]); if (status == "true") { browser["storage"]["local"]["get"]("getWindowId", function (Htb) { var Iwb = Number(Htb["getWindowId"]); if (Iwb == Kay["id"]) { if (Mxq == 0) { browser["windows"]["update"](Iwb, { width: Uol, height: Buu }, function (Tfs) {}); } else if (Mxq > 0) { browser["windows"]["update"](Iwb, { focused: !![], width: Uol, height: Buu }, function (Ozp) {}); } } }); } if (status == "false") { browser["tabs"]["query"]({}, function (Ddb) { Ddb["forEach"](function (Tdb, Mok) { if (Mxq > 0) { if (Kay["focused"] == !![]) { var Dob = Gfh[Mxq - 1]; var Zob = Dob["tabs"][0]["windowId"]; if (Zob == Tdb["windowId"]) { browser["windows"]["update"](Tdb["windowId"], { focused: !![], width: Uol, height: Buu }, function (Fka) {}); } } } else if (Zgj["length"] == 1) { if (Mxq == 0) { var Dob = Gfh[Mxq]; var Zob = Dob["tabs"][0]["windowId"]; parentWindow(Zob, Uol, Buu); } } }); }); } }); Gfh["forEach"](function (Otp, Krc) { if (!Zgj["includes"](!![])) { if (Krc == 0) { var Mox = Gfh[Krc]; var Kal = Mox["tabs"][0]["windowId"]; parentWindow(Kal, Uol, Buu); } } }); }); } else if (Uol > 2000 || Buu > 1200) { $(".customMsg")["text"]("__MSG_notSupport__")["show"](); setTimeout(function () { $(".customMsg")["text"]("")["hide"](); }, 2000); } replaceLang("SET"); } function parentWindow(Eob, Hse, Dfg) { browser["windows"]["update"](Eob, { width: Hse, height: Dfg }, function (Ksb) { if (Ksb != undefined) { if (Hse <= 600) { setTimeout(function () { $("body")["css"]({ width: "auto" }); $(".main-box")["css"]({ width: "auto" }); $(".delete")["css"]({ "margin-left": "-100px" }); $("html")["css"]({ width: "300px" }); $(".tabs")["find"]("li")["find"]("p")["css"]({ margin: "0 20px" }); }); } else { setTimeout(function () { $("body")["css"]({ width: "400px" }); $(".main-box")["css"]({ width: "400px" }); $(".delete")["css"]({ "margin-left": "0px" }); $("html")["css"]({ width: "400px" }); $(".tabs")["find"]("li")["find"]("p")["css"]({ margin: "0 30px" }); }); } if (Dfg <= 550 && Dfg > 450) { setTimeout(function () { $(".main-box")["css"]({ height: "300px" }); }); } else if (Dfg <= 450) { window_height = Dfg - 175 + "px"; setTimeout(function () { $(".main-box")["css"]("height", window_height); }); } else { setTimeout(function () { $(".main-box")["css"]({ height: "400px" }); }); } } }); } function display(Loo) { var Cob = (tab = desktop = ""); $["each"](Loo, function (Aoo, Uaf) { var Aob = Uaf["width"]; var Oqg = Uaf["height"]; var Mqc; var gFh = "__MSG_deleteRec__"; var jSv; var uOl = gFh["replace"](/__MSG_(\w+)__/g, function (mXq, dOb) { return dOb ? browser["i18n"]["getMessage"](dOb) : ""; }); if (uOl != gFh) { jSv = uOl; } if (Uaf["type"] == "mobile") { if (Uaf["img"] == undefined) { Mqc = "__MSG_mobile__"; } else { Mqc = Uaf["img"]; } Cob += '<li data-width="' + Aob + '" data-height="' + Oqg + '" btnId="' + Aoo + '">' + "<span>" + "<h5>" + Aob + " x " + Oqg + "</h5>" + "<span>" + Mqc + "</span>" + "</span>" + '<span title="' + jSv + '"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="24" height="24" x="0" y="0" viewBox="0 0 24 24" style="enable-background:new 0 0 512 512" xml:space="preserve" class="delete"><g><path d="M19,7a1,1,0,0,0-1,1V19.191A1.92,1.92,0,0,1,15.99,21H8.01A1.92,1.92,0,0,1,6,19.191V8A1,1,0,0,0,4,8V19.191A3.918,3.918,0,0,0,8.01,23h7.98A3.918,3.918,0,0,0,20,19.191V8A1,1,0,0,0,19,7Z" fill="#000000" data-original="#000000" class=""></path><path d="M20,4H16V2a1,1,0,0,0-1-1H9A1,1,0,0,0,8,2V4H4A1,1,0,0,0,4,6H20a1,1,0,0,0,0-2ZM10,4V3h4V4Z" fill="#000000" data-original="#000000" class=""></path><path d="M11,17V10a1,1,0,0,0-2,0v7a1,1,0,0,0,2,0Z" fill="#000000" data-original="#000000" class=""></path><path d="M15,17V10a1,1,0,0,0-2,0v7a1,1,0,0,0,2,0Z" fill="#000000" data-original="#000000" class=""></path></g></svg></span>' + "</li>"; } if (Uaf["type"] == "tablet") { if (Uaf["img"] == undefined) { Mqc = "__MSG_tablet__"; } else { Mqc = Uaf["img"]; } tab += '<li data-width="' + Aob + '" data-height="' + Oqg + '" btnId="' + Aoo + '">' + "<span>" + "<h5>" + Aob + " x " + Oqg + "</h5>" + "<span>" + Mqc + "</span>" + "</span>" + '<span title="' + jSv + '"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="24" height="24" x="0" y="0" viewBox="0 0 24 24" style="enable-background:new 0 0 512 512" xml:space="preserve" class="delete"><g><path d="M19,7a1,1,0,0,0-1,1V19.191A1.92,1.92,0,0,1,15.99,21H8.01A1.92,1.92,0,0,1,6,19.191V8A1,1,0,0,0,4,8V19.191A3.918,3.918,0,0,0,8.01,23h7.98A3.918,3.918,0,0,0,20,19.191V8A1,1,0,0,0,19,7Z" fill="#000000" data-original="#000000" class=""></path><path d="M20,4H16V2a1,1,0,0,0-1-1H9A1,1,0,0,0,8,2V4H4A1,1,0,0,0,4,6H20a1,1,0,0,0,0-2ZM10,4V3h4V4Z" fill="#000000" data-original="#000000" class=""></path><path d="M11,17V10a1,1,0,0,0-2,0v7a1,1,0,0,0,2,0Z" fill="#000000" data-original="#000000" class=""></path><path d="M15,17V10a1,1,0,0,0-2,0v7a1,1,0,0,0,2,0Z" fill="#000000" data-original="#000000" class=""></path></g></svg></span>' + "</li>"; } if (Uaf["type"] == "desktop") { if (Uaf["img"] == undefined) { Mqc = "__MSG_desktop__"; } else { Mqc = Uaf["img"]; } desktop += '<li data-width="' + Aob + '" data-height="' + Oqg + '" btnId="' + Aoo + '">' + "<span>" + "<h5>" + Aob + " x " + Oqg + "</h5>" + "<span>" + Mqc + "</span>" + "</span>" + '<span title="' + jSv + '"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="24" height="24" x="0" y="0" viewBox="0 0 24 24" style="enable-background:new 0 0 512 512" xml:space="preserve" class="delete"><g><path d="M19,7a1,1,0,0,0-1,1V19.191A1.92,1.92,0,0,1,15.99,21H8.01A1.92,1.92,0,0,1,6,19.191V8A1,1,0,0,0,4,8V19.191A3.918,3.918,0,0,0,8.01,23h7.98A3.918,3.918,0,0,0,20,19.191V8A1,1,0,0,0,19,7Z" fill="#000000" data-original="#000000" class=""></path><path d="M20,4H16V2a1,1,0,0,0-1-1H9A1,1,0,0,0,8,2V4H4A1,1,0,0,0,4,6H20a1,1,0,0,0,0-2ZM10,4V3h4V4Z" fill="#000000" data-original="#000000" class=""></path><path d="M11,17V10a1,1,0,0,0-2,0v7a1,1,0,0,0,2,0Z" fill="#000000" data-original="#000000" class=""></path><path d="M15,17V10a1,1,0,0,0-2,0v7a1,1,0,0,0,2,0Z" fill="#000000" data-original="#000000" class=""></path></g></svg></span>' + "</li>"; } }); $("#tab-1")["find"]("ul")["html"](desktop); $("#tab-2")["find"]("ul")["html"](tab); $("#tab-3")["find"]("ul")["html"](Cob); $(".content-wrapper") ["find"](".tab-content") ["each"](function (kRc, kSb) { $(this) ["find"]("ul") ["each"](function (zGj, oQg) { $(this) ["find"]("li") ["each"](function (iWb, nWx) { var fKa = $(this)["find"]("span")["find"]("span")["html"](); var cOb = $(this)["find"]("span:last-child")["attr"]("title"); var kAy = fKa["replace"](/__MSG_(\w+)__/g, function (hTb, tFs) { return tFs ? browser["i18n"]["getMessage"](tFs) : ""; }); if (kAy != fKa) { $(this)["find"]("span")["find"]("span")["html"](kAy); } }); }); }); } function addSetFun(qXo, bUu, oZp) { var oTp; if (oZp == "SET") { oTp = "customMsg"; } if (oZp == "ADD") { oTp = "deviceMsg"; } var gGx; if (qXo <= 300) { $("." + oTp) ["text"]("__MSG_wmoreThan300__") ["show"](); setTimeout(function () { $("." + oTp) ["text"]("") ["hide"](); }, 3000); replaceLang(oZp); } else if (bUu <= 400) { $("." + oTp) ["text"]("__MSG_hmoreThan400__") ["show"](); setTimeout(function () { $("." + oTp) ["text"]("") ["hide"](); }, 3000); replaceLang(oZp); } else if (qXo > 2000 || bUu > 1200) { $("." + oTp) ["text"]("__MSG_validSize__") ["show"](); setTimeout(function () { $("." + oTp) ["text"]("") ["hide"](); }, 3000); replaceLang(oZp); } else { if (oZp == "ADD") { var kAl; $(".tabs") ["find"]("li") ["each"](function (hSe, dUv) { if ($(this)["hasClass"]("active")) { kAl = $(this)["attr"]("data"); } }); browser["storage"]["local"]["get"]("local", function (tDb) { var lOo = []; if (tDb["local"] != undefined) { lOo = JSON["parse"](tDb["local"]); } var zUu; var mOk = $("#devicename")["val"](); if (kAl == "mobile") { if (qXo >= 300 && qXo < 700) { zUu = checkSize(lOo, qXo, bUu, "ADD", "mobile"); } else if (qXo >= 300 && qXo <= 2000) { $(".main-dialog")["show"](); if (qXo >= 700 && qXo < 1280) { setDeviceName(kAl, replaceString("__MSG_tablet__")); } else if (qXo >= 1280 && qXo <= 2000) { setDeviceName(kAl, replaceString("__MSG_desktop__")); } } } else if (kAl == "tablet") { if (qXo >= 700 && qXo < 1280) { zUu = checkSize(lOo, qXo, bUu, "ADD", "tablet"); } else if (qXo >= 300 && qXo <= 2000) { $(".main-dialog")["show"](); if (qXo >= 300 && qXo < 700) { setDeviceName(kAl, replaceString("__MSG_mobile__")); } else if (qXo >= 1280 && qXo <= 2000) { setDeviceName(kAl, replaceString("__MSG_desktop__")); } } } else if (kAl == "desktop") { if (qXo >= 1280 && qXo <= 2000) { zUu = checkSize(lOo, qXo, bUu, "ADD", "desktop"); } else if (qXo >= 300 && qXo <= 2000) { $(".main-dialog")["show"](); if (qXo >= 300 && qXo < 700) { setDeviceName(kAl, replaceString("__MSG_mobile__")); } else if (qXo >= 700 && qXo < 1280) { setDeviceName(kAl, replaceString("__MSG_tablet__")); } } } else if (qXo > 2000 || qXo < 300) { $("." + oTp) ["text"]("__MSG_validSizeDevice__") ["show"](); setTimeout(function () { $("." + oTp) ["text"]("") ["hide"](); }, 3000); replaceLang(zUu); } if (zUu == !![]) { if (mOk == "") { gGx = kAl; } else if (mOk != "") { gGx = mOk; } lOo["push"]({ width: qXo, height: bUu, img: gGx, type: kAl }); $("#devicename")["val"](""); } browser["storage"]["local"]["set"]({ local: JSON["stringify"](lOo) }, function () {}); display(lOo); }); } else if (oZp == "SET") { clickBtnResize(qXo, bUu); } } } function setDeviceName(dDb, bOb) { $(document)["find"](".in_device")["text"](bOb); $(document)["find"](".out_device")["text"](dDb); } function checkSize(aOb, mOx, vOb, eOb, mQc) { var zOb = !![]; $["each"](aOb, function (dFg, aOo) { if (mQc == aOo["type"] && Number(aOo["width"]) == mOx && Number(aOo["height"]) == vOb) { if (eOb == "ADD") { $(document)["find"](".deviceMsg")["text"]("__MSG_exist__")["show"](); } setTimeout(function () { $(".deviceMsg")["text"]("")["hide"](); }, 2000); replaceLang(eOb); zOb = ![]; } }); return zOb; } function replaceLang(uAf) { var MXq; if (uAf == "SET") { MXq = $(".customMsg")["html"](); } if (uAf == "ADD") { MXq = $(".deviceMsg")["html"](); } var BUu = MXq["replace"](/__MSG_(\w+)__/g, function (QXo, GFh) { return GFh ? browser["i18n"]["getMessage"](GFh) : ""; }); if (BUu != MXq) { if (uAf == "SET") { $(".customMsg")["html"](BUu); } if (uAf == "ADD") { $(".deviceMsg")["html"](BUu); } } } function replaceString(KSb) { var HTb = KSb["replace"](/__MSG_(\w+)__/g, function (MOk, JSv) { return JSv ? browser["i18n"]["getMessage"](JSv) : ""; }); return HTb; } function localizeHtmlPage() { var DUv = $("html"); for (var FKa = 0; FKa < DUv["length"]; FKa++) { var BOb = DUv[FKa]; var EOb = BOb["innerHTML"]["toString"](); var VOb = EOb["replace"](/__MSG_(\w+)__/g, function (DOb, TDb) { return TDb ? browser["i18n"]["getMessage"](TDb) : ""; }); if (VOb != EOb) { BOb["innerHTML"] = VOb; } } }
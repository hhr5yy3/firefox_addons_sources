import{j as e,t as l}from"./cplx-DEt7CUyc.js";import{u as a}from"./cplx-B42KOvrD.js";import{r as c,s as m}from"./cplx-CejnDNPm.js";import{s as d}from"./cplx-Bey00KRS.js";import{p,A as s,k as x}from"./cplx-Cdcyb6EG.js";import{D as u,g as w,a as h,b as g,d as f}from"./cplx-BsCYqTWz.js";import{I as b}from"./cplx-3dJoKO85.js";import{c as i}from"./cplx-AFeO3sEC.js";import{r as j}from"./cplx-M4JPizzD.js";function S({children:t}){const{data:o}=a({...i.versions}),r=o==null?void 0:o.latest;return e.jsxs(u,{children:[e.jsx(w,{children:t}),e.jsxs(h,{className:"tw-max-h-[80vh] tw-overflow-y-auto",children:[e.jsx(g,{className:"tw-text-lg tw-font-semibold",children:"A new version of the extension is available!"}),e.jsx(f,{children:"Please update to receive enhancements and bug fixes."}),e.jsxs("div",{className:"tw-flex tw-flex-col tw-gap-2",children:[e.jsxs("div",{className:"tw-mx-auto tw-my-0 tw-flex tw-items-center tw-gap-2 tw-rounded-md tw-border tw-border-border/50 tw-bg-secondary tw-p-4",children:[e.jsx("div",{className:"",children:p.version}),e.jsx(c,{className:"tw-size-4 tw-text-muted-foreground"}),e.jsx("div",{className:"tw-text-xl tw-font-semibold tw-text-primary",children:r})]}),e.jsx("div",{className:"tw-mx-auto tw-cursor-pointer tw-text-muted-foreground hover:tw-text-foreground hover:tw-underline",role:"link",onClick:()=>{r&&d("bg:openDirectReleaseNotes",{version:r},"background")},children:"Release Notes"}),e.jsxs("div",{className:"tw-space-y-2",children:[e.jsxs("div",{children:[e.jsx(m,{className:"tw-mr-2 tw-inline-block tw-size-5 tw-text-primary"}),e.jsxs("span",{children:["The upgrade should be happening automatically when you restart the browser, or force it to manually update in the"," ",e.jsx(v,{}),s.BROWSER==="firefox"?e.jsx("span",{children:" => Complexity"}):"."]}),e.jsx("div",{className:"tw-w-full",children:e.jsx(b,{src:s.BROWSER==="chrome"?"https://i.imgur.com/IMLecmp.png":"https://i.imgur.com/f2x3Mtl.png",alt:"extension-management-page",className:"tw-my-4 tw-object-cover"})})]}),e.jsxs("div",{className:"tw-text-muted-foreground",children:["Or click"," ",e.jsx("a",{className:"tw-underline",href:s.BROWSER==="chrome"?"https://chromewebstore.google.com/detail/complexity-perplexity-ai/ffppmilmeaekegkpckebkeahjgmhggpj":"https://addons.mozilla.org/en-US/firefox/addon/complexity/",target:"_blank",rel:"noreferrer",children:"HERE"})," ","to revisit the store and manually reinstall the extension if none of the above works (remember to export your settings!)."]})]})]})]})]})}function v(){return e.jsx("div",{role:"link",className:"tw-inline-block tw-cursor-pointer tw-text-primary tw-underline",onClick:()=>{s.BROWSER==="chrome"?navigator.clipboard.writeText("chrome://extensions"):navigator.clipboard.writeText("about:addons"),l({title:"âœ… Link copied to clipboard",description:"Please manually open the copied link."})},children:s.BROWSER==="chrome"?"chrome://extensions":"about:addons"})}function V(){const{data:t}=a({...i.versions,staleTime:1e3});return{isUpdateAvailable:j.useMemo(()=>{if(!t)return!1;const r=s.VERSION,n=t.latest;return x(n,r)>0},[t]),latestVersion:t==null?void 0:t.latest}}export{S as E,V as u};

!function(){var t={44:function(t,e){"use strict";var n=/(\w+)[-_].*/;function r(t,e){if(e[t])return e[t];var r=t.match(n);if(!r)throw new Error("Can't find lang or lcale with code "+t);return e[r[1]]}function o(t){return t>1}function i(t){return 1!==t}function a(t){return 0}var c={ach:{n:2,f:o},af:{n:2,f:i},ak:{n:2,f:o},am:{n:2,f:o},an:{n:2,f:i},ar:{n:6,f:function(t){return 0===t?0:1===t?1:2===t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5}},arn:{n:2,f:o},ast:{n:2,f:i},ay:{n:1,f:a},az:{n:2,f:i},be:{n:3,f:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2}},bg:{n:2,f:i},bn:{n:2,f:i},bo:{n:1,f:a},br:{n:2,f:o},brx:{n:2,f:i},bs:{n:3,f:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2}},ca:{n:2,f:i},cgg:{n:1,f:a},cs:{n:3,f:function(t){return 1===t?0:t>=2&&t<=4?1:2}},csb:{n:3,f:function(t){return 1===t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2}},cy:{n:4,f:function(t){return 1===t?0:2===t?1:8!==t&&11!==t?2:3}},da:{n:2,f:i},de:{n:2,f:i},doi:{n:2,f:i},dz:{n:1,f:a},el:{n:2,f:i},en:{n:2,f:i},eo:{n:2,f:i},es:{n:2,f:i},et:{n:2,f:i},eu:{n:2,f:i},fa:{n:1,f:a},ff:{n:2,f:i},fi:{n:2,f:i},fil:{n:2,f:o},fo:{n:2,f:i},fr:{n:2,f:function(t){return t<=-2||t>=2}},fur:{n:2,f:i},fy:{n:2,f:i},ga:{n:5,f:function(t){return 1===t?0:2===t?1:t<7?2:t<11?3:4}},gd:{n:4,f:function(t){return 1===t||11===t?0:2===t||12===t?1:t>2&&t<20?2:3}},gl:{n:2,f:i},gu:{n:2,f:i},gun:{n:2,f:o},ha:{n:2,f:i},he:{n:2,f:i},hi:{n:2,f:i},hne:{n:2,f:i},hr:{n:3,f:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2}},hu:{n:2,f:i},hy:{n:2,f:i},id:{n:1,f:a},is:{n:2,f:function(t){return t%10!=1||t%100==11}},it:{n:2,f:i},ja:{n:1,f:a},jbo:{n:1,f:a},jv:{n:2,f:function(t){return 0!==t}},ka:{n:1,f:a},kab:{n:2,f:i},kk:{n:2,f:i},km:{n:1,f:a},kn:{n:2,f:i},ko:{n:1,f:a},ku:{n:2,f:i},kw:{n:4,f:function(t){return 1===t?0:2===t?1:3===t?2:3}},ky:{n:1,f:a},lb:{n:2,f:i},ln:{n:2,f:o},lo:{n:1,f:a},lt:{n:3,f:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2}},lv:{n:3,f:function(t){return t%10==1&&t%100!=11?0:0!==t?1:2}},mai:{n:2,f:i},mfe:{n:2,f:o},mg:{n:2,f:o},mi:{n:2,f:o},mk:{n:2,f:function(t){return 1===t||t%10==1?0:1}},ml:{n:2,f:i},mn:{n:2,f:i},mni:{n:2,f:i},mnk:{n:3,f:function(t){return 0===t?0:1===t?1:2}},mr:{n:2,f:i},ms:{n:1,f:a},mt:{n:4,f:function(t){return 1===t?0:0===t||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3}},my:{n:1,f:a},nah:{n:2,f:i},nap:{n:2,f:i},nb:{n:2,f:i},ne:{n:2,f:i},nl:{n:2,f:i},nn:{n:2,f:i},no:{n:2,f:i},nso:{n:2,f:i},oc:{n:2,f:o},or:{n:2,f:i},pa:{n:2,f:i},pap:{n:2,f:i},pl:{n:3,f:function(t){return 1===t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2}},pms:{n:2,f:i},ps:{n:2,f:i},pt:{n:2,f:i},rm:{n:2,f:i},ro:{n:3,f:function(t){return 1===t?0:0===t||t%100>0&&t%100<20?1:2}},ru:{n:3,f:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2}},rw:{n:2,f:i},sah:{n:1,f:a},sat:{n:2,f:i},sco:{n:2,f:i},sd:{n:2,f:i},se:{n:2,f:i},si:{n:2,f:i},sk:{n:3,f:function(t){return 1===t?0:t>=2&&t<=4?1:2}},sl:{n:4,f:function(t){return t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0}},so:{n:2,f:i},son:{n:2,f:i},sq:{n:2,f:i},sr:{n:3,f:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2}},su:{n:1,f:a},sv:{n:2,f:i},sw:{n:2,f:i},ta:{n:2,f:i},te:{n:2,f:i},tg:{n:2,f:o},th:{n:1,f:a},ti:{n:2,f:o},tk:{n:2,f:i},tr:{n:2,f:o},tt:{n:1,f:a},ug:{n:1,f:a},uk:{n:3,f:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2}},ur:{n:2,f:i},uz:{n:2,f:o},vi:{n:1,f:a},wa:{n:2,f:o},wo:{n:1,f:a},yo:{n:2,f:i},zh:{n:1,f:a}};var s={};e.getPluralFunc=function(t){if(s[t])return s[t];var e=r(t,c),n=function(t,n){return n[+e.f(t)]};return s[t]=n,n}},429:function(t,e,n){t.exports=n(44)},970:function(t){"use strict";t.exports={appVersion:"1.2.5",appId:"jplgfhpmjnbigmhklmmbgecoobifkmpa",baseDomainURL:"https://account.proton.me",tokenDuration:1200,proxyHost:null,proxyPort:4443,singleProxyPort:!1,proxySecureCorePort:443,scheme:"https",apiDomainsExclusion:[],proxyLocalNetworkExclusion:["localhost","127.0.0.1","127.0.0.0/8","127.0.0.1:80","10.0.0.0/8","172.16.0.0/12","192.168.0.0/16","[::1]","<local>"],signupEnabled:!0,torEnabled:!1,sentry:"https://5c4abb94f5a644b38cf8e3261dfad0e3@reports.proton.me/api/core/v4/reports/sentry/67"}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),function(){"use strict";var t,e=n(970),r=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},i=e.appVersion,a=(e.appId,e.baseDomainURL),c="".concat(a,"/").concat(""),s="".concat(c,"vpn/dashboard"),u="".concat(a,"/api/"),l=new URL(u).hostname,f=e.sentry,d=(o([l],r(e.apiDomainsExclusion),!1),e.proxyLocalNetworkExclusion,e.signupEnabled),p=e.torEnabled,v=e.tokenDuration,h=(Math.floor(v/4),e.proxyHost,e.proxyPort,e.singleProxyPort,e.proxySecureCorePort,!0),y=(e.scheme,function(){return y=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},y.apply(this,arguments)}),g=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},m=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}};!function(t){t.LOCAL="local",t.SYNC="sync",t.SESSION="session"}(t||(t={}));var b=t.LOCAL,w=t.SESSION in chrome.storage?t.SESSION:b,_=function(e){return e===t.LOCAL?localStorage:sessionStorage},x={getDefinedItem:function(t,e,n){return void 0===n&&(n=b),g(this,void 0,void 0,(function(){return m(this,(function(r){switch(r.label){case 0:return[4,this.getItem(t,e,n)];case 1:return[2,r.sent()||e]}}))}))},getItem:function(t,e,n){return void 0===e&&(e=void 0),void 0===n&&(n=b),g(this,void 0,void 0,(function(){var r,o,i,a,c;return m(this,(function(s){switch(s.label){case 0:r="bex-"+t,s.label=1;case 1:return s.trys.push([1,3,,8]),[4,new Promise((function(t){chrome.storage[n].get(r,t)}))];case 2:return"object"==typeof(o=s.sent())&&o.hasOwnProperty(r)?[2,o[r]]:[2,e];case 3:s.sent(),i=_(n),s.label=4;case 4:return s.trys.push([4,6,,7]),[4,i.getItem(r)];case 5:return"string"==typeof(a=s.sent())?[2,JSON.parse(a)]:[2,e];case 6:return s.sent(),[2,(c=window.bexStorage||(window.bexStorage={})).hasOwnProperty(t)?c[t]:e];case 7:return[3,8];case 8:return[2]}}))}))},setItem:function(t,e,n){return void 0===n&&(n=b),g(this,void 0,void 0,(function(){var r,o,i;return m(this,(function(a){switch(a.label){case 0:r="bex-"+t,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,chrome.storage[n].set((i={},i[r]=e,i))];case 2:return a.sent(),[3,4];case 3:a.sent(),o=JSON.stringify(e);try{_(n).setItem(r,o)}catch(n){(window.bexStorage||(window.bexStorage={}))[t]=e}return[3,4];case 4:return[2]}}))}))},removeItem:function(t,e){return void 0===e&&(e=b),g(this,void 0,void 0,(function(){var n;return m(this,(function(r){switch(r.label){case 0:n="bex-"+t,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,chrome.storage[e].remove(n)];case 2:return r.sent(),[3,4];case 3:r.sent();try{_(e).removeItem(n)}catch(e){delete(window.bexStorage||(window.bexStorage={}))[t]}return[3,4];case 4:return[2]}}))}))},item:function(t,e,n){void 0===e&&(e=b),void 0===n&&(n="value");var r=this;return{key:t,get:function(n){return void 0===n&&(n=void 0),r.getItem(t,n,e)},getDefined:function(n){return r.getDefinedItem(t,n,e)},load:function(n){return void 0===n&&(n=void 0),g(this,void 0,void 0,(function(){var o;return m(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,r.getItem(t,n,e)];case 1:return[2,"object"==typeof(o=i.sent())?o:{}];case 2:return i.sent(),[2,{}];case 3:return[2]}}))}))},set:function(n){return r.setItem(t,n,e)},setValue:function(t,e){var r;return void 0===e&&(e={}),this.set(y(((r={time:Date.now()})[n]=t,r),e))},remove:function(){return r.removeItem(t,e)}}},selfItem:function(t,e){return void 0===e&&(e=b),this.item(t,e,t)}};const E="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,S="8.7.0",C=globalThis;function k(t,e,n){const r=n||C,o=r.__SENTRY__=r.__SENTRY__||{},i=o[S]=o[S]||{};return i[t]||(i[t]=e())}const O=["debug","info","warn","error","log","assert","trace"],T={};function L(t){if(!("console"in C))return t();const e=C.console,n={},r=Object.keys(T);r.forEach((t=>{const r=T[t];n[t]=e[t],e[t]=r}));try{return t()}finally{r.forEach((t=>{e[t]=n[t]}))}}const A=function(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return E?O.forEach((n=>{e[n]=(...e)=>{t&&L((()=>{C.console[n](`Sentry Logger [${n}]:`,...e)}))}})):O.forEach((t=>{e[t]=()=>{}})),e}(),P=C;function N(){if(!("fetch"in P))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(t){return!1}}function I(t){return t&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}const j="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,M=C,D={};function R(t){const e=D[t];if(e)return e;let n=M[t];if(I(n))return D[t]=n.bind(M);const r=M.document;if(r&&"function"==typeof r.createElement)try{const e=r.createElement("iframe");e.hidden=!0,r.head.appendChild(e);const o=e.contentWindow;o&&o[t]&&(n=o[t]),r.head.removeChild(e)}catch(e){j&&A.warn(`Could not create sandbox iframe for ${t} check, bailing to window.${t}: `,e)}return n?D[t]=n.bind(M):n}function U(t){D[t]=void 0}class $ extends Error{constructor(t,e="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=e}}const q=Object.prototype.toString;function H(t){switch(q.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return K(t,Error)}}function G(t,e){return q.call(t)===`[object ${e}]`}function B(t){return G(t,"ErrorEvent")}function F(t){return G(t,"DOMError")}function V(t){return G(t,"String")}function z(t){return"object"==typeof t&&null!==t&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}function Z(t){return null===t||z(t)||"object"!=typeof t&&"function"!=typeof t}function Y(t){return G(t,"Object")}function W(t){return"undefined"!=typeof Event&&K(t,Event)}function J(t){return Boolean(t&&t.then&&"function"==typeof t.then)}function K(t,e){try{return t instanceof e}catch(t){return!1}}function X(t){return!("object"!=typeof t||null===t||!t.__isVue&&!t._isVue)}var Q;function tt(t){return new nt((e=>{e(t)}))}function et(t){return new nt(((e,n)=>{n(t)}))}!function(t){t[t.PENDING=0]="PENDING";t[t.RESOLVED=1]="RESOLVED";t[t.REJECTED=2]="REJECTED"}(Q||(Q={}));class nt{constructor(t){nt.prototype.__init.call(this),nt.prototype.__init2.call(this),nt.prototype.__init3.call(this),nt.prototype.__init4.call(this),this._state=Q.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(t){this._reject(t)}}then(t,e){return new nt(((n,r)=>{this._handlers.push([!1,e=>{if(t)try{n(t(e))}catch(t){r(t)}else n(e)},t=>{if(e)try{n(e(t))}catch(t){r(t)}else r(t)}]),this._executeHandlers()}))}catch(t){return this.then((t=>t),t)}finally(t){return new nt(((e,n)=>{let r,o;return this.then((e=>{o=!1,r=e,t&&t()}),(e=>{o=!0,r=e,t&&t()})).then((()=>{o?n(r):e(r)}))}))}__init(){this._resolve=t=>{this._setResult(Q.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(Q.REJECTED,t)}}__init3(){this._setResult=(t,e)=>{this._state===Q.PENDING&&(J(e)?e.then(this._resolve,this._reject):(this._state=t,this._value=e,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===Q.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach((t=>{t[0]||(this._state===Q.RESOLVED&&t[1](this._value),this._state===Q.REJECTED&&t[2](this._value),t[0]=!0)}))}}}function rt(t){const e=[];function n(t){return e.splice(e.indexOf(t),1)[0]}return{$:e,add:function(r){if(!(void 0===t||e.length<t))return et(new $("Not adding Promise because buffer limit was reached."));const o=r();return-1===e.indexOf(o)&&e.push(o),o.then((()=>n(o))).then(null,(()=>n(o).then(null,(()=>{})))),o},drain:function(t){return new nt(((n,r)=>{let o=e.length;if(!o)return n(!0);const i=setTimeout((()=>{t&&t>0&&n(!1)}),t);e.forEach((t=>{tt(t).then((()=>{--o||(clearTimeout(i),n(!0))}),r)}))}))}}}const ot=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function it(t,e=!1){const{host:n,path:r,pass:o,port:i,projectId:a,protocol:c,publicKey:s}=t;return`${c}://${s}${e&&o?`:${o}`:""}@${n}${i?`:${i}`:""}/${r?`${r}/`:r}${a}`}function at(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function ct(t){const e="string"==typeof t?function(t){const e=ot.exec(t);if(!e)return void L((()=>{console.error(`Invalid Sentry Dsn: ${t}`)}));const[n,r,o="",i,a="",c]=e.slice(1);let s="",u=c;const l=u.split("/");if(l.length>1&&(s=l.slice(0,-1).join("/"),u=l.pop()),u){const t=u.match(/^\d+/);t&&(u=t[0])}return at({host:i,pass:o,path:s,projectId:u,port:a,protocol:n,publicKey:r})}(t):at(t);if(e&&function(t){if(!E)return!0;const{port:e,projectId:n,protocol:r}=t;return!(["protocol","publicKey","host","projectId"].find((e=>!t[e]&&(A.error(`Invalid Sentry Dsn: ${e} missing`),!0)))||(n.match(/^\d+$/)?function(t){return"http"===t||"https"===t}(r)?e&&isNaN(parseInt(e,10))&&(A.error(`Invalid Sentry Dsn: Invalid port ${e}`),1):(A.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),1):(A.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),1)))}(e))return e}const st=C,ut=80;function lt(t,e={}){if(!t)return"<unknown>";try{let n=t;const r=5,o=[];let i=0,a=0;const c=" > ",s=c.length;let u;const l=Array.isArray(e)?e:e.keyAttrs,f=!Array.isArray(e)&&e.maxStringLength||ut;for(;n&&i++<r&&(u=ft(n,l),!("html"===u||i>1&&a+o.length*s+u.length>=f));)o.push(u),a+=u.length,n=n.parentNode;return o.reverse().join(c)}catch(t){return"<unknown>"}}function ft(t,e){const n=t,r=[];let o,i,a,c,s;if(!n||!n.tagName)return"";if(st.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const u=e&&e.length?e.filter((t=>n.getAttribute(t))).map((t=>[t,n.getAttribute(t)])):null;if(u&&u.length)u.forEach((t=>{r.push(`[${t[0]}="${t[1]}"]`)}));else if(n.id&&r.push(`#${n.id}`),o=n.className,o&&V(o))for(i=o.split(/\s+/),s=0;s<i.length;s++)r.push(`.${i[s]}`);const l=["aria-label","type","name","title","alt"];for(s=0;s<l.length;s++)a=l[s],c=n.getAttribute(a),c&&r.push(`[${a}="${c}"]`);return r.join("")}function dt(t,e=0){return"string"!=typeof t||0===e||t.length<=e?t:`${t.slice(0,e)}...`}function pt(t,e){if(!Array.isArray(t))return"";const n=[];for(let e=0;e<t.length;e++){const r=t[e];try{X(r)?n.push("[VueViewModel]"):n.push(String(r))}catch(t){n.push("[value cannot be serialized]")}}return n.join(e)}function vt(t,e,n=!1){return!!V(t)&&(G(e,"RegExp")?e.test(t):!!V(e)&&(n?t===e:t.includes(e)))}function ht(t,e=[],n=!1){return e.some((e=>vt(t,e,n)))}function yt(t,e,n){if(!(e in t))return;const r=t[e],o=n(r);"function"==typeof o&&mt(o,r),t[e]=o}function gt(t,e,n){try{Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}catch(n){E&&A.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function mt(t,e){try{const n=e.prototype||{};t.prototype=e.prototype=n,gt(t,"__sentry_original__",e)}catch(t){}}function bt(t){return t.__sentry_original__}function wt(t){if(H(t))return{message:t.message,name:t.name,stack:t.stack,...xt(t)};if(W(t)){const e={type:t.type,target:_t(t.target),currentTarget:_t(t.currentTarget),...xt(t)};return"undefined"!=typeof CustomEvent&&K(t,CustomEvent)&&(e.detail=t.detail),e}return t}function _t(t){try{return e=t,"undefined"!=typeof Element&&K(e,Element)?lt(t):Object.prototype.toString.call(t)}catch(t){return"<unknown>"}var e}function xt(t){if("object"==typeof t&&null!==t){const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}return{}}function Et(t){return St(t,new Map)}function St(t,e){if(function(t){if(!Y(t))return!1;try{const e=Object.getPrototypeOf(t).constructor.name;return!e||"Object"===e}catch(t){return!0}}(t)){const n=e.get(t);if(void 0!==n)return n;const r={};e.set(t,r);for(const n of Object.keys(t))void 0!==t[n]&&(r[n]=St(t[n],e));return r}if(Array.isArray(t)){const n=e.get(t);if(void 0!==n)return n;const r=[];return e.set(t,r),t.forEach((t=>{r.push(St(t,e))})),r}return t}const Ct=50,kt="?",Ot=/\(error: (.*)\)/,Tt=/captureMessage|captureException/;function Lt(...t){const e=t.sort(((t,e)=>t[0]-e[0])).map((t=>t[1]));return(t,n=0,r=0)=>{const o=[],i=t.split("\n");for(let t=n;t<i.length;t++){const n=i[t];if(n.length>1024)continue;const a=Ot.test(n)?n.replace(Ot,"$1"):n;if(!a.match(/\S*Error: /)){for(const t of e){const e=t(a);if(e){o.push(e);break}}if(o.length>=Ct+r)break}}return function(t){if(!t.length)return[];const e=Array.from(t);/sentryWrapped/.test(e[e.length-1].function||"")&&e.pop();e.reverse(),Tt.test(e[e.length-1].function||"")&&(e.pop(),Tt.test(e[e.length-1].function||"")&&e.pop());return e.slice(0,Ct).map((t=>({...t,filename:t.filename||e[e.length-1].filename,function:t.function||kt})))}(o.slice(r))}}const At="<anonymous>";function Pt(t){try{return t&&"function"==typeof t&&t.name||At}catch(t){return At}}function Nt(t,e=100,n=1/0){try{return jt("",t,e,n)}catch(t){return{ERROR:`**non-serializable** (${t})`}}}function It(t,e=3,n=102400){const r=Nt(t,e);return o=r,function(t){return~-encodeURI(t).split(/%..|./).length}(JSON.stringify(o))>n?It(t,e-1,n):r;var o}function jt(t,e,n=1/0,r=1/0,o=function(){const t="function"==typeof WeakSet,e=t?new WeakSet:[];return[function(n){if(t)return!!e.has(n)||(e.add(n),!1);for(let t=0;t<e.length;t++)if(e[t]===n)return!0;return e.push(n),!1},function(n){if(t)e.delete(n);else for(let t=0;t<e.length;t++)if(e[t]===n){e.splice(t,1);break}}]}()){const[i,a]=o;if(null==e||["number","boolean","string"].includes(typeof e)&&!Number.isNaN(e))return e;const c=function(t,e){try{if("domain"===t&&e&&"object"==typeof e&&e._events)return"[Domain]";if("domainEmitter"===t)return"[DomainEmitter]";if("undefined"!=typeof global&&e===global)return"[Global]";if("undefined"!=typeof window&&e===window)return"[Window]";if("undefined"!=typeof document&&e===document)return"[Document]";if(X(e))return"[VueViewModel]";if(Y(n=e)&&"nativeEvent"in n&&"preventDefault"in n&&"stopPropagation"in n)return"[SyntheticEvent]";if("number"==typeof e&&e!=e)return"[NaN]";if("function"==typeof e)return`[Function: ${Pt(e)}]`;if("symbol"==typeof e)return`[${String(e)}]`;if("bigint"==typeof e)return`[BigInt: ${String(e)}]`;const r=function(t){const e=Object.getPrototypeOf(t);return e?e.constructor.name:"null prototype"}(e);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(t){return`**non-serializable** (${t})`}var n}(t,e);if(!c.startsWith("[object "))return c;if(e.__sentry_skip_normalization__)return e;const s="number"==typeof e.__sentry_override_normalization_depth__?e.__sentry_override_normalization_depth__:n;if(0===s)return c.replace("object ","");if(i(e))return"[Circular ~]";const u=e;if(u&&"function"==typeof u.toJSON)try{return jt("",u.toJSON(),s-1,r,o)}catch(t){}const l=Array.isArray(e)?[]:{};let f=0;const d=wt(e);for(const t in d){if(!Object.prototype.hasOwnProperty.call(d,t))continue;if(f>=r){l[t]="[MaxProperties ~]";break}const e=d[t];l[t]=jt(t,e,s-1,r,o),f++}return a(e),l}function Mt(t,e=[]){return[t,e]}function Dt(t,e){const[n,r]=t;return[n,[...r,e]]}function Rt(t,e){const n=t[1];for(const t of n){if(e(t,t[0].type))return!0}return!1}function Ut(t){return C.__SENTRY__&&C.__SENTRY__.encodePolyfill?C.__SENTRY__.encodePolyfill(t):(new TextEncoder).encode(t)}function $t(t){const[e,n]=t;let r=JSON.stringify(e);function o(t){"string"==typeof r?r="string"==typeof t?r+t:[Ut(r),t]:r.push("string"==typeof t?Ut(t):t)}for(const t of n){const[e,n]=t;if(o(`\n${JSON.stringify(e)}\n`),"string"==typeof n||n instanceof Uint8Array)o(n);else{let t;try{t=JSON.stringify(n)}catch(e){t=JSON.stringify(Nt(n))}o(t)}}return"string"==typeof r?r:function(t){const e=t.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(e);let r=0;for(const e of t)n.set(e,r),r+=e.length;return n}(r)}function qt(t){const e="string"==typeof t.data?Ut(t.data):t.data;return[Et({type:"attachment",length:e.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),e]}const Ht={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function Gt(t){return Ht[t]}function Bt(t){if(!t||!t.sdk)return;const{name:e,version:n}=t.sdk;return{name:e,version:n}}const Ft=6e4;function Vt(t,{statusCode:e,headers:n},r=Date.now()){const o={...t},i=n&&n["x-sentry-rate-limits"],a=n&&n["retry-after"];if(i)for(const t of i.trim().split(",")){const[e,n,,,i]=t.split(":",5),a=parseInt(e,10),c=1e3*(isNaN(a)?60:a);if(n)for(const t of n.split(";"))"metric_bucket"===t&&i&&!i.split(";").includes("custom")||(o[t]=r+c);else o.all=r+c}else a?o.all=r+function(t,e=Date.now()){const n=parseInt(`${t}`,10);if(!isNaN(n))return 1e3*n;const r=Date.parse(`${t}`);return isNaN(r)?Ft:r-e}(a,r):429===e&&(o.all=r+6e4);return o}const zt="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Zt=64;function Yt(t,e,n=rt(t.bufferSize||Zt)){let r={};return{send:function(o){const i=[];if(Rt(o,((e,n)=>{const o=Gt(n);if(function(t,e,n=Date.now()){return function(t,e){return t[e]||t.all||0}(t,e)>n}(r,o)){const r=Wt(e,n);t.recordDroppedEvent("ratelimit_backoff",o,r)}else i.push(e)})),0===i.length)return tt({});const a=Mt(o[0],i),c=e=>{Rt(a,((n,r)=>{const o=Wt(n,r);t.recordDroppedEvent(e,Gt(r),o)}))};return n.add((()=>e({body:$t(a)}).then((t=>(void 0!==t.statusCode&&(t.statusCode<200||t.statusCode>=300)&&zt&&A.warn(`Sentry responded with status code ${t.statusCode} to sent event.`),r=Vt(r,t),t)),(t=>{throw c("network_error"),t})))).then((t=>t),(t=>{if(t instanceof $)return zt&&A.error("Skipped sending event because buffer is full."),c("queue_overflow"),tt({});throw t}))},flush:t=>n.drain(t)}}function Wt(t,e){if("event"===e||"transaction"===e)return Array.isArray(t)?t[1]:void 0}function Jt(){const t=C,e=t.crypto||t.msCrypto;let n=()=>16*Math.random();try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(n=()=>{const t=new Uint8Array(1);return e.getRandomValues(t),t[0]})}catch(t){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(t=>(t^(15&n())>>t/4).toString(16)))}function Kt(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function Xt(t){const{message:e,event_id:n}=t;if(e)return e;const r=Kt(t);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function Qt(t,e,n){const r=t.exception=t.exception||{},o=r.values=r.values||[],i=o[0]=o[0]||{};i.value||(i.value=e||""),i.type||(i.type=n||"Error")}function te(t,e){const n=Kt(t);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...e},e&&"data"in e){const t={...r&&r.data,...e.data};n.mechanism.data=t}}function ee(t){if(t&&t.__sentry_captured__)return!0;try{gt(t,"__sentry_captured__",!0)}catch(t){}return!1}const ne=[];function re(t,e){for(const n of e)n&&n.afterAllSetup&&n.afterAllSetup(t)}function oe(t,e,n){if(n[e.name])zt&&A.log(`Integration skipped because it was already installed: ${e.name}`);else{if(n[e.name]=e,-1===ne.indexOf(e.name)&&"function"==typeof e.setupOnce&&(e.setupOnce(),ne.push(e.name)),e.setup&&"function"==typeof e.setup&&e.setup(t),"function"==typeof e.preprocessEvent){const n=e.preprocessEvent.bind(e);t.on("preprocessEvent",((e,r)=>n(e,r,t)))}if("function"==typeof e.processEvent){const n=e.processEvent.bind(e),r=Object.assign(((e,r)=>n(e,r,t)),{id:e.name});t.addEventProcessor(r)}zt&&A.log(`Integration installed: ${e.name}`)}}const ie=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/],ae=(t={})=>({name:"InboundFilters",processEvent(e,n,r){const o=r.getOptions(),i=function(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:ie],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[]],ignoreInternal:void 0===t.ignoreInternal||t.ignoreInternal}}(t,o);return function(t,e){if(e.ignoreInternal&&function(t){try{return"SentryError"===t.exception.values[0].type}catch(t){}return!1}(t))return zt&&A.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${Xt(t)}`),!0;if(function(t,e){if(t.type||!e||!e.length)return!1;return function(t){const e=[];t.message&&e.push(t.message);let n;try{n=t.exception.values[t.exception.values.length-1]}catch(t){}n&&n.value&&(e.push(n.value),n.type&&e.push(`${n.type}: ${n.value}`));return e}(t).some((t=>ht(t,e)))}(t,e.ignoreErrors))return zt&&A.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${Xt(t)}`),!0;if(function(t,e){if("transaction"!==t.type||!e||!e.length)return!1;const n=t.transaction;return!!n&&ht(n,e)}(t,e.ignoreTransactions))return zt&&A.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${Xt(t)}`),!0;if(function(t,e){if(!e||!e.length)return!1;const n=ce(t);return!!n&&ht(n,e)}(t,e.denyUrls))return zt&&A.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${Xt(t)}.\nUrl: ${ce(t)}`),!0;if(!function(t,e){if(!e||!e.length)return!0;const n=ce(t);return!n||ht(n,e)}(t,e.allowUrls))return zt&&A.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${Xt(t)}.\nUrl: ${ce(t)}`),!0;return!1}(e,i)?null:e}});function ce(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch(t){}return e?function(t=[]){for(let e=t.length-1;e>=0;e--){const n=t[e];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(e):null}catch(e){return zt&&A.error(`Cannot extract url for event ${Xt(t)}`),null}}function se(){return ue(C),C}function ue(t){const e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||S,e[S]=e[S]||{}}function le(){return{traceId:Jt(),spanId:Jt().substring(16)}}const fe=1e3;function de(){return Date.now()/fe}const pe=function(){const{performance:t}=C;if(!t||!t.now)return de;const e=Date.now()-t.now(),n=null==t.timeOrigin?e:t.timeOrigin;return()=>(n+t.now())/fe}();let ve;(()=>{const{performance:t}=C;if(!t||!t.now)return void(ve="none");const e=36e5,n=t.now(),r=Date.now(),o=t.timeOrigin?Math.abs(t.timeOrigin+n-r):e,i=o<e,a=t.timing&&t.timing.navigationStart,c="number"==typeof a?Math.abs(a+n-r):e;i||c<e?o<=c?(ve="timeOrigin",t.timeOrigin):ve="navigationStart":ve="dateNow"})();function he(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),t.did||e.did||(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||pe(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=32===e.sid.length?e.sid:Jt()),void 0!==e.init&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),"number"==typeof e.started&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if("number"==typeof e.duration)t.duration=e.duration;else{const e=t.timestamp-t.started;t.duration=e>=0?e:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),"number"==typeof e.errors&&(t.errors=e.errors),e.status&&(t.status=e.status)}const ye="_sentrySpan";function ge(t,e){e?gt(t,ye,e):delete t[ye]}function me(t){return t[ye]}class be{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=le()}clone(){const t=new be;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,ge(t,me(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&he(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,e){return this._tags={...this._tags,[t]:e},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,e){return this._extra={...this._extra,[t]:e},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,e){return null===e?delete this._contexts[t]:this._contexts[t]=e,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const e="function"==typeof t?t(this):t,[n,r]=e instanceof we?[e.getScopeData(),e.getRequestSession()]:Y(e)?[t,t.requestSession]:[],{tags:o,extra:i,user:a,contexts:c,level:s,fingerprint:u=[],propagationContext:l}=n||{};return this._tags={...this._tags,...o},this._extra={...this._extra,...i},this._contexts={...this._contexts,...c},a&&Object.keys(a).length&&(this._user=a),s&&(this._level=s),u.length&&(this._fingerprint=u),l&&(this._propagationContext=l),r&&(this._requestSession=r),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,ge(this,void 0),this._attachments=[],this._propagationContext=le(),this._notifyScopeListeners(),this}addBreadcrumb(t,e){const n="number"==typeof e?e:100;if(n<=0)return this;const r={timestamp:de(),...t},o=this._breadcrumbs;return o.push(r),this._breadcrumbs=o.length>n?o.slice(-n):o,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:me(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,e){const n=e&&e.event_id?e.event_id:Jt();if(!this._client)return A.warn("No client configured on scope - will not capture exception!"),n;const r=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:r,...e,event_id:n},this),n}captureMessage(t,e,n){const r=n&&n.event_id?n.event_id:Jt();if(!this._client)return A.warn("No client configured on scope - will not capture message!"),r;const o=new Error(t);return this._client.captureMessage(t,e,{originalException:t,syntheticException:o,...n,event_id:r},this),r}captureEvent(t,e){const n=e&&e.event_id?e.event_id:Jt();return this._client?(this._client.captureEvent(t,{...e,event_id:n},this),n):(A.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((t=>{t(this)})),this._notifyingListeners=!1)}}const we=be;class _e{constructor(t,e){let n,r;n=t||new we,r=e||new we,this._stack=[{scope:n}],this._isolationScope=r}withScope(t){const e=this._pushScope();let n;try{n=t(e)}catch(t){throw this._popScope(),t}return J(n)?n.then((t=>(this._popScope(),t)),(t=>{throw this._popScope(),t})):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:t}),t}_popScope(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}}function xe(){const t=ue(se());return t.stack=t.stack||new _e(k("defaultCurrentScope",(()=>new we)),k("defaultIsolationScope",(()=>new we)))}function Ee(t){return xe().withScope(t)}function Se(t,e){const n=xe();return n.withScope((()=>(n.getStackTop().scope=t,e(t))))}function Ce(t){return xe().withScope((()=>t(xe().getIsolationScope())))}function ke(t){const e=ue(t);return e.acs?e.acs:{withIsolationScope:Ce,withScope:Ee,withSetScope:Se,withSetIsolationScope:(t,e)=>Ce(e),getCurrentScope:()=>xe().getScope(),getIsolationScope:()=>xe().getIsolationScope()}}function Oe(){return ke(se()).getCurrentScope()}function Te(){return ke(se()).getIsolationScope()}function Le(){return Oe().getClient()}let Ae;const Pe=new WeakMap,Ne=()=>({name:"FunctionToString",setupOnce(){Ae=Function.prototype.toString;try{Function.prototype.toString=function(...t){const e=bt(this),n=Pe.has(Le())&&void 0!==e?e:this;return Ae.apply(n,t)}}catch(t){}},setup(t){Pe.set(t,!0)}}),Ie=()=>{let t;return{name:"Dedupe",processEvent(e){if(e.type)return e;try{if(function(t,e){if(!e)return!1;if(function(t,e){const n=t.message,r=e.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!Me(t,e))return!1;if(!je(t,e))return!1;return!0}(t,e))return!0;if(function(t,e){const n=De(e),r=De(t);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!Me(t,e))return!1;if(!je(t,e))return!1;return!0}(t,e))return!0;return!1}(e,t))return zt&&A.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(t){}return t=e}}};function je(t,e){let n=Re(t),r=Re(e);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let t=0;t<r.length;t++){const e=r[t],o=n[t];if(e.filename!==o.filename||e.lineno!==o.lineno||e.colno!==o.colno||e.function!==o.function)return!1}return!0}function Me(t,e){let n=t.fingerprint,r=e.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(t){return!1}}function De(t){return t.exception&&t.exception.values&&t.exception.values[0]}function Re(t){const e=t.exception;if(e)try{return e.values[0].stacktrace.frames}catch(t){return}}const Ue={},$e={};function qe(t,e){Ue[t]=Ue[t]||[],Ue[t].push(e)}function He(t,e){$e[t]||(e(),$e[t]=!0)}function Ge(t,e){const n=t&&Ue[t];if(n)for(const r of n)try{r(e)}catch(e){E&&A.error(`Error while triggering instrumentation handler.\nType: ${t}\nName: ${Pt(r)}\nError:`,e)}}const Be=1e3;let Fe,Ve,ze;function Ze(){if(!M.document)return;const t=Ge.bind(null,"dom"),e=Ye(t,!0);M.document.addEventListener("click",e,!1),M.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach((e=>{const n=M[e]&&M[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(yt(n,"addEventListener",(function(e){return function(n,r,o){if("click"===n||"keypress"==n)try{const r=this,i=r.__sentry_instrumentation_handlers__=r.__sentry_instrumentation_handlers__||{},a=i[n]=i[n]||{refCount:0};if(!a.handler){const r=Ye(t);a.handler=r,e.call(this,n,r,o)}a.refCount++}catch(t){}return e.call(this,n,r,o)}})),yt(n,"removeEventListener",(function(t){return function(e,n,r){if("click"===e||"keypress"==e)try{const n=this,o=n.__sentry_instrumentation_handlers__||{},i=o[e];i&&(i.refCount--,i.refCount<=0&&(t.call(this,e,i.handler,r),i.handler=void 0,delete o[e]),0===Object.keys(o).length&&delete n.__sentry_instrumentation_handlers__)}catch(t){}return t.call(this,e,n,r)}})))}))}function Ye(t,e=!1){return n=>{if(!n||n._sentryCaptured)return;const r=function(t){try{return t.target}catch(t){return null}}(n);if(function(t,e){return"keypress"===t&&(!e||!e.tagName||"INPUT"!==e.tagName&&"TEXTAREA"!==e.tagName&&!e.isContentEditable)}(n.type,r))return;gt(n,"_sentryCaptured",!0),r&&!r._sentryId&&gt(r,"_sentryId",Jt());const o="keypress"===n.type?"input":n.type;if(!function(t){if(t.type!==Ve)return!1;try{if(!t.target||t.target._sentryId!==ze)return!1}catch(t){}return!0}(n)){t({event:n,name:o,global:e}),Ve=n.type,ze=r?r._sentryId:void 0}clearTimeout(Fe),Fe=M.setTimeout((()=>{ze=void 0,Ve=void 0}),Be)}}const We="__sentry_xhr_v3__";function Je(){if(!M.XMLHttpRequest)return;const t=XMLHttpRequest.prototype;yt(t,"open",(function(t){return function(...e){const n=1e3*pe(),r=V(e[0])?e[0].toUpperCase():void 0,o=function(t){if(V(t))return t;try{return t.toString()}catch(t){}return}(e[1]);if(!r||!o)return t.apply(this,e);this[We]={method:r,url:o,request_headers:{}},"POST"===r&&o.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const i=()=>{const t=this[We];if(t&&4===this.readyState){try{t.status_code=this.status}catch(t){}Ge("xhr",{endTimestamp:1e3*pe(),startTimestamp:n,xhr:this})}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?yt(this,"onreadystatechange",(function(t){return function(...e){return i(),t.apply(this,e)}})):this.addEventListener("readystatechange",i),yt(this,"setRequestHeader",(function(t){return function(...e){const[n,r]=e,o=this[We];return o&&V(n)&&V(r)&&(o.request_headers[n.toLowerCase()]=r),t.apply(this,e)}})),t.apply(this,e)}})),yt(t,"send",(function(t){return function(...e){const n=this[We];if(!n)return t.apply(this,e);void 0!==e[0]&&(n.body=e[0]);return Ge("xhr",{startTimestamp:1e3*pe(),xhr:this}),t.apply(this,e)}}))}const Ke=C;let Xe;function Qe(){if(!function(){const t=Ke.chrome,e=t&&t.app&&t.app.runtime,n="history"in Ke&&!!Ke.history.pushState&&!!Ke.history.replaceState;return!e&&n}())return;const t=M.onpopstate;function e(t){return function(...e){const n=e.length>2?e[2]:void 0;if(n){const t=Xe,e=String(n);Xe=e;Ge("history",{from:t,to:e})}return t.apply(this,e)}}M.onpopstate=function(...e){const n=M.location.href,r=Xe;Xe=n;if(Ge("history",{from:r,to:n}),t)try{return t.apply(this,e)}catch(t){}},yt(M.history,"pushState",e),yt(M.history,"replaceState",e)}const tn=100;function en(t,e){const n=Le(),r=Te();if(!n)return;const{beforeBreadcrumb:o=null,maxBreadcrumbs:i=tn}=n.getOptions();if(i<=0)return;const a={timestamp:de(),...t},c=o?L((()=>o(a,e))):a;null!==c&&(n.emit&&n.emit("beforeAddBreadcrumb",c,e),r.addBreadcrumb(c,i))}function nn(){"console"in C&&O.forEach((function(t){t in C.console&&yt(C.console,t,(function(e){return T[t]=e,function(...e){Ge("console",{args:e,level:t});const n=T[t];n&&n.apply(C.console,e)}}))}))}function rn(){(function(){if("string"==typeof EdgeRuntime)return!0;if(!N())return!1;if(I(P.fetch))return!0;let t=!1;const e=P.document;if(e&&"function"==typeof e.createElement)try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(t=I(n.contentWindow.fetch)),e.head.removeChild(n)}catch(t){E&&A.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}return t})()&&yt(C,"fetch",(function(t){return function(...e){const{method:n,url:r}=function(t){if(0===t.length)return{method:"GET",url:""};if(2===t.length){const[e,n]=t;return{url:an(e),method:on(n,"method")?String(n.method).toUpperCase():"GET"}}const e=t[0];return{url:an(e),method:on(e,"method")?String(e.method).toUpperCase():"GET"}}(e),o={args:e,fetchData:{method:n,url:r},startTimestamp:1e3*pe()};return Ge("fetch",{...o}),t.apply(C,e).then((t=>(Ge("fetch",{...o,endTimestamp:1e3*pe(),response:t}),t)),(t=>{throw Ge("fetch",{...o,endTimestamp:1e3*pe(),error:t}),t}))}}))}function on(t,e){return!!t&&"object"==typeof t&&!!t[e]}function an(t){return"string"==typeof t?t:t?on(t,"url")?t.url:t.toString?t.toString():"":""}const cn=["fatal","error","warning","log","info","debug"];function sn(t){return"warn"===t?"warning":cn.includes(t)?t:"log"}function un(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:n,hash:r,relative:e[5]+n+r}}const ln="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,fn="production";function dn(t,e,n,r=0){return new nt(((o,i)=>{const a=t[r];if(null===e||"function"!=typeof a)o(e);else{const c=a({...e},n);zt&&a.id&&null===c&&A.log(`Event processor "${a.id}" dropped event`),J(c)?c.then((e=>dn(t,e,n,r+1).then(o))).then(null,i):dn(t,c,n,r+1).then(o).then(null,i)}}))}const pn="sentry.source",vn="sentry.sample_rate",hn="sentry.op",yn="sentry.origin",gn="_sentryMetrics";function mn(t){const e=t[gn];if(!e)return;const n={};for(const[,[t,r]]of e)n[t]||(n[t]=[]),n[t].push(Et(r));return n}const bn=0,wn=1;const _n=1;function xn(t){const{spanId:e,traceId:n}=t.spanContext(),{parent_span_id:r}=Cn(t);return Et({parent_span_id:r,span_id:e,trace_id:n})}function En(t){return"number"==typeof t?Sn(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?Sn(t.getTime()):pe()}function Sn(t){return t>9999999999?t/1e3:t}function Cn(t){if(function(t){return"function"==typeof t.getSpanJSON}(t))return t.getSpanJSON();try{const{spanId:e,traceId:n}=t.spanContext();if(function(t){const e=t;return!!(e.attributes&&e.startTime&&e.name&&e.endTime&&e.status)}(t)){const{attributes:r,startTime:o,name:i,endTime:a,parentSpanId:c,status:s}=t;return Et({span_id:e,trace_id:n,data:r,description:i,parent_span_id:c,start_timestamp:En(o),timestamp:En(a)||void 0,status:On(s),op:r[hn],origin:r[yn],_metrics_summary:mn(t)})}return{span_id:e,trace_id:n}}catch(t){return{}}}function kn(t){const{traceFlags:e}=t.spanContext();return e===_n}function On(t){if(t&&t.code!==bn)return t.code===wn?"ok":t.message||"unknown_error"}const Tn="_sentryRootSpan";function Ln(t){return t[Tn]||t}const An="_frozenDsc";function Pn(t,e){const n=e.getOptions(),{publicKey:r}=e.getDsn()||{},o=Et({environment:n.environment||fn,release:n.release,public_key:r,trace_id:t});return e.emit("createDsc",o),o}function Nn(t){const e=Le();if(!e)return{};const n=Pn(Cn(t).trace_id||"",e),r=Ln(t);if(!r)return n;const o=r[An];if(o)return o;const i=Cn(r),a=i.data||{},c=a[vn];null!=c&&(n.sample_rate=`${c}`);const s=a[pn];return s&&"url"!==s&&(n.transaction=i.description),n.sampled=String(kn(r)),e.emit("createDsc",n),n}function In(t,e){const{fingerprint:n,span:r,breadcrumbs:o,sdkProcessingMetadata:i}=e;!function(t,e){const{extra:n,tags:r,user:o,contexts:i,level:a,transactionName:c}=e,s=Et(n);s&&Object.keys(s).length&&(t.extra={...s,...t.extra});const u=Et(r);u&&Object.keys(u).length&&(t.tags={...u,...t.tags});const l=Et(o);l&&Object.keys(l).length&&(t.user={...l,...t.user});const f=Et(i);f&&Object.keys(f).length&&(t.contexts={...f,...t.contexts});a&&(t.level=a);c&&"transaction"!==t.type&&(t.transaction=c)}(t,e),r&&function(t,e){t.contexts={trace:xn(e),...t.contexts},t.sdkProcessingMetadata={dynamicSamplingContext:Nn(e),...t.sdkProcessingMetadata};const n=Ln(e),r=Cn(n).description;r&&!t.transaction&&"transaction"===t.type&&(t.transaction=r)}(t,r),function(t,e){t.fingerprint=t.fingerprint?function(t){return Array.isArray(t)?t:[t]}(t.fingerprint):[],e&&(t.fingerprint=t.fingerprint.concat(e));t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}(t,n),function(t,e){const n=[...t.breadcrumbs||[],...e];t.breadcrumbs=n.length?n:void 0}(t,o),function(t,e){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e}}(t,i)}function jn(t,e){const{extra:n,tags:r,user:o,contexts:i,level:a,sdkProcessingMetadata:c,breadcrumbs:s,fingerprint:u,eventProcessors:l,attachments:f,propagationContext:d,transactionName:p,span:v}=e;Mn(t,"extra",n),Mn(t,"tags",r),Mn(t,"user",o),Mn(t,"contexts",i),Mn(t,"sdkProcessingMetadata",c),a&&(t.level=a),p&&(t.transactionName=p),v&&(t.span=v),s.length&&(t.breadcrumbs=[...t.breadcrumbs,...s]),u.length&&(t.fingerprint=[...t.fingerprint,...u]),l.length&&(t.eventProcessors=[...t.eventProcessors,...l]),f.length&&(t.attachments=[...t.attachments,...f]),t.propagationContext={...t.propagationContext,...d}}function Mn(t,e,n){if(n&&Object.keys(n).length){t[e]={...t[e]};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[e][r]=n[r])}}function Dn(t,e,n,r,o,i){const{normalizeDepth:a=3,normalizeMaxBreadth:c=1e3}=t,s={...e,event_id:e.event_id||n.event_id||Jt(),timestamp:e.timestamp||de()},u=n.integrations||t.integrations.map((t=>t.name));!function(t,e){const{environment:n,release:r,dist:o,maxValueLength:i=250}=e;"environment"in t||(t.environment="environment"in e?n:fn);void 0===t.release&&void 0!==r&&(t.release=r);void 0===t.dist&&void 0!==o&&(t.dist=o);t.message&&(t.message=dt(t.message,i));const a=t.exception&&t.exception.values&&t.exception.values[0];a&&a.value&&(a.value=dt(a.value,i));const c=t.request;c&&c.url&&(c.url=dt(c.url,i))}(s,t),function(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}(s,u),void 0===e.type&&function(t,e){const n=C._sentryDebugIds;if(!n)return;let r;const o=Rn.get(e);o?r=o:(r=new Map,Rn.set(e,r));const i=Object.keys(n).reduce(((t,o)=>{let i;const a=r.get(o);a?i=a:(i=e(o),r.set(o,i));for(let e=i.length-1;e>=0;e--){const r=i[e];if(r.filename){t[r.filename]=n[o];break}}return t}),{});try{t.exception.values.forEach((t=>{t.stacktrace.frames.forEach((t=>{t.filename&&(t.debug_id=i[t.filename])}))}))}catch(t){}}(s,t.stackParser);const l=function(t,e){if(!e)return t;const n=t?t.clone():new we;return n.update(e),n}(r,n.captureContext);n.mechanism&&te(s,n.mechanism);const f=o?o.getEventProcessors():[],d=k("globalScope",(()=>new we)).getScopeData();if(i){jn(d,i.getScopeData())}if(l){jn(d,l.getScopeData())}const p=[...n.attachments||[],...d.attachments];p.length&&(n.attachments=p),In(s,d);return dn([...f,...d.eventProcessors],s,n).then((t=>(t&&function(t){const e={};try{t.exception.values.forEach((t=>{t.stacktrace.frames.forEach((t=>{t.debug_id&&(t.abs_path?e[t.abs_path]=t.debug_id:t.filename&&(e[t.filename]=t.debug_id),delete t.debug_id)}))}))}catch(t){}if(0===Object.keys(e).length)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];const n=t.debug_meta.images;Object.keys(e).forEach((t=>{n.push({type:"sourcemap",code_file:t,debug_id:e[t]})}))}(t),"number"==typeof a&&a>0?function(t,e,n){if(!t)return null;const r={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map((t=>({...t,...t.data&&{data:Nt(t.data,e,n)}})))},...t.user&&{user:Nt(t.user,e,n)},...t.contexts&&{contexts:Nt(t.contexts,e,n)},...t.extra&&{extra:Nt(t.extra,e,n)}};t.contexts&&t.contexts.trace&&r.contexts&&(r.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(r.contexts.trace.data=Nt(t.contexts.trace.data,e,n)));t.spans&&(r.spans=t.spans.map((t=>({...t,...t.data&&{data:Nt(t.data,e,n)}}))));return r}(t,a,c):t)))}const Rn=new WeakMap;function Un(t){if(t)return function(t){return t instanceof we||"function"==typeof t}(t)||function(t){return Object.keys(t).some((t=>$n.includes(t)))}(t)?{captureContext:t}:t}const $n=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function qn(t,e){return Oe().captureEvent(t,e)}const Hn=C;let Gn=0;function Bn(){return Gn>0}function Fn(t,e={},n){if("function"!=typeof t)return t;try{const e=t.__sentry_wrapped__;if(e)return e;if(bt(t))return t}catch(e){return t}const r=function(){const r=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);const o=r.map((t=>Fn(t,e)));return t.apply(this,o)}catch(t){throw Gn++,setTimeout((()=>{Gn--})),function(...t){const e=ke(se());if(2===t.length){const[n,r]=t;return n?e.withSetScope(n,r):e.withScope(r)}e.withScope(t[0])}((n=>{var o,i;n.addEventProcessor((t=>(e.mechanism&&(Qt(t,void 0,void 0),te(t,e.mechanism)),t.extra={...t.extra,arguments:r},t))),o=t,Oe().captureException(o,Un(i))})),t}};try{for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e])}catch(t){}mt(r,t),gt(t,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return t.name}})}catch(t){}return r}const Vn=1024,zn=(t={})=>{const e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t};return{name:"Breadcrumbs",setup(t){var n;e.console&&function(t){const e="console";qe(e,t),He(e,nn)}(function(t){return function(e){if(Le()!==t)return;const n={category:"console",data:{arguments:e.args,logger:"console"},level:sn(e.level),message:pt(e.args," ")};if("assert"===e.level){if(!1!==e.args[0])return;n.message=`Assertion failed: ${pt(e.args.slice(1)," ")||"console.assert"}`,n.data.arguments=e.args.slice(1)}en(n,{input:e.args,level:e.level})}}(t)),e.dom&&(n=function(t,e){return function(n){if(Le()!==t)return;let r,o,i="object"==typeof e?e.serializeAttribute:void 0,a="object"==typeof e&&"number"==typeof e.maxStringLength?e.maxStringLength:void 0;a&&a>Vn&&(ln&&A.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${a} was configured. Sentry will use 1024 instead.`),a=Vn),"string"==typeof i&&(i=[i]);try{const t=n.event,e=function(t){return!!t&&!!t.target}(t)?t.target:t;r=lt(e,{keyAttrs:i,maxStringLength:a}),o=function(t){if(!st.HTMLElement)return null;let e=t;for(let t=0;t<5;t++){if(!e)return null;if(e instanceof HTMLElement){if(e.dataset.sentryComponent)return e.dataset.sentryComponent;if(e.dataset.sentryElement)return e.dataset.sentryElement}e=e.parentNode}return null}(e)}catch(t){r="<unknown>"}if(0===r.length)return;const c={category:`ui.${n.name}`,message:r};o&&(c.data={"ui.component_name":o}),en(c,{event:n.event,name:n.name,global:n.global})}}(t,e.dom),qe("dom",n),He("dom",Ze)),e.xhr&&function(t){qe("xhr",t),He("xhr",Je)}(function(t){return function(e){if(Le()!==t)return;const{startTimestamp:n,endTimestamp:r}=e,o=e.xhr[We];if(!n||!r||!o)return;const{method:i,url:a,status_code:c,body:s}=o;en({category:"xhr",data:{method:i,url:a,status_code:c},type:"http"},{xhr:e.xhr,input:s,startTimestamp:n,endTimestamp:r})}}(t)),e.fetch&&function(t){const e="fetch";qe(e,t),He(e,rn)}(function(t){return function(e){if(Le()!==t)return;const{startTimestamp:n,endTimestamp:r}=e;if(r&&(!e.fetchData.url.match(/sentry_key/)||"POST"!==e.fetchData.method))if(e.error){en({category:"fetch",data:e.fetchData,level:"error",type:"http"},{data:e.error,input:e.args,startTimestamp:n,endTimestamp:r})}else{const t=e.response;en({category:"fetch",data:{...e.fetchData,status_code:t&&t.status},type:"http"},{input:e.args,response:t,startTimestamp:n,endTimestamp:r})}}}(t)),e.history&&function(t){const e="history";qe(e,t),He(e,Qe)}(function(t){return function(e){if(Le()!==t)return;let n=e.from,r=e.to;const o=un(Hn.location.href);let i=n?un(n):void 0;const a=un(r);i&&i.path||(i=o),o.protocol===a.protocol&&o.host===a.host&&(r=a.relative),o.protocol===i.protocol&&o.host===i.host&&(n=i.relative),en({category:"navigation",data:{from:n,to:r}})}}(t)),e.sentry&&t.on("beforeSendEvent",function(t){return function(e){Le()===t&&en({category:"sentry."+("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level,message:Xt(e)},{event:e})}}(t))}}};const Zn=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Yn=(t={})=>{const e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t};return{name:"BrowserApiErrors",setupOnce(){e.setTimeout&&yt(Hn,"setTimeout",Wn),e.setInterval&&yt(Hn,"setInterval",Wn),e.requestAnimationFrame&&yt(Hn,"requestAnimationFrame",Jn),e.XMLHttpRequest&&"XMLHttpRequest"in Hn&&yt(XMLHttpRequest.prototype,"send",Kn);const t=e.eventTarget;if(t){(Array.isArray(t)?t:Zn).forEach(Xn)}}}};function Wn(t){return function(...e){const n=e[0];return e[0]=Fn(n,{mechanism:{data:{function:Pt(t)},handled:!1,type:"instrument"}}),t.apply(this,e)}}function Jn(t){return function(e){return t.apply(this,[Fn(e,{mechanism:{data:{function:"requestAnimationFrame",handler:Pt(t)},handled:!1,type:"instrument"}})])}}function Kn(t){return function(...e){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((t=>{t in n&&"function"==typeof n[t]&&yt(n,t,(function(e){const n={mechanism:{data:{function:t,handler:Pt(e)},handled:!1,type:"instrument"}},r=bt(e);return r&&(n.mechanism.data.handler=Pt(r)),Fn(e,n)}))})),t.apply(this,e)}}function Xn(t){const e=Hn,n=e[t]&&e[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(yt(n,"addEventListener",(function(e){return function(n,r,o){try{"function"==typeof r.handleEvent&&(r.handleEvent=Fn(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Pt(r),target:t},handled:!1,type:"instrument"}}))}catch(t){}return e.apply(this,[n,Fn(r,{mechanism:{data:{function:"addEventListener",handler:Pt(r),target:t},handled:!1,type:"instrument"}}),o])}})),yt(n,"removeEventListener",(function(t){return function(e,n,r){const o=n;try{const n=o&&o.__sentry_wrapped__;n&&t.call(this,e,n,r)}catch(t){}return t.call(this,e,o,r)}})))}let Qn=null;function tr(){Qn=C.onerror,C.onerror=function(t,e,n,r,o){return Ge("error",{column:r,error:o,line:n,msg:t,url:e}),!(!Qn||Qn.__SENTRY_LOADER__)&&Qn.apply(this,arguments)},C.onerror.__SENTRY_INSTRUMENTED__=!0}let er=null;function nr(){er=C.onunhandledrejection,C.onunhandledrejection=function(t){return Ge("unhandledrejection",t),!(er&&!er.__SENTRY_LOADER__)||er.apply(this,arguments)},C.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function rr(t,e){const n=ar(t,e),r={type:e&&e.name,value:sr(e)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function or(t,e,n,r){const o=Le(),i=o&&o.getOptions().normalizeDepth,a=function(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const n=t[e];if(n instanceof Error)return n}return}(e),c={__serialized__:It(e,i)};if(a)return{exception:{values:[rr(t,a)]},extra:c};const s={exception:{values:[{type:W(e)?e.constructor.name:r?"UnhandledRejection":"Error",value:fr(e,{isUnhandledRejection:r})}]},extra:c};if(n){const e=ar(t,n);e.length&&(s.exception.values[0].stacktrace={frames:e})}return s}function ir(t,e){return{exception:{values:[rr(t,e)]}}}function ar(t,e){const n=e.stacktrace||e.stack||"",r=function(t){if(t&&cr.test(t.message))return 1;return 0}(e),o=function(t){if("number"==typeof t.framesToPop)return t.framesToPop;return 0}(e);try{return t(n,r,o)}catch(t){}return[]}const cr=/Minified React error #\d+;/i;function sr(t){const e=t&&t.message;return e?e.error&&"string"==typeof e.error.message?e.error.message:e:"No error message"}function ur(t,e,n,r,o){let i;if(B(e)&&e.error){return ir(t,e.error)}if(F(e)||G(e,"DOMException")){const o=e;if("stack"in e)i=ir(t,e);else{const e=o.name||(F(o)?"DOMError":"DOMException"),a=o.message?`${e}: ${o.message}`:e;i=lr(t,a,n,r),Qt(i,a)}return"code"in o&&(i.tags={...i.tags,"DOMException.code":`${o.code}`}),i}if(H(e))return ir(t,e);if(Y(e)||W(e)){return i=or(t,e,n,o),te(i,{synthetic:!0}),i}return i=lr(t,e,n,r),Qt(i,`${e}`,void 0),te(i,{synthetic:!0}),i}function lr(t,e,n,r){const o={};if(r&&n){const r=ar(t,n);r.length&&(o.exception={values:[{value:e,stacktrace:{frames:r}}]})}if(z(e)){const{__sentry_template_string__:t,__sentry_template_values__:n}=e;return o.logentry={message:t,params:n},o}return o.message=e,o}function fr(t,{isUnhandledRejection:e}){const n=function(t,e=40){const n=Object.keys(wt(t));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=e)return dt(n[0],e);for(let t=n.length;t>0;t--){const r=n.slice(0,t).join(", ");if(!(r.length>e))return t===n.length?r:dt(r,e)}return""}(t),r=e?"promise rejection":"exception";if(B(t))return`Event \`ErrorEvent\` captured as ${r} with message \`${t.message}\``;if(W(t)){return`Event \`${function(t){try{const e=Object.getPrototypeOf(t);return e?e.constructor.name:void 0}catch(t){}}(t)}\` (type=${t.type}) captured as ${r}`}return`Object captured as ${r} with keys: ${n}`}const dr=(t={})=>{const e={onerror:!0,onunhandledrejection:!0,...t};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(t){e.onerror&&(!function(t){!function(t){const e="error";qe(e,t),He(e,tr)}((e=>{const{stackParser:n,attachStacktrace:r}=vr();if(Le()!==t||Bn())return;const{msg:o,url:i,line:a,column:c,error:s}=e,u=function(t,e,n,r){const o=t.exception=t.exception||{},i=o.values=o.values||[],a=i[0]=i[0]||{},c=a.stacktrace=a.stacktrace||{},s=c.frames=c.frames||[],u=isNaN(parseInt(r,10))?void 0:r,l=isNaN(parseInt(n,10))?void 0:n,f=V(e)&&e.length>0?e:function(){try{return st.document.location.href}catch(t){return""}}();0===s.length&&s.push({colno:u,filename:f,function:kt,in_app:!0,lineno:l});return t}(ur(n,s||o,void 0,r,!1),i,a,c);u.level="error",qn(u,{originalException:s,mechanism:{handled:!1,type:"onerror"}})}))}(t),pr("onerror")),e.onunhandledrejection&&(!function(t){!function(t){const e="unhandledrejection";qe(e,t),He(e,nr)}((e=>{const{stackParser:n,attachStacktrace:r}=vr();if(Le()!==t||Bn())return;const o=function(t){if(Z(t))return t;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch(t){}return t}(e),i=Z(o)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(o)}`}]}}:ur(n,o,void 0,r,!0);i.level="error",qn(i,{originalException:o,mechanism:{handled:!1,type:"onunhandledrejection"}})}))}(t),pr("onunhandledrejection"))}}};function pr(t){ln&&A.log(`Global Handler attached: ${t}`)}function vr(){const t=Le();return t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const hr=()=>({name:"HttpContext",preprocessEvent(t){if(!Hn.navigator&&!Hn.location&&!Hn.document)return;const e=t.request&&t.request.url||Hn.location&&Hn.location.href,{referrer:n}=Hn.document||{},{userAgent:r}=Hn.navigator||{},o={...t.request&&t.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},i={...t.request,...e&&{url:e},headers:o};t.request=i}});function yr(t,e,n=250,r,o,i,a){if(!(i.exception&&i.exception.values&&a&&K(a.originalException,Error)))return;const c=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;var s,u;c&&(i.exception.values=(s=gr(t,e,o,a.originalException,r,i.exception.values,c,0),u=n,s.map((t=>(t.value&&(t.value=dt(t.value,u)),t)))))}function gr(t,e,n,r,o,i,a,c){if(i.length>=n+1)return i;let s=[...i];if(K(r[o],Error)){mr(a,c);const i=t(e,r[o]),u=s.length;br(i,o,u,c),s=gr(t,e,n,r[o],o,[i,...s],i,u)}return Array.isArray(r.errors)&&r.errors.forEach(((r,i)=>{if(K(r,Error)){mr(a,c);const u=t(e,r),l=s.length;br(u,`errors[${i}]`,l,c),s=gr(t,e,n,r,o,[u,...s],u,l)}})),s}function mr(t,e){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,..."AggregateError"===t.type&&{is_exception_group:!0},exception_id:e}}function br(t,e,n,r){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,type:"chained",source:e,exception_id:n,parent_id:r}}const wr=(t={})=>{const e=t.limit||5,n=t.key||"cause";return{name:"LinkedErrors",preprocessEvent(t,r,o){const i=o.getOptions();yr(rr,i.stackParser,i.maxValueLength,n,e,t,r)}}};function _r(t){return[ae(),Ne(),Yn(),zn(),dr(),wr(),Ie(),hr()]}const xr="7";function Er(t){const e=t.protocol?`${t.protocol}:`:"",n=t.port?`:${t.port}`:"";return`${e}//${t.host}${n}${t.path?`/${t.path}`:""}/api/`}function Sr(t,e){return n={sentry_key:t.publicKey,sentry_version:xr,...e&&{sentry_client:`${e.name}/${e.version}`}},Object.keys(n).map((t=>`${encodeURIComponent(t)}=${encodeURIComponent(n[t])}`)).join("&");var n}function Cr(t,e,n){return e||`${function(t){return`${Er(t)}${t.projectId}/envelope/`}(t)}?${Sr(t,n)}`}function kr(t,e,n,r){const o=Bt(n),i=t.type&&"replay_event"!==t.type?t.type:"event";!function(t,e){e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]])}(t,n&&n.sdk);const a=function(t,e,n,r){const o=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:t.event_id,sent_at:(new Date).toISOString(),...e&&{sdk:e},...!!n&&r&&{dsn:it(r)},...o&&{trace:Et({...o})}}}(t,o,r,e);delete t.sdkProcessingMetadata;return Mt(a,[[{type:i},t]])}const Or="Not capturing exception because it's already been captured.";class Tr{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=ct(t.dsn):zt&&A.warn("No DSN provided, client will not send events."),this._dsn){const e=Cr(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:e})}}captureException(t,e,n){const r=Jt();if(ee(t))return zt&&A.log(Or),r;const o={event_id:r,...e};return this._process(this.eventFromException(t,o).then((t=>this._captureEvent(t,o,n)))),o.event_id}captureMessage(t,e,n,r){const o={event_id:Jt(),...n},i=z(t)?t:String(t),a=Z(t)?this.eventFromMessage(i,e,o):this.eventFromException(t,o);return this._process(a.then((t=>this._captureEvent(t,o,r)))),o.event_id}captureEvent(t,e,n){const r=Jt();if(e&&e.originalException&&ee(e.originalException))return zt&&A.log(Or),r;const o={event_id:r,...e},i=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,o,i||n)),o.event_id}captureSession(t){"string"!=typeof t.release?zt&&A.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),he(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const e=this._transport;return e?(this.emit("flush"),this._isClientDoneProcessing(t).then((n=>e.flush(t).then((t=>n&&t))))):tt(!0)}close(t){return this.flush(t).then((t=>(this.getOptions().enabled=!1,this.emit("close"),t)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const e=this._integrations[t.name];oe(this,t,this._integrations),e||re(this,[t])}sendEvent(t,e={}){this.emit("beforeSendEvent",t,e);let n=kr(t,this._dsn,this._options._metadata,this._options.tunnel);for(const t of e.attachments||[])n=Dt(n,qt(t));const r=this.sendEnvelope(n);r&&r.then((e=>this.emit("afterSendEvent",t,e)),null)}sendSession(t){const e=function(t,e,n,r){const o=Bt(n);return Mt({sent_at:(new Date).toISOString(),...o&&{sdk:o},...!!r&&e&&{dsn:it(e)}},["aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()]])}(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(e)}recordDroppedEvent(t,e,n){if(this._options.sendClientReports){const n=`${t}:${e}`;zt&&A.log(`Adding outcome: "${n}"`),this._outcomes[n]=this._outcomes[n]+1||1}}on(t,e){this._hooks[t]||(this._hooks[t]=[]),this._hooks[t].push(e)}emit(t,...e){this._hooks[t]&&this._hooks[t].forEach((t=>t(...e)))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,(t=>(zt&&A.error("Error while sending event:",t),t))):(zt&&A.error("Transport disabled"),tt({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=function(t,e){const n={};return e.forEach((e=>{e&&oe(t,e,n)})),n}(this,t),re(this,t)}_updateSessionFromEvent(t,e){let n=!1,r=!1;const o=e.exception&&e.exception.values;if(o){r=!0;for(const t of o){const e=t.mechanism;if(e&&!1===e.handled){n=!0;break}}}const i="ok"===t.status;(i&&0===t.errors||i&&n)&&(he(t,{...n&&{status:"crashed"},errors:t.errors||Number(r||n)}),this.captureSession(t))}_isClientDoneProcessing(t){return new nt((e=>{let n=0;const r=setInterval((()=>{0==this._numProcessing?(clearInterval(r),e(!0)):(n+=1,t&&n>=t&&(clearInterval(r),e(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(t,e,n,r=Te()){const o=this.getOptions(),i=Object.keys(this._integrations);return!e.integrations&&i.length>0&&(e.integrations=i),this.emit("preprocessEvent",t,e),t.type||r.setLastEventId(t.event_id||e.event_id),Dn(o,t,e,n,this,r).then((t=>{if(null===t)return t;const e={...r.getPropagationContext(),...n?n.getPropagationContext():void 0};if(!(t.contexts&&t.contexts.trace)&&e){const{traceId:n,spanId:r,parentSpanId:o,dsc:i}=e;t.contexts={trace:Et({trace_id:n,span_id:r,parent_span_id:o}),...t.contexts};const a=i||Pn(n,this);t.sdkProcessingMetadata={dynamicSamplingContext:a,...t.sdkProcessingMetadata}}return t}))}_captureEvent(t,e={},n){return this._processEvent(t,e,n).then((t=>t.event_id),(t=>{if(zt){const e=t;"log"===e.logLevel?A.log(e.message):A.warn(e)}}))}_processEvent(t,e,n){const r=this.getOptions(),{sampleRate:o}=r,i=Ar(t),a=Lr(t),c=t.type||"error",s=`before send for type \`${c}\``,u=void 0===o?void 0:function(t){if("boolean"==typeof t)return Number(t);const e="string"==typeof t?parseFloat(t):t;if(!("number"!=typeof e||isNaN(e)||e<0||e>1))return e;zt&&A.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`)}(o);if(a&&"number"==typeof u&&Math.random()>u)return this.recordDroppedEvent("sample_rate","error",t),et(new $(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"));const l="replay_event"===c?"replay":c,f=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,e,n,f).then((n=>{if(null===n)throw this.recordDroppedEvent("event_processor",l,t),new $("An event processor returned `null`, will not send event.","log");if(e.data&&!0===e.data.__sentry__)return n;const o=function(t,e,n){const{beforeSend:r,beforeSendTransaction:o,beforeSendSpan:i}=t;if(Lr(e)&&r)return r(e,n);if(Ar(e)){if(e.spans&&i){const t=[];for(const n of e.spans){const e=i(n);e&&t.push(e)}e.spans=t}if(o)return o(e,n)}return e}(r,n,e);return function(t,e){const n=`${e} must return \`null\` or a valid event.`;if(J(t))return t.then((t=>{if(!Y(t)&&null!==t)throw new $(n);return t}),(t=>{throw new $(`${e} rejected with ${t}`)}));if(!Y(t)&&null!==t)throw new $(n);return t}(o,s)})).then((r=>{if(null===r)throw this.recordDroppedEvent("before_send",l,t),new $(`${s} returned \`null\`, will not send event.`,"log");const o=n&&n.getSession();!i&&o&&this._updateSessionFromEvent(o,r);const a=r.transaction_info;if(i&&a&&r.transaction!==t.transaction){const t="custom";r.transaction_info={...a,source:t}}return this.sendEvent(r,e),r})).then(null,(t=>{if(t instanceof $)throw t;throw this.captureException(t,{data:{__sentry__:!0},originalException:t}),new $(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${t}`)}))}_process(t){this._numProcessing++,t.then((t=>(this._numProcessing--,t)),(t=>(this._numProcessing--,t)))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.keys(t).map((e=>{const[n,r]=e.split(":");return{reason:n,category:r,quantity:t[e]}}))}}function Lr(t){return void 0===t.type}function Ar(t){return"transaction"===t.type}class Pr extends Tr{constructor(t){const e={parentSpanIsAlwaysRootSpan:!0,...t};!function(t,e,n=[e],r="npm"){const o=t._metadata||{};o.sdk||(o.sdk={name:`sentry.javascript.${e}`,packages:n.map((t=>({name:`${r}:@sentry/${t}`,version:S}))),version:S}),t._metadata=o}(e,"browser",["browser"],Hn.SENTRY_SDK_SOURCE||"npm"),super(e),e.sendClientReports&&Hn.document&&Hn.document.addEventListener("visibilitychange",(()=>{"hidden"===Hn.document.visibilityState&&this._flushOutcomes()}))}eventFromException(t,e){return function(t,e,n,r){const o=ur(t,e,n&&n.syntheticException||void 0,r);return te(o),o.level="error",n&&n.event_id&&(o.event_id=n.event_id),tt(o)}(this._options.stackParser,t,e,this._options.attachStacktrace)}eventFromMessage(t,e="info",n){return function(t,e,n="info",r,o){const i=lr(t,e,r&&r.syntheticException||void 0,o);return i.level=n,r&&r.event_id&&(i.event_id=r.event_id),tt(i)}(this._options.stackParser,t,e,n,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled())return void(ln&&A.warn("SDK not enabled, will not capture user feedback."));const e=function(t,{metadata:e,tunnel:n,dsn:r}){const o={event_id:t.event_id,sent_at:(new Date).toISOString(),...e&&e.sdk&&{sdk:{name:e.sdk.name,version:e.sdk.version}},...!!n&&!!r&&{dsn:it(r)}},i=function(t){return[{type:"user_report"},t]}(t);return Mt(o,[i])}(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(e)}_prepareEvent(t,e,n){return t.platform=t.platform||"javascript",super._prepareEvent(t,e,n)}_flushOutcomes(){const t=this._clearOutcomes();if(0===t.length)return void(ln&&A.log("No outcomes to send"));if(!this._dsn)return void(ln&&A.log("No dsn provided, will not send outcomes"));ln&&A.log("Sending outcomes:",t);const e=(n=t,Mt((r=this._options.tunnel&&it(this._dsn))?{dsn:r}:{},[[{type:"client_report"},{timestamp:o||de(),discarded_events:n}]]));var n,r,o;this.sendEnvelope(e)}}function Nr(t,e,n,r){const o={filename:t,function:"<anonymous>"===e?kt:e,in_app:!0};return void 0!==n&&(o.lineno=n),void 0!==r&&(o.colno=r),o}const Ir=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,jr=/\((\S*)(?::(\d+))(?::(\d+))\)/,Mr=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Dr=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Rr=Lt(...[[30,t=>{const e=Ir.exec(t);if(e){if(e[2]&&0===e[2].indexOf("eval")){const t=jr.exec(e[2]);t&&(e[2]=t[1],e[3]=t[2],e[4]=t[3])}const[t,n]=Ur(e[1]||kt,e[2]);return Nr(n,t,e[3]?+e[3]:void 0,e[4]?+e[4]:void 0)}}],[50,t=>{const e=Mr.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const t=Dr.exec(e[3]);t&&(e[1]=e[1]||"eval",e[3]=t[1],e[4]=t[2],e[5]="")}let t=e[3],n=e[1]||kt;return[n,t]=Ur(n,t),Nr(t,n,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}}]]),Ur=(t,e)=>{const n=-1!==t.indexOf("safari-extension"),r=-1!==t.indexOf("safari-web-extension");return n||r?[-1!==t.indexOf("@")?t.split("@")[0]:kt,n?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]};var $r=n(429),qr=function(t,e){Object.keys(t).forEach((function(n){e(n,t[n])}))},Hr=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},Gr=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},Br=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Fr=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},Vr={},zr={},Zr=function(t,e,n,r,o){var i,a;void 0===r&&(r=[]),void 0===o&&(o=[]);var c=n.join("${}"),s=null===(a=null===(i=Vr.contexts)||void 0===i?void 0:i[t])||void 0===a?void 0:a[c];if(s){var u=s.key,l=s.value,f=zr[u]||(zr[u]=function(t){var e=[];return t.replace(/\$\{[^}]+}/g,(function(t){return e.push(t.substring(2,t.length-1).trim()),""})),e}(u)),d=e(l);if(d)return d.replace(/\$\{[^}]+}/g,(function(t){var e=f.indexOf(t.substring(2,t.length-1).trim());return void 0!==r[e]?r[e]:""}))}return e&&e(Fr([void 0],Br(o),!1))||n.reduce((function(t,e,n){return t+e+(void 0!==r[n]?r[n]:"")}),"")},Yr=function(t,e){Object.defineProperty(this,"template",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:e})},Wr=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Yr(t,e)},Jr=void 0,Kr=function(){function t(t){Object.defineProperty(this,"context",{enumerable:!0,configurable:!0,writable:!0,value:t})}return Object.defineProperty(t.prototype,"t",{enumerable:!1,configurable:!0,writable:!0,value:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return Zr(this.context,(function(t){return Br(t,1)[0]}),t,e)}}),Object.defineProperty(t.prototype,"plural",{enumerable:!1,configurable:!0,writable:!0,value:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return Zr(this.context,(function(e){return Jr?Jr(t,e):e[1===Math.abs(t)?0:1]}),e.template,e.args,n)}}),t}(),Xr=function(t){return new Kr(t)},Qr={},to=/\splural ?=?([\s\S]*);?/,eo=function(t,e){var n={};qr(e.contexts||{},(function(t,e){var r={};qr(e,(function(t,e){r[t.replace(/\$\{[^}]+}/g,"${}")]={key:t,value:e}})),n[t]=r})),Vr={headers:e.headers||{},contexts:n};var r,o=e.headers;Jr=(0,$r.getPluralFunc)((null==o?void 0:o.language)||t)||(r=function(t){var e,n=(null==t?void 0:t["plural-forms"])||"nplurals=2; plural=(n != 1);",r=null===(e=to.exec(n))||void 0===e?void 0:e[1];return r&&";"===r[r.length-1]&&(r=r.slice(0,-1)),r||"plural=(n != 1)"}(o),Qr[r]||(Qr[r]=new Function("n","args",function(t){return"return args[+ (".concat(t,")];")}(r))))},no=function(t){return Hr(void 0,void 0,void 0,(function(){var e,n;return Gr(this,(function(r){switch(r.label){case 0:switch(t){case"es_419":case"es_AR":case"es_CL":case"es_DO":case"es_MX":t="es_LA"}return e=eo,n=[t],[4,fetch("/locales/"+t+".json")];case 1:return[4,r.sent().json()];case 2:return e.apply(void 0,n.concat([r.sent()])),[2]}}))}))},ro=function(){return navigator.language||navigator.userLanguage},oo=function(t,e){var n=null==e?void 0:e[t];if(!n)return[];try{var r=JSON.parse(n);return r instanceof Array?r:[]}catch(t){return[]}},io=function(t){return{be:"be_BY",ca:"ca_ES",cs:"cs_CZ",el:"el_GR",en:"en_US",hi:"hi_IN",ja:"ja_JP",ka:"ka_GE",ko:"ko_KR",nb:"nb_NO",nn:"nb_NO",no:"nb_NO",pt:"pt_BR",sl:"sl_SI",sv:"sv_SE",uk:"uk_UA",vi:"vi_VN"}[t]||t+"_"+t.toUpperCase()},ao=function(){var t=ro();if("string"!=typeof t||!t)return"en_US";var e=t.replace("-","_");return-1!==e.indexOf("_")?e:io(e)},co=function(t,e){var n;t={UK:"GB"}[t=t.toUpperCase()]||t;var r=["".concat(e||ro())],o=new Intl.DisplayNames(r,{type:"region",style:"short"}).of(t);switch(null===(n=r[0])||void 0===n?void 0:n.split(/[_-]/)[0]){case"jp":case"zh":return o}var i=new Intl.DisplayNames(r,{type:"region"}).of(t);return o&&i&&o.length<6&&i.length<14?i:o},so=function(t,e){return co(t,e)||t},uo=function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/\//g,"&#47;")},lo=function(t){return Object.keys(t)},fo=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},po=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},vo=[],ho=function(t){return vo.push(t),function(){vo.splice(vo.indexOf(t),1)}};chrome.runtime.onMessage.addListener((function(t){return vo.forEach((function(e){var n=t.type,r=n?e[n]:void 0;"function"!=typeof r?e.error&&t.error&&e.error(t.error):r(t.data)})),!1}));var yo=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},go=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},mo=n.g||window;mo.browser||(mo.browser=chrome);var bo,wo,_o,xo,Eo,So=function(t,e){return void 0===e&&(e=void 0),new Promise((function(n,r){return yo(void 0,void 0,void 0,(function(){var o,i,a,c;return go(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),o=function(t){var e;if(t){var o=null==t?void 0:t.result,i=null==o?void 0:o.error;if(!i||i.Warning){var a=null===(e=null===browser||void 0===browser?void 0:browser.runtime)||void 0===e?void 0:e.lastError;a?r(a.message?new Error(a.message):a):n(o)}else r(i)}},i=function(){try{var n=Date.now()+":"+Math.random(),r=browser.runtime.sendMessage(browser.runtime.id,{type:t,data:e,respondTo:"broadcast",requestId:n},void 0,o);return function(t,e){var n,r=void 0;r=ho(((n={})[t]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.apply(void 0,po([],fo(t),!1)),null==r||r()},n))}("answer:"+n,o),r}catch(n){return browser.runtime.sendMessage(browser.runtime.id,{type:t,data:e,respondTo:"promise"})}}(),i instanceof Promise?(a=o,[4,i]):[3,2];case 1:a.apply(void 0,[s.sent()]),s.label=2;case 2:return[3,4];case 3:return c=s.sent(),r(c),[3,4];case 4:return[2]}}))}))}))},Co=function(t,e){return void 0===e&&(e=void 0),So(t,e)};!function(t){t.SIGN_OUT="signOut",t.SWITCH_ACCOUNT="switchAccount",t.DISCONNECT="disconnect",t.CONNECT="connect",t.CONNECTING="connecting"}(bo||(bo={})),function(t){t.BYPASS_LIST="bypassList"}(wo||(wo={})),function(t){t.PROXY="proxy"}(_o||(_o={})),function(t){t.FORK="fork",t.FORGET_ERROR="forgetError",t.LOG="log"}(xo||(xo={})),function(t){t.USER="user",t.PM_USER="pmUser",t.STATE="state"}(Eo||(Eo={}));var ko=function(){return"undefined"==typeof window||-1!==window.location.href.indexOf("_generated_background_page.html")},Oo=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},To=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},Lo=[],Ao=!1,Po=x.item("logs");Po.get().then((function(t){(null==t?void 0:t.value)&&(Lo.push.apply(Lo,To([],Oo(t.value),!1)),Po.setValue(Lo),Ao=!0)})),n.g.getLogs=function(){return Lo.slice()};var No,Io,jo,Mo,Do=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Ro=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},Uo=function(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];(void 0===n.g.debugEnabled||n.g.debugEnabled)&&(console[t].apply(console,e),function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(ko())return Lo.unshift(To([Date.now()],Oo(t),!1)),Lo.splice(100,1e3),void(Ao&&Po.setValue(Lo));ci(Co(xo.LOG,To([],Oo(t),!1)))}(Ro([t],Do(e),!1)))}},$o=(Uo("log"),Uo("warn")),qo=Uo("error"),Ho=(Uo("info"),Uo("debug"),function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t});function Go(t){var e,n,r=[(e={},e[zo.MAIN_ACTION]="primary-button wide-button",e[zo.SECONDARY_ACTION]="secondary-button wide-button",e)[t.Category]||"",(n={},n[Vo.UPGRADE]="upgrade-button",n)[t.Code]||""].filter(Boolean).join(" ");return'<a class="'.concat(r,'" href="').concat(t.URL.replace(/^\//,c),'">').concat(Xr("Action").t(No||(No=Ho(["Upgrade"],["Upgrade"]))),"</a>")}function Bo(t,e){void 0===e&&(e=!1);var n=t.Error||t.message||t;if(n instanceof Error)return n.message;if("string"==typeof n)return n;$o(n);var r="".concat(t).replace(/^TypeError:\s+/,"");if(/\[object/.test(r)){$o(n);var o=lo(n);return e&&0!==o.length&&"_id"!==o.join(",")?"<pre>"+uo(JSON.stringify(n,null,2))+"</pre>":Xr("Error").t(Io||(Io=Ho(["Something went wrong. If the problem persists, please try to re-install the extension"],["Something went wrong. If the problem persists, please try to re-install the extension"])))}return r}function Fo(t){var e,n,r,o,i,a,c,s;if(ea(t)||ta(t)){var u=t,l=u.Code,f=function(t){return t&&"string"!=typeof t?t.map((function(t){if("Feature"===t.Component){var e={world:'<path fill-rule="evenodd" d="M20.9 13.345C20.251 17.677 16.514 21 12 21c-4.417 0-8.091-3.182-8.855-7.38a3.75 3.75 0 0 0 3.356.995l.54-.108a.75.75 0 0 1 .868.53l.906 3.17a2.225 2.225 0 0 0 4.3-.07l.222-.893a.75.75 0 0 1 .312-.442l1.436-.957a2.25 2.25 0 0 0 .764-.866l.088-.177a2.25 2.25 0 0 0-.421-2.597L14.47 11.16a2.25 2.25 0 0 0-1.591-.659h-1.34a.751.751 0 0 1-.279-.054l-1.934-.774A.349.349 0 0 1 9.456 9h1.55a1.783 1.783 0 0 0 1.26-3.044L11.312 5l1.808-.3a2.25 2.25 0 0 0 1.665-1.26 9.001 9.001 0 0 1 3.64 2.26l-1.097.548A2.25 2.25 0 0 0 16.2 8.971l.813 2.44a2.25 2.25 0 0 0 1.693 1.495l2.194.439Zm-1.494-6.46A8.956 8.956 0 0 1 21 11.835l-1.998-.4a.75.75 0 0 1-.565-.498l-.813-2.44A.75.75 0 0 1 18 7.589l1.407-.704ZM12 3c.407 0 .807.027 1.2.08a.748.748 0 0 1-.327.14l-1.809.3c-1.203.201-1.677 1.678-.814 2.54l.956.957a.283.283 0 0 1-.2.483h-1.55a1.849 1.849 0 0 0-.687 3.565l1.934.774c.266.106.55.161.836.161h1.34a.75.75 0 0 1 .53.22l1.046 1.046a.75.75 0 0 1 .14.866l-.088.176a.75.75 0 0 1-.255.289l-1.436.957a2.25 2.25 0 0 0-.934 1.327l-.223.891a.726.726 0 0 1-1.402.024l-.906-3.172a2.25 2.25 0 0 0-2.605-1.588l-.54.108a2.25 2.25 0 0 1-2.24-.857l-.918-1.223A9.001 9.001 0 0 1 12 3Zm0 19.5c5.799 0 10.5-4.701 10.5-10.5S17.799 1.5 12 1.5 1.5 6.201 1.5 12 6.201 22.5 12 22.5Z" clip-rule="evenodd"/>',incognito:'<path fill-rule="evenodd" d="M14.517 3.247a3 3 0 0 1 4.1 2.031l1.485 5.977h1.648a.75.75 0 1 1 0 1.5H2.25a.75.75 0 0 1 0-1.5h1.649l1.484-5.977a3 3 0 0 1 4.1-2.031l1.626.701a2.25 2.25 0 0 0 1.782 0l1.626-.701Zm2.645 2.393a1.5 1.5 0 0 0-2.05-1.016l-1.627.702a3.75 3.75 0 0 1-2.97 0l-1.626-.702a1.5 1.5 0 0 0-2.05 1.016l-1.38 5.555h13.082l-1.38-5.555Zm-7.305 9.515a3.75 3.75 0 1 0 .643 2.1 1.5 1.5 0 1 1 3 0 3.75 3.75 0 1 0 .643-2.1 2.991 2.991 0 0 0-2.143-.9 2.99 2.99 0 0 0-2.143.9ZM9 17.255a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm6 0a2.25 2.25 0 1 0 4.5 0 2.25 2.25 0 0 0-4.5 0Z" clip-rule="evenodd"/>',play:'<path fill-rule="evenodd" clip-rule="evenodd" d="M7.5 6.00421C7.5 4.75768 8.93047 4.05335 9.91848 4.81335L17.7136 10.8095C18.4955 11.411 18.4955 12.5898 17.7136 13.1913L9.91848 19.1875C8.93047 19.9475 7.5 19.2431 7.5 17.9966L7.5 6.00421ZM9.00002 6.00275C9.00001 6.0032 9 6.00369 9 6.00421L9 17.9966C9 17.9971 9.00001 17.9976 9.00002 17.9981C9.00042 17.9983 9.00086 17.9985 9.00136 17.9988C9.00185 17.999 9.00232 17.9992 9.00274 17.9994C9.00311 17.9991 9.0035 17.9988 9.00392 17.9985L16.7991 12.0023C16.7994 12.0021 16.7997 12.0018 16.7999 12.0016C16.8 12.0013 16.8 12.0009 16.8 12.0004C16.8 11.9999 16.8 11.9995 16.7999 11.9992C16.7997 11.999 16.7994 11.9987 16.7991 11.9985L9.00392 6.00229C9.0035 6.00197 9.00311 6.00168 9.00274 6.00141C9.00232 6.00159 9.00185 6.00179 9.00136 6.00204C9.00086 6.00228 9.00042 6.00252 9.00002 6.00275Z" />'}[t.Icon]||"";return'<div class="feature-row">\n\t\t\t\t\t<div style="width: 40px; flex: 0;">'.concat(e?'<svg class="feature-icon" viewBox="0 0 24 24">'.concat(e,"</svg>"):"",'</div>\n\t\t\t\t\t<div style="flex: 1;">').concat(t.Text,"</div>\n\t\t\t\t</div>")}return"<div>".concat(t.Text,"</div>")})).join(""):t}(null===(e=u.Details)||void 0===e?void 0:e.Body),d=f||(86151===l?Xr("Action").t(jo||(jo=Ho(["Subscribe to enable Browser Extension"],["Subscribe to enable Browser Extension"]))):Xr("Action").t(Mo||(Mo=Ho(["Subscribe to connect more devices"],["Subscribe to connect more devices"])))),p=(null===(n=u.Details)||void 0===n?void 0:n.Title)||(null===(r=u.Details)||void 0===r?void 0:r.Hint)||f?"":'<div class="error-message" style="max-width: 348px;">'.concat(Bo(t,!0),"</div>"),v=function(t){switch(t){case 86110:case 86111:case 86112:case 86113:case 86114:case 86115:case 86300:return"/img/illustration-maximum-device-limit@2x.png";case 86151:return"/img/illustration-free-user-upsell@2x.png";default:return}}(l);return{restartOnClose:86300===l,blockingError:"\n\t\t\t\t".concat(p,'\n\t\t\t\t<div class="text-center" style="padding: 20px; line-height: 1.4em;">\n\t\t\t\t\t').concat(l?'<img src="'.concat(v,'" alt="" style="max-width: 248px;" />'):"","\n\t\t\t\t\t").concat((null===(o=u.Details)||void 0===o?void 0:o.Title)?'<p style="padding-bottom: 10px; margin: 0 20px; font-weight: bold; font-size: 16px; line-height: 26px;">'.concat(null===(i=u.Details)||void 0===i?void 0:i.Title,"</p>"):"",'\n\t\t\t\t\t<p style="padding-bottom: 10px; font-size: 12px; line-height: 18px;">').concat(d,"</p>\n\t\t\t\t\t").concat((null===(a=u.Details)||void 0===a?void 0:a.Hint)?'<p style="padding-bottom: 10px; opacity: 0.8; font-size: 10px; line-height: 16px;">'.concat(null===(c=u.Details)||void 0===c?void 0:c.Hint,"</p>"):"","\n\t\t\t\t\t").concat(((null===(s=u.Details)||void 0===s?void 0:s.Actions)||[]).map(Go).join(""),"\n\t\t\t\t</div>\n\t\t\t")}}return{error:'<div class="error-message">\n\t\t\t<div class="icon">\n\t\t\t\t<svg viewBox="0 0 24 24">\n\t\t\t\t\t<path fill-rule="evenodd" d="M22.349 22.5H1.65c-1.266 0-2.06-1.341-1.431-2.42l10.35-17.765c.632-1.087 2.23-1.087 2.862 0l10.35 17.765c.627 1.079-.166 2.42-1.432 2.42ZM12 7.135c.934 0 1.656.803 1.54 1.712l-.722 5.667a.819.819 0 0 1-.818.708.82.82 0 0 1-.818-.708l-.722-5.667c-.116-.909.606-1.712 1.54-1.712Zm1.154 10.513c0 .625-.517 1.132-1.154 1.132a1.143 1.143 0 0 1-1.154-1.133c0-.625.517-1.132 1.154-1.132.637 0 1.154.507 1.154 1.133Z" clip-rule="evenodd"/>\n\t\t\t\t</svg>\n\t\t\t</div>\n\t\t\t<div class="text">'.concat(Bo(t,!0),'</div>\n\t\t\t<button class="close-button">\n\t\t\t\t<svg viewBox="0 0 24 24">\n\t\t\t\t\t<path fill-rule="evenodd" d="M6.22 6.22a.75.75 0 0 1 1.06 0L12 10.94l4.72-4.72a.75.75 0 1 1 1.06 1.06L13.06 12l4.72 4.72a.75.75 0 1 1-1.06 1.06L12 13.06l-4.72 4.72a.75.75 0 0 1-1.06-1.06L10.94 12 6.22 7.28a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd"/>\n\t\t\t\t</svg>\n\t\t\t</button>\n\t\t</div>')}}var Vo,zo,Zo={fromSeconds:function(t,e){return(e||0)+1e3*t},fromMinutes:function(t,e){return t*this.fromSeconds(60,e)},fromHours:function(t,e){return t*this.fromMinutes(60,e)},fromDays:function(t,e){return t*this.fromHours(24,e)},toSeconds:function(t){return t/1e3},toMinutes:function(t){return this.toSeconds(t)/60},toHours:function(t){return this.toMinutes(t)/60},toDays:function(t){return this.toHours(t)/24},diffInMilliSeconds:function(t,e){return(e||Date.now())-(t||0)},diffInSeconds:function(t){return this.toSeconds(this.diffInMilliSeconds(t))},diffInMinutes:function(t){return this.toMinutes(this.diffInMilliSeconds(t))},diffInHours:function(t){return this.toHours(this.diffInMilliSeconds(t))},diffInDays:function(t){return this.toDays(this.diffInMilliSeconds(t))}},Yo=function(){return Yo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Yo.apply(this,arguments)},Wo=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},Jo=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},Ko=x.item("crash-reports-disabled"),Xo={key:"crash-reports-enabled",get:function(t){return void 0===t&&(t=void 0),Wo(this,void 0,void 0,(function(){var e,n;return Jo(this,(function(r){switch(r.label){case 0:return[4,Ko.get(t?{value:!t.value}:void 0)];case 1:return e=r.sent(),[2,"boolean"==typeof(n=null==e?void 0:e.value)?Yo(Yo({},e||{}),{value:!n}):void 0]}}))}))},getDefined:function(t){return Xo.get(t)},load:function(t){return void 0===t&&(t=void 0),Wo(this,void 0,void 0,(function(){var e;return Jo(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,Ko.load(t)];case 1:return[2,"boolean"==typeof(e=n.sent().value)?{value:!e}:{}];case 2:return n.sent(),[2,{}];case 3:return[2]}}))}))},set:function(t){return Ko.set({value:!t.value})},setValue:function(t,e){return void 0===e&&(e={}),Ko.setValue(!t,e)},remove:function(){return Ko.remove()}},Qo=function(){return Wo(void 0,void 0,void 0,(function(){var t;return Jo(this,(function(e){switch(e.label){case 0:return[4,Ko.getDefined({value:!1})];case 1:return(t=e.sent()).value=!t.value,[2,t]}}))}))},ti=function(t){var e=t.toString();return e.includes("/envelope/")?{"content-type":"application/x-sentry-envelope"}:e.includes("/store/")?{"content-type":"application/json"}:{}},ei=function(t,e){return globalThis.fetch(t,Yo(Yo({},e),{headers:Yo(Yo(Yo({},null==e?void 0:e.headers),ti(t)),{"x-pm-uid":""})}))},ni=function(t){return function(t,e=R("fetch")){let n=0,r=0;return Yt(t,(function(o){const i=o.body.length;n+=i,r++;const a={body:o.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:n<=6e4&&r<15,...t.fetchOptions};if(!e)return U("fetch"),et("No fetch implementation available");try{return e(t.url,a).then((t=>(n-=i,r--,{statusCode:t.status,headers:{"x-sentry-rate-limits":t.headers.get("X-Sentry-Rate-Limits"),"retry-after":t.headers.get("Retry-After")}})))}catch(t){return U("fetch"),n-=i,r--,et(t)}}))}(t,ei)},ri={},oi=function(t){if(t){switch("Code"in t?t.Code:void 0){case 86110:case 86111:case 86112:case 86113:case 86114:case 86115:case 86300:return}var e=Bo(t);if(!/Url already open/.test(e)){var n=Date.now();n-((null==ri?void 0:ri[e])||0)<Zo.fromMinutes(5)||(ri[e]=n,ai().captureException(function(t,e){if(t instanceof Error)return t;var n=new Error(e);return n.previous=t,n}(t,e)))}}},ii=void 0,ai=function(){if(ii)return ii;var t=[],e=_r().filter((function(t){return!["BrowserApiErrors","TryCatch","Breadcrumbs","GlobalHandlers"].includes(t.name)})),n=new Pr({dsn:f,release:i,environment:/\.proton.me$/.test(l)?"prod":"test",normalizeDepth:5,transport:ni,stackParser:Rr,autoSessionTracking:!1,integrations:e,sendClientReports:!1,beforeSend:function(e){return Wo(this,void 0,void 0,(function(){var n,r;return Jo(this,(function(o){switch(o.label){case 0:return[4,Wo(void 0,void 0,void 0,(function(){return Jo(this,(function(t){switch(t.label){case 0:return[4,Qo()];case 1:return[2,t.sent().value]}}))}))];case 1:return o.sent()?(n=Date.now(),r=n-6e5,(t=t.filter((function(t){return t>=r}))).length>5?[2,null]:(t.push(n),[2,e])):[2,null]}}))}))}});return(ii=new we).setClient(n),n.init(),ii},ci=function(t){"function"==typeof(null==t?void 0:t.then)&&t.then((function(){}),oi)},si=function(t){"function"==typeof(null==t?void 0:t.catch)&&t.catch((function(){}))},ui=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},li=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},fi=x.item("session",w),di=x.item("session"),pi=function(){return ui(void 0,void 0,void 0,(function(){var t,e;return li(this,(function(n){switch(n.label){case 0:return[4,fi.load()];case 1:return(t=n.sent())&&lo(t).length?[2,t]:[4,di.load()];case 2:return(e=n.sent())&&ci(fi.set(e)),[2,e]}}))}))},vi=x.selfItem("credentials",w),hi=function(){return vi.remove()},yi=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},gi=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},mi=function(t){return yi(void 0,void 0,void 0,(function(){var e,n,r;return gi(this,(function(o){switch(o.label){case 0:return[4,pi()];case 1:return e=null===(r=o.sent())||void 0===r?void 0:r.uid,n=(null==t?void 0:t.uid)||e,ci(t.persistent?di.set(t):di.remove()),[4,fi.set(t)];case 2:return o.sent(),n===e?[3,4]:[4,hi()];case 3:o.sent(),o.label=4;case 4:return[2]}}))}))},bi=function(t,e){void 0===e&&(e=!0),Object.defineProperty(this,"message",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"logout",{enumerable:!0,configurable:!0,writable:!0,value:e}),this.message||(this.message="Missing refresh token")},wi=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},_i=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},xi=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Ei=!1,Si=[],Ci=function(t,e){void 0===e&&(e=void 0),So(t,e).catch((function(t){-1==="".concat((null==t?void 0:t.message)||t).indexOf("Receiving end does not exist.")&&qo(t)}))},ki=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},Oi=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},Ti=void 0,Li=x.item("upgrade-error",t.LOCAL,"error"),Ai=function(t){Ti={version:i,time:Date.now(),error:t},si(t?Li.set(Ti):Li.remove())},Pi=function(){return ki(void 0,void 0,void 0,(function(){return Oi(this,(function(t){switch(t.label){case 0:return Ti?[3,2]:[4,Li.get()];case 1:(Ti=t.sent())||Ai(void 0),t.label=2;case 2:return Ti?Ti.version!==i||Date.now()-Ti.time>Zo.fromHours(2)?(Ai(void 0),[2,void 0]):[2,Ti.error]:[2,void 0]}}))}))},Ni=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Ii=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},ji=function(t,e,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];return e&&(t+=Math.round(e*(2*Math.random()-1))),setTimeout.apply(void 0,Ii([n,t],Ni(r),!1))},Mi=function(t,e){return void 0===e&&(e=0),new Promise((function(n){ji(t,e,n)}))},Di=function(t,e,n,r){return void 0===r&&(r=Error),new Promise((function(o,i){var a=!1,c=setTimeout((function(){a=!0,i(new r(n||"Timeout"))}),e);t.then((function(t){a||(o(t),clearTimeout(c))})).catch(i)}))},Ri=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},Ui=function(){return Ui=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Ui.apply(this,arguments)},$i=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},qi=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},Hi=function(t,e,n){return void 0===n&&(n={}),{method:t,headers:Ui({Accept:"application/json","Content-Type":"application/json"},n),body:JSON.stringify(e)}},Gi=function(){return"browser-vpn@"+i},Bi={},Fi=function(t,e,n,r,o){return $i(void 0,void 0,void 0,(function(){var i,a,c,s,l,f,d,p,v,h,y,g;return qi(this,(function(m){switch(m.label){case 0:if(i="".concat((null==e?void 0:e.method)||"GET"," ").concat(t),a=Bi[i]){if(a.time>=Date.now())return[2,a.response.clone()];delete Bi[i]}return(c=(null==e?void 0:e.headers)||{})["x-pm-uid"]?[3,5]:(l=r)?[3,2]:[4,pi()];case 1:l=m.sent(),m.label=2;case 2:return(s=l).expiresAt?[3,3]:(f=null==s?void 0:s.uid,d=null==s?void 0:s.accessToken,f&&d&&Object.assign(c,function(t,e){return{"x-pm-uid":t,Authorization:"Bearer ".concat(e)}}(f,d)),[3,5]);case 3:return!r&&(o||0)<Date.now()?[4,Mi(200)]:[3,5];case 4:return m.sent(),[2,Fi(t,e,n,r,o||Zo.fromSeconds(8,Date.now()))];case 5:return p=Ui(Ui({mode:"cors",credentials:"include",redirect:"follow",method:"GET"},e),{headers:Ui({"x-pm-appversion":Gi()},c)}),[4,fetch("".concat(n||u).concat(t),p)];case 6:return v=m.sent(),na(v)&&(h="".concat(v.headers.get("Retry-After")||"0"),y=Math.min(Date.now()+Zo.fromMinutes(30),/^\d+$/.test(h)?Date.now()+Zo.fromSeconds(Math.max(10,Number(h))):new Date(h).getTime()),((null===(g=Bi[i])||void 0===g?void 0:g.time)||0)<y&&(Bi[i]={time:y,response:v.clone()})),[2,v]}}))}))},Vi=function(t){return $i(void 0,void 0,void 0,(function(){var e;return qi(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,t.json()];case 1:return[2,n.sent()];case 2:throw e=n.sent(),$o(t.status,e),new Error(Xr("Error").t(Wi||(Wi=Ri(["Service temporarily unavailable"],["Service temporarily unavailable"]))));case 3:return[2]}}))}))},zi=function(t,e){return $i(void 0,void 0,void 0,(function(){var n;return qi(this,(function(r){switch(r.label){case 0:return[4,Vi(t)];case 1:return n=r.sent(),[2,e?e(t,n):n]}}))}))},Zi=function(t){return $i(void 0,void 0,void 0,(function(){return qi(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,4]),[4,t.clone().json()];case 1:case 3:return[2,e.sent()];case 2:return e.sent(),[4,t.text()];case 4:return[2]}}))}))},Yi=function(t,e,n,r){return $i(void 0,void 0,void 0,(function(){var o,i,a,c,s,u,l,f,d;return qi(this,(function(p){switch(p.label){case 0:return[4,Pi()];case 1:if(o=p.sent())throw Ci("updateExtension",{error:o}),o;return[4,Fi(t,e,n)];case 2:return i=p.sent(),Ji(i)?[3,9]:[4,Zi(i)];case 3:if(a=p.sent(),(c=(null==a?void 0:a.Error)?a:new Error(a)).response=i,c&&"object"==typeof c&&(c.httpStatus=i.status),ea(a))throw Ci("updateExtension",{error:c}),Ai(a),c;return Ai(void 0),/\/?auth(\/.*)$/.test(t)||!Qi(c)?[3,8]:[4,pi()];case 4:return s=p.sent(),u=s.uid,l=s.accessToken,[4,(v=s,wi(void 0,void 0,void 0,(function(){var t,e,n;return _i(this,(function(r){switch(r.label){case 0:return v?[3,2]:[4,pi()];case 1:v=r.sent(),r.label=2;case 2:if(!v.uid||!v.refreshToken)throw new bi;return Ei?[4,new Promise((function(t,e){Si.push([t,e])}))]:[3,4];case 3:return[2,r.sent()];case 4:return r.trys.push([4,8,12,13]),Ei=!0,v.expiresAt=Date.now(),[4,mi(v)];case 5:return r.sent(),[4,Yi("auth/refresh",Hi("POST",{UID:v.uid,ResponseType:"token",GrantType:"refresh_token",RefreshToken:v.refreshToken,RedirectURI:v.redirectURI||"https://protonvpn.com"},{"x-pm-uid":v.uid}))];case 6:return t=r.sent(),delete v.expiresAt,v.refreshToken=t.RefreshToken,v.accessToken=t.AccessToken,[4,mi(v)];case 7:return r.sent(),Si.forEach((function(t){(0,xi(t,1)[0])(v)})),Si=[],[2,v];case 8:return e=r.sent(),[4,pi()];case 9:return(n=r.sent()).expiresAt&&n.accessToken===v.accessToken?(delete n.expiresAt,[4,mi(n)]):[3,11];case 10:r.sent(),r.label=11;case 11:if(10013===e.Code){$o(e,(new Error).stack),e=new bi(Bo(e));try{ci(Co(bo.SIGN_OUT))}catch(t){}Si.forEach((function(t){(0,xi(t,2)[1])(e)})),Si=[]}throw e;case 12:return Ei=!1,[7];case 13:return[2]}}))})))];case 5:return!(f=p.sent()).uid||!f.accessToken||f.uid===u&&f.accessToken===l?[3,7]:[4,Fi(t,e,n,f)];case 6:if(d=p.sent(),Ji(d))return[2,zi(d,r)];p.label=7;case 7:$o(c),p.label=8;case 8:throw c;case 9:return Ai(void 0),[2,zi(i,r)]}var v}))}))};!function(t){t.UPGRADE="Upgrade"}(Vo||(Vo={})),function(t){t.MAIN_ACTION="main_action",t.SECONDARY_ACTION="secondary_action",t.LINK="link"}(zo||(zo={}));var Wi,Ji=function(t){return t.status>=200&&t.status<300},Ki=function(t,e){return"object"==typeof t&&(null==t?void 0:t.httpStatus)===e},Xi=function(t){return Ki(t,401)},Qi=function(t){return Xi(t)&&401===t.Code},ta=function(t){var e;return"DeviceLimit"===(null===(e=null==t?void 0:t.Details)||void 0===e?void 0:e.Type)},ea=function(t){return"object"==typeof t&&5003===(null==t?void 0:t.Code)},na=function(t){return"object"==typeof t&&(429===(null==t?void 0:t.Code)||503===(null==t?void 0:t.Code))},ra=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},oa=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},ia=function(t,e){return"string"==typeof t&&"string"==typeof e?t.localeCompare(e):t>e?1:t<e?-1:0},aa=function(){function t(t){Object.defineProperty(this,"transformer",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"sortingCallbacks",{enumerable:!0,configurable:!0,writable:!0,value:[]})}return Object.defineProperty(t.prototype,"getField",{enumerable:!1,configurable:!0,writable:!0,value:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return this.transformer?this.transformer.apply(this,oa([t],ra(e),!1)):t}}),Object.defineProperty(t.prototype,"sort",{enumerable:!1,configurable:!0,writable:!0,value:function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this.sortingCallbacks.length&&t.sort((function(t,r){var o=e.getField.apply(e,oa([t],ra(n),!1)),i=e.getField.apply(e,oa([r],ra(n),!1)),a=0;return e.sortingCallbacks.some((function(t){return a=t(o,i)})),a}))}}),Object.defineProperty(t.prototype,"asc",{enumerable:!1,configurable:!0,writable:!0,value:function(t){return this.sortingCallbacks.push((function(e,n){return ia(null==e?void 0:e[t],null==n?void 0:n[t])})),this}}),Object.defineProperty(t.prototype,"desc",{enumerable:!1,configurable:!0,writable:!0,value:function(t){return this.sortingCallbacks.push((function(e,n){return ia(null==n?void 0:n[t],null==e?void 0:e[t])})),this}}),t}(),ca=x.selfItem("user",w),sa=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},ua=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},la=function(){return sa(void 0,void 0,void 0,(function(){var t;return ua(this,(function(e){switch(e.label){case 0:return[4,ca.load()];case 1:return function(t){var e;return"object"==typeof(null===(e=null==t?void 0:t.User)||void 0===e?void 0:e.VPN)}(null==(t=e.sent())?void 0:t.user)&&(t.user=t.user.User),[2,t]}}))}))},fa=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},da=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},pa=function(e){return fa(void 0,void 0,void 0,(function(){var n;return da(this,(function(r){switch(r.label){case 0:return[4,x.getItem("backoff-"+e,void 0,t.LOCAL)];case 1:return(n=r.sent())?Date.now()>n.forget?(function(e){ci(x.removeItem("backoff-"+e,t.LOCAL))}(e),[2,!1]):[2,Date.now()<=n.expiration]:[2,!1]}}))}))},va=function(e,n){void 0===n&&(n=5e3),ci(fa(void 0,void 0,void 0,(function(){var r,o,i,a;return da(this,(function(c){switch(c.label){case 0:return[4,x.getItem("backoff-"+e,void 0,t.LOCAL)];case 1:return r=c.sent(),o=((null==r?void 0:r.increment)||0)+1,i=Date.now()+1e3*Math.min(300,Math.pow(n/1e3,(1+o)/2)),a=Date.now()+2e4+1e3*Math.max(15,Math.min(600,Math.pow(n/1e3,(2+o)/2))),[4,x.setItem("backoff-"+e,{increment:o,expiration:i,forget:a},t.LOCAL)];case 2:return c.sent(),[2]}}))})))},ha=(x.item("connectedServer",t.SESSION),function(t){var e;return(null===(e=null==t?void 0:t.VPN)||void 0===e?void 0:e.MaxTier)||0}),ya=function(){var t,e=!1;n.g.browser||(n.g.browser=chrome);var r=((t={})[Eo.USER]=function(t){var n=t.user;e=function(t){return ha(t)>0}(n)},t);return browser.runtime.onMessage.addListener((function(t){var e,n=null==t?void 0:t.event;return null===(e=r[n])||void 0===e||e.call(r,t),!1})),function(){return!e}}(),ga=function(){return ya()?Zo.fromDays(1):Zo.fromHours(6)},ma=function(){return Zo.fromDays(10)},ba=function(){return ya()?Zo.fromDays(7):Zo.fromDays(3)},wa=function(){return wa=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},wa.apply(this,arguments)},_a=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},xa=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},Ea=x.item("location",t.LOCAL),Sa=x.item("location-fetching",t.LOCAL);ci(Ea.remove());var Ca,ka=function(){return Ea.load()},Oa=function(){return _a(void 0,void 0,void 0,(function(){var t,e,n,r,o,i,a,c;return xa(this,(function(s){switch(s.label){case 0:return[4,ka()];case 1:return t=s.sent(),e=ya()?Zo.fromMinutes(30):Zo.fromMinutes(10),(n=Zo.diffInMilliSeconds(null==t?void 0:t.time)<e)?[3,3]:[4,pa("location")];case 2:n=s.sent(),s.label=3;case 3:if(n)return[2,null==t?void 0:t.location];s.label=4;case 4:return r=Date.now(),[4,Sa.get()];case 5:return r-((null===(c=s.sent())||void 0===c?void 0:c.time)||0)<Zo.fromSeconds(2)?[4,Mi(200)]:[3,8];case 6:return s.sent(),[4,ka()];case 7:return o=s.sent(),Zo.diffInMilliSeconds(null==o?void 0:o.time)<e?[2,null==o?void 0:o.location]:[3,4];case 8:return[4,_a(void 0,void 0,void 0,(function(){return xa(this,(function(t){switch(t.label){case 0:return[2,!0];case 1:return[2,t.sent()]}}))}))];case 9:if(!s.sent())return[2,null==t?void 0:t.location];s.label=10;case 10:return s.trys.push([10,15,16,17]),[4,Sa.setValue(null)];case 11:return s.sent(),[4,Yi("vpn/v1/location")];case 12:return(i=s.sent())?[4,Ea.set({time:Date.now(),location:i})]:[3,14];case 13:s.sent(),s.label=14;case 14:return[2,i];case 15:if(a=s.sent(),va("location"),a instanceof bi)throw a;return[2,null==t?void 0:t.location];case 16:return ci(Sa.remove()),[7];case 17:return[2]}}))}))},Ta=function(t,e,n){return _a(void 0,void 0,void 0,(function(){var r,o;return xa(this,(function(i){switch(i.label){case 0:return[4,Oa()];case 1:return r=i.sent(),(o=null==r?void 0:r.IP)&&(e||(e={}),e.headers=wa(wa({},e.headers),{"x-pm-netzone":o.replace(/\.\d+$/,".0"),"x-pm-country":null==r?void 0:r.Country})),[4,Yi(t,e,void 0,n)];case 2:return[2,i.sent()]}}))}))},La=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},Aa=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},Pa=function(t,e,n){return La(void 0,void 0,void 0,(function(){var r,o,i,a,c,s;return Aa(this,(function(u){switch(u.label){case 0:return[4,la()];case 1:if(r=(null===(s=null===(c=u.sent())||void 0===c?void 0:c.user)||void 0===s?void 0:s.VPN)||{},o=r.MaxTier,i=r.Groups,e||(e={}),"number"!=typeof o)throw new Error("Cannot fetch ".concat(t," while not authenticated"));return Object.assign(e.headers||(e.headers={}),{"x-pm-max-tier":"".concat(o)}),i&&(a=i.length,Object.assign(e.headers||(e.headers={}),1===a?{"x-pm-single-group":i.join(",")}:{"x-pm-group-count":a})),[4,Ta(t,e,n)];case 2:return[2,u.sent()]}}))}))},Na=function(t){return function(t){return t&&"object"==typeof t&&"number"==typeof(null==t?void 0:t.time)}(t)?Date.now()-t.time:1/0},Ia=function(){return Ia=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Ia.apply(this,arguments)},ja=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},Ma=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},Da={},Ra=function(e,n){return ja(void 0,void 0,void 0,(function(){var r,o,i;return Ma(this,(function(a){switch(a.label){case 0:return[4,Yi("vpn/v1/cities/names")];case 1:return r=a.sent(),(o=r.Cities)?(i={time:Date.now(),value:o},Da[n]=i,ci(x.setItem("city-names-"+e,i,t.LOCAL)),[2,o]):[2,{}]}}))}))},Ua=void 0,$a=0,qa=function(t,e){var n=0===Object.keys(e).length,r=0;if(t.forEach((function(t){var o;n||(null===(o=t.Translations)||void 0===o?void 0:o.City)||!t.City||((e[t.ExitCountry]||{}).hasOwnProperty(t.City)?t.Translations=Ia({City:e[t.ExitCountry][t.City]},t.Translations):3!==t.Tier&&r++)})),r>0){var o=Date.now();o-$a>Zo.fromHours(1)&&($a=o,Ga(Ua,!0).then((function(e){qa(t,e)})))}},Ha=function(e,n){return ja(void 0,void 0,void 0,(function(){var r;return Ma(this,(function(o){switch(o.label){case 0:return Da[e]?[2,Da[e]]:[4,x.getItem("city-names-"+n,void 0,t.LOCAL)];case 1:return(r=o.sent())&&(Da[e]=r),[2,r]}}))}))},Ga=function(t,e){return void 0===e&&(e=!1),ja(void 0,void 0,void 0,(function(){var n,r,o,i;return Ma(this,(function(a){switch(a.label){case 0:return Ua=t,n=navigator.languages||[ro()],/^en(-.*)$/.test("".concat(n[0]||""))?[2,{}]:(r=n.join("/"),o=(t||"")+":"+r,e?[3,2]:[4,Ha(o,r)]);case 1:if(i=a.sent(),Na(i)<Zo.fromDays(20))return[2,(null==i?void 0:i.value)||{}];a.label=2;case 2:return a.trys.push([2,4,,5]),[4,Ra(r,o)];case 3:return[2,a.sent()];case 4:return a.sent(),[2,{}];case 5:return[2]}}))}))};!function(t){t[t.SECURE_CORE=1]="SECURE_CORE",t[t.TOR=2]="TOR",t[t.P2P=4]="P2P",t[t.STREAMING=8]="STREAMING",t[t.IPV6=16]="IPV6",t[t.RESTRICTED=32]="RESTRICTED",t[t.PARTNER=64]="PARTNER"}(Ca||(Ca={}));var Ba=function(t){return!!(t&&t.Status>0&&0==(3&(t.ServicesDown||0)))},Fa=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},Va=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},za=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Za=x.item("logicals-servers",t.LOCAL),Ya={},Wa=function(t){return Fa(void 0,void 0,void 0,(function(){var e,n,r,o,i,a;return Va(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),e=null==t?void 0:t.lastModified,[4,Pa("vpn/v1/logicals",{headers:{"If-Modified-Since":e||"Thu, 01 Jan 1970 00:00:00 GMT"}},(function(t,e){return{logicals:null==e?void 0:e.LogicalServers,lastModified:t.headers.get("Last-Modified")}}))];case 1:return n=c.sent(),r=n.logicals,o=n.lastModified,r.forEach(Qa),ci(Za.setValue(r,{lastModified:o})),ci(Ga()),[2,r];case 2:if(i=c.sent(),null==t?void 0:t.value)return function(t){return 304===(null==t?void 0:t.status)||Ki(t,304)}(a=null==i?void 0:i.response)&&ci(Za.setValue(t.value,{lastModified:a.headers.get("Last-Modified")})),[2,t.value];throw i;case 3:return[2]}}))}))},Ja=function(){return Fa(void 0,void 0,void 0,(function(){var t,e;return Va(this,(function(n){switch(n.label){case 0:return[4,Za.get()];case 1:return t=n.sent(),e=Na(t),t&&e<ga()?[2,t.value]:t&&e<8*ga()?(ci(Wa(t)),[2,t.value]):[4,Wa(t)];case 2:return[2,n.sent()]}}))}))},Ka=function(){return Fa(void 0,void 0,void 0,(function(){var t;return Va(this,(function(e){switch(e.label){case 0:return[4,Ja()];case 1:return function(t){t.sort((function(t,e){if(t.SearchScore!==e.SearchScore)return ia(e.SearchScore,t.SearchScore);if(t.ExitCountry!==e.ExitCountry)return ia(t.ExitCountry,e.ExitCountry);var n=za(t.Name.split("#",2),2),r=n[0],o=n[1],i=za(e.Name.split("#",2),2),a=i[0],c=i[1];return r===a?/^\d+$/.test(o||"0")&&/^\d+$/.test(c||"0")?ia(parseInt(o||"0",10),parseInt(c||"0",10)):ia(o,c):ia(r,a)}))}(t=e.sent().filter((function(t){return t.Tier<=(n.g.logicalMaxTier||2)&&(p||0==(t.Features&(Ca.TOR|Ca.RESTRICTED)))}))),t.forEach((function(t){Ya[t.ID]=t})),[2,t]}}))}))},Xa=function(t){return Ya[t]},Qa=function(t){t._up=t.Status>0&&(t.Servers||[]).some(Ba)},tc=function(t){return void 0===t._up&&Qa(t),t._up},ec=function(t){return Co(t)},nc=function(){return/^moz-extension:/.test(location.href)?{name:"Firefox",type:"firefox",pluginsUrl:"https://addons.mozilla.org/firefox/addon/proton-vpn-firefox-extension"}:{name:"Chrome",type:"chromium",pluginsUrl:"chrome://extensions/"}},rc=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},oc=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},ic=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},ac=!1,cc=[],sc=x.item("servers-count",t.LOCAL),uc=function(){return rc(void 0,void 0,void 0,(function(){var t,e;return oc(this,(function(n){switch(n.label){case 0:if(ac)return[2,new Promise((function(t,e){cc.push([t,e])}))];ac=!0,n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,Yi("vpn/servers-count")];case 2:return t=n.sent(),ci(sc.setValue(t)),cc.forEach((function(e){(0,ic(e,1)[0])(t)})),[2,t];case 3:throw e=n.sent(),cc.forEach((function(t){(0,ic(t,2)[1])(e)})),e;case 4:return cc=[],ac=!1,[7];case 5:return[2]}}))}))},lc=function(){return rc(void 0,void 0,void 0,(function(){var t,e,n;return oc(this,(function(r){switch(r.label){case 0:return[4,sc.get()];case 1:if(t=r.sent(),e=Na(t),t&&e<ma())return[2,t.value];if(t&&e<2*ma())return ci(uc()),[2,t.value];r.label=2;case 2:return r.trys.push([2,4,,5]),[4,uc()];case 3:return[2,r.sent()];case 4:if(n=r.sent(),null==t?void 0:t.value)return[2,t.value];throw n;case 5:return[2]}}))}))},fc=function(t,e){void 0===e&&(e=!0);var n,r=(n=t,btoa(n).trim()).replace(/\+/g,"-").replace(/\//g,"_");return e?r.replace(/=/g,""):r},dc=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},pc=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},vc={signup:"2"},hc=function(e,n){return dc(void 0,void 0,void 0,(function(){var r,o;return pc(this,(function(i){switch(i.label){case 0:return r=fc(function(t){for(var e=[],n=16384,r=t.length,o=0;o<r;o+=n)e.push(String.fromCharCode.apply(String,t.subarray(o,o+n<r?o+n:r)));return e.join("")}(crypto.getRandomValues(new Uint8Array(32)))),[4,x.setItem("f".concat(r),{},t.LOCAL)];case 1:return i.sent(),o={app:"proton-vpn-browser-extension",appVersion:Gi(),state:r,t:n&&vc[n]||"1",plan:"vpn2022"},[2,"".concat(e,"/authorize?").concat(new URLSearchParams(o).toString())]}}))}))},yc=function(){return yc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},yc.apply(this,arguments)},gc=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},mc=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},bc=n.g||window;bc.browser||(bc.browser=chrome);var wc=x.item("tabs",t.LOCAL),_c=function(t){var e,n;!function(t){ci(gc(void 0,void 0,void 0,(function(){var e,n,r,o;return mc(this,(function(i){switch(i.label){case 0:return n=(e=wc).set,r=[{}],[4,wc.load({})];case 1:return[4,n.apply(e,[yc.apply(void 0,[yc.apply(void 0,r.concat([i.sent()])),(o={},o[t]=!0,o)])])];case 2:return[2,i.sent()]}}))})))}(t),ci(null===(n=(e=browser.tabs).executeScript)||void 0===n?void 0:n.call(e,t,{code:"\n\t\t\tchrome.runtime.connect();\n\t\t\twindow.addEventListener('message', (event) => {\n\t\t\t\tif (event.source != window) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tchrome.runtime.sendMessage({...event.data, tabId: ".concat(JSON.stringify(t),"});\n\t\t\t}, false);\n\t\t")}))},xc=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},Ec=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},Sc={},Cc=function(t,e){return xc(void 0,void 0,void 0,(function(){var n,r;return Ec(this,(function(o){switch(o.label){case 0:if(n="string"==typeof t?{url:t}:t,r=e||n.url){if(Sc[r])throw new Error("Url already open");Sc[r]=!0,setTimeout((function(){delete Sc[r]}),800)}return[4,browser.tabs.create(n)];case 1:return[2,o.sent()]}}))}))},kc=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},Oc=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},Tc=function(t){return kc(void 0,void 0,void 0,(function(){var e;return Oc(this,(function(n){switch(n.label){case 0:return[4,pa("openForkTab")];case 1:if(n.sent())throw new Error("Fork in progress");return va("openForkTab",500),e=Cc,[4,hc(a,t)];case 2:return e.apply(void 0,[n.sent(),"fork"]).then((function(t){t.id&&_c(t.id);var e=function(n){var r,o;t.id===n&&(browser.tabs.onRemoved.removeListener(e),null===(o=null===(r=browser.action)||void 0===r?void 0:r.openPopup)||void 0===o||o.call(r))};browser.tabs.onRemoved.addListener(e)})),[2]}}))}))},Lc=["http://*/*","https://*/*","ftp://*/*","ws://*/*","wss://*/*","https://account.protonvpn.com/*","https://account.proton.me/*"];"https://account.proton.me"!==a&&Lc.push(a+"/*");var Ac,Pc,Nc,Ic,jc,Mc,Dc,Rc,Uc,$c,qc={permissions:["proxy"],origins:Lc},Hc=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},Gc=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},Bc=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},Fc=void 0,Vc=0,zc=function(t){Fc||(Fc=6553);var e,n=function(t,e){var n=Math.floor(t/e)*e;return n===Fc?n-100:n}(Fc,100),r=new Intl.NumberFormat("en-US",e).format(n);t&&"querySelectorAll"in t&&t.querySelectorAll(".incentive-paragraph").forEach((function(t){t.innerHTML=Xr("Info").plural(n,Wr(Ac||(Ac=Hc(["High performance Swiss VPN that protects your privacy. Maximum security, more than "," server and no restrictions."],["High performance Swiss VPN that protects your privacy. Maximum security, more than "," server and no restrictions."])),r),"High performance Swiss VPN that protects your privacy. Maximum security, more than ".concat(r," servers and no restrictions."))}))},Zc=function(){if(Date.now()-Vc>Zo.fromHours(3))return lc().then((function(t){return Fc=t.Servers,Vc=Date.now(),zc(),t}))},Yc=function(t,e,n,r){var o;if(t&&e){(r=!(void 0!==r&&!r||!chrome.proxy))&&chrome.permissions.contains(qc,(function(r){r||Yc(t,e,n,!1)}));var i=function(t){return function(e){if(e){s.classList.add("update-extension"),s.innerHTML=Xr("Action").t(Pc||(Pc=Hc(["Update"],["Update"])));var n=(null==e?void 0:e.Error)||Bo(e);a[0]&&(a[0].classList.remove("incentive-paragraph"),a[0].innerHTML="⚠️ "+n),a[1]&&(a[1].style.display="none"),c&&(c.style.display="none");var r=new Error(t+": "+n);r.previous=e,oi(r)}}};null===(o=Zc())||void 0===o||o.catch(i("prepareSigningView")),t.style.display="block",e.style.display="none",n&&(n.style.display="none");var a=t.querySelectorAll("p"),c=t.querySelector("button.sign-up-button"),s=t.querySelector("button.sign-in-button");if(s.classList.remove("update-extension"),s.innerHTML=r?Xr("Action").t(Nc||(Nc=Hc(["Sign in"],["Sign in"]))):Xr("Action").t(Ic||(Ic=Hc(["Next"],["Next"]))),s.addEventListener("click",(function(){return Gc(void 0,void 0,void 0,(function(){var t;return Bc(this,(function(e){switch(e.label){case 0:return s.classList.contains("update-extension")?(ci(Cc(nc().pluginsUrl)),window.close(),[2]):(t=setTimeout((function(){window.close()}),200),[4,browser.permissions.request(qc)]);case 1:return e.sent()?(r||ci(Co(_o.PROXY)),clearTimeout(t),[4,Tc()]):[2];case 2:return e.sent(),window.close(),[2]}}))}))})),setTimeout((function(){s.scrollIntoView()})),a[0]){if(!r)return a[0].classList.remove("incentive-paragraph"),void(a[0].innerHTML="<b>".concat(Xr("Info").t(jc||(jc=Hc(["Allow VPN permissions"],["Allow VPN permissions"]))),"</b><br><br>")+Xr("Info").t(Mc||(Mc=Hc(["To get started, you’ll need to enable VPN permissions on your browser."],["To get started, you’ll need to enable VPN permissions on your browser."])))+"<br><br>"+Xr("Info").t(Dc||(Dc=Hc(["Press <b>Next</b>, then click <b>Allow</b> on the pop-up from your browser."],["Press <b>Next</b>, then click <b>Allow</b> on the pop-up from your browser."])))+"<br><br>"+Xr("Info").t(Rc||(Rc=Hc(["Then just click the Proton VPN icon to sign in."],["Then just click the Proton VPN icon to sign in."]))));a[0].classList.add("incentive-paragraph"),zc(t)}if(!r||!d)return a[1]&&(a[1].style.display="none"),void(c&&(c.style.display="none"));a[1]&&(a[1].style.display="",a[1].innerHTML=Xr("Action").t(Uc||(Uc=Hc(["New to Proton?"],["New to Proton?"])))),c&&(c.style.display="",c.innerHTML=Xr("Action").t($c||($c=Hc(["Create an account"],["Create an account"]))),c.addEventListener("click",(function(){return Gc(void 0,void 0,void 0,(function(){return Bc(this,(function(t){switch(t.label){case 0:return[4,Tc("signup")];case 1:return t.sent(),null===window||void 0===window||window.close(),[2]}}))}))}))),Pi().then(i("getUpdateError"))}else ci(Tc())},Wc=function(){return Wc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Wc.apply(this,arguments)};var Jc=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},Kc=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},Xc=n.g||window;Xc.browser||(Xc.browser=chrome);var Qc,ts,es,ns,rs,os,is,as,cs,ss,us,ls,fs,ds,ps,vs,hs,ys,gs,ms,bs,ws,_s,xs,Es,Ss,Cs=function(t){return void 0===t&&(t={}),Jc(void 0,void 0,void 0,(function(){var e,n,r;return Kc(this,(function(o){switch(o.label){case 0:return Zc(),[4,mi(t)];case 1:return o.sent(),e=document.getElementById("spinner"),n=document.getElementById("sign-in-view"),r=document.getElementById("logged-view"),n&&r?(Yc(n,r,e),[2,!1]):(function(t,e){void 0===e&&(e={}),e.error instanceof Error&&(e.error={message:e.error.message,stack:e.error.stack}),Ci("changeState",Wc({state:t},e))}("logged-out"),[2,!1])}}))}))},ks=function(t){return void 0===t&&(t={}),Cs(t)},Os=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},Ts=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},Ls=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},As=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Ps=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},Ns=function(t){return Object.values((null==t?void 0:t.groups)||{}).reduce((function(t,e){return t.concat.apply(t,Ps([],As(Ns(e)),!1))}),(null==t?void 0:t.logicals)||[])},Is=function(t,e,n){var r=function(t,e){var n=(t||[]).filter((function(t){return tc(t)&&e>=t.Tier})),r=1/0,o=void 0;return n.forEach((function(t){t.Score<r&&(r=t.Score,o=t)})),o}(t,e);if(!r)throw null==n||n(new Error(Xr("Error").t(Qc||(Qc=Ls(["Unable to find appropriate server, try to logout and login again if it persists"],["Unable to find appropriate server, try to logout and login again if it persists"]))))),new Error("Missconfigured server. Cannot find the best one.");return r},js=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},Ms=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Ds=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},Rs=function(t,e){return void 0===e&&(e=!1),t=t.toUpperCase(),'<img\n\t\tclass="country-flag-img"\n\t\tsrc="/img/flags/'.concat((t={UK:"GB"}[t]||t).toLowerCase(),'.svg"\n\t\talt="').concat(String.fromCodePoint.apply(String,Ds([],Ms(Ds([],Ms(t),!1).map((function(t){return t.charCodeAt(0)+127397}))),!1)),'"\n\t\twidth="20"\n\t\theight="15"\n\t\t').concat(e?'aria-hidden="true"':"","\n\t/>")},Us=function(t){return Object.keys(t).map((function(e){return{key:e,value:t[e]}}))},$s=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},qs=function(t){return Us(t).map((function(t){var e=t.key,n=t.value;return" data-".concat(e,'="').concat(uo("".concat(n)),'"')})).join("")},Hs='data-href="'.concat(s,'" data-forget-account="1" data-upgrade="1"'),Gs=function(t){return void 0===t&&(t=[]),'<button class="upgrade-button '.concat(t.join(" "),'" ').concat(Hs,'>\n\t<img src="img/vpn-plus.svg" alt="Proton VPN" width="33" height="20">\n</button>')},Bs='<svg fill="currentColor" class="small-icon" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">\n\t<path d="M28.6563,7.4609a1,1,0,0,0-1.6094-.2763l-4.8291,4.83-2.2266-.0058-.0058-2.2256,4.831-4.8291A1,1,0,0,0,24.54,3.3447a8.7264,8.7264,0,0,0-3.7373-.8437,8.6866,8.6866,0,0,0-8.3476,11.0947L3.7012,22.3506a4.1039,4.1039,0,0,0,0,5.7978l.15.15A4.0725,4.0725,0,0,0,6.75,29.5a4.1282,4.1282,0,0,0,2.8994-1.2l8.7559-8.7539a8.6881,8.6881,0,0,0,10.251-12.085ZM6.8154,26.1855a1,1,0,1,1,1-1A.9994.9994,0,0,1,6.8154,26.1855Z"/>\n</svg>',Fs=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},Vs=function(t){return void 0===t&&(t=""),'<span class="via-country '.concat(t,'" title="').concat(Xr("Label").t(ns||(ns=Fs(["Via"],["Via"]))),'"><svg aria-label="»" viewBox="0 0 24 24" fill="currentColor">\n\t<path fill-rule="evenodd" clip-rule="evenodd" d="M11.4697 3.21967C11.1768 3.51256 11.1768 3.98744 11.4697 4.28033L19.1893 12L11.4697 19.7197C11.1768 20.0126 11.1768 20.4874 11.4697 20.7803C11.7626 21.0732 12.2374 21.0732 12.5303 20.7803L20.7803 12.5303C21.0732 12.2374 21.0732 11.7626 20.7803 11.4697L12.5303 3.21967C12.2374 2.92678 11.7626 2.92678 11.4697 3.21967ZM3.21967 3.21967C2.92678 3.51256 2.92678 3.98744 3.21967 4.28033L10.9393 12L3.21967 19.7197C2.92678 20.0126 2.92678 20.4874 3.21967 20.7803C3.51256 21.0732 3.98744 21.0732 4.28033 20.7803L12.5303 12.5303C12.8232 12.2374 12.8232 11.7626 12.5303 11.4697L4.28033 3.21967C3.98744 2.92678 3.51256 2.92678 3.21967 3.21967Z" />\n</svg></span>')},zs=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},Zs=new aa((function(t){return t})).asc("Score").desc("Load").asc("Name"),Ys=function(t,e,n,r,o){return void 0===o&&(o=!1),(o?e:function(t){var e=t.slice();return Zs.sort(e),e}(e)).map((function(e){var o,i,a,c=tc(e),s=e.Name,u=r?{exitCountry:e.ExitCountry,entryCountry:e.EntryCountry}:{id:e.ID};return"\n\t\t<div\n\t\t\t".concat(c?'\n\t\t\t\t\tclass="server connection-button-container"\n\t\t\t\t\ttabindex="0"\n\t\t\t\t\trole="button"\n\t\t\t\t\ttitle="'.concat(Xr("Action: Server-level button").t(rs||(rs=zs(["Connect to ",""],["Connect to ",""])),s),'"\n\t\t\t\t\t').concat(t<=0?Hs:qs(u),"\n\t\t\t\t\t"):'class="server in-maintenance"','\n\t\t>\n\t\t\t<div class="load-block" title="').concat(e.Load,'%">\n\t\t\t\t<div class="load-percentage">\n\t\t\t\t\t<svg aria-label="').concat(e.Load,'%" viewBox="0 0 36 36" class="circular-chart">\n\t\t\t\t\t\t<path class="circle-bg"\n\t\t\t\t\t\t\td="M18 2.0845\n\t\t\t\t\t\t\t  a 15.9155 15.9155 0 0 1 0 31.831\n\t\t\t\t\t\t\t  a 15.9155 15.9155 0 0 1 0 -31.831"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<path class="circle"\n\t\t\t\t\t\t\t').concat(function(t){var e=(null==t?void 0:t.Load)||0;return'\n\t\tstroke-dasharray="'.concat(Math.round(e),', 100"\n\t\tstyle="stroke: ').concat(function(t){return t<=75?"#1ea885":t<=90?"#ff9900":"#f7607b"}(e),'"\n\t')}(e),'\n\t\t\t\t\t\t\td="M18 2.0845\n\t\t\t\t\t\t\t  a 15.9155 15.9155 0 0 1 0 31.831\n\t\t\t\t\t\t\t  a 15.9155 15.9155 0 0 1 0 -31.831"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</svg>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="server-infos">\n\t\t\t\t<span\n\t\t\t\t\tclass="server-name"\n\t\t\t\t\tdata-server-id="').concat(uo("".concat(e.ID)),'"\n\t\t\t\t>').concat(r?'<span class="country-flag">'.concat(Rs(e.EntryCountry),"</span> ").concat(Vs("top-small")," ").concat((null===(o=e.Translations)||void 0===o?void 0:o.EntryCountryName)||e.EntryCountryName):s,"</span>").concat(e.City&&((null===(i=e.Translations)||void 0===i?void 0:i.City)||e.City)!==n?' &nbsp; <span\n\t\t\t\t\tclass="city-name"\n\t\t\t\t\tdata-english-city-name="'.concat(uo(e.City),'"\n\t\t\t\t\tdata-country-code="').concat(uo(e.ExitCountry),'"\n\t\t\t\t>').concat(uo((null===(a=e.Translations)||void 0===a?void 0:a.City)||e.City),"</span>"):"",'\n\t\t\t</div>\n\t\t\t<div class="flex-1 connect-text">\n\t\t\t\t').concat(!c||t<=0||e.Tier>t?"":Xr("Action").t(os||(os=zs(["Connect"],["Connect"]))),'\n\t\t\t</div>\n\t\t\t<div class="button-box">\n\t\t\t\t').concat(c?t<=0||e.Tier>t?Gs():'\n\t<button class="connection-button"'.concat(qs(u),'>\n\t\t<span class="text">').concat(Xr("Action").t(es||(es=$s(["Connect"],["Connect"]))),'</span>\n\t\t<svg viewBox="0 0 64 64" class="icon">\n\t\t\t<path d="M56.826,32C56.826,18.311,45.689,7.174,32,7.174S7.174,18.311,7.174,32S18.311,56.826,32,56.826S56.826,45.689,56.826,32z   M34.437,31.962c0,1.301-1.054,2.356-2.356,2.356c-1.301,0-2.356-1.055-2.356-2.356V19.709c0-1.301,1.055-2.356,2.356-2.356  c1.301,0,2.356,1.054,2.356,2.356V31.962z M48.031,32.041c0,8.839-7.191,16.03-16.031,16.03s-16.031-7.191-16.031-16.03  c0-4.285,1.669-8.313,4.701-11.34c0.46-0.46,1.062-0.689,1.665-0.689s1.207,0.23,1.667,0.691c0.92,0.921,0.919,2.412-0.002,3.332  c-2.139,2.138-3.318,4.981-3.318,8.006c0,6.24,5.077,11.317,11.318,11.317s11.318-5.077,11.318-11.317  c0-3.023-1.176-5.865-3.314-8.003c-0.92-0.921-0.919-2.412,0.001-3.333c0.921-0.921,2.412-0.919,3.333,0.001  C46.364,23.734,48.031,27.76,48.031,32.041z"/>\n\t\t</svg>\n\t</button>\n'):Bs,"\n\t\t\t</div>\n\t\t</div>\n\t")})).join("")},Ws=function(t,e){var n;if("logicals"in e&&(null===(n=e.logicals)||void 0===n?void 0:n.length)&&!Ws(t,e.logicals))return!1;if("groups"in e){var r=Object.values(e.groups||{});if(r.length&&!r.every((function(e){return Ws(t,e)})))return!1}return"function"!=typeof e.every||!e.length||e.every((function(e){return t<e.Tier}))},Js=function(t,e){return'\n\t<button title="'.concat(e,'" class="expand-button" tabindex="0" ').concat(qs(t),'><svg class="sm-icon" aria-label="').concat(e,'" viewBox="0 0 24 24" fill="currentColor">\n\t\t<path fill-rule="evenodd" d="M7.745 20.805a.75.75 0 0 1-.05-1.06L14.736 12 7.695 4.255a.75.75 0 1 1 1.11-1.01l7.5 8.25a.75.75 0 0 1 0 1.01l-7.5 8.25a.75.75 0 0 1-1.06.05Z" clip-rule="evenodd"/>\n\t</svg></button>\n')},Ks=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},Xs=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Qs=function(t,e,n,r,o,i){void 0===r&&(r={}),void 0===o&&(o=!1),void 0===i&&(i="");var a=e.length,c=n?Xr("Label").plural(a,Wr(is||(is=Ks(["Entry country"],["Entry country"]))),"Entry countries")+(a>1?" ("+a+")":""):Xr("Label").plural(a,Wr(as||(as=Ks(["Server"],["Server"]))),"Servers")+(a>1?" ("+a+")":"");return'\n\t\t<div\n\t\t\tclass="servers-group'.concat(ru(e)?" with-tooltip":""," ").concat(i||"group-logicals",'"\n\t\t\t').concat(t<=0?Hs:qs(r),'\n\t\t>\n\t\t\t<div class="server-type group-section">').concat(c,'</div>\n\t\t\t<div class="server-items">').concat(Ys(t,e,c,n,o),"</div>\n\t\t</div>\n\t")},tu=function(t){return Math.min(((null==t?void 0:t.logicals)||[]).reduce((function(t,e){return Math.min(t,e.Tier)}),2),Object.values((null==t?void 0:t.groups)||{}).reduce((function(t,e){return Math.min(t,tu(e))}),2))},eu='<svg class="small-icon" viewBox="-3 -1 24 24" role="img" focusable="false">\n\t<path fill-rule="evenodd" clip-rule="evenodd" d="M9 0.5C9.30668 0.5 9.58246 0.686713 9.69636 0.971457C10.37 2.65562 11.5843 3.78597 12.873 4.74687C13.1951 4.98702 13.5179 5.21389 13.8382 5.43757C13.8726 5.46159 13.907 5.48561 13.9415 5.50962C14.2243 5.70701 14.5067 5.90404 14.773 6.09935C15.3625 6.5317 15.938 7.00078 16.3502 7.54957C17.386 8.92848 18 10.6436 18 12.5C18 14.8136 16.8599 17.0574 15.2086 18.7086C13.5574 20.3599 11.3136 21.5 9 21.5C6.68642 21.5 4.44259 20.3599 2.79137 18.7086C1.14015 17.0574 0 14.8136 0 12.5C0 10.6436 0.614036 8.92848 1.64978 7.54957C2.06199 7.00078 2.63748 6.5317 3.22699 6.09935C3.4933 5.90404 3.77567 5.70701 4.05855 5.50962C4.09296 5.48561 4.12738 5.46159 4.16178 5.43757C4.48211 5.21389 4.80495 4.98702 5.12702 4.74687C6.41569 3.78597 7.62998 2.65562 8.30364 0.971457C8.41754 0.686713 8.69332 0.5 9 0.5ZM4.11409 7.30892C3.54397 7.72705 3.12107 8.08839 2.84913 8.45043C2.0018 9.5785 1.5 10.9796 1.5 12.5C1.5 14.3286 2.41378 16.2097 3.85203 17.648C4.49187 18.2878 5.21938 18.8239 5.99091 19.2218C5.72839 18.9304 5.48633 18.607 5.26811 18.2605C4.34149 16.789 3.75 14.772 3.75 12.5C3.75 10.7553 4.42637 9.43311 5.08005 8.15528C5.16396 7.99126 5.2475 7.82796 5.32918 7.66459C5.74669 6.82957 6.11435 6.24273 6.447 5.71179C6.48324 5.65395 6.51906 5.59677 6.55449 5.54001C6.37685 5.6822 6.19937 5.81836 6.02366 5.94938C5.68119 6.20475 5.34153 6.44327 5.02056 6.66741C4.98594 6.69158 4.95158 6.71556 4.91748 6.73935C4.63231 6.93836 4.36518 7.12478 4.11409 7.30892ZM8.25 5.63409C8.05075 5.99063 7.84649 6.31861 7.6387 6.65225C7.32248 7.15999 6.9981 7.68084 6.67082 8.33541C6.58425 8.50854 6.49944 8.67559 6.41705 8.83786C5.75523 10.1414 5.25 11.1365 5.25 12.5C5.25 14.5236 5.77886 16.2566 6.53742 17.4612C7.07102 18.3086 7.67549 18.8375 8.25 19.0845V5.63409ZM9.75 19.95C11.3335 19.7409 12.9059 18.89 14.148 17.648C15.5862 16.2097 16.5 14.3286 16.5 12.5C16.5 10.9796 15.9982 9.5785 15.1509 8.45043C14.8789 8.08839 14.456 7.72705 13.8859 7.30892C13.6348 7.12477 13.3677 6.93835 13.0825 6.73933C13.0484 6.71554 13.014 6.69157 12.9794 6.66741C12.6585 6.44327 12.3188 6.20475 11.9763 5.94938C11.2248 5.38899 10.4409 4.73446 9.75 3.91648V19.95Z" />\n</svg>',nu=function(t){return(t.logicals||[]).some(tc)||Object.values(t.groups||{}).some(nu)},ru=function(t){return t.some((function(t){return 0==(t.Features&(Ca.SECURE_CORE|Ca.TOR|Ca.RESTRICTED|Ca.PARTNER))}))},ou=function(t){return ru(t.logicals||[])||Object.values(t.groups||{}).some(ou)},iu=function(t,e,n,r,o,i,a){return void 0===a&&(a=!1),i.map((function(o){var i;return o&&(Object.values((null==o?void 0:o.groups)||{}).length||(null===(i=null==o?void 0:o.logicals)||void 0===i?void 0:i.length))?{group:o,list:cu(t,e,o,n,r,a)}:{}})).filter((function(t){return t.list})).map((function(n){var r=n.group,i=n.list;if("secureCore"===r.type)return i;var c="expand-".concat(e,"-").concat("".concat(Math.random()).substring(2)),s=nu(r),u=r.name,l=t<=0,f=t<=0||o,d=f||!s;return'\n\t\t\t<div class="servers-group" data-tier="'.concat(tu(r),'" data-country-code="').concat(e,'">\n\t\t\t\t<div class="server-type list-item-box').concat(l?" gray-out":"",'">\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass="flex flex-1 text-left group-button button-light-hover connect-option').concat(d?"":" connect-clickable").concat(s?"":" in-maintenance",'"\n\t\t\t\t\t\ttitle="').concat(Xr("Action: City-level button").t(cs||(cs=Ks(["Connect to ",""],["Connect to ",""])),u),'"\n\t\t\t\t\t\t').concat(s?f?Hs:qs({exitCountry:e,subGroup:r.englishName}):"","\n\t\t\t\t\t>\n\t\t\t\t\t\t").concat(a?'<div class="group-icon squeezed">'.concat(Rs(e,!0),"</div>"):'<div class="group-icon">'.concat(function(t,e){return"tor"===t?eu:"city"===t?'<svg class="small-icon" viewBox="0 0 24 24" role="img" focusable="false">\n\t\t\t<path fill-rule="evenodd" d="M12 3C8.675 3 6 5.67 6 8.94c0 1.66.47 3.29 1.36 4.7l4.392 6.972a16.527 16.527 0 0 0 .248.386l.018-.026c.05-.076.117-.181.23-.36l4.393-6.972A8.815 8.815 0 0 0 18 8.94C18 5.67 15.325 3 12 3ZM6.09 14.44a10.315 10.315 0 0 1-1.59-5.5C4.5 4.83 7.858 1.5 12 1.5c4.142 0 7.5 3.33 7.5 7.44 0 1.945-.55 3.85-1.59 5.5l-4.393 6.972c-.215.341-.323.512-.423.618a1.508 1.508 0 0 1-2.188 0c-.1-.106-.208-.277-.423-.619L6.09 14.44Z" clip-rule="evenodd"/>\n\t\t\t<path fill-rule="evenodd" d="M12 10.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm0 1.5a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" clip-rule="evenodd"/>\n\t\t</svg>':"free"===t?Rs(e,!0):'<svg class="small-icon" viewBox="0 0 24 24" role="img" focusable="false">\n\t\t<path d="M20 3H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2zM4 9V5h16v4zm16 4H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zM4 19v-4h16v4z"/>\n\t\t<path d="M17 6h2v2h-2zm-3 0h2v2h-2zm3 10h2v2h-2zm-3 0h2v2h-2z"/>\n\t</svg>'}(r.type,e),"</div>"),'\n\t\t\t\t\t\t<div class="flex-1 group-name">').concat(u,'</div>\n\t\t\t\t\t\t<div class="flex-1 connect-text">\n\t\t\t\t\t\t\t').concat(d?"":Xr("Action").t(ss||(ss=Ks(["Connect"],["Connect"]))),'\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</button>\n\t\t\t\t\t<div class="button-box">\n\t\t\t\t\t\t').concat(s?t<=0||o?Gs():"":Bs,"\n\t\t\t\t\t\t").concat(Js({exitCountry:e,subGroup:r.englishName,subGroupName:r.name,upgradeNeeded:o?1:0,expand:c},Xr("Action").t(us||(us=Ks(["Select a server in ",""],["Select a server in ",""])),u)),'\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="servers-list" id="').concat(c,'">').concat(i,"</div>\n\t\t\t</div>\n\t\t")}))},au=function(t,e,n,r,o,i,a){return void 0===i&&(i=!1),void 0===a&&(a=!1),function(t){var e=t.groups||{},n=e.Free,r=e.Tor,o=e.SecureCore,i=e.Other,a=Us(e).filter((function(t){return!{Free:!0,Tor:!0,SecureCore:!0,Other:!0}[t.key]})).map((function(t){return t.value}));return[[Xr("Label").t(ls||(ls=Ks(["Free servers"],["Free servers"]))),[n]],[Xr("Label").t(fs||(fs=Ks(["Cities"],["Cities"]))),a],[Xr("Info").t(ds||(ds=Ks(["Secure Core"],["Secure Core"]))),[o]],[Xr("Label").t(ps||(ps=Ks(["Other"],["Other"]))),[r,i]]]}(n).map((function(c){var s=Xs(c,2),u=s[0],l=s[1],f=l.filter(Boolean),d=iu(t,e,r,o,f.every((function(e){return Ws(t,e)})),l,a),p=d.length;return p<1?"":(i&&!o?'<div\n\t\t\t\tclass="servers-group group-section'.concat(f.some(ou)?" with-tooltip":"",'"\n\t\t\t\tdata-tier="').concat(tu(n),'"\n\t\t\t\tdata-country-code="').concat(e,'"\n\t\t\t>').concat(u).concat(p>1?" ("+p+")":"","</div>"):"")+d.join("")}))},cu=function(t,e,n,r,o,i){void 0===i&&(i=!1);var a=r(n.logicals||[]),c=t>0&&o;return a.length?Qs(t,a,c,{tier:a.reduce((function(t,e){return Math.min(t,e.Tier)}),2),"country-code":e}):au(t,e,n,r,c,!0,i).join("")},su=function(t){return(t.logicals||[]).some((function(t){return t.SearchScore}))||Object.values(t.groups||{}).some(su)},uu=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},lu=function(){return lu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},lu.apply(this,arguments)},fu=function(t,e){return function(n){return 0!=(n.Features&Ca.SECURE_CORE)===(t>0&&e.value)}},du=new aa((function(t,e){return e[t]})).asc("needUpgrade").desc("searchScore").desc("score").asc("name"),pu=function(t,e){var n=function(t){return((null==t?void 0:t.logicals)||[]).some(e)||Object.values((null==t?void 0:t.groups)||{}).some((function(t){return n(t)}))};return lo(t).filter((function(e){return n(t[e])}))},vu=function(t,e,n,r,o,i,a){void 0===o&&(o=!1),void 0===i&&(i={}),void 0===a&&(a=!1);var c=pu(t,n),s=c.length;return 0===s?"":(du.sort(c,t),(r?'<div class="servers-group group-section">'.concat(r(s),"</div>"):"")+c.map((function(r){return function(t,e,n,r,o,i,a){void 0===i&&(i={}),void 0===a&&(a=!1);var c=Ws(t,n),s="expand-".concat(e,"-").concat("".concat(Math.random()).substring(2)),u=nu(n),l=n.name,f=t<=0,d=u&&t>0;return'\n\t<div class="country-block">\n\t\t<div class="details-box '.concat(su(n)?" details-box-open":"",'">\n\t\t\t<div class="details-box-summary connection-button-container">\n\t\t\t\t<div class="country-header list-item-box').concat(f?" gray-out":"",'">\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass="flex flex-1 text-left connect-option').concat(d?" connect-clickable":"",'"\n\t\t\t\t\t\ttitle="').concat(Xr("Action: Country-level button").t(vs||(vs=uu(["Connect to ",""],["Connect to ",""])),l),'"\n\t\t\t\t\t\t').concat(u?d?qs(lu(lu({},i),{exitCountry:e})):Hs:"",'\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class="country-flag">\n\t\t\t\t\t\t\t').concat(o?Vs():"","\n\t\t\t\t\t\t\t").concat(Rs(e),'\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="country-name" data-country-code="').concat(e,'">\n\t\t\t\t\t\t\t').concat(l,'\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="flex-1 connect-text">\n\t\t\t\t\t\t\t').concat(d?Xr("Action").t(hs||(hs=uu(["Connect"],["Connect"]))):"",'\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</button>\n\t\t\t\t\t<div class="button-box">\n\t\t\t\t\t\t').concat(u?t<=0||c?Gs():"":Bs,"\n\t\t\t\t\t\t").concat(Js({exitCountry:e,upgradeNeeded:c?1:0,expand:s},o?Xr("Action").t(ys||(ys=uu(["Select entry country with exit in ",""],["Select entry country with exit in ",""])),l):Xr("Action").t(gs||(gs=uu(["Select a city in ",""],["Select a city in ",""])),l)),'\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="details-box-body servers-list" id="').concat(s,'">\n\t\t\t\t').concat(cu(t,e,n,r,o,a),"\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t")}(e,r,t[r],(function(t){return t.filter(n).sort((function(t,n){return ia(e<t.Tier,e<n.Tier)||ia(n.SearchScore,t.SearchScore)||ia(t.Name,n.Name)}))}),e>0&&o,i,a)})).join(""))},hu=function(t,e,n,r){return void 0===n&&(n={value:!1}),vu(t,e,fu(e,n),r,e>0&&n.value)},yu=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},gu=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},mu=void 0,bu=x.item("streaming-services",t.LOCAL),wu=function(){return yu(void 0,void 0,void 0,(function(){var t;return gu(this,(function(e){switch(e.label){case 0:return[4,Yi("vpn/streamingservices")];case 1:return t=e.sent(),mu={time:Date.now(),value:t},ci(bu.set(mu)),[2,t]}}))}))},_u=function(){return yu(void 0,void 0,void 0,(function(){var t,e,n;return gu(this,(function(r){switch(r.label){case 0:return[4,bu.get()];case 1:if((t=r.sent())&&(!mu||t.time>mu.time)&&(mu=t),e=Na(mu),mu&&e<ba())return[2,mu.value];if(mu&&e<3*ba())return ci(wu()),[2,mu.value];r.label=2;case 2:return r.trys.push([2,4,,5]),[4,wu()];case 3:return[2,r.sent()];case 4:if(n=r.sent(),null==mu?void 0:mu.value)return[2,mu.value];throw n;case 5:return[2]}}))}))},xu=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},Eu=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Su=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},Cu=function(t){_u().then((function(e){if(e){var n=e.ResourceBaseURL,r=e.StreamingServices,o=r["*"]||{};(t||document).querySelectorAll(".servers-group.with-tooltip").forEach((function(t){var e,i,a=t.getAttribute("data-country-code"),c=t.getAttribute("data-tier"),s=r[a]||"GB"===a&&r.UK||{},u=Su(Su([],Eu(s[c]||[]),!1),Eu(o[c]||[]),!1);if(0!==u.length){var l={};u.forEach((function(t){l[t.Name]=t})),t.querySelectorAll(".group-tooltip").forEach((function(e){t.removeChild(e)}));var f=document.createElement("div");f.innerHTML='\n\t\t\t\t<svg class="open-button" height="16" viewBox="0 0 16 16" width="16">\n\t\t\t\t\t<path fill-rule="evenodd" clip-rule="evenodd" d="M8 14C11.3137 14 14 11.3137 14 8C14 4.68629 11.3137 2 8 2C4.68629 2 2 4.68629 2 8C2 11.3137 4.68629 14 8 14ZM8 15C11.866 15 15 11.866 15 8C15 4.13401 11.866 1 8 1C4.13401 1 1 4.13401 1 8C1 11.866 4.13401 15 8 15ZM9.74995 11C9.74995 11.3038 9.50371 11.55 9.19995 11.55H8.19995H7.19995C6.89619 11.55 6.64995 11.3038 6.64995 11C6.64995 10.6962 6.89619 10.45 7.19995 10.45H7.64995L7.64995 7.55H7.49994C7.19618 7.55 6.94994 7.30376 6.94994 7C6.94994 6.69624 7.19618 6.45 7.49994 6.45H8.19995C8.34582 6.45 8.48571 6.50795 8.58886 6.61109C8.69201 6.71424 8.74995 6.85413 8.74995 7L8.74995 10.45H9.19995C9.50371 10.45 9.74995 10.6962 9.74995 11ZM8 5.40002C8.3866 5.40002 8.7 5.08662 8.7 4.70002C8.7 4.31343 8.3866 4.00002 8 4.00002C7.6134 4.00002 7.3 4.31343 7.3 4.70002C7.3 5.08662 7.6134 5.40002 8 5.40002Z" />\n\t\t\t\t</svg>\n\t\t\t\t<div class="expanded-tooltip">\n\t\t\t\t\t<div class="close-button">\n\t\t\t\t\t\t<svg width="24" height="24" viewBox="0 0 24 24">\n\t\t\t\t\t\t\t<path fill-rule="evenodd" d="M6.22 6.22a.75.75 0 0 1 1.06 0L12 10.94l4.72-4.72a.75.75 0 1 1 1.06 1.06L13.06 12l4.72 4.72a.75.75 0 1 1-1.06 1.06L12 13.06l-4.72 4.72a.75.75 0 0 1-1.06-1.06L10.94 12 6.22 7.28a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd"/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n                    <div class="tooltip-title streaming-info">'.concat(Xr("Title").t(ms||(ms=xu(["Features"],["Features"]))),'</div>\n                    <div class="tooltip-row streaming-info">\n                    \t<div class="tooltip-row-icon">\n\t\t\t\t\t\t\t<svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24" class="streaming-icon">\n\t\t\t\t\t\t\t\t<path fill-rule="evenodd" clip-rule="evenodd" d="M7.5 6.00421C7.5 4.75768 8.93047 4.05335 9.91848 4.81335L17.7136 10.8095C18.4955 11.411 18.4955 12.5898 17.7136 13.1913L9.91848 19.1875C8.93047 19.9475 7.5 19.2431 7.5 17.9966L7.5 6.00421ZM9.00002 6.00275C9.00001 6.0032 9 6.00369 9 6.00421L9 17.9966C9 17.9971 9.00001 17.9976 9.00002 17.9981C9.00042 17.9983 9.00086 17.9985 9.00136 17.9988C9.00185 17.999 9.00232 17.9992 9.00274 17.9994C9.00311 17.9991 9.0035 17.9988 9.00392 17.9985L16.7991 12.0023C16.7994 12.0021 16.7997 12.0018 16.7999 12.0016C16.8 12.0013 16.8 12.0009 16.8 12.0004C16.8 11.9999 16.8 11.9995 16.7999 11.9992C16.7997 11.999 16.7994 11.9987 16.7991 11.9985L9.00392 6.00229C9.0035 6.00197 9.00311 6.00168 9.00274 6.00141C9.00232 6.00159 9.00185 6.00179 9.00136 6.00204C9.00086 6.00228 9.00042 6.00252 9.00002 6.00275Z" />\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="tooltip-text">\n\t\t\t\t\t\t\t<h4>').concat(Xr("Title").t(bs||(bs=xu(["Streaming"],["Streaming"])))," - ").concat(so(a),"</h4>\n\t\t\t\t\t\t\t<p>").concat(Xr("Info").t(ws||(ws=xu(["Connect to a Plus server in this country to start streaming.\n\nHint: Clear the cache of the streaming apps to ensure new content appears."],["Connect to a Plus server in this country to start streaming.\\n\\nHint: Clear the cache of the streaming apps to ensure new content appears."]))).replace(/\n/g,"<br />"),'</p>\n\t\t\t\t\t\t\t<div class="streaming-logos">').concat(Object.values(l).map((function(t){return'<img\n\t\t\t\t\t\t\t\t\t\tclass="streaming-logo"\n\t\t\t\t\t\t\t\t\t\tsrc="'.concat(uo(n+t.Icon),'"\n\t\t\t\t\t\t\t\t\t\talt="').concat(uo(t.Name),'"\n \t\t\t\t\t\t\t\t\t/>')})).join(" &nbsp; "),"</div>\n\t\t\t\t\t\t\t<p>").concat(Xr("Info").t(_s||(_s=xu(["and more"],["and more"]))),"</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"),f.setAttribute("class","group-tooltip"),t.insertBefore(f,t.firstChild),null===(e=f.querySelector(".open-button"))||void 0===e||e.addEventListener("click",(function(){f.classList.add("open")})),null===(i=f.querySelector(".close-button"))||void 0===i||i.addEventListener("click",(function(){f.classList.remove("open")}))}}))}}))},ku=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},Ou=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},Tu=x.item("notifications",t.LOCAL),Lu=function(t){return void 0===t&&(t=!1),ku(void 0,void 0,void 0,(function(){var e;return Ou(this,(function(n){switch(n.label){case 0:return t?[3,2]:[4,Tu.load()];case 1:if(e=n.sent(),Na(e)<(ya()?Zo.fromDays(1):Zo.fromHours(6)))return[2,(null==e?void 0:e.value)||[]];n.label=2;case 2:return n.trys.push([2,4,,5]),[4,ku(void 0,void 0,void 0,(function(){var t,e;return Ou(this,(function(n){switch(n.label){case 0:return[4,Yi("core/v4/notifications")];case 1:return t=n.sent(),(e=t.Notifications)?(ci(Tu.setValue(e)),[2,e]):[2,[]]}}))}))];case 3:return[2,n.sent()];case 4:return n.sent(),[2,[]];case 5:return[2]}}))}))},Au=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},Pu=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},Nu=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},Iu=0,ju=function(){return Pu(void 0,void 0,void 0,(function(){var t,e,n,r;return Nu(this,(function(o){switch(o.label){case 0:return t=Date.now(),[4,Lu()];case 1:return e=o.sent().filter((function(e){return(!e.StartTime||t>=Zo.fromSeconds(e.StartTime))&&(!e.EndTime||t<Zo.fromSeconds(e.EndTime))})),n=document.querySelector(".notifications"),0===e.length?(n.innerHTML="",[2]):(r=e.filter((function(t){return 0===t.Type})),[4,Promise.all(r.map((function(t){return new Promise((function(e){if(t.Offer.Icon){var n=new Image;n.src=t.Offer.Icon,n.width?e(null):(n.onload=e,n.onerror=e)}else e(null)}))})))]);case 2:return o.sent(),n.innerHTML=r.map((function(t){return'\n\t\t\t<a href="'.concat(t.Offer.URL,'" title="').concat(t.Offer.Label,'">\n\t\t\t\t').concat(t.Offer.Icon?'<img src="'.concat(t.Offer.Icon,'" alt="').concat(t.Offer.Label,'" width="24" height="24" />'):t.Offer.Label||Xr("Label").t(xs||(xs=Au(["Offer"],["Offer"]))),"\n\t\t\t</a>\n\t\t")})).join(""),ji(Zo.fromMinutes(30),Zo.fromMinutes(5),(function(){return Pu(void 0,void 0,void 0,(function(){var t;return Nu(this,(function(e){switch(e.label){case 0:return(t=Date.now())-Iu<Zo.fromMinutes(15)?[2]:(Iu=t,[4,ju()]);case 1:return e.sent(),[2]}}))}))})),[2]}}))}))},Mu={protected:{radialGradientOpacity:1,linearGradient:{x1:16.8924,y1:16.0677,x2:5.45846,y2:-3.49766,stops:[{offset:.0660125,color:"#8EFFEE"},{offset:.4499,color:"#C9C7FF"},{offset:1,color:"#7341FF"}]}},unprotected:{radialGradientOpacity:0,linearGradient:{x1:13.7487,y1:19.9831,x2:.435554,y2:-5.33997,stops:[{offset:.0660125,color:"white"},{offset:.44988,color:"#A7A4B5"},{offset:1,color:"#6D697D"}]}}},Du=function(t){var e=Mu[t],n=document.getElementById("top-bar-inner-radial-gradient-path");n&&(n.style.opacity="".concat(e.radialGradientOpacity));var r=document.getElementById("top-bar-outer-gradient");r&&["x1","y1","x2","y2"].forEach((function(t){var n;r.setAttribute(t,"".concat(null===(n=e.linearGradient)||void 0===n?void 0:n[t])),r.querySelectorAll("stop").forEach((function(t,n){var r,o,i,a,c,s;t.setAttribute("offset","".concat(null===(i=null===(o=null===(r=e.linearGradient)||void 0===r?void 0:r.stops)||void 0===o?void 0:o[n])||void 0===i?void 0:i.offset)),t.setAttribute("stop-color","".concat(null===(s=null===(c=null===(a=e.linearGradient)||void 0===a?void 0:a.stops)||void 0===c?void 0:c[n])||void 0===s?void 0:s.color))}))}))},Ru=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},Uu=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},$u=x.item("last-choice",t.LOCAL),qu=function(t){ci($u.setValue(t))},Hu=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},Gu=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},Bu=function(t,e,n){var r=document.querySelectorAll((null==n?void 0:n.buttonSelector)||".".concat(t.key,"-button"));r.forEach((function(o){var i;if(null==n?void 0:n.upgradeNeeded){var a=document.createElement("div");return a.innerHTML=Gs(),void(null===(i=o.parentNode)||void 0===i||i.replaceChild(a,o))}var c=e.value?"add":"remove";o.classList[c]("activated"),o.setAttribute("aria-pressed",e.value?"true":"false"),o.addEventListener("click",(function(){return Hu(void 0,void 0,void 0,(function(){var o,i;return Gu(this,(function(a){switch(a.label){case 0:return e.value=!e.value,o=e.value?"add":"remove",r.forEach((function(t){t.classList[o]("activated"),t.setAttribute("aria-pressed",e.value?"true":"false")})),null===(i=null==n?void 0:n.refresh)||void 0===i||i.call(n),[4,t.set(e)];case 1:return a.sent(),[2]}}))}))}))}))},Fu=function(){return Fu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Fu.apply(this,arguments)},Vu=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},zu=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},Zu=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};!function(t){t.VPN_CONNECTION="vpn_connection",t.VPN_DISCONNECTION="vpn_disconnection"}(Es||(Es={})),function(t){t.CONNECTION="vpn.any.connection"}(Ss||(Ss={}));var Yu,Wu,Ju,Ku,Xu,Qu,tl,el,nl,rl,ol,il,al,cl,sl,ul=x.item("telemetry"),ll=function(){return new Promise((function(t){t(h)}))},fl=function(){return ul.getDefined({value:!1})},dl=function(t,e){return[t?null:"free",e&Ca.TOR?"tor":null,e&Ca.P2P?"p2p":null,e&Ca.PARTNER?"partnership":null,e&Ca.STREAMING?"streaming":null].filter(Boolean).sort().join(",")},pl=function(t,e,n,r){void 0===n&&(n={}),Promise.all([ul.load(),ka(),la(),Ru(void 0,void 0,void 0,(function(){var t;return Uu(this,(function(e){switch(e.label){case 0:return[4,$u.get()];case 1:return[2,(null===(t=e.sent())||void 0===t?void 0:t.value)||{connected:!1}]}}))}))]).then((function(o){var i=Zu(o,4),a=i[0].value,c=i[1].location,s=i[2].user,u=i[3];return Vu(void 0,void 0,void 0,(function(){var o,i,l,f,d,p,v;return zu(this,(function(h){switch(h.label){case 0:return o=null===(p=null==s?void 0:s.VPN)||void 0===p?void 0:p.MaxTier,i={},l=Fu(Fu(Fu({vpn_trigger:(y=u,y?y.logicalId?"server":y.city?"city":y.exitCountry?"country":"quick":"n/a")},r?{vpn_country:r.ExitCountry||null,server:r.Name||null,server_features:dl(r.Tier,r.Features)}:{}),{user_country:(null==c?void 0:c.Country)||null,isp:(null==c?void 0:c.ISP)||null,user_tier:o}),n),Object.keys(l).forEach((function(t){var e=l[t];i[t]=null==e?"n/a":"".concat(e)})),f={MeasurementGroup:t,Event:e,Values:{},Dimensions:i},d=[],a&&d.push(Fi("data/v1/stats",Hi("POST",f))),(null===(v=null==s?void 0:s.VPN)||void 0===v?void 0:v.BusinessEvents)&&d.push(Pa("vpn/v1/business/events",Hi("POST",f))),[4,Promise.all(d)];case 1:return h.sent(),[2]}var y}))}))}))},vl=function(t){t=t.toLowerCase().replace(/\s/g,"");try{t=function(t){try{return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}catch(e){return t.replace(/[àáâãäå]/g,"a").replace(/æ/g,"ae").replace(/ç/g,"c").replace(/[èéêë]/g,"e").replace(/[ìíîï]/g,"i").replace(/ñ/g,"n").replace(/[òóôõö]/g,"o").replace(/œ/g,"oe").replace(/[ùúûü]/g,"u").replace(/[ýÿ]/g,"y")}}(t)}catch(t){}return t},hl=function(t,e){return e.reduce((function(e,n){return n=vl(n),e+t.reduce((function(e,r){return e+(n===r?3:n.startsWith(r)?r.length>4?2:1!==t.length&&1===r.length?.4:1:0)}),0)}),0)},yl=function(t){return t?t.split(/[,;()\s--]+/).map(vl).filter(Boolean):[]},gl=function(){return gl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},gl.apply(this,arguments)},ml=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},bl=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},wl=function(t,e){return hl(t,bl([],ml(new Set(e.filter((function(t){return"string"==typeof t&&""!==t})))),!1))},_l=function(t,e,n,r,o,i){void 0===r&&(r=!0),void 0===o&&(o=!0),void 0===i&&(i=!1);var a={};qr(t.groups||{},(function(t,c){var s,u=_l(c,e,n,r,o,i);(u.searchScore||(null===(s=u.logicals)||void 0===s?void 0:s.length)||u.groups)&&(a[t]=u)}));var c=gl({},t);delete c.groups,delete c.logicals;var s=i?Ca.TOR:0;return gl(gl(gl(gl({},c),{searchScore:wl(n,bl(bl([],ml(yl(t.englishName)),!1),ml(yl(t.name)),!1))}),o&&t.logicals?{logicals:t.logicals.filter((function(t){return(t.Features&Ca.TOR)===s})).map((function(t){return gl(gl({},t),{SearchScore:wl(n,bl(bl(bl(bl(bl([],ml(yl(t.Name)),!1),[t.EntryCountry,t.ExitCountry],!1),ml(yl(t.City)),!1),ml(yl(t.Region)),!1),ml(Object.entries(t.Translations||{}).reduce((function(t,e){var n=ml(e,2),o=n[0],i=n[1];return r||"EntryCountryName"!==o?t.concat(yl(i)):t}),[])),!1))})})).filter((function(t){return e||t.SearchScore>=n.length}))}:{}),Object.keys(a).length?{groups:a}:{})},xl=function(){return xl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},xl.apply(this,arguments)},El=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Sl=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},Cl=function(t,e,n,r,o){void 0===n&&(n=!0),void 0===r&&(r=!0),void 0===o&&(o=!1);var i={};return qr(t,(function(t,a){var c,s=n?hl(e,Sl([],El(new Set(Sl(Sl([t],El(yl(a.name)),!1),El(yl(a.englishName)),!1))),!1)):0,u=r?_l(a,s,e,n,r,o):a;s<e.length&&(!r||!(null===(c=null==u?void 0:u.logicals)||void 0===c?void 0:c.length)&&!(null==u?void 0:u.groups))||(i[t]=xl(xl({},u),{score:s}))})),i},kl=function(){return kl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},kl.apply(this,arguments)},Ol=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Tl=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},Ll=function(t,e,n,r){void 0===n&&(n={value:!1});var o=fu(e,n),i=pu(t,o);if(0===i.length)return"";var a={};i.forEach((function(e){var n=t[e];n.groups?qr(n.groups,(function(t,n){var r;a[e+"|"+t]={name:n.name,englishName:n.englishName,needUpgrade:n.needUpgrade,type:n.type,score:n.score,searchScore:n.searchScore,groups:(r={},r[t]=n,r)}})):a[e]=n}));var c=[];qr(function(t){var e=lo(t);du.sort(e,t);var n={};return e.forEach((function(e){n[e]=t[e]})),n}(a),(function(t,r){var i,a,s,u=t.split("|")[0],l=e>0&&n.value&&(null===(i=r.groups)||void 0===i?void 0:i.SecureCore),f=l?kl(kl({},r),{groups:kl(kl({},r.groups),{SecureCore:kl(kl({},l),{name:((null===(s=null===(a=null==l?void 0:l.logicals)||void 0===a?void 0:a[0])||void 0===s?void 0:s.EntryCountry)?"".concat(Vs("top-small")," ").concat(Rs(l.logicals[0].ExitCountry)):"")+r.name,englishName:r.englishName})})}):r;c.push.apply(c,Tl([],Ol(au(e,u,f,(function(t){return t.filter(o).sort((function(t,n){return ia(e<t.Tier,e<n.Tier)||ia(n.SearchScore,t.SearchScore)||ia(t.Name,n.Name)}))}),e>0&&n.value,!1,!0).filter(Boolean)),!1))}));var s=c.length;return 0===s?"":(r?'<div class="servers-group group-section">'.concat(r(s),"</div>"):"")+c.join("")},Al=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},Pl=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Nl=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},Il=function(t){var e=[];return qr(t,(function(t,n){n.logicals&&e.push.apply(e,Nl([],Pl(n.logicals),!1)),n.groups&&e.push.apply(e,Nl([],Pl(Il(n.groups)),!1))})),e},jl=function(t,e,n,r){void 0===r&&(r={value:!1});var o=n>0&&r.value,i=yl(e),a=-1!==i.indexOf("tor"),c=Ll(Cl(t,i,!1,!0),n,r,o?void 0:function(t){return Xr("Label").plural(t,Wr(Wu||(Wu=Al(["City"],["City"]))),"Cities")+(t>1?" ("+t+")":"")}),s=o?c&&'<div class="secure-core-search">'.concat(c,"</div>"):c;return(o||-1===e.indexOf("#")?"":function(t,e,n,r){if(void 0===r&&(r=!1),t<=0)return"";var o=r?Ca.SECURE_CORE:0,i=Il(e).filter((function(t){return(t.Features&Ca.SECURE_CORE)===o&&-1!==t.Name.toLowerCase().indexOf(n.toLowerCase())}));if(!i.length)return"";if(n){var a=yl(n);return i.sort((function(t,e){return ia(hl(a,[e.Name]),hl(a,[t.Name]))})),Qs(t,i,r,{},!0,"logicals-search")}return Qs(t,i,r,{},!1,"logicals-search")}(n,t,e,o))+hu(Cl(t,i,!0,!1),n,r,(function(t){return Xr("Label").plural(t,Wr(Ju||(Ju=Al(["Country"],["Country"]))),"Countries")+(t>1?" ("+t+")":"")}))+(o?"":s+(a?function(t,e,n){void 0===n&&(n=!1);var r=Ca.TOR|(e>0&&n?Ca.SECURE_CORE:0);return vu(t,e,(function(t){return(t.Features&r)===r}),(function(t){return'<span class="label-icon-container">'.concat(eu,"</span>")+Xr("Label").plural(t,Wr(Yu||(Yu=Al(["Country"],["Country"]))),"Countries")+(t>1?" ("+t+")":"")}),n,{subGroup:"tor"},!0)}(t,n,o):""))||'<p class="not-found">\n\t\t'.concat(Xr("Error").t(Ku||(Ku=Al(["No results found"],["No results found"]))),"<br />\n\t\t<small>").concat(Xr("Error").t(Xu||(Xu=Al(["Please try a different keyword"],["Please try a different keyword"]))),"</small>\n\t</p>")},Ml=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},Dl=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},Rl=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},Ul=function(t,e){return Xr("Error").t(Qu||(Qu=Ml(["Unlock "," in ",""],["Unlock "," in ",""])),t,e)},$l=x.item("pmUser",w),ql=function(){ci(ca.remove()),ci(hi()),ci(Za.remove()),ci($l.remove()),ci(Co(xo.FORGET_ERROR)),setTimeout((function(){null===window||void 0===window||window.close()}),1)},Hl=x.item("prevent-webrtc-leak");!function(t){t.CLEAR="clear",t.DEFAULT="default",t.DISABLED="disable_non_proxied_udp"}(sl||(sl={}));var Gl,Bl,Fl,Vl,zl=function(t){return new Promise((function(e){chrome.privacy?t!==sl.CLEAR?chrome.privacy.network.webRTCIPHandlingPolicy.set({value:t},(function(){chrome.privacy.network.webRTCIPHandlingPolicy.get({},(function(n){var r,o;e(("controlled_by_this_extension"===(o=null==(r=n)?void 0:r.levelOfControl)||"controllable_by_this_extension"===o?null==r?void 0:r.value:void 0)===t)}))})):chrome.privacy.network.webRTCIPHandlingPolicy.clear({},e):e(!1)}))},Zl=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},Yl=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},Wl=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},Jl=function(t,e,n,r,o){if(void 0===o&&(o=!1),o){document.querySelectorAll('[data-go-to="split-tunneling"]').forEach((function(t){var e,n=document.createElement("div");n.innerHTML=Gs(),null===(e=t.parentNode)||void 0===e||e.replaceChild(n,t)}))}else{n.querySelectorAll(".split-tunneling-exclusions, .split-tunneling-exclusion-add").forEach((function(t){t.style.display=e.value.length?"block":"none"})),n.querySelectorAll(".split-tunneling-exclusion-form").forEach((function(t){t.style.display=e.value.length?"none":"block"}));var i=e.value.map((function(t,e){var n=uo(t.domain),r=Xr("Action").t(Gl||(Gl=Wl(["Remove ",""],["Remove ",""])),n);return'<div class="flex my1">\n\t\t\t<div class="flex-1 ov-hidden"><div class="ellipsis">'.concat(n,"</div>").concat(t.withSubDomains?'<div class="fade-text small-text">'.concat(Xr("Label").t(Bl||(Bl=Wl(["And all its subdomains"],["And all its subdomains"]))),"</div>"):"",'</div>\n\t\t\t<button data-st-delete="').concat(e,'" title="').concat(r,'" class="small-button delete-button">\n\t\t\t\t<svg fill="currentColor" viewBox="0 0 24 24">\n\t\t\t\t\t<path fill-rule="evenodd" d="M6.22 6.22a.75.75 0 0 1 1.06 0L12 10.94l4.72-4.72a.75.75 0 1 1 1.06 1.06L13.06 12l4.72 4.72a.75.75 0 1 1-1.06 1.06L12 13.06l-4.72 4.72a.75.75 0 0 1-1.06-1.06L10.94 12 6.22 7.28a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd"/>\n\t\t\t\t</svg>\n\t\t\t</button>\n\t\t</div>')})).join("");n.querySelectorAll(".split-tunneling-exclusions .exclusions-list").forEach((function(o){o.innerHTML=i,o.querySelectorAll("[data-st-delete]").forEach((function(o){var i=o.cloneNode(!0);o.parentNode.replaceChild(i,o),i.addEventListener("click",(function(){e.value.splice(Number(i.getAttribute("data-st-delete")),1),null==r||r(),Jl(t,e,n,r),ci(t.setValue(e.value))}))}))}));var a=n.querySelector(".split-tunneling-exclusion"),c=function(){browser.tabs.query({active:!0,currentWindow:!0}).then((function(t){var n,r=(null===(n=t[0])||void 0===n?void 0:n.url)&&new URL(t[0].url).hostname;if(r){var o=r.replace(/^.*\.([^.]+\.[a-z]+)$/,"$1");e.value.every((function(t){return t.domain!==o}))?a.value=o:a.value===o&&(a.value=""),s()}}))};e.value.length||c();var s=function(){n.querySelectorAll('[data-st-action="add"]').forEach((function(t){t.disabled=!a.checkValidity()}))},u=function(){""!==a.value&&(e.value.push({domain:a.value,withSubDomains:l.checked}),null==r||r()),a.value="",l.checked=!0,Jl(t,e,n,r),ci(t.setValue(e.value))};a.oninput=s,a.onchange=s,a.onkeyup=function(t){"Enter"!==t.key&&13!==t.keyCode||u()};var l=n.querySelector(".with-subdomains");n.querySelectorAll("[data-st-action]").forEach((function(t){var r=t.getAttribute("data-st-action"),o=t.cloneNode(!0);t.parentNode.replaceChild(o,t),o.addEventListener("click",(function(){switch(r){case"add-website":n.querySelectorAll(".split-tunneling-exclusion-add").forEach((function(t){t.style.display="none"})),n.querySelectorAll(".split-tunneling-exclusion-form").forEach((function(t){t.style.display="block"})),c();break;case"add":u();break;case"cancel":a.value="",l.checked=!0,e.value.length||(n.querySelectorAll(".split-tunneling-exclusion-add").forEach((function(t){t.style.display="block"})),n.querySelectorAll(".split-tunneling-exclusion-form").forEach((function(t){t.style.display="none"})))}}))}))}},Kl=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Xl=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},Ql=function(t,e){if(t<1)return[];var n=[];return e.forEach((function(t){n.push.apply(n,Xl([t.domain],Kl(t.withSubDomains?["."+t.domain]:[]),!1))})),n},tf=x.item("split-tunneling"),ef=x.item("notifications-enabled"),nf=(Fl=function(t,e){return Fl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},Fl(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Fl(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),rf=function(t){function e(e,n,r){void 0===n&&(n=86300),void 0===r&&(r={Type:"DeviceLimit"});var o=t.call(this,e)||this;return Object.defineProperty(o,"Code",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(o,"Details",{enumerable:!0,configurable:!0,writable:!0,value:r}),o.Details.Body||(o.Details.Body=e),o}return nf(e,t),e}(Error),of=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},af=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},cf=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},sf=function(t){return"string"==typeof t&&""!==t},uf=function(t,e,n){void 0===e&&(e={}),void 0===n&&(n={});var r=t.split("#",2),o=r[1]||"",i=r[0].split("?",2),a=i[1]||"";return Object.keys(e).forEach((function(t){var n=e[t];("number"==typeof n||sf(n))&&(a+=(""===a?"":"&")+encodeURIComponent(t)+"="+encodeURIComponent(n))})),Object.keys(n).forEach((function(t){var n=e[t];("number"==typeof n||sf(n))&&(o+=(""===a?"":"&")+encodeURIComponent(t)+"="+encodeURIComponent(n))})),i[0]+(""===a?"":"?"+a)+(""===o?"":"#"+o)},lf=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},ff=function(){return ff=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},ff.apply(this,arguments)},df=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},pf=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},vf=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},hf=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},yf={connected:!1,restarted:!1};!function(t){if(ko())throw new Error(t+" is popup only")}("popup");var gf,mf,bf,wf,_f,xf,Ef,Sf,Cf,kf,Of,Tf,Lf,Af,Pf,Nf,If,jf,Mf,Df,Rf,Uf,$f,qf=function(){return df(void 0,void 0,void 0,(function(){var t,e,r,o,i,a,u,l,f,d,p,v,h,y,g,m,b,w,_,E,S,C,k,O,T,L,A,P,N,I,j,M,D,R,U,$,q,H,G,B,F,V,z,Z,Y,W,J,K,X,Q,tt,et,nt,rt,ot,it,at,ct,st,ut,lt,ft,dt,pt,vt,ht,yt,gt,mt,bt,wt,_t,xt,Et,St,Ct;return pf(this,(function(kt){switch(kt.label){case 0:return[4,Hr(void 0,void 0,void 0,(function(){var t,e;return Gr(this,(function(n){switch(n.label){case 0:if("en_US"===(t=ao()))return eo(t,{}),[2];n.label=1;case 1:return n.trys.push([1,3,,8]),[4,no(t)];case 2:return n.sent(),[3,8];case 3:if(n.sent(),(e=io(t.split("_")[0]||""))===t)return eo(t,{}),[2];n.label=4;case 4:return n.trys.push([4,6,,7]),[4,no(e)];case 5:return n.sent(),[3,7];case 6:return n.sent(),eo("en_US",{}),[3,7];case 7:return[3,8];case 8:return[2]}}))}))];case 1:return kt.sent(),t=document.getElementById("spinner"),e=document.getElementById("logged-view"),chrome.proxy?[4,new Promise((function(n){chrome.permissions.contains(qc,(function(r){r||Yc(document.getElementById("sign-in-view"),e,t,!1),n(r)}))}))]:(Yc(document.getElementById("sign-in-view"),e,t,!1),[2]);case 2:return r=kt.sent(),qr({".secure-core-action-block":!1,".secure-core-container":!0,".split-tunneling-action-block":!1,".auto-connect-action-block":!1},(function(t,e){e&&(Lt||document).querySelectorAll(t).forEach((function(t){t.style.display="none"}))})),o="dark",i=function(t){var e=["dark","light","auto"];e.forEach((function(e){document.querySelectorAll('[name="theme"][value="'+e+'"]').forEach((function(n){n.checked=e===t}))})),document.body.classList.contains(t+"-theme")||e.forEach((function(e){document.body.classList[e===t?"add":"remove"](e+"-theme")}))},(a=x.item("theme")).get().then((function(t){o=(null==t?void 0:t.value)||o,i(o)})),[4,pi()];case 3:if((u=kt.sent()).uid&&u.refreshToken)return[3,7];kt.label=4;case 4:return kt.trys.push([4,6,,7]),[4,ks(u)];case 5:return kt.sent()?[3,7]:[2];case 6:return l=kt.sent(),$o(l),[3,7];case 7:f=document.getElementById("modal-error"),null===(Et=f.querySelector(".close-button"))||void 0===Et||Et.addEventListener("click",(function(){var n=f.getAttribute("data-error-id"),o=Number(f.getAttribute("data-error-restart-on-close"));n&&ci(x.setItem("closed-"+n,{value:1})),f.style.display="none",o&&Yc(document.getElementById("sign-in-view"),e,t,r)})),d=document.querySelector(".error-slot"),p=void 0,v=function(t,e){p={name:t,content:e};var n=document.querySelector('[data-page="region"] .page-title .name'),r=document.querySelector('[data-page="region"] .region-content');n&&(n.innerHTML=t),r&&e&&(r.innerHTML=e,S(r),Cu(r),ot(r))},h=function(t,e){p&&dt.push(p),v(t,e),pt("region")},y=function(t,e){t.addEventListener("click",e),t.addEventListener("keydown",(function(n){t!==document.activeElement||"Enter"!==n.key&&" "!==n.key||e(n)}))},g=function(t){if(!t.getAttribute("aria-label")&&!t.getAttribute("title")){var e=t.innerText.trim();t.setAttribute("title",Xr("Action").t(gf||(gf=lf([""," (New tab)"],[""," (New tab)"])),e))}},m=function(t,e,n){return void 0===n&&(n=!1),e.filter((function(e){return 0==(e.Features&((n?0:Ca.TOR)|Ca.RESTRICTED|Ca.PARTNER))&&(e.Features&Ca.SECURE_CORE)===(t>0&&(null==j?void 0:j.value)?Ca.SECURE_CORE:0)}))},b=function(t){var e=t.getAttribute("data-id");if(e)return{getLogical:function(){return Xa(e)},choice:{logicalId:e}};var n=t.getAttribute("data-exitCountry")||"";if(n){var r=Ns(G[n]),o=t.getAttribute("data-subGroup")||"";if(o)switch(o.toLowerCase()){case"other":return{getLogical:function(){return Is(m(B,r.filter((function(t){return 0==(t.Features&Ca.TOR)&&!t.City&&t.Tier>0}))),B,C)},choice:{exitCountry:n,filter:"other"}};case"tor":return{getLogical:function(){return Is(m(B,r.filter((function(t){return t.Features&Ca.TOR})),!0),B,C)},choice:{exitCountry:n,requiredFeatures:Ca.TOR}};case"free":return{getLogical:function(){return Is(m(B,r.filter((function(t){return t.Tier<1}))),B,C)},choice:{exitCountry:n,tier:0}};default:return{getLogical:function(){return Is(m(B,r.filter((function(t){return t.City===o}))),B,C)},choice:{exitCountry:n,city:o}}}var i=t.getAttribute("data-entryCountry")||"";return i?{getLogical:function(){return Is(m(B,r.filter((function(t){return t.EntryCountry===i}))),B,C)},choice:{exitCountry:n,entryCountry:i}}:{getLogical:function(){return Is(m(B,r),B,C)},choice:{exitCountry:n}}}return{getLogical:function(){return null},choice:{}}},w=null,_=function(){return df(void 0,void 0,void 0,(function(){var t;return pf(this,(function(e){switch(e.label){case 0:return w?[2,w.user]:[4,Di(ec(Eo.PM_USER),Zo.fromSeconds(30),"User loading timed out",rf)];case 1:return t=e.sent(),w={user:t},[2,t]}}))}))},E=function(t){return df(void 0,void 0,void 0,(function(){var e;return pf(this,(function(n){switch(n.label){case 0:return[4,_()];case 1:return e=n.sent(),[2,uf(t,{email:null==e?void 0:e.Email,plan:(null==k?void 0:k.Subscribed)?"":"vpn2024"})]}}))}))},S=function(t){(t||document).querySelectorAll(".expand-button").forEach((function(e){for(var n,r,o=e.parentNode,i=t||document.body;o!==i&&!(null===(n=null==o?void 0:o.classList)||void 0===n?void 0:n.contains("country-header"))&&!(null===(r=null==o?void 0:o.classList)||void 0===r?void 0:r.contains("server-type"));)o=o.parentNode;o!==i&&(e.addEventListener("mouseover",(function(){o.classList.add("hover")})),e.addEventListener("mouseout",(function(){o.classList.remove("hover")}))),y(e,(function(t){return df(void 0,void 0,void 0,(function(){var n,r,o,i,a;return pf(this,(function(c){return t.stopPropagation(),null===(i=t.stopImmediatePropagation)||void 0===i||i.call(t),t.preventDefault(),n=e.getAttribute("data-expand"),r=b(e).choice,o="".concat(r.exitCountry),h('\n\t\t\t\t\t\t<div class="country-flag">\n\t\t\t\t\t\t\t'.concat((null==j?void 0:j.value)?Vs():"","\n\t\t\t\t\t\t\t").concat(Rs(o),'\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="country-name" data-country-code="').concat(o,'">\n\t\t\t\t\t\t\t').concat(e.getAttribute("data-subGroupName")||so(o),"\n\t\t\t\t\t\t</div>\n\t\t\t\t\t"),n&&(null===(a=document.getElementById(n))||void 0===a?void 0:a.innerHTML)||""),[2]}))}))}))}));var e=function(t,e){!function(t,e,n){ci(Cc(e,n)),Mi(1).then((function(){t.close()}))}(window,t),e&&ql()},n=function(t,n){return df(void 0,void 0,void 0,(function(){var o,i,a,c,s,u,l,f,d,p,v;return pf(this,(function(h){switch(h.label){case 0:return y=n.dataset,o=oo("hashSeed",y),i=!(!n.classList.contains("upgrade-button")&&!Number(n.getAttribute("data-forget-account"))),[4,r(o)];case 1:return a=h.sent(),c=t+(a?"#"+a:""),Number(n.getAttribute("data-direct-upgrade"))?(s=e,[4,E(c)]):[3,3];case 2:return s.apply(void 0,[h.sent(),i]),[2];case 3:return Number(n.getAttribute("data-upgrade"))?(pt("upgrade"),(u=document.querySelector('[data-page="upgrade"]'))?(u.querySelectorAll(".open-upgrade-page").forEach((function(t){t.setAttribute("data-href",c),t.setAttribute("data-direct-upgrade","1")})),S(u),[4,E(c)]):[3,6]):[3,7];case 4:return l=h.sent(),u.querySelectorAll(".open-upgrade-page").forEach((function(t){t.setAttribute("data-href",l),t.removeAttribute("data-direct-upgrade")})),S(u),[4,lc()];case 5:f=h.sent(),d=f.Servers,p=f.Countries,v=100*Math.floor(d/100),u.querySelectorAll(".access-sentence").forEach((function(t){t.innerText=function(t,e){return Xr("Error").t(tl||(tl=Ml(["Access over "," in ",""],["Access over "," in ",""])),t,e)}(Xr("Error").plural(v,Wr(mf||(mf=lf([""," secure server"],[""," secure server"])),v),"".concat(v," secure servers")),Xr("Error").plural(p,Wr(bf||(bf=lf([""," country"],[""," country"])),p),"".concat(p," countries")))})),h.label=6;case 6:return[2];case 7:return e(c,i),[2]}var y}))}))};(t||document.getElementById("servers")||document).querySelectorAll(".open-upgrade-page, button:not(.close-button), .connect-clickable, .server:not(.in-maintenance)").forEach((function(t){y(t,(function(e){return df(void 0,void 0,void 0,(function(){var r,o,i,a,c,s;return pf(this,(function(u){switch(u.label){case 0:if(e.stopPropagation(),null===(s=e.stopImmediatePropagation)||void 0===s||s.call(e),e.preventDefault(),r=t.getAttribute("data-href"))return ci(n(r,t)),[2];if(o=b(t),i=o.getLogical,a=o.choice,!(c=null==i?void 0:i()))throw new Error("Missconfigured server. Cannot find the selected logical.");return pl(Ss.CONNECTION,Es.VPN_CONNECTION,{},c),J(ff({connected:!0},a)),pt("world"),[4,lt(c)];case 1:return u.sent(),[2]}}))}))}))}));var r=function(t){return df(void 0,void 0,void 0,(function(){var e;return pf(this,(function(n){switch(n.label){case 0:return t.length?(e=function(t,e){return df(void 0,void 0,void 0,(function(){var n,r;return pf(this,(function(o){switch(o.label){case 0:return[4,_()];case 1:return[2,(n=null===(r=o.sent())||void 0===r?void 0:r[e])?t+"="+encodeURIComponent(n):""]}}))}))},[4,Promise.all(t.map((function(t){return df(void 0,void 0,void 0,(function(){return pf(this,(function(n){switch(n.label){case 0:switch(t){case"platform":return[3,1];case"clientVersion":return[3,2];case"username":return[3,3];case"email":return[3,5]}return[3,7];case 1:return[2,t+"="+encodeURIComponent("VPN for ".concat(nc().name))];case 2:return[2,t+"="+encodeURIComponent(Gi()+"+"+nc().type)];case 3:return[4,e(t,"Name")];case 4:case 6:return[2,n.sent()];case 5:return[4,e(t,"Email")];case 7:return $o("Unknown key "+t),[2,""]}}))}))})))]):[2,""];case 1:return[2,n.sent().filter(Boolean).join("&")]}}))}))};qr({"a[href]":"href","[data-href]":"data-href"},(function(e,r){(t||document).querySelectorAll(e).forEach((function(t){g(t),t.addEventListener("click",(function(e){var o,i=t.getAttribute(r);if(i){var a=(o=t.dataset,oo("localeSupport",o)),c="".concat(ro()||"en").split(/[_-]/)[0]||"en",s=-1!==a.indexOf(c)?i.replace(/^(https:\/\/protonvpn\.com\/)/,"$1"+c+"/"):i;e.preventDefault(),e.stopPropagation(),n(s,t)}}))}))}))},C=function(n){oi(n);var o=null==n?void 0:n._id;df(void 0,void 0,void 0,(function(){var t,e,r,i,a,c;return pf(this,(function(s){switch(s.label){case 0:return e=(t=Object).assign,r=[{blockingError:"",error:"",restartOnClose:!1}],(i=n)?(a=o)?[4,x.getItem("closed-"+o)]:[3,2]:[3,3];case 1:a=null===(c=s.sent())||void 0===c?void 0:c.value,s.label=2;case 2:i=!a,s.label=3;case 3:return[2,e.apply(t,r.concat([i?Fo(n):{}]))]}}))})).then((function(n){var i=n.blockingError,a=n.error,c=n.restartOnClose;f.setAttribute("data-error-restart-on-close",c?"1":"0"),f.style.display=i?"flex":"none",o&&f.setAttribute("data-error-id",o),f.querySelector(".modal-error-slot").innerHTML=i,d.innerHTML=a,d.querySelectorAll(".close-button").forEach((function(n){n.addEventListener("click",(function(){var i;o&&ci(x.setItem("closed-"+o,{value:1}));var a=n.parentNode;null===(i=a.parentNode)||void 0===i||i.removeChild(a),c&&Yc(document.getElementById("sign-in-view"),e,t,r)}))})),S(d),S(f)}))},kt.label=8;case 8:return kt.trys.push([8,10,,13]),[4,af(void 0,void 0,void 0,(function(){var t;return cf(this,(function(e){switch(e.label){case 0:return[4,Di(ec(Eo.USER),Zo.fromSeconds(30),"User info loading timed out",rf)];case 1:if(!(t=e.sent()))throw new rf(Xr("Error").t(Vl||(Vl=of(["Unable to login"],["Unable to login"]))));return[2,t]}}))}))];case 9:return k=kt.sent(),[3,13];case 10:return(O=kt.sent())instanceof bi||O.logout||!yf.restarted&&Xi(O)?(yf.restarted=!0,[4,mi({})]):[3,12];case 11:return kt.sent(),ci(qf()),[2];case 12:return t&&(t.style.display="none"),e&&(e.style.display="block"),C(O),k=void 0,[3,13];case 13:return k?(T=x.item("secure-core"),L=x.item("auto-connect"),A=[],[4,Promise.all([Ka(),Ga(u.uid),T.getDefined({value:!1}),ef.getDefined({value:!0}),L.getDefined({value:!0}),Hl.getDefined({value:!0}),ll(),fl(),Qo(),tf.getDefined({value:[]})])]):[2];case 14:return P=vf.apply(void 0,[kt.sent(),10]),N=P[0],I=P[1],j=P[2],M=P[3],D=P[4],R=P[5],U=P[6],$=P[7],q=P[8],H=P[9],A=N,U||document.querySelectorAll(".telemetry-block").forEach((function(t){t.style.display="none"})),qa(A,I),window.addEventListener("languagechange",(function(){return df(void 0,void 0,void 0,(function(){var t,e;return pf(this,(function(n){switch(n.label){case 0:return e=Ga,[4,pi()];case 1:return[4,e.apply(void 0,[n.sent().uid])];case 2:return t=n.sent(),qa(A,t),qr(G,(function(t,e){e.name=so(t)})),document.querySelectorAll(".city-name").forEach((function(e){var n=e.getAttribute("data-english-city-name"),r=e.getAttribute("data-country-code");n&&r&&(e.innerHTML=uo((t[r]||{})[n]||n))})),document.querySelectorAll(".country-name").forEach((function(t){var e="".concat(t.getAttribute("data-country-code"));t.innerHTML=uo(so(e))})),[2]}}))}))})),G={},B=ha(k),F=(null===(St=null==k?void 0:k.VPN)||void 0===St?void 0:St.BrowserExtension)||!1,V=!F,[4,df(void 0,void 0,void 0,(function(){var t;return pf(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,Di(ec(Eo.STATE),Zo.fromSeconds(5),"Unable to load state")];case 1:return[2,e.sent()];case 2:return t=e.sent(),$o(t,(new Error).stack),[2,{error:t}];case 3:return[2]}}))}))];case 15:return z=kt.sent(),yf.connected=!!(null==z?void 0:z.server),(V?(Ot=(null===(Ct=null==k?void 0:k.VPN)||void 0===Ct?void 0:Ct.BrowserExtensionPlan)||"VPN Plus",void 0===Tt&&(Tt=86151),Dl(void 0,void 0,void 0,(function(){var t,e,n;return Rl(this,(function(r){switch(r.label){case 0:return[4,lc()];case 1:return t=r.sent(),e=t.Servers,n=t.Countries,[2,{httpStatus:403,Code:Tt,Error:Xr("Error").t(el||(el=Ml(["Connect from your browser with ",""],["Connect from your browser with ",""])),Ot),Details:{Type:"DeviceLimit",Title:Xr("Error").t(nl||(nl=Ml(["Connect from your browser with ",""],["Connect from your browser with ",""])),Ot),Body:[{Component:"Feature",Icon:"world",Text:Ul(Xr("Error").plural(e,Wr(rl||(rl=Ml(["","+ secure server"],["","+ secure server"])),e),"".concat(e,"+ secure servers")),Xr("Error").plural(n,Wr(ol||(ol=Ml([""," country"],[""," country"])),n),"".concat(n," countries")))},{Component:"Feature",Icon:"play",Text:Xr("Error").t(il||(il=Ml(["Unlock global streaming services"],["Unlock global streaming services"])))},{Component:"Feature",Icon:"incognito",Text:Xr("Error").t(al||(al=Ml(["Bypass online censorship with advanced security and privacy features"],["Bypass online censorship with advanced security and privacy features"])))}],Actions:[{Code:"Upgrade",Name:Xr("Action").t(cl||(cl=Ml(["Upgrade"],["Upgrade"]))),Category:"main_action",URL:"/vpn/dashboard"}]}}]}}))}))):new Promise((function(t){t(z.error)}))).then((function(t){C(t)})),Z={},A.forEach((function(t){var e;if(!(B>=2&&0===t.Tier)){var n=t.ExitCountry;t.Tier<=0&&(Z[n]=!0),t.EntryCountryName=co(t.EntryCountry,"en"),t.Translations||(t.Translations={}),t.Translations.EntryCountryName=co(t.EntryCountry);var r,o=t.Features&Ca.SECURE_CORE,i=o?"secureCore":t.City?"city":t.Features&Ca.TOR?"tor":t.Tier<1?"free":"other",a=!o&&t.City||("string"==typeof(r=i)&&r.length>=1?r.substring(0,1).toUpperCase()+r.substring(1):r),c=o?Xr("Info").t(wf||(wf=lf(["Secure Core"],["Secure Core"]))):(null===(e=t.Translations)||void 0===e?void 0:e.City)||t.City||{tor:"TOR",free:Xr("Label").t(_f||(_f=lf(["Free"],["Free"])))}[i]||Xr("Label").t(xf||(xf=lf(["Other"],["Other"]))),s=G[n]||(G[n]={englishName:so(n,"en"),name:so(n),needUpgrade:!0,groups:{}});s.groups||(s.groups={}),s.needUpgrade=s.needUpgrade&&B<t.Tier;var u=s.groups[a]||(s.groups[a]={type:i,englishName:a,name:c,needUpgrade:!0,logicals:[]});u.needUpgrade=u.needUpgrade&&B<t.Tier,u.logicals||(u.logicals=[]),u.logicals.push(t)}})),Y=document.querySelector("#servers"),r?(t&&(t.style.display="none"),e&&(e.style.display="block"),Y.classList[V?"add":"remove"]("not-allowed-by-plan"),(W=function(){Y.innerHTML=hu(G,B,j),Cu()})(),J=function(t){var e,n={excludedFeatures:0,requiredFeatures:0},r=((e={})[Ca.SECURE_CORE]=null==j?void 0:j.value,e);qr(r,(function(t,e){var r=e?"requiredFeatures":"excludedFeatures";n[r]=n[r]|Number(t)})),qr(n,(function(t,e){e||delete n[t]})),qu(ff(ff({},n),t))},K=document.querySelector("#status .connection-status"),X=document.querySelector("button.sign-out-button"),Q=document.querySelector("button.switch-account-button"),tt=document.getElementById("menu"),et=document.querySelector(".quick-connect-button"),(nt=document.querySelector("#status button.disconnection-button")).innerHTML=Xr("Action").t(Ef||(Ef=lf(["Disconnect"],["Disconnect"]))),rt=function(t){return void 0===t&&(t=bo.DISCONNECT),df(void 0,void 0,void 0,(function(){var e,n;return pf(this,(function(r){switch(r.label){case 0:return e=null==z?void 0:z.server,n=(null==e?void 0:e.id)?Xa(e.id):void 0,yf.connected=!1,st(),J({connected:!1}),pl(Ss.CONNECTION,Es.VPN_DISCONNECTION,ff({},e?ff({vpn_country:e.exitCountry,server:e.name},n?{server_features:dl(n.Tier,n.Features)}:{}):{})),[4,Co(t)];case 1:return r.sent(),[2]}}))}))},nt.addEventListener("click",(function(){return df(void 0,void 0,void 0,(function(){return pf(this,(function(t){switch(t.label){case 0:return[4,rt()];case 1:return t.sent(),[2]}}))}))})),ot=function(t,e){var n,r,o;void 0===e&&(e=yf.connected);var i=null===(n=null==z?void 0:z.server)||void 0===n?void 0:n.exitCountry,a=null===(r=null==z?void 0:z.server)||void 0===r?void 0:r.exitEnglishCity,c=null===(o=null==z?void 0:z.server)||void 0===o?void 0:o.id;(t||document).querySelectorAll(".country-name").forEach((function(t){var n=t.getAttribute("data-country-code");t.classList[e&&n&&n===i?"add":"remove"]("connected-list-item")})),(t||document).querySelectorAll(".group-button").forEach((function(t){var n=t.getAttribute("data-subGroup"),r=t.getAttribute("data-exitCountry"),o=e&&n&&r&&n===a&&r===i;t.querySelectorAll(".group-name").forEach((function(t){t.classList[o?"add":"remove"]("connected-list-item")}))})),(t||document).querySelectorAll(".server-name").forEach((function(t){t.classList[e&&c&&t.getAttribute("data-server-id")===c?"add":"remove"]("connected-list-item")}))},it=B<=0,at=0,ct=void 0,st=function(t,e){void 0===e&&(e=!1),t||(t=null==z?void 0:z.server);var n=(null==t?void 0:t.exitCountry)||"",r=(null==t?void 0:t.entryCountry)||"",o=!(!r||r===n),i=((null==t?void 0:t.exitCity)||"")+" "+((null==t?void 0:t.name)||"").replace(new RegExp("^"+n+"#"),"#"),a=(null==t?void 0:t.exitIp)||"",c=yf.connected||e;if(nt.style.display=c?"block":"none",et.style.display=c?"none":"block",document.querySelectorAll(".quick-connect-button-incentive").forEach((function(t){t.style.display=c?"none":"block"})),Du(c?"protected":"unprotected"),ot(Y,yf.connected&&!e),e)return at=Date.now(),ct=setInterval((function(){Co(bo.CONNECTING,{connectionAttemptTime:at})}),500),nt.classList.remove("danger-hover"),nt.innerHTML=Xr("Action").t(Sf||(Sf=lf(["Cancel"],["Cancel"]))),K.classList.remove("success","danger"),void(K.innerHTML='\n\t\t\t\t<div class="status-title">\n\t\t\t\t\t<div class="lds-ring"><div></div><div></div><div></div><div></div></div>\n\t\t\t\t\t<div id="connecting-label" class="protection-status">'.concat(Xr("Info").t(Cf||(Cf=lf(["Connecting..."],["Connecting..."]))),'</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="current-server-description">\n\t\t\t\t\t<div class="current-server-flag">').concat(Rs(n),'</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div class="current-server-country">').concat(so(n),'</div>\n\t\t\t\t\t\t<div class="current-server-name">').concat(i,'</div>\n\t\t\t\t\t\t<div class="exit-ip">').concat(a,"</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"));at=0,ct&&clearInterval(ct),nt.innerHTML=Xr("Action").t(kf||(kf=lf(["Disconnect"],["Disconnect"]))),nt.classList.add("danger-hover"),K.classList.remove(yf.connected?"danger":"success"),K.classList.add(yf.connected?"success":"danger");var s,u=["US","NL","JP"],l=hf(hf([],vf(u.filter((function(t){return Z[t]}))),!1),vf(Object.keys(Z).filter((function(t){return-1===u.indexOf(t)}))),!1),f=function(t){return t.map((function(e,n){return'\n\t\t\t\t<span class="country-in-group'.concat(e!==t[0]?" folded":"",'" style="z-index: ').concat(3-n,'">').concat(Rs(e),"</span>")})).join("")};K.innerHTML=yf.connected?'\n\t\t\t\t<div class="status-title">\n\t\t\t\t\t<svg role="img" focusable="false" aria-hidden="true" class="protection-icon medium-icon" viewBox="0 0 24 24">\n\t\t\t\t\t\t<path fill-rule="evenodd" d="M7.8 7.5h-.3a4.5 4.5 0 0 1 9 0H7.8ZM6 7.529V7.5a6 6 0 1 1 12 0v.029c.588.036 1.006.116 1.362.298a3 3 0 0 1 1.311 1.311C21 9.78 21 10.62 21 12.3v5.4c0 1.68 0 2.52-.327 3.162a3 3 0 0 1-1.311 1.311c-.642.327-1.482.327-3.162.327H7.8c-1.68 0-2.52 0-3.162-.327a3 3 0 0 1-1.311-1.311C3 20.22 3 19.38 3 17.7v-5.4c0-1.68 0-2.52.327-3.162a3 3 0 0 1 1.311-1.311c.356-.182.774-.262 1.362-.298Zm6.706 7.295a1.5 1.5 0 1 0-1.412 0l-.654 2.617a.45.45 0 0 0 .436.559h1.848a.45.45 0 0 0 .436-.56l-.654-2.616Z" clip-rule="evenodd"/>\n\t\t\t\t\t</svg>\n\t\t\t\t\t<div id="protected-label" class="protection-status">'.concat(Xr("Label").t(Of||(Of=lf(["Protected"],["Protected"]))),'</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="current-server-description">\n\t\t\t\t\t<div class="current-server-flag ').concat(o?" wide":"",'">').concat((o?"".concat(Rs(r)," &nbsp;").concat(Vs(),"&nbsp;"):"")+Rs(n),'</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div class="current-server-country">').concat(so(n),'</div>\n\t\t\t\t\t\t<div class="current-server-name">').concat(i,'</div>\n\t\t\t\t\t\t<div class="exit-ip">').concat(a,"</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"):'\n\t\t\t\t<div class="status-title">\n\t\t\t\t\t<svg role="img" focusable="false" aria-hidden="true" class="protection-icon medium-icon" viewBox="0 0 24 24">\n\t\t\t\t\t\t<path fill-rule="evenodd" d="M6 1.5a6 6 0 0 1 6 6h7.2c1.68 0 2.52 0 3.162.327a3 3 0 0 1 1.311 1.311C24 9.78 24 10.62 24 12.3v5.4c0 1.68 0 2.52-.327 3.162a3 3 0 0 1-1.311 1.311c-.642.327-1.482.327-3.162.327h-8.4c-1.68 0-2.52 0-3.162-.327a3 3 0 0 1-1.311-1.311C6 20.22 6 19.38 6 17.7v-5.4c0-1.68 0-2.52.327-3.162a3 3 0 0 1 1.311-1.311c.602-.307 1.38-.326 2.862-.327a4.5 4.5 0 0 0-9 0 .75.75 0 0 1-1.5 0 6 6 0 0 1 6-6Zm8.294 13.324a1.5 1.5 0 1 1 1.412 0l.654 2.617a.45.45 0 0 1-.436.559h-1.848a.45.45 0 0 1-.436-.56l.654-2.616Z" clip-rule="evenodd"/>\n\t\t\t\t\t</svg>\n\t\t\t\t\t<div id="unprotected-label" class="protection-status">'.concat(Xr("Label").t(Tf||(Tf=lf(["Unprotected"],["Unprotected"]))),"</div>\n\t\t\t\t\t").concat("","\n\t\t\t\t\t").concat(it&&F?'\n\t\t\t\t\t\t<div class="current-server-description">\n\t\t\t\t\t\t\t<div class="lightning">\n\t\t\t\t\t\t\t\t<svg class="lightning-symbol" viewBox="0 0 10 14">\n\t\t\t\t\t\t\t\t\t<path d="M2.67277 12.9704C2.61521 13.1815 2.71131 13.4043 2.90433 13.5073C3.09735 13.6103 3.33595 13.5661 3.47924 13.4008L9.57299 6.36952C9.69318 6.23083 9.72139 6.03476 9.64516 5.86782C9.56892 5.70087 9.40228 5.59377 9.21876 5.59377H6.08247L7.32724 1.02961C7.38481 0.818537 7.2887 0.595714 7.09568 0.492717C6.90266 0.389719 6.66407 0.433943 6.52078 0.599274L0.427027 7.63052C0.306832 7.76921 0.278627 7.96529 0.354858 8.13223C0.431089 8.29917 0.597732 8.40627 0.781257 8.40627H3.91755L2.67277 12.9704Z" />\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="fastest-server">\n\t\t\t\t\t\t\t\t<div class="current-server-country incentive">'.concat(Xr("Info").t(Lf||(Lf=lf(["Fastest free server"],["Fastest free server"]))),'</div>\n\t\t\t\t\t\t\t\t<div class="current-server-name">\n\t\t\t\t\t\t\t\t\t<span class="auto-select-label">').concat(Xr("Info").t(Af||(Af=lf(["Auto-selected from"],["Auto-selected from"]))),"</span>\n\t\t\t\t\t\t\t\t\t").concat(l.length<=3?f(l):f(l.slice(0,3))+" +"+(l.length-3),"\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t"):"","\n\t\t\t\t</div>\n\t\t\t"),ci((void 0===(s=!0)&&(s=!1),Os(void 0,void 0,void 0,(function(){var t,e,n,r,o;return Ts(this,(function(i){switch(i.label){case 0:return 0===(t=document.querySelectorAll(".public-ip")).length?[2]:s?[4,Oa()]:[3,2];case 1:return n=i.sent(),[3,4];case 2:return[4,ka()];case 3:n=null===(o=i.sent())||void 0===o?void 0:o.location,i.label=4;case 4:return(r=null==(e=n)?void 0:e.IP)?(t.forEach((function(t){t.innerText!==r&&(t.innerHTML=uo(r))})),[2]):[2]}}))}))))},ci(ju()),ec(Eo.PM_USER).then((function(t){w={user:t};var e=uo(t.DisplayName||t.Name||"");document.querySelectorAll(".pm-user-name").forEach((function(t){t.innerHTML=e}))})),ut=uo(k.VPN.PlanTitle||Xr("Label").t(Pf||(Pf=lf(["Free"],["Free"])))),document.querySelectorAll(".pm-plan").forEach((function(t){t.innerHTML=ut})),document.querySelectorAll("[data-open-account-page]").forEach((function(t){g(t),t.addEventListener("click",(function(){return df(void 0,void 0,void 0,(function(){var e;return pf(this,(function(n){switch(n.label){case 0:return e=Cc,[4,E(c+t.getAttribute("data-open-account-page"))];case 1:return[4,e.apply(void 0,[n.sent()])];case 2:return n.sent(),ql(),[2]}}))}))}))})),document.querySelectorAll(".theme-choice input").forEach((function(t){t.addEventListener("change",(function(){return df(void 0,void 0,void 0,(function(){var e;return pf(this,(function(n){switch(n.label){case 0:return t.checked?(e=t.value,i(e),[4,a.set({value:e})]):[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))}))})),lt=function(t){return df(void 0,void 0,void 0,(function(){var e,n,r,o;return pf(this,(function(i){switch(i.label){case 0:if(e=function(t){var e=((null==t?void 0:t.Servers)||[]).filter(Ba);return e[Math.floor(Math.random()*e.length)]}(t),!e)throw new Error("Missconfigured server. Cannot find an entry for this server.");i.label=1;case 1:return i.trys.push([1,3,,4]),n=!yf.connected,yf.connected=!0,st({id:t.ID,name:t.Name,exitIp:e.ExitIP,entryCountry:t.EntryCountry,exitCountry:t.ExitCountry,exitCity:(null===(o=t.Translations)||void 0===o?void 0:o.City)||t.City,exitEnglishCity:t.City,secureCore:0!=(t.Features&Ca.SECURE_CORE)},n),[4,Co(bo.CONNECT,{server:e,logical:t,user:k,bypassList:Ql(ha(k),H.value)})];case 2:return i.sent(),[3,4];case 3:return r=i.sent(),C(r),[3,4];case 4:return[2]}}))}))},ft=function(t){return df(void 0,void 0,void 0,(function(){var e,n;return pf(this,(function(r){switch(r.label){case 0:return yf.connected&&(e=document.querySelector(".main-area"))?((n=document.createElement("div")).classList.add("confirm-modal"),n.innerHTML="<div>\n\t\t\t\t\t".concat(Xr("Confirm").t(Nf||(Nf=lf(["Logging out of the application will disconnect the active VPN connection. Do you want to continue?"],["Logging out of the application will disconnect the active VPN connection. Do you want to continue?"]))),'\n\t\t\t\t\t<div class="user-buttons-bar">\n\t\t\t\t\t\t<button data-st-action="cancel" class="tertiary-button" data-trans data-context="Action">Cancel</button>\n\t\t\t\t\t\t<button data-st-action="ok" class="primary-button" data-trans data-context="Action">OK</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>'),e.appendChild(n),n.querySelectorAll('[data-st-action="cancel"]').forEach((function(t){t.addEventListener("click",(function(){e.removeChild(n)}))})),n.querySelectorAll('[data-st-action="ok"]').forEach((function(r){r.addEventListener("click",(function(){return df(void 0,void 0,void 0,(function(){var r;return pf(this,(function(o){switch(o.label){case 0:n.querySelectorAll("[data-st-action]").forEach((function(t){t.disabled=!0})),o.label=1;case 1:return o.trys.push([1,3,4,6]),[4,rt(t)];case 2:return o.sent(),[3,6];case 3:return r=o.sent(),$o(r),[3,6];case 4:return[4,Mi(1)];case 5:return o.sent(),window.close(),e.removeChild(n),[7];case 6:return[2]}}))}))}))})),[2]):[4,rt(t)];case 1:return r.sent(),[4,Mi(1)];case 2:return r.sent(),window.close(),[2]}}))}))},Q.style.display="flex",Q.title=Xr("Action").t(If||(If=lf(["Switch account"],["Switch account"]))),Q.addEventListener("click",(function(){return df(void 0,void 0,void 0,(function(){return pf(this,(function(t){switch(t.label){case 0:return[4,ft(bo.SWITCH_ACCOUNT)];case 1:return t.sent(),[2]}}))}))})),X.style.display="flex",X.title=Xr("Action").t(jf||(jf=lf(["Sign out"],["Sign out"]))),X.addEventListener("click",(function(){return df(void 0,void 0,void 0,(function(){return pf(this,(function(t){switch(t.label){case 0:return[4,ft(bo.SIGN_OUT)];case 1:return t.sent(),[2]}}))}))})),tt.style.display="block",et.innerHTML=V?Xr("Action").t(Mf||(Mf=lf(["Upgrade"],["Upgrade"]))):it?Xr("Action").t(Df||(Df=lf(["Connect"],["Connect"]))):Xr("Action").t(Rf||(Rf=lf(["Quick connect"],["Quick connect"]))),et.addEventListener("click",(function(){return df(void 0,void 0,void 0,(function(){var t,e,n,r,o,i;return pf(this,(function(a){switch(a.label){case 0:return V?(t=Cc,e=uf,n=[s],o={},[4,_()]):[3,3];case 1:return[4,t.apply(void 0,[e.apply(void 0,n.concat([(o.email=null===(i=a.sent())||void 0===i?void 0:i.Email,o)]))])];case 2:return a.sent(),ql(),[2];case 3:return d.innerHTML="",r=Is(m(B,A),B,C),qu({connected:!0,pick:"fastest"}),pl(Ss.CONNECTION,Es.VPN_CONNECTION,{},r),[4,lt(r)];case 4:return a.sent(),[2]}}))}))})),document.querySelector("#status").style.display="block",st(),["aria-label","title"].forEach((function(t){document.querySelectorAll("["+t+"]").forEach((function(e){e.setAttribute(t,Zr(e.getAttribute("data-context")||"Info",(function(t){return vf(t,1)[0]}),[e.getAttribute(t)]))}))})),function(t){["svg > title","[data-trans]"].forEach((function(e){t.querySelectorAll(e).forEach((function(t){t.innerHTML=Zr(t.getAttribute("data-context")||"Info",(function(t){return Br(t,1)[0]}),[t.innerHTML.trim().replace(/\n\t+/g,"\n")])}))}))}(document),dt=[],document.querySelectorAll('[data-page="region"] .page-title .back-button').forEach((function(t){t.addEventListener("click",(function(){var t=dt.pop();if(t){var e=t.name,n=t.content;v(e,n)}else pt("world")}))})),pt=function(t){"region"!==t&&(p=void 0,dt.length&&dt.splice(0,dt.length));var n=t&&{region:"world","split-tunneling":"features"}[t]||t;document.querySelectorAll("[data-go-to]").forEach((function(t){t.classList[t.getAttribute("data-go-to")===n?"add":"remove"]("active"),t.removeAttribute("aria-current")})),t&&document.querySelectorAll("[data-page]").forEach((function(e){e.classList[e.getAttribute("data-page")===t?"add":"remove"]("selected-page")})),document.querySelectorAll(".page-view, .page-view [data-page]").forEach((function(t){t.scrollTop=0})),e&&(e.scrollTop=0)},document.querySelectorAll("[data-go-to]").forEach((function(t){t.addEventListener("click",(function(e){var n=t.getAttribute("data-go-to");n&&(pt(n),t.classList.add("active"),t.setAttribute("aria-current","true")),e.preventDefault(),e.stopPropagation()}))})),(vt=document.querySelector(".central-view"))&&(ht=parseInt(window.getComputedStyle(vt).minWidth),yt=.8*screen.availWidth,ht>yt&&(vt.style.minWidth=Math.round(yt)+"px"),gt=parseInt(window.getComputedStyle(vt).minHeight),mt=.8*screen.availHeight,gt>mt&&(vt.style.minHeight=Math.round(mt)+"px")),(bt=document.getElementById("search-input"))&&(bt.focus(),bt.onkeyup=function(t){if("Enter"===t.key||13===t.keyCode){var e=Y.querySelector(".server, .connect-option");e&&e.click()}},wt=0,W=function(t,e){var n;t.placeholder=Xr("Label").t(ts||(ts=js(["Countries, cities, servers"],["Countries, cities, servers"])));var r=function(){var n,r=t.value;((null===(n=t.parentNode)||void 0===n?void 0:n.querySelectorAll(".reset-button"))||[]).forEach((function(t){t.style.display=""===r?"none":"block",t.setAttribute("tabindex",""===r?"-1":"0")})),e(r)};return t.addEventListener("input",r),((null===(n=t.parentNode)||void 0===n?void 0:n.querySelectorAll(".reset-button"))||[]).forEach((function(e){e.addEventListener("click",(function(){t.value="",r()}))})),r}(bt,(function(t){return df(void 0,void 0,void 0,(function(){var e,n;return pf(this,(function(r){switch(r.label){case 0:return e=Date.now(),wt=e,n=""!==t,Y.querySelector(":scope > .spinner")||(Y.innerHTML='<div class="spinner">\n\t\t\t\t\t<div class="lds-ring"><div></div><div></div><div></div><div></div></div>\n\t\t\t\t</div>'),[4,Mi(n?300:1)];case 1:return r.sent(),wt!==e?[2]:(Y.innerHTML=n?jl(G,t,B,j):hu(G,B,j)||'<p class="not-found">\n\t\t\t\t\t'.concat(Xr("Error").t(Uf||(Uf=lf(["Unable to load the list"],["Unable to load the list"]))),"<br />\n\t\t\t\t\t<small>").concat(Xr("Error").t($f||($f=lf(["Please check your connectivity"],["Please check your connectivity"]))),"</small>\n\t\t\t\t</p>"),S(),Cu(),ot(),[2])}}))}))})),Bu(T,j,{refresh:W,upgradeNeeded:B<=0}),Bu(ef,M),Bu(L,D),Bu(ul,$),Bu(Xo,q,{buttonSelector:".crash-button"}),Bu(Hl,R,{refresh:function(){return df(void 0,void 0,void 0,(function(){return pf(this,(function(t){switch(t.label){case 0:return[4,yf.connected?Zl(void 0,void 0,void 0,(function(){return Yl(this,(function(t){switch(t.label){case 0:return[4,Hl.getDefined({value:!0})];case 1:return[4,t.sent().value?zl(sl.DISABLED):zl(sl.CLEAR)];case 2:return t.sent(),[2]}}))})):zl(sl.CLEAR)];case 1:return t.sent(),[2]}}))}))}}),Jl(tf,H,document,(function(){return df(void 0,void 0,void 0,(function(){return pf(this,(function(t){switch(t.label){case 0:return yf.connected?[4,Co(wo.BYPASS_LIST,Ql(B,H.value))]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}),B<=0)),S(),ho({logicalUpdate:function(t){(null==t?void 0:t.length)&&(A=t)},changeState:function(n){switch(n.state){case"connected":yf.connected=!0,z.server=n.server,st(n.server),C(n.error);break;case"connecting":yf.connected=!1,z.server=n.server,st(n.server,!0),C(n.error);break;case"logged-out":Yc(document.getElementById("sign-in-view"),e,t,r);break;case"disconnected":yf.connected=!1,z.server=void 0,st(n.server),C(n.error)}},error:C}),null==(_t=document.querySelector('*[data-page="settings"] .page-title'))||_t.addEventListener("dblclick",(function(t){var e=document.querySelector('*[data-page="settings"]');if(e){var n=t;n.ctrlKey&&n.altKey&&e.classList.toggle("debug-mode")}})),null==(xt=document.getElementById("max-tier"))||xt.addEventListener("input",(function(){return df(void 0,void 0,void 0,(function(){var t,e;return pf(this,(function(r){switch(r.label){case 0:return t=n.g.logicalMaxTier||2,e=Number(xt.value),t===e?[2]:(n.g.logicalMaxTier=e,[4,qf()]);case 1:return r.sent(),[2]}}))}))})),[2]):[2]}var Ot,Tt,Lt}))}))};ci(qf()),window.addEventListener("message",(function(t){if(t.origin.startsWith(c)&&"endFork"===t.data){var e=document.getElementById("account-frame");e&&(e.style.display="none"),document.querySelectorAll(".main-area").forEach((function(t){t.style.display="block"}))}}),!1),window.addEventListener("unhandledrejection",oi),window.addEventListener("error",oi)}()}();
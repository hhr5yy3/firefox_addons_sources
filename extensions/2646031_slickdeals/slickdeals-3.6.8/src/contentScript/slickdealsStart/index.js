(async e=>{window.addEventListener("message",async s=>{const{source:t,origin:o,data:n}=s,{messageType:a}=n!=null?n:{};t===window&&o===window.location.origin&&a==="siteToExtension"&&await chrome.runtime.sendMessage({action:"siteToExtension",data:n})});const i=(e.contentType||"").lastIndexOf("image/",0)===0;!(e instanceof HTMLDocument)&&(!(e instanceof XMLDocument)||!(e.createElement("div")instanceof HTMLDivElement))||i||await chrome.runtime.sendMessage({action:"injectExtensionWindowVariables"})})(document);

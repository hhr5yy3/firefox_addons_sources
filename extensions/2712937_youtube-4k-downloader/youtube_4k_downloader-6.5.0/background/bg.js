!function(){let e=function(){let e=navigator.userAgent.toLowerCase(),n="";return-1<e.indexOf("opera")||-1<e.indexOf("opr")?n="opera":-1<e.indexOf("firefox")?n="firefox":-1<e.indexOf("edg")?n="edge":-1<e.indexOf("chrome")?n="chrome":-1<e.indexOf("safari")?n="safari":(-1<e.indexOf("msie")||1==!!document.documentMode)&&(n="ie"),n}(),a={};-1<["chrome","edge","opera"].indexOf(e)?a=chrome:-1<["firefox"].indexOf(e)?a=browser:"undefined"!=typeof chrome?a=chrome:"undefined"!=typeof browser&&(a=browser);try{a.webRequest.onHeadersReceived.addListener(e=>{var n=e.url,t=0<n.indexOf("webm&")?"webm":0<n.indexOf("3gpp&")||0<n.indexOf("3gp&")?"3gp":"mp4",i=0<n.indexOf("&mime=video")?"-video":0<n.indexOf("&mime=audio")?"-audio":"",o=0<n.indexOf("&mime=audio")?"-audio":"",n=-1!==(n=(n=function(e){let n=!1;try{e.split("?")[1].split("&").forEach(e=>{"title"===(e=e.split("="))[0]&&(n=e[1])})}catch(e){}return n}(n))?function(e){let n=e;try{n=decodeURIComponent(e).replace(/\+/g," ").replace(/\s\s+/g," ")}catch(e){}return n}(n):"youtube").indexOf(t,n.length-t.length)?n:t?n+o+"."+t:"youtube"+i;return(headers=e.responseHeaders.filter(e=>(key=e.name.toLowerCase(),-1===["content-type","content-description","content-transfer-encoding","content-disposition"].indexOf(key)))).push({name:"Content-Type",value:"application/octet-stream"},{name:"Content-Description",value:"File Transfer"},{name:"Content-Transfer-Encoding",value:"Binary"},{name:"Content-Disposition",value:"attachment"+(n?"; filename="+n:"")}),{responseHeaders:headers}},{urls:["https://*.googlevideo.com/videoplayback*"],types:["main_frame"]},["blocking","responseHeaders"])}catch(e){}a.runtime.onMessage.addListener(function(e,n,t){if("command"in e&&"data"in e&&(i=e.command,e=e.data,"icon"==i)){var i=e,e=n.tab.id,o=(active=parseInt(i.active),"");active||(o="2");const r={};[16,32,48,64,96,128,256,512].forEach(function(e,n){r[e]="../assets/icons/i"+o+"-"+e+".png"}),a.browserAction.setIcon({path:r,tabId:e})}})}();
var Mt=Object.create;var Fe=Object.defineProperty;var Pt=Object.getOwnPropertyDescriptor;var Ot=Object.getOwnPropertyNames;var Lt=Object.getPrototypeOf,Rt=Object.prototype.hasOwnProperty;var He=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Ut=(e,t,r,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of Ot(t))!Rt.call(e,l)&&l!==r&&Fe(e,l,{get:()=>t[l],enumerable:!(i=Pt(t,l))||i.enumerable});return e};var re=(e,t,r)=>(r=e!=null?Mt(Lt(e)):{},Ut(t||!e||!e.__esModule?Fe(r,"default",{value:e,enumerable:!0}):r,e));var dt=He((ye,pe)=>{(function(){"use strict";var e={function:!0,object:!0},t=e[typeof window]&&window||this,r=t,i=e[typeof ye]&&ye,l=e[typeof pe]&&pe&&!pe.nodeType&&pe,a=i&&l&&typeof global=="object"&&global;a&&(a.global===a||a.window===a||a.self===a)&&(t=a);var u=Math.pow(2,53)-1,f=/\bOpera/,g=this,_=Object.prototype,s=_.hasOwnProperty,w=_.toString;function k(n){return n=String(n),n.charAt(0).toUpperCase()+n.slice(1)}function b(n,v,S){var y={"10.0":"10","6.4":"10 Technical Preview","6.3":"8.1","6.2":"8","6.1":"Server 2008 R2 / 7","6.0":"Server 2008 / Vista","5.2":"Server 2003 / XP 64-bit","5.1":"XP","5.01":"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return v&&S&&/^Win/i.test(n)&&!/^Windows Phone /i.test(n)&&(y=y[/[\d.]+$/.exec(n)])&&(n="Windows "+y),n=String(n),v&&S&&(n=n.replace(RegExp(v,"i"),S)),n=H(n.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0]),n}function T(n,v){var S=-1,y=n?n.length:0;if(typeof y=="number"&&y>-1&&y<=u)for(;++S<y;)v(n[S],S,n);else L(n,v)}function H(n){return n=x(n),/^(?:webOS|i(?:OS|P))/.test(n)?n:k(n)}function L(n,v){for(var S in n)s.call(n,S)&&v(n[S],S,n)}function R(n){return n==null?k(n):w.call(n).slice(8,-1)}function V(n,v){var S=n!=null?typeof n[v]:"number";return!/^(?:boolean|number|string|undefined)$/.test(S)&&(S=="object"?!!n[v]:!0)}function B(n){return String(n).replace(/([ -])(?!$)/g,"$1?")}function m(n,v){var S=null;return T(n,function(y,I){S=v(S,y,I,n)}),S}function x(n){return String(n).replace(/^ +| +$/g,"")}function A(n){var v=t,S=n&&typeof n=="object"&&R(n)!="String";S&&(v=n,n=null);var y=v.navigator||{},I=y.userAgent||"";n||(n=I);var D=S||g==r,Z=S?!!y.likeChrome:/\bChrome\b/.test(n)&&!/internal|\n/i.test(w.toString()),q="Object",j=S?q:"ScriptBridgingProxyObject",ae=S?q:"Environment",vt=S&&v.java?"JavaPackage":R(v.java),yt=S?q:"RuntimeObject",se=/\bJava/.test(vt)&&v.java,wt=se&&R(v.environment)==ae,kt=se?"a":"\u03B1",_t=se?"b":"\u03B2",we=v.document||{},Y=v.operamini||v.opera,me=f.test(me=S&&Y?Y["[[Class]]"]:R(Y))?me:Y=null,o,ue=n,M=[],ge=null,Q=n==I,h=Q&&Y&&typeof Y.version=="function"&&Y.version(),ke,P=At([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"]),d=Tt(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"(?:Edge|Edg|EdgA|EdgiOS)"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Vivaldi","Waterfox","WebPositive",{label:"Yandex Browser",pattern:"YaBrowser"},{label:"UC Browser",pattern:"UCBrowser"},"Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chromium","Chrome",{label:"Chrome",pattern:"(?:HeadlessChrome)"},{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),E=We([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),$=St({Apple:{iPad:1,iPhone:1,iPod:1},Alcatel:{},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},Huawei:{},Lenovo:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Oppo:{},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1},Xiaomi:{Mi:1,Redmi:1}}),c=Ct(["Windows Phone","KaiOS","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian",{label:"DragonFly BSD",pattern:"DragonFly"},"Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);function At(W){return m(W,function(z,O){return z||RegExp("\\b"+(O.pattern||B(O))+"\\b","i").exec(n)&&(O.label||O)})}function St(W){return m(W,function(z,O,J){return z||(O[E]||O[/^[a-z]+(?: +[a-z]+\b)*/i.exec(E)]||RegExp("\\b"+B(J)+"(?:\\b|\\w*\\d)","i").exec(n))&&J})}function Tt(W){return m(W,function(z,O){return z||RegExp("\\b"+(O.pattern||B(O))+"\\b","i").exec(n)&&(O.label||O)})}function Ct(W){return m(W,function(z,O){var J=O.pattern||B(O);return!z&&(z=RegExp("\\b"+J+"(?:/[\\d.]+|[ \\w.]*)","i").exec(n))&&(z=b(z,J,O.label||O)),z})}function We(W){return m(W,function(z,O){var J=O.pattern||B(O);return!z&&(z=RegExp("\\b"+J+" *\\d+[.\\w_]*","i").exec(n)||RegExp("\\b"+J+" *\\w+-[\\w]*","i").exec(n)||RegExp("\\b"+J+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(n))&&((z=String(O.label&&!RegExp(J,"i").test(O.label)?O.label:z).split("/"))[1]&&!/[\d.]+/.test(z[0])&&(z[0]+=" "+z[1]),O=O.label||O,z=H(z[0].replace(RegExp(J,"i"),O).replace(RegExp("; *(?:"+O+"[_-])?","i")," ").replace(RegExp("("+O+")[-_.]?(\\w)","i"),"$1 $2"))),z})}function Ve(W){return m(W,function(z,O){return z||(RegExp(O+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(n)||0)[1]||null})}function Et(){return this.description||""}if(P&&(P=[P]),/\bAndroid\b/.test(c)&&!E&&(o=/\bAndroid[^;]*;(.*?)(?:Build|\) AppleWebKit)\b/i.exec(n))&&(E=x(o[1]).replace(/^[a-z]{2}-[a-z]{2};\s*/i,"")||null),$&&!E?E=We([$]):$&&E&&(E=E.replace(RegExp("^("+B($)+")[-_.\\s]","i"),$+" ").replace(RegExp("^("+B($)+")[-_.]?(\\w)","i"),$+" $2")),(o=/\bGoogle TV\b/.exec(E))&&(E=o[0]),/\bSimulator\b/i.test(n)&&(E=(E?E+" ":"")+"Simulator"),d=="Opera Mini"&&/\bOPiOS\b/.test(n)&&M.push("running in Turbo/Uncompressed mode"),d=="IE"&&/\blike iPhone OS\b/.test(n)?(o=A(n.replace(/like iPhone OS/,"")),$=o.manufacturer,E=o.product):/^iP/.test(E)?(d||(d="Safari"),c="iOS"+((o=/ OS ([\d_]+)/i.exec(n))?" "+o[1].replace(/_/g,"."):"")):d=="Konqueror"&&/^Linux\b/i.test(c)?c="Kubuntu":$&&$!="Google"&&(/Chrome/.test(d)&&!/\bMobile Safari\b/i.test(n)||/\bVita\b/.test(E))||/\bAndroid\b/.test(c)&&/^Chrome/.test(d)&&/\bVersion\//i.test(n)?(d="Android Browser",c=/\bAndroid\b/.test(c)?c:"Android"):d=="Silk"?(/\bMobi/i.test(n)||(c="Android",M.unshift("desktop mode")),/Accelerated *= *true/i.test(n)&&M.unshift("accelerated")):d=="UC Browser"&&/\bUCWEB\b/.test(n)?M.push("speed mode"):d=="PaleMoon"&&(o=/\bFirefox\/([\d.]+)\b/.exec(n))?M.push("identifying as Firefox "+o[1]):d=="Firefox"&&(o=/\b(Mobile|Tablet|TV)\b/i.exec(n))?(c||(c="Firefox OS"),E||(E=o[1])):!d||(o=!/\bMinefield\b/i.test(n)&&/\b(?:Firefox|Safari)\b/.exec(d))?(d&&!E&&/[\/,]|^[^(]+?\)/.test(n.slice(n.indexOf(o+"/")+8))&&(d=null),(o=E||$||c)&&(E||$||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(c))&&(d=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(c)?c:o)+" Browser")):d=="Electron"&&(o=(/\bChrome\/([\d.]+)\b/.exec(n)||0)[1])&&M.push("Chromium "+o),h||(h=Ve(["(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$)|UCBrowser|YaBrowser)","Version",B(d),"(?:Firefox|Minefield|NetFront)"])),(o=P=="iCab"&&parseFloat(h)>3&&"WebKit"||/\bOpera\b/.test(d)&&(/\bOPR\b/.test(n)?"Blink":"Presto")||/\b(?:Midori|Nook|Safari)\b/i.test(n)&&!/^(?:Trident|EdgeHTML)$/.test(P)&&"WebKit"||!P&&/\bMSIE\b/i.test(n)&&(c=="Mac OS"?"Tasman":"Trident")||P=="WebKit"&&/\bPlayStation\b(?! Vita\b)/i.test(d)&&"NetFront")&&(P=[o]),d=="IE"&&(o=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(n)||0)[1])?(d+=" Mobile",c="Windows Phone "+(/\+$/.test(o)?o:o+".x"),M.unshift("desktop mode")):/\bWPDesktop\b/i.test(n)?(d="IE Mobile",c="Windows Phone 8.x",M.unshift("desktop mode"),h||(h=(/\brv:([\d.]+)/.exec(n)||0)[1])):d!="IE"&&P=="Trident"&&(o=/\brv:([\d.]+)/.exec(n))&&(d&&M.push("identifying as "+d+(h?" "+h:"")),d="IE",h=o[1]),Q){if(V(v,"global"))if(se&&(o=se.lang.System,ue=o.getProperty("os.arch"),c=c||o.getProperty("os.name")+" "+o.getProperty("os.version")),wt){try{h=v.require("ringo/engine").version.join("."),d="RingoJS"}catch{(o=v.system)&&o.global.system==v.system&&(d="Narwhal",c||(c=o[0].os||null))}d||(d="Rhino")}else typeof v.process=="object"&&!v.process.browser&&(o=v.process)&&(typeof o.versions=="object"&&(typeof o.versions.electron=="string"?(M.push("Node "+o.versions.node),d="Electron",h=o.versions.electron):typeof o.versions.nw=="string"&&(M.push("Chromium "+h,"Node "+o.versions.node),d="NW.js",h=o.versions.nw)),d||(d="Node.js",ue=o.arch,c=o.platform,h=/[\d.]+/.exec(o.version),h=h?h[0]:null));else R(o=v.runtime)==j?(d="Adobe AIR",c=o.flash.system.Capabilities.os):R(o=v.phantom)==yt?(d="PhantomJS",h=(o=o.version||null)&&o.major+"."+o.minor+"."+o.patch):typeof we.documentMode=="number"&&(o=/\bTrident\/(\d+)/i.exec(n))?(h=[h,we.documentMode],(o=+o[1]+4)!=h[1]&&(M.push("IE "+h[1]+" mode"),P&&(P[1]=""),h[1]=o),h=d=="IE"?String(h[1].toFixed(1)):h[0]):typeof we.documentMode=="number"&&/^(?:Chrome|Firefox)\b/.test(d)&&(M.push("masking as "+d+" "+h),d="IE",h="11.0",P=["Trident"],c="Windows");c=c&&H(c)}if(h&&(o=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(h)||/(?:alpha|beta)(?: ?\d)?/i.exec(n+";"+(Q&&y.appMinorVersion))||/\bMinefield\b/i.test(n)&&"a")&&(ge=/b/i.test(o)?"beta":"alpha",h=h.replace(RegExp(o+"\\+?$"),"")+(ge=="beta"?_t:kt)+(/\d+\+?/.exec(o)||"")),d=="Fennec"||d=="Firefox"&&/\b(?:Android|Firefox OS|KaiOS)\b/.test(c))d="Firefox Mobile";else if(d=="Maxthon"&&h)h=h.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(E))E=="Xbox 360"&&(c=null),E=="Xbox 360"&&/\bIEMobile\b/.test(n)&&M.unshift("mobile mode");else if((/^(?:Chrome|IE|Opera)$/.test(d)||d&&!E&&!/Browser|Mobi/.test(d))&&(c=="Windows CE"||/Mobi/i.test(n)))d+=" Mobile";else if(d=="IE"&&Q)try{v.external===null&&M.unshift("platform preview")}catch{M.unshift("embedded")}else(/\bBlackBerry\b/.test(E)||/\bBB10\b/.test(n))&&(o=(RegExp(E.replace(/ +/g," *")+"/([.\\d]+)","i").exec(n)||0)[1]||h)?(o=[o,/BB10/.test(n)],c=(o[1]?(E=null,$="BlackBerry"):"Device Software")+" "+o[0],h=null):this!=L&&E!="Wii"&&(Q&&Y||/Opera/.test(d)&&/\b(?:MSIE|Firefox)\b/i.test(n)||d=="Firefox"&&/\bOS X (?:\d+\.){2,}/.test(c)||d=="IE"&&(c&&!/^Win/.test(c)&&h>5.5||/\bWindows XP\b/.test(c)&&h>8||h==8&&!/\bTrident\b/.test(n)))&&!f.test(o=A.call(L,n.replace(f,"")+";"))&&o.name&&(o="ing as "+o.name+((o=o.version)?" "+o:""),f.test(d)?(/\bIE\b/.test(o)&&c=="Mac OS"&&(c=null),o="identify"+o):(o="mask"+o,me?d=H(me.replace(/([a-z])([A-Z])/g,"$1 $2")):d="Opera",/\bIE\b/.test(o)&&(c=null),Q||(h=null)),P=["Presto"],M.push(o));(o=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(n)||0)[1])&&(o=[parseFloat(o.replace(/\.(\d)$/,".0$1")),o],d=="Safari"&&o[1].slice(-1)=="+"?(d="WebKit Nightly",ge="alpha",h=o[1].slice(0,-1)):(h==o[1]||h==(o[2]=(/\bSafari\/([\d.]+\+?)/i.exec(n)||0)[1]))&&(h=null),o[1]=(/\b(?:Headless)?Chrome\/([\d.]+)/i.exec(n)||0)[1],o[0]==537.36&&o[2]==537.36&&parseFloat(o[1])>=28&&P=="WebKit"&&(P=["Blink"]),!Q||!Z&&!o[1]?(P&&(P[1]="like Safari"),o=(o=o[0],o<400?1:o<500?2:o<526?3:o<533?4:o<534?"4+":o<535?5:o<537?6:o<538?7:o<601?8:o<602?9:o<604?10:o<606?11:o<608?12:"12")):(P&&(P[1]="like Chrome"),o=o[1]||(o=o[0],o<530?1:o<532?2:o<532.05?3:o<533?4:o<534.03?5:o<534.07?6:o<534.1?7:o<534.13?8:o<534.16?9:o<534.24?10:o<534.3?11:o<535.01?12:o<535.02?"13+":o<535.07?15:o<535.11?16:o<535.19?17:o<536.05?18:o<536.1?19:o<537.01?20:o<537.11?"21+":o<537.13?23:o<537.18?24:o<537.24?25:o<537.36?26:P!="Blink"?"27":"28")),P&&(P[1]+=" "+(o+=typeof o=="number"?".x":/[.+]/.test(o)?"":"+")),d=="Safari"&&(!h||parseInt(h)>45)?h=o:d=="Chrome"&&/\bHeadlessChrome/i.test(n)&&M.unshift("headless")),d=="Opera"&&(o=/\bzbov|zvav$/.exec(c))?(d+=" ",M.unshift("desktop mode"),o=="zvav"?(d+="Mini",h=null):d+="Mobile",c=c.replace(RegExp(" *"+o+"$"),"")):d=="Safari"&&/\bChrome\b/.exec(P&&P[1])?(M.unshift("desktop mode"),d="Chrome Mobile",h=null,/\bOS X\b/.test(c)?($="Apple",c="iOS 4.3+"):c=null):/\bSRWare Iron\b/.test(d)&&!h&&(h=Ve("Chrome")),h&&h.indexOf(o=/[\d.]+$/.exec(c))==0&&n.indexOf("/"+o+"-")>-1&&(c=x(c.replace(o,""))),c&&c.indexOf(d)!=-1&&!RegExp(d+" OS").test(c)&&(c=c.replace(RegExp(" *"+B(d)+" *"),"")),P&&!/\b(?:Avant|Nook)\b/.test(d)&&(/Browser|Lunascape|Maxthon/.test(d)||d!="Safari"&&/^iOS/.test(c)&&/\bSafari\b/.test(P[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/.test(d)&&P[1])&&(o=P[P.length-1])&&M.push(o),M.length&&(M=["("+M.join("; ")+")"]),$&&E&&E.indexOf($)<0&&M.push("on "+$),E&&M.push((/^on /.test(M[M.length-1])?"":"on ")+E),c&&(o=/ ([\d.+]+)$/.exec(c),ke=o&&c.charAt(c.length-o[0].length-1)=="/",c={architecture:32,family:o&&!ke?c.replace(o[0],""):c,version:o?o[1]:null,toString:function(){var W=this.version;return this.family+(W&&!ke?" "+W:"")+(this.architecture==64?" 64-bit":"")}}),(o=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(ue))&&!/\bi686\b/i.test(ue)?(c&&(c.architecture=64,c.family=c.family.replace(RegExp(" *"+o),"")),d&&(/\bWOW64\b/i.test(n)||Q&&/\w(?:86|32)$/.test(y.cpuClass||y.platform)&&!/\bWin64; x64\b/i.test(n))&&M.unshift("32-bit")):c&&/^OS X/.test(c.family)&&d=="Chrome"&&parseFloat(h)>=39&&(c.architecture=64),n||(n=null);var F={};return F.description=n,F.layout=P&&P[0],F.manufacturer=$,F.name=d,F.prerelease=ge,F.product=E,F.ua=n,F.version=d&&h,F.os=c||{architecture:null,family:null,version:null,toString:function(){return"null"}},F.parse=A,F.toString=Et,F.version&&M.unshift(h),F.name&&M.unshift(d),c&&d&&!(c==String(c).split(" ")[0]&&(c==d.split(" ")[0]||E))&&M.push(E?"("+c+")":"on "+c),M.length&&(F.description=M.join(" ")),F}var C=A();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(t.platform=C,define(function(){return C})):i&&l?L(C,function(n,v){i[v]=n}):t.platform=C}).call(ye)});var ie=He((Me,pt)=>{(function(e,t){if(typeof define=="function"&&define.amd)define("webextension-polyfill",["module"],t);else if(typeof Me<"u")t(pt);else{var r={exports:{}};t(r),e.browser=r.exports}})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:Me,function(e){"use strict";if(!globalThis.chrome?.runtime?.id)throw new Error("This script should only be loaded in a browser extension.");if(typeof globalThis.browser>"u"||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){let t="The message port closed before a response was received.",r=i=>{let l={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(l).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class a extends WeakMap{constructor(x,A=void 0){super(A),this.createItem=x}get(x){return this.has(x)||this.set(x,this.createItem(x)),super.get(x)}}let u=m=>m&&typeof m=="object"&&typeof m.then=="function",f=(m,x)=>(...A)=>{i.runtime.lastError?m.reject(new Error(i.runtime.lastError.message)):x.singleCallbackArg||A.length<=1&&x.singleCallbackArg!==!1?m.resolve(A[0]):m.resolve(A)},g=m=>m==1?"argument":"arguments",_=(m,x)=>function(C,...n){if(n.length<x.minArgs)throw new Error(`Expected at least ${x.minArgs} ${g(x.minArgs)} for ${m}(), got ${n.length}`);if(n.length>x.maxArgs)throw new Error(`Expected at most ${x.maxArgs} ${g(x.maxArgs)} for ${m}(), got ${n.length}`);return new Promise((v,S)=>{if(x.fallbackToNoCallback)try{C[m](...n,f({resolve:v,reject:S},x))}catch(y){console.warn(`${m} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,y),C[m](...n),x.fallbackToNoCallback=!1,x.noCallback=!0,v()}else x.noCallback?(C[m](...n),v()):C[m](...n,f({resolve:v,reject:S},x))})},s=(m,x,A)=>new Proxy(x,{apply(C,n,v){return A.call(n,m,...v)}}),w=Function.call.bind(Object.prototype.hasOwnProperty),k=(m,x={},A={})=>{let C=Object.create(null),n={has(S,y){return y in m||y in C},get(S,y,I){if(y in C)return C[y];if(!(y in m))return;let D=m[y];if(typeof D=="function")if(typeof x[y]=="function")D=s(m,m[y],x[y]);else if(w(A,y)){let Z=_(y,A[y]);D=s(m,m[y],Z)}else D=D.bind(m);else if(typeof D=="object"&&D!==null&&(w(x,y)||w(A,y)))D=k(D,x[y],A[y]);else if(w(A,"*"))D=k(D,x[y],A["*"]);else return Object.defineProperty(C,y,{configurable:!0,enumerable:!0,get(){return m[y]},set(Z){m[y]=Z}}),D;return C[y]=D,D},set(S,y,I,D){return y in C?C[y]=I:m[y]=I,!0},defineProperty(S,y,I){return Reflect.defineProperty(C,y,I)},deleteProperty(S,y){return Reflect.deleteProperty(C,y)}},v=Object.create(m);return new Proxy(v,n)},b=m=>({addListener(x,A,...C){x.addListener(m.get(A),...C)},hasListener(x,A){return x.hasListener(m.get(A))},removeListener(x,A){x.removeListener(m.get(A))}}),T=new a(m=>typeof m!="function"?m:function(A){let C=k(A,{},{getContent:{minArgs:0,maxArgs:0}});m(C)}),H=new a(m=>typeof m!="function"?m:function(A,C,n){let v=!1,S,y=new Promise(q=>{S=function(j){v=!0,q(j)}}),I;try{I=m(A,C,S)}catch(q){I=Promise.reject(q)}let D=I!==!0&&u(I);if(I!==!0&&!D&&!v)return!1;let Z=q=>{q.then(j=>{n(j)},j=>{let ae;j&&(j instanceof Error||typeof j.message=="string")?ae=j.message:ae="An unexpected error occurred",n({__mozWebExtensionPolyfillReject__:!0,message:ae})}).catch(j=>{console.error("Failed to send onMessage rejected reply",j)})};return Z(D?I:y),!0}),L=({reject:m,resolve:x},A)=>{i.runtime.lastError?i.runtime.lastError.message===t?x():m(new Error(i.runtime.lastError.message)):A&&A.__mozWebExtensionPolyfillReject__?m(new Error(A.message)):x(A)},R=(m,x,A,...C)=>{if(C.length<x.minArgs)throw new Error(`Expected at least ${x.minArgs} ${g(x.minArgs)} for ${m}(), got ${C.length}`);if(C.length>x.maxArgs)throw new Error(`Expected at most ${x.maxArgs} ${g(x.maxArgs)} for ${m}(), got ${C.length}`);return new Promise((n,v)=>{let S=L.bind(null,{resolve:n,reject:v});C.push(S),A.sendMessage(...C)})},V={devtools:{network:{onRequestFinished:b(T)}},runtime:{onMessage:b(H),onMessageExternal:b(H),sendMessage:R.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:R.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},B={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return l.privacy={network:{"*":B},services:{"*":B},websites:{"*":B}},k(i,V,l)};e.exports=r(chrome)}else e.exports=globalThis.browser})});var ve,U,Xe,zt,oe,Ge,Ze,_e,Nt,be={},Ye=[],Dt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Ae=Array.isArray;function ee(e,t){for(var r in t)e[r]=t[r];return e}function Qe(e){var t=e.parentNode;t&&t.removeChild(e)}function Bt(e,t,r){var i,l,a,u={};for(a in t)a=="key"?i=t[a]:a=="ref"?l=t[a]:u[a]=t[a];if(arguments.length>2&&(u.children=arguments.length>3?ve.call(arguments,2):r),typeof e=="function"&&e.defaultProps!=null)for(a in e.defaultProps)u[a]===void 0&&(u[a]=e.defaultProps[a]);return fe(e,u,i,l,null)}function fe(e,t,r,i,l){var a={type:e,props:t,key:r,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:l??++Xe};return l==null&&U.vnode!=null&&U.vnode(a),a}function Se(){return{current:null}}function X(e){return e.children}function ne(e,t){this.props=e,this.context=t}function le(e,t){if(t==null)return e.__?le(e.__,e.__.__k.indexOf(e)+1):null;for(var r;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null)return r.__e;return typeof e.type=="function"?le(e):null}function et(e){var t,r;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null){e.__e=e.__c.base=r.__e;break}return et(e)}}function je(e){(!e.__d&&(e.__d=!0)&&oe.push(e)&&!he.__r++||Ge!==U.debounceRendering)&&((Ge=U.debounceRendering)||Ze)(he)}function he(){var e,t,r,i,l,a,u,f;for(oe.sort(_e);e=oe.shift();)e.__d&&(t=oe.length,i=void 0,l=void 0,u=(a=(r=e).__v).__e,(f=r.__P)&&(i=[],(l=ee({},a)).__v=a.__v+1,Te(f,a,l,r.__n,f.ownerSVGElement!==void 0,a.__h!=null?[u]:null,i,u??le(a),a.__h),it(i,a),a.__e!=u&&et(a)),oe.length>t&&oe.sort(_e));he.__r=0}function tt(e,t,r,i,l,a,u,f,g,_){var s,w,k,b,T,H,L,R=i&&i.__k||Ye,V=R.length;for(r.__k=[],s=0;s<t.length;s++)if((b=r.__k[s]=(b=t[s])==null||typeof b=="boolean"||typeof b=="function"?null:typeof b=="string"||typeof b=="number"||typeof b=="bigint"?fe(null,b,null,null,b):Ae(b)?fe(X,{children:b},null,null,null):b.__b>0?fe(b.type,b.props,b.key,b.ref?b.ref:null,b.__v):b)!=null){if(b.__=r,b.__b=r.__b+1,(k=R[s])===null||k&&b.key==k.key&&b.type===k.type)R[s]=void 0;else for(w=0;w<V;w++){if((k=R[w])&&b.key==k.key&&b.type===k.type){R[w]=void 0;break}k=null}Te(e,b,k=k||be,l,a,u,f,g,_),T=b.__e,(w=b.ref)&&k.ref!=w&&(L||(L=[]),k.ref&&L.push(k.ref,null,b),L.push(w,b.__c||T,b)),T!=null?(H==null&&(H=T),typeof b.type=="function"&&b.__k===k.__k?b.__d=g=rt(b,g,e):g=ot(e,b,k,R,T,g),typeof r.type=="function"&&(r.__d=g)):g&&k.__e==g&&g.parentNode!=e&&(g=le(k))}for(r.__e=H,s=V;s--;)R[s]!=null&&(typeof r.type=="function"&&R[s].__e!=null&&R[s].__e==r.__d&&(r.__d=nt(i).nextSibling),st(R[s],R[s]));if(L)for(s=0;s<L.length;s++)at(L[s],L[++s],L[++s])}function rt(e,t,r){for(var i,l=e.__k,a=0;l&&a<l.length;a++)(i=l[a])&&(i.__=e,t=typeof i.type=="function"?rt(i,t,r):ot(r,i,i,l,i.__e,t));return t}function ot(e,t,r,i,l,a){var u,f,g;if(t.__d!==void 0)u=t.__d,t.__d=void 0;else if(r==null||l!=a||l.parentNode==null)e:if(a==null||a.parentNode!==e)e.appendChild(l),u=null;else{for(f=a,g=0;(f=f.nextSibling)&&g<i.length;g+=1)if(f==l)break e;e.insertBefore(l,a),u=a}return u!==void 0?u:l.nextSibling}function nt(e){var t,r,i;if(e.type==null||typeof e.type=="string")return e.__e;if(e.__k){for(t=e.__k.length-1;t>=0;t--)if((r=e.__k[t])&&(i=nt(r)))return i}return null}function $t(e,t,r,i,l){var a;for(a in r)a==="children"||a==="key"||a in t||xe(e,a,null,r[a],i);for(a in t)l&&typeof t[a]!="function"||a==="children"||a==="key"||a==="value"||a==="checked"||r[a]===t[a]||xe(e,a,t[a],r[a],i)}function Je(e,t,r){t[0]==="-"?e.setProperty(t,r??""):e[t]=r==null?"":typeof r!="number"||Dt.test(t)?r:r+"px"}function xe(e,t,r,i,l){var a;e:if(t==="style")if(typeof r=="string")e.style.cssText=r;else{if(typeof i=="string"&&(e.style.cssText=i=""),i)for(t in i)r&&t in r||Je(e.style,t,"");if(r)for(t in r)i&&r[t]===i[t]||Je(e.style,t,r[t])}else if(t[0]==="o"&&t[1]==="n")a=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=r,r?i||e.addEventListener(t,a?qe:Ke,a):e.removeEventListener(t,a?qe:Ke,a);else if(t!=="dangerouslySetInnerHTML"){if(l)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t in e)try{e[t]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,r))}}function Ke(e){return this.l[e.type+!1](U.event?U.event(e):e)}function qe(e){return this.l[e.type+!0](U.event?U.event(e):e)}function Te(e,t,r,i,l,a,u,f,g){var _,s,w,k,b,T,H,L,R,V,B,m,x,A,C,n=t.type;if(t.constructor!==void 0)return null;r.__h!=null&&(g=r.__h,f=t.__e=r.__e,t.__h=null,a=[f]),(_=U.__b)&&_(t);try{e:if(typeof n=="function"){if(L=t.props,R=(_=n.contextType)&&i[_.__c],V=_?R?R.props.value:_.__:i,r.__c?H=(s=t.__c=r.__c).__=s.__E:("prototype"in n&&n.prototype.render?t.__c=s=new n(L,V):(t.__c=s=new ne(L,V),s.constructor=n,s.render=Wt),R&&R.sub(s),s.props=L,s.state||(s.state={}),s.context=V,s.__n=i,w=s.__d=!0,s.__h=[],s._sb=[]),s.__s==null&&(s.__s=s.state),n.getDerivedStateFromProps!=null&&(s.__s==s.state&&(s.__s=ee({},s.__s)),ee(s.__s,n.getDerivedStateFromProps(L,s.__s))),k=s.props,b=s.state,s.__v=t,w)n.getDerivedStateFromProps==null&&s.componentWillMount!=null&&s.componentWillMount(),s.componentDidMount!=null&&s.__h.push(s.componentDidMount);else{if(n.getDerivedStateFromProps==null&&L!==k&&s.componentWillReceiveProps!=null&&s.componentWillReceiveProps(L,V),!s.__e&&s.shouldComponentUpdate!=null&&s.shouldComponentUpdate(L,s.__s,V)===!1||t.__v===r.__v){for(t.__v!==r.__v&&(s.props=L,s.state=s.__s,s.__d=!1),s.__e=!1,t.__e=r.__e,t.__k=r.__k,t.__k.forEach(function(v){v&&(v.__=t)}),B=0;B<s._sb.length;B++)s.__h.push(s._sb[B]);s._sb=[],s.__h.length&&u.push(s);break e}s.componentWillUpdate!=null&&s.componentWillUpdate(L,s.__s,V),s.componentDidUpdate!=null&&s.__h.push(function(){s.componentDidUpdate(k,b,T)})}if(s.context=V,s.props=L,s.__P=e,m=U.__r,x=0,"prototype"in n&&n.prototype.render){for(s.state=s.__s,s.__d=!1,m&&m(t),_=s.render(s.props,s.state,s.context),A=0;A<s._sb.length;A++)s.__h.push(s._sb[A]);s._sb=[]}else do s.__d=!1,m&&m(t),_=s.render(s.props,s.state,s.context),s.state=s.__s;while(s.__d&&++x<25);s.state=s.__s,s.getChildContext!=null&&(i=ee(ee({},i),s.getChildContext())),w||s.getSnapshotBeforeUpdate==null||(T=s.getSnapshotBeforeUpdate(k,b)),tt(e,Ae(C=_!=null&&_.type===X&&_.key==null?_.props.children:_)?C:[C],t,r,i,l,a,u,f,g),s.base=t.__e,t.__h=null,s.__h.length&&u.push(s),H&&(s.__E=s.__=null),s.__e=!1}else a==null&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=It(r.__e,t,r,i,l,a,u,g);(_=U.diffed)&&_(t)}catch(v){t.__v=null,(g||a!=null)&&(t.__e=f,t.__h=!!g,a[a.indexOf(f)]=null),U.__e(v,t,r)}}function it(e,t){U.__c&&U.__c(t,e),e.some(function(r){try{e=r.__h,r.__h=[],e.some(function(i){i.call(r)})}catch(i){U.__e(i,r.__v)}})}function It(e,t,r,i,l,a,u,f){var g,_,s,w=r.props,k=t.props,b=t.type,T=0;if(b==="svg"&&(l=!0),a!=null){for(;T<a.length;T++)if((g=a[T])&&"setAttribute"in g==!!b&&(b?g.localName===b:g.nodeType===3)){e=g,a[T]=null;break}}if(e==null){if(b===null)return document.createTextNode(k);e=l?document.createElementNS("http://www.w3.org/2000/svg",b):document.createElement(b,k.is&&k),a=null,f=!1}if(b===null)w===k||f&&e.data===k||(e.data=k);else{if(a=a&&ve.call(e.childNodes),_=(w=r.props||be).dangerouslySetInnerHTML,s=k.dangerouslySetInnerHTML,!f){if(a!=null)for(w={},T=0;T<e.attributes.length;T++)w[e.attributes[T].name]=e.attributes[T].value;(s||_)&&(s&&(_&&s.__html==_.__html||s.__html===e.innerHTML)||(e.innerHTML=s&&s.__html||""))}if($t(e,k,w,l,f),s)t.__k=[];else if(tt(e,Ae(T=t.props.children)?T:[T],t,r,i,l&&b!=="foreignObject",a,u,a?a[0]:r.__k&&le(r,0),f),a!=null)for(T=a.length;T--;)a[T]!=null&&Qe(a[T]);f||("value"in k&&(T=k.value)!==void 0&&(T!==e.value||b==="progress"&&!T||b==="option"&&T!==w.value)&&xe(e,"value",T,w.value,!1),"checked"in k&&(T=k.checked)!==void 0&&T!==e.checked&&xe(e,"checked",T,w.checked,!1))}return e}function at(e,t,r){try{typeof e=="function"?e(t):e.current=t}catch(i){U.__e(i,r)}}function st(e,t,r){var i,l;if(U.unmount&&U.unmount(e),(i=e.ref)&&(i.current&&i.current!==e.__e||at(i,null,t)),(i=e.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(a){U.__e(a,t)}i.base=i.__P=null,e.__c=void 0}if(i=e.__k)for(l=0;l<i.length;l++)i[l]&&st(i[l],t,r||typeof e.type!="function");r||e.__e==null||Qe(e.__e),e.__=e.__e=e.__d=void 0}function Wt(e,t,r){return this.constructor(e,r)}function de(e,t,r){var i,l,a;U.__&&U.__(e,t),l=(i=typeof r=="function")?null:r&&r.__k||t.__k,a=[],Te(t,e=(!i&&r||t).__k=Bt(X,null,[e]),l||be,be,t.ownerSVGElement!==void 0,!i&&r?[r]:l?null:t.firstChild?ve.call(t.childNodes):null,a,!i&&r?r:l?l.__e:t.firstChild,i),it(a,e)}ve=Ye.slice,U={__e:function(e,t,r,i){for(var l,a,u;t=t.__;)if((l=t.__c)&&!l.__)try{if((a=l.constructor)&&a.getDerivedStateFromError!=null&&(l.setState(a.getDerivedStateFromError(e)),u=l.__d),l.componentDidCatch!=null&&(l.componentDidCatch(e,i||{}),u=l.__d),u)return l.__E=l}catch(f){e=f}throw e}},Xe=0,zt=function(e){return e!=null&&e.constructor===void 0},ne.prototype.setState=function(e,t){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ee({},this.state),typeof e=="function"&&(e=e(ee({},r),this.props)),e&&ee(r,e),e!=null&&this.__v&&(t&&this._sb.push(t),je(this))},ne.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),je(this))},ne.prototype.render=X,oe=[],Ze=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,_e=function(e,t){return e.__v.__b-t.__v.__b},he.__r=0,Nt=0;var Vt=0;function p(e,t,r,i,l,a){var u,f,g={};for(f in t)f=="ref"?u=t[f]:g[f]=t[f];var _={type:e,props:g,key:r,ref:u,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--Vt,__source:l,__self:a};if(typeof e=="function"&&(u=e.defaultProps))for(f in u)g[f]===void 0&&(g[f]=u[f]);return U.vnode&&U.vnode(_),_}function Ce(e){return p("a",{class:e.class,href:e.url,target:"_blank",rel:"noopener",children:e.text})}function lt(){window.TildesReExtended===void 0&&(window.TildesReExtended={debug:!1})}function te(e,t=!1){let r="",i="[TRX]";t&&(i="%c"+i,r="background-color: #dc322f; margin-right: 9px;"),(window.TildesReExtended?.debug||t)&&(r.length>0?console.debug(i,r,e):console.debug(i,e))}function Ee(...e){return e.flatMap(t=>Array.from(document.querySelectorAll(t)))}var Ft=re(dt(),1);var ct=re(ie(),1);async function N(e){let t=e.storage??ct.default.storage.local,r=(await t.get(e.key))[e.key];return new Ht({key:e.key,deserialize:e.deserialize,serialize:e.serialize??JSON.stringify,storage:t,value:r===void 0?e.value:e.deserialize(r)})}var Ht=class{deserialize;key;serialize;storage;inner;constructor(e){this.deserialize=e.deserialize,this.key=e.key,this.serialize=e.serialize,this.storage=e.storage,this.inner=e.value}get value(){return this.inner}set value(e){this.inner=e}async remove(){await this.storage.remove(this.key)}async save(){await this.storage.set({[this.key]:this.serialize(this.inner)})}};var G=re(ie(),1);var Oe=re(ie(),1);async function Gt(e){return N({deserialize:t=>JSON.parse(t),serialize:t=>JSON.stringify(t),key:`${"hide-topics"}-${e.id}`,value:e,storage:Oe.default.storage.sync})}async function mt(){let e=await Oe.default.storage.sync.get(),t=[];for(let[r,i]of Object.entries(e))r.startsWith("hide-topics")&&t.push(await Gt(JSON.parse(i)));return t}var ut=["~anime","~arts","~books","~comp","~creative","~design","~enviro","~finance","~food","~games","~games.game_design","~games.tabletop","~health","~hobbies","~humanities","~lgbt","~life","~misc","~movies","~music","~news","~science","~space","~sports","~talk","~tech","~test","~tildes","~tildes.official","~tv"];var Le=re(ie(),1);async function jt(e){return N({deserialize:t=>JSON.parse(t),serialize:t=>JSON.stringify(t),key:`${"username-colors"}-${e.id}`,value:e,storage:Le.default.storage.sync})}async function gt(){let e=await Le.default.storage.sync.get(),t=[];for(let[r,i]of Object.entries(e))r.startsWith("username-colors")&&t.push(await jt(JSON.parse(i)));return t}var Re=re(ie(),1);async function Jt(e){return N({deserialize:t=>JSON.parse(t),serialize:t=>JSON.stringify(t),key:`${"user-labels"}-${e.id}`,value:e,storage:Re.default.storage.sync})}async function ft(){let e=await Re.default.storage.sync.get(),t=[];for(let[r,i]of Object.entries(e))r.startsWith("user-labels")&&t.push(await Jt(JSON.parse(i)));return t}var Ue=re(ie(),1);var ze=(r=>(r.Cursor="<cursor>",r.SelectedCursor="<selected-cursor>",r))(ze||{}),{Cursor:K,SelectedCursor:bt}=ze,qt=[{enabled:!0,inDropdown:!1,markdown:`[${K}](${bt})`,name:"Link"},{enabled:!0,inDropdown:!1,markdown:`\`\`\`${bt}
${K}
\`\`\``,name:"Code"},{enabled:!0,inDropdown:!1,markdown:`~~${K}~~`,name:"Strikethrough"},{enabled:!0,inDropdown:!1,markdown:`<details>
<summary>Click to expand spoiler.</summary>

${K}
</details>`,name:"Spoilerbox"},{enabled:!0,inDropdown:!0,markdown:`**${K}**`,name:"Bold"},{enabled:!0,inDropdown:!0,markdown:`

---

${K}`,name:"Horizontal Divider"},{enabled:!0,inDropdown:!0,markdown:`\`${K}\``,name:"Inline Code"},{enabled:!0,inDropdown:!0,markdown:`*${K}*`,name:"Italic"},{enabled:!0,inDropdown:!0,markdown:`1. ${K}`,name:"Ordered List"},{enabled:!0,inDropdown:!0,markdown:`<small>${K}</small>`,name:"Small"},{enabled:!0,inDropdown:!0,markdown:`* ${K}`,name:"Unordered List"}].map((e,t)=>({...e,id:t-100,position:t+1}));async function ce(e){return N({deserialize:t=>JSON.parse(t),serialize:t=>JSON.stringify(t),key:`${"markdown-snippet"}-${e.id}`,value:e,storage:Ue.default.storage.sync})}async function Ne(){let e=await Ue.default.storage.sync.get(),t=[];for(let[r,i]of Object.entries(e))r.startsWith("markdown-snippet")&&t.push(await ce(JSON.parse(i)));if(t.length===0){t.push(...await Promise.all(qt.map(async r=>ce(r))));for(let r of t)await r.save()}return Xt(t)}async function De(){let e=await Ne(),t=1;return e.length>0&&(t=e.sort((r,i)=>i.value.id-r.value.id)[0].value.id+1),t<0&&(t=1),t}function Xt(e){return e.sort((t,r)=>{let i=t.value.position-r.value.position;return i===0?t.value.name.localeCompare(r.value.name):i})}function ht(e){let t=e.toLowerCase().split("+");return{alt:t.includes("alt"),ctrl:t.includes("ctrl"),shift:t.includes("shift"),key:t[t.length-1]}}var ho={"enabled-features":N({deserialize:e=>new Set(JSON.parse(e)),serialize:e=>JSON.stringify(Array.from(e)),key:"enabled-features",value:new Set(["back-to-top","jump-to-new-comment","markdown-toolbar","user-labels"]),storage:G.default.storage.sync}),"known-groups":N({deserialize:e=>new Set(JSON.parse(e)),serialize:e=>JSON.stringify(Array.from(e)),key:"known-groups",value:new Set(ut),storage:G.default.storage.sync}),"latest-active-feature-tab":N({deserialize:e=>JSON.parse(e),serialize:e=>JSON.stringify(e),key:"latest-active-feature-tab",value:"debug",storage:G.default.storage.sync}),"miscellaneous-enabled-features":N({deserialize:e=>new Set(JSON.parse(e)),serialize:e=>JSON.stringify(Array.from(e)),key:"miscellaneous-enabled-features",value:new Set(["comment-anchor-fix"]),storage:G.default.storage.sync}),"on-site-new-label":N({deserialize:e=>JSON.parse(e),serialize:e=>JSON.stringify(e),key:"on-site-new-label",value:!0,storage:G.default.storage.sync}),"data-version":N({deserialize:e=>JSON.parse(e),serialize:e=>JSON.stringify(e),key:"data-version",value:"2.0.0",storage:G.default.storage.sync}),"randomize-username-colors":N({deserialize:e=>JSON.parse(e),serialize:e=>JSON.stringify(e),key:"randomize-username-colors",value:!1,storage:G.default.storage.sync}),"themes-list":N({deserialize:e=>JSON.parse(e),serialize:e=>JSON.stringify(e),key:"themes-list",value:[["white","White"],["solarized-light","Solarized Light"],["solarized-dark","Solarized Dark"],["dracula","Dracula"],["atom-one-dark","Atom One Dark"],["black","Black"],["zenburn","Zenburn"],["gruvbox-light","Gruvbox Light"],["gruvbox-dark","Gruvbox Dark"],["love-dark","Love Dark"],["love-light","Love Light"]],storage:G.default.storage.local}),"themes-list-updated-date":N({deserialize:e=>new Date(e),serialize:e=>e.toISOString(),key:"themes-list-updated-date",value:new Date("2023-01-01"),storage:G.default.storage.local}),"anonymize-usernames":N({deserialize:e=>JSON.parse(e),serialize:e=>JSON.stringify(e),key:"anonymize-usernames",value:{replacementType:"numerical"},storage:G.default.storage.sync}),"hide-topics":mt(),"hide-votes":N({deserialize:e=>JSON.parse(e),serialize:e=>JSON.stringify(e),key:"hide-votes",value:{otherComments:!1,otherTopics:!1,ownComments:!0,ownTopics:!0},storage:G.default.storage.sync}),"theme-switcher":N({deserialize:e=>JSON.parse(e),serialize:e=>JSON.stringify(e),key:"theme-switcher",value:{hourA:"09:00",hourB:"21:00",themeA:"white",themeB:"black"},storage:G.default.storage.sync}),"user-labels":ft(),"username-colors":gt()};function xt(e){let t=Zt(e);if(t>0){let r=e.filter(i=>i.value.shortcut!==void 0).map(i=>[i,ht(i.value.shortcut)]);!document.body.dataset.trxMarkdownToolbarKeydownListening&&r.length>0&&(document.addEventListener("keydown",async i=>{await er(i,r)}),document.body.dataset.trxMarkdownToolbarKeydownListening="true",te("Markdown Toolbar: Listening for keyboard shortcuts.")),te(`Markdown Toolbar: Initialized for ${t} textareas.`)}}function Zt(e){let t=Ee(".form-markdown:not(.trx-toolbar)");if(t.length===0)return 0;for(let r of t){r.classList.add("trx-toolbar");let i=r.querySelector(".tab-markdown-mode"),l=r.querySelector('textarea[name="markdown"]'),a=e.filter(g=>!g.value.inDropdown).map(g=>p(Yt,{allSnippets:e,snippet:g,textarea:l})),u=e.length===a.length,f=document.createElement("div");if(i.append(f),de(a,i,f),!u){let g=document.createElement("div"),_=i.parentElement;i.after(g),de(p(X,{children:p(Qt,{allSnippets:e,textarea:l})}),_,g)}}return t.length}function Yt(e){return p("li",{class:"tab-item",children:p("button",{class:"btn btn-link",onClick:r=>{r.preventDefault(),Be(e)},children:e.snippet.value.name})})}function Qt(e){let t=e.allSnippets,r=t?.filter(l=>l.value.inDropdown).map(l=>p("option",{value:l.value.name,children:l.value.name}));return r.length===0?null:p("select",{class:"form-select",onChange:l=>{l.preventDefault();let a=t.find(u=>u.value.name===l.target.value);Be({...e,snippet:a}),l.target.selectedIndex=0},children:[p("option",{children:"More\u2026"}),r]})}function Be(e){let{textarea:t,snippet:r}=e,{selectionStart:i,selectionEnd:l}=t;t.focus();let{markdown:a}=r.value,u=a.indexOf("<cursor>");a=a.replace("<cursor>","");let f=a.indexOf("<selected-cursor>");a=a.replace("<selected-cursor>",""),u!==-1&&f!==-1&&u>f&&(u-="<selected-cursor>".length),u===-1&&(u=0);let g=u,_=a.length;i!==l&&(a=a.slice(0,u)+t.value.slice(i,l)+a.slice(u),g=f===-1?u:f),t.value=t.value.slice(0,i)+a+t.value.slice(l),g===0&&(g=_),t.selectionEnd=l+g}async function er(e,t){let r=e.target;if(!(r instanceof HTMLTextAreaElement))return;let[i,l,a,u]=[e.key.toLowerCase(),e.altKey,e.ctrlKey,e.shiftKey];for(let[f,g]of t)if(g.key===i&&g.alt===l&&g.ctrl===a&&g.shift===u){e.preventDefault(),Be({snippet:f,textarea:r});break}}var tr=`@charset "UTF-8";
/*! modern-normalize v2.0.0 | MIT License | https://github.com/sindresorhus/modern-normalize */*,:after,:before{box-sizing:border-box}html{-webkit-text-size-adjust:100%;font-family:system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;line-height:1.15;-moz-tab-size:4;tab-size:4}body{margin:0}hr{color:inherit;height:0}abbr[title]{text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{border-color:inherit;text-indent:0}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}::-moz-focus-inner{border-style:none;padding:0}:-moz-focusring{outline:1px dotted ButtonText}:-moz-ui-invalid{box-shadow:none}legend{padding:0}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}h1,h2,h3,h4,h5,li,ol,p,ul{margin:0;padding:0}body{--background-primary:#00171d;--background-secondary:#002b36;--background-tertiary:#000;--foreground:#fdf6e3;--red:#dc322f;--light-red:#e35d5b;--dark-red:#b9221f;--orange:#cb4b16;--light-orange:#e8632c;--dark-orange:#9d3a11;--yellow:#b58900;--light-yellow:#e8b000;--dark-yellow:#826200;--green:#859900;--light-green:#b1cc00;--dark-green:#596600;--cyan:#2aa198;--light-cyan:#35c9be;--dark-cyan:#1f7972;--blue:#268bd2;--light-blue:#4ca2df;--dark-blue:#1e6ea7;--violet:#6c71c4;--light-violet:#9094d3;--dark-violet:#484fb5;--magenta:#d33682;--light-magenta:#dc609c;--dark-magenta:#b02669}.trx-hidden{display:none!important}.setting.enabled{--setting-color:var(--green);--setting-color-alt:var(--dark-green)}.setting.disabled{--setting-color:var(--red);--setting-color-alt:var(--dark-red)}.setting header{border-bottom:2px solid var(--setting-color);display:flex;margin-bottom:8px;padding-bottom:8px}.setting header h2{margin-right:auto}.setting header button{background-color:var(--setting-color);border:none;color:var(--foreground);font-weight:700;min-width:10rem;padding:4px 0}.setting header button:hover{background-color:var(--setting-color-alt);cursor:pointer}.setting .content br{margin-bottom:8px}.setting .content code{background-color:var(--background-primary)}.setting .content p{line-height:125%;margin-bottom:8px}.setting .info{border:1px solid var(--blue);padding:8px}.setting .divider{border-top:1px solid var(--blue);margin:16px 0}.setting .button{--button-color:var(--save-status-color,var(--blue));--button-color-alt:var(--dark-blue);background-color:var(--button-color);border:none;color:var(--foreground);font-weight:700;min-width:15rem;padding:8px 0}.setting .button:hover{background-color:var(--button-color-alt);cursor:pointer}.setting .button.destructive{--button-color:var(--red);--button-color-alt:var(--dark-red)}.setting .import-export{display:grid;gap:8px;grid-template-columns:repeat(2,1fr);margin-bottom:8px}.setting .import-export p{grid-column:1/3;margin:0}.setting .misc-utilities .inner{display:grid;gap:8px;grid-template-columns:repeat(2,1fr)}.setting .checkbox-list{display:flex;flex-direction:column;gap:8px;list-style:none;margin-bottom:8px}.setting .checkbox-list label{cursor:pointer;display:inline-flex;user-select:none}.setting .checkbox-list input{cursor:pointer;margin-right:8px}.setting .user-label-values{display:flex;flex-direction:column;gap:8px;list-style:square;padding:8px 8px 8px 24px}.setting .username-colors-controls{display:grid;gap:8px;grid-template-columns:repeat(3,1fr)}.setting .username-colors-controls .save-button.unsaved-changes{background-color:var(--yellow)}.setting .username-colors-editor{display:grid;gap:8px;grid-template-columns:auto auto min-content;margin-top:8px}.setting .username-colors-editor input{background-color:var(--background-primary);border:1px solid var(--save-status-color);color:var(--foreground);padding:8px}.setting .username-colors-editor .button{min-width:10rem}.setting .has-save-status{--save-status-color:var(--blue)}.setting .has-save-status.unsaved-changes{--save-status-color:var(--unsaved-changes-color)}.setting .styled-checkbox{align-items:center;background-color:var(--background-primary);border:1px solid var(--blue);cursor:pointer;display:flex;padding:8px}.setting .styled-checkbox input[type=checkbox]{margin-right:1rem}.setting .styled-select,.setting .styled-text-input{background-color:var(--background-primary);border:1px solid var(--save-status-color,var(--blue));color:var(--foreground);padding:8px}.setting .margin-bottom-8{margin-bottom:8px}.setting{--unsaved-changes-color:var(--yellow)}.setting .hide-topics-matcher-explanation{margin-bottom:8px}.setting .hide-topics-matcher-explanation p{margin:0;padding:8px}.setting .hide-topics-matcher-explanation ul{margin-left:2rem;padding-bottom:8px}.setting .hide-topics-matcher-explanation ul li{margin-bottom:4px}.setting .hide-topics-matcher-explanation ul li:last-child{margin-bottom:0}.setting .hide-topics-main-button-group{display:flex;gap:8px;margin-bottom:8px}.setting .hide-topics-main-button-group button.unsaved-changes{background-color:var(--unsaved-changes-color)}.setting .hide-topics-predicate-editors{display:flex;flex-direction:column;gap:8px;width:100%}.setting .hide-topics-editor{display:grid;gap:8px;grid-template-columns:min-content auto min-content}.setting .hide-topics-editor button{min-width:10rem}.setting .hide-topics-editor input{background-color:var(--background-primary);border:1px solid var(--save-status-color);color:var(--foreground);padding:8px}.setting .hide-topics-editor input[disabled]{filter:grayscale(100%)}.setting .hide-topics-editor select{padding-right:16px}.miscellaneous-features-list{display:flex;flex-direction:column;gap:8px;list-style:none}.miscellaneous-features-list li{--border-color:var(--red);background-color:var(--background-primary);border:1px solid var(--border-color)}.miscellaneous-features-list li.enabled{--border-color:var(--green)}.miscellaneous-features-list li .styled-checkbox{border:none;border-bottom:1px solid var(--border-color)}.miscellaneous-features-list .description{margin:8px}html{font-size:62.5%}body{background-color:var(--background-primary);color:var(--foreground);display:flex;flex-direction:column;font-size:1.5rem;gap:16px;margin:16px}a{color:var(--light-blue)}a:hover{color:var(--magenta)}details{border:1px solid var(--blue)}details[open] summary{border-bottom:1px solid var(--blue)}details summary{padding:8px}details summary:hover{background-color:var(--blue);cursor:pointer}details .inner{padding:8px}.main-wrapper,.markdown-toolbar-editor,.page-footer,.page-header,.user-label-editor{margin-left:auto;margin-right:auto;width:1200px}@media (max-width:1200px){.main-wrapper,.markdown-toolbar-editor,.page-footer,.page-header,.user-label-editor{width:100%}}.page-header{align-items:center;display:flex}.page-header img{height:4rem}.page-header h1{align-items:center;display:flex;gap:16px;margin-right:auto}.page-header .version{align-self:flex-end;border-bottom-width:2px;font-weight:700}.page-footer{background-color:var(--background-secondary);padding:16px}.page-footer a{font-weight:700}.page-footer p:not(:last-child){margin-bottom:8px}.main-wrapper{display:grid;gap:16px;grid-template-columns:300px auto}.page-aside{background-color:var(--background-secondary);padding:8px}.page-aside ul{list-style:none}.page-aside li{border:1px solid transparent;font-weight:700;padding:8px}.page-aside li:hover{background-color:var(--light-blue);border-color:var(--light-blue);cursor:pointer}.page-aside li:hover .is-new{color:var(--dark-blue)}.page-aside li:not(:last-child){margin-bottom:8px}.page-aside li.active{border-color:var(--light-blue)}.page-aside li.enabled{display:flex}.page-aside li.enabled:after{color:var(--light-green);content:"\u25CF";margin-left:auto}.page-aside li .is-new,.page-aside li .is-updated{font-size:60%;font-weight:700;vertical-align:top}.page-aside li .is-new{color:var(--light-blue)}.page-aside li .is-updated{color:var(--light-green)}.page-main{background-color:var(--background-secondary);padding:16px}`;document.head.appendChild(document.createElement("style")).appendChild(document.createTextNode(tr));var rr=".markdown-toolbar-editor h2{margin-bottom:4px}.markdown-toolbar-editor .form-markdown,.markdown-toolbar-editor .info{border:1px solid var(--blue);margin-bottom:4px;padding:8px}.markdown-toolbar-editor .form-markdown header{align-items:center;display:flex}.markdown-toolbar-editor .form-markdown select{margin-left:4px;margin-right:auto;padding:8px}.markdown-toolbar-editor .form-markdown select,.markdown-toolbar-editor .form-markdown textarea{background-color:var(--background-primary);border:1px solid var(--foreground);color:var(--foreground)}.markdown-toolbar-editor .form-markdown textarea{height:12rem;padding:4px;width:100%}.markdown-toolbar-editor .form-markdown .btn{background-color:transparent;border:none;color:var(--blue);padding:8px}.markdown-toolbar-editor .form-markdown .btn:hover{cursor:pointer}.markdown-toolbar-editor .form-markdown .btn[disabled]{cursor:not-allowed;filter:grayscale(100%)}.markdown-toolbar-editor .form-markdown .btn.active{border-bottom:3px solid var(--blue)}.markdown-toolbar-editor .form-markdown .tab.tab-markdown-mode{align-items:center;border-bottom:1px solid var(--foreground);display:inline-flex;flex-wrap:wrap;list-style:none;margin-bottom:4px;margin-top:4px;padding:0}.markdown-toolbar-editor .form-markdown .tab.tab-markdown-mode+a{margin-left:auto}.markdown-toolbar-editor .snippets-title{align-items:center;display:flex;margin-bottom:8px;margin-top:8px}.markdown-toolbar-editor .snippets-title h2{margin-right:auto}.markdown-toolbar-editor .snippet-usage-guide code{background-color:var(--background-primary)}.markdown-toolbar-editor .snippet-usage-guide p{margin-bottom:4px}.markdown-toolbar-editor .snippet-usage-guide ul{margin-left:2rem}.markdown-toolbar-editor .snippet-usage-guide ul:not(:last-child){margin-bottom:8px}.markdown-toolbar-editor .add-new-snippet,.markdown-toolbar-editor .apply-and-reload-snippets{--button-color:var(--save-status-color,var(--blue));--button-color-alt:var(--dark-blue);background-color:var(--button-color);border:none;color:var(--foreground);font-weight:700;min-width:15rem;padding:8px 0}.markdown-toolbar-editor .add-new-snippet:hover,.markdown-toolbar-editor .apply-and-reload-snippets:hover{background-color:var(--button-color-alt);cursor:pointer}.markdown-toolbar-editor .add-new-snippet.destructive,.markdown-toolbar-editor .apply-and-reload-snippets.destructive{--button-color:var(--red);--button-color-alt:var(--dark-red)}.markdown-toolbar-editor .add-new-snippet{margin-right:8px}.markdown-toolbar-editor .snippet-editor{--save-status-color:var(--blue);border:1px solid var(--save-status-color);margin-top:8px;padding:8px}.markdown-toolbar-editor .snippet-editor.unsaved-changes{--save-status-color:var(--yellow)}.markdown-toolbar-editor .snippet-editor.to-be-removed{--save-status-color:var(--red)}.markdown-toolbar-editor .snippet-editor input,.markdown-toolbar-editor .snippet-editor textarea{background-color:var(--background-primary);border:1px solid var(--blue);color:var(--foreground);padding:8px}.markdown-toolbar-editor .snippet-editor .top-controls{display:grid;gap:8px;grid-template-columns:6rem auto 9rem max-content max-content;margin-bottom:8px}.markdown-toolbar-editor .snippet-editor .snippet-enabled,.markdown-toolbar-editor .snippet-editor .snippet-in-dropdown{border:1px solid var(--blue);padding:8px}.markdown-toolbar-editor .snippet-editor .snippet-markdown{height:12rem;margin-bottom:8px;width:100%}.markdown-toolbar-editor .snippet-editor .snippet-remove,.markdown-toolbar-editor .snippet-editor .snippet-save{--button-color:var(--save-status-color,var(--blue));--button-color-alt:var(--dark-blue);background-color:var(--button-color);border:none;color:var(--foreground);font-weight:700;min-width:15rem;padding:8px 0}.markdown-toolbar-editor .snippet-editor .snippet-remove:hover,.markdown-toolbar-editor .snippet-editor .snippet-save:hover{background-color:var(--button-color-alt);cursor:pointer}.markdown-toolbar-editor .snippet-editor .snippet-remove.destructive,.markdown-toolbar-editor .snippet-editor .snippet-save.destructive{--button-color:var(--red);--button-color-alt:var(--dark-red)}.markdown-toolbar-editor .snippet-editor .snippet-save{--button-accent:var(--yellow);margin-right:8px}.markdown-toolbar-editor .snippet-editor .snippet-remove.to-be-removed{--button-color:var(--foreground);color:var(--background-primary)}";document.head.appendChild(document.createElement("style")).appendChild(document.createTextNode(rr));window.addEventListener("load",async()=>{lt(),de(p($e,{}),document.body)});var $e=class extends ne{constructor(t){super(t),this.state={snippets:[]}}async componentDidMount(){let t=await Ne();this.setState({snippets:t.map(r=>[r,Se()])})}componentDidUpdate(){xt(this.state.snippets.map(([t,r])=>t).filter(t=>t.value.enabled))}addSnippet=async()=>{let t=await De(),r=await ce({enabled:!0,id:t,inDropdown:!1,markdown:"",name:`Snippet ${t}`,position:1});await r.save();let{snippets:i}=this.state;i.push([r,Se()]),this.setState({snippets:i})};applyAndReload=async()=>{for(let[t,r]of this.state.snippets){if(r.current===null)throw new Error("SnippetEditor reference is null, this should be unreachable!");let i=r.current;if(i.state.toBeRemoved){await t.remove();continue}i.state.hasUnsavedChanges&&await r.current.save()}await this.componentDidMount()};render(){let{snippets:t}=this.state;return p(X,{children:[p("header",{class:"page-header",children:p("h1",{children:[p("img",{src:"/tildes-reextended.png"}),"Markdown Toolbar Editor"]})}),p("main",{class:"page-main markdown-toolbar-editor",children:[p("h2",{children:"Toolbar Preview"}),p("p",{class:"info",children:"The Toolbar Preview lets you test out your snippets here directly without having to go to Tildes, with the only difference being that rendering the Markdown isn't possible here."}),p(or,{},`mock-${Date.now()}`),p("div",{class:"snippets-title",children:[p("h2",{children:"Snippets"}),p("button",{class:"add-new-snippet",onClick:this.addSnippet,children:"New Snippet"}),p("button",{class:"apply-and-reload-snippets",onClick:this.applyAndReload,children:"Apply & Reload"})]}),p("details",{class:"snippet-usage-guide",children:[p("summary",{children:"Usage Guide"}),p("div",{class:"inner",children:[p("p",{children:"Here you can create your own snippets and customize your toolbar, each snippet has a number of configurable values:"}),p("ul",{children:[p("li",{children:[p("b",{children:"Position"}),", the number next to the snippet name determines in what order they will be placed in the toolbar. Snippets with the same position will be sorted alphabetically."]}),p("li",{children:[p("b",{children:"Name"}),", the name of the snippet to display in the toolbar."]}),p("li",{children:[p("b",{children:"Shortcut"}),", an optional keyboard shortcut that will insert the snippet when the combination of keys is pressed. A shortcut is defined as a list of optional modifier keys and a single final main key separated by plus signs, for example"," ",p("code",{children:"CTRL+ALT+S"}),". The available modifier keys are ALT,"," ","CTRL and SHIFT. The modifier keys can be in any order however the final key must come at the end."]}),p("li",{children:[p("b",{children:"Enable"}),", whether the snippet should be added to the toolbar."]}),p("li",{children:[p("b",{children:"Dropdown"}),', with this enabled the snippet will be placed in the "More..." dropdown following the same sorting rules as normal.']}),p("li",{children:[p("b",{children:"Snippet (Markdown)"}),", the snippet text itself in Markdown."]})]}),p("p",{children:"There are also a few markers that will do special things when used in a snippet:"}),p("ul",{children:[p("li",{children:["The ",p("code",{children:"<cursor>"})," marker indicates where the cursor should be positioned after inserting the snippet. If this marker isn't used the cursor will be placed at the end of the snippet."]}),p("li",{children:["The ",p("code",{children:"<selected-cursor>"})," marker is used for when you have text selected, placing the cursor at this location and inserting the selected text in the snippet at the"," ",p("code",{children:"<cursor>"})," position. There is currently"," ",p(Ce,{text:"a known bug",url:"https://gitlab.com/tildes-community/tildes-reextended/-/issues/47"})," ","when this marker is placed before the"," ",p("code",{children:"<cursor>"})," marker, causing the cursor position to be incorrectly placed after inserting the snippet."]})]}),p("p",{children:"To reload the toolbar after you've made changes click the Apply & Reload button. This will save all the snippets and recreate the toolbar with your changes. Any snippets with unsaved changes will have a yellow border and snippets that are going to be removed will have a red border."}),p("p",{children:"To remove a snippet click the Remove button, this will remove it from storage but keep it loaded in the page. You can then click the Apply & Reload button to permanently remove it or click the Save or Undo buttons to get it back into storage."})]})]}),t.map(([r,i])=>p(Ie,{ref:i,snippet:r},r.value.id))]})]})}},Ie=class extends ne{constructor(t){super(t);let{enabled:r,inDropdown:i,markdown:l,name:a,position:u,shortcut:f}=t.snippet.value;this.state={enabled:r,hasUnsavedChanges:!1,inDropdown:i,markdown:l,name:a,position:u,shortcut:f,toBeRemoved:!1}}edit=(t,r)=>{let i={hasUnsavedChanges:!0};t==="position"?this.setState({...i,[t]:Number(r.value)}):["enabled","inDropdown"].includes(t)&&r instanceof HTMLInputElement?this.setState({...i,[t]:r.checked}):this.setState({...i,[t]:r.value})};save=async()=>{let{snippet:t}=this.props,{enabled:r,inDropdown:i,markdown:l,name:a,position:u,shortcut:f,toBeRemoved:g}=this.state;t.value.enabled=r,t.value.inDropdown=i,t.value.markdown=l,t.value.name=a,t.value.position=u,t.value.shortcut=f;let _=t.value.id<0;if(_||g){let s=await De();_&&await t.remove(),t=await ce({...t.value,id:s})}this.props.snippet=t,await this.props.snippet.save(),this.setState({hasUnsavedChanges:!1,toBeRemoved:!1})};remove=async()=>{let t=!this.state.toBeRemoved;t?(await this.props.snippet.remove(),this.setState({toBeRemoved:t})):await this.save()};render(){let{enabled:t,hasUnsavedChanges:r,inDropdown:i,markdown:l,name:a,position:u,shortcut:f,toBeRemoved:g}=this.state,_=(w,k)=>{w.target instanceof HTMLInputElement||w.target instanceof HTMLTextAreaElement?this.edit(k,w.target):(te("Tried to edit field with unknown event target type",!0),te(w,!0))},s=["snippet-editor",r?"unsaved-changes":"",g?"to-be-removed":""].join(" ");return p("div",{class:s,children:[p("div",{class:"top-controls",children:[p("input",{class:"snippet-position",type:"number",placeholder:"Snippet Position",title:"Snippet Position",value:u,onInput:w=>{_(w,"position")}}),p("input",{class:"snippet-name",type:"text",placeholder:"Snippet Name",title:"Snippet Name",value:a,onInput:w=>{_(w,"name")}}),p("input",{class:"snippet-shortcut",placeholder:"Shortcut",title:"Shortcut",type:"text",value:f,onInput:w=>{_(w,"shortcut")}}),p("label",{class:"snippet-enabled",children:["Enable"," ",p("input",{type:"checkbox",checked:t,onClick:w=>{_(w,"enabled")}})]}),p("label",{class:"snippet-in-dropdown",children:["Dropdown"," ",p("input",{type:"checkbox",checked:i,onClick:w=>{_(w,"inDropdown")}})]})]}),p("textarea",{class:"snippet-markdown",placeholder:"Snippet (Markdown)",title:"Snippet (Markdown)",onInput:w=>{_(w,"markdown")},children:l}),p("button",{class:"snippet-save",onClick:this.save,children:"Save"}),p("button",{class:`snippet-remove destructive ${g?"to-be-removed":""}`,onClick:this.remove,children:g?"Undo":"Remove"})]})}};function or(){return p("div",{class:"form-markdown",children:[p("header",{children:[p("menu",{class:"tab tab-markdown-mode",children:[p("li",{class:"tab-item",children:p("button",{class:"btn active",children:"Edit"})}),p("li",{class:"tab-item",children:p("button",{class:"btn",disabled:!0,children:"Preview"})})]}),p(Ce,{text:"Formatting help",url:"https://docs.tildes.net/instructions/text-formatting"})]}),p("textarea",{class:"form-input",name:"markdown",placeholder:"Text (Markdown)"})]})}
/*! Bundled license information:

platform/platform.js:
  (*!
   * Platform.js v1.3.6
   * Copyright 2014-2020 Benjamin Tan
   * Copyright 2011-2013 John-David Dalton
   * Available under MIT license
   *)
*/

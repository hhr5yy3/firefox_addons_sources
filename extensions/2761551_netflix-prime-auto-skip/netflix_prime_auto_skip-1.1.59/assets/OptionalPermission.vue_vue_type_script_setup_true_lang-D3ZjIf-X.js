import{b as d,a as f}from"./browser-polyfill-tvjJO6eN.js";import{b,r as g,e as c,o as i,c as a,a as r,i as o,F as y,j as h,a4 as x,h as _}from"./storeTypes-CGrbvTi_.js";const v={key:0,class:"border border-error rounded-lg bg-gray-400 p-4 flex flex-col gap-2 w-fit"},P={class:"bg-gray-800 w-12 px-2 rounded text-error-content text-center"},w={class:"bg-gray-800 rounded text-error-content px-2"},E=b({__name:"OptionalPermission",setup(k){const l=typeof f<"u",u=["tabs"],e=g([]);m();async function m(){for(const s of u)l?await d.permissions.contains({permissions:[s]})||e.value.push(s):await chrome.permissions.contains({permissions:[s]})||e.value.push(s)}async function p(){e.value.forEach(async s=>{await chrome.permissions.request({permissions:[s]}),e.value=e.value.filter(t=>t!==s)})}return(s,t)=>c(e).length>0?(i(),a("div",v,[r("h1",null,o(s.$t("missingPermission")),1),(i(!0),a(y,null,h(c(e),n=>(i(),a("div",{key:n,class:"flex text-primary-content"},[r("div",P,o(n),1),t[0]||(t[0]=_(" -> ")),r("div",w,o(s.$t(n+"Permission")),1)]))),128)),r("button",{class:"btn btn-error w-fit",onClick:p},o(s.$t("addPermissionButton")),1)])):x("",!0)}});export{E as _};

<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" type="text/css" href="./diagTools.css">
    </head>
    <body class="logs">
        <div id="menu">
            <div class="menu">
                <ul>
                    <li class="header"><strong>Diagnostic Tools</strong></li>
                    <li id="menu_logs" class="menuItem active">
                        <svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M3 5h4v1H3V5zm0 3h4V7H3v1zm0 2h4V9H3v1zm11-5h-4v1h4V5zm0 2h-4v1h4V7zm0 2h-4v1h4V9zm2-6v9c0 .55-.45 1-1 1H9.5l-1 1-1-1H2c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h5.5l1 1 1-1H15c.55 0 1 .45 1 1zm-8 .5L7.5 3H2v9h6V3.5zm7-.5H9.5l-.5.5V12h6V3z"></path></svg>
                        Logs
                    </li>
                    <li id="menu_rendering" class="disabled">
                        <svg viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M14 8.77v-1.6l-1.94-.64-.45-1.09.88-1.84-1.13-1.13-1.81.91-1.09-.45-.69-1.92h-1.6l-.63 1.94-1.11.45-1.84-.88-1.13 1.13.91 1.81-.45 1.09L0 7.23v1.59l1.94.64.45 1.09-.88 1.84 1.13 1.13 1.81-.91 1.09.45.69 1.92h1.59l.63-1.94 1.11-.45 1.84.88 1.13-1.13-.92-1.81.47-1.09L14 8.75v.02zM7 11c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z"></path></svg>
                        Rendering
                    </li>
                    <li id="menu_history" class="disabled">
                        <svg viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 13H6V6h5v2H8v5zM7 1C4.81 1 2.87 2.02 1.59 3.59L0 2v4h4L2.5 4.5C3.55 3.17 5.17 2.3 7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-.34.03-.67.09-1H.08C.03 7.33 0 7.66 0 8c0 3.86 3.14 7 7 7s7-3.14 7-7-3.14-7-7-7z"></path></svg>
                        History
                    </li>
                    <li id="menu_pin" class="disabled">
                        &nbsp;<svg viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 13H3v-1h1v1zm8-6v7c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V7c0-.55.45-1 1-1h1V4c0-2.2 1.8-4 4-4s4 1.8 4 4v2h1c.55 0 1 .45 1 1zM3.8 6h4.41V4c0-1.22-.98-2.2-2.2-2.2-1.22 0-2.2.98-2.2 2.2v2H3.8zM11 7H2v7h9V7zM4 8H3v1h1V8zm0 2H3v1h1v-1z"></path></svg>
                        Credentials
                    </li>
                    <li id="stateLogIcon" title="Assessing..." class="standby">
                        <svg class="standby" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
                        <svg class="logging" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true">
                            <path d="M 6,12 H 8 V 10 H 6 Z M 8,9 H 6 V 4 h 2 z" id="path4491" />
                            <path class="rotato" d="M 1.67,6 H 4 L 2.5,4.5 C 3.55,3.17 5.17,2.3 7,2.3 c 3.14,0 5.7,2.56 5.7,5.7 0,0.34 -0.03,0.67 -0.09,1 h 1.31 C 13.97,8.67 14,8.34 14,8 14,4.14 10.86,1 7,1 4.81,1 2.87,2.02 1.59,3.59 L 0,2 v 4 z m 10.66,4 H 10 l 1.5,1.5 C 10.45,12.83 8.83,13.7 7,13.7 A 5.71,5.71 0 0 1 1.3,8 C 1.3,7.66 1.33,7.33 1.39,7 H 0.08 C 0.03,7.33 0,7.66 0,8 c 0,3.86 3.14,7 7,7 2.19,0 4.13,-1.02 5.41,-2.59 L 14,14 v -4 z" id="path2" /></svg>
                        <svg class="done" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 10h2v2H7v-2zm2-6H7v5h2V4zm1.5 1.5l-1 1L12 9l4-4.5-1-1L12 7l-1.5-1.5zM8 13.7A5.71 5.71 0 0 1 2.3 8c0-3.14 2.56-5.7 5.7-5.7 1.83 0 3.45.88 4.5 2.2l.92-.92A6.947 6.947 0 0 0 8 1C4.14 1 1 4.14 1 8s3.14 7 7 7 7-3.14 7-7l-1.52 1.52c-.66 2.41-2.86 4.19-5.48 4.19v-.01z"></path></svg>
                    </li>
                </ul>
            </div>
        </div>
        <div id="views">
            <!-- Logs Generation -->
            <div id="logs" class="container">
                <fieldset class="settings" title="Partial logging is not supported yet">
                    <label><input type="checkbox" id="checkAll" checked>Log everything</label>
                    <hr>                    
                    <label><input type="checkbox" id="backend" class="settingsLogs" checked>BackEnd logs</label>
                    <label><input type="checkbox" id="frontend" class="settingsLogs" checked>FrontEnd logs</label>
                </fieldset>
                <div class="actions">
                    <div class="centered">Status: <span id="stateLogText">assessing...</span></div>
                    <button id="startLogs">
                        <svg viewBox="0 0 8 16" version="1.1" width="8" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M0 8c0-2.2 1.8-4 4-4s4 1.8 4 4-1.8 4-4 4-4-1.8-4-4z"></path></svg>
                        Enable Logs
                    </button>
                    <button id="cancelLogs">
                        <svg viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48z"></path></svg>
                        Cancel Logging
                    </button>
                    <button id="collectLogs" disabled>
                        <span class="idle">
                            <svg viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M6 7h2v1H6v2H5V8H3V7h2V5h1v2zm-3 6h5v-1H3v1zM7.5 2L11 5.5V15c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h6.5zM10 6L7 3H1v12h9V6zM8.5 0H3v1h5l4 4v8h1V4.5L8.5 0z"></path></svg>                            
                            Create Log Files
                        </span>
                        <span class="generating">
                            <svg class="rotato" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M10.24 7.4a4.15 4.15 0 0 1-1.2 3.6 4.346 4.346 0 0 1-5.41.54L4.8 10.4.5 9.8l.6 4.2 1.31-1.26c2.36 1.74 5.7 1.57 7.84-.54a5.876 5.876 0 0 0 1.74-4.46l-1.75-.34zM2.96 5a4.346 4.346 0 0 1 5.41-.54L7.2 5.6l4.3.6-.6-4.2-1.31 1.26c-2.36-1.74-5.7-1.57-7.85.54C.5 5.03-.06 6.65.01 8.26l1.75.35A4.17 4.17 0 0 1 2.96 5z"></path></svg>
                            Generating ...
                        </span>
                    </button>
                    <button id="cleanLogs">
                        <svg viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm0 1.3c1.3 0 2.5.44 3.47 1.17l-8 8A5.755 5.755 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zm0 11.41c-1.3 0-2.5-.44-3.47-1.17l8-8c.73.97 1.17 2.17 1.17 3.47 0 3.14-2.56 5.7-5.7 5.7z"></path></svg>
                        Clean All Logs
                    </button>
                </div>
                <div class="tabs centered">
                    <span>The following tabs are currently part of the log session.<br></span>
                    <span>The following tabs will be logged once the session has started.<br></span>
                    <span class="visible">Open or reload a Web Signer tab to select it for logging.</span>
                    <div class="list"></div>
                </div>
                <div id="disconnected" class="disconnected centered">
                    <span>Backend is currently disconnected. Please reload WebSigner and diagnostic tools.</span>
                </div>
            </div>
            <!-- Transaction History -->
            <div id="history" class="container centered">
                <table class="table">
                    <tr>
                        <td>Transaction 0</td>
                        <td>2017-03-23</td>
                        <td>
                            <a href="http://crouton.net">
                                View
                                <svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
                            </a>
                        </td>
                    </tr>
                    <tr>
                        <td>Transaction 1</td>
                        <td>2017-02-18</td>
                        <td>   
                            <svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
                            View
                        </td>
                    </tr>
                   <tr>
                        <td>Transaction 2</td>
                        <td>2016-07-19</td>
                        <td>
                            <a href="http://bl00.net">
                                View
                                <svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
                            </a>
                        </td>
                    </tr>
                    <tr>
                        <td>Transaction 3</td>
                        <td>2017-03-23</td>
                        <td>
                            <a href="http://crouton.net">
                                View
                                <svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
                            </a>
                        </td>
                    </tr>
                    <tr>
                        <td>Transaction 4</td>
                        <td>2017-02-18</td>
                        <td>   
                            <svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
                            View
                        </td>
                    </tr>
                   <tr>
                        <td>Transaction 5</td>
                        <td>2016-07-19</td>
                        <td>
                            <a href="http://bl00.net">
                                View
                                <svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"></path></svg>
                            </a>
                        </td>
                    </tr>
                </table>
            </div>
            <!-- PIN Administration -->
            <div id="pin" class="container centered">
                <select>
                    <option>Please select a reader from this list...</option>
                    <option>Broadcom Corp Contacted SmartCard 0</option>
                    <option>Gemalto Ezio Shield SC 0</option>
                    <option>USB SmartCard Reader</option>
                </select>
                <fieldset>
                    <legend>Change credentials</legend>
                    <input type="number" min="0" max="99999999" placeholder="Old">
                    <input type="number" min="0" max="99999999" placeholder="New">
                    <input type="number" min="0" max="99999999" placeholder="Confirm">
                    <button>OK</button>
                </fieldset>
            </div>
            <!-- Rendering Settings -->
            <div id="rendering" class="container">
                <div class="settings centered">
                    <fieldset>Background:
                        <input type="color" id="backgroundColor" class="settingsInput" onchange="clickColor(0, -1, -1, 5)" value="">
                    </fieldset>
                    <fieldset>
                        Font:
                        <input type="color" id="fontColor" class="settingsInput" onchange="clickColor(0, -1, -1, 5)" value="">
                        <select id="fontSize" class="settingsInput">
                            <option></option>
                            <option value="0.6em">Small</option>
                            <option value="0.875em">Normal</option>
                            <option value="1.2em">Large</option>
                        </select>
                        Family: <input id="fontFamily" type="text" class="settingsInput">
                    </fieldset>
                </div>
                <div class="actions centered">
                    <button id="saveSettings" disabled>Save Preferences</button>
                    <button id="resetSettings">Reset to Default</button>
                </div>
            </div>

            <div id="info" class="centered">
                <section class="logs">
                    <p class="placeholders">
                        <span class="false">No logging session at the moment.</span>
                        <span class="true">
                            The logging session was started on <i id="timeStart">?</i> (system time).<br>
                            Time left on this session: <i id="timeRemaining">?</i>
                        </span>
                    </p>
                    <p>
                        Once started, your logging session will last for up to <i id="timeLimit">?</i> minutes.
                        Then, the session and its logs will be collected, and you will be notified of the location where you can retrieve them.
                    </p>
                    <p class="placeholders" id="location">
                        You may find all previously generated log files here:<br>
                        <i id="folderPath"></i> <button id="copy"><span class="ready">Copy</span><span class="done">Copied</span></button><br>
                        <i id="filename"></i>
                    </p>
                </section> 
                <section class="history"></section>
                <section class="pin">No card selected yet, or none can be found.</section>
                <section class="rendering">Once preferences have been saved, you can reload the Web Signer page and your modifications should apply immediately on the next requested rendering.</section>
            </div>
        </div>
            <div id="versions" class="centered">
                <ul>
                    <li>FrontEnd/<span id="FEVersion">?</span></li>
                    <li>–</li>
                    <li>BackEnd/<span id="BEVersion">?</span></li>
                </ul>
            </div>
        <script src="../version.js"></script>
        <script src="../custom.js"></script>
        <script src="../app_settings.js"></script>
        <script src="../externalLibraries/jquery.js"></script>
        <script src="./diagTools.js"></script>
    </body>
</html>

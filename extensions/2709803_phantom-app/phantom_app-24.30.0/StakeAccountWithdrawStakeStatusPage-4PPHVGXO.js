import{a as F}from"./chunk-OEWK4LSI.js";import{a as f}from"./chunk-KKOSU24X.js";import{a as z,b as v,c as B}from"./chunk-JFQRFZX3.js";import"./chunk-LVMBU3FX.js";import"./chunk-MUB4J7OI.js";import{f as H,k as _}from"./chunk-PLEWWF6Z.js";import"./chunk-HYEZWSH6.js";import"./chunk-6764LP7U.js";import"./chunk-QKMXDYYI.js";import"./chunk-K2NEFY4Z.js";import"./chunk-HP7NJF3J.js";import"./chunk-MP4HMVYC.js";import"./chunk-J6OUJ52S.js";import{b as m}from"./chunk-R24F5SOK.js";import"./chunk-YSJD33JQ.js";import{rb as h}from"./chunk-KWIQ74SK.js";import{r as O}from"./chunk-UKIEYEQ5.js";import"./chunk-RTLU3EDP.js";import"./chunk-XEZHZYHW.js";import"./chunk-D6DH2FN4.js";import"./chunk-XQSQGLPB.js";import"./chunk-XCHZAS53.js";import{M as x,N,i as I,j as P}from"./chunk-W3KE72YO.js";import"./chunk-VBZS3GR4.js";import"./chunk-T4L6EP5D.js";import"./chunk-6E56T6PG.js";import"./chunk-R3RTTMHX.js";import"./chunk-APGMW4RI.js";import"./chunk-HAQ4DJZR.js";import{$d as L,P as w,Pa as y}from"./chunk-QTEEUEUK.js";import"./chunk-SBICKOM7.js";import{m as b}from"./chunk-QLCKU4H4.js";import"./chunk-GHLG6R56.js";import"./chunk-KYG6C6PS.js";import"./chunk-OJ65X4PZ.js";import"./chunk-WJHU72V4.js";import{a as J}from"./chunk-335V6TFQ.js";import"./chunk-BVBFOJLU.js";import{f as G,h as D,n as E}from"./chunk-XJB76KNJ.js";D();E();var t=G(J());var X=r=>{let s={stakePubkey:r.stakeAccountPubkey,amount:r.amount,usdPerSol:r.usdPerSol,onClose:r.onClose},{t:e}=b(),{withdrawStake:c,needsLedgerApproval:d,txHash:n,confirmationStatus:i,isError:u,error:l,onDeny:a}=Y(s);if(d)return t.default.createElement(v,{ledgerAction:c,cancel:a});if(u){let o=l,k=o?.message,S=z(o),A=o?.message.includes(P),C=o?.message.includes(I);return S?t.default.createElement(B,{ledgerActionError:o,onRetryClick:c,onCancelClick:a}):A||C?t.default.createElement(F,{onCancelClick:a}):t.default.createElement(m,{icon:"error",title:e("stakeAccountWithdrawStakeWithdrawalFailed"),onClose:a,showButton:!!n},t.default.createElement(h,{wordBreak:"break-word",color:"#777777",size:16,lineHeight:20.8},k??e("stakeAccountWithdrawStakeWithdrawalFailedDescription")),t.default.createElement(f,{txHash:n},e("stakeAccountWithdrawStakeViewTransaction")))}return i==="confirmed"||i==="finalized"?t.default.createElement(m,{icon:"success",title:e("stakeAccountWithdrawStakeSolWithdrawn"),onClose:r.onClose,iconSize:"large"},t.default.createElement(h,{wordBreak:"break-word",color:"#777777",size:16,lineHeight:20.8},e("stakeAccountWithdrawStakeSolWithdrawnDescription.part1"),t.default.createElement("br",null)," ",e("stakeAccountWithdrawStakeSolWithdrawnDescription.part2")),t.default.createElement(f,{txHash:n},e("stakeAccountWithdrawStakeViewTransaction"))):t.default.createElement(m,{icon:"loading",title:e("stakeAccountWithdrawStakeWithdrawingSol"),onClose:r.onClose,iconSize:"large"},t.default.createElement(h,{wordBreak:"break-word",color:"#777777",size:16,lineHeight:20.8},e("stakeAccountWithdrawStakeWithdrawingSolDescription")),t.default.createElement(f,{txHash:n},e("stakeAccountWithdrawStakeViewTransaction")))},ht=X,Y=({onClose:r,...s})=>{let{data:e,isSuccess:c}=L(),{accountIdentifier:d,isLedgerAccount:n,solanaChainAddress:i,solanaPublicKey:u,connection:l,networkID:a}=(0,t.useMemo)(()=>{let V=e?.identifier??"",p=(e?.addresses??[]).find(q=>y.isSolanaNetworkID(q.networkID)),Q=new w.PublicKey(p?.address??""),U=e?.type==="ledger",T=p?.networkID,j=x(N(T));return{accountIdentifier:V,isLedgerAccount:U,solanaChainAddress:p,solanaPublicKey:Q,connection:j,networkID:T}},[e]),o=_(l),k=(0,t.useCallback)(()=>{o.mutate({...s,accountIdentifier:d,senderAddress:i,stakePubkey:new w.PublicKey(s.stakePubkey),authorizedPubkey:u})},[d,s,i,u,o]),S=O(),A=(0,t.useCallback)(()=>{S.denied({chainType:"solana",chainName:"solana",networkId:y.getSolanaNetworkIDValue(a),type:"withdraw"}),r()},[a,r,S]);(0,t.useEffect)(()=>{if(c){if(!e||!i)throw new Error("Selected account undefined when trying to perform stake transaction.");n||k()}},[c]);let W=o.data?.id,g=H(l,2e3,W),K=n&&(o.isIdle||o.isPending),M=g.data?.value?.confirmationStatus;return{withdrawStake:k,onDeny:A,needsLedgerApproval:K,txHash:W,confirmationStatus:M,isError:o.isError||g.isError,error:o.error||g.error}};export{X as StakeAccountWithdrawStakeStatusPage,ht as default};
//# sourceMappingURL=StakeAccountWithdrawStakeStatusPage-4PPHVGXO.js.map

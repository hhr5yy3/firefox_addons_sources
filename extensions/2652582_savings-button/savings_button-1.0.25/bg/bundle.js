!function(t){function e(e){for(var r,i,c=e[0],o=e[1],u=e[2],h=0,f=[];h<c.length;h++)i=c[h],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&f.push(a[i][0]),a[i]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r]);for(l&&l(e);f.length;)f.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],r=!0,c=1;c<n.length;c++){var o=n[c];0!==a[o]&&(r=!1)}r&&(s.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},a={1:0},s=[];function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var c=window.webpackJsonp=window.webpackJsonp||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var l=o;s.push([98,0]),n()}({4:function(t,e,n){"use strict";n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return s})),n.d(e,"f",(function(){return l})),n.d(e,"j",(function(){return f})),n.d(e,"i",(function(){return o})),n.d(e,"h",(function(){return u})),n.d(e,"d",(function(){return c})),n.d(e,"g",(function(){return i})),n.d(e,"e",(function(){return r})),n.d(e,"c",(function(){return d}));var r="en",a="https://".concat("api.inspiri.ng"),s={USER_URL:"".concat(a,"/v2/browext/user?api_key=ib-browext"),MERCHANTS_URL:"".concat(a,"/v2/browext/offers?api_key=ib-browext&page[size]=10000"),MERCHANT_CONTENT_URL:"".concat(a,"/v2/browext/offer_popup?api_key=ib-browext&offer_id=")},i=[{name:"Ελληνική",value:"el"},{name:"English",value:"en"},{name:"Español",value:"es"},{name:"Italiano",value:"it"},{name:"Nederlandse",value:"nl"},{name:"Portugues",value:"pt-PT"}],c={background:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzOCIgaGVpZ2h0PSI2NCIgdmlld0JveD0iMCAwIDM4IDY0Ij4KICA8ZGVmcz4KICAgIDxzdHlsZT4uYXtmaWxsOm5vbmU7fS5ie2ZpbGw6I2ZmZjt9PC9zdHlsZT4KICA8L2RlZnM+CiAgPHBhdGggY2xhc3M9ImEiIGQ9Ik0xNC4yMTQsOS4xODlINS4ydjUuOTU2aDYuNzFhMS41MTEsMS41MTEsMCwwLDEsMCwzLjAyMUg1LjJWNTUuMTE2SDkuMnYuMDMybC4wNjctLjAzMiwzLjUxMyw3LjIxN2g3Ljc1M1Y1Mi45NjVsMS4wMzQtLjNBMjEuOTY0LDIxLjk2NCwwLDAsMCwzNC43NDUsNDAuNjE4bC40ODYtMWg1LjcyNVYyOC43NDhIMzUuOTA5YTEuNSwxLjUsMCwwLDEtMS40NjItMS4yNjFBMjMuMTUzLDIzLjE1MywwLDAsMCwyNi43NzQsMTQuNGMwLS4xNDIsMC0xMS41NCwwLTExLjU0YTExLjUzNSwxMS41MzUsMCwwLDAtOS4yOTEsNi4zMjdjLS4yODUsMC0yLjIsMC0zLjI2OCwwWm00LjYyMywxOC4wNmE1LjE2NSw1LjE2NSwwLDEsMSwxMC4zMjYsMFYyNy44SDI2LjYxOHYtLjU1NWEyLjYxOCwyLjYxOCwwLDEsMC01LjIzNCwwVjI3LjhIMTguODM4WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTUuMjA0IC0wLjU4NCkiLz4KICA8cGF0aCBjbGFzcz0iYiIgZD0iTTEyLjE3MSw3LjAyM2EzLjkxMywzLjkxMywwLDAsMSwzLjkwOSwzLjkwOXYuNDA4SDE0LjE1MnYtLjQwOGExLjk4MSwxLjk4MSwwLDAsMC0zLjk2Mywwdi40MDhIOC4yNjJ2LS40MDhBMy45MTEsMy45MTEsMCwwLDEsMTIuMTcxLDcuMDIzWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNi4yMyAxNS4xMjEpIi8+CiAgPHBhdGggY2xhc3M9ImIiIGQ9Ik0xMC4yODQsNS41NDFhMS4xMTIsMS4xMTIsMCwwLDEsMCwyLjIyNEg1LjJWNS41NDFaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNS4yMDQgOS42MzQpIi8+CiAgPHBhdGggY2xhc3M9ImIiIGQ9Ik05LjEyNCw1Ni4xNjZWNTYuMmwuMDY2LS4wMzFMMTIuNjM4LDYzLjJoNy42MDlWNTQuMDY5bDEuMDE1LS4zQTIxLjUwNiwyMS41MDYsMCwwLDAsMzQuMiw0Mi4wMjhsLjQ3Ny0uOTc5SDQwLjI5di0xMC42SDM1LjMzN2ExLjQ3LDEuNDcsMCwwLDEtMS40MzUtMS4yMywyMi41NTIsMjIuNTUyLDAsMCwwLTcuNTMtMTIuNzYyYzAtLjEzOSwwLTExLjI1NSwwLTExLjI1NWExMS4zMiwxMS4zMiwwLDAsMC05LjExOCw2LjE3MWMtLjI4LDAtMi4xNTcsMC0zLjIwNywwSDUuMlY4LjM5M0gxNS42MjZBMTQuMTM3LDE0LjEzNywwLDAsMSwyNy4yNzMsMi4xODdjLjIwNiwwLC40MTEuMDA5LjYxNy4wMThsMS40LjA1OFYxNS4xMUEyNS41MzcsMjUuNTM3LDAsMCwxLDM2LjUsMjcuNDY5SDQzLjJWNDQuMDI2SDM2LjQ5MkEyNC40NzIsMjQuNDcyLDAsMCwxLDIzLjE2NSw1Ni4yNTZ2OS45MzFIMTAuODI2TDcuMzgzLDU5LjE0NEg1LjJWNTYuMTY2WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTUuMjA0IC0yLjE4NykiLz4KPC9zdmc+Cg==",status_on:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAD18AAA9fAdeK2skAAAPeSURBVFhH7ZZZSFRRGMfPLHeaTZlJo6JcKieKFiLbEYkWQwoRIVosEiSLCuqhjSh6qChaJHoRoUQN7K0IWigh8imrp8g2K8NGKiRIHWd0Zu690/87c+c2c5vROz4F+YM/33fOved+3/nOMsPG+e8xKHZMXL5wdjJMNtR5+PjJMO9MkzElcOTQfoPZbJ6SlT3pDZrugD9wrru7+6bFInyqu94oRd/SR1oJIPAMmINQuSAIOROzso3U39/fz7xfveR+NxgM15DI5fqGZpE6RoN/QA8Ivg3mNUQJ5AmCRR3rdDohB7lTI5HI+VAofIk/0IGuBBB8GUwjxKMQgsWieIyZTCbmzHAys9nE20hi7+6qHZm8MQp6K3AU+hMRYAkUL4oFCZnNap81HBavV1Vunaa0UzJqArThYKgCKjRjSsDlcrNZntlsxaoitqF0E7Pb7cobnM1QB5LYRQ1UZSdUQH48I25CBLfCXIQOQOq7JaUbWfHqtX9VQRRF9vnTR9bj9TKfb4DJkoylEtqLV68pcrlce/FKFzbpw+jbUVImgOAemBZoCe8AdruDbSwrZ0uXr+Rtn89HM+N+PJSYzWbjfigUYoFAoBYJdKD5Q1cCCD4Hph3KsFptYl5+vmXuvAVsceFSZlU+rJdwOMz8fj8t2zskVYXkXiiPOKn2wEdoIZR94vSZF9V79rP8mQXsaVsba21tZZKk/66RZZlbjPEODg4mBCeSVqCvry/HaDQexSADzngNbj2hs7OTeTwe1tvby8ubmanrlPHZUxVACJridrt/USNG0gQwqAYlqx8aGmJWq5VrLND+GBgYiN8nq5DAM8XnJF0CzD4L4n465dYSDAa1m9SpWJWkCWCQL7Z22LXcpguNpwQ0fFesStIEsGZPoOdwXyIZOd0q0Kxp7TWz/wZ9iLp/SDm9x4cqTKIkN3VMmF6xfluVbdHiQuXJyMSC06Wk4RTW/6ziq6Q6hsQWWY5UzncaqmcWeN7ShTISFJhKTpsuSXD6Fa2NuokkVACzpoQKgyGxB2vfDiujCp6SKy0u9N/AxiyjW45+C2iTUlBaawpI0pQ8Rhe0DrP/Em0moq1AFtRuNBq8kiznBsNi85aGhyIG/0R/OYJtQqBvw8PDDJcKLzUdVTrnseCx0wOo4y60MlVwQpvAMBTEt0ySJFMdm3gvwEci0H3cCZ/pEoo7Ha3QPlSmjfodDvUvwy2oHGN6o83kJCRQcvW2D6YSs7mH2Vdvb3xE5RuJAFSDIHWozjEkFb8GAfQrbmrSPuQoeyXKnEvLAN4jyB3+AOAZ/eS6lQ37Cs8ekDPOOP8wjP0GiMiLbrKMoogAAAAASUVORK5CYII="},o=[{name:"google",domain:"google.",rx:/^http(?:s)?:\/\/(?:www\.|encrypted\.)?google\..+/,links:"a",blocks:"div.g"},{name:"bing",domain:"bing.com",rx:/(www(\d?).)?bing\.com/,links:"h2 a, div[class='sb_tlst'] * a",blocks:"#b_results>.b_algo",caption:".b_attribution"},{name:"yahoo",domain:"search.yahoo.com",rx:/(..\.)?search\.yahoo\.com/,links:"h3 a",blocks:"div#web li > .dd:not(.bingrelqa)"}],u=("".concat(a,"/connect?action=login"),"".concat(a,"/user"),"".concat(a,"/"),"".concat(a,"/connect"),"".concat(a,"/newhelp/"),"https://faqs.contigomas.com/privacy-browext"),l="UA-173466035-1",h=["clubs.inspiringbenefits.com/offers/redir"],f=["www.commission-junction.com","www.qksrv.net","www.jdoqocy.com","www.tkqlhce.com","www.kqzyfj.com","www.dpbolvw.net","www.anrdoezrs.net","www.google.com/aclk","www.dpbolvw.net","www.linksynergy.com","affiliate.buy.com","affiliate.rakuten.com","goto.target.com/c/","www.pntra.com","www.gopjn.com","www.pjtra.com","www.pjatr.com","www.pntrs.com","www.shareasale.com","www.evyy.net","www.ojrq.net","www.7eer.net","partners.hotwire.com/c/","goto.orientaltrading.com","affiliates.abebooks.com","affiliates.babiesrus.com","affiliates.toysrus.com","partners.hotwire.com","www.awin1.com","www.prf.hn","www.linkconnector.com","www.savings.com","www.avantlink.com","www.qvc.com","afsrc=1"],d=chrome.action?chrome.action:chrome.browserAction},6:function(t,e,n){"use strict";n.d(e,"f",(function(){return d})),n.d(e,"b",(function(){return f})),n.d(e,"e",(function(){return p})),n.d(e,"a",(function(){return w})),n.d(e,"d",(function(){return m})),n.d(e,"c",(function(){return v}));var r,a,s=n(15),i=n.n(s),c=n(19),o=n.n(c),u=n(1),l=n(4),h=(r=chrome.tabs,a="query",function(){var t=Array.prototype.slice.call(arguments);return new Promise((function(e){t.push((function(){return chrome.runtime.lastError&&console.error(chrome.runtime.lastError.message),e.apply(void 0,arguments)})),r[a].apply(r,o()(t))}))}),f=function(){return h({active:!0,lastFocusedWindow:!0}).then((function(t){var e,n=i()(t,1)[0];return!(null!=n&&null!==(e=n.url)&&void 0!==e&&e.includes("chrome://"))&&n||{}}))},d=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))},p=function(t){return Object(u.k)({action:"sendAnalytics",data:t})},w=function(){return-1!==navigator.userAgent.indexOf("Chrome")?-1!==(navigator.userAgent.indexOf("Opera")||navigator.userAgent.indexOf("OPR"))?"opera":"chrome":-1!==navigator.userAgent.indexOf("Firefox")?"firefox":-1!==navigator.userAgent.indexOf("Safari")?"safari":null},m=function(t){return!t||!Object.keys(t).length},v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.e;return t.replace("_","-")}},90:function(t,e,n){"use strict";n.d(e,"a",(function(){return L}));var r=n(2),a=n.n(r),s=n(10),i=n.n(s),c=n(11),o=n.n(c),u=n(13),l=n.n(u),h=n(7),f=n.n(h),d=n(46),p=n.n(d),w=n(14),m=n.n(w),v=n(37),g=n.n(v),y=n(0),b=n.n(y),x=n(1),M=n(3),k=n(4);function j(t,e,n){return e=f()(e),l()(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],f()(t).constructor):e.apply(t,n))}function A(t,e,n,r){var a=p()(f()(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof a?function(t){return a.apply(n,t)}:a}var L=function(t){function e(t){var n,r=t.sendAnalytics,a=t.logout,s=t.settings;return i()(this,e),(n=j(this,e,[{name:"merchants",url:k.b.MERCHANTS_URL,updateDelay:216e5,errorDelay:432e5}])).sendAnalytics=r,n.logout=a,n.defaultOptions={headers:{"content-type":"application/json;charset=UTF-8","Accept-Language":s.data.locale}},n.options=g()(n.defaultOptions,n.options),n.init(),n}return m()(e,t),o()(e,[{key:"init",value:(s=a()(b.a.mark((function t(){var e,n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(M.e)("merchantState");case 2:e=t.sent,n=e.merchantState,Object.assign(this.states,n);case 5:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"setState",value:(r=a()(b.a.mark((function t(n){var r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=A(e,"setState",this,3)([n]),t.next=3,Object(M.i)({merchantState:this.states});case 3:return t.abrupt("return",r);case 4:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"refreshStates",value:(n=a()(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return A(e,"refreshStates",this,3)([]),t.next=3,Object(M.i)({merchantState:this.states});case 3:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"parseMerchant",value:function(t){var e=t.attributes;return e||this.sendAnalytics({data:{ec:"Error",ea:"Data not found",el:"".concat(k.b.MERCHANTS_URL,". Data: ").concat(t)}}),{id:t.id,logo:e.logo_url,name:e.brand,title:e.title,discount:e.discount,type:t.type,pattern:e.url_pattern,activationUrl:e.redirect_url,position:e.position,favourite:e.is_favourite}}},{key:"fetch",value:function(t){function e(e,n){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){var t=a()(b.a.mark((function t(e,n){var r,a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n?g()(this.options,n):this.options,t.next=3,fetch(e||this.url,r);case 3:if((a=t.sent).ok){t.next=8;break}throw 401===a.status&&this.logout(),this.sendAnalytics({data:{ec:"Error",ea:"API fetch error",el:"".concat(k.b.MERCHANTS_URL,". Code: ").concat(a.status)}}),a.status;case 8:return t.abrupt("return",a.json());case 9:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}())},{key:"parse",value:function(t){return t.data.map(this.parseMerchant)}},{key:"getMerchantAndState",value:function(t){var e=t.url,n=t.id,r=e?this.getByUrl(e):this.getById(n),a=r&&this.states.find((function(t){return t.id===r.id}));return{merchant:r,state:a}}},{key:"getById",value:function(t){var e;return null===(e=this.data)||void 0===e?void 0:e.find((function(e){return e.id===t}))}},{key:"getByUrl",value:function(t){var e;return null===(e=this.data)||void 0===e?void 0:e.find((function(e){var n=e.pattern;try{return n&&new RegExp(n).test(t)}catch(t){return!1}}))}}]);var n,r,s}(x.b)},91:function(t,e,n){"use strict";n.d(e,"a",(function(){return L}));var r=n(2),a=n.n(r),s=n(10),i=n.n(s),c=n(11),o=n.n(c),u=n(13),l=n.n(u),h=n(7),f=n.n(h),d=n(46),p=n.n(d),w=n(14),m=n.n(w),v=n(37),g=n.n(v),y=n(0),b=n.n(y),x=n(1),M=n(4),k=n(6);function j(t,e,n){return e=f()(e),l()(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],f()(t).constructor):e.apply(t,n))}function A(t,e,n,r){var a=p()(f()(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof a?function(t){return a.apply(n,t)}:a}var L=function(t){function e(t){var n,r=t.sendAnalytics,a=t.logout,s=t.setLocale,c=t.settings;return i()(this,e),(n=j(this,e,[{name:"user",url:M.b.USER_URL,updateDelay:216e5,errorDelay:432e5}])).sendAnalytics=r,n.logout=a,n.setLocale=s,n.settings=c,n}return m()(e,t),o()(e,[{key:"fetch",value:function(t){function e(e,n){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){var t=a()(b.a.mark((function t(e,n){var r,a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n?g()(this.options,n):this.options,t.next=3,fetch(e||this.url,r);case 3:if((a=t.sent).ok){t.next=8;break}throw 401===a.status&&this.logout(),this.sendAnalytics({data:{ec:"Error",ea:"API fetch error",el:"".concat(M.b.USER_URL,". Code: ").concat(a.status)}}),a.status;case 8:return t.abrupt("return",a.json());case 9:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}())},{key:"update",value:(n=a()(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A(e,"update",this,3)([n]);case 2:this.data&&!this.settings.data.isLocaleChanged&&this.setLocale({data:{locale:this.data.locale},force:!0});case 3:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"parse",value:function(t){var e=t.data.attributes;e||this.sendAnalytics({data:{ec:"Error",ea:"Data not found",el:"".concat(M.b.USER_URL,". Data: ").concat(e)}});var n=Object(k.d)(e.custom_icons)?M.d:e.custom_icons;return{locale:Object(k.c)(e.locale),availableLocales:e.available_locales,userName:e.first_name,referralDomain:e.site_domain,referralName:e.site_name,cashbackTotal:e.total_in_piggybank,cashbackPending:e.total_pending,customColor:e.custom_color||"#f9b033",customIcon:n.background,serpIcon:n.status_on,animIcon:n}}}]);var n}(x.e)},92:function(t,e,n){"use strict";n.d(e,"a",(function(){return y}));var r=n(2),a=n.n(r),s=n(10),i=n.n(s),c=n(11),o=n.n(c),u=n(13),l=n.n(u),h=n(7),f=n.n(h),d=n(14),p=n.n(d),w=n(0),m=n.n(w),v=n(1);function g(t,e,n){return e=f()(e),l()(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],f()(t).constructor):e.apply(t,n))}var y=function(t){function e(){return i()(this,e),g(this,e,arguments)}return p()(e,t),o()(e,[{key:"check",value:function(t){this.checkActivation(t),this.checkSuppression(t)}},{key:"checkActivationByActivationUrl",value:function(t){var e=t.url,n=t.tabId;return!!this.merchants.getByActivationUrl(e)&&(this.setActivation({url:e,tabId:n}),!0)}},{key:"checkMerchantStatus",value:(s=a()(m.a.mark((function t(e){var n,r,a,s,i,c,o,u,l,h,f,d,p,w;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.url,r=e.tabId,a=36e5,s=18e5,i=Date.now(),t.next=6,Object(v.h)("resetTimers");case 6:if(c=t.sent,o=c.resetTimers,u=void 0===o?{}:o,l=this.merchants.getMerchantAndState({url:n}),h=l.merchant,f=l.state,h){t.next=12;break}return t.abrupt("return",!1);case 12:if(u[h.id]&&i-u[h.id]>s&&(this.merchants.setState({id:h.id,data:{activated:!1,showNotification:!0}}),delete u[h.id],Object(v.l)({resetTimers:u})),d=this.findActivation(r),(p=this.findSuppression(r))||d){t.next=18;break}return f.suppressed&&f.suppressionTimer&&i-f.suppressionTimer>a&&this.merchants.setState({id:h.id,data:{suppressed:!1,suppressionTimer:null,showNotification:!0}}),t.abrupt("return",!1);case 18:return d&&(u[h.id]=Date.now(),Object(v.l)({resetTimers:u})),w={suppressed:!!p&&!d,suppressionTimer:p?i:null,activated:!!d,showNotification:!(p&&!d)},this.merchants.setState({id:h.id,data:w,tabId:r}),p&&(clearTimeout(p.timer),this.suppressions=this.suppressions.filter((function(t){return t.tabId!==r}))),t.abrupt("return",!0);case 23:case"end":return t.stop()}}),t,this)}))),function(t){return s.apply(this,arguments)})},{key:"checkDeeplink",value:(r=a()(m.a.mark((function t(e){var n,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.url,r=e.tabId,this.findActivation(r)){t.next=4;break}return t.abrupt("return",!1);case 4:if(this.merchants.getMerchantAndState({url:n}).merchant){t.next=7;break}return t.abrupt("return",!1);case 7:return this.activations=this.activations.filter((function(t){return t.tabId!==r})),t.abrupt("return",!0);case 9:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"activate",value:(n=a()(m.a.mark((function t(e){var n,r,a,s,i,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.data,t.next=3,Object(v.f)();case 3:return r=t.sent,a=n.activationUrl,s=n.deeplink,t.next=7,Object(v.m)(r.id,{url:a});case 7:return i=t.sent,c=i.id,this.setActivation({tabId:c,deeplink:s}),t.abrupt("return",!0);case 11:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"findActivation",value:function(t){return this.activations.find((function(e){return e.tabId===t}))}},{key:"findSuppression",value:function(t){return this.suppressions.find((function(e){return e.tabId===t}))}}]);var n,r,s}(v.d)},93:function(t,e,n){"use strict";n.d(e,"a",(function(){return w}));var r=n(2),a=n.n(r),s=n(10),i=n.n(s),c=n(11),o=n.n(c),u=n(9),l=n.n(u),h=n(0),f=n.n(h),d=n(1),p=n(6),w=function(){return o()((function t(){var e,n=this;i()(this,t),l()(this,"getSettings",a()(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.isReady){t.next=2;break}return t.abrupt("return",n.data);case 2:return t.next=4,n.init();case 4:return t.abrupt("return",n.data);case 5:case"end":return t.stop()}}),t)})))),l()(this,"setSettings",function(){var t=a()(f.a.mark((function t(e){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Object.assign(n.data,e),t.next=3,Object(d.l)({settings:n.data});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.isChrome="chrome"===Object(p.a)();var r=Object(p.c)(null===(e=chrome)||void 0===e||null===(e=e.i18n)||void 0===e?void 0:e.getUILanguage());this.data={locale:r,showGuide:!0,isAnalyticsEnabled:this.isChrome,analyticsClientId:null,isNotificationEnabled:!0,showGa:!this.isChrome,token:null,isLocaleChanged:!1},this.isReady=!1,this.init()}),[{key:"init",value:(t=a()(f.a.mark((function t(){var e,n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(d.h)("settings");case 2:e=t.sent,n=e.settings,Object.assign(this.data,n),this.isReady=!0;case 6:case"end":return t.stop()}}),t,this)}))),function(){return t.apply(this,arguments)})}]);var t}()},94:function(t,e,n){"use strict";n.d(e,"a",(function(){return x}));var r=n(2),a=n.n(r),s=n(10),i=n.n(s),c=n(11),o=n.n(c),u=n(13),l=n.n(u),h=n(7),f=n.n(h),d=n(14),p=n.n(d),w=n(0),m=n.n(w),v=n(1),g=n(4),y=n(6);function b(t,e,n){return e=f()(e),l()(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],f()(t).constructor):e.apply(t,n))}var x=function(t){function e(t){var n,r=t.getSettings,a=t.setSettings;return i()(this,e),(n=b(this,e,[{}])).getSettings=r,n.setSettings=a,n.isReady=!1,n.init(),n}return p()(e,t),o()(e,[{key:"init",value:(n=a()(m.a.mark((function t(){var e,n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getSettings();case 2:if(e=t.sent,n=e.analyticsClientId){t.next=8;break}return n=Object(y.f)(),t.next=8,this.setSettings({analyticsClientId:n});case 8:Object.assign(this.data,{tid:g.f,cid:n,ev:1}),this.isReady=!0;case 10:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})}]);var n}(v.a)},95:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r=n(2),a=n.n(r),s=n(10),i=n.n(s),c=n(11),o=n.n(c),u=n(0),l=n.n(u),h=n(4),f=function(){return o()((function t(){i()(this,t),this.currentFrame=0,this.timer=null,this.tabId=null,this.type="transparent",this.fps=10,this.color="gray",this.frames={},this.times=2,this.timesShown=0,this.framesUrlsDefault={main:["icon-32.png"],success:Array.from(Array(12),(function(t,e){return"icons/".concat(e+1,".png")})),fail:Array.from(Array(12),(function(t,e){return"icons/".concat(e+1,".png")}))},this.framesUrls=this.framesUrlsDefault,this.loadImages()}),[{key:"setBadge",value:function(t){h.c.setBadgeText({text:"".concat(t)})}},{key:"setIcon",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;h.c.setIcon({path:"".concat(chrome.runtime.getURL(this.framesUrlsDefault[t][e])),tabId:n})}},{key:"start",value:function(t,e){this.stop().animate(t,e)}},{key:"end",value:function(t,e){this.setIcon(t,this.framesUrlsDefault[t].length-1,e)}},{key:"stop",value:function(){return clearTimeout(this.timer),this.timesShown=0,this.currentFrame=0,this}},{key:"animate",value:function(t,e){var n=this;clearTimeout(this.timer);var r=this.framesUrlsDefault[t].length-1;if(this.currentFrame<=r)this.setIcon(t,this.currentFrame,e),this.currentFrame+=1,this.timer=setTimeout((function(){return n.animate(t,e)}),1e3/this.fps);else if(this.timesShown<this.times){if(this.timesShown+=1,this.currentFrame=0,this.timesShown>=this.times)return;this.timer=setTimeout((function(){return n.animate(t,e)}),1e3/this.fps)}else this.stop()}},{key:"loadImageAsDataURL",value:function(t){var e=this;return fetch(t).then((function(t){return t.blob()})).then((function(t){return new Promise((function(n){var r=new Image,a=new FileReader;r.onload=function(){return n(e.fillBackground(r))},a.onerror=function(){return n(null)},a.onloadend=function(){r.src=a.result},a.readAsDataURL(t)}))})).catch((function(){return null}))}},{key:"fillBackground",value:function(t){var e=document.createElement("canvas");e.width=t.width,e.height=t.height;var n=e.getContext("2d");return n.fillStyle=this.color,n.fillRect(0,0,e.width,e.height),n.drawImage(t,0,0),e.toDataURL()}},{key:"loadImages",value:(t=a()(l.a.mark((function t(){var e,n=this;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Object.keys(this.framesUrls),t.abrupt("return",Promise.all(e.map(function(){var t=a()(l.a.mark((function t(e){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(n.framesUrls[e].map(function(){var t=a()(l.a.mark((function t(e){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n.loadImageAsDataURL(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 2:return n.frames[e]=t.sent,n.frames[e]=n.frames[e].filter((function(t){return t})),t.abrupt("return",n.frames[e]);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())));case 2:case"end":return t.stop()}}),t,this)}))),function(){return t.apply(this,arguments)})}]);var t}()},98:function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"default",(function(){return N}));var r=n(9),a=n.n(r),s=n(2),i=n.n(s),c=n(10),o=n.n(c),u=n(11),l=n.n(u),h=n(13),f=n.n(h),d=n(7),p=n.n(d),w=n(14),m=n.n(w),v=n(0),g=n.n(v),y=n(1),b=n(4),x=n(90),M=n(91),k=n(92),j=n(93),A=n(94),L=n(95),S=n(6);function I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function D(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?I(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function O(t,e,n){return e=p()(e),f()(t,function(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function(){return!!t}()}()?Reflect.construct(e,n||[],p()(t).constructor):e.apply(t,n))}var N=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o()(this,e),(t=O(this,e,[n])).offersDiscription={},t.icon=new L.a,t.settings=new j.a,t.user=new M.a({sendAnalytics:t.sendAnalytics.bind(t),logout:t.logOut.bind(t),setLocale:t.setLocale.bind(t),settings:t.settings}),t.merchants=new x.a({settings:t.settings,sendAnalytics:t.sendAnalytics.bind(t),logout:t.logOut.bind(t)}),t.analytics=new A.a({getSettings:t.settings.getSettings,setSettings:t.settings.setSettings}),t.setMessagesListener(),t.setEventListeners(),t.getUserInfo(),t}return m()(e,t),l()(e,[{key:"getUserInfo",value:(C=i()(g.a.mark((function t(){var e,n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.settings.getSettings();case 2:if(this.settings.data.token){t.next=5;break}return this.resetImage(),t.abrupt("return");case 5:return e={headers:{Authorization:"Token token=".concat(this.settings.data.token)}},n={headers:{Authorization:"Token token=".concat(this.settings.data.token),"content-type":"application/json;charset=UTF-8","Accept-Language":this.settings.data.locale}},this.merchants.options=n,this.user.options=e,t.next=11,this.user.update();case 11:return chrome.runtime.setUninstallURL("https://".concat(this.user.data.referralDomain,"/ib-browext-logout")),this.setImage(),t.next=15,this.merchants.update();case 15:case"end":return t.stop()}}),t,this)}))),function(){return C.apply(this,arguments)})},{key:"login",value:(N=i()(g.a.mark((function t(e){var n,r,a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.data,r=e.sendResponse,t.next=3,this.settings.getSettings();case 3:if(!this.user.data){t.next=7;break}if((null==n?void 0:n.token)!==this.settings.data.token){t.next=6;break}return t.abrupt("return");case 6:this.user.logout();case 7:return this.sendAnalytics({data:{ec:"Extension",ea:"Login",el:"User logs in"}}),this.settings.data.showGuide=!1,t.next=11,this.settings.setSettings({token:n.token});case 11:return a={headers:{Authorization:"Token token=".concat(this.settings.data.token),"content-type":"application/json;charset=UTF-8","Accept-Language":this.settings.data.locale}},this.merchants.options=a,this.user.options=a,t.prev=14,t.next=17,this.user.update(!0);case 17:return chrome.runtime.setUninstallURL("https://".concat(this.user.data.referralDomain,"/ib-browext-logout")),this.setImage(),this.updateUserinfo(),t.next=22,this.merchants.update(!0);case 22:t.next=31;break;case 24:return t.prev=24,t.t0=t.catch(14),console.error(t.t0),t.next=29,Object(y.i)({});case 29:t.sent.forEach((function(t){var e=t.id;t.url.includes("/ib-browext-activate")&&Object(y.j)(e,{action:"setError"})}));case 31:r(!0);case 32:case"end":return t.stop()}}),t,this,[[14,24]])}))),function(t){return N.apply(this,arguments)})},{key:"logOut",value:(I=i()(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.user.data){t.next=2;break}return t.abrupt("return");case 2:this.sendAnalytics({data:{ec:"Extension",ea:"Logout",el:"User logs out"}}),this.settings.data.showGuide=!0,this.settings.setSettings({token:void 0}),clearInterval(this.user.updateInterval),clearInterval(this.merchants.updateInterval),this.user.data=null,this.merchants.data=null,this.merchants.refreshStates(),this.resetImage(),this.updateUserinfo();case 12:case"end":return t.stop()}}),t,this)}))),function(){return I.apply(this,arguments)})},{key:"updateUserinfo",value:(k=i()(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(y.i)({});case 2:t.sent.forEach((function(t){var e=t.id;t.url.includes("/settings.html")&&Object(y.j)(e,{action:"updateUserinfo"})}));case 4:case"end":return t.stop()}}),t)}))),function(){return k.apply(this,arguments)})},{key:"setLocale",value:(v=i()(g.a.mark((function t(e){var n,r,a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.data,r=e.force,t.next=3,this.settings.getSettings();case 3:if(r||this.settings.setSettings({isLocaleChanged:!0}),(a=n.locale)===this.settings.data.locale){t.next=14;break}return this.offersDiscription={},this.merchants.options.headers["Accept-Language"]=a,this.merchants.update(!0),this.settings.setSettings({locale:a}),t.next=12,Object(y.i)({});case 12:t.sent.forEach((function(t){var e=t.id;Object(y.j)(e,{action:"updateContentLocale",data:n})}));case 14:case"end":return t.stop()}}),t,this)}))),function(t){return v.apply(this,arguments)})},{key:"resetImage",value:(w=i()(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.icon.color="gray",this.icon.framesUrls=this.icon.framesUrlsDefault,t.next=4,this.icon.loadImages();case 4:this.updateIcon();case 5:case"end":return t.stop()}}),t,this)}))),function(){return w.apply(this,arguments)})},{key:"setImage",value:(p=i()(g.a.mark((function t(){var e;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((e=this.user.data).animIcon.status_animated){t.next=3;break}return t.abrupt("return");case 3:return this.icon.color=e.customColor,this.icon.framesUrls={main:[e.animIcon.status_on],success:e.animIcon.status_animated,fail:e.animIcon.status_animated},t.next=7,this.icon.loadImages();case 7:this.updateIcon();case 8:case"end":return t.stop()}}),t,this)}))),function(){return p.apply(this,arguments)})},{key:"updateIcon",value:(d=i()(g.a.mark((function t(){var e,n,r=this;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(y.i)({});case 2:return e=t.sent,t.next=5,Object(y.g)();case 5:n=t.sent,e.forEach((function(t){var e=t.url,a=t.id,s=t.active,i=t.windowId,c=r.merchants.getMerchantAndState({url:e}),o=c.merchant,u=c.state,l="main";o&&u&&!u.suppressed&&(l=u.activated?"success":"fail");var h=s&&i===n.id?"start":"end";r.icon[h](l,a)}));case 7:case"end":return t.stop()}}),t)}))),function(){return d.apply(this,arguments)})},{key:"getHtmlContent",value:(f=i()(g.a.mark((function t(e){var n,r,a,s,i,c,o,u;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.data,a=e.sendResponse,s=r.mid,i={headers:{Authorization:"Token token=".concat(this.settings.data.token),"Accept-Language":this.settings.data.locale}},!((null===(n=this.offersDiscription[s])||void 0===n?void 0:n.date)>new Date)){t.next=6;break}return a(this.offersDiscription[s].html),t.abrupt("return");case 6:return t.prev=6,t.next=9,fetch(b.b.MERCHANT_CONTENT_URL+s,i);case 9:if(401!==(c=t.sent).status){t.next=14;break}return this.logOut(),a(null),t.abrupt("return");case 14:return t.next=16,c.json();case 16:o=t.sent,u=o.data.attributes.content,this.offersDiscription[s]={html:u,date:Date.now()+144e5},a(u),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(6),a(null);case 25:case"end":return t.stop()}}),t,this,[[6,22]])}))),function(t){return f.apply(this,arguments)})},{key:"setEventListeners",value:function(){var t=this;chrome.tabs.onUpdated.addListener((function(e,n,r){var a=r.url;"loading"===n.status?(t.check({url:a,tabId:e}),t.checkMerchantStatus({url:a,tabId:e})):"complete"===n.status&&t.checkDeeplink({url:a,tabId:e}),t.updateIcon()})),chrome.webRequest.onBeforeRequest.addListener((function(e){0===e.frameId&&t.check(e)}),{urls:["<all_urls>"]}),chrome.tabs.onActivated.addListener((function(){t.updateIcon()}))}},{key:"setMessagesListener",value:function(){var t=this;chrome.runtime.onInstalled.addListener(function(){var e=i()(g.a.mark((function e(n){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.reason,t.analytics.isReady){e.next=4;break}return e.next=4,t.analytics.init();case 4:"install"===r&&(t.settings.isChrome||chrome.runtime.openOptionsPage(),t.sendAnalytics({data:{ec:"Extension",ea:"Install",el:"Extension installed"}}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),chrome.runtime.onMessage.addListener((function(e,n,r){var a=e.module,s=e.action,i=e.data,c=a?t[a]:t;return c&&"function"==typeof c[s]?c[s].call(c,{data:i,sender:n,sendResponse:r}):r(null),!0}))}},{key:"hideGaPopup",value:(h=i()(g.a.mark((function t(e){var n,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.data,r=e.sendResponse,this.settings.setSettings({showGa:!1}),t.next=4,this.toggleAnalytics({data:n});case 4:this.settings.data.isAnalyticsEnabled&&this.sendAnalytics({data:{ec:"Extension",ea:"Install"}}),r(!0);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return h.apply(this,arguments)})},{key:"getLocale",value:function(t){(0,t.sendResponse)(this.settings.data.locale)}},{key:"initPopupUser",value:function(t){var e=t.sendResponse,n=this.settings.data.isAnalyticsEnabled,r=this.settings.data.showGa,a=this.user.data;e({isLogged:!!a,analyticsEnabled:n,showGa:r,user:a})}},{key:"initPopupMerchant",value:(u=i()(g.a.mark((function t(e){var n,r,a,s,i;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.sendResponse,this.user.data){t.next=4;break}return n({}),t.abrupt("return");case 4:return t.next=6,this.merchants.update();case 6:return r=this.merchants.data||[],a=r.sort((function(t,e){return t.position-e.position})).slice(0,20),s=r.filter((function(t){return t.favourite})),t.next=11,this.getCurrentMerchant();case 11:i=t.sent,n({merchants:r,merchant:i,topMerchants:a,favorites:s});case 13:case"end":return t.stop()}}),t,this)}))),function(t){return u.apply(this,arguments)})},{key:"initContent",value:(c=i()(g.a.mark((function t(e){var n,r,a,s,i,c,o,u,l;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.sender,r=e.sendResponse,a=this.user.data,s=this.settings.data.locale,!Object(S.d)(a)){t.next=6;break}return r({showGuide:this.settings.data.showGuide,locale:s}),t.abrupt("return");case 6:i=n.url,c=this.merchants.getMerchantAndState({url:i}),o=c.merchant,u=c.state,l={user:a,locale:s,merchant:o?D(D({},u),o):{},isLogged:!0},r(l);case 10:case"end":return t.stop()}}),t,this)}))),function(t){return c.apply(this,arguments)})},{key:"getCurrentMerchant",value:(s=i()(g.a.mark((function t(){var e,n,r,a,s,i;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(S.b)();case 2:if(e=t.sent,n=e.url,r=void 0===n?null:n,a=this.merchants.getMerchantAndState({url:r}),s=a.merchant,i=a.state,s){t.next=8;break}return t.abrupt("return",{});case 8:return t.abrupt("return",D(D({},s),i));case 9:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"getMerchant",value:function(t){var e=t.data;(0,t.sendResponse)(this.merchants.getByUrl(e.url))}},{key:"hideGuide",value:function(){this.settings.data.showGuide=!1,this.settings.setSettings({})}},{key:"getCustomSerp",value:(a=i()(g.a.mark((function t(e){var n,r,a,s,i=this;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.sender,r=e.sendResponse,a=n.url,this.user.data){t.next=5;break}return r(null),t.abrupt("return");case 5:if(a.includes("yahoo.com")){t.next=8;break}return r(JSON.parse(JSON.stringify(this.user.data))),t.abrupt("return");case 8:return t.next=10,new Promise((function(t){var e;fetch(null===(e=i.user.data)||void 0===e?void 0:e.serpIcon).then((function(t){return t.blob()})).then((function(e){var n=new FileReader;n.onload=function(){t(this.result)},n.readAsDataURL(e),setTimeout((function(){var e;t(null===(e=i.user.data)||void 0===e?void 0:e.serpIcon)}),1e3)}))}));case 10:s=t.sent,r(D(D({},this.user.data),{},{serpIcon:s}));case 12:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)})},{key:"getVersion",value:function(t){(0,t.sendResponse)(chrome.runtime.getManifest().version)}},{key:"toggleAnalytics",value:(r=i()(g.a.mark((function t(e){var n,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.data,r=n.enabled,t.next=4,this.settings.setSettings({isAnalyticsEnabled:r});case 4:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"sendAnalytics",value:function(t){var e=t.data,n=t.sendResponse;this.settings.data.isAnalyticsEnabled&&this.analytics.send(e),n&&n(!0)}},{key:"isActiveTab",value:(n=i()(g.a.mark((function t(e){var n,r,a,s,i;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.sendResponse,r=e.sender,t.next=3,Object(y.f)();case 3:a=t.sent,s=a.id,i=r.tab.id,n(s===i);case 7:case"end":return t.stop()}}),t)}))),function(t){return n.apply(this,arguments)})},{key:"updateMerchantState",value:function(t){var e=t.data,n=t.sender;this.merchants.setState({url:n.url,id:e.id,data:e.state})}}]);var n,r,a,s,c,u,h,f,d,p,w,v,k,I,N,C}(k.a);t.app=new N({activationPatterns:b.a,suppressionPatterns:b.j})}.call(this,n(12))}});
(()=>{var e={60:e=>{var n=Array.prototype.slice;function t(e){var t=this,o=n.call(arguments,1);return new Promise((function(n,i){if("function"==typeof e&&(e=e.apply(t,o)),!e||"function"!=typeof e.next)return n(e);function a(n){var t;try{t=e.next(n)}catch(e){return i(e)}l(t)}function u(n){var t;try{t=e.throw(n)}catch(e){return i(e)}l(t)}function l(e){if(e.done)return n(e.value);var o=r.call(t,e.value);return o&&s(o)?o.then(a,u):u(new TypeError('You may only yield a function, promise, generator, array, or object, but the following object was passed: "'+String(e.value)+'"'))}a()}))}function r(e){return e?s(e)?e:function(e){var n=e.constructor;return!!n&&("GeneratorFunction"===n.name||"GeneratorFunction"===n.displayName||u(n.prototype))}(e)||u(e)?t.call(this,e):"function"==typeof e?o.call(this,e):Array.isArray(e)?i.call(this,e):function(e){return Object==e.constructor}(e)?a.call(this,e):e:e}function o(e){var t=this;return new Promise((function(r,o){e.call(t,(function(e,t){if(e)return o(e);arguments.length>2&&(t=n.call(arguments,1)),r(t)}))}))}function i(e){return Promise.all(e.map(r,this))}function a(e){for(var n=new e.constructor,t=Object.keys(e),o=[],i=0;i<t.length;i++){var a=t[i],u=r.call(this,e[a]);u&&s(u)?l(u,a):n[a]=e[a]}return Promise.all(o).then((function(){return n}));function l(e,t){n[t]=void 0,o.push(e.then((function(e){n[t]=e})))}}function s(e){return"function"==typeof e.then}function u(e){return"function"==typeof e.next&&"function"==typeof e.throw}e.exports=t.default=t.co=t,t.wrap=function(e){return n.__generatorFunction__=e,n;function n(){return t.call(this,e.apply(this,arguments))}}},636:(e,n,t)=>{"use strict";t.r(n),t.d(n,{VERSION:()=>o,after:()=>kn,all:()=>nt,allKeys:()=>he,any:()=>tt,assign:()=>Te,before:()=>$n,bind:()=>Nn,bindAll:()=>jn,chain:()=>wn,chunk:()=>Bt,clone:()=>Be,collect:()=>Qn,compact:()=>It,compose:()=>Tn,constant:()=>Y,contains:()=>rt,countBy:()=>mt,create:()=>De,debounce:()=>On,default:()=>Ut,defaults:()=>ke,defer:()=>Rn,delay:()=>_n,detect:()=>zn,difference:()=>Rt,drop:()=>Et,each:()=>Gn,escape:()=>sn,every:()=>nt,extend:()=>Me,extendOwn:()=>Te,filter:()=>Zn,find:()=>zn,findIndex:()=>Ln,findKey:()=>Bn,findLastIndex:()=>qn,findWhere:()=>Xn,first:()=>St,flatten:()=>_t,foldl:()=>Jn,foldr:()=>Yn,forEach:()=>Gn,functions:()=>Oe,get:()=>Ue,groupBy:()=>pt,has:()=>We,head:()=>St,identity:()=>He,include:()=>rt,includes:()=>rt,indexBy:()=>gt,indexOf:()=>Wn,initial:()=>Nt,inject:()=>Jn,intersection:()=>Mt,invert:()=>Pe,invoke:()=>ot,isArguments:()=>Q,isArray:()=>z,isArrayBuffer:()=>D,isBoolean:()=>_,isDataView:()=>H,isDate:()=>M,isElement:()=>R,isEmpty:()=>ue,isEqual:()=>me,isError:()=>k,isFinite:()=>K,isFunction:()=>L,isMap:()=>Se,isMatch:()=>le,isNaN:()=>J,isNull:()=>j,isNumber:()=>C,isObject:()=>E,isRegExp:()=>T,isSet:()=>je,isString:()=>O,isSymbol:()=>$,isTypedArray:()=>oe,isUndefined:()=>I,isWeakMap:()=>Ee,isWeakSet:()=>Ie,iteratee:()=>Ke,keys:()=>se,last:()=>jt,lastIndexOf:()=>Hn,map:()=>Qn,mapObject:()=>Ye,matcher:()=>ze,matches:()=>ze,max:()=>st,memoize:()=>In,methods:()=>Oe,min:()=>ut,mixin:()=>Lt,negate:()=>Mn,noop:()=>Ze,now:()=>rn,object:()=>$t,omit:()=>At,once:()=>Dn,pairs:()=>Re,partial:()=>An,partition:()=>ht,pick:()=>xt,pluck:()=>it,property:()=>Xe,propertyOf:()=>en,random:()=>tn,range:()=>Dt,reduce:()=>Jn,reduceRight:()=>Yn,reject:()=>et,rest:()=>Et,restArguments:()=>S,result:()=>hn,sample:()=>lt,select:()=>Zn,shuffle:()=>ct,size:()=>wt,some:()=>tt,sortBy:()=>ft,sortedIndex:()=>Vn,tail:()=>Et,take:()=>St,tap:()=>Fe,template:()=>mn,templateSettings:()=>ln,throttle:()=>Pn,times:()=>nn,toArray:()=>yt,toPath:()=>Le,transpose:()=>Tt,unescape:()=>un,union:()=>Ct,uniq:()=>Ot,unique:()=>Ot,uniqueId:()=>yn,unzip:()=>Tt,values:()=>_e,where:()=>at,without:()=>Pt,wrap:()=>Cn,zip:()=>kt});var r={};t.r(r),t.d(r,{VERSION:()=>o,after:()=>kn,all:()=>nt,allKeys:()=>he,any:()=>tt,assign:()=>Te,before:()=>$n,bind:()=>Nn,bindAll:()=>jn,chain:()=>wn,chunk:()=>Bt,clone:()=>Be,collect:()=>Qn,compact:()=>It,compose:()=>Tn,constant:()=>Y,contains:()=>rt,countBy:()=>mt,create:()=>De,debounce:()=>On,default:()=>qt,defaults:()=>ke,defer:()=>Rn,delay:()=>_n,detect:()=>zn,difference:()=>Rt,drop:()=>Et,each:()=>Gn,escape:()=>sn,every:()=>nt,extend:()=>Me,extendOwn:()=>Te,filter:()=>Zn,find:()=>zn,findIndex:()=>Ln,findKey:()=>Bn,findLastIndex:()=>qn,findWhere:()=>Xn,first:()=>St,flatten:()=>_t,foldl:()=>Jn,foldr:()=>Yn,forEach:()=>Gn,functions:()=>Oe,get:()=>Ue,groupBy:()=>pt,has:()=>We,head:()=>St,identity:()=>He,include:()=>rt,includes:()=>rt,indexBy:()=>gt,indexOf:()=>Wn,initial:()=>Nt,inject:()=>Jn,intersection:()=>Mt,invert:()=>Pe,invoke:()=>ot,isArguments:()=>Q,isArray:()=>z,isArrayBuffer:()=>D,isBoolean:()=>_,isDataView:()=>H,isDate:()=>M,isElement:()=>R,isEmpty:()=>ue,isEqual:()=>me,isError:()=>k,isFinite:()=>K,isFunction:()=>L,isMap:()=>Se,isMatch:()=>le,isNaN:()=>J,isNull:()=>j,isNumber:()=>C,isObject:()=>E,isRegExp:()=>T,isSet:()=>je,isString:()=>O,isSymbol:()=>$,isTypedArray:()=>oe,isUndefined:()=>I,isWeakMap:()=>Ee,isWeakSet:()=>Ie,iteratee:()=>Ke,keys:()=>se,last:()=>jt,lastIndexOf:()=>Hn,map:()=>Qn,mapObject:()=>Ye,matcher:()=>ze,matches:()=>ze,max:()=>st,memoize:()=>In,methods:()=>Oe,min:()=>ut,mixin:()=>Lt,negate:()=>Mn,noop:()=>Ze,now:()=>rn,object:()=>$t,omit:()=>At,once:()=>Dn,pairs:()=>Re,partial:()=>An,partition:()=>ht,pick:()=>xt,pluck:()=>it,property:()=>Xe,propertyOf:()=>en,random:()=>tn,range:()=>Dt,reduce:()=>Jn,reduceRight:()=>Yn,reject:()=>et,rest:()=>Et,restArguments:()=>S,result:()=>hn,sample:()=>lt,select:()=>Zn,shuffle:()=>ct,size:()=>wt,some:()=>tt,sortBy:()=>ft,sortedIndex:()=>Vn,tail:()=>Et,take:()=>St,tap:()=>Fe,template:()=>mn,templateSettings:()=>ln,throttle:()=>Pn,times:()=>nn,toArray:()=>yt,toPath:()=>Le,transpose:()=>Tt,unescape:()=>un,union:()=>Ct,uniq:()=>Ot,unique:()=>Ot,uniqueId:()=>yn,unzip:()=>Tt,values:()=>_e,where:()=>at,without:()=>Pt,wrap:()=>Cn,zip:()=>kt});var o="1.13.1",i="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},a=Array.prototype,s=Object.prototype,u="undefined"!=typeof Symbol?Symbol.prototype:null,l=a.push,c=a.slice,f=s.toString,d=s.hasOwnProperty,p="undefined"!=typeof ArrayBuffer,g="undefined"!=typeof DataView,m=Array.isArray,h=Object.keys,v=Object.create,y=p&&ArrayBuffer.isView,w=isNaN,b=isFinite,x=!{toString:null}.propertyIsEnumerable("toString"),A=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],N=Math.pow(2,53)-1;function S(e,n){return n=null==n?e.length-1:+n,function(){for(var t=Math.max(arguments.length-n,0),r=Array(t),o=0;o<t;o++)r[o]=arguments[o+n];switch(n){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r);case 2:return e.call(this,arguments[0],arguments[1],r)}var i=Array(n+1);for(o=0;o<n;o++)i[o]=arguments[o];return i[n]=r,e.apply(this,i)}}function E(e){var n=typeof e;return"function"===n||"object"===n&&!!e}function j(e){return null===e}function I(e){return void 0===e}function _(e){return!0===e||!1===e||"[object Boolean]"===f.call(e)}function R(e){return!(!e||1!==e.nodeType)}function P(e){var n="[object "+e+"]";return function(e){return f.call(e)===n}}const O=P("String"),C=P("Number"),M=P("Date"),T=P("RegExp"),k=P("Error"),$=P("Symbol"),D=P("ArrayBuffer");var B=P("Function"),F=i.document&&i.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof F&&(B=function(e){return"function"==typeof e||!1});const L=B,q=P("Object");var V=g&&q(new DataView(new ArrayBuffer(8))),U="undefined"!=typeof Map&&q(new Map),W=P("DataView");const H=V?function(e){return null!=e&&L(e.getInt8)&&D(e.buffer)}:W,z=m||P("Array");function X(e,n){return null!=e&&d.call(e,n)}var G=P("Arguments");!function(){G(arguments)||(G=function(e){return X(e,"callee")})}();const Q=G;function K(e){return!$(e)&&b(e)&&!isNaN(parseFloat(e))}function J(e){return C(e)&&w(e)}function Y(e){return function(){return e}}function Z(e){return function(n){var t=e(n);return"number"==typeof t&&t>=0&&t<=N}}function ee(e){return function(n){return null==n?void 0:n[e]}}const ne=ee("byteLength"),te=Z(ne);var re=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;const oe=p?function(e){return y?y(e)&&!H(e):te(e)&&re.test(f.call(e))}:Y(!1),ie=ee("length");function ae(e,n){n=function(e){for(var n={},t=e.length,r=0;r<t;++r)n[e[r]]=!0;return{contains:function(e){return n[e]},push:function(t){return n[t]=!0,e.push(t)}}}(n);var t=A.length,r=e.constructor,o=L(r)&&r.prototype||s,i="constructor";for(X(e,i)&&!n.contains(i)&&n.push(i);t--;)(i=A[t])in e&&e[i]!==o[i]&&!n.contains(i)&&n.push(i)}function se(e){if(!E(e))return[];if(h)return h(e);var n=[];for(var t in e)X(e,t)&&n.push(t);return x&&ae(e,n),n}function ue(e){if(null==e)return!0;var n=ie(e);return"number"==typeof n&&(z(e)||O(e)||Q(e))?0===n:0===ie(se(e))}function le(e,n){var t=se(n),r=t.length;if(null==e)return!r;for(var o=Object(e),i=0;i<r;i++){var a=t[i];if(n[a]!==o[a]||!(a in o))return!1}return!0}function ce(e){return e instanceof ce?e:this instanceof ce?void(this._wrapped=e):new ce(e)}function fe(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,ne(e))}ce.VERSION=o,ce.prototype.value=function(){return this._wrapped},ce.prototype.valueOf=ce.prototype.toJSON=ce.prototype.value,ce.prototype.toString=function(){return String(this._wrapped)};var de="[object DataView]";function pe(e,n,t,r){if(e===n)return 0!==e||1/e==1/n;if(null==e||null==n)return!1;if(e!=e)return n!=n;var o=typeof e;return("function"===o||"object"===o||"object"==typeof n)&&ge(e,n,t,r)}function ge(e,n,t,r){e instanceof ce&&(e=e._wrapped),n instanceof ce&&(n=n._wrapped);var o=f.call(e);if(o!==f.call(n))return!1;if(V&&"[object Object]"==o&&H(e)){if(!H(n))return!1;o=de}switch(o){case"[object RegExp]":case"[object String]":return""+e==""+n;case"[object Number]":return+e!=+e?+n!=+n:0==+e?1/+e==1/n:+e==+n;case"[object Date]":case"[object Boolean]":return+e==+n;case"[object Symbol]":return u.valueOf.call(e)===u.valueOf.call(n);case"[object ArrayBuffer]":case de:return ge(fe(e),fe(n),t,r)}var i="[object Array]"===o;if(!i&&oe(e)){if(ne(e)!==ne(n))return!1;if(e.buffer===n.buffer&&e.byteOffset===n.byteOffset)return!0;i=!0}if(!i){if("object"!=typeof e||"object"!=typeof n)return!1;var a=e.constructor,s=n.constructor;if(a!==s&&!(L(a)&&a instanceof a&&L(s)&&s instanceof s)&&"constructor"in e&&"constructor"in n)return!1}r=r||[];for(var l=(t=t||[]).length;l--;)if(t[l]===e)return r[l]===n;if(t.push(e),r.push(n),i){if((l=e.length)!==n.length)return!1;for(;l--;)if(!pe(e[l],n[l],t,r))return!1}else{var c,d=se(e);if(l=d.length,se(n).length!==l)return!1;for(;l--;)if(!X(n,c=d[l])||!pe(e[c],n[c],t,r))return!1}return t.pop(),r.pop(),!0}function me(e,n){return pe(e,n)}function he(e){if(!E(e))return[];var n=[];for(var t in e)n.push(t);return x&&ae(e,n),n}function ve(e){var n=ie(e);return function(t){if(null==t)return!1;var r=he(t);if(ie(r))return!1;for(var o=0;o<n;o++)if(!L(t[e[o]]))return!1;return e!==Ae||!L(t[ye])}}var ye="forEach",we=["clear","delete"],be=["get","has","set"],xe=we.concat(ye,be),Ae=we.concat(be),Ne=["add"].concat(we,ye,"has");const Se=U?ve(xe):P("Map"),Ee=U?ve(Ae):P("WeakMap"),je=U?ve(Ne):P("Set"),Ie=P("WeakSet");function _e(e){for(var n=se(e),t=n.length,r=Array(t),o=0;o<t;o++)r[o]=e[n[o]];return r}function Re(e){for(var n=se(e),t=n.length,r=Array(t),o=0;o<t;o++)r[o]=[n[o],e[n[o]]];return r}function Pe(e){for(var n={},t=se(e),r=0,o=t.length;r<o;r++)n[e[t[r]]]=t[r];return n}function Oe(e){var n=[];for(var t in e)L(e[t])&&n.push(t);return n.sort()}function Ce(e,n){return function(t){var r=arguments.length;if(n&&(t=Object(t)),r<2||null==t)return t;for(var o=1;o<r;o++)for(var i=arguments[o],a=e(i),s=a.length,u=0;u<s;u++){var l=a[u];n&&void 0!==t[l]||(t[l]=i[l])}return t}}const Me=Ce(he),Te=Ce(se),ke=Ce(he,!0);function $e(e){if(!E(e))return{};if(v)return v(e);var n=function(){};n.prototype=e;var t=new n;return n.prototype=null,t}function De(e,n){var t=$e(e);return n&&Te(t,n),t}function Be(e){return E(e)?z(e)?e.slice():Me({},e):e}function Fe(e,n){return n(e),e}function Le(e){return z(e)?e:[e]}function qe(e){return ce.toPath(e)}function Ve(e,n){for(var t=n.length,r=0;r<t;r++){if(null==e)return;e=e[n[r]]}return t?e:void 0}function Ue(e,n,t){var r=Ve(e,qe(n));return I(r)?t:r}function We(e,n){for(var t=(n=qe(n)).length,r=0;r<t;r++){var o=n[r];if(!X(e,o))return!1;e=e[o]}return!!t}function He(e){return e}function ze(e){return e=Te({},e),function(n){return le(n,e)}}function Xe(e){return e=qe(e),function(n){return Ve(n,e)}}function Ge(e,n,t){if(void 0===n)return e;switch(null==t?3:t){case 1:return function(t){return e.call(n,t)};case 3:return function(t,r,o){return e.call(n,t,r,o)};case 4:return function(t,r,o,i){return e.call(n,t,r,o,i)}}return function(){return e.apply(n,arguments)}}function Qe(e,n,t){return null==e?He:L(e)?Ge(e,n,t):E(e)&&!z(e)?ze(e):Xe(e)}function Ke(e,n){return Qe(e,n,Infinity)}function Je(e,n,t){return ce.iteratee!==Ke?ce.iteratee(e,n):Qe(e,n,t)}function Ye(e,n,t){n=Je(n,t);for(var r=se(e),o=r.length,i={},a=0;a<o;a++){var s=r[a];i[s]=n(e[s],s,e)}return i}function Ze(){}function en(e){return null==e?Ze:function(n){return Ue(e,n)}}function nn(e,n,t){var r=Array(Math.max(0,e));n=Ge(n,t,1);for(var o=0;o<e;o++)r[o]=n(o);return r}function tn(e,n){return null==n&&(n=e,e=0),e+Math.floor(Math.random()*(n-e+1))}ce.toPath=Le,ce.iteratee=Ke;const rn=Date.now||function(){return(new Date).getTime()};function on(e){var n=function(n){return e[n]},t="(?:"+se(e).join("|")+")",r=RegExp(t),o=RegExp(t,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(o,n):e}}const an={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},sn=on(an),un=on(Pe(an)),ln=ce.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var cn=/(.)^/,fn={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},dn=/\\|'|\r|\n|\u2028|\u2029/g;function pn(e){return"\\"+fn[e]}var gn=/^\s*(\w|\$)+\s*$/;function mn(e,n,t){!n&&t&&(n=t),n=ke({},n,ce.templateSettings);var r=RegExp([(n.escape||cn).source,(n.interpolate||cn).source,(n.evaluate||cn).source].join("|")+"|$","g"),o=0,i="__p+='";e.replace(r,(function(n,t,r,a,s){return i+=e.slice(o,s).replace(dn,pn),o=s+n.length,t?i+="'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'":r?i+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(i+="';\n"+a+"\n__p+='"),n})),i+="';\n";var a,s=n.variable;if(s){if(!gn.test(s))throw new Error("variable is not a bare identifier: "+s)}else i="with(obj||{}){\n"+i+"}\n",s="obj";i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{a=new Function(s,"_",i)}catch(e){throw e.source=i,e}var u=function(e){return a.call(this,e,ce)};return u.source="function("+s+"){\n"+i+"}",u}function hn(e,n,t){var r=(n=qe(n)).length;if(!r)return L(t)?t.call(e):t;for(var o=0;o<r;o++){var i=null==e?void 0:e[n[o]];void 0===i&&(i=t,o=r),e=L(i)?i.call(e):i}return e}var vn=0;function yn(e){var n=++vn+"";return e?e+n:n}function wn(e){var n=ce(e);return n._chain=!0,n}function bn(e,n,t,r,o){if(!(r instanceof n))return e.apply(t,o);var i=$e(e.prototype),a=e.apply(i,o);return E(a)?a:i}var xn=S((function(e,n){var t=xn.placeholder,r=function(){for(var o=0,i=n.length,a=Array(i),s=0;s<i;s++)a[s]=n[s]===t?arguments[o++]:n[s];for(;o<arguments.length;)a.push(arguments[o++]);return bn(e,r,this,this,a)};return r}));xn.placeholder=ce;const An=xn,Nn=S((function(e,n,t){if(!L(e))throw new TypeError("Bind must be called on a function");var r=S((function(o){return bn(e,r,n,this,t.concat(o))}));return r})),Sn=Z(ie);function En(e,n,t,r){if(r=r||[],n||0===n){if(n<=0)return r.concat(e)}else n=Infinity;for(var o=r.length,i=0,a=ie(e);i<a;i++){var s=e[i];if(Sn(s)&&(z(s)||Q(s)))if(n>1)En(s,n-1,t,r),o=r.length;else for(var u=0,l=s.length;u<l;)r[o++]=s[u++];else t||(r[o++]=s)}return r}const jn=S((function(e,n){var t=(n=En(n,!1,!1)).length;if(t<1)throw new Error("bindAll must be passed function names");for(;t--;){var r=n[t];e[r]=Nn(e[r],e)}return e}));function In(e,n){var t=function(r){var o=t.cache,i=""+(n?n.apply(this,arguments):r);return X(o,i)||(o[i]=e.apply(this,arguments)),o[i]};return t.cache={},t}const _n=S((function(e,n,t){return setTimeout((function(){return e.apply(null,t)}),n)})),Rn=An(_n,ce,1);function Pn(e,n,t){var r,o,i,a,s=0;t||(t={});var u=function(){s=!1===t.leading?0:rn(),r=null,a=e.apply(o,i),r||(o=i=null)},l=function(){var l=rn();s||!1!==t.leading||(s=l);var c=n-(l-s);return o=this,i=arguments,c<=0||c>n?(r&&(clearTimeout(r),r=null),s=l,a=e.apply(o,i),r||(o=i=null)):r||!1===t.trailing||(r=setTimeout(u,c)),a};return l.cancel=function(){clearTimeout(r),s=0,r=o=i=null},l}function On(e,n,t){var r,o,i,a,s,u=function(){var l=rn()-o;n>l?r=setTimeout(u,n-l):(r=null,t||(a=e.apply(s,i)),r||(i=s=null))},l=S((function(l){return s=this,i=l,o=rn(),r||(r=setTimeout(u,n),t&&(a=e.apply(s,i))),a}));return l.cancel=function(){clearTimeout(r),r=i=s=null},l}function Cn(e,n){return An(n,e)}function Mn(e){return function(){return!e.apply(this,arguments)}}function Tn(){var e=arguments,n=e.length-1;return function(){for(var t=n,r=e[n].apply(this,arguments);t--;)r=e[t].call(this,r);return r}}function kn(e,n){return function(){if(--e<1)return n.apply(this,arguments)}}function $n(e,n){var t;return function(){return--e>0&&(t=n.apply(this,arguments)),e<=1&&(n=null),t}}const Dn=An($n,2);function Bn(e,n,t){n=Je(n,t);for(var r,o=se(e),i=0,a=o.length;i<a;i++)if(n(e[r=o[i]],r,e))return r}function Fn(e){return function(n,t,r){t=Je(t,r);for(var o=ie(n),i=e>0?0:o-1;i>=0&&i<o;i+=e)if(t(n[i],i,n))return i;return-1}}const Ln=Fn(1),qn=Fn(-1);function Vn(e,n,t,r){for(var o=(t=Je(t,r,1))(n),i=0,a=ie(e);i<a;){var s=Math.floor((i+a)/2);t(e[s])<o?i=s+1:a=s}return i}function Un(e,n,t){return function(r,o,i){var a=0,s=ie(r);if("number"==typeof i)e>0?a=i>=0?i:Math.max(i+s,a):s=i>=0?Math.min(i+1,s):i+s+1;else if(t&&i&&s)return r[i=t(r,o)]===o?i:-1;if(o!=o)return(i=n(c.call(r,a,s),J))>=0?i+a:-1;for(i=e>0?a:s-1;i>=0&&i<s;i+=e)if(r[i]===o)return i;return-1}}const Wn=Un(1,Ln,Vn),Hn=Un(-1,qn);function zn(e,n,t){var r=(Sn(e)?Ln:Bn)(e,n,t);if(void 0!==r&&-1!==r)return e[r]}function Xn(e,n){return zn(e,ze(n))}function Gn(e,n,t){var r,o;if(n=Ge(n,t),Sn(e))for(r=0,o=e.length;r<o;r++)n(e[r],r,e);else{var i=se(e);for(r=0,o=i.length;r<o;r++)n(e[i[r]],i[r],e)}return e}function Qn(e,n,t){n=Je(n,t);for(var r=!Sn(e)&&se(e),o=(r||e).length,i=Array(o),a=0;a<o;a++){var s=r?r[a]:a;i[a]=n(e[s],s,e)}return i}function Kn(e){var n=function(n,t,r,o){var i=!Sn(n)&&se(n),a=(i||n).length,s=e>0?0:a-1;for(o||(r=n[i?i[s]:s],s+=e);s>=0&&s<a;s+=e){var u=i?i[s]:s;r=t(r,n[u],u,n)}return r};return function(e,t,r,o){var i=arguments.length>=3;return n(e,Ge(t,o,4),r,i)}}const Jn=Kn(1),Yn=Kn(-1);function Zn(e,n,t){var r=[];return n=Je(n,t),Gn(e,(function(e,t,o){n(e,t,o)&&r.push(e)})),r}function et(e,n,t){return Zn(e,Mn(Je(n)),t)}function nt(e,n,t){n=Je(n,t);for(var r=!Sn(e)&&se(e),o=(r||e).length,i=0;i<o;i++){var a=r?r[i]:i;if(!n(e[a],a,e))return!1}return!0}function tt(e,n,t){n=Je(n,t);for(var r=!Sn(e)&&se(e),o=(r||e).length,i=0;i<o;i++){var a=r?r[i]:i;if(n(e[a],a,e))return!0}return!1}function rt(e,n,t,r){return Sn(e)||(e=_e(e)),("number"!=typeof t||r)&&(t=0),Wn(e,n,t)>=0}const ot=S((function(e,n,t){var r,o;return L(n)?o=n:(n=qe(n),r=n.slice(0,-1),n=n[n.length-1]),Qn(e,(function(e){var i=o;if(!i){if(r&&r.length&&(e=Ve(e,r)),null==e)return;i=e[n]}return null==i?i:i.apply(e,t)}))}));function it(e,n){return Qn(e,Xe(n))}function at(e,n){return Zn(e,ze(n))}function st(e,n,t){var r,o,i=-Infinity,a=-Infinity;if(null==n||"number"==typeof n&&"object"!=typeof e[0]&&null!=e)for(var s=0,u=(e=Sn(e)?e:_e(e)).length;s<u;s++)null!=(r=e[s])&&r>i&&(i=r);else n=Je(n,t),Gn(e,(function(e,t,r){((o=n(e,t,r))>a||-Infinity===o&&-Infinity===i)&&(i=e,a=o)}));return i}function ut(e,n,t){var r,o,i=Infinity,a=Infinity;if(null==n||"number"==typeof n&&"object"!=typeof e[0]&&null!=e)for(var s=0,u=(e=Sn(e)?e:_e(e)).length;s<u;s++)null!=(r=e[s])&&r<i&&(i=r);else n=Je(n,t),Gn(e,(function(e,t,r){((o=n(e,t,r))<a||Infinity===o&&Infinity===i)&&(i=e,a=o)}));return i}function lt(e,n,t){if(null==n||t)return Sn(e)||(e=_e(e)),e[tn(e.length-1)];var r=Sn(e)?Be(e):_e(e),o=ie(r);n=Math.max(Math.min(n,o),0);for(var i=o-1,a=0;a<n;a++){var s=tn(a,i),u=r[a];r[a]=r[s],r[s]=u}return r.slice(0,n)}function ct(e){return lt(e,Infinity)}function ft(e,n,t){var r=0;return n=Je(n,t),it(Qn(e,(function(e,t,o){return{value:e,index:r++,criteria:n(e,t,o)}})).sort((function(e,n){var t=e.criteria,r=n.criteria;if(t!==r){if(t>r||void 0===t)return 1;if(t<r||void 0===r)return-1}return e.index-n.index})),"value")}function dt(e,n){return function(t,r,o){var i=n?[[],[]]:{};return r=Je(r,o),Gn(t,(function(n,o){var a=r(n,o,t);e(i,n,a)})),i}}const pt=dt((function(e,n,t){X(e,t)?e[t].push(n):e[t]=[n]})),gt=dt((function(e,n,t){e[t]=n})),mt=dt((function(e,n,t){X(e,t)?e[t]++:e[t]=1})),ht=dt((function(e,n,t){e[t?0:1].push(n)}),!0);var vt=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function yt(e){return e?z(e)?c.call(e):O(e)?e.match(vt):Sn(e)?Qn(e,He):_e(e):[]}function wt(e){return null==e?0:Sn(e)?e.length:se(e).length}function bt(e,n,t){return n in t}const xt=S((function(e,n){var t={},r=n[0];if(null==e)return t;L(r)?(n.length>1&&(r=Ge(r,n[1])),n=he(e)):(r=bt,n=En(n,!1,!1),e=Object(e));for(var o=0,i=n.length;o<i;o++){var a=n[o],s=e[a];r(s,a,e)&&(t[a]=s)}return t})),At=S((function(e,n){var t,r=n[0];return L(r)?(r=Mn(r),n.length>1&&(t=n[1])):(n=Qn(En(n,!1,!1),String),r=function(e,t){return!rt(n,t)}),xt(e,r,t)}));function Nt(e,n,t){return c.call(e,0,Math.max(0,e.length-(null==n||t?1:n)))}function St(e,n,t){return null==e||e.length<1?null==n||t?void 0:[]:null==n||t?e[0]:Nt(e,e.length-n)}function Et(e,n,t){return c.call(e,null==n||t?1:n)}function jt(e,n,t){return null==e||e.length<1?null==n||t?void 0:[]:null==n||t?e[e.length-1]:Et(e,Math.max(0,e.length-n))}function It(e){return Zn(e,Boolean)}function _t(e,n){return En(e,n,!1)}const Rt=S((function(e,n){return n=En(n,!0,!0),Zn(e,(function(e){return!rt(n,e)}))})),Pt=S((function(e,n){return Rt(e,n)}));function Ot(e,n,t,r){_(n)||(r=t,t=n,n=!1),null!=t&&(t=Je(t,r));for(var o=[],i=[],a=0,s=ie(e);a<s;a++){var u=e[a],l=t?t(u,a,e):u;n&&!t?(a&&i===l||o.push(u),i=l):t?rt(i,l)||(i.push(l),o.push(u)):rt(o,u)||o.push(u)}return o}const Ct=S((function(e){return Ot(En(e,!0,!0))}));function Mt(e){for(var n=[],t=arguments.length,r=0,o=ie(e);r<o;r++){var i=e[r];if(!rt(n,i)){var a;for(a=1;a<t&&rt(arguments[a],i);a++);a===t&&n.push(i)}}return n}function Tt(e){for(var n=e&&st(e,ie).length||0,t=Array(n),r=0;r<n;r++)t[r]=it(e,r);return t}const kt=S(Tt);function $t(e,n){for(var t={},r=0,o=ie(e);r<o;r++)n?t[e[r]]=n[r]:t[e[r][0]]=e[r][1];return t}function Dt(e,n,t){null==n&&(n=e||0,e=0),t||(t=n<e?-1:1);for(var r=Math.max(Math.ceil((n-e)/t),0),o=Array(r),i=0;i<r;i++,e+=t)o[i]=e;return o}function Bt(e,n){if(null==n||n<1)return[];for(var t=[],r=0,o=e.length;r<o;)t.push(c.call(e,r,r+=n));return t}function Ft(e,n){return e._chain?ce(n).chain():n}function Lt(e){return Gn(Oe(e),(function(n){var t=ce[n]=e[n];ce.prototype[n]=function(){var e=[this._wrapped];return l.apply(e,arguments),Ft(this,t.apply(ce,e))}})),ce}Gn(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var n=a[e];ce.prototype[e]=function(){var t=this._wrapped;return null!=t&&(n.apply(t,arguments),"shift"!==e&&"splice"!==e||0!==t.length||delete t[0]),Ft(this,t)}})),Gn(["concat","join","slice"],(function(e){var n=a[e];ce.prototype[e]=function(){var e=this._wrapped;return null!=e&&(e=n.apply(e,arguments)),Ft(this,e)}}));const qt=ce;var Vt=Lt(r);Vt._=Vt;const Ut=Vt}},n={};function t(r){var o=n[r];if(void 0!==o)return o.exports;var i=n[r]={exports:{}};return e[r](i,i.exports,t),i.exports}t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e=t(636),n=null;const r="crx",o="nex",i="ff",a="edge";let s=!1;if(window.navigator.userAgent&&window.navigator.userAgent.length>0&&(-1==window.navigator.userAgent.indexOf("Edge/")&&-1==window.navigator.userAgent.indexOf("Edg/")||(s=!0)),"undefined"!=typeof browser)n=browser;else if("undefined"!=typeof chrome)n=chrome;else try{s&&(n=browser)}catch(e){}if(null==n)throw"AVD CC: Warning! Browser object is undefined. Try updating to most recent version or contact support";if(n.$type="?","undefined"!=typeof browser?n.$type=i:"undefined"!=typeof chrome&&(n.$type=r),-1!=window.navigator.userAgent.indexOf("OPR/")?n.$type=o:s&&(n.$type=a),"?"==n.$type)throw"AVD CC: Warning! Unable to detect browser platform. This can be due to internal error or browser is unknown";n.runtime&&n.runtime.onMessage&&n.runtime.onMessage.addListener((function(n,t,r){n&&e.has(n,"id")&&"cs-query-tab-info"==n.id&&r({id:"cs-query-tab-info",tabId:t.tab.id,url:t.tab.url,title:t.tab.title})}));const u={downloader:{startDownload:"messages.downloader.startDownload",startDownloadViaBrowser:"messages.downloader.startDownloadViaBrowser",cancelDownload:"messages.downloader.cancelDownload",deleteDownload:"messages.downloader.deleteDownload",deleteDownloads:"messages.downloader.deleteDownloads",clearBySingleState:"messages.downloader.clearBySingleState"},session:{query:"messages.session.query",openSettingsPage:"messages.session.openSettingsPage",openTopVideoSites:"messages.session.openTopVideoSites",openDebugPage:"messages.session.openDebugPage",wipeOut:"messages.session.wipeOut"},nativeApp:{videoDetector:{yt:{addStream:"avdcc.na.videoDetector.yt.addStream"}}},video:{detector:{ytnp:{ignoreVideoDetection:"messages.video.detector.ytnp.ignoreVideoDetection"},yt:{sendInitialConfig:"messages.video.detector.yt.sendInitialConfig",sendSubsequentConfig:"messages.video.detector.yt.sendSubsequentConfig",sendEmbeddedConfig:"messages.video.detector.yt.sendEmbeddedConfig"}},handler:{videoDetection:"messages.video.handler.videoDetection",query:{all:"messages.video.handler.query.all",nonIdle:"messages.video.handler.query.nonIdle",byTab:"messages.video.handler.query.byTab",popupData:"messages.video.handler.query.popupData"},count:{byTab:"messages.video.handler.count.byTab"},removeFromList:"messages.video.handler.removeFromList",removeFromListBulk:"messages.video.handler.removeFromListBulk",resetVideo:"messages.video.handler.resetVideo",disconnectPeer:"messages.video.handler.disconnectPeer",events:{onVideoDetected:"messages.video.handler.events.onVideoDetected",onVideoUpdated:"messages.video.handler.events.onVideoUpdated",onVideoRemoved:"messages.video.handler.events.onVideoRemoved"}}},settings:{get:"messages.settings.get",set:"messages.settings.set",replace:"messages.settings.replace",reset:"messages.settings.reset",resetAll:"messages.settings.resetAll",events:{onSettingChanged:"messages.settings.events.onSettingChanged"}},ui:{downloads:{command:{download:{start:"messages.ui.downloads.command.download.start",startViaBrowser:"messages.ui.downloads.command.download.startViaBrowser",cancel:"messages.ui.downloads.command.download.cancel"},video:{file:{play:"messages.ui.downloads.command.video.file.play",browse:"messages.ui.downloads.command.video.file.browse",delete:"messages.ui.downloads.command.video.file.delete",showProperties:"messages.ui.downloads.command.video.file.showProperties"},list:{clear:"messages.ui.downloads.command.video.list.clear",removeFrom:"messages.ui.downloads.command.video.list.removeFrom",removePreviousDl:"messages.ui.downloads.command.video.list.removePreviousDl"},reset:"messages.ui.downloads.command.video.reset"},tab:{reload:"messages.ui.downloads.command.tab.reload",goTo:"messages.ui.downloads.command.tab.goTo"},showSnack:"messages.ui.downloads.command.showSnack",clipText:"messages.ui.downloads.command.clipText",startTaskMgr:"messages.ui.downloads.command.startTaskMgr"}},settings:{command:{categoryChanged:"messages.ui.settings.command.categoryChanged",updateSetting:"messages.ui.settings.command.updateSetting",switchTheme:"messages.ui.settings.command.switchTheme",showSnack:"messages.ui.settings.command.showSnack"}}}};var l=new class{constructor(){this.yt={youtubeVideoId:new RegExp("\\?v=([\\w\\-\\_]+)","i"),youtubeChannelId:new RegExp("youtube\\.com\\/channel\\/([\\w\\-\\_]+)(?:\\/join)?","i"),streamId:new RegExp("id=([\\w\\-_]+)","i"),itag:new RegExp("itag=(\\d+)","i"),mime:new RegExp("mime=([\\w\\%]+)","i"),ctier:new RegExp("ctier=(\\w+)","i"),clen:new RegExp("clen\\=(\\d+)","i"),streamTypeAudio:new RegExp("audio\\/","i"),streamTypeVideo:new RegExp("video\\/","i"),streamUrlHosts:[new RegExp(".*?youtube\\.com\\/videoplayback","i"),new RegExp(".*?googlevideo\\.com\\/videoplayback","i")],streamUrlStripTokens:[new RegExp("range=[^&#]+","i"),new RegExp("rn=[^&#]+","i"),new RegExp("rbuf=[^&#]+","i"),new RegExp("&+$","i")],codecs:new RegExp('codecs\\s*\\=\\s*\\"?([\\w\\.;]+)\\"?',"i"),qualityWidth:new RegExp("^(\\d+)p?","i"),nextCallUrl:new RegExp("youtube\\.com\\/youtubei\\/v\\d+\\/player\\?","i")},this.content={type:new RegExp('([\\w\\-_]+)\\/([\\w\\-_]+);?(?:\\s+)?([\\w\\=\\"\\.]+)?',"i"),range:{type1:new RegExp("\\s*(\\w+)\\s(\\d+|\\s?)\\-(\\d+|\\s?)\\/(\\d+|\\*|\\s?)","i"),type2:new RegExp("\\s*(\\w+)\\s\\*\\/(\\d+|\\*|\\s?)","i")}},this.streamKeyPattern=function(e,n){return`stream:${e}:${n}`},this.streamKey=new RegExp("^stream\\:([a-zA-Z\\d]+)\\:([\\w_\\-\\@\\*\\?\\#\\:]+)","i"),this.file={name:new RegExp("^(.+)(?:[?#].*)?","i"),extension:new RegExp("\\.([0-9a-z]+)(?=[?#])|(\\.)(?:[\\w]+)$","i"),filenameReplacementByOS:{win32:new RegExp('[\\/\\:\\*\\\\\\?\\!\\<\\>\\|\\"]',"ig"),mac:new RegExp("\\/|:","g"),gnubsd:new RegExp("\\/","g")}},this.url={httpx:new RegExp("(\\w+):\\/\\/([\\\\\\-\\w@][\\w\\-.:@]+)(\\/?[\\w\\.?=%&=\\-@\\/$,+~:_ \\*]*)","i")},this.text={splitBy:{semicolon:new RegExp("^([\\w_\\-\\s]+):(.*)$")},newLine:new RegExp("\\r\\n|\\n","i")},this.video={descriptor:{keyPattern:function(e,n){return`vd:${e}:${n}`},key:new RegExp("^vd\\:([\\$\\-\\w]+)\\:([\\w_\\-\\@\\*\\?\\#]+)","i")},previousDownload:{keyPattern:function(e,n){return`${e}:${n}`},key:new RegExp("^(S[\\w\\-]+)\\:(vd\\:[\\$\\-\\w]+\\:[\\w_\\-\\@\\*\\?\\#]+)","i")},resolution:{numericValue:new RegExp("^([\\s\\d]+)","i"),twoValues:new RegExp("(\\d+)[x|X](\\d+)","i")}},this.uuid={replacement:new RegExp("[xy]","g")},this.versionNumber={digitsTwo:new RegExp("^(\\d+)\\.(\\d+)$","i"),digitsThree:new RegExp("^(\\d+)\\.(\\d+)\\.(\\d+)$","i")},this.isInteger=new RegExp("^[-+]?(\\d+|Infinity)$","i"),this.websites={netu_hostname_cdn:new RegExp("\\.cf?[\\w\\_\\-]+cdn(?:[\\w\\_\\-]+)?\\.[\\w]+\\/","i")}}},c=t(636),f=new class{constructor(){this.m_PlatformInfo={os:null},this.m_Idx=0;var e=this;if(n.runtime.getPlatformInfo)n.runtime.getPlatformInfo((function(n){e.m_PlatformInfo=n}));else{let e=window.navigator.userAgent.toLowerCase();-1==e.indexOf("edge/")&&-1==e.indexOf("edg/")||(this.m_PlatformInfo.os="win")}}get platformOS(){return this.m_PlatformInfo.os}get nativeAppName(){return"com.ant.avdcc.host"}get xhrForbiddenHeadersArrayLC(){return["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","feature-policy","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}generateUUID(){let e=(new Date).getTime();return window.performance&&"function"==typeof window.performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(l.uuid.replacement,(function(n){let t=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==n?t:3&t|8).toString(16)}))}generateShortId(){let e=(new Date).getTime();return window.performance&&"function"==typeof window.performance.now&&(e+=performance.now()),"S-xxx-xxx".replace(l.uuid.replacement,(function(n){let t=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==n?t:3&t|8).toString(16)}))}concatAndResolveUrl(e,n){var t=e.split("/"),r=n.split("/"),o=[];for(let e=0,n=t.length;e<n;e++)if(".."==t[e])o.pop();else{if("."==t[e])continue;o.push(t[e])}for(let e=0,n=r.length;e<n;e++)if(".."==r[e])o.pop();else{if("."==r[e])continue;o.push(r[e])}return o.join("/")}sanitize(e){var n=null;switch(this.m_PlatformInfo.os){case"win":n=l.file.filenameReplacementByOS.win32;break;case"mac":n=l.file.filenameReplacementByOS.mac;break;case"linux":case"openbsd":n=l.file.filenameReplacementByOS.gnubsd;break;default:throw"Android and CrOS platforms are not supported"}return n?e.replaceAll(n," "):null}xhr3(e,n,t){return new Promise((function(r,o){try{var i=new XMLHttpRequest;if(i.open(e,n),null!=t&&c.isObject(t)&&0==c.isEmpty(t)){let e=Object.keys(t);for(let n of e){if(0==c.has(t,n))continue;if("function"==typeof t[n])continue;let e=n.toLowerCase();e.startsWith("proxy-")||e.startsWith("sec-")||f.includesAnySubstring(e,f.xhrForbiddenHeadersArrayLC)||i.setRequestHeader(n,t[n])}}i.onload=function(){var e={status:i.status,"request-url":n,"response-type":i.responseType,"response-value":i.response,"response-headers":[]},t=i.getAllResponseHeaders(),o=function(e){return null!=e&&e.length>0};if(null!=t&&t.length>0){var a=t.split("\r\n");for(var s of a)if(null!=s&&0!=s.length){var u=s.split(l.text.splitBy.semicolon).filter(o);2==u.length&&e["response-headers"].push({name:u[0].trim(),value:u[1].trim()})}}r(e)},i.onerror=function(){o(null)},i.send()}catch(e){o(null)}}))}isURL(e){return null!=e&&0!=e.length&&(1==f.startsWithHTTx(e)||l.url.httpx.test(e))}startsWithHTTx(e){if(null==e)return!1;if(0==e.length)return!1;let n=e.toLowerCase();return n.startsWith("http://")||n.startsWith("https://")}crackUrl(e){return null==e||0==e.length?null:e.match(l.url.httpx)}getHostnameFromUrl(e){var n=this.crackUrl(e);return null==n?null:n.length>=3?n[2]:null}getBaseUrl(e){var n=this.crackUrl(e);return null==n?null:`${n[1]}://${n[2]}/`}getPathFromUrl(e){var n=this.crackUrl(e);return null==n||4!=n.length?null:n[3]}getPathUrl(e){var n=this.crackUrl(e);if(null==n)return null;var t="",r=n[1],o=n[2];if(3==n.length)t=`${r}://${o}/`;else{if(4!=n.length)return null;var i=n[3].substring(0,n[3].lastIndexOf("/"));0==i.endsWith("/")&&(i+="/"),t=`${r}://${o}${i}`}return t}getPathUrl2(e){var n=this.crackUrl(e);if(null==n)return null;var t="",r=n[1],o=n[2];if(3==n.length)t=`${r}://${o}`;else{if(4!=n.length)return null;var i=n[3].substring(0,n[3].lastIndexOf("/"));1==i.endsWith("/")&&(i=1==i.length?"":i.substring(0,i.length-1)),t=`${r}://${o}${i}`}return t}extractFilenameFromURL(e){let n="",t=-1;return e&&0!=e.length?(n=e,t=e.indexOf("?"),-1!=t&&(n=n.substring(0,t)),t=n.lastIndexOf("/"),-1!=t&&(n=n.substring(t+1,n.length)),t=n.indexOf("#"),-1!=t&&(n=n.substring(0,t)),n):n}extractFilenameFromFilesystemPath(e){let n=-1,t="\\";return e&&0!=e.length?("win"!=this.m_PlatformInfo.os&&(t="/"),n=e.lastIndexOf(t),-1==n?e:e.substring(n+1,e.length)):null}tryGettingHeader(e,n){if(null==e||0==e.length)return null;if(null==n)return null;if("object"!=typeof n)return null;let t=Object.keys(n);for(let r=0;r<t.length;r++)if(c.has(n,t[r])&&t[r].toLowerCase()==e.toLowerCase())return n[t[r]];return null}headerExists(e,n){if(null==e||0==e.length)return!1;if(null==n)return!1;if("object"!=typeof n)return!1;let t=Object.keys(n);for(let r=0;r<t.length;r++)if(c.has(n,t[r])&&t[r].toLowerCase()==e.toLowerCase())return!0;return!1}headerDrop(e,n){if(null==e||0==e.length)return!1;if(null==n)return!1;if("object"!=typeof n)return!1;let t={},r=Object.keys(n);for(let o=0;o<r.length;o++){let i=r[o];if(c.has(n,i)){if(i.toLowerCase()==e.toLowerCase())continue;t[i]=n[i]}}return t}verifyNativeInstalled(e){if(e)try{n.runtime.sendNativeMessage(this.nativeAppName,{id:"query-version",isSyncCall:!0},(function(n){var t={available:!1,response:null};n&&(t.available=!0,t.response=n),e(t)}))}catch(n){e(null)}}compareVersionStrings(e,n){if(null==e)return;if(null==n)return;let t=e.toLowerCase(),r=n.toLowerCase();if(t==r)return 0;if(0==l.versionNumber.digitsTwo.test(t)&&0==l.versionNumber.digitsThree.test(t))return;if(0==l.versionNumber.digitsTwo.test(r)&&0==l.versionNumber.digitsThree.test(r))return;if(l.versionNumber.digitsTwo.test(t)&&(t+=".0"),l.versionNumber.digitsTwo.test(r)&&(r+=".0"),t==r)return 0;var o={left:{major:null,minor:null,build:null},right:{major:null,minor:null,build:null}};let i=t.match(l.versionNumber.digitsThree);return i&&4==i.length&&(o.left.major=Number(i[1]),o.left.minor=Number(i[2]),o.left.build=Number(i[3]),i=r.match(l.versionNumber.digitsThree),i&&4==i.length)?(o.right.major=Number(i[1]),o.right.minor=Number(i[2]),o.right.build=Number(i[3]),o.left.major!=o.right.major?o.left.major<o.right.major?-1:1:o.left.minor!=o.right.minor?o.left.minor<o.right.minor?-1:1:o.left.build==o.right.build?0:o.left.build<o.right.build?-1:1):void 0}calculateTextWidth(e,n){var t=document.createElement("canvas").getContext("2d");return t.font=n,t.measureText(e).width}makeShorterByFont(e,n,t){let r=f.calculateTextWidth(e,t);if(r>n){let o=e;do{o=o.substr(0,o.length-4)+"...",r=f.calculateTextWidth(o,t)}while(r>n);return o}return e}kilobytes(e){return 1024*e}megabytes(e){return e*f.kilobytes(1024)}isUCBrowser(e){if(null!=e&&0!=e.length)return-1!=e.toLowerCase().indexOf("ubrowser/")}includesAllSubstrings(e,n){if(null==e||0==e.length)return!1;if(null==n||0==n.length)return!1;for(let t of n)if("string"==typeof t){if(0==e.includes(t))return!1}else if("object"==typeof t&&c.has(t,"test")&&0==t.test(e))return!1;return!0}includesAnySubstring(e,n){if(null==e||0==e.length)return!1;if(null==n||0==n.length)return!1;for(let t of n)if("string"==typeof t){if(1==e.includes(t))return!0}else if("object"==typeof t&&c.has(t,"test")&&1==t.test(e))return!0;return!1}allMet(e){if(null!=e&&e.length>0){for(let n of e)if(0==n)return!1;return!0}return!1}isPromise(e){return e&&"[object Promise]"===Object.prototype.toString.call(e)}getBrowserIncognitoThemeColor(e){switch(e){case o:return"#893e65";case i:return"#1c1b22";case r:return"#35363a";case a:return"#242424"}return"#b5b5b5"}getBrowserIncognitoIcon(e){switch(e){case o:return"mdi-hat-fedora";case i:return"mdi-domino-mask";case r:return"mdi-incognito";case a:return"mdi-account-circle"}return"mdi-incognito"}getBrowserIncognitoModeName(e){switch(e){case o:return"Private mode";case i:return"Private browsing mode";case a:return"InPrivate mode";default:return"Incognito mode"}}isDebug(){return 0==c.isEmpty("production")&&"production".includes("development")}},d=t(636),p=t(60),g=new class{constructor(){this.downloads={search:function(e){return n.$type==i?n.downloads.search(e):new Promise((function(t,r){n.downloads.search(e,t)}))}}}getFromLocalStorage(e){return n.$type==i?n.storage.local.get(e):new Promise((function(t,r){n.storage.local.get(e,t)}))}setIntoLocalStorage(e){return n.$type==i?n.storage.local.set(e):new Promise((function(t,r){n.storage.local.set(e,t)}))}removeFromLocalStorage(e){return n.$type==i?n.storage.local.remove(e):new Promise((function(t,r){n.storage.local.remove(e,t)}))}clearLocalStorage(){return n.$type==i?n.storage.local.clear():new Promise((function(e,t){n.storage.local.clear(e)}))}getAllWindows(){return n.$type==i?n.windows.getAll({populate:!0}):new Promise((function(e,t){n.windows.getAll({populate:!0},e)}))}getCurrentWindow(){return n.$type==i?n.windows.getCurrent(null):new Promise((function(e,t){n.windows.getCurrent(null,e)}))}tabsQuery(){return n.$type==i?n.tabs.query({active:!0}):new Promise((function(e,t){n.tabs.query({active:!0},e)}))}tabsQueryAll(){return n.$type==i?n.tabs.query({}):new Promise((function(e,t){n.tabs.query({},e)}))}tabsUpdate(e){return n.$type==i?n.tabs.update(e):new Promise((function(t,r){n.tabs.update(e,t)}))}currentTabQuery(){var e={active:!0,currentWindow:!0};return n.$type==i?n.tabs.query(e):new Promise((function(t,r){n.tabs.query(e,t)}))}tabGetById(e){return n.$type==i?n.tabs.get(e):new Promise((function(t,r){n.tabs.get(e,t)}))}tabsHandleLastError(e){if(null!=e&&d.has(e,"message")&&null!=e.message){let n=["no tab with id","invalid tab id"],t=e.message.toLowerCase();for(let e of n)if(t.includes(e))return}}tabReloadById(e,t=!1){return n.$type==i?n.tabs.reload(e,{bypassCache:t}):new Promise((function(r,o){n.tabs.reload(e,{bypassCache:t},r)}))}cookiesGetAll(e){var t=null;return n.$type==i?(e.firstPartyDomain=null,t=n.cookies.getAll(e)):t=new Promise((function(t,r){n.cookies.getAll(e,t)})),t}sendMessage(e){return n.$type==i?n.runtime.sendMessage(e):new Promise((function(t,r){n.runtime.sendMessage(e,t)}))}sendMessageHandleLastError(e){if(null!=e&&d.has(e,"message")&&null!=e.message){let n=["could not establish connection. receiving end does not exist.","the message port closed before a response was received.",""],t=e.message.toLowerCase();for(let e of n)if(t.includes(e))return}}sendNativeMessage(e){return e.isSyncCall=!0,n.$type==i?n.runtime.sendNativeMessage(f.nativeAppName,e):new Promise((function(t,r){n.runtime.sendNativeMessage(f.nativeAppName,e,t)}))}NAQueryVersion(){var e={id:"query-version",isSyncCall:!0};return n.$type==i?n.runtime.sendNativeMessage(f.nativeAppName,e):new Promise((function(t,r){n.runtime.sendNativeMessage(f.nativeAppName,e,t)}))}async NAQueryVersionCheck(){let e=await this.NAQueryVersion();return!!(null!=e&&d.has(e,"id")&&d.has(e,"version")&&null!=e.id&&null!=e.version&&"query-version"==e.id.toLowerCase()&&e.version.length>0)}NAQueryDestinationFolder(){var e={id:"query-destination-folder",isSyncCall:!0};return n.$type==i?n.runtime.sendNativeMessage(f.nativeAppName,e):new Promise((function(t,r){n.runtime.sendNativeMessage(f.nativeAppName,e,t)}))}NAChangeDownloadsFolder(){var e={id:"set-destination-folder",isSyncCall:!0};return n.$type==i?n.runtime.sendNativeMessage(f.nativeAppName,e):new Promise((function(t,r){n.runtime.sendNativeMessage(f.nativeAppName,e,t)}))}NAChangePrivateDownloadsFolder(){var e={id:"set-private-destination-folder",isSyncCall:!0};return n.$type==i?n.runtime.sendNativeMessage(f.nativeAppName,e):new Promise((function(t,r){n.runtime.sendNativeMessage(f.nativeAppName,e,t)}))}NAResetDownloadsFolder(){var e={id:"reset-destination-folder",isSyncCall:!0};return n.$type==i?n.runtime.sendNativeMessage(f.nativeAppName,e):new Promise((function(t,r){n.runtime.sendNativeMessage(f.nativeAppName,e,t)}))}NAChangeTemporaryFilesFolder(){var e={id:"set-temporary-folder",isSyncCall:!0};return n.$type==i?n.runtime.sendNativeMessage(f.nativeAppName,e):new Promise((function(t,r){n.runtime.sendNativeMessage(f.nativeAppName,e,t)}))}NAOpenTemporaryFilesFolder(){var e={id:"open-temporary-folder",isSyncCall:!0};return n.$type==i?n.runtime.sendNativeMessage(f.nativeAppName,e):new Promise((function(t,r){n.runtime.sendNativeMessage(f.nativeAppName,e,t)}))}NAResetTemporaryFilesFolder(){var e={id:"reset-temporary-folder",isSyncCall:!0};return n.$type==i?n.runtime.sendNativeMessage(f.nativeAppName,e):new Promise((function(t,r){n.runtime.sendNativeMessage(f.nativeAppName,e,t)}))}NAOpenSessionTemporaryFilesFolder(e){var t={id:"open-temporary-folder-this-session",session:e,isSyncCall:!0};return n.$type==i?n.runtime.sendNativeMessage(f.nativeAppName,t):new Promise((function(e,r){n.runtime.sendNativeMessage(f.nativeAppName,t,e)}))}runtimeGetPlatformInfo(){return n.$type==i?n.runtime.getPlatformInfo():new Promise((function(e,t){n.runtime.getPlatformInfo(e)}))}runtimeGetBrowserInfo(){return n.$type==i?n.runtime.getBrowserInfo():new Promise((function(e,n){n("This method is implemented only on Mozilla Firefox")}))}smartOpenNewTab(e){if(null==e||0==e.length)return null;let t=e+"#",r=n.windows.WINDOW_ID_CURRENT,o=null;p((function*(){var i=yield g.getCurrentWindow();if(null!=i){var a=yield g.getAllWindows();if(1==i.incognito){var s,u=null,l=null;for(let i in a)if(1==a[i].incognito){null==l&&(l=a[i].id),1==a[i].focused&&(u=a[i].id);let s=a[i].tabs;for(let u in s){let l=s[u];if(l.url==e||l.url==t)return o=a[i].id,r!=o&&n.windows.update(o,{focused:!0}),n.tabs.update(l.id,{active:!0}),{updated:!0}}}return s=null!=u?u:l,n.tabs.create({url:e,active:!0,windowId:s}),{created:!0}}for(let i in a){let s=a[i].tabs;for(let u in s){let l=s[u];if(l.url==e||l.url==t)return o=a[i].id,r!=o&&n.windows.update(o,{focused:!0}),n.tabs.update(l.id,{active:!0}),{updated:!0}}}return n.tabs.create({url:e,active:!0}),{created:!0}}})).catch((e=>{}))}smartOpenNewTab2(e,t){if(null==e||0==e.length)return null;if(null==t||"boolean"!=typeof t)return null;let r=`${e}#`;p((function*(){let o=yield g.getCurrentWindow(),i=yield g.getAllWindows();for(let o of i)if(o.incognito==t){let t=o.tabs;for(let i of t)if(i.url==e||i.url==r)return n.windows.update(o.id,{focused:!0}),n.tabs.update(i.id,{active:!0}),{updated:!0}}n.tabs.create({url:e,active:!0,windowId:o.id})})).catch((e=>{}))}async smartOpenNewTabAsync(e){if(null==e||0==e.length)return null;let t=e+"#",r=n.windows.WINDOW_ID_CURRENT,o=null,i=null,a=null;try{i=await g.getCurrentWindow()}catch(e){}if(null!=i){try{a=await g.getAllWindows()}catch(e){}if(1==i.incognito){let i=null,s=null,u=null;if(null!=a)for(let u in a)if(1==a[u].incognito){null==s&&(s=a[u].id),1==a[u].focused&&(i=a[u].id);let l=a[u].tabs;for(let i in l){let s=l[i];if(s.url==e||s.url==t)return o=a[u].id,r!=o&&n.windows.update(o,{focused:!0}),n.tabs.update(s.id,{active:!0}),{updated:!0,incognito:!0}}}return u=null!=i?i:s,n.tabs.create({url:e,active:!0,windowId:u}),{created:!0,incognito:!0}}for(let i in a){let s=a[i].tabs;for(let u in s){let l=s[u];if(l.url==e||l.url==t)return o=a[i].id,r!=o&&n.windows.update(o,{focused:!0}),n.tabs.update(l.id,{active:!0}),{updated:!0,incognito:!1}}}return n.tabs.create({url:e,active:!0}),{created:!0,incognito:!1}}}downloadsDownload(e){return n.$type==i?n.downloads.download(e):new Promise((function(t,r){n.downloads.download(e,t)}))}downloadsCancel(e){return n.$type==i?n.downloads.cancel(e):new Promise((function(t,r){n.downloads.cancel(e,t)}))}},m=t(60),h=t(636),v=null;try{"function"==typeof avdOverrideLog&&avdOverrideLog()}catch(e){}function y(e){try{if(null==e)throw"";if(e.source!=window)throw"";if("data"in e==0)throw"";if(null==e.data)throw"";if("type"in e==0)throw"";if(null==e.type)throw""}catch(e){return}"string"!=typeof e.data.type||"avdcc_cs_rbe_config_subsequent"!=e.data.type.toLowerCase()||n.runtime.sendMessage({id:u.video.detector.yt.sendSubsequentConfig,config:e.data.data,documentCookie:e.data.cookies,tabId:e.data.tabId})}m((function*(){try{var e=yield g.sendMessage({id:"cs-query-tab-info"});g.sendMessageHandleLastError(n.runtime.lastError),e&&h.has(e,"id")&&"cs-query-tab-info"==e.id&&(v=e.tabId)}catch(e){}try{var t=document.createElement("script");t.type="text/javascript",t.innerHTML=function(e){return`\n(function(tabId)\n{\n    try\n    {\n        var XHR = XMLHttpRequest.prototype;\n    \tvar send = XHR.send;\n    \tvar open = XHR.open;\n\n    \tXHR.open = function(method, url)\n    \t{\n    \t\tthis.url = url;\n    \t\treturn open.apply(this, arguments);\n    \t};\n\n    \tXHR.send = function()\n    \t{\n    \t\tthis.addEventListener('load', function()\n    \t\t{\n    \t\t\tvar ct = this.getResponseHeader('Content-Type');\n\n    \t\t\tif(ct != null && this.url != null)\n    \t\t\t{\n                    if(ct.toLowerCase().indexOf('application/json') != -1)\n                    {\n                        if(this.url.toLowerCase().includes('youtube.com/watch?'))\n                        {\n                            if(this.response != null && this.response.length > 0)\n                            {\n                                console.info('content-scripts/youtube/rbe/index.js/overrideXHR() -> sending config by url: '+ this.url);\n\n                                window.postMessage({ type: "AVDCC_CS_RBE_CONFIG_SUBSEQUENT", tabId: tabId, data: this.response, cookies: document.cookie });\n                            }\n                        }\n                    }\n    \t\t\t}\n    \t\t});\n\n    \t\treturn send.apply(this, arguments);\n    \t};\n    }\n    catch(e)\n    {\n        console.error('content-scripts/youtube/rbe/index.js/overrideXHR() -> exception: ' + e);\n    }\n\n})(${e});`}(v),document.head.prepend(t);var r=document.createElement("script");r.type="text/javascript",r.innerHTML=function(e){return`\n(function(tabId)\n{\n    try\n    {\n        if(!window.fetch)\n        {\n            console.warn('content-scripts/youtube/rbe/index.js/overrideFetch() -> there is no window.fetch');\n            return;\n        }\n\n        const avd_fetch = window.fetch;\n        \n        window.fetch = (...args) =>\n        {\n            return avd_fetch(...args).then(response =>\n            {\n                try\n                {\n                    if(args[0].url.includes('youtube.com/youtubei') && args[0].url.includes('/player?'))\n                    {\n                        console.info('content-scripts/youtube/rbe/index.js/overrideFetch() -> fetched: ' + args[0].url);\n\n                        var avd_response = response.clone();\n    \n                        avd_response.text().then(configData =>\n                        {\n                            let cookies = null;\n        \n                            if(document && document.cookie)\n                            {\n                                cookies = document.cookie;\n                            }\n        \n                            console.info('content-scripts/youtube/rbe/index.js/overrideFetch() -> sending data, length ' + configData.length);\n        \n                            window.postMessage({ type: "AVDCC_CS_RBE_CONFIG_SUBSEQUENT", tabId: tabId, data: configData, cookies: cookies });\n                        });\n                    }\n                }\n                catch(e)\n                {\n                    console.error('content-scripts/youtube/rbe/index.js/overrideFetch() -> exception: ' + e);\n                }\n\n                return response;\n            });\n        };\n    }\n    catch(e)\n    {\n        console.error('content-scripts/youtube/rbe/index.js/overrideFetch() -> exception: ' + e);\n    }\n\n})(${e});`}(v),document.head.prepend(r),window.addEventListener("message",y,!1)}catch(e){}})).catch((e=>{}))})()})();
import{j as r}from"./cplx-DEt7CUyc.js";import{P as d}from"./cplx-BsCYqTWz.js";import{u as l,g as c}from"./cplx-CWPpH3dB.js";import{r as s}from"./cplx-M4JPizzD.js";import{t as p,z as u,P as g}from"./cplx-CejnDNPm.js";import{T as b}from"./cplx-Cqfmi6PF.js";import"./cplx-BbAh7E-i.js";import"./cplx-CVsLL7Ku.js";import"./cplx-Cdcyb6EG.js";import"./cplx-CzQHx1MX.js";import"./cplx-DSnlyBAv.js";import"./cplx-CXGk_GMP.js";import"./cplx-BpeHHEix.js";import"./cplx-AFeO3sEC.js";import"./cplx-2ekRUlSR.js";import"./cplx-CIDXzIHh.js";import"./cplx-CvSOQQlQ.js";import"./cplx-Bzmv935M.js";import"./cplx-Bey00KRS.js";import"./cplx-DC-QQLj-.js";import"./cplx-B814hFp-.js";import"./cplx-wwbq-DDb.js";import"./cplx-BqwXc_LR.js";import"./cplx-D37zsf-y.js";import"./cplx-CZMWhpfy.js";import"./cplx-SsoyhRxE.js";import"./cplx-DewpVJ-0.js";import"./cplx-B42KOvrD.js";import"./cplx-km2FGkQ4.js";import"./cplx-Mn-h5XDX.js";import"./cplx-CCGYIZQf.js";import"./cplx-DD6dUv5H.js";import"./cplx-Dy60Fcq0.js";import"./cplx-CgmVhoKz.js";import"./cplx-hUtawQMb.js";import"./cplx-CCS6eJc0.js";import"./cplx-B19A3gYQ.js";const x='[data-cplx-component=message-block] [data-cplx-component=message-block-query] .group\\/query{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}[data-cplx-component=message-block] [data-cplx-component=message-block-query][data-cplx-query-collapsed=true] .group\\/query{isolation:isolate;max-height:300px;overflow:hidden;position:relative}[data-cplx-component=message-block] [data-cplx-component=message-block-query][data-cplx-query-collapsed=true] .group\\/query:after{content:"";position:absolute;top:200px;left:0;right:0;height:100px;background-image:linear-gradient(to bottom,var(--tw-gradient-stops));--tw-gradient-from: transparent var(--tw-gradient-from-position);--tw-gradient-to: rgb(0 0 0 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);--tw-gradient-from-position: 5%;--tw-gradient-to: rgb(255 255 255 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), oklch(var(--background) / .8) var(--tw-gradient-via-position), var(--tw-gradient-to);--tw-gradient-via-position: 30%;--tw-gradient-to: oklch(var(--background) / 1) var(--tw-gradient-to-position);pointer-events:none;z-index:1}[data-cplx-component=message-block] [data-cplx-component=message-block-query][data-cplx-query-collapsed=false] .group\\/query{max-height:9999px}';function v({messageIndex:e}){const[t,i]=s.useState(!0),a=l(m=>{var n;return(n=m.threadComponents.messageBlocks)==null?void 0:n[e]}),o=a==null?void 0:a.$query;return s.useEffect(()=>{o==null||o.attr("data-cplx-query-collapsed",t?"true":"false")},[o,t]),!o||!(o.attr("original-height")!=null&&Number(o.attr("original-height"))>300)?null:r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"mx-2xs h-4 border-l border-borderMain/50 ring-borderMain/50 divide-borderMain/50 dark:divide-borderMainDark/50 dark:ring-borderMainDark/50 dark:border-borderMainDark/50 bg-transparent"}),r.jsx(b,{content:t?p("common:misc.expand"):p("common:misc.collapse"),children:r.jsx("div",{role:"button",className:"tw-cursor-pointer tw-rounded-md tw-bg-primary tw-p-1 tw-text-primary-foreground tw-transition-all hover:tw-opacity-80 active:tw-scale-95",onClick:()=>i(!t),children:t?r.jsx(u,{}):r.jsx(g,{})})})]})}function ot(){const e=l(t=>t.threadComponents.queryHoverContainers);return c({css:x,id:"collapsible-query"}),e==null?null:e.map((t,i)=>r.jsx(d,{container:t,children:r.jsx(v,{messageIndex:i})},i))}export{ot as default};

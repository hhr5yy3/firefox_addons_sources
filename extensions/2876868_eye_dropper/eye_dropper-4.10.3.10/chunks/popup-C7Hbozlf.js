var mo=Object.defineProperty;var fn=r=>{throw TypeError(r)};var bo=(r,e,t)=>e in r?mo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Er=(r,e,t)=>bo(r,typeof e!="symbol"?e+"":e,t),Sr=(r,e,t)=>e.has(r)||fn("Cannot "+t);var Be=(r,e,t)=>(Sr(r,e,"read from private field"),t?t.call(r):e.get(r)),Dt=(r,e,t)=>e.has(r)?fn("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),Dr=(r,e,t,n)=>(Sr(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t),vn=(r,e,t)=>(Sr(r,e,"access private method"),t);import{u as _o,v as Kr,w as wo,x as Ot,y as qr,U as Hr,z as ir,A as jr,B as hn,C as pn,D as gn,E as ot,F as at,G as pt,H as yo,I as gt,J as xo,K as Eo,M as Wn,N as er,O as mn,P as So,Q as Do,R as ko,S as Co,T as Io,V as To,W as Zr,X as Qr,Y as Po,Z as Oo,_ as Ao,$ as Xn,a0 as No,a1 as zn,a2 as Lt,a3 as Mo,a4 as Ro,a5 as Fo,a6 as Ht,a7 as Ho,a8 as bn,a9 as c,aa as jo,ab as L,ac as Yo,ad as ae,ae as q,c as G,af as he,a as x,ag as Z,ah as en,f as A,g as E,h as C,b as ve,ai as ze,aj as Ut,ak as it,al as T,am as st,an as et,ao as Lo,s as we,ap as Ee,t as Yr,aq as F,ar as Bo,j as te,p as Wo,as as Xo,at as J,au as Gn,av as zo,aw as Go,ax as Uo,ay as $o,az as Vo,aA as Jo,aB as Ko,aC as qo,aD as tn,aE as Zo,aF as Qo,aG as rn,i as _e,aH as se,aI as X,aJ as Un,aK as ea,aL as $n,aM as ne,aN as de,aO as gr,aP as ta,aQ as Vn,L as ft,aR as Lr,aS as ra,aT as jt,aU as wt,aV as nn,aW as na,aX as $t,aY as oa,aZ as _n,a_ as Ct,a$ as aa,b0 as ia,b1 as la,b2 as Jn,b3 as sa,b4 as ca,b5 as lt,b6 as ua,e as da,b7 as fa,b8 as va,b9 as ha,ba as pa,bb as ga,bc as ma,bd as ba,be as _a,bf as wa,r as ya}from"./Link-CWLsu4lB.js";function Kn(r){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}const kr=0,Vt=1,Cr=2;function Br(r,e,t,n,o){var a=r,i=_o(),l=gt,s=Hr,u,f,v,d=(i?ir:jr)(void 0),h=(i?ir:jr)(void 0),p=!1;function _(g,w){p=!0,w&&(hn(b),pn(b),gn(l));try{g===kr&&t&&(u?ot(u):u=at(()=>t(a))),g===Vt&&n&&(f?ot(f):f=at(()=>n(a,d))),g===Cr&&o&&(v?ot(v):v=at(()=>o(a,h))),g!==kr&&u&&pt(u,()=>u=null),g!==Vt&&f&&pt(f,()=>f=null),g!==Cr&&v&&pt(v,()=>v=null)}finally{w&&(gn(null),pn(null),hn(null),yo())}}var b=Kr(()=>{if(s!==(s=e())){if(wo(s)){var g=s;p=!1,g.then(w=>{g===s&&(Ot(d,w),_(Vt,!0))},w=>{if(g===s)throw Ot(h,w),_(Cr,!0),h.v}),qr(()=>{p||_(kr,!0)})}else Ot(d,s),_(Vt,!1);return()=>s=Hr}})}function j(r,e,t=!1){var n=r,o=null,a=null,i=Hr,l=t?xo:0,s=!1;const u=(v,d=!0)=>{s=!0,f(d,v)},f=(v,d)=>{i!==(i=v)&&(i?(o?ot(o):d&&(o=at(()=>d(n))),a&&pt(a,()=>{a=null})):(a?ot(a):d&&(a=at(()=>d(n))),o&&pt(o,()=>{o=null})))};Kr(()=>{s=!1,e(u),s||f(null,null)},l)}function je(r,e){return e}function xa(r,e,t,n){for(var o=[],a=e.length,i=0;i<a;i++)Do(e[i].e,o,!0);var l=a>0&&o.length===0&&t!==null;if(l){var s=t.parentNode;ko(s),s.append(t),n.clear(),Ve(r,e[0].prev,e[a-1].next)}Co(o,()=>{for(var u=0;u<a;u++){var f=e[u];l||(n.delete(f.k),Ve(r,f.prev,f.next)),Io(f.e,!l)}})}function ge(r,e,t,n,o,a=null){var i=r,l={flags:e,items:new Map,first:null},s=(e&Xn)!==0;if(s){var u=r;i=u.appendChild(Ao())}var f=null,v=!1;Kr(()=>{var d=t(),h=Eo(d)?d:d==null?[]:Wn(d),p=h.length;if(!(v&&p===0)){v=p===0;{var _=To;Ea(h,l,i,o,e,(_.f&er)!==0,n)}a!==null&&(p===0?f?ot(f):f=at(()=>a(i)):f!==null&&pt(f,()=>{f=null})),t()}})}function Ea(r,e,t,n,o,a,i){var W,V,U,Q;var l=(o&No)!==0,s=(o&(Qr|Zr))!==0,u=r.length,f=e.items,v=e.first,d=v,h,p=null,_,b=[],g=[],w,m,y,I;if(l)for(I=0;I<u;I+=1)w=r[I],m=i(w,I),y=f.get(m),y!==void 0&&((W=y.a)==null||W.measure(),(_??(_=new Set)).add(y));for(I=0;I<u;I+=1){if(w=r[I],m=i(w,I),y=f.get(m),y===void 0){var P=d?d.e.nodes_start:t;p=Da(P,e,p,p===null?e.first:p.next,w,m,I,n,o),f.set(m,p),b=[],g=[],d=p.next;continue}if(s&&Sa(y,w,I,o),y.e.f&er&&(ot(y.e),l&&((V=y.a)==null||V.unfix(),(_??(_=new Set)).delete(y))),y!==d){if(h!==void 0&&h.has(y)){if(b.length<g.length){var k=g[0],D;p=k.prev;var O=b[0],B=b[b.length-1];for(D=0;D<b.length;D+=1)wn(b[D],k,t);for(D=0;D<g.length;D+=1)h.delete(g[D]);Ve(e,O.prev,B.next),Ve(e,p,O),Ve(e,B,k),d=k,p=B,I-=1,b=[],g=[]}else h.delete(y),wn(y,d,t),Ve(e,y.prev,y.next),Ve(e,y,p===null?e.first:p.next),Ve(e,p,y),p=y;continue}for(b=[],g=[];d!==null&&d.k!==m;)(a||!(d.e.f&er))&&(h??(h=new Set)).add(d),g.push(d),d=d.next;if(d===null)continue;y=d}b.push(y),p=y,d=y.next}if(d!==null||h!==void 0){for(var M=h===void 0?[]:Wn(h);d!==null;)(a||!(d.e.f&er))&&M.push(d),d=d.next;var Y=M.length;if(Y>0){var z=o&Xn&&u===0?t:null;if(l){for(I=0;I<Y;I+=1)(U=M[I].a)==null||U.measure();for(I=0;I<Y;I+=1)(Q=M[I].a)==null||Q.fix()}xa(e,M,z,f)}}l&&qr(()=>{var ie;if(_!==void 0)for(y of _)(ie=y.a)==null||ie.apply()}),mn.first=e.first&&e.first.e,mn.last=p&&p.e}function Sa(r,e,t,n){n&Qr&&Ot(r.v,e),n&Zr?Ot(r.i,t):r.i=t}function Da(r,e,t,n,o,a,i,l,s){var u=(s&Qr)!==0,f=(s&Po)===0,v=u?f?jr(o):ir(o):o,d=s&Zr?ir(i):i,h={i:d,v,k:a,a:null,e:null,prev:t,next:n};try{return h.e=at(()=>l(r,v,d),So),h.e.prev=t&&t.e,h.e.next=n&&n.e,t===null?e.first=h:(t.next=h,t.e.next=h.e),n!==null&&(n.prev=h,n.e.prev=h.e),h}finally{}}function wn(r,e,t){for(var n=r.next?r.next.e.nodes_start:t,o=e?e.e.nodes_start:t,a=r.e.nodes_start;a!==n;){var i=Oo(a);o.before(a),a=i}}function Ve(r,e,t){e===null?r.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function ka(r,e,t,n,o){var l;var a=(l=e.$$slots)==null?void 0:l[t],i=!1;a===!0&&(a=e.children,i=!0),a===void 0||a(r,i?()=>n:n)}var qe,_t,Yt,hr,qn;const pr=class pr{constructor(e){Dt(this,hr);Dt(this,qe,new WeakMap);Dt(this,_t);Dt(this,Yt);Dr(this,Yt,e)}observe(e,t){var n=Be(this,qe).get(e)||new Set;return n.add(t),Be(this,qe).set(e,n),vn(this,hr,qn).call(this).observe(e,Be(this,Yt)),()=>{var o=Be(this,qe).get(e);o.delete(t),o.size===0&&(Be(this,qe).delete(e),Be(this,_t).unobserve(e))}}};qe=new WeakMap,_t=new WeakMap,Yt=new WeakMap,hr=new WeakSet,qn=function(){return Be(this,_t)??Dr(this,_t,new ResizeObserver(e=>{for(var t of e){pr.entries.set(t.target,t);for(var n of Be(this,qe).get(t.target)||[])n(t)}}))},Er(pr,"entries",new WeakMap);let Wr=pr;var Ca=new Wr({box:"border-box"});function lr(r,e,t){var n=Ca.observe(r,()=>t(r[e]));zn(()=>(Lt(()=>t(r[e])),n))}function yn(r,e){return r===e||(r==null?void 0:r[Ro])===e}function on(r={},e,t,n){return zn(()=>{var o,a;return Mo(()=>{o=a,a=[],Lt(()=>{r!==t(...a)&&(e(r,...a),o&&yn(t(...o),r)&&e(null,...o))})}),()=>{qr(()=>{a&&yn(t(...a),r)&&e(null,...a)})}}),r}function xt(r=!1){const e=gt,t=e.l.u;if(!t)return;let n=()=>jo(e.s);if(r){let o=0,a={};const i=L(()=>{let l=!1;const s=e.s;for(const u in s)s[u]!==a[u]&&(a[u]=s[u],l=!0);return l&&o++,o});n=()=>c(i)}t.b.length&&Fo(()=>{xn(e,n),bn(t.b)}),Ht(()=>{const o=Lt(()=>t.m.map(Ho));return()=>{for(const a of o)typeof a=="function"&&a()}}),t.a.length&&Ht(()=>{xn(e,n),bn(t.a)})}function xn(r,e){if(r.l.s)for(const t of r.l.s)c(t);e()}function Bt(r){gt===null&&Kn(),Yo&&gt.l!==null?Ta(gt).m.push(r):Ht(()=>{const e=Lt(r);if(typeof e=="function")return e})}function Ia(r){gt===null&&Kn(),Bt(()=>()=>Lt(r))}function Ta(r){var e=r.l;return e.u??(e.u={a:[],b:[],m:[]})}const Pa=(r,e)=>{en(e.value)};var Oa=A('<div class="text-black overflow-visible flex gap-1 tooltip tooltip-bottom" data-tip="copy to clipboard"><button class="bg-white rounded px-1 text-nowrap hover:bg-neutral hover:text-white"> </button></div>');function kt(r,e){q(e,!0);var t=Oa(),n=E(t);n.__click=[Pa,e];var o=E(n);G(()=>he(o,e.value)),x(r,t),Z()}ae(["click"]);var Aa=A('<div class="mb-2 flex w-[9.2rem] flex-row-reverse"><div class="shadow-lg flex w-32 flex-wrap gap-2 rounded p-2 text-xs"><!> <!> <!> <!> <!></div> <div class="text-xs w-4 [writing-mode:vertical-lr] text-center rotate-180 font-mono"> </div></div>');function En(r,e){q(e,!0);let t=L(()=>new ze(e.color??"#75bb75")),n=L(()=>c(t).toName()),o=L(()=>c(t).toHexString()),a=L(()=>c(t).toHslString()),i=L(()=>c(t).toHsvString()),l=L(()=>c(t).toRgbString());var s=Aa(),u=E(s),f=E(u);kt(f,{get value(){return c(o)}});var v=C(f,2);{var d=w=>{kt(w,{get value(){return c(n)}})};j(v,w=>{c(n)&&w(d)})}var h=C(v,2);kt(h,{get value(){return c(l)}});var p=C(h,2);kt(p,{get value(){return c(a)}});var _=C(p,2);kt(_,{get value(){return c(i)}});var b=C(u,2),g=E(b);G(()=>{ve(u,"style",`background-color: ${c(o)??""}`),he(g,e.label)}),x(r,s),Z()}const Na=[EvalError,RangeError,ReferenceError,SyntaxError,TypeError,URIError,globalThis.DOMException,globalThis.AssertionError,globalThis.SystemError].filter(Boolean).map(r=>[r.name,r]),Ma=new Map(Na);class an extends Error{constructor(t){super(an._prepareSuperMessage(t));Er(this,"name","NonError")}static _prepareSuperMessage(t){try{return JSON.stringify(t)}catch{return String(t)}}}const Ra=[{property:"name",enumerable:!1},{property:"message",enumerable:!1},{property:"stack",enumerable:!1},{property:"code",enumerable:!0},{property:"cause",enumerable:!1}],Xr=new WeakSet,Fa=r=>{Xr.add(r);const e=r.toJSON();return Xr.delete(r),e},Zn=r=>Ma.get(r)??Error,ln=({from:r,seen:e,to:t,forceEnumerable:n,maxDepth:o,depth:a,useToJSON:i,serialize:l})=>{if(!t)if(Array.isArray(r))t=[];else if(!l&&Sn(r)){const u=Zn(r.name);t=new u}else t={};if(e.push(r),a>=o)return t;if(i&&typeof r.toJSON=="function"&&!Xr.has(r))return Fa(r);const s=u=>ln({from:u,seen:[...e],forceEnumerable:n,maxDepth:o,depth:a,useToJSON:i,serialize:l});for(const[u,f]of Object.entries(r)){if(f&&f instanceof Uint8Array&&f.constructor.name==="Buffer"){t[u]="[object Buffer]";continue}if(f!==null&&typeof f=="object"&&typeof f.pipe=="function"){t[u]="[object Stream]";continue}if(typeof f!="function"){if(!f||typeof f!="object"){try{t[u]=f}catch{}continue}if(!e.includes(r[u])){a++,t[u]=s(r[u]);continue}t[u]="[Circular]"}}for(const{property:u,enumerable:f}of Ra)typeof r[u]<"u"&&r[u]!==null&&Object.defineProperty(t,u,{value:Sn(r[u])?s(r[u]):r[u],enumerable:n?!0:f,configurable:!0,writable:!0});return t};function Ha(r,e={}){const{maxDepth:t=Number.POSITIVE_INFINITY,useToJSON:n=!0}=e;return typeof r=="object"&&r!==null?ln({from:r,seen:[],forceEnumerable:!0,maxDepth:t,depth:0,useToJSON:n,serialize:!0}):typeof r=="function"?`[Function: ${r.name||"anonymous"}]`:r}function ja(r,e={}){const{maxDepth:t=Number.POSITIVE_INFINITY}=e;if(r instanceof Error)return r;if(Ya(r)){const n=Zn(r.name);return ln({from:r,seen:[],to:new n,maxDepth:t,depth:0,serialize:!1})}return new an(r)}function Sn(r){return!!r&&typeof r=="object"&&"name"in r&&"message"in r&&"stack"in r}function Ya(r){return!!r&&typeof r=="object"&&"message"in r&&!Array.isArray(r)}var La=Object.defineProperty,Ba=Object.defineProperties,Wa=Object.getOwnPropertyDescriptors,Dn=Object.getOwnPropertySymbols,Xa=Object.prototype.hasOwnProperty,za=Object.prototype.propertyIsEnumerable,kn=(r,e,t)=>e in r?La(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Cn=(r,e)=>{for(var t in e||(e={}))Xa.call(e,t)&&kn(r,t,e[t]);if(Dn)for(var t of Dn(e))za.call(e,t)&&kn(r,t,e[t]);return r},In=(r,e)=>Ba(r,Wa(e)),Ga=(r,e,t)=>new Promise((n,o)=>{var a=s=>{try{l(t.next(s))}catch(u){o(u)}},i=s=>{try{l(t.throw(s))}catch(u){o(u)}},l=s=>s.done?n(s.value):Promise.resolve(s.value).then(a,i);l((t=t.apply(r,e)).next())});function Ua(r){let e,t={};function n(){Object.entries(t).length===0&&(e==null||e(),e=void 0)}let o=Math.floor(Math.random()*1e4);function a(){return o++}return{sendMessage(i,l,...s){return Ga(this,null,function*(){var u,f,v,d;const h={id:a(),type:i,data:l,timestamp:Date.now()},p=(f=yield(u=r.verifyMessageData)==null?void 0:u.call(r,h))!=null?f:h;(v=r.logger)==null||v.debug(`[messaging] sendMessage {id=${p.id}} ─ᐅ`,p,...s);const _=yield r.sendMessage(p,...s),{res:b,err:g}=_??{err:new Error("No response")};if((d=r.logger)==null||d.debug(`[messaging] sendMessage {id=${p.id}} ᐊ─`,{res:b,err:g}),g!=null)throw ja(g);return b})},onMessage(i,l){var s,u,f;if(e==null&&((s=r.logger)==null||s.debug(`[messaging] "${i}" initialized the message listener for this context`),e=r.addRootListener(v=>{var d,h;if(typeof v.type!="string"||typeof v.timestamp!="number"){if(r.breakError)return;const b=Error(`[messaging] Unknown message format, must include the 'type' & 'timestamp' fields, received: ${JSON.stringify(v)}`);throw(d=r.logger)==null||d.error(b),b}(h=r==null?void 0:r.logger)==null||h.debug("[messaging] Received message",v);const p=t[v.type];if(p==null)return;const _=p(v);return Promise.resolve(_).then(b=>{var g,w;return(w=(g=r.verifyMessageData)==null?void 0:g.call(r,b))!=null?w:b}).then(b=>{var g;return(g=r==null?void 0:r.logger)==null||g.debug(`[messaging] onMessage {id=${v.id}} ─ᐅ`,{res:b}),{res:b}}).catch(b=>{var g;return(g=r==null?void 0:r.logger)==null||g.debug(`[messaging] onMessage {id=${v.id}} ─ᐅ`,{err:b}),{err:Ha(b)}})})),t[i]!=null){const v=Error(`[messaging] In this JS context, only one listener can be setup for ${i}`);throw(u=r.logger)==null||u.error(v),v}return t[i]=l,(f=r.logger)==null||f.log(`[messaging] Added listener for ${i}`),()=>{delete t[i],n()}},removeAllListeners(){Object.keys(t).forEach(i=>{delete t[i]}),n()}}}function $a(r){return Ua(In(Cn({},r),{sendMessage(e,t){return t==null?Ut.runtime.sendMessage(e):Ut.tabs.sendMessage(t,e)},addRootListener(e){const t=(n,o)=>e(typeof n=="object"?In(Cn({},n),{sender:o}):n);return Ut.runtime.onMessage.addListener(t),()=>Ut.runtime.onMessage.removeListener(t)}}))}const{sendMessage:Va,onMessage:Ps}=$a();async function Ja(){return(await it.tabs.query({active:!0,currentWindow:!0}))[0]}var Ka=A("<title> </title>"),qa=st("<path></path>"),Za=st("<rect></rect>"),Qa=st("<circle></circle>"),ei=st("<polygon></polygon>"),ti=st("<polyline></polyline>"),ri=st("<line></line>"),ni=st("<svg><!><!><!><!><!><!><!></svg>");function le(r,e){q(e,!0);let t=T(e,"size",7,"100%"),n=T(e,"theme",3,"default"),o=T(e,"title",3,void 0),a=Lo(e,["$$slots","$$events","$$legacy","src","size","theme","title"]);const i=L(()=>{var g,w,m;return((g=e.src)==null?void 0:g[n()])??((w=e.src)==null?void 0:w.default)??((m=Object.values(e.src))==null?void 0:m[0])});if(t()!=="100%"&&t().slice(-1)!="x"&&t().slice(-1)!="m"&&t().slice(-1)!="%")try{t(parseInt(t())+"px")}catch{t("100%")}var l=ni();let s;var u=E(l);{var f=g=>{var w=Ka(),m=E(w);G(()=>he(m,o())),x(g,w)};j(u,g=>{o()&&g(f)})}var v=C(u);ge(v,17,()=>{var g;return((g=c(i))==null?void 0:g.path)??[]},je,(g,w)=>{var m=qa();let y;G(()=>y=et(m,y,{...c(w)},void 0,!0)),x(g,m)});var d=C(v);ge(d,17,()=>{var g;return((g=c(i))==null?void 0:g.rect)??[]},je,(g,w)=>{var m=Za();let y;G(()=>y=et(m,y,{...c(w)},void 0,!0)),x(g,m)});var h=C(d);ge(h,17,()=>{var g;return((g=c(i))==null?void 0:g.circle)??[]},je,(g,w)=>{var m=Qa();let y;G(()=>y=et(m,y,{...c(w)},void 0,!0)),x(g,m)});var p=C(h);ge(p,17,()=>{var g;return((g=c(i))==null?void 0:g.polygon)??[]},je,(g,w)=>{var m=ei();let y;G(()=>y=et(m,y,{...c(w)},void 0,!0)),x(g,m)});var _=C(p);ge(_,17,()=>{var g;return((g=c(i))==null?void 0:g.polyline)??[]},je,(g,w)=>{var m=ti();let y;G(()=>y=et(m,y,{...c(w)},void 0,!0)),x(g,m)});var b=C(_);ge(b,17,()=>{var g;return((g=c(i))==null?void 0:g.line)??[]},je,(g,w)=>{var m=ri();let y;G(()=>y=et(m,y,{...c(w)},void 0,!0)),x(g,m)}),G(()=>{var g;return s=et(l,s,{...(g=c(i))==null?void 0:g.a,xmlns:"http://www.w3.org/2000/svg",width:t(),height:t(),...a},void 0,!0)}),x(r,l),Z()}const Tn=async(r,e,t,n,o,a)=>{!e()&&t()!==-1?n():o()!==""?it.tabs.create({url:o()}):a()>0&&it.tabs.create({url:`https://github.com/kepi/chromeEyeDropper/issues/${a()}`}),r.preventDefault()};var oi=A('<button class="btn btn-xs bg-slate-700 hover:bg-orange-700 text-white"> </button>'),ai=A(`<div class="-mt-2 mb-2 p-2 rounded bg-yellow-300 border-2 btn-warning prose prose-sm text-sm"><div><strong>Sorry, you can't pick from this page</strong></div> <div class="mt-2 text-xs leading-5"> <!></div></div>`),ii=A("<!> Pick a color from this web",1),li=A('<div class="before:left-24"><button class="btn btn-sm btn-success hover:btn-accent shadow-md font-bold"><!></button></div>'),si=A("<div><!></div>");function He(r,e){q(e,!0);const t=we(),n=()=>te(Wo,"$enableErrorReportingTab",t);let o=T(e,"reason",15,"Pick a color from active tab"),a=T(e,"tabId",19,()=>-1),i=T(e,"href",15,""),l=T(e,"issueId",3,0),s=T(e,"error",15,!1),u=L(()=>a()===-1&&i()===""),f=L(()=>a()===-1&&i()!=="");const v=async()=>{const b=await Va("pickFromWeb",a());if(console.log("Received",b),b.status==="ok")window.close();else{const g=`https://eyedropper.org/error/?status=${b.status}&error=${b.error}&version=4.10.3.10`;n()?(it.tabs.create({url:g,active:!0}),window.close()):(s(!0),o("Click to report and get more info"),i(g))}};var d=si(),h=E(d);{var p=b=>{var g=ai(),w=C(E(g),2),m=E(w),y=C(m);{var I=P=>{var k=oi();k.__click=[Tn,s,a,v,i,l];var D=E(k);G(()=>he(D,c(f)?"Read why":`See issue #${l()}`)),x(P,k)};j(y,P=>{(c(f)||l()>0)&&P(I)})}G(()=>he(m,`${o()??""} `)),x(b,g)},_=b=>{var g=li(),w=E(g);w.__click=[Tn,s,a,v,i,l];var m=E(w);{var y=P=>{var k=Yr("Sorry, picking a color failed");x(P,k)},I=P=>{var k=ii(),D=F(k);le(D,{class:"hover:stroke-primary w-4 h-4 hover:scale-125",src:Bo}),x(P,k)};j(m,P=>{s()?P(y):P(I,!1)})}G(()=>{w.disabled=c(u),Ee(w,"bg-neutral-300",c(f)),Ee(w,"border-neutral-300",c(f)),Ee(w,"hover:bg-neutral-300",c(f)),Ee(w,"hover:border-neutral-300",c(f)),Ee(w,"bg-red-300",s()),Ee(w,"hover:bg-red-500",s())}),x(b,g)};j(h,b=>{c(f)||c(u)?b(p):b(_,!1)})}x(r,d),Z()}ae(["click"]);var ci=A('<div class="-mt-6"></div>');function ui(r,e){q(e,!1);const t=Xo("firefox");xt();var n=J(),o=F(n);Br(o,Ja,null,(a,i)=>{var l=J(),s=F(l);{var u=v=>{He(v,{reason:"Can't pick from this page. Your browser won't allow me to access it."})},f=v=>{var d=J(),h=F(d);{var p=b=>{He(b,{reason:"Can't pick from new blank page. Your browser won't allow me to access it."})},_=b=>{var g=J(),w=F(g);{var m=I=>{var P=ci();x(I,P)},y=I=>{var P=J();const k=Gn(()=>new URL(c(i).url));var D=F(P);{var O=M=>{He(M,{reason:"Can't pick form source view page. Your browser won't allow me to access it."})},B=M=>{var Y=J(),z=F(Y);{var W=U=>{var Q=J(),ie=F(Q);Br(ie,()=>it.extension.isAllowedFileSchemeAccess(),null,(fe,Ue)=>{var me=J(),ye=F(me);{var Qe=Se=>{He(Se,{get tabId(){return c(i).id}})},Ae=Se=>{He(Se,{reason:"You have to allow access to file URL's first if you want to pick color from local files.",href:"https://eyedropper.org/help/file-urls"})};j(ye,Se=>{c(Ue)?Se(Qe):Se(Ae,!1)})}x(fe,me)}),x(U,Q)},V=U=>{var Q=J(),ie=F(Q);{var fe=me=>{He(me,{get reason(){return`${t??""} extensions are not allowed to interact with ${c(k).protocol??""} pages.`}})},Ue=me=>{var ye=J(),Qe=F(ye);{var Ae=Pe=>{He(Pe,{reason:`${t??""} extensions are not allowed to interact with restricted sites.`})},Se=Pe=>{var ct=J(),Et=F(ct);{var br=$e=>{He($e,{reason:"Root of the page is inline data image and I can't interact with it yet.",issueId:264})},_r=$e=>{var zt=J(),wr=F(zt);{var yr=Ne=>{He(Ne,{reason:"Root of the page is SVG image and I can't interact with it yet.",issueId:213})},Fe=Ne=>{var Gt=J(),St=F(Gt);{var go=xr=>{He(xr,{get tabId(){return c(i).id}})};j(St,xr=>{c(i).id!==void 0&&xr(go)},!0)}x(Ne,Gt)};j(wr,Ne=>{c(i).url.endsWith(".svg")?Ne(yr):Ne(Fe,!1)},!0)}x($e,zt)};j(Et,$e=>{c(i).url.startsWith("data:image")?$e(br):$e(_r,!1)},!0)}x(Pe,ct)};j(Qe,Pe=>{zo(c(k))?Pe(Ae):Pe(Se,!1)},!0)}x(me,ye)};j(ie,me=>{Go(c(k).protocol)?me(fe):me(Ue,!1)},!0)}x(U,Q)};j(z,U=>{c(k).protocol==="file"?U(W):U(V,!1)},!0)}x(M,Y)};j(D,M=>{c(k).protocol==="view-source"?M(O):M(B,!1)})}x(I,P)};j(w,I=>{c(i).url.startsWith(it.runtime.getURL("/popup.html"))?I(m):I(y,!1)},!0)}x(b,g)};j(h,b=>{c(i).url==="about:blank"?b(p):b(_,!1)},!0)}x(v,d)};j(s,v=>{c(i).url===void 0?v(u):v(f,!1)})}x(a,l)}),x(r,n),Z()}function di(){const{subscribe:r,update:e}=$o({active:{id:-1,name:"loading palettes...",createdAt:Date.now(),sortBy:"t:asc",colors:[],unsorted:[],deleted:[],weight:0}});function t(d){if(d)try{return JSON.parse(Vo(d.newValue))}catch{return d.newValue}}it.storage.onChanged.addListener((d,h)=>{if(h==="sync"){const p=d.p;if(p){const _=t(p);s(_)}Object.keys(d).forEach(_=>{const b=_.match(/^p([0-9]+)[cm]$/);if(b){const g=d[_],w=Number(b[1]),m=_.slice(-1);(m==="c"&&g.newValue||m==="m"&&g.newValue)&&o(w)}})}});async function n(d){const h=await Jo(null,d,[]);return await o(h),f(h),h}async function o(d){const h=await Uo(d);a(d,h)}function a(d,h){e(p=>{var w;const _=((w=p.active)==null?void 0:w.id)===d?{active:h}:{},b=Object.keys(p).filter(m=>/^[0-9]+$/.test(m)).map(m=>p[Number(m)]).sort((m,y)=>m.weight-y.weight).map(m=>m.id);return{...p,[d]:h,..._,ids:b}})}function i(d){e(h=>{if(h.active&&h.active.id!=d){const{[d]:p,..._}=h;return Ko(d),_}return h})}function l(d,h,p,_,b){h&&(_+=d.unsorted.length),p&&(b+=d.unsorted.length);const g=d.unsorted.concat(d.deleted),w=g[_];p?w.d===void 0&&(w.d=Date.now()):w.d=void 0,g.splice(_,1),g.splice(b,0,w),qo(d.id,g)}function s(d){e(h=>({...h,active:h[d]}))}function u(d,h){e(p=>{const _=p[d];return _.name=h,{...p,[d]:_}})}function f(d){tn(d)}async function v(){const h=(await Zo()).map(async _=>{await o(_)}),p=await Qo();await Promise.all(h),s(p)}return v(),{subscribe:r,addPalette:a,destroyPalette:i,switchPalette:f,createPalette:n,renamePalette:u,manualSort:l}}const ke=di(),fi=(r,e,t)=>{e().active!==void 0&&(rn(e().active.id),t())},vi=(r,e,t)=>{e().active!==void 0&&(rn(e().active.id,{colors:"default"}),t())},hi=(r,e,t)=>{e().active!==void 0&&(rn(e().active.id,{colors:"random"}),t())};var pi=A(`<h4>Wipe your palette clean?</h4> <p>There is no comming back! All colors in your current palette <b>will be deleted</b>.</p> <p><b>You can't restore them after wipe!</b></p> <div class="gap-2 flex flex-wrap"><button class="btn btn-sm btn-secondary">wipe clean</button> <button class="btn btn-sm btn-secondary">wipe and add default colors</button> <button class="btn btn-sm btn-secondary">wipe and add some random colors</button></div> <div class="flex gap-2 items-center mt-2"><p>I changed my mind,</p> <button class="btn btn-sm btn-primary">leave my colors alone.</button></div>`,1);function gi(r,e){q(e,!1);const t=we(),n=()=>te(ke,"$pStore",t),o=()=>{_e(se,"palette")};xt();var a=pi(),i=C(F(a),6),l=E(i);l.__click=[fi,n,o];var s=C(l,2);s.__click=[vi,n,o];var u=C(s,2);u.__click=[hi,n,o];var f=C(i,2),v=C(E(f),2);v.__click=o,x(r,a),Z()}ae(["click"]);const mi=(r,e,t)=>r.toSpliced(e,1).toSpliced(t,0,r[e]);function Pn(r,e){return r.length>e?r.slice(0,e-1).trim()+"…":r}const bi=r=>{const o=r.reduce((i,l)=>i+l.name.length+3,0);if(r.length>10&&(r=r.toSpliced(10)),o<=38)return r;if(r.reduce((i,l)=>i+3+(l.name.length>8?8:l.name.length),0)<=38)return r.map(i=>({id:i.id,name:Pn(i.name,8)}));{let i=[],l=0;return r.forEach(s=>{const u=Pn(s.name,8);if(l+=u.length,l>38)return i;i.push({id:s.id,name:u})}),i}};/**!
 * Sortable 1.15.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function On(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,n)}return t}function Le(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?On(Object(t),!0).forEach(function(n){_i(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):On(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function tr(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?tr=function(e){return typeof e}:tr=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tr(r)}function _i(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Xe(){return Xe=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Xe.apply(this,arguments)}function wi(r,e){if(r==null)return{};var t={},n=Object.keys(r),o,a;for(a=0;a<n.length;a++)o=n[a],!(e.indexOf(o)>=0)&&(t[o]=r[o]);return t}function yi(r,e){if(r==null)return{};var t=wi(r,e),n,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(o=0;o<a.length;o++)n=a[o],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}var xi="1.15.2";function We(r){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(r)}var Ge=We(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Wt=We(/Edge/i),An=We(/firefox/i),At=We(/safari/i)&&!We(/chrome/i)&&!We(/android/i),Qn=We(/iP(ad|od|hone)/i),eo=We(/chrome/i)&&We(/android/i),to={capture:!1,passive:!1};function K(r,e,t){r.addEventListener(e,t,!Ge&&to)}function $(r,e,t){r.removeEventListener(e,t,!Ge&&to)}function sr(r,e){if(e){if(e[0]===">"&&(e=e.substring(1)),r)try{if(r.matches)return r.matches(e);if(r.msMatchesSelector)return r.msMatchesSelector(e);if(r.webkitMatchesSelector)return r.webkitMatchesSelector(e)}catch{return!1}return!1}}function Ei(r){return r.host&&r!==document&&r.host.nodeType?r.host:r.parentNode}function Re(r,e,t,n){if(r){t=t||document;do{if(e!=null&&(e[0]===">"?r.parentNode===t&&sr(r,e):sr(r,e))||n&&r===t)return r;if(r===t)break}while(r=Ei(r))}return null}var Nn=/\s+/g;function Ce(r,e,t){if(r&&e)if(r.classList)r.classList[t?"add":"remove"](e);else{var n=(" "+r.className+" ").replace(Nn," ").replace(" "+e+" "," ");r.className=(n+(t?" "+e:"")).replace(Nn," ")}}function R(r,e,t){var n=r&&r.style;if(n){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(r,""):r.currentStyle&&(t=r.currentStyle),e===void 0?t:t[e];!(e in n)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),n[e]=t+(typeof t=="string"?"":"px")}}function mt(r,e){var t="";if(typeof r=="string")t=r;else do{var n=R(r,"transform");n&&n!=="none"&&(t=n+" "+t)}while(!e&&(r=r.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(t)}function ro(r,e,t){if(r){var n=r.getElementsByTagName(e),o=0,a=n.length;if(t)for(;o<a;o++)t(n[o],o);return n}return[]}function Ye(){var r=document.scrollingElement;return r||document.documentElement}function ue(r,e,t,n,o){if(!(!r.getBoundingClientRect&&r!==window)){var a,i,l,s,u,f,v;if(r!==window&&r.parentNode&&r!==Ye()?(a=r.getBoundingClientRect(),i=a.top,l=a.left,s=a.bottom,u=a.right,f=a.height,v=a.width):(i=0,l=0,s=window.innerHeight,u=window.innerWidth,f=window.innerHeight,v=window.innerWidth),(e||t)&&r!==window&&(o=o||r.parentNode,!Ge))do if(o&&o.getBoundingClientRect&&(R(o,"transform")!=="none"||t&&R(o,"position")!=="static")){var d=o.getBoundingClientRect();i-=d.top+parseInt(R(o,"border-top-width")),l-=d.left+parseInt(R(o,"border-left-width")),s=i+a.height,u=l+a.width;break}while(o=o.parentNode);if(n&&r!==window){var h=mt(o||r),p=h&&h.a,_=h&&h.d;h&&(i/=_,l/=p,v/=p,f/=_,s=i+f,u=l+v)}return{top:i,left:l,bottom:s,right:u,width:v,height:f}}}function Mn(r,e,t){for(var n=Ze(r,!0),o=ue(r)[e];n;){var a=ue(n)[t],i=void 0;if(i=o>=a,!i)return n;if(n===Ye())break;n=Ze(n,!1)}return!1}function yt(r,e,t,n){for(var o=0,a=0,i=r.children;a<i.length;){if(i[a].style.display!=="none"&&i[a]!==N.ghost&&(n||i[a]!==N.dragged)&&Re(i[a],t.draggable,r,!1)){if(o===e)return i[a];o++}a++}return null}function sn(r,e){for(var t=r.lastElementChild;t&&(t===N.ghost||R(t,"display")==="none"||e&&!sr(t,e));)t=t.previousElementSibling;return t||null}function Oe(r,e){var t=0;if(!r||!r.parentNode)return-1;for(;r=r.previousElementSibling;)r.nodeName.toUpperCase()!=="TEMPLATE"&&r!==N.clone&&(!e||sr(r,e))&&t++;return t}function Rn(r){var e=0,t=0,n=Ye();if(r)do{var o=mt(r),a=o.a,i=o.d;e+=r.scrollLeft*a,t+=r.scrollTop*i}while(r!==n&&(r=r.parentNode));return[e,t]}function Si(r,e){for(var t in r)if(r.hasOwnProperty(t)){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===r[t][n])return Number(t)}return-1}function Ze(r,e){if(!r||!r.getBoundingClientRect)return Ye();var t=r,n=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var o=R(t);if(t.clientWidth<t.scrollWidth&&(o.overflowX=="auto"||o.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(o.overflowY=="auto"||o.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return Ye();if(n||e)return t;n=!0}}while(t=t.parentNode);return Ye()}function Di(r,e){if(r&&e)for(var t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);return r}function Ir(r,e){return Math.round(r.top)===Math.round(e.top)&&Math.round(r.left)===Math.round(e.left)&&Math.round(r.height)===Math.round(e.height)&&Math.round(r.width)===Math.round(e.width)}var Nt;function no(r,e){return function(){if(!Nt){var t=arguments,n=this;t.length===1?r.call(n,t[0]):r.apply(n,t),Nt=setTimeout(function(){Nt=void 0},e)}}}function ki(){clearTimeout(Nt),Nt=void 0}function oo(r,e,t){r.scrollLeft+=e,r.scrollTop+=t}function ao(r){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(r).cloneNode(!0):t?t(r).clone(!0)[0]:r.cloneNode(!0)}function io(r,e,t){var n={};return Array.from(r.children).forEach(function(o){var a,i,l,s;if(!(!Re(o,e.draggable,r,!1)||o.animated||o===t)){var u=ue(o);n.left=Math.min((a=n.left)!==null&&a!==void 0?a:1/0,u.left),n.top=Math.min((i=n.top)!==null&&i!==void 0?i:1/0,u.top),n.right=Math.max((l=n.right)!==null&&l!==void 0?l:-1/0,u.right),n.bottom=Math.max((s=n.bottom)!==null&&s!==void 0?s:-1/0,u.bottom)}}),n.width=n.right-n.left,n.height=n.bottom-n.top,n.x=n.left,n.y=n.top,n}var Te="Sortable"+new Date().getTime();function Ci(){var r=[],e;return{captureAnimationState:function(){if(r=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(o){if(!(R(o,"display")==="none"||o===N.ghost)){r.push({target:o,rect:ue(o)});var a=Le({},r[r.length-1].rect);if(o.thisAnimationDuration){var i=mt(o,!0);i&&(a.top-=i.f,a.left-=i.e)}o.fromRect=a}})}},addAnimationState:function(n){r.push(n)},removeAnimationState:function(n){r.splice(Si(r,{target:n}),1)},animateAll:function(n){var o=this;if(!this.options.animation){clearTimeout(e),typeof n=="function"&&n();return}var a=!1,i=0;r.forEach(function(l){var s=0,u=l.target,f=u.fromRect,v=ue(u),d=u.prevFromRect,h=u.prevToRect,p=l.rect,_=mt(u,!0);_&&(v.top-=_.f,v.left-=_.e),u.toRect=v,u.thisAnimationDuration&&Ir(d,v)&&!Ir(f,v)&&(p.top-v.top)/(p.left-v.left)===(f.top-v.top)/(f.left-v.left)&&(s=Ti(p,d,h,o.options)),Ir(v,f)||(u.prevFromRect=f,u.prevToRect=v,s||(s=o.options.animation),o.animate(u,p,v,s)),s&&(a=!0,i=Math.max(i,s),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},s),u.thisAnimationDuration=s)}),clearTimeout(e),a?e=setTimeout(function(){typeof n=="function"&&n()},i):typeof n=="function"&&n(),r=[]},animate:function(n,o,a,i){if(i){R(n,"transition",""),R(n,"transform","");var l=mt(this.el),s=l&&l.a,u=l&&l.d,f=(o.left-a.left)/(s||1),v=(o.top-a.top)/(u||1);n.animatingX=!!f,n.animatingY=!!v,R(n,"transform","translate3d("+f+"px,"+v+"px,0)"),this.forRepaintDummy=Ii(n),R(n,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),R(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){R(n,"transition",""),R(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},i)}}}}function Ii(r){return r.offsetWidth}function Ti(r,e,t,n){return Math.sqrt(Math.pow(e.top-r.top,2)+Math.pow(e.left-r.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*n.animation}var ut=[],Tr={initializeByDefault:!0},Xt={mount:function(e){for(var t in Tr)Tr.hasOwnProperty(t)&&!(t in e)&&(e[t]=Tr[t]);ut.forEach(function(n){if(n.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),ut.push(e)},pluginEvent:function(e,t,n){var o=this;this.eventCanceled=!1,n.cancel=function(){o.eventCanceled=!0};var a=e+"Global";ut.forEach(function(i){t[i.pluginName]&&(t[i.pluginName][a]&&t[i.pluginName][a](Le({sortable:t},n)),t.options[i.pluginName]&&t[i.pluginName][e]&&t[i.pluginName][e](Le({sortable:t},n)))})},initializePlugins:function(e,t,n,o){ut.forEach(function(l){var s=l.pluginName;if(!(!e.options[s]&&!l.initializeByDefault)){var u=new l(e,t,e.options);u.sortable=e,u.options=e.options,e[s]=u,Xe(n,u.defaults)}});for(var a in e.options)if(e.options.hasOwnProperty(a)){var i=this.modifyOption(e,a,e.options[a]);typeof i<"u"&&(e.options[a]=i)}},getEventProperties:function(e,t){var n={};return ut.forEach(function(o){typeof o.eventProperties=="function"&&Xe(n,o.eventProperties.call(t[o.pluginName],e))}),n},modifyOption:function(e,t,n){var o;return ut.forEach(function(a){e[a.pluginName]&&a.optionListeners&&typeof a.optionListeners[t]=="function"&&(o=a.optionListeners[t].call(e[a.pluginName],n))}),o}};function Pi(r){var e=r.sortable,t=r.rootEl,n=r.name,o=r.targetEl,a=r.cloneEl,i=r.toEl,l=r.fromEl,s=r.oldIndex,u=r.newIndex,f=r.oldDraggableIndex,v=r.newDraggableIndex,d=r.originalEvent,h=r.putSortable,p=r.extraEventProperties;if(e=e||t&&t[Te],!!e){var _,b=e.options,g="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!Ge&&!Wt?_=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(_=document.createEvent("Event"),_.initEvent(n,!0,!0)),_.to=i||t,_.from=l||t,_.item=o||t,_.clone=a,_.oldIndex=s,_.newIndex=u,_.oldDraggableIndex=f,_.newDraggableIndex=v,_.originalEvent=d,_.pullMode=h?h.lastPutMode:void 0;var w=Le(Le({},p),Xt.getEventProperties(n,e));for(var m in w)_[m]=w[m];t&&t.dispatchEvent(_),b[g]&&b[g].call(e,_)}}var Oi=["evt"],De=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=n.evt,a=yi(n,Oi);Xt.pluginEvent.bind(N)(e,t,Le({dragEl:S,parentEl:oe,ghostEl:H,rootEl:ee,nextEl:nt,lastDownEl:rr,cloneEl:re,cloneHidden:Ke,dragStarted:It,putSortable:pe,activeSortable:N.active,originalEvent:o,oldIndex:ht,oldDraggableIndex:Mt,newIndex:Ie,newDraggableIndex:Je,hideGhostForTarget:uo,unhideGhostForTarget:fo,cloneNowHidden:function(){Ke=!0},cloneNowShown:function(){Ke=!1},dispatchSortableEvent:function(l){xe({sortable:t,name:l,originalEvent:o})}},a))};function xe(r){Pi(Le({putSortable:pe,cloneEl:re,targetEl:S,rootEl:ee,oldIndex:ht,oldDraggableIndex:Mt,newIndex:Ie,newDraggableIndex:Je},r))}var S,oe,H,ee,nt,rr,re,Ke,ht,Ie,Mt,Je,Jt,pe,vt=!1,cr=!1,ur=[],tt,Me,Pr,Or,Fn,Hn,It,dt,Rt,Ft=!1,Kt=!1,nr,be,Ar=[],zr=!1,dr=[],mr=typeof document<"u",qt=Qn,jn=Wt||Ge?"cssFloat":"float",Ai=mr&&!eo&&!Qn&&"draggable"in document.createElement("div"),lo=function(){if(mr){if(Ge)return!1;var r=document.createElement("x");return r.style.cssText="pointer-events:auto",r.style.pointerEvents==="auto"}}(),so=function(e,t){var n=R(e),o=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),a=yt(e,0,t),i=yt(e,1,t),l=a&&R(a),s=i&&R(i),u=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+ue(a).width,f=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+ue(i).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(a&&l.float&&l.float!=="none"){var v=l.float==="left"?"left":"right";return i&&(s.clear==="both"||s.clear===v)?"vertical":"horizontal"}return a&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||u>=o&&n[jn]==="none"||i&&n[jn]==="none"&&u+f>o)?"vertical":"horizontal"},Ni=function(e,t,n){var o=n?e.left:e.top,a=n?e.right:e.bottom,i=n?e.width:e.height,l=n?t.left:t.top,s=n?t.right:t.bottom,u=n?t.width:t.height;return o===l||a===s||o+i/2===l+u/2},Mi=function(e,t){var n;return ur.some(function(o){var a=o[Te].options.emptyInsertThreshold;if(!(!a||sn(o))){var i=ue(o),l=e>=i.left-a&&e<=i.right+a,s=t>=i.top-a&&t<=i.bottom+a;if(l&&s)return n=o}}),n},co=function(e){function t(a,i){return function(l,s,u,f){var v=l.options.group.name&&s.options.group.name&&l.options.group.name===s.options.group.name;if(a==null&&(i||v))return!0;if(a==null||a===!1)return!1;if(i&&a==="clone")return a;if(typeof a=="function")return t(a(l,s,u,f),i)(l,s,u,f);var d=(i?l:s).options.group.name;return a===!0||typeof a=="string"&&a===d||a.join&&a.indexOf(d)>-1}}var n={},o=e.group;(!o||tr(o)!="object")&&(o={name:o}),n.name=o.name,n.checkPull=t(o.pull,!0),n.checkPut=t(o.put),n.revertClone=o.revertClone,e.group=n},uo=function(){!lo&&H&&R(H,"display","none")},fo=function(){!lo&&H&&R(H,"display","")};mr&&!eo&&document.addEventListener("click",function(r){if(cr)return r.preventDefault(),r.stopPropagation&&r.stopPropagation(),r.stopImmediatePropagation&&r.stopImmediatePropagation(),cr=!1,!1},!0);var rt=function(e){if(S){e=e.touches?e.touches[0]:e;var t=Mi(e.clientX,e.clientY);if(t){var n={};for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[Te]._onDragOver(n)}}},Ri=function(e){S&&S.parentNode[Te]._isOutsideThisEl(e.target)};function N(r,e){if(!(r&&r.nodeType&&r.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(r));this.el=r,this.options=e=Xe({},e),r[Te]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(r.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return so(r,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(i,l){i.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:N.supportPointer!==!1&&"PointerEvent"in window&&!At,emptyInsertThreshold:5};Xt.initializePlugins(this,r,t);for(var n in t)!(n in e)&&(e[n]=t[n]);co(e);for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));this.nativeDraggable=e.forceFallback?!1:Ai,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?K(r,"pointerdown",this._onTapStart):(K(r,"mousedown",this._onTapStart),K(r,"touchstart",this._onTapStart)),this.nativeDraggable&&(K(r,"dragover",this),K(r,"dragenter",this)),ur.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Xe(this,Ci())}N.prototype={constructor:N,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(dt=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,S):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,o=this.options,a=o.preventOnFilter,i=e.type,l=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,s=(l||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,f=o.filter;if(Xi(n),!S&&!(/mousedown|pointerdown/.test(i)&&e.button!==0||o.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&At&&s&&s.tagName.toUpperCase()==="SELECT")&&(s=Re(s,o.draggable,n,!1),!(s&&s.animated)&&rr!==s)){if(ht=Oe(s),Mt=Oe(s,o.draggable),typeof f=="function"){if(f.call(this,e,s,this)){xe({sortable:t,rootEl:u,name:"filter",targetEl:s,toEl:n,fromEl:n}),De("filter",t,{evt:e}),a&&e.cancelable&&e.preventDefault();return}}else if(f&&(f=f.split(",").some(function(v){if(v=Re(u,v.trim(),n,!1),v)return xe({sortable:t,rootEl:v,name:"filter",targetEl:s,fromEl:n,toEl:n}),De("filter",t,{evt:e}),!0}),f)){a&&e.cancelable&&e.preventDefault();return}o.handle&&!Re(u,o.handle,n,!1)||this._prepareDragStart(e,l,s)}}},_prepareDragStart:function(e,t,n){var o=this,a=o.el,i=o.options,l=a.ownerDocument,s;if(n&&!S&&n.parentNode===a){var u=ue(n);if(ee=a,S=n,oe=S.parentNode,nt=S.nextSibling,rr=n,Jt=i.group,N.dragged=S,tt={target:S,clientX:(t||e).clientX,clientY:(t||e).clientY},Fn=tt.clientX-u.left,Hn=tt.clientY-u.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,S.style["will-change"]="all",s=function(){if(De("delayEnded",o,{evt:e}),N.eventCanceled){o._onDrop();return}o._disableDelayedDragEvents(),!An&&o.nativeDraggable&&(S.draggable=!0),o._triggerDragStart(e,t),xe({sortable:o,name:"choose",originalEvent:e}),Ce(S,i.chosenClass,!0)},i.ignore.split(",").forEach(function(f){ro(S,f.trim(),Nr)}),K(l,"dragover",rt),K(l,"mousemove",rt),K(l,"touchmove",rt),K(l,"mouseup",o._onDrop),K(l,"touchend",o._onDrop),K(l,"touchcancel",o._onDrop),An&&this.nativeDraggable&&(this.options.touchStartThreshold=4,S.draggable=!0),De("delayStart",this,{evt:e}),i.delay&&(!i.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(Wt||Ge))){if(N.eventCanceled){this._onDrop();return}K(l,"mouseup",o._disableDelayedDrag),K(l,"touchend",o._disableDelayedDrag),K(l,"touchcancel",o._disableDelayedDrag),K(l,"mousemove",o._delayedDragTouchMoveHandler),K(l,"touchmove",o._delayedDragTouchMoveHandler),i.supportPointer&&K(l,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(s,i.delay)}else s()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){S&&Nr(S),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;$(e,"mouseup",this._disableDelayedDrag),$(e,"touchend",this._disableDelayedDrag),$(e,"touchcancel",this._disableDelayedDrag),$(e,"mousemove",this._delayedDragTouchMoveHandler),$(e,"touchmove",this._delayedDragTouchMoveHandler),$(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?K(document,"pointermove",this._onTouchMove):t?K(document,"touchmove",this._onTouchMove):K(document,"mousemove",this._onTouchMove):(K(S,"dragend",this),K(ee,"dragstart",this._onDragStart));try{document.selection?or(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(vt=!1,ee&&S){De("dragStarted",this,{evt:t}),this.nativeDraggable&&K(document,"dragover",Ri);var n=this.options;!e&&Ce(S,n.dragClass,!1),Ce(S,n.ghostClass,!0),N.active=this,e&&this._appendGhost(),xe({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(Me){this._lastX=Me.clientX,this._lastY=Me.clientY,uo();for(var e=document.elementFromPoint(Me.clientX,Me.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Me.clientX,Me.clientY),e!==t);)t=e;if(S.parentNode[Te]._isOutsideThisEl(e),t)do{if(t[Te]){var n=void 0;if(n=t[Te]._onDragOver({clientX:Me.clientX,clientY:Me.clientY,target:e,rootEl:t}),n&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);fo()}},_onTouchMove:function(e){if(tt){var t=this.options,n=t.fallbackTolerance,o=t.fallbackOffset,a=e.touches?e.touches[0]:e,i=H&&mt(H,!0),l=H&&i&&i.a,s=H&&i&&i.d,u=qt&&be&&Rn(be),f=(a.clientX-tt.clientX+o.x)/(l||1)+(u?u[0]-Ar[0]:0)/(l||1),v=(a.clientY-tt.clientY+o.y)/(s||1)+(u?u[1]-Ar[1]:0)/(s||1);if(!N.active&&!vt){if(n&&Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(H){i?(i.e+=f-(Pr||0),i.f+=v-(Or||0)):i={a:1,b:0,c:0,d:1,e:f,f:v};var d="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");R(H,"webkitTransform",d),R(H,"mozTransform",d),R(H,"msTransform",d),R(H,"transform",d),Pr=f,Or=v,Me=a}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!H){var e=this.options.fallbackOnBody?document.body:ee,t=ue(S,!0,qt,!0,e),n=this.options;if(qt){for(be=e;R(be,"position")==="static"&&R(be,"transform")==="none"&&be!==document;)be=be.parentNode;be!==document.body&&be!==document.documentElement?(be===document&&(be=Ye()),t.top+=be.scrollTop,t.left+=be.scrollLeft):be=Ye(),Ar=Rn(be)}H=S.cloneNode(!0),Ce(H,n.ghostClass,!1),Ce(H,n.fallbackClass,!0),Ce(H,n.dragClass,!0),R(H,"transition",""),R(H,"transform",""),R(H,"box-sizing","border-box"),R(H,"margin",0),R(H,"top",t.top),R(H,"left",t.left),R(H,"width",t.width),R(H,"height",t.height),R(H,"opacity","0.8"),R(H,"position",qt?"absolute":"fixed"),R(H,"zIndex","100000"),R(H,"pointerEvents","none"),N.ghost=H,e.appendChild(H),R(H,"transform-origin",Fn/parseInt(H.style.width)*100+"% "+Hn/parseInt(H.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,o=e.dataTransfer,a=n.options;if(De("dragStart",this,{evt:e}),N.eventCanceled){this._onDrop();return}De("setupClone",this),N.eventCanceled||(re=ao(S),re.removeAttribute("id"),re.draggable=!1,re.style["will-change"]="",this._hideClone(),Ce(re,this.options.chosenClass,!1),N.clone=re),n.cloneId=or(function(){De("clone",n),!N.eventCanceled&&(n.options.removeCloneOnHide||ee.insertBefore(re,S),n._hideClone(),xe({sortable:n,name:"clone"}))}),!t&&Ce(S,a.dragClass,!0),t?(cr=!0,n._loopId=setInterval(n._emulateDragOver,50)):($(document,"mouseup",n._onDrop),$(document,"touchend",n._onDrop),$(document,"touchcancel",n._onDrop),o&&(o.effectAllowed="move",a.setData&&a.setData.call(n,o,S)),K(document,"drop",n),R(S,"transform","translateZ(0)")),vt=!0,n._dragStartId=or(n._dragStarted.bind(n,t,e)),K(document,"selectstart",n),It=!0,At&&R(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,n=e.target,o,a,i,l=this.options,s=l.group,u=N.active,f=Jt===s,v=l.sort,d=pe||u,h,p=this,_=!1;if(zr)return;function b(ie,fe){De(ie,p,Le({evt:e,isOwner:f,axis:h?"vertical":"horizontal",revert:i,dragRect:o,targetRect:a,canSort:v,fromSortable:d,target:n,completed:w,onMove:function(me,ye){return Zt(ee,t,S,o,me,ue(me),e,ye)},changed:m},fe))}function g(){b("dragOverAnimationCapture"),p.captureAnimationState(),p!==d&&d.captureAnimationState()}function w(ie){return b("dragOverCompleted",{insertion:ie}),ie&&(f?u._hideClone():u._showClone(p),p!==d&&(Ce(S,pe?pe.options.ghostClass:u.options.ghostClass,!1),Ce(S,l.ghostClass,!0)),pe!==p&&p!==N.active?pe=p:p===N.active&&pe&&(pe=null),d===p&&(p._ignoreWhileAnimating=n),p.animateAll(function(){b("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==d&&(d.animateAll(),d._ignoreWhileAnimating=null)),(n===S&&!S.animated||n===t&&!n.animated)&&(dt=null),!l.dragoverBubble&&!e.rootEl&&n!==document&&(S.parentNode[Te]._isOutsideThisEl(e.target),!ie&&rt(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),_=!0}function m(){Ie=Oe(S),Je=Oe(S,l.draggable),xe({sortable:p,name:"change",toEl:t,newIndex:Ie,newDraggableIndex:Je,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),n=Re(n,l.draggable,t,!0),b("dragOver"),N.eventCanceled)return _;if(S.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||p._ignoreWhileAnimating===n)return w(!1);if(cr=!1,u&&!l.disabled&&(f?v||(i=oe!==ee):pe===this||(this.lastPutMode=Jt.checkPull(this,u,S,e))&&s.checkPut(this,u,S,e))){if(h=this._getDirection(e,n)==="vertical",o=ue(S),b("dragOverValid"),N.eventCanceled)return _;if(i)return oe=ee,g(),this._hideClone(),b("revert"),N.eventCanceled||(nt?ee.insertBefore(S,nt):ee.appendChild(S)),w(!0);var y=sn(t,l.draggable);if(!y||Yi(e,h,this)&&!y.animated){if(y===S)return w(!1);if(y&&t===e.target&&(n=y),n&&(a=ue(n)),Zt(ee,t,S,o,n,a,e,!!n)!==!1)return g(),y&&y.nextSibling?t.insertBefore(S,y.nextSibling):t.appendChild(S),oe=t,m(),w(!0)}else if(y&&ji(e,h,this)){var I=yt(t,0,l,!0);if(I===S)return w(!1);if(n=I,a=ue(n),Zt(ee,t,S,o,n,a,e,!1)!==!1)return g(),t.insertBefore(S,I),oe=t,m(),w(!0)}else if(n.parentNode===t){a=ue(n);var P=0,k,D=S.parentNode!==t,O=!Ni(S.animated&&S.toRect||o,n.animated&&n.toRect||a,h),B=h?"top":"left",M=Mn(n,"top","top")||Mn(S,"top","top"),Y=M?M.scrollTop:void 0;dt!==n&&(k=a[B],Ft=!1,Kt=!O&&l.invertSwap||D),P=Li(e,n,a,h,O?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,Kt,dt===n);var z;if(P!==0){var W=Oe(S);do W-=P,z=oe.children[W];while(z&&(R(z,"display")==="none"||z===H))}if(P===0||z===n)return w(!1);dt=n,Rt=P;var V=n.nextElementSibling,U=!1;U=P===1;var Q=Zt(ee,t,S,o,n,a,e,U);if(Q!==!1)return(Q===1||Q===-1)&&(U=Q===1),zr=!0,setTimeout(Hi,30),g(),U&&!V?t.appendChild(S):n.parentNode.insertBefore(S,U?V:n),M&&oo(M,0,Y-M.scrollTop),oe=S.parentNode,k!==void 0&&!Kt&&(nr=Math.abs(k-ue(n)[B])),m(),w(!0)}if(t.contains(S))return w(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){$(document,"mousemove",this._onTouchMove),$(document,"touchmove",this._onTouchMove),$(document,"pointermove",this._onTouchMove),$(document,"dragover",rt),$(document,"mousemove",rt),$(document,"touchmove",rt)},_offUpEvents:function(){var e=this.el.ownerDocument;$(e,"mouseup",this._onDrop),$(e,"touchend",this._onDrop),$(e,"pointerup",this._onDrop),$(e,"touchcancel",this._onDrop),$(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;if(Ie=Oe(S),Je=Oe(S,n.draggable),De("drop",this,{evt:e}),oe=S&&S.parentNode,Ie=Oe(S),Je=Oe(S,n.draggable),N.eventCanceled){this._nulling();return}vt=!1,Kt=!1,Ft=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Gr(this.cloneId),Gr(this._dragStartId),this.nativeDraggable&&($(document,"drop",this),$(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),At&&R(document.body,"user-select",""),R(S,"transform",""),e&&(It&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),H&&H.parentNode&&H.parentNode.removeChild(H),(ee===oe||pe&&pe.lastPutMode!=="clone")&&re&&re.parentNode&&re.parentNode.removeChild(re),S&&(this.nativeDraggable&&$(S,"dragend",this),Nr(S),S.style["will-change"]="",It&&!vt&&Ce(S,pe?pe.options.ghostClass:this.options.ghostClass,!1),Ce(S,this.options.chosenClass,!1),xe({sortable:this,name:"unchoose",toEl:oe,newIndex:null,newDraggableIndex:null,originalEvent:e}),ee!==oe?(Ie>=0&&(xe({rootEl:oe,name:"add",toEl:oe,fromEl:ee,originalEvent:e}),xe({sortable:this,name:"remove",toEl:oe,originalEvent:e}),xe({rootEl:oe,name:"sort",toEl:oe,fromEl:ee,originalEvent:e}),xe({sortable:this,name:"sort",toEl:oe,originalEvent:e})),pe&&pe.save()):Ie!==ht&&Ie>=0&&(xe({sortable:this,name:"update",toEl:oe,originalEvent:e}),xe({sortable:this,name:"sort",toEl:oe,originalEvent:e})),N.active&&((Ie==null||Ie===-1)&&(Ie=ht,Je=Mt),xe({sortable:this,name:"end",toEl:oe,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){De("nulling",this),ee=S=oe=H=nt=re=rr=Ke=tt=Me=It=Ie=Je=ht=Mt=dt=Rt=pe=Jt=N.dragged=N.ghost=N.clone=N.active=null,dr.forEach(function(e){e.checked=!0}),dr.length=Pr=Or=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":S&&(this._onDragOver(e),Fi(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,n=this.el.children,o=0,a=n.length,i=this.options;o<a;o++)t=n[o],Re(t,i.draggable,this.el,!1)&&e.push(t.getAttribute(i.dataIdAttr)||Wi(t));return e},sort:function(e,t){var n={},o=this.el;this.toArray().forEach(function(a,i){var l=o.children[i];Re(l,this.options.draggable,o,!1)&&(n[a]=l)},this),t&&this.captureAnimationState(),e.forEach(function(a){n[a]&&(o.removeChild(n[a]),o.appendChild(n[a]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return Re(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(t===void 0)return n[e];var o=Xt.modifyOption(this,e,t);typeof o<"u"?n[e]=o:n[e]=t,e==="group"&&co(n)},destroy:function(){De("destroy",this);var e=this.el;e[Te]=null,$(e,"mousedown",this._onTapStart),$(e,"touchstart",this._onTapStart),$(e,"pointerdown",this._onTapStart),this.nativeDraggable&&($(e,"dragover",this),$(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),ur.splice(ur.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Ke){if(De("hideClone",this),N.eventCanceled)return;R(re,"display","none"),this.options.removeCloneOnHide&&re.parentNode&&re.parentNode.removeChild(re),Ke=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Ke){if(De("showClone",this),N.eventCanceled)return;S.parentNode==ee&&!this.options.group.revertClone?ee.insertBefore(re,S):nt?ee.insertBefore(re,nt):ee.appendChild(re),this.options.group.revertClone&&this.animate(S,re),R(re,"display",""),Ke=!1}}};function Fi(r){r.dataTransfer&&(r.dataTransfer.dropEffect="move"),r.cancelable&&r.preventDefault()}function Zt(r,e,t,n,o,a,i,l){var s,u=r[Te],f=u.options.onMove,v;return window.CustomEvent&&!Ge&&!Wt?s=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(s=document.createEvent("Event"),s.initEvent("move",!0,!0)),s.to=e,s.from=r,s.dragged=t,s.draggedRect=n,s.related=o||e,s.relatedRect=a||ue(e),s.willInsertAfter=l,s.originalEvent=i,r.dispatchEvent(s),f&&(v=f.call(u,s,i)),v}function Nr(r){r.draggable=!1}function Hi(){zr=!1}function ji(r,e,t){var n=ue(yt(t.el,0,t.options,!0)),o=io(t.el,t.options,H),a=10;return e?r.clientX<o.left-a||r.clientY<n.top&&r.clientX<n.right:r.clientY<o.top-a||r.clientY<n.bottom&&r.clientX<n.left}function Yi(r,e,t){var n=ue(sn(t.el,t.options.draggable)),o=io(t.el,t.options,H),a=10;return e?r.clientX>o.right+a||r.clientY>n.bottom&&r.clientX>n.left:r.clientY>o.bottom+a||r.clientX>n.right&&r.clientY>n.top}function Li(r,e,t,n,o,a,i,l){var s=n?r.clientY:r.clientX,u=n?t.height:t.width,f=n?t.top:t.left,v=n?t.bottom:t.right,d=!1;if(!i){if(l&&nr<u*o){if(!Ft&&(Rt===1?s>f+u*a/2:s<v-u*a/2)&&(Ft=!0),Ft)d=!0;else if(Rt===1?s<f+nr:s>v-nr)return-Rt}else if(s>f+u*(1-o)/2&&s<v-u*(1-o)/2)return Bi(e)}return d=d||i,d&&(s<f+u*a/2||s>v-u*a/2)?s>f+u/2?1:-1:0}function Bi(r){return Oe(S)<Oe(r)?1:-1}function Wi(r){for(var e=r.tagName+r.className+r.src+r.href+r.textContent,t=e.length,n=0;t--;)n+=e.charCodeAt(t);return n.toString(36)}function Xi(r){dr.length=0;for(var e=r.getElementsByTagName("input"),t=e.length;t--;){var n=e[t];n.checked&&dr.push(n)}}function or(r){return setTimeout(r,0)}function Gr(r){return clearTimeout(r)}mr&&K(document,"touchmove",function(r){(N.active||vt)&&r.cancelable&&r.preventDefault()});N.utils={on:K,off:$,css:R,find:ro,is:function(e,t){return!!Re(e,t,e,!1)},extend:Di,throttle:no,closest:Re,toggleClass:Ce,clone:ao,index:Oe,nextTick:or,cancelNextTick:Gr,detectDirection:so,getChild:yt};N.get=function(r){return r[Te]};N.mount=function(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(N.utils=Le(Le({},N.utils),n.utils)),Xt.mount(n)})};N.create=function(r,e){return new N(r,e)};N.version=xi;var ce=[],Tt,Ur,$r=!1,Mr,Rr,fr,Pt;function zi(){function r(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return r.prototype={dragStarted:function(t){var n=t.originalEvent;this.sortable.nativeDraggable?K(document,"dragover",this._handleAutoScroll):this.options.supportPointer?K(document,"pointermove",this._handleFallbackAutoScroll):n.touches?K(document,"touchmove",this._handleFallbackAutoScroll):K(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var n=t.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?$(document,"dragover",this._handleAutoScroll):($(document,"pointermove",this._handleFallbackAutoScroll),$(document,"touchmove",this._handleFallbackAutoScroll),$(document,"mousemove",this._handleFallbackAutoScroll)),Yn(),ar(),ki()},nulling:function(){fr=Ur=Tt=$r=Pt=Mr=Rr=null,ce.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,n){var o=this,a=(t.touches?t.touches[0]:t).clientX,i=(t.touches?t.touches[0]:t).clientY,l=document.elementFromPoint(a,i);if(fr=t,n||this.options.forceAutoScrollFallback||Wt||Ge||At){Fr(t,this.options,l,n);var s=Ze(l,!0);$r&&(!Pt||a!==Mr||i!==Rr)&&(Pt&&Yn(),Pt=setInterval(function(){var u=Ze(document.elementFromPoint(a,i),!0);u!==s&&(s=u,ar()),Fr(t,o.options,u,n)},10),Mr=a,Rr=i)}else{if(!this.options.bubbleScroll||Ze(l,!0)===Ye()){ar();return}Fr(t,this.options,Ze(l,!1),!1)}}},Xe(r,{pluginName:"scroll",initializeByDefault:!0})}function ar(){ce.forEach(function(r){clearInterval(r.pid)}),ce=[]}function Yn(){clearInterval(Pt)}var Fr=no(function(r,e,t,n){if(e.scroll){var o=(r.touches?r.touches[0]:r).clientX,a=(r.touches?r.touches[0]:r).clientY,i=e.scrollSensitivity,l=e.scrollSpeed,s=Ye(),u=!1,f;Ur!==t&&(Ur=t,ar(),Tt=e.scroll,f=e.scrollFn,Tt===!0&&(Tt=Ze(t,!0)));var v=0,d=Tt;do{var h=d,p=ue(h),_=p.top,b=p.bottom,g=p.left,w=p.right,m=p.width,y=p.height,I=void 0,P=void 0,k=h.scrollWidth,D=h.scrollHeight,O=R(h),B=h.scrollLeft,M=h.scrollTop;h===s?(I=m<k&&(O.overflowX==="auto"||O.overflowX==="scroll"||O.overflowX==="visible"),P=y<D&&(O.overflowY==="auto"||O.overflowY==="scroll"||O.overflowY==="visible")):(I=m<k&&(O.overflowX==="auto"||O.overflowX==="scroll"),P=y<D&&(O.overflowY==="auto"||O.overflowY==="scroll"));var Y=I&&(Math.abs(w-o)<=i&&B+m<k)-(Math.abs(g-o)<=i&&!!B),z=P&&(Math.abs(b-a)<=i&&M+y<D)-(Math.abs(_-a)<=i&&!!M);if(!ce[v])for(var W=0;W<=v;W++)ce[W]||(ce[W]={});(ce[v].vx!=Y||ce[v].vy!=z||ce[v].el!==h)&&(ce[v].el=h,ce[v].vx=Y,ce[v].vy=z,clearInterval(ce[v].pid),(Y!=0||z!=0)&&(u=!0,ce[v].pid=setInterval((function(){n&&this.layer===0&&N.active._onTouchMove(fr);var V=ce[this.layer].vy?ce[this.layer].vy*l:0,U=ce[this.layer].vx?ce[this.layer].vx*l:0;typeof f=="function"&&f.call(N.dragged.parentNode[Te],U,V,r,fr,ce[this.layer].el)!=="continue"||oo(ce[this.layer].el,U,V)}).bind({layer:v}),24))),v++}while(e.bubbleScroll&&d!==s&&(d=Ze(d,!1)));$r=u}},30),vo=function(e){var t=e.originalEvent,n=e.putSortable,o=e.dragEl,a=e.activeSortable,i=e.dispatchSortableEvent,l=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var u=n||a;l();var f=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,v=document.elementFromPoint(f.clientX,f.clientY);s(),u&&!u.el.contains(v)&&(i("spill"),this.onSpill({dragEl:o,putSortable:n}))}};function cn(){}cn.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var o=yt(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(t,o):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:vo};Xe(cn,{pluginName:"revertOnSpill"});function un(){}un.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable,o=n||this.sortable;o.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),o.animateAll()},drop:vo};Xe(un,{pluginName:"removeOnSpill"});N.mount(new zi);N.mount(un,cn);var Gi=A("<div><!></div>");function Vr(r,e){q(e,!1);const{MultiDrag:t,Swap:n}=N;let o=ea(),a,i=T(e,"class",8),l=T(e,"multiDragClass",8,null),s=T(e,"swapClass",8,null),u=T(e,"group",24,()=>{}),f=T(e,"sort",8,!0),v=T(e,"disabled",8,!1),d=T(e,"store",24,()=>{}),h=T(e,"handle",24,()=>{}),p=T(e,"swapThreshold",8,1),_=T(e,"invertSwap",8,!1),b=T(e,"invertedSwapThreshold",24,()=>{}),g=T(e,"removeCloneOnHide",8,!0),w=T(e,"ghostClass",8,"sortable-ghost"),m=T(e,"chosenClass",8,"sortable-chosen"),y=T(e,"dragClass",8,"sortable-drag"),I=T(e,"ignore",8,"a; img"),P=T(e,"filter",24,()=>{}),k=T(e,"preventOnFilter",8,!0),D=T(e,"animation",8,0),O=T(e,"easing",24,()=>{}),B=T(e,"dataIdAttr",8,"data-id"),M=T(e,"delay",8,0),Y=T(e,"delayOnTouchOnly",8,!1),z=T(e,"forceFallback",8,!1),W=T(e,"fallbackClass",8,"sortable-fallback"),V=T(e,"fallbackOnBody",8,!1),U=T(e,"fallbackTolerance",8,0),Q=T(e,"fallbackOffset",24,()=>({x:0,y:0})),ie=T(e,"emptyInsertThreshold",8,5),fe=T(e,"direction",24,()=>{}),Ue=T(e,"touchStartThreshold",24,()=>{}),me=T(e,"setData",24,()=>{}),ye=T(e,"draggable",8,null),Qe=T(e,"onChoose",24,()=>{}),Ae=T(e,"onUnchoose",24,()=>{}),Se=T(e,"onStart",24,()=>{}),Pe=T(e,"onEnd",24,()=>{}),ct=T(e,"onAdd",24,()=>{}),Et=T(e,"onUpdate",24,()=>{}),br=T(e,"onRemove",24,()=>{}),_r=T(e,"onFilter",24,()=>{}),$e=T(e,"onSort",24,()=>{}),zt=T(e,"onClone",24,()=>{}),wr=T(e,"onMove",24,()=>{}),yr=T(e,"onChange",24,()=>{}),Fe;Bt(()=>{if(Fe={group:u(),sort:f(),disabled:v(),store:d(),handle:h(),swapThreshold:p(),invertSwap:_(),invertedSwapThreshold:b(),removeCloneOnHide:g(),ghostClass:w(),chosenClass:m(),dragClass:y(),ignore:I(),filter:P(),preventOnFilter:k(),animation:D(),easing:O(),dataIdAttr:B(),delay:M(),delayOnTouchOnly:Y(),forceFallback:z(),fallbackClass:W(),fallbackOnBody:V(),fallbackTolerance:U(),fallbackOffset:Q(),emptyInsertThreshold:ie(),direction:fe(),touchStartThreshold:Ue(),setData:me(),onChoose:Qe(),onUnchoose:Ae(),onStart:Se(),onEnd:Pe(),onAdd:ct(),onUpdate:Et(),onRemove:br(),onFilter:_r(),onSort:$e(),onClone:zt(),onMove:wr(),onChange:yr()},ye()&&(Fe.draggable=ye()),l()){try{N.mount(new t)}catch{}Fe.multiDrag=!0,Fe.selectedClass=l(),Fe.fallbackTolerance=3}if(s()){try{N.mount(new n)}catch{}Fe.swap=!0,Fe.swapClass=s()}a=N.create(c(o),{...Fe})}),Ia(()=>{a&&a.destroy()}),xt();var Ne=Gi(),Gt=E(Ne);ka(Gt,e,"default",{}),on(Ne,St=>X(o,St),()=>c(o)),G(()=>Un(Ne,i())),x(r,Ne),Z()}var Ui=(r,e)=>e(),$i=A(`<h4>Really delete palette "<span class="font-mono"> </span></h4> <button class="btn btn-error">Yes, I know it can't be restored.</button>`,1);function Vi(r,e){q(e,!0);const t=we(),n=()=>te(ke,"$pStore",t);let o=T(e,"paletteId",15),a=T(e,"show",15),i=L(()=>n()[o()]);function l(){ke.destroyPalette(o()),o(-1),a(!1)}var s=J(),u=F(s);{var f=v=>{var d=$i(),h=F(d),p=C(E(h)),_=E(p),b=C(h,2);b.__click=[Ui,l],G(()=>he(_,`#${c(i).id??""} ${c(i).name??""}"?`)),x(v,d)};j(u,v=>{c(i)&&a()&&v(f)})}x(r,s),Z()}ae(["click"]);var Ji=(r,e,t)=>e(c(t).id),Ki=A('<span class="inline-block rounded-full text-gray-700 border-gray-200 hover:border-double border-2 w-3 h-3">&nbsp;</span>'),qi=A('<div class="flex group gap-2 py-1 rounded hover:bg-slate-300 items-center bg-white"><div class="shrink invisible group-hover:visible"><!></div> <div class="w-7 text-xs text-right font-mono"> </div> <div class="w-48"><button class="link text-left hover:text-primary"> </button> <div></div></div> <div><button class="btn btn-xs btn-error">delete</button> <button class="btn btn-xs btn-info">rename</button></div></div>');function Zi(r,e){q(e,!0);const t=we(),n=()=>te(ke,"$pStore",t);let o=L(()=>n()[e.paletteId]),a=L(()=>{var m;return e.paletteId===((m=n().active)==null?void 0:m.id)});async function i(m){tn(m),_e(se,"palette")}var l=qi(),s=E(l),u=E(s);le(u,{src:$n,class:"w-4 h-4 stroke-slate-600 hover:stroke-primary"});var f=C(s,2),v=E(f),d=C(f,2),h=E(d);h.__click=[Ji,i,o];var p=E(h),_=C(h,2);ge(_,21,()=>c(o).colors.toSpliced(14),m=>m.h,(m,y)=>{var I=Ki();G(()=>ve(I,"style",`background-color: ${c(y).h??""}`)),x(m,I)});var b=C(d,2),g=E(b);g.__click=function(...m){var y;(y=e.deleteAction)==null||y.apply(this,m)};var w=C(g,2);w.__click=function(...m){var y;(y=e.renameAction)==null||y.apply(this,m)},G(()=>{he(v,`#${c(o).id??""}:`),Ee(h,"font-bold",c(a)),he(p,n()[e.paletteId].name),ve(g,"data-paletteid",e.paletteId),g.disabled=c(a),ve(w,"data-paletteid",e.paletteId)}),x(r,l),Z()}ae(["click"]);const Qi=async(r,e,t,n)=>{r.preventDefault(),ta(e(),c(t)),e(-1),n(!1)};var el=A('<h4> </h4> <form><input class="input input-sm w-48" type="text" name="newPaletteName" placeholder="name of new palette"> <button type="submit" class="btn btn-sm btn-secondary">rename</button></form>',1);function tl(r,e){q(e,!0);const t=we(),n=()=>te(ke,"$pStore",t);let o=T(e,"paletteId",15),a=T(e,"show",15),i=L(()=>n()[o()]),l=ne(de(n()[o()].name));var s=J(),u=F(s);{var f=v=>{var d=el(),h=F(d),p=E(h),_=C(h,2),b=E(_),g=C(b,2);g.__click=[Qi,o,l,a],G(()=>he(p,`Rename palette #${o()??""}: ${c(i).name??""}`)),gr(b,()=>c(l),w=>X(l,w)),x(v,d)};j(u,v=>{c(i)&&a()&&v(f)})}x(r,s),Z()}ae(["click"]);var rl=(r,e)=>{e("export")},nl=A("<!> import",1),ol=A('<div class="flex items-center justify-start gap-2"><div class="tooltip tooltip-right" data-tip="Export all Palettes"><button class="btn btn-xs"><!> export</button></div> <div class="tooltip tooltip-right" data-tip="Import one or more Palettes"><!></div></div> <h4 class="mb-4">Switch to Palette:</h4> <div class="not-prose"><form><div class="flex group gap-2 py-1 rounded hover:bg-slate-300 items-center bg-white border-b border-dashed"><div class="shrink invisible w-4 h-4">&nbsp;</div> <div class="w-7 text-right font-mono">#?:</div> <input class="input input-sm w-48" type="text" name="newPaletteName" placeholder="name of new palette"> <button type="submit" class="btn btn-sm btn-secondary">create</button></div></form> <!></div>',1);function al(r,e){q(e,!0);const t=we(),n=()=>te(ke,"$pStore",t),o=()=>te(se,"$popupDialog",t);let a=ne("");const i=m=>{m.oldIndex!==void 0&&m.newIndex!==void 0&&mi(c(l),m.oldIndex,m.newIndex).forEach((I,P)=>{ra(I,P+1)})};let l=L(()=>Object.keys(n()).filter(m=>/^[0-9]+$/.test(m)).map(m=>n()[Number(m)]).sort((m,y)=>m.weight-y.weight).map(m=>m.id));const s=async m=>{m.preventDefault(),ke.createPalette(c(a)),X(a,""),_e(se,"palette")},u=m=>{m.target!==void 0&&(X(h,!0),X(p,de(Number(m.target.getAttribute("data-paletteid")))))},f=m=>{m.target!==void 0&&(X(d,!0),X(p,de(Number(m.target.getAttribute("data-paletteid")))))},v=m=>{_e(se,de(o()===m?"palettes":m))};let d=ne(!1),h=ne(!1),p=ne(-1);var _=J(),b=F(_);{var g=m=>{Vi(m,{get paletteId(){return c(p)},set paletteId(y){X(p,de(y))},get show(){return c(d)},set show(y){X(d,de(y))}})},w=m=>{var y=J(),I=F(y);{var P=D=>{tl(D,{get paletteId(){return c(p)},set paletteId(O){X(p,de(O))},get show(){return c(h)},set show(O){X(h,de(O))}})},k=D=>{var O=ol(),B=F(O),M=E(B),Y=E(M);Y.__click=[rl,v];var z=E(Y);le(z,{src:Vn,class:"w-4 h-4 stroke-slate-600 hover:stroke-primary"});var W=C(M,2),V=E(W);ft(V,{href:"/popup.html#import",class:"btn btn-xs",children:(ye,Qe)=>{var Ae=nl(),Se=F(Ae);le(Se,{src:Lr,class:"w-4 h-4 stroke-slate-600 hover:stroke-primary"}),x(ye,Ae)},$$slots:{default:!0}});var U=C(B,4),Q=E(U),ie=E(Q),fe=C(E(ie),4),Ue=C(fe,2);Ue.__click=s;var me=C(Q,2);Vr(me,{group:"palettes",dataIdAttr:"data-paletteid",class:"divide-y divide-dashed",onEnd:i,children:(ye,Qe)=>{var Ae=J(),Se=F(Ae);ge(Se,16,()=>c(l),Pe=>Pe,(Pe,ct)=>{var Et=L(()=>Number(ct));Zi(Pe,{get paletteId(){return c(Et)},deleteAction:f,renameAction:u})}),x(ye,Ae)},$$slots:{default:!0}}),gr(fe,()=>c(a),ye=>X(a,ye)),x(D,O)};j(I,D=>{c(h)?D(P):D(k,!1)},!0)}x(m,y)};j(b,m=>{c(d)?m(g):m(w,!1)})}x(r,_),Z()}ae(["click"]);var il=A("<button>&nbsp;</button>");function Jr(r,e){q(e,!0);let t=T(e,"passive",3,!1),n=T(e,"small",3,!1),o=L(()=>new ze(e.color)),a=L(()=>c(o).toHexString());const i=u=>{if(!u.target)return;const f=u.target.getAttribute("data-color");f&&wt.update(()=>f)},l=u=>{if(!u.target)return;const f=u.target.getAttribute("data-color");f&&nn.update(()=>f)};var s=il();s.__mouseover=function(...u){var f;(f=t()?null:i)==null||f.apply(this,u)},s.__click=function(...u){var f;(f=t()?null:l)==null||f.apply(this,u)},G(()=>{Un(s,`${e.class} box-content rounded-full text-gray-700 border-gray-200 hover:border-double border-4`),ve(s,"style",`background-color: ${c(a)??""}`),ve(s,"data-color",c(a)),ve(s,"aria-label",`Select color ${c(a)??""}`),Ee(s,"h-6",!n()),Ee(s,"w-6",!n()),Ee(s,"h-4",n()),Ee(s,"w-4",n())}),jt("focus",s,function(...u){var f;(f=t()?null:i)==null||f.apply(this,u)}),x(r,s),Z()}ae(["mouseover","click"]);var ll=A('<h4>Edit your palette</h4> <div class="bg-white p-2 pt-4"><div class="colors-area flex justify-between gap-4"><!> <!></div></div> <div class="text-xs mt-4"><p>You can manually sort your palette. Just <b>drag</b> a color to position you want it at. Or <b>drop</b> it to <i>trash bin</i> area to mark it as deleted.</p></div>',1);function sl(r,e){q(e,!0);const t=we(),n=()=>te(ke,"$pStore",t),o=d=>{const h=d.from.classList.contains("trash-area"),p=d.to.classList.contains("trash-area");n().active&&d.oldIndex!==void 0&&d.newIndex!==void 0&&ke.manualSort(n().active,h,p,d.oldIndex,d.newIndex)};let a=L(()=>{var d;return((d=n().active)==null?void 0:d.unsorted)??[]}),i=L(()=>{var d;return((d=n().active)==null?void 0:d.deleted)??[]});var l=ll(),s=C(F(l),2),u=E(s),f=E(u);Vr(f,{class:"flex flex-wrap gap-2",group:"colors",dataIdAttr:"data-color",animation:150,onEnd:o,children:(d,h)=>{var p=J(),_=F(p);ge(_,16,()=>c(a),b=>b,(b,g)=>{Jr(b,{get color(){return g.h},passive:!0})}),x(d,p)},$$slots:{default:!0}});var v=C(f,2);Vr(v,{class:"trash-area p-0 border-4 border-dotted rounded w-20 min-w-20 h-auto min-h-24 items-center content-start justify-left flex flex-wrap bg-[url('/icon/trash.svg')] bg-no-repeat bg-center bg-blend-soft-light bg-slate-100",group:"colors",onEnd:o,children:(d,h)=>{var p=J(),_=F(p);ge(_,16,()=>c(i),b=>b,(b,g)=>{Jr(b,{get color(){return g.h},passive:!0,small:!0})}),x(d,p)},$$slots:{default:!0}}),x(r,l),Z()}var cl=(r,e)=>{en(c(e))},ul=(r,e,t)=>{e(c(t))},dl=A('<div class="flex flex-row not-prose justify-between items-center"><div><h4 class="font-bold pt-2">Export your palette</h4></div></div> <div><pre class="overflow-y-scroll overflow-x-hidden h-48"> </pre></div> <button class="btn"><!> Copy to clipboard</button> <button class="btn"><!> Download as file</button>',1),fl=A("<p>...loading state</p>");function vl(r,e){q(e,!1);let t=Promise.resolve(na());const n=i=>{const l=new Date().toISOString(),s=document.createElement("a");s.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(i)),s.setAttribute("download",`eyedropper_palettes_export_${l}.json`),s.style.display="none",document.body.appendChild(s),s.click(),document.body.removeChild(s)};xt();var o=J(),a=F(o);Br(a,()=>t,i=>{var l=fl();x(i,l)},(i,l)=>{var s=dl();const u=Gn(()=>JSON.stringify(c(l),null,2));var f=C(F(s),2),v=E(f),d=E(v);$t(v),$t(f);var h=C(f,2);h.__click=[cl,u];var p=E(h);le(p,{class:"w-4 h-4 ",src:oa}),_n(),$t(h);var _=C(h,2);_.__click=[ul,n,u];var b=E(_);le(b,{class:"w-4 h-4 ",src:Vn}),_n(),$t(_),G(()=>he(d,`
      ${c(u)??""}
    `)),x(i,s)}),x(r,o),Z()}ae(["click"]);var hl=(r,e,t)=>{aa(void 0,c(e)),t()},pl=A('<li><button class="cursor-pointer hover:text-primary flex gap-1 items-center"><!> <!> </button></li>'),gl=A("<h4>Sort your palette by</h4> <ul></ul>",1);function ml(r,e){q(e,!1),we();const t=()=>{_e(se,"palette")},n=Object.keys(Ct);xt();var o=gl(),a=C(F(o),2);ge(a,5,()=>n,je,(i,l)=>{var s=pl(),u=E(s);u.__click=[hl,l,t];var f=E(u);le(f,{get src(){return Ct[c(l)].icon},class:"w-4 h-4"});var v=C(f,2);le(v,{get src(){return Ct[c(l)].iconOrder},class:"w-4 h-4"});var d=C(v);G(()=>he(d,` ${Ct[c(l)].text??""}`)),x(i,s)}),x(r,o),Z()}ae(["click"]);var bl=A('<div role="alert" class="alert alert-error"><!></div>'),_l=(r,e,t)=>{e(c(t))},wl=A('<div class="alert alert-success"> </div>'),yl=A('<div class="prose"><h4 class="font-bold pt-2">Import Palettes</h4> <!> <form><div class="flex items-center mb-8"><input name="uploadedFile" type="file" multiple accept="application/JSON" class="w-64 bg-red-200"> <button class="btn"><!> Import from file</button></div></form> <textarea class="w-full h-48 font-mono text-xs bg-black text-white rounded p-2" name="jsonToImport" placeholder="Paste Palette JSON here">text</textarea> <button class="btn"><!> Import from JSON</button></div> <div class="toast toast-top toast-start"></div>',1);function xl(r,e){q(e,!0);let t=ne(""),n=ne(void 0),o=de([]),a=ne(!1),i=ne("");const l=async k=>{try{const D=await la(k);o.push(D)}catch{X(a,!0)}},s=async k=>{X(a,!1),(!k||k.trim()==="")&&X(i,"Nothing to import, JSON is empty.");try{const D=JSON.parse(k);if(Array.isArray(D))for(let O of D)await l(O);else await l(D)}catch{X(a,!0)}},u=async k=>{k.preventDefault(),X(a,!1),c(n)!==void 0?Object.values(c(n)).forEach(async D=>{const O=await D.text();s(O)}):(X(a,!0),X(i,"No file to import."))};var f=yl(),v=F(f),d=C(E(v),2);{var h=k=>{var D=bl(),O=E(D);{var B=Y=>{var z=Yr(`Import failed. Only valid JSON palettes can be imported. JSON has to have same format as one
        you get from Export.`);x(Y,z)},M=Y=>{var z=Yr();G(()=>he(z,c(i))),x(Y,z)};j(O,Y=>{c(i)===""?Y(B):Y(M,!1)})}x(k,D)};j(d,k=>{c(a)&&k(h)})}var p=C(d,2),_=E(p),b=E(_),g=C(b,2),w=E(g);le(w,{class:"hover:stroke-primary w-4 h-4",src:Lr});var m=C(p,2),y=C(m,2);y.__click=[_l,s,t];var I=E(y);le(I,{class:"hover:stroke-primary w-4 h-4",src:Lr});var P=C(v,2);ge(P,20,()=>o,k=>k,(k,D)=>{var O=wl(),B=E(O);G(()=>he(B,`Palette #${D??""} imported!`)),x(k,O)}),jt("submit",p,u),ia(b,()=>c(n),k=>X(n,k)),gr(m,()=>c(t),k=>X(t,k)),x(r,f),Z()}ae(["click"]);var El=A('<div class="px-4 py-2 rounded prose prose-sm"><!></div>');function Sl(r){const e=we(),t=()=>te(se,"$popupDialog",e);var n=El(),o=E(n);{var a=l=>{al(l,{})},i=l=>{var s=J(),u=F(s);{var f=d=>{gi(d,{})},v=d=>{var h=J(),p=F(h);{var _=g=>{ml(g,{})},b=g=>{var w=J(),m=F(w);{var y=P=>{sl(P,{})},I=P=>{var k=J(),D=F(k);{var O=M=>{vl(M,{})},B=M=>{var Y=J(),z=F(Y);{var W=V=>{xl(V,{})};j(z,V=>{t()==="import"&&V(W)},!0)}x(M,Y)};j(D,M=>{t()==="export"?M(O):M(B,!1)},!0)}x(P,k)};j(m,P=>{t()==="edit"?P(y):P(I,!1)},!0)}x(g,w)};j(p,g=>{t()==="sort"?g(_):g(b,!1)},!0)}x(d,h)};j(u,d=>{t()==="wipe"?d(f):d(v,!1)},!0)}x(l,s)};j(o,l=>{t()==="palettes"?l(a):l(i,!1)})}x(r,n)}var Dl=(r,e,t)=>{tn(c(e).id),_e(se,"palette")},kl=A('<div class="text-nowrap max-w-14 h-6 tab [--tab-bg:#fff] [--tab-border-color:#cbd5e1]" role="tab"><button class="text-sm hover:text-primary tooltip tooltip-bottom flex gap-1 items-center"><div class="truncate max-w-[48px] shadow-black"> </div></button></div>');function Cl(r,e){q(e,!0);const t=we(),n=()=>te(ke,"$pStore",t),o=()=>te(se,"$popupDialog",t);let a=L(()=>n()[e.paletteId]),i=L(()=>{var f;return(((f=n().active)==null?void 0:f.id)??0)===e.paletteId&&o()!="palettes"});var l=J(),s=F(l);{var u=f=>{var v=kl(),d=E(v);d.__click=[Dl,a,o];var h=E(d),p=E(h);G(()=>{Ee(v,"tab-active",c(i)),ve(d,"data-tip",`#${c(a).id}: ${c(a).name}`),Ee(h,"text-shadow",c(i)),he(p,e.shortName)}),x(f,v)};j(s,f=>{var v;((v=c(a))==null?void 0:v.id)!==void 0&&f(u)})}x(r,l),Z()}ae(["click"]);const Il=(r,e)=>{_e(se,"palette")};var Tl=(r,e)=>{e("palettes")},Pl=A('<div class="w-[147px] flex flex-row-reverse"><button class="p-1 px-2 bg-slate-100 rounded">✖</button></div>'),Ol=A('<div class="mr-4 mt-6 flex justify-between w-full"><div class="flex items-center gap-1 bg-slate-100 rounded-t pt-1"><div role="tablist" class="tabs tabs-lifted tabs-xs"><div class="h-6 tab [--tab-border-color:#cbd5e1]" role="tab"><button class="flex"><!></button></div> <!></div></div> <!></div>');function Al(r,e){q(e,!0);const t=we(),n=()=>te(se,"$popupDialog",t),o=()=>te(ke,"$pStore",t),a=d=>{_e(se,de(n()===d?"palette":d))};let i=L(()=>n()==="palettes"),l=L(()=>Object.keys(o()).filter(d=>/^[0-9]+$/.test(d)).map(d=>o()[Number(d)]).sort((d,h)=>d.weight-h.weight).map(d=>d.id)),s=L(()=>bi(c(l).map(d=>({id:d,name:o()[d].name}))));var u=J(),f=F(u);{var v=d=>{var h=Ol(),p=E(h),_=E(p),b=E(_),g=E(b);g.__click=[Tl,a];var w=E(g);le(w,{src:Jn,class:"w-4 h-4 stroke-slate-600 hover:stroke-primary"});var m=C(b,2);ge(m,17,()=>c(s),P=>P.id,(P,k)=>{var D=L(()=>Number(c(k).id));Cl(P,{get paletteId(){return c(D)},get shortName(){return c(k).name}})});var y=C(p,2);{var I=P=>{var k=Pl(),D=E(k);D.__click=[Il,n],x(P,k)};j(y,P=>{n()!=="palette"&&P(I)})}G(()=>Ee(b,"tab-active",c(i))),x(d,h)};j(f,d=>{o().active&&d(v)})}x(r,u),Z()}ae(["click"]);const Nl=(r,e,t)=>{const n=new ze(r.target.value);n.isValid&&(_e(wt,de(n.toString())),X(t,de(n.toString())))};var Ml=A('<div class="mb-2 flex flex-row-reverse w-[9.2rem]"><div class="shadow-lg flex w-full flex-wrap gap-2 rounded p-2 text-xs"><form><input class="input input-xs input-bordered w-24 rounded" type="text" name="hexinput"></form> <div class="bg-white rounded w-full p-1"><div>Input color ↑ as:</div> <ul class="my-2 ml-2"><li>‣ RGB hex</li> <li>‣ Named Color</li> <li>‣ HSL, HSV</li> <li>‣ CMYK</li></ul> <div><span class="kbd kbd-xs">Enter</span> to add.</div></div></div> <div class="text-xs w-4 [writing-mode:vertical-lr] text-center rotate-180 font-mono">Quick input</div></div>');function Rl(r,e){q(e,!0);const t=we(),n=()=>te(wt,"$newColor",t);let o=ne(""),a=ne(de(sa()));const i=v=>{v.preventDefault(),n()&&_e(nn,de(n()))};var l=Ml(),s=E(l),u=E(s),f=E(u);ca(f,!0),f.__input=[Nl,n,a],G(()=>ve(s,"style",`background-color: ${c(a)??""}`)),jt("submit",u,i),gr(f,()=>c(o),v=>X(o,v)),x(r,l),Z()}ae(["input"]);function ho(r){let e=r.clientX,t=r.clientY;if(!r.target)return;let n=r.target.getBoundingClientRect();const o=e-n.x,a=t-n.y;return{clientX:e,clientY:t,offsetX:n.x,offsetY:n.y,relativeX:o,relativeY:a}}const Fl={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup"};function Qt(r){let t=r.changedTouches[0],n=Fl[r.type];if(!n)return;let o=new MouseEvent(n,{screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY,button:0,buttons:1});const a=r.target;a!==null&&(a.dispatchEvent(o),r.preventDefault())}function po(r){r.addEventListener("touchstart",Qt,!0),r.addEventListener("touchmove",Qt,!0),r.addEventListener("touchend",Qt,!0),r.addEventListener("touchcancel",Qt,!0)}const bt={hsl:{h:{extent:[0,360],scale:1,title:"hue"},s:{extent:[0,100],scale:100,title:"saturation"},l:{extent:[0,100],scale:100,title:"luminance"}},hsv:{h:{extent:[0,360],scale:1,title:"hue"},s:{extent:[0,100],scale:100,title:"saturation"},v:{extent:[0,100],scale:100,title:"value"}},rgb:{r:{extent:[0,255],scale:1,title:"red"},g:{extent:[0,255],scale:1,title:"green"},b:{extent:[0,255],scale:1,title:"blue"}}},vr=Object.entries(bt).reduce((r,[e,t])=>(Object.entries(t).forEach(([n,o])=>{r[`${e}.${n}`]={colorspace:e,dimension:n,...o}}),r),{});function Hl(r){const[e,t]=r.split(".",2),n=bt[e],o=Object.keys(n).filter(a=>a!=t);if(o.length===2)return o.map(a=>`${e}.${a}`);throw new Error("wrong dimension data")}function dn(r,e){const t=new ze(r);return e==="hsl"?t.toHsl():e==="hsv"?t.toHsv():t.toRgb()}function Ln(r,e,t,n,o){if(r.buttons===1){const a=ho(r);if(a&&c(e)){let l=a.relativeX/(c(t)-2)*(c(e).extent[1]-c(e).extent[0])+c(e).extent[0];l>c(e).extent[1]&&(l=c(e).extent[1]),l<c(e).extent[0]&&(l=c(e).extent[0]),n(new ze(lt(c(o),c(e).dimension,l/c(e).scale)).toHexString())}}}var jl=A('<div class="scrollbar svelte-kpplh"><canvas class="svelte-kpplh"></canvas></div>');function Yl(r,e){q(e,!0);let t=T(e,"color",15,"#00fff00"),n=T(e,"dimensionKey",3,"hsl.h"),o=T(e,"width",3,null),a=T(e,"height",3,null),i=ne(void 0),l=ne(null),s=ne(0),u=ne(0);const f=100;let v=L(()=>vr[n()]),d=L(()=>dn(t(),c(v).colorspace));Bt(()=>{c(i)&&(X(l,de(c(i).getContext("2d"))),po(c(i)))});function h(b){let g=c(d)[b.dimension]*b.scale,w=(c(s)-2)*(g-b.extent[0])/(b.extent[1]-b.extent[0]);if(c(l)){c(l).clearRect(0,0,c(s),c(u)),c(l).imageSmoothingEnabled=!1;let m=Math.min(f,c(s)-2),y=(c(s)-2)/m,I=b.extent[1]-b.extent[0];for(let P=0;P<=m;P++){const k=(P/m*I+b.extent[0])/b.scale,D=lt(c(d),b.dimension,k);c(l).fillStyle=new ze(D).toHexString(),c(l).fillRect(Math.round(P*y),0,Math.ceil(y),c(u))}c(l).fillStyle="#ffffff",c(l).fillRect(w-1,0,3,c(u)),c(l).fillStyle="#000000",c(l).fillRect(w,0,1,c(u))}}Ht(()=>{h(c(v))});var p=jl(),_=E(p);_.__mousedown=[Ln,v,s,t,d],_.__mousemove=[Ln,v,s,t,d],on(_,b=>X(i,b),()=>c(i)),G(()=>{ve(_,"width",o()),ve(_,"height",a())}),lr(p,"clientWidth",b=>X(s,b)),lr(p,"clientHeight",b=>X(u,b)),x(r,p),Z()}ae(["mousedown","mousemove"]);function Bn(r,e,t,n,o,a,i){if(r.buttons===1){const l=ho(r);if(l&&c(e)&&c(t)){let s=l.relativeX,u=c(n)-2-l.relativeY,f=s/(c(o)-2)*(c(e).extent[1]-c(e).extent[0])+c(e).extent[0];f>c(e).extent[1]&&(f=c(e).extent[1]),f<c(e).extent[0]&&(f=c(e).extent[0]);let v=u/(c(n)-2)*(c(t).extent[1]-c(t).extent[0])+c(t).extent[0];v>c(t).extent[1]&&(v=c(t).extent[1]),v<c(t).extent[0]&&(v=c(t).extent[0]);const d=lt(c(a),c(t).dimension,v/c(t).scale),h=lt(d,c(e).dimension,f/c(e).scale);i(new ze(h).toHexString())}}}var Ll=A('<div class="inline-block shadow-lg"><canvas class="inline-block rounded cursor-crosshair"></canvas></div>');function Bl(r,e){q(e,!0);let t=T(e,"color",15,"#00ff00"),n=ne(void 0),o=ne(null),a=ne(0),i=ne(0);const l=100,s=100;let u=L(()=>vr[e.dimensionXKey]),f=L(()=>vr[e.dimensionYKey]),v=L(()=>dn(t(),c(f).colorspace));Bt(()=>{c(n)&&(X(o,de(c(n).getContext("2d"))),po(c(n)))});function d(_,b){let g=c(v)[_.dimension]*_.scale,w=c(v)[b.dimension]*b.scale,m=c(a)*(g-_.extent[0])/(_.extent[1]-_.extent[0]),y=c(i)-c(i)*(w-b.extent[0])/(b.extent[1]-b.extent[0]);if(c(o)){c(o).clearRect(0,0,c(a),c(i)),c(o).imageSmoothingEnabled=!1;let I=Math.min(l,c(a)-2),P=Math.min(s,c(i)-2),k=(c(a)-2)/I,D=(c(i)-2)/P,O=_.extent[1]-_.extent[0],B=b.extent[1]-b.extent[0];for(let M=0;M<=P;M++){const Y=(M/s*B+b.extent[0])/b.scale,z=lt(c(v),b.dimension,Y);for(let W=0;W<=I;W++){const V=(W/l*O+_.extent[0])/_.scale,U=lt(z,_.dimension,V);c(o).fillStyle=new ze(U).toHexString(),c(o).fillRect(Math.round(W*k),Math.round(c(i)-2-M*D),Math.ceil(k),Math.ceil(D))}}c(o).fillStyle="#ffffff",c(o).fillRect(m-2,y-2,5,5),c(o).fillStyle="#000000",c(o).fillRect(m-1,y-1,3,3)}}Ht(()=>{d(c(u),c(f))});var h=Ll(),p=E(h);p.__mousedown=[Bn,u,f,i,a,v,t],p.__mousemove=[Bn,u,f,i,a,v,t],on(p,_=>X(n,_),()=>c(n)),G(()=>{ve(p,"width",e.width),ve(p,"height",e.height)}),lr(h,"clientWidth",_=>X(a,_)),lr(h,"clientHeight",_=>X(i,_)),x(r,h),Z()}ae(["mousedown","mousemove"]);function Wl(r,e,t,n){let o=+r.currentTarget.value;e(new ze(lt(c(t),c(n).dimension,o/c(n).scale)).toHexString())}var Xl=A('<input type="number" class="w-12 text-right">');function zl(r,e){q(e,!0);let t=T(e,"color",15),n=L(()=>vr[e.dimensionKey]),o=L(()=>dn(t(),c(n).colorspace)),a=L(()=>Math.round(c(o)[c(n).dimension]*c(n).scale));var i=Xl();i.__change=[Wl,t,o,n],G(()=>{ua(i,c(a)),ve(i,"min",c(n).extent[0]),ve(i,"max",c(n).extent[1])}),x(r,i),Z()}ae(["change"]);var Gl=(r,e,t,n)=>{X(e,de(c(t))),X(n,`${c(t)}.${Object.keys(bt[c(t)])[0]}`)},Ul=A('<button class="uppercase font-bold px-1 mx-1 border-b border-gray-600"> </button>'),$l=A('<div class="flex items-center h-6"><input class="inline-block mr-1 w-4" type="radio"> <label class="w-4"> </label> <!> <!></div>'),Vl=A('<div class="mt-1"></div>'),Jl=A('<div><div><!> <div class="flex mt-1"></div> <!></div></div>');function Kl(r,e){q(e,!0);const t=[];let n=T(e,"color",15,"#ff9900"),o=ne("hsl.h"),a=ne("hsl");const i=280,l=i-74,s=100,u=14;let f=L(()=>Hl(c(o))),v=L(()=>c(f)[0]),d=L(()=>c(f)[1]);var h=Jl(),p=E(h),_=E(p);Bl(_,{get dimensionXKey(){return c(v)},get dimensionYKey(){return c(d)},width:i,height:s,get color(){return n()},set color(w){n(w)}});var b=C(_,2);ge(b,21,()=>Object.keys(bt),je,(w,m)=>{var y=Ul();y.__click=[Gl,a,m,o];var I=E(y);G(()=>{Ee(y,"border-b-2",c(a)===c(m)),he(I,c(m))}),x(w,y)});var g=C(b,2);ge(g,17,()=>Object.keys(bt),je,(w,m)=>{var y=J(),I=F(y);{var P=k=>{var D=Vl();ge(D,21,()=>Object.keys(bt[c(m)]),je,(O,B)=>{var M=$l();const Y=L(()=>`${c(m)}.${c(B)}`);var z=E(M),W,V=C(z,2),U=E(V);G(()=>he(U,c(B).toUpperCase()));var Q=C(V,2);Yl(Q,{width:l,height:u,get dimensionKey(){return c(Y)},get color(){return n()},set color(fe){n(fe)}});var ie=C(Q,2);zl(ie,{get dimensionKey(){return c(Y)},get color(){return n()},set color(fe){n(fe)}}),G(()=>{W!==(W=c(Y))&&(z.value=(z.__value=c(Y))==null?"":c(Y)),ve(z,"id",`${c(m)??""}-${c(B)??""}`),ve(V,"for",`${c(m)??""}-${c(B)??""}`)}),da(t,[],z,()=>(c(Y),c(o)),fe=>X(o,fe)),x(O,M)}),x(k,D)};j(I,k=>{c(a)===c(m)&&k(P)})}x(w,y)}),x(r,h),Z()}ae(["click"]);const ql=(r,e)=>{_e(se,"palette")},Zl=(r,e)=>{e()&&va(e(),"cp")};var Ql=A('<!> <div class="mt-4 flex gap-2"><button class="btn btn-sm btn-secondary">Add to palette</button> <button class="btn btn-sm">Close</button></div>',1);function es(r,e){q(e,!1);const t=we(),n=()=>te(se,"$popupDialog",t),o=()=>te(wt,"$newColor",t);xt();var a=J(),i=F(a);{var l=s=>{var u=Ql(),f=F(u);Kl(f,{get color(){return fa(),o()},set color(p){_e(wt,p)},$$legacy:!0});var v=C(f,2),d=E(v);d.__click=[Zl,o];var h=C(d,2);h.__click=[ql,n],x(s,u)};j(i,s=>{o()!==null&&s(l)})}x(r,a),Z()}ae(["click"]);var ts=(r,e)=>e("sort"),rs=(r,e)=>{e("edit")},ns=(r,e)=>{e("wipe")},os=A('<div class="flex items-center justify-end gap-1"><div class="tooltip tooltip-bottom" data-tip="Change sorting of active Palette"><button class="flex gap-1 group"><!> <!></button></div> <div class="text-slate-300">|</div> <div class="tooltip tooltip-bottom" data-tip="Rearrange or trash colors in Palette"><button class="flex"><!></button></div> <div class="text-slate-300">|</div> <div class="tooltip tooltip-bottom" data-tip="Wipe colors from active Palette"><button class="flex"><!></button></div></div>');function as(r,e){q(e,!0);const t=we(),n=()=>te(ke,"$pStore",t),o=()=>te(se,"$popupDialog",t);let a=L(()=>{var m;return((m=n().active)==null?void 0:m.sortBy)??"m:asc"}),i=L(()=>Ct[c(a)]);const l=m=>{_e(se,de(o()===m?"palette":m))};var s=os(),u=E(s),f=E(u);f.__click=[ts,l];var v=E(f);le(v,{get src(){return c(i).icon},class:"w-4 h-4 stroke-slate-600 group-hover:stroke-primary"});var d=C(v,2);le(d,{get src(){return c(i).iconOrder},class:"w-4 h-4 stroke-slate-600 group-hover:stroke-primary"});var h=C(u,4),p=E(h);p.__click=[rs,l];var _=E(p);le(_,{src:$n,class:"w-4 h-4 stroke-slate-600 hover:stroke-primary"});var b=C(h,4),g=E(b);g.__click=[ns,l];var w=E(g);le(w,{src:ha,class:"w-4 h-4 stroke-slate-600 hover:stroke-primary"}),x(r,s),Z()}ae(["click"]);var is=A('<div class="flex justify-between h-8 pt-1"><div class="flex pl-2"><!></div> <div class="items-center flex text-slate-700 text-sm mr-5 truncate max-w-64"> </div></div>'),ls=(r,e)=>{_e(se,"palettes")},ss=A('<div class="p-4 rounded prose prose-sm"><h4>Your palette is clean</h4> <p>Maybe too clean? Try to pick some color or <button class="link">switch to different palette</button>?</p></div>'),cs=(r,e)=>{X(e,!0)},us=(r,e)=>{X(e,!1)},ds=A('<b>Click</b> on color to set it as <span class="font-mono font-bold">Selected</span>.',1),fs=A('<b>Hover</b> over colors to preview a color in <span class="font-mono font-bold">New</span> square →',1),vs=A('<div class="flex flex-wrap gap-2" role="tooltip"></div> <div class="text-xs mt-4"><!></div>',1),hs=A("<p>no active palette... This is embarassing and should never happen, please report the bug.</p>"),ps=A('<div><!> <div class="my-4"><!></div></div>');function gs(r,e){q(e,!0);const t=we(),n=()=>te(ke,"$pStore",t),o=()=>te(se,"$popupDialog",t);let a=ne(!1);n().active===void 0&&ke.switchPalette(Number(Object.keys(n())[0]));var i=ps(),l=E(i);{var s=h=>{var p=is(),_=E(p),b=E(_);as(b,{});var g=C(_,2),w=E(g);G(()=>he(w,`#${n().active.id??""}: ${n().active.name??""}`)),x(h,p)};j(l,h=>{n().active&&h(s)})}var u=C(l,2),f=E(u);{var v=h=>{es(h,{})},d=h=>{var p=J(),_=F(p);{var b=w=>{var m=ss(),y=C(E(m),2),I=C(E(y));I.__click=[ls,o],x(w,m)},g=w=>{var m=J(),y=F(m);{var I=k=>{var D=vs(),O=F(D);O.__mouseover=[cs,a],O.__mouseout=[us,a],ge(O,5,()=>n().active.colors,W=>W,(W,V)=>{Jr(W,{get color(){return c(V).h}})});var B=C(O,2),M=E(B);{var Y=W=>{var V=ds();x(W,V)},z=W=>{var V=fs();x(W,V)};j(M,W=>{c(a)?W(Y):W(z,!1)})}jt("focus",O,()=>{X(a,!0)}),jt("blur",O,()=>{X(a,!1)}),x(k,D)},P=k=>{var D=hs();x(k,D)};j(y,k=>{n().active?k(I):k(P,!1)},!0)}x(w,m)};j(_,w=>{var m;((m=n().active)==null?void 0:m.colors.length)===0?w(b):w(g,!1)},!0)}x(h,p)};j(f,h=>{o()==="picker"?h(v):h(d,!1)})}x(r,i),Z()}ae(["click","mouseover","mouseout"]);var ms=A("<!> <div>Eye Dropper</div>",1),bs=A('<div class="bg-gray-100 p-2 flex gap-4 justify-between"><div class="font-bold flex gap-1 items-center"><!></div> <div class="flex items-end text-gray-400 text-[0.65rem]"></div> <div class="flex gap-3"><!> <!> <!> <!></div></div>');function _s(r){const e="4.10.3.10";var t=bs(),n=E(t),o=E(n);ft(o,{"data-tip":"Open ED Home Page",href:"https://eyedropper.org",class:"tooltip tooltip-right flex items-center gap-1 hover:text-primary",children:(v,d)=>{var h=ms(),p=F(h);le(p,{src:Jn,class:"w-6 h-6 hover:stroke-primary"}),x(v,h)},$$slots:{default:!0}});var a=C(n,2);a.textContent=`v${e}`;var i=C(a,2),l=E(i);ft(l,{class:"tooltip tooltip-top","data-tip":"ED Home Page",href:"https://eyedropper.org",children:(v,d)=>{le(v,{src:pa,class:"stroke-normal w-4 h-4 hover:stroke-primary"})},$$slots:{default:!0}});var s=C(l,2);ft(s,{class:"tooltip tooltip-left","data-tip":"Found a Bug? Have an Idea?",href:"https://github.com/kepi/chromeEyeDropper/issues",children:(v,d)=>{le(v,{src:ga,class:"stroke-normal w-4 h-4 hover:stroke-primary"})},$$slots:{default:!0}});var u=C(s,2);ft(u,{class:"tooltip tooltip-left","data-tip":"Open ED in a tab",href:"/popup.html",children:(v,d)=>{le(v,{src:ma,class:"stroke-normal w-4 h-4 hover:stroke-primary"})},$$slots:{default:!0}});var f=C(u,2);ft(f,{class:"tooltip tooltip-left","data-tip":"Customize ED behaviour",href:"/options.html",children:(v,d)=>{le(v,{src:ba,class:"stroke-normal w-4 h-4 hover:stroke-primary"})},$$slots:{default:!0}}),x(r,t)}const ws=(r,e)=>{en(c(e))},ys=(r,e)=>{_e(se,"picker")};var xs=A('<div class="pt-2"><!></div>'),Es=A('<div class="flex justify-end pb-2"><button class="btn btn-xs font-normal btn-neutral hover:btn-info shadow-md"><!> mix a color</button></div>'),Ss=A("<!> <!> <!>",1),Ds=A('<div class="flex p-2 align-middle tooltip tooltip-bottom" data-tip="Click to copy to clipboard"><button class="hover:bg-neutral hover:text-white rounded bg-white text-black px-1 font-mono text-xs text-nowrap"> </button></div>'),ks=A('<div class="container min-w-[464px] max-w-[600px] m-auto"><div class="flex justify-between flex-nowrap p-1 w-full"><div class="w-full"><!> <!> <!></div> <div><!></div></div> <!> <!></div>');function Cs(r,e){q(e,!0);const t=we(),n=()=>te(nn,"$selectedColor",t),o=()=>te(wt,"$newColor",t),a=()=>te(se,"$popupDialog",t),i=()=>te(_a,"$wideDialog",t);let l=L(()=>`linear-gradient(to right, ${n()} 0%, ${o()} 100%)`),s=ne("");Bt(()=>{X(s,de(window.location.hash)),c(s)==="#import"&&_e(se,"import")});var u=ks(),f=E(u),v=E(f),d=E(v);{var h=D=>{var O=xs(),B=E(O);ui(B,{}),x(D,O)};j(d,D=>{i()||D(h)})}var p=C(d,2);Al(p,{});var _=C(p,2);{var b=D=>{gs(D,{})};j(_,D=>{i()||D(b)})}var g=C(v,2),w=E(g);{var m=D=>{var O=Ss(),B=F(O);En(B,{label:"Selected",get color(){return n()}});var M=C(B);M.nodeValue="  ";var Y=C(M);En(Y,{label:"New",get color(){return o()}});var z=C(Y,2);{var W=U=>{Rl(U,{})},V=U=>{var Q=Es(),ie=E(Q);ie.__click=[ys,a];var fe=E(ie);le(fe,{class:"hover:stroke-primary w-4 h-4 hover:scale-125",src:wa}),x(U,Q)};j(z,U=>{a()==="picker"?U(W):U(V,!1)})}x(D,O)};j(w,D=>{i()||D(m)})}var y=C(f,2);{var I=D=>{Sl(D)},P=D=>{var O=Ds(),B=E(O);B.__click=[ws,l];var M=E(B);G(()=>{ve(O,"style",`background: linear-gradient(to right, ${n()??""} 0%, ${o()??""} 100%)`),he(M,c(l))}),x(D,O)};j(y,D=>{i()?D(I):D(P,!1)})}var k=C(y,2);_s(k),x(r,u),Z()}ae(["click"]);ya(Cs,{target:document.body});

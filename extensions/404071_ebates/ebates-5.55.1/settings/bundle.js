/*! For license information please see bundle.js.LICENSE.txt */
var source;(self.webpackChunksource=self.webpackChunksource||[]).push([[472],{35521:(e,t,r)=>{"use strict";function n(e,{attribute:t="data-focus-visible-added",className:r="focus-visible"}={}){let n=!0,s=!1,a=null,o={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function i(e){return!!(e&&e!==document&&"HTML"!==e.nodeName&&"BODY"!==e.nodeName&&"classList"in e&&"contains"in e.classList)}function l(e){e.classList.contains(r)||(e.classList.add(r),e.setAttribute(t,""))}function c(e){n=!1}function u(){document.addEventListener("mousemove",d),document.addEventListener("mousedown",d),document.addEventListener("mouseup",d),document.addEventListener("pointermove",d),document.addEventListener("pointerdown",d),document.addEventListener("pointerup",d),document.addEventListener("touchmove",d),document.addEventListener("touchstart",d),document.addEventListener("touchend",d)}function d(e){e.target.nodeName&&"html"===e.target.nodeName.toLowerCase()||(n=!1,document.removeEventListener("mousemove",d),document.removeEventListener("mousedown",d),document.removeEventListener("mouseup",d),document.removeEventListener("pointermove",d),document.removeEventListener("pointerdown",d),document.removeEventListener("pointerup",d),document.removeEventListener("touchmove",d),document.removeEventListener("touchstart",d),document.removeEventListener("touchend",d))}document.addEventListener("keydown",(function(t){t.metaKey||t.altKey||t.ctrlKey||(i(e.activeElement)&&l(e.activeElement),n=!0)}),!0),document.addEventListener("mousedown",c,!0),document.addEventListener("pointerdown",c,!0),document.addEventListener("touchstart",c,!0),document.addEventListener("visibilitychange",(function(e){"hidden"===document.visibilityState&&(s&&(n=!0),u())}),!0),u(),e.addEventListener("focus",(function(e){i(e.target)&&(n||function(e){let t=e.type,r=e.tagName;return!("INPUT"!==r||!o[t]||e.readOnly)||"TEXTAREA"===r&&!e.readOnly||!!e.isContentEditable}(e.target))&&l(e.target)}),!0),e.addEventListener("blur",(function(e){var n;i(e.target)&&(e.target.classList.contains(r)||e.target.hasAttribute(t))&&(s=!0,window.clearTimeout(a),a=window.setTimeout((function(){s=!1}),100),(n=e.target).hasAttribute(t)&&(n.classList.remove(r),n.removeAttribute(t)))}),!0),e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.host?e.host.setAttribute("data-js-focus-visible",""):e.nodeType===Node.DOCUMENT_NODE&&(document.documentElement.classList.add("js-focus-visible"),document.documentElement.setAttribute("data-js-focus-visible",""))}r.d(t,{A:()=>n})},77770:(e,t,r)=>{"use strict";r.d(t,{R:()=>o});var n=r(45091);const s={"en-US":r(83922),"en-GB":r(13803)},a="en-US";const o=new class{locale=a;constructor(){this.fallbackLocale=a}setLocale(e){this.locale=e}getRawText(e){const t=s,r=e.split(".");r.unshift(this.locale);const a=e.split(".");return a.unshift(this.fallbackLocale),(0,n.get)(t,r)??(0,n.get)(t,a)}get(e,t){let r=this.getRawText(e);if("string"!=typeof r)return e;if(t){const e=[...r.matchAll(/{(.+?)}/g)];if(!e.length)return r;e.forEach((e=>{const n=e[0],s=t[e[1]];r=r?.replace(n,s)}))}return r}}},47004:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n={PRODUCT_CDN:"product-image.ebates.com",BASE:"https://%domain%",STORES:"%apituner_api%/apituner/button/domain/entity/list",STORE_DEALS_COUNT:"%apituner_api%/apituner/button/store/deal/count",DEALS:"%apituner_api%/apituner/button/store/deal/list",STORE_DEALS:"%apituner_api%/apituner/button/store/deal/list?storeId=%storeId%",STORE_CONTENT:"%apituner_api%/apituner/button/store/content?id=%storeId%",CAMPAIGNS:"%apituner_api%/apituner/button/campaign/list",EDS:"%apituner_api%/apituner/eds/member/profile",STORE_COUPONS:"%rakuten_api%/button-acs/stores/%storeId%/coupons",PRODUCT_METADATA:"%rakuten_api%/product-metadata-extractor/v1/regions/USA/stores/%storeId%/products",POPUP_SEARCH:"%search_api%/store/list/suggest?q={terms}&rows=25&start=0",URL_SHORTENER:"https://%domain%/urlshortener/v1/urls",ABANDONED_PRODUCTS:"https://cas.rrcbsn.com/cart_abandonment/v1/members/%uid%/products",CAPTURE_ORDER:"https://capture.ecbsn.com/api/1.0/commercecapture",MEMBER_DETAILS:"%member_api%/api/v3/button/member",MEMBER_ACTIVITY:"%member_api%/api/v3/button/member/activity",MEMBER_FAVORITES:"%member_api%/api/v3/button/member/favorite/stores",MEMBER_VISITED:"%member_api%/api/v3/button/member/store/visited",MEMBER_PURCHASED:"%member_api%/api/v3/button/member/store/purchased",MEMBER_TICKETS:"%member_api%/api/v3/button/member/trackingticket/list",MEMBER_ONE_RECEIPTS:"%member_api%/api/v3/button/member/receipts/list",MEMBER_ISCB:"%member_api%/api/v3/button/member/instore/offers/available",MEMBER_ISCB_LINKED:"%member_api%/api/v3/button/member/instore/offers/linked",MEMBER_UDPATE_TCPP:"%member_api%/api/v3/button/member/tcpp/update",MEMBER_UDPATE_ATTRIBUTE:"%member_api%/api/v3/button/member/attributes/update",MEMBER_TAF:"%member_api%/api/v3/button/member/referral/program",MEMBER_GEOGATING:"%member_api%/geogating/v1/checkStatus.do",MILESTONES_URL:"https://www.rakuten.com/rewardshub/v1/regions/USA/members/%uid%/milestones?cursor=1&limit=10",PRICE_MAGIC:"https://search.ecbsn.com/search/price-magic/v1/similar-products?partnerId=1&sourceName=Toolbar",PRICE_MAGIC_BULK:"https://search.ecbsn.com/search/price-magic/v1/bulk-products?sourceName=Toolbar",SETTINGS_PM:"%member_api%/toolbar/config/pm_stores.json",SETTINGS_COUPONS:"%member_api%/toolbar/config/coupons.json",SETTINGS_PRODUCTS:"%member_api%/toolbar/config/products.json",SETTINGS_MERCHANTS:"https://button.rrcbsn.com/settings/merchants.json",SETTINGS_SERP:"https://button.rrcbsn.com/settings/serp.json",SETTINGS_PROMOS:"https://button.rrcbsn.com/settings/promos.json",SETTINGS_NOTIFICATION_DOMAINS:"%cdn%/toolbar/config/notification-domains.json",WEB_INSTALL:"https://%domain%/button/%browser/install/success?sourceName=toolbar&eeid=45426&toolbarId=%toolbarId&visit_id=%visitId",WEB_LOGON_FORM:"https://%domain%/account/login?tb=yes&eeid=26118&visit_id=%visitId&targetpage=%2F",WEB_LOGIN:"https://%domain%/button/user-auth.htm?tb=yes&auth_type=su&sourceName=toolbar&visit_id=%visitId",WEB_UNINSTALL:"https://%domain%/button/uninstall?tb=yes&toolbarId=%toolbarId&v=%version&visit_id=%visitId&b=%browser",WEB_MOBILE_EXTENSION:"rakuten://us/beo?url=https://%domain%/button/mobile/enable&autologin=true",WEB_SEARCH:"https://%domain%/search?term={terms}&tb=yes&ebtoken=%ebtoken&visit_id=%visitId",WEB_HOME:"https://%domain%/?tb=yes&ebtoken=%ebtoken&eeid=26117&visit_id=%visitId",WEB_REFERRAL:"https://%domain%/referral/default.do?tb=yes&ebtoken=%ebtoken&visit_id=%visitId",WEB_TC:"https://%domain%/referral/default.do?tb=yes&ebtoken=%ebtoken&visit_id=%visitId#taf-tc",WEB_PRIVACY_NOTICE:"https://%domain%/help/article/button-privacy-notice?visit_id=%visitId",WEB_ADVERTISING_DISCLOSURE:"https://%domain%/help/article/advertising-disclosure?tb=yes&ebtoken=%ebtoken&eeid=26117",WEB_REFERRAL_TERMS:"https://%domain%/help/article/referral-program-terms?tb=yes&ebtoken=%ebtoken&eeid=61594",WEB_ADD_ADDRESS:"https://%domain%/account-settings.htm?add-address-modal=true&tb=yes&eeid=26117&sourceName=toolbar",WEB_CHOOSE_PAYMENT:"https://%domain%/account-settings.htm?choose-payment=true&tb=yes&eeid=26117&sourceName=toolbar&ebtoken=%ebtoken",WEBSTORE_SAFARI:"https://itunes.apple.com/app/apple-store/id1451893560?pt=117880184&mt=12&ls=1",WEBSTORE_FIREFOX:"https://addons.mozilla.org/en-US/firefox/addon/ebates/reviews/add",WEBSTORE_EDGE:"https://microsoftedge.microsoft.com/addons/detail/gmmlpenookphoknnpfilofakghemolmg",WEBSTORE_CHROME:"https://chromewebstore.google.com/detail/rakuten-get-cash-back-for/chhjbpecpncaggjpdakmflnfcopglcmi/reviews"}},24827:(e,t,r)=>{"use strict";r.d(t,{Y:()=>a});var n=r(7059),s=r.n(n);function a(e,t){return s()(t).format(e)}},26790:(e,t,r)=>{"use strict";function n(e){if(e&&!e.startsWith("data:")){const t=/(?:https?:\/\/)?(?:\w+:\/)?[^:?#/\s]*?([^.\s]+\.(?:[a-z]{2,}|co\.uk|org\.uk|ac\.uk|org\.au|com\.au))(?:[:?#/]|$)/gi.exec(e);return t?t[1].toLowerCase():null}return null}r.d(t,{F:()=>n})},14694:(e,t,r)=>{"use strict";r.d(t,{Du:()=>a,cb:()=>o});var n=r(7059),s=r.n(n);function a(e){return s()(e).diff(s()().startOf("day").second(1),"day")}function o(e){return new Promise((t=>{setTimeout(t,e)}))}},46378:(e,t,r)=>{"use strict";r.d(t,{p:()=>a});var n=r(38354),s=r.n(n);function a(e){return s()(e,{allowedTags:["a","b","br","div","h1","h2","h3","h4","h5","h6","i","img","p","span","tr","td","ol","li","ul","strong"],allowedAttributes:{"*":["alt","aria-*","class","data-*","disabled","height","href","id","loading","name","placeholder","role","src","style","tabindex","target","type","value","width"]}})}},38734:(e,t,r)=>{"use strict";function n(e,t){const r=a(t).toString();return r?e+(e.includes("?")?"&":"?")+r:e}function s(e,t){const r=a(t);if(""===r.toString())return e.toString();const n="string"==typeof e?new URL(e):e;return r.forEach(((e,t)=>{n.searchParams.set(t,e)})),n.toString()}function a(e){if("object"==typeof e){const t={...e};for(const e in t)void 0!==t[e]&&""!==t[e]||delete t[e];return new URLSearchParams(t)}return new URLSearchParams(e)}r.d(t,{Gu:()=>n,Rz:()=>s})},80326:(e,t,r)=>{"use strict";r.d(t,{$:()=>s});var n=r(77770);const s=new class{config={};region="USA";setConfig(e){this.config=e,n.R.setLocale(e.locale)}get(e){return this.config[e]}}},83442:(e,t,r)=>{"use strict";r.d(t,{o:()=>n});const n=new class{variations={};constructor(){this.get=this.variation}init(e){this.variations=e}variation(e,t){return e in this.variations?void 0!==this.variations[e]?this.variations[e]:t:void 0!==t&&t}}},84383:(e,t,r)=>{"use strict";r.d(t,{d:()=>l});var n=r(10399),s=r(30457),a=r.n(s),o=r(71292);const i=3e3;function l({node:e=document.head,name:t=["content","fonts"]}={}){const r=new Map;return[].concat(t).forEach((t=>{r.has(t)||r.set(t,c(t,"fonts"===t?document.head:e))})),Promise.all(Array.from(r.values()))}async function c(e="content",t=document.head){const r=`rr-style-${e.replace(/[/\\]/,"-")}`,s={file:a().runtime.getURL(`${e}/style.css`)};return n.A.browser.isSafariApp&&(s.baseURI=safari.extension.baseURI),new Promise((n=>{if(t){if(t.querySelector(`#${r}`))return void n(null);(0,o.r)("getContent",s).then((e=>{const s=document.createElement("style");s.setAttribute("id",r);const a=document.createTextNode(e);s.appendChild(a),t.appendChild(s),s.addEventListener("load",n),setTimeout(n,i)}))}else setTimeout((()=>{c(e)}),10)}))}},71292:(e,t,r)=>{"use strict";r.d(t,{r:()=>s});var n=r(10399);function s(e,t,r){return n.A.extension.fireEvent(e,{data:t},r)}},53687:(e,t,r)=>{"use strict";r.d(t,{s:()=>s});var n=r(10399);function s(e){return n.A.extension.getURL(n.A.browser.isSafariApp?`extension/${e}`:e)}},4337:(e,t,r)=>{"use strict";r.d(t,{V_:()=>x,Iw:()=>_,II:()=>T,w_:()=>R,jG:()=>E,BK:()=>C,Bs:()=>S,B0:()=>w});var n=r(45091),s=r(10399),a=r(84383),o=r(26790),i=r(14694),l=r(24827),c=r(35521);const u="react-root",d="[data-emotion]";function m(e){return e.querySelector(`#${u}`)?.shadowRoot?.querySelectorAll(d)}var g=r(62881),p=r(77770),f=r(80326),h=r(1954),b=r(83442);r(75521);const v=new Map;let A=10;const y="function"==typeof HTMLElement.prototype.attachShadow;let k=null;function w(e){return e.trim().replace(/\u2019/g,"'")}async function x({parentNode:e=document.documentElement,waitStyles:t=!0,styles:r,top:i=!1,insertConfig:l=null}={}){let u=v.get(e);if(!u){let t;const r=document.createElement("div"),a=r,d=(0,o.F)(location.href),g=b.o.get("injectionMode")?.random;if(Array.isArray(g)&&g.includes(d)&&y){const t=Array.from(document.querySelectorAll("body > *")),r=t[Math.floor(Math.random()*t.length)],n=["div","span","p","b","article","section","em","strong"];e=document.createElement(n[Math.floor(Math.random()*n.length)]),r.parentNode?.insertBefore(e,r),i=!1}else a.style.setProperty("all","initial","important");if(u=a,y){const e=b.o.get("injectionMode")?.closed,t=Array.isArray(e)&&e.includes(d)?"closed":"open";u=a.attachShadow({mode:t}),s.A.browser.isSafari&&(0,c.A)(u,{className:"rr-focus-visible"})}l?(0,h.$)({el:r,config:l,parent:e}):e.appendChild(r),i&&(t=new MutationObserver((0,n.debounce)((()=>{if(e.contains(r)&&e.childNodes[e.childNodes.length-1]!==r&&A>=0){A--;const t=function(e){const t=m(e),r=[];return t&&r.push(...Array.from(t).map((({sheet:e})=>Array.from(e?.cssRules??[]).map((e=>e.cssText))))),r}(u);e.removeChild(r),e.appendChild(r),function(e,t){const r=m(e);r&&t.forEach(((e,t)=>{e.forEach((e=>{r[t].sheet?.insertRule(e)}))}))}(u,t)}}),500)),t.observe(e,{attributes:!1,childList:!0,subtree:!1}));const p=new MutationObserver((0,n.debounce)((()=>{u.querySelector(":not(style)")||(p.disconnect(),r.parentNode?.removeChild(r),v.delete(e),k&&(k.$destroy(),k=null),t&&t.disconnect())}),5e3));p.observe(u,{attributes:!1,childList:!0,subtree:!1}),v.set(e,u)}return t?await(0,a.d)({node:u,name:r}):(0,a.d)({node:u,name:r}),u}function E(e=document.documentElement){return v.get(e)}function _(){b.o.get("skipLink")&&(k=(new g.A).$mount())}function C(){return!!/^https:\/\/www.google.com/.test(location.href)&&(document.querySelector('meta[name="color-scheme"]')?.getAttribute("content")??"").indexOf("dark")>=0}function S(){return-1!==location.pathname.search(/[\\/]popup[\\/]popup.html/)}function R(e){const t=(0,i.Du)(e);switch(t){case 0:return p.R.get("daysFromNow.endsToday");case 1:return p.R.get("daysFromNow.endsTomorrow");default:return t>0?p.R.get("daysFromNow.endsDate",{date:T(e)}):p.R.get("daysFromNow.ended")}}function T(e){const t=f.$.get("DATE_FORMAT");return"number"==typeof e&&e<1e12&&(e*=1e3),"string"==typeof e&&(e=new Date(e).getTime()),(0,l.Y)(t,e)}},1954:(e,t,r)=>{"use strict";r.d(t,{$:()=>o});var n=r(79602),s=r.n(n);function a({el:e,config:t,parent:r}){return t["insert-before"]?s()(e).insertBefore(s()(t["insert-before"],r)).get(0):t["insert-after"]?s()(e).insertAfter(s()(t["insert-after"],r)).get(0):t["prepend-to"]?s()(e).prependTo(s()(t["prepend-to"],r)).get(0):t["append-to"]?s()(e).appendTo(s()(t["append-to"],r)).get(0):t.before?s()(t.before,r).before(s()(e)).get(0):t.after?s()(t.before,r).after(s()(e)).get(0):void 0}function o({el:e,config:t,parent:r=document}){return Array.isArray(t)?t.some((t=>a({el:e,config:t,parent:r}))):a({el:e,config:t,parent:r})}},13809:(e,t,r)=>{"use strict";r.d(t,{o:()=>s});var n=r(10399);function s(e,t){return n.A.browser.navigate(e,t)}},261:(e,t,r)=>{"use strict";r.d(t,{m:()=>a});var n=r(71292),s=r(4337);const a={getAnonymousId:()=>(0,n.r)("segment.anonymousId"),track(e,t={}){const r=(0,s.Bs)()?"popup/popup.html":`${location.protocol}//${location.host}${location.pathname}`;return(0,n.r)("segment.track",{event:e,parameters:{url:r,...t}})},VIEW_MODULE:"View Module",CLICK_MODULE:"Click Module",VISIT_PAGE:"Visit Page",VISIT_RAF:"Visit Refer a Friend"}},44560:(e,t,r)=>{"use strict";var n=r(72538),s=r.n(n),a=r(44243),o=r(10399),i=r(71292),l=r(83442),c=r(80326),u=r(35521);const d=JSON.parse('{"title":"Rakuten Extension Settings","signedInId":{"label":"You are signed in as","email":"email starts with {email}","link":"Not You?","tooltip":"Not you? Open Rakuten sign in page"},"blacklist":{"label":"Turn off Cash Back activation reminders for {0}","link":"these sites","tooltip":"Modify sites list with Cash Back activation reminders turned off"},"links":{"showDesktopNotifications":"Show desktop notifications","purchaseConfirmations":"Show order confirmations after purchase","abandonedProductsReminder":"Show reminders for items left in your cart","advertUrlClick":"Ad Disclosure / How We Make Money","attestationEnabled":"Do Not Sell or Share My Personal Information / Personal Data Opt-out","deleteAccountClick":"Delete My Account","cookieConsent":"Cookie Consent","terms":"Rakuten Terms"},"login":{"label":"Please sign in to view your settings","link":"Sign In"},"collectPersonalData":{"title":"Can we collect the following personal data from your use of the application:","description":"Unique personal identifier, IP address, pages viewed, browsing history, and purchase history so we can personalize your experience on the Rakuten and confirm your cash back faster and more reliably."},"collectPerformanceData":{"title":"Can we collect the following performance data about your use of the application:","description":"Date and time of use and browser type and version so we could identify performance issues and troubleshoot errors."},"exclusionListDialog":{"title":"Exclusion List","description":"Please copy & paste URLs of sites you would like to exclude, one per line:"}}'),m=JSON.parse('{"title":"Rakuten Extension Settings","blacklist":{"label":"Turn off Cashback activation reminders for {0}","link":"these sites","tooltip":"Modify sites list with Cashback activation reminders turned off"},"links":{"attestationEnabled":"Privacy Preferences","cookieConsent":"Cookie Consent"}}');var g=function(){var e=this;return(0,e._self._c)("settings-form",{attrs:{settings:e.settings,account:e.account,browser:e.browser,urls:e.urls}})};g._withStripped=!0;var p=r(47004),f=function(){var e=this,t=e._self._c;return t("div",{staticClass:"settings-panel rr-text-primary rr-flex rr-pa-48 rr-rounded-ui rr-shadow-default rr-mx-auto"},[t("r-logo",{staticClass:"rr-mr-32",attrs:{variant:"icon",alt:""}}),t("div",[t("h1",{staticClass:"rr-t-descriptor-m rr-mb-8 rr-mt-0"},[e._v(" "+e._s(e.$t("title"))+" ")]),e.account.accessLevel?t("div",{staticClass:"rr-t-descriptor-s rr-fw-book"},[t("label",{attrs:{id:"signedInId",for:"login-link"}},[e._v(" "+e._s(e.$t("signedInId.label"))+" "),t("span",{attrs:{"aria-label":e.$t("signedInId.email",{email:e.account.emailAddress.charAt(0)})}},[t("strong",{attrs:{"aria-hidden":"true"}},[e._v(e._s(e.account.emailAddress))])])]),t("r-link",{staticClass:"rr-ml-16",attrs:{id:"login-link","aria-describedby":"signedInId","aria-label":e.$t("signedInId.tooltip")},on:{click:e.login}},[e._v(" "+e._s(e.$t("signedInId.link"))+" ")]),e.account.isHardDeleteRequested?t("div",{staticClass:"pending-deletion",domProps:{innerHTML:e._s(e.pendingDeletionTemplate)},on:{click:e.clickHtml}}):t("div",{staticClass:"rr-flex rr-flex-col rr-items-start"},[t("div",{staticClass:"switch-grid rr-my-32"},[t("i18n",{staticClass:"rr-t-descriptor-s",attrs:{path:"blacklist.label",tag:"label",for:"blacklistLink"}},[t("r-button",{staticClass:"rr-inline",staticStyle:{padding:"0",height:"16px"},attrs:{id:"blacklistLink","aria-haspopup":"dialog","aria-label":e.$t("blacklist.tooltip"),variant:"tertiary"},on:{click:e.showDialog}},[e._v(" "+e._s(e.$t("blacklist.link"))+" ")])],1),t("div",[t("r-switch",{attrs:{ariaLabel:"Turn off Cash Back activation reminders for added sites"},model:{value:e.blacklistEnabledModel,callback:function(t){e.blacklistEnabledModel=t},expression:"blacklistEnabledModel"}})],1),e.isDesktopNotificationsActive&&"granted"===e.settings.notificationsEnabled?[t("label",{staticClass:"rr-t-descriptor-s",attrs:{for:"showDesktopNotifications"}},[e._v(" "+e._s(e.$t("links.showDesktopNotifications"))+" ")]),t("div",[t("r-switch",{attrs:{id:"showDesktopNotifications"},model:{value:e.desktopNotificationsModel,callback:function(t){e.desktopNotificationsModel=t},expression:"desktopNotificationsModel"}})],1)]:e._e(),e.featureFlagsConfirmation?[t("label",{staticClass:"rr-t-descriptor-s",attrs:{for:"purchaseConfirmations"}},[e._v(" "+e._s(e.$t("links.purchaseConfirmations"))+" ")]),t("div",[t("r-switch",{attrs:{id:"purchaseConfirmations"},model:{value:e.postPurchaseMessageModel,callback:function(t){e.postPurchaseMessageModel=t},expression:"postPurchaseMessageModel"}})],1)]:e._e(),e.featureFlagsCartAbandonment?[t("label",{staticClass:"rr-t-descriptor-s",attrs:{for:"abandonedProductsReminder"}},[e._v(" "+e._s(e.$t("links.abandonedProductsReminder"))+" ")]),t("div",[t("r-switch",{attrs:{id:"abandonedProductsReminder"},model:{value:e.abandonedProductsReminderModel,callback:function(t){e.abandonedProductsReminderModel=t},expression:"abandonedProductsReminderModel"}})],1)]:e._e(),"Firefox"===e.browser?[t("label",{staticClass:"rr-t-descriptor-s rr-fw-book",attrs:{for:"collectPersonalData","aria-hidden":"true"}},[t("strong",[e._v(e._s(e.$t("collectPersonalData.title")))]),t("br"),e._v(" "+e._s(e.$t("collectPersonalData.description"))+" ")]),t("div",[t("r-switch",{attrs:{id:"collectPersonalData",trueValue:"opt_in",falseValue:"opt_out"},model:{value:e.loggingModel,callback:function(t){e.loggingModel=t},expression:"loggingModel"}})],1)]:e._e(),"Firefox"===e.browser?[t("label",{staticClass:"rr-t-descriptor-s rr-fw-book",attrs:{for:"collectPerformanceData","aria-hidden":"true"}},[t("strong",[e._v(e._s(e.$t("collectPerformanceData.title")))]),t("br"),e._v(" "+e._s(e.$t("collectPerformanceData.description"))+" ")]),t("div",[t("r-switch",{attrs:{id:"collectPerformanceData",trueValue:"opt_in",falseValue:"opt_out"},model:{value:e.anonymousLoggingModel,callback:function(t){e.anonymousLoggingModel=t},expression:"anonymousLoggingModel"}})],1)]:e._e()],2),t("r-link",{staticClass:"rr-mb-32",attrs:{href:e.urlAdvertisingDisclosure},on:{click:e.trackVisitPage}},[e._v(" "+e._s(e.$t("links.advertUrlClick"))+" ")]),t("r-link",{staticClass:"rr-mb-32",attrs:{href:e.urlPrivacyPreferences},on:{click:e.trackVisitPage}},[e._v(" "+e._s(e.$t("links.attestationEnabled"))+" ")]),t("r-link",{staticClass:"rr-mb-32",attrs:{href:e.urlPrivacyPreferences},on:{click:e.trackVisitPage}},[e._v(" "+e._s(e.$t("links.deleteAccountClick"))+" ")]),e.urlCookieConsent?t("r-link",{staticClass:"rr-mb-32",attrs:{href:e.urlCookieConsent},on:{click:e.trackVisitPage}},[e._v(" "+e._s(e.$t("links.cookieConsent"))+" ")]):e._e(),e.urlTerms?t("r-link",{staticClass:"rr-mb-32",attrs:{href:e.urlTerms},on:{click:e.trackVisitPage}},[e._v(" "+e._s(e.$t("links.terms"))+" ")]):e._e()],1)],1):t("div",{staticClass:"rr-t-descriptor-s rr-fw-book rr-mb-32"},[e._v(" "+e._s(e.$t("login.label"))+" "),t("r-link",{staticClass:"rr-ml-16",on:{click:e.login}},[e._v(" "+e._s(e.$t("login.link"))+" ")])],1)]),t("transition",{attrs:{name:"rr-fade"}},[e.showBlackListDialog?t("black-list-dialog",{attrs:{blacklist:e.blacklist},on:{"update:blacklist":function(t){e.blacklist=t},clickCTA:e.blacklistUpdate,close:function(t){e.showBlackListDialog=!1}}}):e._e()],1)],1)};f._withStripped=!0;var h=r(45091),b=r(46378),v=r(261),A=r(38734),y=r(13809),k=function(){var e=this,t=e._self._c;return t("div",{staticClass:"r-switch"},[t("input",{ref:"input",attrs:{id:e.id,type:"checkbox",name:e.name,disabled:e.disabled,required:e.required,"aria-label":e.ariaLabel},domProps:{checked:e.isChecked,value:e.value},on:{change:e.updateInput}}),t("div",{staticClass:"state"})])};k._withStripped=!0;const w={model:{prop:"modelValue",event:"change"},props:{name:{type:String,default:""},value:{type:String,default:""},modelValue:{type:[String,Boolean],default:!1},trueValue:{type:[String,Boolean],default:!0},falseValue:{type:[String,Boolean],default:!1},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},ariaLabel:{type:String,default:""},id:{type:String,default:""}},emits:["change"],data:()=>({m_checked:null}),computed:{isChecked(){return this.modelValue?this._trueValue?this.modelValue===this.trueValue:"string"==typeof this.modelValue||!!this.modelValue:!!this.m_checked},_trueValue(){return"string"==typeof this.trueValue?this.trueValue:!!this.trueValue},_falseValue(){return"string"==typeof this.falseValue?this.falseValue:!!this.falseValue}},methods:{updateInput(e){const t=e.target.checked;this.m_checked=t,t?this.$emit("change",!this._trueValue||this.trueValue):this.$emit("change",!!this._falseValue&&this.falseValue)}}};var x=r(19468);const E=(0,x.A)(w,k,[],!1,null,null,null).exports;var _=r(35337),C=r(16947),S=r(29123),R=function(){var e=this,t=e._self._c;return t("r-modal-form",{staticClass:"exclusion-list-dialog",attrs:{position:"center",headerLogo:"none",width:"520px","aria-modal":"true","aria-labelledby":"popupTopic",closeLabel:"Dismiss Exclusion List Dialog"},on:{close:e.clickClose},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.clickClose.apply(null,arguments)}}},[t("div",{staticClass:"rr-flex rr-flex-col rr-items-center"},[t("h1",{staticClass:"rr-t-desktop-banner-s rr-mb-32 rr-mt-0",attrs:{id:"popupTopic"}},[e._v(" "+e._s(e.$t("exclusionListDialog.title"))+" ")]),t("div",[t("div",{staticClass:"rr-t-body rr-text-left",attrs:{id:"textAreaDescription"}},[e._v(" "+e._s(e.$t("exclusionListDialog.description"))+" ")]),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.blacklistModel,expression:"blacklistModel"}],ref:"textarea",staticClass:"black-list-text",attrs:{"aria-labelledby":"textAreaDescription",tabindex:"0"},domProps:{value:e.blacklistModel},on:{input:function(t){t.target.composing||(e.blacklistModel=t.target.value)}}})]),t("r-button",{staticClass:"rr-mt-32",attrs:{size:"large"},on:{click:e.saveBlackList}},[e._v(" Save ")])],1)])};R._withStripped=!0;const T={name:"SettingsBlackList",components:{RModalForm:r(88147).A,RButton:_.A},props:{blacklist:{type:Array,default:()=>[]}},data(){return{blacklistData:this.blacklist}},computed:{blacklistModel:{get(){return this.blacklist.join("\n")},set(e){return"string"==typeof e?this.blacklistData=e.split(/[,;\n ]+/):Array.isArray(e)&&(this.blacklistData=e),this.blacklistData}}},mounted(){this.$refs.textarea.focus()},methods:{closeDialog(){this.$emit("close")},saveBlackList(){this.$emit("update:blacklist",this.blacklistData),this.$emit("clickCTA"),this.closeDialog()},clickClose(){this.closeDialog()}}};const N={name:"SettingsForm",components:{BlackListDialog:(0,x.A)(T,R,[],!1,null,null,null).exports,RButton:_.A,RLogo:C.A,RSwitch:E,RLink:S.A},props:{settings:{type:Object,required:!0},account:{type:Object,required:!0},urls:{type:Object,default:()=>({})},browser:{type:String,default:"Chrome"}},data(){return{showBlackListDialog:!1,blacklist:this.settings.blacklist}},computed:{pendingDeletionTemplate(){return(0,b.p)(this.settings.pendingDeletionTemplate)},featureFlagsConfirmation:()=>l.o.get("confirmation",!0),featureFlagsCartAbandonment:()=>l.o.get("cartAbandonment",!0),isDesktopNotificationsActive:()=>l.o.get("desktopNotifications",!0),blacklistEnabledModel:{get(){return this.settings.blacklistEnabled},set(e){this.toggle("blacklistEnabled",e)}},loggingModel:{get(){return this.settings.logging},set(e){this.toggle("logging",e)}},anonymousLoggingModel:{get(){return this.settings.anonymousLogging},set(e){this.toggle("anonymousLogging",e)}},postPurchaseMessageModel:{get(){return this.settings.postPurchaseMessage},set(e){this.toggle("postPurchaseMessage",e)}},abandonedProductsReminderModel:{get(){return this.settings.abandonedProductsReminder},set(e){this.toggle("abandonedProductsReminder",e),v.m.track("Click Module",{module_type:"Cart Abandonment Notification",entity_name:"Settings Page",cta_type:e?"turn on":"turn off"})}},desktopNotificationsModel:{get(){return this.settings.desktopNotifications.cashBack},set(e){this.toggle("desktopNotifications.cashBack",e)}},urlPrivacyPreferences(){return this.substitute(c.$.get("WEB_PRIVACY_PREFERENCES"))},urlAdvertisingDisclosure(){return this.substitute(this.urls.WEB_ADVERTISING_DISCLOSURE)},urlCookieConsent(){const e=c.$.get("URL_COOKIE_CONSENT");return e?(0,A.Gu)(e,{visit_id:this.settings.visitId}):""},urlTerms(){const e=c.$.get("URL_TERMS");return e?(0,A.Gu)(e,{visit_id:this.settings.visitId}):""}},methods:{login(){(0,i.r)("login",{name:"getLogonForm"})},substitute(e){return e.replace(/%domain%?/g,c.$.get("domain")).replace(/%ebtoken%?/g,this.account.ebToken).replace(/%visitId%?/g,this.settings.visitId)},toggle(e,t){e&&(0,i.r)("settings",{[e]:t})},clickHtml(e){const t=e=>e&&e!==this.$el?"A"===e.tagName&&e.hasAttribute("data-href")?e:t(e.parentNode):null;this.clickNode(t(e.target))},clickNode(e){if(!e)return;const t=e.getAttribute("data-href");t&&(0,y.o)(this.substitute(t))},showDialog(){this.showBlackListDialog=!this.showBlackListDialog},blacklistUpdate(){(0,i.r)("blacklist-save",(0,h.compact)(this.blacklist))},trackVisitPage(e){v.m.track("Visit Page",{preceding_screen_name:"Settings Page",url:e.target.getAttribute("href")})}}};const L={name:"SettingsView",components:{SettingsForm:(0,x.A)(N,f,[],!1,null,null,null).exports},props:{settings:{type:Object,required:!0},account:{type:Object,required:!0}},data:()=>({browser:o.A.browser.name}),computed:{urls:()=>p.A}};const P=(0,x.A)(L,g,[],!1,null,null,null).exports;o.A.browser.isSafari&&(0,u.A)(document),s().use(a.A),async function(){const[e,t]=await Promise.all([(0,i.r)("settings"),(0,i.r)("account")]);l.o.init(e.featureFlags),c.$.setConfig(e.config),new(s())({el:"#settings-root",i18n:new a.A({locale:c.$.get("locale"),fallbackLocale:"en-US",messages:{"en-US":d,"en-GB":m}}),render:r=>r(P,{props:{settings:e,account:t??{}}})})}()},22073:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BLANK_URL=t.relativeFirstCharacters=t.whitespaceEscapeCharsRegex=t.urlSchemeRegex=t.ctrlCharactersRegex=t.htmlCtrlEntityRegex=t.htmlEntitiesRegex=t.invalidProtocolRegex=void 0,t.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,t.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,t.htmlCtrlEntityRegex=/&(newline|tab);/gi,t.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,t.urlSchemeRegex=/^.+(:|&colon;)/gim,t.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,t.relativeFirstCharacters=[".","/"],t.BLANK_URL="about:blank"},21812:(e,t,r)=>{"use strict";t.J=void 0;var n=r(22073);function s(e){try{return decodeURIComponent(e)}catch(t){return e}}t.J=function(e){if(!e)return n.BLANK_URL;var t,r,a=s(e);do{t=(a=s(a=(r=a,r.replace(n.ctrlCharactersRegex,"").replace(n.htmlEntitiesRegex,(function(e,t){return String.fromCharCode(t)}))).replace(n.htmlCtrlEntityRegex,"").replace(n.ctrlCharactersRegex,"").replace(n.whitespaceEscapeCharsRegex,"").trim())).match(n.ctrlCharactersRegex)||a.match(n.htmlEntitiesRegex)||a.match(n.htmlCtrlEntityRegex)||a.match(n.whitespaceEscapeCharsRegex)}while(t&&t.length>0);var o=a;if(!o)return n.BLANK_URL;if(function(e){return n.relativeFirstCharacters.indexOf(e[0])>-1}(o))return o;var i=o.match(n.urlSchemeRegex);if(!i)return o;var l=i[0];return n.invalidProtocolRegex.test(l)?n.BLANK_URL:o}},19468:(e,t,r)=>{"use strict";function n(e,t,r,n,s,a,o,i){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=r,c._compiled=!0),n&&(c.functional=!0),a&&(c._scopeId="data-v-"+a),o?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),s&&s.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},c._ssrRegister=l):s&&(l=i?function(){s.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:s),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}r.d(t,{A:()=>n})},30457:function(e,t){var r,n,s;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=[e],r=function(e){"use strict";if(!(globalThis.chrome&&globalThis.chrome.runtime&&globalThis.chrome.runtime.id))throw new Error("This script should only be loaded in a browser extension.");if(globalThis.browser&&globalThis.browser.runtime&&globalThis.browser.runtime.id)e.exports=globalThis.browser;else{const t="The message port closed before a response was received.",r=e=>{const r={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(r).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class n extends WeakMap{constructor(e,t=void 0){super(t),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}const s=e=>e&&"object"==typeof e&&"function"==typeof e.then,a=(t,r)=>(...n)=>{e.runtime.lastError?t.reject(new Error(e.runtime.lastError.message)):r.singleCallbackArg||n.length<=1&&!1!==r.singleCallbackArg?t.resolve(n[0]):t.resolve(n)},o=e=>1==e?"argument":"arguments",i=(e,t)=>function(r,...n){if(n.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${o(t.minArgs)} for ${e}(), got ${n.length}`);if(n.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${o(t.maxArgs)} for ${e}(), got ${n.length}`);return new Promise(((s,o)=>{if(t.fallbackToNoCallback)try{r[e](...n,a({resolve:s,reject:o},t))}catch(a){r[e](...n),t.fallbackToNoCallback=!1,t.noCallback=!0,s()}else t.noCallback?(r[e](...n),s()):r[e](...n,a({resolve:s,reject:o},t))}))},l=(e,t,r)=>new Proxy(t,{apply:(t,n,s)=>r.call(n,e,...s)});let c=Function.call.bind(Object.prototype.hasOwnProperty);const u=(e,t={},r={})=>{let n=Object.create(null),s={has:(t,r)=>r in e||r in n,get(s,a,o){if(a in n)return n[a];if(!(a in e))return;let d=e[a];if("function"==typeof d)if("function"==typeof t[a])d=l(e,e[a],t[a]);else if(c(r,a)){let t=i(a,r[a]);d=l(e,e[a],t)}else d=d.bind(e);else if("object"==typeof d&&null!==d&&(c(t,a)||c(r,a)))d=u(d,t[a],r[a]);else{if(!c(r,"*"))return Object.defineProperty(n,a,{configurable:!0,enumerable:!0,get:()=>e[a],set(t){e[a]=t}}),d;d=u(d,t[a],r["*"])}return n[a]=d,d},set:(t,r,s,a)=>(r in n?n[r]=s:e[r]=s,!0),defineProperty:(e,t,r)=>Reflect.defineProperty(n,t,r),deleteProperty:(e,t)=>Reflect.deleteProperty(n,t)},a=Object.create(e);return new Proxy(a,s)},d=e=>({addListener(t,r,...n){t.addListener(e.get(r),...n)},hasListener:(t,r)=>t.hasListener(e.get(r)),removeListener(t,r){t.removeListener(e.get(r))}}),m=new n((e=>"function"!=typeof e?e:function(t){const r=u(t,{},{getContent:{minArgs:0,maxArgs:0}});e(r)})),g=new n((e=>"function"!=typeof e?e:function(t,r,n){let a,o,i=!1,l=new Promise((e=>{a=function(t){i=!0,e(t)}}));try{o=e(t,r,a)}catch(e){o=Promise.reject(e)}const c=!0!==o&&s(o);if(!0!==o&&!c&&!i)return!1;const u=e=>{e.then((e=>{n(e)}),(e=>{let t;t=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",n({__mozWebExtensionPolyfillReject__:!0,message:t})})).catch((e=>{}))};return u(c?o:l),!0})),p=({reject:r,resolve:n},s)=>{e.runtime.lastError?e.runtime.lastError.message===t?n():r(new Error(e.runtime.lastError.message)):s&&s.__mozWebExtensionPolyfillReject__?r(new Error(s.message)):n(s)},f=(e,t,r,...n)=>{if(n.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${o(t.minArgs)} for ${e}(), got ${n.length}`);if(n.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${o(t.maxArgs)} for ${e}(), got ${n.length}`);return new Promise(((e,t)=>{const s=p.bind(null,{resolve:e,reject:t});n.push(s),r.sendMessage(...n)}))},h={devtools:{network:{onRequestFinished:d(m)}},runtime:{onMessage:d(g),onMessageExternal:d(g),sendMessage:f.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:f.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},b={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return r.privacy={network:{"*":b},services:{"*":b},websites:{"*":b}},u(e,h,r)};e.exports=r(chrome)}},void 0===(s="function"==typeof r?r.apply(t,n):r)||(e.exports=s)},35337:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var n=function(){var e=this,t=e._self._c;return t("button",{staticClass:"r-button",class:e.classes,style:e.style,attrs:{id:e.id,role:e.role,tabindex:"0",disabled:e.disabled||e.isLoading,"data-inverse":e.isInverse},on:{click:e.click}},[e.isLoading&&!e.disabled?t("r-spinner",{staticClass:"rr-mr-8"}):e._e(),e._t("default")],2)};n._withStripped=!0;var s=function(){var e=this,t=e._self._c;return t("span",{staticClass:"r-spinner",style:e.styles},[t("span",{staticClass:"rr-sr-only"},[e._v("Loading...")])])};s._withStripped=!0;const a={props:{size:{type:String,default:"16px"}},computed:{styles(){return{width:this.size,height:this.size}}}};var o=r(19468);const i={name:"RButton",components:{RSpinner:(0,o.A)(a,s,[],!1,null,null,null).exports},props:{block:{type:Boolean,default:!1},isInverse:{type:Boolean,default:!1},color:{type:String,default:""},disabled:Boolean,size:{type:String,default:"medium",validator:e=>["small","medium","large"].includes(e)},variant:{type:String,default:"primary",validator:e=>["primary","secondary","tertiary"].includes(e)},isLoading:{type:Boolean,default:!1},role:{type:String,default:"button"},id:{type:String,default:null}},emits:["click"],computed:{classes(){return{[`r-button--${this.size}`]:!0,"r-button--block":this.block,...this.colorClasses}},colorClasses(){return["secondary","tertiary"].includes(this.variant)?{[`rr-${this.variant}`]:!0}:{"rr-primary":!0}},style(){const e={};return this.color&&this.isCssColor(this.color)&&(e["background-color"]=this.color),["primary","secondary"].includes(this.variant)&&(e["border-radius"]="100px"),e}},methods:{click(e){this.$emit("click",e)},isCssColor:e=>e&&e.match(/^(#|var\(--|(rgb|hsl)a?\()/)}};const l=(0,o.A)(i,n,[],!1,null,null,null).exports},9484:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=function(){var e=this,t=e._self._c;return t("r-icon-button",{staticClass:"rr-focus--inside",style:e.style,attrs:{size:e.size,flat:"",rounded:!1,"aria-label":e.label,tabindex:"0"},on:{click:function(t){return t.stopPropagation(),e.$emit("click",t)}}},[t("exit-icon",{attrs:{size:e.iconSize}})],1)};n._withStripped=!0;var s=r(34798),a=r(17925);const o={components:{ExitIcon:s.A,RIconButton:a.A},props:{color:{type:String,default:"#575757"},size:{type:String,default:"44px"},iconSize:{type:String,default:"16px"},label:{type:String,default:"Close"},position:{type:String,default:"absolute"}},computed:{style(){return{color:this.isCssColor(this.color)?this.color:"#575757",position:this.position,..."absolute"===this.position?{zIndex:1e5,top:0,right:0}:{}}}},methods:{isCssColor:e=>e&&e.match(/^(#|var\(--|(rgb|hsl)a?\()/)}};const i=(0,r(19468).A)(o,n,[],!1,null,null,null).exports},69582:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=function(){var e=this,t=e._self._c;return t("aside",{staticClass:"rr-modal-form",class:e.positionClasses,style:e.style,attrs:{role:e.role,"aria-label":e.label,tabindex:"-1"}},[e.flat?e._e():[e.arrow?t("div",{staticClass:"rr-popover__arrow",style:e.arrowStyle,attrs:{"data-popper-arrow":""}}):e._e(),e.disableCloseButton?e._e():t("r-close-button",{attrs:{label:e.closeLabel},on:{click:function(t){return e.$emit("close",t)}}}),"left"===e.headerLogo?t("div",{staticClass:"rr-modal-form__header rr-flex rr-flex-col rr-justify-center"},[t("r-heading-logo",{staticClass:"rr-ml-24",attrs:{variant:e.rakPlus?"plus":"solid"}})],1):"center"===e.headerLogo?t("div",{staticClass:"rr-modal-form__header rr-flex rr-flex-col rr-items-center"},[t("r-heading-logo",{staticClass:"rr-mt-32",attrs:{variant:e.rakPlus?"plus":"solid"}})],1):e._e()],t("div",{class:e.paddingClasses},[e._t("default")],2),e._t("banner")],2)};n._withStripped=!0;var s=r(9484),a=r(41365);const o={components:{RCloseButton:s.A,RHeadingLogo:a.A},props:{width:{type:[Number,String],default:"304"},disableCloseButton:{type:Boolean,default:!1},rakPlus:{type:Boolean,default:!1},closeLabel:{type:String,default:"Dismiss Rakuten Cash Back message"},padding:{type:String,default:"large"},position:{type:[String,Object],default:()=>"top-right"},headerLogo:{type:String,default:"center"},arrow:{type:Boolean,default:!1},flat:{type:Boolean,default:!1},backgroundColor:{type:String,default:"white"},backgroundStyle:{type:String,default:""},label:{type:String,default:"Rakuten Cash Back"},role:{type:String,default:"dialog"}},computed:{style(){const e={width:this.width&&"auto"!==this.width?this.convertToUnit(this.width):null,...this.positionStyle};return this.backgroundStyle?e.background=this.backgroundStyle:this.backgroundColor&&(e.backgroundColor=this.backgroundColor),e},arrowStyle(){return{backgroundColor:this.backgroundColor}},paddingClasses(){return!this.flat&&["grande","medium","large","xlarge","xxlarge"].includes(this.padding)?{[`rr-modal-form--padding-${this.padding}`]:!0,[`rr-modal-form--padding-top-${this.padding}`]:"none"===this.headerLogo}:{}},positionClasses(){return"string"==typeof this.position&&["center","top-right"].includes(this.position)?{[`rr-modal-form--${this.position}`]:!0}:{}},positionStyle(){return"object"==typeof this.position?this.position:{}}},methods:{convertToUnit:(e,t="px")=>null===e||""===e?null:isNaN(+e)?String(e):`${Number(e)}${t}`}};const i=(0,r(19468).A)(o,n,[],!1,null,null,null).exports},88147:(e,t,r)=>{"use strict";r.d(t,{A:()=>V});var n=function(){var e=this,t=e._self._c;return t("div",[t("r-form",{attrs:{width:e.width,disableCloseButton:e.disableCloseButton,closeLabel:e.closeLabel,label:e.label,padding:e.padding,position:e.position,headerLogo:e.headerLogo,backgroundStyle:e.backgroundStyle,role:e.role,enableFocusTrap:e.enableFocusTrap,flat:e.flat,rakPlus:e.rakPlus},on:{close:function(t){return e.$emit("close",t)}}},[e._t("default")],2),t("div",{staticStyle:{position:"fixed",top:"0",left:"0",width:"100vw",height:"100vh","z-index":"2000"},style:{backgroundColor:e.overlayColor}})],1)};n._withStripped=!0;var s=r(69582),a=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],o=a.join(","),i="undefined"==typeof Element,l=i?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,c=!i&&Element.prototype.getRootNode?function(e){var t;return null==e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}:function(e){return null==e?void 0:e.ownerDocument},u=function e(t,r){var n;void 0===r&&(r=!0);var s=null==t||null===(n=t.getAttribute)||void 0===n?void 0:n.call(t,"inert");return""===s||"true"===s||r&&t&&e(t.parentNode)},d=function(e,t,r){if(u(e))return[];var n=Array.prototype.slice.apply(e.querySelectorAll(o));return t&&l.call(e,o)&&n.unshift(e),n=n.filter(r)},m=function e(t,r,n){for(var s=[],a=Array.from(t);a.length;){var i=a.shift();if(!u(i,!1))if("SLOT"===i.tagName){var c=i.assignedElements(),d=e(c.length?c:i.children,!0,n);n.flatten?s.push.apply(s,d):s.push({scopeParent:i,candidates:d})}else{l.call(i,o)&&n.filter(i)&&(r||!t.includes(i))&&s.push(i);var m=i.shadowRoot||"function"==typeof n.getShadowRoot&&n.getShadowRoot(i),g=!u(m,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(i));if(m&&g){var p=e(!0===m?i.children:m.children,!0,n);n.flatten?s.push.apply(s,p):s.push({scopeParent:i,candidates:p})}else a.unshift.apply(a,i.children)}}return s},g=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},p=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||function(e){var t,r=null==e||null===(t=e.getAttribute)||void 0===t?void 0:t.call(e,"contenteditable");return""===r||"true"===r}(e))&&!g(e)?0:e.tabIndex},f=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},h=function(e){return"INPUT"===e.tagName},b=function(e){return function(e){return h(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,r=e.form||c(e),n=function(e){return r.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)t=n(window.CSS.escape(e.name));else try{t=n(e.name)}catch(e){return!1}var s=function(e,t){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===t)return e[r]}(t,e.form);return!s||s===e}(e)},v=function(e){var t=e.getBoundingClientRect(),r=t.width,n=t.height;return 0===r&&0===n},A=function(e,t){var r=t.displayCheck,n=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var s=l.call(e,"details>summary:first-of-type")?e.parentElement:e;if(l.call(s,"details:not([open]) *"))return!0;if(r&&"full"!==r&&"legacy-full"!==r){if("non-zero-area"===r)return v(e)}else{if("function"==typeof n){for(var a=e;e;){var o=e.parentElement,i=c(e);if(o&&!o.shadowRoot&&!0===n(o))return v(e);e=e.assignedSlot?e.assignedSlot:o||i===e.ownerDocument?o:i.host}e=a}if(function(e){var t,r,n,s,a=e&&c(e),o=null===(t=a)||void 0===t?void 0:t.host,i=!1;if(a&&a!==e)for(i=!!(null!==(r=o)&&void 0!==r&&null!==(n=r.ownerDocument)&&void 0!==n&&n.contains(o)||null!=e&&null!==(s=e.ownerDocument)&&void 0!==s&&s.contains(e));!i&&o;){var l,u,d;i=!(null===(u=o=null===(l=a=c(o))||void 0===l?void 0:l.host)||void 0===u||null===(d=u.ownerDocument)||void 0===d||!d.contains(o))}return i}(e))return!e.getClientRects().length;if("legacy-full"!==r)return!0}return!1},y=function(e,t){return!(t.disabled||u(t)||function(e){return h(e)&&"hidden"===e.type}(t)||A(t,e)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some((function(e){return"SUMMARY"===e.tagName}))}(t)||function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var r=0;r<t.children.length;r++){var n=t.children.item(r);if("LEGEND"===n.tagName)return!!l.call(t,"fieldset[disabled] *")||!n.contains(e)}return!0}t=t.parentElement}return!1}(t))},k=function(e,t){return!(b(t)||p(t)<0||!y(e,t))},w=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},x=function e(t){var r=[],n=[];return t.forEach((function(t,s){var a=!!t.scopeParent,o=a?t.scopeParent:t,i=function(e,t){var r=p(e);return r<0&&t&&!g(e)?0:r}(o,a),l=a?e(t.candidates):o;0===i?a?r.push.apply(r,l):r.push(o):n.push({documentOrder:s,tabIndex:i,item:t,isScope:a,content:l})})),n.sort(f).reduce((function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e}),[]).concat(r)},E=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==l.call(e,o)&&k(t,e)},_=a.concat("iframe").join(","),C=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==l.call(e,_)&&y(t,e)};function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function R(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){R(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function L(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var P=function(e,t){if(e.length>0){var r=e[e.length-1];r!==t&&r.pause()}var n=e.indexOf(t);-1===n||e.splice(n,1),e.push(t)},I=function(e,t){var r=e.indexOf(t);-1!==r&&e.splice(r,1),e.length>0&&e[e.length-1].unpause()},B=function(e){return"Tab"===(null==e?void 0:e.key)||9===(null==e?void 0:e.keyCode)},O=function(e){return B(e)&&!e.shiftKey},D=function(e){return B(e)&&e.shiftKey},M=function(e){return setTimeout(e,0)},F=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return"function"==typeof e?e.apply(void 0,r):e},$=function(e){return e.target.shadowRoot&&"function"==typeof e.composedPath?e.composedPath()[0]:e.target},U=[],j=function(e,t){var r,n=(null==t?void 0:t.document)||document,s=(null==t?void 0:t.trapStack)||U,a=N({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:O,isKeyBackward:D},t),o={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},i=function(e,t,r){return e&&void 0!==e[t]?e[t]:a[r||t]},l=function(e,t){var r="function"==typeof(null==t?void 0:t.composedPath)?t.composedPath():void 0;return o.containerGroups.findIndex((function(t){var n=t.container,s=t.tabbableNodes;return n.contains(e)||(null==r?void 0:r.includes(n))||s.find((function(t){return t===e}))}))},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.hasFallback,s=void 0!==r&&r,o=t.params,i=void 0===o?[]:o,l=a[e];if("function"==typeof l&&(l=l.apply(void 0,L(i))),!0===l&&(l=void 0),!l){if(void 0===l||!1===l)return l;throw new Error("`".concat(e,"` was specified but was not a node, or did not return a node"))}var c=l;if("string"==typeof l){try{c=n.querySelector(l)}catch(t){throw new Error("`".concat(e,'` appears to be an invalid selector; error="').concat(t.message,'"'))}if(!c&&!s)throw new Error("`".concat(e,"` as selector refers to no known node"))}return c},u=function(){var e=c("initialFocus",{hasFallback:!0});if(!1===e)return!1;if(void 0===e||e&&!C(e,a.tabbableOptions))if(l(n.activeElement)>=0)e=n.activeElement;else{var t=o.tabbableGroups[0];e=t&&t.firstTabbableNode||c("fallbackFocus")}else null===e&&(e=c("fallbackFocus"));if(!e)throw new Error("Your focus-trap needs to have at least one focusable element");return e},g=function(){if(o.containerGroups=o.containers.map((function(e){var t=function(e,t){var r;return r=(t=t||{}).getShadowRoot?m([e],t.includeContainer,{filter:k.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:w}):d(e,t.includeContainer,k.bind(null,t)),x(r)}(e,a.tabbableOptions),r=function(e,t){return(t=t||{}).getShadowRoot?m([e],t.includeContainer,{filter:y.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):d(e,t.includeContainer,y.bind(null,t))}(e,a.tabbableOptions),n=t.length>0?t[0]:void 0,s=t.length>0?t[t.length-1]:void 0,o=r.find((function(e){return E(e)})),i=r.slice().reverse().find((function(e){return E(e)})),l=!!t.find((function(e){return p(e)>0}));return{container:e,tabbableNodes:t,focusableNodes:r,posTabIndexesFound:l,firstTabbableNode:n,lastTabbableNode:s,firstDomTabbableNode:o,lastDomTabbableNode:i,nextTabbableNode:function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=t.indexOf(e);return s<0?n?r.slice(r.indexOf(e)+1).find((function(e){return E(e)})):r.slice(0,r.indexOf(e)).reverse().find((function(e){return E(e)})):t[s+(n?1:-1)]}}})),o.tabbableGroups=o.containerGroups.filter((function(e){return e.tabbableNodes.length>0})),o.tabbableGroups.length<=0&&!c("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(o.containerGroups.find((function(e){return e.posTabIndexesFound}))&&o.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},f=function(e){var t=e.activeElement;if(t)return t.shadowRoot&&null!==t.shadowRoot.activeElement?f(t.shadowRoot):t},h=function(e){!1!==e&&e!==f(document)&&(e&&e.focus?(e.focus({preventScroll:!!a.preventScroll}),o.mostRecentlyFocusedNode=e,function(e){return e.tagName&&"input"===e.tagName.toLowerCase()&&"function"==typeof e.select}(e)&&e.select()):h(u()))},b=function(e){var t=c("setReturnFocus",{params:[e]});return t||!1!==t&&e},v=function(e){var t=e.target,r=e.event,n=e.isBackward,s=void 0!==n&&n;t=t||$(r),g();var i=null;if(o.tabbableGroups.length>0){var u=l(t,r),d=u>=0?o.containerGroups[u]:void 0;if(u<0)i=s?o.tabbableGroups[o.tabbableGroups.length-1].lastTabbableNode:o.tabbableGroups[0].firstTabbableNode;else if(s){var m=o.tabbableGroups.findIndex((function(e){var r=e.firstTabbableNode;return t===r}));if(m<0&&(d.container===t||C(t,a.tabbableOptions)&&!E(t,a.tabbableOptions)&&!d.nextTabbableNode(t,!1))&&(m=u),m>=0){var f=0===m?o.tabbableGroups.length-1:m-1,h=o.tabbableGroups[f];i=p(t)>=0?h.lastTabbableNode:h.lastDomTabbableNode}else B(r)||(i=d.nextTabbableNode(t,!1))}else{var b=o.tabbableGroups.findIndex((function(e){var r=e.lastTabbableNode;return t===r}));if(b<0&&(d.container===t||C(t,a.tabbableOptions)&&!E(t,a.tabbableOptions)&&!d.nextTabbableNode(t))&&(b=u),b>=0){var v=b===o.tabbableGroups.length-1?0:b+1,A=o.tabbableGroups[v];i=p(t)>=0?A.firstTabbableNode:A.firstDomTabbableNode}else B(r)||(i=d.nextTabbableNode(t))}}else i=c("fallbackFocus");return i},A=function(e){var t=$(e);l(t,e)>=0||(F(a.clickOutsideDeactivates,e)?r.deactivate({returnFocus:a.returnFocusOnDeactivate}):F(a.allowOutsideClick,e)||e.preventDefault())},_=function(e){var t=$(e),r=l(t,e)>=0;if(r||t instanceof Document)r&&(o.mostRecentlyFocusedNode=t);else{var n;e.stopImmediatePropagation();var s=!0;if(o.mostRecentlyFocusedNode)if(p(o.mostRecentlyFocusedNode)>0){var i=l(o.mostRecentlyFocusedNode),c=o.containerGroups[i].tabbableNodes;if(c.length>0){var d=c.findIndex((function(e){return e===o.mostRecentlyFocusedNode}));d>=0&&(a.isKeyForward(o.recentNavEvent)?d+1<c.length&&(n=c[d+1],s=!1):d-1>=0&&(n=c[d-1],s=!1))}}else o.containerGroups.some((function(e){return e.tabbableNodes.some((function(e){return p(e)>0}))}))||(s=!1);else s=!1;s&&(n=v({target:o.mostRecentlyFocusedNode,isBackward:a.isKeyBackward(o.recentNavEvent)})),h(n||(o.mostRecentlyFocusedNode||u()))}o.recentNavEvent=void 0},S=function(e){(a.isKeyForward(e)||a.isKeyBackward(e))&&function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];o.recentNavEvent=e;var r=v({event:e,isBackward:t});r&&(B(e)&&e.preventDefault(),h(r))}(e,a.isKeyBackward(e))},R=function(e){var t;"Escape"!==(null==(t=e)?void 0:t.key)&&"Esc"!==(null==t?void 0:t.key)&&27!==(null==t?void 0:t.keyCode)||!1===F(a.escapeDeactivates,e)||(e.preventDefault(),r.deactivate())},T=function(e){var t=$(e);l(t,e)>=0||F(a.clickOutsideDeactivates,e)||F(a.allowOutsideClick,e)||(e.preventDefault(),e.stopImmediatePropagation())},j=function(){if(o.active)return P(s,r),o.delayInitialFocusTimer=a.delayInitialFocus?M((function(){h(u())})):h(u()),n.addEventListener("focusin",_,!0),n.addEventListener("mousedown",A,{capture:!0,passive:!1}),n.addEventListener("touchstart",A,{capture:!0,passive:!1}),n.addEventListener("click",T,{capture:!0,passive:!1}),n.addEventListener("keydown",S,{capture:!0,passive:!1}),n.addEventListener("keydown",R),r},G=function(){if(o.active)return n.removeEventListener("focusin",_,!0),n.removeEventListener("mousedown",A,!0),n.removeEventListener("touchstart",A,!0),n.removeEventListener("click",T,!0),n.removeEventListener("keydown",S,!0),n.removeEventListener("keydown",R),r},V="undefined"!=typeof window&&"MutationObserver"in window?new MutationObserver((function(e){e.some((function(e){return Array.from(e.removedNodes).some((function(e){return e===o.mostRecentlyFocusedNode}))}))&&h(u())})):void 0,z=function(){V&&(V.disconnect(),o.active&&!o.paused&&o.containers.map((function(e){V.observe(e,{subtree:!0,childList:!0})})))};return(r={get active(){return o.active},get paused(){return o.paused},activate:function(e){if(o.active)return this;var t=i(e,"onActivate"),r=i(e,"onPostActivate"),s=i(e,"checkCanFocusTrap");s||g(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=n.activeElement,null==t||t();var a=function(){s&&g(),j(),z(),null==r||r()};return s?(s(o.containers.concat()).then(a,a),this):(a(),this)},deactivate:function(e){if(!o.active)return this;var t=N({onDeactivate:a.onDeactivate,onPostDeactivate:a.onPostDeactivate,checkCanReturnFocus:a.checkCanReturnFocus},e);clearTimeout(o.delayInitialFocusTimer),o.delayInitialFocusTimer=void 0,G(),o.active=!1,o.paused=!1,z(),I(s,r);var n=i(t,"onDeactivate"),l=i(t,"onPostDeactivate"),c=i(t,"checkCanReturnFocus"),u=i(t,"returnFocus","returnFocusOnDeactivate");null==n||n();var d=function(){M((function(){u&&h(b(o.nodeFocusedBeforeActivation)),null==l||l()}))};return u&&c?(c(b(o.nodeFocusedBeforeActivation)).then(d,d),this):(d(),this)},pause:function(e){if(o.paused||!o.active)return this;var t=i(e,"onPause"),r=i(e,"onPostPause");return o.paused=!0,null==t||t(),G(),z(),null==r||r(),this},unpause:function(e){if(!o.paused||!o.active)return this;var t=i(e,"onUnpause"),r=i(e,"onPostUnpause");return o.paused=!1,null==t||t(),g(),j(),z(),null==r||r(),this},updateContainerElements:function(e){var t=[].concat(e).filter(Boolean);return o.containers=t.map((function(e){return"string"==typeof e?n.querySelector(e):e})),o.active&&g(),z(),this}}).updateContainerElements(e),r};const G={components:{RForm:s.A},props:{width:{type:[Number,String],default:"304"},disableCloseButton:{type:Boolean,default:!1},closeLabel:{type:String,default:"Dismiss Rakuten Cash Back message"},padding:{type:String,default:"large"},position:{type:[String,Object],default:()=>"center"},headerLogo:{type:String,default:"left"},backgroundColor:{type:String,default:"white"},backgroundStyle:{type:String,default:""},overlayColor:{type:String,default:"rgba(0,0,0,.5)"},label:{type:String,default:"Rakuten Cash Back"},role:{type:String,default:"dialog"},enableFocusTrap:{type:Boolean,default:!1},closeOnEsc:{type:Boolean,default:!1},flat:{type:Boolean,default:!1},rakPlus:{type:Boolean,default:!1}},data:()=>({focusTrap:null}),watch:{enableFocusTrap(e){e?this.focusTrap?.activate():this.focusTrap?.deactivate()}},mounted(){this.createFocusTrap(),this.closeOnEsc&&document.addEventListener("keydown",this.keyHandler,!1)},destroyed(){this.focusTrap&&this.focusTrap.deactivate(),this.closeOnEsc&&document.removeEventListener("keydown",this.keyHandler,!1)},methods:{async createFocusTrap(){const e=document.activeElement;await this.$nextTick(),this.focusTrap=j(this.$el,{initialFocus:this.$el,setReturnFocus:e}),this.enableFocusTrap&&this.focusTrap.activate()},keyHandler(e){"Escape"===e.key&&(e.stopPropagation(),this.$emit("close",e))}}};const V=(0,r(19468).A)(G,n,[],!1,null,null,null).exports},17925:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=function(){var e=this;return(0,e._self._c)("button",{staticClass:"r-icon-button rr-focus",class:{"r-icon-button--shadow":!e.flat,"r-icon-button--inverse":e.isInverse,"r-icon-button--rounded":e.rounded,"rr-focus--rounded":e.rounded},style:e.style,attrs:{tabindex:"0"},on:{click:function(t){return e.$emit("click",t)}}},[e._t("default")],2)};n._withStripped=!0;const s={name:"RButton",props:{isInverse:{type:Boolean,default:!1},flat:{type:Boolean,default:!1},rounded:{type:Boolean,default:!1},size:{type:[Number,String],default:"32px"}},emits:["click"],computed:{style(){return{height:this.size,width:this.size}}}};const a=(0,r(19468).A)(s,n,[],!1,null,null,null).exports},34798:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=function(){var e=this,t=e._self._c;return t("svg-icon",e._b({attrs:{viewBox:"0 0 16 16"}},"svg-icon",e.$props,!1),[t("path",{attrs:{d:"M13.7032 1.07708L15.0506 2.42446L2.47509 15L1.12771 13.6526L13.7032 1.07708Z"}}),t("path",{attrs:{d:"M1 2.3474L2.34737 1.00002L14.9228 13.5756L13.5755 14.923L1 2.3474Z"}})])};n._withStripped=!0;const s={components:{SvgIcon:r(150).A},props:{color:{type:String,default:"currentColor"},size:{type:[Number,String],default:16},rotate:{type:Number,default:0}}};const a=(0,r(19468).A)(s,n,[],!1,null,null,null).exports},150:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=function(){var e=this;return(0,e._self._c)("svg",{style:e.style,attrs:{fill:e.color,viewBox:e.viewBox,height:e.size,width:e.size,"aria-hidden":e.ariaHidden,"data-testid":e.$parent.$options._componentTag,xmlns:"http://www.w3.org/2000/svg"}},[e._t("default")],2)};n._withStripped=!0;const s={props:{color:{type:String,default:"currentColor"},size:{type:[String,Number],default:"16"},rotate:{type:Number,default:0},viewBox:{type:String,default:"0 0 16 16"},ariaHidden:{type:String,default:"true"}},computed:{style(){return{...!!this.rotate&&{transform:`rotate(${this.rotate}deg)`},transition:"transform 0.25s"}}}};const a=(0,r(19468).A)(s,n,[],!1,null,null,null).exports},29123:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=function(){var e=this;return(0,e._self._c)(e.href?"a":"div",{tag:"component",staticClass:"r-link rr-focus",attrs:{href:e.sanitizeUrl(e.href),role:"link",tabindex:"0"},on:{click:e.click,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.click.apply(null,arguments)}}},[e._t("default")],2)};n._withStripped=!0;var s=r(21812);const a={props:{href:{type:String,default:null}},emits:["click"],methods:{click(e){this.$emit("click",e)},sanitizeUrl:e=>(0,s.J)(e)}};const o=(0,r(19468).A)(a,n,[],!1,null,null,null).exports},41365:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=function(){var e=this,t=e._self._c;return t("h2",{staticClass:"rr-ma-0",staticStyle:{"line-height":"0"},attrs:{"aria-label":"rakuten logo"}},[t("r-logo",e._b({},"r-logo",e.$attrs,!1))],1)};n._withStripped=!0;const s={components:{RLogo:r(16947).A}};const a=(0,r(19468).A)(s,n,[],!1,null,null,null).exports},16947:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=function(){var e=this;return(0,e._self._c)("img",{style:e.sizeStyle,attrs:{alt:e.alt,src:e.src}})};n._withStripped=!0;var s=r(53687);const a={solid:"logo-rakuten.svg",plus:"logo-rakuten-plus.svg","plus-white":"logo-rakuten-plus-white.svg",white:"logo-rakuten-white.svg","icon-white":"icon-rakuten-white.svg","icon-plus-white":"icon-rakuten-plus-white.svg",icon:"icon-rakuten.svg"},o={props:{variant:{type:String,default:"solid"},size:{type:String,default:"medium"},height:{type:String,default:""},width:{type:String,default:""},alt:{type:String,default:""}},computed:{sizeStyle(){const e={};return this.height||this.width?(this.height&&(e.height=this.height),this.width&&(e.width=this.width),e):"xsmall"===this.size?{height:"12px",width:"40px"}:"small"===this.size?this.variant.startsWith("icon")?{height:"24px",width:"24px"}:{height:"18px",width:"auto"}:this.variant.startsWith("icon")?{height:"40px",width:"auto"}:{height:"24px",width:"auto"}},src(){const e=a[this.variant]??"icon-rakuten.svg";return(0,s.s)(`img/rakuten/${e}`)}}};const i=(0,r(19468).A)(o,n,[],!1,null,null,null).exports},62881:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var n=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("a",{attrs:{id:"rr-skip-link",href:"javascript: void(0)"},on:{click:e.skipLinkAction,keypress:e.skipLinkAction}},[e._v("Skip to Rakuten Reminder")])};n._withStripped=!0;var s=r(72538),a=r.n(s),o=r(84383),i=r(4337);const l=a().extend({async mounted(){await(0,o.d)(),document.body&&document.body.prepend(this.$el)},beforeDestroy(){document.body&&document.body.removeChild(this.$el)},methods:{skipLinkAction(){const e=(0,i.jG)();if(e){const t=e.querySelector("[tabindex]");t&&t.focus()}}}});const c=(0,r(19468).A)(l,n,[],!1,null,null,null).exports},13803:e=>{"use strict";e.exports=JSON.parse('{"buttonTitles":{"neutral":"Rakuten: Get Cashback for Shopping","activated":"Rakuten: Cashback Activated","available":"Rakuten: Activate to Earn Cashback"},"taf":{"defaultMessage":"Have you signed up with Rakuten yet? It\'s the best site for earning Cashback. Get a $10 bonus when you sign up with my invite link and spend $25. It\'s free! [link]","defaultSubject":"Check this out: Get Cashback for shopping!","twitter":{"postPurchase":"You can get {cashBack} Cashback at {storeName} when you shop with Rakuten today. \\n\\nJoin with my invite link and you\'ll also get an extra 10% Cashback on purchases made at 2,500+ stores for 7 days. You can thank me later!\\n{link}"},"email":{"postPurchase":{"subject":"Get Cashback at {storeName} (thank me later!)","message":"Hey there,\\n\\nYou can get {cashBack} Cashback at {storeName} when you shop with Rakuten today. \\n\\nJoin with my invite link and you\'ll also get an extra 10% Cashback on purchases made at 2,500+ stores for 7 days. You can thank me later!\\n\\n{link}\\n\\n"}}},"messages":{"title":"{rewardAmount} just added!","text":"You just earned {rewardAmount} Cashback from your purchase at {storeName}!","cta":"See Cashback Activity"}}')},83922:e=>{"use strict";e.exports=JSON.parse('{"buttonTitles":{"neutral":"Rakuten: Get Cash Back for Shopping","activated":"Rakuten: Cash Back Activated","available":"Rakuten: Activate to Earn Cash Back"},"daysFromNow":{"endsToday":"Ends Today","endsTomorrow":"Ends Tomorrow","endsDate":"Ends {date}","ended":"Ended"},"reportingMessage":{"45days":"within 45 days after travel has been booked","afterTravel":"after travel has been completed","fewDays":"within a few days after travel has been completed","week":"within a week after travel has been completed","coupleOfWeeks":"within a couple of weeks after travel has been completed","month":"within a month after travel has been completed","sixWeeks":"\'within six weeks after travel has been completed","3Months":"within 3 months after travel has been completed","6Months":"within 6 months after travel has been completed","today":"today","tomorrow":"tomorrow","inAFewDays":"in a few days","oneWeek":"within one week","fewWeeks":"within a few weeks","fewMonths":"within a few months"},"formatCashback":{"tieredCashbackPercentage":"Up to {amount}%","tieredCashbackFixed":"Up to {amount}","offersOnly":"Offers Only","notAvailable":"Not Available"},"taf":{"defaultMessage":"Have you signed up with Rakuten yet? It\'s the best site for earning Cash Back. Get a $10 bonus when you sign up with my invite link and spend $25. It\'s free! [link]","defaultSubject":"Check this out: Get Cash Back for shopping!","twitter":{"postPurchase":"You can get {cashBack} Cash Back at {storeName} when you shop with Rakuten today. \\n\\nJoin with my invite link and you\'ll also get a $30 bonus when you spend $30 on qualifying purchases at 3,500+ stores. \\n{link}"},"email":{"postPurchase":{"subject":"Get Cash Back at {storeName} (thank me later!)","message":"Hey there,\\n\\nYou can get {cashBack} Cash Back at {storeName} when you shop with Rakuten today. \\n\\nJoin with my invite link and you\'ll also get a $30 bonus when you spend $30 on qualifying purchases at 3,500+ stores.\\n\\n{link}\\n\\n"}}},"messages":{"title":"{rewardAmount} just added!","text":"You just earned {rewardAmount} Cash Back from your purchase at {storeName}!","cta":"See Cash Back Activity"}}')}},e=>{var t,r=(t=44560,e(e.s=t));source=r}]);
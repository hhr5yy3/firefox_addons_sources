import{H as l,a as u,S as m,l as f,A as p,R as h,P as y,b,I as w}from"./chunk-70aa1672.js";function M(e){return e>=995e7?`${Math.round(e/1e9)}B`:e>=9995e5?`${(e/1e9).toFixed(1)}B`:e>=995e4?`${Math.round(e/1e6)}M`:e>=999500?`${(e/1e6).toFixed(1)}M`:e>=9950?`${Math.round(e/1e3)}K`:e>=1e3?`${(e/1e3).toFixed(1)}K`:`${e}`}function A(e){let a=e.toString().split(".");return a[0]=a[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),a.join(".")}const x=Number.MAX_SAFE_INTEGER,T=()=>Math.round(Math.random()*x),E=25e11,k=(e=null)=>E-((e!=null?e:new Date).valueOf()+Math.random()*1e3);async function o(e,a){let n=0,r=null;for(;;){if(r=await u.runtime.sendMessage(e),r.status===m)return r;if(n<5)await new Promise(s=>setTimeout(s,n**2*1e3)),n++;else break}throw console.error(f,a,r),new Error(a)}async function _(e,a){return(await o({action:w,data:{user_id:e,handle:a}},"legacy verified db returned non-success status")).result}async function $(e,a=l){const t={user_id:e.user_id,user:{name:e.user.name,screen_name:e.user.screen_name},reason:e.reason,time:new Date,state:a};e!=null&&e.external_reason&&(t.external_reason=e.external_reason),await o({action:p,data:t},"unable to add user to block history")}async function C(e){await o({action:h,data:{user_id:e}},"unable to remove user from block history")}function N(e){const a=e==null?void 0:e.name,t=e==null?void 0:e.screen_name;return`${a} (@${t})`}function I(e,a,t={}){const n=document.getElementById("injected-blue-block-toasts");if(!n)throw new Error("blue blocker was unable to create or find toasts div.");const r=document.createElement("div");let s=6e4;t!=null&&t.error?r.className="toast error":t!=null&&t.warn?r.className="toast warn":(r.className="toast",s=a.popupTimer*1e3),r.innerText=e,t!=null&&t.elements&&t.elements.forEach(d=>r.appendChild(d));const c=document.createElement("a");c.innerText="\u2715",c.className="close";const i=setTimeout(()=>n.removeChild(r),s);c.onclick=()=>{n.removeChild(r),clearTimeout(i)},r.appendChild(c),n.appendChild(r)}function F(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function H(e){const a=document.createElement("div");return a.textContent=e,a.innerHTML.replace(/'/g,"&#039;").replace(/"/g,"&quot;")}async function S(){return(await o({action:y,data:null},"unable to pop user from queue")).result}async function B(e){await o({action:b,data:e},"unable to push user to queue")}function R(e,a){const t=document.createElement("p"),n=document.createElement("a");return n.href="https://twitter.com/"+a,n.target="_blank",n.textContent="@"+a,t.appendChild(document.createTextNode(e+" (")),t.appendChild(n),t.appendChild(document.createTextNode(")")),t}export{$ as A,H as E,N as F,_ as I,I as M,k as Q,T as R,R as U,C as a,S as b,A as c,B as d,F as e,M as f};

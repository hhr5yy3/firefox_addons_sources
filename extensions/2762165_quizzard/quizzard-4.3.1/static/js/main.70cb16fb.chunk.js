(this.webpackJsonpquizzard=this.webpackJsonpquizzard||[]).push([[0],{20:function(e,t,i){},21:function(e,t,i){},22:function(e,t,i){},24:function(e,t,i){},25:function(e,t,i){},27:function(e,t,i){},28:function(e,t,i){},29:function(e,t,i){},30:function(e,t,i){"use strict";i.r(t);var s=i(3),n=i.n(s),o=i(13),a=i.n(o),r=i(8),c=i(1),l=i(2),u=i(9),d=i(5),h=i(4),p=(i(20),i(21),i(22),i(0)),m=function(e){Object(d.a)(i,e);var t=Object(h.a)(i);function i(){var e;Object(c.a)(this,i);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).renderedComponent=void 0,e}return Object(l.a)(i,[{key:"render",value:function(){var e=this.props.theme.primaryColor===this.props.selectedColor;return this.renderedComponent=Object(p.jsx)("button",{style:{backgroundColor:this.props.theme.primaryColor,border:"4px solid ".concat(this.props.theme.secondaryColor),opacity:1},className:"Theme",onClick:this.props.onThemeClick.bind(this,this.props.theme),children:" "}),!0===e&&(this.renderedComponent=Object(p.jsxs)("button",{disabled:!0,style:{backgroundColor:this.props.theme.primaryColor,border:"4px solid ".concat(this.props.theme.secondaryColor),opacity:.1},className:"Theme",onClick:this.props.onThemeClick.bind(this,this.props.theme),children:[Object(p.jsx)("img",{style:{width:"65%"},src:"./img/check.svg",alt:"Check"})," "]})),this.renderedComponent}}]),i}(s.Component),C=function(e){Object(d.a)(i,e);var t=Object(h.a)(i);function i(){return Object(c.a)(this,i),t.apply(this,arguments)}return Object(l.a)(i,[{key:"onThemeClick",value:function(e){this.props.onThemeChange(e)}},{key:"render",value:function(){var e=this;return Object(p.jsxs)("div",{style:{display:!0===this.props.display?"flex":"none"},className:"popup-container Fade-In",children:[Object(p.jsx)("button",{className:"Pallete-Close-Button",onClick:this.props.onCloseClick,children:Object(p.jsx)("img",{src:"img/close.svg",alt:"Close"})}),Object(p.jsxs)("div",{id:"Themes",className:"Theme-Container",children:[Object(p.jsx)("h1",{children:"Select a theme"}),Object(p.jsx)("div",{className:"Themes",children:this.props.themes.map((function(t){return Object(p.jsx)(m,{theme:t,onThemeClick:e.onThemeClick.bind(e),selectedColor:e.props.selectedColor})}))})]})]})}}]),i}(s.Component),O=i(12),g=i(14),b=(i(24),function(e){Object(d.a)(i,e);var t=Object(h.a)(i);function i(e){var s;return Object(c.a)(this,i),(s=t.call(this,e)).reCAPTCHAIframe=void 0,s.state={captchaLoaded:!1},s}return Object(l.a)(i,[{key:"onVisitWebsiteClick",value:function(e,t){this.props.onWebsiteClick(t),window.open(e.url.concat("#:~:text=".concat(encodeURI(e.question))),"_blank")}},{key:"onVisitPromotionalWebsite",value:function(e){this.props.onPromotionClick(e.id),!0!==e.goldPromotion?window.open(e.url,"_blank"):this.props.onSettingsClick(!0)}},{key:"onTrySearchingWithGoogleClick",value:function(){window.open("http://google.com/search?q=".concat(this.props.question," site:quizlet.com"),"__blank")}},{key:"onReportAProblemClick",value:function(){window.open("https://www.quizzardapp.com/feedback","__blank")}},{key:"onReCAPTCHAManualFix",value:function(){this.props.onClearClick(!1),window.open("http://google.com/search?q=".concat(this.props.question," quizlet"),"__blank")}},{key:"onReCAPTCHALoaded",value:function(){var e=Object(g.a)(Object(O.a)().mark((function e(t){return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==this.state.captchaLoaded){e.next=3;break}return this.props.onReCAPTCHAResult({success:!0}),e.abrupt("return");case 3:if(void 0!==this.reCAPTCHAIframe){e.next=6;break}return console.error("reset state here"),e.abrupt("return");case 6:this.setState({captchaLoaded:!0});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(p.jsx)("div",{className:"Root",children:Object(p.jsxs)("div",{className:"Results-Container",children:[Object(p.jsxs)("div",{className:"Results-Settings-Container",children:[Object(p.jsxs)("p",{className:"Results-Label",children:[" Results: ",this.props.results.length," "]}),Object(p.jsx)("span",{className:"Span-Stretch"}),Object(p.jsxs)("div",{className:"Button-Container",children:[Object(p.jsxs)("div",{className:"Button-Wrapper",children:[Object(p.jsx)("p",{className:"Button-Label",children:"Settings"}),Object(p.jsx)("button",{style:{width:"26px"},className:"Button",onClick:this.props.onSettingsClick.bind(null,!1),children:Object(p.jsx)("img",{className:"Button-Image",src:"./img/settings.svg",alt:"clear"})})]}),Object(p.jsxs)("div",{className:"Button-Wrapper",children:[Object(p.jsx)("p",{className:"Button-Label",children:"Clear"}),Object(p.jsx)("button",{style:{width:"25px"},className:"Button",onClick:function(){return e.props.onClearClick(!0)},children:Object(p.jsx)("img",{className:"Button-Image",src:"./img/trash.svg",alt:"clear"})})]})]})]}),!0===this.props.isLoading?Object(p.jsx)("div",{className:"Loading-Container",children:Object(p.jsxs)("div",{className:"Lds-Ring",children:[Object(p.jsx)("div",{style:{border:"8px solid ".concat(this.props.settings.windowPrimaryColor),borderColor:"".concat(this.props.settings.windowPrimaryColor," transparent transparent transparent")}}),Object(p.jsx)("div",{style:{border:"8px solid ".concat(this.props.settings.windowPrimaryColor),borderColor:"".concat(this.props.settings.windowPrimaryColor," transparent transparent transparent")}}),Object(p.jsx)("div",{style:{border:"8px solid ".concat(this.props.settings.windowPrimaryColor),borderColor:"".concat(this.props.settings.windowPrimaryColor," transparent transparent transparent")}}),Object(p.jsx)("div",{style:{border:"8px solid ".concat(this.props.settings.windowPrimaryColor),borderColor:"".concat(this.props.settings.windowPrimaryColor," transparent transparent transparent")}})]})}):void 0!==this.props.reCAPTCHAData?Object(p.jsxs)("div",{className:"ReCAPTCHA-Container",style:{marginTop:"45px"},children:[Object(p.jsx)("iframe",{ref:function(t){e.reCAPTCHAIframe=t},onLoad:this.onReCAPTCHALoaded.bind(this),title:"ReCAPTCHA",src:this.props.reCAPTCHAData.url,scrolling:"no",style:{overflow:"auto",minWidth:"100%",width:"332px",border:"none",marginTop:"-68px",marginLeft:"-28px",marginBottom:"-6px"}}),Object(p.jsxs)("div",{className:"Captcha",children:[Object(p.jsx)("p",{children:"Having troubles?"}),Object(p.jsx)("a",{href:"#",onClick:this.onReCAPTCHAManualFix.bind(this),children:"Click here to manually reset this captcha"})]})]}):Object(p.jsxs)("div",{className:"Result-Container",children:[this.props.results.map((function(t,i){var s,n;return Object(p.jsxs)("div",{className:"Result-Wrapper-Container",children:[void 0!==e.props.randomizedPromotion&&i===e.props.randomizedPromotion.index&&Object(p.jsxs)("div",{className:"Result",children:[Object(p.jsxs)("div",{className:"Result-Title",children:[Object(p.jsx)("h1",{className:"Result-Header",style:{fontWeight:600,color:e.props.settings.windowSecondaryColor},children:e.props.randomizedPromotion.promotion.header}),Object(p.jsx)("button",{className:"Result-Visit-Website-Button",style:{fontWeight:600,color:e.props.settings.windowSecondaryColor},onClick:function(){var t;return e.onVisitPromotionalWebsite(null===(t=e.props.randomizedPromotion)||void 0===t?void 0:t.promotion)},children:null!==(s=e.props.randomizedPromotion)&&void 0!==s&&null!==(n=s.promotion)&&void 0!==n&&n.goldPromotion?"Subscribe":"Visit Website"})]}),Object(p.jsx)("p",{className:"Result-Answer",style:{lineHeight:"1.20rem"},children:e.props.randomizedPromotion.promotion.body}),Object(p.jsx)("span",{className:"Span"})]}),Object(p.jsxs)("div",{className:"Result",children:[Object(p.jsxs)("div",{className:"Result-Title",children:[Object(p.jsxs)("h1",{className:"Result-Header",style:{color:e.props.settings.windowSecondaryColor},children:[" Answer #",i+1]}),Object(p.jsx)("button",{className:"Result-Visit-Website-Button",style:{color:e.props.settings.windowSecondaryColor},onClick:function(){return e.onVisitWebsiteClick(t,i+1)},children:"Visit Website"})]}),Object(p.jsx)("p",{style:{lineHeight:"1.20rem"},className:"Result-Answer",children:t.answer}),Object(p.jsx)("span",{className:"Span"}),Object(p.jsxs)("p",{className:"Result-Confidence",children:["Confidence: ",Math.round(100*t.confidence),"%"]})]})]})})),!0===this.props.noResults?Object(p.jsxs)("div",{className:"No-Results",children:[Object(p.jsx)("p",{children:"Not what you're looking for?"}),Object(p.jsxs)("span",{children:[Object(p.jsx)("a",{href:"#",onClick:this.onTrySearchingWithGoogleClick.bind(this),children:"Try searching Google"})," or ",Object(p.jsx)("a",{href:"#",onClick:this.onReportAProblemClick.bind(this),children:"report a problem"})]})]}):null]})]})})}}]),i}(s.Component)),S=(i(25),i(15)),T=i.n(S),A=function(e){var t=new Date(e),i=T()(e).fromNow();return e-t.getTime()<0?"".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate()):"".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate()," (").concat(i,")")},j=function(){return Math.floor((new Date).getTime()/1e3)},E=function(e){Object(d.a)(i,e);var t=Object(h.a)(i);function i(e){var s;Object(c.a)(this,i),(s=t.call(this,e)).inputElement=void 0;var n=!1;return!0===e.displayGoldPromotion&&(n=!0),s.state={displayFreeTrial:n,displayConfirmLogout:!1,displayConfirmFreeTrial:!1,settings:s.props.settings,isFreeTrialLoading:!1},s}return Object(l.a)(i,[{key:"componentWillReceiveProps",value:function(e){this.onInputChange(),this.setState({settings:e.settings,displayFreeTrial:e.displayGoldPromotion})}},{key:"onConfidenceThresholdChange",value:function(e){var t=this.state.settings;t.confidenceThreshold=parseInt(e.target.value,10),this.setState({settings:t})}},{key:"onAutomaticallySortChange",value:function(){var e=this.state.settings;e.autoSort=!e.autoSort,this.setState({settings:e})}},{key:"onAutomaticallyClearChange",value:function(){var e=this.state.settings;e.autoClear=!e.autoClear,this.setState({settings:e})}},{key:"onInputChange",value:function(){if(void 0!==this.inputElement&&null!==this.inputElement){var e=parseInt(this.inputElement.value,10)||0,t=parseInt(this.inputElement.min,10),i=(e-t)/(parseInt(this.inputElement.max,10)-t)*100;this.inputElement.style.background="linear-gradient(to right, #5A8FFA 0%, #5A8FFA ".concat(i,"%, #F2F2F2 ").concat(i,"%, #F2F2F2 100%)")}}},{key:"onSubscribeClick",value:function(){if(void 0===this.props.user)return this.setState({displayFreeTrial:!1,displayConfirmFreeTrial:!1}),void this.props.onLoginOrSignUp();this.props.onSubscribe()}},{key:"onLoginOrSignUpClick",value:function(){this.props.onLoginOrSignUp()}},{key:"onConfirmLogoutClick",value:function(){this.setState({displayConfirmLogout:!0})}},{key:"onLogoutClick",value:function(){this.setState({displayConfirmLogout:!1}),this.props.onLogout()}},{key:"onBackToSettingsClick",value:function(){var e=this;setTimeout((function(){return e.onInputChange()}),25),this.setState({displayFreeTrial:!1,displayConfirmLogout:!1,displayConfirmFreeTrial:!1,isFreeTrialLoading:!1})}},{key:"onCloseClick",value:function(){this.setState({displayFreeTrial:!1,displayConfirmLogout:!1,displayConfirmFreeTrial:!1,isFreeTrialLoading:!1}),this.props.onClose(this.state.settings.confidenceThreshold,this.state.settings.autoSort,this.state.settings.autoClear)}},{key:"onDiscordClick",value:function(){this.props.onDiscordClick(),window.open(i.JOIN_DISCORD_URL,"_blank")}},{key:"onDonateClick",value:function(){this.props.onDonateClick(),window.open(i.DONATION_URL,"_blank")}},{key:"render",value:function(){var e,t,s=this;return Object(p.jsxs)("div",{style:{display:!0===this.props.display?"flex":"none"},className:"popup-container Fade-In",children:[Object(p.jsx)("style",{children:"\n                          .input-slider-confidence::after {\n                            content: '".concat(this.state.settings.confidenceThreshold,"%';\n                            color: #576574;\n                            text-align: right;\n                            position: absolute;\n                            right: 100px;\n                            top: 70px;\n                            opacity: 0.4;\n                          }\n\n                    ")}),!0===this.state.displayFreeTrial&&!1===this.state.displayConfirmLogout?Object(p.jsxs)("div",{id:"Settings",className:"Settings-Container",children:[Object(p.jsx)("button",{className:"Popup-Back-Button",onClick:this.onBackToSettingsClick.bind(this),children:Object(p.jsx)("img",{src:"img/back.svg",alt:"Back"})}),Object(p.jsx)("button",{className:"Settings-Close-Button",onClick:this.onCloseClick.bind(this),children:Object(p.jsx)("img",{src:"img/close.svg",alt:"Close"})}),Object(p.jsxs)("div",{className:"Free-Trial-Container",children:[Object(p.jsxs)("div",{className:"Free-Trial-Body",children:[Object(p.jsx)("img",{src:"img/quizzard-gold.png",alt:"quizzard-gold"}),Object(p.jsxs)("div",{className:"Free-Trial-Body-Content",children:[Object(p.jsx)("h1",{children:"Quizzard Gold"}),Object(p.jsx)("p",{children:"Double your search speed, accuracy, and bypass 'I am not a robot' reCAPTCHA!"})]})]}),Object(p.jsx)("div",{className:"Free-Trial-Button-Container",children:Object(p.jsx)("button",{tabIndex:5,className:"Subscribe-Button",onClick:this.onSubscribeClick.bind(this),children:"Subscribe"})})]})]}):!1===this.state.displayFreeTrial&&!0===this.state.displayConfirmLogout?Object(p.jsxs)("div",{id:"Settings",className:"Settings-Container",children:[Object(p.jsx)("button",{className:"Popup-Back-Button",onClick:this.onBackToSettingsClick.bind(this),children:Object(p.jsx)("img",{src:"img/back.svg",alt:"Back"})}),Object(p.jsx)("button",{className:"Settings-Close-Button",onClick:this.onCloseClick.bind(this),children:Object(p.jsx)("img",{src:"img/close.svg",alt:"Close"})}),Object(p.jsxs)("div",{className:"Logout-Container",children:[Object(p.jsx)("h1",{children:"Are you sure you want to logout?"}),void 0!==this.props.user&&Object(p.jsxs)("div",{className:"User-Data-Container",children:[Object(p.jsxs)("h1",{children:["User ID: ",this.props.user.userID]}),Object(p.jsxs)("h1",{children:["Email:  ",this.props.user.email]})]}),Object(p.jsx)("button",{tabIndex:4,className:"Logout-Button",onClick:this.onLogoutClick.bind(this),children:"Logout"})]})]}):Object(p.jsxs)("div",{id:"Settings",className:"Settings-Container",children:[Object(p.jsx)("button",{className:"Settings-Close-Button",onClick:this.props.onClose.bind(null,this.state.settings.confidenceThreshold,this.state.settings.autoSort,this.state.settings.autoClear),children:Object(p.jsx)("img",{src:"img/close.svg",alt:"Close"})}),Object(p.jsxs)("div",{className:"slider-container",children:[Object(p.jsx)("h1",{children:"Confidence Threshold"}),Object(p.jsx)("input",{ref:function(e){s.inputElement=e},className:"input-slider-confidence input-hover",type:"range",min:"1",max:"100",value:this.state.settings.confidenceThreshold,onInput:this.onInputChange.bind(this),onChange:this.onConfidenceThresholdChange.bind(this)})]}),Object(p.jsxs)("div",{className:"toggle-container",children:[Object(p.jsxs)("div",{className:"item",children:[Object(p.jsx)("p",{children:"Automatically Sort"}),Object(p.jsx)("span",{}),Object(p.jsxs)("label",{className:"switch",children:[Object(p.jsx)("input",{className:"input-hover",type:"checkbox",value:this.state.settings.autoSort,onChange:this.onAutomaticallySortChange.bind(this),checked:this.state.settings.autoSort}),Object(p.jsx)("div",{className:"Slider"})]})]}),Object(p.jsxs)("div",{className:"item",children:[Object(p.jsx)("p",{children:"Automatically Clear"}),Object(p.jsx)("span",{}),Object(p.jsxs)("label",{className:"switch",children:[Object(p.jsx)("input",{className:"input-hover",type:"checkbox",value:this.state.settings.autoClear,onChange:this.onAutomaticallyClearChange.bind(this),checked:this.state.settings.autoClear}),Object(p.jsx)("div",{className:"Slider"})]})]}),Object(p.jsxs)("div",{className:"item",children:[Object(p.jsx)("p",{children:"Quizzard Gold"}),Object(p.jsx)("span",{}),Object(p.jsx)("div",{className:"Quizzard-Gold-Container",children:!0===(null===(e=this.props.user)||void 0===e?void 0:e.isGoldSearch)&&void 0!==(null===(t=this.props.user)||void 0===t?void 0:t.goldSearchEndTimeEpoch)?Object(p.jsx)(p.Fragment,{children:!0===this.props.user.isRecurringSubscription?Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"Renew-Subscription-Container",children:[Object(p.jsxs)("p",{className:"Quizzard-Gold-Expiration-Label",children:["Renews ",A(1e3*this.props.user.goldSearchEndTimeEpoch)]}),Object(p.jsx)("button",{className:"Manage-Subscription-Button",onClick:i.onManageSubscriptionClick,children:"Manage Subscription"})]})}):Object(p.jsxs)("p",{className:"Quizzard-Gold-Expiration-Label",children:["Expires ",A(1e3*this.props.user.goldSearchEndTimeEpoch)]})}):Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("button",{className:"Subscribe-Button",onClick:this.onSubscribeClick.bind(this),children:"Subscribe"})})})]})]}),Object(p.jsxs)("div",{className:"button-container",children:[Object(p.jsxs)("button",{onClick:this.onDonateClick.bind(this),children:[Object(p.jsx)("img",{className:"button-icon",src:"img/donate-icon.png",alt:"Donate"}),"DONATE"]}),Object(p.jsxs)("button",{onClick:this.onDiscordClick.bind(this),children:[Object(p.jsx)("img",{className:"button-icon",src:"img/discord.png",alt:"Discord"}),"DISCORD"]}),void 0===this.props.user?Object(p.jsxs)("button",{onClick:this.onLoginOrSignUpClick.bind(this),children:[Object(p.jsx)("img",{className:"button-icon",src:"img/login.svg",alt:"Login/Sign-Up"}),"LOGIN/SIGN-UP"]}):Object(p.jsxs)("button",{onClick:this.onConfirmLogoutClick.bind(this),children:[Object(p.jsx)("img",{className:"button-icon",src:"img/logout.svg",alt:"Logout"}),"LOGOUT"]})]})]})]})}}],[{key:"onManageSubscriptionClick",value:function(){window.open(i.MANAGE_QUIZZARD_GOLD_SUBSCRIPTION_URL,"_blank")}}]),i}(s.Component);E.DONATION_URL="https://www.quizzardapp.com/api/v2/extension/donation",E.JOIN_DISCORD_URL="https://www.quizzardapp.com/join-discord",E.MANAGE_QUIZZARD_GOLD_SUBSCRIPTION_URL="https://www.quizzardapp.com/manage-subscription";i(27);var v,I=function(e){Object(d.a)(i,e);var t=Object(h.a)(i);function i(e){var s;return Object(c.a)(this,i),(s=t.call(this,e)).tosInfoContainer=void 0,s.handleScroll=function(){if(s.tosInfoContainer){var e=s.tosInfoContainer,t=e.scrollTop/(e.scrollHeight-e.clientHeight)*100,i=Math.round(100*t)/100;s.setState({amountScrolled:i})}},s.tosInfoContainer=null,s.state={amountScrolled:0},s}return Object(l.a)(i,[{key:"componentDidMount",value:function(){this.tosInfoContainer&&this.tosInfoContainer.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){this.tosInfoContainer&&this.tosInfoContainer.removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){var e=this;return Object(p.jsx)("div",{style:{display:!0===this.props.display?"flex":"none"},className:"Popup-Container Fade-In",children:Object(p.jsx)("div",{className:"Tos-Wrapper-Container",children:Object(p.jsxs)("div",{className:"Tos-Container",children:[Object(p.jsx)("h1",{children:"Terms and Conditions"}),Object(p.jsxs)("div",{ref:function(t){e.tosInfoContainer=t},onScroll:this.handleScroll,className:"Tos-Info-Container",children:[Object(p.jsx)("h2",{children:"General Use"}),Object(p.jsx)("p",{children:"Quizzard is a Google Chrome extension search tool that is solely intended to assist users in rapidly finding Quizlet-hosted question sets. It is strictly prohibited to use this tool to facilitate any form of academic misconduct on assessed material as follows, but not limited to: quizzes, tests, exams, and alike."}),Object(p.jsx)("h2",{children:"DISCLAIMER"}),Object(p.jsx)("p",{children:"THE APPLICATION IS PROVIDED ON AN AS-IS AND AS-AVAILABLE BASIS. YOU AGREE THAT YOUR USE OF THE APPLICATION SERVICES WILL BE AT YOUR SOLE RISK. TO THE FULLEST EXTENT PERMITTED BY LAW, WE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED, IN CONNECTION WITH THE APPLICATION AND YOUR USE THEREOF, INCLUDING, WITHOUT LIMITATION, THE IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, AND NON-INFRINGEMENT. WE MAKE NO WARRANTIES OR REPRESENTATIONS ABOUT THE ACCURACY OR COMPLETENESS OF THE APPLICATION\u2019S CONTENT OR THE CONTENT OF ANY WEBSITES LINKED TO THIS APPLICATION AND WE WILL ASSUME NO LIABILITY OR RESPONSIBILITY FOR ANY (1) ERRORS, MISTAKES, OR INACCURACIES OF CONTENT AND MATERIALS, (2) PERSONAL INJURY OR PROPERTY DAMAGE, OF ANY NATURE WHATSOEVER, RESULTING FROM YOUR ACCESS TO AND USE OF THE APPLICATION, (3) ANY UNAUTHORIZED ACCESS TO OR USE OF OUR SECURE SERVERS AND/OR ANY AND ALL PERSONAL INFORMATION AND/OR FINANCIAL INFORMATION STORED THEREIN, (4) ANY INTERRUPTION OR CESSATION OF TRANSMISSION TO OR FROM THE APPLICATION, (5) ANY BUGS, VIRUSES, TROJAN HORSES, OR THE LIKE WHICH MAY BE TRANSMITTED TO OR THROUGH THE APPLICATION BY ANY THIRD PARTY, AND/OR (6) ANY ERRORS OR OMISSIONS IN ANY CONTENT AND MATERIALS OR FOR ANY LOSS OR DAMAGE OF ANY KIND INCURRED AS A RESULT OF THE USE OF ANY CONTENT POSTED, TRANSMITTED, OR OTHERWISE MADE AVAILABLE VIA THE APPLICATION. WE DO NOT WARRANT, ENDORSE, GUARANTEE, OR ASSUME RESPONSIBILITY FOR ANY PRODUCT OR SERVICE ADVERTISED OR OFFERED BY A THIRD PARTY THROUGH THE APPLICATION, ANY HYPERLINKED WEBSITE, OR ANY WEBSITE OR MOBILE APPLICATION FEATURED IN ANY BANNER OR OTHER ADVERTISING, AND WE WILL NOT BE A PARTY TO OR IN ANY WAY BE RESPONSIBLE FOR MONITORING ANY TRANSACTION BETWEEN YOU AND ANY THIRD-PARTY PROVIDERS OF PRODUCTS OR SERVICES. AS WITH THE PURCHASE OF A PRODUCT OR SERVICE THROUGH ANY MEDIUM OR IN ANY ENVIRONMENT, YOU SHOULD USE YOUR BEST JUDGMENT AND EXERCISE CAUTION WHERE APPROPRIATE."}),Object(p.jsx)("h2",{children:"LIMITATIONS OF LIABILITY"}),Object(p.jsx)("p",{children:"IN NO EVENT WILL WE OR OUR DIRECTORS, EMPLOYEES, OR AGENTS BE LIABLE TO YOU OR ANY THIRD PARTY FOR ANY DIRECT, INDIRECT, CONSEQUENTIAL, EXEMPLARY, INCIDENTAL, SPECIAL, OR PUNITIVE DAMAGES, INCLUDING LOST PROFIT, LOST REVENUE, LOSS OF DATA, OR OTHER DAMAGES ARISING FROM YOUR USE OF THE APPLICATION, EVEN IF WE HAVE BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES."})]}),Object(p.jsx)("button",{className:"Tos-Button",onClick:this.props.onIAgreeClick.bind(null,this.state.amountScrolled),children:"I Agree"})]})})})}}]),i}(s.Component),R=i(7),N=(i(28),function(e){window.open(e,"_blank")}),y=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"get",value:function(e,t){chrome.storage.local.get(e,t)}}]),e}(),k=function(e){return e[e.NONE=0]="NONE",e[e.LOGIN=1]="LOGIN",e[e.ACTIVATE_USER=2]="ACTIVATE_USER",e[e.SIGN_UP=3]="SIGN_UP",e[e.FORGOT_PASSWORD=4]="FORGOT_PASSWORD",e[e.FORGOT_PASSWORD_CONFIRMED=5]="FORGOT_PASSWORD_CONFIRMED",e}(k||{}),P=function(e){null!=e&&e.focus()},f=function(e){setTimeout((function(){return P(e)}),arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)},x=(v={},Object(R.a)(v,k.NONE,""),Object(R.a)(v,k.LOGIN,"Login"),Object(R.a)(v,k.ACTIVATE_USER,"Activate Account"),Object(R.a)(v,k.SIGN_UP,"Sign Up"),Object(R.a)(v,k.FORGOT_PASSWORD,"Forgot Password"),Object(R.a)(v,k.FORGOT_PASSWORD_CONFIRMED,"Forgot Password"),v),L=function(e){Object(d.a)(i,e);var t=Object(h.a)(i);function i(e){var s;return Object(c.a)(this,i),(s=t.call(this,e)).emailInputElement=void 0,s.passwordInputElement=void 0,s.errorButtonElement=void 0,s.emailInputElement=null,s.passwordInputElement=null,s.errorButtonElement=null,y.get(["isActivationRequired","email","rememberMe"],(function(e){var t=e.isActivationRequired,i=e.email,n=e.rememberMe,o=k.SIGN_UP;!0===t&&(o=k.ACTIVATE_USER),!0!==n?s.setState({authType:o,email:"",rememberMe:!1}):s.setState({authType:o,email:i,rememberMe:!0})})),s.state={authType:k.SIGN_UP,email:"",password:"",activationCode:"",rememberMe:!1,error:void 0,isLoading:!1},s}return Object(l.a)(i,[{key:"onPopupClosed",value:function(){this.setState({password:"",activationCode:""}),this.props.onPopupClosed()}},{key:"onLoginClick",value:function(){var e=this,t=this.state.email.trim(),i=this.state.password.trim(),s=this.state.rememberMe;0===t.length&&0===i.length||(0!==t.length||0===i.length?0!==i.length||0===t.length?(this.setState({isLoading:!0}),this.props.onLogin(t,i,s).then((function(i){if(void 0!==i)return void 0!==i.error?(e.setState({error:i.error}),void f(e.errorButtonElement,500)):void(void 0!==i.user?(e.setState({password:"",activationCode:""}),e.props.onPopupClosed({email:t,userID:i.user.userID,isGoldSearch:i.user.isGoldSearch,isFreeTrialActivated:i.user.isFreeTrialActivated,goldSearchEndTimeEpoch:i.user.goldSearchEndTimeEpoch})):e.setState({error:{code:679,message:"An unknown error occured during login! Please try-again."}}))})).finally((function(){e.setState({isLoading:!1})}))):P(this.passwordInputElement):P(this.emailInputElement))}},{key:"onSignUpClick",value:function(){var e=this,t=this.state.email.trim(),i=this.state.password.trim(),s=this.state.rememberMe;0===t.length&&0===i.length||(0!==t.length||0===i.length?0!==i.length||0===t.length?(this.setState({isLoading:!0}),this.props.onSignUp(t,i,s).then((function(t){if(void 0!==t)return e.setState({error:t}),void f(e.errorButtonElement,500);e.setState({authType:k.ACTIVATE_USER})})).finally((function(){e.setState({isLoading:!1})}))):P(this.passwordInputElement):P(this.emailInputElement))}},{key:"onActivateClick",value:function(){var e=this,t=this.state.activationCode.trim(),i=this.state.email.trim();0!==t.length&&(this.setState({isLoading:!0}),this.props.onActivate(i,t).then((function(t){void 0===t.error?void 0!==t.userID?(e.setState({password:"",activationCode:""}),e.props.onPopupClosed({email:i,userID:t.userID,isGoldSearch:!1,isFreeTrialActivated:!1,goldSearchEndTimeEpoch:void 0})):e.setState({error:{code:679,message:"An unknown error occured during activation! Please try-again."}}):e.setState({error:t.error})})).finally((function(){e.setState({isLoading:!1})})))}},{key:"OnForgotPasswordConfirmedGoBackClick",value:function(){this.setState({authType:k.LOGIN})}},{key:"onForgotPasswordClick",value:function(){var e=this,t=this.state.email.trim();0!==t.length?(this.setState({isLoading:!0}),this.props.onForgotPassword(t).finally((function(){return e.setState({isLoading:!1,authType:k.FORGOT_PASSWORD_CONFIRMED})}))):P(this.emailInputElement)}},{key:"onNotNowClick",value:function(){this.props.onPopupClosed()}},{key:"onForgotPasswordViewClick",value:function(){this.setState({authType:k.FORGOT_PASSWORD})}},{key:"onViewSignUpClick",value:function(){this.setState({authType:k.SIGN_UP})}},{key:"onViewLoginClick",value:function(){this.setState({authType:k.LOGIN})}},{key:"onErrorGoBackClick",value:function(){this.setState({error:void 0})}},{key:"onBackToSignUp",value:function(){this.props.onResetSignUpSession(),this.setState({authType:k.SIGN_UP})}},{key:"onEmailInputChanged",value:function(e){this.setState({email:e.target.value})}},{key:"onPasswordInputChanged",value:function(e){this.setState({password:e.target.value})}},{key:"onActivationInputChanged",value:function(e){this.setState({activationCode:e.target.value})}},{key:"onRememberMeChanged",value:function(e){this.setState({rememberMe:e.target.checked})}},{key:"onEnterKeyPressed",value:function(e){if("Enter"===e.key)switch(this.state.authType){case k.LOGIN:this.onLoginClick();break;case k.SIGN_UP:this.onSignUpClick();break;case k.ACTIVATE_USER:this.onActivateClick()}}},{key:"render",value:function(){var e=this;return Object(p.jsx)("div",{style:{display:!0===this.props.display?"flex":"none"},className:"Popup-Container Fade-In",children:Object(p.jsx)("div",{className:"Auth-Wrapper-Container",children:!1===this.state.isLoading?Object(p.jsxs)("div",{className:"Auth-Container",children:[Object(p.jsxs)("div",{className:"Header-Input-Container",children:[void 0!==this.state.error&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("span",{className:"Error-Code-Label",children:["E",this.state.error.code.toString().padStart(4,"0")]}),Object(p.jsx)("span",{className:"Flex-Region"})]}),void 0===this.state.error&&this.state.authType===k.ACTIVATE_USER&&Object(p.jsx)("button",{className:"Popup-Back-Button",onClick:this.onBackToSignUp.bind(this),children:Object(p.jsx)("img",{src:"img/back.svg",alt:"Back"})}),Object(p.jsx)("button",{onClick:this.onPopupClosed.bind(this),children:Object(p.jsx)("img",{src:"./img/close.svg",alt:"Close"})})]}),void 0===this.state.error?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:"Auth-Logo-Container",children:Object(p.jsx)("h1",{children:x[this.state.authType]})}),Object(p.jsxs)("div",{className:"Auth-Sign-In-Container",children:[this.state.authType===k.ACTIVATE_USER?Object(p.jsx)("p",{className:"Auth-Activate-Message",children:"Please enter the verification code sent to your email. If you don't see the email, please check your spam folder. If you did not receive an email, please go back and try again."}):this.state.authType===k.FORGOT_PASSWORD?Object(p.jsx)("p",{className:"Auth-Forgot-Password-Message",children:"Enter the email associated with your Quizzard account and we'll send you instructions on how to reset your password."}):this.state.authType===k.FORGOT_PASSWORD_CONFIRMED?Object(p.jsx)("p",{className:"Auth-Forgot-Password-Message",children:"An email with instructions on how to reset your password was just sent to your inbox."}):Object(p.jsx)(p.Fragment,{}),Object(p.jsxs)("div",{className:"Auth-Sign-In-Input-Container",children:[this.state.authType===k.LOGIN||this.state.authType===k.SIGN_UP?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("input",{ref:function(t){return e.emailInputElement=t},tabIndex:1,value:this.state.email,onChange:this.onEmailInputChanged.bind(this),onKeyDown:this.onEnterKeyPressed.bind(this),className:"Auth-Sign-In-Input",type:"text",placeholder:"Email"}),Object(p.jsx)("input",{ref:function(t){return e.passwordInputElement=t},tabIndex:2,value:this.state.password,onChange:this.onPasswordInputChanged.bind(this),onKeyDown:this.onEnterKeyPressed.bind(this),className:"Auth-Sign-In-Input",type:"password",placeholder:"Password"}),Object(p.jsxs)("div",{className:"Auth-Sign-In-Options-Container",children:[Object(p.jsxs)("div",{className:"Auth-Sign-In-Remember-Me-Container",children:[Object(p.jsx)("input",{tabIndex:3,checked:this.state.rememberMe,onChange:this.onRememberMeChanged.bind(this),type:"checkbox",id:"remember-me",name:"remember-me"}),Object(p.jsx)("label",{htmlFor:"remember-me",children:"Remember me"})]}),this.state.authType===k.LOGIN&&Object(p.jsx)("a",{tabIndex:4,onClick:this.onForgotPasswordViewClick.bind(this),children:"Forgot password?"})]})]}):this.state.authType===k.FORGOT_PASSWORD?Object(p.jsx)("input",{ref:function(t){return e.emailInputElement=t},tabIndex:1,value:this.state.email,onChange:this.onEmailInputChanged.bind(this),onKeyDown:this.onEnterKeyPressed.bind(this),className:"Auth-Sign-In-Input",type:"text",placeholder:"Email"}):this.state.authType===k.ACTIVATE_USER?Object(p.jsx)("input",{tabIndex:1,value:this.state.activationCode,onChange:this.onActivationInputChanged.bind(this),onKeyDown:this.onEnterKeyPressed.bind(this),className:"Auth-Sign-In-Input",type:"text",placeholder:"Activation Code"}):this.state.authType===k.FORGOT_PASSWORD_CONFIRMED?Object(p.jsx)("img",{src:"./img/success.png",alt:"Success",className:"Forgot-Password-Success-Icon"}):Object(p.jsx)(p.Fragment,{}),Object(p.jsx)("div",{className:"Auth-Sign-In-Button-Container",children:this.state.authType===k.LOGIN?Object(p.jsx)("button",{tabIndex:5,className:"Auth-Sign-In-Button",onClick:this.onLoginClick.bind(this),children:"Login"}):this.state.authType===k.SIGN_UP?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("button",{tabIndex:4,className:"Auth-Sign-In-Button",onClick:this.onSignUpClick.bind(this),children:"Sign Up"}),Object(p.jsx)("button",{tabIndex:5,className:"Auth-Sign-In-Later-Button",onClick:this.onNotNowClick.bind(this),children:"Not Now"})]}):this.state.authType===k.FORGOT_PASSWORD?Object(p.jsx)("button",{tabIndex:2,className:"Auth-Sign-In-Button",onClick:this.onForgotPasswordClick.bind(this),children:"Submit"}):this.state.authType===k.ACTIVATE_USER?Object(p.jsx)("button",{tabIndex:2,className:"Auth-Sign-In-Button",onClick:this.onActivateClick.bind(this),children:"Activate"}):this.state.authType===k.FORGOT_PASSWORD_CONFIRMED?Object(p.jsx)("button",{tabIndex:2,className:"Auth-Sign-In-Button",onClick:this.OnForgotPasswordConfirmedGoBackClick.bind(this),children:"Go Back"}):Object(p.jsx)(p.Fragment,{})}),(this.state.authType===k.LOGIN||this.state.authType===k.SIGN_UP)&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{style:{width:"65%",borderBottom:"1px solid #ccc",textAlign:"center"},children:Object(p.jsx)("span",{style:{fontSize:"0.75rem",backgroundColor:"white",padding:"0 10px",position:"relative",top:"8px"},children:"OR"})}),Object(p.jsxs)("div",{className:"Auth-Alternative-Sign-In-Container",children:[Object(p.jsxs)("button",{className:"Auth-Alternative-Sign-In-Button",onClick:i.onGoogleSignInClick,children:[Object(p.jsx)("img",{src:"./img/google-sign-in.png",alt:"Google"}),"Google"]}),Object(p.jsxs)("button",{className:"Auth-Alternative-Sign-In-Button",onClick:i.onAppleSignInClick,children:[Object(p.jsx)("img",{src:"./img/apple-sign-in.png",alt:"Apple"}),"Apple"]})]})]}),this.state.authType===k.LOGIN&&Object(p.jsxs)("p",{children:["Don't have an account? ",Object(p.jsx)("a",{tabIndex:6,onClick:this.onViewSignUpClick.bind(this),children:"Sign up"})]}),(this.state.authType===k.SIGN_UP||this.state.authType===k.FORGOT_PASSWORD)&&Object(p.jsxs)("p",{children:["Already have an account? ",Object(p.jsx)("a",{tabIndex:6,onClick:this.onViewLoginClick.bind(this),children:"Login"})]})]})]})]}):Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"Auth-Error-Container",children:[Object(p.jsx)("h1",{children:this.state.error.message}),Object(p.jsx)("div",{children:Object(p.jsx)("img",{src:"./img/error.svg",alt:"Error"})}),Object(p.jsx)("div",{className:"Auth-Sign-In-Input-Container",children:Object(p.jsx)("div",{className:"Auth-Error-Button-Container",children:Object(p.jsx)("button",{id:"btnError",ref:function(t){e.errorButtonElement=t},className:"Auth-Error-Button",onClick:this.onErrorGoBackClick.bind(this),children:"Go Back"})})})]})})]}):Object(p.jsx)("div",{style:{height:"235px"},className:"Auth-Container",children:Object(p.jsxs)("div",{className:"Auth-Loading-Container",children:[Object(p.jsxs)("div",{style:{width:"100px",height:"100px"},className:"Lds-Ring",children:[Object(p.jsx)("div",{style:{width:"84px",height:"84px",border:"8px solid #54a0fc",borderColor:"#54a0fc transparent transparent transparent"}}),Object(p.jsx)("div",{style:{width:"84px",height:"84px",border:"8px solid #54a0fc",borderColor:"#54a0fc transparent transparent transparent"}}),Object(p.jsx)("div",{style:{width:"84px",height:"84px",border:"8px solid #54a0fc",borderColor:"#54a0fc transparent transparent transparent"}}),Object(p.jsx)("div",{style:{width:"84px",height:"84px",border:"8px solid #54a0fc",borderColor:"#54a0fc transparent transparent transparent"}})]}),Object(p.jsx)("h1",{children:"Loading, please wait"})]})})})})}}],[{key:"onGoogleSignInClick",value:function(){N("https://www.quizzardapp.com/api/v2/extension/google-sign-in",450,600)}},{key:"onAppleSignInClick",value:function(){N("https://www.quizzardapp.com/api/v2/extension/apple-sign-in",550,750)}}]),i}(s.Component),D=function(e){return e.LOAD_APPLICATION_DATA="LOAD_APPLICATION_DATA",e.AGREE_TO_TERMS_OF_SERVICE="AGREE_TO_TERMS_OF_SERVICE",e.UPDATE_THEME="UPDATE_THEME",e.UPDATE_SEARCH_SETTINGS="UPDATE_SEARCH_SETTINGS",e.UPDATE_STATE="UPDATE_STATE",e.SEARCH_START="SEARCH",e.SEARCH_RESULT="SEARCH_RESULT",e.SEARCH_END="SEARCH_END",e.ABORT_SEARCH="ABORT_SEARCH",e.CLEAR_RESULTS="CLEAR_RESULTS",e.ERROR_OCCURRED="ERROR_OCCURRED",e.LOGIN="LOGIN",e.LOGOUT="LOGOUT",e.SIGN_UP="SIGN_UP",e.ACTIVATE_ACCOUNT="ACTIVATE_ACCOUNT",e.RESET_SIGN_UP_SESSION="RESET_SIGN_UP_SESSION",e.ACTIVATE_FREE_TRIAL="ACTIVATE_FREE_TRIAL",e.FORGOT_PASSWORD="FORGOT_PASSWORD",e.SETTINGS_MODAL_CLICK="SETTINGS_MODAL_CLICK",e.THEMES_MODAL_CLICK="THEMES_MODAL_CLICK",e.DONATE_CLICK="DONATE_CLICK",e.DISCORD_CLICK="DISCORD_CLICK",e.SUBSCRIBE_CLICK="SUBSCRIBE_CLICK",e.FREE_TRIAL_CLICK="FREE_TRIAL_CLICK",e.WEBSITE_CLICK="WEBSITE_CLICK",e.PROMOTION_CLICK="PROMOTION_CLICK",e}({}),_="2"===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).MANIFEST_VERSION?browser.runtime:chrome.runtime,w=function(e,t){void 0!==e&&e.resolve(t)},F=function(e,t){return{data:e,messageType:t}},U=function(){function e(t){Object(c.a)(this,e),this.runtimePort=void 0,this.loginPromise=void 0,this.logoutPromise=void 0,this.signUpPromise=void 0,this.activationPromise=void 0,this.forgotPasswordPromise=void 0,this.freeTrialActivationPromise=void 0,this.quizzardRuntimeEventListener=void 0,this.quizzardRuntimeEventListener=t,this.runtimePort=e.initializeRuntime(this.onDisconnect.bind(this),this.onMessage.bind(this))}return Object(l.a)(e,[{key:"disconnect",value:function(){void 0!==this.runtimePort&&this.runtimePort.disconnect()}},{key:"login",value:function(e,t,i){var s=this;return this.sendMessage(F({email:e,password:t,rememberMe:i},D.LOGIN)),new Promise((function(e){s.loginPromise={resolve:e}}))}},{key:"logout",value:function(){var e=this;return this.sendMessage(F({},D.LOGOUT)),new Promise((function(t){e.logoutPromise={resolve:t}}))}},{key:"signup",value:function(e,t,i){var s=this;return this.sendMessage(F({email:e,password:t,rememberMe:i},D.SIGN_UP)),new Promise((function(e){s.signUpPromise={resolve:e}}))}},{key:"activate",value:function(e,t){var i=this;return this.sendMessage(F({email:e,activationCode:t},D.ACTIVATE_ACCOUNT)),new Promise((function(e){i.activationPromise={resolve:e}}))}},{key:"activateFreeTrial",value:function(){var e=this;return this.sendMessage(F({},D.ACTIVATE_FREE_TRIAL)),new Promise((function(t){e.freeTrialActivationPromise={resolve:t}}))}},{key:"forgotPassword",value:function(e){var t=this;return this.sendMessage(F({email:e},D.FORGOT_PASSWORD)),new Promise((function(e){t.forgotPasswordPromise={resolve:e}}))}},{key:"resetSignUpSession",value:function(){this.sendMessage(F({},D.RESET_SIGN_UP_SESSION))}},{key:"agreeToTermsOfService",value:function(e){this.sendMessage(F({amountScrolled:e},D.AGREE_TO_TERMS_OF_SERVICE))}},{key:"updateTheme",value:function(e){this.sendMessage(F(e,D.UPDATE_THEME))}},{key:"updateSearchSettings",value:function(e,t,i){this.sendMessage(F({confidenceThreshold:e,autoSort:t,autoClear:i},D.UPDATE_SEARCH_SETTINGS))}},{key:"updateApplicationState",value:function(e){this.sendMessage(F(e,D.UPDATE_STATE))}},{key:"search",value:function(e){this.sendMessage(F({question:e},D.SEARCH_START))}},{key:"onSettingsClick",value:function(){this.sendMessage(F({},D.SETTINGS_MODAL_CLICK))}},{key:"onThemesClick",value:function(){this.sendMessage(F({},D.THEMES_MODAL_CLICK))}},{key:"onDonateClick",value:function(){this.sendMessage(F({},D.DONATE_CLICK))}},{key:"onDiscordClick",value:function(){this.sendMessage(F({},D.DISCORD_CLICK))}},{key:"onSubscribeClick",value:function(){this.sendMessage(F({},D.SUBSCRIBE_CLICK))}},{key:"onFreeTrialClick",value:function(){this.sendMessage(F({},D.FREE_TRIAL_CLICK))}},{key:"onWebsiteClick",value:function(e){this.sendMessage(F({index:e},D.WEBSITE_CLICK))}},{key:"onPromotionClick",value:function(e){this.sendMessage(F({id:e},D.PROMOTION_CLICK))}},{key:"sendMessage",value:function(t){void 0===this.runtimePort&&(this.runtimePort=e.initializeRuntime(this.onDisconnect.bind(this),this.onMessage.bind(this))),this.runtimePort.postMessage(t)}},{key:"onDisconnect",value:function(){void 0!==this.runtimePort&&(this.runtimePort.onDisconnect.removeListener(this.onDisconnect.bind(this)),this.runtimePort.onMessage.removeListener(this.onMessage.bind(this)),this.runtimePort=void 0)}},{key:"onMessage",value:function(e){e.messageType===D.LOAD_APPLICATION_DATA?this.quizzardRuntimeEventListener.onLoadApplicationData(e.data):e.messageType===D.UPDATE_STATE?this.quizzardRuntimeEventListener.onStateUpdate(e.data):e.messageType===D.LOGIN?w(this.loginPromise,e.data):e.messageType===D.LOGOUT?w(this.logoutPromise,void 0):e.messageType===D.SIGN_UP?w(this.signUpPromise,e.data):e.messageType===D.ACTIVATE_ACCOUNT?w(this.activationPromise,e.data):e.messageType===D.ACTIVATE_FREE_TRIAL?w(this.freeTrialActivationPromise,e.data):e.messageType===D.FORGOT_PASSWORD?w(this.forgotPasswordPromise,void 0):e.messageType===D.ERROR_OCCURRED&&console.error(e.data)}}],[{key:"initializeRuntime",value:function(t,i){var s=_.connect({name:e.DEFAULT_RUNTIME_ID});return s.onDisconnect.addListener(t),s.onMessage.addListener(i),s}}]),e}();U.DEFAULT_RUNTIME_ID="QuizzardComm";var G=Object(l.a)((function e(){Object(c.a)(this,e)}));G.DefaultSettings={autoSort:!0,autoClear:!1,confidenceThreshold:60,windowPrimaryColor:"#54A0FC",windowSecondaryColor:"#2E86DE"},G.DefaultState={question:"",answers:[],isLoading:!1,noResults:!1,reCAPTCHAData:void 0},G.DefaultThemes=[{name:"Red",primaryColor:"#FD6B6B",secondaryColor:"#EE5253"},{name:"Orange",primaryColor:"#FE9F43",secondaryColor:"#FF8B1C"},{name:"Green",primaryColor:"#21D1A1",secondaryColor:"#19AC84"},{name:"Blue",primaryColor:"#54A0FC",secondaryColor:"#2E86DE"},{name:"Pink",primaryColor:"#FE9FF3",secondaryColor:"#F368DF"},{name:"Black",primaryColor:"#576574",secondaryColor:"#222E3E"},{name:"Purple",primaryColor:"#5F27CD",secondaryColor:"#2E1D8C"},{name:"Brown",primaryColor:"#B76D24",secondaryColor:"#914F0F"}];var M=function(e){return e[e.None=0]="None",e[e.Themes=1]="Themes",e[e.Settings=2]="Settings",e[e.Authentication=3]="Authentication",e}(M||{}),z=function(e){Object(d.a)(i,e);var t=Object(h.a)(i);function i(e){var s;return Object(c.a)(this,i),(s=t.call(this,e)).quizzardRuntime=void 0,s.input=void 0,s.state=i.defaultState,s.input=null,y.get(["state","settings","didAgree","isGold","user","isActivationRequired","signInResetTimeEpoch"],s.onLocalApplicationDataLoaded.bind(Object(u.a)(s))),s.quizzardRuntime=new U(Object(u.a)(s)),s}return Object(l.a)(i,[{key:"componentWillMount",value:function(){void 0!==this.input&&null!==this.input&&this.input.focus()}},{key:"componentWillUnmount",value:function(){this.quizzardRuntime.disconnect()}},{key:"onLoadApplicationData",value:function(e){var t=this.state.currentPopup;t===M.Authentication&&void 0!==e.user&&(t=M.None),!0===(void 0!==e.user&&!0===e.user.isGoldSearch&&void 0!==this.state.state.randomizedPromotion&&!0===this.state.state.randomizedPromotion.promotion.goldPromotion)&&this.setState({state:Object(r.a)(Object(r.a)({},this.state.state),{},{randomizedPromotion:void 0})}),this.setState({themes:e.themes,isGold:e.isGold,user:e.user,currentPopup:t})}},{key:"onStateUpdate",value:function(e){void 0===e.reCAPTCHAData?(void 0!==this.input&&null!==this.input&&(this.input.value=e.question),this.setState({state:e})):this.setState({state:Object(r.a)({},e)})}},{key:"onAuthenticationPopupClosed",value:function(e){void 0!==e&&this.setState({user:{email:e.email,userID:e.userID,isGoldSearch:e.isGoldSearch,isFreeTrialActivated:e.isFreeTrialActivated,goldSearchEndTimeEpoch:e.goldSearchEndTimeEpoch}}),this.quizzardRuntime.resetSignUpSession(),this.setState({currentPopup:M.None})}},{key:"onLocalApplicationDataLoaded",value:function(e){void 0===e.settings&&(e.settings=G.DefaultSettings),!0===e.settings.autoClear&&void 0===e.state.reCAPTCHAData&&(e.state=G.DefaultState),void 0===e.didAgree&&(e.didAgree=!1),void 0!==this.input&&null!==this.input&&(this.input.value=e.state.question),this.setState({settings:e.settings,state:e.state,didAgree:e.didAgree,isGold:e.isGold,user:e.user});var t=M.None;void 0!==e.user&&!0!==e.isActivationRequired||(t=M.Authentication,!1===e.isActivationRequired&&void 0!==e.signInResetTimeEpoch&&(new Date).getTime()<=e.signInResetTimeEpoch&&(t=M.None)),this.setState({currentPopup:t})}},{key:"search",value:function(e){void 0!==e&&0!==e.trim().length&&void 0===this.state.state.reCAPTCHAData&&this.quizzardRuntime.search(e)}},{key:"onEnterKeyPress",value:function(e){var t;"Enter"===e.key&&this.search(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)}},{key:"onReCAPTCHAResult",value:function(e){var t,i=this;if(!1!==(null===e||void 0===e?void 0:e.success)){var s=null===(t=this.input)||void 0===t?void 0:t.value;if(void 0!==s){var n=this.state.state;n.reCAPTCHAData=void 0,n.isLoading=!0,this.setState({state:n}),setTimeout((function(){return i.search(s)}),1e3)}}}},{key:"onPaletteClick",value:function(){this.quizzardRuntime.onThemesClick(),this.setState({currentPopup:this.state.currentPopup===M.Themes?M.None:M.Themes})}},{key:"onPaletteCloseClick",value:function(){this.setState({currentPopup:M.None})}},{key:"onSettingsClick",value:function(e){this.quizzardRuntime.onSettingsClick();var t=!0===e||!1;this.setState({displayGoldPromotion:t,currentPopup:this.state.currentPopup===M.Settings?M.None:M.Settings})}},{key:"onWebsiteClick",value:function(e){this.quizzardRuntime.onWebsiteClick(e)}},{key:"onPromotionClick",value:function(e){this.quizzardRuntime.onPromotionClick(e)}},{key:"onSettingsCloseClick",value:function(e,t,i){this.quizzardRuntime.updateSearchSettings(e,t,i),this.setState({currentPopup:M.None,displayGoldPromotion:!1})}},{key:"onInputChanged",value:function(e){var t,i=(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)||void 0;if(void 0!==i){var s=this.state.state;s.question=i,this.quizzardRuntime.updateApplicationState(this.state.state),this.setState({state:s})}}},{key:"onAppClick",value:function(e){void 0!==e&&null!==e&&"btnTheme"!==e.target.id&&this.setState({currentPopup:M.None})}},{key:"onThemeChange",value:function(e){var t=this.state.settings;t.windowPrimaryColor=e.primaryColor,t.windowSecondaryColor=e.secondaryColor,this.setState({settings:t}),this.quizzardRuntime.updateTheme(e)}},{key:"onClearClick",value:function(e){var t=G.DefaultState;void 0!==this.input&&null!==this.input&&(t.question=this.input.value,!0===e&&(this.input.value="",t.question="")),this.quizzardRuntime.updateApplicationState(t),this.setState({state:t})}},{key:"onResetSignUpSession",value:function(){this.quizzardRuntime.resetSignUpSession()}},{key:"onSignupRequest",value:function(e,t,i){return this.quizzardRuntime.signup(e,t,i)}},{key:"onActivationRequest",value:function(e,t){return this.quizzardRuntime.activate(e,t)}},{key:"onForgotPasswordRequest",value:function(e){return this.quizzardRuntime.forgotPassword(e)}},{key:"onLoginRequest",value:function(e,t,i){return this.quizzardRuntime.login(e,t,i)}},{key:"onLogoutRequest",value:function(){var e=this;this.quizzardRuntime.logout().finally((function(){e.setState({user:void 0})}))}},{key:"onSubscribeRequest",value:function(){this.quizzardRuntime.onSubscribeClick(),void 0!==this.state.user?window.open(i.SUBSCRIPTION_URL,"_blank"):this.setState({currentPopup:M.Authentication})}},{key:"onFreeTrialRequest",value:function(){var e=this;return this.quizzardRuntime.onFreeTrialClick(),void 0===this.state.user?(this.setState({currentPopup:M.Authentication}),Promise.resolve({goldSearchEndTimeEpoch:void 0})):this.quizzardRuntime.activateFreeTrial().then((function(t){var i=t.goldSearchEndTimeEpoch;if(void 0!==e.state.user&&void 0!==i){var s=Object(r.a)(Object(r.a)({},e.state.user),{},{isGoldSearch:!0,goldSearchEndTimeEpoch:i});e.setState({user:s})}return Promise.resolve({goldSearchEndTimeEpoch:i})}))}},{key:"onDisplayLoginPopup",value:function(){this.setState({currentPopup:M.Authentication})}},{key:"onIAgreeClick",value:function(e){this.quizzardRuntime.agreeToTermsOfService(e),this.setState({didAgree:!0})}},{key:"onDiscordClick",value:function(){this.quizzardRuntime.onDiscordClick()}},{key:"onDonateClick",value:function(){this.quizzardRuntime.onDonateClick()}},{key:"render",value:function(){var e,t,s=this;return Object(p.jsxs)("div",{id:"App",className:"App",children:[Object(p.jsx)("header",{onClick:this.onAppClick.bind(this),style:{backgroundColor:this.state.settings.windowPrimaryColor},className:"App-header",children:Object(p.jsxs)("div",{className:"App-Header-Wrapper",children:[Object(p.jsx)("h1",{className:null!==(e=this.state)&&void 0!==e&&null!==(t=e.user)&&void 0!==t&&t.isGoldSearch&&void 0!==this.state.user.goldSearchEndTimeEpoch&&j()<this.state.user.goldSearchEndTimeEpoch?"Quizzard-Gold":"",children:i.APPLICATION_NAME}),Object(p.jsx)("input",{onChange:this.onInputChanged.bind(this),ref:function(e){return s.input=e},style:{backgroundColor:this.state.settings.windowSecondaryColor},className:"search-bar",placeholder:"What is the capital of canada?",name:"input",onKeyPress:this.onEnterKeyPress.bind(this)}),Object(p.jsx)("button",{id:"btnTheme",className:"btn",onClick:this.onPaletteClick.bind(this),children:Object(p.jsx)("img",{id:"btnTheme",src:"img/palette.svg",alt:"Change Theme"})})]})}),Object(p.jsx)(b,{reCAPTCHAData:this.state.state.reCAPTCHAData,onReCAPTCHAResult:this.onReCAPTCHAResult.bind(this),isLoading:this.state.state.isLoading,randomizedPromotion:this.state.state.randomizedPromotion,settings:this.state.settings,results:this.state.state.answers,onClearClick:this.onClearClick.bind(this),onSettingsClick:this.onSettingsClick.bind(this),onWebsiteClick:this.onWebsiteClick.bind(this),onPromotionClick:this.onPromotionClick.bind(this),question:this.state.state.question,noResults:!1===this.state.state.isLoading&&!0===this.state.state.noResults&&0!==this.state.state.question.trim().length}),Object(p.jsxs)(n.a.Fragment,{children:[Object(p.jsx)(E,{onLoginOrSignUp:this.onDisplayLoginPopup.bind(this),onLogout:this.onLogoutRequest.bind(this),onDiscordClick:this.onDiscordClick.bind(this),onDonateClick:this.onDonateClick.bind(this),onFreeTrial:this.onFreeTrialRequest.bind(this),onSubscribe:this.onSubscribeRequest.bind(this),settings:this.state.settings,user:this.state.user,display:this.state.currentPopup===M.Settings&&!0===this.state.didAgree,displayGoldPromotion:this.state.displayGoldPromotion,onClose:this.onSettingsCloseClick.bind(this)}),Object(p.jsx)(C,{themes:this.state.themes,display:this.state.currentPopup===M.Themes&&!0===this.state.didAgree,selectedColor:this.state.settings.windowPrimaryColor,onThemeChange:this.onThemeChange.bind(this),onCloseClick:this.onPaletteCloseClick.bind(this)}),Object(p.jsx)(L,{display:this.state.currentPopup===M.Authentication,onResetSignUpSession:this.onResetSignUpSession.bind(this),onPopupClosed:this.onAuthenticationPopupClosed.bind(this),onForgotPassword:this.onForgotPasswordRequest.bind(this),onLogin:this.onLoginRequest.bind(this),onSignUp:this.onSignupRequest.bind(this),onActivate:this.onActivationRequest.bind(this)}),Object(p.jsx)(I,{display:this.state.currentPopup!==M.Authentication&&!1===this.state.didAgree,onIAgreeClick:this.onIAgreeClick.bind(this)})]})]})}}],[{key:"defaultState",get:function(){return{settings:G.DefaultSettings,state:G.DefaultState,themes:G.DefaultThemes,currentPopup:M.None,displayGoldPromotion:!1,didAgree:!0,isGold:!1,user:void 0}}}]),i}(n.a.Component);z.APPLICATION_NAME="Quizzard",z.SUBSCRIPTION_URL="https://www.quizzardapp.com/quizzard-gold";var B=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,31)).then((function(t){var i=t.getCLS,s=t.getFID,n=t.getFCP,o=t.getLCP,a=t.getTTFB;i(e),s(e),n(e),o(e),a(e)}))};i(29);a.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(z,{})}),document.getElementById("root")),B()}},[[30,1,2]]]);
//# sourceMappingURL=main.70cb16fb.chunk.js.map
"use strict";(self.webpackChunk_dashlane_leeloo=self.webpackChunk_dashlane_leeloo||[]).push([[1088],{31088:(e,n,t)=>{t.r(n),t.d(n,{default:()=>P});var r=t(54793),a=t(61468),o=t(48038),c=t(96832),i=t(80669);const l=e=>{const n=c.useCallback((n=>e.client[n.name]),[e.client]),t=c.useMemo((()=>({appClient:{getModuleClient:n}})),[n]);return c.createElement(i.I.Provider,{value:t},e.children)};var s=t(92077),d=t(29004),u=t(68976),h=t(37527);function _(e,n,t){const r=e[n]||(()=>0);e[n]=()=>{r.call(e),t.call(e)}}function m(e,n){let t=null;const r=function(n){let r=!1;return()=>{r||(r=!0,window.requestAnimationFrame&&window.requestAnimationFrame((()=>{t&&e.forceUpdate(),r=!1})))}}();_(e,"componentDidMount",(()=>{t=n.subscribe(r),r()})),_(e,"componentWillUnmount",(()=>{t&&t(),t=null}))}class p extends c.Component{getChildContext(){return{}}constructor(e){super(e),m(this,this.props.store)}render(){return c.Children.only(this.props.children)}}p.childContextTypes={};var C=t(68593);const Z=e=>(0,C.tZ)("div",{children:c.Children.only(e.children)}),g=e=>(0,C.tZ)(Z,{children:(0,C.tZ)(p,{store:e.store,children:c.Children.only(e.children)})});var v=t(14900),x=t(24507),k=t(84921);const y=({children:e})=>{const{data:n}=(0,x.k)(k.Z,"getTheme");return(0,a.Fg)(n),(0,C.tZ)(C.HY,{children:e})},f=e=>(0,C.tZ)(v.f6W,{theme:(0,a.It)(a.uH,v.uHP),children:(0,C.tZ)(a.SG,{children:(0,C.tZ)(y,{children:e.children})})});var b=t(7344),w=t(35001),D=t(45272);const S=c.createContext(""),z=({children:e})=>{const n=(0,D.tJ)();return(0,C.tZ)(S.Provider,{value:n,children:e})};var X,B,E,I,N=t(5465),U=t(41339),F=t(88203),O=t(62609);const T={display:"flex",alignItems:"center",gap:"8px"},Y=({handleConsentSet:e})=>{const[n,t]=(0,c.useState)({interactionDataConsent:!0,personalDataConsent:!0}),{translate:r}=(0,F.Z)();return(0,C.BX)(O.p,{title:r("account_creation_user_consent_title"),children:[(0,C.tZ)(a.XZ,{readOnly:!0,checked:!0,label:r("account_creation_user_consent_mandatory_checkbox")}),(0,C.BX)(a.kC,{flexDirection:"column",gap:"8px",sx:{backgroundColor:"ds.container.agnostic.neutral.quiet",padding:"8px"},children:[(0,C.tZ)(a.nv,{children:r("account_creation_user_consent_mandatory_description")}),(0,C.BX)(a.nv,{sx:T,children:[X||(X=(0,C.tZ)(a.vY,{name:"LockOutlined",size:"medium"})),r("account_creation_user_consent_create_account")]}),(0,C.BX)(a.nv,{sx:T,children:[B||(B=(0,C.tZ)(a.vY,{name:"FeatureAutofillOutlined",size:"medium"})),r("account_creation_user_consent_autofill")]})]}),(0,C.tZ)(a.XZ,{checked:n.interactionDataConsent,label:r("account_creation_user_consent_optional_checkbox"),onChange:e=>{return"interactionDataConsent",n=e.currentTarget.checked,void t((e=>({...e,interactionDataConsent:n})));var n}}),(0,C.BX)(a.kC,{flexDirection:"column",gap:"8px",sx:{backgroundColor:"ds.container.agnostic.neutral.quiet",padding:"8px"},children:[(0,C.tZ)(a.nv,{children:r("account_creation_user_consent_optional_description")}),(0,C.BX)(a.nv,{sx:T,children:[E||(E=(0,C.tZ)(a.vY,{name:"DashboardOutlined",size:"medium"})),r("account_creation_user_consent_tracking")]}),(0,C.BX)(a.nv,{sx:T,children:[I||(I=(0,C.tZ)(a.vY,{name:"TipOutlined",size:"medium"})),r("account_creation_user_consent_improve")]})]}),(0,C.tZ)(a.nv,{textStyle:"ds.body.reduced.regular",sx:{marginBottom:"24px"},children:r.markup("account_creation_user_consent_disclaimer_markup",{},{linkTarget:"_blank"})}),(0,C.BX)(a.kC,{gap:"12px",justifyContent:"flex-end",children:[(0,C.tZ)(a.zx,{mood:"neutral",intensity:"supershy",size:"large",onClick:async()=>{await((0,U.Ez)("management.uninstallSelf")?chrome.management.uninstallSelf(undefined):Promise.reject(new Error("No management.uninstallSelf support")))},children:r("account_creation_user_consent_decline")}),(0,C.tZ)(a.zx,{intensity:"catchy",size:"large",onClick:async()=>{await e(n)},children:r("account_creation_user_consent_agree")})]})]})};var q=t(91432);const A=({children:e})=>{const{setUserConsent:n,getUserConsent:t}={getIsConsentNeeded:async()=>!0!==(await N.C.getGlobalExtensionSettings()).personalDataConsent,setUserConsent:async e=>await N.C.setGlobalExtensionSettings(e),getUserConsent:async()=>await N.C.getGlobalExtensionSettings()},[r,a]=(0,c.useState)(void 0);return(0,c.useEffect)((()=>{void 0===r&&t().then((e=>{null!==e.interactionDataConsent||null!==e.personalDataConsent?a(!1):a(!0)}))}),[t,r]),r?(0,C.tZ)(q.s,{children:(0,C.tZ)(Y,{handleConsentSet:async e=>{await n(e),a(!1)}})}):e};var G=t(99494);const P=e=>{const n={host:e.host,reducer:b.Z,store:e.store,translate:e.translate,routes:e.namedRoutes};return(0,C.tZ)(g,{store:e.store,children:(0,C.tZ)(l,{client:e.coreClient,children:(0,C.tZ)(o.wz,{channel:e.carbonChannel,children:(0,C.tZ)(s.F0,{history:e.history,children:(0,C.tZ)(r.zt,{store:e.store,children:(0,C.tZ)(f,{children:(0,C.tZ)(d.b,{value:{translate:e.translate},children:(0,C.tZ)(u.u,{portalId:"alert-popup-portal",children:(0,C.tZ)(a.VW,{portalId:h.ex,defaultCloseActionLabel:e.translate("_common_toast_close_label"),sectionName:e.translate("_common_toast_section_name"),itemName:e.translate("_common_toast_item_name"),children:(0,C.tZ)(s.v1,{value:n,children:(0,C.tZ)(z,{children:(0,C.tZ)(w.r,{moduleName:"leeloo-routes",useCaseName:e.history.location.pathname,children:(0,C.tZ)(A,{children:(0,C.tZ)(G.e,{children:e.routes})})})})})})})})})})})})})})}}}]);
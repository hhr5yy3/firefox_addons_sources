(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=s(r);fetch(r.href,i)}})();const z={context:void 0,registry:void 0,effects:void 0,done:!1,getContextId(){return Is(this.context.count)},getNextContextId(){return Is(this.context.count++)}};function Is(e){const t=String(e),s=t.length-1;return z.context.id+(s?String.fromCharCode(96+s):"")+t}function Ye(e){z.context=e}const $r=(e,t)=>e===t,Rt=Symbol("solid-proxy"),jr=Symbol("solid-track"),Ot={equals:$r};let un=bn;const _e=1,Mt=2,dn={owned:null,cleanups:null,context:null,owner:null},Xt={};var G=null;let ze=null,Ar=null,W=null,Y=null,me=null,Ft=0;function tt(e,t){const s=W,n=G,r=e.length===0,i=t===void 0?n:t,a=r?dn:{owned:null,cleanups:null,context:i?i.context:null,owner:i},o=r?e:()=>e(()=>te(()=>Gt(a)));G=a,W=null;try{return we(o,!0)}finally{W=s,G=n}}function q(e,t){t=t?Object.assign({},Ot,t):Ot;const s={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},n=r=>(typeof r=="function"&&(r=r(s.value)),fn(s,r));return[hn.bind(s),n]}function Ds(e,t,s){const n=qt(e,t,!0,_e);Fe(n)}function x(e,t,s){const n=qt(e,t,!1,_e);Fe(n)}function bs(e,t,s){un=Lr;const n=qt(e,t,!1,_e),r=Be&&ps(Be);r&&(n.suspense=r),n.user=!0,me?me.push(n):Fe(n)}function H(e,t,s){s=s?Object.assign({},Ot,s):Ot;const n=qt(e,t,!0,0);return n.observers=null,n.observerSlots=null,n.comparator=s.equals||void 0,Fe(n),hn.bind(n)}function kr(e){return e&&typeof e=="object"&&"then"in e}function Z(e,t,s){let n,r,i;arguments.length===2&&typeof t=="object"||arguments.length===1?(n=!0,r=e,i={}):(n=e,r=t,i={});let a=null,o=Xt,l=null,m=!1,c=!1,d="initialValue"in i,A=typeof n=="function"&&H(n);const j=new Set,[C,T]=(i.storage||q)(i.initialValue),[I,U]=q(void 0),[N,B]=q(void 0,{equals:!1}),[F,p]=q(d?"ready":"unresolved");z.context&&(l=z.getNextContextId(),i.ssrLoadFrom==="initial"?o=i.initialValue:z.load&&z.has(l)&&(o=z.load(l)));function _(R,M,w,y){return a===R&&(a=null,y!==void 0&&(d=!0),(R===o||M===o)&&i.onHydrated&&queueMicrotask(()=>i.onHydrated(y,{value:M})),o=Xt,f(M,w)),M}function f(R,M){we(()=>{M===void 0&&T(()=>R),p(M!==void 0?"errored":d?"ready":"unresolved"),U(M);for(const w of j.keys())w.decrement();j.clear()},!1)}function E(){const R=Be&&ps(Be),M=C(),w=I();if(w!==void 0&&!a)throw w;return W&&!W.user&&R&&Ds(()=>{N(),a&&(R.resolved&&ze&&m?ze.promises.add(a):j.has(R)||(R.increment(),j.add(R)))}),M}function L(R=!0){if(R!==!1&&c)return;c=!1;const M=A?A():n;if(m=ze,M==null||M===!1){_(a,te(C));return}const w=o!==Xt?o:te(()=>r(M,{value:C(),refetching:R}));return kr(w)?(a=w,"value"in w?(w.status==="success"?_(a,w.value,void 0,M):_(a,void 0,is(w.value),M),w):(c=!0,queueMicrotask(()=>c=!1),we(()=>{p(d?"refreshing":"pending"),B()},!1),w.then(y=>_(w,y,void 0,M),y=>_(w,void 0,is(y),M)))):(_(a,w,void 0,M),w)}return Object.defineProperties(E,{state:{get:()=>F()},error:{get:()=>I()},loading:{get(){const R=F();return R==="pending"||R==="refreshing"}},latest:{get(){if(!d)return E();const R=I();if(R&&!a)throw R;return C()}}}),A?Ds(()=>L(!1)):L(!1),[E,{refetch:L,mutate:T}]}function z1(e){return we(e,!1)}function te(e){if(W===null)return e();const t=W;W=null;try{return e()}finally{W=t}}function vs(e){bs(()=>te(e))}function Ht(e){return G===null||(G.cleanups===null?G.cleanups=[e]:G.cleanups.push(e)),e}function U1(){return W}function Sr(){return G}function xr(e){me.push.apply(me,e),e.length=0}function mn(e,t){const s=Symbol("context");return{id:s,Provider:Rr(s),defaultValue:e}}function ps(e){let t;return G&&G.context&&(t=G.context[e.id])!==void 0?t:e.defaultValue}function gn(e){const t=H(e),s=H(()=>as(t()));return s.toArray=()=>{const n=s();return Array.isArray(n)?n:n!=null?[n]:[]},s}let Be;function Cr(){return Be||(Be=mn())}function hn(){if(this.sources&&this.state)if(this.state===_e)Fe(this);else{const e=Y;Y=null,we(()=>It(this),!1),Y=e}if(W){const e=this.observers?this.observers.length:0;W.sources?(W.sources.push(this),W.sourceSlots.push(e)):(W.sources=[this],W.sourceSlots=[e]),this.observers?(this.observers.push(W),this.observerSlots.push(W.sources.length-1)):(this.observers=[W],this.observerSlots=[W.sources.length-1])}return this.value}function fn(e,t,s){let n=e.value;return(!e.comparator||!e.comparator(n,t))&&(e.value=t,e.observers&&e.observers.length&&we(()=>{for(let r=0;r<e.observers.length;r+=1){const i=e.observers[r],a=ze&&ze.running;a&&ze.disposed.has(i),(a?!i.tState:!i.state)&&(i.pure?Y.push(i):me.push(i),i.observers&&vn(i)),a||(i.state=_e)}if(Y.length>1e6)throw Y=[],new Error},!1)),t}function Fe(e){if(!e.fn)return;Gt(e);const t=Ft;Tr(e,e.value,t)}function Tr(e,t,s){let n;const r=G,i=W;W=G=e;try{n=e.fn(t)}catch(a){return e.pure&&(e.state=_e,e.owned&&e.owned.forEach(Gt),e.owned=null),e.updatedAt=s+1,pn(a)}finally{W=i,G=r}(!e.updatedAt||e.updatedAt<=s)&&(e.updatedAt!=null&&"observers"in e?fn(e,n):e.value=n,e.updatedAt=s)}function qt(e,t,s,n=_e,r){const i={fn:e,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:G,context:G?G.context:null,pure:s};return G===null||G!==dn&&(G.owned?G.owned.push(i):G.owned=[i]),i}function Pt(e){if(e.state===0)return;if(e.state===Mt)return It(e);if(e.suspense&&te(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Ft);)e.state&&t.push(e);for(let s=t.length-1;s>=0;s--)if(e=t[s],e.state===_e)Fe(e);else if(e.state===Mt){const n=Y;Y=null,we(()=>It(e,t[0]),!1),Y=n}}function we(e,t){if(Y)return e();let s=!1;t||(Y=[]),me?s=!0:me=[],Ft++;try{const n=e();return Er(s),n}catch(n){s||(me=null),Y=null,pn(n)}}function Er(e){if(Y&&(bn(Y),Y=null),e)return;const t=me;me=null,t.length&&we(()=>un(t),!1)}function bn(e){for(let t=0;t<e.length;t++)Pt(e[t])}function Lr(e){let t,s=0;for(t=0;t<e.length;t++){const n=e[t];n.user?e[s++]=n:Pt(n)}if(z.context){if(z.count){z.effects||(z.effects=[]),z.effects.push(...e.slice(0,s));return}Ye()}for(z.effects&&(z.done||!z.count)&&(e=[...z.effects,...e],s+=z.effects.length,delete z.effects),t=0;t<s;t++)Pt(e[t])}function It(e,t){e.state=0;for(let s=0;s<e.sources.length;s+=1){const n=e.sources[s];if(n.sources){const r=n.state;r===_e?n!==t&&(!n.updatedAt||n.updatedAt<Ft)&&Pt(n):r===Mt&&It(n,t)}}}function vn(e){for(let t=0;t<e.observers.length;t+=1){const s=e.observers[t];s.state||(s.state=Mt,s.pure?Y.push(s):me.push(s),s.observers&&vn(s))}}function Gt(e){let t;if(e.sources)for(;e.sources.length;){const s=e.sources.pop(),n=e.sourceSlots.pop(),r=s.observers;if(r&&r.length){const i=r.pop(),a=s.observerSlots.pop();n<r.length&&(i.sourceSlots[a]=n,r[n]=i,s.observerSlots[n]=a)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)Gt(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function is(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function pn(e,t=G){throw is(e)}function as(e){if(typeof e=="function"&&!e.length)return as(e());if(Array.isArray(e)){const t=[];for(let s=0;s<e.length;s++){const n=as(e[s]);Array.isArray(n)?t.push.apply(t,n):t.push(n)}return t}return e}function Rr(e,t){return function(n){let r;return x(()=>r=te(()=>(G.context={...G.context,[e]:n.value},gn(()=>n.children))),void 0),r}}const Or=Symbol("fallback");function zs(e){for(let t=0;t<e.length;t++)e[t]()}function Mr(e,t,s={}){let n=[],r=[],i=[],a=0,o=t.length>1?[]:null;return Ht(()=>zs(i)),()=>{let l=e()||[],m=l.length,c,d;return l[jr],te(()=>{let j,C,T,I,U,N,B,F,p;if(m===0)a!==0&&(zs(i),i=[],n=[],r=[],a=0,o&&(o=[])),s.fallback&&(n=[Or],r[0]=tt(_=>(i[0]=_,s.fallback())),a=1);else if(a===0){for(r=new Array(m),d=0;d<m;d++)n[d]=l[d],r[d]=tt(A);a=m}else{for(T=new Array(m),I=new Array(m),o&&(U=new Array(m)),N=0,B=Math.min(a,m);N<B&&n[N]===l[N];N++);for(B=a-1,F=m-1;B>=N&&F>=N&&n[B]===l[F];B--,F--)T[F]=r[B],I[F]=i[B],o&&(U[F]=o[B]);for(j=new Map,C=new Array(F+1),d=F;d>=N;d--)p=l[d],c=j.get(p),C[d]=c===void 0?-1:c,j.set(p,d);for(c=N;c<=B;c++)p=n[c],d=j.get(p),d!==void 0&&d!==-1?(T[d]=r[c],I[d]=i[c],o&&(U[d]=o[c]),d=C[d],j.set(p,d)):i[c]();for(d=N;d<m;d++)d in T?(r[d]=T[d],i[d]=I[d],o&&(o[d]=U[d],o[d](d))):r[d]=tt(A);r=r.slice(0,a=m),n=l.slice(0)}return r});function A(j){if(i[d]=j,o){const[C,T]=q(d);return o[d]=T,t(l[d],C)}return t(l[d])}}}function v(e,t){return te(()=>e(t||{}))}function $t(){return!0}const os={get(e,t,s){return t===Rt?s:e.get(t)},has(e,t){return t===Rt?!0:e.has(t)},set:$t,deleteProperty:$t,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:$t,deleteProperty:$t}},ownKeys(e){return e.keys()}};function es(e){return(e=typeof e=="function"?e():e)?e:{}}function Pr(){for(let e=0,t=this.length;e<t;++e){const s=this[e]();if(s!==void 0)return s}}function Ir(...e){let t=!1;for(let a=0;a<e.length;a++){const o=e[a];t=t||!!o&&Rt in o,e[a]=typeof o=="function"?(t=!0,H(o)):o}if(t)return new Proxy({get(a){for(let o=e.length-1;o>=0;o--){const l=es(e[o])[a];if(l!==void 0)return l}},has(a){for(let o=e.length-1;o>=0;o--)if(a in es(e[o]))return!0;return!1},keys(){const a=[];for(let o=0;o<e.length;o++)a.push(...Object.keys(es(e[o])));return[...new Set(a)]}},os);const s={},n=Object.create(null);for(let a=e.length-1;a>=0;a--){const o=e[a];if(!o)continue;const l=Object.getOwnPropertyNames(o);for(let m=l.length-1;m>=0;m--){const c=l[m];if(c==="__proto__"||c==="constructor")continue;const d=Object.getOwnPropertyDescriptor(o,c);if(!n[c])n[c]=d.get?{enumerable:!0,configurable:!0,get:Pr.bind(s[c]=[d.get.bind(o)])}:d.value!==void 0?d:void 0;else{const A=s[c];A&&(d.get?A.push(d.get.bind(o)):d.value!==void 0&&A.push(()=>d.value))}}}const r={},i=Object.keys(n);for(let a=i.length-1;a>=0;a--){const o=i[a],l=n[o];l&&l.get?Object.defineProperty(r,o,l):r[o]=l?l.value:void 0}return r}function Dr(e,...t){if(Rt in e){const r=new Set(t.length>1?t.flat():t[0]),i=t.map(a=>new Proxy({get(o){return a.includes(o)?e[o]:void 0},has(o){return a.includes(o)&&o in e},keys(){return a.filter(o=>o in e)}},os));return i.push(new Proxy({get(a){return r.has(a)?void 0:e[a]},has(a){return r.has(a)?!1:a in e},keys(){return Object.keys(e).filter(a=>!r.has(a))}},os)),i}const s={},n=t.map(()=>({}));for(const r of Object.getOwnPropertyNames(e)){const i=Object.getOwnPropertyDescriptor(e,r),a=!i.get&&!i.set&&i.enumerable&&i.writable&&i.configurable;let o=!1,l=0;for(const m of t)m.includes(r)&&(o=!0,a?n[l][r]=i.value:Object.defineProperty(n[l],r,i)),++l;o||(a?s[r]=i.value:Object.defineProperty(s,r,i))}return[...n,s]}const _n=e=>`Stale read from <${e}>.`;function re(e){const t="fallback"in e&&{fallback:()=>e.fallback};return H(Mr(()=>e.each,e.children,t||void 0))}function J(e){const t=e.keyed,s=H(()=>e.when,void 0,{equals:(n,r)=>t?n===r:!n==!r});return H(()=>{const n=s();if(n){const r=e.children;return typeof r=="function"&&r.length>0?te(()=>r(t?n:()=>{if(!te(s))throw _n("Show");return e.when})):r}return e.fallback},void 0,void 0)}function Us(e){let t=!1;const s=(i,a)=>(t?i[1]===a[1]:!i[1]==!a[1])&&i[2]===a[2],n=gn(()=>e.children),r=H(()=>{let i=n();Array.isArray(i)||(i=[i]);for(let a=0;a<i.length;a++){const o=i[a].when;if(o)return t=!!i[a].keyed,[a,o,i[a]]}return[-1]},void 0,{equals:s});return H(()=>{const[i,a,o]=r();if(i<0)return e.fallback;const l=o.children;return typeof l=="function"&&l.length>0?te(()=>l(t?a:()=>{if(te(r)[0]!==i)throw _n("Match");return o.when})):l},void 0,void 0)}function jt(e){return e}const zr=mn();function yn(e){let t=0,s,n,r,i,a;const[o,l]=q(!1),m=Cr(),c={increment:()=>{++t===1&&l(!0)},decrement:()=>{--t===0&&l(!1)},inFallback:o,effects:[],resolved:!1},d=Sr();if(z.context&&z.load){const C=z.getContextId();let T=z.load(C);if(T&&(typeof T!="object"||T.status!=="success"?r=T:z.gather(C)),r&&r!=="$$f"){const[I,U]=q(void 0,{equals:!1});i=I,r.then(()=>{if(z.done)return U();z.gather(C),Ye(n),U(),Ye()},N=>{a=N,U()})}}const A=ps(zr);A&&(s=A.register(c.inFallback));let j;return Ht(()=>j&&j()),v(m.Provider,{value:c,get children(){return H(()=>{if(a)throw a;if(n=z.context,i)return i(),i=void 0;n&&r==="$$f"&&Ye();const C=H(()=>e.children);return H(T=>{const I=c.inFallback(),{showContent:U=!0,showFallback:N=!0}=s?s():{};if((!I||r&&r!=="$$f")&&U)return c.resolved=!0,j&&j(),j=n=r=void 0,xr(c.effects),C();if(N)return j?T:tt(B=>(j=B,n&&(Ye({id:n.id+"F",count:0}),n=void 0),e.fallback),d)})})}})}const Ur=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],Nr=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...Ur]),Br=new Set(["innerHTML","textContent","innerText","children"]),Fr=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Hr=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function qr(e,t){const s=Hr[e];return typeof s=="object"?s[t]?s.$:void 0:s}const Gr=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Vr=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),Wr={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function Kr(e,t,s){let n=s.length,r=t.length,i=n,a=0,o=0,l=t[r-1].nextSibling,m=null;for(;a<r||o<i;){if(t[a]===s[o]){a++,o++;continue}for(;t[r-1]===s[i-1];)r--,i--;if(r===a){const c=i<n?o?s[o-1].nextSibling:s[i-o]:l;for(;o<i;)e.insertBefore(s[o++],c)}else if(i===o)for(;a<r;)(!m||!m.has(t[a]))&&t[a].remove(),a++;else if(t[a]===s[i-1]&&s[o]===t[r-1]){const c=t[--r].nextSibling;e.insertBefore(s[o++],t[a++].nextSibling),e.insertBefore(s[--i],c),t[r]=s[i]}else{if(!m){m=new Map;let d=o;for(;d<i;)m.set(s[d],d++)}const c=m.get(t[a]);if(c!=null)if(o<c&&c<i){let d=a,A=1,j;for(;++d<r&&d<i&&!((j=m.get(t[d]))==null||j!==c+A);)A++;if(A>c-o){const C=t[a];for(;o<c;)e.insertBefore(s[o++],C)}else e.replaceChild(s[o++],t[a++])}else a++;else t[a++].remove()}}}const Ns="_$DX_DELEGATE";function N1(e,t,s,n={}){let r;return tt(i=>{r=i,t===document?e():u(t,e(),t.firstChild?null:void 0,s)},n.owner),()=>{r(),t.textContent=""}}function b(e,t,s){let n;const r=()=>{const a=document.createElement("template");return a.innerHTML=e,s?a.content.firstChild.firstChild:a.content.firstChild},i=t?()=>te(()=>document.importNode(n||(n=r()),!0)):()=>(n||(n=r())).cloneNode(!0);return i.cloneNode=i,i}function he(e,t=window.document){const s=t[Ns]||(t[Ns]=new Set);for(let n=0,r=e.length;n<r;n++){const i=e[n];s.has(i)||(s.add(i),t.addEventListener(i,ti))}}function P(e,t,s){He(e)||(s==null?e.removeAttribute(t):e.setAttribute(t,s))}function Jr(e,t,s,n){He(e)||(n==null?e.removeAttributeNS(t,s):e.setAttributeNS(t,s,n))}function $(e,t){He(e)||(t==null?e.removeAttribute("class"):e.className=t)}function wn(e,t,s,n){if(n)Array.isArray(s)?(e[`$$${t}`]=s[0],e[`$$${t}Data`]=s[1]):e[`$$${t}`]=s;else if(Array.isArray(s)){const r=s[0];e.addEventListener(t,s[0]=i=>r.call(e,s[1],i))}else e.addEventListener(t,s)}function Qr(e,t,s={}){const n=Object.keys(t||{}),r=Object.keys(s);let i,a;for(i=0,a=r.length;i<a;i++){const o=r[i];!o||o==="undefined"||t[o]||(Bs(e,o,!1),delete s[o])}for(i=0,a=n.length;i<a;i++){const o=n[i],l=!!t[o];!o||o==="undefined"||s[o]===l||!l||(Bs(e,o,!0),s[o]=l)}return s}function Yr(e,t,s){if(!t)return s?P(e,"style"):t;const n=e.style;if(typeof t=="string")return n.cssText=t;typeof s=="string"&&(n.cssText=s=void 0),s||(s={}),t||(t={});let r,i;for(i in s)t[i]==null&&n.removeProperty(i),delete s[i];for(i in t)r=t[i],r!==s[i]&&(n.setProperty(i,r),s[i]=r);return s}function $n(e,t={},s,n){const r={};return n||x(()=>r.children=rt(e,t.children,r.children)),x(()=>typeof t.ref=="function"&&Vt(t.ref,e)),x(()=>Zr(e,t,s,!0,r,!0)),r}function Vt(e,t,s){return te(()=>e(t,s))}function u(e,t,s,n){if(s!==void 0&&!n&&(n=[]),typeof t!="function")return rt(e,t,n,s);x(r=>rt(e,t(),r,s),n)}function Zr(e,t,s,n,r={},i=!1){t||(t={});for(const a in r)if(!(a in t)){if(a==="children")continue;r[a]=Fs(e,a,null,r[a],s,i)}for(const a in t){if(a==="children")continue;const o=t[a];r[a]=Fs(e,a,o,r[a],s,i)}}function Xr(e){let t,s;return!He()||!(t=z.registry.get(s=si()))?e():(z.completed&&z.completed.add(t),z.registry.delete(s),t)}function He(e){return!!z.context&&!z.done&&(!e||e.isConnected)}function ei(e){return e.toLowerCase().replace(/-([a-z])/g,(t,s)=>s.toUpperCase())}function Bs(e,t,s){const n=t.trim().split(/\s+/);for(let r=0,i=n.length;r<i;r++)e.classList.toggle(n[r],s)}function Fs(e,t,s,n,r,i){let a,o,l,m,c;if(t==="style")return Yr(e,s,n);if(t==="classList")return Qr(e,s,n);if(s===n)return n;if(t==="ref")i||s(e);else if(t.slice(0,3)==="on:"){const d=t.slice(3);n&&e.removeEventListener(d,n),s&&e.addEventListener(d,s)}else if(t.slice(0,10)==="oncapture:"){const d=t.slice(10);n&&e.removeEventListener(d,n,!0),s&&e.addEventListener(d,s,!0)}else if(t.slice(0,2)==="on"){const d=t.slice(2).toLowerCase(),A=Gr.has(d);if(!A&&n){const j=Array.isArray(n)?n[0]:n;e.removeEventListener(d,j)}(A||s)&&(wn(e,d,s,A),A&&he([d]))}else if(t.slice(0,5)==="attr:")P(e,t.slice(5),s);else if((c=t.slice(0,5)==="prop:")||(l=Br.has(t))||!r&&((m=qr(t,e.tagName))||(o=Nr.has(t)))||(a=e.nodeName.includes("-"))){if(c)t=t.slice(5),o=!0;else if(He(e))return s;t==="class"||t==="className"?$(e,s):a&&!o&&!l?e[ei(t)]=s:e[m||t]=s}else{const d=r&&t.indexOf(":")>-1&&Wr[t.split(":")[0]];d?Jr(e,d,t,s):P(e,Fr[t]||t,s)}return s}function ti(e){if(z.registry&&z.events&&z.events.find(([n,r])=>r===e))return;const t=`$$${e.type}`;let s=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==s&&Object.defineProperty(e,"target",{configurable:!0,value:s}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return s||document}}),z.registry&&!z.done&&(z.done=_$HY.done=!0);s;){const n=s[t];if(n&&!s.disabled){const r=s[`${t}Data`];if(r!==void 0?n.call(s,r,e):n.call(s,e),e.cancelBubble)return}s=s._$host||s.parentNode||s.host}}function rt(e,t,s,n,r){const i=He(e);if(i){!s&&(s=[...e.childNodes]);let l=[];for(let m=0;m<s.length;m++){const c=s[m];c.nodeType===8&&c.data.slice(0,2)==="!$"?c.remove():l.push(c)}s=l}for(;typeof s=="function";)s=s();if(t===s)return s;const a=typeof t,o=n!==void 0;if(e=o&&s[0]&&s[0].parentNode||e,a==="string"||a==="number"){if(i||a==="number"&&(t=t.toString(),t===s))return s;if(o){let l=s[0];l&&l.nodeType===3?l.data!==t&&(l.data=t):l=document.createTextNode(t),s=Le(e,s,n,l)}else s!==""&&typeof s=="string"?s=e.firstChild.data=t:s=e.textContent=t}else if(t==null||a==="boolean"){if(i)return s;s=Le(e,s,n)}else{if(a==="function")return x(()=>{let l=t();for(;typeof l=="function";)l=l();s=rt(e,l,s,n)}),()=>s;if(Array.isArray(t)){const l=[],m=s&&Array.isArray(s);if(ls(l,t,s,r))return x(()=>s=rt(e,l,s,n,!0)),()=>s;if(i){if(!l.length)return s;if(n===void 0)return s=[...e.childNodes];let c=l[0];if(c.parentNode!==e)return s;const d=[c];for(;(c=c.nextSibling)!==n;)d.push(c);return s=d}if(l.length===0){if(s=Le(e,s,n),o)return s}else m?s.length===0?Hs(e,l,n):Kr(e,s,l):(s&&Le(e),Hs(e,l));s=l}else if(t.nodeType){if(i&&t.parentNode)return s=o?[t]:t;if(Array.isArray(s)){if(o)return s=Le(e,s,n,t);Le(e,s,null,t)}else s==null||s===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);s=t}}return s}function ls(e,t,s,n){let r=!1;for(let i=0,a=t.length;i<a;i++){let o=t[i],l=s&&s[e.length],m;if(!(o==null||o===!0||o===!1))if((m=typeof o)=="object"&&o.nodeType)e.push(o);else if(Array.isArray(o))r=ls(e,o,l)||r;else if(m==="function")if(n){for(;typeof o=="function";)o=o();r=ls(e,Array.isArray(o)?o:[o],Array.isArray(l)?l:[l])||r}else e.push(o),r=!0;else{const c=String(o);l&&l.nodeType===3&&l.data===c?e.push(l):e.push(document.createTextNode(c))}}return r}function Hs(e,t,s=null){for(let n=0,r=t.length;n<r;n++)e.insertBefore(t[n],s)}function Le(e,t,s,n){if(s===void 0)return e.textContent="";const r=n||document.createTextNode("");if(t.length){let i=!1;for(let a=t.length-1;a>=0;a--){const o=t[a];if(r!==o){const l=o.parentNode===e;!i&&!a?l?e.replaceChild(r,o):e.insertBefore(r,s):l&&o.remove()}else i=!0}}else e.insertBefore(r,s);return[r]}function si(){return z.getNextContextId()}const ni="http://www.w3.org/2000/svg";function ri(e,t=!1){return t?document.createElementNS(ni,e):document.createElement(e)}function jn(e){const[t,s]=Dr(e,["component"]),n=H(()=>t.component);return H(()=>{const r=n();switch(typeof r){case"function":return te(()=>r(s));case"string":const i=Vr.has(r),a=z.context?Xr():ri(r,i);return $n(a,s,i),a}})}const ii="_alertPopup_3145g_1",ai="_widePopup_3145g_2",oi="_bigIcon_3145g_21",li="_notRedAnchor_3145g_38",ci="_alreadyPlaying_3145g_42",ui="_expandVector_3145g_52",di="_nowPlayingPopup_3145g_59",mi="_coverArtWrapper_3145g_65",gi="_coverArtBackground_3145g_68",hi="_coverArt_3145g_65",fi="_songDetails_3145g_77",bi="_editField_3145g_92",vi="_playDetails_3145g_97",pi="_playCount_3145g_101",_i="_label_3145g_111",yi="_controlButtons_3145g_117",wi="_controlButton_3145g_117",$i="_applyFill_3145g_129",ji="_active_3145g_132",Ai="_hover_3145g_135",ki="_nonHover_3145g_138",Si="_hiddenDisabled_3145g_144",xi="_bold_3145g_148",Ci="_settingsIcon_3145g_152",Ti="_regexContainer_3145g_162",Ei="_entryWrapper_3145g_172",Li="_entryLabel_3145g_179",Ri="_regexFieldWrapper_3145g_183",Oi="_regexFieldInput_3145g_187",Mi="_regexFieldItem_3145g_191",Pi="_regexSuccess_3145g_197",Ii="_regexFailure_3145g_200",Di="_editWarning_3145g_203",zi="_regexFooter_3145g_211",Ui="_regexFooterButtons_3145g_216",Ni="_regexFlagsWrapper_3145g_220",Bi="_regexToggleWrapper_3145g_229",Fi="_regexToggleInput_3145g_242",Hi="_button_3145g_265",qi="_root_3145g_285",Gi="_iosLoveButton_3145g_344",Vi="_iosSearchLabel_3145g_364",Wi="_iosReplaceLabel_3145g_365",Ki="_iosPreviewLabel_3145g_366",Ji="_entryWrapperLegend_3145g_388",At={alertPopup:ii,widePopup:ai,bigIcon:oi,notRedAnchor:li,alreadyPlaying:ci,expandVector:ui,nowPlayingPopup:di,coverArtWrapper:mi,coverArtBackground:gi,coverArt:hi,songDetails:fi,editField:bi,playDetails:vi,playCount:pi,label:_i,controlButtons:yi,controlButton:wi,applyFill:$i,active:ji,hover:Ai,nonHover:ki,hiddenDisabled:Si,bold:xi,settingsIcon:Ci,regexContainer:Ti,entryWrapper:Ei,entryLabel:Li,regexFieldWrapper:Ri,regexFieldInput:Oi,regexFieldItem:Mi,regexSuccess:Pi,regexFailure:Ii,editWarning:Di,regexFooter:zi,regexFooterButtons:Ui,regexFlagsWrapper:Ni,regexToggleWrapper:Bi,regexToggleInput:Fi,button:Hi,root:qi,iosLoveButton:Gi,iosSearchLabel:Vi,iosReplaceLabel:Wi,iosPreviewLabel:Ki,entryWrapperLegend:Ji};var An=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Sn={exports:{}};(function(e,t){(function(s,n){n(e)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:An,function(s){if(!(globalThis.chrome&&globalThis.chrome.runtime&&globalThis.chrome.runtime.id))throw new Error("This script should only be loaded in a browser extension.");if(globalThis.browser&&globalThis.browser.runtime&&globalThis.browser.runtime.id)s.exports=globalThis.browser;else{const n="The message port closed before a response was received.",r=i=>{const a={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(a).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class o extends WeakMap{constructor(f,E=void 0){super(E),this.createItem=f}get(f){return this.has(f)||this.set(f,this.createItem(f)),super.get(f)}}const l=_=>_&&typeof _=="object"&&typeof _.then=="function",m=(_,f)=>(...E)=>{i.runtime.lastError?_.reject(new Error(i.runtime.lastError.message)):f.singleCallbackArg||E.length<=1&&f.singleCallbackArg!==!1?_.resolve(E[0]):_.resolve(E)},c=_=>_==1?"argument":"arguments",d=(_,f)=>function(L,...R){if(R.length<f.minArgs)throw new Error(`Expected at least ${f.minArgs} ${c(f.minArgs)} for ${_}(), got ${R.length}`);if(R.length>f.maxArgs)throw new Error(`Expected at most ${f.maxArgs} ${c(f.maxArgs)} for ${_}(), got ${R.length}`);return new Promise((M,w)=>{if(f.fallbackToNoCallback)try{L[_](...R,m({resolve:M,reject:w},f))}catch(y){console.warn(`${_} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,y),L[_](...R),f.fallbackToNoCallback=!1,f.noCallback=!0,M()}else f.noCallback?(L[_](...R),M()):L[_](...R,m({resolve:M,reject:w},f))})},A=(_,f,E)=>new Proxy(f,{apply(L,R,M){return E.call(R,_,...M)}});let j=Function.call.bind(Object.prototype.hasOwnProperty);const C=(_,f={},E={})=>{let L=Object.create(null),R={has(w,y){return y in _||y in L},get(w,y,S){if(y in L)return L[y];if(!(y in _))return;let k=_[y];if(typeof k=="function")if(typeof f[y]=="function")k=A(_,_[y],f[y]);else if(j(E,y)){let ve=d(y,E[y]);k=A(_,_[y],ve)}else k=k.bind(_);else if(typeof k=="object"&&k!==null&&(j(f,y)||j(E,y)))k=C(k,f[y],E[y]);else if(j(E,"*"))k=C(k,f[y],E["*"]);else return Object.defineProperty(L,y,{configurable:!0,enumerable:!0,get(){return _[y]},set(ve){_[y]=ve}}),k;return L[y]=k,k},set(w,y,S,k){return y in L?L[y]=S:_[y]=S,!0},defineProperty(w,y,S){return Reflect.defineProperty(L,y,S)},deleteProperty(w,y){return Reflect.deleteProperty(L,y)}},M=Object.create(_);return new Proxy(M,R)},T=_=>({addListener(f,E,...L){f.addListener(_.get(E),...L)},hasListener(f,E){return f.hasListener(_.get(E))},removeListener(f,E){f.removeListener(_.get(E))}}),I=new o(_=>typeof _!="function"?_:function(E){const L=C(E,{},{getContent:{minArgs:0,maxArgs:0}});_(L)}),U=new o(_=>typeof _!="function"?_:function(E,L,R){let M=!1,w,y=new Promise(je=>{w=function(ae){M=!0,je(ae)}}),S;try{S=_(E,L,w)}catch(je){S=Promise.reject(je)}const k=S!==!0&&l(S);if(S!==!0&&!k&&!M)return!1;const ve=je=>{je.then(ae=>{R(ae)},ae=>{let Ae;ae&&(ae instanceof Error||typeof ae.message=="string")?Ae=ae.message:Ae="An unexpected error occurred",R({__mozWebExtensionPolyfillReject__:!0,message:Ae})}).catch(ae=>{console.error("Failed to send onMessage rejected reply",ae)})};return ve(k?S:y),!0}),N=({reject:_,resolve:f},E)=>{i.runtime.lastError?i.runtime.lastError.message===n?f():_(new Error(i.runtime.lastError.message)):E&&E.__mozWebExtensionPolyfillReject__?_(new Error(E.message)):f(E)},B=(_,f,E,...L)=>{if(L.length<f.minArgs)throw new Error(`Expected at least ${f.minArgs} ${c(f.minArgs)} for ${_}(), got ${L.length}`);if(L.length>f.maxArgs)throw new Error(`Expected at most ${f.maxArgs} ${c(f.maxArgs)} for ${_}(), got ${L.length}`);return new Promise((R,M)=>{const w=N.bind(null,{resolve:R,reject:M});L.push(w),E.sendMessage(...L)})},F={devtools:{network:{onRequestFinished:T(I)}},runtime:{onMessage:T(U),onMessageExternal:T(U),sendMessage:B.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:B.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},p={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return a.privacy={network:{"*":p},services:{"*":p},websites:{"*":p}},C(i,F,a)};s.exports=r(chrome)}})})(Sn);var Qi=Sn.exports;const K=kn(Qi);function xn(e){const t=Object.entries(e).reduce((s,[n,r])=>(typeof r=="string"?s[n]=r:typeof r=="number"?s[n]=r.toString():(typeof r>"u"||r===null)&&(s[n]=""),s),{});return new URLSearchParams(t).toString()}function _s(){return K.runtime.getManifest().version}function g(e,t){return K.i18n.getMessage(e,t)}function Yi(){return`https://github.com/web-scrobbler/web-scrobbler/releases/tag/v${_s()}`}const Zi="_materialIcon_fbfc8_1",qs={materialIcon:Zi},Xi="_tripleCheckboxOption_1naa3_1",ea="_tripleCheckboxWrapper_1naa3_9",ta="_tripleCheckboxLabel_1naa3_15",sa="_activeBox_1naa3_29",na="_unchecked_1naa3_33",ra="_checked_1naa3_37",ia="_indeterminate_1naa3_41",aa="_tripleCheckbox_1naa3_1",oa="_deleteListing_1naa3_60",la="_buttonContainer_1naa3_71",ca="_button_1naa3_71",ua="_applyFill_1naa3_89",da="_noRadius_1naa3_107",ma="_marginRight_1naa3_110",ga="_marginTop_1naa3_113",ha="_centered_1naa3_116",fa="_openCollective_1naa3_119",ba="_small_1naa3_122",va="_shiftLeft_1naa3_128",pa="_contactList_1naa3_132",_a="_contactEntry_1naa3_135",ya="_invertImg_1naa3_144",wa="_desc_1naa3_147",$a="_brandText_1naa3_153",ja="_contactTwitter_1naa3_160",Aa="_contactGithub_1naa3_163",ka="_optionList_1naa3_173",Sa="_selectOption_1naa3_179",xa="_bigLabel_1naa3_179",Ca="_editTable_1naa3_198",Ta="_saveIcon_1naa3_218",Ea="_savingSaveIcon_1naa3_221",La="_scrobbleButtonsWrapper_1naa3_227",Ra="_scrobbleCacheList_1naa3_241",Oa="_summarySpan_1naa3_244",Ma="_checkboxOption_1naa3_249",Pa="_checkboxWrapper_1naa3_257",Ia="_checkbox_1naa3_249",Da="_summaryCheckbox_1naa3_294",za="_muted_1naa3_310",Ua="_radioButtons_1naa3_315",Na="_radioButton_1naa3_315",Ba="_radioLabel_1naa3_323",Fa="_connectorOptionsList_1naa3_342",Ha="_expandVector_1naa3_363",qa="_patternWrapper_1naa3_372",Ga="_patternInput_1naa3_380",Va="_propLabel_1naa3_391",Wa="_propInput_1naa3_397",Ka="_permissionsPopup_1naa3_407",Ja="_arrayPropWrapper_1naa3_423",Qa="_arrayProps_1naa3_427",Ya="_arrayProp_1naa3_423",Za="_regexDeleteContent_1naa3_436",Xa="_regexEditEntry_1naa3_450",eo="_regexDeleteFlags_1naa3_453",to="_regexDeleteSearchLabel_1naa3_458",so="_regexDeleteReplaceLabel_1naa3_461",no="_regexDeleteTrackLabel_1naa3_464",ro="_regexDeleteTrackSearch_1naa3_467",io="_regexDeleteTrackReplace_1naa3_470",ao="_regexDeleteArtistLabel_1naa3_473",oo="_regexDeleteArtistSearch_1naa3_476",lo="_regexDeleteArtistReplace_1naa3_479",co="_regexDeleteAlbumLabel_1naa3_482",uo="_regexDeleteAlbumSearch_1naa3_485",mo="_regexDeleteAlbumReplace_1naa3_488",go="_regexDeleteAlbumArtistLabel_1naa3_491",ho="_regexDeleteAlbumArtistSearch_1naa3_494",fo="_regexDeleteAlbumArtistReplace_1naa3_497",bo="_scrobble_1naa3_227",vo="_scrobbleCheckbox_1naa3_514",po="_coverArt_1naa3_517",_o="_scrobbleDetails_1naa3_522",yo="_scrobbleMetadata_1naa3_531",wo="_trackName_1naa3_538",$o="_artistName_1naa3_542",jo="_albumName_1naa3_543",Ao="_albumArtistName_1naa3_544",ko="_scrobbleActions_1naa3_547",So="_scrobbleActionButton_1naa3_551",xo="_selectingScrobble_1naa3_574",Co="_scrobbleDate_1naa3_594",To="_rangeInput_1naa3_615",Eo="_rangeInputLabel_1naa3_618",Lo="_rangeSelection_1naa3_621",Ro="_inputWrapper_1naa3_666",Oo="_percent_1naa3_682",Mo="_rangeNumberInput_1naa3_685",h={tripleCheckboxOption:Xi,tripleCheckboxWrapper:ea,tripleCheckboxLabel:ta,activeBox:sa,unchecked:na,checked:ra,indeterminate:ia,tripleCheckbox:aa,deleteListing:oa,buttonContainer:la,button:ca,applyFill:ua,noRadius:da,marginRight:ma,marginTop:ga,centered:ha,openCollective:fa,small:ba,shiftLeft:va,contactList:pa,contactEntry:_a,invertImg:ya,desc:wa,brandText:$a,contactTwitter:ja,contactGithub:Aa,optionList:ka,selectOption:Sa,bigLabel:xa,editTable:Ca,saveIcon:Ta,savingSaveIcon:Ea,scrobbleButtonsWrapper:La,scrobbleCacheList:Ra,summarySpan:Oa,checkboxOption:Ma,checkboxWrapper:Pa,checkbox:Ia,summaryCheckbox:Da,muted:za,radioButtons:Ua,radioButton:Na,radioLabel:Ba,connectorOptionsList:Fa,expandVector:Ha,patternWrapper:qa,patternInput:Ga,propLabel:Va,propInput:Wa,permissionsPopup:Ka,arrayPropWrapper:Ja,arrayProps:Qa,arrayProp:Ya,regexDeleteContent:Za,regexEditEntry:Xa,regexDeleteFlags:eo,regexDeleteSearchLabel:to,regexDeleteReplaceLabel:so,regexDeleteTrackLabel:no,regexDeleteTrackSearch:ro,regexDeleteTrackReplace:io,regexDeleteArtistLabel:ao,regexDeleteArtistSearch:oo,regexDeleteArtistReplace:lo,regexDeleteAlbumLabel:co,regexDeleteAlbumSearch:uo,regexDeleteAlbumReplace:mo,regexDeleteAlbumArtistLabel:go,regexDeleteAlbumArtistSearch:ho,regexDeleteAlbumArtistReplace:fo,scrobble:bo,scrobbleCheckbox:vo,coverArt:po,scrobbleDetails:_o,scrobbleMetadata:yo,trackName:wo,artistName:$o,albumName:jo,albumArtistName:Ao,scrobbleActions:ko,scrobbleActionButton:So,selectingScrobble:xo,scrobbleDate:Co,rangeInput:To,rangeInputLabel:Eo,rangeSelection:Lo,inputWrapper:Ro,percent:Oo,rangeNumberInput:Mo},Po=b("<title>"),Io=b("<svg aria-hidden=true>"),Do=b('<svg><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></svg>',!1,!0),Ee=b('<svg><path d="M0 0h24v24H0z"fill=none></svg>',!1,!0),zo=b('<svg><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 14.5c-2.49 0-4.5-2.01-4.5-4.5S9.51 7.5 12 7.5s4.5 2.01 4.5 4.5-2.01 4.5-4.5 4.5zm0-5.5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1z"></svg>',!1,!0),Uo=b('<svg><defs id=defs138><mask maskUnits=userSpaceOnUse id=mask-powermask-path-effect3728><path id=mask-powermask-path-effect3728_box d="M 1,1 H 23 V 23 H 1 Z"></path><g id=g3726><rect id=rect3722 width=27.407948 height=1.5774385 x=-12.412281 y=-0.70559257 ry=0 transform=rotate(41.317859)></rect><rect id=rect3724 width=27.407948 height=1.5774385 x=18.354237 y=-0.67120558 ry=0 transform=rotate(41.317859)></svg>',!1,!0),No=b('<svg><path d="M 12,2 C 6.48,2 2,6.48 2,12 2,17.52 6.48,22 12,22 17.52,22 22,17.52 22,12 22,6.48 17.52,2 12,2 Z m 0,14.5 C 9.51,16.5 7.5,14.49 7.5,12 7.5,9.51 9.51,7.5 12,7.5 c 2.49,0 4.5,2.01 4.5,4.5 0,2.49 -2.01,4.5 -4.5,4.5 z M 12,11 c -0.55,0 -1,0.45 -1,1 0,0.55 0.45,1 1,1 0.55,0 1,-0.45 1,-1 0,-0.55 -0.45,-1 -1,-1 z"id=path132 mask=url(#mask-powermask-path-effect3728)></svg>',!1,!0),Bo=b("<svg><rect id=rect413 width=27.407948 height=1.5774385 x=3.194612 y=0.87523758 ry=0 transform=rotate(41.317859)></svg>",!1,!0),Fo=b('<svg><path d="M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6zm6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26z"></svg>',!1,!0),Ho=b('<svg><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12zm8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8z"></svg>',!1,!0),qo=b('<svg><g><g><path d="M16.5,9c-0.42,0-0.83,0.04-1.24,0.11L1.01,3L1,10l10.06,1.34c-0.42,0.44-0.78,0.93-1.09,1.46L1,14l0.01,7l8.07-3.46 C9.59,21.19,12.71,24,16.5,24c4.14,0,7.5-3.36,7.5-7.5S20.64,9,16.5,9z M3,8.25l0.01-2.22l7.51,3.22L3,8.25z M9.1,15.36L3,17.97 v-2.22l6.17-0.82C9.14,15.07,9.12,15.21,9.1,15.36z M16.5,22c-3.03,0-5.5-2.47-5.5-5.5s2.47-5.5,5.5-5.5s5.5,2.47,5.5,5.5 S19.53,22,16.5,22z"></path><polygon points="18.27,14.03 16.5,15.79 14.73,14.03 14.03,14.73 15.79,16.5 14.03,18.27 14.73,18.97 16.5,17.21 18.27,18.97 18.97,18.27 17.21,16.5 18.97,14.73"></svg>',!1,!0),Go=b('<svg><path d="M20.06 18a3.99 3.99 0 0 1-.2-.89c-.67.7-1.48 1.05-2.41 1.05c-.83 0-1.52-.24-2.05-.71c-.53-.45-.8-1.06-.8-1.79c0-.88.33-1.56 1-2.05c.67-.49 1.61-.73 2.83-.73h1.4v-.64c0-.49-.15-.88-.45-1.17c-.3-.29-.75-.43-1.33-.43c-.52 0-.95.12-1.3.36c-.35.25-.52.54-.52.89h-1.46c0-.43.15-.84.45-1.24c.28-.4.71-.71 1.22-.94c.51-.21 1.06-.35 1.69-.35c.98 0 1.74.24 2.29.73s.84 1.16.86 2.02V16c0 .8.1 1.42.3 1.88V18zm-2.4-1.12c.45 0 .88-.11 1.29-.32c.4-.21.7-.49.88-.83v-1.57H18.7c-1.77 0-2.66.47-2.66 1.41c0 .43.15.73.46.96c.3.23.68.35 1.16.35m-12.2-3.17h4.07L7.5 8.29zM6.64 6h1.72l4.71 12h-1.93l-.97-2.57H4.82L3.86 18H1.93z"></svg>',!1,!0),Vo=b('<svg><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"></svg>',!1,!0),Wo=b('<svg><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></svg>',!1,!0),Ko=b('<svg><path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V6h16v12zM4 0h16v2H4zm0 22h16v2H4zm8-10c1.38 0 2.5-1.12 2.5-2.5S13.38 7 12 7 9.5 8.12 9.5 9.5 10.62 12 12 12zm0-3.5c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm5 7.49C17 13.9 13.69 13 12 13s-5 .9-5 2.99V17h10v-1.01zm-8.19-.49c.61-.52 2.03-1 3.19-1 1.17 0 2.59.48 3.2 1H8.81z"></svg>',!1,!0),Jo=b('<svg><path d="M16 9v10H8V9h8m-1.5-6h-5l-1 1H5v2h14V4h-3.5l-1-1zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7z"></svg>',!1,!0),Qo=b('<svg><path d="M14.12 10.47L12 12.59l-2.13-2.12-1.41 1.41L10.59 14l-2.12 2.12 1.41 1.41L12 15.41l2.12 2.12 1.41-1.41L13.41 14l2.12-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4zM6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9z"></svg>',!1,!0),Yo=b('<svg><path d="M19 9h-4V3H9v6H5l7 7 7-7zm-8 2V5h2v6h1.17L12 13.17 9.83 11H11zm-6 7h14v2H5z"></svg>',!1,!0),Zo=b('<svg><path d="M14.06 9.02l.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z"></svg>',!1,!0),Xo=b('<svg><path d="M3 10h11v2H3zm0-2h11V6H3zm0 8h7v-2H3zm15.01-3.13.71-.71c.39-.39 1.02-.39 1.41 0l.71.71c.39.39.39 1.02 0 1.41l-.71.71zm-.71.71-5.3 5.3V21h2.12l5.3-5.3z"></svg>',!1,!0),el=b('<svg><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"></svg>',!1,!0),tl=b('<svg><path d="M24 24H0V0h24v24z"fill=none opacity=.87></svg>',!1,!0),sl=b('<svg><path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6-1.41-1.41z"></svg>',!1,!0),nl=b('<svg><path d="M10.5 4.5c.28 0 .5.22.5.5v2h6v6h2c.28 0 .5.22.5.5s-.22.5-.5.5h-2v6h-2.12c-.68-1.75-2.39-3-4.38-3s-3.7 1.25-4.38 3H4v-2.12c1.75-.68 3-2.39 3-4.38 0-1.99-1.24-3.7-2.99-4.38L4 7h6V5c0-.28.22-.5.5-.5m0-2C9.12 2.5 8 3.62 8 5H4c-1.1 0-1.99.9-1.99 2v3.8h.29c1.49 0 2.7 1.21 2.7 2.7s-1.21 2.7-2.7 2.7H2V20c0 1.1.9 2 2 2h3.8v-.3c0-1.49 1.21-2.7 2.7-2.7s2.7 1.21 2.7 2.7v.3H17c1.1 0 2-.9 2-2v-4c1.38 0 2.5-1.12 2.5-2.5S20.38 11 19 11V7c0-1.1-.9-2-2-2h-4c0-1.38-1.12-2.5-2.5-2.5z"></svg>',!1,!0),rl=b('<svg><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"></svg>',!1,!0),il=b('<svg><g><path d="M16.5,3c-0.96,0-1.9,0.25-2.73,0.69L12,9h3l-3,10l1-9h-3l1.54-5.39C10.47,3.61,9.01,3,7.5,3C4.42,3,2,5.42,2,8.5 c0,4.13,4.16,7.18,10,12.5c5.47-4.94,10-8.26,10-12.5C22,5.42,19.58,3,16.5,3z M10.24,16.73C6.45,13.34,4,11,4,8.5 C4,6.54,5.54,5,7.5,5c0.59,0,1.19,0.15,1.73,0.42L7.35,12h3.42L10.24,16.73z M15.13,15.53L17.69,7h-2.91l0.61-1.82 C15.75,5.06,16.13,5,16.5,5C18.46,5,20,6.54,20,8.5C20,10.71,17.98,12.93,15.13,15.53z"></svg>',!1,!0),al=b('<svg><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"></svg>',!1,!0),ol=b('<svg><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zM7 11h10v2H7z"></svg>',!1,!0),ll=b('<svg><path d="M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></svg>',!1,!0),cl=b('<svg><g fill=none><path d="M0 0h24v24H0V0z"></path><path d="M0 0h24v24H0V0z"opacity=.87></svg>',!1,!0),ul=b('<svg><path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"></svg>',!1,!0),Cn=b("<svg><g><path d=M0,0h24v24H0V0z fill=none></svg>",!1,!0),dl=b('<svg><g><g><path d="M4,18v-0.65c0-0.34,0.16-0.66,0.41-0.81C6.1,15.53,8.03,15,10,15c0.03,0,0.05,0,0.08,0.01c0.1-0.7,0.3-1.37,0.59-1.98 C10.45,13.01,10.23,13,10,13c-2.42,0-4.68,0.67-6.61,1.82C2.51,15.34,2,16.32,2,17.35V20h9.26c-0.42-0.6-0.75-1.28-0.97-2H4z"></path><path d="M10,12c2.21,0,4-1.79,4-4s-1.79-4-4-4C7.79,4,6,5.79,6,8S7.79,12,10,12z M10,6c1.1,0,2,0.9,2,2s-0.9,2-2,2 c-1.1,0-2-0.9-2-2S8.9,6,10,6z"></path><path d="M20.75,16c0-0.22-0.03-0.42-0.06-0.63l1.14-1.01l-1-1.73l-1.45,0.49c-0.32-0.27-0.68-0.48-1.08-0.63L18,11h-2l-0.3,1.49 c-0.4,0.15-0.76,0.36-1.08,0.63l-1.45-0.49l-1,1.73l1.14,1.01c-0.03,0.21-0.06,0.41-0.06,0.63s0.03,0.42,0.06,0.63l-1.14,1.01 l1,1.73l1.45-0.49c0.32,0.27,0.68,0.48,1.08,0.63L16,21h2l0.3-1.49c0.4-0.15,0.76-0.36,1.08-0.63l1.45,0.49l1-1.73l-1.14-1.01 C20.72,16.42,20.75,16.22,20.75,16z M17,18c-1.1,0-2-0.9-2-2s0.9-2,2-2s2,0.9,2,2S18.1,18,17,18z"></svg>',!1,!0),ml=b('<svg><path d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"></svg>',!1,!0),gl=b('<svg><path d="M12 3l.01 10.55c-.59-.34-1.27-.55-2-.55C7.79 13 6 14.79 6 17s1.79 4 4.01 4S14 19.21 14 17V7h4V3h-6zm-1.99 16c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"></svg>',!1,!0),hl=b('<svg><path d="M4.27 3L3 4.27l9 9v.28c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4v-1.73L19.73 21 21 19.73 4.27 3zM14 7h4V3h-6v5.18l2 2z"></svg>',!1,!0),fl=b('<svg><path d="M14 7h4V3h-6v4.61l2 2zm-2 3.44L4.41 2.86 3 4.27l9 9v.28c-.94-.54-2.1-.75-3.33-.32-1.34.48-2.37 1.67-2.61 3.07-.46 2.74 1.86 5.08 4.59 4.65 1.96-.31 3.35-2.11 3.35-4.1v-1.58L19.73 21l1.41-1.41L12 10.44zM10 19c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"></svg>',!1,!0),bl=b('<svg><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"></svg>',!1,!0),ys=b("<svg><rect fill=none height=24 width=24></svg>",!1,!0),vl=b('<svg><g><path d="M8.65,5.82C9.36,4.72,10.6,4,12,4c2.21,0,4,1.79,4,4c0,1.4-0.72,2.64-1.82,3.35L8.65,5.82z M20,17.17 c-0.02-1.1-0.63-2.11-1.61-2.62c-0.54-0.28-1.13-0.54-1.77-0.76L20,17.17z M21.19,21.19L2.81,2.81L1.39,4.22l8.89,8.89 c-1.81,0.23-3.39,0.79-4.67,1.45C4.61,15.07,4,16.1,4,17.22V20h13.17l2.61,2.61L21.19,21.19z"></svg>',!1,!0),pl=b('<svg><path d="M20,17.17l-3.37-3.38c0.64,0.22,1.23,0.48,1.77,0.76C19.37,15.06,19.98,16.07,20,17.17z M21.19,21.19l-1.41,1.41L17.17,20H4 v-2.78c0-1.12,0.61-2.15,1.61-2.66c1.29-0.66,2.87-1.22,4.67-1.45L1.39,4.22l1.41-1.41L21.19,21.19z M15.17,18l-3-3 c-0.06,0-0.11,0-0.17,0c-2.37,0-4.29,0.73-5.48,1.34C6.2,16.5,6,16.84,6,17.22V18H15.17z M12,6c1.1,0,2,0.9,2,2 c0,0.86-0.54,1.59-1.3,1.87l1.48,1.48C15.28,10.64,16,9.4,16,8c0-2.21-1.79-4-4-4c-1.4,0-2.64,0.72-3.35,1.82l1.48,1.48 C10.41,6.54,11.14,6,12,6z"></svg>',!1,!0),_l=b('<svg><path d="M12 6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0 10c2.7 0 5.8 1.29 6 2H6c.23-.72 3.31-2 6-2m0-12C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 10c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"></svg>',!1,!0),yl=b('<svg><path d="M18.6,19.5H21v2h-6v-6h2v2.73c1.83-1.47,3-3.71,3-6.23c0-4.07-3.06-7.44-7-7.93V2.05c5.05,0.5,9,4.76,9,9.95 C22,14.99,20.68,17.67,18.6,19.5z M4,12c0-2.52,1.17-4.77,3-6.23V8.5h2v-6H3v2h2.4C3.32,6.33,2,9.01,2,12c0,5.19,3.95,9.45,9,9.95 v-2.02C7.06,19.44,4,16.07,4,12z M16.24,8.11l-5.66,5.66l-2.83-2.83l-1.41,1.41l4.24,4.24l7.07-7.07L16.24,8.11z"></svg>',!1,!0),wl=b('<svg><path d="M16 16.92c-.33.05-.66.08-1 .08c-.34 0-.67-.03-1-.08v-3.51l-2.5 2.48c-.5-.39-1-.89-1.39-1.39l2.48-2.5H9.08c-.05-.33-.08-.66-.08-1c0-.34.03-.67.08-1h3.51l-2.48-2.5c.19-.25.39-.5.65-.74c.24-.26.49-.46.74-.65L14 8.59V5.08c.33-.05.66-.08 1-.08c.34 0 .67.03 1 .08v3.51l2.5-2.48c.5.39 1 .89 1.39 1.39L17.41 10h3.51c.05.33.08.66.08 1c0 .34-.03.67-.08 1h-3.51l2.48 2.5c-.19.25-.39.5-.65.74c-.24.26-.49.46-.74.65L16 13.41zM5 19a2 2 0 0 1 2-2a2 2 0 0 1 2 2a2 2 0 0 1-2 2a2 2 0 0 1-2-2"></svg>',!1,!0),$l=b('<svg><g><path d="M22,6h-5v8.18C16.69,14.07,16.35,14,16,14c-1.66,0-3,1.34-3,3s1.34,3,3,3s3-1.34,3-3V8h3V6z M15,6H3v2h12V6z M15,10H3v2h12 V10z M11,14H3v2h8V14z"></svg>',!1,!0),jl=b('<svg><g><g><path d="M6,13c0-1.65,0.67-3.15,1.76-4.24L6.34,7.34C4.9,8.79,4,10.79,4,13c0,4.08,3.05,7.44,7,7.93v-2.02 C8.17,18.43,6,15.97,6,13z M20,13c0-4.42-3.58-8-8-8c-0.06,0-0.12,0.01-0.18,0.01l1.09-1.09L11.5,2.5L8,6l3.5,3.5l1.41-1.41 l-1.08-1.08C11.89,7.01,11.95,7,12,7c3.31,0,6,2.69,6,6c0,2.97-2.17,5.43-5,5.91v2.02C16.95,20.44,20,17.08,20,13z"></svg>',!1,!0),Al=b('<svg><path d="M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm2 16H5V5h11.17L19 7.83V19zm-7-7c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3zM6 6h9v4H6z"></svg>',!1,!0),kl=b('<svg><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"></svg>',!1,!0),Sl=b("<svg><circle cx=15.5 cy=9.5 r=1.5></svg>",!1,!0),xl=b("<svg><circle cx=8.5 cy=9.5 r=1.5></svg>",!1,!0),Cl=b('<svg><path d="M12 14c-2.33 0-4.32 1.45-5.12 3.5h1.67c.69-1.19 1.97-2 3.45-2s2.75.81 3.45 2h1.67c-.8-2.05-2.79-3.5-5.12-3.5zm-.01-12C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"></svg>',!1,!0),Tl=b('<svg><path d="M19.43 12.98c.04-.32.07-.64.07-.98 0-.34-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.09-.16-.26-.25-.44-.25-.06 0-.12.01-.17.03l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.06-.02-.12-.03-.18-.03-.17 0-.34.09-.43.25l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98 0 .33.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.09.16.26.25.44.25.06 0 .12-.01.17-.03l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.06.02.12.03.18.03.17 0 .34-.09.43-.25l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zm-1.98-1.71c.04.31.05.52.05.73 0 .21-.02.43-.05.73l-.14 1.13.89.7 1.08.84-.7 1.21-1.27-.51-1.04-.42-.9.68c-.43.32-.84.56-1.25.73l-1.06.43-.16 1.13-.2 1.35h-1.4l-.19-1.35-.16-1.13-1.06-.43c-.43-.18-.83-.41-1.23-.71l-.91-.7-1.06.43-1.27.51-.7-1.21 1.08-.84.89-.7-.14-1.13c-.03-.31-.05-.54-.05-.74s.02-.43.05-.73l.14-1.13-.89-.7-1.08-.84.7-1.21 1.27.51 1.04.42.9-.68c.43-.32.84-.56 1.25-.73l1.06-.43.16-1.13.2-1.35h1.39l.19 1.35.16 1.13 1.06.43c.43.18.83.41 1.23.71l.91.7 1.06-.43 1.27-.51.7 1.21-1.07.85-.89.7.14 1.13zM12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"></svg>',!1,!0),El=b('<svg><g><g><g><path d="M15,1H9v2h6V1z M11,14h2V8h-2V14z M19.03,7.39l1.42-1.42c-0.43-0.51-0.9-0.99-1.41-1.41l-1.42,1.42 C16.07,4.74,14.12,4,12,4c-4.97,0-9,4.03-9,9s4.02,9,9,9s9-4.03,9-9C21,10.88,20.26,8.93,19.03,7.39z M12,20c-3.87,0-7-3.13-7-7 s3.13-7,7-7s7,3.13,7,7S15.87,20,12,20z"></svg>',!1,!0),Ll=b('<svg><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"></svg>',!1,!0),Rl=b('<svg><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zm0-7c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"></svg>',!1,!0),Ol=b('<svg><path d="M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"></svg>',!1,!0),Ml=b('<svg><path d="M9 16h6v-6h4l-7-7-7 7h4v6zm3-10.17L14.17 8H13v6h-2V8H9.83L12 5.83zM5 18h14v2H5z"></svg>',!1,!0),Pl=b('<svg><path d="M12 6c3.79 0 7.17 2.13 8.82 5.5C19.17 14.87 15.79 17 12 17s-7.17-2.13-8.82-5.5C4.83 8.13 8.21 6 12 6m0-2C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4zm0 5c1.38 0 2.5 1.12 2.5 2.5S13.38 14 12 14s-2.5-1.12-2.5-2.5S10.62 9 12 9m0-2c-2.48 0-4.5 2.02-4.5 4.5S9.52 16 12 16s4.5-2.02 4.5-4.5S14.48 7 12 7z"></svg>',!1,!0),Il=b('<svg><g><g><g><g><path d="M16,13c3.09-2.81,6-5.44,6-7.7C22,3.45,20.55,2,18.7,2c-1.04,0-2.05,0.49-2.7,1.25C15.34,2.49,14.34,2,13.3,2 C11.45,2,10,3.45,10,5.3C10,7.56,12.91,10.19,16,13z M13.3,4c0.44,0,0.89,0.21,1.18,0.55L16,6.34l1.52-1.79 C17.81,4.21,18.26,4,18.7,4C19.44,4,20,4.56,20,5.3c0,1.12-2.04,3.17-4,4.99c-1.96-1.82-4-3.88-4-4.99C12,4.56,12.56,4,13.3,4z"></path><path d="M19,16h-2c0-1.2-0.75-2.28-1.87-2.7L8.97,11H1v11h6v-1.44l7,1.94l8-2.5v-1C22,17.34,20.66,16,19,16z M3,20v-7h2v7H3z M13.97,20.41L7,18.48V13h1.61l5.82,2.17C14.77,15.3,15,15.63,15,16c0,0-1.99-0.05-2.3-0.15l-2.38-0.79l-0.63,1.9l2.38,0.79 c0.51,0.17,1.04,0.26,1.58,0.26H19c0.39,0,0.74,0.23,0.9,0.56L13.97,20.41z"></svg>',!1,!0),Dl=b('<svg><path d="M11.14 4L6.43 16h1.93l.96-2.57h5.35l.97 2.57h1.93L12.86 4M12 6.29l2.03 5.42H9.96M20 14v4H4v-3H2v5h20v-6Z"></svg>',!1,!0);function D(e){return s=>{const n=H(()=>s.class?`${qs.materialIcon} ${s.class}`:qs.materialIcon);return(()=>{const r=Io();return $n(r,Ir({focusable:"false"},{viewBox:"0 0 24 24"},s,{get class(){return n()}}),!0,!0),u(r,v(J,{get when(){return s.title},get children(){const i=Po();return u(i,()=>s.title),i}}),null),u(r,v(e,{}),null),r})()}}const zl=D(()=>Do()),B1=D(()=>[Ee(),zo()]),F1=D(()=>[(()=>{const e=Uo(),t=e.firstChild,s=t.firstChild,n=s.nextSibling,r=n.firstChild,i=r.nextSibling;return s.style.setProperty("fill","#ffffff"),s.style.setProperty("fill-opacity","1"),r.style.setProperty("fill-opacity","1"),r.style.setProperty("stroke","none"),i.style.setProperty("fill-opacity","1"),i.style.setProperty("stroke","none"),x(a=>{const o=`${At.applyFill} ${h.applyFill}`,l=`${At.applyFill} ${h.applyFill}`;return o!==a._v$&&P(r,"class",a._v$=o),l!==a._v$2&&P(i,"class",a._v$2=l),a},{_v$:void 0,_v$2:void 0}),e})(),(()=>{const e=No();return e.style.setProperty("display","inline"),x(()=>P(e,"class",`${At.applyFill} ${h.applyFill}`)),e})(),(()=>{const e=Bo();return e.style.setProperty("fill-opacity","1"),e.style.setProperty("stroke","none"),x(()=>P(e,"class",`${At.applyFill} ${h.applyFill}`)),e})()]),Ul=D(()=>Fo()),H1=D(()=>Ho()),q1=D(()=>qo()),Nl=D(()=>Go()),Tn=D(()=>Vo()),Bl=D(()=>Wo()),Fl=D(()=>Ko()),qe=D(()=>Jo()),G1=D(()=>Qo()),En=D(()=>Yo()),Hl=D(()=>Zo()),V1=D(()=>Xo()),W1=D(()=>el()),Ln=D(()=>[tl(),sl()]),ql=D(()=>nl()),Gl=D(()=>rl()),K1=D(()=>il()),Vl=D(()=>al()),Wl=D(()=>[Ee(),ol()]),Rn=D(()=>ll()),Kl=D(()=>[cl(),ul()]),Jl=D(()=>[Cn(),dl()]),J1=D(()=>[Ee(),ml()]),Q1=D(()=>gl()),Y1=D(()=>[Ee(),hl()]),Z1=D(()=>fl()),X1=D(()=>[Ee(),bl()]),eg=D(()=>[ys(),vl()]),Ql=D(()=>[ys(),pl()]),Yl=D(()=>_l()),tg=D(()=>[ys(),yl()]),Zl=D(()=>wl()),Xl=D(()=>$l()),ec=D(()=>[Cn(),jl()]),tc=D(()=>Al()),sg=D(()=>[Ee(),kl()]),ng=D(()=>[Sl(),xl(),Cl()]),it=D(()=>Tl()),sc=D(()=>El()),nc=D(()=>Ll()),rc=D(()=>[Ee(),Rl()]),ic=D(()=>Ol()),On=D(()=>Ml()),Mn=D(()=>Pl()),ac=D(()=>Il()),oc=D(()=>Dl()),rg="Base",lc="Disallowed",cc="Disabled",uc="Error",dc="Ignored",mc="Loading",gc="Playing",hc="Paused",fc="Scrobbled",ig="Skipped",bc="Unknown",cs="Unsupported",vc="Loved",pc="Unloved";async function ag(){const e=(await K.storage.sync.get("theme")).theme;if(e){document.body.classList.add(await In(e));return}Pn("theme-system")}async function Pn(e){document.body.className="",document.body.classList.add(In(e)),await K.storage.sync.set({theme:e})}const _c=()=>window.matchMedia("(prefers-color-scheme: dark)").matches,yc=()=>window.matchMedia("(forced-colors: active), (prefers-contrast: more), (-ms-high-contrast: active)").matches;function In(e){if(e==="theme-system"){const t=_c()?"dark":"light";return`theme-${yc()?"high-contrast-":""}${t}`}return e}const Dn=["system","dark","light","high-contrast-dark","high-contrast-light"],Gs=Dn.map(e=>`theme-${e}`);async function wc(){return(await K.storage.sync.get("theme")).theme||"theme-system"}async function fe(e,t){return K.tabs.sendMessage(e,t)}function $c(e){return t=>t(e)}function jc(...e){K.runtime.onMessage.addListener((t,s)=>{let n=!1;for(const r of e){const i=r(a=>{if(t.type===a.type)return n=!0,a.fn(t.payload,s)});if(n)return Promise.resolve(i)}})}async function at(e){return K.runtime.sendMessage(e)}function og(e){return t=>t(e)}function lg(...e){K.runtime.onMessage.addListener((t,s)=>{let n=!1;for(const r of e){const i=r(a=>{if(t.type===a.type)return n=!0,a.fn(t.payload,s)});if(n)return Promise.resolve(i)}})}const ot=[{label:"YouTube",matches:["*://www.youtube.com/*","*://m.youtube.com/*"],js:"youtube.js",id:"youtube",usesBlocklist:!0},{label:"MySpace",matches:["*://myspace.com/*"],js:"myspace.js",id:"myspace"},{label:"Bandcamp Daily",matches:["*://daily.bandcamp.com/*"],js:"bandcamp-embed.js",id:"bandcamp-embed",allFrames:!0},{label:"Bandcamp",matches:["*://*.bandcamp.com/*","*://bandcamp.com/*"],js:"bandcamp.js",id:"bandcamp"},{label:"BNDCMPR",matches:["*://bndcmpr.co/*"],js:"bndcmpr.js",id:"bndcmpr",allFrames:!0},{label:"Buy Music Club",matches:["*://www.buymusic.club/*"],js:"buymusicclub.js",id:"buymusicclub"},{label:"Pandora",matches:["*://www.pandora.com/*"],js:"pandora.js",id:"pandora"},{label:"Pakartot",matches:["*://www.pakartot.lt/*"],js:"pakartot.js",id:"pakartot"},{label:"Deezer",matches:["*://www.deezer.com/*"],js:"deezer.js",id:"deezer"},{label:"SoundCloud",matches:["*://soundcloud.com/*","*://m.soundcloud.com/*"],js:"soundcloud.js",id:"soundcloud"},{label:"Amazon Music",matches:["*://music.amazon.*/*","*://www.amazon.*/gp/dmusic/cloudplayer/*"],js:"amazon.js",id:"amazon"},{label:"Amazon Echo",matches:["*://alexa.amazon.*/spa/*"],js:"amazon-alexa.js",id:"amazon-alexa"},{label:"VK",matches:["*://vk.com/*"],js:"vk.js",id:"vk"},{label:"Megalyrics",matches:["*://megalyrics.ru/*"],js:"megalyrics.js",id:"megalyrics"},{label:"iHeartRadio",matches:["*://*.iheart.com/*"],js:"iheart.js",id:"iheart"},{label:"Indie Shuffle",matches:["*://www.indieshuffle.com/*"],js:"indieshuffle.js",id:"indieshuffle"},{label:"Tuba.FM",matches:["*://fm.tuba.pl/*"],js:"tubafm.js",id:"tubafm"},{label:"Spotify",matches:["*://open.spotify.com/*"],js:"spotify.js",id:"spotify",hasNativeScrobbler:!0},{label:"plug.dj",matches:["*://plug.dj/*"],js:"plug.dj.js",id:"plug.dj"},{label:"Dandelion Radio",matches:["*://www.dandelionradio.com/player.htm"],js:"dandelionradio.js",id:"dandelionradio"},{label:"HillyDilly",matches:["*://www.hillydilly.com/*"],js:"hillydilly.js",id:"hillydilly"},{label:"8tracks",matches:["*://8tracks.com/*"],js:"8tracks.js",id:"8tracks"},{label:"Radio Cidade",matches:["*://radiocidade.fm/player/*","*://play.radiomania.com.br/*","*://*.melodia.com.br/*","*://jb.fm/player/*"],js:"radiocidade.js",id:"radiocidade"},{label:"Radio Nova",matches:["*://www.nova.fr/*"],js:"nova.js",id:"nova"},{label:"Radioplus",matches:["*://www.radioplus.be/*","*://radioplus.be/*"],js:"radioplus.js",id:"radioplus"},{label:"Радио Premium",matches:["*://rpfm.ru/*"],js:"rpfm.js",id:"rpfm"},{label:"Douban.FM",matches:["*://douban.fm/*","*://fm.douban.fm/*"],js:"douban.fm.js",id:"douban.fm"},{label:"Focus@Will",matches:["*://www.focusatwill.com/*"],js:"focusatwill.js",id:"focusatwill"},{label:"Subphonic (owncloud plugin)",matches:["*://*/*/apps/subphonic/minisub/*"],js:"subphonic.js",id:"subphonic"},{label:"Digitally Imported",matches:["*://www.di.fm/*"],js:"radiotunes.js",id:"di"},{label:"BBC Sounds",matches:["*://*.bbc.co.uk/*"],js:"bbc-sounds.js",id:"bbc-sounds"},{label:"Gaana",matches:["*://gaana.com/*"],js:"gaana.js",id:"gaana"},{label:"Яндекс.Музыка",matches:["*://music.yandex.ru/*","*://music.yandex.by/*","*://music.yandex.kz/*","*://music.yandex.ua/*"],js:"yandex-music.js",id:"yandex-music"},{label:"Plex",matches:["*://*32400/web/*","*://plex.tv/web/*","*://*.plex.tv/web/*","*://*.plex.tv/desktop*"],js:"plex.js",id:"plex"},{label:"TuneIn",matches:["*://tunein.com/*"],js:"tunein.js",id:"tunein"},{label:"Mixcloud",matches:["*://mixcloud.com/*","*://*.mixcloud.com/*"],js:"mixcloud.js",id:"mixcloud"},{label:"ReverbNation",matches:["*://www.reverbnation.com/*"],js:"reverbnation.js",id:"reverbnation"},{label:"NRK Radio",matches:["*://radio.nrk.no/*"],js:"nrk-radio.js",id:"nrk-radio"},{label:"Internet Archive",matches:["*://archive.org/details/*"],js:"archive.js",id:"archive"},{label:"Odnoklassniki",matches:["*://odnoklassniki.ru/*","*://ok.ru/*"],js:"odnoklassniki.js",id:"odnoklassniki"},{label:"Overcast",matches:["*://overcast.fm/*"],js:"overcast.js",id:"overcast"},{label:"Online Radio Box",matches:["*://onlineradiobox.com/*","*://p.onlineradiobox.com/*"],js:"onlineradiobox.js",id:"onlineradiobox"},{label:"163 Music",matches:["*://music.163.com/*"],js:"163-music.js",id:"163-music"},{label:"Ambient Sleeping Pill",matches:["*://ambientsleepingpill.com/"],js:"ambientsleepingpill.js",id:"ambientsleepingpill"},{label:"a.m. ambient",matches:["*://amambient.com/"],js:"ambientsleepingpill.js",id:"amambient"},{label:"Tidal",matches:["*://listen.tidalhifi.com/*","*://listen.tidal.com/*"],js:"tidal.js",id:"tidal"},{label:"Hype Machine Featured Albums",matches:["*://hypem.com/album/*"],js:"hypem-albums.js",id:"hypem-premieres"},{label:"Hype Machine",matches:["*://hypem.com/*"],js:"hypem.js",id:"hypem"},{label:"Radionomy",matches:["*://www.radionomy.com/*"],js:"radionomy.js",id:"radionomy"},{label:"J1 Radio",matches:["*://www.j1fm.tokyo/player/*","*://www.j1fm.tokyo/michi/player/*"],js:"aiircom.js",id:"j1-radio"},{label:"JazzAndRain",matches:["*://*.jazzandrain.com/*"],js:"jazzandrain.js",id:"jazzandrain"},{label:"RelaxingBeats",matches:["*://*.relaxingbeats.com/*"],js:"jazzandrain.js",id:"relaxingbeats"},{label:"EpicMusicTime",matches:["*://*.epicmusictime.com/*"],js:"jazzandrain.js",id:"epicmusictime"},{label:"AccuJazz",matches:["*://www.accuradio.com/pop_player/accujazz/*"],js:"accujazz.js",id:"accujazz"},{label:"AccuRadio",matches:["*://www.accuradio.com/*"],js:"accuradio.js",id:"accuradio"},{label:"Imusic.am",matches:["*://imusic.am/*"],js:"imusic.am.js",id:"imusic.am"},{label:"Earbits",matches:["*://www.earbits.com/*"],js:"earbits.js",id:"earbits"},{label:"Player.fm",matches:["*://player.fm/*"],js:"player.fm.js",id:"player.fm"},{label:"Sound Test",matches:["*://sndtst.com/*"],js:"sndtst.js",id:"sndtst"},{label:"RadioTunes",matches:["*://www.radiotunes.com/*"],js:"radiotunes.js",id:"radiotunes"},{label:"RockRadio",matches:["*://www.rockradio.com/*"],js:"radiotunes.js",id:"rockradio"},{label:"ClassicalRadio",matches:["*://www.classicalradio.com/*"],js:"radiotunes.js",id:"classicalradio"},{label:"Audacy",matches:["*://www.audacy.com/*"],js:"audacy.js",id:"audacy"},{label:"Audius",matches:["*://audius.co/*"],js:"audius.js",id:"audius"},{label:"GetWorkDoneMusic",matches:["*://*.getworkdonemusic.com/*"],js:"getworkdonemusic.js",id:"getworkdonemusic"},{label:"Jamendo",matches:["*://www.jamendo.com/*"],js:"jamendo.js",id:"jamendo"},{label:"Bandzone.cz",matches:["*://bandzone.cz/*"],js:"bandzone.cz.js",id:"bandzone.cz"},{label:"Music Player for Google Drive",matches:["*://www.driveplayer.com/*"],js:"driveplayer.js",id:"driveplayer"},{label:"Kodi",js:"kodi.js",id:"kodi"},{label:"Superplayer",matches:["*://www.superplayer.fm/*"],js:"superplayer.js",id:"superplayer"},{label:"RMFON",matches:["*://www.rmfon.pl/*"],js:"rmfon.js",id:"rmfon"},{label:"Radio 357",matches:["*://radio357.pl/*"],js:"radio357.js",id:"radio357"},{label:"JazzRadio",matches:["*://www.jazzradio.com/*"],js:"radiotunes.js",id:"jazzradio"},{label:"Zen Radio",matches:["*://www.zenradio.com/*"],js:"radiotunes.js",id:"zenradio"},{label:"SomaFM",matches:["*://somafm.com/player/*"],js:"somafm.js",id:"somafm"},{label:"Free Music Archive",matches:["*://*.freemusicarchive.org/*"],js:"freemusicarchive.js",id:"freemusicarchive"},{label:"Reddit Music Player",matches:["*://reddit.musicplayer.io/"],js:"redditmusicplayer.js",id:"redditmusicplayer"},{label:"Новое Радио",matches:["*://www.novoeradio.by/*"],js:"novoeradio.js",id:"novoeradio"},{label:"Яндекс.Радио",matches:["*://radio.yandex.ru/*","*://radio.yandex.by/*","*://radio.yandex.kz/*","*://radio.yandex.ua/*"],js:"yandex-music.js",id:"yandex-radio"},{label:"Radio Paradise",matches:["*://radioparadise.com/*"],js:"radioparadise.js",id:"radioparadise",allFrames:!0},{label:"Beatport",matches:["*://www.beatport.com/*"],js:"beatport.js",id:"beatport"},{label:"Beeline Music",matches:["*://music.beeline.ru/*"],js:"beeline-music.js",id:"beeline-music"},{label:"wavo",matches:["*://wavo.me/*"],js:"wavo.js",id:"wavo"},{label:"FluxFM Berlin",matches:["*://www.fluxfm.de/*"],js:"fluxfm.js",id:"fluxfm"},{label:"Noise FM",matches:["*://noisefm.ru/*","*://en.noisefm.ru/*"],js:"noisefm.js",id:"noisefm",allFrames:!0},{label:"WWOZ",matches:["*://www.wwoz.org/listen/player/*"],js:"wwoz.js",id:"wwoz"},{label:"Sonerezh",matches:["*://sonerezh.*/*","*://*/*sonerezh*"],js:"sonerezh.js",id:"sonerezh"},{label:"Youradio",matches:["*://www.youradio.cz/*"],js:"youradio.js",id:"youradio"},{label:"GPMusic",matches:["*://player.gpmusic.co/*"],js:"gpmusic.js",id:"gpmusic"},{label:"Nightwave Plaza",matches:["*://plaza.one/*"],js:"plaza.js",id:"plaza"},{label:"Retrowave",matches:["*://retrowave.ru/*"],js:"retrowave.js",id:"retrowave"},{label:"Genie",matches:["*://www.genie.co.kr/player/fPlayer*"],js:"genie.js",id:"genie"},{label:"Bugs",matches:["*://music.bugs.co.kr/newPlayer*"],js:"bugs.js",id:"bugs"},{label:"openfm",matches:["*://open.fm/*"],js:"openfm.js",id:"openfm"},{label:"Playmoss",matches:["*://playmoss.com/*"],js:"playmoss.js",id:"playmoss"},{label:"Apidog",matches:["*://apidog.ru/*"],js:"apidog.js",id:"apidog"},{label:"Pinguin Radio",matches:["*://pinguinradio.com/*"],js:"pinguinradio.js",id:"pinguinradio"},{label:"JioSaavn",matches:["*://www.jiosaavn.com/*"],js:"jiosaavn.js",id:"jiosaavn"},{label:"Anghami",matches:["*://*.anghami.com/*"],js:"anghami.js",id:"anghami"},{label:"Mail.ru Music",matches:["*://my.mail.ru/music","*://my.mail.ru/music/*"],js:"mail.ru.js",id:"mail.ru"},{label:"Emby/Jellyfin",matches:["*://*8096/web/*","*://*8920/web/*","*://app.emby.media/*"],js:"emby.js",id:"emby"},{label:"Freegal Music",matches:["*://*.freegalmusic.com/*"],js:"freegalmusic.js",id:"freegalmusic"},{label:"hoopla",matches:["*://www.hoopladigital.com/*"],js:"hoopladigital.js",id:"hoopladigital"},{label:"Amplify 817",matches:["*://amplify817.org/*"],js:"musicat.js",id:"amplify817"},{label:"Capital City Records",matches:["*://capitalcityrecords.ca/*"],js:"musicat.js",id:"capitalcityrecords"},{label:"Electric Lady Bird",matches:["*://atxlibrary.musicat.co/*"],js:"musicat.js",id:"musicat-atxlibrary"},{label:"FlipSide",matches:["*://flipside.apl.org/*"],js:"musicat.js",id:"apl-flipside"},{label:"HUM (Hear Utah Music)",matches:["*://hum.slcpl.org/*"],js:"musicat.js",id:"slcpl-hum"},{label:"KDL Vibes",matches:["*://vibes.kdl.org/*"],js:"musicat.js",id:"kdl-vibes"},{label:"Library Music Project",matches:["*://librarymusicproject.com/*"],js:"musicat.js",id:"librarymusicproject"},{label:"MNspin",matches:["*://hclib.musicat.co/*"],js:"musicat.js",id:"musicat-hclib"},{label:"Nashville BoomBox",matches:["*://boombox.library.nashville.org/*"],js:"musicat.js",id:"nashville-library-boombox"},{label:"QC Beats",matches:["*://qcbeats.org/*"],js:"musicat.js",id:"qcbeats"},{label:"Q-Dance",matches:["*://www.q-dance.com/*"],js:"q-dance.js",id:"q-dance"},{label:"Sawdust City Sounds",matches:["*://sawdustcitysounds.org/*"],js:"musicat.js",id:"sawdustcitysounds"},{label:"Seattle PlayBack",matches:["*://playback.spl.org/*"],js:"musicat.js",id:"spl-playback"},{label:"STACKS",matches:["*://stacks.carnegielibrary.org/*"],js:"musicat.js",id:"carnegielibrary-stacks"},{label:"Tracks Music Library",matches:["*://tracksmusiclibrary.org/*"],js:"musicat.js",id:"tracksmusiclibrary"},{label:"Monstercat",matches:["*://www.monstercat.com/*"],js:"monstercat.js",id:"monstercat"},{label:"Listen.moe",matches:["*://listen.moe/*"],js:"listen.moe.js",id:"listen.moe"},{label:"anime(bits)",matches:["*://radio.animebits.moe/","*://radio.animebits.moe/player/*"],js:"animebits.js",id:"animebits"},{label:"Fair Price Music",matches:["*://www.fairpricemusic.com/*"],js:"fairpricemusic.js",id:"fairpricemusic"},{label:"Radio ULTRA",matches:["*://player.radioultra.ru/*"],js:"radioultra.js",id:"radioultra"},{label:"Наше Радио",matches:["*://player.nashe.ru/*"],js:"radioultra.js",id:"nashe"},{label:"RockFM",matches:["*://player.rockfm.ru/*"],js:"radioultra.js",id:"rockfm"},{label:"Radio JAZZ",matches:["*://player.radiojazzfm.ru/*"],js:"radioultra.js",id:"radiojazzfm"},{label:"WO Streaming",matches:["*://*player.wostreaming.net/*"],js:"wostreaming.js",id:"wostreaming"},{label:"Listen Live",matches:["*://player.listenlive.co/*"],js:"listenlive.js",id:"listenlive"},{label:"Rayo",matches:["*://hellorayo.co.uk/*/play/*","*://hellorayo.co.uk/*/player/*"],js:"planetradio.js",id:"planetradio"},{label:"Roxx Radio",matches:["*://roxx.gr/radio/*"],js:"roxx.js",id:"roxx"},{label:"ListenOnRepeat",matches:["*://listenonrepeat.com/*"],js:"listenonrepeat.js",id:"listenonrepeat"},{label:"Duckburg Radio",matches:["*://*.radio-mb.com/*"],js:"radio-mb.js",id:"radio-mb"},{label:"Webradio.de",matches:["*://www.webradio.de/*"],js:"radioplayer.js",id:"webradio.de"},{label:"The Breeze",matches:["*://www.thebreeze.com/*/radioplayer/*"],js:"radioplayer.js",id:"thebreeze"},{label:"RadioPlayer",matches:["*://ukradioplayer.*/*","*://radioplayer.*/*","*://*/radioplayer/*","*://*/radio/player/","*://*/*/radio/player/"],js:"radioplayer.js",id:"radioplayer"},{label:"deltaradio",matches:["*://www.deltaradio.de/*"],js:"deltaradio.de.js",id:"deltaradio.de"},{label:"Radio Bob",matches:["*://*.radiobob.de/*"],js:"radiobob.js",id:"radiobob"},{label:"ByteFM",matches:["*://www.byte.fm/*"],js:"byte.fm.js",id:"byte.fm"},{label:"Deutschlandfunk Nova",matches:["*://www.deutschlandfunknova.de/*"],js:"deutschlandfunknova.js",id:"deutschlandfunknova"},{label:"QQ Music",matches:["*://y.qq.com/*"],js:"qq-music.js",id:"qq-music"},{label:"QQ Video",matches:["*://v.qq.com/x/*"],js:"qq-video.js",id:"qq-video"},{label:"Naver",matches:["*://playerui.music.naver.com/*"],js:"naver.js",id:"naver"},{label:"Soribada",matches:["*://www.soribada.com/*"],js:"soribada.js",id:"soribada"},{label:"Flo",matches:["*://www.music-flo.com/*"],js:"music-flo.js",id:"music-flo"},{label:"Discogs",matches:["*://www.discogs.com/*"],js:"youtube-embed.js",id:"youtube-embed",allFrames:!0},{label:"NPR",matches:["*://www.npr.org/*"],js:"npr.js",id:"npr"},{label:"Streamsquid",matches:["*://streamsquid.com/*"],js:"streamsquid.js",id:"streamsquid"},{label:"Streemlion",matches:["*://listen.streemlion.com/*"],js:"streemlion.js",id:"streemlion"},{label:"eMusic",matches:["*://www.emusic.com/*"],js:"emusic.js",id:"emusic"},{label:"LyricsTraining",matches:["*://lyricstraining.com/*"],js:"lyricstraining.js",id:"lyricstraining"},{label:"Music Walker",matches:["*://arkanath.com/MusicWalker/*"],js:"musicwalker.js",id:"musicwalker"},{label:"radioeins",matches:["*://www.radioeins.de/livestream/*"],js:"radioeins.js",id:"radioeins"},{label:"Fritz",matches:["*://www.fritz.de/livestream/*"],js:"fritz.js",id:"fritz"},{label:"Musicoin",matches:["*://musicoin.org/*"],js:"musicoin.js",id:"musicoin"},{label:"181.fm",matches:["*://player.181fm.com/*"],js:"181.fm.js",id:"181.fm"},{label:"Phish.in",matches:["*://phish.in/*"],js:"phish.in.js",id:"phish.in"},{label:"Rainwave",matches:["*://rainwave.cc/*","*://all.rainwave.cc/*","*://game.rainwave.cc/*","*://chiptune.rainwave.cc/*","*://ocr.rainwave.cc/*","*://covers.rainwave.cc/*"],js:"rainwave.js",id:"rainwave"},{label:"Retro Synthwave",matches:["*://www.retro-synthwave.com/*"],js:"retro-synthwave.js",id:"retro-synthwave"},{label:"Радиоволна.нет",matches:["*://radiovolna.net/*"],js:"radiovolna.js",id:"radiovolna"},{label:"Feedbands",matches:["*://feedbands.com/*"],js:"feedbands.js",id:"feedbands"},{label:"Taazi",matches:["*://taazi.com/*"],js:"taazi.js",id:"taazi"},{label:"Patari",matches:["*://patari.pk/*"],js:"patari.js",id:"patari"},{label:"pCloud",matches:["*://my.pcloud.com/*"],js:"pcloud.js",id:"pcloud"},{label:"JetSetRadio Live",matches:["*://jetsetradio.live/*"],js:"jetsetradio.live.js",id:"jetsetradio.live"},{label:"Radio France",matches:["*://www.radiofrance.fr/*"],js:"radiofrance.js",id:"radiofrance"},{label:"RemixRotation",matches:["*://remixrotation.com/*"],js:"remixrotation.js",id:"remixrotation"},{label:"WFMU",matches:["*://wfmu.org/*"],js:"wfmu.js",id:"wfmu"},{label:"SiriusXM",matches:["*://www.siriusxm.com/*","*://www.siriusxm.ca/*","*://*.siriusxm.com/player/*"],js:"siriusxm-player.js",id:"siriusxm-player"},{label:"1ting",matches:["*://www.1ting.com/player/*","*://www.1ting.com/p_*","*://www.1ting.com/album*","*://www.1ting.com/rand.php*","*://www.1ting.com/day/*","*://h5.1ting.com/*"],js:"1ting.js",id:"1ting"},{label:"Douban Artists",matches:["*://music.douban.com/artists/player/*"],js:"douban-artists.js",id:"douban-artists"},{label:"Kugou",matches:["*://www.kugou.com/song/*"],js:"kugou.js",id:"kugou"},{label:"Gimme Radio",matches:["*://gimmeradio.com/*","*://www.gimmeradio.com/*","*://gimmecountry.com/*","*://www.gimmecountry.com/*","*://gimmemetal.com/*","*://www.gimmemetal.com/*"],js:"gimmeradio.js",id:"gimmeradio"},{label:"9sky",matches:["*://www.9sky.com/music*","*://www.9sky.com/mv/detail*"],js:"9sky.js",id:"9sky"},{label:"Vagalume.FM",matches:["*://vagalume.fm/*","*://*.vagalume.com.br/*"],js:"vagalume.js",id:"vagalume"},{label:"Radiooooo",matches:["*://radiooooo.com/*","*://mobile.radiooooo.com/*"],js:"radiooooo.js",id:"radiooooo"},{label:"LetsLoop",matches:["*://letsloop.com/*"],js:"letsloop.js",id:"letsloop"},{label:"Mideast Tunes",matches:["*://mideastunes.com/*","*://map.mideastunes.com/*"],js:"mideastunes.js",id:"mideastunes"},{label:"Český Rozhlas",matches:["*://prehravac.rozhlas.cz/*"],js:"rozhlas.js",id:"rozhlas"},{label:"blocSonic",matches:["*://*.blocsonic.com/*"],js:"blocsonic.js",id:"blocsonic"},{label:"Resonate",matches:["*://stream.resonate.coop/*"],js:"resonate.js",id:"resonate"},{label:"KEXP",matches:["*://*.kexp.org/*"],js:"kexp.js",id:"kexp"},{label:"Hotmixradio.fr",matches:["*://www.hotmixradio.fr/*"],js:"hotmixradio.js",id:"hotmixradio"},{label:"Aphex Twin",matches:["*://aphextwin.warp.net/*"],js:"warp-aphextwin.js",id:"warp-aphextwin"},{label:"Zachary Seguin Music",matches:["*://music.zacharyseguin.ca/*"],js:"musickit.js",id:"zacharyseguin"},{label:"Joox",matches:["*://www.joox.com/*"],js:"joox.js",id:"joox"},{label:"Musish",matches:["*://musi.sh/*"],js:"musickit.js",id:"musish"},{label:"1001tracklists",matches:["*://www.1001tracklists.com/tracklist/*"],js:"1001tracklists.js",id:"1001tracklists"},{label:"YouTube Music",matches:["*://music.youtube.com/*"],js:"youtube-music.js",id:"youtube-music"},{label:"Radiozenders.FM",matches:["*://www.radiozenders.fm/*"],js:"radiozenders.js",id:"radiozenders"},{label:"Invidious",matches:["*://*.invidio.us/*"],js:"invidious.js",id:"invidious"},{label:"Piped",matches:["*://piped.video/*"],js:"piped.js",id:"piped"},{label:"Pretzel",matches:["*://*.pretzel.rocks/*"],js:"pretzel.js",id:"pretzel"},{label:"Primordial Radio",matches:["*://primordialradio.com/*"],js:"primordialradio.js",id:"primordialradio"},{label:"Radio Kyivstar",matches:["*://radio.kyivstar.ua/*"],js:"kyivstar.js",id:"kyivstar"},{label:"Funkwhale",js:"funkwhale.js",id:"funkwhale"},{label:"9128.live",matches:["*://9128.live/*","*://embed.radio.co/player/*"],js:"radioco.js",id:"9128.live",allFrames:!0},{label:"Radio.co",matches:["*://embed.radio.co/player/*"],js:"radioco.js",id:"radioco"},{label:"Super45.fm",matches:["*://super45.fm/"],js:"radioco.js",id:"super45fm",allFrames:!0},{label:"R/a/dio",matches:["*://r-a-d.io/*"],js:"r-a-d.io.js",id:"r-a-d.io"},{label:"Apple Music",matches:["*://*music.apple.com/*"],js:"musickit.js",id:"apple-music"},{label:"Primephonic",matches:["*://play.primephonic.com/*"],js:"primephonic.js",id:"primephonic"},{label:"Watch2Gether",matches:["*://w2g.tv/*"],js:"watch2gether.js",id:"watch2gether"},{label:"Poolsuite",matches:["*://poolsuite.net/*"],js:"poolsuite.js",id:"poolsuite"},{label:"GDS.FM",matches:["*://www.gds.fm/*","*://gds.fm/*"],js:"gds.fm.js",id:"gds"},{label:"Wynk Music",matches:["*://wynk.in/music*"],js:"wynk.js",id:"wynk"},{label:"RadioJavan",matches:["*://play.radiojavan.com/*"],js:"radiojavan.js",id:"radiojavan"},{label:"Audiomack",matches:["*://audiomack.com/*"],js:"audiomack.js",id:"audiomack"},{label:"Global Player",matches:["*://www.globalplayer.com/*"],js:"globalplayer.js",id:"globalplayer"},{label:"The Current",matches:["*://www.thecurrent.org/*"],js:"thecurrent.js",id:"thecurrent"},{label:"pan y rosas discos",matches:["*://www.panyrosasdiscos.net/*"],js:"panyrosasdiscos.js",id:"panyrosasdiscos"},{label:"GRRIF",matches:["*://*.grrif.ch/*"],js:"grrif.js",id:"grrif"},{label:"newgrounds",matches:["*://www.newgrounds.com/audio*"],js:"newgrounds.js",id:"newgrounds"},{label:"Jango",matches:["*://www.jango.com/*"],js:"jango.js",id:"jango"},{label:"PlayIrish",matches:["*://*.playirish.ie/*"],js:"playirish.js",id:"playirish"},{label:"Radio Record",matches:["*://www.radiorecord.ru/*"],js:"radiorecord.js",id:"radiorecord"},{label:"Imago Radio",matches:["*://*.imago.fm/*"],js:"imago.js",id:"imago"},{label:"Provoda.ch",matches:["*://*.provoda.ch/*"],js:"provoda.ch.js",id:"provoda.ch"},{label:"Atomic Music Space",matches:["*://stream.atomicmusic.space/*"],js:"atomicmusic.space.js",id:"atomicmusic.space"},{label:"The-radio.ru",matches:["*://the-radio.ru/*"],js:"the-radio.ru.js",id:"the-radio.ru"},{label:"HQ Radio",matches:["*://hqradio.ru/*"],js:"hqradio.js",id:"hqradio"},{label:"Smooth FM",matches:["*://smoothfm.iol.pt/*"],js:"smoothfm.js",id:"smoothfm"},{label:"Vodafone.fm",matches:["*://vodafone.fm/*"],js:"vodafone.fm.js",id:"vodafonefm"},{label:"Relisten.net",matches:["*://relisten.net/*"],js:"relisten.js",id:"relisten"},{label:"UpBeatRadio",matches:["*://upbeatradio.net/*"],js:"upbeatradio.js",id:"upbeatradio"},{label:"Chillhop",matches:["*://chillhop.com/*"],js:"chillhop.js",id:"chillhop"},{label:"DatPiff",matches:["*://www.datpiff.com/player/*"],js:"datpiff.js",id:"datpiff",allFrames:!0},{label:"Shuffle",matches:["*://shuffle.one/play*"],js:"shuffleone.js",id:"shuffleone"},{label:"JB FM",matches:["*://jb.fm/player/*"],js:"jb.fm.js",id:"jbfm"},{label:"SECTOR Radio",matches:["*://sectorradio.ru/*"],js:"sectorradio.js",id:"sectorradio"},{label:"LiveOne",matches:["*://*.liveone.com/*"],js:"liveone.js",id:"liveone"},{label:"PocketCasts",matches:["*://play.pocketcasts.com/*"],js:"pocketcasts.js",id:"pocketcasts"},{label:"Clyp",matches:["*://clyp.it/*"],js:"clyp.js",id:"clyp"},{label:"RTBF Radio",matches:["*://www.rtbf.be/radio/*"],js:"rtbf.js",id:"rtbf"},{label:"TuneTrack",matches:["*://tunetrack.net/*"],js:"tunetrack.js",id:"tunetrack"},{label:"Musify",matches:["*://*.musify.club/*"],js:"musify.js",id:"musify"},{label:"Radio Rethink",matches:["*://www.radiorethink.com/*"],js:"radiorethink.js",id:"radiorethink"},{label:"SoundClick",matches:["*://www.soundclick.com/*"],js:"soundclick.js",id:"soundclick"},{label:"Napster",matches:["*://app.napster.com/*"],js:"napster.js",id:"napster"},{label:"abc.net.au",matches:["*://www.abc.net.au/*/listen-live/*"],js:"abc.net.au.js",id:"abcnetau"},{label:"JQBX",matches:["*://app.jqbx.fm/*"],js:"jqbx.js",id:"jqbx"},{label:"music.jsososo.com",matches:["*://y.jsososo.com/*","*://music.jsososo.com/*"],js:"jsososo.js",id:"jsososo"},{label:"Supla",matches:["*://*.supla.fi/*"],js:"supla.js",id:"supla"},{label:"swr3",matches:["*://www.swr3.de/*"],js:"swr3.js",id:"swr3"},{label:"Epidemic Sound",matches:["*://*.epidemicsound.com/*"],js:"epidemicsound.js",id:"epidemicsound"},{label:"Rekt Network",matches:["*://rekt.network/*"],js:"rekt.network.js",id:"rektnetwork"},{label:"Nightride FM",matches:["*://nightride.fm/*"],js:"nightride.fm.js",id:"nightridefm"},{label:"Qobuz",matches:["*://*.qobuz.com/*"],js:"qobuz.js",id:"qobuz"},{label:"TruckersFM",matches:["*://*.truckers.fm/*"],js:"truckersfm.js",id:"truckersfm"},{id:"winampify",label:"Winampify",js:"winampify.js",matches:["*://winampify.io/*"]},{label:"detektor.fm",matches:["*://detektor.fm/*"],js:"detektorfm.js",id:"detektorfm"},{label:"iBroadcast",matches:["*://media.ibroadcast.com/*"],js:"ibroadcast.js",id:"ibroadcast"},{label:"Radio7",matches:["*://radio7.lv/*"],js:"radio7.js",id:"radio7lv"},{label:"TOWER RECORDS MUSIC",matches:["*://music.tower.jp/*"],js:"towerrecordsmusic.js",id:"towerrecordsmusic"},{label:"Eggs",matches:["*://eggs.mu/*"],js:"eggs.js",id:"eggs"},{label:"Jamstash",matches:["*://jamstash.com/*"],js:"jamstash.js",id:"jamstash"},{label:"SubFire",matches:["*://p.subfireplayer.net/*"],js:"subfire.js",id:"subfire"},{label:"Idagio",matches:["*://app.idagio.com/*"],js:"idagio.js",id:"idagio"},{label:"Relax FM",matches:["*://relax-fm.ru/*"],js:"relaxfm.js",id:"relaxfm"},{label:"Laut.fm",matches:["*://laut.fm/*"],js:"laut.fm.js",id:"laut.fm"},{label:"Magnatune",matches:["*://magnatune.com/*"],js:"magnatune.js",id:"magnatune"},{label:"Libre.fm",matches:["*://libre.fm/*"],js:"librefm.js",id:"librefm"},{label:"Brain.fm",matches:["*://my.brain.fm/*"],js:"brainfm.js",id:"brainfm"},{label:"bullofheaven.com",matches:["*://bullofheaven.com/*"],js:"bullofheaven.com.js",id:"bullofheavencom"},{label:"All Classical Portland",matches:["*://player.allclassical.org/*"],js:"allclassical.org.js",id:"allclassicalportland"},{label:"Migu Music",matches:["*://music.migu.cn/*"],js:"migu-music.js",id:"migu-music"},{label:"Weibo",matches:["*://weibo.com/*","*://*.weibo.com/*"],js:"weibo.js",id:"weibo"},{label:"Street Voice",matches:["*://streetvoice.cn/*","*://streetvoice.com/*"],js:"streetvoice.js",id:"streetvoice"},{label:"Red Bull",matches:["*://www.redbull.com/*"],js:"redbull.js",id:"redbull"},{label:"Synology",matches:["*://*5000/*","*://*/?launchApp=SYNO.SDS.AudioStation.Application*"],js:"synology.js",id:"synology"},{label:"Ragya",matches:["*://www.ragya.com/*"],js:"ragya.js",id:"ragya"},{label:"CodeRadio",matches:["*://coderadio.freecodecamp.org/*"],js:"coderadio.js",id:"coderadio"},{label:"LITT Live",matches:["*://littlive.com/*"],js:"littlive.js",id:"dashradio"},{label:"Niconico",matches:["*://www.nicovideo.jp/*"],js:"nicovideo.js",id:"nicovideo"},{label:"Звук",matches:["*://zvuk.com/*"],js:"zvuk.js",id:"zvuk"},{label:"Navidrome",js:"navidrome.js",id:"navidrome"},{label:"deep-cut.fm",matches:["*://deepcut.fm/*","*://turntable.fm/*","*://deep-cut.fm/*","*://deepcuts.fm/*"],js:"deep-cut.fm.js",id:"deepcut.fm"},{label:"Burntable",matches:["*://*.burntable.com/*"],js:"burntable.js",id:"burntable"},{label:"Stingray Music",matches:["*://*.stingray.com/*"],js:"stingray.js",id:"stingray"},{label:"CBC Music",matches:["*://www.cbc.ca/listen/cbc-music-playlists*"],js:"cbcmusic.js",id:"cbcmusic"},{label:"Indie88",matches:["*://indie88.com/lean-stream-player/*","*://cob.leanplayer.com/CINDFM*"],js:"indie88.js",id:"indie88"},{label:"Playlist Randomizer",matches:["*://www.playlist-randomizer.com/*","*://playlist-randomizer.com/*"],js:"playlist-randomizer.js",id:"playlist-randomizer"},{label:"QueUp",matches:["*://www.queup.net/*"],js:"queup.js",id:"queup"},{label:"Live 365",matches:["*://*.live365.com/*"],js:"live365.js",id:"live365"},{label:"Lounge.fm",matches:["*://www.lounge.fm/*"],js:"lounge.fm.js",id:"lounge.fm"},{label:"EulerBeats",matches:["*://eulerbeats.com/*"],js:"eulerbeats.js",id:"eulerbeats"},{label:"FilmMusic.io",matches:["*://*.filmmusic.io/*"],js:"filmmusic.io.js",id:"filmmusic.io"},{label:"X-Team Radio",matches:["*://radio.x-team.com/*"],js:"xteam-radio.js",id:"xteam-radio"},{label:"Calm",matches:["*://*.calm.com/*"],js:"calm.js",id:"calm"},{label:"Keakie",matches:["*://*.keakie.com/*"],js:"keakie.js",id:"keakie"},{label:"KKBOX",matches:["*://*play.kkbox.com/*"],js:"kkbox.js",id:"kkbox"},{label:"Thrill Jockey",matches:["*://thrilljockey.com/products/*"],js:"thrilljockey.js",id:"thrilljockey"},{label:"Radio Horizonte",matches:["*://horizonte.cl/*"],js:"mediastream.js",id:"horizontecl"},{label:"Sonar FM",matches:["*://sonarfm.cl/*"],js:"mediastream.js",id:"sonarfmcl"},{label:"Play FM",matches:["*://playfm.cl/*"],js:"mediastream.js",id:"playfmcl"},{label:"WKM Radio",matches:["*://www.wkmradio.com/*"],js:"mediastream.js",id:"wkmradio"},{label:"Rockaxis",matches:["*://www.rockaxis.com/*"],js:"mediastream.js",id:"rockaxis"},{label:"Rock&Pop Chile",matches:["*://www.rockandpop.cl/*"],js:"rockandpopcl.js",id:"rockandpopcl"},{label:"WYEP",matches:["*://wyep.org/*"],js:"wyep.js",id:"wyep"},{label:"ZENO",matches:["*://*zeno.fm/*"],js:"zeno.js",id:"zeno"},{label:"Naxos Music Library",matches:["*://*.naxosmusiclibrary.com/*"],js:"naxosmusiclibrary.js",id:"naxosmusiclibrary"},{label:"Klassik Radio",matches:["*://*klassikradio.de/*"],js:"klassikradio.de.js",id:"klassikradio"},{label:"Beetle",js:"beetle.js",id:"beetle"},{label:"RefNet",matches:["*://listen.refnet.fm/*"],js:"refnet.js",id:"refnet"},{label:"La Radio du bord de l'eau",matches:["*://*auborddeleau.radio/*"],js:"auborddeleau.radio.js",id:"auborddeleau.radio",allFrames:!0},{label:"Radio Willy",matches:["*://*willy.radio/player/willy/*"],js:"willy.radio.js",id:"willy.radio"},{label:"NIGHT.FM",matches:["*://*night.fm/*"],js:"night.fm.js",id:"night.fm"},{label:"Radio Nowy Swiat",matches:["*://nowyswiat.online/*"],js:"nowyswiat.js",id:"nowyswiat"},{label:"Radiolla",matches:["*://*radiolla.com/*"],js:"radiolla.js",id:"radiolla"},{label:"Oxigenio.fm",matches:["*://*oxigenio.fm/*"],js:"oxigenio.fm.js",id:"oxigenio.fm"},{label:"Intergalactic FM",matches:["*://*intergalactic.fm/*"],js:"intergalacticfm.js",id:"intergalactic.fm"},{label:"Radio Cuca",matches:["*://*radiocuca.es/*"],js:"radiocuca.js",id:"radiocuca"},{label:"Irama Nusantara",matches:["*://*.iramanusantara.org/*"],js:"iramanusantara.js",id:"iramanusantara"},{label:"Yammat FM",matches:["*://*yammat.fm/*"],js:"yammat.fm.js",id:"yammat.fm"},{label:"Husk Recordings",matches:["*://huskrecordings.com/music/*"],js:"huskrecordings.js",id:"huskrecordings"},{label:"nugs.net",matches:["*://play.nugs.net/*"],js:"nugs.js",id:"nugs"},{label:"livephish.com",matches:["*://plus.livephish.com/*"],js:"livephish.js",id:"livephish.com"},{label:"Ishkur's Guide to Electronic Music",matches:["*://music.ishkur.com/*"],js:"ishkur.js",id:"music.ishkur.com"},{label:"Nonoki",matches:["*://nonoki.com/music/*"],js:"nonoki.js",id:"nonoki"},{label:"Beatbump",matches:["*://beatbump.io/*"],js:"beatbump.js",id:"beatbump"},{label:"LINE MUSIC",matches:["*://music.line.me/*"],js:"line-music.js",id:"linemusic"},{label:"KCRW",matches:["*://www.kcrw.com/*"],js:"kcrw.js",id:"kcrw"},{label:"World Fusion Radio",matches:["*://worldfusionradio.com/*"],js:"worldfusionradio.js",id:"worldfusionradio"},{label:"Hardtunes",matches:["*://www.hard-tunes.de/*","*://www.hardtunes.com/*","*://www.hardtunes.fr/*","*://www.hardtunes.it/*","*://www.hardtunes.nl/*"],js:"hardtunes.js",id:"hardtunes"},{label:"KINK",matches:["*://kink.nl/player","*://kink.nl/player/*"],js:"kinknl.js",id:"kinknl"},{label:"The Jazz Groove",matches:["*://jazzgroove.org/*"],js:"jazzgroove.js",id:"jazzgroove"},{label:"XRAY.FM",matches:["*://*.xray.fm/*"],js:"xrayfm.js",id:"xrayfm"},{label:"DKFM Shoegaze Radio",matches:["*://decayfm.com/*"],js:"decayfm.js",id:"decayfm"},{label:"QCIndie",matches:["*://www.qcindie.com/listen-live/*"],js:"qcindie.js",id:"qcindie"},{label:"Colorado Public Radio",matches:["*://www.cpr.org/*"],js:"cpr.js",id:"cpr"},{label:"Indie 102.3",matches:["*://indie.cpr.org/"],js:"cpr-indie.js",id:"cpr-indie"},{label:"WXPN",matches:["*://xpn.org/*"],js:"xpn.js",id:"xpn"},{label:"FRISKY",matches:["*://*.frisky.fm/*"],js:"friskyfm.js",id:"friskyfm"},{label:"GotRadio",matches:["*://player.gotradio.com/*"],js:"gotradio.js",id:"gotradio"},{label:"LightningStream",matches:["*://*.lightningstream.com/Player*","*://*.lightningstream.com/player*"],js:"lightningstream.js",id:"lightningstream"},{label:"Securenet Systems",matches:["*://radio.securenetsystems.net/*","*://stream*.securenetsystems.net/*"],js:"securenetsystems.js",id:"securenetsystems"},{label:"WBRU",matches:["*://www.wbru.com/*"],js:"radioco.js",id:"wbru",allFrames:!0},{label:"uwu radio",matches:["*://radio.uwu.network/*"],js:"uwu-radio.js",id:"uwu-radio"},{label:"MyStreamPlayer",matches:["*://*.mystreamplayer.com/*"],js:"mystreamplayer.js",id:"mystreamplayer"},{label:"BagelRadio",matches:["*://*.bagelradio.com/*"],js:"mystreamplayer.js",id:"bagelradio",allFrames:!0},{label:"Amazing Radio",matches:["*://amazingradio.com/*","*://amazingradio.us/*"],js:"amazingradio.js",id:"amazingradio"},{label:"DR Lyd",matches:["*://www.dr.dk/lyd*"],js:"dr-lyd.js",id:"dr-lyd"},{label:"lulu.fm",matches:["*://*lulu.fm/*"],js:"lulu.fm.js",id:"lulufm"},{label:"ROCK ANTENNE",matches:["*://*rockantenne.*/webradio/*"],js:"rockantenne.js",id:"rockantenne"},{label:"copyparty",matches:["*://127.0.0.1:3923/*","*://a.ocv.me/*"],js:"copyparty.js",id:"copyparty"},{label:"Fungjai",matches:["*://*.fungjai.com/*"],js:"fungjai.js",id:"fungjai"},{label:"Radio Caprice",matches:["*://radcap.ru/*"],js:"radcap.js",id:"radcap"},{label:"TrackerHub",matches:["*://trackerhub.vercel.app/*"],js:"trackerhub.js",id:"trackerhub"},{label:"Gensokyo Radio",matches:["*://gensokyoradio.net/*"],js:"gensokyoradio.js",id:"gensokyoradio"},{label:"Stationhead",matches:["*://*stationhead.com/*"],js:"stationhead.js",id:"stationhead"},{label:"TECHNOBASE.FM",matches:["*://*technobase.fm/*","*://*housetime.fm/*","*://*hardbase.fm/*","*://*trancebase.fm/*","*://*coretime.fm/*","*://*clubtime.fm/*","*://*teatime.fm/*","*://*replay.fm/*"],js:"technobase.fm.js",id:"technobase.fm"},{label:"Telegram A",matches:["*://web.telegram.org/a/*"],js:"telegram-a.js",id:"telegram-a"},{label:"Telegram K",matches:["*://web.telegram.org/k/*"],js:"telegram-k.js",id:"telegram-k"},{label:"TuneGenieEmbed",matches:["*://b3.tunegenie.com/*"],js:"tunegenie-embed.js",id:"tunegenie-embed",allFrames:!0},{label:"TuneGenie",matches:["*://*.tunegenie.com/*"],js:"tunegenie.js",id:"tunegenie"},{label:"RTL+ Musik",matches:["*://plus.rtl.de/*"],js:"rtl-plus-musik.js",id:"rtl-plus-musik"},{label:"Tomorrowland",matches:["*://www.tomorrowland.com/*"],js:"tomorrowland.js",id:"tomorrowland"},{label:"hearthis.at",matches:["*://hearthis.at/*"],js:"hearthis-at.js",id:"hearthis-at"},{label:"Blend",matches:["*://blend.io/*"],js:"blend.js",id:"blend"},{label:"Radio Italia",matches:["*://www.radioitalia.it/*"],js:"radio-italia.js",id:"radio-italia"},{label:"Lyden av Norge",matches:["*://www.lydenavnorge.no/*"],js:"lyden-av-norge.js",id:"lyden-av-norge"},{label:"audio.com",matches:["*://audio.com/*"],js:"audio.js",id:"audio-com"},{label:"AfroCharts",matches:["*://*.afrocharts.com/*"],js:"afrocharts.js",id:"afrocharts"},{label:"Ed Banger Records",matches:["*://*.edbangerrecords.com/*"],js:"ed-banger-records.js",id:"ed-banger-records"},{label:"Hyperpipe",matches:["*://hyperpipe.surge.sh/*"],js:"hyperpipe.js",id:"hyperpipe"},{label:"Radiofreccia",matches:["*://play.rtl.it/live/*"],js:"radiofreccia.js",id:"radiofreccia"},{label:"khinsider",matches:["*://downloads.khinsider.com/*"],js:"khinsider.js",id:"khinsider"},{label:"WDR",matches:["*://*.wdr.de/radio/*"],js:"wdr.js",id:"wdr"},{label:"radio.de",matches:["*://www.radio.de/*"],js:"radio.de.js",id:"radiode"},{label:"FMSpins",matches:["*://*.fmspins.com/*"],js:"fmspins.js",id:"fmspins"},{label:"vk-save",matches:["*://*.vk-save.com/*"],js:"vk-save.js",id:"vk-save"},{label:"Radio Student",matches:["*://www.radiostudent.hr/*"],js:"radiostudent.js",id:"radiostudent"},{label:"BiliBili",matches:["*://www.bilibili.com/*"],js:"bilibili.js",id:"bilibili",usesBlocklist:!0},{label:"jam.coop",matches:["*://jam.coop/*"],js:"jam.coop.js",id:"jam.coop"},{label:"Zing MP3",matches:["*://zingmp3.vn/*"],js:"zingmp3.js",id:"zingmp3"},{label:"NTS Live",matches:["*://*nts.live/live-tracklist/*"],js:"nts-live.js",id:"nts-live"},{label:"NTS Shows",matches:["*://*nts.live/","*://*nts.live/latest*","*://*nts.live/shows*","*://*nts.live/explore*","*://*nts.live/infinite-mixtapes*","*://*nts.live/radio*","*://*nts.live/supporters*","*://*nts.live/my-nts*","*://*nts.live/events*","*://*nts.live/videos*","*://*nts.live/incoming*","*://*nts.live/about*"],js:"nts-shows.js",id:"nts-shows"},{label:"earth.fm",matches:["*://earth.fm/*"],js:"earth.fm.js",id:"earthfm"},{label:"apt-get's auditorium",matches:["*://tunes.apt-get.xyz/*"],js:"apt-get-tunes.js",id:"apt-get-tunes"},{label:"AzuraCast",js:"azuracast.js",id:"azuracast"},{label:"scrobblerad.io",matches:["*://scrobblerad.io/*"],js:"scrobbleradio.js",id:"scrobbleradio"},{label:"weareone.fm",matches:["*://weareone.fm/*"],js:"weareone.js",id:"weareone"},{label:"Bollerwagen",matches:["*://radiobollerwagen.de/*"],js:"bollerwagen.js",id:"bollerwagen"},{label:"МТС Музыка",matches:["*://music.mts.ru/*"],js:"mts-music.js",id:"mts-music"},{label:"ChirpRadio",matches:["*://chirpradio.org/*"],js:"chirpradio.js",id:"chirpradio"},{label:"InstantAudio",matches:["*://instant.audio/*","*://radiosdecuba.com/*","*://radio.ht/*","*://jamaicaradio.net/*","*://emisoras.com.mx/*","*://radiosdepuertorico.com/*","*://radios.com.do/*","*://trinidadradiostations.net/*","*://radios.co.cr/*","*://radios.com.sv/*","*://emisoras.com.gt/*","*://radios.hn/*","*://radios.co.ni/*","*://radios.com.pa/*","*://radioarg.com/*","*://radios.com.bo/*","*://radiosaovivo.net/*","*://emisora.cl/*","*://radios.com.co/*","*://radios.com.ec/*","*://emisoras.com.py/*","*://radios.com.pe/*","*://surinaamseradio.com/*","*://radios.com.uy/*","*://radio.co.ve/*","*://radiosonline.be/*","*://ceskaradiaonline.cz/*","*://radio.co.dk/*","*://radiolisten.de/*","*://raadiod.com/*","*://emisora.org.es/*","*://ecouterradioenligne.com/*","*://radiofona.com.gr/*","*://radios.hr/*","*://ieradio.org/*","*://ascoltareradio.com/*","*://latvijasradio.com/*","*://radios.lu/*","*://radijas.org/*","*://radiohallgatas.hu/*","*://nederlandseradio.nl/*","*://nettradionorge.com/*","*://radios.co.at/*","*://onlineradio.pl/*","*://radioonline.com.pt/*","*://radio.org.ro/*","*://radiosonline.ch/*","*://siradio.si/*","*://radiostanice.rs/*","*://nettiradiot.org/*","*://radio.org.se/*","*://internetradiouk.com/*","*://bg-radio.org/*","*://radio.pp.ru/*","*://radioua.net/*","*://radioalgerie.eu/*","*://radio.co.cm/*","*://radio.cd/*","*://radio.co.ci/*","*://radio.com.gh/*","*://radio.or.ke/*","*://radio.mg/*","*://radio.co.ma/*","*://egyptradio.net/*","*://radio.org.ng/*","*://radio.sn/*","*://radiosa.org/*","*://radiotunisienne.org/*","*://radio.co.ug/*","*://radio-bd.com/*","*://radioonline.kr/*","*://radios.hk/*","*://onlineradios.in/*","*://radioonline.co.id/*","*://radioonline.my/*","*://radionp.com/*","*://jpradio.jp/*","*://radio.net.pk/*","*://radio.org.ph/*","*://radiosingapore.org/*","*://radio.com.lk/*","*://vietnamradio.org/*","*://radios.org.il/*","*://radioth.net/*","*://zhibo.fm/*","*://radios.tw/*","*://radioau.net/*","*://radio.org.nz/*"],js:"instantaudio.js",id:"instantaudio"},{label:"Basspistol Radio",matches:["*://*.basspistol.com/*"],js:"basspistol.js",id:"basspistol"},{label:"RadioFreeFedi",matches:["*://radiofreefedi.net/*"],js:"radiofreefedi.js",id:"radiofreefedi"},{label:"MyTuner",matches:["*://mytuner-radio.com/*"],js:"mytuner.js",id:"mytuner"},{label:"Mirlo",matches:["*://mirlo.space/*"],js:"mirlo.js",id:"mirlo"},{label:"Simulator Radio",matches:["*://*.simulatorradio.com/*"],js:"simulatorradio.js",id:"simulatorradio"}],zn="*",Ac="[hidden]",kc=50;function ce(e,t="log"){const s=console[t];if(typeof s!="function")throw new TypeError(`Unknown log type: ${t}`);s(e)}function Vs(e,t){if(e&&t){const s=zn.repeat(e.length);return t.replace(e,s)}return t}function Un(e){return e?typeof e=="string"?zn.repeat(e.length):Array.isArray(e)?`[Array(${e.length})]`:Ac:e===null?"null":(e==null?void 0:e.toString())??"undefined"}function Te(e,t){return new Promise((s,n)=>{const r=setTimeout(()=>{n(new Error("promise timeout"))},e);t.then(i=>{clearTimeout(r),s(i)},i=>{clearTimeout(r),n(i)})})}function Sc(e){return e.split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join("")}function Nn(e){return e?`https://www.last.fm/music/${encodeURIComponent(e)}`:""}function cg(e,t){return!t||!e?"":`${Nn(e)}/${encodeURIComponent(t)}`}function ug(e,t){return!t||!e?"":`${Nn(e)}/_/${encodeURIComponent(t)}`}function dg(e,t,s){return!s||!t||!e?"":`https://www.last.fm/user/${encodeURIComponent(e)}/library/music/${encodeURIComponent(t)}/_/${encodeURIComponent(s)}`}function xc(){return!!(!self.window||(location.href.startsWith("safari-web-extension")||location.href.startsWith("moz-extension"))&&location.href.endsWith("generated_background_page.html"))}async function Cc(e){const t=await fetch(e,{method:"GET",credentials:"same-origin"});return t.ok?t.text():null}function Tc(e,t,s){return Math.min(s,Math.max(e,t))}class Ec{constructor(){this.events=new Map}on(t,s){const n=this.events.get(t)||[];this.events.set(t,[...n,s])}off(t,s){const n=this.events.get(t)||[];this.events.set(t,n.filter(r=>r!==s))}emit(t,...s){for(const n of this.events.get(t)||[])n(...s)}}const Lc="modulepreload",Rc=function(e){return"/"+e},Ws={},Bn=function(t,s,n){let r=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));r=Promise.all(s.map(o=>{if(o=Rc(o),o in Ws)return;Ws[o]=!0;const l=o.endsWith(".css"),m=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${m}`))return;const c=document.createElement("link");if(c.rel=l?"stylesheet":Lc,l||(c.as="script"),c.crossOrigin="",c.href=o,a&&c.setAttribute("nonce",a),document.head.appendChild(c),l)return new Promise((d,A)=>{c.addEventListener("load",d),c.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${o}`)))})}))}return r.then(()=>t()).catch(i=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i})};(async()=>Bn(()=>Promise.resolve().then(()=>zc),void 0))();const Oc=(async()=>Bn(()=>Promise.resolve().then(()=>Yc),void 0))();class Mc{constructor(){this.queue=[],this.isActive=!1,this.shouldPrint=Oc.then(t=>t.getOption(t.DEBUG_LOGGING_ENABLED))}push(t,s){this.queue.push({text:t,logType:s}),this.start()}async start(){var t;if(!this.isActive){this.isActive=!0;try{for(let s=0;s<100&&this.queue.length>0;s++){const n=this.queue.shift();if(n&&await this.shouldPrint){const r=console[n.logType];if(typeof r!="function")throw new TypeError(`Unknown log type: ${n.logType}`);const i=`Web Scrobbler: ${(t=n.text)==null?void 0:t.toString()}`;r(i)}}this.isActive=!1}catch{this.isActive=!1}}}}const Pc=new Mc;function ee(e,t="log"){Pc.push(e,t)}var O=(e=>(e.RESULT_OK="ok",e.RESULT_IGNORE="ignored",e.ERROR_AUTH="error-auth",e.ERROR_OTHER="error-other",e))(O||{}),ue=(e=>(e.SUCCESSFUL="success",e.IGNORED="ignored",e.ERROR="error",e.DISALLOWED="disallowed",e.INVALID="invalid",e))(ue||{});function Ic(e,t){for(const s of e)if(s[t]===O.RESULT_IGNORE)return"ignored";for(const s of e)if(s[t]!==O.RESULT_OK)return"error";return"success"}const Ks=3e3;class Fn{constructor(t,s){this.requests=[],this.autoIncrement=0,this.emitter=new Ec,this.interval=setInterval(()=>{this.unlock()},Ks),this.storage=t,this.namespace=s}unlock(){this.requests=this.requests.slice(1),this.emitter.emit("updateLock",this.requests[0]),clearInterval(this.interval),this.interval=setInterval(()=>{this.unlock()},Ks)}async get(){const t=await this.storage.get();return t&&this.namespace in t?t[this.namespace]:null}async getLocking(){return await new Promise(s=>{const n=this.autoIncrement++;if(this.requests.push(n),this.requests[0]===n){s(!0);return}const r=i=>{i===n&&(s(!0),this.emitter.off("updateLock",r))};this.emitter.on("updateLock",r)}),this.get()}async set(t){const s={[this.namespace]:t};await this.storage.set(s)}async setLocking(t){try{await this.set(t)}catch(s){ee(s,"warn")}this.unlock()}async update(t){const s=await this.getLocking(),n=Object.assign(s??{},t);await this.setLocking(n)}async debugLog(t=[]){const s=await this.get(),r=JSON.stringify(s,(i,a)=>t.includes(i)?Un(a):a,2);(location==null?void 0:location.protocol)==="chrome-extension:"&&ee(`storage.${this.namespace} = ${r}`,"info")}async clear(){await this.storage.remove(this.namespace)}}const Q=0,Oe=1,Wt="Connectors",Kt="ConnectorsOverrideOptions",Jt="customPatterns",Hn="Notifications",ws="BlockedTags",Ue="LocalCache",qn="NativeScrobblerNotification",Qt="Blocklists",$e="Options",$s="StateManagement",js="DisabledTabs",lt="RegexEdits",Dt="ScrobbleCache",Gn="Core",Dc={[Wt]:Oe,[Kt]:Oe,[Jt]:Oe,[Hn]:Oe,[$e]:Oe,LastFM:Q,LibreFM:Q,ListenBrainz:Q,Maloja:Q,Webhook:Q,Pleroma:Q,[qn]:Q,[Qt]:Q,[Ue]:Q,[lt]:Q,[Dt]:Q,[ws]:Q,[Gn]:Q,[$s]:Q,[js]:Q};function V(e){switch(Dc[e]){case Oe:return Wn(e);case Q:return Ge(e);default:throw new Error(`Unknown storage namespace: ${e}`)}}function Vn(e){return Ge(e)}function Ge(e){const t=K.storage.local;return new Fn(t,e)}function Wn(e){const t=K.storage.sync||K.storage.local;return new Fn(t,e)}const zc=Object.freeze(Object.defineProperty({__proto__:null,BLOCKED_TAGS:ws,BLOCKLISTS:Qt,CONNECTORS_OPTIONS:Wt,CONNECTORS_OVERRIDE_OPTIONS:Kt,CORE:Gn,CUSTOM_PATTERNS:Jt,DISABLED_TABS:js,LOCAL_CACHE:Ue,NATIVE_SCROBBLER_NOTIFICATION:qn,NOTIFICATIONS:Hn,OPTIONS:$e,REGEX_EDITS:lt,SCROBBLE_CACHE:Dt,STATE_MANAGEMENT:$s,getLocalStorage:Ge,getScrobblerStorage:Vn,getStorage:V,getSyncStorage:Wn},Symbol.toStringTag,{value:"Module"}));V(Jt);const ge=V($e),Ne=V(Wt),zt=V(Kt),bt="useNotifications",vt="useUnrecognizedSongNotifications",pt="showInfobox",_t="scrobblePodcasts",yt="autoToggleLove",se="forceRecognize",ie="scrobbleRecognizedTracks",ne="scrobbleEditedTracksOnly",As="scrobblePercent",be="disabledConnectors",ks="debugLoggingEnabled",Pe="albumGuessingDisabled",xe="albumGuessingUneditedOnly",Ce="albumGuessingAllTracks",Kn={[se]:!1,[_t]:!0,[bt]:!0,[vt]:!1,[ie]:!0,[ne]:!1,[ks]:!1,[As]:kc,[pt]:!0,[yt]:!0,[Pe]:!1,[xe]:!0,[Ce]:!1,[be]:{}},Uc={[se]:!1,[ie]:!0,[ne]:!1,[_t]:!0,[bt]:!0,[vt]:!1,[pt]:!0,[yt]:!0},st={YouTube:{scrobbleMusicOnly:!1,scrobbleEntertainmentOnly:!1,scrobbleMusicRecognisedOnly:!1,enableGetTrackInfoFromYtMusic:!1}};async function Nc(){const e={...Kn,...await ge.get()};await ge.set(e),ge.debugLog([be]);const t={...st,...await Ne.get()};for(const s in st){const n=s;t[n]={...st[n],...t[n]}}await Ne.set(t),Ne.debugLog(),zt.debugLog()}async function Bc(){const e=await ge.get();if(!e)throw new Error("No options data found");for(const t of Object.keys(e[be])){let s=!1;for(const n of ot)if(n.id===t){s=!0;break}s||(delete e[be][t],ee(`Remove ${t} from storage`))}}async function Fc(e,t){if(Qn(e),t!==void 0){const n=await Jn(t,e);if(n!==void 0)return n}const s=await ge.get();return s==null?void 0:s[e]}async function Hc(e,t){Qn(e),await ge.update({[e]:t})}async function qc(e,t){Yn(e),Zn(e,t);const s=await Ne.get();return s==null?void 0:s[e][t]}async function Gc(e,t,s){Yn(e),Zn(e,t);const n=await Ne.get();if(!(n!=null&&n[e]))throw new Error(`Connector ${e} not found in storage`);n[e][t]=s,await Ne.set(n)}async function Jn(e,t){var n;if(!Wc(t))return;const s=await zt.get();return(n=s==null?void 0:s[e])==null?void 0:n[t]}async function Vc(e,t,s){const n=await zt.get();if(!n)throw new Error("No connectors override data found");n[e]||(n[e]={}),n[e][t]=s,await zt.set(n)}function Qn(e){if(!(e in Kn))throw new Error(`Unknown option key: ${e}`);return!0}function Wc(e){return e in Uc}function Yn(e){if(!(e in st))throw new Error(`Unknown connector: ${e}`);return!0}function Zn(e,t){if(!(t in st[e]))throw new Error(`Unknown connector option key: ${t}`);return!0}async function Kc(e){const t=await ge.get();if(!t)throw new Error("No options data found");return!t[be][e.id]}async function Jc(e,t){const s=await ge.get();if(!s)throw new Error("No options data found");t?delete s[be][e.id]:s[be][e.id]=!0,await ge.set(s)}async function Qc(e){const t=await ge.get();if(!t)throw new Error("No options data found");if(t[be]={},!e)for(const s of ot)t[be][s.id]=!0;await ge.set(t)}Nc().then(Bc);const Yc=Object.freeze(Object.defineProperty({__proto__:null,ALBUM_GUESSING_ALL_TRACKS:Ce,ALBUM_GUESSING_DISABLED:Pe,ALBUM_GUESSING_UNEDITED_ONLY:xe,AUTO_TOGGLE_LOVE:yt,DEBUG_LOGGING_ENABLED:ks,DISABLED_CONNECTORS:be,FORCE_RECOGNIZE:se,SCROBBLE_EDITED_TRACKS_ONLY:ne,SCROBBLE_PERCENT:As,SCROBBLE_PODCASTS:_t,SCROBBLE_RECOGNIZED_TRACKS:ie,USE_INFOBOX:pt,USE_NOTIFICATIONS:bt,USE_UNRECOGNIZED_SONG_NOTIFICATIONS:vt,getConnectorOption:qc,getConnectorOverrideOption:Jn,getOption:Fc,isConnectorEnabled:Kc,setAllConnectorsEnabled:Qc,setConnectorEnabled:Jc,setConnectorOption:Gc,setConnectorOverrideOption:Vc,setOption:Hc},Symbol.toStringTag,{value:"Module"}));class Yt{getArtist(){return this.processed.artist||this.parsed.artist}getTrack(){return this.processed.track||this.parsed.track}getAlbum(){return this.processed.album||this.parsed.album}getAlbumArtist(){return this.processed.albumArtist||this.parsed.albumArtist}getDuration(){return this.parsed.duration||this.processed.duration}getTrackArt(){return this.parsed.trackArt||this.metadata.trackArtUrl||null}getArtistTrackString(){return this.isEmpty()?null:`${this.getArtist()??"undefined"} — ${this.getTrack()??"undefined"}`}getUniqueId(){return this.parsed.uniqueID}getOriginUrl(){return this.parsed.originUrl}isEmpty(){return!(this.getArtist()&&this.getTrack())}isValid(){return this.flags.isValid||this.flags.isCorrectedByUser}equals(t){if(!t||!(t instanceof Yt))return!1;const s=this.getUniqueId(),n=t.getUniqueId();return s||n?s===n:this.getArtist()===t.getArtist()&&this.getTrack()===t.getTrack()&&this.getAlbum()===t.getAlbum()}toString(){return JSON.stringify(this,null,2)}getCloneableData(){return{parsed:this.parsed,noRegex:this.noRegex,processed:this.processed,metadata:this.metadata,flags:this.flags,connector:this.connector}}setLoveStatus(t,s=!1){if(s){this.metadata.userloved=t;return}t?this.metadata.userloved===void 0&&(this.metadata.userloved=!0):this.metadata.userloved=!1}static get USER_FIELDS(){return["artist","track","album","albumArtist"]}static get BASE_FIELDS(){return["artist","track","album","albumArtist"]}static get PROCESSED_FIELDS(){return["track","album","artist","albumArtist","duration"]}}class Ss extends Yt{constructor(t,s){super(),this.parsed=Object.assign({track:null,artist:null,albumArtist:null,album:null,duration:null},t),this.processed={track:null,artist:null,albumArtist:null,album:null,duration:null},this.noRegex={track:null,artist:null,albumArtist:null,album:null,duration:null},this.flags={},this.metadata={},this.connector=s,this.initSongData()}resetInfo(){this.initProcessedData()}resetData(){this.initFlags(),this.initMetadata()}initSongData(){this.initFlags(),this.initMetadata(),this.initProcessedData()}initFlags(){this.flags={isScrobbled:!1,isCorrectedByUser:!1,isRegexEditedByUser:{track:!1,artist:!1,album:!1,albumArtist:!1},isAlbumFetched:!1,isValid:!1,isMarkedAsPlaying:!1,isSkipped:!1,isReplaying:!1,hasBlockedTag:!1,isLovedInService:null,finishedProcessing:!1}}initMetadata(){this.metadata={userloved:void 0,startTimestamp:Math.floor(Date.now()/1e3),label:this.connector.label}}initProcessedData(){for(const t of Ss.PROCESSED_FIELDS)this.processed[t]=null,this.noRegex[t]=null}}var Xn={exports:{}};(function(e){(function(t){function s(p,_){var f=(p&65535)+(_&65535),E=(p>>16)+(_>>16)+(f>>16);return E<<16|f&65535}function n(p,_){return p<<_|p>>>32-_}function r(p,_,f,E,L,R){return s(n(s(s(_,p),s(E,R)),L),f)}function i(p,_,f,E,L,R,M){return r(_&f|~_&E,p,_,L,R,M)}function a(p,_,f,E,L,R,M){return r(_&E|f&~E,p,_,L,R,M)}function o(p,_,f,E,L,R,M){return r(_^f^E,p,_,L,R,M)}function l(p,_,f,E,L,R,M){return r(f^(_|~E),p,_,L,R,M)}function m(p,_){p[_>>5]|=128<<_%32,p[(_+64>>>9<<4)+14]=_;var f,E,L,R,M,w=1732584193,y=-271733879,S=-1732584194,k=271733878;for(f=0;f<p.length;f+=16)E=w,L=y,R=S,M=k,w=i(w,y,S,k,p[f],7,-680876936),k=i(k,w,y,S,p[f+1],12,-389564586),S=i(S,k,w,y,p[f+2],17,606105819),y=i(y,S,k,w,p[f+3],22,-1044525330),w=i(w,y,S,k,p[f+4],7,-176418897),k=i(k,w,y,S,p[f+5],12,1200080426),S=i(S,k,w,y,p[f+6],17,-1473231341),y=i(y,S,k,w,p[f+7],22,-45705983),w=i(w,y,S,k,p[f+8],7,1770035416),k=i(k,w,y,S,p[f+9],12,-1958414417),S=i(S,k,w,y,p[f+10],17,-42063),y=i(y,S,k,w,p[f+11],22,-1990404162),w=i(w,y,S,k,p[f+12],7,1804603682),k=i(k,w,y,S,p[f+13],12,-40341101),S=i(S,k,w,y,p[f+14],17,-1502002290),y=i(y,S,k,w,p[f+15],22,1236535329),w=a(w,y,S,k,p[f+1],5,-165796510),k=a(k,w,y,S,p[f+6],9,-1069501632),S=a(S,k,w,y,p[f+11],14,643717713),y=a(y,S,k,w,p[f],20,-373897302),w=a(w,y,S,k,p[f+5],5,-701558691),k=a(k,w,y,S,p[f+10],9,38016083),S=a(S,k,w,y,p[f+15],14,-660478335),y=a(y,S,k,w,p[f+4],20,-405537848),w=a(w,y,S,k,p[f+9],5,568446438),k=a(k,w,y,S,p[f+14],9,-1019803690),S=a(S,k,w,y,p[f+3],14,-187363961),y=a(y,S,k,w,p[f+8],20,1163531501),w=a(w,y,S,k,p[f+13],5,-1444681467),k=a(k,w,y,S,p[f+2],9,-51403784),S=a(S,k,w,y,p[f+7],14,1735328473),y=a(y,S,k,w,p[f+12],20,-1926607734),w=o(w,y,S,k,p[f+5],4,-378558),k=o(k,w,y,S,p[f+8],11,-2022574463),S=o(S,k,w,y,p[f+11],16,1839030562),y=o(y,S,k,w,p[f+14],23,-35309556),w=o(w,y,S,k,p[f+1],4,-1530992060),k=o(k,w,y,S,p[f+4],11,1272893353),S=o(S,k,w,y,p[f+7],16,-155497632),y=o(y,S,k,w,p[f+10],23,-1094730640),w=o(w,y,S,k,p[f+13],4,681279174),k=o(k,w,y,S,p[f],11,-358537222),S=o(S,k,w,y,p[f+3],16,-722521979),y=o(y,S,k,w,p[f+6],23,76029189),w=o(w,y,S,k,p[f+9],4,-640364487),k=o(k,w,y,S,p[f+12],11,-421815835),S=o(S,k,w,y,p[f+15],16,530742520),y=o(y,S,k,w,p[f+2],23,-995338651),w=l(w,y,S,k,p[f],6,-198630844),k=l(k,w,y,S,p[f+7],10,1126891415),S=l(S,k,w,y,p[f+14],15,-1416354905),y=l(y,S,k,w,p[f+5],21,-57434055),w=l(w,y,S,k,p[f+12],6,1700485571),k=l(k,w,y,S,p[f+3],10,-1894986606),S=l(S,k,w,y,p[f+10],15,-1051523),y=l(y,S,k,w,p[f+1],21,-2054922799),w=l(w,y,S,k,p[f+8],6,1873313359),k=l(k,w,y,S,p[f+15],10,-30611744),S=l(S,k,w,y,p[f+6],15,-1560198380),y=l(y,S,k,w,p[f+13],21,1309151649),w=l(w,y,S,k,p[f+4],6,-145523070),k=l(k,w,y,S,p[f+11],10,-1120210379),S=l(S,k,w,y,p[f+2],15,718787259),y=l(y,S,k,w,p[f+9],21,-343485551),w=s(w,E),y=s(y,L),S=s(S,R),k=s(k,M);return[w,y,S,k]}function c(p){var _,f="",E=p.length*32;for(_=0;_<E;_+=8)f+=String.fromCharCode(p[_>>5]>>>_%32&255);return f}function d(p){var _,f=[];for(f[(p.length>>2)-1]=void 0,_=0;_<f.length;_+=1)f[_]=0;var E=p.length*8;for(_=0;_<E;_+=8)f[_>>5]|=(p.charCodeAt(_/8)&255)<<_%32;return f}function A(p){return c(m(d(p),p.length*8))}function j(p,_){var f,E=d(p),L=[],R=[],M;for(L[15]=R[15]=void 0,E.length>16&&(E=m(E,p.length*8)),f=0;f<16;f+=1)L[f]=E[f]^909522486,R[f]=E[f]^1549556828;return M=m(L.concat(d(_)),512+_.length*8),c(m(R.concat(M),640))}function C(p){var _="0123456789abcdef",f="",E,L;for(L=0;L<p.length;L+=1)E=p.charCodeAt(L),f+=_.charAt(E>>>4&15)+_.charAt(E&15);return f}function T(p){return unescape(encodeURIComponent(p))}function I(p){return A(T(p))}function U(p){return C(I(p))}function N(p,_){return j(T(p),T(_))}function B(p,_){return C(N(p,_))}function F(p,_,f){return _?f?N(_,p):B(_,p):f?I(p):U(p)}e.exports?e.exports=F:t.md5=F})(An)})(Xn);var Zc=Xn.exports;const er=kn(Zc);class xs{constructor(){this.storageRef=null}_init(t){this.storageRef=t}async clear(){if(this.storageRef)return await this.storageRef.clear()}async getData(){return this.storageRef?await this.storageRef.get():(ce("Storage reference is not initialized","warn"),null)}async saveData(t){if(!this.storageRef){ce("Storage reference is not initialized","warn");return}return await this.storageRef.set(t)}async updateData(t){if(!this.storageRef){ce("Storage reference is not initialized","warn");return}return await this.storageRef.update(t)}}class de extends xs{async loadSongInfo(t){let s=de.getSongId(t);const n=await this.getSongInfoStorage();if((!n||!(s in n))&&(s=de.makeSongId(t,["artist","track","album"])),(!n||!(s in n))&&(s=de.makeSongId(t,["artist","track"])),n&&s in n){const r=n[s];return de.applyLoadedInfo(t,r),!0}return!1}async saveSongInfo(t,s){const n=de.getSongId(t),r=await this.getSongInfoStorage();if(r===null){await this.saveSongInfoToStorage({[n]:s});return}r[n]={...r[n],...s},await this.saveSongInfoToStorage(r)}async removeSongInfo(t){if(t===null)throw new Error("Song is null");const s=de.getSongId(t);await this.removeSongInfoById(s)}async removeSongInfoById(t){const s=await this.getSongInfoStorage();s!==null&&(delete s[t],await this.saveSongInfoToStorage(s))}static applyLoadedInfo(t,s){t.processed={...t.processed,...s}}static getSongId(t){const s=t.getUniqueId();return s||de.makeSongId(t,Ss.BASE_FIELDS)}static makeSongId(t,s){let n="";for(const r of s)t.parsed[r]&&(n+=t.parsed[r]);if(n)return er(n);throw new Error("Empty song")}}class Xc extends de{constructor(){super(...arguments),this.songInfoStorage=V(Ue)}init(){this._init(Ge(Ue))}async clear(){return await this.songInfoStorage.clear()}async getSongInfoStorage(){return this.songInfoStorage.get()}async saveSongInfoToStorage(t){return await this.songInfoStorage.set(t)}getStorage(){return V(Ue)}}const eu=new Xc;function tu(e){for(const t of["isRegexDisabled","isCaseInsensitive","isGlobal"])if(t===e)return!0;return!1}const us=e=>({isGlobal:e.isGlobal,isCaseInsensitive:e.isCaseInsensitive,isRegexDisabled:e.isRegexDisabled}),tr=e=>e.replace(/[/\-\\^$*+?.()|[\]{}]/g,"\\$&");function sr(e){let t="";return e.isGlobal&&(t+="g"),e.isCaseInsensitive&&(t+="i"),t}function mg(e){const t={};for(const[s,n]of Object.entries(e))!tu(s)||!n||(t[s]=!0);return t}function su(e,t){for(const[s,n]of Object.entries(e)){const r=s;if(n!==null&&t.flags.isRegexEditedByUser[r])return!0}return!1}function nu(e,t){if(su(e.replace,t))return!1;const s=us(e);for(const[n,r]of Object.entries(e.search)){const a=Xe(t,n);if(!nr(r,a,s))return!1}return!0}function nr(e,t,s){if(e===null)return!0;const n=s.isRegexDisabled?tr(e):e;try{return new RegExp(s.isGlobal?n:`^${n}$`,sr(s)).test(t)}catch{return!1}}function ru(e,t,s,n){if(e===null||t===null)return s;const r=n.isRegexDisabled?tr(e):e;try{const i=new RegExp(n.isGlobal?r:`^${r}$`,sr(n));return s.replace(i,t)}catch{return s}}function iu(e,t){const s=us(e);for(const n of Object.keys(t)){const r=n;if(!nr(e.search[r],t[r],s))return t}for(const n of Object.keys(t)){const r=n;t[r]=ru(e.search[r],e.replace[r],t[r],us(e))}return t}function au(e){return{track:Xe(e,"track"),artist:Xe(e,"artist"),album:Xe(e,"album"),albumArtist:Xe(e,"albumArtist")}}function gg(e){return{track:kt(e,"track"),artist:kt(e,"artist"),album:kt(e,"album"),albumArtist:kt(e,"albumArtist")}}function ou(e,t){const s=iu(e,au(t));for(const[n,r]of Object.entries(s)){const i=n;e.search[i]&&typeof e.replace[i]=="string"&&(t.flags.isRegexEditedByUser[i]=!0,t.processed[i]=r)}}function Ze(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Xe(e,t){return e[`get${Ze(t)}`]()??""}function kt(e,t){return((e==null?void 0:e.noRegex[t])||(e==null?void 0:e.parsed[t]))??""}class lu extends xs{async loadSongInfo(t){const s=await this.getRegexEditStorage();if(s)for(let n=s.length-1;n>=0;n--)nu(s[n],t)&&ou(s[n],t)}async saveRegexEdit(t){t.search={...t.search},t.replace={...t.replace};const s=await this.getRegexEditStorage();if(s===null){await this.saveRegexEditToStorage([t]);return}const n=[...s,t];await this.saveRegexEditToStorage(n)}async deleteRegexEdit(t){const s=await this.getRegexEditStorage();s!==null&&(s.splice(t,1),await this.saveRegexEditToStorage(s))}}class cu extends lu{constructor(){super(...arguments),this.regexEditStorage=this.getStorage()}init(){this._init(Ge(lt))}async getRegexEditStorage(){return this.regexEditStorage.get()}async saveRegexEditToStorage(t){return await this.regexEditStorage.set(t)}getStorage(){return V(lt)}}const hg=new cu;class uu extends xs{constructor(){super(...arguments),this.MAX_SCROBBLE_CACHE_SIZE=1e3}async replaceScrobble(t,s){const n=await this.getScrobbleCacheStorageLocking();if(n){for(let r=0;r<n.length;r++)n[r].id===t&&(n[r]={...s,id:t});await this.saveScrobbleCacheToStorageLocking(n)}}async pushScrobble(t){var r;const s=await this.getScrobbleCacheStorageLocking();if(s===null)return await this.saveScrobbleCacheToStorageLocking([{...t,id:1}]),1;const n=(((r=s.at(-1))==null?void 0:r.id)??0)+1;return s.push({...t,id:n}),await this.saveScrobbleCacheToStorageLocking(s.slice(-this.MAX_SCROBBLE_CACHE_SIZE)),n}async deleteScrobbles(t){const s=await this.getScrobbleCacheStorageLocking();if(!s)return;const n=new Map;for(const r of t)n.set(r,!0);await this.saveScrobbleCacheToStorageLocking(s.filter(r=>n.get(r.id)!==!0))}}class du extends uu{constructor(){super(...arguments),this.scrobbleCacheStorage=this.getStorage()}init(){this._init(Ge(Dt))}async getScrobbleCacheStorage(){return this.scrobbleCacheStorage.get()}async getScrobbleCacheStorageLocking(){return this.scrobbleCacheStorage.getLocking()}async saveScrobbleCacheToStorage(t){return await this.scrobbleCacheStorage.set(t)}async saveScrobbleCacheToStorageLocking(t){return await this.scrobbleCacheStorage.setLocking(t)}getStorage(){return V(Dt)}}const ct=new du,rr={[lc]:!0,[gc]:!0,[hc]:!0,[fc]:!0,[mc]:!0,[bc]:!0,[dc]:!0,[uc]:!0,[vc]:!0,[pc]:!0};V(js);class ir extends Yt{constructor(t,s){super(),this.parsed=t.parsed,this.processed=t.processed,this.noRegex=t.noRegex,this.flags=t.flags,this.metadata=t.metadata,this.connector=t.connector,this.controllerTabId=s}resetData(){fe(this.controllerTabId,{type:"resetData",payload:void 0})}resetInfo(){fe(this.controllerTabId,{type:"resetInfo",payload:void 0})}}const mu=V($s),gu=V(Qt);async function hu(e){return fe(e,{type:"getChannelDetails",payload:void 0})}async function fu(e,t){var n;const s=(n=await gu.get())==null?void 0:n[t.id];return!s||!s[e]?null:s[e]}async function bu(e,t){const s=pu(e);let n=t;n||(n=await _u());const r=await vu(n);return s&&!rr[r.mode]?s:r}async function vu(e){try{if(!await K.tabs.get(e))throw new Error("Tab not found");const s=await fe(e,{type:"getConnectorDetails",payload:void 0});return{tabId:e,mode:s.mode,permanentMode:s.permanentMode,song:s.song}}catch{return{tabId:e,mode:cs,permanentMode:cs,song:null}}}function pu(e){for(const t of e)if(rr[t.mode])return t;return null}async function _u(){const e={active:!0,lastFocusedWindow:!0},[t]=await K.tabs.query(e);return(t==null?void 0:t.id)??-1}async function yu(){const e=await mu.get()??wu;return bu(e.activeTabs)}const wu={activeTabs:[],browserPreferredTheme:"light"};function $u(e){fe(e,{type:"setConnectorState",payload:!1})}function ju(e){fe(e,{type:"setConnectorState",payload:!0})}function Au(e){fe(e,{type:"addToBlocklist",payload:void 0})}function ku(e){fe(e,{type:"removeFromBlocklist",payload:void 0})}function Su(e){fe(e,{type:"disableConnectorUntilTabIsClosed",payload:void 0})}const xu=b("<h1>"),Ve=b("<p>"),Js=b("<h2>");function Cu(){return[(()=>{const e=xu();return u(e,()=>g("optionsAbout")),e})(),(()=>{const e=Ve();return u(e,()=>g("aboutExtensionDesc")),e})(),(()=>{const e=Ve();return x(()=>e.innerHTML=g("aboutChangelog",Yi())),e})(),(()=>{const e=Js();return u(e,()=>g("versionTitle")),e})(),(()=>{const e=Ve();return x(()=>e.innerHTML=g("versionText",_s())),e})(),(()=>{const e=Js();return u(e,()=>g("contributorsTitle")),e})(),(()=>{const e=Ve();return x(()=>e.innerHTML=g("contributorsText")),e})(),(()=>{const e=Ve();return x(()=>e.innerHTML=g("contributorsContribute")),e})()]}const Tu=b("<h1>"),Qs=b("<p>"),Eu=b('<a href=https://opencollective.com/web-scrobbler/donate target=_blank rel="noopener noreferrer"><span>');function Lu(){return[(()=>{const e=Tu();return u(e,()=>g("showSomeLoveTitle")),e})(),(()=>{const e=Qs();return u(e,()=>g("showSomeLoveText1")),e})(),(()=>{const e=Qs();return u(e,()=>g("showSomeLoveText2")),e})(),(()=>{const e=Eu(),t=e.firstChild;return u(e,v(ac,{}),t),u(t,()=>g("donationButtonLabel")),x(()=>$(e,`${h.button} ${h.openCollective}`)),e})()]}const Ru=b("<h1>"),ke=b("<h2>"),oe=b("<p>"),Ou=b("<ol><li></li><li></li><li></li><li>");function Mu(){return[(()=>{const e=Ru();return u(e,()=>g("faqTitle")),e})(),(()=>{const e=ke();return u(e,()=>g("faqQuestion1")),e})(),(()=>{const e=oe();return u(e,()=>g("faqAnswer1a")),e})(),(()=>{const e=oe();return u(e,()=>g("faqAnswer1b")),e})(),(()=>{const e=ke();return u(e,()=>g("faqQuestion2")),e})(),(()=>{const e=oe();return u(e,()=>g("faqAnswer2a")),e})(),(()=>{const e=oe();return u(e,()=>g("faqAnswer2b")),e})(),(()=>{const e=ke();return u(e,()=>g("faqQuestion3")),e})(),(()=>{const e=oe();return u(e,()=>g("faqAnswer3a")),e})(),(()=>{const e=oe();return u(e,()=>g("faqAnswer3b")),e})(),(()=>{const e=ke();return u(e,()=>g("faqQuestion4")),e})(),(()=>{const e=oe();return u(e,()=>g("faqAnswer4a")),e})(),(()=>{const e=oe();return u(e,()=>g("faqAnswer4b")),e})(),(()=>{const e=Ou(),t=e.firstChild,s=t.nextSibling,n=s.nextSibling,r=n.nextSibling;return u(t,()=>g("faqAnswer4b1")),u(s,()=>g("faqAnswer4b2")),u(n,()=>g("faqAnswer4b3")),u(r,()=>g("faqAnswer4b4")),e})(),(()=>{const e=oe();return x(()=>e.innerHTML=g("faqAnswer4c")),e})(),(()=>{const e=ke();return u(e,()=>g("faqQuestion5")),e})(),(()=>{const e=oe();return x(()=>e.innerHTML=g("faqAnswer5")),e})(),(()=>{const e=ke();return u(e,()=>g("faqQuestion6")),e})(),(()=>{const e=oe();return u(e,()=>g("faqAnswer6")),e})(),(()=>{const e=ke();return u(e,()=>g("faqQuestion7")),e})(),(()=>{const e=oe();return u(e,()=>g("faqAnswer7")),e})()]}const Pu="data:image/svg+xml,%3csvg%20width='98'%20height='96'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M48.854%200C21.839%200%200%2022%200%2049.217c0%2021.756%2013.993%2040.172%2033.405%2046.69%202.427.49%203.316-1.059%203.316-2.362%200-1.141-.08-5.052-.08-9.127-13.59%202.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015%204.934.326%207.523%205.052%207.523%205.052%204.367%207.496%2011.404%205.378%2014.235%204.074.404-3.178%201.699-5.378%203.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283%200-5.378%201.94-9.778%205.014-13.2-.485-1.222-2.184-6.275.486-13.038%200%200%204.125-1.304%2013.426%205.052a46.97%2046.97%200%200%201%2012.214-1.63c4.125%200%208.33.571%2012.213%201.63%209.302-6.356%2013.427-5.052%2013.427-5.052%202.67%206.763.97%2011.816.485%2013.038%203.155%203.422%205.015%207.822%205.015%2013.2%200%2018.905-11.404%2023.06-22.324%2024.283%201.78%201.548%203.316%204.481%203.316%209.126%200%206.6-.08%2011.897-.08%2013.526%200%201.304.89%202.853%203.316%202.364%2019.412-6.52%2033.405-24.935%2033.405-46.691C97.707%2022%2075.788%200%2048.854%200z'%20fill='%2324292f'/%3e%3c/svg%3e",Iu="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2024.2.0,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20version='1.1'%20id='Logo'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%20248%20204'%20style='enable-background:new%200%200%20248%20204;'%20xml:space='preserve'%3e%3cstyle%20type='text/css'%3e%20.st0{fill:%231D9BF0;}%20%3c/style%3e%3cg%20id='Logo_1_'%3e%3cpath%20id='white_background'%20class='st0'%20d='M221.95,51.29c0.15,2.17,0.15,4.34,0.15,6.53c0,66.73-50.8,143.69-143.69,143.69v-0.04%20C50.97,201.51,24.1,193.65,1,178.83c3.99,0.48,8,0.72,12.02,0.73c22.74,0.02,44.83-7.61,62.72-21.66%20c-21.61-0.41-40.56-14.5-47.18-35.07c7.57,1.46,15.37,1.16,22.8-0.87C27.8,117.2,10.85,96.5,10.85,72.46c0-0.22,0-0.43,0-0.64%20c7.02,3.91,14.88,6.08,22.92,6.32C11.58,63.31,4.74,33.79,18.14,10.71c25.64,31.55,63.47,50.73,104.08,52.76%20c-4.07-17.54,1.49-35.92,14.61-48.25c20.34-19.12,52.33-18.14,71.45,2.19c11.31-2.23,22.15-6.38,32.07-12.26%20c-3.77,11.69-11.66,21.62-22.2,27.93c10.01-1.18,19.79-3.86,29-7.95C240.37,35.29,231.83,44.14,221.95,51.29z'/%3e%3c/g%3e%3c/svg%3e",Du=b("<h1>"),zu=b('<ul><a href=https://github.com/web-scrobbler/web-scrobbler/issues target=_blank rel="noopener noreferrer"><li><img alt=""width=32 height=32><img alt=GitHub width=78 height=32><span></span></li></a><a href=https://twitter.com/web_scrobbler target=_blank rel="noopener noreferrer"><li><img alt=""width=32 height=32><span>Twitter</span><span></span></li></a><a target=_blank rel="noopener noreferrer"><li><span>Privacy</span><span>');function Uu(){return[(()=>{const e=Du();return u(e,()=>g("contactTitle")),e})(),(()=>{const e=zu(),t=e.firstChild,s=t.firstChild,n=s.firstChild,r=n.nextSibling,i=r.nextSibling,a=t.nextSibling,o=a.firstChild,l=o.firstChild,m=l.nextSibling,c=m.nextSibling,d=a.nextSibling,A=d.firstChild,j=A.firstChild,C=j.nextSibling;return P(n,"src",Pu),u(i,()=>g("contactGitHubDesc")),P(l,"src",Iu),u(c,()=>g("contactTwitterDesc")),u(A,v(Kl,{}),j),u(C,()=>g("contactPrivacyPolicyDesc")),x(T=>{const I=`${h.contactList} ${h.optionList}`,U=`${h.contactEntry} ${h.contactGithub}`,N=h.invertImg,B=h.invertImg,F=K.runtime.getURL("img/GitHub_Logo.png"),p=h.desc,_=`${h.contactEntry} ${h.contactTwitter}`,f=h.brandText,E=h.desc,L=g("contactPrivacyPolicyUrl"),R=`${h.contactEntry} ${h.contactPrivacy}`,M=h.brandText,w=h.desc;return I!==T._v$&&$(e,T._v$=I),U!==T._v$2&&$(s,T._v$2=U),N!==T._v$3&&$(n,T._v$3=N),B!==T._v$4&&$(r,T._v$4=B),F!==T._v$5&&P(r,"src",T._v$5=F),p!==T._v$6&&$(i,T._v$6=p),_!==T._v$7&&$(o,T._v$7=_),f!==T._v$8&&$(m,T._v$8=f),E!==T._v$9&&$(c,T._v$9=E),L!==T._v$10&&P(d,"href",T._v$10=L),R!==T._v$11&&$(A,T._v$11=R),M!==T._v$12&&$(j,T._v$12=M),w!==T._v$13&&$(C,T._v$13=w),T},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0,_v$9:void 0,_v$10:void 0,_v$11:void 0,_v$12:void 0,_v$13:void 0}),e})()]}const Nu=b("<div><label><input type=checkbox><span><span>"),Bu=b("<div><span><label><input type=checkbox><span><span>"),Fu=b("<div><button>"),Hu=b("<div role=radiogroup>"),qu=b("<div><input type=radio><label>"),ar=b("<li>"),Gu=b("<li role=group><div><span></span><div><input type=number></div><span></span></div><input type=range>"),Vu=b("<div><span><div role=radiogroup><label><input type=radio value=unchecked></label><label><input type=radio value=indeterminate></label><label><input type=radio value=checked>");function Cs(e){return(()=>{const t=Nu(),s=t.firstChild,n=s.firstChild,r=n.nextSibling,i=r.firstChild;return u(s,()=>e.label,n),n.$$input=a=>{e.onInput(a)},x(a=>{const o=h.checkboxOption,l=e.title,m=h.bigLabel,c=h.checkboxWrapper,d=h.checkbox;return o!==a._v$&&$(t,a._v$=o),l!==a._v$2&&P(s,"title",a._v$2=l),m!==a._v$3&&$(s,a._v$3=m),c!==a._v$4&&$(r,a._v$4=c),d!==a._v$5&&$(i,a._v$5=d),a},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0}),x(()=>n.checked=e.isChecked()),t})()}function Ys(e,t,s){e.preventDefault();const n=document.getElementById(t);n.checked=!n.checked,s({...e,currentTarget:n})}function Wu(e){return(()=>{const t=Bu(),s=t.firstChild,n=s.firstChild,r=n.firstChild,i=r.nextSibling,a=i.firstChild;return u(s,()=>e.label,n),n.$$keyup=o=>{o.key===" "&&Ys(o,e.id,e.onInput)},n.$$click=o=>{Ys(o,e.id,e.onInput)},r.$$input=o=>{e.onInput(o)},x(o=>{const l=`${h.checkboxOption} ${h.summaryCheckbox}`,m=e.title,c=h.summarySpan,d=g("menuEnableConnector",e.label),A=e.id,j=h.checkboxWrapper,C=h.checkbox;return l!==o._v$6&&$(t,o._v$6=l),m!==o._v$7&&P(s,"title",o._v$7=m),c!==o._v$8&&$(s,o._v$8=c),d!==o._v$9&&P(n,"title",o._v$9=d),A!==o._v$10&&P(r,"id",o._v$10=A),j!==o._v$11&&$(i,o._v$11=j),C!==o._v$12&&$(a,o._v$12=C),o},{_v$6:void 0,_v$7:void 0,_v$8:void 0,_v$9:void 0,_v$10:void 0,_v$11:void 0,_v$12:void 0}),x(()=>r.checked=e.isChecked()),t})()}function Ts(e){return(()=>{const t=Hu();return u(t,v(re,{get each(){return e.buttons},children:s=>(()=>{const n=qu(),r=n.firstChild,i=r.nextSibling;return wn(r,"change",e.onChange),u(i,()=>s.label),x(a=>{const o=h.radioButton,l=`${e.name}-${s.value}`,m=e.name,c=`${e.name}-${s.value}`,d=e.name,A=s.title,j=h.radioLabel;return o!==a._v$17&&$(n,a._v$17=o),l!==a._v$18&&P(r,"id",a._v$18=l),m!==a._v$19&&P(r,"name",a._v$19=m),c!==a._v$20&&P(i,"for",a._v$20=c),d!==a._v$21&&P(i,"data-name",a._v$21=d),A!==a._v$22&&P(i,"title",a._v$22=A),j!==a._v$23&&$(i,a._v$23=j),a},{_v$17:void 0,_v$18:void 0,_v$19:void 0,_v$20:void 0,_v$21:void 0,_v$22:void 0,_v$23:void 0}),x(()=>r.value=s.value),x(()=>r.checked=e.value()===s.value),n})()}),null),u(t,v(J,{get when(){return e.reset},get children(){const s=Fu(),n=s.firstChild;return n.$$click=r=>{var i;(i=e.reset)==null||i.call(e,r)},u(n,v(ec,{}),null),u(n,()=>g("buttonReset"),null),x(r=>{const i=h.radioButton,a=`${h.button} ${h.shiftLeft}`;return i!==r._v$13&&$(s,r._v$13=i),a!==r._v$14&&$(n,r._v$14=a),r},{_v$13:void 0,_v$14:void 0}),s}}),null),x(s=>{const n=`${h.radioButtons} ${h.optionList}`,r=e.labelledby;return n!==s._v$15&&$(t,s._v$15=n),r!==s._v$16&&P(t,"aria-labelledby",s._v$16=r),s},{_v$15:void 0,_v$16:void 0}),t})()}function St(e){return(()=>{const t=ar();return u(t,v(Cs,{get title(){return g(e.i18ntitle)},get label(){return g(e.i18nlabel)},isChecked:()=>{var s,n;return(n=(s=e.options())==null?void 0:s[e.connector])==null?void 0:n[e.key]},onInput:s=>{const n=e.connector,r=e.key,i=e.connectorOptions;e.setOptions.mutate(a=>{if(!a)return a;const o={...a,[n]:{...a[n],[r]:s.currentTarget.checked}};return i.set(o),o})}})),t})()}function Me(e){return(()=>{const t=ar();return u(t,v(Cs,{get title(){return g(e.i18ntitle)},get label(){return g(e.i18nlabel)},isChecked:()=>{var s;return(s=e.options())==null?void 0:s[e.key]},onInput:s=>{const n=e.key,r=e.globalOptions;e.setOptions.mutate(i=>{if(!i)return i;const a={...i,[n]:s.currentTarget.checked};return r.set(a),a})}})),t})()}function Ku(e){return(()=>{const t=Gu(),s=t.firstChild,n=s.firstChild,r=n.nextSibling,i=r.firstChild,a=r.nextSibling,o=s.nextSibling;return u(n,()=>g(e.prefixi18n)),i.addEventListener("change",l=>{const m=e.key,c=e.globalOptions,d=e.min,A=e.max;e.setOptions.mutate(j=>{if(!j)return j;const C={...j,[m]:Tc(d,parseInt(l.currentTarget.value),A)};return c.set(C),C})}),u(a,()=>g(e.suffixi18n)),o.addEventListener("change",l=>{const m=e.key,c=e.globalOptions;e.setOptions.mutate(d=>{if(!d)return d;const A={...d,[m]:parseInt(l.currentTarget.value)};return c.set(A),A})}),o.$$input=l=>{const m=e.key;e.setOptions.mutate(c=>c&&{...c,[m]:parseInt(l.currentTarget.value)})},x(l=>{var _,f,E;const m=h.rangeInput,c=`${g(e.prefixi18n)} ${(_=e.options())==null?void 0:_[e.key]}% ${g(e.suffixi18n)}`,d=h.rangeInputLabel,A=`${h.inputWrapper} ${h[e.numberType]}`,j=e.min,C=e.max,T=h.rangeNumberInput,I=`${g(e.prefixi18n)} ${(f=e.options())==null?void 0:f[e.key]}% ${g(e.suffixi18n)}`,U=h.rangeInputLabel,N=e.min,B=e.max,F=h.rangeSelection,p=`${g(e.prefixi18n)} ${(E=e.options())==null?void 0:E[e.key]}% ${g(e.suffixi18n)}`;return m!==l._v$24&&$(t,l._v$24=m),c!==l._v$25&&P(t,"aria-label",l._v$25=c),d!==l._v$26&&$(n,l._v$26=d),A!==l._v$27&&$(r,l._v$27=A),j!==l._v$28&&P(i,"min",l._v$28=j),C!==l._v$29&&P(i,"max",l._v$29=C),T!==l._v$30&&$(i,l._v$30=T),I!==l._v$31&&P(i,"title",l._v$31=I),U!==l._v$32&&$(a,l._v$32=U),N!==l._v$33&&P(o,"min",l._v$33=N),B!==l._v$34&&P(o,"max",l._v$34=B),F!==l._v$35&&$(o,l._v$35=F),p!==l._v$36&&P(o,"title",l._v$36=p),l},{_v$24:void 0,_v$25:void 0,_v$26:void 0,_v$27:void 0,_v$28:void 0,_v$29:void 0,_v$30:void 0,_v$31:void 0,_v$32:void 0,_v$33:void 0,_v$34:void 0,_v$35:void 0,_v$36:void 0}),x(()=>{var l;return i.value=(l=e.options())==null?void 0:l[e.key]}),x(()=>{var l;return o.value=(l=e.options())==null?void 0:l[e.key]}),t})()}function Ju(e){return(()=>{const t=Vu(),s=t.firstChild,n=s.firstChild,r=n.firstChild,i=r.firstChild,a=r.nextSibling,o=a.firstChild,l=a.nextSibling,m=l.firstChild;return u(s,()=>e.label,n),i.$$input=()=>e.onInput(0),u(r,v(Bl,{}),null),o.$$input=()=>e.onInput(2),u(a,v(Wl,{}),null),m.$$input=()=>e.onInput(1),u(l,v(Tn,{}),null),x(c=>{const d=h.tripleCheckboxOption,A=e.title,j=h.tripleCheckboxWrapper,C=e.label,T=`${h.tripleCheckboxLabel} ${h.unchecked}${e.state()===0?` ${h.activeBox}`:""}`,I=g("optionsDisabled"),U=h.tripleCheckbox,N=`${e.id}-${e.label}`,B=`${h.tripleCheckboxLabel} ${h.indeterminate}${e.state()===2?` ${h.activeBox}`:""}`,F=g("optionsIndeterminate"),p=h.tripleCheckbox,_=`${e.id}-${e.label}`,f=`${h.tripleCheckboxLabel} ${h.checked}${e.state()===1?` ${h.activeBox}`:""}`,E=g("optionsEnabled"),L=h.tripleCheckbox,R=`${e.id}-${e.label}`;return d!==c._v$37&&$(t,c._v$37=d),A!==c._v$38&&P(s,"title",c._v$38=A),j!==c._v$39&&$(n,c._v$39=j),C!==c._v$40&&P(n,"aria-label",c._v$40=C),T!==c._v$41&&$(r,c._v$41=T),I!==c._v$42&&P(r,"title",c._v$42=I),U!==c._v$43&&$(i,c._v$43=U),N!==c._v$44&&P(i,"name",c._v$44=N),B!==c._v$45&&$(a,c._v$45=B),F!==c._v$46&&P(a,"title",c._v$46=F),p!==c._v$47&&$(o,c._v$47=p),_!==c._v$48&&P(o,"name",c._v$48=_),f!==c._v$49&&$(l,c._v$49=f),E!==c._v$50&&P(l,"title",c._v$50=E),L!==c._v$51&&$(m,c._v$51=L),R!==c._v$52&&P(m,"name",c._v$52=R),c},{_v$37:void 0,_v$38:void 0,_v$39:void 0,_v$40:void 0,_v$41:void 0,_v$42:void 0,_v$43:void 0,_v$44:void 0,_v$45:void 0,_v$46:void 0,_v$47:void 0,_v$48:void 0,_v$49:void 0,_v$50:void 0,_v$51:void 0,_v$52:void 0}),x(()=>i.checked=e.state()===0),x(()=>o.checked=e.state()===2),x(()=>m.checked=e.state()===1),t})()}function We(e){return v(Ju,{get title(){return e.title},get label(){return e.label},get id(){return e.connector.id},state:()=>{var s;const t=(s=e.overrideOptions())==null?void 0:s[e.connector.id];return!t||!(e.option in t)?2:t[e.option]?1:0},onInput:t=>{const s=e.connector,n=e.option,r=e.connectorOverrideOptions;e.setOverrideOptions.mutate(i=>{const a={...i??{}};return t===2?delete a[s.id][n]:a[s.id]={...a[s.id],[n]:t===1},r.set(a),a})}})}he(["input","click","keyup"]);const Qu=b("<h2>"),Yu=b("<ul>"),Zu=b("<div><label><select>"),Xu=b("<option>"),Ke=V($e);function ed(e){return[(()=>{const t=Qu();return u(t,()=>g("optionsGeneral")),t})(),(()=>{const t=Yu();return u(t,v(nd,{}),null),u(t,v(J,{get when(){return K.notifications},get children(){return[v(Me,{get options(){return e.options},get setOptions(){return e.setOptions},globalOptions:Ke,i18ntitle:"optionUseNotificationsTitle",i18nlabel:"optionUseNotifications",key:bt}),v(Me,{get options(){return e.options},get setOptions(){return e.setOptions},globalOptions:Ke,i18ntitle:"optionUnrecognizedNotificationsTitle",i18nlabel:"optionUnrecognizedNotifications",key:vt})]}}),null),u(t,v(Me,{get options(){return e.options},get setOptions(){return e.setOptions},globalOptions:Ke,i18ntitle:"optionUseInfoboxTitle",i18nlabel:"optionUseInfobox",key:pt}),null),u(t,v(Me,{get options(){return e.options},get setOptions(){return e.setOptions},globalOptions:Ke,i18ntitle:"optionScrobblePodcastsTitle",i18nlabel:"optionScrobblePodcasts",key:_t}),null),u(t,v(Me,{get options(){return e.options},get setOptions(){return e.setOptions},globalOptions:Ke,i18ntitle:"optionAutoToggleLoveTitle",i18nlabel:"optionAutoToggleLove",key:yt}),null),x(()=>$(t,h.optionList)),t})()]}const[td,sd]=Z(wc);function nd(){return(()=>{const e=Zu(),t=e.firstChild,s=t.firstChild;return u(t,()=>g("optionTheme"),s),s.addEventListener("change",n=>{const i=n.currentTarget.value;if(!Gs.includes(i)){ce(`value ${n.currentTarget.value} not in themelist ${Gs.join(",")}`,"error");return}sd.mutate(()=>i),Pn(i)}),u(s,v(re,{each:Dn,children:n=>(()=>{const r=Xu();return r.value=`theme-${n}`,u(r,()=>g(`optionTheme${Sc(n)}`)),r})()})),x(n=>{const r=h.selectOption,i=g("optionThemeTitle"),a=h.bigLabel;return r!==n._v$&&$(e,n._v$=r),i!==n._v$2&&P(t,"title",n._v$2=i),a!==n._v$3&&$(t,n._v$3=a),n},{_v$:void 0,_v$2:void 0,_v$3:void 0}),x(()=>s.value=td()),e})()}const rd=b("<h2>YouTube"),id=b("<ul><li>"),Ie=V(Wt),[xt,Ct]=Z(Ie.get.bind(Ie));function ad(){return[rd(),(()=>{const e=id(),t=e.firstChild;return u(e,v(St,{options:xt,setOptions:Ct,connectorOptions:Ie,i18ntitle:"optionYtMusicRecognisedOnlyTitle",i18nlabel:"optionYtMusicRecognisedOnly",connector:"YouTube",key:"scrobbleMusicRecognisedOnly"}),t),u(e,v(St,{options:xt,setOptions:Ct,connectorOptions:Ie,i18ntitle:"optionYtGetTrackInfoFromYtMusicTitle",i18nlabel:"optionYtGetTrackInfoFromYtMusic",connector:"YouTube",key:"enableGetTrackInfoFromYtMusic"}),t),u(e,v(St,{options:xt,setOptions:Ct,connectorOptions:Ie,i18ntitle:"optionYtMusicOnlyTitle",i18nlabel:"optionYtMusicOnly",connector:"YouTube",key:"scrobbleMusicOnly"}),t),u(e,v(St,{options:xt,setOptions:Ct,connectorOptions:Ie,i18ntitle:"optionYtEntertainmentOnlyTitle",i18nlabel:"optionYtEntertainmentOnly",connector:"YouTube",key:"scrobbleEntertainmentOnly"}),t),u(t,()=>g("optionYtDesc")),x(s=>{const n=h.optionList,r=h.muted;return n!==s._v$&&$(e,s._v$=n),r!==s._v$2&&$(t,s._v$2=r),s},{_v$:void 0,_v$2:void 0}),e})()]}const od=b("<h2 id=header-scrobble-behavior>"),ld=V($e);function cd(e){return[(()=>{const t=od();return u(t,()=>g("optionsScrobbleBehavior")),t})(),v(Ts,{get buttons(){return[{label:g("optionForceRecognize"),title:g("optionForceRecognizeTitle"),value:se},{label:g("optionScrobbleRecognizedTracks"),title:g("optionScrobbleRecognizedTracksTitle"),value:ie},{label:g("optionScrobbleEditedTracksOnly"),title:g("optionScrobbleEditedTracksOnlyTitle"),value:ne}]},name:"scrobbleBehavior",value:()=>{var t,s;return(t=e.options())!=null&&t[se]?se:(s=e.options())!=null&&s[ne]?ne:ie},onChange:t=>{const s=t.currentTarget.value;e.setOptions.mutate(n=>{if(!n)return n;const r={...n,[se]:s===se,[ne]:s===ne,[ie]:s===ie};return ld.set(r),r})},labelledby:"header-scrobble-behavior"})]}const ud=b("<h1>"),Zs=V($e),[Xs,en]=Z(Zs.get.bind(Zs));function dd(){return[(()=>{const e=ud();return u(e,()=>g("optionsOptions")),e})(),v(ed,{options:Xs,setOptions:en}),v(ad,{}),v(cd,{options:Xs,setOptions:en})]}class wt{constructor(){this.userApiUrl=null,this.userToken=null,this.arrayProperties=null,this.storage=this.initStorage(),this.initUserProps(),jc($c({type:"updateScrobblerProperties",fn:()=>{this.initUserProps()}}))}async getUserProperties(){const t=await this.storage.get();return!t||!("properties"in t)||!t.properties?{}:t.properties}async applyUserProperties(t){this.applyProps(t,this.getUserDefinedProperties());let s=await this.storage.get();if(s||(s={}),!s){ce("No data in storage","error");return}if((!("properties"in s)||s.properties===void 0)&&(s.properties={}),!("properties"in s)||s.properties===void 0){ce("No properties in storage","error");return}for(const n in t){const r=t[n];r?s.properties[n]=r:n in s.properties&&delete s.properties[n]}await this.storage.set(s)}getUserDefinedProperties(){return[]}getUserDefinedArrayProperties(){return[]}async getArrayProperties(){const t=await this.storage.get();return!t||!("arrayProperties"in t)||!t.arrayProperties?[]:t.arrayProperties}async addUserArrayProperties(t){let s=await this.storage.get();if((!s||!("arrayProperties"in s)||!s.arrayProperties)&&(s={arrayProperties:[]}),!s||!("arrayProperties"in s)||!s.arrayProperties){ce("No data in storage","error");return}s.arrayProperties.push(t),this.applyArrayProps(s.arrayProperties,this.getUserDefinedArrayProperties()),await this.storage.set(s)}async applyUserArrayProperties(t){let s=await this.storage.get();if((!s||!("arrayProperties"in s)||!s.arrayProperties)&&(s={arrayProperties:[]}),!s||!("arrayProperties"in s)||!s.arrayProperties){ce("No data in storage","error");return}s.arrayProperties=t,this.applyArrayProps(s.arrayProperties,this.getUserDefinedArrayProperties()),await this.storage.set(s)}async signOut(){const t=await this.storage.get();if(!t){ce("No data in storage","error");return}"sessionID"in t&&delete t.sessionID,"sessionName"in t&&delete t.sessionName,"arrayProperties"in t&&delete t.arrayProperties,await this.storage.set(t)}async getProfileUrl(){const{sessionName:t}=await this.getSession();return`${this.getBaseProfileUrl()}${t??"undefined"}`}canLoveSong(){return!1}canLoadSongInfo(){return!1}applyFilter(t){return t}get REQUEST_TIMEOUT(){return 15e3}debugLog(t,s="log"){const n=`${this.getLabel()}: ${t}`;ce(n,s)}initStorage(){const t=["token","sessionID","sessionName"];t.push(...this.getUserDefinedProperties());const s=Vn(this.getStorageName());return s.debugLog(t),s}async initUserProps(){const t=await this.storage.get();if(t&&"properties"in t)for(const s in t.properties)s==="userApiUrl"&&"userApiUrl"in t.properties&&(this.userApiUrl=t.properties.userApiUrl),s==="userToken"&&"userToken"in t.properties&&(this.userToken=t.properties.userToken);t&&"arrayProperties"in t&&(this.arrayProperties=t.arrayProperties??[])}applyProps(t,s){for(const n in t){if(!s.includes(n))throw new Error(`Unknown property: ${n}`);const r=t[n];if(r===void 0)throw new Error(`Property is not set: ${n}`);r&&n in this?this[n]=t[n]:n in this&&delete this[n]}}applyArrayProps(t,s){if(!t)throw new Error("No props passed to applyArrayProps()");if(t.length===0){this.arrayProperties=[];return}for(const n of t)for(const[r,i]of Object.entries(n)){if(!s.includes(r))throw new Error(`Unknown property: ${r}`);if(i===void 0)throw new Error(`Property is not set: ${r}`)}this.arrayProperties=t}}class or extends wt{constructor(){super(...arguments),this.isLocalOnly=!1}async getAuthUrl(){var r;const t={method:"auth.gettoken"};let s=null,n=await((r=this.storage)==null?void 0:r.get());try{s=(await this.sendRequest({method:"GET"},t,!1)).token}catch{throw this.debugLog("Error acquiring a token","warn"),new Error("Error acquiring a token")}return n||(n={token:s}),n.token=s,"sessionID"in n&&delete n.sessionID,"sessionName"in n&&delete n.sessionName,await this.storage.set(n),`${this.getBaseAuthUrl()}?api_key=${this.getApiKey()}&token=${s||""}`}async getSession(){const t=await this.storage.get();if(!t)throw new Error(O.ERROR_AUTH);if(!("token"in t)){if(!("sessionID"in t))throw new Error(O.ERROR_AUTH);return{sessionID:t.sessionID??"undefined",sessionName:t.sessionName}}const s=t.token||null;if(s!==null)try{const n=await this.tradeTokenForSession(s);return delete t.token,t.sessionID=n.sessionID,t.sessionName=n.sessionName,await this.storage.set(t),n}catch{throw this.debugLog("Failed to trade token for session","warn"),await this.signOut(),new Error(O.ERROR_AUTH)}return{sessionID:t.sessionID,sessionName:t.sessionName}}async isReadyForGrantAccess(){const t=await this.storage.get();return!t||!("token"in t)?!1:!!t.token}async sendNowPlaying(t){const{sessionID:s}=await this.getSession(),n={method:"track.updatenowplaying",track:t.getTrack(),artist:t.getArtist(),sk:s};t.getAlbum()&&(n.album=t.getAlbum()),t.getAlbumArtist()&&(n.albumArtist=t.getAlbumArtist()),t.getDuration()&&(n.duration=`${t.getDuration()??""}`);const r=await this.sendRequest({method:"POST"},n);return this.processResponse(r)}async sendPaused(){return Promise.resolve(O.RESULT_OK)}async sendResumedPlaying(){return Promise.resolve(O.RESULT_OK)}async scrobble(t){const{sessionID:s}=await this.getSession(),n={method:"track.scrobble",sk:s};for(const[a,o]of t.slice(0,50).entries())n[`timestamp[${a}]`]=o.metadata.startTimestamp.toString(),n[`track[${a}]`]=o.getTrack(),n[`artist[${a}]`]=o.getArtist(),o.getAlbum()&&(n[`album[${a}]`]=o.getAlbum()),o.getAlbumArtist()&&(n[`albumArtist[${a}]`]=o.getAlbumArtist());const r=await this.sendRequest({method:"POST"},n),i=this.processResponse(r);if(i===O.RESULT_OK){const a=r.scrobbles;if(a){const o=a["@attr"].ignored;if(Number(o)===0)return new Array(Math.min(t.length,50)).fill(O.RESULT_OK);if(!Array.isArray(a.scrobble))return new Array(Math.min(t.length,50)).fill(O.RESULT_IGNORE);const l={};for(const[c,d]of t.entries())l[d.metadata.startTimestamp.toString()]=c;const m=new Array(Math.min(t.length,50));for(const c of a.scrobble)m[l[c.timestamp]]=c.ignoredMessage.code==="0"?O.RESULT_OK:O.RESULT_IGNORE}else return new Array(Math.min(t.length,50)).fill(O.ERROR_OTHER)}return new Array(Math.min(t.length,50)).fill(i)}async toggleLove(t,s){const{sessionID:n}=await this.getSession(),r={method:s?"track.love":"track.unlove",track:t.getTrack(),artist:t.getArtist(),sk:n},i=await this.sendRequest({method:"POST"},r);return this.processResponse(i)}canLoveSong(){return!0}async sendRequest(t,s,n=!0){const r=this.makeRequestUrl(s,n),i=fetch(r,t),a=this.REQUEST_TIMEOUT;let o=null,l=null;try{o=await Te(a,i),l=await o.json()}catch{throw new Error(O.ERROR_OTHER)}const m=JSON.stringify(l,null,2),c=md(l,m);if(!o.ok)throw this.debugLog(`${s.method} response:
${c}`,"error"),new Error(O.ERROR_OTHER);return this.debugLog(`${s.method} response:
${c}`),l}async tradeTokenForSession(t){const s={method:"auth.getsession",token:t},n=await this.sendRequest({method:"GET"},s);if(this.processResponse(n)!==O.RESULT_OK)throw new Error(O.ERROR_AUTH);const i=n.session.name;return{sessionID:n.session.key,sessionName:i}}makeRequestUrl(t,s){t.api_key=this.getApiKey(),t.format="json",s&&(t.api_sig=this.generateSign(t));const n=xn(t);return`${this.getApiUrl()}?${n}`}generateSign(t){const s=Object.keys(t).sort();let n="";for(const r of s)["format","callback"].includes(r)||(n+=`${r}${t[r]||""}`);return er(n+this.getApiSecret())}processResponse(t){return t.error?O.ERROR_OTHER:O.RESULT_OK}}function md(e,t){let s=t;const n=[e.token],r=e.session;r&&(n.push(r.name),n.push(r.key));for(const i of n)typeof i=="string"?s=Vs(i,s):typeof i=="number"&&(s=Vs(i.toString(),s));return s}class gd extends or{getApiUrl(){return"https://ws.audioscrobbler.com/2.0/"}getApiKey(){return"d9bb1870d3269646f740544d9def2c95"}getApiSecret(){return"2160733a567d4a1a69a73fad54c564b2"}getBaseAuthUrl(){return"https://www.last.fm/api/auth/"}getBaseProfileUrl(){return"https://last.fm/user/"}getId(){return"lastfm"}getLabel(){return"Last.fm"}getStatusUrl(){return"http://status.last.fm/"}getStorageName(){return"LastFM"}async getSongInfo(t){const s={track:t.getTrack(),artist:t.getArtist(),method:"track.getinfo"};try{const{sessionName:a}=await this.getSession();s.username=a}catch{}t.getAlbum()&&(s.album=t.getAlbum());const n=await this.sendRequest({method:"GET"},s,!1);if(this.processResponse(n)!==O.RESULT_OK)throw new Error("Unable to load song info");const i=this.parseSongInfo(n);return this.canLoveSong()&&i&&fe(t.controllerTabId,{type:"updateLove",payload:{isLoved:i.userloved||!1}}),i}canLoadSongInfo(){return!0}parseSongInfo(t){const s={},n=t.track,r=t.track.album,i=t.track.artist,a=n.userloved;if(a?s.userloved=a==="1":s.userloved=void 0,s.artist=i.name,s.artistUrl=i.url,s.track=n.name,s.trackUrl=n.url,s.duration=parseInt(n.duration)/1e3||null,r&&(s.album=r.title,s.albumUrl=r.url,s.albumMbId=r.mbid,Array.isArray(r.image))){const o=r.image.reduce((m,c)=>(m[c.size]=c["#text"],m),{}),l=["extralarge","large","medium"];for(const m of l){const c=o[m];if(c){s.trackArtUrl=c;break}}}return s.userPlayCount=parseInt(n.userplaycount)||0,s}applyFilter(t){if(t.getAlbumArtist()){const s=t.getAlbumArtist()||"";t.parsed.albumArtist=s.includes("Various Artists")?"Various Artists":s}return t}}class hd extends or{getApiUrl(){return"https://libre.fm/2.0/"}getApiKey(){return"r8i1y91hz71tcx7vyrp9hk1alhqp1898"}getApiSecret(){return"8187db5vg234yq6tm7o62q8mtl1niala"}getBaseAuthUrl(){return"https://www.libre.fm/api/auth/"}getBaseProfileUrl(){return"https://libre.fm/user/"}getLabel(){return"Libre.fm"}getStatusUrl(){return""}getStorageName(){return"LibreFM"}async getSongInfo(){return Promise.resolve({})}sendRequest(t,s,n){var r;return((r=t.method)==null?void 0:r.toLowerCase())==="post"&&(t.headers={"Content-Type":"application/x-www-form-urlencoded"},t.body=xn(s)),super.sendRequest(t,s,n)}}const fd="https://listenbrainz.org/settings/",ds="https://api.listenbrainz.org/1",bd=`${ds}/submit-listens`;class vd extends wt{constructor(){super(...arguments),this.isLocalOnly=!1}async getSongInfo(){return Promise.resolve({})}async getAuthUrl(){const t=await this.storage.get();let s;return t&&"properties"in t&&(s=t.properties),s?await this.storage.set({isAuthStarted:!0,properties:s}):await this.storage.set({isAuthStarted:!0}),"https://listenbrainz.org/login/musicbrainz?next=%2Fsettings%2F"}getBaseProfileUrl(){return"https://listenbrainz.org/user/"}getLabel(){return"ListenBrainz"}async getProfileUrl(){return this.userToken?"":await super.getProfileUrl()}getStatusUrl(){return this.userToken?"":"https://listenbrainz.org/current-status"}getStorageName(){return"ListenBrainz"}getUserDefinedProperties(){return["userApiUrl","userToken"]}async signOut(){(this.userApiUrl||this.userToken)&&await this.applyUserProperties({userApiUrl:null,userToken:null}),await super.signOut()}async getSession(){if(this.userToken)return{sessionID:this.userToken};const t=await this.storage.get();if(!t)throw this.debugLog("no data","error"),await this.signOut(),new Error(O.ERROR_AUTH);if("isAuthStarted"in t&&t.isAuthStarted)try{const s=await this.requestSession();return t.sessionID=s.sessionID,t.sessionName=s.sessionName,delete t.isAuthStarted,await this.storage.set(t),s}catch{throw this.debugLog("Failed to get session","warn"),await this.signOut(),new Error(O.ERROR_AUTH)}else if(!("sessionID"in t)||!t.sessionID)throw new Error(O.ERROR_AUTH);return{sessionID:t.sessionID,sessionName:t.sessionName}}async isReadyForGrantAccess(){if(this.userToken)return!1;const t=await this.storage.get();return!t||!("isAuthStarted"in t)?!1:t.isAuthStarted??!1}async sendNowPlaying(t){const{sessionID:s}=await this.getSession(),r={listen_type:"playing_now",payload:[{track_metadata:this.makeTrackMetadata(t)}]};return this.sendScrobbleRequest(r,s)}async sendPaused(){return Promise.resolve(O.RESULT_OK)}async sendResumedPlaying(){return Promise.resolve(O.RESULT_OK)}async scrobble(t,s){const{sessionID:n}=await this.getSession(),r={listen_type:s?"single":"import",payload:t.slice(0,50).map(a=>({listened_at:a.metadata.startTimestamp,track_metadata:this.makeTrackMetadata(a)}))},i=await this.sendScrobbleRequest(r,n);return new Array(Math.min(t.length,50)).fill(i)}async toggleLove(t,s){const n=t.getTrack(),r=t.getArtist();if(typeof n!="string"||typeof r!="string")throw new Error(`Invalid track ${JSON.stringify({artist:r,track:n})}`);const i=new URLSearchParams({recording_name:n,artist_name:r});let a={};try{a=await this.listenBrainzApi("GET",`${ds}/metadata/lookup?${i.toString()}`,null,null)}catch{}if(this.debugLog(`lookup result: ${JSON.stringify(a,null,2)}`),!a.recording_mbid)return this.debugLog(`Could not lookup metadata for song: ${t.toString()}`),{};const{sessionID:o}=await this.getSession(),l={recording_mbid:a.recording_mbid,score:s?1:0},m=await this.listenBrainzApi("POST",`${ds}/feedback/recording-feedback`,l,o);return this.processResult(m)}canLoveSong(){return!0}async listenBrainzApi(t,s,n,r){const i={method:t,headers:{"Content-Type":"application/json; charset=UTF-8"}};n&&(i.body=JSON.stringify(n)),r&&i.headers&&(i.headers.Authorization=`Token ${r}`);const a=fetch(s,i),o=this.REQUEST_TIMEOUT;let l=null,m=null;try{m=await Te(o,a),l=await m.json()}catch{throw this.debugLog("Error while sending request","error"),new Error(O.ERROR_OTHER)}switch(m.status){case 400:throw this.debugLog("Invalid JSON sent","error"),new Error(O.ERROR_AUTH);case 401:throw this.debugLog("Invalid Authorization sent","error"),new Error(O.ERROR_AUTH)}return this.debugLog(JSON.stringify(l,null,2)),l}async sendScrobbleRequest(t,s){const n=await this.listenBrainzApi("POST",this.userApiUrl||bd,t,s);return this.processResult(n)}async requestSession(){let t=null;try{t=await this.fetchSession(fd)}catch{this.debugLog("request session timeout","warn")}if(t){const s=Un(t.sessionID);return this.debugLog(`Session ID: ${s}`),t}throw new Error(O.ERROR_AUTH)}async fetchSession(t){var i;this.debugLog(`Use ${t}`);const s=xc()?Cc(t):at({type:"sendListenBrainzRequest",payload:{url:t}}),n=this.REQUEST_TIMEOUT,r=await Te(n,s);if(r!==null){let a=null;const o=(i=r.match(/<script id="global-react-props" type="application\/json">(.*?)<\/script>/))==null?void 0:i[1];o&&(a=JSON.parse(o));const l=a==null?void 0:a.current_user.name,m=a==null?void 0:a.current_user.auth_token;if(m&&l)return{sessionID:m,sessionName:l}}return null}processResult(t){return t.status!=="ok"?O.ERROR_OTHER:O.RESULT_OK}makeTrackMetadata(t){const s={artist_name:t.getArtist()??"",track_name:t.getTrack()??"",additional_info:{submission_client:"Web Scrobbler",submission_client_version:_s(),music_service_name:t.metadata.label}},n=t.getAlbum();n&&(s.release_name=n);const r=t.getOriginUrl();r&&(s.additional_info.origin_url=r);const i=t.getAlbumArtist();i&&(s.additional_info.release_artist_name=i),r&&t.metadata.label==="Spotify"&&(s.additional_info.spotify_id=r);const a=t.getDuration();return a&&(s.additional_info.duration=a),s}}class pd extends wt{constructor(){super(...arguments),this.isLocalOnly=!0}getStorageName(){return"Maloja"}getLabel(){return"Maloja"}getStatusUrl(){return""}getUserDefinedProperties(){return["userApiUrl","userToken"]}async getProfileUrl(){return Promise.resolve("")}async getAuthUrl(){return Promise.resolve("")}getBaseProfileUrl(){return""}getSongInfo(){return Promise.resolve({})}toggleLove(){return Promise.resolve(O.ERROR_OTHER)}async getSession(){if(!this.userToken)throw new Error(O.ERROR_AUTH);return Promise.resolve({sessionID:this.userToken})}isReadyForGrantAccess(){return Promise.resolve(!1)}sendNowPlaying(){return Promise.resolve(O.RESULT_OK)}async sendPaused(){return Promise.resolve(O.RESULT_OK)}async sendResumedPlaying(){return Promise.resolve(O.RESULT_OK)}async scrobble(t){const s=[];for(const n of t.slice(0,50)){const r=this.makeTrackMetadata(n);s.push(this.sendRequest(r,this.userToken))}return Promise.all(s)}async sendRequest(t,s){t.key=s;const n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},r=fetch(this.userApiUrl,n),i=this.REQUEST_TIMEOUT;let a=null;try{if(a=await Te(i,r),a.status!==200)return O.ERROR_OTHER}catch{return this.debugLog("Error while sending request","error"),O.ERROR_OTHER}return O.RESULT_OK}makeTrackMetadata(t){const s={artist:t.getArtist()??"",title:t.getTrack()??"",time:t.metadata.startTimestamp},n=t.getAlbum();n&&(s.album=n);const r=t.getAlbumArtist();return r&&(s.albumartists=[r]),s}}class _d extends wt{constructor(){super(...arguments),this.isLocalOnly=!0}getBaseProfileUrl(){return""}getLabel(){return"Webhook"}getStatusUrl(){return""}getStorageName(){return"Webhook"}getSession(){return!this.arrayProperties||this.arrayProperties.length===0?Promise.reject(new Error("")):Promise.resolve({sessionID:"webhook"})}getAuthUrl(){return Promise.resolve("")}isReadyForGrantAccess(){return Promise.resolve(!1)}async getProfileUrl(){return Promise.resolve("")}getUserDefinedArrayProperties(){return["applicationName","userApiUrl"]}async getSongInfo(){return Promise.resolve({})}async sendRequest(t){if(!this.arrayProperties||this.arrayProperties.length===0)return O.ERROR_AUTH;this.debugLog(`Webhook - sendRequest: ${JSON.stringify(t,null,2)}`);const s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},n=[];for(const i of this.arrayProperties)n.push(fetch(i.userApiUrl,s));const r=this.REQUEST_TIMEOUT;try{const i=await Te(r,Promise.all(n));for(const a of i)if(a.status!==200)return this.debugLog(`Error in ${a.url}.`,"error"),O.ERROR_OTHER}catch{return this.debugLog("Error while sending request","error"),O.ERROR_OTHER}return O.RESULT_OK}async sendNowPlaying(t){return this.sendRequest({eventName:"nowplaying",time:Date.now(),data:{song:t}})}async sendPaused(t){return this.sendRequest({eventName:"paused",time:Date.now(),data:{song:t}})}async sendResumedPlaying(t){return this.sendRequest({eventName:"resumedplaying",time:Date.now(),data:{song:t}})}async scrobble(t,s){const n=await this.sendRequest({eventName:"scrobble",time:Date.now(),data:{song:t[0],songs:t,currentlyPlaying:s}});return new Array(t.length).fill(n)}toggleLove(t,s){return this.sendRequest({eventName:"loved",time:Date.now(),data:{song:t,isLoved:s}})}}class yd extends wt{constructor(){super(...arguments),this.isLocalOnly=!0}getStorageName(){return"Pleroma"}getLabel(){return"Pleroma"}getStatusUrl(){return""}getUserDefinedProperties(){return["userApiUrl","userToken"]}async getProfileUrl(){return Promise.resolve("")}async getAuthUrl(){return Promise.resolve("")}getBaseProfileUrl(){return""}getSongInfo(){return Promise.resolve({})}toggleLove(){return Promise.resolve(O.ERROR_OTHER)}async getSession(){if(!this.userToken)throw new Error(O.ERROR_AUTH);const t={method:"GET",headers:{Authorization:`Bearer ${this.userToken}`}},s=`https://${this.userApiUrl}/api/v1/accounts/verify_credentials`,n=fetch(s,t),r=this.REQUEST_TIMEOUT;let i=null;try{if(i=await Te(r,n),i.status!==200)throw new Error(O.ERROR_AUTH);const a=await i.json(),o=a?a.fqn:"";return{sessionID:this.userToken,sessionName:o}}catch{throw this.debugLog("Error while sending request","error"),new Error(O.ERROR_AUTH)}}isReadyForGrantAccess(){return Promise.resolve(!1)}sendNowPlaying(){return Promise.resolve(O.RESULT_OK)}async sendResumedPlaying(){return Promise.resolve(O.RESULT_OK)}async sendPaused(){return Promise.resolve(O.RESULT_OK)}async scrobble(t){const s=[];for(const n of t.slice(0,50)){const r=this.makeTrackMetadata(n);s.push(this.sendRequest(r,this.userToken))}return Promise.all(s)}async sendRequest(t,s){const n={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify(t)},r=`https://${this.userApiUrl}/api/v1/pleroma/scrobble`,i=fetch(r,n),a=this.REQUEST_TIMEOUT;let o=null;try{if(o=await Te(a,i),o.status!==200)return O.ERROR_OTHER}catch{return this.debugLog("Error while sending request","error"),O.ERROR_OTHER}return O.RESULT_OK}makeTrackMetadata(t){const s={artist:t.getArtist()??"",title:t.getTrack()??"",length:t.getDuration(),url:t.parsed.originUrl??""},n=t.getAlbum();return n&&(s.album=n),s}}const Je=[new gd,new hd,new vd,new pd,new _d,new yd];function tn(e,t){return t.some(s=>s.getLabel()===e.getLabel())}class wd{constructor(){this.boundScrobblers=[]}async bindAllScrobblers(){for(const t of Je)try{await t.getSession(),this.bindScrobbler(t)}catch{ee(`Unable to bind ${t.getLabel()}`,"warn")}return this.boundScrobblers}bindScrobbler(t){tn(t,this.boundScrobblers)||(this.boundScrobblers.push(t),ee(`Bind ${t.getLabel()} scrobbler`))}unbindScrobbler(t){if(tn(t,this.boundScrobblers)){const s=this.boundScrobblers.indexOf(t);this.boundScrobblers.splice(s,1),ee(`Unbind ${t.getLabel()} scrobbler`)}else ee(`${t.getLabel()} is not bound`,"error")}getSongInfo(t){const s=Je.filter(n=>n.canLoadSongInfo());return ee(`Send "get info" request: ${s.length}`),Promise.all(s.map(async n=>{try{return await n.getSongInfo(t)}catch{return ee(`Unable to get song info from ${n.getLabel()}`,"warn"),null}}))}sendNowPlaying(t){return ee(`Send "now playing" request: ${this.boundScrobblers.length}`),Promise.all(this.boundScrobblers.map(async s=>{try{return await s.sendNowPlaying(s.applyFilter(t))}catch(n){return this.processErrorResult(s,n)}}))}sendPaused(t){const s=this.boundScrobblers.filter(n=>typeof n.sendPaused=="function");return s.length===0?Promise.resolve([O.RESULT_OK]):(ee(`Send "paused" request: ${s.length}`),Promise.all(s.map(async n=>{try{return await n.sendPaused(n.applyFilter(t))}catch(r){return this.processErrorResult(n,r)}})))}sendResumedPlaying(t){const s=this.boundScrobblers.filter(n=>typeof n.sendResumedPlaying=="function");return s.length===0?Promise.resolve([O.RESULT_OK]):(ee(`Send "paused" request: ${s.length}`),Promise.all(s.map(async n=>{try{return await n.sendResumedPlaying(n.applyFilter(t))}catch(r){return this.processErrorResult(n,r)}})))}async scrobble(t,s){ee(`Send "scrobble" request: ${this.boundScrobblers.length}`);const n=await Promise.all(this.boundScrobblers.map(async r=>{try{return await r.scrobble(t.map(r.applyFilter),s)}catch(i){return this.processScrobbleErrorResult(r,i)}}));for(let r=0;r<n[0].length;r++)await ct.pushScrobble({song:t[r].getCloneableData(),status:Ic(n,r)});return n}async toggleLove(t,s){const n=Je.filter(i=>i.canLoveSong());return ee(`Send "${s?"love":"unlove"}" request: ${n.length}`),Promise.all(n.map(async i=>{try{return await i.toggleLove(t,s)}catch(a){return this.processErrorResult(i,a)}}))}getRegisteredScrobblers(){return Je}getScrobblerByLabel(t){for(const s of Je)if(s.getLabel()===t)return s;return null}async processErrorResult(t,s){const n=s===O.ERROR_OTHER,r=s===O.ERROR_AUTH;if(!(n||r))throw new Error(`Invalid result: ${s}`);return r&&(await t.isReadyForGrantAccess()||this.unbindScrobbler(t)),s}async processScrobbleErrorResult(t,s){const n=s[0]===O.ERROR_OTHER,r=s[0]===O.ERROR_AUTH;if(!(n||r))throw new Error(`Invalid result: ${s[0]}`);return r&&(await t.isReadyForGrantAccess()||this.unbindScrobbler(t)),s}}const $d=new wd,jd=b("<h1>"),ms=b("<p>"),Ad=b('<div><a target=_blank rel="noopener noreferrer"></a><button>'),Es=b("<button>"),kd=b("<div role=group><h2>"),Sd=b("<button><div></div>Save"),lr=b("<h3>"),cr=b("<label><input>"),xd=b("<div>"),Cd=b("<div><button>"),Td=b("<span>"),ur={ListenBrainz:{userApiUrl:{type:"text",title:"accountsUserApiUrl",placeholder:"accountsUserApiUrlPlaceholder"},userToken:{type:"password",title:"accountsUserToken",placeholder:"accountsUserTokenPlaceholder"}},Maloja:{userApiUrl:{type:"text",title:"accountsUserApiUrl",placeholder:"accountsUserApiUrlPlaceholder"},userToken:{type:"password",title:"accountsUserToken",placeholder:"accountsUserTokenPlaceholder"}},Pleroma:{userApiUrl:{type:"text",title:"instanceDomain",placeholder:"instanceDomainPlaceholder"},userToken:{type:"password",title:"accountsUserToken",placeholder:"accountsUserTokenPlaceholder"}}},dr={Webhook:{applicationName:{type:"text",title:"accountsApplicationName",placeholder:"accountsApplicationNamePlaceholder"},userApiUrl:{type:"text",title:"accountsUserApiUrl",placeholder:"accountsUserApiUrlPlaceholder"}}};function Ed(){return[(()=>{const e=jd();return u(e,()=>g("optionsAccounts")),e})(),v(Re,{label:"Last.fm"}),v(Re,{label:"Libre.fm"}),v(Re,{label:"ListenBrainz"}),v(Re,{label:"Maloja"}),v(Re,{label:"Webhook"}),v(Re,{label:"Pleroma"})]}function Re(e){const t=H(()=>$d.getScrobblerByLabel(e.label)),[s,n]=Z(()=>{const d=t();if(d)return d.getSession()}),[r,i]=Z(()=>{const d=t();if(d)return d.getProfileUrl()}),[a,o]=q(!1),l=async()=>{var d,A,j;try{await((d=t())==null?void 0:d.isReadyForGrantAccess())&&(await((A=t())==null?void 0:A.getSession()),n.refetch(),i.refetch())}catch(C){ce(`${(j=t())==null?void 0:j.getLabel()}: Error while fetching session`,"warn"),ce(C,"warn")}},m=()=>{l()};window.addEventListener("focus",m),Ht(()=>window.removeEventListener("focus",m));const c=H(()=>{var d;return(d=t())==null?void 0:d.getLabel()});return(()=>{const d=kd(),A=d.firstChild;return u(A,c),u(d,v(Us,{get fallback(){return v(J,{get when(){return!a()},get children(){return v(Ld,{get scrobbler(){return t()}})}})},get children(){return[v(jt,{get when(){var j;return(j=t())==null?void 0:j.isLocalOnly},get children(){return v(J,{get when(){return H(()=>!s.error)()&&s()},get children(){const j=ms();return u(j,()=>{var C;return g("accountsSignedInAs",((C=s())==null?void 0:C.sessionName)||"anonymous")}),j}})}}),v(jt,{get when(){return H(()=>!s.error)()&&s()},get children(){return[(()=>{const j=ms();return u(j,()=>{var C;return g("accountsSignedInAs",((C=s())==null?void 0:C.sessionName)||"anonymous")}),j})(),(()=>{const j=Ad(),C=j.firstChild,T=C.nextSibling;return u(C,()=>g("accountsProfile")),T.$$click=()=>void(async()=>{var I;await((I=t())==null?void 0:I.signOut()),n.refetch(),i.refetch()})(),u(T,()=>g("accountsSignOut")),x(I=>{const U=h.buttonContainer,N=h.button,B=r.error?"#":r(),F=h.button;return U!==I._v$&&$(j,I._v$=U),N!==I._v$2&&$(C,I._v$2=N),B!==I._v$3&&P(C,"href",I._v$3=B),F!==I._v$4&&$(T,I._v$4=F),I},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),j})()]}})]}}),null),u(d,v(Us,{get children(){return[v(jt,{get when(){var j,C;return H(()=>{var T;return!a()&&!((T=t())!=null&&T.isLocalOnly)})()&&(mr((j=t())==null?void 0:j.getLabel())||gr((C=t())==null?void 0:C.getLabel()))},get children(){const j=Es();return j.$$click=()=>o(!0),u(j,()=>g("accountsUseLocalInstance")),x(()=>$(j,`${h.button} ${h.marginTop}`)),j}}),v(jt,{get when(){var j;return a()||((j=t())==null?void 0:j.isLocalOnly)},get children(){return[v(Od,{get scrobbler(){return t()}}),v(Md,{get scrobbler(){return t()}})]}})]}}),null),x(()=>P(d,"aria-label",c())),d})()}function Ld(e){return[(()=>{const t=ms();return u(t,()=>g("accountsNotSignedIn")),t})(),(()=>{const t=Es();return t.$$click=()=>void(async()=>{var n;const s=await((n=e.scrobbler)==null?void 0:n.getAuthUrl());if(!s)return new Error("No auth URL");await K.tabs.create({url:s})})(),u(t,()=>g("accountsSignIn")),x(()=>$(t,h.button)),t})()]}function Rd(){const[e,t]=q("base"),s={base:tc,saving:Ul,saved:Tn};return(()=>{const n=Sd(),r=n.firstChild;return n.$$click=()=>{e()!=="saving"&&(t("saving"),setTimeout(()=>{t("saved")},850))},u(r,v(jn,{get component(){return s[e()]}})),x(i=>{const a=h.button,o=`${h[`${e()}SaveIcon`]} ${h.saveIcon}`;return a!==i._v$5&&$(n,i._v$5=a),o!==i._v$6&&$(r,i._v$6=o),i},{_v$5:void 0,_v$6:void 0}),n})()}function Od(e){const[t,s]=Z(()=>{if(e.scrobbler)return e.scrobbler.getUserProperties()}),n=H(()=>{var i;const r=(i=e.scrobbler)==null?void 0:i.getLabel();if(mr(r))return r});return v(J,{get when(){return n()},children:r=>[(()=>{const i=lr();return u(i,()=>g("accountsScrobblerProps")),i})(),v(re,{get each(){return Object.entries(ur[r()])},children:([i,{type:a,title:o,placeholder:l}])=>{const m=i;return(()=>{const c=cr(),d=c.firstChild;return u(c,()=>g(o),d),d.$$input=A=>{const j=e.scrobbler;s.mutate(C=>{let T=C;return T||(T={}),T[m]=A.currentTarget.value,j==null||j.applyUserProperties(T).then(()=>{at({type:"updateScrobblerProperties",payload:void 0})}),T})},P(d,"type",a),x(A=>{const j=h.propLabel,C=h.propInput,T=g(l);return j!==A._v$7&&$(c,A._v$7=j),C!==A._v$8&&$(d,A._v$8=C),T!==A._v$9&&P(d,"placeholder",A._v$9=T),A},{_v$7:void 0,_v$8:void 0,_v$9:void 0}),x(()=>{var A;return d.value=((A=t())==null?void 0:A[m])||""}),c})()}}),v(Rd,{})]})}function Md(e){const[t,s]=Z(()=>{if(e.scrobbler)return e.scrobbler.getArrayProperties()}),n=H(()=>{var a;const i=(a=e.scrobbler)==null?void 0:a.getLabel();if(gr(i))return i}),r={applicationName:"",userApiUrl:""};return v(J,{get when(){return n()},children:i=>[(()=>{const a=lr();return u(a,()=>g("accountsScrobblerProps")),a})(),(()=>{const a=xd();return u(a,v(re,{get each(){return t()},children:(o,l)=>(()=>{const m=Cd(),c=m.firstChild;return c.$$click=()=>{const d=e.scrobbler,A=l();s.mutate(j=>{let C=j;return C||(C=[]),C.length<=A||(C=[...C.slice(0,A),...C.slice(A+1)],d==null||d.applyUserArrayProperties(C).then(()=>{at({type:"updateScrobblerProperties",payload:void 0})})),C})},u(c,v(qe,{})),u(m,v(re,{get each(){return Object.values(o)},children:d=>(()=>{const A=Td();return u(A,d),x(()=>$(A,h.arrayProp)),A})()}),null),x(d=>{const A=h.arrayProps,j=`${h.button} ${h.small} ${h.marginRight}`;return A!==d._v$10&&$(m,d._v$10=A),j!==d._v$11&&$(c,d._v$11=j),d},{_v$10:void 0,_v$11:void 0}),m})()})),x(()=>$(a,h.arrayPropWrapper)),a})(),v(re,{get each(){return Object.entries(dr[i()])},children:([a,{type:o,title:l,placeholder:m}])=>{const c=a;return(()=>{const d=cr(),A=d.firstChild;return u(d,()=>g(l),A),A.$$input=j=>{r[c]=j.currentTarget.value},P(A,"type",o),x(j=>{const C=h.propLabel,T=h.propInput,I=g(m);return C!==j._v$12&&$(d,j._v$12=C),T!==j._v$13&&$(A,j._v$13=T),I!==j._v$14&&P(A,"placeholder",j._v$14=I),j},{_v$12:void 0,_v$13:void 0,_v$14:void 0}),d})()}}),(()=>{const a=Es();return a.$$click=()=>{const o=e.scrobbler;s.mutate(l=>{let m=l;return m||(m=[]),o==null||o.addUserArrayProperties(r).then(()=>{at({type:"updateScrobblerProperties",payload:void 0})}),[...m,r]})},u(a,()=>g("accountsAddWebhook")),x(()=>$(a,h.button)),a})()]})}function mr(e){return e?e in ur:!1}function gr(e){return e?e in dr:!1}he(["click","input"]);const Zt=b("<button>"),hr=b("<button><input type=file accept=.json>");function Ls(e){return(()=>{const t=Zt();return t.$$click=s=>{var n;s.stopImmediatePropagation(),e.setActiveModal(e.type),(n=e.modal)==null||n.showModal()},u(t,v(Mn,{}),null),u(t,()=>g("optionsViewEdited"),null),x(()=>$(t,`${h.button} ${h.shiftLeft}`)),t})()}function Pd(e){return(()=>{const t=Zt();return t.$$click=s=>{var n;s.stopImmediatePropagation(),e.setActiveModal(e.type),(n=e.modal)==null||n.showModal()},u(t,v(Mn,{}),null),u(t,()=>g("optionsViewEdited"),null),x(()=>$(t,`${h.button} ${h.shiftLeft}`)),t})()}function Rs(e){return(()=>{const t=Zt();return t.$$click=()=>void zd(e.editWrapper,e.filename),u(t,v(On,{}),null),u(t,()=>g("optionsExportEdited"),null),x(()=>$(t,`${h.button} ${h.shiftLeft}`)),t})()}function Id(e){return(()=>{const t=Zt();return t.$$click=()=>void Dd(e.blocklistWrapper,e.connector,e.filename),u(t,v(On,{}),null),u(t,()=>g("optionsExportEdited"),null),x(()=>$(t,`${h.button} ${h.shiftLeft}`)),t})()}async function Dd(e,t,s){const n=await e.get();if(!n||!n[t.id])return;const r=`data:text/json;charset=UTF-8,${encodeURIComponent(JSON.stringify(n[t.id]))}`,i=document.createElement("a");i.download=s,i.href=r,i.click()}async function zd(e,t){const s=await e.get();if(!s)return;const n=`data:text/json;charset=UTF-8,${encodeURIComponent(JSON.stringify(s))}`,r=document.createElement("a");r.download=t,r.href=n,r.click()}function Ud(e){const[t,s]=q();return(()=>{const n=hr(),r=n.firstChild;return n.$$click=()=>{var i;return(i=t())==null?void 0:i.click()},u(n,v(En,{}),r),u(n,()=>g("optionsImportEdited"),r),r.addEventListener("change",i=>Bd(i,e.blocklistWrapper,e.connector,e.mutate)),Vt(s,r),r.hidden=!0,x(()=>$(n,`${h.button} ${h.shiftLeft}`)),n})()}function Os(e){const[t,s]=q();return(()=>{const n=hr(),r=n.firstChild;return n.$$click=()=>{var i;return(i=t())==null?void 0:i.click()},u(n,v(En,{}),r),u(n,()=>g("optionsImportEdited"),r),r.addEventListener("change",i=>Nd(i,e.editWrapper)),Vt(s,r),r.hidden=!0,x(()=>$(n,`${h.button} ${h.shiftLeft}`)),n})()}function Nd(e,t){var r;const s=(r=e.currentTarget.files)==null?void 0:r[0];if(!s)return;const n=new FileReader;n.addEventListener("load",i=>void(async a=>{var m;const o=JSON.parse((m=a.target)==null?void 0:m.result),l=await t.get();if(l instanceof Array&&o instanceof Array){const c=[...l??[],...o];t.set(c)}else if(sn(l)&&sn(o)){const c={...l||{},...o};t.set(c)}else if(nn(l)&&nn(o)){const c={...l};for(const[d,A]of Object.entries(o)){if(!(d in c)){c[d]=A;continue}c[d].albums={...c[d].albums,...o[d].albums},c[d].tracks={...c[d].tracks,...o[d].tracks},(c[d].disabled||o[d].disabled)&&(c[d].disabled=!0)}t.set(c)}})(i)),n.readAsText(s)}function sn(e){if(e===null||e instanceof Array)return!1;const t=Object.keys(e);return t.length===0||"artist"in e[t[0]]}function nn(e){if(e===null||e instanceof Array)return!1;const t=Object.keys(e);return t.length===0||"albums"in e[t[0]]}function Bd(e,t,s,n){var a;const r=(a=e.currentTarget.files)==null?void 0:a[0];if(!r)return;const i=new FileReader;i.addEventListener("load",o=>void(async l=>{var d;const m=JSON.parse((d=l.target)==null?void 0:d.result);let c=await t.get();c||(c={}),c[s.id]||(c[s.id]={}),c[s.id]={...c[s.id],...m},t.set(c),n(c)})(o)),i.readAsText(r)}he(["click"]);const Fd=b("<h3>"),Hd=b("<p>"),qd=b("<div role=group>"),Gd=b("<h1>"),Vd=b("<ul>"),Wd=b("<li><button></button><span>"),ut=V(Qt),[rn,{mutate:fr}]=Z(ut.get.bind(ut)),[ts,Kd]=q();function Jd(e){return bs(()=>{Kd(e.connector)}),[(()=>{const t=Fd();return u(t,()=>g("optionsBlockedSources")),t})(),(()=>{const t=Hd();return u(t,()=>g("optionsBlockedSourcesDesc")),t})(),(()=>{const t=qd();return u(t,v(Pd,{get setActiveModal(){return e.setActiveModal},get modal(){return e.modal},type:"blocklist"}),null),u(t,v(Id,{blocklistWrapper:ut,get connector(){return e.connector},get filename(){return`${e.connector.id}-blocklist.json`}}),null),u(t,v(Ud,{blocklistWrapper:ut,get connector(){return e.connector},mutate:fr}),null),x(s=>{const n=h.buttonContainer,r=g("optionsBlockedSources");return n!==s._v$&&$(t,s._v$=n),r!==s._v$2&&P(t,"aria-label",s._v$2=r),s},{_v$:void 0,_v$2:void 0}),t})()]}function fg(){return[(()=>{const e=Gd();return u(e,()=>{var t,s;return g("optionsBlockedSourcesPopupTitle",Object.keys(((s=rn())==null?void 0:s[((t=ts())==null?void 0:t.id)??""])??{}).length.toString())}),e})(),(()=>{const e=Vd();return u(e,v(re,{get each(){var t,s;return Object.entries(((s=rn())==null?void 0:s[((t=ts())==null?void 0:t.id)??""])??{})},children:([t,s])=>v(Qd,{channelId:t,channelLabel:s,get connector(){return ts()},mutate:fr})})),x(()=>$(e,h.optionList)),e})()]}function Qd(e){return(()=>{const t=Wd(),s=t.firstChild,n=s.nextSibling;return s.$$click=r=>{r.stopPropagation();const i=e.channelId,a=e.connector;e.mutate(o=>!o||!a||!o[a.id]?o:(delete o[a.id][i],ut.set(o),{...o}))},u(s,v(qe,{})),u(n,()=>e.channelLabel),x(r=>{const i=h.deleteListing,a=`${h.button} ${h.small} ${h.marginRight}`,o=g("optionsDelete",e.channelLabel);return i!==r._v$3&&$(t,r._v$3=i),a!==r._v$4&&$(s,r._v$4=a),o!==r._v$5&&P(s,"title",r._v$5=o),r},{_v$3:void 0,_v$4:void 0,_v$5:void 0}),t})()}he(["click"]);const Yd=b("<h1>"),gs=b("<p>"),Zd=b("<ul><li>"),Xd=b("<li><details><summary>"),em=b("<div role=group><h3></h3><h3></h3><h3></h3><p>"),tm=b("<button type=button>"),sm=b("<div><input type=text><button type=button>"),dt=V($e),pe=V(Kt),nt=V(Jt),[br,hs]=Z(dt.get.bind(dt)),[ye,Se]=Z(pe.get.bind(pe)),[nm,ss]=Z(nt.get.bind(nt));function rm(e){return[(()=>{const t=Yd();return u(t,()=>g("optionsSupportedWebsites")),t})(),(()=>{const t=gs();return u(t,()=>g("optionsEnableDisableHint")),t})(),(()=>{const t=gs();return x(()=>t.innerHTML=g("optionsCustomPatternsHint")),t})(),(()=>{const t=Zd(),s=t.firstChild;return u(s,v(it,{}),null),u(s,v(Cs,{get title(){return g("optionsToggle")},get label(){return g("optionsToggle")},isChecked:()=>{var n;return Object.keys(((n=br())==null?void 0:n.disabledConnectors)??{}).length<ot.length},onInput:n=>{if(n.currentTarget.checked)hs.mutate(r=>{if(!r)return r;const i={...r,disabledConnectors:{}};return dt.set(i),i});else{const r=Object.fromEntries(ot.map(i=>[i.id,!0]));hs.mutate(i=>{if(!i)return i;const a={...i,disabledConnectors:r};return dt.set(a),a})}}}),null),u(t,v(im,{get setActiveModal(){return e.setActiveModal},get modal(){return e.modal}}),null),x(()=>$(t,`${h.connectorOptionsList} ${h.optionList}`)),t})()]}function im(e){return v(yn,{get fallback(){return(()=>{const t=gs();return u(t,()=>g("optionsLoadingConnectorOptions")),t})()},get children(){return v(re,{each:ot,children:t=>v(am,{get setActiveModal(){return e.setActiveModal},get modal(){return e.modal},connector:t})})}})}function am(e){const[t,s]=q(),[n,r]=q(!1);return bs(()=>{var i;(i=t())==null||i.addEventListener("toggle",()=>{r(a=>!a)})}),(()=>{const i=Xd(),a=i.firstChild,o=a.firstChild;return Vt(s,a),u(o,v(Ln,{get class(){return h.expandVector}}),null),u(o,v(Wu,{get title(){return e.connector.label},get label(){return e.connector.label},get id(){return e.connector.id},isChecked:()=>{var l,m;return!(((m=(l=br())==null?void 0:l.disabledConnectors)==null?void 0:m[e.connector.id])??!1)},onInput:l=>{const m=e.connector;hs.mutate(c=>{if(!c)return c;const d={...c};return l.currentTarget.checked?delete d.disabledConnectors[m.id]:d.disabledConnectors={...d.disabledConnectors,[m.id]:!0},dt.set(d),d})}}),null),u(a,v(om,{get setActiveModal(){return e.setActiveModal},get modal(){return e.modal},get connector(){return e.connector},active:n}),null),i})()}function om(e){return v(J,{get when(){return e.active()},get children(){const t=em(),s=t.firstChild,n=s.nextSibling,r=n.nextSibling,i=r.nextSibling;return u(s,()=>g("optionsGeneral")),u(t,v(J,{get when(){return K.notifications},get children(){return[v(We,{get title(){return g("optionUseNotificationsTitle")},get label(){return g("optionUseNotifications")},get connector(){return e.connector},option:bt,overrideOptions:ye,setOverrideOptions:Se,connectorOverrideOptions:pe}),v(We,{get title(){return g("optionUnrecognizedNotificationsTitle")},get label(){return g("optionUnrecognizedNotifications")},get connector(){return e.connector},option:vt,overrideOptions:ye,setOverrideOptions:Se,connectorOverrideOptions:pe})]}}),n),u(t,v(We,{get title(){return g("optionUseInfoboxTitle")},get label(){return g("optionUseInfobox")},get connector(){return e.connector},option:pt,overrideOptions:ye,setOverrideOptions:Se,connectorOverrideOptions:pe}),n),u(t,v(We,{get title(){return g("optionScrobblePodcastsTitle")},get label(){return g("optionScrobblePodcasts")},get connector(){return e.connector},option:_t,overrideOptions:ye,setOverrideOptions:Se,connectorOverrideOptions:pe}),n),u(t,v(We,{get title(){return g("optionAutoToggleLoveTitle")},get label(){return g("optionAutoToggleLove")},get connector(){return e.connector},option:yt,overrideOptions:ye,setOverrideOptions:Se,connectorOverrideOptions:pe}),n),u(n,()=>g("optionsScrobbleBehavior")),u(t,v(Ts,{get labelledby(){return`${e.connector.id}-scrobble-behavior`},get buttons(){return[{label:g("optionForceRecognize"),title:g("optionForceRecognizeTitle"),value:se},{label:g("optionScrobbleRecognizedTracks"),title:g("optionScrobbleRecognizedTracksTitle"),value:ie},{label:g("optionScrobbleEditedTracksOnly"),title:g("optionScrobbleEditedTracksOnlyTitle"),value:ne}]},get name(){return`${e.connector.id}-scrobbleBehavior`},value:()=>{var a,o,l,m,c,d;return(o=(a=ye())==null?void 0:a[e.connector.id])!=null&&o[se]?se:(m=(l=ye())==null?void 0:l[e.connector.id])!=null&&m[ne]?ne:(d=(c=ye())==null?void 0:c[e.connector.id])!=null&&d[ie]?ie:""},onChange:a=>{const o=a.currentTarget.value,l=e.connector;Se.mutate(m=>{const c={...m??{}};return c[l.id]={...c[l.id]??{},[se]:o===se,[ne]:o===ne,[ie]:o===ie},pe.set(c),c})},reset:()=>{const a=e.connector;Se.mutate(o=>{const l={...o??{}};return delete l[a.id][se],delete l[a.id][ne],delete l[a.id][ie],pe.set(l),l})}}),r),u(r,()=>g("customPatterns")),u(i,()=>g("customPatternsHint")),u(t,v(lm,{get connector(){return e.connector}}),null),u(t,v(J,{get when(){return e.connector.usesBlocklist},get children(){return v(Jd,{get setActiveModal(){return e.setActiveModal},get modal(){return e.modal},get connector(){return e.connector}})}}),null),x(a=>{const o=e.connector.label,l=`${e.connector.id}-scrobble-behavior`;return o!==a._v$&&P(t,"aria-label",a._v$=o),l!==a._v$2&&P(n,"id",a._v$2=l),a},{_v$:void 0,_v$2:void 0}),t}})}function lm(e){return[v(re,{get each(){var t;return((t=nm())==null?void 0:t[e.connector.id])??[]},children:(t,s)=>(()=>{const n=sm(),r=n.firstChild,i=r.nextSibling;return r.$$input=a=>{const o=e.connector,l=s();ss.mutate(m=>{let c=m;return c||(c={}),c[o.id]=[...c[o.id]??[]],c[o.id][l]=a.currentTarget.value,nt.set(c),c})},r.value=t,i.$$click=()=>{const a=e.connector,o=s();ss.mutate(l=>{const m={...l??{}};return m[a.id]=[...m[a.id]??[]],m[a.id].splice(o,1),nt.set(m),m})},u(i,v(qe,{})),x(a=>{const o=h.patternWrapper,l=h.patternInput,m=`${h.button} ${h.small} ${h.noRadius}`;return o!==a._v$3&&$(n,a._v$3=o),l!==a._v$4&&$(r,a._v$4=l),m!==a._v$5&&$(i,a._v$5=m),a},{_v$3:void 0,_v$4:void 0,_v$5:void 0}),n})()}),(()=>{const t=tm();return t.$$click=()=>{const s=e.connector;ss.mutate(n=>{const r={...n??{}};return r[s.id]=[...r[s.id]??[]],r[s.id].push(""),nt.set(r),r})},u(t,v(zl,{}),null),u(t,()=>g("customPatternsAdd"),null),x(()=>$(t,`${h.button} ${h.shiftLeft}`)),t})()]}he(["click","input"]);const cm=b("<h2>"),um=b("<p>"),dm=b("<div role=group>"),mm=b("<h1>"),gm=b("<ul>"),hm=b("<li><button></button><span>"),mt=V(Ue);function fm(e){return[(()=>{const t=cm();return u(t,()=>g("optionsEditedTracks")),t})(),(()=>{const t=um();return u(t,()=>g("optionsEditedTracksDesc")),t})(),(()=>{const t=dm();return u(t,v(Ls,{get setActiveModal(){return e.setActiveModal},get modal(){return e.modal},type:"savedEdits"}),null),u(t,v(Rs,{editWrapper:mt,filename:"local-cache.json"}),null),u(t,v(Os,{editWrapper:mt}),null),x(s=>{const n=h.buttonContainer,r=g("optionsEditedTracks");return n!==s._v$&&$(t,s._v$=n),r!==s._v$2&&P(t,"aria-label",s._v$2=r),s},{_v$:void 0,_v$2:void 0}),t})()]}function bg(){const[e,{mutate:t}]=Z(mt.get.bind(mt));return[(()=>{const s=mm();return u(s,()=>g("optionsEditedTracksPopupTitle",Object.keys(e()??{}).length.toString())),s})(),(()=>{const s=gm();return u(s,v(re,{get each(){return Object.entries(e()??{})},children:([n,r])=>v(bm,{key:n,track:r,mutate:t})})),x(()=>$(s,h.optionList)),s})()]}function bm(e){const t=H(()=>`${e.track.artist} - ${e.track.track}`);return(()=>{const s=hm(),n=s.firstChild,r=n.nextSibling;return n.$$click=i=>{i.stopPropagation();const a=e.key;e.mutate(o=>o&&(delete o[a],mt.set(o),{...o}))},u(n,v(qe,{})),u(r,t),x(i=>{const a=h.deleteListing,o=`${h.button} ${h.small} ${h.marginRight}`,l=g("optionsDelete",t());return a!==i._v$3&&$(s,i._v$3=a),o!==i._v$4&&$(n,i._v$4=o),l!==i._v$5&&P(n,"title",i._v$5=l),i},{_v$3:void 0,_v$4:void 0,_v$5:void 0}),s})()}he(["click"]);const vm=b("<h2>"),pm=b("<p>"),_m=b("<div role=group>"),ym=b("<h1>"),wm=b("<ul>"),$m=b("<li><button></button><div><span></span><span>"),jm=b("<div>"),ns=b("<span>"),gt=V(lt);function Am(e){return[(()=>{const t=vm();return u(t,()=>g("optionsRegexEdits")),t})(),(()=>{const t=pm();return u(t,()=>g("optionsRegexEditsDesc")),t})(),(()=>{const t=_m();return u(t,v(Ls,{get setActiveModal(){return e.setActiveModal},get modal(){return e.modal},type:"regexEdits"}),null),u(t,v(Rs,{editWrapper:gt,filename:"regex-edits.json"}),null),u(t,v(Os,{editWrapper:gt}),null),x(s=>{const n=h.buttonContainer,r=g("optionsRegexEdits");return n!==s._v$&&$(t,s._v$=n),r!==s._v$2&&P(t,"aria-label",s._v$2=r),s},{_v$:void 0,_v$2:void 0}),t})()]}function vg(){const[e,{mutate:t}]=Z(gt.get.bind(gt));return[(()=>{const s=ym();return u(s,()=>g("optionsRegexEditsPopupTitle",(e()??[]).length.toString())),s})(),(()=>{const s=wm();return u(s,v(re,{get each(){return[...(e()??[]).entries()]},children:([n,r])=>v(km,{index:n,edit:r,mutate:t})})),x(()=>$(s,h.optionList)),s})()]}function km(e){const t=H(()=>`${e.edit.search.track} → ${e.edit.replace.track};${e.edit.search.artist} → ${e.edit.replace.artist};${e.edit.search.album} → ${e.edit.replace.album};${e.edit.search.albumArtist} → ${e.edit.replace.albumArtist}`);return(()=>{const s=$m(),n=s.firstChild,r=n.nextSibling,i=r.firstChild,a=i.nextSibling;return n.$$click=o=>{o.stopPropagation();const l=e.index;e.mutate(m=>{if(!m)return m;const c=m.filter((d,A)=>A!==l);return gt.set(c),c})},u(n,v(qe,{})),u(i,()=>g("infoSearchLabel")),u(a,()=>g("infoReplaceLabel")),u(r,v(Tt,{get edit(){return e.edit},type:"track"}),null),u(r,v(Tt,{get edit(){return e.edit},type:"artist"}),null),u(r,v(Tt,{get edit(){return e.edit},type:"album"}),null),u(r,v(Tt,{get edit(){return e.edit},type:"albumArtist"}),null),u(r,v(Sm,{get edit(){return e.edit}}),null),x(o=>{const l=h.deleteListing,m=`${h.button} ${h.small} ${h.marginRight}`,c=t(),d=h.regexDeleteContent,A=h.regexDeleteSearchLabel,j=h.regexDeleteReplaceLabel;return l!==o._v$3&&$(s,o._v$3=l),m!==o._v$4&&$(n,o._v$4=m),c!==o._v$5&&P(n,"title",o._v$5=c),d!==o._v$6&&$(r,o._v$6=d),A!==o._v$7&&$(i,o._v$7=A),j!==o._v$8&&$(a,o._v$8=j),o},{_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0}),s})()}function Sm(e){return(()=>{const t=jm();return u(t,v(J,{get when(){return!e.edit.isRegexDisabled},get children(){return v(Zl,{get title(){return g("infoUseRegex")},get class(){return h.regexEditEntry}})}}),null),u(t,v(J,{get when(){return!e.edit.isCaseInsensitive},get children(){return v(Nl,{get title(){return g("infoMatchCase")},get class(){return h.regexEditEntry}})}}),null),u(t,v(J,{get when(){return!e.edit.isGlobal},get children(){return v(oc,{get title(){return g("infoMatchWholeTag")},get class(){return h.regexEditEntry}})}}),null),x(()=>$(t,h.regexDeleteFlags)),t})()}function Tt(e){return[(()=>{const t=ns();return u(t,()=>g(`info${Ze(e.type)}Label`)),x(()=>$(t,`${h[`regexDelete${Ze(e.type)}Label`]} ${h.regexEditEntry}`)),t})(),(()=>{const t=ns();return u(t,()=>e.edit.search[e.type]),x(()=>$(t,`${h[`regexDelete${Ze(e.type)}Search`]} ${h.regexEditEntry}`)),t})(),(()=>{const t=ns();return u(t,()=>e.edit.replace[e.type]),x(()=>$(t,`${h[`regexDelete${Ze(e.type)}Replace`]} ${h.regexEditEntry}`)),t})()]}he(["click"]);const xm=b("<h2>"),Cm=b("<p>"),Tm=b("<div>"),Em=b("<h1>"),Lm=b("<ul>"),Rm=b("<span>: "),an=b("<span>: <!> - "),Om=b("<li><button>"),ht=V(ws);function Mm(e){return[(()=>{const t=xm();return u(t,()=>g("optionsBlockedTags")),t})(),(()=>{const t=Cm();return u(t,()=>g("optionsBlockedTagsDesc")),t})(),(()=>{const t=Tm();return u(t,v(Ls,{get setActiveModal(){return e.setActiveModal},get modal(){return e.modal},type:"blockedTags"}),null),u(t,v(Rs,{editWrapper:ht,filename:"blocked-tags.json"}),null),u(t,v(Os,{editWrapper:ht}),null),x(()=>$(t,h.buttonContainer)),t})()]}function pg(){const[e,{mutate:t}]=Z(ht.get.bind(ht)),s=H(()=>{const n=e(),r=[];if(!n)return r;for(const[i,a]of Object.entries(n)){a.disabled&&r.push({type:"artist",artist:i});for(const o of Object.keys(a.albums))r.push({type:"album",artist:i,album:o});for(const o of Object.keys(a.tracks))r.push({type:"track",artist:i,track:o})}return r});return[(()=>{const n=Em();return u(n,()=>g("optionsBlockedTagsPopupTitle",s().length.toString())),n})(),(()=>{const n=Lm();return u(n,v(re,{get each(){return s()},children:r=>v(Im,{tag:r,mutate:t})})),x(()=>$(n,h.optionList)),n})()]}function Pm(e){switch(e.type){case"artist":return(()=>{const t=Rm(),s=t.firstChild;return u(t,()=>g("infoArtistLabel"),s),u(t,()=>e.artist,null),t})();case"album":return(()=>{const t=an(),s=t.firstChild,n=s.nextSibling;return n.nextSibling,u(t,()=>g("infoAlbumLabel"),s),u(t,()=>e.artist,n),u(t,()=>e.album,null),t})();case"track":return(()=>{const t=an(),s=t.firstChild,n=s.nextSibling;return n.nextSibling,u(t,()=>g("infoTrackLabel"),s),u(t,()=>e.artist,n),u(t,()=>e.track,null),t})()}}function Im(e){return(()=>{const t=Om(),s=t.firstChild;return s.$$click=n=>{n.stopPropagation();const r=e.tag;e.mutate(i=>i&&(r.type==="artist"?delete i[r.artist].disabled:r.type==="album"?delete i[r.artist].albums[r.album]:delete i[r.artist].tracks[r.track],ht.set(i),{...i}))},u(s,v(qe,{})),u(t,v(jn,{component:()=>Pm(e.tag)}),null),x(n=>{const r=h.deleteListing,i=`${h.button} ${h.small} ${h.marginRight}`;return r!==n._v$&&$(t,n._v$=r),i!==n._v$2&&$(s,n._v$2=i),n},{_v$:void 0,_v$2:void 0}),t})()}he(["click"]);const Dm=b("<h1>");function zm(e){return[(()=>{const t=Dm();return u(t,()=>g("optionsEdits")),t})(),v(fm,{get setActiveModal(){return e.setActiveModal},get modal(){return e.modal}}),v(Am,{get setActiveModal(){return e.setActiveModal},get modal(){return e.modal}}),v(Mm,{get setActiveModal(){return e.setActiveModal},get modal(){return e.modal}})]}const vr=b("<h1>"),Ms=b("<button>"),Um=b("<div><button></button><button>"),pr=b("<div>"),Nm=b("<table><tbody><tr><td><label for=scrobble-cache-edit-track></label></td><td><input type=text id=scrobble-cache-edit-track></td></tr><tr><td><label for=scrobble-cache-edit-artist></label></td><td><input type=text id=scrobble-cache-edit-artist></td></tr><tr><td><label for=scrobble-cache-edit-album></label></td><td><input type=text id=scrobble-cache-edit-album></td></tr><tr><td><label for=scrobble-cache-edit-album-artist></label></td><td><input type=text id=scrobble-cache-edit-album-artist>"),Bm=b("<input id=should-edit-multiple type=checkbox>"),Fm=b("<label for=should-edit-multiple>"),Hm=b("<details><summary><span>"),qm=b("<label>"),Gm=b("<input type=checkbox>"),Vm=b("<img>"),Wm=b("<div><div><span></span><span></span><span></span><span>"),Km=b("<span>"),Jm=b("<div><button>"),[Ut,Ps]=Z(ct.getScrobbleCacheStorage.bind(ct)),[et,Qm]=q(),[Ym,Zm]=q(),[Nt,rs]=q(!1),[Et,De]=q([]),[Xm,on]=q(!1);function e1(e){return[(()=>{const t=vr();return u(t,()=>g("optionsScrobbleCache")),t})(),(()=>{const t=Um(),s=t.firstChild,n=s.nextSibling;return s.$$click=()=>{const r=document.querySelectorAll(`.${h.scrobbleCheckbox}`);Et().length?(r.forEach(i=>{i.checked=!1}),De([])):(rs(!0),r.forEach(i=>{i.checked=!0}),De((Ut()??[]).filter(i=>i.status!==ue.SUCCESSFUL)))},u(s,(()=>{const r=H(()=>!!Et().length);return()=>r()?g("optionsScrobbleCacheUnselectAll"):g("optionsScrobbleCacheSelectAll")})()),n.$$click=()=>rs(r=>{const i=!r;return i||(document.querySelectorAll(`.${h.scrobbleCheckbox}`).forEach(a=>{a.checked=!1}),De([])),i}),u(n,()=>g("optionsScrobbleCacheSelectScrobbles")),u(t,v(J,{get when(){return Nt()},get children(){const r=Ms();return r.$$click=()=>{on(!0),yr(Et()).then(()=>{Ps.refetch(),De([]),rs(!1),on(!1)})},u(r,()=>g("optionsScrobbleCacheScrobbleSelected")),x(i=>{const a=h.button,o=Xm()||Et().length===0;return a!==i._v$&&$(r,i._v$=a),o!==i._v$2&&(r.disabled=i._v$2=o),i},{_v$:void 0,_v$2:void 0}),r}}),null),x(r=>{const i=h.scrobbleButtonsWrapper,a=h.button,o=h.button;return i!==r._v$3&&$(t,r._v$3=i),a!==r._v$4&&$(s,r._v$4=a),o!==r._v$5&&$(n,r._v$5=o),r},{_v$3:void 0,_v$4:void 0,_v$5:void 0}),t})(),(()=>{const t=pr();return u(t,v(yn,{get fallback(){return g("optionsScrobbleCacheLoading")},get children(){return[v(Qe,{title:"optionsScrobbleCacheUnrecognized",get type(){return ue.INVALID},get setActiveModal(){return e.setActiveModal},get modal(){return e.modal}}),v(Qe,{title:"optionsScrobbleCacheDisallowed",get type(){return ue.DISALLOWED},get setActiveModal(){return e.setActiveModal},get modal(){return e.modal}}),v(Qe,{title:"optionsScrobbleCacheIgnored",get type(){return ue.IGNORED},get setActiveModal(){return e.setActiveModal},get modal(){return e.modal}}),v(Qe,{title:"optionsScrobbleCacheError",get type(){return ue.ERROR},get setActiveModal(){return e.setActiveModal},get modal(){return e.modal}}),v(Qe,{title:"optionsScrobbleCacheSuccess",get type(){return ue.SUCCESSFUL},get setActiveModal(){return e.setActiveModal},get modal(){return e.modal}})]}})),x(()=>$(t,h.scrobbleCacheList)),t})()]}function _g(){var c,d,A,j;const[e,t]=q(((c=et())==null?void 0:c.getTrack())??""),[s,n]=q(((d=et())==null?void 0:d.getArtist())??""),[r,i]=q(((A=et())==null?void 0:A.getAlbum())??""),[a,o]=q(((j=et())==null?void 0:j.getAlbumArtist())??""),[l,m]=q(!1);return[(()=>{const C=vr();return u(C,()=>g("infoEditTitle")),C})(),(()=>{const C=Nm(),T=C.firstChild,I=T.firstChild,U=I.firstChild,N=U.firstChild,B=U.nextSibling,F=B.firstChild,p=I.nextSibling,_=p.firstChild,f=_.firstChild,E=_.nextSibling,L=E.firstChild,R=p.nextSibling,M=R.firstChild,w=M.firstChild,y=M.nextSibling,S=y.firstChild,k=R.nextSibling,ve=k.firstChild,je=ve.firstChild,ae=ve.nextSibling,Ae=ae.firstChild;return u(N,()=>g("infoTrackPlaceholder")),F.$$keydown=X=>{Lt(X,s(),e(),r(),a(),m)},F.$$input=X=>t(X.currentTarget.value),u(f,()=>g("infoArtistPlaceholder")),L.$$keydown=X=>{Lt(X,s(),e(),r(),a(),m)},L.$$input=X=>n(X.currentTarget.value),u(w,()=>g("infoAlbumPlaceholder")),S.$$keydown=X=>{Lt(X,s(),e(),r(),a(),m)},S.$$input=X=>i(X.currentTarget.value),u(je,()=>g("infoAlbumArtistPlaceholder")),Ae.$$keydown=X=>{Lt(X,s(),e(),r(),a(),m)},Ae.$$input=X=>o(X.currentTarget.value),x(()=>$(C,h.editTable)),x(()=>F.value=e()),x(()=>L.value=s()),x(()=>S.value=r()),x(()=>Ae.value=a()),C})(),(()=>{const C=Bm();return C.checked=!0,C})(),(()=>{const C=Fm();return u(C,()=>g("optionsScrobbleCacheEditAll")),C})(),(()=>{const C=Ms();return C.$$click=T=>{_r(T,s(),e(),r(),a(),m)},u(C,()=>g("buttonScrobble")),x(T=>{const I=!e()||!s()||l(),U=h.button;return I!==T._v$6&&(C.disabled=T._v$6=I),U!==T._v$7&&$(C,T._v$7=U),T},{_v$6:void 0,_v$7:void 0}),C})()]}function t1(e,t){const s=(e-Date.now())/1e3;let n=s/31536e3;const r=new Intl.RelativeTimeFormat(Intl.DateTimeFormat().resolvedOptions().locale,{style:t?"short":"long"});return Math.abs(n)>1?r.format(Math.floor(n),"year"):(n=s/2629744,Math.abs(n)>1?r.format(Math.floor(n),"month"):(n=s/604800,Math.abs(n)>1?r.format(Math.floor(n),"week"):(n=s/86400,Math.abs(n)>1?r.format(Math.floor(n),"day"):(n=s/3600,Math.abs(n)>1?r.format(Math.floor(n),"hour"):(n=s/60,Math.abs(n)>1?r.format(Math.floor(n),"minute"):r.format(Math.floor(s),"second"))))))}function Qe(e){const t=H(()=>{var s;return(s=Ut())==null?void 0:s.slice().reverse().filter(n=>n.status===e.type)});return v(J,{get when(){var s;return(s=t())==null?void 0:s.length},get children(){const s=Hm(),n=s.firstChild,r=n.firstChild;return u(n,v(Ln,{get class(){return h.expandVector}}),r),u(r,()=>g(e.title)),u(s,v(re,{get each(){return t()},children:i=>v(s1,{scrobble:i,get type(){return e.type},get title(){return e.title},get setActiveModal(){return e.setActiveModal},get modal(){return e.modal}})}),null),x(()=>$(r,h.summarySpan)),s}})}function s1(e){return v(J,{get when(){return e.type===ue.SUCCESSFUL},get fallback(){return(()=>{const t=qm();return t.$$click=s=>{Nt()||s.preventDefault()},u(t,v(ln,{get scrobble(){return e.scrobble},get type(){return e.type},get title(){return e.title},get setActiveModal(){return e.setActiveModal},get modal(){return e.modal}})),x(()=>$(t,`${h.scrobble}${Nt()?` ${h.selectingScrobble}`:""}`)),t})()},get children(){const t=pr();return u(t,v(ln,{get scrobble(){return e.scrobble},get type(){return e.type},get title(){return e.title},get setActiveModal(){return e.setActiveModal},get modal(){return e.modal}})),x(()=>$(t,h.scrobble)),t}})}function ln(e){const t=H(()=>new ir(e.scrobble.song,-1)),s=H(()=>new Date(t().metadata.startTimestamp*1e3).toLocaleString()),[n,r]=q(window.innerWidth<600),i=()=>{r(window.innerWidth<600)},a=H(()=>t1(t().metadata.startTimestamp*1e3,n()));return vs(()=>{window.addEventListener("resize",i)}),Ht(()=>{window.removeEventListener("resize",i)}),[v(J,{get when(){return e.scrobble.status!==ue.SUCCESSFUL},get children(){const o=Gm();return o.addEventListener("change",l=>{l.currentTarget.checked?De(m=>[...m,e.scrobble]):De(m=>m.filter(c=>c.id!==e.scrobble.id))}),x(l=>{const m=h.scrobbleCheckbox,c=e.type===ue.SUCCESSFUL||!Nt();return m!==l._v$8&&$(o,l._v$8=m),c!==l._v$9&&(o.hidden=l._v$9=c),l},{_v$8:void 0,_v$9:void 0}),o}}),(()=>{const o=Vm();return x(l=>{const m=h.coverArt,c=t().getTrackArt()??K.runtime.getURL("img/cover_art_default.png");return m!==l._v$10&&$(o,l._v$10=m),c!==l._v$11&&P(o,"src",l._v$11=c),l},{_v$10:void 0,_v$11:void 0}),o})(),(()=>{const o=Wm(),l=o.firstChild,m=l.firstChild,c=m.nextSibling,d=c.nextSibling,A=d.nextSibling;return u(m,()=>t().getTrack()),u(c,()=>t().getArtist()),u(d,()=>t().getAlbum()),u(A,()=>t().getAlbumArtist()),u(o,v(n1,{get song(){return t()},get id(){return e.scrobble.id},get status(){return e.scrobble.status},get setActiveModal(){return e.setActiveModal},get modal(){return e.modal}}),null),x(j=>{const C=h.scrobbleDetails,T=h.scrobbleMetadata,I=h.trackName,U=h.artistName,N=h.albumName,B=h.albumArtistName;return C!==j._v$12&&$(o,j._v$12=C),T!==j._v$13&&$(l,j._v$13=T),I!==j._v$14&&$(m,j._v$14=I),U!==j._v$15&&$(c,j._v$15=U),N!==j._v$16&&$(d,j._v$16=N),B!==j._v$17&&$(A,j._v$17=B),j},{_v$12:void 0,_v$13:void 0,_v$14:void 0,_v$15:void 0,_v$16:void 0,_v$17:void 0}),o})(),(()=>{const o=Km();return u(o,a),x(l=>{const m=h.scrobbleDate,c=s();return m!==l._v$18&&$(o,l._v$18=m),c!==l._v$19&&P(o,"title",l._v$19=c),l},{_v$18:void 0,_v$19:void 0}),o})()]}function n1(e){return(()=>{const t=Jm(),s=t.firstChild;return u(t,v(J,{get when(){return e.status!==ue.SUCCESSFUL},get children(){const n=Ms();return n.$$click=r=>{var i;r.stopImmediatePropagation(),Qm(e.song),Zm(e.id),e.setActiveModal("cacheEdit"),(i=e.modal)==null||i.showModal()},u(n,()=>g("infoEditTitleShort")),x(()=>$(n,h.scrobbleActionButton)),n}}),s),s.$$click=()=>{ct.deleteScrobbles([e.id]).then(()=>{Ps.refetch()})},u(s,()=>g("buttonRemove")),x(n=>{const r=h.scrobbleActions,i=h.scrobbleActionButton;return r!==n._v$20&&$(t,n._v$20=r),i!==n._v$21&&$(s,n._v$21=i),n},{_v$20:void 0,_v$21:void 0}),t})()}function Lt(e,t,s,n,r,i){e.key==="Enter"&&!e.isComposing&&t&&s&&_r(e,t,s,n,r,i)}function _r(e,t,s,n,r,i){i(!0);const a=document.getElementById("should-edit-multiple").checked;r1(et(),t,s,n,r,a).then(()=>{var o;i(!1),Ps.refetch(),(o=e.target.closest("dialog"))==null||o.close()})}async function r1(e,t,s,n,r,i){var c,d;if(!t||!s||!e)return;const a=Ym()??-1;i&&eu.saveSongInfo(e,{artist:t,track:s,album:n||null,albumArtist:r||null});const o=de.getSongId(e),l=i?(c=Ut())==null?void 0:c.filter(A=>A.status!==ue.SUCCESSFUL&&de.getSongId(new ir(A.song,-1))===o):(d=Ut())==null?void 0:d.filter(A=>A.id===a),m=l==null?void 0:l.map(A=>(A.song.processed.track=s,A.song.processed.artist=t,A.song.processed.album=n,A.song.processed.albumArtist=r,A));await yr(m??[])}async function yr(e){const t=e.slice(0,50);await ct.deleteScrobbles(t.map(s=>s.id));try{await at({type:"scrobble",payload:{songs:t.map(s=>s.song),currentlyPlaying:!1}})}catch(s){ee(s,"error")}}he(["click","input","keydown"]);const i1=b("<h1>"),a1=b("<ul><li>"),o1=b("<h2 id=header-album-guessing>"),ft=V($e),[Bt,fs]=Z(ft.get.bind(ft));function l1(){return[(()=>{const e=i1();return u(e,()=>g("optionsAdvanced")),e})(),(()=>{const e=a1(),t=e.firstChild;return u(e,v(Me,{options:Bt,setOptions:fs,globalOptions:ft,i18ntitle:"optionDebugLoggingEnabledTitle",i18nlabel:"optionDebugLoggingEnabled",key:ks}),t),u(e,v(Ku,{options:Bt,setOptions:fs,globalOptions:ft,numberType:"percent",prefixi18n:"optionScrobblePercent",suffixi18n:"optionScrobblePercentSuffix",min:10,max:100,key:As}),t),u(t,()=>g("optionPercentDesc")),x(s=>{const n=h.optionList,r=h.muted;return n!==s._v$&&$(e,s._v$=n),r!==s._v$2&&$(t,s._v$2=r),s},{_v$:void 0,_v$2:void 0}),e})(),v(c1,{})]}function c1(){return[(()=>{const e=o1();return u(e,()=>g("optionsAlbumGuessing")),e})(),v(Ts,{get buttons(){return[{label:g("optionAlbumGuessingDisabled"),title:g("optionAlbumGuessingDisabledTitle"),value:Pe},{label:g("optionAlbumGuessingUneditedOnly"),title:g("optionAlbumGuessingUneditedOnlyTitle"),value:xe},{label:g("optionAlbumGuessingAllTracks"),title:g("optionAlbumGuessingAllTracksTitle"),value:Ce}]},name:"albumGuessing",value:()=>{var e,t;return(e=Bt())!=null&&e[Ce]?Ce:(t=Bt())!=null&&t[xe]?xe:Pe},onChange:e=>{const t=e.currentTarget.value;fs.mutate(s=>{if(!s)return s;const n={...s,[Ce]:t===Ce,[xe]:t===xe,[Pe]:t===Pe};return ft.set(n),n})},labelledby:"header-album-guessing"})]}const u1={namei18n:"optionsAccounts",icon:Jl,element:Ed},d1={namei18n:"optionsOptions",icon:it,element:dd},m1={namei18n:"optionsScrobbleCache",icon:Xl,element:e1},g1={namei18n:"optionsEdits",icon:Hl,element:zm},h1={namei18n:"optionsConnectors",icon:ql,element:rm},f1={namei18n:"optionsAdvanced",icon:ic,element:l1},b1={namei18n:"optionsOptions",icon:it,group:[d1,m1,g1,h1,f1]},v1={namei18n:"contactTitle",icon:Fl,element:Uu},p1={namei18n:"faqTitle",icon:Vl,element:Mu},_1={namei18n:"optionsAbout",icon:Rn,element:Cu},y1={namei18n:"optionsAbout",icon:Rn,group:[v1,p1,_1]},w1={namei18n:"showSomeLoveTitle",icon:Gl,element:Lu},yg=[u1,b1,y1,w1];async function $1(){var n;const e=await yu();if(e.mode===cs)return[];const t=[];e.mode===cc?t.push({namei18n:"menuEnableConnector",icon:rc,action:()=>{ju(e.tabId)}}):t.push({namei18n:"menuDisableConnector",icon:nc,action:()=>{$u(e.tabId)}},{namei18n:"menuDisableUntilTabClosed",icon:sc,action:()=>{Su(e.tabId)}});const s=await hu(e.tabId);return!s||!((n=s.channelInfo)!=null&&n.id)||!s.connector||(await fu(s.channelInfo.id,s.connector)?t.push({namei18n:"menuEnableChannel",i18nSubstitution:s.channelInfo.label,icon:Yl,action:()=>{ku(e.tabId)}}):t.push({namei18n:"menuDisableChannel",i18nSubstitution:s.channelInfo.label,icon:Ql,action:()=>{Au(e.tabId)}})),t}async function wg(){const e={namei18n:"optionsOptions",icon:it,group:[{namei18n:"optionsOptions",icon:it,action:()=>{K.tabs.create({url:K.runtime.getURL("src/ui/options/index.html")})}}]},t=await $1();return e.group.push(...t),e}function j1(e,t){"group"in e||("element"in e?t(e):e.action())}function A1(e){return!("group"in e)}const k1="_contextMenu_1bkio_1",S1="_contextMenuItem_1bkio_6",x1="_activeDialogButton_1bkio_13",C1="_contextMenuDialog_1bkio_34",T1="_hide_1bkio_1",E1="_leftDialog_1bkio_82",L1="_rightDialog_1bkio_87",R1="_mountedAnimation_1bkio_97",O1="_show_1bkio_1",le={contextMenu:k1,contextMenuItem:S1,activeDialogButton:x1,"show-tip":"_show-tip_1bkio_1",contextMenuDialog:C1,hide:T1,leftDialog:E1,rightDialog:L1,mountedAnimation:R1,show:O1},M1=b("<div>"),P1=b("<button><label>"),I1=b("<dialog>");function cn(e){if(!(e.target instanceof Element))return;const t=e.target.closest(`.${le.contextMenuItem}`),s=t==null?void 0:t.nextElementSibling;let n=!0;s instanceof HTMLDialogElement&&(n=s.open),document.querySelectorAll("dialog").forEach(a=>{a.close()}),document.querySelectorAll(`.${le.activeDialogButton}`).forEach(a=>{a.classList.remove(le.activeDialogButton)}),!(!(s instanceof HTMLDialogElement)||n)&&(s.show(),t==null||t.classList.add(le.activeDialogButton))}function $g(e){return vs(()=>(window.addEventListener("click",cn),()=>window.removeEventListener("click",cn))),(()=>{const t=M1();return u(t,v(wr,{get items(){return e.items},get setActiveSetting(){return e.setActiveSetting}})),x(()=>$(t,le.contextMenu)),t})()}function wr(e){return v(re,{get each(){return e.items},children:(t,s)=>v(D1,{index:s,get length(){return e.items.length},item:t,get setActiveSetting(){return e.setActiveSetting}})})}function D1(e){const[t,s]=q(!1),n=H(()=>e.length===1?le.centerDialog:e.index()===0?le.leftDialog:e.index()===e.length-1?le.rightDialog:le.centerDialog);return vs(()=>{setTimeout(()=>{s(!0)},1e3)}),[(()=>{const r=P1(),i=r.firstChild;return r.$$click=()=>{e.setActiveSetting&&"element"in e.item&&j1(e.item,e.setActiveSetting),"action"in e.item&&e.item.action()},u(r,v(e.item.icon,{}),i),u(i,()=>g(e.item.namei18n,e.item.i18nSubstitution)),x(()=>$(r,le.contextMenuItem)),r})(),v(J,{get when(){return!A1(e.item)},get children(){const r=I1();return u(r,v(wr,{get items(){return e.item.group},get setActiveSetting(){return e.setActiveSetting}})),x(()=>$(r,`${le.contextMenuDialog} ${n()} ${t()&&`${le.mountedAnimation}`}`)),r}})]}he(["click"]);export{Rt as $,Y1 as A,ws as B,eg as C,B1 as D,Ln as E,re as F,F1 as G,Nl as H,kt as I,iu as J,gg as K,mg as L,Q1 as M,Ze as N,Bl as O,X1 as P,jt as Q,Zl as R,J as S,nr as T,Tn as U,Us as V,oc as W,qe as X,G1 as Y,fe as Z,wg as _,$ as a,$g as a0,hg as a1,ir as a2,Ht as a3,tg as a4,V1 as a5,eu as a6,gc as a7,Hl as a8,ec as a9,rg as aA,lc as aB,dc as aC,A1 as aD,j1 as aE,h1 as aF,u1 as aG,w1 as aH,yg as aI,bg as aJ,vg as aK,fg as aL,_g as aM,pg as aN,H1 as aa,Gl as ab,ug as ac,Nn as ad,cg as ae,$d as af,dg as ag,K1 as ah,fc as ai,ig as aj,sg as ak,q1 as al,N1 as am,ag as an,yu as ao,lg as ap,og as aq,cs as ar,mc as as,jn as at,cc as au,uc as av,hc as aw,bc as ax,vc as ay,pc as az,K as b,x as c,he as d,q as e,g as f,v as g,At as h,u as i,ng as j,V as k,Z1 as l,h as m,it as n,vs as o,H as p,W1 as q,jr as r,P as s,b as t,U1 as u,z1 as v,Z as w,bs as x,Vt as y,J1 as z};

var readline004=function(){"use strict";function e(e){const t=e.split(/[\/]/);return t[t.length-1]}class t{constructor(e){this.s=e}static from(e){return new t(e)}toString(){const e=new Uint8Array(this.s.length);for(let t=0;t<this.s.length;t++)e[t]=this.s.charCodeAt(t);return new TextDecoder("utf-8").decode(e)}}let r={};r=function(t,r){var n=r||{},i=n.type||"attachment",s=function(t,r){if(void 0===t)return;var n={};if("string"!=typeof t)throw new TypeError("filename must be a string");void 0===r&&(r=!0);if("string"!=typeof r&&"boolean"!=typeof r)throw new TypeError("fallback must be a string or boolean");if("string"==typeof r&&o.test(r))throw new TypeError("fallback must be ISO-8859-1 string");var i=e(t),s=u.test(i),f="string"!=typeof r?r&&g(i):e(r),c="string"==typeof f&&f!==i;(c||!s||a.test(i))&&(n["filename*"]=i);(s||c)&&(n.filename=c?f:i);return n}(t,n.fallback);return function(e){var t=e.parameters,r=e.type;if(!r||"string"!=typeof r||!l.test(r))throw new TypeError("invalid type");var n=String(r).toLowerCase();if(t&&"object"==typeof t)for(var a,i=Object.keys(t).sort(),o=0;o<i.length;o++){var s="*"===(a=i[o]).substr(-1)?m(t[a]):y(t[a]);n+="; "+a+"="+s}return n}(new v(i,s))},r.parse=function(e){if(!e||"string"!=typeof e)throw new TypeError("argument string is required");var t=h.exec(e);if(!t)throw new TypeError("invalid type format");var r,n,a=t[0].length,i=t[1].toLowerCase(),o=[],f={};a=c.lastIndex=";"===t[0].substr(-1)?a-1:a;for(;t=c.exec(e);){if(t.index!==a)throw new TypeError("invalid parameter format");if(a+=t[0].length,r=t[1].toLowerCase(),n=t[2],-1!==o.indexOf(r))throw new TypeError("invalid duplicate parameter");o.push(r),r.indexOf("*")+1!==r.length?"string"!=typeof f[r]&&('"'===n[0]&&(n=n.substr(1,n.length-2).replace(s,"$1")),f[r]=n):(r=r.slice(0,-1),n=x(n),f[r]=n)}if(-1!==a&&a!==e.length)throw new TypeError("invalid parameter format");return new v(i,f)};var n=/[\x00-\x20"'()*,/:;<=>?@[\\\]{}\x7f]/g,a=/%[0-9A-Fa-f]{2}/,i=/%([0-9A-Fa-f]{2})/g,o=/[^\x20-\x7e\xa0-\xff]/g,s=/\\([\u0000-\u007f])/g,f=/([\\"])/g,c=/;[\x09\x20]*([!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*=[\x09\x20]*("(?:[\x20!\x23-\x5b\x5d-\x7e\x80-\xff]|\\[\x20-\x7e])*"|[!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*/g,u=/^[\x20-\x7e\x80-\xff]+$/,l=/^[!#$%&'*+.0-9A-Z^_`a-z|~-]+$/,p=/^([A-Za-z0-9!#$%&+\-^_`{}~]+)'(?:[A-Za-z]{2,3}(?:-[A-Za-z]{3}){0,3}|[A-Za-z]{4,8}|)'((?:%[0-9A-Fa-f]{2}|[A-Za-z0-9!#$&+.^_`|~-])+)$/,h=/^([!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*(?:$|;)/;function x(e){var r=p.exec(e);if(!r)throw new TypeError("invalid extended field value");var n,a=r[1].toLowerCase(),o=r[2].replace(i,d);switch(a){case"iso-8859-1":n=g(o);break;case"utf-8":n=t.from(o,"binary").toString("utf8");break;default:throw new TypeError("unsupported charset in extended field")}return n}function g(e){return String(e).replace(o,"?")}function d(e,t){return String.fromCharCode(parseInt(t,16))}function w(e){return"%"+String(e).charCodeAt(0).toString(16).toUpperCase()}function y(e){return'"'+String(e).replace(f,"\\$1")+'"'}function m(e){var t=String(e);return"UTF-8''"+encodeURIComponent(t).replace(n,w)}function v(e,t){this.type=e,this.parameters=t}const b=index001.c({maxActiveReader:5});function A(e){if(!e)return;const t=e.match(/^\s*([^\s;]+)/);return t&&t[1].toLowerCase()}function T(e){try{return r.parse(e).parameters.filename}catch{}}return{f:function(e,t){return b.read((async()=>{const r=await fetch(e,{referrer:t});if(!r.ok)throw new Error(`failed to fetch: ${r.status}`);const n=await r.blob();return{url:e,mime:A(r.headers.get("Content-Type")),filename:T(r.headers.get("Content-Disposition")),blob:n,size:n.size}}))},p:function*(e,t=1){const r=e.split(/\r?\n/g).filter((e=>e&&/\S/.test(e)&&!e.startsWith("#")));for(let e=0;e<r.length;e+=t)yield r.slice(e,e+t)}}}();
//# sourceMappingURL=readline-o8Ebgnf7.js.map

const createFormBtn=document.getElementById("create-role"),updateFormBtn=document.getElementById("update-role");async function clickCreateRoleBtn(e){e.preventDefault();const t=document.getElementById("role-error-new"),n=document.getElementById("role-name").value,o=document.getElementById("role-description").value,d=document.getElementById("role-prompt").value,l=document.getElementById("create-role");t.style.display="none",n.length<1||o.length<1||d.length<1?(t.textContent="All fields are required.",t.style.display="block"):(l.textContent="Creating role...",l.disabled=!0,await sendOptionsMessage("options-create-role",{data:{name:n,description:o,prompt:d}}),createFormBtn.form.reset(),window.location.reload())}async function clickUpdateRoleBtn(e){e.preventDefault();const t=document.getElementById("role-error-edit"),n=document.getElementById("edit-role-uuid").value,o=document.getElementById("edit-role-prompt").value,d=document.getElementById("update-role");t.style.display="none",o.length<1?(t.textContent="The prompt field can't be empty.",t.style.display="block"):(d.textContent="Updating role...",d.disabled=!0,await sendOptionsMessage("options-update-role",{data:{uuid:n,prompt:o}}),updateFormBtn.form.reset(),window.location.reload())}function openRolesEditModal(){const e=document.getElementById("roles-edit-modal");e.classList.remove("hidden"),document.body.classList.add("has-modal"),document.body.setAttribute("data-active-modal",e)}async function clickDeleteRoleBtn(e){const t=document.querySelector(`[data-role-uuid="${e}"]`);t.parentElement.removeChild(t);const n=document.getElementById("new-role-modal-btn"),o=document.getElementById("roles-total");o.textContent=o.textContent-1,n.getAttribute("disabled")&&o.textContent<5&&document.getElementById("new-role-modal-btn").removeAttribute("disabled"),await sendOptionsMessage("options-delete-role",{data:{uuid:e}}),updateFormBtn.form.reset(),window.location.reload()}createFormBtn.addEventListener("click",clickCreateRoleBtn),updateFormBtn.addEventListener("click",clickUpdateRoleBtn);
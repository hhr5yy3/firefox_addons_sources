var _lobbynew=function(){"use strict";var Ne=Object.defineProperty;var Ae=x=>{throw TypeError(x)};var $e=(x,w,p)=>w in x?Ne(x,w,{enumerable:!0,configurable:!0,writable:!0,value:p}):x[w]=p;var se=(x,w,p)=>$e(x,typeof w!="symbol"?w+"":w,p),ne=(x,w,p)=>w.has(x)||Ae("Cannot "+p);var U=(x,w,p)=>(ne(x,w,"read from private field"),p?p.call(x):w.get(x)),q=(x,w,p)=>w.has(x)?Ae("Cannot add the same private member more than once"):w instanceof WeakSet?w.add(x):w.set(x,p),de=(x,w,p,B)=>(ne(x,w,"write to private field"),B?B.call(x,p):w.set(x,p),p),ae=(x,w,p)=>(ne(x,w,"access private method"),p);var N,_,H,L,J,O,fe,xe;function x(e){return e}function w(e){return Array.isArray(e)?e:[e]}var p=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function B(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ie={exports:{}};(function(e,t){(function(i,r){r(e)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:p,function(i){var r,f;if(!((f=(r=globalThis.chrome)==null?void 0:r.runtime)!=null&&f.id))throw new Error("This script should only be loaded in a browser extension.");if(typeof globalThis.browser>"u"||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const h="The message port closed before a response was received.",M=S=>{const F={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(F).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class D extends WeakMap{constructor(g,m=void 0){super(m),this.createItem=g}get(g){return this.has(g)||this.set(g,this.createItem(g)),super.get(g)}}const X=o=>o&&typeof o=="object"&&typeof o.then=="function",K=(o,g)=>(...m)=>{S.runtime.lastError?o.reject(new Error(S.runtime.lastError.message)):g.singleCallbackArg||m.length<=1&&g.singleCallbackArg!==!1?o.resolve(m[0]):o.resolve(m)},$=o=>o==1?"argument":"arguments",ue=(o,g)=>function(A,...b){if(b.length<g.minArgs)throw new Error(`Expected at least ${g.minArgs} ${$(g.minArgs)} for ${o}(), got ${b.length}`);if(b.length>g.maxArgs)throw new Error(`Expected at most ${g.maxArgs} ${$(g.maxArgs)} for ${o}(), got ${b.length}`);return new Promise((T,C)=>{if(g.fallbackToNoCallback)try{A[o](...b,K({resolve:T,reject:C},g))}catch(c){console.warn(`${o} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,c),A[o](...b),g.fallbackToNoCallback=!1,g.noCallback=!0,T()}else g.noCallback?(A[o](...b),T()):A[o](...b,K({resolve:T,reject:C},g))})},s=(o,g,m)=>new Proxy(g,{apply(A,b,T){return m.call(b,o,...T)}});let n=Function.call.bind(Object.prototype.hasOwnProperty);const a=(o,g={},m={})=>{let A=Object.create(null),b={has(C,c){return c in o||c in A},get(C,c,k){if(c in A)return A[c];if(!(c in o))return;let E=o[c];if(typeof E=="function")if(typeof g[c]=="function")E=s(o,o[c],g[c]);else if(n(m,c)){let j=ue(c,m[c]);E=s(o,o[c],j)}else E=E.bind(o);else if(typeof E=="object"&&E!==null&&(n(g,c)||n(m,c)))E=a(E,g[c],m[c]);else if(n(m,"*"))E=a(E,g[c],m["*"]);else return Object.defineProperty(A,c,{configurable:!0,enumerable:!0,get(){return o[c]},set(j){o[c]=j}}),E;return A[c]=E,E},set(C,c,k,E){return c in A?A[c]=k:o[c]=k,!0},defineProperty(C,c,k){return Reflect.defineProperty(A,c,k)},deleteProperty(C,c){return Reflect.deleteProperty(A,c)}},T=Object.create(o);return new Proxy(T,b)},l=o=>({addListener(g,m,...A){g.addListener(o.get(m),...A)},hasListener(g,m){return g.hasListener(o.get(m))},removeListener(g,m){g.removeListener(o.get(m))}}),u=new D(o=>typeof o!="function"?o:function(m){const A=a(m,{},{getContent:{minArgs:0,maxArgs:0}});o(A)}),d=new D(o=>typeof o!="function"?o:function(m,A,b){let T=!1,C,c=new Promise(W=>{C=function(R){T=!0,W(R)}}),k;try{k=o(m,A,C)}catch(W){k=Promise.reject(W)}const E=k!==!0&&X(k);if(k!==!0&&!E&&!T)return!1;const j=W=>{W.then(R=>{b(R)},R=>{let te;R&&(R instanceof Error||typeof R.message=="string")?te=R.message:te="An unexpected error occurred",b({__mozWebExtensionPolyfillReject__:!0,message:te})}).catch(R=>{console.error("Failed to send onMessage rejected reply",R)})};return j(E?k:c),!0}),I=({reject:o,resolve:g},m)=>{S.runtime.lastError?S.runtime.lastError.message===h?g():o(new Error(S.runtime.lastError.message)):m&&m.__mozWebExtensionPolyfillReject__?o(new Error(m.message)):g(m)},v=(o,g,m,...A)=>{if(A.length<g.minArgs)throw new Error(`Expected at least ${g.minArgs} ${$(g.minArgs)} for ${o}(), got ${A.length}`);if(A.length>g.maxArgs)throw new Error(`Expected at most ${g.maxArgs} ${$(g.maxArgs)} for ${o}(), got ${A.length}`);return new Promise((b,T)=>{const C=I.bind(null,{resolve:b,reject:T});A.push(C),m.sendMessage(...A)})},P={devtools:{network:{onRequestFinished:l(u)}},runtime:{onMessage:l(d),onMessageExternal:l(d),sendMessage:v.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:v.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},y={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return F.privacy={network:{"*":y},services:{"*":y},websites:{"*":y}},a(S,P,F)};i.exports=M(chrome)}else i.exports=globalThis.browser})})(ie);var we=ie.exports;const oe=B(we);var le=Object.prototype.hasOwnProperty;function Q(e,t){var i,r;if(e===t)return!0;if(e&&t&&(i=e.constructor)===t.constructor){if(i===Date)return e.getTime()===t.getTime();if(i===RegExp)return e.toString()===t.toString();if(i===Array){if((r=e.length)===t.length)for(;r--&&Q(e[r],t[r]););return r===-1}if(!i||typeof e=="object"){r=0;for(i in e)if(le.call(e,i)&&++r&&!le.call(t,i)||!(i in t)||!Q(e[i],t[i]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}var ee=oe;function G(e,...t){}var re={debug:(...e)=>G(console.debug,...e),log:(...e)=>G(console.log,...e),warn:(...e)=>G(console.warn,...e),error:(...e)=>G(console.error,...e)},V=he();function he(){const e={local:Y("local"),session:Y("session"),sync:Y("sync"),managed:Y("managed")},t=s=>{const n=e[s];if(n==null){const a=Object.keys(e).join(", ");throw Error(`Invalid area "${s}". Options: ${a}`)}return n},i=s=>{const n=s.indexOf(":"),a=s.substring(0,n),l=s.substring(n+1);if(l==null)throw Error(`Storage key should be in the form of "area:key", but received "${s}"`);return{driverArea:a,driverKey:l,driver:t(a)}},r=s=>s+"$",f=(s,n)=>s??n??null,h=s=>typeof s=="object"&&!Array.isArray(s)?s:{},M=async(s,n,a)=>{const l=await s.getItem(n);return f(l,a==null?void 0:a.defaultValue)},S=async(s,n)=>{const a=r(n),l=await s.getItem(a);return h(l)},F=async(s,n,a)=>{await s.setItem(n,a??null)},D=async(s,n,a)=>{const l=r(n),d={...h(await s.getItem(l))};Object.entries(a).forEach(([I,v])=>{v==null?delete d[I]:d[I]=v}),await s.setItem(l,d)},X=async(s,n,a)=>{if(await s.removeItem(n),a!=null&&a.removeMeta){const l=r(n);await s.removeItem(l)}},K=async(s,n,a)=>{const l=r(n);if(a==null)await s.removeItem(l);else{const u=h(await s.getItem(l));w(a).forEach(d=>delete u[d]),await s.setItem(l,u)}},$=(s,n,a)=>s.watch(n,a);return{getItem:async(s,n)=>{const{driver:a,driverKey:l}=i(s);return await M(a,l,n)},getItems:async s=>{const n=new Map,a=new Map;return s.forEach(u=>{let d,I;typeof u=="string"?d=u:(d=u.key,I=u.options);const{driverArea:v,driverKey:P}=i(d),y=n.get(v)??[];n.set(v,y.concat(P)),a.set(d,I)}),(await Promise.all(Array.from(n.entries()).map(async([u,d])=>(await e[u].getItems(d)).map(v=>{var o;const P=`${u}:${v.key}`,y=f(v.value,(o=a.get(P))==null?void 0:o.defaultValue);return{key:P,value:y}})))).flat()},getMeta:async s=>{const{driver:n,driverKey:a}=i(s);return await S(n,a)},setItem:async(s,n)=>{const{driver:a,driverKey:l}=i(s);await F(a,l,n)},setItems:async s=>{const n=new Map;s.forEach(({key:a,value:l})=>{const{driverArea:u,driverKey:d}=i(a),I=n.get(u)??[];n.set(u,I.concat({key:d,value:l}))}),await Promise.all(Array.from(n.entries()).map(async([a,l])=>{await t(a).setItems(l)}))},setMeta:async(s,n)=>{const{driver:a,driverKey:l}=i(s);await D(a,l,n)},removeItem:async(s,n)=>{const{driver:a,driverKey:l}=i(s);await X(a,l,n)},removeItems:async s=>{const n=new Map;s.forEach(a=>{let l,u;typeof a=="string"?l=a:(l=a.key,u=a.options);const{driverArea:d,driverKey:I}=i(l),v=n.get(d)??[];v.push(I),u!=null&&u.removeMeta&&v.push(r(I)),n.set(d,v)}),await Promise.all(Array.from(n.entries()).map(async([a,l])=>{await t(a).removeItems(l)}))},removeMeta:async(s,n)=>{const{driver:a,driverKey:l}=i(s);await K(a,l,n)},snapshot:async(s,n)=>{var u;const l=await t(s).snapshot();return(u=n==null?void 0:n.excludeKeys)==null||u.forEach(d=>{delete l[d],delete l[r(d)]}),l},restoreSnapshot:async(s,n)=>{await t(s).restoreSnapshot(n)},watch:(s,n)=>{const{driver:a,driverKey:l}=i(s);return $(a,l,n)},unwatch(){Object.values(e).forEach(s=>{s.unwatch()})},defineItem:(s,n)=>{const{driver:a,driverKey:l}=i(s),{version:u=1,migrations:d={}}=n??{};if(u<1)throw Error("Storage item version cannot be less than 1. Initial versions should be set to 1, not 0.");const I=async()=>{var T;const y=r(l),[{value:o},{value:g}]=await a.getItems([l,y]);if(o==null)return;const m=(g==null?void 0:g.v)??1;if(m>u)throw Error(`Version downgrade detected (v${m} -> v${u}) for "${s}"`);re.debug(`Running storage migration for ${s}: v${m} -> v${u}`);const A=Array.from({length:u-m},(C,c)=>m+c+1);let b=o;for(const C of A)b=await((T=d==null?void 0:d[C])==null?void 0:T.call(d,b))??b;await a.setItems([{key:l,value:b},{key:y,value:{...g,v:u}}]),re.debug(`Storage migration completed for ${s} v${u}`,{migratedValue:b})},v=(n==null?void 0:n.migrations)==null?Promise.resolve():I().catch(y=>{re.error(`Migration failed for ${s}`,y)}),P=()=>(n==null?void 0:n.defaultValue)??null;return{get defaultValue(){return P()},getValue:async()=>(await v,await M(a,l,n)),getMeta:async()=>(await v,await S(a,l)),setValue:async y=>(await v,await F(a,l,y)),setMeta:async y=>(await v,await D(a,l,y)),removeValue:async y=>(await v,await X(a,l,y)),removeMeta:async y=>(await v,await K(a,l,y)),watch:y=>$(a,l,(o,g)=>y(o??P(),g??P())),migrate:I}}}}function Y(e){const t=()=>{if(ee.runtime==null)throw Error(["'wxt/storage' must be loaded in a web extension environment",`
 - If thrown during a build, see https://github.com/wxt-dev/wxt/issues/371`,` - If thrown during tests, mock 'wxt/browser' correctly. See https://wxt.dev/guide/go-further/testing.html
`].join(`
`));if(ee.storage==null)throw Error("You must add the 'storage' permission to your manifest to use 'wxt/storage'");const r=ee.storage[e];if(r==null)throw Error(`"browser.storage.${e}" is undefined`);return r},i=new Set;return{getItem:async r=>(await t().get(r))[r],getItems:async r=>{const f=await t().get(r);return r.map(h=>({key:h,value:f[h]??null}))},setItem:async(r,f)=>{f==null?await t().remove(r):await t().set({[r]:f})},setItems:async r=>{const f=r.reduce((h,{key:M,value:S})=>(h[M]=S,h),{});await t().set(f)},removeItem:async r=>{await t().remove(r)},removeItems:async r=>{await t().remove(r)},snapshot:async()=>await t().get(),restoreSnapshot:async r=>{await t().set(r)},watch(r,f){const h=M=>{const S=M[r];S!=null&&(Q(S.newValue,S.oldValue)||f(S.newValue??null,S.oldValue??null))};return t().onChanged.addListener(h),i.add(h),()=>{t().onChanged.removeListener(h),i.delete(h)}},unwatch(){i.forEach(r=>{t().onChanged.removeListener(r)}),i.clear()}}}const be={discord:{enabled:!1,manually:!1,url:""},autoStart:{enabled:!1},streamingMode:{enabled:!1,backgroundImage:!1,chromaKeyColor:"#009933",image:"",throws:!1,footerText:"",board:!1,boardImage:!1,scoreBoardSettings:{scale:1,x:0,y:0},coordsSettings:{scale:1,x:0,y:0}},colors:{enabled:!1,background:"#3182CE",text:"#FFFFFF"},recentLocalPlayers:{enabled:!1,cap:10,players:[]},takeout:{enabled:!1},inactiveSmall:{enabled:!1},shufflePlayers:{enabled:!1},caller:{enabled:!1},sounds:{enabled:!1},externalBoards:{enabled:!1,boards:[]},menuDisabled:!1,legsSetsLarger:{enabled:!1,value:2.5},playerMatchData:{enabled:!1,value:1.5},automaticNextLeg:{enabled:!1,sec:5},winnerAnimation:{enabled:!1},thrownDartsOnWin:{enabled:!1},liveViewRing:{enabled:!1,size:2,colorEnabled:!0,color:"#000000"},nextPlayerAfter3darts:{enabled:!1},nextPlayerOnTakeOutStuck:{enabled:!1,sec:10},disableTakeout:{enabled:!1},teamLobby:{enabled:!1},dartZoom:{enabled:!1}},ve=V.defineItem("local:config",{defaultValue:be}),ye={isFirstStart:!1,user:{name:""}};V.defineItem("local:globalstatus",{defaultValue:ye});const pe={playerCount:0,throws:[],turnPoints:void 0,isInEditMode:!1,isInUndoMode:!1,hasWinner:!1,playerInfo:[]},Ee={isPrivate:!1};V.defineItem("local:matchstatus",{defaultValue:pe});const ge=V.defineItem("local:lobbystatus",{defaultValue:Ee});V.defineItem("local:boardstatus",{defaultValue:void 0}),V.defineItem("local:soundstartstatus",{defaultValue:!1});const Se=V.defineItem("local:urlstatus",{defaultValue:window.location.href.split("#")[0]});V.defineItem("local:cricketpointsstatus",{defaultValue:[]}),V.defineItem("local:streamingmodestatus",{defaultValue:!1});const Ie={matches:["*://play.autodarts.io/*"],cssInjectionMode:"ui",async main(){Se.watch(async e=>{const t=await ve.getValue();if(/\/lobbies\/*new\//.test(e)&&(console.log("Autodarts Tools: Lobby New Ready"),t.teamLobby.enabled)){const i=await ge.getValue(),r=[...document.querySelectorAll("button")].find(M=>M.innerText==="Private"),f=[...document.querySelectorAll("button")].find(M=>M.innerText==="Public"),h=async M=>{await ge.setValue({...i,isPrivate:M})};await h((r==null?void 0:r.hasAttribute("data-active"))||!1),r==null||r.addEventListener("click",async()=>{await h(!0)}),f==null||f.addEventListener("click",async()=>{await h(!1)})}})}};var me=oe;const Te={BASE_URL:"/",BROWSER:"firefox",CHROME:!1,COMMAND:"build",DEV:!1,EDGE:!1,ENTRYPOINT:"lobbynew",FIREFOX:!0,MANIFEST_VERSION:2,MODE:"production",OPERA:!1,PROD:!0,SAFARI:!1,SSR:!1,VITE_CJS_IGNORE_WARNING:"true"};function Z(e,...t){}var Ce={debug:(...e)=>Z(console.debug,...e),log:(...e)=>Z(console.log,...e),warn:(...e)=>Z(console.warn,...e),error:(...e)=>Z(console.error,...e)},Me=(N=class extends Event{constructor(t,i){super(N.EVENT_NAME,{}),this.newUrl=t,this.oldUrl=i}},se(N,"EVENT_NAME",ce("wxt:locationchange")),N);function ce(e){const t=typeof Te>"u"?"build":"lobbynew";return`${me.runtime.id}:${t}:${e}`}function ke(e){let t,i;return{run(){t==null&&(i=new URL(location.href),t=e.setInterval(()=>{let r=new URL(location.href);r.href!==i.href&&(window.dispatchEvent(new Me(r,i)),i=r)},1e3))}}}var Pe=(_=class{constructor(t,i){q(this,O);q(this,H,window.self===window.top);q(this,L);q(this,J,ke(this));this.contentScriptName=t,this.options=i,de(this,L,new AbortController),U(this,H)&&ae(this,O,fe).call(this),this.setTimeout(()=>{ae(this,O,xe).call(this)})}get signal(){return U(this,L).signal}abort(t){return U(this,L).abort(t)}get isInvalid(){return me.runtime.id==null&&this.notifyInvalidated(),this.signal.aborted}get isValid(){return!this.isInvalid}onInvalidated(t){return this.signal.addEventListener("abort",t),()=>this.signal.removeEventListener("abort",t)}block(){return new Promise(()=>{})}setInterval(t,i){const r=setInterval(()=>{this.isValid&&t()},i);return this.onInvalidated(()=>clearInterval(r)),r}setTimeout(t,i){const r=setTimeout(()=>{this.isValid&&t()},i);return this.onInvalidated(()=>clearTimeout(r)),r}requestAnimationFrame(t){const i=requestAnimationFrame((...r)=>{this.isValid&&t(...r)});return this.onInvalidated(()=>cancelAnimationFrame(i)),i}requestIdleCallback(t,i){const r=requestIdleCallback((...f)=>{this.signal.aborted||t(...f)},i);return this.onInvalidated(()=>cancelIdleCallback(r)),r}addEventListener(t,i,r,f){var h;i==="wxt:locationchange"&&this.isValid&&U(this,J).run(),(h=t.addEventListener)==null||h.call(t,i.startsWith("wxt:")?ce(i):i,r,{...f,signal:this.signal})}notifyInvalidated(){this.abort("Content script context invalidated"),Ce.debug(`Content script "${this.contentScriptName}" context invalidated`)}},H=new WeakMap,L=new WeakMap,J=new WeakMap,O=new WeakSet,fe=function(){window.postMessage({type:_.SCRIPT_STARTED_MESSAGE_TYPE,contentScriptName:this.contentScriptName},"*")},xe=function(){const t=i=>{var r,f;((r=i.data)==null?void 0:r.type)===_.SCRIPT_STARTED_MESSAGE_TYPE&&((f=i.data)==null?void 0:f.contentScriptName)===this.contentScriptName&&this.notifyInvalidated()};addEventListener("message",t),this.onInvalidated(()=>removeEventListener("message",t))},se(_,"SCRIPT_STARTED_MESSAGE_TYPE","wxt:content-script-started"),_);function Le(){}function z(e,...t){}var Re={debug:(...e)=>z(console.debug,...e),log:(...e)=>z(console.log,...e),warn:(...e)=>z(console.warn,...e),error:(...e)=>z(console.error,...e)},Ve=(async()=>{try{const{main:e,...t}=Ie,i=new Pe("lobbynew",t);return await e(i)}catch(e){throw Re.error('The content script "lobbynew" crashed on startup!',e),e}})(),_e=Ve;return _e}();
_lobbynew;

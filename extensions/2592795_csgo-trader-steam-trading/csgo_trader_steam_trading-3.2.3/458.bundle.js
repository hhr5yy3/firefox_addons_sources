"use strict";(globalThis.webpackChunkcsgotrader_app_extension=globalThis.webpackChunkcsgotrader_app_extension||[]).push([[458],{3927:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ct});var n=a(7294),o=a(9250),r=a(6942),i=a(7899);const s=({options:e,foreignChangeHandler:t,foreignUseEffect:a,id:o})=>{const[r,i]=(0,n.useState)(e[0].key);return(0,n.useEffect)((()=>{a(o).then((e=>{i(e)}))}),[]),n.createElement("select",{className:"select-theme",id:o,onChange:e=>{const a=e.target.value;t(a,o),i(a)},value:r},e.map((e=>n.createElement("option",{key:o+e.key,value:e.key,title:e.description?e.description:""},e.text))))},l=({id:e,options:t})=>n.createElement(s,{id:e,foreignChangeHandler:e=>{chrome.storage.local.get(["exchangeRates"],(({exchangeRates:t})=>{chrome.storage.local.set({currency:e,exchangeRate:t[e]},(()=>{}))}))},foreignUseEffect:()=>new Promise((e=>{chrome.storage.local.get(["currency"],(({currency:t})=>{e(t)}))})),options:t});var c=a(7475);const m=({id:e})=>{const[t,a]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{chrome.storage.local.get(e,(t=>{a(t[e])}))}),[e]),n.createElement(c.Z,{id:e,checked:t,onChange:e=>{chrome.storage.local.set({[e.target.id]:e.target.checked},(()=>{a(!t)}))}})},d=({id:e,origins:t,permission:a})=>{const[o,r]=(0,n.useState)(!1);(0,n.useEffect)((()=>{t?chrome.storage.local.get([e],(a=>{chrome.permissions.contains({origins:t},(t=>{r(a[e]&&t)}))})):chrome.permissions.contains({permissions:[a]},(e=>{r(e)}))}),[a,t,e]);return n.createElement(c.Z,{id:e,checked:o,onChange:()=>{o?t?chrome.storage.local.set({[e]:!1},(()=>{r(!1)})):chrome.permissions.remove({permissions:["tabs"]},(e=>{r(!e)})):t?chrome.permissions.request({origins:t},(t=>{chrome.storage.local.set({[e]:t},(()=>{r(t)}))})):chrome.permissions.request({permissions:["tabs"]},(e=>{r(e)}))}})};var u=a(3006),p=a(982),h=a(9417);const f=({id:e,modalTitle:t})=>{const[a,o]=(0,n.useState)({content:"",inputValid:!0,validationError:""});return(0,n.useEffect)((()=>{chrome.storage.local.get([e],(t=>{o({...a,content:t[e]})}))}),[e]),n.createElement(n.Fragment,null,n.createElement("p",null,`${a.content.substring(0,8)}...`),n.createElement(u.Z,{modalTitle:t,opener:n.createElement(p.G,{icon:h.Xcf}),validator:t=>{"steamAPIKey"===e?""!==a.content?chrome.runtime.sendMessage({apikeytovalidate:a.content},(e=>{e.valid?chrome.storage.local.set({steamAPIKey:a.content,apiKeyValid:!0},(()=>{o({...a,inputValid:!0,validationError:""}),t()})):o({...a,inputValid:!1,validationError:"Could not validate your API key, it's either incorrect or Steam is down at the moment"})})):chrome.storage.local.set({steamAPIKey:"Not Set",apiKeyValid:!1},(()=>{t()})):chrome.storage.local.set({[e]:a.content},(()=>{o({...a,inputValid:!0,validationError:""}),t()}))}},n.createElement("textarea",{className:"modalTextArea",placeholder:"Type your text here",onChange:e=>{o({...a,content:e.target.value})},value:a.content}),n.createElement("div",{className:`warning ${a.inputValid?"hidden":null}`},n.createElement(p.G,{icon:h.eHv}),n.createElement("span",{className:"warning"}," ",a.validationError))))},g=({id:e,options:t})=>n.createElement(s,{id:e,foreignChangeHandler:t=>{chrome.storage.local.set({[e]:t},(()=>{}))},foreignUseEffect:()=>new Promise((t=>{chrome.storage.local.get(e,(a=>{t(a[e])}))})),options:t}),y=({id:e,options:t})=>{const a=(t,a)=>{void 0===a?chrome.storage.local.set({[e]:t},(()=>{})):chrome.storage.local.set({[a]:t},(()=>{}))},o=e=>new Promise((t=>{chrome.storage.local.get(e,(a=>{t(a[e])}))}));return n.createElement(n.Fragment,null,n.createElement(s,{id:e[0],foreignChangeHandler:a,foreignUseEffect:o,options:t}),n.createElement(s,{id:e[1],foreignChangeHandler:a,foreignUseEffect:o,options:t}))};var v=a(1404),E=a(8784);const S=({options:e})=>{const[t,a]=(0,n.useState)({description:e.csgotrader.description,link:e.csgotrader.url}),[o,r]=(0,n.useState)(e.csgotrader.pricing_modes.csgotrader.description),i=[];for(const[t,a]of Object.entries(e))for(const[e,n]of Object.entries(a.pricing_modes)){const o=t===n?"":` -  ${n.long}`;i.push({key:`${t}.${e}`,text:`${a.long} ${o}`})}return n.createElement(n.Fragment,null,n.createElement(s,{id:"pricingProvider",foreignChangeHandler:t=>{const n=t.split(".")[0],o=t.split(".")[1];a({description:e[n].description,link:e[n].url}),r(e[n].pricing_modes[o].description),chrome.storage.local.set({pricingProvider:n,pricingMode:o},(()=>{(0,E.yq)()}))},foreignUseEffect:()=>new Promise((t=>{chrome.storage.local.get(["pricingProvider","pricingMode"],(n=>{const{pricingProvider:o,pricingMode:i}=n;a({description:e[o].description,link:e[o].url}),r(e[o].pricing_modes[i].description),t(`${o}.${i}`)}))})),options:i}),n.createElement("div",{className:"about"},n.createElement(v.Z,{to:t.link},n.createElement("b",null,"About the provider:"))," ",n.createElement("span",null,t.description)),n.createElement("div",null,n.createElement("b",null,"About the pricing mode:")," ",n.createElement("span",null,o)))},w=()=>{const[e,t]=(0,n.useState)({message:"",spin:!1});return n.createElement(n.Fragment,null,n.createElement(p.G,{icon:h.UO1,className:`whiteIcon ${e.spin?"rotate":null}`,onClick:()=>{(0,E.yq)(),t({...e,spin:!0}),setTimeout((()=>{t({spin:!1,message:"Prices refreshed"})}),2e3)}}),n.createElement("div",null,e.message))};var b=a(9879),N=a(1650);const C=({id:e})=>{const[t,a]=(0,n.useState)([]),[o,r]=(0,n.useState)({name:"",url:""}),i=b.Z.map((e=>e.id)),s=n=>{t.map(((o,r)=>{if(o.id===n.target.id){const n=t.filter(((e,t)=>r!==t));chrome.storage.local.set({[e]:n},(()=>{a(n)}))}return null}))},l=n=>{const o=n.target.id,r=[...t];r[o]={...r[o],active:!r[o].active},chrome.storage.local.set({[e]:r},(()=>{a(r)}))};return(0,n.useEffect)((()=>{chrome.storage.local.get(e,(e=>{a(e.popupLinks)}))}),[e]),n.createElement(n.Fragment,null,t.map(((e,t)=>"options"===e.id?null:n.createElement("div",{key:e.id,className:"row mb-2"},n.createElement("div",{className:"col-md-2 justify-content-start"},n.createElement("label",{className:"switch"},n.createElement("input",{type:"checkbox",id:t,checked:e.active,onChange:l}),n.createElement("span",{className:"slider round"}))),n.createElement("div",{className:"col-md-3 justify-content-end pb-3"},e.name),i.includes(e.id)?null:n.createElement("div",{className:"col-md-1"},n.createElement(N.Z,{id:e.id,action:s,title:"Delete"},n.createElement(p.G,{id:e.id,icon:h.$aW,className:"apiIcon"})))))),n.createElement("hr",null),n.createElement("label",{className:"d-block"},n.createElement("input",{type:"text",className:"input",id:"name",value:o.name,onChange:e=>{r({...o,name:e.target.value})},placeholder:"Name on popup"})),n.createElement("label",{className:"d-block"},n.createElement("input",{type:"text",className:"input",id:"url",value:o.url,onChange:e=>{r({...o,url:e.target.value})},placeholder:"URL to point to"})),n.createElement("button",{className:"button button__save",onClick:()=>{let n=!1;if(t.map((e=>(e.id===o.name.replace(/\W/g,"").toLowerCase()&&(n=!0),null))),!n){const n=[...t,{id:o.name.replace(/\W/g,"").toLowerCase(),name:o.name,url:o.url,active:!0}];chrome.storage.local.set({[e]:n},(()=>{a(n)}))}},type:"submit"},"Add new URL"))},k=({id:e})=>{const[t,a]=(0,n.useState)("");return(0,n.useEffect)((()=>{const e=["prices","exchangeRates","activeOffers"];chrome.storage.local.get(null,(t=>{let n="data:application/json,";const o={version:2,type:"full_backup",storage:{}};for(const a in t)e.includes(a)||"floatCache_"===a.substring(0,11)||"seen_listings_"===a.substring(0,14)||(o.storage[a]=t[a]);n+=encodeURIComponent(JSON.stringify(o)),a(n)}))}),[]),n.createElement("a",{href:t,download:"csgotrader_data_backup.json",id:e},"Backup")},I=()=>{const[e,t]=(0,n.useState)("hidden");return n.createElement(n.Fragment,null,n.createElement("input",{type:"file",id:"restore",name:"restore",accept:".json",onChange:e=>{const a=e.target.files[0],n=new FileReader;n.addEventListener("load",(e=>{const a=JSON.parse(e.target.result);chrome.storage.local.set(a.storage,(()=>{t("")}))})),n.readAsText(a)}}),n.createElement("div",{className:e},"Restore completed!"))},T=({id:e,min:t,max:a})=>{const[o,r]=(0,n.useState)(!1),i=void 0!==t,s=void 0!==a;return(0,n.useEffect)((()=>{chrome.storage.local.get(e,(t=>{r(t[e])}))}),[e]),n.createElement("input",{type:"number",id:e,className:"numberInput numberInput__wide",value:o,onChange:n=>{const o=n.target.value;r(o),(i&&s&&o>=t&&o<=a||i&&o>=t||s&&o<=a||!i&&!s)&&chrome.storage.local.set({[e]:o},(()=>{"priceUpdateFreq"===e&&chrome.alarms.create("priceUpdate",{periodInMinutes:60*o})}))}})},_=({id:e,options:t})=>n.createElement(s,{id:e,foreignChangeHandler:e=>{chrome.storage.local.set({realTimePricesMode:e},(()=>{}))},foreignUseEffect:()=>new Promise((e=>{chrome.storage.local.get(["realTimePricesMode"],(({realTimePricesMode:t})=>{e(t)}))})),options:t});var R=a(4578);function M(e){return e&&e.stopPropagation&&e.stopPropagation(),e&&e.preventDefault&&e.preventDefault(),!1}function A(e){return null==e?[]:Array.isArray(e)?e.slice():[e]}function x(e){return null!==e&&1===e.length?e[0]:e.slice()}function P(e){Object.keys(e).forEach((t=>{"undefined"!=typeof document&&document.addEventListener(t,e[t],!1)}))}function D(e,t){return O(function(e,t){let a=e;return a<=t.min&&(a=t.min),a>=t.max&&(a=t.max),a}(e,t),t)}function O(e,t){const a=(e-t.min)%t.step;let n=e-a;return 2*Math.abs(a)>=t.step&&(n+=a>0?t.step:-t.step),parseFloat(n.toFixed(5))}let F=function(e){function t(t){var a;(a=e.call(this,t)||this).onKeyUp=()=>{a.onEnd()},a.onMouseUp=()=>{a.onEnd(a.getMouseEventMap())},a.onTouchEnd=e=>{e.preventDefault(),a.onEnd(a.getTouchEventMap())},a.onBlur=()=>{a.setState({index:-1},a.onEnd(a.getKeyDownEventMap()))},a.onMouseMove=e=>{a.setState({pending:!0});const t=a.getMousePosition(e),n=a.getDiffPosition(t[0]),o=a.getValueFromPosition(n);a.move(o)},a.onTouchMove=e=>{if(e.touches.length>1)return;a.setState({pending:!0});const t=a.getTouchPosition(e);if(void 0===a.isScrolling){const e=t[0]-a.startPosition[0],n=t[1]-a.startPosition[1];a.isScrolling=Math.abs(n)>Math.abs(e)}if(a.isScrolling)return void a.setState({index:-1});const n=a.getDiffPosition(t[0]),o=a.getValueFromPosition(n);a.move(o)},a.onKeyDown=e=>{if(!(e.ctrlKey||e.shiftKey||e.altKey||e.metaKey))switch(a.setState({pending:!0}),e.key){case"ArrowLeft":case"ArrowDown":case"Left":case"Down":e.preventDefault(),a.moveDownByStep();break;case"ArrowRight":case"ArrowUp":case"Right":case"Up":e.preventDefault(),a.moveUpByStep();break;case"Home":e.preventDefault(),a.move(a.props.min);break;case"End":e.preventDefault(),a.move(a.props.max);break;case"PageDown":e.preventDefault(),a.moveDownByStep(a.props.pageFn(a.props.step));break;case"PageUp":e.preventDefault(),a.moveUpByStep(a.props.pageFn(a.props.step))}},a.onSliderMouseDown=e=>{if(!a.props.disabled&&2!==e.button){if(a.setState({pending:!0}),!a.props.snapDragDisabled){const t=a.getMousePosition(e);a.forceValueFromPosition(t[0],(e=>{a.start(e,t[0]),P(a.getMouseEventMap())}))}M(e)}},a.onSliderClick=e=>{if(!a.props.disabled&&a.props.onSliderClick&&!a.hasMoved){const t=a.getMousePosition(e),n=D(a.calcValue(a.calcOffsetFromPosition(t[0])),a.props);a.props.onSliderClick(n)}},a.createOnKeyDown=e=>t=>{a.props.disabled||(a.start(e),P(a.getKeyDownEventMap()),M(t))},a.createOnMouseDown=e=>t=>{if(a.props.disabled||2===t.button)return;a.setState({pending:!0});const n=a.getMousePosition(t);a.start(e,n[0]),P(a.getMouseEventMap()),M(t)},a.createOnTouchStart=e=>t=>{if(a.props.disabled||t.touches.length>1)return;a.setState({pending:!0});const n=a.getTouchPosition(t);a.startPosition=n,a.isScrolling=void 0,a.start(e,n[0]),P(a.getTouchEventMap()),function(e){e.stopPropagation&&e.stopPropagation()}(t)},a.handleResize=()=>{const e=window.setTimeout((()=>{a.pendingResizeTimeouts.shift(),a.resize()}),0);a.pendingResizeTimeouts.push(e)},a.renderThumb=(e,t)=>{const n=a.props.thumbClassName+" "+a.props.thumbClassName+"-"+t+" "+(a.state.index===t?a.props.thumbActiveClassName:""),o={ref:e=>{a["thumb"+t]=e},key:a.props.thumbClassName+"-"+t,className:n,style:e,onMouseDown:a.createOnMouseDown(t),onTouchStart:a.createOnTouchStart(t),onFocus:a.createOnKeyDown(t),tabIndex:0,role:"slider","aria-orientation":a.props.orientation,"aria-valuenow":a.state.value[t],"aria-valuemin":a.props.min,"aria-valuemax":a.props.max,"aria-label":Array.isArray(a.props.ariaLabel)?a.props.ariaLabel[t]:a.props.ariaLabel,"aria-labelledby":Array.isArray(a.props.ariaLabelledby)?a.props.ariaLabelledby[t]:a.props.ariaLabelledby,"aria-disabled":a.props.disabled},r={index:t,value:x(a.state.value),valueNow:a.state.value[t]};return a.props.ariaValuetext&&(o["aria-valuetext"]="string"==typeof a.props.ariaValuetext?a.props.ariaValuetext:a.props.ariaValuetext(r)),a.props.renderThumb(o,r)},a.renderTrack=(e,t,n)=>{const o={key:a.props.trackClassName+"-"+e,className:a.props.trackClassName+" "+a.props.trackClassName+"-"+e,style:a.buildTrackStyle(t,a.state.upperBound-n)},r={index:e,value:x(a.state.value)};return a.props.renderTrack(o,r)};let o=A(t.value);o.length||(o=A(t.defaultValue)),a.pendingResizeTimeouts=[];const r=[];for(let e=0;e<o.length;e+=1)o[e]=D(o[e],t),r.push(e);return a.resizeObserver=null,a.resizeElementRef=n.createRef(),a.state={index:-1,upperBound:0,sliderLength:0,value:o,zIndices:r},a}(0,R.Z)(t,e);var a=t.prototype;return a.componentDidMount=function(){"undefined"!=typeof window&&(this.resizeObserver=new ResizeObserver(this.handleResize),this.resizeObserver.observe(this.resizeElementRef.current),this.resize())},t.getDerivedStateFromProps=function(e,t){const a=A(e.value);return a.length?t.pending?null:{value:a.map((t=>D(t,e)))}:null},a.componentDidUpdate=function(){0===this.state.upperBound&&this.resize()},a.componentWillUnmount=function(){this.clearPendingResizeTimeouts(),this.resizeObserver&&this.resizeObserver.disconnect()},a.onEnd=function(e){e&&function(e){Object.keys(e).forEach((t=>{"undefined"!=typeof document&&document.removeEventListener(t,e[t],!1)}))}(e),this.hasMoved&&this.fireChangeEvent("onAfterChange"),this.setState({pending:!1}),this.hasMoved=!1},a.getValue=function(){return x(this.state.value)},a.getClosestIndex=function(e){let t=Number.MAX_VALUE,a=-1;const{value:n}=this.state,o=n.length;for(let r=0;r<o;r+=1){const o=this.calcOffset(n[r]),i=Math.abs(e-o);i<t&&(t=i,a=r)}return a},a.getMousePosition=function(e){return[e["page"+this.axisKey()],e["page"+this.orthogonalAxisKey()]]},a.getTouchPosition=function(e){const t=e.touches[0];return[t["page"+this.axisKey()],t["page"+this.orthogonalAxisKey()]]},a.getKeyDownEventMap=function(){return{keydown:this.onKeyDown,keyup:this.onKeyUp,focusout:this.onBlur}},a.getMouseEventMap=function(){return{mousemove:this.onMouseMove,mouseup:this.onMouseUp}},a.getTouchEventMap=function(){return{touchmove:this.onTouchMove,touchend:this.onTouchEnd}},a.getValueFromPosition=function(e){const t=e/(this.state.sliderLength-this.state.thumbSize)*(this.props.max-this.props.min);return D(this.state.startValue+t,this.props)},a.getDiffPosition=function(e){let t=e-this.state.startPosition;return this.props.invert&&(t*=-1),t},a.resize=function(){const{slider:e,thumb0:t}=this;if(!e||!t)return;const a=this.sizeKey(),n=e.getBoundingClientRect(),o=e[a],r=n[this.posMaxKey()],i=n[this.posMinKey()],s=t.getBoundingClientRect()[a.replace("client","").toLowerCase()],l=o-s,c=Math.abs(r-i);this.state.upperBound===l&&this.state.sliderLength===c&&this.state.thumbSize===s||this.setState({upperBound:l,sliderLength:c,thumbSize:s})},a.calcOffset=function(e){const t=this.props.max-this.props.min;return 0===t?0:(e-this.props.min)/t*this.state.upperBound},a.calcValue=function(e){return e/this.state.upperBound*(this.props.max-this.props.min)+this.props.min},a.calcOffsetFromPosition=function(e){const{slider:t}=this,a=t.getBoundingClientRect(),n=a[this.posMaxKey()],o=a[this.posMinKey()];let r=e-(window["page"+this.axisKey()+"Offset"]+(this.props.invert?n:o));return this.props.invert&&(r=this.state.sliderLength-r),r-=this.state.thumbSize/2,r},a.forceValueFromPosition=function(e,t){const a=this.calcOffsetFromPosition(e),n=this.getClosestIndex(a),o=D(this.calcValue(a),this.props),r=this.state.value.slice();r[n]=o;for(let e=0;e<r.length-1;e+=1)if(r[e+1]-r[e]<this.props.minDistance)return;this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0,this.setState({value:r},(()=>{t(n),this.fireChangeEvent("onChange")}))},a.clearPendingResizeTimeouts=function(){do{const e=this.pendingResizeTimeouts.shift();clearTimeout(e)}while(this.pendingResizeTimeouts.length)},a.start=function(e,t){const a=this["thumb"+e];a&&a.focus();const{zIndices:n}=this.state;n.splice(n.indexOf(e),1),n.push(e),this.setState((a=>({startValue:a.value[e],startPosition:void 0!==t?t:a.startPosition,index:e,zIndices:n})))},a.moveUpByStep=function(e){void 0===e&&(e=this.props.step);const t=this.state.value[this.state.index],a=D(this.props.invert&&"horizontal"===this.props.orientation?t-e:t+e,this.props);this.move(Math.min(a,this.props.max))},a.moveDownByStep=function(e){void 0===e&&(e=this.props.step);const t=this.state.value[this.state.index],a=D(this.props.invert&&"horizontal"===this.props.orientation?t+e:t-e,this.props);this.move(Math.max(a,this.props.min))},a.move=function(e){const t=this.state.value.slice(),{index:a}=this.state,{length:n}=t,o=t[a];if(e===o)return;this.hasMoved||this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0;const{pearling:r,max:i,min:s,minDistance:l}=this.props;if(!r){if(a>0){const n=t[a-1];e<n+l&&(e=n+l)}if(a<n-1){const n=t[a+1];e>n-l&&(e=n-l)}}t[a]=e,r&&n>1&&(e>o?(this.pushSucceeding(t,l,a),function(e,t,a,n){for(let o=0;o<e;o+=1){const r=n-o*a;t[e-1-o]>r&&(t[e-1-o]=r)}}(n,t,l,i)):e<o&&(this.pushPreceding(t,l,a),function(e,t,a,n){for(let o=0;o<e;o+=1){const e=n+o*a;t[o]<e&&(t[o]=e)}}(n,t,l,s))),this.setState({value:t},this.fireChangeEvent.bind(this,"onChange"))},a.pushSucceeding=function(e,t,a){let n,o;for(n=a,o=e[n]+t;null!==e[n+1]&&o>e[n+1];n+=1,o=e[n]+t)e[n+1]=O(o,this.props)},a.pushPreceding=function(e,t,a){for(let n=a,o=e[n]-t;null!==e[n-1]&&o<e[n-1];n-=1,o=e[n]-t)e[n-1]=O(o,this.props)},a.axisKey=function(){return"vertical"===this.props.orientation?"Y":"X"},a.orthogonalAxisKey=function(){return"vertical"===this.props.orientation?"X":"Y"},a.posMinKey=function(){return"vertical"===this.props.orientation?this.props.invert?"bottom":"top":this.props.invert?"right":"left"},a.posMaxKey=function(){return"vertical"===this.props.orientation?this.props.invert?"top":"bottom":this.props.invert?"left":"right"},a.sizeKey=function(){return"vertical"===this.props.orientation?"clientHeight":"clientWidth"},a.fireChangeEvent=function(e){this.props[e]&&this.props[e](x(this.state.value),this.state.index)},a.buildThumbStyle=function(e,t){const a={position:"absolute",touchAction:"none",willChange:this.state.index>=0?this.posMinKey():void 0,zIndex:this.state.zIndices.indexOf(t)+1};return a[this.posMinKey()]=e+"px",a},a.buildTrackStyle=function(e,t){const a={position:"absolute",willChange:this.state.index>=0?this.posMinKey()+","+this.posMaxKey():void 0};return a[this.posMinKey()]=e,a[this.posMaxKey()]=t,a},a.buildMarkStyle=function(e){var t;return(t={position:"absolute"})[this.posMinKey()]=e,t},a.renderThumbs=function(e){const{length:t}=e,a=[];for(let n=0;n<t;n+=1)a[n]=this.buildThumbStyle(e[n],n);const n=[];for(let e=0;e<t;e+=1)n[e]=this.renderThumb(a[e],e);return n},a.renderTracks=function(e){const t=[],a=e.length-1;t.push(this.renderTrack(0,0,e[0]));for(let n=0;n<a;n+=1)t.push(this.renderTrack(n+1,e[n],e[n+1]));return t.push(this.renderTrack(a+1,e[a],this.state.upperBound)),t},a.renderMarks=function(){let{marks:e}=this.props;const t=this.props.max-this.props.min+1;return"boolean"==typeof e?e=Array.from({length:t}).map(((e,t)=>t)):"number"==typeof e&&(e=Array.from({length:t}).map(((e,t)=>t)).filter((t=>t%e==0))),e.map(parseFloat).sort(((e,t)=>e-t)).map((e=>{const t=this.calcOffset(e),a={key:e,className:this.props.markClassName,style:this.buildMarkStyle(t)};return this.props.renderMark(a)}))},a.render=function(){const e=[],{value:t}=this.state,a=t.length;for(let n=0;n<a;n+=1)e[n]=this.calcOffset(t[n],n);const o=this.props.withTracks?this.renderTracks(e):null,r=this.renderThumbs(e),i=this.props.marks?this.renderMarks():null;return n.createElement("div",{ref:e=>{this.slider=e,this.resizeElementRef.current=e},style:{position:"relative"},className:this.props.className+(this.props.disabled?" disabled":""),onMouseDown:this.onSliderMouseDown,onClick:this.onSliderClick},o,r,i)},t}(n.Component);F.displayName="ReactSlider",F.defaultProps={min:0,max:100,step:1,pageFn:e=>10*e,minDistance:0,defaultValue:0,orientation:"horizontal",className:"slider",thumbClassName:"thumb",thumbActiveClassName:"active",trackClassName:"track",markClassName:"mark",withTracks:!0,pearling:!1,disabled:!1,snapDragDisabled:!1,invert:!1,marks:[],renderThumb:e=>n.createElement("div",e),renderTrack:e=>n.createElement("div",e),renderMark:e=>n.createElement("span",e)};var L=F;const B=({id:e})=>{const[t,a]=(0,n.useState)(50);return(0,n.useEffect)((()=>{chrome.storage.local.get(e,(t=>{a(t[e])}))}),[e]),n.createElement(L,{className:"notSlider",thumbClassName:"sliderThumb",trackClassName:"sliderTrack",thumbActiveClassName:"sliderActiveThumb",onAfterChange:t=>{chrome.storage.local.set({[e]:t},(()=>{a(t)}))},value:t,withTracks:!0,renderThumb:(e,t)=>n.createElement("div",e,t.valueNow)})};var G=a(886),q=a(4227);const K=()=>{const e=[];for(const t of Object.values(G.u))e.push({key:t.key,text:t.name});return e},U=()=>{const[e,t]=(0,n.useState)(""),[a,o]=(0,n.useState)(G.u["done-for-you"].key);(0,n.useEffect)((()=>{chrome.storage.local.get("customNotificationURL",(({customNotificationURL:e})=>{t(e)}))}));return n.createElement(n.Fragment,null,n.createElement(s,{id:"notificationSoundToPlay",foreignChangeHandler:t=>{chrome.storage.local.set({notificationSoundToPlay:t},(()=>{o(t),t===G.u.custom.key?(0,q.Sk)(e,"remote",1):(0,q.Sk)(`sounds/notification/${t}.mp3`,"local",1)}))},foreignUseEffect:()=>new Promise((e=>{chrome.storage.local.get("notificationSoundToPlay",(({notificationSoundToPlay:t})=>{o(t),e(t)}))})),options:K()}),a===G.u.custom.key?n.createElement("div",{className:"mt-3"},n.createElement("span",null,"Add your custom sound (URL). Accepted formats: .mp3, .ogg"),n.createElement("input",{type:"text",value:e,onChange:e=>{const a=e.target.value;t(a),(0,q.Sk)(a,"remote",1),chrome.storage.local.set({customNotificationURL:a})},className:"input"})):null)},V=({id:e,maxMessageLength:t})=>{const[a,o]=(0,n.useState)([]),[r,i]=(0,n.useState)(""),[s,l]=(0,n.useState)(!0),[c,m]=(0,n.useState)(""),d=t=>{chrome.storage.local.set({[e]:t},(()=>{}))};(0,n.useEffect)((()=>{chrome.storage.local.get(e,(t=>{o(t[e])}))}),[e]);return n.createElement("div",null,a.map(((e,t)=>n.createElement("div",{key:e.trim(),className:"mb-2"},n.createElement("span",null,e),n.createElement(N.Z,{action:()=>{(e=>{const t=a.filter(((t,a)=>a!==e));o(t),d(t)})(t)},title:"Remove string"},n.createElement(p.G,{icon:h.$aW,className:"delete"}))))),n.createElement(u.Z,{modalTitle:"Add your own message",opener:n.createElement(p.G,{icon:h.Xcf}),validator:e=>{if(r.length<=t){const t=[...a,r];o(t),d(t),l(!0),m(""),i(""),e()}else l(!1),m(`Message can't be longer than ${t} characters!`)}},n.createElement("textarea",{className:"modalTextArea",placeholder:"Type your text here",onChange:e=>{i(e.target.value)},value:r}),n.createElement("div",{className:`warning ${s?"hidden":null}`},n.createElement(p.G,{icon:h.eHv}),n.createElement("span",{className:"warning"}," ",c))))},H=({name:e,description:t,type:a,id:o,permission:r,origins:i,modalTitle:s,options:c,maxMessageLength:u,minNum:p,maxNum:h})=>n.createElement("div",{className:"row mb-4 pb-4 option-row"},n.createElement("div",{className:"col-md-12"},n.createElement("h5",null,e)),n.createElement("div",{className:"col-md-6"},n.createElement("p",{className:"font-size--s"},t)),n.createElement("div",{className:"col-md-6"},((e,t,a,o,r,i,s,c,u)=>{switch(e){case"flipSwitchStorage":return n.createElement(m,{id:t});case"modalTextBox":return n.createElement(f,{id:t,modalTitle:r});case"flipSwitchPermission":return n.createElement(d,{id:t,permission:a,origins:o});case"select":return n.createElement(g,{id:t,options:i});case"pricingProvider":return n.createElement(S,{options:i});case"refresh":return n.createElement(w,{id:t});case"linksToShow":return n.createElement(C,{id:t});case"backup":return n.createElement(k,{id:t});case"restore":return n.createElement(I,{id:t});case"doubleSelect":return n.createElement(y,{id:[...t],options:i});case"currency":return n.createElement(l,{id:t,options:i});case"number":return n.createElement(T,{id:t,min:c,max:u});case"realtimepricingmode":return n.createElement(_,{id:t,options:i});case"volumeSlider":return n.createElement(B,{id:t});case"notifSound":return n.createElement(U,null);case"arrayOfStrings":return n.createElement(V,{id:t,maxMessageLength:s});default:return null}})(a,o,r,i,s,c,u,p,h))),W=({title:e,subTitle:t,children:a})=>((0,n.useEffect)((()=>{document.title=`Options - ${e}`}),[e]),n.createElement("div",{className:"category"},n.createElement("div",{className:"container"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-md-12 mx-0 px-0 mb-4"},n.createElement("h1",null,e),t?n.createElement("p",{className:"ml-3"},t):null))),n.createElement("div",{className:"container"},a))),Z=()=>n.createElement(W,{title:"Notifications"},n.createElement(H,{name:"Notify on update",id:"notifyOnUpdate",type:"flipSwitchStorage",description:"Whether you want to receive notifications when the extension gets updated"}),n.createElement(H,{name:"Audio notification",id:"notificationSoundOn",type:"flipSwitchStorage",description:"Also makes a sound when notifications pop up"}),n.createElement(H,{name:"Notification sound",type:"notifSound",id:"notificationSoundToPlay",description:"The notification sound you want to play"}),n.createElement(H,{name:"Notification volume",type:"volumeSlider",id:"notificationVolume",description:"The sound volume you want for the notification sound"}),n.createElement(H,{name:"Allow Discord notifications",type:"flipSwitchPermission",id:"allowDiscordNotification",description:"Allow the extension to contact discord's server to send notifications.",permission:"tabs",origins:["*://discord.com/*"]}),n.createElement(H,{name:"Discord webhook URL",id:"discordNotificationHook",type:"modalTextBox",description:n.createElement(n.Fragment,null,"Add the Webhook URL of channel you want to receive notifications to. More info from Discord here: ",n.createElement(v.Z,{to:"https://support.discord.com/hc/en-us/articles/228383668-Intro-to-Webhooks"},"Intro to Webhooks")),modalTitle:"Enter your Discord Webhook URL here"}),n.createElement(H,{name:"Notify about being logged out of Steam",id:"notifyAboutBeingLoggedOut",type:"flipSwitchStorage",description:"Get browser notifications about being logged out of Steam"}),n.createElement(H,{name:"Notify about being logged out of Steam on Discord",id:"notifyAboutBeingLoggedOutOnDiscord",type:"flipSwitchStorage",description:"Get Discord notifications about being logged out of Steam"}));var z=a(9655);const $=()=>n.createElement(z.rU,{to:"/options/general/",title:"Steam API key required to be set for this function"}," ",n.createElement(p.G,{icon:h.dT$,className:"apiIcon"})),j=()=>n.createElement(W,{title:"General"},n.createElement(H,{name:"Auto-set Steam API key",id:"autoSetSteamAPIKey",type:"flipSwitchStorage",description:n.createElement(n.Fragment,null,"Automatically generates and adds the Steam API key to the extension when visiting ",n.createElement(v.Z,{to:"https://steamcommunity.com/dev/apikey"},"steamcommunity.com/dev/apikey"))}),n.createElement(H,{name:"Steam API key",id:"steamAPIKey",type:"modalTextBox",description:n.createElement(n.Fragment,null,"Allows the extension to make API requests to the ",n.createElement(v.Z,{to:"https://developer.valvesoftware.com/wiki/Steam_Web_API"},"Steam Web API"),", functions that need an API key will be tagged with this icon",n.createElement($,null),n.createElement("br",null),"You can get an API key by filling out ",n.createElement(v.Z,{to:"https://steamcommunity.com/dev/apikey"},"this form")," (you can put anything in as domain name).",n.createElement("br",null),n.createElement(v.Z,{to:"https://csgotrader.app/faq/#steamapikey"},"Why does it need Steam API key? Explained in more detail.")),modalTitle:"Enter your Steam API key here"}),n.createElement(H,{name:"Tabs API access",id:"tabsAPI",type:"flipSwitchPermission",description:n.createElement(n.Fragment,null,"Grants the extension access to the ",n.createElement(v.Z,{to:"https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/Working_with_the_Tabs_API"},"browser.tabs API"),". It - for example - allows the extension to open a tab and put it in focus, allows notifications to be clickable, opens the bookmarks page when an item is bookmarked, etc. I am using it in this mode so it's also less likely to be buggy as well."),permission:"tabs"}),n.createElement(H,{name:"Contrasting look",id:"contrastingLook",type:"flipSwitchStorage",description:"Adds a contrasting background to indicators (price, trade lock, float, etc.) on items in offers and inventories."}),n.createElement(H,{name:"Colorful items",id:"colorfulItems",type:"flipSwitchStorage",description:"Makes inventories and offers pretty by changing the background color of items based on rarity or in case of doppler, phase"}),n.createElement(H,{name:"Float precision",id:"numberOfFloatDigitsToShow",type:"number",description:"How many digits of precision you want to be displayed for float values on items in offers and inventories, min: 2, max: 16, default: 4",minNum:2,maxNum:16}),n.createElement(H,{name:"Show Paint Seeds",id:"showPaintSeedOnItems",type:"flipSwitchStorage",description:"Adds the paint seeds to the item icons in inventories and offers"}),n.createElement(H,{name:"Show Float ranks",id:"showFloatRankOnItems",type:"flipSwitchStorage",description:"Adds the float rank to the item icons in inventories and offers"}),n.createElement(H,{name:"Useful titles",id:"usefulTitles",type:"flipSwitchStorage",description:"Changes inventory, profile, offer, market page titles to more apparent and readable ones"}));var Q=a(9700);const Y=()=>n.createElement(W,{title:"Pricing",subTitle:n.createElement(n.Fragment,null,n.createElement("span",{className:"countdown"},"DISCLAIMER: "),"No pricing provider is 100% accurate all the time. Take these prices as advisory, always with a pinch of salt. You should not rely on them solely when doing your trades.")},n.createElement(H,{name:"Pricing",type:"flipSwitchStorage",id:"itemPricing",description:"Shows item prices in inventories and trade offers"}),n.createElement(H,{name:"Show sticker worth on items",id:"showStickerPrice",type:"flipSwitchStorage",description:"When turned on it puts the total price of the stickers applied on a weapon under the exterior indicator in inventories, trade offers and on the incoming trade offers page."}),n.createElement(H,{name:"Currency",type:"currency",id:"currency",description:"The currency you want prices to show in for you",options:(()=>{const e=[];for(const t of Object.values(Q.QT))e.push({key:t.short,text:`${t.short} - ${t.long}`});return e})()}),n.createElement(H,{name:"Provider",type:"pricingProvider",description:n.createElement(n.Fragment,null,"The pricing provider and pricing mode you want to get your prices from. Learn more about pricing and price on the",n.createElement(v.Z,{to:"https://csgotrader.app/prices/"}," prices page")),options:Q.Qd}),n.createElement(H,{name:"Price update frequency",id:"priceUpdateFreq",type:"number",description:"How often prices should update in the background, in hours, min: 6, max: 138, default: 24",minNum:6,maxNum:168}),n.createElement(H,{name:"Refresh Prices",type:"refresh",id:"refreshPrices",description:"Normally prices refresh every 24 hours in the back end and on are also refreshed daily by the client. These two events are not synced so you might have a bit outdated prices. Refreshing the prices makes sure that you have the latest. Refreshing multiple times in a short period of time is pointless."}),n.createElement(H,{name:"RealTime pricing mode",type:"realtimepricingmode",id:"realTimePricesMode",options:(()=>{const e=[];for(const t of Object.values(Q.i))e.push({key:t.key,text:t.name,description:t.description});return e})(),description:"The RealTime pricing mode you want the extension to show prices in."}),n.createElement(H,{name:"RealTime price fetching frequency",type:"number",id:"realTimePricesFreqSuccess",description:"The frequency to fetch RealTime prices at from Steam in milliseconds. The default is 3000, which is 3 seconds, if you set it too low then the requests will start failing often."}),n.createElement(H,{name:"RealTime price fetching failure delay",type:"number",id:"realTimePricesFreqFailure",description:"The extension will wait this much to start loading RealTime prices again if it fails once. It's in milliseconds, the default value is 15000, which is 15 seconds. If you set it too low then the extension will keep retrying too often and you risk getting a temporary ip ban from Steam."})),J=()=>n.createElement(W,{title:"Other"},n.createElement(H,{name:"CSGOTraders.net auto-bump",type:"flipSwitchPermission",id:"tradersBump",description:n.createElement(n.Fragment,null,"Automatically bumps your trades every 30-40 minutes on CSGOTraders.net if you have the page",n.createElement(v.Z,{to:"https://csgotraders.net/mytrades"}," https://csgotraders.net/mytrades "),"open. Note: The way it works looks the bump buttons unpressed, but it does the bumping as you can see if you refresh the page."),permission:"tabs",origins:["*://csgotraders.net/*"]}),n.createElement(H,{name:"CSGOTraders.net auto-login and redirect",id:"csgotradersAutoLogin",type:"flipSwitchStorage",description:"Automatically logs you back into CSGOTRADERS.NET, useful when auto bumping is used since the site logs you out fairly often"}),n.createElement(H,{name:"Auto OpenID login",id:"autoOpenIDLogin",type:"flipSwitchStorage",description:'Go through the "Login with Steam" dialogs automatically, required for CSGOTRADERS.NET autologin'}),n.createElement(H,{name:"Hide other extensions",id:"hideOtherExtensionPrices",type:"flipSwitchStorage",description:"Hides elements from other extensions that overlap with CS2 Trader's"})),X=()=>n.createElement(W,{title:"Data backup and restore"},n.createElement(H,{name:"Backup Data",id:"backup_data",type:"backup",description:"Backup your extension settings/preferences, bookmarks, trade history information, etc, to a .json file that you can save and import on a different computer/browser or here later"}),n.createElement(H,{name:"Restore data from backup",id:"restore",type:"restore",description:"Restore your extension data from a backup, you are looking for a .json file that was named csgotrader_data_backup.json when you backed it up. Make sure you understand that all your current data will be replaced with data from the backup and lost forever."}));var ee=a(6964);const te=()=>n.createElement(W,{title:"Inventory"},n.createElement(H,{name:"Default sorting mode",id:"inventorySortingMode",type:"select",description:"Specifies what method the items in an inventory should be sorted by",options:(()=>{const e=[];for(const t of Object.values(ee.PE))e.push({key:t.key,text:t.name});return e})()}),n.createElement(H,{name:"Load RealTime prices",id:"realTimePricesAutoLoadInventory",type:"flipSwitchStorage",description:"When on, the extension adds RealTime prices to items automatically"}),n.createElement(H,{name:"Get float values automatically",id:"autoFloatInventory",type:"flipSwitchStorage",description:"Loads float values to each item when on."}),n.createElement(H,{name:"Show partner history",id:"tradeHistoryInventory",type:"flipSwitchStorage",description:n.createElement(n.Fragment,null,"Show the number of offers received from a user and how many was sent to them",n.createElement($,null))}),n.createElement(H,{name:"Mark items in offer",id:"itemInOffersInventory",type:"flipSwitchStorage",description:n.createElement(n.Fragment,null,"Shows an indicator on the items if they are in trade offers. Making an item the active item in the inventory adds links to the offers it is present in.",n.createElement($,null))}),n.createElement(H,{name:"Show Instant and Quick sell buttons",id:"inventoryInstantQuickButtons",type:"flipSwitchStorage",description:"Adds Instant Sell and Quick Sell buttons by the normal Sell button for the active inventory item"}),n.createElement(H,{name:"Safe Instant and Quick sell",id:"safeInstantQuickSell",type:"flipSwitchStorage",description:"Instant and Quick sell actions require another layer of confirmation via a popup (to prevent misclicks)"}),n.createElement(H,{name:"Show duplicate count",id:"inventoryShowDuplicateCount",type:"flipSwitchStorage",description:"Shows the number of duplicates on the selected item (same market name)"}),n.createElement(H,{name:"Show Selected items table",id:"showSelectedItemsTable",type:"flipSwitchStorage",description:"Shows the selected items table in other people's inventory"}),n.createElement(H,{name:"Show copy item id/name/link buttons on active items",id:"inventoryShowCopyButtons",type:"flipSwitchStorage",description:"Show copy item id/name/link buttons on active items in inventories."}),n.createElement(H,{name:"Show pricempire.com links in inventories",id:"showPriceEmpireLinkInInventory",type:"flipSwitchStorage",description:"Show pricempire.com links in inventories"}),n.createElement(H,{name:"Show lookup on buff link",id:"showBuffLookupInInventory",type:"flipSwitchStorage",description:"Show lookup on buff link in inventories"}),n.createElement(H,{name:"Show lookup on Float DB link",id:"showFloatDBLookupInInventory",type:"flipSwitchStorage",description:"Show lookup on FloatDB link in inventories"}),n.createElement(H,{name:"Show exteriors on items",id:"showShortExteriorsInventory",type:"flipSwitchStorage",description:"Adds short exteriors to each item to the top right corner as well as marks them stattrak or souvenir"}),n.createElement(H,{name:"Show trade lock indicators on items",id:"showTradeLockIndicatorInInventories",type:"flipSwitchStorage",description:"Adds small indicators to the top left of inventory items that either show the remaining trade cooldown."}),n.createElement(H,{name:"Move with arrow keys",id:"moveWithArrowKeysInventory",type:"flipSwitchStorage",description:"Move the currently selected item with the arrow keys, or with CTRL + arrow keys to move the page instead"}),n.createElement(H,{name:"Show all exteriors",id:"showAllExteriorsInventory",type:"flipSwitchStorage",description:"Show links to all exteriors on the selected item"})),ae=()=>n.createElement(W,{title:"Market"},n.createElement(H,{name:"Listings per page",id:"numberOfListings",type:"select",description:"The number of market listings you want to see when you load the market page of an item",options:[{key:10,text:10},{key:20,text:20},{key:50,text:50},{key:100,text:100}]}),n.createElement(H,{name:"Get float values automatically",id:"autoFloatMarket",type:"flipSwitchStorage",description:"Loads float values to each item when on. It does not load float values if the csgofloat extension is present to avoid interference."}),n.createElement(H,{name:"Always expand float technical data",id:"marketAlwaysShowFloatTechnical",type:"flipSwitchStorage",description:"Always expands the float technical area on the float bar, making it easier to find exactly what you are looking for"}),n.createElement(H,{name:"Show float values only",id:"marketShowFloatValuesOnly",type:"flipSwitchStorage",description:"Don't show the float bar and technical details, only a simple float value on listings"}),n.createElement(H,{name:"Market listings default order",id:"marketListingsDefaultSorting",type:"select",description:"The order you want market listings to appear. Note: Floats will only be ordered once all values are loaded.",options:(()=>{const e=[];for(const t of Object.values(ee.vx))e.push({key:t.key,text:t.name});return e})()}),n.createElement(H,{name:"Original price",id:"marketOriginalPrice",type:"flipSwitchStorage",description:"Show the price of listings in the seller's currency too as well as what they will receive after fees."}),n.createElement(H,{name:"Reload listings on error",id:"reloadListingOnError",type:"flipSwitchStorage",description:"Reloads listings pages 5 seconds after they load if they don't load properly (load with an error message instead of the listings)."}),n.createElement(H,{name:"Show Real money/other market links on listings",id:"showRealMoneySiteLinks",type:"flipSwitchStorage",description:"Puts links to the Real Money marketplaces to market listings pages"}),n.createElement(H,{name:"Show instant buy button on market listings",id:"marketListingsInstantBuy",type:"flipSwitchStorage",description:"Adds an instant buy button to each listing that allows you to skip the purchase dialog"}),n.createElement(H,{name:"Market history events to show",id:"marketHistoryEventsToShow",type:"select",description:"The number of market history events you want to see when you open your market history",options:[{key:10,text:10},{key:20,text:20},{key:50,text:50}]}),n.createElement(H,{name:"Highlight seen listings",id:"highlightSeenListings",type:"flipSwitchStorage",description:"Highlights listings that you have already seen. Eliminates unnecessary work when looking for something."}),n.createElement(H,{name:'Show "Buy and Sell Orders (cumulative)"',id:"marketShowBuySellNonCommodity",type:"flipSwitchStorage",description:'Show "Buy and Sell Orders (cumulative)" chart for non-commodity items'}),n.createElement(H,{name:"Recent activity on non-commmodity",id:"marketShowRecentActivityNonCommodity",type:"flipSwitchStorage",description:"Show Recent activity on non-commodity items"}),n.createElement(H,{name:"Market outbid percentage",id:"outBidPercentage",type:"number",description:"Set how much you want to outbid market orders by on the market main page."}),n.createElement(H,{name:"Show years on market graphs",id:"showYearsOnMarketGraphs",type:"flipSwitchStorage",description:"Shows years on market graphs on market listings"}),n.createElement(H,{name:"Load prices on my listings and orders",id:"marketMainPagePricesAutoLoad",type:"flipSwitchStorage",description:"Load starting at prices of my listing and highest order prices for my orders on the market main page"}),n.createElement(H,{name:"Enchance stickers on market listings",id:"marketEnhanceStickers",type:"flipSwitchStorage",description:"Show nametags, stickers, sticker wear and sticker value below the on market listings"})),ne=()=>n.createElement(W,{title:"Popup"},n.createElement(H,{name:"Links to show",type:"linksToShow",id:"popupLinks",description:"Choose which links you want to see in the popup. 'Options' will always be there so you can come back and see this page. Links to be shown are in gold, links to be hidden are in white. Click it to switch visibility. You can also delete those that you have created before."}),n.createElement(H,{name:"Show offers on badge",type:"flipSwitchStorage",id:"showNumberOfOfferOnBadge",description:n.createElement(n.Fragment,null,"Shows the number of incoming offers you have on the extension badge",n.createElement($,null))}),n.createElement(H,{name:"Default converter currencies",type:"doubleSelect",id:["defaultConverterCurrency1","defaultConverterCurrency2"],description:"The currencies to be selected by default in the currency converter",options:(()=>{const e=[];for(const t of Object.values(Q.QT))e.push({key:t.short,text:`${t.short} - ${t.long}`});return e})()}),n.createElement(H,{name:"Default currency conversion value",type:"number",id:"calculatorConversionPlaceholder",description:"The default placeholder value that appears in the currency conversion input"}),n.createElement(H,{name:"Default percentage in the percentage calculator",type:"number",id:"calculatorPercentagePercentage",description:"The default placeholder value that appears as the percentage in the percentage calculator"}),n.createElement(H,{name:'Default "percentage of" in the percentage calculator',type:"number",id:"calculatorPercentageOf",description:'The default placeholder value that appears as the "percentage of" in the percentage calculator'}),n.createElement(H,{name:"Default percentage in the reverse percentage calculator",type:"number",id:"calculatorReversePercentage",description:"The default placeholder value that appears as the percentage in the reverse percentage calculator"}),n.createElement(H,{name:'Default "percentage of" in the reverse percentage calculator',type:"number",id:"calculatorReverseValue",description:'The default placeholder value that appears as the "percentage of" in the reverse percentage calculator'}),n.createElement(H,{name:"Default percentage in the Increment/Decrement calculator",type:"number",id:"calculatorIncDecPercentage",description:"The default placeholder value that appears as the percentage in the Increment/Decrement calculator"}),n.createElement(H,{name:'Default "result" in the Increment/Decrement calculator',type:"number",id:"calculatorIncDecResult",description:'The default placeholder value that appears as the "result" in the Increment/Decrement calculator'})),oe=()=>n.createElement(W,{title:"Profile"},n.createElement(H,{name:'Show "+rep" button',id:"showPlusRepButton",type:"flipSwitchStorage",description:'Puts a "+rep" button on profiles which when pressed comments your reputation message'}),n.createElement(H,{name:"Reputation message",id:"reputationMessage",type:"modalTextBox",description:'The content of the comment you want posted on someone\'s profile when the "+rep" button is pressed, defaults to simply "+rep"',modalTitle:"Enter your reputation message key here"}),n.createElement(H,{name:'Show "Reocc" button',id:"showReoccButton",type:"flipSwitchStorage",description:'Puts a "Reocc" button on your own profile which when pressed comments your reoccuring message'}),n.createElement(H,{name:"Reoccuring message",id:"reoccuringMessage",type:"modalTextBox",description:'The content of the comment you want posted on your profile when the "Reocc" button is pressed, \n          defaults to "I don\'t have other accounts. If someone adds you with my name and picture they are scammers."',modalTitle:"Enter your reoccuring message key here"}),n.createElement(H,{name:"NSFW",id:"nsfwFilter",type:"flipSwitchStorage",description:"When enabled, it removes pretty much all images on profiles. Ideal for work and school environment - when you want to avoid anime boobs showing on your screen."}),n.createElement(H,{name:"Remove animated profile backgrounds",id:"removeAnimatedProfileBackgrounds",type:"flipSwitchStorage",description:"When enabled, it removes animated profile backgrounds from profiles. They can be quite annoying and can cause performance issues."}),n.createElement(H,{name:"Show real status",id:"showRealStatus",type:"flipSwitchStorage",description:n.createElement(n.Fragment,null,"Shows users' real chat status on their profile - if they are away it will show away.",n.createElement($,null))})),re=()=>n.createElement(W,{title:"Trade Offer"},n.createElement(H,{name:"Load RealTime prices",id:"realTimePricesAutoLoadOffer",type:"flipSwitchStorage",description:"Adds RealTime prices to items on trade offer pages"}),n.createElement(H,{name:"Quick decline offers",id:"quickDeclineOffer",type:"flipSwitchStorage",description:'Clicking "decline trade" on the trade offers page declines the trade offer without the confirmation dialog popping up'}),n.createElement(H,{name:"Open trade window as a tab",id:"openOfferInTab",type:"flipSwitchStorage",description:"The trade window opens in a neat new tab instead of the annoying separate small window, especially useful when there is no mouse to middle-click (when on laptop or mobile)"}),n.createElement(H,{name:"Make icons larger",id:"tradeOffersLargerItems",type:"flipSwitchStorage",description:"Makes your own items' icon larger - making it the same size as the other party's items at the trade offers page. Recommended to have this on, so all additional info fits on them properly."}),n.createElement(H,{name:"Default sorting mode",id:"offerSortingMode",type:"select",description:"Specifies what method the items in an trade offer should be sorted by",options:(()=>{const e=[];for(const t of Object.values(ee.PE))e.push({key:t.key,text:t.name});return e})()}),n.createElement(H,{name:"Switch to other inventory",id:"switchToOtherInventory",type:"flipSwitchStorage",description:"When on, it makes the other party's inventory the active one by default when trade offers load"}),n.createElement(H,{name:"Get float values automatically",id:"autoFloatOffer",type:"flipSwitchStorage",description:"Loads float values to each item when on"}),n.createElement(H,{name:"Default offer sorting mode",id:"tradeOffersSortingMode",type:"select",description:"Specifies the default trade offer sorting mode on the incoming trade offers page",options:(()=>{const e=[];for(const t of Object.values(ee.jc))e.push({key:t.key,text:t.name});return e})()}),n.createElement(H,{name:"Show partner history",id:"tradeHistoryOffers",type:"flipSwitchStorage",description:n.createElement(n.Fragment,null,"Show the number of offers received from a user and how many was sent to them (on the tradeoffers and the individual offer pages)",n.createElement($,null))}),n.createElement(H,{name:"Mark items in other offers",id:"itemInOtherOffers",type:"flipSwitchStorage",description:n.createElement(n.Fragment,null,"Shows an indicator on the items if they are in present in other trade offers. Clicking the indicator adds links to the other offers it is present in.",n.createElement($,null))}),n.createElement(H,{name:"Offer header to left",id:"tradeOfferHeaderToLeft",type:"flipSwitchStorage",description:"Moves the trade offer header to the left on wide screens, saving you some scrolling"}),n.createElement(H,{name:"Show exteriors on items",id:"showShortExteriorsOffers",type:"flipSwitchStorage",description:"Adds short exteriors to each item to the top right corner as well as marks them stattrak or souvenir"}),n.createElement(H,{name:"Click 'Change Offer' automatically",id:"clickChangeOfferAutomatically",type:"flipSwitchStorage",description:"Clicks the button 'Change Offer' automatically so you don't have to when trying to add items to the trade for a counter offer"}),n.createElement(H,{name:"Offer message presets",id:"offerPresetMessages",type:"arrayOfStrings",description:"Add your messages to show up as options to select in offers",maxMessageLength:128}),n.createElement(H,{name:"Disable cancel escrowed trades",id:"disableCancelEscrowedTrades",type:"flipSwitchStorage",description:"Removes the CANCELL ALL OUTSTANDING TRADES button from the trade offers page"}),n.createElement(H,{name:"Fix trade link tokens",id:"fixTradeURLToken",type:"flipSwitchStorage",description:"Steam trade links are buggy when opened from Steam pages, this feature fixes that."}),n.createElement(H,{name:"Pricempire lookup",id:"tradeOfferPricEmpireAction",type:"flipSwitchStorage",description:"Show Pricempire lookup action in trade offers"}),n.createElement(H,{name:"Buff lookup",id:"tradeOfferBuffAction",type:"flipSwitchStorage",description:"Show Buff lookup action in trade offers"}));var ie=a(2301),se=a(4317);const le=({eventType:e,ruleApplied:t})=>n.createElement("span",{title:se.uS[e].description},se.uS[e].pretty,void 0!==t&&0!==t?` by rule ${t}`:""),ce=({events:e})=>{const[t,a]=(0,n.useState)(!1);return n.createElement("table",{className:"spacedTable"},n.createElement("thead",null,n.createElement("tr",null,n.createElement("th",null,"User"),n.createElement("th",null,"Event"),n.createElement("th",null,"Time"))),n.createElement("tbody",null,e.map(((e,a)=>t||!t&&a<15?n.createElement("tr",{key:e.steamID+e.type+e.timestamp},n.createElement("td",null,n.createElement(v.Z,{to:`https://steamcommunity.com/profiles/${e.steamID}`},e.username)),n.createElement("td",null,n.createElement(le,{eventType:e.type,ruleApplied:e.rule})),n.createElement("td",{title:(0,ie.pJ)(e.timestamp/1e3)},(0,ie.cd)(e.timestamp/1e3))):null)),n.createElement("tr",null,n.createElement("td",{colSpan:"3",className:"center"},n.createElement(N.Z,{action:()=>{a(!t)},title:"Show All Invite Events form the past week",id:"showAll",className:"golden"},"Show All")))))},me=({events:e})=>{let t=0,a=0,o=0,r=0;const i=Date.now();return e.forEach((e=>{if((i-e.timestamp)/1e3<86400)switch(e.type){case se.uS.new.key:t+=1;break;case se.uS.auto_ignored.key:a+=1;break;case se.uS.auto_accepted.key:o+=1;break;case se.uS.auto_blocked.key:r+=1}})),n.createElement("div",{className:"mb-3 font-size--s container"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-5"},n.createElement("b",null,"Received:")," ",t),n.createElement("div",{className:"col-5"},n.createElement("b",null,"Auto-ignored:")," ",a)),n.createElement("div",{className:"row"},n.createElement("div",{className:"col-5"},n.createElement("b",null,"Auto-Accepted:")," ",o),n.createElement("div",{className:"col-5"},n.createElement("b",null,"Auto-Blocked:")," ",r)))},de=()=>{const[e,t]=(0,n.useState)([]),a=()=>{chrome.storage.local.get(["friendRequestLogs"],(({friendRequestLogs:e})=>{t(e.reverse())}))};return(0,n.useEffect)((()=>{a();const e=setInterval((()=>{a()}),6e4);return()=>clearInterval(e)}),[]),n.createElement("div",{className:"col-6"},n.createElement("h5",null,"Friend Request History"),n.createElement("h6",null,"Summary of the past 24 hours"),n.createElement(me,{events:e}),n.createElement("h6",null,"Friend requests event history"),n.createElement("div",{className:"mb-3 font-size--s"},"Friend request events recorded or generated by the extension from the past week."),n.createElement(ce,{events:e}))},ue=[{Code:"AF",Name:"Afghanistan"},{Code:"AX",Name:"Åland Islands"},{Code:"AL",Name:"Albania"},{Code:"DZ",Name:"Algeria"},{Code:"AS",Name:"American Samoa"},{Code:"AD",Name:"Andorra"},{Code:"AO",Name:"Angola"},{Code:"AI",Name:"Anguilla"},{Code:"AQ",Name:"Antarctica"},{Code:"AG",Name:"Antigua and Barbuda"},{Code:"AR",Name:"Argentina"},{Code:"AM",Name:"Armenia"},{Code:"AW",Name:"Aruba"},{Code:"AU",Name:"Australia"},{Code:"AT",Name:"Austria"},{Code:"AZ",Name:"Azerbaijan"},{Code:"BS",Name:"Bahamas"},{Code:"BH",Name:"Bahrain"},{Code:"BD",Name:"Bangladesh"},{Code:"BB",Name:"Barbados"},{Code:"BY",Name:"Belarus"},{Code:"BE",Name:"Belgium"},{Code:"BZ",Name:"Belize"},{Code:"BJ",Name:"Benin"},{Code:"BM",Name:"Bermuda"},{Code:"BT",Name:"Bhutan"},{Code:"BO",Name:"Bolivia, Plurinational State of"},{Code:"BQ",Name:"Bonaire, Sint Eustatius and Saba"},{Code:"BA",Name:"Bosnia and Herzegovina"},{Code:"BW",Name:"Botswana"},{Code:"BV",Name:"Bouvet Island"},{Code:"BR",Name:"Brazil"},{Code:"IO",Name:"British Indian Ocean Territory"},{Code:"BN",Name:"Brunei Darussalam"},{Code:"BG",Name:"Bulgaria"},{Code:"BF",Name:"Burkina Faso"},{Code:"BI",Name:"Burundi"},{Code:"KH",Name:"Cambodia"},{Code:"CM",Name:"Cameroon"},{Code:"CA",Name:"Canada"},{Code:"CV",Name:"Cape Verde"},{Code:"KY",Name:"Cayman Islands"},{Code:"CF",Name:"Central African Republic"},{Code:"TD",Name:"Chad"},{Code:"CL",Name:"Chile"},{Code:"CN",Name:"China"},{Code:"CX",Name:"Christmas Island"},{Code:"CC",Name:"Cocos (Keeling) Islands"},{Code:"CO",Name:"Colombia"},{Code:"KM",Name:"Comoros"},{Code:"CG",Name:"Congo"},{Code:"CD",Name:"Congo, the Democratic Republic of the"},{Code:"CK",Name:"Cook Islands"},{Code:"CR",Name:"Costa Rica"},{Code:"CI",Name:"Côte d'Ivoire"},{Code:"HR",Name:"Croatia"},{Code:"CU",Name:"Cuba"},{Code:"CW",Name:"Curaçao"},{Code:"CY",Name:"Cyprus"},{Code:"CZ",Name:"Czech Republic"},{Code:"DK",Name:"Denmark"},{Code:"DJ",Name:"Djibouti"},{Code:"DM",Name:"Dominica"},{Code:"DO",Name:"Dominican Republic"},{Code:"EC",Name:"Ecuador"},{Code:"EG",Name:"Egypt"},{Code:"SV",Name:"El Salvador"},{Code:"GQ",Name:"Equatorial Guinea"},{Code:"ER",Name:"Eritrea"},{Code:"EE",Name:"Estonia"},{Code:"ET",Name:"Ethiopia"},{Code:"FK",Name:"Falkland Islands (Malvinas)"},{Code:"FO",Name:"Faroe Islands"},{Code:"FJ",Name:"Fiji"},{Code:"FI",Name:"Finland"},{Code:"FR",Name:"France"},{Code:"GF",Name:"French Guiana"},{Code:"PF",Name:"French Polynesia"},{Code:"TF",Name:"French Southern Territories"},{Code:"GA",Name:"Gabon"},{Code:"GM",Name:"Gambia"},{Code:"GE",Name:"Georgia"},{Code:"DE",Name:"Germany"},{Code:"GH",Name:"Ghana"},{Code:"GI",Name:"Gibraltar"},{Code:"GR",Name:"Greece"},{Code:"GL",Name:"Greenland"},{Code:"GD",Name:"Grenada"},{Code:"GP",Name:"Guadeloupe"},{Code:"GU",Name:"Guam"},{Code:"GT",Name:"Guatemala"},{Code:"GG",Name:"Guernsey"},{Code:"GN",Name:"Guinea"},{Code:"GW",Name:"Guinea-Bissau"},{Code:"GY",Name:"Guyana"},{Code:"HT",Name:"Haiti"},{Code:"HM",Name:"Heard Island and McDonald Islands"},{Code:"VA",Name:"Holy See (Vatican City State)"},{Code:"HN",Name:"Honduras"},{Code:"HK",Name:"Hong Kong"},{Code:"HU",Name:"Hungary"},{Code:"IS",Name:"Iceland"},{Code:"IN",Name:"India"},{Code:"ID",Name:"Indonesia"},{Code:"IR",Name:"Iran, Islamic Republic of"},{Code:"IQ",Name:"Iraq"},{Code:"IE",Name:"Ireland"},{Code:"IM",Name:"Isle of Man"},{Code:"IL",Name:"Israel"},{Code:"IT",Name:"Italy"},{Code:"JM",Name:"Jamaica"},{Code:"JP",Name:"Japan"},{Code:"JE",Name:"Jersey"},{Code:"JO",Name:"Jordan"},{Code:"KZ",Name:"Kazakhstan"},{Code:"KE",Name:"Kenya"},{Code:"KI",Name:"Kiribati"},{Code:"KP",Name:"Korea, Democratic People's Republic of"},{Code:"KR",Name:"Korea, Republic of"},{Code:"KW",Name:"Kuwait"},{Code:"KG",Name:"Kyrgyzstan"},{Code:"LA",Name:"Lao People's Democratic Republic"},{Code:"LV",Name:"Latvia"},{Code:"LB",Name:"Lebanon"},{Code:"LS",Name:"Lesotho"},{Code:"LR",Name:"Liberia"},{Code:"LY",Name:"Libya"},{Code:"LI",Name:"Liechtenstein"},{Code:"LT",Name:"Lithuania"},{Code:"LU",Name:"Luxembourg"},{Code:"MO",Name:"Macao"},{Code:"MK",Name:"Macedonia, the Former Yugoslav Republic of"},{Code:"MG",Name:"Madagascar"},{Code:"MW",Name:"Malawi"},{Code:"MY",Name:"Malaysia"},{Code:"MV",Name:"Maldives"},{Code:"ML",Name:"Mali"},{Code:"MT",Name:"Malta"},{Code:"MH",Name:"Marshall Islands"},{Code:"MQ",Name:"Martinique"},{Code:"MR",Name:"Mauritania"},{Code:"MU",Name:"Mauritius"},{Code:"YT",Name:"Mayotte"},{Code:"MX",Name:"Mexico"},{Code:"FM",Name:"Micronesia, Federated States of"},{Code:"MD",Name:"Moldova, Republic of"},{Code:"MC",Name:"Monaco"},{Code:"MN",Name:"Mongolia"},{Code:"ME",Name:"Montenegro"},{Code:"MS",Name:"Montserrat"},{Code:"MA",Name:"Morocco"},{Code:"MZ",Name:"Mozambique"},{Code:"MM",Name:"Myanmar"},{Code:"NA",Name:"Namibia"},{Code:"NR",Name:"Nauru"},{Code:"NP",Name:"Nepal"},{Code:"NL",Name:"Netherlands"},{Code:"NC",Name:"New Caledonia"},{Code:"NZ",Name:"New Zealand"},{Code:"NI",Name:"Nicaragua"},{Code:"NE",Name:"Niger"},{Code:"NG",Name:"Nigeria"},{Code:"NU",Name:"Niue"},{Code:"NF",Name:"Norfolk Island"},{Code:"MP",Name:"Northern Mariana Islands"},{Code:"NO",Name:"Norway"},{Code:"OM",Name:"Oman"},{Code:"PK",Name:"Pakistan"},{Code:"PW",Name:"Palau"},{Code:"PS",Name:"Palestine, State of"},{Code:"PA",Name:"Panama"},{Code:"PG",Name:"Papua New Guinea"},{Code:"PY",Name:"Paraguay"},{Code:"PE",Name:"Peru"},{Code:"PH",Name:"Philippines"},{Code:"PN",Name:"Pitcairn"},{Code:"PL",Name:"Poland"},{Code:"PT",Name:"Portugal"},{Code:"PR",Name:"Puerto Rico"},{Code:"QA",Name:"Qatar"},{Code:"RE",Name:"Réunion"},{Code:"RO",Name:"Romania"},{Code:"RU",Name:"Russian Federation"},{Code:"RW",Name:"Rwanda"},{Code:"BL",Name:"Saint Barthélemy"},{Code:"SH",Name:"Saint Helena, Ascension and Tristan da Cunha"},{Code:"KN",Name:"Saint Kitts and Nevis"},{Code:"LC",Name:"Saint Lucia"},{Code:"MF",Name:"Saint Martin (French part)"},{Code:"PM",Name:"Saint Pierre and Miquelon"},{Code:"VC",Name:"Saint Vincent and the Grenadines"},{Code:"WS",Name:"Samoa"},{Code:"SM",Name:"San Marino"},{Code:"ST",Name:"Sao Tome and Principe"},{Code:"SA",Name:"Saudi Arabia"},{Code:"SN",Name:"Senegal"},{Code:"RS",Name:"Serbia"},{Code:"SC",Name:"Seychelles"},{Code:"SL",Name:"Sierra Leone"},{Code:"SG",Name:"Singapore"},{Code:"SX",Name:"Sint Maarten (Dutch part)"},{Code:"SK",Name:"Slovakia"},{Code:"SI",Name:"Slovenia"},{Code:"SB",Name:"Solomon Islands"},{Code:"SO",Name:"Somalia"},{Code:"ZA",Name:"South Africa"},{Code:"GS",Name:"South Georgia and the South Sandwich Islands"},{Code:"SS",Name:"South Sudan"},{Code:"ES",Name:"Spain"},{Code:"LK",Name:"Sri Lanka"},{Code:"SD",Name:"Sudan"},{Code:"SR",Name:"Suriname"},{Code:"SJ",Name:"Svalbard and Jan Mayen"},{Code:"SZ",Name:"Swaziland"},{Code:"SE",Name:"Sweden"},{Code:"CH",Name:"Switzerland"},{Code:"SY",Name:"Syrian Arab Republic"},{Code:"TW",Name:"Taiwan, Province of China"},{Code:"TJ",Name:"Tajikistan"},{Code:"TZ",Name:"Tanzania, United Republic of"},{Code:"TH",Name:"Thailand"},{Code:"TL",Name:"Timor-Leste"},{Code:"TG",Name:"Togo"},{Code:"TK",Name:"Tokelau"},{Code:"TO",Name:"Tonga"},{Code:"TT",Name:"Trinidad and Tobago"},{Code:"TN",Name:"Tunisia"},{Code:"TR",Name:"Turkey"},{Code:"TM",Name:"Turkmenistan"},{Code:"TC",Name:"Turks and Caicos Islands"},{Code:"TV",Name:"Tuvalu"},{Code:"UG",Name:"Uganda"},{Code:"UA",Name:"Ukraine"},{Code:"AE",Name:"United Arab Emirates"},{Code:"GB",Name:"United Kingdom"},{Code:"US",Name:"United States"},{Code:"UM",Name:"United States Minor Outlying Islands"},{Code:"UY",Name:"Uruguay"},{Code:"UZ",Name:"Uzbekistan"},{Code:"VU",Name:"Vanuatu"},{Code:"VE",Name:"Venezuela, Bolivarian Republic of"},{Code:"VN",Name:"Viet Nam"},{Code:"VG",Name:"Virgin Islands, British"},{Code:"VI",Name:"Virgin Islands, U.S."},{Code:"WF",Name:"Wallis and Futuna"},{Code:"EH",Name:"Western Sahara"},{Code:"YE",Name:"Yemen"},{Code:"ZM",Name:"Zambia"},{Code:"ZW",Name:"Zimbabwe"}],pe=({type:e,value:t,onValueChange:a})=>"number"===e?n.createElement("input",{type:"number",className:"numberInput numberInput__narrow",value:t,onChange:a}):"string"===e?n.createElement("input",{type:"text",value:t,onChange:a,className:"input"}):"country"===e?n.createElement("select",{value:t,onChange:a,className:"select-theme"},ue.map((e=>n.createElement("option",{value:e.Code,key:e.Code},e.Name)))):void 0,he=()=>{const e=[];for(const[t,a]of Object.entries(se.y8))e.push({key:t,name:a.pretty,desc:a.description});return e.map((e=>n.createElement("option",{key:e.key,value:e.key,title:e.desc},e.name)))},fe=()=>{const e=[];for(const[t,a]of Object.entries(se.Nw))e.push({key:t,name:a.pretty,desc:a.description});return e.map((e=>n.createElement("option",{key:e.key,value:e.key,title:e.desc},e.name)))},ge=({add:e})=>{const[t,a]=(0,n.useState)({condition:se.y8.profile_private.key,action:se.Nw.ignore.key,value:null,valueType:null});return n.createElement("div",null,n.createElement(N.Z,{action:()=>{const a=null===t.value?{type:t.condition}:{type:t.condition,value:t.value};e({active:!0,action:t.action,condition:a})},title:"Add new rule",className:"mx-3"},n.createElement(p.G,{icon:h.r8p})),n.createElement("select",{className:"select-theme",onChange:e=>{const n=e.target.value;a({...t,condition:n,value:se.y8[n].with_value?se.y8[n].default_value:null,valueType:se.y8[n].with_value?se.y8[n].value_type:null})},defaultValue:t.condition},n.createElement(he,null)),null!==t.value?n.createElement(pe,{type:t.valueType,value:t.value,onValueChange:e=>{a({...t,value:e.target.value})}}):null,n.createElement("select",{className:"select-theme",onChange:e=>{a({...t,action:e.target.value})},defaultValue:t.action},n.createElement(fe,null)))},ye=({type:e,value:t})=>(console.log(e),"streamrep_banned"!==e?n.createElement("span",{title:se.y8[e].description},se.y8[e].pretty,void 0!==t?` ${t}`:""):null),ve=({action:e})=>n.createElement("span",{title:se.Nw[e].description},se.Nw[e].pretty),Ee=({details:e,index:t,saveRuleState:a,removeRule:o,position:r,changeOrder:i})=>{const{active:s,condition:l,action:c}=e,m=n.createElement(N.Z,{action:()=>{i(t,-1)},title:"Move rule up"},n.createElement(p.G,{icon:h.mTx})),d=n.createElement(N.Z,{action:()=>{i(t,1)},title:"Move rule down"},n.createElement(p.G,{icon:h.ptq}));return n.createElement("tr",null,n.createElement("td",null,t+1,". ","top"===r?d:"bottom"===r?m:n.createElement(n.Fragment,null,m,d)),n.createElement("td",null,n.createElement(ye,{type:l.type,value:l.value})),n.createElement("td",null,n.createElement(ve,{action:c})),n.createElement("td",null,n.createElement("label",{className:"switch",title:"Switch the rule on or off"},n.createElement("input",{type:"checkbox",checked:s,onChange:()=>{a(t,!s)}}),n.createElement("span",{className:"slider round"}))),n.createElement("td",null,n.createElement(N.Z,{action:()=>{o(t)},title:"Remove rule"},n.createElement(p.G,{icon:h.$aW,className:"removeRule"}))))},Se=()=>{const[e,t]=(0,n.useState)([]),a=e=>{chrome.storage.local.set({friendRequestEvalRules:e},(()=>{t(e)}))},o=a=>{const n=e.filter(((e,t)=>t!==a));chrome.storage.local.set({friendRequestEvalRules:n},(()=>{t(n)}))},r=(a,n)=>{const o=e[a],r=[...e];r.splice(a,1),r.splice(a+n,0,o),chrome.storage.local.set({friendRequestEvalRules:r},(()=>{t(r)}))},i=(t,n)=>{const o=e.map(((e,a)=>a===t?{...e,active:n}:e));a(o)};return(0,n.useEffect)((()=>{chrome.storage.local.get(["friendRequestEvalRules"],(({friendRequestEvalRules:e})=>{t(e)}))}),[]),n.createElement("div",{className:"col-6"},n.createElement("h5",null,"Invite Rules"),n.createElement("div",{className:"mb-3 font-size--s"},n.createElement("span",null,"You can set your own rules for incoming friend requests to be evaluated by. The rules are evaluated in order, the first matching rule's action is applied. The feature only works if you are logged into Steam in this browser. It's useful for example to automatically ignore scammers."),n.createElement($,null)),n.createElement("table",{className:"spacedTable"},n.createElement("thead",null,n.createElement("tr",null,n.createElement("th",{title:"Rule number/order"},"Order"),n.createElement("th",{title:"Condition to match incoming invites"},"Condition"),n.createElement("th",{title:"What action should the extension take when the invite matches the condition?"},"Action"),n.createElement("th",{title:"Turn the individual rules on of off"},"State"))),n.createElement("tbody",null,e.map(((t,a)=>{const s=0===a?"top":a===e.length-1?"bottom":"middle";return n.createElement(Ee,{key:t.condition.type+t.condition.value+t.action+t.active,details:t,index:a,saveRuleState:i,removeRule:o,changeOrder:r,position:s})})))),n.createElement(ge,{add:t=>{a([...e,t])}}))};var we=a(4102),be=a(27);const Ne=e=>new Promise((t=>{const a=(0,be.mR)(e),n={},o=a.map((e=>`floatCache_${e}`));chrome.storage.local.get(o,(e=>{a.forEach((t=>{const a=e[`floatCache_${t}`];n[t]=null!=a?a.floatInfo:null})),(e=>{const t=(0,be.mR)(e).map((e=>`floatCache_${e}`));chrome.storage.local.get(t,(e=>{const t={};for(const[a,n]of Object.entries(e))n&&(n.lastUsed=Date.now(),n.used+=1,t[a]=n);chrome.storage.local.set(t,(()=>{}))}))})(a),t(n)}))}));var Ce=a(7146);const ke={CSGO:{appID:"730",name:"Counter-Strike: Global Offensive"},TF2:{appID:"440",name:"Team Fortress 2"},DOTA2:{appID:"570",name:"Dota 2"},STEAM:{appID:"753",name:"Steam"},RUST:{appID:"252490",name:"Rust"},Z1:{appID:"433850",name:"Z1 Battle Royale"}},Ie=e=>new Promise(((t,a)=>{chrome.storage.local.get(["itemPricing","prices","currency","exchangeRate","pricingProvider","pricingMode"],(({itemPricing:n,prices:o,currency:r,exchangeRate:i,pricingProvider:s,pricingMode:l})=>{const c=new Request(`https://steamcommunity.com/inventory/${e}/730/2/?l=english&count=2000`);fetch(c).then((e=>{if(e.ok)return e.json();a(e.statusText),console.log(`Error code: ${e.status} Status: ${e.statusText}`)})).then((c=>{if(c.success){const a=c.assets,m=c.descriptions,d=[];let u=0;const p={},h=[];a.forEach((e=>{h.push(e.assetid);const t=m.filter((t=>{if(e.classid===t.classid&&e.instanceid===t.instanceid)return t}))[0].market_hash_name;if(void 0===p[t]){const a=[e.assetid];p[t]={num:1,instances:a}}else p[t].num+=1,p[t].instances.push(e.assetid)})),Ne(h).then((c=>{a.forEach((t=>{const a=m.filter((e=>{if(t.classid===e.classid&&t.instanceid===e.instanceid)return e}))[0];if(a){const m=t.assetid,h=a.name,f=a.market_hash_name;let g="Tradable",y="T";const v=a.icon_url,S=h.includes("Doppler")||h.includes("doppler")?(0,be.oH)(v):null,w=(0,be._E)(a.descriptions,"direct",o,s,l,i,r),b=(0,be.bC)(a.descriptions,"direct",o,s,l,i,r),N=e;let C=null;const k=(0,be.oL)(a.tags);let I=null;void 0!==c[m]&&null!==c[m]&&Ce.Z[k.key].float&&(I=c[m]);const T=null!==I?(0,be.KB)(f,I.paintseed):null;n?(C=(0,E.aS)(f,S,o,s,l,i,r),u+=parseFloat(C.price)):C={price:"",display:""},0===a.tradable&&0===a.marketable&&(a.owner_descriptions?(g="Tradelocked",y="L"):(g="Not Tradable",y="")),d.push({name:h,market_hash_name:f,name_color:a.name_color,marketlink:(0,q.GN)(ke.CSGO.appID,f),appid:a.appid.toString(),contextid:"2",classid:a.classid,instanceid:a.instanceid,assetid:m,commodity:a.commodity,tradability:g,tradabilityShort:y,marketable:a.marketable,iconURL:v,dopplerInfo:S,exterior:(0,be.uW)(a.tags),inspectLink:(0,be.RB)(a,N,m),quality:(0,be.Ed)(a.tags),isStatrack:h.includes("StatTrak™"),isSouvenir:h.includes("Souvenir"),starInName:h.includes("★"),stickers:w,stickerPrice:(0,E.LH)(w,r),charms:b,charmPrice:(0,E.LH)(b,r),totalAddonPrice:(0,E.LH)([...w,...b],r),nametag:(0,be.DQ)(a),duplicates:p[f],owner:N,price:C,type:k,floatInfo:I,patternInfo:T,collection:(0,q._N)(a.descriptions)})}else console.log("Description not found for asset:"),console.log(t)}));const h=d.sort(((e,t)=>parseInt(t.assetid)-parseInt(e.assetid))),f=h.map(((e,t)=>({...e,position:t})));t({items:f,total:u})}))}else"This profile is private."===c.Error?a("inventory_private"):a(c.Error)})).catch((e=>{console.log(e),a(e)}))}))}));var Te=a(1425);const _e=(e,t)=>{chrome.storage.local.get(["steamIDOfUser","steamSessionID"],(({steamIDOfUser:a,steamSessionID:n})=>{const o=new Headers;o.append("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");const r=new Request(`https://steamcommunity.com/profiles/${a}/friends/action`,{method:"POST",headers:o,body:`sessionid=${n}&steamid=${a}&ajax=1&action=${t}&steamids%5B%5D=${e}`});fetch(r).then((e=>{if(e.ok)return e.json();console.log(`Error code: ${e.status} Status: ${e.statusText}`)})).then((e=>{e.success||console.log(e)})).catch((e=>{console.log(e)}))}))},Re=e=>{_e(e,"ignore_invite")},Me=e=>{_e(e,"accept")},Ae=e=>{_e(e,"block")},xe=e=>new Promise(((t,a)=>{(async()=>{await(0,q.Ej)([chrome.offscreen.Reason.DOM_PARSER],"dom parsing"),chrome.runtime.sendMessage({scrapeCommonFriends:e},(e=>{e.success?t(e.commonFriends):a(e.error)}))})()})),Pe=e=>{chrome.storage.local.get(["friendRequestLogs"],(({friendRequestLogs:t})=>{chrome.storage.local.set({friendRequestLogs:[...t,...e]},(()=>{}))}))},De=(e,t,a)=>{let n;switch(t){case se.Nw.accept.key:n=se.uS.auto_accepted.key;break;case se.Nw.ignore.key:n=se.uS.auto_ignored.key;break;case se.Nw.block.key:n=se.uS.auto_blocked.key;break;default:n=t}return{type:n,rule:a,steamID:e.steamID,username:e.name,timestamp:Date.now()}},Oe=()=>{chrome.storage.local.get(["friendRequests","friendRequestEvalRules"],(({friendRequests:e,friendRequestEvalRules:t})=>{const a=[],n=[],o=[];e.inviters.forEach((e=>{if(void 0===e.evaluation&&e.evalTries<5){const a=((e,t)=>{if(e.summary&&e.bans&&e.commonFriends&&void 0!==e.csgoInventoryValue&&e.pastRequests){for(const[a,n]of t.entries())if(n.active){if(n.condition.type===se.y8.all_users.key)return{action:n.action,appliedRule:a+1};if(n.condition.type===se.y8.profile_private.key&&1===e.summary.communityvisibilitystate)return{action:n.action,appliedRule:a+1};if(n.condition.type===se.y8.profile_public.key&&3===e.summary.communityvisibilitystate)return{action:n.action,appliedRule:a+1};if(n.condition.type===se.y8.steam_level_under.key&&parseInt(e.level)<=n.condition.value)return{action:n.action,appliedRule:a+1};if(n.condition.type===se.y8.steam_level_over.key&&parseInt(e.level)>n.condition.value)return{action:n.action,appliedRule:a+1};if(n.condition.type===se.y8.vac_banned.key&&e.bans.VACBanned)return{action:n.action,appliedRule:a+1};if(n.condition.type===se.y8.community_banned.key&&e.bans.CommunityBanned)return{action:n.action,appliedRule:a+1};if(n.condition.type===se.y8.game_banned.key&&0!==e.bans.NumberOfGameBans)return{action:n.action,appliedRule:a+1};if(n.condition.type===se.y8.trade_banned.key&&("banned"===e.bans.EconomyBan||"probation"===e.bans.EconomyBan))return{action:n.action,appliedRule:a+1};if(n.condition.type===se.y8.csgo_inventory_value_under.key&&"inventory_private"!==e.csgoInventoryValue&&e.csgoInventoryValue<=n.condition.value)return{action:n.action,appliedRule:a+1};if(n.condition.type===se.y8.csgo_inventory_value_over.key&&"inventory_private"!==e.csgoInventoryValue&&e.csgoInventoryValue>n.condition.value)return{action:n.action,appliedRule:a+1};if(n.condition.type===se.y8.inventory_private.key&&"inventory_private"===e.csgoInventoryValue)return{action:n.action,appliedRule:a+1};if(n.condition.type===se.y8.common_friends_over.key&&e.commonFriends.length>n.condition.value)return{action:n.action,appliedRule:a+1};if(n.condition.type===se.y8.common_friends_under.key&&e.commonFriends.length<=n.condition.value)return{action:n.action,appliedRule:a+1};if(n.condition.type===se.y8.name_includes.key&&e.name.toLowerCase().includes(n.condition.value))return{action:n.action,appliedRule:a+1};if(n.condition.type===se.y8.request_received.key&&null!==e.pastRequests&&e.pastRequests>1)return{action:n.action,appliedRule:a+1};if(n.condition.type===se.y8.from_country.key&&e.summary.loccountrycode===n.condition.value)return{action:n.action,appliedRule:a+1}}return{action:se.Nw.no_action.key,appliedRule:0}}return null})(e,t);null!==a?(((e,t)=>{switch(t){case se.Nw.ignore.key:Re(e.steamID);break;case se.Nw.block.key:Ae(e.steamID);break;case se.Nw.accept.key:Me(e.steamID)}})(e,a.action),n.push(De(e,a.action,a.appliedRule)),a.action===se.Nw.no_action.key&&o.push({...e,evalTries:e.evalTries+1,evaluation:a})):o.push({...e,evalTries:e.evalTries+1})}else a.push(e)})),chrome.storage.local.set({friendRequests:{inviters:[...a,...o],lastUpdated:Date.now()}},(()=>{})),Pe(n)}))},Fe=()=>{new Promise(((e,t)=>{(async()=>{await(0,q.Ej)([chrome.offscreen.Reason.DOM_PARSER],"dom parsing"),chrome.runtime.sendMessage({scrapeFriendRequests:"scrapeFriendRequests"},(a=>{a.success?((0,Te.fo)(!1),e(a.invites)):("loggedOut"===a.error&&(0,Te.fo)(!0),t(a.error))}))})()})).then((e=>{const t=e.map((e=>e.steamID));chrome.storage.local.get(["monitorFriendRequests","friendRequests","apiKeyValid","notifyOnFriendRequest"],(({monitorFriendRequests:a,friendRequests:n,apiKeyValid:o,notifyOnFriendRequest:r})=>{if(a){const a=(Date.now()-new Date(n.lastUpdated))/1e3/60;if(e.length>0||0===n.inviters.length||n.inviters.length<2&&a<31||a>61){const a=n.inviters.map((e=>e.steamID)),i=n.inviters.filter((e=>!t.includes(e.steamID))).map((e=>De(e,se.uS.disappeared.key))),s=e.filter((e=>!a.includes(e.steamID))),l=n.inviters.filter((e=>t.includes(e.steamID)));chrome.storage.local.set({friendRequests:{inviters:[...l,...s],lastUpdated:Date.now()}},(()=>{r&&s.forEach((e=>{let t="/images/cstlogo128.png";(0,be.Uv)(e.avatar).then((e=>{t=e})).catch((e=>{console.log(e)})).finally((()=>{chrome.notifications.create(`invite_${e.steamID}`,{type:"basic",iconUrl:t,title:`Friend request from ${e.name}`,message:`You have a new friend request from ${e.name}!`},(()=>{(0,Te.s_)()}))}))})),o&&(chrome.storage.local.get(["friendRequests"],(({friendRequests:e})=>{const t=[],a=[],n=[];e.inviters.forEach((e=>{void 0===e.summary?(a.push(e),n.push(e.steamID)):t.push(e)})),n.length>0&&(0,we.l)(n).then((e=>{const n=a.map((t=>({...t,summary:e[t.steamID]})));chrome.storage.local.set({friendRequests:{inviters:[...t,...n],lastUpdated:Date.now()}},(()=>{}))}))})),setTimeout((()=>{chrome.storage.local.get(["friendRequests"],(({friendRequests:e})=>{const t=[],a=[],n=[];e.inviters.forEach((e=>{void 0===e.bans?(a.push(e),n.push(e.steamID)):t.push(e)})),n.length>0&&(0,we.k)(n).then((e=>{const n=a.map((t=>({...t,bans:e[t.steamID]})));chrome.storage.local.set({friendRequests:{inviters:[...t,...n],lastUpdated:Date.now()}},(()=>{}))}))}))}),5e3),setTimeout((()=>{chrome.storage.local.get(["friendRequests"],(({friendRequests:e})=>{const t=[],a=[];e.inviters.forEach((e=>{void 0===e.csgoInventoryValue?a.push(e):t.push(e)}));const n=[];for(const[e,t]of a.entries()){if(!(e<2))break;Ie(t.steamID).then((({total:e})=>{n.push({...t,csgoInventoryValue:e})})).catch((e=>{"inventory_private"!==e&&"inventory_private"!==e||n.push({...t,csgoInventoryValue:"inventory_private"})}))}setTimeout((()=>{const e=n.map((e=>e.steamID)),o=a.filter((t=>!e.includes(t.steamID)));chrome.storage.local.set({friendRequests:{inviters:[...t,...o,...n],lastUpdated:Date.now()}},(()=>{}))}),4e3)}))}),15e3),setTimeout((()=>{chrome.storage.local.get(["friendRequests"],(({friendRequests:e})=>{const t=[],a=[];e.inviters.forEach((e=>{void 0===e.commonFriends?a.push(e):t.push(e)}));const n=[];for(const[e,t]of a.entries()){if(!(e<5))break;xe(t.accountID).then((e=>{n.push({...t,commonFriends:e})})).catch((e=>{console.log(e),n.push({...t,commonFriends:[]})}))}setTimeout((()=>{const e=n.map((e=>e.steamID)),o=a.filter((t=>!e.includes(t.steamID)));chrome.storage.local.set({friendRequests:{inviters:[...t,...o,...n],lastUpdated:Date.now()}},(()=>{}))}),4e3)}))}),2e4),setTimeout((()=>{chrome.storage.local.get(["friendRequests","friendRequestLogs"],(({friendRequests:e,friendRequestLogs:t})=>{const a=[],n=[];e.inviters.forEach((e=>{void 0===e.pastRequests?n.push(e):a.push(e)}));const o=n.map((e=>{let a=0;return t.forEach((t=>{t.steamID===e.steamID&&t.type===se.uS.new.key&&(a+=1)})),{...e,pastRequests:a}}));chrome.storage.local.set({friendRequests:{inviters:[...a,...o],lastUpdated:Date.now()}},(()=>{}))}))}),25e3),setTimeout((()=>{Oe()}),26e3))}));const c=s.map((e=>De(e,se.uS.new.key)));Pe([...c,...i])}}}))})).catch((e=>{console.log(e)}))},Le=({details:e,currency:t,index:a,remove:o})=>{const[r,i]=(0,n.useState)({offers_received:0,offers_sent:0,last_received:0,last_sent:0});(0,n.useEffect)((()=>{chrome.storage.local.get([`offerHistory_${e.steamID}`],(t=>{const a=t[`offerHistory_${e.steamID}`];a&&i(a)}))}),[]);const s=e.csgoInventoryValue&&"private"!==e.csgoInventoryValue?(0,E.dD)(t.short,parseInt(e.csgoInventoryValue)):"-";return n.createElement("tr",null,n.createElement("td",null,n.createElement(v.Z,{to:`https://steamcommunity.com/profiles/${e.steamID}`},e.name),n.createElement(N.Z,{action:()=>(0,be.vQ)(e.name),title:"Copy name to clipboard",className:"mx-1"},n.createElement(p.G,{icon:h.Yjj}))),n.createElement("td",null,e.level),n.createElement("td",null,e.summary&&e.summary.loccountrycode?n.createElement("img",{src:`https://steamcommunity-a.akamaihd.net/public/images/countryflags/${e.summary.loccountrycode.toLowerCase()}.gif`,alt:`${e.summary.loccountrycode} flag`,title:`${e.summary.loccountrycode} flag`}):""),n.createElement("td",null,void 0!==e.commonFriends?e.commonFriends.length:"-"),n.createElement("td",null,e.summary?1===e.summary.profilestate?"Public":"Private":""),n.createElement("td",null,n.createElement(v.Z,{to:`https://steamcommunity.com/profiles/${e.steamID}/inventory/`},s)),n.createElement("td",null,n.createElement("span",{title:`Last: ${(0,ie.cd)(r.last_received)}`},"Received: ",r.offers_received)," ",n.createElement("span",{title:`Last: ${(0,ie.cd)(r.last_sent)}`},"Sent: ",r.offers_sent)),n.createElement("td",null,(e=>{if(e){let t="";return e.CommunityBanned&&(t+="Community banned\n"),"banned"!==e.EconomyBan&&"probation"!==e.EconomyBan||(t+="Trade banned\n"),0!==e.NumberOfGameBans&&(t+="Game banned\n"),e.VACBanned&&(t+="VAC banned\n"),""===t&&(t="No bans"),t}return"Could not load ban info"})(e.bans)),n.createElement("td",null,n.createElement(N.Z,{action:()=>{Me(e.steamID),o(a),Fe()},title:"Accept friend request",className:"mx-1"},n.createElement(p.G,{icon:h.FKd})),n.createElement(N.Z,{action:()=>{Re(e.steamID),o(a),Fe()},title:"Ignore friend request",className:"mx-1"},n.createElement(p.G,{icon:h.k9h})),n.createElement(N.Z,{action:()=>{Ae(e.steamID),o(a),Fe()},title:"Block friend request",className:"mx-1"},n.createElement(p.G,{icon:h.wOQ}))),n.createElement("td",null,e.evalTries))},Be=()=>{const[e,t]=(0,n.useState)([]),[a,o]=(0,n.useState)(Q.QT.USD),[r,i]=(0,n.useState)("invent_value_desc"),s=a=>{const n=e.filter(((e,t)=>t!==a));t(n)},l=(a,n=e)=>{let o=[];"level_asc"===a?o=n.sort(((e,t)=>e.level-t.level)):"level_desc"===a?o=n.sort(((e,t)=>t.level-e.level)):"name_asc"===a?o=n.sort(((e,t)=>{const a=e.name.toLowerCase(),n=t.name.toLowerCase();return a<n?-1:a>n?1:0})):"name_desc"===a?o=n.sort(((e,t)=>{const a=e.name.toLowerCase(),n=t.name.toLowerCase();return a>n?-1:a<n?1:0})):"friends_asc"===a?o=n.sort(((e,t)=>e.commonFriends.length-t.commonFriends.length)):"friends_desc"===a?o=n.sort(((e,t)=>t.commonFriends.length-e.commonFriends.length)):"invent_value_asc"===a?o=n.sort(((e,t)=>e.csgoInventoryValue-t.csgoInventoryValue)):"invent_value_desc"===a&&(o=n.sort(((e,t)=>t.csgoInventoryValue-e.csgoInventoryValue))),i(a),t(o)},c=()=>{chrome.storage.local.get(["friendRequests","currency"],(({friendRequests:e,currency:t})=>{o(Q.QT[t]),l(r,e.inviters)}))};return(0,n.useEffect)((()=>{c();const e=setInterval((()=>{c()}),6e4);return()=>clearInterval(e)}),[]),n.createElement("div",{className:"my-5"},n.createElement("h5",null,"Incoming Friend Requests (",e.length,")"),0===e.length?n.createElement("div",null,"You don't have any incoming requests at this time."):n.createElement("table",{className:"spacedTable"},n.createElement("thead",null,n.createElement("tr",null,n.createElement("th",{title:"Order by Steam username of requester at the time of the extension noticing the invite",className:"clickAbleColumnHeader",onClick:()=>{l("name_asc"!==r?"name_asc":"name_desc")}},"Username"),n.createElement("th",{title:"Order by the user's Steam profile level",className:"clickAbleColumnHeader",onClick:()=>{l("level_desc"!==r?"level_desc":"level_asc")}},"Steam Level"),n.createElement("th",{title:"The country the user has set on their Steam profile"},"Country"),n.createElement("th",{title:"Order by how many common friends you and this user has",className:"clickAbleColumnHeader",onClick:()=>{l("friends_desc"!==r?"friends_desc":"friends_asc")}},"Common Friends"),n.createElement("th",{title:"The user's Steam community profile's privacy state"},"Profile"),n.createElement("th",{title:"Sort by the user's CS2 inventory value",className:"clickAbleColumnHeader",onClick:()=>{l("invent_value_desc"!==r?"invent_value_desc":"invent_value_asc")}},"Inventory Value"),n.createElement("th",{title:"Your trade offer history with the user"},"Offers"),n.createElement("th",{title:"The summary of the users's bans"},"Bans"),n.createElement("th",{title:"Accept, ignore or block the user's request"},"Actions"),n.createElement("th",{title:"The extension retries to gather all information for the friend request to be evaluated, this is the count of the retries"},"Evals"))),n.createElement("tbody",null,e.map(((e,t)=>n.createElement(Le,{key:e.steamID,details:e,index:t,currency:a,remove:s}))))))},Ge=()=>n.createElement(W,{title:"Friends, Groups and Invites"},n.createElement(H,{name:"Ignore group invites",id:"ignoreGroupInvites",type:"flipSwitchStorage",description:"Ignore all Steam group invites automatically"}),n.createElement(H,{name:"Monitor friend requests",id:"monitorFriendRequests",type:"flipSwitchStorage",description:"Incoming friend requests are checked every 5 minutes. If you have the extension installed on multiple computers you might want to turn it off in some of them to save requests to Steam."}),n.createElement(H,{name:"Notify about friend requests",id:"notifyOnFriendRequest",type:"flipSwitchStorage",description:"You will receive browser notifications about new friend request, friend requests must be monitored for this to work"}),n.createElement("div",{className:"row"},n.createElement(Se,null),n.createElement(de,null),n.createElement(Be,null))),qe=()=>n.createElement(W,{title:"Web Chat"},n.createElement(H,{name:"Remove Steam header",id:"removeWebChatHeader",type:"flipSwitchStorage",description:"Removes the Steam header that takes up a lot of space on the web chat page."}),n.createElement(H,{name:"Show chat message presets",id:"showChatPresetMessages",type:"flipSwitchStorage",description:"Show the chat message presets by the text input field"}),n.createElement(H,{name:"Chat message presets",id:"chatPresetMessages",type:"arrayOfStrings",description:"Add your messages to show up as options to send",maxMessageLength:5e3}));var Ke=a(6561);const Ue=({type:e,value:t})=>n.createElement("span",{title:Ke.y8[e].description},Ke.y8[e].pretty,n.createElement("span",{className:"offerConditionValue"},void 0!==t?` ${t}`:"")),Ve=({operator:e})=>void 0!==e?n.createElement("strong",{title:Ke.Gn[e].description},Ke.Gn[e].pretty):null,He=({conditions:e,operators:t})=>n.createElement(n.Fragment,null,e.map(((e,a)=>n.createElement("span",{key:e.type},n.createElement(Ue,{type:e.type,value:e.value})," ",n.createElement(Ve,{operator:t[a]})," ")))),We=({action:e})=>n.createElement("span",{title:Ke.Nw[e].description},Ke.Nw[e].pretty),Ze=({details:e,index:t,saveRuleState:a,removeRule:o,position:r,changeOrder:i})=>{const{active:s,conditions:l,action:c,operators:m}=e,d=n.createElement(N.Z,{action:()=>{i(t,-1)},title:"Move rule up"},n.createElement(p.G,{icon:h.mTx})),u=n.createElement(N.Z,{action:()=>{i(t,1)},title:"Move rule down"},n.createElement(p.G,{icon:h.ptq}));return n.createElement("tr",null,n.createElement("td",null,t+1,". ","top"===r?u:"bottom"===r?d:n.createElement(n.Fragment,null,d,u)),n.createElement("td",null,n.createElement(He,{conditions:l,operators:m})),n.createElement("td",null,n.createElement(We,{action:c})),n.createElement("td",null,n.createElement("label",{className:"switch",title:"Switch the rule on or off"},n.createElement("input",{type:"checkbox",checked:s,onChange:()=>{a(t,!s)}}),n.createElement("span",{className:"slider round"}))),n.createElement("td",null,n.createElement(N.Z,{action:()=>{o(t)},title:"Remove rule"},n.createElement(p.G,{icon:h.$aW,className:"removeRule"}))))},ze=({type:e,value:t,onValueChange:a})=>{if(Ke.y8[e].with_value){if("number"===Ke.y8[e].value_type)return n.createElement("input",{type:"number",className:"numberInput numberInput__narrow",value:t,onChange:a});if("string"===Ke.y8[e].value_type)return n.createElement("input",{type:"text",value:t,onChange:a,className:"input"})}return null},$e=()=>{const e=[];for(const[t,a]of Object.entries(Ke.y8))e.push({key:t,name:a.pretty,desc:a.description});return e.map((e=>n.createElement("option",{key:e.key,value:e.key,title:e.desc},e.name)))},je=({type:e,value:t,index:a,onChange:o})=>n.createElement(n.Fragment,null,n.createElement("select",{className:"select-theme",onChange:e=>{const t=e.target.value;o(a,{type:t,value:Ke.y8[t].with_value?Ke.y8[t].default_value:null})},defaultValue:e},n.createElement($e,null)),n.createElement(ze,{type:e,value:t,onValueChange:t=>{o(a,{type:e,value:t.target.value})}})),Qe=()=>{const e=[];for(const[t,a]of Object.entries(Ke.Gn))e.push({key:t,name:a.pretty,desc:a.description});return e.map((e=>n.createElement("option",{key:e.key,value:e.key,title:e.desc},e.name)))},Ye=({type:e,index:t,onChange:a})=>n.createElement("select",{className:"select-theme",onChange:e=>{a(t,e.target.value)},defaultValue:e},n.createElement(Qe,null)),Je=({ruleConditions:e,ruleOperators:t,modifyConditions:a})=>{const o=(n,o)=>{const r=[...t];r[n]=o,a(e,r)},r=(n,o)=>{const r=null===o.value?{type:o.type}:{type:o.type,value:o.value},i=[...e];i[n]=r,a(i,t)};return n.createElement("div",null,"Conditions:",e.map(((e,a)=>n.createElement(n.Fragment,null,n.createElement(je,{key:`condition_${e.type}`,type:e.type,value:e.value,index:a,onChange:r}),void 0!==t[a]?n.createElement(Ye,{index:a,type:t[a],onChange:o,key:`operator_${t[a]}`}):null))),n.createElement("div",null,n.createElement(N.Z,{action:()=>{const n=[...e];n.push({type:Ke.y8.has_message.key});const o=[...t];o.push(Ke.Gn.and.key),a(n,o)},title:"Add new condition",className:"mx-3"},n.createElement(p.G,{icon:h.r8p}))))},Xe=()=>{const e=[];for(const[t,a]of Object.entries(Ke.Nw))e.push({key:t,name:a.pretty,desc:a.description});return e.map((e=>n.createElement("option",{key:e.key,value:e.key,title:e.desc},e.name)))},et={conditions:[{type:Ke.y8.has_message.key,value:null,valueType:null}],action:Ke.Nw.notify.key,operators:[],value:null,valueType:null},tt=({add:e})=>{const[t,a]=(0,n.useState)(et);return n.createElement("div",null,n.createElement(u.Z,{modalTitle:"Add a new Trade Offer rule",opener:n.createElement(p.G,{icon:h.r8p}),validator:n=>{e({active:!0,action:t.action,conditions:t.conditions,operators:t.operators}),n(),a(et)}},n.createElement(Je,{ruleConditions:t.conditions,ruleOperators:t.operators,modifyConditions:(e,n)=>{a({...t,conditions:e,operators:n})}}),n.createElement("div",null,"Action:",n.createElement("select",{className:"select-theme",onChange:e=>{a({...t,action:e.target.value})},defaultValue:t.action},n.createElement(Xe,null)))))},at=()=>{const[e,t]=(0,n.useState)([]),a=e=>{chrome.storage.local.set({offerEvalRules:e},(()=>{t(e)}))},o=t=>{const n=e.filter(((e,a)=>a!==t));a(n)},r=(t,n)=>{const o=e[t],r=[...e];r.splice(t,1),r.splice(t+n,0,o),a(r)},i=(t,n)=>{const o=e.map(((e,a)=>a===t?{...e,active:n}:e));a(o)};return(0,n.useEffect)((()=>{chrome.storage.local.get(["offerEvalRules"],(({offerEvalRules:e})=>{t(e)}))}),[]),n.createElement("div",{className:"col-6"},n.createElement("h5",null,"Incoming Offer Rules"),n.createElement("div",{className:"mb-3 font-size--s"},n.createElement("span",null,"You can set your own rules for incoming trade offers to be evaluated by. The rules are evaluated in order, the first matching rule's action is applied. The feature only works if you are logged into Steam in this browser. For the accept action to work the extension needs permission to interactive with existing Steam tabs or open the offer for accepting. You can grant browser.tabs permission by going to "),n.createElement(z.rU,{to:"/options/general/"},"General"),n.createElement($,null),n.createElement("span",null,"  Be careful when setting these rules and use it at your own risk.")),n.createElement("table",{className:"spacedTable"},n.createElement("thead",null,n.createElement("tr",null,n.createElement("th",{title:"Rule number/order"},"Order"),n.createElement("th",{title:"Condition to match incoming invites"},"Condition"),n.createElement("th",{title:"What action should the extension take when the invite matches the condition?"},"Action"),n.createElement("th",{title:"Turn the individual rules on of off"},"State"))),n.createElement("tbody",null,e.map(((t,a)=>{const s=0===a?"top":a===e.length-1?"bottom":"middle";return n.createElement(Ze,{key:JSON.stringify(t),details:t,index:a,saveRuleState:i,removeRule:o,changeOrder:r,position:s})})))),n.createElement(tt,{add:t=>{a([...e,t])}}))},nt=({eventType:e,ruleApplied:t,offerID:a})=>n.createElement(v.Z,{to:(0,q.JG)(a)},n.createElement("span",{title:Ke.uS[e].description},Ke.uS[e].pretty,e!==Ke.uS.new.key?` by rule ${t}`:"")),ot=({events:e})=>{const[t,a]=(0,n.useState)(!1);return n.createElement("table",{className:"spacedTable"},n.createElement("thead",null,n.createElement("tr",null,n.createElement("th",null,"User"),n.createElement("th",null,"Event"),n.createElement("th",null,"Time"))),n.createElement("tbody",null,e.map(((e,a)=>t||!t&&a<15?n.createElement("tr",{key:e.steamID+e.type+e.timestamp+e.offerID},n.createElement("td",null,n.createElement(v.Z,{to:`https://steamcommunity.com/profiles/${e.steamID}`},e.steamID)),n.createElement("td",null,n.createElement(nt,{eventType:e.type,ruleApplied:e.rule,offerID:e.offerID})),n.createElement("td",{title:(0,ie.pJ)(e.timestamp/1e3)},(0,ie.cd)(e.timestamp/1e3))):null)),n.createElement("tr",null,n.createElement("td",{colSpan:"3",className:"center"},n.createElement(N.Z,{action:()=>{a(!t)},title:"Show All Invite Events form the past week",id:"showAll",className:"golden"},"Show All")))))},rt=({events:e})=>{let t=0,a=0,o=0,r=0;const i=Date.now();return e.forEach((e=>{if((i-e.timestamp)/1e3<86400)switch(e.type){case Ke.uS.new.key:t+=1;break;case Ke.uS.decline.key:a+=1;break;case Ke.uS.accept.key:o+=1;break;case Ke.uS.notify.key:r+=1}})),n.createElement("div",{className:"mb-3 font-size--s container"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-5"},n.createElement("b",null,"Received:")," ",t),n.createElement("div",{className:"col-5"},n.createElement("b",null,"Auto-declined:")," ",a)),n.createElement("div",{className:"row"},n.createElement("div",{className:"col-5"},n.createElement("b",null,"Auto-Accepted:")," ",o),n.createElement("div",{className:"col-5"},n.createElement("b",null,"Notified:")," ",r)))},it=()=>{const[e,t]=(0,n.useState)([]),a=()=>{chrome.storage.local.get(["tradeOffersEventLogs"],(({tradeOffersEventLogs:e})=>{t(e.reverse())}))};return(0,n.useEffect)((()=>{a();const e=setInterval((()=>{a()}),6e4);return()=>clearInterval(e)}),[]),n.createElement("div",{className:"col-6"},n.createElement("h5",null,"Incoming Offers History"),n.createElement("h6",null,"Summary of the past 24 hours"),n.createElement(rt,{events:e}),n.createElement("h6",null,"Trade offer event history"),n.createElement("div",{className:"mb-3 font-size--s"},"Incoming trade offers and related events generated by the extension from the past week."),n.createElement(ot,{events:e}))},st=()=>n.createElement(n.Fragment,null,n.createElement(at,null),n.createElement(it,null)),lt=[{to:"general/",name:"General",component:j},{to:"pricing/",name:"Pricing",component:Y},{to:"trade-offer/",name:"Trade Offer",component:re},{to:"offer-automation/",name:"Trade Offer Automation",component:()=>n.createElement(W,{title:"Trade Offer Automation"},n.createElement(H,{name:"Monitor Incoming offers",id:"monitorIncomingOffers",type:"flipSwitchStorage",description:n.createElement(n.Fragment,null,"Monitors incoming offers and evaluates the automation rules. The offers are checked every 2 minutes.",n.createElement($,null))}),n.createElement(H,{name:"Send offers based on query params",id:"sendOfferBasedOnQueryParams",type:"flipSwitchStorage",description:n.createElement(n.Fragment,null,"Send trade offers based on query parameters. When turned on and you open a link with &csgotrader_send=side(your/their)_type(name/id)appID_contextID_(market name / asset ID) in it the extension sends the offer automatically. Useful for P2P trading and automation.",n.createElement(v.Z,{to:"https://csgotrader.app/release-notes/#2.9"}," More info about this here "))}),n.createElement(H,{name:"Select item based on query params (autofill)",id:"selectItemsBasedOnQueryParams",type:"flipSwitchStorage",description:"Select items in trade offers automatically based on query parameters.\n          When turned on and you open a link with\n            &csgotrader_select=side(your/their)_type(name/id)appID_contextID_(market name / asset ID)\n            in it the extension will select the appropriate item and add it to the trade.\n            Useful for P2P trading and automation."}),n.createElement("div",{className:"row"},n.createElement(st,null)))},{to:"inventory/",name:"Inventory",component:te},{to:"profile/",name:"Profile",component:oe},{to:"market/",name:"Market",component:ae},{to:"friends-invites/",name:"Friends, Groups and Invites",component:Ge},{to:"popup/",name:"Popup",component:ne},{to:"notifications/",name:"Notifications",component:Z},{to:"safety/",name:"Safety",component:()=>n.createElement(W,{title:"Safety"},n.createElement(H,{name:"Mark profiles",id:"markScammers",type:"flipSwitchStorage",description:"Marks legit trade site bots that are in the appropriate group."}),n.createElement(H,{name:"Turn off Steam link filter",id:"linkFilterOff",type:"flipSwitchStorage",description:"Turns off Steam's link filter that takes you to a page before you can proceed to external sites."}))},{to:"webchat/",name:"Web Chat",component:qe},{to:"other/",name:"Other",component:J},{to:"backup-restore/",name:"Data backup and restore",component:X}],ct=()=>n.createElement("div",{className:"options"},n.createElement("div",{className:"container-fluid full-height"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-md-2 d-none d-md-block nav__sidebar"},n.createElement("div",{className:"sidebar-sticky"},n.createElement(r.Z,{defaultActiveKey:"/options/general/",className:"flex-column"},lt.map((e=>n.createElement(i.Z,{to:e.to,key:e.to,title:e.name,activeClassName:"sideNavActive",className:"px-4 py-3"})))))),n.createElement("div",{className:"col-md-10 ml-sm-auto col-lg-10 pt-3 px-4 options__content"},n.createElement(o.Z5,null,lt.map((e=>n.createElement(o.AW,{path:e.to,element:n.createElement(e.component,null),key:e.to}))),n.createElement(o.AW,{path:"*",element:n.createElement(o.Fg,{to:"general/",replace:!0})}))))))},7388:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AcidFadeCalculator=t.AmberFadeCalculator=t.FadeCalculator=void 0;const n=a(6243),o=a(6038),r=a(7976);t.FadeCalculator=new n.default,t.AmberFadeCalculator=new o.default,t.AcidFadeCalculator=new r.default},7976:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=a(5428);class o extends n.default{constructor(){super(...arguments),this.weapons=["SSG 08"],this.reversedWeapons=["SSG 08"],this.tradeUpWeapons=["SSG 08"],this.configs={default:{pattern_offset_x_start:-2.4,pattern_offset_x_end:-2.1,pattern_offset_y_start:0,pattern_offset_y_end:0,pattern_rotate_start:-55,pattern_rotate_end:-65}}}}t.default=o},6038:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=a(5428);class o extends n.default{constructor(){super(...arguments),this.weapons=["AUG","Galil AR","MAC-10","P2000","R8 Revolver","Sawed-Off"],this.reversedWeapons=[],this.tradeUpWeapons=["AUG","Galil AR","MAC-10","P2000","R8 Revolver","Sawed-Off"],this.configs={default:{pattern_offset_x_start:-.7,pattern_offset_x_end:-.7,pattern_offset_y_start:-.7,pattern_offset_y_end:-.7,pattern_rotate_start:-55,pattern_rotate_end:-65}}}}t.default=o},5428:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=a(3738);t.default=class{constructor(){this.minPercentage=80}getSupportedWeapons(){return this.weapons}getFadePercentage(e,t){return this.getFadePercentages(e)[t]}getAllFadePercentages(){return this.weapons.map((e=>({weapon:e,percentages:this.getFadePercentages(e)})))}getFadePercentages(e){if(!this.weapons.includes(e))throw new Error(`The weapon "${e}" is currently not supported.`);const t=this.configs[e]||this.configs.default,a=[],o=this.tradeUpWeapons.includes(e)?1e3:999;for(let e=0;e<=o;e+=1){const o=new n.default;o.setSeed(e);const r=o.randomFloat(t.pattern_offset_x_start,t.pattern_offset_x_end);o.randomFloat(t.pattern_offset_y_start,t.pattern_offset_y_end);const i=o.randomFloat(t.pattern_rotate_start,t.pattern_rotate_end);let s;const l=t.pattern_rotate_start!==t.pattern_rotate_end,c=t.pattern_offset_x_start!==t.pattern_offset_x_end;s=l&&c?i*r:l?i:r,a.push(s)}let r,i;this.reversedWeapons.includes(e)?(r=Math.min(...a),i=Math.max(...a)):(r=Math.max(...a),i=Math.min(...a));const s=i-r,l=a.map((e=>(i-e)/s)),c=[...l].sort(((e,t)=>e-t));return l.map(((e,t)=>({seed:t,percentage:this.minPercentage+e*(100-this.minPercentage),ranking:Math.min(c.indexOf(e)+1,c.length-c.indexOf(e))})))}}},6243:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=a(5428);class o extends n.default{constructor(){super(...arguments),this.weapons=["AWP","Bayonet","Bowie Knife","Butterfly Knife","Classic Knife","Falchion Knife","Flip Knife","Glock-18","Gut Knife","Huntsman Knife","Karambit","Kukri Knife","M4A1-S","M9 Bayonet","MAC-10","MP7","Navaja Knife","Nomad Knife","Paracord Knife","R8 Revolver","Shadow Daggers","Skeleton Knife","Stiletto Knife","Survival Knife","Talon Knife","UMP-45","Ursus Knife"],this.reversedWeapons=["AWP","Karambit","MP7","Talon Knife"],this.tradeUpWeapons=["AWP","Glock-18","M4A1-S","MAC-10","MP7","R8 Revolver","UMP-45"],this.configs={default:{pattern_offset_x_start:-.7,pattern_offset_x_end:-.7,pattern_offset_y_start:-.7,pattern_offset_y_end:-.7,pattern_rotate_start:-55,pattern_rotate_end:-65},MP7:{pattern_offset_x_start:-.9,pattern_offset_x_end:-.3,pattern_offset_y_start:-.7,pattern_offset_y_end:-.5,pattern_rotate_start:-55,pattern_rotate_end:-65},"M4A1-S":{pattern_offset_x_start:-.14,pattern_offset_x_end:.05,pattern_offset_y_start:0,pattern_offset_y_end:0,pattern_rotate_start:-45,pattern_rotate_end:-45}}}}t.default=o},3738:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(){this.mIdum=0,this.mIy=0,this.mIv=[],this.NTAB=32,this.IA=16807,this.IM=2147483647,this.IQ=127773,this.IR=2836,this.NDIV=1+(this.IM-1)/this.NTAB,this.AM=1/this.IM,this.RNMX=1-12e-8}setSeed(e){this.mIdum=e,e>=0&&(this.mIdum=-e),this.mIy=0}generateRandomNumber(){let e,t;if(this.mIdum<=0||0===this.mIy){for(-this.mIdum<1?this.mIdum=1:this.mIdum=-this.mIdum,t=this.NTAB+7;t>=0;t-=1)e=Math.floor(this.mIdum/this.IQ),this.mIdum=Math.floor(this.IA*(this.mIdum-e*this.IQ)-this.IR*e),this.mIdum<0&&(this.mIdum+=this.IM),t<this.NTAB&&(this.mIv[t]=this.mIdum);[this.mIy]=this.mIv}return e=Math.floor(this.mIdum/this.IQ),this.mIdum=Math.floor(this.IA*(this.mIdum-e*this.IQ)-this.IR*e),this.mIdum<0&&(this.mIdum+=this.IM),t=Math.floor(this.mIy/this.NDIV),this.mIy=Math.floor(this.mIv[t]),this.mIv[t]=this.mIdum,this.mIy}randomFloat(e,t){let a=this.AM*this.generateRandomNumber();return a>this.RNMX&&(a=this.RNMX),a*(t-e)+e}}}}]);
//# sourceMappingURL=458.bundle.js.map
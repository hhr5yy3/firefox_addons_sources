import{f as O}from"./chunk-XSKOAVIS.js";import{b as L,c as u,e as M}from"./chunk-3GYLW4KZ.js";var R=u((W,P)=>{var X=O(),A=1/0,j=17976931348623157e292;function v(t){if(!t)return t===0?t:0;if(t=X(t),t===A||t===-A){var n=t<0?-1:1;return n*j}return t===t?t:0}P.exports=v});var h=u((Z,_)=>{var C=R();function D(t){var n=C(t),r=n%1;return n===n?r?n-r:n:0}_.exports=D});var y=u(($,x)=>{var Y=h(),S="Expected a function";function k(t,n){var r;if(typeof n!="function")throw new TypeError(S);return t=Y(t),function(){return--t>0&&(r=n.apply(this,arguments)),t<=1&&(n=void 0),r}}x.exports=k});var w=u((tt,b)=>{var B=y();function G(t){return B(2,t)}b.exports=G});function F(t){return t instanceof Promise&&typeof t.start=="function"&&typeof t.stop=="function"}function J(t){return new Promise(function(n){setTimeout(n,t)})}function K(t,{initialDelay:n=U,scaleFactor:r=V,maxDelay:N=z,maxRetries:g=H}={}){var c;let s=0,p=0,a=(0,f.default)(T),m,d,E,I,e;function T(){m=new Promise(function(o){d=(0,f.default)(function(){a=(0,f.default)(T),o(),F(e)&&e.start()})}),F(e)&&e.stop()}a();function l(){J(s).then(function(){return m}).then(function(){return e=t(),e===void 0?Promise.reject():e}).then(function(o){E(o)}).catch(o=>{if(++p>g){I(o);return}s=p===1?n:Math.min(s*r,N),l()})}l();let i=new Promise(function(o,q){E=o,I=q});return Object.assign(i,{start:function(){return d(),i},stop:function(){return a(),i}}),(c=i.start)===null||c===void 0?void 0:c.call(i)}var f,U,V,z,H,Q=L(()=>{f=M(w()),U=500,V=2,z=1e3*60*2,H=8});export{K as a,Q as b};

var content=function(e){"use strict";function t(e){return new Promise(((t,n)=>{chrome.runtime.sendMessage(e,(function(e){e&&e.error&&n(e),t(e)}))}))}function n(e,n){return t({action:"dlSendNotification",payload:{type:e,options:n}})}async function o(e){if(!chrome.tabs)return;const t=await chrome.tabs.query({active:!0,currentWindow:!0});chrome.tabs.sendMessage(t[0].id,e)}const r=[{langCode:"AR",langCodeForSpeech:"ar-AR",langCodeForIta:"ar"},{langCode:"BG",langCodeForSpeech:"bg-BG",langCodeForIta:"bg"},{langCode:"CS",langCodeForSpeech:"cs-CZ",langCodeForIta:"cs"},{langCode:"DA",langCodeForSpeech:"da-DK",langCodeForIta:"da"},{langCode:"DE",langCodeForSpeech:"de-DE",supportsFormality:!0,langCodeForIta:"de"},{langCode:"EL",langCodeForSpeech:"el-GR",langCodeForIta:"el"},{langCode:"EN-GB",langCodeForSpeech:"en",voice:"Google UK English Male",langCodeForIta:"en-GB"},{langCode:"EN-US",langCodeForSpeech:"en",voice:"Google UK English Male",langCodeForIta:"en-US"},{langCode:"ES",langCodeForSpeech:"es-ES",voice:"Google español",label:"ES",supportsFormality:!0,langCodeForIta:"es"},{langCode:"ET",langCodeForSpeech:"et",langCodeForIta:"et"},{langCode:"FI",langCodeForSpeech:"fi-FI",voice:"Satu",langCodeForIta:"fi"},{langCode:"FR",langCodeForSpeech:"fr-FR",voice:"Thomas",supportsFormality:!0,langCodeForIta:"fr"},{langCode:"HU",langCodeForSpeech:"hu-HU",langCodeForIta:"hu"},{langCode:"ID",langCodeForSpeech:"id-ID",langCodeForIta:"id"},{langCode:"IT",langCodeForSpeech:"it-IT",supportsFormality:!0,langCodeForIta:"it"},{langCode:"JA",langCodeForSpeech:"ja-JP",supportsFormality:!0,langCodeForIta:"ja"},{langCode:"KO",langCodeForSpeech:"ko-KR",langCodeForIta:"ko"},{langCode:"LT",langCodeForSpeech:"lt",langCodeForIta:"lt"},{langCode:"LV",langCodeForSpeech:"lv",langCodeForIta:"lv"},{langCode:"NB",langCodeForSpeech:"nb-NO",langCodeForIta:"nb"},{langCode:"NL",langCodeForSpeech:"nl-NL",voice:"Google Nederlands",label:"NL",supportsFormality:!0,langCodeForIta:"nl"},{langCode:"PL",langCodeForSpeech:"pl-PL",supportsFormality:!0,langCodeForIta:"pl"},{langCode:"PT-BR",langCodeForSpeech:"pt-PT",supportsFormality:!0,langCodeForIta:"pt-BR"},{langCode:"PT-PT",langCodeForSpeech:"pt-PT",supportsFormality:!0,langCodeForIta:"pt-PT"},{langCode:"RO",langCodeForSpeech:"ro-RO",langCodeForIta:"ro"},{langCode:"RU",langCodeForSpeech:"ru-RU",supportsFormality:!0,langCodeForIta:"ru"},{langCode:"SK",langCodeForSpeech:"sk-SK",langCodeForIta:"sk"},{langCode:"SL",langCodeForSpeech:"sl",langCodeForIta:"sl"},{langCode:"SV",langCodeForSpeech:"sv-SE",langCodeForIta:"sv"},{langCode:"TR",langCodeForSpeech:"tr-TR",langCodeForIta:"tr"},{langCode:"UK",langCodeForSpeech:"uk-UA",langCodeForIta:"uk"},{langCode:"ZH",langCodeForSpeech:"zh-CN",langCodeForIta:"zh-Hans"},{langCode:"ZH-HANT",langCodeForSpeech:"zh-HANT",langCodeForIta:"zh-Hant"}],i=["EN-GB","EN-US","EN","DE","FR","ES","PT-PT","PT-BR","PT","IT"],s=["EN-GB","EN-US","EN","DE"],a=["ES","FR","IT","PT","PT-BR","PT-PT"],l=1,c=2,d={none:"",ongoingTranslation:"ONGOING_TRANSLATION",isTranslationComplete:"IS_TRANLSATION_COMPLETE",showOriginal:"SHOW_ORIGINAL",ongoingAutoDetection:"ON_GOING_AUTODETECTION",anonymousUserMaxCharExceeded:"ANONYMOUS_USER_MAX_CHAR_EXCEEDED"},u="",p="ONGOING_WRITE",m=1,g=2,h="inline",f="automatic",_="manual",v="input",y=1,w=2,b=3,E=1500,x=5e3,S=2e3,T=2e3,$=1,C=3,k=4,L=1,M=2,I=3,A=1,R=2,O=1,N=2,D=[/[^.]+\.deepl\.com/g,/[^.]+\.figma\.com/g],P=[/docs.google\.com\/spreadsheets/g],B=[/[^.]+\.deepl\.com/g],z={deepl_inline_ui:{z_index:2147483650}},U="HINT_KEYBOARD_SHORTCUT",H="INPUT_TRANSLATION",F="INLINE_TRANSLATION",j="FULL_PAGE_TRANSLATION",W="ACCOUNT_SUCCESSFULLY_CREATED",q="SUCCESSFULLY_LOGGED_IN",G="GSLIDES_WARNING_TO_AVOID_ASSET_LOSS",V="SHOW_ADS_FOR_MS_ADDINS",Y={green_theme:"green_theme",warning_theme:"warning_theme",ads_theme:"ads_theme"},Z="INLINE_TRANSLATION_TRIGGER_ICON",K="INLINE_TRANSLATION_SETTINGS_ICON",X="INLINE_TRANSLATION_SETTING_POPUP",J="INPUT_TRANSLATION_TRIGGER_ICON",Q="INPUT_IMPROVE_TRIGGER_ICON",ee="INPUT_TRANSLATION_SETTINGS_ICON",te="INPUT_TRANSLATION_SETTING_POPUP",ne="SETTINGS_PAGE_FPT",oe="SETTINGS_PAGE_READING",re="SETTINGS_PAGE_WRITING",ie="SETTINGS_PAGE_INTEGRATIONS",se="FPT_HIDE_MODAL",ae="INPUT_TRANSLATION_READ_MORE_LINK",le="INLINE_TRANSLATION_READ_MORE_LINK",ce="FPT_TRANSLATION_READ_MORE_LINK",de="EXTENSION_HUB_TOGGLE_SWITCH",ue="HUB_CUSTOMIZE_SHORTCUT",pe="HUB_LOGIN_BUTTON",me="HUB_UPGRADE_TO_PRO_LINK",ge="HUB_TRY_PRO_LINK",he="SETTINGS_PAGE_CUSTOMIZE_SHORTCUT_BUTTON",fe="HUB_FPT_ENABLE_CHECKBOX",_e="HUB_FPT_DISABLE_CHECKBOX",ve="DEEPL_WRITE_ICON",ye="gmailOnboardingPopup",we="gmailOnboardingIcon",be="gmailCharLimitLogin",Ee="gmailFeedbackSurvey",xe="HUB_VIEW_INTEGRATIONS",Se="HUB_CLOSE_CUSTOMIZATIONS_WIDGET",Te="GSLIDES_FEEDBACK_SURVEY",$e="GSLIDES_CHAR_LIMIT_LOGIN",Ce="ZENDESK_TRY_PRO_LINK",ke="ONBOARDING_SIGN_UP",Le="ONBOARDING_SKIP_SIGN_UP",Me="ONBOARDING_LOGIN_LINK",Ie="ONBOARDING_SEE_ALL_INTEGRATIONS",Ae="ICON_TOGGLE_IN_HUB_TRANSLATOR",Re="ICON_TOGGLE_IN_HUB_WRITE",Oe="MANAGE_ICON_SETTINGS",Ne="WRITE_LANGUAGE_SWITCHED_IN_HUB",De="WRITE_LANGUAGE_SWITCHED_IN_SETTINGS",Pe="trigger-translation",Be="CLICK_ON_SHORTCUT_NOTIFICATION",ze="CLICK_ON_INLINE_TRANSLATION_SHOW_ALTERNATIVES",Ue="CLICK_ON_INLINE_TRANSLATION_CLOSE_ICON",He="CLICK_ON_LOGOUT_MENU_ENTRY",Fe="CLICK_ON_REVIEW_WINDOW_CLOSE_ACTION",je="DISABLE_PER_SITE",We="DISABLE_EVERYWHERE",qe="INPUT_TRANSLATION",Ge="INLINE_TRANSLATION",Ve=1,Ye=2,Ze=0,Ke=1,Xe=2,Je=3,Qe=4,et="cofdbpoegempjloogbagkncekinflcnj",tt="fancfknaplihpclbhbpclnmmjcjanbaf",nt="ocpdpnakdghopjcifldjidbdmfobmmoi",ot="firefox-extension@deepl.com",rt={deepl:/^(.*\.)?deepl\.com$/gm,linguee:/^(.*\.)?linguee\.[a-z]{2,3}$/gm,google_translate:/^translate\.google\.com$/gm,gmail:/^mail\.google\.com$/gm},it={word_365:"euc-word-edit.officeapps.live.com",power_point_365:"euc-powerpoint.officeapps.live.com"},st={word_365:"WacFrame_Word_0",power_point_365:"WacFrame_PowerPoint_0"},at={initial:"INITIAL",feedback:"FEEDBACK",review:"REVIEW",gmail:"GMAIL",gslides:"GSLIDES",customer_segmentation:"CUSTOMER_SEGMENTATION",arabic_survey:"ARABIC_SURVEY"},lt=1,ct=2,dt=3,ut={default:"DEFAULT",gdocs:"GDOCS",zendesk:"ZENDESK",whatsappWeb:"WHATSAPP_WEB",twitter:"TWITTER",gmail:"GMAIL",gslides:"GSLIDES",linkedIn:"LINKEDIN",youtube:"YOUTUBE"},pt={translate:"translate",write:"write"},mt=["script","style"],gt=["a","abbr","acronym","b","bdo","big","br","button","cite","code","dfn","em","i","img","input","kbd","label","map","object","q","samp","script","select","small","span","strong","sub","sup","textarea","time","tt","var","font"],ht="OPEN_TICKET",ft="DETECT_TICKET_LANGUAGE",_t="SWITCH_TICKET_LANGUAGE",vt="ENABLE_AUTOTRANSLATE",yt="DISABLE_AUTOTRANSLATE",wt="TRANSLATE_MESSAGE",bt="TRANSLATE_INPUT",Et="ERROR",xt="TICKET",St="LIVE_CHAT",Tt=50,$t={TRANSLATOR:"TRANSLATOR",WRITE:"WRITE",API:"API",DOC_TRANSLATOR:"DOC_TRANSLATOR"},Ct="free",kt="pro",Lt="none",Mt="TEXT_REFINEMENT_REQUEST",It="GDOCS_INSERT_COPY",At="GDOCS_DISCARD_COPY",Rt="GDOCS_CHAR_LIMIT_REACHED",Ot="RESULT_ACCEPTED",Nt="RESULT_REVERTED",Dt="ERROR",Pt="RESULT_ACCEPTED",Bt="RESULT_REVERTED",zt="ALTERNATIVES_OPENED",Ut="SEGMENTATION_SELECTED",Ht="ALTERNATIVE_SELECTED",Ft="SHOWN",jt="CLICKED",Wt="READING_VIEW_TRANSLATE",qt="COMPOSE_VIEW_TRANSLATE",Gt="COMPOSE_VIEW_IMPROVE",Vt="ANONYMOUS_USER_LIMIT_EXCEEDED",Yt="FREE_ACCOUNT_LIMIT_EXCEEDED",Zt="WRITE_ANONYMOUS_USER_LIMIT_EXCEEDED",Kt="WRITE_FREE_ACCOUNT_LIMIT_EXCEEDED",Xt="PRO_TRIAL",Jt="LOGIN",Qt="SIGNUP",en="ANONYMOUS",tn="FREE",nn="word",on="sentence",rn=["JA","ZH"],sn="None",an="Pro",ln="Free",cn=["simple","business","academic","casual"],dn=["enthusiastic","friendly","confident","diplomatic"],un=(e,t)=>{if(!e)throw new Error("No settings supplied to getServiceType");if(!Object.keys($t).includes(t))throw new Error("Unidentified service name supplied to getServiceType");if(!e.isLoggedIn)return Ct;switch(t){case $t.TRANSLATOR:return e.translatorServiceType;case $t.WRITE:return e.writeServiceType;case $t.API:return e.apiServiceType;case $t.DOC_TRANSLATOR:return e.docTranslatorServiceType}},pn=(e,t)=>un(e,t)===kt,mn=(e,t)=>un(e,t)===Ct,gn=(e,t)=>un(e,t)===Lt,hn=e=>!!e.isLoggedIn&&mn(e,$t.WRITE),fn=(e,t)=>e.isLoggedIn&&mn(e,t),_n={chrome:"Chrome",edge:"Edge",brave:"Brave",firefox:"Firefox",opera:"Opera",safari:"Safari"};function vn(){return!!window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches}function yn(e,t){let n;try{switch(e){case _n.chrome:case _n.brave:n=t.split("Chrome/")[1].split(" ")[0];break;case _n.edge:n=t.split("Edg/")[1].split(" ")[0];break;case _n.firefox:n=t.split("Firefox/")[1].split(" ")[0];break;case _n.opera:n=t.split("OPR/")[1].split(" ")[0];break;case _n.safari:n=t.split("Version/")[1].split(" ")[0]}}catch(t){console.error(`Could not get the browsers (${e}) version from user agent`,t)}try{!n&&navigator?.userAgentData&&function(e){return e===_n.chrome||e===_n.edge||e===_n.brave||e===_n.opera}(e)&&(n=wn(e).version)}catch(t){console.error(`Could not get the chromium browsers (${e}) version`,t)}return n&&"string"==typeof n?n:"unknown_browser_version"}function wn(e){if(!navigator.userAgentData||!e)return;const t=new RegExp(`${e}`,"i");return navigator.userAgentData.brands.filter((e=>t.test(e.brand)))[0]}function bn(){const e=navigator?.userAgent||"unknown_user_agent",t=navigator?.userAgentData?.platform||navigator?.platform||"unknown_platform";let n="unknown_browser",o="unknown_browser_version";const r=navigator?.language||"unknown_browser_language";try{const t=e.match(/chrome|chromium|crios/i),r=e.match(/edg/i)||wn(_n.edge),i=e.match(/firefox|fxios/i),s=e.match(/opr\//i)||wn(_n.opera),a=e.match(/safari/i),l=wn(_n.brave);t?(n=_n.chrome,r&&(n=_n.edge),s&&(n=_n.opera),l&&(n=_n.brave)):r?n=_n.edge:i?n=_n.firefox:s?n=_n.opera:a&&(n=_n.safari),o=yn(n,e)}catch(e){console.error("Could not get the name of the brower",e)}return{userAgent:e,platform:t,browser:n,browserVersion:o,browserLang:r}}function En(){if({IS_PROD:!0,BASE_URLS:{dapApi:"https://s.deepl.com/chrome/statistics",toolingApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.28.0",toolingApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.28.0",toolingWriteApiPro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.28.0",toolingWriteApi:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.28.0",classicApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.28.0",classicApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.28.0",classicApiWrite:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.28.0",classicApiWritePro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.28.0",classicApiGlossary:"https://api.deepl.com/termbases/jsonrpc?client=chrome-extension,1.28.0",login:"https://www.deepl.com/auth/login",token:"https://w.deepl.com/oidc/token",logout:"https://www.deepl.com/auth/logout",feedbackSurvey:"https://deepl.typeform.com/to/MkMfP2Y6",newFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",firefoxFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eyfDZqQmXuNTFOK",uninstallSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eJxAD8c7J5hqSRU",gslidesFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_9XBLSAbDmLq5emO",deeplPro:"https://www.deepl.com/pro",deeplProWrite:"https://www.deepl.com/pro-write",deeplTranslator:"https://www.deepl.com/translator",deeplDoctrans:"https://www.deepl.com/translator/files",deeplTermsOfServiceFree:"https://www.deepl.com/en/pro-license?tab=free",deeplCreateAccount:"https://www.deepl.com/signup",extensionStorePage:"https://bit.ly/DeepL-Chrome",supportArticle:"https://support.deepl.com/hc/articles/4407580229522",deeplSupport:"https://support.deepl.com/hc",chromeWebstore:"https://chrome.google.com/webstore/detail/deepl-translate-reading-w/cofdbpoegempjloogbagkncekinflcnj",edgeWebstore:"https://microsoftedge.microsoft.com/addons/detail/deepl-translate-reading-/fancfknaplihpclbhbpclnmmjcjanbaf",firefoxWebstore:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate",firefoxShortcutDocs:"https://support.mozilla.org/kb/manage-extension-shortcuts-firefox",firefoxPrivacyPolicy:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate/privacy/",clientStateApi:"https://w.deepl.com/web",experimentsEndpoint:"https://s.deepl.com/chrome/experiments",gmailFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_db8ItFTmYBcZjYW",customerSegmentationSurveyFree:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2071",customerSegmentationSurveyPro:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2070",arabicSurvey:"https://deepl.qualtrics.com/jfe/form/SV_ekTrC2ePp0wn7xQ",msAddinsDeepLAds:"https://www.deepl.com/en/microsoft-365"},APP_VERSION:"1.28.0",FEATURE_FLAGS:{TRANSLATE_INPUT:!0,PAGE_TRANSLATION:!0,IMPROVE_WRITING:!0,DOCUMENT_TRANSLATION:!0,RECOMMEND_TO_A_FRIEND:!0,PRO_LOGIN:!0,WEBPAGE_CUSTOMIZER:!0,GDOCS_INTEGRATION:!0,ZENDESK_INTEGRATION:!0,GMAIL_INTEGRATION:!0,GSLIDES_INTEGRATION:!0,ON_INSTALL_ONBOARDING:!0,WHATSAPP_TRANSLATE_ALL_CHAT:!1,DEEPL_WRITE_GENERAL:!1,DEEPL_WRITE_GDOCS:!0,SHOW_CUSTOMER_SEGMENTATION_SURVEY:!1,ARABIC_SURVEY:!0,REVIEW_UI_WITH_ITA:!1,BATCH_TRANSLATE_HTML_REQUEST:!1}}.browserBuild)return{IS_PROD:!0,BASE_URLS:{dapApi:"https://s.deepl.com/chrome/statistics",toolingApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.28.0",toolingApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.28.0",toolingWriteApiPro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.28.0",toolingWriteApi:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.28.0",classicApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.28.0",classicApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.28.0",classicApiWrite:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.28.0",classicApiWritePro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.28.0",classicApiGlossary:"https://api.deepl.com/termbases/jsonrpc?client=chrome-extension,1.28.0",login:"https://www.deepl.com/auth/login",token:"https://w.deepl.com/oidc/token",logout:"https://www.deepl.com/auth/logout",feedbackSurvey:"https://deepl.typeform.com/to/MkMfP2Y6",newFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",firefoxFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eyfDZqQmXuNTFOK",uninstallSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eJxAD8c7J5hqSRU",gslidesFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_9XBLSAbDmLq5emO",deeplPro:"https://www.deepl.com/pro",deeplProWrite:"https://www.deepl.com/pro-write",deeplTranslator:"https://www.deepl.com/translator",deeplDoctrans:"https://www.deepl.com/translator/files",deeplTermsOfServiceFree:"https://www.deepl.com/en/pro-license?tab=free",deeplCreateAccount:"https://www.deepl.com/signup",extensionStorePage:"https://bit.ly/DeepL-Chrome",supportArticle:"https://support.deepl.com/hc/articles/4407580229522",deeplSupport:"https://support.deepl.com/hc",chromeWebstore:"https://chrome.google.com/webstore/detail/deepl-translate-reading-w/cofdbpoegempjloogbagkncekinflcnj",edgeWebstore:"https://microsoftedge.microsoft.com/addons/detail/deepl-translate-reading-/fancfknaplihpclbhbpclnmmjcjanbaf",firefoxWebstore:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate",firefoxShortcutDocs:"https://support.mozilla.org/kb/manage-extension-shortcuts-firefox",firefoxPrivacyPolicy:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate/privacy/",clientStateApi:"https://w.deepl.com/web",experimentsEndpoint:"https://s.deepl.com/chrome/experiments",gmailFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_db8ItFTmYBcZjYW",customerSegmentationSurveyFree:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2071",customerSegmentationSurveyPro:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2070",arabicSurvey:"https://deepl.qualtrics.com/jfe/form/SV_ekTrC2ePp0wn7xQ",msAddinsDeepLAds:"https://www.deepl.com/en/microsoft-365"},APP_VERSION:"1.28.0",FEATURE_FLAGS:{TRANSLATE_INPUT:!0,PAGE_TRANSLATION:!0,IMPROVE_WRITING:!0,DOCUMENT_TRANSLATION:!0,RECOMMEND_TO_A_FRIEND:!0,PRO_LOGIN:!0,WEBPAGE_CUSTOMIZER:!0,GDOCS_INTEGRATION:!0,ZENDESK_INTEGRATION:!0,GMAIL_INTEGRATION:!0,GSLIDES_INTEGRATION:!0,ON_INSTALL_ONBOARDING:!0,WHATSAPP_TRANSLATE_ALL_CHAT:!1,DEEPL_WRITE_GENERAL:!1,DEEPL_WRITE_GDOCS:!0,SHOW_CUSTOMER_SEGMENTATION_SURVEY:!1,ARABIC_SURVEY:!0,REVIEW_UI_WITH_ITA:!1,BATCH_TRANSLATE_HTML_REQUEST:!1}}.browserBuild.toLowerCase()===_n.firefox.toLowerCase();const e=chrome.runtime.getURL("");return bn().browser===_n.firefox||/moz-extension:\/\//gm.test(e)}const xn=()=>{const e=/(outlook\.office\.com|sharepoint\.com|microsoft|office)/,t=new URL(window.location.href);if(!e.test(t.origin))return!1;const n=t.origin.match(e);return!!n&&n[0]};var Sn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Tn={exports:{}};
/*! @license DOMPurify 3.1.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.7/LICENSE */
!function(e){e.exports=function(){const{entries:e,setPrototypeOf:t,isFrozen:n,getPrototypeOf:o,getOwnPropertyDescriptor:r}=Object;let{freeze:i,seal:s,create:a}=Object,{apply:l,construct:c}="undefined"!=typeof Reflect&&Reflect;i||(i=function(e){return e}),s||(s=function(e){return e}),l||(l=function(e,t,n){return e.apply(t,n)}),c||(c=function(e,t){return new e(...t)});const d=E(Array.prototype.forEach),u=E(Array.prototype.pop),p=E(Array.prototype.push),m=E(String.prototype.toLowerCase),g=E(String.prototype.toString),h=E(String.prototype.match),f=E(String.prototype.replace),_=E(String.prototype.indexOf),v=E(String.prototype.trim),y=E(Object.prototype.hasOwnProperty),w=E(RegExp.prototype.test),b=x(TypeError);function E(e){return function(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return l(e,t,o)}}function x(e){return function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return c(e,n)}}function S(e,o){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m;t&&t(e,null);let i=o.length;for(;i--;){let t=o[i];if("string"==typeof t){const e=r(t);e!==t&&(n(o)||(o[i]=e),t=e)}e[t]=!0}return e}function T(e){for(let t=0;t<e.length;t++)y(e,t)||(e[t]=null);return e}function $(t){const n=a(null);for(const[o,r]of e(t))y(t,o)&&(Array.isArray(r)?n[o]=T(r):r&&"object"==typeof r&&r.constructor===Object?n[o]=$(r):n[o]=r);return n}function C(e,t){for(;null!==e;){const n=r(e,t);if(n){if(n.get)return E(n.get);if("function"==typeof n.value)return E(n.value)}e=o(e)}function n(){return null}return n}const k=i(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),L=i(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),M=i(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),I=i(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),A=i(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),R=i(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),O=i(["#text"]),N=i(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),D=i(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),P=i(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),B=i(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),z=s(/\{\{[\w\W]*|[\w\W]*\}\}/gm),U=s(/<%[\w\W]*|[\w\W]*%>/gm),H=s(/\${[\w\W]*}/gm),F=s(/^data-[\-\w.\u00B7-\uFFFF]/),j=s(/^aria-[\-\w]+$/),W=s(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),q=s(/^(?:\w+script|data):/i),G=s(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),V=s(/^html$/i),Y=s(/^[a-z][.\w]*(-[.\w]+)+$/i);var Z=Object.freeze({__proto__:null,MUSTACHE_EXPR:z,ERB_EXPR:U,TMPLIT_EXPR:H,DATA_ATTR:F,ARIA_ATTR:j,IS_ALLOWED_URI:W,IS_SCRIPT_OR_DATA:q,ATTR_WHITESPACE:G,DOCTYPE_NAME:V,CUSTOM_ELEMENT:Y});const K={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},X=function(){return"undefined"==typeof window?null:window},J=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const o="data-tt-policy-suffix";t&&t.hasAttribute(o)&&(n=t.getAttribute(o));const r="dompurify"+(n?"#"+n:"");try{return e.createPolicy(r,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+r+" could not be created."),null}};function Q(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X();const n=e=>Q(e);if(n.version="3.1.7",n.removed=[],!t||!t.document||t.document.nodeType!==K.document)return n.isSupported=!1,n;let{document:o}=t;const r=o,s=r.currentScript,{DocumentFragment:l,HTMLTemplateElement:c,Node:E,Element:x,NodeFilter:T,NamedNodeMap:z=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:U,DOMParser:H,trustedTypes:F}=t,j=x.prototype,q=C(j,"cloneNode"),G=C(j,"remove"),Y=C(j,"nextSibling"),ee=C(j,"childNodes"),te=C(j,"parentNode");if("function"==typeof c){const e=o.createElement("template");e.content&&e.content.ownerDocument&&(o=e.content.ownerDocument)}let ne,oe="";const{implementation:re,createNodeIterator:ie,createDocumentFragment:se,getElementsByTagName:ae}=o,{importNode:le}=r;let ce={};n.isSupported="function"==typeof e&&"function"==typeof te&&re&&void 0!==re.createHTMLDocument;const{MUSTACHE_EXPR:de,ERB_EXPR:ue,TMPLIT_EXPR:pe,DATA_ATTR:me,ARIA_ATTR:ge,IS_SCRIPT_OR_DATA:he,ATTR_WHITESPACE:fe,CUSTOM_ELEMENT:_e}=Z;let{IS_ALLOWED_URI:ve}=Z,ye=null;const we=S({},[...k,...L,...M,...A,...O]);let be=null;const Ee=S({},[...N,...D,...P,...B]);let xe=Object.seal(a(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Se=null,Te=null,$e=!0,Ce=!0,ke=!1,Le=!0,Me=!1,Ie=!0,Ae=!1,Re=!1,Oe=!1,Ne=!1,De=!1,Pe=!1,Be=!0,ze=!1;const Ue="user-content-";let He=!0,Fe=!1,je={},We=null;const qe=S({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ge=null;const Ve=S({},["audio","video","img","source","image","track"]);let Ye=null;const Ze=S({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ke="http://www.w3.org/1998/Math/MathML",Xe="http://www.w3.org/2000/svg",Je="http://www.w3.org/1999/xhtml";let Qe=Je,et=!1,tt=null;const nt=S({},[Ke,Xe,Je],g);let ot=null;const rt=["application/xhtml+xml","text/html"],it="text/html";let st=null,at=null;const lt=o.createElement("form"),ct=function(e){return e instanceof RegExp||e instanceof Function},dt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!at||at!==e){if(e&&"object"==typeof e||(e={}),e=$(e),ot=-1===rt.indexOf(e.PARSER_MEDIA_TYPE)?it:e.PARSER_MEDIA_TYPE,st="application/xhtml+xml"===ot?g:m,ye=y(e,"ALLOWED_TAGS")?S({},e.ALLOWED_TAGS,st):we,be=y(e,"ALLOWED_ATTR")?S({},e.ALLOWED_ATTR,st):Ee,tt=y(e,"ALLOWED_NAMESPACES")?S({},e.ALLOWED_NAMESPACES,g):nt,Ye=y(e,"ADD_URI_SAFE_ATTR")?S($(Ze),e.ADD_URI_SAFE_ATTR,st):Ze,Ge=y(e,"ADD_DATA_URI_TAGS")?S($(Ve),e.ADD_DATA_URI_TAGS,st):Ve,We=y(e,"FORBID_CONTENTS")?S({},e.FORBID_CONTENTS,st):qe,Se=y(e,"FORBID_TAGS")?S({},e.FORBID_TAGS,st):{},Te=y(e,"FORBID_ATTR")?S({},e.FORBID_ATTR,st):{},je=!!y(e,"USE_PROFILES")&&e.USE_PROFILES,$e=!1!==e.ALLOW_ARIA_ATTR,Ce=!1!==e.ALLOW_DATA_ATTR,ke=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Le=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Me=e.SAFE_FOR_TEMPLATES||!1,Ie=!1!==e.SAFE_FOR_XML,Ae=e.WHOLE_DOCUMENT||!1,Ne=e.RETURN_DOM||!1,De=e.RETURN_DOM_FRAGMENT||!1,Pe=e.RETURN_TRUSTED_TYPE||!1,Oe=e.FORCE_BODY||!1,Be=!1!==e.SANITIZE_DOM,ze=e.SANITIZE_NAMED_PROPS||!1,He=!1!==e.KEEP_CONTENT,Fe=e.IN_PLACE||!1,ve=e.ALLOWED_URI_REGEXP||W,Qe=e.NAMESPACE||Je,xe=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&ct(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(xe.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&ct(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(xe.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(xe.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Me&&(Ce=!1),De&&(Ne=!0),je&&(ye=S({},O),be=[],!0===je.html&&(S(ye,k),S(be,N)),!0===je.svg&&(S(ye,L),S(be,D),S(be,B)),!0===je.svgFilters&&(S(ye,M),S(be,D),S(be,B)),!0===je.mathMl&&(S(ye,A),S(be,P),S(be,B))),e.ADD_TAGS&&(ye===we&&(ye=$(ye)),S(ye,e.ADD_TAGS,st)),e.ADD_ATTR&&(be===Ee&&(be=$(be)),S(be,e.ADD_ATTR,st)),e.ADD_URI_SAFE_ATTR&&S(Ye,e.ADD_URI_SAFE_ATTR,st),e.FORBID_CONTENTS&&(We===qe&&(We=$(We)),S(We,e.FORBID_CONTENTS,st)),He&&(ye["#text"]=!0),Ae&&S(ye,["html","head","body"]),ye.table&&(S(ye,["tbody"]),delete Se.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw b('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw b('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ne=e.TRUSTED_TYPES_POLICY,oe=ne.createHTML("")}else void 0===ne&&(ne=J(F,s)),null!==ne&&"string"==typeof oe&&(oe=ne.createHTML(""));i&&i(e),at=e}},ut=S({},["mi","mo","mn","ms","mtext"]),pt=S({},["annotation-xml"]),mt=S({},["title","style","font","a","script"]),gt=S({},[...L,...M,...I]),ht=S({},[...A,...R]),ft=function(e){let t=te(e);t&&t.tagName||(t={namespaceURI:Qe,tagName:"template"});const n=m(e.tagName),o=m(t.tagName);return!!tt[e.namespaceURI]&&(e.namespaceURI===Xe?t.namespaceURI===Je?"svg"===n:t.namespaceURI===Ke?"svg"===n&&("annotation-xml"===o||ut[o]):Boolean(gt[n]):e.namespaceURI===Ke?t.namespaceURI===Je?"math"===n:t.namespaceURI===Xe?"math"===n&&pt[o]:Boolean(ht[n]):e.namespaceURI===Je?!(t.namespaceURI===Xe&&!pt[o])&&!(t.namespaceURI===Ke&&!ut[o])&&!ht[n]&&(mt[n]||!gt[n]):!("application/xhtml+xml"!==ot||!tt[e.namespaceURI]))},_t=function(e){p(n.removed,{element:e});try{te(e).removeChild(e)}catch(t){G(e)}},vt=function(e,t){try{p(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){p(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!be[e])if(Ne||De)try{_t(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},yt=function(e){let t=null,n=null;if(Oe)e="<remove></remove>"+e;else{const t=h(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===ot&&Qe===Je&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const r=ne?ne.createHTML(e):e;if(Qe===Je)try{t=(new H).parseFromString(r,ot)}catch(e){}if(!t||!t.documentElement){t=re.createDocument(Qe,"template",null);try{t.documentElement.innerHTML=et?oe:r}catch(e){}}const i=t.body||t.documentElement;return e&&n&&i.insertBefore(o.createTextNode(n),i.childNodes[0]||null),Qe===Je?ae.call(t,Ae?"html":"body")[0]:Ae?t.documentElement:i},wt=function(e){return ie.call(e.ownerDocument||e,e,T.SHOW_ELEMENT|T.SHOW_COMMENT|T.SHOW_TEXT|T.SHOW_PROCESSING_INSTRUCTION|T.SHOW_CDATA_SECTION,null)},bt=function(e){return e instanceof U&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof z)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},Et=function(e){return"function"==typeof E&&e instanceof E},xt=function(e,t,o){ce[e]&&d(ce[e],(e=>{e.call(n,t,o,at)}))},St=function(e){let t=null;if(xt("beforeSanitizeElements",e,null),bt(e))return _t(e),!0;const o=st(e.nodeName);if(xt("uponSanitizeElement",e,{tagName:o,allowedTags:ye}),e.hasChildNodes()&&!Et(e.firstElementChild)&&w(/<[/\w]/g,e.innerHTML)&&w(/<[/\w]/g,e.textContent))return _t(e),!0;if(e.nodeType===K.progressingInstruction)return _t(e),!0;if(Ie&&e.nodeType===K.comment&&w(/<[/\w]/g,e.data))return _t(e),!0;if(!ye[o]||Se[o]){if(!Se[o]&&$t(o)){if(xe.tagNameCheck instanceof RegExp&&w(xe.tagNameCheck,o))return!1;if(xe.tagNameCheck instanceof Function&&xe.tagNameCheck(o))return!1}if(He&&!We[o]){const t=te(e)||e.parentNode,n=ee(e)||e.childNodes;if(n&&t)for(let o=n.length-1;o>=0;--o){const r=q(n[o],!0);r.__removalCount=(e.__removalCount||0)+1,t.insertBefore(r,Y(e))}}return _t(e),!0}return e instanceof x&&!ft(e)?(_t(e),!0):"noscript"!==o&&"noembed"!==o&&"noframes"!==o||!w(/<\/no(script|embed|frames)/i,e.innerHTML)?(Me&&e.nodeType===K.text&&(t=e.textContent,d([de,ue,pe],(e=>{t=f(t,e," ")})),e.textContent!==t&&(p(n.removed,{element:e.cloneNode()}),e.textContent=t)),xt("afterSanitizeElements",e,null),!1):(_t(e),!0)},Tt=function(e,t,n){if(Be&&("id"===t||"name"===t)&&(n in o||n in lt))return!1;if(Ce&&!Te[t]&&w(me,t));else if($e&&w(ge,t));else if(!be[t]||Te[t]){if(!($t(e)&&(xe.tagNameCheck instanceof RegExp&&w(xe.tagNameCheck,e)||xe.tagNameCheck instanceof Function&&xe.tagNameCheck(e))&&(xe.attributeNameCheck instanceof RegExp&&w(xe.attributeNameCheck,t)||xe.attributeNameCheck instanceof Function&&xe.attributeNameCheck(t))||"is"===t&&xe.allowCustomizedBuiltInElements&&(xe.tagNameCheck instanceof RegExp&&w(xe.tagNameCheck,n)||xe.tagNameCheck instanceof Function&&xe.tagNameCheck(n))))return!1}else if(Ye[t]);else if(w(ve,f(n,fe,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==_(n,"data:")||!Ge[e])if(ke&&!w(he,f(n,fe,"")));else if(n)return!1;return!0},$t=function(e){return"annotation-xml"!==e&&h(e,_e)},Ct=function(e){xt("beforeSanitizeAttributes",e,null);const{attributes:t}=e;if(!t)return;const o={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:be};let r=t.length;for(;r--;){const i=t[r],{name:s,namespaceURI:a,value:l}=i,c=st(s);let p="value"===s?l:v(l);if(o.attrName=c,o.attrValue=p,o.keepAttr=!0,o.forceKeepAttr=void 0,xt("uponSanitizeAttribute",e,o),p=o.attrValue,o.forceKeepAttr)continue;if(vt(s,e),!o.keepAttr)continue;if(!Le&&w(/\/>/i,p)){vt(s,e);continue}Me&&d([de,ue,pe],(e=>{p=f(p,e," ")}));const m=st(e.nodeName);if(Tt(m,c,p))if(!ze||"id"!==c&&"name"!==c||(vt(s,e),p=Ue+p),Ie&&w(/((--!?|])>)|<\/(style|title)/i,p))vt(s,e);else{if(ne&&"object"==typeof F&&"function"==typeof F.getAttributeType)if(a);else switch(F.getAttributeType(m,c)){case"TrustedHTML":p=ne.createHTML(p);break;case"TrustedScriptURL":p=ne.createScriptURL(p)}try{a?e.setAttributeNS(a,s,p):e.setAttribute(s,p),bt(e)?_t(e):u(n.removed)}catch(e){}}}xt("afterSanitizeAttributes",e,null)},kt=function e(t){let n=null;const o=wt(t);for(xt("beforeSanitizeShadowDOM",t,null);n=o.nextNode();)xt("uponSanitizeShadowNode",n,null),St(n)||(n.content instanceof l&&e(n.content),Ct(n));xt("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=null,i=null,s=null,a=null;if(et=!e,et&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Et(e)){if("function"!=typeof e.toString)throw b("toString is not a function");if("string"!=typeof(e=e.toString()))throw b("dirty is not a string, aborting")}if(!n.isSupported)return e;if(Re||dt(t),n.removed=[],"string"==typeof e&&(Fe=!1),Fe){if(e.nodeName){const t=st(e.nodeName);if(!ye[t]||Se[t])throw b("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof E)o=yt("\x3c!----\x3e"),i=o.ownerDocument.importNode(e,!0),i.nodeType===K.element&&"BODY"===i.nodeName||"HTML"===i.nodeName?o=i:o.appendChild(i);else{if(!Ne&&!Me&&!Ae&&-1===e.indexOf("<"))return ne&&Pe?ne.createHTML(e):e;if(o=yt(e),!o)return Ne?null:Pe?oe:""}o&&Oe&&_t(o.firstChild);const c=wt(Fe?e:o);for(;s=c.nextNode();)St(s)||(s.content instanceof l&&kt(s.content),Ct(s));if(Fe)return e;if(Ne){if(De)for(a=se.call(o.ownerDocument);o.firstChild;)a.appendChild(o.firstChild);else a=o;return(be.shadowroot||be.shadowrootmode)&&(a=le.call(r,a,!0)),a}let u=Ae?o.outerHTML:o.innerHTML;return Ae&&ye["!doctype"]&&o.ownerDocument&&o.ownerDocument.doctype&&o.ownerDocument.doctype.name&&w(V,o.ownerDocument.doctype.name)&&(u="<!DOCTYPE "+o.ownerDocument.doctype.name+">\n"+u),Me&&d([de,ue,pe],(e=>{u=f(u,e," ")})),ne&&Pe?ne.createHTML(u):u},n.setConfig=function(){dt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Re=!0},n.clearConfig=function(){at=null,Re=!1},n.isValidAttribute=function(e,t,n){at||dt({});const o=st(e),r=st(t);return Tt(o,r,n)},n.addHook=function(e,t){"function"==typeof t&&(ce[e]=ce[e]||[],p(ce[e],t))},n.removeHook=function(e){if(ce[e])return u(ce[e])},n.removeHooks=function(e){ce[e]&&(ce[e]=[])},n.removeAllHooks=function(){ce={}},n}var ee=Q();return ee}()}(Tn);const $n=(e,t={})=>Tn.exports.sanitize(e,{USE_PROFILES:{html:!0},...t}),Cn=()=>{const e=new URL(window.location.href);return"https:"===e.protocol&&"docs.google.com"===e.hostname&&"/document/"===e.pathname.slice(0,10)},kn=()=>{const e=document.querySelector(".docs-texteventtarget-iframe")?.contentWindow;return{iFrame:e,editable:e&&e.document.querySelector("[contenteditable=true]")}},Ln=()=>{const{iFrame:e,editable:t}=kn();if(!e||!t)return;const n=new e.ClipboardEvent("copy",{bubbles:!0,clipboardData:new e.DataTransfer});t.dispatchEvent(n)},Mn=()=>{const{iFrame:e,editable:t}=kn();if(!e||!t)return;const n=new e.CustomEvent("copy",{bubbles:!0});t.dispatchEvent(n);const o=(e=>{if(0===e.length)return!0;for(let t=0;t<e.length;t++)if(8203!==e.charCodeAt(t))return!1;return!0})(t.innerText.trim());return{html:o?"":$n(t.innerHTML),text:o?"":t.innerText}},In=()=>{const e=document.querySelector("deepl-gdocs-icon")?.shadowRoot.querySelector(".dl-gdocs-icon");if(!e)return void console.error("GDocs Icon was not present while trying to get the coordinates");const t=e.getBoundingClientRect(),n=document.body.parentNode.getBoundingClientRect(),{top:o,left:r,right:i,bottom:s,height:a,width:l}=t;return{x:r-n.left,y:s-n.top,selectedTop:o,selectedBottom:s,selectedRight:n.width-i,selectedLeft:r+window.scrollX,selectedWidth:l,height:a}},An=()=>{const e=document.querySelector("#docs-instant-bubble"),t=document.querySelector(".kix-appview-editor"),n=document.querySelector(".kix-page-paginated"),o=120,r=40,i=t.getBoundingClientRect();let s=!1;const a={top:0,left:0};try{if(!e)throw new Error;const t=e.getBoundingClientRect();if(t.left<=0)throw new Error;const n=Math.round(t.top+134||0);a.left=t.left,a.top=n?n+20:0,a.top+o/2<i.top+10&&(a.top=i.top+10),a.top-o/2>i.bottom&&(s=!0)}catch(e){if(n){const e=n.getBoundingClientRect();a.left=e.right-r/2,a.top=i.top+30}}return a.left+r/2>i.right&&(s=!0),{shouldBeOutOfViewport:s,newPosition:a}},Rn=()=>!!document.querySelector("#docs-toolbar-wrapper"),On=e=>{const t=e.clipboardData.getData("application/x-vnd.google-docs-document-slice-clip+wrapped"),n=JSON.parse(t),o=JSON.parse(n.data).resolved,r=[];let i="";for(let e=0;e<o.dsl_spacers.length;e++){const t=o.dsl_spacers[e];o.dsl_styleslices.forEach((t=>{if(t.stsl_styles.length>0&&t.stsl_styles[e]){const n=`a${r.length+1}`;r.push({entity_type:t.stsl_type,entity_abbreviation:n,entity:t.stsl_styles[e]}),i+=`<${n}>`}})),i+=t}const s=[],a=i.split("\n").map((e=>{const t=e.replace(/<a\d+>/g,"").trim().length>0;if(t){const{leading:n,trailing:o,processedLine:r}=Nn(e);return s.push(r),{isTranslatable:t,index:s.length-1,leading:n,trailing:o}}return{isTranslatable:t,line:e}}));return{textLines:s,entities:r,contentReference:a,originalObject:n,originalText:o.dsl_spacers}},Nn=e=>{const{leadingEntities:t,processedLine:n}=Dn(e),{trailingEntities:o,processedLine:r}=Pn(n);return{leading:t,trailing:o,processedLine:r}},Dn=e=>{let t="",n="",o="",r=!0;for(const i of e){if(r){const e=o[o.length-1];if("<"===i&&0===o.length){o="<";continue}if(">"===i&&o.length>0&&e.match(/\d/)){t=t+o+">",o="";continue}if("a"===i&&o.length>0&&"<"===e){o+="a";continue}if(i.match(/\d/)&&o.length>0&&("a"===e||e.match(/\d/))){o+=i;continue}if(Bn(i)&&0===o.length){t+=i;continue}r=!1,o=""}n+=i}return{processedLine:n,leadingEntities:t}},Pn=e=>{let t="",n="",o="",r=!0;for(const i of e.split("").reverse()){if(r){if(">"===i&&0===o.length){o=">";continue}if("<"===i&&o.length>0&&"a"===o[0]){t="<"+o+t,o="";continue}if("a"===i&&o.length>0&&o[0].match(/\d/)){o="a"+o;continue}if(i.match(/\d/)&&o.length>0&&(">"===o[0]||o[0].match(/\d/))){o=i+o;continue}if(Bn(i)&&0===o.length){t=i+t;continue}r=!1,o=""}n=i+n}return{processedLine:n,trailingEntities:t}},Bn=e=>[16,17,18,28].includes(e.charCodeAt(0)),zn=({textLines:e,entities:t,contentReference:n})=>{let o=n.map((t=>t.isTranslatable?`${t.leading}${Array.isArray(e[t.index])?e[t.index].join(""):e[t.index]}${t.trailing}`:t.line)).join("\n");o=o.replace(/<\/a(\d+)>/g,"<a$1>");let r="",i=[],s=0,a=0;for(;s+a<o.length;){const e=s+a;if("<"===o[e]&&"a"===o[e+1]){let n="<a",r=!0,l=!1,c=!0;for(;c;){const t=o[e+n.length];">"===t?(n+=t,l||(r=!1),c=!1):t.match(/\d/)?(n+=t,l=!0):(r=!1,c=!1)}if(r){a+=n.length;const e=t.find((e=>`<${e.entity_abbreviation}>`===n));i.push({...e,new_position:s});continue}}r+=o[e],s++}return{processedText:r,processedEntities:i}},Un=e=>e.replace(/<(\/)?a(\d+)>/g,""),Hn=e=>{const{characterMappings:t,cleanSentence:n}=jn(e),o=/[^\s.,:;!?"()*｟｠｡｢｣､･、。〈〉《》「」『』【】〔〕〖〗〘〙〚〛〝〞〟 〪 〫 〬 〭]/,r=[];let i="",s=0,a=!1;for(let e=0;e<n.length;e++){const l=n[e],c=o.test(l);c!==a&&i.length>0&&(r.push({text:i,isWord:a,offsetStart:s,offsetLength:i.length,offsetStartRaw:t[s],offsetLengthRaw:t[s+i.length]}),i=""),a=c,i+=l,1===i.length&&(s=e)}return i&&r.push({text:i,isWord:a,offsetStart:s,offsetLength:i.length,offsetStartRaw:t[s],offsetLengthRaw:t[s+i.length]}),r},Fn=({entities:e,text:t,originalObject:n})=>{const o=Wn({entities:e,text:t,originalObject:n});qn(o)},jn=e=>{const t=[];let n="";const o=e.split(/(<a\d+>)/g);let r=0;for(let e=0;e<o.length;e++){const i=o[e];if(!/^<a\d+>$/.test(i)){n+=i;for(let e=0;e<i.length;e++)t.push(r+e)}r+=i.length}return{characterMappings:t,cleanSentence:n}},Wn=({entities:e,text:t,originalObject:n})=>{const o=JSON.parse(n.data),r=o.resolved.dsl_styleslices.map((t=>{const n=e.filter((e=>e.entity_type===t.stsl_type));if(0===n.length)return t;const o={};let r=0;n.forEach((e=>{r=e.new_position>r?e.new_position:r,o[`${e.new_position}`]=e.entity}));const i=[];for(let e=0;e<=r;e++)i.push(o[`${e}`]||null);return{...t,stsl_styles:i}})),i={...o.resolved,dsl_spacers:t,dsl_styleslices:r},s={...n,data:JSON.stringify({...o,resolved:i})};return JSON.stringify(s)},qn=e=>{const{editable:t}=kn();let n;const o="application/x-vnd.google-docs-document-slice-clip+wrapped";if(En())n=new ClipboardEvent("paste",{dataType:o,data:e});else{const t=new DataTransfer;t.setData(o,e),n=new ClipboardEvent("paste",{bubbles:!0,clipboardData:t})}t.dispatchEvent(n)};function Gn(e){return!!e&&(["EN"].includes(e)?e="EN-GB":["PT"].includes(e)&&(e="PT-PT"),r.map((e=>e.langCode)).includes(e))}const Vn=e=>e.substring(0,2).toUpperCase();async function Yn(e,t=!1){let n="";const o=await chrome.i18n.detectLanguage(e);return o&&o.languages?.length>0&&(n=o.languages.sort(((e,t)=>t.percentage-e.percentage))[0].language.substr(0,2).toUpperCase()),t?{langCode:n,isReliable:o.isReliable,detectedLanguages:o.languages.sort(((e,t)=>t.percentage-e.percentage)).map((e=>({langCode:e.language.substr(0,2).toUpperCase(),percentage:e.percentage})))}:n}const Zn=()=>{let e,t,n=!1;return r.map((o=>{let r;return n=["EN-US","EN-GB","PT-PT","PT-BR","ZH-HANT"].includes(o.langCode),n&&(({optionLabel:e,selectedLabel:t}=function(e){switch(e.langCode){case"EN-US":return{optionLabel:chrome.i18n.getMessage("supported_languages_EN_US"),selectedLabel:chrome.i18n.getMessage("selected_languages_EN_US")};case"EN-GB":return{optionLabel:chrome.i18n.getMessage("supported_languages_EN_UK"),selectedLabel:chrome.i18n.getMessage("selected_languages_EN_UK")};case"PT-PT":return{optionLabel:chrome.i18n.getMessage("supported_languages_PT_PT"),selectedLabel:chrome.i18n.getMessage("selected_languages_PT_PT")};case"PT-BR":return{optionLabel:chrome.i18n.getMessage("supported_languages_PT_BR"),selectedLabel:chrome.i18n.getMessage("selected_languages_PT_BR")};case"ZH-HANT":return{optionLabel:chrome.i18n.getMessage("supported_languages_ZH_HANT"),selectedLabel:chrome.i18n.getMessage("supported_languages_ZH_HANT")};default:return{optionLabel:chrome.i18n.getMessage("supported_languages_undefined"),selectedLabel:chrome.i18n.getMessage("supported_languages_undefined")}}}(o)),r=o.langCode.slice(0,2).toLowerCase()+o.langCode.slice(2)),{value:o.langCode,label:n?e:chrome.i18n.getMessage(`supported_languages_${o.langCode}`),selectedOptionLabel:n?t:chrome.i18n.getMessage(`supported_languages_${o.langCode}`),regionalVariant:r}})).sort(((e,t)=>e.label.localeCompare(t.label,chrome.i18n.getUILanguage())))};function Kn(e){return"EN"===e?"EN-GB":"PT"===e?"PT-PT":e}function Xn(e,t,n){return"EN"===e?t["EN-GB"]===n||t["EN-US"]===n:"PT"===e?t["PT-PT"]===n||t["PT-BR"]===n:t[e]===n}const Jn=e=>i.includes(e?.substr(0,2).toUpperCase()),Qn=e=>{const t=r.find((t=>t.langCode===e));return t&&t.supportsFormality},eo=e=>{const t=e||chrome.i18n.getUILanguage();return["ar","he","fa","ur"].includes(t.toLowerCase().substr(0,2))?"rtl":"ltr"};function to(e){if("rtl"===e.dir)return!0;return"rtl"===window.getComputedStyle(e).direction}const no=()=>{const e="https://docs.google.com";return window.location.href.substr(0,23)===e&&!!document.querySelector("#sketchy-hidden-iframe")},oo=async()=>{const e=[],t=n=>{const o=[],r=[];for(let e=0;e<n.children.length;e++){const t=n.children[e];"text"===t.tagName.toLowerCase()?o.push(t):"g"===t.tagName.toLowerCase()&&r.push(t)}o.length>0&&e.push(o.map((e=>e.textContent)).join(" "));for(const e of r)t(e)},n=ao();if(n){t(n);const o=e.join("\n");return await Yn(o)}},ro=async()=>{const e=ao(),t=document.querySelector("#canvas-container").getBoundingClientRect();if(e){const n=t.left-2,o=t.top-2,r=t.right+2,i=t.bottom+2,s=new MouseEvent("mousedown",{bubbles:!0,cancelable:!0,view:window,clientX:n,clientY:o});e.dispatchEvent(s);for(let t=1;t<=10;t++){const s=new MouseEvent("mousemove",{bubbles:!0,cancelable:!0,view:window,clientX:n+t/10*(r-n),clientY:o+t/10*(i-o)});e.dispatchEvent(s),await new Promise((e=>setTimeout(e,25)))}const a=new MouseEvent("mouseup",{bubbles:!0,cancelable:!0,view:window,clientX:r,clientY:i});e.dispatchEvent(a)}},io=e=>{const t=[],n=[];for(const n of e){const e=n[0],o=n[1];if(15===e){const e=n[4];if(""===e.trim())continue;const r=t.find((e=>e.id===o));if(r)continue;const i={id:o,originalContent:e,translatedContent:"",sentencesIndexes:[],originalSentences:[],translatedSentences:[],modifiers:[],secondaryModifiers:[],entity:n,orphanModifiers:[],orphanModifiersIntegrityCheck:[]};t.push(i)}else if(17===e){const e=t.find((e=>e.id===o));if(!e)continue;e.modifiers.push(n)}else if(41===e){const e=t.find((e=>e.id===o));if(!e)continue;e.secondaryModifiers.push(n)}}for(let e=0;e<t.length;e++){const o=t[e];o.orphanModifiers=lo(o);const{originalSentences:r,orphanModifiersIntegrityCheck:i}=po(o);o.originalSentences=r,o.orphanModifiersIntegrityCheck=i;for(const e of o.originalSentences)o.sentencesIndexes.push(n.length),n.push(e)}return{entities:t,sentencesToTranslate:n}},so=({entity:e,translatedSentences:t,modifiersToDelete:n})=>{e.translatedSentences=e.sentencesIndexes.map((e=>t[e]));const{translatedContent:o,orphanModifiersMappingEquivalences:r}=mo(e);if(e.translatedContent=o,!e.translatedContent||e.translatedContent===e.originalContent)return;e.entity[4]=e.translatedContent;const i=go(r,e);for(let t=0;t<e.modifiers.length;t++){const o=e.modifiers[t];let r=!1;if(ho(o,i)){const{start:e,end:t}=fo(o,i);t<=e?r=!0:(o[3]=e,o[4]=t)}else r=!0;r&&n.push(o)}},ao=()=>Array.from(document.querySelectorAll("#pages svg")).find((e=>"none"!==getComputedStyle(e).display)),lo=({originalContent:e,modifiers:t})=>{const n=uo(e);return co(t).filter((e=>!n.includes(e)))},co=e=>{const t=[];for(const n of e)t.includes(n[3])||t.push(n[3]),t.includes(n[4])||t.push(n[4]);return t},uo=e=>{const t=e.split("\n"),n=[0];let o=0;for(const e of t){const t=o+e.length;n.includes(t)||n.push(t),n.includes(t+1)||n.push(t+1),o=t+1}return n},po=({originalContent:e,orphanModifiers:t})=>{let n=0;const o={},r=e.split("\n").map((e=>{let r="";for(let i=0;i<e.length;i++){const s=n+i;if(t.includes(s)){const n=t.indexOf(s);/\s/.test(e[i])&&(o[`${n}`]=e[i]),r+=`<a${n}>`}r+=e[i]}return n+=e.length+1,r}));return{orphanModifiersIntegrityCheck:o,originalSentences:r}},mo=e=>{let t={},n=0;return{translatedContent:e.translatedSentences.map((o=>{const r={};let i=0;const s=o.replace(/<a\d+>/g,((t,s)=>{const a=t.match(/<a(\d+)>/);if(a){const l=a[1],c=t.length,d=e.orphanModifiers[Number(l)];void 0!==d&&(r[`${d}`]=i+n+s-c*Object.keys(r).length);const u=o.charAt(s+c);if(u&&void 0!==e.orphanModifiersIntegrityCheck[`${l}`]&&e.orphanModifiersIntegrityCheck[`${l}`]!==u)return i++,e.orphanModifiersIntegrityCheck[`${l}`]}return""}));return t={...t,...r},n+=s.length+1,s})).join("\n"),orphanModifiersMappingEquivalences:t}},go=(e={},{originalContent:t,translatedContent:n})=>{const o=uo(t),r=uo(n),i={};for(let e=0;e<o.length;e++)i[`${o[e]}`]=r[e];return{...e,...i}},ho=(e,t)=>{const n=e[3],o=e[4];return void 0!==t[`${n}`]&&void 0!==t[`${o}`]},fo=(e,t)=>{const n=e[3],o=e[4];return{start:t[`${n}`],end:t[`${o}`]}},_o=(e=25,t=null)=>new Promise((n=>setTimeout((()=>n(t)),e)));function vo(){return crypto.randomUUID()}const yo="production",wo="development";function bo(){return yo}function Eo(){return bo()===wo}function xo(){return bo()===yo}const So=Object.prototype.toString;function To(e){switch(So.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Do(e,Error)}}function $o(e,t){return So.call(e)===`[object ${t}]`}function Co(e){return $o(e,"ErrorEvent")}function ko(e){return $o(e,"DOMError")}function Lo(e){return $o(e,"String")}function Mo(e){return"object"==typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function Io(e){return null===e||Mo(e)||"object"!=typeof e&&"function"!=typeof e}function Ao(e){return $o(e,"Object")}function Ro(e){return"undefined"!=typeof Event&&Do(e,Event)}function Oo(e){return $o(e,"RegExp")}function No(e){return Boolean(e&&e.then&&"function"==typeof e.then)}function Do(e,t){try{return e instanceof t}catch(e){return!1}}function Po(e){return!("object"!=typeof e||null===e||!e.__isVue&&!e._isVue)}function Bo(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}function zo(e,t){let n=e;const o=n.length;if(o<=150)return n;t>o&&(t=o);let r=Math.max(t-60,0);r<5&&(r=0);let i=Math.min(r+140,o);return i>o-5&&(i=o),i===o&&(r=Math.max(i-140,0)),n=n.slice(r,i),r>0&&(n=`'{snip} ${n}`),i<o&&(n+=" {snip}"),n}function Uo(e,t){if(!Array.isArray(e))return"";const n=[];for(let t=0;t<e.length;t++){const o=e[t];try{Po(o)?n.push("[VueViewModel]"):n.push(String(o))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)}function Ho(e,t=[],n=!1){return t.some((t=>function(e,t,n=!1){return!!Lo(e)&&(Oo(t)?t.test(e):!!Lo(t)&&(n?e===t:e.includes(t)))}(e,t,n)))}function Fo(e,t,n=250,o,r,i,s){if(!(i.exception&&i.exception.values&&s&&Do(s.originalException,Error)))return;const a=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;var l,c;a&&(i.exception.values=(l=jo(e,t,r,s.originalException,o,i.exception.values,a,0),c=n,l.map((e=>(e.value&&(e.value=Bo(e.value,c)),e)))))}function jo(e,t,n,o,r,i,s,a){if(i.length>=n+1)return i;let l=[...i];if(Do(o[r],Error)){Wo(s,a);const i=e(t,o[r]),c=l.length;qo(i,r,c,a),l=jo(e,t,n,o[r],r,[i,...l],i,c)}return Array.isArray(o.errors)&&o.errors.forEach(((o,i)=>{if(Do(o,Error)){Wo(s,a);const c=e(t,o),d=l.length;qo(c,`errors[${i}]`,d,a),l=jo(e,t,n,o,r,[c,...l],c,d)}})),l}function Wo(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,..."AggregateError"===e.type&&{is_exception_group:!0},exception_id:t}}function qo(e,t,n,o){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:o}}function Go(e){return e&&e.Math==Math?e:void 0}const Vo="object"==typeof globalThis&&Go(globalThis)||"object"==typeof window&&Go(window)||"object"==typeof self&&Go(self)||"object"==typeof global&&Go(global)||function(){return this}()||{};function Yo(){return Vo}function Zo(e,t,n){const o=n||Vo,r=o.__SENTRY__=o.__SENTRY__||{};return r[e]||(r[e]=t())}const Ko=Yo();function Xo(e,t={}){if(!e)return"<unknown>";try{let n=e;const o=5,r=[];let i=0,s=0;const a=" > ",l=a.length;let c;const d=Array.isArray(t)?t:t.keyAttrs,u=!Array.isArray(t)&&t.maxStringLength||80;for(;n&&i++<o&&(c=Jo(n,d),!("html"===c||i>1&&s+r.length*l+c.length>=u));)r.push(c),s+=c.length,n=n.parentNode;return r.reverse().join(a)}catch(e){return"<unknown>"}}function Jo(e,t){const n=e,o=[];let r,i,s,a,l;if(!n||!n.tagName)return"";if(Ko.HTMLElement&&n instanceof HTMLElement&&n.dataset&&n.dataset.sentryComponent)return n.dataset.sentryComponent;o.push(n.tagName.toLowerCase());const c=t&&t.length?t.filter((e=>n.getAttribute(e))).map((e=>[e,n.getAttribute(e)])):null;if(c&&c.length)c.forEach((e=>{o.push(`[${e[0]}="${e[1]}"]`)}));else if(n.id&&o.push(`#${n.id}`),r=n.className,r&&Lo(r))for(i=r.split(/\s+/),l=0;l<i.length;l++)o.push(`.${i[l]}`);const d=["aria-label","type","name","title","alt"];for(l=0;l<d.length;l++)s=d[l],a=n.getAttribute(s),a&&o.push(`[${s}="${a}"]`);return o.join("")}function Qo(){try{return Ko.document.location.href}catch(e){return""}}const er="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,tr=["debug","info","warn","error","log","assert","trace"],nr={};function or(e){if(!("console"in Vo))return e();const t=Vo.console,n={},o=Object.keys(nr);o.forEach((e=>{const o=nr[e];n[e]=t[e],t[e]=o}));try{return e()}finally{o.forEach((e=>{t[e]=n[e]}))}}const rr=function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return er?tr.forEach((n=>{t[n]=(...t)=>{e&&or((()=>{Vo.console[n](`Sentry Logger [${n}]:`,...t)}))}})):tr.forEach((e=>{t[e]=()=>{}})),t}(),ir=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function sr(e,t=!1){const{host:n,path:o,pass:r,port:i,projectId:s,protocol:a,publicKey:l}=e;return`${a}://${l}${t&&r?`:${r}`:""}@${n}${i?`:${i}`:""}/${o?`${o}/`:o}${s}`}function ar(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function lr(e){const t="string"==typeof e?function(e){const t=ir.exec(e);if(!t)return void or((()=>{console.error(`Invalid Sentry Dsn: ${e}`)}));const[n,o,r="",i,s="",a]=t.slice(1);let l="",c=a;const d=c.split("/");if(d.length>1&&(l=d.slice(0,-1).join("/"),c=d.pop()),c){const e=c.match(/^\d+/);e&&(c=e[0])}return ar({host:i,pass:r,path:l,projectId:c,port:s,protocol:n,publicKey:o})}(e):ar(e);if(t&&function(e){if(!er)return!0;const{port:t,projectId:n,protocol:o}=e;return!(["protocol","publicKey","host","projectId"].find((t=>!e[t]&&(rr.error(`Invalid Sentry Dsn: ${t} missing`),!0)))||(n.match(/^\d+$/)?function(e){return"http"===e||"https"===e}(o)?t&&isNaN(parseInt(t,10))&&(rr.error(`Invalid Sentry Dsn: Invalid port ${t}`),1):(rr.error(`Invalid Sentry Dsn: Invalid protocol ${o}`),1):(rr.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),1)))}(t))return t}class cr extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}}function dr(e,t,n){if(!(t in e))return;const o=e[t],r=n(o);"function"==typeof r&&pr(r,o),e[t]=r}function ur(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch(n){er&&rr.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function pr(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,ur(e,"__sentry_original__",t)}catch(e){}}function mr(e){return e.__sentry_original__}function gr(e){if(To(e))return{message:e.message,name:e.name,stack:e.stack,...fr(e)};if(Ro(e)){const t={type:e.type,target:hr(e.target),currentTarget:hr(e.currentTarget),...fr(e)};return"undefined"!=typeof CustomEvent&&Do(e,CustomEvent)&&(t.detail=e.detail),t}return e}function hr(e){try{return t=e,"undefined"!=typeof Element&&Do(t,Element)?Xo(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}var t}function fr(e){if("object"==typeof e&&null!==e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function _r(e){return vr(e,new Map)}function vr(e,t){if(function(e){if(!Ao(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||"Object"===t}catch(e){return!0}}(e)){const n=t.get(e);if(void 0!==n)return n;const o={};t.set(e,o);for(const n of Object.keys(e))void 0!==e[n]&&(o[n]=vr(e[n],t));return o}if(Array.isArray(e)){const n=t.get(e);if(void 0!==n)return n;const o=[];return t.set(e,o),e.forEach((e=>{o.push(vr(e,t))})),o}return e}const yr=/\(error: (.*)\)/,wr=/captureMessage|captureException/;const br="<anonymous>";function Er(e){try{return e&&"function"==typeof e&&e.name||br}catch(e){return br}}const xr={},Sr={};function Tr(e,t){xr[e]=xr[e]||[],xr[e].push(t)}function $r(e,t){Sr[e]||(t(),Sr[e]=!0)}function Cr(e,t){const n=e&&xr[e];if(n)for(const o of n)try{o(t)}catch(t){er&&rr.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${Er(o)}\nError:`,t)}}function kr(e){const t="console";Tr(t,e),$r(t,Lr)}function Lr(){"console"in Vo&&tr.forEach((function(e){e in Vo.console&&dr(Vo.console,e,(function(t){return nr[e]=t,function(...t){Cr("console",{args:t,level:e});const n=nr[e];n&&n.apply(Vo.console,t)}}))}))}function Mr(){const e=Vo,t=e.crypto||e.msCrypto;let n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const e=new Uint8Array(1);return t.getRandomValues(e),e[0]})}catch(e){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(e=>(e^(15&n())>>e/4).toString(16)))}function Ir(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function Ar(e){const{message:t,event_id:n}=e;if(t)return t;const o=Ir(e);return o?o.type&&o.value?`${o.type}: ${o.value}`:o.type||o.value||n||"<unknown>":n||"<unknown>"}function Rr(e,t,n){const o=e.exception=e.exception||{},r=o.values=o.values||[],i=r[0]=r[0]||{};i.value||(i.value=t||""),i.type||(i.type=n||"Error")}function Or(e,t){const n=Ir(e);if(!n)return;const o=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...o,...t},t&&"data"in t){const e={...o&&o.data,...t.data};n.mechanism.data=e}}function Nr(e){if(e&&e.__sentry_captured__)return!0;try{ur(e,"__sentry_captured__",!0)}catch(e){}return!1}function Dr(e){return Array.isArray(e)?e:[e]}const Pr=Vo;let Br,zr,Ur;function Hr(e){Tr("dom",e),$r("dom",Fr)}function Fr(){if(!Pr.document)return;const e=Cr.bind(null,"dom"),t=jr(e,!0);Pr.document.addEventListener("click",t,!1),Pr.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((t=>{const n=Pr[t]&&Pr[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(dr(n,"addEventListener",(function(t){return function(n,o,r){if("click"===n||"keypress"==n)try{const o=this,i=o.__sentry_instrumentation_handlers__=o.__sentry_instrumentation_handlers__||{},s=i[n]=i[n]||{refCount:0};if(!s.handler){const o=jr(e);s.handler=o,t.call(this,n,o,r)}s.refCount++}catch(e){}return t.call(this,n,o,r)}})),dr(n,"removeEventListener",(function(e){return function(t,n,o){if("click"===t||"keypress"==t)try{const n=this,r=n.__sentry_instrumentation_handlers__||{},i=r[t];i&&(i.refCount--,i.refCount<=0&&(e.call(this,t,i.handler,o),i.handler=void 0,delete r[t]),0===Object.keys(r).length&&delete n.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,n,o)}})))}))}function jr(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const o=function(e){try{return e.target}catch(e){return null}}(n);if(function(e,t){return"keypress"===e&&(!t||!t.tagName||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!t.isContentEditable)}(n.type,o))return;ur(n,"_sentryCaptured",!0),o&&!o._sentryId&&ur(o,"_sentryId",Mr());const r="keypress"===n.type?"input":n.type;if(!function(e){if(e.type!==zr)return!1;try{if(!e.target||e.target._sentryId!==Ur)return!1}catch(e){}return!0}(n)){e({event:n,name:r,global:t}),zr=n.type,Ur=o?o._sentryId:void 0}clearTimeout(Br),Br=Pr.setTimeout((()=>{Ur=void 0,zr=void 0}),1e3)}}const Wr=Yo();function qr(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function Gr(){if("string"==typeof EdgeRuntime)return!0;if(!function(){if(!("fetch"in Wr))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}())return!1;if(qr(Wr.fetch))return!0;let e=!1;const t=Wr.document;if(t&&"function"==typeof t.createElement)try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=qr(n.contentWindow.fetch)),t.head.removeChild(n)}catch(e){er&&rr.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return e}function Vr(e){const t="fetch";Tr(t,e),$r(t,Yr)}function Yr(){Gr()&&dr(Vo,"fetch",(function(e){return function(...t){const{method:n,url:o}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){const[t,n]=e;return{url:Kr(t),method:Zr(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:Kr(t),method:Zr(t,"method")?String(t.method).toUpperCase():"GET"}}(t),r={args:t,fetchData:{method:n,url:o},startTimestamp:Date.now()};return Cr("fetch",{...r}),e.apply(Vo,t).then((e=>(Cr("fetch",{...r,endTimestamp:Date.now(),response:e}),e)),(e=>{throw Cr("fetch",{...r,endTimestamp:Date.now(),error:e}),e}))}}))}function Zr(e,t){return!!e&&"object"==typeof e&&!!e[t]}function Kr(e){return"string"==typeof e?e:e?Zr(e,"url")?e.url:e.toString?e.toString():"":""}let Xr=null;function Jr(){Xr=Vo.onerror,Vo.onerror=function(e,t,n,o,r){return Cr("error",{column:o,error:r,line:n,msg:e,url:t}),!(!Xr||Xr.__SENTRY_LOADER__)&&Xr.apply(this,arguments)},Vo.onerror.__SENTRY_INSTRUMENTED__=!0}let Qr=null;function ei(){Qr=Vo.onunhandledrejection,Vo.onunhandledrejection=function(e){return Cr("unhandledrejection",e),!(Qr&&!Qr.__SENTRY_LOADER__)||Qr.apply(this,arguments)},Vo.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const ti=Yo();const ni=Vo;let oi;function ri(e){const t="history";Tr(t,e),$r(t,ii)}function ii(){if(!function(){const e=ti.chrome,t=e&&e.app&&e.app.runtime,n="history"in ti&&!!ti.history.pushState&&!!ti.history.replaceState;return!t&&n}())return;const e=ni.onpopstate;function t(e){return function(...t){const n=t.length>2?t[2]:void 0;if(n){const e=oi,t=String(n);oi=t;Cr("history",{from:e,to:t})}return e.apply(this,t)}}ni.onpopstate=function(...t){const n=ni.location.href,o=oi;oi=n;if(Cr("history",{from:o,to:n}),e)try{return e.apply(this,t)}catch(e){}},dr(ni.history,"pushState",t),dr(ni.history,"replaceState",t)}const si=Vo,ai="__sentry_xhr_v3__";function li(e){Tr("xhr",e),$r("xhr",ci)}function ci(){if(!si.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;dr(e,"open",(function(e){return function(...t){const n=Date.now(),o=Lo(t[0])?t[0].toUpperCase():void 0,r=function(e){if(Lo(e))return e;try{return e.toString()}catch(e){}return}(t[1]);if(!o||!r)return e.apply(this,t);this[ai]={method:o,url:r,request_headers:{}},"POST"===o&&r.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const i=()=>{const e=this[ai];if(e&&4===this.readyState){try{e.status_code=this.status}catch(e){}Cr("xhr",{args:[o,r],endTimestamp:Date.now(),startTimestamp:n,xhr:this})}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?dr(this,"onreadystatechange",(function(e){return function(...t){return i(),e.apply(this,t)}})):this.addEventListener("readystatechange",i),dr(this,"setRequestHeader",(function(e){return function(...t){const[n,o]=t,r=this[ai];return r&&Lo(n)&&Lo(o)&&(r.request_headers[n.toLowerCase()]=o),e.apply(this,t)}})),e.apply(this,t)}})),dr(e,"send",(function(e){return function(...t){const n=this[ai];if(!n)return e.apply(this,t);void 0!==t[0]&&(n.body=t[0]);return Cr("xhr",{args:[n.method,n.url],startTimestamp:Date.now(),xhr:this}),e.apply(this,t)}}))}function di(){return!("undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&__SENTRY_BROWSER_BUNDLE__)&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function ui(e,t){return e.require(t)}function pi(e){let t;try{t=ui(module,e)}catch(e){}try{const{cwd:n}=ui(module,"process");t=ui(module,`${n()}/node_modules/${e}`)}catch(e){}return t}function mi(){return"undefined"!=typeof window&&(!di()||void 0!==Vo.process&&"renderer"===Vo.process.type)}function gi(e,t=100,n=1/0){try{return fi("",e,t,n)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}function hi(e,t=3,n=102400){const o=gi(e,t);return r=o,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(r))>n?hi(e,t-1,n):o;var r}function fi(e,t,n=1/0,o=1/0,r=function(){const e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(let e=0;e<t.length;e++)if(t[e]===n)return!0;return t.push(n),!1},function(n){if(e)t.delete(n);else for(let e=0;e<t.length;e++)if(t[e]===n){t.splice(e,1);break}}]}()){const[i,s]=r;if(null==t||["number","boolean","string"].includes(typeof t)&&("number"!=typeof(a=t)||a==a))return t;var a;const l=function(e,t){try{if("domain"===e&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if("undefined"!=typeof global&&t===global)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if(Po(t))return"[VueViewModel]";if(function(e){return Ao(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}(t))return"[SyntheticEvent]";if("number"==typeof t&&t!=t)return"[NaN]";if("function"==typeof t)return`[Function: ${Er(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;const n=function(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(e){return`**non-serializable** (${e})`}}(e,t);if(!l.startsWith("[object "))return l;if(t.__sentry_skip_normalization__)return t;const c="number"==typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:n;if(0===c)return l.replace("object ","");if(i(t))return"[Circular ~]";const d=t;if(d&&"function"==typeof d.toJSON)try{return fi("",d.toJSON(),c-1,o,r)}catch(e){}const u=Array.isArray(t)?[]:{};let p=0;const m=gr(t);for(const e in m){if(!Object.prototype.hasOwnProperty.call(m,e))continue;if(p>=o){u[e]="[MaxProperties ~]";break}const t=m[e];u[e]=fi(e,t,c-1,o,r),p++}return s(t),u}const _i=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function vi(...e){let t="",n=!1;for(let o=e.length-1;o>=-1&&!n;o--){const r=o>=0?e[o]:"/";r&&(t=`${r}/${t}`,n="/"===r.charAt(0))}return t=function(e,t){let n=0;for(let t=e.length-1;t>=0;t--){const o=e[t];"."===o?e.splice(t,1):".."===o?(e.splice(t,1),n++):n&&(e.splice(t,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}(t.split("/").filter((e=>!!e)),!n).join("/"),(n?"/":"")+t||"."}function yi(e){let t=0;for(;t<e.length&&""===e[t];t++);let n=e.length-1;for(;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}function wi(e,t){let n=function(e){const t=e.length>1024?`<truncated>${e.slice(-1024)}`:e,n=_i.exec(t);return n?n.slice(1):[]}(e)[2];return t&&n.slice(-1*t.length)===t&&(n=n.slice(0,n.length-t.length)),n}var bi;function Ei(e){return new Si((t=>{t(e)}))}function xi(e){return new Si(((t,n)=>{n(e)}))}!function(e){e[e.PENDING=0]="PENDING";e[e.RESOLVED=1]="RESOLVED";e[e.REJECTED=2]="REJECTED"}(bi||(bi={}));class Si{constructor(e){Si.prototype.__init.call(this),Si.prototype.__init2.call(this),Si.prototype.__init3.call(this),Si.prototype.__init4.call(this),this._state=bi.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}then(e,t){return new Si(((n,o)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(e){o(e)}else n(t)},e=>{if(t)try{n(t(e))}catch(e){o(e)}else o(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new Si(((t,n)=>{let o,r;return this.then((t=>{r=!1,o=t,e&&e()}),(t=>{r=!0,o=t,e&&e()})).then((()=>{r?n(o):t(o)}))}))}__init(){this._resolve=e=>{this._setResult(bi.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(bi.REJECTED,e)}}__init3(){this._setResult=(e,t)=>{this._state===bi.PENDING&&(No(t)?t.then(this._resolve,this._reject):(this._state=e,this._value=t,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===bi.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===bi.RESOLVED&&e[1](this._value),this._state===bi.REJECTED&&e[2](this._value),e[0]=!0)}))}}}function Ti(e){const t=[];function n(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(o){if(!(void 0===e||t.length<e))return xi(new cr("Not adding Promise because buffer limit was reached."));const r=o();return-1===t.indexOf(r)&&t.push(r),r.then((()=>n(r))).then(null,(()=>n(r).then(null,(()=>{})))),r},drain:function(e){return new Si(((n,o)=>{let r=t.length;if(!r)return n(!0);const i=setTimeout((()=>{e&&e>0&&n(!1)}),e);t.forEach((e=>{Ei(e).then((()=>{--r||(clearTimeout(i),n(!0))}),o)}))}))}}}function $i(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",o=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:o,relative:t[5]+n+o}}function Ci(e){return e.split(/[\?#]/,1)[0]}function ki(e){return e.split(/\\?\//).filter((e=>e.length>0&&","!==e)).length}const Li={ip:!1,request:!0,transaction:!0,user:!0},Mi=["cookies","data","headers","method","query_string","url"],Ii=["id","username","email"];function Ai(e,t={}){const n=e.method&&e.method.toUpperCase();let o="",r="url";t.customRoute||e.route?(o=t.customRoute||`${e.baseUrl||""}${e.route&&e.route.path}`,r="route"):(e.originalUrl||e.url)&&(o=Ci(e.originalUrl||e.url||""));let i="";return t.method&&n&&(i+=n),t.method&&t.path&&(i+=" "),t.path&&o&&(i+=o),[i,r]}function Ri(e,t){const{include:n=Mi,deps:o}=t||{},r={},i=e.headers||{},s=e.method,a=i.host||e.hostname||e.host||"<no host>",l="https"===e.protocol||e.socket&&e.socket.encrypted?"https":"http",c=e.originalUrl||e.url||"",d=c.startsWith(l)?c:`${l}://${a}${c}`;return n.forEach((t=>{switch(t){case"headers":r.headers=i,n.includes("cookies")||delete r.headers.cookie;break;case"method":r.method=s;break;case"url":r.url=d;break;case"cookies":r.cookies=e.cookies||i.cookie&&function(e){const t={};let n=0;for(;n<e.length;){const o=e.indexOf("=",n);if(-1===o)break;let r=e.indexOf(";",n);if(-1===r)r=e.length;else if(r<o){n=e.lastIndexOf(";",o-1)+1;continue}const i=e.slice(n,o).trim();if(void 0===t[i]){let n=e.slice(o+1,r).trim();34===n.charCodeAt(0)&&(n=n.slice(1,-1));try{t[i]=-1!==n.indexOf("%")?decodeURIComponent(n):n}catch(e){t[i]=n}}n=r+1}return t}(i.cookie)||{};break;case"query_string":r.query_string=function(e,t){let n=e.originalUrl||e.url||"";if(!n)return;n.startsWith("/")&&(n=`http://dogs.are.great${n}`);try{return e.query||"undefined"!=typeof URL&&new URL(n).search.slice(1)||t&&t.url&&t.url.parse(n).query||void 0}catch(e){return}}(e,o);break;case"data":if("GET"===s||"HEAD"===s)break;void 0!==e.body&&(r.data=Lo(e.body)?e.body:JSON.stringify(gi(e.body)));break;default:({}).hasOwnProperty.call(e,t)&&(r[t]=e[t])}})),r}function Oi(e,t,n){const o={...Li,...n&&n.include};if(o.request){const r=Array.isArray(o.request)?Ri(t,{include:o.request,deps:n&&n.deps}):Ri(t,{deps:n&&n.deps});e.request={...e.request,...r}}if(o.user){const n=t.user&&Ao(t.user)?function(e,t){const n={};return(Array.isArray(t)?t:Ii).forEach((t=>{e&&t in e&&(n[t]=e[t])})),n}(t.user,o.user):{};Object.keys(n).length&&(e.user={...e.user,...n})}if(o.ip){const n=t.ip||t.socket&&t.socket.remoteAddress;n&&(e.user={...e.user,ip_address:n})}return o.transaction&&!e.transaction&&(e.transaction=function(e,t){switch(t){case"path":return Ai(e,{path:!0})[0];case"handler":return e.route&&e.route.stack&&e.route.stack[0]&&e.route.stack[0].name||"<anonymous>";default:return Ai(e,{path:!0,method:!0,customRoute:e._reconstructedRoute?e._reconstructedRoute:void 0})[0]}}(t,o.transaction)),e}const Ni=["fatal","error","warning","log","info","debug"];function Di(e){return"warn"===e?"warning":Ni.includes(e)?e:"log"}function Pi(){return Date.now()/1e3}const Bi=function(){const{performance:e}=Vo;if(!e||!e.now)return Pi;const t=Date.now()-e.now(),n=null==e.timeOrigin?t:e.timeOrigin;return()=>(n+e.now())/1e3}(),zi=(()=>{const{performance:e}=Vo;if(!e||!e.now)return;const t=36e5,n=e.now(),o=Date.now(),r=e.timeOrigin?Math.abs(e.timeOrigin+n-o):t,i=r<t,s=e.timing&&e.timing.navigationStart,a="number"==typeof s?Math.abs(s+n-o):t;return i||a<t?r<=a?e.timeOrigin:s:o})();function Ui(e,t=[]){return[e,t]}function Hi(e,t){const[n,o]=e;return[n,[...o,t]]}function Fi(e,t){const n=e[1];for(const e of n){if(t(e,e[0].type))return!0}return!1}function ji(e,t){return(t||new TextEncoder).encode(e)}function Wi(e,t){const[n,o]=e;let r=JSON.stringify(n);function i(e){"string"==typeof r?r="string"==typeof e?r+e:[ji(r,t),e]:r.push("string"==typeof e?ji(e,t):e)}for(const e of o){const[t,n]=e;if(i(`\n${JSON.stringify(t)}\n`),"string"==typeof n||n instanceof Uint8Array)i(n);else{let e;try{e=JSON.stringify(n)}catch(t){e=JSON.stringify(gi(n))}i(e)}}return"string"==typeof r?r:function(e){const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let o=0;for(const t of e)n.set(t,o),o+=t.length;return n}(r)}function qi(e,t){const n="string"==typeof e.data?ji(e.data,t):e.data;return[_r({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}const Gi={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function Vi(e){return Gi[e]}function Yi(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function Zi(e,t,n,o){const r=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!n&&o&&{dsn:sr(o)},...r&&{trace:_r({...r})}}}function Ki(e,t,n=Date.now()){return function(e,t){return e[t]||e.all||0}(e,t)>n}function Xi(e,{statusCode:t,headers:n},o=Date.now()){const r={...e},i=n&&n["x-sentry-rate-limits"],s=n&&n["retry-after"];if(i)for(const e of i.trim().split(",")){const[t,n,,,i]=e.split(":",5),s=parseInt(t,10),a=1e3*(isNaN(s)?60:s);if(n)for(const e of n.split(";"))"metric_bucket"===e&&i&&!i.split(";").includes("custom")||(r[e]=o+a);else r.all=o+a}else s?r.all=o+function(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;const o=Date.parse(`${e}`);return isNaN(o)?6e4:o-t}(s,o):429===t&&(r.all=o+6e4);return r}function Ji(e,t){const n={type:t.name||t.constructor.name,value:t.message},o=function(e,t){return e(t.stack||"",1)}(e,t);return o.length&&(n.stacktrace={frames:o}),n}function Qi(e){let t,n=e[0],o=1;for(;o<e.length;){const r=e[o],i=e[o+1];if(o+=2,("optionalAccess"===r||"optionalCall"===r)&&null==n)return;"access"===r||"optionalAccess"===r?(t=n,n=i(n)):"call"!==r&&"optionalCall"!==r||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}const es="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,ts="production";function ns(){return Zo("globalEventProcessors",(()=>[]))}function os(e){ns().push(e)}function rs(e,t,n,o=0){return new Si(((r,i)=>{const s=e[o];if(null===t||"function"!=typeof s)r(t);else{const a=s({...t},n);es&&s.id&&null===a&&rr.log(`Event processor "${s.id}" dropped event`),No(a)?a.then((t=>rs(e,t,n,o+1).then(r))).then(null,i):rs(e,a,n,o+1).then(r).then(null,i)}}))}function is(e){const t=Bi(),n={sid:Mr(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return _r({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(n)};return e&&ss(n,e),n}function ss(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Bi(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:Mr()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function as(e){const{spanId:t,traceId:n}=e.spanContext(),{data:o,op:r,parent_span_id:i,status:s,tags:a,origin:l}=cs(e);return _r({data:o,op:r,parent_span_id:i,span_id:t,status:s,tags:a,trace_id:n,origin:l})}function ls(e){return e>9999999999?e/1e3:e}function cs(e){return function(e){return"function"==typeof e.getSpanJSON}(e)?e.getSpanJSON():"function"==typeof e.toJSON?e.toJSON():{}}function ds(e){const{traceFlags:t}=e.spanContext();return Boolean(1&t)}function us(e,t,n,o,r,i){const{normalizeDepth:s=3,normalizeMaxBreadth:a=1e3}=e,l={...t,event_id:t.event_id||n.event_id||Mr(),timestamp:t.timestamp||Pi()},c=n.integrations||e.integrations.map((e=>e.name));!function(e,t){const{environment:n,release:o,dist:r,maxValueLength:i=250}=t;"environment"in e||(e.environment="environment"in t?n:ts);void 0===e.release&&void 0!==o&&(e.release=o);void 0===e.dist&&void 0!==r&&(e.dist=r);e.message&&(e.message=Bo(e.message,i));const s=e.exception&&e.exception.values&&e.exception.values[0];s&&s.value&&(s.value=Bo(s.value,i));const a=e.request;a&&a.url&&(a.url=Bo(a.url,i))}(l,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}(l,c),void 0===t.type&&function(e,t){const n=Vo._sentryDebugIds;if(!n)return;let o;const r=ps.get(t);r?o=r:(o=new Map,ps.set(t,o));const i=Object.keys(n).reduce(((e,r)=>{let i;const s=o.get(r);s?i=s:(i=t(r),o.set(r,i));for(let t=i.length-1;t>=0;t--){const o=i[t];if(o.filename){e[o.filename]=n[r];break}}return e}),{});try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.filename&&(e.debug_id=i[e.filename])}))}))}catch(e){}}(l,e.stackParser);const d=function(e,t){if(!t)return e;const n=e?e.clone():new Ls;return n.update(t),n}(o,n.captureContext);n.mechanism&&Or(l,n.mechanism);const u=r&&r.getEventProcessors?r.getEventProcessors():[],p=function(){ks||(ks=new Ls);return ks}().getScopeData();if(i){$s(p,i.getScopeData())}if(d){$s(p,d.getScopeData())}const m=[...n.attachments||[],...p.attachments];m.length&&(n.attachments=m),Ts(l,p);return rs([...u,...ns(),...p.eventProcessors],l,n).then((e=>(e&&function(e){const t={};try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)}))}))}catch(e){}if(0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.keys(t).forEach((e=>{n.push({type:"sourcemap",code_file:e,debug_id:t[e]})}))}(e),"number"==typeof s&&s>0?function(e,t,n){if(!e)return null;const o={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((e=>({...e,...e.data&&{data:gi(e.data,t,n)}})))},...e.user&&{user:gi(e.user,t,n)},...e.contexts&&{contexts:gi(e.contexts,t,n)},...e.extra&&{extra:gi(e.extra,t,n)}};e.contexts&&e.contexts.trace&&o.contexts&&(o.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(o.contexts.trace.data=gi(e.contexts.trace.data,t,n)));e.spans&&(o.spans=e.spans.map((e=>{const o=cs(e).data;return o&&(e.data=gi(o,t,n)),e})));return o}(e,s,a):e)))}const ps=new WeakMap;function ms(e){if(e)return function(e){return e instanceof Ls||"function"==typeof e}(e)||function(e){return Object.keys(e).some((e=>gs.includes(e)))}(e)?{captureContext:e}:e}const gs=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function hs(e,t){return Ps().captureException(e,ms(t))}function fs(e,t){const n="string"==typeof t?t:void 0,o="string"!=typeof t?{captureContext:t}:void 0;return Ps().captureMessage(e,n,o)}function _s(e,t){return Ps().captureEvent(e,t)}function vs(e,t){Ps().addBreadcrumb(e,t)}function ys(...e){const t=Ps();if(2===e.length){const[n,o]=e;return n?t.withScope((()=>(t.getStackTop().scope=n,o(n)))):t.withScope(o)}return t.withScope(e[0])}function ws(){return Ps().getClient()}function bs(){return Ps().getScope()}function Es(e){return e.transaction}function xs(e,t,n){const o=t.getOptions(),{publicKey:r}=t.getDsn()||{},{segment:i}=n&&n.getUser()||{},s=_r({environment:o.environment||ts,release:o.release,user_segment:i,public_key:r,trace_id:e});return t.emit&&t.emit("createDsc",s),s}function Ss(e){const t=ws();if(!t)return{};const n=xs(cs(e).trace_id||"",t,bs()),o=Es(e);if(!o)return n;const r=o&&o._frozenDynamicSamplingContext;if(r)return r;const{sampleRate:i,source:s}=o.metadata;null!=i&&(n.sample_rate=`${i}`);const a=cs(o);return s&&"url"!==s&&(n.transaction=a.description),n.sampled=String(ds(o)),t.emit&&t.emit("createDsc",n),n}function Ts(e,t){const{fingerprint:n,span:o,breadcrumbs:r,sdkProcessingMetadata:i}=t;!function(e,t){const{extra:n,tags:o,user:r,contexts:i,level:s,transactionName:a}=t,l=_r(n);l&&Object.keys(l).length&&(e.extra={...l,...e.extra});const c=_r(o);c&&Object.keys(c).length&&(e.tags={...c,...e.tags});const d=_r(r);d&&Object.keys(d).length&&(e.user={...d,...e.user});const u=_r(i);u&&Object.keys(u).length&&(e.contexts={...u,...e.contexts});s&&(e.level=s);a&&(e.transaction=a)}(e,t),o&&function(e,t){e.contexts={trace:as(t),...e.contexts};const n=Es(t);if(n){e.sdkProcessingMetadata={dynamicSamplingContext:Ss(t),...e.sdkProcessingMetadata};const o=cs(n).description;o&&(e.tags={transaction:o,...e.tags})}}(e,o),function(e,t){e.fingerprint=e.fingerprint?Dr(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t));e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}(e,n),function(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}(e,r),function(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}(e,i)}function $s(e,t){const{extra:n,tags:o,user:r,contexts:i,level:s,sdkProcessingMetadata:a,breadcrumbs:l,fingerprint:c,eventProcessors:d,attachments:u,propagationContext:p,transactionName:m,span:g}=t;Cs(e,"extra",n),Cs(e,"tags",o),Cs(e,"user",r),Cs(e,"contexts",i),Cs(e,"sdkProcessingMetadata",a),s&&(e.level=s),m&&(e.transactionName=m),g&&(e.span=g),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),c.length&&(e.fingerprint=[...e.fingerprint,...c]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),u.length&&(e.attachments=[...e.attachments,...u]),e.propagationContext={...e.propagationContext,...p}}function Cs(e,t,n){if(n&&Object.keys(n).length){e[t]={...e[t]};for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[t][o]=n[o])}}let ks;class Ls{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=Ms()}static clone(e){return e?e.clone():new Ls}clone(){const e=new Ls;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._span=this._span,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e}setClient(e){this._client=e}getClient(){return this._client}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&ss(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this._span;return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const t="function"==typeof e?e(this):e;if(t instanceof Ls){const e=t.getScopeData();this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&Object.keys(e.user).length&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint.length&&(this._fingerprint=e.fingerprint),t.getRequestSession()&&(this._requestSession=t.getRequestSession()),e.propagationContext&&(this._propagationContext=e.propagationContext)}else if(Ao(t)){const t=e;this._tags={...this._tags,...t.tags},this._extra={...this._extra,...t.extra},this._contexts={...this._contexts,...t.contexts},t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession),t.propagationContext&&(this._propagationContext=t.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=Ms(),this}addBreadcrumb(e,t){const n="number"==typeof t?t:100;if(n<=0)return this;const o={timestamp:Pi(),...e},r=this._breadcrumbs;return r.push(o),this._breadcrumbs=r.length>n?r.slice(-n):r,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:e,_attachments:t,_contexts:n,_tags:o,_extra:r,_user:i,_level:s,_fingerprint:a,_eventProcessors:l,_propagationContext:c,_sdkProcessingMetadata:d,_transactionName:u,_span:p}=this;return{breadcrumbs:e,attachments:t,contexts:n,tags:o,extra:r,user:i,level:s,fingerprint:a||[],eventProcessors:l,propagationContext:c,sdkProcessingMetadata:d,transactionName:u,span:p}}applyToEvent(e,t={},n=[]){Ts(e,this.getScopeData());return rs([...n,...ns(),...this._eventProcessors],e,t)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){const n=t&&t.event_id?t.event_id:Mr();if(!this._client)return rr.warn("No client configured on scope - will not capture exception!"),n;const o=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:o,...t,event_id:n},this),n}captureMessage(e,t,n){const o=n&&n.event_id?n.event_id:Mr();if(!this._client)return rr.warn("No client configured on scope - will not capture message!"),o;const r=new Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:r,...n,event_id:o},this),o}captureEvent(e,t){const n=t&&t.event_id?t.event_id:Mr();return this._client?(this._client.captureEvent(e,{...t,event_id:n},this),n):(rr.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}}function Ms(){return{traceId:Mr(),spanId:Mr().substring(16)}}const Is="7.119.2",As=parseFloat(Is),Rs=100;class Os{constructor(e,t,n,o=As){let r,i;this._version=o,t?r=t:(r=new Ls,r.setClient(e)),n?i=n:(i=new Ls,i.setClient(e)),this._stack=[{scope:r}],e&&this.bindClient(e),this._isolationScope=i}isOlderThan(e){return this._version<e}bindClient(e){const t=this.getStackTop();t.client=e,t.scope.setClient(e),e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}withScope(e){const t=this.pushScope();let n;try{n=e(t)}catch(e){throw this.popScope(),e}return No(n)?n.then((e=>(this.popScope(),e)),(e=>{throw this.popScope(),e})):(this.popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,t){const n=this._lastEventId=t&&t.event_id?t.event_id:Mr(),o=new Error("Sentry syntheticException");return this.getScope().captureException(e,{originalException:e,syntheticException:o,...t,event_id:n}),n}captureMessage(e,t,n){const o=this._lastEventId=n&&n.event_id?n.event_id:Mr(),r=new Error(e);return this.getScope().captureMessage(e,t,{originalException:e,syntheticException:r,...n,event_id:o}),o}captureEvent(e,t){const n=t&&t.event_id?t.event_id:Mr();return e.type||(this._lastEventId=n),this.getScope().captureEvent(e,{...t,event_id:n}),n}lastEventId(){return this._lastEventId}addBreadcrumb(e,t){const{scope:n,client:o}=this.getStackTop();if(!o)return;const{beforeBreadcrumb:r=null,maxBreadcrumbs:i=Rs}=o.getOptions&&o.getOptions()||{};if(i<=0)return;const s={timestamp:Pi(),...e},a=r?or((()=>r(s,t))):s;null!==a&&(o.emit&&o.emit("beforeAddBreadcrumb",a,t),n.addBreadcrumb(a,i))}setUser(e){this.getScope().setUser(e),this.getIsolationScope().setUser(e)}setTags(e){this.getScope().setTags(e),this.getIsolationScope().setTags(e)}setExtras(e){this.getScope().setExtras(e),this.getIsolationScope().setExtras(e)}setTag(e,t){this.getScope().setTag(e,t),this.getIsolationScope().setTag(e,t)}setExtra(e,t){this.getScope().setExtra(e,t),this.getIsolationScope().setExtra(e,t)}setContext(e,t){this.getScope().setContext(e,t),this.getIsolationScope().setContext(e,t)}configureScope(e){const{scope:t,client:n}=this.getStackTop();n&&e(t)}run(e){const t=Ds(this);try{e(this)}finally{Ds(t)}}getIntegration(e){const t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(t){return es&&rr.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,t){const n=this._callExtensionMethod("startTransaction",e,t);if(es&&!n){this.getClient()?rr.warn("Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':\nSentry.addTracingExtensions();\nSentry.init({...});\n"):rr.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")}return n}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const e=this.getStackTop().scope,t=e.getSession();t&&function(e,t){let n={};t?n={status:t}:"ok"===e.status&&(n={status:"exited"}),ss(e,n)}(t),this._sendSessionUpdate(),e.setSession()}startSession(e){const{scope:t,client:n}=this.getStackTop(),{release:o,environment:r=ts}=n&&n.getOptions()||{},{userAgent:i}=Vo.navigator||{},s=is({release:o,environment:r,user:t.getUser(),...i&&{userAgent:i},...e}),a=t.getSession&&t.getSession();return a&&"ok"===a.status&&ss(a,{status:"exited"}),this.endSession(),t.setSession(s),s}shouldSendDefaultPii(){const e=this.getClient(),t=e&&e.getOptions();return Boolean(t&&t.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:t}=this.getStackTop(),n=e.getSession();n&&t&&t.captureSession&&t.captureSession(n)}_callExtensionMethod(e,...t){const n=Ns().__SENTRY__;if(n&&n.extensions&&"function"==typeof n.extensions[e])return n.extensions[e].apply(this,t);es&&rr.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function Ns(){return Vo.__SENTRY__=Vo.__SENTRY__||{extensions:{},hub:void 0},Vo}function Ds(e){const t=Ns(),n=zs(t);return Us(t,e),n}function Ps(){const e=Ns();if(e.__SENTRY__&&e.__SENTRY__.acs){const t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return function(e=Ns()){t=e,t&&t.__SENTRY__&&t.__SENTRY__.hub&&!zs(e).isOlderThan(As)||Us(e,new Os);var t;return zs(e)}(e)}function Bs(){return Ps().getIsolationScope()}function zs(e){return Zo("hub",(()=>new Os),e)}function Us(e,t){if(!e)return!1;return(e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0}var Hs;function Fs(e,t,n=()=>{}){let o;try{o=e()}catch(e){throw t(e),n(),e}return function(e,t,n){if(No(e))return e.then((e=>(n(),e)),(e=>{throw t(e),n(),e}));return n(),e}(o,t,n)}function js(e,t){const n=function(e){if(e.startTime){const n={...e};return n.startTimestamp="number"==typeof(t=e.startTime)?ls(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?ls(t.getTime()):Bi(),delete n.startTime,n}var t;return e}(e);return function(e,t={}){const n=Ns();return n.__SENTRY__&&n.__SENTRY__.acs?n.__SENTRY__.acs.runWithAsyncContext(e,t):e()}((()=>ys(e.scope,(o=>{const r=Ps(),i=o.getSpan(),s=e.onlyIfParent&&!i?void 0:function(e,{parentSpan:t,spanContext:n,forceTransaction:o,scope:r}){if(!function(e){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const t=ws(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}())return;const i=Bs();let s;if(t&&!o)s=t.startChild(n);else if(t){const o=Ss(t),{traceId:r,spanId:i}=t.spanContext(),a=ds(t);s=e.startTransaction({traceId:r,parentSpanId:i,parentSampled:a,...n,metadata:{dynamicSamplingContext:o,...n.metadata}})}else{const{traceId:t,dsc:o,parentSpanId:a,sampled:l}={...i.getPropagationContext(),...r.getPropagationContext()};s=e.startTransaction({traceId:t,parentSpanId:a,parentSampled:l,...n,metadata:{dynamicSamplingContext:o,...n.metadata}})}return r.setSpan(s),function(e,t,n){e&&(ur(e,qs,n),ur(e,Ws,t))}(s,r,i),s}(r,{parentSpan:i,spanContext:n,forceTransaction:e.forceTransaction,scope:o});return Fs((()=>t(s)),(()=>{if(s){const{status:e}=cs(s);e&&"ok"!==e||s.setStatus("internal_error")}}),(()=>s&&s.end()))}))))}!function(e){e.Ok="ok";e.DeadlineExceeded="deadline_exceeded";e.Unauthenticated="unauthenticated";e.PermissionDenied="permission_denied";e.NotFound="not_found";e.ResourceExhausted="resource_exhausted";e.InvalidArgument="invalid_argument";e.Unimplemented="unimplemented";e.Unavailable="unavailable";e.InternalError="internal_error";e.UnknownError="unknown_error";e.Cancelled="cancelled";e.AlreadyExists="already_exists";e.FailedPrecondition="failed_precondition";e.Aborted="aborted";e.OutOfRange="out_of_range";e.DataLoss="data_loss"}(Hs||(Hs={}));const Ws="_sentryScope",qs="_sentryIsolationScope";let Gs;function Vs(e,t,n,o,r,i){const s=bs().getSpan();if(s){const a=function(e){return Gs?Gs.get(e):void 0}(s)||new Map,l=`${e}:${t}@${o}`,c=a.get(i);if(c){const[,e]=c;a.set(i,[l,{min:Math.min(e.min,n),max:Math.max(e.max,n),count:e.count+=1,sum:e.sum+=n,tags:e.tags}])}else a.set(i,[l,{min:n,max:n,count:1,sum:n,tags:r}]);Gs||(Gs=new WeakMap),Gs.set(s,a)}}const Ys="sentry.source",Zs="sentry.origin";function Ks(e,t,n,o){const r=Yi(n),i=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,n&&n.sdk);const s=Zi(e,r,o,t);delete e.sdkProcessingMetadata;return Ui(s,[[{type:i},e]])}function Xs(e,t){return n={sentry_key:e.publicKey,sentry_version:"7",...t&&{sentry_client:`${t.name}/${t.version}`}},Object.keys(n).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(n[e])}`)).join("&");var n}const Js=[];function Qs(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function ea(e,t,n){if(n[t.name])es&&rr.log(`Integration skipped because it was already installed: ${t.name}`);else{if(n[t.name]=t,-1===Js.indexOf(t.name)&&(t.setupOnce(os,Ps),Js.push(t.name)),t.setup&&"function"==typeof t.setup&&t.setup(e),e.on&&"function"==typeof t.preprocessEvent){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",((t,o)=>n(t,o,e)))}if(e.addEventProcessor&&"function"==typeof t.processEvent){const n=t.processEvent.bind(t),o=Object.assign(((t,o)=>n(t,o,e)),{id:t.name});e.addEventProcessor(o)}es&&rr.log(`Integration installed: ${t.name}`)}}function ta(e,t){return Object.assign((function(...e){return t(...e)}),{id:e})}function na(e){return e.replace(/[^\w\-./]+/gi,"")}const oa=[["\n","\\n"],["\r","\\r"],["\t","\\t"],["\\","\\\\"],["|","\\u{7c}"],[",","\\u{2c}"]];function ra(e){return[...e].reduce(((e,t)=>e+function(e){for(const[t,n]of oa)if(e===t)return n;return e}(t)),"")}function ia(e,t,n,o){const r={sent_at:(new Date).toISOString()};n&&n.sdk&&(r.sdk={name:n.sdk.name,version:n.sdk.version}),o&&t&&(r.dsn=sr(t));const i=function(e){const t=function(e){let t="";for(const n of e){const e=Object.entries(n.tags),o=e.length>0?`|#${e.map((([e,t])=>`${e}:${t}`)).join(",")}`:"";t+=`${n.name}@${n.unit}:${n.metric}|${n.metricType}${o}|T${n.timestamp}\n`}return t}(e);return[{type:"statsd",length:t.length},t]}(e);return Ui(r,[i])}const sa="Not capturing exception because it's already been captured.";class aa{constructor(e){if(this._options=e,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=lr(e.dsn):es&&rr.warn("No DSN provided, client will not send events."),this._dsn){const t=function(e,t={}){const n="string"==typeof t?t:t.tunnel,o="string"!=typeof t&&t._metadata?t._metadata.sdk:void 0;return n||`${function(e){return`${function(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}(e)}${e.projectId}/envelope/`}(e)}?${Xs(e,o)}`}(this._dsn,e);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}}captureException(e,t,n){if(Nr(e))return void(es&&rr.log(sa));let o=t&&t.event_id;return this._process(this.eventFromException(e,t).then((e=>this._captureEvent(e,t,n))).then((e=>{o=e}))),o}captureMessage(e,t,n,o){let r=n&&n.event_id;const i=Mo(e)?e:String(e),s=Io(e)?this.eventFromMessage(i,t,n):this.eventFromException(e,n);return this._process(s.then((e=>this._captureEvent(e,n,o))).then((e=>{r=e}))),r}captureEvent(e,t,n){if(t&&t.originalException&&Nr(t.originalException))return void(es&&rr.log(sa));let o=t&&t.event_id;const r=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,t,r||n).then((e=>{o=e}))),o}captureSession(e){"string"!=typeof e.release?es&&rr.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),ss(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(e).then((n=>t.flush(e).then((e=>n&&e))))):Ei(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),e)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}setupIntegrations(e){(e&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&this._setupIntegrations()}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationById(e){return this.getIntegrationByName(e)}getIntegrationByName(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch(t){return es&&rr.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){const t=this._integrations[e.name];ea(this,e,this._integrations),t||Qs(this,[e])}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let n=Ks(e,this._dsn,this._options._metadata,this._options.tunnel);for(const e of t.attachments||[])n=Hi(n,qi(e,this._options.transportOptions&&this._options.transportOptions.textEncoder));const o=this._sendEnvelope(n);o&&o.then((t=>this.emit("afterSendEvent",e,t)),null)}sendSession(e){const t=function(e,t,n,o){const r=Yi(n);return Ui({sent_at:(new Date).toISOString(),...r&&{sdk:r},...!!o&&t&&{dsn:sr(t)}},["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}recordDroppedEvent(e,t,n){if(this._options.sendClientReports){const o="number"==typeof n?n:1,r=`${e}:${t}`;es&&rr.log(`Recording outcome: "${r}"${o>1?` (${o} times)`:""}`),this._outcomes[r]=(this._outcomes[r]||0)+o}}captureAggregateMetrics(e){es&&rr.log(`Flushing aggregated metrics, number of metrics: ${e.length}`);const t=ia(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}on(e,t){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t)}emit(e,...t){this._hooks[e]&&this._hooks[e].forEach((e=>e(...t)))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=function(e,t){const n={};return t.forEach((t=>{t&&ea(e,t,n)})),n}(this,e),Qs(this,e),this._integrationsInitialized=!0}_updateSessionFromEvent(e,t){let n=!1,o=!1;const r=t.exception&&t.exception.values;if(r){o=!0;for(const e of r){const t=e.mechanism;if(t&&!1===t.handled){n=!0;break}}}const i="ok"===e.status;(i&&0===e.errors||i&&n)&&(ss(e,{...n&&{status:"crashed"},errors:e.errors||Number(o||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new Si((t=>{let n=0;const o=setInterval((()=>{0==this._numProcessing?(clearInterval(o),t(!0)):(n+=1,e&&n>=e&&(clearInterval(o),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,n,o=Bs()){const r=this.getOptions(),i=Object.keys(this._integrations);return!t.integrations&&i.length>0&&(t.integrations=i),this.emit("preprocessEvent",e,t),us(r,e,t,n,this,o).then((e=>{if(null===e)return e;const t={...o.getPropagationContext(),...n?n.getPropagationContext():void 0};if(!(e.contexts&&e.contexts.trace)&&t){const{traceId:o,spanId:r,parentSpanId:i,dsc:s}=t;e.contexts={trace:{trace_id:o,span_id:r,parent_span_id:i},...e.contexts};const a=s||xs(o,this,n);e.sdkProcessingMetadata={dynamicSamplingContext:a,...e.sdkProcessingMetadata}}return e}))}_captureEvent(e,t={},n){return this._processEvent(e,t,n).then((e=>e.event_id),(e=>{if(es){const t=e;"log"===t.logLevel?rr.log(t.message):rr.warn(t)}}))}_processEvent(e,t,n){const o=this.getOptions(),{sampleRate:r}=o,i=ca(e),s=la(e),a=e.type||"error",l=`before send for type \`${a}\``;if(s&&"number"==typeof r&&Math.random()>r)return this.recordDroppedEvent("sample_rate","error",e),xi(new cr(`Discarding event because it's not included in the random sample (sampling rate = ${r})`,"log"));const c="replay_event"===a?"replay":a,d=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,t,n,d).then((n=>{if(null===n)throw this.recordDroppedEvent("event_processor",c,e),new cr("An event processor returned `null`, will not send event.","log");if(t.data&&!0===t.data.__sentry__)return n;const r=function(e,t,n){const{beforeSend:o,beforeSendTransaction:r}=e;if(la(t)&&o)return o(t,n);if(ca(t)&&r){if(t.spans){const e=t.spans.length;t.sdkProcessingMetadata={...t.sdkProcessingMetadata,spanCountBeforeProcessing:e}}return r(t,n)}return t}(o,n,t);return function(e,t){const n=`${t} must return \`null\` or a valid event.`;if(No(e))return e.then((e=>{if(!Ao(e)&&null!==e)throw new cr(n);return e}),(e=>{throw new cr(`${t} rejected with ${e}`)}));if(!Ao(e)&&null!==e)throw new cr(n);return e}(r,l)})).then((o=>{if(null===o){if(this.recordDroppedEvent("before_send",c,e),i){const t=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",t)}throw new cr(`${l} returned \`null\`, will not send event.`,"log")}const r=n&&n.getSession();if(!i&&r&&this._updateSessionFromEvent(r,o),i){const e=(o.sdkProcessingMetadata&&o.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(o.spans?o.spans.length:0);e>0&&this.recordDroppedEvent("before_send","span",e)}const s=o.transaction_info;if(i&&s&&o.transaction!==e.transaction){const e="custom";o.transaction_info={...s,source:e}}return this.sendEvent(o,t),o})).then(null,(e=>{if(e instanceof cr)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new cr(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)}))}_process(e){this._numProcessing++,e.then((e=>(this._numProcessing--,e)),(e=>(this._numProcessing--,e)))}_sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)return this._transport.send(e).then(null,(e=>{es&&rr.error("Error while sending event:",e)}));es&&rr.error("Transport disabled")}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.keys(e).map((t=>{const[n,o]=t.split(":");return{reason:n,category:o,quantity:e[t]}}))}}function la(e){return void 0===e.type}function ca(e){return"transaction"===e.type}const da="c",ua="g",pa="s",ma="d";const ga={[da]:class{constructor(e){this._value=e}get weight(){return 1}add(e){this._value+=e}toString(){return`${this._value}`}},[ua]:class{constructor(e){this._last=e,this._min=e,this._max=e,this._sum=e,this._count=1}get weight(){return 5}add(e){this._last=e,e<this._min&&(this._min=e),e>this._max&&(this._max=e),this._sum+=e,this._count++}toString(){return`${this._last}:${this._min}:${this._max}:${this._sum}:${this._count}`}},[ma]:class{constructor(e){this._value=[e]}get weight(){return this._value.length}add(e){this._value.push(e)}toString(){return this._value.join(":")}},[pa]:class{constructor(e){this.first=e,this._value=new Set([e])}get weight(){return this._value.size}add(e){this._value.add(e)}toString(){return Array.from(this._value).map((e=>"string"==typeof e?function(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t>>>0}(e):e)).join(":")}}};function ha(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}function fa(e,t){const n=t&&function(e){return void 0!==e.getClient}(t)?t.getClient():t,o=n&&n.getDsn(),r=n&&n.getOptions().tunnel;return function(e,t){return!!t&&e.includes(t.host)}(e,o)||function(e,t){if(!t)return!1;return _a(e)===_a(t)}(e,r)}function _a(e){return"/"===e[e.length-1]?e.slice(0,-1):e}const va=new Map,ya=new Set;function wa(e,t){return function(e){if(Vo._sentryModuleMetadata)for(const t of Object.keys(Vo._sentryModuleMetadata)){const n=Vo._sentryModuleMetadata[t];if(ya.has(t))continue;ya.add(t);const o=e(t);for(const e of o.reverse())if(e.filename){va.set(e.filename,n);break}}}(e),va.get(t)}const ba="ModuleMetadata",Ea=()=>({name:ba,setupOnce(){},setup(e){"function"==typeof e.on&&e.on("beforeEnvelope",(e=>{Fi(e,((e,t)=>{if("event"===t){const t=Array.isArray(e)?e[1]:void 0;t&&(!function(e){try{e.exception.values.forEach((e=>{if(e.stacktrace)for(const t of e.stacktrace.frames||[])delete t.module_metadata}))}catch(e){}}(t),e[1]=t)}}))}))},processEvent:(e,t,n)=>(function(e,t){try{t.exception.values.forEach((t=>{if(t.stacktrace)for(const n of t.stacktrace.frames||[]){if(!n.filename)continue;const t=wa(e,n.filename);t&&(n.module_metadata=t)}}))}catch(e){}}(n.getOptions().stackParser,e),e)});ta(ba,Ea);const xa={include:{cookies:!0,data:!0,headers:!0,ip:!1,query_string:!0,url:!0,user:{id:!0,username:!0,email:!0}},transactionNamingScheme:"methodPath"},Sa="RequestData",Ta=(e={})=>{const t=Oi,n={...xa,...e,include:{method:!0,...xa.include,...e.include,user:e.include&&"boolean"==typeof e.include.user?e.include.user:{...xa.include.user,...(e.include||{}).user}}};return{name:Sa,setupOnce(){},processEvent(e,o,r){const{transactionNamingScheme:i}=n,{sdkProcessingMetadata:s={}}=e,a=s.request;if(!a)return e;const l=s.requestDataOptionsFromExpressHandler||s.requestDataOptionsFromGCPWrapper||function(e){const{transactionNamingScheme:t,include:{ip:n,user:o,...r}}=e,i=[];for(const[e,t]of Object.entries(r))t&&i.push(e);let s;if(void 0===o)s=!0;else if("boolean"==typeof o)s=o;else{const e=[];for(const[t,n]of Object.entries(o))n&&e.push(t);s=e}return{include:{ip:n,user:s,request:0!==i.length?i:void 0,transaction:t}}}(n),c=t(e,a,l);if("transaction"===e.type||"handler"===i)return c;const d=a._sentryTransaction;if(d){const e=cs(d).description||"",t="sentry.javascript.nextjs"===function(e){try{return e.getOptions()._metadata.sdk.name}catch(e){return}}(r)?e.startsWith("/api"):"path"!==i,[n]=Ai(a,{path:!0,method:t,customRoute:e});c.transaction=n}return c}}};ta(Sa,Ta);const $a=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/],Ca=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],ka="InboundFilters",La=(e={})=>({name:ka,setupOnce(){},processEvent(t,n,o){const r=o.getOptions(),i=function(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:$a],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:Ca],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(e,r);return function(e,t){if(t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(e){}return!1}(e))return es&&rr.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${Ar(e)}`),!0;if(function(e,t){if(e.type||!t||!t.length)return!1;return function(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch(e){}n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`));es&&0===t.length&&rr.error(`Could not extract message for event ${Ar(e)}`);return t}(e).some((e=>Ho(e,t)))}(e,t.ignoreErrors))return es&&rr.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${Ar(e)}`),!0;if(function(e,t){if("transaction"!==e.type||!t||!t.length)return!1;const n=e.transaction;return!!n&&Ho(n,t)}(e,t.ignoreTransactions))return es&&rr.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${Ar(e)}`),!0;if(function(e,t){if(!t||!t.length)return!1;const n=Ma(e);return!!n&&Ho(n,t)}(e,t.denyUrls))return es&&rr.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${Ar(e)}.\nUrl: ${Ma(e)}`),!0;if(!function(e,t){if(!t||!t.length)return!0;const n=Ma(e);return!n||Ho(n,t)}(e,t.allowUrls))return es&&rr.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${Ar(e)}.\nUrl: ${Ma(e)}`),!0;return!1}(t,i)?null:t}});ta(ka,La);function Ma(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?function(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(t):null}catch(t){return es&&rr.error(`Cannot extract url for event ${Ar(e)}`),null}}let Ia;const Aa="FunctionToString",Ra=new WeakMap,Oa=()=>({name:Aa,setupOnce(){Ia=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=mr(this),n=Ra.has(ws())&&void 0!==t?t:this;return Ia.apply(n,e)}}catch(e){}},setup(e){Ra.set(e,!0)}}),Na=(ta(Aa,Oa),"LinkedErrors"),Da=(e={})=>{const t=e.limit||5,n=e.key||"cause";return{name:Na,setupOnce(){},preprocessEvent(e,o,r){const i=r.getOptions();Fo(Ji,i.stackParser,i.maxValueLength,n,t,e,o)}}};ta(Na,Da);class Pa{constructor(e){this._client=e,this._buckets=new Map,this._interval=setInterval((()=>this.flush()),5e3)}add(e,t,n,o="none",r={},i=Bi()){const s=Math.floor(i),a=t.replace(/[^\w\-.]+/gi,"_");const l=function(e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[na(n)]=ra(String(e[n])));return t}(r),c=function(e){return e.replace(/[^\w]+/gi,"_")}(o),d=function(e,t,n,o){return`${e}${t}${n}${Object.entries(_r(o)).sort(((e,t)=>e[0].localeCompare(t[0])))}`}(e,a,c,l);let u=this._buckets.get(d);const p=u&&"s"===e?u.metric.weight:0;u?(u.metric.add(n),u.timestamp<s&&(u.timestamp=s)):(u={metric:new ga[e](n),timestamp:s,metricType:e,name:a,unit:c,tags:l},this._buckets.set(d,u));Vs(e,a,"string"==typeof n?u.metric.weight-p:n,c,r,d)}flush(){if(0!==this._buckets.size){if(this._client.captureAggregateMetrics){const e=Array.from(this._buckets).map((([,e])=>e));this._client.captureAggregateMetrics(e)}this._buckets.clear()}}close(){clearInterval(this._interval),this.flush()}}const Ba="MetricsAggregator",za=()=>({name:Ba,setupOnce(){},setup(e){e.metricsAggregator=new Pa(e)}});ta(Ba,za);const Ua="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function Ha(e){const t=Qi([e,"call",e=>e(),"access",e=>e.getClient,"call",e=>e(),"optionalAccess",e=>e.getOptions,"call",e=>e()]);return"sentry"!==(Qi([t,"optionalAccess",e=>e.instrumenter])||"sentry")}class Fa{static __initStatic(){this.id="Express"}constructor(e={}){this.name=Fa.id,this._router=e.router||e.app,this._methods=(Array.isArray(e.methods)?e.methods:[]).concat("use")}setupOnce(e,t){this._router?Ha(t)?Ua&&rr.log("Express Integration is skipped because of instrumenter configuration."):(function(e,t=[]){t.forEach((t=>function(e,t){const n=e[t];return e[t]=function(...e){return n.call(this,...function(e,t){return e.map((e=>"function"==typeof e?ja(e,t):Array.isArray(e)?e.map((e=>"function"==typeof e?ja(e,t):e)):e))}(e,t))},e}(e,t)))}(this._router,this._methods),function(e){const t="settings"in e;t&&void 0===e._router&&e.lazyrouter&&e.lazyrouter();const n=t?e._router:e;if(!n)return Ua&&rr.debug("Cannot instrument router for URL Parameterization (did not find a valid router)."),void(Ua&&rr.debug("Routing instrumentation is currently only supported in Express 4."));const o=Object.getPrototypeOf(n),r=o.process_params;o.process_params=function(e,t,n,o,i){n._reconstructedRoute||(n._reconstructedRoute="");const{layerRoutePath:s,isRegex:a,isArray:l,numExtraSegments:c}=function(e){let t=Qi([e,"access",e=>e.route,"optionalAccess",e=>e.path]);const n=Oo(t),o=Array.isArray(t);if(!t){const[n]=Vo.process.versions.node.split(".").map(Number);n>=16&&(t=Wa(e.path,e.regexp,e.keys))}if(!t)return{isRegex:n,isArray:o,numExtraSegments:0};const r=o?Math.max((s=t,s.reduce(((e,t)=>e+ki(t.toString())),0)-ki(e.path||"")),0):0,i=function(e,t){if(e)return t.map((e=>e.toString())).join(",");return t&&t.toString()}(o,t);var s;return{layerRoutePath:i,isRegex:n,isArray:o,numExtraSegments:r}}(e);let d;(s||a||l)&&(n._hasParameters=!0),d=s||(function(e,t,n){const o=Qi([Ci(e||""),"optionalAccess",e=>e.split,"call",e=>e("/"),"access",e=>e.filter,"call",e=>e((e=>!!e))]);let r=0;const i=Qi([t,"optionalAccess",e=>e.split,"call",e=>e("/"),"access",e=>e.filter,"call",e=>e((e=>!!e)),"access",e=>e.length])||0;return Qi([n,"optionalAccess",e=>e.split,"call",e=>e("/"),"access",e=>e.filter,"call",e=>e((e=>Qi([o,"optionalAccess",e=>e[i+r]])===e&&(r+=1,!0))),"access",e=>e.join,"call",e=>e("/")])}(n.originalUrl,n._reconstructedRoute,e.path)||"");const u=d.split("/").filter((e=>e.length>0&&(a||l||!e.includes("*")))).join("/");u&&u.length>0&&(n._reconstructedRoute+=`/${u}${a?"/":""}`);if(ki(Ci(n.originalUrl||""))+c===ki(n._reconstructedRoute)){n._hasParameters||n._reconstructedRoute!==n.originalUrl&&(n._reconstructedRoute=n.originalUrl?Ci(n.originalUrl):n.originalUrl);const e=o.__sentry_transaction,t=e&&cs(e).data||{};if(e&&"custom"!==t[Ys]){const t=n._reconstructedRoute||"/",[o,r]=Ai(n,{path:!0,method:!0,customRoute:t});e.updateName(o),e.setAttribute(Ys,r)}}return r.call(this,e,t,n,o,i)}}(this._router)):Ua&&rr.error("ExpressIntegration is missing an Express instance")}}function ja(e,t){const n=e.length;switch(n){case 2:return function(n,o){const r=o.__sentry_transaction;if(r){const n=r.startChild({description:e.name,op:`middleware.express.${t}`,origin:"auto.middleware.express"});o.once("finish",(()=>{n.end()}))}return e.call(this,n,o)};case 3:return function(n,o,r){const i=Qi([o.__sentry_transaction,"optionalAccess",e=>e.startChild,"call",n=>n({description:e.name,op:`middleware.express.${t}`,origin:"auto.middleware.express"})]);e.call(this,n,o,(function(...e){Qi([i,"optionalAccess",e=>e.end,"call",e=>e()]),r.call(this,...e)}))};case 4:return function(n,o,r,i){const s=Qi([r.__sentry_transaction,"optionalAccess",e=>e.startChild,"call",n=>n({description:e.name,op:`middleware.express.${t}`,origin:"auto.middleware.express"})]);e.call(this,n,o,r,(function(...e){Qi([s,"optionalAccess",e=>e.end,"call",e=>e()]),i.call(this,...e)}))};default:throw new Error(`Express middleware takes 2-4 arguments. Got: ${n}`)}}Fa.__initStatic();const Wa=(e,t,n)=>{if(!(e&&t&&n&&0!==Object.keys(n).length&&Qi([n,"access",e=>e[0],"optionalAccess",e=>e.offset])))return;const o=n.sort(((e,t)=>e.offset-t.offset)),r=new RegExp(t,`${t.flags}d`).exec(e);if(!r||!r.indices)return;const[,...i]=r.indices;if(i.length!==o.length)return;let s=e,a=0;return i.forEach(((e,t)=>{if(e){const[n,r]=e,i=s.substring(0,n-a),l=`:${o[t].name}`,c=s.substring(r-a);s=i+l+c,a+=r-n-l.length}})),s};class qa{static __initStatic(){this.id="Postgres"}constructor(e={}){this.name=qa.id,this._usePgNative=!!e.usePgNative,this._module=e.module}loadDependency(){return this._module=this._module||pi("pg")}setupOnce(e,t){if(Ha(t))return void(Ua&&rr.log("Postgres Integration is skipped because of instrumenter configuration."));const n=this.loadDependency();if(!n)return void(Ua&&rr.error("Postgres Integration was unable to require `pg` package."));const o=this._usePgNative?Qi([n,"access",e=>e.native,"optionalAccess",e=>e.Client]):n.Client;o?dr(o.prototype,"query",(function(e){return function(n,o,r){const i=t().getScope().getSpan(),s={"db.system":"postgresql"};try{this.database&&(s["db.name"]=this.database),this.host&&(s["server.address"]=this.host),this.port&&(s["server.port"]=this.port),this.user&&(s["db.user"]=this.user)}catch(e){}const a=Qi([i,"optionalAccess",e=>e.startChild,"call",e=>e({description:"string"==typeof n?n:n.text,op:"db",origin:"auto.db.postgres",data:s})]);if("function"==typeof r)return e.call(this,n,o,(function(e,t){Qi([a,"optionalAccess",e=>e.end,"call",e=>e()]),r(e,t)}));if("function"==typeof o)return e.call(this,n,(function(e,t){Qi([a,"optionalAccess",e=>e.end,"call",e=>e()]),o(e,t)}));const l=void 0!==o?e.call(this,n,o):e.call(this,n);return No(l)?l.then((e=>(Qi([a,"optionalAccess",e=>e.end,"call",e=>e()]),e))):(Qi([a,"optionalAccess",e=>e.end,"call",e=>e()]),l)}})):Ua&&rr.error("Postgres Integration was unable to access 'pg-native' bindings.")}}qa.__initStatic();class Ga{static __initStatic(){this.id="Mysql"}constructor(){this.name=Ga.id}loadDependency(){return this._module=this._module||pi("mysql/lib/Connection.js")}setupOnce(e,t){if(Ha(t))return void(Ua&&rr.log("Mysql Integration is skipped because of instrumenter configuration."));const n=this.loadDependency();if(!n)return void(Ua&&rr.error("Mysql Integration was unable to require `mysql` package."));let o;try{n.prototype.connect=new Proxy(n.prototype.connect,{apply:(e,t,n)=>(o||(o=t.config),e.apply(t,n))})}catch(e){Ua&&rr.error("Mysql Integration was unable to instrument `mysql` config.")}function r(e){if(!e)return;const t=o?{"server.address":o.host,"server.port":o.port,"db.user":o.user}:{};Object.keys(t).forEach((n=>{e.setAttribute(n,t[n])})),e.end()}dr(n,"createQuery",(function(e){return function(n,o,i){const s=Qi([t().getScope().getSpan(),"optionalAccess",e=>e.startChild,"call",e=>e({description:"string"==typeof n?n:n.sql,op:"db",origin:"auto.db.mysql",data:{"db.system":"mysql"}})]);if("function"==typeof i)return e.call(this,n,o,(function(e,t,n){r(s),i(e,t,n)}));if("function"==typeof o)return e.call(this,n,(function(e,t,n){r(s),o(e,t,n)}));const a=e.call(this,n,o);return a.on("end",(()=>{r(s)})),a}}))}}Ga.__initStatic();const Va=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","find","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],Ya={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],find:["query"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]};class Za{static __initStatic(){this.id="Mongo"}constructor(e={}){this.name=Za.id,this._operations=Array.isArray(e.operations)?e.operations:Va,this._describeOperations=!("describeOperations"in e)||e.describeOperations,this._useMongoose=!!e.useMongoose}loadDependency(){const e=this._useMongoose?"mongoose":"mongodb";return this._module=this._module||pi(e)}setupOnce(e,t){if(Ha(t))return void(Ua&&rr.log("Mongo Integration is skipped because of instrumenter configuration."));const n=this.loadDependency();if(n)this._instrumentOperations(n.Collection,this._operations,t);else{const e=this._useMongoose?"mongoose":"mongodb";Ua&&rr.error(`Mongo Integration was unable to require \`${e}\` package.`)}}_instrumentOperations(e,t,n){t.forEach((t=>this._patchOperation(e,t,n)))}_patchOperation(e,t,n){if(!(t in e.prototype))return;const o=this._getSpanContextFromOperationArguments.bind(this);dr(e.prototype,t,(function(e){return function(...r){const i=r[r.length-1],s=n(),a=s.getScope(),l=s.getClient(),c=a.getSpan(),d=Qi([l,"optionalAccess",e=>e.getOptions,"call",e=>e(),"access",e=>e.sendDefaultPii]);if("function"!=typeof i||"mapReduce"===t&&2===r.length){const n=Qi([c,"optionalAccess",e=>e.startChild,"call",e=>e(o(this,t,r,d))]),i=e.call(this,...r);if(No(i))return i.then((e=>(Qi([n,"optionalAccess",e=>e.end,"call",e=>e()]),e)));if((u=i)&&"object"==typeof u&&u.once&&"function"==typeof u.once){const e=i;try{e.once("close",(()=>{Qi([n,"optionalAccess",e=>e.end,"call",e=>e()])}))}catch(e){Qi([n,"optionalAccess",e=>e.end,"call",e=>e()])}return e}return Qi([n,"optionalAccess",e=>e.end,"call",e=>e()]),i}var u;const p=Qi([c,"optionalAccess",e=>e.startChild,"call",e=>e(o(this,t,r.slice(0,-1)))]);return e.call(this,...r.slice(0,-1),(function(e,t){Qi([p,"optionalAccess",e=>e.end,"call",e=>e()]),i(e,t)}))}}))}_getSpanContextFromOperationArguments(e,t,n,o=!1){const r={"db.system":"mongodb","db.name":e.dbName,"db.operation":t,"db.mongodb.collection":e.collectionName},i={op:"db",origin:"auto.db.mongo",description:t,data:r},s=Ya[t],a=Array.isArray(this._describeOperations)?this._describeOperations.includes(t):this._describeOperations;if(!s||!a||!o)return i;try{if("mapReduce"===t){const[e,t]=n;r[s[0]]="string"==typeof e?e:e.name||"<anonymous>",r[s[1]]="string"==typeof t?t:t.name||"<anonymous>"}else for(let e=0;e<s.length;e++)r[`db.mongodb.${s[e]}`]=JSON.stringify(n[e])}catch(e){}return i}}Za.__initStatic();class Ka{static __initStatic(){this.id="Prisma"}constructor(e={}){if(this.name=Ka.id,(t=e.client)&&t.$use&&!e.client._sentryInstrumented){ur(e.client,"_sentryInstrumented",!0);const t={};try{const n=e.client._engineConfig;if(n){const{activeProvider:e,clientVersion:o}=n;e&&(t["db.system"]=e),o&&(t["db.prisma.version"]=o)}}catch(e){}e.client.$use(((e,n)=>{if(Ha(Ps))return n(e);const o=e.action,r=e.model;return js({name:r?`${r} ${o}`:o,onlyIfParent:!0,op:"db.prisma",attributes:{[Zs]:"auto.db.prisma"},data:{...t,"db.operation":o}},(()=>n(e)))}))}else Ua&&rr.warn("Unsupported Prisma client provided to PrismaIntegration. Provided client:",e.client);var t}setupOnce(){}}Ka.__initStatic();class Xa{static __initStatic(){this.id="GraphQL"}constructor(){this.name=Xa.id}loadDependency(){return this._module=this._module||pi("graphql/execution/execute.js")}setupOnce(e,t){if(Ha(t))return void(Ua&&rr.log("GraphQL Integration is skipped because of instrumenter configuration."));const n=this.loadDependency();n?dr(n,"execute",(function(e){return function(...n){const o=t().getScope(),r=o.getSpan(),i=Qi([r,"optionalAccess",e=>e.startChild,"call",e=>e({description:"execute",op:"graphql.execute",origin:"auto.graphql.graphql"})]);Qi([o,"optionalAccess",e=>e.setSpan,"call",e=>e(i)]);const s=e.call(this,...n);return No(s)?s.then((e=>(Qi([i,"optionalAccess",e=>e.end,"call",e=>e()]),Qi([o,"optionalAccess",e=>e.setSpan,"call",e=>e(r)]),e))):(Qi([i,"optionalAccess",e=>e.end,"call",e=>e()]),Qi([o,"optionalAccess",e=>e.setSpan,"call",e=>e(r)]),s)}})):Ua&&rr.error("GraphQL Integration was unable to require graphql/execution package.")}}Xa.__initStatic();class Ja{static __initStatic(){this.id="Apollo"}constructor(e={useNestjs:!1}){this.name=Ja.id,this._useNest=!!e.useNestjs}loadDependency(){return this._useNest?this._module=this._module||pi("@nestjs/graphql"):this._module=this._module||pi("apollo-server-core"),this._module}setupOnce(e,t){if(Ha(t))Ua&&rr.log("Apollo Integration is skipped because of instrumenter configuration.");else if(this._useNest){const e=this.loadDependency();if(!e)return void(Ua&&rr.error("Apollo-NestJS Integration was unable to require @nestjs/graphql package."));dr(e.GraphQLFactory.prototype,"mergeWithSchema",(function(e){return function(...n){return dr(this.resolversExplorerService,"explore",(function(e){return function(){return Qa(Dr(e.call(this)),t)}})),e.call(this,...n)}}))}else{const e=this.loadDependency();if(!e)return void(Ua&&rr.error("Apollo Integration was unable to require apollo-server-core package."));dr(e.ApolloServerBase.prototype,"constructSchema",(function(e){return function(){if(!this.config.resolvers)return Ua&&(this.config.schema?(rr.warn("Apollo integration is not able to trace `ApolloServer` instances constructed via `schema` property.If you are using NestJS with Apollo, please use `Sentry.Integrations.Apollo({ useNestjs: true })` instead."),rr.warn()):this.config.modules&&rr.warn("Apollo integration is not able to trace `ApolloServer` instances constructed via `modules` property."),rr.error("Skipping tracing as no resolvers found on the `ApolloServer` instance.")),e.call(this);const n=Dr(this.config.resolvers);return this.config.resolvers=Qa(n,t),e.call(this)}}))}}}function Qa(e,t){return e.map((e=>(Object.keys(e).forEach((n=>{Object.keys(e[n]).forEach((o=>{"function"==typeof e[n][o]&&function(e,t,n,o){dr(e[t],n,(function(e){return function(...r){const i=Qi([o().getScope().getSpan(),"optionalAccess",e=>e.startChild,"call",e=>e({description:`${t}.${n}`,op:"graphql.resolve",origin:"auto.graphql.apollo"})]),s=e.call(this,...r);return No(s)?s.then((e=>(Qi([i,"optionalAccess",e=>e.end,"call",e=>e()]),e))):(Qi([i,"optionalAccess",e=>e.end,"call",e=>e()]),s)}}))}(e,n,o,t)}))})),e)))}Ja.__initStatic();const el=Vo,tl=()=>el.__WEB_VITALS_POLYFILL__?el.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||(()=>{const e=el.performance.timing,t=el.performance.navigation.type,n={entryType:"navigation",startTime:0,type:2==t?"back_forward":1===t?"reload":"navigate"};for(const t in e)"navigationStart"!==t&&"toJSON"!==t&&(n[t]=Math.max(e[t]-e.navigationStart,0));return n})()):el.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],nl=()=>{const e=tl();return e&&e.activationStart||0},ol=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const o=new PerformanceObserver((e=>{t(e.getEntries())}));return o.observe(Object.assign({type:e,buffered:!0},n||{})),o}}catch(e){}},rl=(e,t)=>{const n=o=>{"pagehide"!==o.type&&"hidden"!==el.document.visibilityState||(e(o),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};el.document&&(addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0))};let il=-1;const sl=()=>(il<0&&(el.document&&el.document.visibilityState&&(il="hidden"!==el.document.visibilityState||el.document.prerendering?1/0:0),rl((({timeStamp:e})=>{il=e}),!0)),{get firstHiddenTime(){return il}}),al={},ll=e=>{const t=sl(),n=((e,t)=>{const n=tl();let o="navigate";return n&&(o=el.document&&el.document.prerendering||nl()>0?"prerender":n.type.replace(/_/g,"-")),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:`v3-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:o}})("LCP");let o;const r=e=>{const r=e[e.length-1];if(r){const e=Math.max(r.startTime-nl(),0);e<t.firstHiddenTime&&(n.value=e,n.entries=[r],o())}},i=ol("largest-contentful-paint",r);if(i){o=((e,t,n)=>{let o,r;return i=>{t.value>=0&&(i||n)&&(r=t.value-(o||0),(r||void 0===o)&&(o=t.value,t.delta=r,e(t)))}})(e,n);const t=()=>{al[n.id]||(r(i.takeRecords()),i.disconnect(),al[n.id]=!0,o(!0))};return["keydown","click"].forEach((e=>{el.document&&addEventListener(e,t,{once:!0,capture:!0})})),rl(t,!0),t}},cl={},dl={};let ul;function pl(e,t=!1){return function(e,t,n,o,r=!1){let i;fl(e,t),dl[e]||(i=n(),dl[e]=!0);o&&t({metric:o});return _l(e,t,r?i:void 0)}("lcp",e,hl,ul,t)}function ml(e,t){return fl(e,t),dl[e]||(!function(e){const t={};"event"===e&&(t.durationThreshold=0);ol(e,(t=>{gl(e,{entries:t})}),t)}(e),dl[e]=!0),_l(e,t)}function gl(e,t){const n=cl[e];if(n&&n.length)for(const o of n)try{o(t)}catch(t){Ua&&rr.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${Er(o)}\nError:`,t)}}function hl(){return ll((e=>{gl("lcp",{metric:e}),ul=e}))}function fl(e,t){cl[e]=cl[e]||[],cl[e].push(t)}function _l(e,t,n){return()=>{n&&n();const o=cl[e];if(!o)return;const r=o.indexOf(t);-1!==r&&o.splice(r,1)}}const vl=Vo;let yl=0;function wl(){return yl>0}function bl(e,t={},n){if("function"!=typeof e)return e;try{const t=e.__sentry_wrapped__;if(t)return"function"==typeof t?t:e;if(mr(e))return e}catch(t){return e}const o=function(){const o=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);const r=o.map((e=>bl(e,t)));return e.apply(this,r)}catch(e){throw yl++,setTimeout((()=>{yl--})),ys((n=>{n.addEventProcessor((e=>(t.mechanism&&(Rr(e,void 0,void 0),Or(e,t.mechanism)),e.extra={...e.extra,arguments:o},e))),hs(e)})),e}};try{for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(o[t]=e[t])}catch(e){}pr(o,e),ur(e,"__sentry_wrapped__",o);try{Object.getOwnPropertyDescriptor(o,"name").configurable&&Object.defineProperty(o,"name",{get:()=>e.name})}catch(e){}return o}const El="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function xl(e,t){const n=Tl(e,t),o={type:t&&t.name,value:Cl(t)};return n.length&&(o.stacktrace={frames:n}),void 0===o.type&&""===o.value&&(o.value="Unrecoverable error caught"),o}function Sl(e,t){return{exception:{values:[xl(e,t)]}}}function Tl(e,t){const n=t.stacktrace||t.stack||"",o=function(e){if(e){if("number"==typeof e.framesToPop)return e.framesToPop;if($l.test(e.message))return 1}return 0}(t);try{return e(n,o)}catch(e){}return[]}const $l=/Minified React error #\d+;/i;function Cl(e){const t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function kl(e,t,n,o,r){let i;if(Co(t)&&t.error){return Sl(e,t.error)}if(ko(t)||$o(t,"DOMException")){const r=t;if("stack"in t)i=Sl(e,t);else{const t=r.name||(ko(r)?"DOMError":"DOMException"),s=r.message?`${t}: ${r.message}`:t;i=Ll(e,s,n,o),Rr(i,s)}return"code"in r&&(i.tags={...i.tags,"DOMException.code":`${r.code}`}),i}if(To(t))return Sl(e,t);if(Ao(t)||Ro(t)){return i=function(e,t,n,o){const r=ws(),i=r&&r.getOptions().normalizeDepth,s={exception:{values:[{type:Ro(t)?t.constructor.name:o?"UnhandledRejection":"Error",value:Ml(t,{isUnhandledRejection:o})}]},extra:{__serialized__:hi(t,i)}};if(n){const t=Tl(e,n);t.length&&(s.exception.values[0].stacktrace={frames:t})}return s}(e,t,n,r),Or(i,{synthetic:!0}),i}return i=Ll(e,t,n,o),Rr(i,`${t}`,void 0),Or(i,{synthetic:!0}),i}function Ll(e,t,n,o){const r={};if(o&&n){const o=Tl(e,n);o.length&&(r.exception={values:[{value:t,stacktrace:{frames:o}}]})}if(Mo(t)){const{__sentry_template_string__:e,__sentry_template_values__:n}=t;return r.logentry={message:e,params:n},r}return r.message=t,r}function Ml(e,{isUnhandledRejection:t}){const n=function(e,t=40){const n=Object.keys(gr(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return Bo(n[0],t);for(let e=n.length;e>0;e--){const o=n.slice(0,e).join(", ");if(!(o.length>t))return e===n.length?o:Bo(o,t)}return""}(e),o=t?"promise rejection":"exception";if(Co(e))return`Event \`ErrorEvent\` captured as ${o} with message \`${e.message}\``;if(Ro(e)){return`Event \`${function(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(e){}}(e)}\` (type=${e.type}) captured as ${o}`}return`Object captured as ${o} with keys: ${n}`}class Il extends aa{constructor(e){!function(e,t,n=[t],o="npm"){const r=e._metadata||{};r.sdk||(r.sdk={name:`sentry.javascript.${t}`,packages:n.map((e=>({name:`${o}:@sentry/${e}`,version:Is}))),version:Is}),e._metadata=r}(e,"browser",["browser"],vl.SENTRY_SDK_SOURCE||"npm"),super(e),e.sendClientReports&&vl.document&&vl.document.addEventListener("visibilitychange",(()=>{"hidden"===vl.document.visibilityState&&this._flushOutcomes()}))}eventFromException(e,t){return function(e,t,n,o){const r=kl(e,t,n&&n.syntheticException||void 0,o);return Or(r),r.level="error",n&&n.event_id&&(r.event_id=n.event_id),Ei(r)}(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",n){return function(e,t,n="info",o,r){const i=Ll(e,t,o&&o.syntheticException||void 0,r);return i.level=n,o&&o.event_id&&(i.event_id=o.event_id),Ei(i)}(this._options.stackParser,e,t,n,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled())return void(El&&rr.warn("SDK not enabled, will not capture user feedback."));const t=function(e,{metadata:t,tunnel:n,dsn:o}){const r={event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!o&&{dsn:sr(o)}},i=function(e){return[{type:"user_report"},e]}(e);return Ui(r,[i])}(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(t)}_prepareEvent(e,t,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n)}_flushOutcomes(){const e=this._clearOutcomes();if(0===e.length)return void(El&&rr.log("No outcomes to send"));if(!this._dsn)return void(El&&rr.log("No dsn provided, will not send outcomes"));El&&rr.log("Sending outcomes:",e);const t=(n=e,Ui((o=this._options.tunnel&&sr(this._dsn))?{dsn:o}:{},[[{type:"client_report"},{timestamp:r||Pi(),discarded_events:n}]]));var n,o,r;this._sendEnvelope(t)}}let Al;function Rl(e,t=function(){if(Al)return Al;if(qr(vl.fetch))return Al=vl.fetch.bind(vl);const e=vl.document;let t=vl.fetch;if(e&&"function"==typeof e.createElement)try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const o=n.contentWindow;o&&o.fetch&&(t=o.fetch),e.head.removeChild(n)}catch(e){El&&rr.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return Al=t.bind(vl)}()){let n=0,o=0;return function(e,t,n=Ti(e.bufferSize||30)){let o={};function r(r){const i=[];if(Fi(r,((t,n)=>{const r=Vi(n);if(Ki(o,r)){const o=ha(t,n);e.recordDroppedEvent("ratelimit_backoff",r,o)}else i.push(t)})),0===i.length)return Ei();const s=Ui(r[0],i),a=t=>{Fi(s,((n,o)=>{const r=ha(n,o);e.recordDroppedEvent(t,Vi(o),r)}))};return n.add((()=>t({body:Wi(s,e.textEncoder)}).then((e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&es&&rr.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),o=Xi(o,e),e)),(e=>{throw a("network_error"),e})))).then((e=>e),(e=>{if(e instanceof cr)return es&&rr.error("Skipped sending event because buffer is full."),a("queue_overflow"),Ei();throw e}))}return r.__sentry__baseTransport__=!0,{send:r,flush:e=>n.drain(e)}}(e,(function(r){const i=r.body.length;n+=i,o++;const s={body:r.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&o<15,...e.fetchOptions};try{return t(e.url,s).then((e=>(n-=i,o--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}})))}catch(e){return Al=void 0,n-=i,o--,xi(e)}}))}const Ol="?";function Nl(e,t,n,o){const r={filename:e,function:t,in_app:!0};return void 0!==n&&(r.lineno=n),void 0!==o&&(r.colno=o),r}const Dl=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Pl=/\((\S*)(?::(\d+))(?::(\d+))\)/,Bl=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,zl=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Ul=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Hl=function(...e){const t=e.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return(e,n=0)=>{const o=[],r=e.split("\n");for(let e=n;e<r.length;e++){const n=r[e];if(n.length>1024)continue;const i=yr.test(n)?n.replace(yr,"$1"):n;if(!i.match(/\S*Error: /)){for(const e of t){const t=e(i);if(t){o.push(t);break}}if(o.length>=50)break}}return function(e){if(!e.length)return[];const t=Array.from(e);/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop();t.reverse(),wr.test(t[t.length-1].function||"")&&(t.pop(),wr.test(t[t.length-1].function||"")&&t.pop());return t.slice(0,50).map((e=>({...e,filename:e.filename||t[t.length-1].filename,function:e.function||"?"})))}(o)}}(...[[30,e=>{const t=Dl.exec(e);if(t){if(t[2]&&0===t[2].indexOf("eval")){const e=Pl.exec(t[2]);e&&(t[2]=e[1],t[3]=e[2],t[4]=e[3])}const[e,n]=Fl(t[1]||Ol,t[2]);return Nl(n,e,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],[50,e=>{const t=Bl.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const e=zl.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],n=t[1]||Ol;return[n,e]=Fl(n,e),Nl(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],[40,e=>{const t=Ul.exec(e);return t?Nl(t[2],t[1]||Ol,+t[3],t[4]?+t[4]:void 0):void 0}]]),Fl=(e,t)=>{const n=-1!==e.indexOf("safari-extension"),o=-1!==e.indexOf("safari-web-extension");return n||o?[-1!==e.indexOf("@")?e.split("@")[0]:Ol,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},jl=1024,Wl="Breadcrumbs",ql=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:Wl,setupOnce(){},setup(e){t.console&&kr(function(e){return function(t){if(ws()!==e)return;const n={category:"console",data:{arguments:t.args,logger:"console"},level:Di(t.level),message:Uo(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;n.message=`Assertion failed: ${Uo(t.args.slice(1)," ")||"console.assert"}`,n.data.arguments=t.args.slice(1)}vs(n,{input:t.args,level:t.level})}}(e)),t.dom&&Hr(function(e,t){return function(n){if(ws()!==e)return;let o,r,i="object"==typeof t?t.serializeAttribute:void 0,s="object"==typeof t&&"number"==typeof t.maxStringLength?t.maxStringLength:void 0;s&&s>jl&&(El&&rr.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${s} was configured. Sentry will use 1024 instead.`),s=jl),"string"==typeof i&&(i=[i]);try{const e=n.event,t=function(e){return!!e&&!!e.target}(e)?e.target:e;o=Xo(t,{keyAttrs:i,maxStringLength:s}),r=function(e){if(!Ko.HTMLElement)return null;let t=e;for(let e=0;e<5;e++){if(!t)return null;if(t instanceof HTMLElement&&t.dataset.sentryComponent)return t.dataset.sentryComponent;t=t.parentNode}return null}(t)}catch(e){o="<unknown>"}if(0===o.length)return;const a={category:`ui.${n.name}`,message:o};r&&(a.data={"ui.component_name":r}),vs(a,{event:n.event,name:n.name,global:n.global})}}(e,t.dom)),t.xhr&&li(function(e){return function(t){if(ws()!==e)return;const{startTimestamp:n,endTimestamp:o}=t,r=t.xhr[ai];if(!n||!o||!r)return;const{method:i,url:s,status_code:a,body:l}=r;vs({category:"xhr",data:{method:i,url:s,status_code:a},type:"http"},{xhr:t.xhr,input:l,startTimestamp:n,endTimestamp:o})}}(e)),t.fetch&&Vr(function(e){return function(t){if(ws()!==e)return;const{startTimestamp:n,endTimestamp:o}=t;if(o&&(!t.fetchData.url.match(/sentry_key/)||"POST"!==t.fetchData.method))if(t.error){vs({category:"fetch",data:t.fetchData,level:"error",type:"http"},{data:t.error,input:t.args,startTimestamp:n,endTimestamp:o})}else{const e=t.response;vs({category:"fetch",data:{...t.fetchData,status_code:e&&e.status},type:"http"},{input:t.args,response:e,startTimestamp:n,endTimestamp:o})}}}(e)),t.history&&ri(function(e){return function(t){if(ws()!==e)return;let n=t.from,o=t.to;const r=$i(vl.location.href);let i=n?$i(n):void 0;const s=$i(o);i&&i.path||(i=r),r.protocol===s.protocol&&r.host===s.host&&(o=s.relative),r.protocol===i.protocol&&r.host===i.host&&(n=i.relative),vs({category:"navigation",data:{from:n,to:o}})}}(e)),t.sentry&&e.on&&e.on("beforeSendEvent",function(e){return function(t){ws()===e&&vs({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:Ar(t)},{event:t})}}(e))}}};ta(Wl,ql);const Gl="Dedupe",Vl=()=>{let e;return{name:Gl,setupOnce(){},processEvent(t){if(t.type)return t;try{if(function(e,t){if(!t)return!1;if(function(e,t){const n=e.message,o=t.message;if(!n&&!o)return!1;if(n&&!o||!n&&o)return!1;if(n!==o)return!1;if(!Zl(e,t))return!1;if(!Yl(e,t))return!1;return!0}(e,t))return!0;if(function(e,t){const n=Kl(t),o=Kl(e);if(!n||!o)return!1;if(n.type!==o.type||n.value!==o.value)return!1;if(!Zl(e,t))return!1;if(!Yl(e,t))return!1;return!0}(e,t))return!0;return!1}(t,e))return El&&rr.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){}return e=t}}};ta(Gl,Vl);function Yl(e,t){let n=Xl(e),o=Xl(t);if(!n&&!o)return!0;if(n&&!o||!n&&o)return!1;if(o.length!==n.length)return!1;for(let e=0;e<o.length;e++){const t=o[e],r=n[e];if(t.filename!==r.filename||t.lineno!==r.lineno||t.colno!==r.colno||t.function!==r.function)return!1}return!0}function Zl(e,t){let n=e.fingerprint,o=t.fingerprint;if(!n&&!o)return!0;if(n&&!o||!n&&o)return!1;try{return!(n.join("")!==o.join(""))}catch(e){return!1}}function Kl(e){return e.exception&&e.exception.values&&e.exception.values[0]}function Xl(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}}const Jl="GlobalHandlers",Ql=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:Jl,setupOnce(){Error.stackTraceLimit=50},setup(e){t.onerror&&(!function(e){!function(e){const t="error";Tr(t,e),$r(t,Jr)}((t=>{const{stackParser:n,attachStacktrace:o}=nc();if(ws()!==e||wl())return;const{msg:r,url:i,line:s,column:a,error:l}=t,c=void 0===l&&Lo(r)?function(e,t,n,o){const r=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let i=Co(e)?e.message:e,s="Error";const a=i.match(r);a&&(s=a[1],i=a[2]);const l={exception:{values:[{type:s,value:i}]}};return ec(l,t,n,o)}(r,i,s,a):ec(kl(n,l||r,void 0,o,!1),i,s,a);c.level="error",_s(c,{originalException:l,mechanism:{handled:!1,type:"onerror"}})}))}(e),tc("onerror")),t.onunhandledrejection&&(!function(e){!function(e){const t="unhandledrejection";Tr(t,e),$r(t,ei)}((t=>{const{stackParser:n,attachStacktrace:o}=nc();if(ws()!==e||wl())return;const r=function(e){if(Io(e))return e;const t=e;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch(e){}return e}(t),i=Io(r)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(r)}`}]}}:kl(n,r,void 0,o,!0);i.level="error",_s(i,{originalException:r,mechanism:{handled:!1,type:"onunhandledrejection"}})}))}(e),tc("onunhandledrejection"))}}};ta(Jl,Ql);function ec(e,t,n,o){const r=e.exception=e.exception||{},i=r.values=r.values||[],s=i[0]=i[0]||{},a=s.stacktrace=s.stacktrace||{},l=a.frames=a.frames||[],c=isNaN(parseInt(o,10))?void 0:o,d=isNaN(parseInt(n,10))?void 0:n,u=Lo(t)&&t.length>0?t:Qo();return 0===l.length&&l.push({colno:c,filename:u,function:"?",in_app:!0,lineno:d}),e}function tc(e){El&&rr.log(`Global Handler attached: ${e}`)}function nc(){const e=ws();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const oc="HttpContext",rc=()=>({name:oc,setupOnce(){},preprocessEvent(e){if(!vl.navigator&&!vl.location&&!vl.document)return;const t=e.request&&e.request.url||vl.location&&vl.location.href,{referrer:n}=vl.document||{},{userAgent:o}=vl.navigator||{},r={...e.request&&e.request.headers,...n&&{Referer:n},...o&&{"User-Agent":o}},i={...e.request,...t&&{url:t},headers:r};e.request=i}}),ic=(ta(oc,rc),"LinkedErrors"),sc=(e={})=>{const t=e.limit||5,n=e.key||"cause";return{name:ic,setupOnce(){},preprocessEvent(e,o,r){const i=r.getOptions();Fo(xl,i.stackParser,i.maxValueLength,n,t,e,o)}}},ac=(ta(ic,sc),["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"]),lc="TryCatch",cc=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:lc,setupOnce(){t.setTimeout&&dr(vl,"setTimeout",dc),t.setInterval&&dr(vl,"setInterval",dc),t.requestAnimationFrame&&dr(vl,"requestAnimationFrame",uc),t.XMLHttpRequest&&"XMLHttpRequest"in vl&&dr(XMLHttpRequest.prototype,"send",pc);const e=t.eventTarget;if(e){(Array.isArray(e)?e:ac).forEach(mc)}}}};ta(lc,cc);function dc(e){return function(...t){const n=t[0];return t[0]=bl(n,{mechanism:{data:{function:Er(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function uc(e){return function(t){return e.apply(this,[bl(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Er(e)},handled:!1,type:"instrument"}})])}}function pc(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((e=>{e in n&&"function"==typeof n[e]&&dr(n,e,(function(t){const n={mechanism:{data:{function:e,handler:Er(t)},handled:!1,type:"instrument"}},o=mr(t);return o&&(n.mechanism.data.handler=Er(o)),bl(t,n)}))})),e.apply(this,t)}}function mc(e){const t=vl,n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(dr(n,"addEventListener",(function(t){return function(n,o,r){try{"function"==typeof o.handleEvent&&(o.handleEvent=bl(o.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Er(o),target:e},handled:!1,type:"instrument"}}))}catch(e){}return t.apply(this,[n,bl(o,{mechanism:{data:{function:"addEventListener",handler:Er(o),target:e},handled:!1,type:"instrument"}}),r])}})),dr(n,"removeEventListener",(function(e){return function(t,n,o){const r=n;try{const n=r&&r.__sentry_wrapped__;n&&e.call(this,t,n,o)}catch(e){}return e.call(this,t,r,o)}})))}const gc=[La(),Oa(),cc(),ql(),Ql(),sc(),Vl(),rc()];const hc=Vo,fc="sentryReplaySession",_c="Unable to send Replay",vc=15e4,yc=5e3,wc=2e7,bc=36e5;function Ec(e){let t,n=e[0],o=1;for(;o<e.length;){const r=e[o],i=e[o+1];if(o+=2,("optionalAccess"===r||"optionalCall"===r)&&null==n)return;"access"===r||"optionalAccess"===r?(t=n,n=i(n)):"call"!==r&&"optionalCall"!==r||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}var xc;function Sc(e){const t=Ec([e,"optionalAccess",e=>e.host]);return Boolean(Ec([t,"optionalAccess",e=>e.shadowRoot])===e)}function Tc(e){return"[object ShadowRoot]"===Object.prototype.toString.call(e)}function $c(e){try{const n=e.rules||e.cssRules;return n?((t=Array.from(n,Cc).join("")).includes(" background-clip: text;")&&!t.includes(" -webkit-background-clip: text;")&&(t=t.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),t):null}catch(e){return null}var t}function Cc(e){let t;if(function(e){return"styleSheet"in e}(e))try{t=$c(e.styleSheet)||function(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return""===e.layerName?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}(e)}catch(e){}else if(function(e){return"selectorText"in e}(e)&&e.selectorText.includes(":"))return function(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}(e.cssText);return t||e.cssText}!function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"}(xc||(xc={}));class kc{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(e){if(!e)return-1;const t=Ec([this,"access",e=>e.getMeta,"call",t=>t(e),"optionalAccess",e=>e.id]);return o=()=>-1,null!=(n=t)?n:o();var n,o}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach((e=>this.removeNodeFromMap(e)))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){const n=t.id;this.idNodeMap.set(n,e),this.nodeMetaMap.set(e,t)}replace(e,t){const n=this.getNode(e);if(n){const e=this.nodeMetaMap.get(n);e&&this.nodeMetaMap.set(t,e)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function Lc({maskInputOptions:e,tagName:t,type:n}){return"OPTION"===t&&(t="SELECT"),Boolean(e[t.toLowerCase()]||n&&e[n]||"password"===n||"INPUT"===t&&!n&&e.text)}function Mc({isMasked:e,element:t,value:n,maskInputFn:o}){let r=n||"";return e?(o&&(r=o(r,t)),"*".repeat(r.length)):r}function Ic(e){return e.toLowerCase()}function Ac(e){return e.toUpperCase()}const Rc="__rrweb_original__";function Oc(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?Ic(t):null}function Nc(e,t,n){return"INPUT"!==t||"radio"!==n&&"checkbox"!==n?e.value:e.getAttribute("value")||""}let Dc=1;const Pc=new RegExp("[^a-z0-9-_:]");function Bc(){return Dc++}let zc,Uc;const Hc=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,Fc=/^(?:[a-z+]+:)?\/\//i,jc=/^www\..*/i,Wc=/^(data:)([^,]*),(.*)/i;function qc(e,t){return(e||"").replace(Hc,((e,n,o,r,i,s)=>{const a=o||i||s,l=n||r||"";if(!a)return e;if(Fc.test(a)||jc.test(a))return`url(${l}${a}${l})`;if(Wc.test(a))return`url(${l}${a}${l})`;if("/"===a[0])return`url(${l}${function(e){let t="";return t=e.indexOf("//")>-1?e.split("/").slice(0,3).join("/"):e.split("/")[0],t=t.split("?")[0],t}(t)+a}${l})`;const c=t.split("/"),d=a.split("/");c.pop();for(const e of d)"."!==e&&(".."===e?c.pop():c.push(e));return`url(${l}${c.join("/")}${l})`}))}const Gc=/^[^ \t\n\r\u000c]+/,Vc=/^[, \t\n\r\u000c]+/;function Yc(e,t){if(!t||""===t.trim())return t;const n=e.createElement("a");return n.href=t,n.href}function Zc(e){return Boolean("svg"===e.tagName||e.ownerSVGElement)}function Kc(){const e=document.createElement("a");return e.href="",e.href}function Xc(e,t,n,o,r,i){return o?"src"===n||"href"===n&&("use"!==t||"#"!==o[0])||"xlink:href"===n&&"#"!==o[0]?Yc(e,o):"background"!==n||"table"!==t&&"td"!==t&&"th"!==t?"srcset"===n?function(e,t){if(""===t.trim())return t;let n=0;function o(e){let o;const r=e.exec(t.substring(n));return r?(o=r[0],n+=o.length,o):""}const r=[];for(;o(Vc),!(n>=t.length);){let i=o(Gc);if(","===i.slice(-1))i=Yc(e,i.substring(0,i.length-1)),r.push(i);else{let o="";i=Yc(e,i);let s=!1;for(;;){const e=t.charAt(n);if(""===e){r.push((i+o).trim());break}if(s)")"===e&&(s=!1);else{if(","===e){n+=1,r.push((i+o).trim());break}"("===e&&(s=!0)}o+=e,n+=1}}}return r.join(", ")}(e,o):"style"===n?qc(o,Kc()):"object"===t&&"data"===n?Yc(e,o):"function"==typeof i?i(n,o,r):o:Yc(e,o):o}function Jc(e,t,n){return("video"===e||"audio"===e)&&"autoplay"===t}function Qc(e,t,n=1/0,o=0){return e?e.nodeType!==e.ELEMENT_NODE||o>n?-1:t(e)?o:Qc(e.parentNode,t,n,o+1):-1}function ed(e,t){return n=>{const o=n;if(null===o)return!1;try{if(e)if("string"==typeof e){if(o.matches(`.${e}`))return!0}else if(function(e,t){for(let n=e.classList.length;n--;){const o=e.classList[n];if(t.test(o))return!0}return!1}(o,e))return!0;return!(!t||!o.matches(t))}catch(e){return!1}}}function td(e,t,n,o,r,i){try{const s=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(null===s)return!1;if("INPUT"===s.tagName){const e=s.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(e))return!0}let a=-1,l=-1;if(i){if(l=Qc(s,ed(o,r)),l<0)return!0;a=Qc(s,ed(t,n),l>=0?l:1/0)}else{if(a=Qc(s,ed(t,n)),a<0)return!1;l=Qc(s,ed(o,r),a>=0?a:1/0)}return a>=0?!(l>=0)||a<=l:!(l>=0)&&!!i}catch(e){}return!!i}function nd(e,t){const{doc:n,mirror:o,blockClass:r,blockSelector:i,unblockSelector:s,maskAllText:a,maskAttributeFn:l,maskTextClass:c,unmaskTextClass:d,maskTextSelector:u,unmaskTextSelector:p,inlineStylesheet:m,maskInputOptions:g={},maskTextFn:h,maskInputFn:f,dataURLOptions:_={},inlineImages:v,recordCanvas:y,keepIframeSrcFn:w,newlyAddedElement:b=!1}=t,E=function(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return 1===n?void 0:n}(n,o);switch(e.nodeType){case e.DOCUMENT_NODE:return"CSS1Compat"!==e.compatMode?{type:xc.Document,childNodes:[],compatMode:e.compatMode}:{type:xc.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:xc.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:E};case e.ELEMENT_NODE:return function(e,t){const{doc:n,blockClass:o,blockSelector:r,unblockSelector:i,inlineStylesheet:s,maskInputOptions:a={},maskAttributeFn:l,maskInputFn:c,dataURLOptions:d={},inlineImages:u,recordCanvas:p,keepIframeSrcFn:m,newlyAddedElement:g=!1,rootId:h,maskAllText:f,maskTextClass:_,unmaskTextClass:v,maskTextSelector:y,unmaskTextSelector:w}=t,b=function(e,t,n,o){try{if(o&&e.matches(o))return!1;if("string"==typeof t){if(e.classList.contains(t))return!0}else for(let n=e.classList.length;n--;){const o=e.classList[n];if(t.test(o))return!0}if(n)return e.matches(n)}catch(e){}return!1}(e,o,r,i),E=function(e){if(e instanceof HTMLFormElement)return"form";const t=Ic(e.tagName);return Pc.test(t)?"div":t}(e);let x={};const S=e.attributes.length;for(let t=0;t<S;t++){const o=e.attributes[t];o.name&&!Jc(E,o.name,o.value)&&(x[o.name]=Xc(n,E,Ic(o.name),o.value,e,l))}if("link"===E&&s){const t=Array.from(n.styleSheets).find((t=>t.href===e.href));let o=null;t&&(o=$c(t)),o&&(delete x.rel,delete x.href,x._cssText=qc(o,t.href))}if("style"===E&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const t=$c(e.sheet);t&&(x._cssText=qc(t,Kc()))}if("input"===E||"textarea"===E||"select"===E||"option"===E){const t=e,n=Oc(t),o=Nc(t,Ac(E),n),r=t.checked;if("submit"!==n&&"button"!==n&&o){const e=td(t,_,y,v,w,Lc({type:n,tagName:Ac(E),maskInputOptions:a}));x.value=Mc({isMasked:e,element:t,value:o,maskInputFn:c})}r&&(x.checked=r)}"option"===E&&(e.selected&&!a.select?x.selected=!0:delete x.selected);if("canvas"===E&&p)if("2d"===e.__context)(function(e){const t=e.getContext("2d");if(!t)return!0;for(let n=0;n<e.width;n+=50)for(let o=0;o<e.height;o+=50){const r=t.getImageData,i=Rc in r?r[Rc]:r;if(new Uint32Array(i.call(t,n,o,Math.min(50,e.width-n),Math.min(50,e.height-o)).data.buffer).some((e=>0!==e)))return!1}return!0})(e)||(x.rr_dataURL=e.toDataURL(d.type,d.quality));else if(!("__context"in e)){const t=e.toDataURL(d.type,d.quality),n=document.createElement("canvas");n.width=e.width,n.height=e.height;t!==n.toDataURL(d.type,d.quality)&&(x.rr_dataURL=t)}if("img"===E&&u){zc||(zc=n.createElement("canvas"),Uc=zc.getContext("2d"));const t=e,o=t.crossOrigin;t.crossOrigin="anonymous";const r=()=>{t.removeEventListener("load",r);try{zc.width=t.naturalWidth,zc.height=t.naturalHeight,Uc.drawImage(t,0,0),x.rr_dataURL=zc.toDataURL(d.type,d.quality)}catch(e){console.warn(`Cannot inline img src=${t.currentSrc}! Error: ${e}`)}o?x.crossOrigin=o:t.removeAttribute("crossorigin")};t.complete&&0!==t.naturalWidth?r():t.addEventListener("load",r)}"audio"!==E&&"video"!==E||(x.rr_mediaState=e.paused?"paused":"played",x.rr_mediaCurrentTime=e.currentTime);g||(e.scrollLeft&&(x.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(x.rr_scrollTop=e.scrollTop));if(b){const{width:t,height:n}=e.getBoundingClientRect();x={class:x.class,rr_width:`${t}px`,rr_height:`${n}px`}}"iframe"!==E||m(x.src)||(e.contentDocument||(x.rr_src=x.src),delete x.src);let T;try{customElements.get(E)&&(T=!0)}catch(e){}return{type:xc.Element,tagName:E,attributes:x,childNodes:[],isSVG:Zc(e)||void 0,needBlock:b,rootId:h,isCustom:T}}(e,{doc:n,blockClass:r,blockSelector:i,unblockSelector:s,inlineStylesheet:m,maskAttributeFn:l,maskInputOptions:g,maskInputFn:f,dataURLOptions:_,inlineImages:v,recordCanvas:y,keepIframeSrcFn:w,newlyAddedElement:b,rootId:E,maskAllText:a,maskTextClass:c,unmaskTextClass:d,maskTextSelector:u,unmaskTextSelector:p});case e.TEXT_NODE:return function(e,t){const{maskAllText:n,maskTextClass:o,unmaskTextClass:r,maskTextSelector:i,unmaskTextSelector:s,maskTextFn:a,maskInputOptions:l,maskInputFn:c,rootId:d}=t,u=e.parentNode&&e.parentNode.tagName;let p=e.textContent;const m="STYLE"===u||void 0,g="SCRIPT"===u||void 0,h="TEXTAREA"===u||void 0;if(m&&p){try{e.nextSibling||e.previousSibling||Ec([e,"access",e=>e.parentNode,"access",e=>e.sheet,"optionalAccess",e=>e.cssRules])&&(p=$c(e.parentNode.sheet))}catch(t){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${t}`,e)}p=qc(p,Kc())}g&&(p="SCRIPT_PLACEHOLDER");const f=td(e,o,i,r,s,n);m||g||h||!p||!f||(p=a?a(p,e.parentElement):p.replace(/[\S]/g,"*"));h&&p&&(l.textarea||f)&&(p=c?c(p,e.parentNode):p.replace(/[\S]/g,"*"));if("OPTION"===u&&p){p=Mc({isMasked:td(e,o,i,r,s,Lc({type:null,tagName:u,maskInputOptions:l})),element:e,value:p,maskInputFn:c})}return{type:xc.Text,textContent:p||"",isStyle:m,rootId:d}}(e,{maskAllText:a,maskTextClass:c,unmaskTextClass:d,maskTextSelector:u,unmaskTextSelector:p,maskTextFn:h,maskInputOptions:g,maskInputFn:f,rootId:E});case e.CDATA_SECTION_NODE:return{type:xc.CDATA,textContent:"",rootId:E};case e.COMMENT_NODE:return{type:xc.Comment,textContent:e.textContent||"",rootId:E};default:return!1}}function od(e){return null==e?"":e.toLowerCase()}function rd(e,t){const{doc:n,mirror:o,blockClass:r,blockSelector:i,unblockSelector:s,maskAllText:a,maskTextClass:l,unmaskTextClass:c,maskTextSelector:d,unmaskTextSelector:u,skipChild:p=!1,inlineStylesheet:m=!0,maskInputOptions:g={},maskAttributeFn:h,maskTextFn:f,maskInputFn:_,slimDOMOptions:v,dataURLOptions:y={},inlineImages:w=!1,recordCanvas:b=!1,onSerialize:E,onIframeLoad:x,iframeLoadTimeout:S=5e3,onStylesheetLoad:T,stylesheetLoadTimeout:$=5e3,keepIframeSrcFn:C=()=>!1,newlyAddedElement:k=!1}=t;let{preserveWhiteSpace:L=!0}=t;const M=nd(e,{doc:n,mirror:o,blockClass:r,blockSelector:i,maskAllText:a,unblockSelector:s,maskTextClass:l,unmaskTextClass:c,maskTextSelector:d,unmaskTextSelector:u,inlineStylesheet:m,maskInputOptions:g,maskAttributeFn:h,maskTextFn:f,maskInputFn:_,dataURLOptions:y,inlineImages:w,recordCanvas:b,keepIframeSrcFn:C,newlyAddedElement:k});if(!M)return console.warn(e,"not serialized"),null;let I;I=o.hasNode(e)?o.getId(e):!function(e,t){if(t.comment&&e.type===xc.Comment)return!0;if(e.type===xc.Element){if(t.script&&("script"===e.tagName||"link"===e.tagName&&("preload"===e.attributes.rel||"modulepreload"===e.attributes.rel)&&"script"===e.attributes.as||"link"===e.tagName&&"prefetch"===e.attributes.rel&&"string"==typeof e.attributes.href&&e.attributes.href.endsWith(".js")))return!0;if(t.headFavicon&&("link"===e.tagName&&"shortcut icon"===e.attributes.rel||"meta"===e.tagName&&(od(e.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===od(e.attributes.name)||"icon"===od(e.attributes.rel)||"apple-touch-icon"===od(e.attributes.rel)||"shortcut icon"===od(e.attributes.rel))))return!0;if("meta"===e.tagName){if(t.headMetaDescKeywords&&od(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(od(e.attributes.property).match(/^(og|twitter|fb):/)||od(e.attributes.name).match(/^(og|twitter):/)||"pinterest"===od(e.attributes.name)))return!0;if(t.headMetaRobots&&("robots"===od(e.attributes.name)||"googlebot"===od(e.attributes.name)||"bingbot"===od(e.attributes.name)))return!0;if(t.headMetaHttpEquiv&&void 0!==e.attributes["http-equiv"])return!0;if(t.headMetaAuthorship&&("author"===od(e.attributes.name)||"generator"===od(e.attributes.name)||"framework"===od(e.attributes.name)||"publisher"===od(e.attributes.name)||"progid"===od(e.attributes.name)||od(e.attributes.property).match(/^article:/)||od(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&("google-site-verification"===od(e.attributes.name)||"yandex-verification"===od(e.attributes.name)||"csrf-token"===od(e.attributes.name)||"p:domain_verify"===od(e.attributes.name)||"verify-v1"===od(e.attributes.name)||"verification"===od(e.attributes.name)||"shopify-checkout-api-token"===od(e.attributes.name)))return!0}}return!1}(M,v)&&(L||M.type!==xc.Text||M.isStyle||M.textContent.replace(/^\s+|\s+$/gm,"").length)?Bc():-2;const A=Object.assign(M,{id:I});if(o.add(e,A),-2===I)return null;E&&E(e);let R=!p;if(A.type===xc.Element){R=R&&!A.needBlock,delete A.needBlock;const t=e.shadowRoot;t&&Tc(t)&&(A.isShadowHost=!0)}if((A.type===xc.Document||A.type===xc.Element)&&R){v.headWhitespace&&A.type===xc.Element&&"head"===A.tagName&&(L=!1);const t={doc:n,mirror:o,blockClass:r,blockSelector:i,maskAllText:a,unblockSelector:s,maskTextClass:l,unmaskTextClass:c,maskTextSelector:d,unmaskTextSelector:u,skipChild:p,inlineStylesheet:m,maskInputOptions:g,maskAttributeFn:h,maskTextFn:f,maskInputFn:_,slimDOMOptions:v,dataURLOptions:y,inlineImages:w,recordCanvas:b,preserveWhiteSpace:L,onSerialize:E,onIframeLoad:x,iframeLoadTimeout:S,onStylesheetLoad:T,stylesheetLoadTimeout:$,keepIframeSrcFn:C};for(const n of Array.from(e.childNodes)){const e=rd(n,t);e&&A.childNodes.push(e)}if(function(e){return e.nodeType===e.ELEMENT_NODE}(e)&&e.shadowRoot)for(const n of Array.from(e.shadowRoot.childNodes)){const o=rd(n,t);o&&(Tc(e.shadowRoot)&&(o.isShadow=!0),A.childNodes.push(o))}}return e.parentNode&&Sc(e.parentNode)&&Tc(e.parentNode)&&(A.isShadow=!0),A.type===xc.Element&&"iframe"===A.tagName&&function(e,t,n){const o=e.contentWindow;if(!o)return;let r,i=!1;try{r=o.document.readyState}catch(e){return}if("complete"!==r){const o=setTimeout((()=>{i||(t(),i=!0)}),n);return void e.addEventListener("load",(()=>{clearTimeout(o),i=!0,t()}))}const s="about:blank";if(o.location.href!==s||e.src===s||""===e.src)return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}(e,(()=>{const t=e.contentDocument;if(t&&x){const n=rd(t,{doc:t,mirror:o,blockClass:r,blockSelector:i,unblockSelector:s,maskAllText:a,maskTextClass:l,unmaskTextClass:c,maskTextSelector:d,unmaskTextSelector:u,skipChild:!1,inlineStylesheet:m,maskInputOptions:g,maskAttributeFn:h,maskTextFn:f,maskInputFn:_,slimDOMOptions:v,dataURLOptions:y,inlineImages:w,recordCanvas:b,preserveWhiteSpace:L,onSerialize:E,onIframeLoad:x,iframeLoadTimeout:S,onStylesheetLoad:T,stylesheetLoadTimeout:$,keepIframeSrcFn:C});n&&x(e,n)}}),S),A.type===xc.Element&&"link"===A.tagName&&"stylesheet"===A.attributes.rel&&function(e,t,n){let o,r=!1;try{o=e.sheet}catch(e){return}if(o)return;const i=setTimeout((()=>{r||(t(),r=!0)}),n);e.addEventListener("load",(()=>{clearTimeout(i),r=!0,t()}))}(e,(()=>{if(T){const t=rd(e,{doc:n,mirror:o,blockClass:r,blockSelector:i,unblockSelector:s,maskAllText:a,maskTextClass:l,unmaskTextClass:c,maskTextSelector:d,unmaskTextSelector:u,skipChild:!1,inlineStylesheet:m,maskInputOptions:g,maskAttributeFn:h,maskTextFn:f,maskInputFn:_,slimDOMOptions:v,dataURLOptions:y,inlineImages:w,recordCanvas:b,preserveWhiteSpace:L,onSerialize:E,onIframeLoad:x,iframeLoadTimeout:S,onStylesheetLoad:T,stylesheetLoadTimeout:$,keepIframeSrcFn:C});t&&T(e,t)}}),$),A}function id(e){let t,n=e[0],o=1;for(;o<e.length;){const r=e[o],i=e[o+1];if(o+=2,("optionalAccess"===r||"optionalCall"===r)&&null==n)return;"access"===r||"optionalAccess"===r?(t=n,n=i(n)):"call"!==r&&"optionalCall"!==r||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}function sd(e,t,n=document){const o={capture:!0,passive:!0};return n.addEventListener(e,t,o),()=>n.removeEventListener(e,t,o)}const ad="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let ld={map:{},getId:()=>(console.error(ad),-1),getNode:()=>(console.error(ad),null),removeNodeFromMap(){console.error(ad)},has:()=>(console.error(ad),!1),reset(){console.error(ad)}};function cd(e,t,n={}){let o=null,r=0;return function(...i){const s=Date.now();r||!1!==n.leading||(r=s);const a=t-(s-r),l=this;a<=0||a>t?(o&&(!function(...e){Ld("clearTimeout")(...e)}(o),o=null),r=s,e.apply(l,i)):o||!1===n.trailing||(o=Md((()=>{r=!1===n.leading?0:Date.now(),o=null,e.apply(l,i)}),a))}}function dd(e,t,n,o,r=window){const i=r.Object.getOwnPropertyDescriptor(e,t);return r.Object.defineProperty(e,t,o?n:{set(e){Md((()=>{n.set.call(this,e)}),0),i&&i.set&&i.set.call(this,e)}}),()=>dd(e,t,i||{},!0)}function ud(e,t,n){try{if(!(t in e))return()=>{};const o=e[t],r=n(o);return"function"==typeof r&&(r.prototype=r.prototype||{},Object.defineProperties(r,{__rrweb_original__:{enumerable:!1,value:o}})),e[t]=r,()=>{e[t]=o}}catch(e){return()=>{}}}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(ld=new Proxy(ld,{get:(e,t,n)=>("map"===t&&console.error(ad),Reflect.get(e,t,n))}));let pd=Date.now;function md(e){const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:void 0!==e.pageXOffset?e.pageXOffset:id([t,"optionalAccess",e=>e.documentElement,"access",e=>e.scrollLeft])||id([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.parentElement,"optionalAccess",e=>e.scrollLeft])||id([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.scrollLeft])||0,top:t.scrollingElement?t.scrollingElement.scrollTop:void 0!==e.pageYOffset?e.pageYOffset:id([t,"optionalAccess",e=>e.documentElement,"access",e=>e.scrollTop])||id([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.parentElement,"optionalAccess",e=>e.scrollTop])||id([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.scrollTop])||0}}function gd(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function hd(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function fd(e){if(!e)return null;return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}function _d(e,t,n,o,r){if(!e)return!1;const i=fd(e);if(!i)return!1;const s=ed(t,n);if(!r){const e=o&&i.matches(o);return s(i)&&!e}const a=Qc(i,s);let l=-1;return!(a<0)&&(o&&(l=Qc(i,ed(null,o))),a>-1&&l<0||a<l)}function vd(e,t){return-2===t.getId(e)}function yd(e,t){if(Sc(e))return!1;const n=t.getId(e);return!t.has(n)||(!e.parentNode||e.parentNode.nodeType!==e.DOCUMENT_NODE)&&(!e.parentNode||yd(e.parentNode,t))}function wd(e){return Boolean(e.changedTouches)}function bd(e,t){return Boolean("IFRAME"===e.nodeName&&t.getMeta(e))}function Ed(e,t){return Boolean("LINK"===e.nodeName&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&"stylesheet"===e.getAttribute("rel")&&t.getMeta(e))}function xd(e){return Boolean(id([e,"optionalAccess",e=>e.shadowRoot]))}/[1-9][0-9]{12}/.test(Date.now().toString())||(pd=()=>(new Date).getTime());class Sd{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(e){return t=this.styleIDMap.get(e),n=()=>-1,null!=t?t:n();var t,n}has(e){return this.styleIDMap.has(e)}add(e,t){if(this.has(e))return this.getId(e);let n;return n=void 0===t?this.id++:t,this.styleIDMap.set(e,n),this.idStyleMap.set(n,e),n}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function Td(e){let t=null;return id([e,"access",e=>e.getRootNode,"optionalCall",e=>e(),"optionalAccess",e=>e.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function $d(e){const t=e.ownerDocument;if(!t)return!1;const n=function(e){let t,n=e;for(;t=Td(n);)n=t;return n}(e);return t.contains(n)}function Cd(e){const t=e.ownerDocument;return!!t&&(t.contains(e)||$d(e))}const kd={};function Ld(e){const t=kd[e];if(t)return t;const n=window.document;let o=window[e];if(n&&"function"==typeof n.createElement)try{const t=n.createElement("iframe");t.hidden=!0,n.head.appendChild(t);const r=t.contentWindow;r&&r[e]&&(o=r[e]),n.head.removeChild(t)}catch(e){}return kd[e]=o.bind(window)}function Md(...e){return Ld("setTimeout")(...e)}var Id=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(Id||{}),Ad=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(Ad||{}),Rd=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Rd||{}),Od=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(Od||{});function Nd(e){let t,n=e[0],o=1;for(;o<e.length;){const r=e[o],i=e[o+1];if(o+=2,("optionalAccess"===r||"optionalCall"===r)&&null==n)return;"access"===r||"optionalAccess"===r?(t=n,n=i(n)):"call"!==r&&"optionalCall"!==r||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}function Dd(e){return"__ln"in e}class Pd{constructor(){this.length=0,this.head=null,this.tail=null}get(e){if(e>=this.length)throw new Error("Position outside of list range");let t=this.head;for(let n=0;n<e;n++)t=Nd([t,"optionalAccess",e=>e.next])||null;return t}addNode(e){const t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&Dd(e.previousSibling)){const n=e.previousSibling.__ln.next;t.next=n,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,n&&(n.previous=t)}else if(e.nextSibling&&Dd(e.nextSibling)&&e.nextSibling.__ln.previous){const n=e.nextSibling.__ln.previous;t.previous=n,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,n&&(n.next=t)}else this.head&&(this.head.previous=t),t.next=this.head,this.head=t;null===t.next&&(this.tail=t),this.length++}removeNode(e){const t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next?t.next.previous=t.previous:this.tail=t.previous):(this.head=t.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}const Bd=(e,t)=>`${e}@${t}`;class zd{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=e=>{e.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const e=[],t=new Set,n=new Pd,o=e=>{let t=e,n=-2;for(;-2===n;)t=t&&t.nextSibling,n=t&&this.mirror.getId(t);return n},r=r=>{if(!r.parentNode||!Cd(r))return;const i=Sc(r.parentNode)?this.mirror.getId(Td(r)):this.mirror.getId(r.parentNode),s=o(r);if(-1===i||-1===s)return n.addNode(r);const a=rd(r,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:e=>{bd(e,this.mirror)&&this.iframeManager.addIframe(e),Ed(e,this.mirror)&&this.stylesheetManager.trackLinkElement(e),xd(r)&&this.shadowDomManager.addShadowRoot(r.shadowRoot,this.doc)},onIframeLoad:(e,t)=>{this.iframeManager.attachIframe(e,t),this.shadowDomManager.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{this.stylesheetManager.attachLinkElement(e,t)}});a&&(e.push({parentId:i,nextId:s,node:a}),t.add(a.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const e of this.movedSet)Hd(this.removes,e,this.mirror)&&!this.movedSet.has(e.parentNode)||r(e);for(const e of this.addedSet)jd(this.droppedSet,e)||Hd(this.removes,e,this.mirror)?jd(this.movedSet,e)?r(e):this.droppedSet.add(e):r(e);let i=null;for(;n.length;){let e=null;if(i){const t=this.mirror.getId(i.value.parentNode),n=o(i.value);-1!==t&&-1!==n&&(e=i)}if(!e){let t=n.tail;for(;t;){const n=t;if(t=t.previous,n){const t=this.mirror.getId(n.value.parentNode);if(-1===o(n.value))continue;if(-1!==t){e=n;break}{const t=n.value;if(t.parentNode&&t.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const o=t.parentNode.host;if(-1!==this.mirror.getId(o)){e=n;break}}}}}}if(!e){for(;n.head;)n.removeNode(n.head.value);break}i=e.previous,n.removeNode(e.value),r(e.value)}const s={texts:this.texts.map((e=>({id:this.mirror.getId(e.node),value:e.value}))).filter((e=>!t.has(e.id))).filter((e=>this.mirror.has(e.id))),attributes:this.attributes.map((e=>{const{attributes:t}=e;if("string"==typeof t.style){const n=JSON.stringify(e.styleDiff),o=JSON.stringify(e._unchangedStyles);n.length<t.style.length&&(n+o).split("var(").length===t.style.split("var(").length&&(t.style=e.styleDiff)}return{id:this.mirror.getId(e.node),attributes:t}})).filter((e=>!t.has(e.id))).filter((e=>this.mirror.has(e.id))),removes:this.removes,adds:e};(s.texts.length||s.attributes.length||s.removes.length||s.adds.length)&&(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(s))},this.processMutation=e=>{if(!vd(e.target,this.mirror))switch(e.type){case"characterData":{const t=e.target.textContent;_d(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||t===e.oldValue||this.texts.push({value:td(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&t?this.maskTextFn?this.maskTextFn(t,fd(e.target)):t.replace(/[\S]/g,"*"):t,node:e.target});break}case"attributes":{const t=e.target;let n=e.attributeName,o=e.target.getAttribute(n);if("value"===n){const n=Oc(t),r=t.tagName;o=Nc(t,r,n);const i=Lc({maskInputOptions:this.maskInputOptions,tagName:r,type:n});o=Mc({isMasked:td(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,i),element:t,value:o,maskInputFn:this.maskInputFn})}if(_d(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||o===e.oldValue)return;let r=this.attributeMap.get(e.target);if("IFRAME"===t.tagName&&"src"===n&&!this.keepIframeSrcFn(o)){if(t.contentDocument)return;n="rr_src"}if(r||(r={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(r),this.attributeMap.set(e.target,r)),"type"===n&&"INPUT"===t.tagName&&"password"===(e.oldValue||"").toLowerCase()&&t.setAttribute("data-rr-is-password","true"),!Jc(t.tagName,n)&&(r.attributes[n]=Xc(this.doc,Ic(t.tagName),Ic(n),o,t,this.maskAttributeFn),"style"===n)){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch(e){this.unattachedDoc=this.doc}const n=this.unattachedDoc.createElement("span");e.oldValue&&n.setAttribute("style",e.oldValue);for(const e of Array.from(t.style)){const o=t.style.getPropertyValue(e),i=t.style.getPropertyPriority(e);o!==n.style.getPropertyValue(e)||i!==n.style.getPropertyPriority(e)?r.styleDiff[e]=""===i?o:[o,i]:r._unchangedStyles[e]=[o,i]}for(const e of Array.from(n.style))""===t.style.getPropertyValue(e)&&(r.styleDiff[e]=!1)}break}case"childList":if(_d(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;e.addedNodes.forEach((t=>this.genAdds(t,e.target))),e.removedNodes.forEach((t=>{const n=this.mirror.getId(t),o=Sc(e.target)?this.mirror.getId(e.target.host):this.mirror.getId(e.target);_d(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||vd(t,this.mirror)||!function(e,t){return-1!==t.getId(e)}(t,this.mirror)||(this.addedSet.has(t)?(Ud(this.addedSet,t),this.droppedSet.add(t)):this.addedSet.has(e.target)&&-1===n||yd(e.target,this.mirror)||(this.movedSet.has(t)&&this.movedMap[Bd(n,o)]?Ud(this.movedSet,t):this.removes.push({parentId:o,id:n,isShadow:!(!Sc(e.target)||!Tc(e.target))||void 0})),this.mapRemoves.push(t))}))}},this.genAdds=(e,t)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!this.addedSet.has(e)&&!this.movedSet.has(e)){if(this.mirror.hasNode(e)){if(vd(e,this.mirror))return;this.movedSet.add(e);let n=null;t&&this.mirror.hasNode(t)&&(n=this.mirror.getId(t)),n&&-1!==n&&(this.movedMap[Bd(this.mirror.getId(e),n)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);_d(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(e.childNodes.forEach((e=>this.genAdds(e))),xd(e)&&e.shadowRoot.childNodes.forEach((t=>{this.processedNodeManager.add(t,this),this.genAdds(t,e)})))}}}init(e){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach((t=>{this[t]=e[t]}))}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Ud(e,t){e.delete(t),t.childNodes.forEach((t=>Ud(e,t)))}function Hd(e,t,n){return 0!==e.length&&Fd(e,t,n)}function Fd(e,t,n){const{parentNode:o}=t;if(!o)return!1;const r=n.getId(o);return!!e.some((e=>e.id===r))||Fd(e,o,n)}function jd(e,t){return 0!==e.size&&Wd(e,t)}function Wd(e,t){const{parentNode:n}=t;return!!n&&(!!e.has(n)||Wd(e,n))}let qd;const Gd=e=>{if(!qd)return e;return(...t)=>{try{return e(...t)}catch(e){if(qd&&!0===qd(e))return()=>{};throw e}}};function Vd(e){let t,n=e[0],o=1;for(;o<e.length;){const r=e[o],i=e[o+1];if(o+=2,("optionalAccess"===r||"optionalCall"===r)&&null==n)return;"access"===r||"optionalAccess"===r?(t=n,n=i(n)):"call"!==r&&"optionalCall"!==r||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}const Yd=[];function Zd(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch(e){}return e&&e.target}function Kd(e,t){const n=new zd;Yd.push(n),n.init(e);let o=window.MutationObserver||window.__rrMutationObserver;const r=Vd([window,"optionalAccess",e=>e.Zone,"optionalAccess",e=>e.__symbol__,"optionalCall",e=>e("MutationObserver")]);r&&window[r]&&(o=window[r]);const i=new o(Gd((t=>{e.onMutation&&!1===e.onMutation(t)||n.processMutations.bind(n)(t)})));return i.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),i}function Xd({mouseInteractionCb:e,doc:t,mirror:n,blockClass:o,blockSelector:r,unblockSelector:i,sampling:s}){if(!1===s.mouseInteraction)return()=>{};const a=!0===s.mouseInteraction||void 0===s.mouseInteraction?{}:s.mouseInteraction,l=[];let c=null;return Object.keys(Rd).filter((e=>Number.isNaN(Number(e))&&!e.endsWith("_Departed")&&!1!==a[e])).forEach((s=>{let a=Ic(s);const d=(t=>s=>{const a=Zd(s);if(_d(a,o,r,i,!0))return;let l=null,d=t;if("pointerType"in s){switch(s.pointerType){case"mouse":l=Od.Mouse;break;case"touch":l=Od.Touch;break;case"pen":l=Od.Pen}l===Od.Touch?Rd[t]===Rd.MouseDown?d="TouchStart":Rd[t]===Rd.MouseUp&&(d="TouchEnd"):Od.Pen}else wd(s)&&(l=Od.Touch);null!==l?(c=l,(d.startsWith("Touch")&&l===Od.Touch||d.startsWith("Mouse")&&l===Od.Mouse)&&(l=null)):Rd[t]===Rd.Click&&(l=c,c=null);const u=wd(s)?s.changedTouches[0]:s;if(!u)return;const p=n.getId(a),{clientX:m,clientY:g}=u;Gd(e)({type:Rd[d],id:p,x:m,y:g,...null!==l&&{pointerType:l}})})(s);if(window.PointerEvent)switch(Rd[s]){case Rd.MouseDown:case Rd.MouseUp:a=a.replace("mouse","pointer");break;case Rd.TouchStart:case Rd.TouchEnd:return}l.push(sd(a,d,t))})),Gd((()=>{l.forEach((e=>e()))}))}function Jd({scrollCb:e,doc:t,mirror:n,blockClass:o,blockSelector:r,unblockSelector:i,sampling:s}){return sd("scroll",Gd(cd(Gd((s=>{const a=Zd(s);if(!a||_d(a,o,r,i,!0))return;const l=n.getId(a);if(a===t&&t.defaultView){const n=md(t.defaultView);e({id:l,x:n.left,y:n.top})}else e({id:l,x:a.scrollLeft,y:a.scrollTop})})),s.scroll||100)),t)}const Qd=["INPUT","TEXTAREA","SELECT"],eu=new WeakMap;function tu({inputCb:e,doc:t,mirror:n,blockClass:o,blockSelector:r,unblockSelector:i,ignoreClass:s,ignoreSelector:a,maskInputOptions:l,maskInputFn:c,sampling:d,userTriggeredOnInput:u,maskTextClass:p,unmaskTextClass:m,maskTextSelector:g,unmaskTextSelector:h}){function f(e){let n=Zd(e);const d=e.isTrusted,f=n&&Ac(n.tagName);if("OPTION"===f&&(n=n.parentElement),!n||!f||Qd.indexOf(f)<0||_d(n,o,r,i,!0))return;const v=n;if(v.classList.contains(s)||a&&v.matches(a))return;const y=Oc(n);let w=Nc(v,f,y),b=!1;const E=Lc({maskInputOptions:l,tagName:f,type:y}),x=td(n,p,g,m,h,E);"radio"!==y&&"checkbox"!==y||(b=n.checked),w=Mc({isMasked:x,element:n,value:w,maskInputFn:c}),_(n,u?{text:w,isChecked:b,userTriggered:d}:{text:w,isChecked:b});const S=n.name;"radio"===y&&S&&b&&t.querySelectorAll(`input[type="radio"][name="${S}"]`).forEach((e=>{if(e!==n){const t=Mc({isMasked:x,element:e,value:Nc(e,f,y),maskInputFn:c});_(e,u?{text:t,isChecked:!b,userTriggered:!1}:{text:t,isChecked:!b})}}))}function _(t,o){const r=eu.get(t);if(!r||r.text!==o.text||r.isChecked!==o.isChecked){eu.set(t,o);const r=n.getId(t);Gd(e)({...o,id:r})}}const v=("last"===d.input?["change"]:["input","change"]).map((e=>sd(e,Gd(f),t))),y=t.defaultView;if(!y)return()=>{v.forEach((e=>e()))};const w=y.Object.getOwnPropertyDescriptor(y.HTMLInputElement.prototype,"value"),b=[[y.HTMLInputElement.prototype,"value"],[y.HTMLInputElement.prototype,"checked"],[y.HTMLSelectElement.prototype,"value"],[y.HTMLTextAreaElement.prototype,"value"],[y.HTMLSelectElement.prototype,"selectedIndex"],[y.HTMLOptionElement.prototype,"selected"]];return w&&w.set&&v.push(...b.map((e=>dd(e[0],e[1],{set(){Gd(f)({target:this,isTrusted:!1})}},!1,y)))),Gd((()=>{v.forEach((e=>e()))}))}function nu(e){return function(e,t){if(su("CSSGroupingRule")&&e.parentRule instanceof CSSGroupingRule||su("CSSMediaRule")&&e.parentRule instanceof CSSMediaRule||su("CSSSupportsRule")&&e.parentRule instanceof CSSSupportsRule||su("CSSConditionRule")&&e.parentRule instanceof CSSConditionRule){const n=Array.from(e.parentRule.cssRules).indexOf(e);t.unshift(n)}else if(e.parentStyleSheet){const n=Array.from(e.parentStyleSheet.cssRules).indexOf(e);t.unshift(n)}return t}(e,[])}function ou(e,t,n){let o,r;return e?(e.ownerNode?o=t.getId(e.ownerNode):r=n.getId(e),{styleId:r,id:o}):{}}function ru({mirror:e,stylesheetManager:t},n){let o=null;o="#document"===n.nodeName?e.getId(n):e.getId(n.host);const r="#document"===n.nodeName?Vd([n,"access",e=>e.defaultView,"optionalAccess",e=>e.Document]):Vd([n,"access",e=>e.ownerDocument,"optionalAccess",e=>e.defaultView,"optionalAccess",e=>e.ShadowRoot]),i=Vd([r,"optionalAccess",e=>e.prototype])?Object.getOwnPropertyDescriptor(Vd([r,"optionalAccess",e=>e.prototype]),"adoptedStyleSheets"):void 0;return null!==o&&-1!==o&&r&&i?(Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get(){return Vd([i,"access",e=>e.get,"optionalAccess",e=>e.call,"call",e=>e(this)])},set(e){const n=Vd([i,"access",e=>e.set,"optionalAccess",e=>e.call,"call",t=>t(this,e)]);if(null!==o&&-1!==o)try{t.adoptStyleSheets(e,o)}catch(e){}return n}}),Gd((()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get:i.get,set:i.set})}))):()=>{}}function iu(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};const o=Kd(e,e.doc),r=function({mousemoveCb:e,sampling:t,doc:n,mirror:o}){if(!1===t.mousemove)return()=>{};const r="number"==typeof t.mousemove?t.mousemove:50,i="number"==typeof t.mousemoveCallback?t.mousemoveCallback:500;let s,a=[];const l=cd(Gd((t=>{const n=Date.now()-s;e(a.map((e=>(e.timeOffset-=n,e))),t),a=[],s=null})),i),c=Gd(cd(Gd((e=>{const t=Zd(e),{clientX:n,clientY:r}=wd(e)?e.changedTouches[0]:e;s||(s=pd()),a.push({x:n,y:r,id:o.getId(t),timeOffset:pd()-s}),l("undefined"!=typeof DragEvent&&e instanceof DragEvent?Ad.Drag:e instanceof MouseEvent?Ad.MouseMove:Ad.TouchMove)})),r,{trailing:!1})),d=[sd("mousemove",c,n),sd("touchmove",c,n),sd("drag",c,n)];return Gd((()=>{d.forEach((e=>e()))}))}(e),i=Xd(e),s=Jd(e),a=function({viewportResizeCb:e},{win:t}){let n=-1,o=-1;return sd("resize",Gd(cd(Gd((()=>{const t=gd(),r=hd();n===t&&o===r||(e({width:Number(r),height:Number(t)}),n=t,o=r)})),200)),t)}(e,{win:n}),l=tu(e),c=function({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:o,mirror:r,sampling:i,doc:s}){const a=Gd((s=>cd(Gd((i=>{const a=Zd(i);if(!a||_d(a,t,n,o,!0))return;const{currentTime:l,volume:c,muted:d,playbackRate:u}=a;e({type:s,id:r.getId(a),currentTime:l,volume:c,muted:d,playbackRate:u})})),i.media||500))),l=[sd("play",a(0),s),sd("pause",a(1),s),sd("seeked",a(2),s),sd("volumechange",a(3),s),sd("ratechange",a(4),s)];return Gd((()=>{l.forEach((e=>e()))}))}(e),d=function({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:o}){if(!o.CSSStyleSheet||!o.CSSStyleSheet.prototype)return()=>{};const r=o.CSSStyleSheet.prototype.insertRule;o.CSSStyleSheet.prototype.insertRule=new Proxy(r,{apply:Gd(((o,r,i)=>{const[s,a]=i,{id:l,styleId:c}=ou(r,t,n.styleMirror);return(l&&-1!==l||c&&-1!==c)&&e({id:l,styleId:c,adds:[{rule:s,index:a}]}),o.apply(r,i)}))});const i=o.CSSStyleSheet.prototype.deleteRule;let s,a;o.CSSStyleSheet.prototype.deleteRule=new Proxy(i,{apply:Gd(((o,r,i)=>{const[s]=i,{id:a,styleId:l}=ou(r,t,n.styleMirror);return(a&&-1!==a||l&&-1!==l)&&e({id:a,styleId:l,removes:[{index:s}]}),o.apply(r,i)}))}),o.CSSStyleSheet.prototype.replace&&(s=o.CSSStyleSheet.prototype.replace,o.CSSStyleSheet.prototype.replace=new Proxy(s,{apply:Gd(((o,r,i)=>{const[s]=i,{id:a,styleId:l}=ou(r,t,n.styleMirror);return(a&&-1!==a||l&&-1!==l)&&e({id:a,styleId:l,replace:s}),o.apply(r,i)}))})),o.CSSStyleSheet.prototype.replaceSync&&(a=o.CSSStyleSheet.prototype.replaceSync,o.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:Gd(((o,r,i)=>{const[s]=i,{id:a,styleId:l}=ou(r,t,n.styleMirror);return(a&&-1!==a||l&&-1!==l)&&e({id:a,styleId:l,replaceSync:s}),o.apply(r,i)}))}));const l={};au("CSSGroupingRule")?l.CSSGroupingRule=o.CSSGroupingRule:(au("CSSMediaRule")&&(l.CSSMediaRule=o.CSSMediaRule),au("CSSConditionRule")&&(l.CSSConditionRule=o.CSSConditionRule),au("CSSSupportsRule")&&(l.CSSSupportsRule=o.CSSSupportsRule));const c={};return Object.entries(l).forEach((([o,r])=>{c[o]={insertRule:r.prototype.insertRule,deleteRule:r.prototype.deleteRule},r.prototype.insertRule=new Proxy(c[o].insertRule,{apply:Gd(((o,r,i)=>{const[s,a]=i,{id:l,styleId:c}=ou(r.parentStyleSheet,t,n.styleMirror);return(l&&-1!==l||c&&-1!==c)&&e({id:l,styleId:c,adds:[{rule:s,index:[...nu(r),a||0]}]}),o.apply(r,i)}))}),r.prototype.deleteRule=new Proxy(c[o].deleteRule,{apply:Gd(((o,r,i)=>{const[s]=i,{id:a,styleId:l}=ou(r.parentStyleSheet,t,n.styleMirror);return(a&&-1!==a||l&&-1!==l)&&e({id:a,styleId:l,removes:[{index:[...nu(r),s]}]}),o.apply(r,i)}))})})),Gd((()=>{o.CSSStyleSheet.prototype.insertRule=r,o.CSSStyleSheet.prototype.deleteRule=i,s&&(o.CSSStyleSheet.prototype.replace=s),a&&(o.CSSStyleSheet.prototype.replaceSync=a),Object.entries(l).forEach((([e,t])=>{t.prototype.insertRule=c[e].insertRule,t.prototype.deleteRule=c[e].deleteRule}))}))}(e,{win:n}),u=ru(e,e.doc),p=function({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:o},{win:r}){const i=r.CSSStyleDeclaration.prototype.setProperty;r.CSSStyleDeclaration.prototype.setProperty=new Proxy(i,{apply:Gd(((r,s,a)=>{const[l,c,d]=a;if(n.has(l))return i.apply(s,[l,c,d]);const{id:u,styleId:p}=ou(Vd([s,"access",e=>e.parentRule,"optionalAccess",e=>e.parentStyleSheet]),t,o.styleMirror);return(u&&-1!==u||p&&-1!==p)&&e({id:u,styleId:p,set:{property:l,value:c,priority:d},index:nu(s.parentRule)}),r.apply(s,a)}))});const s=r.CSSStyleDeclaration.prototype.removeProperty;return r.CSSStyleDeclaration.prototype.removeProperty=new Proxy(s,{apply:Gd(((r,i,a)=>{const[l]=a;if(n.has(l))return s.apply(i,[l]);const{id:c,styleId:d}=ou(Vd([i,"access",e=>e.parentRule,"optionalAccess",e=>e.parentStyleSheet]),t,o.styleMirror);return(c&&-1!==c||d&&-1!==d)&&e({id:c,styleId:d,remove:{property:l},index:nu(i.parentRule)}),r.apply(i,a)}))}),Gd((()=>{r.CSSStyleDeclaration.prototype.setProperty=i,r.CSSStyleDeclaration.prototype.removeProperty=s}))}(e,{win:n}),m=e.collectFonts?function({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const o=[],r=new WeakMap,i=n.FontFace;n.FontFace=function(e,t,n){const o=new i(e,t,n);return r.set(o,{family:e,buffer:"string"!=typeof t,descriptors:n,fontSource:"string"==typeof t?t:JSON.stringify(Array.from(new Uint8Array(t)))}),o};const s=ud(t.fonts,"add",(function(t){return function(n){return Md(Gd((()=>{const t=r.get(n);t&&(e(t),r.delete(n))})),0),t.apply(this,[n])}}));return o.push((()=>{n.FontFace=i})),o.push(s),Gd((()=>{o.forEach((e=>e()))}))}(e):()=>{},g=function(e){const{doc:t,mirror:n,blockClass:o,blockSelector:r,unblockSelector:i,selectionCb:s}=e;let a=!0;const l=Gd((()=>{const e=t.getSelection();if(!e||a&&Vd([e,"optionalAccess",e=>e.isCollapsed]))return;a=e.isCollapsed||!1;const l=[],c=e.rangeCount||0;for(let t=0;t<c;t++){const s=e.getRangeAt(t),{startContainer:a,startOffset:c,endContainer:d,endOffset:u}=s;_d(a,o,r,i,!0)||_d(d,o,r,i,!0)||l.push({start:n.getId(a),startOffset:c,end:n.getId(d),endOffset:u})}s({ranges:l})}));return l(),sd("selectionchange",l)}(e),h=function({doc:e,customElementCb:t}){const n=e.defaultView;return n&&n.customElements?ud(n.customElements,"define",(function(e){return function(n,o,r){try{t({define:{name:n}})}catch(e){}return e.apply(this,[n,o,r])}})):()=>{}}(e),f=[];for(const t of e.plugins)f.push(t.observer(t.callback,n,t.options));return Gd((()=>{Yd.forEach((e=>e.reset())),o.disconnect(),r(),i(),s(),a(),l(),c(),d(),u(),p(),m(),g(),h(),f.forEach((e=>e()))}))}function su(e){return void 0!==window[e]}function au(e){return Boolean(void 0!==window[e]&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class lu{constructor(e){this.generateIdFn=e,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(e,t,n,o){const r=n||this.getIdToRemoteIdMap(e),i=o||this.getRemoteIdToIdMap(e);let s=r.get(t);return s||(s=this.generateIdFn(),r.set(t,s),i.set(s,t)),s}getIds(e,t){const n=this.getIdToRemoteIdMap(e),o=this.getRemoteIdToIdMap(e);return t.map((t=>this.getId(e,t,n,o)))}getRemoteId(e,t,n){const o=n||this.getRemoteIdToIdMap(e);if("number"!=typeof t)return t;const r=o.get(t);return r||-1}getRemoteIds(e,t){const n=this.getRemoteIdToIdMap(e);return t.map((t=>this.getRemoteId(e,t,n)))}reset(e){if(!e)return this.iframeIdToRemoteIdMap=new WeakMap,void(this.iframeRemoteIdToIdMap=new WeakMap);this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let t=this.iframeIdToRemoteIdMap.get(e);return t||(t=new Map,this.iframeIdToRemoteIdMap.set(e,t)),t}getRemoteIdToIdMap(e){let t=this.iframeRemoteIdToIdMap.get(e);return t||(t=new Map,this.iframeRemoteIdToIdMap.set(e,t)),t}}function cu(e){let t,n=e[0],o=1;for(;o<e.length;){const r=e[o],i=e[o+1];if(o+=2,("optionalAccess"===r||"optionalCall"===r)&&null==n)return;"access"===r||"optionalAccess"===r?(t=n,n=i(n)):"call"!==r&&"optionalCall"!==r||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}class du{constructor(){this.crossOriginIframeMirror=new lu(Bc),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class uu{constructor(e){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new lu(Bc),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new lu(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,t){this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),cu([this,"access",e=>e.loadListener,"optionalCall",t=>t(e)]),e.contentDocument&&e.contentDocument.adoptedStyleSheets&&e.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(e.contentDocument.adoptedStyleSheets,this.mirror.getId(e.contentDocument))}handleMessage(e){const t=e;if("rrweb"!==t.data.type||t.origin!==t.data.origin)return;if(!e.source)return;const n=this.crossOriginIframeMap.get(e.source);if(!n)return;const o=this.transformCrossOriginEvent(n,t.data.event);o&&this.wrappedEmit(o,t.data.isCheckout)}transformCrossOriginEvent(e,t){switch(t.type){case Id.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(t.data.node,e);const n=t.data.node.id;return this.crossOriginIframeRootIdMap.set(e,n),this.patchRootIdOnNode(t.data.node,n),{timestamp:t.timestamp,type:Id.IncrementalSnapshot,data:{source:Ad.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:t.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Id.Meta:case Id.Load:case Id.DomContentLoaded:return!1;case Id.Plugin:return t;case Id.Custom:return this.replaceIds(t.data.payload,e,["id","parentId","previousId","nextId"]),t;case Id.IncrementalSnapshot:switch(t.data.source){case Ad.Mutation:return t.data.adds.forEach((t=>{this.replaceIds(t,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(t.node,e);const n=this.crossOriginIframeRootIdMap.get(e);n&&this.patchRootIdOnNode(t.node,n)})),t.data.removes.forEach((t=>{this.replaceIds(t,e,["parentId","id"])})),t.data.attributes.forEach((t=>{this.replaceIds(t,e,["id"])})),t.data.texts.forEach((t=>{this.replaceIds(t,e,["id"])})),t;case Ad.Drag:case Ad.TouchMove:case Ad.MouseMove:return t.data.positions.forEach((t=>{this.replaceIds(t,e,["id"])})),t;case Ad.ViewportResize:return!1;case Ad.MediaInteraction:case Ad.MouseInteraction:case Ad.Scroll:case Ad.CanvasMutation:case Ad.Input:return this.replaceIds(t.data,e,["id"]),t;case Ad.StyleSheetRule:case Ad.StyleDeclaration:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleId"]),t;case Ad.Font:return t;case Ad.Selection:return t.data.ranges.forEach((t=>{this.replaceIds(t,e,["start","end"])})),t;case Ad.AdoptedStyleSheet:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleIds"]),cu([t,"access",e=>e.data,"access",e=>e.styles,"optionalAccess",e=>e.forEach,"call",t=>t((t=>{this.replaceStyleIds(t,e,["styleId"])}))]),t}}return!1}replace(e,t,n,o){for(const r of o)(Array.isArray(t[r])||"number"==typeof t[r])&&(Array.isArray(t[r])?t[r]=e.getIds(n,t[r]):t[r]=e.getId(n,t[r]));return t}replaceIds(e,t,n){return this.replace(this.crossOriginIframeMirror,e,t,n)}replaceStyleIds(e,t,n){return this.replace(this.crossOriginIframeStyleMirror,e,t,n)}replaceIdOnNode(e,t){this.replaceIds(e,t,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach((e=>{this.replaceIdOnNode(e,t)}))}patchRootIdOnNode(e,t){e.type===xc.Document||e.rootId||(e.rootId=t),"childNodes"in e&&e.childNodes.forEach((e=>{this.patchRootIdOnNode(e,t)}))}}class pu{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class mu{constructor(e){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,t){if(!Tc(e))return;if(this.shadowDoms.has(e))return;this.shadowDoms.add(e);const n=Kd({...this.bypassOptions,doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},e);this.restoreHandlers.push((()=>n.disconnect())),this.restoreHandlers.push(Jd({...this.bypassOptions,scrollCb:this.scrollCb,doc:e,mirror:this.mirror})),Md((()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(e.host)),this.restoreHandlers.push(ru({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))}),0)}observeAttachShadow(e){e.contentWindow&&e.contentDocument&&this.patchAttachShadow(e.contentWindow.Element,e.contentDocument)}patchAttachShadow(e,t){const n=this;this.restoreHandlers.push(ud(e.prototype,"attachShadow",(function(e){return function(o){const r=e.call(this,o);return this.shadowRoot&&Cd(this)&&n.addShadowRoot(this.shadowRoot,t),r}})))}reset(){this.restoreHandlers.forEach((e=>{try{e()}catch(e){}})),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}class gu{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}}class hu{constructor(e){this.trackedLinkElements=new WeakSet,this.styleMirror=new Sd,this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,t){"_cssText"in t.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:t.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,t){if(0===e.length)return;const n={id:t,styleIds:[]},o=[];for(const t of e){let e;this.styleMirror.has(t)?e=this.styleMirror.getId(t):(e=this.styleMirror.add(t),o.push({styleId:e,rules:Array.from(t.rules||CSSRule,((e,t)=>({rule:Cc(e),index:t})))})),n.styleIds.push(e)}o.length>0&&(n.styles=o),this.adoptedStyleSheetCb(n)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}}class fu{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){!function(...e){Ld("requestAnimationFrame")(...e)}((()=>{this.clear(),this.loop&&this.periodicallyClear()}))}inOtherBuffer(e,t){const n=this.nodeMap.get(e);return n&&Array.from(n).some((e=>e!==t))}add(e,t){this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(t))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}}let _u,vu;const yu=new kc;function wu(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:o,blockClass:r="rr-block",blockSelector:i=null,unblockSelector:s=null,ignoreClass:a="rr-ignore",ignoreSelector:l=null,maskAllText:c=!1,maskTextClass:d="rr-mask",unmaskTextClass:u=null,maskTextSelector:p=null,unmaskTextSelector:m=null,inlineStylesheet:g=!0,maskAllInputs:h,maskInputOptions:f,slimDOMOptions:_,maskAttributeFn:v,maskInputFn:y,maskTextFn:w,maxCanvasSize:b=null,packFn:E,sampling:x={},dataURLOptions:S={},mousemoveWait:T,recordCanvas:$=!1,recordCrossOriginIframes:C=!1,recordAfter:k=("DOMContentLoaded"===e.recordAfter?e.recordAfter:"load"),userTriggeredOnInput:L=!1,collectFonts:M=!1,inlineImages:I=!1,plugins:A,keepIframeSrcFn:R=()=>!1,ignoreCSSAttributes:O=new Set([]),errorHandler:N,onMutation:D,getCanvasManager:P}=e;qd=N;const B=!C||window.parent===window;let z=!1;if(!B)try{window.parent.document&&(z=!1)}catch(e){z=!0}if(B&&!t)throw new Error("emit function is required");void 0!==T&&void 0===x.mousemove&&(x.mousemove=T),yu.reset();const U=!0===h?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:void 0!==f?f:{},H=!0===_||"all"===_?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===_,headMetaDescKeywords:"all"===_}:_||{};let F;!function(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...e)=>{let t=e[0];if(!(0 in e))throw new TypeError("1 argument is required");do{if(this===t)return!0}while(t=t&&t.parentNode);return!1})}();let j=0;const W=e=>{for(const t of A||[])t.eventProcessor&&(e=t.eventProcessor(e));return E&&!z&&(e=E(e)),e};_u=(e,r)=>{const i=e;if(i.timestamp=pd(),!Qi([Yd,"access",e=>e[0],"optionalAccess",e=>e.isFrozen,"call",e=>e()])||i.type===Id.FullSnapshot||i.type===Id.IncrementalSnapshot&&i.data.source===Ad.Mutation||Yd.forEach((e=>e.unfreeze())),B)Qi([t,"optionalCall",e=>e(W(i),r)]);else if(z){const e={type:"rrweb",event:W(i),origin:window.location.origin,isCheckout:r};window.parent.postMessage(e,"*")}if(i.type===Id.FullSnapshot)F=i,j=0;else if(i.type===Id.IncrementalSnapshot){if(i.data.source===Ad.Mutation&&i.data.isAttachIframe)return;j++;const e=o&&j>=o,t=n&&F&&i.timestamp-F.timestamp>n;(e||t)&&Q(!0)}};const q=e=>{_u({type:Id.IncrementalSnapshot,data:{source:Ad.Mutation,...e}})},G=e=>_u({type:Id.IncrementalSnapshot,data:{source:Ad.Scroll,...e}}),V=e=>_u({type:Id.IncrementalSnapshot,data:{source:Ad.CanvasMutation,...e}}),Y=new hu({mutationCb:q,adoptedStyleSheetCb:e=>_u({type:Id.IncrementalSnapshot,data:{source:Ad.AdoptedStyleSheet,...e}})}),Z="boolean"==typeof __RRWEB_EXCLUDE_IFRAME__&&__RRWEB_EXCLUDE_IFRAME__?new du:new uu({mirror:yu,mutationCb:q,stylesheetManager:Y,recordCrossOriginIframes:C,wrappedEmit:_u});for(const e of A||[])e.getMirror&&e.getMirror({nodeMirror:yu,crossOriginIframeMirror:Z.crossOriginIframeMirror,crossOriginIframeStyleMirror:Z.crossOriginIframeStyleMirror});const K=new fu,X=function(e,t){try{return e?e(t):new gu}catch(e){return console.warn("Unable to initialize CanvasManager"),new gu}}(P,{mirror:yu,win:window,mutationCb:e=>_u({type:Id.IncrementalSnapshot,data:{source:Ad.CanvasMutation,...e}}),recordCanvas:$,blockClass:r,blockSelector:i,unblockSelector:s,maxCanvasSize:b,sampling:x.canvas,dataURLOptions:S,errorHandler:N}),J="boolean"==typeof __RRWEB_EXCLUDE_SHADOW_DOM__&&__RRWEB_EXCLUDE_SHADOW_DOM__?new pu:new mu({mutationCb:q,scrollCb:G,bypassOptions:{onMutation:D,blockClass:r,blockSelector:i,unblockSelector:s,maskAllText:c,maskTextClass:d,unmaskTextClass:u,maskTextSelector:p,unmaskTextSelector:m,inlineStylesheet:g,maskInputOptions:U,dataURLOptions:S,maskAttributeFn:v,maskTextFn:w,maskInputFn:y,recordCanvas:$,inlineImages:I,sampling:x,slimDOMOptions:H,iframeManager:Z,stylesheetManager:Y,canvasManager:X,keepIframeSrcFn:R,processedNodeManager:K},mirror:yu}),Q=(e=!1)=>{_u({type:Id.Meta,data:{href:window.location.href,width:hd(),height:gd()}},e),Y.reset(),J.init(),Yd.forEach((e=>e.lock()));const t=function(e,t){const{mirror:n=new kc,blockClass:o="rr-block",blockSelector:r=null,unblockSelector:i=null,maskAllText:s=!1,maskTextClass:a="rr-mask",unmaskTextClass:l=null,maskTextSelector:c=null,unmaskTextSelector:d=null,inlineStylesheet:u=!0,inlineImages:p=!1,recordCanvas:m=!1,maskAllInputs:g=!1,maskAttributeFn:h,maskTextFn:f,maskInputFn:_,slimDOM:v=!1,dataURLOptions:y,preserveWhiteSpace:w,onSerialize:b,onIframeLoad:E,iframeLoadTimeout:x,onStylesheetLoad:S,stylesheetLoadTimeout:T,keepIframeSrcFn:$=()=>!1}=t||{};return rd(e,{doc:e,mirror:n,blockClass:o,blockSelector:r,unblockSelector:i,maskAllText:s,maskTextClass:a,unmaskTextClass:l,maskTextSelector:c,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:u,maskInputOptions:!0===g?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:!1===g?{}:g,maskAttributeFn:h,maskTextFn:f,maskInputFn:_,slimDOMOptions:!0===v||"all"===v?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===v,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===v?{}:v,dataURLOptions:y,inlineImages:p,recordCanvas:m,preserveWhiteSpace:w,onSerialize:b,onIframeLoad:E,iframeLoadTimeout:x,onStylesheetLoad:S,stylesheetLoadTimeout:T,keepIframeSrcFn:$,newlyAddedElement:!1})}(document,{mirror:yu,blockClass:r,blockSelector:i,unblockSelector:s,maskAllText:c,maskTextClass:d,unmaskTextClass:u,maskTextSelector:p,unmaskTextSelector:m,inlineStylesheet:g,maskAllInputs:U,maskAttributeFn:v,maskInputFn:y,maskTextFn:w,slimDOM:H,dataURLOptions:S,recordCanvas:$,inlineImages:I,onSerialize:e=>{bd(e,yu)&&Z.addIframe(e),Ed(e,yu)&&Y.trackLinkElement(e),xd(e)&&J.addShadowRoot(e.shadowRoot,document)},onIframeLoad:(e,t)=>{Z.attachIframe(e,t),J.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{Y.attachLinkElement(e,t)},keepIframeSrcFn:R});if(!t)return console.warn("Failed to snapshot the document");_u({type:Id.FullSnapshot,data:{node:t,initialOffset:md(window)}}),Yd.forEach((e=>e.unlock())),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Y.adoptStyleSheets(document.adoptedStyleSheets,yu.getId(document))};vu=Q;try{const e=[],t=e=>Gd(iu)({onMutation:D,mutationCb:q,mousemoveCb:(e,t)=>_u({type:Id.IncrementalSnapshot,data:{source:t,positions:e}}),mouseInteractionCb:e=>_u({type:Id.IncrementalSnapshot,data:{source:Ad.MouseInteraction,...e}}),scrollCb:G,viewportResizeCb:e=>_u({type:Id.IncrementalSnapshot,data:{source:Ad.ViewportResize,...e}}),inputCb:e=>_u({type:Id.IncrementalSnapshot,data:{source:Ad.Input,...e}}),mediaInteractionCb:e=>_u({type:Id.IncrementalSnapshot,data:{source:Ad.MediaInteraction,...e}}),styleSheetRuleCb:e=>_u({type:Id.IncrementalSnapshot,data:{source:Ad.StyleSheetRule,...e}}),styleDeclarationCb:e=>_u({type:Id.IncrementalSnapshot,data:{source:Ad.StyleDeclaration,...e}}),canvasMutationCb:V,fontCb:e=>_u({type:Id.IncrementalSnapshot,data:{source:Ad.Font,...e}}),selectionCb:e=>{_u({type:Id.IncrementalSnapshot,data:{source:Ad.Selection,...e}})},customElementCb:e=>{_u({type:Id.IncrementalSnapshot,data:{source:Ad.CustomElement,...e}})},blockClass:r,ignoreClass:a,ignoreSelector:l,maskAllText:c,maskTextClass:d,unmaskTextClass:u,maskTextSelector:p,unmaskTextSelector:m,maskInputOptions:U,inlineStylesheet:g,sampling:x,recordCanvas:$,inlineImages:I,userTriggeredOnInput:L,collectFonts:M,doc:e,maskAttributeFn:v,maskInputFn:y,maskTextFn:w,keepIframeSrcFn:R,blockSelector:i,unblockSelector:s,slimDOMOptions:H,dataURLOptions:S,mirror:yu,iframeManager:Z,stylesheetManager:Y,shadowDomManager:J,processedNodeManager:K,canvasManager:X,ignoreCSSAttributes:O,plugins:Qi([A,"optionalAccess",e=>e.filter,"call",e=>e((e=>e.observer)),"optionalAccess",e=>e.map,"call",e=>e((e=>({observer:e.observer,options:e.options,callback:t=>_u({type:Id.Plugin,data:{plugin:e.name,payload:t}})})))])||[]},{});Z.addLoadListener((n=>{try{e.push(t(n.contentDocument))}catch(e){console.warn(e)}}));const n=()=>{Q(),e.push(t(document))};return"interactive"===document.readyState||"complete"===document.readyState?n():(e.push(sd("DOMContentLoaded",(()=>{_u({type:Id.DomContentLoaded,data:{}}),"DOMContentLoaded"===k&&n()}))),e.push(sd("load",(()=>{_u({type:Id.Load,data:{}}),"load"===k&&n()}),window))),()=>{e.forEach((e=>e())),K.destroy(),vu=void 0,qd=void 0}}catch(e){console.warn(e)}}wu.mirror=yu,wu.takeFullSnapshot=function(e){if(!vu)throw new Error("please take full snapshot after start recording");vu(e)};function bu(e){return e>9999999999?e:1e3*e}function Eu(e){return e>9999999999?e/1e3:e}function xu(e,t){"sentry.transaction"!==t.category&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate((()=>(e.throttledAddEvent({type:Id.Custom,timestamp:1e3*(t.timestamp||0),data:{tag:"breadcrumb",payload:gi(t,10,1e3)}}),"console"===t.category))))}function Su(e){return e.closest("button,a")||e}function Tu(e){const t=$u(e);return t&&t instanceof Element?Su(t):t}function $u(e){return function(e){return"object"==typeof e&&!!e&&"target"in e}(e)?e.target:e}let Cu;function ku(e){return Cu||(Cu=[],dr(hc,"open",(function(e){return function(...t){if(Cu)try{Cu.forEach((e=>e()))}catch(e){}return e.apply(hc,t)}}))),Cu.push(e),()=>{const t=Cu?Cu.indexOf(e):-1;t>-1&&Cu.splice(t,1)}}class Lu{constructor(e,t,n=xu){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=t.timeout/1e3,this._threshold=t.threshold/1e3,this._scollTimeout=t.scrollTimeout/1e3,this._replay=e,this._ignoreSelector=t.ignoreSelector,this._addBreadcrumbEvent=n}addListeners(){const e=ku((()=>{this._lastMutation=Iu()}));this._teardown=()=>{e(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(e,t){if(function(e,t){if(!Mu.includes(e.tagName))return!0;if("INPUT"===e.tagName&&!["submit","button"].includes(e.getAttribute("type")||""))return!0;if("A"===e.tagName&&(e.hasAttribute("download")||e.hasAttribute("target")&&"_self"!==e.getAttribute("target")))return!0;if(t&&e.matches(t))return!0;return!1}(t,this._ignoreSelector)||!function(e){return!(!e.data||"number"!=typeof e.data.nodeId||!e.timestamp)}(e))return;const n={timestamp:Eu(e.timestamp),clickBreadcrumb:e,clickCount:0,node:t};this._clicks.some((e=>e.node===n.node&&Math.abs(e.timestamp-n.timestamp)<1))||(this._clicks.push(n),1===this._clicks.length&&this._scheduleCheckClicks())}registerMutation(e=Date.now()){this._lastMutation=Eu(e)}registerScroll(e=Date.now()){this._lastScroll=Eu(e)}registerClick(e){const t=Su(e);this._handleMultiClick(t)}_handleMultiClick(e){this._getClicks(e).forEach((e=>{e.clickCount++}))}_getClicks(e){return this._clicks.filter((t=>t.node===e))}_checkClicks(){const e=[],t=Iu();this._clicks.forEach((n=>{!n.mutationAfter&&this._lastMutation&&(n.mutationAfter=n.timestamp<=this._lastMutation?this._lastMutation-n.timestamp:void 0),!n.scrollAfter&&this._lastScroll&&(n.scrollAfter=n.timestamp<=this._lastScroll?this._lastScroll-n.timestamp:void 0),n.timestamp+this._timeout<=t&&e.push(n)}));for(const t of e){const e=this._clicks.indexOf(t);e>-1&&(this._generateBreadcrumbs(t),this._clicks.splice(e,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(e){const t=this._replay,n=e.scrollAfter&&e.scrollAfter<=this._scollTimeout,o=e.mutationAfter&&e.mutationAfter<=this._threshold,r=!n&&!o,{clickCount:i,clickBreadcrumb:s}=e;if(r){const n=1e3*Math.min(e.mutationAfter||this._timeout,this._timeout),o=n<1e3*this._timeout?"mutation":"timeout",r={type:"default",message:s.message,timestamp:s.timestamp,category:"ui.slowClickDetected",data:{...s.data,url:hc.location.href,route:t.getCurrentRoute(),timeAfterClickMs:n,endReason:o,clickCount:i||1}};this._addBreadcrumbEvent(t,r)}else if(i>1){const e={type:"default",message:s.message,timestamp:s.timestamp,category:"ui.multiClick",data:{...s.data,url:hc.location.href,route:t.getCurrentRoute(),clickCount:i,metric:!0}};this._addBreadcrumbEvent(t,e)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=setTimeout((()=>this._checkClicks()),1e3)}}const Mu=["A","BUTTON","INPUT"];function Iu(){return Date.now()/1e3}function Au(e,t){try{if(!function(e){return 3===e.type}(t))return;const{source:n}=t.data;if(n===Ad.Mutation&&e.registerMutation(t.timestamp),n===Ad.Scroll&&e.registerScroll(t.timestamp),function(e){return e.data.source===Ad.MouseInteraction}(t)){const{type:n,id:o}=t.data,r=wu.mirror.getNode(o);r instanceof HTMLElement&&n===Rd.Click&&e.registerClick(r)}}catch(e){}}function Ru(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var Ou;!function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"}(Ou||(Ou={}));const Nu=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function Du(e){const t={};for(const n in e)if(Nu.has(n)){let o=n;"data-testid"!==n&&"data-test-id"!==n||(o="testId"),t[o]=e[n]}return t}const Pu=e=>t=>{if(!e.isEnabled())return;const n=function(e){const{target:t,message:n}=function(e){const t="click"===e.name;let n,o=null;try{o=t?Tu(e.event):$u(e.event),n=Xo(o,{maxStringLength:200})||"<unknown>"}catch(e){n="<unknown>"}return{target:o,message:n}}(e);return Ru({category:`ui.${e.name}`,...Bu(t,n)})}(t);if(!n)return;const o="click"===t.name,r=o?t.event:void 0;var i,s,a;!(o&&e.clickDetector&&r&&r.target)||r.altKey||r.metaKey||r.ctrlKey||r.shiftKey||(i=e.clickDetector,s=n,a=Tu(t.event),i.handleClick(s,a)),xu(e,n)};function Bu(e,t){const n=wu.mirror.getId(e),o=n&&wu.mirror.getNode(n),r=o&&wu.mirror.getMeta(o),i=r&&function(e){return e.type===Ou.Element}(r)?r:null;return{message:t,data:i?{nodeId:n,node:{id:n,tagName:i.tagName,textContent:Array.from(i.childNodes).map((e=>e.type===Ou.Text&&e.textContent)).filter(Boolean).map((e=>e.trim())).join(""),attributes:Du(i.attributes)}}:{}}}function zu(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=function(e){const{metaKey:t,shiftKey:n,ctrlKey:o,altKey:r,key:i,target:s}=e;if(!s||function(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable}(s)||!i)return null;const a=t||o||r,l=1===i.length;if(!a&&l)return null;const c=Xo(s,{maxStringLength:200})||"<unknown>",d=Bu(s,c);return Ru({category:"ui.keyDown",message:c,data:{...d.data,metaKey:t,shiftKey:n,ctrlKey:o,altKey:r,key:i}})}(t);n&&xu(e,n)}const Uu={resource:function(e){const{entryType:t,initiatorType:n,name:o,responseEnd:r,startTime:i,decodedBodySize:s,encodedBodySize:a,responseStatus:l,transferSize:c}=e;if(["fetch","xmlhttprequest"].includes(n))return null;return{type:`${t}.${n}`,start:Fu(i),end:Fu(r),name:o,data:{size:c,statusCode:l,decodedBodySize:s,encodedBodySize:a}}},paint:function(e){const{duration:t,entryType:n,name:o,startTime:r}=e,i=Fu(r);return{type:n,name:o,start:i,end:i+t,data:void 0}},navigation:function(e){const{entryType:t,name:n,decodedBodySize:o,duration:r,domComplete:i,encodedBodySize:s,domContentLoadedEventStart:a,domContentLoadedEventEnd:l,domInteractive:c,loadEventStart:d,loadEventEnd:u,redirectCount:p,startTime:m,transferSize:g,type:h}=e;if(0===r)return null;return{type:`${t}.${h}`,start:Fu(m),end:Fu(i),name:n,data:{size:g,decodedBodySize:o,encodedBodySize:s,duration:r,domInteractive:c,domContentLoadedEventStart:a,domContentLoadedEventEnd:l,loadEventStart:d,loadEventEnd:u,domComplete:i,redirectCount:p}}}};function Hu(e){return Uu[e.entryType]?Uu[e.entryType](e):null}function Fu(e){return((zi||hc.performance.timeOrigin)+e)/1e3}function ju(e){function t(t){e.performanceEntries.includes(t)||e.performanceEntries.push(t)}function n({entries:e}){e.forEach(t)}const o=[];return["navigation","paint","resource"].forEach((e=>{o.push(ml(e,n))})),o.push(pl((({metric:t})=>{e.replayPerformanceEntries.push(function(e){const t=e.entries,n=t[t.length-1],o=n?n.element:void 0,r=e.value,i=Fu(r);return{type:"largest-contentful-paint",name:"largest-contentful-paint",start:i,end:i,data:{value:r,size:r,nodeId:o?wu.mirror.getId(o):void 0}}}(t))}))),()=>{o.forEach((e=>e()))}}const Wu="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function qu(e,t){Wu&&(rr.info(e),t&&Vu(e))}function Gu(e,t){Wu&&(rr.info(e),t&&setTimeout((()=>{Vu(e)}),0))}function Vu(e){vs({category:"console",data:{logger:"replay"},level:"info",message:e},{level:"info"})}class Yu extends Error{constructor(){super("Event buffer exceeded maximum size of 20000000.")}}class Zu{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(e){const t=JSON.stringify(e).length;if(this._totalSize+=t,this._totalSize>wc)throw new Yu;this.events.push(e)}finish(){return new Promise((e=>{const t=this.events;this.clear(),e(JSON.stringify(t))}))}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const e=this.events.map((e=>e.timestamp)).sort()[0];return e?bu(e):null}}class Ku{constructor(e){this._worker=e,this._id=0}ensureReady(){return this._ensureReadyPromise||(this._ensureReadyPromise=new Promise(((e,t)=>{this._worker.addEventListener("message",(({data:n})=>{n.success?e():t()}),{once:!0}),this._worker.addEventListener("error",(e=>{t(e)}),{once:!0})}))),this._ensureReadyPromise}destroy(){qu("[Replay] Destroying compression worker"),this._worker.terminate()}postMessage(e,t){const n=this._getAndIncrementId();return new Promise(((o,r)=>{const i=({data:t})=>{const s=t;if(s.method===e&&s.id===n){if(this._worker.removeEventListener("message",i),!s.success)return Wu&&rr.error("[Replay]",s.response),void r(new Error("Error in compression worker"));o(s.response)}};this._worker.addEventListener("message",i),this._worker.postMessage({id:n,method:e,arg:t})}))}_getAndIncrementId(){return this._id++}}class Xu{constructor(e){this._worker=new Ku(e),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(e){const t=bu(e.timestamp);(!this._earliestTimestamp||t<this._earliestTimestamp)&&(this._earliestTimestamp=t);const n=JSON.stringify(e);return this._totalSize+=n.length,this._totalSize>wc?Promise.reject(new Yu):this._sendEventToWorker(n)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,(e=>{Wu&&rr.warn('[Replay] Sending "clear" message to worker failed',e)}))}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(e){return this._worker.postMessage("addEvent",e)}async _finishRequest(){const e=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,e}}class Ju{constructor(e){this._fallback=new Zu,this._compression=new Xu(e),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(e){this._used.hasCheckout=e}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(e){return this._used.addEvent(e)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(e){return void qu("[Replay] Failed to load the compression worker, falling back to simple buffer")}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:e,hasCheckout:t}=this._fallback,n=[];for(const t of e)n.push(this._compression.addEvent(t));this._compression.hasCheckout=t,this._used=this._compression;try{await Promise.all(n)}catch(e){Wu&&rr.warn("[Replay] Failed to add events when switching buffers.",e)}}}function Qu({useCompression:e,workerUrl:t}){if(e&&window.Worker){const e=function(e){try{const t=e||function(){if("undefined"==typeof __SENTRY_EXCLUDE_REPLAY_WORKER__||!__SENTRY_EXCLUDE_REPLAY_WORKER__)return function(){const e=new Blob(['var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,a=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),s=a.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(a,n),O(a,s-8,r.d()),O(a,s-4,e),a}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(G)return G.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(let r=0,e=t.length;r<e;r++)n+=t[r].length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});']);return URL.createObjectURL(e)}();return""}();if(!t)return;qu("[Replay] Using compression worker"+(e?` from ${e}`:""));const n=new Worker(t);return new Ju(n)}catch(e){qu("[Replay] Failed to create compression worker")}}(t);if(e)return e}return qu("[Replay] Using simple buffer"),new Zu}function ep(){try{return"sessionStorage"in hc&&!!hc.sessionStorage}catch(e){return!1}}function tp(e){!function(){if(!ep())return;try{hc.sessionStorage.removeItem(fc)}catch(e){}}(),e.session=void 0}function np(e){return void 0!==e&&Math.random()<e}function op(e){const t=Date.now();return{id:e.id||Mr(),started:e.started||t,lastActivity:e.lastActivity||t,segmentId:e.segmentId||0,sampled:e.sampled,previousSessionId:e.previousSessionId}}function rp(e){if(ep())try{hc.sessionStorage.setItem(fc,JSON.stringify(e))}catch(e){}}function ip({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:o}={}){const r=function(e,t){return np(e)?"session":!!t&&"buffer"}(e,t),i=op({sampled:r,previousSessionId:o});return n&&rp(i),i}function sp(e,t,n=+new Date){return null===e||void 0===t||t<0||0!==t&&e+t<=n}function ap(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:o=Date.now()}){return sp(e.started,t,o)||sp(e.lastActivity,n,o)}function lp(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!!ap(e,{sessionIdleExpire:t,maxReplayDuration:n})&&("buffer"!==e.sampled||0!==e.segmentId)}function cp({traceInternals:e,sessionIdleExpire:t,maxReplayDuration:n,previousSessionId:o},r){const i=r.stickySession&&function(e){if(!ep())return null;try{const t=hc.sessionStorage.getItem(fc);if(!t)return null;const n=JSON.parse(t);return Gu("[Replay] Loading existing session",e),op(n)}catch(e){return null}}(e);return i?lp(i,{sessionIdleExpire:t,maxReplayDuration:n})?(Gu("[Replay] Session in sessionStorage is expired, creating new one..."),ip(r,{previousSessionId:i.id})):i:(Gu("[Replay] Creating new session",e),ip(r,{previousSessionId:o}))}function dp(e,t,n){return!!pp(e,t)&&(up(e,t,n),!0)}async function up(e,t,n){if(!e.eventBuffer)return null;try{n&&"buffer"===e.recordingMode&&e.eventBuffer.clear(),n&&(e.eventBuffer.hasCheckout=!0);const o=function(e,t){try{if("function"==typeof t&&function(e){return e.type===Id.Custom}(e))return t(e)}catch(e){return Wu&&rr.error("[Replay] An error occured in the `beforeAddRecordingEvent` callback, skipping the event...",e),null}return e}(t,e.getOptions().beforeAddRecordingEvent);if(!o)return;return await e.eventBuffer.addEvent(o)}catch(t){const n=t&&t instanceof Yu?"addEventSizeExceeded":"addEvent";Wu&&rr.error(t),await e.stop({reason:n});const o=ws();o&&o.recordDroppedEvent("internal_sdk_error","replay")}}function pp(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=bu(t.timestamp);return!(n+e.timeouts.sessionIdlePause<Date.now())&&(!(n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration)||(qu(`[Replay] Skipping event with timestamp ${n} because it is after maxReplayDuration`,e.getOptions()._experiments.traceInternals),!1))}function mp(e){return!e.type}function gp(e){return"transaction"===e.type}function hp(e){return"feedback"===e.type}function fp(e){const t=function(){const e=ws();if(!e)return!1;const t=e.getTransport();if(!t)return!1;return t.send.__sentry__baseTransport__||!1}();return(n,o)=>{if(!e.isEnabled()||!mp(n)&&!gp(n))return;const r=o&&o.statusCode;t&&(!r||r<200||r>=300)||(gp(n)?function(e,t){const n=e.getContext();t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}(e,n):function(e,t){const n=e.getContext();t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id);if("buffer"!==e.recordingMode||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:o}=e.getOptions();if("function"==typeof o&&!o(t))return;setTimeout((()=>{e.sendBufferedReplayOrFlush()}))}(e,n))}}function _p(e){return t=>{e.isEnabled()&&mp(t)&&function(e,t){const n=t.exception&&t.exception.values&&t.exception.values[0].value;if("string"!=typeof n)return;if(n.match(/reactjs\.org\/docs\/error-decoder\.html\?invariant=(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i)){xu(e,Ru({category:"replay.hydrate-error"}))}}(e,t)}}function vp(e,t=!1){const n=t?fp(e):void 0;return Object.assign(((t,o)=>{if(!e.isEnabled())return t;if(function(e){return"replay_event"===e.type}(t))return delete t.breadcrumbs,t;if(!mp(t)&&!gp(t)&&!hp(t))return t;if(!e.checkAndHandleExpiredSession())return t;if(hp(t))return e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),function(e,t){e.triggerUserActivity(),e.addUpdate((()=>!t.timestamp||(e.throttledAddEvent({type:Id.Custom,timestamp:1e3*t.timestamp,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1)))}(e,t),t;if(function(e,t){return!(e.type||!e.exception||!e.exception.values||!e.exception.values.length||!t.originalException||!t.originalException.__rrweb__)}(t,o)&&!e.getOptions()._experiments.captureExceptions)return Wu&&rr.log("[Replay] Ignoring error from rrweb internals",t),null;const r=function(e,t){return"buffer"===e.recordingMode&&t.message!==_c&&!(!t.exception||t.type)&&np(e.getOptions().errorSampleRate)}(e,t);return(r||"session"===e.recordingMode)&&(t.tags={...t.tags,replayId:e.getSessionId()}),n&&n(t,{statusCode:200}),t}),{id:"Replay"})}function yp(e,t){return t.map((({type:t,start:n,end:o,name:r,data:i})=>{const s=e.throttledAddEvent({type:Id.Custom,timestamp:n,data:{tag:"performanceSpan",payload:{op:t,description:r,startTimestamp:n,endTimestamp:o,data:i}}});return"string"==typeof s?Promise.resolve(null):s}))}function wp(e){return t=>{if(!e.isEnabled())return;const n=function(e){const{from:t,to:n}=e,o=Date.now()/1e3;return{type:"navigation.push",start:o,end:o,name:n,data:{previous:t}}}(t);null!==n&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate((()=>(yp(e,[n]),!1))))}}function bp(e,t){e.isEnabled()&&null!==t&&(function(e,t){return(!Wu||!e.getOptions()._experiments.traceInternals)&&fa(t,ws())}(e,t.name)||e.addUpdate((()=>(yp(e,[t]),!0))))}function Ep(e){return t=>{if(!e.isEnabled())return;const n=function(e){const{startTimestamp:t,endTimestamp:n,xhr:o}=e,r=o[ai];if(!t||!n||!r)return null;const{method:i,url:s,status_code:a}=r;return void 0===s?null:{type:"resource.xhr",name:s,start:t/1e3,end:n/1e3,data:{method:i,statusCode:a}}}(t);bp(e,n)}}function xp(e,t){if(e)try{if("string"==typeof e)return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=Ip(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch(e){}}function Sp(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function Tp(e){try{if("string"==typeof e)return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[Ip(e)];if(!e)return[void 0]}catch(t){return Wu&&rr.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return Wu&&rr.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function $p(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},o=n.warnings||[];return n.warnings=[...o,t],e._meta=n,e}function Cp(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:o,url:r,method:i,statusCode:s,request:a,response:l}=t;return{type:e,start:n/1e3,end:o/1e3,name:r,data:_r({method:i,statusCode:s,request:a,response:l})}}function kp(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function Lp(e,t,n){if(!t&&0===Object.keys(e).length)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const o={headers:e,size:t},{body:r,warnings:i}=function(e){if(!e||"string"!=typeof e)return{body:e};const t=e.length>vc,n=function(e){const t=e[0],n=e[e.length-1];return"["===t&&"]"===n||"{"===t&&"}"===n}(e);if(t){const t=e.slice(0,vc);return n?{body:t,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${t}…`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch(e){}return{body:e}}(n);return o.body=r,i&&i.length>0&&(o._meta={warnings:i}),o}function Mp(e,t){return Object.keys(e).reduce(((n,o)=>{const r=o.toLowerCase();return t.includes(r)&&e[o]&&(n[r]=e[o]),n}),{})}function Ip(e){return new URLSearchParams(e).toString()}function Ap(e,t){const n=function(e,t=hc.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(hc.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const o=n.href;if(!e.endsWith("/")&&o.endsWith("/"))return o.slice(0,-1);return o}(e);return Ho(n,t)}async function Rp(e,t,n){try{const o=await async function(e,t,n){const o=Date.now(),{startTimestamp:r=o,endTimestamp:i=o}=t,{url:s,method:a,status_code:l=0,request_body_size:c,response_body_size:d}=e.data,u=Ap(s,n.networkDetailAllowUrls)&&!Ap(s,n.networkDetailDenyUrls),p=u?function({networkCaptureBodies:e,networkRequestHeaders:t},n,o){const r=n?function(e,t){if(1===e.length&&"string"!=typeof e[0])return Dp(e[0],t);if(2===e.length)return Dp(e[1],t);return{}}(n,t):{};if(!e)return Lp(r,o,void 0);const i=Op(n),[s,a]=Tp(i),l=Lp(r,o,s);if(a)return $p(l,a);return l}(n,t.input,c):kp(c),m=await async function(e,{networkCaptureBodies:t,textEncoder:n,networkResponseHeaders:o},r,i){if(!e&&void 0!==i)return kp(i);const s=r?Np(r.headers,o):{};if(!r||!t&&void 0!==i)return Lp(s,i,void 0);const[a,l]=await async function(e){const t=function(e){try{return e.clone()}catch(e){Wu&&rr.warn("[Replay] Failed to clone response body",e)}}(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{const e=await function(e){return new Promise(((t,n)=>{const o=setTimeout((()=>n(new Error("Timeout while trying to read response body"))),500);(async function(e){return await e.text()})(e).then((e=>t(e)),(e=>n(e))).finally((()=>clearTimeout(o)))}))}(t);return[e]}catch(e){return Wu&&rr.warn("[Replay] Failed to get text body from response",e),[void 0,"BODY_PARSE_ERROR"]}}(r),c=function(e,{networkCaptureBodies:t,textEncoder:n,responseBodySize:o,captureDetails:r,headers:i}){try{const s=e&&e.length&&void 0===o?xp(e,n):o;return r?Lp(i,s,t?e:void 0):kp(s)}catch(e){return Wu&&rr.warn("[Replay] Failed to serialize response body",e),Lp(i,o,void 0)}}(a,{networkCaptureBodies:t,textEncoder:n,responseBodySize:i,captureDetails:e,headers:s});if(l)return $p(c,l);return c}(u,n,t.response,d);return{startTimestamp:r,endTimestamp:i,url:s,method:a,statusCode:l,request:p,response:m}}(e,t,n),r=Cp("resource.fetch",o);bp(n.replay,r)}catch(e){Wu&&rr.error("[Replay] Failed to capture fetch breadcrumb",e)}}function Op(e=[]){if(2===e.length&&"object"==typeof e[1])return e[1].body}function Np(e,t){const n={};return t.forEach((t=>{e.get(t)&&(n[t]=e.get(t))})),n}function Dp(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?Np(n,t):Array.isArray(n)?{}:Mp(n,t):{}}async function Pp(e,t,n){try{const o=function(e,t,n){const o=Date.now(),{startTimestamp:r=o,endTimestamp:i=o,input:s,xhr:a}=t,{url:l,method:c,status_code:d=0,request_body_size:u,response_body_size:p}=e.data;if(!l)return null;if(!a||!Ap(l,n.networkDetailAllowUrls)||Ap(l,n.networkDetailDenyUrls)){return{startTimestamp:r,endTimestamp:i,url:l,method:c,statusCode:d,request:kp(u),response:kp(p)}}const m=a[ai],g=m?Mp(m.request_headers,n.networkRequestHeaders):{},h=Mp(function(e){const t=e.getAllResponseHeaders();if(!t)return{};return t.split("\r\n").reduce(((e,t)=>{const[n,o]=t.split(": ");return e[n.toLowerCase()]=o,e}),{})}(a),n.networkResponseHeaders),[f,_]=n.networkCaptureBodies?Tp(s):[void 0],[v,y]=n.networkCaptureBodies?function(e){const t=[];try{return[e.responseText]}catch(e){t.push(e)}try{return function(e,t){try{if("string"==typeof e)return[e];if(e instanceof Document)return[e.body.outerHTML];if("json"===t&&e&&"object"==typeof e)return[JSON.stringify(e)];if(!e)return[void 0]}catch(t){return Wu&&rr.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return Wu&&rr.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}(e.response,e.responseType)}catch(e){t.push(e)}return Wu&&rr.warn("[Replay] Failed to get xhr response body",...t),[void 0]}(a):[void 0],w=Lp(g,u,f),b=Lp(h,p,v);return{startTimestamp:r,endTimestamp:i,url:l,method:c,statusCode:d,request:_?$p(w,_):w,response:y?$p(b,y):b}}(e,t,n),r=Cp("resource.xhr",o);bp(n.replay,r)}catch(e){Wu&&rr.error("[Replay] Failed to capture xhr breadcrumb",e)}}function Bp(e,t,n){const{xhr:o,input:r}=t;if(!o)return;const i=xp(r,n.textEncoder),s=o.getResponseHeader("content-length")?Sp(o.getResponseHeader("content-length")):function(e,t,n){try{return xp("json"===t&&e&&"object"==typeof e?JSON.stringify(e):e,n)}catch(e){return}}(o.response,o.responseType,n.textEncoder);void 0!==i&&(e.data.request_body_size=i),void 0!==s&&(e.data.response_body_size=s)}function zp(e){const t=ws();try{const n=new TextEncoder,{networkDetailAllowUrls:o,networkDetailDenyUrls:r,networkCaptureBodies:i,networkRequestHeaders:s,networkResponseHeaders:a}=e.getOptions(),l={replay:e,textEncoder:n,networkDetailAllowUrls:o,networkDetailDenyUrls:r,networkCaptureBodies:i,networkRequestHeaders:s,networkResponseHeaders:a};t&&t.on?t.on("beforeAddBreadcrumb",((e,t)=>function(e,t,n){if(!t.data)return;try{(function(e){return"xhr"===e.category})(t)&&function(e){return e&&e.xhr}(n)&&(Bp(t,n,e),Pp(t,n,e)),function(e){return"fetch"===e.category}(t)&&function(e){return e&&e.response}(n)&&(!function(e,t,n){const{input:o,response:r}=t,i=xp(o?Op(o):void 0,n.textEncoder),s=r?Sp(r.headers.get("content-length")):void 0;void 0!==i&&(e.data.request_body_size=i),void 0!==s&&(e.data.response_body_size=s)}(t,n,e),Rp(t,n,e))}catch(e){Wu&&rr.warn("Error when enriching network breadcrumb")}}(l,e,t))):(Vr(function(e){return t=>{if(!e.isEnabled())return;const n=function(e){const{startTimestamp:t,endTimestamp:n,fetchData:o,response:r}=e;if(!n)return null;const{method:i,url:s}=o;return{type:"resource.fetch",start:t/1e3,end:n/1e3,name:s,data:{method:i,statusCode:r?r.status:void 0}}}(t);bp(e,n)}}(e)),li(Ep(e)))}catch(e){}}let Up=null;const Hp=e=>t=>{if(!e.isEnabled())return;const n=function(e){const t=e.getLastBreadcrumb&&e.getLastBreadcrumb();if(Up===t||!t)return null;if(Up=t,!function(e){return!!e.category}(t)||["fetch","xhr","sentry.event","sentry.transaction"].includes(t.category)||t.category.startsWith("ui."))return null;if("console"===t.category)return function(e){const t=e.data&&e.data.arguments;if(!Array.isArray(t)||0===t.length)return Ru(e);let n=!1;const o=t.map((e=>{if(!e)return e;if("string"==typeof e)return e.length>yc?(n=!0,`${e.slice(0,yc)}…`):e;if("object"==typeof e)try{const t=gi(e,7);return JSON.stringify(t).length>yc?(n=!0,`${JSON.stringify(t,null,2).slice(0,yc)}…`):t}catch(e){}return e}));return Ru({...e,data:{...e.data,arguments:o,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}(t);return Ru(t)}(t);n&&xu(e,n)};function Fp(e){const t=bs(),n=ws();t.addScopeListener(Hp(e)),Hr(Pu(e)),ri(wp(e)),zp(e);const o=vp(e,!jp(n));n&&n.addEventProcessor?n.addEventProcessor(o):function(e){const t=ws();t&&t.addEventProcessor&&t.addEventProcessor(e)}(o),jp(n)&&(n.on("beforeSendEvent",_p(e)),n.on("afterSendEvent",fp(e)),n.on("createDsc",(t=>{const n=e.getSessionId();if(n&&e.isEnabled()&&"session"===e.recordingMode){e.checkAndHandleExpiredSession()&&(t.replay_id=n)}})),n.on("startTransaction",(t=>{e.lastTransaction=t})),n.on("finishTransaction",(t=>{e.lastTransaction=t})),n.on("beforeSendFeedback",((t,n)=>{const o=e.getSessionId();n&&n.includeReplay&&e.isEnabled()&&o&&t.contexts&&t.contexts.feedback&&(t.contexts.feedback.replay_id=o)})))}function jp(e){return!(!e||!e.on)}function Wp(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:o}=e,r=Date.now()/1e3;return{type:"memory",name:"memory",start:r,end:r,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:o}}}}function qp(e){let t=!1;return(n,o)=>{if(!e.checkAndHandleExpiredSession())return void(Wu&&rr.warn("[Replay] Received replay event after session expired."));const r=o||!t;t=!0,e.clickDetector&&Au(e.clickDetector,n),e.addUpdate((()=>{if("buffer"===e.recordingMode&&r&&e.setInitialState(),!dp(e,n,r))return!0;if(!r)return!1;if(function(e,t){if(!t||!e.session||0!==e.session.segmentId)return;dp(e,function(e){const t=e.getOptions();return{type:Id.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:!!e.eventBuffer&&"worker"===e.eventBuffer.type,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}(e),!1)}(e,r),e.session&&e.session.previousSessionId)return!0;if("buffer"===e.recordingMode&&e.session&&e.eventBuffer){const t=e.eventBuffer.getEarliestTimestamp();t&&(qu(`[Replay] Updating session start time to earliest event in buffer to ${new Date(t)}`,e.getOptions()._experiments.traceInternals),e.session.started=t,e.getOptions().stickySession&&rp(e.session))}return"session"===e.recordingMode&&e.flush(),!0}))}}async function Gp({recordingData:e,replayId:t,segmentId:n,eventContext:o,timestamp:r,session:i}){const s=function({recordingData:e,headers:t}){let n;const o=`${JSON.stringify(t)}\n`;if("string"==typeof e)n=`${o}${e}`;else{const t=(new TextEncoder).encode(o);n=new Uint8Array(t.length+e.length),n.set(t),n.set(e,t.length)}return n}({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:l,traceIds:c,initialTimestamp:d}=o,u=ws(),p=bs(),m=u&&u.getTransport(),g=u&&u.getDsn();if(!(u&&m&&g&&i.sampled))return;const h={type:"replay_event",replay_start_timestamp:d/1e3,timestamp:r/1e3,error_ids:l,trace_ids:c,urls:a,replay_id:t,segment_id:n,replay_type:i.sampled},f=await async function({client:e,scope:t,replayId:n,event:o}){const r={event_id:n,integrations:"object"!=typeof e._integrations||null===e._integrations||Array.isArray(e._integrations)?void 0:Object.keys(e._integrations)};e.emit&&e.emit("preprocessEvent",o,r);const i=await us(e.getOptions(),o,r,t,e,Bs());if(!i)return null;i.platform=i.platform||"javascript";const s=e.getSdkMetadata&&e.getSdkMetadata(),{name:a,version:l}=s&&s.sdk||{};return i.sdk={...i.sdk,name:a||"sentry.javascript.unknown",version:l||"0.0.0"},i}({scope:p,client:u,replayId:t,event:h});if(!f)return u.recordDroppedEvent("event_processor","replay",h),void qu("An event processor returned `null`, will not send event.");delete f.sdkProcessingMetadata;const _=function(e,t,n,o){return Ui(Zi(e,Yi(e),o,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:"string"==typeof t?(new TextEncoder).encode(t).length:t.length},t]])}(f,s,g,u.getOptions().tunnel);let v;try{v=await m.send(_)}catch(e){const t=new Error(_c);try{t.cause=e}catch(e){}throw t}if(!v)return v;if("number"==typeof v.statusCode&&(v.statusCode<200||v.statusCode>=300))throw new Vp(v.statusCode);const y=Xi({},v);if(Ki(y,"replay"))throw new Yp(y);return v}class Vp extends Error{constructor(e){super(`Transport returned status code ${e}`)}}class Yp extends Error{constructor(e){super("Rate limit hit"),this.rateLimits=e}}async function Zp(e,t={count:0,interval:5e3}){const{recordingData:n,options:o}=e;var r,i;if(n.length)try{return await Gp(e),!0}catch(n){if(n instanceof Vp||n instanceof Yp)throw n;if(r="Replays",i={_retryCount:t.count},Ps().setContext(r,i),Wu&&o._experiments&&o._experiments.captureExceptions&&hs(n),t.count>=3){const e=new Error(`${_c} - max retries exceeded`);try{e.cause=n}catch(e){}throw e}return t.interval*=++t.count,new Promise(((n,o)=>{setTimeout((async()=>{try{await Zp(e,t),n(!0)}catch(e){o(e)}}),t.interval)}))}}const Kp="__THROTTLED";function Xp(e,t,n){const o=new Map;let r=!1;return(...i)=>{const s=Math.floor(Date.now()/1e3);if((e=>{const t=e-n;o.forEach(((e,n)=>{n<t&&o.delete(n)}))})(s),[...o.values()].reduce(((e,t)=>e+t),0)>=t){const e=r;return r=!0,e?"__SKIPPED":Kp}r=!1;const a=o.get(s)||0;return o.set(s,a+1),e(...i)}}class Jp{constructor({options:e,recordingOptions:t}){Jp.prototype.__init.call(this),Jp.prototype.__init2.call(this),Jp.prototype.__init3.call(this),Jp.prototype.__init4.call(this),Jp.prototype.__init5.call(this),Jp.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:3e5,sessionIdleExpire:9e5},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=t,this._options=e,this._debouncedFlush=function(e,t,n){let o,r,i;const s=n&&n.maxWait?Math.max(n.maxWait,t):0;function a(){return l(),o=e(),o}function l(){void 0!==r&&clearTimeout(r),void 0!==i&&clearTimeout(i),r=i=void 0}function c(){return r&&clearTimeout(r),r=setTimeout(a,t),s&&void 0===i&&(i=setTimeout(a,s)),o}return c.cancel=l,c.flush=function(){return void 0!==r||void 0!==i?a():o},c}((()=>this._flush()),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=Xp(((e,t)=>function(e,t,n){return pp(e,t)?up(e,t,n):Promise.resolve(null)}(this,e,t)),300,5);const{slowClickTimeout:n,slowClickIgnoreSelectors:o}=this.getOptions(),r=n?{threshold:Math.min(3e3,n),timeout:n,scrollTimeout:300,ignoreSelector:o?o.join(","):""}:void 0;r&&(this.clickDetector=new Lu(this,r))}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return Boolean(this._canvas)}getOptions(){return this._options}initializeSampling(e){const{errorSampleRate:t,sessionSampleRate:n}=this._options;t<=0&&n<=0||(this._initializeSessionForSampling(e),this.session?!1!==this.session.sampled&&(this.recordingMode="buffer"===this.session.sampled&&0===this.session.segmentId?"buffer":"session",Gu(`[Replay] Starting replay in ${this.recordingMode} mode`,this._options._experiments.traceInternals),this._initializeRecording()):this._handleException(new Error("Unable to initialize and create session")))}start(){if(this._isEnabled&&"session"===this.recordingMode)throw new Error("Replay recording is already in progress");if(this._isEnabled&&"buffer"===this.recordingMode)throw new Error("Replay buffering is in progress, call `flush()` to save the replay");Gu("[Replay] Starting replay in session mode",this._options._experiments.traceInternals),this._updateUserActivity();const e=cp({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=e,this._initializeRecording()}startBuffering(){if(this._isEnabled)throw new Error("Replay recording is already in progress");Gu("[Replay] Starting replay in buffer mode",this._options._experiments.traceInternals);const e=cp({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=e,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const e=this._canvas;this._stopRecording=wu({...this._recordingOptions,..."buffer"===this.recordingMode&&{checkoutEveryNms:6e4},emit:qp(this),onMutation:this._onMutationHandler,...e?{recordCanvas:e.recordCanvas,getCanvasManager:e.getCanvasManager,sampling:e.sampling,dataURLOptions:e.dataURLOptions}:{}})}catch(e){this._handleException(e)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(e){return this._handleException(e),!1}}async stop({forceFlush:e=!1,reason:t}={}){if(this._isEnabled){this._isEnabled=!1;try{qu("[Replay] Stopping Replay"+(t?` triggered by ${t}`:""),this._options._experiments.traceInternals),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),e&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,tp(this)}catch(e){this._handleException(e)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),qu("[Replay] Pausing replay",this._options._experiments.traceInternals))}resume(){this._isPaused&&this._checkSession()&&(this._isPaused=!1,this.startRecording(),qu("[Replay] Resuming replay",this._options._experiments.traceInternals))}async sendBufferedReplayOrFlush({continueRecording:e=!0}={}){if("session"===this.recordingMode)return this.flushImmediate();const t=Date.now();qu("[Replay] Converting buffer to session",this._options._experiments.traceInternals),await this.flushImmediate();const n=this.stopRecording();e&&n&&"session"!==this.recordingMode&&(this.recordingMode="session",this.session&&(this._updateUserActivity(t),this._updateSessionActivity(t),this._maybeSaveSession()),this.startRecording())}addUpdate(e){const t=e();"buffer"!==this.recordingMode&&!0!==t&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),this._stopRecording)this.checkAndHandleExpiredSession(),this._updateSessionActivity();else{if(!this._checkSession())return;this.resume()}}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return"buffer"===this.recordingMode?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(!(this._lastActivity&&sp(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&"session"===this.session.sampled))return!!this._checkSession();this.pause()}setInitialState(){const e=`${hc.location.pathname}${hc.location.hash}${hc.location.search}`,t=`${hc.location.origin}${e}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=t,this._context.initialTimestamp=Date.now(),this._context.urls.push(t)}throttledAddEvent(e,t){const n=this._throttledAddEvent(e,t);if(n===Kp){const e=Ru({category:"replay.throttled"});this.addUpdate((()=>!dp(this,{type:5,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e,metric:!0}})))}return n}getCurrentRoute(){const e=this.lastTransaction||bs().getTransaction(),t=(e&&cs(e).data||{})[Ys];if(e&&t&&["route","custom"].includes(t))return cs(e).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=Qu({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_handleException(e){Wu&&rr.error("[Replay]",e),Wu&&this._options._experiments&&this._options._experiments.captureExceptions&&hs(e)}_initializeSessionForSampling(e){const t=this._options.errorSampleRate>0,n=cp({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals,previousSessionId:e},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:t});this.session=n}_checkSession(){if(!this.session)return!1;const e=this.session;return!lp(e,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})||(this._refreshSession(e),!1)}async _refreshSession(e){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(e.id))}_addListeners(){try{hc.document.addEventListener("visibilitychange",this._handleVisibilityChange),hc.addEventListener("blur",this._handleWindowBlur),hc.addEventListener("focus",this._handleWindowFocus),hc.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(Fp(this),this._hasInitializedCoreListeners=!0)}catch(e){this._handleException(e)}this._performanceCleanupCallback=ju(this)}_removeListeners(){try{hc.document.removeEventListener("visibilitychange",this._handleVisibilityChange),hc.removeEventListener("blur",this._handleWindowBlur),hc.removeEventListener("focus",this._handleWindowFocus),hc.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(e){this._handleException(e)}}__init(){this._handleVisibilityChange=()=>{"visible"===hc.document.visibilityState?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const e=Ru({category:"ui.blur"});this._doChangeToBackgroundTasks(e)}}__init3(){this._handleWindowFocus=()=>{const e=Ru({category:"ui.focus"});this._doChangeToForegroundTasks(e)}}__init4(){this._handleKeyboardEvent=e=>{zu(this,e)}}_doChangeToBackgroundTasks(e){if(!this.session)return;ap(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(e&&this._createCustomBreadcrumb(e),this.conditionalFlush())}_doChangeToForegroundTasks(e){if(!this.session)return;this.checkAndHandleExpiredSession()?e&&this._createCustomBreadcrumb(e):qu("[Replay] Document has become active, but session has expired")}_updateUserActivity(e=Date.now()){this._lastActivity=e}_updateSessionActivity(e=Date.now()){this.session&&(this.session.lastActivity=e,this._maybeSaveSession())}_createCustomBreadcrumb(e){this.addUpdate((()=>{this.throttledAddEvent({type:Id.Custom,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e}})}))}_addPerformanceEntries(){const e=(t=this.performanceEntries,t.map(Hu).filter(Boolean)).concat(this.replayPerformanceEntries);var t;return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(yp(this,e))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:e,eventBuffer:t}=this;if(!e||!t)return;if(e.segmentId)return;const n=t.getEarliestTimestamp();n&&n<this._context.initialTimestamp&&(this._context.initialTimestamp=n)}_popEventContext(){const e={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),e}async _runFlush(){const e=this.getSessionId();if(this.session&&this.eventBuffer&&e){if(await this._addPerformanceEntries(),this.eventBuffer&&this.eventBuffer.hasEvents&&(await async function(e){try{return Promise.all(yp(e,[Wp(hc.performance.memory)]))}catch(e){return[]}}(this),this.eventBuffer&&e===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const t=Date.now();if(t-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const n=this._popEventContext(),o=this.session.segmentId++;this._maybeSaveSession();const r=await this.eventBuffer.finish();await Zp({replayId:e,recordingData:r,segmentId:o,eventContext:n,session:this.session,options:this.getOptions(),timestamp:t})}catch(e){this._handleException(e),this.stop({reason:"sendReplay"});const t=ws();t&&t.recordDroppedEvent("send_error","replay")}}else Wu&&rr.error("[Replay] No session or eventBuffer found to flush.")}__init5(){this._flush=async({force:e=!1}={})=>{if(!this._isEnabled&&!e)return;if(!this.checkAndHandleExpiredSession())return void(Wu&&rr.error("[Replay] Attempting to finish replay event after session expired."));if(!this.session)return;const t=this.session.started,n=Date.now()-t;this._debouncedFlush.cancel();const o=n<this._options.minReplayDuration,r=n>this._options.maxReplayDuration+5e3;if(o||r)return qu(`[Replay] Session duration (${Math.floor(n/1e3)}s) is too ${o?"short":"long"}, not sending replay.`,this._options._experiments.traceInternals),void(o&&this._debouncedFlush());const i=this.eventBuffer;if(i&&0===this.session.segmentId&&!i.hasCheckout&&qu("[Replay] Flushing initial segment without checkout.",this._options._experiments.traceInternals),!this._flushLock)return this._flushLock=this._runFlush(),await this._flushLock,void(this._flushLock=void 0);try{await this._flushLock}catch(e){Wu&&rr.error(e)}finally{this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&rp(this.session)}__init6(){this._onMutationHandler=e=>{const t=e.length,n=this._options.mutationLimit,o=n&&t>n;if(t>this._options.mutationBreadcrumbLimit||o){const e=Ru({category:"replay.mutations",data:{count:t,limit:o}});this._createCustomBreadcrumb(e)}return!o||(this.stop({reason:"mutationLimit",forceFlush:"session"===this.recordingMode}),!1)}}}function Qp(e,t,n,o){const r=[...e,..."string"==typeof o?o.split(","):[],...t];return void 0!==n&&("string"==typeof n&&r.push(`.${n}`),or((()=>{console.warn("[Replay] You are using a deprecated configuration item for privacy. Read the documentation on how to use the new privacy configuration.")}))),r.join(",")}const em='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',tm=["content-length","content-type","accept"];let nm=!1;class om{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:e=5e3,flushMaxDelay:t=5500,minReplayDuration:n=4999,maxReplayDuration:o=36e5,stickySession:r=!0,useCompression:i=!0,workerUrl:s,_experiments:a={},sessionSampleRate:l,errorSampleRate:c,maskAllText:d=!0,maskAllInputs:u=!0,blockAllMedia:p=!0,mutationBreadcrumbLimit:m=750,mutationLimit:g=1e4,slowClickTimeout:h=7e3,slowClickIgnoreSelectors:f=[],networkDetailAllowUrls:_=[],networkDetailDenyUrls:v=[],networkCaptureBodies:y=!0,networkRequestHeaders:w=[],networkResponseHeaders:b=[],mask:E=[],maskAttributes:x=["title","placeholder"],unmask:S=[],block:T=[],unblock:$=[],ignore:C=[],maskFn:k,beforeAddRecordingEvent:L,beforeErrorSampling:M,blockClass:I,blockSelector:A,maskInputOptions:R,maskTextClass:O,maskTextSelector:N,ignoreClass:D}={}){this.name=om.id;const P=function({mask:e,unmask:t,block:n,unblock:o,ignore:r,blockClass:i,blockSelector:s,maskTextClass:a,maskTextSelector:l,ignoreClass:c}){const d={maskTextSelector:Qp(e,[".sentry-mask","[data-sentry-mask]"],a,l),unmaskTextSelector:Qp(t,[".sentry-unmask","[data-sentry-unmask]"]),blockSelector:Qp(n,[".sentry-block","[data-sentry-block]",'base[href="/"]'],i,s),unblockSelector:Qp(o,[".sentry-unblock","[data-sentry-unblock]"]),ignoreSelector:Qp(r,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'],c)};return i instanceof RegExp&&(d.blockClass=i),a instanceof RegExp&&(d.maskTextClass=a),d}({mask:E,unmask:S,block:T,unblock:$,ignore:C,blockClass:I,blockSelector:A,maskTextClass:O,maskTextSelector:N,ignoreClass:D});if(this._recordingOptions={maskAllInputs:u,maskAllText:d,maskInputOptions:{...R||{},password:!0},maskTextFn:k,maskInputFn:k,maskAttributeFn:(e,t,n)=>function({el:e,key:t,maskAttributes:n,maskAllText:o,privacyOptions:r,value:i}){return o?r.unmaskTextSelector&&e.matches(r.unmaskTextSelector)?i:n.includes(t)||"value"===t&&"INPUT"===e.tagName&&["submit","button"].includes(e.getAttribute("type")||"")?i.replace(/[\S]/g,"*"):i:i}({maskAttributes:x,maskAllText:d,privacyOptions:P,key:e,value:t,el:n}),...P,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:e=>{try{e.__rrweb__=!0}catch(e){}}},this._initialOptions={flushMinDelay:e,flushMaxDelay:t,minReplayDuration:Math.min(n,15e3),maxReplayDuration:Math.min(o,bc),stickySession:r,sessionSampleRate:l,errorSampleRate:c,useCompression:i,workerUrl:s,blockAllMedia:p,maskAllInputs:u,maskAllText:d,mutationBreadcrumbLimit:m,mutationLimit:g,slowClickTimeout:h,slowClickIgnoreSelectors:f,networkDetailAllowUrls:_,networkDetailDenyUrls:v,networkCaptureBodies:y,networkRequestHeaders:rm(w),networkResponseHeaders:rm(b),beforeAddRecordingEvent:L,beforeErrorSampling:M,_experiments:a},"number"==typeof l&&(console.warn(`[Replay] You are passing \`sessionSampleRate\` to the Replay integration.\nThis option is deprecated and will be removed soon.\nInstead, configure \`replaysSessionSampleRate\` directly in the SDK init options, e.g.:\nSentry.init({ replaysSessionSampleRate: ${l} })`),this._initialOptions.sessionSampleRate=l),"number"==typeof c&&(console.warn(`[Replay] You are passing \`errorSampleRate\` to the Replay integration.\nThis option is deprecated and will be removed soon.\nInstead, configure \`replaysOnErrorSampleRate\` directly in the SDK init options, e.g.:\nSentry.init({ replaysOnErrorSampleRate: ${c} })`),this._initialOptions.errorSampleRate=c),this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${em}`:em),this._isInitialized&&mi())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return nm}set _isInitialized(e){nm=e}setupOnce(){mi()&&(this._setup(),setTimeout((()=>this._initialize())))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:"session"===this._replay.recordingMode}):Promise.resolve()}flush(e){return this._replay&&this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(e):Promise.resolve()}getReplayId(){if(this._replay&&this._replay.isEnabled())return this._replay.getSessionId()}_initialize(){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(),this._replay.initializeSampling())}_setup(){const e=function(e){const t=ws(),n=t&&t.getOptions(),o={sessionSampleRate:0,errorSampleRate:0,..._r(e)};if(!n)return or((()=>{console.warn("SDK client is not available.")})),o;null==e.sessionSampleRate&&null==e.errorSampleRate&&null==n.replaysSessionSampleRate&&null==n.replaysOnErrorSampleRate&&or((()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}));"number"==typeof n.replaysSessionSampleRate&&(o.sessionSampleRate=n.replaysSessionSampleRate);"number"==typeof n.replaysOnErrorSampleRate&&(o.errorSampleRate=n.replaysOnErrorSampleRate);return o}(this._initialOptions);this._replay=new Jp({options:e,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(){try{const e=ws().getIntegrationByName("ReplayCanvas");if(!e)return;this._replay._canvas=e.getOptions()}catch(e){}}}function rm(e){return[...tm,...e.map((e=>e.toLowerCase()))]}var im;function sm(e,t,n=1/0,o=0){return e?e.nodeType!==e.ELEMENT_NODE||o>n?-1:t(e)?o:sm(e.parentNode,t,n,o+1):-1}function am(e,t){return n=>{const o=n;if(null===o)return!1;try{if(e)if("string"==typeof e){if(o.matches(`.${e}`))return!0}else if(function(e,t){for(let n=e.classList.length;n--;){const o=e.classList[n];if(t.test(o))return!0}return!1}(o,e))return!0;return!(!t||!o.matches(t))}catch(e){return!1}}}om.__initStatic(),function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"}(im||(im={}));const lm="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let cm={map:{},getId:()=>(console.error(lm),-1),getNode:()=>(console.error(lm),null),removeNodeFromMap(){console.error(lm)},has:()=>(console.error(lm),!1),reset(){console.error(lm)}};function dm(e,t,n,o,r=window){const i=r.Object.getOwnPropertyDescriptor(e,t);return r.Object.defineProperty(e,t,o?n:{set(e){fm((()=>{n.set.call(this,e)}),0),i&&i.set&&i.set.call(this,e)}}),()=>dm(e,t,i||{},!0)}function um(e,t,n){try{if(!(t in e))return()=>{};const o=e[t],r=n(o);return"function"==typeof r&&(r.prototype=r.prototype||{},Object.defineProperties(r,{__rrweb_original__:{enumerable:!1,value:o}})),e[t]=r,()=>{e[t]=o}}catch(e){return()=>{}}}function pm(e,t,n,o,r){if(!e)return!1;const i=function(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}(e);if(!i)return!1;const s=am(t,n);if(!r){const e=o&&i.matches(o);return s(i)&&!e}const a=sm(i,s);let l=-1;return!(a<0)&&(o&&(l=sm(i,am(null,o))),a>-1&&l<0||a<l)}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(cm=new Proxy(cm,{get:(e,t,n)=>("map"===t&&console.error(lm),Reflect.get(e,t,n))})),/[1-9][0-9]{12}/.test(Date.now().toString());const mm={};function gm(e){const t=mm[e];if(t)return t;const n=window.document;let o=window[e];if(n&&"function"==typeof n.createElement)try{const t=n.createElement("iframe");t.hidden=!0,n.head.appendChild(t);const r=t.contentWindow;r&&r[e]&&(o=r[e]),n.head.removeChild(t)}catch(e){}return mm[e]=o.bind(window)}function hm(...e){return gm("requestAnimationFrame")(...e)}function fm(...e){return gm("setTimeout")(...e)}var _m=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(_m||{});let vm;function ym(e){vm=e}const wm=e=>{if(!vm)return e;return(...t)=>{try{return e(...t)}catch(e){if(vm&&!0===vm(e))return()=>{};throw e}}};for(var bm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Em="undefined"==typeof Uint8Array?[]:new Uint8Array(256),xm=0;xm<64;xm++)Em[bm.charCodeAt(xm)]=xm;const Sm=new Map;const Tm=(e,t,n)=>{if(!e||!km(e,t)&&"object"!=typeof e)return;const o=function(e,t){let n=Sm.get(e);return n||(n=new Map,Sm.set(e,n)),n.has(t)||n.set(t,[]),n.get(t)}(n,e.constructor.name);let r=o.indexOf(e);return-1===r&&(r=o.length,o.push(e)),r};function $m(e,t,n){if(e instanceof Array)return e.map((e=>$m(e,t,n)));if(null===e)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray){return{rr_type:e.constructor.name,args:[Object.values(e)]}}if(e instanceof ArrayBuffer){const t=e.constructor.name,n=function(e){var t,n=new Uint8Array(e),o=n.length,r="";for(t=0;t<o;t+=3)r+=bm[n[t]>>2],r+=bm[(3&n[t])<<4|n[t+1]>>4],r+=bm[(15&n[t+1])<<2|n[t+2]>>6],r+=bm[63&n[t+2]];return o%3==2?r=r.substring(0,r.length-1)+"=":o%3==1&&(r=r.substring(0,r.length-2)+"=="),r}(e);return{rr_type:t,base64:n}}if(e instanceof DataView){return{rr_type:e.constructor.name,args:[$m(e.buffer,t,n),e.byteOffset,e.byteLength]}}if(e instanceof HTMLImageElement){const t=e.constructor.name,{src:n}=e;return{rr_type:t,src:n}}if(e instanceof HTMLCanvasElement){return{rr_type:"HTMLImageElement",src:e.toDataURL()}}if(e instanceof ImageData){return{rr_type:e.constructor.name,args:[$m(e.data,t,n),e.width,e.height]}}if(km(e,t)||"object"==typeof e){return{rr_type:e.constructor.name,index:Tm(e,t,n)}}return e}const Cm=(e,t,n)=>e.map((e=>$m(e,t,n))),km=(e,t)=>{const n=["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter((e=>"function"==typeof t[e]));return Boolean(n.find((n=>e instanceof t[n])))};function Lm(e,t,n,o,r){const i=[];try{const s=um(e.HTMLCanvasElement.prototype,"getContext",(function(e){return function(i,...s){if(!pm(this,t,n,o,!0)){const e=function(e){return"experimental-webgl"===e?"webgl":e}(i);if("__context"in this||(this.__context=e),r&&["webgl","webgl2"].includes(e))if(s[0]&&"object"==typeof s[0]){const e=s[0];e.preserveDrawingBuffer||(e.preserveDrawingBuffer=!0)}else s.splice(0,1,{preserveDrawingBuffer:!0})}return e.apply(this,[i,...s])}}));i.push(s)}catch(e){console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{i.forEach((e=>e()))}}function Mm(e,t,n,o,r,i,s,a){const l=[],c=Object.getOwnPropertyNames(e);for(const s of c)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(s))try{if("function"!=typeof e[s])continue;const c=um(e,s,(function(e){return function(...l){const c=e.apply(this,l);if(Tm(c,a,this),"tagName"in this.canvas&&!pm(this.canvas,o,r,i,!0)){const e=Cm(l,a,this),o={type:t,property:s,args:e};n(this.canvas,o)}return c}}));l.push(c)}catch(o){const r=dm(e,s,{set(e){n(this.canvas,{type:t,property:s,args:[e],setter:!0})}});l.push(r)}return l}class Im{reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}constructor(e){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.frozen=!1,this.locked=!1,this.processMutation=(e,t)=>{!(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId)&&this.rafStamps.invokeId||(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(e)||this.pendingCanvasMutations.set(e,[]),this.pendingCanvasMutations.get(e).push(t)};const{sampling:t="all",win:n,blockClass:o,blockSelector:r,unblockSelector:i,maxCanvasSize:s,recordCanvas:a,dataURLOptions:l,errorHandler:c}=e;this.mutationCb=e.mutationCb,this.mirror=e.mirror,this.options=e,c&&ym(c),e.enableManualSnapshot||wm((()=>{a&&"all"===t&&this.initCanvasMutationObserver(n,o,r,i),a&&"number"==typeof t&&this.initCanvasFPSObserver(t,n,o,r,i,s,{dataURLOptions:l})}))()}initCanvasFPSObserver(e,t,n,o,r,i,s){const a=Lm(t,n,o,r,!0),l=this.takeSnapshot(!1,e,t,n,o,r,i,s.dataURLOptions);this.resetObservers=()=>{a(),cancelAnimationFrame(l)}}initCanvasMutationObserver(e,t,n,o){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();const r=Lm(e,t,n,o,!1),i=function(e,t,n,o,r){const i=[],s=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(const a of s)try{if("function"!=typeof t.CanvasRenderingContext2D.prototype[a])continue;const s=um(t.CanvasRenderingContext2D.prototype,a,(function(i){return function(...s){return pm(this.canvas,n,o,r,!0)||fm((()=>{const n=Cm(s,t,this);e(this.canvas,{type:_m["2D"],property:a,args:n})}),0),i.apply(this,s)}}));i.push(s)}catch(n){const o=dm(t.CanvasRenderingContext2D.prototype,a,{set(t){e(this.canvas,{type:_m["2D"],property:a,args:[t],setter:!0})}});i.push(o)}return()=>{i.forEach((e=>e()))}}(this.processMutation.bind(this),e,t,n,o),s=function(e,t,n,o,r){const i=[];return i.push(...Mm(t.WebGLRenderingContext.prototype,_m.WebGL,e,n,o,r,0,t)),void 0!==t.WebGL2RenderingContext&&i.push(...Mm(t.WebGL2RenderingContext.prototype,_m.WebGL2,e,n,o,r,0,t)),()=>{i.forEach((e=>e()))}}(this.processMutation.bind(this),e,t,n,o,this.mirror);this.resetObservers=()=>{r(),i(),s()}}snapshot(e){const{options:t}=this,n=this.takeSnapshot(!0,"all"===t.sampling?2:t.sampling||2,t.win,t.blockClass,t.blockSelector,t.unblockSelector,t.maxCanvasSize,t.dataURLOptions,e);this.resetObservers=()=>{cancelAnimationFrame(n)}}takeSnapshot(e,t,n,o,r,i,s,a,l){const c=new Map,d=new Worker(function(){const e=new Blob(['for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="undefined"==typeof Uint8Array?[]:new Uint8Array(256),a=0;a<64;a++)t[e.charCodeAt(a)]=a;var n=function(t){var a,n=new Uint8Array(t),r=n.length,s="";for(a=0;a<r;a+=3)s+=e[n[a]>>2],s+=e[(3&n[a])<<4|n[a+1]>>4],s+=e[(15&n[a+1])<<2|n[a+2]>>6],s+=e[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s};const r=new Map,s=new Map;const i=self;i.onmessage=async function(e){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:e.data.id});{const{id:t,bitmap:a,width:o,height:f,maxCanvasSize:c,dataURLOptions:g}=e.data,u=async function(e,t,a){const r=e+"-"+t;if("OffscreenCanvas"in globalThis){if(s.has(r))return s.get(r);const i=new OffscreenCanvas(e,t);i.getContext("2d");const o=await i.convertToBlob(a),f=await o.arrayBuffer(),c=n(f);return s.set(r,c),c}return""}(o,f,g),[h,d]=function(e,t,a){if(!a)return[e,t];const[n,r]=a;if(e<=n&&t<=r)return[e,t];let s=e,i=t;return s>n&&(i=Math.floor(n*t/e),s=n),i>r&&(s=Math.floor(r*e/t),i=r),[s,i]}(o,f,c),l=new OffscreenCanvas(h,d),w=l.getContext("bitmaprenderer"),p=h===o&&d===f?a:await createImageBitmap(a,{resizeWidth:h,resizeHeight:d,resizeQuality:"low"});w.transferFromImageBitmap(p),a.close();const y=await l.convertToBlob(g),v=y.type,b=await y.arrayBuffer(),m=n(b);if(p.close(),!r.has(t)&&await u===m)return r.set(t,m),i.postMessage({id:t});if(r.get(t)===m)return i.postMessage({id:t});i.postMessage({id:t,type:v,base64:m,width:o,height:f}),r.set(t,m)}};']);return URL.createObjectURL(e)}());d.onmessage=e=>{const t=e.data,{id:n}=t;if(c.set(n,!1),!("base64"in t))return;const{base64:o,type:r,width:i,height:s}=t;this.mutationCb({id:n,type:_m["2D"],commands:[{property:"clearRect",args:[0,0,i,s]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:o}],type:r}]},0,0,i,s]}]})};const u=1e3/t;let p,m=0;const g=t=>{m&&t-m<u||(m=t,(e=>{if(e)return[e];const t=[];return n.document.querySelectorAll("canvas").forEach((e=>{pm(e,o,r,i,!0)||t.push(e)})),t})(l).forEach((t=>{const n=this.mirror.getId(t);if(!c.get(n)&&t.width&&t.height){if(c.set(n,!0),!e&&["webgl","webgl2"].includes(t.__context)){const e=t.getContext(t.__context);!1===Qi([e,"optionalAccess",e=>e.getContextAttributes,"call",e=>e(),"optionalAccess",e=>e.preserveDrawingBuffer])&&e.clear(e.COLOR_BUFFER_BIT)}createImageBitmap(t).then((e=>{d.postMessage({id:n,bitmap:e,width:t.width,height:t.height,dataURLOptions:a,maxCanvasSize:s},[e])})).catch((e=>{wm((()=>{throw e}))()}))}}))),p=hm(g)};return p=hm(g),p}startPendingCanvasMutationFlusher(){hm((()=>this.flushPendingCanvasMutations()))}startRAFTimestamping(){const e=t=>{this.rafStamps.latestId=t,hm(e)};hm(e)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach(((e,t)=>{const n=this.mirror.getId(t);this.flushPendingCanvasMutationFor(t,n)})),hm((()=>this.flushPendingCanvasMutations()))}flushPendingCanvasMutationFor(e,t){if(this.frozen||this.locked)return;const n=this.pendingCanvasMutations.get(e);if(!n||-1===t)return;const o=n.map((e=>{const{type:t,...n}=e;return n})),{type:r}=n[0];this.mutationCb({id:t,type:r,commands:o}),this.pendingCanvasMutations.delete(e)}}const Am={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},Rm="ReplayCanvas",Om=1280,Nm=(e={})=>{const[t,n]=e.maxCanvasSize||[],o={quality:e.quality||"medium",enableManualSnapshot:e.enableManualSnapshot,maxCanvasSize:[t?Math.min(t,Om):Om,n?Math.min(n,Om):Om]};let r;const i=new Promise((e=>r=e));return{name:Rm,setupOnce(){},getOptions(){const{quality:e,enableManualSnapshot:t,maxCanvasSize:n}=o;return{enableManualSnapshot:t,recordCanvas:!0,getCanvasManager:e=>{const o=new Im({...e,enableManualSnapshot:t,maxCanvasSize:n,errorHandler:e=>{try{"object"==typeof e&&(e.__rrweb__=!0)}catch(e){}}});return r(o),o},...Am[e||"medium"]||Am.medium}},async snapshot(e){(await i).snapshot(e)}}};ta(Rm,Nm);const Dm=Vo,Pm="#ffffff",Bm="inherit",zm="rgba(108, 95, 199, 1)",Um={fontFamily:"system-ui, 'Helvetica Neue', Arial, sans-serif",fontSize:"14px",background:Pm,backgroundHover:"#f6f6f7",foreground:"#2b2233",border:"1.5px solid rgba(41, 35, 47, 0.13)",borderRadius:"25px",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",success:"#268d75",error:"#df3338",submitBackground:"rgba(88, 74, 192, 1)",submitBackgroundHover:zm,submitBorder:zm,submitOutlineFocus:"#29232f",submitForeground:Pm,submitForegroundHover:Pm,cancelBackground:"transparent",cancelBackgroundHover:"var(--background-hover)",cancelBorder:"var(--border)",cancelOutlineFocus:"var(--input-outline-focus)",cancelForeground:"var(--foreground)",cancelForegroundHover:"var(--foreground)",inputBackground:Bm,inputForeground:Bm,inputBorder:"var(--border)",inputOutlineFocus:zm,formBorderRadius:"20px",formContentBorderRadius:"6px"},Hm=Um,Fm={...Um,background:"#29232f",backgroundHover:"#352f3b",foreground:"#ebe6ef",border:"1.5px solid rgba(235, 230, 239, 0.15)",success:"#2da98c",error:"#f55459"},jm="widget",Wm="api";async function qm({feedback:{message:e,email:t,name:n,source:o,url:r}},{includeReplay:i=!0}={}){const s=ws(),a=s&&s.getTransport(),l=s&&s.getDsn();if(!s||!a||!l)return;const c={contexts:{feedback:{contact_email:t,name:n,message:e,url:r,source:o}},type:"feedback"};return ys((async e=>{e.clearBreadcrumbs(),[Wm,jm].includes(String(o))&&e.setLevel("info");const t=await async function({client:e,scope:t,event:n}){const o={};e.emit&&e.emit("preprocessEvent",n,o);const r=await us(e.getOptions(),n,o,t,e,Bs());return null===r?(e.recordDroppedEvent("event_processor","feedback",n),null):(r.platform=r.platform||"javascript",r)}({scope:e,client:s,event:c});if(!t)return;s.emit&&s.emit("beforeSendFeedback",t,{includeReplay:Boolean(i)});const n=Ks(t,l,s.getOptions()._metadata,s.getOptions().tunnel);let r;try{r=await a.send(n)}catch(e){const t=new Error("Unable to send Feedback");try{t.cause=e}catch(e){}throw t}if(r){if("number"==typeof r.statusCode&&(r.statusCode<200||r.statusCode>=300))throw new Error("Unable to send Feedback");return r}}))}const Gm="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function Vm(e,t){return{...e,...t,themeDark:{...e.themeDark,...t.themeDark},themeLight:{...e.themeLight,...t.themeLight}}}function Ym(e){return`\n  --background: ${e.background};\n  --background-hover: ${e.backgroundHover};\n  --foreground: ${e.foreground};\n  --error: ${e.error};\n  --success: ${e.success};\n  --border: ${e.border};\n  --border-radius: ${e.borderRadius};\n  --box-shadow: ${e.boxShadow};\n\n  --submit-background: ${e.submitBackground};\n  --submit-background-hover: ${e.submitBackgroundHover};\n  --submit-border: ${e.submitBorder};\n  --submit-outline-focus: ${e.submitOutlineFocus};\n  --submit-foreground: ${e.submitForeground};\n  --submit-foreground-hover: ${e.submitForegroundHover};\n\n  --cancel-background: ${e.cancelBackground};\n  --cancel-background-hover: ${e.cancelBackgroundHover};\n  --cancel-border: ${e.cancelBorder};\n  --cancel-outline-focus: ${e.cancelOutlineFocus};\n  --cancel-foreground: ${e.cancelForeground};\n  --cancel-foreground-hover: ${e.cancelForegroundHover};\n\n  --input-background: ${e.inputBackground};\n  --input-foreground: ${e.inputForeground};\n  --input-border: ${e.inputBorder};\n  --input-outline-focus: ${e.inputOutlineFocus};\n\n  --form-border-radius: ${e.formBorderRadius};\n  --form-content-border-radius: ${e.formContentBorderRadius};\n  `}function Zm({id:e,colorScheme:t,themeDark:n,themeLight:o}){try{const r=Dm.document,i=r.createElement("div");i.id=e;const s=i.attachShadow({mode:"open"});return s.appendChild(function(e,t,n){const o=e.createElement("style");return o.textContent=`\n:host {\n  --bottom: 1rem;\n  --right: 1rem;\n  --top: auto;\n  --left: auto;\n  --z-index: 100000;\n  --font-family: ${n.light.fontFamily};\n  --font-size: ${n.light.fontSize};\n\n  position: fixed;\n  left: var(--left);\n  right: var(--right);\n  bottom: var(--bottom);\n  top: var(--top);\n  z-index: var(--z-index);\n\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n\n  ${Ym("dark"===t?n.dark:n.light)}\n}\n\n${"system"===t?`\n@media (prefers-color-scheme: dark) {\n  :host {\n    ${Ym(n.dark)}\n  }\n}`:""}\n}`,o}(r,t,{dark:n,light:o})),s.appendChild(function(e){const t=e.createElement("style");return t.textContent="\n.dialog {\n  line-height: 25px;\n  background-color: rgba(0, 0, 0, 0.05);\n  border: none;\n  position: fixed;\n  inset: 0;\n  z-index: 10000;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  opacity: 1;\n  transition: opacity 0.2s ease-in-out;\n}\n\n.dialog:not([open]) {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n}\n.dialog:not([open]) .dialog__content {\n  transform: translate(0, -16px) scale(0.98);\n}\n\n.dialog__content {\n  position: fixed;\n  left: var(--left);\n  right: var(--right);\n  bottom: var(--bottom);\n  top: var(--top);\n\n  border: var(--border);\n  border-radius: var(--form-border-radius);\n  background-color: var(--background);\n  color: var(--foreground);\n\n  width: 320px;\n  max-width: 100%;\n  max-height: calc(100% - 2rem);\n  display: flex;\n  flex-direction: column;\n  box-shadow: var(--box-shadow);\n  transition: transform 0.2s ease-in-out;\n  transform: translate(0, 0) scale(1);\n}\n\n.dialog__header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-size: 20px;\n  font-weight: 600;\n  padding: 24px 24px 0 24px;\n  margin: 0;\n  margin-bottom: 16px;\n}\n\n.brand-link {\n  display: inline-flex;\n}\n\n.error {\n  color: var(--error);\n  margin-bottom: 16px;\n}\n\n.form {\n  display: grid;\n  overflow: auto;\n  flex-direction: column;\n  gap: 16px;\n  padding: 0 24px 24px;\n}\n\n.form__error-container {\n  color: var(--error);\n}\n\n.form__error-container--hidden {\n  display: none;\n}\n\n.form__label {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  margin: 0px;\n}\n\n.form__label__text {\n  display: grid;\n  gap: 4px;\n  align-items: center;\n  grid-auto-flow: column;\n  grid-auto-columns: max-content;\n}\n\n.form__label__text--required {\n  font-size: 0.85em;\n}\n\n.form__input {\n  line-height: inherit;\n  background-color: var(--input-background);\n  box-sizing: border-box;\n  border: var(--input-border);\n  border-radius: var(--form-content-border-radius);\n  color: var(--input-foreground);\n  font-family: inherit;\n  font-size: var(--font-size);\n  font-weight: 500;\n  padding: 6px 12px;\n}\n\n.form__input::placeholder {\n  color: var(--input-foreground);\n  opacity: 0.65;\n}\n\n.form__input:focus-visible {\n  outline: 1px auto var(--input-outline-focus);\n}\n\n.form__input--textarea {\n  font-family: inherit;\n  resize: vertical;\n}\n\n.btn-group {\n  display: grid;\n  gap: 8px;\n  margin-top: 8px;\n}\n\n.btn {\n  line-height: inherit;\n  border: var(--cancel-border);\n  border-radius: var(--form-content-border-radius);\n  cursor: pointer;\n  font-family: inherit;\n  font-size: var(--font-size);\n  font-weight: 600;\n  padding: 6px 16px;\n}\n.btn[disabled] {\n  opacity: 0.6;\n  pointer-events: none;\n}\n\n.btn--primary {\n  background-color: var(--submit-background);\n  border-color: var(--submit-border);\n  color: var(--submit-foreground);\n}\n.btn--primary:hover {\n  background-color: var(--submit-background-hover);\n  color: var(--submit-foreground-hover);\n}\n.btn--primary:focus-visible {\n  outline: 1px auto var(--submit-outline-focus);\n}\n\n.btn--default {\n  background-color: var(--cancel-background);\n  color: var(--cancel-foreground);\n  font-weight: 500;\n}\n.btn--default:hover {\n  background-color: var(--cancel-background-hover);\n  color: var(--cancel-foreground-hover);\n}\n.btn--default:focus-visible {\n  outline: 1px auto var(--cancel-outline-focus);\n}\n\n.success-message {\n  background-color: var(--background);\n  border: var(--border);\n  border-radius: var(--border-radius);\n  box-shadow: var(--box-shadow);\n  font-weight: 600;\n  color: var(--success);\n  padding: 12px 24px;\n  line-height: 25px;\n  display: grid;\n  align-items: center;\n  grid-auto-flow: column;\n  gap: 6px;\n  cursor: default;\n}\n\n.success-icon path {\n  fill: var(--success);\n}\n",t}(r)),{shadow:s,host:i}}catch(e){throw rr.warn("[Feedback] Browser does not support shadow DOM API"),new Error("Browser does not support shadow DOM API.")}}async function Km(e,t,n){if(!e)return;e.hideError();try{const e=await function({name:e,email:t,message:n,source:o=Wm,url:r=Qo()},i={}){if(!n)throw new Error("Unable to submit feedback with empty message");return qm({feedback:{name:e,email:t,message:n,url:r,source:o}},i)}({...t,source:jm},n);return e}catch(t){Gm&&rr.error(t),e&&e.showError("There was a problem submitting feedback, please wait and try again.")}}function Xm(e,t){return Object.entries(t).forEach((([t,n])=>{e.setAttributeNS(null,t,n)})),e}function Jm(e,t,...n){const o=Dm.document.createElement(e);t&&Object.entries(t).forEach((([e,t])=>{"className"===e&&"string"==typeof t?o.setAttribute("class",t):"boolean"==typeof t&&t?o.setAttribute(e,""):"string"==typeof t?o.setAttribute(e,t):e.startsWith("on")&&"function"==typeof t&&o.addEventListener(e.substring(2).toLowerCase(),t)}));for(const e of n)Qm(o,e);return o}function Qm(e,t){const n=Dm.document;if(null!=t)if(Array.isArray(t))for(const n of t)Qm(e,n);else!1===t||("string"==typeof t?e.appendChild(n.createTextNode(t)):t instanceof Node?e.appendChild(t):e.appendChild(n.createTextNode(String(t))))}function eg({buttonLabel:e,onClick:t}){const n=Jm("button",{type:"button",className:"widget__actor","aria-label":e,"aria-hidden":"false"},function(){const e=e=>Dm.document.createElementNS("http://www.w3.org/2000/svg",e),t=Xm(e("svg"),{class:"feedback-icon",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"}),n=Xm(e("g"),{clipPath:"url(#clip0_57_80)"}),o=Xm(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});t.appendChild(n).appendChild(o);const r=e("defs"),i=Xm(e("clipPath"),{id:"clip0_57_80"}),s=Xm(e("rect"),{width:"20",height:"20",fill:"white"});return i.appendChild(s),r.appendChild(i),t.appendChild(r).appendChild(i).appendChild(s),{get el(){return t}}}().el,e?Jm("span",{className:"widget__actor__text"},e):null);return n.addEventListener("click",(function(e){t&&t(e)})),{get el(){return n},show:()=>{n.classList.remove("widget__actor--hidden"),n.setAttribute("aria-hidden","false")},hide:()=>{n.classList.add("widget__actor--hidden"),n.setAttribute("aria-hidden","true")}}}function tg(e,t){const n=e.get(t);return"string"==typeof n?n.trim():""}function ng({nameLabel:e,namePlaceholder:t,emailLabel:n,emailPlaceholder:o,messageLabel:r,messagePlaceholder:i,isRequiredLabel:s,cancelButtonLabel:a,submitButtonLabel:l,showName:c,showEmail:d,isNameRequired:u,isEmailRequired:p,defaultName:m,defaultEmail:g,onCancel:h,onSubmit:f}){const{el:_}=function({label:e}){return{el:Jm("button",{type:"submit",className:"btn btn--primary","aria-label":e},e)}}({label:l});const v=Jm("div",{className:"form__error-container form__error-container--hidden","aria-hidden":"true"});const y=Jm("input",{id:"name",type:c?"text":"hidden","aria-hidden":c?"false":"true",name:"name",required:u,className:"form__input",placeholder:t,value:m}),w=Jm("input",{id:"email",type:d?"text":"hidden","aria-hidden":d?"false":"true",name:"email",required:p,className:"form__input",placeholder:o,value:g}),b=Jm("textarea",{id:"message",autoFocus:"true",rows:"5",name:"message",required:!0,className:"form__input form__input--textarea",placeholder:i}),E=Jm("button",{type:"button",className:"btn btn--default","aria-label":a,onClick:e=>{h&&h(e)}},a),x=Jm("form",{className:"form",onSubmit:function(e){if(e.preventDefault(),e.target instanceof HTMLFormElement)try{if(f){const t=new FormData(e.target),n={name:tg(t,"name"),email:tg(t,"email"),message:tg(t,"message")};f(n)}}catch(e){}}},[v,c&&Jm("label",{htmlFor:"name",className:"form__label"},[Jm("span",{className:"form__label__text"},e,u&&Jm("span",{className:"form__label__text--required"},` ${s}`)),y]),!c&&y,d&&Jm("label",{htmlFor:"email",className:"form__label"},[Jm("span",{className:"form__label__text"},n,p&&Jm("span",{className:"form__label__text--required"},` ${s}`)),w]),!d&&w,Jm("label",{htmlFor:"message",className:"form__label"},[Jm("span",{className:"form__label__text"},r,Jm("span",{className:"form__label__text--required"},` ${s}`)),b]),Jm("div",{className:"btn-group"},[_,E])]);return{get el(){return x},showError:function(e){v.textContent=e,v.classList.remove("form__error-container--hidden"),v.setAttribute("aria-hidden","false")},hideError:function(){v.textContent="",v.classList.add("form__error-container--hidden"),v.setAttribute("aria-hidden","true")}}}function og({formTitle:e,showBranding:t,showName:n,showEmail:o,isNameRequired:r,isEmailRequired:i,colorScheme:s,defaultName:a,defaultEmail:l,onClosed:c,onCancel:d,onSubmit:u,...p}){let m=null;function g(){m&&(m.open=!1)}const{el:h,showError:f,hideError:_}=ng({showEmail:o,showName:n,isEmailRequired:i,isNameRequired:r,defaultName:a,defaultEmail:l,onSubmit:u,onCancel:d,...p});return m=Jm("dialog",{className:"dialog",open:!0,onClick:function(){g(),c&&c()}},Jm("div",{className:"dialog__content",onClick:e=>{e.stopPropagation()}},Jm("h2",{className:"dialog__header"},e,t&&Jm("a",{className:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer"},function({colorScheme:e}){const t=e=>Dm.document.createElementNS("http://www.w3.org/2000/svg",e),n=Xm(t("svg"),{class:"sentry-logo",width:"32",height:"30",viewBox:"0 0 72 66",fill:"none"}),o=Xm(t("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});n.append(o);const r=t("defs"),i=t("style");return i.textContent=`\n    path {\n      fill: ${"dark"===e?"#fff":"#362d59"};\n    }`,"system"===e&&(i.textContent+="\n    @media (prefers-color-scheme: dark) {\n      path: {\n        fill: '#fff';\n      }\n    }\n    "),r.append(i),n.append(r),{get el(){return n}}}({colorScheme:s}).el)),h)),{get el(){return m},showError:f,hideError:_,open:function(){m&&(m.open=!0)},close:g,checkIsOpen:function(){return m&&!0===m.open||!1}}}function rg({message:e,onRemove:t}){function n(){o&&(o.remove(),t&&t())}const o=Jm("div",{className:"success-message",onClick:n},function(){const e=e=>Dm.document.createElementNS("http://www.w3.org/2000/svg",e),t=Xm(e("svg"),{class:"success-icon",width:"16",height:"17",viewBox:"0 0 16 17",fill:"none"}),n=Xm(e("g"),{clipPath:"url(#clip0_57_156)"}),o=Xm(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),r=Xm(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});t.appendChild(n).append(r,o);const i=e("defs"),s=Xm(e("clipPath"),{id:"clip0_57_156"}),a=Xm(e("rect"),{width:"16",height:"16",fill:"white",transform:"translate(0 0.5)"});return s.appendChild(a),i.appendChild(s),t.appendChild(i).appendChild(s).appendChild(a),{get el(){return t}}}().el,e);return{el:o,remove:n}}function ig({shadow:e,options:{shouldCreateActor:t=!0,...n},attachTo:o}){let r,i,s=!1;async function a(t){if(!i)return;const o=[];if(n.isNameRequired&&!t.name&&o.push(n.nameLabel),n.isEmailRequired&&!t.email&&o.push(n.emailLabel),t.message||o.push(n.messageLabel),o.length>0)return void i.showError(`Please enter in the following required fields: ${o.join(", ")}`);await Km(i,t)?(m(),function(){if(e)try{const t=rg({message:n.successMessageText,onRemove:()=>{o&&clearTimeout(o),c()}});if(!t.el)throw new Error("Unable to show success message");e.appendChild(t.el);const o=setTimeout((()=>{t&&t.remove()}),5e3)}catch(e){rr.error(e)}}(),n.onSubmitSuccess&&n.onSubmitSuccess()):n.onSubmitError&&n.onSubmitError()}function l(){const e=ws(),t=e&&e.getIntegrationByName&&e.getIntegrationByName("Replay");t&&t.flush().catch((e=>{Gm&&rr.error(e)}))}function c(){r&&r.show()}function d(){r&&r.hide()}function u(){try{if(i)return i.open(),s=!0,n.onFormOpen&&n.onFormOpen(),void l();const t=n.useSentryUser,o=bs(),r=o&&o.getUser();if(i=og({colorScheme:n.colorScheme,showBranding:n.showBranding,showName:n.showName||n.isNameRequired,showEmail:n.showEmail||n.isEmailRequired,isNameRequired:n.isNameRequired,isEmailRequired:n.isEmailRequired,formTitle:n.formTitle,cancelButtonLabel:n.cancelButtonLabel,submitButtonLabel:n.submitButtonLabel,emailLabel:n.emailLabel,emailPlaceholder:n.emailPlaceholder,messageLabel:n.messageLabel,messagePlaceholder:n.messagePlaceholder,nameLabel:n.nameLabel,namePlaceholder:n.namePlaceholder,isRequiredLabel:n.isRequiredLabel,defaultName:t&&r&&r[t.name]||"",defaultEmail:t&&r&&r[t.email]||"",onClosed:()=>{c(),s=!1,n.onFormClose&&n.onFormClose()},onCancel:()=>{p(),c()},onSubmit:a}),!i.el)throw new Error("Unable to open Feedback dialog");e.appendChild(i.el),d(),n.onFormOpen&&n.onFormOpen(),l()}catch(e){rr.error(e)}}function p(){i&&(i.close(),s=!1,n.onFormClose&&n.onFormClose())}function m(){if(i){p();const e=i.el;e&&e.remove(),i=void 0}}function g(){s||u(),d()}return o?o.addEventListener("click",g):t&&(r=eg({buttonLabel:n.buttonLabel,onClick:g}),r.el&&e.appendChild(r.el)),{get actor(){return r},get dialog(){return i},showActor:c,hideActor:d,removeActor:function(){r&&r.el&&r.el.remove()},openDialog:u,closeDialog:p,removeDialog:m}}const sg=Dm.document;class ag{static __initStatic(){this.id="Feedback"}constructor({autoInject:e=!0,id:t="sentry-feedback",isEmailRequired:n=!1,isNameRequired:o=!1,showBranding:r=!0,showEmail:i=!0,showName:s=!0,useSentryUser:a={email:"email",name:"username"},themeDark:l,themeLight:c,colorScheme:d="system",buttonLabel:u="Report a Bug",cancelButtonLabel:p="Cancel",submitButtonLabel:m="Send Bug Report",formTitle:g="Report a Bug",emailPlaceholder:h="your.email@example.org",emailLabel:f="Email",messagePlaceholder:_="What's the bug? What did you expect?",messageLabel:v="Description",namePlaceholder:y="Your Name",nameLabel:w="Name",isRequiredLabel:b="(required)",successMessageText:E="Thank you for your report!",onFormClose:x,onFormOpen:S,onSubmitError:T,onSubmitSuccess:$}={}){this.name=ag.id,this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1,this.options={autoInject:e,showBranding:r,id:t,isEmailRequired:n,isNameRequired:o,showEmail:i,showName:s,useSentryUser:a,colorScheme:d,themeDark:{...Fm,...l},themeLight:{...Hm,...c},buttonLabel:u,cancelButtonLabel:p,submitButtonLabel:m,formTitle:g,emailLabel:f,emailPlaceholder:h,messageLabel:v,messagePlaceholder:_,nameLabel:w,namePlaceholder:y,isRequiredLabel:b,successMessageText:E,onFormClose:x,onFormOpen:S,onSubmitError:T,onSubmitSuccess:$}}setupOnce(){if(mi())try{this._cleanupWidgetIfExists();const{autoInject:e}=this.options;if(!e)return;this._createWidget(this.options)}catch(e){Gm&&rr.error(e)}}openDialog(){this._widget||this._createWidget({...this.options,shouldCreateActor:!1}),this._widget&&this._widget.openDialog()}closeDialog(){this._widget&&this._widget.closeDialog()}attachTo(e,t){try{const n=Vm(this.options,t||{});return this._ensureShadowHost(n,(({shadow:t})=>{const o="string"==typeof e?sg.querySelector(e):"function"==typeof e.addEventListener?e:null;if(!o)return Gm&&rr.error("[Feedback] Unable to attach to target element"),null;const r=ig({shadow:t,options:n,attachTo:o});return this._widgets.add(r),this._widget||(this._widget=r),r}))}catch(e){return Gm&&rr.error(e),null}}createWidget(e){try{return this._createWidget(Vm(this.options,e||{}))}catch(e){return Gm&&rr.error(e),null}}removeWidget(e){if(!e)return!1;try{if(this._widgets.has(e))return e.removeActor(),e.removeDialog(),this._widgets.delete(e),this._widget===e&&(this._widget=null),!0}catch(e){Gm&&rr.error(e)}return!1}getWidget(){return this._widget}remove(){this._host&&this._host.remove(),this._initialize()}_initialize(){this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1}_cleanupWidgetIfExists(){this._host&&this.remove();const e=sg.querySelector(`#${this.options.id}`);e&&e.remove()}_createWidget(e){return this._ensureShadowHost(e,(({shadow:t})=>{const n=ig({shadow:t,options:e});return!this._hasInsertedActorStyles&&n.actor&&(t.appendChild(function(e){const t=e.createElement("style");return t.textContent="\n.widget__actor {\n  position: fixed;\n  left: var(--left);\n  right: var(--right);\n  bottom: var(--bottom);\n  top: var(--top);\n  z-index: var(--z-index);\n\n  line-height: 16px;\n\n  display: flex;\n  align-items: center;\n  gap: 8px;\n\n  border-radius: var(--border-radius);\n  cursor: pointer;\n  font-family: inherit;\n  font-size: var(--font-size);\n  font-weight: 600;\n  padding: 16px;\n  text-decoration: none;\n  z-index: 9000;\n\n  color: var(--foreground);\n  background-color: var(--background);\n  border: var(--border);\n  box-shadow: var(--box-shadow);\n  opacity: 1;\n  transition: opacity 0.1s ease-in-out;\n}\n\n.widget__actor:hover {\n  background-color: var(--background-hover);\n}\n\n.widget__actor svg {\n  width: 16px;\n  height: 16px;\n}\n\n.widget__actor--hidden {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n}\n\n.widget__actor__text {\n}\n\n@media (max-width: 600px) {\n  .widget__actor__text {\n    display: none;\n  }\n}\n\n.feedback-icon path {\n  fill: var(--foreground);\n}\n",t}(sg)),this._hasInsertedActorStyles=!0),this._widgets.add(n),this._widget||(this._widget=n),n}))}_ensureShadowHost(e,t){let n=!1;if(!this._shadow||!this._host){const{id:t,colorScheme:o,themeLight:r,themeDark:i}=e,{shadow:s,host:a}=Zm({id:t,colorScheme:o,themeLight:r,themeDark:i});this._shadow=s,this._host=a,n=!0}this._host.dataset.sentryFeedbackColorscheme=e.colorScheme;const o=t({shadow:this._shadow,host:this._host});return n&&sg.body.appendChild(this._host),o}}ag.__initStatic();const lg="CaptureConsole",cg=(e={})=>{const t=e.levels||tr;return{name:lg,setupOnce(){},setup(e){"console"in Vo&&kr((({args:n,level:o})=>{ws()===e&&t.includes(o)&&function(e,t){const n={level:Di(t),extra:{arguments:e}};ys((o=>{if(o.addEventProcessor((e=>(e.logger="console",Or(e,{handled:!1,type:"console"}),e))),"assert"===t&&!1===e[0]){const t=`Assertion failed: ${Uo(e.slice(1)," ")||"console.assert"}`;return o.setExtra("arguments",e.slice(1)),void fs(t,n)}const r=e.find((e=>e instanceof Error));if("error"===t&&r)return void hs(r,n);fs(Uo(e," "),n)}))}(n,o)}))}}};ta(lg,cg);const dg="Debug",ug=(e={})=>{const t={debugger:!1,stringify:!1,...e};return{name:dg,setupOnce(){},setup(e){e.on&&e.on("beforeSendEvent",((e,n)=>{t.debugger,or((()=>{t.stringify?(console.log(JSON.stringify(e,null,2)),n&&Object.keys(n).length&&console.log(JSON.stringify(n,null,2))):(console.log(e),n&&Object.keys(n).length&&console.log(n))}))}))}}};ta(dg,ug);const pg="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,mg="Dedupe";function gg(e,t){let n=_g(e),o=_g(t);if(!n&&!o)return!0;if(n&&!o||!n&&o)return!1;if(o.length!==n.length)return!1;for(let e=0;e<o.length;e++){const t=o[e],r=n[e];if(t.filename!==r.filename||t.lineno!==r.lineno||t.colno!==r.colno||t.function!==r.function)return!1}return!0}function hg(e,t){let n=e.fingerprint,o=t.fingerprint;if(!n&&!o)return!0;if(n&&!o||!n&&o)return!1;try{return!(n.join("")!==o.join(""))}catch(e){return!1}}function fg(e){return e.exception&&e.exception.values&&e.exception.values[0]}function _g(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}}ta(mg,(()=>{let e;return{name:mg,setupOnce(){},processEvent(t){if(t.type)return t;try{if(function(e,t){if(!t)return!1;if(function(e,t){const n=e.message,o=t.message;if(!n&&!o)return!1;if(n&&!o||!n&&o)return!1;if(n!==o)return!1;if(!hg(e,t))return!1;if(!gg(e,t))return!1;return!0}(e,t))return!0;if(function(e,t){const n=fg(t),o=fg(e);if(!n||!o)return!1;if(n.type!==o.type||n.value!==o.value)return!1;if(!hg(e,t))return!1;if(!gg(e,t))return!1;return!0}(e,t))return!0;return!1}(t,e))return pg&&rr.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){}return e=t}}}));const vg="ExtraErrorData";function yg(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}ta(vg,((e={})=>{const t=e.depth||3,n=e.captureErrorCause||!1;return{name:vg,setupOnce(){},processEvent:(e,o)=>function(e,t={},n,o){if(!t.originalException||!To(t.originalException))return e;const r=t.originalException.name||t.originalException.constructor.name,i=function(e,t){try{const n=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],o={};for(const t of Object.keys(e)){if(-1!==n.indexOf(t))continue;const r=e[t];o[t]=To(r)?r.toString():r}if(t&&void 0!==e.cause&&(o.cause=To(e.cause)?e.cause.toString():e.cause),"function"==typeof e.toJSON){const t=e.toJSON();for(const e of Object.keys(t)){const n=t[e];o[e]=To(n)?n.toString():n}}return o}catch(e){pg&&rr.error("Unable to extract extra data from the Error object:",e)}return null}(t.originalException,o);if(i){const t={...e.contexts},o=gi(i,n);return Ao(o)&&(ur(o,"__sentry_skip_normalization__",!0),t[r]=o),{...e,contexts:t}}return e}(e,o,t,n)}}));var wg={exports:{}};
/*!
      localForage -- Offline Storage, Improved
      Version 1.10.0
      https://localforage.github.io/localForage
      (c) 2013-2017 Mozilla, Apache License 2.0
  */!function(e){e.exports=function e(t,n,o){function r(s,a){if(!n[s]){if(!t[s]){if(!a&&yg)return yg(s);if(i)return i(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[s]={exports:{}};t[s][0].call(c.exports,(function(e){var n=t[s][1][e];return r(n||e)}),c,c.exports,e,t,n,o)}return n[s].exports}for(var i=yg,s=0;s<o.length;s++)r(o[s]);return r}({1:[function(e,t,n){(function(e){var n,o,r=e.MutationObserver||e.WebKitMutationObserver;if(r){var i=0,s=new r(d),a=e.document.createTextNode("");s.observe(a,{characterData:!0}),n=function(){a.data=i=++i%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){d(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(d,0)};else{var l=new e.MessageChannel;l.port1.onmessage=d,n=function(){l.port2.postMessage(0)}}var c=[];function d(){var e,t;o=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}o=!1}function u(e){1!==c.push(e)||o||n()}t.exports=u}).call(this,void 0!==Sn?Sn:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){var o=e(1);function r(){}var i={},s=["REJECTED"],a=["FULFILLED"],l=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==r&&m(this,e)}function d(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function u(e,t,n){o((function(){var o;try{o=t(n)}catch(t){return i.reject(e,t)}o===e?i.reject(e,new TypeError("Cannot resolve promise with itself")):i.resolve(e,o)}))}function p(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function m(e,t){var n=!1;function o(t){n||(n=!0,i.reject(e,t))}function r(t){n||(n=!0,i.resolve(e,t))}function s(){t(r,o)}var a=g(s);"error"===a.status&&o(a.value)}function g(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}function h(e){return e instanceof this?e:i.resolve(new this(r),e)}function f(e){var t=new this(r);return i.reject(t,e)}function _(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,o=!1;if(!n)return this.resolve([]);for(var s=new Array(n),a=0,l=-1,c=new this(r);++l<n;)d(e[l],l);return c;function d(e,r){function l(e){s[r]=e,++a!==n||o||(o=!0,i.resolve(c,s))}t.resolve(e).then(l,(function(e){o||(o=!0,i.reject(c,e))}))}}function v(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,o=!1;if(!n)return this.resolve([]);for(var s=-1,a=new this(r);++s<n;)l(e[s]);return a;function l(e){t.resolve(e).then((function(e){o||(o=!0,i.resolve(a,e))}),(function(e){o||(o=!0,i.reject(a,e))}))}}t.exports=c,c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===a||"function"!=typeof t&&this.state===s)return this;var n=new this.constructor(r);return this.state!==l?u(n,this.state===a?e:t,this.outcome):this.queue.push(new d(n,e,t)),n},d.prototype.callFulfilled=function(e){i.resolve(this.promise,e)},d.prototype.otherCallFulfilled=function(e){u(this.promise,this.onFulfilled,e)},d.prototype.callRejected=function(e){i.reject(this.promise,e)},d.prototype.otherCallRejected=function(e){u(this.promise,this.onRejected,e)},i.resolve=function(e,t){var n=g(p,t);if("error"===n.status)return i.reject(e,n.value);var o=n.value;if(o)m(e,o);else{e.state=a,e.outcome=t;for(var r=-1,s=e.queue.length;++r<s;)e.queue[r].callFulfilled(t)}return e},i.reject=function(e,t){e.state=s,e.outcome=t;for(var n=-1,o=e.queue.length;++n<o;)e.queue[n].callRejected(t);return e},c.resolve=h,c.reject=f,c.all=_,c.race=v},{1:1}],3:[function(e,t,n){(function(t){"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,void 0!==Sn?Sn:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,n){var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}var s=i();function a(){try{if(!s||!s.open)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}function l(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(r){if("TypeError"!==r.name)throw r;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),o=0;o<e.length;o+=1)n.append(e[o]);return n.getBlob(t.type)}}"undefined"==typeof Promise&&e(3);var c=Promise;function d(e,t){t&&e.then((function(e){t(null,e)}),(function(e){t(e)}))}function u(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function p(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function m(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var g="local-forage-detect-blob-support",h=void 0,f={},_=Object.prototype.toString,v="readonly",y="readwrite";function w(e){for(var t=e.length,n=new ArrayBuffer(t),o=new Uint8Array(n),r=0;r<t;r++)o[r]=e.charCodeAt(r);return n}function b(e){return new c((function(t){var n=e.transaction(g,y),o=l([""]);n.objectStore(g).put(o,"key"),n.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}})).catch((function(){return!1}))}function E(e){return"boolean"==typeof h?c.resolve(h):b(e).then((function(e){return h=e}))}function x(e){var t=f[e.name],n={};n.promise=new c((function(e,t){n.resolve=e,n.reject=t})),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then((function(){return n.promise})):t.dbReady=n.promise}function S(e){var t=f[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function T(e,t){var n=f[e.name].deferredOperations.pop();if(n)return n.reject(t),n.promise}function $(e,t){return new c((function(n,o){if(f[e.name]=f[e.name]||D(),e.db){if(!t)return n(e.db);x(e),e.db.close()}var r=[e.name];t&&r.push(e.version);var i=s.open.apply(s,r);t&&(i.onupgradeneeded=function(t){var n=i.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(g)}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),i.onerror=function(e){e.preventDefault(),o(i.error)},i.onsuccess=function(){var t=i.result;t.onversionchange=function(e){e.target.close()},n(t),S(e)}}))}function C(e){return $(e,!1)}function k(e){return $(e,!0)}function L(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),o=e.version<e.db.version,r=e.version>e.db.version;if(o&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),r||n){if(n){var i=e.db.version+1;i>e.version&&(e.version=i)}return!0}return!1}function M(e){return new c((function(t,n){var o=new FileReader;o.onerror=n,o.onloadend=function(n){var o=btoa(n.target.result||"");t({__local_forage_encoded_blob:!0,data:o,type:e.type})},o.readAsBinaryString(e)}))}function I(e){return l([w(atob(e.data))],{type:e.type})}function A(e){return e&&e.__local_forage_encoded_blob}function R(e){var t=this,n=t._initReady().then((function(){var e=f[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady}));return u(n,e,e),n}function O(e){x(e);for(var t=f[e.name],n=t.forages,o=0;o<n.length;o++){var r=n[o];r._dbInfo.db&&(r._dbInfo.db.close(),r._dbInfo.db=null)}return e.db=null,C(e).then((function(t){return e.db=t,L(e)?k(e):t})).then((function(o){e.db=t.db=o;for(var r=0;r<n.length;r++)n[r]._dbInfo.db=o})).catch((function(t){throw T(e,t),t}))}function N(e,t,n,o){void 0===o&&(o=1);try{var r=e.db.transaction(e.storeName,t);n(null,r)}catch(r){if(o>0&&(!e.db||"InvalidStateError"===r.name||"NotFoundError"===r.name))return c.resolve().then((function(){if(!e.db||"NotFoundError"===r.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),k(e)})).then((function(){return O(e).then((function(){N(e,t,n,o-1)}))})).catch(n);n(r)}}function D(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function P(e){var t=this,n={db:null};if(e)for(var o in e)n[o]=e[o];var r=f[n.name];r||(r=D(),f[n.name]=r),r.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=R);var i=[];function s(){return c.resolve()}for(var a=0;a<r.forages.length;a++){var l=r.forages[a];l!==t&&i.push(l._initReady().catch(s))}var d=r.forages.slice(0);return c.all(i).then((function(){return n.db=r.db,C(n)})).then((function(e){return n.db=e,L(n,t._defaultConfig.version)?k(n):e})).then((function(e){n.db=r.db=e,t._dbInfo=n;for(var o=0;o<d.length;o++){var i=d[o];i!==t&&(i._dbInfo.db=n.db,i._dbInfo.version=n.version)}}))}function B(e,t){var n=this;e=p(e);var o=new c((function(t,o){n.ready().then((function(){N(n._dbInfo,v,(function(r,i){if(r)return o(r);try{var s=i.objectStore(n._dbInfo.storeName).get(e);s.onsuccess=function(){var e=s.result;void 0===e&&(e=null),A(e)&&(e=I(e)),t(e)},s.onerror=function(){o(s.error)}}catch(e){o(e)}}))})).catch(o)}));return d(o,t),o}function z(e,t){var n=this,o=new c((function(t,o){n.ready().then((function(){N(n._dbInfo,v,(function(r,i){if(r)return o(r);try{var s=i.objectStore(n._dbInfo.storeName).openCursor(),a=1;s.onsuccess=function(){var n=s.result;if(n){var o=n.value;A(o)&&(o=I(o));var r=e(o,n.key,a++);void 0!==r?t(r):n.continue()}else t()},s.onerror=function(){o(s.error)}}catch(e){o(e)}}))})).catch(o)}));return d(o,t),o}function U(e,t,n){var o=this;e=p(e);var r=new c((function(n,r){var i;o.ready().then((function(){return i=o._dbInfo,"[object Blob]"===_.call(t)?E(i.db).then((function(e){return e?t:M(t)})):t})).then((function(t){N(o._dbInfo,y,(function(i,s){if(i)return r(i);try{var a=s.objectStore(o._dbInfo.storeName);null===t&&(t=void 0);var l=a.put(t,e);s.oncomplete=function(){void 0===t&&(t=null),n(t)},s.onabort=s.onerror=function(){var e=l.error?l.error:l.transaction.error;r(e)}}catch(e){r(e)}}))})).catch(r)}));return d(r,n),r}function H(e,t){var n=this;e=p(e);var o=new c((function(t,o){n.ready().then((function(){N(n._dbInfo,y,(function(r,i){if(r)return o(r);try{var s=i.objectStore(n._dbInfo.storeName).delete(e);i.oncomplete=function(){t()},i.onerror=function(){o(s.error)},i.onabort=function(){var e=s.error?s.error:s.transaction.error;o(e)}}catch(e){o(e)}}))})).catch(o)}));return d(o,t),o}function F(e){var t=this,n=new c((function(e,n){t.ready().then((function(){N(t._dbInfo,y,(function(o,r){if(o)return n(o);try{var i=r.objectStore(t._dbInfo.storeName).clear();r.oncomplete=function(){e()},r.onabort=r.onerror=function(){var e=i.error?i.error:i.transaction.error;n(e)}}catch(e){n(e)}}))})).catch(n)}));return d(n,e),n}function j(e){var t=this,n=new c((function(e,n){t.ready().then((function(){N(t._dbInfo,v,(function(o,r){if(o)return n(o);try{var i=r.objectStore(t._dbInfo.storeName).count();i.onsuccess=function(){e(i.result)},i.onerror=function(){n(i.error)}}catch(e){n(e)}}))})).catch(n)}));return d(n,e),n}function W(e,t){var n=this,o=new c((function(t,o){e<0?t(null):n.ready().then((function(){N(n._dbInfo,v,(function(r,i){if(r)return o(r);try{var s=i.objectStore(n._dbInfo.storeName),a=!1,l=s.openKeyCursor();l.onsuccess=function(){var n=l.result;n?0===e||a?t(n.key):(a=!0,n.advance(e)):t(null)},l.onerror=function(){o(l.error)}}catch(e){o(e)}}))})).catch(o)}));return d(o,t),o}function q(e){var t=this,n=new c((function(e,n){t.ready().then((function(){N(t._dbInfo,v,(function(o,r){if(o)return n(o);try{var i=r.objectStore(t._dbInfo.storeName).openKeyCursor(),s=[];i.onsuccess=function(){var t=i.result;t?(s.push(t.key),t.continue()):e(s)},i.onerror=function(){n(i.error)}}catch(e){n(e)}}))})).catch(n)}));return d(n,e),n}function G(e,t){t=m.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var o,r=this;if(e.name){var i=e.name===n.name&&r._dbInfo.db?c.resolve(r._dbInfo.db):C(e).then((function(t){var n=f[e.name],o=n.forages;n.db=t;for(var r=0;r<o.length;r++)o[r]._dbInfo.db=t;return t}));o=e.storeName?i.then((function(t){if(t.objectStoreNames.contains(e.storeName)){var n=t.version+1;x(e);var o=f[e.name],r=o.forages;t.close();for(var i=0;i<r.length;i++){var a=r[i];a._dbInfo.db=null,a._dbInfo.version=n}var l=new c((function(t,o){var r=s.open(e.name,n);r.onerror=function(e){r.result.close(),o(e)},r.onupgradeneeded=function(){r.result.deleteObjectStore(e.storeName)},r.onsuccess=function(){var e=r.result;e.close(),t(e)}}));return l.then((function(e){o.db=e;for(var t=0;t<r.length;t++){var n=r[t];n._dbInfo.db=e,S(n._dbInfo)}})).catch((function(t){throw(T(e,t)||c.resolve()).catch((function(){})),t}))}})):i.then((function(t){x(e);var n=f[e.name],o=n.forages;t.close();for(var r=0;r<o.length;r++)o[r]._dbInfo.db=null;var i=new c((function(t,n){var o=s.deleteDatabase(e.name);o.onerror=function(){var e=o.result;e&&e.close(),n(o.error)},o.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},o.onsuccess=function(){var e=o.result;e&&e.close(),t(e)}}));return i.then((function(e){n.db=e;for(var t=0;t<o.length;t++)S(o[t]._dbInfo)})).catch((function(t){throw(T(e,t)||c.resolve()).catch((function(){})),t}))}))}else o=c.reject("Invalid arguments");return d(o,t),o}var V={_driver:"asyncStorage",_initStorage:P,_support:a(),iterate:z,getItem:B,setItem:U,removeItem:H,clear:F,length:j,key:W,keys:q,dropInstance:G};function Y(){return"function"==typeof openDatabase}var Z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",K="~~local_forage_type~",X=/^~~local_forage_type~([^~]+)~/,J="__lfsc__:",Q=J.length,ee="arbf",te="blob",ne="si08",oe="ui08",re="uic8",ie="si16",se="si32",ae="ur16",le="ui32",ce="fl32",de="fl64",ue=Q+ee.length,pe=Object.prototype.toString;function me(e){var t,n,o,r,i,s=.75*e.length,a=e.length,l=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var c=new ArrayBuffer(s),d=new Uint8Array(c);for(t=0;t<a;t+=4)n=Z.indexOf(e[t]),o=Z.indexOf(e[t+1]),r=Z.indexOf(e[t+2]),i=Z.indexOf(e[t+3]),d[l++]=n<<2|o>>4,d[l++]=(15&o)<<4|r>>2,d[l++]=(3&r)<<6|63&i;return c}function ge(e){var t,n=new Uint8Array(e),o="";for(t=0;t<n.length;t+=3)o+=Z[n[t]>>2],o+=Z[(3&n[t])<<4|n[t+1]>>4],o+=Z[(15&n[t+1])<<2|n[t+2]>>6],o+=Z[63&n[t+2]];return n.length%3==2?o=o.substring(0,o.length-1)+"=":n.length%3==1&&(o=o.substring(0,o.length-2)+"=="),o}function he(e,t){var n="";if(e&&(n=pe.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===pe.call(e.buffer))){var o,r=J;e instanceof ArrayBuffer?(o=e,r+=ee):(o=e.buffer,"[object Int8Array]"===n?r+=ne:"[object Uint8Array]"===n?r+=oe:"[object Uint8ClampedArray]"===n?r+=re:"[object Int16Array]"===n?r+=ie:"[object Uint16Array]"===n?r+=ae:"[object Int32Array]"===n?r+=se:"[object Uint32Array]"===n?r+=le:"[object Float32Array]"===n?r+=ce:"[object Float64Array]"===n?r+=de:t(new Error("Failed to get type for BinaryArray"))),t(r+ge(o))}else if("[object Blob]"===n){var i=new FileReader;i.onload=function(){var n=K+e.type+"~"+ge(this.result);t(J+te+n)},i.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(n){console.error("Couldn't convert value into a JSON string: ",e),t(null,n)}}function fe(e){if(e.substring(0,Q)!==J)return JSON.parse(e);var t,n=e.substring(ue),o=e.substring(Q,ue);if(o===te&&X.test(n)){var r=n.match(X);t=r[1],n=n.substring(r[0].length)}var i=me(n);switch(o){case ee:return i;case te:return l([i],{type:t});case ne:return new Int8Array(i);case oe:return new Uint8Array(i);case re:return new Uint8ClampedArray(i);case ie:return new Int16Array(i);case ae:return new Uint16Array(i);case se:return new Int32Array(i);case le:return new Uint32Array(i);case ce:return new Float32Array(i);case de:return new Float64Array(i);default:throw new Error("Unkown type: "+o)}}var _e={serialize:he,deserialize:fe,stringToBuffer:me,bufferToString:ge};function ve(e,t,n,o){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,o)}function ye(e){var t=this,n={db:null};if(e)for(var o in e)n[o]="string"!=typeof e[o]?e[o].toString():e[o];var r=new c((function(e,o){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(e){return o(e)}n.db.transaction((function(r){ve(r,n,(function(){t._dbInfo=n,e()}),(function(e,t){o(t)}))}),o)}));return n.serializer=_e,r}function we(e,t,n,o,r,i){e.executeSql(n,o,r,(function(e,s){s.code===s.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],(function(e,a){a.rows.length?i(e,s):ve(e,t,(function(){e.executeSql(n,o,r,i)}),i)}),i):i(e,s)}),i)}function be(e,t){var n=this;e=p(e);var o=new c((function(t,o){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){we(n,r,"SELECT * FROM "+r.storeName+" WHERE key = ? LIMIT 1",[e],(function(e,n){var o=n.rows.length?n.rows.item(0).value:null;o&&(o=r.serializer.deserialize(o)),t(o)}),(function(e,t){o(t)}))}))})).catch(o)}));return d(o,t),o}function Ee(e,t){var n=this,o=new c((function(t,o){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){we(n,r,"SELECT * FROM "+r.storeName,[],(function(n,o){for(var i=o.rows,s=i.length,a=0;a<s;a++){var l=i.item(a),c=l.value;if(c&&(c=r.serializer.deserialize(c)),void 0!==(c=e(c,l.key,a+1)))return void t(c)}t()}),(function(e,t){o(t)}))}))})).catch(o)}));return d(o,t),o}function xe(e,t,n,o){var r=this;e=p(e);var i=new c((function(i,s){r.ready().then((function(){void 0===t&&(t=null);var a=t,l=r._dbInfo;l.serializer.serialize(t,(function(t,c){c?s(c):l.db.transaction((function(n){we(n,l,"INSERT OR REPLACE INTO "+l.storeName+" (key, value) VALUES (?, ?)",[e,t],(function(){i(a)}),(function(e,t){s(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(o>0)return void i(xe.apply(r,[e,a,n,o-1]));s(t)}}))}))})).catch(s)}));return d(i,n),i}function Se(e,t,n){return xe.apply(this,[e,t,n,1])}function Te(e,t){var n=this;e=p(e);var o=new c((function(t,o){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){we(n,r,"DELETE FROM "+r.storeName+" WHERE key = ?",[e],(function(){t()}),(function(e,t){o(t)}))}))})).catch(o)}));return d(o,t),o}function $e(e){var t=this,n=new c((function(e,n){t.ready().then((function(){var o=t._dbInfo;o.db.transaction((function(t){we(t,o,"DELETE FROM "+o.storeName,[],(function(){e()}),(function(e,t){n(t)}))}))})).catch(n)}));return d(n,e),n}function Ce(e){var t=this,n=new c((function(e,n){t.ready().then((function(){var o=t._dbInfo;o.db.transaction((function(t){we(t,o,"SELECT COUNT(key) as c FROM "+o.storeName,[],(function(t,n){var o=n.rows.item(0).c;e(o)}),(function(e,t){n(t)}))}))})).catch(n)}));return d(n,e),n}function ke(e,t){var n=this,o=new c((function(t,o){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){we(n,r,"SELECT key FROM "+r.storeName+" WHERE id = ? LIMIT 1",[e+1],(function(e,n){var o=n.rows.length?n.rows.item(0).key:null;t(o)}),(function(e,t){o(t)}))}))})).catch(o)}));return d(o,t),o}function Le(e){var t=this,n=new c((function(e,n){t.ready().then((function(){var o=t._dbInfo;o.db.transaction((function(t){we(t,o,"SELECT key FROM "+o.storeName,[],(function(t,n){for(var o=[],r=0;r<n.rows.length;r++)o.push(n.rows.item(r).key);e(o)}),(function(e,t){n(t)}))}))})).catch(n)}));return d(n,e),n}function Me(e){return new c((function(t,n){e.transaction((function(o){o.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,o){for(var r=[],i=0;i<o.rows.length;i++)r.push(o.rows.item(i).name);t({db:e,storeNames:r})}),(function(e,t){n(t)}))}),(function(e){n(e)}))}))}function Ie(e,t){t=m.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var o,r=this;return o=e.name?new c((function(t){var o;o=e.name===n.name?r._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?t({db:o,storeNames:[e.storeName]}):t(Me(o))})).then((function(e){return new c((function(t,n){e.db.transaction((function(o){function r(e){return new c((function(t,n){o.executeSql("DROP TABLE IF EXISTS "+e,[],(function(){t()}),(function(e,t){n(t)}))}))}for(var i=[],s=0,a=e.storeNames.length;s<a;s++)i.push(r(e.storeNames[s]));c.all(i).then((function(){t()})).catch((function(e){n(e)}))}),(function(e){n(e)}))}))})):c.reject("Invalid arguments"),d(o,t),o}var Ae={_driver:"webSQLStorage",_initStorage:ye,_support:Y(),iterate:Ee,getItem:be,setItem:Se,removeItem:Te,clear:$e,length:Ce,key:ke,keys:Le,dropInstance:Ie};function Re(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}function Oe(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}function Ne(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(e){return!0}}function De(){return!Ne()||localStorage.length>0}function Pe(e){var t=this,n={};if(e)for(var o in e)n[o]=e[o];return n.keyPrefix=Oe(e,t._defaultConfig),De()?(t._dbInfo=n,n.serializer=_e,c.resolve()):c.reject()}function Be(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var o=localStorage.key(n);0===o.indexOf(e)&&localStorage.removeItem(o)}}));return d(n,e),n}function ze(e,t){var n=this;e=p(e);var o=n.ready().then((function(){var t=n._dbInfo,o=localStorage.getItem(t.keyPrefix+e);return o&&(o=t.serializer.deserialize(o)),o}));return d(o,t),o}function Ue(e,t){var n=this,o=n.ready().then((function(){for(var t=n._dbInfo,o=t.keyPrefix,r=o.length,i=localStorage.length,s=1,a=0;a<i;a++){var l=localStorage.key(a);if(0===l.indexOf(o)){var c=localStorage.getItem(l);if(c&&(c=t.serializer.deserialize(c)),void 0!==(c=e(c,l.substring(r),s++)))return c}}}));return d(o,t),o}function He(e,t){var n=this,o=n.ready().then((function(){var t,o=n._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(o.keyPrefix.length)),t}));return d(o,t),o}function Fe(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo,n=localStorage.length,o=[],r=0;r<n;r++){var i=localStorage.key(r);0===i.indexOf(e.keyPrefix)&&o.push(i.substring(e.keyPrefix.length))}return o}));return d(n,e),n}function je(e){var t=this.keys().then((function(e){return e.length}));return d(t,e),t}function We(e,t){var n=this;e=p(e);var o=n.ready().then((function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)}));return d(o,t),o}function qe(e,t,n){var o=this;e=p(e);var r=o.ready().then((function(){void 0===t&&(t=null);var n=t;return new c((function(r,i){var s=o._dbInfo;s.serializer.serialize(t,(function(t,o){if(o)i(o);else try{localStorage.setItem(s.keyPrefix+e,t),r(n)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||i(e),i(e)}}))}))}));return d(r,n),r}function Ge(e,t){if(t=m.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var o,r=this;return o=e.name?new c((function(t){e.storeName?t(Oe(e,r._defaultConfig)):t(e.name+"/")})).then((function(e){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}})):c.reject("Invalid arguments"),d(o,t),o}var Ve={_driver:"localStorageWrapper",_initStorage:Pe,_support:Re(),iterate:Ue,getItem:ze,setItem:qe,removeItem:We,clear:Be,length:je,key:He,keys:Fe,dropInstance:Ge},Ye=function(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)},Ze=function(e,t){for(var n=e.length,o=0;o<n;){if(Ye(e[o],t))return!0;o++}return!1},Ke=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Xe={},Je={},Qe={INDEXEDDB:V,WEBSQL:Ae,LOCALSTORAGE:Ve},et=[Qe.INDEXEDDB._driver,Qe.WEBSQL._driver,Qe.LOCALSTORAGE._driver],tt=["dropInstance"],nt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(tt),ot={description:"",driver:et.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function rt(e,t){e[t]=function(){var n=arguments;return e.ready().then((function(){return e[t].apply(e,n)}))}}function it(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(Ke(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}var st=function(){function e(t){for(var n in r(this,e),Qe)if(Qe.hasOwnProperty(n)){var o=Qe[n],i=o._driver;this[n]=i,Xe[i]||this.defineDriver(o)}this._defaultConfig=it({},ot),this._config=it({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":o(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,n){var o=new c((function(t,n){try{var o=e._driver,r=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void n(r);for(var i=nt.concat("_initStorage"),s=0,a=i.length;s<a;s++){var l=i[s];if((!Ze(tt,l)||e[l])&&"function"!=typeof e[l])return void n(r)}var u=function(){for(var t=function(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver"),n=c.reject(t);return d(n,arguments[arguments.length-1]),n}},n=0,o=tt.length;n<o;n++){var r=tt[n];e[r]||(e[r]=t(r))}};u();var p=function(n){Xe[o]&&console.info("Redefining LocalForage driver: "+o),Xe[o]=e,Je[o]=n,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(p,n):p(!!e._support):p(!0)}catch(e){n(e)}}));return u(o,t,n),o},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,n){var o=Xe[e]?c.resolve(Xe[e]):c.reject(new Error("Driver not found."));return u(o,t,n),o},e.prototype.getSerializer=function(e){var t=c.resolve(_e);return u(t,e),t},e.prototype.ready=function(e){var t=this,n=t._driverSet.then((function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready}));return u(n,e,e),n},e.prototype.setDriver=function(e,t,n){var o=this;Ke(e)||(e=[e]);var r=this._getSupportedDrivers(e);function i(){o._config.driver=o.driver()}function s(e){return o._extend(e),i(),o._ready=o._initStorage(o._config),o._ready}function a(e){return function(){var t=0;function n(){for(;t<e.length;){var r=e[t];return t++,o._dbInfo=null,o._ready=null,o.getDriver(r).then(s).catch(n)}i();var a=new Error("No available storage method found.");return o._driverSet=c.reject(a),o._driverSet}return n()}}var l=null!==this._driverSet?this._driverSet.catch((function(){return c.resolve()})):c.resolve();return this._driverSet=l.then((function(){var e=r[0];return o._dbInfo=null,o._ready=null,o.getDriver(e).then((function(e){o._driver=e._driver,i(),o._wrapLibraryMethodsWithReady(),o._initDriver=a(r)}))})).catch((function(){i();var e=new Error("No available storage method found.");return o._driverSet=c.reject(e),o._driverSet})),u(this._driverSet,t,n),this._driverSet},e.prototype.supports=function(e){return!!Je[e]},e.prototype._extend=function(e){it(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,o=e.length;n<o;n++){var r=e[n];this.supports(r)&&t.push(r)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=nt.length;e<t;e++)rt(this,nt[e])},e.prototype.createInstance=function(t){return new e(t)},e}(),at=new st;t.exports=at},{3:3}]},{},[4])(4)}(wg);const bg=Vo;class Eg{static __initStatic(){this.id="Offline"}constructor(e={}){this.name=Eg.id,this.maxStoredEvents=e.maxStoredEvents||30,this.offlineEventStore=wg.exports.createInstance({name:"sentry/offlineEventStore"})}setupOnce(e,t){this.hub=t(),"addEventListener"in bg&&bg.addEventListener("online",(()=>{this._sendEvents().catch((()=>{pg&&rr.warn("could not send cached events")}))}));const n=e=>this.hub&&this.hub.getIntegration(Eg)&&"navigator"in bg&&"onLine"in bg.navigator&&!bg.navigator.onLine?(pg&&rr.log("Event dropped due to being a offline - caching instead"),this._cacheEvent(e).then((e=>this._enforceMaxEvents())).catch((e=>{pg&&rr.warn("could not cache event while offline")})),null):e;n.id=this.name,e(n),"navigator"in bg&&"onLine"in bg.navigator&&bg.navigator.onLine&&this._sendEvents().catch((()=>{pg&&rr.warn("could not send cached events")}))}async _cacheEvent(e){return this.offlineEventStore.setItem(Mr(),gi(e))}async _enforceMaxEvents(){const e=[];return this.offlineEventStore.iterate(((t,n,o)=>{e.push({cacheKey:n,event:t})})).then((()=>this._purgeEvents(e.sort(((e,t)=>(t.event.timestamp||0)-(e.event.timestamp||0))).slice(this.maxStoredEvents<e.length?this.maxStoredEvents:e.length).map((e=>e.cacheKey))))).catch((e=>{pg&&rr.warn("could not enforce max events")}))}async _purgeEvent(e){return this.offlineEventStore.removeItem(e)}async _purgeEvents(e){return Promise.all(e.map((e=>this._purgeEvent(e)))).then()}async _sendEvents(){return this.offlineEventStore.iterate(((e,t,n)=>{this.hub?(this.hub.captureEvent(e),this._purgeEvent(t).catch((e=>{pg&&rr.warn("could not purge event from cache")}))):pg&&rr.warn("no hub found - could not send cached event")}))}}Eg.__initStatic();const xg=Vo,Sg="ReportingObserver",Tg=new WeakMap,$g=(e={})=>{const t=e.types||["crash","deprecation","intervention"];function n(e){if(Tg.has(ws()))for(const t of e)ys((e=>{e.setExtra("url",t.url);const n=`ReportingObserver [${t.type}]`;let o="No details available";if(t.body){const n={};for(const e in t.body)n[e]=t.body[e];if(e.setExtra("body",n),"crash"===t.type){const e=t.body;o=[e.crashId||"",e.reason||""].join(" ").trim()||o}else{o=t.body.message||o}}fs(`${n}: ${o}`)}))}return{name:Sg,setupOnce(){if(!("ReportingObserver"in Wr))return;new xg.ReportingObserver(n,{buffered:!0,types:t}).observe()},setup(e){Tg.set(e,!0)}}};ta(Sg,$g);const Cg="RewriteFrames",kg=(e={})=>{const t=e.root,n=e.prefix||"app:///",o=e.iteratee||(e=>{if(!e.filename)return e;const o=/^[a-zA-Z]:\\/.test(e.filename)||e.filename.includes("\\")&&!e.filename.includes("/"),r=/^\//.test(e.filename);if(o||r){const r=o?e.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):e.filename,i=t?function(e,t){e=vi(e).slice(1),t=vi(t).slice(1);const n=yi(e.split("/")),o=yi(t.split("/")),r=Math.min(n.length,o.length);let i=r;for(let e=0;e<r;e++)if(n[e]!==o[e]){i=e;break}let s=[];for(let e=i;e<n.length;e++)s.push("..");return s=s.concat(o.slice(i)),s.join("/")}(t,r):wi(r);e.filename=`${n}${i}`}return e});return{name:Cg,setupOnce(){},processEvent(e){let t=e;return e.exception&&Array.isArray(e.exception.values)&&(t=function(e){try{return{...e,exception:{...e.exception,values:e.exception.values.map((e=>{return{...e,...e.stacktrace&&{stacktrace:(t=e.stacktrace,{...t,frames:t&&t.frames&&t.frames.map((e=>o(e)))})}};var t}))}}}catch(t){return e}}(t)),t}}};ta(Cg,kg);const Lg="SessionTiming",Mg=()=>{const e=Date.now();return{name:Lg,setupOnce(){},processEvent(t){const n=Date.now();return{...t,extra:{...t.extra,"session:start":e,"session:duration":n-e,"session:end":n}}}}};ta(Lg,Mg);const Ig="Transaction";function Ag(e){return e.module||e.function?`${e.module||"?"}/${e.function||"?"}`:"<unknown>"}ta(Ig,(()=>({name:Ig,setupOnce(){},processEvent(e){const t=function(e){const t=e.exception&&e.exception.values&&e.exception.values[0];return t&&t.stacktrace&&t.stacktrace.frames||[]}(e);for(let n=t.length-1;n>=0;n--){const o=t[n];if(!0===o.in_app){e.transaction=Ag(o);break}}return e}})));const Rg="HttpClient",Og=(e={})=>{const t={failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/],...e};return{name:Rg,setupOnce(){},setup(e){!function(e,t){if(!Gr())return;Vr((n=>{if(ws()!==e)return;const{response:o,args:r}=n,[i,s]=r;o&&function(e,t,n,o){if(Pg(e,n.status,n.url)){const e=function(e,t){if(!t&&e instanceof Request)return e;if(e instanceof Request&&e.bodyUsed)return e;return new Request(e,t)}(t,o);let r,i,s,a;zg()&&([{headers:r,cookies:s},{headers:i,cookies:a}]=[{cookieHeader:"Cookie",obj:e},{cookieHeader:"Set-Cookie",obj:n}].map((({cookieHeader:e,obj:t})=>{const n=function(e){const t={};return e.forEach(((e,n)=>{t[n]=e})),t}(t.headers);let o;try{const t=n[e]||n[e.toLowerCase()]||void 0;t&&(o=Dg(t))}catch(t){pg&&rr.log(`Could not extract cookies from header ${e}`)}return{headers:n,cookies:o}})));_s(Bg({url:e.url,method:e.method,status:n.status,requestHeaders:r,responseHeaders:i,requestCookies:s,responseCookies:a}))}}(t,i,o,s)}))}(e,t),function(e,t){if(!("XMLHttpRequest"in Vo))return;li((n=>{if(ws()!==e)return;const o=n.xhr,r=o[ai];if(!r)return;const{method:i,request_headers:s}=r;try{!function(e,t,n,o){if(Pg(e,t.status,t.responseURL)){let e,r,i;if(zg()){try{const e=t.getResponseHeader("Set-Cookie")||t.getResponseHeader("set-cookie")||void 0;e&&(r=Dg(e))}catch(e){pg&&rr.log("Could not extract cookies from response headers")}try{i=function(e){const t=e.getAllResponseHeaders();if(!t)return{};return t.split("\r\n").reduce(((e,t)=>{const[n,o]=t.split(": ");return e[n]=o,e}),{})}(t)}catch(e){pg&&rr.log("Could not extract headers from response")}e=o}_s(Bg({url:t.responseURL,method:n,status:t.status,requestHeaders:e,responseHeaders:i,responseCookies:r}))}}(t,o,i,s)}catch(e){pg&&rr.warn("Error while extracting response event form XHR response",e)}}))}(e,t)}}};function Ng(e){if(e){const t=e["Content-Length"]||e["content-length"];if(t)return parseInt(t,10)}}function Dg(e){return e.split("; ").reduce(((e,t)=>{const[n,o]=t.split("=");return e[n]=o,e}),{})}function Pg(e,t,n){return function(e,t){return e.some((e=>"number"==typeof e?e===t:t>=e[0]&&t<=e[1]))}(e.failedRequestStatusCodes,t)&&(o=e.failedRequestTargets,r=n,o.some((e=>"string"==typeof e?r.includes(e):e.test(r))))&&!fa(n,ws());var o,r}function Bg(e){const t=`HTTP Client Error with status code: ${e.status}`,n={message:t,exception:{values:[{type:"Error",value:t}]},request:{url:e.url,method:e.method,headers:e.requestHeaders,cookies:e.requestCookies},contexts:{response:{status_code:e.status,headers:e.responseHeaders,cookies:e.responseCookies,body_size:Ng(e.responseHeaders)}}};return Or(n,{type:"http.client",handled:!1}),n}function zg(){const e=ws();return!!e&&Boolean(e.getOptions().sendDefaultPii)}ta(Rg,Og);const Ug=Vo,Hg="ContextLines",Fg=(e={})=>{const t=null!=e.frameContextLines?e.frameContextLines:7;return{name:Hg,setupOnce(){},processEvent:e=>function(e,t){const n=Ug.document,o=Ug.location&&Ci(Ug.location.href);if(!n||!o)return e;const r=e.exception&&e.exception.values;if(!r||!r.length)return e;const i=n.documentElement.innerHTML;if(!i)return e;const s=["<!DOCTYPE html>","<html>",...i.split("\n"),"</html>"];return r.forEach((e=>{const n=e.stacktrace;n&&n.frames&&(n.frames=n.frames.map((e=>function(e,t,n,o){if(e.filename!==n||!e.lineno||!t.length)return e;return function(e,t,n=5){if(void 0===t.lineno)return;const o=e.length,r=Math.max(Math.min(o-1,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,r-n),r).map((e=>zo(e,0))),t.context_line=zo(e[Math.min(o-1,r)],t.colno||0),t.post_context=e.slice(Math.min(r+1,o),r+1+n).map((e=>zo(e,0)))}(t,e,o),e}(e,s,o,t))))})),e}(e,t)}};ta(Hg,Fg);const jg=1e6,Wg=String(0),qg="main";let Gg="",Vg="",Yg="",Zg=vl.navigator&&vl.navigator.userAgent||"",Kg="";const Xg=vl.navigator&&vl.navigator.language||vl.navigator&&vl.navigator.languages&&vl.navigator.languages[0]||"";const Jg=vl.navigator&&vl.navigator.userAgentData;var Qg;function eh(e){return function(e){return!("thread_metadata"in e)}(e)?function(e){let t,n=0;const o={samples:[],stacks:[],frames:[],thread_metadata:{[Wg]:{name:qg}}};if(!e.samples.length)return o;const r=e.samples[0].timestamp,i="number"==typeof performance.timeOrigin?performance.timeOrigin:zi||0,s=i-(zi||i);for(let i=0;i<e.samples.length;i++){const a=e.samples[i];if(void 0===a.stackId){void 0===t&&(t=n,o.stacks[t]=[],n++),o.samples[i]={elapsed_since_start_ns:((a.timestamp+s-r)*jg).toFixed(0),stack_id:t,thread_id:Wg};continue}let l=e.stacks[a.stackId];const c=[];for(;l;){c.push(l.frameId);const t=e.frames[l.frameId];void 0===o.frames[l.frameId]&&(o.frames[l.frameId]={function:t.name,abs_path:"number"==typeof t.resourceId?e.resources[t.resourceId]:void 0,lineno:t.line,colno:t.column}),l=void 0===l.parentId?void 0:e.stacks[l.parentId]}const d={elapsed_since_start_ns:((a.timestamp+s-r)*jg).toFixed(0),stack_id:n,thread_id:Wg};o.stacks[n]=c,o.samples[i]=d,n++}return o}(e):e}function th(e,t,n,o){if("transaction"!==o.type)throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(null==n)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${n} instead.`);const r=function(e){const t=e&&e.contexts&&e.contexts.trace&&e.contexts.trace.trace_id;return"string"==typeof t&&32!==t.length&&El&&rr.log(`[Profiling] Invalid traceId: ${t} on profiled event`),"string"!=typeof t?"":t}(o),i=eh(n),s=t||("number"==typeof o.start_timestamp?1e3*o.start_timestamp:Date.now()),a="number"==typeof o.timestamp?1e3*o.timestamp:Date.now();return{event_id:e,timestamp:new Date(s).toISOString(),platform:"javascript",version:"1",release:o.release||"",environment:o.environment||ts,runtime:{name:"javascript",version:vl.navigator.userAgent},os:{name:Gg,version:Vg,build_number:Zg},device:{locale:Xg,model:Kg,manufacturer:Zg,architecture:Yg,is_emulator:!1},debug_meta:{images:rh(n.resources)},profile:i,transactions:[{name:o.transaction||"",id:o.event_id||Mr(),trace_id:r,active_thread_id:Wg,relative_start_ns:"0",relative_end_ns:(1e6*(a-s)).toFixed(0)}]}}function nh(e){return"pageload"===e.op}"object"==typeof(Qg=Jg)&&null!==Qg&&"getHighEntropyValues"in Qg&&Jg.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then((e=>{if(Gg=e.platform||"",Yg=e.architecture||"",Kg=e.model||"",Vg=e.platformVersion||"",e.fullVersionList&&e.fullVersionList.length>0){const t=e.fullVersionList[e.fullVersionList.length-1];Zg=`${t.brand} ${t.version}`}})).catch((e=>{}));const oh=new WeakMap;function rh(e){const t=Vo._sentryDebugIds;if(!t)return[];const n=ws(),o=n&&n.getOptions(),r=o&&o.stackParser;if(!r)return[];let i;const s=oh.get(r);s?i=s:(i=new Map,oh.set(r,i));const a=Object.keys(t).reduce(((e,n)=>{let o;const s=i.get(n);s?o=s:(o=r(n),i.set(n,o));for(let r=o.length-1;r>=0;r--){const i=o[r],s=i&&i.filename;if(i&&s){e[s]=t[n];break}}return e}),{}),l=[];for(const t of e)t&&a[t]&&l.push({type:"sourcemap",code_file:t,debug_id:a[t]});return l}let ih=!1;function sh(e){if(ih)return El&&rr.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!e.isRecording())return El&&rr.log("[Profiling] Discarding profile because transaction was not sampled."),!1;const t=ws(),n=t&&t.getOptions();if(!n)return El&&rr.log("[Profiling] Profiling disabled, no options found."),!1;const o=n.profilesSampleRate;if(!("number"!=typeof(r=o)&&"boolean"!=typeof r||"number"==typeof r&&isNaN(r)?(El&&rr.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(r)} of type ${JSON.stringify(typeof r)}.`),0):!0===r||!1===r||!(r<0||r>1)||(El&&rr.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${r}.`),0)))return El&&rr.warn("[Profiling] Discarding profile because of invalid sample rate."),!1;var r;if(!o)return El&&rr.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1;return!!(!0===o||Math.random()<o)||(El&&rr.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(o)})`),!1)}function ah(e,t,n,o){return function(e){return e.samples.length<2?(El&&rr.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):!!e.frames.length||(El&&rr.log("[Profiling] Discarding profile because it contains no frames"),!1)}(n)?th(e,t,n,o):null}const lh=new Map;function ch(e){const t=lh.get(e);return t&&lh.delete(e),t}function dh(e){let t;nh(e)&&(t=1e3*Bi());const n=function(){const e=vl.Profiler;if("function"!=typeof e)return void(El&&rr.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object."));const t=Math.floor(3e3);try{return new e({sampleInterval:10,maxBufferSize:t})}catch(e){El&&(rr.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),rr.log("[Profiling] Disabling profiling for current user session.")),ih=!0}}();if(!n)return e;El&&rr.log(`[Profiling] started profiling transaction: ${cs(e).description}`);const o=Mr();async function r(){return e&&n?n.stop().then((t=>(i&&(vl.clearTimeout(i),i=void 0),El&&rr.log(`[Profiling] stopped profiling of transaction: ${cs(e).description}`),t?(function(e,t){if(lh.set(e,t),lh.size>30){const e=lh.keys().next().value;lh.delete(e)}}(o,t),null):(El&&rr.log(`[Profiling] profiler returned null profile for: ${cs(e).description}`,"this may indicate an overlapping transaction or a call to stopProfiling with a profile title that was never started"),null)))).catch((e=>(El&&rr.log("[Profiling] error while stopping profiler:",e),null))):null}let i=vl.setTimeout((()=>{El&&rr.log("[Profiling] max profile duration elapsed, stopping profiling for:",cs(e).description),r()}),3e4);const s=e.end.bind(e);return e.end=function(){return e?(r().then((()=>{e.setContext("profile",{profile_id:o,start_timestamp:t}),s()}),(()=>{s()})),e):s()},e}const uh="BrowserProfiling",ph=()=>({name:uh,setupOnce(){},setup(e){const t=bs().getTransaction();t&&nh(t)&&sh(t)&&dh(t),"function"==typeof e.on?(e.on("startTransaction",(e=>{sh(e)&&dh(e)})),e.on("beforeEnvelope",(e=>{if(!lh.size)return;const t=function(e){const t=[];return Fi(e,((e,n)=>{if("transaction"===n)for(let n=1;n<e.length;n++){const o=e[n];o&&o.contexts&&o.contexts.profile&&o.contexts.profile.profile_id&&t.push(e[n])}})),t}(e);if(!t.length)return;const n=[];for(const e of t){const t=e&&e.contexts,o=t&&t.profile&&t.profile.profile_id,r=t&&t.profile&&t.profile.start_timestamp;if("string"!=typeof o){El&&rr.log("[Profiling] cannot find profile for a transaction without a profile context");continue}if(!o){El&&rr.log("[Profiling] cannot find profile for a transaction without a profile context");continue}t&&t.profile&&delete t.profile;const i=ch(o);if(!i){El&&rr.log(`[Profiling] Could not retrieve profile for transaction: ${o}`);continue}const s=ah(o,r,i,e);s&&n.push(s)}!function(e,t){if(!t.length)return e;for(const n of t)e[1].push([{type:"profile"},n])}(e,n)}))):rr.warn("[Profiling] Client does not support hooks, profiling will be disabled")}});ta(uh,ph);let mh={};function gh(){}vl.Sentry&&vl.Sentry.Integrations&&(mh=vl.Sentry.Integrations);const hh=e=>e;function fh(e){return e()}function _h(){return Object.create(null)}function vh(e){e.forEach(fh)}function yh(e){return"function"==typeof e}function wh(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function bh(e,...t){if(null==e){for(const e of t)e(void 0);return gh}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function Eh(e,t,n){e.$$.on_destroy.push(bh(t,n))}function xh(e,t,n,o){if(e){const r=Sh(e,t,n,o);return e[0](r)}}function Sh(e,t,n,o){return e[1]&&o?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](o(t))):n.ctx}function Th(e,t,n,o){if(e[2]&&o){const r=e[2](o(n));if(void 0===t.dirty)return r;if("object"==typeof r){const e=[],n=Math.max(t.dirty.length,r.length);for(let o=0;o<n;o+=1)e[o]=t.dirty[o]|r[o];return e}return t.dirty|r}return t.dirty}function $h(e,t,n,o,r,i){if(r){const s=Sh(t,n,o,i);e.p(s,r)}}function Ch(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}function kh(e){return null==e?"":e}function Lh(e,t,n){return e.set(n),t}function Mh(e){return e&&yh(e.destroy)?e.destroy:gh}function Ih(e){const t="string"==typeof e&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}const Ah="undefined"!=typeof window;let Rh=Ah?()=>window.performance.now():()=>Date.now(),Oh=Ah?e=>requestAnimationFrame(e):gh;const Nh=new Set;function Dh(e){Nh.forEach((t=>{t.c(e)||(Nh.delete(t),t.f())})),0!==Nh.size&&Oh(Dh)}function Ph(e){let t;return 0===Nh.size&&Oh(Dh),{promise:new Promise((n=>{Nh.add(t={c:e,f:n})})),abort(){Nh.delete(t)}}}function Bh(e,t){e.appendChild(t)}function zh(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function Uh(e){const t=Wh("style");return t.textContent="/* empty */",function(e,t){Bh(e.head||e,t),t.sheet}(zh(e),t),t.sheet}function Hh(e,t,n){e.insertBefore(t,n||null)}function Fh(e){e.parentNode&&e.parentNode.removeChild(e)}function jh(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function Wh(e){return document.createElement(e)}function qh(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Gh(e){return document.createTextNode(e)}function Vh(){return Gh(" ")}function Yh(){return Gh("")}function Zh(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function Kh(e){return function(t){return t.preventDefault(),e.call(this,t)}}function Xh(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function Jh(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Qh(e,t){t=""+t,e.data!==t&&(e.data=t)}function ef(e,t){e.value=null==t?"":t}function tf(e,t,n,o){null==n?e.style.removeProperty(t):e.style.setProperty(t,n,o?"important":"")}function nf(e,t,n){for(let n=0;n<e.options.length;n+=1){const o=e.options[n];if(o.__value===t)return void(o.selected=!0)}n&&void 0===t||(e.selectedIndex=-1)}let of;function rf(){if(void 0===of){of=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(e){of=!0}}return of}function sf(e,t,n){e.classList.toggle(t,!!n)}function af(e,t,{bubbles:n=!1,cancelable:o=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:o})}class lf{is_svg=!1;e=void 0;n=void 0;t=void 0;a=void 0;constructor(e=!1){this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.is_svg?this.e=qh(t.nodeName):this.e=Wh(11===t.nodeType?"TEMPLATE":t.nodeName),this.t="TEMPLATE"!==t.tagName?t:t.content,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from("TEMPLATE"===this.e.nodeName?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)Hh(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(Fh)}}function cf(e,t){return new e(t)}const df=new Map;let uf,pf=0;function mf(e,t,n,o,r,i,s,a=0){const l=16.666/o;let c="{\n";for(let e=0;e<=1;e+=l){const o=t+(n-t)*i(e);c+=100*e+`%{${s(o,1-o)}}\n`}const d=c+`100% {${s(n,1-n)}}\n}`,u=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(d)}_${a}`,p=zh(e),{stylesheet:m,rules:g}=df.get(p)||function(e,t){const n={stylesheet:Uh(t),rules:{}};return df.set(e,n),n}(p,e);g[u]||(g[u]=!0,m.insertRule(`@keyframes ${u} ${d}`,m.cssRules.length));const h=e.style.animation||"";return e.style.animation=`${h?`${h}, `:""}${u} ${o}ms linear ${r}ms 1 both`,pf+=1,u}function gf(e,t){const n=(e.style.animation||"").split(", "),o=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),r=n.length-o.length;r&&(e.style.animation=o.join(", "),pf-=r,pf||Oh((()=>{pf||(df.forEach((e=>{const{ownerNode:t}=e.stylesheet;t&&Fh(t)})),df.clear())})))}function hf(e){uf=e}function ff(){if(!uf)throw new Error("Function called outside component initialization");return uf}function _f(e){ff().$$.on_mount.push(e)}function vf(e){ff().$$.on_destroy.push(e)}function yf(){const e=ff();return(t,n,{cancelable:o=!1}={})=>{const r=e.$$.callbacks[t];if(r){const i=af(t,n,{cancelable:o});return r.slice().forEach((t=>{t.call(e,i)})),!i.defaultPrevented}return!0}}function wf(e,t){return ff().$$.context.set(e,t),t}function bf(e){return ff().$$.context.get(e)}function Ef(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e.call(this,t)))}const xf=[],Sf=[];let Tf=[];const $f=[],Cf=Promise.resolve();let kf=!1;function Lf(){kf||(kf=!0,Cf.then(Nf))}function Mf(e){Tf.push(e)}function If(e){$f.push(e)}const Af=new Set;let Rf,Of=0;function Nf(){if(0!==Of)return;const e=uf;do{try{for(;Of<xf.length;){const e=xf[Of];Of++,hf(e),Df(e.$$)}}catch(e){throw xf.length=0,Of=0,e}for(hf(null),xf.length=0,Of=0;Sf.length;)Sf.pop()();for(let e=0;e<Tf.length;e+=1){const t=Tf[e];Af.has(t)||(Af.add(t),t())}Tf.length=0}while(xf.length);for(;$f.length;)$f.pop()();kf=!1,Af.clear(),hf(e)}function Df(e){if(null!==e.fragment){e.update(),vh(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Mf)}}function Pf(){return Rf||(Rf=Promise.resolve(),Rf.then((()=>{Rf=null}))),Rf}function Bf(e,t,n){e.dispatchEvent(af(`${t?"intro":"outro"}${n}`))}const zf=new Set;let Uf;function Hf(){Uf={r:0,c:[],p:Uf}}function Ff(){Uf.r||vh(Uf.c),Uf=Uf.p}function jf(e,t){e&&e.i&&(zf.delete(e),e.i(t))}function Wf(e,t,n,o){if(e&&e.o){if(zf.has(e))return;zf.add(e),Uf.c.push((()=>{zf.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}else o&&o()}const qf={duration:0};function Gf(e,t,n){const o={direction:"in"};let r,i,s=t(e,n,o),a=!1,l=0;function c(){r&&gf(e,r)}function d(){const{delay:t=0,duration:n=300,easing:o=hh,tick:d=gh,css:u}=s||qf;u&&(r=mf(e,0,1,n,t,o,u,l++)),d(0,1);const p=Rh()+t,m=p+n;i&&i.abort(),a=!0,Mf((()=>Bf(e,!0,"start"))),i=Ph((t=>{if(a){if(t>=m)return d(1,0),Bf(e,!0,"end"),c(),a=!1;if(t>=p){const e=o((t-p)/n);d(e,1-e)}}return a}))}let u=!1;return{start(){u||(u=!0,gf(e),yh(s)?(s=s(o),Pf().then(d)):d())},invalidate(){u=!1},end(){a&&(c(),a=!1)}}}function Vf(e,t,n){const o={direction:"out"};let r,i=t(e,n,o),s=!0;const a=Uf;let l;function c(){const{delay:t=0,duration:n=300,easing:o=hh,tick:c=gh,css:d}=i||qf;d&&(r=mf(e,1,0,n,t,o,d));const u=Rh()+t,p=u+n;Mf((()=>Bf(e,!1,"start"))),"inert"in e&&(l=e.inert,e.inert=!0),Ph((t=>{if(s){if(t>=p)return c(0,1),Bf(e,!1,"end"),--a.r||vh(a.c),!1;if(t>=u){const e=o((t-u)/n);c(1-e,e)}}return s}))}return a.r+=1,yh(i)?Pf().then((()=>{i=i(o),c()})):c(),{end(t){t&&"inert"in e&&(e.inert=l),t&&i.tick&&i.tick(1,0),s&&(r&&gf(e,r),s=!1)}}}function Yf(e,t,n,o){let r,i=t(e,n,{direction:"both"}),s=o?0:1,a=null,l=null,c=null;function d(){c&&gf(e,c)}function u(e,t){const n=e.b-s;return t*=Math.abs(n),{a:s,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function p(t){const{delay:n=0,duration:o=300,easing:p=hh,tick:m=gh,css:g}=i||qf,h={start:Rh()+n,b:t};t||(h.group=Uf,Uf.r+=1),"inert"in e&&(t?void 0!==r&&(e.inert=r):(r=e.inert,e.inert=!0)),a||l?l=h:(g&&(d(),c=mf(e,s,t,o,n,p,g)),t&&m(0,1),a=u(h,o),Mf((()=>Bf(e,t,"start"))),Ph((t=>{if(l&&t>l.start&&(a=u(l,o),l=null,Bf(e,a.b,"start"),g&&(d(),c=mf(e,s,a.b,a.duration,0,p,i.css))),a)if(t>=a.end)m(s=a.b,1-s),Bf(e,a.b,"end"),l||(a.b?d():--a.group.r||vh(a.group.c)),a=null;else if(t>=a.start){const e=t-a.start;s=a.a+a.d*p(e/a.duration),m(s,1-s)}return!(!a&&!l)})))}return{run(e){yh(i)?Pf().then((()=>{i=i({direction:e?"in":"out"}),p(e)})):p(e)},end(){d(),a=l=null}}}function Zf(e){return void 0!==e?.length?e:Array.from(e)}function Kf(e,t,n){const o=e.$$.props[t];void 0!==o&&(e.$$.bound[o]=n,n(e.$$.ctx[o]))}function Xf(e){e&&e.c()}function Jf(e,t,n){const{fragment:o,after_update:r}=e.$$;o&&o.m(t,n),Mf((()=>{const t=e.$$.on_mount.map(fh).filter(yh);e.$$.on_destroy?e.$$.on_destroy.push(...t):vh(t),e.$$.on_mount=[]})),r.forEach(Mf)}function Qf(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];Tf.forEach((o=>-1===e.indexOf(o)?t.push(o):n.push(o))),n.forEach((e=>e())),Tf=t}(n.after_update),vh(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function e_(e,t,n,o,r,i,s=null,a=[-1]){const l=uf;hf(e);const c=e.$$={fragment:null,ctx:[],props:i,update:gh,not_equal:r,bound:_h(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:_h(),dirty:a,skip_bound:!1,root:t.target||l.$$.root};s&&s(c.root);let d=!1;if(c.ctx=n?n(e,t.props||{},((t,n,...o)=>{const i=o.length?o[0]:n;return c.ctx&&r(c.ctx[t],c.ctx[t]=i)&&(!c.skip_bound&&c.bound[t]&&c.bound[t](i),d&&function(e,t){-1===e.$$.dirty[0]&&(xf.push(e),Lf(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(e,t)),n})):[],c.update(),d=!0,vh(c.before_update),c.fragment=!!o&&o(c.ctx),t.target){if(t.hydrate){const e=function(e){return Array.from(e.childNodes)}(t.target);c.fragment&&c.fragment.l(e),e.forEach(Fh)}else c.fragment&&c.fragment.c();t.intro&&jf(e.$$.fragment),Jf(e,t.target,t.anchor),Nf()}hf(l)}class t_{$$=void 0;$$set=void 0;$destroy(){Qf(this,1),this.$destroy=gh}$on(e,t){if(!yh(t))return gh;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const n_=[];function o_(e,t=gh){let n;const o=new Set;function r(t){if(wh(e,t)&&(e=t,n)){const t=!n_.length;for(const t of o)t[1](),n_.push(t,e);if(t){for(let e=0;e<n_.length;e+=2)n_[e][0](n_[e+1]);n_.length=0}}}function i(t){r(t(e))}return{set:r,update:i,subscribe:function(s,a=gh){const l=[s,a];return o.add(l),1===o.size&&(n=t(r,i)||gh),s(e),()=>{o.delete(l),0===o.size&&n&&(n(),n=null)}}}}const r_=function(){const{subscribe:e,set:t,update:n}=o_({});return chrome.storage.sync.get(null,(e=>{t(e),chrome.storage.local.get(["isLoggedIn","isProUser","translatorServiceType","writeServiceType","apiServiceType","docTranslatorServiceType","browserInstanceId","featureSet","hasTermbaseService"],(e=>{n((t=>({...t,...e})))}))})),chrome.storage.onChanged.addListener((e=>{const t=["a_t","r_t","i_t","accountId"];let o={};for(const[n,r]of Object.entries(e))!1===t.includes(n)&&(o[n]=r.newValue);if(Eo()){const e="background-color: #324054;padding: 3px; font-size:12px;color:#e1e8c3; font-weight:600";console.log(`%c${(new Date).toISOString()} UPDATE USER SETTINGS`,e,o)}return n((e=>({...e,...o}))),!0})),{subscribe:e,set:e=>chrome.storage.sync.set(e)}}(),i_=function(){const{subscribe:e,update:t}=o_({});return chrome.runtime.onMessage.addListener((function(e,n){switch(e.action){case"newWebsiteState":e.payload&&t((t=>({...t,[n.tab.id]:{...t[n.tab.id],...e.payload,error:e.payload.error?e.payload.error:void 0}})));break;case"resetWebsiteState":e.payload&&t((t=>({...t,[n.tab.id]:{...e.payload}})))}return!0})),{subscribe:e,fetchCurrentWebsiteSettings:()=>{chrome.tabs&&chrome.tabs.query({active:!0,currentWindow:!0},(function(e){chrome.tabs.sendMessage(e[0].id,{action:"dlGetWebsiteData"},(function(n){t((t=>({...t,[e[0].id]:{...t[e[0].id],...n}})))}))}))}}}();!function(e,t,n){const o=!Array.isArray(e),r=o?[e]:e;if(!r.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const i=t.length<2;return s=(e,n)=>{let s=!1;const a=[];let l=0,c=gh;const d=()=>{if(l)return;c();const r=t(o?a[0]:a,e,n);i?e(r):c=yh(r)?r:gh},u=r.map(((e,t)=>bh(e,(e=>{a[t]=e,l&=~(1<<t),s&&d()}),(()=>{l|=1<<t}))));return s=!0,d(),function(){vh(u),c(),s=!1}},{subscribe:o_(n,s).subscribe};var s}(i_,(async(e,t)=>{if(!chrome.tabs)return;t(e[(await chrome.tabs.query({active:!0,currentWindow:!0}))[0].id])})),function(){const{subscribe:e,set:n}=o_([]);t({action:"dlGetExperiments",payload:{forceFetch:!1}}).then((e=>n(e))),chrome.runtime.onMessage.addListener((function(e){if("dlExperimentsUpdated"===e.action)e.payload&&n(e.payload.experiments);return!0}))}();const s_=e=>!![/Receiving end does not exist/,/message channel closed before a response was received/,/Extension context invalidated/].some((t=>t.test(e))),a_={dsn:"https://f7c23f019d154c319e91e8de004727dc@errortracking.deepl.com/12",release:"deepl-browser-extension@1.28.0",environment:bo(),tracesSampleRate:xo()?.1:1,sampleRate:xo()?.1:1,ignoreErrors:[/Receiving end does not exist/,/message channel closed before a response was received/,/Extension context invalidated/],beforeSend(e){const t=e.message||e.exception&&e.exception.values&&e.exception.values[0].value||"";return s_(t)?null:e}};function l_(e,t){t.captureException(e)}const c_="PROTOCOL_ERROR",d_="NETWORK_ERROR",u_="FULL_PAGE_SERVER_ERROR",p_="-32003",m_="429",g_="403",h_="1045601",f_="1042902",__="ENTRY_NOT_FOUND",v_="TRANSLATED_INPUT_NOT_SET",y_="HTML_NODE_CHAR_LENGTH_TOO_LONG",w_="TRANSLATOR_FREE_ACCOUNT_LIMIT_EXCEEDED",b_="TRANSLATOR_ANONYMOUS_LIMIT_EXCEEDED",E_="TRANSLATOR_FREE_ANON_WITH_WRITE_PRO",x_="WRITE_ANON_OR_FREE_LIMIT_EXCEEDED",S_="WRITE_WITH_PRO_TRANSLATOR_LIMIT_EXCEEDED";class T_ extends Error{constructor(e,t){super(t),this.name=w_,this.limit=e,this.message=t}}class $_ extends Error{constructor(e,t){super(t),this.name=b_,this.limit=e,this.message=t}}class C_ extends Error{constructor(e,t){super(t),this.name=x_,this.limit=e,this.message=t}}class k_ extends Error{constructor(e,t){super(t),this.name=S_,this.limit=e,this.message=t}}function L_(e){let t;return{c(){t=Wh("div"),Jh(t,"class","dl-zendesk-icon svelte-1tytp0d")},m(e,n){Hh(e,t,n)},p:gh,i:gh,o:gh,d(e){e&&Fh(t)}}}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");function M_(e,t,n){let o,r,i,s;Eh(e,r_,(e=>n(1,o=e))),wf("text_direction",eo());const a=()=>{const e=window.location.pathname,t=YE(e);let n=!1;if(s!==t&&(n=!0,s=t),t){const e=ZE();if(!e)return;const o=KE(e)||XE(e,t);o&&o.processRefreshUI(n)}},l=async e=>{if("dlChangeActiveTabStatus"===e.action)if(e.payload.isActive)c();else{if(!document.hidden)return;d()}return!0},c=()=>{r&&clearInterval(r),r=setInterval(a,800)},d=()=>{clearInterval(r)};_f((()=>{const e=o.zendeskSuccessfulTranslations>=Tt;n(0,i=o?.featureSet?.customizations?.includes("zendesk")),e&&!i&&Lh(r_,o.isZendeskEnabled=!1,o),u()}));const u=()=>{c(),chrome.runtime.onMessage.addListener(l)};return vf((()=>{r&&d(),chrome.runtime.onMessage.removeListener(l),QE()})),e.$$.update=()=>{2&e.$$.dirty&&!o?.featureSet?.customizations?.includes("zendesk")&&o.zendeskSuccessfulTranslations>=Tt&&(Lh(r_,o.isZendeskEnabled=!1,o),ex()),3&e.$$.dirty&&!1===i&&o?.featureSet?.customizations?.includes("zendesk")&&(n(0,i=!0),Lh(r_,o.isZendeskEnabled=!0,o),c()),2&e.$$.dirty&&(o.isZendeskEnabled?c():ex())},[i,o]}class I_ extends t_{constructor(e){super(),e_(this,e,M_,L_,wh,{})}}class A_{static HTML_TAG_NAME="deepl-zendesk-controller";static createElement=(e=document)=>{const t=e.createElement(A_.HTML_TAG_NAME),n=new A_(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.showOnboarding=n.showOnboarding,t.getActiveTermbases=n.getActiveTermbases,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer)}createDOM=()=>{this.domElement.mainComponent=new I_({target:this.domElement.shadowContainer,props:{onClose:this.cleanupDOM,controller:this}})};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()};showOnboarding=()=>{this.domElement.mainComponent.showOnboarding()};getActiveTermbases=()=>this.domElement.mainComponent.getActiveTermbases()}function R_(e){const t=e-1;return t*t*t+1}function O_(e,{delay:t=0,duration:n=400,easing:o=hh}={}){const r=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:o,css:e=>"opacity: "+e*r}}function N_(e,{delay:t=0,duration:n=400,easing:o=R_,x:r=0,y:i=0,opacity:s=0}={}){const a=getComputedStyle(e),l=+a.opacity,c="none"===a.transform?"":a.transform,d=l*(1-s),[u,p]=Ih(r),[m,g]=Ih(i);return{delay:t,duration:n,easing:o,css:(e,t)=>`\n\t\t\ttransform: ${c} translate(${(1-e)*u}${p}, ${(1-e)*m}${g});\n\t\t\topacity: ${l-d*t}`}}function D_(e,{delay:t=0,duration:n=400,easing:o=R_,axis:r="y"}={}){const i=getComputedStyle(e),s=+i.opacity,a="y"===r?"height":"width",l=parseFloat(i[a]),c="y"===r?["top","bottom"]:["left","right"],d=c.map((e=>`${e[0].toUpperCase()}${e.slice(1)}`)),u=parseFloat(i[`padding${d[0]}`]),p=parseFloat(i[`padding${d[1]}`]),m=parseFloat(i[`margin${d[0]}`]),g=parseFloat(i[`margin${d[1]}`]),h=parseFloat(i[`border${d[0]}Width`]),f=parseFloat(i[`border${d[1]}Width`]);return{delay:t,duration:n,easing:o,css:e=>`overflow: hidden;opacity: ${Math.min(20*e,1)*s};${a}: ${e*l}px;padding-${c[0]}: ${e*u}px;padding-${c[1]}: ${e*p}px;margin-${c[0]}: ${e*m}px;margin-${c[1]}: ${e*g}px;border-${c[0]}-width: ${e*h}px;border-${c[1]}-width: ${e*f}px;`}}function P_(e,t){if(!e||!t)return!1;const n=/[\n\r\s]+/gm,o=e.replace(n,""),r=t.replace(n,"");return o.includes(r)}function B_(e,t,n){let o={block:"end",position:e.length};return t.forEach((t=>{const r=e.indexOf(`<${t}>`,n);r>-1&&r<o.position&&(o={block:t,position:r})})),[o.block,o.position]}function z_(e,t=[]){const n=[];let o=0,r=!1;for(;!r;){const[i,s]=B_(e,t,o);if("end"===i&&(r=!0),o<s&&n.push({block:"main",text:e.substring(o,s)}),r)break;const a=e.indexOf(`</${i}>`,s);-1===a?(n.push({block:i,text:e.substring(s+`<${i}>`.length)}),r=!0):(n.push({block:i,text:e.substring(s+`<${i}>`.length,a)}),o=a+`</${i}>`.length)}return n}function U_(e){return e.match(/[^\s.,:;'"]+|[.,:;'"]|\s+/g)||[]}function H_(e,t){const n=U_(e),o=U_(t),r=function(e,t,n){const o=n||((e,t)=>e===t),r=(()=>{let n=0;for(;o(e[n],t[n])&&n<e.length;)++n;return n})();if(r===e.length&&e.length===t.length)return[r];const i=(()=>{let n=e.length-1,i=t.length-1;for(;o(e[n],t[i])&&n>r&&i>r;)--n,--i;return e.length-n-1})(),s=e.length-r-i+1,a=t.length-r-i+1,l=s+a,c=new Map,d=new Map;c.set(1,0),d.set(1,null);for(let n=0;n<=l;++n)for(let l=-n;l<=n;l+=2){let u,p,m;for(l==-n||l!=n&&c.get(l-1)<c.get(l+1)?(u=c.get(l+1),m=[d.get(l+1),void 0,void 0]):(u=c.get(l-1)+1,m=[d.get(l-1),void 0,void 0]),p=u-l;u<s&&p<a&&o(e[u+r],t[p+r]);)++u,++p;if(u>=s&&p>=a){m[1]=s+i-1,m[2]=a+i-1;let e=-1,t=-1;const n=[];for(;m;)n.push([m[1],m[2]]),m=m[0];let o=[],l=null;for(;n.length;){const r=n.pop(),i=r[0],s=r[1],a=i-e,c=s-t,d=Math.min(a,c);a>d&&(l?l[0]+=a-d:(l=[a-d,0],o.push(l))),c>d&&(l?l[1]+=c-d:(l=[0,c-d],o.push(l))),d>0&&(o.push(d),l=null),e=i,t=s}return o[0]=o[0]-1+r,o}c.set(l,u),m[1]=u,m[2]=p,d.set(l,m)}throw new Error("[diff]","should not happen?")}(n,o),i=[];let s=0,a=0,l=0;for(;s<r.length;){const e=r[s];let t=0;for(let o=a+e-1;o>=a;o-=1)t+=n[o]?.match(/^\s/)?2:1;a+=e,l+=e;let c=0,d=0;if(a<n.length&&l<o.length&&n[a]?.match(/^\s/)&&o[l]?.match(/^\s/)&&(c-=1,d-=1,t+=1),i.push(t),s+=1,s<r.length){const[e,t]=r[s];for(let t=a+e-1;t>=a;t-=1)c+=n[t]?.match(/^\s/)?2:1;for(let e=l+t-1;e>=l;e-=1)d+=o[e]?.match(/^\s/)?2:1;i.push([Math.max(c,0),Math.max(d,0)]),s+=1,a+=e,l+=t}}return[i,n,o,r]}function F_(e,t){let n=0;const o=function(e,t){const n=H_(t,e),o=[];let r=0,i=0,s=0,a=0;return n[3].forEach((e=>{if(Array.isArray(e)&&"number"==typeof e[0]&&"number"==typeof e[1]){if(0!==e[1]){const t=n[2].slice(i,i+e[1]).join(""),l=n[1].slice(r,r+e[0]).join(""),c={original:l,replace:t};c.changeLength=t.length,c.changeOffset=s,c.originalLength=l.length,c.originalOffset=a,s+=t.length,a+=l.length,o.push(c)}r+=e[0],i+=e[1]}else{let t=0;n[2].slice(i,i+e).forEach((e=>t+=e.length)),s+=t;let o=0;n[1].slice(r,r+e).forEach((e=>o+=e.length)),a+=o,r+=e,i+=e}})),o}(e,t),r=[];for(let t of o){t.changeOffset>n&&r.push({isHighlighted:!1,text:e.substring(n,t.changeOffset)});const o=t.changeOffset+t.changeLength;r.push({isHighlighted:!0,text:e.substring(t.changeOffset,o)}),n=o}return n<e.length&&r.push({isHighlighted:!1,text:e.substring(n,e.length)}),r}const j_=e=>{let t="";for(const n of e.childNodes)n.nodeType===Node.TEXT_NODE?t+=n.textContent:n.nodeType===Node.ELEMENT_NODE&&"none"!==n.style.display&&(t+=j_(n));return t};function W_(e){return"IFRAME"===e.nodeName.toUpperCase()?V_(e):e.ownerDocument===document?window:e.ownerDocument}function q_(e){return e.ownerDocument===document?document:e.ownerDocument}function G_(e){return"IFRAME"!==e.nodeName.toUpperCase()?e:V_(e).body}function V_(e){return e.contentDocument||e.contentWindow.document}function Y_(e){if("IFRAME"===e.nodeName.toUpperCase())return window;if(e.ownerDocument!==document){const t=e?.ownerDocument?.defaultView?.frameElement?.contentWindow;if(t)return t}return window}function Z_(e){return"IFRAME"===e.nodeName.toUpperCase()?V_(e):e.ownerDocument===document?document:e.ownerDocument}function K_(e){return new Promise(((t,n)=>{requestAnimationFrame((()=>{const n=q_(e).createRange();n.selectNodeContents(G_(e));const o=W_(e).getSelection();o.removeAllRanges(),o.addRange(n),t(o)}))}))}const X_=async(e,t)=>{await _o(10);const n=new ClipboardEvent("paste");n.clipboardData.setData("text/html",t.html),n.clipboardData.setData("text/plain",t.text),e.dispatchEvent(n),await _o(10)},J_=async(e,t)=>{await _o(10);const n=new ClipboardEvent("paste",{dataType:"text/html",data:t.html});e.dispatchEvent(n),await _o(10)},Q_=async(e,t)=>{await _o(10);const n=new ClipboardEvent("paste",{dataType:"text/plain",data:t.text});e.dispatchEvent(n),await _o(10)},ev=async(e,t)=>{await _o(10),document.execCommand("insertText",!1,t.text),await _o(10)},tv=async(e,t)=>{await _o(10),document.execCommand("insertHTML",!1,t.html),await _o(10)},nv=async(e,t)=>{const n=Y_(e);await _o(10);const o=new DataTransfer;o.setData("text/html",t.html),o.setData("text/plain",t.text),e.dispatchEvent(new n.ClipboardEvent("paste",{clipboardData:o,bubbles:!0,cancelable:!0})),o.clearData(),await _o(10)},ov=async(e,t)=>{const n=Z_(e),o=Y_(e),r=n.createEvent("TextEvent");r.initTextEvent("textInput",!0,!0,o,t.text),e.dispatchEvent(r),await _o(10)},rv=async(e,t)=>{const n=Z_(e);e.value&&e.select(),n.execCommand("insertHTML",!1,t.html),await _o(20),(e.value||""===e.value)&&(e.value=t.text)},iv=async(e,n,o)=>{const r=En();o||e.focus();const i=G_(e).innerText,s=G_(e).value,a=[...r?[{method:X_,isSuccessful:()=>sv(i,e.innerText,n.text)},{method:J_,isSuccessful:()=>sv(i,e.innerText,n.text)},{method:Q_,isSuccessful:()=>sv(i,e.innerText,n.text)},{method:ev,isSuccessful:()=>sv(i,e.innerText,n.text)},{method:tv,isSuccessful:()=>sv(i,e.innerText,n.text)||sv(s,e.value,n.text)}]:[],{method:nv,isSuccessful:()=>sv(i,G_(e).innerText,n.text)},{method:ov,isSuccessful:()=>sv(i,G_(e).innerText,n.text)},{method:rv,isSuccessful:()=>sv(i,G_(e).innerText,n.text)||sv(s,G_(e).value,n.text)}];for(const t of a)if(r&&Eo()&&console.log(`trying paste event: ${t.method.name}`),await t.method(e,n),t.isSuccessful())return void(r&&Eo()&&console.log("attempt was successful: ",t.method.name));throw await _o(1e3),t({action:"dlTranslatedInputTextNotSet",payload:window.location.hostname}),new Error({error:v_})},sv=(e,t,n)=>{let o=!0;return(e&&!t||!P_(e,n)&&e===t||!P_(t,n))&&(o=!1),o},av=(e,t)=>{const n=new(Y_(t).KeyboardEvent)(e,{bubbles:!0,cancelable:!0,keyCode:8,which:8,location:0,key:"Backspace"});return t.dispatchEvent(n)},lv=(e,t)=>{const n=new MouseEvent(e,{bubbles:!0,cancelable:!1});return t.dispatchEvent(n)},cv=e=>{const t=Y_(e),n=q_(e);if(av("keydown",e)){const o=new t.InputEvent("beforeinput",{bubbles:!0,cancelable:!0,inputType:"deleteContent"});e.dispatchEvent(o)&&n.execCommand("delete",!1)}av("keyup",e)};function dv(e,{isShadow:t=!1,exceptions:n=[]}={}){const o=o=>{const r=t?o.composedPath()[0]:o.target;!e||e.contains(r)||o.defaultPrevented||function(e,t){for(let n of t)if(e.closest(n))return!0;return!1}(r,n)||e.dispatchEvent(new CustomEvent("click_outside",e))};return document.addEventListener("click",o,!0),{destroy(){document.removeEventListener("click",o,!0)}}}function uv(e){document.addEventListener("deepl-reset-event",e)}function pv(e){let t,n;const o=e[12].default,r=xh(o,e,e[11],null);return{c(){t=Wh("div"),r&&r.c()},m(e,o){Hh(e,t,o),r&&r.m(t,null),n=!0},p(e,t){r&&r.p&&(!n||2048&t)&&$h(r,o,e,e[11],n?Th(o,e[11],t,null):Ch(e[11]),null)},i(e){n||(jf(r,e),n=!0)},o(e){Wf(r,e),n=!1},d(e){e&&Fh(t),r&&r.d(e)}}}function mv(e){let t,n,o;const r=e[12].default,i=xh(r,e,e[11],null);return{c(){t=Wh("div"),i&&i.c(),Jh(t,"data-tooltip",e[0]),Jh(t,"style",n=`z-index: ${e[2]}; ${e[6]}`),Jh(t,"class","svelte-1a71ske"),sf(t,"multiline",e[1]),sf(t,"isFlexItem",e[4]),sf(t,"isRTL",e[7]),sf(t,"showProShield",e[5])},m(e,n){Hh(e,t,n),i&&i.m(t,null),o=!0},p(e,s){i&&i.p&&(!o||2048&s)&&$h(i,r,e,e[11],o?Th(r,e[11],s,null):Ch(e[11]),null),(!o||1&s)&&Jh(t,"data-tooltip",e[0]),(!o||68&s&&n!==(n=`z-index: ${e[2]}; ${e[6]}`))&&Jh(t,"style",n),(!o||2&s)&&sf(t,"multiline",e[1]),(!o||16&s)&&sf(t,"isFlexItem",e[4]),(!o||128&s)&&sf(t,"isRTL",e[7]),(!o||32&s)&&sf(t,"showProShield",e[5])},i(e){o||(jf(i,e),o=!0)},o(e){Wf(i,e),o=!1},d(e){e&&Fh(t),i&&i.d(e)}}}function gv(e){let t,n,o,r;const i=[mv,pv],s=[];function a(e,t){return e[3]?0:1}return t=a(e),n=s[t]=i[t](e),{c(){n.c(),o=Yh()},m(e,n){s[t].m(e,n),Hh(e,o,n),r=!0},p(e,[r]){let l=t;t=a(e),t===l?s[t].p(e,r):(Hf(),Wf(s[l],1,1,(()=>{s[l]=null})),Ff(),n=s[t],n?n.p(e,r):(n=s[t]=i[t](e),n.c()),jf(n,1),n.m(o.parentNode,o))},i(e){r||(jf(n),r=!0)},o(e){Wf(n),r=!1},d(e){e&&Fh(o),s[t].d(e)}}}function hv(e,t,n){let o,r,{$$slots:i={},$$scope:s}=t;const{deepl_inline_ui:a}=z;let{tooltip:l=!1}=t,{multiline:c=!1}=t,{zIndex:d=a.z_index}=t,{isEnabled:u=!0}=t,{isFlexItem:p=!1}=t,{width:m=null}=t,{parentIsRTL:g=!1}=t,{ignoreTextDirection:h=!1}=t,{showProShield:f=!1}=t;return e.$$set=e=>{"tooltip"in e&&n(0,l=e.tooltip),"multiline"in e&&n(1,c=e.multiline),"zIndex"in e&&n(2,d=e.zIndex),"isEnabled"in e&&n(3,u=e.isEnabled),"isFlexItem"in e&&n(4,p=e.isFlexItem),"width"in e&&n(8,m=e.width),"parentIsRTL"in e&&n(9,g=e.parentIsRTL),"ignoreTextDirection"in e&&n(10,h=e.ignoreTextDirection),"showProShield"in e&&n(5,f=e.showProShield),"$$scope"in e&&n(11,s=e.$$scope)},e.$$.update=()=>{1536&e.$$.dirty&&n(7,o=g||!h&&"rtl"===eo()),256&e.$$.dirty&&n(6,r=m?`width: ${m}px`:"")},[l,c,d,u,p,f,r,o,m,g,h,s,i]}class fv extends t_{constructor(e){super(),e_(this,e,hv,gv,wh,{tooltip:0,multiline:1,zIndex:2,isEnabled:3,isFlexItem:4,width:8,parentIsRTL:9,ignoreTextDirection:10,showProShield:5})}}const _v=(e,t)=>{const n=new ResizeObserver((()=>{const n={clientHeight:e.clientHeight,clientWidth:e.clientWidth,offsetHeight:e.offsetHeight,offsetWidth:e.offsetWidth};t(n)}));return n.observe(e),()=>{n.disconnect()}};function vv(e,t,n){const o=e.slice();return o[46]=t[n],o[48]=n,o}function yv(e){let t,n,o,r=Zf(e[3]),i=[];for(let t=0;t<r.length;t+=1)i[t]=Ev(vv(e,r,t));return{c(){t=Wh("ul");for(let e=0;e<i.length;e+=1)i[e].c();Jh(t,"id","dropdown_list"),Jh(t,"role","listbox"),Jh(t,"aria-labelledby","dropdown_option"),Jh(t,"tabindex","-1"),Jh(t,"style",n="up"===e[12]?"bottom: 30px":`height: ${e[16].height}; top: ${e[16].top};`),Jh(t,"data-qa",e[6]),Jh(t,"class","svelte-1tk603q"),sf(t,"alternate-dropdown-list","sm"===e[8]),sf(t,"align-right",e[9])},m(n,o){Hh(n,t,o);for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,null);e[37](t)},p(e,o){if(4726795&o[0]){let n;for(r=Zf(e[3]),n=0;n<r.length;n+=1){const s=vv(e,r,n);i[n]?i[n].p(s,o):(i[n]=Ev(s),i[n].c(),i[n].m(t,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=r.length}69632&o[0]&&n!==(n="up"===e[12]?"bottom: 30px":`height: ${e[16].height}; top: ${e[16].top};`)&&Jh(t,"style",n),64&o[0]&&Jh(t,"data-qa",e[6]),256&o[0]&&sf(t,"alternate-dropdown-list","sm"===e[8]),512&o[0]&&sf(t,"align-right",e[9])},i(e){o||Mf((()=>{o=Gf(t,N_,{y:-5,duration:500}),o.start()}))},o:gh,d(n){n&&Fh(t),jh(i,n),e[37](null)}}}function wv(e){let t,n=e[46].label+"";return{c(){t=Gh(n)},m(e,n){Hh(e,t,n)},p(e,o){8&o[0]&&n!==(n=e[46].label+"")&&Qh(t,n)},d(e){e&&Fh(t)}}}function bv(e){let t,n,o=$n(e[46].label)+"";return{c(){t=new lf(!1),n=Yh(),t.a=n},m(e,r){t.m(o,e,r),Hh(e,n,r)},p(e,n){8&n[0]&&o!==(o=$n(e[46].label)+"")&&t.p(o)},d(e){e&&(Fh(n),t.d())}}}function Ev(e){let t,n,o,r,i,s,a;function l(e,t){return e[13]?bv:wv}let c=l(e),d=c(e);function u(){return e[36](e[46])}return{c(){t=Wh("li"),d.c(),n=Vh(),Jh(t,"role","option"),Jh(t,"data-option-value",o=e[46].value),Jh(t,"data-option-regionalvariant",r=e[46].regionalVariant),Jh(t,"aria-selected",i=e[0]===e[46]),Jh(t,"class","svelte-1tk603q"),sf(t,"selected",e[0]===e[46]),sf(t,"keyboardSelected",e[48]===e[19])},m(o,r){Hh(o,t,r),d.m(t,null),Bh(t,n),s||(a=[Zh(t,"click",u),Zh(t,"mousedown",Xh(Kh(e[33])))],s=!0)},p(s,a){c===(c=l(e=s))&&d?d.p(e,a):(d.d(1),d=c(e),d&&(d.c(),d.m(t,n))),8&a[0]&&o!==(o=e[46].value)&&Jh(t,"data-option-value",o),8&a[0]&&r!==(r=e[46].regionalVariant)&&Jh(t,"data-option-regionalvariant",r),9&a[0]&&i!==(i=e[0]===e[46])&&Jh(t,"aria-selected",i),9&a[0]&&sf(t,"selected",e[0]===e[46]),524288&a[0]&&sf(t,"keyboardSelected",e[48]===e[19])},d(e){e&&Fh(t),d.d(),s=!1,vh(a)}}}function xv(e){let t,n,o,r,i,s,a,l=e[1]&&yv(e);return{c(){t=Wh("div"),n=Wh("button"),o=Gh(e[17]),r=Vh(),l&&l.c(),Jh(n,"aria-haspopup","listbox"),Jh(n,"id","dropdown_button"),Jh(n,"aria-labelledby","dropdown_option dropdown_button"),Jh(n,"aria-expanded",e[1]),Jh(n,"data-qa",e[5]),Jh(n,"class","svelte-1tk603q"),sf(n,"dropdown-label","original"===e[7]),sf(n,"dropdown-label-alternate","alternate"===e[7]),sf(n,"dropdown-label-zendesk","zendesk"===e[7]),sf(n,"dropdown-label-input-selection-result","input-selection-result"===e[7]),sf(n,"dropdown-label-full-width",e[10]),sf(n,"dropdown-label-borderless",e[11]),sf(n,"dropup","up"===e[12]),sf(n,"extra-padding",e[14]),Jh(t,"class",i=kh(`dropdown__wrapper ${e[4]}`)+" svelte-1tk603q"),Jh(t,"style",e[21]),sf(t,"disabled",e[2])},m(i,c){Hh(i,t,c),Bh(t,n),Bh(n,o),e[35](n),Bh(t,r),l&&l.m(t,null),e[39](t),s||(a=[Zh(n,"click",e[23]),Zh(n,"mousedown",Xh(Kh(e[34]))),Zh(n,"keydown",e[24]),Mh(dv.call(null,t,{isShadow:!0})),Zh(t,"click_outside",e[38])],s=!0)},p(e,r){131072&r[0]&&Qh(o,e[17]),2&r[0]&&Jh(n,"aria-expanded",e[1]),32&r[0]&&Jh(n,"data-qa",e[5]),128&r[0]&&sf(n,"dropdown-label","original"===e[7]),128&r[0]&&sf(n,"dropdown-label-alternate","alternate"===e[7]),128&r[0]&&sf(n,"dropdown-label-zendesk","zendesk"===e[7]),128&r[0]&&sf(n,"dropdown-label-input-selection-result","input-selection-result"===e[7]),1024&r[0]&&sf(n,"dropdown-label-full-width",e[10]),2048&r[0]&&sf(n,"dropdown-label-borderless",e[11]),4096&r[0]&&sf(n,"dropup","up"===e[12]),16384&r[0]&&sf(n,"extra-padding",e[14]),e[1]?l?(l.p(e,r),2&r[0]&&jf(l,1)):(l=yv(e),l.c(),jf(l,1),l.m(t,null)):l&&(l.d(1),l=null),16&r[0]&&i!==(i=kh(`dropdown__wrapper ${e[4]}`)+" svelte-1tk603q")&&Jh(t,"class",i),2097152&r[0]&&Jh(t,"style",e[21]),20&r[0]&&sf(t,"disabled",e[2])},i(e){jf(l)},o:gh,d(n){n&&Fh(t),e[35](null),l&&l.d(),e[39](null),s=!1,vh(a)}}}function Sv(e,t,n){let{isOpen:o=!1}=t,{disabled:r=!1}=t,{items:i=[]}=t,{placeholder:s=""}=t,{customClass:a=""}=t,{selectedOption:l}=t,{defaultOption:c}=t,{dataQaButton:d="dl-dropdown-button"}=t,{dataQaList:u="dl-dropdown-list"}=t,{variant:p="original"}=t,{fontSize:m="default"}=t,{alignRight:g=!0}=t,{extraText:h=""}=t,{isFullWidth:f=!1}=t,{isBorderless:_=!1}=t,{direction:v="down"}=t,{allowLabelHtml:y=!1}=t,{showSortCode:w=!1}=t,{extraPadding:b=!1}=t,{dropdownMaxHeight:E=300}=t,{autoHeight:x=!1}=t;const S=bf("deepl_settings");let T,$,C,k,L,M=0,I={},A={},R={},O=-1,N="visibility: hidden; opacity:0; height:0;";const D=yf();function P(){I.spaceAbove=Math.abs(T.getBoundingClientRect().top),I.spaceBelow=Math.abs(window.innerHeight-T.getBoundingClientRect().bottom)}c&&(l=c),_f((()=>{setTimeout((()=>{n(21,N="")}),100),k=_v(C,(({clientWidth:e})=>{n(31,M=e)}))})),vf((()=>{k&&k()}));return e.$$set=e=>{"isOpen"in e&&n(1,o=e.isOpen),"disabled"in e&&n(2,r=e.disabled),"items"in e&&n(3,i=e.items),"placeholder"in e&&n(25,s=e.placeholder),"customClass"in e&&n(4,a=e.customClass),"selectedOption"in e&&n(0,l=e.selectedOption),"defaultOption"in e&&n(26,c=e.defaultOption),"dataQaButton"in e&&n(5,d=e.dataQaButton),"dataQaList"in e&&n(6,u=e.dataQaList),"variant"in e&&n(7,p=e.variant),"fontSize"in e&&n(8,m=e.fontSize),"alignRight"in e&&n(9,g=e.alignRight),"extraText"in e&&n(27,h=e.extraText),"isFullWidth"in e&&n(10,f=e.isFullWidth),"isBorderless"in e&&n(11,_=e.isBorderless),"direction"in e&&n(12,v=e.direction),"allowLabelHtml"in e&&n(13,y=e.allowLabelHtml),"showSortCode"in e&&n(28,w=e.showSortCode),"extraPadding"in e&&n(14,b=e.extraPadding),"dropdownMaxHeight"in e&&n(29,E=e.dropdownMaxHeight),"autoHeight"in e&&n(30,x=e.autoHeight)},e.$$.update=()=>{1&e.$$.dirty[0]|3&e.$$.dirty[1]&&(l&&(R?.value===l?.value&&R?.regionalVariant===l?.regionalVariant||(n(32,R=l),D("valueselected",{selectedOption:l}))),M&&P()),436207617&e.$$.dirty[0]&&n(17,$=l?`${w?l.value:l.selectedOptionLabel}${h?` ${h}`:""}`:`${s}${h?` ${h}`:""}`)},[l,o,r,i,a,d,u,p,m,g,f,_,v,y,b,T,A,$,C,O,L,N,S,function(){"down"===v&&function(){if(x)return;if(P(),n(16,A.top="auto",A),n(16,A.height=`${E}px`,A),I.spaceBelow>I.spaceAbove)I.spaceBelow<=E&&n(16,A.height=Math.ceil(.8*I.spaceBelow)+"px",A);else{let e=E;I.spaceAbove<=E&&(e=Math.ceil(.8*I.spaceAbove)),n(16,A.height=`${e}px`,A),n(16,A.top="-"+(e+2)+"px",A)}}(),n(1,o=!o),function(){let e=T.getRootNode().querySelector("ul li[aria-selected=true]");setTimeout((()=>{e?.scrollIntoView({block:"nearest"})}),0)}()},function(e){if(!o)return;if("ArrowUp"===e.key&&O>0)n(19,O-=1);else if("ArrowDown"===e.key&&O<i.length-1)n(19,O+=1);else if("Enter"===e.key&&-1!==O){const t=i[O];n(1,o=!1),n(0,l=t),n(19,O=-1),S.set({regionalVariant:t.regionalVariant||""}),e.preventDefault(),e.stopPropagation()}else{if("Escape"!==e.key)return;n(1,o=!1),n(19,O=-1)}const t=i[O];var r=L.querySelector(`[data-option-value="${t.value}"]`).offsetTop-L.offsetTop;L.scrollTo({top:r,behavior:"smooth"})},s,c,h,w,E,x,M,R,function(t){Ef.call(this,e,t)},function(t){Ef.call(this,e,t)},function(e){Sf[e?"unshift":"push"]((()=>{T=e,n(15,T)}))},e=>{n(1,o=!1),n(0,l=e),n(19,O=-1),S.set({regionalVariant:e.regionalVariant||""})},function(e){Sf[e?"unshift":"push"]((()=>{L=e,n(20,L)}))},()=>{n(1,o=!1)},function(e){Sf[e?"unshift":"push"]((()=>{C=e,n(18,C)}))}]}class Tv extends t_{constructor(e){super(),e_(this,e,Sv,xv,wh,{isOpen:1,disabled:2,items:3,placeholder:25,customClass:4,selectedOption:0,defaultOption:26,dataQaButton:5,dataQaList:6,variant:7,fontSize:8,alignRight:9,extraText:27,isFullWidth:10,isBorderless:11,direction:12,allowLabelHtml:13,showSortCode:28,extraPadding:14,dropdownMaxHeight:29,autoHeight:30},null,[-1,-1])}}function $v(e){let t,n,o,r,i;return n=new Tv({props:{items:e[1],selectedOption:e[2],alignRight:!1,dataQaButton:"deepl-formality-selection-button",dataQaList:"deepl-formality-selection-list",variant:"zendesk",isFullWidth:e[0],direction:"up"}}),n.$on("valueselected",e[3]),{c(){t=Wh("div"),Xf(n.$$.fragment)},m(s,a){Hh(s,t,a),Jf(n,t,null),o=!0,r||(i=Zh(t,"mousedown",Xh(Kh(e[5]))),r=!0)},p(e,[t]){const o={};2&t&&(o.items=e[1]),4&t&&(o.selectedOption=e[2]),1&t&&(o.isFullWidth=e[0]),n.$set(o)},i(e){o||(jf(n.$$.fragment,e),o=!0)},o(e){Wf(n.$$.fragment,e),o=!1},d(e){e&&Fh(t),Qf(n),r=!1,i()}}}function Cv(e,t,n){let o,r;const i=yf();let{value:s}=t,{isFullWidth:a=!1}=t;return e.$$set=e=>{"value"in e&&n(4,s=e.value),"isFullWidth"in e&&n(0,a=e.isFullWidth)},e.$$.update=()=>{18&e.$$.dirty&&n(2,r=s?o.find((e=>e.value===s)):o.find((e=>"auto"===e.value)))},n(1,o=[{value:"auto",label:chrome.i18n.getMessage("ui_formality_automatic"),selectedOptionLabel:chrome.i18n.getMessage("ui_formality_automatic")},{value:"formal",label:chrome.i18n.getMessage("ui_formality_formal"),selectedOptionLabel:chrome.i18n.getMessage("ui_formality_formal")},{value:"informal",label:chrome.i18n.getMessage("ui_formality_informal"),selectedOptionLabel:chrome.i18n.getMessage("ui_formality_informal")}]),[a,o,r,function(e){e.detail.selectedOption.value!==s&&i("selection",e.detail)},s,function(t){Ef.call(this,e,t)}]}class kv extends t_{constructor(e){super(),e_(this,e,Cv,$v,wh,{value:4,isFullWidth:0})}}const Lv="ACCESS_DENIED",Mv="INVALID_REQUEST",Iv="INVALID_GRANT",Av="INVALID_NONCE",Rv="ITA_RATE_LIMITED",Ov="ITA_RATE_LIMITED_RESTRICTED",Nv="PROTOCOL_ERROR",Dv="NETWORK_ERROR",Pv="FULL_PAGE_SERVER_ERROR",Bv="-32003",zv="429",Uv="403",Hv="401",Fv="1045601",jv="1042902";function Wv(){return!!chrome&&!!chrome.tabs}const qv=o_(!1);function Gv(e){let t,n,o;return{c(){t=Wh("button"),t.innerHTML='<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 13L13 1M1 1L13 13" stroke="#DA5E5C" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',Jh(t,"class","dl-close-icon svelte-nsrzuc")},m(r,i){Hh(r,t,i),n||(o=Zh(t,"click",(function(){yh(e[0])&&e[0].apply(this,arguments)})),n=!0)},p(t,n){e=t},d(e){e&&Fh(t),n=!1,o()}}}function Vv(e){let t,n,o,r,i,s;const a=e[2].default,l=xh(a,e,e[1],null);let c=e[0]&&Gv(e);return{c(){t=Wh("div"),n=Wh("div"),n.innerHTML='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 12L10 10M10 10L12 8M10 10L8 8M10 10L12 12M19 10C19 14.9706 14.9706 19 10 19C5.02944 19 1 14.9706 1 10C1 5.02944 5.02944 1 10 1C14.9706 1 19 5.02944 19 10Z" stroke="#DA5E5C" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',o=Vh(),r=Wh("div"),l&&l.c(),i=Vh(),c&&c.c(),Jh(n,"class","icon-container svelte-nsrzuc"),Jh(r,"class","message svelte-nsrzuc"),Jh(t,"class","error-msg svelte-nsrzuc")},m(e,a){Hh(e,t,a),Bh(t,n),Bh(t,o),Bh(t,r),l&&l.m(r,null),Bh(t,i),c&&c.m(t,null),s=!0},p(e,[n]){l&&l.p&&(!s||2&n)&&$h(l,a,e,e[1],s?Th(a,e[1],n,null):Ch(e[1]),null),e[0]?c?c.p(e,n):(c=Gv(e),c.c(),c.m(t,null)):c&&(c.d(1),c=null)},i(e){s||(jf(l,e),s=!0)},o(e){Wf(l,e),s=!1},d(e){e&&Fh(t),l&&l.d(e),c&&c.d()}}}function Yv(e,t,n){let{$$slots:o={},$$scope:r}=t,{close:i}=t;return e.$$set=e=>{"close"in e&&n(0,i=e.close),"$$scope"in e&&n(1,r=e.$$scope)},[i,r,o]}class Zv extends t_{constructor(e){super(),e_(this,e,Yv,Vv,wh,{close:0})}}function Kv(e){let t,n,o;return{c(){t=Wh("button"),t.innerHTML='<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 13L13 1M1 1L13 13" stroke="#ECBA82" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',Jh(t,"class","dl-close-icon svelte-kyufep")},m(r,i){Hh(r,t,i),n||(o=Zh(t,"click",(function(){yh(e[0])&&e[0].apply(this,arguments)})),n=!0)},p(t,n){e=t},d(e){e&&Fh(t),n=!1,o()}}}function Xv(e){let t,n,o,r,i,s;const a=e[2].default,l=xh(a,e,e[1],null);let c=e[0]&&Kv(e);return{c(){t=Wh("div"),n=Wh("div"),n.innerHTML='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 6V10M10 14H10.01M19 10C19 14.9706 14.9706 19 10 19C5.02944 19 1 14.9706 1 10C1 5.02944 5.02944 1 10 1C14.9706 1 19 5.02944 19 10Z" stroke="#ECBA82" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',o=Vh(),r=Wh("div"),l&&l.c(),i=Vh(),c&&c.c(),Jh(n,"class","icon-container svelte-kyufep"),Jh(r,"class","message svelte-kyufep"),Jh(t,"class","warn-msg svelte-kyufep")},m(e,a){Hh(e,t,a),Bh(t,n),Bh(t,o),Bh(t,r),l&&l.m(r,null),Bh(t,i),c&&c.m(t,null),s=!0},p(e,[n]){l&&l.p&&(!s||2&n)&&$h(l,a,e,e[1],s?Th(a,e[1],n,null):Ch(e[1]),null),e[0]?c?c.p(e,n):(c=Kv(e),c.c(),c.m(t,null)):c&&(c.d(1),c=null)},i(e){s||(jf(l,e),s=!0)},o(e){Wf(l,e),s=!1},d(e){e&&Fh(t),l&&l.d(e),c&&c.d()}}}function Jv(e,t,n){let{$$slots:o={},$$scope:r}=t,{close:i}=t;return e.$$set=e=>{"close"in e&&n(0,i=e.close),"$$scope"in e&&n(1,r=e.$$scope)},[i,r,o]}class Qv extends t_{constructor(e){super(),e_(this,e,Jv,Xv,wh,{close:0})}}function ey(e){let t;return{c(){t=Wh("span"),t.textContent=`${chrome.i18n.getMessage("error_message_generic_error")}`,Jh(t,"data-qa","error-message-generic")},m(e,n){Hh(e,t,n)},p:gh,i:gh,o:gh,d(e){e&&Fh(t)}}}class ty extends t_{constructor(e){super(),e_(this,e,null,ey,wh,{})}}function ny(e){let t;return{c(){t=Wh("span"),t.textContent=`${chrome.i18n.getMessage("error_message_internet_connection")}`},m(e,n){Hh(e,t,n)},p:gh,i:gh,o:gh,d(e){e&&Fh(t)}}}class oy extends t_{constructor(e){super(),e_(this,e,null,ny,wh,{})}}function ry(e){let t;return{c(){t=Wh("span"),t.textContent=`${chrome.i18n.getMessage("full_page_translation_error_service_not_available")}`},m(e,n){Hh(e,t,n)},p:gh,i:gh,o:gh,d(e){e&&Fh(t)}}}class iy extends t_{constructor(e){super(),e_(this,e,null,ry,wh,{})}}const sy="DOCS_GOOGLE_COM_FEEDBACK_FORM",ay="NEW_FEEDBACK_FORM",ly="DEEPL_COM_PRO",cy="DEEPL_COM_PRO_WRITE",dy="DEEPL_COM_TRANSLATOR",uy="DEEPL_COM_HOMEPAGE",py="DEEPL_COM_WRITE",my="SHORTCUT_SETTINGS",gy="CHROME_WRITE_A_REVIEW",hy="EDGE_WRITE_A_REVIEW",fy="GMAIL_FEEDBACK_SURVEY",_y="GSLIDES_FEEDBACK_SURVEY",vy="FIREFOX_WRITE_A_REVIEW",yy="DEEPL_SUPPORT",wy="FIREFOX_FEEDBACK_SURVEY",by="CUSTOMER_SEGMENTATION_SURVEY_FREE",Ey="CUSTOMER_SEGMENTATION_SURVEY_PRO",xy="ARABIC_SURVEY",Sy="ADDINS_ADS";function Ty(e){let t,n,o,r,i,s;return{c(){t=Wh("div"),n=Wh("div"),n.textContent=`${chrome.i18n.getMessage("warning_message_different_subscription_needed")}`,o=Vh(),r=Wh("div"),r.textContent=`${chrome.i18n.getMessage("link_get_pro_license")}`,Jh(r,"class","link svelte-1mpkjv7"),Jh(t,"class","container svelte-1mpkjv7")},m(a,l){Hh(a,t,l),Bh(t,n),Bh(t,o),Bh(t,r),i||(s=Zh(r,"click",e[0]),i=!0)},p:gh,i:gh,o:gh,d(e){e&&Fh(t),i=!1,s()}}}function $y(e){return[function(){t({action:"dlExternalURLRedirect",payload:{destination:ly,utmContent:"warning_user_unauthorised"}})}]}class Cy extends t_{constructor(e){super(),e_(this,e,$y,Ty,wh,{})}}function ky(e){let t,n,o,r,i,s;return{c(){t=Wh("div"),n=Wh("div"),n.textContent=`${chrome.i18n.getMessage("warning_message_free_usage_limit_reached")}`,o=Vh(),r=Wh("div"),r.textContent=`${chrome.i18n.getMessage("link_try_deepl")}`,Jh(r,"class","link svelte-1mpkjv7"),Jh(t,"class","container svelte-1mpkjv7")},m(a,l){Hh(a,t,l),Bh(t,n),Bh(t,o),Bh(t,r),i||(s=Zh(r,"click",e[0]),i=!0)},p:gh,i:gh,o:gh,d(e){e&&Fh(t),i=!1,s()}}}function Ly(e){return[function(){t({action:"dlExternalURLRedirect",payload:{destination:ly,utmContent:"warning_user_blocked"}})}]}class My extends t_{constructor(e){super(),e_(this,e,Ly,ky,wh,{})}}function Iy(e){let t;return{c(){t=Wh("span"),t.textContent=`${chrome.i18n.getMessage("error_message_please_login")}`},m(e,n){Hh(e,t,n)},p:gh,i:gh,o:gh,d(e){e&&Fh(t)}}}class Ay extends t_{constructor(e){super(),e_(this,e,null,Iy,wh,{})}}function Ry(e,t,n){const o=e.slice();return o[1]=t[n],o}function Oy(e){let t,n=e[1].text+"";return{c(){t=Gh(n)},m(e,n){Hh(e,t,n)},p:gh,d(e){e&&Fh(t)}}}function Ny(e){let t,n,o;return{c(){t=Wh("span"),t.textContent=`${e[1].text} `,Jh(t,"class","link svelte-1mpkjv7")},m(r,i){Hh(r,t,i),n||(o=Zh(t,"click",e[0]),n=!0)},p:gh,d(e){e&&Fh(t),n=!1,o()}}}function Dy(e){let t;let n=function(e){return"deeplSupportLink"===e[1].block?Ny:Oy}(e),o=n(e);return{c(){o.c(),t=Yh()},m(e,n){o.m(e,n),Hh(e,t,n)},p(e,t){o.p(e,t)},d(e){e&&Fh(t),o.d(e)}}}function Py(e){let t,n=Zf(z_(chrome.i18n.getMessage("warning_message_account_limit_reached"),["deeplSupportLink"])),o=[];for(let t=0;t<n.length;t+=1)o[t]=Dy(Ry(e,n,t));return{c(){t=Wh("div");for(let e=0;e<o.length;e+=1)o[e].c();Jh(t,"class","container svelte-1mpkjv7")},m(e,n){Hh(e,t,n);for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,null)},p(e,[r]){if(1&r){let i;for(n=Zf(z_(chrome.i18n.getMessage("warning_message_account_limit_reached"),["deeplSupportLink"])),i=0;i<n.length;i+=1){const s=Ry(e,n,i);o[i]?o[i].p(s,r):(o[i]=Dy(s),o[i].c(),o[i].m(t,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=n.length}},i:gh,o:gh,d(e){e&&Fh(t),jh(o,e)}}}function By(e){return[function(){t({action:"dlExternalURLRedirect",payload:{destination:yy}})}]}class zy extends t_{constructor(e){super(),e_(this,e,By,Py,wh,{})}}function Uy(e){let t;return{c(){t=Wh("span"),t.textContent=`${chrome.i18n.getMessage("error_message_technical_issue")}`},m(e,n){Hh(e,t,n)},p:gh,i:gh,o:gh,d(e){e&&Fh(t)}}}class Hy extends t_{constructor(e){super(),e_(this,e,null,Uy,wh,{})}}function Fy(e){let t;return{c(){t=Wh("span"),t.textContent=`${chrome.i18n.getMessage("error_message_session_expired")}`},m(e,n){Hh(e,t,n)},p:gh,i:gh,o:gh,d(e){e&&Fh(t)}}}class jy extends t_{constructor(e){super(),e_(this,e,null,Fy,wh,{})}}function Wy(e){let t;return{c(){t=Wh("span"),t.textContent=`${chrome.i18n.getMessage("full_page_translation_error_exceeds_char_limit")}`},m(e,n){Hh(e,t,n)},p:gh,i:gh,o:gh,d(e){e&&Fh(t)}}}class qy extends t_{constructor(e){super(),e_(this,e,null,Wy,wh,{})}}function Gy(e,t,n){const o=e.slice();return o[5]=t[n],o}function Vy(e){let t,n=e[5].text+"";return{c(){t=Gh(n)},m(e,n){Hh(e,t,n)},p(e,o){4&o&&n!==(n=e[5].text+"")&&Qh(t,n)},d(e){e&&Fh(t)}}}function Yy(e){let t,n,o=e[5].text+"";return{c(){t=Wh("strong"),n=Gh(o)},m(e,o){Hh(e,t,o),Bh(t,n)},p(e,t){4&t&&o!==(o=e[5].text+"")&&Qh(n,o)},d(e){e&&Fh(t)}}}function Zy(e){let t;function n(e,t){return"strong"===e[5].block?Yy:Vy}let o=n(e),r=o(e);return{c(){r.c(),t=Yh()},m(e,n){r.m(e,n),Hh(e,t,n)},p(e,i){o===(o=n(e))&&r?r.p(e,i):(r.d(1),r=o(e),r&&(r.c(),r.m(t.parentNode,t)))},d(e){e&&Fh(t),r.d(e)}}}function Ky(e){let t,n,o,r;return{c(){t=qh("svg"),n=qh("path"),Jh(n,"d","M4 12L12 4M4 4L12 12"),Jh(n,"stroke","white"),Jh(n,"stroke-width","1.5"),Jh(n,"stroke-linecap","round"),Jh(n,"stroke-linejoin","round"),Jh(t,"width","16"),Jh(t,"height","16"),Jh(t,"viewBox","0 0 16 16"),Jh(t,"fill","none"),Jh(t,"xmlns","http://www.w3.org/2000/svg"),Jh(t,"class","svelte-1mvy8b2")},m(i,s){Hh(i,t,s),Bh(t,n),o||(r=Zh(t,"click",(function(){yh(e[1])&&e[1].apply(this,arguments)})),o=!0)},p(t,n){e=t},d(e){e&&Fh(t),o=!1,r()}}}function Xy(e){let t,n,o,r,i,s,a,l,c,d,u,p,m,g=Zf(z_(chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_description",e[2]),["strong"])),h=[];for(let t=0;t<g.length;t+=1)h[t]=Zy(Gy(e,g,t));let f=e[1]&&Ky(e);return{c(){t=Wh("div"),n=Wh("div"),o=Wh("h1"),o.textContent=`${chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_headline")}`,r=Vh(),i=Wh("p");for(let e=0;e<h.length;e+=1)h[e].c();s=Vh(),a=Wh("div"),l=Wh("button"),l.textContent=`${chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_login_button")}`,c=Vh(),d=Wh("button"),d.textContent=`${chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_signup_button")}`,u=Vh(),f&&f.c(),Jh(o,"class","svelte-1mvy8b2"),Jh(i,"class","description svelte-1mvy8b2"),Jh(n,"class","messages svelte-1mvy8b2"),sf(n,"small",e[0].small),Jh(l,"class","log-in svelte-1mvy8b2"),Jh(d,"class","sign-up svelte-1mvy8b2"),Jh(a,"class","actions svelte-1mvy8b2"),sf(a,"small",e[0].small),Jh(t,"class","container svelte-1mvy8b2"),Jh(t,"data-testid","error-message-anonymous-limit-exceeded"),sf(t,"small",e[0].small)},m(g,_){Hh(g,t,_),Bh(t,n),Bh(n,o),Bh(n,r),Bh(n,i);for(let e=0;e<h.length;e+=1)h[e]&&h[e].m(i,null);Bh(t,s),Bh(t,a),Bh(a,l),Bh(a,c),Bh(a,d),Bh(t,u),f&&f.m(t,null),p||(m=[Zh(l,"click",e[3]),Zh(d,"click",e[4])],p=!0)},p(e,[o]){if(4&o){let t;for(g=Zf(z_(chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_description",e[2]),["strong"])),t=0;t<g.length;t+=1){const n=Gy(e,g,t);h[t]?h[t].p(n,o):(h[t]=Zy(n),h[t].c(),h[t].m(i,null))}for(;t<h.length;t+=1)h[t].d(1);h.length=g.length}1&o&&sf(n,"small",e[0].small),1&o&&sf(a,"small",e[0].small),e[1]?f?f.p(e,o):(f=Ky(e),f.c(),f.m(t,null)):f&&(f.d(1),f=null),1&o&&sf(t,"small",e[0].small)},i:gh,o:gh,d(e){e&&Fh(t),jh(h,e),f&&f.d(),p=!1,vh(m)}}}function Jy(e,n,o){let{config:r}=n,{close:i}=n,s="";return _f((()=>{t({action:"dlGetUsersCharacterLimit"}).then((e=>o(2,s=e.toString()))),t({action:"dlTrackUpgradeNotificationIsDisplayed",payload:{type:Vt}})})),vf((()=>{t({action:"dlTrackUpgradeNotificationClosed",payload:{type:Vt}})})),e.$$set=e=>{"config"in e&&o(0,r=e.config),"close"in e&&o(1,i=e.close)},[r,i,s,function(){t({action:"dlRequestLogin"}).then((()=>{})).catch((e=>{console.log(e)})),t({action:"dlTrackUpgradeNotificationAction",payload:{type:Vt,cta:Jt}})},function(){t({action:"dlExternalURLRedirect",payload:{destination:ly,utmContent:"notification_anonymous_user_limit_exceeded"}}),t({action:"dlTrackUpgradeNotificationAction",payload:{type:Vt,cta:Qt}})}]}class Qy extends t_{constructor(e){super(),e_(this,e,Jy,Xy,wh,{config:0,close:1})}}function ew(e,t,n){const o=e.slice();return o[4]=t[n],o}function tw(e){let t,n=e[4].text+"";return{c(){t=Gh(n)},m(e,n){Hh(e,t,n)},p(e,o){4&o&&n!==(n=e[4].text+"")&&Qh(t,n)},d(e){e&&Fh(t)}}}function nw(e){let t,n,o=e[4].text+"";return{c(){t=Wh("strong"),n=Gh(o)},m(e,o){Hh(e,t,o),Bh(t,n)},p(e,t){4&t&&o!==(o=e[4].text+"")&&Qh(n,o)},d(e){e&&Fh(t)}}}function ow(e){let t;function n(e,t){return"strong"===e[4].block?nw:tw}let o=n(e),r=o(e);return{c(){r.c(),t=Yh()},m(e,n){r.m(e,n),Hh(e,t,n)},p(e,i){o===(o=n(e))&&r?r.p(e,i):(r.d(1),r=o(e),r&&(r.c(),r.m(t.parentNode,t)))},d(e){e&&Fh(t),r.d(e)}}}function rw(e){let t,n,o,r;return{c(){t=qh("svg"),n=qh("path"),Jh(n,"d","M4 12L12 4M4 4L12 12"),Jh(n,"stroke","white"),Jh(n,"stroke-width","1.5"),Jh(n,"stroke-linecap","round"),Jh(n,"stroke-linejoin","round"),Jh(t,"width","16"),Jh(t,"height","16"),Jh(t,"viewBox","0 0 16 16"),Jh(t,"fill","none"),Jh(t,"xmlns","http://www.w3.org/2000/svg"),Jh(t,"class","svelte-1i5r4eu")},m(i,s){Hh(i,t,s),Bh(t,n),o||(r=Zh(t,"click",(function(){yh(e[1])&&e[1].apply(this,arguments)})),o=!0)},p(t,n){e=t},d(e){e&&Fh(t),o=!1,r()}}}function iw(e){let t,n,o,r,i,s,a,l,c,d,u,p=Zf(z_(chrome.i18n.getMessage("notification_free_account_limit_exceeded_description",e[2]),["strong"])),m=[];for(let t=0;t<p.length;t+=1)m[t]=ow(ew(e,p,t));let g=e[1]&&rw(e);return{c(){t=Wh("div"),n=Wh("div"),o=Wh("h1"),o.textContent=`${chrome.i18n.getMessage("notification_free_account_limit_exceeded_headline")}`,r=Vh(),i=Wh("p");for(let e=0;e<m.length;e+=1)m[e].c();s=Vh(),a=Wh("div"),l=Wh("button"),l.textContent=`${chrome.i18n.getMessage("notification_free_account_limit_exceeded_signup_button")}`,c=Vh(),g&&g.c(),Jh(o,"class","svelte-1i5r4eu"),Jh(i,"class","description svelte-1i5r4eu"),Jh(n,"class","messages svelte-1i5r4eu"),sf(n,"small",e[0].small),Jh(l,"class","sign-up svelte-1i5r4eu"),Jh(a,"class","actions svelte-1i5r4eu"),sf(a,"small",e[0].small),Jh(t,"class","container svelte-1i5r4eu"),Jh(t,"data-testid","error-message-limit-exceeded-free-account"),sf(t,"small",e[0].small)},m(p,h){Hh(p,t,h),Bh(t,n),Bh(n,o),Bh(n,r),Bh(n,i);for(let e=0;e<m.length;e+=1)m[e]&&m[e].m(i,null);Bh(t,s),Bh(t,a),Bh(a,l),Bh(t,c),g&&g.m(t,null),d||(u=Zh(l,"click",e[3]),d=!0)},p(e,[o]){if(4&o){let t;for(p=Zf(z_(chrome.i18n.getMessage("notification_free_account_limit_exceeded_description",e[2]),["strong"])),t=0;t<p.length;t+=1){const n=ew(e,p,t);m[t]?m[t].p(n,o):(m[t]=ow(n),m[t].c(),m[t].m(i,null))}for(;t<m.length;t+=1)m[t].d(1);m.length=p.length}1&o&&sf(n,"small",e[0].small),1&o&&sf(a,"small",e[0].small),e[1]?g?g.p(e,o):(g=rw(e),g.c(),g.m(t,null)):g&&(g.d(1),g=null),1&o&&sf(t,"small",e[0].small)},i:gh,o:gh,d(e){e&&Fh(t),jh(m,e),g&&g.d(),d=!1,u()}}}function sw(e,n,o){let{config:r}=n,{close:i}=n,s="";return _f((()=>{t({action:"dlGetUsersCharacterLimit"}).then((e=>o(2,s=e.toString()))),t({action:"dlTrackUpgradeNotificationIsDisplayed",payload:{type:Yt}})})),vf((()=>{t({action:"dlTrackUpgradeNotificationClosed",payload:{type:Yt}})})),e.$$set=e=>{"config"in e&&o(0,r=e.config),"close"in e&&o(1,i=e.close)},[r,i,s,function(){t({action:"dlExternalURLRedirect",payload:{destination:ly,utmContent:"notification_free_account_limit_exceeded"}}),t({action:"dlTrackUpgradeNotificationAction",payload:{type:Yt,cta:Xt}})}]}class aw extends t_{constructor(e){super(),e_(this,e,sw,iw,wh,{config:0,close:1})}}function lw(e){let t,n,o,r;return{c(){t=qh("svg"),n=qh("path"),Jh(n,"d","M4 12L12 4M4 4L12 12"),Jh(n,"stroke","white"),Jh(n,"stroke-width","1.5"),Jh(n,"stroke-linecap","round"),Jh(n,"stroke-linejoin","round"),Jh(t,"width","16"),Jh(t,"height","16"),Jh(t,"viewBox","0 0 16 16"),Jh(t,"fill","none"),Jh(t,"xmlns","http://www.w3.org/2000/svg"),Jh(t,"class","svelte-1uko7yn")},m(i,s){Hh(i,t,s),Bh(t,n),o||(r=Zh(t,"click",(function(){yh(e[1])&&e[1].apply(this,arguments)})),o=!0)},p(t,n){e=t},d(e){e&&Fh(t),o=!1,r()}}}function cw(e){let t,n,o,r,i,s,a,l,c,d,u,p=chrome.i18n.getMessage("limit_popup_translator_subscribe_to_paid_body")+"",m=e[1]&&lw(e);return{c(){t=Wh("div"),n=Wh("div"),o=Wh("h1"),o.textContent=`${chrome.i18n.getMessage("limit_popup_translator_free_title")}`,r=Vh(),i=Wh("p"),s=Vh(),a=Wh("div"),l=Wh("button"),l.textContent=`${chrome.i18n.getMessage("limit_popup_upgrade_translator_cta")}`,c=Vh(),m&&m.c(),Jh(o,"class","svelte-1uko7yn"),Jh(i,"class","description svelte-1uko7yn"),Jh(n,"class","messages small svelte-1uko7yn"),sf(n,"small",e[0].small),Jh(l,"class","sign-up svelte-1uko7yn"),Jh(a,"class","actions svelte-1uko7yn"),sf(a,"small",e[0].small),Jh(t,"class","container svelte-1uko7yn"),Jh(t,"data-testid","error-message-limit-exceeded-translator-free-write-pro"),sf(t,"small",e[0].small)},m(g,h){Hh(g,t,h),Bh(t,n),Bh(n,o),Bh(n,r),Bh(n,i),i.innerHTML=p,Bh(t,s),Bh(t,a),Bh(a,l),Bh(t,c),m&&m.m(t,null),d||(u=Zh(l,"click",e[2]),d=!0)},p(e,[o]){1&o&&sf(n,"small",e[0].small),1&o&&sf(a,"small",e[0].small),e[1]?m?m.p(e,o):(m=lw(e),m.c(),m.m(t,null)):m&&(m.d(1),m=null),1&o&&sf(t,"small",e[0].small)},i:gh,o:gh,d(e){e&&Fh(t),m&&m.d(),d=!1,u()}}}function dw(e,n,o){let{config:r}=n,{close:i}=n;return _f((()=>{t({action:"dlTrackUpgradeNotificationIsDisplayed",payload:{type:Yt}})})),vf((()=>{t({action:"dlTrackUpgradeNotificationClosed",payload:{type:Yt}})})),e.$$set=e=>{"config"in e&&o(0,r=e.config),"close"in e&&o(1,i=e.close)},[r,i,function(){t({action:"dlExternalURLRedirect",payload:{destination:ly,utmContent:"notification_translator_limit_exceeded_with_write_pro"}}),t({action:"dlTrackUpgradeNotificationAction",payload:{type:Yt,cta:Xt}})}]}class uw extends t_{constructor(e){super(),e_(this,e,dw,cw,wh,{config:0,close:1})}}function pw(e){let t,n,o;return{c(){t=Wh("button"),t.textContent=`${chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_login_button")}`,Jh(t,"class","log-in svelte-1tmoo4x")},m(r,i){Hh(r,t,i),n||(o=Zh(t,"click",e[4]),n=!0)},p:gh,d(e){e&&Fh(t),n=!1,o()}}}function mw(e){let t,n,o,r;return{c(){t=qh("svg"),n=qh("path"),Jh(n,"d","M4 12L12 4M4 4L12 12"),Jh(n,"stroke","white"),Jh(n,"stroke-width","1.5"),Jh(n,"stroke-linecap","round"),Jh(n,"stroke-linejoin","round"),Jh(t,"width","16"),Jh(t,"height","16"),Jh(t,"viewBox","0 0 16 16"),Jh(t,"fill","none"),Jh(t,"xmlns","http://www.w3.org/2000/svg"),Jh(t,"class","svelte-1tmoo4x")},m(i,s){Hh(i,t,s),Bh(t,n),o||(r=Zh(t,"click",(function(){yh(e[1])&&e[1].apply(this,arguments)})),o=!0)},p(t,n){e=t},d(e){e&&Fh(t),o=!1,r()}}}function gw(e){let t,n,o,r,i,s,a,l,c,d,u,p,m=chrome.i18n.getMessage("limit_popup_write_anon_free_body")+"",g=!e[2]&&pw(e),h=e[1]&&mw(e);return{c(){t=Wh("div"),n=Wh("div"),o=Wh("h1"),o.textContent=`${chrome.i18n.getMessage("limit_popup_write_title")}`,r=Vh(),i=Wh("p"),s=Vh(),a=Wh("div"),g&&g.c(),l=Vh(),c=Wh("button"),c.textContent=`${chrome.i18n.getMessage("limit_popup_try_for_free_cta")}`,d=Vh(),h&&h.c(),Jh(o,"class","svelte-1tmoo4x"),Jh(i,"class","description svelte-1tmoo4x"),Jh(n,"class","messages svelte-1tmoo4x"),sf(n,"small",e[0].small),Jh(c,"class","sign-up svelte-1tmoo4x"),Jh(a,"class","actions svelte-1tmoo4x"),sf(a,"small",e[0].small),Jh(t,"class","container svelte-1tmoo4x"),Jh(t,"data-testid","error-message-limit-exceeded-translator-free-write-anon-or-free"),sf(t,"small",e[0].small)},m(f,_){Hh(f,t,_),Bh(t,n),Bh(n,o),Bh(n,r),Bh(n,i),i.innerHTML=m,Bh(t,s),Bh(t,a),g&&g.m(a,null),Bh(a,l),Bh(a,c),Bh(t,d),h&&h.m(t,null),u||(p=Zh(c,"click",e[3]),u=!0)},p(e,[o]){1&o&&sf(n,"small",e[0].small),e[2]?g&&(g.d(1),g=null):g?g.p(e,o):(g=pw(e),g.c(),g.m(a,l)),1&o&&sf(a,"small",e[0].small),e[1]?h?h.p(e,o):(h=mw(e),h.c(),h.m(t,null)):h&&(h.d(1),h=null),1&o&&sf(t,"small",e[0].small)},i:gh,o:gh,d(e){e&&Fh(t),g&&g.d(),h&&h.d(),u=!1,p()}}}function hw(e,n,o){let r,i;Eh(e,r_,(e=>o(5,i=e)));let{config:s}=n,{close:a}=n;return _f((()=>{t({action:"dlTrackUpgradeNotificationIsDisplayed",payload:{type:r?Kt:Zt}})})),vf((()=>{t({action:"dlTrackUpgradeNotificationClosed",payload:{type:r?Kt:Zt}})})),e.$$set=e=>{"config"in e&&o(0,s=e.config),"close"in e&&o(1,a=e.close)},e.$$.update=()=>{32&e.$$.dirty&&o(2,r=hn(i))},[s,a,r,function(){let e="notification_free_account_limit_exceeded_write";if(s&&s.nicheIntegration)switch(s.nicheIntegration){case ut.gmail:e="gmail_customization_write";break;case ut.gslides:e="gslides_customization_write"}t({action:"dlExternalURLRedirect",payload:{destination:cy,utmContent:e}}),t({action:"dlTrackUpgradeNotificationAction",payload:{type:r?Kt:Zt,cta:Xt}})},function(){t({action:"dlRequestLogin"}).then((()=>{})).catch((e=>{console.log(e)})),t({action:"dlTrackUpgradeNotificationAction",payload:{type:r?Kt:Zt,cta:Jt}})},i]}class fw extends t_{constructor(e){super(),e_(this,e,hw,gw,wh,{config:0,close:1})}}function _w(e){let t,n,o,r;return{c(){t=qh("svg"),n=qh("path"),Jh(n,"d","M4 12L12 4M4 4L12 12"),Jh(n,"stroke","white"),Jh(n,"stroke-width","1.5"),Jh(n,"stroke-linecap","round"),Jh(n,"stroke-linejoin","round"),Jh(t,"width","16"),Jh(t,"height","16"),Jh(t,"viewBox","0 0 16 16"),Jh(t,"fill","none"),Jh(t,"xmlns","http://www.w3.org/2000/svg"),Jh(t,"class","svelte-1i5r4eu")},m(i,s){Hh(i,t,s),Bh(t,n),o||(r=Zh(t,"click",(function(){yh(e[1])&&e[1].apply(this,arguments)})),o=!0)},p(t,n){e=t},d(e){e&&Fh(t),o=!1,r()}}}function vw(e){let t,n,o,r,i,s,a,l,c,d,u,p=chrome.i18n.getMessage("limit_popup_write_anon_free_body")+"",m=e[1]&&_w(e);return{c(){t=Wh("div"),n=Wh("div"),o=Wh("h1"),o.textContent=`${chrome.i18n.getMessage("limit_popup_write_title")}`,r=Vh(),i=Wh("p"),s=Vh(),a=Wh("div"),l=Wh("button"),l.textContent=`${chrome.i18n.getMessage("limit_popup_upgrade_write_cta")}`,c=Vh(),m&&m.c(),Jh(o,"class","svelte-1i5r4eu"),Jh(i,"class","description svelte-1i5r4eu"),Jh(n,"class","messages svelte-1i5r4eu"),sf(n,"small",e[0].small),Jh(l,"class","sign-up svelte-1i5r4eu"),Jh(a,"class","actions svelte-1i5r4eu"),sf(a,"small",e[0].small),Jh(t,"class","container svelte-1i5r4eu"),Jh(t,"data-testid","error-message-limit-exceeded-translator-pro-write-anon-or-free"),sf(t,"small",e[0].small)},m(g,h){Hh(g,t,h),Bh(t,n),Bh(n,o),Bh(n,r),Bh(n,i),i.innerHTML=p,Bh(t,s),Bh(t,a),Bh(a,l),Bh(t,c),m&&m.m(t,null),d||(u=Zh(l,"click",e[2]),d=!0)},p(e,[o]){1&o&&sf(n,"small",e[0].small),1&o&&sf(a,"small",e[0].small),e[1]?m?m.p(e,o):(m=_w(e),m.c(),m.m(t,null)):m&&(m.d(1),m=null),1&o&&sf(t,"small",e[0].small)},i:gh,o:gh,d(e){e&&Fh(t),m&&m.d(),d=!1,u()}}}function yw(e,n,o){let r,i;Eh(e,r_,(e=>o(3,i=e)));let{config:s}=n,{close:a}=n;return _f((()=>{t({action:"dlTrackUpgradeNotificationIsDisplayed",payload:{type:r?Kt:Zt}})})),vf((()=>{t({action:"dlTrackUpgradeNotificationClosed",payload:{type:r?Kt:Zt}})})),e.$$set=e=>{"config"in e&&o(0,s=e.config),"close"in e&&o(1,a=e.close)},e.$$.update=()=>{8&e.$$.dirty&&(r=hn(i))},[s,a,function(){let e="notification_write_limit_exceeded_with_translator_pro";if(s&&s.nicheIntegration)switch(s.nicheIntegration){case ut.gmail:e="gmail_customization_write";break;case ut.gslides:e="gslides_customization_write"}t({action:"dlExternalURLRedirect",payload:{destination:cy,utmContent:e}}),t({action:"dlTrackUpgradeNotificationAction",payload:{type:r?Kt:Zt,cta:Xt}})},i]}class ww extends t_{constructor(e){super(),e_(this,e,yw,vw,wh,{config:0,close:1})}}function bw(e){let t,n,o;var r=e[2];function i(e,t){return{props:{config:e[1],close:e[0]}}}return r&&(t=cf(r,i(e))),{c(){t&&Xf(t.$$.fragment),n=Yh()},m(e,r){t&&Jf(t,e,r),Hh(e,n,r),o=!0},p(e,o){if(4&o&&r!==(r=e[2])){if(t){Hf();const e=t;Wf(e.$$.fragment,1,0,(()=>{Qf(e,1)})),Ff()}r?(t=cf(r,i(e)),Xf(t.$$.fragment),jf(t.$$.fragment,1),Jf(t,n.parentNode,n)):t=null}else if(r){const n={};2&o&&(n.config=e[1]),1&o&&(n.close=e[0]),t.$set(n)}},i(e){o||(t&&jf(t.$$.fragment,e),o=!0)},o(e){t&&Wf(t.$$.fragment,e),o=!1},d(e){e&&Fh(n),t&&Qf(t,e)}}}function Ew(e){let t,n;return t=new Qv({props:{close:e[0],config:e[1],$$slots:{default:[Sw]},$$scope:{ctx:e}}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.close=e[0]),2&n&&(o.config=e[1]),262&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function xw(e){let t,n;return t=new Zv({props:{close:e[0],config:e[1],$$slots:{default:[Tw]},$$scope:{ctx:e}}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.close=e[0]),2&n&&(o.config=e[1]),262&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function Sw(e){let t,n,o;var r=e[2];function i(e,t){return{props:{config:e[1]}}}return r&&(t=cf(r,i(e))),{c(){t&&Xf(t.$$.fragment),n=Yh()},m(e,r){t&&Jf(t,e,r),Hh(e,n,r),o=!0},p(e,o){if(4&o&&r!==(r=e[2])){if(t){Hf();const e=t;Wf(e.$$.fragment,1,0,(()=>{Qf(e,1)})),Ff()}r?(t=cf(r,i(e)),Xf(t.$$.fragment),jf(t.$$.fragment,1),Jf(t,n.parentNode,n)):t=null}else if(r){const n={};2&o&&(n.config=e[1]),t.$set(n)}},i(e){o||(t&&jf(t.$$.fragment,e),o=!0)},o(e){t&&Wf(t.$$.fragment,e),o=!1},d(e){e&&Fh(n),t&&Qf(t,e)}}}function Tw(e){let t,n,o;var r=e[2];function i(e,t){return{props:{config:e[1]}}}return r&&(t=cf(r,i(e))),{c(){t&&Xf(t.$$.fragment),n=Yh()},m(e,r){t&&Jf(t,e,r),Hh(e,n,r),o=!0},p(e,o){if(4&o&&r!==(r=e[2])){if(t){Hf();const e=t;Wf(e.$$.fragment,1,0,(()=>{Qf(e,1)})),Ff()}r?(t=cf(r,i(e)),Xf(t.$$.fragment),jf(t.$$.fragment,1),Jf(t,n.parentNode,n)):t=null}else if(r){const n={};2&o&&(n.config=e[1]),t.$set(n)}},i(e){o||(t&&jf(t.$$.fragment,e),o=!0)},o(e){t&&Wf(t.$$.fragment,e),o=!1},d(e){e&&Fh(n),t&&Qf(t,e)}}}function $w(e){let t,n,o,r;const i=[xw,Ew,bw],s=[];function a(e,t){return e[3]===e[4].SERIOUS||e[3]===e[4].UNKNOWN?0:e[3]===e[4].WARNING?1:e[3]===e[4].CUSTOM?2:-1}return~(t=a(e))&&(n=s[t]=i[t](e)),{c(){n&&n.c(),o=Yh()},m(e,n){~t&&s[t].m(e,n),Hh(e,o,n),r=!0},p(e,[r]){let l=t;t=a(e),t===l?~t&&s[t].p(e,r):(n&&(Hf(),Wf(s[l],1,1,(()=>{s[l]=null})),Ff()),~t?(n=s[t],n?n.p(e,r):(n=s[t]=i[t](e),n.c()),jf(n,1),n.m(o.parentNode,o)):n=null)},i(e){r||(jf(n),r=!0)},o(e){Wf(n),r=!1},d(e){e&&Fh(o),~t&&s[t].d(e)}}}function Cw(e,t,n){let r,i,{error:s}=t,{close:a}=t,{config:l={}}=t;const c={UNKNOWN:1,WARNING:2,SERIOUS:3,CUSTOM:4},d={[c_]:ty,[d_]:oy,[u_]:iy,[g_]:Ay,[Lv]:jy,[Iv]:jy,[Mv]:jy,[Av]:jy,[m_]:My,[f_]:My,[y_]:qy,[p_]:Cy,[h_]:zy,[v_]:Hy,[w_]:aw,[b_]:Qy,[E_]:uw,[x_]:fw,[S_]:ww,[Nv]:ty,[Dv]:oy,[Pv]:iy,[Uv]:Cy,[zv]:My,[jv]:My,[Bv]:Cy,[Fv]:zy,[Hv]:Ay,[Rv]:zy,[Ov]:zy};return _f((()=>{Wv()?o({action:"dlErrorVisibility",payload:{state:!0}}):qv.set(!0)})),vf((()=>{Wv()?o({action:"dlErrorVisibility",payload:{state:!1}}):qv.set(!1)})),e.$$set=e=>{"error"in e&&n(5,s=e.error),"close"in e&&n(0,a=e.close),"config"in e&&n(1,l=e.config)},e.$$.update=()=>{32&e.$$.dirty&&n(3,r=function(e){switch(e){case c_:case d_:case u_:case g_:case Nv:case Dv:case Pv:case Uv:case Lv:case Iv:case Mv:case Av:case v_:return c.SERIOUS;case m_:case f_:case zv:case jv:case y_:case p_:case h_:case Bv:case Fv:case Rv:case Ov:return c.WARNING;case w_:case b_:case x_:case S_:case E_:return c.CUSTOM;default:return c.UNKNOWN}}(s?s.error:"")),32&e.$$.dirty&&n(2,i=s&&d[s.error]||ty)},[a,l,i,r,c,s]}class kw extends t_{constructor(e){super(),e_(this,e,Cw,$w,wh,{error:5,close:0,config:1})}}function Lw(e){let t,n,o,r,i,s,a,l,c;return r=new kw({props:{error:e[3]}}),{c(){t=Wh("div"),n=Wh("button"),o=Vh(),Xf(r.$$.fragment),Jh(n,"class","close-button svelte-6y44uj"),Jh(t,"class","dl-zendesk-error-message svelte-6y44uj"),Jh(t,"dir",eo())},m(i,s){Hh(i,t,s),Bh(t,n),Bh(t,o),Jf(r,t,null),a=!0,l||(c=[Zh(n,"click",e[8]),Mh(dv.call(null,t,{isShadow:!0})),Zh(t,"click_outside",e[8])],l=!0)},p(e,t){const n={};8&t[0]&&(n.error=e[3]),r.$set(n)},i(e){a||(jf(r.$$.fragment,e),Mf((()=>{a&&(s&&s.end(1),i=Gf(t,N_,{y:-5,duration:300}),i.start())})),a=!0)},o(e){Wf(r.$$.fragment,e),i&&i.invalidate(),s=Vf(t,N_,{y:-5,duration:300}),a=!1},d(e){e&&Fh(t),Qf(r),e&&s&&s.end(),l=!1,vh(c)}}}function Mw(e){let t,n;return t=new kv({props:{value:e[6].zendeskFormality}}),t.$on("selection",e[9]),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p(e,n){const o={};64&n[0]&&(o.value=e[6].zendeskFormality),t.$set(o)},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function Iw(e){let t,n,o;return{c(){t=Wh("button"),t.innerHTML='<span class="svelte-6y44uj"></span>',Jh(t,"class","dl-zendesk-input-icon svelte-6y44uj"),sf(t,"is-active",e[1]),sf(t,"is-loading",e[2]),sf(t,"is-language-mismatching",e[0])},m(r,i){Hh(r,t,i),n||(o=Zh(t,"click",e[7]),n=!0)},p(e,n){2&n[0]&&sf(t,"is-active",e[1]),4&n[0]&&sf(t,"is-loading",e[2]),1&n[0]&&sf(t,"is-language-mismatching",e[0])},d(e){e&&Fh(t),n=!1,o()}}}function Aw(e){let t,n,o,r,i,s=e[3]&&Lw(e),a=e[4]&&Mw(e);return r=new fv({props:{tooltip:e[5],zIndex:"0",$$slots:{default:[Iw]},$$scope:{ctx:e}}}),{c(){s&&s.c(),t=Vh(),n=Wh("div"),a&&a.c(),o=Vh(),Xf(r.$$.fragment),Jh(n,"class","dl-icons-holder svelte-6y44uj"),Jh(n,"dir",eo()),sf(n,"has-formality",e[4])},m(e,l){s&&s.m(e,l),Hh(e,t,l),Hh(e,n,l),a&&a.m(n,null),Bh(n,o),Jf(r,n,null),i=!0},p(e,l){e[3]?s?(s.p(e,l),8&l[0]&&jf(s,1)):(s=Lw(e),s.c(),jf(s,1),s.m(t.parentNode,t)):s&&(Hf(),Wf(s,1,1,(()=>{s=null})),Ff()),e[4]?a?(a.p(e,l),16&l[0]&&jf(a,1)):(a=Mw(e),a.c(),jf(a,1),a.m(n,o)):a&&(Hf(),Wf(a,1,1,(()=>{a=null})),Ff());const c={};32&l[0]&&(c.tooltip=e[5]),7&l[0]|4&l[1]&&(c.$$scope={dirty:l,ctx:e}),r.$set(c),(!i||16&l[0])&&sf(n,"has-formality",e[4])},i(e){i||(jf(s),jf(a),jf(r.$$.fragment,e),i=!0)},o(e){Wf(s),Wf(a),Wf(r.$$.fragment,e),i=!1},d(e){e&&(Fh(t),Fh(n)),s&&s.d(e),a&&a.d(),Qf(r)}}}function Rw(e,n,o){let i,s,a;Eh(e,r_,(e=>o(6,a=e))),wf("text_direction",eo());let l,c,d,u,{controller:p}=n,{editable:m}=n,g=!1,h=!1,f=!1,_=!1,v="",y="",w=!1;const b=()=>{o(1,g=!0)},E=()=>{o(1,g=!1)};async function x(e,n,o){if("dlTriggerTranslationShortcut"===e.action){if(document.activeElement!==m)return;try{t({action:"dlTrackUseOfShortcut",payload:{shortcutType:Pe,location:J}})}catch(e){console.error(e)}await S(),o()}return!0}const S=async()=>{if(_)return;const e=En(),t=()=>{if(e){const e=window.getSelection().toString();navigator.clipboard.writeText(e).then((()=>{T(e)})).catch((e=>{console.error("Unable to copy text to clipboard",e)}))}else{const e=new ClipboardEvent("copy",{bubbles:!0,clipboardData:new DataTransfer});h=!0,m.dispatchEvent(e)}},n=window.getSelection();let o;o=e?n&&n.anchorNode&&"#text"==n.anchorNode.nodeName&&"Range"==n.type&&m.contains(n.anchorNode):n&&n.baseNode&&"#text"==n.baseNode.nodeName&&"Range"==n.type&&m.contains(n.baseNode),0!==m.innerText.trim().length&&(o?t():(await K_(m),setTimeout(t,300)))},T=async e=>{h=!1,o(2,_=!0),o(0,w=!1);const t=p.getTicketLanguageInformation()?.language,n=p.getInputWorkingArea();n.innerHTML=$n(e);const[r,s]=await zB({element:n,targetLang:t,...i&&["formal","informal"].includes(a.zendeskFormality)&&{formality:a.zendeskFormality}});s?(console.error({e:s}),o(3,d=s),XB({eventType:Et,controller:p,error:s.error||s.message})):r&&k(r,e),o(2,_=!1)},$=async e=>{if(!h)return;h=!1,o(2,_=!0),o(0,w=!1);const t=p.getTicketLanguageInformation()?.language,n=e.clipboardData.getData("text/html"),r=p.getInputWorkingArea();r.innerHTML=$n(n);const[s,l]=await zB({element:r,targetLang:t,...i&&["formal","informal"].includes(a.zendeskFormality)&&{formality:a.zendeskFormality}});l?(console.error({e:l}),o(3,d=l),XB({eventType:Et,controller:p,error:l.error||l.message})):s&&k(s,n),o(2,_=!1)},C=()=>{if(!f)return;f=!1;window.getSelection().collapse(null)},k=(e,t)=>{if(En())document.execCommand("insertText",!1,e),f=!0;else{const t=new DataTransfer;t.setData("text/html",e);const n=new ClipboardEvent("paste",{bubbles:!0,clipboardData:t});f=!0,m.dispatchEvent(n)}XB({eventType:bt,controller:p,sourceTextLength:t.length,targetTextLength:e.length})},L=()=>{const e=m.innerText;e!==y&&(y=e,u&&(clearTimeout(u),u=void 0),u=setTimeout(M,400))},M=async()=>{const e=p.getTicketLanguageInformation();if(!e||!e.isSupported||!e.isDetected)return;const t=m.innerText;if(t.trim()){console.log("There has content: ",`${t.trim()}`);let n=await Yn(t),r=e.language;n=Kn(n),r=Kn(r);let i=!1;n&&r&&n!==r&&(i=!0),w!==i&&o(0,w=i)}else console.log("There is no content"),o(0,w=!1),I()},I=()=>{l&&l.resetTooltip()};return _f((()=>{chrome.runtime.onMessage.addListener(x),t({action:"dlCheckCommandShortcuts"}).then((e=>{o(14,v=e?e.filter((e=>e.name==Pe))[0].shortcut:"")})),m.addEventListener("focus",b),m.addEventListener("blur",E),m.addEventListener("copy",$),m.addEventListener("paste",C),m.addEventListener("keydown",L),l=Ex(p),document.activeElement===m&&b()})),vf((()=>{chrome.runtime.onMessage.removeListener(x),m&&(m.removeEventListener("focus",b),m.removeEventListener("blur",E),m.removeEventListener("copy",$),m.removeEventListener("paste",C),m.removeEventListener("keydown",L),l&&(l.cleanupDOM(),l.remove()))})),e.$$set=e=>{"controller"in e&&o(10,p=e.controller),"editable"in e&&o(11,m=e.editable)},e.$$.update=()=>{32768&e.$$.dirty[0]&&o(4,i=Qn(c)),49152&e.$$.dirty[0]&&o(5,s=r.find((e=>e.langCode===c))?chrome.i18n.getMessage("ui_zendesk_input_tooltip")+(v?` (${v})`:""):""),1&e.$$.dirty[0]&&l&&l.setIsLanguageMismatching(w)},[w,g,_,d,i,s,a,S,()=>{o(3,d=void 0)},e=>{const t=e.detail.selectedOption.value;Lh(r_,a.zendeskFormality=t,a)},p,m,e=>{o(15,c=e)},()=>{const e=window.getSelection();return e&&e.baseNode&&"#text"==e.baseNode.nodeName&&"Range"==e.type&&m.contains(e.baseNode)},v,c]}class Ow extends t_{constructor(e){super(),e_(this,e,Rw,Aw,wh,{controller:10,editable:11,updateTargetLanguage:12,getInputHasSelection:13},null,[-1,-1])}get updateTargetLanguage(){return this.$$.ctx[12]}get getInputHasSelection(){return this.$$.ctx[13]}}class Nw{static HTML_TAG_NAME="deepl-zendesk-input-icon";static createElement=(e=document)=>{const t=e.createElement(Nw.HTML_TAG_NAME),n=new Nw(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.getInputHasSelection=n.getInputHasSelection,t.updateTargetLanguage=n.updateTargetLanguage,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer)}createDOM=({controller:e,editable:t})=>{this.domElement.mainComponent=new Ow({target:this.domElement.shadowContainer,props:{onClose:this.cleanupDOM,controller:e,editable:t}})};getInputHasSelection=()=>this.domElement.mainComponent.getInputHasSelection();updateTargetLanguage=e=>{this.domElement.mainComponent?.updateTargetLanguage(e)};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function Dw(e,t,n){const o=e.slice();return o[16]=t[n],o[18]=n,o}function Pw(e){let t,n,o=!e[0]&&zw(e),r=Zf(e[3]),i=[];for(let t=0;t<r.length;t+=1)i[t]=Fw(Dw(e,r,t));return{c(){t=Wh("div"),o&&o.c(),n=Vh();for(let e=0;e<i.length;e+=1)i[e].c();Jh(t,"class","dl-zendesk-translation-placeholder svelte-1xx4hw"),Jh(t,"dir",eo()),sf(t,"loading-skeleton",e[0])},m(e,r){Hh(e,t,r),o&&o.m(t,null),Bh(t,n);for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,null)},p(e,s){if(e[0]?o&&(o.d(1),o=null):o?o.p(e,s):(o=zw(e),o.c(),o.m(t,n)),8&s){let n;for(r=Zf(e[3]),n=0;n<r.length;n+=1){const o=Dw(e,r,n);i[n]?i[n].p(o,s):(i[n]=Fw(o),i[n].c(),i[n].m(t,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=r.length}1&s&&sf(t,"loading-skeleton",e[0])},i:gh,o:gh,d(e){e&&Fh(t),o&&o.d(),jh(i,e)}}}function Bw(e){let t,n,o;return n=new kw({props:{error:e[2],close:e[6]}}),{c(){t=Wh("div"),Xf(n.$$.fragment),Jh(t,"class","dl-zendesk-translation-placeholder has-error svelte-1xx4hw")},m(e,r){Hh(e,t,r),Jf(n,t,null),o=!0},p(e,t){const o={};4&t&&(o.error=e[2]),n.$set(o)},i(e){o||(jf(n.$$.fragment,e),o=!0)},o(e){Wf(n.$$.fragment,e),o=!1},d(e){e&&Fh(t),Qf(n)}}}function zw(e){let t,n,o;return{c(){t=Wh("button"),Jh(t,"class","close-button svelte-1xx4hw")},m(r,i){Hh(r,t,i),n||(o=Zh(t,"click",e[5]),n=!0)},p:gh,d(e){e&&Fh(t),n=!1,o()}}}function Uw(e){let t,n=$n(e[16])+"";return{c(){t=Wh("span"),Jh(t,"class","svelte-1xx4hw")},m(e,o){Hh(e,t,o),t.innerHTML=n},p(e,o){8&o&&n!==(n=$n(e[16])+"")&&(t.innerHTML=n)},d(e){e&&Fh(t)}}}function Hw(e){let t;return{c(){t=Wh("br")},m(e,n){Hh(e,t,n)},d(e){e&&Fh(t)}}}function Fw(e){let t,n,o=e[16]&&Uw(e),r=e[18]<e[3].length-1&&Hw();return{c(){o&&o.c(),t=Vh(),r&&r.c(),n=Yh()},m(e,i){o&&o.m(e,i),Hh(e,t,i),r&&r.m(e,i),Hh(e,n,i)},p(e,i){e[16]?o?o.p(e,i):(o=Uw(e),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null),e[18]<e[3].length-1?r||(r=Hw(),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(e){e&&(Fh(t),Fh(n)),o&&o.d(e),r&&r.d(e)}}}function jw(e){let t,n,o,r,i,s,a,l,c;const d=[Bw,Pw],u=[];function p(e,t){return e[2]?0:e[1]||e[0]?1:-1}return~(r=p(e))&&(i=u[r]=d[r](e)),{c(){t=Wh("div"),n=Wh("button"),n.textContent=`${chrome.i18n.getMessage("ui_zendesk_message_translate")}`,o=Vh(),i&&i.c(),s=Yh(),Jh(n,"class","dl-zendesk-translate-this-ticket svelte-1xx4hw"),Jh(t,"dir",eo())},m(i,d){Hh(i,t,d),Bh(t,n),Hh(i,o,d),~r&&u[r].m(i,d),Hh(i,s,d),a=!0,l||(c=Zh(n,"click",e[4]),l=!0)},p(e,[t]){let n=r;r=p(e),r===n?~r&&u[r].p(e,t):(i&&(Hf(),Wf(u[n],1,1,(()=>{u[n]=null})),Ff()),~r?(i=u[r],i?i.p(e,t):(i=u[r]=d[r](e),i.c()),jf(i,1),i.m(s.parentNode,s)):i=null)},i(e){a||(jf(i),a=!0)},o(e){Wf(i),a=!1},d(e){e&&(Fh(t),Fh(o),Fh(s)),~r&&u[r].d(e),l=!1,c()}}}function Ww(e,t,n){let o,r;Eh(e,r_,(e=>n(14,r=e))),wf("text_direction",eo());let i,{controller:s}=t,{message:a}=t,l=!1,c=!1,d=!1,u="",p=!1;const m=async({trigger:e})=>{n(1,d=!1),n(0,l=!0),n(2,i=void 0);let t=cx(a).innerText;n(11,u=t);const[o,c]=await UB({targetLang:r.selectedTargetLanguage,sourceLang:s.getTicketLanguageInformation()?.language,text:t,trigger:e});if(c)n(11,u=""),n(1,d=!1),n(2,i=c),p=!0,XB({eventType:Et,controller:s,error:c.error||c.message});else if(o){n(11,u=o),n(1,d=!0),XB({eventType:wt,controller:s,sourceTextLength:t.length,targetTextLength:u.length})}else n(1,d=!0);n(0,l=!1)};return e.$$set=e=>{"controller"in e&&n(7,s=e.controller),"message"in e&&n(8,a=e.message)},e.$$.update=()=>{2048&e.$$.dirty&&n(3,o=u.split("\n"))},[l,d,i,o,()=>{l||m({trigger:_})},()=>{n(1,d=!1),n(0,l=!1),n(11,u=""),s.getIsAutoTranslatedEnabled()&&(c=!0)},()=>{n(2,i=void 0)},s,a,()=>{!s.getIsAutoTranslatedEnabled()||d||l||c||p||m({trigger:f})},()=>{!d||l||c||m({trigger:_})},u]}class qw extends t_{constructor(e){super(),e_(this,e,Ww,jw,wh,{controller:7,message:8,processRefreshUI:9,triggerTranslateAgain:10})}get processRefreshUI(){return this.$$.ctx[9]}get triggerTranslateAgain(){return this.$$.ctx[10]}}class Gw{static HTML_TAG_NAME="deepl-zendesk-message-controller";static createElement=(e=document)=>{const t=e.createElement(Gw.HTML_TAG_NAME),n=new Gw(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.processRefreshUI=n.processRefreshUI,t.triggerTranslateAgain=n.triggerTranslateAgain,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer)}createDOM=({controller:e,message:t})=>{this.domElement.mainComponent=new qw({target:this.domElement.shadowContainer,props:{onClose:this.cleanupDOM,controller:e,message:t}})};processRefreshUI=()=>{this.domElement.mainComponent.processRefreshUI()};triggerTranslateAgain=()=>{this.domElement.mainComponent.triggerTranslateAgain()};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function Vw(e){let t,n,o,r,i,s,a,l,c,d=chrome.i18n.getMessage("ui_zendesk_input_language_mismatch")+"";return{c(){t=Wh("div"),n=Wh("button"),o=Vh(),r=Gh(d),Jh(n,"class","dismiss-tooltip svelte-p7jbvt"),Jh(t,"class","dl-zendesk-submit-button-tooltip svelte-p7jbvt"),tf(t,"max-width",(e[1].width||0)+"px"),tf(t,"bottom",e[0].height+12+"px"),Jh(t,"dir",eo())},m(i,s){Hh(i,t,s),Bh(t,n),Bh(t,o),Bh(t,r),a=!0,l||(c=Zh(n,"click",e[4]),l=!0)},p(e,n){(!a||2&n)&&tf(t,"max-width",(e[1].width||0)+"px"),(!a||1&n)&&tf(t,"bottom",e[0].height+12+"px")},i(e){a||(Mf((()=>{a&&(s&&s.end(1),i=Gf(t,N_,{y:-5,duration:500}),i.start())})),a=!0)},o(e){i&&i.invalidate(),s=Vf(t,N_,{y:-5,duration:500}),a=!1},d(e){e&&Fh(t),e&&s&&s.end(),l=!1,c()}}}function Yw(e){let t,n,o=e[2]&&!e[3]&&Vw(e);return{c(){o&&o.c(),t=Yh()},m(e,r){o&&o.m(e,r),Hh(e,t,r),n=!0},p(e,[n]){e[2]&&!e[3]?o?(o.p(e,n),12&n&&jf(o,1)):(o=Vw(e),o.c(),jf(o,1),o.m(t.parentNode,t)):o&&(Hf(),Wf(o,1,1,(()=>{o=null})),Ff())},i(e){n||(jf(o),n=!0)},o(e){Wf(o),n=!1},d(e){e&&Fh(t),o&&o.d(e)}}}function Zw(e,t,n){wf("text_direction",eo());let{coords:o}=t,{containerCoords:r}=t,i=!1,s=!1;return e.$$set=e=>{"coords"in e&&n(0,o=e.coords),"containerCoords"in e&&n(1,r=e.containerCoords)},[o,r,i,s,()=>{n(3,s=!0)},e=>{n(2,i=e)},()=>{console.log("Resetting tooltip..."),n(2,i=!1),n(3,s=!1)}]}class Kw extends t_{constructor(e){super(),e_(this,e,Zw,Yw,wh,{coords:0,containerCoords:1,setIsLanguageMismatching:5,resetTooltip:6})}get setIsLanguageMismatching(){return this.$$.ctx[5]}get resetTooltip(){return this.$$.ctx[6]}}class Xw{static HTML_TAG_NAME="deepl-zendesk-submit-button-tooltip";static createElement=(e=document)=>{const t=e.createElement(Xw.HTML_TAG_NAME),n=new Xw(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.setIsLanguageMismatching=n.setIsLanguageMismatching,t.resetTooltip=n.resetTooltip,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer)}createDOM=({coords:e,containerCoords:t})=>{this.domElement.mainComponent=new Kw({target:this.domElement.shadowContainer,props:{onClose:this.cleanupDOM,coords:e,containerCoords:t}})};setIsLanguageMismatching=e=>{this.domElement.mainComponent?.setIsLanguageMismatching(e)};resetTooltip=()=>{this.domElement.mainComponent?.resetTooltip()};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function Jw(e){let t,n,o;return{c(){t=Wh("div"),n=Vh(),o=Wh("div"),Jh(t,"class","dl-zendesk-icon svelte-i3vxpb"),Jh(o,"class","dl-zendesk-working-area svelte-i3vxpb")},m(e,r){Hh(e,t,r),Hh(e,n,r),Hh(e,o,r)},p:gh,i:gh,o:gh,d(e){e&&(Fh(t),Fh(n),Fh(o))}}}function Qw(e,t,n){let o;Eh(e,r_,(e=>n(17,o=e))),wf("text_direction",eo());let i,{pane:s}=t,{ticketId:a}=t,{controller:l}=t,c={language:"",isDetected:!1,isSupported:!1,hasAttemptedLanguageDetection:!1},d=!1;const u={inputIconLanguageUpdate:void 0,topIconLanguageUpdate:void 0,toolbarLanguageUpdate:void 0,toolbarAutoTranslateStatus:void 0,ticketTypeDetection:void 0},p=(e,t)=>{u[e]=t},m=()=>{for(const e of Object.keys(u))if(u[e]){u[e]()&&(u[e]=void 0)}},g=async()=>{if(!i)return;let e;try{switch(i){case xt:e=await dx(s);break;case St:e=await ux(s)}}catch(e){Eo()&&console.error({e:e})}e&&(e=Kn(e),n(13,c.hasAttemptedLanguageDetection=!0,c),n(13,c.language=e,c),n(13,c.isDetected=!0,c),n(13,c.isSupported=!!r.find((t=>t.langCode===e)),c),XB({eventType:ft,controller:l}),xx(s))};return _f((()=>{XB({eventType:ht,controller:l}),p("ticketTypeDetection",(()=>{const e=ix(s);return!!e&&(i=e,g(),!0)}))})),e.$$set=e=>{"pane"in e&&n(0,s=e.pane),"ticketId"in e&&n(1,a=e.ticketId),"controller"in e&&n(2,l=e.controller)},e.$$.update=()=>{8193&e.$$.dirty&&p("toolbarLanguageUpdate",(()=>px(s,{language:c.language,isDetected:c.isDetected,isSupported:c.isSupported}))),8193&e.$$.dirty&&(p("inputIconLanguageUpdate",(()=>hx(s,c.language))),p("topIconLanguageUpdate",(()=>gx(s)))),16385&e.$$.dirty&&p("toolbarAutoTranslateStatus",(()=>{mx(s,{isEnabled:d})}))},[s,a,l,()=>s,()=>a,()=>c,()=>d,e=>{n(13,c.language=e.language,c),n(13,c.isDetected=e.isDetected,c),n(13,c.isSupported=e.isSupported,c)},e=>{n(14,d=e)},()=>i,e=>{i=e},async(e=!1)=>{if(e&&n(13,c={language:"",isDetected:!1,isSupported:!1,hasAttemptedLanguageDetection:!1}),c.hasAttemptedLanguageDetection||await g(),JE(l,o.isZendeskEnabled),c.isSupported&&o.isZendeskEnabled){fx(l);for(const e of sx(s)){const t=_x(e);t&&t.processRefreshUI()}}wx(s),m()},()=>{bx(s)},c,d]}class eb extends t_{constructor(e){super(),e_(this,e,Qw,Jw,wh,{pane:0,ticketId:1,controller:2,getPane:3,getTicketId:4,getTicketLanguageInformation:5,getIsAutoTranslatedEnabled:6,setLanguageInformation:7,setIsAutoTranslateEnabled:8,getTicketType:9,setTicketType:10,processRefreshUI:11,getInputHasSelection:12})}get getPane(){return this.$$.ctx[3]}get getTicketId(){return this.$$.ctx[4]}get getTicketLanguageInformation(){return this.$$.ctx[5]}get getIsAutoTranslatedEnabled(){return this.$$.ctx[6]}get setLanguageInformation(){return this.$$.ctx[7]}get setIsAutoTranslateEnabled(){return this.$$.ctx[8]}get getTicketType(){return this.$$.ctx[9]}get setTicketType(){return this.$$.ctx[10]}get processRefreshUI(){return this.$$.ctx[11]}get getInputHasSelection(){return this.$$.ctx[12]}}class tb{static HTML_TAG_NAME="deepl-zendesk-ticket-controller";static createElement=(e=document)=>{const t=e.createElement(tb.HTML_TAG_NAME),n=new tb(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.getTicketId=n.getTicketId,t.getPane=n.getPane,t.getTicketLanguageInformation=n.getTicketLanguageInformation,t.getIsAutoTranslatedEnabled=n.getIsAutoTranslatedEnabled,t.setIsAutoTranslateEnabled=n.setIsAutoTranslateEnabled,t.getInputWorkingArea=n.getInputWorkingArea,t.setLanguageInformation=n.setLanguageInformation,t.getTicketType=n.getTicketType,t.setTicketType=n.setTicketType,t.processRefreshUI=n.processRefreshUI,t.getInputHasSelection=n.getInputHasSelection,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer)}createDOM=({ticketId:e,pane:t})=>{this.domElement.mainComponent=new eb({target:this.domElement.shadowContainer,props:{onClose:this.cleanupDOM,controller:this.domElement,ticketId:e,pane:t}})};getTicketId=()=>this.domElement.mainComponent?.getTicketId();getPane=()=>this.domElement.mainComponent?.getPane();getTicketLanguageInformation=()=>this.domElement.mainComponent?.getTicketLanguageInformation();getIsAutoTranslatedEnabled=()=>this.domElement.mainComponent?.getIsAutoTranslatedEnabled();setIsAutoTranslateEnabled=e=>{this.domElement.mainComponent?.setIsAutoTranslateEnabled(e)};getInputWorkingArea=()=>this.domElement.shadowContainer.querySelector(".dl-zendesk-working-area");setLanguageInformation=e=>{this.domElement.mainComponent?.setLanguageInformation(e)};getTicketType=()=>this.domElement.mainComponent?.getTicketType();setTicketType=e=>{this.domElement.mainComponent?.setTicketType(e)};processRefreshUI=(e=!1)=>{this.domElement.mainComponent.processRefreshUI(e)};getInputHasSelection=()=>this.domElement.mainComponent?.getInputHasSelection();cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function nb(e){let t,n,o,r,i;return n=new Tv({props:{items:e[3],selectedOption:e[2],alignRight:!1,dataQaButton:"deepl-language-selection-button",dataQaList:"deepl-language-selection-list",variant:"zendesk",isFullWidth:e[1],extraText:e[0]?chrome.i18n.getMessage("ui_zendesk_language_detected"):""}}),n.$on("valueselected",e[4]),{c(){t=Wh("div"),Xf(n.$$.fragment)},m(s,a){Hh(s,t,a),Jf(n,t,null),o=!0,r||(i=Zh(t,"mousedown",Xh(Kh(e[7]))),r=!0)},p(e,[t]){const o={};8&t&&(o.items=e[3]),4&t&&(o.selectedOption=e[2]),2&t&&(o.isFullWidth=e[1]),1&t&&(o.extraText=e[0]?chrome.i18n.getMessage("ui_zendesk_language_detected"):""),n.$set(o)},i(e){o||(jf(n.$$.fragment,e),o=!0)},o(e){Wf(n.$$.fragment,e),o=!1},d(e){e&&Fh(t),Qf(n),r=!1,i()}}}function ob(e,t,n){let o,r;const i=yf(),s=Zn();let{value:a}=t,{isDetected:l=!1}=t,{isSupported:c=!0}=t,{isFullWidth:d=!1}=t;const u={label:chrome.i18n.getMessage("writing_config_tab_language_selector_empty"),selectedOptionLabel:chrome.i18n.getMessage("writing_config_tab_language_selector_empty"),value:"NOT_SUPPORTED"};return e.$$set=e=>{"value"in e&&n(5,a=e.value),"isDetected"in e&&n(0,l=e.isDetected),"isSupported"in e&&n(6,c=e.isSupported),"isFullWidth"in e&&n(1,d=e.isFullWidth)},e.$$.update=()=>{64&e.$$.dirty&&n(3,o=[...c?[]:[u],...s]),96&e.$$.dirty&&n(2,r=c?a?s.find((e=>e.value===a)):void 0:u)},[l,d,r,o,function(e){e.detail.selectedOption.value!==a&&i("selection",e.detail)},a,c,function(t){Ef.call(this,e,t)}]}class rb extends t_{constructor(e){super(),e_(this,e,ob,nb,wh,{value:5,isDetected:0,isSupported:6,isFullWidth:1})}}function ib(e){let t,n,o,r;function i(e,t){return e[1]?lb:ab}let s=i(e),a=s(e);return{c(){t=Wh("button"),a.c(),Jh(t,"class","translate-all svelte-147seig"),t.disabled=n=!e[0].isSupported},m(n,i){Hh(n,t,i),a.m(t,null),o||(r=Zh(t,"click",e[6]),o=!0)},p(e,o){s===(s=i(e))&&a?a.p(e,o):(a.d(1),a=s(e),a&&(a.c(),a.m(t,null))),1&o&&n!==(n=!e[0].isSupported)&&(t.disabled=n)},i:gh,o:gh,d(e){e&&Fh(t),a.d(),o=!1,r()}}}function sb(e){let t,n;return t=new fv({props:{tooltip:chrome.i18n.getMessage(e[1]?"ui_zendesk_autotranslate_stop":"ui_zendesk_autotranslate_start"),$$slots:{default:[cb]},$$scope:{ctx:e}}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p(e,n){const o={};2&n&&(o.tooltip=chrome.i18n.getMessage(e[1]?"ui_zendesk_autotranslate_stop":"ui_zendesk_autotranslate_start")),131073&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function ab(e){let t,n=chrome.i18n.getMessage("ui_zendesk_autotranslate_start")+"";return{c(){t=Gh(n)},m(e,n){Hh(e,t,n)},p:gh,d(e){e&&Fh(t)}}}function lb(e){let t,n=chrome.i18n.getMessage("ui_zendesk_autotranslate_stop")+"";return{c(){t=Gh(n)},m(e,n){Hh(e,t,n)},p:gh,d(e){e&&Fh(t)}}}function cb(e){let t,n,o,r;return{c(){t=Wh("button"),Jh(t,"class","translate-all btn-icon svelte-147seig"),t.disabled=n=!e[0].isSupported},m(n,i){Hh(n,t,i),o||(r=Zh(t,"click",e[6]),o=!0)},p(e,o){1&o&&n!==(n=!e[0].isSupported)&&(t.disabled=n)},d(e){e&&Fh(t),o=!1,r()}}}function db(e){let t,n,o,r,i,s,a,l,c,d,u,p,m,g,h,f;c=new rb({props:{value:e[0].language,isDetected:e[0].isDetected,isSupported:e[0].isSupported,isFullWidth:"lg"!==e[4]}}),c.$on("selection",e[5]);const _=[sb,ib],v=[];function y(e,t){return"sm"===e[4]?0:1}return p=y(e),m=v[p]=_[p](e),{c(){t=Wh("div"),n=Wh("div"),o=Wh("button"),r=Vh(),i=Wh("div"),s=Wh("div"),s.textContent=`${chrome.i18n.getMessage("ui_zendesk_senders_language")}`,a=Vh(),l=Wh("div"),Xf(c.$$.fragment),d=Vh(),u=Wh("div"),m.c(),Jh(o,"class","senders-language-toggle svelte-147seig"),Jh(s,"class","label svelte-147seig"),Jh(l,"class","dropdown-container svelte-147seig"),Jh(i,"class","container svelte-147seig"),sf(i,"show",e[3]),Jh(n,"class","senders-language svelte-147seig"),Jh(u,"class","translate-all-container"),Jh(t,"class","dl-zendesk-toolbar svelte-147seig"),Jh(t,"dir",eo()),sf(t,"toolbar-sm","sm"===e[4]),sf(t,"toolbar-md","md"===e[4]),sf(t,"toolbar-lg","lg"===e[4])},m(m,_){Hh(m,t,_),Bh(t,n),Bh(n,o),Bh(n,r),Bh(n,i),Bh(i,s),Bh(i,a),Bh(i,l),Jf(c,l,null),Bh(t,d),Bh(t,u),v[p].m(u,null),e[13](t),g=!0,h||(f=[Zh(o,"click",e[7]),Mh(dv.call(null,n,{isShadow:!0})),Zh(n,"click_outside",e[12])],h=!0)},p(e,[n]){const o={};1&n&&(o.value=e[0].language),1&n&&(o.isDetected=e[0].isDetected),1&n&&(o.isSupported=e[0].isSupported),16&n&&(o.isFullWidth="lg"!==e[4]),c.$set(o),(!g||8&n)&&sf(i,"show",e[3]);let r=p;p=y(e),p===r?v[p].p(e,n):(Hf(),Wf(v[r],1,1,(()=>{v[r]=null})),Ff(),m=v[p],m?m.p(e,n):(m=v[p]=_[p](e),m.c()),jf(m,1),m.m(u,null)),(!g||16&n)&&sf(t,"toolbar-sm","sm"===e[4]),(!g||16&n)&&sf(t,"toolbar-md","md"===e[4]),(!g||16&n)&&sf(t,"toolbar-lg","lg"===e[4])},i(e){g||(jf(c.$$.fragment,e),jf(m),g=!0)},o(e){Wf(c.$$.fragment,e),Wf(m),g=!1},d(n){n&&Fh(t),Qf(c),v[p].d(),e[13](null),h=!1,vh(f)}}}function ub(e,t,n){let o;wf("text_direction",eo());const r=[{key:"sm",max:300},{key:"md",min:301,max:650},{key:"lg",min:651,isDefault:!0}];let{controller:i}=t;const s={language:"",isDetected:!1,isSupported:!1};let a,l,c,d=!1,u=!1;_f((()=>{c=_v(a,(e=>{n(11,l=e.clientWidth)}))})),vf((()=>{c&&c()}));return e.$$set=e=>{"controller"in e&&n(8,i=e.controller)},e.$$.update=()=>{2048&e.$$.dirty&&n(4,o=(e=>{const t=r.find((e=>e.isDefault));for(const t of r)if(!(t.min&&t.min>e||t.max&&t.max<e))return t.key;return t.key})(l))},[s,d,a,u,o,e=>{const t=e.detail.selectedOption.value;i.setLanguageInformation({language:t,isDetected:!1,isSupported:!0}),XB({eventType:_t,controller:i,metaDataOverride:{ticketLanguage:t,isTicketLanguageAutodetected:!1}})},()=>{const e=!d;i.setIsAutoTranslateEnabled(e),XB({eventType:e?vt:yt,controller:i,metaDataOverride:{isAutoTranslateEnabled:e}})},()=>{n(3,u=!u)},i,({language:e,isDetected:t,isSupported:o})=>{n(0,s.language=e,s),n(0,s.isDetected=t,s),n(0,s.isSupported=o,s)},e=>{n(1,d=e)},l,()=>n(3,u=!1),function(e){Sf[e?"unshift":"push"]((()=>{a=e,n(2,a)}))}]}class pb extends t_{constructor(e){super(),e_(this,e,ub,db,wh,{controller:8,updateLanguageInformation:9,updateAutoTranslateStatus:10})}get updateLanguageInformation(){return this.$$.ctx[9]}get updateAutoTranslateStatus(){return this.$$.ctx[10]}}class mb{static HTML_TAG_NAME="deepl-zendesk-toolbar";static createElement=(e=document)=>{const t=e.createElement(mb.HTML_TAG_NAME),n=new mb(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.updateLanguageInformation=n.updateLanguageInformation,t.updateAutoTranslateStatus=n.updateAutoTranslateStatus,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer)}createDOM=({controller:e})=>{this.domElement.mainComponent=new pb({target:this.domElement.shadowContainer,props:{onClose:this.cleanupDOM,controller:e}})};updateLanguageInformation=e=>{this.domElement.mainComponent.updateLanguageInformation(e)};updateAutoTranslateStatus=e=>{this.domElement.mainComponent.updateAutoTranslateStatus(e)};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function gb(e){let t,n,o,r,i;return n=new kw({props:{error:e[1],close:e[2]}}),{c(){t=Wh("div"),Xf(n.$$.fragment),Jh(t,"class","container svelte-1wstx56"),Jh(t,"dir",eo())},m(e,o){Hh(e,t,o),Jf(n,t,null),i=!0},p(e,t){const o={};2&t&&(o.error=e[1]),4&t&&(o.close=e[2]),n.$set(o)},i(e){i||(jf(n.$$.fragment,e),Mf((()=>{i&&(r&&r.end(1),o=Gf(t,N_,{x:100,duration:1e3}),o.start())})),i=!0)},o(e){Wf(n.$$.fragment,e),o&&o.invalidate(),r=Vf(t,N_,{x:100,duration:1e3}),i=!1},d(e){e&&Fh(t),Qf(n),e&&r&&r.end()}}}function hb(e){let t,n,o=e[3]&&!1===e[0]&&gb(e);return{c(){o&&o.c(),t=Yh()},m(e,r){o&&o.m(e,r),Hh(e,t,r),n=!0},p(e,[n]){e[3]&&!1===e[0]?o?(o.p(e,n),9&n&&jf(o,1)):(o=gb(e),o.c(),jf(o,1),o.m(t.parentNode,t)):o&&(Hf(),Wf(o,1,1,(()=>{o=null})),Ff())},i(e){n||(jf(o),n=!0)},o(e){Wf(o),n=!1},d(e){e&&Fh(t),o&&o.d(e)}}}function fb(e,t,n){let o;Eh(e,qv,(e=>n(4,o=e))),wf("text_direction",eo());let{error:r}=t,{close:i}=t,{errorAlreadyShown:s}=t,a=!1;return _f((()=>{setTimeout((()=>{n(3,a=!0),n(0,s=o)}),100)})),e.$$set=e=>{"error"in e&&n(1,r=e.error),"close"in e&&n(2,i=e.close),"errorAlreadyShown"in e&&n(0,s=e.errorAlreadyShown)},[s,r,i,a]}class _b extends t_{constructor(e){super(),e_(this,e,fb,hb,wh,{error:1,close:2,errorAlreadyShown:0})}}class vb{static HTML_TAG_NAME="deepl-alert";static createElement=(e=document)=>{const t=e.createElement(vb.HTML_TAG_NAME),n=new vb(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent=void 0;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=e=>{const t="rtl"===eo()?"left":"right";this.domElement.shadowContainer.style.cssText=`position: fixed; top: 20px; ${t}: 20px; z-index: ${z.deepl_inline_ui.z_index}`,this.domElement.mainComponent=new _b({target:this.domElement.shadowContainer,props:{error:e,close:this.cleanupDOM}})};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy(),this.domElement.remove()}}function yb(e){try{const t=vb.createElement();document.documentElement.appendChild(t),t.createDOM(e),uv((()=>t.cleanupDOM))}catch(e){Eo()&&console.log(e)}}const wb=function(){let e={isDarkMode:vn()};const{subscribe:t,update:n}=o_(e);return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(()=>{n((e=>({...e,isDarkMode:vn()})))})),{subscribe:t,update:e=>{if(Eo()&&!{IS_PROD:!0,BASE_URLS:{dapApi:"https://s.deepl.com/chrome/statistics",toolingApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.28.0",toolingApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.28.0",toolingWriteApiPro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.28.0",toolingWriteApi:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.28.0",classicApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.28.0",classicApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.28.0",classicApiWrite:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.28.0",classicApiWritePro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.28.0",classicApiGlossary:"https://api.deepl.com/termbases/jsonrpc?client=chrome-extension,1.28.0",login:"https://www.deepl.com/auth/login",token:"https://w.deepl.com/oidc/token",logout:"https://www.deepl.com/auth/logout",feedbackSurvey:"https://deepl.typeform.com/to/MkMfP2Y6",newFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",firefoxFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eyfDZqQmXuNTFOK",uninstallSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eJxAD8c7J5hqSRU",gslidesFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_9XBLSAbDmLq5emO",deeplPro:"https://www.deepl.com/pro",deeplProWrite:"https://www.deepl.com/pro-write",deeplTranslator:"https://www.deepl.com/translator",deeplDoctrans:"https://www.deepl.com/translator/files",deeplTermsOfServiceFree:"https://www.deepl.com/en/pro-license?tab=free",deeplCreateAccount:"https://www.deepl.com/signup",extensionStorePage:"https://bit.ly/DeepL-Chrome",supportArticle:"https://support.deepl.com/hc/articles/4407580229522",deeplSupport:"https://support.deepl.com/hc",chromeWebstore:"https://chrome.google.com/webstore/detail/deepl-translate-reading-w/cofdbpoegempjloogbagkncekinflcnj",edgeWebstore:"https://microsoftedge.microsoft.com/addons/detail/deepl-translate-reading-/fancfknaplihpclbhbpclnmmjcjanbaf",firefoxWebstore:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate",firefoxShortcutDocs:"https://support.mozilla.org/kb/manage-extension-shortcuts-firefox",firefoxPrivacyPolicy:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate/privacy/",clientStateApi:"https://w.deepl.com/web",experimentsEndpoint:"https://s.deepl.com/chrome/experiments",gmailFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_db8ItFTmYBcZjYW",customerSegmentationSurveyFree:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2071",customerSegmentationSurveyPro:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2070",arabicSurvey:"https://deepl.qualtrics.com/jfe/form/SV_ekTrC2ePp0wn7xQ",msAddinsDeepLAds:"https://www.deepl.com/en/microsoft-365"},APP_VERSION:"1.28.0",FEATURE_FLAGS:{TRANSLATE_INPUT:!0,PAGE_TRANSLATION:!0,IMPROVE_WRITING:!0,DOCUMENT_TRANSLATION:!0,RECOMMEND_TO_A_FRIEND:!0,PRO_LOGIN:!0,WEBPAGE_CUSTOMIZER:!0,GDOCS_INTEGRATION:!0,ZENDESK_INTEGRATION:!0,GMAIL_INTEGRATION:!0,GSLIDES_INTEGRATION:!0,ON_INSTALL_ONBOARDING:!0,WHATSAPP_TRANSLATE_ALL_CHAT:!1,DEEPL_WRITE_GENERAL:!1,DEEPL_WRITE_GDOCS:!0,SHOW_CUSTOMER_SEGMENTATION_SURVEY:!1,ARABIC_SURVEY:!0,REVIEW_UI_WITH_ITA:!1,BATCH_TRANSLATE_HTML_REQUEST:!1}}.DISABLE_DEBUG_LOGS){const t="background-color: #403f3e;padding: 3px; font-size:12px;color:#c8e0c1; font-weight:600";console.log(`%c${(new Date).toISOString()} UPDATE WEBSITE STATE`,t,e)}n((t=>(e&&e.error?yb(e.error):qv.set(!1),{...t,...e,error:e.error?e.error:void 0})))}}}();e.websiteData=void 0;const bb=wb.subscribe((n=>{e.websiteData={...n},n&&Object.keys(n).length>0&&t({action:"newWebsiteState",payload:{...n}})}));function Eb(e,t,n){const o=e.slice();return o[24]=t[n],o}function xb(e,t,n){const o=e.slice();return o[24]=t[n],o}function Sb(e){let t,n,o,r,i;return n=new Tv({props:{disabled:e[0],items:e[14],defaultOption:e[18],placeholder:e[16],dataQaButton:"deepl-language-selection-button",dataQaList:"deepl-language-selection-list",customClass:e[3],variant:e[5],fontSize:e[6],alignRight:e[7],isBorderless:e[8],showSortCode:e[9],extraPadding:e[10],dropdownMaxHeight:e[11],autoHeight:e[12]}}),n.$on("valueselected",e[17]),{c(){t=Wh("div"),Xf(n.$$.fragment)},m(s,a){Hh(s,t,a),Jf(n,t,null),o=!0,r||(i=Zh(t,"mousedown",Xh(Kh(e[22]))),r=!0)},p(e,t){const o={};1&t&&(o.disabled=e[0]),16384&t&&(o.items=e[14]),8&t&&(o.customClass=e[3]),32&t&&(o.variant=e[5]),64&t&&(o.fontSize=e[6]),128&t&&(o.alignRight=e[7]),256&t&&(o.isBorderless=e[8]),512&t&&(o.showSortCode=e[9]),1024&t&&(o.extraPadding=e[10]),2048&t&&(o.dropdownMaxHeight=e[11]),4096&t&&(o.autoHeight=e[12]),n.$set(o)},i(e){o||(jf(n.$$.fragment,e),o=!0)},o(e){Wf(n.$$.fragment,e),o=!1},d(e){e&&Fh(t),Qf(n),r=!1,i()}}}function Tb(e){let t,n,o,r,i,s,a=e[2]&&Cb(),l=Zf(e[14]),c=[];for(let t=0;t<l.length;t+=1)c[t]=kb(Eb(e,l,t));return{c(){t=Wh("div"),n=Wh("select"),a&&a.c(),o=Yh();for(let e=0;e<c.length;e+=1)c[e].c();Jh(n,"data-qa","deepl-language-selection"),Jh(n,"aria-label","Select Language"),Jh(n,"class","svelte-1ww98o"),Jh(t,"class",r=kh("alternate"===e[5]?"language-selector-alternate":"language-selector")+" svelte-1ww98o")},m(r,l){Hh(r,t,l),Bh(t,n),a&&a.m(n,null),Bh(n,o);for(let e=0;e<c.length;e+=1)c[e]&&c[e].m(n,null);nf(n,e[1]),i||(s=Zh(n,"change",Kh(e[23])),i=!0)},p(e,i){if(e[2]?a?a.p(e,i):(a=Cb(),a.c(),a.m(n,o)):a&&(a.d(1),a=null),16384&i){let t;for(l=Zf(e[14]),t=0;t<l.length;t+=1){const o=Eb(e,l,t);c[t]?c[t].p(o,i):(c[t]=kb(o),c[t].c(),c[t].m(n,null))}for(;t<c.length;t+=1)c[t].d(1);c.length=l.length}16386&i&&nf(n,e[1]),32&i&&r!==(r=kh("alternate"===e[5]?"language-selector-alternate":"language-selector")+" svelte-1ww98o")&&Jh(t,"class",r)},i:gh,o:gh,d(e){e&&Fh(t),a&&a.d(),jh(c,e),i=!1,s()}}}function $b(e){let t,n,o,r,i=Zf(e[14]),s=[];for(let t=0;t<i.length;t+=1)s[t]=Lb(xb(e,i,t));return{c(){t=Wh("div"),n=Wh("select");for(let e=0;e<s.length;e+=1)s[e].c();n.disabled=!0,Jh(n,"data-qa","deepl-language-selection-readonly"),Jh(n,"aria-label","Select Language - dropdown disabled"),Jh(n,"class","svelte-1ww98o"),Jh(t,"class","language-selector read-only svelte-1ww98o")},m(i,a){Hh(i,t,a),Bh(t,n);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(n,null);nf(n,e[1]),o||(r=Zh(n,"change",Kh(Ib)),o=!0)},p(e,t){if(16384&t){let o;for(i=Zf(e[14]),o=0;o<i.length;o+=1){const r=xb(e,i,o);s[o]?s[o].p(r,t):(s[o]=Lb(r),s[o].c(),s[o].m(n,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=i.length}16386&t&&nf(n,e[1])},i:gh,o:gh,d(e){e&&Fh(t),jh(s,e),o=!1,r()}}}function Cb(e){let t,n,o,r=chrome.i18n.getMessage("supported_languages_undefined")+"";return{c(){t=Wh("option"),n=Gh(r),o=Vh(),t.__value=void 0,ef(t,t.__value),Jh(t,"data-option-regionalvariant",void 0)},m(e,r){Hh(e,t,r),Bh(t,n),Bh(t,o)},p:gh,d(e){e&&Fh(t)}}}function kb(e){let t,n,o,r,i,s=e[24].label+"";return{c(){t=Wh("option"),n=Gh(s),o=Vh(),t.__value=r=e[24].value,ef(t,t.__value),Jh(t,"data-option-regionalvariant",i=e[24].regionalVariant)},m(e,r){Hh(e,t,r),Bh(t,n),Bh(t,o)},p(e,o){16384&o&&s!==(s=e[24].label+"")&&Qh(n,s),16384&o&&r!==(r=e[24].value)&&(t.__value=r,ef(t,t.__value)),16384&o&&i!==(i=e[24].regionalVariant)&&Jh(t,"data-option-regionalvariant",i)},d(e){e&&Fh(t)}}}function Lb(e){let t,n,o,r,i,s=e[24].label+"";return{c(){t=Wh("option"),n=Gh(s),o=Vh(),t.__value=r=e[24].value,ef(t,t.__value),Jh(t,"data-option-regionalvariant",i=e[24].regionalVariant)},m(e,r){Hh(e,t,r),Bh(t,n),Bh(t,o)},p(e,o){16384&o&&s!==(s=e[24].label+"")&&Qh(n,s),16384&o&&r!==(r=e[24].value)&&(t.__value=r,ef(t,t.__value)),16384&o&&i!==(i=e[24].regionalVariant)&&Jh(t,"data-option-regionalvariant",i)},d(e){e&&Fh(t)}}}function Mb(e){let t,n,o,r,i;const s=[$b,Tb,Sb],a=[];function l(e,n){return e[13]?0:(null==t&&(t=!!Wv()),t?1:2)}return n=l(e),o=a[n]=s[n](e),{c(){o.c(),r=Yh()},m(e,t){a[n].m(e,t),Hh(e,r,t),i=!0},p(e,[t]){let i=n;n=l(e),n===i?a[n].p(e,t):(Hf(),Wf(a[i],1,1,(()=>{a[i]=null})),Ff(),o=a[n],o?o.p(e,t):(o=a[n]=s[n](e),o.c()),jf(o,1),o.m(r.parentNode,r))},i(e){i||(jf(o),i=!0)},o(e){Wf(o),i=!1},d(e){e&&Fh(r),a[n].d(e)}}}const Ib=()=>{};function Ab(e,t,n){let o,i=gh,s=()=>(i(),i=bh(p,(e=>n(21,o=e))),p);e.$$.on_destroy.push((()=>i()));const a=yf();let{value:l}=t,{showChooseLanguageOption:c=!1}=t,{customClass:u=""}=t,{websiteSettings:p}=t;s();let m,{disabled:g=!1}=t,{variant:h="original"}=t,{fontSize:f="default"}=t,{alignRight:_=!1}=t,{isBorderless:v=!1}=t,{showSortCode:y=!1}=t,{extraPadding:w=!1}=t,{showRegionalVariants:b=!0}=t,{dropdownMaxHeight:E=300}=t,{onlyShowWriteEnabledLanguages:x=!1}=t,{autoHeight:S}=t,{readOnly:T=!1}=t,$=c?chrome.i18n.getMessage("supported_languages_undefined"):void 0;m=b?Zn():r.filter((e=>!["PT-BR","EN-US","ZH-HANT"].includes(e.langCode))).map((e=>"EN-GB"===e.langCode?{...e,langCode:"EN"}:"PT-PT"===e.langCode?{...e,langCode:"PT"}:e)).map((e=>({value:e.langCode,label:chrome.i18n.getMessage(`supported_languages_${e.langCode}`),selectedOptionLabel:chrome.i18n.getMessage(`supported_languages_${e.langCode}`)}))).sort(((e,t)=>e.label.localeCompare(t.label,chrome.i18n.getUILanguage()))),x&&(m=m.filter((e=>Jn(e.value))));let C=l?m.find((e=>e.value===l)):void 0;return e.$$set=e=>{"value"in e&&n(1,l=e.value),"showChooseLanguageOption"in e&&n(2,c=e.showChooseLanguageOption),"customClass"in e&&n(3,u=e.customClass),"websiteSettings"in e&&s(n(4,p=e.websiteSettings)),"disabled"in e&&n(0,g=e.disabled),"variant"in e&&n(5,h=e.variant),"fontSize"in e&&n(6,f=e.fontSize),"alignRight"in e&&n(7,_=e.alignRight),"isBorderless"in e&&n(8,v=e.isBorderless),"showSortCode"in e&&n(9,y=e.showSortCode),"extraPadding"in e&&n(10,w=e.extraPadding),"showRegionalVariants"in e&&n(19,b=e.showRegionalVariants),"dropdownMaxHeight"in e&&n(11,E=e.dropdownMaxHeight),"onlyShowWriteEnabledLanguages"in e&&n(20,x=e.onlyShowWriteEnabledLanguages),"autoHeight"in e&&n(12,S=e.autoHeight),"readOnly"in e&&n(13,T=e.readOnly)},e.$$.update=()=>{2097152&e.$$.dirty&&(o&&o.translationState===d.ongoingTranslation?n(0,g=!0):o&&[d.none,d.isTranslationComplete].includes(o.translationState)&&n(0,g=!1))},[g,l,c,u,p,h,f,_,v,y,w,E,S,T,m,a,$,function(e){g||a("selection",e.detail)},C,b,x,o,function(t){Ef.call(this,e,t)},e=>{if(g)return;const t=e.target.options[e.target.selectedIndex].getAttribute("data-option-regionalVariant")||void 0;a("selection",{selectedOption:{value:e.target.value,regionalVariant:t}})}]}class Rb extends t_{constructor(e){super(),e_(this,e,Ab,Mb,wh,{value:1,showChooseLanguageOption:2,customClass:3,websiteSettings:4,disabled:0,variant:5,fontSize:6,alignRight:7,isBorderless:8,showSortCode:9,extraPadding:10,showRegionalVariants:19,dropdownMaxHeight:11,onlyShowWriteEnabledLanguages:20,autoHeight:12,readOnly:13})}}function Ob(e){let t,n,o,r;return{c(){t=qh("svg"),n=qh("path"),Jh(n,"d","M1 7L5 11L15 1"),Jh(n,"stroke",o=e[0]?e[3]:e[4]),Jh(n,"stroke-width","2"),Jh(n,"stroke-linecap","round"),Jh(n,"stroke-linejoin","round"),Jh(n,"class","svelte-mrm8jk"),Jh(t,"width",e[2]),Jh(t,"height",e[1]),Jh(t,"class","checkmark svelte-mrm8jk"),Jh(t,"viewBox","0 0 16 12"),Jh(t,"fill","none"),Jh(t,"xmlns","http://www.w3.org/2000/svg"),Jh(t,"style",r=`padding: ${e[6]};`),sf(t,"enableHover",e[5])},m(e,o){Hh(e,t,o),Bh(t,n)},p(e,[i]){25&i&&o!==(o=e[0]?e[3]:e[4])&&Jh(n,"stroke",o),4&i&&Jh(t,"width",e[2]),2&i&&Jh(t,"height",e[1]),64&i&&r!==(r=`padding: ${e[6]};`)&&Jh(t,"style",r),32&i&&sf(t,"enableHover",e[5])},i:gh,o:gh,d(e){e&&Fh(t)}}}function Nb(e,t,n){let{disabled:o=!1}=t,{height:r="16px"}=t,{width:i="16px"}=t,{disabledColor:s="#727A83"}=t,{enabledColor:a="#007E5E"}=t,{enableHover:l=!1}=t,{padding:c}=t;return e.$$set=e=>{"disabled"in e&&n(0,o=e.disabled),"height"in e&&n(1,r=e.height),"width"in e&&n(2,i=e.width),"disabledColor"in e&&n(3,s=e.disabledColor),"enabledColor"in e&&n(4,a=e.enabledColor),"enableHover"in e&&n(5,l=e.enableHover),"padding"in e&&n(6,c=e.padding)},[o,r,i,s,a,l,c]}class Db extends t_{constructor(e){super(),e_(this,e,Nb,Ob,wh,{disabled:0,height:1,width:2,disabledColor:3,enabledColor:4,enableHover:5,padding:6})}}function Pb(e,t,n){const o=e.slice();return o[19]=t[n],o[21]=n,o}function Bb(e,t,n){const o=e.slice();return o[22]=t[n],o}function zb(e,t,n){const o=e.slice();return o[25]=t[n],o}function Ub(e){let t,n,o,r,i,s,a,l,c,d,u=e[5].name+"",p=Zf(e[5].termDictionaries),m=[];for(let t=0;t<p.length;t+=1)m[t]=Hb(zb(e,p,t));let g=e[5].hasAdditionalPairs&&Fb(e);return{c(){t=Wh("div"),n=Wh("div"),o=Wh("div"),r=Gh(u),i=Vh();for(let e=0;e<m.length;e+=1)m[e].c();s=Vh(),g&&g.c(),a=Vh(),l=Wh("div"),l.textContent="Remove",Jh(o,"class","title"),Jh(l,"class","remove-button svelte-1ium3jp"),Jh(n,"class","glossary-menu-active-glossary-display svelte-1ium3jp"),Jh(t,"class","glossary-menu-active-glossary-display-container svelte-1ium3jp")},m(u,p){Hh(u,t,p),Bh(t,n),Bh(n,o),Bh(o,r),Bh(n,i);for(let e=0;e<m.length;e+=1)m[e]&&m[e].m(n,null);Bh(n,s),g&&g.m(n,null),Bh(n,a),Bh(n,l),c||(d=Zh(l,"click",e[9]),c=!0)},p(e,t){if(32&t&&u!==(u=e[5].name+"")&&Qh(r,u),2080&t){let o;for(p=Zf(e[5].termDictionaries),o=0;o<p.length;o+=1){const r=zb(e,p,o);m[o]?m[o].p(r,t):(m[o]=Hb(r),m[o].c(),m[o].m(n,s))}for(;o<m.length;o+=1)m[o].d(1);m.length=p.length}e[5].hasAdditionalPairs?g?g.p(e,t):(g=Fb(e),g.c(),g.m(n,a)):g&&(g.d(1),g=null)},d(e){e&&Fh(t),jh(m,e),g&&g.d(),c=!1,d()}}}function Hb(e){let t,n=e[11](e[25].languagePair)+"";return{c(){t=Wh("div"),Jh(t,"class","lang-pair svelte-1ium3jp")},m(e,o){Hh(e,t,o),t.innerHTML=n},p(e,o){32&o&&n!==(n=e[11](e[25].languagePair)+"")&&(t.innerHTML=n)},d(e){e&&Fh(t)}}}function Fb(e){let t,n,o;return{c(){t=Wh("div"),t.textContent=`${chrome.i18n.getMessage("glossary_settings_show_more_lang_pairs")}...`,Jh(t,"class","show-more svelte-1ium3jp")},m(r,i){Hh(r,t,i),n||(o=Zh(t,"click",e[13]),n=!0)},p:gh,d(e){e&&Fh(t),n=!1,o()}}}function jb(e){let t;function n(e,t){return e[0]?e[3]||0!==e[1].length?Wb:qb:Gb}let o=n(e),r=o(e);return{c(){r.c(),t=Yh()},m(e,n){r.m(e,n),Hh(e,t,n)},p(e,i){o===(o=n(e))&&r?r.p(e,i):(r.d(1),r=o(e),r&&(r.c(),r.m(t.parentNode,t)))},d(e){e&&Fh(t),r.d(e)}}}function Wb(e){let t,n=Zf(e[6]),o=[];for(let t=0;t<n.length;t+=1)o[t]=Kb(Pb(e,n,t));return{c(){t=Wh("div");for(let e=0;e<o.length;e+=1)o[e].c();Jh(t,"class","glossary-list svelte-1ium3jp")},m(e,n){Hh(e,t,n);for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,null)},p(e,r){if(3270&r){let i;for(n=Zf(e[6]),i=0;i<n.length;i+=1){const s=Pb(e,n,i);o[i]?o[i].p(s,r):(o[i]=Kb(s),o[i].c(),o[i].m(t,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=n.length}},d(e){e&&Fh(t),jh(o,e)}}}function qb(e){let t,n,o,r,i;return{c(){t=Wh("div"),n=Wh("div"),o=Wh("div"),o.innerHTML='<div class="icon svelte-1ium3jp"></div>',r=Vh(),i=Wh("div"),i.textContent=`${chrome.i18n.getMessage("zendesk_no_glossaries_found")}`,Jh(o,"class","icon-container svelte-1ium3jp"),Jh(i,"class","content svelte-1ium3jp"),Jh(n,"class","container svelte-1ium3jp"),Jh(t,"class","glossary-not-found svelte-1ium3jp")},m(e,s){Hh(e,t,s),Bh(t,n),Bh(n,o),Bh(n,r),Bh(n,i)},p:gh,d(e){e&&Fh(t)}}}function Gb(e){let t,n,o,r,i;return{c(){t=Wh("div"),n=Wh("div"),o=Wh("div"),o.innerHTML='<div class="icon svelte-1ium3jp"></div>',r=Vh(),i=Wh("div"),i.textContent=`${chrome.i18n.getMessage("zendesk_not_pro_user_body")}`,Jh(o,"class","icon-container svelte-1ium3jp"),Jh(i,"class","content svelte-1ium3jp"),Jh(n,"class","container svelte-1ium3jp"),Jh(t,"class","glossary-not-found svelte-1ium3jp")},m(e,s){Hh(e,t,s),Bh(t,n),Bh(n,o),Bh(n,r),Bh(n,i)},p:gh,d(e){e&&Fh(t)}}}function Vb(e){let t,n,o=e[11](e[22].languagePair)+"";return{c(){t=Wh("div"),n=Gh(o),Jh(t,"class","lang-pair svelte-1ium3jp")},m(e,o){Hh(e,t,o),Bh(t,n)},p(e,t){64&t&&o!==(o=e[11](e[22].languagePair)+"")&&Qh(n,o)},d(e){e&&Fh(t)}}}function Yb(e){let t,n,o;function r(){return e[14](e[19])}return{c(){t=Wh("div"),t.textContent=`${chrome.i18n.getMessage("glossary_settings_show_more_lang_pairs")}...`,Jh(t,"class","show-more svelte-1ium3jp")},m(e,i){Hh(e,t,i),n||(o=Zh(t,"click",r),n=!0)},p(t,n){e=t},d(e){e&&Fh(t),n=!1,o()}}}function Zb(e){let t;return{c(){t=Wh("div"),Jh(t,"class","divider svelte-1ium3jp")},m(e,n){Hh(e,t,n)},d(e){e&&Fh(t)}}}function Kb(e){let t,n,o,r,i,s,a,l,c,d,u,p,m,g,h=e[19].name+"",f=Zf(e[19].termDictionaries),_=[];for(let t=0;t<f.length;t+=1)_[t]=Vb(Bb(e,f,t));let v=e[19].hasAdditionalPairs&&Yb(e);function y(){return e[15](e[19])}let w=e[21]<e[1].length-1&&Zb();return{c(){t=Wh("div"),n=Wh("div"),o=Wh("div"),r=Gh(h),i=Vh();for(let e=0;e<_.length;e+=1)_[e].c();s=Vh(),v&&v.c(),a=Vh(),l=Wh("div"),c=Wh("input"),u=Vh(),w&&w.c(),p=Yh(),Jh(o,"class","name"),Jh(n,"class","info svelte-1ium3jp"),Jh(c,"type","radio"),c.checked=d=e[2]?.zendeskActiveTermbase?.id===e[19].id,Jh(c,"class","svelte-1ium3jp"),Jh(l,"class","radio-container svelte-1ium3jp"),Jh(t,"class","glossary-item svelte-1ium3jp")},m(e,d){Hh(e,t,d),Bh(t,n),Bh(n,o),Bh(o,r),Bh(n,i);for(let e=0;e<_.length;e+=1)_[e]&&_[e].m(n,null);Bh(n,s),v&&v.m(n,null),Bh(t,a),Bh(t,l),Bh(l,c),Hh(e,u,d),w&&w.m(e,d),Hh(e,p,d),m||(g=Zh(c,"click",y),m=!0)},p(t,o){if(e=t,64&o&&h!==(h=e[19].name+"")&&Qh(r,h),2112&o){let t;for(f=Zf(e[19].termDictionaries),t=0;t<f.length;t+=1){const r=Bb(e,f,t);_[t]?_[t].p(r,o):(_[t]=Vb(r),_[t].c(),_[t].m(n,s))}for(;t<_.length;t+=1)_[t].d(1);_.length=f.length}e[19].hasAdditionalPairs?v?v.p(e,o):(v=Yb(e),v.c(),v.m(n,null)):v&&(v.d(1),v=null),68&o&&d!==(d=e[2]?.zendeskActiveTermbase?.id===e[19].id)&&(c.checked=d),e[21]<e[1].length-1?w||(w=Zb(),w.c(),w.m(p.parentNode,p)):w&&(w.d(1),w=null)},d(e){e&&(Fh(t),Fh(u),Fh(p)),jh(_,e),v&&v.d(),w&&w.d(e),m=!1,g()}}}function Xb(e){let t,n,o,r,i,s,a,l,c,d,u,p=e[5]&&Ub(e),m=e[4]&&jb(e);return{c(){t=Wh("div"),n=Wh("div"),o=Wh("div"),r=Wh("div"),r.textContent="Glossary",i=Vh(),s=Wh("div"),a=Vh(),p&&p.c(),l=Vh(),m&&m.c(),c=Yh(),Jh(r,"class","glossary-menu-text"),Jh(s,"class","glossary-menu-toggle svelte-1ium3jp"),sf(s,"isGlossaryListExpanded",e[4]),Jh(o,"class","glossary-menu-toggle-container svelte-1ium3jp"),Jh(n,"class","glossary-menu"),Jh(t,"class","glossary-menu-container svelte-1ium3jp"),sf(t,"isGlossaryListExpanded",e[4])},m(g,h){Hh(g,t,h),Bh(t,n),Bh(n,o),Bh(o,r),Bh(o,i),Bh(o,s),Bh(n,a),p&&p.m(n,null),Hh(g,l,h),m&&m.m(g,h),Hh(g,c,h),d||(u=Zh(o,"click",e[8]),d=!0)},p(e,[o]){16&o&&sf(s,"isGlossaryListExpanded",e[4]),e[5]?p?p.p(e,o):(p=Ub(e),p.c(),p.m(n,null)):p&&(p.d(1),p=null),16&o&&sf(t,"isGlossaryListExpanded",e[4]),e[4]?m?m.p(e,o):(m=jb(e),m.c(),m.m(c.parentNode,c)):m&&(m.d(1),m=null)},i:gh,o:gh,d(e){e&&(Fh(t),Fh(l),Fh(c)),p&&p.d(),m&&m.d(e),d=!1,u()}}}function Jb(e,n,o){let r;Eh(e,r_,(e=>o(2,r=e)));let{userHasZendeskPermissions:i}=n,s=[],a=!0,l=!1,c=[],d=null,u=[];const p=e=>{o(12,c=[...c,e])},m=e=>{const n=s.find((t=>t.id===e));n&&(Lh(r_,r.zendeskActiveTermbase=n,r),t({action:"dlTrackGlossaryEnabled",payload:{nicheIntegration:ut.zendesk}}))},g=async()=>{o(3,a=!0);try{const[e]=await HB();o(1,s=e)}catch(e){Eo()&&console.error(e)}finally{(()=>{if(!r.zendeskActiveTermbase)return;if(!s||0===s.length)return void Lh(r_,r.zendeskActiveTermbase=null,r);const e=s.map((e=>e.id));if(r.zendeskActiveTermbase&&e.includes(r.zendeskActiveTermbase.id)){const e=s.find((e=>e.id===r.zendeskActiveTermbase.id));Lh(r_,r.zendeskActiveTermbase=e,r)}else Lh(r_,r.zendeskActiveTermbase=null,r)})(),o(3,a=!1)}},h=async e=>{if("dlChangeActiveTabStatus"===e.action)e.payload.isActive&&g();return!0};_f((()=>{g(),chrome.runtime.onMessage.addListener(h)})),vf((()=>{chrome.runtime.onMessage.removeListener(h)}));return e.$$set=e=>{"userHasZendeskPermissions"in e&&o(0,i=e.userHasZendeskPermissions)},e.$$.update=()=>{4098&e.$$.dirty&&o(6,u=s.map((e=>c.includes(e.id)||e.termDictionaries.length<=3?e:{...e,termDictionaries:e.termDictionaries.slice(0,3),hasAdditionalPairs:!0}))),4&e.$$.dirty&&(r.zendeskActiveTermbase||o(5,d=null)),4100&e.$$.dirty&&r.zendeskActiveTermbase&&(c.includes(r.zendeskActiveTermbase.id)||r.zendeskActiveTermbase.termDictionaries.length<=3?o(5,d=r.zendeskActiveTermbase):o(5,d={...r.zendeskActiveTermbase,termDictionaries:r.zendeskActiveTermbase.termDictionaries.slice(0,3),hasAdditionalPairs:!0}))},[i,s,r,a,l,d,u,p,()=>{o(4,l=!l),l&&(i||t({action:"dlTrackZendeskGlossaryOpened",payload:{glossaryConfigOpenedWithoutGlossaryPermissions:!0}}),i&&!a&&0==s.length&&t({action:"dlTrackZendeskGlossaryOpened",payload:{glossaryConfigOpenedWithNoGlossariesFound:!0}}))},()=>{Lh(r_,r.zendeskActiveTermbase=null,r),t({action:"dlTrackGlossaryDisabled",payload:{nicheIntegration:ut.zendesk}})},m,e=>{if(!e||!e.includes(">"))return chrome.i18n.getMessage("supported_languages_undefined");const[t,n]=e.split(">");return`${chrome.i18n.getMessage(`supported_languages_${t.toUpperCase()}`)} → ${chrome.i18n.getMessage(`supported_languages_${n.toUpperCase()}`)}`},c,()=>{p(d.id)},e=>{p(e.id)},e=>m(e.id)]}class Qb extends t_{constructor(e){super(),e_(this,e,Jb,Xb,wh,{userHasZendeskPermissions:0})}}function eE(e){let t,n,o,r,i,s;const a=e[1].default,l=xh(a,e,e[0],null);return{c(){t=Wh("div"),n=Wh("div"),o=qh("svg"),r=qh("path"),i=Vh(),l&&l.c(),Jh(r,"d","M12 8V12M12 16H12.01M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z"),Jh(r,"stroke","#D6A300"),Jh(r,"stroke-width","1.5"),Jh(r,"stroke-linecap","round"),Jh(r,"stroke-linejoin","round"),Jh(o,"width","24"),Jh(o,"height","24"),Jh(o,"viewBox","0 0 24 24"),Jh(o,"fill","none"),Jh(o,"xmlns","http://www.w3.org/2000/svg"),Jh(n,"class","content svelte-hf4zwi"),Jh(t,"class","container svelte-hf4zwi")},m(e,a){Hh(e,t,a),Bh(t,n),Bh(n,o),Bh(o,r),Bh(n,i),l&&l.m(n,null),s=!0},p(e,[t]){l&&l.p&&(!s||1&t)&&$h(l,a,e,e[0],s?Th(a,e[0],t,null):Ch(e[0]),null)},i(e){s||(jf(l,e),s=!0)},o(e){Wf(l,e),s=!1},d(e){e&&Fh(t),l&&l.d(e)}}}function tE(e,t,n){let{$$slots:o={},$$scope:r}=t;return e.$$set=e=>{"$$scope"in e&&n(0,r=e.$$scope)},[r,o]}class nE extends t_{constructor(e){super(),e_(this,e,tE,eE,wh,{})}}function oE(e){let t,n,o,r,i,s=chrome.i18n.getMessage("zendesk_translations_left_info",[`${e[1]}/50`])+"";return{c(){t=Wh("div"),n=Wh("div"),o=Gh(e[0]),r=Vh(),i=Wh("div"),Jh(n,"class","info-text svelte-62gn63"),Jh(i,"class","translation-info svelte-62gn63"),Jh(t,"class","container svelte-62gn63")},m(e,a){Hh(e,t,a),Bh(t,n),Bh(n,o),Bh(t,r),Bh(t,i),i.innerHTML=s},p(e,[t]){1&t&&Qh(o,e[0]),2&t&&s!==(s=chrome.i18n.getMessage("zendesk_translations_left_info",[`${e[1]}/50`])+"")&&(i.innerHTML=s)},i:gh,o:gh,d(e){e&&Fh(t)}}}function rE(e,t,n){let{infoText:o}=t,{translationCount:r}=t;return e.$$set=e=>{"infoText"in e&&n(0,o=e.infoText),"translationCount"in e&&n(1,r=e.translationCount)},[o,r]}class iE extends t_{constructor(e){super(),e_(this,e,rE,oE,wh,{infoText:0,translationCount:1})}}function sE(e){let t,n,o,r,i=chrome.i18n.getMessage("zendesk_popup_char_limit_label",[e[2]])+"",s=chrome.i18n.getMessage("zendesk_popup_char_limit_content")+"";return{c(){t=Wh("div"),n=Gh(i),o=Vh(),r=Gh(s),Jh(t,"class","translation-count svelte-6kl6z0")},m(e,i){Hh(e,t,i),Bh(t,n),Hh(e,o,i),Hh(e,r,i)},p(e,t){4&t&&i!==(i=chrome.i18n.getMessage("zendesk_popup_char_limit_label",[e[2]])+"")&&Qh(n,i)},i:gh,o:gh,d(e){e&&(Fh(t),Fh(o),Fh(r))}}}function aE(e){let t,n;return t=new nE({props:{$$slots:{default:[dE]},$$scope:{ctx:e}}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p(e,n){const o={};12&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function lE(e){let t,n;return t=new nE({props:{$$slots:{default:[uE]},$$scope:{ctx:e}}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p(e,n){const o={};12&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function cE(e){let t,n,o,r,i,s;const a=[gE,mE,pE],l=[];function c(e,o){return 2&o&&(t=null),2&o&&(n=null),null==t&&(t=!!pn(e[1],$t.TRANSLATOR)),t?0:(null==n&&(n=!!fn(e[1],$t.TRANSLATOR)),n?1:2)}return o=c(e,-1),r=l[o]=a[o](e),{c(){r.c(),i=Yh()},m(e,t){l[o].m(e,t),Hh(e,i,t),s=!0},p(e,t){let n=o;o=c(e,t),o===n?l[o].p(e,t):(Hf(),Wf(l[n],1,1,(()=>{l[n]=null})),Ff(),r=l[o],r?r.p(e,t):(r=l[o]=a[o](e),r.c()),jf(r,1),r.m(i.parentNode,i))},i(e){s||(jf(r),s=!0)},o(e){Wf(r),s=!1},d(e){e&&Fh(i),l[o].d(e)}}}function dE(e){let t,n;return t=new iE({props:{infoText:chrome.i18n.getMessage("zendesk_limit_not_reached_free_account_infobox"),translationCount:e[2]}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.translationCount=e[2]),t.$set(o)},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function uE(e){let t,n;return t=new iE({props:{infoText:chrome.i18n.getMessage("zendesk_limit_not_reached_pro_user_infobox"),translationCount:e[2]}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.translationCount=e[2]),t.$set(o)},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function pE(e){let t,n,o,r;return{c(){t=Wh("div"),n=Wh("div"),o=Vh(),r=Wh("div"),r.textContent=`${chrome.i18n.getMessage("zendesk_limit_reached_infobox")}`,Jh(n,"class","icon svelte-6kl6z0"),Jh(r,"class","text svelte-6kl6z0"),Jh(t,"class","upgrade-infobox svelte-6kl6z0")},m(e,i){Hh(e,t,i),Bh(t,n),Bh(t,o),Bh(t,r)},p:gh,i:gh,o:gh,d(e){e&&Fh(t)}}}function mE(e){let t,n;return t=new nE({props:{$$slots:{default:[hE]},$$scope:{ctx:e}}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p(e,n){const o={};12&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function gE(e){let t,n;return t=new nE({props:{$$slots:{default:[fE]},$$scope:{ctx:e}}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p(e,n){const o={};12&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function hE(e){let t,n;return t=new iE({props:{infoText:chrome.i18n.getMessage("zendesk_limit_reached_free_account_infobox"),translationCount:e[2]}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.translationCount=e[2]),t.$set(o)},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function fE(e){let t,n;return t=new iE({props:{infoText:chrome.i18n.getMessage("zendesk_limit_reached_pro_user_infobox"),translationCount:e[2]}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.translationCount=e[2]),t.$set(o)},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function _E(e){let t,n,o,r,i,s;const a=[cE,lE,aE,sE],l=[];function c(e,o){return 2&o&&(t=null),2&o&&(n=null),e[0]?0:(null==t&&(t=!!pn(e[1],$t.TRANSLATOR)),t?1:(null==n&&(n=!!fn(e[1],$t.TRANSLATOR)),n?2:3))}return o=c(e,-1),r=l[o]=a[o](e),{c(){r.c(),i=Yh()},m(e,t){l[o].m(e,t),Hh(e,i,t),s=!0},p(e,[t]){let n=o;o=c(e,t),o===n?l[o].p(e,t):(Hf(),Wf(l[n],1,1,(()=>{l[n]=null})),Ff(),r=l[o],r?r.p(e,t):(r=l[o]=a[o](e),r.c()),jf(r,1),r.m(i.parentNode,i))},i(e){s||(jf(r),s=!0)},o(e){Wf(r),s=!1},d(e){e&&Fh(i),l[o].d(e)}}}function vE(e,t,n){let{limitReached:o}=t,{settings:r}=t,{remainingTranslations:i}=t;return e.$$set=e=>{"limitReached"in e&&n(0,o=e.limitReached),"settings"in e&&n(1,r=e.settings),"remainingTranslations"in e&&n(2,i=e.remainingTranslations)},[o,r,i]}class yE extends t_{constructor(e){super(),e_(this,e,vE,_E,wh,{limitReached:0,settings:1,remainingTranslations:2})}}function wE(e,t,n){const o=e.slice();return o[17]=t[n],o}function bE(e){let t,n,o,r,i,s;const a=[TE,SE,xE,EE],l=[];function c(e,t){return"onboarding"===e[4]?0:"user_has_reached_limit"===e[4]?1:"language_not_supported"===e[4]?2:3}n=c(e),o=l[n]=a[n](e);let d=!e[1]&&"onboarding"!==e[4]&&CE(e),u=(!e[2].isZendeskEnabled||"default"===e[4]||"onboarding"===e[4])&&!e[5]&&PE(e);return{c(){t=Wh("div"),o.c(),r=Vh(),d&&d.c(),i=Vh(),u&&u.c(),Jh(t,"class","dl-zendesk-modal svelte-csh6q0"),sf(t,"onboarding","onboarding"===e[4])},m(e,o){Hh(e,t,o),l[n].m(t,null),Bh(t,r),d&&d.m(t,null),Bh(t,i),u&&u.m(t,null),s=!0},p(e,p){let m=n;n=c(e),n===m?l[n].p(e,p):(Hf(),Wf(l[m],1,1,(()=>{l[m]=null})),Ff(),o=l[n],o?o.p(e,p):(o=l[n]=a[n](e),o.c()),jf(o,1),o.m(t,r)),e[1]||"onboarding"===e[4]?d&&(d.d(1),d=null):d?d.p(e,p):(d=CE(e),d.c(),d.m(t,i)),e[2].isZendeskEnabled&&"default"!==e[4]&&"onboarding"!==e[4]||e[5]?u&&(u.d(1),u=null):u?u.p(e,p):(u=PE(e),u.c(),u.m(t,null)),(!s||16&p)&&sf(t,"onboarding","onboarding"===e[4])},i(e){s||(jf(o),s=!0)},o(e){Wf(o),s=!1},d(e){e&&Fh(t),l[n].d(),d&&d.d(),u&&u.d()}}}function EE(e){let t,n,o,r,i,s,a,l,c,d,u,p,m,g,h,f,_,v,y=chrome.i18n.getMessage("ui_zendesk_modal_deepl_translate_into")+"",w=chrome.i18n.getMessage("ui_zendesk_modal_ok")+"";n=new Qb({props:{userHasZendeskPermissions:e[1]}});let b=!e[1]&&$E(e);return d=new Rb({props:{value:e[2].selectedTargetLanguage,websiteSettings:wb,disabled:!e[2].isZendeskEnabled,customClass:"dropdown__zendesk-top-icon",fontSize:"md",dropdownMaxHeight:150}}),d.$on("selection",e[13]),{c(){t=Wh("div"),Xf(n.$$.fragment),o=Vh(),b&&b.c(),r=Vh(),i=Wh("div"),s=Gh(y),a=Vh(),l=Wh("div"),c=Wh("div"),Xf(d.$$.fragment),u=Vh(),p=Wh("div"),m=Wh("button"),g=Gh(w),Jh(t,"class","modal-section glossary svelte-csh6q0"),Jh(c,"class","dropdown svelte-csh6q0"),Jh(m,"class","btn-primary svelte-csh6q0"),m.disabled=h=!e[2].isZendeskEnabled,Jh(p,"class","right svelte-csh6q0"),Jh(l,"class","dropdown-container svelte-csh6q0"),Jh(i,"class","modal-section language-selector svelte-csh6q0")},m(h,y){Hh(h,t,y),Jf(n,t,null),Hh(h,o,y),b&&b.m(h,y),Hh(h,r,y),Hh(h,i,y),Bh(i,s),Bh(i,a),Bh(i,l),Bh(l,c),Jf(d,c,null),Bh(l,u),Bh(l,p),Bh(p,m),Bh(m,g),f=!0,_||(v=Zh(m,"click",e[14]),_=!0)},p(e,t){const o={};2&t&&(o.userHasZendeskPermissions=e[1]),n.$set(o),e[1]?b&&(Hf(),Wf(b,1,1,(()=>{b=null})),Ff()):b?(b.p(e,t),2&t&&jf(b,1)):(b=$E(e),b.c(),jf(b,1),b.m(r.parentNode,r));const i={};4&t&&(i.value=e[2].selectedTargetLanguage),4&t&&(i.disabled=!e[2].isZendeskEnabled),d.$set(i),(!f||4&t&&h!==(h=!e[2].isZendeskEnabled))&&(m.disabled=h)},i(e){f||(jf(n.$$.fragment,e),jf(b),jf(d.$$.fragment,e),f=!0)},o(e){Wf(n.$$.fragment,e),Wf(b),Wf(d.$$.fragment,e),f=!1},d(e){e&&(Fh(t),Fh(o),Fh(r),Fh(i)),Qf(n),b&&b.d(e),Qf(d),_=!1,v()}}}function xE(e){let t,n,o;return{c(){t=Wh("div"),t.textContent=`${chrome.i18n.getMessage("ui_zendesk_modal_language_not_supported_line_1")}`,n=Vh(),o=Wh("div"),o.textContent=`${chrome.i18n.getMessage("ui_zendesk_modal_language_not_supported_line_2")}`,Jh(t,"class","modal-section language-not-supported svelte-csh6q0"),Jh(o,"class","modal-section secondary-text svelte-csh6q0")},m(e,r){Hh(e,t,r),Hh(e,n,r),Hh(e,o,r)},p:gh,i:gh,o:gh,d(e){e&&(Fh(t),Fh(n),Fh(o))}}}function SE(e){let t,n,o;return n=new yE({props:{limitReached:!0,remainingTranslations:e[6],settings:e[2]}}),{c(){t=Wh("div"),Xf(n.$$.fragment),Jh(t,"class","modal-section reached-limit svelte-csh6q0")},m(e,r){Hh(e,t,r),Jf(n,t,null),o=!0},p(e,t){const o={};64&t&&(o.remainingTranslations=e[6]),4&t&&(o.settings=e[2]),n.$set(o)},i(e){o||(jf(n.$$.fragment,e),o=!0)},o(e){Wf(n.$$.fragment,e),o=!1},d(e){e&&Fh(t),Qf(n)}}}function TE(e){let t,n,o,r,i,s,a,l,c,d,u,p,m,g,h,f,_,v,y,w=chrome.i18n.getMessage("zendesk_onboarding_content_one",[Tt])+"",b=chrome.i18n.getMessage("zendesk_onboarding_content_two")+"",E=chrome.i18n.getMessage("zendesk_onboarding_content_three")+"";return s=new Db({props:{width:"16px",height:"16px",padding:"3px 0 0 0"}}),u=new Db({props:{width:"16px",height:"16px",padding:"3px 0 0 0"}}),f=new Db({props:{width:"16px",height:"16px",padding:"3px 0 0 0"}}),{c(){t=Wh("div"),n=Wh("div"),n.textContent=`${chrome.i18n.getMessage("ui_zendesk_modal_welcome")}`,o=Vh(),r=Wh("div"),i=Wh("div"),Xf(s.$$.fragment),a=Vh(),l=Wh("div"),c=Vh(),d=Wh("div"),Xf(u.$$.fragment),p=Vh(),m=Wh("div"),g=Vh(),h=Wh("div"),Xf(f.$$.fragment),_=Vh(),v=Wh("div"),Jh(n,"class","welcome svelte-csh6q0"),Jh(l,"class","copy-text svelte-csh6q0"),Jh(i,"class","copy svelte-csh6q0"),Jh(m,"class","copy-text svelte-csh6q0"),Jh(d,"class","copy svelte-csh6q0"),Jh(v,"class","copy-text svelte-csh6q0"),Jh(h,"class","copy svelte-csh6q0"),Jh(r,"class","body svelte-csh6q0"),Jh(t,"class","modal-section onboarding svelte-csh6q0")},m(e,x){Hh(e,t,x),Bh(t,n),Bh(t,o),Bh(t,r),Bh(r,i),Jf(s,i,null),Bh(i,a),Bh(i,l),l.innerHTML=w,Bh(r,c),Bh(r,d),Jf(u,d,null),Bh(d,p),Bh(d,m),m.innerHTML=b,Bh(r,g),Bh(r,h),Jf(f,h,null),Bh(h,_),Bh(h,v),v.innerHTML=E,y=!0},p:gh,i(e){y||(jf(s.$$.fragment,e),jf(u.$$.fragment,e),jf(f.$$.fragment,e),y=!0)},o(e){Wf(s.$$.fragment,e),Wf(u.$$.fragment,e),Wf(f.$$.fragment,e),y=!1},d(e){e&&Fh(t),Qf(s),Qf(u),Qf(f)}}}function $E(e){let t,n,o;return n=new yE({props:{limitReached:!1,remainingTranslations:e[6],settings:e[2]}}),{c(){t=Wh("div"),Xf(n.$$.fragment),Jh(t,"class","modal-section svelte-csh6q0")},m(e,r){Hh(e,t,r),Jf(n,t,null),o=!0},p(e,t){const o={};64&t&&(o.remainingTranslations=e[6]),4&t&&(o.settings=e[2]),n.$set(o)},i(e){o||(jf(n.$$.fragment,e),o=!0)},o(e){Wf(n.$$.fragment,e),o=!1},d(e){e&&Fh(t),Qf(n)}}}function CE(e){let t,n,o,r,i,s,a,l,c,d,u;function p(e,t){return 36&t&&(n=null),36&t&&(o=null),36&t&&(r=null),null==n&&(n=!(!pn(e[2],$t.TRANSLATOR)||e[5])),n?IE:(null==o&&(o=!(!pn(e[2],$t.TRANSLATOR)||!e[5])),o?ME:(null==r&&(r=!(!fn(e[2],$t.TRANSLATOR)||e[5])),r?LE:e[5]?kE:void 0))}let m=p(e,-1),g=m&&m(e);function h(e,t){return 4&t&&(a=null),null==a&&(a=!!pn(e[2],$t.TRANSLATOR)),a?RE:AE}let f=h(e,-1),_=f(e),v=Zf(z_(chrome.i18n.getMessage("zendesk_try_pro_log_in_link"),["loginLink"])),y=[];for(let t=0;t<v.length;t+=1)y[t]=DE(wE(e,v,t));return{c(){t=Wh("div"),g&&g.c(),i=Vh(),s=Wh("button"),_.c(),l=Vh(),c=Wh("div");for(let e=0;e<y.length;e+=1)y[e].c();Jh(s,"class","upgrade-button svelte-csh6q0"),Jh(c,"class","login-text svelte-csh6q0"),Jh(t,"class","modal-section upgrade-button-container svelte-csh6q0")},m(n,o){Hh(n,t,o),g&&g.m(t,null),Bh(t,i),Bh(t,s),_.m(s,null),Bh(t,l),Bh(t,c);for(let e=0;e<y.length;e+=1)y[e]&&y[e].m(c,null);d||(u=Zh(s,"click",e[10]),d=!0)},p(e,n){if(m===(m=p(e,n))&&g?g.p(e,n):(g&&g.d(1),g=m&&m(e),g&&(g.c(),g.m(t,i))),f===(f=h(e,n))&&_?_.p(e,n):(_.d(1),_=f(e),_&&(_.c(),_.m(s,null))),512&n){let t;for(v=Zf(z_(chrome.i18n.getMessage("zendesk_try_pro_log_in_link"),["loginLink"])),t=0;t<v.length;t+=1){const o=wE(e,v,t);y[t]?y[t].p(o,n):(y[t]=DE(o),y[t].c(),y[t].m(c,null))}for(;t<y.length;t+=1)y[t].d(1);y.length=v.length}},d(e){e&&Fh(t),g&&g.d(),_.d(),jh(y,e),d=!1,u()}}}function kE(e){let t,n=chrome.i18n.getMessage("zendesk_limit_reached_content")+"";return{c(){t=Wh("span"),Jh(t,"class","svelte-csh6q0")},m(e,o){Hh(e,t,o),t.innerHTML=n},p:gh,d(e){e&&Fh(t)}}}function LE(e){let t,n=chrome.i18n.getMessage("zendesk_limit_not_reached_free_account_content")+"";return{c(){t=Gh(n)},m(e,n){Hh(e,t,n)},p:gh,d(e){e&&Fh(t)}}}function ME(e){let t,n,o=chrome.i18n.getMessage("zendesk_limit_reached_pro_user_content")+"";return{c(){t=new lf(!1),n=Yh(),t.a=n},m(e,r){t.m(o,e,r),Hh(e,n,r)},p:gh,d(e){e&&(Fh(n),t.d())}}}function IE(e){let t,n=chrome.i18n.getMessage("zendesk_limit_not_reached_pro_user_content")+"";return{c(){t=Gh(n)},m(e,n){Hh(e,t,n)},p:gh,d(e){e&&Fh(t)}}}function AE(e){let t,n=chrome.i18n.getMessage("zendesk_try_pro_advanced_button")+"";return{c(){t=Gh(n)},m(e,n){Hh(e,t,n)},p:gh,d(e){e&&Fh(t)}}}function RE(e){let t,n=chrome.i18n.getMessage("zendesk_upgrade_cta")+"";return{c(){t=Gh(n)},m(e,n){Hh(e,t,n)},p:gh,d(e){e&&Fh(t)}}}function OE(e){let t,n,o=e[17].text+"";return{c(){t=new lf(!1),n=Yh(),t.a=n},m(e,r){t.m(o,e,r),Hh(e,n,r)},p:gh,d(e){e&&(Fh(n),t.d())}}}function NE(e){let t,n,o,r=e[17].text+"";return{c(){t=Wh("span"),Jh(t,"class","upgrade-link svelte-csh6q0")},m(i,s){Hh(i,t,s),t.innerHTML=r,n||(o=Zh(t,"click",e[9]),n=!0)},p:gh,d(e){e&&Fh(t),n=!1,o()}}}function DE(e){let t;let n=function(e){return"loginLink"===e[17].block?NE:OE}(e),o=n(e);return{c(){o.c(),t=Yh()},m(e,n){o.m(e,n),Hh(e,t,n)},p(e,t){o.p(e,t)},d(e){e&&Fh(t),o.d(e)}}}function PE(e){let t,n,o,r,i,s,a;return{c(){t=Wh("div"),n=Wh("div"),n.textContent=`${chrome.i18n.getMessage("zendesk_popup_on_off_label")}`,o=Vh(),r=Wh("div"),i=Wh("span"),i.innerHTML='<span class="svelte-csh6q0"></span>',Jh(n,"class","text svelte-csh6q0"),Jh(i,"class","on-off-switch svelte-csh6q0"),sf(i,"on",e[2].isZendeskEnabled),Jh(r,"class","switch"),Jh(t,"class","modal-section switch-container svelte-csh6q0")},m(l,c){Hh(l,t,c),Bh(t,n),Bh(t,o),Bh(t,r),Bh(r,i),s||(a=Zh(i,"click",e[8]),s=!0)},p(e,t){4&t&&sf(i,"on",e[2].isZendeskEnabled)},d(e){e&&Fh(t),s=!1,a()}}}function BE(e){let t,n,o,r,i,s,a=e[3]&&bE(e);return{c(){t=Wh("div"),n=Wh("button"),o=Vh(),a&&a.c(),Jh(n,"class","dl-zendesk-top-icon svelte-csh6q0"),Jh(t,"dir",eo())},m(l,c){Hh(l,t,c),Bh(t,n),Bh(t,o),a&&a.m(t,null),r=!0,i||(s=[Zh(n,"click",e[12]),Mh(dv.call(null,t,{isShadow:!0})),Zh(t,"click_outside",e[7])],i=!0)},p(e,[n]){e[3]?a?(a.p(e,n),8&n&&jf(a,1)):(a=bE(e),a.c(),jf(a,1),a.m(t,null)):a&&(Hf(),Wf(a,1,1,(()=>{a=null})),Ff())},i(e){r||(jf(a),r=!0)},o(e){Wf(a),r=!1},d(e){e&&Fh(t),a&&a.d(),i=!1,vh(s)}}}function zE(e,n,o){let r;Eh(e,r_,(e=>o(2,r=e))),wf("text_direction",eo());let i,{controller:s}=n,a=!1,l="default",c=!1,d=!1;const u=()=>{c?o(4,l="user_has_reached_limit"):r.isZendeskOnboarded?(o(3,a=!1),o(4,l="default")):(o(4,l="onboarding"),Lh(r_,r.isZendeskOnboarded=!0,r),t({action:"dlTrackOnboardingModalShown",payload:{nicheIntegration:ut.zendesk}}),o(3,a=!0))},p=()=>{"onboarding"===l&&(Lh(r_,r.isZendeskOnboarded=!0,r),o(4,l="default")),"welcome"===l&&o(4,l="default"),o(3,a=!1)};_f((()=>{u(),r.isZendeskEnabled&&r.zendeskActiveTermbase&&(async()=>{if(!r.zendeskActiveTermbase)return;let e=[];try{const[t]=await HB();e=t}catch(e){Eo()&&console.error(e)}if(!e||0===e.length)return void Lh(r_,r.zendeskActiveTermbase=null,r);const t=e.map((e=>e.id));if(r.zendeskActiveTermbase&&t.includes(r.zendeskActiveTermbase.id)){const t=e.find((e=>e.id===r.zendeskActiveTermbase.id));Lh(r_,r.zendeskActiveTermbase=t,r)}else Lh(r_,r.zendeskActiveTermbase=null,r)})()}));return e.$$set=e=>{"controller"in e&&o(0,s=e.controller)},e.$$.update=()=>{4&e.$$.dirty&&o(1,d=r?.featureSet?.customizations?.includes("zendesk")),4&e.$$.dirty&&o(6,i=Tt-r.zendeskSuccessfulTranslations),6&e.$$.dirty&&(r.zendeskSuccessfulTranslations>=Tt&&!d?(o(5,c=!0),u()):(o(5,c=!1),u())),2&e.$$.dirty&&d&&(o(5,c=!1),o(4,l="default"))},[s,d,r,a,l,c,i,p,()=>{Lh(r_,r.isZendeskEnabled=!r.isZendeskEnabled,r)},()=>{t({action:"dlRequestLogin"})},function(){t({action:"dlTrackUILocationClicked",payload:Ce}),t({action:"dlExternalURLRedirect",payload:{destination:ly,utmContent:"zendesk_customization"}})},u,()=>{a?p():o(3,a=!0)},e=>{Lh(r_,r.selectedTargetLanguage=e.detail.selectedOption.value,r),yx(s)},()=>{r.isZendeskEnabled&&p()}]}class UE extends t_{constructor(e){super(),e_(this,e,zE,BE,wh,{controller:0,updateIconSettings:11})}get updateIconSettings(){return this.$$.ctx[11]}}class HE{static HTML_TAG_NAME="deepl-zendesk-top-icon";static createElement=(e=document)=>{const t=e.createElement(HE.HTML_TAG_NAME),n=new HE(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.triggerUpdateIconSettings=n.triggerUpdateIconSettings,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer)}createDOM=({controller:e})=>{this.domElement.mainComponent=new UE({target:this.domElement.shadowContainer,props:{onClose:this.cleanupDOM,controller:e}})};triggerUpdateIconSettings=()=>{this.domElement.mainComponent.updateIconSettings()};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}const FE=[...gc].filter((e=>!["BrowserApiErrors","TryCatch","Breadcrumbs","GlobalHandlers"].includes(e.name))),jE=()=>{const e=new Il({...a_,transport:Rl,stackParser:Hl,integrations:FE}),t=new Ls;return t.setClient(e),t.setContext("appContext",{location:"content"}),(e=>{chrome.storage.sync.get(["installationId","session","isLoggedIn","translatorServiceType","writeServiceType"],(function(t){e.setTag("internal_session_id",t.session.id),e.setTag("is_translator_pro",pn(t,$t.TRANSLATOR)),e.setTag("is_write_pro",pn(t,$t.WRITE)),e.setTag("is_logged_in",t.isLoggedIn)})),chrome.storage.local.get("browserInstanceId",(function(t){e.setTag("browser_instance_id",t.browserInstanceId)})),chrome.storage.onChanged.addListener((t=>(t?.session?.newValue&&e.setTag("internal_session_id",t.session.newValue.id),t?.installationId&&e.setUser({id:t.installationId}),t?.browser_instance_id&&e.setTag("browser_instance_id",r_.browserInstanceId.newValue),!0!==t.isLoggedIn?.newValue&&!1!==t.isLoggedIn?.newValue||e.setTag("is_logged_in",t.isLoggedIn.newValue),t.translatorServiceType&&chrome.storage.sync.get(["isLoggedIn"],e.setTag("is_translator_pro",pn({...r_,translatorServiceType:t.translatorServiceType.newValue},$t.TRANSLATOR))),t.writeServiceType&&chrome.storage.sync.get(["isLoggedIn"],e.setTag("is_write_pro",pn({...r_,writeServiceType:t.writeServiceType.newValue},$t.WRITE))),!0)))})(t),{client:e,scope:t}},{scope:WE}=jE(),qE=()=>{const e=window.location.hostname.split(".");if(e.length<2)return!1;return"zendesk.com"===`${e[e.length-2]}.${e[e.length-1]}`},GE=()=>document.querySelector("deepl-zendesk-controller"),VE=()=>A_.createElement(),YE=e=>{const t=e.match(/^\/agent\/tickets\/(\d+)$/);if(t)return t[1]},ZE=()=>{const e=document.querySelector("#main_panes");if(e)return Array.from(e.children).find((e=>"hidden"!==window.getComputedStyle(e).visibility&&"none"!==window.getComputedStyle(e).display))},KE=e=>e.querySelector("deepl-zendesk-ticket-controller"),XE=(e,t)=>{const n=tb.createElement();return e.appendChild(n),n.createDOM({pane:e,ticketId:t}),n},JE=(e,t)=>{try{const n=e.getPane();if(n.querySelector("deepl-zendesk-top-icon")||nx(n,e),!t)return;e.getTicketLanguageInformation().isSupported?(n.querySelector("deepl-zendesk-toolbar")||ox(n,e),n.querySelector("deepl-zendesk-input-icon")||rx(n,e)):n.querySelector("deepl-zendesk-toolbar")||ox(n,e)}catch(e){Eo()&&console.error(e),l_(e,WE)}},QE=()=>{tx(["deepl-zendesk-ticket-controller","deepl-zendesk-top-icon","deepl-zendesk-toolbar","deepl-zendesk-input-icon","deepl-zendesk-message-controller","deepl-zendesk-submit-button-tooltip","deepl-zendesk-onboarding-modal"])},ex=()=>{tx(["deepl-zendesk-toolbar","deepl-zendesk-input-icon","deepl-zendesk-message-controller","deepl-zendesk-onboarding-modal"]);const e=Array.from(document.getElementsByTagName("deepl-zendesk-ticket-controller"));for(const t of e)t.setIsAutoTranslateEnabled(!1)},tx=e=>{try{for(const t of e)if(t){const e=Array.from(document.getElementsByTagName(t));for(const t of e)t.cleanupDOM(),t.remove()}}catch(e){Eo()&&console.error(e),l_(e,WE)}},nx=(e,t)=>{const n=HE.createElement(),o=e.querySelector('[data-test-id="omni-header-filter-trigger"],[data-test-id="omni-header-ticket-actions-trigger"]');if(!o)return;const r=o.parentElement;return r?(r.prepend(n),n.createDOM({controller:t}),n):void 0},ox=(e,t)=>{const n=mb.createElement(),o=e.querySelector('[data-test-id="ticket-call-controls-action-bar"]');if(o)return o.after(n),n.createDOM({controller:t}),n.updateLanguageInformation(t.getTicketLanguageInformation()),n},rx=(e,t)=>{const n=Nw.createElement(),o=e.querySelector('div[data-test-id="omnichannel-composer-toolbar"] ul'),r=e.querySelector('div[data-test-id="ticket-rich-text-editor"] [contenteditable="true"]');if(r&&o&&o)return o.append(n),n.createDOM({controller:t,editable:r}),n},ix=e=>{const t=e.querySelector('div[data-test-id="omnichannel-composer-toolbar"] ul[data-test-id="ticket-editor-app-icon-view"][data-cy="ticket-editor-app-icon-view"]'),n=e.querySelector('div[data-test-id="omnichannel-composer-toolbar"] ul');return t?xt:n?St:void 0},sx=e=>Array.from(e.querySelectorAll('article[data-test-id="omni-log-comment-item"]')),ax=e=>{const t=sx(e);if(!(t.length<1))return t.sort(((e,t)=>{const n=e.querySelector('time[data-test-id="timestamp-relative"]').getAttribute("datetime"),o=t.querySelector('time[data-test-id="timestamp-relative"]').getAttribute("datetime");return n===o?0:new Date(n)<Date(o)?-1:1})),t[0]},lx=(e,t)=>{const n=sx(e);if(n.length<1)return;n.sort(((e,t)=>{const n=e.querySelector('time[data-test-id="timestamp-relative"]').getAttribute("datetime"),o=t.querySelector('time[data-test-id="timestamp-relative"]').getAttribute("datetime");return n===o?0:new Date(n)<Date(o)?-1:1}));const o=[];for(let e=0;e<t;e++)n[e]&&o.push(n[e]);return o},cx=e=>e.querySelector('[data-test-id="omni-log-item-message"]'),dx=async e=>{const t=ax(e);if(t){const e=t?cx(t).innerText:"";return await Yn(e)}},ux=async e=>{const t=lx(e,12),n=[];for(const e in t)try{const o=t[e],r=o?cx(o).innerText:"",i=o.querySelector('[data-test-id="omni-log-item-sender"] a')?.getAttribute("href"),s=o.querySelector('[data-test-id="omni-log-item-sender"] a strong').innerText;if(0==r.length)continue;let a=n.find((e=>e.id===i));const l=r.includes(`: ${s}`)&&r.indexOf(`: ${s}`)+`: ${s}`.length===r.length,c=0===Number(e);a||(a={id:i,name:s,messages:[],isLikelyCustomer:!1,isFirstMessage:!1},n.push(a)),l&&(a.isLikelyCustomer=!0),c&&(a.isFirstMessage=!0),a.messages.push({message:r,shouldBeSkipped:l||r.length<=3})}catch(e){Eo()&&console.log("Dev debug: unable to read message content in detectTicketLanguageInLiveChat")}const o=(1===n.filter((e=>e.isLikelyCustomer)).length?n.find((e=>e.isLikelyCustomer)):n.find((e=>!e.isFirstMessage))).messages.filter((e=>!e.shouldBeSkipped)).map((e=>e.message));o.sort(((e,t)=>e.length>t.length?-1:e.length<t.length?1:0));const r=o[0];if(r)return await Yn(r)},px=(e,t)=>{const n=e.querySelector("deepl-zendesk-toolbar");return!!n&&(n.updateLanguageInformation(t),!0)},mx=(e,{isEnabled:t})=>{const n=e.querySelector("deepl-zendesk-toolbar");return!!n&&(n.updateAutoTranslateStatus(t),!0)},gx=e=>{const t=e.querySelector("deepl-zendesk-top-icon");return!!t&&(t.triggerUpdateIconSettings(),!0)},hx=(e,t)=>{const n=e.querySelector("deepl-zendesk-input-icon");return!!n&&(n.updateTargetLanguage(t),!0)},fx=e=>{try{const t=e.getPane(),n=sx(t);for(const t of n)_x(t)||vx(t,e)}catch(e){Eo()&&console.error(e),l_(e,WE)}},_x=e=>e.querySelector("deepl-zendesk-message-controller"),vx=(e,t)=>{const n=Gw.createElement(),o=cx(e);if(!o||!o.parentNode||!o.parentNode.parentNode)return;return o.parentNode.parentNode.after(n),n.createDOM({controller:t,message:e}),n},yx=e=>{const t=Array.from(e.getPane().querySelectorAll("deepl-zendesk-message-controller"));for(const e of t)e.triggerTranslateAgain()},wx=e=>{const t=Array.from(e.querySelectorAll("iframe"));for(const e of t)e.contentWindow.postMessage("dl-zendesk-welcome-screen","*")},bx=e=>{const t=e.querySelector("deepl-zendesk-input-icon");return!!t&&t.getInputHasSelection()},Ex=e=>{const t=e.getPane().querySelector('[data-test-id="submit_button-button"]'),n=t.closest('[data-garden-id="buttons.button_group_view"]'),o=t.getBoundingClientRect(),r=n.getBoundingClientRect(),i=Xw.createElement();return i.createDOM({controller:e,coords:o,containerCoords:r}),n.prepend(i),i},xx=e=>{const t=e.querySelector('[data-test-id="conversation-translator-language-detection-prompt"]');t&&t.remove()},Sx=()=>{const e=new URL(window.location.href);return"https:"===e.protocol&&"mail.google.com"===e.hostname},Tx=e=>e instanceof HTMLTextAreaElement||e instanceof HTMLInputElement&&["text","search"].includes(e.type),$x=e=>e.selectionStart<e.selectionEnd,Cx=async(e,t,n)=>{if(!Tx(e))return n||(e=>{lv("mousedown",e);const t=window.getSelection();t.removeAllRanges();const n=new Range;n.setStart(e,0),n.collapse(!1),t.addRange(n),lv("mouseup",e)})(e),await iv(e,t,!0);if($x(e)||((e,{start:t,end:n})=>{e.selectionStart=t,e.selectionEnd=n})(e,{start:0,end:e.value.length}),!document.execCommand("insertText",!1,t.text)){const n=e.value.substring(0,e.selectionStart)+t.text+e.value.substring(e.selectionEnd);e.value=n}};function kx(e,t){if(!t)return!1;const n=t.getBoundingClientRect();if(Tx(e))return function(e,t){const n=function(e){const t=document.createElement("div");document.body.appendChild(t);var n=window.getComputedStyle(e);t.style.whiteSpace="pre-wrap",t.style.wordWrap="break-word",t.style.position="fixed",t.style.overflow="hidden",["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"].forEach((function(e){t.style[e]=n[e]}));const o=e.getBoundingClientRect();return t.style.top=Math.round(o.top)+"px",t.style.left=Math.round(o.left)+"px",t.innerText=e.value,t}(e);let o=!1;try{o=Lx(n,t)}catch(e){}return n.remove(),o}(e,n);{const t=W_(e).getSelection(),o=function(e){return"IFRAME"===e.nodeName.toUpperCase()?e.getBoundingClientRect():{top:0,left:0}}(e);if(t.rangeCount)return Lx(G_(e),n,o)}return!1}function Lx(e,t,n={top:0,left:0}){const o=W_(e).getSelection();for(const s of e.childNodes)if("#text"===s.nodeName.toLowerCase()){const e=o.getRangeAt(0).cloneRange();e.setStart(s,0),e.setEnd(s,s.textContent.length);const a=e.getClientRects();if(!a.length)continue;for(const e of a){const o={left:e.left+n.left,right:e.right+n.left,top:e.top+n.top,bottom:e.bottom+n.top};if(i=t,(r=o).left<=i.right&&r.right>=i.left&&r.top<=i.bottom&&r.bottom>=i.top)return!0}}else if(e.childNodes.length&&Lx(s,t,n))return!0;var r,i;return!1}function Mx(e,t){const n=t.filter((t=>new RegExp(t).exec(e)));return n&&n.length>0}function Ix(e,t){return Mx(e,D)||Mx(t,P)}function Ax(e){let t;try{t=new URL(e)}catch(e){return!1}return"http:"===t.protocol||"https:"===t.protocol}function Rx(e,t){if(e&&t&&"string"==typeof e&&Array.isArray(t)){if(0===t.length)return e;for(const n of t)e.substr(0,n.length)===n&&(e=e.substr(n.length));return e}}function Ox(e){try{return new URL(e),!0}catch(e){return!1}}const Nx=e=>{const t={"&":".","<":".",">":".",'"':".","'":".","#":".",";":".","%":".","\\":".","/":"."};return e.replace(/[&<>"'#;%\\/]/g,(function(e){return t[e]}))};function Dx(e){const t=e||window.getSelection().getRangeAt(0),n=t.getBoundingClientRect(),o=document.body.parentNode.getBoundingClientRect(),{top:r,left:i,right:s,bottom:a,height:l,width:c}=n,d={x:i-o.left,y:a-o.top,selectedTop:r,selectedBottom:a,selectedRight:o.width-s,selectedLeft:i+window.pageXOffset,selectedWidth:c,height:l};if(t.collapsed){const e=t.commonAncestorContainer;d.x=e.getBoundingClientRect().left,d.y=e.getBoundingClientRect().top+e.offsetHeight}return d}const Px=(e,t)=>{let n={left:Math.max(e.left,t.left),right:Math.min(e.right,t.right),top:Math.max(e.top,t.top),bottom:Math.min(e.bottom,t.bottom)};return n.left>=n.right||n.top>=n.bottom?null:n},Bx=e=>{const t=window.getComputedStyle(e),n=t.getPropertyValue("overflow-y"),o=t.getPropertyValue("overflow-x"),r=["hidden","scroll","auto"];return r.includes(n)||r.includes(o)};function zx(e){const t=(e=>{let t=e.getBoundingClientRect(),n={left:t.left,right:t.right,bottom:t.bottom,top:t.top};const o={top:0,left:0,right:0,bottom:0,width:0,height:0},r={top:0,left:0,right:window.innerWidth,bottom:window.innerHeight};for(let t=e.parentElement;null!==t&&t!==e.ownerDocument.body;t=t.parentElement){let e=t.getBoundingClientRect();const r=Px(n,e);if(r)n=r;else if(Bx(t))return o}return n=Px(n,r),n?{top:n.top,bottom:n.bottom,left:n.left,right:n.right,width:n.right-n.left,height:n.bottom-n.top}:o})(e),n=e.selectionStart,o=e.selectionEnd,r=document.createElement("div");r.id="mirror",document.body.appendChild(r);const i=window.getComputedStyle(e);r.style.fontFamily=i.fontFamily,r.style.fontSize=i.fontSize,r.style.padding=i.padding,r.style.border=i.border,r.style.lineHeight=i.lineHeight,r.style.whiteSpace="pre-wrap",r.style.wordWrap="break-word",r.style.visibility="hidden",r.style.top=`${t.top+window.scrollY}px`,r.style.bottom=`${t.bottom+window.scrollY}px`,r.style.left=`${t.left}px`,r.style.height=i.height,r.style.width=`${t.width}px`,r.style.position="absolute";const s=Nx(e.value.substring(0,n)),a=Nx(e.value.substring(n,o)),l=Nx(e.value.substring(o)),c=$n(s+'<span id="marker-start" style="position: absolute;">|</span>'+a+'<span id="marker-end" style="position: absolute;">|</span>'+l);r.innerHTML=c;const d=document.getElementById("marker-start"),u=document.getElementById("marker-end"),p=d.getBoundingClientRect(),m=u.getBoundingClientRect(),g=document.body.parentNode.getBoundingClientRect(),h=e.getBoundingClientRect(),f={x:p.left-g.left,y:h.top>0?m.bottom-g.top:m.bottom-g.top+h.top,selectedTop:p.top,selectedBottom:m.bottom,selectedRight:g.width-m.right,selectedLeft:p.left+window.pageXOffset,selectedWidth:m.right-p.right,height:m.bottom-p.top};return document.body.removeChild(r),f}function Ux(e){let t=e.childNodes[0];for(let n of Array.from(e.childNodes))if(t.getBoundingClientRect||(t=n),n.getBoundingClientRect&&(n.getBoundingClientRect().right>t.getBoundingClientRect().right&&(t=n),n.hasChildNodes())){const e=Ux(n);if(e&&e.getBoundingClientRect){const o=n.getBoundingClientRect(),r=e.getBoundingClientRect();o.right<r.right&&(t=e)}}return t}const Hx=e=>{const t=[],n=[];return Wx({domElements:t,strings:n,element:e}),{domElements:t,strings:n}};function Fx(e){for(var t=0;t<e.childNodes.length;++t){const n=e.childNodes[t];if("#text"!=n.nodeName&&"#comment"!=n.nodeName){if("block"==window.getComputedStyle(n).display)return!0;if(Fx(n))return!0}}return!1}const jx=({strings:e,domElements:t})=>{for(const n in t)Array.isArray(e[n])?t[n].innerHTML=$n(e[n].join("")):t[n].innerHTML=$n(e[n])},Wx=({domElements:e,strings:t,element:n})=>{if("#text"!=n.nodeName&&"#comment"!=n.nodeName)if(Yx(n))e.push(n),t.push($n(n.innerHTML));else for(const o of n.childNodes)Wx({domElements:e,strings:t,element:o})},qx=({domElements:e,strings:t,element:n,tmpElementMap:o})=>{if("#text"!=n.nodeName&&"#comment"!=n.nodeName&&"FORM"!=n.nodeName)if(Yx(n))void 0!==o&&Gx({topElement:n,element:n,tmpElementMap:o}),e.push(n),t.push($n(n.innerHTML));else for(const r of n.childNodes)qx({domElements:e,strings:t,element:r,tmpElementMap:o})},Gx=({topElement:e,element:t,tmpElementMap:n})=>{Array.from(t.children).forEach((t=>{Gx({topElement:e,element:t,tmpElementMap:n})})),t!==e&&Vx(t,n)},Vx=(e,t)=>{const n=Object.keys(t).length+1,o=e.tagName,r={};Array.from(e.attributes).forEach((e=>{r[e.name]=e.value}));const i=`a${n}`,s=document.createElement(i);s.innerHTML=$n(e.innerHTML),e.replaceWith(s),t[i]={originalTagName:o,originalAttributes:r}};function Yx(e){if(Zx(e)||Xx(e))return!1;for(const t of e.childNodes)if("#text"==t.nodeName&&""!=t.wholeText.trim()||"font"==t.nodeName)return!0;for(const t of e.childNodes)if(!Zx(t)&&(!Kx(t)||Xx(t)||"inline"!=window.getComputedStyle(t).display||Fx(e)))return!1;if(void 0===e.innerText||""==e.innerText.trim())return!1;if(1===e.childNodes.length){const t=e.childNodes[0];return Zx(t)}return!0}const Zx=e=>"#text"==e.nodeName||"#comment"==e.nodeName,Kx=e=>gt.includes(e.nodeName.toLowerCase()),Xx=e=>mt.includes(e.nodeName.toLowerCase());function Jx(e){for(var t=[];null!=e.parentNode;){for(var n=0,o=0,r=0;r<e.parentNode.childNodes.length;r++){var i=e.parentNode.childNodes[r];i.nodeName===e.nodeName&&(i===e&&(o=n),n++)}e.hasAttribute("id")&&""!=e.id?t.unshift(e.nodeName.toLowerCase()+"#"+e.id):n>1?t.unshift(e.nodeName.toLowerCase()+":nth-child("+(o+1)+")"):t.unshift(e.nodeName.toLowerCase()),e=e.parentNode}return t.slice(1)}function Qx(e){let t;return{c(){t=Wh("div"),Jh(t,"class","loader svelte-c65fyl"),sf(t,"small",e[0])},m(e,n){Hh(e,t,n)},p(e,[n]){1&n&&sf(t,"small",e[0])},i:gh,o:gh,d(e){e&&Fh(t)}}}function eS(e,t,n){let{small:o=!1}=t;return e.$$set=e=>{"small"in e&&n(0,o=e.small)},[o]}class tS extends t_{constructor(e){super(),e_(this,e,eS,Qx,wh,{small:0})}}const nS={developer_tools:"DEVELOPER_TOOLS",settings_page:"SETTINGS_PAGE",settings_writing:"SETTINGS_WRITING",settings_reading:"SETTINGS_READING",settings_customizations:"SETTINGS_CUSTOMIZATIONS",settings_glossary:"SETTINGS_GLOSSARY",onboarding:"ONBOARDING",onboarding_after_successful_login:"ONBOARDING_AFTER_SUCCESSFUL_LOGIN",firefox_first_run:"FIREFOX_FIRST_RUN",privacy_policy:"PRIVACY_POLICY",create_account:"CREATE_ACCOUNT"};function oS(e){let t,n,o,r,i,s;return{c(){t=Wh("div"),n=Wh("span"),n.textContent=`${chrome.i18n.getMessage("inline_translation_link_more_settings")}`,o=Vh(),r=Wh("span"),Jh(r,"class","icon icon-external-link svelte-1yv621f"),Jh(t,"class","settings-link svelte-1yv621f")},m(a,l){Hh(a,t,l),Bh(t,n),Bh(t,o),Bh(t,r),i||(s=Zh(t,"click",Xh(Kh(e[0]))),i=!0)},p:gh,i:gh,o:gh,d(e){e&&Fh(t),i=!1,s()}}}function rS(e,n,o){let{page:r=nS.settings_page}=n;return e.$$set=e=>{"page"in e&&o(1,r=e.page)},[function(){t({action:"dlOpenInternalPage",payload:{destination:r}})},r]}class iS extends t_{constructor(e){super(),e_(this,e,rS,oS,wh,{page:1})}}function sS(e){let t,n,o;return{c(){t=Wh("button"),Jh(t,"type","button"),Jh(t,"class","close-icon svelte-nskp1z")},m(r,i){Hh(r,t,i),n||(o=Zh(t,"click",e[0]),n=!0)},p:gh,i:gh,o:gh,d(e){e&&Fh(t),n=!1,o()}}}function aS(e){return[function(t){Ef.call(this,e,t)}]}class lS extends t_{constructor(e){super(),e_(this,e,aS,sS,wh,{})}}function cS(e){let t,n,o,r,i,s,a,l,c,d,u,p,m;return r=new lS({}),r.$on("click",e[2]),c=new Rb({props:{value:e[0].selectedTargetLanguage}}),c.$on("selection",e[3]),p=new iS({}),{c(){t=Wh("div"),n=Wh("div"),o=Wh("div"),Xf(r.$$.fragment),i=Vh(),s=Wh("div"),a=Wh("p"),a.textContent=`${chrome.i18n.getMessage("whatsapp_web_settings_languageswitch_label")}`,l=Vh(),Xf(c.$$.fragment),d=Vh(),u=Wh("div"),Xf(p.$$.fragment),Jh(o,"class","close-icon-container svelte-8cr9h0"),Jh(n,"class","header"),Jh(a,"class","label-language-switch svelte-8cr9h0"),Jh(s,"class","body svelte-8cr9h0"),Jh(u,"class","footer svelte-8cr9h0"),Jh(t,"class","container svelte-8cr9h0")},m(e,g){Hh(e,t,g),Bh(t,n),Bh(n,o),Jf(r,o,null),Bh(t,i),Bh(t,s),Bh(s,a),Bh(s,l),Jf(c,s,null),Bh(t,d),Bh(t,u),Jf(p,u,null),m=!0},p(e,[t]){const n={};1&t&&(n.value=e[0].selectedTargetLanguage),c.$set(n)},i(e){m||(jf(r.$$.fragment,e),jf(c.$$.fragment,e),jf(p.$$.fragment,e),m=!0)},o(e){Wf(r.$$.fragment,e),Wf(c.$$.fragment,e),Wf(p.$$.fragment,e),m=!1},d(e){e&&Fh(t),Qf(r),Qf(c),Qf(p)}}}function dS(e,t,n){let o;const r=bf("deepl_settings");Eh(e,r,(e=>n(0,o=e)));const i=yf();return[o,r,function(){i("close")},e=>r.set({selectedTargetLanguage:e.detail.selectedOption.value,isTargetLanguageConfirmed:!0,regionalVariant:e.detail.selectedOption.regionalVariant||""})]}class uS extends t_{constructor(e){super(),e_(this,e,dS,cS,wh,{})}}function pS(e){return/\bdark\b/gm.test(e)}const mS=function(){let e={isDarkMode:pS(document.body.className)};const{subscribe:t,update:n}=o_(e);let o=new MutationObserver((e=>{e.forEach((e=>{"attributes"===e.type&&"class"===e.attributeName&&n((e=>({...e,isDarkMode:pS(document.body.className)})))}))}));return o.observe(document.body,{attributes:!0}),setTimeout((()=>{uv((()=>{o.disconnect()}))})),{subscribe:t}}();function gS(e){let t,n,o,r,i,s,a,l,c,d,u,p,m,g;const h=[fS,hS],f=[];function _(e,t){return e[2]?0:1}return n=_(e),o=f[n]=h[n](e),{c(){t=Wh("div"),o.c(),r=Vh(),i=Wh("div"),i.textContent=`${chrome.i18n.getMessage("whatsapp_web_show_alternatives_link")}`,s=Vh(),a=Wh("button"),l=qh("svg"),c=qh("path"),Jh(i,"class","show-alternatives svelte-3k7vbu"),sf(i,"dark",e[6]),Jh(c,"d","M3 9L9 3M3 3L9 9"),Jh(c,"stroke",d=e[3]&&e[3].isDarkMode?"#F2F4F7":"#037171"),Jh(c,"stroke-width","1.5"),Jh(c,"stroke-linecap","round"),Jh(c,"stroke-linejoin","round"),Jh(l,"width","12"),Jh(l,"height","12"),Jh(l,"viewBox","0 0 12 12"),Jh(l,"fill","none"),Jh(l,"xmlns","http://www.w3.org/2000/svg"),Jh(a,"class","svelte-3k7vbu"),Jh(t,"class","container svelte-3k7vbu"),Jh(t,"dir",eo()),sf(t,"dark",e[6])},m(o,d){Hh(o,t,d),f[n].m(t,null),Bh(t,r),Bh(t,i),Bh(t,s),Bh(t,a),Bh(a,l),Bh(l,c),p=!0,m||(g=[Zh(i,"click",e[7]),Zh(a,"click",(function(){yh(e[1])&&e[1].apply(this,arguments)}))],m=!0)},p(s,a){let l=n;n=_(e=s),n===l?f[n].p(e,a):(Hf(),Wf(f[l],1,1,(()=>{f[l]=null})),Ff(),o=f[n],o?o.p(e,a):(o=f[n]=h[n](e),o.c()),jf(o,1),o.m(t,r)),(!p||64&a)&&sf(i,"dark",e[6]),(!p||8&a&&d!==(d=e[3]&&e[3].isDarkMode?"#F2F4F7":"#037171"))&&Jh(c,"stroke",d),(!p||64&a)&&sf(t,"dark",e[6])},i(e){p||(jf(o),u||Mf((()=>{u=Gf(t,N_,{y:-10,duration:200}),u.start()})),p=!0)},o(e){Wf(o),p=!1},d(e){e&&Fh(t),f[n].d(),m=!1,vh(g)}}}function hS(e){let t,n,o,r;return{c(){t=Wh("div"),n=Wh("span"),o=Gh(e[0]),Jh(n,"class","translatedText svelte-3k7vbu"),Jh(t,"dir",r=eo(e[5]))},m(e,r){Hh(e,t,r),Bh(t,n),Bh(n,o)},p(e,n){1&n&&Qh(o,e[0]),32&n&&r!==(r=eo(e[5]))&&Jh(t,"dir",r)},i:gh,o:gh,d(e){e&&Fh(t)}}}function fS(e){let t,n;return t=new kw({props:{error:e[2]}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.error=e[2]),t.$set(o)},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function _S(e){let t,n,o=e[4]&&gS(e);return{c(){o&&o.c(),t=Yh()},m(e,r){o&&o.m(e,r),Hh(e,t,r),n=!0},p(e,[n]){e[4]?o?(o.p(e,n),16&n&&jf(o,1)):(o=gS(e),o.c(),jf(o,1),o.m(t.parentNode,t)):o&&(Hf(),Wf(o,1,1,(()=>{o=null})),Ff())},i(e){n||(jf(o),n=!0)},o(e){Wf(o),n=!1},d(e){e&&Fh(t),o&&o.d(e)}}}function vS(e,n,o){let r,i,s;Eh(e,r_,(e=>o(9,i=e))),Eh(e,mS,(e=>o(3,s=e))),wf("text_direction",eo());let a,l,{translatedText:c}=n,{sourceText:d}=n,{onClose:u}=n,{error:p}=n,m=!1;return setTimeout((()=>o(4,m=!0)),50),e.$$set=e=>{"translatedText"in e&&o(0,c=e.translatedText),"sourceText"in e&&o(8,d=e.sourceText),"onClose"in e&&o(1,u=e.onClose),"error"in e&&o(2,p=e.error)},e.$$.update=()=>{8&e.$$.dirty&&o(6,r=s&&s.isDarkMode),256&e.$$.dirty&&Yn(d).then((e=>{a=e})),512&e.$$.dirty&&o(5,l=i.selectedTargetLanguage)},[c,u,p,s,m,l,r,function(){t({action:"dlExternalURLRedirect",payload:{destination:dy,sourceLang:a,targetLang:l,textToShare:d}})},d,i]}class yS extends t_{constructor(e){super(),e_(this,e,vS,_S,wh,{translatedText:0,sourceText:8,onClose:1,error:2})}}class wS{static HTML_TAG_NAME="deepl-whatsapp-translated-message";static createElement=(e=document)=>{const t=e.createElement(wS.HTML_TAG_NAME),n=new wS(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=(e,t,n,o)=>{this.domElement.mainComponent=new yS({target:this.domElement.shadowContainer,props:{translatedText:e,onClose:n,sourceText:t,error:o}})};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function bS(e){let t,n,o,r,i,s,a,l;const c=[xS,ES],d=[];function u(e,t){return e[5]?0:1}n=u(e),o=d[n]=c[n](e);let p=e[7]&&CS(e);return{c(){t=Wh("div"),o.c(),r=Vh(),p&&p.c(),Jh(t,"class","container svelte-tz0fan"),Jh(t,"style",i=`\n    top: ${e[6]}px; \n    left: ${e[12]}px; \n    z-index: ${e[14]}; \n    opacity: ${e[11]};`),Jh(t,"dir",eo()),sf(t,"isTranslated",e[4]),sf(t,"isHidden",e[1]),sf(t,"messageHasReactionIcon",e[8]),sf(t,"isExpanded",e[2]),sf(t,"isParentRTL",e[0])},m(o,i){Hh(o,t,i),d[n].m(t,null),Bh(t,r),p&&p.m(t,null),e[26](t),s=!0,a||(l=[Zh(t,"mouseleave",e[27]),Mh(dv.call(null,t,{isShadow:!0})),Zh(t,"click_outside",e[16]),Zh(t,"mousedown",Xh(Kh(e[21])))],a=!0)},p(e,a){let l=n;n=u(e),n===l?d[n].p(e,a):(Hf(),Wf(d[l],1,1,(()=>{d[l]=null})),Ff(),o=d[n],o?o.p(e,a):(o=d[n]=c[n](e),o.c()),jf(o,1),o.m(t,r)),e[7]?p?(p.p(e,a),128&a&&jf(p,1)):(p=CS(e),p.c(),jf(p,1),p.m(t,null)):p&&(Hf(),Wf(p,1,1,(()=>{p=null})),Ff()),(!s||6208&a&&i!==(i=`\n    top: ${e[6]}px; \n    left: ${e[12]}px; \n    z-index: ${e[14]}; \n    opacity: ${e[11]};`))&&Jh(t,"style",i),(!s||16&a)&&sf(t,"isTranslated",e[4]),(!s||2&a)&&sf(t,"isHidden",e[1]),(!s||256&a)&&sf(t,"messageHasReactionIcon",e[8]),(!s||4&a)&&sf(t,"isExpanded",e[2]),(!s||1&a)&&sf(t,"isParentRTL",e[0])},i(e){s||(jf(o),jf(p),s=!0)},o(e){Wf(o),Wf(p),s=!1},d(o){o&&Fh(t),d[n].d(),p&&p.d(),e[26](null),a=!1,vh(l)}}}function ES(e){let t,n,o,r;t=new fv({props:{tooltip:chrome.i18n.getMessage("whatsapp_web_tooltip_translate_button"),multiline:!0,zIndex:"0",parentIsRTL:e[0],ignoreTextDirection:!0,$$slots:{default:[SS]},$$scope:{ctx:e}}});let i=e[2]&&TS(e);return{c(){Xf(t.$$.fragment),n=Vh(),i&&i.c(),o=Yh()},m(e,s){Jf(t,e,s),Hh(e,n,s),i&&i.m(e,s),Hh(e,o,s),r=!0},p(e,n){const r={};1&n&&(r.parentIsRTL=e[0]),1073741828&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r),e[2]?i?(i.p(e,n),4&n&&jf(i,1)):(i=TS(e),i.c(),jf(i,1),i.m(o.parentNode,o)):i&&(Hf(),Wf(i,1,1,(()=>{i=null})),Ff())},i(e){r||(jf(t.$$.fragment,e),jf(i),r=!0)},o(e){Wf(t.$$.fragment,e),Wf(i),r=!1},d(e){e&&(Fh(n),Fh(o)),Qf(t,e),i&&i.d(e)}}}function xS(e){let t,n;return t=new tS({props:{small:!0}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p:gh,i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function SS(e){let t,n,o;return{c(){t=Wh("div"),t.innerHTML='<svg width="15" height="15" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-tz0fan"><g clip-path="url(#clip0)"><path d="M1.85295 4.86015V12.4035C1.85295 12.7953 2.05334 13.1545 2.38029 13.3504L8.70832 17.1167C8.72427 17.1262 8.7404 17.1353 8.75668 17.1439L11.8727 19L11.8621 17.3672L11.8685 16.4605L11.8717 16.4747V16.1699C11.8717 15.9893 11.9613 15.8272 12.0993 15.7262L12.3015 15.6059L12.3991 15.5494L12.394 15.5508L16.091 13.3504C16.418 13.1545 16.6184 12.7953 16.6184 12.4035V4.86015C16.6184 4.46829 16.418 4.10909 16.091 3.91316L9.76299 0.146947C9.43604 -0.0489825 9.03527 -0.0489825 8.70832 0.146947L2.38029 3.92404C2.05334 4.11997 1.85295 4.47918 1.85295 4.86015Z" fill="#0F2B46"></path><path d="M6.68257 5.19787C7.10444 4.77336 7.77943 4.77336 8.2013 5.19787C8.50446 5.49621 8.60497 5.92588 8.50281 6.3113L11.4143 8.05411C11.4193 8.04902 11.4243 8.04396 11.4294 8.03894C11.8513 7.61442 12.5263 7.61442 12.9481 8.03894C13.4017 8.48522 13.4017 9.2254 12.9481 9.67168C12.5263 10.0962 11.8513 10.0962 11.4294 9.67168C11.111 9.35838 11.0162 8.90024 11.1448 8.50062L11.1341 8.50683L8.24372 6.78659C8.23005 6.80156 8.21591 6.81624 8.2013 6.83062C7.77943 7.25514 7.10444 7.25514 6.68257 6.83062C6.22906 6.38434 6.22906 5.64416 6.68257 5.19787Z" fill="white"></path><path d="M8.50819 11.5811L11.3455 9.88917L10.8182 9.58439L8.2574 11.1016C8.23971 11.0816 8.2212 11.062 8.20187 11.043C7.78 10.6185 7.10501 10.6185 6.68314 11.043C6.22963 11.4893 6.22963 12.2295 6.68314 12.6757C7.10501 13.1003 7.78 13.1003 8.20187 12.6757C8.50012 12.3822 8.60222 11.9616 8.50819 11.5811Z" fill="white"></path></g><defs><clipPath id="clip0"><rect width="18.5294" height="19" fill="white" transform="matrix(-1 0 0 1 18.5294 0)"></rect></clipPath></defs></svg>',Jh(t,"class","translateTrigger svelte-tz0fan")},m(r,i){Hh(r,t,i),n||(o=[Zh(t,"mouseover",e[23]),Zh(t,"click",e[15])],n=!0)},p:gh,d(e){e&&Fh(t),n=!1,vh(o)}}}function TS(e){let t,n;return t=new fv({props:{tooltip:chrome.i18n.getMessage("whatsapp_web_tooltip_settings_button"),multiline:!0,zIndex:"0",$$slots:{default:[$S]},$$scope:{ctx:e}}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p(e,n){const o={};1073741952&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function $S(e){let t,n,o,r;return{c(){t=Wh("div"),t.innerHTML='<svg width="15" height="15" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-tz0fan"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.11001 16.2439H10.71L11.025 14.0488C11.565 13.8732 12.015 13.6098 12.465 13.2585L14.58 14.0488L16.38 10.9756L14.625 9.57073C14.67 9.30732 14.67 9.0439 14.67 8.78049C14.67 8.51707 14.67 8.25366 14.625 7.99024L16.38 6.58537L14.58 3.5122L12.465 4.30244C12.015 3.99512 11.52 3.73171 11.025 3.5122L10.665 1.31707H7.06501L6.70501 3.5122C6.16501 3.68781 5.71501 3.95122 5.26501 4.30244L3.15001 3.5122L1.35001 6.58537L3.10501 7.99024C3.06001 8.25366 3.06001 8.51707 3.06001 8.78049C3.06001 9.0439 3.06001 9.30732 3.10501 9.57073L1.35001 10.9756L3.15001 14.0488L5.31001 13.2585C5.76001 13.5659 6.25501 13.8293 6.75001 14.0488L7.11001 16.2439ZM9.94501 15.3659H7.83001L7.51501 13.3463L7.24501 13.2585C6.66001 13.0829 6.12001 12.7756 5.67001 12.3805L5.44501 12.2049L3.55501 12.9073L2.52001 11.1512L4.09501 9.87805L4.05001 9.61463C4.00501 9.30732 3.96001 9 3.96001 8.73659C3.96001 8.47317 4.00501 8.16585 4.05001 7.85854L4.09501 7.63902L2.52001 6.36585L3.55501 4.60976L5.44501 5.3122L5.67001 5.09268C6.12001 4.69756 6.66001 4.43415 7.24501 4.21463L7.51501 4.12683L7.83001 2.19512H9.94501L10.26 4.21463L10.53 4.30244C11.115 4.47805 11.655 4.78537 12.105 5.18049L12.285 5.3561L14.175 4.65366L15.21 6.40976L13.635 7.68293L13.68 7.94634C13.725 8.25366 13.77 8.56098 13.77 8.82439C13.77 9.08781 13.725 9.39512 13.68 9.70244L13.635 9.96585L15.21 11.239L14.175 12.9951L12.285 12.2927L12.105 12.4683C11.655 12.8634 11.115 13.1268 10.53 13.3463L10.26 13.4341L9.94501 15.3659ZM6.03018 8.78047C6.03018 10.3171 7.29018 11.5463 8.86518 11.5463C10.4402 11.5463 11.7002 10.3171 11.7002 8.78047C11.7002 7.24388 10.4402 6.01461 8.86518 6.01461C7.29018 6.01461 6.03018 7.24388 6.03018 8.78047ZM6.93018 8.78047C6.93018 7.72681 7.78518 6.89266 8.86518 6.89266C9.94518 6.89266 10.8002 7.72681 10.8002 8.78047C10.8002 9.83413 9.94518 10.6683 8.86518 10.6683C7.78518 10.6683 6.93018 9.83413 6.93018 8.78047Z" fill="#0F2B46"></path></svg>',Jh(t,"class","settingsTrigger svelte-tz0fan")},m(n,i){Hh(n,t,i),o||(r=[Zh(t,"click",e[24]),Zh(t,"mousedown",Xh(Kh(e[22])))],o=!0)},p:gh,i(e){n||Mf((()=>{n=Gf(t,N_,{x:-8,duration:600}),n.start()}))},o:gh,d(e){e&&Fh(t),o=!1,vh(r)}}}function CS(e){let t,n,o,r,i;return n=new uS({}),n.$on("close",e[25]),{c(){t=Wh("div"),Xf(n.$$.fragment),Jh(t,"class","settingsContainer svelte-tz0fan"),sf(t,"isTop",!e[9]),sf(t,"isLeft",!e[10])},m(e,o){Hh(e,t,o),Jf(n,t,null),i=!0},p(e,n){(!i||512&n)&&sf(t,"isTop",!e[9]),(!i||1024&n)&&sf(t,"isLeft",!e[10])},i(e){i||(jf(n.$$.fragment,e),Mf((()=>{i&&(r&&r.end(1),o=Gf(t,N_,{y:-10,duration:600}),o.start())})),i=!0)},o(e){Wf(n.$$.fragment,e),o&&o.invalidate(),r=Vf(t,N_,{y:-10,duration:600}),i=!1},d(e){e&&Fh(t),Qf(n),e&&r&&r.end()}}}function kS(e){let t,n,o=e[13]&&e[13].isWhatsAppWebEnabled&&bS(e);return{c(){o&&o.c(),t=Yh()},m(e,r){o&&o.m(e,r),Hh(e,t,r),n=!0},p(e,[n]){e[13]&&e[13].isWhatsAppWebEnabled?o?(o.p(e,n),8192&n&&jf(o,1)):(o=bS(e),o.c(),jf(o,1),o.m(t.parentNode,t)):o&&(Hf(),Wf(o,1,1,(()=>{o=null})),Ff())},i(e){n||(jf(o),n=!0)},o(e){Wf(o),n=!1},d(e){e&&Fh(t),o&&o.d(e)}}}function LS(e,n,o){let r;Eh(e,r_,(e=>o(13,r=e))),wf("deepl_settings",r_),wf("deepl_website_settings",wb),wf("text_direction",eo());let{textElement:i}=n,{messageContainer:s}=n,a=!1;const l=265,c=150,d=220;let u,p,m,g,h=!1,f=!0,_=0,v=0,y=!1,w=!1,b=!1,E=z.deepl_inline_ui.z_index,x=!0,S=!0,T=0;function $(){const e=u.parentNode.getBoundingClientRect(),t=Ux(s);o(6,v=s.getBoundingClientRect().height/2),o(19,_=t.getBoundingClientRect().right-e.left);setTimeout((()=>{const t=s.querySelector('[data-icon="react"]');t&&(o(19,_=t.getBoundingClientRect().right-e.left),o(20,m=!0)),o(11,T=1),a&&o(19,_=_+-42)}),c);const n=s.querySelector('[data-a8n="reaction-bubble"]'),r=s.querySelector('[data-testid="reaction-bubble"]');o(8,b=!(!n&&!r)),window.innerHeight-e.bottom<d+v?o(9,x=!1):o(9,x=!0),s.getBoundingClientRect().right-t.getBoundingClientRect().right<l?o(10,S=!1):o(10,S=!0)}s.addEventListener("mouseover",(()=>{o(1,f=!1)}),!1),s.addEventListener("mouseout",(()=>{y||o(1,f=!0)}),!1);return e.$$set=e=>{"textElement"in e&&o(18,i=e.textElement),"messageContainer"in e&&o(17,s=e.messageContainer)},e.$$.update=()=>{1310722&e.$$.dirty&&(o(0,a=to(i.parentNode)),f||m||$()),524293&e.$$.dirty&&(console.log("isParentRTL",a),console.log("shdfL",w),o(12,g=a&&w?_-20:_))},[a,f,w,u,p,h,v,y,b,x,S,T,g,r,E,async function(){if(p)return;o(5,h=!0),o(7,y=!1);let e,n,r="";try{r=await Yn(i.innerText)}catch(e){console.log(e)}try{n=await t({action:"dlRequestWhatsAppMessageTranslation",payload:{message:i.innerText,messageLang:r,domainName:window.location.hostname}})}catch(t){e=t,console.error(e)}o(4,p=e?"":n[0].text),o(5,h=!1);const a=wS.createElement();a.createDOM(p,i.innerText,(()=>{o(17,s.dataset.dlIsTranslated="false",s),setTimeout((()=>o(4,p="")),600),a.cleanupDOM(),a.remove()}),e),i.appendChild(a),o(17,s.dataset.dlIsTranslated="true",s)},function(){o(7,y=!1)},s,i,_,m,function(t){Ef.call(this,e,t)},function(t){Ef.call(this,e,t)},()=>o(2,w=!0),()=>o(7,y=!y),()=>o(7,y=!1),function(e){Sf[e?"unshift":"push"]((()=>{u=e,o(3,u)}))},()=>{y||o(2,w=!1)}]}class MS extends t_{constructor(e){super(),e_(this,e,LS,kS,wh,{textElement:18,messageContainer:17})}}class IS{static HTML_TAG_NAME="deepl-whatsapp-message-in-translator";static createElement=(e=document)=>{const t=e.createElement(IS.HTML_TAG_NAME),n=new IS(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=(e,t)=>{this.domElement.mainComponent=new MS({target:this.domElement.shadowContainer,props:{textElement:e,messageContainer:t}})};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function AS(){const e=document.querySelector("deepl-whatsapp-messages-in-translator");if(e){const t=document.body.querySelector("[data-testid=conversation-panel-messages]"),n=document.querySelector("footer").getBoundingClientRect(),o=t.getBoundingClientRect();return e.style.left=o.right-58+"px",void(e.style.top=n.top-55+"px")}}function RS(){let e=new MutationObserver((()=>{!function(){const e=document.body.querySelectorAll(".message-in");for(let t of e)if("true"!==t.dataset.dlHasMessageTranslator&&"true"!==t.dataset.dlIsTranslated){t.dataset.dlHasMessageTranslator="true";const e=t.querySelector(".selectable-text.copyable-text");if(e&&e.innerText&&!Ox(e.innerText)){const n=IS.createElement();n.createDOM(e,t),n.style.position="absolute",n.style.top="0px",t.appendChild(n)}}}()}));e.observe(document.body,{attributes:!0,childList:!0,subtree:!0}),window.addEventListener("resize",AS),uv((()=>{window.removeEventListener("resize",AS),e.disconnect()}))}class OS{constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowContainer.addEventListener("mouseup",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowContainer.addEventListener("mousedown",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=()=>{throw new Error("createDOM must be defined in the child component")};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()};bindChildFunctions=(e=[])=>{["createDOM","cleanupDOM",...e].forEach((e=>{this.domElement[e]=this[e]}))}}function NS(e){return"rgb(0, 0, 0)"===e||"rgb(21, 32, 43)"===e}const DS=function(){let e={isDarkMode:NS(document.body.style.backgroundColor)};const{subscribe:t,update:n}=o_(e);let o=new MutationObserver((e=>{e.forEach((e=>{"attributes"===e.type&&"style"===e.attributeName&&n((e=>({...e,isDarkMode:NS(document.body.style.backgroundColor)})))}))}));return o.observe(document.body,{attributes:!0}),setTimeout((()=>{uv((()=>{o.disconnect()}))})),{subscribe:t}}();function PS(e){let t,n,o=function(e){let t,n,o,r,i,s,a,l,c,d,u,p,m,g,h,f;const _=[zS,BS],v=[];function y(e,t){return e[2]?0:1}return o=y(e),r=v[o]=_[o](e),{c(){t=Wh("div"),n=Wh("div"),r.c(),i=Vh(),s=Wh("div"),s.textContent=`${chrome.i18n.getMessage("twitter_web_alternatives_link")}`,l=Vh(),c=Wh("button"),d=qh("svg"),u=qh("path"),Jh(s,"class","show-alternatives svelte-t50unb"),sf(s,"dark",e[4]),Jh(n,"dir",a=eo(e[3].selectedTargetLanguage)),Jh(u,"d","M3 9L9 3M3 3L9 9"),Jh(u,"stroke",p=e[4]?"white":"#037171"),Jh(u,"stroke-width","1.5"),Jh(u,"stroke-linecap","round"),Jh(u,"stroke-linejoin","round"),Jh(d,"width","12"),Jh(d,"height","12"),Jh(d,"viewBox","0 0 12 12"),Jh(d,"fill","none"),Jh(d,"xmlns","http://www.w3.org/2000/svg"),Jh(c,"class","svelte-t50unb"),Jh(t,"class","container svelte-t50unb"),Jh(t,"dir",eo()),sf(t,"dark",e[4])},m(r,a){Hh(r,t,a),Bh(t,n),v[o].m(n,null),Bh(n,i),Bh(n,s),Bh(t,l),Bh(t,c),Bh(c,d),Bh(d,u),g=!0,h||(f=[Zh(s,"click",e[5]),Zh(c,"click",(function(){yh(e[1])&&e[1].apply(this,arguments)}))],h=!0)},p(l,c){let d=o;o=y(e=l),o===d?v[o].p(e,c):(Hf(),Wf(v[d],1,1,(()=>{v[d]=null})),Ff(),r=v[o],r?r.p(e,c):(r=v[o]=_[o](e),r.c()),jf(r,1),r.m(n,i)),(!g||16&c)&&sf(s,"dark",e[4]),(!g||8&c&&a!==(a=eo(e[3].selectedTargetLanguage)))&&Jh(n,"dir",a),(!g||16&c&&p!==(p=e[4]?"white":"#037171"))&&Jh(u,"stroke",p),(!g||16&c)&&sf(t,"dark",e[4])},i(e){g||(jf(r),m||Mf((()=>{m=Gf(t,N_,{y:-10,duration:200}),m.start()})),g=!0)},o(e){Wf(r),g=!1},d(e){e&&Fh(t),v[o].d(),h=!1,vh(f)}}}(e);return{c(){o&&o.c(),t=Yh()},m(e,r){o&&o.m(e,r),Hh(e,t,r),n=!0},p(e,t){o.p(e,t)},i(e){n||(jf(o),n=!0)},o(e){Wf(o),n=!1},d(e){e&&Fh(t),o&&o.d(e)}}}function BS(e){let t,n;return{c(){t=Wh("span"),n=Gh(e[0]),Jh(t,"class","translatedText svelte-t50unb")},m(e,o){Hh(e,t,o),Bh(t,n)},p(e,t){1&t&&Qh(n,e[0])},i:gh,o:gh,d(e){e&&Fh(t)}}}function zS(e){let t,n;return t=new kw({props:{error:e[2]}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.error=e[2]),t.$set(o)},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function US(e){let t,n,o=e[3]&&e[3].isTwitterEnabled&&PS(e);return{c(){o&&o.c(),t=Yh()},m(e,r){o&&o.m(e,r),Hh(e,t,r),n=!0},p(e,[n]){e[3]&&e[3].isTwitterEnabled?o?(o.p(e,n),8&n&&jf(o,1)):(o=PS(e),o.c(),jf(o,1),o.m(t.parentNode,t)):o&&(Hf(),Wf(o,1,1,(()=>{o=null})),Ff())},i(e){n||(jf(o),n=!0)},o(e){Wf(o),n=!1},d(e){e&&Fh(t),o&&o.d(e)}}}function HS(e,n,o){let r,i,s;Eh(e,r_,(e=>o(3,i=e))),Eh(e,DS,(e=>o(7,s=e))),wf("text_direction",eo());let a,l,{translatedText:c}=n,{sourceText:d}=n,{onClose:u}=n,{error:p}=n;return e.$$set=e=>{"translatedText"in e&&o(0,c=e.translatedText),"sourceText"in e&&o(6,d=e.sourceText),"onClose"in e&&o(1,u=e.onClose),"error"in e&&o(2,p=e.error)},e.$$.update=()=>{128&e.$$.dirty&&o(4,r=s&&s.isDarkMode),64&e.$$.dirty&&Yn(d).then((e=>{a=e})),8&e.$$.dirty&&(l=i.selectedTargetLanguage)},[c,u,p,i,r,function(){t({action:"dlExternalURLRedirect",payload:{destination:dy,sourceLang:a,targetLang:l,textToShare:d}})},d,s]}class FS extends t_{constructor(e){super(),e_(this,e,HS,US,wh,{translatedText:0,sourceText:6,onClose:1,error:2})}}class jS extends OS{static HTML_TAG_NAME="deepl-twitter-translated-tweet";constructor(e){super(e),this.bindChildFunctions()}static createElement=(e=document)=>{const t=e.createElement(jS.HTML_TAG_NAME);return new jS(t),t};createDOM=(e,t,n,o)=>{this.domElement.mainComponent=new FS({target:this.domElement.shadowContainer,props:{translatedText:e,onClose:n,sourceText:t,error:o}})}}function WS(e){let t,n,o,r;const i=[GS,qS],s=[];function a(e,t){return e[2]?0:e[3]?1:-1}return~(n=a(e))&&(o=s[n]=i[n](e)),{c(){t=Wh("div"),o&&o.c(),Jh(t,"dir",eo())},m(e,o){Hh(e,t,o),~n&&s[n].m(t,null),r=!0},p(e,r){let l=n;n=a(e),n===l?~n&&s[n].p(e,r):(o&&(Hf(),Wf(s[l],1,1,(()=>{s[l]=null})),Ff()),~n?(o=s[n],o?o.p(e,r):(o=s[n]=i[n](e),o.c()),jf(o,1),o.m(t,null)):o=null)},i(e){r||(jf(o),r=!0)},o(e){Wf(o),r=!1},d(e){e&&Fh(t),~n&&s[n].d()}}}function qS(e){let t,n,o,r,i,s,a,l,c,d,u,p,m,g;return{c(){t=Wh("button"),n=Wh("div"),n.textContent=`${chrome.i18n.getMessage("twitter_web_translate_tweet_link")}`,o=Vh(),r=qh("svg"),i=qh("g"),s=qh("path"),a=qh("path"),l=qh("path"),c=qh("defs"),d=qh("clipPath"),u=qh("rect"),Jh(n,"class","copy svelte-qovtib"),Jh(s,"d","M1.85295 4.86015V12.4035C1.85295 12.7953 2.05334 13.1545 2.38029 13.3504L8.70832 17.1167C8.72427 17.1262 8.7404 17.1353 8.75668 17.1439L11.8727 19L11.8621 17.3672L11.8685 16.4605L11.8717 16.4747V16.1699C11.8717 15.9893 11.9613 15.8272 12.0993 15.7262L12.3015 15.6059L12.3991 15.5494L12.394 15.5508L16.091 13.3504C16.418 13.1545 16.6184 12.7953 16.6184 12.4035V4.86015C16.6184 4.46829 16.418 4.10909 16.091 3.91316L9.76299 0.146947C9.43604 -0.0489825 9.03527 -0.0489825 8.70832 0.146947L2.38029 3.92404C2.05334 4.11997 1.85295 4.47918 1.85295 4.86015Z"),Jh(s,"class","deepl-icon svelte-qovtib"),Jh(a,"d","M6.68257 5.19787C7.10444 4.77336 7.77943 4.77336 8.2013 5.19787C8.50446 5.49621 8.60497 5.92588 8.50281 6.3113L11.4143 8.05411C11.4193 8.04902 11.4243 8.04396 11.4294 8.03894C11.8513 7.61442 12.5263 7.61442 12.9481 8.03894C13.4017 8.48522 13.4017 9.2254 12.9481 9.67168C12.5263 10.0962 11.8513 10.0962 11.4294 9.67168C11.111 9.35838 11.0162 8.90024 11.1448 8.50062L11.1341 8.50683L8.24372 6.78659C8.23005 6.80156 8.21591 6.81624 8.2013 6.83062C7.77943 7.25514 7.10444 7.25514 6.68257 6.83062C6.22906 6.38434 6.22906 5.64416 6.68257 5.19787Z"),Jh(a,"fill","white"),Jh(l,"d","M8.50819 11.5811L11.3455 9.88917L10.8182 9.58439L8.2574 11.1016C8.23971 11.0816 8.2212 11.062 8.20187 11.043C7.78 10.6185 7.10501 10.6185 6.68314 11.043C6.22963 11.4893 6.22963 12.2295 6.68314 12.6757C7.10501 13.1003 7.78 13.1003 8.20187 12.6757C8.50012 12.3822 8.60222 11.9616 8.50819 11.5811Z"),Jh(l,"fill","white"),Jh(i,"clip-path","url(#clip0)"),Jh(u,"width","18.5294"),Jh(u,"height","19"),Jh(u,"fill","white"),Jh(u,"transform","matrix(-1 0 0 1 18.5294 0)"),Jh(d,"id","clip0"),Jh(r,"width","15"),Jh(r,"height","15"),Jh(r,"viewBox","0 0 19 19"),Jh(r,"fill","none"),Jh(r,"xmlns","http://www.w3.org/2000/svg"),Jh(r,"class","svelte-qovtib"),Jh(t,"class","tweetLink svelte-qovtib"),t.disabled=p=!!e[1],sf(t,"dark",e[4])},m(p,h){Hh(p,t,h),Bh(t,n),Bh(t,o),Bh(t,r),Bh(r,i),Bh(i,s),Bh(i,a),Bh(i,l),Bh(r,c),Bh(c,d),Bh(d,u),m||(g=[Zh(t,"keydown",e[5]),Zh(t,"click",e[5])],m=!0)},p(e,n){2&n&&p!==(p=!!e[1])&&(t.disabled=p),16&n&&sf(t,"dark",e[4])},i:gh,o:gh,d(e){e&&Fh(t),m=!1,vh(g)}}}function GS(e){let t,n;return t=new tS({props:{small:!0}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p:gh,i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function VS(e){let t,n,o=e[0]&&e[0].isTwitterEnabled&&WS(e);return{c(){o&&o.c(),t=Yh()},m(e,r){o&&o.m(e,r),Hh(e,t,r),n=!0},p(e,[n]){e[0]&&e[0].isTwitterEnabled?o?(o.p(e,n),1&n&&jf(o,1)):(o=WS(e),o.c(),jf(o,1),o.m(t.parentNode,t)):o&&(Hf(),Wf(o,1,1,(()=>{o=null})),Ff())},i(e){n||(jf(o),n=!0)},o(e){Wf(o),n=!1},d(e){e&&Fh(t),o&&o.d(e)}}}function YS(e,n,o){let r,i,s;Eh(e,r_,(e=>o(0,i=e))),Eh(e,DS,(e=>o(7,s=e))),wf("deepl_settings",r_),wf("deepl_website_settings",wb),wf("text_direction",eo());let a,l,{tweetTextNode:c}=n,d=!1;return e.$$set=e=>{"tweetTextNode"in e&&o(6,c=e.tweetTextNode)},e.$$.update=()=>{if(128&e.$$.dirty&&o(4,r=s&&s.isDarkMode),1&e.$$.dirty){i.blacklistDomainsForReading.includes(window.location.hostname)?o(3,l=!1):i.selectedTargetLanguage&&async function(){const e=c.innerText;if(e.length<20)return!1;const t=await Yn(e);return Vn(chrome.i18n.getUILanguage())!==t&&Vn(i.selectedTargetLanguage)!==t}().then((e=>o(3,l=e))).catch((()=>o(3,l=!1)))}},[i,a,d,l,r,async function(){if(a)return;o(2,d=!0);let e,n,r="";try{r=await Yn(c.innerText),r=Kn(r)}catch(e){console.log(e)}try{n=await t({action:"dlRequestTwitterTweetTranslation",payload:{message:c.innerText,messageLang:r,domainName:window.location.hostname}})}catch(t){e=t,console.error(e)}o(1,a=e?"":$n(n)),o(2,d=!1);const i=jS.createElement();i.createDOM(a,c.innerText,(()=>{o(1,a=""),i.cleanupDOM()}),e),c.appendChild(i)},c,s]}class ZS extends t_{constructor(e){super(),e_(this,e,YS,VS,wh,{tweetTextNode:6})}}class KS extends OS{static HTML_TAG_NAME="deepl-twitter-tweet-link";static createElement=(e=document)=>{const t=e.createElement(KS.HTML_TAG_NAME);return new KS(t),t};constructor(e){super(e),this.bindChildFunctions()}createDOM=e=>{this.domElement.mainComponent=new ZS({target:this.domElement.shadowContainer,props:{tweetTextNode:e}})}}function XS(){console.log("customizing for twitter");let e=new MutationObserver((()=>{!function(){const e=document.body.querySelectorAll("[data-testid='tweetText']");for(let t of e)if("true"!==t.dataset.dlHasMessageTranslator&&(t.dataset.dlHasMessageTranslator="true",t&&t.innerText)){const e=KS.createElement();return e.createDOM(t),void t.appendChild(e)}}()}));e.observe(document.body,{attributes:!0,childList:!0,subtree:!0}),uv((()=>e.disconnect()))}function JS(e){let t,n;return{c(){t=Wh("span"),n=Gh(e[0]),Jh(t,"class","translatedText svelte-jkt5fr")},m(e,o){Hh(e,t,o),Bh(t,n)},p(e,t){1&t&&Qh(n,e[0])},i:gh,o:gh,d(e){e&&Fh(t)}}}function QS(e){let t,n;return t=new kw({props:{error:e[2]}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.error=e[2]),t.$set(o)},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function eT(e){let t,n,o=function(e){let t,n,o,r,i,s,a,l,c,d,u,p;const m=[QS,JS],g=[];function h(e,t){return e[2]?0:1}return o=h(e),r=g[o]=m[o](e),{c(){t=Wh("div"),n=Wh("div"),r.c(),i=Vh(),s=Wh("div"),s.textContent=`${chrome.i18n.getMessage("ui_inline_translation_see_alternatives_v2")}`,a=Vh(),l=Wh("button"),l.innerHTML='<svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3 9L9 3M3 3L9 9" stroke="#363F4A" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',Jh(s,"class","show-alternatives svelte-jkt5fr"),Jh(l,"class","svelte-jkt5fr"),Jh(t,"class","container svelte-jkt5fr"),Jh(t,"dir",eo())},m(r,c){Hh(r,t,c),Bh(t,n),g[o].m(n,null),Bh(n,i),Bh(n,s),Bh(t,a),Bh(t,l),d=!0,u||(p=[Zh(s,"click",e[3]),Zh(l,"click",(function(){yh(e[1])&&e[1].apply(this,arguments)}))],u=!0)},p(t,s){let a=o;o=h(e=t),o===a?g[o].p(e,s):(Hf(),Wf(g[a],1,1,(()=>{g[a]=null})),Ff(),r=g[o],r?r.p(e,s):(r=g[o]=m[o](e),r.c()),jf(r,1),r.m(n,i))},i(e){d||(jf(r),c||Mf((()=>{c=Gf(t,N_,{y:-10,duration:200}),c.start()})),d=!0)},o(e){Wf(r),d=!1},d(e){e&&Fh(t),g[o].d(),u=!1,vh(p)}}}(e);return{c(){o&&o.c(),t=Yh()},m(e,r){o&&o.m(e,r),Hh(e,t,r),n=!0},p(e,[t]){o.p(e,t)},i(e){n||(jf(o),n=!0)},o(e){Wf(o),n=!1},d(e){e&&Fh(t),o&&o.d(e)}}}function tT(e,n,o){let r;Eh(e,r_,(e=>o(5,r=e))),wf("text_direction",eo());let i,s,{translatedText:a}=n,{sourceText:l}=n,{onClose:c}=n,{error:d}=n;return e.$$set=e=>{"translatedText"in e&&o(0,a=e.translatedText),"sourceText"in e&&o(4,l=e.sourceText),"onClose"in e&&o(1,c=e.onClose),"error"in e&&o(2,d=e.error)},e.$$.update=()=>{16&e.$$.dirty&&Yn(l).then((e=>{i=e})),32&e.$$.dirty&&(s=r.selectedTargetLanguage)},[a,c,d,function(){t({action:"dlExternalURLRedirect",payload:{destination:dy,sourceLang:i,targetLang:s,textToShare:l}});try{t({action:"dlTrackUiAction",payload:{uiAction:ze,nicheIntegration:ut.linkedIn}})}catch(e){console.error(e)}},l,r]}class nT extends t_{constructor(e){super(),e_(this,e,tT,eT,wh,{translatedText:0,sourceText:4,onClose:1,error:2})}}class oT{static HTML_TAG_NAME="deepl-linkedin-translated-post";static createElement=(e=document)=>{const t=e.createElement(oT.HTML_TAG_NAME),n=new oT(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent=null;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=(e,t,n,o)=>{this.domElement.mainComponent=new nT({target:this.domElement.shadowContainer,props:{translatedText:e,onClose:n,sourceText:t,error:o}})};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function rT(e){let t,n,o={ctx:e,current:null,token:null,hasCatch:!1,pending:cT,then:sT,catch:iT,value:11,blocks:[,,,]};return function(e,t){const n=t.token={};function o(e,o,r,i){if(t.token!==n)return;t.resolved=i;let s=t.ctx;void 0!==r&&(s=s.slice(),s[r]=i);const a=e&&(t.current=e)(s);let l=!1;t.block&&(t.blocks?t.blocks.forEach(((e,n)=>{n!==o&&e&&(Hf(),Wf(e,1,1,(()=>{t.blocks[n]===e&&(t.blocks[n]=null)})),Ff())})):t.block.d(1),a.c(),jf(a,1),a.m(t.mount(),t.anchor),l=!0),t.block=a,t.blocks&&(t.blocks[o]=a),l&&Nf()}if(!(r=e)||"object"!=typeof r&&"function"!=typeof r||"function"!=typeof r.then){if(t.current!==t.then)return o(t.then,1,t.value,e),!0;t.resolved=e}else{const n=ff();if(e.then((e=>{hf(n),o(t.then,1,t.value,e),hf(null)}),(e=>{if(hf(n),o(t.catch,2,t.error,e),hf(null),!t.hasCatch)throw e})),t.current!==t.pending)return o(t.pending,0),!0}var r}(e[3](),o),{c(){t=Yh(),o.block.c()},m(e,r){Hh(e,t,r),o.block.m(e,o.anchor=r),o.mount=()=>t.parentNode,o.anchor=t,n=!0},p(t,n){!function(e,t,n){const o=t.slice(),{resolved:r}=e;e.current===e.then&&(o[e.value]=r),e.current===e.catch&&(o[e.error]=r),e.block.p(o,n)}(o,e=t,n)},i(e){n||(jf(o.block),n=!0)},o(e){for(let e=0;e<3;e+=1){Wf(o.blocks[e])}n=!1},d(e){e&&Fh(t),o.block.d(e),o.token=null,o=null}}}function iT(e){return{c:gh,m:gh,p:gh,i:gh,o:gh,d:gh}}function sT(e){let t,n,o=e[11]&&function(e){let t,n,o,r;const i=[lT,aT],s=[];function a(e,t){return e[0]?0:1}return n=a(e),o=s[n]=i[n](e),{c(){t=Wh("div"),o.c(),Jh(t,"class","linkedin-link-container svelte-2f58mn"),Jh(t,"dir",eo())},m(e,o){Hh(e,t,o),s[n].m(t,null),r=!0},p(e,r){let l=n;n=a(e),n===l?s[n].p(e,r):(Hf(),Wf(s[l],1,1,(()=>{s[l]=null})),Ff(),o=s[n],o?o.p(e,r):(o=s[n]=i[n](e),o.c()),jf(o,1),o.m(t,null))},i(e){r||(jf(o),r=!0)},o(e){Wf(o),r=!1},d(e){e&&Fh(t),s[n].d()}}}(e);return{c(){o&&o.c(),t=Yh()},m(e,r){o&&o.m(e,r),Hh(e,t,r),n=!0},p(e,t){e[11]&&o.p(e,t)},i(e){n||(jf(o),n=!0)},o(e){Wf(o),n=!1},d(e){e&&Fh(t),o&&o.d(e)}}}function aT(e){let t,n,o,r;return{c(){t=Wh("button"),n=Wh("div"),n.textContent=`${chrome.i18n.getMessage("linkedin_web_translate_post_link")}`,Jh(n,"class","copy svelte-2f58mn"),sf(n,"active",e[1]),Jh(t,"class","linkedin-link svelte-2f58mn")},m(i,s){Hh(i,t,s),Bh(t,n),o||(r=[Zh(t,"keydown",e[4]),Zh(t,"click",e[4])],o=!0)},p(e,t){2&t&&sf(n,"active",e[1])},i:gh,o:gh,d(e){e&&Fh(t),o=!1,vh(r)}}}function lT(e){let t,n,o;return n=new tS({props:{small:!0}}),{c(){t=Wh("div"),Xf(n.$$.fragment),Jh(t,"class","spinner svelte-2f58mn")},m(e,r){Hh(e,t,r),Jf(n,t,null),o=!0},p:gh,i(e){o||(jf(n.$$.fragment,e),o=!0)},o(e){Wf(n.$$.fragment,e),o=!1},d(e){e&&Fh(t),Qf(n)}}}function cT(e){return{c:gh,m:gh,p:gh,i:gh,o:gh,d:gh}}function dT(e){let t,n,o=e[2]&&e[2][ut.linkedIn]&&rT(e);return{c(){o&&o.c(),t=Yh()},m(e,r){o&&o.m(e,r),Hh(e,t,r),n=!0},p(e,[n]){e[2]&&e[2][ut.linkedIn]?o?(o.p(e,n),4&n&&jf(o,1)):(o=rT(e),o.c(),jf(o,1),o.m(t.parentNode,t)):o&&(Hf(),Wf(o,1,1,(()=>{o=null})),Ff())},i(e){n||(jf(o),n=!0)},o(e){Wf(o),n=!1},d(e){e&&Fh(t),o&&o.d(e)}}}function uT(e,n,o){let r,i,s;Eh(e,r_,(e=>o(6,s=e))),wf("deepl_settings",r_),wf("deepl_website_settings",wb),wf("text_direction",eo());let a,{linkedInPostNode:l}=n,c=!1,d=l.querySelector(".update-components-text").innerText;return e.$$set=e=>{"linkedInPostNode"in e&&o(5,l=e.linkedInPostNode)},e.$$.update=()=>{64&e.$$.dirty&&o(2,i=s.customizationsActiveStates)},o(1,r=!0),[c,r,i,async function(){if(d.length<20)return!1;const e=await Yn(d);return t=e,Vn(chrome.i18n.getUILanguage())!==t&&(e=>Vn(s.selectedTargetLanguage)!==e)(e);var t},async function(){if(a)return;o(0,c=!0);let e,n,i="";try{i=await Yn(d),i=Kn(i)}catch(e){console.log(e)}try{n=await t({action:"dlRequestLinkedInPostTranslation",payload:{message:d,messageLang:i,domainName:window.location.hostname,trigger:_}})}catch(t){e=t,console.error(e)}a=e?"":n[0].text,o(0,c=!1);const s=oT.createElement();s.createDOM(a,d,(()=>{a="",o(1,r=!0),s.cleanupDOM(),s.remove()}),e),l.appendChild(s),o(1,r=!1)},l,s]}class pT extends t_{constructor(e){super(),e_(this,e,uT,dT,wh,{linkedInPostNode:5})}}class mT{static HTML_TAG_NAME="deepl-linkedin-post-link";static createElement=(e=document)=>{const t=e.createElement(mT.HTML_TAG_NAME),n=new mT(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent=null;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=e=>{this.domElement.mainComponent=new pT({target:this.domElement.shadowContainer,props:{linkedInPostNode:e}})};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}const gT=e=>{const t=mT.createElement();t.createDOM(e),e.appendChild(t)};function hT(){const e=document.body.querySelectorAll(".feed-shared-update-v2__description-wrapper");for(let t of e)if("true"!==t.dataset.dlHasMessageTranslator&&(t.dataset.dlHasMessageTranslator="true",t&&t.innerText))return void gT(t)}function fT(){return!!document.documentElement.hasAttribute("dark")}const _T=function(){let e={isDarkMode:fT()};const{subscribe:t,update:n}=o_(e);let o=new MutationObserver((e=>{e.forEach((e=>{"attributes"===e.type&&"style"===e.attributeName&&n((e=>({...e,isDarkMode:fT(document.body.style.backgroundColor)})))}))}));return o.observe(document,{attributes:!0}),setTimeout((()=>{uv((()=>{o.disconnect()}))})),{subscribe:t}}();function vT(e){let t,n,o=function(e){let t,n,o,r,i,s,a,l,c,d,u,p,m,g,h,f;const _=[wT,yT],v=[];function y(e,t){return e[2]?0:1}return o=y(e),r=v[o]=_[o](e),{c(){t=Wh("div"),n=Wh("div"),r.c(),i=Vh(),s=Wh("div"),s.textContent=`${chrome.i18n.getMessage("youtube_alternatives_link")}`,l=Vh(),c=Wh("button"),d=qh("svg"),u=qh("path"),Jh(s,"class","show-alternatives svelte-t50unb"),sf(s,"dark",e[4]),Jh(n,"dir",a=eo(e[3].selectedTargetLanguage)),Jh(u,"d","M3 9L9 3M3 3L9 9"),Jh(u,"stroke",p=e[4]?"white":"#037171"),Jh(u,"stroke-width","1.5"),Jh(u,"stroke-linecap","round"),Jh(u,"stroke-linejoin","round"),Jh(d,"width","12"),Jh(d,"height","12"),Jh(d,"viewBox","0 0 12 12"),Jh(d,"fill","none"),Jh(d,"xmlns","http://www.w3.org/2000/svg"),Jh(c,"class","svelte-t50unb"),Jh(t,"class","container svelte-t50unb"),Jh(t,"dir",eo()),sf(t,"dark",e[4])},m(r,a){Hh(r,t,a),Bh(t,n),v[o].m(n,null),Bh(n,i),Bh(n,s),Bh(t,l),Bh(t,c),Bh(c,d),Bh(d,u),g=!0,h||(f=[Zh(s,"click",e[5]),Zh(c,"click",(function(){yh(e[1])&&e[1].apply(this,arguments)}))],h=!0)},p(l,c){let d=o;o=y(e=l),o===d?v[o].p(e,c):(Hf(),Wf(v[d],1,1,(()=>{v[d]=null})),Ff(),r=v[o],r?r.p(e,c):(r=v[o]=_[o](e),r.c()),jf(r,1),r.m(n,i)),(!g||16&c)&&sf(s,"dark",e[4]),(!g||8&c&&a!==(a=eo(e[3].selectedTargetLanguage)))&&Jh(n,"dir",a),(!g||16&c&&p!==(p=e[4]?"white":"#037171"))&&Jh(u,"stroke",p),(!g||16&c)&&sf(t,"dark",e[4])},i(e){g||(jf(r),m||Mf((()=>{m=Gf(t,N_,{y:-10,duration:200}),m.start()})),g=!0)},o(e){Wf(r),g=!1},d(e){e&&Fh(t),v[o].d(),h=!1,vh(f)}}}(e);return{c(){o&&o.c(),t=Yh()},m(e,r){o&&o.m(e,r),Hh(e,t,r),n=!0},p(e,t){o.p(e,t)},i(e){n||(jf(o),n=!0)},o(e){Wf(o),n=!1},d(e){e&&Fh(t),o&&o.d(e)}}}function yT(e){let t,n;return{c(){t=Wh("span"),n=Gh(e[0]),Jh(t,"class","translatedText svelte-t50unb")},m(e,o){Hh(e,t,o),Bh(t,n)},p(e,t){1&t&&Qh(n,e[0])},i:gh,o:gh,d(e){e&&Fh(t)}}}function wT(e){let t,n;return t=new kw({props:{error:e[2]}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.error=e[2]),t.$set(o)},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function bT(e){let t,n,o=e[3]&&e[3].isYoutubeEnabled&&vT(e);return{c(){o&&o.c(),t=Yh()},m(e,r){o&&o.m(e,r),Hh(e,t,r),n=!0},p(e,[n]){e[3]&&e[3].isYoutubeEnabled?o?(o.p(e,n),8&n&&jf(o,1)):(o=vT(e),o.c(),jf(o,1),o.m(t.parentNode,t)):o&&(Hf(),Wf(o,1,1,(()=>{o=null})),Ff())},i(e){n||(jf(o),n=!0)},o(e){Wf(o),n=!1},d(e){e&&Fh(t),o&&o.d(e)}}}function ET(e,n,o){let r,i,s;Eh(e,r_,(e=>o(3,i=e))),Eh(e,_T,(e=>o(7,s=e)));let a,l,{translatedText:c}=n,{sourceText:d}=n,{onClose:u}=n,{error:p}=n;return e.$$set=e=>{"translatedText"in e&&o(0,c=e.translatedText),"sourceText"in e&&o(6,d=e.sourceText),"onClose"in e&&o(1,u=e.onClose),"error"in e&&o(2,p=e.error)},e.$$.update=()=>{128&e.$$.dirty&&o(4,r=s&&s.isDarkMode),64&e.$$.dirty&&Yn(d).then((e=>{a=e})),8&e.$$.dirty&&(l=i.selectedTargetLanguage)},[c,u,p,i,r,function(){t({action:"dlExternalURLRedirect",payload:{destination:dy,sourceLang:a,targetLang:l,textToShare:d}})},d,s]}class xT extends t_{constructor(e){super(),e_(this,e,ET,bT,wh,{translatedText:0,sourceText:6,onClose:1,error:2})}}class ST extends OS{static HTML_TAG_NAME="deepl-youtube-translated-translated";constructor(e){super(e),this.bindChildFunctions()}static createElement=(e=document)=>{const t=e.createElement(ST.HTML_TAG_NAME);return new ST(t),t};createDOM=(e,t,n,o)=>{this.domElement.mainComponent=new xT({target:this.domElement.shadowContainer,props:{translatedText:e,onClose:n,sourceText:t,error:o}})}}function TT(e){let t,n,o,r;const i=[CT,$T],s=[];function a(e,t){return e[2]?0:e[3]?1:-1}return~(n=a(e))&&(o=s[n]=i[n](e)),{c(){t=Wh("div"),o&&o.c(),Jh(t,"dir",eo())},m(e,o){Hh(e,t,o),~n&&s[n].m(t,null),r=!0},p(e,r){let l=n;n=a(e),n===l?~n&&s[n].p(e,r):(o&&(Hf(),Wf(s[l],1,1,(()=>{s[l]=null})),Ff()),~n?(o=s[n],o?o.p(e,r):(o=s[n]=i[n](e),o.c()),jf(o,1),o.m(t,null)):o=null)},i(e){r||(jf(o),r=!0)},o(e){Wf(o),r=!1},d(e){e&&Fh(t),~n&&s[n].d()}}}function $T(e){let t,n,o,r,i,s,a,l,c,d,u,p,m,g;return{c(){t=Wh("button"),n=Wh("div"),n.textContent=`${chrome.i18n.getMessage("youtube_translate_comment_link")}`,o=Vh(),r=qh("svg"),i=qh("g"),s=qh("path"),a=qh("path"),l=qh("path"),c=qh("defs"),d=qh("clipPath"),u=qh("rect"),Jh(n,"class","copy svelte-mtyjwe"),Jh(s,"d","M1.85295 4.86015V12.4035C1.85295 12.7953 2.05334 13.1545 2.38029 13.3504L8.70832 17.1167C8.72427 17.1262 8.7404 17.1353 8.75668 17.1439L11.8727 19L11.8621 17.3672L11.8685 16.4605L11.8717 16.4747V16.1699C11.8717 15.9893 11.9613 15.8272 12.0993 15.7262L12.3015 15.6059L12.3991 15.5494L12.394 15.5508L16.091 13.3504C16.418 13.1545 16.6184 12.7953 16.6184 12.4035V4.86015C16.6184 4.46829 16.418 4.10909 16.091 3.91316L9.76299 0.146947C9.43604 -0.0489825 9.03527 -0.0489825 8.70832 0.146947L2.38029 3.92404C2.05334 4.11997 1.85295 4.47918 1.85295 4.86015Z"),Jh(s,"class","deepl-icon svelte-mtyjwe"),Jh(a,"d","M6.68257 5.19787C7.10444 4.77336 7.77943 4.77336 8.2013 5.19787C8.50446 5.49621 8.60497 5.92588 8.50281 6.3113L11.4143 8.05411C11.4193 8.04902 11.4243 8.04396 11.4294 8.03894C11.8513 7.61442 12.5263 7.61442 12.9481 8.03894C13.4017 8.48522 13.4017 9.2254 12.9481 9.67168C12.5263 10.0962 11.8513 10.0962 11.4294 9.67168C11.111 9.35838 11.0162 8.90024 11.1448 8.50062L11.1341 8.50683L8.24372 6.78659C8.23005 6.80156 8.21591 6.81624 8.2013 6.83062C7.77943 7.25514 7.10444 7.25514 6.68257 6.83062C6.22906 6.38434 6.22906 5.64416 6.68257 5.19787Z"),Jh(a,"fill","white"),Jh(l,"d","M8.50819 11.5811L11.3455 9.88917L10.8182 9.58439L8.2574 11.1016C8.23971 11.0816 8.2212 11.062 8.20187 11.043C7.78 10.6185 7.10501 10.6185 6.68314 11.043C6.22963 11.4893 6.22963 12.2295 6.68314 12.6757C7.10501 13.1003 7.78 13.1003 8.20187 12.6757C8.50012 12.3822 8.60222 11.9616 8.50819 11.5811Z"),Jh(l,"fill","white"),Jh(i,"clip-path","url(#clip0)"),Jh(u,"width","18.5294"),Jh(u,"height","19"),Jh(u,"fill","white"),Jh(u,"transform","matrix(-1 0 0 1 18.5294 0)"),Jh(d,"id","clip0"),Jh(r,"width","15"),Jh(r,"height","15"),Jh(r,"viewBox","0 0 19 19"),Jh(r,"fill","none"),Jh(r,"xmlns","http://www.w3.org/2000/svg"),Jh(r,"class","svelte-mtyjwe"),Jh(t,"class","commentLink svelte-mtyjwe"),t.disabled=p=!!e[1],sf(t,"dark",e[4])},m(p,h){Hh(p,t,h),Bh(t,n),Bh(t,o),Bh(t,r),Bh(r,i),Bh(i,s),Bh(i,a),Bh(i,l),Bh(r,c),Bh(c,d),Bh(d,u),m||(g=[Zh(t,"keydown",e[5]),Zh(t,"click",e[5])],m=!0)},p(e,n){2&n&&p!==(p=!!e[1])&&(t.disabled=p),16&n&&sf(t,"dark",e[4])},i:gh,o:gh,d(e){e&&Fh(t),m=!1,vh(g)}}}function CT(e){let t,n;return t=new tS({props:{small:!0}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p:gh,i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function kT(e){let t,n,o=e[0]&&e[0].isYoutubeEnabled&&TT(e);return{c(){o&&o.c(),t=Yh()},m(e,r){o&&o.m(e,r),Hh(e,t,r),n=!0},p(e,[n]){e[0]&&e[0].isYoutubeEnabled?o?(o.p(e,n),1&n&&jf(o,1)):(o=TT(e),o.c(),jf(o,1),o.m(t.parentNode,t)):o&&(Hf(),Wf(o,1,1,(()=>{o=null})),Ff())},i(e){n||(jf(o),n=!0)},o(e){Wf(o),n=!1},d(e){e&&Fh(t),o&&o.d(e)}}}function LT(e,n,o){let r,i,s;Eh(e,r_,(e=>o(0,i=e))),Eh(e,_T,(e=>o(7,s=e)));let a,l,{commentNode:c}=n,d=!1;return e.$$set=e=>{"commentNode"in e&&o(6,c=e.commentNode)},e.$$.update=()=>{if(128&e.$$.dirty&&o(4,r=s&&s.isDarkMode),1&e.$$.dirty){i.blacklistDomainsForReading.includes(window.location.hostname)?o(3,l=!1):i.selectedTargetLanguage&&async function(){const e=c.innerText;if(e.length<10)return!1;const t=await Yn(e);return Vn(chrome.i18n.getUILanguage())!==t&&Vn(i.selectedTargetLanguage)!==t}().then((e=>o(3,l=e))).catch((()=>o(3,l=!1)))}},[i,a,d,l,r,async function(){if(a)return;o(2,d=!0);let e,n,r="";try{r=await Yn(c.innerText),r=Kn(r)}catch(e){console.log(e)}try{n=await t({action:"dlRequestYouTubeTranslation",payload:{message:c.innerText,messageLang:r,domainName:window.location.hostname}})}catch(t){e=t,console.error(e)}o(1,a=e?"":n[0].text),o(2,d=!1);const i=ST.createElement();i.createDOM(a,c.innerText,(()=>{o(1,a=""),i.cleanupDOM()}),e),c.appendChild(i)},c,s]}class MT extends t_{constructor(e){super(),e_(this,e,LT,kT,wh,{commentNode:6})}}class IT extends OS{static HTML_TAG_NAME="deepl-youtube-comment-link";static createElement=(e=document)=>{const t=e.createElement(IT.HTML_TAG_NAME);return new IT(t),t};constructor(e){super(e),this.bindChildFunctions()}createDOM=e=>{this.domElement.mainComponent=new MT({target:this.domElement.shadowContainer,props:{commentNode:e}})}}function AT(){let e=new MutationObserver((()=>{!function(){let e=document.body.querySelector("ytd-comments");if(e||(e=document.body.querySelector("#comments")),!e)return;const t=e.querySelectorAll("#content-text");for(let e of t)if("true"!==e.dataset.dlHasMessageTranslator&&(e.dataset.dlHasMessageTranslator="true",e&&e.innerText)){const t=IT.createElement();return t.createDOM(e),void e.appendChild(t)}}()}));e.observe(document.body,{attributes:!0,childList:!0,subtree:!0}),uv((()=>e.disconnect()))}function RT(e){try{return JSON.parse(atob(e.split(".")[1]))}catch(e){return null}}function OT(e){switch(e){case J:return 1;case Z:return 2;case X:return 3;case te:return 4;case ne:return 5;case oe:return 6;case re:return 7;case se:return 8;case ee:return 9;case K:return 10;case ae:return 11;case le:return 12;case ce:return 13;case de:return 14;case ue:return 15;case pe:return 16;case me:return 17;case ge:return 18;case he:return 19;case fe:return 20;case _e:return 21;case ve:return 22;case xe:return 23;case Se:return 24;case ye:return 25;case we:return 26;case be:return 27;case Ee:return 28;case Te:return 29;case $e:return 30;case Ce:return 31;case ie:return 32;case ke:return 33;case Le:return 34;case Me:return 35;case Ie:return 36;case Q:return 37;case Ae:return 38;case Re:return 39;case Oe:return 40;case Ne:return 41;case De:return 42;default:return 0}}function NT(e){switch(e){case et:return Ke;case tt:return Xe;case ot:return Qe;case nt:return Je;default:return Ze}}function DT(e){switch(e){case Ct:return 1;case kt:return 2;case Lt:return 3;default:return 0}}function PT(e){switch(e){case Wt:return 1;case qt:return 2;case Gt:return 3;default:return 0}}function BT(e){switch(e){case sn:return 1;case an:return 2;case ln:return 3;default:return 0}}const zT=["accountData","domainName"],UT=[60067,60068,60069],HT=(e,t)=>e&&"object"==typeof e?Array.isArray(e)?e.map((e=>HT(e,t))):Object.keys(e).reduce(((n,o)=>(t.includes(o)||(n[o]=HT(e[o],t)),n)),{}):e;async function FT(e){let t,n,o,r,i,s,a,l,c,d,u,p=!1;try{const e=await YT(["session","installationId","firefoxAnonPermissionGranted","firefoxPersonalPermissionGranted"]);n=e.session.id,t=e.installationId,d=e.firefoxAnonPermissionGranted,u=e.firefoxPersonalPermissionGranted}catch(e){console.error(`DAP: Failed to fetch settings. Error: ${e.message}`)}try{const e=await async function(){return await chrome.storage.local.get(["isLoggedIn","isProUser","sessionType","translatorServiceType","writeServiceType","apiServiceType","docTranslatorServiceType","accountId","hasTermbaseService"])}();p=!!e.accountId,o=DT(e.translatorServiceType),r=DT(e.apiServiceType),i=DT(e.docTranslatorServiceType),c=DT(e.writeServiceType),a=p?2===o||2===r||2===c||2===i?w:b:y,l=e.sessionType?BT(e.sessionType):BT(sn)}catch(e){console.error(`DAP: Failed to fetch user information. Error: ${e.message}`)}try{s=await async function(){return(await chrome.storage.local.get(["browserInstanceId"])).browserInstanceId}()}catch(e){console.error(e)}const m=bn(),g=await async function(){let e=[];try{e=await async function(){try{const e=await async function(e,t){WT||await new Promise(((e,t)=>{let n=indexedDB.open(qT,1);n.onerror=function(){t(n.error)},n.onsuccess=function(t){WT=t.target.result,e()},n.onupgradeneeded=function(t){WT=t.target.result,WT.objectStoreNames.contains(GT)||WT.createObjectStore(GT,{keyPath:"id"}),e()}}));return new Promise(((n,o)=>{let r=WT.transaction(t,"readonly").objectStore(t).get(e);r.onerror=function(e){o(e)},r.onsuccess=function(){r.result?n(r.result):n(null)}}))}(VT,GT);return e&&e.meta&&e.data?e.data:[]}catch(e){return[]}}()}catch(e){}if(!e||0===e.length)return[];const t=e.map((e=>({id:e.id,variant:e.variant,breakout:e.breakout})));return t}();let h;try{h=await ZT()}catch(e){console.error(e)}const f={eventId:void 0,extensionVersion:"1.28.0",sessionId:n,sessionType:l,installationId:t,browserInstanceId:s,originStore:NT(chrome.runtime.id),userInfos:{...h&&{accountData:{accountId:h}},userType:a,translatorServiceType:o,apiServiceType:r,docTranslatorServiceType:i,writeServiceType:c},userAgent:m.userAgent,platform:m.platform,browser:m.browser,browserVersion:m.browserVersion,browserLang:m.browserLang,clientExperiments:g};let _=e?e(f):f;if(En()){if(!((e=!1,t=!1)=>!(!e&&!t)&&!(!e&&t)&&(!(!e||t)||!(!e||!t)||void 0))(d,u))return;if(_=((e,t=!1,n=!1)=>e?n&&t?e:!n&&UT.includes(e?.eventId)?null:HT(e,zT):null)(_,d,u),!_)return}return fetch("https://s.deepl.com/chrome/statistics",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(_),credentials:"omit"}).then((e=>{e.ok||console.log(`DAP ${_.eventId} request failed: ${e}`)}))}async function jT(){if(!await async function(){const e=await chrome.storage.local.get(["isLoggedIn"]);return!(!e||!e.isLoggedIn)}())return;const e=await ZT();return FT((t=>({...t,eventId:60067,accountData:{accountUuid:e}})))}let WT;const qT="dlBrowserExtension",GT="dlCache",VT="dlexperiments";async function YT(e){if(e.includes("session")){const e=await chrome.storage.sync.get(["session"]);e&&!e.session&&await async function(){const e=vo();await chrome.storage.sync.set({session:{id:e,timestamp:Date.now()}});try{await jT()}catch(e){console.error(e)}}()}return new Promise(((t,n)=>{chrome.storage.sync.get(e,(o=>{o?t(o):n(`Can not get ${e}`)}))}))}async function ZT(){const e=await chrome.storage.local.get(["accountId","a_t","i_t"]);if(e&&e.accountId)return e.accountId;if(e&&e.a_t){const t=RT(e.a_t),n=RT(e.i_t);return t.sub||n.sub}}function KT(e){let t,n,o;return{c(){t=Wh("button"),t.textContent=`${chrome.i18n.getMessage("login_widget_login_link")}`,Jh(t,"class","user-action-button svelte-9xsres")},m(r,i){Hh(r,t,i),n||(o=[Zh(t,"mousedown",Kh(e[18])),Zh(t,"click",e[19])],n=!0)},p:gh,d(e){e&&Fh(t),n=!1,vh(o)}}}function XT(e){let t,n,o;return{c(){t=Wh("button"),t.textContent=`${chrome.i18n.getMessage("toolbar_upgrade_to_pro_button")}`,Jh(t,"class","user-action-button svelte-9xsres")},m(r,i){Hh(r,t,i),n||(o=[Zh(t,"mousedown",Kh(e[17])),Zh(t,"click",e[20])],n=!0)},p:gh,d(e){e&&Fh(t),n=!1,vh(o)}}}function JT(e){let t,n,o;return{c(){t=Wh("div"),Jh(t,"type","button"),Jh(t,"class","dl-menu-icon dl-menu-icon--user svelte-9xsres")},m(r,i){Hh(r,t,i),n||(o=Zh(t,"mousedown",Kh(e[16])),n=!0)},d(e){e&&Fh(t),n=!1,o()}}}function QT(e){let t,n,o,r,i,s,a,l,c,d,u,p,m,g=Eo();function h(e,t){return!0===e[0].isLoggedIn?t$:e$}let f=h(e),_=f&&f(e),v=g&&function(e){let t,n,o;return{c(){t=Wh("button"),t.textContent="DEV_TOOLS",Jh(t,"class","dl-menu-item svelte-9xsres")},m(r,i){Hh(r,t,i),n||(o=Zh(t,"click",e[9]),n=!0)},p:gh,d(e){e&&Fh(t),n=!1,o()}}}(e);return{c(){t=Wh("div"),n=Wh("button"),o=Wh("span"),r=Wh("div"),r.textContent=`${chrome.i18n.getMessage("menu_share_feedback_link")}`,i=Vh(),s=Wh("div"),a=Vh(),l=Wh("button"),l.textContent=`${chrome.i18n.getMessage("menu_settings_label")}`,c=Vh(),_&&_.c(),d=Vh(),v&&v.c(),Jh(s,"class","dl-feedback-icon svelte-9xsres"),Jh(o,"class","dl-menu-link dl-feedback-link svelte-9xsres"),Jh(n,"class","dl-menu-item svelte-9xsres"),Jh(l,"class","dl-menu-item svelte-9xsres"),Jh(t,"class","dl-menu-list svelte-9xsres")},m(u,g){Hh(u,t,g),Bh(t,n),Bh(n,o),Bh(o,r),Bh(o,i),Bh(o,s),Bh(t,a),Bh(t,l),Bh(t,c),_&&_.m(t,null),Bh(t,d),v&&v.m(t,null),p||(m=[Zh(n,"click",e[7]),Zh(l,"click",e[10])],p=!0)},p(e,n){f===(f=h(e))&&_?_.p(e,n):(_&&_.d(1),_=f&&f(e),_&&(_.c(),_.m(t,d))),g&&v.p(e,n)},i(e){u||Mf((()=>{u=Gf(t,N_,{y:-5,duration:500}),u.start()}))},o:gh,d(e){e&&Fh(t),_&&_.d(),v&&v.d(),p=!1,vh(m)}}}function e$(e){let t,n,o,r,i,s,a,l,c;return{c(){t=Wh("div"),t.innerHTML='<div class="divider svelte-9xsres"></div>',n=Vh(),o=Wh("button"),r=Wh("span"),r.textContent=`${chrome.i18n.getMessage("menu_login_label")}`,i=Vh(),s=Wh("button"),a=Wh("span"),a.textContent=`${chrome.i18n.getMessage("menu_trial_label")}`,Jh(t,"class","dl-menu-item dl-menu-item--divider svelte-9xsres"),Jh(o,"class","dl-menu-item svelte-9xsres"),Jh(a,"class","dl-menu-link link svelte-9xsres"),Jh(s,"class","dl-menu-item svelte-9xsres")},m(d,u){Hh(d,t,u),Hh(d,n,u),Hh(d,o,u),Bh(o,r),Hh(d,i,u),Hh(d,s,u),Bh(s,a),l||(c=[Zh(o,"click",e[5]),Zh(s,"click",e[6])],l=!0)},p:gh,d(e){e&&(Fh(t),Fh(n),Fh(o),Fh(i),Fh(s)),l=!1,vh(c)}}}function t$(e){let t,n,o,r,i,s;return{c(){t=Wh("div"),t.innerHTML='<div class="divider svelte-9xsres"></div>',n=Vh(),o=Wh("button"),r=Wh("span"),r.textContent=`${chrome.i18n.getMessage("menu_logout_label")}`,Jh(t,"class","dl-menu-item dl-menu-item--divider svelte-9xsres"),Jh(o,"class","dl-menu-item svelte-9xsres")},m(a,l){Hh(a,t,l),Hh(a,n,l),Hh(a,o,l),Bh(o,r),i||(s=Zh(o,"click",e[4]),i=!0)},p:gh,d(e){e&&(Fh(t),Fh(n),Fh(o)),i=!1,s()}}}function n$(e){let t,n,o,r,i,s,a,l,c,d,u,p=!e[0].isLoggedIn&&KT(e),m=e[2]&&XT(e),g=!0===e[0].isLoggedIn&&JT(e),h=e[1]&&QT(e);return{c(){t=Wh("div"),n=Wh("div"),p&&p.c(),o=Vh(),m&&m.c(),r=Vh(),g&&g.c(),i=Vh(),s=Wh("button"),a=Vh(),l=Wh("button"),c=Vh(),h&&h.c(),Jh(s,"type","button"),Jh(s,"class","dl-menu-icon dl-menu-icon--settings svelte-9xsres"),Jh(s,"aria-label",chrome.i18n.getMessage("menu_open_settings")),Jh(l,"type","button"),Jh(l,"class","dl-menu-icon dl-menu-icon--hamburger svelte-9xsres"),Jh(l,"aria-label",chrome.i18n.getMessage("menu_open_menu")),sf(l,"isOpen",e[1]),Jh(n,"class","dl-menu-icon-wrapper svelte-9xsres"),Jh(t,"class","dl-container-menu svelte-9xsres")},m(f,_){Hh(f,t,_),Bh(t,n),p&&p.m(n,null),Bh(n,o),m&&m.m(n,null),Bh(n,r),g&&g.m(n,null),Bh(n,i),Bh(n,s),Bh(n,a),Bh(n,l),Bh(t,c),h&&h.m(t,null),d||(u=[Zh(s,"mousedown",Kh(e[15])),Zh(s,"click",e[21]),Zh(l,"mousedown",Kh(e[14])),Zh(l,"click",e[22]),Zh(n,"mousedown",Xh(Kh(e[13]))),Mh(dv.call(null,t,{isShadow:!0})),Zh(t,"click_outside",e[8]),Zh(t,"mousedown",Xh(Kh(e[12])))],d=!0)},p(e,[s]){e[0].isLoggedIn?p&&(p.d(1),p=null):p?p.p(e,s):(p=KT(e),p.c(),p.m(n,o)),e[2]?m?m.p(e,s):(m=XT(e),m.c(),m.m(n,r)):m&&(m.d(1),m=null),!0===e[0].isLoggedIn?g||(g=JT(e),g.c(),g.m(n,i)):g&&(g.d(1),g=null),2&s&&sf(l,"isOpen",e[1]),e[1]?h?(h.p(e,s),2&s&&jf(h,1)):(h=QT(e),h.c(),jf(h,1),h.m(t,null)):h&&(h.d(1),h=null)},i(e){jf(h)},o:gh,d(e){e&&Fh(t),p&&p.d(),m&&m.d(),g&&g.d(),h&&h.d(),d=!1,vh(u)}}}function o$(e,n,o){let r,i;const s=bf("deepl_settings");Eh(e,s,(e=>o(0,i=e)));let a=!1;function l(){t({action:"dlRequestLogin"}),c()}function c(){o(1,a=!1)}function d(){t({action:"dlOpenInternalPage",payload:{destination:nS.settings_page}}),c()}function u(){t({action:"dlExternalURLRedirect",payload:{destination:pn(i,$t.TRANSLATOR)?cy:ly,utmContent:"menu"}}),c()}return e.$$.update=()=>{1&e.$$.dirty&&o(2,r=i.isLoggedIn&&(!pn(i,$t.TRANSLATOR)||!pn(i,$t.WRITE)))},[i,a,r,s,function(){t({action:"dlRequestLogout"}),t({action:"dlTrackUiAction",payload:{uiAction:He}}),c()},l,function(){t({action:"dlExternalURLRedirect",payload:{destination:ly,utmContent:"menu"}}),c()},function(){t({action:"dlExternalURLRedirect",payload:{destination:En()?wy:ay}}),c()},c,function(){t({action:"dlOpenInternalPage",payload:{destination:nS.developer_tools}}),c()},d,u,function(t){Ef.call(this,e,t)},function(t){Ef.call(this,e,t)},function(t){Ef.call(this,e,t)},function(t){Ef.call(this,e,t)},function(t){Ef.call(this,e,t)},function(t){Ef.call(this,e,t)},function(t){Ef.call(this,e,t)},()=>{l()},()=>{u()},()=>{d()},()=>{o(1,a=!a)}]}class r$ extends t_{constructor(e){super(),e_(this,e,o$,n$,wh,{})}}function i$(e){let t,n;return{c(){t=Wh("div"),Jh(t,"class",n=kh(`deepl-shield-icon ${e[0]}`)+" svelte-16nk5mq"),Jh(t,"style",e[2])},m(e,n){Hh(e,t,n)},p(e,o){1&o&&n!==(n=kh(`deepl-shield-icon ${e[0]}`)+" svelte-16nk5mq")&&Jh(t,"class",n)},i:gh,o:gh,d(e){e&&Fh(t)}}}function s$(e){let t,n;return t=new fv({props:{tooltip:e[1],zIndex:"5",$$slots:{default:[a$]},$$scope:{ctx:e}}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p(e,n){const o={};2&n&&(o.tooltip=e[1]),257&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function a$(e){let t,n;return{c(){t=Wh("div"),Jh(t,"class",n=kh(`deepl-shield-icon ${e[0]}`)+" svelte-16nk5mq"),Jh(t,"style",e[2])},m(e,n){Hh(e,t,n)},p(e,o){1&o&&n!==(n=kh(`deepl-shield-icon ${e[0]}`)+" svelte-16nk5mq")&&Jh(t,"class",n)},d(e){e&&Fh(t)}}}function l$(e){let t,n,o,r;const i=[s$,i$],s=[];function a(e,t){return e[1]?0:1}return t=a(e),n=s[t]=i[t](e),{c(){n.c(),o=Yh()},m(e,n){s[t].m(e,n),Hh(e,o,n),r=!0},p(e,[r]){let l=t;t=a(e),t===l?s[t].p(e,r):(Hf(),Wf(s[l],1,1,(()=>{s[l]=null})),Ff(),n=s[t],n?n.p(e,r):(n=s[t]=i[t](e),n.c()),jf(n,1),n.m(o.parentNode,o))},i(e){r||(jf(n),r=!0)},o(e){Wf(n),r=!1},d(e){e&&Fh(o),s[t].d(e)}}}function c$(e,t,n){let o,{write:r=!1}=t,{translator:i=!1}=t,{size:s=20}=t,{marginStart:a=0}=t,{marginEnd:l=0}=t,{alternateColor:c}=t;const d=`height: ${s}px; width: ${s}px; margin-inline-start: ${a}px; margin-inline-end: ${l}px;`;return r?o=chrome.i18n.getMessage("tooltip_write_fully_encrypted"):i&&(o=chrome.i18n.getMessage("tooltip_translator_fully_encrypted")),e.$$set=e=>{"write"in e&&n(3,r=e.write),"translator"in e&&n(4,i=e.translator),"size"in e&&n(5,s=e.size),"marginStart"in e&&n(6,a=e.marginStart),"marginEnd"in e&&n(7,l=e.marginEnd),"alternateColor"in e&&n(0,c=e.alternateColor)},[c,o,d,r,i,s,a,l]}class d$ extends t_{constructor(e){super(),e_(this,e,c$,l$,wh,{write:3,translator:4,size:5,marginStart:6,marginEnd:7,alternateColor:0})}}function u$(e){let t;return{c(){t=Wh("div"),Jh(t,"class","dl-logo svelte-1tthjxl")},m(e,n){Hh(e,t,n)},p:gh,d(e){e&&Fh(t)}}}function p$(e){let t,n,o;return{c(){t=Wh("button"),Jh(t,"class","dl-logo dl-logo--clickable svelte-1tthjxl"),Jh(t,"aria-label",chrome.i18n.getMessage("deepl_logo"))},m(r,i){Hh(r,t,i),n||(o=Zh(t,"click",e[13]),n=!0)},p:gh,d(e){e&&Fh(t),n=!1,o()}}}function m$(e){let t,n,o=e[6]===pt.translate&&g$(),r=e[6]===pt.write&&h$();return{c(){o&&o.c(),t=Vh(),r&&r.c(),n=Yh()},m(e,i){o&&o.m(e,i),Hh(e,t,i),r&&r.m(e,i),Hh(e,n,i)},p(e,i){e[6]===pt.translate?o?o.p(e,i):(o=g$(),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null),e[6]===pt.write?r?r.p(e,i):(r=h$(),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(e){e&&(Fh(t),Fh(n)),o&&o.d(e),r&&r.d(e)}}}function g$(e){let t;return{c(){t=Wh("span"),t.textContent=`${chrome.i18n.getMessage("layout_tab_translator")}`,Jh(t,"class","translator-name svelte-1tthjxl")},m(e,n){Hh(e,t,n)},p:gh,d(e){e&&Fh(t)}}}function h$(e){let t;return{c(){t=Wh("span"),t.textContent=`${chrome.i18n.getMessage("layout_tab_write")}`,Jh(t,"class","translator-name svelte-1tthjxl")},m(e,n){Hh(e,t,n)},p:gh,d(e){e&&Fh(t)}}}function f$(e){let t,n;return t=new d$({props:{size:24,write:e[6]===pt.write,translator:e[6]===pt.translate}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p(e,n){const o={};64&n&&(o.write=e[6]===pt.write),64&n&&(o.translator=e[6]===pt.translate),t.$set(o)},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function _$(e){let t,n,o,r;return o=new Rb({props:{value:e[10].selectedTargetLanguage,websiteSettings:e[4],customClass:"dropdown__wrapper--header",fontSize:"sm"}}),o.$on("selection",e[17]),{c(){t=Wh("div"),n=Wh("div"),Xf(o.$$.fragment),Jh(n,"class","dl-actions-language-selector__dropdown svelte-1tthjxl"),Jh(t,"class","dl-actions-language-selector svelte-1tthjxl")},m(e,i){Hh(e,t,i),Bh(t,n),Jf(o,n,null),r=!0},p(e,t){const n={};1024&t&&(n.value=e[10].selectedTargetLanguage),16&t&&(n.websiteSettings=e[4]),o.$set(n)},i(e){r||(jf(o.$$.fragment,e),r=!0)},o(e){Wf(o.$$.fragment,e),r=!1},d(e){e&&Fh(t),Qf(o)}}}function v$(e){let t,n,o;return{c(){t=Wh("button"),Jh(t,"class","dl-settings-icon svelte-1tthjxl"),Jh(t,"data-qa","deepl-layour-header-settings-link")},m(r,i){Hh(r,t,i),n||(o=Zh(t,"click",e[14]),n=!0)},p:gh,d(e){e&&Fh(t),n=!1,o()}}}function y$(e){let t,n;return t=new r$({}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function w$(e){let t,n,o;return{c(){t=Wh("button"),Jh(t,"type","button"),Jh(t,"class","dl-close-icon svelte-1tthjxl")},m(r,i){Hh(r,t,i),n||(o=Zh(t,"click",(function(){yh(e[0])&&e[0].apply(this,arguments)})),n=!0)},p(t,n){e=t},d(e){e&&Fh(t),n=!1,o()}}}function b$(e){let t,n,o,r,i,s,a,l,c,d,u,p,m;let g=function(e){return e[13]?p$:u$}(e),h=g(e),f=e[9]&&m$(e),_=e[8]&&f$(e),v=e[6]===pt.translate&&e[2]&&e[10]&&e[4]&&_$(e),y=e[7]&&v$(e),w=e[1]&&y$(),b=e[0]&&w$(e);return{c(){t=Wh("div"),n=Wh("div"),h.c(),o=Vh(),f&&f.c(),r=Vh(),_&&_.c(),i=Vh(),s=Wh("div"),v&&v.c(),a=Vh(),y&&y.c(),l=Vh(),w&&w.c(),c=Vh(),b&&b.c(),Jh(n,"class","logo-translator-name-container svelte-1tthjxl"),Jh(s,"class","dl-actions svelte-1tthjxl"),Jh(t,"class",d=kh("dl-header "+(e[2]?"dl-header--with-lang-selector":""))+" svelte-1tthjxl")},m(d,g){Hh(d,t,g),Bh(t,n),h.m(n,null),Bh(n,o),f&&f.m(n,null),Bh(n,r),_&&_.m(n,null),Bh(t,i),Bh(t,s),v&&v.m(s,null),Bh(s,a),y&&y.m(s,null),Bh(s,l),w&&w.m(s,null),Bh(s,c),b&&b.m(s,null),u=!0,p||(m=Zh(t,"mousedown",Xh(Kh(e[16]))),p=!0)},p(e,[o]){h.p(e,o),e[9]?f?f.p(e,o):(f=m$(e),f.c(),f.m(n,r)):f&&(f.d(1),f=null),e[8]?_?(_.p(e,o),256&o&&jf(_,1)):(_=f$(e),_.c(),jf(_,1),_.m(n,null)):_&&(Hf(),Wf(_,1,1,(()=>{_=null})),Ff()),e[6]===pt.translate&&e[2]&&e[10]&&e[4]?v?(v.p(e,o),1108&o&&jf(v,1)):(v=_$(e),v.c(),jf(v,1),v.m(s,a)):v&&(Hf(),Wf(v,1,1,(()=>{v=null})),Ff()),e[7]?y?y.p(e,o):(y=v$(e),y.c(),y.m(s,l)):y&&(y.d(1),y=null),e[1]?w?2&o&&jf(w,1):(w=y$(),w.c(),jf(w,1),w.m(s,c)):w&&(Hf(),Wf(w,1,1,(()=>{w=null})),Ff()),e[0]?b?b.p(e,o):(b=w$(e),b.c(),b.m(s,null)):b&&(b.d(1),b=null),(!u||4&o&&d!==(d=kh("dl-header "+(e[2]?"dl-header--with-lang-selector":""))+" svelte-1tthjxl"))&&Jh(t,"class",d)},i(e){u||(jf(_),jf(v),jf(w),u=!0)},o(e){Wf(_),Wf(v),Wf(w),u=!1},d(e){e&&Fh(t),h.d(),f&&f.d(),_&&_.d(),v&&v.d(),y&&y.d(),w&&w.d(),b&&b.d(),p=!1,m()}}}function E$(e,n,o){let r,i,s=gh,a=()=>(s(),s=bh(f,(e=>o(18,r=e))),f),l=gh,c=()=>(l(),l=bh(g,(e=>o(10,i=e))),g);e.$$.on_destroy.push((()=>s())),e.$$.on_destroy.push((()=>l()));let{closeWindow:u}=n,{showMenu:p=!1}=n,{showLangSelect:m=!1}=n,{settings:g}=n;c();let{websiteSettings:f}=n;a();let{extensionContext:_=0}=n,{platformBehaviour:v=ut.default}=n,{textProcessingMode:y=pt.translate}=n,{showSettingsIcon:w=!0}=n,{showProStatus:b=!1}=n,{showServiceName:E=!1}=n;async function x(e){await g.set({selectedTargetLanguage:e.value,isTargetLanguageConfirmed:!0,regionalVariant:e.regionalVariant||""}),f.update({translationState:d.ongoingTranslation}),t({action:"dlRequestInlineTranslation",payload:{requests:[{text:r.originalSnippet}],domainName:window.location.hostname,trigger:h,sourceLang:"auto",websiteLanguage:r.websiteLanguage}}).then((e=>{f.update({translationState:d.none,translatedSnippet:e[0].text,snippetDetectedSourceLang:e[0].detected_source_language,websiteLanguage:e[0].detected_source_language})})).catch((e=>{f.update({translationState:d.none,translatedSnippet:"",snippetDetectedSourceLang:"",error:e.message?e.message:e})}))}async function S(e){await g.set({selectedTargetLanguage:e.value,isTargetLanguageConfirmed:!0,regionalVariant:e.regionalVariant||""});const t=document.getElementsByTagName("deepl-gdocs-icon")[0];t&&t.requestNewTranslation(e.value)}return e.$$set=e=>{"closeWindow"in e&&o(0,u=e.closeWindow),"showMenu"in e&&o(1,p=e.showMenu),"showLangSelect"in e&&o(2,m=e.showLangSelect),"settings"in e&&c(o(3,g=e.settings)),"websiteSettings"in e&&a(o(4,f=e.websiteSettings)),"extensionContext"in e&&o(15,_=e.extensionContext),"platformBehaviour"in e&&o(5,v=e.platformBehaviour),"textProcessingMode"in e&&o(6,y=e.textProcessingMode),"showSettingsIcon"in e&&o(7,w=e.showSettingsIcon),"showProStatus"in e&&o(8,b=e.showProStatus),"showServiceName"in e&&o(9,E=e.showServiceName)},[u,p,m,g,f,v,y,w,b,E,i,x,S,function(){let e=uy;t({action:"dlTrackLogoClickedEvent",payload:{extensionContext:_}}),y===pt.write&&(e=py),t({action:"dlExternalURLRedirect",payload:{destination:e,utmContent:"gdocs_logo"}})},function(){t({action:"dlOpenInternalPage",payload:{destination:nS.settings_page}})},_,function(t){Ef.call(this,e,t)},e=>{switch(v){case ut.gdocs:S(e.detail.selectedOption);break;case ut.default:default:x(e.detail.selectedOption)}}]}class x$ extends t_{constructor(e){super(),e_(this,e,E$,b$,wh,{closeWindow:0,showMenu:1,showLangSelect:2,settings:3,websiteSettings:4,extensionContext:15,platformBehaviour:5,textProcessingMode:6,showSettingsIcon:7,showProStatus:8,showServiceName:9})}}function S$(e){let t,n;return t=new x$({props:{websiteSettings:e[5],settings:e[4],showLangSelect:e[2],showMenu:e[1],closeWindow:e[0],extensionContext:e[6],platformBehaviour:e[7],textProcessingMode:e[8],showSettingsIcon:e[9],showProStatus:e[10],showServiceName:e[11]}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p(e,n){const o={};32&n&&(o.websiteSettings=e[5]),16&n&&(o.settings=e[4]),4&n&&(o.showLangSelect=e[2]),2&n&&(o.showMenu=e[1]),1&n&&(o.closeWindow=e[0]),64&n&&(o.extensionContext=e[6]),128&n&&(o.platformBehaviour=e[7]),256&n&&(o.textProcessingMode=e[8]),512&n&&(o.showSettingsIcon=e[9]),1024&n&&(o.showProStatus=e[10]),2048&n&&(o.showServiceName=e[11]),t.$set(o)},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function T$(e){let t,n,o,r,i,s=e[3]&&S$(e);const a=e[14].default,l=xh(a,e,e[13],null);return{c(){t=Wh("div"),s&&s.c(),n=Vh(),o=Wh("div"),l&&l.c(),Jh(o,"class","dl-content svelte-jwy61a"),Jh(t,"class",r=kh(`dl-layout ${e[2]&&"dl-layout--with-lang-selector"}`)+" svelte-jwy61a"),Jh(t,"translate","no"),Jh(t,"dir",e[12])},m(e,r){Hh(e,t,r),s&&s.m(t,null),Bh(t,n),Bh(t,o),l&&l.m(o,null),i=!0},p(e,[o]){e[3]?s?(s.p(e,o),8&o&&jf(s,1)):(s=S$(e),s.c(),jf(s,1),s.m(t,n)):s&&(Hf(),Wf(s,1,1,(()=>{s=null})),Ff()),l&&l.p&&(!i||8192&o)&&$h(l,a,e,e[13],i?Th(a,e[13],o,null):Ch(e[13]),null),(!i||4&o&&r!==(r=kh(`dl-layout ${e[2]&&"dl-layout--with-lang-selector"}`)+" svelte-jwy61a"))&&Jh(t,"class",r)},i(e){i||(jf(s),jf(l,e),i=!0)},o(e){Wf(s),Wf(l,e),i=!1},d(e){e&&Fh(t),s&&s.d(),l&&l.d(e)}}}function $$(e,t,n){let{$$slots:o={},$$scope:r}=t;const i=bf("text_direction");let{closeWindow:s}=t,{showMenu:a=!1}=t,{showLangSelect:l=!1}=t,{withHeader:c=!0}=t,{settings:d}=t,{websiteSettings:u}=t,{extensionContext:p}=t,{platformBehaviour:m=ut.default}=t,{textProcessingMode:g=pt.translate}=t,{showSettingsIcon:h=!0}=t,{showProStatus:f=!1}=t,{showServiceName:_=!1}=t;return e.$$set=e=>{"closeWindow"in e&&n(0,s=e.closeWindow),"showMenu"in e&&n(1,a=e.showMenu),"showLangSelect"in e&&n(2,l=e.showLangSelect),"withHeader"in e&&n(3,c=e.withHeader),"settings"in e&&n(4,d=e.settings),"websiteSettings"in e&&n(5,u=e.websiteSettings),"extensionContext"in e&&n(6,p=e.extensionContext),"platformBehaviour"in e&&n(7,m=e.platformBehaviour),"textProcessingMode"in e&&n(8,g=e.textProcessingMode),"showSettingsIcon"in e&&n(9,h=e.showSettingsIcon),"showProStatus"in e&&n(10,f=e.showProStatus),"showServiceName"in e&&n(11,_=e.showServiceName),"$$scope"in e&&n(13,r=e.$$scope)},[s,a,l,c,d,u,p,m,g,h,f,_,i,r,o]}class C$ extends t_{constructor(e){super(),e_(this,e,$$,T$,wh,{closeWindow:0,showMenu:1,showLangSelect:2,withHeader:3,settings:4,websiteSettings:5,extensionContext:6,platformBehaviour:7,textProcessingMode:8,showSettingsIcon:9,showProStatus:10,showServiceName:11})}}function k$(e){let t,n,o,r,i,s,a,l,c,d;return{c(){t=Wh("div"),n=Wh("input"),o=Vh(),r=Wh("div"),i=Vh(),s=Wh("label"),a=Gh(e[3]),Jh(n,"id",e[1]),Jh(n,"name",e[4]),Jh(n,"type","radio"),n.checked=e[2],Jh(n,"data-qa",e[6]),Jh(n,"class","svelte-1n1hwks"),Jh(r,"class","radio-icon svelte-1n1hwks"),Jh(s,"for",e[1]),Jh(s,"class","svelte-1n1hwks"),Jh(t,"class",l=kh(`radio ${e[5]} ${e[2]?"radio--checked":""}`)+" svelte-1n1hwks")},m(l,u){Hh(l,t,u),Bh(t,n),ef(n,e[0]),Bh(t,o),Bh(t,r),Bh(t,i),Bh(t,s),Bh(s,a),c||(d=[Zh(n,"change",e[10]),Zh(n,"change",e[8]),Zh(n,"mousedown",Xh(Kh(e[9]))),Zh(t,"click",e[7])],c=!0)},p(e,[o]){2&o&&Jh(n,"id",e[1]),16&o&&Jh(n,"name",e[4]),4&o&&(n.checked=e[2]),64&o&&Jh(n,"data-qa",e[6]),1&o&&ef(n,e[0]),8&o&&Qh(a,e[3]),2&o&&Jh(s,"for",e[1]),36&o&&l!==(l=kh(`radio ${e[5]} ${e[2]?"radio--checked":""}`)+" svelte-1n1hwks")&&Jh(t,"class",l)},i:gh,o:gh,d(e){e&&Fh(t),c=!1,vh(d)}}}function L$(e,t,n){let{id:o}=t,{checked:r=!1}=t,{label:i=""}=t,{value:s=""}=t,{name:a=""}=t,{cssClassName:l=""}=t,{dataQa:c="deepl-radio-button"}=t;return e.$$set=e=>{"id"in e&&n(1,o=e.id),"checked"in e&&n(2,r=e.checked),"label"in e&&n(3,i=e.label),"value"in e&&n(0,s=e.value),"name"in e&&n(4,a=e.name),"cssClassName"in e&&n(5,l=e.cssClassName),"dataQa"in e&&n(6,c=e.dataQa)},[s,o,r,i,a,l,c,function(t){Ef.call(this,e,t)},function(t){Ef.call(this,e,t)},function(t){Ef.call(this,e,t)},function(){s=this.value,n(0,s)}]}class M$ extends t_{constructor(e){super(),e_(this,e,L$,k$,wh,{id:1,checked:2,label:3,value:0,name:4,cssClassName:5,dataQa:6})}}function I$(e){let t,n,o;return n=new C$({props:{withHeader:!1,$$slots:{default:[A$]},$$scope:{ctx:e}}}),{c(){t=Wh("div"),Xf(n.$$.fragment)},m(e,r){Hh(e,t,r),Jf(n,t,null),o=!0},p(e,t){const o={};524297&t&&(o.$$scope={dirty:t,ctx:e}),n.$set(o)},i(e){o||(jf(n.$$.fragment,e),o=!0)},o(e){Wf(n.$$.fragment,e),o=!1},d(e){e&&Fh(t),Qf(n)}}}function A$(e){let t,n,o,r,i,s,a,l,c,d,u,p,m,g,h,f,_,v,y,w,b=chrome.i18n.getMessage("inline_translation_setting_button_ok")+"";return l=new M$({props:{name:"disable_inline_translation",id:je,value:je,cssClassName:"radio--with-border",checked:e[3]===je,label:chrome.i18n.getMessage("inline_translation_setting_radio_disable_per_site"),dataQa:"disable-per-site-radio-button"}}),l.$on("change",e[7]),l.$on("click",e[12]),d=new M$({props:{name:"disable_inline_translation",id:We,value:We,cssClassName:"radio--with-border",checked:e[3]===We,label:chrome.i18n.getMessage("inline_translation_setting_radio_disable_everywhere"),dataQa:"disable-everywhere-radio-button"}}),d.$on("change",e[7]),d.$on("click",e[13]),{c(){t=Wh("div"),n=Wh("button"),o=Vh(),r=Wh("div"),i=Wh("p"),i.textContent=`${chrome.i18n.getMessage("inline_translation_setting_label_title_v2")}`,s=Vh(),a=Wh("div"),Xf(l.$$.fragment),c=Vh(),Xf(d.$$.fragment),u=Vh(),p=Wh("div"),m=Wh("span"),m.textContent=`${chrome.i18n.getMessage("inline_translation_setting_link_cancel")}`,g=Vh(),h=Wh("button"),f=Gh(b),Jh(n,"type","button"),Jh(n,"class","close-icon svelte-kj6lw"),Jh(t,"class","header svelte-kj6lw"),Jh(i,"class","font-bold svelte-kj6lw"),Jh(a,"class","option-container svelte-kj6lw"),Jh(m,"class","link svelte-kj6lw"),Jh(m,"data-qa","close-settings-popup-link"),Jh(h,"class",_=kh("btn btn-primary "+(e[3]?"":"disabled"))+" svelte-kj6lw"),Jh(h,"data-qa","save-settings-change-button"),Jh(p,"class","action-container svelte-kj6lw"),Jh(r,"class","dl-widget svelte-kj6lw")},m(_,b){Hh(_,t,b),Bh(t,n),Hh(_,o,b),Hh(_,r,b),Bh(r,i),Bh(r,s),Bh(r,a),Jf(l,a,null),Bh(a,c),Jf(d,a,null),Bh(r,u),Bh(r,p),Bh(p,m),Bh(p,g),Bh(p,h),Bh(h,f),v=!0,y||(w=[Zh(n,"click",Xh(Kh((function(){yh(e[0])&&e[0].apply(this,arguments)})))),Zh(t,"mousedown",Xh(Kh(e[11]))),Zh(m,"click",(function(){yh(e[0])&&e[0].apply(this,arguments)})),Zh(h,"click",Xh(Kh(e[6]))),Zh(r,"mousedown",Xh(Kh(e[10])))],y=!0)},p(t,n){e=t;const o={};8&n&&(o.checked=e[3]===je),l.$set(o);const r={};8&n&&(r.checked=e[3]===We),d.$set(r),(!v||8&n&&_!==(_=kh("btn btn-primary "+(e[3]?"":"disabled"))+" svelte-kj6lw"))&&Jh(h,"class",_)},i(e){v||(jf(l.$$.fragment,e),jf(d.$$.fragment,e),v=!0)},o(e){Wf(l.$$.fragment,e),Wf(d.$$.fragment,e),v=!1},d(e){e&&(Fh(t),Fh(o),Fh(r)),Qf(l),Qf(d),y=!1,vh(w)}}}function R$(e){let t,n,o,r,i=e[4].enableInlineTranslation&&I$(e);return{c(){t=Wh("div"),i&&i.c(),Jh(t,"class","tooltip-wrapper tooltip-wrapper--settings svelte-kj6lw"),Jh(t,"data-qa","deepl-inline-settings-tooltip"),Jh(t,"style",e[2]),Jh(t,"dir",eo())},m(s,a){Hh(s,t,a),i&&i.m(t,null),e[14](t),n=!0,o||(r=[Mh(dv.call(null,t,{isShadow:!0})),Zh(t,"click_outside",e[15])],o=!0)},p(e,[o]){e[4].enableInlineTranslation?i?(i.p(e,o),16&o&&jf(i,1)):(i=I$(e),i.c(),jf(i,1),i.m(t,null)):i&&(Hf(),Wf(i,1,1,(()=>{i=null})),Ff()),(!n||4&o)&&Jh(t,"style",e[2])},i(e){n||(jf(i),n=!0)},o(e){Wf(i),n=!1},d(n){n&&Fh(t),i&&i.d(),e[14](null),o=!1,vh(r)}}}function O$(e,n,o){let r;Eh(e,r_,(e=>o(4,r=e))),wf("text_direction",eo());let i,s,a,{closeTooltip:l}=n,{replaceElement:c}=n,d="visibility: hidden; opacity:0; height:0;",u="";function p(e){o(3,u=e)}_f((()=>{setTimeout((()=>{o(2,d="")}),100),a=_v(i,(({clientHeight:e})=>{o(9,s=e)}))})),vf((()=>{a&&a()}));return e.$$set=e=>{"closeTooltip"in e&&o(0,l=e.closeTooltip),"replaceElement"in e&&o(8,c=e.replaceElement)},e.$$.update=()=>{768&e.$$.dirty&&c(s)},[l,i,d,u,r,p,function(){if(!u)return;switch(u){case We:r_.set({enableInlineTranslation:!1}),t({action:"dlTrackSettingChanged",payload:{settingType:We,domainName:window.location.hostname,uiFunction:Ge,uiLocation:X}});break;case je:!function(){let e=r.blacklistDomainsForReading;e&&!e.includes(window.location.hostname)&&(e.push(window.location.hostname),r_.set({blacklistDomainsForReading:e}),t({action:"dlTrackSettingChanged",payload:{settingType:je,domainName:window.location.hostname,uiFunction:Ge,uiLocation:X}}))}()}let e=Rx(window.location.hostname,["www."]);l(),t({action:"dlSendNotification",payload:{type:F,options:{theme:Y.green_theme,currentDomain:e,saveAction:u,settingsPageURL:nS.settings_reading}}})},function(e){o(3,u=e.currentTarget.value)},c,s,function(t){Ef.call(this,e,t)},function(t){Ef.call(this,e,t)},()=>p(je),()=>p(We),function(e){Sf[e?"unshift":"push"]((()=>{i=e,o(1,i)}))},()=>l()]}class N$ extends t_{constructor(e){super(),e_(this,e,O$,R$,wh,{closeTooltip:0,replaceElement:8})}}class D${static HTML_TAG_NAME="deepl-inline-translate-settings-tooltip";static createElement=(e=document)=>{const t=e.createElement(D$.HTML_TAG_NAME),n=new D$(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer)}createDOM=(e,t)=>{const{deepl_inline_ui:n}=z;this.domElement.shadowContainer&&this.domElement.shadowContainer.childElementCount>0&&this.cleanupDOM();const o=300;this.domElement.shadowContainer.appendChild(this.domElement.container);const r=e?.top,i=window.innerHeight-(e?.bottom||0);let s="position: absolute; top: 0px; left: 0px; width: 100%; z-index: "+(n.z_index-100),a=`position: absolute; top: 0px; left: 0px; z-index: ${n.z_index-100};`,l=e.y,c=e.x;this.domElement.shadowContainer.style.cssText=s,this.domElement.container.style.cssText=a,this.domElement.mainComponent=new N$({target:this.domElement.container,props:{closeTooltip:t,replaceElement:t=>{const d=r>o;i>o?l=e.y+8:d&&(l=e.y-30-t-4),i<o&&r<o&&(s=`position: fixed; top:50%; left:50%; transform:translate(-50%,-50%); z-index: ${n.z_index-100}; max-height:90vh;`,a=`z-index: ${n.z_index-100};`,c=0,l=0),e.right<260?c=e.left-260+60:e.left<260&&(c=e.left),this.domElement.container.style.top=`${parseInt(l)}px`,this.domElement.container.style.left=`${parseInt(c)}px`}}})};cleanupDOM=()=>{this.domElement.container.remove(),this.domElement.shadowContainer.remove(),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}const P$=e=>({top:e?.selectedTop,bottom:window.innerHeight-e?.selectedBottom,right:e?.selectedRight,left:e?.selectedLeft}),B$=e=>{const{coords:t,clientHeight:n}=e,o=P$(t),r={top:{position:t.y-t.height,isPossible:o.top>=0},bottom:{position:t.y-n,isPossible:o.bottom>=0},middle:{position:window.pageYOffset+window.innerHeight/2-n/2,isPossible:!0}};for(const e of Object.values(r))if(e.isPossible)return e.position},z$=({coords:e,TOOLTIP_WIDTH:t})=>{const n={right:{position:e.x,isPossible:e.x+t<=window.innerWidth},left:{position:e.x+e.selectedWidth-t,isPossible:e.x+e.selectedWidth-t>=0},middle:{position:window.innerWidth/2-t/2,isPossible:!0}};for(const e of Object.values(n))if(e.isPossible)return e.position},U$=(e,t,n)=>{const{coords:o,clientHeight:r,style:i,TOOLTIP_WIDTH:s,TRIGGER_MENU_ICON_HEIGHT:a}=t;switch(e){case"top":i.top=o.y-o.height-r-2-a-n.y+"px",i.left=z$(t)-n.x+"px";break;case"bottom":i.top=o.y+2+a-n.y+"px",i.left=z$(t)-n.x+"px";break;case"left":i.top=B$(t)-n.y+"px",i.left=o.x-s-2-n.x+"px";break;case"right":i.top=B$(t)-n.y+"px",i.left=o.x+o.selectedWidth+2-n.x+"px";break;default:i.top=window.pageYOffset+window.innerHeight/2-r/2-n.y+"px",i.left=window.innerWidth/2-s/2-n.x+"px"}},H$=(e,t,n)=>{const{coords:o,clientHeight:r,TOOLTIP_WIDTH:i,style:s}=t;switch(s.left=o.x-i-10-n.x+"px",e){case"top":s.top=o.y-r-n.y+"px";break;case"bottom":s.top=o.y-o.height-n.y+"px";break;default:s.top=window.pageYOffset+window.innerHeight/2-r/2-n.y+"px"}},F$=(e,t)=>{const n=j$(t);switch(e){case"top":case"bottom":case"left":case"right":return n[e];default:return!0}},j$=e=>{const{TOOLTIP_WIDTH:t,clientHeight:n,coords:o}=e,r=P$(o);return{left:r.left>t,right:r.right>t,bottom:r.bottom>n,top:r.top>n}},W$=e=>{const t=["bottom","top","left","right","middle"];return t.sort(((t,n)=>t===e?-1:n===e?1:0)),[t,["bottom","top","middle"]]};function q$(e){return e.preventDefault(),!1}function G$(e,n){e.dataTransfer.setData("text/html","");let o=e.target.getBoundingClientRect(),r={x:0,y:0};const i=e.clientX-o.left,s=e.clientY-o.top;return i>0&&(r.x=i),s>0&&(r.y=s),function(e){try{t({action:"dlTrackInlineDragStart",payload:{nicheIntegration:e}})}catch(e){console.error(e)}}(n),{dragElementRect:o,dragOffset:r}}function V$({dropEvent:e,document:t,dragConfig:n}){if(e.preventDefault(),0===e.y||0===e.x)return null;const{dragOffset:o,dragElementRect:r,dragBarWidth:i}=n,s=t.body.getBoundingClientRect();let a;return a=e.pageX-o.x>s.width-r.width?s.width-r.width-i>0?s.width-r.width-i:0:e.pageX-o.x,{x:a,y:e.pageY-o.y}}function Y$(e){return e&&function(e){return e.replace(/./gm,(function(e){return e.match(/[a-z0-9\s]+/i)?e:"&#"+e.charCodeAt(0)+";"}))}(e).replaceAll("\n","<br />")}function Z$(e){let t,n,o;return{c(){t=Wh("button"),t.innerHTML='<span class="dl-icon dl-icon-copy svelte-sfmd6f"></span>',Jh(t,"type","button"),Jh(t,"class","dl-btn svelte-sfmd6f"),Jh(t,"data-qa","dl-toolbar-copy-button"),sf(t,"dl-btn-active",e[0])},m(r,i){Hh(r,t,i),n||(o=[Zh(t,"click",e[1]),Zh(t,"mouseleave",e[2])],n=!0)},p(e,n){1&n&&sf(t,"dl-btn-active",e[0])},d(e){e&&Fh(t),n=!1,vh(o)}}}function K$(e){let t,n;return t=new fv({props:{zIndex:300,tooltip:chrome.i18n.getMessage(e[0]?"ui_inline_translation_copied":"ui_inline_translation_copy"),$$slots:{default:[Z$]},$$scope:{ctx:e}}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p(e,[n]){const o={};1&n&&(o.tooltip=chrome.i18n.getMessage(e[0]?"ui_inline_translation_copied":"ui_inline_translation_copy")),129&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function X$(e,n,o){let{text:r}=n,{targetLang:i}=n,{platformBehaviour:s=ut.default}=n,a=!1;return e.$$set=e=>{"text"in e&&o(3,r=e.text),"targetLang"in e&&o(4,i=e.targetLang),"platformBehaviour"in e&&o(5,s=e.platformBehaviour)},[a,function(){navigator.clipboard.writeText(r).then((function(){o(0,a=!0)}),(function(e){console.error(e)})),function(e){try{t({action:"dlTrackInlineCopy",payload:e})}catch(e){console.error(e)}}({targetLang:i,targetLength:r.length,nicheIntegration:s})},function(){setTimeout((()=>{o(0,a=!1)}),300)},r,i,s]}class J$ extends t_{constructor(e){super(),e_(this,e,X$,K$,wh,{text:3,targetLang:4,platformBehaviour:5})}}function Q$(e){let t,n,o,r,i,s,a,l,c;return{c(){t=Wh("div"),n=Wh("button"),n.textContent=`${chrome.i18n.getMessage("ui_inline_translation_listen_to_translation")}`,o=Vh(),r=Wh("button"),r.textContent=`${chrome.i18n.getMessage("ui_inline_translation_listen_to_original")}`,Jh(n,"class","list-entry svelte-o3etn3"),Jh(n,"data-qa","dl-toolbar-listener-button-target-lang"),sf(n,"dl-entry-notAvailable",!e[0]),Jh(r,"class","list-entry svelte-o3etn3"),Jh(r,"data-qa","dl-toolbar-listener-button-source-lang"),sf(r,"dl-entry-notAvailable",!e[1]),Jh(t,"class","listen-list svelte-o3etn3"),Jh(t,"data-qa","dl-toolbar-listener-element-langs")},m(i,s){Hh(i,t,s),Bh(t,n),Bh(t,o),Bh(t,r),a=!0,l||(c=[Zh(n,"click",e[7]),Zh(r,"click",(function(){yh(e[6](e[4],e[2]))&&e[6](e[4],e[2]).apply(this,arguments)}))],l=!0)},p(t,[o]){e=t,(!a||1&o)&&sf(n,"dl-entry-notAvailable",!e[0]),(!a||2&o)&&sf(r,"dl-entry-notAvailable",!e[1])},i(e){a||(Mf((()=>{a&&(s&&s.end(1),i=Gf(t,N_,{y:-5,duration:500}),i.start())})),a=!0)},o(e){i&&i.invalidate(),s=Vf(t,N_,{y:-5,duration:500}),a=!1},d(e){e&&Fh(t),e&&s&&s.end(),l=!1,vh(c)}}}function eC(e,t,n){let{isAvailableSelectedTargetLang:o}=t,{isAvailableSourceLang:r}=t,{sourceLang:i}=t,{targetLang:s}=t,{sourceText:a}=t,{targetText:l}=t,{listen:c=()=>{}}=t;return e.$$set=e=>{"isAvailableSelectedTargetLang"in e&&n(0,o=e.isAvailableSelectedTargetLang),"isAvailableSourceLang"in e&&n(1,r=e.isAvailableSourceLang),"sourceLang"in e&&n(2,i=e.sourceLang),"targetLang"in e&&n(3,s=e.targetLang),"sourceText"in e&&n(4,a=e.sourceText),"targetText"in e&&n(5,l=e.targetText),"listen"in e&&n(6,c=e.listen)},[o,r,i,s,a,l,c,()=>{c(l,s)}]}class tC extends t_{constructor(e){super(),e_(this,e,eC,Q$,wh,{isAvailableSelectedTargetLang:0,isAvailableSourceLang:1,sourceLang:2,targetLang:3,sourceText:4,targetText:5,listen:6})}}function nC(e){let t,n,o,r,i;return n=new fv({props:{tooltip:e[8],zIndex:300,$$slots:{default:[rC]},$$scope:{ctx:e}}}),{c(){t=Wh("fragment"),Xf(n.$$.fragment),Jh(t,"role","navigation")},m(s,a){Hh(s,t,a),Jf(n,t,null),o=!0,r||(i=[Zh(t,"mouseover",e[11]),Zh(t,"focus",e[11]),Zh(t,"mouseleave",e[13])],r=!0)},p(e,t){const o={};256&t&&(o.tooltip=e[8]),262399&t&&(o.$$scope={dirty:t,ctx:e}),n.$set(o)},i(e){o||(jf(n.$$.fragment,e),o=!0)},o(e){Wf(n.$$.fragment,e),o=!1},d(e){e&&Fh(t),Qf(n),r=!1,vh(i)}}}function oC(e){let t,n;return t=new tC({props:{isAvailableSelectedTargetLang:e[6],isAvailableSourceLang:e[7],sourceLang:e[0],targetLang:e[1],sourceText:e[2],targetText:e[3],listen:e[9]}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p(e,n){const o={};64&n&&(o.isAvailableSelectedTargetLang=e[6]),128&n&&(o.isAvailableSourceLang=e[7]),1&n&&(o.sourceLang=e[0]),2&n&&(o.targetLang=e[1]),4&n&&(o.sourceText=e[2]),8&n&&(o.targetText=e[3]),t.$set(o)},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function rC(e){let t,n,o,r,i,s,a=e[5]&&oC(e);return{c(){t=Wh("button"),t.innerHTML='<span class="dl-icon dl-icon-listen svelte-17suwwx"></span>',n=Vh(),a&&a.c(),o=Yh(),Jh(t,"type","button"),Jh(t,"class","dl-btn svelte-17suwwx"),Jh(t,"data-qa","dl-toolbar-listener-button"),sf(t,"dl-btn-active",e[4]),sf(t,"dl-btn-hovered",e[5])},m(l,c){Hh(l,t,c),Hh(l,n,c),a&&a.m(l,c),Hh(l,o,c),r=!0,i||(s=Zh(t,"click",e[10]),i=!0)},p(e,n){(!r||16&n)&&sf(t,"dl-btn-active",e[4]),(!r||32&n)&&sf(t,"dl-btn-hovered",e[5]),e[5]?a?(a.p(e,n),32&n&&jf(a,1)):(a=oC(e),a.c(),jf(a,1),a.m(o.parentNode,o)):a&&(Hf(),Wf(a,1,1,(()=>{a=null})),Ff())},i(e){r||(jf(a),r=!0)},o(e){Wf(a),r=!1},d(e){e&&(Fh(t),Fh(n),Fh(o)),a&&a.d(e),i=!1,s()}}}function iC(e){let t,n,o=(e[6]||e[7])&&nC(e);return{c(){o&&o.c(),t=Yh()},m(e,r){o&&o.m(e,r),Hh(e,t,r),n=!0},p(e,[n]){e[6]||e[7]?o?(o.p(e,n),192&n&&jf(o,1)):(o=nC(e),o.c(),jf(o,1),o.m(t.parentNode,t)):o&&(Hf(),Wf(o,1,1,(()=>{o=null})),Ff())},i(e){n||(jf(o),n=!0)},o(e){Wf(o),n=!1},d(e){e&&Fh(t),o&&o.d(e)}}}function sC(e,n,o){let{platformBehaviour:r=ut.default}=n,{sourceLang:i=""}=n,{targetLang:s=""}=n,{sourceText:a=""}=n,{targetText:l=""}=n,c=!1,d=!1,u=!1,p=!1,m=!1;function g(){t({action:"dlStopSpeech"}),o(4,u=!1)}function h(e){try{t({action:"dlTrackInlineListen",payload:e})}catch(e){console.error(e)}}async function f(e,t,n){if("dlVoiceOverStopped"===e.action)o(4,u=!1),n();return!0}function _(e){try{t({action:"dlTrackVoiceOverStops",payload:e})}catch(e){console.error(e)}}chrome.runtime.onMessage.addListener(f),vf((()=>{u&&_({targetLang:s,targetLength:l.length,triggerType:R,nicheIntegration:r}),g(),chrome.runtime.onMessage.removeListener(f)}));return e.$$set=e=>{"platformBehaviour"in e&&o(12,r=e.platformBehaviour),"sourceLang"in e&&o(0,i=e.sourceLang),"targetLang"in e&&o(1,s=e.targetLang),"sourceText"in e&&o(2,a=e.sourceText),"targetText"in e&&o(3,l=e.targetText)},e.$$.update=()=>{51&e.$$.dirty&&(s&&t({action:"dlGetSupportedVoices"}).then((e=>{o(6,c=e.includes(["EN-US","EN-GB"].includes(s)?"EN":["PT-PT","PT-BR"].includes(s)?"PT":["ZH-CN","ZH-HANT"].includes(s)?"ZH":s)),o(7,d=e.includes(i))})),!p&&u?setTimeout((()=>{o(8,m=chrome.i18n.getMessage("ui_inline_translation_listen_stop"))}),1e3):o(8,m=!1))},[i,s,a,l,u,p,c,d,m,async function(e,n){u||(t({action:"dlTextToSpeech",payload:{text:e,lang:n}}),o(4,u=!0),h({targetLang:s,targetLength:l.length,actionType:Ve,nicheIntegration:r}),o(5,p=!1))},function(){u?(g(),o(4,u=!1),_({targetLang:s,targetLength:l.length,triggerType:A,nicheIntegration:r}),h({targetLang:s,targetLength:l.length,actionType:Ye,nicheIntegration:r})):o(5,p=!0)},function(){u||o(5,p=!0)},r,()=>o(5,p=!1)]}class aC extends t_{constructor(e){super(),e_(this,e,sC,iC,wh,{platformBehaviour:12,sourceLang:0,targetLang:1,sourceText:2,targetText:3})}}function lC(e){let t,n,o,r;return{c(){t=Wh("button"),Jh(t,"type","button"),Jh(t,"class","dl-replace-button svelte-9vlams"),t.disabled=n=e[3]||!e[2]||e[4]},m(n,i){Hh(n,t,i),o||(r=Zh(t,"click",Xh(Kh(e[5]))),o=!0)},p(e,o){12&o&&n!==(n=e[3]||!e[2]||e[4])&&(t.disabled=n)},d(e){e&&Fh(t),o=!1,r()}}}function cC(e){let t,n;return t=new fv({props:{tooltip:chrome.i18n.getMessage("ui_gdocs_replace_cta"),multiline:!0,zIndex:"0",isEnabled:!e[3]&&e[2]&&!e[4],$$slots:{default:[lC]},$$scope:{ctx:e}}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p(e,[n]){const o={};12&n&&(o.isEnabled=!e[3]&&e[2]&&!e[4]),524&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function dC(e,n,o){let r,i,s=gh,a=()=>(s(),s=bh(u,(e=>o(7,r=e))),u),l=gh,c=()=>(l(),l=bh(p,(e=>o(8,i=e))),p);e.$$.on_destroy.push((()=>s())),e.$$.on_destroy.push((()=>l()));let{websiteSettings:u}=n;a();let{settings:p}=n;c();let m,{onClose:g}=n,h=!1,f=r.translationState===d.anonymousUserMaxCharExceeded;return _f((()=>{o(2,m=Rn())})),e.$$set=e=>{"websiteSettings"in e&&a(o(0,u=e.websiteSettings)),"settings"in e&&c(o(1,p=e.settings)),"onClose"in e&&o(6,g=e.onClose)},[u,p,m,h,f,function(){const e=Mn().text;o(3,h=!0);const n=document.querySelector("deepl-gdocs-icon");n&&(n.applyReplacement(),g(),t({action:"dlTrackGDocsReplaceText",payload:{sourceLang:r.websiteLanguage,targetLang:i.selectedTargetLanguage,sourceLength:e.length,targetLength:r.translatedSnippet.length}}))},g]}class uC extends t_{constructor(e){super(),e_(this,e,dC,cC,wh,{websiteSettings:0,settings:1,onClose:6})}}function pC(e){let t,n,o=$n(e[4])+"";return{c(){t=Wh("div"),n=Wh("div"),Jh(t,"class","tooltip-linguee svelte-166oozy")},m(e,r){Hh(e,t,r),Bh(t,n),n.innerHTML=o},p(e,t){16&t&&o!==(o=$n(e[4])+"")&&(n.innerHTML=o)},d(e){e&&Fh(t)}}}function mC(e){let t,n;return t=new uC({props:{websiteSettings:e[0],settings:r_,onClose:e[5]}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.websiteSettings=e[0]),32&n&&(o.onClose=e[5]),t.$set(o)},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function gC(e){let t,n,o,r,i,s,a,l,c,d,u,p,m,g,h,f,_,v,y,w,b,E,x,S,T,$=e[4]&&pC(e);y=new aC({props:{sourceLang:e[7].websiteLanguage,targetLang:e[8].selectedTargetLanguage,sourceText:e[7].originalSnippet,targetText:e[7].translatedSnippet,platformBehaviour:e[6]}}),b=new J$({props:{targetLang:e[8].selectedTargetLanguage,text:e[7].translatedSnippet,platformBehaviour:e[6]}});let C=e[6]===ut.gdocs&&mC(e);return{c(){t=Wh("div"),n=Wh("div"),o=Wh("button"),r=Wh("span"),r.textContent=`${chrome.i18n.getMessage("ui_inline_translation_see_alternatives_v2")}`,i=Vh(),s=Wh("span"),a=Vh(),l=Wh("fragment"),c=Wh("div"),d=Wh("div"),d.textContent=`${chrome.i18n.getMessage("ui_inline_translation_dictionary")}`,u=Vh(),p=Wh("div"),m=Vh(),g=Wh("div"),f=Vh(),$&&$.c(),_=Vh(),v=Wh("div"),Xf(y.$$.fragment),w=Vh(),Xf(b.$$.fragment),E=Vh(),C&&C.c(),Jh(s,"class","icon icon-external-link svelte-166oozy"),Jh(o,"type","button"),Jh(o,"class","link svelte-166oozy"),Jh(n,"class","dl-link-container"),Jh(d,"class","dict-text svelte-166oozy"),Jh(p,"class","img_book svelte-166oozy"),sf(p,"shown-dict",e[2]),Jh(g,"class","img_arrow svelte-166oozy"),sf(g,"shown-dict",e[2]),Jh(c,"class",h="dl-dictionary "+(e[3]?"":"disable")+" "+(e[2]?"shown-dict":"")+" svelte-166oozy"),Jh(c,"data-qa","dl-toolbar-dictionary-button"),tf(l,"position","relative"),Jh(v,"class","dl-btn-group svelte-166oozy"),Jh(t,"class","dl-toolbar svelte-166oozy")},m(h,k){Hh(h,t,k),Bh(t,n),Bh(n,o),Bh(o,r),Bh(o,i),Bh(o,s),Bh(t,a),Bh(t,l),Bh(l,c),Bh(c,d),Bh(c,u),Bh(c,p),Bh(c,m),Bh(c,g),Bh(l,f),$&&$.m(l,null),Bh(t,_),Bh(t,v),Jf(y,v,null),Bh(v,w),Jf(b,v,null),Bh(v,E),C&&C.m(v,null),x=!0,S||(T=[Zh(o,"click",e[9]),Zh(c,"click",(function(){yh(e[1])&&e[1].apply(this,arguments)})),Zh(c,"mouseenter",e[10])],S=!0)},p(t,[n]){e=t,(!x||4&n)&&sf(p,"shown-dict",e[2]),(!x||4&n)&&sf(g,"shown-dict",e[2]),(!x||12&n&&h!==(h="dl-dictionary "+(e[3]?"":"disable")+" "+(e[2]?"shown-dict":"")+" svelte-166oozy"))&&Jh(c,"class",h),e[4]?$?$.p(e,n):($=pC(e),$.c(),$.m(l,null)):$&&($.d(1),$=null);const o={};128&n&&(o.sourceLang=e[7].websiteLanguage),256&n&&(o.targetLang=e[8].selectedTargetLanguage),128&n&&(o.sourceText=e[7].originalSnippet),128&n&&(o.targetText=e[7].translatedSnippet),64&n&&(o.platformBehaviour=e[6]),y.$set(o);const r={};256&n&&(r.targetLang=e[8].selectedTargetLanguage),128&n&&(r.text=e[7].translatedSnippet),64&n&&(r.platformBehaviour=e[6]),b.$set(r),e[6]===ut.gdocs?C?(C.p(e,n),64&n&&jf(C,1)):(C=mC(e),C.c(),jf(C,1),C.m(v,null)):C&&(Hf(),Wf(C,1,1,(()=>{C=null})),Ff())},i(e){x||(jf(y.$$.fragment,e),jf(b.$$.fragment,e),jf(C),x=!0)},o(e){Wf(y.$$.fragment,e),Wf(b.$$.fragment,e),Wf(C),x=!1},d(e){e&&Fh(t),$&&$.d(),Qf(y),Qf(b),C&&C.d(),S=!1,vh(T)}}}function hC(e,n,o){let r,i,s=gh,a=()=>(s(),s=bh(l,(e=>o(7,r=e))),l);Eh(e,r_,(e=>o(8,i=e))),e.$$.on_destroy.push((()=>s()));let{websiteSettings:l}=n;a();let{switchVisibilityDictionary:c}=n,{showDictionary:d=!1}=n,{enableDictionaryButton:u}=n,{dictionaryButtonError:p}=n,{onClose:m}=n,{platformBehaviour:g=ut.default}=n;return e.$$set=e=>{"websiteSettings"in e&&a(o(0,l=e.websiteSettings)),"switchVisibilityDictionary"in e&&o(1,c=e.switchVisibilityDictionary),"showDictionary"in e&&o(2,d=e.showDictionary),"enableDictionaryButton"in e&&o(3,u=e.enableDictionaryButton),"dictionaryButtonError"in e&&o(4,p=e.dictionaryButtonError),"onClose"in e&&o(5,m=e.onClose),"platformBehaviour"in e&&o(6,g=e.platformBehaviour)},[l,c,d,u,p,m,g,r,i,function(){const e={};r&&i&&(e.sourceLang=r.websiteLanguage,e.targetLang=i.selectedTargetLanguage,e.textToShare=r.originalSnippet),t({action:"dlExternalURLRedirect",payload:{destination:dy,...e}});try{t({action:"dlTrackUiAction",payload:{uiAction:ze,nicheIntegration:g}})}catch(e){console.error(e)}},function(){if(!u)try{t({action:"dlTrackDisabledDictionaryHover",payload:{}})}catch(e){console.log(e)}}]}class fC extends t_{constructor(e){super(),e_(this,e,hC,gC,wh,{websiteSettings:0,switchVisibilityDictionary:1,showDictionary:2,enableDictionaryButton:3,dictionaryButtonError:4,onClose:5,platformBehaviour:6})}}function _C(e){let t,n,o,r,i,s;return{c(){t=Wh("div"),n=Wh("button"),n.textContent=`${chrome.i18n.getMessage("ui_gdocs_write_accept")}`,o=Vh(),r=Wh("button"),r.textContent=`${chrome.i18n.getMessage("ui_gdocs_write_cancel")}`,Jh(n,"class","btn-primary svelte-1ou9pye"),Jh(r,"class","btn-secondary svelte-1ou9pye"),Jh(t,"class","dl-toolbar svelte-1ou9pye")},m(a,l){Hh(a,t,l),Bh(t,n),Bh(t,o),Bh(t,r),i||(s=[Zh(n,"click",e[0]),Zh(r,"click",e[1])],i=!0)},p:gh,i:gh,o:gh,d(e){e&&Fh(t),i=!1,vh(s)}}}function vC(e,t,n){let{onClose:o}=t;return e.$$set=e=>{"onClose"in e&&n(2,o=e.onClose)},[()=>{const e=document.getElementsByTagName("deepl-gdocs-icon")[0];e&&(e.applyReplacement(),e.trackDeeplWriteInsertCopy()),o()},()=>{const e=document.getElementsByTagName("deepl-gdocs-icon")[0];e&&e.trackDeeplWriteDiscardCopy(),o()},o]}class yC extends t_{constructor(e){super(),e_(this,e,vC,_C,wh,{onClose:2})}}function wC(e){let t,n,o,r,i,s=JSON.stringify(e[1](),void 0,2)+"";return{c(){t=Wh("p"),n=Gh(e[0]),o=Vh(),r=Wh("pre"),i=Gh(s),Jh(r,"class","debug-settings svelte-mu7va1")},m(e,s){Hh(e,t,s),Bh(t,n),Hh(e,o,s),Hh(e,r,s),Bh(r,i)},p(e,[t]){1&t&&Qh(n,e[0]),2&t&&s!==(s=JSON.stringify(e[1](),void 0,2)+"")&&Qh(i,s)},i:gh,o:gh,d(e){e&&(Fh(t),Fh(o),Fh(r))}}}function bC(e,t,n){let{headline:o="JSON block"}=t,{jsonData:r=()=>{}}=t;return e.$$set=e=>{"headline"in e&&n(0,o=e.headline),"jsonData"in e&&n(1,r=e.jsonData)},[o,r]}class EC extends t_{constructor(e){super(),e_(this,e,bC,wC,wh,{headline:0,jsonData:1})}}const xC=new Set(["BG","CS","DA","DE","EL","EN","ES","ET","FI","FR","FR_CA","HU","IT","JA","KO","LT","LV","MT","NL","PL","PT","PT_BR","PT_PT","RO","RU","SK","SL","SV","ZH"]),SC=new Map([["ZH_EN","chinese-english"],["EN_ZH","english-chinese"],["NL_EN","dutch-english"],["EN_NL","english-dutch"],["FR_EN","french-english"],["EN_FR","english-french"],["FR_DE","french-german"],["DE_FR","german-french"],["FR_PT","french-portuguese"],["PT_FR","portuguese-french"],["FR_ES","french-spanish"],["ES_FR","spanish-french"],["DE_EN","german-english"],["EN_DE","english-german"],["DE_PT","german-portuguese"],["PT_DE","portuguese-german"],["DE_ES","german-spanish"],["ES_DE","spanish-german"],["IT_EN","italian-english"],["EN_IT","english-italian"],["JA_EN","japanese-english"],["EN_JA","english-japanese"],["PL_EN","polish-english"],["EN_PL","english-polish"],["PT_EN","portuguese-english"],["EN_PT","english-portuguese"],["PT_ES","portuguese-spanish"],["ES_PT","spanish-portuguese"],["RU_EN","russian-english"],["EN_RU","english-russian"],["ES_EN","spanish-english"],["EN_ES","english-spanish"]]);function TC(e,t){return["EN-GB","EN-US"].includes(e)&&(e="EN"),["EN-GB","EN-US"].includes(t)&&(t="EN"),["PT-PT","PT-BR"].includes(e)&&(e="PT"),["PT-PT","PT-BR"].includes(t)&&(t="PT"),["ZH-CN","ZH-HANT"].includes(e)&&(e="ZH"),["ZH-CN","ZH-HANT"].includes(t)&&(t="ZH"),function(e,t){const n=`${e.toUpperCase()}_${t.toUpperCase()}`;return SC.get(n)}(e,t)}async function $C(e){let{interfaceLang:n,sourceLang:o,targetLang:r,text:i}=e;var s;n&&(s=n,xC.has(s.toUpperCase()))||(n="EN"),n=n.substring(0,2).toUpperCase(),await(Lf(),Cf);try{return await t({action:"dlGetDictionary",payload:{interfaceLang:n,sourceLang:o,targetLang:r,text:i}})}catch(e){throw t({action:"dlTrackLingueeErrorData",payload:{lingueeError:e.error}}),e}}function CC(e){let t,n,o,r,i=$n(e[0])+"";return{c(){t=Wh("div"),n=Wh("style"),n.textContent='.lmt__dict {\n  background-color: white;\n  text-align: start;\n  box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  -webkit-box-sizing: border-box;\n  position: relative;\n  font-weight: 400;\n  font-family: system-ui, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n  padding: 0 24px;\n  border: 0;\n  width: 100%;\n  font-size: 14px;\n}\n.lmt__dict #dictionary .dict_headline_for_0 {\n  display: none;\n}\n.lmt__dict #dictionary .dict_headline_for_1 {\n  display: none;\n}\n.lmt__dict h1 {\n  font-family: system-ui, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n  font-style: normal;\n  font-weight: normal;\n  line-height: 1.1;\n  font-size: 15px;\n}\n.lmt__dict h1.didyoumean {\n  display: none;\n}\n.lmt__dict #spelling_message_pane {\n  display: none;\n}\n.lmt__dict a {\n  text-decoration: none;\n  pointer-events: none;\n  font-family: system-ui, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n  color: #333;\n}\n.lmt__dict.lmt--hidden {\n  display: none;\n}\n.lmt__dict .semantic_field,\n.lmt__dict .sem,\n.lmt__dict .othertempora {\n  font-style: italic;\n  color: #999;\n  position: relative;\n  font-size: 12px;\n}\n.lmt__dict noindex:-o-prefocus,\n.lmt__dict .semantic_field,\n.lmt__dict .sem {\n  position: static;\n  z-index: 1;\n}\n.lmt__dict .placeholder {\n  font-size: smaller;\n}\n.lmt__dict #dictionary,\n.lmt__dict .dictionary {\n  font-weight: 400;\n  font-style: italic;\n  font-size: 15px;\n  color: #999;\n  line-height: 1.35em;\n  position: relative;\n}\n.lmt__dict #dictionary .inexact {\n  font-weight: 400;\n  font-style: italic;\n  font-size: 13px;\n  color: #999;\n  margin-top: 18px;\n}\n.lmt__dict .lemma {\n  vertical-align: top;\n  margin: 10px 0 25px 0;\n}\n.lmt__dict .lemma.last {\n  background: none;\n}\n.lmt__dict .lemma_desc {\n  padding: 0 0 10px 0;\n}\n.lmt__dict #dictionary h2.lemma_desc {\n  margin: 0px;\n}\n.lmt__dict .lemma_content {\n  padding: 0 0 0 0;\n  position: relative;\n  margin-bottom: 8px;\n}\n.lmt__dict .translation_group {\n  position: relative;\n  padding-top: 8px;\n}\n.lmt__dict .lemma_content .translation_group_line.with_pie {\n  padding-inline-start: 18px;\n  text-indent: -18px;\n}\n.lmt__dict .exact .translation.featured {\n  margin-bottom: 8px;\n  clear: both;\n}\n.lmt__dict .translation_desc {\n  padding: 2px 0 0 0;\n  display: inline-block;\n}\n.lmt__dict h3.translation_desc {\n  margin: 0;\n  font-weight: 400;\n}\n.lmt__dict #dictionary h3.translation_desc {\n  margin-bottom: 0;\n}\n.lmt__dict .group_line .translation_desc {\n  text-indent: 0;\n  display: inline;\n  padding: 2px 10px 1px 0;\n  padding-inline-start: 0;\n}\n.lmt__dict .comment {\n  margin: 15px 0 15px 0;\n  padding: 0 0 0 10px;\n}\n.lmt__dict .lemma_content {\n  padding-inline-start: 40px;\n}\n.lmt__dict .meaninggroup_description_inner {\n  margin-inline-start: -20px;\n  width: 20px;\n  display: inline-block;\n}\n.lmt__dict .meaninggroup_descriptions {\n  margin-inline-start: -20px;\n  display: inline-block;\n}\n.lmt__dict .tag_t {\n  color: #333;\n  font-style: normal;\n}\n.lmt__dict .tag_s {\n  color: #006494;\n  font-style: normal;\n}\n.lmt__dict .tag_lemma {\n  font-size: 16px;\n  font-weight: 400;\n  color: #006494;\n  font-style: normal;\n}\n.lmt__dict .tag_lemma a {\n  color: #006494;\n}\n.lmt__dict .inexact .tag_lemma {\n  font-size: 14px;\n}\n.lmt__dict .tag_type,\n.lmt__dict .tag_wordtype {\n  font-style: italic;\n  font-size: 14px;\n  margin-inline-end: 2px;\n  color: #999;\n  font-weight: 400;\n}\n.lmt__dict .inexact .tag_type,\n.lmt__dict .inexact .tag_wordtype,\n.lmt__dict .example_lines .tag_type,\n.lmt__dict .example_lines .tag_wordtype,\n.lmt__dict .tag_forms .tag_wordtype {\n  font-size: 14px;\n}\n.lmt__dict .tag_wordtype {\n  font-size: 14px;\n  margin-inline-start: 0;\n}\n.lmt__dict .tag_area,\n.lmt__dict .tag_usage {\n  color: #999;\n  font-style: italic;\n  font-size: 14px;\n  font-weight: 400;\n}\n.lmt__dict .inexact .tag_area,\n.lmt__dict .inexact .tag_usage,\n.lmt__dict .inexact .tag_forms {\n  font-size: 10px;\n}\n.lmt__dict .tag_c {\n  color: #999;\n  font-size: 15px;\n  font-style: italic;\n  font-weight: 400;\n}\n.lmt__dict .inexact .tag_c {\n  font-size: 13px;\n}\n.lmt__dict .tag_forms {\n  font-size: 13px;\n  color: #999;\n  font-weight: 400;\n}\n.lmt__dict .inexact .tag_forms {\n  display: none;\n}\n.lmt__dict .lemma_desc .tag_forms {\n  display: none;\n  padding-inline-start: 3px;\n}\n.lmt__dict .tag_trans_src_context {\n  color: #006494;\n  font-style: normal;\n  padding-inline-end: 10px;\n  font-size: 14px;\n}\n.lmt__dict .tag_trans_src_context:before {\n  content: "(";\n}\n.lmt__dict .tag_trans_src_context:after {\n  content: ")";\n}\n.lmt__dict .tag_lemma_context {\n  padding-inline-start: 5px;\n  padding-inline-end: 5px;\n  font-size: 14px;\n}\n.lmt__dict .inexact .tag_lemma_context {\n  padding-inline-start: 5px;\n  font-size: 13px;\n}\n.lmt__dict .tag_lemma_context .placeholder {\n  font-size: inherit;\n}\n.lmt__dict #dictionary .tag_forms h3 {\n  display: inline;\n  padding-inline-end: 10px;\n  font-size: 12px;\n  margin: 0 0 0 0;\n  color: #999;\n}\n.lmt__dict .tag_formname {\n  color: #999;\n}\n.lmt__dict .tag_c,\n.lmt__dict .tag_t,\n.lmt__dict .tag_s,\n.lmt__dict .tag_area,\n.lmt__dict .tag_usage {\n  font-size: 14px;\n}\n.lmt__dict .tag_trans {\n  font-size: 14px;\n  color: #333;\n  font-style: normal;\n  display: inline-block;\n  min-height: 20px;\n}\n.lmt__dict .inexact .tag_trans {\n  font-size: 14px;\n  color: #333;\n  font-style: normal;\n}\n.lmt__dict .inexact .tag_trans a {\n  color: #333;\n}\n.lmt__dict .exact .tag_trans a.featured {\n  line-height: 24px;\n}\n.lmt__dict .meaninggroup_notfirst {\n  padding-top: 8px;\n}\n.lmt__dict .meaninggroup_editing.meaninggroup_notfirst {\n  padding-top: 20px;\n}\n.lmt__dict .meaning_class_header {\n  padding-inline-start: 5px;\n  padding-top: 5px;\n}\n.lmt__dict .meaninggroup_outer_list {\n  list-style-type: none;\n  padding: 0;\n  margin: 0;\n  display: inline;\n}\n.lmt__dict .meaninggroup_inner_list {\n  list-style-type: none;\n  padding: 0;\n  margin: 0;\n}\n.lmt__dict .meaninggroup_inner_list li {\n  display: inline;\n}\n.lmt__dict .meaninggroup_problematic .meaninggroup_description {\n  color: #e00;\n}\n.lmt__dict .meaninggroup_problematic .meaninggroup_description_index {\n  color: #e00;\n}\n.lmt__dict .isForeignTerm .meaninggroup_synonym,\n.lmt__dict .isForeignTerm .meaninggroup_valency,\n.lmt__dict .isForeignTerm .meaninggroup_valency,\n.lmt__dict .meaninggroup_descriptions {\n  color: #333;\n}\n.lmt__dict .isMainTerm .meaninggroup_synonym,\n.lmt__dict .isMainTerm .meaninggroup_valency,\n.lmt__dict .isMainTerm .meaninggroup_valency,\n.lmt__dict .meaninggroup_descriptions {\n  color: #265182;\n}\n.lmt__dict .meaninggroup_synonym {\n  font-size: 15px;\n  font-weight: 400;\n  font-style: normal;\n}\n.lmt__dict .meaninggroup_preliminary {\n  font-size: 15px;\n  font-weight: 400;\n  font-style: normal;\n  color: green;\n}\n.lmt__dict .meaninggroup_descriptions {\n  font-size: 15px;\n  font-weight: 400;\n  font-style: normal;\n}\n.lmt__dict .meaninggroup_valency {\n  font-size: 15px;\n  font-weight: 400;\n  color: #333;\n  font-style: normal;\n}\n.lmt__dict .meaninggroup_usage {\n  color: #999;\n}\n.lmt__dict .meaninggroup_areas {\n  color: #999;\n  font-style: italic;\n}\n.lmt__dict .meaninggroup_editing .meaninggroup_descriptions,\n.lmt__dict .meaninggroup_editing .meaninggroup_synonym,\n.lmt__dict .meaninggroup_editing .meaninggroup_usage,\n.lmt__dict .meaninggroup_editing .meaninggroup_synonym,\n.lmt__dict .meaninggroup_editing .meaninggroup_description_index,\n.lmt__dict .meaninggroup_editing .meaninggroup_preliminary {\n  font-weight: 600;\n}\n.lmt__dict .meaninggroups_remark {\n  margin-inline-start: -20px;\n}\n.lmt__dict .inflectioninfo,\n.lmt__dict .inflectioninfo .tag_c {\n  color: #006494;\n  font-style: normal;\n  font-size: 13px;\n}\n.lmt__dict .isForeignTerm .inflectioninfo {\n  color: #333;\n}\n.lmt__dict .isForeignTerm .tag_lemma,\n.lmt__dict .isForeignTerm .tag_lemma a,\n.lmt__dict .isForeignTerm .tag_s,\n.lmt__dict .isForeignTerm .tag_s a,\n.lmt__dict .isForeignTerm .tag_trans_src_context {\n  color: #333;\n}\n.lmt__dict .isForeignTerm .tag_trans,\n.lmt__dict .isForeignTerm .tag_trans a,\n.lmt__dict .isForeignTerm .tag_t,\n.lmt__dict .isForeignTerm .tag_t a,\n.lmt__dict .isForeignTerm .tag_trans {\n  color: #006494;\n}\n.lmt__dict .spell_suggestion.isForeignTerm,\n.lmt__dict .spell_suggestion.isForeignTerm .corrected {\n  color: #333;\n}\n.lmt__dict .spell_suggestion,\n.lmt__dict .spell_suggestion .corrected {\n  color: #006494;\n}\n.lmt__dict .line .translation {\n  display: inline-block;\n  line-height: 1em;\n  text-indent: 0;\n}\n.lmt__dict .line.inflectioninfo {\n  display: none;\n}\n.lmt__dict .sep {\n  font-size: 12px;\n  padding-inline-start: 10px;\n  color: #6e6e6e;\n}\n.lmt__dict .tag_forms .sep {\n  padding-inline-start: 5px;\n}\n.lmt__dict .inexact .sep {\n  font-size: 9px;\n}\n.lmt__dict .dash {\n  padding-inline-end: 10px;\n}\n.lmt__dict .exact .lemma_desc .dash {\n  display: none;\n}\n.lmt__dict .lemma_desc .dash {\n  font-size: 14px;\n  font-style: normal;\n  color: #999;\n  padding-inline-start: 7px;\n  padding-inline-end: 7px;\n}\n.lmt__dict .inexact .lemma_desc {\n  padding: 0 0 0 0;\n}\n.lmt__dict .inexact .translation_lines,\n.lmt__dict .inexact .translation_group,\n.lmt__dict .inexact .line {\n  display: inline;\n}\n.lmt__dict .inexact .lemma_content {\n  display: inline;\n}\n.lmt__dict .inexact .lemma_desc,\n.lmt__dict #dictionary .inexact h2.lemma_desc {\n  display: inline-block;\n  padding-inline-end: 0;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 400;\n}\n.lmt__dict .inexact .lemma_content {\n  padding-inline-start: 0;\n}\n.lmt__dict .inexact .lemma {\n  margin: 1px 0 0 0;\n  text-indent: -10px;\n  padding-inline-start: 20px;\n}\n.lmt__dict .inexact div.singleline {\n  text-indent: 0;\n  padding-inline-start: 0;\n}\n.lmt__dict #dictionary > .expandable > .versionShort > .example_lines {\n  padding-bottom: 15px;\n}\n.lmt__dict #dictionary h3 {\n  margin-bottom: 2px;\n  font-size: 14px;\n}\n.lmt__dict a.audio {\n  display: none;\n  position: relative;\n  cursor: pointer;\n  top: 3px;\n  width: 19px;\n  height: 17px;\n  background-position: -40px -38px;\n  opacity: 0.5;\n}\n.lmt__dict .ie7 a.audio,\n.lmt__dict .ie8 a.audio {\n  filter: alpha(opacity=50);\n  background-position: -120px -92px;\n}\n.lmt__dict .inexact a.audio {\n  display: none;\n}\n.lmt__dict .inexact .lemma_desc a.audio,\n.lmt__dict .inexact .translation.expanded a.audio,\n.lmt__dict .inexact .translation.contracting a.audio {\n  display: inline-block;\n}\n.lmt__dict .exact .tag_lemma a.audio {\n  top: 2px;\n}\n.lmt__dict .mouse_device a.audio {\n  opacity: 0.45;\n}\n.lmt__dict .mouse_device a.audio:hover,\n.lmt__dict .mouse_device a.expand_i:hover {\n  opacity: 1;\n}\n.lmt__dict .grammar_info {\n  position: relative;\n  top: -4px;\n  vertical-align: middle;\n  font-size: 0.7em;\n  color: #999;\n  font-style: italic;\n  margin-inline-start: 1px;\n  display: inline-block;\n  text-indent: 0;\n}\n.lmt__dict .exact .grammar_info {\n  top: -5px;\n  margin-inline-start: 2px;\n}\n.lmt__dict #dictionary h2,\n.lmt__dict #dictionary h3 {\n  color: #333;\n  font-weight: 400;\n}\n.lmt__dict #dictionary h2 {\n  font-size: 20px;\n  margin-bottom: 20px;\n}\n.lmt__dict #dictionary .tag_forms h2 {\n  font-size: 14px;\n}\n.lmt__dict .translation_row.singleline {\n  height: 20px;\n}\n.lmt__dict .singleline {\n  position: relative;\n  padding-inline-end: 20px;\n  height: 20px;\n  overflow: hidden;\n}\n.lmt__dict .singleline > * {\n  line-height: 50px;\n  position: relative;\n  top: -15px;\n}\n.lmt__dict .ie8 .singleline > * {\n  top: -13px;\n  height: 22px;\n}\n.lmt__dict .singleline .tag_s {\n  white-space: nowrap;\n}\n.lmt__dict .expandable {\n  position: relative;\n}\n.lmt__dict .example_lines .expandM,\n.lmt__dict .inexact .expandM {\n  display: block;\n  height: 15px;\n  padding-inline-start: 0px;\n  opacity: 0.7;\n}\n.lmt__dict a.expand_i {\n  width: 17px;\n  height: 17px;\n  position: relative;\n  top: 4px;\n  display: inline-block;\n  background-position: -20px -36px;\n  cursor: pointer;\n  opacity: 0.55;\n  filter: alpha(opacity=55);\n}\n.lmt__dict .translation a.expand_i {\n  background-color: white;\n}\n.lmt__dict .example {\n  padding-inline-start: 45px;\n  margin-top: 8px;\n  margin-bottom: 12px;\n}\n.lmt__dict .expertmode .example {\n  padding-inline-start: 50px;\n}\n.lmt__dict .example .tag_e {\n  display: block;\n  position: relative;\n  max-width: 700px;\n  line-height: 1.1em;\n}\n.lmt__dict .example .tag_s {\n  width: 47%;\n  float: inline-start;\n}\n.lmt__dict .example .tag_t {\n  width: 50%;\n  float: inline-end;\n}\n.lmt__dict .example .tag_e_end {\n  display: block;\n  clear: both;\n}\n.lmt__dict .example .dash {\n  display: none;\n}\n.lmt__dict #soundFlags {\n  display: none;\n}\n.lmt__dict .hidden,\n.lmt__dict #lingueecontent .hidden,\n.lmt__dict #attribution.hidden {\n  display: none;\n}\n.lmt__dict .notascommon {\n  display: block;\n  padding-inline-end: 10px;\n  font-size: 14px;\n  line-height: 1.4em;\n}\n.lmt__dict .tag_wordtype {\n  display: inline-block;\n}\n.lmt__dict .tag_forms {\n  display: inline-block;\n}\n.lmt__dict .inexact .lemma {\n  padding-inline-start: 20px;\n}\n.lmt__dict .example_lines > .expandable > .versionshort > .expandM {\n  margin-inline-start: 0;\n}\n.lmt__dict .source_url_spacer {\n  margin-inline-start: 0;\n}\n.lmt__dict .example {\n  padding-inline-start: 30px;\n}\n.lmt__dict .translation_desc {\n  padding-bottom: 0;\n}\n.lmt__dict .translation a.expand_i,\n.lmt__dict .translation a.audio,\n.lmt__dict .inexact .lemma_desc a.audio,\n.lmt__dict .inexact .translation.expanded a.audio {\n  display: none;\n}\n.lmt__dict .inexact .lemma {\n  padding-inline-start: 20px;\n}\n.lmt__dict .example_lines > .expandable > .versionshort > .expandM {\n  margin-inline-start: 0;\n}\n.lmt__dict .source_url_spacer {\n  margin-inline-start: 0;\n}\n.lmt__dict .example {\n  padding-inline-start: 24px;\n}\n.lmt__dict .lemma_desc {\n  margin: 0;\n}\n.lmt__dict .lemma {\n  margin-top: 0;\n}\n.lmt__dict .source {\n  font-size: 24px;\n  color: #d0d0d0;\n}\n.lmt__dict .source .tag_lemma {\n  font-size: 20px;\n  font-weight: 400;\n}\n.lmt__dict .lemma_content {\n  padding-inline-start: 20px;\n  padding-inline-end: 0px;\n}\n.lmt__dict .source .tag_s,\n.lmt__dict .source .tag_usage,\n.lmt__dict .source .tag_formname,\n.lmt__dict .source .formlink,\n.lmt__dict .source .tag_forms,\n.lmt__dict .source .grammar_info {\n  color: #999 !important;\n}\n.lmt__dict .translation:first-of-type h3 {\n  line-height: 1;\n}\n.lmt__dict .translation:first-of-type h3 .dictlink {\n  font-size: 20px;\n}\n.lmt__dict .source {\n  position: relative;\n}\n.lmt__dict .sourceHint {\n  display: none;\n}\n.lmt__dict .notascommon {\n  color: #aaa;\n}\n.lmt__dict .tag_type,\n.lmt__dict .tag_wordtype,\n.lmt__dict .source .tag_s,\n.lmt__dict .source .tag_usage,\n.lmt__dict .source .tag_formname,\n.lmt__dict .source .tag_wordtype,\n.lmt__dict .source .formlink,\n.lmt__dict .source .tag_forms,\n.lmt__dict .source .grammar_info,\n.lmt__dict .tag_c {\n  font-style: normal;\n}\n.lmt__dict .tag_forms {\n  font-style: normal;\n}\n.lmt__dict .tag_forms .tag_s {\n  padding-inline-start: 0px;\n  margin-inline-end: -19px;\n}\n\n#LMT__dict_right {\n  margin-inline-start: 59px;\n}\n\n@keyframes lmt__dict__appear_animation {\n  0% {\n    transform: scale(0.99) translateY(-5px);\n    opacity: 0;\n  }\n  100% {\n    transform: scale(1);\n    opacity: 1;\n  }\n}\n.lmt__dict.lmt--is-dict-ready {\n  display: block;\n}\n.lmt__dict .lmt__dict__empty_state {\n  display: none;\n  padding: 16px 24px;\n  color: #6e6e6e;\n  font-size: 16px;\n}\n.lmt__dict #result_container,\n.lmt__dict #wikipedia-body,\n.lmt__dict #wikipedia-header,\n.lmt__dict .copyrightLineOuter,\n.lmt__dict .openTriangle,\n.lmt__dict .expandM {\n  display: none !important;\n}',o=Vh(),r=new lf(!1),Jh(n,"lang","scss"),r.a=null},m(e,s){Hh(e,t,s),Bh(t,n),Bh(t,o),r.m(i,t)},p(e,[t]){1&t&&i!==(i=$n(e[0])+"")&&r.p(i)},i:gh,o:gh,d(e){e&&Fh(t)}}}function kC(e,t,n){let{html:o}=t;return e.$$set=e=>{"html"in e&&n(0,o=e.html)},[o]}class LC extends t_{constructor(e){super(),e_(this,e,kC,CC,wh,{html:0})}}function MC(e){let t,n,o,r;return n=new LC({props:{html:e[1]}}),{c(){t=Wh("div"),Xf(n.$$.fragment),Jh(t,"class","dl__dictionary svelte-1n7xyu1")},m(e,o){Hh(e,t,o),Jf(n,t,null),r=!0},p(e,t){const o={};2&t&&(o.html=e[1]),n.$set(o)},i(e){r||(jf(n.$$.fragment,e),o||Mf((()=>{o=Gf(t,N_,{y:-50,duration:700}),o.start()})),r=!0)},o(e){Wf(n.$$.fragment,e),r=!1},d(e){e&&Fh(t),Qf(n)}}}function IC(e){let t,n,o=e[0]&&e[1]&&e[2]&&MC(e);return{c(){t=Wh("div"),o&&o.c()},m(e,r){Hh(e,t,r),o&&o.m(t,null),n=!0},p(e,[n]){e[0]&&e[1]&&e[2]?o?(o.p(e,n),7&n&&jf(o,1)):(o=MC(e),o.c(),jf(o,1),o.m(t,null)):o&&(Hf(),Wf(o,1,1,(()=>{o=null})),Ff())},i(e){n||(jf(o),n=!0)},o(e){Wf(o),n=!1},d(e){e&&Fh(t),o&&o.d()}}}function AC(e,n,o){let r,i,s,a,l,{originalSnippet:c}=n,{sourceLanguage:d}=n,{targetLanguage:u}=n,{websiteLanguage:p}=n,{showDictionary:m=!1}=n,{setDictionaryLauncherState:g}=n,{resetDictionary:h=()=>{}}=n,f="",_="",v="";function y(){if(c&&c!==v){v=c;!function(e){const n=e.enabled?O:N,o=e.langPair;try{t({action:"dltrackDictionaryStatus",payload:{status:n,langPair:o}})}catch(e){console.log(e)}}({enabled:!!f&&!!i&&a&&l,langPair:i})}}async function w(){o(10,_="");const e={interfaceLang:chrome.i18n.getUILanguage(),sourceLang:p,targetLang:u,text:s};try{o(1,f=await $C(e))}catch(e){o(10,_=function(e,t){let n=chrome.i18n.getMessage("ui_inline_translation_problem_loading_dictionary");return e==__&&(n=chrome.i18n.getMessage("ui_inline_translation_no_entry_dictionary",t)),n}(e.error,s))}finally{y(),h()}}return e.$$set=e=>{"originalSnippet"in e&&o(3,c=e.originalSnippet),"sourceLanguage"in e&&o(4,d=e.sourceLanguage),"targetLanguage"in e&&o(5,u=e.targetLanguage),"websiteLanguage"in e&&o(6,p=e.websiteLanguage),"showDictionary"in e&&o(0,m=e.showDictionary),"setDictionaryLauncherState"in e&&o(7,g=e.setDictionaryLauncherState),"resetDictionary"in e&&o(8,h=e.resetDictionary)},e.$$.update=()=>{var n;if(8&e.$$.dirty&&(o(12,a=!!(n=c)&&1===n.trim().split(" ").length),o(13,l=function(e){return!!e&&e.trim().length<200}(c))),48&e.$$.dirty&&(u!==d&&d?o(2,i=TC(d,u)):(o(2,i=""),o(9,r=""))),14604&e.$$.dirty&&(c&&c.trim()!==s?(o(11,s=c.trim()),o(10,_=""),i&&a&&l?(o(9,r=i),w()):(o(1,f=""),y(),h())):h()),12804&e.$$.dirty&&i!=r&&i&&a&&l&&(o(10,_=""),w()),5254&e.$$.dirty){let e="";_?e=_:a?i?f||(e=chrome.i18n.getMessage("ui_inline_translation_problem_loading_dictionary")):e=chrome.i18n.getMessage("ui_inline_translation_unavailable_lang_pair"):e=chrome.i18n.getMessage("ui_inline_translation_translate_only_one_word");g({enableDictionaryButton:!!f&&a&&!!i&&!_,dictionaryButtonError:e})}if(1&e.$$.dirty&&m)try{t({action:"dlTrackOpenDictionarySection",payload:{}})}catch(e){console.log(e)}},[m,f,i,c,d,u,p,g,h,r,_,s,a,l]}class RC extends t_{constructor(e){super(),e_(this,e,AC,IC,wh,{originalSnippet:3,sourceLanguage:4,targetLanguage:5,websiteLanguage:6,showDictionary:0,setDictionaryLauncherState:7,resetDictionary:8})}}function OC(e,t,n){const o=e.slice();return o[31]=t[n],o}function NC(e,t,n){const o=e.slice();return o[34]=t[n],o}function DC(e,t,n){const o=e.slice();return o[37]=t[n],o}function PC(e){let t,n,o,r,i,s=!rn.includes(e[4].selectedTargetLanguage),a=e[6]&&zC(e),l=s&&UC(e),c=e[4].gDocsSegmentation===on&&HC(e),d=e[4].gDocsSegmentation===nn&&WC(e);return{c(){t=Wh("div"),n=Wh("div"),a&&a.c(),o=Vh(),l&&l.c(),r=Vh(),c&&c.c(),i=Vh(),d&&d.c(),Jh(n,"class","dl-segmentation-selector svelte-fxpmgu")},m(e,s){Hh(e,t,s),Bh(t,n),a&&a.m(n,null),Bh(n,o),l&&l.m(n,null),Bh(t,r),c&&c.m(t,null),Bh(t,i),d&&d.m(t,null)},p(e,r){e[6]?a?a.p(e,r):(a=zC(e),a.c(),a.m(n,o)):a&&(a.d(1),a=null),16&r[0]&&(s=!rn.includes(e[4].selectedTargetLanguage)),s?l?l.p(e,r):(l=UC(e),l.c(),l.m(n,null)):l&&(l.d(1),l=null),e[4].gDocsSegmentation===on?c?c.p(e,r):(c=HC(e),c.c(),c.m(t,i)):c&&(c.d(1),c=null),e[4].gDocsSegmentation===nn?d?d.p(e,r):(d=WC(e),d.c(),d.m(t,null)):d&&(d.d(1),d=null)},d(e){e&&Fh(t),a&&a.d(),l&&l.d(),c&&c.d(),d&&d.d()}}}function BC(e){let t;return{c(){t=Wh("div"),t.innerHTML='<div class="skeleton-item svelte-fxpmgu"><div class="skeleton-subitem svelte-fxpmgu"></div></div> <div class="skeleton-item svelte-fxpmgu"><div class="skeleton-subitem svelte-fxpmgu"></div></div> <div class="skeleton-item svelte-fxpmgu"><div class="skeleton-subitem svelte-fxpmgu"></div> <div class="skeleton-subitem is-short-line svelte-fxpmgu"></div></div>',Jh(t,"class","dl-alternatives-loading-skeleton svelte-fxpmgu")},m(e,n){Hh(e,t,n)},p:gh,d(e){e&&Fh(t)}}}function zC(e){let t,n,o;return{c(){t=Wh("button"),t.textContent=`${chrome.i18n.getMessage("ui_alternatives_segmentation_sentence")}`,Jh(t,"class","segmentation-button sentence svelte-fxpmgu"),sf(t,"active",e[4].gDocsSegmentation===on)},m(r,i){Hh(r,t,i),n||(o=Zh(t,"click",e[22]),n=!0)},p(e,n){16&n[0]&&sf(t,"active",e[4].gDocsSegmentation===on)},d(e){e&&Fh(t),n=!1,o()}}}function UC(e){let t,n,o;return{c(){t=Wh("button"),t.textContent=`${chrome.i18n.getMessage("ui_alternatives_segmentation_word")}`,Jh(t,"class","segmentation-button word svelte-fxpmgu"),sf(t,"active",e[4].gDocsSegmentation===nn)},m(r,i){Hh(r,t,i),n||(o=Zh(t,"click",e[23]),n=!0)},p(e,n){16&n[0]&&sf(t,"active",e[4].gDocsSegmentation===nn)},d(e){e&&Fh(t),n=!1,o()}}}function HC(e){let t,n,o=Zf(e[2]),r=[];for(let t=0;t<o.length;t+=1)r[t]=jC(NC(e,o,t));return{c(){t=Wh("div");for(let e=0;e<r.length;e+=1)r[e].c();Jh(t,"class","alternatives svelte-fxpmgu"),Jh(t,"dir",n=eo(e[0].targetLang))},m(e,n){Hh(e,t,n);for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(t,null)},p(e,i){if(516&i[0]){let n;for(o=Zf(e[2]),n=0;n<o.length;n+=1){const s=NC(e,o,n);r[n]?r[n].p(s,i):(r[n]=jC(s),r[n].c(),r[n].m(t,null))}for(;n<r.length;n+=1)r[n].d(1);r.length=o.length}1&i[0]&&n!==(n=eo(e[0].targetLang))&&Jh(t,"dir",n)},d(e){e&&Fh(t),jh(r,e)}}}function FC(e){let t,n,o=Un(e[37].text)+"";return{c(){t=Wh("span"),n=Gh(o),Jh(t,"class","svelte-fxpmgu"),sf(t,"highlighted-text-chunk",e[37].isHighlighted)},m(e,o){Hh(e,t,o),Bh(t,n)},p(e,r){4&r[0]&&o!==(o=Un(e[37].text)+"")&&Qh(n,o),4&r[0]&&sf(t,"highlighted-text-chunk",e[37].isHighlighted)},d(e){e&&Fh(t)}}}function jC(e){let t,n,o,r,i=Zf(e[34].textChunks),s=[];for(let t=0;t<i.length;t+=1)s[t]=FC(DC(e,i,t));function a(){return e[24](e[34])}return{c(){t=Wh("div");for(let e=0;e<s.length;e+=1)s[e].c();n=Vh(),Jh(t,"class","sentence-alternatives alternative svelte-fxpmgu"),Jh(t,"tabindex","-1"),Jh(t,"aria-hidden","true")},m(e,i){Hh(e,t,i);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(t,null);Bh(t,n),o||(r=Zh(t,"click",a),o=!0)},p(o,r){if(e=o,4&r[0]){let o;for(i=Zf(e[34].textChunks),o=0;o<i.length;o+=1){const a=DC(e,i,o);s[o]?s[o].p(a,r):(s[o]=FC(a),s[o].c(),s[o].m(t,n))}for(;o<s.length;o+=1)s[o].d(1);s.length=i.length}},d(e){e&&Fh(t),jh(s,e),o=!1,r()}}}function WC(e){let t,n,o=Zf(e[3]),r=[];for(let t=0;t<o.length;t+=1)r[t]=qC(OC(e,o,t));return{c(){t=Wh("div");for(let e=0;e<r.length;e+=1)r[e].c();Jh(t,"class","alternatives svelte-fxpmgu"),Jh(t,"dir",n=eo(e[0].targetLang))},m(e,n){Hh(e,t,n);for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(t,null)},p(e,i){if(1032&i[0]){let n;for(o=Zf(e[3]),n=0;n<o.length;n+=1){const s=OC(e,o,n);r[n]?r[n].p(s,i):(r[n]=qC(s),r[n].c(),r[n].m(t,null))}for(;n<r.length;n+=1)r[n].d(1);r.length=o.length}1&i[0]&&n!==(n=eo(e[0].targetLang))&&Jh(t,"dir",n)},d(e){e&&Fh(t),jh(r,e)}}}function qC(e){let t,n,o,r,i,s=Un(e[31].text)+"";function a(){return e[25](e[31])}return{c(){t=Wh("div"),n=Gh(s),o=Vh(),Jh(t,"role","button"),Jh(t,"class","word-alternative alternative svelte-fxpmgu"),Jh(t,"tabindex","-1"),Jh(t,"aria-hidden","true")},m(e,s){Hh(e,t,s),Bh(t,n),Bh(t,o),r||(i=Zh(t,"click",a),r=!0)},p(t,o){e=t,8&o[0]&&s!==(s=Un(e[31].text)+"")&&Qh(n,s)},d(e){e&&Fh(t),r=!1,i()}}}function GC(e){let t,n,o,r,i;function s(e,t){return e[5]?BC:e[1]?PC:void 0}let a=s(e),l=a&&a(e);return{c(){t=Wh("div"),n=Wh("button"),n.textContent=`${chrome.i18n.getMessage("ui_alternatives_title")}`,o=Vh(),l&&l.c(),Jh(n,"class","dl-toggle-show-alternatives svelte-fxpmgu"),sf(n,"is-showing",e[1]),Jh(t,"class","dl-alternatives-container svelte-fxpmgu")},m(s,a){Hh(s,t,a),Bh(t,n),Bh(t,o),l&&l.m(t,null),r||(i=Zh(n,"click",e[21]),r=!0)},p(e,o){2&o[0]&&sf(n,"is-showing",e[1]),a===(a=s(e))&&l?l.p(e,o):(l&&l.d(1),l=a&&a(e),l&&(l.c(),l.m(t,null)))},i:gh,o:gh,d(e){e&&Fh(t),l&&l.d(),r=!1,i()}}}function VC(e,n,o){let r;const i=bf("deepl_settings");Eh(e,i,(e=>o(4,r=e)));let{textProcessingMode:s=pt.translate}=n,{contentProcessBuildingBlocks:l}=n,{buildAndSetReplaceData:c}=n,{activeSentence:d}=n,{activeWord:u}=n,{shouldMarkWordOrSentenceAsActive:p}=n,{registerAlternativesCallbacks:m}=n,{clearAlternativesCallbacks:g}=n,h=!1,f=!1,_=[],v=[],y=!0;const w=()=>{if(h)if(r.gDocsSegmentation===on&&y)d||(o(14,d=0),o(15,u=0)),b(d);else if(r.gDocsSegmentation===nn){u||o(15,u=0),d||o(14,d=0);const e=l.processedSentences[d].text.split(/\s+/)[u],t=Hn(l.processedSentences[d].text).find((t=>t.text===e));E(d,u,t)}},b=async e=>{if(r.gDocsSegmentation===on){o(14,d=e),o(1,h=!0),o(2,_=[]),o(5,f=!0);try{const n=await t({action:"dlRequestGDocsSentenceAlternatives",payload:{mode:s,sourceLang:l.detectedSourceLanguage,targetLang:l.targetLang,sentence:l.sentences[e],contextBefore:e>0&&l.sentences[e-1].text,contextAfter:e<l.sentences.length-1&&l.sentences[e+1].text}});for(const t of n.result.translations[0].beams)t.sentences[0].text!==l.processedSentences[e].text&&_.length<4&&o(2,_=[..._,{text:t.sentences[0].text,textChunks:F_(t.sentences[0].text,l.processedSentences[e].text)}]);L(on)}catch(e){console.error(e)}o(5,f=!1)}},E=async(e,n,i)=>{if(r.gDocsSegmentation===nn){o(14,d=e),o(15,u=n),o(1,h=!0),o(3,v=[]),o(5,f=!0);try{const n=await t({action:"dlRequestGDocsWordAlternatives",payload:{mode:s,sourceLang:l.detectedSourceLanguage,targetLang:l.targetLang,sentence:l.sentences[e],contextBefore:e>0&&l.sentences[e-1].text,contextAfter:e<l.sentences.length-1&&l.sentences[e+1].text,partialTranslation:l.processedSentences[e].text.substring(0,i.offsetStartRaw)}});for(const t of n.result.translations[0].beams)if(t.sentences[0].text!==l.processedSentences[e].text.substring(0,i.offsetStartRaw+i.offsetLengthRaw)&&v.length<4){const e=t.sentences[0].text.substring(i.offsetStartRaw);e.trim().length>0&&o(3,v=[...v,{text:`${e}...`,partialTranslation:t.sentences[0].text}])}L(nn)}catch(e){console.error(e)}o(5,f=!1)}},x=e=>{o(0,l.processedSentences[d].text=e,l),o(2,_=[]),c(),k(on)},S=async e=>{o(0,l.processedSentences[d].text=e,l),o(3,v=[]);try{const n=await t({action:"dlRequestGDocsSentenceFromPartialTranslation",payload:{mode:s,sourceLang:l.detectedSourceLanguage,targetLang:l.targetLang,sentence:l.sentences[d],contextBefore:d>0&&l.sentences[d-1].text,contextAfter:d<l.sentences.length-1&&l.sentences[d+1].text,partialTranslation:e}});o(0,l.processedSentences[d].text=n.result.translations[0].beams[0].sentences[0].text,l),c(),k(nn)}catch(e){console.error(e)}},T=()=>{Lh(i,r.gDocsSegmentation=on,r),d||(o(14,d=0),o(15,u=0)),C(on)},$=()=>{let e;Lh(i,r.gDocsSegmentation=nn,r),u||o(15,u=0),e=l.processedSentences[d].text.split(/\s+/)[u];const t=Hn(l.processedSentences[d].text).find((t=>t.text===e));E(d,u,t),C(nn)},C=async e=>await M({eventType:Ut,alternativesSegmentation:e}),k=async e=>await M({eventType:Ht,alternativesSegmentation:e}),L=async e=>await M({eventType:zt,alternativesSegmentation:e}),M=async({eventType:e,alternativesSegmentation:n})=>await t({action:"dlTrackAlternativesEvent",payload:{eventType:e,alternativesMetaData:{sourceLang:l.detectedSourceLanguage,targetLang:l.targetLang,nicheIntegration:ut.gdocs,contentProcessingMode:s,alternativesSegmentation:n}}});_f((()=>{Lh(i,r.gDocsSegmentation=on,r),m({showSentenceAlternatives:b,showWordAlternatives:E})})),vf((()=>{g()}));return e.$$set=e=>{"textProcessingMode"in e&&o(17,s=e.textProcessingMode),"contentProcessBuildingBlocks"in e&&o(0,l=e.contentProcessBuildingBlocks),"buildAndSetReplaceData"in e&&o(18,c=e.buildAndSetReplaceData),"activeSentence"in e&&o(14,d=e.activeSentence),"activeWord"in e&&o(15,u=e.activeWord),"shouldMarkWordOrSentenceAsActive"in e&&o(16,p=e.shouldMarkWordOrSentenceAsActive),"registerAlternativesCallbacks"in e&&o(19,m=e.registerAlternativesCallbacks),"clearAlternativesCallbacks"in e&&o(20,g=e.clearAlternativesCallbacks)},e.$$.update=()=>{16&e.$$.dirty[0]&&a.includes(r.gdocsWriteLang)&&(o(6,y=!1),Lh(i,r.gDocsSegmentation=nn,r)),30&e.$$.dirty[0]&&o(16,p=h&&(r.gDocsSegmentation===nn&&v||r.gDocsSegmentation===on&&_))},[l,h,_,v,r,f,y,i,w,x,S,T,$,L,d,u,p,s,c,m,g,()=>{o(1,h=!h),L(),w()},()=>T(),()=>$(),e=>x(e.text),e=>S(e.partialTranslation)]}class YC extends t_{constructor(e){super(),e_(this,e,VC,GC,wh,{textProcessingMode:17,contentProcessBuildingBlocks:0,buildAndSetReplaceData:18,activeSentence:14,activeWord:15,shouldMarkWordOrSentenceAsActive:16,registerAlternativesCallbacks:19,clearAlternativesCallbacks:20},null,[-1,-1])}}function ZC(e,t,n){const o=e.slice();return o[25]=t[n],o}function KC(e,t,n){const o=e.slice();return o[28]=t[n],o}function XC(e,t,n){const o=e.slice();return o[31]=t[n],o[33]=n,o}function JC(e){let t,n,o=Zf(e[8].contentReference),r=[];for(let t=0;t<o.length;t+=1)r[t]=ak(ZC(e,o,t));return{c(){t=Wh("div");for(let e=0;e<r.length;e+=1)r[e].c();Jh(t,"class","preview-text-scroller svelte-t9u7lm"),Jh(t,"dir",n=eo(e[7].selectedTargetLanguage))},m(e,n){Hh(e,t,n);for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(t,null)},p(e,i){if(16256&i[0]){let n;for(o=Zf(e[8].contentReference),n=0;n<o.length;n+=1){const s=ZC(e,o,n);r[n]?r[n].p(s,i):(r[n]=ak(s),r[n].c(),r[n].m(t,null))}for(;n<r.length;n+=1)r[n].d(1);r.length=o.length}128&i[0]&&n!==(n=eo(e[7].selectedTargetLanguage))&&Jh(t,"dir",n)},d(e){e&&Fh(t),jh(r,e)}}}function QC(e){let t;return{c(){t=Wh("div"),Jh(t,"class","dl-untranslatable-line svelte-t9u7lm")},m(e,n){Hh(e,t,n)},p:gh,d(e){e&&Fh(t)}}}function ek(e){let t,n,o=Zf(e[8].textLinesComponents[e[25].index]),r=[];for(let t=0;t<o.length;t+=1)r[t]=sk(KC(e,o,t));return{c(){t=Wh("div");for(let e=0;e<r.length;e+=1)r[e].c();n=Vh(),Jh(t,"class","dl-translatable-line svelte-t9u7lm"),sf(t,"is-sentence-segmentation",e[7].gDocsSegmentation===on),sf(t,"is-word-segmentation",e[7].gDocsSegmentation===nn)},m(e,o){Hh(e,t,o);for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(t,null);Bh(t,n)},p(e,i){if(16256&i[0]){let s;for(o=Zf(e[8].textLinesComponents[e[25].index]),s=0;s<o.length;s+=1){const a=KC(e,o,s);r[s]?r[s].p(a,i):(r[s]=sk(a),r[s].c(),r[s].m(t,n))}for(;s<r.length;s+=1)r[s].d(1);r.length=o.length}128&i[0]&&sf(t,"is-sentence-segmentation",e[7].gDocsSegmentation===on),128&i[0]&&sf(t,"is-word-segmentation",e[7].gDocsSegmentation===nn)},d(e){e&&Fh(t),jh(r,e)}}}function tk(e){let t,n=Un(e[8].processedSentences[e[28]].text)+"";return{c(){t=Gh(n)},m(e,n){Hh(e,t,n)},p(e,o){256&o[0]&&n!==(n=Un(e[8].processedSentences[e[28]].text)+"")&&Qh(t,n)},d(e){e&&Fh(t)}}}function nk(e){let t,n=Zf(Hn(e[8].processedSentences[e[28]].text)),o=[];for(let t=0;t<n.length;t+=1)o[t]=ik(XC(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=Yh()},m(e,n){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,n);Hh(e,t,n)},p(e,r){if(12032&r[0]){let i;for(n=Zf(Hn(e[8].processedSentences[e[28]].text)),i=0;i<n.length;i+=1){const s=XC(e,n,i);o[i]?o[i].p(s,r):(o[i]=ik(s),o[i].c(),o[i].m(t.parentNode,t))}for(;i<o.length;i+=1)o[i].d(1);o.length=n.length}},d(e){e&&Fh(t),jh(o,e)}}}function ok(e){let t,n,o=e[31].text+"";return{c(){t=Wh("span"),n=Gh(o)},m(e,o){Hh(e,t,o),Bh(t,n)},p(e,t){256&t[0]&&o!==(o=e[31].text+"")&&Qh(n,o)},d(e){e&&Fh(t)}}}function rk(e){let t,n,o,r,i=e[31].text+"";function s(){return e[18](e[28],e[33],e[31])}return{c(){t=Wh("span"),n=Gh(i),Jh(t,"class","word-text svelte-t9u7lm"),Jh(t,"tabindex","-1"),Jh(t,"aria-hidden","true"),sf(t,"active-word",e[28]===e[9]&&e[10]===e[33]&&e[11])},m(e,i){Hh(e,t,i),Bh(t,n),o||(r=Zh(t,"click",s),o=!0)},p(o,r){e=o,256&r[0]&&i!==(i=e[31].text+"")&&Qh(n,i),3840&r[0]&&sf(t,"active-word",e[28]===e[9]&&e[10]===e[33]&&e[11])},d(e){e&&Fh(t),o=!1,r()}}}function ik(e){let t;function n(e,t){return e[31].isWord?rk:ok}let o=n(e),r=o(e);return{c(){r.c(),t=Yh()},m(e,n){r.m(e,n),Hh(e,t,n)},p(e,i){o===(o=n(e))&&r?r.p(e,i):(r.d(1),r=o(e),r&&(r.c(),r.m(t.parentNode,t)))},d(e){e&&Fh(t),r.d(e)}}}function sk(e){let t,n,o,r,i,s,a,l=e[8].processedSentences[e[28]].prefix+"",c=e[7].gDocsSegmentation===on&&tk(e),d=e[7].gDocsSegmentation===nn&&nk(e);function u(){return e[19](e[28])}return{c(){t=Wh("span"),n=Gh(l),o=Vh(),r=Wh("span"),c&&c.c(),i=Vh(),d&&d.c(),Jh(t,"class","sentence-prefix"),Jh(r,"class","sentence-text svelte-t9u7lm"),Jh(r,"tabindex","-1"),Jh(r,"aria-hidden","true"),sf(r,"active-sentence",e[9]===e[28]&&e[11])},m(e,l){Hh(e,t,l),Bh(t,n),Hh(e,o,l),Hh(e,r,l),c&&c.m(r,null),Bh(r,i),d&&d.m(r,null),s||(a=Zh(r,"click",u),s=!0)},p(t,o){e=t,256&o[0]&&l!==(l=e[8].processedSentences[e[28]].prefix+"")&&Qh(n,l),e[7].gDocsSegmentation===on?c?c.p(e,o):(c=tk(e),c.c(),c.m(r,i)):c&&(c.d(1),c=null),e[7].gDocsSegmentation===nn?d?d.p(e,o):(d=nk(e),d.c(),d.m(r,null)):d&&(d.d(1),d=null),2816&o[0]&&sf(r,"active-sentence",e[9]===e[28]&&e[11])},d(e){e&&(Fh(t),Fh(o),Fh(r)),c&&c.d(),d&&d.d(),s=!1,a()}}}function ak(e){let t;function n(e,t){return e[25].isTranslatable?ek:QC}let o=n(e),r=o(e);return{c(){r.c(),t=Yh()},m(e,n){r.m(e,n),Hh(e,t,n)},p(e,i){o===(o=n(e))&&r?r.p(e,i):(r.d(1),r=o(e),r&&(r.c(),r.m(t.parentNode,t)))},d(e){e&&Fh(t),r.d(e)}}}function lk(e){let t,n,o;return n=new fC({props:{platformBehaviour:ut.gdocs,websiteSettings:e[1],showDictionary:e[2],switchVisibilityDictionary:e[3],enableDictionaryButton:e[4],dictionaryButtonError:e[5],onClose:e[6]}}),{c(){t=Wh("div"),Xf(n.$$.fragment),Jh(t,"class","dl-inline-translate-toolbar-frame svelte-t9u7lm")},m(e,r){Hh(e,t,r),Jf(n,t,null),o=!0},p(e,t){const o={};2&t[0]&&(o.websiteSettings=e[1]),4&t[0]&&(o.showDictionary=e[2]),8&t[0]&&(o.switchVisibilityDictionary=e[3]),16&t[0]&&(o.enableDictionaryButton=e[4]),32&t[0]&&(o.dictionaryButtonError=e[5]),64&t[0]&&(o.onClose=e[6]),n.$set(o)},i(e){o||(jf(n.$$.fragment,e),o=!0)},o(e){Wf(n.$$.fragment,e),o=!1},d(e){e&&Fh(t),Qf(n)}}}function ck(e){let t,n;return t=new yC({props:{onClose:e[6]}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p(e,n){const o={};64&n[0]&&(o.onClose=e[6]),t.$set(o)},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function dk(e){let t,n,o,r,i,s;function a(t){e[20](t)}function l(t){e[21](t)}function c(t){e[22](t)}function d(t){e[23](t)}let u={textProcessingMode:e[0],buildAndSetReplaceData:e[15],registerAlternativesCallbacks:e[16],clearAlternativesCallbacks:e[17]};return void 0!==e[8]&&(u.contentProcessBuildingBlocks=e[8]),void 0!==e[9]&&(u.activeSentence=e[9]),void 0!==e[10]&&(u.activeWord=e[10]),void 0!==e[11]&&(u.shouldMarkWordOrSentenceAsActive=e[11]),t=new YC({props:u}),Sf.push((()=>Kf(t,"contentProcessBuildingBlocks",a))),Sf.push((()=>Kf(t,"activeSentence",l))),Sf.push((()=>Kf(t,"activeWord",c))),Sf.push((()=>Kf(t,"shouldMarkWordOrSentenceAsActive",d))),{c(){Xf(t.$$.fragment)},m(e,n){Jf(t,e,n),s=!0},p(e,s){const a={};1&s[0]&&(a.textProcessingMode=e[0]),!n&&256&s[0]&&(n=!0,a.contentProcessBuildingBlocks=e[8],If((()=>n=!1))),!o&&512&s[0]&&(o=!0,a.activeSentence=e[9],If((()=>o=!1))),!r&&1024&s[0]&&(r=!0,a.activeWord=e[10],If((()=>r=!1))),!i&&2048&s[0]&&(i=!0,a.shouldMarkWordOrSentenceAsActive=e[11],If((()=>i=!1))),t.$set(a)},i(e){s||(jf(t.$$.fragment,e),s=!0)},o(e){Wf(t.$$.fragment,e),s=!1},d(e){Qf(t,e)}}}function uk(e){let t,n,o,r,i,s,a=e[8]&&e[8].contentReference&&JC(e),l=e[0]===pt.translate&&lk(e),c=e[0]===pt.write&&ck(e),d=e[8]&&dk(e);return{c(){t=Wh("div"),a&&a.c(),n=Vh(),l&&l.c(),o=Vh(),c&&c.c(),r=Vh(),i=Wh("div"),d&&d.c(),Jh(i,"class","dl-alternatives-frame svelte-t9u7lm")},m(e,u){Hh(e,t,u),a&&a.m(t,null),Bh(t,n),l&&l.m(t,null),Bh(t,o),c&&c.m(t,null),Bh(t,r),Bh(t,i),d&&d.m(i,null),s=!0},p(e,s){e[8]&&e[8].contentReference?a?a.p(e,s):(a=JC(e),a.c(),a.m(t,n)):a&&(a.d(1),a=null),e[0]===pt.translate?l?(l.p(e,s),1&s[0]&&jf(l,1)):(l=lk(e),l.c(),jf(l,1),l.m(t,o)):l&&(Hf(),Wf(l,1,1,(()=>{l=null})),Ff()),e[0]===pt.write?c?(c.p(e,s),1&s[0]&&jf(c,1)):(c=ck(e),c.c(),jf(c,1),c.m(t,r)):c&&(Hf(),Wf(c,1,1,(()=>{c=null})),Ff()),e[8]?d?(d.p(e,s),256&s[0]&&jf(d,1)):(d=dk(e),d.c(),jf(d,1),d.m(i,null)):d&&(Hf(),Wf(d,1,1,(()=>{d=null})),Ff())},i(e){s||(jf(l),jf(c),jf(d),s=!0)},o(e){Wf(l),Wf(c),Wf(d),s=!1},d(e){e&&Fh(t),a&&a.d(),l&&l.d(),c&&c.d(),d&&d.d()}}}function pk(e,t,n){let o;const r=bf("deepl_settings");Eh(e,r,(e=>n(7,o=e)));let i,s,a,l,{textProcessingMode:c=pt.translate}=t,{websiteSettings:d}=t,{showDictionary:u}=t,{switchVisibilityDictionary:p}=t,{enableDictionaryButton:m}=t,{dictionaryButtonError:g}=t,{onClose:h}=t,f=!1,_=()=>{},v=()=>{};const y=()=>{if(s)try{const{processedText:e,processedEntities:t}=zn({textLines:s.textLinesComponents.map((e=>e.map((e=>s.processedSentences[e].prefix+s.processedSentences[e].text)))),entities:s.entities,contentReference:s.contentReference});d.update({translatedSnippet:e}),i&&i.setReplaceData({entities:t,text:e,originalObject:s.originalObject})}catch(e){console.error(e)}};_f((()=>{i=document.querySelector("deepl-gdocs-icon"),n(8,s=i.getContentProcessBuildingBlocks()),y()}));return e.$$set=e=>{"textProcessingMode"in e&&n(0,c=e.textProcessingMode),"websiteSettings"in e&&n(1,d=e.websiteSettings),"showDictionary"in e&&n(2,u=e.showDictionary),"switchVisibilityDictionary"in e&&n(3,p=e.switchVisibilityDictionary),"enableDictionaryButton"in e&&n(4,m=e.enableDictionaryButton),"dictionaryButtonError"in e&&n(5,g=e.dictionaryButtonError),"onClose"in e&&n(6,h=e.onClose)},e.$$.update=()=>{128&e.$$.dirty[0]&&rn.includes(o.selectedTargetLanguage)&&Lh(r,o.gDocsSegmentation=on,o)},[c,d,u,p,m,g,h,o,s,a,l,f,_,v,r,y,e=>{n(12,_=e.showSentenceAlternatives),n(13,v=e.showWordAlternatives)},()=>{n(12,_=()=>{}),n(13,v=()=>{})},(e,t,n)=>v(e,t,n),e=>_(e),function(e){s=e,n(8,s)},function(e){a=e,n(9,a)},function(e){l=e,n(10,l)},function(e){f=e,n(11,f)}]}class mk extends t_{constructor(e){super(),e_(this,e,pk,uk,wh,{textProcessingMode:0,websiteSettings:1,showDictionary:2,switchVisibilityDictionary:3,enableDictionaryButton:4,dictionaryButtonError:5,onClose:6},null,[-1,-1])}}function gk(e){let t,n,o,r;return t=new EC({props:{headline:"Response - Translated DOM",jsonData:e[18]}}),o=new EC({props:{headline:"Request - Original DOM",jsonData:e[19]}}),{c(){Xf(t.$$.fragment),n=Vh(),Xf(o.$$.fragment)},m(e,i){Jf(t,e,i),Hh(e,n,i),Jf(o,e,i),r=!0},p(e,n){const r={};16&n&&(r.jsonData=e[18]),t.$set(r);const i={};16&n&&(i.jsonData=e[19]),o.$set(i)},i(e){r||(jf(t.$$.fragment,e),jf(o.$$.fragment,e),r=!0)},o(e){Wf(t.$$.fragment,e),Wf(o.$$.fragment,e),r=!1},d(e){e&&Fh(n),Qf(t,e),Qf(o,e)}}}function hk(e){let t,n,o,r,i,s,a=$n(Y$(e[4].translatedSnippet))+"",l=e[3]===pt.translate&&wk(e),c=e[3]===pt.write&&bk(e);return{c(){t=Wh("div"),o=Vh(),l&&l.c(),r=Vh(),c&&c.c(),i=Yh(),Jh(t,"class","result-frame svelte-1qr4p6b"),Jh(t,"dir",n=eo(e[5].selectedTargetLanguage))},m(e,n){Hh(e,t,n),t.innerHTML=a,Hh(e,o,n),l&&l.m(e,n),Hh(e,r,n),c&&c.m(e,n),Hh(e,i,n),s=!0},p(e,o){(!s||16&o)&&a!==(a=$n(Y$(e[4].translatedSnippet))+"")&&(t.innerHTML=a),(!s||32&o&&n!==(n=eo(e[5].selectedTargetLanguage)))&&Jh(t,"dir",n),e[3]===pt.translate?l?(l.p(e,o),8&o&&jf(l,1)):(l=wk(e),l.c(),jf(l,1),l.m(r.parentNode,r)):l&&(Hf(),Wf(l,1,1,(()=>{l=null})),Ff()),e[3]===pt.write?c?(c.p(e,o),8&o&&jf(c,1)):(c=bk(e),c.c(),jf(c,1),c.m(i.parentNode,i)):c&&(Hf(),Wf(c,1,1,(()=>{c=null})),Ff())},i(e){s||(jf(l),jf(c),s=!0)},o(e){Wf(l),Wf(c),s=!1},d(e){e&&(Fh(t),Fh(o),Fh(r),Fh(i)),l&&l.d(e),c&&c.d(e)}}}function fk(e){let t,n;return t=new mk({props:{textProcessingMode:e[3],websiteSettings:e[1],showDictionary:e[7],switchVisibilityDictionary:e[13],enableDictionaryButton:e[9],dictionaryButtonError:e[8],onClose:e[0]}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p(e,n){const o={};8&n&&(o.textProcessingMode=e[3]),2&n&&(o.websiteSettings=e[1]),128&n&&(o.showDictionary=e[7]),512&n&&(o.enableDictionaryButton=e[9]),256&n&&(o.dictionaryButtonError=e[8]),1&n&&(o.onClose=e[0]),t.$set(o)},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function _k(e){let t,n;return t=new kw({props:{error:e[4].error}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p(e,n){const o={};16&n&&(o.error=e[4].error),t.$set(o)},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function vk(e){let t,n,o,r,i,s,a,l,c,d,u;function p(e,t){return e[3]===pt.translate?xk:Ek}let m=p(e),g=m(e);function h(e,t){return e[3]===pt.translate?Tk:Sk}let f=h(e),_=f(e);function v(e,t){return e[3]===pt.translate?Ck:$k}let y=v(e),w=y(e);return{c(){t=Wh("div"),n=Wh("p"),g.c(),o=Vh(),r=Wh("div"),i=Wh("h2"),_.c(),s=Vh(),w.c(),a=Vh(),l=Wh("div"),c=Wh("button"),c.textContent=`${chrome.i18n.getMessage("link_try_deepl")}`,Jh(n,"class","counter svelte-1qr4p6b"),Jh(i,"class","svelte-1qr4p6b"),Jh(c,"class","svelte-1qr4p6b"),Jh(l,"class","button-row svelte-1qr4p6b"),Jh(r,"class","box svelte-1qr4p6b"),Jh(t,"class","anonymous-user-max-char-exceeded svelte-1qr4p6b")},m(p,m){Hh(p,t,m),Bh(t,n),g.m(n,null),Bh(t,o),Bh(t,r),Bh(r,i),_.m(i,null),Bh(r,s),w.m(r,null),Bh(r,a),Bh(r,l),Bh(l,c),d||(u=Zh(c,"click",e[15]),d=!0)},p(e,t){m===(m=p(e))&&g?g.p(e,t):(g.d(1),g=m(e),g&&(g.c(),g.m(n,null))),f===(f=h(e))&&_?_.p(e,t):(_.d(1),_=f(e),_&&(_.c(),_.m(i,null))),y===(y=v(e))&&w?w.p(e,t):(w.d(1),w=y(e),w&&(w.c(),w.m(r,a)))},i:gh,o:gh,d(e){e&&Fh(t),g.d(),_.d(),w.d(),d=!1,u()}}}function yk(e){let t,n,o;return n=new tS({}),{c(){t=Wh("div"),Xf(n.$$.fragment),Jh(t,"class","loading-spinner-container svelte-1qr4p6b")},m(e,r){Hh(e,t,r),Jf(n,t,null),o=!0},p:gh,i(e){o||(jf(n.$$.fragment,e),o=!0)},o(e){Wf(n.$$.fragment,e),o=!1},d(e){e&&Fh(t),Qf(n)}}}function wk(e){let t,n;return t=new fC({props:{platformBehaviour:e[2],websiteSettings:e[1],showDictionary:e[7],switchVisibilityDictionary:e[13],enableDictionaryButton:e[9],dictionaryButtonError:e[8],onClose:e[0]}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.platformBehaviour=e[2]),2&n&&(o.websiteSettings=e[1]),128&n&&(o.showDictionary=e[7]),512&n&&(o.enableDictionaryButton=e[9]),256&n&&(o.dictionaryButtonError=e[8]),1&n&&(o.onClose=e[0]),t.$set(o)},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function bk(e){let t,n;return t=new yC({props:{onClose:e[0]}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.onClose=e[0]),t.$set(o)},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function Ek(e){let t,n,o=e[4].originalSnippet.length+"";return{c(){t=Gh(o),n=Gh("/2000")},m(e,o){Hh(e,t,o),Hh(e,n,o)},p(e,n){16&n&&o!==(o=e[4].originalSnippet.length+"")&&Qh(t,o)},d(e){e&&(Fh(t),Fh(n))}}}function xk(e){let t,n,o=e[4].originalSnippet.length+"";return{c(){t=Gh(o),n=Gh("/5000")},m(e,o){Hh(e,t,o),Hh(e,n,o)},p(e,n){16&n&&o!==(o=e[4].originalSnippet.length+"")&&Qh(t,o)},d(e){e&&(Fh(t),Fh(n))}}}function Sk(e){let t,n=chrome.i18n.getMessage("inline_gdocs_max_chars_exceeded_improvement_title")+"";return{c(){t=Gh(n)},m(e,n){Hh(e,t,n)},p:gh,d(e){e&&Fh(t)}}}function Tk(e){let t,n=chrome.i18n.getMessage("inline_gdocs_max_chars_exceeded_title")+"";return{c(){t=Gh(n)},m(e,n){Hh(e,t,n)},p:gh,d(e){e&&Fh(t)}}}function $k(e){let t;return{c(){t=Wh("p"),t.textContent=`${chrome.i18n.getMessage("inline_gdocs_max_chars_exceeded_body_write")}`},m(e,n){Hh(e,t,n)},p:gh,d(e){e&&Fh(t)}}}function Ck(e){let t;return{c(){t=Wh("p"),t.textContent=`${chrome.i18n.getMessage("inline_gdocs_max_chars_exceeded_body")}`},m(e,n){Hh(e,t,n)},p:gh,d(e){e&&Fh(t)}}}function kk(e){let t,n,o,r,i,s,a,l,c,u=!!xn();const p=[yk,vk,_k,fk,hk,gk],m=[];function g(e,t){return 16&t&&(n=null),null==e[4]||e[4].translationState===d.ongoingTranslation?0:e[4].translationState===d.anonymousUserMaxCharExceeded?1:e[4].error?2:e[2]===ut.gdocs?3:e[4].translatedSnippet?4:(null==n&&(n=!(!Eo()||!e[4].translatedDOMSnippet)),n?5:-1)}~(o=g(e,-1))&&(r=m[o]=p[o](e)),s=new RC({props:{originalSnippet:e[4].originalSnippet,sourceLanguage:e[4].snippetDetectedSourceLang,targetLanguage:e[5].selectedTargetLanguage,websiteLanguage:e[4].websiteLanguage,showDictionary:e[7],setDictionaryLauncherState:e[12],resetDictionary:e[14]}});let h=u&&function(e){let t,n,o,r,i,s,a,l,c=chrome.i18n.getMessage("inline_translation_ads_ms_office")+"";return{c(){t=Wh("div"),n=Wh("div"),o=Vh(),r=Wh("div"),r.textContent=`${chrome.i18n.getMessage("inline_translation_ads_ms_office_discover")}`,i=Vh(),s=Wh("div"),Jh(n,"class","text-banner svelte-1qr4p6b"),Jh(r,"class","button-banner svelte-1qr4p6b"),Jh(s,"class","icon svelte-1qr4p6b"),Jh(t,"class","dl-ms-addin-banner svelte-1qr4p6b")},m(d,u){Hh(d,t,u),Bh(t,n),n.innerHTML=c,Bh(t,o),Bh(t,r),Bh(t,i),Bh(t,s),a||(l=Zh(r,"click",e[16]),a=!0)},p:gh,d(e){e&&Fh(t),a=!1,l()}}}(e);return{c(){t=Wh("div"),r&&r.c(),i=Vh(),Xf(s.$$.fragment),a=Vh(),h&&h.c(),l=Yh(),Jh(t,"class","tooltip-container svelte-1qr4p6b"),Jh(t,"data-qa","deepl-inline-translation-result-container"),sf(t,"error",e[4].error)},m(e,n){Hh(e,t,n),~o&&m[o].m(t,null),Hh(e,i,n),Jf(s,e,n),Hh(e,a,n),h&&h.m(e,n),Hh(e,l,n),c=!0},p(e,n){let i=o;o=g(e,n),o===i?~o&&m[o].p(e,n):(r&&(Hf(),Wf(m[i],1,1,(()=>{m[i]=null})),Ff()),~o?(r=m[o],r?r.p(e,n):(r=m[o]=p[o](e),r.c()),jf(r,1),r.m(t,null)):r=null),(!c||16&n)&&sf(t,"error",e[4].error);const a={};16&n&&(a.originalSnippet=e[4].originalSnippet),16&n&&(a.sourceLanguage=e[4].snippetDetectedSourceLang),32&n&&(a.targetLanguage=e[5].selectedTargetLanguage),16&n&&(a.websiteLanguage=e[4].websiteLanguage),128&n&&(a.showDictionary=e[7]),s.$set(a),u&&h.p(e,n)},i(e){c||(jf(r),jf(s.$$.fragment,e),c=!0)},o(e){Wf(r),Wf(s.$$.fragment,e),c=!1},d(e){e&&(Fh(t),Fh(i),Fh(a),Fh(l)),~o&&m[o].d(),Qf(s,e),h&&h.d(e)}}}function Lk(e){let t,n,o;return n=new C$({props:{closeWindow:e[11],showLangSelect:!e[4].error,settings:r_,websiteSettings:e[1],extensionContext:e[10],platformBehaviour:e[2],textProcessingMode:e[3],showProStatus:e[6],showServiceName:!0,showSettingsIcon:!0,$$slots:{default:[kk]},$$scope:{ctx:e}}}),{c(){t=Wh("div"),Xf(n.$$.fragment)},m(e,r){Hh(e,t,r),Jf(n,t,null),o=!0},p(e,[t]){const o={};16&t&&(o.showLangSelect=!e[4].error),2&t&&(o.websiteSettings=e[1]),4&t&&(o.platformBehaviour=e[2]),8&t&&(o.textProcessingMode=e[3]),64&t&&(o.showProStatus=e[6]),2098111&t&&(o.$$scope={dirty:t,ctx:e}),n.$set(o)},i(e){o||(jf(n.$$.fragment,e),o=!0)},o(e){Wf(n.$$.fragment,e),o=!1},d(e){e&&Fh(t),Qf(n)}}}function Mk(e,n,o){let r,i,s=gh,a=()=>(s(),s=bh(c,(e=>o(4,r=e))),c);Eh(e,r_,(e=>o(5,i=e))),e.$$.on_destroy.push((()=>s()));let{closeTooltip:l}=n,{websiteSettings:c}=n;a();let u,{platformBehaviour:p=ut.default}=n,{textProcessingMode:m=pt.translate}=n,{setPositioningStatus:g}=n,h=!1,f="",_=!1,v=C;async function y(e){switch(m){case pt.translate:{const n=await Yn(r.originalSnippet);let o;e===Ft&&(o="dlTrackGdocsMaxCharExceededShown"),e===jt&&(o="dlTrackGDocsMaxCharExceededTryProClicked"),t({action:o,payload:{sourceLang:n,targetLang:i.selectedTargetLanguage,sourceLength:r.originalSnippet.length}})}break;case pt.write:{const t=document.getElementsByTagName("deepl-gdocs-icon")[0];t&&t.trackMaxCharExceeded(e)}}}return e.$$set=e=>{"closeTooltip"in e&&o(0,l=e.closeTooltip),"websiteSettings"in e&&a(o(1,c=e.websiteSettings)),"platformBehaviour"in e&&o(2,p=e.platformBehaviour),"textProcessingMode"in e&&o(3,m=e.textProcessingMode),"setPositioningStatus"in e&&o(17,g=e.setPositioningStatus)},e.$$.update=()=>{20&e.$$.dirty&&p===ut.gdocs&&r.translationState===d.anonymousUserMaxCharExceeded&&r.originalSnippet.length>0&&y(Ft),17&e.$$.dirty&&r&&(!r.isTranslationTooltipInjected||r.translationState!==d.none||r.translatedSnippet||r.error||r.translatedDOMSnippet||l()),131092&e.$$.dirty&&!r.translationState&&p===ut.default&&g&&(g(!0),setTimeout((()=>{g(!1)}),600)),40&e.$$.dirty&&o(6,u=pn(i,$t.TRANSLATOR)&&m===pt.translate||pn(i,$t.WRITE)&&m===pt.write)},[l,c,p,m,r,i,u,h,f,_,v,function(){t({action:"dlTrackUiAction",payload:{uiAction:Ue,nicheIntegration:p}}),l()},function(e){o(8,f=e.dictionaryButtonError),o(9,_=e.enableDictionaryButton)},function(){_&&o(7,h=!h)},function(){o(7,h=!1)},function(){y(jt),t({action:"dlExternalURLRedirect",payload:{destination:m===pt.translate?ly:cy,utmContent:m===pt.translate?"gdocs_customization":"gdocs_customization_write"}})},()=>{t({action:"dlExternalURLRedirect",payload:{destination:Sy,utmContent:"msaddin_ads_banner"}});try{t({action:"dlTrackClicksOnAdsButton"})}catch(e){console.error(e)}},g,()=>r.translatedDOMSnippet,()=>r.originalSnippet]}class Ik extends t_{constructor(e){super(),e_(this,e,Mk,Lk,wh,{closeTooltip:0,websiteSettings:1,platformBehaviour:2,textProcessingMode:3,setPositioningStatus:17})}}function Ak(e){let t,n,o,r,i,s,a,l;return i=new Ik({props:{closeTooltip:e[0],websiteSettings:e[1],platformBehaviour:e[2],textProcessingMode:e[3],setPositioningStatus:e[7]}}),{c(){t=Wh("div"),n=Wh("div"),o=Vh(),r=Wh("div"),Xf(i.$$.fragment),Jh(n,"class","tooltip-drag-handle svelte-un7ezn"),Jh(r,"class","tooltip-body svelte-un7ezn"),Jh(t,"data-qa","inline-translate-tooltip"),Jh(t,"class","tooltip-wrapper svelte-un7ezn"),Jh(t,"role","dialog"),Jh(t,"style",e[6]),Jh(t,"draggable",e[5]),Jh(t,"dir",eo())},m(c,d){Hh(c,t,d),Bh(t,n),Bh(t,o),Bh(t,r),Jf(i,r,null),e[18](t),s=!0,a||(l=[Zh(n,"mouseover",e[8]),Zh(n,"mouseout",e[9]),Mh(dv.call(null,t,{isShadow:!0})),Zh(t,"click_outside",e[17]),Zh(t,"dragstart",e[10])],a=!0)},p(e,[n]){const o={};1&n&&(o.closeTooltip=e[0]),2&n&&(o.websiteSettings=e[1]),4&n&&(o.platformBehaviour=e[2]),8&n&&(o.textProcessingMode=e[3]),i.$set(o),(!s||64&n)&&Jh(t,"style",e[6]),(!s||32&n)&&Jh(t,"draggable",e[5])},i(e){s||(jf(i.$$.fragment,e),s=!0)},o(e){Wf(i.$$.fragment,e),s=!1},d(n){n&&Fh(t),Qf(i),e[18](null),a=!1,vh(l)}}}function Rk(e,t,n){let o;Eh(e,r_,(e=>n(16,o=e))),wf("deepl_settings",r_),wf("text_direction",eo());let r,i,s,a,l,{closeTooltip:c}=t,{websiteSettings:d}=t,{replaceElement:u}=t,{actualPosition:p}=t,{dragContainerTo:m}=t,{platformBehaviour:g=ut.default}=t,{textProcessingMode:h=pt.translate}=t,f=!1,_=!1,v="visibility: hidden; opacity:0; height:0;";let y={x:0,y:0};function w(e){let t=V$({dropEvent:e,document:document,dragConfig:{dragOffset:y,dragElementRect:a,dragBarWidth:16}});t&&m(t)}_f((()=>{n(15,l=o.isLoggedIn),setTimeout((()=>{n(6,v="")}),100),document.addEventListener("dragover",q$),document.addEventListener("drop",w),s=_v(r,(({clientHeight:e})=>{n(14,i=e)}))})),vf((()=>{document.removeEventListener("dragover",q$),document.removeEventListener("drop",w),s&&s()}));return e.$$set=e=>{"closeTooltip"in e&&n(0,c=e.closeTooltip),"websiteSettings"in e&&n(1,d=e.websiteSettings),"replaceElement"in e&&n(12,u=e.replaceElement),"actualPosition"in e&&n(11,p=e.actualPosition),"dragContainerTo"in e&&n(13,m=e.dragContainerTo),"platformBehaviour"in e&&n(2,g=e.platformBehaviour),"textProcessingMode"in e&&n(3,h=e.textProcessingMode)},e.$$.update=()=>{var t,r;98305&e.$$.dirty&&!1===l&&!0===o.isLoggedIn&&c(),65536&e.$$.dirty&&n(11,(t=o.inlineTranslateTooltipPosition,p=u(i,t))),16384&e.$$.dirty&&n(11,(r=i,p=_||g===ut.gdocs?u(r,o.inlineTranslateTooltipPosition):p))},[c,d,g,h,r,f,v,e=>{_=e},function(){n(5,f=!0)},function(){n(5,f=!1)},function(e){const t=G$(e,g);y=t.dragOffset,a=t.dragElementRect},p,u,m,i,l,o,()=>c(),function(e){Sf[e?"unshift":"push"]((()=>{r=e,n(4,r)}))}]}class Ok extends t_{constructor(e){super(),e_(this,e,Rk,Ak,wh,{closeTooltip:0,websiteSettings:1,replaceElement:12,actualPosition:11,dragContainerTo:13,platformBehaviour:2,textProcessingMode:3})}}class Nk{static HTML_TAG_NAME="deepl-inline-translate-tooltip";static createElement=(e=document)=>{const t=e.createElement(Nk.HTML_TAG_NAME),n=new Nk(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.dragContainerTo=n.dragContainerTo,t};#e=void 0;constructor(e){this.domElement=e,this.domElement.platformBehaviour=ut.default,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.domElement.mainComponent,this.domElement.selectionRange;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer)}createDOM=(e,t,n)=>{const{deepl_inline_ui:o}=z;this.domElement.shadowContainer&&this.domElement.shadowContainer.childElementCount>0&&this.cleanupDOM(),this.domElement.platformBehaviour===ut.default&&(this.domElement.selectionRange=window.getSelection().getRangeAt(0));let r=e(this.domElement.selectionRange);this.domElement.shadowContainer.appendChild(this.domElement.container);let i="visibility: initial !important; position: absolute; top: 0px; left: 0px; width: 100%; z-index: "+(o.z_index-100),s=`position: absolute; top: ${r.y}px; left: ${r.x-200}px; z-index: ${o.z_index-100};`;switch(this.domElement.platformBehaviour){case ut.gdocs:s+="top: 600px; left: 10px;";break;case ut.default:default:s+=""}this.domElement.shadowContainer.style.cssText=i,this.domElement.container.style.cssText=s,this.domElement.mainComponent=new Ok({target:this.domElement.container,props:{closeTooltip:t,websiteSettings:n,replaceElement:(t,n)=>{r=e(this.domElement.selectionRange);const o={coords:r,clientHeight:t,TOOLTIP_WIDTH:550,TRIGGER_MENU_ICON_HEIGHT:30,style:this.domElement.container.style};let i=n;const s=j$(o),[a,l]=W$(n),c=this.#e??{x:0,y:0};if(this.domElement.platformBehaviour===ut.gdocs){for(const e of l)if(F$(e,o)){H$(e,o,c);break}}else for(const e of a)if(F$(e,o)){i="middle"!==e?e:void 0,U$(e,o,c);break}return{...s,current:i}},platformBehaviour:this.domElement.platformBehaviour,textProcessingMode:this.domElement.textProcessingMode,dragContainerTo:this.dragContainerTo}})};dragContainerTo=e=>{this.#e={y:parseInt(this.domElement.container.style.top)-e.y+(this.#e?.y??0),x:parseInt(this.domElement.container.style.left)-e.x+(this.#e?.x??0)},this.domElement.container.style.top=`${e.y}px`,this.domElement.container.style.left=`${e.x}px`};cleanupDOM=()=>{this.domElement.container.remove(),this.domElement.shadowContainer.remove(),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function Dk(e){let t,n,o,r,i,s,a,l,c,d,u,p,m,g,h,f;return{c(){t=Wh("div"),n=Wh("div"),o=Wh("div"),r=Wh("div"),i=Wh("div"),i.textContent=`${chrome.i18n.getMessage("inline_translation_highlighter_tooltip_headline")}`,s=Vh(),a=Wh("div"),a.textContent=`${chrome.i18n.getMessage("inline_translation_highlighter_tooltip_text")}`,l=Vh(),c=Wh("button"),Jh(i,"class","headline svelte-150jdi1"),Jh(a,"class","text svelte-150jdi1"),Jh(r,"class","text-wrapper svelte-150jdi1"),Jh(o,"class","content svelte-150jdi1"),Jh(c,"class","close-icon svelte-150jdi1"),Jh(n,"class",d=kh(`body body__${e[1]}`)+" svelte-150jdi1"),Jh(t,"class",u=kh(`container container__${e[1]}`)+" svelte-150jdi1")},m(d,u){Hh(d,t,u),Bh(t,n),Bh(n,o),Bh(o,r),Bh(r,i),Bh(r,s),Bh(r,a),Bh(n,l),Bh(n,c),g=!0,h||(f=Zh(c,"click",e[3]),h=!0)},p(e,[o]){(!g||2&o&&d!==(d=kh(`body body__${e[1]}`)+" svelte-150jdi1"))&&Jh(n,"class",d),(!g||2&o&&u!==(u=kh(`container container__${e[1]}`)+" svelte-150jdi1"))&&Jh(t,"class",u)},i(e){g||(Mf((()=>{g&&(m&&m.end(1),p=Gf(t,N_,{x:100,duration:1e3}),p.start())})),g=!0)},o(e){p&&p.invalidate(),m=Vf(t,N_,{x:100,duration:1e3}),g=!1},d(e){e&&Fh(t),e&&m&&m.end(),h=!1,f()}}}function Pk(n,o,r){let{closeInlineHighlighter:i=()=>{}}=o,{el:s}=o,a="topLeft";_f((async()=>{try{t({action:"dltrackOpenInlineHighlighter",payload:{domainName:e.websiteData.hostname}})}catch(e){console.error(e)}}));return n.$$set=e=>{"closeInlineHighlighter"in e&&r(0,i=e.closeInlineHighlighter),"el"in e&&r(2,s=e.el)},n.$$.update=()=>{if(4&n.$$.dirty&&s){const e=s.getBoundingClientRect();let t=e.x>305,n=window.innerWidth-e.right>305,o=window.innerHeight-e.bottom>190,i=e.y>190;i&&t?r(1,a="topLeft"):i&&n?r(1,a="topRight"):o&&t?r(1,a="bottomLeft"):o&&n&&r(1,a="bottomRight")}},[i,a,s,()=>i(lt)]}class Bk extends t_{constructor(e){super(),e_(this,e,Pk,Dk,wh,{closeInlineHighlighter:0,el:2})}}function zk(e){let t,n,o,r,i,s,a,l,c,d,u,p=e[3]&&!e[1].isInlineHighlighterShown&&Uk(e);return i=new fv({props:{tooltip:e[2],showProShield:pn(e[1],$t.WRITE),$$slots:{default:[Hk]},$$scope:{ctx:e}}}),a=new fv({props:{tooltip:chrome.i18n.getMessage("inline_translation_tooltip_turnoff"),$$slots:{default:[Fk]},$$scope:{ctx:e}}}),{c(){t=Wh("div"),p&&p.c(),n=Vh(),o=Wh("div"),r=Wh("div"),Xf(i.$$.fragment),s=Vh(),Xf(a.$$.fragment),Jh(r,"class","icon-container svelte-thfl2z"),Jh(r,"data-qa","deepl-inline-translate-icon-container"),Jh(o,"class","layout-container svelte-thfl2z"),Jh(t,"dir",eo())},m(l,m){Hh(l,t,m),p&&p.m(t,null),Bh(t,n),Bh(t,o),Bh(o,r),Jf(i,r,null),Bh(r,s),Jf(a,r,null),e[24](r),c=!0,d||(u=[Zh(r,"blur",e[15]),Zh(r,"mouseenter",e[7]),Zh(r,"mouseleave",e[8])],d=!0)},p(e,o){e[3]&&!e[1].isInlineHighlighterShown?p?(p.p(e,o),10&o&&jf(p,1)):(p=Uk(e),p.c(),jf(p,1),p.m(t,n)):p&&(Hf(),Wf(p,1,1,(()=>{p=null})),Ff());const r={};4&o&&(r.tooltip=e[2]),2&o&&(r.showProShield=pn(e[1],$t.WRITE)),134217728&o&&(r.$$scope={dirty:o,ctx:e}),i.$set(r);const s={};134217744&o&&(s.$$scope={dirty:o,ctx:e}),a.$set(s)},i(e){c||(jf(p),jf(i.$$.fragment,e),jf(a.$$.fragment,e),l||Mf((()=>{l=Gf(r,N_,{x:-5,duration:300}),l.start()})),c=!0)},o(e){Wf(p),Wf(i.$$.fragment,e),Wf(a.$$.fragment,e),c=!1},d(n){n&&Fh(t),p&&p.d(),Qf(i),Qf(a),e[24](null),d=!1,vh(u)}}}function Uk(e){let t,n;return t=new Bk({props:{closeInlineHighlighter:e[11],el:e[3]}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p(e,n){const o={};8&n&&(o.el=e[3]),t.$set(o)},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function Hk(e){let t,n,o;return{c(){t=Wh("div"),Jh(t,"class","dl-logo svelte-thfl2z"),Jh(t,"data-qa","deepl-inline-translate-menu-icon")},m(r,i){Hh(r,t,i),n||(o=[Zh(t,"click",Xh(Kh(e[6]))),Zh(t,"focus",e[19]),Zh(t,"mouseup",Xh(Kh(e[20]))),Zh(t,"mousedown",Xh(Kh(e[21]))),Zh(t,"mouseenter",e[22])],n=!0)},p:gh,d(e){e&&Fh(t),n=!1,vh(o)}}}function Fk(e){let t,n,o,r,i;return{c(){t=Wh("div"),Jh(t,"data-qa","deepl-inline-translate-turnoff-icon"),Jh(t,"class",n=kh(`dl-turnoff-inline-icon ${e[4]?"":"hidden"} `)+" svelte-thfl2z")},m(n,o){Hh(n,t,o),r||(i=[Zh(t,"click",Xh(Kh(e[9]))),Zh(t,"focus",e[16]),Zh(t,"mousedown",Xh(Kh(e[17]))),Zh(t,"mouseup",Xh(Kh(e[18]))),Zh(t,"mouseenter",e[23])],r=!0)},p(e,o){16&o&&n!==(n=kh(`dl-turnoff-inline-icon ${e[4]?"":"hidden"} `)+" svelte-thfl2z")&&Jh(t,"class",n)},i(e){o||Mf((()=>{o=Gf(t,N_,{x:-5,duration:300}),o.start()}))},o:gh,d(e){e&&Fh(t),r=!1,vh(i)}}}function jk(e){let t,n,o=!e[5]&&zk(e);return{c(){o&&o.c(),t=Yh()},m(e,r){o&&o.m(e,r),Hh(e,t,r),n=!0},p(e,[n]){e[5]?o&&(Hf(),Wf(o,1,1,(()=>{o=null})),Ff()):o?(o.p(e,n),32&n&&jf(o,1)):(o=zk(e),o.c(),jf(o,1),o.m(t.parentNode,t))},i(e){n||(jf(o),n=!0)},o(e){Wf(o),n=!1},d(e){e&&Fh(t),o&&o.d(e)}}}function Wk(e,o,r){let i,s,a,l=gh,c=()=>(l(),l=bh(d,(e=>r(14,a=e))),d);Eh(e,r_,(e=>r(1,s=e))),e.$$.on_destroy.push((()=>l())),wf("deepl_settings",r_),wf("text_direction",eo());let{websiteSettings:d}=o;c();let u,p,{platformBehaviour:m=ut.default}=o,g="",h=[],f=!1;function _(){ID(),y(),t({action:"dlTriggerTranslateInline"}),g||n(U),b(ct)}async function v(e,n,o){if("dlTriggerTranslationShortcut"===e.action)_(),t({action:"dlTrackUseOfShortcut",payload:{shortcutType:Pe,location:Z,nicheIntegration:m}}),o();return!0}function y(){a&&a.isInlineTranslateSettingsTooltipInjected||r(4,f=!1)}function w(e){h.includes(e)||(t({action:"dlTrackIconHover",payload:{uiLocation:e,domainName:window.location.host,nicheIntegration:m}}),h.push(e))}function b(e){if(!s.isInlineHighlighterShown){r_.set({isInlineHighlighterShown:!0});try{t({action:"dltrackCloseInlineHighlighter",payload:{trigger:e}})}catch(e){console.error(e)}}}t({action:"dlCheckCommandShortcuts"}).then((e=>r(13,g=e?e.filter((e=>e.name==Pe))[0].shortcut:""))),chrome.runtime.onMessage.addListener(v),vf((()=>{chrome.runtime.onMessage.removeListener(v)}));return e.$$set=e=>{"websiteSettings"in e&&c(r(0,d=e.websiteSettings)),"platformBehaviour"in e&&r(12,m=e.platformBehaviour)},e.$$.update=()=>{if(2&e.$$.dirty&&r(5,i=s.blacklistDomainsForReading&&s.blacklistDomainsForReading.includes(window.location.hostname)||!s.enableInlineTranslation||s.isGmailEnabled&&Sx()),24576&e.$$.dirty){let e;e=chrome.i18n.getMessage("context_menus_translate_section"),r(2,u=g?`${e} (${g})`:e),!1===a.isInlineTranslateSettingsTooltipInjected&&r(4,f=!1)}},[d,s,u,p,f,i,_,function(){r(4,f=!0)},y,function(){a&&!a.isInlineTranslateSettingsTooltipInjected&&(r(4,f=!0),MD(m),t({action:"dlTrackInlineSettingOpened",payload:{uiFunction:Ge,uiLocation:Z,nicheIntegration:m}})),b(ct)},w,b,m,g,a,function(t){Ef.call(this,e,t)},function(t){Ef.call(this,e,t)},function(t){Ef.call(this,e,t)},function(t){Ef.call(this,e,t)},function(t){Ef.call(this,e,t)},function(t){Ef.call(this,e,t)},function(t){Ef.call(this,e,t)},()=>w(Z),()=>w(K),function(e){Sf[e?"unshift":"push"]((()=>{p=e,r(3,p)}))}]}class qk extends t_{constructor(e){super(),e_(this,e,Wk,jk,wh,{websiteSettings:0,platformBehaviour:12})}}const Gk={TRIGGER_HEIGHT:25,TRIGGER_WIDTH:25,TRIGGER_EXPENDED_WIDTH:60};function Vk(e,t){let n={containerStyleTop:t.y>0?t.y:0,containerStyleLeft:t.x>0?t.x:0};if(!e||!t)return n;const{TRIGGER_EXPENDED_WIDTH:o,TRIGGER_WIDTH:r,TRIGGER_HEIGHT:i}=Gk,s=e?.detail;if(1===s){if(e.isOutsideOfView)return n;let s=parseInt(window.getComputedStyle(window.getSelection().anchorNode.parentElement,null).getPropertyValue("font-size"));const a=document.body.parentNode.getBoundingClientRect();let l=e.pageY+.5*s,c=t.selectedTop+t.height-s-a.y;const d=()=>{const e=window.getSelection();if(!e.rangeCount)return;const t=e.getRangeAt(0).getClientRects();if(!t.length)return;return{firstRect:t[0],lastRect:t[t.length-1]}};if(t.height<1.5*s){n.containerStyleLeft=e.clientX;const i=t.x+t.selectedWidth;e.clientX>i?n.containerStyleLeft=t.selectedRight>o?i:i-o:e.clientX-t.x<r&&e.clientX<t.x&&(n.containerStyleLeft=t.selectedLeft>o?t.x:t.x+o)}else if(l>c){const t=d();t&&t.lastRect?n.containerStyleLeft=t.lastRect.right:n.containerStyleLeft=e.clientX}else if(l<c){n.containerStyleTop=t.y-t.height-i-5;const o=d();o&&o.firstRect?n.containerStyleLeft=o.firstRect.x:n.containerStyleLeft=e.clientX}}else if(2===s){n.containerStyleLeft=t.x+t.selectedWidth-r;let e=parseInt(window.getComputedStyle(window.getSelection().anchorNode.parentElement,null).getPropertyValue("font-size"));parseInt(t.height/2)>e&&(n.containerStyleTop=t.y-t.height+e+2)}const a=window.innerWidth||document.documentElement.innerWidth,l=window.scrollHeight||document.documentElement.scrollHeight;return n.containerStyleLeft+o>a&&(n.containerStyleLeft=n.containerStyleLeft-o),(n.containerStyleTop+i>l||n.containerStyleTop<0)&&(n.containerStyleTop=t.y-i),n}class Yk{static HTML_TAG_NAME="deepl-inline-trigger";static createElement=(e=document)=>{const t=e.createElement(Yk.HTML_TAG_NAME),n=new Yk(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.addChangeEvents=n.addChangeEvents,t.removeChangeEvents=n.removeChangeEvents,t.repositionContainer=n.repositionContainer,t.cachedReposition=n.cachedReposition,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.domElement.mainComponent,this.domElement.cachedMouseEvent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowRoot.addEventListener("mouseup",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowRoot.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowRoot.addEventListener("mousedown",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=(e,t)=>{this.domElement.shadowContainer&&this.domElement.shadowContainer.childElementCount>0&&this.domElement.cleanupDOM(),this.domElement.repositionContainer(t),this.domElement.shadowContainer.appendChild(this.domElement.container),this.domElement.mainComponent=new qk({target:this.domElement.container,props:{websiteSettings:e}}),this.domElement.addChangeEvents(),this.domElement.cachedMouseEvent=t};repositionContainer=e=>{if(window.getSelection()&&!window.getSelection().toString())return void this.domElement.cleanupDOM();const{deepl_inline_ui:t}=z,n=t.z_index-500,o=Dx();let r=`position: absolute; top: 0px; left: 0px; width: 100%; z-index: ${n}; visibility: initial !important;`,i=`position: absolute; z-index: ${n};`;this.domElement.shadowContainer.style.cssText=r,this.domElement.container.style.cssText=i;const s=Vk(e,o);this.domElement.container.style.top=`${parseInt(s.containerStyleTop)}px`,this.domElement.container.style.left=`${parseInt(s.containerStyleLeft)}px`};cachedReposition=()=>this.domElement.repositionContainer(this.domElement.cachedMouseEvent);addChangeEvents=()=>{window.addEventListener("scroll",this.domElement.cachedReposition),window.addEventListener("resize",this.domElement.cachedReposition)};removeChangeEvents=()=>{window.removeEventListener("scroll",this.domElement.cachedReposition),window.removeEventListener("resize",this.domElement.cachedReposition)};cleanupDOM=()=>{this.domElement.container.remove(),this.domElement.shadowContainer.remove(),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy(),this.domElement.removeChangeEvents()}}const Zk={TRANSLATE:"translate",WRITE:"write"},Kk=Zk,Xk=async e=>{const t=En();let n,o=e.ownerDocument,r=W_(e).getSelection();n=t?r&&r.anchorNode&&"#text"==r.anchorNode.nodeName&&"Range"==r.type&&e.contains(r.anchorNode):r&&r.baseNode&&"#text"==r.baseNode.nodeName&&"Range"==r.type&&(e.contains(r.baseNode)||function(e,t){return"IFRAME"===e.nodeName.toUpperCase()&&V_(e)===t.ownerDocument}(e,r.baseNode)),n||(e.focus(),await K_(e)),r=W_(e).getSelection();const{domElements:i,strings:s,container:a}=function({thisDocument:e,selection:t}){let n;t.getRangeAt?n=t.getRangeAt(0):(n=e.createRange(),n.setStart(t.anchorNode,t.anchorOffset),n.setEnd(t.focusNode,t.focusOffset));const o=n.cloneContents(),r=document.createElement("div");r.appendChild(o),r.style.display="block",r.style.position="fixed",r.style.height="0px",r.style.width="0px",r.style.top="-500px",r.style.left="-500px",r.style.overflow="hidden",document.body.appendChild(r);const{domElements:i,strings:s}=Hx(r);return{domElements:i,strings:s,container:r}}({thisDocument:o,selection:r});return{domElements:i,strings:s,container:a,isSubtextSelected:n}};const Jk=e=>{const{domElements:t,strings:n,cloneContainer:o}=function(e){const t=e.cloneNode(!0),n=document.createElement("div");n.appendChild(t),n.style.display="none",document.body.appendChild(n);const{domElements:o,strings:r}=Hx(n);return{domElements:o,strings:r,cloneContainer:n}}(e);return{domElements:t,strings:n,cloneContainer:o}};const Qk=new DOMParser,eL=(e,t)=>{const n=document.createElement(t),o=Array.from(e.attributes),r=e.tagName;for(;e.firstChild;)n.appendChild(e.firstChild);return e.parentNode?.replaceChild(n,e),{tagName:r.toLowerCase(),attributes:o}},tL=e=>{const t=[],n=new Map;for(let o=0;o<e.length;++o){const r=e[o],i=Qk.parseFromString(r,"text/html"),s=Array.from(i.querySelectorAll("body *:not(head):not(html)"));for(let e of s){const t=`a${n.size+1}`,o=eL(e,t);n.set(t,o)}const a=i.body.innerHTML;t.push(a)}return{map:n,simplifiedHtml:t}},nL=(e,t)=>{const n=Qk.parseFromString(t,"text/html"),o=Array.from(n.querySelectorAll("body *:not(head):not(html)"));for(const t of o){const n=e.get(t.tagName.toLowerCase());if(!n)continue;const o=document.createElement(n.tagName);for(const e of n.attributes)o.setAttribute(e.name,e.value);for(;t.firstChild;)o.appendChild(t.firstChild);t.parentNode?.replaceChild(o,t)}return n.body.innerHTML};async function oL(e,t,n){!function(){const e=window.getSelection();return e.toString()===e.focusNode.textContent}()?await Cx(e,t,n):await nv(e,t)}var rL=Object.freeze({__proto__:null,split:async function(e,t){const n=await Xk(e);t&&(n.strings=n.domElements.map((e=>e.innerText)));const o=n.strings.map((e=>({text:e})));return{textConfig:n,requests:o}},reassemble:function(e,t){jx({strings:t[0]?.texts,domElements:e.domElements});const n=new Map;let o=0,r=0;for(const t of e.container.children)1===t.children.length&&"BR"===t.children[0].nodeName?r++:(n.set(o,r),o++);const i={text:t[0]?.texts?t[0]?.texts.map(((e,t)=>{const o=n.get(t+1)??0;return e+"\n".repeat(o)})).join("\n"):"",html:e.container.innerHTML};return e.container.remove(),i},injectContent:async function(e,t,n){await oL(e,t,n)}});var iL=Object.freeze({__proto__:null,injectContent:async function(e,t,n){await oL(e,t,n)}});function sL(e){return e.includes("web.whatsapp.com")?rL:e.includes("facebook.com")?iL:void 0}async function aL(e,n){const{isWriteRequest:o,targetLang:r,nicheIntegration:i,sourceLang:s,isHtml:a,clearInnerHTML:l,removeFormatting:c}={isWriteRequest:!1,targetLang:null,nicheIntegration:null,sourceLang:null,isHtml:null,clearInnerHTML:null,removeFormatting:!1,...n};let d,u={},p=[];const m=!Tx(e),g=sL(window.location.host);if(g?.split){const t=await g.split(e,c);u=t.textConfig,p=t.requests}else if(m)u=await Xk(e),c&&(u.strings=u.domElements.map((e=>e.innerText))),p=u.strings.map((e=>({text:e})));else{const t=e.value;$x(e)&&(u.isSubtextSelected=!0),d=u.isSubtextSelected?t.substring(e.selectionStart,e.selectionEnd):t,p.push({text:d})}if(0===p.length)return;let h,f;if(s)h=s;else try{h=document.documentElement.lang}catch(e){console.error(e)}const _=tL(p.map((e=>e.text)));f=o?await t({action:"dlRequestImproveWriting",payload:{requests:_.simplifiedHtml.map((e=>({text:e}))),domainName:window.location.hostname,websiteLanguage:h,sourceLang:s,...a&&{isHtml:!0},nicheIntegration:i}}):await t({action:"dlRequestInputTranslation",payload:{requests:_.simplifiedHtml.map((e=>({text:e}))),domainName:window.location.hostname,websiteLanguage:h,targetLang:r,platformBehavior:i}}),f=f.map((e=>({...e,text:nL(_.map,e.text),texts:e.texts.map((e=>nL(_.map,e)))})));let v={text:"",html:""};g?.reassemble?v=g.reassemble(u,f):m?(jx({strings:f[0]?.texts,domElements:u.domElements}),v.text=u.container.innerText,v.html=$n(u.container.innerHTML),u.container.remove()):(v.text=f[0].text,v.html=f[0].text),m&&!u.isSubtextSelected&&cv(e),l&&!u.isSubtextSelected&&(e.innerHTML=""),await Cx(e,v,u.isSubtextSelected)}async function lL(e){let n,o={},r=[];if(!Tx(e))o=await Xk(e),r=o.strings.map((e=>e));else{const t=e.value;$x(e)&&(o.isSubtextSelected=!0),n=o.isSubtextSelected?t.substring(e.selectionStart,e.selectionEnd):t,r.push(n)}return await t({action:"dlSplitTextRequest",payload:{texts:r}})}async function cL(e){const{element:n,mode:o,targetLang:r,style:i,formality:s,writeLang:a}=e;let l,c={},d=[];const u=!Tx(n);if(u)c=await Xk(n),d=c.strings.map((e=>e));else{const e=n.value;$x(n)&&(c.isSubtextSelected=!0),l=c.isSubtextSelected?e.substring(n.selectionStart,n.selectionEnd):e,d.push(l)}const p=tL(d);let m=await t({action:"dlRequestAlternatives",payload:{texts:p.simplifiedHtml,mode:o,targetLang:r,style:i,formality:s,domainName:window.location.hostname,writeLang:a}});if(u){const e=m.alternativeComponents.map((e=>{const t=e.map((e=>nL(p.map,e)));return jx({strings:t,domElements:c.domElements}),{text:c.container.innerText,html:$n(c.container.innerHTML)}}));m={...m,processedText:nL(p.map,m.processedText.processedText),alternatives:e.map((e=>e.text)),alternativesHtml:e.map((e=>e.html))},c.container.remove()}else m={...m,processedText:nL(p.map,m.processedText.processedText),alternatives:m.alternatives.map((e=>nL(p.map,e)))};return m}async function dL(e,t,n){const o=!Tx(t),r={text:"",html:""},i=sL(window.location.host);i?.injectContent?(r.text=e,r.html=n):o?(r.text=e,r.html=n,cv(t)):(r.text=e,r.html=e),i?.injectContent?await i.injectContent(t,r,!0):await Cx(t,r,!0)}function uL(e){let t,n,o,r,i;return n=new Tv({props:{items:e[1],selectedOption:e[2],alignRight:!1,dataQaButton:"deepl-formality-selection-button",dataQaList:"deepl-formality-selection-list",variant:e[0],autoHeight:!0}}),n.$on("valueselected",e[3]),{c(){t=Wh("div"),Xf(n.$$.fragment)},m(s,a){Hh(s,t,a),Jf(n,t,null),o=!0,r||(i=Zh(t,"mousedown",Xh(Kh(e[5]))),r=!0)},p(e,[t]){const o={};2&t&&(o.items=e[1]),4&t&&(o.selectedOption=e[2]),1&t&&(o.variant=e[0]),n.$set(o)},i(e){o||(jf(n.$$.fragment,e),o=!0)},o(e){Wf(n.$$.fragment,e),o=!1},d(e){e&&Fh(t),Qf(n),r=!1,i()}}}function pL(e,t,n){let o,r;const i=yf();let{value:s}=t,{variant:a}=t;return e.$$set=e=>{"value"in e&&n(4,s=e.value),"variant"in e&&n(0,a=e.variant)},e.$$.update=()=>{18&e.$$.dirty&&n(2,r=s?o.find((e=>e.value===s)):o.find((e=>"auto"===e.value)))},n(1,o=[{value:"auto",label:chrome.i18n.getMessage("ui_formality_automatic"),selectedOptionLabel:chrome.i18n.getMessage("ui_formality_automatic")},{value:"formal",label:chrome.i18n.getMessage("ui_formality_formal"),selectedOptionLabel:chrome.i18n.getMessage("ui_formality_formal")},{value:"informal",label:chrome.i18n.getMessage("ui_formality_informal"),selectedOptionLabel:chrome.i18n.getMessage("ui_formality_informal")}]),[a,o,r,function(e){e.detail.selectedOption.value!==s&&i("selection",e.detail)},s,function(t){Ef.call(this,e,t)}]}class mL extends t_{constructor(e){super(),e_(this,e,pL,uL,wh,{value:4,variant:0})}}function gL(e,t,n){const o=e.slice();return o[11]=t[n],o}function hL(e,t,n){const o=e.slice();return o[14]=t[n],o}function fL(e){let t,n,o;function r(){return e[8](e[14])}return{c(){t=Wh("button"),t.textContent=`${chrome.i18n.getMessage(`writing_style_${e[14]}`)}`,Jh(t,"class","svelte-i0wtba"),sf(t,"active",e[14]===e[0])},m(e,i){Hh(e,t,i),n||(o=Zh(t,"click",r),n=!0)},p(n,o){e=n,1&o&&sf(t,"active",e[14]===e[0])},d(e){e&&Fh(t),n=!1,o()}}}function _L(e){let t,n,o;function r(){return e[9](e[11])}return{c(){t=Wh("button"),t.textContent=`${chrome.i18n.getMessage(`writing_tone_${e[11]}`)}`,Jh(t,"class","svelte-i0wtba"),sf(t,"active",e[11]===e[1])},m(e,i){Hh(e,t,i),n||(o=Zh(t,"click",r),n=!0)},p(n,o){e=n,2&o&&sf(t,"active",e[11]===e[1])},d(e){e&&Fh(t),n=!1,o()}}}function vL(e){let t,n,o,r,i,s,a,l,c,d,u,p,m,g,h,f,_,v,y,w,b,E=Zf(cn),x=[];for(let t=0;t<E.length;t+=1)x[t]=fL(hL(e,E,t));let S=Zf(dn),T=[];for(let t=0;t<S.length;t+=1)T[t]=_L(gL(e,S,t));return{c(){t=Wh("div"),n=Wh("div"),o=Wh("div"),o.textContent=`${chrome.i18n.getMessage("write_style_options_headline_style")}`,r=Vh(),i=Wh("div");for(let e=0;e<x.length;e+=1)x[e].c();s=Vh(),a=Wh("div"),a.textContent=`${chrome.i18n.getMessage("write_style_options_description_style")}`,l=Vh(),c=Wh("div"),d=Wh("div"),d.textContent=`${chrome.i18n.getMessage("write_style_options_headline_tone")}`,u=Vh(),p=Wh("div");for(let e=0;e<T.length;e+=1)T[e].c();m=Vh(),g=Wh("div"),g.textContent=`${chrome.i18n.getMessage("write_style_options_description_tone")}`,h=Vh(),f=Wh("div"),_=Wh("button"),_.textContent=`${chrome.i18n.getMessage("write_style_options_cta_reset")}`,v=Vh(),y=Wh("button"),y.textContent=`${chrome.i18n.getMessage("write_style_options_cta_apply")}`,Jh(o,"class","title svelte-i0wtba"),Jh(i,"class","toggles svelte-i0wtba"),Jh(a,"class","explanation svelte-i0wtba"),Jh(n,"class","writing-style svelte-i0wtba"),Jh(d,"class","title svelte-i0wtba"),Jh(p,"class","toggles svelte-i0wtba"),Jh(g,"class","explanation svelte-i0wtba"),Jh(c,"class","tone svelte-i0wtba"),Jh(_,"class","reset svelte-i0wtba"),Jh(y,"class","apply svelte-i0wtba"),sf(y,"enabled",e[0]||e[1]),Jh(f,"class","actions svelte-i0wtba"),Jh(t,"class","container svelte-i0wtba")},m(E,S){Hh(E,t,S),Bh(t,n),Bh(n,o),Bh(n,r),Bh(n,i);for(let e=0;e<x.length;e+=1)x[e]&&x[e].m(i,null);Bh(n,s),Bh(n,a),Bh(t,l),Bh(t,c),Bh(c,d),Bh(c,u),Bh(c,p);for(let e=0;e<T.length;e+=1)T[e]&&T[e].m(p,null);Bh(c,m),Bh(c,g),Bh(t,h),Bh(t,f),Bh(f,_),Bh(f,v),Bh(f,y),w||(b=[Zh(_,"click",e[5]),Zh(y,"click",e[4])],w=!0)},p(e,[t]){if(5&t){let n;for(E=Zf(cn),n=0;n<E.length;n+=1){const o=hL(e,E,n);x[n]?x[n].p(o,t):(x[n]=fL(o),x[n].c(),x[n].m(i,null))}for(;n<x.length;n+=1)x[n].d(1);x.length=E.length}if(10&t){let n;for(S=Zf(dn),n=0;n<S.length;n+=1){const o=gL(e,S,n);T[n]?T[n].p(o,t):(T[n]=_L(o),T[n].c(),T[n].m(p,null))}for(;n<T.length;n+=1)T[n].d(1);T.length=S.length}3&t&&sf(y,"enabled",e[0]||e[1])},i:gh,o:gh,d(e){e&&Fh(t),jh(x,e),jh(T,e),w=!1,vh(b)}}}function yL(e,t,n){const o=yf();let{writingStyle:r}=t,{tone:i}=t,s=r,a=i;function l(e){n(1,a=void 0),n(0,s=e)}function c(e){n(0,s=void 0),n(1,a=e)}return e.$$set=e=>{"writingStyle"in e&&n(6,r=e.writingStyle),"tone"in e&&n(7,i=e.tone)},[s,a,l,c,function(){n(6,r=s),n(7,i=a),o("apply")},function(){n(1,a=void 0),n(0,s=void 0),n(7,i=void 0),n(6,r=void 0),o("reset")},r,i,e=>l(e),e=>c(e)]}class wL extends t_{constructor(e){super(),e_(this,e,yL,vL,wh,{writingStyle:6,tone:7})}}function bL(e){let t,n,o,r,i,s;return{c(){t=Wh("div"),n=Wh("div"),o=Wh("div"),o.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M11.25 11.25L11.2915 11.2293C11.8646 10.9427 12.5099 11.4603 12.3545 12.082L11.6455 14.918C11.4901 15.5397 12.1354 16.0573 12.7085 15.7707L12.75 15.75M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12ZM12 8.25H12.0075V8.2575H12V8.25Z" stroke="#0177A9" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',r=Vh(),i=Wh("div"),s=Wh("p"),s.textContent=`${chrome.i18n.getMessage("write_not_supported_language_message")}`,Jh(o,"class","icon svelte-16948va"),Jh(s,"class","svelte-16948va"),Jh(i,"class","text svelte-16948va"),Jh(n,"class","message svelte-16948va"),Jh(t,"class","container svelte-16948va")},m(e,a){Hh(e,t,a),Bh(t,n),Bh(n,o),Bh(n,r),Bh(n,i),Bh(i,s)},p:gh,i:gh,o:gh,d(e){e&&Fh(t)}}}class EL extends t_{constructor(e){super(),e_(this,e,null,bL,wh,{})}}function xL(e){let t,n,o;return{c(){t=qh("svg"),n=qh("path"),Jh(n,"d","M19 10C19 14.9706 14.9706 19 10 19M19 10C19 5.02944 14.9706 1 10 1M19 10H1M10 19C5.02944 19 1 14.9706 1 10M10 19C11.6569 19 13 14.9706 13 10C13 5.02944 11.6569 1 10 1M10 19C8.34315 19 7 14.9706 7 10C7 5.02944 8.34315 1 10 1M1 10C1 5.02944 5.02944 1 10 1"),Jh(n,"stroke",o=e[0]?"white":"#242B34"),Jh(n,"stroke-width","1.5"),Jh(n,"stroke-linecap","round"),Jh(n,"stroke-linejoin","round"),Jh(t,"width","20"),Jh(t,"height","20"),Jh(t,"viewBox","0 0 20 20"),Jh(t,"fill","none"),Jh(t,"xmlns","http://www.w3.org/2000/svg")},m(e,o){Hh(e,t,o),Bh(t,n)},p(e,[t]){1&t&&o!==(o=e[0]?"white":"#242B34")&&Jh(n,"stroke",o)},i:gh,o:gh,d(e){e&&Fh(t)}}}function SL(e,t,n){let{isActive:o}=t;return e.$$set=e=>{"isActive"in e&&n(0,o=e.isActive)},[o]}class TL extends t_{constructor(e){super(),e_(this,e,SL,xL,wh,{isActive:0})}}function $L(e){let t,n,o;return{c(){t=qh("svg"),n=qh("path"),Jh(n,"d","M13.2322 3.23223L16.7677 6.76777M14.7322 1.73223C15.7085 0.755922 17.2914 0.755922 18.2677 1.73223C19.244 2.70854 19.244 4.29146 18.2677 5.26777L4.5 19.0355H1V15.4644L14.7322 1.73223Z"),Jh(n,"stroke",o=e[0]?"white":"#242B34"),Jh(n,"stroke-width","1.5"),Jh(n,"stroke-linecap","round"),Jh(n,"stroke-linejoin","round"),Jh(t,"width","20"),Jh(t,"height","20"),Jh(t,"viewBox","0 0 20 20"),Jh(t,"fill","none"),Jh(t,"xmlns","http://www.w3.org/2000/svg")},m(e,o){Hh(e,t,o),Bh(t,n)},p(e,[t]){1&t&&o!==(o=e[0]?"white":"#242B34")&&Jh(n,"stroke",o)},i:gh,o:gh,d(e){e&&Fh(t)}}}function CL(e,t,n){let{isActive:o}=t;return e.$$set=e=>{"isActive"in e&&n(0,o=e.isActive)},[o]}class kL extends t_{constructor(e){super(),e_(this,e,CL,$L,wh,{isActive:0})}}function LL(e){let t,n;return{c(){t=qh("svg"),n=qh("path"),Jh(n,"fill-rule","evenodd"),Jh(n,"clip-rule","evenodd"),Jh(n,"d","M7.66109 0.236324C7.85709 0.0735691 8.1429 0.0735693 8.33891 0.236324C10.2777 1.84618 12.7315 2.85723 15.4166 2.98576C15.658 2.99732 15.8641 3.17164 15.8957 3.41119C15.9645 3.93104 16 4.4614 16 5.00004C16 10.1625 12.7401 14.5635 8.16655 16.257C8.05931 16.2967 7.94102 16.2967 7.83378 16.257C3.26004 14.5636 0 10.1625 0 4.99992C0 4.46132 0.0354836 3.93101 0.10424 3.41119C0.135926 3.17165 0.342016 2.99732 0.583373 2.98576C3.2685 2.85723 5.72231 1.84618 7.66109 0.236324ZM11.8566 6.19088C12.1002 5.8559 12.0261 5.38683 11.6911 5.1432C11.3561 4.89958 10.8871 4.97364 10.6434 5.30863L7.15969 10.0988L5.28033 8.21943C4.98744 7.92653 4.51256 7.92653 4.21967 8.21943C3.92678 8.51232 3.92678 8.98719 4.21967 9.28009L6.71967 11.7801C6.87477 11.9352 7.08999 12.0146 7.30867 11.9975C7.52734 11.9803 7.72754 11.8683 7.85655 11.6909L11.8566 6.19088Z"),Jh(n,"fill","#007E5E"),Jh(t,"width","16"),Jh(t,"height","17"),Jh(t,"viewBox","0 0 16 17"),Jh(t,"fill","none"),Jh(t,"xmlns","http://www.w3.org/2000/svg")},m(e,o){Hh(e,t,o),Bh(t,n)},d(e){e&&Fh(t)}}}function ML(e){let t,n;return{c(){t=qh("svg"),n=qh("path"),Jh(n,"fill-rule","evenodd"),Jh(n,"clip-rule","evenodd"),Jh(n,"d","M7.66109 0.236324C7.85709 0.0735691 8.1429 0.0735693 8.33891 0.236324C10.2777 1.84618 12.7315 2.85723 15.4166 2.98576C15.658 2.99732 15.8641 3.17164 15.8957 3.41119C15.9645 3.93104 16 4.4614 16 5.00004C16 10.1625 12.7401 14.5635 8.16655 16.257C8.05931 16.2967 7.94102 16.2967 7.83378 16.257C3.26004 14.5636 0 10.1625 0 4.99992C0 4.46132 0.0354836 3.93101 0.10424 3.41119C0.135926 3.17165 0.342016 2.99732 0.583373 2.98576C3.2685 2.85723 5.72231 1.84618 7.66109 0.236324ZM11.8566 6.19088C12.1002 5.8559 12.0261 5.38683 11.6911 5.1432C11.3561 4.89958 10.8871 4.97364 10.6434 5.30863L7.15969 10.0988L5.28033 8.21943C4.98744 7.92653 4.51256 7.92653 4.21967 8.21943C3.92678 8.51232 3.92678 8.98719 4.21967 9.28009L6.71967 11.7801C6.87477 11.9352 7.08999 12.0146 7.30867 11.9975C7.52734 11.9803 7.72754 11.8683 7.85655 11.6909L11.8566 6.19088Z"),Jh(n,"fill","white"),Jh(t,"width","16"),Jh(t,"height","17"),Jh(t,"viewBox","0 0 16 17"),Jh(t,"fill","none"),Jh(t,"xmlns","http://www.w3.org/2000/svg")},m(e,o){Hh(e,t,o),Bh(t,n)},d(e){e&&Fh(t)}}}function IL(e){let t;function n(e,t){return e[0]?ML:LL}let o=n(e),r=o(e);return{c(){r.c(),t=Yh()},m(e,n){r.m(e,n),Hh(e,t,n)},p(e,[i]){o!==(o=n(e))&&(r.d(1),r=o(e),r&&(r.c(),r.m(t.parentNode,t)))},i:gh,o:gh,d(e){e&&Fh(t),r.d(e)}}}function AL(e,t,n){let{isActive:o}=t;return e.$$set=e=>{"isActive"in e&&n(0,o=e.isActive)},[o]}class RL extends t_{constructor(e){super(),e_(this,e,AL,IL,wh,{isActive:0})}}function OL(e,t,n){const o=e.slice();return o[48]=t[n],o[50]=n,o}function NL(e){let t,n;return t=new RL({props:{isActive:e[6]===Kk.TRANSLATE}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p(e,n){const o={};64&n[0]&&(o.isActive=e[6]===Kk.TRANSLATE),t.$set(o)},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function DL(e){let t,n;return t=new RL({props:{isActive:e[6]===Kk.WRITE}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p(e,n){const o={};64&n[0]&&(o.isActive=e[6]===Kk.WRITE),t.$set(o)},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function PL(e){let t,n,o=e[16]&&!e[2]&&zL(e);return{c(){o&&o.c(),t=Yh()},m(e,r){o&&o.m(e,r),Hh(e,t,r),n=!0},p(e,n){e[16]&&!e[2]?o?(o.p(e,n),65540&n[0]&&jf(o,1)):(o=zL(e),o.c(),jf(o,1),o.m(t.parentNode,t)):o&&(Hf(),Wf(o,1,1,(()=>{o=null})),Ff())},i(e){n||(jf(o),n=!0)},o(e){Wf(o),n=!1},d(e){e&&Fh(t),o&&o.d(e)}}}function BL(e){let t,n,o,r,i=e[18]&&pn(e[19],$t.TRANSLATOR);n=new Rb({props:{value:e[1],fontSize:"sm",variant:"input-selection-result"}}),n.$on("selection",e[39]);let s=i&&HL(e);return{c(){t=Wh("div"),Xf(n.$$.fragment),o=Vh(),s&&s.c(),Jh(t,"class","translate-options svelte-18oyowk")},m(e,i){Hh(e,t,i),Jf(n,t,null),Bh(t,o),s&&s.m(t,null),r=!0},p(e,o){const r={};2&o[0]&&(r.value=e[1]),n.$set(r),786432&o[0]&&(i=e[18]&&pn(e[19],$t.TRANSLATOR)),i?s?(s.p(e,o),786432&o[0]&&jf(s,1)):(s=HL(e),s.c(),jf(s,1),s.m(t,null)):s&&(Hf(),Wf(s,1,1,(()=>{s=null})),Ff())},i(e){r||(jf(n.$$.fragment,e),jf(s),r=!0)},o(e){Wf(n.$$.fragment,e),Wf(s),r=!1},d(e){e&&Fh(t),Qf(n),s&&s.d()}}}function zL(e){let t,n,o,r;n=new Rb({props:{onlyShowWriteEnabledLanguages:!0,showChooseLanguageOption:!e[15],value:e[15],fontSize:"sm",variant:"input-selection-result",autoHeight:!0}}),n.$on("selection",e[40]);let i=e[17]&&UL(e);return{c(){t=Wh("div"),Xf(n.$$.fragment),o=Vh(),i&&i.c(),Jh(t,"class","write-options svelte-18oyowk")},m(e,s){Hh(e,t,s),Jf(n,t,null),Bh(t,o),i&&i.m(t,null),r=!0},p(e,o){const r={};32768&o[0]&&(r.showChooseLanguageOption=!e[15]),32768&o[0]&&(r.value=e[15]),n.$set(r),e[17]?i?i.p(e,o):(i=UL(e),i.c(),i.m(t,null)):i&&(i.d(1),i=null)},i(e){r||(jf(n.$$.fragment,e),r=!0)},o(e){Wf(n.$$.fragment,e),r=!1},d(e){e&&Fh(t),Qf(n),i&&i.d()}}}function UL(e){let t,n,o;return{c(){t=Wh("button"),t.textContent=`${chrome.i18n.getMessage("write_style_options_button_label")}`,Jh(t,"class","style-switch svelte-18oyowk"),sf(t,"open",e[10])},m(r,i){Hh(r,t,i),n||(o=Zh(t,"click",e[41]),n=!0)},p(e,n){1024&n[0]&&sf(t,"open",e[10])},d(e){e&&Fh(t),n=!1,o()}}}function HL(e){let t,n;return t=new fv({props:{tooltip:chrome.i18n.getMessage("input_selection_alternatives_tone_tooltip"),$$slots:{default:[FL]},$$scope:{ctx:e}}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p(e,n){const o={};128&n[0]|1048576&n[1]&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function FL(e){let t,n;return t=new mL({props:{value:e[7],variant:"input-selection-result"}}),t.$on("selection",e[22]),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p(e,n){const o={};128&n[0]&&(o.value=e[7]),t.$set(o)},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function jL(e){let t,n,o,r,i;const s=[VL,GL,qL],a=[];function l(e,t){return e[11]?0:e[6]!==Kk.WRITE||e[16]?e[0]&&e[0].length>0?2:-1:1}return~(n=l(e))&&(o=a[n]=s[n](e)),{c(){t=Wh("div"),o&&o.c(),Jh(t,"style",r=`height: ${e[14]?e[14]+"px":"auto"}; max-height: 300px; width: 100%; overflow-y: auto`)},m(e,o){Hh(e,t,o),~n&&a[n].m(t,null),i=!0},p(e,c){let d=n;n=l(e),n===d?~n&&a[n].p(e,c):(o&&(Hf(),Wf(a[d],1,1,(()=>{a[d]=null})),Ff()),~n?(o=a[n],o?o.p(e,c):(o=a[n]=s[n](e),o.c()),jf(o,1),o.m(t,null)):o=null),(!i||16384&c[0]&&r!==(r=`height: ${e[14]?e[14]+"px":"auto"}; max-height: 300px; width: 100%; overflow-y: auto`))&&Jh(t,"style",r)},i(e){i||(jf(o),i=!0)},o(e){Wf(o),i=!1},d(e){e&&Fh(t),~n&&a[n].d()}}}function WL(e){let t,n,o;return n=new kw({props:{error:e[2]}}),{c(){t=Wh("div"),Xf(n.$$.fragment),Jh(t,"class","error-container svelte-18oyowk")},m(e,r){Hh(e,t,r),Jf(n,t,null),o=!0},p(e,t){const o={};4&t[0]&&(o.error=e[2]),n.$set(o)},i(e){o||(jf(n.$$.fragment,e),o=!0)},o(e){Wf(n.$$.fragment,e),o=!1},d(e){e&&Fh(t),Qf(n)}}}function qL(e){let t,n,o,r;const i=[ZL,YL],s=[];function a(e,t){return e[10]?0:1}return n=a(e),o=s[n]=i[n](e),{c(){t=Wh("div"),o.c(),Jh(t,"class","alternatives-container svelte-18oyowk")},m(o,i){Hh(o,t,i),s[n].m(t,null),e[46](t),r=!0},p(e,r){let l=n;n=a(e),n===l?s[n].p(e,r):(Hf(),Wf(s[l],1,1,(()=>{s[l]=null})),Ff(),o=s[n],o?o.p(e,r):(o=s[n]=i[n](e),o.c()),jf(o,1),o.m(t,null))},i(e){r||(jf(o),r=!0)},o(e){Wf(o),r=!1},d(o){o&&Fh(t),s[n].d(),e[46](null)}}}function GL(e){let t,n,o;return n=new EL({}),{c(){t=Wh("div"),Xf(n.$$.fragment),Jh(t,"class","write-support svelte-18oyowk")},m(e,r){Hh(e,t,r),Jf(n,t,null),o=!0},p:gh,i(e){o||(jf(n.$$.fragment,e),o=!0)},o(e){Wf(n.$$.fragment,e),o=!1},d(e){e&&Fh(t),Qf(n)}}}function VL(e){let t,n,o,r;return n=new tS({}),{c(){t=Wh("div"),Xf(n.$$.fragment),Jh(t,"style",o=`height: ${e[14]?e[14]+"px":"auto"}; max-height: 300px;`),Jh(t,"class","loading-spinner svelte-18oyowk")},m(e,o){Hh(e,t,o),Jf(n,t,null),r=!0},p(e,n){(!r||16384&n[0]&&o!==(o=`height: ${e[14]?e[14]+"px":"auto"}; max-height: 300px;`))&&Jh(t,"style",o)},i(e){r||(jf(n.$$.fragment,e),r=!0)},o(e){Wf(n.$$.fragment,e),r=!1},d(e){e&&Fh(t),Qf(n)}}}function YL(e){let t,n,o,r,i=Zf(e[12]),s=[];for(let t=0;t<i.length;t+=1)s[t]=KL(OL(e,i,t));let a=e[0].length>3&&!e[4]&&XL(e);return{c(){t=Wh("div"),n=Wh("div"),n.textContent=`${chrome.i18n.getMessage("input_selection_alternatives_label")}`,o=Vh();for(let e=0;e<s.length;e+=1)s[e].c();r=Vh(),a&&a.c(),Jh(n,"class","alternative headline svelte-18oyowk"),Jh(t,"class","alternatives svelte-18oyowk")},m(e,i){Hh(e,t,i),Bh(t,n),Bh(t,o);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(t,null);Bh(t,r),a&&a.m(t,null)},p(e,n){if(16781312&n[0]){let o;for(i=Zf(e[12]),o=0;o<i.length;o+=1){const a=OL(e,i,o);s[o]?s[o].p(a,n):(s[o]=KL(a),s[o].c(),s[o].m(t,r))}for(;o<s.length;o+=1)s[o].d(1);s.length=i.length}e[0].length>3&&!e[4]?a?a.p(e,n):(a=XL(e),a.c(),a.m(t,null)):a&&(a.d(1),a=null)},i:gh,o:gh,d(e){e&&Fh(t),jh(s,e),a&&a.d()}}}function ZL(e){let t,n,o,r,i,s;function a(t){e[42](t)}function l(t){e[43](t)}let c={};return void 0!==e[8]&&(c.writingStyle=e[8]),void 0!==e[9]&&(c.tone=e[9]),n=new wL({props:c}),Sf.push((()=>Kf(n,"writingStyle",a))),Sf.push((()=>Kf(n,"tone",l))),n.$on("apply",e[23]),n.$on("reset",e[23]),{c(){t=Wh("div"),Xf(n.$$.fragment)},m(e,o){Hh(e,t,o),Jf(n,t,null),s=!0},p(e,t){const i={};!o&&256&t[0]&&(o=!0,i.writingStyle=e[8],If((()=>o=!1))),!r&&512&t[0]&&(r=!0,i.tone=e[9],If((()=>r=!1))),n.$set(i)},i(e){s||(jf(n.$$.fragment,e),e&&(i||Mf((()=>{i=Gf(t,N_,{y:-5,duration:500}),i.start()}))),s=!0)},o(e){Wf(n.$$.fragment,e),s=!1},d(e){e&&Fh(t),Qf(n)}}}function KL(e){let t,n,o,r,i=e[48]+"";function s(){return e[44](e[48],e[50])}return{c(){t=Wh("div"),n=Gh(i),Jh(t,"class","alternative svelte-18oyowk"),Jh(t,"data-qa","selection-result-view-alternative")},m(e,i){Hh(e,t,i),Bh(t,n),o||(r=Zh(t,"click",s),o=!0)},p(t,o){e=t,4096&o[0]&&i!==(i=e[48]+"")&&Qh(n,i)},d(e){e&&Fh(t),o=!1,r()}}}function XL(e){let t,n,o,r;return{c(){t=Wh("div"),n=Wh("span"),n.textContent=`${chrome.i18n.getMessage("input_selection_alternatives_show_more")}`,Jh(t,"class","alternative show-more svelte-18oyowk")},m(i,s){Hh(i,t,s),Bh(t,n),o||(r=Zh(t,"click",e[45]),o=!0)},p:gh,d(e){e&&Fh(t),o=!1,r()}}}function JL(e){let t,n,o,r,i,s,a,l,c,d,u,p,m,g,h,f,_,v,y,w,b,E,x,S,T,$,C,k,L,M,I,A,R,O,N=chrome.i18n.getMessage("input_selection_tab_button_translate")+"",D=pn(e[19],$t.TRANSLATOR),P=chrome.i18n.getMessage("input_selection_tab_button_write")+"",B=pn(e[19],$t.WRITE);c=new TL({props:{isActive:e[6]===Kk.TRANSLATE}});let z=D&&NL(e);h=new kL({props:{isActive:e[6]===Kk.WRITE}});let U=B&&DL(e);const H=[BL,PL],F=[];function j(e,t){return e[6]===Kk.TRANSLATE?0:e[6]===Kk.WRITE?1:-1}~($=j(e))&&(C=F[$]=H[$](e));const W=[WL,jL],q=[];function G(e,t){return e[2]?0:1}return L=G(e),M=q[L]=W[L](e),{c(){t=Wh("div"),n=Wh("div"),o=Wh("div"),r=Wh("button"),i=Vh(),s=Wh("div"),a=Wh("div"),l=Wh("button"),Xf(c.$$.fragment),d=Vh(),u=Gh(N),p=Vh(),z&&z.c(),m=Vh(),g=Wh("button"),Xf(h.$$.fragment),f=Vh(),_=Gh(P),v=Vh(),U&&U.c(),y=Vh(),w=Wh("div"),b=Wh("button"),E=Vh(),x=Wh("button"),S=Vh(),T=Wh("div"),C&&C.c(),k=Vh(),M.c(),Jh(r,"class","dl-logo svelte-18oyowk"),Jh(r,"aria-label",chrome.i18n.getMessage("deepl_logo")),Jh(l,"class","svelte-18oyowk"),sf(l,"isActive",e[6]===Kk.TRANSLATE),Jh(g,"class","svelte-18oyowk"),sf(g,"isActive",e[6]===Kk.WRITE),Jh(a,"class","selector svelte-18oyowk"),Jh(s,"class","selector-container svelte-18oyowk"),Jh(o,"class","tab-container svelte-18oyowk"),Jh(b,"type","button"),Jh(b,"class","dl-settings-icon svelte-18oyowk"),Jh(x,"type","button"),Jh(x,"class","dl-close-icon svelte-18oyowk"),Jh(w,"class","action-container svelte-18oyowk"),Jh(n,"class","header svelte-18oyowk"),Jh(T,"class","ai-options svelte-18oyowk"),tf(T,"min-height","37px"),Jh(t,"style",e[5]),Jh(t,"class","container svelte-18oyowk"),Jh(t,"data-qa","selection-result-view")},m(C,M){Hh(C,t,M),Bh(t,n),Bh(n,o),Bh(o,r),Bh(o,i),Bh(o,s),Bh(s,a),Bh(a,l),Jf(c,l,null),Bh(l,d),Bh(l,u),Bh(l,p),z&&z.m(l,null),Bh(a,m),Bh(a,g),Jf(h,g,null),Bh(g,f),Bh(g,_),Bh(g,v),U&&U.m(g,null),Bh(n,y),Bh(n,w),Bh(w,b),Bh(w,E),Bh(w,x),Bh(t,S),Bh(t,T),~$&&F[$].m(T,null),Bh(t,k),q[L].m(t,null),A=!0,R||(O=[Zh(l,"click",e[35]),Zh(g,"click",e[36]),Zh(b,"click",e[37]),Zh(x,"click",e[38]),Zh(t,"mousedown",Xh(Kh(e[34])))],R=!0)},p(e,n){const o={};64&n[0]&&(o.isActive=e[6]===Kk.TRANSLATE),c.$set(o),524288&n[0]&&(D=pn(e[19],$t.TRANSLATOR)),D?z?(z.p(e,n),524288&n[0]&&jf(z,1)):(z=NL(e),z.c(),jf(z,1),z.m(l,null)):z&&(Hf(),Wf(z,1,1,(()=>{z=null})),Ff()),(!A||64&n[0])&&sf(l,"isActive",e[6]===Kk.TRANSLATE);const r={};64&n[0]&&(r.isActive=e[6]===Kk.WRITE),h.$set(r),524288&n[0]&&(B=pn(e[19],$t.WRITE)),B?U?(U.p(e,n),524288&n[0]&&jf(U,1)):(U=DL(e),U.c(),jf(U,1),U.m(g,null)):U&&(Hf(),Wf(U,1,1,(()=>{U=null})),Ff()),(!A||64&n[0])&&sf(g,"isActive",e[6]===Kk.WRITE);let i=$;$=j(e),$===i?~$&&F[$].p(e,n):(C&&(Hf(),Wf(F[i],1,1,(()=>{F[i]=null})),Ff()),~$?(C=F[$],C?C.p(e,n):(C=F[$]=H[$](e),C.c()),jf(C,1),C.m(T,null)):C=null);let s=L;L=G(e),L===s?q[L].p(e,n):(Hf(),Wf(q[s],1,1,(()=>{q[s]=null})),Ff(),M=q[L],M?M.p(e,n):(M=q[L]=W[L](e),M.c()),jf(M,1),M.m(t,null)),(!A||32&n[0])&&Jh(t,"style",e[5])},i(e){A||(jf(c.$$.fragment,e),jf(z),jf(h.$$.fragment,e),jf(U),jf(C),jf(M),e&&Mf((()=>{A&&(I||(I=Yf(t,D_,{},!0)),I.run(1))})),A=!0)},o(e){Wf(c.$$.fragment,e),Wf(z),Wf(h.$$.fragment,e),Wf(U),Wf(C),Wf(M),e&&(I||(I=Yf(t,D_,{},!1)),I.run(0)),A=!1},d(e){e&&Fh(t),Qf(c),z&&z.d(),Qf(h),U&&U.d(),~$&&F[$].d(),q[L].d(),e&&I&&I.end(),R=!1,vh(O)}}}function QL(e,n,o){let r,i,a,l;const c=bf("deepl_settings");Eh(e,c,(e=>o(19,l=e)));let d,u,p,m,g,h,f,{element:_}=n,{detectedLanguage:v}=n,{isMoreThanOneSentence:y}=n,{alternatives:w}=n,{alternativesHtml:b}=n,{error:E}=n,{mode:x}=n,{close:S}=n,{initialTargetLang:T}=n,{mostSpace:$}=n,C=x,k=!1,L=!1,M=0,I=Jn(v)?Kn(v):void 0;function A(e){o(10,k=!1),o(6,C=e),R()}async function R(){let e,t=T;try{if(!v){const e=await lL(_);o(28,v=e.detected_source_language),o(29,y=e.sentences.length>1)}}catch(e){return void o(2,E=e)}if(C===Kk.WRITE){if(!i)return;e=u||p,t=v,I&&(t=I)}o(11,L=!0),o(2,E=null);const n={element:_,mode:C,targetLang:t,style:e,writeLang:I,...C===Kk.TRANSLATE&&{formality:d}};try{let e=await cL(n);o(0,w=e.alternatives),o(30,b=e.alternativesHtml)}catch(e){o(2,E=e)}o(11,L=!1)}async function O(e,n){b&&b.length>0?dL(e,_,b[n]):dL(e,_);try{t({action:"dlTrackAlternativeSelected",payload:{numberOfAlternatives:w.length,selectedAlternative:n+1,sourceLang:v,targetLang:T,contentProcessingMode:x,alternativesSegmentation:(o=e,/^[\p{L}\p{M}\p{N}\p{Pc}]+$/u.test(o)?nn:on)}})}catch(e){console.error(e)}var o}function N(e){o(1,T=e),R()}function D(e){o(15,I=e),R()}function P(){t({action:"dlOpenInternalPage",payload:{destination:nS.settings_page}})}var B;B=()=>{if(k)o(14,M=0);else if(f){const e=f.offsetHeight;e>M&&o(14,M=e)}},ff().$$.after_update.push(B);return e.$$set=e=>{"element"in e&&o(31,_=e.element),"detectedLanguage"in e&&o(28,v=e.detectedLanguage),"isMoreThanOneSentence"in e&&o(29,y=e.isMoreThanOneSentence),"alternatives"in e&&o(0,w=e.alternatives),"alternativesHtml"in e&&o(30,b=e.alternativesHtml),"error"in e&&o(2,E=e.error),"mode"in e&&o(32,x=e.mode),"close"in e&&o(3,S=e.close),"initialTargetLang"in e&&o(1,T=e.initialTargetLang),"mostSpace"in e&&o(33,$=e.mostSpace)},e.$$.update=()=>{2&e.$$.dirty[0]&&o(18,r=Qn(T)),32&e.$$.dirty[0]|4&e.$$.dirty[1]&&(o(5,h=""),"top"===$.vertical?o(5,h="bottom: 35px;"):o(5,h="top: 5px;"),"left"===$.horizontal&&o(5,h=`${h} right: -32px;`),o(5,h=`${h} max-height: ${$.verticalSpaceLeft}px;`)),17&e.$$.dirty[0]&&w&&(w.length<=3&&o(12,m=[...w]),o(12,m=g?[...w]:w.slice(0,3))),268435456&e.$$.dirty[0]&&o(16,i=v&&Jn(v)),268435456&e.$$.dirty[0]&&o(17,a=v&&s.includes(v.substring(0,2).toUpperCase()))},[w,T,E,S,g,h,C,d,u,p,k,L,m,f,M,I,i,a,r,l,c,A,function(e){const t=e.detail.selectedOption.value;o(7,d=t),C===Kk.TRANSLATE&&R()},async function(){o(10,k=!1),await R()},O,N,D,P,v,y,b,_,x,$,function(t){Ef.call(this,e,t)},()=>A(Kk.TRANSLATE),()=>A(Kk.WRITE),()=>P(),()=>S(),e=>{N(e.detail.selectedOption.value)},e=>{D(e.detail.selectedOption.value)},()=>o(10,k=!k),function(e){u=e,o(8,u)},function(e){p=e,o(9,p)},(e,t)=>O(e,t),()=>o(4,g=!g),function(e){Sf[e?"unshift":"push"]((()=>{f=e,o(13,f)}))}]}class eM extends t_{constructor(e){super(),e_(this,e,QL,JL,wh,{element:31,detectedLanguage:28,isMoreThanOneSentence:29,alternatives:0,alternativesHtml:30,error:2,mode:32,close:3,initialTargetLang:1,mostSpace:33},null,[-1,-1])}}function tM(e){let t,n,o,r,i,s;const a=[oM,nM],l=[];function c(e,t){return e[2]?0:1}n=c(e),o=l[n]=a[n](e);let d=e[7]&&iM(e);return{c(){t=Wh("div"),o.c(),r=Vh(),i=Wh("div"),d&&d.c(),Jh(t,"class","icon-container svelte-1695l6u"),Jh(t,"dir",eo()),Jh(t,"data-qa","input-selection-trigger"),Jh(i,"class","popup svelte-1695l6u")},m(o,a){Hh(o,t,a),l[n].m(t,null),e[18](t),Hh(o,r,a),Hh(o,i,a),d&&d.m(i,null),s=!0},p(e,r){let s=n;n=c(e),n===s?l[n].p(e,r):(Hf(),Wf(l[s],1,1,(()=>{l[s]=null})),Ff(),o=l[n],o?o.p(e,r):(o=l[n]=a[n](e),o.c()),jf(o,1),o.m(t,null)),e[7]?d?(d.p(e,r),128&r&&jf(d,1)):(d=iM(e),d.c(),jf(d,1),d.m(i,null)):d&&(Hf(),Wf(d,1,1,(()=>{d=null})),Ff())},i(e){s||(jf(o),jf(d),s=!0)},o(e){Wf(o),Wf(d),s=!1},d(o){o&&(Fh(t),Fh(r),Fh(i)),l[n].d(),e[18](null),d&&d.d()}}}function nM(e){let t,n;return t=new fv({props:{tooltip:chrome.i18n.getMessage("input_selection_see_alternatives_icon_trigger"),showProShield:pn(e[3],$t.WRITE),$$slots:{default:[rM]},$$scope:{ctx:e}}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p(e,n){const o={};8&n&&(o.showProShield=pn(e[3],$t.WRITE)),524288&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function oM(e){let t,n;return t=new tS({props:{small:!0}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p:gh,i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function rM(e){let t,n,o;return{c(){t=Wh("div"),Jh(t,"class","dl-logo svelte-1695l6u")},m(r,i){Hh(r,t,i),n||(o=[Zh(t,"click",Xh(Kh(e[14]))),Zh(t,"mouseup",Xh(Kh(e[16]))),Zh(t,"mousedown",Xh(Kh(e[17])))],n=!0)},p:gh,d(e){e&&Fh(t),n=!1,vh(o)}}}function iM(e){let t,n;return t=new eM({props:{element:e[0],detectedLanguage:e[5],isMoreThanOneSentence:e[6],mode:e[8],alternatives:e[9],alternativesHtml:e[10],mostSpace:e[4],error:e[12],close:e[15],initialTargetLang:e[11]}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.element=e[0]),32&n&&(o.detectedLanguage=e[5]),64&n&&(o.isMoreThanOneSentence=e[6]),256&n&&(o.mode=e[8]),512&n&&(o.alternatives=e[9]),1024&n&&(o.alternativesHtml=e[10]),16&n&&(o.mostSpace=e[4]),4096&n&&(o.error=e[12]),2048&n&&(o.initialTargetLang=e[11]),t.$set(o)},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function sM(e){let t,n,o=!e[13]&&tM(e);return{c(){o&&o.c(),t=Yh()},m(e,r){o&&o.m(e,r),Hh(e,t,r),n=!0},p(e,[n]){e[13]?o&&(Hf(),Wf(o,1,1,(()=>{o=null})),Ff()):o?(o.p(e,n),8192&n&&jf(o,1)):(o=tM(e),o.c(),jf(o,1),o.m(t.parentNode,t))},i(e){n||(jf(o),n=!0)},o(e){Wf(o),n=!1},d(e){e&&Fh(t),o&&o.d(e)}}}function aM(e,n,o){let r,i;Eh(e,r_,(e=>o(3,i=e))),wf("deepl_settings",r_),wf("text_direction",eo());let s,a,l,c,d,u,p,{element:m}=n,g={vertical:"bottom",horizontal:"right"},h=!1,f=Kk.TRANSLATE,_="EN-GB";return e.$$set=e=>{"element"in e&&o(0,m=e.element)},e.$$.update=()=>{6&e.$$.dirty&&!u&&s&&o(4,g=function(e){if(!e)return void console.error("No element provided");const t=e.getBoundingClientRect(),n=window.innerWidth,o=window.innerHeight,r={top:t.top,right:n-t.right,bottom:o-t.bottom,left:t.left};return{vertical:r.top>r.bottom?"top":"bottom",horizontal:r.left>r.right?"left":"right",verticalSpaceLeft:r.top>r.bottom?r.top:r.bottom}}(s)),8&e.$$.dirty&&o(13,r=!i.enableInputTranslation||Ix(window.location.host,window.location.href)||i.blacklistDomainsForWriting.includes(window.location.host))},[m,s,u,i,g,a,l,h,f,c,d,_,p,r,async function(){try{t({action:"dlTrackSeeAlternativesClicked"})}catch(e){console.error(e)}if(!h){o(2,u=!0);try{const e=await lL(m);o(5,a=e.detected_source_language),o(6,l=e.sentences.length>1),o(11,_=i.targetLanguageUserInput?i.targetLanguageUserInput:"EN-GB"),o(8,f=_.substring(0,2).toUpperCase()===a.substring(0,2).toUpperCase()?Kk.WRITE:Kk.TRANSLATE);const t={element:m,mode:f,targetLang:_},n=await cL(t);o(9,c=n.alternatives),o(10,d=n.alternativesHtml)}catch(e){o(12,p=e)}o(2,u=!1)}o(7,h=!h)},function(){o(7,h=!1)},function(t){Ef.call(this,e,t)},function(t){Ef.call(this,e,t)},function(e){Sf[e?"unshift":"push"]((()=>{s=e,o(1,s)}))}]}class lM extends t_{constructor(e){super(),e_(this,e,aM,sM,wh,{element:0})}}class cM{static HTML_TAG_NAME="deepl-input-selection-trigger";static createElement=(e=document)=>{const t=e.createElement(cM.HTML_TAG_NAME),n=new cM(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.addChangeEvents=n.addChangeEvents,t.removeChangeEvents=n.removeChangeEvents,t.repositionContainer=n.repositionContainer,t.cachedReposition=n.cachedReposition,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.domElement.mainComponent,this.domElement.cachedMouseEvent,this.domElement.cachedElement=null;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowRoot.addEventListener("mouseup",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowRoot.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowRoot.addEventListener("mousedown",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=(e,t)=>{this.domElement.shadowContainer&&this.domElement.shadowContainer.childElementCount>0&&this.domElement.cleanupDOM(),this.domElement.cachedElement=e,this.domElement.repositionContainer(t,e),this.domElement.shadowContainer.appendChild(this.domElement.container),this.domElement.mainComponent=new lM({target:this.domElement.container,props:{element:e}}),this.domElement.addChangeEvents(),this.domElement.cachedMouseEvent=t};repositionContainer=(e,t)=>{if(window.getSelection()&&!window.getSelection().toString())return void this.domElement.cleanupDOM();const{deepl_inline_ui:n}=z,o=n.z_index+500;let r;r="TEXTAREA"===t.tagName?zx(t):Dx();let i=`position: absolute; top: 0px; left: 0px; width: 100%; z-index: ${o}`,s=`position: absolute; z-index: ${o};`;this.domElement.shadowContainer.style.cssText=i,this.domElement.container.style.cssText=s;const a=Vk(e,r);this.domElement.container.style.top=`${parseInt(a.containerStyleTop)}px`,this.domElement.container.style.left=`${parseInt(a.containerStyleLeft)}px`};cachedReposition=()=>this.domElement.repositionContainer(this.domElement.cachedMouseEvent,this.domElement.cachedElement);addChangeEvents=()=>{window.addEventListener("scroll",this.domElement.cachedReposition),window.addEventListener("resize",this.domElement.cachedReposition)};removeChangeEvents=()=>{window.removeEventListener("scroll",this.domElement.cachedReposition),window.removeEventListener("resize",this.domElement.cachedReposition)};cleanupDOM=()=>{this.domElement.container.remove(),this.domElement.shadowContainer.remove(),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy(),this.domElement.removeChangeEvents()}}function dM(e){let t,n,o,r=$n(e[1])+"";return{c(){t=Wh("div"),Jh(t,"class","container svelte-1dicgbw")},m(i,s){Hh(i,t,s),t.innerHTML=r,n||(o=Zh(t,"click",e[0]),n=!0)},p:gh,i:gh,o:gh,d(e){e&&Fh(t),n=!1,o()}}}function uM(e){return[function(){t({action:"dlExternalURLRedirect",payload:{destination:my}}),t({action:"dlTrackUiAction",payload:{uiAction:Be}})},chrome.i18n.getMessage("notification_keyboard_shortcut_hint",`<span style="color: #006494; text-decoration: underline;">${chrome.i18n.getMessage("notification_keyboard_shortcut_hint_placeholder")}</span>`)]}class pM extends t_{constructor(e){super(),e_(this,e,uM,dM,wh,{})}}function mM(e){let t,n,o,r=$n(e[0])+"";return{c(){t=Wh("div"),Jh(t,"class","container svelte-1dicgbw"),Jh(t,"data-qa","deepl-notification-open-settings-page-writing-link")},m(i,s){Hh(i,t,s),t.innerHTML=r,n||(o=Zh(t,"click",e[1]),n=!0)},p(e,[n]){1&n&&r!==(r=$n(e[0])+"")&&(t.innerHTML=r)},i:gh,o:gh,d(e){e&&Fh(t),n=!1,o()}}}function gM(e,n,o){let{options:r}=n,i=r?.settingsPageURL?r?.settingsPageURL:nS.settings_page;let s="",a=r?.currentDomain?r.currentDomain:"";switch(r.saveAction){case We:s=chrome.i18n.getMessage("notification_input_translation_disabled_everywhere",`<span style="text-decoration: underline;">${chrome.i18n.getMessage("notification_input_translation_link_to_settings_placeholder")}</span>`);break;case je:s=chrome.i18n.getMessage("notification_input_translation_disabled_per_site",[a,`<span style="text-decoration: underline;">${chrome.i18n.getMessage("notification_input_translation_link_to_settings_placeholder")}</span>`])}return e.$$set=e=>{"options"in e&&o(2,r=e.options)},[s,function(){t({action:"dlOpenInternalPage",payload:{destination:i}})},r]}class hM extends t_{constructor(e){super(),e_(this,e,gM,mM,wh,{options:2})}}function fM(e){let t,n,o,r=$n(e[0])+"";return{c(){t=Wh("div"),Jh(t,"class","container svelte-1dicgbw"),Jh(t,"data-qa","deepl-notification-open-settings-page-reading-link")},m(i,s){Hh(i,t,s),t.innerHTML=r,n||(o=Zh(t,"click",e[1]),n=!0)},p(e,[n]){1&n&&r!==(r=$n(e[0])+"")&&(t.innerHTML=r)},i:gh,o:gh,d(e){e&&Fh(t),n=!1,o()}}}function _M(e,n,o){let{options:r}=n,i=r?.settingsPageURL?r?.settingsPageURL:nS.settings_page;let s="",a=r?.currentDomain?r.currentDomain:"";switch(r.saveAction){case We:s=chrome.i18n.getMessage("notification_inline_translation_disabled_everywhere",`<span style="text-decoration: underline;">${chrome.i18n.getMessage("notification_inline_translation_link_to_settings_placeholder")}</span>`);break;case je:s=chrome.i18n.getMessage("notification_inline_translation_disabled_per_site",[a,`<span style="text-decoration: underline;">${chrome.i18n.getMessage("notification_inline_translation_link_to_settings_placeholder")}</span>`])}return e.$$set=e=>{"options"in e&&o(2,r=e.options)},[s,function(){t({action:"dlOpenInternalPage",payload:{destination:i}})},r]}class vM extends t_{constructor(e){super(),e_(this,e,_M,fM,wh,{options:2})}}function yM(e){let t,n,o;return{c(){t=Wh("div"),t.textContent=`${chrome.i18n.getMessage("ui_notification_fpt_hide")}`,Jh(t,"class","container svelte-1dicgbw"),Jh(t,"data-qa","deepl-notification-open-settings-page-reading-link")},m(r,i){Hh(r,t,i),n||(o=Zh(t,"click",e[0]),n=!0)},p:gh,i:gh,o:gh,d(e){e&&Fh(t),n=!1,o()}}}function wM(e){return[function(){t({action:"dlOpenInternalPage",payload:{destination:nS.settings_page}})}]}class bM extends t_{constructor(e){super(),e_(this,e,wM,yM,wh,{})}}function EM(e){let t;return{c(){t=Wh("div"),t.textContent=`${chrome.i18n.getMessage("onboarding_account_successfully_created")}`,Jh(t,"class","dl-account-created svelte-nuwktw")},m(e,n){Hh(e,t,n)},p:gh,i:gh,o:gh,d(e){e&&Fh(t)}}}class xM extends t_{constructor(e){super(),e_(this,e,null,EM,wh,{})}}function SM(e){let t;return{c(){t=Wh("div"),t.textContent=`${chrome.i18n.getMessage("onboarding_successful_login_notification")}`,Jh(t,"class","dl-account-created svelte-nuwktw")},m(e,n){Hh(e,t,n)},p:gh,i:gh,o:gh,d(e){e&&Fh(t)}}}class TM extends t_{constructor(e){super(),e_(this,e,null,SM,wh,{})}}function $M(e){let t,n,o,r;return{c(){t=Wh("div"),n=Wh("span"),n.textContent=`${chrome.i18n.getMessage("ui_gslides_unsaved_asset_warning_main")}`,o=Vh(),r=Wh("span"),r.textContent=`${chrome.i18n.getMessage("ui_gslides_unsaved_asset_warning_explanation")}`,Jh(n,"class","main-text svelte-18of7gm"),Jh(t,"class","dl-notification-gslides-prevent-asset-loss")},m(e,i){Hh(e,t,i),Bh(t,n),Bh(t,o),Bh(t,r)},p:gh,i:gh,o:gh,d(e){e&&Fh(t)}}}class CM extends t_{constructor(e){super(),e_(this,e,null,$M,wh,{})}}function kM(e){let t,n,o,r,i,s,a,l,c;return{c(){t=Wh("div"),n=Wh("div"),n.textContent=`${chrome.i18n.getMessage("notification_ads_ms_office_headline")}`,o=Vh(),r=Wh("div"),r.textContent=`${chrome.i18n.getMessage("notification_ads_ms_office_text")}`,i=Vh(),s=Wh("div"),a=Wh("div"),a.textContent=`${chrome.i18n.getMessage("notification_ads_ms_office_learn_more")}`,Jh(n,"class","dl-ads-for-addins_headline svelte-drhmpk"),Jh(r,"class","dl-ads-for-addins_text"),Jh(a,"class","dl-ads-for-addins_button svelte-drhmpk"),Jh(s,"class","dl-ads-for-addins_wrapper svelte-drhmpk"),Jh(t,"class","dl-ads-for-addins svelte-drhmpk")},m(d,u){Hh(d,t,u),Bh(t,n),Bh(t,o),Bh(t,r),Bh(t,i),Bh(t,s),Bh(s,a),l||(c=Zh(s,"click",e[0]),l=!0)},p:gh,i:gh,o:gh,d(e){e&&Fh(t),l=!1,c()}}}function LM(e){return[()=>{t({action:"dlExternalURLRedirect",payload:{destination:Sy,utmContent:"msaddin_ads_notification"}}),t({action:"dlTrackClicksOnAdsButton"})}]}class MM extends t_{constructor(e){super(),e_(this,e,LM,kM,wh,{})}}function IM(e){let t,n,o,r,i,s,a,l,c,d,u,p,m,g,h,f=e[4]==Y.warning_theme&&AM();var _=e[5];function v(e,t){return{props:{options:e[1]}}}return _&&(l=cf(_,v(e))),{c(){t=Wh("div"),n=Wh("div"),o=Wh("button"),i=Vh(),s=Wh("div"),f&&f.c(),a=Vh(),l&&Xf(l.$$.fragment),Jh(o,"class",r="dl-close-icon "+e[4]+" svelte-np3z9s"),Jh(n,"class","header"),Jh(n,"notificationtheme",e[4]),Jh(s,"class",c="body "+e[4]+" svelte-np3z9s"),Jh(t,"class",d="container "+e[4]+" svelte-np3z9s"),Jh(t,"dir",eo()),sf(t,"success",e[0]===W||e[0]===q)},m(r,c){Hh(r,t,c),Bh(t,n),Bh(n,o),Bh(t,i),Bh(t,s),f&&f.m(s,null),Bh(s,a),l&&Jf(l,s,null),m=!0,g||(h=Zh(o,"click",(function(){yh(e[2])&&e[2].apply(this,arguments)})),g=!0)},p(i,u){if(e=i,(!m||16&u&&r!==(r="dl-close-icon "+e[4]+" svelte-np3z9s"))&&Jh(o,"class",r),(!m||16&u)&&Jh(n,"notificationtheme",e[4]),e[4]==Y.warning_theme?f||(f=AM(),f.c(),f.m(s,a)):f&&(f.d(1),f=null),32&u&&_!==(_=e[5])){if(l){Hf();const e=l;Wf(e.$$.fragment,1,0,(()=>{Qf(e,1)})),Ff()}_?(l=cf(_,v(e)),Xf(l.$$.fragment),jf(l.$$.fragment,1),Jf(l,s,null)):l=null}else if(_){const t={};2&u&&(t.options=e[1]),l.$set(t)}(!m||16&u&&c!==(c="body "+e[4]+" svelte-np3z9s"))&&Jh(s,"class",c),(!m||16&u&&d!==(d="container "+e[4]+" svelte-np3z9s"))&&Jh(t,"class",d),(!m||17&u)&&sf(t,"success",e[0]===W||e[0]===q)},i(e){m||(l&&jf(l.$$.fragment,e),Mf((()=>{m&&(p&&p.end(1),u=Gf(t,N_,{x:100,duration:1e3}),u.start())})),m=!0)},o(e){l&&Wf(l.$$.fragment,e),u&&u.invalidate(),p=Vf(t,N_,{x:100,duration:1e3}),m=!1},d(e){e&&Fh(t),f&&f.d(),l&&Qf(l),e&&p&&p.end(),g=!1,h()}}}function AM(e){let t;return{c(){t=Wh("div"),t.innerHTML='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 6V10M10 14H10.01M19 10C19 14.9706 14.9706 19 10 19C5.02944 19 1 14.9706 1 10C1 5.02944 5.02944 1 10 1C14.9706 1 19 5.02944 19 10Z" stroke="#ECBA82" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',Jh(t,"class","icon-container")},m(e,n){Hh(e,t,n)},d(e){e&&Fh(t)}}}function RM(e){let t,n,o=e[3]&&IM(e);return{c(){o&&o.c(),t=Yh()},m(e,r){o&&o.m(e,r),Hh(e,t,r),n=!0},p(e,[n]){e[3]?o?(o.p(e,n),8&n&&jf(o,1)):(o=IM(e),o.c(),jf(o,1),o.m(t.parentNode,t)):o&&(Hf(),Wf(o,1,1,(()=>{o=null})),Ff())},i(e){n||(jf(o),n=!0)},o(e){Wf(o),n=!1},d(e){e&&Fh(t),o&&o.d(e)}}}function OM(e,t,n){let o,r;wf("text_direction",eo());let{type:i}=t,{options:s}=t,{close:a}=t,l=!1;const c={[U]:pM,[H]:hM,[F]:vM,[j]:bM,[W]:xM,[q]:TM,[G]:CM,[V]:MM};return _f((()=>{setTimeout((()=>n(3,l=!0)),100),setTimeout((()=>n(3,l=!1)),10100),setTimeout((()=>a()),11100)})),e.$$set=e=>{"type"in e&&n(0,i=e.type),"options"in e&&n(1,s=e.options),"close"in e&&n(2,a=e.close)},e.$$.update=()=>{1&e.$$.dirty&&n(5,o=c[i]),2&e.$$.dirty&&n(4,r=Y[s?.theme]?Y[s?.theme]:"")},[i,s,a,l,r,o]}class NM extends t_{constructor(e){super(),e_(this,e,OM,RM,wh,{type:0,options:1,close:2})}}class DM{static HTML_TAG_NAME="deepl-notification";static createElement=(e=document)=>{const t=e.createElement(DM.HTML_TAG_NAME),n=new DM(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=(e,t)=>{const n="rtl"===eo()?"left":"right";this.domElement.shadowContainer.style.cssText=`position: fixed; top: 20px; ${n}: 20px; z-index: ${z.deepl_inline_ui.z_index}`,this.domElement.mainComponent=new NM({target:this.domElement.shadowContainer,props:{type:e,options:t,close:this.cleanupDOM}})};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy(),this.domElement.remove()}}function PM(e){let t,n,o,r;return{c(){t=Wh("div"),n=Wh("div"),Jh(n,"class","close-button svelte-2cst7"),Jh(t,"class","close-button-container svelte-2cst7")},m(i,s){Hh(i,t,s),Bh(t,n),o||(r=Zh(n,"click",(function(){yh(e[0])&&e[0].apply(this,arguments)})),o=!0)},p(t,n){e=t},d(e){e&&Fh(t),o=!1,r()}}}function BM(e){let t,n,o,r,i,s=e[0]&&PM(e);const a=e[2].default,l=xh(a,e,e[1],null);return{c(){s&&s.c(),t=Vh(),n=Wh("div"),o=Wh("div"),r=Vh(),l&&l.c(),Jh(o,"class","logo svelte-2cst7"),Jh(n,"class","body svelte-2cst7")},m(e,a){s&&s.m(e,a),Hh(e,t,a),Hh(e,n,a),Bh(n,o),Bh(n,r),l&&l.m(n,null),i=!0},p(e,[n]){e[0]?s?s.p(e,n):(s=PM(e),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null),l&&l.p&&(!i||2&n)&&$h(l,a,e,e[1],i?Th(a,e[1],n,null):Ch(e[1]),null)},i(e){i||(jf(l,e),i=!0)},o(e){Wf(l,e),i=!1},d(e){e&&(Fh(t),Fh(n)),s&&s.d(e),l&&l.d(e)}}}function zM(e,t,n){let{$$slots:o={},$$scope:r}=t,{onClose:i}=t;return e.$$set=e=>{"onClose"in e&&n(0,i=e.onClose),"$$scope"in e&&n(1,r=e.$$scope)},[i,r,o]}class UM extends t_{constructor(e){super(),e_(this,e,zM,BM,wh,{onClose:0})}}function HM(e){let t,n;return{c(){t=Wh("div"),n=Gh(e[0]),Jh(t,"class","info-msg svelte-17qaccl")},m(e,o){Hh(e,t,o),Bh(t,n)},p(e,[t]){1&t&&Qh(n,e[0])},i:gh,o:gh,d(e){e&&Fh(t)}}}function FM(e,t,n){let{message:o}=t;return e.$$set=e=>{"message"in e&&n(0,o=e.message)},[o]}class jM extends t_{constructor(e){super(),e_(this,e,FM,HM,wh,{message:0})}}function WM(e){let t,n,o,r,i;const s=e[7].default,a=xh(s,e,e[6],null);return{c(){t=Wh("button"),a&&a.c(),Jh(t,"type","button"),Jh(t,"class",n=kh(e[0])+" svelte-1wkb4xl"),t.disabled=e[1],Jh(t,"id",e[5]),Jh(t,"data-qa",e[4]),sf(t,"disabled",e[1]),sf(t,"font-size-sm","sm"===e[2]),sf(t,"padding-x-md","md"===e[3]),sf(t,"padding-x-none","none"===e[3])},m(n,s){Hh(n,t,s),a&&a.m(t,null),o=!0,r||(i=[Zh(t,"click",e[8]),Zh(t,"mousedown",Xh(Kh(e[9])))],r=!0)},p(e,[r]){a&&a.p&&(!o||64&r)&&$h(a,s,e,e[6],o?Th(s,e[6],r,null):Ch(e[6]),null),(!o||1&r&&n!==(n=kh(e[0])+" svelte-1wkb4xl"))&&Jh(t,"class",n),(!o||2&r)&&(t.disabled=e[1]),(!o||32&r)&&Jh(t,"id",e[5]),(!o||16&r)&&Jh(t,"data-qa",e[4]),(!o||3&r)&&sf(t,"disabled",e[1]),(!o||5&r)&&sf(t,"font-size-sm","sm"===e[2]),(!o||9&r)&&sf(t,"padding-x-md","md"===e[3]),(!o||9&r)&&sf(t,"padding-x-none","none"===e[3])},i(e){o||(jf(a,e),o=!0)},o(e){Wf(a,e),o=!1},d(e){e&&Fh(t),a&&a.d(e),r=!1,vh(i)}}}function qM(e,t,n){let{$$slots:o={},$$scope:r}=t,{className:i="button-primary"}=t,{disabled:s=!1}=t,{fontSize:a="default"}=t,{paddingX:l}=t,{dataQa:c="dl-button"}=t,{id:d=""}=t;return e.$$set=e=>{"className"in e&&n(0,i=e.className),"disabled"in e&&n(1,s=e.disabled),"fontSize"in e&&n(2,a=e.fontSize),"paddingX"in e&&n(3,l=e.paddingX),"dataQa"in e&&n(4,c=e.dataQa),"id"in e&&n(5,d=e.id),"$$scope"in e&&n(6,r=e.$$scope)},[i,s,a,l,c,d,r,o,function(t){Ef.call(this,e,t)},function(t){Ef.call(this,e,t)}]}class GM extends t_{constructor(e){super(),e_(this,e,qM,WM,wh,{className:0,disabled:1,fontSize:2,paddingX:3,dataQa:4,id:5})}}function VM(e){let t,n=chrome.i18n.getMessage("ui_fpt_hide_cancel")+"";return{c(){t=Gh(n)},m(e,n){Hh(e,t,n)},p:gh,d(e){e&&Fh(t)}}}function YM(e){let t,n=chrome.i18n.getMessage("ui_fpt_hide_confirm")+"";return{c(){t=Gh(n)},m(e,n){Hh(e,t,n)},p:gh,d(e){e&&Fh(t)}}}function ZM(e){let t,n,o,r,i,s,a,l,c,d,u,p,m,g,h,f,_,v,y,w,b,E,x,S,T,$,C,k,L,M,I,A,R;return C=new GM({props:{className:"button-link",paddingX:"none",$$slots:{default:[VM]},$$scope:{ctx:e}}}),C.$on("click",(function(){yh(e[0])&&e[0].apply(this,arguments)})),L=new GM({props:{className:"button-primary",$$slots:{default:[YM]},$$scope:{ctx:e}}}),L.$on("click",e[4]),I=function(e){let t;return{p(...n){t=n,t.forEach((t=>e.push(t)))},r(){t.forEach((t=>e.splice(e.indexOf(t),1)))}}}(e[7][0]),{c(){t=Wh("div"),n=Wh("p"),n.textContent=`${chrome.i18n.getMessage("ui_fpt_hide_heading")}`,o=Vh(),r=Wh("div"),i=Wh("div"),s=Wh("label"),a=Wh("span"),l=Wh("input"),c=Vh(),d=Wh("span"),d.textContent=`${chrome.i18n.getMessage("ui_fpt_hide_option_domain")}`,u=Vh(),p=Wh("div"),m=Wh("label"),g=Wh("span"),h=Wh("input"),f=Vh(),_=Wh("span"),_.textContent=`${chrome.i18n.getMessage("ui_fpt_hide_option_lang")}`,v=Vh(),y=Wh("div"),w=Wh("label"),b=Wh("span"),E=Wh("input"),x=Vh(),S=Wh("span"),S.textContent=`${chrome.i18n.getMessage("ui_fpt_hide_option_fpt")}`,T=Vh(),$=Wh("div"),Xf(C.$$.fragment),k=Vh(),Xf(L.$$.fragment),Jh(n,"class","font-bold svelte-1vpv55x"),Jh(l,"id","option-website"),Jh(l,"name","option"),Jh(l,"type","radio"),l.__value="website",ef(l,l.__value),Jh(l,"class","svelte-1vpv55x"),Jh(d,"class","label svelte-1vpv55x"),Jh(s,"for","option-website"),Jh(s,"class","svelte-1vpv55x"),Jh(i,"class","option svelte-1vpv55x"),Jh(h,"id","option-lang"),Jh(h,"type","radio"),Jh(h,"name","option"),h.__value="lang",ef(h,h.__value),Jh(h,"class","svelte-1vpv55x"),Jh(_,"class","label svelte-1vpv55x"),Jh(m,"for","option-lang"),Jh(m,"class","svelte-1vpv55x"),Jh(p,"class","option svelte-1vpv55x"),Jh(E,"id","option-fpt"),Jh(E,"type","radio"),Jh(E,"name","option"),E.__value="fpt",ef(E,E.__value),Jh(E,"class","svelte-1vpv55x"),Jh(S,"class","label svelte-1vpv55x"),Jh(w,"for","option-fpt"),Jh(w,"class","svelte-1vpv55x"),Jh(y,"class","option svelte-1vpv55x"),Jh(r,"class","cancel-container svelte-1vpv55x"),Jh(t,"class","cancel-translation-body svelte-1vpv55x"),Jh($,"class","cancel-translation-footer svelte-1vpv55x"),I.p(l,h,E)},m(I,O){Hh(I,t,O),Bh(t,n),Bh(t,o),Bh(t,r),Bh(r,i),Bh(i,s),Bh(s,a),Bh(a,l),l.checked=l.__value===e[1],Bh(s,c),Bh(s,d),Bh(r,u),Bh(r,p),Bh(p,m),Bh(m,g),Bh(g,h),h.checked=h.__value===e[1],Bh(m,f),Bh(m,_),Bh(r,v),Bh(r,y),Bh(y,w),Bh(w,b),Bh(b,E),E.checked=E.__value===e[1],Bh(w,x),Bh(w,S),Hh(I,T,O),Hh(I,$,O),Jf(C,$,null),Bh($,k),Jf(L,$,null),M=!0,A||(R=[Zh(l,"change",e[6]),Zh(h,"change",e[8]),Zh(E,"change",e[9])],A=!0)},p(t,[n]){e=t,2&n&&(l.checked=l.__value===e[1]),2&n&&(h.checked=h.__value===e[1]),2&n&&(E.checked=E.__value===e[1]);const o={};65536&n&&(o.$$scope={dirty:n,ctx:e}),C.$set(o);const r={};65536&n&&(r.$$scope={dirty:n,ctx:e}),L.$set(r)},i(e){M||(jf(C.$$.fragment,e),jf(L.$$.fragment,e),M=!0)},o(e){Wf(C.$$.fragment,e),Wf(L.$$.fragment,e),M=!1},d(e){e&&(Fh(t),Fh(T),Fh($)),Qf(C),Qf(L),I.r(),A=!1,vh(R)}}}function KM(e,n,o){let r,i;const s=bf("deepl_settings");Eh(e,s,(e=>o(11,i=e)));const a=bf("deepl_website_settings");Eh(e,a,(e=>o(10,r=e)));let{onClose:l}=n,{onCancel:d}=n,u="fpt";return e.$$set=e=>{"onClose"in e&&o(5,l=e.onClose),"onCancel"in e&&o(0,d=e.onCancel)},[d,u,s,a,()=>{const e={hideOption:void 0,sourceLang:r.websiteLanguage,domainName:r.hostname,uiLocation:OT(se)};switch(u){case"website":Lh(s,i.blacklistDomains=[...i.blacklistDomains,r.hostname],i),e.hideOption=L;break;case"lang":n=r.websiteLanguage,o=c,"EN"===n?(Lh(s,i.languagesForTranslation={...i.languagesForTranslation,"EN-GB":o},i),Lh(s,i.languagesForTranslation={...i.languagesForTranslation,"EN-US":o},i)):"PT"===n?(Lh(s,i.languagesForTranslation={...i.languagesForTranslation,"PT-PT":o},i),Lh(s,i.languagesForTranslation={...i.languagesForTranslation,"PT-BR":o},i)):"ZH"===n?(Lh(s,i.languagesForTranslation={...i.languagesForTranslation,"ZH-CN":o},i),Lh(s,i.languagesForTranslation={...i.languagesForTranslation,"ZH-HANT":o},i)):Lh(s,i.languagesForTranslation={...i.languagesForTranslation,[n]:o},i),e.hideOption=M;break;default:e.hideOption=I,s.set({enableFullPageTranslation:!1})}var n,o;t({action:"dlSendNotification",payload:{type:j,options:{theme:Y.green_theme}}}),t({action:"dlTrackFptHide",payload:e}),l()},l,function(){u=this.__value,o(1,u)},[[]],function(){u=this.__value,o(1,u)},function(){u=this.__value,o(1,u)}]}class XM extends t_{constructor(e){super(),e_(this,e,KM,ZM,wh,{onClose:5,onCancel:0})}}function JM(e,t,n){const o=e.slice();return o[17]=t[n],o}function QM(e,t,n){const o=e.slice();return o[17]=t[n],o}function eI(e,t,n){const o=e.slice();return o[17]=t[n],o}function tI(e,t,n){const o=e.slice();return o[17]=t[n],o}function nI(e,t,n){const o=e.slice();return o[17]=t[n],o}function oI(e){let t,n,o,r,i,s,a,l,c,d,u,p=chrome.i18n.getMessage("ui_fpt_hide_checkbox")+"";t=new UM({props:{onClose:e[0],$$slots:{default:[mI]},$$scope:{ctx:e}}});let m=e[6]&&gI(e);return{c(){Xf(t.$$.fragment),n=Vh(),m&&m.c(),o=Vh(),r=Wh("div"),i=Wh("label"),s=Wh("input"),a=Vh(),l=Gh(p),Jh(s,"type","checkbox"),s.disabled=e[6],Jh(s,"class","svelte-6tzge"),Jh(i,"class","svelte-6tzge"),Jh(r,"class","footer svelte-6tzge"),sf(r,"hasError",e[6])},m(p,g){Jf(t,p,g),Hh(p,n,g),m&&m.m(p,g),Hh(p,o,g),Hh(p,r,g),Bh(r,i),Bh(i,s),Bh(i,a),Bh(i,l),c=!0,d||(u=Zh(i,"click",e[15]),d=!0)},p(e,n){const i={};1&n&&(i.onClose=e[0]),268435476&n&&(i.$$scope={dirty:n,ctx:e}),t.$set(i),e[6]?m?(m.p(e,n),64&n&&jf(m,1)):(m=gI(e),m.c(),jf(m,1),m.m(o.parentNode,o)):m&&(Hf(),Wf(m,1,1,(()=>{m=null})),Ff()),(!c||64&n)&&(s.disabled=e[6]),(!c||64&n)&&sf(r,"hasError",e[6])},i(e){c||(jf(t.$$.fragment,e),jf(m),c=!0)},o(e){Wf(t.$$.fragment,e),Wf(m),c=!1},d(e){e&&(Fh(n),Fh(o),Fh(r)),Qf(t,e),m&&m.d(e),d=!1,u()}}}function rI(e){let t,n,o,r;return t=new UM({props:{onClose:e[0]}}),o=new XM({props:{onClose:e[0],onCancel:e[13]}}),{c(){Xf(t.$$.fragment),n=Vh(),Xf(o.$$.fragment)},m(e,i){Jf(t,e,i),Hh(e,n,i),Jf(o,e,i),r=!0},p(e,n){const r={};1&n&&(r.onClose=e[0]),t.$set(r);const i={};1&n&&(i.onClose=e[0]),8&n&&(i.onCancel=e[13]),o.$set(i)},i(e){r||(jf(t.$$.fragment,e),jf(o.$$.fragment,e),r=!0)},o(e){Wf(t.$$.fragment,e),Wf(o.$$.fragment,e),r=!1},d(e){e&&Fh(n),Qf(t,e),Qf(o,e)}}}function iI(e){let t,n;return t=new UM({props:{$$slots:{default:[II]},$$scope:{ctx:e}}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p(e,n){const o={};268435510&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function sI(e){let t,n;return t=new UM({props:{$$slots:{default:[DI]},$$scope:{ctx:e}}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p(e,n){const o={};268435472&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function aI(e){let t,n;return t=new UM({props:{$$slots:{default:[PI]},$$scope:{ctx:e}}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p(e,n){const o={};268435456&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function lI(e){let t,n;return t=new UM({props:{$$slots:{default:[BI]},$$scope:{ctx:e}}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p(e,n){const o={};268435456&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function cI(e){let t,n;return t=new UM({props:{$$slots:{default:[zI]},$$scope:{ctx:e}}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p(e,n){const o={};268435456&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function dI(e){let t,n;return t=new UM({props:{$$slots:{default:[UI]},$$scope:{ctx:e}}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p(e,n){const o={};268435456&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function uI(e){let t,n;return t=new UM({props:{$$slots:{default:[HI]},$$scope:{ctx:e}}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p(e,n){const o={};268435456&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function pI(e){let t;return{c(){t=Wh("span"),t.textContent=`${chrome.i18n.getMessage("ui_fpt_translate_button")}`,Jh(t,"class","svelte-6tzge")},m(e,n){Hh(e,t,n)},p:gh,d(e){e&&Fh(t)}}}function mI(e){let t,n,o,r,i,s,a,l,c,d,u,p;return l=new Rb({props:{value:e[2].selectedTargetLanguage,variant:"alternate",alignRight:!1}}),l.$on("selection",e[14]),u=new GM({props:{className:"btn-primary",paddingX:"md",dataQa:"dl-button-translate-page",$$slots:{default:[pI]},$$scope:{ctx:e}}}),u.$on("click",e[10]),{c(){t=Wh("div"),n=Wh("div"),o=Gh(e[4]),r=Vh(),i=Wh("div"),s=Vh(),a=Wh("div"),Xf(l.$$.fragment),c=Vh(),d=Wh("div"),Xf(u.$$.fragment),Jh(n,"class","website-lang svelte-6tzge"),Jh(i,"class","translate-to-arrow svelte-6tzge"),Jh(a,"class","language-switch svelte-6tzge"),Jh(t,"class","language-selection svelte-6tzge"),Jh(t,"dir",eo()),Jh(d,"class","translate-button svelte-6tzge")},m(e,m){Hh(e,t,m),Bh(t,n),Bh(n,o),Bh(t,r),Bh(t,i),Bh(t,s),Bh(t,a),Jf(l,a,null),Hh(e,c,m),Hh(e,d,m),Jf(u,d,null),p=!0},p(e,t){(!p||16&t)&&Qh(o,e[4]);const n={};4&t&&(n.value=e[2].selectedTargetLanguage),l.$set(n);const r={};268435456&t&&(r.$$scope={dirty:t,ctx:e}),u.$set(r)},i(e){p||(jf(l.$$.fragment,e),jf(u.$$.fragment,e),p=!0)},o(e){Wf(l.$$.fragment,e),Wf(u.$$.fragment,e),p=!1},d(e){e&&(Fh(t),Fh(c),Fh(d)),Qf(l),Qf(u)}}}function gI(e){let t,n,o;return n=new kw({props:{error:e[1].error}}),{c(){t=Wh("div"),Xf(n.$$.fragment),Jh(t,"class","error-container svelte-6tzge")},m(e,r){Hh(e,t,r),Jf(n,t,null),o=!0},p(e,t){const o={};2&t&&(o.error=e[1].error),n.$set(o)},i(e){o||(jf(n.$$.fragment,e),o=!0)},o(e){Wf(n.$$.fragment,e),o=!1},d(e){e&&Fh(t),Qf(n)}}}function hI(e){let t,n=Zf(z_(chrome.i18n.getMessage("ui_notice_no_translate_language",e[4]),["strong"])),o=[];for(let t=0;t<n.length;t+=1)o[t]=yI(QM(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=Yh()},m(e,n){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,n);Hh(e,t,n)},p(e,r){if(16&r){let i;for(n=Zf(z_(chrome.i18n.getMessage("ui_notice_no_translate_language",e[4]),["strong"])),i=0;i<n.length;i+=1){const s=QM(e,n,i);o[i]?o[i].p(s,r):(o[i]=yI(s),o[i].c(),o[i].m(t.parentNode,t))}for(;i<o.length;i+=1)o[i].d(1);o.length=n.length}},d(e){e&&Fh(t),jh(o,e)}}}function fI(e){let t;function n(e,t){return e[5]?bI:wI}let o=n(e),r=o(e);return{c(){r.c(),t=Yh()},m(e,n){r.m(e,n),Hh(e,t,n)},p(e,i){o===(o=n(e))&&r?r.p(e,i):(r.d(1),r=o(e),r&&(r.c(),r.m(t.parentNode,t)))},d(e){e&&Fh(t),r.d(e)}}}function _I(e){let t,n=e[17].text+"";return{c(){t=Gh(n)},m(e,n){Hh(e,t,n)},p(e,o){16&o&&n!==(n=e[17].text+"")&&Qh(t,n)},d(e){e&&Fh(t)}}}function vI(e){let t,n,o=e[17].text+"";return{c(){t=Wh("strong"),n=Gh(o),Jh(t,"class","svelte-6tzge")},m(e,o){Hh(e,t,o),Bh(t,n)},p(e,t){16&t&&o!==(o=e[17].text+"")&&Qh(n,o)},d(e){e&&Fh(t)}}}function yI(e){let t;function n(e,t){return"strong"===e[17].block?vI:_I}let o=n(e),r=o(e);return{c(){r.c(),t=Yh()},m(e,n){r.m(e,n),Hh(e,t,n)},p(e,i){o===(o=n(e))&&r?r.p(e,i):(r.d(1),r=o(e),r&&(r.c(),r.m(t.parentNode,t)))},d(e){e&&Fh(t),r.d(e)}}}function wI(e){let t,n=Zf(z_(chrome.i18n.getMessage("ui_notice_no_translate_website",e[1].hostname),["strong"])),o=[];for(let t=0;t<n.length;t+=1)o[t]=SI(eI(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=Yh()},m(e,n){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,n);Hh(e,t,n)},p(e,r){if(2&r){let i;for(n=Zf(z_(chrome.i18n.getMessage("ui_notice_no_translate_website",e[1].hostname),["strong"])),i=0;i<n.length;i+=1){const s=eI(e,n,i);o[i]?o[i].p(s,r):(o[i]=SI(s),o[i].c(),o[i].m(t.parentNode,t))}for(;i<o.length;i+=1)o[i].d(1);o.length=n.length}},d(e){e&&Fh(t),jh(o,e)}}}function bI(e){let t,n=Zf(z_(chrome.i18n.getMessage("ui_notice_no_translate_website_and_language",[e[1].hostname,e[4]]),["strong"])),o=[];for(let t=0;t<n.length;t+=1)o[t]=CI(tI(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=Yh()},m(e,n){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,n);Hh(e,t,n)},p(e,r){if(18&r){let i;for(n=Zf(z_(chrome.i18n.getMessage("ui_notice_no_translate_website_and_language",[e[1].hostname,e[4]]),["strong"])),i=0;i<n.length;i+=1){const s=tI(e,n,i);o[i]?o[i].p(s,r):(o[i]=CI(s),o[i].c(),o[i].m(t.parentNode,t))}for(;i<o.length;i+=1)o[i].d(1);o.length=n.length}},d(e){e&&Fh(t),jh(o,e)}}}function EI(e){let t,n=e[17].text+"";return{c(){t=Gh(n)},m(e,n){Hh(e,t,n)},p(e,o){2&o&&n!==(n=e[17].text+"")&&Qh(t,n)},d(e){e&&Fh(t)}}}function xI(e){let t,n,o=e[17].text+"";return{c(){t=Wh("strong"),n=Gh(o),Jh(t,"class","svelte-6tzge")},m(e,o){Hh(e,t,o),Bh(t,n)},p(e,t){2&t&&o!==(o=e[17].text+"")&&Qh(n,o)},d(e){e&&Fh(t)}}}function SI(e){let t;function n(e,t){return"strong"===e[17].block?xI:EI}let o=n(e),r=o(e);return{c(){r.c(),t=Yh()},m(e,n){r.m(e,n),Hh(e,t,n)},p(e,i){o===(o=n(e))&&r?r.p(e,i):(r.d(1),r=o(e),r&&(r.c(),r.m(t.parentNode,t)))},d(e){e&&Fh(t),r.d(e)}}}function TI(e){let t,n=e[17].text+"";return{c(){t=Gh(n)},m(e,n){Hh(e,t,n)},p(e,o){18&o&&n!==(n=e[17].text+"")&&Qh(t,n)},d(e){e&&Fh(t)}}}function $I(e){let t,n,o=e[17].text+"";return{c(){t=Wh("strong"),n=Gh(o),Jh(t,"class","svelte-6tzge")},m(e,o){Hh(e,t,o),Bh(t,n)},p(e,t){18&t&&o!==(o=e[17].text+"")&&Qh(n,o)},d(e){e&&Fh(t)}}}function CI(e){let t;function n(e,t){return"strong"===e[17].block?$I:TI}let o=n(e),r=o(e);return{c(){r.c(),t=Yh()},m(e,n){r.m(e,n),Hh(e,t,n)},p(e,i){o===(o=n(e))&&r?r.p(e,i):(r.d(1),r=o(e),r&&(r.c(),r.m(t.parentNode,t)))},d(e){e&&Fh(t),r.d(e)}}}function kI(e){let t,n=e[17].text+"";return{c(){t=Gh(n)},m(e,n){Hh(e,t,n)},p:gh,d(e){e&&Fh(t)}}}function LI(e){let t,n,o;return{c(){t=Wh("span"),t.textContent=`${e[17].text}`,Jh(t,"class","link svelte-6tzge")},m(r,i){Hh(r,t,i),n||(o=Zh(t,"click",e[9]),n=!0)},p:gh,d(e){e&&Fh(t),n=!1,o()}}}function MI(e){let t;let n=function(e){return"settingsLink"===e[17].block?LI:kI}(e),o=n(e);return{c(){o.c(),t=Yh()},m(e,n){o.m(e,n),Hh(e,t,n)},p(e,t){o.p(e,t)},d(e){e&&Fh(t),o.d(e)}}}function II(e){let t,n,o,r,i;function s(e,t){return 6&t&&(o=null),null==o&&(o=!!e[2].blacklistDomains.includes(e[1].hostname)),o?fI:e[5]?hI:void 0}let a=s(e,-1),l=a&&a(e),c=Zf(z_(chrome.i18n.getMessage("ui_notice_no_translate_change_option"),["settingsLink"])),d=[];for(let t=0;t<c.length;t+=1)d[t]=MI(JM(e,c,t));return{c(){t=Wh("div"),n=Wh("p"),l&&l.c(),r=Vh(),i=Wh("p");for(let e=0;e<d.length;e+=1)d[e].c();Jh(n,"class","svelte-6tzge"),Jh(i,"class","svelte-6tzge")},m(e,o){Hh(e,t,o),Bh(t,n),l&&l.m(n,null),Bh(t,r),Bh(t,i);for(let e=0;e<d.length;e+=1)d[e]&&d[e].m(i,null)},p(e,t){if(a===(a=s(e,t))&&l?l.p(e,t):(l&&l.d(1),l=a&&a(e),l&&(l.c(),l.m(n,null))),512&t){let n;for(c=Zf(z_(chrome.i18n.getMessage("ui_notice_no_translate_change_option"),["settingsLink"])),n=0;n<c.length;n+=1){const o=JM(e,c,n);d[n]?d[n].p(o,t):(d[n]=MI(o),d[n].c(),d[n].m(i,null))}for(;n<d.length;n+=1)d[n].d(1);d.length=c.length}},d(e){e&&Fh(t),l&&l.d(),jh(d,e)}}}function AI(e){let t,n=e[17].text+"";return{c(){t=Gh(n)},m(e,n){Hh(e,t,n)},p(e,o){16&o&&n!==(n=e[17].text+"")&&Qh(t,n)},d(e){e&&Fh(t)}}}function RI(e){let t,n,o=e[17].text+"";return{c(){t=Wh("strong"),n=Gh(o),Jh(t,"class","svelte-6tzge")},m(e,o){Hh(e,t,o),Bh(t,n)},p(e,t){16&t&&o!==(o=e[17].text+"")&&Qh(n,o)},d(e){e&&Fh(t)}}}function OI(e){let t;function n(e,t){return"strong"===e[17].block?RI:AI}let o=n(e),r=o(e);return{c(){r.c(),t=Yh()},m(e,n){r.m(e,n),Hh(e,t,n)},p(e,i){o===(o=n(e))&&r?r.p(e,i):(r.d(1),r=o(e),r&&(r.c(),r.m(t.parentNode,t)))},d(e){e&&Fh(t),r.d(e)}}}function NI(e){let t,n=chrome.i18n.getMessage("full_page_translation_show_original")+"";return{c(){t=Gh(n)},m(e,n){Hh(e,t,n)},p:gh,d(e){e&&Fh(t)}}}function DI(e){let t,n,o,r,i,s,a=Zf(z_(chrome.i18n.getMessage("ui_translated_automatically",e[4]),["strong"])),l=[];for(let t=0;t<a.length;t+=1)l[t]=OI(nI(e,a,t));return i=new GM({props:{className:"button-reload",$$slots:{default:[NI]},$$scope:{ctx:e}}}),i.$on("click",e[11]),{c(){t=Wh("div"),n=Wh("p");for(let e=0;e<l.length;e+=1)l[e].c();o=Vh(),r=Wh("p"),Xf(i.$$.fragment),Jh(n,"class","mb-none svelte-6tzge"),Jh(r,"class","svelte-6tzge")},m(e,a){Hh(e,t,a),Bh(t,n);for(let e=0;e<l.length;e+=1)l[e]&&l[e].m(n,null);Bh(t,o),Bh(t,r),Jf(i,r,null),s=!0},p(e,t){if(16&t){let o;for(a=Zf(z_(chrome.i18n.getMessage("ui_translated_automatically",e[4]),["strong"])),o=0;o<a.length;o+=1){const r=nI(e,a,o);l[o]?l[o].p(r,t):(l[o]=OI(r),l[o].c(),l[o].m(n,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=a.length}const o={};268435456&t&&(o.$$scope={dirty:t,ctx:e}),i.$set(o)},i(e){s||(jf(i.$$.fragment,e),s=!0)},o(e){Wf(i.$$.fragment,e),s=!1},d(e){e&&Fh(t),jh(l,e),Qf(i)}}}function PI(e){let t;return{c(){t=Wh("p"),t.textContent=`${chrome.i18n.getMessage("full_page_translation_ongoing_translation")}`,Jh(t,"class","translation-in-progress svelte-6tzge")},m(e,n){Hh(e,t,n)},p:gh,d(e){e&&Fh(t)}}}function BI(e){let t;return{c(){t=Wh("p"),t.textContent=`${chrome.i18n.getMessage("full_page_translation_auto_detect_lang")}`,Jh(t,"class","translation-in-progress svelte-6tzge")},m(e,n){Hh(e,t,n)},p:gh,d(e){e&&Fh(t)}}}function zI(e){let t,n;return t=new jM({props:{message:chrome.i18n.getMessage("full_page_translation_info_google_translate")}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p:gh,i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function UI(e){let t,n;return t=new jM({props:{message:chrome.i18n.getMessage("full_page_translation_no_website_data")}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p:gh,i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function HI(e){let t,n,o;return n=new tS({}),{c(){t=Wh("div"),Xf(n.$$.fragment),Jh(t,"class","translation-in-progress svelte-6tzge")},m(e,r){Hh(e,t,r),Jf(n,t,null),o=!0},p:gh,i(e){o||(jf(n.$$.fragment,e),o=!0)},o(e){Wf(n.$$.fragment,e),o=!1},d(e){e&&Fh(t),Qf(n)}}}function FI(e){let t,n,o,r,i,s;const a=[uI,dI,cI,lI,aI,sI,iI,rI,oI],l=[];function c(e,t){return 2&t&&(n=null),38&t&&(o=null),null==e[1]?0:(null==n&&(n=!(0!==Object.keys(e[1]).length)),n?1:e[1].isGoogleTranslatedActive?2:e[1].translationState===d.ongoingAutoDetection?3:e[1].translationState===d.ongoingTranslation?4:e[1].translationState===d.isTranslationComplete?5:(null==o&&(o=!(!e[2].blacklistDomains.includes(e[1].hostname)&&!e[5])),o?6:e[3]?7:e[1].websiteLanguage?8:-1))}return~(r=c(e,-1))&&(i=l[r]=a[r](e)),{c(){t=Wh("div"),i&&i.c(),Jh(t,"class","full-page-translation svelte-6tzge")},m(e,n){Hh(e,t,n),~r&&l[r].m(t,null),s=!0},p(e,[n]){let o=r;r=c(e,n),r===o?~r&&l[r].p(e,n):(i&&(Hf(),Wf(l[o],1,1,(()=>{l[o]=null})),Ff()),~r?(i=l[r],i?i.p(e,n):(i=l[r]=a[r](e),i.c()),jf(i,1),i.m(t,null)):i=null)},i(e){s||(jf(i),s=!0)},o(e){Wf(i),s=!1},d(e){e&&Fh(t),~r&&l[r].d()}}}function jI(e,n,o){let r,i,s,a;const l=bf("deepl_settings");Eh(e,l,(e=>o(2,a=e)));const u=bf("deepl_website_settings");Eh(e,u,(e=>o(1,s=e)));let p=$,{onClose:m}=n;let g,h,f=!1;return e.$$set=e=>{"onClose"in e&&o(0,m=e.onClose)},e.$$.update=()=>{2&e.$$.dirty&&o(6,r=s&&s.error),6&e.$$.dirty&&o(5,i=Xn(s.websiteLanguage,a.languagesForTranslation,c)),2&e.$$.dirty&&s&&(s.isSupportedLanguage?o(4,g=chrome.i18n.getMessage(`supported_languages_${s.websiteLanguage}`)):o(4,g=chrome.i18n.getMessage("supported_languages_EN"))),4098&e.$$.dirty&&s&&s.hostname&&s.hostname!==h&&(o(12,h=s.hostname),t({action:"dlTrackExtensionOpenedEvent",payload:{domainName:h,extensionContext:p}}))},[m,s,a,f,g,i,r,l,u,function(){t({action:"dlOpenInternalPage",payload:{destination:nS.settings_page}})},function(){0==a.isTargetLanguageConfirmed&&l.set({isTargetLanguageConfirmed:!0}),AB(s.websiteLanguage,_)},()=>{u.update({translationState:d.showOriginal})},h,()=>{o(3,f=!1)},e=>l.set({selectedTargetLanguage:e.detail.selectedOption.value,isTargetLanguageConfirmed:!0,regionalVariant:e.detail.selectedOption.regionalVariant}),()=>{r||o(3,f=!f)}]}class WI extends t_{constructor(e){super(),e_(this,e,jI,FI,wh,{onClose:0})}}function qI(e){let t,n,o;return n=new WI({props:{onClose:e[0]}}),{c(){t=Wh("div"),Xf(n.$$.fragment),Jh(t,"class","app-popup svelte-1x9ra34"),Jh(t,"style",`z-index: ${e[2].z_index}`),Jh(t,"dir",eo())},m(e,r){Hh(e,t,r),Jf(n,t,null),o=!0},p(e,t){const o={};1&t&&(o.onClose=e[0]),n.$set(o)},i(e){o||(jf(n.$$.fragment,e),o=!0)},o(e){Wf(n.$$.fragment,e),o=!1},d(e){e&&Fh(t),Qf(n)}}}function GI(e){let t,n,o=e[3]()&&e[1]&&e[1].isValidUrlForPopup,r=o&&qI(e);return{c(){r&&r.c(),t=Yh()},m(e,o){r&&r.m(e,o),Hh(e,t,o),n=!0},p(e,[n]){2&n&&(o=e[3]()&&e[1]&&e[1].isValidUrlForPopup),o?r?(r.p(e,n),2&n&&jf(r,1)):(r=qI(e),r.c(),jf(r,1),r.m(t.parentNode,t)):r&&(Hf(),Wf(r,1,1,(()=>{r=null})),Ff())},i(e){n||(jf(r),n=!0)},o(e){Wf(r),n=!1},d(e){e&&Fh(t),r&&r.d(e)}}}function VI(e,t,n){let o,r;Eh(e,r_,(e=>n(4,o=e))),Eh(e,wb,(e=>n(1,r=e))),wf("deepl_settings",r_),wf("deepl_website_settings",wb),wf("text_direction",eo());let{onClose:i}=t;const{deepl_inline_ui:s}=z;return e.$$set=e=>{"onClose"in e&&n(0,i=e.onClose)},[i,r,s,function(){return pn(o,$t.TRANSLATOR)}]}class YI extends t_{constructor(e){super(),e_(this,e,VI,GI,wh,{onClose:0})}}class ZI{static HTML_TAG_NAME="deepl-page-load-popup";static createElement=(e=document)=>{const t=e.createElement(ZI.HTML_TAG_NAME),n=new ZI(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=()=>{this.domElement.mainComponent=new YI({target:this.domElement.shadowContainer,props:{onClose:this.cleanupDOM}})};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function KI(e){let t,n,o,r;return{c(){t=Wh("button"),n=Wh("span"),Jh(n,"class","svelte-19tdlik"),Jh(t,"aria-label",e[3]?chrome.i18n.getMessage("toggle_off"):chrome.i18n.getMessage("toggle_on")),Jh(t,"class","switch svelte-19tdlik"),Jh(t,"data-testid","deepl-switch"),Jh(t,"data-qa",e[2]),sf(t,"checked",e[0]),sf(t,"disabled",e[1])},m(i,s){Hh(i,t,s),Bh(t,n),o||(r=Zh(t,"click",e[3]),o=!0)},p(e,[n]){4&n&&Jh(t,"data-qa",e[2]),1&n&&sf(t,"checked",e[0]),2&n&&sf(t,"disabled",e[1])},i:gh,o:gh,d(e){e&&Fh(t),o=!1,r()}}}function XI(e,t,n){let{checked:o=!1}=t,{disabled:r=!1}=t,{qaRoot:i="dl-switch"}=t;const s=yf();return e.$$set=e=>{"checked"in e&&n(0,o=e.checked),"disabled"in e&&n(1,r=e.disabled),"qaRoot"in e&&n(2,i=e.qaRoot)},[o,r,i,function(){r||s("change",{checked:!o})}]}class JI extends t_{constructor(e){super(),e_(this,e,XI,KI,wh,{checked:0,disabled:1,qaRoot:2})}}function QI(e){let t,n,o,r,i,s,a,l,c,d,u=e[1]&&eA();return a=new JI({props:{checked:e[3].isGDocsEnabled}}),a.$on("change",e[8]),{c(){t=Wh("div"),u&&u.c(),n=Vh(),o=Wh("div"),r=Wh("div"),r.textContent=`${chrome.i18n.getMessage("ui_gdocs_setting_switch")}`,i=Vh(),s=Wh("div"),Xf(a.$$.fragment),Jh(r,"class","legend"),Jh(s,"class","switch svelte-8jz3zx"),Jh(o,"class","turn-on-off-panel svelte-8jz3zx"),Jh(t,"class","dl-gdocs-top-icon-modal svelte-8jz3zx"),tf(t,"left",e[2]+"px"),Jh(t,"dir",eo())},m(p,m){Hh(p,t,m),u&&u.m(t,null),Bh(t,n),Bh(t,o),Bh(o,r),Bh(o,i),Bh(o,s),Jf(a,s,null),l=!0,c||(d=[Mh(dv.call(null,t,{isShadow:!0})),Zh(t,"click_outside",e[9])],c=!0)},p(e,o){e[1]?u?u.p(e,o):(u=eA(),u.c(),u.m(t,n)):u&&(u.d(1),u=null);const r={};8&o&&(r.checked=e[3].isGDocsEnabled),a.$set(r),(!l||4&o)&&tf(t,"left",e[2]+"px")},i(e){l||(jf(a.$$.fragment,e),l=!0)},o(e){Wf(a.$$.fragment,e),l=!1},d(e){e&&Fh(t),u&&u.d(),Qf(a),c=!1,vh(d)}}}function eA(e){let t,n,o,r,i,s,a,l,c,d,u=chrome.i18n.getMessage("ui_gdocs_welcome_usp1")+"",p=chrome.i18n.getMessage("ui_gdocs_welcome_usp2")+"",m=chrome.i18n.getMessage("ui_gdocs_welcome_usp3")+"";return{c(){t=Wh("div"),n=Wh("div"),o=Wh("p"),o.textContent=`${chrome.i18n.getMessage("ui_gdocs_welcome_title")}`,r=Vh(),i=Wh("div"),s=Wh("div"),a=Vh(),l=Wh("div"),c=Vh(),d=Wh("div"),Jh(o,"class","svelte-8jz3zx"),Jh(n,"class","header svelte-8jz3zx"),Jh(s,"class","ups-item svelte-8jz3zx"),Jh(l,"class","ups-item svelte-8jz3zx"),Jh(d,"class","ups-item svelte-8jz3zx"),Jh(i,"class","ups-list"),Jh(t,"class","onboarding svelte-8jz3zx")},m(e,g){Hh(e,t,g),Bh(t,n),Bh(n,o),Bh(t,r),Bh(t,i),Bh(i,s),s.innerHTML=u,Bh(i,a),Bh(i,l),l.innerHTML=p,Bh(i,c),Bh(i,d),d.innerHTML=m},p:gh,d(e){e&&Fh(t)}}}function tA(e){let t,n,o,r,i,s,a=e[0]&&QI(e);return{c(){t=Wh("button"),n=Vh(),a&&a.c(),o=Yh(),Jh(t,"class","dl-gdocs-top-icon svelte-8jz3zx"),tf(t,"left",e[2]+"px"),sf(t,"onboarding-pending",!e[3].isGDocsOnboardingShown)},m(l,c){Hh(l,t,c),Hh(l,n,c),a&&a.m(l,c),Hh(l,o,c),r=!0,i||(s=Zh(t,"click",e[7]),i=!0)},p(e,[n]){(!r||4&n)&&tf(t,"left",e[2]+"px"),(!r||8&n)&&sf(t,"onboarding-pending",!e[3].isGDocsOnboardingShown),e[0]?a?(a.p(e,n),1&n&&jf(a,1)):(a=QI(e),a.c(),jf(a,1),a.m(o.parentNode,o)):a&&(Hf(),Wf(a,1,1,(()=>{a=null})),Ff())},i(e){r||(jf(a),r=!0)},o(e){Wf(a),r=!1},d(e){e&&(Fh(t),Fh(n),Fh(o)),a&&a.d(e),i=!1,s()}}}function nA(e,n,o){let r;const i=bf("deepl_settings");Eh(e,i,(e=>o(3,r=e)));let s,{registerTopToolbarIconCallbacks:a}=n,{clearTopToolbarIconCallbacks:l}=n,c=!1,d=!1;const u=()=>{const e=document.querySelector(".docs-titlebar-buttons #docs-presence-container"),t=null!=document.querySelector(".docs-titlebar-buttons-rtl");if(e){const n=e.getBoundingClientRect();o(2,s=t?o(2,s=n.left+40-32):n.left-40)}};_f((()=>{u(),a({repositionTopToolbarIcon:u})})),vf((()=>{l()}));return e.$$set=e=>{"registerTopToolbarIconCallbacks"in e&&o(5,a=e.registerTopToolbarIconCallbacks),"clearTopToolbarIconCallbacks"in e&&o(6,l=e.clearTopToolbarIconCallbacks)},e.$$.update=()=>{3&e.$$.dirty&&c&&d&&t({action:"dlTrackOnboardingModalShown",payload:{nicheIntegration:ut.gdocs}})},[c,d,s,r,i,a,l,()=>{o(0,c=!0),r.isGDocsOnboardingShown||(Lh(i,r.isGDocsOnboardingShown=!0,r),o(1,d=!0))},e=>Lh(i,r.isGDocsEnabled=e.detail.checked,r),()=>{o(1,d=!1),o(0,c=!1)}]}class oA extends t_{constructor(e){super(),e_(this,e,nA,tA,wh,{registerTopToolbarIconCallbacks:5,clearTopToolbarIconCallbacks:6})}}function rA(e){let t,n,o,r,i,s,a,l,c,d,u;o=new fv({props:{tooltip:e[4],showProShield:pn(e[0],$t.TRANSLATOR),zIndex:"10000000000",$$slots:{default:[iA]},$$scope:{ctx:e}}});let p=e[3]&&sA(e);return a=new fv({props:{tooltip:chrome.i18n.getMessage("ui_gdocs_turn_off"),zIndex:"10000000000",$$slots:{default:[lA]},$$scope:{ctx:e}}}),{c(){t=Wh("div"),n=Wh("button"),Xf(o.$$.fragment),r=Vh(),p&&p.c(),i=Vh(),s=Wh("button"),Xf(a.$$.fragment),Jh(n,"class","dl-icon-circle dl-icon svelte-fyt1eq"),Jh(s,"class","dl-icon-circle dl-on-off-icon svelte-fyt1eq"),Jh(s,"data-qa","deepl-inline-translate-menu-icon"),Jh(t,"class","dl-gdocs-icon svelte-fyt1eq"),tf(t,"top",e[5].top),tf(t,"left",e[5].left),Jh(t,"dir",eo()),sf(t,"has-deepl-write",e[3])},m(l,m){Hh(l,t,m),Bh(t,n),Jf(o,n,null),Bh(t,r),p&&p.m(t,null),Bh(t,i),Bh(t,s),Jf(a,s,null),c=!0,d||(u=[Zh(n,"click",e[7]),Zh(n,"mouseenter",e[25]),Zh(s,"click",e[10]),Zh(s,"mouseenter",e[28])],d=!0)},p(e,n){const r={};16&n[0]&&(r.tooltip=e[4]),1&n[0]&&(r.showProShield=pn(e[0],$t.TRANSLATOR)),33554432&n[1]&&(r.$$scope={dirty:n,ctx:e}),o.$set(r),e[3]?p?(p.p(e,n),8&n[0]&&jf(p,1)):(p=sA(e),p.c(),jf(p,1),p.m(t,i)):p&&(Hf(),Wf(p,1,1,(()=>{p=null})),Ff());const s={};33554432&n[1]&&(s.$$scope={dirty:n,ctx:e}),a.$set(s),(!c||32&n[0])&&tf(t,"top",e[5].top),(!c||32&n[0])&&tf(t,"left",e[5].left),(!c||8&n[0])&&sf(t,"has-deepl-write",e[3])},i(e){c||(jf(o.$$.fragment,e),jf(p),jf(a.$$.fragment,e),l||Mf((()=>{l=Gf(t,O_,{x:-5,duration:300}),l.start()})),c=!0)},o(e){Wf(o.$$.fragment,e),Wf(p),Wf(a.$$.fragment,e),c=!1},d(e){e&&Fh(t),Qf(o),p&&p.d(),Qf(a),d=!1,vh(u)}}}function iA(e){let t;return{c(){t=Wh("span"),Jh(t,"class","svelte-fyt1eq")},m(e,n){Hh(e,t,n)},p:gh,d(e){e&&Fh(t)}}}function sA(e){let t,n,o,r,i;return n=new fv({props:{tooltip:chrome.i18n.getMessage("ui_gdocs_deepl_write"),showProShield:pn(e[0],$t.WRITE),zIndex:"10000000000",$$slots:{default:[aA]},$$scope:{ctx:e}}}),{c(){t=Wh("button"),Xf(n.$$.fragment),Jh(t,"class","dl-icon-circle dl-write-icon svelte-fyt1eq")},m(s,a){Hh(s,t,a),Jf(n,t,null),o=!0,r||(i=[Zh(t,"click",e[26]),Zh(t,"mouseenter",e[27])],r=!0)},p(e,t){const o={};1&t[0]&&(o.showProShield=pn(e[0],$t.WRITE)),33554432&t[1]&&(o.$$scope={dirty:t,ctx:e}),n.$set(o)},i(e){o||(jf(n.$$.fragment,e),o=!0)},o(e){Wf(n.$$.fragment,e),o=!1},d(e){e&&Fh(t),Qf(n),r=!1,vh(i)}}}function aA(e){let t;return{c(){t=Wh("span"),Jh(t,"class","svelte-fyt1eq")},m(e,n){Hh(e,t,n)},p:gh,d(e){e&&Fh(t)}}}function lA(e){let t;return{c(){t=Wh("span"),Jh(t,"class","svelte-fyt1eq")},m(e,n){Hh(e,t,n)},p:gh,d(e){e&&Fh(t)}}}function cA(e){let t,n,o,r;t=new oA({props:{registerTopToolbarIconCallbacks:e[11],clearTopToolbarIconCallbacks:e[12]}});let i=e[6]&&!e[1]&&!e[2]&&rA(e);return{c(){Xf(t.$$.fragment),n=Vh(),i&&i.c(),o=Yh()},m(e,s){Jf(t,e,s),Hh(e,n,s),i&&i.m(e,s),Hh(e,o,s),r=!0},p(e,t){!e[6]||e[1]||e[2]?i&&(Hf(),Wf(i,1,1,(()=>{i=null})),Ff()):i?(i.p(e,t),70&t[0]&&jf(i,1)):(i=rA(e),i.c(),jf(i,1),i.m(o.parentNode,o))},i(e){r||(jf(t.$$.fragment,e),jf(i),r=!0)},o(e){Wf(t.$$.fragment,e),Wf(i),r=!1},d(e){e&&(Fh(n),Fh(o)),Qf(t,e),i&&i.d(e)}}}function dA(e,n,o){let r,i;Eh(e,r_,(e=>o(0,i=e))),wf("deepl_settings",r_),wf("deepl_website_settings",wb),wf("text_direction",eo());let s,a,l,c,d,u,p,{replaceData:m}=n,{contentProcessBuildingBlocks:g}=n,{deeplWriteTrackingData:h={lang:"",sourceLength:0,targetLength:0,nicheIntegration:ut.gdocs,error:""}}=n,f=!0,_=!1,v="",y="",w=!1,b="",E={top:0,left:0};async function x(e,n,o){if("dlTriggerTranslationShortcut"===e.action)T(),t({action:"dlTrackUseOfShortcut",payload:{shortcutType:Pe,location:Z,nicheIntegration:ut.gdocs}}),o();return!0}const S=e=>{c=pt.translate,e&&(d=e),Ln()},T=()=>{S(i.selectedTargetLanguage)},$=()=>{c=pt.write,Ln()},C=()=>{const{shouldBeOutOfViewport:e,newPosition:{left:t,top:n}}=An();e!==_&&o(2,_=e),o(5,E.left=`${Math.round(t)}px`,E),o(5,E.top=`${Math.round(n)}px`,E)};function k(e){t({action:"dlTrackIconHover",payload:{uiLocation:e,domainName:window.location.host,nicheIntegration:ut.gdocs}})}const L=()=>{s=setInterval((()=>{const e=Mn(),n=!e.text;!n&&f&&C(),n&&!f&&(()=>{if(!i.isInlineHighlighterShown){r_.set({isInlineHighlighterShown:!0});try{t({action:"dltrackCloseInlineHighlighter",payload:{trigger:dt}})}catch(e){console.error(e)}}})(),o(1,f=n),v!==e.text&&o(23,v=e.text)}),300)},M=()=>{const e=document.querySelector("#docs-instant-bubble");l=new MutationObserver((()=>{C()}));return l.observe(e,{attributes:!0,childList:!1,characterData:!1}),()=>l.unobserve()},I=async e=>{if(c&&("ClipboardEvent"===e.constructor.name||e.constructor.toString().includes("ClipboardEvent"))){switch(c){case pt.translate:NB({event:e,targetLang:d});break;case pt.write:DB({event:e,lang:y})}c=void 0}},A=()=>{L(),(()=>{const e=document.querySelector("#kix-appview");a=new MutationObserver((()=>{document.querySelector("#docs-instant-bubble")&&(C(),M())})),a.observe(e,{attributes:!1,childList:!0,characterData:!1})})(),(()=>{const e=new ResizeObserver((()=>{C(),u&&u()}));e.observe(document.body)})(),document.querySelector("#kix-appview .kix-appview-editor").addEventListener("scroll",C),(()=>{const{editable:e}=kn();e.addEventListener("copy",I)})()},R=()=>{a&&a.disconnect(),l&&l.disconnect(),s&&clearInterval(s),document.querySelector("#kix-appview .kix-appview-editor").removeEventListener("scroll",C),(()=>{const{editable:e}=kn();e.removeEventListener("copy",I)})()};_f((()=>{A(),chrome.runtime.onMessage.addListener(x),t({action:"dlCheckCommandShortcuts"}).then((e=>o(24,b=e?e.filter((e=>e.name==Pe))[0].shortcut:"")))})),vf((()=>{R()}));return e.$$set=e=>{"replaceData"in e&&o(14,m=e.replaceData),"contentProcessBuildingBlocks"in e&&o(13,g=e.contentProcessBuildingBlocks),"deeplWriteTrackingData"in e&&o(15,h=e.deeplWriteTrackingData)},e.$$.update=()=>{if(1&e.$$.dirty[0]&&o(6,r=i&&i.isGDocsEnabled),8388608&e.$$.dirty[0]&&(async e=>{const t=await Yn(e);y=t,o(3,w=Jn(y)&&!gn(i,$t.WRITE))})(v),16777216&e.$$.dirty[0]){let e=chrome.i18n.getMessage("ui_gdocs_translate_tooltip_2");o(4,p=b?`${e} (${b})`:e)}},[i,f,_,w,p,E,r,T,$,k,()=>{r_.set({isGDocsEnabled:!1}),t({action:"dlTrackCustomizationEnabledEvent",payload:{nicheIntegration:ut.gdocs,uiLocation:Z,customizationEnabled:!1}})},e=>{u=e.repositionTopToolbarIcon},()=>{u=void 0},g,m,h,e=>{o(13,g=e)},()=>g,()=>{m&&Fn(m)},S,()=>{JB({eventType:It,...h})},()=>{JB({eventType:At,...h})},e=>{switch(e){case Ft:JB({eventType:Rt,...h});break;case jt:t({action:"dlTrackGDocsMaxCharExceededTryProClicked",payload:{sourceLang:h.lang,targetLang:h.lang,sourceLength:h.sourceLength}})}},v,b,()=>k(Z),()=>$(),()=>k(ve),()=>k(K)]}class uA extends t_{constructor(e){super(),e_(this,e,dA,cA,wh,{replaceData:14,contentProcessBuildingBlocks:13,deeplWriteTrackingData:15,setContentProcessBuildingBlocks:16,getContentProcessBuildingBlocks:17,applyReplacement:18,requestTranslation:19,trackDeeplWriteInsertCopy:20,trackDeeplWriteDiscardCopy:21,trackMaxCharExceeded:22},null,[-1,-1])}get setContentProcessBuildingBlocks(){return this.$$.ctx[16]}get getContentProcessBuildingBlocks(){return this.$$.ctx[17]}get applyReplacement(){return this.$$.ctx[18]}get requestTranslation(){return this.$$.ctx[19]}get trackDeeplWriteInsertCopy(){return this.$$.ctx[20]}get trackDeeplWriteDiscardCopy(){return this.$$.ctx[21]}get trackMaxCharExceeded(){return this.$$.ctx[22]}}class pA{static HTML_TAG_NAME="deepl-gdocs-icon";static createElement=(e=document)=>{const t=e.createElement(pA.HTML_TAG_NAME),n=new pA(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.setReplaceData=n.setReplaceData,t.applyReplacement=n.applyReplacement,t.requestNewTranslation=n.requestNewTranslation,t.setDeeplWriteTrackingData=n.setDeeplWriteTrackingData,t.trackDeeplWriteInsertCopy=n.trackDeeplWriteInsertCopy,t.trackDeeplWriteDiscardCopy=n.trackDeeplWriteDiscardCopy,t.trackMaxCharExceeded=n.trackMaxCharExceeded,t.setContentProcessBuildingBlocks=n.setContentProcessBuildingBlocks,t.getContentProcessBuildingBlocks=n.getContentProcessBuildingBlocks,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowRoot.addEventListener("mouseup",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowRoot.addEventListener("mousedown",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=()=>{this.domElement.mainComponent=new uA({target:this.domElement.shadowContainer,props:{onClose:this.domElement.cleanupDOM}})};setReplaceData=e=>{this.domElement.mainComponent.$$set({replaceData:e})};setDeeplWriteTrackingData=e=>{this.domElement.mainComponent.$$set({deeplWriteTrackingData:e})};trackDeeplWriteInsertCopy=()=>this.domElement.mainComponent.trackDeeplWriteInsertCopy();trackDeeplWriteDiscardCopy=()=>this.domElement.mainComponent.trackDeeplWriteDiscardCopy();trackMaxCharExceeded=e=>this.domElement.mainComponent.trackMaxCharExceeded(e);applyReplacement=()=>{this.domElement.mainComponent.applyReplacement()};requestNewTranslation=e=>{this.domElement.mainComponent.requestTranslation(e)};setContentProcessBuildingBlocks=e=>this.domElement.mainComponent.setContentProcessBuildingBlocks(e);getContentProcessBuildingBlocks=()=>this.domElement.mainComponent.getContentProcessBuildingBlocks();cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function mA(e){let t,n;return t=new d$({props:{size:16,marginStart:8,alternateColor:"white"}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function gA(e){let t,n;return t=new d$({props:{size:16,marginStart:8,alternateColor:"white"}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function hA(e){let t,n,o,r,i,s,a,l=chrome.i18n.getMessage("ui_gslides_write_cta")+"",c=pn(e[4],$t.TRANSLATOR),d=c&&gA();return{c(){t=Wh("button"),n=Gh(l),o=Vh(),d&&d.c(),Jh(t,"class","action-button svelte-c2z0h2"),t.disabled=r=!Jn(e[3])||gn(e[4],$t.WRITE)},m(r,l){Hh(r,t,l),Bh(t,n),Bh(t,o),d&&d.m(t,null),i=!0,s||(a=Zh(t,"click",(function(){yh(e[1])&&e[1].apply(this,arguments)})),s=!0)},p(n,o){e=n,16&o&&(c=pn(e[4],$t.TRANSLATOR)),c?d?16&o&&jf(d,1):(d=gA(),d.c(),jf(d,1),d.m(t,null)):d&&(Hf(),Wf(d,1,1,(()=>{d=null})),Ff()),(!i||24&o&&r!==(r=!Jn(e[3])||gn(e[4],$t.WRITE)))&&(t.disabled=r)},i(e){i||(jf(d),i=!0)},o(e){Wf(d),i=!1},d(e){e&&Fh(t),d&&d.d(),s=!1,a()}}}function fA(e){let t,n,o,r,i,s,a,l,c,d,u,p,m,g,h,f,_,v,y,w,b,E=chrome.i18n.getMessage("ui_gslides_translate_cta")+"",x=pn(e[4],$t.TRANSLATOR);s=new Rb({props:{disabled:e[2],websiteSettings:e[6],value:e[3],showSortCode:!1,showRegionalVariants:!1,extraPadding:!0}}),s.$on("selection",e[10]),u=new Rb({props:{disabled:e[2],websiteSettings:e[6],value:e[4].selectedTargetLanguage,extraPadding:!0}}),u.$on("selection",e[11]);let S=x&&mA();return v=new fv({props:{tooltip:gn(e[4],$t.WRITE)?chrome.i18n.getMessage("input_translation_tooltip_improve_disabled_by_admin"):chrome.i18n.getMessage("input_translation_tooltip_improve_supported_lang"),zIndex:"10000000000",multiline:!0,$$slots:{default:[hA]},$$scope:{ctx:e}}}),{c(){t=Wh("div"),n=Wh("div"),o=Wh("p"),o.textContent=`${chrome.i18n.getMessage("ui_gslides_translate_from")}`,r=Vh(),i=Wh("div"),Xf(s.$$.fragment),a=Vh(),l=Wh("p"),l.textContent=`${chrome.i18n.getMessage("ui_gslides_translate_into")}`,c=Vh(),d=Wh("div"),Xf(u.$$.fragment),p=Vh(),m=Wh("button"),g=Gh(E),h=Vh(),S&&S.c(),f=Vh(),_=Wh("div"),Xf(v.$$.fragment),Jh(o,"class","svelte-c2z0h2"),Jh(i,"class","dropdown svelte-c2z0h2"),Jh(l,"class","svelte-c2z0h2"),Jh(d,"class","dropdown svelte-c2z0h2"),Jh(m,"class","action-button svelte-c2z0h2"),Jh(n,"class","translate-container svelte-c2z0h2"),Jh(_,"class","write-container svelte-c2z0h2"),Jh(t,"class","dl-gslides-toolbar svelte-c2z0h2")},m(E,x){Hh(E,t,x),Bh(t,n),Bh(n,o),Bh(n,r),Bh(n,i),Jf(s,i,null),Bh(n,a),Bh(n,l),Bh(n,c),Bh(n,d),Jf(u,d,null),Bh(n,p),Bh(n,m),Bh(m,g),Bh(m,h),S&&S.m(m,null),Bh(t,f),Bh(t,_),Jf(v,_,null),y=!0,w||(b=Zh(m,"click",(function(){yh(e[0])&&e[0].apply(this,arguments)})),w=!0)},p(t,[n]){e=t;const o={};4&n&&(o.disabled=e[2]),8&n&&(o.value=e[3]),s.$set(o);const r={};4&n&&(r.disabled=e[2]),16&n&&(r.value=e[4].selectedTargetLanguage),u.$set(r),16&n&&(x=pn(e[4],$t.TRANSLATOR)),x?S?16&n&&jf(S,1):(S=mA(),S.c(),jf(S,1),S.m(m,null)):S&&(Hf(),Wf(S,1,1,(()=>{S=null})),Ff());const i={};16&n&&(i.tooltip=gn(e[4],$t.WRITE)?chrome.i18n.getMessage("input_translation_tooltip_improve_disabled_by_admin"):chrome.i18n.getMessage("input_translation_tooltip_improve_supported_lang")),4122&n&&(i.$$scope={dirty:n,ctx:e}),v.$set(i)},i(e){y||(jf(s.$$.fragment,e),jf(u.$$.fragment,e),jf(S),jf(v.$$.fragment,e),y=!0)},o(e){Wf(s.$$.fragment,e),Wf(u.$$.fragment,e),Wf(S),Wf(v.$$.fragment,e),y=!1},d(e){e&&Fh(t),Qf(s),Qf(u),S&&S.d(),Qf(v),w=!1,b()}}}function _A(e,t,n){let o;const r=bf("deepl_settings");Eh(e,r,(e=>n(4,o=e)));const i=bf("deepl_website_settings");let{onTranslateSelection:s}=t,{onImproveSelection:a}=t,{isLoading:l}=t,{sourceLang:c}=t,{manualSourceLang:d}=t;const u=e=>{n(9,d=e)},p=e=>{Lh(r,o.selectedTargetLanguage=e,o)};return e.$$set=e=>{"onTranslateSelection"in e&&n(0,s=e.onTranslateSelection),"onImproveSelection"in e&&n(1,a=e.onImproveSelection),"isLoading"in e&&n(2,l=e.isLoading),"sourceLang"in e&&n(3,c=e.sourceLang),"manualSourceLang"in e&&n(9,d=e.manualSourceLang)},[s,a,l,c,o,r,i,u,p,d,e=>{u(e.detail.selectedOption.value)},e=>{p(e.detail.selectedOption.value)}]}class vA extends t_{constructor(e){super(),e_(this,e,_A,fA,wh,{onTranslateSelection:0,onImproveSelection:1,isLoading:2,sourceLang:3,manualSourceLang:9})}}function yA(e){let t,n,o,r,i,s,a;function l(t){e[12](t)}let c={onTranslateSelection:e[7],onImproveSelection:e[8],isLoading:e[4],sourceLang:e[1]};return void 0!==e[0]&&(c.manualSourceLang=e[0]),n=new vA({props:c}),Sf.push((()=>Kf(n,"manualSourceLang",l))),{c(){t=Wh("div"),Xf(n.$$.fragment),Jh(t,"class","dl-gslides-toolbar svelte-1esuwx"),Jh(t,"dir",eo())},m(o,r){Hh(o,t,r),Jf(n,t,null),i=!0,s||(a=[Mh(dv.call(null,t,{isShadow:!0})),Zh(t,"click_outside",e[13])],s=!0)},p(e,t){const r={};16&t&&(r.isLoading=e[4]),2&t&&(r.sourceLang=e[1]),!o&&1&t&&(o=!0,r.manualSourceLang=e[0],If((()=>o=!1))),n.$set(r)},i(e){i||(jf(n.$$.fragment,e),Mf((()=>{i&&(r||(r=Yf(t,O_,{},!0)),r.run(1))})),i=!0)},o(e){Wf(n.$$.fragment,e),r||(r=Yf(t,O_,{},!1)),r.run(0),i=!1},d(e){e&&Fh(t),Qf(n),e&&r&&r.end(),s=!1,vh(a)}}}function wA(e){let t,n;return t=new tS({props:{small:!0}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function bA(e){let t,n,o,r,i,s,a,l,c=e[3]&&yA(e),d=e[4]&&wA();return{c(){t=Wh("div"),c&&c.c(),n=Vh(),o=Wh("button"),d&&d.c(),Jh(o,"class","dl-gslides-button svelte-1esuwx"),Jh(o,"title","Translate with DeepL"),sf(o,"is-loading",e[4]),Jh(t,"class","dl-gslides-icon svelte-1esuwx"),Jh(t,"style",i="bottom: "+e[2].bottom+"px; "+e[2].horizonalAlignment+": "+e[2].horizonalOffset+"px;")},m(r,i){Hh(r,t,i),c&&c.m(t,null),Bh(t,n),Bh(t,o),d&&d.m(o,null),s=!0,a||(l=Zh(o,"click",e[6]),a=!0)},p(e,[r]){e[3]?c?(c.p(e,r),8&r&&jf(c,1)):(c=yA(e),c.c(),jf(c,1),c.m(t,n)):c&&(Hf(),Wf(c,1,1,(()=>{c=null})),Ff()),e[4]?d?16&r&&jf(d,1):(d=wA(),d.c(),jf(d,1),d.m(o,null)):d&&(Hf(),Wf(d,1,1,(()=>{d=null})),Ff()),(!s||16&r)&&sf(o,"is-loading",e[4]),(!s||4&r&&i!==(i="bottom: "+e[2].bottom+"px; "+e[2].horizonalAlignment+": "+e[2].horizonalOffset+"px;"))&&Jh(t,"style",i)},i(e){s||(jf(c),jf(d),Mf((()=>{s&&(r||(r=Yf(o,O_,{},!0)),r.run(1))})),s=!0)},o(e){Wf(c),Wf(d),r||(r=Yf(o,O_,{},!1)),r.run(0),s=!1},d(e){e&&Fh(t),c&&c.d(),d&&d.d(),e&&r&&r.end(),a=!1,l()}}}const EA=16,xA="application/x-vnd.google-docs-drawings-object+wrapped",SA="application/x-vnd.google-docs-document-slice-clip+wrapped";function TA(e,t,o){let r;const i=bf("deepl_settings");Eh(e,i,(e=>o(15,r=e)));let s,{registerActionIconCallbacks:a}=t,{clearActionIconCallbacks:l}=t,{sourceLang:c}=t,{manualSourceLang:d}=t,{charLimitError:u}=t,p={bottom:0,right:0},m=!1,g=!1,h=[];const f=()=>{const e=document.querySelector("#canvas-container"),t=eo(),n="ltr"===t?"right":"left";if(e){const r=e.getBoundingClientRect();let i=EA;i="ltr"===t?r.right>window.innerWidth?0:window.innerWidth-r.right:r.left<0?0:r.left;const s=r.bottom>window.innerHeight?16:window.innerHeight-r.bottom;o(2,p={bottom:s+EA,horizonalOffset:i+EA,horizonalAlignment:n})}else o(2,p={bottom:EA,horizonalOffset:EA,horizonalAlignment:n})},_=async(e,t)=>{try{let i=e.clipboardData.getData(xA),a=e.clipboardData.getData(SA);if(i){if((e=>{let t=e.getData("application/x-vnd.google-docs-image-clip+wrapped");if(!t)return!1;const n=JSON.parse(t),o=JSON.parse(n.data).image_urls,r=Object.keys(o);let i=!1;for(const e of r)if(e.includes("PLACEHOLDER_")&&!h.includes(e)){h.push(e),i=!0;break}return i})(e.clipboardData))return void n(G,{theme:Y.warning_theme});o(4,g=!0);const s=await(async(e,t)=>{const n=JSON.parse(e),o=JSON.parse(n.data),i=o.unresolved,{entities:s,sentencesToTranslate:a}=io(i),l=await PB({targetLang:r.selectedTargetLanguage,sourceLang:c,sentences:a,mode:t}),d=[];for(let e=0;e<s.length;e++)so({entity:s[e],translatedSentences:l,modifiersToDelete:d});return o.unresolved=o.unresolved.filter((e=>!d.includes(e))),n.data=JSON.stringify(o),JSON.stringify(n)})(i,t);av("keydown",document.querySelector("svg > g > g[pointer-events=visiblePainted]")),v(s),o(4,g=!1)}else if(a){o(4,g=!0);const n=await(async(e,t)=>await BB({event:e,sourceLang:c,targetLang:r.selectedTargetLanguage,mode:t}))(e,t);av("keydown",document.querySelector("svg > g > g[pointer-events=visiblePainted]")),y(n),o(4,g=!1)}else await ro(),s=t,o(3,m=!1),Ln()}catch(e){console.log("errororr slidews",e),e.name===b_?o(9,u=en):e.name===w_?o(9,u=tn):e.name===x_?o(9,u=x_):e.name===S_&&o(9,u=S_),console.error(e),o(4,g=!1)}},v=e=>{const{editable:t}=kn();let n;if(En())n=new ClipboardEvent("paste",{dataType:xA,data:e});else{const t=new DataTransfer;t.setData(xA,e),n=new ClipboardEvent("paste",{bubbles:!0,clipboardData:t})}t.dispatchEvent(n)},y=e=>{const{editable:t}=kn();let n;if(En())n=new ClipboardEvent("paste",{dataType:SA,data:e});else{const t=new DataTransfer;t.setData(SA,e),n=new ClipboardEvent("paste",{bubbles:!0,clipboardData:t})}t.dispatchEvent(n)};_f((()=>{setTimeout((()=>{const{editable:e}=kn();e.addEventListener("copy",(e=>{if(s){const t=s;s=void 0,_(e,t)}}))}),2e3),a({repositionActionIcon:f})})),vf((()=>{l()}));return e.$$set=e=>{"registerActionIconCallbacks"in e&&o(10,a=e.registerActionIconCallbacks),"clearActionIconCallbacks"in e&&o(11,l=e.clearActionIconCallbacks),"sourceLang"in e&&o(1,c=e.sourceLang),"manualSourceLang"in e&&o(0,d=e.manualSourceLang),"charLimitError"in e&&o(9,u=e.charLimitError)},[d,c,p,m,g,i,()=>{o(3,m=!m)},()=>{s=pt.translate,o(3,m=!1),Ln()},()=>{s=pt.write,o(3,m=!1),Ln()},u,a,l,function(e){d=e,o(0,d)},()=>{o(3,m=!1)}]}class $A extends t_{constructor(e){super(),e_(this,e,TA,bA,wh,{registerActionIconCallbacks:10,clearActionIconCallbacks:11,sourceLang:1,manualSourceLang:0,charLimitError:9})}}function CA(e){let t,n,o,r,i,s,a,l,c,d,u=e[1]&&kA();return a=new JI({props:{checked:e[3].isGSlidesEnabled}}),a.$on("change",e[8]),{c(){t=Wh("div"),u&&u.c(),n=Vh(),o=Wh("div"),r=Wh("div"),r.textContent=`${chrome.i18n.getMessage("ui_gslides_toggle_customization")}`,i=Vh(),s=Wh("div"),Xf(a.$$.fragment),Jh(r,"class","legend"),Jh(s,"class","switch svelte-19uh4k2"),Jh(o,"class","turn-on-off-panel svelte-19uh4k2"),Jh(t,"class","dl-gslides-top-icon-modal svelte-19uh4k2"),tf(t,"left",e[2]+"px"),Jh(t,"dir",eo())},m(p,m){Hh(p,t,m),u&&u.m(t,null),Bh(t,n),Bh(t,o),Bh(o,r),Bh(o,i),Bh(o,s),Jf(a,s,null),l=!0,c||(d=[Mh(dv.call(null,t,{isShadow:!0})),Zh(t,"click_outside",e[9])],c=!0)},p(e,o){e[1]?u?u.p(e,o):(u=kA(),u.c(),u.m(t,n)):u&&(u.d(1),u=null);const r={};8&o&&(r.checked=e[3].isGSlidesEnabled),a.$set(r),(!l||4&o)&&tf(t,"left",e[2]+"px")},i(e){l||(jf(a.$$.fragment,e),l=!0)},o(e){Wf(a.$$.fragment,e),l=!1},d(e){e&&Fh(t),u&&u.d(),Qf(a),c=!1,vh(d)}}}function kA(e){let t,n,o,r,i,s,a,l,c,d;return{c(){t=Wh("div"),n=Wh("div"),o=Wh("p"),o.textContent=`${chrome.i18n.getMessage("ui_gslides_onboarding_title")}`,r=Vh(),i=Wh("div"),i.textContent=`${chrome.i18n.getMessage("ui_gslides_onboarding_label_beta")}`,s=Vh(),a=Wh("div"),l=Wh("div"),l.textContent=`${chrome.i18n.getMessage("ui_gslides_onboarding_ups_1")}`,c=Vh(),d=Wh("div"),d.textContent=`${chrome.i18n.getMessage("ui_gslides_onboarding_ups_2")}`,Jh(o,"class","svelte-19uh4k2"),Jh(i,"class","beta-label svelte-19uh4k2"),Jh(n,"class","header svelte-19uh4k2"),Jh(l,"class","ups-item svelte-19uh4k2"),Jh(d,"class","ups-item svelte-19uh4k2"),Jh(a,"class","ups-list"),Jh(t,"class","onboarding svelte-19uh4k2")},m(e,u){Hh(e,t,u),Bh(t,n),Bh(n,o),Bh(n,r),Bh(n,i),Bh(t,s),Bh(t,a),Bh(a,l),Bh(a,c),Bh(a,d)},p:gh,d(e){e&&Fh(t)}}}function LA(e){let t,n,o,r,i,s,a=e[0]&&CA(e);return{c(){t=Wh("button"),n=Vh(),a&&a.c(),o=Yh(),Jh(t,"class","dl-gslides-top-icon svelte-19uh4k2"),tf(t,"left",e[2]+"px"),sf(t,"onboarding-pending",!e[3].isGSlidesOnboardingShown)},m(l,c){Hh(l,t,c),Hh(l,n,c),a&&a.m(l,c),Hh(l,o,c),r=!0,i||(s=Zh(t,"click",e[7]),i=!0)},p(e,[n]){(!r||4&n)&&tf(t,"left",e[2]+"px"),(!r||8&n)&&sf(t,"onboarding-pending",!e[3].isGSlidesOnboardingShown),e[0]?a?(a.p(e,n),1&n&&jf(a,1)):(a=CA(e),a.c(),jf(a,1),a.m(o.parentNode,o)):a&&(Hf(),Wf(a,1,1,(()=>{a=null})),Ff())},i(e){r||(jf(a),r=!0)},o(e){Wf(a),r=!1},d(e){e&&(Fh(t),Fh(n),Fh(o)),a&&a.d(e),i=!1,s()}}}function MA(e,n,o){let r;const i=bf("deepl_settings");Eh(e,i,(e=>o(3,r=e)));let s,{registerTopIconCallbacks:a}=n,{clearTopIconCallbacks:l}=n,c=!1,d=!1;const u=()=>{const e=document.querySelector(".docs-titlebar-buttons #docs-presence-container"),t=null!=document.querySelector(".docs-titlebar-buttons-rtl");if(e){const n=e.getBoundingClientRect();o(2,s=t?o(2,s=n.left+40-32):n.left-40)}};_f((()=>{u(),a({repositionTopIcon:u})})),vf((()=>{l()}));return e.$$set=e=>{"registerTopIconCallbacks"in e&&o(5,a=e.registerTopIconCallbacks),"clearTopIconCallbacks"in e&&o(6,l=e.clearTopIconCallbacks)},e.$$.update=()=>{3&e.$$.dirty&&c&&d&&t({action:"dlTrackOnboardingModalShown",payload:{nicheIntegration:ut.gslides}})},[c,d,s,r,i,a,l,()=>{o(0,c=!0),r.isGSlidesOnboardingShown||(Lh(i,r.isGSlidesOnboardingShown=!0,r),o(1,d=!0))},e=>Lh(i,r.isGSlidesEnabled=e.detail.checked,r),()=>{o(1,d=!1),o(0,c=!1)}]}class IA extends t_{constructor(e){super(),e_(this,e,MA,LA,wh,{registerTopIconCallbacks:5,clearTopIconCallbacks:6})}}function AA(e){let t,n,o,r,i;function s(e,t){return e[0]===tn?NA:e[0]===en?OA:void 0}let a=s(e),l=a&&a(e);return{c(){t=Wh("button"),n=Vh(),l&&l.c(),o=Yh(),Jh(t,"class","close-button svelte-8x6yh8")},m(s,a){Hh(s,t,a),Hh(s,n,a),l&&l.m(s,a),Hh(s,o,a),r||(i=Zh(t,"click",(function(){yh(e[1])&&e[1].apply(this,arguments)})),r=!0)},p(t,n){a===(a=s(e=t))&&l?l.p(e,n):(l&&l.d(1),l=a&&a(e),l&&(l.c(),l.m(o.parentNode,o)))},i:gh,o:gh,d(e){e&&(Fh(t),Fh(n),Fh(o)),l&&l.d(e),r=!1,i()}}}function RA(e){let t,n;return t=new kw({props:{error:{error:e[0]},close:e[1],config:{nicheIntegration:ut.gslides}}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.error={error:e[0]}),2&n&&(o.close=e[1]),t.$set(o)},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function OA(e){let t,n,o,r,i,s,a,l,c,d;return{c(){t=Wh("h2"),t.textContent=`${chrome.i18n.getMessage("ui_gslides_limit_reached_anonymous_title")}`,n=Vh(),o=Wh("p"),o.textContent=`${chrome.i18n.getMessage("ui_gslides_limit_reached_anonymous_content")}`,r=Vh(),i=Wh("div"),s=Wh("button"),s.textContent=`${chrome.i18n.getMessage("ui_gslides_limit_reached_anonymous_cta_login")}`,a=Vh(),l=Wh("button"),l.textContent=`${chrome.i18n.getMessage("ui_gslides_limit_reached_anonymous_cta_signup")}`,Jh(t,"class","svelte-8x6yh8"),Jh(o,"class","svelte-8x6yh8"),Jh(s,"class","btn-secondary svelte-8x6yh8"),Jh(l,"class","btn-primary svelte-8x6yh8"),Jh(i,"class","buttons-row svelte-8x6yh8")},m(u,p){Hh(u,t,p),Hh(u,n,p),Hh(u,o,p),Hh(u,r,p),Hh(u,i,p),Bh(i,s),Bh(i,a),Bh(i,l),c||(d=[Zh(s,"click",e[4]),Zh(l,"click",e[3])],c=!0)},p:gh,d(e){e&&(Fh(t),Fh(n),Fh(o),Fh(r),Fh(i)),c=!1,vh(d)}}}function NA(e){let t,n,o,r,i,s,a,l;return{c(){t=Wh("h2"),t.textContent=`${chrome.i18n.getMessage("ui_gslides_limit_reached_logged_in_title")}`,n=Vh(),o=Wh("p"),o.textContent=`${chrome.i18n.getMessage("ui_gslides_limit_reached_logged_in_content")}`,r=Vh(),i=Wh("div"),s=Wh("button"),s.textContent=`${chrome.i18n.getMessage("ui_gslides_limit_reached_logged_in_cta")}`,Jh(t,"class","svelte-8x6yh8"),Jh(o,"class","svelte-8x6yh8"),Jh(s,"class","btn-primary svelte-8x6yh8"),Jh(i,"class","buttons-row svelte-8x6yh8")},m(c,d){Hh(c,t,d),Hh(c,n,d),Hh(c,o,d),Hh(c,r,d),Hh(c,i,d),Bh(i,s),a||(l=Zh(s,"click",e[3]),a=!0)},p:gh,d(e){e&&(Fh(t),Fh(n),Fh(o),Fh(r),Fh(i)),a=!1,l()}}}function DA(e){let t,n,o,r,i,s,a;const l=[RA,AA],c=[];function d(e,t){return e[2]?0:1}return o=d(e),r=c[o]=l[o](e),{c(){t=Wh("div"),n=Wh("div"),r.c(),Jh(n,"class","dl-char-limit-error-container svelte-8x6yh8"),sf(n,"is-translator-limit",!e[2]),Jh(t,"class","dl-char-limit-error-overlay svelte-8x6yh8")},m(r,l){Hh(r,t,l),Bh(t,n),c[o].m(n,null),i=!0,s||(a=[Mh(dv.call(null,n,{isShadow:!0})),Zh(n,"click_outside",(function(){yh(e[1])&&e[1].apply(this,arguments)}))],s=!0)},p(t,[s]){let a=o;o=d(e=t),o===a?c[o].p(e,s):(Hf(),Wf(c[a],1,1,(()=>{c[a]=null})),Ff(),r=c[o],r?r.p(e,s):(r=c[o]=l[o](e),r.c()),jf(r,1),r.m(n,null)),(!i||4&s)&&sf(n,"is-translator-limit",!e[2])},i(e){i||(jf(r),i=!0)},o(e){Wf(r),i=!1},d(e){e&&Fh(t),c[o].d(),s=!1,vh(a)}}}function PA(e,n,o){let r,{charLimitError:i}=n,{closeModal:s}=n;let a=!1;return e.$$set=e=>{"charLimitError"in e&&o(0,i=e.charLimitError),"closeModal"in e&&o(1,s=e.closeModal)},e.$$.update=()=>{1&e.$$.dirty&&o(2,r=i===x_||i===S_)},[i,s,r,()=>{t({action:"dlExternalURLRedirect",payload:{destination:ly,utmContent:"gslides_customization"}}),s()},()=>{a||(t({action:"dlTrackUILocationClicked",payload:$e}),a=!0,t({action:"dlRequestLogin"}).then((()=>{a=!1,s()})).catch((()=>{a=!1})))}]}class BA extends t_{constructor(e){super(),e_(this,e,PA,DA,wh,{charLimitError:0,closeModal:1})}}function zA(e){let t,n;return t=new BA({props:{charLimitError:e[2],closeModal:e[10]}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.charLimitError=e[2]),4&n&&(o.closeModal=e[10]),t.$set(o)},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function UA(e){let t,n,o,r;function i(t){e[11](t)}function s(t){e[12](t)}let a={registerActionIconCallbacks:e[7],clearActionIconCallbacks:e[8],sourceLang:e[3]};return void 0!==e[0]&&(a.manualSourceLang=e[0]),void 0!==e[2]&&(a.charLimitError=e[2]),t=new $A({props:a}),Sf.push((()=>Kf(t,"manualSourceLang",i))),Sf.push((()=>Kf(t,"charLimitError",s))),{c(){Xf(t.$$.fragment)},m(e,n){Jf(t,e,n),r=!0},p(e,r){const i={};8&r&&(i.sourceLang=e[3]),!n&&1&r&&(n=!0,i.manualSourceLang=e[0],If((()=>n=!1))),!o&&4&r&&(o=!0,i.charLimitError=e[2],If((()=>o=!1))),t.$set(i)},i(e){r||(jf(t.$$.fragment,e),r=!0)},o(e){Wf(t.$$.fragment,e),r=!1},d(e){Qf(t,e)}}}function HA(e){let t,n,o,r,i;t=new IA({props:{registerTopIconCallbacks:e[5],clearTopIconCallbacks:e[6]}});let s=e[2]&&zA(e),a=e[4].isGSlidesEnabled&&!e[1]&&UA(e);return{c(){Xf(t.$$.fragment),n=Vh(),s&&s.c(),o=Vh(),a&&a.c(),r=Yh()},m(e,l){Jf(t,e,l),Hh(e,n,l),s&&s.m(e,l),Hh(e,o,l),a&&a.m(e,l),Hh(e,r,l),i=!0},p(e,[t]){e[2]?s?(s.p(e,t),4&t&&jf(s,1)):(s=zA(e),s.c(),jf(s,1),s.m(o.parentNode,o)):s&&(Hf(),Wf(s,1,1,(()=>{s=null})),Ff()),e[4].isGSlidesEnabled&&!e[1]?a?(a.p(e,t),18&t&&jf(a,1)):(a=UA(e),a.c(),jf(a,1),a.m(r.parentNode,r)):a&&(Hf(),Wf(a,1,1,(()=>{a=null})),Ff())},i(e){i||(jf(t.$$.fragment,e),jf(s),jf(a),i=!0)},o(e){Wf(t.$$.fragment,e),Wf(s),Wf(a),i=!1},d(e){e&&(Fh(n),Fh(o),Fh(r)),Qf(t,e),s&&s.d(e),a&&a.d(e)}}}function FA(e,t,n){let o,r,i,s,a,l,c;Eh(e,r_,(e=>n(4,r=e))),wf("deepl_settings",r_),wf("deepl_website_settings",wb),wf("text_direction",eo());let d,u,p=!0;const m=async e=>{if("dlChangeActiveTabStatus"===e.action)e.payload.isActive?g():h();return!0},g=()=>{i&&clearInterval(i),i=setInterval(f,800)},h=()=>{clearInterval(i)},f=()=>{s&&s(),a&&a(),c||_()},_=async()=>{n(9,l=await oo()||"EN-US")};_f((()=>{g(),d=new MutationObserver((()=>{window.document.querySelector(".punch-full-screen-element")?n(1,p=!0):n(1,p=!1)})),d.observe(window.document.body,{attributes:!0,childList:!0,subtree:!0}),uv((()=>d.disconnect())),chrome.runtime.onMessage.addListener(m)})),vf((()=>{i&&h(),chrome.runtime.onMessage.removeListener(m),d.disconnect()}));return e.$$.update=()=>{513&e.$$.dirty&&n(3,o=c||l)},[c,p,u,o,r,e=>{s=e.repositionTopIcon},()=>{s=void 0},e=>{a=e.repositionActionIcon},()=>{a=void 0},l,()=>n(2,u=void 0),function(e){c=e,n(0,c)},function(e){u=e,n(2,u)}]}class jA extends t_{constructor(e){super(),e_(this,e,FA,HA,wh,{})}}class WA{static HTML_TAG_NAME="deepl-gslides-controller";static createElement=(e=document)=>{const t=e.createElement(WA.HTML_TAG_NAME),n=new WA(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowRoot.addEventListener("mouseup",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowRoot.addEventListener("mousedown",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=()=>{this.domElement.mainComponent=new jA({target:this.domElement.shadowContainer,props:{onClose:this.domElement.cleanupDOM}})};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function qA(e){let t,n,o;return{c(){t=Wh("p"),t.innerHTML='<strong class="svelte-xhv8yz">Help us improve DeepL for Arabic</strong>',n=Vh(),o=Wh("p"),o.textContent="Take 2 minutes to tell us what we can do better.",Jh(t,"class","svelte-xhv8yz"),Jh(o,"class","svelte-xhv8yz")},m(e,r){Hh(e,t,r),Hh(e,n,r),Hh(e,o,r)},p:gh,d(e){e&&(Fh(t),Fh(n),Fh(o))}}}function GA(e){let t;return{c(){t=Wh("p"),t.textContent=`${chrome.i18n.getMessage("segmentation_survey_copy")}`,Jh(t,"class","svelte-xhv8yz")},m(e,n){Hh(e,t,n)},p:gh,d(e){e&&Fh(t)}}}function VA(e){let t,n,o,r;return{c(){t=Wh("p"),n=Wh("strong"),n.textContent=`${chrome.i18n.getMessage("ui_gslides_feedback_title")}`,o=Vh(),r=Wh("p"),r.textContent=`${chrome.i18n.getMessage("ui_gslides_feedback_content")}`,Jh(n,"class","svelte-xhv8yz"),Jh(t,"class","svelte-xhv8yz"),Jh(r,"class","svelte-xhv8yz")},m(e,i){Hh(e,t,i),Bh(t,n),Hh(e,o,i),Hh(e,r,i)},p:gh,d(e){e&&(Fh(t),Fh(o),Fh(r))}}}function YA(e){let t,n,o,r;return{c(){t=Wh("p"),n=Wh("strong"),n.textContent=`${chrome.i18n.getMessage("ui_toaster_gmail_feedback_title")}`,o=Vh(),r=Wh("p"),r.textContent=`${chrome.i18n.getMessage("ui_toaster_gmail_feedback_content")}`,Jh(n,"class","svelte-xhv8yz"),Jh(t,"class","svelte-xhv8yz"),Jh(r,"class","svelte-xhv8yz")},m(e,i){Hh(e,t,i),Bh(t,n),Hh(e,o,i),Hh(e,r,i)},p:gh,d(e){e&&(Fh(t),Fh(o),Fh(r))}}}function ZA(e){let t,n,o,r;return{c(){t=Wh("p"),n=Wh("strong"),n.textContent=`${chrome.i18n.getMessage("ui_toaster_feedback_form_line_1")}`,o=Vh(),r=Wh("p"),r.textContent=`${chrome.i18n.getMessage("ui_toaster_feedback_form_line_2")}`,Jh(n,"class","svelte-xhv8yz"),Jh(t,"class","svelte-xhv8yz"),Jh(r,"class","svelte-xhv8yz")},m(e,i){Hh(e,t,i),Bh(t,n),Hh(e,o,i),Hh(e,r,i)},p:gh,d(e){e&&(Fh(t),Fh(o),Fh(r))}}}function KA(e){let t,n,o,r;return{c(){t=Wh("p"),n=Wh("strong"),n.textContent=`${chrome.i18n.getMessage("ui_toaster_write_a_review_line_1")}`,o=Vh(),r=Wh("p"),r.textContent=`${e[3].writeAReview.lineTwo}`,Jh(n,"class","svelte-xhv8yz"),Jh(t,"class","svelte-xhv8yz"),Jh(r,"class","svelte-xhv8yz")},m(e,i){Hh(e,t,i),Bh(t,n),Hh(e,o,i),Hh(e,r,i)},p:gh,d(e){e&&(Fh(t),Fh(o),Fh(r))}}}function XA(e){let t,n,o,r;return{c(){t=Wh("p"),t.textContent=`${e[3].howWasYourExperience.lineOne}`,n=Vh(),o=Wh("p"),r=Wh("strong"),r.textContent=`${e[3].howWasYourExperience.lineTwo}`,Jh(t,"class","svelte-xhv8yz"),Jh(r,"class","svelte-xhv8yz"),Jh(o,"class","svelte-xhv8yz")},m(e,i){Hh(e,t,i),Hh(e,n,i),Hh(e,o,i),Bh(o,r)},p:gh,d(e){e&&(Fh(t),Fh(n),Fh(o))}}}function JA(e){let t,n,o;return{c(){t=Wh("button"),t.innerHTML="<span>Start survey</span>",Jh(t,"class","svelte-xhv8yz")},m(r,i){Hh(r,t,i),n||(o=Zh(t,"click",e[10]),n=!0)},p:gh,d(e){e&&Fh(t),n=!1,o()}}}function QA(e){let t,n,o,r;return{c(){t=Wh("button"),n=Wh("span"),n.textContent=`${chrome.i18n.getMessage("segmentation_survey_button")}`,Jh(t,"class","svelte-xhv8yz")},m(i,s){Hh(i,t,s),Bh(t,n),o||(r=Zh(t,"click",e[9]),o=!0)},p:gh,d(e){e&&Fh(t),o=!1,r()}}}function eR(e){let t,n,o,r;return{c(){t=Wh("button"),n=Wh("span"),n.textContent=`${chrome.i18n.getMessage("ui_gslides_feedback_cta")}`,Jh(t,"class","svelte-xhv8yz")},m(i,s){Hh(i,t,s),Bh(t,n),o||(r=Zh(t,"click",e[8]),o=!0)},p:gh,d(e){e&&Fh(t),o=!1,r()}}}function tR(e){let t,n,o,r;return{c(){t=Wh("button"),n=Wh("span"),n.textContent=`${chrome.i18n.getMessage("ui_toaster_gmail_feedback_button")}`,Jh(t,"class","svelte-xhv8yz")},m(i,s){Hh(i,t,s),Bh(t,n),o||(r=Zh(t,"click",e[7]),o=!0)},p:gh,d(e){e&&Fh(t),o=!1,r()}}}function nR(e){let t,n,o,r;return{c(){t=Wh("button"),n=Wh("span"),n.textContent=`${chrome.i18n.getMessage("ui_toaster_write_a_review_cta")}`,Jh(t,"class","svelte-xhv8yz")},m(i,s){Hh(i,t,s),Bh(t,n),o||(r=Zh(t,"click",e[6]),o=!0)},p:gh,d(e){e&&Fh(t),o=!1,r()}}}function oR(e){let t,n,o,r,i,s,a,l,c,d,u;return{c(){t=Wh("button"),n=Wh("i"),o=Vh(),r=Wh("span"),r.textContent=`${chrome.i18n.getMessage("ui_toaster_how_was_your_experience_bad")}`,i=Vh(),s=Wh("button"),a=Wh("i"),l=Vh(),c=Wh("span"),c.textContent=`${chrome.i18n.getMessage("ui_toaster_how_was_your_experience_good")}`,Jh(n,"class","icon-bad svelte-xhv8yz"),Jh(t,"class","svelte-xhv8yz"),Jh(a,"class","icon-good svelte-xhv8yz"),Jh(s,"class","svelte-xhv8yz")},m(p,m){Hh(p,t,m),Bh(t,n),Bh(t,o),Bh(t,r),Hh(p,i,m),Hh(p,s,m),Bh(s,a),Bh(s,l),Bh(s,c),d||(u=[Zh(t,"click",e[4]),Zh(s,"click",e[5])],d=!0)},p:gh,d(e){e&&(Fh(t),Fh(i),Fh(s)),d=!1,vh(u)}}}function rR(e){let t,n,o,r,i,s,a,l,c,d,u,p,m;function g(e,t){return e[0]===at.initial?XA:e[0]===at.review?KA:e[0]===at.feedback?ZA:e[0]===at.gmail?YA:e[0]===at.gslides?VA:e[0]===at.customer_segmentation?GA:e[0]===at.arabic_survey?qA:void 0}let h=g(e),f=h&&h(e),_=e[2]&&function(e){let t;function n(e,t){return e[0]===at.initial?oR:e[0]===at.review?nR:e[0]===at.gmail?tR:e[0]===at.gslides?eR:e[0]===at.customer_segmentation?QA:e[0]===at.arabic_survey?JA:void 0}let o=n(e),r=o&&o(e);return{c(){t=Wh("div"),r&&r.c(),Jh(t,"class","buttons svelte-xhv8yz")},m(e,n){Hh(e,t,n),r&&r.m(t,null)},p(e,i){o===(o=n(e))&&r?r.p(e,i):(r&&r.d(1),r=o&&o(e),r&&(r.c(),r.m(t,null)))},d(e){e&&Fh(t),r&&r.d()}}}(e);return{c(){t=Wh("div"),n=Wh("div"),o=Wh("div"),r=Vh(),i=Wh("div"),s=Wh("button"),a=Vh(),f&&f.c(),l=Vh(),_&&_.c(),Jh(o,"class","logo svelte-xhv8yz"),Jh(s,"class","close-icon svelte-xhv8yz"),sf(s,"rtl",!e[11]&&"rtl"===eo()),Jh(i,"class","content svelte-xhv8yz"),Jh(n,"class","body svelte-xhv8yz"),Jh(t,"class","container svelte-xhv8yz"),Jh(t,"dir",e[11]?"ltr":eo())},m(c,d){Hh(c,t,d),Bh(t,n),Bh(n,o),Bh(n,r),Bh(n,i),Bh(i,s),Bh(i,a),f&&f.m(i,null),Bh(t,l),_&&_.m(t,null),u=!0,p||(m=Zh(s,"click",(function(){yh(e[1])&&e[1].apply(this,arguments)})),p=!0)},p(t,[n]){h===(h=g(e=t))&&f?f.p(e,n):(f&&f.d(1),f=h&&h(e),f&&(f.c(),f.m(i,null))),e[2]&&_.p(e,n)},i(e){u||(Mf((()=>{u&&(d&&d.end(1),c=Gf(t,N_,{x:100,duration:1e3}),c.start())})),u=!0)},o(e){c&&c.invalidate(),d=Vf(t,N_,{x:100,duration:1e3}),u=!1},d(e){e&&Fh(t),f&&f.d(),_&&_.d(),e&&d&&d.end(),p=!1,m()}}}function iR(e,n,o){let r;Eh(e,r_,(e=>o(12,r=e))),wf("deepl_settings",r_),wf("deepl_website_settings",wb),wf("text_direction",eo());let{onClose:i}=n,{reviewStage:s=at.initial}=n;const a=[at.initial,at.review,at.gmail,at.gslides,at.customer_segmentation,at.arabic_survey].includes(s);let l=(()=>{let e;if(En())e={howWasYourExperience:{lineOne:"ui_toaster_how_was_your_experience_line_1_firefox",lineTwo:"ui_toaster_how_was_your_experience_line_2_firefox"},writeAReview:{lineTwo:"ui_toaster_write_a_review_line_2_firefox"}};else{if(bn().browser===_n.edge)e={howWasYourExperience:{lineOne:"ui_toaster_how_was_your_experience_line_1_edge",lineTwo:"ui_toaster_how_was_your_experience_line_2_edge"},writeAReview:{lineTwo:"ui_toaster_write_a_review_line_2_edge"}};else e={howWasYourExperience:{lineOne:"ui_toaster_how_was_your_experience_line_1",lineTwo:"ui_toaster_how_was_your_experience_line_2"},writeAReview:{lineTwo:"ui_toaster_write_a_review_line_2"}}}return{howWasYourExperience:{lineOne:chrome.i18n.getMessage(e.howWasYourExperience.lineOne),lineTwo:chrome.i18n.getMessage(e.howWasYourExperience.lineTwo)},writeAReview:{lineTwo:chrome.i18n.getMessage(e.writeAReview.lineTwo)}}})();const c=s==at.arabic_survey;return e.$$set=e=>{"onClose"in e&&o(1,i=e.onClose),"reviewStage"in e&&o(0,s=e.reviewStage)},[s,i,a,l,function(){r_.set({shouldDisplayFeedbackPopup:!0}),t({action:"dlExternalURLRedirect",payload:{destination:En()?wy:sy}}),i()},function(){o(0,s=at.review)},function(){let e=gy;if(chrome.runtime.id===tt)e=hy;else if(En())e=vy;else{if(bn().browser===_n.edge)e=hy;else e=gy}t({action:"dlExternalURLRedirect",payload:{destination:e}}),i()},function(){t({action:"dlTrackUILocationClicked",payload:Ee}),t({action:"dlExternalURLRedirect",payload:{destination:fy}}),i()},function(){t({action:"dlTrackUILocationClicked",payload:Te}),t({action:"dlExternalURLRedirect",payload:{destination:_y}}),i()},function(){(e=>!(!pn(e,$t.TRANSLATOR)&&!pn(e,$t.WRITE)))(r)?t({action:"dlExternalURLRedirect",payload:{destination:Ey}}):t({action:"dlExternalURLRedirect",payload:{destination:by}}),i()},function(){t({action:"dlExternalURLRedirect",payload:{destination:xy}})},c]}class sR extends t_{constructor(e){super(),e_(this,e,iR,rR,wh,{onClose:1,reviewStage:0})}}class aR{static HTML_TAG_NAME="deepl-ask-for-review-popup";static createElement=(e=document)=>{const t=e.createElement(aR.HTML_TAG_NAME),n=new aR(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=({reviewStage:e})=>{const t="rtl"===eo()?"left":"right";this.domElement.shadowContainer.style.cssText=`position: fixed; bottom: 32px; ${t}: 32px; z-index: ${z.deepl_inline_ui.z_index}`,this.domElement.mainComponent=new sR({target:this.domElement.shadowContainer,props:{onClose:this.cleanupDOM,reviewStage:e}})};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function lR(e){let t,n,o,r,i,s,a,l,c,d,u,p,m,g,h,f,_,v=e[2]&&cR(),y=e[3]&&dR();return{c(){t=Wh("div"),n=Wh("button"),o=Wh("div"),r=Vh(),i=Wh("span"),i.textContent=`${chrome.i18n.getMessage("layout_tab_translator")}`,s=Vh(),v&&v.c(),l=Vh(),c=Wh("button"),d=Wh("div"),u=Vh(),p=Wh("span"),p.textContent=`${chrome.i18n.getMessage("layout_tab_write")}`,m=Vh(),y&&y.c(),Jh(o,"class","translate-icon svelte-1f5g1yc"),Jh(n,"class",a=kh("tab "+(e[1]===pt.translate?"active":""))+" svelte-1f5g1yc"),Jh(d,"class","write-icon svelte-1f5g1yc"),Jh(c,"class",g=kh("tab "+(e[1]===pt.write?"active":""))+" svelte-1f5g1yc"),Jh(t,"class","tabs-container svelte-1f5g1yc")},m(a,g){Hh(a,t,g),Bh(t,n),Bh(n,o),Bh(n,r),Bh(n,i),Bh(n,s),v&&v.m(n,null),Bh(t,l),Bh(t,c),Bh(c,d),Bh(c,u),Bh(c,p),Bh(c,m),y&&y.m(c,null),h=!0,f||(_=[Zh(n,"click",e[9]),Zh(c,"click",e[10])],f=!0)},p(e,t){e[2]?v?4&t&&jf(v,1):(v=cR(),v.c(),jf(v,1),v.m(n,null)):v&&(Hf(),Wf(v,1,1,(()=>{v=null})),Ff()),(!h||2&t&&a!==(a=kh("tab "+(e[1]===pt.translate?"active":""))+" svelte-1f5g1yc"))&&Jh(n,"class",a),e[3]?y?8&t&&jf(y,1):(y=dR(),y.c(),jf(y,1),y.m(c,null)):y&&(Hf(),Wf(y,1,1,(()=>{y=null})),Ff()),(!h||2&t&&g!==(g=kh("tab "+(e[1]===pt.write?"active":""))+" svelte-1f5g1yc"))&&Jh(c,"class",g)},i(e){h||(jf(v),jf(y),h=!0)},o(e){Wf(v),Wf(y),h=!1},d(e){e&&Fh(t),v&&v.d(),y&&y.d(),f=!1,vh(_)}}}function cR(e){let t,n;return t=new d$({props:{size:24,translator:!0}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function dR(e){let t,n;return t=new d$({props:{size:24,write:!0}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function uR(e){let t,n,o,r,i,s,a,l,c,d,u,p=e[5]&&lR(e);return{c(){t=Wh("div"),n=Wh("button"),o=Vh(),p&&p.c(),r=Vh(),i=Wh("div"),s=Wh("button"),a=Vh(),l=Wh("button"),Jh(n,"class","dl-logo svelte-1f5g1yc"),Jh(n,"aria-label",chrome.i18n.getMessage("deepl_logo")),Jh(s,"class","dl-settings-icon svelte-1f5g1yc"),Jh(l,"class","dl-close-icon svelte-1f5g1yc"),Jh(i,"class","dl-actions svelte-1f5g1yc"),Jh(t,"class","dl-review-header svelte-1f5g1yc")},m(m,g){Hh(m,t,g),Bh(t,n),Bh(t,o),p&&p.m(t,null),Bh(t,r),Bh(t,i),Bh(i,s),Bh(i,a),Bh(i,l),c=!0,d||(u=[Zh(n,"click",e[6]),Zh(s,"click",e[7]),Zh(l,"click",(function(){yh(e[0])&&e[0].apply(this,arguments)}))],d=!0)},p(n,[o]){(e=n)[5]?p?(p.p(e,o),32&o&&jf(p,1)):(p=lR(e),p.c(),jf(p,1),p.m(t,r)):p&&(Hf(),Wf(p,1,1,(()=>{p=null})),Ff())},i(e){c||(jf(p),c=!0)},o(e){Wf(p),c=!1},d(e){e&&Fh(t),p&&p.d(),d=!1,vh(u)}}}function pR(e,n,o){let{closeWindow:r}=n,{extensionContext:i=0}=n,{textProcessingMode:s=pt.translate}=n,{showProTranslateStatus:a=!0}=n,{showProWriteStatus:l=!0}=n,{onChangeTextProcessingMode:c=()=>{}}=n,{enableTranslateWriteTabs:d=!0}=n;return e.$$set=e=>{"closeWindow"in e&&o(0,r=e.closeWindow),"extensionContext"in e&&o(8,i=e.extensionContext),"textProcessingMode"in e&&o(1,s=e.textProcessingMode),"showProTranslateStatus"in e&&o(2,a=e.showProTranslateStatus),"showProWriteStatus"in e&&o(3,l=e.showProWriteStatus),"onChangeTextProcessingMode"in e&&o(4,c=e.onChangeTextProcessingMode),"enableTranslateWriteTabs"in e&&o(5,d=e.enableTranslateWriteTabs)},[r,s,a,l,c,d,function(){t({action:"dlTrackLogoClickedEvent",payload:{extensionContext:i}}),t({action:"dlExternalURLRedirect",payload:{destination:s===pt.write?py:uy,utmContent:"review_window_logo"}})},function(){t({action:"dlOpenInternalPage",payload:{destination:s===pt.write?nS.settings_writing:nS.settings_reading}})},i,()=>c(pt.translate),()=>c(pt.write)]}class mR extends t_{constructor(e){super(),e_(this,e,pR,uR,wh,{closeWindow:0,extensionContext:8,textProcessingMode:1,showProTranslateStatus:2,showProWriteStatus:3,onChangeTextProcessingMode:4,enableTranslateWriteTabs:5})}}function gR(e){let t,n,o=$n(e[2])+"";return{c(){t=Wh("div"),n=Wh("div"),Jh(t,"class","dictionary-error svelte-15p9vvz")},m(e,r){Hh(e,t,r),Bh(t,n),n.innerHTML=o},p(e,t){4&t&&o!==(o=$n(e[2])+"")&&(n.innerHTML=o)},d(e){e&&Fh(t)}}}function hR(e){let t,n,o,r,i,s,a,l,c,d,u,p,m,g,h,f=chrome.i18n.getMessage("ui_inline_translation_dictionary")+"",_=e[2]&&gR(e);return{c(){t=Wh("div"),n=Wh("div"),o=Wh("div"),r=Wh("button"),r.textContent=`${chrome.i18n.getMessage("ui_alternatives_title")}`,i=Vh(),s=Wh("div"),a=Wh("button"),l=Wh("div"),c=Vh(),d=Gh(f),m=Vh(),_&&_.c(),Jh(r,"class","svelte-15p9vvz"),Jh(o,"class","tab svelte-15p9vvz"),Jh(l,"class","img_book"),sf(l,"shown-dict",e[0]),Jh(a,"class",u="dictionary-button "+(e[0]?"dict-open":"")+" svelte-15p9vvz"),a.disabled=p=!e[1],Jh(s,"class","tab svelte-15p9vvz"),Jh(n,"class","tabs-container svelte-15p9vvz"),Jh(t,"class","dl-review-footer svelte-15p9vvz")},m(u,p){Hh(u,t,p),Bh(t,n),Bh(n,o),Bh(o,r),Bh(n,i),Bh(n,s),Bh(s,a),Bh(a,l),Bh(a,c),Bh(a,d),Bh(s,m),_&&_.m(s,null),g||(h=[Zh(a,"click",(function(){yh(e[3])&&e[3].apply(this,arguments)})),Zh(a,"mouseenter",e[4])],g=!0)},p(t,[n]){e=t,1&n&&sf(l,"shown-dict",e[0]),1&n&&u!==(u="dictionary-button "+(e[0]?"dict-open":"")+" svelte-15p9vvz")&&Jh(a,"class",u),2&n&&p!==(p=!e[1])&&(a.disabled=p),e[2]?_?_.p(e,n):(_=gR(e),_.c(),_.m(s,null)):_&&(_.d(1),_=null)},i:gh,o:gh,d(e){e&&Fh(t),_&&_.d(),g=!1,vh(h)}}}function fR(e,n,o){let{showDictionary:r=!1}=n,{enableDictionaryButton:i=!1}=n,{dictionaryButtonError:s=""}=n,{switchVisibilityDictionary:a=()=>{}}=n;return e.$$set=e=>{"showDictionary"in e&&o(0,r=e.showDictionary),"enableDictionaryButton"in e&&o(1,i=e.enableDictionaryButton),"dictionaryButtonError"in e&&o(2,s=e.dictionaryButtonError),"switchVisibilityDictionary"in e&&o(3,a=e.switchVisibilityDictionary)},[r,i,s,a,function(){if(!i)try{t({action:"dlTrackDisabledDictionaryHover",payload:{}})}catch(e){console.log(e)}}]}class _R extends t_{constructor(e){super(),e_(this,e,fR,hR,wh,{showDictionary:0,enableDictionaryButton:1,dictionaryButtonError:2,switchVisibilityDictionary:3})}}function vR(e){let t,n,o,r;return t=new _R({props:{showDictionary:e[9],switchVisibilityDictionary:e[16],enableDictionaryButton:e[11],dictionaryButtonError:e[10]}}),o=new RC({props:{originalSnippet:e[12].originalSnippet,sourceLanguage:e[12].itaSourceLanguage,targetLanguage:e[13].selectedTargetLanguage,websiteLanguage:e[12].websiteLanguage,showDictionary:e[9],setDictionaryLauncherState:e[15],resetDictionary:e[17]}}),{c(){Xf(t.$$.fragment),n=Vh(),Xf(o.$$.fragment)},m(e,i){Jf(t,e,i),Hh(e,n,i),Jf(o,e,i),r=!0},p(e,n){const r={};512&n&&(r.showDictionary=e[9]),2048&n&&(r.enableDictionaryButton=e[11]),1024&n&&(r.dictionaryButtonError=e[10]),t.$set(r);const i={};4096&n&&(i.originalSnippet=e[12].originalSnippet),4096&n&&(i.sourceLanguage=e[12].itaSourceLanguage),8192&n&&(i.targetLanguage=e[13].selectedTargetLanguage),4096&n&&(i.websiteLanguage=e[12].websiteLanguage),512&n&&(i.showDictionary=e[9]),o.$set(i)},i(e){r||(jf(t.$$.fragment,e),jf(o.$$.fragment,e),r=!0)},o(e){Wf(t.$$.fragment,e),Wf(o.$$.fragment,e),r=!1},d(e){e&&Fh(n),Qf(t,e),Qf(o,e)}}}function yR(e){let t,n,o,r,i,s;n=new mR({props:{closeWindow:e[2],extensionContext:e[3],textProcessingMode:e[4],showProTranslateStatus:e[5],showProWriteStatus:e[6],onChangeTextProcessingMode:e[7],enableTranslateWriteTabs:!e[8]}});const a=e[19].default,l=xh(a,e,e[18],null);let c=!e[8]&&vR(e);return{c(){t=Wh("div"),Xf(n.$$.fragment),o=Vh(),r=Wh("div"),l&&l.c(),i=Vh(),c&&c.c(),Jh(r,"class","dl-content svelte-jwy61a"),Jh(t,"class","dl-layout svelte-jwy61a"),Jh(t,"translate","no"),Jh(t,"dir",e[14])},m(e,a){Hh(e,t,a),Jf(n,t,null),Bh(t,o),Bh(t,r),l&&l.m(r,null),Bh(t,i),c&&c.m(t,null),s=!0},p(e,[o]){const r={};4&o&&(r.closeWindow=e[2]),8&o&&(r.extensionContext=e[3]),16&o&&(r.textProcessingMode=e[4]),32&o&&(r.showProTranslateStatus=e[5]),64&o&&(r.showProWriteStatus=e[6]),128&o&&(r.onChangeTextProcessingMode=e[7]),256&o&&(r.enableTranslateWriteTabs=!e[8]),n.$set(r),l&&l.p&&(!s||262144&o)&&$h(l,a,e,e[18],s?Th(a,e[18],o,null):Ch(e[18]),null),e[8]?c&&(Hf(),Wf(c,1,1,(()=>{c=null})),Ff()):c?(c.p(e,o),256&o&&jf(c,1)):(c=vR(e),c.c(),jf(c,1),c.m(t,null))},i(e){s||(jf(n.$$.fragment,e),jf(l,e),jf(c),s=!0)},o(e){Wf(n.$$.fragment,e),Wf(l,e),Wf(c),s=!1},d(e){e&&Fh(t),Qf(n),l&&l.d(e),c&&c.d()}}}function wR(e,t,n){let o,r,i=gh,s=()=>(i(),i=bh(p,(e=>n(12,o=e))),p),a=gh,l=()=>(a(),a=bh(m,(e=>n(13,r=e))),m);e.$$.on_destroy.push((()=>i())),e.$$.on_destroy.push((()=>a()));let{$$slots:c={},$$scope:d}=t;const u=bf("text_direction");let{websiteSettings:p}=t;s();let{settings:m}=t;l();let g,{closeWindow:h}=t,{extensionContext:f}=t,{textProcessingMode:_=pt.translate}=t,{showProTranslateStatus:v=!1}=t,{showProWriteStatus:y=!1}=t,{onChangeTextProcessingMode:w=()=>{}}=t,{error:b}=t,E="",x=!1;return e.$$set=e=>{"websiteSettings"in e&&s(n(0,p=e.websiteSettings)),"settings"in e&&l(n(1,m=e.settings)),"closeWindow"in e&&n(2,h=e.closeWindow),"extensionContext"in e&&n(3,f=e.extensionContext),"textProcessingMode"in e&&n(4,_=e.textProcessingMode),"showProTranslateStatus"in e&&n(5,v=e.showProTranslateStatus),"showProWriteStatus"in e&&n(6,y=e.showProWriteStatus),"onChangeTextProcessingMode"in e&&n(7,w=e.onChangeTextProcessingMode),"error"in e&&n(8,b=e.error),"$$scope"in e&&n(18,d=e.$$scope)},[p,m,h,f,_,v,y,w,b,g,E,x,o,r,u,function(e){n(10,E=e.dictionaryButtonError),n(11,x=e.enableDictionaryButton)},function(){x&&n(9,g=!g)},function(){n(9,g=!1)},d,c]}class bR extends t_{constructor(e){super(),e_(this,e,wR,yR,wh,{websiteSettings:0,settings:1,closeWindow:2,extensionContext:3,textProcessingMode:4,showProTranslateStatus:5,showProWriteStatus:6,onChangeTextProcessingMode:7,error:8})}}const ER="ITA_REQUEST_TRANSLATION",xR="ITA_CLOSE_TRANSLATION_SESSION",SR="ITA_REQUEST_WRITE",TR="ITA_RESTORE_TRANSLATE_SESSION",$R="ITA_SOURCE_LANGUAGE",CR="ITA_SOURCE_LANGUAGE_IS_AUTO_DETECTED",kR="ITA_TARGET_TEXT_FIELD",LR="ITA_WRITE_TARGET_TEXT_FIELD",MR="ITA_UPDATE_FORMALITY",IR="ITA_UPDATE_TARGET_LANGUAGE",AR="ERROR",RR="ITA_DOCUMENT_STATE",OR="ITA_WRITE_DOCUMENT_STATE",NR="ITA_RESTORE_WRITE_SESSION",DR="ITA_RATE_LIMITED";function PR(e){wb.update({translationState:d.none,error:e})}let BR;const zR=()=>clearTimeout(BR);function UR(e){wb.update({translationState:d.none,itaRateLimitWarning:{error:e}}),zR(),BR=window.setTimeout((()=>{wb.update({itaRateLimitWarning:void 0})}),15e3)}const HR=()=>{zR(),wb.update({itaRateLimitWarning:void 0}),eO({type:xR})},FR=t=>{if(t&&window.getSelection()?.toString()){const n=window.getSelection()?.toString();document.getElementsByTagName("deepl-review-translate-write-window").length||$D({websiteData:wb,onRemove:HR}),wb.update({translationState:d.ongoingTranslation,translatedSnippet:"",snippetDetectedSourceLang:"",translatedDOMSnippet:"",originalSnippet:n,itaSourceLanguage:"",itaSourceLanguageIsAutoDetected:null,itaDocumentState:null}),eO({type:ER,payload:{sourceText:n,targetLanguage:t,domainName:window.location.hostname,trigger:h,websiteLanguage:e.websiteData.websiteLanguage}})}},jR=e=>{e&&wb.update({translationState:d.none,translatedSnippet:e})},WR=e=>{e&&wb.update({writeState:u,improvedSnippet:e})},qR=e=>{e&&wb.update({itaSourceLanguage:e.toUpperCase()})},GR=e=>{e&&wb.update({itaSourceLanguageIsAutoDetected:e})},VR=e=>{e&&wb.update({itaDocumentState:e})},YR=e=>{e&&wb.update({itaWriteDocumentState:e})};function ZR(t){e.websiteData.itaDocumentState&&t.postMessage({type:TR,payload:{itaDocumentState:e.websiteData.itaDocumentState,domainName:window.location.host}}),e.websiteData.itaWriteDocumentState&&t.postMessage({type:NR,payload:{itaWriteDocumentState:e.websiteData.itaWriteDocumentState,domainName:window.location.host}})}async function KR(){const{enableItaDev:e}=await YT(["enableItaDev"]),n=await t({action:"dlGetClientState"});return Eo()&&e||(n?.featureSet?.customizations?.includes("itaTranslateEnabled")??!1)}function XR(t,n,o){switch(t.action){case"dlTranslate":t.sourceLang&&AB(t.sourceLang,_),o();break;case"dlShowOriginal":wb.update({translationState:d.showOriginal}),o();break;case"dlDefaultPopUpMounting":e.websiteData.translationState===d.none&&LD(),RD(),o();break;case"dlTabChanged":setTimeout((()=>{jB()}),500),o();break;case"dlTranslateInline":jB().then((async()=>{await KR()?FR(t.targetLang):MB(t)})),o();break;case"dlTranslateSelectionRightClick":jB().then((()=>IB(t.payload))),o();break;case"dlGetWebsiteData":jB().then((()=>o(e.websiteData)));break;case"dlShowNotification":ZD(t.payload.type,t.payload.options),o();break;case"dlErrorVisibility":ZB(t.payload.state),o();break;case"dlShowAskForAReviewPopup":KD(at.initial),o();break;case"dlShowCustomerSegmentationSurvey":KD(at.customer_segmentation),o();break;case"dlShowArabicSurveyPopup":KD(at.arabic_survey),o();break;case"dlShowAlert":QB(t.payload),o();break;case"dlShowGmailFeedbackPopup":KD(at.gmail),o();break;case"dlShowSlidesFeedbackPopup":KD(at.gslides),o()}return!0}let JR;function QR(e){e.onMessage.addListener(tO),JR=e}function eO(e){JR&&(Eo()&&console.log(`Sending message to background port:\n type: ${e.type}, payload: ${e.payload}`),JR.postMessage(e))}function tO(e){switch(Eo()&&console.log(`Received message from background port - type: ${e.type}, payload: ${Object.toString(e.payload)}`),e.type){case kR:jR(e.payload.targetText);break;case LR:WR(e.payload.targetText);break;case $R:qR(e.payload.language);break;case CR:GR(e.payload.isAutoDetected);break;case AR:PR(e.payload);break;case RR:VR(e.payload.itaDocumentState);break;case OR:YR(e.payload.itaDocumentState);break;case DR:UR(e.payload.warning);break;default:Eo()&&console.log(`Unrecognised message type:\n ${e.type}`)}}function nO(e){let t,n,o,r,i=chrome.i18n.getMessage(`supported_languages_${e[2].itaSourceLanguage}`)+"",s=e[2].itaSourceLanguageIsAutoDetected&&oO();return{c(){t=Wh("div"),n=Wh("span"),o=Gh(i),r=Vh(),s&&s.c(),Jh(n,"class","source-language-label svelte-gpr70l")},m(e,i){Hh(e,t,i),Bh(t,n),Bh(n,o),Bh(t,r),s&&s.m(t,null)},p(e,n){4&n&&i!==(i=chrome.i18n.getMessage(`supported_languages_${e[2].itaSourceLanguage}`)+"")&&Qh(o,i),e[2].itaSourceLanguageIsAutoDetected?s||(s=oO(),s.c(),s.m(t,null)):s&&(s.d(1),s=null)},d(e){e&&Fh(t),s&&s.d()}}}function oO(e){let t;return{c(){t=Wh("span"),t.textContent="(detected)"},m(e,n){Hh(e,t,n)},d(e){e&&Fh(t)}}}function rO(e){let t,n,o,r;return o=new Rb({props:{value:e[3].selectedTargetLanguage,websiteSettings:e[0],customClass:"dropdown__wrapper--header",fontSize:"sm",autoHeight:!1}}),o.$on("selection",e[4]),{c(){t=Wh("div"),t.innerHTML='<svg width="33" height="32" viewBox="0 0 33 32" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-gpr70l"><path fill-rule="evenodd" clip-rule="evenodd" d="M9.5 15C9.5 14.5858 9.83579 14.25 10.25 14.25L20.8879 14.25L16.7302 10.2906C16.4316 10.0035 16.4223 9.52875 16.7094 9.23017C16.9965 8.93159 17.4713 8.92228 17.7698 9.20937L23.2698 14.4594C23.4169 14.6008 23.5 14.796 23.5 15C23.5 15.204 23.4169 15.3992 23.2698 15.5406L17.7698 20.7906C17.4713 21.0777 16.9965 21.0684 16.7094 20.7698C16.4223 20.4713 16.4316 19.9965 16.7302 19.7094L20.8879 15.75L10.25 15.75C9.83579 15.75 9.5 15.4142 9.5 15Z" fill="#848F9B"></path></svg>',n=Vh(),Xf(o.$$.fragment),Jh(t,"class","arrow-icon svelte-gpr70l")},m(e,i){Hh(e,t,i),Hh(e,n,i),Jf(o,e,i),r=!0},p(e,t){const n={};8&t&&(n.value=e[3].selectedTargetLanguage),1&t&&(n.websiteSettings=e[0]),o.$set(n)},i(e){r||(jf(o.$$.fragment,e),r=!0)},o(e){Wf(o.$$.fragment,e),r=!1},d(e){e&&(Fh(t),Fh(n)),Qf(o,e)}}}function iO(e){let t,n,o,r=e[2].itaSourceLanguage&&nO(e),i=e[3]?.selectedTargetLanguage&&rO(e);return{c(){t=Wh("div"),r&&r.c(),n=Vh(),i&&i.c(),Jh(t,"class","language-selector-container svelte-gpr70l")},m(e,s){Hh(e,t,s),r&&r.m(t,null),Bh(t,n),i&&i.m(t,null),o=!0},p(e,[o]){e[2].itaSourceLanguage?r?r.p(e,o):(r=nO(e),r.c(),r.m(t,n)):r&&(r.d(1),r=null),e[3]?.selectedTargetLanguage?i?(i.p(e,o),8&o&&jf(i,1)):(i=rO(e),i.c(),jf(i,1),i.m(t,null)):i&&(Hf(),Wf(i,1,1,(()=>{i=null})),Ff())},i(e){o||(jf(i),o=!0)},o(e){Wf(i),o=!1},d(e){e&&Fh(t),r&&r.d(),i&&i.d()}}}function sO(e,t,n){let o,r,i=gh,s=()=>(i(),i=bh(c,(e=>n(2,o=e))),c),a=gh,l=()=>(a(),a=bh(u,(e=>n(3,r=e))),u);e.$$.on_destroy.push((()=>i())),e.$$.on_destroy.push((()=>a()));let{websiteSettings:c}=t;s();let{settings:u}=t;return l(),e.$$set=e=>{"websiteSettings"in e&&s(n(0,c=e.websiteSettings)),"settings"in e&&l(n(1,u=e.settings))},[c,u,o,r,async function(e){const t=e.detail.selectedOption;await u.set({selectedTargetLanguage:t.value,isTargetLanguageConfirmed:!0,regionalVariant:t.regionalVariant||""}),c.update({translationState:d.ongoingTranslation}),eO({type:IR,payload:{language:t.value}})}]}class aO extends t_{constructor(e){super(),e_(this,e,sO,iO,wh,{websiteSettings:0,settings:1})}}function lO(e){let t,n,o,r;return{c(){t=Wh("button"),n=Wh("div"),Jh(n,"class","glossary-icon svelte-q1f4m0"),Jh(t,"class","glossary-button svelte-q1f4m0"),Jh(t,"aria-label",chrome.i18n.getMessage("glossary_label"))},m(i,s){Hh(i,t,s),Bh(t,n),o||(r=Zh(t,"click",e[0]),o=!0)},p:gh,d(e){e&&Fh(t),o=!1,r()}}}function cO(e){let t,n,o;return n=new fv({props:{tooltip:chrome.i18n.getMessage("glossary_label"),zIndex:"10000000000",isEnabled:!0,$$slots:{default:[lO]},$$scope:{ctx:e}}}),{c(){t=Wh("div"),Xf(n.$$.fragment),Jh(t,"class","customisations-toolbar svelte-q1f4m0")},m(e,r){Hh(e,t,r),Jf(n,t,null),o=!0},p(e,[t]){const o={};2&t&&(o.$$scope={dirty:t,ctx:e}),n.$set(o)},i(e){o||(jf(n.$$.fragment,e),o=!0)},o(e){Wf(n.$$.fragment,e),o=!1},d(e){e&&Fh(t),Qf(n)}}}function dO(e){return[function(){t({action:"dlOpenInternalPage",payload:{destination:nS.settings_glossary}})}]}class uO extends t_{constructor(e){super(),e_(this,e,dO,cO,wh,{})}}function pO(e,t,n){const o=e.slice();return o[32]=t[n],o[34]=n,o}function mO(e){let t;let n=function(e){return e[15]()?hO:gO}(e),o=n(e);return{c(){o.c(),t=Yh()},m(e,n){o.m(e,n),Hh(e,t,n)},p(e,t){o.p(e,t)},i(e){jf(o)},o:gh,d(e){e&&Fh(t),o.d(e)}}}function gO(e){let t,n,o,r,i,s,a,l,c,d,u,p,m,g,h,f,_;return{c(){t=Wh("ul"),n=Wh("li"),o=Wh("span"),o.textContent=`${chrome.i18n.getMessage("ui_formality_formal")}`,r=Vh(),i=Wh("span"),i.textContent=`${chrome.i18n.getMessage("login_translate_pages_pro_badge")}`,s=Vh(),a=Wh("li"),l=Wh("span"),l.textContent=`${chrome.i18n.getMessage("ui_formality_informal")}`,c=Vh(),d=Wh("span"),d.textContent=`${chrome.i18n.getMessage("login_translate_pages_pro_badge")}`,u=Vh(),p=Wh("li"),p.textContent=`${chrome.i18n.getMessage("ui_formality_automatic")}`,m=Vh(),g=Wh("li"),h=Wh("button"),h.textContent=`${chrome.i18n.getMessage("link_try_deepl")}`,Jh(i,"class","pro-label svelte-mfqqj4"),Jh(n,"disabled",""),Jh(n,"class","svelte-mfqqj4"),Jh(d,"class","pro-label svelte-mfqqj4"),Jh(a,"disabled",""),Jh(a,"class","svelte-mfqqj4"),Jh(p,"class","selected svelte-mfqqj4"),Jh(h,"class","svelte-mfqqj4"),Jh(g,"class","svelte-mfqqj4"),Jh(t,"id","dropdown_list"),Jh(t,"class","alternate-dropdown-list svelte-mfqqj4"),Jh(t,"role","listbox"),Jh(t,"aria-labelledby","dropdown_option"),Jh(t,"tabindex","-1"),sf(t,"pro-dropdown",!0)},m(v,y){Hh(v,t,y),Bh(t,n),Bh(n,o),Bh(n,r),Bh(n,i),Bh(t,s),Bh(t,a),Bh(a,l),Bh(a,c),Bh(a,d),Bh(t,u),Bh(t,p),Bh(t,m),Bh(t,g),Bh(g,h),f||(_=Zh(h,"click",e[16]),f=!0)},p:gh,i:gh,o:gh,d(e){e&&Fh(t),f=!1,_()}}}function hO(e){let t,n,o=Zf(e[3]),r=[];for(let t=0;t<o.length;t+=1)r[t]=fO(pO(e,o,t));return{c(){t=Wh("ul");for(let e=0;e<r.length;e+=1)r[e].c();Jh(t,"id","dropdown_list"),Jh(t,"class","alternate-dropdown-list svelte-mfqqj4"),Jh(t,"role","listbox"),Jh(t,"aria-labelledby","dropdown_option"),Jh(t,"tabindex","-1"),Jh(t,"style",`height: ${e[12].height}; top: ${e[12].top};`),Jh(t,"data-qa",e[2])},m(n,o){Hh(n,t,o);for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(t,null);e[24](t)},p(e,n){if(281&n[0]){let i;for(o=Zf(e[3]),i=0;i<o.length;i+=1){const s=pO(e,o,i);r[i]?r[i].p(s,n):(r[i]=fO(s),r[i].c(),r[i].m(t,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=o.length}4&n[0]&&Jh(t,"data-qa",e[2])},i(e){n||Mf((()=>{n=Gf(t,N_,{y:-5,duration:500}),n.start()}))},o:gh,d(n){n&&Fh(t),jh(r,n),e[24](null)}}}function fO(e){let t,n,o,r,i,s,a,l=e[32].label+"";function c(){return e[23](e[32])}return{c(){t=Wh("li"),n=Gh(l),o=Vh(),Jh(t,"role","option"),Jh(t,"data-option-value",r=e[32].value),Jh(t,"aria-selected",i=e[4]===e[32]),Jh(t,"class","svelte-mfqqj4"),sf(t,"selected",e[4]===e[32]),sf(t,"keyboardSelected",e[34]===e[8])},m(r,i){Hh(r,t,i),Bh(t,n),Bh(t,o),s||(a=[Zh(t,"click",c),Zh(t,"mousedown",Xh(Kh(e[20])))],s=!0)},p(o,s){e=o,8&s[0]&&l!==(l=e[32].label+"")&&Qh(n,l),8&s[0]&&r!==(r=e[32].value)&&Jh(t,"data-option-value",r),24&s[0]&&i!==(i=e[4]===e[32])&&Jh(t,"aria-selected",i),24&s[0]&&sf(t,"selected",e[4]===e[32]),256&s[0]&&sf(t,"keyboardSelected",e[34]===e[8])},d(e){e&&Fh(t),s=!1,vh(a)}}}function _O(e){let t,n,o,r,i,s,a=e[0]&&mO(e);return{c(){t=Wh("div"),n=Wh("button"),o=Gh(e[6]),r=Vh(),a&&a.c(),Jh(n,"aria-haspopup","listbox"),Jh(n,"id","dropdown_button"),Jh(n,"aria-labelledby","dropdown_option dropdown_button"),Jh(n,"aria-expanded",e[0]),Jh(n,"data-qa",e[1]),Jh(n,"class","dropdown-label svelte-mfqqj4"),Jh(t,"class","dropdown__wrapper svelte-mfqqj4"),Jh(t,"style",e[10])},m(l,c){Hh(l,t,c),Bh(t,n),Bh(n,o),e[22](n),Bh(t,r),a&&a.m(t,null),e[26](t),i||(s=[Zh(n,"click",e[13]),Zh(n,"mousedown",Xh(Kh(e[21]))),Zh(n,"keydown",e[14]),Mh(dv.call(null,t,{isShadow:!0})),Zh(t,"click_outside",e[25])],i=!0)},p(e,r){64&r[0]&&Qh(o,e[6]),1&r[0]&&Jh(n,"aria-expanded",e[0]),2&r[0]&&Jh(n,"data-qa",e[1]),e[0]?a?(a.p(e,r),1&r[0]&&jf(a,1)):(a=mO(e),a.c(),jf(a,1),a.m(t,null)):a&&(a.d(1),a=null),1024&r[0]&&Jh(t,"style",e[10])},i(e){jf(a)},o:gh,d(n){n&&Fh(t),e[22](null),a&&a.d(),e[26](null),i=!1,vh(s)}}}function vO(e,n,o){let r,i,s,{isOpen:a=!1}=n,{dataQaButton:l="dl-dropdown-button"}=n,{dataQaList:c="dl-dropdown-list"}=n,{handleSelect:d}=n;const u=bf("deepl_settings");Eh(e,u,(e=>o(29,s=e)));let p,m,g,h,f,_=0,v={},y=-1,w="visibility: hidden; opacity:0; height:0;";_f((()=>{setTimeout((()=>{o(10,w="")}),100),h=_v(g,(({clientWidth:e})=>{o(18,_=e)}))})),vf((()=>{h&&h()}));return e.$$set=e=>{"isOpen"in e&&o(0,a=e.isOpen),"dataQaButton"in e&&o(1,l=e.dataQaButton),"dataQaList"in e&&o(2,c=e.dataQaList),"handleSelect"in e&&o(17,d=e.handleSelect)},e.$$.update=()=>{8&e.$$.dirty[0]&&o(4,i=r.find((e=>"undefined"===e.value))),917520&e.$$.dirty[0]&&(i&&v?.value!==i?.value&&(o(19,v=i),d({selectedOption:i})),_&&(Math.abs(p.getBoundingClientRect().top),Math.abs(window.innerHeight-p.getBoundingClientRect().bottom))),16&e.$$.dirty[0]&&i&&o(6,m=`${i.selectedOptionLabel}`)},o(3,r=[{value:"formal",label:chrome.i18n.getMessage("ui_formality_formal"),selectedOptionLabel:chrome.i18n.getMessage("ui_formality_formal")},{value:"informal",label:chrome.i18n.getMessage("ui_formality_informal"),selectedOptionLabel:chrome.i18n.getMessage("ui_formality_informal")},{value:"undefined",label:chrome.i18n.getMessage("ui_formality_automatic"),selectedOptionLabel:chrome.i18n.getMessage("ui_formality_automatic")}]),[a,l,c,r,i,p,m,g,y,f,w,u,{},function(){o(0,a=!a),function(){let e=p.getRootNode().querySelector("ul li[aria-selected=true]");setTimeout((()=>{e?.scrollIntoView({block:"nearest"})}),0)}()},function(e){if(!a)return;if("ArrowUp"===e.key&&y>0)o(8,y-=1);else if("ArrowDown"===e.key&&y<r.length-1)o(8,y+=1);else if("Enter"===e.key&&-1!==y){const t=r[y];o(0,a=!1),o(4,i=t),o(8,y=-1),e.preventDefault(),e.stopPropagation()}else{if("Escape"!==e.key)return;o(0,a=!1),o(8,y=-1)}const t=r[y];var n=f.querySelector(`[data-option-value="${t.value}"]`).offsetTop-f.offsetTop;f.scrollTo({top:n,behavior:"smooth"})},function(){return pn(s,$t.TRANSLATOR)},function(){const e=ly;t({action:"dlTrackUILocationClicked",payload:Z}),t({action:"dlExternalURLRedirect",payload:{destination:e,utmContent:"inline_translator"}})},d,_,v,function(t){Ef.call(this,e,t)},function(t){Ef.call(this,e,t)},function(e){Sf[e?"unshift":"push"]((()=>{p=e,o(5,p)}))},e=>{o(0,a=!1),o(4,i=e),o(8,y=-1)},function(e){Sf[e?"unshift":"push"]((()=>{f=e,o(9,f)}))},()=>{o(0,a=!1)},function(e){Sf[e?"unshift":"push"]((()=>{g=e,o(7,g)}))}]}class yO extends t_{constructor(e){super(),e_(this,e,vO,_O,wh,{isOpen:0,dataQaButton:1,dataQaList:2,handleSelect:17},null,[-1,-1])}}function wO(e){let t,n,o,r,i;return n=new yO({props:{dataQaButton:"deepl-formality-selection-button",dataQaList:"deepl-formality-selection-list",handleSelect:e[0]}}),{c(){t=Wh("div"),Xf(n.$$.fragment),Jh(t,"role","button"),Jh(t,"tabindex","-1")},m(s,a){Hh(s,t,a),Jf(n,t,null),o=!0,r||(i=Zh(t,"mousedown",Xh(Kh(e[2]))),r=!0)},p:gh,i(e){o||(jf(n.$$.fragment,e),o=!0)},o(e){Wf(n.$$.fragment,e),o=!1},d(e){e&&Fh(t),Qf(n),r=!1,i()}}}function bO(e,t,n){let{websiteSettings:o}=t;return e.$$set=e=>{"websiteSettings"in e&&n(1,o=e.websiteSettings)},[function({selectedOption:e}){r_.set({formality:e.value}),eO({type:MR,payload:{formality:e.value}})},o,function(t){Ef.call(this,e,t)}]}class EO extends t_{constructor(e){super(),e_(this,e,bO,wO,wh,{websiteSettings:1})}}function xO(e){let t,n,o,r,i,s,a,l,c,d,u,p,m,g,h,f,_,v=Y$(e[5].translatedSnippet)+"";n=new aO({props:{websiteSettings:e[0],settings:e[1]}});let y=e[4]&&TO(e);s=new uO({}),p=new aC({props:{sourceLang:e[5].websiteLanguage,targetLang:e[3].selectedTargetLanguage,sourceText:e[5].originalSnippet,targetText:e[5].translatedSnippet,platformBehaviour:e[2]}}),g=new J$({props:{targetLang:e[3].selectedTargetLanguage,text:e[5].translatedSnippet,platformBehaviour:e[2]}});let w=e[5].itaRateLimitWarning&&$O(e);return{c(){t=Wh("div"),Xf(n.$$.fragment),o=Vh(),r=Wh("div"),y&&y.c(),i=Vh(),Xf(s.$$.fragment),a=Vh(),l=Wh("div"),d=Vh(),u=Wh("div"),Xf(p.$$.fragment),m=Vh(),Xf(g.$$.fragment),h=Vh(),w&&w.c(),f=Yh(),Jh(r,"class","translate-toolbar-buttons svelte-4u250i"),Jh(t,"class","translate-toolbar-container svelte-4u250i"),Jh(l,"class","result-frame svelte-4u250i"),Jh(l,"dir",c=eo(e[3].selectedTargetLanguage)),Jh(u,"class","dl-btn-group svelte-4u250i")},m(e,c){Hh(e,t,c),Jf(n,t,null),Bh(t,o),Bh(t,r),y&&y.m(r,null),Bh(r,i),Jf(s,r,null),Hh(e,a,c),Hh(e,l,c),l.innerHTML=v,Hh(e,d,c),Hh(e,u,c),Jf(p,u,null),Bh(u,m),Jf(g,u,null),Hh(e,h,c),w&&w.m(e,c),Hh(e,f,c),_=!0},p(e,t){const o={};1&t&&(o.websiteSettings=e[0]),2&t&&(o.settings=e[1]),n.$set(o),e[4]?y?(y.p(e,t),16&t&&jf(y,1)):(y=TO(e),y.c(),jf(y,1),y.m(r,i)):y&&(Hf(),Wf(y,1,1,(()=>{y=null})),Ff()),(!_||32&t)&&v!==(v=Y$(e[5].translatedSnippet)+"")&&(l.innerHTML=v),(!_||8&t&&c!==(c=eo(e[3].selectedTargetLanguage)))&&Jh(l,"dir",c);const s={};32&t&&(s.sourceLang=e[5].websiteLanguage),8&t&&(s.targetLang=e[3].selectedTargetLanguage),32&t&&(s.sourceText=e[5].originalSnippet),32&t&&(s.targetText=e[5].translatedSnippet),4&t&&(s.platformBehaviour=e[2]),p.$set(s);const a={};8&t&&(a.targetLang=e[3].selectedTargetLanguage),32&t&&(a.text=e[5].translatedSnippet),4&t&&(a.platformBehaviour=e[2]),g.$set(a),e[5].itaRateLimitWarning?w?(w.p(e,t),32&t&&jf(w,1)):(w=$O(e),w.c(),jf(w,1),w.m(f.parentNode,f)):w&&(Hf(),Wf(w,1,1,(()=>{w=null})),Ff())},i(e){_||(jf(n.$$.fragment,e),jf(y),jf(s.$$.fragment,e),jf(p.$$.fragment,e),jf(g.$$.fragment,e),jf(w),_=!0)},o(e){Wf(n.$$.fragment,e),Wf(y),Wf(s.$$.fragment,e),Wf(p.$$.fragment,e),Wf(g.$$.fragment,e),Wf(w),_=!1},d(e){e&&(Fh(t),Fh(a),Fh(l),Fh(d),Fh(u),Fh(h),Fh(f)),Qf(n),y&&y.d(),Qf(s),Qf(p),Qf(g),w&&w.d(e)}}}function SO(e){let t,n,o;return n=new tS({}),{c(){t=Wh("div"),Xf(n.$$.fragment),Jh(t,"class","loading-spinner-container svelte-4u250i")},m(e,r){Hh(e,t,r),Jf(n,t,null),o=!0},p:gh,i(e){o||(jf(n.$$.fragment,e),o=!0)},o(e){Wf(n.$$.fragment,e),o=!1},d(e){e&&Fh(t),Qf(n)}}}function TO(e){let t,n;return t=new EO({props:{websiteSettings:e[0]}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.websiteSettings=e[0]),t.$set(o)},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function $O(e){let t,n;return t=new kw({props:{error:e[5].itaRateLimitWarning}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p(e,n){const o={};32&n&&(o.error=e[5].itaRateLimitWarning),t.$set(o)},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function CO(e){let t,n,o,r;const i=[SO,xO],s=[];function a(e,t){return null==e[5]||e[5].translationState===d.ongoingTranslation?0:e[5].translatedSnippet?1:-1}return~(n=a(e))&&(o=s[n]=i[n](e)),{c(){t=Wh("div"),o&&o.c()},m(e,o){Hh(e,t,o),~n&&s[n].m(t,null),r=!0},p(e,[r]){let l=n;n=a(e),n===l?~n&&s[n].p(e,r):(o&&(Hf(),Wf(s[l],1,1,(()=>{s[l]=null})),Ff()),~n?(o=s[n],o?o.p(e,r):(o=s[n]=i[n](e),o.c()),jf(o,1),o.m(t,null)):o=null)},i(e){r||(jf(o),r=!0)},o(e){Wf(o),r=!1},d(e){e&&Fh(t),~n&&s[n].d()}}}function kO(e,t,n){let o,r,i,s=gh,a=()=>(s(),s=bh(u,(e=>n(3,r=e))),u),l=gh,c=()=>(l(),l=bh(d,(e=>n(5,i=e))),d);e.$$.on_destroy.push((()=>s())),e.$$.on_destroy.push((()=>l()));let{websiteSettings:d}=t;c();let{settings:u}=t;a();let{platformBehaviour:p}=t;return e.$$set=e=>{"websiteSettings"in e&&c(n(0,d=e.websiteSettings)),"settings"in e&&a(n(1,u=e.settings)),"platformBehaviour"in e&&n(2,p=e.platformBehaviour)},e.$$.update=()=>{8&e.$$.dirty&&n(4,o=Qn(r.selectedTargetLanguage))},[d,u,p,r,o,i]}class LO extends t_{constructor(e){super(),e_(this,e,kO,CO,wh,{websiteSettings:0,settings:1,platformBehaviour:2})}}function MO(e){let t,n,o;return n=new Rb({props:{value:e[2].selectedTargetLanguage,websiteSettings:e[0],customClass:"dropdown__wrapper--header",fontSize:"sm",autoHeight:!1}}),n.$on("selection",e[3]),{c(){t=Wh("div"),Xf(n.$$.fragment),Jh(t,"class","language-selector-container svelte-gpr70l")},m(e,r){Hh(e,t,r),Jf(n,t,null),o=!0},p(e,[t]){const o={};4&t&&(o.value=e[2].selectedTargetLanguage),1&t&&(o.websiteSettings=e[0]),n.$set(o)},i(e){o||(jf(n.$$.fragment,e),o=!0)},o(e){Wf(n.$$.fragment,e),o=!1},d(e){e&&Fh(t),Qf(n)}}}function IO(e,t,n){let o,r=gh,i=()=>(r(),r=bh(a,(e=>n(2,o=e))),a);e.$$.on_destroy.push((()=>r()));let{websiteSettings:s}=t,{settings:a}=t;return i(),e.$$set=e=>{"websiteSettings"in e&&n(0,s=e.websiteSettings),"settings"in e&&i(n(1,a=e.settings))},[s,a,o,async function(e){const t=e.detail.selectedOption;await a.set({selectedTargetLanguage:t.value,isTargetLanguageConfirmed:!0,regionalVariant:t.regionalVariant||""}),s.update({writeState:p}),eO({type:IR,payload:{language:t.value}})}]}class AO extends t_{constructor(e){super(),e_(this,e,IO,MO,wh,{websiteSettings:0,settings:1})}}function RO(e){let t,n,o,r,i,s,a,l,c;return{c(){t=Wh("div"),n=Wh("button"),n.textContent=`${chrome.i18n.getMessage("ui_inline_translation_listen_to_new")}`,o=Vh(),r=Wh("button"),r.textContent=`${chrome.i18n.getMessage("ui_inline_translation_listen_to_original")}`,Jh(n,"class","list-entry svelte-o3etn3"),Jh(n,"data-qa","dl-toolbar-listener-button-target-lang"),sf(n,"dl-entry-notAvailable",!e[0]),Jh(r,"class","list-entry svelte-o3etn3"),Jh(r,"data-qa","dl-toolbar-listener-button-source-lang"),sf(r,"dl-entry-notAvailable",!e[0]),Jh(t,"class","listen-list svelte-o3etn3"),Jh(t,"data-qa","dl-toolbar-listener-element-langs")},m(i,s){Hh(i,t,s),Bh(t,n),Bh(t,o),Bh(t,r),a=!0,l||(c=[Zh(n,"click",e[5]),Zh(r,"click",e[6])],l=!0)},p(e,[t]){(!a||1&t)&&sf(n,"dl-entry-notAvailable",!e[0]),(!a||1&t)&&sf(r,"dl-entry-notAvailable",!e[0])},i(e){a||(Mf((()=>{a&&(s&&s.end(1),i=Gf(t,N_,{y:-5,duration:500}),i.start())})),a=!0)},o(e){i&&i.invalidate(),s=Vf(t,N_,{y:-5,duration:500}),a=!1},d(e){e&&Fh(t),e&&s&&s.end(),l=!1,vh(c)}}}function OO(e,t,n){let{isRequestedLanguageAvailable:o}=t,{requestedLang:r}=t,{sourceText:i}=t,{improvedText:s}=t,{listen:a=(e,t)=>null}=t;return e.$$set=e=>{"isRequestedLanguageAvailable"in e&&n(0,o=e.isRequestedLanguageAvailable),"requestedLang"in e&&n(1,r=e.requestedLang),"sourceText"in e&&n(2,i=e.sourceText),"improvedText"in e&&n(3,s=e.improvedText),"listen"in e&&n(4,a=e.listen)},[o,r,i,s,a,()=>{a(s,r)},()=>{a(i,r)}]}class NO extends t_{constructor(e){super(),e_(this,e,OO,RO,wh,{isRequestedLanguageAvailable:0,requestedLang:1,sourceText:2,improvedText:3,listen:4})}}function DO(e){let t,n,o,r,i;return n=new fv({props:{tooltip:e[6],zIndex:300,$$slots:{default:[BO]},$$scope:{ctx:e}}}),{c(){t=Wh("fragment"),Xf(n.$$.fragment),Jh(t,"role","navigation")},m(s,a){Hh(s,t,a),Jf(n,t,null),o=!0,r||(i=[Zh(t,"mouseover",e[9]),Zh(t,"focus",e[9]),Zh(t,"mouseleave",e[11])],r=!0)},p(e,t){const o={};64&t&&(o.tooltip=e[6]),16447&t&&(o.$$scope={dirty:t,ctx:e}),n.$set(o)},i(e){o||(jf(n.$$.fragment,e),o=!0)},o(e){Wf(n.$$.fragment,e),o=!1},d(e){e&&Fh(t),Qf(n),r=!1,vh(i)}}}function PO(e){let t,n;return t=new NO({props:{isRequestedLanguageAvailable:e[5],requestedLang:e[0],sourceText:e[1],improvedText:e[2],listen:e[7]}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p(e,n){const o={};32&n&&(o.isRequestedLanguageAvailable=e[5]),1&n&&(o.requestedLang=e[0]),2&n&&(o.sourceText=e[1]),4&n&&(o.improvedText=e[2]),t.$set(o)},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function BO(e){let t,n,o,r,i,s,a=e[4]&&PO(e);return{c(){t=Wh("button"),t.innerHTML='<span class="dl-icon dl-icon-listen svelte-17suwwx"></span>',n=Vh(),a&&a.c(),o=Yh(),Jh(t,"type","button"),Jh(t,"class","dl-btn svelte-17suwwx"),Jh(t,"data-qa","dl-toolbar-listener-button"),sf(t,"dl-btn-active",e[3]),sf(t,"dl-btn-hovered",e[4])},m(l,c){Hh(l,t,c),Hh(l,n,c),a&&a.m(l,c),Hh(l,o,c),r=!0,i||(s=Zh(t,"click",e[8]),i=!0)},p(e,n){(!r||8&n)&&sf(t,"dl-btn-active",e[3]),(!r||16&n)&&sf(t,"dl-btn-hovered",e[4]),e[4]?a?(a.p(e,n),16&n&&jf(a,1)):(a=PO(e),a.c(),jf(a,1),a.m(o.parentNode,o)):a&&(Hf(),Wf(a,1,1,(()=>{a=null})),Ff())},i(e){r||(jf(a),r=!0)},o(e){Wf(a),r=!1},d(e){e&&(Fh(t),Fh(n),Fh(o)),a&&a.d(e),i=!1,s()}}}function zO(e){let t,n,o=e[5]&&DO(e);return{c(){o&&o.c(),t=Yh()},m(e,r){o&&o.m(e,r),Hh(e,t,r),n=!0},p(e,[n]){e[5]?o?(o.p(e,n),32&n&&jf(o,1)):(o=DO(e),o.c(),jf(o,1),o.m(t.parentNode,t)):o&&(Hf(),Wf(o,1,1,(()=>{o=null})),Ff())},i(e){n||(jf(o),n=!0)},o(e){Wf(o),n=!1},d(e){e&&Fh(t),o&&o.d(e)}}}function UO(e,n,o){let{platformBehaviour:r=ut.default}=n,{requestedLang:i=""}=n,{sourceText:s=""}=n,{improvedText:a=""}=n,l=!1,c=!1,d=!1,u=!1;function p(){t({action:"dlStopSpeech"}),o(3,c=!1)}async function m(e,t,n){if("dlVoiceOverStopped"===e.action)o(3,c=!1),n();return!0}chrome.runtime.onMessage.addListener(m),vf((()=>{p(),chrome.runtime.onMessage.removeListener(m)}));return e.$$set=e=>{"platformBehaviour"in e&&o(10,r=e.platformBehaviour),"requestedLang"in e&&o(0,i=e.requestedLang),"sourceText"in e&&o(1,s=e.sourceText),"improvedText"in e&&o(2,a=e.improvedText)},e.$$.update=()=>{25&e.$$.dirty&&(i&&t({action:"dlGetSupportedVoices"}).then((e=>{o(5,l=e.includes(["EN-US","EN-GB"].includes(i)?"EN":["PT-PT","PT-BR"].includes(i)?"PT":["ZH-CN","ZH-HANT"].includes(i)?"ZH":i))})),!d&&c?setTimeout((()=>{o(6,u=chrome.i18n.getMessage("ui_inline_translation_listen_stop"))}),1e3):o(6,u=!1))},[i,s,a,c,d,l,u,async function(e,n){c||(t({action:"dlTextToSpeech",payload:{text:e,lang:n}}),o(3,c=!0),o(4,d=!1))},function(){c?(p(),o(3,c=!1)):o(4,d=!0)},function(){c||o(4,d=!0)},r,()=>o(4,d=!1)]}class HO extends t_{constructor(e){super(),e_(this,e,UO,zO,wh,{platformBehaviour:10,requestedLang:0,sourceText:1,improvedText:2})}}function FO(e){let t,n,o,r,i,s,a,l,c,d,u,p=Y$(e[3].improvedSnippet)+"";return n=new AO({props:{websiteSettings:e[0],settings:e[1]}}),l=new HO({props:{requestedLang:e[3].websiteLanguage,sourceText:e[3].originalSnippet,improvedText:e[3].improvedSnippet,platformBehaviour:e[2]}}),d=new J$({props:{targetLang:e[4].selectedTargetLanguage,text:e[3].improvedSnippet,platformBehaviour:e[2]}}),{c(){t=Wh("div"),Xf(n.$$.fragment),o=Vh(),r=Wh("div"),s=Vh(),a=Wh("div"),Xf(l.$$.fragment),c=Vh(),Xf(d.$$.fragment),Jh(t,"class","write-toolbar-container svelte-3lq15y"),Jh(r,"class","result-frame svelte-3lq15y"),Jh(r,"dir",i=eo(e[4].selectedTargetLanguage)),Jh(a,"class","dl-btn-group svelte-3lq15y")},m(e,i){Hh(e,t,i),Jf(n,t,null),Hh(e,o,i),Hh(e,r,i),r.innerHTML=p,Hh(e,s,i),Hh(e,a,i),Jf(l,a,null),Bh(a,c),Jf(d,a,null),u=!0},p(e,t){const o={};1&t&&(o.websiteSettings=e[0]),2&t&&(o.settings=e[1]),n.$set(o),(!u||8&t)&&p!==(p=Y$(e[3].improvedSnippet)+"")&&(r.innerHTML=p),(!u||16&t&&i!==(i=eo(e[4].selectedTargetLanguage)))&&Jh(r,"dir",i);const s={};8&t&&(s.requestedLang=e[3].websiteLanguage),8&t&&(s.sourceText=e[3].originalSnippet),8&t&&(s.improvedText=e[3].improvedSnippet),4&t&&(s.platformBehaviour=e[2]),l.$set(s);const a={};16&t&&(a.targetLang=e[4].selectedTargetLanguage),8&t&&(a.text=e[3].improvedSnippet),4&t&&(a.platformBehaviour=e[2]),d.$set(a)},i(e){u||(jf(n.$$.fragment,e),jf(l.$$.fragment,e),jf(d.$$.fragment,e),u=!0)},o(e){Wf(n.$$.fragment,e),Wf(l.$$.fragment,e),Wf(d.$$.fragment,e),u=!1},d(e){e&&(Fh(t),Fh(o),Fh(r),Fh(s),Fh(a)),Qf(n),Qf(l),Qf(d)}}}function jO(e){let t,n,o;return n=new tS({}),{c(){t=Wh("div"),Xf(n.$$.fragment),Jh(t,"class","loading-spinner-container svelte-3lq15y")},m(e,r){Hh(e,t,r),Jf(n,t,null),o=!0},p:gh,i(e){o||(jf(n.$$.fragment,e),o=!0)},o(e){Wf(n.$$.fragment,e),o=!1},d(e){e&&Fh(t),Qf(n)}}}function WO(e){let t,n,o,r;const i=[jO,FO],s=[];function a(e,t){return null==e[3]||e[3].writeState===p?0:e[3].improvedSnippet?1:-1}return~(n=a(e))&&(o=s[n]=i[n](e)),{c(){t=Wh("div"),o&&o.c()},m(e,o){Hh(e,t,o),~n&&s[n].m(t,null),r=!0},p(e,[r]){let l=n;n=a(e),n===l?~n&&s[n].p(e,r):(o&&(Hf(),Wf(s[l],1,1,(()=>{s[l]=null})),Ff()),~n?(o=s[n],o?o.p(e,r):(o=s[n]=i[n](e),o.c()),jf(o,1),o.m(t,null)):o=null)},i(e){r||(jf(o),r=!0)},o(e){Wf(o),r=!1},d(e){e&&Fh(t),~n&&s[n].d()}}}function qO(e,t,n){let o,r,i=gh,s=()=>(i(),i=bh(c,(e=>n(3,o=e))),c),a=gh,l=()=>(a(),a=bh(d,(e=>n(4,r=e))),d);e.$$.on_destroy.push((()=>i())),e.$$.on_destroy.push((()=>a()));let{websiteSettings:c}=t;s();let{settings:d}=t;l();let{platformBehaviour:u}=t;return e.$$set=e=>{"websiteSettings"in e&&s(n(0,c=e.websiteSettings)),"settings"in e&&l(n(1,d=e.settings)),"platformBehaviour"in e&&n(2,u=e.platformBehaviour)},[c,d,u,o,r]}class GO extends t_{constructor(e){super(),e_(this,e,qO,WO,wh,{websiteSettings:0,settings:1,platformBehaviour:2})}}function VO(e){let t,n;return t=new GO({props:{websiteSettings:e[1],settings:r_}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p(e,n){const o={};2&n&&(o.websiteSettings=e[1]),t.$set(o)},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function YO(e){let t,n;return t=new LO({props:{websiteSettings:e[1],settings:r_}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p(e,n){const o={};2&n&&(o.websiteSettings=e[1]),t.$set(o)},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function ZO(e){let t,n;return t=new kw({props:{error:e[2].error}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.error=e[2].error),t.$set(o)},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function KO(e){let t,n,o,r;const i=[ZO,YO,VO],s=[];function a(e,t){return e[2].error?0:e[0]===pt.translate?1:e[0]===pt.write?2:-1}return~(n=a(e))&&(o=s[n]=i[n](e)),{c(){t=Wh("div"),o&&o.c(),Jh(t,"class","review-translate-write-container svelte-jxaaz5"),Jh(t,"data-qa","deepl-review-translate-write-container"),sf(t,"error",e[2].error)},m(e,o){Hh(e,t,o),~n&&s[n].m(t,null),r=!0},p(e,l){let c=n;n=a(e),n===c?~n&&s[n].p(e,l):(o&&(Hf(),Wf(s[c],1,1,(()=>{s[c]=null})),Ff()),~n?(o=s[n],o?o.p(e,l):(o=s[n]=i[n](e),o.c()),jf(o,1),o.m(t,null)):o=null),(!r||4&l)&&sf(t,"error",e[2].error)},i(e){r||(jf(o),r=!0)},o(e){Wf(o),r=!1},d(e){e&&Fh(t),~n&&s[n].d()}}}function XO(e){let t,n,o;return n=new bR({props:{closeWindow:e[6],extensionContext:e[5],textProcessingMode:e[0],showProTranslateStatus:e[3],showProWriteStatus:e[4],onChangeTextProcessingMode:e[7],websiteSettings:e[1],settings:r_,error:e[2].error,$$slots:{default:[KO]},$$scope:{ctx:e}}}),{c(){t=Wh("div"),Xf(n.$$.fragment)},m(e,r){Hh(e,t,r),Jf(n,t,null),o=!0},p(e,[t]){const o={};1&t&&(o.textProcessingMode=e[0]),8&t&&(o.showProTranslateStatus=e[3]),16&t&&(o.showProWriteStatus=e[4]),2&t&&(o.websiteSettings=e[1]),4&t&&(o.error=e[2].error),16391&t&&(o.$$scope={dirty:t,ctx:e}),n.$set(o)},i(e){o||(jf(n.$$.fragment,e),o=!0)},o(e){Wf(n.$$.fragment,e),o=!1},d(e){e&&Fh(t),Qf(n)}}}function JO(e,n,o){let r,i,s,a=gh,l=()=>(a(),a=bh(d,(e=>o(2,s=e))),d);Eh(e,wb,(e=>o(12,r=e))),Eh(e,r_,(e=>o(13,i=e))),e.$$.on_destroy.push((()=>a()));let{closeTooltip:c}=n,{websiteSettings:d}=n;l();let u,m,{platformBehaviour:g=ut.default}=n,{textProcessingMode:h=pt.translate}=n,{setPositioningStatus:f}=n,_=k;let v=!1;return e.$$set=e=>{"closeTooltip"in e&&o(8,c=e.closeTooltip),"websiteSettings"in e&&l(o(1,d=e.websiteSettings)),"platformBehaviour"in e&&o(9,g=e.platformBehaviour),"textProcessingMode"in e&&o(0,h=e.textProcessingMode),"setPositioningStatus"in e&&o(10,f=e.setPositioningStatus)},e.$$.update=()=>{1540&e.$$.dirty&&!s.translationState&&g===ut.default&&f&&(f(!0),setTimeout((()=>{f(!1)}),600)),8192&e.$$.dirty&&o(3,u=pn(i,$t.TRANSLATOR)),8192&e.$$.dirty&&o(4,m=pn(i,$t.WRITE)),6145&e.$$.dirty&&(h!==pt.write||v||(async(e="")=>(wb.update({improvedSnippet:"",writeState:p}),eO({type:SR,payload:{sourceText:e,domainName:window.location.hostname}})))(r.originalSnippet).then((()=>{o(11,v=!0)})))},[h,d,s,u,m,_,function(){t({action:"dlTrackUiAction",payload:{uiAction:Fe,nicheIntegration:g}}),c()},e=>{switch(e){case pt.translate:o(0,h=pt.translate);break;case pt.write:o(0,h=pt.write);break;default:return}},c,g,f,v,r,i]}class QO extends t_{constructor(e){super(),e_(this,e,JO,XO,wh,{closeTooltip:8,websiteSettings:1,platformBehaviour:9,textProcessingMode:0,setPositioningStatus:10})}}function eN(e){let t,n,o,r,i,s,a,l;return i=new QO({props:{closeTooltip:e[0],websiteSettings:e[1],platformBehaviour:e[2],textProcessingMode:e[3],setPositioningStatus:e[7]}}),{c(){t=Wh("div"),n=Wh("div"),o=Vh(),r=Wh("div"),Xf(i.$$.fragment),Jh(n,"class","review-window-drag-handle svelte-xlxdq7"),Jh(r,"class","review-window-body svelte-xlxdq7"),Jh(t,"data-qa","review-translate-write-window"),Jh(t,"class","review-window-wrapper svelte-xlxdq7"),Jh(t,"role","dialog"),Jh(t,"style",e[6]),Jh(t,"draggable",e[5]),Jh(t,"dir",eo())},m(c,d){Hh(c,t,d),Bh(t,n),Bh(t,o),Bh(t,r),Jf(i,r,null),e[19](t),s=!0,a||(l=[Zh(n,"mouseover",e[8]),Zh(n,"mouseout",e[9]),Mh(dv.call(null,t,{isShadow:!0})),Zh(t,"click_outside",e[18]),Zh(t,"dragstart",e[10])],a=!0)},p(e,[n]){const o={};1&n&&(o.closeTooltip=e[0]),2&n&&(o.websiteSettings=e[1]),4&n&&(o.platformBehaviour=e[2]),8&n&&(o.textProcessingMode=e[3]),i.$set(o),(!s||64&n)&&Jh(t,"style",e[6]),(!s||32&n)&&Jh(t,"draggable",e[5])},i(e){s||(jf(i.$$.fragment,e),s=!0)},o(e){Wf(i.$$.fragment,e),s=!1},d(n){n&&Fh(t),Qf(i),e[19](null),a=!1,vh(l)}}}function tN(e,t,n){let o,r,i=gh,s=()=>(i(),i=bh(l,(e=>n(17,r=e))),l);Eh(e,r_,(e=>n(16,o=e))),e.$$.on_destroy.push((()=>i())),wf("deepl_settings",r_),wf("text_direction",eo());let{closeWindow:a}=t,{websiteSettings:l}=t;s();let c,u,p,m,g,{replaceElement:h}=t,{actualPosition:f}=t,{dragContainerTo:_}=t,{platformBehaviour:v=ut.default}=t,{textProcessingMode:y=pt.translate}=t,w=!1,b=!1,E="visibility: hidden; opacity:0; height:0;";let x={x:0,y:0};function S(e){let t=V$({dropEvent:e,document:document,dragConfig:{dragOffset:x,dragElementRect:m,dragBarWidth:16}});t&&_(t)}_f((()=>{n(15,g=o.isLoggedIn),setTimeout((()=>{n(6,E="")}),100),document.addEventListener("dragover",q$),document.addEventListener("drop",S),p=_v(c,(({clientHeight:e})=>{n(14,u=e)}))})),vf((()=>{document.removeEventListener("dragover",q$),document.removeEventListener("drop",S),p&&p()}));return e.$$set=e=>{"closeWindow"in e&&n(0,a=e.closeWindow),"websiteSettings"in e&&s(n(1,l=e.websiteSettings)),"replaceElement"in e&&n(12,h=e.replaceElement),"actualPosition"in e&&n(11,f=e.actualPosition),"dragContainerTo"in e&&n(13,_=e.dragContainerTo),"platformBehaviour"in e&&n(2,v=e.platformBehaviour),"textProcessingMode"in e&&n(3,y=e.textProcessingMode)},e.$$.update=()=>{var t,i;98305&e.$$.dirty&&!1===g&&!0===o.isLoggedIn&&a(),131073&e.$$.dirty&&r&&(!r.isReviewTranslateWriteWindowInjected||r.translationState!==d.none||r.translatedSnippet||r.error||a()),65536&e.$$.dirty&&n(11,(t=o.inlineTranslateTooltipPosition,f=h(u,t))),16384&e.$$.dirty&&n(11,(i=u,f=b||v===ut.gdocs?h(i,o.inlineTranslateTooltipPosition):f))},[a,l,v,y,c,w,E,e=>{b=e},function(){n(5,w=!0)},function(){n(5,w=!1)},function(e){const t=G$(e,v);x=t.dragOffset,m=t.dragElementRect},f,h,_,u,g,o,r,()=>a(),function(e){Sf[e?"unshift":"push"]((()=>{c=e,n(4,c)}))}]}class nN extends t_{constructor(e){super(),e_(this,e,tN,eN,wh,{closeWindow:0,websiteSettings:1,replaceElement:12,actualPosition:11,dragContainerTo:13,platformBehaviour:2,textProcessingMode:3})}}class oN{static HTML_TAG_NAME="deepl-review-translate-write-window";static createElement=(e=document)=>{const t=e.createElement(oN.HTML_TAG_NAME),n=new oN(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.dragContainerTo=n.dragContainerTo,t};#e=void 0;constructor(e){this.domElement=e,this.domElement.platformBehaviour=ut.default,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.domElement.mainComponent,this.domElement.selectionRange;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer)}createDOM=(e,t,n)=>{const{deepl_inline_ui:o}=z;this.domElement.shadowContainer&&this.domElement.shadowContainer.childElementCount>0&&this.cleanupDOM(),this.domElement.platformBehaviour===ut.default&&(this.domElement.selectionRange=window.getSelection().getRangeAt(0));let r=e(this.domElement.selectionRange);this.domElement.shadowContainer.appendChild(this.domElement.container);let i="visibility: initial !important; position: absolute; top: 0px; left: 0px; width: 100%; z-index: "+(o.z_index-100),s=`position: absolute; top: ${r.y}px; left: ${r.x-200}px; z-index: ${o.z_index-100};`;switch(this.domElement.platformBehaviour){case ut.gdocs:s+="top: 600px; left: 10px;";break;case ut.default:default:s+=""}this.domElement.shadowContainer.style.cssText=i,this.domElement.container.style.cssText=s,this.domElement.mainComponent=new nN({target:this.domElement.container,props:{closeWindow:t,websiteSettings:n,replaceElement:(t,n)=>{r=e(this.domElement.selectionRange);const o={coords:r,clientHeight:t,TOOLTIP_WIDTH:550,TRIGGER_MENU_ICON_HEIGHT:30,style:this.domElement.container.style};let i=n;const s=j$(o),[a,l]=W$(n),c=this.#e??{x:0,y:0};if(this.domElement.platformBehaviour===ut.gdocs){for(const e of l)if(F$(e,o)){H$(e,o,c);break}}else for(const e of a)if(F$(e,o)){i="middle"!==e?e:void 0,U$(e,o,c);break}return{...s,current:i}},platformBehaviour:this.domElement.platformBehaviour,textProcessingMode:this.domElement.textProcessingMode,dragContainerTo:this.dragContainerTo}})};dragContainerTo=e=>{this.#e={y:parseInt(this.domElement.container.style.top)-e.y+(this.#e?.y??0),x:parseInt(this.domElement.container.style.left)-e.x+(this.#e?.x??0)},this.domElement.container.style.top=`${e.y}px`,this.domElement.container.style.left=`${e.x}px`};cleanupDOM=()=>{this.domElement.container.remove(),this.domElement.shadowContainer.remove(),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}const rN="deepl-writing-ui-added",iN=5e3;function sN(e){let t,n,o,r,i,s,a,l;return{c(){t=qh("svg"),n=qh("g"),o=qh("path"),r=qh("path"),i=qh("path"),s=qh("defs"),a=qh("clipPath"),l=qh("rect"),Jh(o,"d","M1.85295 4.86015V12.4035C1.85295 12.7953 2.05334 13.1545 2.38029 13.3504L8.70832 17.1167C8.72427 17.1262 8.7404 17.1353 8.75668 17.1439L11.8727 19L11.8621 17.3672L11.8685 16.4605L11.8717 16.4747V16.1699C11.8717 15.9893 11.9613 15.8272 12.0993 15.7262L12.3015 15.6059L12.3991 15.5494L12.394 15.5508L16.091 13.3504C16.418 13.1545 16.6184 12.7953 16.6184 12.4035V4.86015C16.6184 4.46829 16.418 4.10909 16.091 3.91316L9.76299 0.146947C9.43604 -0.0489825 9.03527 -0.0489825 8.70832 0.146947L2.38029 3.92404C2.05334 4.11997 1.85295 4.47918 1.85295 4.86015Z"),Jh(o,"fill","#0F2B46"),Jh(r,"d","M6.68257 5.19787C7.10444 4.77336 7.77943 4.77336 8.2013 5.19787C8.50446 5.49621 8.60497 5.92588 8.50281 6.3113L11.4143 8.05411C11.4193 8.04902 11.4243 8.04396 11.4294 8.03894C11.8513 7.61442 12.5263 7.61442 12.9481 8.03894C13.4017 8.48522 13.4017 9.2254 12.9481 9.67168C12.5263 10.0962 11.8513 10.0962 11.4294 9.67168C11.111 9.35838 11.0162 8.90024 11.1448 8.50062L11.1341 8.50683L8.24372 6.78659C8.23005 6.80156 8.21591 6.81624 8.2013 6.83062C7.77943 7.25514 7.10444 7.25514 6.68257 6.83062C6.22906 6.38434 6.22906 5.64416 6.68257 5.19787Z"),Jh(r,"fill","white"),Jh(i,"d","M8.50819 11.5811L11.3455 9.88917L10.8182 9.58439L8.2574 11.1016C8.23971 11.0816 8.2212 11.062 8.20187 11.043C7.78 10.6185 7.10501 10.6185 6.68314 11.043C6.22963 11.4893 6.22963 12.2295 6.68314 12.6757C7.10501 13.1003 7.78 13.1003 8.20187 12.6757C8.50012 12.3822 8.60222 11.9616 8.50819 11.5811Z"),Jh(i,"fill","white"),Jh(n,"clip-path","url(#clip0)"),Jh(l,"width","18.5294"),Jh(l,"height","19"),Jh(l,"fill","white"),Jh(l,"transform","matrix(-1 0 0 1 18.5294 0)"),Jh(a,"id","clip0"),Jh(t,"width",e[1]),Jh(t,"height",e[0]),Jh(t,"class","deepl-logo-icon"),Jh(t,"viewBox","0 0 19 19"),Jh(t,"fill","none"),Jh(t,"xmlns","http://www.w3.org/2000/svg")},m(e,c){Hh(e,t,c),Bh(t,n),Bh(n,o),Bh(n,r),Bh(n,i),Bh(t,s),Bh(s,a),Bh(a,l)},p(e,[n]){2&n&&Jh(t,"width",e[1]),1&n&&Jh(t,"height",e[0])},i:gh,o:gh,d(e){e&&Fh(t)}}}function aN(e,t,n){let{height:o="16px"}=t,{width:r="16px"}=t;return e.$$set=e=>{"height"in e&&n(0,o=e.height),"width"in e&&n(1,r=e.width)},[o,r]}class lN extends t_{constructor(e){super(),e_(this,e,aN,sN,wh,{height:0,width:1})}}function cN(e){let t,n,o,r,i,s,a,l,c,d,u,p,m=chrome.i18n.getMessage("gmail_char_limit_logged_in_body")+"";return{c(){t=Wh("div"),n=Vh(),o=Wh("div"),o.textContent=`${chrome.i18n.getMessage("gmail_char_limit_anon_title")}`,r=Vh(),i=Wh("div"),s=Vh(),a=Wh("div"),l=Wh("button"),l.textContent=`${chrome.i18n.getMessage("gmail_char_limit_anon_login_button")}`,c=Vh(),d=Wh("button"),d.textContent=`${chrome.i18n.getMessage("gmail_char_limit_anon_sign_up_button")}`,Jh(t,"class","close-icon svelte-1pm9ytz"),Jh(o,"class","title svelte-1pm9ytz"),Jh(i,"class","body svelte-1pm9ytz"),Jh(l,"class","secondary svelte-1pm9ytz"),Jh(d,"class","primary svelte-1pm9ytz"),Jh(a,"class","footer svelte-1pm9ytz")},m(g,h){Hh(g,t,h),Hh(g,n,h),Hh(g,o,h),Hh(g,r,h),Hh(g,i,h),i.innerHTML=m,Hh(g,s,h),Hh(g,a,h),Bh(a,l),Bh(a,c),Bh(a,d),u||(p=[Zh(t,"click",e[3]),Zh(l,"click",e[4]),Zh(d,"click",e[5])],u=!0)},p:gh,i:gh,o:gh,d(e){e&&(Fh(t),Fh(n),Fh(o),Fh(r),Fh(i),Fh(s),Fh(a)),u=!1,vh(p)}}}function dN(e){let t,n,o,r,i,s,a,l,c,d,u=chrome.i18n.getMessage("gmail_char_limit_logged_in_body")+"";return{c(){t=Wh("div"),n=Vh(),o=Wh("div"),o.textContent=`${chrome.i18n.getMessage("gmail_char_limit_logged_in_title")}`,r=Vh(),i=Wh("div"),s=Vh(),a=Wh("div"),l=Wh("button"),l.textContent=`${chrome.i18n.getMessage("gmail_char_limit_logged_in_cta_button")}`,Jh(t,"class","close-icon svelte-1pm9ytz"),Jh(o,"class","title svelte-1pm9ytz"),Jh(i,"class","body svelte-1pm9ytz"),Jh(l,"class","primary svelte-1pm9ytz"),Jh(a,"class","footer svelte-1pm9ytz")},m(p,m){Hh(p,t,m),Hh(p,n,m),Hh(p,o,m),Hh(p,r,m),Hh(p,i,m),i.innerHTML=u,Hh(p,s,m),Hh(p,a,m),Bh(a,l),c||(d=[Zh(t,"click",e[3]),Zh(l,"click",e[5])],c=!0)},p:gh,i:gh,o:gh,d(e){e&&(Fh(t),Fh(n),Fh(o),Fh(r),Fh(i),Fh(s),Fh(a)),c=!1,vh(d)}}}function uN(e){let t,n;return t=new kw({props:{error:{error:e[0]},close:e[3],config:{nicheIntegration:ut.gmail}}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.error={error:e[0]}),t.$set(o)},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function pN(e){let t,n,o,r,i,s;const a=[uN,dN,cN],l=[];function c(e,t){return e[2]?0:e[1]?1:2}return n=c(e),o=l[n]=a[n](e),{c(){t=Wh("div"),o.c(),Jh(t,"class","dl-gmail-character-limit-popup svelte-1pm9ytz"),Jh(t,"dir",eo()),sf(t,"is-translator-limit",!e[2])},m(o,a){Hh(o,t,a),l[n].m(t,null),r=!0,i||(s=[Mh(dv.call(null,t,{isShadow:!0,exceptions:[".deepl-gmail-message-container",".deepl-gmail-write-toolbar"]})),Zh(t,"click_outside",e[9])],i=!0)},p(e,[i]){let s=n;n=c(e),n===s?l[n].p(e,i):(Hf(),Wf(l[s],1,1,(()=>{l[s]=null})),Ff(),o=l[n],o?o.p(e,i):(o=l[n]=a[n](e),o.c()),jf(o,1),o.m(t,null)),(!r||4&i)&&sf(t,"is-translator-limit",!e[2])},i(e){r||(jf(o),r=!0)},o(e){Wf(o),r=!1},d(e){e&&Fh(t),l[n].d(),i=!1,vh(s)}}}function mN(e,n,o){let r,i;Eh(e,r_,(e=>o(8,i=e))),wf("text_direction",eo());let{onCloseCharLimitPopup:s}=n,{cleanUpDOM:a}=n,{limitType:l}=n,c=!1,d=!1;const u=()=>{s&&s(),a&&a()};return e.$$set=e=>{"onCloseCharLimitPopup"in e&&o(6,s=e.onCloseCharLimitPopup),"cleanUpDOM"in e&&o(7,a=e.cleanUpDOM),"limitType"in e&&o(0,l=e.limitType)},e.$$.update=()=>{1&e.$$.dirty&&o(2,r=l===x_||l===S_),256&e.$$.dirty&&o(1,d=!0===i.isLoggedIn)},[l,d,r,u,()=>{c||(t({action:"dlTrackUILocationClicked",payload:be}),c=!0,t({action:"dlRequestLogin"}).then((()=>{c=!1,u()})).catch((()=>{c=!1})))},()=>{t({action:"dlExternalURLRedirect",payload:{destination:ly,utmContent:"gmail_customization"}}),u()},s,a,i,()=>{u()}]}class gN extends t_{constructor(e){super(),e_(this,e,mN,pN,wh,{onCloseCharLimitPopup:6,cleanUpDOM:7,limitType:0})}}class hN{static HTML_TAG_NAME="deepl-gmail-character-limit-popup";static createElement=(e=document)=>{const t=e.createElement(hN.HTML_TAG_NAME),n=new hN(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowRoot.addEventListener("mouseup",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowRoot.addEventListener("mousedown",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=({onCloseCharLimitPopup:e,limitType:t})=>{this.mainComponent=new gN({target:this.domElement.shadowContainer,props:{cleanUpDOM:this.domElement.cleanupDOM,onCloseCharLimitPopup:e,limitType:t}})};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function fN(e){let t,n,o,r;const i=[yN,vN],s=[];function a(e,t){return e[8]?0:1}return n=a(e),o=s[n]=i[n](e),{c(){t=Wh("div"),o.c(),Jh(t,"class","dl-gmail-translate-toolbar svelte-eo75ae"),sf(t,"hasLoaded",e[3]),sf(t,"isExpanded",e[4])},m(e,o){Hh(e,t,o),s[n].m(t,null),r=!0},p(e,l){let c=n;n=a(e),n===c?s[n].p(e,l):(Hf(),Wf(s[c],1,1,(()=>{s[c]=null})),Ff(),o=s[n],o?o.p(e,l):(o=s[n]=i[n](e),o.c()),jf(o,1),o.m(t,null)),(!r||8&l[0])&&sf(t,"hasLoaded",e[3]),(!r||16&l[0])&&sf(t,"isExpanded",e[4])},i(e){r||(jf(o),r=!0)},o(e){Wf(o),r=!1},d(e){e&&Fh(t),s[n].d()}}}function _N(e){let t,n,o,r,i,s,a,l,c;return o=new fv({props:{tooltip:chrome.i18n.getMessage("gmail_compose_undo_icon"),zIndex:e[14].z_index,$$slots:{default:[xN]},$$scope:{ctx:e}}}),s=new fv({props:{tooltip:chrome.i18n.getMessage("gmail_compose_accept_icon"),zIndex:e[14].z_index,$$slots:{default:[SN]},$$scope:{ctx:e}}}),{c(){t=Wh("div"),n=Wh("div"),Xf(o.$$.fragment),r=Vh(),i=Wh("div"),Xf(s.$$.fragment),Jh(n,"class","wrapper undo-wrapper svelte-eo75ae"),Jh(i,"class","wrapper accept-wrapper svelte-eo75ae"),Jh(t,"class","accept-changes svelte-eo75ae")},m(d,u){Hh(d,t,u),Bh(t,n),Jf(o,n,null),Bh(t,r),Bh(t,i),Jf(s,i,null),a=!0,l||(c=[Mh(dv.call(null,t,{isShadow:!0,exceptions:[".deepl-gmail-message-container"]})),Zh(t,"click_outside",e[17])],l=!0)},p(e,t){const n={};16777216&t[1]&&(n.$$scope={dirty:t,ctx:e}),o.$set(n);const r={};16777216&t[1]&&(r.$$scope={dirty:t,ctx:e}),s.$set(r)},i(e){a||(jf(o.$$.fragment,e),jf(s.$$.fragment,e),a=!0)},o(e){Wf(o.$$.fragment,e),Wf(s.$$.fragment,e),a=!1},d(e){e&&Fh(t),Qf(o),Qf(s),l=!1,vh(c)}}}function vN(e){let t,n,o,r,i,s,a,l,c,d,u,p,m,g,h,f,_,v,y,w,b,E,x,S,T,$,C=chrome.i18n.getMessage("gmail_compose_translate_button")+"",k=pn(e[13],$t.TRANSLATOR);i=new Tv({props:{selectedOption:e[1],items:e[7],placeholder:"...",allowLabelHtml:!0}}),i.$on("valueselected",e[21]),p=new Rb({props:{value:e[12]||e[13].targetLanguageUserInput,disabled:!1,fontSize:"sm"}}),p.$on("selection",e[22]);let L=k&&wN();return x=new fv({props:{isEnabled:!0,tooltip:gn(e[13],$t.WRITE)?chrome.i18n.getMessage("input_translation_tooltip_improve_disabled_by_admin"):chrome.i18n.getMessage("input_translation_tooltip_improve_supported_lang"),zIndex:e[14].z_index,multiline:!0,$$slots:{default:[EN]},$$scope:{ctx:e}}}),{c(){t=Wh("div"),n=Wh("div"),n.textContent=`${chrome.i18n.getMessage("gmail_compose_translate_from")}`,o=Vh(),r=Wh("div"),Xf(i.$$.fragment),s=Vh(),a=Wh("div"),l=Wh("div"),l.textContent=`${chrome.i18n.getMessage("gmail_compose_translate_into")}`,c=Vh(),d=Wh("div"),u=Wh("div"),Xf(p.$$.fragment),m=Vh(),g=Wh("div"),h=Wh("button"),f=Gh(C),_=Vh(),L&&L.c(),y=Vh(),w=Wh("div"),b=Vh(),E=Wh("div"),Xf(x.$$.fragment),Jh(n,"class","translation-label svelte-eo75ae"),Jh(r,"class","wrapper shortcode-wrapper svelte-eo75ae"),Jh(t,"class","translation-selection-wrapper svelte-eo75ae"),Jh(l,"class","translation-label svelte-eo75ae"),Jh(u,"class","dropdown"),Jh(d,"class","wrapper language-wrapper svelte-eo75ae"),Jh(a,"class","translation-selection-wrapper svelte-eo75ae"),h.disabled=v=e[5]||!e[12],Jh(h,"class","svelte-eo75ae"),sf(h,"isTranslating",e[5]),Jh(g,"class","wrapper button-wrapper"),Jh(w,"class","divider svelte-eo75ae"),Jh(E,"class","wrapper button-wrapper")},m(v,C){Hh(v,t,C),Bh(t,n),Bh(t,o),Bh(t,r),Jf(i,r,null),Hh(v,s,C),Hh(v,a,C),Bh(a,l),Bh(a,c),Bh(a,d),Bh(d,u),Jf(p,u,null),Hh(v,m,C),Hh(v,g,C),Bh(g,h),Bh(h,f),Bh(h,_),L&&L.m(h,null),Hh(v,y,C),Hh(v,w,C),Hh(v,b,C),Hh(v,E,C),Jf(x,E,null),S=!0,T||($=Zh(h,"mousedown",Xh(Kh(e[15]))),T=!0)},p(e,t){const n={};2&t[0]&&(n.selectedOption=e[1]),128&t[0]&&(n.items=e[7]),i.$set(n);const o={};12288&t[0]&&(o.value=e[12]||e[13].targetLanguageUserInput),p.$set(o),8192&t[0]&&(k=pn(e[13],$t.TRANSLATOR)),k?L?8192&t[0]&&jf(L,1):(L=wN(),L.c(),jf(L,1),L.m(h,null)):L&&(Hf(),Wf(L,1,1,(()=>{L=null})),Ff()),(!S||4128&t[0]&&v!==(v=e[5]||!e[12]))&&(h.disabled=v),(!S||32&t[0])&&sf(h,"isTranslating",e[5]);const r={};8192&t[0]&&(r.tooltip=gn(e[13],$t.WRITE)?chrome.i18n.getMessage("input_translation_tooltip_improve_disabled_by_admin"):chrome.i18n.getMessage("input_translation_tooltip_improve_supported_lang")),8288&t[0]|16777216&t[1]&&(r.$$scope={dirty:t,ctx:e}),x.$set(r)},i(e){S||(jf(i.$$.fragment,e),jf(p.$$.fragment,e),jf(L),jf(x.$$.fragment,e),S=!0)},o(e){Wf(i.$$.fragment,e),Wf(p.$$.fragment,e),Wf(L),Wf(x.$$.fragment,e),S=!1},d(e){e&&(Fh(t),Fh(s),Fh(a),Fh(m),Fh(g),Fh(y),Fh(w),Fh(b),Fh(E)),Qf(i),Qf(p),L&&L.d(),Qf(x),T=!1,$()}}}function yN(e){let t,n;return t=new tS({}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p:gh,i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function wN(e){let t,n;return t=new d$({props:{size:16,marginStart:8,alternateColor:"white"}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function bN(e){let t,n;return t=new d$({props:{size:16,marginStart:8,alternateColor:"white"}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function EN(e){let t,n,o,r,i,s,a,l=chrome.i18n.getMessage("gmail_compose_improve_button")+"",c=pn(e[13],$t.WRITE),d=c&&bN();return{c(){t=Wh("button"),n=Gh(l),o=Vh(),d&&d.c(),t.disabled=r=gn(e[13],$t.WRITE)||e[5]||!e[6],Jh(t,"class","svelte-eo75ae"),sf(t,"isTranslating",e[5])},m(r,l){Hh(r,t,l),Bh(t,n),Bh(t,o),d&&d.m(t,null),i=!0,s||(a=Zh(t,"mousedown",Xh(Kh(e[16]))),s=!0)},p(e,n){8192&n[0]&&(c=pn(e[13],$t.WRITE)),c?d?8192&n[0]&&jf(d,1):(d=bN(),d.c(),jf(d,1),d.m(t,null)):d&&(Hf(),Wf(d,1,1,(()=>{d=null})),Ff()),(!i||8288&n[0]&&r!==(r=gn(e[13],$t.WRITE)||e[5]||!e[6]))&&(t.disabled=r),(!i||32&n[0])&&sf(t,"isTranslating",e[5])},i(e){i||(jf(d),i=!0)},o(e){Wf(d),i=!1},d(e){e&&Fh(t),d&&d.d(),s=!1,a()}}}function xN(e){let t,n,o;return{c(){t=Wh("button"),t.innerHTML='<svg height="32px" width="32px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 8.33398H10.8333C14.5152 8.33398 17.5 11.3188 17.5 15.0007V16.6673M2.5 8.33398L7.5 13.334M2.5 8.33398L7.5 3.33398" stroke="#727A83" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-eo75ae"></path></svg>',Jh(t,"class","confirm-button svelte-eo75ae")},m(r,i){Hh(r,t,i),n||(o=Zh(t,"click",Xh(Kh(e[18]))),n=!0)},p:gh,d(e){e&&Fh(t),n=!1,o()}}}function SN(e){let t,n,o;return{c(){t=Wh("button"),t.innerHTML='<svg width="24px" height="24px" class="checkmark" viewBox="0 0 16 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 7L5 11L15 1" stroke="#727A83" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-eo75ae"></path></svg>',Jh(t,"class","confirm-button right svelte-eo75ae")},m(r,i){Hh(r,t,i),n||(o=Zh(t,"click",Xh(Kh(e[17]))),n=!0)},p:gh,d(e){e&&Fh(t),n=!1,o()}}}function TN(e){let t,n,o,r,i,s,a,l,c,d,u,p;const m=[_N,fN],g=[];function h(e,t){return e[2]?0:1}return o=h(e),r=g[o]=m[o](e),l=new lN({props:{height:"20px",width:"20px"}}),{c(){t=Wh("div"),n=Wh("div"),r.c(),i=Vh(),s=Wh("div"),a=Wh("div"),Xf(l.$$.fragment),Jh(a,"class","wrapper icon-wrapper svelte-eo75ae"),Jh(s,"class","dl-toolbar-closed svelte-eo75ae"),Jh(n,"class","dl-toolbar-positioner svelte-eo75ae"),Jh(t,"class","deepl-gmail-write-toolbar svelte-eo75ae"),Jh(t,"style",c=`top: ${e[9]}px; left: ${e[10]}px`),Jh(t,"dir",eo())},m(r,c){Hh(r,t,c),Bh(t,n),g[o].m(n,null),Bh(n,i),Bh(n,s),Bh(s,a),Jf(l,a,null),d=!0,u||(p=[Zh(a,"click",e[23]),Zh(t,"click",Xh(Kh(e[24]))),Mh(dv.call(null,t,{isShadow:!0,exceptions:[".deepl-gmail-message-container"]})),Zh(t,"click_outside",e[25])],u=!0)},p(e,s){let a=o;o=h(e),o===a?g[o].p(e,s):(Hf(),Wf(g[a],1,1,(()=>{g[a]=null})),Ff(),r=g[o],r?r.p(e,s):(r=g[o]=m[o](e),r.c()),jf(r,1),r.m(n,i)),(!d||1536&s[0]&&c!==(c=`top: ${e[9]}px; left: ${e[10]}px`))&&Jh(t,"style",c)},i(e){d||(jf(r),jf(l.$$.fragment,e),d=!0)},o(e){Wf(r),Wf(l.$$.fragment,e),d=!1},d(e){e&&Fh(t),g[o].d(),Qf(l),u=!1,vh(p)}}}function $N(e,n,o){let r;Eh(e,r_,(e=>o(13,r=e))),wf("text_direction",eo());const{deepl_inline_ui:i}=z;let{messageContainer:s}=n,{updateLockStatus:a}=n,{subjectInput:l}=n;const c="WRITE",d="TRANSLATE";let u,p,m,g,h,f,_,v,y,w,b,E,x,S,T=null,$=!1,C=!1,k=!1,L=!1;wf("deepl_settings",r_),_f((async()=>{s&&(s.addEventListener("input",I),s.addEventListener("paste",I),s.classList.add("deepl-gmail-message-container"),M(),l&&l.value&&(f=l.value)),o(7,g=iD()),o(12,S=r.targetLanguageUserInput),H(),W(),window.addEventListener("popstate",O)})),vf((()=>{window.removeEventListener("popstate",O),s.removeEventListener("input",I),s.removeEventListener("paste",I),s.classList.remove("deepl-gmail-message-container"),F()}));const M=async()=>{const e=$n(s.innerHTML),t=e.replace(/<[^>]+>/g,"");const n=await Yn(t);n.length&&(e=>{const t=g.find((t=>t.value===e));t&&o(1,T=t)})(n)},I=()=>{$&&R(!1),A()},A=()=>{M()},R=(e,t)=>{if(!e)return o(2,$=!1),p=null,void(u=null);o(2,$=!0),p=t},O=()=>{document.querySelectorAll(hN.HTML_TAG_NAME).forEach((e=>{e.cleanupDOM,e.remove()}))},N=(e,t=!0)=>{for(;null!==e;){const n=e.getAttribute("role");if("TABLE"===e.tagName&&("dialog"===n||"presentation"===n))return t?e.parentElement:e;e=e.parentElement}return null},D=e=>{const t=N(s);t&&(_=hN.createElement(),_.createDOM({onCloseCharLimitPopup:O,limitType:e}),t.appendChild(_))},P=()=>{o(8,v=!0)},B=()=>{o(8,v=!1)},U=e=>{wb.update({error:e.message?e.message:e})},H=()=>{y=setInterval(j,800)},F=()=>{clearInterval(y)},j=()=>{const e=JSON.stringify(s.getBoundingClientRect());e!==w&&(w=e,W())},W=()=>{const e=eo(),t=N(s),n=t.getBoundingClientRect();if(!t||!n)return;const r=(()=>{const e=N(s),t=e.getBoundingClientRect();if(!e||!t)return;return e.querySelector("[role=toolbar]")})(),i=(()=>{const e=N(s),t=e.getBoundingClientRect();if(!e||!t)return;const n=e.querySelector("[role='group']"),o=n.querySelectorAll("[role='button']");if(!n||!o)return;const r=Array.from(o);return r[r.length-1]})();if(r&&0!==r.getBoundingClientRect().top){const t=r.getBoundingClientRect();return i&&i.getBoundingClientRect()?(o(9,b=t.top-10),void o(10,E="ltr"===e?i.getBoundingClientRect().right-30:i.getBoundingClientRect().right+30)):(o(9,b=t.top-10),void o(10,E="ltr"===e?n.right-45:n.left+45))}if(!i||!i.getBoundingClientRect())return;const a=i.getBoundingClientRect();o(9,b=a.top-18),o(10,E="ltr"===e?a.right-30:a.right+30)},q=({lang:e,sourceLength:t,targetLang:n,targetLength:o})=>{u={lang:e,sourceLength:t,targetLang:n,targetLength:o,nicheIntegration:ut.gmail}},G=({sourceLang:e,sourceLength:t,targetLang:n,targetLength:o})=>{u={sourceLang:e,sourceLength:t,targetLang:n,targetLength:o,nicheIntegration:ut.gmail}},V=e=>{t({action:"dlTrackTranslateAcceptOrRevertEvent",payload:{eventType:e?Pt:Bt,acceptOrRevertMetadata:u}})},Y=e=>{t({action:"dlTrackGmailCharLimitReached",payload:{gmailActionType:PT(e)}})};return e.$$set=e=>{"messageContainer"in e&&o(19,s=e.messageContainer),"updateLockStatus"in e&&o(0,a=e.updateLockStatus),"subjectInput"in e&&o(20,l=e.subjectInput)},e.$$.update=()=>{2&e.$$.dirty[0]&&o(7,g=iD(T)),2&e.$$.dirty[0]&&T&&T.value&&o(6,L=Jn(T.value))},[a,T,$,C,k,m,L,g,v,b,E,x,S,r,i,async()=>{if(!s)return;h=$n(s.innerHTML);const e=l&&l.value;e&&(f=l.value);const n=s.innerText,i=n.length>iN;if(!pn(r,$t.TRANSLATOR)&&i)return D(),void Y(qt);P();const a=x?x.value:T.value;try{if(await aL(s,{targetLang:S,nicheIntegration:ut.gmail,isHtml:!0,clearInnerHTML:!0}),e){const e=await t({action:"dlRequestInputTranslation",payload:{requests:[{text:l.value}],domainName:window.location.hostname,websiteLanguage:a,targetLang:S,skipDapReporting:!0}});if(e[0]?.text){const t=e[0]?.text;o(20,l.value=t,l)}}o(5,m=!1),R(!0,d),B(),G({sourceLang:a,targetLang:S,sourceLength:n.length,targetLength:s.innerText.length})}catch(e){U(e),B(),o(5,m=!1),R(!1)}},async()=>{if(!s)return;const e=l&&l.value;h=$n(s.innerHTML),e&&(f=l.value);const n=s.innerText;o(5,m=!0),P();const r=T.value,i="FR"===r||"ES"===r;try{if(await aL(s,{isWriteRequest:!0,sourceLang:r,nicheIntegration:ut.gmail,isHtml:!0,clearInnerHTML:!0,removeFormatting:i}),e){const e=await t({action:"dlRequestImproveWriting",payload:{requests:[{text:l.value}],domainName:window.location.hostname,websiteLanguage:r,sourceLang:r,skipDapReporting:!0}});if(e[0]?.text){const t=e[0]?.text;o(20,l.value=t,l)}}q({lang:r,sourceLength:n.length,targetLength:s.innerText.length}),o(5,m=!1),R(!0,c),B()}catch(e){switch(e.error){case x_:case S_:D(e.error),Y(Gt);break;default:U(e)}o(5,m=!1),R(!1),B()}},()=>{p===d?V(!0):JB({eventType:Ot,...u}),h=null,f=null,R(!1),M(),o(4,k=!1)},()=>{p===d?V(!1):JB({eventType:Nt,...u}),o(19,s.innerHTML=$n(h),s),l&&f&&o(20,l.value=f,l),M(),R(!1)},s,l,e=>{o(11,x=e.detail.selectedOption)},async e=>{o(12,S=e.detail.selectedOption.value)},()=>{a(!0),o(4,k=!k),o(3,C=!0)},()=>{a(!0)},()=>{a(!1),o(4,k=!1)}]}class CN extends t_{constructor(e){super(),e_(this,e,$N,TN,wh,{messageContainer:19,updateLockStatus:0,subjectInput:20},null,[-1,-1])}}class kN{static HTML_TAG_NAME="deepl-gmail-message-write-ui";static createElement=(e=document)=>{const t=e.createElement(kN.HTML_TAG_NAME),n=new kN(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowRoot.addEventListener("mouseup",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowRoot.addEventListener("mousedown",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=({container:e,subjectInput:t,updateLockStatus:n})=>{this.mainComponent=new CN({target:this.domElement.shadowContainer,props:{messageContainer:e,updateLockStatus:n,subjectInput:t}})};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function LN(e){let t,n,o,r,i,s,a,l,c,d,u,p,m,g,h,f,_,v,y,w,b=e[3]&&MN(),E=null!=e[5]&&IN(e);return c=new Rb({props:{disabled:e[0],websiteSettings:wb,value:e[1].selectedTargetLanguage,extraPadding:!0}}),c.$on("selection",e[16]),p=new fv({props:{tooltip:chrome.i18n.getMessage("gmail_reading_translate_button"),multiline:!1,zIndex:3,isEnabled:e[8]<DN,$$slots:{default:[AN]},$$scope:{ctx:e}}}),h=new fv({props:{tooltip:chrome.i18n.getMessage("gmail_reading_view_original_button"),multiline:!1,zIndex:3,$$slots:{default:[RN]},$$scope:{ctx:e}}}),v=new fv({props:{tooltip:chrome.i18n.getMessage("gmail_reading_forward_button"),multiline:!1,zIndex:2,isEnabled:e[8]<DN,$$slots:{default:[ON]},$$scope:{ctx:e}}}),{c(){t=Wh("div"),n=Wh("div"),o=Wh("span"),r=Vh(),b&&b.c(),i=Vh(),s=Wh("div"),E&&E.c(),a=Vh(),l=Wh("div"),Xf(c.$$.fragment),d=Vh(),u=Wh("div"),Xf(p.$$.fragment),m=Vh(),g=Wh("div"),Xf(h.$$.fragment),f=Vh(),_=Wh("div"),Xf(v.$$.fragment),Jh(o,"class","deepl-logo svelte-1lme20r"),Jh(s,"class","language-selection-wrapper svelte-1lme20r"),Jh(l,"class","language-selection-wrapper svelte-1lme20r"),Jh(n,"class","left-side svelte-1lme20r"),Jh(_,"class","right-side svelte-1lme20r"),Jh(t,"class","dl-gmail-email-toolbar svelte-1lme20r"),Jh(t,"dir",eo()),Mf((()=>e[17].call(t))),sf(t,"smallMode",e[8]<DN)},m(x,S){Hh(x,t,S),Bh(t,n),Bh(n,o),Bh(n,r),b&&b.m(n,null),Bh(n,i),Bh(n,s),E&&E.m(s,null),Bh(n,a),Bh(n,l),Jf(c,l,null),Bh(n,d),Bh(n,u),Jf(p,u,null),Bh(n,m),Bh(n,g),Jf(h,g,null),Bh(t,f),Bh(t,_),Jf(v,_,null),y=function(e,t){"static"===getComputedStyle(e).position&&(e.style.position="relative");const n=Wh("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const o=rf();let r;return o?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",r=Zh(window,"message",(e=>{e.source===n.contentWindow&&t()}))):(n.src="about:blank",n.onload=()=>{r=Zh(n.contentWindow,"resize",t),t()}),Bh(e,n),()=>{(o||r&&n.contentWindow)&&r(),Fh(n)}}(t,e[17].bind(t)),w=!0},p(e,o){e[3]?b?8&o[0]&&jf(b,1):(b=MN(),b.c(),jf(b,1),b.m(n,i)):b&&(Hf(),Wf(b,1,1,(()=>{b=null})),Ff()),null!=e[5]?E?(E.p(e,o),32&o[0]&&jf(E,1)):(E=IN(e),E.c(),jf(E,1),E.m(s,null)):E&&(Hf(),Wf(E,1,1,(()=>{E=null})),Ff());const r={};1&o[0]&&(r.disabled=e[0]),2&o[0]&&(r.value=e[1].selectedTargetLanguage),c.$set(r);const a={};256&o[0]&&(a.isEnabled=e[8]<DN),1&o[0]|8&o[1]&&(a.$$scope={dirty:o,ctx:e}),p.$set(a);const l={};4&o[0]|8&o[1]&&(l.$$scope={dirty:o,ctx:e}),h.$set(l);const d={};256&o[0]&&(d.isEnabled=e[8]<DN),4&o[0]|8&o[1]&&(d.$$scope={dirty:o,ctx:e}),v.$set(d),(!w||256&o[0])&&sf(t,"smallMode",e[8]<DN)},i(e){w||(jf(b),jf(E),jf(c.$$.fragment,e),jf(p.$$.fragment,e),jf(h.$$.fragment,e),jf(v.$$.fragment,e),w=!0)},o(e){Wf(b),Wf(E),Wf(c.$$.fragment,e),Wf(p.$$.fragment,e),Wf(h.$$.fragment,e),Wf(v.$$.fragment,e),w=!1},d(e){e&&Fh(t),b&&b.d(),E&&E.d(),Qf(c),Qf(p),Qf(h),Qf(v),y()}}}function MN(e){let t,n;return t=new d$({props:{size:24,translator:!0}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function IN(e){let t,n;return t=new Rb({props:{disabled:e[0],value:e[5],websiteSettings:wb,customClass:"borderless",fontSize:"sm",extraPadding:!0}}),t.$on("selection",e[15]),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p(e,n){const o={};1&n[0]&&(o.disabled=e[0]),32&n[0]&&(o.value=e[5]),t.$set(o)},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function AN(e){let t,n,o,r,i,s;return{c(){t=Wh("button"),n=Wh("div"),n.innerHTML='<svg width="20px" height="20px" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path id="Icon" d="M1.5 3.16667H11.5M6.5 1.5V3.16667M7.37349 11.0833C6.10069 9.76482 5.06727 8.21371 4.34322 6.5M9.41667 14H15.25M8.16667 16.5L12.3333 8.16667L16.5 16.5M9.62594 3.16667C8.81922 7.97518 5.72474 12.0079 1.5 14.1075" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',o=Vh(),r=Wh("span"),r.textContent=`${chrome.i18n.getMessage("gmail_reading_translate_button")}`,Jh(n,"class","icon svelte-1lme20r"),Jh(r,"class","svelte-1lme20r"),Jh(t,"class","translate-button svelte-1lme20r"),t.disabled=e[0],Jh(t,"paddingx","none")},m(a,l){Hh(a,t,l),Bh(t,n),Bh(t,o),Bh(t,r),i||(s=Zh(t,"click",Xh(Kh(e[10]))),i=!0)},p(e,n){1&n[0]&&(t.disabled=e[0])},d(e){e&&Fh(t),i=!1,s()}}}function RN(e){let t,n,o,r,i,s;return{c(){t=Wh("button"),n=qh("svg"),o=qh("path"),Jh(o,"d","M7 16L3 12M3 12L7 8M3 12L21 12"),Jh(o,"stroke",r=e[2]?"#000":"#848F9B"),Jh(o,"stroke-width","1.5"),Jh(o,"stroke-linecap","round"),Jh(o,"stroke-linejoin","round"),Jh(n,"width","24"),Jh(n,"height","24"),Jh(n,"viewBox","0 0 24 24"),Jh(n,"fill","none"),Jh(n,"xmlns","http://www.w3.org/2000/svg"),Jh(n,"class","svelte-1lme20r"),Jh(t,"class","show-original-button svelte-1lme20r"),Jh(t,"paddingx","none"),sf(t,"enabled",e[2])},m(r,a){Hh(r,t,a),Bh(t,n),Bh(n,o),i||(s=Zh(t,"click",Xh(Kh(e[9]))),i=!0)},p(e,n){4&n[0]&&r!==(r=e[2]?"#000":"#848F9B")&&Jh(o,"stroke",r),4&n[0]&&sf(t,"enabled",e[2])},d(e){e&&Fh(t),i=!1,s()}}}function ON(e){let t,n,o,r,i,s,a,l,c;return{c(){t=Wh("button"),n=qh("svg"),o=qh("path"),i=Vh(),s=Wh("span"),s.textContent=`${chrome.i18n.getMessage("gmail_reading_forward_button")}`,Jh(o,"d","M17 8L21 12M21 12L17 16M21 12L3 12"),Jh(o,"stroke",r=e[2]?"#000":"#848F9B"),Jh(o,"stroke-width","1.5"),Jh(o,"stroke-linecap","round"),Jh(o,"stroke-linejoin","round"),Jh(n,"width","24"),Jh(n,"height","24"),Jh(n,"viewBox","0 0 24 24"),Jh(n,"fill","none"),Jh(n,"xmlns","http://www.w3.org/2000/svg"),Jh(n,"class","svelte-1lme20r"),Jh(s,"class","svelte-1lme20r"),t.disabled=a=!e[2],Jh(t,"class","forward-button svelte-1lme20r"),Jh(t,"paddingx","none")},m(r,a){Hh(r,t,a),Bh(t,n),Bh(n,o),Bh(t,i),Bh(t,s),l||(c=Zh(t,"click",e[11]),l=!0)},p(e,n){4&n[0]&&r!==(r=e[2]?"#000":"#848F9B")&&Jh(o,"stroke",r),4&n[0]&&a!==(a=!e[2])&&(t.disabled=a)},d(e){e&&Fh(t),l=!1,c()}}}function NN(e){let t,n,o=e[6]&&e[7]&&LN(e);return{c(){o&&o.c(),t=Yh()},m(e,r){o&&o.m(e,r),Hh(e,t,r),n=!0},p(e,n){e[6]&&e[7]?o?(o.p(e,n),192&n[0]&&jf(o,1)):(o=LN(e),o.c(),jf(o,1),o.m(t.parentNode,t)):o&&(Hf(),Wf(o,1,1,(()=>{o=null})),Ff())},i(e){n||(jf(o),n=!0)},o(e){Wf(o),n=!1},d(e){e&&Fh(t),o&&o.d(e)}}}const DN=900;function PN(e,n,o){let r,i,s,a,l,c,d,u,p;Eh(e,r_,(e=>o(1,r=e))),wf("text_direction",eo());let m,g,h,f,_,v=!1,y=!1,w=!1,b=!1,E=!1,{container:x}=n;_f((async()=>{L(),M(),await C(),o(4,m=r.selectedTargetLanguage),setTimeout((()=>{o(7,E=!0)}),200),window.addEventListener("popstate",$)})),vf((()=>{window.removeEventListener("popstate",$)}));const S=()=>{i.innerText=s.innerText,i.innerHTML=$n(s.innerHTML),d.innerText=c,o(13,y=!1)},T=e=>{d&&(e?d.classList.add("deepl-gmail-loading-skeleton"):d.classList.remove("deepl-gmail-loading-skeleton"))},$=()=>{document.querySelectorAll(hN.HTML_TAG_NAME).forEach((e=>{e.cleanupDOM,e.remove()}))},C=async()=>{if(!a)return;if(u=await Yn(a),o(6,f=Gn(u)),!f)return;const e=Kn(Vn(u));o(5,h=e)},k=async()=>{const e=`<a href="https://www.deepl.com/pro" target="_blank">${chrome.i18n.getMessage("gmail_forwarding_link")}</a>`;let t;const n=$n(i.innerHTML);if(v)t=n;else{t=`${n}<br>${`<p style="text-align: center;">${chrome.i18n.getMessage("gmail_forwarding_title")} ${e}</p>`}`}const r=(new DOMParser).parseFromString(t,"text/html"),s={html:t,text:j_(r.body)},a=document.querySelector("[contenteditable='true']");a.focus(),setTimeout((()=>{a.focus(),iv(a,s,!1),o(14,b=!1)}),500)},L=()=>{const e=Array.from(x.children).filter((e=>"div"===e.tagName.toLowerCase()));if(3!==e.length)return;const t=e[1];if(!t)return;const n=Array.from(t.children).filter((e=>"div"===e.tagName.toLowerCase()));if(!n||!n.length)return;const o=n[2];o&&(s=o.cloneNode(!0),i=o,a=o.innerText)},M=()=>{const e=document.querySelector("[data-thread-perm-id]");e&&(d=e,l=e.innerText,c=e.innerText)};return e.$$set=e=>{"container"in e&&o(12,x=e.container)},e.$$.update=()=>{24577&e.$$.dirty[0]&&o(2,p=y&&!w&&!b),2&e.$$.dirty[0]&&o(3,v=pn(r,$t.TRANSLATOR))},[w,r,p,v,m,h,f,E,_,S,async()=>{if(!i)return;const{domElements:e,strings:n,cloneContainer:r}=Jk(i),s=n.reduce(((e,t)=>e+t.length),0);if(!v&&s>iN)return t({action:"dlTrackGmailCharLimitReached",payload:{gmailActionType:PT(Wt)}}),g=hN.createElement(),g.createDOM({onCloseCharLimitPopup:$}),void document.body.appendChild(g);o(0,w=!0);const a=n.map((e=>({text:e}))),c=[{text:l}],u=tL(a.map((e=>e.text)));(e=>{if(!e)return;const{height:t}=e.getBoundingClientRect(),n=Math.floor(t/20),o=[];for(let e=0;e<n;e++)o.push(`<div style="width: ${r=35,i=99,Math.floor(Math.random()*(i-r+1))+r}%" class="deepl-gmail-loading-skeleton">line</div>`);var r,i;e.innerHTML=$n(o.join(""))})(i),T(!0);try{let[n,s]=await Promise.all([t({action:"dlRequestGmailReceivedEmailTranslation",payload:{targetLang:m,sourceLang:h,requests:u.simplifiedHtml.map((e=>({text:e}))),domainName:window.location.hostname}}),t({action:"dlRequestGmailReceivedEmailTranslation",payload:{targetLang:m,sourceLang:h,requests:c,domainName:window.location.hostname}})]);if(n=n.map((e=>({...e,text:nL(u.map,e.text),texts:e.texts.map((e=>nL(u.map,e)))}))),jx({strings:n[0]?.texts,domElements:e}),i.innerText=r.innerText,i.innerHTML=$n(r.innerHTML),T(!1),s[0]?.text){const e=s[0]?.text;l=e,d.innerText=e}o(0,w=!1),o(13,y=!0)}catch(e){(e=>{wb.update({error:e.message?e.message:e})})(e),o(0,w=!1),S()}},()=>{o(14,b=!0);if(!dD())return void o(14,b=!1);const e=uD();e?(e.scrollIntoView(),setTimeout((()=>{lD(e),cD("[contenteditable='true']",k)}),300)):o(14,b=!1)},x,y,b,e=>{o(5,h=e.detail.selectedOption.value)},e=>{o(4,m=e.detail.selectedOption.value)},function(){_=this.offsetWidth,o(8,_)}]}class BN extends t_{constructor(e){super(),e_(this,e,PN,NN,wh,{container:12},null,[-1,-1])}}class zN{static HTML_TAG_NAME="deepl-gmail-translate-email-toolbar";static createElement=(e=document)=>{const t=e.createElement(zN.HTML_TAG_NAME),n=new zN(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowRoot.addEventListener("mouseup",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowRoot.addEventListener("mousedown",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=({container:e})=>{this.mainComponent=new BN({target:this.domElement.shadowContainer,props:{container:e}})};cleanupDOM(){this.shadowContainer.remove(),this.mainComponent&&this.mainComponent.$destroy()}}function UN(e){let t;return{c(){t=Wh("div"),Jh(t,"class","dot svelte-o9amr0")},m(e,n){Hh(e,t,n)},d(e){e&&Fh(t)}}}function HN(e){let t,n,o,r,i,s,a,l,c,d,u,p,m=!e[0].wasGmailOnboardingShown&&FN();return c=new JI({props:{checked:e[0].isGmailEnabled}}),c.$on("change",e[6]),{c(){t=Wh("div"),n=Wh("div"),m&&m.c(),o=Vh(),r=Wh("div"),i=Wh("div"),s=Wh("div"),s.textContent=`${chrome.i18n.getMessage("gmail_onboarding_toggle")}`,a=Vh(),l=Wh("div"),Xf(c.$$.fragment),Jh(n,"class","svelte-o9amr0"),sf(n,"content",!e[0].wasGmailOnboardingShown),Jh(s,"class","switch-content svelte-o9amr0"),Jh(l,"class","switch"),Jh(i,"class","switch-container svelte-o9amr0"),sf(i,"topBorder",!e[0].wasGmailOnboardingShown),Jh(r,"class","footer"),Jh(t,"class","onboarding-popup svelte-o9amr0")},m(g,h){Hh(g,t,h),Bh(t,n),m&&m.m(n,null),Bh(t,o),Bh(t,r),Bh(r,i),Bh(i,s),Bh(i,a),Bh(i,l),Jf(c,l,null),d=!0,u||(p=[Mh(dv.call(null,t,{isShadow:!0,exceptions:["#dl-gmail-settings-icon"]})),Zh(t,"click_outside",e[7])],u=!0)},p(e,t){e[0].wasGmailOnboardingShown?m&&(Hf(),Wf(m,1,1,(()=>{m=null})),Ff()):m?(m.p(e,t),1&t&&jf(m,1)):(m=FN(),m.c(),jf(m,1),m.m(n,null)),(!d||1&t)&&sf(n,"content",!e[0].wasGmailOnboardingShown);const o={};1&t&&(o.checked=e[0].isGmailEnabled),c.$set(o),(!d||1&t)&&sf(i,"topBorder",!e[0].wasGmailOnboardingShown)},i(e){d||(jf(m),jf(c.$$.fragment,e),d=!0)},o(e){Wf(m),Wf(c.$$.fragment,e),d=!1},d(e){e&&Fh(t),m&&m.d(),Qf(c),u=!1,vh(p)}}}function FN(e){let t,n,o,r,i,s,a,l,c,d,u,p,m,g,h,f,_,v,y;return s=new Db({props:{width:"16px",height:"16px",padding:"3px 0 0 0"}}),u=new Db({props:{width:"16px",height:"16px",padding:"3px 0 0 0"}}),f=new Db({props:{width:"16px",height:"16px",padding:"3px 0 0 0"}}),{c(){t=Wh("div"),n=Wh("p"),n.textContent=`${chrome.i18n.getMessage("gmail_onboarding_title")}`,o=Vh(),r=Wh("div"),i=Wh("div"),Xf(s.$$.fragment),a=Vh(),l=Wh("div"),l.textContent=`${chrome.i18n.getMessage("gmail_onboarding_body_1")}`,c=Vh(),d=Wh("div"),Xf(u.$$.fragment),p=Vh(),m=Wh("div"),m.textContent=`${chrome.i18n.getMessage("gmail_onboarding_body_2")}`,g=Vh(),h=Wh("div"),Xf(f.$$.fragment),_=Vh(),v=Wh("div"),v.textContent=`${chrome.i18n.getMessage("gmail_onboarding_body_3")}`,Jh(n,"class","svelte-o9amr0"),Jh(t,"class","title svelte-o9amr0"),Jh(l,"class","copy-text svelte-o9amr0"),Jh(i,"class","copy svelte-o9amr0"),Jh(m,"class","copy-text svelte-o9amr0"),Jh(d,"class","copy svelte-o9amr0"),Jh(v,"class","copy-text svelte-o9amr0"),Jh(h,"class","copy svelte-o9amr0"),Jh(r,"class","body svelte-o9amr0")},m(e,w){Hh(e,t,w),Bh(t,n),Hh(e,o,w),Hh(e,r,w),Bh(r,i),Jf(s,i,null),Bh(i,a),Bh(i,l),Bh(r,c),Bh(r,d),Jf(u,d,null),Bh(d,p),Bh(d,m),Bh(r,g),Bh(r,h),Jf(f,h,null),Bh(h,_),Bh(h,v),y=!0},p:gh,i(e){y||(jf(s.$$.fragment,e),jf(u.$$.fragment,e),jf(f.$$.fragment,e),y=!0)},o(e){Wf(s.$$.fragment,e),Wf(u.$$.fragment,e),Wf(f.$$.fragment,e),y=!1},d(e){e&&(Fh(t),Fh(o),Fh(r)),Qf(s),Qf(u),Qf(f)}}}function jN(e){let t,n,o,r,i,s,a,l=e[2]&&UN(),c=e[1]&&HN(e);return{c(){t=Wh("div"),n=Wh("div"),o=Vh(),l&&l.c(),r=Vh(),c&&c.c(),Jh(n,"class","icon svelte-o9amr0"),Jh(n,"id","dl-gmail-settings-icon"),sf(n,"notification",e[2]),sf(n,"isOnboardingPopupOpen",e[1]),sf(n,"enabled",e[0].isGmailEnabled),Jh(t,"class","deepl-gmail-header-toolbar svelte-o9amr0"),Jh(t,"dir",eo())},m(d,u){Hh(d,t,u),Bh(t,n),Bh(t,o),l&&l.m(t,null),Bh(t,r),c&&c.m(t,null),i=!0,s||(a=Zh(n,"click",Xh(Kh(e[5]))),s=!0)},p(e,[o]){(!i||4&o)&&sf(n,"notification",e[2]),(!i||2&o)&&sf(n,"isOnboardingPopupOpen",e[1]),(!i||1&o)&&sf(n,"enabled",e[0].isGmailEnabled),e[2]?l||(l=UN(),l.c(),l.m(t,r)):l&&(l.d(1),l=null),e[1]?c?(c.p(e,o),2&o&&jf(c,1)):(c=HN(e),c.c(),jf(c,1),c.m(t,null)):c&&(Hf(),Wf(c,1,1,(()=>{c=null})),Ff())},i(e){i||(jf(c),i=!0)},o(e){Wf(c),i=!1},d(e){e&&Fh(t),l&&l.d(),c&&c.d(),s=!1,a()}}}function WN(e,n,o){let r;Eh(e,r_,(e=>o(0,r=e))),wf("text_direction",eo());let i=!1,s=!1;const a=async e=>{o(1,i=e),e||r.wasGmailOnboardingShown||await r_.set({wasGmailOnboardingShown:!0}),t({action:"dlTrackUILocationClicked",payload:we}),e&&t({action:"dlTrackOnboardingModalShown",payload:{nicheIntegration:ut.gmail}})},l=async e=>{await r_.set({isGmailEnabled:e}),t({action:"dlTrackCustomizationEnabledEvent",payload:{nicheIntegration:ut.gmail,uiLocation:ye,customizationEnabled:e}})};return e.$$.update=()=>{1&e.$$.dirty&&o(2,s=!r.wasGmailOnboardingShown)},[r,i,s,a,l,()=>{a(!i)},e=>l(e.detail.checked),()=>{a(!1)}]}class qN extends t_{constructor(e){super(),e_(this,e,WN,jN,wh,{})}}class GN{static HTML_TAG_NAME="deepl-gmail-header-toolbar";static createElement=(e=document)=>{const t=e.createElement(GN.HTML_TAG_NAME),n=new GN(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowRoot.addEventListener("mouseup",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowRoot.addEventListener("mousedown",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=()=>{this.domElement.mainComponent=new qN({target:this.domElement.shadowContainer})};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function VN(e){let t;return{c(){t=Wh("div"),Jh(t,"class","dl-gmail"),Jh(t,"dir",eo())},m(e,n){Hh(e,t,n)},p:gh,i:gh,o:gh,d(e){e&&Fh(t)}}}function YN(e,t,n){let o,r,i,s,a;Eh(e,r_,(e=>n(5,o=e))),wf("text_direction",eo());let l=!1;const c=()=>{p(),o.isGmailEnabled?d():u()},d=()=>{m(),g()},u=()=>{const e=[hN.HTML_TAG_NAME,zN.HTML_TAG_NAME,kN.HTML_TAG_NAME];QN(e)},p=()=>{const e="data-has-dl-icon",t=document.querySelector("header");if(!t||"banner"!==t.getAttribute("role")||t.hasAttribute(e))return;const n=t.querySelector("[role='search']");if(!n)return;const o=n.parentNode;if(!o)return;const r=GN.createElement();o.insertAdjacentElement("afterend",r),r.createDOM(),t.setAttribute(e,!0)},m=()=>{if(eD()){const e=tD();if(!e)return;e.forEach((e=>{const t=rD(e);if(!t||nD(e))return;const n=t.parentNode;if(!n)return;const o=zN.createElement();n.after(o),o.createDOM({container:e})}))}},g=()=>{const e=document.activeElement;if(!e)return;const t=e.hasAttribute("contenteditable"),n=oD(e),o=e.hasAttribute(rN),r=e!==s,i=!a&&(!t||n||r),c=t&&(!o||r)&&!n;!i||c||l?(l=!1,i&&f(),c&&(f(),h(e))):l=!0},h=e=>{const t=kN.createElement();i=t,s=e,e.setAttribute(rN,"true"),document.body.appendChild(t);const n=(e=>{const t=function(e){let t=e;for(;null!==t;){if("dialog"===t.getAttribute("role"))return t;t=t.parentElement}return null}(e);return t?t.querySelector('input[name="subjectbox"]'):null})(e);t.createDOM({container:e,subjectInput:n,updateLockStatus:_})},f=()=>{i&&i.cleanupDOM();const e=Array.from(document.querySelectorAll(kN.HTML_TAG_NAME));for(const t of e)t.remove();document.querySelectorAll(`[contenteditable][${rN}="true"]`).forEach((e=>e.removeAttribute(rN))),i=null},_=e=>{a=e},v=async e=>{if("dlChangeActiveTabStatus"===e.action)e.payload.isActive?y():w();return!0},y=()=>{r&&clearInterval(r),r=setInterval(c,800)},w=()=>{clearInterval(r)};return _f((()=>{y(),chrome.runtime.onMessage.addListener(v)})),vf((()=>{u(),r&&w(),chrome.runtime.onMessage.removeListener(v)})),[]}class ZN extends t_{constructor(e){super(),e_(this,e,YN,VN,wh,{})}}class KN{static HTML_TAG_NAME="deepl-gmail-controller";static createElement=(e=document)=>{const t=e.createElement(KN.HTML_TAG_NAME),n=new KN(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.showOnboarding=n.showOnboarding,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowRoot.addEventListener("mouseup",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowRoot.addEventListener("mousedown",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=()=>{this.domElement.mainComponent=new ZN({target:this.domElement.shadowContainer,props:{onClose:this.domElement.cleanupDOM,controller:this}})};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()};showOnboarding=()=>{this.domElement.mainComponent.showOnboarding()}}const{scope:XN}=jE(),JN=()=>document.querySelector(KN.HTML_TAG_NAME),QN=e=>{try{for(const t of e)if(t){const e=Array.from(document.getElementsByTagName(t));for(const t of e)t.cleanupDOM&&t.cleanupDOM(),t.remove()}}catch(e){Eo()&&console.error(e),l_(e,XN)}},eD=()=>document.querySelectorAll("[data-message-id]").length>0,tD=()=>document.querySelectorAll("[data-message-id]"),nD=e=>!!e&&!!e.querySelector(zN.HTML_TAG_NAME),oD=e=>{const{bottom:t,right:n}=e.getBoundingClientRect(),o=t-30,r=n-30;let i=!1;return document.querySelectorAll('[role="dialog"]').forEach((t=>{const n=(s=r,a=o,l=t.getBoundingClientRect(),s>=l.left&&s<=l.right&&a>=l.top&&a<=l.bottom);var s,a,l;const c=t.contains(e);n&&!c&&(i=!0)})),i},rD=e=>{if(e)return e.querySelector("table")},iD=e=>{const t=Zn(),n=t.filter((e=>void 0===e.regionalVariant)).map((e=>({value:e.value,label:`<strong>${e.value}</strong> - ${e.label}`,selectedOptionLabel:e.value}))),o=t.find((e=>"EN-GB"===e.value)),r=t.find((e=>"PT-PT"===e.value));return[...[...n,...[{...o,value:"EN",selectedOptionLabel:"EN",label:`<strong>EN</strong> - ${chrome.i18n.getMessage("supported_languages_EN")}`},{...r,value:"PT",selectedOptionLabel:"PT",label:`<strong>PT</strong> - ${chrome.i18n.getMessage("supported_languages_PT")}`}]].map((t=>e&&t.value===e.value?{...t,label:`${t.label} ${chrome.i18n.getMessage("gmail_language_detected")}`}:t))].sort(((e,t)=>e.value.localeCompare(t.value)))},sD=e=>{const t=e.getBoundingClientRect();return{x:t.left+t.width/2,y:t.top+t.height/2}},aD=(e,t)=>{const n=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0,clientX:e,clientY:t});document.elementFromPoint(e,t)?.dispatchEvent(n)},lD=e=>{const{x:t,y:n}=sD(e);aD(t,n)},cD=(e,t)=>{const n=document.body;new MutationObserver(((o,r)=>{for(const i of o)if("childList"===i.type&&n.querySelector(e)){r.disconnect(),t(n.querySelector(e));break}})).observe(n,{childList:!0,subtree:!0})},dD=()=>{const e=document.querySelectorAll("[data-message-id]");for(const t of e){const e=t.nextElementSibling;if(e&&"DIV"===e.tagName)return e}return null},uD=()=>{const e=document.querySelectorAll('span[role="link"]');let t;for(let n=0;n<e.length;n++){const o=e[n],r=o.previousElementSibling;if(r&&"SPAN"===r.tagName&&"link"===r.getAttribute("role")){const e=o.parentElement,n=e.querySelectorAll('span[role="link"]'),r=Array.from(e.children).filter((e=>e.matches("span")));2!==(2===n.length&&r.length)&&3!==(3===n.length&&r.length)||(t=o)}}return t};let pD,mD,gD,hD,fD,_D,vD,yD,wD,bD,ED,xD;const{scope:SD}=jE(),{deepl_inline_ui:TD}=z;function $D({websiteData:e,platformBehaviour:t=ut.default,textProcessingMode:n=pt.translate,onRemove:o=()=>{}}){try{let r;switch(CD(),xD=oN.createElement(),xD.platformBehaviour=t,xD.textProcessingMode=n,xD.style.zIndex=TD.z_index,document.documentElement.appendChild(xD),t){case ut.gdocs:r=In;break;case ut.default:default:r=Dx}xD.createDOM(r,(()=>CD(o)),e),wb.update({isReviewTranslateWriteWindowInjected:!0})}catch(e){Eo()&&console.error(e),l_(e,SD)}}function CD(e){try{xD&&(xD.cleanupDOM(),Array.from(document.getElementsByTagName(oN.HTML_TAG_NAME),(e=>e.remove())),wb.update({isReviewTranslateWriteWindowInjected:!1}),mD=void 0,e())}catch(e){Eo()&&console.error(e),l_(e,SD)}}function kD({websiteData:e,platformBehaviour:t=ut.default,textProcessingMode:n=pt.translate}){try{let o;switch(LD(),mD=Nk.createElement(),mD.platformBehaviour=t,mD.textProcessingMode=n,mD.style.zIndex=TD.z_index,document.documentElement.appendChild(mD),t){case ut.gdocs:o=In;break;case ut.default:default:o=Dx}mD.createDOM(o,LD,e),wb.update({isTranslationTooltipInjected:!0})}catch(e){Eo()&&console.error(e),l_(e,SD)}}function LD(){try{mD&&(mD.cleanupDOM(),Array.from(document.getElementsByTagName(Nk.HTML_TAG_NAME),(e=>e.remove())),wb.update({isTranslationTooltipInjected:!1}),mD=void 0)}catch(e){Eo()&&console.error(e),l_(e,SD)}}function MD(e=ut.default){try{if(gD)return;let t;switch(gD=D$.createElement(),gD.style.zIndex=TD.z_index,document.documentElement.appendChild(gD),e){case ut.gdocs:t="deepl-gdocs-icon";break;case ut.default:default:t=Yk.HTML_TAG_NAME}const n=function(e){if(!e)return;const t=e.getBoundingClientRect(),n=document.body.parentNode.getBoundingClientRect(),{top:o,left:r,right:i,bottom:s,height:a,width:l}=t;return{x:r-n.left,y:s-n.top,top:o,bottom:s,right:n.width-i,left:r+window.pageXOffset,width:l,height:a}}(document.querySelector(t).shadowRoot.querySelector('[data-qa="deepl-inline-translate-menu-icon"]'));gD.createDOM(n,ID),wb.update({isInlineTranslateSettingsTooltipInjected:!0}),uv((()=>{ID()}))}catch(e){Eo()&&console.error(e),l_(e,SD)}}function ID(){try{if(!gD)return;gD.cleanupDOM(),Array.from(document.getElementsByTagName("deepl-inline-translate-settings-tooltip"),(e=>e.remove())),wb.update({isInlineTranslateSettingsTooltipInjected:!1}),gD=void 0}catch(e){Eo()&&console.error(e),l_(e,SD)}}function AD(){try{if(document.querySelector(ZI.HTML_TAG_NAME))return;pD=ZI.createElement(),document.documentElement.appendChild(pD),pD.createDOM(),document.addEventListener("click",RD),uv((()=>{RD()}))}catch(e){Eo()&&console.error(e),l_(e,SD)}}function RD(){try{pD&&(pD.cleanupDOM(),Array.from(document.getElementsByTagName(ZI.HTML_TAG_NAME),(e=>e.remove())),pD=void 0,document.removeEventListener("click",RD))}catch(e){Eo()&&console.error(e),l_(e,SD)}}function OD(){try{if(document.querySelector(pA.HTML_TAG_NAME))return;yD=pA.createElement(),document.documentElement.appendChild(yD),yD.createDOM(),uv((()=>{DD()}))}catch(e){Eo()&&console.error(e),l_(e,SD)}}function ND(){try{if(document.querySelector(WA.HTML_TAG_NAME))return;wD=WA.createElement(),document.documentElement.appendChild(wD),wD.createDOM(),uv((()=>{PD()}))}catch(e){Eo()&&console.error(e),l_(e,SD)}}function DD(){try{yD&&(yD.cleanupDOM(),Array.from(document.getElementsByTagName(pA.HTML_TAG_NAME),(e=>e.remove())),yD=void 0,document.removeEventListener("click",DD))}catch(e){Eo()&&console.error(e),l_(e,SD)}}function PD(){try{wD&&(wD.cleanupDOM(),Array.from(document.getElementsByTagName(WA.HTML_TAG_NAME),(e=>e.remove())),wD=void 0,document.removeEventListener("click",PD))}catch(e){Eo()&&console.error(e),l_(e,SD)}}function BD(){try{if(GE())return;bD=VE(),document.documentElement.appendChild(bD),bD.createDOM(),uv((()=>{zD()}))}catch(e){Eo()&&console.error(e),l_(e,SD)}}function zD(){try{bD&&(bD.cleanupDOM(),Array.from(document.getElementsByTagName("deepl-zendesk-controller"),(e=>e.remove())),bD=void 0,document.removeEventListener("click",zD))}catch(e){Eo()&&console.error(e),l_(e,SD)}}function UD(){try{if(document.querySelector(tB.HTML_TAG_NAME))return;_D=tB.createElement(),document.body.appendChild(_D),_D.createDOM(),uv((()=>{jD()}))}catch(e){Eo()&&console.error(e),l_(e,SD)}}function HD(){try{if(JN())return;ED=KN.createElement(),document.documentElement.appendChild(ED),ED.createDOM(),uv((()=>{FD()}))}catch(e){Eo()&&console.error(e),l_(e,SD)}}function FD(){try{ED&&(ED.cleanupDOM(),Array.from(document.getElementsByTagName(KN.HTML_TAG_NAME),(e=>e.remove())),ED=void 0,document.removeEventListener("click",FD))}catch(e){Eo()&&console.error(e),l_(e,SD)}}function jD(){try{if(_D){_D.cleanupDOM();const e=Array.from(document.querySelectorAll(tB.HTML_TAG_NAME));for(const t of e)t.remove();_D=void 0,document.removeEventListener("click",jD)}}catch(e){Eo()&&console.error(e),l_(e,SD)}}async function WD(e){try{if(!hD)return;hD.cleanupDOM(),Array.from(document.getElementsByTagName("deepl-inline-trigger"),(e=>e.remove())),hD=void 0;if(!(await YT(["isInlineHighlighterShown"])).isInlineHighlighterShown&&!e.target.contains(hD)){try{t({action:"dltrackCloseInlineHighlighter",payload:{trigger:dt}})}catch(e){console.error(e)}r_.set({isInlineHighlighterShown:!0})}}catch(e){Eo()&&console.error(e),l_(e,SD)}}async function qD(){try{if(!fD)return;fD.cleanupDOM(),Array.from(document.getElementsByTagName("deepl-input-selection-trigger"),(e=>e.remove())),fD=void 0}catch(e){Eo()&&console.error(e),l_(e.message)}}function GD(e,t){WD();try{hD=Yk.createElement(),hD.style.zIndex=TD.z_index,document.documentElement.appendChild(hD),hD.createDOM(e,t),uv((()=>{WD()}))}catch(e){Eo()&&console.error(e),l_(e,SD)}}function VD(e,t){qD();try{if((()=>{const e=window.getSelection()?.toString();return e?.length})()>1500||(e=>{let t=e.value?.substring(e.selectionStart,e.selectionEnd);return t?.length})(e)>1500)return;fD=cM.createElement(),fD.style.zIndex=TD.z_index,document.documentElement.appendChild(fD),fD.createDOM(e,t),e.addEventListener("input",qD),uv((()=>{qD(),e.removeEventListener("input",qD)}))}catch(e){Eo()&&console.error(e),l_(e.message)}}function YD(e){const t=t=>{requestAnimationFrame((()=>{if(!t||!t.target)return;const n=window.getSelection();if(!n.toString().trim())return;if(2===t.button)return;const o="TEXTAREA"===t.target.tagName,r=e=>{if(!e)return!1;const t=e.childNodes;for(let e=0;e<t.length;e++)if(t[e].isContentEditable||"TEXTAREA"===t[e].tagName)return t[e];return!1};if(n.isCollapsed||n.anchorNode?.parentNode?.isContentEditable){if(n.anchorNode?.parentNode?.isContentEditable||o||r(n.anchorNode)){let e={clientX:t.clientX||0,pageY:t.pageY||0,detail:t?.detail||0,isOutsideOfView:XD(t)};if(n.anchorNode?.parentNode?.isContentEditable)VD(n.anchorNode.parentNode,e);else if(o)VD(t.target,e);else{VD(r(n.anchorNode),e)}}}else{const o=n.getRangeAt(0)?.commonAncestorContainer;if(!o.contains(t.target)&&!t.target.contains(o))return;let r={clientX:t.clientX||0,pageY:t.pageY||0,detail:t?.detail||0,isOutsideOfView:XD(t)};GD(e,r)}}))},n=()=>{const e=window.getSelection();e.isCollapsed||!e.toString().trim()?(WD(),qD()):t()},o=e=>{"Escape"===e.key&&qD()};document.addEventListener("mouseup",t),document.addEventListener("mousedown",WD),document.addEventListener("mousedown",qD),document.addEventListener("selectionchange",n),document.addEventListener("keydown",o),uv((()=>{document.removeEventListener("mouseup",t),document.removeEventListener("mousedown",WD),document.removeEventListener("mousedown",qD),document.removeEventListener("selectionchange",n),document.removeEventListener("keydown",o)}))}function ZD(e,t){try{vD=DM.createElement(),vD.style.zIndex=TD.z_index,document.documentElement.appendChild(vD),vD.createDOM(e,t),uv((()=>{vD.cleanupDOM()}))}catch(e){Eo()&&console.error(e),l_(e,SD)}}const KD=(e=at.initial)=>{const t=aR.createElement();document.documentElement.appendChild(t),t.createDOM({reviewStage:e}),uv((()=>{t.cleanupDOM()}))};function XD({clientX:e=0,pageY:t=0}={}){const n=window.innerWidth||document.documentElement.innerWidth,o=window.scrollHeight||document.documentElement.scrollHeight;return e<0||e>=n||(t<0||t>=o)}function JD(e){switch(e){case"web.whatsapp.com":RS();break;case"twitter.com":case"tweetdeck.twitter.com":case"x.com":XS();break;case"www.linkedin.com":!function(){let e=new MutationObserver((()=>{hT()}));e.observe(document.body,{attributes:!0,childList:!0,subtree:!0}),uv((()=>e.disconnect()))}();break;case"www.youtube.com":AT()}}async function QD(e){const t=e.split("."),n=t.filter(((e,n)=>n===t.length-1||n===t.length-2)).join(".");"deepl.com"===n&&(document.body.dataset.dlBrowserExtensionPresent="true")}async function eP(e){const t=await YT(["shouldDisplayFeedbackPopup"]);if("https://deepl.typeform.com/to/MkMfP2Y6"===e)t.shouldDisplayFeedbackPopup&&(r_.set({shouldDisplayFeedbackPopup:!1}),KD(at.feedback))}function tP(e,t){if("web.whatsapp.com"===t){const t=document.documentElement.querySelector("#side");return!t||!t.contains(e)}return!0}function nP(e,t){if("web.whatsapp.com"===t){const t=document.documentElement.querySelector("#side");if(t&&t.contains(e))return!1}return!0}const oP=()=>{const e=new URL(window.location.href);return"https:"===e.protocol&&"chatgpt.com"===e.hostname},rP=[];window.onerror=function(e){/ResizeObserver/gm.test(e)&&rP.forEach((e=>e.resize.disconnect()))};const{scope:iP}=jE();const sP=e=>"true"===e.contentEditable||"TEXTAREA"===e.nodeName&&(e.rows>1||oP());const aP=({inputArea:e})=>{const t=uP(e);return{position:"absolute",top:t.top,left:t.left,right:t.right,width:t.width,height:t.height,isLanguageToolsPresent:!!document.querySelector("lt-toolbar"),isGrammarlyPresent:!!document.querySelector("grammarly-extension"),isChatGPTPresent:oP()}},lP=({inputArea:e})=>{const t=[];if(e)for(let n=e.parentElement;null!==n;n=n.parentElement)cP(n)&&t.push(n);return t},cP=e=>{const t=window.getComputedStyle(e),n=t.getPropertyValue("overflow-y"),o=t.getPropertyValue("overflow-x"),r=["hidden","scroll","auto"];return r.includes(n)||r.includes(o)},dP=(e,t)=>{let n={left:Math.max(e.left,t.left),right:Math.min(e.right,t.right),top:Math.max(e.top,t.top),bottom:Math.min(e.bottom,t.bottom)};return n.left>=n.right||n.top>=n.bottom?null:n},uP=e=>{let t=e.getBoundingClientRect(),n={left:t.left,right:t.right,bottom:t.bottom,top:t.top};const o={top:0,left:0,right:0,bottom:0,width:0,height:0},r={top:0,left:0,right:window.innerWidth,bottom:window.innerHeight};for(let t=e.parentElement;null!==t&&t!==e.ownerDocument.body;t=t.parentElement){let e=t.getBoundingClientRect();const r=dP(n,e);if(r)n=r;else if(cP(t))return o}return n=dP(n,r),n?{top:n.top,bottom:n.bottom,left:n.left,right:n.right,width:n.right-n.left,height:n.bottom-n.top}:o},pP=[{domain:"zendesk.com",selectors:['div[data-test-id="ticket-rich-text-editor"] [contenteditable="true"]'],uniqueDataAttributes:[{key:"testId",value:"ticket-rich-text-editor"}]}];const mP="GENERAL_SETTINGS",gP="INPUT_SETTINGS";function hP(e){let t;return{c(){t=Wh("span"),Jh(t,"class","svelte-xa2hux")},m(e,n){Hh(e,t,n)},p:gh,d(e){e&&Fh(t)}}}function fP(e){let t;return{c(){t=Wh("span"),Jh(t,"class","svelte-xa2hux")},m(e,n){Hh(e,t,n)},p:gh,d(e){e&&Fh(t)}}}function _P(e){let t;return{c(){t=Wh("span"),Jh(t,"class","svelte-xa2hux")},m(e,n){Hh(e,t,n)},p:gh,d(e){e&&Fh(t)}}}function vP(e){let t;return{c(){t=Wh("span"),Jh(t,"class","svelte-xa2hux")},m(e,n){Hh(e,t,n)},p:gh,d(e){e&&Fh(t)}}}function yP(e){let t,n,o,r,i,s,a,l,c,d,u,p,m,g,h,f,_,v,y;return o=new fv({props:{tooltip:chrome.i18n.getMessage("input_translation_tooltip_turnoff"),parentIsRTL:e[1],ignoreTextDirection:!0,$$slots:{default:[hP]},$$scope:{ctx:e}}}),s=new fv({props:{tooltip:e[8],showProShield:pn(e[2],$t.WRITE),parentIsRTL:e[1],ignoreTextDirection:!0,$$slots:{default:[fP]},$$scope:{ctx:e}}}),u=new fv({props:{tooltip:chrome.i18n.getMessage("input_translation_tooltip_select_target_lang"),parentIsRTL:e[1],ignoreTextDirection:!0,$$slots:{default:[_P]},$$scope:{ctx:e}}}),g=new fv({props:{showProShield:pn(e[2],$t.TRANSLATOR),tooltip:e[6],parentIsRTL:e[1],ignoreTextDirection:!0,$$slots:{default:[vP]},$$scope:{ctx:e}}}),{c(){t=Wh("div"),n=Wh("div"),Xf(o.$$.fragment),r=Vh(),i=Wh("div"),Xf(s.$$.fragment),a=Vh(),l=Wh("div"),c=Vh(),d=Wh("div"),Xf(u.$$.fragment),p=Vh(),m=Wh("div"),Xf(g.$$.fragment),h=Vh(),f=Wh("div"),Jh(n,"class","dl-icon-circle dl-on-off svelte-xa2hux"),Jh(i,"class","dl-icon-circle dl-improve svelte-xa2hux"),sf(i,"disabled",!e[7]),Jh(l,"class","spacer svelte-xa2hux"),Jh(d,"class","dl-icon-circle dl-settings svelte-xa2hux"),Jh(m,"class","dl-icon-circle dl-icon svelte-xa2hux"),Jh(m,"data-qa","input-translation-icon"),Jh(f,"class","dl-icon-circle dl-loading svelte-xa2hux"),Jh(t,"class","dl-input-icon svelte-xa2hux"),sf(t,"is-input-translation-disabled",e[9]),sf(t,"is-loading",e[5]),sf(t,"is-minimized",e[4])},m(w,b){Hh(w,t,b),Bh(t,n),Jf(o,n,null),Bh(t,r),Bh(t,i),Jf(s,i,null),Bh(t,a),Bh(t,l),Bh(t,c),Bh(t,d),Jf(u,d,null),Bh(t,p),Bh(t,m),Jf(g,m,null),e[36](m),Bh(t,h),Bh(t,f),_=!0,v||(y=[Zh(n,"mousedown",Xh(Kh(e[28]))),Zh(n,"mouseenter",e[29]),Zh(n,"click",e[30]),Zh(i,"mousedown",Xh(Kh(e[27]))),Zh(i,"mouseenter",e[31]),Zh(i,"click",e[32]),Zh(d,"mousedown",Xh(Kh(e[26]))),Zh(d,"mouseenter",e[33]),Zh(d,"click",e[34]),Zh(m,"mousedown",Xh(Kh(e[25]))),Zh(m,"click",e[13]),Zh(m,"mouseenter",e[35])],v=!0)},p(e,n){const r={};2&n[0]&&(r.parentIsRTL=e[1]),2048&n[1]&&(r.$$scope={dirty:n,ctx:e}),o.$set(r);const a={};256&n[0]&&(a.tooltip=e[8]),4&n[0]&&(a.showProShield=pn(e[2],$t.WRITE)),2&n[0]&&(a.parentIsRTL=e[1]),2048&n[1]&&(a.$$scope={dirty:n,ctx:e}),s.$set(a),(!_||128&n[0])&&sf(i,"disabled",!e[7]);const l={};2&n[0]&&(l.parentIsRTL=e[1]),2048&n[1]&&(l.$$scope={dirty:n,ctx:e}),u.$set(l);const c={};4&n[0]&&(c.showProShield=pn(e[2],$t.TRANSLATOR)),64&n[0]&&(c.tooltip=e[6]),2&n[0]&&(c.parentIsRTL=e[1]),2048&n[1]&&(c.$$scope={dirty:n,ctx:e}),g.$set(c),(!_||512&n[0])&&sf(t,"is-input-translation-disabled",e[9]),(!_||32&n[0])&&sf(t,"is-loading",e[5]),(!_||16&n[0])&&sf(t,"is-minimized",e[4])},i(e){_||(jf(o.$$.fragment,e),jf(s.$$.fragment,e),jf(u.$$.fragment,e),jf(g.$$.fragment,e),_=!0)},o(e){Wf(o.$$.fragment,e),Wf(s.$$.fragment,e),Wf(u.$$.fragment,e),Wf(g.$$.fragment,e),_=!1},d(n){n&&Fh(t),Qf(o),Qf(s),Qf(u),Qf(g),e[36](null),v=!1,vh(y)}}}function wP(e,o,r){let i,s;const a=bf("deepl_settings");Eh(e,a,(e=>r(2,s=e)));let l,c,d,{inputArea:u}=o,{lockActiveElement:p}=o,{openSettings:m}=o,{closeSettings:g}=o,{hideOnboardingHighlighter:h}=o,{registerIconCallbacks:f}=o,{unregisterIconCallbacks:_}=o,{getActiveElement:y}=o,{setErrorMessage:w}=o,{isInputAreaRTL:b}=o,E=!1,x=!1,S="",T={},$=chrome.i18n.getMessage("input_translation_tooltip_improve_lang_not_supported");const C=()=>{k()},k=()=>{r(4,E=kx(u,l))};async function L(e){await a.set({targetLanguageUserInput:e.value,regionalVariant:e.regionalVariant}),I()}const M=async(e,n,o)=>{const i=y();switch(e.action){case"dlTriggerTranslationShortcut":if(w(void 0),i!==u)return;try{t({action:"dlTrackUseOfShortcut",payload:{shortcutType:Pe,location:J}})}catch(e){console.error(e)}if(s&&s.targetLanguageUserInput){r(5,x=!0);try{await aL(u)}catch(e){w(e)}r(5,x=!1)}else m({fromShortcut:!0});o();break;case"dlChangeLanguageShortcut":if(i!==u)return;r(5,x=!0);try{m({fromShortcut:!0})}catch(e){w(e)}r(5,x=!1),o()}return!0};async function I(e){if(w(void 0),h(),s.targetLanguageUserInput&&"undefined"!=s.targetLanguageUserInput||e?.isWriteRequest){g(),r(5,x=!0);try{await aL(u,e),c||n(U)}catch(e){w(e)}r(5,x=!1)}else m()}function A(e){t({action:"dlTrackIconHover",payload:{uiLocation:e,domainName:window.location.host}})}async function R(){let e;e=Tx(u)?u.value:u.innerText,r(24,T=await Yn(e,!0)),T.isReliable;try{e&&function(e){try{return e.replace(/[^\p{L}]/gu,"").length}catch(t){return e.replace(/[^a-zA-Z]/g,"").length}}(e)>0&&t({action:"dlTrackLanguageDetectionForTextProcessing",payload:{lang:T.langCode,isReliable:T.isReliable,trigger:v,textLength:e.length,domainName:window.location.hostname}})}catch(e){console.error(e)}}_f((()=>{chrome.runtime.onMessage.addListener(M),f({processRefreshCycle:C,languageChanged:L,triggerTranslation:I})})),vf((()=>{chrome.runtime.onMessage.removeListener(M),_()}));return e.$$set=e=>{"inputArea"in e&&r(15,u=e.inputArea),"lockActiveElement"in e&&r(16,p=e.lockActiveElement),"openSettings"in e&&r(0,m=e.openSettings),"closeSettings"in e&&r(17,g=e.closeSettings),"hideOnboardingHighlighter"in e&&r(18,h=e.hideOnboardingHighlighter),"registerIconCallbacks"in e&&r(19,f=e.registerIconCallbacks),"unregisterIconCallbacks"in e&&r(20,_=e.unregisterIconCallbacks),"getActiveElement"in e&&r(21,y=e.getActiveElement),"setErrorMessage"in e&&r(22,w=e.setErrorMessage),"isInputAreaRTL"in e&&r(1,b=e.isInputAreaRTL)},e.$$.update=()=>{if(16777220&e.$$.dirty[0]&&(gn(s,$t.WRITE)?r(8,$=chrome.i18n.getMessage("input_translation_tooltip_improve_disabled_by_admin")):Jn(T.langCode)?r(8,$=chrome.i18n.getMessage("input_translation_tooltip_improve_supported_lang")):r(8,$=chrome.i18n.getMessage("write_language_not_supported")),r(7,d=!T.langCode||Jn(T.langCode)&&!gn(s,$t.WRITE))),4&e.$$.dirty[0])if(s.targetLanguageUserInput&&"undefined"!=s.targetLanguageUserInput){let e;t({action:"dlCheckCommandShortcuts"}).then((t=>{e=t?t.filter((e=>e.name==Pe))[0].shortcut:"",e?(e=`(${e})`,c=!0):c=!1,r(6,S=`${chrome.i18n.getMessage("input_translation_tooltip_translate")} ${e}`)}))}else r(6,S=chrome.i18n.getMessage("input_translation_tooltip_translate_text"));4&e.$$.dirty[0]&&r(9,i=!s.enableInputTranslation||Ix(window.location.host,window.location.href)||s.blacklistDomainsForWriting.includes(window.location.host)||s.isGmailEnabled&&Sx())},[m,b,s,l,E,x,S,d,$,i,a,I,A,()=>{p(),s.targetLanguageUserInput?I():m()},R,u,p,g,h,f,_,y,w,L,T,function(t){Ef.call(this,e,t)},function(t){Ef.call(this,e,t)},function(t){Ef.call(this,e,t)},function(t){Ef.call(this,e,t)},()=>A(ee),()=>m({page:gP}),()=>{A(Q)},()=>{d&&I({isWriteRequest:!0})},()=>A(ee),()=>m({page:mP}),()=>{R(),A(J)},function(e){Sf[e?"unshift":"push"]((()=>{l=e,r(3,l)}))}]}class bP extends t_{constructor(e){super(),e_(this,e,wP,yP,wh,{inputArea:15,lockActiveElement:16,openSettings:0,closeSettings:17,hideOnboardingHighlighter:18,registerIconCallbacks:19,unregisterIconCallbacks:20,getActiveElement:21,setErrorMessage:22,isInputAreaRTL:1,onLanguageChanged:23},null,[-1,-1])}get onLanguageChanged(){return this.$$.ctx[23]}}function EP(e){let t,n,o,r,i,s,a,l,c,d,u,p,m,g,h,f;return{c(){t=Wh("div"),n=Wh("div"),o=Wh("div"),r=Wh("div"),i=Wh("div"),i.textContent=`${chrome.i18n.getMessage("input_translation_highlighter_tooltip_headline")}`,s=Vh(),a=Wh("div"),a.textContent=`${chrome.i18n.getMessage("input_translation_highlighter_tooltip_text")}`,l=Vh(),c=Wh("button"),Jh(i,"class","headline svelte-1vokldc"),Jh(r,"class","text-wrapper svelte-1vokldc"),Jh(o,"class","content svelte-1vokldc"),Jh(c,"class","close-icon svelte-1vokldc"),Jh(n,"class",d=kh(`body body__${e[0]}`)+" svelte-1vokldc"),Jh(t,"class",u="container container__"+e[0]+" svelte-1vokldc")},m(d,u){Hh(d,t,u),Bh(t,n),Bh(n,o),Bh(o,r),Bh(r,i),Bh(r,s),Bh(r,a),Bh(n,l),Bh(n,c),e[13](t),g=!0,h||(f=Zh(c,"click",e[12]),h=!0)},p(e,o){(!g||1&o&&d!==(d=kh(`body body__${e[0]}`)+" svelte-1vokldc"))&&Jh(n,"class",d),(!g||1&o&&u!==(u="container container__"+e[0]+" svelte-1vokldc"))&&Jh(t,"class",u)},i(e){g||(Mf((()=>{g&&(m&&m.end(1),p=Gf(t,N_,{x:100,duration:1e3}),p.start())})),g=!0)},o(e){p&&p.invalidate(),m=Vf(t,N_,{x:100,duration:1e3}),g=!1},d(n){n&&Fh(t),e[13](null),n&&m&&m.end(),h=!1,f()}}}function xP(e){let t,n,o=e[1]&&EP(e);return{c(){o&&o.c(),t=Yh()},m(e,r){o&&o.m(e,r),Hh(e,t,r),n=!0},p(e,[n]){e[1]?o?(o.p(e,n),2&n&&jf(o,1)):(o=EP(e),o.c(),jf(o,1),o.m(t.parentNode,t)):o&&(Hf(),Wf(o,1,1,(()=>{o=null})),Ff())},i(e){n||(jf(o),n=!0)},o(e){Wf(o),n=!1},d(e){e&&Fh(t),o&&o.d(e)}}}function SP(n,o,r){let i,s,{onClose:a}=o,{icon:l}=o,{position:c="top"}=o,{registerHighlighterCallbacks:d}=o,{unregisterHighlighterCallbacks:u}=o,{textDirection:p}=o,m={top:0,bottom:0,left:0,right:0},g={height:0,width:0},h=190,f=305;const _=()=>{if(l){const e=l.getBoundingClientRect();let t={};for(const n of["top","bottom","left","right"])e[n]!==m[n]&&(t[n]=e[n]);Object.keys(t).length&&r(8,m={...m,...t});let n={};window.innerHeight!==g.height&&(n.height=window.innerHeight),window.innerWidth!==g.width&&(n.width=window.innerWidth),Object.keys(n).length&&r(9,g={...g,...n})}else r(8,m={top:0,bottom:0,left:0,right:0})};function v(){a(lt)}_f((async()=>{d({recalculateHighlighterCoords:_});try{t({action:"dltrackOpenInputHighlighter",payload:{domainName:e.websiteData.hostname}}),_()}catch(e){console.error(e)}s=_v(i,(({clientHeight:e,clientWidth:t})=>{r(10,h=e),r(11,f=t)}))})),vf((()=>{u(),s&&s()}));return n.$$set=e=>{"onClose"in e&&r(4,a=e.onClose),"icon"in e&&r(1,l=e.icon),"position"in e&&r(0,c=e.position),"registerHighlighterCallbacks"in e&&r(5,d=e.registerHighlighterCallbacks),"unregisterHighlighterCallbacks"in e&&r(6,u=e.unregisterHighlighterCallbacks),"textDirection"in e&&r(7,p=e.textDirection)},n.$$.update=()=>{3840&n.$$.dirty&&r(0,c=(({iconCoordinates:e,viewportSize:t,highlighterHeight:n,highlighterWidth:o})=>{if(!l)return"top";const r={top:e.top>n,bottom:t.height-e.bottom>n,right:t.width-e.right>o,left:e.left>o};for(const[e,t]of Object.entries(r))if(t)return e;return"top"})({iconCoordinates:m,viewportSize:g,highlighterHeight:h,highlighterWidth:f}))},[c,l,i,v,a,d,u,p,m,g,h,f,()=>v(),function(e){Sf[e?"unshift":"push"]((()=>{i=e,r(2,i)}))}]}class TP extends t_{constructor(e){super(),e_(this,e,SP,xP,wh,{onClose:4,icon:1,position:0,registerHighlighterCallbacks:5,unregisterHighlighterCallbacks:6,textDirection:7})}}function $P(e){let t,n,o,r,i;return r=new Rb({props:{value:e[2].targetLanguageUserInput,showChooseLanguageOption:!0,fontSize:"sm"}}),r.$on("selection",e[5]),{c(){t=Wh("p"),n=Gh(e[0]),o=Vh(),Xf(r.$$.fragment),Jh(t,"class","font-bold svelte-1bwyi2r")},m(e,s){Hh(e,t,s),Bh(t,n),Hh(e,o,s),Jf(r,e,s),i=!0},p(e,t){(!i||1&t)&&Qh(n,e[0]);const o={};4&t&&(o.value=e[2].targetLanguageUserInput),r.$set(o)},i(e){i||(jf(r.$$.fragment,e),i=!0)},o(e){Wf(r.$$.fragment,e),i=!1},d(e){e&&(Fh(t),Fh(o)),Qf(r,e)}}}function CP(e){let t,n,o=(e[2].enableInputTranslation||e[1])&&$P(e);return{c(){t=Wh("div"),o&&o.c()},m(e,r){Hh(e,t,r),o&&o.m(t,null),n=!0},p(e,[n]){e[2].enableInputTranslation||e[1]?o?(o.p(e,n),6&n&&jf(o,1)):(o=$P(e),o.c(),jf(o,1),o.m(t,null)):o&&(Hf(),Wf(o,1,1,(()=>{o=null})),Ff())},i(e){n||(jf(o),n=!0)},o(e){Wf(o),n=!1},d(e){e&&Fh(t),o&&o.d()}}}function kP(e,t,n){let o;const r=bf("deepl_settings");Eh(e,r,(e=>n(2,o=e)));const i=yf();let{subHeaderText:s=chrome.i18n.getMessage("input_translation_settings_target_language")}=t,{fromShortcut:a}=t;function l(e){i("languageChanged",{lang:e})}return e.$$set=e=>{"subHeaderText"in e&&n(0,s=e.subHeaderText),"fromShortcut"in e&&n(1,a=e.fromShortcut)},[s,a,o,r,l,e=>l(e.detail.selectedOption)]}class LP extends t_{constructor(e){super(),e_(this,e,kP,CP,wh,{subHeaderText:0,fromShortcut:1})}}function MP(e){let t,n,o,r,i,s,a,l;const c=e[3].default,d=xh(c,e,e[2],null);return{c(){t=Wh("div"),n=Wh("div"),o=Wh("button"),r=Vh(),i=Wh("div"),d&&d.c(),Jh(o,"type","button"),Jh(o,"class","close-icon svelte-1l51lop"),Jh(n,"class","header svelte-1l51lop"),Jh(i,"class","content"),Jh(t,"class","container svelte-1l51lop")},m(c,u){Hh(c,t,u),Bh(t,n),Bh(n,o),Bh(t,r),Bh(t,i),d&&d.m(i,null),e[5](t),s=!0,a||(l=Zh(o,"click",e[4]),a=!0)},p(e,[t]){d&&d.p&&(!s||4&t)&&$h(d,c,e,e[2],s?Th(c,e[2],t,null):Ch(e[2]),null)},i(e){s||(jf(d,e),s=!0)},o(e){Wf(d,e),s=!1},d(n){n&&Fh(t),d&&d.d(n),e[5](null),a=!1,l()}}}function IP(e,t,n){let{$$slots:o={},$$scope:r}=t;const i=yf();let s,a,l,c;_f((()=>{c=_v(l,(e=>{e.offsetHeight=s,e.offsetWidth=a}))})),vf((()=>{c&&c()}));return e.$$set=e=>{"$$scope"in e&&n(2,r=e.$$scope)},i("resize",{offsetHeight:s,offsetWidth:a}),[l,i,r,o,()=>i("close"),function(e){Sf[e?"unshift":"push"]((()=>{l=e,n(0,l)}))}]}class AP extends t_{constructor(e){super(),e_(this,e,IP,MP,wh,{})}}function RP(e){let t,n,o,r,i,s,a,l,c,d,u,p,m,g,h,f,_,v=chrome.i18n.getMessage("input_translation_setting_button_ok")+"";return i=new M$({props:{name:"disable_input_translation",id:je,value:je,cssClassName:"radio--with-border",checked:e[5]===je,label:chrome.i18n.getMessage("input_translation_setting_radio_disable_per_site"),dataQa:"input-translation_hide-icon_disable-per-site"}}),i.$on("change",e[12]),a=new M$({props:{name:"disable_input_translation",id:We,value:We,cssClassName:"radio--with-border",checked:e[5]===We,label:chrome.i18n.getMessage("input_translation_setting_radio_disable_everywhere"),dataQa:"input-translation_hide-icon_disable-always"}}),a.$on("change",e[12]),{c(){t=Wh("div"),n=Wh("p"),n.textContent=`${chrome.i18n.getMessage("input_translation_setting_label_title_v2")}`,o=Vh(),r=Wh("div"),Xf(i.$$.fragment),s=Vh(),Xf(a.$$.fragment),l=Vh(),c=Wh("div"),d=Wh("span"),d.textContent=`${chrome.i18n.getMessage("input_translation_setting_link_cancel")}`,u=Vh(),p=Wh("button"),m=Gh(v),Jh(n,"class","font-bold svelte-1wmfpok"),Jh(r,"class","option-container svelte-1wmfpok"),Jh(d,"class","link svelte-1wmfpok"),Jh(p,"class",g=kh("btn btn-primary "+(e[5]?"":"disabled"))+" svelte-1wmfpok"),Jh(p,"data-qa","input-translation_hide-icon_accept"),Jh(c,"class","action-container svelte-1wmfpok"),Jh(t,"class","dl-widget svelte-1wmfpok"),Jh(t,"data-qa","dl-input-translate-turnoff-settings")},m(g,v){Hh(g,t,v),Bh(t,n),Bh(t,o),Bh(t,r),Jf(i,r,null),Bh(r,s),Jf(a,r,null),Bh(t,l),Bh(t,c),Bh(c,d),Bh(c,u),Bh(c,p),Bh(p,m),h=!0,f||(_=[Zh(d,"click",(function(){yh(e[1]===gP?e[8]:e[9])&&(e[1]===gP?e[8]:e[9]).apply(this,arguments)})),Zh(p,"click",e[11])],f=!0)},p(t,n){e=t;const o={};32&n[0]&&(o.checked=e[5]===je),i.$set(o);const r={};32&n[0]&&(r.checked=e[5]===We),a.$set(r),(!h||32&n[0]&&g!==(g=kh("btn btn-primary "+(e[5]?"":"disabled"))+" svelte-1wmfpok"))&&Jh(p,"class",g)},i(e){h||(jf(i.$$.fragment,e),jf(a.$$.fragment,e),h=!0)},o(e){Wf(i.$$.fragment,e),Wf(a.$$.fragment,e),h=!1},d(e){e&&Fh(t),Qf(i),Qf(a),f=!1,vh(_)}}}function OP(e){let t,n,o,r,i;n=new LP({props:{fromShortcut:e[2]}}),n.$on("languageChanged",e[22]);let s=e[6]&&e[6].targetLanguageUserInput&&NP(e);return{c(){t=Wh("div"),Xf(n.$$.fragment),o=Vh(),s&&s.c(),r=Yh(),Jh(t,"class","dl-widget svelte-1wmfpok")},m(e,a){Hh(e,t,a),Jf(n,t,null),Hh(e,o,a),s&&s.m(e,a),Hh(e,r,a),i=!0},p(e,t){const o={};4&t[0]&&(o.fromShortcut=e[2]),n.$set(o),e[6]&&e[6].targetLanguageUserInput?s?s.p(e,t):(s=NP(e),s.c(),s.m(r.parentNode,r)):s&&(s.d(1),s=null)},i(e){i||(jf(n.$$.fragment,e),i=!0)},o(e){Wf(n.$$.fragment,e),i=!1},d(e){e&&(Fh(t),Fh(o),Fh(r)),Qf(n),s&&s.d(e)}}}function NP(e){let t,n,o,r,i,s,a,l;return{c(){t=Wh("div"),n=Wh("div"),o=Wh("div"),r=Wh("span"),r.textContent=`${chrome.i18n.getMessage("input_translation_link_more_settings")}`,i=Vh(),s=Wh("span"),Jh(s,"class","icon icon-external-link svelte-1wmfpok"),Jh(o,"class","link link-settings svelte-1wmfpok"),Jh(o,"data-qa","dl-input-translate-open-settings-page"),Jh(n,"class","action-container svelte-1wmfpok"),Jh(t,"class","dl-widget svelte-1wmfpok")},m(c,d){Hh(c,t,d),Bh(t,n),Bh(n,o),Bh(o,r),Bh(o,i),Bh(o,s),a||(l=Zh(o,"click",e[10]),a=!0)},p:gh,d(e){e&&Fh(t),a=!1,l()}}}function DP(e){let t,n,o,r;const i=[OP,RP],s=[];function a(e,t){return e[3]===mP?0:e[3]===gP?1:-1}return~(t=a(e))&&(n=s[t]=i[t](e)),{c(){n&&n.c(),o=Yh()},m(e,n){~t&&s[t].m(e,n),Hh(e,o,n),r=!0},p(e,r){let l=t;t=a(e),t===l?~t&&s[t].p(e,r):(n&&(Hf(),Wf(s[l],1,1,(()=>{s[l]=null})),Ff()),~t?(n=s[t],n?n.p(e,r):(n=s[t]=i[t](e),n.c()),jf(n,1),n.m(o.parentNode,o)):n=null)},i(e){r||(jf(n),r=!0)},o(e){Wf(n),r=!1},d(e){e&&Fh(o),~t&&s[t].d(e)}}}function PP(e){let t,n,o,r;return n=new AP({props:{$$slots:{default:[DP]},$$scope:{ctx:e}}}),n.$on("close",e[23]),{c(){t=Wh("div"),Xf(n.$$.fragment),Jh(t,"class",o="settings-container settings-container__"+e[0]+" svelte-1wmfpok")},m(o,i){Hh(o,t,i),Jf(n,t,null),e[24](t),r=!0},p(e,i){const s={};110&i[0]|1&i[1]&&(s.$$scope={dirty:i,ctx:e}),n.$set(s),(!r||1&i[0]&&o!==(o="settings-container settings-container__"+e[0]+" svelte-1wmfpok"))&&Jh(t,"class",o)},i(e){r||(jf(n.$$.fragment,e),r=!0)},o(e){Wf(n.$$.fragment,e),r=!1},d(o){o&&Fh(t),Qf(n),e[24](null)}}}function BP(e,n,o){let r;const i=yf();let s=mP;const a=bf("deepl_settings");Eh(e,a,(e=>o(6,r=e)));let l,c,{startPage:d}=n,{fromShortcut:u=!1}=n,{icon:p}=n,{position:m="top"}=n,{registerSettingsCallbacks:g}=n,{unregisterSettingsCallbacks:h}=n,{closeSettings:f}=n,_={top:0,bottom:0,left:0,right:0},v={height:0,width:0},y=140,w=387,b="";const E=()=>{if(p){const e=p.getBoundingClientRect();let t={};for(const n of["top","bottom","left","right"])e[n]!==_[n]&&(t[n]=e[n]);Object.keys(t).length&&o(18,_={..._,...t});let n={};window.innerHeight!==v.height&&(n.height=window.innerHeight),window.innerWidth!==v.width&&(n.width=window.innerWidth),Object.keys(n).length&&o(19,v={...v,...n})}else o(18,_={top:0,bottom:0,left:0,right:0})};return _f((()=>{E(),g({recalculateSettingsCoords:E}),c=_v(l,(({clientHeight:e,clientWidth:t})=>{o(20,y=e),o(21,w=t)}))})),vf((()=>{h(),c&&c()})),e.$$set=e=>{"startPage"in e&&o(1,d=e.startPage),"fromShortcut"in e&&o(2,u=e.fromShortcut),"icon"in e&&o(13,p=e.icon),"position"in e&&o(0,m=e.position),"registerSettingsCallbacks"in e&&o(14,g=e.registerSettingsCallbacks),"unregisterSettingsCallbacks"in e&&o(15,h=e.unregisterSettingsCallbacks),"closeSettings"in e&&o(16,f=e.closeSettings)},e.$$.update=()=>{3932160&e.$$.dirty[0]&&o(0,m=(({iconCoordinates:e,viewportSize:t,popupHeight:n,popupWidth:o})=>{if(!p)return"top";const r={top:e.top>n,bottom:t.height-e.bottom>n,right:t.width-e.right>o,left:e.left>o};for(const[e,t]of Object.entries(r))if(t)return e;return"top"})({iconCoordinates:_,viewportSize:v,popupHeight:y,popupWidth:w})),2&e.$$.dirty[0]&&d&&o(3,s=d)},[m,d,u,s,l,b,r,a,function(){i("close")},function(){o(5,b=""),o(3,s=mP)},function(){t({action:"dlOpenInternalPage",payload:{destination:nS.settings_writing}})},function(){if(!b)return;switch(b){case We:a.set({enableInputTranslation:!1}),t({action:"dlTrackSettingChanged",payload:{settingType:We,domainName:window.location.hostname,uiFunction:qe,uiLocation:te}}),f();break;case je:!function(){let e=r.blacklistDomainsForWriting;e&&!e.includes(window.location.hostname)&&(e.push(window.location.hostname),a.set({blacklistDomainsForWriting:e}),t({action:"dlTrackSettingChanged",payload:{settingType:je,domainName:window.location.hostname,uiFunction:qe,uiLocation:te}}));f()}()}let e=Rx(window.location.hostname,["www."]);t({action:"dlSendNotification",payload:{type:H,options:{theme:Y.green_theme,currentDomain:e,saveAction:b,settingsPageURL:nS.settings_writing}}})},function(e){o(5,b=e.currentTarget.value)},p,g,h,f,E,_,v,y,w,function(t){Ef.call(this,e,t)},function(t){Ef.call(this,e,t)},function(e){Sf[e?"unshift":"push"]((()=>{l=e,o(4,l)}))}]}class zP extends t_{constructor(e){super(),e_(this,e,BP,PP,wh,{startPage:1,fromShortcut:2,icon:13,position:0,registerSettingsCallbacks:14,unregisterSettingsCallbacks:15,closeSettings:16,recalculateSettingsCoords:17},null,[-1,-1])}get recalculateSettingsCoords(){return this.$$.ctx[17]}}function UP(e){let t,n,o,r,i,s;return n=new kw({props:{error:e[1],config:{small:!0},close:e[2]}}),{c(){t=Wh("div"),Xf(n.$$.fragment),Jh(t,"class",o="error-container error-container__"+e[0]+" svelte-16e3fjt")},m(o,a){Hh(o,t,a),Jf(n,t,null),e[12](t),r=!0,i||(s=[Mh(dv.call(null,t,{isShadow:!0})),Zh(t,"click_outside",e[13])],i=!0)},p(e,[i]){const s={};2&i&&(s.error=e[1]),4&i&&(s.close=e[2]),n.$set(s),(!r||1&i&&o!==(o="error-container error-container__"+e[0]+" svelte-16e3fjt"))&&Jh(t,"class",o)},i(e){r||(jf(n.$$.fragment,e),r=!0)},o(e){Wf(n.$$.fragment,e),r=!1},d(o){o&&Fh(t),Qf(n),e[12](null),i=!1,vh(s)}}}function HP(e,t,n){let o,r,{errorMessage:i}=t,{icon:s}=t,{position:a="top"}=t,{registerErrorCallbacks:l}=t,{unregisterErrorCallbacks:c}=t,{close:d}=t,u=140,p=387,m={top:0,bottom:0,left:0,right:0},g={height:0,width:0};const h=()=>{if(s){const e=s.getBoundingClientRect();let t={};for(const n of["top","bottom","left","right"])e[n]!==m[n]&&(t[n]=e[n]);Object.keys(t).length&&n(10,m={...m,...t});let o={};window.innerHeight!==g.height&&(o.height=window.innerHeight),window.innerWidth!==g.width&&(o.width=window.innerWidth),Object.keys(o).length&&n(11,g={...g,...o})}else n(10,m={top:0,bottom:0,left:0,right:0})};_f((()=>{h(),l({recalculateErrorCoords:h}),r=_v(o,(({clientHeight:e,clientWidth:t})=>{n(8,u=e),n(9,p=t)}))})),vf((()=>{c(),r&&r()}));return e.$$set=e=>{"errorMessage"in e&&n(1,i=e.errorMessage),"icon"in e&&n(4,s=e.icon),"position"in e&&n(0,a=e.position),"registerErrorCallbacks"in e&&n(5,l=e.registerErrorCallbacks),"unregisterErrorCallbacks"in e&&n(6,c=e.unregisterErrorCallbacks),"close"in e&&n(2,d=e.close)},e.$$.update=()=>{3840&e.$$.dirty&&n(0,a=(({iconCoordinates:e,viewportSize:t,highlighterHeight:n,highlighterWidth:o})=>{if(!s)return"top";const r={top:e.top>n,bottom:t.height-e.bottom>n,right:t.width-e.right>o,left:e.left>o};for(const[e,t]of Object.entries(r))if(t)return e;return"top"})({iconCoordinates:m,viewportSize:g,popupHeight:u,popupWidth:p}))},[a,i,d,o,s,l,c,h,u,p,m,g,function(e){Sf[e?"unshift":"push"]((()=>{o=e,n(3,o)}))},()=>d()]}class FP extends t_{constructor(e){super(),e_(this,e,HP,UP,wh,{errorMessage:1,icon:4,position:0,registerErrorCallbacks:5,unregisterErrorCallbacks:6,close:2,recalculateErrorCoords:7})}get recalculateErrorCoords(){return this.$$.ctx[7]}}function jP(e){let t,n,o;return{c(){t=Wh("div")},m(r,i){Hh(r,t,i),n||(o=[Zh(t,"click_outside",e[16]),Mh(dv.call(null,t,{isShadow:!0}))],n=!0)},p:gh,i:gh,o:gh,d(e){e&&Fh(t),n=!1,vh(o)}}}function WP(e){let t,n,o,r,i,s,a,l,c,d,u,p,m;o=new bP({props:{inputArea:e[1],lockActiveElement:e[17],openSettings:e[20],closeSettings:e[21],hideOnboardingHighlighter:e[18],registerIconCallbacks:e[22],unregisterIconCallbacks:e[23],getActiveElement:e[19],isInputAreaRTL:e[9],setErrorMessage:e[34]}});let g=e[3]&&qP(e),h=e[4]&&GP(e),f=e[7]&&VP(e);return{c(){t=Wh("div"),n=Wh("div"),Xf(o.$$.fragment),r=Vh(),g&&g.c(),i=Vh(),h&&h.c(),s=Vh(),f&&f.c(),Jh(n,"class","dl-input-placeholder svelte-d7i1bp"),sf(n,"disabled",e[12]),sf(n,"reduced-space",!e[13]),sf(n,"other-extension-present",e[11]),sf(n,"chat-gpt-present",e[0].isChatGPTPresent),Jh(t,"class","dl-input-positioner svelte-d7i1bp"),Jh(t,"dir",c=e[9]?"rtl":"ltr"),Jh(t,"style",d=[`top: ${e[0].top}px;`,`left: ${e[0].left}px;`,`height: ${e[0].height}px;`,`width: ${e[0].width}px;`,`position: ${e[0].position};`].join(" ")),sf(t,"debug-mode",ZP)},m(a,l){Hh(a,t,l),Bh(t,n),Jf(o,n,null),Bh(n,r),g&&g.m(n,null),Bh(n,i),h&&h.m(n,null),Bh(n,s),f&&f.m(n,null),e[38](n),u=!0,p||(m=[Mh(dv.call(null,n,{isShadow:!0})),Zh(n,"click_outside",e[37]),Zh(n,"click",e[17])],p=!0)},p(e,r){const a={};2&r[0]&&(a.inputArea=e[1]),512&r[0]&&(a.isInputAreaRTL=e[9]),128&r[0]&&(a.setErrorMessage=e[34]),o.$set(a),e[3]?g?(g.p(e,r),8&r[0]&&jf(g,1)):(g=qP(e),g.c(),jf(g,1),g.m(n,i)):g&&(Hf(),Wf(g,1,1,(()=>{g=null})),Ff()),e[4]?h?(h.p(e,r),16&r[0]&&jf(h,1)):(h=GP(e),h.c(),jf(h,1),h.m(n,s)):h&&(Hf(),Wf(h,1,1,(()=>{h=null})),Ff()),e[7]?f?(f.p(e,r),128&r[0]&&jf(f,1)):(f=VP(e),f.c(),jf(f,1),f.m(n,null)):f&&(Hf(),Wf(f,1,1,(()=>{f=null})),Ff()),(!u||4096&r[0])&&sf(n,"disabled",e[12]),(!u||8192&r[0])&&sf(n,"reduced-space",!e[13]),(!u||2048&r[0])&&sf(n,"other-extension-present",e[11]),(!u||1&r[0])&&sf(n,"chat-gpt-present",e[0].isChatGPTPresent),(!u||512&r[0]&&c!==(c=e[9]?"rtl":"ltr"))&&Jh(t,"dir",c),(!u||1&r[0]&&d!==(d=[`top: ${e[0].top}px;`,`left: ${e[0].left}px;`,`height: ${e[0].height}px;`,`width: ${e[0].width}px;`,`position: ${e[0].position};`].join(" ")))&&Jh(t,"style",d)},i(e){u||(jf(o.$$.fragment,e),jf(g),jf(h),jf(f),Mf((()=>{u&&(l&&l.end(1),a=Gf(n,O_,{duration:100}),a.start())})),u=!0)},o(e){Wf(o.$$.fragment,e),Wf(g),Wf(h),Wf(f),a&&a.invalidate(),l=Vf(n,O_,{duration:150}),u=!1},d(n){n&&Fh(t),Qf(o),g&&g.d(),h&&h.d(),f&&f.d(),e[38](null),n&&l&&l.end(),p=!1,vh(m)}}}function qP(e){let t,n,o,r;return n=new TP({props:{onClose:e[18],position:"top",registerHighlighterCallbacks:e[28],unregisterHighlighterCallbacks:e[29],icon:e[2]}}),{c(){t=Wh("div"),Xf(n.$$.fragment),Jh(t,"class","dl-onboarding-highlighter svelte-d7i1bp"),Jh(t,"dir",o=e[9]?"rtl":"ltr")},m(e,o){Hh(e,t,o),Jf(n,t,null),r=!0},p(e,i){const s={};4&i[0]&&(s.icon=e[2]),n.$set(s),(!r||512&i[0]&&o!==(o=e[9]?"rtl":"ltr"))&&Jh(t,"dir",o)},i(e){r||(jf(n.$$.fragment,e),r=!0)},o(e){Wf(n.$$.fragment,e),r=!1},d(e){e&&Fh(t),Qf(n)}}}function GP(e){let t,n;return t=new zP({props:{icon:e[2],startPage:e[5],fromShortcut:e[6],position:"top",registerSettingsCallbacks:e[24],unregisterSettingsCallbacks:e[25],closeSettings:e[21]}}),t.$on("languageChanged",e[35]),t.$on("close",e[21]),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p(e,n){const o={};4&n[0]&&(o.icon=e[2]),32&n[0]&&(o.startPage=e[5]),64&n[0]&&(o.fromShortcut=e[6]),t.$set(o)},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function VP(e){let t,n;return t=new FP({props:{errorMessage:e[7],icon:e[2],position:"top",registerErrorCallbacks:e[26],unregisterErrorCallbacks:e[27],close:e[36]}}),{c(){Xf(t.$$.fragment)},m(e,o){Jf(t,e,o),n=!0},p(e,n){const o={};128&n[0]&&(o.errorMessage=e[7]),4&n[0]&&(o.icon=e[2]),128&n[0]&&(o.close=e[36]),t.$set(o)},i(e){n||(jf(t.$$.fragment,e),n=!0)},o(e){Wf(t.$$.fragment,e),n=!1},d(e){Qf(t,e)}}}function YP(e){let t,n,o,r;const i=[WP,jP],s=[];function a(e,t){return e[10]&&e[0]&&e[14]?0:1}return t=a(e),n=s[t]=i[t](e),{c(){n.c(),o=Yh()},m(e,n){s[t].m(e,n),Hh(e,o,n),r=!0},p(e,r){let l=t;t=a(e),t===l?s[t].p(e,r):(Hf(),Wf(s[l],1,1,(()=>{s[l]=null})),Ff(),n=s[t],n?n.p(e,r):(n=s[t]=i[t](e),n.c()),jf(n,1),n.m(o.parentNode,o))},i(e){r||(jf(n),r=!0)},o(e){Wf(n),r=!1},d(e){e&&Fh(o),s[t].d(e)}}}const ZP=!1;function KP(n,o,r){let i,s,a,l,c;const d=bf("deepl_settings");Eh(n,d,(e=>r(33,c=e)));const u=20,p=40;let m,g,h,f,_,v,y,w,b,E,x=!1,S=!1,T=!1,$=!1,C=!1,{trackInputInjectionIfNecessary:k}=o,{registerPositionerCallbacks:L}=o,{unregisterPositionerCallbacks:M}=o,I=!1,A=[],R={top:0,left:0,height:0,width:0,position:"absolute",isLanguageToolsPresent:!1,isGrammarlyPresent:!1,isChatGPTPresent:oP()},O=!1;const N=()=>{r(1,m=document.activeElement);const e=function(e){const t=pP.find((({domain:t})=>{const n=t.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&");return new RegExp(n).test(e)}));return t||null}(window.location.href);if(e?.uniqueDataAttributes&&e.uniqueDataAttributes.length>0)for(let t of e.uniqueDataAttributes)if(m.dataset[t.key]===t.value)return;if(e?.selectors&&e.selectors.length>0)for(let t of e.selectors){const e=document.querySelector(t),n=Jx(e),o=Jx(m),r=n.toString()===o.toString();if(e===m||e.isSameNode(m)||r)return}A=lP({inputArea:m}),W(),k(),P()},D=()=>{x=!1},P=()=>{if(!c.isInputHighlighterShown&&!Sx()){Lh(d,c.isInputHighlighterShown=!0,c),r(3,S=!0);try{t({action:"dltrackOpenInputHighlighter",payload:{domainName:e.websiteData.hostname}})}catch(e){console.error(e)}}},B=(e=dt)=>{r(3,S=!1);try{t({action:"dltrackCloseInputHighlighter",payload:{event:e}})}catch(e){console.error(e)}},z=()=>{H(),O&&(r(9,I=to(m)),F(),E&&E(),S&&v&&v(),T&&y&&y(),w&&w())},U=(e=document.activeElement)=>{const t=e.contentDocument;return t&&t.activeElement?U(t.activeElement):e},H=()=>{const e=U(),t=O&&!x&&e!==m,n=!O&&e&&sP(e),o=m&&!m.isConnected;!t||n||C?(C=!1,(t||o)&&(B(),r(7,f=void 0),q(),A=[],r(1,m=void 0)),n&&N()):C=!0},F=()=>{r(0,R=aP({inputArea:m}))},j=()=>{F()},W=()=>{r(10,O=!0),F();for(const e of A)e.addEventListener("scroll",j);window.addEventListener("scroll",j)},q=()=>{r(10,O=!1);for(const e of A)e.removeEventListener("scroll",j);window.removeEventListener("scroll",j),Y()},G=()=>{_&&_()},V=({page:e,fromShortcut:n=!1}={})=>{r(5,h=e),r(6,$=n),T||(r(4,T=!0),t({action:"dlTrackInlineSettingOpened",payload:{uiFunction:qe,uiLocation:J}}))},Y=()=>{T&&r(4,T=!1)};_f((()=>{A=lP({inputArea:m}),L({processRefreshCycle:z,triggerTranslation:G,openSettings:V})})),vf((()=>{for(const e of A)e.removeEventListener("scroll",j);M()}));return n.$$set=e=>{"trackInputInjectionIfNecessary"in e&&r(30,k=e.trackInputInjectionIfNecessary),"registerPositionerCallbacks"in e&&r(31,L=e.registerPositionerCallbacks),"unregisterPositionerCallbacks"in e&&r(32,M=e.unregisterPositionerCallbacks)},n.$$.update=()=>{1&n.$$.dirty[0]&&r(14,i=R.height>=u),1&n.$$.dirty[0]&&r(13,s=R.height>=p),4&n.$$.dirty[1]&&r(12,a=!c.enableInputTranslation||Ix(window.location.host,window.location.href)||c.blacklistDomainsForWriting.includes(window.location.host)||c.isGmailEnabled&&Sx()),1&n.$$.dirty[0]&&r(11,l=R.isLanguageToolsPresent||R.isGrammarlyPresent)},[R,m,g,S,T,h,$,f,b,I,O,l,a,s,i,d,D,()=>{x=!0},B,U,V,Y,({processRefreshCycle:e,languageChanged:t,triggerTranslation:n})=>{E=e,r(8,b=t),_=n},()=>{E=void 0,r(8,b=void 0),_=void 0},({recalculateSettingsCoords:e})=>{y=e},()=>{y=void 0},({recalculateErrorCoords:e})=>{w=e},()=>{w=void 0},({recalculateHighlighterCoords:e})=>{v=e},()=>{v=void 0},k,L,M,c,e=>{r(7,f=e)},e=>b&&b(e.detail.lang),()=>{r(7,f=void 0)},()=>{D(),Y()},function(e){Sf[e?"unshift":"push"]((()=>{g=e,r(2,g)}))}]}class XP extends t_{constructor(e){super(),e_(this,e,KP,YP,wh,{trackInputInjectionIfNecessary:30,registerPositionerCallbacks:31,unregisterPositionerCallbacks:32},null,[-1,-1])}}function JP(e){let t,n,o;return n=new XP({props:{trackInputInjectionIfNecessary:e[0],registerPositionerCallbacks:e[1],unregisterPositionerCallbacks:e[2]}}),{c(){t=Wh("div"),Xf(n.$$.fragment),Jh(t,"class","dl-input-translation-container svelte-95aucy")},m(e,r){Hh(e,t,r),Jf(n,t,null),o=!0},p:gh,i(e){o||(jf(n.$$.fragment,e),o=!0)},o(e){Wf(n.$$.fragment,e),o=!1},d(e){e&&Fh(t),Qf(n)}}}function QP(e,n,o){let r,i,s,a;wf("deepl_settings",r_),wf("deepl_website_settings",wb),wf("text_direction",eo());let l=!0,c=!1;const d=()=>{r&&r()},u=async(e,t,n)=>{if("dlChangeActiveTabStatus"===e.action)o(5,l=e.payload.isActive),n();return!0},p=()=>{a&&clearInterval(a),a=setInterval(d,300)},m=()=>{clearInterval(a)};return _f((()=>{p(),chrome.runtime.onMessage.addListener(u)})),vf((()=>{a&&m(),chrome.runtime.onMessage.removeListener(u)})),e.$$.update=()=>{32&e.$$.dirty&&(l?p():m())},[()=>{c||(c=!0,t({action:"dlTrackInputTranslationInjection",payload:window.location.host}))},({processRefreshCycle:e,triggerTranslation:t,openSettings:n})=>{r=e,i=t,s=n},()=>{r=void 0,i=void 0,s=void 0},()=>{i&&i()},()=>{s&&s({fromShortcut:!1})},l]}class eB extends t_{constructor(e){super(),e_(this,e,QP,JP,wh,{triggerTranslation:3,openSettingsFromShortcut:4})}get triggerTranslation(){return this.$$.ctx[3]}get openSettingsFromShortcut(){return this.$$.ctx[4]}}class tB{static HTML_TAG_NAME="deepl-input-controller";static createElement=(e=document)=>{const t=e.createElement(tB.HTML_TAG_NAME),n=new tB(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.triggerTranslation=n.triggerTranslation,t.openSettingsFromShortcut=n.openSettingsFromShortcut,t};constructor(e){this.domElement=e,this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.shadowContainer.dir="ltr",this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css"));this.domElement.shadowContainer.style.cssText="visibility: initial !important;",this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer)}createDOM=()=>{this.domElement.mainComponent=new eB({target:this.domElement.shadowContainer,props:{onClose:this.domElement.cleanupDOM,controller:this.domElement}})};triggerTranslation=()=>{this.domElement.mainComponent.triggerTranslation()};openSettingsFromShortcut=()=>{this.domElement.mainComponent.openSettingsFromShortcut()};cleanupDOM(){this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}let nB,oB,rB,iB,sB,aB,lB,cB=0,dB=[];const uB=wb.subscribe((e=>{nB=e.translationState,e.translatedDOM&&(dB=e.translatedDOM.map((e=>e))),e.translationState!==sB&&(sB=e.translationState,nB===d.showOriginal&&mB())})),pB=r_.subscribe((e=>{if(0!==Object.keys(e).length){if(aB=e.isLoggedIn,lB=e.translatorServiceType,iB&&iB!==e.selectedTargetLanguage){const e=nB!==d.none;e&&mB(),wb.update({translatedDOM:[]}),dB=[],e&&wb.update({translationState:d.none})}iB=e.selectedTargetLanguage}}));function mB(){dB.forEach((e=>{EB(e.original,e.clone),wB(e.original,e.clone),gB(e.original,!1)})),rB&&(rB.disconnect(),rB=void 0),oB&&(document.removeEventListener("scroll",oB),oB=void 0),nB=d.none}function gB(e,t){if("#text"!=e.nodeName&&"#comment"!=e.nodeName&&e.dataset){e.dataset.dlTranslated=t;for(var n=0;n<e.childNodes.length;++n)gB(e.childNodes[n],t)}}async function hB(e,n,o){try{const r=e.contentDocument||e.contentWindow.document;if(!e||!function(e){return!!e.contentDocument&&TB(e,.3)}(e))return;const i=[];if($B(i,r.documentElement),0===i.length)return;await CB(i,n.sourceLang,n.noTranslationLanguages,n.trigger,o,window.location.hostname),e.translatedDOM=[...e.translatedDOM||[],...i];try{t({action:"dlTrackIframeTranslationSuccessful"})}catch(e){console.error(e)}}catch(e){console.error("error",e),t({action:"dlTrackIframeTranslationFailed",payload:{errorCode:e.name,errorMessage:e.message}})}}function fB(e){if(void 0!==e.dataset){void 0===e.dataset.dlUid&&(e.dataset.dlUid=cB++),void 0===e.dataset.dlOriginal&&(e.dataset.dlOriginal=!0);for(var t=0;t<e.childNodes.length;++t)fB(e.childNodes[t])}}function _B(e){if(function(e){if(!e||!e.attributes)return!1;const t=e.attributes,n=t instanceof NamedNodeMap,o=t.constructor===NamedNodeMap,r=Object.getPrototypeOf(t)===NamedNodeMap.prototype;return n&&o&&r}(e)){if(void 0!==e.attributes){var t=null;for(void 0!==e.dataset&&void 0!==e.dataset.dlUid&&(t=e.dataset.dlUid);e.attributes.length>0;)e.removeAttribute(e.attributes[0].name);null!==t&&(e.dataset.dlUid=t)}for(var n=0;n<e.childNodes.length;++n)_B(e.childNodes[n])}}function vB(e,t){fB(t);var n=t.cloneNode(!0);_B(n),e.push({original:t,clone:n}),gB(t,!0)}function yB(e,t){if(void 0===t.dataset)return null;if(e.dataset&&e.dataset.dlUid&&t.dataset.dlUid&&e.dataset.dlUid===t.dataset.dlUid)return e;for(var n=0;n<e.childNodes.length;++n){var o=yB(e.childNodes[n],t);if(null!==o)return o}return null}function wB(e,t){for(var n=[];e.childNodes.length>0;)n.push(e.removeChild(e.childNodes[0]));for(;t.childNodes.length>0;)e.appendChild(t.childNodes[0]);for(var o=0;o<n.length;++o)t.appendChild(n[o])}function bB(e,t){if(null!==e.parentNode&&null!==t.parentNode){var n=document.createElement("div");e.parentNode.replaceChild(n,e),t.parentNode.replaceChild(e,t),n.parentNode.replaceChild(t,n),wB(e,t)}}function EB(e,t){for(var n=0;n<t.childNodes.length;++n){var o,r=t.childNodes[n],i=yB(e,r);if(i)bB(o=i.dataset&&"true"===i.dataset.dlOriginal?i:i.cloneNode(!1),r),EB(e,o);else EB(e,r)}}function xB(t,n=!0){if("#text"==t.nodeName||"#comment"==t.nodeName)return!1;if(!nP(t,e.websiteData.hostname))return!1;if(t.isContentEditable&&n)return!1;if(function(e){switch(e.tagName.toLowerCase()){case"input":return"submit"!==e.getAttribute("type");case"textarea":return!0;default:return!1}}(t))return!1;if(Xx(t))return!1;for(var o=0;o<t.childNodes.length;++o){if("#text"==(r=t.childNodes[o]).nodeName&&""!=r.wholeText.trim()||"font"==r.nodeName)return!0}for(o=0;o<t.childNodes.length;++o){var r;if("#text"!=(r=t.childNodes[o]).nodeName&&"#comment"!=r.nodeName&&(!Kx(r)||Xx(r)||"inline"!=window.getComputedStyle(r).display||Fx(t)))return!1}return void 0!==t.innerText&&""!=t.innerText.trim()}function SB(e){if(void 0!==e.dataset&&(void 0===e.dataset.dlTranslated||"false"===e.dataset.dlTranslated))return!1;for(var t=0;t<e.childNodes.length;++t){var n=e.childNodes[t];if("#text"!=n.nodeName&&"#comment"!=n.nodeName&&!SB(n))return!1}return!0}function TB(e,t){var n=e.getBoundingClientRect(),o=window.innerWidth||document.documentElement.clientWidth,r=window.innerHeight||document.documentElement.clientHeight;if(n.bottom<0-r*t||n.right<0-o*t)return!1;if(n.top>r*(1+t))return!1;if(n.left>o*(1+t))return!1;var i=window.getComputedStyle(e).position;return"absolute"===i||"fixed"===i||null!==e.offsetParent}function $B(e,t){if("#text"!=t.nodeName&&"#comment"!=t.nodeName&&!function(e){if("no"==e.getAttribute("translate"))return!0;var t=e.className;return!(null==t||null==t.split||!t.split(" ").includes("notranslate"))}(t))if(xB(t))TB(t,.3)&&!SB(t)&&vB(e,t);else for(var n=0;n<t.childNodes.length;++n)$B(e,t.childNodes[n])}async function CB(e,n,o,r,i,s){if(e.length>0)return t({action:"dlRequestHtmlTranslation",payload:{sourceLang:n,trigger:r,texts:e.map((e=>$n(e.clone.innerHTML))),isFirstTime:i,domainName:s}}).then((t=>{for(var n=0;n<e.length;++n)e[n].clone.innerHTML=$n(t[n]),EB(e[n].original,e[n].clone),wB(e[n].original,e[n].clone),gB(e[n].original,!0)}))}async function kB(e,t){if(!pn({isLoggedIn:aB,translatorServiceType:lB},$t.TRANSLATOR))return;const n=[];try{$B(n,document.documentElement);try{document.querySelectorAll("iframe").forEach((n=>hB(n,e,t)))}catch(e){console.error}if(0===n.length)return;wb.update({translationState:d.ongoingTranslation}),await CB(n,e.sourceLang,e.noTranslationLanguages,e.trigger,t,window.location.hostname)}catch(e){console.error("error",e);for(var o=0;o<n.length;++o)gB(n[o].original,!1);return wb.update({translationState:d.none,error:e.name?e.name:e}),rB&&rB.disconnect,void(oB&&document.removeEventListener("scroll",oB))}wb.update({translationState:d.isTranslationComplete}),n.length>0&&wb.update({translatedDOM:[...dB,...n]})}async function LB(e){rB&&(rB.disconnect(),rB=void 0),oB&&(document.removeEventListener("scroll",oB),oB=void 0);let t,n,o=!1;dB.length>0?(wb.update({translationState:d.ongoingTranslation}),mB(),dB.forEach((e=>{wB(e.original,e.clone),wB(e.original,e.clone),gB(e.original,!0)})),wb.update({translationState:d.isTranslationComplete})):o=!0,await kB(e,o),oB=async()=>{n=!0,window.clearTimeout(t),t=setTimeout((function(){nB===d.isTranslationComplete&&window.requestAnimationFrame((async()=>{await kB(e,!1),n=!1}))}),100)},document.addEventListener("scroll",oB),rB=new MutationObserver((t=>{if(n)return;if(nB!==d.isTranslationComplete)return;t.filter((e=>e.addedNodes&&e.addedNodes.length>0)).length>0&&window.requestAnimationFrame((async()=>{await kB(e,!1)}))})),rB.observe(document.body,{childList:!0,subtree:!0}),uv((()=>{uB(),pB(),rB&&rB.disconnect(),oB&&document.removeEventListener("scroll",oB)}))}const MB=n=>{if(n.targetLang&&window.getSelection()&&window.getSelection().toString()){var o=window.getSelection().toString();document.getElementsByTagName("deepl-inline-translate-tooltip").length||kD({websiteData:wb}),wb.update({translationState:d.ongoingTranslation,translatedSnippet:"",snippetDetectedSourceLang:"",translatedDOMSnippet:"",originalSnippet:""}),t({action:"dlRequestInlineTranslation",payload:{requests:[{text:o}],domainName:window.location.hostname,trigger:h,sourceLang:"auto",websiteLanguage:e.websiteData.websiteLanguage}}).then((e=>{wb.update({translationState:d.none,translatedSnippet:e[0].text,snippetDetectedSourceLang:e[0].detected_source_language,originalSnippet:o,websiteLanguage:e[0].detected_source_language})})).catch((e=>{wb.update({translationState:d.none,originalSnippet:o,error:e.message?e.message:e})}))}},IB=async e=>{const n=await t({action:"dlGetAppSettings"});let o=window.getSelection().anchorNode;"#text"===o.nodeName.toLowerCase()&&(o=o.parentNode);const r="textarea"===o.nodeName.toLowerCase(),i=o.closest('[contenteditable="true"]'),s=o.closest("textarea"),a=o.querySelector("textarea"),l=a&&a.selectionStart!==a.selectionEnd,c=r&&o||i||s||l&&a;c?((e,t,n)=>{const o=document.querySelector(tB.HTML_TAG_NAME);o&&(t?o.openSettingsFromShortcut():n?o.triggerTranslation():o.openSettingsFromShortcut())})(0,e,n.targetLanguageUserInput):MB({targetLang:n.selectedTargetLanguage}),t({action:"dlTrackRightClick",payload:{translationType:c?g:m,domainName:window.location.host}})},AB=async(e,n)=>{LD(),CD();const o=await t({action:"dlGetAppSettings"});var r;LB({sourceLang:e,trigger:n,isFirstTime:!0,noTranslationLanguages:(r=o.languagesForTranslation,Object.keys(r).filter((e=>{r[e]})))}).catch((e=>{wb.update({translationState:d.none,error:e.message?e.message:e})}))},RB=async(e,t)=>{let n=5e3;if(t===$t.WRITE&&(n=2e3),e.length<=n)return!1;const o=await WB();return!pn(o,t)},OB=async(e,t)=>{const n=e.length,o=await WB(),r=pn(o,$t.TRANSLATOR),i=pn(o,$t.WRITE);if(t===pt.write){const e=o.isLoggedIn?T:S;if(r&&!i&&n>e)throw new k_(e,"Char limit exceeded (Translator Pro, Write Free)");if(!i&&n>e)throw new C_(e,"Char limit exceeded (Write Free Or Anonymous)")}if(!o.isLoggedIn&&n>E)throw new $_(E,"Limit exceeded (anonymous user). Please upgrade");if(o.isLoggedIn&&!pn(o,$t.TRANSLATOR)&&n>x)throw new T_(x,"Limit exceeded (free account). Please upgrade")},NB=async e=>{const{event:n,targetLang:o}=e,r=document.querySelector("deepl-gdocs-icon");if(o&&r){const{originalText:e,textLines:i,entities:s,contentReference:a,originalObject:l}=On(n);if(document.getElementsByTagName("deepl-inline-translate-tooltip").length||kD({websiteData:wb,platformBehaviour:ut.gdocs}),await RB(e,$t.TRANSLATOR))return void wb.update({translationState:d.anonymousUserMaxCharExceeded,translatedSnippet:"",originalSnippet:e});wb.update({translationState:d.ongoingTranslation,translatedSnippet:"",snippetDetectedSourceLang:"",translatedDOMSnippet:"",originalSnippet:""});try{const n=await t({action:"dlRequestGDocsSplitText",payload:{mode:Zk.TRANSLATE,texts:i}}),c=n.result.lang.detected,u=[],p=[];for(const e of n.result.texts){const t=[];for(const n of e.chunks)for(const e of n.sentences)p.push(e),t.push(p.length-1);u.push(t)}const m=(await t({action:"dlRequestGDocsProcessContent",payload:{mode:Zk.TRANSLATE,sentences:p,sourceLang:c,targetLang:o.substring(0,2),domain:window.location.host}})).result.translations.map(((e,t)=>({prefix:p[t].prefix,text:e.beams[0].sentences[0].text})));r.setContentProcessBuildingBlocks({detectedSourceLanguage:c,targetLang:o.substring(0,2),sentences:p,processedSentences:m,textLines:i,textLinesComponents:u,entities:s,contentReference:a,originalObject:l}),wb.update({translationState:d.none,translatedSnippet:"GDOCS_CONTENT",snippetDetectedSourceLang:c,originalSnippet:e,websiteLanguage:c})}catch(t){console.error(t),wb.update({translationState:d.none,originalSnippet:e,error:t.message?t.message:t})}}},DB=async({event:e,lang:n})=>{const{originalText:o,textLines:r,entities:i,contentReference:s,originalObject:a}=On(e);document.getElementsByTagName("deepl-inline-translate-tooltip").length||kD({websiteData:wb,platformBehaviour:ut.gdocs,textProcessingMode:pt.write});const l=document.querySelector("deepl-gdocs-icon"),c={lang:n,sourceLength:o.length,targetLength:0,nicheIntegration:ut.gdocs,error:""};if(await RB(o,$t.WRITE))return wb.update({translationState:d.anonymousUserMaxCharExceeded,translatedSnippet:"",originalSnippet:o}),void(l&&l.setDeeplWriteTrackingData(c));wb.update({translationState:d.ongoingTranslation,translatedSnippet:"",snippetDetectedSourceLang:"",translatedDOMSnippet:"",originalSnippet:""});try{const e=await t({action:"dlRequestGDocsSplitText",payload:{mode:Zk.WRITE,texts:r}}),n=e.result.lang.detected,u=[],p=[];for(const t of e.result.texts){const e=[];for(const n of t.chunks)for(const t of n.sentences)p.push(t),e.push(p.length-1);u.push(e)}const m=(await t({action:"dlRequestGDocsProcessContent",payload:{mode:Zk.WRITE,sentences:p,sourceLang:n,targetLang:n,domain:window.location.host}})).result.translations.map(((e,t)=>({prefix:p[t].prefix,text:e.beams[0].sentences[0].text})));l.setContentProcessBuildingBlocks({detectedSourceLanguage:n,targetLang:n,sentences:p,processedSentences:m,textLines:r,textLinesComponents:u,entities:i,contentReference:s,originalObject:a}),l.setDeeplWriteTrackingData(c),wb.update({translationState:d.none,translatedSnippet:"GDOCS_CONTENT",snippetDetectedSourceLang:n,originalSnippet:o,websiteLanguage:n}),JB({eventType:Mt,...c})}catch(e){const t=e.message?e.message:e;wb.update({translationState:d.none,originalSnippet:o,error:t}),JB({eventType:Dt,...c,error:t})}},PB=async e=>{const{sentences:n,targetLang:o,sourceLang:r,mode:i}=e;if(o){await OB(n.join(""),i);try{const e=await t({action:"dlRequestInputTranslation",payload:{requests:n.map((e=>({text:e}))),domainName:window.location.hostname,websiteLanguage:o,targetLang:o,sourceLang:r,platformBehavior:ut.gslides,isHtml:!0,isWriteRequest:i===pt.write}}),s=e[0]?.texts;return s}catch(e){throw console.error(e),Error(e)}}},BB=async({event:e,targetLang:n,sourceLang:o,mode:r})=>{if(n){const{textLines:n,entities:i,contentReference:s,originalObject:a}=On(e);await OB(n.join(""),r);try{const e=await t({action:"dlRequestInlineTranslation",payload:{requests:n.map((e=>({text:e}))),domainName:window.location.hostname,trigger:h,sourceLang:o,nicheIntegration:ut.gslides,isWriteRequest:r===pt.write}}),{processedText:l,processedEntities:c}=zn({textLines:e.map((e=>e.text)),entities:i,contentReference:s});return Wn({entities:c,text:l,originalObject:a})}catch(e){console.error(e)}}},zB=async e=>{const{element:n,targetLang:o}=e;let r,i="";if(o){const{domElements:s,strings:a,tmpElementMap:l}=(e=>{const t=[],n=[],o={};return qx({domElements:t,strings:n,element:e,tmpElementMap:o}),{domElements:t,strings:n,tmpElementMap:o}})(n);try{const r=await t({action:"dlRequestZendeskInputTranslation",payload:{texts:a,domainName:window.location.hostname,websiteLanguage:o,targetLang:o,...e.formality&&{formality:e.formality}}}),c=r[0]?.texts;c&&c.length>0&&(jx({strings:c,domElements:s}),(({element:e,tmpElementMap:t})=>{for(const n of Object.keys(t)){const o=e.getElementsByTagName(n);Array.from(o).forEach((e=>{const{originalTagName:o,originalAttributes:r}=t[n],i=document.createElement(o);for(const e in r)i.setAttribute(e,r[e]);i.innerHTML=$n(e.innerHTML),e.replaceWith(i)}))}})({element:n,tmpElementMap:l}),i=$n(n.innerHTML),n.innerHTML=""),t({action:"dlOnSuccessfulZendeskTranslation"})}catch(e){console.error(e),r=e}}return[i,r]},UB=async e=>{const{targetLang:n,sourceLang:o,text:r,trigger:i}=e;let s,a="";if(o&&n)try{a=await t({action:"dlRequestZendeskMessageTranslation",payload:{domainName:window.location.hostname,sourceLang:o,targetLang:n,text:r,trigger:i}})}catch(e){console.error(e),s=e}return[a,s]},HB=async()=>{let e,n=[];try{const[o,r]=await t({action:"dlRequestTermbases"});r?e=r:n=o}catch(t){console.error(t),e=t}return[n,e]},FB=async()=>{let e=document.body.innerText.substring(0,200);if(!e||1===e.length){const t=document.title;t.length>=e.length&&(e=t)}let n="";const o=await chrome.i18n.detectLanguage(e);o&&o.languages?.length>0&&(n=o.languages.sort(((e,t)=>t.percentage-e.percentage))[0].language.substr(0,2).toUpperCase());try{t({action:"dlTrackDetectLanguage",payload:{language:n,domainName:window.location.host}})}catch(e){console.error(e)}return n},jB=async()=>{let t=document.documentElement.lang;!t&&e.websiteData.websiteLanguage&&(t=e.websiteData.websiteLanguage),Ax(window.location.href);{const t=async()=>{let t=document.documentElement.lang;if(!t&&e.websiteData.websiteLanguage&&(t=e.websiteData.websiteLanguage),t)return t.substr(0,2).toUpperCase();try{wb.update({translationState:d.ongoingAutoDetection});const e=await FB();return wb.update({translationState:d.none}),e}catch(e){wb.update({translationState:d.none,error:e.message?e.message:chrome.i18n.getMessage(e)})}},n=()=>{const e=document.documentElement.className;return/translated/g.test(e)},o=Ax(window.location.href),r=await t();wb.update({websiteLanguage:r,hostname:window.location.hostname,isSupportedLanguage:Gn(r),isGoogleTranslatedActive:n(),isValidUrlForPopup:o});const i=new MutationObserver((async()=>{const e=await t();wb.update({websiteLanguage:e,isSupportedLanguage:Gn(e),isGoogleTranslatedActive:n(),isValidUrlForPopup:o})}));i.observe(document.documentElement,{attributes:!0,childList:!1,characterData:!1,subtree:!1,attributeFilter:["class"]}),uv((()=>{i.disconnect()}))}},WB=async()=>await t({action:"dlGetUserState"}),qB=async(n,o=!1)=>{if(n&&!n.isTrusted&&!o)return;const r=await t({action:"dlGetAppSettings"});YB(),await jB();const i=await WB();var s,a;pn(i,$t.TRANSLATOR)&&(Gn(e.websiteData.websiteLanguage)&&(s=r.selectedTargetLanguage,a=e.websiteData.websiteLanguage,(Vn(s)!==a||e.websiteData.isGoogleTranslatedActive)&&(Xn(e.websiteData.websiteLanguage,r.languagesForTranslation,c)||r.blacklistDomains.includes(e.websiteData.hostname)||Mx(window.location.host,B)||(Xn(e.websiteData.websiteLanguage,r.languagesForTranslation,l)&&AB(e.websiteData.websiteLanguage,f),r.enableFullPageTranslation&&window===window.parent&&AD()))))},GB=async()=>{await jB(),document.getElementsByTagName("deepl-input-controller").length||UD()},VB=async()=>{await jB(),YD(wb)},YB=()=>{Cn()&&OD(),no()&&ND(),qE()&&BD(),Sx()&&HD()},ZB=e=>{qv.set(e)},KB=async e=>{const n=()=>{for(const t of Object.keys(rt))if(rt[t]&&e.match(rt[t]))return t;if(document.querySelector("iframe#WebApplicationFrame")){const e=document.querySelector("form#frameForm, form#office_form"),t=e&&new URL(e.getAttribute("action"))?.hostname?.toLowerCase();if(t)for(const e of Object.keys(it))if(it[e]&&t.includes(it[e]))return e}if("onedrive.live.com"===e)for(const e of Object.keys(st))if(st[e]&&document.querySelector(`#${st[e]}`))return e;return document.querySelector("body#jira")?"jira":document.querySelector("body#com-atlassian-confluence")?"confluence":void 0},o=n();o?t({action:"dlTrackLandingOnWebsite",payload:{website:o}}):setTimeout((()=>{const e=n();e&&t({action:"dlTrackLandingOnWebsite",payload:{website:e}})}),2e3)},XB=async({eventType:e,controller:n,sourceTextLength:o,targetTextLength:r,error:i,metaDataOverride:s={}})=>{const a=n?.getTicketLanguageInformation(),l={agentLanguage:(await t({action:"dlGetAppSettings"})).selectedTargetLanguage,ticketLanguage:a?.language,isTicketLanguageAutodetected:a?.isDetected,isTicketLanguageSupported:a?.isSupported,isAutoTranslateEnabled:n.getIsAutoTranslatedEnabled(),sourceTextLength:o,targetTextLength:r,inputHasSelection:n.getInputHasSelection(),error:i,...s};await t({action:"dlTrackZendeskCustomizationEvent",payload:{eventType:e,zendeskMetaData:l}})},JB=async({eventType:e,lang:n,sourceLength:o,targetLength:r,nicheIntegration:i=ut.default,error:s,metaDataOverride:a={}})=>{await t({action:"dlTrackDeeplWriteEvent",payload:{eventType:e,deeplWriteMetaData:{lang:n,sourceLength:o,targetLength:r,nicheIntegration:i,error:s,...a}}})};function QB(e){yb(e)}function ez(){const e=xn();e&&n(V,{theme:Y.ads_theme,matchedWord:e})}const tz=()=>{const e=window.location.hostname.split(".");if(e.length<2)return!1;return"deepl.com"===`${e.at(-2)}.${e.at(-1)}`},nz=()=>rz()||oz(),oz=()=>{const e=new URL(window.location.href);return"https:"===e.protocol&&("service-now.com"===e.hostname||"servicenow.com"===e.hostname)},rz=()=>/\.service-now\.com$/.test(window.location.hostname),iz=()=>!tz()&&(!qE()&&!nz()),sz=()=>!tz()&&(!qE()&&!nz());Eo()||(window.addEventListener("error",(function(e){const t=e.message||e.error&&e.error.message||"";s_(t)&&e.preventDefault()})),window.addEventListener("unhandledrejection",(function(e){const t=e.reason&&e.reason.message||"";s_(t)&&e.preventDefault()})));const{client:az,scope:lz}=jE();if(az.init(),Eo()&&{IS_PROD:!0,BASE_URLS:{dapApi:"https://s.deepl.com/chrome/statistics",toolingApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.28.0",toolingApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.28.0",toolingWriteApiPro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.28.0",toolingWriteApi:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.28.0",classicApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.28.0",classicApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.28.0",classicApiWrite:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.28.0",classicApiWritePro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.28.0",classicApiGlossary:"https://api.deepl.com/termbases/jsonrpc?client=chrome-extension,1.28.0",login:"https://www.deepl.com/auth/login",token:"https://w.deepl.com/oidc/token",logout:"https://www.deepl.com/auth/logout",feedbackSurvey:"https://deepl.typeform.com/to/MkMfP2Y6",newFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",firefoxFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eyfDZqQmXuNTFOK",uninstallSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eJxAD8c7J5hqSRU",gslidesFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_9XBLSAbDmLq5emO",deeplPro:"https://www.deepl.com/pro",deeplProWrite:"https://www.deepl.com/pro-write",deeplTranslator:"https://www.deepl.com/translator",deeplDoctrans:"https://www.deepl.com/translator/files",deeplTermsOfServiceFree:"https://www.deepl.com/en/pro-license?tab=free",deeplCreateAccount:"https://www.deepl.com/signup",extensionStorePage:"https://bit.ly/DeepL-Chrome",supportArticle:"https://support.deepl.com/hc/articles/4407580229522",deeplSupport:"https://support.deepl.com/hc",chromeWebstore:"https://chrome.google.com/webstore/detail/deepl-translate-reading-w/cofdbpoegempjloogbagkncekinflcnj",edgeWebstore:"https://microsoftedge.microsoft.com/addons/detail/deepl-translate-reading-/fancfknaplihpclbhbpclnmmjcjanbaf",firefoxWebstore:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate",firefoxShortcutDocs:"https://support.mozilla.org/kb/manage-extension-shortcuts-firefox",firefoxPrivacyPolicy:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate/privacy/",clientStateApi:"https://w.deepl.com/web",experimentsEndpoint:"https://s.deepl.com/chrome/experiments",gmailFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_db8ItFTmYBcZjYW",customerSegmentationSurveyFree:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2071",customerSegmentationSurveyPro:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2070",arabicSurvey:"https://deepl.qualtrics.com/jfe/form/SV_ekTrC2ePp0wn7xQ",msAddinsDeepLAds:"https://www.deepl.com/en/microsoft-365"},APP_VERSION:"1.28.0",FEATURE_FLAGS:{TRANSLATE_INPUT:!0,PAGE_TRANSLATION:!0,IMPROVE_WRITING:!0,DOCUMENT_TRANSLATION:!0,RECOMMEND_TO_A_FRIEND:!0,PRO_LOGIN:!0,WEBPAGE_CUSTOMIZER:!0,GDOCS_INTEGRATION:!0,ZENDESK_INTEGRATION:!0,GMAIL_INTEGRATION:!0,GSLIDES_INTEGRATION:!0,ON_INSTALL_ONBOARDING:!0,WHATSAPP_TRANSLATE_ALL_CHAT:!1,DEEPL_WRITE_GENERAL:!1,DEEPL_WRITE_GDOCS:!0,SHOW_CUSTOMER_SEGMENTATION_SURVEY:!1,ARABIC_SURVEY:!0,REVIEW_UI_WITH_ITA:!1,BATCH_TRANSLATE_HTML_REQUEST:!1}}.HOT_RELOAD.active&&!En()){new WebSocket(`ws://localhost:${{IS_PROD:!0,BASE_URLS:{dapApi:"https://s.deepl.com/chrome/statistics",toolingApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.28.0",toolingApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.28.0",toolingWriteApiPro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.28.0",toolingWriteApi:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.28.0",classicApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.28.0",classicApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.28.0",classicApiWrite:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.28.0",classicApiWritePro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.28.0",classicApiGlossary:"https://api.deepl.com/termbases/jsonrpc?client=chrome-extension,1.28.0",login:"https://www.deepl.com/auth/login",token:"https://w.deepl.com/oidc/token",logout:"https://www.deepl.com/auth/logout",feedbackSurvey:"https://deepl.typeform.com/to/MkMfP2Y6",newFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",firefoxFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eyfDZqQmXuNTFOK",uninstallSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eJxAD8c7J5hqSRU",gslidesFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_9XBLSAbDmLq5emO",deeplPro:"https://www.deepl.com/pro",deeplProWrite:"https://www.deepl.com/pro-write",deeplTranslator:"https://www.deepl.com/translator",deeplDoctrans:"https://www.deepl.com/translator/files",deeplTermsOfServiceFree:"https://www.deepl.com/en/pro-license?tab=free",deeplCreateAccount:"https://www.deepl.com/signup",extensionStorePage:"https://bit.ly/DeepL-Chrome",supportArticle:"https://support.deepl.com/hc/articles/4407580229522",deeplSupport:"https://support.deepl.com/hc",chromeWebstore:"https://chrome.google.com/webstore/detail/deepl-translate-reading-w/cofdbpoegempjloogbagkncekinflcnj",edgeWebstore:"https://microsoftedge.microsoft.com/addons/detail/deepl-translate-reading-/fancfknaplihpclbhbpclnmmjcjanbaf",firefoxWebstore:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate",firefoxShortcutDocs:"https://support.mozilla.org/kb/manage-extension-shortcuts-firefox",firefoxPrivacyPolicy:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate/privacy/",clientStateApi:"https://w.deepl.com/web",experimentsEndpoint:"https://s.deepl.com/chrome/experiments",gmailFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_db8ItFTmYBcZjYW",customerSegmentationSurveyFree:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2071",customerSegmentationSurveyPro:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2070",arabicSurvey:"https://deepl.qualtrics.com/jfe/form/SV_ekTrC2ePp0wn7xQ",msAddinsDeepLAds:"https://www.deepl.com/en/microsoft-365"},APP_VERSION:"1.28.0",FEATURE_FLAGS:{TRANSLATE_INPUT:!0,PAGE_TRANSLATION:!0,IMPROVE_WRITING:!0,DOCUMENT_TRANSLATION:!0,RECOMMEND_TO_A_FRIEND:!0,PRO_LOGIN:!0,WEBPAGE_CUSTOMIZER:!0,GDOCS_INTEGRATION:!0,ZENDESK_INTEGRATION:!0,GMAIL_INTEGRATION:!0,GSLIDES_INTEGRATION:!0,ON_INSTALL_ONBOARDING:!0,WHATSAPP_TRANSLATE_ALL_CHAT:!1,DEEPL_WRITE_GENERAL:!1,DEEPL_WRITE_GDOCS:!0,SHOW_CUSTOMER_SEGMENTATION_SURVEY:!1,ARABIC_SURVEY:!0,REVIEW_UI_WITH_ITA:!1,BATCH_TRANSLATE_HTML_REQUEST:!1}}.HOT_RELOAD.webSocketServerPort}`).addEventListener("message",(e=>{"file-change"===e.data&&chrome.runtime.sendMessage("reload")}))}document.dispatchEvent(new CustomEvent("deepl-reset-event"));try{chrome.runtime.onMessage.addListener(XR),uv((()=>{wb.update({translationState:d.showOriginal}),bb(),chrome.runtime.onMessage.removeListener(XR)}))}catch(e){console.error(e),l_(e,lz)}function cz(e){e.error&&Eo()&&console.error(`SERVICE_WORKER_TEST: Port disconnected due to error: ${e.error.message}`),document.hasFocus()?setTimeout((()=>{dz()}),1e3):window.addEventListener("focus",dz)}async function dz(){window.removeEventListener("focus",dz);if(await KR()){const e=vo();Eo()&&console.log("Connecting to background port",e);const t=chrome.runtime.connect({name:e});return QR(t),ZR(t),t.onDisconnect.addListener(cz),t}}try{QD(window.location.host),KB(window.location.host),eP(window.location.href),"complete"===document.readyState?qB(null,!0):window.addEventListener("load",qB),iz()&&GB(),sz()&&VB(),JD(window.location.host),dz(),ez()}catch(e){console.error(e),l_(e,lz)}function uz(e,t,n){let o={block:"end",position:e.length};return t.forEach((t=>{const r=e.indexOf(`<${t}>`,n);r>-1&&r<o.position&&(o={block:t,position:r})})),[o.block,o.position]}function pz(e){return e.match(/[^\s.,:;'"]+|[.,:;'"]|\s+/g)||[]}function mz(e,t){const n=pz(e),o=pz(t),r=function(e,t,n){const o=n||((e,t)=>e===t),r=(()=>{let n=0;for(;o(e[n],t[n])&&n<e.length;)++n;return n})();if(r===e.length&&e.length===t.length)return[r];const i=(()=>{let n=e.length-1,i=t.length-1;for(;o(e[n],t[i])&&n>r&&i>r;)--n,--i;return e.length-n-1})(),s=e.length-r-i+1,a=t.length-r-i+1,l=s+a,c=new Map,d=new Map;c.set(1,0),d.set(1,null);for(let n=0;n<=l;++n)for(let l=-n;l<=n;l+=2){let u,p,m;for(l==-n||l!=n&&c.get(l-1)<c.get(l+1)?(u=c.get(l+1),m=[d.get(l+1),void 0,void 0]):(u=c.get(l-1)+1,m=[d.get(l-1),void 0,void 0]),p=u-l;u<s&&p<a&&o(e[u+r],t[p+r]);)++u,++p;if(u>=s&&p>=a){m[1]=s+i-1,m[2]=a+i-1;let e=-1,t=-1;const n=[];for(;m;)n.push([m[1],m[2]]),m=m[0];let o=[],l=null;for(;n.length;){const r=n.pop(),i=r[0],s=r[1],a=i-e,c=s-t,d=Math.min(a,c);a>d&&(l?l[0]+=a-d:(l=[a-d,0],o.push(l))),c>d&&(l?l[1]+=c-d:(l=[0,c-d],o.push(l))),d>0&&(o.push(d),l=null),e=i,t=s}return o[0]=o[0]-1+r,o}c.set(l,u),m[1]=u,m[2]=p,d.set(l,m)}throw new Error("[diff]","should not happen?")}(n,o),i=[];let s=0,a=0,l=0;for(;s<r.length;){const e=r[s];let t=0;for(let o=a+e-1;o>=a;o-=1)t+=n[o]?.match(/^\s/)?2:1;a+=e,l+=e;let c=0,d=0;if(a<n.length&&l<o.length&&n[a]?.match(/^\s/)&&o[l]?.match(/^\s/)&&(c-=1,d-=1,t+=1),i.push(t),s+=1,s<r.length){const[e,t]=r[s];for(let t=a+e-1;t>=a;t-=1)c+=n[t]?.match(/^\s/)?2:1;for(let e=l+t-1;e>=l;e-=1)d+=o[e]?.match(/^\s/)?2:1;i.push([Math.max(c,0),Math.max(d,0)]),s+=1,a+=e,l+=t}}return[i,n,o,r]}return e.GMAIL_CHAR_LIMIT_ANONYMOUS_USER=1500,e.GMAIL_CHAR_LIMIT_FREE_USER=iN,e.GMAIL_INTERVAL=800,e.GMAIL_UI_ADDED_ATTRIBUTE=rN,e.autodetectLanguage=FB,e.backgroundPortListener=tO,e.buildGDocsPasteData=Wn,e.calculateNewIconPosition=An,e.canInjectInlineTranslation=sz,e.canInjectInputTranslation=iz,e.canTranslateElementForDomain=nP,e.checkForIntersectionWithOpenDialogs=oD,e.checkIfInputHasSelection=bx,e.clearMessageControllers=yx,e.clickAtCoordinates=aD,e.clickOnElement=lD,e.createAlert=yb,e.createGmailController=HD,e.createGmailControllerUtil=()=>document.createElement(KN.HTML_TAG_NAME),e.createGoogleDocsIcon=OD,e.createGoogleSlidesController=ND,e.createHighlightsForSentence=function(e,t){const n=mz(t,e),o=[];let r=0,i=0,s=0,a=0;return n[3].forEach((e=>{if(Array.isArray(e)&&"number"==typeof e[0]&&"number"==typeof e[1]){if(0!==e[1]){const t=n[2].slice(i,i+e[1]).join(""),l=n[1].slice(r,r+e[0]).join(""),c={original:l,replace:t};c.changeLength=t.length,c.changeOffset=s,c.originalLength=l.length,c.originalOffset=a,s+=t.length,a+=l.length,o.push(c)}r+=e[0],i+=e[1]}else{let t=0;n[2].slice(i,i+e).forEach((e=>t+=e.length)),s+=t;let o=0;n[1].slice(r,r+e).forEach((e=>o+=e.length)),a+=o,r+=e,i+=e}})),o},e.createInlineTranslateSettingsTooltip=MD,e.createInlineTranslateTooltip=kD,e.createInlineTranslationTrigger=GD,e.createInlineTranslationTriggerListener=YD,e.createInputTextProcessorTrigger=VD,e.createInputTranslationController=UD,e.createNotification=ZD,e.createPageLoadPopup=AD,e.createReviewTranslateWriteWindow=$D,e.createSubmitButtonTooltip=Ex,e.createTicketController=XE,e.createZendeskController=BD,e.createZendeskControllerElement=VE,e.customizePage=JD,e.detectTicketLanguageInLiveChat=ux,e.detectTicketLanguageInTicket=dx,e.detectTicketType=ix,e.disableExtension=ex,e.displayAds=ez,e.elementHasTranslateToolbar=nD,e.extractSentencesAndEntitiesFromData=io,e.findEditableContent=async function t(n,o){try{if(o.dataset&&"true"===o.dataset.dlInputTranslation||o.dataset&&"true"===o.dataset.dlNoInputTranslation)return;if("true"===o.contentEditable||"TEXTAREA"===o.nodeName&&o.rows>1){if("none"===window.getComputedStyle(o).display)return;if(!function(e){return e.getBoundingClientRect().width>0&&e.getBoundingClientRect().height>0}(o))return;if(!tP(o,e.websiteData.hostname))return;o.dataset.dlInputTranslation="true",n.push(o)}for(const e of o.childNodes)t(n,e)}catch(e){Eo()&&console.error(e),l_(e,iP)}},e.findEmailToAndFromAddressTable=rD,e.findForwardButtonInDocument=uD,e.findSiblingDivWithAnyMessageId=dD,e.generateLanguagesWithShortcodeForDropdown=iD,e.getActivePane=ZE,e.getActiveTermbases=()=>{const e=GE();return e?e.getActiveTermbases():[]},e.getBlocksFromString=function(e,t=[]){const n=[];let o=0,r=!1;for(;!r;){const[i,s]=uz(e,t,o);if("end"===i&&(r=!0),o<s&&n.push({block:"main",text:e.substring(o,s)}),r)break;const a=e.indexOf(`</${i}>`,s);-1===a?(n.push({block:i,text:e.substring(s+`<${i}>`.length)}),r=!0):(n.push({block:i,text:e.substring(s+`<${i}>`.length,a)}),o=a+`</${i}>`.length)}return n},e.getContextMessages=e=>{const t=[],n=sx(e).map(cx).map((e=>e.innerText)),o=[],r=[];for(let e=0;e<n.length;e++){const i=e%2==0?"start":"end";let s=Math.floor(e/2);if("end"===i&&(s=n.length-1-s),t.includes(s))break;if([...o,...r].reduce(((e,t)=>e+t.length),0)+n[s].length>3e3)break;"end"===i?r.unshift(n[s]):o.push(n[s]),t.push(s)}return[...o,...r]},e.getControllerFromMessage=_x,e.getCoordsOfWord=(e,t,n,o,r)=>{const i=document.createRange();if("#text"===e.nodeName)i.setStart(e,t),i.setEnd(e,t+n);else{if(!e.firstChild||"#text"!==e.firstChild.nodeName)return console.error("Invalid textNode with no child text node."),null;{const o=e.firstChild;i.setStart(o,t),i.setEnd(o,t+n)}}const s=i.getBoundingClientRect();return{top:s.top,left:s.left,right:s.right,bottom:s.bottom,original:o,replace:r,textNode:e,changeIndex:t,changeLength:n}},e.getElementCenterCoordinates=sD,e.getGDocsisEditMode=Rn,e.getGmailControllerUtil=JN,e.getIFrameAndEditable=kn,e.getIconCoordinates=In,e.getItaTranslateEnabled=KR,e.getMessageContent=cx,e.getMessageViewContainers=tD,e.getMessageWriteContainers=()=>{const e=Array.from(document.querySelectorAll('[role="textbox"]')).filter((e=>"true"===e.getAttribute("contenteditable")));return e},e.getMessagesFromTicket=sx,e.getScrollableElements=lP,e.getSelectionContent=Mn,e.getSentryClient=jE,e.getSourceLangFromSlide=oo,e.getTermbases=HB,e.getTicketController=KE,e.getTicketId=YE,e.getTicketStartingMessage=ax,e.getTicketStartingMessages=lx,e.getUserState=WB,e.getWebsiteSettings=jB,e.getWordsFromSentence=Hn,e.getZendeskController=GE,e.improveGDocsSelectionContent=DB,e.injectAskAReviewPopup=KD,e.injectControllerInMessage=vx,e.injectInlineTranslation=VB,e.injectInputTranslation=GB,e.injectMissingMessageControllers=fx,e.injectMissingUIElements=JE,e.isChatGPT=oP,e.isDeepLCom=tz,e.isGDocs=Cn,e.isGSlides=no,e.isGmail=Sx,e.isIncludedInTheText=function(e,t){if(!e||!t)return!1;const n=/[\n\r\s]+/gm,o=e.replace(n,""),r=t.replace(n,"");return o.includes(r)},e.isInputArea=sP,e.isOnMessageViewScreen=eD,e.isServiceNow=nz,e.isZendesk=qE,e.onOpenPage=qB,e.pageListener=XR,e.processEntityAfterTranslation=so,e.processGDocsCopyEvent=On,e.reassembleGDocsTranslatedResult=zn,e.reconnectItaSessionIfPresent=ZR,e.removeAllDeeplElements=function(){!function(e){const t=document.getElementsByTagName(e);if(!t.length)return;for(let e=t.length-1;e>=0;--e)t[e].cleanupDOM(),t[e].remove()}("deepl-input-controller")},e.removeGDocsEntities=Un,e.removeGmailController=FD,e.removeGoogleDocsIcon=DD,e.removeGoogleSlidesController=PD,e.removeInlineTranslateSettingsTooltip=ID,e.removeInlineTranslateTooltip=LD,e.removeInlineTranslateTrigger=WD,e.removeInputTextProcessorTrigger=qD,e.removeInputTranslationController=jD,e.removePageLoadPopup=RD,e.removeRateLimitTimeout=zR,e.removeReviewTranslateWriteWindow=CD,e.removeUIElementsFromList=QN,e.removeZendeskController=zD,e.removeZendeskToolbar=xx,e.removeZendeskUIElements=QE,e.replaceTranslatedGDocsContent=Fn,e.runCustomScriptsForDomain=QD,e.runCustomScriptsForSpecificUrl=eP,e.scanForTranslatables=LB,e.sendMessageToBackgroundPort=eO,e.setBackgroundPort=QR,e.setErrorVisibility=ZB,e.shouldBeTranslated=xB,e.shouldInjectInputIcon=tP,e.showAlert=QB,e.simulateGSLidesSelectAll=ro,e.trackDeeplWriteEvent=JB,e.trackPageLandingIfNeeded=KB,e.trackZendeskCustomizationEvent=XB,e.translateGDocsSelectionContent=NB,e.translateGSlidesInbloxkSelectionContent=BB,e.translateGSlidesSelectionContent=PB,e.translateInlineText=MB,e.translateInlineTextWithITA=FR,e.translateSelectionRightClick=IB,e.translateWebsite=AB,e.translateZendeskMessage=UB,e.translateZendeskSelectionContent=zB,e.triggerCopyEvent=Ln,e.twitterState=DS,e.unsubscribeToWebsiteState=bb,e.updateInputIconLanguageInformation=hx,e.updateInputPositionerCoords=aP,e.updateIntegrationPanelIfExists=wx,e.updateToolbarAutoTranslateStatus=mx,e.updateToolbarLanguageInformation=px,e.updateTopIconLanguageInformation=gx,e.updateWebsiteStateWithError=PR,e.updateWebsiteStateWithITADocumentState=VR,e.updateWebsiteStateWithITAFormality=e=>{wb.update({formality:e})},e.updateWebsiteStateWithITASourceLanguage=qR,e.updateWebsiteStateWithITASourceLanguageAutoDetected=GR,e.updateWebsiteStateWithITATargetText=jR,e.updateWebsiteStateWithITAWriteDocumentState=YR,e.updateWebsiteStateWithITAWriteTargetText=WR,e.updateWebsiteStateWithRateLimitInfo=UR,e.waitForElement=cD,e.websiteState=wb,e.whatsAppState=mS,e.youTubeState=_T,Object.defineProperty(e,"__esModule",{value:!0}),e}({});

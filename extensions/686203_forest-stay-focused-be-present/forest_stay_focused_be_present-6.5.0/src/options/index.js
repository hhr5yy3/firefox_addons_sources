var K1=Object.defineProperty;var X1=(s,e,r)=>e in s?K1(s,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[e]=r;var ln=(s,e,r)=>X1(s,typeof e!="symbol"?e+"":e,r);import"../../modulepreload-polyfill.js";import{_ as Fh,g as Q1,a as Fi,m as J1,r as at,t as zt,b as Bn,c as Z1,s as qa,d as eu,l as $1,e as Xt,f as J,h as xn,i as re,R as ft,j as ef,k as tf,n as nf,u as tu,M as Vr,o as nu,p as Vn,q as B,v as pt,w as O,x as Jt,y as Nh,z as Ih,A as Wr,B as rf,C as ru,D as af,E as sf,F as of,G as lf,H as gd,I as Ba,J as uf,K as Lh,L as cf,N as df,O as hf,P as gf,Q as ff}from"../../arrow-down.js";class bi extends Error{constructor(r,i,a){const l=r.status||r.status===0?r.status:"",u=r.statusText||"",d=`${l} ${u}`.trim(),g=d?`status code ${d}`:"an unknown error";super(`Request failed with ${g}: ${i.method} ${i.url}`);ln(this,"response");ln(this,"request");ln(this,"options");this.name="HTTPError",this.response=r,this.request=i,this.options=a}}class Dh extends Error{constructor(r){super(`Request timed out: ${r.method} ${r.url}`);ln(this,"request");this.name="TimeoutError",this.request=r}}const ki=s=>s!==null&&typeof s=="object",Ma=(...s)=>{for(const e of s)if((!ki(e)||Array.isArray(e))&&e!==void 0)throw new TypeError("The `options` argument must be an object");return iu({},...s)},Uh=(s={},e={})=>{const r=new globalThis.Headers(s),i=e instanceof globalThis.Headers,a=new globalThis.Headers(e);for(const[l,u]of a.entries())i&&u==="undefined"||u===void 0?r.delete(l):r.set(l,u);return r};function Fa(s,e,r){return Object.hasOwn(e,r)&&e[r]===void 0?[]:iu(s[r]??[],e[r]??[])}const Gh=(s={},e={})=>({beforeRequest:Fa(s,e,"beforeRequest"),beforeRetry:Fa(s,e,"beforeRetry"),afterResponse:Fa(s,e,"afterResponse"),beforeError:Fa(s,e,"beforeError")}),iu=(...s)=>{let e={},r={},i={};for(const a of s)if(Array.isArray(a))Array.isArray(e)||(e=[]),e=[...e,...a];else if(ki(a)){for(let[l,u]of Object.entries(a))ki(u)&&l in e&&(u=iu(e[l],u)),e={...e,[l]:u};ki(a.hooks)&&(i=Gh(i,a.hooks),e.hooks=i),ki(a.headers)&&(r=Uh(r,a.headers),e.headers=r)}return e},pf=(()=>{let s=!1,e=!1;const r=typeof globalThis.ReadableStream=="function",i=typeof globalThis.Request=="function";if(r&&i)try{e=new globalThis.Request("https://empty.invalid",{body:new globalThis.ReadableStream,method:"POST",get duplex(){return s=!0,"half"}}).headers.has("Content-Type")}catch(a){if(a instanceof Error&&a.message==="unsupported BodyInit type")return!1;throw a}return s&&!e})(),mf=typeof globalThis.AbortController=="function",vf=typeof globalThis.ReadableStream=="function",yf=typeof globalThis.FormData=="function",zh=["get","post","put","patch","head","delete"],_f={json:"application/json",text:"text/*",formData:"multipart/form-data",arrayBuffer:"*/*",blob:"*/*"},ml=2147483647,jh=Symbol("stop"),wf={json:!0,parseJson:!0,stringifyJson:!0,searchParams:!0,prefixUrl:!0,retry:!0,timeout:!0,hooks:!0,throwHttpErrors:!0,onDownloadProgress:!0,fetch:!0},Sf={method:!0,headers:!0,body:!0,mode:!0,credentials:!0,cache:!0,redirect:!0,referrer:!0,referrerPolicy:!0,integrity:!0,keepalive:!0,signal:!0,window:!0,dispatcher:!0,duplex:!0,priority:!0},xf=s=>zh.includes(s)?s.toUpperCase():s,Cf=["get","put","head","delete","options","trace"],Tf=[408,413,429,500,502,503,504],Af=[413,429,503],fd={limit:2,methods:Cf,statusCodes:Tf,afterStatusCodes:Af,maxRetryAfter:Number.POSITIVE_INFINITY,backoffLimit:Number.POSITIVE_INFINITY,delay:s=>.3*2**(s-1)*1e3},kf=(s={})=>{if(typeof s=="number")return{...fd,limit:s};if(s.methods&&!Array.isArray(s.methods))throw new Error("retry.methods must be an array");if(s.statusCodes&&!Array.isArray(s.statusCodes))throw new Error("retry.statusCodes must be an array");return{...fd,...s}};async function Ef(s,e,r,i){return new Promise((a,l)=>{const u=setTimeout(()=>{r&&r.abort(),l(new Dh(s))},i.timeout);i.fetch(s,e).then(a).catch(l).then(()=>{clearTimeout(u)})})}async function Pf(s,{signal:e}){return new Promise((r,i)=>{e&&(e.throwIfAborted(),e.addEventListener("abort",a,{once:!0}));function a(){clearTimeout(l),i(e.reason)}const l=setTimeout(()=>{e==null||e.removeEventListener("abort",a),r()},s)})}const bf=(s,e)=>{const r={};for(const i in e)!(i in Sf)&&!(i in wf)&&!(i in s)&&(r[i]=e[i]);return r};class Ka{constructor(e,r={}){ln(this,"request");ln(this,"abortController");ln(this,"_retryCount",0);ln(this,"_input");ln(this,"_options");var i,a;if(this._input=e,this._options={...r,headers:Uh(this._input.headers,r.headers),hooks:Gh({beforeRequest:[],beforeRetry:[],beforeError:[],afterResponse:[]},r.hooks),method:xf(r.method??this._input.method),prefixUrl:String(r.prefixUrl||""),retry:kf(r.retry),throwHttpErrors:r.throwHttpErrors!==!1,timeout:r.timeout??1e4,fetch:r.fetch??globalThis.fetch.bind(globalThis)},typeof this._input!="string"&&!(this._input instanceof URL||this._input instanceof globalThis.Request))throw new TypeError("`input` must be a string, URL, or Request");if(this._options.prefixUrl&&typeof this._input=="string"){if(this._input.startsWith("/"))throw new Error("`input` must not begin with a slash when using `prefixUrl`");this._options.prefixUrl.endsWith("/")||(this._options.prefixUrl+="/"),this._input=this._options.prefixUrl+this._input}if(mf){this.abortController=new globalThis.AbortController;const l=this._options.signal??this._input.signal;l==null||l.addEventListener("abort",()=>{this.abortController.abort(l.reason)}),this._options.signal=this.abortController.signal}if(pf&&(this._options.duplex="half"),this._options.json!==void 0&&(this._options.body=((a=(i=this._options).stringifyJson)==null?void 0:a.call(i,this._options.json))??JSON.stringify(this._options.json),this._options.headers.set("content-type",this._options.headers.get("content-type")??"application/json")),this.request=new globalThis.Request(this._input,this._options),this._options.searchParams){const u="?"+(typeof this._options.searchParams=="string"?this._options.searchParams.replace(/^\?/,""):new URLSearchParams(this._options.searchParams).toString()),d=this.request.url.replace(/(?:\?.*?)?(?=#|$)/,u);(yf&&this._options.body instanceof globalThis.FormData||this._options.body instanceof URLSearchParams)&&!(this._options.headers&&this._options.headers["content-type"])&&this.request.headers.delete("content-type"),this.request=new globalThis.Request(new globalThis.Request(d,{...this.request}),this._options)}}static create(e,r){const i=new Ka(e,r),a=async()=>{if(typeof i._options.timeout=="number"&&i._options.timeout>ml)throw new RangeError(`The \`timeout\` option cannot be greater than ${ml}`);await Promise.resolve();let d=await i._fetch();for(const g of i._options.hooks.afterResponse){const f=await g(i.request,i._options,i._decorateResponse(d.clone()));f instanceof globalThis.Response&&(d=f)}if(i._decorateResponse(d),!d.ok&&i._options.throwHttpErrors){let g=new bi(d,i.request,i._options);for(const f of i._options.hooks.beforeError)g=await f(g);throw g}if(i._options.onDownloadProgress){if(typeof i._options.onDownloadProgress!="function")throw new TypeError("The `onDownloadProgress` option must be a function");if(!vf)throw new Error("Streams are not supported in your environment. `ReadableStream` is missing.");return i._stream(d.clone(),i._options.onDownloadProgress)}return d},u=i._options.retry.methods.includes(i.request.method.toLowerCase())?i._retry(a):a();for(const[d,g]of Object.entries(_f))u[d]=async()=>{i.request.headers.set("accept",i.request.headers.get("accept")||g);const v=(await u).clone();if(d==="json"){if(v.status===204||(await v.clone().arrayBuffer()).byteLength===0)return"";if(r.parseJson)return r.parseJson(await v.text())}return v[d]()};return u}_calculateRetryDelay(e){if(this._retryCount++,this._retryCount>this._options.retry.limit||e instanceof Dh)throw e;if(e instanceof bi){if(!this._options.retry.statusCodes.includes(e.response.status))throw e;const i=e.response.headers.get("Retry-After")??e.response.headers.get("RateLimit-Reset")??e.response.headers.get("X-RateLimit-Reset")??e.response.headers.get("X-Rate-Limit-Reset");if(i&&this._options.retry.afterStatusCodes.includes(e.response.status)){let a=Number(i)*1e3;Number.isNaN(a)?a=Date.parse(i)-Date.now():a>=Date.parse("2024-01-01")&&(a-=Date.now());const l=this._options.retry.maxRetryAfter??a;return a<l?a:l}if(e.response.status===413)throw e}const r=this._options.retry.delay(this._retryCount);return Math.min(this._options.retry.backoffLimit,r)}_decorateResponse(e){return this._options.parseJson&&(e.json=async()=>this._options.parseJson(await e.text())),e}async _retry(e){try{return await e()}catch(r){const i=Math.min(this._calculateRetryDelay(r),ml);if(this._retryCount<1)throw r;await Pf(i,{signal:this._options.signal});for(const a of this._options.hooks.beforeRetry)if(await a({request:this.request,options:this._options,error:r,retryCount:this._retryCount})===jh)return;return this._retry(e)}}async _fetch(){for(const i of this._options.hooks.beforeRequest){const a=await i(this.request,this._options);if(a instanceof Request){this.request=a;break}if(a instanceof Response)return a}const e=bf(this.request,this._options),r=this.request;return this.request=r.clone(),this._options.timeout===!1?this._options.fetch(r,e):Ef(r,e,this.abortController,this._options)}_stream(e,r){const i=Number(e.headers.get("content-length"))||0;let a=0;return e.status===204?(r&&r({percent:1,totalBytes:i,transferredBytes:a},new Uint8Array),new globalThis.Response(null,{status:e.status,statusText:e.statusText,headers:e.headers})):new globalThis.Response(new globalThis.ReadableStream({async start(l){const u=e.body.getReader();r&&r({percent:0,transferredBytes:0,totalBytes:i},new Uint8Array);async function d(){const{done:g,value:f}=await u.read();if(g){l.close();return}if(r){a+=f.byteLength;const v=i===0?0:a/i;r({percent:v,transferredBytes:a,totalBytes:i},f)}l.enqueue(f),await d()}await d()}}),{status:e.status,statusText:e.statusText,headers:e.headers})}}/*! MIT License Â© Sindre Sorhus */const Ll=s=>{const e=(r,i)=>Ka.create(r,Ma(s,i));for(const r of zh)e[r]=(i,a)=>Ka.create(i,Ma(s,a,{method:r}));return e.create=r=>Ll(Ma(r)),e.extend=r=>(typeof r=="function"&&(r=r(s??{})),Ll(Ma(s,r))),e.stop=jh,e},Bh=Ll();function Rf(s){return s.toLowerCase()}var Of=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],Mf=/[^A-Z0-9]+/gi;function Ff(s,e){e===void 0&&(e={});for(var r=e.splitRegexp,i=r===void 0?Of:r,a=e.stripRegexp,l=a===void 0?Mf:a,u=e.transform,d=u===void 0?Rf:u,g=e.delimiter,f=g===void 0?" ":g,v=pd(pd(s,i,"$1\0$2"),l,"\0"),w=0,x=v.length;v.charAt(w)==="\0";)w++;for(;v.charAt(x-1)==="\0";)x--;return v.slice(w,x).split("\0").map(d).join(f)}function pd(s,e,r){return e instanceof RegExp?s.replace(e,r):e.reduce(function(i,a){return i.replace(a,r)},s)}function Nf(s,e){return e===void 0&&(e={}),Ff(s,Fh({delimiter:"."},e))}function If(s,e){return e===void 0&&(e={}),Nf(s,Fh({delimiter:"_"},e))}const Lf=Object.freeze(Object.defineProperty({__proto__:null,snakeCase:If},Symbol.toStringTag,{value:"Module"})),Df=Q1(Lf),Uf=J1,{snakeCase:Gf}=Df;var zf=function(s,e){return e=Object.assign({deep:!0,exclude:[],parsingOptions:{}},e),Uf(s,function(r,i){return[jf(e.exclude,r)?r:Gf(r,e.parsingOptions),i]},e)};function jf(s,e){return s.some(function(r){return typeof r=="string"?r===e:r.test(e)})}const Vh=Fi(zf);function Va(s,e){at(2,arguments);var r=zt(s),i=Bn(e);return isNaN(i)?new Date(NaN):(i&&r.setDate(r.getDate()+i),r)}function Bf(s,e){at(2,arguments);var r=zt(s).getTime(),i=Bn(e);return new Date(r+i)}function Vf(s){var e=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()));return e.setUTCFullYear(s.getFullYear()),s.getTime()-e.getTime()}function Dl(s){at(1,arguments);var e=zt(s);return e.setHours(0,0,0,0),e}function Wf(s,e){at(2,arguments);var r=Dl(s),i=Dl(e);return r.getTime()===i.getTime()}function Hf(s){return at(1,arguments),s instanceof Date||Z1(s)==="object"&&Object.prototype.toString.call(s)==="[object Date]"}function Yf(s){if(at(1,arguments),!Hf(s)&&typeof s!="number")return!1;var e=zt(s);return!isNaN(Number(e))}function qf(s,e){at(2,arguments);var r=Bn(e);return Bf(s,-r)}var Kf=864e5;function Xf(s){at(1,arguments);var e=zt(s),r=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var i=e.getTime(),a=r-i;return Math.floor(a/Kf)+1}function Xa(s){at(1,arguments);var e=1,r=zt(s),i=r.getUTCDay(),a=(i<e?7:0)+i-e;return r.setUTCDate(r.getUTCDate()-a),r.setUTCHours(0,0,0,0),r}function Wh(s){at(1,arguments);var e=zt(s),r=e.getUTCFullYear(),i=new Date(0);i.setUTCFullYear(r+1,0,4),i.setUTCHours(0,0,0,0);var a=Xa(i),l=new Date(0);l.setUTCFullYear(r,0,4),l.setUTCHours(0,0,0,0);var u=Xa(l);return e.getTime()>=a.getTime()?r+1:e.getTime()>=u.getTime()?r:r-1}function Qf(s){at(1,arguments);var e=Wh(s),r=new Date(0);r.setUTCFullYear(e,0,4),r.setUTCHours(0,0,0,0);var i=Xa(r);return i}var Jf=6048e5;function Zf(s){at(1,arguments);var e=zt(s),r=Xa(e).getTime()-Qf(e).getTime();return Math.round(r/Jf)+1}function Hh(s,e){var r,i,a,l,u,d,g,f;at(1,arguments);var v=zt(s),w=v.getUTCFullYear(),x=eu(),y=Bn((r=(i=(a=(l=e==null?void 0:e.firstWeekContainsDate)!==null&&l!==void 0?l:e==null||(u=e.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&a!==void 0?a:x.firstWeekContainsDate)!==null&&i!==void 0?i:(g=x.locale)===null||g===void 0||(f=g.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(y>=1&&y<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var _=new Date(0);_.setUTCFullYear(w+1,0,y),_.setUTCHours(0,0,0,0);var A=qa(_,e),P=new Date(0);P.setUTCFullYear(w,0,y),P.setUTCHours(0,0,0,0);var R=qa(P,e);return v.getTime()>=A.getTime()?w+1:v.getTime()>=R.getTime()?w:w-1}function $f(s,e){var r,i,a,l,u,d,g,f;at(1,arguments);var v=eu(),w=Bn((r=(i=(a=(l=e==null?void 0:e.firstWeekContainsDate)!==null&&l!==void 0?l:e==null||(u=e.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&a!==void 0?a:v.firstWeekContainsDate)!==null&&i!==void 0?i:(g=v.locale)===null||g===void 0||(f=g.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&r!==void 0?r:1),x=Hh(s,e),y=new Date(0);y.setUTCFullYear(x,0,w),y.setUTCHours(0,0,0,0);var _=qa(y,e);return _}var ep=6048e5;function tp(s,e){at(1,arguments);var r=zt(s),i=qa(r,e).getTime()-$f(r,e).getTime();return Math.round(i/ep)+1}function Ae(s,e){for(var r=s<0?"-":"",i=Math.abs(s).toString();i.length<e;)i="0"+i;return r+i}var Gn={y:function(e,r){var i=e.getUTCFullYear(),a=i>0?i:1-i;return Ae(r==="yy"?a%100:a,r.length)},M:function(e,r){var i=e.getUTCMonth();return r==="M"?String(i+1):Ae(i+1,2)},d:function(e,r){return Ae(e.getUTCDate(),r.length)},a:function(e,r){var i=e.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return i.toUpperCase();case"aaa":return i;case"aaaaa":return i[0];case"aaaa":default:return i==="am"?"a.m.":"p.m."}},h:function(e,r){return Ae(e.getUTCHours()%12||12,r.length)},H:function(e,r){return Ae(e.getUTCHours(),r.length)},m:function(e,r){return Ae(e.getUTCMinutes(),r.length)},s:function(e,r){return Ae(e.getUTCSeconds(),r.length)},S:function(e,r){var i=r.length,a=e.getUTCMilliseconds(),l=Math.floor(a*Math.pow(10,i-3));return Ae(l,r.length)}},Ur={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},np={G:function(e,r,i){var a=e.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return i.era(a,{width:"abbreviated"});case"GGGGG":return i.era(a,{width:"narrow"});case"GGGG":default:return i.era(a,{width:"wide"})}},y:function(e,r,i){if(r==="yo"){var a=e.getUTCFullYear(),l=a>0?a:1-a;return i.ordinalNumber(l,{unit:"year"})}return Gn.y(e,r)},Y:function(e,r,i,a){var l=Hh(e,a),u=l>0?l:1-l;if(r==="YY"){var d=u%100;return Ae(d,2)}return r==="Yo"?i.ordinalNumber(u,{unit:"year"}):Ae(u,r.length)},R:function(e,r){var i=Wh(e);return Ae(i,r.length)},u:function(e,r){var i=e.getUTCFullYear();return Ae(i,r.length)},Q:function(e,r,i){var a=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return Ae(a,2);case"Qo":return i.ordinalNumber(a,{unit:"quarter"});case"QQQ":return i.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return i.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,r,i){var a=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return Ae(a,2);case"qo":return i.ordinalNumber(a,{unit:"quarter"});case"qqq":return i.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return i.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,r,i){var a=e.getUTCMonth();switch(r){case"M":case"MM":return Gn.M(e,r);case"Mo":return i.ordinalNumber(a+1,{unit:"month"});case"MMM":return i.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return i.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(a,{width:"wide",context:"formatting"})}},L:function(e,r,i){var a=e.getUTCMonth();switch(r){case"L":return String(a+1);case"LL":return Ae(a+1,2);case"Lo":return i.ordinalNumber(a+1,{unit:"month"});case"LLL":return i.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return i.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(a,{width:"wide",context:"standalone"})}},w:function(e,r,i,a){var l=tp(e,a);return r==="wo"?i.ordinalNumber(l,{unit:"week"}):Ae(l,r.length)},I:function(e,r,i){var a=Zf(e);return r==="Io"?i.ordinalNumber(a,{unit:"week"}):Ae(a,r.length)},d:function(e,r,i){return r==="do"?i.ordinalNumber(e.getUTCDate(),{unit:"date"}):Gn.d(e,r)},D:function(e,r,i){var a=Xf(e);return r==="Do"?i.ordinalNumber(a,{unit:"dayOfYear"}):Ae(a,r.length)},E:function(e,r,i){var a=e.getUTCDay();switch(r){case"E":case"EE":case"EEE":return i.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return i.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(a,{width:"short",context:"formatting"});case"EEEE":default:return i.day(a,{width:"wide",context:"formatting"})}},e:function(e,r,i,a){var l=e.getUTCDay(),u=(l-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(u);case"ee":return Ae(u,2);case"eo":return i.ordinalNumber(u,{unit:"day"});case"eee":return i.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return i.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(l,{width:"short",context:"formatting"});case"eeee":default:return i.day(l,{width:"wide",context:"formatting"})}},c:function(e,r,i,a){var l=e.getUTCDay(),u=(l-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(u);case"cc":return Ae(u,r.length);case"co":return i.ordinalNumber(u,{unit:"day"});case"ccc":return i.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return i.day(l,{width:"narrow",context:"standalone"});case"cccccc":return i.day(l,{width:"short",context:"standalone"});case"cccc":default:return i.day(l,{width:"wide",context:"standalone"})}},i:function(e,r,i){var a=e.getUTCDay(),l=a===0?7:a;switch(r){case"i":return String(l);case"ii":return Ae(l,r.length);case"io":return i.ordinalNumber(l,{unit:"day"});case"iii":return i.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return i.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return i.day(a,{width:"short",context:"formatting"});case"iiii":default:return i.day(a,{width:"wide",context:"formatting"})}},a:function(e,r,i){var a=e.getUTCHours(),l=a/12>=1?"pm":"am";switch(r){case"a":case"aa":return i.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return i.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return i.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(e,r,i){var a=e.getUTCHours(),l;switch(a===12?l=Ur.noon:a===0?l=Ur.midnight:l=a/12>=1?"pm":"am",r){case"b":case"bb":return i.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return i.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return i.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(e,r,i){var a=e.getUTCHours(),l;switch(a>=17?l=Ur.evening:a>=12?l=Ur.afternoon:a>=4?l=Ur.morning:l=Ur.night,r){case"B":case"BB":case"BBB":return i.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return i.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(e,r,i){if(r==="ho"){var a=e.getUTCHours()%12;return a===0&&(a=12),i.ordinalNumber(a,{unit:"hour"})}return Gn.h(e,r)},H:function(e,r,i){return r==="Ho"?i.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Gn.H(e,r)},K:function(e,r,i){var a=e.getUTCHours()%12;return r==="Ko"?i.ordinalNumber(a,{unit:"hour"}):Ae(a,r.length)},k:function(e,r,i){var a=e.getUTCHours();return a===0&&(a=24),r==="ko"?i.ordinalNumber(a,{unit:"hour"}):Ae(a,r.length)},m:function(e,r,i){return r==="mo"?i.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Gn.m(e,r)},s:function(e,r,i){return r==="so"?i.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Gn.s(e,r)},S:function(e,r){return Gn.S(e,r)},X:function(e,r,i,a){var l=a._originalDate||e,u=l.getTimezoneOffset();if(u===0)return"Z";switch(r){case"X":return vd(u);case"XXXX":case"XX":return cr(u);case"XXXXX":case"XXX":default:return cr(u,":")}},x:function(e,r,i,a){var l=a._originalDate||e,u=l.getTimezoneOffset();switch(r){case"x":return vd(u);case"xxxx":case"xx":return cr(u);case"xxxxx":case"xxx":default:return cr(u,":")}},O:function(e,r,i,a){var l=a._originalDate||e,u=l.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+md(u,":");case"OOOO":default:return"GMT"+cr(u,":")}},z:function(e,r,i,a){var l=a._originalDate||e,u=l.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+md(u,":");case"zzzz":default:return"GMT"+cr(u,":")}},t:function(e,r,i,a){var l=a._originalDate||e,u=Math.floor(l.getTime()/1e3);return Ae(u,r.length)},T:function(e,r,i,a){var l=a._originalDate||e,u=l.getTime();return Ae(u,r.length)}};function md(s,e){var r=s>0?"-":"+",i=Math.abs(s),a=Math.floor(i/60),l=i%60;if(l===0)return r+String(a);var u=e;return r+String(a)+u+Ae(l,2)}function vd(s,e){if(s%60===0){var r=s>0?"-":"+";return r+Ae(Math.abs(s)/60,2)}return cr(s,e)}function cr(s,e){var r=e||"",i=s>0?"-":"+",a=Math.abs(s),l=Ae(Math.floor(a/60),2),u=Ae(a%60,2);return i+l+r+u}var yd=function(e,r){switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},Yh=function(e,r){switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},rp=function(e,r){var i=e.match(/(P+)(p+)?/)||[],a=i[1],l=i[2];if(!l)return yd(e,r);var u;switch(a){case"P":u=r.dateTime({width:"short"});break;case"PP":u=r.dateTime({width:"medium"});break;case"PPP":u=r.dateTime({width:"long"});break;case"PPPP":default:u=r.dateTime({width:"full"});break}return u.replace("{{date}}",yd(a,r)).replace("{{time}}",Yh(l,r))},ip={p:Yh,P:rp},ap=["D","DD"],sp=["YY","YYYY"];function op(s){return ap.indexOf(s)!==-1}function lp(s){return sp.indexOf(s)!==-1}function _d(s,e,r){if(s==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(s==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(s==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(s==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var up=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,cp=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,dp=/^'([^]*?)'?$/,hp=/''/g,gp=/[a-zA-Z]/;function Pi(s,e,r){var i,a,l,u,d,g,f,v,w,x,y,_,A,P,R,M,m,S;at(2,arguments);var T=String(e),E=eu(),N=(i=(a=r==null?void 0:r.locale)!==null&&a!==void 0?a:E.locale)!==null&&i!==void 0?i:$1,k=Bn((l=(u=(d=(g=r==null?void 0:r.firstWeekContainsDate)!==null&&g!==void 0?g:r==null||(f=r.locale)===null||f===void 0||(v=f.options)===null||v===void 0?void 0:v.firstWeekContainsDate)!==null&&d!==void 0?d:E.firstWeekContainsDate)!==null&&u!==void 0?u:(w=E.locale)===null||w===void 0||(x=w.options)===null||x===void 0?void 0:x.firstWeekContainsDate)!==null&&l!==void 0?l:1);if(!(k>=1&&k<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var D=Bn((y=(_=(A=(P=r==null?void 0:r.weekStartsOn)!==null&&P!==void 0?P:r==null||(R=r.locale)===null||R===void 0||(M=R.options)===null||M===void 0?void 0:M.weekStartsOn)!==null&&A!==void 0?A:E.weekStartsOn)!==null&&_!==void 0?_:(m=E.locale)===null||m===void 0||(S=m.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&y!==void 0?y:0);if(!(D>=0&&D<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!N.localize)throw new RangeError("locale must contain localize property");if(!N.formatLong)throw new RangeError("locale must contain formatLong property");var b=zt(s);if(!Yf(b))throw new RangeError("Invalid time value");var U=Vf(b),W=qf(b,U),V={firstWeekContainsDate:k,weekStartsOn:D,locale:N,_originalDate:b},q=T.match(cp).map(function(K){var ne=K[0];if(ne==="p"||ne==="P"){var fe=ip[ne];return fe(K,N.formatLong)}return K}).join("").match(up).map(function(K){if(K==="''")return"'";var ne=K[0];if(ne==="'")return fp(K);var fe=np[ne];if(fe)return!(r!=null&&r.useAdditionalWeekYearTokens)&&lp(K)&&_d(K,e,String(s)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&op(K)&&_d(K,e,String(s)),fe(W,K,N.localize,V);if(ne.match(gp))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ne+"`");return K}).join("");return q}function fp(s){var e=s.match(dp);return e?e[1].replace(hp,"'"):s}function wd(s){return at(1,arguments),zt(s).getTime()>Date.now()}function Sd(s,e){at(2,arguments);var r=Bn(e);return Va(s,-r)}function pp(){return Dl(Date.now())}let Ze=Bh.create();const mp={Global:"https://auth.seekrtech.com",China:"https://auth.upwardsware.com"};let Ul=null;function vp(){Ze=Ze.extend({hooks:{beforeRetry:[]}}),Ul=null}function Gl(s){Ze=Ze.extend({headers:{Authorization:`Bearer ${s}`}})}function qh(s){if(Kh(s.serverRegion),s.accessToken&&Gl(s.accessToken),s.refreshToken){let e="";e=mp[s.serverRegion],Ul=()=>Bh.post("oauth/tokens",{prefixUrl:e,json:{grant_type:"refresh_token",refresh_token:s.refreshToken}}).json(),Ze=Ze.extend({retry:{statusCodes:[403,408,413,429,500,502,503,504]},hooks:{beforeRetry:[async({request:r,error:i})=>{if(i instanceof bi&&i.response.status===403){const a=await Ul();r.headers.set("Authorization",`Bearer ${a.access_token}`),Gl(a.access_token),await Xt({accessToken:a.access_token})}}]}})}}function Kh(s){let e="";switch(s){case"Global":e="https://c88fef96.forestapp.cc/api/v1";break;case"China":e="https://forest-china.upwardsware.com/api/v1";break}Ze=Ze.extend({prefixUrl:e})}const yp=async()=>{const s=await Ze.get("tags").json();return xn(s.tags,{deep:!0})},_p=async()=>(await Ze.get("tree_types/unlocked").json()).map(({gid:e})=>e),wp=async s=>{const e=await Ze.get(`users/${s}/boost`).json();return xn(e,{deep:!0})},Sp=async s=>{const e=new Date(new Date(s).getTime()+1e3).toISOString(),r=await Ze.get("plants",{searchParams:{from_date:s,to_date:e}}).json();return xn(r,{deep:!0})},xp=async s=>{const e=await Ze.post("sessions",{json:{session:s}}).json();return xn(e)},Qa=()=>Ze.delete("sessions/signout"),Cp=async s=>{const e=await Ze.get(`users/${s}`).json();return xn(e)},Xh=async s=>{const e=await Ze.post("plants",{json:{plant:Vh(s,{deep:!0})}}).json();return xn(e,{deep:!0})},Qh=async s=>{const e=await Ze.put(`plants/${s.id}`,{json:{plant:Vh(s,{deep:!0})}}).json();return xn(e,{deep:!0})},Tp=async s=>{const e=await Ze.get("plants",{...s&&{searchParams:{from_date:s}}}).json();return xn(e,{deep:!0})},rs=async s=>{const e=await Cp(s),[r,i,a]=await Promise.all([wp(s),yp(),_p()]);let l=i;return i.findIndex(({tagId:u})=>u===0)<0&&(l=[{title:J("plant_tag_0"),tagId:0,deleted:!1},...l]),l=l.filter(({deleted:u})=>u===!1),{user:{...e,...r},tags:l,unlockedPlantIds:a}},Ap=async()=>{const s=await Ze.post("users/signin").json();return xn(s)};var Gt={VITE_PLUGIN_WEB_EXTENSION_CHILD_BUILD:"true",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};let kp=0;function dr(s,e){const r=`atom${++kp}`,i={toString(){return(Gt?"production":void 0)!=="production"&&this.debugLabel?r+":"+this.debugLabel:r}};return typeof s=="function"?i.read=s:(i.init=s,i.read=Ep,i.write=Pp),e&&(i.write=e),i}function Ep(s){return s(this)}function Pp(s,e,r){return e(this,typeof r=="function"?r(s(this)):r)}const xd=(s,e)=>s.unstable_is?s.unstable_is(e):e===s,vl=s=>"init"in s,yl=s=>!!s.write,Ja=new WeakMap,zl=s=>{var e;return jl(s)&&!((e=Ja.get(s))!=null&&e[1])},bp=(s,e)=>{const r=Ja.get(s);if(r)r[1]=!0,r[0].forEach(i=>i(e));else if((Gt?"production":void 0)!=="production")throw new Error("[Bug] cancelable promise not found")},Rp=s=>{if(Ja.has(s))return;const e=[new Set,!1];Ja.set(s,e);const r=()=>{e[1]=!0};s.then(r,r),s.onCancel=i=>{e[0].add(i)}},jl=s=>typeof(s==null?void 0:s.then)=="function",Cd=s=>"v"in s||"e"in s,Na=s=>{if("e"in s)throw s.e;if((Gt?"production":void 0)!=="production"&&!("v"in s))throw new Error("[Bug] atom state is not initialized");return s.v},Jh=(s,e,r)=>{r.p.has(s)||(r.p.add(s),e.then(()=>{r.p.delete(s)},()=>{r.p.delete(s)}))},Td=(s,e,r,i,a)=>{var l;if((Gt?"production":void 0)!=="production"&&i===e)throw new Error("[Bug] atom cannot depend on itself");r.d.set(i,a.n),zl(r.v)&&Jh(e,r.v,a),(l=a.m)==null||l.t.add(e),s&&Op(s,i,e)},Gr=()=>[new Map,new Map,new Set],_l=(s,e,r)=>{s[0].has(e)||s[0].set(e,new Set),s[1].set(e,r)},Op=(s,e,r)=>{const i=s[0].get(e);i&&i.add(r)},Mp=(s,e)=>s[0].get(e),Ad=(s,e)=>{s[2].add(e)},zn=s=>{let e,r=!1;const i=a=>{try{a()}catch(l){r||(e=l,r=!0)}};for(;s[1].size||s[2].size;){s[0].clear();const a=new Set(s[1].values());s[1].clear();const l=new Set(s[2]);s[2].clear(),a.forEach(u=>{var d;return(d=u.m)==null?void 0:d.l.forEach(i)}),l.forEach(i)}if(r)throw e},Zh=(...[s,e,r,i])=>{let a;(Gt?"production":void 0)!=="production"&&(a=new Set);const l=(m,S,T)=>{const E="v"in S,N=S.v,k=zl(S.v)?S.v:null;if(jl(T)){Rp(T);for(const D of S.d.keys())Jh(m,T,s(D));S.v=T,delete S.e}else S.v=T,delete S.e;(!E||!Object.is(N,S.v))&&(++S.n,k&&bp(k,T))},u=(m,S,T)=>{var E;const N=s(S);if(Cd(N)&&(N.m&&!(T!=null&&T.has(S))||Array.from(N.d).every(([V,q])=>u(m,V,T).n===q)))return N;N.d.clear();let k=!0;const D=V=>{if(xd(S,V)){const K=s(V);if(!Cd(K))if(vl(V))l(V,K,V.init);else throw new Error("no atom init");return Na(K)}const q=u(m,V,T);try{return Na(q)}finally{if(k)Td(m,S,N,V,q);else{const K=Gr();Td(K,S,N,V,q),y(K,S,N),zn(K)}}};let b,U;const W={get signal(){return b||(b=new AbortController),b.signal},get setSelf(){return(Gt?"production":void 0)!=="production"&&!yl(S)&&console.warn("setSelf function cannot be used with read-only atom"),!U&&yl(S)&&(U=(...V)=>{if((Gt?"production":void 0)!=="production"&&k&&console.warn("setSelf function cannot be called in sync"),!k)return x(S,...V)}),U}};try{const V=e(S,D,W);if(l(S,N,V),jl(V)){(E=V.onCancel)==null||E.call(V,()=>b==null?void 0:b.abort());const q=()=>{if(N.m){const K=Gr();y(K,S,N),zn(K)}};V.then(q,q)}return N}catch(V){return delete N.v,N.e=V,++N.n,N}finally{k=!1}},d=m=>Na(u(void 0,m)),g=(m,S,T)=>{var E,N;const k=new Map;for(const D of((E=T.m)==null?void 0:E.t)||[])k.set(D,s(D));for(const D of T.p)k.set(D,s(D));return(N=Mp(m,S))==null||N.forEach(D=>{k.set(D,s(D))}),k};function f(m,S,T){const E=[],N=new Set,k=new Set,D=[[S,T]];for(;D.length>0;){const[b,U]=D[D.length-1];if(k.has(b)){D.pop();continue}if(N.has(b)){E.push([b,U,U.n]),k.add(b),D.pop();continue}N.add(b);for(const[W,V]of g(m,b,U))b!==W&&!N.has(W)&&D.push([W,V])}return[E,k]}const v=(m,S,T)=>{const[E,N]=f(m,S,T),k=new Set([S]);for(let D=E.length-1;D>=0;--D){const[b,U,W]=E[D];let V=!1;for(const q of U.d.keys())if(q!==b&&k.has(q)){V=!0;break}V&&(u(m,b,N),y(m,b,U),W!==U.n&&(_l(m,b,U),k.add(b))),N.delete(b)}},w=(m,S,...T)=>{let E=!0;const N=D=>Na(u(m,D)),k=(D,...b)=>{const U=s(D);try{if(xd(S,D)){if(!vl(D))throw new Error("atom not writable");const W=U.n,V=b[0];l(D,U,V),y(m,D,U),W!==U.n&&(_l(m,D,U),v(m,D,U));return}else return w(m,D,...b)}finally{E||zn(m)}};try{return r(S,N,k,...T)}finally{E=!1}},x=(m,...S)=>{const T=Gr();try{return w(T,m,...S)}finally{zn(T)}},y=(m,S,T)=>{if(T.m&&!zl(T.v)){for(const E of T.d.keys())T.m.d.has(E)||(_(m,E,s(E)).t.add(S),T.m.d.add(E));for(const E of T.m.d||[])if(!T.d.has(E)){T.m.d.delete(E);const N=A(m,E,s(E));N==null||N.t.delete(S)}}},_=(m,S,T)=>{if(!T.m){u(m,S);for(const E of T.d.keys())_(m,E,s(E)).t.add(S);if(T.m={l:new Set,d:new Set(T.d.keys()),t:new Set},(Gt?"production":void 0)!=="production"&&a.add(S),yl(S)){const E=T.m;let N;const k=(D,b)=>{let U=!0;N=(...W)=>{try{return w(D,S,...W)}finally{U||zn(D)}};try{return b()}finally{U=!1}};Ad(m,()=>{const D=k(m,()=>i(S,(...b)=>N(...b)));D&&(E.u=b=>k(b,D))})}}return T.m},A=(m,S,T)=>{if(T.m&&!T.m.l.size&&!Array.from(T.m.t).some(E=>{var N;return(N=s(E).m)==null?void 0:N.d.has(S)})){const E=T.m.u;E&&Ad(m,()=>E(m)),delete T.m,(Gt?"production":void 0)!=="production"&&a.delete(S);for(const N of T.d.keys()){const k=A(m,N,s(N));k==null||k.t.delete(S)}return}return T.m},M={get:d,set:x,sub:(m,S)=>{const T=Gr(),E=s(m),k=_(T,m,E).l;return k.add(S),zn(T),()=>{k.delete(S);const D=Gr();A(D,m,E),zn(D)}},unstable_derive:m=>Zh(...m(s,e,r,i))};return(Gt?"production":void 0)!=="production"&&Object.assign(M,{dev4_get_internal_weak_map:()=>({get:S=>{const T=s(S);if(T.n!==0)return T}}),dev4_get_mounted_atoms:()=>a,dev4_restore_atoms:S=>{const T=Gr();for(const[E,N]of S)if(vl(E)){const k=s(E),D=k.n;l(E,k,N),y(T,E,k),D!==k.n&&(_l(T,E,k),v(T,E,k))}zn(T)}}),M},Fp=()=>{const s=new WeakMap;return Zh(r=>{if((Gt?"production":void 0)!=="production"&&!r)throw new Error("Atom is undefined or null");let i=s.get(r);return i||(i={d:new Map,p:new Set,n:0},s.set(r,i)),i},(r,...i)=>r.read(...i),(r,...i)=>r.write(...i),(r,...i)=>{var a;return(a=r.onMount)==null?void 0:a.call(r,...i)})};let Si;const Np=()=>(Si||(Si=Fp(),(Gt?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=Si),globalThis.__JOTAI_DEFAULT_STORE__!==Si&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),Si);var $h={VITE_PLUGIN_WEB_EXTENSION_CHILD_BUILD:"true",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const Ip=re.createContext(void 0),e0=s=>re.useContext(Ip)||Np(),t0=s=>typeof(s==null?void 0:s.then)=="function",Lp=s=>{s.status="pending",s.then(e=>{s.status="fulfilled",s.value=e},e=>{s.status="rejected",s.reason=e})},Dp=ft.use||(s=>{if(s.status==="pending")throw s;if(s.status==="fulfilled")return s.value;throw s.status==="rejected"?s.reason:(Lp(s),s)}),wl=new WeakMap,Up=s=>{let e=wl.get(s);return e||(e=new Promise((r,i)=>{let a=s;const l=g=>f=>{a===g&&r(f)},u=g=>f=>{a===g&&i(f)},d=g=>{"onCancel"in g&&typeof g.onCancel=="function"&&g.onCancel(f=>{if(($h?"production":void 0)!=="production"&&f===g)throw new Error("[Bug] p is not updated even after cancelation");t0(f)?(wl.set(f,e),a=f,f.then(l(f),u(f)),d(f)):r(f)})};s.then(l(s),u(s)),d(s)}),wl.set(s,e)),e};function hr(s,e){const r=e0(),[[i,a,l],u]=re.useReducer(f=>{const v=r.get(s);return Object.is(f[0],v)&&f[1]===r&&f[2]===s?f:[v,r,s]},void 0,()=>[r.get(s),r,s]);let d=i;if((a!==r||l!==s)&&(u(),d=r.get(s)),re.useEffect(()=>{const f=r.sub(s,()=>{u()});return u(),f},[r,s,void 0]),re.useDebugValue(d),t0(d)){const f=Up(d);return Dp(f)}return d}function Et(s,e){const r=e0();return re.useCallback((...a)=>{if(($h?"production":void 0)!=="production"&&!("write"in s))throw new Error("not writable atom");return r.set(s,...a)},[r,s])}function Bl(s,e){return[hr(s),Et(s)]}var n0=ef("options"),au=tf("options",s=>n0.postMessage(s));n0.onMessage(au.handleMessage);var{sendMessage:su,onMessage:Sl}=au;nf(au);function r0(){const[s,e]=re.useState(!1),r=tu(s,{from:{opacity:0},enter:{opacity:1},leave:{opacity:0}}),i=re.useCallback(()=>{e(!1)},[]),a=re.useCallback(()=>{e(!0)},[]);return{trans:r,on:a,off:i}}const Gp="data:image/svg+xml,%3csvg%20id='layer-1'%20data-name='layer-1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%20143.08%20143.08'%3e%3cdefs%3e%3cstyle%3e.cls-1{fill:none;}.cls-2{clip-path:url(%23clip-path);}.cls-3{fill:url(%23linear-gradient);}.cls-4{fill:%237a4200;}.cls-5{fill:%238a5100;}.cls-6{clip-path:url(%23clip-path-2);}.cls-7{fill:%2377ca00;}.cls-8{fill:%2363a600;}%3c/style%3e%3cclipPath%20id='clip-path'%3e%3crect%20class='cls-1'%20width='143.08'%20height='143.08'%20rx='32.14'/%3e%3c/clipPath%3e%3clinearGradient%20id='linear-gradient'%20x1='-136.52'%20y1='-287.45'%20x2='-136.38'%20y2='-287.45'%20gradientTransform='matrix(0,%20710.98,%20710.98,%200,%20204446.34,%2097064.5)'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%23c6ff89'/%3e%3cstop%20offset='0.45'%20stop-color='%23df8'/%3e%3cstop%20offset='1'%20stop-color='%23f5ff87'/%3e%3c/linearGradient%3e%3cclipPath%20id='clip-path-2'%3e%3crect%20class='cls-1'%20width='143.08'%20height='143.08'/%3e%3c/clipPath%3e%3c/defs%3e%3cg%20class='cls-2'%3e%3crect%20class='cls-3'%20width='143.08'%20height='143.08'/%3e%3crect%20class='cls-4'%20y='107.1'%20width='143.08'%20height='35.98'/%3e%3cpath%20class='cls-5'%20d='M111,94.81H32.14C14.39,94.81,0,99.76,0,105.87v2.46c0,6.11,14.39,11.07,32.14,11.07H111c17.75,0,32.13-5,32.13-11.07v-2.46c0-6.11-14.38-11.06-32.13-11.06'/%3e%3c/g%3e%3cg%20class='cls-6'%3e%3cpath%20class='cls-7'%20d='M74.61,97.47s-.37-12.75,2.84-13S83,88.05,91.78,87.25c11.72-1.07,19.59-12.28,21.59-23a23.06,23.06,0,0,1-9.7,4.38c-6,.87-12-1.71-19.59.91-5.57,1.93-8.56,9-9,14.16A32,32,0,0,0,72.6,96.84Z'/%3e%3cpath%20class='cls-8'%20d='M75.12,83.65A32,32,0,0,0,72.6,96.84h.85s.41-8.6,1.67-13.19'/%3e%3cpath%20class='cls-7'%20d='M71.38,106.15a89.47,89.47,0,0,0,1-10.28c0-3.94.31-13.4-5.61-12.81-3.35.34-14.07.78-20.87-4.58-8.08-6.36-9.6-18.75-18.94-22.17,0,0,18.85-4.37,32.92,4.09C68.56,65.65,70,72,70.05,81.19a13.93,13.93,0,0,1,3.72,7.08,85.93,85.93,0,0,1,1.59,17.88Z'/%3e%3cpath%20class='cls-8'%20d='M66.73,83.06s4.71-1.18,5.87,6c.7,4.34.58,10.23,0,17.07H71.38a89.47,89.47,0,0,0,1-10.28c0-3.94.31-13.4-5.61-12.81'/%3e%3cpath%20class='cls-8'%20d='M68.93,81.26c-.12-.24-.25-.48-.38-.72s-.26-.47-.4-.7c-.27-.46-.55-.91-.84-1.36-.59-.89-1.21-1.75-1.87-2.58s-1.35-1.63-2.07-2.39a31.35,31.35,0,0,0-2.28-2.18c-.79-.69-1.61-1.35-2.46-2-.42-.32-.87-.6-1.3-.91-.21-.15-.44-.28-.66-.43s-.45-.29-.68-.42a55.62,55.62,0,0,0-5.69-3,23.32,23.32,0,0,1,6.22,2c.25.11.49.24.73.37l.73.39c.47.28,1,.56,1.4.87s.91.63,1.35,1c.22.16.44.34.65.51l.32.27.31.27c.42.36.82.74,1.21,1.13s.77.79,1.13,1.21a23.91,23.91,0,0,1,2,2.64,21.92,21.92,0,0,1,1.58,2.89c.22.51.42,1,.59,1.53a10.86,10.86,0,0,1,.43,1.58'/%3e%3cpath%20class='cls-8'%20d='M76.29,83.65a7,7,0,0,1,.42-1.19,10.9,10.9,0,0,1,.6-1.12,11.75,11.75,0,0,1,1.58-2,12.93,12.93,0,0,1,2-1.67c.36-.24.72-.47,1.09-.68l.28-.16.29-.15c.19-.1.37-.2.57-.29a17.3,17.3,0,0,1,2.4-.89l.62-.16.31-.07.31-.07.62-.12L88,75a16.88,16.88,0,0,1,5,.09c-1.64.3-3.25.58-4.81,1l-.58.15-.58.17c-.39.11-.76.24-1.14.36l-.56.21-.28.1-.28.12-.55.22-.54.25a19.73,19.73,0,0,0-4,2.49,16.91,16.91,0,0,0-1.77,1.62,15.29,15.29,0,0,0-1.57,1.89'/%3e%3c/g%3e%3c/svg%3e";var ou={VITE_PLUGIN_WEB_EXTENSION_CHILD_BUILD:"true",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const zp=Symbol((ou?"production":void 0)!=="production"?"RESET":"");function fr(s){const e=Symbol(),r=dr(e);(ou?"production":void 0)!=="production"&&(r.debugPrivate=!0);const i=dr((a,l)=>{const u=a(r);return u!==e?u:s(a,l)},(a,l,u)=>{if(u===zp)l(r,e);else if(typeof u=="function"){const d=a(i);l(r,u(d))}else l(r,u)});return i}const jp=s=>typeof(s==null?void 0:s.then)=="function";function Bp(s=()=>{try{return window.localStorage}catch(r){(ou?"production":void 0)!=="production"&&typeof window<"u"&&console.warn(r);return}},e){var r;let i,a;const l={getItem:(g,f)=>{var v,w;const x=_=>{if(_=_||"",i!==_){try{a=JSON.parse(_,e==null?void 0:e.reviver)}catch{return f}i=_}return a},y=(w=(v=s())==null?void 0:v.getItem(g))!=null?w:null;return jp(y)?y.then(x):x(y)},setItem:(g,f)=>{var v;return(v=s())==null?void 0:v.setItem(g,JSON.stringify(f,void 0))},removeItem:g=>{var f;return(f=s())==null?void 0:f.removeItem(g)}},u=g=>(f,v,w)=>g(f,x=>{let y;try{y=JSON.parse(x||"")}catch{y=w}v(y)});let d;try{d=(r=s())==null?void 0:r.subscribe}catch{}return!d&&typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(d=(g,f)=>{if(!(s()instanceof window.Storage))return()=>{};const v=w=>{w.storageArea===s()&&w.key===g&&f(w.newValue)};return window.addEventListener("storage",v),()=>{window.removeEventListener("storage",v)}}),d&&(l.subscribe=u(d)),l}Bp();const is=dr(async()=>await su(Vr.GET_OPTIONS_PROPS,null,"background")),Vl=dr({canShow:!1,text:""}),Ni=dr(null,(s,e,r)=>{e(Vl,{...s(Vl),canShow:!0,text:r})}),lu=fr(async s=>(await s(is)).user),i0=fr(async s=>(await s(is)).allowList),a0=fr(async s=>(await s(is)).blockList),s0=dr(null,(s,e,r)=>{const[i,a]=r;nu(i==="Allow"?"allowList":"blockList",a),e(i==="Allow"?i0:a0,async()=>a)}),o0=fr(async s=>(await s(is)).plantingStatus),l0=dr(null),u0=fr(async()=>await Vn("tags")),c0=fr(async()=>await Vn("plantRecords")),Vp=fr(()=>Vn("serverRegion")),Wp=B(pt.div)`
  z-index: 10;
  position: fixed;
  inset: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  background-color: rgba(0, 0, 0, 0.2);
`,Hp=B(pt.div)`
  width: 300px;
  padding: 24px 20px 20px;
  background-color: #fff;
  border-radius: 10px;
  box-shadow: 0px 0px 4px rgba(0, 0, 0, 0.25);
  position: relative;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  align-items: center;
`,Yp=B.div`
  text-align: center;
  color: #333333;
  font-size: 18px;
  font-weight: 500;
  line-height: 26px;
`,qp=B.div`
  text-align: center;
  margin-top: 12px;
  padding: 0 5px;
  color: #666666;
`,Kp=B.div`
  text-align: center;
  margin-top: 16px;
  width: 120px;
  height: 36px;
  line-height: 36px;
  color: #fff;
  background-color: #8dc925;
  box-shadow: 0 4px 0 #64a408;
  border-radius: 5px;
  cursor: pointer;
  font-size: 16px;

  &:active {
    box-shadow: none;
    transform: translateY(4px);
  }

  &:focus {
    outline: none;
  }
`;function Xp({close:s,style:e}){return O.jsx(Wp,{style:{opacity:e.opacity},onClick:({target:r,currentTarget:i})=>r===i&&s(),children:O.jsxs(Hp,{style:{transform:e.transform},children:[O.jsx(Yp,{children:J("dialog_login_migration_transfer_title")}),O.jsx(qp,{children:J("dialog_login_migration_transfer_content")}),O.jsx(Kp,{onClick:s,children:J("ok_btn")})]})})}const Qp="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cdefs%3e%3cstyle%3e.cls-1{fill:%23666666;}.cls-2{fill:none;stroke:%23666666;stroke-miterlimit:10;stroke-width:1.2px;}%3c/style%3e%3c/defs%3e%3cg%20id='_5'%20data-name='5'%3e%3cpath%20class='cls-1'%20d='M12,5a7,7,0,1,1-6.94,7A7,7,0,0,1,12,5m0-1.2A8.2,8.2,0,1,0,20.15,12,8.18,8.18,0,0,0,12,3.8Z'/%3e%3cellipse%20class='cls-2'%20cx='12.02'%20cy='12'%20rx='3.98'%20ry='7'/%3e%3cline%20class='cls-2'%20x1='12.02'%20y1='5'%20x2='12.02'%20y2='19'/%3e%3cline%20class='cls-2'%20x1='18.29'%20y1='8.13'%20x2='5.61'%20y2='8.13'/%3e%3cline%20class='cls-2'%20x1='18.29'%20y1='15.66'%20x2='5.61'%20y2='15.66'/%3e%3cline%20class='cls-2'%20x1='4.95'%20y1='12'%20x2='18.95'%20y2='12'/%3e%3c/g%3e%3c/svg%3e",Jp="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2020%2020'%3e%3cdefs%3e%3cstyle%3e%20.cls-1%20{%20fill:none;stroke:%23666666;%20stroke-linecap:round;%20stroke-linejoin:round;%20stroke-width:2px;%20}%20%3c/style%3e%3c/defs%3e%3cg%20id='icon'%3e%3cpolyline%20class='cls-1'%20points='3.54%207.77%2010%2014.23%2016.46%207.77'/%3e%3c/g%3e%3c/svg%3e";async function as(s,{lastSyncedAt:e,onStart:r,onSucceeded:i,onError:a,onFinished:l}){try{r==null||r();const u=await Tp(e),d=u.reduce((y,_)=>({...y,[_.id]:_}),{}),g=s.map(async y=>{if(y.syncStatus==="Succeeded")return{...y,plant:d[y.plant.id]||y.plant};if(y.syncStatus==="Pending"||y.syncStatus==="Failed"){if(y.plant.id){const A=await Qh(y.plant);return{...y,plant:A,syncStatus:"Succeeded"}}const _=await Xh(y.plant);return{...y,plant:_,syncStatus:"Succeeded"}}return y}),f=await Promise.all(g),v=f.map(({plant:y})=>y.id),w=u.filter(({id:y})=>v.includes(y)===!1).map(y=>({plant:y,syncStatus:"Succeeded"})),x=[...f,...w].sort((y,_)=>new Date(_.plant.startTime).getTime()-new Date(y.plant.startTime).getTime());await Xt({plantRecords:x,lastSyncedAt:new Date().toISOString()}),i==null||i(x)}catch(u){if(a)a(u);else throw u}finally{l==null||l()}}const Zp=B(pt.div)`
  z-index: 10;
  position: fixed;
  inset: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  background-color: rgba(0, 0, 0, 0.2);
`,$p=B(pt.div)`
  width: 300px;
  padding: 24px 20px 20px;
  background-color: #fff;
  border-radius: 10px;
  box-shadow: 0px 0px 4px rgba(0, 0, 0, 0.25);
  position: relative;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  position: relative;
`,e2=B.form`
  margin-top: 16px;
  display: flex;
  flex-direction: column;
`,t2=B(pt.div)`
  display: flex;
  flex-direction: column;
  gap: 12px;
`,kd=B.input`
  width: 100%;
  height: 32px;
  border: 1px solid #c9c9c9;
  border-radius: 6px;
  padding: 0 8px;
  line-height: 30px;
  font-size: 14px;
  transition: 300ms;
  color: #333;

  &::placeholder {
    color: #c9c9c9;
  }

  &:focus {
    outline: none;
    box-shadow: 0 0 3px rgba(81, 163, 135, 0.6);
    border-color: rgba(81, 163, 135, 0.6);
  }

  ${s=>s.$hasError&&Jt`
      border-color: rgba(232, 71, 65, 0.8) !important;
      box-shadow: 0 0 3px rgba(232, 71, 65, 0.4) !important;
    `}
`,n2=B.div`
  text-align: center;
  font-size: 18px;
  line-height: 26px;
  color: #333;
`,r2=B.div`
  color: #e84741;
  font-size: 14px;
  margin-top: 12px;
  text-align: center;
`;B.div`
  margin-top: 32px;
  margin-left: -4px;
  margin-right: -4px;
  display: flex;
  justify-content: space-between;
`;const d0=B.button`
  width: 120px;
  height: 36px;
  line-height: 36px;
  text-align: center;
  color: #fff;
  border-radius: 5px;
  cursor: pointer;
  font-size: 16px;

  &:active {
    box-shadow: none;
    transform: translateY(4px);
  }

  &:focus {
    outline: none;
  }
`;B(d0)`
  background-color: #c9c9c9;
  box-shadow: 0 4px 0 #888888;
`;const i2=B(d0)`
  background-color: #8dc925;
  box-shadow: 0 4px 0 #64a408;
`,a2=B(pt.div)`
  position: absolute;
  inset: 0;
  background-color: rgba(0, 0, 0, 0.2);
`,s2=B.img`
  width: 23px;
  height: 23px;
`,o2=B.img`
  width: 14px;
  height: 14px;
  margin-left: 2px;
`,l2=B.div`
  align-self: center;
  cursor: pointer;
  margin-top: 12px;
  color: #666;
  font-size: 14px;
  border: 1px solid #666;
  border-radius: 12px;
  display: flex;
  align-items: center;
  height: 24px;
  padding: 0 4px;
`,u2=B(pt.div)`
  position: absolute;
  inset: 0;
  background-color: rgba(0, 0, 0, 0.2);
`,c2=B(pt.div)`
  position: absolute;
  top: 100px;
  left: 0;
  right: 0;
  background-color: #fff;
  padding: 10px 12px;
  border-radius: 6px;

  &:before {
    content: '';
    width: 12px;
    height: 12px;
    position: absolute;
    background-color: #fff;
    top: -5px;
    left: 50%;
    transform: translateX(-50%) rotate(45deg) skew(10deg, 10deg);
    border-radius: 3px 0 0 0;
  }
`,d2=B.div`
  color: #666;
  font-size: 14px;
  line-height: 20px;
  text-align: center;
`,h2=B.div`
  margin-top: 12px;
`,Ed=B.div`
  color: ${s=>s.$selected?"#51A387":"#888"};
  font-size: 16px;
  line-height: 24px;
  text-align: center;
  cursor: pointer;

  &:not(:first-child) {
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    padding-top: 8px;
  }

  &:not(:last-child) {
    padding-bottom: 8px;
  }
`;function g2({showBlockLoginDialog:s}){const e=Et(Ni),[r,i]=Bl(l0),[a,l]=Bl(Vp),u=re.useRef(!1),d=r0(),[g,f]=re.useState(""),[v,w]=re.useState(""),[x,y]=re.useState("");re.useEffect(()=>{r&&f(r.defaultEmail)},[r]);const _=tu(!!r,{from:{opacity:0,transform:"scale(0.7)"},enter:{opacity:1,transform:"scale(1)"},leave:{opacity:0,transform:"scale(0.7)"}}),[A,P]=Nh(()=>({from:{x:0},reset:!0})),R=Ih(),M=()=>{i(null),f(""),w(""),y("")},m=(E,N)=>{y(""),E==="email"?f(N):w(N)},S=async()=>{if(!g||!v){P.start({from:{x:0},to:{x:1}}),y(J("settings_login_failed"));return}try{u.current=!0,d.on();const{userId:E}=await xp({email:g,password:v}),N=await rs(E),k=await Vn("plantRecords");await as(k,{lastSyncedAt:new Date(0).toISOString(),onError:async()=>{throw e(J("settings_status_fail")),await Qa(),new Error("Sync failed")}}),Xt(N),M()}catch(E){if(E instanceof bi)switch(E.response.status){case 403:y(J("settings_login_failed"));break;case 488:Qa(),s();break;case 404:case 481:y(J("login_error_message_server"));break;default:y(J("settings_login_failed_error_code")+E.response.status||"Unknown")}}finally{u.current=!1,d.off()}},T=E=>{l(E),Kh(E),Xt({serverRegion:E}),su(Vr.SET_BACKGROUND_SERVER_REGION,{serverRegion:E}),R.off()};return _((E,N)=>N&&O.jsx(Zp,{style:{opacity:E.opacity},onClick:({target:k,currentTarget:D})=>{u.current||k===D&&M()},children:O.jsxs($p,{style:{transform:E.transform},children:[O.jsx(n2,{children:J("settings_login_portal")}),O.jsxs(l2,{onClick:R.on,children:[O.jsx(s2,{src:Qp}),(()=>{switch(a){case"Global":return J("global_server");case"China":return J("china_server")}})(),O.jsx(o2,{src:Jp})]}),x&&O.jsx(r2,{children:x}),O.jsxs(e2,{children:[O.jsxs(t2,{style:{transform:A.x.to({range:[0,.01,.2,.4,.6,.8,1],output:[0,30,-30,15,-15,8,0]}).to(k=>`translateX(${k}px)`)},children:[O.jsx(kd,{$hasError:!!x,type:"email",placeholder:J("settings_login_email"),onChange:k=>m("email",k.target.value),value:g}),O.jsx(kd,{$hasError:!!x,type:"password",placeholder:J("settings_login_password"),onChange:k=>m("password",k.target.value),value:v})]}),O.jsx(i2,{onClick:k=>{k.preventDefault(),S()},style:{marginTop:"32px",alignSelf:"center"},children:J("settings_login_btn")})]}),R.trans((k,D)=>D&&O.jsx(u2,{style:{opacity:k.opacity},onClick:({target:b,currentTarget:U})=>b===U&&R.off(),children:O.jsxs(c2,{style:{transform:k.transform},children:[O.jsx(d2,{children:J("login_choose_server")}),O.jsxs(h2,{children:[O.jsx(Ed,{$selected:a==="Global",onClick:()=>T("Global"),children:J("global_server")}),O.jsx(Ed,{$selected:a==="China",onClick:()=>T("China"),children:J("china_server")})]})]})})),d.trans((k,D)=>D&&O.jsx(a2,{style:k}))]})}))}const f2=B.div`
  background-color: #f4f4f4;
  min-width: 170px;
  height: 100%;
`,p2=B.ul`
  top: 76px;
  padding: 0px;
  margin-top: 28px;
  font-weight: 500;
  font-size: 14px;
  position: sticky;
`,m2=Jt`
  color: #333;
  background-color: #eaeaea;
`,xi=B.li`
  height: 38px;
  line-height: 38px;
  padding-left: 20px;
  color: #666;
  cursor: pointer;
  transition: 300ms;

  ${({$isActive:s})=>s&&m2};

  &:hover {
    background-color: #eaeaea;
    color: #333333;
  }
`;function v2({currentRoute:s,setCurrentRoute:e}){return O.jsx(f2,{children:O.jsxs(p2,{children:[O.jsx(xi,{$isActive:s==="History",onClick:()=>e("History"),children:J("settings_sidebar_history")}),O.jsx(xi,{$isActive:s==="Blocklist",onClick:()=>e("Blocklist"),children:J("settings_sidebar_blocklist")}),O.jsx(xi,{$isActive:s==="Allowlist",onClick:()=>e("Allowlist"),children:J("settings_sidebar_allowlist")}),O.jsx(xi,{$isActive:s==="About",onClick:()=>e("About"),children:J("settings_sidebar_aboutforest")}),O.jsx(xi,{$isActive:s==="FAQ",onClick:()=>e("FAQ"),children:J("settings_sidebar_faq")})]})})}const y2="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cdefs%3e%3cstyle%3e.cls-1,.cls-2{fill:%23ffffff;}.cls-2{stroke:%23ffffff;stroke-miterlimit:10;stroke-width:0.25px;}%3c/style%3e%3c/defs%3e%3cg%20id='_10'%20data-name='10'%3e%3cpath%20class='cls-1'%20d='M12,5.25A6.75,6.75,0,1,1,5.25,12,6.76,6.76,0,0,1,12,5.25m0-1.5A8.25,8.25,0,1,0,20.25,12,8.26,8.26,0,0,0,12,3.75Z'/%3e%3c/g%3e%3cg%20id='_5'%20data-name='5'%3e%3cpath%20class='cls-2'%20d='M11.11,8.52a.89.89,0,1,1,1.78,0,.89.89,0,0,1-1.78,0Z'/%3e%3cpath%20class='cls-1'%20d='M13.82,16a.4.4,0,0,1-.08.23.29.29,0,0,1-.26.14H10.71a.29.29,0,0,1-.25-.14.4.4,0,0,1-.08-.23.46.46,0,0,1,.08-.25.34.34,0,0,1,.23-.15,1.76,1.76,0,0,0,.46-.09.36.36,0,0,0,.16-.13.53.53,0,0,0,.06-.21c0-.13,0-.27,0-.45V12.8q0-.5,0-.81a1,1,0,0,0-.08-.4.32.32,0,0,0-.15-.13,2.42,2.42,0,0,0-.42-.08.32.32,0,0,1-.25-.15.43.43,0,0,1-.07-.23.37.37,0,0,1,.07-.23.32.32,0,0,1,.27-.16l.81-.12,1-.14a.4.4,0,0,1,.37.19.88.88,0,0,1,.06.26v3.87c0,.2,0,.36,0,.5a.61.61,0,0,0,.06.25.3.3,0,0,0,.13.12,1.32,1.32,0,0,0,.38.09.34.34,0,0,1,.24.15A.46.46,0,0,1,13.82,16Z'/%3e%3c/g%3e%3c/svg%3e",Pd={Toast:B(pt.div)`
    padding: 10px 20px;
    font-size: 12px;
    line-height: 16px;
    position: fixed;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(0, 0, 0, 0.8);
    border-radius: 6px;
    color: #fff;
    display: flex;
    align-items: center;
  `,Icon:B.img`
    width: 20px;
    height: 20px;
    margin-right: 4px;
  `};function _2(){const[{canShow:s,text:e},r]=Bl(Vl),i=tu(s,{from:{opacity:0},enter:{opacity:1},leave:{opacity:0}});return re.useEffect(()=>{s&&setTimeout(()=>{r(a=>({...a,canShow:!1}))},4500)},[s]),i((a,l)=>l&&O.jsxs(Pd.Toast,{style:a,children:[O.jsx(Pd.Icon,{src:y2}),e]}))}var Wl=new Map,Ia=new WeakMap,bd=0,w2=void 0;function S2(s){return s?(Ia.has(s)||(bd+=1,Ia.set(s,bd.toString())),Ia.get(s)):"0"}function x2(s){return Object.keys(s).sort().filter(e=>s[e]!==void 0).map(e=>`${e}_${e==="root"?S2(s.root):s[e]}`).toString()}function C2(s){let e=x2(s),r=Wl.get(e);if(!r){const i=new Map;let a;const l=new IntersectionObserver(u=>{u.forEach(d=>{var g;const f=d.isIntersecting&&a.some(v=>d.intersectionRatio>=v);s.trackVisibility&&typeof d.isVisible>"u"&&(d.isVisible=f),(g=i.get(d.target))==null||g.forEach(v=>{v(f,d)})})},s);a=l.thresholds||(Array.isArray(s.threshold)?s.threshold:[s.threshold||0]),r={id:e,observer:l,elements:i},Wl.set(e,r)}return r}function T2(s,e,r={},i=w2){if(typeof window.IntersectionObserver>"u"&&i!==void 0){const g=s.getBoundingClientRect();return e(i,{isIntersecting:i,target:s,intersectionRatio:typeof r.threshold=="number"?r.threshold:0,time:0,boundingClientRect:g,intersectionRect:g,rootBounds:g}),()=>{}}const{id:a,observer:l,elements:u}=C2(r);let d=u.get(s)||[];return u.has(s)||u.set(s,d),d.push(e),l.observe(s),function(){d.splice(d.indexOf(e),1),d.length===0&&(u.delete(s),l.unobserve(s)),u.size===0&&(l.disconnect(),Wl.delete(a))}}function A2({threshold:s,delay:e,trackVisibility:r,rootMargin:i,root:a,triggerOnce:l,skip:u,initialInView:d,fallbackInView:g,onChange:f}={}){var v;const[w,x]=re.useState(null),y=re.useRef(),[_,A]=re.useState({inView:!!d,entry:void 0});y.current=f,re.useEffect(()=>{if(u||!w)return;let m;return m=T2(w,(S,T)=>{A({inView:S,entry:T}),y.current&&y.current(S,T),T.isIntersecting&&l&&m&&(m(),m=void 0)},{root:a,rootMargin:i,threshold:s,trackVisibility:r,delay:e},g),()=>{m&&m()}},[Array.isArray(s)?s.toString():s,w,a,i,l,u,r,g,e]);const P=(v=_.entry)==null?void 0:v.target,R=re.useRef();!w&&P&&!l&&!u&&R.current!==P&&(R.current=P,A({inView:!!d,entry:void 0}));const M=[x,_.inView,_.entry];return M.ref=M[0],M.inView=M[1],M.entry=M[2],M}const k2="modulepreload",E2=function(s){return"/"+s},Rd={},P2=function(e,r,i){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));a=Promise.all(r.map(d=>{if(d=E2(d),d in Rd)return;Rd[d]=!0;const g=d.endsWith(".css"),f=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${f}`))return;const v=document.createElement("link");if(v.rel=g?"stylesheet":k2,g||(v.as="script",v.crossOrigin=""),v.href=d,u&&v.setAttribute("nonce",u),document.head.appendChild(v),g)return new Promise((w,x)=>{v.addEventListener("load",w),v.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})}))}return a.then(()=>e()).catch(l=>{const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l})},b2={sg:"https://forest-legacy-sign-in.seekrtech.com",cn:"https://forest-legacy-sign-in.upwardsware.com",staging:"https://preview.forest-legacy-sign-in.pages.dev"};function R2(){const s=chrome.i18n.getUILanguage().toLowerCase();if(s==="zh-tw"||s.startsWith("zh-hant"))return"zh_TW";if(s==="zh-cn"||s.startsWith("zh-hans"))return"zh_CN";if(s.startsWith("zh"))return"zh_TW";if(s.startsWith("pt"))return"pt_BR";const e=s.split("-")[0];return["en","es","ja","ko","ar","de","fr","it","ru","th","tr"].includes(e)?e:"en"}const O2=P2(()=>import("../../index.js"),[]);async function M2(){var r;const{getCountryForTimezone:s}=await O2,{timeZone:e}=Intl.DateTimeFormat().resolvedOptions();return((r=s(e))==null?void 0:r.id)??"Unknown"}async function F2({server:s,legacyUserEmail:e}){const{codeChallenge:r,codeVerifier:i}=await z2(),a=new URLSearchParams({scope:"/",audience:s==="cn"?"upwardsware.forest":"seekrtech.forest",code_challenge_method:"S256",code_challenge:r,response_type:"code",client_id:"3b9313c6-71f4-4830-82f5-3b634f278a0f",redirect_uri:Wr.identity.getRedirectURL(),platform:"web",language:R2(),region:await M2(),variant:"standalone"});let l;e?(l=new URL("/sign-in",b2[s]),l.search=new URLSearchParams({server:s,email:e,auth:JSON.stringify({...Object.fromEntries(a),skip_signed_in_check:"true",should_lock_server_select:"true"})}).toString()):(l=new URL("/entry",rf[s]),l.search=a.toString()),I2(400,750);const d=await Wr.identity.launchWebAuthFlow({url:l.toString(),interactive:!0});if(!d)throw new Error("No response URI");const g=new URL(d),f=g.searchParams.get("origin"),v=g.searchParams.get("sign_in_with_legacy");if(v)return["SIGN_IN_WITH_LEGACY",{email:v,authOrigin:f}];const w=g.searchParams.get("code");if(!w)throw new Error("No auth code");return["AUTH_CODE",{authCode:w,codeVerifier:i,authOrigin:f}]}async function N2({authCode:s,codeVerifier:e,authOrigin:r}){const i=new URL("/oauth/tokens",r),a=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({grant_type:"authorization_code",code:s,code_verifier:e})});if(!a.ok)throw new Error("Failed to exchange auth code for tokens");return await a.json()}function I2(s,e){Wr.windows.onCreated.addListener(L2(s,e))}function L2(s,e){return function r(i){if(i!=null&&i.id){const{top:a=Math.round(window.screen.height/2),left:l=Math.round(window.screen.width/2),width:u=0,height:d=0}=i,g={top:Math.round(a+d/2-e/2),left:Math.round(l+u/2-s/2),width:s,height:e};Wr.windows.update(i.id,g),Wr.windows.onCreated.removeListener(r)}}}function D2(s=32){const e=new Uint8Array(s),r=window.crypto.getRandomValues(e),i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-._~";let a="";for(let l=0;l<s;l++){const u=r[l]%i.length;a+=i[u]}return a}async function U2(s){const r=new TextEncoder().encode(s),i=await window.crypto.subtle.digest("SHA-256",r);return G2(i)}function G2(s){return Array.from(new Uint8Array(s)).map(e=>e.toString(16).padStart(2,"0")).join("")}async function z2(){const s=D2(),e=await U2(s);return{codeVerifier:s,codeChallenge:e}}function h0({globalLoader:s}){const e=Et(Ni),r=Et(l0);return async()=>{s.on();try{const{serverRegion:a,accessToken:l,user:u}=await ru(["serverRegion","accessToken","user"]),[d,g]=await F2({server:a==="Global"?"sg":"cn",...u&&!l&&{legacyUserEmail:u.email}});switch(d){case"SIGN_IN_WITH_LEGACY":r({defaultEmail:g.email});break;case"AUTH_CODE":{const f=await N2({authCode:g.authCode,codeVerifier:g.codeVerifier,authOrigin:g.authOrigin}),v=af[g.authOrigin];su(Vr.SET_BACKGROUND_SERVER_REGION,{serverRegion:v}),Xt({accessToken:f.access_token,refreshToken:f.refresh_token,serverRegion:v}),qh({accessToken:f.access_token,refreshToken:f.refresh_token,serverRegion:v});const w=await Ap(),x=await rs(w.id),y=await Vn("plantRecords");await as(y,{lastSyncedAt:new Date(0).toISOString(),onError:async()=>{throw e(J("settings_status_fail")),await Qa(),new Error("Sync failed")}}),await Xt(x)}break}}finally{s.off()}}}const Od="/avatar.png",j2="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2022%2022'%3e%3cdefs%3e%3cstyle%3e.cls-1{fill:%23fff;}.cls-2{fill:%23bd9d00;}.cls-3{fill:%23ffda00;}.cls-4{fill:%23dbb700;}%3c/style%3e%3c/defs%3e%3cg%20id='profile'%3e%3cpath%20class='cls-1'%20d='M7.76,15.38a2,2,0,0,1-.2-.55,4,4,0,0,1-.1-1.42,3.12,3.12,0,0,1,.69-1.71,2.91,2.91,0,0,1,1.25-.84,4.33,4.33,0,0,1,1.24-.22,4.2,4.2,0,0,0-.59,1,1.45,1.45,0,0,0-.07.88.79.79,0,0,0,.44.44l.29.1.15,0s.12,0,.08-.09Z'/%3e%3cellipse%20class='cls-2'%20cx='11'%20cy='11.52'%20rx='8'%20ry='7.48'/%3e%3cellipse%20class='cls-3'%20cx='11'%20cy='10.48'%20rx='8'%20ry='7.48'/%3e%3cpath%20class='cls-4'%20d='M14.24,11.91A3.92,3.92,0,0,1,10.6,14.2,3.22,3.22,0,0,1,7.39,11c0-2.66,2.38-3.33,3.64-3.46S13,6.81,13,5.8A5.93,5.93,0,0,1,14.24,11.91Z'/%3e%3cpath%20class='cls-2'%20d='M8,11.5C8,8.84,10.43,8.17,11.68,8a2,2,0,0,0,2-1.43A7.41,7.41,0,0,0,13,5.8c0,1-.85,1.6-2,1.72S7.39,8.32,7.39,11A3.23,3.23,0,0,0,9,13.75,3.19,3.19,0,0,1,8,11.5Z'/%3e%3c/g%3e%3c/svg%3e",B2="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2022%2022'%3e%3cdefs%3e%3cstyle%3e.cls-1{fill:none;}.cls-2{fill:%2360a088;}.cls-3{clip-path:url(%23clip-path);}%3c/style%3e%3cclipPath%20id='clip-path'%3e%3crect%20class='cls-1'%20x='4.5'%20y='2.77'%20width='6.5'%20height='16.47'/%3e%3c/clipPath%3e%3c/defs%3e%3cg%20id='profile'%3e%3cpath%20class='cls-2'%20d='M11,4.61A6.93,6.93,0,0,1,15.74,11,6.93,6.93,0,0,1,11,17.39,6.93,6.93,0,0,1,6.26,11,6.93,6.93,0,0,1,11,4.61m0-1.84A8.67,8.67,0,0,0,4.5,11,8.67,8.67,0,0,0,11,19.23,8.67,8.67,0,0,0,17.5,11,8.67,8.67,0,0,0,11,2.77Z'/%3e%3cg%20class='cls-3'%3e%3cellipse%20class='cls-2'%20cx='11'%20cy='11'%20rx='6.5'%20ry='8.23'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",g0="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2022%2022'%3e%3cdefs%3e%3cstyle%3e.cls-1{fill:%2360a088;}%3c/style%3e%3c/defs%3e%3cg%20id='profile'%3e%3cpath%20class='cls-1'%20d='M11,2.77A8.67,8.67,0,0,0,4.5,11,8.67,8.67,0,0,0,11,19.23,8.67,8.67,0,0,0,17.5,11,8.67,8.67,0,0,0,11,2.77Zm4,8.76-3,4,.18,2.17a8.62,8.62,0,0,1-1.13.46,8.62,8.62,0,0,1-1.13-.46l.18-2.17-3-4a.3.3,0,0,1,.44-.41l2.75,2.38.47-5.83a.32.32,0,0,1,.64,0l.47,5.83,2.75-2.38a.31.31,0,0,1,.42,0A.3.3,0,0,1,15,11.53Z'/%3e%3c/g%3e%3c/svg%3e",V2="/user-info-bg.png",W2=B.div`
  padding-right: 36px;
  padding-left: 118px;
  display: flex;
  position: sticky;
  top: -92px;
  min-height: 140px;
  background: url(${V2});
  background-position: center;
  z-index: 5;
`,H2=B.img`
  width: 70px;
  height: 70px;
  margin-top: 35px;
  border-radius: 50%;
  border: 2px solid rgba(255, 255, 255, 0.4);
  transition: 200ms;
  object-fit: cover;
`,Y2=B.div`
  margin-top: 31px;
  margin-left: 42px;
`,q2=B.button`
  width: 128px;
  height: 32px;
  line-height: 32px;
  border-radius: 5px;
  font-size: 14px;
  color: #fff;
  background-color: #51a387;
  text-align: center;
`,K2=B.div`
  color: #f9f9f9;
  font-size: 12px;
  line-height: 17px;
  margin-top: 12px;
`,Md=B.a`
  color: #f0ce56;
  cursor: pointer;
  text-decoration: underline;
  margin: 0 4px;
`,X2=B.div`
  margin-left: 42px;
  margin-top: 38px;
  transition: 200ms;
`,Q2=B.div`
  display: flex;
  align-items: center;
`,J2=B.div`
  font-size: 18px;
  font-weight: 500;
  color: #ffffff;
  height: 24px;
  line-height: 24px;
`,Fd=B.button`
  height: 22px;
  line-height: 20px;
  border: 1px solid #eaeaea;
  border-radius: 5px;
  font-size: 12px;
  margin-left: 16px;
  background-color: #0000;
  color: #eaeaea;
  padding: 0 10px;
`,Z2=B.div`
  display: flex;
  margin-top: 12px;
  height: 28px;
  align-items: center;
`,Wa=B.div`
  pointer-events: none;
  font-size: 14px;
  line-height: 20px;
  color: #666;
  background-color: #fff;
  border-radius: 6px;
  position: absolute;
  padding: 10px 12px;
  z-index: 10;
  transition: 300ms;
  opacity: 0;
  visibility: hidden;
  width: max-content;
  top: calc(100% + 13px);
  left: -3px;
  box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);

  // Arrow
  &:before {
    content: '';
    width: 12px;
    height: 12px;
    position: absolute;
    background-color: #fff;
    top: -5px;
    left: 8px;
    transform: rotate(45deg) skew(12deg, 12deg);
    border-radius: 3px 0 0 0;
  }
`,xl=B.div`
  position: relative;
  width: 96px;
  display: flex;
  align-items: center;

  :first-child {
    width: 72px;
  }

  :not(:first-child) {
    padding-left: 20px;
    border-left: 0.5px solid #ffffff3e;
  }

  &:hover > ${Wa} {
    opacity: 1;
    visibility: visible;
  }
`,Cl=B.img`
  width: 20px;
  height: 20px;
`,Tl=B.div`
  font-size: 16px;
  margin-left: 4px;
  color: #f9f9f9;
`,$2=B.div`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 90px;
  pointer-events: none;
`,e3=B.div`
  position: absolute;
  display: flex;
  justify-content: flex-end;
  align-items: center;
  height: 48px;
  bottom: 0;
  left: 0;
  right: 0;
  padding-right: 20px;
  transition: 200ms;
`,t3=B.img`
  border-radius: 50%;
  border: 1px solid rgba(255, 255, 255, 0.4);
  width: 26px;
  height: 26px;
`,n3=B.div`
  margin-left: 8px;
  color: #ffffff;
  font-size: 16px;
`;function r3({globalLoader:s}){const e=Et(Ni),r=hr(lu),i=h0({globalLoader:s}),[a,l]=A2({rootMargin:"0px 0px 0px 0px"}),u=async()=>{const x=(await Vn("plantRecords")).filter(({plant:y})=>y.id===void 0);Xt({user:null,accessToken:null,refreshToken:null,tags:sf,unlockedPlantIds:of,plantRecords:x})},d=async()=>{try{s.on();const{plantRecords:w,lastSyncedAt:x}=await ru(["plantRecords","lastSyncedAt"]);await as(w,{lastSyncedAt:x,onSucceeded:()=>Xt({plantRecords:[]})}),await Qa(),u()}catch{e(J("settings_status_fail"))}finally{s.off()}};re.useEffect(()=>{(async function(){if(r)try{const x=await rs(r.id);Xt(x)}catch(x){if(x instanceof bi)switch(x.response.status){case 403:u();break}}})()},[]);const{healthTreeCount:g=0,deadTreeCount:f=0}=r||{},v=(g/(g+f)*100).toFixed(0);return O.jsxs(W2,{children:[O.jsx(H2,{src:(r==null?void 0:r.avatarUrl)||Od,style:{opacity:l?1:0}}),r?O.jsxs(X2,{style:{opacity:l?1:0},children:[O.jsxs(Q2,{children:[O.jsx(J2,{children:r.name}),O.jsx(Fd,{onClick:d,children:J("settings_tab_logout")})]}),O.jsxs(Z2,{children:[O.jsxs(xl,{children:[O.jsx(Cl,{src:g0}),O.jsx(Tl,{children:g}),O.jsx(Wa,{children:J("settings_hover_healthy_tree")})]}),O.jsxs(xl,{children:[O.jsx(Cl,{src:B2}),O.jsxs(Tl,{children:[v,"%"]}),O.jsx(Wa,{style:{left:"16px"},children:J("settings_hover_success_rate")})]}),O.jsxs(xl,{children:[O.jsx(Cl,{src:j2}),O.jsx(Tl,{children:r.coin}),O.jsx(Wa,{style:{left:"16px"},children:J("settings_hover_coin")})]})]})]}):O.jsxs(Y2,{children:[O.jsx(q2,{onClick:i,children:J("settings_login_btn")}),O.jsxs(K2,{children:[J("settings_no_account1"),O.jsx(Md,{target:"_blank",href:"https://apps.apple.com/tw/app/forest-stay-focused-stop-phubbing/id866450515",children:J("settings_no_account_iosapp")}),O.jsx("span",{children:J("settings_no_account_or")}),O.jsx(Md,{target:"_blank",href:"https://play.google.com/store/apps/details?id=cc.forestapp",children:J("settings_no_account_androidapp")}),J("settings_no_account2")]})]}),O.jsx($2,{ref:a}),O.jsxs(e3,{style:{opacity:l?0:r?1:0},children:[O.jsx(t3,{src:(r==null?void 0:r.avatarUrl)||Od}),O.jsx(n3,{children:r==null?void 0:r.name}),O.jsx(Fd,{onClick:d,children:J("settings_tab_logout")})]})]})}const i3="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2020%2020'%3e%3cdefs%3e%3cstyle%3e.cls-1{fill:none;stroke:%23c9c9c9;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px;}%3c/style%3e%3c/defs%3e%3cg%20id='icon'%3e%3cpolyline%20class='cls-1'%20points='12.23%2016.46%205.77%2010%2012.23%203.54'/%3e%3c/g%3e%3c/svg%3e",a3="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2020%2020'%3e%3cdefs%3e%3cstyle%3e.cls-1{fill:none;stroke:%23c9c9c9;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px;}%3c/style%3e%3c/defs%3e%3cg%20id='icon'%3e%3cpolyline%20class='cls-1'%20points='7.77%2016.46%2014.23%2010%207.77%203.54'/%3e%3c/g%3e%3c/svg%3e",s3=Array.from({length:8},(s,e)=>e+1),o3=()=>{const s=lf();return s3.map(e=>`/images/about/${s}/${e}.png`)},l3=B.div`
  width: 470px;
  height: 270px;
  margin-top: 12px;
  display: flex;
  align-items: center;
  position: relative;
`,u3=B.div`
  height: 100%;
  display: flex;
  overflow: hidden;
  pointer-events: none;
`,c3=B.img`
  height: 100%;
  margin-right: 11px;
  border-radius: 12px;
  transform: translateX(${({$carouselIndex:s})=>-s*162.844}px);
  transition: transform 0.3s ease;
`,d3=Jt`
  left: 102%;
`,h3=Jt`
  right: 102%;
`,Nd=B.img`
  position: absolute;
  width: 24px;
  height: 24px;
  cursor: pointer;

  ${({$direction:s})=>{switch(s){case"Right":return d3;case"Left":return h3}}}
`,Id=0,Ld=5;function g3(){const[s,e]=re.useState(0),[r]=re.useState(o3),i=a=>{switch(a){case"Next":e(l=>l===Ld?l:l+1);break;case"Prev":e(l=>s===Id?l:l-1);break}};return O.jsxs(l3,{children:[s!==Id&&O.jsx(Nd,{src:i3,$direction:"Left",onClick:()=>i("Prev")}),O.jsx(u3,{children:r.map(a=>O.jsx(c3,{src:a,$carouselIndex:s},a))}),s!==Ld&&O.jsx(Nd,{src:a3,$direction:"Right",onClick:()=>i("Next")})]})}const f3="/app-store-badge.svg",p3="/google-play-badge.png",m3=B.main`
  display: flex;
  flex-direction: column;
`,v3=B.div`
  color: #333;
  font-size: 16px;
  height: 22px;
  line-height: 22px;
`,y3=B.div`
  margin-top: 8px;
  width: 100%;
  line-height: 21px;
  color: #666;
  font-size: 12px;
`,_3=B.div`
  margin-top: 20px;
  height: 40px;
`,Dd=B.img`
  height: 40px;
  cursor: pointer;

  &:not(:first-child) {
    margin-left: 16px;
  }
`,Ud=s=>{switch(s){case"AppStore":window.open("https://apps.apple.com/app/apple-store/id866450515?pt=690486&ct=new-chrome-extension&mt=8");break;case"GooglePlay":window.open("https://play.google.com/store/apps/details?id=cc.forestapp&referrer=utm_source%3Dchromeextension%26utm_campaign%3Dnewchromeextension");break}};function w3(){return O.jsxs(m3,{children:[O.jsx(v3,{children:J("extension_about_forest_title")}),O.jsx(y3,{children:J("extension_about_forest_context")}),O.jsx(g3,{}),O.jsxs(_3,{children:[O.jsx(Dd,{src:p3,onClick:()=>Ud("GooglePlay")}),O.jsx(Dd,{src:f3,onClick:()=>Ud("AppStore")})]})]})}var S3=function(s){return s instanceof RegExp},x3=function(e){var r=/[\\^$.*+?()[\]{}|]/g,i=RegExp(r.source);return e&&i.test(e)?e.replace(r,"\\$&"):e},f0=function(s){return typeof s=="string"},C3=function(s){var e=[];return s.forEach(function(r){Array.isArray(r)?e=e.concat(r):e.push(r)}),e};function T3(s,e,r){var i=0,a=0;if(s==="")return s;if(!s||!f0(s))throw new TypeError("First argument to react-string-replace#replaceString must be a string");var l=e;S3(l)||(l=new RegExp("("+x3(l)+")","gi"));for(var u=s.split(l),d=1,g=u.length;d<g;d+=2){if(u[d]===void 0||u[d-1]===void 0){console.warn("reactStringReplace: Encountered undefined value during string replacement. Your RegExp may not be working the way you expect.");continue}a=u[d].length,i+=u[d-1].length,u[d]=r(u[d],d,i),i+=a}return u}var A3=function(e,r,i){return Array.isArray(e)||(e=[e]),C3(e.map(function(a){return f0(a)?T3(a,r,i):a}))};const p0=Fi(A3),k3="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2020%2020'%3e%3cdefs%3e%3cstyle%3e%20.cls-1%20{%20fill:none;%20stroke:%23c9c9c9;%20stroke-linecap:round;%20stroke-linejoin:round;%20stroke-width:2px;%20}%20%3c/style%3e%3c/defs%3e%3cg%20id='icon'%3e%3cpolyline%20class='cls-1'%20points='3.54%207.77%2010%2014.23%2016.46%207.77'/%3e%3c/g%3e%3c/svg%3e",E3=B.div`
  display: flex;
  flex-direction: column;
`,P3=B.div`
  background: #f9f9f9;
  box-shadow: 0px 1px 4px rgba(0, 0, 0, 0.1);
  border-radius: 5px;
  cursor: pointer;
  height: 38px;
  line-height: 38px;
  padding: 0 8px;
  font-size: 16px;
  color: #333;
  display: flex;
  align-items: center;
`,b3=Jt`
  transform: rotate(180deg);
`,R3=B.img`
  width: 20px;
  height: 20px;
  margin-left: auto;
  transition: 300ms transform;

  ${({$toggle:s})=>s&&b3}
`,O3=B.div`
  display: flex;
  flex-direction: column;
  gap: 12px;
  overflow: hidden;
  // For preserving box shadow
  margin: 12px -10px 0 -10px;
  padding: 0 10px;
  //
`,M3=B.div`
  display: flex;
  flex-direction: column;
  padding: 8px;
  background: #f4f4f4;
  box-shadow: 0px 1px 4px rgba(0, 0, 0, 0.1);
  border-radius: 5px;

  &:last-child {
    margin-bottom: 12px;
  }
`,F3=B.div`
  color: #333;
  font-size: 14px;
  display: flex;
  align-items: center;
  height: 36px;
`,N3=B.div`
  margin: 0 2px;
  width: 100%;
  background-color: #eaeaea;
  height: 1px;
`,I3=B.div`
  line-height: 21px;
  font-size: 12px;
  color: #666;
  padding-top: 8px;
  white-space: pre-wrap;
`;B.div`
  margin: 0 8px;

  &:before,
  &:after {
    content: '';
    display: block;
    min-height: 8px;
  }
`;function L3({faqId:s,contentCount:e}){const[r,i]=re.useState(!1),a=re.useRef(null),l=re.useRef(0),u=Nh({height:r?l.current:0});re.useLayoutEffect(()=>{var g;l.current=((g=a.current)==null?void 0:g.scrollHeight)||0},[]);const d=(g,f)=>g===5&&f===1?p0(J(`faq_headline_${g}_content_${f}`),/(__.+__)/g,(v,w)=>O.jsx("a",{href:(()=>{switch(v){case"__LINK_1__":return"https://support.microsoft.com/windows/%E8%AE%8A%E6%9B%B4%E9%80%9A%E7%9F%A5%E5%92%8C%E5%BF%AB%E9%80%9F%E8%A8%AD%E5%AE%9Awindows-11-ddcbbcd4-0a02-f6e4-fe14-6766d850f294";case"__LINK_2__":return"https://support.apple.com/HT204079"}})(),target:"_blank",rel:"noreferrer noopener",children:J("faq_link_here")},w)):J(`faq_headline_${g}_content_${f}`);return O.jsxs(E3,{children:[O.jsxs(P3,{onClick:()=>i(g=>!g),children:[J(`faq_headline_${s}`),O.jsx(R3,{src:k3,$toggle:r})]}),O.jsx(O3,{as:pt.div,ref:a,style:u,children:[...Array(e)].map((g,f)=>O.jsxs(M3,{children:[O.jsx(F3,{children:J(`faq_headline_${s}_title_${f+1}`)}),O.jsx(N3,{}),O.jsx(I3,{children:d(s,f+1)})]},f))})]})}const D3=[{id:1,contentCount:11},{id:2,contentCount:3},{id:3,contentCount:2},{id:4,contentCount:3},{id:5,contentCount:3},{id:6,contentCount:2}],U3=B.div`
  display: flex;
  flex-direction: column;
`;function G3(){return O.jsx(U3,{children:D3.map(({id:s,contentCount:e})=>O.jsx(L3,{faqId:s,contentCount:e},s))})}const m0=[{id:0,phaseType:"Seven",images:{1:"/images/plants/0/1.png",2:"/images/plants/0/2.png",3:"/images/plants/0/3.png",4:"/images/plants/0/4.png",5:"/images/plants/0/5.png",6:"/images/plants/0/6.png",7:"/images/plants/0/7.png",Christmas:"/images/plants/0/Christmas.png",dead:"/images/plants/0/dead.png"}},{id:1,phaseType:"Seven",images:{1:"/images/plants/1/1.png",2:"/images/plants/1/2.png",3:"/images/plants/1/3.png",4:"/images/plants/1/4.png",5:"/images/plants/1/5.png",6:"/images/plants/1/6.png",7:"/images/plants/1/7.png",Christmas:"/images/plants/1/Christmas.png",dead:"/images/plants/1/dead.png"}},{id:10,phaseType:"Seven",images:{1:"/images/plants/10/1.png",2:"/images/plants/10/2.png",3:"/images/plants/10/3.png",4:"/images/plants/10/4.png",5:"/images/plants/10/5.png",6:"/images/plants/10/6.png",7:"/images/plants/10/7.png",dead:"/images/plants/10/dead.png"}},{id:100,phaseType:"Seven",images:{1:"/images/plants/100/1.png",2:"/images/plants/100/2.png",3:"/images/plants/100/3.png",4:"/images/plants/100/4.png",5:"/images/plants/100/5.png",6:"/images/plants/100/6.png",7:"/images/plants/100/7.png",dead:"/images/plants/100/dead.png"}},{id:101,phaseType:"Seven",images:{1:"/images/plants/101/1.png",2:"/images/plants/101/2.png",3:"/images/plants/101/3.png",4:"/images/plants/101/4.png",5:"/images/plants/101/5.png",6:"/images/plants/101/6.png",7:"/images/plants/101/7.png",dead:"/images/plants/101/dead.png"}},{id:103,phaseType:"Seven",images:{1:"/images/plants/103/1.png",2:"/images/plants/103/2.png",3:"/images/plants/103/3.png",4:"/images/plants/103/4.png",5:"/images/plants/103/5.png",6:"/images/plants/103/6.png",7:"/images/plants/103/7.png",dead:"/images/plants/103/dead.png"}},{id:104,phaseType:"Four",images:{1:"/images/plants/104/1.png",2:"/images/plants/104/2.png",3:"/images/plants/104/3.png",4:"/images/plants/104/4.png",dead:"/images/plants/104/dead.png"}},{id:105,phaseType:"Four",images:{1:"/images/plants/105/1.png",2:"/images/plants/105/2.png",3:"/images/plants/105/3.png",4:"/images/plants/105/4.png",dead:"/images/plants/105/dead.png"}},{id:106,phaseType:"Four",images:{1:"/images/plants/106/1.png",2:"/images/plants/106/2.png",3:"/images/plants/106/3.png",4:"/images/plants/106/4.png",dead:"/images/plants/106/dead.png"}},{id:107,phaseType:"Seven",images:{1:"/images/plants/107/1.png",2:"/images/plants/107/2.png",3:"/images/plants/107/3.png",4:"/images/plants/107/4.png",5:"/images/plants/107/5.png",6:"/images/plants/107/6.png",7:"/images/plants/107/7.png",dead:"/images/plants/107/dead.png"}},{id:108,phaseType:"Four",images:{1:"/images/plants/108/1.png",2:"/images/plants/108/2.png",3:"/images/plants/108/3.png",4:"/images/plants/108/4.png",dead:"/images/plants/108/dead.png"}},{id:109,phaseType:"Four",images:{1:"/images/plants/109/1.png",2:"/images/plants/109/2.png",3:"/images/plants/109/3.png",4:"/images/plants/109/4.png",dead:"/images/plants/109/dead.png"}},{id:11,phaseType:"Four",images:{1:"/images/plants/11/1.png",2:"/images/plants/11/2.png",3:"/images/plants/11/3.png",4:"/images/plants/11/4.png",dead:"/images/plants/11/dead.png"}},{id:110,phaseType:"Seven",images:{1:"/images/plants/110/1.png",2:"/images/plants/110/2.png",3:"/images/plants/110/3.png",4:"/images/plants/110/4.png",5:"/images/plants/110/5.png",6:"/images/plants/110/6.png",7:"/images/plants/110/7.png",dead:"/images/plants/110/dead.png"}},{id:111,phaseType:"Seven",images:{1:"/images/plants/111/1.png",2:"/images/plants/111/2.png",3:"/images/plants/111/3.png",4:"/images/plants/111/4.png",5:"/images/plants/111/5.png",6:"/images/plants/111/6.png",7:"/images/plants/111/7.png",dead:"/images/plants/111/dead.png"}},{id:112,phaseType:"Seven",images:{1:"/images/plants/112/1.png",2:"/images/plants/112/2.png",3:"/images/plants/112/3.png",4:"/images/plants/112/4.png",5:"/images/plants/112/5.png",6:"/images/plants/112/6.png",7:"/images/plants/112/7.png",dead:"/images/plants/112/dead.png"}},{id:113,phaseType:"Four",images:{1:"/images/plants/113/1.png",2:"/images/plants/113/2.png",3:"/images/plants/113/3.png",4:"/images/plants/113/4.png",dead:"/images/plants/113/dead.png"}},{id:114,phaseType:"Four",images:{1:"/images/plants/114/1.png",2:"/images/plants/114/2.png",3:"/images/plants/114/3.png",4:"/images/plants/114/4.png",dead:"/images/plants/114/dead.png"}},{id:12,phaseType:"Seven",images:{1:"/images/plants/12/1.png",2:"/images/plants/12/2.png",3:"/images/plants/12/3.png",4:"/images/plants/12/4.png",5:"/images/plants/12/5.png",6:"/images/plants/12/6.png",7:"/images/plants/12/7.png",dead:"/images/plants/12/dead.png"}},{id:13,phaseType:"Four",images:{1:"/images/plants/13/1.png",2:"/images/plants/13/2.png",3:"/images/plants/13/3.png",4:"/images/plants/13/4.png",dead:"/images/plants/13/dead.png"}},{id:14,phaseType:"Four",images:{1:"/images/plants/14/1.png",2:"/images/plants/14/2.png",3:"/images/plants/14/3.png",4:"/images/plants/14/4.png",dead:"/images/plants/14/dead.png"}},{id:15,phaseType:"Seven",images:{1:"/images/plants/15/1.png",2:"/images/plants/15/2.png",3:"/images/plants/15/3.png",4:"/images/plants/15/4.png",5:"/images/plants/15/5.png",6:"/images/plants/15/6.png",7:"/images/plants/15/7.png",dead:"/images/plants/15/dead.png"}},{id:16,phaseType:"Four",images:{1:"/images/plants/16/1.png",2:"/images/plants/16/2.png",3:"/images/plants/16/3.png",4:"/images/plants/16/4.png",dead:"/images/plants/16/dead.png"}},{id:18,phaseType:"Four",images:{1:"/images/plants/18/1.png",2:"/images/plants/18/2.png",3:"/images/plants/18/3.png",4:"/images/plants/18/4.png",dead:"/images/plants/18/dead.png"}},{id:19,phaseType:"Seven",images:{1:"/images/plants/19/1.png",2:"/images/plants/19/2.png",3:"/images/plants/19/3.png",4:"/images/plants/19/4.png",5:"/images/plants/19/5.png",6:"/images/plants/19/6.png",7:"/images/plants/19/7.png",dead:"/images/plants/19/dead.png"}},{id:2,phaseType:"Seven",images:{1:"/images/plants/2/1.png",2:"/images/plants/2/2.png",3:"/images/plants/2/3.png",4:"/images/plants/2/4.png",5:"/images/plants/2/5.png",6:"/images/plants/2/6.png",7:"/images/plants/2/7.png",Christmas:"/images/plants/2/Christmas.png",dead:"/images/plants/2/dead.png"}},{id:20,phaseType:"Seven",images:{1:"/images/plants/20/1.png",2:"/images/plants/20/2.png",3:"/images/plants/20/3.png",4:"/images/plants/20/4.png",5:"/images/plants/20/5.png",6:"/images/plants/20/6.png",7:"/images/plants/20/7.png",dead:"/images/plants/20/dead.png"}},{id:21,phaseType:"Seven",images:{1:"/images/plants/21/1.png",2:"/images/plants/21/2.png",3:"/images/plants/21/3.png",4:"/images/plants/21/4.png",5:"/images/plants/21/5.png",6:"/images/plants/21/6.png",7:"/images/plants/21/7.png",dead:"/images/plants/21/dead.png"}},{id:22,phaseType:"Four",images:{1:"/images/plants/22/1.png",2:"/images/plants/22/2.png",3:"/images/plants/22/3.png",4:"/images/plants/22/4.png",dead:"/images/plants/22/dead.png"}},{id:23,phaseType:"Seven",images:{1:"/images/plants/23/1.png",2:"/images/plants/23/2.png",3:"/images/plants/23/3.png",4:"/images/plants/23/4.png",5:"/images/plants/23/5.png",6:"/images/plants/23/6.png",7:"/images/plants/23/7.png",dead:"/images/plants/23/dead.png"}},{id:24,phaseType:"Seven",images:{1:"/images/plants/24/1.png",2:"/images/plants/24/2.png",3:"/images/plants/24/3.png",4:"/images/plants/24/4.png",5:"/images/plants/24/5.png",6:"/images/plants/24/6.png",7:"/images/plants/24/7.png",dead:"/images/plants/24/dead.png"}},{id:25,phaseType:"Four",images:{1:"/images/plants/25/1.png",2:"/images/plants/25/2.png",3:"/images/plants/25/3.png",4:"/images/plants/25/4.png",dead:"/images/plants/25/dead.png"}},{id:26,phaseType:"Four",images:{1:"/images/plants/26/1.png",2:"/images/plants/26/2.png",3:"/images/plants/26/3.png",4:"/images/plants/26/4.png",dead:"/images/plants/26/dead.png"}},{id:27,phaseType:"Seven",images:{1:"/images/plants/27/1.png",2:"/images/plants/27/2.png",3:"/images/plants/27/3.png",4:"/images/plants/27/4.png",5:"/images/plants/27/5.png",6:"/images/plants/27/6.png",7:"/images/plants/27/7.png",dead:"/images/plants/27/dead.png"}},{id:28,phaseType:"Seven",images:{1:"/images/plants/28/1.png",2:"/images/plants/28/2.png",3:"/images/plants/28/3.png",4:"/images/plants/28/4.png",5:"/images/plants/28/5.png",6:"/images/plants/28/6.png",7:"/images/plants/28/7.png",dead:"/images/plants/28/dead.png"}},{id:29,phaseType:"Four",images:{1:"/images/plants/29/1.png",2:"/images/plants/29/2.png",3:"/images/plants/29/3.png",4:"/images/plants/29/4.png",dead:"/images/plants/29/dead.png"}},{id:3,phaseType:"Seven",images:{1:"/images/plants/3/1.png",2:"/images/plants/3/2.png",3:"/images/plants/3/3.png",4:"/images/plants/3/4.png",5:"/images/plants/3/5.png",6:"/images/plants/3/6.png",7:"/images/plants/3/7.png",Christmas:"/images/plants/3/Christmas.png",dead:"/images/plants/3/dead.png"}},{id:30,phaseType:"Seven",images:{1:"/images/plants/30/1.png",2:"/images/plants/30/2.png",3:"/images/plants/30/3.png",4:"/images/plants/30/4.png",5:"/images/plants/30/5.png",6:"/images/plants/30/6.png",7:"/images/plants/30/7.png",dead:"/images/plants/30/dead.png"}},{id:31,phaseType:"Seven",images:{1:"/images/plants/31/1.png",2:"/images/plants/31/2.png",3:"/images/plants/31/3.png",4:"/images/plants/31/4.png",5:"/images/plants/31/5.png",6:"/images/plants/31/6.png",7:"/images/plants/31/7.png",dead:"/images/plants/31/dead.png"}},{id:32,phaseType:"Four",images:{1:"/images/plants/32/1.png",2:"/images/plants/32/2.png",3:"/images/plants/32/3.png",4:"/images/plants/32/4.png",dead:"/images/plants/32/dead.png"}},{id:33,phaseType:"Four",images:{1:"/images/plants/33/1.png",2:"/images/plants/33/2.png",3:"/images/plants/33/3.png",4:"/images/plants/33/4.png",dead:"/images/plants/33/dead.png"}},{id:34,phaseType:"Seven",images:{1:"/images/plants/34/1.png",2:"/images/plants/34/2.png",3:"/images/plants/34/3.png",4:"/images/plants/34/4.png",5:"/images/plants/34/5.png",6:"/images/plants/34/6.png",7:"/images/plants/34/7.png",dead:"/images/plants/34/dead.png"}},{id:35,phaseType:"Seven",images:{1:"/images/plants/35/1.png",2:"/images/plants/35/2.png",3:"/images/plants/35/3.png",4:"/images/plants/35/4.png",5:"/images/plants/35/5.png",6:"/images/plants/35/6.png",7:"/images/plants/35/7.png",dead:"/images/plants/35/dead.png"}},{id:36,phaseType:"Seven",images:{1:"/images/plants/36/1.png",2:"/images/plants/36/2.png",3:"/images/plants/36/3.png",4:"/images/plants/36/4.png",5:"/images/plants/36/5.png",6:"/images/plants/36/6.png",7:"/images/plants/36/7.png",dead:"/images/plants/36/dead.png"}},{id:37,phaseType:"Seven",images:{1:"/images/plants/37/1.png",2:"/images/plants/37/2.png",3:"/images/plants/37/3.png",4:"/images/plants/37/4.png",5:"/images/plants/37/5.png",6:"/images/plants/37/6.png",7:"/images/plants/37/7.png",dead:"/images/plants/37/dead.png"}},{id:38,phaseType:"Four",images:{1:"/images/plants/38/1.png",2:"/images/plants/38/2.png",3:"/images/plants/38/3.png",4:"/images/plants/38/4.png",dead:"/images/plants/38/dead.png"}},{id:39,phaseType:"Four",images:{1:"/images/plants/39/1.png",2:"/images/plants/39/2.png",3:"/images/plants/39/3.png",4:"/images/plants/39/4.png",dead:"/images/plants/39/dead.png"}},{id:4,phaseType:"Seven",images:{1:"/images/plants/4/1.png",2:"/images/plants/4/2.png",3:"/images/plants/4/3.png",4:"/images/plants/4/4.png",5:"/images/plants/4/5.png",6:"/images/plants/4/6.png",7:"/images/plants/4/7.png",Christmas:"/images/plants/4/Christmas.png",dead:"/images/plants/4/dead.png"}},{id:40,phaseType:"Seven",images:{1:"/images/plants/40/1.png",2:"/images/plants/40/2.png",3:"/images/plants/40/3.png",4:"/images/plants/40/4.png",5:"/images/plants/40/5.png",6:"/images/plants/40/6.png",7:"/images/plants/40/7.png",dead:"/images/plants/40/dead.png"}},{id:41,phaseType:"Seven",images:{1:"/images/plants/41/1.png",2:"/images/plants/41/2.png",3:"/images/plants/41/3.png",4:"/images/plants/41/4.png",5:"/images/plants/41/5.png",6:"/images/plants/41/6.png",7:"/images/plants/41/7.png",dead:"/images/plants/41/dead.png"}},{id:42,phaseType:"Seven",images:{1:"/images/plants/42/1.png",2:"/images/plants/42/2.png",3:"/images/plants/42/3.png",4:"/images/plants/42/4.png",5:"/images/plants/42/5.png",6:"/images/plants/42/6.png",7:"/images/plants/42/7.png",dead:"/images/plants/42/dead.png"}},{id:43,phaseType:"Seven",images:{1:"/images/plants/43/1.png",2:"/images/plants/43/2.png",3:"/images/plants/43/3.png",4:"/images/plants/43/4.png",5:"/images/plants/43/5.png",6:"/images/plants/43/6.png",7:"/images/plants/43/7.png",dead:"/images/plants/43/dead.png"}},{id:44,phaseType:"Seven",images:{1:"/images/plants/44/1.png",2:"/images/plants/44/2.png",3:"/images/plants/44/3.png",4:"/images/plants/44/4.png",5:"/images/plants/44/5.png",6:"/images/plants/44/6.png",7:"/images/plants/44/7.png",dead:"/images/plants/44/dead.png"}},{id:45,phaseType:"Four",images:{1:"/images/plants/45/1.png",2:"/images/plants/45/2.png",3:"/images/plants/45/3.png",4:"/images/plants/45/4.png",dead:"/images/plants/45/dead.png"}},{id:46,phaseType:"Four",images:{1:"/images/plants/46/1.png",2:"/images/plants/46/2.png",3:"/images/plants/46/3.png",4:"/images/plants/46/4.png",dead:"/images/plants/46/dead.png"}},{id:47,phaseType:"Four",images:{1:"/images/plants/47/1.png",2:"/images/plants/47/2.png",3:"/images/plants/47/3.png",4:"/images/plants/47/4.png",dead:"/images/plants/47/dead.png"}},{id:48,phaseType:"Four",images:{1:"/images/plants/48/1.png",2:"/images/plants/48/2.png",3:"/images/plants/48/3.png",4:"/images/plants/48/4.png",dead:"/images/plants/48/dead.png"}},{id:49,phaseType:"Four",images:{1:"/images/plants/49/1.png",2:"/images/plants/49/2.png",3:"/images/plants/49/3.png",4:"/images/plants/49/4.png",dead:"/images/plants/49/dead.png"}},{id:5,phaseType:"Seven",images:{1:"/images/plants/5/1.png",2:"/images/plants/5/2.png",3:"/images/plants/5/3.png",4:"/images/plants/5/4.png",5:"/images/plants/5/5.png",6:"/images/plants/5/6.png",7:"/images/plants/5/7.png",Christmas:"/images/plants/5/Christmas.png",dead:"/images/plants/5/dead.png"}},{id:50,phaseType:"Four",images:{1:"/images/plants/50/1.png",2:"/images/plants/50/2.png",3:"/images/plants/50/3.png",4:"/images/plants/50/4.png",dead:"/images/plants/50/dead.png"}},{id:51,phaseType:"Four",images:{1:"/images/plants/51/1.png",2:"/images/plants/51/2.png",3:"/images/plants/51/3.png",4:"/images/plants/51/4.png",dead:"/images/plants/51/dead.png"}},{id:52,phaseType:"Four",images:{1:"/images/plants/52/1.png",2:"/images/plants/52/2.png",3:"/images/plants/52/3.png",4:"/images/plants/52/4.png",dead:"/images/plants/52/dead.png"}},{id:53,phaseType:"Four",images:{1:"/images/plants/53/1.png",2:"/images/plants/53/2.png",3:"/images/plants/53/3.png",4:"/images/plants/53/4.png",dead:"/images/plants/53/dead.png"}},{id:54,phaseType:"Four",images:{1:"/images/plants/54/1.png",2:"/images/plants/54/2.png",3:"/images/plants/54/3.png",4:"/images/plants/54/4.png",dead:"/images/plants/54/dead.png"}},{id:55,phaseType:"Four",images:{1:"/images/plants/55/1.png",2:"/images/plants/55/2.png",3:"/images/plants/55/3.png",4:"/images/plants/55/4.png",dead:"/images/plants/55/dead.png"}},{id:56,phaseType:"Seven",images:{1:"/images/plants/56/1.png",2:"/images/plants/56/2.png",3:"/images/plants/56/3.png",4:"/images/plants/56/4.png",5:"/images/plants/56/5.png",6:"/images/plants/56/6.png",7:"/images/plants/56/7.png",dead:"/images/plants/56/dead.png"}},{id:57,phaseType:"Seven",images:{1:"/images/plants/57/1.png",2:"/images/plants/57/2.png",3:"/images/plants/57/3.png",4:"/images/plants/57/4.png",5:"/images/plants/57/5.png",6:"/images/plants/57/6.png",7:"/images/plants/57/7.png",dead:"/images/plants/57/dead.png"}},{id:58,phaseType:"Four",images:{1:"/images/plants/58/1.png",2:"/images/plants/58/2.png",3:"/images/plants/58/3.png",4:"/images/plants/58/4.png",dead:"/images/plants/58/dead.png"}},{id:59,phaseType:"Seven",images:{1:"/images/plants/59/1.png",2:"/images/plants/59/2.png",3:"/images/plants/59/3.png",4:"/images/plants/59/4.png",5:"/images/plants/59/5.png",6:"/images/plants/59/6.png",7:"/images/plants/59/7.png",dead:"/images/plants/59/dead.png"}},{id:6,phaseType:"Four",images:{1:"/images/plants/6/1.png",2:"/images/plants/6/2.png",3:"/images/plants/6/3.png",4:"/images/plants/6/4.png",dead:"/images/plants/6/dead.png"}},{id:60,phaseType:"Four",images:{1:"/images/plants/60/1.png",2:"/images/plants/60/2.png",3:"/images/plants/60/3.png",4:"/images/plants/60/4.png",dead:"/images/plants/60/dead.png"}},{id:61,phaseType:"Four",images:{1:"/images/plants/61/1.png",2:"/images/plants/61/2.png",3:"/images/plants/61/3.png",4:"/images/plants/61/4.png",dead:"/images/plants/61/dead.png"}},{id:62,phaseType:"Seven",images:{1:"/images/plants/62/1.png",2:"/images/plants/62/2.png",3:"/images/plants/62/3.png",4:"/images/plants/62/4.png",5:"/images/plants/62/5.png",6:"/images/plants/62/6.png",7:"/images/plants/62/7.png",dead:"/images/plants/62/dead.png"}},{id:63,phaseType:"Seven",images:{1:"/images/plants/63/1.png",2:"/images/plants/63/2.png",3:"/images/plants/63/3.png",4:"/images/plants/63/4.png",5:"/images/plants/63/5.png",6:"/images/plants/63/6.png",7:"/images/plants/63/7.png",dead:"/images/plants/63/dead.png"}},{id:64,phaseType:"Four",images:{1:"/images/plants/64/1.png",2:"/images/plants/64/2.png",3:"/images/plants/64/3.png",4:"/images/plants/64/4.png",dead:"/images/plants/64/dead.png"}},{id:65,phaseType:"Four",images:{1:"/images/plants/65/1.png",2:"/images/plants/65/2.png",3:"/images/plants/65/3.png",4:"/images/plants/65/4.png",dead:"/images/plants/65/dead.png"}},{id:66,phaseType:"Seven",images:{1:"/images/plants/66/1.png",2:"/images/plants/66/2.png",3:"/images/plants/66/3.png",4:"/images/plants/66/4.png",5:"/images/plants/66/5.png",6:"/images/plants/66/6.png",7:"/images/plants/66/7.png",dead:"/images/plants/66/dead.png"}},{id:67,phaseType:"Four",images:{1:"/images/plants/67/1.png",2:"/images/plants/67/2.png",3:"/images/plants/67/3.png",4:"/images/plants/67/4.png",dead:"/images/plants/67/dead.png"}},{id:68,phaseType:"Four",images:{1:"/images/plants/68/1.png",2:"/images/plants/68/2.png",3:"/images/plants/68/3.png",4:"/images/plants/68/4.png",dead:"/images/plants/68/dead.png"}},{id:69,phaseType:"Four",images:{1:"/images/plants/69/1.png",2:"/images/plants/69/2.png",3:"/images/plants/69/3.png",4:"/images/plants/69/4.png",dead:"/images/plants/69/dead.png"}},{id:7,phaseType:"Seven",images:{1:"/images/plants/7/1.png",2:"/images/plants/7/2.png",3:"/images/plants/7/3.png",4:"/images/plants/7/4.png",5:"/images/plants/7/5.png",6:"/images/plants/7/6.png",7:"/images/plants/7/7.png",dead:"/images/plants/7/dead.png"}},{id:70,phaseType:"Seven",images:{1:"/images/plants/70/1.png",2:"/images/plants/70/2.png",3:"/images/plants/70/3.png",4:"/images/plants/70/4.png",5:"/images/plants/70/5.png",6:"/images/plants/70/6.png",7:"/images/plants/70/7.png",dead:"/images/plants/70/dead.png"}},{id:71,phaseType:"Seven",images:{1:"/images/plants/71/1.png",2:"/images/plants/71/2.png",3:"/images/plants/71/3.png",4:"/images/plants/71/4.png",5:"/images/plants/71/5.png",6:"/images/plants/71/6.png",7:"/images/plants/71/7.png",dead:"/images/plants/71/dead.png"}},{id:72,phaseType:"Four",images:{1:"/images/plants/72/1.png",2:"/images/plants/72/2.png",3:"/images/plants/72/3.png",4:"/images/plants/72/4.png",dead:"/images/plants/72/dead.png"}},{id:73,phaseType:"Seven",images:{1:"/images/plants/73/1.png",2:"/images/plants/73/2.png",3:"/images/plants/73/3.png",4:"/images/plants/73/4.png",5:"/images/plants/73/5.png",6:"/images/plants/73/6.png",7:"/images/plants/73/7.png",dead:"/images/plants/73/dead.png"}},{id:74,phaseType:"Four",images:{1:"/images/plants/74/1.png",2:"/images/plants/74/2.png",3:"/images/plants/74/3.png",4:"/images/plants/74/4.png",dead:"/images/plants/74/dead.png"}},{id:75,phaseType:"Seven",images:{1:"/images/plants/75/1.png",2:"/images/plants/75/2.png",3:"/images/plants/75/3.png",4:"/images/plants/75/4.png",5:"/images/plants/75/5.png",6:"/images/plants/75/6.png",7:"/images/plants/75/7.png",dead:"/images/plants/75/dead.png"}},{id:76,phaseType:"Four",images:{1:"/images/plants/76/1.png",2:"/images/plants/76/2.png",3:"/images/plants/76/3.png",4:"/images/plants/76/4.png",dead:"/images/plants/76/dead.png"}},{id:77,phaseType:"Seven",images:{1:"/images/plants/77/1.png",2:"/images/plants/77/2.png",3:"/images/plants/77/3.png",4:"/images/plants/77/4.png",5:"/images/plants/77/5.png",6:"/images/plants/77/6.png",7:"/images/plants/77/7.png",dead:"/images/plants/77/dead.png"}},{id:78,phaseType:"Seven",images:{1:"/images/plants/78/1.png",2:"/images/plants/78/2.png",3:"/images/plants/78/3.png",4:"/images/plants/78/4.png",5:"/images/plants/78/5.png",6:"/images/plants/78/6.png",7:"/images/plants/78/7.png",dead:"/images/plants/78/dead.png"}},{id:79,phaseType:"Seven",images:{1:"/images/plants/79/1.png",2:"/images/plants/79/2.png",3:"/images/plants/79/3.png",4:"/images/plants/79/4.png",5:"/images/plants/79/5.png",6:"/images/plants/79/6.png",7:"/images/plants/79/7.png",dead:"/images/plants/79/dead.png"}},{id:8,phaseType:"Seven",images:{1:"/images/plants/8/1.png",2:"/images/plants/8/2.png",3:"/images/plants/8/3.png",4:"/images/plants/8/4.png",5:"/images/plants/8/5.png",6:"/images/plants/8/6.png",7:"/images/plants/8/7.png",dead:"/images/plants/8/dead.png"}},{id:80,phaseType:"Four",images:{1:"/images/plants/80/1.png",2:"/images/plants/80/2.png",3:"/images/plants/80/3.png",4:"/images/plants/80/4.png",dead:"/images/plants/80/dead.png"}},{id:81,phaseType:"Four",images:{1:"/images/plants/81/1.png",2:"/images/plants/81/2.png",3:"/images/plants/81/3.png",4:"/images/plants/81/4.png",dead:"/images/plants/81/dead.png"}},{id:82,phaseType:"Seven",images:{1:"/images/plants/82/1.png",2:"/images/plants/82/2.png",3:"/images/plants/82/3.png",4:"/images/plants/82/4.png",5:"/images/plants/82/5.png",6:"/images/plants/82/6.png",7:"/images/plants/82/7.png",dead:"/images/plants/82/dead.png"}},{id:83,phaseType:"Seven",images:{1:"/images/plants/83/1.png",2:"/images/plants/83/2.png",3:"/images/plants/83/3.png",4:"/images/plants/83/4.png",5:"/images/plants/83/5.png",6:"/images/plants/83/6.png",7:"/images/plants/83/7.png",dead:"/images/plants/83/dead.png"}},{id:84,phaseType:"Seven",images:{1:"/images/plants/84/1.png",2:"/images/plants/84/2.png",3:"/images/plants/84/3.png",4:"/images/plants/84/4.png",5:"/images/plants/84/5.png",6:"/images/plants/84/6.png",7:"/images/plants/84/7.png",dead:"/images/plants/84/dead.png"}},{id:85,phaseType:"Seven",images:{1:"/images/plants/85/1.png",2:"/images/plants/85/2.png",3:"/images/plants/85/3.png",4:"/images/plants/85/4.png",5:"/images/plants/85/5.png",6:"/images/plants/85/6.png",7:"/images/plants/85/7.png",dead:"/images/plants/85/dead.png"}},{id:86,phaseType:"Seven",images:{1:"/images/plants/86/1.png",2:"/images/plants/86/2.png",3:"/images/plants/86/3.png",4:"/images/plants/86/4.png",5:"/images/plants/86/5.png",6:"/images/plants/86/6.png",7:"/images/plants/86/7.png",dead:"/images/plants/86/dead.png"}},{id:87,phaseType:"Seven",images:{1:"/images/plants/87/1.png",2:"/images/plants/87/2.png",3:"/images/plants/87/3.png",4:"/images/plants/87/4.png",5:"/images/plants/87/5.png",6:"/images/plants/87/6.png",7:"/images/plants/87/7.png",dead:"/images/plants/87/dead.png"}},{id:88,phaseType:"Four",images:{1:"/images/plants/88/1.png",2:"/images/plants/88/2.png",3:"/images/plants/88/3.png",4:"/images/plants/88/4.png",dead:"/images/plants/88/dead.png"}},{id:89,phaseType:"Four",images:{1:"/images/plants/89/1.png",2:"/images/plants/89/2.png",3:"/images/plants/89/3.png",4:"/images/plants/89/4.png",dead:"/images/plants/89/dead.png"}},{id:9,phaseType:"Seven",images:{1:"/images/plants/9/1.png",2:"/images/plants/9/2.png",3:"/images/plants/9/3.png",4:"/images/plants/9/4.png",5:"/images/plants/9/5.png",6:"/images/plants/9/6.png",7:"/images/plants/9/7.png",dead:"/images/plants/9/dead.png"}},{id:90,phaseType:"Four",images:{1:"/images/plants/90/1.png",2:"/images/plants/90/2.png",3:"/images/plants/90/3.png",4:"/images/plants/90/4.png",dead:"/images/plants/90/dead.png"}},{id:91,phaseType:"Four",images:{1:"/images/plants/91/1.png",2:"/images/plants/91/2.png",3:"/images/plants/91/3.png",4:"/images/plants/91/4.png",dead:"/images/plants/91/dead.png"}},{id:92,phaseType:"Four",images:{1:"/images/plants/92/1.png",2:"/images/plants/92/2.png",3:"/images/plants/92/3.png",4:"/images/plants/92/4.png",dead:"/images/plants/92/dead.png"}},{id:93,phaseType:"Four",images:{1:"/images/plants/93/1.png",2:"/images/plants/93/2.png",3:"/images/plants/93/3.png",4:"/images/plants/93/4.png",dead:"/images/plants/93/dead.png"}},{id:94,phaseType:"Four",images:{1:"/images/plants/94/1.png",2:"/images/plants/94/2.png",3:"/images/plants/94/3.png",4:"/images/plants/94/4.png",dead:"/images/plants/94/dead.png"}},{id:95,phaseType:"Seven",images:{1:"/images/plants/95/1.png",2:"/images/plants/95/2.png",3:"/images/plants/95/3.png",4:"/images/plants/95/4.png",5:"/images/plants/95/5.png",6:"/images/plants/95/6.png",7:"/images/plants/95/7.png",dead:"/images/plants/95/dead.png"}},{id:96,phaseType:"Seven",images:{1:"/images/plants/96/1.png",2:"/images/plants/96/2.png",3:"/images/plants/96/3.png",4:"/images/plants/96/4.png",5:"/images/plants/96/5.png",6:"/images/plants/96/6.png",7:"/images/plants/96/7.png",dead:"/images/plants/96/dead.png"}},{id:97,phaseType:"Seven",images:{1:"/images/plants/97/1.png",2:"/images/plants/97/2.png",3:"/images/plants/97/3.png",4:"/images/plants/97/4.png",5:"/images/plants/97/5.png",6:"/images/plants/97/6.png",7:"/images/plants/97/7.png",dead:"/images/plants/97/dead.png"}},{id:98,phaseType:"Seven",images:{1:"/images/plants/98/1.png",2:"/images/plants/98/2.png",3:"/images/plants/98/3.png",4:"/images/plants/98/4.png",5:"/images/plants/98/5.png",6:"/images/plants/98/6.png",7:"/images/plants/98/7.png",dead:"/images/plants/98/dead.png"}},{id:99,phaseType:"Seven",images:{1:"/images/plants/99/1.png",2:"/images/plants/99/2.png",3:"/images/plants/99/3.png",4:"/images/plants/99/4.png",5:"/images/plants/99/5.png",6:"/images/plants/99/6.png",7:"/images/plants/99/7.png",dead:"/images/plants/99/dead.png"}}];var v0={exports:{}},ss={},Za={},he={};(function(s){Object.defineProperty(s,"__esModule",{value:!0}),s._registerNode=s.Konva=s.glob=void 0;var e=Math.PI/180;function r(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}s.glob=typeof gd<"u"?gd:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},s.Konva={_global:s.glob,version:"9.2.0",isBrowser:r(),isUnminified:/param/.test((function(a){}).toString()),dblClickWindow:400,getAngle(a){return s.Konva.angleDeg?a*e:a},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return s.Konva.DD.isDragging},isDragReady(){return!!s.Konva.DD.node},releaseCanvasOnDestroy:!0,document:s.glob.document,_injectGlobal(a){s.glob.Konva=a}};const i=a=>{s.Konva[a.prototype.getClassName()]=a};s._registerNode=i,s.Konva._injectGlobal(s.Konva)})(he);var Ve={};(function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.Util=s.Transform=void 0;const e=he;class r{constructor(S=[1,0,0,1,0,0]){this.dirty=!1,this.m=S&&S.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new r(this.m)}copyInto(S){S.m[0]=this.m[0],S.m[1]=this.m[1],S.m[2]=this.m[2],S.m[3]=this.m[3],S.m[4]=this.m[4],S.m[5]=this.m[5]}point(S){var T=this.m;return{x:T[0]*S.x+T[2]*S.y+T[4],y:T[1]*S.x+T[3]*S.y+T[5]}}translate(S,T){return this.m[4]+=this.m[0]*S+this.m[2]*T,this.m[5]+=this.m[1]*S+this.m[3]*T,this}scale(S,T){return this.m[0]*=S,this.m[1]*=S,this.m[2]*=T,this.m[3]*=T,this}rotate(S){var T=Math.cos(S),E=Math.sin(S),N=this.m[0]*T+this.m[2]*E,k=this.m[1]*T+this.m[3]*E,D=this.m[0]*-E+this.m[2]*T,b=this.m[1]*-E+this.m[3]*T;return this.m[0]=N,this.m[1]=k,this.m[2]=D,this.m[3]=b,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(S,T){var E=this.m[0]+this.m[2]*T,N=this.m[1]+this.m[3]*T,k=this.m[2]+this.m[0]*S,D=this.m[3]+this.m[1]*S;return this.m[0]=E,this.m[1]=N,this.m[2]=k,this.m[3]=D,this}multiply(S){var T=this.m[0]*S.m[0]+this.m[2]*S.m[1],E=this.m[1]*S.m[0]+this.m[3]*S.m[1],N=this.m[0]*S.m[2]+this.m[2]*S.m[3],k=this.m[1]*S.m[2]+this.m[3]*S.m[3],D=this.m[0]*S.m[4]+this.m[2]*S.m[5]+this.m[4],b=this.m[1]*S.m[4]+this.m[3]*S.m[5]+this.m[5];return this.m[0]=T,this.m[1]=E,this.m[2]=N,this.m[3]=k,this.m[4]=D,this.m[5]=b,this}invert(){var S=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),T=this.m[3]*S,E=-this.m[1]*S,N=-this.m[2]*S,k=this.m[0]*S,D=S*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),b=S*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=T,this.m[1]=E,this.m[2]=N,this.m[3]=k,this.m[4]=D,this.m[5]=b,this}getMatrix(){return this.m}decompose(){var S=this.m[0],T=this.m[1],E=this.m[2],N=this.m[3],k=this.m[4],D=this.m[5],b=S*N-T*E;let U={x:k,y:D,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(S!=0||T!=0){var W=Math.sqrt(S*S+T*T);U.rotation=T>0?Math.acos(S/W):-Math.acos(S/W),U.scaleX=W,U.scaleY=b/W,U.skewX=(S*E+T*N)/b,U.skewY=0}else if(E!=0||N!=0){var V=Math.sqrt(E*E+N*N);U.rotation=Math.PI/2-(N>0?Math.acos(-E/V):-Math.acos(E/V)),U.scaleX=b/V,U.scaleY=V,U.skewX=0,U.skewY=(S*E+T*N)/b}return U.rotation=s.Util._getRotation(U.rotation),U}}s.Transform=r;var i="[object Array]",a="[object Number]",l="[object String]",u="[object Boolean]",d=Math.PI/180,g=180/Math.PI,f="#",v="",w="0",x="Konva warning: ",y="Konva error: ",_="rgb(",A={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},P=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,R=[];const M=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(m){setTimeout(m,60)};s.Util={_isElement(m){return!!(m&&m.nodeType==1)},_isFunction(m){return!!(m&&m.constructor&&m.call&&m.apply)},_isPlainObject(m){return!!m&&m.constructor===Object},_isArray(m){return Object.prototype.toString.call(m)===i},_isNumber(m){return Object.prototype.toString.call(m)===a&&!isNaN(m)&&isFinite(m)},_isString(m){return Object.prototype.toString.call(m)===l},_isBoolean(m){return Object.prototype.toString.call(m)===u},isObject(m){return m instanceof Object},isValidSelector(m){if(typeof m!="string")return!1;var S=m[0];return S==="#"||S==="."||S===S.toUpperCase()},_sign(m){return m===0||m>0?1:-1},requestAnimFrame(m){R.push(m),R.length===1&&M(function(){const S=R;R=[],S.forEach(function(T){T()})})},createCanvasElement(){var m=document.createElement("canvas");try{m.style=m.style||{}}catch{}return m},createImageElement(){return document.createElement("img")},_isInDocument(m){for(;m=m.parentNode;)if(m==document)return!0;return!1},_urlToImage(m,S){var T=s.Util.createImageElement();T.onload=function(){S(T)},T.src=m},_rgbToHex(m,S,T){return((1<<24)+(m<<16)+(S<<8)+T).toString(16).slice(1)},_hexToRgb(m){m=m.replace(f,v);var S=parseInt(m,16);return{r:S>>16&255,g:S>>8&255,b:S&255}},getRandomColor(){for(var m=(Math.random()*16777215<<0).toString(16);m.length<6;)m=w+m;return f+m},getRGB(m){var S;return m in A?(S=A[m],{r:S[0],g:S[1],b:S[2]}):m[0]===f?this._hexToRgb(m.substring(1)):m.substr(0,4)===_?(S=P.exec(m.replace(/ /g,"")),{r:parseInt(S[1],10),g:parseInt(S[2],10),b:parseInt(S[3],10)}):{r:0,g:0,b:0}},colorToRGBA(m){return m=m||"black",s.Util._namedColorToRBA(m)||s.Util._hex3ColorToRGBA(m)||s.Util._hex4ColorToRGBA(m)||s.Util._hex6ColorToRGBA(m)||s.Util._hex8ColorToRGBA(m)||s.Util._rgbColorToRGBA(m)||s.Util._rgbaColorToRGBA(m)||s.Util._hslColorToRGBA(m)},_namedColorToRBA(m){var S=A[m.toLowerCase()];return S?{r:S[0],g:S[1],b:S[2],a:1}:null},_rgbColorToRGBA(m){if(m.indexOf("rgb(")===0){m=m.match(/rgb\(([^)]+)\)/)[1];var S=m.split(/ *, */).map(Number);return{r:S[0],g:S[1],b:S[2],a:1}}},_rgbaColorToRGBA(m){if(m.indexOf("rgba(")===0){m=m.match(/rgba\(([^)]+)\)/)[1];var S=m.split(/ *, */).map((T,E)=>T.slice(-1)==="%"?E===3?parseInt(T)/100:parseInt(T)/100*255:Number(T));return{r:S[0],g:S[1],b:S[2],a:S[3]}}},_hex8ColorToRGBA(m){if(m[0]==="#"&&m.length===9)return{r:parseInt(m.slice(1,3),16),g:parseInt(m.slice(3,5),16),b:parseInt(m.slice(5,7),16),a:parseInt(m.slice(7,9),16)/255}},_hex6ColorToRGBA(m){if(m[0]==="#"&&m.length===7)return{r:parseInt(m.slice(1,3),16),g:parseInt(m.slice(3,5),16),b:parseInt(m.slice(5,7),16),a:1}},_hex4ColorToRGBA(m){if(m[0]==="#"&&m.length===5)return{r:parseInt(m[1]+m[1],16),g:parseInt(m[2]+m[2],16),b:parseInt(m[3]+m[3],16),a:parseInt(m[4]+m[4],16)/255}},_hex3ColorToRGBA(m){if(m[0]==="#"&&m.length===4)return{r:parseInt(m[1]+m[1],16),g:parseInt(m[2]+m[2],16),b:parseInt(m[3]+m[3],16),a:1}},_hslColorToRGBA(m){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(m)){const[S,...T]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(m),E=Number(T[0])/360,N=Number(T[1])/100,k=Number(T[2])/100;let D,b,U;if(N===0)return U=k*255,{r:Math.round(U),g:Math.round(U),b:Math.round(U),a:1};k<.5?D=k*(1+N):D=k+N-k*N;const W=2*k-D,V=[0,0,0];for(let q=0;q<3;q++)b=E+1/3*-(q-1),b<0&&b++,b>1&&b--,6*b<1?U=W+(D-W)*6*b:2*b<1?U=D:3*b<2?U=W+(D-W)*(2/3-b)*6:U=W,V[q]=U*255;return{r:Math.round(V[0]),g:Math.round(V[1]),b:Math.round(V[2]),a:1}}},haveIntersection(m,S){return!(S.x>m.x+m.width||S.x+S.width<m.x||S.y>m.y+m.height||S.y+S.height<m.y)},cloneObject(m){var S={};for(var T in m)this._isPlainObject(m[T])?S[T]=this.cloneObject(m[T]):this._isArray(m[T])?S[T]=this.cloneArray(m[T]):S[T]=m[T];return S},cloneArray(m){return m.slice(0)},degToRad(m){return m*d},radToDeg(m){return m*g},_degToRad(m){return s.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),s.Util.degToRad(m)},_radToDeg(m){return s.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),s.Util.radToDeg(m)},_getRotation(m){return e.Konva.angleDeg?s.Util.radToDeg(m):m},_capitalize(m){return m.charAt(0).toUpperCase()+m.slice(1)},throw(m){throw new Error(y+m)},error(m){console.error(y+m)},warn(m){e.Konva.showWarnings&&console.warn(x+m)},each(m,S){for(var T in m)S(T,m[T])},_inRange(m,S,T){return S<=m&&m<T},_getProjectionToSegment(m,S,T,E,N,k){var D,b,U,W=(m-T)*(m-T)+(S-E)*(S-E);if(W==0)D=m,b=S,U=(N-T)*(N-T)+(k-E)*(k-E);else{var V=((N-m)*(T-m)+(k-S)*(E-S))/W;V<0?(D=m,b=S,U=(m-N)*(m-N)+(S-k)*(S-k)):V>1?(D=T,b=E,U=(T-N)*(T-N)+(E-k)*(E-k)):(D=m+V*(T-m),b=S+V*(E-S),U=(D-N)*(D-N)+(b-k)*(b-k))}return[D,b,U]},_getProjectionToLine(m,S,T){var E=s.Util.cloneObject(m),N=Number.MAX_VALUE;return S.forEach(function(k,D){if(!(!T&&D===S.length-1)){var b=S[(D+1)%S.length],U=s.Util._getProjectionToSegment(k.x,k.y,b.x,b.y,m.x,m.y),W=U[0],V=U[1],q=U[2];q<N&&(E.x=W,E.y=V,N=q)}}),E},_prepareArrayForTween(m,S,T){var E,N=[],k=[];if(m.length>S.length){var D=S;S=m,m=D}for(E=0;E<m.length;E+=2)N.push({x:m[E],y:m[E+1]});for(E=0;E<S.length;E+=2)k.push({x:S[E],y:S[E+1]});var b=[];return k.forEach(function(U){var W=s.Util._getProjectionToLine(U,N,T);b.push(W.x),b.push(W.y)}),b},_prepareToStringify(m){var S;m.visitedByCircularReferenceRemoval=!0;for(var T in m)if(m.hasOwnProperty(T)&&m[T]&&typeof m[T]=="object"){if(S=Object.getOwnPropertyDescriptor(m,T),m[T].visitedByCircularReferenceRemoval||s.Util._isElement(m[T]))if(S.configurable)delete m[T];else return null;else if(s.Util._prepareToStringify(m[T])===null)if(S.configurable)delete m[T];else return null}return delete m.visitedByCircularReferenceRemoval,m},_assign(m,S){for(var T in S)m[T]=S[T];return m},_getFirstPointerId(m){return m.touches?m.changedTouches[0].identifier:m.pointerId||999},releaseCanvas(...m){e.Konva.releaseCanvasOnDestroy&&m.forEach(S=>{S.width=0,S.height=0})},drawRoundedRectPath(m,S,T,E){let N=0,k=0,D=0,b=0;typeof E=="number"?N=k=D=b=Math.min(E,S/2,T/2):(N=Math.min(E[0]||0,S/2,T/2),k=Math.min(E[1]||0,S/2,T/2),b=Math.min(E[2]||0,S/2,T/2),D=Math.min(E[3]||0,S/2,T/2)),m.moveTo(N,0),m.lineTo(S-k,0),m.arc(S-k,k,k,Math.PI*3/2,0,!1),m.lineTo(S,T-b),m.arc(S-b,T-b,b,0,Math.PI/2,!1),m.lineTo(D,T),m.arc(D,T-D,D,Math.PI/2,Math.PI,!1),m.lineTo(0,N),m.arc(N,N,N,Math.PI,Math.PI*3/2,!1)}}})(Ve);var ze={},ge={},ee={};Object.defineProperty(ee,"__esModule",{value:!0});ee.getComponentValidator=ee.getBooleanValidator=ee.getNumberArrayValidator=ee.getFunctionValidator=ee.getStringOrGradientValidator=ee.getStringValidator=ee.getNumberOrAutoValidator=ee.getNumberOrArrayOfNumbersValidator=ee.getNumberValidator=ee.alphaComponent=ee.RGBComponent=void 0;const Cn=he,We=Ve;function Tn(s){return We.Util._isString(s)?'"'+s+'"':Object.prototype.toString.call(s)==="[object Number]"||We.Util._isBoolean(s)?s:Object.prototype.toString.call(s)}function z3(s){return s>255?255:s<0?0:Math.round(s)}ee.RGBComponent=z3;function j3(s){return s>1?1:s<1e-4?1e-4:s}ee.alphaComponent=j3;function B3(){if(Cn.Konva.isUnminified)return function(s,e){return We.Util._isNumber(s)||We.Util.warn(Tn(s)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),s}}ee.getNumberValidator=B3;function V3(s){if(Cn.Konva.isUnminified)return function(e,r){let i=We.Util._isNumber(e),a=We.Util._isArray(e)&&e.length==s;return!i&&!a&&We.Util.warn(Tn(e)+' is a not valid value for "'+r+'" attribute. The value should be a number or Array<number>('+s+")"),e}}ee.getNumberOrArrayOfNumbersValidator=V3;function W3(){if(Cn.Konva.isUnminified)return function(s,e){var r=We.Util._isNumber(s),i=s==="auto";return r||i||We.Util.warn(Tn(s)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),s}}ee.getNumberOrAutoValidator=W3;function H3(){if(Cn.Konva.isUnminified)return function(s,e){return We.Util._isString(s)||We.Util.warn(Tn(s)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),s}}ee.getStringValidator=H3;function Y3(){if(Cn.Konva.isUnminified)return function(s,e){const r=We.Util._isString(s),i=Object.prototype.toString.call(s)==="[object CanvasGradient]"||s&&s.addColorStop;return r||i||We.Util.warn(Tn(s)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),s}}ee.getStringOrGradientValidator=Y3;function q3(){if(Cn.Konva.isUnminified)return function(s,e){return We.Util._isFunction(s)||We.Util.warn(Tn(s)+' is a not valid value for "'+e+'" attribute. The value should be a function.'),s}}ee.getFunctionValidator=q3;function K3(){if(Cn.Konva.isUnminified)return function(s,e){const r=Int8Array?Object.getPrototypeOf(Int8Array):null;return r&&s instanceof r||(We.Util._isArray(s)?s.forEach(function(i){We.Util._isNumber(i)||We.Util.warn('"'+e+'" attribute has non numeric element '+i+". Make sure that all elements are numbers.")}):We.Util.warn(Tn(s)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),s}}ee.getNumberArrayValidator=K3;function X3(){if(Cn.Konva.isUnminified)return function(s,e){var r=s===!0||s===!1;return r||We.Util.warn(Tn(s)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),s}}ee.getBooleanValidator=X3;function Q3(s){if(Cn.Konva.isUnminified)return function(e,r){return e==null||We.Util.isObject(e)||We.Util.warn(Tn(e)+' is a not valid value for "'+r+'" attribute. The value should be an object with properties '+s),e}}ee.getComponentValidator=Q3;(function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.Factory=void 0;const e=Ve,r=ee;var i="get",a="set";s.Factory={addGetterSetter(l,u,d,g,f){s.Factory.addGetter(l,u,d),s.Factory.addSetter(l,u,g,f),s.Factory.addOverloadedGetterSetter(l,u)},addGetter(l,u,d){var g=i+e.Util._capitalize(u);l.prototype[g]=l.prototype[g]||function(){var f=this.attrs[u];return f===void 0?d:f}},addSetter(l,u,d,g){var f=a+e.Util._capitalize(u);l.prototype[f]||s.Factory.overWriteSetter(l,u,d,g)},overWriteSetter(l,u,d,g){var f=a+e.Util._capitalize(u);l.prototype[f]=function(v){return d&&v!==void 0&&v!==null&&(v=d.call(this,v,u)),this._setAttr(u,v),g&&g.call(this),this}},addComponentsGetterSetter(l,u,d,g,f){var v=d.length,w=e.Util._capitalize,x=i+w(u),y=a+w(u),_,A;l.prototype[x]=function(){var R={};for(_=0;_<v;_++)A=d[_],R[A]=this.getAttr(u+w(A));return R};var P=(0,r.getComponentValidator)(d);l.prototype[y]=function(R){var M=this.attrs[u],m;g&&(R=g.call(this,R)),P&&P.call(this,R,u);for(m in R)R.hasOwnProperty(m)&&this._setAttr(u+w(m),R[m]);return R||d.forEach(S=>{this._setAttr(u+w(S),void 0)}),this._fireChangeEvent(u,M,R),f&&f.call(this),this},s.Factory.addOverloadedGetterSetter(l,u)},addOverloadedGetterSetter(l,u){var d=e.Util._capitalize(u),g=a+d,f=i+d;l.prototype[u]=function(){return arguments.length?(this[g](arguments[0]),this):this[f]()}},addDeprecatedGetterSetter(l,u,d,g){e.Util.error("Adding deprecated "+u);var f=i+e.Util._capitalize(u),v=u+" property is deprecated and will be removed soon. Look at Konva change log for more information.";l.prototype[f]=function(){e.Util.error(v);var w=this.attrs[u];return w===void 0?d:w},s.Factory.addSetter(l,u,g,function(){e.Util.error(v)}),s.Factory.addOverloadedGetterSetter(l,u)},backCompat(l,u){e.Util.each(u,function(d,g){var f=l.prototype[g],v=i+e.Util._capitalize(d),w=a+e.Util._capitalize(d);function x(){f.apply(this,arguments),e.Util.error('"'+d+'" method is deprecated and will be removed soon. Use ""'+g+'" instead.')}l.prototype[d]=x,l.prototype[v]=x,l.prototype[w]=x})},afterSetFilter(){this._filterUpToDate=!1}}})(ge);var Qt={},Sn={};Object.defineProperty(Sn,"__esModule",{value:!0});Sn.HitContext=Sn.SceneContext=Sn.Context=void 0;const y0=Ve,J3=he;function Z3(s){var e=[],r=s.length,i=y0.Util,a,l;for(a=0;a<r;a++)l=s[a],i._isNumber(l)?l=Math.round(l*1e3)/1e3:i._isString(l)||(l=l+""),e.push(l);return e}var Gd=",",$3="(",em=")",tm="([",nm="])",rm=";",im="()",am="=",zd=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],sm=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"];const om=100;class os{constructor(e){this.canvas=e,J3.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,r){var i=this.traceArr,a=i.length,l="",u,d,g,f;for(u=0;u<a;u++)d=i[u],g=d.method,g?(f=d.args,l+=g,e?l+=im:y0.Util._isArray(f[0])?l+=tm+f.join(Gd)+nm:(r&&(f=f.map(v=>typeof v=="number"?Math.floor(v):v)),l+=$3+f.join(Gd)+em)):(l+=d.property,e||(l+=am+d.val)),l+=rm;return l}clearTrace(){this.traceArr=[]}_trace(e){var r=this.traceArr,i;r.push(e),i=r.length,i>=om&&r.shift()}reset(){var e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){var r=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,r.getWidth()/r.pixelRatio,r.getHeight()/r.pixelRatio)}_applyLineCap(e){const r=e.attrs.lineCap;r&&this.setAttr("lineCap",r)}_applyOpacity(e){var r=e.getAbsoluteOpacity();r!==1&&this.setAttr("globalAlpha",r)}_applyLineJoin(e){const r=e.attrs.lineJoin;r&&this.setAttr("lineJoin",r)}setAttr(e,r){this._context[e]=r}arc(e,r,i,a,l,u){this._context.arc(e,r,i,a,l,u)}arcTo(e,r,i,a,l){this._context.arcTo(e,r,i,a,l)}beginPath(){this._context.beginPath()}bezierCurveTo(e,r,i,a,l,u){this._context.bezierCurveTo(e,r,i,a,l,u)}clearRect(e,r,i,a){this._context.clearRect(e,r,i,a)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,r){var i=arguments;if(i.length===2)return this._context.createImageData(e,r);if(i.length===1)return this._context.createImageData(e)}createLinearGradient(e,r,i,a){return this._context.createLinearGradient(e,r,i,a)}createPattern(e,r){return this._context.createPattern(e,r)}createRadialGradient(e,r,i,a,l,u){return this._context.createRadialGradient(e,r,i,a,l,u)}drawImage(e,r,i,a,l,u,d,g,f){var v=arguments,w=this._context;v.length===3?w.drawImage(e,r,i):v.length===5?w.drawImage(e,r,i,a,l):v.length===9&&w.drawImage(e,r,i,a,l,u,d,g,f)}ellipse(e,r,i,a,l,u,d,g){this._context.ellipse(e,r,i,a,l,u,d,g)}isPointInPath(e,r,i,a){return i?this._context.isPointInPath(i,e,r,a):this._context.isPointInPath(e,r,a)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,r,i,a){this._context.fillRect(e,r,i,a)}strokeRect(e,r,i,a){this._context.strokeRect(e,r,i,a)}fillText(e,r,i,a){a?this._context.fillText(e,r,i,a):this._context.fillText(e,r,i)}measureText(e){return this._context.measureText(e)}getImageData(e,r,i,a){return this._context.getImageData(e,r,i,a)}lineTo(e,r){this._context.lineTo(e,r)}moveTo(e,r){this._context.moveTo(e,r)}rect(e,r,i,a){this._context.rect(e,r,i,a)}putImageData(e,r,i){this._context.putImageData(e,r,i)}quadraticCurveTo(e,r,i,a){this._context.quadraticCurveTo(e,r,i,a)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,r){this._context.scale(e,r)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,r,i,a,l,u){this._context.setTransform(e,r,i,a,l,u)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,r,i,a){this._context.strokeText(e,r,i,a)}transform(e,r,i,a,l,u){this._context.transform(e,r,i,a,l,u)}translate(e,r){this._context.translate(e,r)}_enableTrace(){var e=this,r=zd.length,i=this.setAttr,a,l,u=function(d){var g=e[d],f;e[d]=function(){return l=Z3(Array.prototype.slice.call(arguments,0)),f=g.apply(e,arguments),e._trace({method:d,args:l}),f}};for(a=0;a<r;a++)u(zd[a]);e.setAttr=function(){i.apply(e,arguments);var d=arguments[0],g=arguments[1];(d==="shadowOffsetX"||d==="shadowOffsetY"||d==="shadowBlur")&&(g=g/this.canvas.getPixelRatio()),e._trace({property:d,val:g})}}_applyGlobalCompositeOperation(e){const r=e.attrs.globalCompositeOperation;var i=!r||r==="source-over";i||this.setAttr("globalCompositeOperation",r)}}Sn.Context=os;sm.forEach(function(s){Object.defineProperty(os.prototype,s,{get(){return this._context[s]},set(e){this._context[s]=e}})});class lm extends os{constructor(e,{willReadFrequently:r=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:r})}_fillColor(e){var r=e.fill();this.setAttr("fillStyle",r),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){var r=e._getLinearGradient();r&&(this.setAttr("fillStyle",r),e._fillFunc(this))}_fillRadialGradient(e){const r=e._getRadialGradient();r&&(this.setAttr("fillStyle",r),e._fillFunc(this))}_fill(e){const r=e.fill(),i=e.getFillPriority();if(r&&i==="color"){this._fillColor(e);return}const a=e.getFillPatternImage();if(a&&i==="pattern"){this._fillPattern(e);return}const l=e.getFillLinearGradientColorStops();if(l&&i==="linear-gradient"){this._fillLinearGradient(e);return}const u=e.getFillRadialGradientColorStops();if(u&&i==="radial-gradient"){this._fillRadialGradient(e);return}r?this._fillColor(e):a?this._fillPattern(e):l?this._fillLinearGradient(e):u&&this._fillRadialGradient(e)}_strokeLinearGradient(e){const r=e.getStrokeLinearGradientStartPoint(),i=e.getStrokeLinearGradientEndPoint(),a=e.getStrokeLinearGradientColorStops(),l=this.createLinearGradient(r.x,r.y,i.x,i.y);if(a){for(var u=0;u<a.length;u+=2)l.addColorStop(a[u],a[u+1]);this.setAttr("strokeStyle",l)}}_stroke(e){var r=e.dash(),i=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!i){this.save();var a=this.getCanvas().getPixelRatio();this.setTransform(a,0,0,a,0,0)}this._applyLineCap(e),r&&e.dashEnabled()&&(this.setLineDash(r),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)");var l=e.getStrokeLinearGradientColorStops();l?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),i||this.restore()}}_applyShadow(e){var r,i,a,l=(r=e.getShadowRGBA())!==null&&r!==void 0?r:"black",u=(i=e.getShadowBlur())!==null&&i!==void 0?i:5,d=(a=e.getShadowOffset())!==null&&a!==void 0?a:{x:0,y:0},g=e.getAbsoluteScale(),f=this.canvas.getPixelRatio(),v=g.x*f,w=g.y*f;this.setAttr("shadowColor",l),this.setAttr("shadowBlur",u*Math.min(Math.abs(v),Math.abs(w))),this.setAttr("shadowOffsetX",d.x*v),this.setAttr("shadowOffsetY",d.y*w)}}Sn.SceneContext=lm;class um extends os{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){const l=e.getStrokeScaleEnabled();if(!l){this.save();var r=this.getCanvas().getPixelRatio();this.setTransform(r,0,0,r,0,0)}this._applyLineCap(e);var i=e.hitStrokeWidth(),a=i==="auto"?e.strokeWidth():i;this.setAttr("lineWidth",a),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),l||this.restore()}}}Sn.HitContext=um;Object.defineProperty(Qt,"__esModule",{value:!0});Qt.HitCanvas=Qt.SceneCanvas=Qt.Canvas=void 0;const $a=Ve,_0=Sn,w0=he,cm=ge,dm=ee;var La;function hm(){if(La)return La;var s=$a.Util.createCanvasElement(),e=s.getContext("2d");return La=function(){var r=w0.Konva._global.devicePixelRatio||1,i=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return r/i}(),$a.Util.releaseCanvas(s),La}class ls{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var r=e||{},i=r.pixelRatio||w0.Konva.pixelRatio||hm();this.pixelRatio=i,this._canvas=$a.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){var r=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/r,this.getHeight()/r)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";var r=this.pixelRatio,i=this.getContext()._context;i.scale(r,r)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";var r=this.pixelRatio,i=this.getContext()._context;i.scale(r,r)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,r){this.setWidth(e||0),this.setHeight(r||0)}toDataURL(e,r){try{return this._canvas.toDataURL(e,r)}catch{try{return this._canvas.toDataURL()}catch(a){return $a.Util.error("Unable to get data URL. "+a.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}Qt.Canvas=ls;cm.Factory.addGetterSetter(ls,"pixelRatio",void 0,(0,dm.getNumberValidator)());class gm extends ls{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new _0.SceneContext(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}}Qt.SceneCanvas=gm;class fm extends ls{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new _0.HitContext(this),this.setSize(e.width,e.height)}}Qt.HitCanvas=fm;var us={};(function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.DD=void 0;const e=he,r=Ve;s.DD={get isDragging(){var i=!1;return s.DD._dragElements.forEach(a=>{a.dragStatus==="dragging"&&(i=!0)}),i},justDragged:!1,get node(){var i;return s.DD._dragElements.forEach(a=>{i=a.node}),i},_dragElements:new Map,_drag(i){const a=[];s.DD._dragElements.forEach((l,u)=>{const{node:d}=l,g=d.getStage();g.setPointersPositions(i),l.pointerId===void 0&&(l.pointerId=r.Util._getFirstPointerId(i));const f=g._changedPointerPositions.find(x=>x.id===l.pointerId);if(f){if(l.dragStatus!=="dragging"){var v=d.dragDistance(),w=Math.max(Math.abs(f.x-l.startPointerPos.x),Math.abs(f.y-l.startPointerPos.y));if(w<v||(d.startDrag({evt:i}),!d.isDragging()))return}d._setDragPosition(i,l),a.push(d)}}),a.forEach(l=>{l.fire("dragmove",{type:"dragmove",target:l,evt:i},!0)})},_endDragBefore(i){const a=[];s.DD._dragElements.forEach(l=>{const{node:u}=l,d=u.getStage();if(i&&d.setPointersPositions(i),!d._changedPointerPositions.find(v=>v.id===l.pointerId))return;(l.dragStatus==="dragging"||l.dragStatus==="stopped")&&(s.DD.justDragged=!0,e.Konva._mouseListenClick=!1,e.Konva._touchListenClick=!1,e.Konva._pointerListenClick=!1,l.dragStatus="stopped");const f=l.node.getLayer()||l.node instanceof e.Konva.Stage&&l.node;f&&a.indexOf(f)===-1&&a.push(f)}),a.forEach(l=>{l.draw()})},_endDragAfter(i){s.DD._dragElements.forEach((a,l)=>{a.dragStatus==="stopped"&&a.node.fire("dragend",{type:"dragend",target:a.node,evt:i},!0),a.dragStatus!=="dragging"&&s.DD._dragElements.delete(l)})}},e.Konva.isBrowser&&(window.addEventListener("mouseup",s.DD._endDragBefore,!0),window.addEventListener("touchend",s.DD._endDragBefore,!0),window.addEventListener("mousemove",s.DD._drag),window.addEventListener("touchmove",s.DD._drag),window.addEventListener("mouseup",s.DD._endDragAfter,!1),window.addEventListener("touchend",s.DD._endDragAfter,!1))})(us);Object.defineProperty(ze,"__esModule",{value:!0});ze.Node=void 0;const ve=Ve,Ii=ge,Da=Qt,or=he,Ut=us,Ye=ee;var Ha="absoluteOpacity",Ua="allEventListeners",wn="absoluteTransform",jd="absoluteScale",lr="canvas",pm="Change",mm="children",vm="konva",Hl="listening",Bd="mouseenter",Vd="mouseleave",Wd="set",Hd="Shape",Ya=" ",Yd="stage",jn="transform",ym="Stage",Yl="visible",_m=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(Ya);let wm=1;class oe{constructor(e){this._id=wm++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===jn||e===wn)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,r){var i=this._cache.get(e),a=e===jn||e===wn,l=i===void 0||a&&i.dirty===!0;return l&&(i=r.call(this),this._cache.set(e,i)),i}_calculate(e,r,i){if(!this._attachedDepsListeners.get(e)){const a=r.map(l=>l+"Change.konva").join(Ya);this.on(a,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,i)}_getCanvasCache(){return this._cache.get(lr)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===wn&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(lr)){const{scene:e,filter:r,hit:i}=this._cache.get(lr);ve.Util.releaseCanvas(e,r,i),this._cache.delete(lr)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){var r=e||{},i={};(r.x===void 0||r.y===void 0||r.width===void 0||r.height===void 0)&&(i=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var a=Math.ceil(r.width||i.width),l=Math.ceil(r.height||i.height),u=r.pixelRatio,d=r.x===void 0?Math.floor(i.x):r.x,g=r.y===void 0?Math.floor(i.y):r.y,f=r.offset||0,v=r.drawBorder||!1,w=r.hitCanvasPixelRatio||1;if(!a||!l){ve.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}a+=f*2+1,l+=f*2+1,d-=f,g-=f;var x=new Da.SceneCanvas({pixelRatio:u,width:a,height:l}),y=new Da.SceneCanvas({pixelRatio:u,width:0,height:0,willReadFrequently:!0}),_=new Da.HitCanvas({pixelRatio:w,width:a,height:l}),A=x.getContext(),P=_.getContext();return _.isCache=!0,x.isCache=!0,this._cache.delete(lr),this._filterUpToDate=!1,r.imageSmoothingEnabled===!1&&(x.getContext()._context.imageSmoothingEnabled=!1,y.getContext()._context.imageSmoothingEnabled=!1),A.save(),P.save(),A.translate(-d,-g),P.translate(-d,-g),this._isUnderCache=!0,this._clearSelfAndDescendantCache(Ha),this._clearSelfAndDescendantCache(jd),this.drawScene(x,this),this.drawHit(_,this),this._isUnderCache=!1,A.restore(),P.restore(),v&&(A.save(),A.beginPath(),A.rect(0,0,a,l),A.closePath(),A.setAttr("strokeStyle","red"),A.setAttr("lineWidth",5),A.stroke(),A.restore()),this._cache.set(lr,{scene:x,filter:y,hit:_,x:d,y:g}),this._requestDraw(),this}isCached(){return this._cache.has(lr)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,r){var i=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],a,l,u,d,g=this.getAbsoluteTransform(r);return i.forEach(function(f){var v=g.point(f);a===void 0&&(a=u=v.x,l=d=v.y),a=Math.min(a,v.x),l=Math.min(l,v.y),u=Math.max(u,v.x),d=Math.max(d,v.y)}),{x:a,y:l,width:u-a,height:d-l}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const r=this._getCanvasCache();e.translate(r.x,r.y);var i=this._getCachedSceneCanvas(),a=i.pixelRatio;e.drawImage(i._canvas,0,0,i.width/a,i.height/a),e.restore()}_drawCachedHitCanvas(e){var r=this._getCanvasCache(),i=r.hit;e.save(),e.translate(r.x,r.y),e.drawImage(i._canvas,0,0,i.width/i.pixelRatio,i.height/i.pixelRatio),e.restore()}_getCachedSceneCanvas(){var e=this.filters(),r=this._getCanvasCache(),i=r.scene,a=r.filter,l=a.getContext(),u,d,g,f;if(e){if(!this._filterUpToDate){var v=i.pixelRatio;a.setSize(i.width/i.pixelRatio,i.height/i.pixelRatio);try{for(u=e.length,l.clear(),l.drawImage(i._canvas,0,0,i.getWidth()/v,i.getHeight()/v),d=l.getImageData(0,0,a.getWidth(),a.getHeight()),g=0;g<u;g++){if(f=e[g],typeof f!="function"){ve.Util.error("Filter should be type of function, but got "+typeof f+" instead. Please check correct filters");continue}f.call(this,d),l.putImageData(d,0,0)}}catch(w){ve.Util.error("Unable to apply filter. "+w.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return a}return i}on(e,r){if(this._cache&&this._cache.delete(Ua),arguments.length===3)return this._delegate.apply(this,arguments);var i=e.split(Ya),a=i.length,l,u,d,g,f;for(l=0;l<a;l++)u=i[l],d=u.split("."),g=d[0],f=d[1]||"",this.eventListeners[g]||(this.eventListeners[g]=[]),this.eventListeners[g].push({name:f,handler:r});return this}off(e,r){var i=(e||"").split(Ya),a=i.length,l,u,d,g,f,v;if(this._cache&&this._cache.delete(Ua),!e)for(u in this.eventListeners)this._off(u);for(l=0;l<a;l++)if(d=i[l],g=d.split("."),f=g[0],v=g[1],f)this.eventListeners[f]&&this._off(f,v,r);else for(u in this.eventListeners)this._off(u,v,r);return this}dispatchEvent(e){var r={target:this,type:e.type,evt:e};return this.fire(e.type,r),this}addEventListener(e,r){return this.on(e,function(i){r.call(this,i.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,r,i){var a=this;this.on(e,function(l){for(var u=l.target.findAncestors(r,!0,a),d=0;d<u.length;d++)l=ve.Util.cloneObject(l),l.currentTarget=u[d],i.call(u[d],l)})}remove(){return this.isDragging()&&this.stopDrag(),Ut.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(wn),this._clearSelfAndDescendantCache(Ha),this._clearSelfAndDescendantCache(jd),this._clearSelfAndDescendantCache(Yd),this._clearSelfAndDescendantCache(Yl),this._clearSelfAndDescendantCache(Hl)}_remove(){this._clearCaches();var e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){var r="get"+ve.Util._capitalize(e);return ve.Util._isFunction(this[r])?this[r]():this.attrs[e]}getAncestors(){for(var e=this.getParent(),r=[];e;)r.push(e),e=e.getParent();return r}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{var r,i;if(!e)return this;for(r in e)r!==mm&&(i=Wd+ve.Util._capitalize(r),ve.Util._isFunction(this[i])?this[i](e[r]):this._setAttr(r,e[r]))}),this}isListening(){return this._getCache(Hl,this._isListening)}_isListening(e){if(!this.listening())return!1;const i=this.getParent();return i&&i!==e&&this!==e?i._isListening(e):!0}isVisible(){return this._getCache(Yl,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const i=this.getParent();return i&&i!==e&&this!==e?i._isVisible(e):!0}shouldDrawHit(e,r=!1){if(e)return this._isVisible(e)&&this._isListening(e);var i=this.getLayer(),a=!1;Ut.DD._dragElements.forEach(u=>{u.dragStatus==="dragging"&&(u.node.nodeType==="Stage"||u.node.getLayer()===i)&&(a=!0)});var l=!r&&!or.Konva.hitOnDragEnabled&&a;return this.isListening()&&this.isVisible()&&!l}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var e=this.getDepth(),r=this,i=0,a,l,u,d;function g(f){for(a=[],l=f.length,u=0;u<l;u++)d=f[u],i++,d.nodeType!==Hd&&(a=a.concat(d.getChildren().slice())),d._id===r._id&&(u=l);a.length>0&&a[0].getDepth()<=e&&g(a)}return r.nodeType!==ym&&g(r.getStage().getChildren()),i}getDepth(){for(var e=0,r=this.parent;r;)e++,r=r.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(jn),this._clearSelfAndDescendantCache(wn)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){if(!this.getStage())return null;var e=this.getStage().getPointerPosition();if(!e)return null;var r=this.getAbsoluteTransform().copy();return r.invert(),r.point(e)}getAbsolutePosition(e){let r=!1,i=this.parent;for(;i;){if(i.isCached()){r=!0;break}i=i.parent}r&&!e&&(e=!0);var a=this.getAbsoluteTransform(e).getMatrix(),l=new ve.Transform,u=this.offset();return l.m=a.slice(),l.translate(u.x,u.y),l.getTranslation()}setAbsolutePosition(e){var r=this._clearTransform();this.attrs.x=r.x,this.attrs.y=r.y,delete r.x,delete r.y,this._clearCache(jn);var i=this._getAbsoluteTransform().copy();return i.invert(),i.translate(e.x,e.y),e={x:this.attrs.x+i.getTranslation().x,y:this.attrs.y+i.getTranslation().y},this._setTransform(r),this.setPosition({x:e.x,y:e.y}),this._clearCache(jn),this._clearSelfAndDescendantCache(wn),this}_setTransform(e){var r;for(r in e)this.attrs[r]=e[r]}_clearTransform(){var e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){var r=e.x,i=e.y,a=this.x(),l=this.y();return r!==void 0&&(a+=r),i!==void 0&&(l+=i),this.setPosition({x:a,y:l}),this}_eachAncestorReverse(e,r){var i=[],a=this.getParent(),l,u;if(!(r&&r._id===this._id)){for(i.unshift(this);a&&(!r||a._id!==r._id);)i.unshift(a),a=a.parent;for(l=i.length,u=0;u<l;u++)e(i[u])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return ve.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var e=this.index,r=this.parent.getChildren().length;return e<r-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return ve.Util.warn("Node has no parent. moveUp function is ignored."),!1;var e=this.index,r=this.parent.getChildren().length;return e<r-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return ve.Util.warn("Node has no parent. moveDown function is ignored."),!1;var e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return ve.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return ve.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&ve.Util.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var r=this.index;return this.parent.children.splice(r,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(Ha,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var e=this.opacity(),r=this.getParent();return r&&!r._isUnderCache&&(e*=r.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){var e={},r=this.getAttrs(),i,a,l,u,d;e.attrs={};for(i in r)a=r[i],d=ve.Util.isObject(a)&&!ve.Util._isPlainObject(a)&&!ve.Util._isArray(a),!d&&(l=typeof this[i]=="function"&&this[i],delete r[i],u=l?l.call(this):null,r[i]=a,u!==a&&(e.attrs[i]=a));return e.className=this.getClassName(),ve.Util._prepareToStringify(e)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,r,i){var a=[];r&&this._isMatch(e)&&a.push(this);for(var l=this.parent;l;){if(l===i)return a;l._isMatch(e)&&a.push(l),l=l.parent}return a}isAncestorOf(e){return!1}findAncestor(e,r,i){return this.findAncestors(e,r,i)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);var r=e.replace(/ /g,"").split(","),i=r.length,a,l;for(a=0;a<i;a++)if(l=r[a],ve.Util.isValidSelector(l)||(ve.Util.warn('Selector "'+l+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),ve.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),ve.Util.warn("Konva is awesome, right?")),l.charAt(0)==="#"){if(this.id()===l.slice(1))return!0}else if(l.charAt(0)==="."){if(this.hasName(l.slice(1)))return!0}else if(this.className===l||this.nodeType===l)return!0;return!1}getLayer(){var e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(Yd,this._getStage)}_getStage(){var e=this.getParent();if(e)return e.getStage()}fire(e,r={},i){return r.target=r.target||this,i?this._fireAndBubble(e,r):this._fire(e,r),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(wn,this._getAbsoluteTransform)}_getAbsoluteTransform(e){var r;if(e)return r=new ve.Transform,this._eachAncestorReverse(function(a){var l=a.transformsEnabled();l==="all"?r.multiply(a.getTransform()):l==="position"&&r.translate(a.x()-a.offsetX(),a.y()-a.offsetY())},e),r;r=this._cache.get(wn)||new ve.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(r):r.reset();var i=this.transformsEnabled();if(i==="all")r.multiply(this.getTransform());else if(i==="position"){const a=this.attrs.x||0,l=this.attrs.y||0,u=this.attrs.offsetX||0,d=this.attrs.offsetY||0;r.translate(a-u,l-d)}return r.dirty=!1,r}getAbsoluteScale(e){for(var r=this;r;)r._isUnderCache&&(e=r),r=r.getParent();const a=this.getAbsoluteTransform(e).decompose();return{x:a.scaleX,y:a.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(jn,this._getTransform)}_getTransform(){var e,r,i=this._cache.get(jn)||new ve.Transform;i.reset();var a=this.x(),l=this.y(),u=or.Konva.getAngle(this.rotation()),d=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,g=(r=this.attrs.scaleY)!==null&&r!==void 0?r:1,f=this.attrs.skewX||0,v=this.attrs.skewY||0,w=this.attrs.offsetX||0,x=this.attrs.offsetY||0;return(a!==0||l!==0)&&i.translate(a,l),u!==0&&i.rotate(u),(f!==0||v!==0)&&i.skew(f,v),(d!==1||g!==1)&&i.scale(d,g),(w!==0||x!==0)&&i.translate(-1*w,-1*x),i.dirty=!1,i}clone(e){var r=ve.Util.cloneObject(this.attrs),i,a,l,u,d;for(i in e)r[i]=e[i];var g=new this.constructor(r);for(i in this.eventListeners)for(a=this.eventListeners[i],l=a.length,u=0;u<l;u++)d=a[u],d.name.indexOf(vm)<0&&(g.eventListeners[i]||(g.eventListeners[i]=[]),g.eventListeners[i].push(d));return g}_toKonvaCanvas(e){e=e||{};var r=this.getClientRect(),i=this.getStage(),a=e.x!==void 0?e.x:Math.floor(r.x),l=e.y!==void 0?e.y:Math.floor(r.y),u=e.pixelRatio||1,d=new Da.SceneCanvas({width:e.width||Math.ceil(r.width)||(i?i.width():0),height:e.height||Math.ceil(r.height)||(i?i.height():0),pixelRatio:u}),g=d.getContext();return e.imageSmoothingEnabled===!1&&(g._context.imageSmoothingEnabled=!1),g.save(),(a||l)&&g.translate(-1*a,-1*l),this.drawScene(d),g.restore(),d}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};var r=e.mimeType||null,i=e.quality||null,a=this._toKonvaCanvas(e).toDataURL(r,i);return e.callback&&e.callback(a),a}toImage(e){return new Promise((r,i)=>{try{const a=e==null?void 0:e.callback;a&&delete e.callback,ve.Util._urlToImage(this.toDataURL(e),function(l){r(l),a==null||a(l)})}catch(a){i(a)}})}toBlob(e){return new Promise((r,i)=>{try{const a=e==null?void 0:e.callback;a&&delete e.callback,this.toCanvas(e).toBlob(l=>{r(l),a==null||a(l)})}catch(a){i(a)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():or.Konva.dragDistance}_off(e,r,i){var a=this.eventListeners[e],l,u,d;for(l=0;l<a.length;l++)if(u=a[l].name,d=a[l].handler,(u!=="konva"||r==="konva")&&(!r||u===r)&&(!i||i===d)){if(a.splice(l,1),a.length===0){delete this.eventListeners[e];break}l--}}_fireChangeEvent(e,r,i){this._fire(e+pm,{oldVal:r,newVal:i})}addName(e){if(!this.hasName(e)){var r=this.name(),i=r?r+" "+e:e;this.name(i)}return this}hasName(e){if(!e)return!1;const r=this.name();if(!r)return!1;var i=(r||"").split(/\s/g);return i.indexOf(e)!==-1}removeName(e){var r=(this.name()||"").split(/\s/g),i=r.indexOf(e);return i!==-1&&(r.splice(i,1),this.name(r.join(" "))),this}setAttr(e,r){var i=this[Wd+ve.Util._capitalize(e)];return ve.Util._isFunction(i)?i.call(this,r):this._setAttr(e,r),this}_requestDraw(){if(or.Konva.autoDrawEnabled){const e=this.getLayer()||this.getStage();e==null||e.batchDraw()}}_setAttr(e,r){var i=this.attrs[e];i===r&&!ve.Util.isObject(r)||(r==null?delete this.attrs[e]:this.attrs[e]=r,this._shouldFireChangeEvents&&this._fireChangeEvent(e,i,r),this._requestDraw())}_setComponentAttr(e,r,i){var a;i!==void 0&&(a=this.attrs[e],a||(this.attrs[e]=this.getAttr(e)),this.attrs[e][r]=i,this._fireChangeEvent(e,a,i))}_fireAndBubble(e,r,i){r&&this.nodeType===Hd&&(r.target=this);var a=(e===Bd||e===Vd)&&(i&&(this===i||this.isAncestorOf&&this.isAncestorOf(i))||this.nodeType==="Stage"&&!i);if(!a){this._fire(e,r);var l=(e===Bd||e===Vd)&&i&&i.isAncestorOf&&i.isAncestorOf(this)&&!i.isAncestorOf(this.parent);(r&&!r.cancelBubble||!r)&&this.parent&&this.parent.isListening()&&!l&&(i&&i.parent?this._fireAndBubble.call(this.parent,e,r,i):this._fireAndBubble.call(this.parent,e,r))}}_getProtoListeners(e){var r,i,a;const l=(r=this._cache.get(Ua))!==null&&r!==void 0?r:{};let u=l==null?void 0:l[e];if(u===void 0){u=[];let d=Object.getPrototypeOf(this);for(;d;){const g=(a=(i=d.eventListeners)===null||i===void 0?void 0:i[e])!==null&&a!==void 0?a:[];u.push(...g),d=Object.getPrototypeOf(d)}l[e]=u,this._cache.set(Ua,l)}return u}_fire(e,r){r=r||{},r.currentTarget=this,r.type=e;const i=this._getProtoListeners(e);if(i)for(var a=0;a<i.length;a++)i[a].handler.call(this,r);const l=this.eventListeners[e];if(l)for(var a=0;a<l.length;a++)l[a].handler.call(this,r)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){var r=e?e.pointerId:void 0,i=this.getStage(),a=this.getAbsolutePosition(),l=i._getPointerById(r)||i._changedPointerPositions[0]||a;Ut.DD._dragElements.set(this._id,{node:this,startPointerPos:l,offset:{x:l.x-a.x,y:l.y-a.y},dragStatus:"ready",pointerId:r})}startDrag(e,r=!0){Ut.DD._dragElements.has(this._id)||this._createDragElement(e);const i=Ut.DD._dragElements.get(this._id);i.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},r)}_setDragPosition(e,r){const i=this.getStage()._getPointerById(r.pointerId);if(i){var a={x:i.x-r.offset.x,y:i.y-r.offset.y},l=this.dragBoundFunc();if(l!==void 0){const u=l.call(this,a,e);u?a=u:ve.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==a.x||this._lastPos.y!==a.y)&&(this.setAbsolutePosition(a),this._requestDraw()),this._lastPos=a}}stopDrag(e){const r=Ut.DD._dragElements.get(this._id);r&&(r.dragStatus="stopped"),Ut.DD._endDragBefore(e),Ut.DD._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=Ut.DD._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){var r=e.evt.button!==void 0,i=!r||or.Konva.dragButtons.indexOf(e.evt.button)>=0;if(i&&!this.isDragging()){var a=!1;Ut.DD._dragElements.forEach(l=>{this.isAncestorOf(l.node)&&(a=!0)}),a||this._createDragElement(e)}})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var e=this.getStage();if(!e)return;const r=Ut.DD._dragElements.get(this._id),i=r&&r.dragStatus==="dragging",a=r&&r.dragStatus==="ready";i?this.stopDrag():a&&Ut.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const r=this.getStage();if(!r)return!1;const i={x:-e.x,y:-e.y,width:r.width()+2*e.x,height:r.height()+2*e.y};return ve.Util.haveIntersection(i,this.getClientRect())}static create(e,r){return ve.Util._isString(e)&&(e=JSON.parse(e)),this._createNode(e,r)}static _createNode(e,r){var i=oe.prototype.getClassName.call(e),a=e.children,l,u,d;r&&(e.attrs.container=r),or.Konva[i]||(ve.Util.warn('Can not find a node with class name "'+i+'". Fallback to "Shape".'),i="Shape");const g=or.Konva[i];if(l=new g(e.attrs),a)for(u=a.length,d=0;d<u;d++)l.add(oe._createNode(a[d]));return l}}ze.Node=oe;oe.prototype.nodeType="Node";oe.prototype._attrsAffectingSize=[];oe.prototype.eventListeners={};oe.prototype.on.call(oe.prototype,_m,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(jn),this._clearSelfAndDescendantCache(wn)});oe.prototype.on.call(oe.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(Yl)});oe.prototype.on.call(oe.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(Hl)});oe.prototype.on.call(oe.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(Ha)});const Me=Ii.Factory.addGetterSetter;Me(oe,"zIndex");Me(oe,"absolutePosition");Me(oe,"position");Me(oe,"x",0,(0,Ye.getNumberValidator)());Me(oe,"y",0,(0,Ye.getNumberValidator)());Me(oe,"globalCompositeOperation","source-over",(0,Ye.getStringValidator)());Me(oe,"opacity",1,(0,Ye.getNumberValidator)());Me(oe,"name","",(0,Ye.getStringValidator)());Me(oe,"id","",(0,Ye.getStringValidator)());Me(oe,"rotation",0,(0,Ye.getNumberValidator)());Ii.Factory.addComponentsGetterSetter(oe,"scale",["x","y"]);Me(oe,"scaleX",1,(0,Ye.getNumberValidator)());Me(oe,"scaleY",1,(0,Ye.getNumberValidator)());Ii.Factory.addComponentsGetterSetter(oe,"skew",["x","y"]);Me(oe,"skewX",0,(0,Ye.getNumberValidator)());Me(oe,"skewY",0,(0,Ye.getNumberValidator)());Ii.Factory.addComponentsGetterSetter(oe,"offset",["x","y"]);Me(oe,"offsetX",0,(0,Ye.getNumberValidator)());Me(oe,"offsetY",0,(0,Ye.getNumberValidator)());Me(oe,"dragDistance",null,(0,Ye.getNumberValidator)());Me(oe,"width",0,(0,Ye.getNumberValidator)());Me(oe,"height",0,(0,Ye.getNumberValidator)());Me(oe,"listening",!0,(0,Ye.getBooleanValidator)());Me(oe,"preventDefault",!0,(0,Ye.getBooleanValidator)());Me(oe,"filters",null,function(s){return this._filterUpToDate=!1,s});Me(oe,"visible",!0,(0,Ye.getBooleanValidator)());Me(oe,"transformsEnabled","all",(0,Ye.getStringValidator)());Me(oe,"size");Me(oe,"dragBoundFunc");Me(oe,"draggable",!1,(0,Ye.getBooleanValidator)());Ii.Factory.backCompat(oe,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});var pr={};Object.defineProperty(pr,"__esModule",{value:!0});pr.Container=void 0;const Kr=ge,Al=ze,cs=ee;class mr extends Al.Node{constructor(){super(...arguments),this.children=[]}getChildren(e){if(!e)return this.children||[];const r=this.children||[];var i=[];return r.forEach(function(a){e(a)&&i.push(a)}),i}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(var r=0;r<e.length;r++)this.add(e[r]);return this}const i=e[0];return i.getParent()?(i.moveTo(this),this):(this._validateAdd(i),i.index=this.getChildren().length,i.parent=this,i._clearCaches(),this.getChildren().push(i),this._fire("add",{child:i}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){var r=this._generalFind(e,!0);return r.length>0?r[0]:void 0}_generalFind(e,r){var i=[];return this._descendants(a=>{const l=a._isMatch(e);return l&&i.push(a),!!(l&&r)}),i}_descendants(e){let r=!1;const i=this.getChildren();for(const a of i){if(r=e(a),r)return!0;if(a.hasChildren()&&(r=a._descendants(e),r))return!0}return!1}toObject(){var e=Al.Node.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(r=>{e.children.push(r.toObject())}),e}isAncestorOf(e){for(var r=e.getParent();r;){if(r._id===this._id)return!0;r=r.getParent()}return!1}clone(e){var r=Al.Node.prototype.clone.call(this,e);return this.getChildren().forEach(function(i){r.add(i.clone())}),r}getAllIntersections(e){var r=[];return this.find("Shape").forEach(function(i){i.isVisible()&&i.intersects(e)&&r.push(i)}),r}_clearSelfAndDescendantCache(e){var r;super._clearSelfAndDescendantCache(e),!this.isCached()&&((r=this.children)===null||r===void 0||r.forEach(function(i){i._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(r,i){r.index=i}),this._requestDraw()}drawScene(e,r){var i=this.getLayer(),a=e||i&&i.getCanvas(),l=a&&a.getContext(),u=this._getCanvasCache(),d=u&&u.scene,g=a&&a.isCache;if(!this.isVisible()&&!g)return this;if(d){l.save();var f=this.getAbsoluteTransform(r).getMatrix();l.transform(f[0],f[1],f[2],f[3],f[4],f[5]),this._drawCachedSceneCanvas(l),l.restore()}else this._drawChildren("drawScene",a,r);return this}drawHit(e,r){if(!this.shouldDrawHit(r))return this;var i=this.getLayer(),a=e||i&&i.hitCanvas,l=a&&a.getContext(),u=this._getCanvasCache(),d=u&&u.hit;if(d){l.save();var g=this.getAbsoluteTransform(r).getMatrix();l.transform(g[0],g[1],g[2],g[3],g[4],g[5]),this._drawCachedHitCanvas(l),l.restore()}else this._drawChildren("drawHit",a,r);return this}_drawChildren(e,r,i){var a,l=r&&r.getContext(),u=this.clipWidth(),d=this.clipHeight(),g=this.clipFunc(),f=u&&d||g;const v=i===this;if(f){l.save();var w=this.getAbsoluteTransform(i),x=w.getMatrix();l.transform(x[0],x[1],x[2],x[3],x[4],x[5]),l.beginPath();let P;if(g)P=g.call(this,l,this);else{var y=this.clipX(),_=this.clipY();l.rect(y,_,u,d)}l.clip.apply(l,P),x=w.copy().invert().getMatrix(),l.transform(x[0],x[1],x[2],x[3],x[4],x[5])}var A=!v&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";A&&(l.save(),l._applyGlobalCompositeOperation(this)),(a=this.children)===null||a===void 0||a.forEach(function(P){P[e](r,i)}),A&&l.restore(),f&&l.restore()}getClientRect(e){var r;e=e||{};var i=e.skipTransform,a=e.relativeTo,l,u,d,g,f={x:1/0,y:1/0,width:0,height:0},v=this;(r=this.children)===null||r===void 0||r.forEach(function(A){if(A.visible()){var P=A.getClientRect({relativeTo:v,skipShadow:e.skipShadow,skipStroke:e.skipStroke});P.width===0&&P.height===0||(l===void 0?(l=P.x,u=P.y,d=P.x+P.width,g=P.y+P.height):(l=Math.min(l,P.x),u=Math.min(u,P.y),d=Math.max(d,P.x+P.width),g=Math.max(g,P.y+P.height)))}});for(var w=this.find("Shape"),x=!1,y=0;y<w.length;y++){var _=w[y];if(_._isVisible(this)){x=!0;break}}return x&&l!==void 0?f={x:l,y:u,width:d-l,height:g-u}:f={x:0,y:0,width:0,height:0},i?f:this._transformedRect(f,a)}}pr.Container=mr;Kr.Factory.addComponentsGetterSetter(mr,"clip",["x","y","width","height"]);Kr.Factory.addGetterSetter(mr,"clipX",void 0,(0,cs.getNumberValidator)());Kr.Factory.addGetterSetter(mr,"clipY",void 0,(0,cs.getNumberValidator)());Kr.Factory.addGetterSetter(mr,"clipWidth",void 0,(0,cs.getNumberValidator)());Kr.Factory.addGetterSetter(mr,"clipHeight",void 0,(0,cs.getNumberValidator)());Kr.Factory.addGetterSetter(mr,"clipFunc");var S0={},Pt={};Object.defineProperty(Pt,"__esModule",{value:!0});Pt.releaseCapture=Pt.setPointerCapture=Pt.hasPointerCapture=Pt.createEvent=Pt.getCapturedShape=void 0;const Sm=he,Ri=new Map,x0=Sm.Konva._global.PointerEvent!==void 0;function xm(s){return Ri.get(s)}Pt.getCapturedShape=xm;function uu(s){return{evt:s,pointerId:s.pointerId}}Pt.createEvent=uu;function Cm(s,e){return Ri.get(s)===e}Pt.hasPointerCapture=Cm;function Tm(s,e){C0(s),e.getStage()&&(Ri.set(s,e),x0&&e._fire("gotpointercapture",uu(new PointerEvent("gotpointercapture"))))}Pt.setPointerCapture=Tm;function C0(s,e){const r=Ri.get(s);if(!r)return;const i=r.getStage();i&&i.content,Ri.delete(s),x0&&r._fire("lostpointercapture",uu(new PointerEvent("lostpointercapture")))}Pt.releaseCapture=C0;(function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.Stage=s.stages=void 0;const e=Ve,r=ge,i=pr,a=he,l=Qt,u=us,d=he,g=Pt;var f="Stage",v="string",w="px",x="mouseout",y="mouseleave",_="mouseover",A="mouseenter",P="mousemove",R="mousedown",M="mouseup",m="pointermove",S="pointerdown",T="pointerup",E="pointercancel",N="lostpointercapture",k="pointerout",D="pointerleave",b="pointerover",U="pointerenter",W="contextmenu",V="touchstart",q="touchend",K="touchmove",ne="touchcancel",fe="wheel",me=5,be=[[A,"_pointerenter"],[R,"_pointerdown"],[P,"_pointermove"],[M,"_pointerup"],[y,"_pointerleave"],[V,"_pointerdown"],[K,"_pointermove"],[q,"_pointerup"],[ne,"_pointercancel"],[_,"_pointerover"],[fe,"_wheel"],[W,"_contextmenu"],[S,"_pointerdown"],[m,"_pointermove"],[T,"_pointerup"],[E,"_pointercancel"],[N,"_lostpointercapture"]];const ie={mouse:{[k]:x,[D]:y,[b]:_,[U]:A,[m]:P,[S]:R,[T]:M,[E]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[k]:"touchout",[D]:"touchleave",[b]:"touchover",[U]:"touchenter",[m]:K,[S]:V,[T]:q,[E]:ne,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[k]:k,[D]:D,[b]:b,[U]:U,[m]:m,[S]:S,[T]:T,[E]:E,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},se=lt=>lt.indexOf("pointer")>=0?"pointer":lt.indexOf("touch")>=0?"touch":"mouse",ye=lt=>{const L=se(lt);if(L==="pointer")return a.Konva.pointerEventsEnabled&&ie.pointer;if(L==="touch")return ie.touch;if(L==="mouse")return ie.mouse};function Ee(lt={}){return(lt.clipFunc||lt.clipWidth||lt.clipHeight)&&e.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),lt}const Ce="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";s.stages=[];class Tt extends i.Container{constructor(L){super(Ee(L)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),s.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{Ee(this.attrs)}),this._checkVisibility()}_validateAdd(L){const Y=L.getType()==="Layer",te=L.getType()==="FastLayer";Y||te||e.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const L=this.visible()?"":"none";this.content.style.display=L}setContainer(L){if(typeof L===v){if(L.charAt(0)==="."){var Y=L.slice(1);L=document.getElementsByClassName(Y)[0]}else{var te;L.charAt(0)!=="#"?te=L:te=L.slice(1),L=document.getElementById(te)}if(!L)throw"Can not find container in document with id "+te}return this._setAttr("container",L),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),L.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var L=this.children,Y=L.length,te;for(te=0;te<Y;te++)L[te].clear();return this}clone(L){return L||(L={}),L.container=typeof document<"u"&&document.createElement("div"),i.Container.prototype.clone.call(this,L)}destroy(){super.destroy();var L=this.content;L&&e.Util._isInDocument(L)&&this.container().removeChild(L);var Y=s.stages.indexOf(this);return Y>-1&&s.stages.splice(Y,1),e.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const L=this._pointerPositions[0]||this._changedPointerPositions[0];return L?{x:L.x,y:L.y}:(e.Util.warn(Ce),null)}_getPointerById(L){return this._pointerPositions.find(Y=>Y.id===L)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(L){L=L||{},L.x=L.x||0,L.y=L.y||0,L.width=L.width||this.width(),L.height=L.height||this.height();var Y=new l.SceneCanvas({width:L.width,height:L.height,pixelRatio:L.pixelRatio||1}),te=Y.getContext()._context,Te=this.children;return(L.x||L.y)&&te.translate(-1*L.x,-1*L.y),Te.forEach(function(ce){if(ce.isVisible()){var Fe=ce._toKonvaCanvas(L);te.drawImage(Fe._canvas,L.x,L.y,Fe.getWidth()/Fe.getPixelRatio(),Fe.getHeight()/Fe.getPixelRatio())}}),Y}getIntersection(L){if(!L)return null;var Y=this.children,te=Y.length,Te=te-1,ce;for(ce=Te;ce>=0;ce--){const Fe=Y[ce].getIntersection(L);if(Fe)return Fe}return null}_resizeDOM(){var L=this.width(),Y=this.height();this.content&&(this.content.style.width=L+w,this.content.style.height=Y+w),this.bufferCanvas.setSize(L,Y),this.bufferHitCanvas.setSize(L,Y),this.children.forEach(te=>{te.setSize({width:L,height:Y}),te.draw()})}add(L,...Y){if(arguments.length>1){for(var te=0;te<arguments.length;te++)this.add(arguments[te]);return this}super.add(L);var Te=this.children.length;return Te>me&&e.Util.warn("The stage has "+Te+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),L.setSize({width:this.width(),height:this.height()}),L.draw(),a.Konva.isBrowser&&this.content.appendChild(L.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(L){return g.hasPointerCapture(L,this)}setPointerCapture(L){g.setPointerCapture(L,this)}releaseCapture(L){g.releaseCapture(L,this)}getLayers(){return this.children}_bindContentEvents(){a.Konva.isBrowser&&be.forEach(([L,Y])=>{this.content.addEventListener(L,te=>{this[Y](te)},{passive:!1})})}_pointerenter(L){this.setPointersPositions(L);const Y=ye(L.type);this._fire(Y.pointerenter,{evt:L,target:this,currentTarget:this})}_pointerover(L){this.setPointersPositions(L);const Y=ye(L.type);this._fire(Y.pointerover,{evt:L,target:this,currentTarget:this})}_getTargetShape(L){let Y=this[L+"targetShape"];return Y&&!Y.getStage()&&(Y=null),Y}_pointerleave(L){const Y=ye(L.type),te=se(L.type);if(Y){this.setPointersPositions(L);var Te=this._getTargetShape(te),ce=!u.DD.isDragging||a.Konva.hitOnDragEnabled;Te&&ce?(Te._fireAndBubble(Y.pointerout,{evt:L}),Te._fireAndBubble(Y.pointerleave,{evt:L}),this._fire(Y.pointerleave,{evt:L,target:this,currentTarget:this}),this[te+"targetShape"]=null):ce&&(this._fire(Y.pointerleave,{evt:L,target:this,currentTarget:this}),this._fire(Y.pointerout,{evt:L,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[]}}_pointerdown(L){const Y=ye(L.type),te=se(L.type);if(Y){this.setPointersPositions(L);var Te=!1;this._changedPointerPositions.forEach(ce=>{var Fe=this.getIntersection(ce);if(u.DD.justDragged=!1,a.Konva["_"+te+"ListenClick"]=!0,!(Fe&&Fe.isListening()))return;a.Konva.capturePointerEventsEnabled&&Fe.setPointerCapture(ce.id),this[te+"ClickStartShape"]=Fe,Fe._fireAndBubble(Y.pointerdown,{evt:L,pointerId:ce.id}),Te=!0;const bt=L.type.indexOf("touch")>=0;Fe.preventDefault()&&L.cancelable&&bt&&L.preventDefault()}),Te||this._fire(Y.pointerdown,{evt:L,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(L){const Y=ye(L.type),te=se(L.type);if(!Y)return;u.DD.isDragging&&u.DD.node.preventDefault()&&L.cancelable&&L.preventDefault(),this.setPointersPositions(L);var Te=!u.DD.isDragging||a.Konva.hitOnDragEnabled;if(!Te)return;var ce={};let Fe=!1;var De=this._getTargetShape(te);this._changedPointerPositions.forEach(bt=>{const Re=g.getCapturedShape(bt.id)||this.getIntersection(bt),En=bt.id,jt={evt:L,pointerId:En};var Pn=De!==Re;if(Pn&&De&&(De._fireAndBubble(Y.pointerout,Object.assign({},jt),Re),De._fireAndBubble(Y.pointerleave,Object.assign({},jt),Re)),Re){if(ce[Re._id])return;ce[Re._id]=!0}Re&&Re.isListening()?(Fe=!0,Pn&&(Re._fireAndBubble(Y.pointerover,Object.assign({},jt),De),Re._fireAndBubble(Y.pointerenter,Object.assign({},jt),De),this[te+"targetShape"]=Re),Re._fireAndBubble(Y.pointermove,Object.assign({},jt))):De&&(this._fire(Y.pointerover,{evt:L,target:this,currentTarget:this,pointerId:En}),this[te+"targetShape"]=null)}),Fe||this._fire(Y.pointermove,{evt:L,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(L){const Y=ye(L.type),te=se(L.type);if(!Y)return;this.setPointersPositions(L);const Te=this[te+"ClickStartShape"],ce=this[te+"ClickEndShape"];var Fe={};let De=!1;this._changedPointerPositions.forEach(bt=>{const Re=g.getCapturedShape(bt.id)||this.getIntersection(bt);if(Re){if(Re.releaseCapture(bt.id),Fe[Re._id])return;Fe[Re._id]=!0}const En=bt.id,jt={evt:L,pointerId:En};let Pn=!1;a.Konva["_"+te+"InDblClickWindow"]?(Pn=!0,clearTimeout(this[te+"DblTimeout"])):u.DD.justDragged||(a.Konva["_"+te+"InDblClickWindow"]=!0,clearTimeout(this[te+"DblTimeout"])),this[te+"DblTimeout"]=setTimeout(function(){a.Konva["_"+te+"InDblClickWindow"]=!1},a.Konva.dblClickWindow),Re&&Re.isListening()?(De=!0,this[te+"ClickEndShape"]=Re,Re._fireAndBubble(Y.pointerup,Object.assign({},jt)),a.Konva["_"+te+"ListenClick"]&&Te&&Te===Re&&(Re._fireAndBubble(Y.pointerclick,Object.assign({},jt)),Pn&&ce&&ce===Re&&Re._fireAndBubble(Y.pointerdblclick,Object.assign({},jt)))):(this[te+"ClickEndShape"]=null,a.Konva["_"+te+"ListenClick"]&&this._fire(Y.pointerclick,{evt:L,target:this,currentTarget:this,pointerId:En}),Pn&&this._fire(Y.pointerdblclick,{evt:L,target:this,currentTarget:this,pointerId:En}))}),De||this._fire(Y.pointerup,{evt:L,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),a.Konva["_"+te+"ListenClick"]=!1,L.cancelable&&te!=="touch"&&L.preventDefault()}_contextmenu(L){this.setPointersPositions(L);var Y=this.getIntersection(this.getPointerPosition());Y&&Y.isListening()?Y._fireAndBubble(W,{evt:L}):this._fire(W,{evt:L,target:this,currentTarget:this})}_wheel(L){this.setPointersPositions(L);var Y=this.getIntersection(this.getPointerPosition());Y&&Y.isListening()?Y._fireAndBubble(fe,{evt:L}):this._fire(fe,{evt:L,target:this,currentTarget:this})}_pointercancel(L){this.setPointersPositions(L);const Y=g.getCapturedShape(L.pointerId)||this.getIntersection(this.getPointerPosition());Y&&Y._fireAndBubble(T,g.createEvent(L)),g.releaseCapture(L.pointerId)}_lostpointercapture(L){g.releaseCapture(L.pointerId)}setPointersPositions(L){var Y=this._getContentPosition(),te=null,Te=null;L=L||window.event,L.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(L.touches,ce=>{this._pointerPositions.push({id:ce.identifier,x:(ce.clientX-Y.left)/Y.scaleX,y:(ce.clientY-Y.top)/Y.scaleY})}),Array.prototype.forEach.call(L.changedTouches||L.touches,ce=>{this._changedPointerPositions.push({id:ce.identifier,x:(ce.clientX-Y.left)/Y.scaleX,y:(ce.clientY-Y.top)/Y.scaleY})})):(te=(L.clientX-Y.left)/Y.scaleX,Te=(L.clientY-Y.top)/Y.scaleY,this.pointerPos={x:te,y:Te},this._pointerPositions=[{x:te,y:Te,id:e.Util._getFirstPointerId(L)}],this._changedPointerPositions=[{x:te,y:Te,id:e.Util._getFirstPointerId(L)}])}_setPointerPosition(L){e.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(L)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var L=this.content.getBoundingClientRect();return{top:L.top,left:L.left,scaleX:L.width/this.content.clientWidth||1,scaleY:L.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new l.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new l.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!!a.Konva.isBrowser){var L=this.container();if(!L)throw"Stage has no container. A container is required.";L.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),L.appendChild(this.content),this._resizeDOM()}}cache(){return e.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(L){L.batchDraw()}),this}}s.Stage=Tt,Tt.prototype.nodeType=f,(0,d._registerNode)(Tt),r.Factory.addGetterSetter(Tt,"container")})(S0);var Li={},$e={};(function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.Shape=s.shapes=void 0;const e=he,r=Ve,i=ge,a=ze,l=ee,u=he,d=Pt;var g="hasShadow",f="shadowRGBA",v="patternImage",w="linearGradient",x="radialGradient";let y;function _(){return y||(y=r.Util.createCanvasElement().getContext("2d"),y)}s.shapes={};function A(D){const b=this.attrs.fillRule;b?D.fill(b):D.fill()}function P(D){D.stroke()}function R(D){D.fill()}function M(D){D.stroke()}function m(){this._clearCache(g)}function S(){this._clearCache(f)}function T(){this._clearCache(v)}function E(){this._clearCache(w)}function N(){this._clearCache(x)}class k extends a.Node{constructor(b){super(b);let U;for(;U=r.Util.getRandomColor(),!(U&&!(U in s.shapes)););this.colorKey=U,s.shapes[U]=this}getContext(){return r.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return r.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(g,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(v,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){var b=_();const U=b.createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(U&&U.setTransform){const W=new r.Transform;W.translate(this.fillPatternX(),this.fillPatternY()),W.rotate(e.Konva.getAngle(this.fillPatternRotation())),W.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),W.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const V=W.getMatrix(),q=typeof DOMMatrix>"u"?{a:V[0],b:V[1],c:V[2],d:V[3],e:V[4],f:V[5]}:new DOMMatrix(V);U.setTransform(q)}return U}}_getLinearGradient(){return this._getCache(w,this.__getLinearGradient)}__getLinearGradient(){var b=this.fillLinearGradientColorStops();if(b){for(var U=_(),W=this.fillLinearGradientStartPoint(),V=this.fillLinearGradientEndPoint(),q=U.createLinearGradient(W.x,W.y,V.x,V.y),K=0;K<b.length;K+=2)q.addColorStop(b[K],b[K+1]);return q}}_getRadialGradient(){return this._getCache(x,this.__getRadialGradient)}__getRadialGradient(){var b=this.fillRadialGradientColorStops();if(b){for(var U=_(),W=this.fillRadialGradientStartPoint(),V=this.fillRadialGradientEndPoint(),q=U.createRadialGradient(W.x,W.y,this.fillRadialGradientStartRadius(),V.x,V.y,this.fillRadialGradientEndRadius()),K=0;K<b.length;K+=2)q.addColorStop(b[K],b[K+1]);return q}}getShadowRGBA(){return this._getCache(f,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var b=r.Util.colorToRGBA(this.shadowColor());if(b)return"rgba("+b.r+","+b.g+","+b.b+","+b.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const b=this.hitStrokeWidth();return b==="auto"?this.hasStroke():this.strokeEnabled()&&!!b}intersects(b){var U=this.getStage(),W=U.bufferHitCanvas,V;return W.getContext().clear(),this.drawHit(W,null,!0),V=W.context.getImageData(Math.round(b.x),Math.round(b.y),1,1).data,V[3]>0}destroy(){return a.Node.prototype.destroy.call(this),delete s.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(b){var U;if(!this.getStage()||!((U=this.attrs.perfectDrawEnabled)!==null&&U!==void 0?U:!0))return!1;const V=b||this.hasFill(),q=this.hasStroke(),K=this.getAbsoluteOpacity()!==1;if(V&&q&&K)return!0;const ne=this.hasShadow(),fe=this.shadowForStrokeEnabled();return!!(V&&q&&ne&&fe)}setStrokeHitEnabled(b){r.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),b?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){var b=this.size();return{x:this._centroid?-b.width/2:0,y:this._centroid?-b.height/2:0,width:b.width,height:b.height}}getClientRect(b={}){const U=b.skipTransform,W=b.relativeTo,V=this.getSelfRect(),K=!b.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,ne=V.width+K,fe=V.height+K,me=!b.skipShadow&&this.hasShadow(),be=me?this.shadowOffsetX():0,ie=me?this.shadowOffsetY():0,se=ne+Math.abs(be),ye=fe+Math.abs(ie),Ee=me&&this.shadowBlur()||0,Ce=se+Ee*2,Tt=ye+Ee*2,lt={width:Ce,height:Tt,x:-(K/2+Ee)+Math.min(be,0)+V.x,y:-(K/2+Ee)+Math.min(ie,0)+V.y};return U?lt:this._transformedRect(lt,W)}drawScene(b,U){var W=this.getLayer(),V=b||W.getCanvas(),q=V.getContext(),K=this._getCanvasCache(),ne=this.getSceneFunc(),fe=this.hasShadow(),me,be,ie,se=V.isCache,ye=U===this;if(!this.isVisible()&&!ye)return this;if(K){q.save();var Ee=this.getAbsoluteTransform(U).getMatrix();return q.transform(Ee[0],Ee[1],Ee[2],Ee[3],Ee[4],Ee[5]),this._drawCachedSceneCanvas(q),q.restore(),this}if(!ne)return this;if(q.save(),this._useBufferCanvas()&&!se){me=this.getStage(),be=me.bufferCanvas,ie=be.getContext(),ie.clear(),ie.save(),ie._applyLineJoin(this);var Ce=this.getAbsoluteTransform(U).getMatrix();ie.transform(Ce[0],Ce[1],Ce[2],Ce[3],Ce[4],Ce[5]),ne.call(this,ie,this),ie.restore();var Tt=be.pixelRatio;fe&&q._applyShadow(this),q._applyOpacity(this),q._applyGlobalCompositeOperation(this),q.drawImage(be._canvas,0,0,be.width/Tt,be.height/Tt)}else{if(q._applyLineJoin(this),!ye){var Ce=this.getAbsoluteTransform(U).getMatrix();q.transform(Ce[0],Ce[1],Ce[2],Ce[3],Ce[4],Ce[5]),q._applyOpacity(this),q._applyGlobalCompositeOperation(this)}fe&&q._applyShadow(this),ne.call(this,q,this)}return q.restore(),this}drawHit(b,U,W=!1){if(!this.shouldDrawHit(U,W))return this;var V=this.getLayer(),q=b||V.hitCanvas,K=q&&q.getContext(),ne=this.hitFunc()||this.sceneFunc(),fe=this._getCanvasCache(),me=fe&&fe.hit;if(this.colorKey||r.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),me){K.save();var be=this.getAbsoluteTransform(U).getMatrix();return K.transform(be[0],be[1],be[2],be[3],be[4],be[5]),this._drawCachedHitCanvas(K),K.restore(),this}if(!ne)return this;if(K.save(),K._applyLineJoin(this),!(this===U)){var se=this.getAbsoluteTransform(U).getMatrix();K.transform(se[0],se[1],se[2],se[3],se[4],se[5])}return ne.call(this,K,this),K.restore(),this}drawHitFromCache(b=0){var U=this._getCanvasCache(),W=this._getCachedSceneCanvas(),V=U.hit,q=V.getContext(),K=V.getWidth(),ne=V.getHeight(),fe,me,be,ie,se,ye;q.clear(),q.drawImage(W._canvas,0,0,K,ne);try{for(fe=q.getImageData(0,0,K,ne),me=fe.data,be=me.length,ie=r.Util._hexToRgb(this.colorKey),se=0;se<be;se+=4)ye=me[se+3],ye>b?(me[se]=ie.r,me[se+1]=ie.g,me[se+2]=ie.b,me[se+3]=255):me[se+3]=0;q.putImageData(fe,0,0)}catch(Ee){r.Util.error("Unable to draw hit graph from cached scene canvas. "+Ee.message)}return this}hasPointerCapture(b){return d.hasPointerCapture(b,this)}setPointerCapture(b){d.setPointerCapture(b,this)}releaseCapture(b){d.releaseCapture(b,this)}}s.Shape=k,k.prototype._fillFunc=A,k.prototype._strokeFunc=P,k.prototype._fillFuncHit=R,k.prototype._strokeFuncHit=M,k.prototype._centroid=!1,k.prototype.nodeType="Shape",(0,u._registerNode)(k),k.prototype.eventListeners={},k.prototype.on.call(k.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",m),k.prototype.on.call(k.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",S),k.prototype.on.call(k.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",T),k.prototype.on.call(k.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",E),k.prototype.on.call(k.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",N),i.Factory.addGetterSetter(k,"stroke",void 0,(0,l.getStringOrGradientValidator)()),i.Factory.addGetterSetter(k,"strokeWidth",2,(0,l.getNumberValidator)()),i.Factory.addGetterSetter(k,"fillAfterStrokeEnabled",!1),i.Factory.addGetterSetter(k,"hitStrokeWidth","auto",(0,l.getNumberOrAutoValidator)()),i.Factory.addGetterSetter(k,"strokeHitEnabled",!0,(0,l.getBooleanValidator)()),i.Factory.addGetterSetter(k,"perfectDrawEnabled",!0,(0,l.getBooleanValidator)()),i.Factory.addGetterSetter(k,"shadowForStrokeEnabled",!0,(0,l.getBooleanValidator)()),i.Factory.addGetterSetter(k,"lineJoin"),i.Factory.addGetterSetter(k,"lineCap"),i.Factory.addGetterSetter(k,"sceneFunc"),i.Factory.addGetterSetter(k,"hitFunc"),i.Factory.addGetterSetter(k,"dash"),i.Factory.addGetterSetter(k,"dashOffset",0,(0,l.getNumberValidator)()),i.Factory.addGetterSetter(k,"shadowColor",void 0,(0,l.getStringValidator)()),i.Factory.addGetterSetter(k,"shadowBlur",0,(0,l.getNumberValidator)()),i.Factory.addGetterSetter(k,"shadowOpacity",1,(0,l.getNumberValidator)()),i.Factory.addComponentsGetterSetter(k,"shadowOffset",["x","y"]),i.Factory.addGetterSetter(k,"shadowOffsetX",0,(0,l.getNumberValidator)()),i.Factory.addGetterSetter(k,"shadowOffsetY",0,(0,l.getNumberValidator)()),i.Factory.addGetterSetter(k,"fillPatternImage"),i.Factory.addGetterSetter(k,"fill",void 0,(0,l.getStringOrGradientValidator)()),i.Factory.addGetterSetter(k,"fillPatternX",0,(0,l.getNumberValidator)()),i.Factory.addGetterSetter(k,"fillPatternY",0,(0,l.getNumberValidator)()),i.Factory.addGetterSetter(k,"fillLinearGradientColorStops"),i.Factory.addGetterSetter(k,"strokeLinearGradientColorStops"),i.Factory.addGetterSetter(k,"fillRadialGradientStartRadius",0),i.Factory.addGetterSetter(k,"fillRadialGradientEndRadius",0),i.Factory.addGetterSetter(k,"fillRadialGradientColorStops"),i.Factory.addGetterSetter(k,"fillPatternRepeat","repeat"),i.Factory.addGetterSetter(k,"fillEnabled",!0),i.Factory.addGetterSetter(k,"strokeEnabled",!0),i.Factory.addGetterSetter(k,"shadowEnabled",!0),i.Factory.addGetterSetter(k,"dashEnabled",!0),i.Factory.addGetterSetter(k,"strokeScaleEnabled",!0),i.Factory.addGetterSetter(k,"fillPriority","color"),i.Factory.addComponentsGetterSetter(k,"fillPatternOffset",["x","y"]),i.Factory.addGetterSetter(k,"fillPatternOffsetX",0,(0,l.getNumberValidator)()),i.Factory.addGetterSetter(k,"fillPatternOffsetY",0,(0,l.getNumberValidator)()),i.Factory.addComponentsGetterSetter(k,"fillPatternScale",["x","y"]),i.Factory.addGetterSetter(k,"fillPatternScaleX",1,(0,l.getNumberValidator)()),i.Factory.addGetterSetter(k,"fillPatternScaleY",1,(0,l.getNumberValidator)()),i.Factory.addComponentsGetterSetter(k,"fillLinearGradientStartPoint",["x","y"]),i.Factory.addComponentsGetterSetter(k,"strokeLinearGradientStartPoint",["x","y"]),i.Factory.addGetterSetter(k,"fillLinearGradientStartPointX",0),i.Factory.addGetterSetter(k,"strokeLinearGradientStartPointX",0),i.Factory.addGetterSetter(k,"fillLinearGradientStartPointY",0),i.Factory.addGetterSetter(k,"strokeLinearGradientStartPointY",0),i.Factory.addComponentsGetterSetter(k,"fillLinearGradientEndPoint",["x","y"]),i.Factory.addComponentsGetterSetter(k,"strokeLinearGradientEndPoint",["x","y"]),i.Factory.addGetterSetter(k,"fillLinearGradientEndPointX",0),i.Factory.addGetterSetter(k,"strokeLinearGradientEndPointX",0),i.Factory.addGetterSetter(k,"fillLinearGradientEndPointY",0),i.Factory.addGetterSetter(k,"strokeLinearGradientEndPointY",0),i.Factory.addComponentsGetterSetter(k,"fillRadialGradientStartPoint",["x","y"]),i.Factory.addGetterSetter(k,"fillRadialGradientStartPointX",0),i.Factory.addGetterSetter(k,"fillRadialGradientStartPointY",0),i.Factory.addComponentsGetterSetter(k,"fillRadialGradientEndPoint",["x","y"]),i.Factory.addGetterSetter(k,"fillRadialGradientEndPointX",0),i.Factory.addGetterSetter(k,"fillRadialGradientEndPointY",0),i.Factory.addGetterSetter(k,"fillPatternRotation",0),i.Factory.addGetterSetter(k,"fillRule",void 0,(0,l.getStringValidator)()),i.Factory.backCompat(k,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})})($e);Object.defineProperty(Li,"__esModule",{value:!0});Li.Layer=void 0;const _n=Ve,kl=pr,zr=ze,cu=ge,qd=Qt,Am=ee,km=$e,Em=he;var Pm="#",bm="beforeDraw",Rm="draw",T0=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],Om=T0.length;let Xr=class extends kl.Container{constructor(e){super(e),this.canvas=new qd.SceneCanvas,this.hitCanvas=new qd.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);var r=this.getStage();return r&&r.content&&(r.content.removeChild(this.getNativeCanvasElement()),e<r.children.length-1?r.content.insertBefore(this.getNativeCanvasElement(),r.children[e+1].getCanvas()._canvas):r.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){zr.Node.prototype.moveToTop.call(this);var e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){var e=zr.Node.prototype.moveUp.call(this);if(!e)return!1;var r=this.getStage();return!r||!r.content?!1:(r.content.removeChild(this.getNativeCanvasElement()),this.index<r.children.length-1?r.content.insertBefore(this.getNativeCanvasElement(),r.children[this.index+1].getCanvas()._canvas):r.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(zr.Node.prototype.moveDown.call(this)){var e=this.getStage();if(e){var r=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),r[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(zr.Node.prototype.moveToBottom.call(this)){var e=this.getStage();if(e){var r=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),r[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var e=this.getNativeCanvasElement();return zr.Node.prototype.remove.call(this),e&&e.parentNode&&_n.Util._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:r}){return this.canvas.setSize(e,r),this.hitCanvas.setSize(e,r),this._setSmoothEnabled(),this}_validateAdd(e){var r=e.getType();r!=="Group"&&r!=="Shape"&&_n.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e=e||{},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),zr.Node.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){_n.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){_n.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,_n.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;for(var r=1,i=!1;;){for(let a=0;a<Om;a++){const l=T0[a],u=this._getIntersection({x:e.x+l.x*r,y:e.y+l.y*r}),d=u.shape;if(d)return d;if(i=!!u.antialiased,!u.antialiased)break}if(i)r+=1;else return null}}_getIntersection(e){const r=this.hitCanvas.pixelRatio,i=this.hitCanvas.context.getImageData(Math.round(e.x*r),Math.round(e.y*r),1,1).data,a=i[3];if(a===255){const l=_n.Util._rgbToHex(i[0],i[1],i[2]),u=km.shapes[Pm+l];return u?{shape:u}:{antialiased:!0}}else if(a>0)return{antialiased:!0};return{}}drawScene(e,r){var i=this.getLayer(),a=e||i&&i.getCanvas();return this._fire(bm,{node:this}),this.clearBeforeDraw()&&a.getContext().clear(),kl.Container.prototype.drawScene.call(this,a,r),this._fire(Rm,{node:this}),this}drawHit(e,r){var i=this.getLayer(),a=e||i&&i.hitCanvas;return i&&i.clearBeforeDraw()&&i.getHitCanvas().getContext().clear(),kl.Container.prototype.drawHit.call(this,a,r),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){_n.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return _n.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!(!this.parent||!this.parent.content)){var e=this.parent,r=!!this.hitCanvas._canvas.parentNode;r?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}}destroy(){return _n.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};Li.Layer=Xr;Xr.prototype.nodeType="Layer";(0,Em._registerNode)(Xr);cu.Factory.addGetterSetter(Xr,"imageSmoothingEnabled",!0);cu.Factory.addGetterSetter(Xr,"clearBeforeDraw",!0);cu.Factory.addGetterSetter(Xr,"hitGraphEnabled",!0,(0,Am.getBooleanValidator)());var ds={};Object.defineProperty(ds,"__esModule",{value:!0});ds.FastLayer=void 0;const Mm=Ve,Fm=Li,Nm=he;class du extends Fm.Layer{constructor(e){super(e),this.listening(!1),Mm.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}ds.FastLayer=du;du.prototype.nodeType="FastLayer";(0,Nm._registerNode)(du);var Qr={};Object.defineProperty(Qr,"__esModule",{value:!0});Qr.Group=void 0;const Im=Ve,Lm=pr,Dm=he;class hu extends Lm.Container{_validateAdd(e){var r=e.getType();r!=="Group"&&r!=="Shape"&&Im.Util.throw("You may only add groups and shapes to groups.")}}Qr.Group=hu;hu.prototype.nodeType="Group";(0,Dm._registerNode)(hu);var Jr={};Object.defineProperty(Jr,"__esModule",{value:!0});Jr.Animation=void 0;const El=he,Kd=Ve;var Pl=function(){return El.glob.performance&&El.glob.performance.now?function(){return El.glob.performance.now()}:function(){return new Date().getTime()}}();class un{constructor(e,r){this.id=un.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:Pl(),frameRate:0},this.func=e,this.setLayers(r)}setLayers(e){var r=[];return e?e.length>0?r=e:r=[e]:r=[],this.layers=r,this}getLayers(){return this.layers}addLayer(e){var r=this.layers,i=r.length,a;for(a=0;a<i;a++)if(r[a]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){var e=un,r=e.animations,i=r.length,a;for(a=0;a<i;a++)if(r[a].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=Pl(),un._addAnimation(this),this}stop(){return un._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){var r=e.id,i=this.animations,a=i.length,l;for(l=0;l<a;l++)if(i[l].id===r){this.animations.splice(l,1);break}}static _runFrames(){var e={},r=this.animations,i,a,l,u,d,g,f,v,w;for(u=0;u<r.length;u++)if(i=r[u],a=i.layers,l=i.func,i._updateFrameObject(Pl()),g=a.length,l?w=l.call(i,i.frame)!==!1:w=!0,!!w)for(d=0;d<g;d++)f=a[d],f._id!==void 0&&(e[f._id]=f);for(v in e)e.hasOwnProperty(v)&&e[v].batchDraw()}static _animationLoop(){var e=un;e.animations.length?(e._runFrames(),Kd.Util.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,Kd.Util.requestAnimFrame(this._animationLoop))}}Jr.Animation=un;un.animations=[];un.animIdCounter=0;un.animRunning=!1;var A0={};(function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.Easings=s.Tween=void 0;const e=Ve,r=Jr,i=ze,a=he;var l={node:1,duration:1,easing:1,onFinish:1,yoyo:1},u=1,d=2,g=3,f=0,v=["fill","stroke","shadowColor"];class w{constructor(_,A,P,R,M,m,S){this.prop=_,this.propFunc=A,this.begin=R,this._pos=R,this.duration=m,this._change=0,this.prevPos=0,this.yoyo=S,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=P,this._change=M-this.begin,this.pause()}fire(_){var A=this[_];A&&A()}setTime(_){_>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():_<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=_,this.update())}getTime(){return this._time}setPosition(_){this.prevPos=this._pos,this.propFunc(_),this._pos=_}getPosition(_){return _===void 0&&(_=this._time),this.func(_,this.begin,this._change,this.duration)}play(){this.state=d,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=g,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(_){this.pause(),this._time=_,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var _=this.getTimer()-this._startTime;this.state===d?this.setTime(_):this.state===g&&this.setTime(this.duration-_)}pause(){this.state=u,this.fire("onPause")}getTimer(){return new Date().getTime()}}class x{constructor(_){var A=this,P=_.node,R=P._id,M,m=_.easing||s.Easings.Linear,S=!!_.yoyo,T;typeof _.duration>"u"?M=.3:_.duration===0?M=.001:M=_.duration,this.node=P,this._id=f++;var E=P.getLayer()||(P instanceof a.Konva.Stage?P.getLayers():null);E||e.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new r.Animation(function(){A.tween.onEnterFrame()},E),this.tween=new w(T,function(N){A._tweenFunc(N)},m,0,1,M*1e3,S),this._addListeners(),x.attrs[R]||(x.attrs[R]={}),x.attrs[R][this._id]||(x.attrs[R][this._id]={}),x.tweens[R]||(x.tweens[R]={});for(T in _)l[T]===void 0&&this._addAttr(T,_[T]);this.reset(),this.onFinish=_.onFinish,this.onReset=_.onReset,this.onUpdate=_.onUpdate}_addAttr(_,A){var P=this.node,R=P._id,M,m,S,T,E,N,k,D;if(S=x.tweens[R][_],S&&delete x.attrs[R][S][_],M=P.getAttr(_),e.Util._isArray(A))if(m=[],E=Math.max(A.length,M.length),_==="points"&&A.length!==M.length&&(A.length>M.length?(k=M,M=e.Util._prepareArrayForTween(M,A,P.closed())):(N=A,A=e.Util._prepareArrayForTween(A,M,P.closed()))),_.indexOf("fill")===0)for(T=0;T<E;T++)if(T%2===0)m.push(A[T]-M[T]);else{var b=e.Util.colorToRGBA(M[T]);D=e.Util.colorToRGBA(A[T]),M[T]=b,m.push({r:D.r-b.r,g:D.g-b.g,b:D.b-b.b,a:D.a-b.a})}else for(T=0;T<E;T++)m.push(A[T]-M[T]);else v.indexOf(_)!==-1?(M=e.Util.colorToRGBA(M),D=e.Util.colorToRGBA(A),m={r:D.r-M.r,g:D.g-M.g,b:D.b-M.b,a:D.a-M.a}):m=A-M;x.attrs[R][this._id][_]={start:M,diff:m,end:A,trueEnd:N,trueStart:k},x.tweens[R][_]=this._id}_tweenFunc(_){var A=this.node,P=x.attrs[A._id][this._id],R,M,m,S,T,E,N,k;for(R in P){if(M=P[R],m=M.start,S=M.diff,k=M.end,e.Util._isArray(m))if(T=[],N=Math.max(m.length,k.length),R.indexOf("fill")===0)for(E=0;E<N;E++)E%2===0?T.push((m[E]||0)+S[E]*_):T.push("rgba("+Math.round(m[E].r+S[E].r*_)+","+Math.round(m[E].g+S[E].g*_)+","+Math.round(m[E].b+S[E].b*_)+","+(m[E].a+S[E].a*_)+")");else for(E=0;E<N;E++)T.push((m[E]||0)+S[E]*_);else v.indexOf(R)!==-1?T="rgba("+Math.round(m.r+S.r*_)+","+Math.round(m.g+S.g*_)+","+Math.round(m.b+S.b*_)+","+(m.a+S.a*_)+")":T=m+S*_;A.setAttr(R,T)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var _=this.node,A=x.attrs[_._id][this._id];A.points&&A.points.trueEnd&&_.setAttr("points",A.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var _=this.node,A=x.attrs[_._id][this._id];A.points&&A.points.trueStart&&_.points(A.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(_){return this.tween.seek(_*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var _=this.node._id,A=this._id,P=x.tweens[_],R;this.pause();for(R in P)delete x.tweens[_][R];delete x.attrs[_][A]}}s.Tween=x,x.attrs={},x.tweens={},i.Node.prototype.to=function(y){var _=y.onFinish;y.node=this,y.onFinish=function(){this.destroy(),_&&_()};var A=new x(y);A.play()},s.Easings={BackEaseIn(y,_,A,P){var R=1.70158;return A*(y/=P)*y*((R+1)*y-R)+_},BackEaseOut(y,_,A,P){var R=1.70158;return A*((y=y/P-1)*y*((R+1)*y+R)+1)+_},BackEaseInOut(y,_,A,P){var R=1.70158;return(y/=P/2)<1?A/2*(y*y*(((R*=1.525)+1)*y-R))+_:A/2*((y-=2)*y*(((R*=1.525)+1)*y+R)+2)+_},ElasticEaseIn(y,_,A,P,R,M){var m=0;return y===0?_:(y/=P)===1?_+A:(M||(M=P*.3),!R||R<Math.abs(A)?(R=A,m=M/4):m=M/(2*Math.PI)*Math.asin(A/R),-(R*Math.pow(2,10*(y-=1))*Math.sin((y*P-m)*(2*Math.PI)/M))+_)},ElasticEaseOut(y,_,A,P,R,M){var m=0;return y===0?_:(y/=P)===1?_+A:(M||(M=P*.3),!R||R<Math.abs(A)?(R=A,m=M/4):m=M/(2*Math.PI)*Math.asin(A/R),R*Math.pow(2,-10*y)*Math.sin((y*P-m)*(2*Math.PI)/M)+A+_)},ElasticEaseInOut(y,_,A,P,R,M){var m=0;return y===0?_:(y/=P/2)===2?_+A:(M||(M=P*(.3*1.5)),!R||R<Math.abs(A)?(R=A,m=M/4):m=M/(2*Math.PI)*Math.asin(A/R),y<1?-.5*(R*Math.pow(2,10*(y-=1))*Math.sin((y*P-m)*(2*Math.PI)/M))+_:R*Math.pow(2,-10*(y-=1))*Math.sin((y*P-m)*(2*Math.PI)/M)*.5+A+_)},BounceEaseOut(y,_,A,P){return(y/=P)<1/2.75?A*(7.5625*y*y)+_:y<2/2.75?A*(7.5625*(y-=1.5/2.75)*y+.75)+_:y<2.5/2.75?A*(7.5625*(y-=2.25/2.75)*y+.9375)+_:A*(7.5625*(y-=2.625/2.75)*y+.984375)+_},BounceEaseIn(y,_,A,P){return A-s.Easings.BounceEaseOut(P-y,0,A,P)+_},BounceEaseInOut(y,_,A,P){return y<P/2?s.Easings.BounceEaseIn(y*2,0,A,P)*.5+_:s.Easings.BounceEaseOut(y*2-P,0,A,P)*.5+A*.5+_},EaseIn(y,_,A,P){return A*(y/=P)*y+_},EaseOut(y,_,A,P){return-A*(y/=P)*(y-2)+_},EaseInOut(y,_,A,P){return(y/=P/2)<1?A/2*y*y+_:-A/2*(--y*(y-2)-1)+_},StrongEaseIn(y,_,A,P){return A*(y/=P)*y*y*y*y+_},StrongEaseOut(y,_,A,P){return A*((y=y/P-1)*y*y*y*y+1)+_},StrongEaseInOut(y,_,A,P){return(y/=P/2)<1?A/2*y*y*y*y*y+_:A/2*((y-=2)*y*y*y*y+2)+_},Linear(y,_,A,P){return A*y/P+_}}})(A0);(function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.Konva=void 0;const e=he,r=Ve,i=ze,a=pr,l=S0,u=Li,d=ds,g=Qr,f=us,v=$e,w=Jr,x=A0,y=Sn,_=Qt;s.Konva=r.Util._assign(e.Konva,{Util:r.Util,Transform:r.Transform,Node:i.Node,Container:a.Container,Stage:l.Stage,stages:l.stages,Layer:u.Layer,FastLayer:d.FastLayer,Group:g.Group,DD:f.DD,Shape:v.Shape,shapes:v.shapes,Animation:w.Animation,Tween:x.Tween,Easings:x.Easings,Context:y.Context,Canvas:_.Canvas}),s.default=s.Konva})(Za);var hs={};Object.defineProperty(hs,"__esModule",{value:!0});hs.Arc=void 0;const gs=ge,Um=$e,Xd=he,fs=ee,Gm=he;class An extends Um.Shape{_sceneFunc(e){var r=Xd.Konva.getAngle(this.angle()),i=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,r,i),e.arc(0,0,this.innerRadius(),r,0,!i),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),r=this.outerRadius(),i=this.clockwise(),a=Xd.Konva.getAngle(i?360-this.angle():this.angle()),l=Math.cos(Math.min(a,Math.PI)),u=1,d=Math.sin(Math.min(Math.max(Math.PI,a),3*Math.PI/2)),g=Math.sin(Math.min(a,Math.PI/2)),f=l*(l>0?e:r),v=u*r,w=d*(d>0?e:r),x=g*(g>0?r:e);return{x:f,y:i?-1*x:w,width:v-f,height:x-w}}}hs.Arc=An;An.prototype._centroid=!0;An.prototype.className="Arc";An.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,Gm._registerNode)(An);gs.Factory.addGetterSetter(An,"innerRadius",0,(0,fs.getNumberValidator)());gs.Factory.addGetterSetter(An,"outerRadius",0,(0,fs.getNumberValidator)());gs.Factory.addGetterSetter(An,"angle",0,(0,fs.getNumberValidator)());gs.Factory.addGetterSetter(An,"clockwise",!1,(0,fs.getBooleanValidator)());var ps={},Di={};Object.defineProperty(Di,"__esModule",{value:!0});Di.Line=void 0;const ms=ge,zm=$e,k0=ee,jm=he;function ql(s,e,r,i,a,l,u){var d=Math.sqrt(Math.pow(r-s,2)+Math.pow(i-e,2)),g=Math.sqrt(Math.pow(a-r,2)+Math.pow(l-i,2)),f=u*d/(d+g),v=u*g/(d+g),w=r-f*(a-s),x=i-f*(l-e),y=r+v*(a-s),_=i+v*(l-e);return[w,x,y,_]}function Qd(s,e){var r=s.length,i=[],a,l;for(a=2;a<r-2;a+=2)l=ql(s[a-2],s[a-1],s[a],s[a+1],s[a+2],s[a+3],e),!isNaN(l[0])&&(i.push(l[0]),i.push(l[1]),i.push(s[a]),i.push(s[a+1]),i.push(l[2]),i.push(l[3]));return i}class Hn extends zm.Shape{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){var r=this.points(),i=r.length,a=this.tension(),l=this.closed(),u=this.bezier(),d,g,f;if(i){if(e.beginPath(),e.moveTo(r[0],r[1]),a!==0&&i>4){for(d=this.getTensionPoints(),g=d.length,f=l?0:4,l||e.quadraticCurveTo(d[0],d[1],d[2],d[3]);f<g-2;)e.bezierCurveTo(d[f++],d[f++],d[f++],d[f++],d[f++],d[f++]);l||e.quadraticCurveTo(d[g-2],d[g-1],r[i-2],r[i-1])}else if(u)for(f=2;f<i;)e.bezierCurveTo(r[f++],r[f++],r[f++],r[f++],r[f++],r[f++]);else for(f=2;f<i;f+=2)e.lineTo(r[f],r[f+1]);l?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():Qd(this.points(),this.tension())}_getTensionPointsClosed(){var e=this.points(),r=e.length,i=this.tension(),a=ql(e[r-2],e[r-1],e[0],e[1],e[2],e[3],i),l=ql(e[r-4],e[r-3],e[r-2],e[r-1],e[0],e[1],i),u=Qd(e,i),d=[a[2],a[3]].concat(u).concat([l[0],l[1],e[r-2],e[r-1],l[2],l[3],a[0],a[1],e[0],e[1]]);return d}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();for(var r=e[0],i=e[0],a=e[1],l=e[1],u,d,g=0;g<e.length/2;g++)u=e[g*2],d=e[g*2+1],r=Math.min(r,u),i=Math.max(i,u),a=Math.min(a,d),l=Math.max(l,d);return{x:r,y:a,width:i-r,height:l-a}}}Di.Line=Hn;Hn.prototype.className="Line";Hn.prototype._attrsAffectingSize=["points","bezier","tension"];(0,jm._registerNode)(Hn);ms.Factory.addGetterSetter(Hn,"closed",!1);ms.Factory.addGetterSetter(Hn,"bezier",!1);ms.Factory.addGetterSetter(Hn,"tension",0,(0,k0.getNumberValidator)());ms.Factory.addGetterSetter(Hn,"points",[],(0,k0.getNumberArrayValidator)());var Zr={},E0={};(function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.t2length=s.getQuadraticArcLength=s.getCubicArcLength=s.binomialCoefficients=s.cValues=s.tValues=void 0,s.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],s.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],s.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const e=(u,d,g)=>{let f,v,w;f=g/2,v=0;for(let y=0;y<20;y++)w=f*s.tValues[20][y]+f,v+=s.cValues[20][y]*i(u,d,w);return f*v};s.getCubicArcLength=e;const r=(u,d,g)=>{g===void 0&&(g=1);const f=u[0]-2*u[1]+u[2],v=d[0]-2*d[1]+d[2],w=2*u[1]-2*u[0],x=2*d[1]-2*d[0],y=4*(f*f+v*v),_=4*(f*w+v*x),A=w*w+x*x;if(y===0)return g*Math.sqrt(Math.pow(u[2]-u[0],2)+Math.pow(d[2]-d[0],2));const P=_/(2*y),R=A/y,M=g+P,m=R-P*P,S=M*M+m>0?Math.sqrt(M*M+m):0,T=P*P+m>0?Math.sqrt(P*P+m):0,E=P+Math.sqrt(P*P+m)!==0?m*Math.log(Math.abs((M+S)/(P+T))):0;return Math.sqrt(y)/2*(M*S-P*T+E)};s.getQuadraticArcLength=r;function i(u,d,g){const f=a(1,g,u),v=a(1,g,d),w=f*f+v*v;return Math.sqrt(w)}const a=(u,d,g)=>{const f=g.length-1;let v,w;if(f===0)return 0;if(u===0){w=0;for(let x=0;x<=f;x++)w+=s.binomialCoefficients[f][x]*Math.pow(1-d,f-x)*Math.pow(d,x)*g[x];return w}else{v=new Array(f);for(let x=0;x<f;x++)v[x]=f*(g[x+1]-g[x]);return a(u-1,d,v)}},l=(u,d,g)=>{let f=1,v=u/d,w=(u-g(v))/d,x=0;for(;f>.001;){const y=g(v+w),_=Math.abs(u-y)/d;if(_<f)f=_,v+=w;else{const A=g(v-w),P=Math.abs(u-A)/d;P<f?(f=P,v-=w):w/=2}if(x++,x>500)break}return v};s.t2length=l})(E0);Object.defineProperty(Zr,"__esModule",{value:!0});Zr.Path=void 0;const Bm=ge,Vm=$e,Wm=he,jr=E0;class Je extends Vm.Shape{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Je.parsePathData(this.data()),this.pathLength=Je.getPathLength(this.dataArray)}_sceneFunc(e){var r=this.dataArray;e.beginPath();for(var i=!1,a=0;a<r.length;a++){var l=r[a].command,u=r[a].points;switch(l){case"L":e.lineTo(u[0],u[1]);break;case"M":e.moveTo(u[0],u[1]);break;case"C":e.bezierCurveTo(u[0],u[1],u[2],u[3],u[4],u[5]);break;case"Q":e.quadraticCurveTo(u[0],u[1],u[2],u[3]);break;case"A":var d=u[0],g=u[1],f=u[2],v=u[3],w=u[4],x=u[5],y=u[6],_=u[7],A=f>v?f:v,P=f>v?1:f/v,R=f>v?v/f:1;e.translate(d,g),e.rotate(y),e.scale(P,R),e.arc(0,0,A,w,w+x,1-_),e.scale(1/P,1/R),e.rotate(-y),e.translate(-d,-g);break;case"z":i=!0,e.closePath();break}}!i&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){var e=[];this.dataArray.forEach(function(f){if(f.command==="A"){var v=f.points[4],w=f.points[5],x=f.points[4]+w,y=Math.PI/180;if(Math.abs(v-x)<y&&(y=Math.abs(v-x)),w<0)for(let _=v-y;_>x;_-=y){const A=Je.getPointOnEllipticalArc(f.points[0],f.points[1],f.points[2],f.points[3],_,0);e.push(A.x,A.y)}else for(let _=v+y;_<x;_+=y){const A=Je.getPointOnEllipticalArc(f.points[0],f.points[1],f.points[2],f.points[3],_,0);e.push(A.x,A.y)}}else if(f.command==="C")for(let _=0;_<=1;_+=.01){const A=Je.getPointOnCubicBezier(_,f.start.x,f.start.y,f.points[0],f.points[1],f.points[2],f.points[3],f.points[4],f.points[5]);e.push(A.x,A.y)}else e=e.concat(f.points)});for(var r=e[0],i=e[0],a=e[1],l=e[1],u,d,g=0;g<e.length/2;g++)u=e[g*2],d=e[g*2+1],isNaN(u)||(r=Math.min(r,u),i=Math.max(i,u)),isNaN(d)||(a=Math.min(a,d),l=Math.max(l,d));return{x:r,y:a,width:i-r,height:l-a}}getLength(){return this.pathLength}getPointAtLength(e){return Je.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,r,i,a){return Math.sqrt((i-e)*(i-e)+(a-r)*(a-r))}static getPathLength(e){let r=0;for(var i=0;i<e.length;++i)r+=e[i].pathLength;return r}static getPointAtLengthOfDataArray(e,r){var i,a=0,l=r.length;if(!l)return null;for(;a<l&&e>r[a].pathLength;)e-=r[a].pathLength,++a;if(a===l)return i=r[a-1].points.slice(-2),{x:i[0],y:i[1]};if(e<.01)return i=r[a].points.slice(0,2),{x:i[0],y:i[1]};var u=r[a],d=u.points;switch(u.command){case"L":return Je.getPointOnLine(e,u.start.x,u.start.y,d[0],d[1]);case"C":return Je.getPointOnCubicBezier((0,jr.t2length)(e,Je.getPathLength(r),A=>(0,jr.getCubicArcLength)([u.start.x,d[0],d[2],d[4]],[u.start.y,d[1],d[3],d[5]],A)),u.start.x,u.start.y,d[0],d[1],d[2],d[3],d[4],d[5]);case"Q":return Je.getPointOnQuadraticBezier((0,jr.t2length)(e,Je.getPathLength(r),A=>(0,jr.getQuadraticArcLength)([u.start.x,d[0],d[2]],[u.start.y,d[1],d[3]],A)),u.start.x,u.start.y,d[0],d[1],d[2],d[3]);case"A":var g=d[0],f=d[1],v=d[2],w=d[3],x=d[4],y=d[5],_=d[6];return x+=y*e/u.pathLength,Je.getPointOnEllipticalArc(g,f,v,w,x,_)}return null}static getPointOnLine(e,r,i,a,l,u,d){u===void 0&&(u=r),d===void 0&&(d=i);var g=(l-i)/(a-r+1e-8),f=Math.sqrt(e*e/(1+g*g));a<r&&(f*=-1);var v=g*f,w;if(a===r)w={x:u,y:d+v};else if((d-i)/(u-r+1e-8)===g)w={x:u+f,y:d+v};else{var x,y,_=this.getLineLength(r,i,a,l),A=(u-r)*(a-r)+(d-i)*(l-i);A=A/(_*_),x=r+A*(a-r),y=i+A*(l-i);var P=this.getLineLength(u,d,x,y),R=Math.sqrt(e*e-P*P);f=Math.sqrt(R*R/(1+g*g)),a<r&&(f*=-1),v=g*f,w={x:x+f,y:y+v}}return w}static getPointOnCubicBezier(e,r,i,a,l,u,d,g,f){function v(P){return P*P*P}function w(P){return 3*P*P*(1-P)}function x(P){return 3*P*(1-P)*(1-P)}function y(P){return(1-P)*(1-P)*(1-P)}var _=g*v(e)+u*w(e)+a*x(e)+r*y(e),A=f*v(e)+d*w(e)+l*x(e)+i*y(e);return{x:_,y:A}}static getPointOnQuadraticBezier(e,r,i,a,l,u,d){function g(y){return y*y}function f(y){return 2*y*(1-y)}function v(y){return(1-y)*(1-y)}var w=u*g(e)+a*f(e)+r*v(e),x=d*g(e)+l*f(e)+i*v(e);return{x:w,y:x}}static getPointOnEllipticalArc(e,r,i,a,l,u){var d=Math.cos(u),g=Math.sin(u),f={x:i*Math.cos(l),y:a*Math.sin(l)};return{x:e+(f.x*d-f.y*g),y:r+(f.x*g+f.y*d)}}static parsePathData(e){if(!e)return[];var r=e,i=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];r=r.replace(new RegExp(" ","g"),",");for(var a=0;a<i.length;a++)r=r.replace(new RegExp(i[a],"g"),"|"+i[a]);var l=r.split("|"),u=[],d=[],g=0,f=0,v=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,w;for(a=1;a<l.length;a++){var x=l[a],y=x.charAt(0);for(x=x.slice(1),d.length=0;w=v.exec(x);)d.push(w[0]);for(var _=[],A=0,P=d.length;A<P;A++){if(d[A]==="00"){_.push(0,0);continue}var R=parseFloat(d[A]);isNaN(R)?_.push(0):_.push(R)}for(;_.length>0&&!isNaN(_[0]);){var M=null,m=[],S=g,T=f,E,N,k,D,b,U,W,V,q,K;switch(y){case"l":g+=_.shift(),f+=_.shift(),M="L",m.push(g,f);break;case"L":g=_.shift(),f=_.shift(),m.push(g,f);break;case"m":var ne=_.shift(),fe=_.shift();if(g+=ne,f+=fe,M="M",u.length>2&&u[u.length-1].command==="z"){for(var me=u.length-2;me>=0;me--)if(u[me].command==="M"){g=u[me].points[0]+ne,f=u[me].points[1]+fe;break}}m.push(g,f),y="l";break;case"M":g=_.shift(),f=_.shift(),M="M",m.push(g,f),y="L";break;case"h":g+=_.shift(),M="L",m.push(g,f);break;case"H":g=_.shift(),M="L",m.push(g,f);break;case"v":f+=_.shift(),M="L",m.push(g,f);break;case"V":f=_.shift(),M="L",m.push(g,f);break;case"C":m.push(_.shift(),_.shift(),_.shift(),_.shift()),g=_.shift(),f=_.shift(),m.push(g,f);break;case"c":m.push(g+_.shift(),f+_.shift(),g+_.shift(),f+_.shift()),g+=_.shift(),f+=_.shift(),M="C",m.push(g,f);break;case"S":N=g,k=f,E=u[u.length-1],E.command==="C"&&(N=g+(g-E.points[2]),k=f+(f-E.points[3])),m.push(N,k,_.shift(),_.shift()),g=_.shift(),f=_.shift(),M="C",m.push(g,f);break;case"s":N=g,k=f,E=u[u.length-1],E.command==="C"&&(N=g+(g-E.points[2]),k=f+(f-E.points[3])),m.push(N,k,g+_.shift(),f+_.shift()),g+=_.shift(),f+=_.shift(),M="C",m.push(g,f);break;case"Q":m.push(_.shift(),_.shift()),g=_.shift(),f=_.shift(),m.push(g,f);break;case"q":m.push(g+_.shift(),f+_.shift()),g+=_.shift(),f+=_.shift(),M="Q",m.push(g,f);break;case"T":N=g,k=f,E=u[u.length-1],E.command==="Q"&&(N=g+(g-E.points[0]),k=f+(f-E.points[1])),g=_.shift(),f=_.shift(),M="Q",m.push(N,k,g,f);break;case"t":N=g,k=f,E=u[u.length-1],E.command==="Q"&&(N=g+(g-E.points[0]),k=f+(f-E.points[1])),g+=_.shift(),f+=_.shift(),M="Q",m.push(N,k,g,f);break;case"A":D=_.shift(),b=_.shift(),U=_.shift(),W=_.shift(),V=_.shift(),q=g,K=f,g=_.shift(),f=_.shift(),M="A",m=this.convertEndpointToCenterParameterization(q,K,g,f,W,V,D,b,U);break;case"a":D=_.shift(),b=_.shift(),U=_.shift(),W=_.shift(),V=_.shift(),q=g,K=f,g+=_.shift(),f+=_.shift(),M="A",m=this.convertEndpointToCenterParameterization(q,K,g,f,W,V,D,b,U);break}u.push({command:M||y,points:m,start:{x:S,y:T},pathLength:this.calcLength(S,T,M||y,m)})}(y==="z"||y==="Z")&&u.push({command:"z",points:[],start:void 0,pathLength:0})}return u}static calcLength(e,r,i,a){var l,u,d,g,f=Je;switch(i){case"L":return f.getLineLength(e,r,a[0],a[1]);case"C":return(0,jr.getCubicArcLength)([e,a[0],a[2],a[4]],[r,a[1],a[3],a[5]],1);case"Q":return(0,jr.getQuadraticArcLength)([e,a[0],a[2]],[r,a[1],a[3]],1);case"A":l=0;var v=a[4],w=a[5],x=a[4]+w,y=Math.PI/180;if(Math.abs(v-x)<y&&(y=Math.abs(v-x)),u=f.getPointOnEllipticalArc(a[0],a[1],a[2],a[3],v,0),w<0)for(g=v-y;g>x;g-=y)d=f.getPointOnEllipticalArc(a[0],a[1],a[2],a[3],g,0),l+=f.getLineLength(u.x,u.y,d.x,d.y),u=d;else for(g=v+y;g<x;g+=y)d=f.getPointOnEllipticalArc(a[0],a[1],a[2],a[3],g,0),l+=f.getLineLength(u.x,u.y,d.x,d.y),u=d;return d=f.getPointOnEllipticalArc(a[0],a[1],a[2],a[3],x,0),l+=f.getLineLength(u.x,u.y,d.x,d.y),l}return 0}static convertEndpointToCenterParameterization(e,r,i,a,l,u,d,g,f){var v=f*(Math.PI/180),w=Math.cos(v)*(e-i)/2+Math.sin(v)*(r-a)/2,x=-1*Math.sin(v)*(e-i)/2+Math.cos(v)*(r-a)/2,y=w*w/(d*d)+x*x/(g*g);y>1&&(d*=Math.sqrt(y),g*=Math.sqrt(y));var _=Math.sqrt((d*d*(g*g)-d*d*(x*x)-g*g*(w*w))/(d*d*(x*x)+g*g*(w*w)));l===u&&(_*=-1),isNaN(_)&&(_=0);var A=_*d*x/g,P=_*-g*w/d,R=(e+i)/2+Math.cos(v)*A-Math.sin(v)*P,M=(r+a)/2+Math.sin(v)*A+Math.cos(v)*P,m=function(b){return Math.sqrt(b[0]*b[0]+b[1]*b[1])},S=function(b,U){return(b[0]*U[0]+b[1]*U[1])/(m(b)*m(U))},T=function(b,U){return(b[0]*U[1]<b[1]*U[0]?-1:1)*Math.acos(S(b,U))},E=T([1,0],[(w-A)/d,(x-P)/g]),N=[(w-A)/d,(x-P)/g],k=[(-1*w-A)/d,(-1*x-P)/g],D=T(N,k);return S(N,k)<=-1&&(D=Math.PI),S(N,k)>=1&&(D=0),u===0&&D>0&&(D=D-2*Math.PI),u===1&&D<0&&(D=D+2*Math.PI),[R,M,d,g,E,D,v,u]}}Zr.Path=Je;Je.prototype.className="Path";Je.prototype._attrsAffectingSize=["data"];(0,Wm._registerNode)(Je);Bm.Factory.addGetterSetter(Je,"data");Object.defineProperty(ps,"__esModule",{value:!0});ps.Arrow=void 0;const vs=ge,Hm=Di,P0=ee,Ym=he,Jd=Zr;class vr extends Hm.Line{_sceneFunc(e){super._sceneFunc(e);var r=Math.PI*2,i=this.points(),a=i,l=this.tension()!==0&&i.length>4;l&&(a=this.getTensionPoints());var u=this.pointerLength(),d=i.length,g,f;if(l){const x=[a[a.length-4],a[a.length-3],a[a.length-2],a[a.length-1],i[d-2],i[d-1]],y=Jd.Path.calcLength(a[a.length-4],a[a.length-3],"C",x),_=Jd.Path.getPointOnQuadraticBezier(Math.min(1,1-u/y),x[0],x[1],x[2],x[3],x[4],x[5]);g=i[d-2]-_.x,f=i[d-1]-_.y}else g=i[d-2]-i[d-4],f=i[d-1]-i[d-3];var v=(Math.atan2(f,g)+r)%r,w=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(i[d-2],i[d-1]),e.rotate(v),e.moveTo(0,0),e.lineTo(-u,w/2),e.lineTo(-u,-w/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(i[0],i[1]),l?(g=(a[0]+a[2])/2-i[0],f=(a[1]+a[3])/2-i[1]):(g=i[2]-i[0],f=i[3]-i[1]),e.rotate((Math.atan2(-f,-g)+r)%r),e.moveTo(0,0),e.lineTo(-u,w/2),e.lineTo(-u,-w/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){var r=this.dashEnabled();r&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),r&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),r=this.pointerWidth()/2;return{x:e.x-r,y:e.y-r,width:e.width+r*2,height:e.height+r*2}}}ps.Arrow=vr;vr.prototype.className="Arrow";(0,Ym._registerNode)(vr);vs.Factory.addGetterSetter(vr,"pointerLength",10,(0,P0.getNumberValidator)());vs.Factory.addGetterSetter(vr,"pointerWidth",10,(0,P0.getNumberValidator)());vs.Factory.addGetterSetter(vr,"pointerAtBeginning",!1);vs.Factory.addGetterSetter(vr,"pointerAtEnding",!0);var ys={};Object.defineProperty(ys,"__esModule",{value:!0});ys.Circle=void 0;const qm=ge,Km=$e,Xm=ee,Qm=he;class $r extends Km.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}}ys.Circle=$r;$r.prototype._centroid=!0;$r.prototype.className="Circle";$r.prototype._attrsAffectingSize=["radius"];(0,Qm._registerNode)($r);qm.Factory.addGetterSetter($r,"radius",0,(0,Xm.getNumberValidator)());var _s={};Object.defineProperty(_s,"__esModule",{value:!0});_s.Ellipse=void 0;const gu=ge,Jm=$e,b0=ee,Zm=he;class Yn extends Jm.Shape{_sceneFunc(e){var r=this.radiusX(),i=this.radiusY();e.beginPath(),e.save(),r!==i&&e.scale(1,i/r),e.arc(0,0,r,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}_s.Ellipse=Yn;Yn.prototype.className="Ellipse";Yn.prototype._centroid=!0;Yn.prototype._attrsAffectingSize=["radiusX","radiusY"];(0,Zm._registerNode)(Yn);gu.Factory.addComponentsGetterSetter(Yn,"radius",["x","y"]);gu.Factory.addGetterSetter(Yn,"radiusX",0,(0,b0.getNumberValidator)());gu.Factory.addGetterSetter(Yn,"radiusY",0,(0,b0.getNumberValidator)());var ws={};Object.defineProperty(ws,"__esModule",{value:!0});ws.Image=void 0;const bl=Ve,yr=ge,$m=$e,e4=he,Ui=ee;let cn=class R0 extends $m.Shape{constructor(e){super(e),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(e){const r=this.getWidth(),i=this.getHeight(),a=this.cornerRadius(),l=this.attrs.image;let u;if(l){const d=this.attrs.cropWidth,g=this.attrs.cropHeight;d&&g?u=[l,this.cropX(),this.cropY(),d,g,0,0,r,i]:u=[l,0,0,r,i]}(this.hasFill()||this.hasStroke()||a)&&(e.beginPath(),a?bl.Util.drawRoundedRectPath(e,r,i,a):e.rect(0,0,r,i),e.closePath(),e.fillStrokeShape(this)),l&&(a&&e.clip(),e.drawImage.apply(e,u))}_hitFunc(e){var r=this.width(),i=this.height(),a=this.cornerRadius();e.beginPath(),a?bl.Util.drawRoundedRectPath(e,r,i,a):e.rect(0,0,r,i),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,r;return(e=this.attrs.width)!==null&&e!==void 0?e:(r=this.image())===null||r===void 0?void 0:r.width}getHeight(){var e,r;return(e=this.attrs.height)!==null&&e!==void 0?e:(r=this.image())===null||r===void 0?void 0:r.height}static fromURL(e,r,i=null){var a=bl.Util.createImageElement();a.onload=function(){var l=new R0({image:a});r(l)},a.onerror=i,a.crossOrigin="Anonymous",a.src=e}};ws.Image=cn;cn.prototype.className="Image";(0,e4._registerNode)(cn);yr.Factory.addGetterSetter(cn,"cornerRadius",0,(0,Ui.getNumberOrArrayOfNumbersValidator)(4));yr.Factory.addGetterSetter(cn,"image");yr.Factory.addComponentsGetterSetter(cn,"crop",["x","y","width","height"]);yr.Factory.addGetterSetter(cn,"cropX",0,(0,Ui.getNumberValidator)());yr.Factory.addGetterSetter(cn,"cropY",0,(0,Ui.getNumberValidator)());yr.Factory.addGetterSetter(cn,"cropWidth",0,(0,Ui.getNumberValidator)());yr.Factory.addGetterSetter(cn,"cropHeight",0,(0,Ui.getNumberValidator)());var Hr={};Object.defineProperty(Hr,"__esModule",{value:!0});Hr.Tag=Hr.Label=void 0;const Ss=ge,t4=$e,n4=Qr,fu=ee,O0=he;var M0=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],r4="Change.konva",i4="none",Kl="up",Xl="right",Ql="down",Jl="left",a4=M0.length;class pu extends n4.Group{constructor(e){super(e),this.on("add.konva",function(r){this._addListeners(r.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){var r=this,i,a=function(){r._sync()};for(i=0;i<a4;i++)e.on(M0[i]+r4,a)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var e=this.getText(),r=this.getTag(),i,a,l,u,d,g,f;if(e&&r){switch(i=e.width(),a=e.height(),l=r.pointerDirection(),u=r.pointerWidth(),f=r.pointerHeight(),d=0,g=0,l){case Kl:d=i/2,g=-1*f;break;case Xl:d=i+u,g=a/2;break;case Ql:d=i/2,g=a+f;break;case Jl:d=-1*u,g=a/2;break}r.setAttrs({x:-1*d,y:-1*g,width:i,height:a}),e.setAttrs({x:-1*d,y:-1*g})}}}Hr.Label=pu;pu.prototype.className="Label";(0,O0._registerNode)(pu);let _r=class extends t4.Shape{_sceneFunc(e){var r=this.width(),i=this.height(),a=this.pointerDirection(),l=this.pointerWidth(),u=this.pointerHeight(),d=this.cornerRadius();let g=0,f=0,v=0,w=0;typeof d=="number"?g=f=v=w=Math.min(d,r/2,i/2):(g=Math.min(d[0]||0,r/2,i/2),f=Math.min(d[1]||0,r/2,i/2),w=Math.min(d[2]||0,r/2,i/2),v=Math.min(d[3]||0,r/2,i/2)),e.beginPath(),e.moveTo(g,0),a===Kl&&(e.lineTo((r-l)/2,0),e.lineTo(r/2,-1*u),e.lineTo((r+l)/2,0)),e.lineTo(r-f,0),e.arc(r-f,f,f,Math.PI*3/2,0,!1),a===Xl&&(e.lineTo(r,(i-u)/2),e.lineTo(r+l,i/2),e.lineTo(r,(i+u)/2)),e.lineTo(r,i-w),e.arc(r-w,i-w,w,0,Math.PI/2,!1),a===Ql&&(e.lineTo((r+l)/2,i),e.lineTo(r/2,i+u),e.lineTo((r-l)/2,i)),e.lineTo(v,i),e.arc(v,i-v,v,Math.PI/2,Math.PI,!1),a===Jl&&(e.lineTo(0,(i+u)/2),e.lineTo(-1*l,i/2),e.lineTo(0,(i-u)/2)),e.lineTo(0,g),e.arc(g,g,g,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){var e=0,r=0,i=this.pointerWidth(),a=this.pointerHeight(),l=this.pointerDirection(),u=this.width(),d=this.height();return l===Kl?(r-=a,d+=a):l===Ql?d+=a:l===Jl?(e-=i*1.5,u+=i):l===Xl&&(u+=i*1.5),{x:e,y:r,width:u,height:d}}};Hr.Tag=_r;_r.prototype.className="Tag";(0,O0._registerNode)(_r);Ss.Factory.addGetterSetter(_r,"pointerDirection",i4);Ss.Factory.addGetterSetter(_r,"pointerWidth",0,(0,fu.getNumberValidator)());Ss.Factory.addGetterSetter(_r,"pointerHeight",0,(0,fu.getNumberValidator)());Ss.Factory.addGetterSetter(_r,"cornerRadius",0,(0,fu.getNumberOrArrayOfNumbersValidator)(4));var Gi={};Object.defineProperty(Gi,"__esModule",{value:!0});Gi.Rect=void 0;const s4=ge,o4=$e,l4=he,u4=Ve,c4=ee;class xs extends o4.Shape{_sceneFunc(e){var r=this.cornerRadius(),i=this.width(),a=this.height();e.beginPath(),r?u4.Util.drawRoundedRectPath(e,i,a,r):e.rect(0,0,i,a),e.closePath(),e.fillStrokeShape(this)}}Gi.Rect=xs;xs.prototype.className="Rect";(0,l4._registerNode)(xs);s4.Factory.addGetterSetter(xs,"cornerRadius",0,(0,c4.getNumberOrArrayOfNumbersValidator)(4));var Cs={};Object.defineProperty(Cs,"__esModule",{value:!0});Cs.RegularPolygon=void 0;const F0=ge,d4=$e,N0=ee,h4=he;class wr extends d4.Shape{_sceneFunc(e){const r=this._getPoints();e.beginPath(),e.moveTo(r[0].x,r[0].y);for(var i=1;i<r.length;i++)e.lineTo(r[i].x,r[i].y);e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,r=this.attrs.radius||0,i=[];for(var a=0;a<e;a++)i.push({x:r*Math.sin(a*2*Math.PI/e),y:-1*r*Math.cos(a*2*Math.PI/e)});return i}getSelfRect(){const e=this._getPoints();var r=e[0].x,i=e[0].y,a=e[0].x,l=e[0].y;return e.forEach(u=>{r=Math.min(r,u.x),i=Math.max(i,u.x),a=Math.min(a,u.y),l=Math.max(l,u.y)}),{x:r,y:a,width:i-r,height:l-a}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}Cs.RegularPolygon=wr;wr.prototype.className="RegularPolygon";wr.prototype._centroid=!0;wr.prototype._attrsAffectingSize=["radius"];(0,h4._registerNode)(wr);F0.Factory.addGetterSetter(wr,"radius",0,(0,N0.getNumberValidator)());F0.Factory.addGetterSetter(wr,"sides",0,(0,N0.getNumberValidator)());var Ts={};Object.defineProperty(Ts,"__esModule",{value:!0});Ts.Ring=void 0;const I0=ge,g4=$e,L0=ee,f4=he;var Zd=Math.PI*2;class Sr extends g4.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,Zd,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),Zd,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Ts.Ring=Sr;Sr.prototype.className="Ring";Sr.prototype._centroid=!0;Sr.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,f4._registerNode)(Sr);I0.Factory.addGetterSetter(Sr,"innerRadius",0,(0,L0.getNumberValidator)());I0.Factory.addGetterSetter(Sr,"outerRadius",0,(0,L0.getNumberValidator)());var As={};Object.defineProperty(As,"__esModule",{value:!0});As.Sprite=void 0;const xr=ge,p4=$e,m4=Jr,D0=ee,v4=he;class dn extends p4.Shape{constructor(e){super(e),this._updated=!0,this.anim=new m4.Animation(()=>{var r=this._updated;return this._updated=!1,r}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){var r=this.animation(),i=this.frameIndex(),a=i*4,l=this.animations()[r],u=this.frameOffsets(),d=l[a+0],g=l[a+1],f=l[a+2],v=l[a+3],w=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,f,v),e.closePath(),e.fillStrokeShape(this)),w)if(u){var x=u[r],y=i*2;e.drawImage(w,d,g,f,v,x[y+0],x[y+1],f,v)}else e.drawImage(w,d,g,f,v,0,0,f,v)}_hitFunc(e){var r=this.animation(),i=this.frameIndex(),a=i*4,l=this.animations()[r],u=this.frameOffsets(),d=l[a+2],g=l[a+3];if(e.beginPath(),u){var f=u[r],v=i*2;e.rect(f[v+0],f[v+1],d,g)}else e.rect(0,0,d,g);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(!this.isRunning()){var e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var e=this.frameIndex(),r=this.animation(),i=this.animations(),a=i[r],l=a.length/4;e<l-1?this.frameIndex(e+1):this.frameIndex(0)}}As.Sprite=dn;dn.prototype.className="Sprite";(0,v4._registerNode)(dn);xr.Factory.addGetterSetter(dn,"animation");xr.Factory.addGetterSetter(dn,"animations");xr.Factory.addGetterSetter(dn,"frameOffsets");xr.Factory.addGetterSetter(dn,"image");xr.Factory.addGetterSetter(dn,"frameIndex",0,(0,D0.getNumberValidator)());xr.Factory.addGetterSetter(dn,"frameRate",17,(0,D0.getNumberValidator)());xr.Factory.backCompat(dn,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});var ks={};Object.defineProperty(ks,"__esModule",{value:!0});ks.Star=void 0;const mu=ge,y4=$e,vu=ee,_4=he;class qn extends y4.Shape{_sceneFunc(e){var r=this.innerRadius(),i=this.outerRadius(),a=this.numPoints();e.beginPath(),e.moveTo(0,0-i);for(var l=1;l<a*2;l++){var u=l%2===0?i:r,d=u*Math.sin(l*Math.PI/a),g=-1*u*Math.cos(l*Math.PI/a);e.lineTo(d,g)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}ks.Star=qn;qn.prototype.className="Star";qn.prototype._centroid=!0;qn.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,_4._registerNode)(qn);mu.Factory.addGetterSetter(qn,"numPoints",5,(0,vu.getNumberValidator)());mu.Factory.addGetterSetter(qn,"innerRadius",0,(0,vu.getNumberValidator)());mu.Factory.addGetterSetter(qn,"outerRadius",0,(0,vu.getNumberValidator)());var gr={};Object.defineProperty(gr,"__esModule",{value:!0});gr.Text=gr.stringToArray=void 0;const Zl=Ve,vt=ge,w4=$e,Kn=ee,S4=he;function U0(s){return Array.from(s)}gr.stringToArray=U0;var Br="auto",x4="center",Ci="justify",C4="Change.konva",T4="2d",$d="-",G0="left",A4="text",k4="Text",E4="top",P4="bottom",eh="middle",z0="normal",b4="px ",Ga=" ",R4="right",O4="word",M4="char",th="none",Rl="â¦",j0=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],F4=j0.length;function N4(s){return s.split(",").map(e=>{e=e.trim();const r=e.indexOf(" ")>=0,i=e.indexOf('"')>=0||e.indexOf("'")>=0;return r&&!i&&(e=`"${e}"`),e}).join(", ")}var za;function Ol(){return za||(za=Zl.Util.createCanvasElement().getContext(T4),za)}function I4(s){s.fillText(this._partialText,this._partialTextX,this._partialTextY)}function L4(s){s.setAttr("miterLimit",2),s.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function D4(s){return s=s||{},!s.fillLinearGradientColorStops&&!s.fillRadialGradientColorStops&&!s.fillPatternImage&&(s.fill=s.fill||"black"),s}let qe=class extends w4.Shape{constructor(e){super(D4(e)),this._partialTextX=0,this._partialTextY=0;for(var r=0;r<F4;r++)this.on(j0[r]+C4,this._setTextData);this._setTextData()}_sceneFunc(e){var r=this.textArr,i=r.length;if(this.text()){var a=this.padding(),l=this.fontSize(),u=this.lineHeight()*l,d=this.verticalAlign(),g=0,f=this.align(),v=this.getWidth(),w=this.letterSpacing(),x=this.fill(),y=this.textDecoration(),_=y.indexOf("underline")!==-1,A=y.indexOf("line-through")!==-1,P,R=0,R=u/2,M=0,m=0;for(e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",eh),e.setAttr("textAlign",G0),d===eh?g=(this.getHeight()-i*u-a*2)/2:d===P4&&(g=this.getHeight()-i*u-a*2),e.translate(a,g+a),P=0;P<i;P++){var M=0,m=0,S=r[P],T=S.text,E=S.width,N=S.lastInParagraph,k,D,b;if(e.save(),f===R4?M+=v-E-a*2:f===x4&&(M+=(v-E-a*2)/2),_){e.save(),e.beginPath(),e.moveTo(M,R+m+Math.round(l/2)),k=T.split(" ").length-1,D=k===0,b=f===Ci&&!N?v-a*2:E,e.lineTo(M+Math.round(b),R+m+Math.round(l/2)),e.lineWidth=l/15;const ne=this._getLinearGradient();e.strokeStyle=ne||x,e.stroke(),e.restore()}if(A){e.save(),e.beginPath(),e.moveTo(M,R+m),k=T.split(" ").length-1,D=k===0,b=f===Ci&&N&&!D?v-a*2:E,e.lineTo(M+Math.round(b),R+m),e.lineWidth=l/15;const ne=this._getLinearGradient();e.strokeStyle=ne||x,e.stroke(),e.restore()}if(w!==0||f===Ci){k=T.split(" ").length-1;for(var U=U0(T),W=0;W<U.length;W++){var V=U[W];V===" "&&!N&&f===Ci&&(M+=(v-a*2-E)/k),this._partialTextX=M,this._partialTextY=R+m,this._partialText=V,e.fillStrokeShape(this),M+=this.measureSize(V).width+w}}else this._partialTextX=M,this._partialTextY=R+m,this._partialText=T,e.fillStrokeShape(this);e.restore(),i>1&&(R+=u)}}}_hitFunc(e){var r=this.getWidth(),i=this.getHeight();e.beginPath(),e.rect(0,0,r,i),e.closePath(),e.fillStrokeShape(this)}setText(e){var r=Zl.Util._isString(e)?e:e==null?"":e+"";return this._setAttr(A4,r),this}getWidth(){var e=this.attrs.width===Br||this.attrs.width===void 0;return e?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){var e=this.attrs.height===Br||this.attrs.height===void 0;return e?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return Zl.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var r=Ol(),i=this.fontSize(),a;return r.save(),r.font=this._getContextFont(),a=r.measureText(e),r.restore(),{width:a.width,height:i}}_getContextFont(){return this.fontStyle()+Ga+this.fontVariant()+Ga+(this.fontSize()+b4)+N4(this.fontFamily())}_addTextLine(e){this.align()===Ci&&(e=e.trim());var i=this._getTextWidth(e);return this.textArr.push({text:e,width:i,lastInParagraph:!1})}_getTextWidth(e){var r=this.letterSpacing(),i=e.length;return Ol().measureText(e).width+(i?r*(i-1):0)}_setTextData(){var e=this.text().split(`
`),r=+this.fontSize(),i=0,a=this.lineHeight()*r,l=this.attrs.width,u=this.attrs.height,d=l!==Br&&l!==void 0,g=u!==Br&&u!==void 0,f=this.padding(),v=l-f*2,w=u-f*2,x=0,y=this.wrap(),_=y!==th,A=y!==M4&&_,P=this.ellipsis();this.textArr=[],Ol().font=this._getContextFont();for(var R=P?this._getTextWidth(Rl):0,M=0,m=e.length;M<m;++M){var S=e[M],T=this._getTextWidth(S);if(d&&T>v)for(;S.length>0;){for(var E=0,N=S.length,k="",D=0;E<N;){var b=E+N>>>1,U=S.slice(0,b+1),W=this._getTextWidth(U)+R;W<=v?(E=b+1,k=U,D=W):N=b}if(k){if(A){var V,q=S[k.length],K=q===Ga||q===$d;K&&D<=v?V=k.length:V=Math.max(k.lastIndexOf(Ga),k.lastIndexOf($d))+1,V>0&&(E=V,k=k.slice(0,E),D=this._getTextWidth(k))}k=k.trimRight(),this._addTextLine(k),i=Math.max(i,D),x+=a;var ne=this._shouldHandleEllipsis(x);if(ne){this._tryToAddEllipsisToLastLine();break}if(S=S.slice(E),S=S.trimLeft(),S.length>0&&(T=this._getTextWidth(S),T<=v)){this._addTextLine(S),x+=a,i=Math.max(i,T);break}}else break}else this._addTextLine(S),x+=a,i=Math.max(i,T),this._shouldHandleEllipsis(x)&&M<m-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),g&&x+a>w)break}this.textHeight=r,this.textWidth=i}_shouldHandleEllipsis(e){var r=+this.fontSize(),i=this.lineHeight()*r,a=this.attrs.height,l=a!==Br&&a!==void 0,u=this.padding(),d=a-u*2,g=this.wrap(),f=g!==th;return!f||l&&e+i>d}_tryToAddEllipsisToLastLine(){var e=this.attrs.width,r=e!==Br&&e!==void 0,i=this.padding(),a=e-i*2,l=this.ellipsis(),u=this.textArr[this.textArr.length-1];if(!(!u||!l)){if(r){var d=this._getTextWidth(u.text+Rl)<a;d||(u.text=u.text.slice(0,u.text.length-3))}this.textArr.splice(this.textArr.length-1,1),this._addTextLine(u.text+Rl)}}getStrokeScaleEnabled(){return!0}};gr.Text=qe;qe.prototype._fillFunc=I4;qe.prototype._strokeFunc=L4;qe.prototype.className=k4;qe.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];(0,S4._registerNode)(qe);vt.Factory.overWriteSetter(qe,"width",(0,Kn.getNumberOrAutoValidator)());vt.Factory.overWriteSetter(qe,"height",(0,Kn.getNumberOrAutoValidator)());vt.Factory.addGetterSetter(qe,"fontFamily","Arial");vt.Factory.addGetterSetter(qe,"fontSize",12,(0,Kn.getNumberValidator)());vt.Factory.addGetterSetter(qe,"fontStyle",z0);vt.Factory.addGetterSetter(qe,"fontVariant",z0);vt.Factory.addGetterSetter(qe,"padding",0,(0,Kn.getNumberValidator)());vt.Factory.addGetterSetter(qe,"align",G0);vt.Factory.addGetterSetter(qe,"verticalAlign",E4);vt.Factory.addGetterSetter(qe,"lineHeight",1,(0,Kn.getNumberValidator)());vt.Factory.addGetterSetter(qe,"wrap",O4);vt.Factory.addGetterSetter(qe,"ellipsis",!1,(0,Kn.getBooleanValidator)());vt.Factory.addGetterSetter(qe,"letterSpacing",0,(0,Kn.getNumberValidator)());vt.Factory.addGetterSetter(qe,"text","",(0,Kn.getStringValidator)());vt.Factory.addGetterSetter(qe,"textDecoration","");var Es={};Object.defineProperty(Es,"__esModule",{value:!0});Es.TextPath=void 0;const Ml=Ve,Zt=ge,U4=$e,Ti=Zr,Fl=gr,B0=ee,G4=he;var z4="",V0="normal";function W0(s){s.fillText(this.partialText,0,0)}function H0(s){s.strokeText(this.partialText,0,0)}class et extends U4.Shape{constructor(e){super(e),this.dummyCanvas=Ml.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return Ti.Path.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;const r=this.pathLength;return e-1>r?null:Ti.Path.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=Ti.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();var r=this.textDecoration(),i=this.fill(),a=this.fontSize(),l=this.glyphInfo;r==="underline"&&e.beginPath();for(var u=0;u<l.length;u++){e.save();var d=l[u].p0;e.translate(d.x,d.y),e.rotate(l[u].rotation),this.partialText=l[u].text,e.fillStrokeShape(this),r==="underline"&&(u===0&&e.moveTo(0,a/2+1),e.lineTo(a,a/2+1)),e.restore()}r==="underline"&&(e.strokeStyle=i,e.lineWidth=a/20,e.stroke()),e.restore()}_hitFunc(e){e.beginPath();var r=this.glyphInfo;if(r.length>=1){var i=r[0].p0;e.moveTo(i.x,i.y)}for(var a=0;a<r.length;a++){var l=r[a].p1;e.lineTo(l.x,l.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return Ml.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return Fl.Text.prototype.setText.call(this,e)}_getContextFont(){return Fl.Text.prototype._getContextFont.call(this)}_getTextSize(e){var r=this.dummyCanvas,i=r.getContext("2d");i.save(),i.font=this._getContextFont();var a=i.measureText(e);return i.restore(),{width:a.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:e,height:r}=this._getTextSize(this.attrs.text);if(this.textWidth=e,this.textHeight=r,this.glyphInfo=[],!this.attrs.data)return null;const i=this.letterSpacing(),a=this.align(),l=this.kerningFunc(),u=Math.max(this.textWidth+((this.attrs.text||"").length-1)*i,0);let d=0;a==="center"&&(d=Math.max(0,this.pathLength/2-u/2)),a==="right"&&(d=Math.max(0,this.pathLength-u));const g=(0,Fl.stringToArray)(this.text());let f=d;for(var v=0;v<g.length;v++){const w=this._getPointAtLength(f);if(!w)return;let x=this._getTextSize(g[v]).width+i;if(g[v]===" "&&a==="justify"){const M=this.text().split(" ").length-1;x+=(this.pathLength-u)/M}const y=this._getPointAtLength(f+x);if(!y)return;const _=Ti.Path.getLineLength(w.x,w.y,y.x,y.y);let A=0;if(l)try{A=l(g[v-1],g[v])*this.fontSize()}catch{A=0}w.x+=A,y.x+=A,this.textWidth+=A;const P=Ti.Path.getPointOnLine(A+_/2,w.x,w.y,y.x,y.y),R=Math.atan2(y.y-w.y,y.x-w.x);this.glyphInfo.push({transposeX:P.x,transposeY:P.y,text:g[v],rotation:R,p0:w,p1:y}),f+=x}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var e=[];this.glyphInfo.forEach(function(v){e.push(v.p0.x),e.push(v.p0.y),e.push(v.p1.x),e.push(v.p1.y)});for(var r=e[0]||0,i=e[0]||0,a=e[1]||0,l=e[1]||0,u,d,g=0;g<e.length/2;g++)u=e[g*2],d=e[g*2+1],r=Math.min(r,u),i=Math.max(i,u),a=Math.min(a,d),l=Math.max(l,d);var f=this.fontSize();return{x:r-f/2,y:a-f/2,width:i-r+f,height:l-a+f}}destroy(){return Ml.Util.releaseCanvas(this.dummyCanvas),super.destroy()}}Es.TextPath=et;et.prototype._fillFunc=W0;et.prototype._strokeFunc=H0;et.prototype._fillFuncHit=W0;et.prototype._strokeFuncHit=H0;et.prototype.className="TextPath";et.prototype._attrsAffectingSize=["text","fontSize","data"];(0,G4._registerNode)(et);Zt.Factory.addGetterSetter(et,"data");Zt.Factory.addGetterSetter(et,"fontFamily","Arial");Zt.Factory.addGetterSetter(et,"fontSize",12,(0,B0.getNumberValidator)());Zt.Factory.addGetterSetter(et,"fontStyle",V0);Zt.Factory.addGetterSetter(et,"align","left");Zt.Factory.addGetterSetter(et,"letterSpacing",0,(0,B0.getNumberValidator)());Zt.Factory.addGetterSetter(et,"textBaseline","middle");Zt.Factory.addGetterSetter(et,"fontVariant",V0);Zt.Factory.addGetterSetter(et,"text",z4);Zt.Factory.addGetterSetter(et,"textDecoration",null);Zt.Factory.addGetterSetter(et,"kerningFunc",null);var Ps={};Object.defineProperty(Ps,"__esModule",{value:!0});Ps.Transformer=void 0;const Pe=Ve,ke=ge,nh=ze,j4=$e,B4=Gi,rh=Qr,Kt=he,Xn=ee,V4=he;var Y0="tr-konva",W4=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(s=>s+`.${Y0}`).join(" "),ih="nodesRect",H4=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],Y4={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};const q4="ontouchstart"in Kt.Konva._global;function K4(s,e){if(s==="rotater")return"crosshair";e+=Pe.Util.degToRad(Y4[s]||0);var r=(Pe.Util.radToDeg(e)%360+360)%360;return Pe.Util._inRange(r,315+22.5,360)||Pe.Util._inRange(r,0,22.5)?"ns-resize":Pe.Util._inRange(r,45-22.5,45+22.5)?"nesw-resize":Pe.Util._inRange(r,90-22.5,90+22.5)?"ew-resize":Pe.Util._inRange(r,135-22.5,135+22.5)?"nwse-resize":Pe.Util._inRange(r,180-22.5,180+22.5)?"ns-resize":Pe.Util._inRange(r,225-22.5,225+22.5)?"nesw-resize":Pe.Util._inRange(r,270-22.5,270+22.5)?"ew-resize":Pe.Util._inRange(r,315-22.5,315+22.5)?"nwse-resize":(Pe.Util.error("Transformer has unknown angle for cursor detection: "+r),"pointer")}var es=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],ah=1e8;function X4(s){return{x:s.x+s.width/2*Math.cos(s.rotation)+s.height/2*Math.sin(-s.rotation),y:s.y+s.height/2*Math.cos(s.rotation)+s.width/2*Math.sin(s.rotation)}}function q0(s,e,r){const i=r.x+(s.x-r.x)*Math.cos(e)-(s.y-r.y)*Math.sin(e),a=r.y+(s.x-r.x)*Math.sin(e)+(s.y-r.y)*Math.cos(e);return Object.assign(Object.assign({},s),{rotation:s.rotation+e,x:i,y:a})}function Q4(s,e){const r=X4(s);return q0(s,e,r)}function J4(s,e,r){let i=e;for(let a=0;a<s.length;a++){const l=Kt.Konva.getAngle(s[a]),u=Math.abs(l-e)%(Math.PI*2);Math.min(u,Math.PI*2-u)<r&&(i=l)}return i}class xe extends rh.Group{constructor(e){super(e),this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(W4,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return Pe.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return Y0+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();const r=e.filter(a=>a.isAncestorOf(this)?(Pe.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);this._nodes=e=r,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(a=>{const l=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},u=a._attrsAffectingSize.map(d=>d+"Change."+this._getEventNamespace()).join(" ");a.on(u,l),a.on(H4.map(d=>d+`.${this._getEventNamespace()}`).join(" "),l),a.on(`absoluteTransformChange.${this._getEventNamespace()}`,l),this._proxyDrag(a)}),this._resetTransformCache();var i=!!this.findOne(".top-left");return i&&this.update(),this}_proxyDrag(e){let r;e.on(`dragstart.${this._getEventNamespace()}`,i=>{r=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(i,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,i=>{if(!r)return;const a=e.getAbsolutePosition(),l=a.x-r.x,u=a.y-r.y;this.nodes().forEach(d=>{if(d===e||d.isDragging())return;const g=d.getAbsolutePosition();d.setAbsolutePosition({x:g.x+l,y:g.y+u}),d.startDrag(i)}),r=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(ih),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(ih,this.__getNodeRect)}__getNodeShape(e,r=this.rotation(),i){var a=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),l=e.getAbsoluteScale(i),u=e.getAbsolutePosition(i),d=a.x*l.x-e.offsetX()*l.x,g=a.y*l.y-e.offsetY()*l.y;const f=(Kt.Konva.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),v={x:u.x+d*Math.cos(f)+g*Math.sin(-f),y:u.y+g*Math.cos(f)+d*Math.sin(f),width:a.width*l.x,height:a.height*l.y,rotation:f};return q0(v,-Kt.Konva.getAngle(r),{x:0,y:0})}__getNodeRect(){var e=this.getNode();if(!e)return{x:-ah,y:-ah,width:0,height:0,rotation:0};const r=[];this.nodes().map(f=>{const v=f.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var w=[{x:v.x,y:v.y},{x:v.x+v.width,y:v.y},{x:v.x+v.width,y:v.y+v.height},{x:v.x,y:v.y+v.height}],x=f.getAbsoluteTransform();w.forEach(function(y){var _=x.point(y);r.push(_)})});const i=new Pe.Transform;i.rotate(-Kt.Konva.getAngle(this.rotation()));var a,l,u,d;r.forEach(function(f){var v=i.point(f);a===void 0&&(a=u=v.x,l=d=v.y),a=Math.min(a,v.x),l=Math.min(l,v.y),u=Math.max(u,v.x),d=Math.max(d,v.y)}),i.invert();const g=i.point({x:a,y:l});return{x:g.x,y:g.y,width:u-a,height:d-l,rotation:Kt.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),es.forEach((function(e){this._createAnchor(e)}).bind(this)),this._createAnchor("rotater")}_createAnchor(e){var r=new B4.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:q4?10:"auto"}),i=this;r.on("mousedown touchstart",function(a){i._handleMouseDown(a)}),r.on("dragstart",a=>{r.stopDrag(),a.cancelBubble=!0}),r.on("dragend",a=>{a.cancelBubble=!0}),r.on("mouseenter",()=>{var a=Kt.Konva.getAngle(this.rotation()),l=K4(e,a);r.getStage().content&&(r.getStage().content.style.cursor=l),this._cursorChange=!0}),r.on("mouseout",()=>{r.getStage().content&&(r.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(r)}_createBack(){var e=new j4.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(r){var i=this.getParent(),a=i.padding();r.beginPath(),r.rect(-a,-a,this.width()+a*2,this.height()+a*2),r.moveTo(this.width()/2,-a),i.rotateEnabled()&&r.lineTo(this.width()/2,-i.rotateAnchorOffset()*Pe.Util._sign(this.height())-a),r.fillStrokeShape(this)},hitFunc:(r,i)=>{if(this.shouldOverdrawWholeArea()){var a=this.padding();r.beginPath(),r.rect(-a,-a,i.width()+a*2,i.height()+a*2),r.fillStrokeShape(i)}}});this.add(e),this._proxyDrag(e),e.on("dragstart",r=>{r.cancelBubble=!0}),e.on("dragmove",r=>{r.cancelBubble=!0}),e.on("dragend",r=>{r.cancelBubble=!0}),this.on("dragmove",r=>{this.update()})}_handleMouseDown(e){this._movingAnchorName=e.target.name().split(" ")[0];var r=this._getNodeRect(),i=r.width,a=r.height,l=Math.sqrt(Math.pow(i,2)+Math.pow(a,2));this.sin=Math.abs(a/l),this.cos=Math.abs(i/l),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var u=e.target.getAbsolutePosition(),d=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:d.x-u.x,y:d.y-u.y},this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(g=>{g._fire("transformstart",{evt:e.evt,target:g})})}_handleMouseMove(e){var r,i,a,l=this.findOne("."+this._movingAnchorName),u=l.getStage();u.setPointersPositions(e);const d=u.getPointerPosition();let g={x:d.x-this._anchorDragOffset.x,y:d.y-this._anchorDragOffset.y};const f=l.getAbsolutePosition();this.anchorDragBoundFunc()&&(g=this.anchorDragBoundFunc()(f,g,e)),l.setAbsolutePosition(g);const v=l.getAbsolutePosition();if(!(f.x===v.x&&f.y===v.y)){if(this._movingAnchorName==="rotater"){var w=this._getNodeRect();r=l.x()-w.width/2,i=-l.y()+w.height/2;let V=Math.atan2(-i,r)+Math.PI/2;w.height<0&&(V-=Math.PI);var x=Kt.Konva.getAngle(this.rotation());const q=x+V,K=Kt.Konva.getAngle(this.rotationSnapTolerance()),fe=J4(this.rotationSnaps(),q,K)-w.rotation,me=Q4(w,fe);this._fitNodesInto(me,e);return}var y=this.shiftBehavior(),_;y==="inverted"?_=this.keepRatio()&&!e.shiftKey:y==="none"?_=this.keepRatio():_=this.keepRatio()||e.shiftKey;var m=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(_){var A=m?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};a=Math.sqrt(Math.pow(A.x-l.x(),2)+Math.pow(A.y-l.y(),2));var P=this.findOne(".top-left").x()>A.x?-1:1,R=this.findOne(".top-left").y()>A.y?-1:1;r=a*this.cos*P,i=a*this.sin*R,this.findOne(".top-left").x(A.x-r),this.findOne(".top-left").y(A.y-i)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(l.y());else if(this._movingAnchorName==="top-right"){if(_){var A=m?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};a=Math.sqrt(Math.pow(l.x()-A.x,2)+Math.pow(A.y-l.y(),2));var P=this.findOne(".top-right").x()<A.x?-1:1,R=this.findOne(".top-right").y()>A.y?-1:1;r=a*this.cos*P,i=a*this.sin*R,this.findOne(".top-right").x(A.x+r),this.findOne(".top-right").y(A.y-i)}var M=l.position();this.findOne(".top-left").y(M.y),this.findOne(".bottom-right").x(M.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(l.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(l.x());else if(this._movingAnchorName==="bottom-left"){if(_){var A=m?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};a=Math.sqrt(Math.pow(A.x-l.x(),2)+Math.pow(l.y()-A.y,2));var P=A.x<l.x()?-1:1,R=l.y()<A.y?-1:1;r=a*this.cos*P,i=a*this.sin*R,l.x(A.x-r),l.y(A.y+i)}M=l.position(),this.findOne(".top-left").x(M.x),this.findOne(".bottom-right").y(M.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(l.y());else if(this._movingAnchorName==="bottom-right"){if(_){var A=m?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};a=Math.sqrt(Math.pow(l.x()-A.x,2)+Math.pow(l.y()-A.y,2));var P=this.findOne(".bottom-right").x()<A.x?-1:1,R=this.findOne(".bottom-right").y()<A.y?-1:1;r=a*this.cos*P,i=a*this.sin*R,this.findOne(".bottom-right").x(A.x+r),this.findOne(".bottom-right").y(A.y+i)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var m=this.centeredScaling()||e.altKey;if(m){var S=this.findOne(".top-left"),T=this.findOne(".bottom-right"),E=S.x(),N=S.y(),k=this.getWidth()-T.x(),D=this.getHeight()-T.y();T.move({x:-E,y:-N}),S.move({x:k,y:D})}var b=this.findOne(".top-left").getAbsolutePosition();r=b.x,i=b.y;var U=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),W=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:r,y:i,width:U,height:W,rotation:Kt.Konva.getAngle(this.rotation())},e)}}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var r=this.getNode();this._fire("transformend",{evt:e,target:r}),r&&this._nodes.forEach(i=>{i._fire("transformend",{evt:e,target:i})}),this._movingAnchorName=null}}_fitNodesInto(e,r){var i=this._getNodeRect();const a=1;if(Pe.Util._inRange(e.width,-this.padding()*2-a,a)){this.update();return}if(Pe.Util._inRange(e.height,-this.padding()*2-a,a)){this.update();return}const l=this.flipEnabled();var u=new Pe.Transform;if(u.rotate(Kt.Konva.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const w=u.point({x:-this.padding()*2,y:0});if(e.x+=w.x,e.y+=w.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=w.x,this._anchorDragOffset.y-=w.y,!l){this.update();return}}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const w=u.point({x:this.padding()*2,y:0});if(this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=w.x,this._anchorDragOffset.y-=w.y,e.width+=this.padding()*2,!l){this.update();return}}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const w=u.point({x:0,y:-this.padding()*2});if(e.x+=w.x,e.y+=w.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=w.x,this._anchorDragOffset.y-=w.y,e.height+=this.padding()*2,!l){this.update();return}}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const w=u.point({x:0,y:this.padding()*2});if(this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=w.x,this._anchorDragOffset.y-=w.y,e.height+=this.padding()*2,!l){this.update();return}}if(this.boundBoxFunc()){const w=this.boundBoxFunc()(i,e);w?e=w:Pe.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const d=1e7,g=new Pe.Transform;g.translate(i.x,i.y),g.rotate(i.rotation),g.scale(i.width/d,i.height/d);const f=new Pe.Transform;f.translate(e.x,e.y),f.rotate(e.rotation),f.scale(e.width/d,e.height/d);const v=f.multiply(g.invert());this._nodes.forEach(w=>{var x;const y=w.getParent().getAbsoluteTransform(),_=w.getTransform().copy();_.translate(w.offsetX(),w.offsetY());const A=new Pe.Transform;A.multiply(y.copy().invert()).multiply(v).multiply(y).multiply(_);const P=A.decompose();w.setAttrs(P),this._fire("transform",{evt:r,target:w}),w._fire("transform",{evt:r,target:w}),(x=w.getLayer())===null||x===void 0||x.batchDraw()}),this.rotation(Pe.Util._getRotation(e.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,r){this.findOne(e).setAttrs(r)}update(){var e,r=this._getNodeRect();this.rotation(Pe.Util._getRotation(r.rotation));var i=r.width,a=r.height,l=this.enabledAnchors(),u=this.resizeEnabled(),d=this.padding(),g=this.anchorSize();const f=this.find("._anchor");f.forEach(w=>{w.setAttrs({width:g,height:g,offsetX:g/2,offsetY:g/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:g/2+d,offsetY:g/2+d,visible:u&&l.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:i/2,y:0,offsetY:g/2+d,visible:u&&l.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:i,y:0,offsetX:g/2-d,offsetY:g/2+d,visible:u&&l.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:a/2,offsetX:g/2+d,visible:u&&l.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:i,y:a/2,offsetX:g/2-d,visible:u&&l.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:a,offsetX:g/2+d,offsetY:g/2-d,visible:u&&l.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:i/2,y:a,offsetY:g/2-d,visible:u&&l.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:i,y:a,offsetX:g/2-d,offsetY:g/2-d,visible:u&&l.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:i/2,y:-this.rotateAnchorOffset()*Pe.Util._sign(a)-d,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:i,height:a,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const v=this.anchorStyleFunc();v&&f.forEach(w=>{v(w)}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),rh.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return nh.Node.prototype.toObject.call(this)}clone(e){var r=nh.Node.prototype.clone.call(this,e);return r}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}Ps.Transformer=xe;function Z4(s){return s instanceof Array||Pe.Util.warn("enabledAnchors value should be an array"),s instanceof Array&&s.forEach(function(e){es.indexOf(e)===-1&&Pe.Util.warn("Unknown anchor name: "+e+". Available names are: "+es.join(", "))}),s||[]}xe.prototype.className="Transformer";(0,V4._registerNode)(xe);ke.Factory.addGetterSetter(xe,"enabledAnchors",es,Z4);ke.Factory.addGetterSetter(xe,"flipEnabled",!0,(0,Xn.getBooleanValidator)());ke.Factory.addGetterSetter(xe,"resizeEnabled",!0);ke.Factory.addGetterSetter(xe,"anchorSize",10,(0,Xn.getNumberValidator)());ke.Factory.addGetterSetter(xe,"rotateEnabled",!0);ke.Factory.addGetterSetter(xe,"rotationSnaps",[]);ke.Factory.addGetterSetter(xe,"rotateAnchorOffset",50,(0,Xn.getNumberValidator)());ke.Factory.addGetterSetter(xe,"rotationSnapTolerance",5,(0,Xn.getNumberValidator)());ke.Factory.addGetterSetter(xe,"borderEnabled",!0);ke.Factory.addGetterSetter(xe,"anchorStroke","rgb(0, 161, 255)");ke.Factory.addGetterSetter(xe,"anchorStrokeWidth",1,(0,Xn.getNumberValidator)());ke.Factory.addGetterSetter(xe,"anchorFill","white");ke.Factory.addGetterSetter(xe,"anchorCornerRadius",0,(0,Xn.getNumberValidator)());ke.Factory.addGetterSetter(xe,"borderStroke","rgb(0, 161, 255)");ke.Factory.addGetterSetter(xe,"borderStrokeWidth",1,(0,Xn.getNumberValidator)());ke.Factory.addGetterSetter(xe,"borderDash");ke.Factory.addGetterSetter(xe,"keepRatio",!0);ke.Factory.addGetterSetter(xe,"shiftBehavior","default");ke.Factory.addGetterSetter(xe,"centeredScaling",!1);ke.Factory.addGetterSetter(xe,"ignoreStroke",!1);ke.Factory.addGetterSetter(xe,"padding",0,(0,Xn.getNumberValidator)());ke.Factory.addGetterSetter(xe,"node");ke.Factory.addGetterSetter(xe,"nodes");ke.Factory.addGetterSetter(xe,"boundBoxFunc");ke.Factory.addGetterSetter(xe,"anchorDragBoundFunc");ke.Factory.addGetterSetter(xe,"anchorStyleFunc");ke.Factory.addGetterSetter(xe,"shouldOverdrawWholeArea",!1);ke.Factory.addGetterSetter(xe,"useSingleNodeRotation",!0);ke.Factory.backCompat(xe,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});var bs={};Object.defineProperty(bs,"__esModule",{value:!0});bs.Wedge=void 0;const Rs=ge,$4=$e,e5=he,K0=ee,t5=he;class kn extends $4.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,e5.Konva.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}bs.Wedge=kn;kn.prototype.className="Wedge";kn.prototype._centroid=!0;kn.prototype._attrsAffectingSize=["radius"];(0,t5._registerNode)(kn);Rs.Factory.addGetterSetter(kn,"radius",0,(0,K0.getNumberValidator)());Rs.Factory.addGetterSetter(kn,"angle",0,(0,K0.getNumberValidator)());Rs.Factory.addGetterSetter(kn,"clockwise",!1);Rs.Factory.backCompat(kn,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});var Os={};Object.defineProperty(Os,"__esModule",{value:!0});Os.Blur=void 0;const sh=ge,n5=ze,r5=ee;function oh(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var i5=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],a5=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function s5(s,e){var r=s.data,i=s.width,a=s.height,l,u,d,g,f,v,w,x,y,_,A,P,R,M,m,S,T,E,N,k,D,b,U,W,V=e+e+1,q=i-1,K=a-1,ne=e+1,fe=ne*(ne+1)/2,me=new oh,be=null,ie=me,se=null,ye=null,Ee=i5[e],Ce=a5[e];for(d=1;d<V;d++)ie=ie.next=new oh,d===ne&&(be=ie);for(ie.next=me,w=v=0,u=0;u<a;u++){for(S=T=E=N=x=y=_=A=0,P=ne*(k=r[v]),R=ne*(D=r[v+1]),M=ne*(b=r[v+2]),m=ne*(U=r[v+3]),x+=fe*k,y+=fe*D,_+=fe*b,A+=fe*U,ie=me,d=0;d<ne;d++)ie.r=k,ie.g=D,ie.b=b,ie.a=U,ie=ie.next;for(d=1;d<ne;d++)g=v+((q<d?q:d)<<2),x+=(ie.r=k=r[g])*(W=ne-d),y+=(ie.g=D=r[g+1])*W,_+=(ie.b=b=r[g+2])*W,A+=(ie.a=U=r[g+3])*W,S+=k,T+=D,E+=b,N+=U,ie=ie.next;for(se=me,ye=be,l=0;l<i;l++)r[v+3]=U=A*Ee>>Ce,U!==0?(U=255/U,r[v]=(x*Ee>>Ce)*U,r[v+1]=(y*Ee>>Ce)*U,r[v+2]=(_*Ee>>Ce)*U):r[v]=r[v+1]=r[v+2]=0,x-=P,y-=R,_-=M,A-=m,P-=se.r,R-=se.g,M-=se.b,m-=se.a,g=w+((g=l+e+1)<q?g:q)<<2,S+=se.r=r[g],T+=se.g=r[g+1],E+=se.b=r[g+2],N+=se.a=r[g+3],x+=S,y+=T,_+=E,A+=N,se=se.next,P+=k=ye.r,R+=D=ye.g,M+=b=ye.b,m+=U=ye.a,S-=k,T-=D,E-=b,N-=U,ye=ye.next,v+=4;w+=i}for(l=0;l<i;l++){for(T=E=N=S=y=_=A=x=0,v=l<<2,P=ne*(k=r[v]),R=ne*(D=r[v+1]),M=ne*(b=r[v+2]),m=ne*(U=r[v+3]),x+=fe*k,y+=fe*D,_+=fe*b,A+=fe*U,ie=me,d=0;d<ne;d++)ie.r=k,ie.g=D,ie.b=b,ie.a=U,ie=ie.next;for(f=i,d=1;d<=e;d++)v=f+l<<2,x+=(ie.r=k=r[v])*(W=ne-d),y+=(ie.g=D=r[v+1])*W,_+=(ie.b=b=r[v+2])*W,A+=(ie.a=U=r[v+3])*W,S+=k,T+=D,E+=b,N+=U,ie=ie.next,d<K&&(f+=i);for(v=l,se=me,ye=be,u=0;u<a;u++)g=v<<2,r[g+3]=U=A*Ee>>Ce,U>0?(U=255/U,r[g]=(x*Ee>>Ce)*U,r[g+1]=(y*Ee>>Ce)*U,r[g+2]=(_*Ee>>Ce)*U):r[g]=r[g+1]=r[g+2]=0,x-=P,y-=R,_-=M,A-=m,P-=se.r,R-=se.g,M-=se.b,m-=se.a,g=l+((g=u+ne)<K?g:K)*i<<2,x+=S+=se.r=r[g],y+=T+=se.g=r[g+1],_+=E+=se.b=r[g+2],A+=N+=se.a=r[g+3],se=se.next,P+=k=ye.r,R+=D=ye.g,M+=b=ye.b,m+=U=ye.a,S-=k,T-=D,E-=b,N-=U,ye=ye.next,v+=i}}const o5=function(e){var r=Math.round(this.blurRadius());r>0&&s5(e,r)};Os.Blur=o5;sh.Factory.addGetterSetter(n5.Node,"blurRadius",0,(0,r5.getNumberValidator)(),sh.Factory.afterSetFilter);var Ms={};Object.defineProperty(Ms,"__esModule",{value:!0});Ms.Brighten=void 0;const lh=ge,l5=ze,u5=ee,c5=function(s){var e=this.brightness()*255,r=s.data,i=r.length,a;for(a=0;a<i;a+=4)r[a]+=e,r[a+1]+=e,r[a+2]+=e};Ms.Brighten=c5;lh.Factory.addGetterSetter(l5.Node,"brightness",0,(0,u5.getNumberValidator)(),lh.Factory.afterSetFilter);var Fs={};Object.defineProperty(Fs,"__esModule",{value:!0});Fs.Contrast=void 0;const uh=ge,d5=ze,h5=ee,g5=function(s){var e=Math.pow((this.contrast()+100)/100,2),r=s.data,i=r.length,a=150,l=150,u=150,d;for(d=0;d<i;d+=4)a=r[d],l=r[d+1],u=r[d+2],a/=255,a-=.5,a*=e,a+=.5,a*=255,l/=255,l-=.5,l*=e,l+=.5,l*=255,u/=255,u-=.5,u*=e,u+=.5,u*=255,a=a<0?0:a>255?255:a,l=l<0?0:l>255?255:l,u=u<0?0:u>255?255:u,r[d]=a,r[d+1]=l,r[d+2]=u};Fs.Contrast=g5;uh.Factory.addGetterSetter(d5.Node,"contrast",0,(0,h5.getNumberValidator)(),uh.Factory.afterSetFilter);var Ns={};Object.defineProperty(Ns,"__esModule",{value:!0});Ns.Emboss=void 0;const Wn=ge,Is=ze,f5=Ve,X0=ee,p5=function(s){var e=this.embossStrength()*10,r=this.embossWhiteLevel()*255,i=this.embossDirection(),a=this.embossBlend(),l=0,u=0,d=s.data,g=s.width,f=s.height,v=g*4,w=f;switch(i){case"top-left":l=-1,u=-1;break;case"top":l=-1,u=0;break;case"top-right":l=-1,u=1;break;case"right":l=0,u=1;break;case"bottom-right":l=1,u=1;break;case"bottom":l=1,u=0;break;case"bottom-left":l=1,u=-1;break;case"left":l=0,u=-1;break;default:f5.Util.error("Unknown emboss direction: "+i)}do{var x=(w-1)*v,y=l;w+y<1&&(y=0),w+y>f&&(y=0);var _=(w-1+y)*g*4,A=g;do{var P=x+(A-1)*4,R=u;A+R<1&&(R=0),A+R>g&&(R=0);var M=_+(A-1+R)*4,m=d[P]-d[M],S=d[P+1]-d[M+1],T=d[P+2]-d[M+2],E=m,N=E>0?E:-E,k=S>0?S:-S,D=T>0?T:-T;if(k>N&&(E=S),D>N&&(E=T),E*=e,a){var b=d[P]+E,U=d[P+1]+E,W=d[P+2]+E;d[P]=b>255?255:b<0?0:b,d[P+1]=U>255?255:U<0?0:U,d[P+2]=W>255?255:W<0?0:W}else{var V=r-E;V<0?V=0:V>255&&(V=255),d[P]=d[P+1]=d[P+2]=V}}while(--A)}while(--w)};Ns.Emboss=p5;Wn.Factory.addGetterSetter(Is.Node,"embossStrength",.5,(0,X0.getNumberValidator)(),Wn.Factory.afterSetFilter);Wn.Factory.addGetterSetter(Is.Node,"embossWhiteLevel",.5,(0,X0.getNumberValidator)(),Wn.Factory.afterSetFilter);Wn.Factory.addGetterSetter(Is.Node,"embossDirection","top-left",null,Wn.Factory.afterSetFilter);Wn.Factory.addGetterSetter(Is.Node,"embossBlend",!1,null,Wn.Factory.afterSetFilter);var Ls={};Object.defineProperty(Ls,"__esModule",{value:!0});Ls.Enhance=void 0;const ch=ge,m5=ze,v5=ee;function Nl(s,e,r,i,a){var l=r-e,u=a-i,d;return l===0?i+u/2:u===0?i:(d=(s-e)/l,d=u*d+i,d)}const y5=function(s){var e=s.data,r=e.length,i=e[0],a=i,l,u=e[1],d=u,g,f=e[2],v=f,w,x,y=this.enhance();if(y!==0){for(x=0;x<r;x+=4)l=e[x+0],l<i?i=l:l>a&&(a=l),g=e[x+1],g<u?u=g:g>d&&(d=g),w=e[x+2],w<f?f=w:w>v&&(v=w);a===i&&(a=255,i=0),d===u&&(d=255,u=0),v===f&&(v=255,f=0);var _,A,P,R,M,m,S,T,E;for(y>0?(A=a+y*(255-a),P=i-y*(i-0),M=d+y*(255-d),m=u-y*(u-0),T=v+y*(255-v),E=f-y*(f-0)):(_=(a+i)*.5,A=a+y*(a-_),P=i+y*(i-_),R=(d+u)*.5,M=d+y*(d-R),m=u+y*(u-R),S=(v+f)*.5,T=v+y*(v-S),E=f+y*(f-S)),x=0;x<r;x+=4)e[x+0]=Nl(e[x+0],i,a,P,A),e[x+1]=Nl(e[x+1],u,d,m,M),e[x+2]=Nl(e[x+2],f,v,E,T)}};Ls.Enhance=y5;ch.Factory.addGetterSetter(m5.Node,"enhance",0,(0,v5.getNumberValidator)(),ch.Factory.afterSetFilter);var Ds={};Object.defineProperty(Ds,"__esModule",{value:!0});Ds.Grayscale=void 0;const _5=function(s){var e=s.data,r=e.length,i,a;for(i=0;i<r;i+=4)a=.34*e[i]+.5*e[i+1]+.16*e[i+2],e[i]=a,e[i+1]=a,e[i+2]=a};Ds.Grayscale=_5;var Us={};Object.defineProperty(Us,"__esModule",{value:!0});Us.HSL=void 0;const Yr=ge,yu=ze,_u=ee;Yr.Factory.addGetterSetter(yu.Node,"hue",0,(0,_u.getNumberValidator)(),Yr.Factory.afterSetFilter);Yr.Factory.addGetterSetter(yu.Node,"saturation",0,(0,_u.getNumberValidator)(),Yr.Factory.afterSetFilter);Yr.Factory.addGetterSetter(yu.Node,"luminance",0,(0,_u.getNumberValidator)(),Yr.Factory.afterSetFilter);const w5=function(s){var e=s.data,r=e.length,i=1,a=Math.pow(2,this.saturation()),l=Math.abs(this.hue()+360)%360,u=this.luminance()*127,d,g=i*a*Math.cos(l*Math.PI/180),f=i*a*Math.sin(l*Math.PI/180),v=.299*i+.701*g+.167*f,w=.587*i-.587*g+.33*f,x=.114*i-.114*g-.497*f,y=.299*i-.299*g-.328*f,_=.587*i+.413*g+.035*f,A=.114*i-.114*g+.293*f,P=.299*i-.3*g+1.25*f,R=.587*i-.586*g-1.05*f,M=.114*i+.886*g-.2*f,m,S,T,E;for(d=0;d<r;d+=4)m=e[d+0],S=e[d+1],T=e[d+2],E=e[d+3],e[d+0]=v*m+w*S+x*T+u,e[d+1]=y*m+_*S+A*T+u,e[d+2]=P*m+R*S+M*T+u,e[d+3]=E};Us.HSL=w5;var Gs={};Object.defineProperty(Gs,"__esModule",{value:!0});Gs.HSV=void 0;const qr=ge,wu=ze,Su=ee,S5=function(s){var e=s.data,r=e.length,i=Math.pow(2,this.value()),a=Math.pow(2,this.saturation()),l=Math.abs(this.hue()+360)%360,u,d=i*a*Math.cos(l*Math.PI/180),g=i*a*Math.sin(l*Math.PI/180),f=.299*i+.701*d+.167*g,v=.587*i-.587*d+.33*g,w=.114*i-.114*d-.497*g,x=.299*i-.299*d-.328*g,y=.587*i+.413*d+.035*g,_=.114*i-.114*d+.293*g,A=.299*i-.3*d+1.25*g,P=.587*i-.586*d-1.05*g,R=.114*i+.886*d-.2*g,M,m,S,T;for(u=0;u<r;u+=4)M=e[u+0],m=e[u+1],S=e[u+2],T=e[u+3],e[u+0]=f*M+v*m+w*S,e[u+1]=x*M+y*m+_*S,e[u+2]=A*M+P*m+R*S,e[u+3]=T};Gs.HSV=S5;qr.Factory.addGetterSetter(wu.Node,"hue",0,(0,Su.getNumberValidator)(),qr.Factory.afterSetFilter);qr.Factory.addGetterSetter(wu.Node,"saturation",0,(0,Su.getNumberValidator)(),qr.Factory.afterSetFilter);qr.Factory.addGetterSetter(wu.Node,"value",0,(0,Su.getNumberValidator)(),qr.Factory.afterSetFilter);var zs={};Object.defineProperty(zs,"__esModule",{value:!0});zs.Invert=void 0;const x5=function(s){var e=s.data,r=e.length,i;for(i=0;i<r;i+=4)e[i]=255-e[i],e[i+1]=255-e[i+1],e[i+2]=255-e[i+2]};zs.Invert=x5;var js={};Object.defineProperty(js,"__esModule",{value:!0});js.Kaleidoscope=void 0;const ts=ge,Q0=ze,dh=Ve,J0=ee;var C5=function(s,e,r){var i=s.data,a=e.data,l=s.width,u=s.height,d=r.polarCenterX||l/2,g=r.polarCenterY||u/2,f,v,w,x=0,y=0,_=0,A=0,P,R=Math.sqrt(d*d+g*g);v=l-d,w=u-g,P=Math.sqrt(v*v+w*w),R=P>R?P:R;var M=u,m=l,S,T,E=360/m*Math.PI/180,N,k;for(T=0;T<m;T+=1)for(N=Math.sin(T*E),k=Math.cos(T*E),S=0;S<M;S+=1)v=Math.floor(d+R*S/M*k),w=Math.floor(g+R*S/M*N),f=(w*l+v)*4,x=i[f+0],y=i[f+1],_=i[f+2],A=i[f+3],f=(T+S*l)*4,a[f+0]=x,a[f+1]=y,a[f+2]=_,a[f+3]=A},T5=function(s,e,r){var i=s.data,a=e.data,l=s.width,u=s.height,d=r.polarCenterX||l/2,g=r.polarCenterY||u/2,f,v,w,x,y,_=0,A=0,P=0,R=0,M,m=Math.sqrt(d*d+g*g);v=l-d,w=u-g,M=Math.sqrt(v*v+w*w),m=M>m?M:m;var S=u,T=l,E,N,k=0,D,b;for(v=0;v<l;v+=1)for(w=0;w<u;w+=1)x=v-d,y=w-g,E=Math.sqrt(x*x+y*y)*S/m,N=(Math.atan2(y,x)*180/Math.PI+360+k)%360,N=N*T/360,D=Math.floor(N),b=Math.floor(E),f=(b*l+D)*4,_=i[f+0],A=i[f+1],P=i[f+2],R=i[f+3],f=(w*l+v)*4,a[f+0]=_,a[f+1]=A,a[f+2]=P,a[f+3]=R};const A5=function(s){var e=s.width,r=s.height,i,a,l,u,d,g,f,v,w,x,y=Math.round(this.kaleidoscopePower()),_=Math.round(this.kaleidoscopeAngle()),A=Math.floor(e*(_%360)/360);if(!(y<1)){var P=dh.Util.createCanvasElement();P.width=e,P.height=r;var R=P.getContext("2d").getImageData(0,0,e,r);dh.Util.releaseCanvas(P),C5(s,R,{polarCenterX:e/2,polarCenterY:r/2});for(var M=e/Math.pow(2,y);M<=8;)M=M*2,y-=1;M=Math.ceil(M);var m=M,S=0,T=m,E=1;for(A+M>e&&(S=m,T=0,E=-1),a=0;a<r;a+=1)for(i=S;i!==T;i+=E)l=Math.round(i+A)%e,w=(e*a+l)*4,d=R.data[w+0],g=R.data[w+1],f=R.data[w+2],v=R.data[w+3],x=(e*a+i)*4,R.data[x+0]=d,R.data[x+1]=g,R.data[x+2]=f,R.data[x+3]=v;for(a=0;a<r;a+=1)for(m=Math.floor(M),u=0;u<y;u+=1){for(i=0;i<m+1;i+=1)w=(e*a+i)*4,d=R.data[w+0],g=R.data[w+1],f=R.data[w+2],v=R.data[w+3],x=(e*a+m*2-i-1)*4,R.data[x+0]=d,R.data[x+1]=g,R.data[x+2]=f,R.data[x+3]=v;m*=2}T5(R,s,{polarRotation:0})}};js.Kaleidoscope=A5;ts.Factory.addGetterSetter(Q0.Node,"kaleidoscopePower",2,(0,J0.getNumberValidator)(),ts.Factory.afterSetFilter);ts.Factory.addGetterSetter(Q0.Node,"kaleidoscopeAngle",0,(0,J0.getNumberValidator)(),ts.Factory.afterSetFilter);var Bs={};Object.defineProperty(Bs,"__esModule",{value:!0});Bs.Mask=void 0;const hh=ge,k5=ze,E5=ee;function ja(s,e,r){var i=(r*s.width+e)*4,a=[];return a.push(s.data[i++],s.data[i++],s.data[i++],s.data[i++]),a}function Ai(s,e){return Math.sqrt(Math.pow(s[0]-e[0],2)+Math.pow(s[1]-e[1],2)+Math.pow(s[2]-e[2],2))}function P5(s){for(var e=[0,0,0],r=0;r<s.length;r++)e[0]+=s[r][0],e[1]+=s[r][1],e[2]+=s[r][2];return e[0]/=s.length,e[1]/=s.length,e[2]/=s.length,e}function b5(s,e){var r=ja(s,0,0),i=ja(s,s.width-1,0),a=ja(s,0,s.height-1),l=ja(s,s.width-1,s.height-1),u=e||10;if(Ai(r,i)<u&&Ai(i,l)<u&&Ai(l,a)<u&&Ai(a,r)<u){for(var d=P5([i,r,l,a]),g=[],f=0;f<s.width*s.height;f++){var v=Ai(d,[s.data[f*4],s.data[f*4+1],s.data[f*4+2]]);g[f]=v<u?0:255}return g}}function R5(s,e){for(var r=0;r<s.width*s.height;r++)s.data[4*r+3]=e[r]}function O5(s,e,r){for(var i=[1,1,1,1,0,1,1,1,1],a=Math.round(Math.sqrt(i.length)),l=Math.floor(a/2),u=[],d=0;d<r;d++)for(var g=0;g<e;g++){for(var f=d*e+g,v=0,w=0;w<a;w++)for(var x=0;x<a;x++){var y=d+w-l,_=g+x-l;if(y>=0&&y<r&&_>=0&&_<e){var A=y*e+_,P=i[w*a+x];v+=s[A]*P}}u[f]=v===255*8?255:0}return u}function M5(s,e,r){for(var i=[1,1,1,1,1,1,1,1,1],a=Math.round(Math.sqrt(i.length)),l=Math.floor(a/2),u=[],d=0;d<r;d++)for(var g=0;g<e;g++){for(var f=d*e+g,v=0,w=0;w<a;w++)for(var x=0;x<a;x++){var y=d+w-l,_=g+x-l;if(y>=0&&y<r&&_>=0&&_<e){var A=y*e+_,P=i[w*a+x];v+=s[A]*P}}u[f]=v>=255*4?255:0}return u}function F5(s,e,r){for(var i=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],a=Math.round(Math.sqrt(i.length)),l=Math.floor(a/2),u=[],d=0;d<r;d++)for(var g=0;g<e;g++){for(var f=d*e+g,v=0,w=0;w<a;w++)for(var x=0;x<a;x++){var y=d+w-l,_=g+x-l;if(y>=0&&y<r&&_>=0&&_<e){var A=y*e+_,P=i[w*a+x];v+=s[A]*P}}u[f]=v}return u}const N5=function(s){var e=this.threshold(),r=b5(s,e);return r&&(r=O5(r,s.width,s.height),r=M5(r,s.width,s.height),r=F5(r,s.width,s.height),R5(s,r)),s};Bs.Mask=N5;hh.Factory.addGetterSetter(k5.Node,"threshold",0,(0,E5.getNumberValidator)(),hh.Factory.afterSetFilter);var Vs={};Object.defineProperty(Vs,"__esModule",{value:!0});Vs.Noise=void 0;const gh=ge,I5=ze,L5=ee,D5=function(s){var e=this.noise()*255,r=s.data,i=r.length,a=e/2,l;for(l=0;l<i;l+=4)r[l+0]+=a-2*a*Math.random(),r[l+1]+=a-2*a*Math.random(),r[l+2]+=a-2*a*Math.random()};Vs.Noise=D5;gh.Factory.addGetterSetter(I5.Node,"noise",.2,(0,L5.getNumberValidator)(),gh.Factory.afterSetFilter);var Ws={};Object.defineProperty(Ws,"__esModule",{value:!0});Ws.Pixelate=void 0;const fh=ge,U5=Ve,G5=ze,z5=ee,j5=function(s){var e=Math.ceil(this.pixelSize()),r=s.width,i=s.height,a,l,u,d,g,f,v,w=Math.ceil(r/e),x=Math.ceil(i/e),y,_,A,P,R,M,m,S=s.data;if(e<=0){U5.Util.error("pixelSize value can not be <= 0");return}for(R=0;R<w;R+=1)for(M=0;M<x;M+=1){for(d=0,g=0,f=0,v=0,y=R*e,_=y+e,A=M*e,P=A+e,m=0,a=y;a<_;a+=1)if(!(a>=r))for(l=A;l<P;l+=1)l>=i||(u=(r*l+a)*4,d+=S[u+0],g+=S[u+1],f+=S[u+2],v+=S[u+3],m+=1);for(d=d/m,g=g/m,f=f/m,v=v/m,a=y;a<_;a+=1)if(!(a>=r))for(l=A;l<P;l+=1)l>=i||(u=(r*l+a)*4,S[u+0]=d,S[u+1]=g,S[u+2]=f,S[u+3]=v)}};Ws.Pixelate=j5;fh.Factory.addGetterSetter(G5.Node,"pixelSize",8,(0,z5.getNumberValidator)(),fh.Factory.afterSetFilter);var Hs={};Object.defineProperty(Hs,"__esModule",{value:!0});Hs.Posterize=void 0;const ph=ge,B5=ze,V5=ee,W5=function(s){var e=Math.round(this.levels()*254)+1,r=s.data,i=r.length,a=255/e,l;for(l=0;l<i;l+=1)r[l]=Math.floor(r[l]/a)*a};Hs.Posterize=W5;ph.Factory.addGetterSetter(B5.Node,"levels",.5,(0,V5.getNumberValidator)(),ph.Factory.afterSetFilter);var Ys={};Object.defineProperty(Ys,"__esModule",{value:!0});Ys.RGB=void 0;const ns=ge,xu=ze,H5=ee,Y5=function(s){var e=s.data,r=e.length,i=this.red(),a=this.green(),l=this.blue(),u,d;for(u=0;u<r;u+=4)d=(.34*e[u]+.5*e[u+1]+.16*e[u+2])/255,e[u]=d*i,e[u+1]=d*a,e[u+2]=d*l,e[u+3]=e[u+3]};Ys.RGB=Y5;ns.Factory.addGetterSetter(xu.Node,"red",0,function(s){return this._filterUpToDate=!1,s>255?255:s<0?0:Math.round(s)});ns.Factory.addGetterSetter(xu.Node,"green",0,function(s){return this._filterUpToDate=!1,s>255?255:s<0?0:Math.round(s)});ns.Factory.addGetterSetter(xu.Node,"blue",0,H5.RGBComponent,ns.Factory.afterSetFilter);var qs={};Object.defineProperty(qs,"__esModule",{value:!0});qs.RGBA=void 0;const Oi=ge,Ks=ze,q5=ee,K5=function(s){var e=s.data,r=e.length,i=this.red(),a=this.green(),l=this.blue(),u=this.alpha(),d,g;for(d=0;d<r;d+=4)g=1-u,e[d]=i*u+e[d]*g,e[d+1]=a*u+e[d+1]*g,e[d+2]=l*u+e[d+2]*g};qs.RGBA=K5;Oi.Factory.addGetterSetter(Ks.Node,"red",0,function(s){return this._filterUpToDate=!1,s>255?255:s<0?0:Math.round(s)});Oi.Factory.addGetterSetter(Ks.Node,"green",0,function(s){return this._filterUpToDate=!1,s>255?255:s<0?0:Math.round(s)});Oi.Factory.addGetterSetter(Ks.Node,"blue",0,q5.RGBComponent,Oi.Factory.afterSetFilter);Oi.Factory.addGetterSetter(Ks.Node,"alpha",1,function(s){return this._filterUpToDate=!1,s>1?1:s<0?0:s});var Xs={};Object.defineProperty(Xs,"__esModule",{value:!0});Xs.Sepia=void 0;const X5=function(s){var e=s.data,r=e.length,i,a,l,u;for(i=0;i<r;i+=4)a=e[i+0],l=e[i+1],u=e[i+2],e[i+0]=Math.min(255,a*.393+l*.769+u*.189),e[i+1]=Math.min(255,a*.349+l*.686+u*.168),e[i+2]=Math.min(255,a*.272+l*.534+u*.131)};Xs.Sepia=X5;var Qs={};Object.defineProperty(Qs,"__esModule",{value:!0});Qs.Solarize=void 0;const Q5=function(s){var e=s.data,r=s.width,i=s.height,a=r*4,l=i;do{var u=(l-1)*a,d=r;do{var g=u+(d-1)*4,f=e[g],v=e[g+1],w=e[g+2];f>127&&(f=255-f),v>127&&(v=255-v),w>127&&(w=255-w),e[g]=f,e[g+1]=v,e[g+2]=w}while(--d)}while(--l)};Qs.Solarize=Q5;var Js={};Object.defineProperty(Js,"__esModule",{value:!0});Js.Threshold=void 0;const mh=ge,J5=ze,Z5=ee,$5=function(s){var e=this.threshold()*255,r=s.data,i=r.length,a;for(a=0;a<i;a+=1)r[a]=r[a]<e?0:255};Js.Threshold=$5;mh.Factory.addGetterSetter(J5.Node,"threshold",.5,(0,Z5.getNumberValidator)(),mh.Factory.afterSetFilter);Object.defineProperty(ss,"__esModule",{value:!0});ss.Konva=void 0;const vh=Za,e6=hs,t6=ps,n6=ys,r6=_s,i6=ws,yh=Hr,a6=Di,s6=Zr,o6=Gi,l6=Cs,u6=Ts,c6=As,d6=ks,h6=gr,g6=Es,f6=Ps,p6=bs,m6=Os,v6=Ms,y6=Fs,_6=Ns,w6=Ls,S6=Ds,x6=Us,C6=Gs,T6=zs,A6=js,k6=Bs,E6=Vs,P6=Ws,b6=Hs,R6=Ys,O6=qs,M6=Xs,F6=Qs,N6=Js;ss.Konva=vh.Konva.Util._assign(vh.Konva,{Arc:e6.Arc,Arrow:t6.Arrow,Circle:n6.Circle,Ellipse:r6.Ellipse,Image:i6.Image,Label:yh.Label,Tag:yh.Tag,Line:a6.Line,Path:s6.Path,Rect:o6.Rect,RegularPolygon:l6.RegularPolygon,Ring:u6.Ring,Sprite:c6.Sprite,Star:d6.Star,Text:h6.Text,TextPath:g6.TextPath,Transformer:f6.Transformer,Wedge:p6.Wedge,Filters:{Blur:m6.Blur,Brighten:v6.Brighten,Contrast:y6.Contrast,Emboss:_6.Emboss,Enhance:w6.Enhance,Grayscale:S6.Grayscale,HSL:x6.HSL,HSV:C6.HSV,Invert:T6.Invert,Kaleidoscope:A6.Kaleidoscope,Mask:k6.Mask,Noise:E6.Noise,Pixelate:P6.Pixelate,Posterize:b6.Posterize,RGB:R6.RGB,RGBA:O6.RGBA,Sepia:M6.Sepia,Solarize:F6.Solarize,Threshold:N6.Threshold}});var I6=v0.exports;Object.defineProperty(I6,"__esModule",{value:!0});const L6=ss;v0.exports=L6.Konva;var $l={exports:{}};(function(s,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Konva=void 0;var r=Za;Object.defineProperty(e,"Konva",{enumerable:!0,get:function(){return r.Konva}});const i=Za;s.exports=i.Konva})($l,$l.exports);var D6=$l.exports;const Mi=Fi(D6);var Z0={exports:{}};/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U6=function(e){var r={},i=re,a=Ba,l=Object.assign;function u(t){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,g=Symbol.for("react.element"),f=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),_=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),T=Symbol.iterator;function E(t){return t===null||typeof t!="object"?null:(t=T&&t[T]||t["@@iterator"],typeof t=="function"?t:null)}function N(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case v:return"Fragment";case f:return"Portal";case x:return"Profiler";case w:return"StrictMode";case P:return"Suspense";case R:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case _:return(t.displayName||"Context")+".Consumer";case y:return(t._context.displayName||"Context")+".Provider";case A:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case M:return n=t.displayName||null,n!==null?n:N(t.type)||"Memo";case m:n=t._payload,t=t._init;try{return N(t(n))}catch{}}return null}function k(t){var n=t.type;switch(t.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=n.render,t=t.displayName||t.name||"",n.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return N(n);case 8:return n===w?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function D(t){var n=t,o=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,n.flags&4098&&(o=n.return),t=n.return;while(t)}return n.tag===3?o:null}function b(t){if(D(t)!==t)throw Error(u(188))}function U(t){var n=t.alternate;if(!n){if(n=D(t),n===null)throw Error(u(188));return n!==t?null:t}for(var o=t,c=n;;){var h=o.return;if(h===null)break;var p=h.alternate;if(p===null){if(c=h.return,c!==null){o=c;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===o)return b(h),t;if(p===c)return b(h),n;p=p.sibling}throw Error(u(188))}if(o.return!==c.return)o=h,c=p;else{for(var C=!1,F=h.child;F;){if(F===o){C=!0,o=h,c=p;break}if(F===c){C=!0,c=h,o=p;break}F=F.sibling}if(!C){for(F=p.child;F;){if(F===o){C=!0,o=p,c=h;break}if(F===c){C=!0,c=p,o=h;break}F=F.sibling}if(!C)throw Error(u(189))}}if(o.alternate!==c)throw Error(u(190))}if(o.tag!==3)throw Error(u(188));return o.stateNode.current===o?t:n}function W(t){return t=U(t),t!==null?V(t):null}function V(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var n=V(t);if(n!==null)return n;t=t.sibling}return null}function q(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){if(t.tag!==4){var n=q(t);if(n!==null)return n}t=t.sibling}return null}var K=Array.isArray,ne=e.getPublicInstance,fe=e.getRootHostContext,me=e.getChildHostContext,be=e.prepareForCommit,ie=e.resetAfterCommit,se=e.createInstance,ye=e.appendInitialChild,Ee=e.finalizeInitialChildren,Ce=e.prepareUpdate,Tt=e.shouldSetTextContent,lt=e.createTextInstance,L=e.scheduleTimeout,Y=e.cancelTimeout,te=e.noTimeout,Te=e.isPrimaryRenderer,ce=e.supportsMutation,Fe=e.supportsPersistence,De=e.supportsHydration,bt=e.getInstanceFromNode,Re=e.preparePortalMount,En=e.getCurrentEventPriority,jt=e.detachDeletedInstance,Pn=e.supportsMicrotasks,fg=e.scheduleMicrotask,ei=e.supportsTestSelectors,pg=e.findFiberRoot,mg=e.getBoundingRect,vg=e.getTextContent,ti=e.isHiddenSubtree,yg=e.matchAccessibilityRole,_g=e.setFocusIfFocusable,wg=e.setupIntersectionObserver,Sg=e.appendChild,xg=e.appendChildToContainer,Cg=e.commitTextUpdate,Tg=e.commitMount,Ag=e.commitUpdate,kg=e.insertBefore,Eg=e.insertInContainerBefore,Pg=e.removeChild,bg=e.removeChildFromContainer,Au=e.resetTextContent,Rg=e.hideInstance,Og=e.hideTextInstance,Mg=e.unhideInstance,Fg=e.unhideTextInstance,Ng=e.clearContainer,Ig=e.cloneInstance,ku=e.createContainerChildSet,Eu=e.appendChildToContainerChildSet,Lg=e.finalizeContainerChildren,to=e.replaceContainerChildren,Pu=e.cloneHiddenInstance,bu=e.cloneHiddenTextInstance,Dg=e.canHydrateInstance,Ug=e.canHydrateTextInstance,Gg=e.canHydrateSuspenseInstance,Ru=e.isSuspenseInstancePending,no=e.isSuspenseInstanceFallback,zg=e.getSuspenseInstanceFallbackErrorDetails,jg=e.registerSuspenseInstanceRetry,zi=e.getNextHydratableSibling,Bg=e.getFirstHydratableChild,Vg=e.getFirstHydratableChildWithinContainer,Wg=e.getFirstHydratableChildWithinSuspenseInstance,Hg=e.hydrateInstance,Yg=e.hydrateTextInstance,qg=e.hydrateSuspenseInstance,Kg=e.getNextHydratableInstanceAfterSuspenseInstance,Xg=e.commitHydratedContainer,Qg=e.commitHydratedSuspenseInstance,Jg=e.clearSuspenseBoundary,Zg=e.clearSuspenseBoundaryFromContainer,$g=e.shouldDeleteUnhydratedTailInstances,e1=e.didNotMatchHydratedContainerTextInstance,t1=e.didNotMatchHydratedTextInstance,ro;function ni(t){if(ro===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);ro=n&&n[1]||""}return`
`+ro+t}var io=!1;function ao(t,n){if(!t||io)return"";io=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(H){var c=H}Reflect.construct(t,[],n)}else{try{n.call()}catch(H){c=H}t.call(n.prototype)}else{try{throw Error()}catch(H){c=H}t()}}catch(H){if(H&&c&&typeof H.stack=="string"){for(var h=H.stack.split(`
`),p=c.stack.split(`
`),C=h.length-1,F=p.length-1;1<=C&&0<=F&&h[C]!==p[F];)F--;for(;1<=C&&0<=F;C--,F--)if(h[C]!==p[F]){if(C!==1||F!==1)do if(C--,F--,0>F||h[C]!==p[F]){var z=`
`+h[C].replace(" at new "," at ");return t.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",t.displayName)),z}while(1<=C&&0<=F);break}}}finally{io=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?ni(t):""}var n1=Object.prototype.hasOwnProperty,so=[],Tr=-1;function bn(t){return{current:t}}function Ie(t){0>Tr||(t.current=so[Tr],so[Tr]=null,Tr--)}function Ne(t,n){Tr++,so[Tr]=t.current,t.current=n}var Rn={},ut=bn(Rn),yt=bn(!1),Jn=Rn;function Ar(t,n){var o=t.type.contextTypes;if(!o)return Rn;var c=t.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===n)return c.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in o)h[p]=n[p];return c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=h),h}function _t(t){return t=t.childContextTypes,t!=null}function ji(){Ie(yt),Ie(ut)}function Ou(t,n,o){if(ut.current!==Rn)throw Error(u(168));Ne(ut,n),Ne(yt,o)}function Mu(t,n,o){var c=t.stateNode;if(n=n.childContextTypes,typeof c.getChildContext!="function")return o;c=c.getChildContext();for(var h in c)if(!(h in n))throw Error(u(108,k(t)||"Unknown",h));return l({},o,c)}function Bi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Rn,Jn=ut.current,Ne(ut,t),Ne(yt,yt.current),!0}function Fu(t,n,o){var c=t.stateNode;if(!c)throw Error(u(169));o?(t=Mu(t,n,Jn),c.__reactInternalMemoizedMergedChildContext=t,Ie(yt),Ie(ut),Ne(ut,t)):Ie(yt),Ne(yt,o)}var Bt=Math.clz32?Math.clz32:a1,r1=Math.log,i1=Math.LN2;function a1(t){return t>>>=0,t===0?32:31-(r1(t)/i1|0)|0}var Vi=64,Wi=4194304;function ri(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Hi(t,n){var o=t.pendingLanes;if(o===0)return 0;var c=0,h=t.suspendedLanes,p=t.pingedLanes,C=o&268435455;if(C!==0){var F=C&~h;F!==0?c=ri(F):(p&=C,p!==0&&(c=ri(p)))}else C=o&~h,C!==0?c=ri(C):p!==0&&(c=ri(p));if(c===0)return 0;if(n!==0&&n!==c&&!(n&h)&&(h=c&-c,p=n&-n,h>=p||h===16&&(p&4194240)!==0))return n;if(c&4&&(c|=o&16),n=t.entangledLanes,n!==0)for(t=t.entanglements,n&=c;0<n;)o=31-Bt(n),h=1<<o,c|=t[o],n&=~h;return c}function s1(t,n){switch(t){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function o1(t,n){for(var o=t.suspendedLanes,c=t.pingedLanes,h=t.expirationTimes,p=t.pendingLanes;0<p;){var C=31-Bt(p),F=1<<C,z=h[C];z===-1?(!(F&o)||F&c)&&(h[C]=s1(F,n)):z<=n&&(t.expiredLanes|=F),p&=~F}}function oo(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Nu(){var t=Vi;return Vi<<=1,!(Vi&4194240)&&(Vi=64),t}function lo(t){for(var n=[],o=0;31>o;o++)n.push(t);return n}function ii(t,n,o){t.pendingLanes|=n,n!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,n=31-Bt(n),t[n]=o}function l1(t,n){var o=t.pendingLanes&~n;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=n,t.mutableReadLanes&=n,t.entangledLanes&=n,n=t.entanglements;var c=t.eventTimes;for(t=t.expirationTimes;0<o;){var h=31-Bt(o),p=1<<h;n[h]=0,c[h]=-1,t[h]=-1,o&=~p}}function uo(t,n){var o=t.entangledLanes|=n;for(t=t.entanglements;o;){var c=31-Bt(o),h=1<<c;h&n|t[c]&n&&(t[c]|=n),o&=~h}}var _e=0;function Iu(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var co=a.unstable_scheduleCallback,Lu=a.unstable_cancelCallback,u1=a.unstable_shouldYield,c1=a.unstable_requestPaint,tt=a.unstable_now,ho=a.unstable_ImmediatePriority,d1=a.unstable_UserBlockingPriority,go=a.unstable_NormalPriority,h1=a.unstable_IdlePriority,Yi=null,$t=null;function g1(t){if($t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(Yi,t,void 0,(t.current.flags&128)===128)}catch{}}function f1(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Vt=typeof Object.is=="function"?Object.is:f1,hn=null,qi=!1,fo=!1;function Du(t){hn===null?hn=[t]:hn.push(t)}function p1(t){qi=!0,Du(t)}function en(){if(!fo&&hn!==null){fo=!0;var t=0,n=_e;try{var o=hn;for(_e=1;t<o.length;t++){var c=o[t];do c=c(!0);while(c!==null)}hn=null,qi=!1}catch(h){throw hn!==null&&(hn=hn.slice(t+1)),co(ho,en),h}finally{_e=n,fo=!1}}return null}var kr=[],Er=0,Ki=null,Xi=0,Rt=[],Ot=0,Zn=null,gn=1,fn="";function $n(t,n){kr[Er++]=Xi,kr[Er++]=Ki,Ki=t,Xi=n}function Uu(t,n,o){Rt[Ot++]=gn,Rt[Ot++]=fn,Rt[Ot++]=Zn,Zn=t;var c=gn;t=fn;var h=32-Bt(c)-1;c&=~(1<<h),o+=1;var p=32-Bt(n)+h;if(30<p){var C=h-h%5;p=(c&(1<<C)-1).toString(32),c>>=C,h-=C,gn=1<<32-Bt(n)+h|o<<h|c,fn=p+t}else gn=1<<p|o<<h|c,fn=t}function po(t){t.return!==null&&($n(t,1),Uu(t,1,0))}function mo(t){for(;t===Ki;)Ki=kr[--Er],kr[Er]=null,Xi=kr[--Er],kr[Er]=null;for(;t===Zn;)Zn=Rt[--Ot],Rt[Ot]=null,fn=Rt[--Ot],Rt[Ot]=null,gn=Rt[--Ot],Rt[Ot]=null}var At=null,Mt=null,Ue=!1,ai=!1,Wt=null;function Gu(t,n){var o=Dt(5,null,null,0);o.elementType="DELETED",o.stateNode=n,o.return=t,n=t.deletions,n===null?(t.deletions=[o],t.flags|=16):n.push(o)}function zu(t,n){switch(t.tag){case 5:return n=Dg(n,t.type,t.pendingProps),n!==null?(t.stateNode=n,At=t,Mt=Bg(n),!0):!1;case 6:return n=Ug(n,t.pendingProps),n!==null?(t.stateNode=n,At=t,Mt=null,!0):!1;case 13:if(n=Gg(n),n!==null){var o=Zn!==null?{id:gn,overflow:fn}:null;return t.memoizedState={dehydrated:n,treeContext:o,retryLane:1073741824},o=Dt(18,null,null,0),o.stateNode=n,o.return=t,t.child=o,At=t,Mt=null,!0}return!1;default:return!1}}function vo(t){return(t.mode&1)!==0&&(t.flags&128)===0}function yo(t){if(Ue){var n=Mt;if(n){var o=n;if(!zu(t,n)){if(vo(t))throw Error(u(418));n=zi(o);var c=At;n&&zu(t,n)?Gu(c,o):(t.flags=t.flags&-4097|2,Ue=!1,At=t)}}else{if(vo(t))throw Error(u(418));t.flags=t.flags&-4097|2,Ue=!1,At=t}}}function ju(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;At=t}function Qi(t){if(!De||t!==At)return!1;if(!Ue)return ju(t),Ue=!0,!1;if(t.tag!==3&&(t.tag!==5||$g(t.type)&&!Tt(t.type,t.memoizedProps))){var n=Mt;if(n){if(vo(t))throw Bu(),Error(u(418));for(;n;)Gu(t,n),n=zi(n)}}if(ju(t),t.tag===13){if(!De)throw Error(u(316));if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(u(317));Mt=Kg(t)}else Mt=At?zi(t.stateNode):null;return!0}function Bu(){for(var t=Mt;t;)t=zi(t)}function Pr(){De&&(Mt=At=null,ai=Ue=!1)}function _o(t){Wt===null?Wt=[t]:Wt.push(t)}var m1=d.ReactCurrentBatchConfig;function Ji(t,n){if(Vt(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var o=Object.keys(t),c=Object.keys(n);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var h=o[c];if(!n1.call(n,h)||!Vt(t[h],n[h]))return!1}return!0}function v1(t){switch(t.tag){case 5:return ni(t.type);case 16:return ni("Lazy");case 13:return ni("Suspense");case 19:return ni("SuspenseList");case 0:case 2:case 15:return t=ao(t.type,!1),t;case 11:return t=ao(t.type.render,!1),t;case 1:return t=ao(t.type,!0),t;default:return""}}function Ht(t,n){if(t&&t.defaultProps){n=l({},n),t=t.defaultProps;for(var o in t)n[o]===void 0&&(n[o]=t[o]);return n}return n}var Zi=bn(null),$i=null,br=null,wo=null;function So(){wo=br=$i=null}function Vu(t,n,o){Te?(Ne(Zi,n._currentValue),n._currentValue=o):(Ne(Zi,n._currentValue2),n._currentValue2=o)}function xo(t){var n=Zi.current;Ie(Zi),Te?t._currentValue=n:t._currentValue2=n}function Co(t,n,o){for(;t!==null;){var c=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),t===o)break;t=t.return}}function Rr(t,n){$i=t,wo=br=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&n&&(wt=!0),t.firstContext=null)}function Ft(t){var n=Te?t._currentValue:t._currentValue2;if(wo!==t)if(t={context:t,memoizedValue:n,next:null},br===null){if($i===null)throw Error(u(308));br=t,$i.dependencies={lanes:0,firstContext:t}}else br=br.next=t;return n}var er=null;function To(t){er===null?er=[t]:er.push(t)}function Wu(t,n,o,c){var h=n.interleaved;return h===null?(o.next=o,To(n)):(o.next=h.next,h.next=o),n.interleaved=o,tn(t,c)}function tn(t,n){t.lanes|=n;var o=t.alternate;for(o!==null&&(o.lanes|=n),o=t,t=t.return;t!==null;)t.childLanes|=n,o=t.alternate,o!==null&&(o.childLanes|=n),o=t,t=t.return;return o.tag===3?o.stateNode:null}var On=!1;function Ao(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hu(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pn(t,n){return{eventTime:t,lane:n,tag:0,payload:null,callback:null,next:null}}function Mn(t,n,o){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,pe&2){var h=c.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),c.pending=n,tn(t,o)}return h=c.interleaved,h===null?(n.next=n,To(c)):(n.next=h.next,h.next=n),c.interleaved=n,tn(t,o)}function ea(t,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194240)!==0)){var c=n.lanes;c&=t.pendingLanes,o|=c,n.lanes=o,uo(t,o)}}function Yu(t,n){var o=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var h=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var C={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?h=p=C:p=p.next=C,o=o.next}while(o!==null);p===null?h=p=n:p=p.next=n}else h=p=n;o={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:c.shared,effects:c.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=n:t.next=n,o.lastBaseUpdate=n}function ta(t,n,o,c){var h=t.updateQueue;On=!1;var p=h.firstBaseUpdate,C=h.lastBaseUpdate,F=h.shared.pending;if(F!==null){h.shared.pending=null;var z=F,H=z.next;z.next=null,C===null?p=H:C.next=H,C=z;var $=t.alternate;$!==null&&($=$.updateQueue,F=$.lastBaseUpdate,F!==C&&(F===null?$.firstBaseUpdate=H:F.next=H,$.lastBaseUpdate=z))}if(p!==null){var le=h.baseState;C=0,$=H=z=null,F=p;do{var X=F.lane,Le=F.eventTime;if((c&X)===X){$!==null&&($=$.next={eventTime:Le,lane:0,tag:F.tag,payload:F.payload,callback:F.callback,next:null});e:{var Oe=t,Ct=F;switch(X=n,Le=o,Ct.tag){case 1:if(Oe=Ct.payload,typeof Oe=="function"){le=Oe.call(Le,le,X);break e}le=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=Ct.payload,X=typeof Oe=="function"?Oe.call(Le,le,X):Oe,X==null)break e;le=l({},le,X);break e;case 2:On=!0}}F.callback!==null&&F.lane!==0&&(t.flags|=64,X=h.effects,X===null?h.effects=[F]:X.push(F))}else Le={eventTime:Le,lane:X,tag:F.tag,payload:F.payload,callback:F.callback,next:null},$===null?(H=$=Le,z=le):$=$.next=Le,C|=X;if(F=F.next,F===null){if(F=h.shared.pending,F===null)break;X=F,F=X.next,X.next=null,h.lastBaseUpdate=X,h.shared.pending=null}}while(!0);if($===null&&(z=le),h.baseState=z,h.firstBaseUpdate=H,h.lastBaseUpdate=$,n=h.shared.interleaved,n!==null){h=n;do C|=h.lane,h=h.next;while(h!==n)}else p===null&&(h.shared.lanes=0);nr|=C,t.lanes=C,t.memoizedState=le}}function qu(t,n,o){if(t=n.effects,n.effects=null,t!==null)for(n=0;n<t.length;n++){var c=t[n],h=c.callback;if(h!==null){if(c.callback=null,c=o,typeof h!="function")throw Error(u(191,h));h.call(c)}}}var Ku=new i.Component().refs;function ko(t,n,o,c){n=t.memoizedState,o=o(c,n),o=o==null?n:l({},n,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var na={isMounted:function(t){return(t=t._reactInternals)?D(t)===t:!1},enqueueSetState:function(t,n,o){t=t._reactInternals;var c=gt(),h=In(t),p=pn(c,h);p.payload=n,o!=null&&(p.callback=o),n=Mn(t,p,h),n!==null&&(Lt(n,t,h,c),ea(n,t,h))},enqueueReplaceState:function(t,n,o){t=t._reactInternals;var c=gt(),h=In(t),p=pn(c,h);p.tag=1,p.payload=n,o!=null&&(p.callback=o),n=Mn(t,p,h),n!==null&&(Lt(n,t,h,c),ea(n,t,h))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var o=gt(),c=In(t),h=pn(o,c);h.tag=2,n!=null&&(h.callback=n),n=Mn(t,h,c),n!==null&&(Lt(n,t,c,o),ea(n,t,c))}};function Xu(t,n,o,c,h,p,C){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,p,C):n.prototype&&n.prototype.isPureReactComponent?!Ji(o,c)||!Ji(h,p):!0}function Qu(t,n,o){var c=!1,h=Rn,p=n.contextType;return typeof p=="object"&&p!==null?p=Ft(p):(h=_t(n)?Jn:ut.current,c=n.contextTypes,p=(c=c!=null)?Ar(t,h):Rn),n=new n(o,p),t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=na,t.stateNode=n,n._reactInternals=t,c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=p),n}function Ju(t,n,o,c){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,c),n.state!==t&&na.enqueueReplaceState(n,n.state,null)}function Eo(t,n,o,c){var h=t.stateNode;h.props=o,h.state=t.memoizedState,h.refs=Ku,Ao(t);var p=n.contextType;typeof p=="object"&&p!==null?h.context=Ft(p):(p=_t(n)?Jn:ut.current,h.context=Ar(t,p)),h.state=t.memoizedState,p=n.getDerivedStateFromProps,typeof p=="function"&&(ko(t,n,p,o),h.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(n=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),n!==h.state&&na.enqueueReplaceState(h,h.state,null),ta(t,o,h,c),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function si(t,n,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(u(309));var c=o.stateNode}if(!c)throw Error(u(147,t));var h=c,p=""+t;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===p?n.ref:(n=function(C){var F=h.refs;F===Ku&&(F=h.refs={}),C===null?delete F[p]:F[p]=C},n._stringRef=p,n)}if(typeof t!="string")throw Error(u(284));if(!o._owner)throw Error(u(290,t))}return t}function ra(t,n){throw t=Object.prototype.toString.call(n),Error(u(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t))}function Zu(t){var n=t._init;return n(t._payload)}function $u(t){function n(G,I){if(t){var j=G.deletions;j===null?(G.deletions=[I],G.flags|=16):j.push(I)}}function o(G,I){if(!t)return null;for(;I!==null;)n(G,I),I=I.sibling;return null}function c(G,I){for(G=new Map;I!==null;)I.key!==null?G.set(I.key,I):G.set(I.index,I),I=I.sibling;return G}function h(G,I){return G=Dn(G,I),G.index=0,G.sibling=null,G}function p(G,I,j){return G.index=j,t?(j=G.alternate,j!==null?(j=j.index,j<I?(G.flags|=2,I):j):(G.flags|=2,I)):(G.flags|=1048576,I)}function C(G){return t&&G.alternate===null&&(G.flags|=2),G}function F(G,I,j,Q){return I===null||I.tag!==6?(I=fl(j,G.mode,Q),I.return=G,I):(I=h(I,j),I.return=G,I)}function z(G,I,j,Q){var ae=j.type;return ae===v?$(G,I,j.props.children,Q,j.key):I!==null&&(I.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===m&&Zu(ae)===I.type)?(Q=h(I,j.props),Q.ref=si(G,I,j),Q.return=G,Q):(Q=ba(j.type,j.key,j.props,null,G.mode,Q),Q.ref=si(G,I,j),Q.return=G,Q)}function H(G,I,j,Q){return I===null||I.tag!==4||I.stateNode.containerInfo!==j.containerInfo||I.stateNode.implementation!==j.implementation?(I=pl(j,G.mode,Q),I.return=G,I):(I=h(I,j.children||[]),I.return=G,I)}function $(G,I,j,Q,ae){return I===null||I.tag!==7?(I=sr(j,G.mode,Q,ae),I.return=G,I):(I=h(I,j),I.return=G,I)}function le(G,I,j){if(typeof I=="string"&&I!==""||typeof I=="number")return I=fl(""+I,G.mode,j),I.return=G,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case g:return j=ba(I.type,I.key,I.props,null,G.mode,j),j.ref=si(G,null,I),j.return=G,j;case f:return I=pl(I,G.mode,j),I.return=G,I;case m:var Q=I._init;return le(G,Q(I._payload),j)}if(K(I)||E(I))return I=sr(I,G.mode,j,null),I.return=G,I;ra(G,I)}return null}function X(G,I,j,Q){var ae=I!==null?I.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return ae!==null?null:F(G,I,""+j,Q);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case g:return j.key===ae?z(G,I,j,Q):null;case f:return j.key===ae?H(G,I,j,Q):null;case m:return ae=j._init,X(G,I,ae(j._payload),Q)}if(K(j)||E(j))return ae!==null?null:$(G,I,j,Q,null);ra(G,j)}return null}function Le(G,I,j,Q,ae){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return G=G.get(j)||null,F(I,G,""+Q,ae);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case g:return G=G.get(Q.key===null?j:Q.key)||null,z(I,G,Q,ae);case f:return G=G.get(Q.key===null?j:Q.key)||null,H(I,G,Q,ae);case m:var de=Q._init;return Le(G,I,j,de(Q._payload),ae)}if(K(Q)||E(Q))return G=G.get(j)||null,$(I,G,Q,ae,null);ra(I,Q)}return null}function Oe(G,I,j,Q){for(var ae=null,de=null,ue=I,we=I=0,it=null;ue!==null&&we<j.length;we++){ue.index>we?(it=ue,ue=null):it=ue.sibling;var Se=X(G,ue,j[we],Q);if(Se===null){ue===null&&(ue=it);break}t&&ue&&Se.alternate===null&&n(G,ue),I=p(Se,I,we),de===null?ae=Se:de.sibling=Se,de=Se,ue=it}if(we===j.length)return o(G,ue),Ue&&$n(G,we),ae;if(ue===null){for(;we<j.length;we++)ue=le(G,j[we],Q),ue!==null&&(I=p(ue,I,we),de===null?ae=ue:de.sibling=ue,de=ue);return Ue&&$n(G,we),ae}for(ue=c(G,ue);we<j.length;we++)it=Le(ue,G,we,j[we],Q),it!==null&&(t&&it.alternate!==null&&ue.delete(it.key===null?we:it.key),I=p(it,I,we),de===null?ae=it:de.sibling=it,de=it);return t&&ue.forEach(function(Un){return n(G,Un)}),Ue&&$n(G,we),ae}function Ct(G,I,j,Q){var ae=E(j);if(typeof ae!="function")throw Error(u(150));if(j=ae.call(j),j==null)throw Error(u(151));for(var de=ae=null,ue=I,we=I=0,it=null,Se=j.next();ue!==null&&!Se.done;we++,Se=j.next()){ue.index>we?(it=ue,ue=null):it=ue.sibling;var Un=X(G,ue,Se.value,Q);if(Un===null){ue===null&&(ue=it);break}t&&ue&&Un.alternate===null&&n(G,ue),I=p(Un,I,we),de===null?ae=Un:de.sibling=Un,de=Un,ue=it}if(Se.done)return o(G,ue),Ue&&$n(G,we),ae;if(ue===null){for(;!Se.done;we++,Se=j.next())Se=le(G,Se.value,Q),Se!==null&&(I=p(Se,I,we),de===null?ae=Se:de.sibling=Se,de=Se);return Ue&&$n(G,we),ae}for(ue=c(G,ue);!Se.done;we++,Se=j.next())Se=Le(ue,G,we,Se.value,Q),Se!==null&&(t&&Se.alternate!==null&&ue.delete(Se.key===null?we:Se.key),I=p(Se,I,we),de===null?ae=Se:de.sibling=Se,de=Se);return t&&ue.forEach(function(q1){return n(G,q1)}),Ue&&$n(G,we),ae}function yn(G,I,j,Q){if(typeof j=="object"&&j!==null&&j.type===v&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case g:e:{for(var ae=j.key,de=I;de!==null;){if(de.key===ae){if(ae=j.type,ae===v){if(de.tag===7){o(G,de.sibling),I=h(de,j.props.children),I.return=G,G=I;break e}}else if(de.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===m&&Zu(ae)===de.type){o(G,de.sibling),I=h(de,j.props),I.ref=si(G,de,j),I.return=G,G=I;break e}o(G,de);break}else n(G,de);de=de.sibling}j.type===v?(I=sr(j.props.children,G.mode,Q,j.key),I.return=G,G=I):(Q=ba(j.type,j.key,j.props,null,G.mode,Q),Q.ref=si(G,I,j),Q.return=G,G=Q)}return C(G);case f:e:{for(de=j.key;I!==null;){if(I.key===de)if(I.tag===4&&I.stateNode.containerInfo===j.containerInfo&&I.stateNode.implementation===j.implementation){o(G,I.sibling),I=h(I,j.children||[]),I.return=G,G=I;break e}else{o(G,I);break}else n(G,I);I=I.sibling}I=pl(j,G.mode,Q),I.return=G,G=I}return C(G);case m:return de=j._init,yn(G,I,de(j._payload),Q)}if(K(j))return Oe(G,I,j,Q);if(E(j))return Ct(G,I,j,Q);ra(G,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,I!==null&&I.tag===6?(o(G,I.sibling),I=h(I,j),I.return=G,G=I):(o(G,I),I=fl(j,G.mode,Q),I.return=G,G=I),C(G)):o(G,I)}return yn}var Or=$u(!0),ec=$u(!1),oi={},Nt=bn(oi),li=bn(oi),Mr=bn(oi);function nn(t){if(t===oi)throw Error(u(174));return t}function Po(t,n){Ne(Mr,n),Ne(li,t),Ne(Nt,oi),t=fe(n),Ie(Nt),Ne(Nt,t)}function Fr(){Ie(Nt),Ie(li),Ie(Mr)}function tc(t){var n=nn(Mr.current),o=nn(Nt.current);n=me(o,t.type,n),o!==n&&(Ne(li,t),Ne(Nt,n))}function bo(t){li.current===t&&(Ie(Nt),Ie(li))}var je=bn(0);function ia(t){for(var n=t;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Ru(o)||no(o)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ro=[];function Oo(){for(var t=0;t<Ro.length;t++){var n=Ro[t];Te?n._workInProgressVersionPrimary=null:n._workInProgressVersionSecondary=null}Ro.length=0}var aa=d.ReactCurrentDispatcher,Mo=d.ReactCurrentBatchConfig,tr=0,Be=null,Xe=null,nt=null,sa=!1,ui=!1,ci=0,y1=0;function ct(){throw Error(u(321))}function Fo(t,n){if(n===null)return!1;for(var o=0;o<n.length&&o<t.length;o++)if(!Vt(t[o],n[o]))return!1;return!0}function No(t,n,o,c,h,p){if(tr=p,Be=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,aa.current=t===null||t.memoizedState===null?x1:C1,t=o(c,h),ui){p=0;do{if(ui=!1,ci=0,25<=p)throw Error(u(301));p+=1,nt=Xe=null,n.updateQueue=null,aa.current=T1,t=o(c,h)}while(ui)}if(aa.current=ua,n=Xe!==null&&Xe.next!==null,tr=0,nt=Xe=Be=null,sa=!1,n)throw Error(u(300));return t}function Io(){var t=ci!==0;return ci=0,t}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?Be.memoizedState=nt=t:nt=nt.next=t,nt}function It(){if(Xe===null){var t=Be.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var n=nt===null?Be.memoizedState:nt.next;if(n!==null)nt=n,Xe=t;else{if(t===null)throw Error(u(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},nt===null?Be.memoizedState=nt=t:nt=nt.next=t}return nt}function di(t,n){return typeof n=="function"?n(t):n}function Lo(t){var n=It(),o=n.queue;if(o===null)throw Error(u(311));o.lastRenderedReducer=t;var c=Xe,h=c.baseQueue,p=o.pending;if(p!==null){if(h!==null){var C=h.next;h.next=p.next,p.next=C}c.baseQueue=h=p,o.pending=null}if(h!==null){p=h.next,c=c.baseState;var F=C=null,z=null,H=p;do{var $=H.lane;if((tr&$)===$)z!==null&&(z=z.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),c=H.hasEagerState?H.eagerState:t(c,H.action);else{var le={lane:$,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};z===null?(F=z=le,C=c):z=z.next=le,Be.lanes|=$,nr|=$}H=H.next}while(H!==null&&H!==p);z===null?C=c:z.next=F,Vt(c,n.memoizedState)||(wt=!0),n.memoizedState=c,n.baseState=C,n.baseQueue=z,o.lastRenderedState=c}if(t=o.interleaved,t!==null){h=t;do p=h.lane,Be.lanes|=p,nr|=p,h=h.next;while(h!==t)}else h===null&&(o.lanes=0);return[n.memoizedState,o.dispatch]}function Do(t){var n=It(),o=n.queue;if(o===null)throw Error(u(311));o.lastRenderedReducer=t;var c=o.dispatch,h=o.pending,p=n.memoizedState;if(h!==null){o.pending=null;var C=h=h.next;do p=t(p,C.action),C=C.next;while(C!==h);Vt(p,n.memoizedState)||(wt=!0),n.memoizedState=p,n.baseQueue===null&&(n.baseState=p),o.lastRenderedState=p}return[p,c]}function nc(){}function rc(t,n){var o=Be,c=It(),h=n(),p=!Vt(c.memoizedState,h);if(p&&(c.memoizedState=h,wt=!0),c=c.queue,Uo(sc.bind(null,o,c,t),[t]),c.getSnapshot!==n||p||nt!==null&&nt.memoizedState.tag&1){if(o.flags|=2048,hi(9,ac.bind(null,o,c,h,n),void 0,null),rt===null)throw Error(u(349));tr&30||ic(o,n,h)}return h}function ic(t,n,o){t.flags|=16384,t={getSnapshot:n,value:o},n=Be.updateQueue,n===null?(n={lastEffect:null,stores:null},Be.updateQueue=n,n.stores=[t]):(o=n.stores,o===null?n.stores=[t]:o.push(t))}function ac(t,n,o,c){n.value=o,n.getSnapshot=c,oc(n)&&lc(t)}function sc(t,n,o){return o(function(){oc(n)&&lc(t)})}function oc(t){var n=t.getSnapshot;t=t.value;try{var o=n();return!Vt(t,o)}catch{return!0}}function lc(t){var n=tn(t,1);n!==null&&Lt(n,t,1,-1)}function uc(t){var n=rn();return typeof t=="function"&&(t=t()),n.memoizedState=n.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:di,lastRenderedState:t},n.queue=t,t=t.dispatch=S1.bind(null,Be,t),[n.memoizedState,t]}function hi(t,n,o,c){return t={tag:t,create:n,destroy:o,deps:c,next:null},n=Be.updateQueue,n===null?(n={lastEffect:null,stores:null},Be.updateQueue=n,n.lastEffect=t.next=t):(o=n.lastEffect,o===null?n.lastEffect=t.next=t:(c=o.next,o.next=t,t.next=c,n.lastEffect=t)),t}function cc(){return It().memoizedState}function oa(t,n,o,c){var h=rn();Be.flags|=t,h.memoizedState=hi(1|n,o,void 0,c===void 0?null:c)}function la(t,n,o,c){var h=It();c=c===void 0?null:c;var p=void 0;if(Xe!==null){var C=Xe.memoizedState;if(p=C.destroy,c!==null&&Fo(c,C.deps)){h.memoizedState=hi(n,o,p,c);return}}Be.flags|=t,h.memoizedState=hi(1|n,o,p,c)}function dc(t,n){return oa(8390656,8,t,n)}function Uo(t,n){return la(2048,8,t,n)}function hc(t,n){return la(4,2,t,n)}function gc(t,n){return la(4,4,t,n)}function fc(t,n){if(typeof n=="function")return t=t(),n(t),function(){n(null)};if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function pc(t,n,o){return o=o!=null?o.concat([t]):null,la(4,4,fc.bind(null,n,t),o)}function Go(){}function mc(t,n){var o=It();n=n===void 0?null:n;var c=o.memoizedState;return c!==null&&n!==null&&Fo(n,c[1])?c[0]:(o.memoizedState=[t,n],t)}function vc(t,n){var o=It();n=n===void 0?null:n;var c=o.memoizedState;return c!==null&&n!==null&&Fo(n,c[1])?c[0]:(t=t(),o.memoizedState=[t,n],t)}function yc(t,n,o){return tr&21?(Vt(o,n)||(o=Nu(),Be.lanes|=o,nr|=o,t.baseState=!0),n):(t.baseState&&(t.baseState=!1,wt=!0),t.memoizedState=o)}function _1(t,n){var o=_e;_e=o!==0&&4>o?o:4,t(!0);var c=Mo.transition;Mo.transition={};try{t(!1),n()}finally{_e=o,Mo.transition=c}}function _c(){return It().memoizedState}function w1(t,n,o){var c=In(t);if(o={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null},wc(t))Sc(n,o);else if(o=Wu(t,n,o,c),o!==null){var h=gt();Lt(o,t,c,h),xc(o,n,c)}}function S1(t,n,o){var c=In(t),h={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null};if(wc(t))Sc(n,h);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=n.lastRenderedReducer,p!==null))try{var C=n.lastRenderedState,F=p(C,o);if(h.hasEagerState=!0,h.eagerState=F,Vt(F,C)){var z=n.interleaved;z===null?(h.next=h,To(n)):(h.next=z.next,z.next=h),n.interleaved=h;return}}catch{}finally{}o=Wu(t,n,h,c),o!==null&&(h=gt(),Lt(o,t,c,h),xc(o,n,c))}}function wc(t){var n=t.alternate;return t===Be||n!==null&&n===Be}function Sc(t,n){ui=sa=!0;var o=t.pending;o===null?n.next=n:(n.next=o.next,o.next=n),t.pending=n}function xc(t,n,o){if(o&4194240){var c=n.lanes;c&=t.pendingLanes,o|=c,n.lanes=o,uo(t,o)}}var ua={readContext:Ft,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useInsertionEffect:ct,useLayoutEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useMutableSource:ct,useSyncExternalStore:ct,useId:ct,unstable_isNewReconciler:!1},x1={readContext:Ft,useCallback:function(t,n){return rn().memoizedState=[t,n===void 0?null:n],t},useContext:Ft,useEffect:dc,useImperativeHandle:function(t,n,o){return o=o!=null?o.concat([t]):null,oa(4194308,4,fc.bind(null,n,t),o)},useLayoutEffect:function(t,n){return oa(4194308,4,t,n)},useInsertionEffect:function(t,n){return oa(4,2,t,n)},useMemo:function(t,n){var o=rn();return n=n===void 0?null:n,t=t(),o.memoizedState=[t,n],t},useReducer:function(t,n,o){var c=rn();return n=o!==void 0?o(n):n,c.memoizedState=c.baseState=n,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:n},c.queue=t,t=t.dispatch=w1.bind(null,Be,t),[c.memoizedState,t]},useRef:function(t){var n=rn();return t={current:t},n.memoizedState=t},useState:uc,useDebugValue:Go,useDeferredValue:function(t){return rn().memoizedState=t},useTransition:function(){var t=uc(!1),n=t[0];return t=_1.bind(null,t[1]),rn().memoizedState=t,[n,t]},useMutableSource:function(){},useSyncExternalStore:function(t,n,o){var c=Be,h=rn();if(Ue){if(o===void 0)throw Error(u(407));o=o()}else{if(o=n(),rt===null)throw Error(u(349));tr&30||ic(c,n,o)}h.memoizedState=o;var p={value:o,getSnapshot:n};return h.queue=p,dc(sc.bind(null,c,p,t),[t]),c.flags|=2048,hi(9,ac.bind(null,c,p,o,n),void 0,null),o},useId:function(){var t=rn(),n=rt.identifierPrefix;if(Ue){var o=fn,c=gn;o=(c&~(1<<32-Bt(c)-1)).toString(32)+o,n=":"+n+"R"+o,o=ci++,0<o&&(n+="H"+o.toString(32)),n+=":"}else o=y1++,n=":"+n+"r"+o.toString(32)+":";return t.memoizedState=n},unstable_isNewReconciler:!1},C1={readContext:Ft,useCallback:mc,useContext:Ft,useEffect:Uo,useImperativeHandle:pc,useInsertionEffect:hc,useLayoutEffect:gc,useMemo:vc,useReducer:Lo,useRef:cc,useState:function(){return Lo(di)},useDebugValue:Go,useDeferredValue:function(t){var n=It();return yc(n,Xe.memoizedState,t)},useTransition:function(){var t=Lo(di)[0],n=It().memoizedState;return[t,n]},useMutableSource:nc,useSyncExternalStore:rc,useId:_c,unstable_isNewReconciler:!1},T1={readContext:Ft,useCallback:mc,useContext:Ft,useEffect:Uo,useImperativeHandle:pc,useInsertionEffect:hc,useLayoutEffect:gc,useMemo:vc,useReducer:Do,useRef:cc,useState:function(){return Do(di)},useDebugValue:Go,useDeferredValue:function(t){var n=It();return Xe===null?n.memoizedState=t:yc(n,Xe.memoizedState,t)},useTransition:function(){var t=Do(di)[0],n=It().memoizedState;return[t,n]},useMutableSource:nc,useSyncExternalStore:rc,useId:_c,unstable_isNewReconciler:!1};function Nr(t,n){try{var o="",c=n;do o+=v1(c),c=c.return;while(c);var h=o}catch(p){h=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:n,stack:h,digest:null}}function zo(t,n,o){return{value:t,source:null,stack:o??null,digest:n??null}}function jo(t,n){try{console.error(n.value)}catch(o){setTimeout(function(){throw o})}}var A1=typeof WeakMap=="function"?WeakMap:Map;function Cc(t,n,o){o=pn(-1,o),o.tag=3,o.payload={element:null};var c=n.value;return o.callback=function(){Ca||(Ca=!0,ol=c),jo(t,n)},o}function Tc(t,n,o){o=pn(-1,o),o.tag=3;var c=t.type.getDerivedStateFromError;if(typeof c=="function"){var h=n.value;o.payload=function(){return c(h)},o.callback=function(){jo(t,n)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){jo(t,n),typeof c!="function"&&(Fn===null?Fn=new Set([this]):Fn.add(this));var C=n.stack;this.componentDidCatch(n.value,{componentStack:C!==null?C:""})}),o}function Ac(t,n,o){var c=t.pingCache;if(c===null){c=t.pingCache=new A1;var h=new Set;c.set(n,h)}else h=c.get(n),h===void 0&&(h=new Set,c.set(n,h));h.has(o)||(h.add(o),t=G1.bind(null,t,n,o),n.then(t,t))}function kc(t){do{var n;if((n=t.tag===13)&&(n=t.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return t;t=t.return}while(t!==null);return null}function Ec(t,n,o,c,h){return t.mode&1?(t.flags|=65536,t.lanes=h,t):(t===n?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(n=pn(-1,1),n.tag=2,Mn(o,n,1))),o.lanes|=1),t)}var k1=d.ReactCurrentOwner,wt=!1;function mt(t,n,o,c){n.child=t===null?ec(n,null,o,c):Or(n,t.child,o,c)}function Pc(t,n,o,c,h){o=o.render;var p=n.ref;return Rr(n,h),c=No(t,n,o,c,p,h),o=Io(),t!==null&&!wt?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~h,mn(t,n,h)):(Ue&&o&&po(n),n.flags|=1,mt(t,n,c,h),n.child)}function bc(t,n,o,c,h){if(t===null){var p=o.type;return typeof p=="function"&&!gl(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(n.tag=15,n.type=p,Rc(t,n,p,c,h)):(t=ba(o.type,null,c,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(p=t.child,!(t.lanes&h)){var C=p.memoizedProps;if(o=o.compare,o=o!==null?o:Ji,o(C,c)&&t.ref===n.ref)return mn(t,n,h)}return n.flags|=1,t=Dn(p,c),t.ref=n.ref,t.return=n,n.child=t}function Rc(t,n,o,c,h){if(t!==null){var p=t.memoizedProps;if(Ji(p,c)&&t.ref===n.ref)if(wt=!1,n.pendingProps=c=p,(t.lanes&h)!==0)t.flags&131072&&(wt=!0);else return n.lanes=t.lanes,mn(t,n,h)}return Bo(t,n,o,c,h)}function Oc(t,n,o){var c=n.pendingProps,h=c.children,p=t!==null?t.memoizedState:null;if(c.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(Lr,kt),kt|=o;else{if(!(o&1073741824))return t=p!==null?p.baseLanes|o:o,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:t,cachePool:null,transitions:null},n.updateQueue=null,Ne(Lr,kt),kt|=t,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=p!==null?p.baseLanes:o,Ne(Lr,kt),kt|=c}else p!==null?(c=p.baseLanes|o,n.memoizedState=null):c=o,Ne(Lr,kt),kt|=c;return mt(t,n,h,o),n.child}function Mc(t,n){var o=n.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(n.flags|=512,n.flags|=2097152)}function Bo(t,n,o,c,h){var p=_t(o)?Jn:ut.current;return p=Ar(n,p),Rr(n,h),o=No(t,n,o,c,p,h),c=Io(),t!==null&&!wt?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~h,mn(t,n,h)):(Ue&&c&&po(n),n.flags|=1,mt(t,n,o,h),n.child)}function Fc(t,n,o,c,h){if(_t(o)){var p=!0;Bi(n)}else p=!1;if(Rr(n,h),n.stateNode===null)da(t,n),Qu(n,o,c),Eo(n,o,c,h),c=!0;else if(t===null){var C=n.stateNode,F=n.memoizedProps;C.props=F;var z=C.context,H=o.contextType;typeof H=="object"&&H!==null?H=Ft(H):(H=_t(o)?Jn:ut.current,H=Ar(n,H));var $=o.getDerivedStateFromProps,le=typeof $=="function"||typeof C.getSnapshotBeforeUpdate=="function";le||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(F!==c||z!==H)&&Ju(n,C,c,H),On=!1;var X=n.memoizedState;C.state=X,ta(n,c,C,h),z=n.memoizedState,F!==c||X!==z||yt.current||On?(typeof $=="function"&&(ko(n,o,$,c),z=n.memoizedState),(F=On||Xu(n,o,F,c,X,z,H))?(le||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(n.flags|=4194308)):(typeof C.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=z),C.props=c,C.state=z,C.context=H,c=F):(typeof C.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{C=n.stateNode,Hu(t,n),F=n.memoizedProps,H=n.type===n.elementType?F:Ht(n.type,F),C.props=H,le=n.pendingProps,X=C.context,z=o.contextType,typeof z=="object"&&z!==null?z=Ft(z):(z=_t(o)?Jn:ut.current,z=Ar(n,z));var Le=o.getDerivedStateFromProps;($=typeof Le=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(F!==le||X!==z)&&Ju(n,C,c,z),On=!1,X=n.memoizedState,C.state=X,ta(n,c,C,h);var Oe=n.memoizedState;F!==le||X!==Oe||yt.current||On?(typeof Le=="function"&&(ko(n,o,Le,c),Oe=n.memoizedState),(H=On||Xu(n,o,H,c,X,Oe,z)||!1)?($||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(c,Oe,z),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(c,Oe,z)),typeof C.componentDidUpdate=="function"&&(n.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof C.componentDidUpdate!="function"||F===t.memoizedProps&&X===t.memoizedState||(n.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||F===t.memoizedProps&&X===t.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=Oe),C.props=c,C.state=Oe,C.context=z,c=H):(typeof C.componentDidUpdate!="function"||F===t.memoizedProps&&X===t.memoizedState||(n.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||F===t.memoizedProps&&X===t.memoizedState||(n.flags|=1024),c=!1)}return Vo(t,n,o,c,p,h)}function Vo(t,n,o,c,h,p){Mc(t,n);var C=(n.flags&128)!==0;if(!c&&!C)return h&&Fu(n,o,!1),mn(t,n,p);c=n.stateNode,k1.current=n;var F=C&&typeof o.getDerivedStateFromError!="function"?null:c.render();return n.flags|=1,t!==null&&C?(n.child=Or(n,t.child,null,p),n.child=Or(n,null,F,p)):mt(t,n,F,p),n.memoizedState=c.state,h&&Fu(n,o,!0),n.child}function Nc(t){var n=t.stateNode;n.pendingContext?Ou(t,n.pendingContext,n.pendingContext!==n.context):n.context&&Ou(t,n.context,!1),Po(t,n.containerInfo)}function Ic(t,n,o,c,h){return Pr(),_o(h),n.flags|=256,mt(t,n,o,c),n.child}var Wo={dehydrated:null,treeContext:null,retryLane:0};function Ho(t){return{baseLanes:t,cachePool:null,transitions:null}}function Lc(t,n,o){var c=n.pendingProps,h=je.current,p=!1,C=(n.flags&128)!==0,F;if((F=C)||(F=t!==null&&t.memoizedState===null?!1:(h&2)!==0),F?(p=!0,n.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),Ne(je,h&1),t===null)return yo(n),t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(n.mode&1?no(t)?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(C=c.children,t=c.fallback,p?(c=n.mode,p=n.child,C={mode:"hidden",children:C},!(c&1)&&p!==null?(p.childLanes=0,p.pendingProps=C):p=Ra(C,c,0,null),t=sr(t,c,o,null),p.return=n,t.return=n,p.sibling=t,n.child=p,n.child.memoizedState=Ho(o),n.memoizedState=Wo,t):Yo(n,C));if(h=t.memoizedState,h!==null&&(F=h.dehydrated,F!==null))return E1(t,n,C,c,F,h,o);if(p){p=c.fallback,C=n.mode,h=t.child,F=h.sibling;var z={mode:"hidden",children:c.children};return!(C&1)&&n.child!==h?(c=n.child,c.childLanes=0,c.pendingProps=z,n.deletions=null):(c=Dn(h,z),c.subtreeFlags=h.subtreeFlags&14680064),F!==null?p=Dn(F,p):(p=sr(p,C,o,null),p.flags|=2),p.return=n,c.return=n,c.sibling=p,n.child=c,c=p,p=n.child,C=t.child.memoizedState,C=C===null?Ho(o):{baseLanes:C.baseLanes|o,cachePool:null,transitions:C.transitions},p.memoizedState=C,p.childLanes=t.childLanes&~o,n.memoizedState=Wo,c}return p=t.child,t=p.sibling,c=Dn(p,{mode:"visible",children:c.children}),!(n.mode&1)&&(c.lanes=o),c.return=n,c.sibling=null,t!==null&&(o=n.deletions,o===null?(n.deletions=[t],n.flags|=16):o.push(t)),n.child=c,n.memoizedState=null,c}function Yo(t,n){return n=Ra({mode:"visible",children:n},t.mode,0,null),n.return=t,t.child=n}function ca(t,n,o,c){return c!==null&&_o(c),Or(n,t.child,null,o),t=Yo(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function E1(t,n,o,c,h,p,C){if(o)return n.flags&256?(n.flags&=-257,c=zo(Error(u(422))),ca(t,n,C,c)):n.memoizedState!==null?(n.child=t.child,n.flags|=128,null):(p=c.fallback,h=n.mode,c=Ra({mode:"visible",children:c.children},h,0,null),p=sr(p,h,C,null),p.flags|=2,c.return=n,p.return=n,c.sibling=p,n.child=c,n.mode&1&&Or(n,t.child,null,C),n.child.memoizedState=Ho(C),n.memoizedState=Wo,p);if(!(n.mode&1))return ca(t,n,C,null);if(no(h))return c=zg(h).digest,p=Error(u(419)),c=zo(p,c,void 0),ca(t,n,C,c);if(o=(C&t.childLanes)!==0,wt||o){if(c=rt,c!==null){switch(C&-C){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(c.suspendedLanes|C)?0:h,h!==0&&h!==p.retryLane&&(p.retryLane=h,tn(t,h),Lt(c,t,h,-1))}return hl(),c=zo(Error(u(421))),ca(t,n,C,c)}return Ru(h)?(n.flags|=128,n.child=t.child,n=z1.bind(null,t),jg(h,n),null):(t=p.treeContext,De&&(Mt=Wg(h),At=n,Ue=!0,Wt=null,ai=!1,t!==null&&(Rt[Ot++]=gn,Rt[Ot++]=fn,Rt[Ot++]=Zn,gn=t.id,fn=t.overflow,Zn=n)),n=Yo(n,c.children),n.flags|=4096,n)}function Dc(t,n,o){t.lanes|=n;var c=t.alternate;c!==null&&(c.lanes|=n),Co(t.return,n,o)}function qo(t,n,o,c,h){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:h}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=o,p.tailMode=h)}function Uc(t,n,o){var c=n.pendingProps,h=c.revealOrder,p=c.tail;if(mt(t,n,c.children,o),c=je.current,c&2)c=c&1|2,n.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Dc(t,o,n);else if(t.tag===19)Dc(t,o,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}if(Ne(je,c),!(n.mode&1))n.memoizedState=null;else switch(h){case"forwards":for(o=n.child,h=null;o!==null;)t=o.alternate,t!==null&&ia(t)===null&&(h=o),o=o.sibling;o=h,o===null?(h=n.child,n.child=null):(h=o.sibling,o.sibling=null),qo(n,!1,h,o,p);break;case"backwards":for(o=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&ia(t)===null){n.child=h;break}t=h.sibling,h.sibling=o,o=h,h=t}qo(n,!0,o,null,p);break;case"together":qo(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function da(t,n){!(n.mode&1)&&t!==null&&(t.alternate=null,n.alternate=null,n.flags|=2)}function mn(t,n,o){if(t!==null&&(n.dependencies=t.dependencies),nr|=n.lanes,!(o&n.childLanes))return null;if(t!==null&&n.child!==t.child)throw Error(u(153));if(n.child!==null){for(t=n.child,o=Dn(t,t.pendingProps),n.child=o,o.return=n;t.sibling!==null;)t=t.sibling,o=o.sibling=Dn(t,t.pendingProps),o.return=n;o.sibling=null}return n.child}function P1(t,n,o){switch(n.tag){case 3:Nc(n),Pr();break;case 5:tc(n);break;case 1:_t(n.type)&&Bi(n);break;case 4:Po(n,n.stateNode.containerInfo);break;case 10:Vu(n,n.type._context,n.memoizedProps.value);break;case 13:var c=n.memoizedState;if(c!==null)return c.dehydrated!==null?(Ne(je,je.current&1),n.flags|=128,null):o&n.child.childLanes?Lc(t,n,o):(Ne(je,je.current&1),t=mn(t,n,o),t!==null?t.sibling:null);Ne(je,je.current&1);break;case 19:if(c=(o&n.childLanes)!==0,t.flags&128){if(c)return Uc(t,n,o);n.flags|=128}var h=n.memoizedState;if(h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ne(je,je.current),c)break;return null;case 22:case 23:return n.lanes=0,Oc(t,n,o)}return mn(t,n,o)}function an(t){t.flags|=4}function Gc(t,n){if(t!==null&&t.child===n.child)return!0;if(n.flags&16)return!1;for(t=n.child;t!==null;){if(t.flags&12854||t.subtreeFlags&12854)return!1;t=t.sibling}return!0}var gi,fi,ha,ga;if(ce)gi=function(t,n){for(var o=n.child;o!==null;){if(o.tag===5||o.tag===6)ye(t,o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},fi=function(){},ha=function(t,n,o,c,h){if(t=t.memoizedProps,t!==c){var p=n.stateNode,C=nn(Nt.current);o=Ce(p,o,t,c,h,C),(n.updateQueue=o)&&an(n)}},ga=function(t,n,o,c){o!==c&&an(n)};else if(Fe){gi=function(t,n,o,c){for(var h=n.child;h!==null;){if(h.tag===5){var p=h.stateNode;o&&c&&(p=Pu(p,h.type,h.memoizedProps,h)),ye(t,p)}else if(h.tag===6)p=h.stateNode,o&&c&&(p=bu(p,h.memoizedProps,h)),ye(t,p);else if(h.tag!==4){if(h.tag===22&&h.memoizedState!==null)p=h.child,p!==null&&(p.return=h),gi(t,h,!0,!0);else if(h.child!==null){h.child.return=h,h=h.child;continue}}if(h===n)break;for(;h.sibling===null;){if(h.return===null||h.return===n)return;h=h.return}h.sibling.return=h.return,h=h.sibling}};var zc=function(t,n,o,c){for(var h=n.child;h!==null;){if(h.tag===5){var p=h.stateNode;o&&c&&(p=Pu(p,h.type,h.memoizedProps,h)),Eu(t,p)}else if(h.tag===6)p=h.stateNode,o&&c&&(p=bu(p,h.memoizedProps,h)),Eu(t,p);else if(h.tag!==4){if(h.tag===22&&h.memoizedState!==null)p=h.child,p!==null&&(p.return=h),zc(t,h,!0,!0);else if(h.child!==null){h.child.return=h,h=h.child;continue}}if(h===n)break;for(;h.sibling===null;){if(h.return===null||h.return===n)return;h=h.return}h.sibling.return=h.return,h=h.sibling}};fi=function(t,n){var o=n.stateNode;if(!Gc(t,n)){t=o.containerInfo;var c=ku(t);zc(c,n,!1,!1),o.pendingChildren=c,an(n),Lg(t,c)}},ha=function(t,n,o,c,h){var p=t.stateNode,C=t.memoizedProps;if((t=Gc(t,n))&&C===c)n.stateNode=p;else{var F=n.stateNode,z=nn(Nt.current),H=null;C!==c&&(H=Ce(F,o,C,c,h,z)),t&&H===null?n.stateNode=p:(p=Ig(p,H,o,C,c,n,t,F),Ee(p,o,c,h,z)&&an(n),n.stateNode=p,t?an(n):gi(p,n,!1,!1))}},ga=function(t,n,o,c){o!==c?(t=nn(Mr.current),o=nn(Nt.current),n.stateNode=lt(c,t,o,n),an(n)):n.stateNode=t.stateNode}}else fi=function(){},ha=function(){},ga=function(){};function pi(t,n){if(!Ue)switch(t.tailMode){case"hidden":n=t.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function dt(t){var n=t.alternate!==null&&t.alternate.child===t.child,o=0,c=0;if(n)for(var h=t.child;h!==null;)o|=h.lanes|h.childLanes,c|=h.subtreeFlags&14680064,c|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)o|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=c,t.childLanes=o,n}function b1(t,n,o){var c=n.pendingProps;switch(mo(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(n),null;case 1:return _t(n.type)&&ji(),dt(n),null;case 3:return o=n.stateNode,Fr(),Ie(yt),Ie(ut),Oo(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(Qi(n)?an(n):t===null||t.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Wt!==null&&(cl(Wt),Wt=null))),fi(t,n),dt(n),null;case 5:bo(n),o=nn(Mr.current);var h=n.type;if(t!==null&&n.stateNode!=null)ha(t,n,h,c,o),t.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!c){if(n.stateNode===null)throw Error(u(166));return dt(n),null}if(t=nn(Nt.current),Qi(n)){if(!De)throw Error(u(175));t=Hg(n.stateNode,n.type,n.memoizedProps,o,t,n,!ai),n.updateQueue=t,t!==null&&an(n)}else{var p=se(h,c,o,t,n);gi(p,n,!1,!1),n.stateNode=p,Ee(p,h,c,o,t)&&an(n)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return dt(n),null;case 6:if(t&&n.stateNode!=null)ga(t,n,t.memoizedProps,c);else{if(typeof c!="string"&&n.stateNode===null)throw Error(u(166));if(t=nn(Mr.current),o=nn(Nt.current),Qi(n)){if(!De)throw Error(u(176));if(t=n.stateNode,o=n.memoizedProps,(c=Yg(t,o,n,!ai))&&(h=At,h!==null))switch(h.tag){case 3:e1(h.stateNode.containerInfo,t,o,(h.mode&1)!==0);break;case 5:t1(h.type,h.memoizedProps,h.stateNode,t,o,(h.mode&1)!==0)}c&&an(n)}else n.stateNode=lt(c,t,o,n)}return dt(n),null;case 13:if(Ie(je),c=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ue&&Mt!==null&&n.mode&1&&!(n.flags&128))Bu(),Pr(),n.flags|=98560,h=!1;else if(h=Qi(n),c!==null&&c.dehydrated!==null){if(t===null){if(!h)throw Error(u(318));if(!De)throw Error(u(344));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(u(317));qg(h,n)}else Pr(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;dt(n),h=!1}else Wt!==null&&(cl(Wt),Wt=null),h=!0;if(!h)return n.flags&65536?n:null}return n.flags&128?(n.lanes=o,n):(o=c!==null,o!==(t!==null&&t.memoizedState!==null)&&o&&(n.child.flags|=8192,n.mode&1&&(t===null||je.current&1?Qe===0&&(Qe=3):hl())),n.updateQueue!==null&&(n.flags|=4),dt(n),null);case 4:return Fr(),fi(t,n),t===null&&Re(n.stateNode.containerInfo),dt(n),null;case 10:return xo(n.type._context),dt(n),null;case 17:return _t(n.type)&&ji(),dt(n),null;case 19:if(Ie(je),h=n.memoizedState,h===null)return dt(n),null;if(c=(n.flags&128)!==0,p=h.rendering,p===null)if(c)pi(h,!1);else{if(Qe!==0||t!==null&&t.flags&128)for(t=n.child;t!==null;){if(p=ia(t),p!==null){for(n.flags|=128,pi(h,!1),t=p.updateQueue,t!==null&&(n.updateQueue=t,n.flags|=4),n.subtreeFlags=0,t=o,o=n.child;o!==null;)c=o,h=t,c.flags&=14680066,p=c.alternate,p===null?(c.childLanes=0,c.lanes=h,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=p.childLanes,c.lanes=p.lanes,c.child=p.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=p.memoizedProps,c.memoizedState=p.memoizedState,c.updateQueue=p.updateQueue,c.type=p.type,h=p.dependencies,c.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),o=o.sibling;return Ne(je,je.current&1|2),n.child}t=t.sibling}h.tail!==null&&tt()>sl&&(n.flags|=128,c=!0,pi(h,!1),n.lanes=4194304)}else{if(!c)if(t=ia(p),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,t!==null&&(n.updateQueue=t,n.flags|=4),pi(h,!0),h.tail===null&&h.tailMode==="hidden"&&!p.alternate&&!Ue)return dt(n),null}else 2*tt()-h.renderingStartTime>sl&&o!==1073741824&&(n.flags|=128,c=!0,pi(h,!1),n.lanes=4194304);h.isBackwards?(p.sibling=n.child,n.child=p):(t=h.last,t!==null?t.sibling=p:n.child=p,h.last=p)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=tt(),n.sibling=null,t=je.current,Ne(je,c?t&1|2:t&1),n):(dt(n),null);case 22:case 23:return dl(),o=n.memoizedState!==null,t!==null&&t.memoizedState!==null!==o&&(n.flags|=8192),o&&n.mode&1?kt&1073741824&&(dt(n),ce&&n.subtreeFlags&6&&(n.flags|=8192)):dt(n),null;case 24:return null;case 25:return null}throw Error(u(156,n.tag))}function R1(t,n){switch(mo(n),n.tag){case 1:return _t(n.type)&&ji(),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Fr(),Ie(yt),Ie(ut),Oo(),t=n.flags,t&65536&&!(t&128)?(n.flags=t&-65537|128,n):null;case 5:return bo(n),null;case 13:if(Ie(je),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(u(340));Pr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Ie(je),null;case 4:return Fr(),null;case 10:return xo(n.type._context),null;case 22:case 23:return dl(),null;case 24:return null;default:return null}}var fa=!1,ht=!1,O1=typeof WeakSet=="function"?WeakSet:Set,Z=null;function Ir(t,n){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(c){Ge(t,n,c)}else o.current=null}function Ko(t,n,o){try{o()}catch(c){Ge(t,n,c)}}var jc=!1;function M1(t,n){for(be(t.containerInfo),Z=n;Z!==null;)if(t=Z,n=t.child,(t.subtreeFlags&1028)!==0&&n!==null)n.return=t,Z=n;else for(;Z!==null;){t=Z;try{var o=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(o!==null){var c=o.memoizedProps,h=o.memoizedState,p=t.stateNode,C=p.getSnapshotBeforeUpdate(t.elementType===t.type?c:Ht(t.type,c),h);p.__reactInternalSnapshotBeforeUpdate=C}break;case 3:ce&&Ng(t.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(u(163))}}catch(F){Ge(t,t.return,F)}if(n=t.sibling,n!==null){n.return=t.return,Z=n;break}Z=t.return}return o=jc,jc=!1,o}function mi(t,n,o){var c=n.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&t)===t){var p=h.destroy;h.destroy=void 0,p!==void 0&&Ko(n,o,p)}h=h.next}while(h!==c)}}function pa(t,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&t)===t){var c=o.create;o.destroy=c()}o=o.next}while(o!==n)}}function Xo(t){var n=t.ref;if(n!==null){var o=t.stateNode;switch(t.tag){case 5:t=ne(o);break;default:t=o}typeof n=="function"?n(t):n.current=t}}function Bc(t){var n=t.alternate;n!==null&&(t.alternate=null,Bc(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&jt(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Vc(t){return t.tag===5||t.tag===3||t.tag===4}function Wc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Vc(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qo(t,n,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,n?Eg(o,t,n):xg(o,t);else if(c!==4&&(t=t.child,t!==null))for(Qo(t,n,o),t=t.sibling;t!==null;)Qo(t,n,o),t=t.sibling}function Jo(t,n,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,n?kg(o,t,n):Sg(o,t);else if(c!==4&&(t=t.child,t!==null))for(Jo(t,n,o),t=t.sibling;t!==null;)Jo(t,n,o),t=t.sibling}var st=null,Yt=!1;function sn(t,n,o){for(o=o.child;o!==null;)Zo(t,n,o),o=o.sibling}function Zo(t,n,o){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(Yi,o)}catch{}switch(o.tag){case 5:ht||Ir(o,n);case 6:if(ce){var c=st,h=Yt;st=null,sn(t,n,o),st=c,Yt=h,st!==null&&(Yt?bg(st,o.stateNode):Pg(st,o.stateNode))}else sn(t,n,o);break;case 18:ce&&st!==null&&(Yt?Zg(st,o.stateNode):Jg(st,o.stateNode));break;case 4:ce?(c=st,h=Yt,st=o.stateNode.containerInfo,Yt=!0,sn(t,n,o),st=c,Yt=h):(Fe&&(c=o.stateNode.containerInfo,h=ku(c),to(c,h)),sn(t,n,o));break;case 0:case 11:case 14:case 15:if(!ht&&(c=o.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){h=c=c.next;do{var p=h,C=p.destroy;p=p.tag,C!==void 0&&(p&2||p&4)&&Ko(o,n,C),h=h.next}while(h!==c)}sn(t,n,o);break;case 1:if(!ht&&(Ir(o,n),c=o.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=o.memoizedProps,c.state=o.memoizedState,c.componentWillUnmount()}catch(F){Ge(o,n,F)}sn(t,n,o);break;case 21:sn(t,n,o);break;case 22:o.mode&1?(ht=(c=ht)||o.memoizedState!==null,sn(t,n,o),ht=c):sn(t,n,o);break;default:sn(t,n,o)}}function Hc(t){var n=t.updateQueue;if(n!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new O1),n.forEach(function(c){var h=j1.bind(null,t,c);o.has(c)||(o.add(c),c.then(h,h))})}}function qt(t,n){var o=n.deletions;if(o!==null)for(var c=0;c<o.length;c++){var h=o[c];try{var p=t,C=n;if(ce){var F=C;e:for(;F!==null;){switch(F.tag){case 5:st=F.stateNode,Yt=!1;break e;case 3:st=F.stateNode.containerInfo,Yt=!0;break e;case 4:st=F.stateNode.containerInfo,Yt=!0;break e}F=F.return}if(st===null)throw Error(u(160));Zo(p,C,h),st=null,Yt=!1}else Zo(p,C,h);var z=h.alternate;z!==null&&(z.return=null),h.return=null}catch(H){Ge(h,n,H)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Yc(n,t),n=n.sibling}function Yc(t,n){var o=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(qt(n,t),on(t),c&4){try{mi(3,t,t.return),pa(3,t)}catch(X){Ge(t,t.return,X)}try{mi(5,t,t.return)}catch(X){Ge(t,t.return,X)}}break;case 1:qt(n,t),on(t),c&512&&o!==null&&Ir(o,o.return);break;case 5:if(qt(n,t),on(t),c&512&&o!==null&&Ir(o,o.return),ce){if(t.flags&32){var h=t.stateNode;try{Au(h)}catch(X){Ge(t,t.return,X)}}if(c&4&&(h=t.stateNode,h!=null)){var p=t.memoizedProps;if(o=o!==null?o.memoizedProps:p,c=t.type,n=t.updateQueue,t.updateQueue=null,n!==null)try{Ag(h,n,c,o,p,t)}catch(X){Ge(t,t.return,X)}}}break;case 6:if(qt(n,t),on(t),c&4&&ce){if(t.stateNode===null)throw Error(u(162));h=t.stateNode,p=t.memoizedProps,o=o!==null?o.memoizedProps:p;try{Cg(h,o,p)}catch(X){Ge(t,t.return,X)}}break;case 3:if(qt(n,t),on(t),c&4){if(ce&&De&&o!==null&&o.memoizedState.isDehydrated)try{Xg(n.containerInfo)}catch(X){Ge(t,t.return,X)}if(Fe){h=n.containerInfo,p=n.pendingChildren;try{to(h,p)}catch(X){Ge(t,t.return,X)}}}break;case 4:if(qt(n,t),on(t),c&4&&Fe){p=t.stateNode,h=p.containerInfo,p=p.pendingChildren;try{to(h,p)}catch(X){Ge(t,t.return,X)}}break;case 13:qt(n,t),on(t),h=t.child,h.flags&8192&&(p=h.memoizedState!==null,h.stateNode.isHidden=p,!p||h.alternate!==null&&h.alternate.memoizedState!==null||(al=tt())),c&4&&Hc(t);break;case 22:var C=o!==null&&o.memoizedState!==null;if(t.mode&1?(ht=(o=ht)||C,qt(n,t),ht=o):qt(n,t),on(t),c&8192){if(o=t.memoizedState!==null,(t.stateNode.isHidden=o)&&!C&&t.mode&1)for(Z=t,c=t.child;c!==null;){for(n=Z=c;Z!==null;){C=Z;var F=C.child;switch(C.tag){case 0:case 11:case 14:case 15:mi(4,C,C.return);break;case 1:Ir(C,C.return);var z=C.stateNode;if(typeof z.componentWillUnmount=="function"){var H=C,$=C.return;try{var le=H;z.props=le.memoizedProps,z.state=le.memoizedState,z.componentWillUnmount()}catch(X){Ge(H,$,X)}}break;case 5:Ir(C,C.return);break;case 22:if(C.memoizedState!==null){Xc(n);continue}}F!==null?(F.return=C,Z=F):Xc(n)}c=c.sibling}if(ce){e:if(c=null,ce)for(n=t;;){if(n.tag===5){if(c===null){c=n;try{h=n.stateNode,o?Rg(h):Mg(n.stateNode,n.memoizedProps)}catch(X){Ge(t,t.return,X)}}}else if(n.tag===6){if(c===null)try{p=n.stateNode,o?Og(p):Fg(p,n.memoizedProps)}catch(X){Ge(t,t.return,X)}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;c===n&&(c=null),n=n.return}c===n&&(c=null),n.sibling.return=n.return,n=n.sibling}}}break;case 19:qt(n,t),on(t),c&4&&Hc(t);break;case 21:break;default:qt(n,t),on(t)}}function on(t){var n=t.flags;if(n&2){try{if(ce){e:{for(var o=t.return;o!==null;){if(Vc(o)){var c=o;break e}o=o.return}throw Error(u(160))}switch(c.tag){case 5:var h=c.stateNode;c.flags&32&&(Au(h),c.flags&=-33);var p=Wc(t);Jo(t,p,h);break;case 3:case 4:var C=c.stateNode.containerInfo,F=Wc(t);Qo(t,F,C);break;default:throw Error(u(161))}}}catch(z){Ge(t,t.return,z)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function F1(t,n,o){Z=t,qc(t)}function qc(t,n,o){for(var c=(t.mode&1)!==0;Z!==null;){var h=Z,p=h.child;if(h.tag===22&&c){var C=h.memoizedState!==null||fa;if(!C){var F=h.alternate,z=F!==null&&F.memoizedState!==null||ht;F=fa;var H=ht;if(fa=C,(ht=z)&&!H)for(Z=h;Z!==null;)C=Z,z=C.child,C.tag===22&&C.memoizedState!==null?Qc(h):z!==null?(z.return=C,Z=z):Qc(h);for(;p!==null;)Z=p,qc(p),p=p.sibling;Z=h,fa=F,ht=H}Kc(t)}else h.subtreeFlags&8772&&p!==null?(p.return=h,Z=p):Kc(t)}}function Kc(t){for(;Z!==null;){var n=Z;if(n.flags&8772){var o=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:ht||pa(5,n);break;case 1:var c=n.stateNode;if(n.flags&4&&!ht)if(o===null)c.componentDidMount();else{var h=n.elementType===n.type?o.memoizedProps:Ht(n.type,o.memoizedProps);c.componentDidUpdate(h,o.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var p=n.updateQueue;p!==null&&qu(n,p,c);break;case 3:var C=n.updateQueue;if(C!==null){if(o=null,n.child!==null)switch(n.child.tag){case 5:o=ne(n.child.stateNode);break;case 1:o=n.child.stateNode}qu(n,C,o)}break;case 5:var F=n.stateNode;o===null&&n.flags&4&&Tg(F,n.type,n.memoizedProps,n);break;case 6:break;case 4:break;case 12:break;case 13:if(De&&n.memoizedState===null){var z=n.alternate;if(z!==null){var H=z.memoizedState;if(H!==null){var $=H.dehydrated;$!==null&&Qg($)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(u(163))}ht||n.flags&512&&Xo(n)}catch(le){Ge(n,n.return,le)}}if(n===t){Z=null;break}if(o=n.sibling,o!==null){o.return=n.return,Z=o;break}Z=n.return}}function Xc(t){for(;Z!==null;){var n=Z;if(n===t){Z=null;break}var o=n.sibling;if(o!==null){o.return=n.return,Z=o;break}Z=n.return}}function Qc(t){for(;Z!==null;){var n=Z;try{switch(n.tag){case 0:case 11:case 15:var o=n.return;try{pa(4,n)}catch(z){Ge(n,o,z)}break;case 1:var c=n.stateNode;if(typeof c.componentDidMount=="function"){var h=n.return;try{c.componentDidMount()}catch(z){Ge(n,h,z)}}var p=n.return;try{Xo(n)}catch(z){Ge(n,p,z)}break;case 5:var C=n.return;try{Xo(n)}catch(z){Ge(n,C,z)}}}catch(z){Ge(n,n.return,z)}if(n===t){Z=null;break}var F=n.sibling;if(F!==null){F.return=n.return,Z=F;break}Z=n.return}}var ma=0,va=1,ya=2,_a=3,wa=4;if(typeof Symbol=="function"&&Symbol.for){var vi=Symbol.for;ma=vi("selector.component"),va=vi("selector.has_pseudo_class"),ya=vi("selector.role"),_a=vi("selector.test_id"),wa=vi("selector.text")}function $o(t){var n=bt(t);if(n!=null){if(typeof n.memoizedProps["data-testname"]!="string")throw Error(u(364));return n}if(t=pg(t),t===null)throw Error(u(362));return t.stateNode.current}function el(t,n){switch(n.$$typeof){case ma:if(t.type===n.value)return!0;break;case va:e:{n=n.value,t=[t,0];for(var o=0;o<t.length;){var c=t[o++],h=t[o++],p=n[h];if(c.tag!==5||!ti(c)){for(;p!=null&&el(c,p);)h++,p=n[h];if(h===n.length){n=!0;break e}else for(c=c.child;c!==null;)t.push(c,h),c=c.sibling}}n=!1}return n;case ya:if(t.tag===5&&yg(t.stateNode,n.value))return!0;break;case wa:if((t.tag===5||t.tag===6)&&(t=vg(t),t!==null&&0<=t.indexOf(n.value)))return!0;break;case _a:if(t.tag===5&&(t=t.memoizedProps["data-testname"],typeof t=="string"&&t.toLowerCase()===n.value.toLowerCase()))return!0;break;default:throw Error(u(365))}return!1}function tl(t){switch(t.$$typeof){case ma:return"<"+(N(t.value)||"Unknown")+">";case va:return":has("+(tl(t)||"")+")";case ya:return'[role="'+t.value+'"]';case wa:return'"'+t.value+'"';case _a:return'[data-testname="'+t.value+'"]';default:throw Error(u(365))}}function Jc(t,n){var o=[];t=[t,0];for(var c=0;c<t.length;){var h=t[c++],p=t[c++],C=n[p];if(h.tag!==5||!ti(h)){for(;C!=null&&el(h,C);)p++,C=n[p];if(p===n.length)o.push(h);else for(h=h.child;h!==null;)t.push(h,p),h=h.sibling}}return o}function nl(t,n){if(!ei)throw Error(u(363));t=$o(t),t=Jc(t,n),n=[],t=Array.from(t);for(var o=0;o<t.length;){var c=t[o++];if(c.tag===5)ti(c)||n.push(c.stateNode);else for(c=c.child;c!==null;)t.push(c),c=c.sibling}return n}var N1=Math.ceil,Sa=d.ReactCurrentDispatcher,rl=d.ReactCurrentOwner,He=d.ReactCurrentBatchConfig,pe=0,rt=null,Ke=null,ot=0,kt=0,Lr=bn(0),Qe=0,yi=null,nr=0,xa=0,il=0,_i=null,St=null,al=0,sl=1/0,vn=null;function Dr(){sl=tt()+500}var Ca=!1,ol=null,Fn=null,Ta=!1,Nn=null,Aa=0,wi=0,ll=null,ka=-1,Ea=0;function gt(){return pe&6?tt():ka!==-1?ka:ka=tt()}function In(t){return t.mode&1?pe&2&&ot!==0?ot&-ot:m1.transition!==null?(Ea===0&&(Ea=Nu()),Ea):(t=_e,t!==0?t:En()):1}function Lt(t,n,o,c){if(50<wi)throw wi=0,ll=null,Error(u(185));ii(t,o,c),(!(pe&2)||t!==rt)&&(t===rt&&(!(pe&2)&&(xa|=o),Qe===4&&Ln(t,ot)),xt(t,c),o===1&&pe===0&&!(n.mode&1)&&(Dr(),qi&&en()))}function xt(t,n){var o=t.callbackNode;o1(t,n);var c=Hi(t,t===rt?ot:0);if(c===0)o!==null&&Lu(o),t.callbackNode=null,t.callbackPriority=0;else if(n=c&-c,t.callbackPriority!==n){if(o!=null&&Lu(o),n===1)t.tag===0?p1($c.bind(null,t)):Du($c.bind(null,t)),Pn?fg(function(){!(pe&6)&&en()}):co(ho,en),o=null;else{switch(Iu(c)){case 1:o=ho;break;case 4:o=d1;break;case 16:o=go;break;case 536870912:o=h1;break;default:o=go}o=ld(o,Zc.bind(null,t))}t.callbackPriority=n,t.callbackNode=o}}function Zc(t,n){if(ka=-1,Ea=0,pe&6)throw Error(u(327));var o=t.callbackNode;if(ar()&&t.callbackNode!==o)return null;var c=Hi(t,t===rt?ot:0);if(c===0)return null;if(c&30||c&t.expiredLanes||n)n=Pa(t,c);else{n=c;var h=pe;pe|=2;var p=nd();(rt!==t||ot!==n)&&(vn=null,Dr(),rr(t,n));do try{D1();break}catch(F){td(t,F)}while(!0);So(),Sa.current=p,pe=h,Ke!==null?n=0:(rt=null,ot=0,n=Qe)}if(n!==0){if(n===2&&(h=oo(t),h!==0&&(c=h,n=ul(t,h))),n===1)throw o=yi,rr(t,0),Ln(t,c),xt(t,tt()),o;if(n===6)Ln(t,c);else{if(h=t.current.alternate,!(c&30)&&!I1(h)&&(n=Pa(t,c),n===2&&(p=oo(t),p!==0&&(c=p,n=ul(t,p))),n===1))throw o=yi,rr(t,0),Ln(t,c),xt(t,tt()),o;switch(t.finishedWork=h,t.finishedLanes=c,n){case 0:case 1:throw Error(u(345));case 2:ir(t,St,vn);break;case 3:if(Ln(t,c),(c&130023424)===c&&(n=al+500-tt(),10<n)){if(Hi(t,0)!==0)break;if(h=t.suspendedLanes,(h&c)!==c){gt(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=L(ir.bind(null,t,St,vn),n);break}ir(t,St,vn);break;case 4:if(Ln(t,c),(c&4194240)===c)break;for(n=t.eventTimes,h=-1;0<c;){var C=31-Bt(c);p=1<<C,C=n[C],C>h&&(h=C),c&=~p}if(c=h,c=tt()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*N1(c/1960))-c,10<c){t.timeoutHandle=L(ir.bind(null,t,St,vn),c);break}ir(t,St,vn);break;case 5:ir(t,St,vn);break;default:throw Error(u(329))}}}return xt(t,tt()),t.callbackNode===o?Zc.bind(null,t):null}function ul(t,n){var o=_i;return t.current.memoizedState.isDehydrated&&(rr(t,n).flags|=256),t=Pa(t,n),t!==2&&(n=St,St=o,n!==null&&cl(n)),t}function cl(t){St===null?St=t:St.push.apply(St,t)}function I1(t){for(var n=t;;){if(n.flags&16384){var o=n.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var c=0;c<o.length;c++){var h=o[c],p=h.getSnapshot;h=h.value;try{if(!Vt(p(),h))return!1}catch{return!1}}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ln(t,n){for(n&=~il,n&=~xa,t.suspendedLanes|=n,t.pingedLanes&=~n,t=t.expirationTimes;0<n;){var o=31-Bt(n),c=1<<o;t[o]=-1,n&=~c}}function $c(t){if(pe&6)throw Error(u(327));ar();var n=Hi(t,0);if(!(n&1))return xt(t,tt()),null;var o=Pa(t,n);if(t.tag!==0&&o===2){var c=oo(t);c!==0&&(n=c,o=ul(t,c))}if(o===1)throw o=yi,rr(t,0),Ln(t,n),xt(t,tt()),o;if(o===6)throw Error(u(345));return t.finishedWork=t.current.alternate,t.finishedLanes=n,ir(t,St,vn),xt(t,tt()),null}function ed(t){Nn!==null&&Nn.tag===0&&!(pe&6)&&ar();var n=pe;pe|=1;var o=He.transition,c=_e;try{if(He.transition=null,_e=1,t)return t()}finally{_e=c,He.transition=o,pe=n,!(pe&6)&&en()}}function dl(){kt=Lr.current,Ie(Lr)}function rr(t,n){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==te&&(t.timeoutHandle=te,Y(o)),Ke!==null)for(o=Ke.return;o!==null;){var c=o;switch(mo(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&ji();break;case 3:Fr(),Ie(yt),Ie(ut),Oo();break;case 5:bo(c);break;case 4:Fr();break;case 13:Ie(je);break;case 19:Ie(je);break;case 10:xo(c.type._context);break;case 22:case 23:dl()}o=o.return}if(rt=t,Ke=t=Dn(t.current,null),ot=kt=n,Qe=0,yi=null,il=xa=nr=0,St=_i=null,er!==null){for(n=0;n<er.length;n++)if(o=er[n],c=o.interleaved,c!==null){o.interleaved=null;var h=c.next,p=o.pending;if(p!==null){var C=p.next;p.next=h,c.next=C}o.pending=c}er=null}return t}function td(t,n){do{var o=Ke;try{if(So(),aa.current=ua,sa){for(var c=Be.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}sa=!1}if(tr=0,nt=Xe=Be=null,ui=!1,ci=0,rl.current=null,o===null||o.return===null){Qe=1,yi=n,Ke=null;break}e:{var p=t,C=o.return,F=o,z=n;if(n=ot,F.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var H=z,$=F,le=$.tag;if(!($.mode&1)&&(le===0||le===11||le===15)){var X=$.alternate;X?($.updateQueue=X.updateQueue,$.memoizedState=X.memoizedState,$.lanes=X.lanes):($.updateQueue=null,$.memoizedState=null)}var Le=kc(C);if(Le!==null){Le.flags&=-257,Ec(Le,C,F,p,n),Le.mode&1&&Ac(p,H,n),n=Le,z=H;var Oe=n.updateQueue;if(Oe===null){var Ct=new Set;Ct.add(z),n.updateQueue=Ct}else Oe.add(z);break e}else{if(!(n&1)){Ac(p,H,n),hl();break e}z=Error(u(426))}}else if(Ue&&F.mode&1){var yn=kc(C);if(yn!==null){!(yn.flags&65536)&&(yn.flags|=256),Ec(yn,C,F,p,n),_o(Nr(z,F));break e}}p=z=Nr(z,F),Qe!==4&&(Qe=2),_i===null?_i=[p]:_i.push(p),p=C;do{switch(p.tag){case 3:p.flags|=65536,n&=-n,p.lanes|=n;var G=Cc(p,z,n);Yu(p,G);break e;case 1:F=z;var I=p.type,j=p.stateNode;if(!(p.flags&128)&&(typeof I.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Fn===null||!Fn.has(j)))){p.flags|=65536,n&=-n,p.lanes|=n;var Q=Tc(p,F,n);Yu(p,Q);break e}}p=p.return}while(p!==null)}id(o)}catch(ae){n=ae,Ke===o&&o!==null&&(Ke=o=o.return);continue}break}while(!0)}function nd(){var t=Sa.current;return Sa.current=ua,t===null?ua:t}function hl(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),rt===null||!(nr&268435455)&&!(xa&268435455)||Ln(rt,ot)}function Pa(t,n){var o=pe;pe|=2;var c=nd();(rt!==t||ot!==n)&&(vn=null,rr(t,n));do try{L1();break}catch(h){td(t,h)}while(!0);if(So(),pe=o,Sa.current=c,Ke!==null)throw Error(u(261));return rt=null,ot=0,Qe}function L1(){for(;Ke!==null;)rd(Ke)}function D1(){for(;Ke!==null&&!u1();)rd(Ke)}function rd(t){var n=od(t.alternate,t,kt);t.memoizedProps=t.pendingProps,n===null?id(t):Ke=n,rl.current=null}function id(t){var n=t;do{var o=n.alternate;if(t=n.return,n.flags&32768){if(o=R1(o,n),o!==null){o.flags&=32767,Ke=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Qe=6,Ke=null;return}}else if(o=b1(o,n,kt),o!==null){Ke=o;return}if(n=n.sibling,n!==null){Ke=n;return}Ke=n=t}while(n!==null);Qe===0&&(Qe=5)}function ir(t,n,o){var c=_e,h=He.transition;try{He.transition=null,_e=1,U1(t,n,o,c)}finally{He.transition=h,_e=c}return null}function U1(t,n,o,c){do ar();while(Nn!==null);if(pe&6)throw Error(u(327));o=t.finishedWork;var h=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(u(177));t.callbackNode=null,t.callbackPriority=0;var p=o.lanes|o.childLanes;if(l1(t,p),t===rt&&(Ke=rt=null,ot=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||Ta||(Ta=!0,ld(go,function(){return ar(),null})),p=(o.flags&15990)!==0,o.subtreeFlags&15990||p){p=He.transition,He.transition=null;var C=_e;_e=1;var F=pe;pe|=4,rl.current=null,M1(t,o),Yc(o,t),ie(t.containerInfo),t.current=o,F1(o),c1(),pe=F,_e=C,He.transition=p}else t.current=o;if(Ta&&(Ta=!1,Nn=t,Aa=h),p=t.pendingLanes,p===0&&(Fn=null),g1(o.stateNode),xt(t,tt()),n!==null)for(c=t.onRecoverableError,o=0;o<n.length;o++)h=n[o],c(h.value,{componentStack:h.stack,digest:h.digest});if(Ca)throw Ca=!1,t=ol,ol=null,t;return Aa&1&&t.tag!==0&&ar(),p=t.pendingLanes,p&1?t===ll?wi++:(wi=0,ll=t):wi=0,en(),null}function ar(){if(Nn!==null){var t=Iu(Aa),n=He.transition,o=_e;try{if(He.transition=null,_e=16>t?16:t,Nn===null)var c=!1;else{if(t=Nn,Nn=null,Aa=0,pe&6)throw Error(u(331));var h=pe;for(pe|=4,Z=t.current;Z!==null;){var p=Z,C=p.child;if(Z.flags&16){var F=p.deletions;if(F!==null){for(var z=0;z<F.length;z++){var H=F[z];for(Z=H;Z!==null;){var $=Z;switch($.tag){case 0:case 11:case 15:mi(8,$,p)}var le=$.child;if(le!==null)le.return=$,Z=le;else for(;Z!==null;){$=Z;var X=$.sibling,Le=$.return;if(Bc($),$===H){Z=null;break}if(X!==null){X.return=Le,Z=X;break}Z=Le}}}var Oe=p.alternate;if(Oe!==null){var Ct=Oe.child;if(Ct!==null){Oe.child=null;do{var yn=Ct.sibling;Ct.sibling=null,Ct=yn}while(Ct!==null)}}Z=p}}if(p.subtreeFlags&2064&&C!==null)C.return=p,Z=C;else e:for(;Z!==null;){if(p=Z,p.flags&2048)switch(p.tag){case 0:case 11:case 15:mi(9,p,p.return)}var G=p.sibling;if(G!==null){G.return=p.return,Z=G;break e}Z=p.return}}var I=t.current;for(Z=I;Z!==null;){C=Z;var j=C.child;if(C.subtreeFlags&2064&&j!==null)j.return=C,Z=j;else e:for(C=I;Z!==null;){if(F=Z,F.flags&2048)try{switch(F.tag){case 0:case 11:case 15:pa(9,F)}}catch(ae){Ge(F,F.return,ae)}if(F===C){Z=null;break e}var Q=F.sibling;if(Q!==null){Q.return=F.return,Z=Q;break e}Z=F.return}}if(pe=h,en(),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(Yi,t)}catch{}c=!0}return c}finally{_e=o,He.transition=n}}return!1}function ad(t,n,o){n=Nr(o,n),n=Cc(t,n,1),t=Mn(t,n,1),n=gt(),t!==null&&(ii(t,1,n),xt(t,n))}function Ge(t,n,o){if(t.tag===3)ad(t,t,o);else for(;n!==null;){if(n.tag===3){ad(n,t,o);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Fn===null||!Fn.has(c))){t=Nr(o,t),t=Tc(n,t,1),n=Mn(n,t,1),t=gt(),n!==null&&(ii(n,1,t),xt(n,t));break}}n=n.return}}function G1(t,n,o){var c=t.pingCache;c!==null&&c.delete(n),n=gt(),t.pingedLanes|=t.suspendedLanes&o,rt===t&&(ot&o)===o&&(Qe===4||Qe===3&&(ot&130023424)===ot&&500>tt()-al?rr(t,0):il|=o),xt(t,n)}function sd(t,n){n===0&&(t.mode&1?(n=Wi,Wi<<=1,!(Wi&130023424)&&(Wi=4194304)):n=1);var o=gt();t=tn(t,n),t!==null&&(ii(t,n,o),xt(t,o))}function z1(t){var n=t.memoizedState,o=0;n!==null&&(o=n.retryLane),sd(t,o)}function j1(t,n){var o=0;switch(t.tag){case 13:var c=t.stateNode,h=t.memoizedState;h!==null&&(o=h.retryLane);break;case 19:c=t.stateNode;break;default:throw Error(u(314))}c!==null&&c.delete(n),sd(t,o)}var od;od=function(t,n,o){if(t!==null)if(t.memoizedProps!==n.pendingProps||yt.current)wt=!0;else{if(!(t.lanes&o)&&!(n.flags&128))return wt=!1,P1(t,n,o);wt=!!(t.flags&131072)}else wt=!1,Ue&&n.flags&1048576&&Uu(n,Xi,n.index);switch(n.lanes=0,n.tag){case 2:var c=n.type;da(t,n),t=n.pendingProps;var h=Ar(n,ut.current);Rr(n,o),h=No(null,n,c,t,h,o);var p=Io();return n.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,_t(c)?(p=!0,Bi(n)):p=!1,n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Ao(n),h.updater=na,n.stateNode=h,h._reactInternals=n,Eo(n,c,t,o),n=Vo(null,n,c,!0,p,o)):(n.tag=0,Ue&&p&&po(n),mt(null,n,h,o),n=n.child),n;case 16:c=n.elementType;e:{switch(da(t,n),t=n.pendingProps,h=c._init,c=h(c._payload),n.type=c,h=n.tag=V1(c),t=Ht(c,t),h){case 0:n=Bo(null,n,c,t,o);break e;case 1:n=Fc(null,n,c,t,o);break e;case 11:n=Pc(null,n,c,t,o);break e;case 14:n=bc(null,n,c,Ht(c.type,t),o);break e}throw Error(u(306,c,""))}return n;case 0:return c=n.type,h=n.pendingProps,h=n.elementType===c?h:Ht(c,h),Bo(t,n,c,h,o);case 1:return c=n.type,h=n.pendingProps,h=n.elementType===c?h:Ht(c,h),Fc(t,n,c,h,o);case 3:e:{if(Nc(n),t===null)throw Error(u(387));c=n.pendingProps,p=n.memoizedState,h=p.element,Hu(t,n),ta(n,c,null,o);var C=n.memoizedState;if(c=C.element,De&&p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},n.updateQueue.baseState=p,n.memoizedState=p,n.flags&256){h=Nr(Error(u(423)),n),n=Ic(t,n,c,o,h);break e}else if(c!==h){h=Nr(Error(u(424)),n),n=Ic(t,n,c,o,h);break e}else for(De&&(Mt=Vg(n.stateNode.containerInfo),At=n,Ue=!0,Wt=null,ai=!1),o=ec(n,null,c,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Pr(),c===h){n=mn(t,n,o);break e}mt(t,n,c,o)}n=n.child}return n;case 5:return tc(n),t===null&&yo(n),c=n.type,h=n.pendingProps,p=t!==null?t.memoizedProps:null,C=h.children,Tt(c,h)?C=null:p!==null&&Tt(c,p)&&(n.flags|=32),Mc(t,n),mt(t,n,C,o),n.child;case 6:return t===null&&yo(n),null;case 13:return Lc(t,n,o);case 4:return Po(n,n.stateNode.containerInfo),c=n.pendingProps,t===null?n.child=Or(n,null,c,o):mt(t,n,c,o),n.child;case 11:return c=n.type,h=n.pendingProps,h=n.elementType===c?h:Ht(c,h),Pc(t,n,c,h,o);case 7:return mt(t,n,n.pendingProps,o),n.child;case 8:return mt(t,n,n.pendingProps.children,o),n.child;case 12:return mt(t,n,n.pendingProps.children,o),n.child;case 10:e:{if(c=n.type._context,h=n.pendingProps,p=n.memoizedProps,C=h.value,Vu(n,c,C),p!==null)if(Vt(p.value,C)){if(p.children===h.children&&!yt.current){n=mn(t,n,o);break e}}else for(p=n.child,p!==null&&(p.return=n);p!==null;){var F=p.dependencies;if(F!==null){C=p.child;for(var z=F.firstContext;z!==null;){if(z.context===c){if(p.tag===1){z=pn(-1,o&-o),z.tag=2;var H=p.updateQueue;if(H!==null){H=H.shared;var $=H.pending;$===null?z.next=z:(z.next=$.next,$.next=z),H.pending=z}}p.lanes|=o,z=p.alternate,z!==null&&(z.lanes|=o),Co(p.return,o,n),F.lanes|=o;break}z=z.next}}else if(p.tag===10)C=p.type===n.type?null:p.child;else if(p.tag===18){if(C=p.return,C===null)throw Error(u(341));C.lanes|=o,F=C.alternate,F!==null&&(F.lanes|=o),Co(C,o,n),C=p.sibling}else C=p.child;if(C!==null)C.return=p;else for(C=p;C!==null;){if(C===n){C=null;break}if(p=C.sibling,p!==null){p.return=C.return,C=p;break}C=C.return}p=C}mt(t,n,h.children,o),n=n.child}return n;case 9:return h=n.type,c=n.pendingProps.children,Rr(n,o),h=Ft(h),c=c(h),n.flags|=1,mt(t,n,c,o),n.child;case 14:return c=n.type,h=Ht(c,n.pendingProps),h=Ht(c.type,h),bc(t,n,c,h,o);case 15:return Rc(t,n,n.type,n.pendingProps,o);case 17:return c=n.type,h=n.pendingProps,h=n.elementType===c?h:Ht(c,h),da(t,n),n.tag=1,_t(c)?(t=!0,Bi(n)):t=!1,Rr(n,o),Qu(n,c,h),Eo(n,c,h,o),Vo(null,n,c,!0,t,o);case 19:return Uc(t,n,o);case 22:return Oc(t,n,o)}throw Error(u(156,n.tag))};function ld(t,n){return co(t,n)}function B1(t,n,o,c){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dt(t,n,o,c){return new B1(t,n,o,c)}function gl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function V1(t){if(typeof t=="function")return gl(t)?1:0;if(t!=null){if(t=t.$$typeof,t===A)return 11;if(t===M)return 14}return 2}function Dn(t,n){var o=t.alternate;return o===null?(o=Dt(t.tag,n,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=n,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,n=t.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function ba(t,n,o,c,h,p){var C=2;if(c=t,typeof t=="function")gl(t)&&(C=1);else if(typeof t=="string")C=5;else e:switch(t){case v:return sr(o.children,h,p,n);case w:C=8,h|=8;break;case x:return t=Dt(12,o,n,h|2),t.elementType=x,t.lanes=p,t;case P:return t=Dt(13,o,n,h),t.elementType=P,t.lanes=p,t;case R:return t=Dt(19,o,n,h),t.elementType=R,t.lanes=p,t;case S:return Ra(o,h,p,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case y:C=10;break e;case _:C=9;break e;case A:C=11;break e;case M:C=14;break e;case m:C=16,c=null;break e}throw Error(u(130,t==null?t:typeof t,""))}return n=Dt(C,o,n,h),n.elementType=t,n.type=c,n.lanes=p,n}function sr(t,n,o,c){return t=Dt(7,t,c,n),t.lanes=o,t}function Ra(t,n,o,c){return t=Dt(22,t,c,n),t.elementType=S,t.lanes=o,t.stateNode={isHidden:!1},t}function fl(t,n,o){return t=Dt(6,t,null,n),t.lanes=o,t}function pl(t,n,o){return n=Dt(4,t.children!==null?t.children:[],t.key,n),n.lanes=o,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function W1(t,n,o,c,h){this.tag=n,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=te,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lo(0),this.expirationTimes=lo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lo(0),this.identifierPrefix=c,this.onRecoverableError=h,De&&(this.mutableSourceEagerHydrationData=null)}function ud(t,n,o,c,h,p,C,F,z){return t=new W1(t,n,o,F,z),n===1?(n=1,p===!0&&(n|=8)):n=0,p=Dt(3,null,null,n),t.current=p,p.stateNode=t,p.memoizedState={element:c,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ao(p),t}function cd(t){if(!t)return Rn;t=t._reactInternals;e:{if(D(t)!==t||t.tag!==1)throw Error(u(170));var n=t;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(_t(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(u(171))}if(t.tag===1){var o=t.type;if(_t(o))return Mu(t,o,n)}return n}function dd(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(u(188)):(t=Object.keys(t).join(","),Error(u(268,t)));return t=W(n),t===null?null:t.stateNode}function hd(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<n?o:n}}function Oa(t,n){hd(t,n),(t=t.alternate)&&hd(t,n)}function H1(t){return t=W(t),t===null?null:t.stateNode}function Y1(){return null}return r.attemptContinuousHydration=function(t){if(t.tag===13){var n=tn(t,134217728);if(n!==null){var o=gt();Lt(n,t,134217728,o)}Oa(t,134217728)}},r.attemptDiscreteHydration=function(t){if(t.tag===13){var n=tn(t,1);if(n!==null){var o=gt();Lt(n,t,1,o)}Oa(t,1)}},r.attemptHydrationAtCurrentPriority=function(t){if(t.tag===13){var n=In(t),o=tn(t,n);if(o!==null){var c=gt();Lt(o,t,n,c)}Oa(t,n)}},r.attemptSynchronousHydration=function(t){switch(t.tag){case 3:var n=t.stateNode;if(n.current.memoizedState.isDehydrated){var o=ri(n.pendingLanes);o!==0&&(uo(n,o|1),xt(n,tt()),!(pe&6)&&(Dr(),en()))}break;case 13:ed(function(){var c=tn(t,1);if(c!==null){var h=gt();Lt(c,t,1,h)}}),Oa(t,1)}},r.batchedUpdates=function(t,n){var o=pe;pe|=1;try{return t(n)}finally{pe=o,pe===0&&(Dr(),qi&&en())}},r.createComponentSelector=function(t){return{$$typeof:ma,value:t}},r.createContainer=function(t,n,o,c,h,p,C){return ud(t,n,!1,null,o,c,h,p,C)},r.createHasPseudoClassSelector=function(t){return{$$typeof:va,value:t}},r.createHydrationContainer=function(t,n,o,c,h,p,C,F,z){return t=ud(o,c,!0,t,h,p,C,F,z),t.context=cd(null),o=t.current,c=gt(),h=In(o),p=pn(c,h),p.callback=n??null,Mn(o,p,h),t.current.lanes=h,ii(t,h,c),xt(t,c),t},r.createPortal=function(t,n,o){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:c==null?null:""+c,children:t,containerInfo:n,implementation:o}},r.createRoleSelector=function(t){return{$$typeof:ya,value:t}},r.createTestNameSelector=function(t){return{$$typeof:_a,value:t}},r.createTextSelector=function(t){return{$$typeof:wa,value:t}},r.deferredUpdates=function(t){var n=_e,o=He.transition;try{return He.transition=null,_e=16,t()}finally{_e=n,He.transition=o}},r.discreteUpdates=function(t,n,o,c,h){var p=_e,C=He.transition;try{return He.transition=null,_e=1,t(n,o,c,h)}finally{_e=p,He.transition=C,pe===0&&Dr()}},r.findAllNodes=nl,r.findBoundingRects=function(t,n){if(!ei)throw Error(u(363));n=nl(t,n),t=[];for(var o=0;o<n.length;o++)t.push(mg(n[o]));for(n=t.length-1;0<n;n--){o=t[n];for(var c=o.x,h=c+o.width,p=o.y,C=p+o.height,F=n-1;0<=F;F--)if(n!==F){var z=t[F],H=z.x,$=H+z.width,le=z.y,X=le+z.height;if(c>=H&&p>=le&&h<=$&&C<=X){t.splice(n,1);break}else if(c!==H||o.width!==z.width||X<p||le>C){if(!(p!==le||o.height!==z.height||$<c||H>h)){H>c&&(z.width+=H-c,z.x=c),$<h&&(z.width=h-H),t.splice(n,1);break}}else{le>p&&(z.height+=le-p,z.y=p),X<C&&(z.height=C-le),t.splice(n,1);break}}}return t},r.findHostInstance=dd,r.findHostInstanceWithNoPortals=function(t){return t=U(t),t=t!==null?q(t):null,t===null?null:t.stateNode},r.findHostInstanceWithWarning=function(t){return dd(t)},r.flushControlled=function(t){var n=pe;pe|=1;var o=He.transition,c=_e;try{He.transition=null,_e=1,t()}finally{_e=c,He.transition=o,pe=n,pe===0&&(Dr(),en())}},r.flushPassiveEffects=ar,r.flushSync=ed,r.focusWithin=function(t,n){if(!ei)throw Error(u(363));for(t=$o(t),n=Jc(t,n),n=Array.from(n),t=0;t<n.length;){var o=n[t++];if(!ti(o)){if(o.tag===5&&_g(o.stateNode))return!0;for(o=o.child;o!==null;)n.push(o),o=o.sibling}}return!1},r.getCurrentUpdatePriority=function(){return _e},r.getFindAllNodesFailureDescription=function(t,n){if(!ei)throw Error(u(363));var o=0,c=[];t=[$o(t),0];for(var h=0;h<t.length;){var p=t[h++],C=t[h++],F=n[C];if((p.tag!==5||!ti(p))&&(el(p,F)&&(c.push(tl(F)),C++,C>o&&(o=C)),C<n.length))for(p=p.child;p!==null;)t.push(p,C),p=p.sibling}if(o<n.length){for(t=[];o<n.length;o++)t.push(tl(n[o]));return`findAllNodes was able to match part of the selector:
  `+(c.join(" > ")+`

No matching component was found for:
  `)+t.join(" > ")}return null},r.getPublicRootInstance=function(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return ne(t.child.stateNode);default:return t.child.stateNode}},r.injectIntoDevTools=function(t){if(t={bundleType:t.bundleType,version:t.version,rendererPackageName:t.rendererPackageName,rendererConfig:t.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:d.ReactCurrentDispatcher,findHostInstanceByFiber:H1,findFiberByHostInstance:t.findFiberByHostInstance||Y1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")t=!1;else{var n=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(n.isDisabled||!n.supportsFiber)t=!0;else{try{Yi=n.inject(t),$t=n}catch{}t=!!n.checkDCE}}return t},r.isAlreadyRendering=function(){return!1},r.observeVisibleRects=function(t,n,o,c){if(!ei)throw Error(u(363));t=nl(t,n);var h=wg(t,o,c).disconnect;return{disconnect:function(){h()}}},r.registerMutableSourceForHydration=function(t,n){var o=n._getVersion;o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o)},r.runWithPriority=function(t,n){var o=_e;try{return _e=t,n()}finally{_e=o}},r.shouldError=function(){return null},r.shouldSuspend=function(){return!1},r.updateContainer=function(t,n,o,c){var h=n.current,p=gt(),C=In(h);return o=cd(o),n.context===null?n.context=o:n.pendingContext=o,n=pn(p,C),n.payload={element:t},c=c===void 0?null:c,c!==null&&(n.callback=c),t=Mn(h,n,C),t!==null&&(Lt(t,h,C,p),ea(t,h,C)),C},r};Z0.exports=U6;var G6=Z0.exports;const z6=Fi(G6);var $0={exports:{}},Cr={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Cr.ConcurrentRoot=1;Cr.ContinuousEventPriority=4;Cr.DefaultEventPriority=16;Cr.DiscreteEventPriority=1;Cr.IdleEventPriority=536870912;Cr.LegacyRoot=0;$0.exports=Cr;var eg=$0.exports;const _h={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let wh=!1,Sh=!1;const Cu=".react-konva-event",j6=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,B6=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,V6={};function Zs(s,e,r=V6){if(!wh&&"zIndex"in e&&(console.warn(B6),wh=!0),!Sh&&e.draggable){var i=e.x!==void 0||e.y!==void 0,a=e.onDragEnd||e.onDragMove;i&&!a&&(console.warn(j6),Sh=!0)}for(var l in r)if(!_h[l]){var u=l.slice(0,2)==="on",d=r[l]!==e[l];if(u&&d){var g=l.substr(2).toLowerCase();g.substr(0,7)==="content"&&(g="content"+g.substr(7,1).toUpperCase()+g.substr(8)),s.off(g,r[l])}var f=!e.hasOwnProperty(l);f&&s.setAttr(l,void 0)}var v=e._useStrictMode,w={},x=!1;const y={};for(var l in e)if(!_h[l]){var u=l.slice(0,2)==="on",_=r[l]!==e[l];if(u&&_){var g=l.substr(2).toLowerCase();g.substr(0,7)==="content"&&(g="content"+g.substr(7,1).toUpperCase()+g.substr(8)),e[l]&&(y[g]=e[l])}!u&&(e[l]!==r[l]||v&&e[l]!==s.getAttr(l))&&(x=!0,w[l]=e[l])}x&&(s.setAttrs(w),Qn(s));for(var g in y)s.on(g+Cu,y[g])}function Qn(s){if(!he.Konva.autoDrawEnabled){var e=s.getLayer()||s.getStage();e&&e.batchDraw()}}const tg={},W6={};Mi.Node.prototype._applyProps=Zs;function H6(s,e){if(typeof e=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${e}`);return}s.add(e),Qn(s)}function Y6(s,e,r){let i=Mi[s];i||(console.error(`Konva has no node with the type ${s}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${s}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),i=Mi.Group);const a={},l={};for(var u in e){var d=u.slice(0,2)==="on";d?l[u]=e[u]:a[u]=e[u]}const g=new i(a);return Zs(g,l),g}function q6(s,e,r){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${s}"`)}function K6(s,e,r){return!1}function X6(s){return s}function Q6(){return null}function J6(){return null}function Z6(s,e,r,i){return W6}function $6(){}function e8(s){}function t8(s,e){return!1}function n8(){return tg}function r8(){return tg}const i8=setTimeout,a8=clearTimeout,s8=-1;function o8(s,e){return!1}const l8=!1,u8=!0,c8=!0;function d8(s,e){e.parent===s?e.moveToTop():s.add(e),Qn(s)}function h8(s,e){e.parent===s?e.moveToTop():s.add(e),Qn(s)}function ng(s,e,r){e._remove(),s.add(e),e.setZIndex(r.getZIndex()),Qn(s)}function g8(s,e,r){ng(s,e,r)}function f8(s,e){e.destroy(),e.off(Cu),Qn(s)}function p8(s,e){e.destroy(),e.off(Cu),Qn(s)}function m8(s,e,r){console.error(`Text components are not yet supported in ReactKonva. You text is: "${r}"`)}function v8(s,e,r){}function y8(s,e,r,i,a){Zs(s,a,i)}function _8(s){s.hide(),Qn(s)}function w8(s){}function S8(s,e){(e.visible==null||e.visible)&&s.show()}function x8(s,e){}function C8(s){}function T8(){}const A8=()=>eg.DefaultEventPriority,k8=Object.freeze(Object.defineProperty({__proto__:null,appendChild:d8,appendChildToContainer:h8,appendInitialChild:H6,cancelTimeout:a8,clearContainer:C8,commitMount:v8,commitTextUpdate:m8,commitUpdate:y8,createInstance:Y6,createTextInstance:q6,detachDeletedInstance:T8,finalizeInitialChildren:K6,getChildHostContext:r8,getCurrentEventPriority:A8,getPublicInstance:X6,getRootHostContext:n8,hideInstance:_8,hideTextInstance:w8,idlePriority:Ba.unstable_IdlePriority,insertBefore:ng,insertInContainerBefore:g8,isPrimaryRenderer:l8,noTimeout:s8,now:Ba.unstable_now,prepareForCommit:Q6,preparePortalMount:J6,prepareUpdate:Z6,removeChild:f8,removeChildFromContainer:p8,resetAfterCommit:$6,resetTextContent:e8,run:Ba.unstable_runWithPriority,scheduleTimeout:i8,shouldDeprioritizeSubtree:t8,shouldSetTextContent:o8,supportsMutation:c8,unhideInstance:S8,unhideTextInstance:x8,warnsIfNotActing:u8},Symbol.toStringTag,{value:"Module"}));var E8=Object.defineProperty,P8=Object.defineProperties,b8=Object.getOwnPropertyDescriptors,xh=Object.getOwnPropertySymbols,R8=Object.prototype.hasOwnProperty,O8=Object.prototype.propertyIsEnumerable,Ch=(s,e,r)=>e in s?E8(s,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[e]=r,Th=(s,e)=>{for(var r in e||(e={}))R8.call(e,r)&&Ch(s,r,e[r]);if(xh)for(var r of xh(e))O8.call(e,r)&&Ch(s,r,e[r]);return s},M8=(s,e)=>P8(s,b8(e));function rg(s,e,r){if(!s)return;if(r(s)===!0)return s;let i=s.child;for(;i;){const a=rg(i,e,r);if(a)return a;i=i.sibling}}function ig(s){try{return Object.defineProperties(s,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return s}}const Tu=ig(re.createContext(null));class ag extends re.Component{render(){return re.createElement(Tu.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:Ah,ReactCurrentDispatcher:kh}=re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function F8(){const s=re.useContext(Tu);if(s===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=re.useId();return re.useMemo(()=>{for(const i of[Ah==null?void 0:Ah.current,s,s==null?void 0:s.alternate]){if(!i)continue;const a=rg(i,!1,l=>{let u=l.memoizedState;for(;u;){if(u.memoizedState===e)return!0;u=u.next}});if(a)return a}},[s,e])}function N8(){var s,e;const r=F8(),[i]=re.useState(()=>new Map);i.clear();let a=r;for(;a;){const l=(s=a.type)==null?void 0:s._context;l&&l!==Tu&&!i.has(l)&&i.set(l,(e=kh==null?void 0:kh.current)==null?void 0:e.readContext(ig(l))),a=a.return}return i}function I8(){const s=N8();return re.useMemo(()=>Array.from(s.keys()).reduce((e,r)=>i=>re.createElement(e,null,re.createElement(r.Provider,M8(Th({},i),{value:s.get(r)}))),e=>re.createElement(ag,Th({},e))),[s])}function L8(s){const e=ft.useRef({});return ft.useLayoutEffect(()=>{e.current=s}),ft.useLayoutEffect(()=>()=>{e.current={}},[]),e.current}const D8=s=>{const e=ft.useRef(),r=ft.useRef(),i=ft.useRef(),a=L8(s),l=I8(),u=d=>{const{forwardedRef:g}=s;g&&(typeof g=="function"?g(d):g.current=d)};return ft.useLayoutEffect(()=>(r.current=new Mi.Stage({width:s.width,height:s.height,container:e.current}),u(r.current),i.current=Ei.createContainer(r.current,eg.LegacyRoot,!1,null),Ei.updateContainer(ft.createElement(l,{},s.children),i.current),()=>{Mi.isBrowser&&(u(null),Ei.updateContainer(null,i.current,null),r.current.destroy())}),[]),ft.useLayoutEffect(()=>{u(r.current),Zs(r.current,s,a),Ei.updateContainer(ft.createElement(l,{},s.children),i.current,null)}),ft.createElement("div",{ref:e,id:s.id,accessKey:s.accessKey,className:s.className,role:s.role,style:s.style,tabIndex:s.tabIndex,title:s.title})},U8="Layer",$s="Image",Ei=z6(k8);Ei.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:ft.version,rendererPackageName:"react-konva"});const G8=ft.forwardRef((s,e)=>ft.createElement(ag,{},ft.createElement(D8,{...s,forwardedRef:e})));var ur=re,z8=function(e,r,i){const a=ur.useRef("loading"),l=ur.useRef(),[u,d]=ur.useState(0),g=ur.useRef(),f=ur.useRef(),v=ur.useRef();return(g.current!==e||f.current!==r||v.current!==i)&&(a.current="loading",l.current=void 0,g.current=e,f.current=r,v.current=i),ur.useLayoutEffect(function(){if(!e)return;var w=document.createElement("img");function x(){a.current="loaded",l.current=w,d(Math.random())}function y(){a.current="failed",l.current=void 0,d(Math.random())}return w.addEventListener("load",x),w.addEventListener("error",y),r&&(w.crossOrigin=r),i&&(w.referrerPolicy=i),w.src=e,function(){w.removeEventListener("load",x),w.removeEventListener("error",y)}},[e,r,i]),[l.current,a.current]};const eo=Fi(z8),j8="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAACWCAYAAAAouC1GAAAACXBIWXMAAAsSAAALEgHS3X78AAAM0ElEQVR4nO2dv48kRxXHX/WPmd3ZXe8hYQuR+JCMLFu2SIhJkED8CRCBQCIgAURE5IgYAgIkEv4KEghwgoScQOALcIATpPMd9t3t7uzO9C/0ra4309PbP6q6q3/N9kca7Y/bnZ2pz7z3ql5Vz4lf/Pa9YPM0/NPvf/PkJzQzOOJXf3g/wYOIbpNwFjM8OyHMLGZY7glhZjHDUCqEmcX0S60QZhbTD9pCmFlMtxgLYWYx3dBYCDOLsUtrIcwsxg7WhDCzmHZYF8LMYprRmRBmFmNG50KYWYwevQlhZjHV9C6EmcUUM5gQZhZzyOBCmFlMymiEMA9dzOiEMA9VzGiFMA9NzOiFMA9FzGSEMMcuZnJCmGMVM1khzLGJmbwQ5ljEmAkRRDRyfVMXYyREiPRjQrOYrjAT4qhPksyHWYxVjCNECEEJLExICk1IjLkQZ5+3ZjH2MZ5luZ6gjIdZjGWaCUGoJMleDEuhadUXGqEYYyGOK+RtLyORbiS5aKFZjDHmQhxBri8Oo0MZKRMzFSk0AjGNVuqLU3cvItmLSLJpjGYxTWgsRKiIOIiOTBo7hvpCA4hpJGQJIY44iJDknoTjqS/Uo5hGQvylQ/7ClRJYxi5C8mKOqL5QD2LET3/+dnL2lk+OL7R/aXHiSimUkTGLsYP4/nceJ5Bx/vUF6YrxFg6dnnlyQJOY60dGTJwcFPqq+pJ+mMUwUgh/oSvG8x1aXXrpwKrBl2JYQEz360uu8OP34jghR7WQey/8lrcSbIk5EMKwmPO3F/sObwYU9dWFLwc6xigrATHuKT5MX0VpLIoSiqP0z8pFJtNjGutqK6GtmEIhzOV7Syklz+rCo9NzTwqQEZKJiJgFxPfrSxQmFAXxvo6oaBuivnS9ldBUTMHrfw8GugjXd1QLhchVrRTc8CSxkkcaEq56YFFC4Tai7W1E4fZQhnyVqpZ+ekszSfZ7pL7HP2uNBHcndvdp+2+4p8JbPfZ//MvfvR/87Nfv/FH39yoj5LV3l3Txzv0IIdVk3KWb3OochEGJzQz4fdms1FlYZjoCNuh7K0E3YhoLsQFqEWVX/CULy+yszSZDbCXUialMWeFN/au8KVjHpGkuTXXpR5W2VCZByow7kiHB/Tq5VLnLkd2kyrpUVhkhy9dd+vK3VvYejcJfOLIfdrB+wTQ4IoriWM7AyuqXTWS984bdSshHTKUQd+XQV753ZncQXCGF4I9Gqs5IAQMsBhGZmOWNoaPAYrzKH1rHFAeJUVulDgz+5jaydn9tQBTKwp5kDAhxMOoJqTSmFq8i/YZ1MZzKKmsICF70kDuGJNmfpuEaxtNu6nsqXlfUwd1/w9GNoV2S/cRiN+h08DUXfknHhb8yZYHNcwhZ9jU6vYNM5ci9nX2TVCRCZbBsTuKpX7JPY/gdkahFJj5vn8ZqhSBloZagwB8lGEyXSMRCtXrETowc4Wx9YTEd1hetUb5tkLYwGdg8i+jqyZbWnwZNHlsvyAhRrR5eCzncAtqti+7Xl3utHtovoNqksdoIARjQ87eqV+wQgHoDCbghqrKs3vQHGXAd0JOTkbHbPlADi89xdHa3OBXcBJNfQ4JMU/Lfk7TeyO+l4dEkYrSEVKUtyEIETbb4o2Y7acc5FkmaugRvJaiXuEO71JWvL3FmK4E7yG3qi5YQcP3vgC6/sS/uiIIvPrq7Fwll4Oex8h8bixNHRkicCHLUU4EMF1sJPKDxvuhzfYlDureVkK5p2tUXbSGIhIt3F3KR+PKfG7r+ZDu6wW2C6znqJGa6IEFQOKqV4yAasK/jJpRgLwfREMZyX6eosyC4oEhUs1SYidEWghpx80lanI9FBrj6fEvXLwR53I1osZXAhTxbX0SSEZOIXRorixJtISTT1vAiUKuWb7gkPHtLZERDsGm3gEB/jnYz5MNpMotJ/0ns+mVFGC0uECW4DQUi839/v6XP/3E32GMoAqdwtLcS4urxM4qQIUENQ+0i2RkdT3+NtxK4Uyynz/JETSrAdCthEkIgAzM6ZiwNTz5LEGxQ6O1sJbQWgpD0XUcedmAwG9mGdgYtL4MJXsbkXw7bzuliK6GxELQVTpcuLf3iQUG4Xt2GUg6p3UdTIKKs7bJ5FpJ/2d1+/1A0eolBxKNzv1QGKWGvrfyDyNEFi83P/npT2QMbc3+sDUYRgvR0sfLJ0xxk/PzJwqXwXD+pYiZ19fG2djaHOjLW1X8btIVgcJu84heeQ+Ky/udMWzHg6smGlq/bP4QxJNpCLhqmH1n0H5WnNqQeREWTmRN3lhtHSWJ/C7YtWkJQM3TTVBEnXz38M5ghrf8TSBltF5ov/3VHb3zb/GQMVvxY16we+9qXYfRBrRCeTTUlVvk+eJm+mrfPIqurfdw3NsFMTlhmp9KvPt7IllDVaf8+qRXSRgYIgphefLju9ClhUBGFOuuSonUNXiC4D8goOu3fJ7XPAEW5DVuNTqkNnv9tXRt5ZYtM5u7p8JtslaPtY4bUIrWGUUKBpRV7HZDx/MNyKZi9cS+sjI3ldNqESiFtyhz6OTd3/b7iUE/KIuCVxtqGRnAOrVKI4zRXsr7bt03qQCSiVuF2vvLkjb82jVIMaFGN0F3ZQ9yQVJ/trendlw7KNqJNTe3g2duibMBzjwxycb9oWtZ1U3k6/aVvnsjprMkaB6kNvz/UKZnq60Oi+iefZ30XyVsZGPzVyb4Xpvvqx6L07NSjR+cLKbLu9xApXFO2z806skNGSfU1hkn6atdBdnfXYeXPc/sF/a2m4D4g5PLMl+msCkTGZ39ZU7w1e1UhSoY6N1A7p73dRPJWBkTg31/eBJUzqqa9sNIH7gi6ULWmiqaDiwanSV/NFlqtEww4akI23yN6gijWLtwYOFsy8vcLOTe3dmdHSHXYv2/SlmmD9qoPkYB0xBGDz3VlYMDapKk6UItQX2xTNY3uil46N23bLzpAShfSMeOysRmGhqrOOqiXQw5+B6mqCMzeTNKoLhwlTafC3LLReS+ZziNEXoDUYoFpytlJN6+xqv39KrILVW5iPv3zjexQF0VM50I8t99+NvZt6qbDTTGVgjRVVIOqxEzmoJwJy4XTWVPTJH198dFtZd1gMbwfg1TWuZCm7Zc2tN0yqCPd+08qN8VMtqWzYjrPJ/EAQkg1LLsEAwgxZRFw1aD9It8ToNNHrQgtz3p06GMegXqCfhlqRf77TfdVehHS165hlr5mdkhL2K3MFntsdDWlUQ3BVBZ52vMcctUTRxFFe6UoRW2CSKtDO1UQDUhfuNYSLf82PTBjIRCBNkV+cD033VBCTym/F8Jd4z5W7IztxaEOWHNgKtsGo5QFGdjNq3qlQ1bRLAdC+izw4UCTibYXNRkJQWui6c+le+z9vAtQrN6CdopoC8E0UrdQlv0c6oztNnkRd9vpvoNR7+f0UF+6lMLbBFOlEyF1V0+xFNvvIof7u+ohArsEQn5ERJ/W/Q2kG928XLXly0DKq3VgbdEIGbi/trMrVzUny25d7HpmEXzN9A+++7UfEtEHRPRm1YPFvnjZLAt3hfNYdUeA8mBzibdimwCp17ehUSHH38I+DZ4TOtJu9k3KNMBzRZ8uVPsvQWRnIiHyF7HXiSk6T4UHggeEyGjzoCDG9x3t5iBEbDTOgGUf+8nCuXeRqi1SMbGcVDQdh3tCGJ2I6RKkB74mhRuFkZrO8gtA90lD8EnLa1xMCdUL1HQboFQIM7SYNvAR1T5F5DEVUyuEmZoYLE67POliSt35NkZbCDN2MaZXCvcJouVqHVRO942FMGMV89rZOGUwWKNdr8vXSo2FMGMSw5cwjJ2q9NVaCDO0GKQqnIyfwp4LhvzF9bb4XelsCWGGEoMCrtuNHgNF+0bUhRCmbzHYh6l675WxUZa2OhPC9CVm7MU8DzrSRRc2dS6E6VrMVAo6M1iE5OlKDG8vTwVMfYu2KXoXwnQhBtct9nmwuyloQuKKsyIGE8LYFIPe1cUEogQyyvZtBhfC2BLT1dVUtiib7jKjEcLYEDNGKbqbd6MTwrQVgw2o8xOv8y1XHZCerjXf2WK0Qpi2YtpuD7eBLxk32dIevRDGhhi0V/qIGNOt5SyTEcK0FYNISQ+KC2sX9vA1+2GYvoF0m3MFkxPC2JqVyVMn6v+bkv8VuWoXF7Vh+MgS/s/4SO3p4wyxzYPdkxXCTHnPv4jJC2GORczRCGGmLubohDBTFXO0QpipiTl6IcxUxDwYIczoz5U9NCHMWMU8WCHM2MQ8eCHMWMTMQnIMfuBvFlLMUGJmITX0LWYWoklfYmYhhnQtZhbSkK7EzEJaYlvMLMQStsTMQizTVswspCOaipmFdIypmFlIT+iKmYX0TJ2YWchAlImZhQxMXswsZCRIMUQf/B8w2WhiXFerYAAAAABJRU5ErkJggg==",B8="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAABkCAYAAADDhn8LAAAACXBIWXMAAAsSAAALEgHS3X78AAAJyUlEQVR4nO3dW2hkdx3A8d+5/s+ZxMzk1rVus9ndarsLVgJCH1RoQCw+CEZ8EOzDrm8+KLsgIgp146WitA+FCl5QV9EW+iDuPvigIOShKCKl21pkq3aTbNImTTbmPjObOWdGfv+Z/zA5c8lczuV/zvl96ZBNZzKcnJzP/P//mUmOUqlUgIq+F9948jIAzNc2ZP6pj/z51/RjiT4CEnENMKY9W7JMUKKPgERUBxjeCEqEEZCQ6wGGN4ISQQQkpAaA4Y2ghBgBCTgfYXgjKCFEQAIqQBjeCEqAERCfCxGGN4ISQKkG8oXvKbmXn67s+HFfEcLwRlB8LO1A5jVNe/6lbzl9I5EIhjeC4kNq7L+DAbIsNmvb1tV29/Cd3z+Sa3cdwnjxjSeXAOC6hDigtk3XcRtriKk+SjUQ27ZmEMjVX55qCcGyWNOBFQMY3gjKAKUWyFd+OjFj2SyLF9tqHkWe+9PMDLPM+v+PIQxvfUPBqSiu10LZSslKLRDLZrO2ZYFtMRwprj1z8+JM4/WMmZcZY9O/+PsTr8Qchrd+obSdiia5xAL54g/0jo94tsVmrSoOfmEWW3j+Lx/lSH7yysdmGGNXTNMAXdc+Xi6XkwDDW9dQGDN3GGPXLj1rnY1kSyMskUAuPVtdW7S7HhfflsU+W4MBzDLxIMgyxl7DEcM0jVcRB14MQwdVTfRAeyIUxsxbjPF9NN/q+iSXyJ98N4vvBhjAGOMXMWKYpqGmAIa3tlBqOPAy99WfTaZqLZLIIwDXF7XFd8tHPFx8e2GkaMQ4qSYoJt9XBn7MMmbMSb31PpfMEcSy5mqL7yvP3Lw423jdCwuPX8XFN8E4sTqUM2dOf9rEBxPTRCSpApK4V9Kffvn8nK7rf9B1DXRdB03XlnVdm7n6yVd3cPGtadpfNU21NU0DTVMJRRfl8wV4Z3UdQMH/lN1rn/9319OsL/84d9Zx3LlSqXTjN18vLkX5ffRT4o4Oy2JznsU3jhYLv/rH7Eu1xbdNIwZAqeTA1tZ2V7c9OirVRloTP2Z//rdPfPukr/nGb6dmv3b9wQWTmbdM01iKIw5I2gjyoz8+dlbTtUUcPXCE4CNIbaSofq6BoigSbKkc3XrtXzA6OgLTZx/quD07O3tQyBdrIwjA2PgoQmn5Xq/v37g46zjOvOO6TziOA47jfu65S+/ciOs+0iXYBt9ilnmZYHTfQ1MPwt3lVQBFgenp022/znVdMEwDxC7EzwEMsUbBJ0LmNze3bjiOO2+Y+hVVVUB1VFAV5Us/fOpubHFAkkaQFxYez+m6vqRpWpZgNLe3dwD7+wdw+vT769eVSiW4c2cFD2SYfGAccrmRpq/D6VWxUAShQ6k/q2XWb1N2y3BwcOgclRwd8biOC47r3vzmZ96M/YI+MSNIJmPjUJ8V0yuCcbyRkWH4738WIZfLwtCQza8zDAOGhjIcSLF4H8rlCuCjvwgfPPnoYRhVGQhEUfjI3Hibo9IRqJqqG6Dzr1dVpaA4SiLeGBn7EQSfq69U4Luu607hD45gtG99fZOvJc6dn+K3wZ/99vYuB6KoKseCDzAixIFoAOoDCB9DqgiqSPht3DK45TK4+NF1+RQ3k7ES8fsosQUi8S8qSdvu7j6fZo2N5XDE5Qdz6cjhBz8CQRziwK8eFsePjVYPPni7SqVcR1Iul/mLrw0jUayhxA4Iwei/QqEI9+8f8adsEYj42fsx6uJ9lWujCN5/i2IJJTZACMbg4WsfGI4SjesIP8Pj6QRwsYIiPRCCkdhiAUVaIAQjNUkNRTogBCO1SQlFGiAEg6olFZTIgRAMqk1SQIkMCMGguixSKKEDIRhUn0UCJTQgBIPyqVChBA6EYFABFQqUwIAQDCqkAoXiOxCCQUVUIFB8A0IwKEnyFcrAQAgGJWm+QOkbCMGgYtJAUHoGQjComNYXlK6BEAwqIfUE5UQgBINKaF1BaQuEYFApqSOUJiAEg0ppLaHUgRAMiuIdg6L87vVPEQyKao5Dob/9T1EdoikWRR3v+BSLFukUxeu8SPdGUKiU1NvTvN4ICpXQBnuh0BtBoRKSv2818UZQ2ndwkIfh4Yysm5f2gn2zojeC0txbt9+GRy88LNtmpb1w3+7ujaBUw9MKLN5ZgQsXCYgkRfsLU97SDmV1dY2fvelDj5yTYGtSnVy/custrVBu334bTMOA8w+fkWBrUpncf7TBW5qg4AkwcXo1MTkGk5NjEmxRqorXn/3xlgYoW1vbsLW1A+PjORgfH5Vgi1JRvP9wnLckQ3n33ff4KDI6muUXKtCS9adHvSURyurqOj+BJZ5GGUcRKpCS/cervckMBU+PvLqyBg+cmgDbtk687Xvr9/iJ9k3ThIkJmmL5XLpOf+BNVij4qvjy8ipMTFQX3uL84d6Ojkr8ZPwYnv74pCkWnqs8m31f0JufhNJ9Ah1vMkLZ2NiCvb0DYMyEU6cmWp7/u1i4D4eHef5vRVX4SfrbtbS0CsPDQzTKdI5OwdYpmaDgugIX4LiPDEOHbHakacqFi3O8iHB0aHWe8M3N/8HGxj24cOGDgZ2jPObRSTx7SRYoh4cF2N3dA03T+IE9MjLM1xoifIsJTrNElsU4psYcx4GVu2v8Ps5Mf6B+zd7uPozQdItOAz1IMkDB1zmgAhyIqmkwNGTzgx0rlUpQKjmgQHXUwNuYzDz29Ts7e5DPF/gUDdc0ojf/+RZ8+LFHw/+G5EhqGCLpgYiihIIHN44SmloFgghwpAA+Orj8mSxMTKwM0zg2zcJFPE7XdF2vL9C37m3D3v4BnDs3Ffa3E3WxgCGKDRBRFFAQQD5frI4gavWi6xr/iAd+uXx8HyIOsc7A/YvAcDfj7TOZ6hpmcXGFL9hT9NaUWMEQxQ6IKGwohUIRVEXhI4iqKvxgRwjV3de8D8UIgvsXRxm+nysVPv3Cz9fWNvh6JgVP+cYShii2QERhQcG1Bk6ixCjSa437Gadrhwd5sGwGmYwd5GZHWaxhiGIPRBQ0FJxK4ajQ6incXsNFPT6zxRf0pjnw/UlWImCIEgNEFJf3eompmR/gJClRMESJAyJK+284hlgiYYgSC0REUAIr0TBEiQciIii+lQoYotQAERGUvksVDFHqgIgIStelEoYotUBEBKVtqYYhSj0QEUGpRzAaIiCeUgyFYLSIgLQpRVAIRocIyAklGArB6CIC0mUJgkIweoiA9FiMoRCMPiIgfRYjKARjgAjIgEkMhWD4EAHxKYmgEAwfIyA+FyEUghFABCSgQoRCMAKMgARcgFAIRggRkJDyEQrBCDECEnIDQCEYEURAIqoHKAQjwghIxHWAQjAkiIBIUgMUIBiSBAD/B8tOdEhlbSdMAAAAAElFTkSuQmCC",V8="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAACWCAYAAAAouC1GAAAACXBIWXMAAAsSAAALEgHS3X78AAANLklEQVR4nO2dzY7cuBHHi5R6eux1gPVm9+DDHnxIgL0E2LxQEORBsk+QF0gOeZYccgiQBEmAzMGHxcYBnMAOxrtjz/SHJAZ/UtUtqfVBUtRH9+gPt6dnptVS80dWscgqjVBK0aLp9c1vvv6d+kz8YgEysRgErSnGlSxAJlIVBGsBMrKaQLAWICOpCwRrATKwbEGwFiADyRUEawESWL4gWAuQQOoLgrUA6alQIFgLEE+FBsFagDhqKBCsBYilhgbBWoB0aCwQrAVIg8YGwVqAVDQVCNYCJNfUIFiPHshcQLAeLZC5gWA9OiCTgxBE1NLkjwbIHECI/Glbk188kNmA0F8NkixrbvOLBTI7EPgniFT2yIDMFQT+w9csVfrRePilAJk8oGMH0QDCPCdK9xcOZFYg8m/qQIj8+/02awUyqzm4iw4gXojxP0NhxlQFoZ/XgOCvXTo7ILMDkf/sBIQsgxDFEdOiswEyCxBV/1AEIctQSiBk/lrJ9uyMTdYsQYg8opCnZuoAIh8h+LmsmrIWzRbIXEGoTJEQikQkjn5BN3r+vAmEPAaGbZodkClB2ExdFQlK9pn+fXRVcNby+JpD48uy6cKP4pWkZJc1XsNsgEw6IlgWU1cpiZI9aShZJujqOiIZi04QMvcj0ap9lEwOZBYgcmFZQ0RovJqpa97YQvdyjBIT4G0+JhStJF0/NWBguqjw2qJDx9ut1rL1GiYLDOe6H0FkHDIa3fiJ06kr1qIe7pKT42QkaP00otW1pNWVzN+LR81xZLx7/aB9Ue25xwYyZxBVwbzA5kexLPV0jILNfUq7h7TxWIYaX0kNCt+v1gbK3f/2jX5kNCDnBKIqNChMDR6mcU2vv79LWqH4aHAg5wyiTgyHez6AbO/DQRkMyKWBGEvBgSwgPJUQidcqHJAFhKdSIvEvReJ1ZqD0BbKA6Cf5h1SDYHk34pwCurPVe1WCQT5AFhDhJE5jS3sgC4gBdHf6lp2Nu4AYUMmp/25s5AXECPpweoqTxl5ATKtDoy8g5qF4ATGdxF2ND1EvxK/O6kOI9uzxs1LNtLd9+2pOKuzgXbLmb6YqGSBmcFxuCcWsR4goZAUeE85GgoGFvm8Vyb9kRJuBznF9+qNZjpBqAvPxe9G4Fx1MSHT47rj6Csk/paReSlJfhrWX6okgsSl/nnkBKZqnmgTmMQaHuFUkvq3sd2O0vMpIvBGU/VQQfTqcI5uHyTqkYRbMkzDpODolU5qt02yE6ZX6sWjuph+MCRN/zcxKbV89Oz1+2hHSUW1UzYtSLXUVIaW+lKejpHjZGEW3iuiZ0GZMvfAcMdenw34yIE1+4uC8K/lQuPCx4g80snhdHyeU9EGRuFEkXhGpLwTRF4LU5/Zw1I9OZ/HTJjJX6yskVRLTjoDSrsbpEm+V3irdo1t7dUzaicNvWAk+5o0ieqOMqwMcjJ7n1O5van43HpAG81RK5S+kcFazyftuNYt/H521eI/nROqFNGBqpp96RvVekHjrfl59zFtzDq1rM6PSPiPOIcRmhAAcRhpreCC2fqJacVTJJs9q9g6cVO3sG9KANBj06M+F+VpoEfWVJPGQlRrMSzgXpre3VPIZdWNn2Luj1fmJhmLIEhBZqa+Q/UdI3Sg4XCf36Bsi9TyH89z03uzn0gSHfaFYapj7BlYrU1v9RCGVv1DcIg/Pze/TviNkZXntmD3dGl9gzIqBI2o2k4ZQWCBdfqJSh1f1E0JWAJE4+JXeqtm/7lTCgMaBQcGANICAlSnW2hXNkqyrOuLiloPZyh360MslHlpFkqLo2FPSVFGSZb2n5v2AFDpvuSw4r6NIFKVJplP6ZaEmr+QnClVHh2KXip9RlrPPVgXyAZEU9BRVU9XqTW0SI9olGW13mfeqgjcQGz8h8/gBdy+IldT1ETLvVbLkM8qgjg7fwJIdVUdW11uzO+cqwPjkOm6tpL2KpX5s9xltdu5Z8e5AOhYAi35AFZbLUaCS7jOK15KunkSHNaqin5Cl8q9j1VFvHBsKsoR+tZJWd2OA1ij0kYLut4mTGXMDUui1dfFEMbADlCgGiOPhuLD9JtOPap2Frr2TeePnZPD2gJgoRVEsvGdaPsFdneA3XBRHZkR93NhDcQOSvykKI5sWAEtxRWwKWuouBgWTKHRpLHb5XpH8c6bjh+xn0kS0ntLLGgFkOzqK0j5nbaDYyNkaoHHRU00BvWl4WX1E4uBDUATpJW7DDTaIMv9GhTMfKahrEkbK9ZVdO3ibZ/RwOGuYFMyCZERHvyBJTwnx/fqTSJulvhI3md5SdRWKYEKpz34MfMrJzKxGvVsKo2W3Sen+h4S2HxNzP6hE6Ys3I0fSs89W/iOlIL32dOMwB8byeCBzBSU992PWFh0zaKSe6rgD5cI1J1q5sRcN0bFu4E+V1aaQeBXWVO2TTE9pfYVJwQO1T4VH28LFrSjcDmi5Dd5N9xaqrte7DQsEI6TPKNF3gYjaO9Js04CaRghL/rMFcL60PoQQ7PVZHum6I1AMMxPFIVbvAiqxWOrYmLwp9fL02uXfs5PtV/ROTEHjPJbgIDTLuSVpZtX700xpKE/Wfj5Rn7fFasVyhmPENpATbzJSL8sNo81ZDhMQYLev8qi5VvnhmAXpwDXtXovCehUmLGtHv0g50DbFoulCp9R/LG3CJh9JedAIh68fAg0caQfsEszhtcW1qO2+2TwZ06Ws4wviGK4DyPzGx4acnLF4m38FiJtMO81nT2Lde30iaxaO71pIBDRE4LbxCUZW10tnB8THGTMM9FY0ok0AZiOb1V34nQ8PiYbTBsZ29dcvDtmZ5Wyd5RdSG/d1J/gRHAcn2ydGaFKkfUXU2pjggN9vdjxxEIeVcJi1fR4o28jv77X+V5mcpa+kf9Ze3fu6ROGsAWGwYL52HSOABR/R5Sfa5Pcp8oxtvb7k04g1Eu/8Ajk01pAwDucJsB5nI7+zFDIw2H73EpIJ2gK9BsE8uMxy+qgrwg4lLyDiodyTNRSPldjD8f84DeRsNBYMokKGzNDn8TqqZjtUr8R6rKwCpI+pQo8dq9eyGoPLgJJcuoWqob7Sjt5h79qMLD9zd+URJZ+DYvnHwv2afhCkfiJb0y5blRhHr762aKwPyj67vEau+9shlA2zXlmSLNpurCGhnk77A8/0f13M0mW68kok33OMbapYY1RwnXazxPgD3OlMT2vf1VxER8JBqxnqCYNGsuVV9d0ttFVrYNhUhKJWHem2ecR9EjQGgEF0zAcbU1ieH0PWkfpJEUqXMLIKQLQDf9UfxhSCpcLCYJ0wHS4u78OsIc8Xy/g+Fm6w+hAA5OvR26k9HHhV+MC25QUh1LRKixWC040qU/SzVpI220yDcdGwFVQoHQOMQJmDrDGca/Fc2BepCrO8tl1DjBwkZd9vyAnKoEC0vxhAWLzTaUYj+JKHbf0m1bVlAjhet7+3b4ezja52rlksHgKMptmVbWfA61ym6WcLpGtDqK8Ao8mRD6mzXn+43/RLyakT3s8GhquzttWgQHj3rOnRN8CDL3FJ9e8SzBPez2ZkbFv+sFdRGMWWQeV3RPTLIE6d7SRSY6L84eJvORtDO+vMfABbc4RjsKeNGY/vkoqeSe0yJxOF82IkYQug6bPiI2AUdwggvvn1b//2e+ozy+KAKERP5xTLYoOmORibrVP8Hj0bccEqltZgYHYSJIt7+goch2vEbqLukId9dKv8rhIIljMQnBib/kMv8PFIwxYtg+my22ggncRWGLFcfk2FJDXbLEUbocExUhxUC4JlDWQsEE3njqOIklTqIK2rMdFIu743GgivVhCHz2pzWthJn7TJ0DJgYu8K14lkBYLVvtorSNfHTbX/0CTfCteR5QSC1Qqkz8xlaOG6XIopR5QXCFYjEJipKbZJXcTFlDMxX71AsGqBcBb4OchkqoeP2B0UBASrFghGxgSbcl7izrMdYbGxoqAgWLVA5BxrRlo08vUOAoJ1GX8OdZzhPCgI1kUA6ZNtbqFRQLBqgYy9Z91X6TApOqOCYNUCwZpRmrUUSs5IWCYJvDcxCQhWo8nCghlq9eYux4W9Nk0KgtXY4rze71uPPYba9rwdNAsQrNYhwPsEbZswUynAnvesQLA6bRI+NEYLRsocfAqP3B4zq1mCYFk5Cd4mRUSM3bGR5v0l+WyzVjRrECwnr807cq5bpX2EzoDdwksHwfKaRhW3Slex0HePw01TQg0cPe1O3eq7a3RWIFi95rUm7xU7+qRvccP74OZOcsdbEdWNJJ4dISUblUlZnnUSIOo+SxCssHeUC9OgvjprEKxLWMu6CBCscwZyUSBY5wjkIkGwzgnIRYNgnQOQRwGCNWcgjwoEa45AHiUI1pyAPGoQrDkAWUAUNCWQBUSNpgCygGjRmEAWEBYaA8gCwkFDAllAeGgIIAuIHgoJZAERQCGALCACqg+QBcQA8gGygBhQLkAWECPIBsgCYkS1AVlATKA6IAuICVUEsoCYgeIFxIxERP8HjyO285QbeP0AAAAASUVORK5CYII=",W8=s=>{const e=Math.sin(s===0?1:s)*1e4;return e-Math.floor(e)},H8=(s,e)=>{const r=[...s];let i=s.length-1;for(;i;){const a=Math.floor(W8(e)*i);i--;const l=r[i];r[i]=r[a],r[a]=l,++e}return r},Y8=({x:s,y:e,w:r,h:i})=>{const[a]=eo(B8);return O.jsx($s,{image:a,width:r,height:i,x:s,y:e})},q8=({x:s,y:e,h:r,w:i})=>{const[a]=eo(j8);return O.jsx($s,{image:a,width:i,height:r,x:s,y:e})},K8=({x:s,y:e,h:r,w:i})=>{const[a]=eo(V8);return O.jsx($s,{image:a,width:i,height:r,x:s,y:e})},X8=({plantId:s,phase:e,isDead:r,w:i,x:a,y:l})=>{const u=m0.find(f=>f.id===s),d=r?u==null?void 0:u.images.dead:u==null?void 0:u.images[e],[g]=eo(d||"");return O.jsx($s,{image:g,width:i,height:i,x:a,y:l})},Eh=160,Q8=.196375;function J8({plantRecords:s,todayTime:e}){const r=s.flatMap(({plant:T})=>T.trees).reverse(),i=Math.min(5e3,r.length),a=Math.max(5,Math.ceil(Math.sqrt(i*100/80))),l=[],u=[],d=[],g=Eh*(1-Q8),f=g/(a+1),v=f*2,w=v*.8,x=w,y=v*.1,_=0+f*.75-x,A={x:220/2-v/2,y:Eh-g};for(let T=0;T<a;T++){const E=A.x+v/2*T,N=A.y+f/2*T;for(let k=0;k<a;k++){const D=E-k*(v/2),b=N+k*(f/2);l.push({x:D,y:b})}}const P=H8(l,e),R=A.x-(a-1)*(v/2),M=A.y+a*(f/2);for(let T=0;T<a;T++)u.push({x:R+T*(v/2),y:M+T*(f/2)});const m=A.x+a*(v/2),S=A.y+a*(f/2);for(let T=0;T<a;T++)d.push({x:m-T*(v/2),y:S+T*(f/2)});return O.jsx(G8,{width:220,height:160,children:O.jsxs(U8,{children:[l.map(({x:T,y:E},N)=>O.jsx(Y8,{x:T,y:E,w:v,h:f},N)),u.map(({x:T,y:E},N)=>O.jsx(q8,{x:T,y:E,w:v/2,h:f*1.5},N)),d.map(({x:T,y:E},N)=>O.jsx(K8,{x:T,y:E,w:v/2,h:f*1.5},N)),r.map((T,E)=>O.jsx(X8,{isDead:T.isDead,phase:T.phase,plantId:T.treeType,w,x:P[E].x+y,y:P[E].y+_},E))]})})}const Z8=B(pt.div)`
  position: fixed;
  inset: 0;
  background-color: rgba(0, 0, 0, 0.2);
  display: grid;
  place-items: center;
  z-index: 1000;
`,$8=B(pt.div)`
  padding: 20px 16px;
  background-color: #fff;
  box-shadow: 0px 0px 4px rgba(0, 0, 0, 0.25);
  border-radius: 5px;
  display: flex;
  flex-direction: column;
`,ev=B.select`
  width: 120px;
  color: #333;
  font-size: 16px;
  align-self: center;
  appearance: none;
  border: none;
  padding-right: 12px;
  background-image: url(${uf});
  background-repeat: no-repeat;
  background-position: right top 6px;
  cursor: pointer;
  padding: 0 12px;
  text-overflow: ellipsis;
  white-space: nowrap;

  &:focus,
  &:focus-visible {
    outline: none;
  }

  & > option {
    text-align: center;
  }
`,tv=B.textarea`
  margin-top: 12px;
  width: 260px;
  height: 142px;
  border-radius: 5px;
  font-size: 14px;
  line-height: 22px;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,
    Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
  padding: 8px;
  outline: none;
  resize: none;
  cursor: text;
  background-color: #f4f4f4;
  color: #666;
  border: 0px;
`,nv=B.div`
  display: flex;
  justify-content: space-between;
  margin-top: 16px;
`,sg=Jt`
  display: grid;
  place-items: center;
  width: 120px;
  height: 36px;
  color: #fff;
  border-radius: 5px;
  font-size: 16px;

  &:active {
    box-shadow: none;
    transform: translateY(4px);
  }
`,rv=B.button`
  ${sg}
  background-color: #8cc914;
  box-shadow: 0 4px 0 #69960f;
`,iv=B.button`
  ${sg}
  background-color: #c9c9c9;
  box-shadow: 0 4px 0 #969696;
`;function av({plant:s,close:e,save:r,tags:i,spring:a}){const[l,u]=re.useState((s==null?void 0:s.note)||""),[d,g]=re.useState((s==null?void 0:s.tag)||0);return re.useEffect(()=>{s&&(g(s.tag),u(s.note))},[s]),O.jsx(Z8,{style:{opacity:a.opacity},children:O.jsxs($8,{style:{transform:a.transform},children:[O.jsx(ev,{onChange:({target:f})=>g(parseInt(f.value)),value:d,children:i.map(({tagId:f,title:v})=>O.jsx("option",{value:f,children:v},f))}),O.jsx(tv,{rows:6,cols:24,value:l,onChange:({target:f})=>u(f.value)}),O.jsxs(nv,{children:[O.jsx(iv,{onClick:e,children:J("main_edit_popup_cancel")}),O.jsx(rv,{onClick:()=>r({startTime:s.startTime,note:l,tag:d}),children:J("main_edit_popup_btn")})]})]})})}const sv="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cdefs%3e%3cstyle%3e.cls-1{fill:%23c9c9c9;}%3c/style%3e%3c/defs%3e%3cg%20id='_5'%20data-name='5'%3e%3cpath%20class='cls-1'%20d='M12,3.51A9,9,0,0,0,5.3,12,9,9,0,0,0,12,20.49,9,9,0,0,0,18.7,12,9,9,0,0,0,12,3.51Zm1.2,14.65L13,15.62l2.47-3.24a.29.29,0,0,0,0-.32.28.28,0,0,0-.37-.05l-2.29,1.75L12.3,9.18A.31.31,0,0,0,12,8.91a.3.3,0,0,0-.33.27l-.46,4.58L9,12a.29.29,0,0,0-.32,0,.28.28,0,0,0-.05.37l2.47,3.24-.26,2.54A7.14,7.14,0,0,1,7,12a7.25,7.25,0,0,1,5-6.71A7.25,7.25,0,0,1,17,12,7.13,7.13,0,0,1,13.2,18.16Z'/%3e%3c/g%3e%3c/svg%3e",Ph="data:image/svg+xml,%3csvg%20width='26'%20height='26'%20viewBox='0%200%2026%2026'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3crect%20width='26'%20height='26'%20fill='url(%23pattern0)'/%3e%3cdefs%3e%3cpattern%20id='pattern0'%20patternContentUnits='objectBoundingBox'%20width='1'%20height='1'%3e%3cuse%20xlink:href='%23image0'%20transform='scale(0.0128205)'/%3e%3c/pattern%3e%3cimage%20id='image0'%20width='78'%20height='78'%20xlink:href='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE4AAABOCAYAAACOqiAdAAAACXBIWXMAACE3AAAhNwEzWJ96AAAEgElEQVR4nO2bS24TQRCGC8Q+WbBDKOEE+AaMxAEwB0AxB4CYBWoWCByJBSWQcOAAOOICzgFQ7BPgnABHUXYsMnukoE5qlGFUPY/qx2RRv2RFmRlP93zuqq6urrl1cXEBqu66rcxkUnBCKTihFJxQCk4oBSeUghNKwQml4IRScEIpOKEUnFAKTqg7N6UjiJgBwDZ9OK0BYGWMWfXb0yv1llZCRAtoSJ9HHb++BIC5/Rhj1pG6WKvk4GhkTQSwXDoEgKkxZhG+t24lAxcBWFV2FI5TmXJ0cIi4ScB2ozZ0rX3bnjHmPGYjUcEh4oB80VaLy3Pr/AGAMzkLf0CfjRb3Ora+M6b/iwYOEa3TnzU8aE7XzNqaGJm8vfeoxb2zWKYbBRwi2of6XnPJCZnTzKONTQI4rQEYDV5wcDQijmou2aNZMIgPauFD/4NXcR/WpEcSsEHBUacWjhEQ1XToB5vXtL1tfyxEPK9cc2iMGXZtL/SSy+XTjqnj0UIFiuMycgNV2T7N6Yet9u+JpL1g4BDRmstD5tQxjbSo4QFcwVvRzJszp238+JE5vpS0FQQcLZ/eM6dyCguiQytEbWUOeI+ZY6IVR6hFvmt2jBpLFaIJYl5alRwAwAcA+FS5lHvefsCR3+CWUfsJ14+jSh926O8pANyv+6K0jyFMdcwcyylESKXM0U4tNKl/A19wpSC0qmBxWktJR7bYInxHXOYIP6ae9+0kY8yUFvdd1Rs4brQdJB5tlzLGWJfxgFYm3IzKfac3cJvMsaQJxbLsDG6MmVD6vQngH5+2fMFVw5CcwoJeZUd8CeArADhj+vPNp4/ea1VaIxaz2qyvPYAmIeJXAHhGly0l69OytAZYKN1XFUrBCaXghFJwQik4oUJkR8rpnB/GmJd9PEiTKGc4ossWvpkbr3AEEd9RhF6WDTY/U0yXfOnFiZIR68q6+qkxRhys+5rqC+bYPQD4Yjtq0+nU6b41ZJIRI58++YK7W3Nug9LpBUBX+VYKcfk6L2sQg6OlVhsVAH8jYtJ0E1yb6Q5zymtN7TPi2oIraxcRuYxxTLky1F6TQ2pwPt/rLBptHLi578TlA66pzu3UcTxlvm4SK0MtAtfSv9mNkte0VVdoWbOVGFTUR66eZBmiokAaAHPg/jL3e0u7+F5Tf1fRDO5y/kH6IjVVDtxP5pg1k0XKWK60Oc2Z6F6oRKsUHOff3jj2Ke0DrGjjOqoI2sJVw0Lp9CCSgjus/J+T3xg6Nki2aORFm1Hph1k7oOWhTLSQFNyEqpCAyqougTQUvNiRd2SD4JCma+9FlVK/aiozh6FLzGKVstYVGAKBHfvGU1QyO2kozn7uUzLrUszi6SZ4UCqenrdN89B9Ry2Lp0c+GZA6xS7XL8ICzu9UVZTrrxwL8KxDuf5JDPMsS18QESrlK0kDWurEfCVpkqomr6+X4MbSomVGSYEV0tcuhboxJRBkyoOGF33XqUeWS1o7IpTuqwql4IRScEIpOKEUnFAKTigFJ5SCE0rBCaXghFJwQik4oRScRADwD516wYR3FQSUAAAAAElFTkSuQmCC'/%3e%3c/defs%3e%3c/svg%3e",og="data:image/svg+xml,%3csvg%20width='26'%20height='26'%20viewBox='0%200%2026%2026'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3crect%20width='26'%20height='26'%20fill='url(%23pattern0)'/%3e%3cdefs%3e%3cpattern%20id='pattern0'%20patternContentUnits='objectBoundingBox'%20width='1'%20height='1'%3e%3cuse%20xlink:href='%23image0'%20transform='scale(0.0128205)'/%3e%3c/pattern%3e%3cimage%20id='image0'%20width='78'%20height='78'%20xlink:href='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE4AAABOCAYAAACOqiAdAAAACXBIWXMAACE3AAAhNwEzWJ96AAAEfklEQVR4nO1c0VEbMRBVMvknHTipAKcCQgUkFUAqwPnSJ+Zzv3JUELuC4AoCFQRXENMBroCMZp5nLjdP4rQn6Y4ZvRkP5qSTdY9d7duVzJvn52dTEY+3lTMdKnFKVOKUqMQpUYlTohKnRCVOiUqcEpU4JSpxSlTilHg3tQmJyGdjzIUx5gMu7YwxK2vt3chT+w+TSvJFpDHGXHqab6y1i8JT8mIyrioiiwBpDpfoMwlMwuJE5D1c8uiFrnvnwtbap0JT82IqFtf0IM2gT1NgPi9idIsTkbkx5g9p2uDnGWn7ZK19yDy1IKZgcT4LWuAVc08xjEqciHwxxpyQpmtr7c693HvSfoJ7R8NoxCEgMMvZd643uNZFgzFGwZgW59xwxq63oybeM5edBVw5O0YJDiLisoIHEkm31tq55x7X/7hz2VniHC5dFGNZ3NIjP0IWxNqOMFZxFCcOueg5aVqH8lG0rUnTOcYsijEsjlnIvqflLD2BorjVFV3jRMRVPX6SJic/lq1+Lloe5MZtO1iIiOt3Rcb4Zq1dZZk4QTGLC8iPx/Z1ZBI7EOxeO1w7oME9XRSVJyVddeEJCMtO0r7q9HPvbw+/oC9zzaOS8qQIcZAfzL3uiXt1JYfp6j3cc0/6XeGzsqOUxYXyUS1GzWOzEwepwCoc6yEVDtzL5MlZCXlSwuJYpNsHLIbJDRYMDMZg/bNH16zEodTN8tEmUMVlVkhTKozBXHOWu8yejThIAxb9HtuabSgwFrPIZU55ktPiNPmoFsXz2CzEQRKwHSsnP27J9TaYCwc3ZzAmkyeXueRJLovzLc4XPe5la1yf6OsbO0ugSE5coBx+k7NuhrFvSFOWMnsOi/OVw0tUMHzVk+SiOClxqFww+dHNR2PR695AHjvD3JIhGXEI/Sy6uXJ4zF+cFTN7Zxj4rC1pWqSUJyktzrcbP8aGik+eJHPZJMShXsbK4ZtEx7Oi3ByfuSFN553anhqpLC5Z9QMP3dZkG2UxIGv1ZDBxKId7d+M1Y1prXXXj1L2stSop8cIpgD56MohBew5YbB9IJJ3EcazA8bFH7Meq5zf0KGuv3fhYYB06uFqjrdu5OaBK0t0gOpwCUEsUtcUFduPv4Wracd0D/ehc/h4pabpj3pHlZNApgCFrnK/6MVRosvVn6Jrk29wpa3EoTf8mTa4crn5IWPFfT/PHIbmuiKw8kulUI5m0FpclHwUxTPVvExQIkuax0cQhlLMtvCZR9YOVgQaXhjA3RtKxRp5EEdd3N34IEAROsYO1hiulSpWSnQKIWuM8Ec/ha4/K7iSA2twvMpeoyB3rqkxm9CmHTwaBMnuUhIoljm0sT+bbLhFgc2bP5kWKL8GtRGT0b7pEYnBdLpa4LYmoLMK+RjAZ5EWsq07i60CZEPVsUcTheBU76PLasY49zRktgJFSXXtU+GvDHnXDaAE8tB43T7HQjoSnIcfM6r9BU6L+MwMlKnFKVOKUqMQpUYlTohKnRCVOiUqcEpU4JSpxSlTilKjEKVGJU6ISp4Ex5h9l6q1xl9f/YwAAAABJRU5ErkJggg=='/%3e%3c/defs%3e%3c/svg%3e",ov="data:image/svg+xml,%3csvg%20width='26'%20height='26'%20viewBox='0%200%2026%2026'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3crect%20width='26'%20height='26'%20fill='url(%23pattern0)'/%3e%3cdefs%3e%3cpattern%20id='pattern0'%20patternContentUnits='objectBoundingBox'%20width='1'%20height='1'%3e%3cuse%20xlink:href='%23image0'%20transform='scale(0.0128205)'/%3e%3c/pattern%3e%3cimage%20id='image0'%20width='78'%20height='78'%20xlink:href='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE4AAABOCAYAAACOqiAdAAAACXBIWXMAACE3AAAhNwEzWJ96AAADT0lEQVR4nO2c0XHaQBCGN5m82x2EDnAHkAriVIBSQcjTPsZ+Y9/sCoIriF1BSAWBDpIOQgVkbmaZ0chodfy6E0jsN8N4bJ8l+JBub/+z/Wa325FzPG/dGYaLA3FxIC4OxMWBuDgQFwfi4kBcHIiLA3FxIC4OxMWBuDgQFwfi4kAuUpyITNse46ISYBEpiOh76UufmXmJHOtixB2QtucDM6+OPd5F3KoickNEDzXfhm7bwYsTkWsieiaiq5oh/5DjXsIVF27D9zXf26rUoxm0OBEJE//YGHLLzH+QYw9WnBaDmTHkK1IU9gyyqmox+G0MeWLmos05BnfFichI57U6NkQ0b3ueQV1xWkFXxrwWisGImaFKWmZoV9xDQzGYppBGQxInIvOGYhDaq3Wq8w3iVtWm/acxpHUxqNJ7cVpBV0ZnsGHmm9Tn7fWtqsVgaUj7i/aiTfR9jrM6g612BkmKQZXeihOROyL6aAyZpywGVXo5xxnZ2p5HZm69yLXonbiIYvDCzLe5n8c79Ad1Yg63S3gh4Za4yzWfVM5pZWuhnUq67KgDmuP0BQRZX4hooh/X+vWcPDdka0XuN28PWhyKAy8gfL7KJU+ztYn1nHIWgyqouDo54xzyIrM1KMlFQcVZsc0YjaMPocXAqqChnarbiMkGJE6T0ydjyERvrVaUYqI6kmRrCPACWJtmS94sgTxr2ZG1M2iibecw13e9jpmu8I8m50ZLClqJ03d72iDvm07u0URma/BGSwqSdA4RkTXF/p7GKbI1hGQtl26SrI05KfDJWjZEHCNLtoaQLB3R+Waqk3YdS11evCKindrmytYQksZKunK35F3pAvmQvKZsLdlGSwqS53Eqz5qDXsk7dbaGkC1WisjMNnp1hscPY1z2bA0hax4XKW9kzGu/mPls5rUyWaNzXX7cG0PGDdla9kASpZMEWLsAa0FbZV8MzmpeK9PJZk1EX1ul02wNobNdLpX3EjH0vutsDaHr7cGioa8NGy1QKNA1nYprCAU622hJQecb0iV5j1oEtlp5z6ozaCRU1VM+FovF9amfA/Lwf0oF4n89COLiQFwciIsDcXEgLg7ExYG4OBAXB+LiQFwciIsDcXEgLg7ExYG4OAQi+g/UCh80NnM8TAAAAABJRU5ErkJggg=='/%3e%3c/defs%3e%3c/svg%3e",lv="data:image/svg+xml,%3csvg%20width='12'%20height='11'%20viewBox='0%200%2012%2011'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M6%2010.5C8.76142%2010.5%2011%208.26142%2011%205.5C11%202.73858%208.76142%200.5%206%200.5C3.23858%200.5%201%202.73858%201%205.5C1%208.26142%203.23858%2010.5%206%2010.5Z'%20stroke='%23666666'/%3e%3cpath%20d='M10%205.54785H6V3.54958V2.97974V1.89736V1.54785'%20stroke='%23666666'/%3e%3c/svg%3e",uv=({treeTypeGid:s,isSuccess:e})=>{const r=m0.find(({id:i})=>i===s)||null;return r===null?"":e===!1?r.images.dead:r.phaseType==="Four"?r.images[4]:r.images[7]},cv="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALUAAAC1CAMAAAAujU6bAAAABGdBTUEAALGPC/xhBQAAAwBQTFRF5eWj4+Oj4eGj4+Oc5eWj5ual5OSj5OSj4+Oi5uaZ5eWg4eGk4+Oi5OSk5eWk5eWi//+c5uaf4uKi5OSj5OSi5OSh4+Oq5OSj5OSj5eWj4+Oj4+Oj5OSj5eWj5OSj5uak5OSk5eWj5OSj5eWj5OSj5OSj5OSj7e2A5OSk5eWk5OSk5eWj5uaj5eWj5eWj5OSj5OSi5eWj5OSi5OSj5uaj5OSf5OSj5OSj4+Oj5eWj4+Oj5OSk1NSq5eWk5eWj5OSk5eWj5eWj5OSi5eWj5OSi5OSj4eGg5OSj4OCW5eWi5eWk4+Oj4+Oj4+Oj5eWj5OSh5eWj5eWj5eWk5eWk4+Oj4OCq4OCO5OSi5OSj4+Oj5OSj4+Oi5OSk4+Oi5eWj5OSi2tqe5OSk5eWk4eGh5OSj5OSj4uKi4uKhzMyZ5eWi5OSj5eWj9/eR5OSj4uKe4OCj39+furqM4+Oh4uKj5OSj5eWjAAAAo4NHkmcrf1IYpY1Wy8KHyL+EwLJ3hlUZkXE3qYtOrZdYkG8wpYxS0suNoYVKhmAkmno+xbl7i2kxrJdWmHE0hV8himcockQGzMOCnXc7jGkqsZZXqZFRwbV0uaJkpoZJq41Pmn0+ybt7rJVVsp5ejmMnvKxriGMle0wP29eXiFccuqpqhF0fdUkLgVobp45Pvqlru6dpjF8js5haqYpMe1IUlGoutqJjy8KBw7ByxLZ3fFMVt6Zmz8aGrpJUdksOlXY4noJCzsKCnoNDuqVmhVQYkWUqlm0wmXM2s6BgyL18fVUYv7Bxjmwtc0cJ392bn4VGwbNzzsSE3dqZi1wg2tSU3tuao4FD0cmJzL+A2dOTkGMneUoNfU0Qn3s+19GQo4lKl3k61c2NdksMr5tbw7JyeE0O4+OhjWAkf04RwK1u08uKknIz4uCfelAS392c2NKSdkcKeEkMgVAUd0gL2taV4N+eeE4QiVoeqIhLc0YH5OOigE8Th1cbtJtd4uGgdEYIglEVeksOg1EWfEwQckUHhFIXcUQG5OSj3Fr/OQAAAHd0Uk5T6/hwJMxdzV61GTs73NfXawlIueuOZxv8vrh2QPXylGMcxZfWx4XvB+KHfdl45+E+tbTtwWo4ycpI8fE4Bo1wPMK6VKeo9yCQEUtQRaTV0ijfNqW+igkJiGckgYHtD+TXDPvgJ6LjHi4F/fr7A/4OGQgCG2rb/QCl2czxAAAKb0lEQVR42u3dd1hT5x4H8Hi7be1yBPfWOlFRVJYyBJEVLDuEISOsEDI8fe5s7+0et3trpe7WomLdWrfIUgHZYgFxIfMilBny3gTQnnNyEk6Ss97n4funIZwPxzfjnPd9fz8eQl0iosY7Ofg5vzpdAB4lZvqrzvYOTquCIyg8EMKj5Lf4T1k2edLjYbyJkYAwkRNCw6ztn1jmGsAVdfIzKwJXC9YAElmjnOq2Qh7HuloWHLT+FWBUXlkfFCxjUZ3iO98bmJQRc31TWFGn+Cx1XABMDX/hWIU4hWG1TO7hqYwHZkWywdMjWcagWqRYzgcUhG+9VMSUWhwyIhJQlMgRQlcm1FFzvOIBhUn0mhNlR7M6QqgElEc5LoVOdZxCAGiJQBFHlzrO0ioB0JQER9skWtTSkFmAxoS6SalXz16nlABaI1GuS6JYLZ2WCGhPYrSUUrW7MgEwEW93f8rU8pkrAUNZGSiiSC134QPGkugip0KdNHwJYDRLhieZrQ5QxACGEzPa30z12pCVgPEM81trlloUzQcshB8tMkMduygesJL4RWNMVkdZSQBL2bhYbKI61gKwmBmxJqljwwGrCY81QS2eAViORZTR6jGLAeuxijVSLVocz75a8rTIKPXaaA6gte/ba41QB/jxASeyMcSftFoWNAxwJCuXysiqh8cAziRmOEm1fAngUJbISalFzoBTcZaTUAfM4XNLzZ9JQu2+EnAsNu6DqqXegHNRSgdRJ0VzDw0SptkZVq9L5KAaJK4zqJYqASeDHyMYdZKbhJtqSUiSfrVtKOBoZlnqVcc5As5mdZw+tSKBu+oEhR51igBwOIIIQrXdOMDpCAnVUUpuq5U+ROpAwPEEEqhdvbiu9hLrqkMSua7mh+ioReGA8wkX4dQyRST31YkKGVadbA0giLUcq/bgw6Dme2DUKZ4AinimoNXiDXCoH37S9KsVEjjUfAVKnTIWQBLH2X+qfRfCol7g+6d6Lh8WNZj/SC0bAQ0aeMseqoMBRAl+qA6CSR00oI5bD5N6fXK/Wh4DkzpG2q9eAaDKin61G1zqwD61/2q41FYBWrWrEi61YIpWvWwNXOo1tlr1EwCyTNaq7WFTT9KqrWFTP6lRR4TBpg6LQHjBobCpR0YhvFUTYFNPHI/wnCJhUyc6ITwHAF3+gvDs4VP7ITxn+NTOCM8CPrUFwpsOnzoc4cXApxYgPABhhtRD6iH1kHpIPaSmUy2ADx0D67cnOL+pwnlV4Aef2h7Wq12z7yy0N5SUH8/PP3Dz5s3df/Rlzxv/e5Q39vT/227Nwwfy84+Xl1yupODOwviJxj7r9pWCkrzs/JsnPz98tfjMtWtVVT/nNjc3t2nyW6++/Evz6Nbm5tyfq6quXTtT/Nrhz39Kzz+eV16Qc9vY40+wRHhRI8n9bGVjTkNB9o2vvik+s/dUVa5+nxFpy9186vSZ4m/2pR8v+PFKI8n/hNDHyN2drKxJ3/P1p6erKKES57eq059+/Ud6DQm59u4k8rjB0VDz3clfTrf1Mpa2vb+c/K7c4KhZrr1/PUnfCb586Kurm3O39jKetubNr/2UrfdVO0qrnkz0yN3y3cWn2npZTPOp4pPld4lsT+mZTbqSfrW5lwNpvpp+RQfXP5s0Bfet78Hlw1W9nEnu4csPsD6lq1YdgJ0lvZ3+YS+n8uEN7Gtzqn/fjDR2MfCN3F6OZWs6BuhGNPu/t5dz2YsBDsz+P4O5QbmZe+rNmAsZeb86GbOq5d1OrqG730b71scRrSB6r6ebW+jOv55D+4IIV2v9+E5LKodOd2dPy5YctO/Rai0ZZnfg39SqjtRWTsC7W7s6VOo30R/t8x6tjEPmo9Vv3VGr1arartZOVodKd2cfWa0+/xb6imAuasUnuqhh49vq/rTUd1WzBO+uLqxtGWC82YjCLfTVt7r2H2pUOgp7WusYtHfXVfcU1qIAGX9H28bORq9kRhcoqHxfjYlK1VF7P7W6tY7OIdPdWddanXq/tkOlwh79ffSolryAXn/tMw/9B/3ziJogqo6OWo2+SKPv7NaEAqkmnZ2drUWphbW63P6kHcDMfon1r9C/+7raYDTnvv5+YWpRkeb8mzJ6uutaW6uLiroK79fXdqgMH+t1zFds7Ap93G6IrA61MWnJyKitr68v7NKmhyB9DxRqfqQ2I6PFqF/dkYV24XZDIPLlmE+ao2qO5GID5oox2eAuny8zuIHO+BJz+wa/ywe3o+puGTfU72JGtc6OKgQRYqqz5J3nAvp8HuZU6+5eQ8TYnYK7ODBGMr7HkLxcCXZlzsH8SMNH7Kv/i3kpEu7KxO+AzTrCNvpIFvbanHAHLCLEXsGXsq3+4hLGM86OUB2BvTGSs51d9PZG7FKWFHK76Pc3sYlu+gSD0buLHonDrXrf18Ieesc+rMVRb8UCxBJXU/cEa+iPj2EH9ZJl+mtaxAmxOwYvX2TtTQ9zhQskbklGVD3JvsMOOu0Q7o6k1KgKM/tZYd/Zj5v1MlxhBpk9DVeNYx8LbyRNP+BuWUcnDVY56TncPMem60yjr3/QjjV4S42uUtV+lmn1WdxcEokqVQgyE7ex9HYFo2c7rQKH5gcGkFCPccHPLG1KY3B4bMLP2rmIyFW6w++PaK9gTl2Bn/YKlZtaVbB9WxNT7x74M026qiAiW2qDe+6Dg4wMkl8v4GdGh40mXcER8RfqbPU+9w796I8O4I/K9wswrzLpPdq/k1wswR9zo1GVSRFEtEin8sLdTFovgI+U6kw/842sAosgsVa6E9g/7KRzSOvOmS+WG13dOEp3yVxl3lEVPeaWWyW6J2mGmKJK0u0f0PIW2PRvggUhJlWS1rCJakkX0HDjsuwe0VJD06p2I4iYqDBzztktlA4T1ZazuqspgMTKx+Rq9HLCavQFu36l8FW4q4bgEPGLYqmv/F9zbAdFV+IniMxmVv7XfNz4EZZnvnTuBAU31H4/cY5wiZCN0LwuC5oP99HEW67a95duN2t8q3aWftJOvLxaMWjnwcG7hzyrb2NvTYUZb4NNFXn6Fhk+a373EIOdWtovHDNpoDQdy9K3WI9PTacW7Wsy0Ebvqsp7FReNnFZo+s/Ze436fp/NTDJoch2I/N0N1DxuP3Sh7Pz1j0mN5SM7b10wsDAy4Tl3ars9RRssOtj43rajgw7yO2Xbzl0xuER5GrXdnjQvysE7azUcLP32s7QdOu8squtpn31berBhkKdLlOtI97szoouZG4kqAZcK7pVkH/wiM7PsliZlmZnfH8wuKSm4NPgzZ4XQ0MVMe8d1mSN9HeNWW9LTMQ7S7nx9ixsc6OiEKDS2hbCxXSftfAK9KK1hGu8V6MNEh09X4fPUdfh8XihmosNn34clhN1UtXenkj08BWZWfdyo9PSQM9m5tu91KX7h5YWmn/EFLyt8mO4SPAD3nTvPNLP3fJY6Mg8MFfi6Xw989MhfcpuqJNdpXLA68CVpstmHpKir+4uutk+NWh4WOkFfV/eJI8OenDTZdsqLlByOIvXAoofHVjk5jHKxCEddam4It3Cxd3AaHxVB4YEoVTOX/wPzoy+NRdf1xQAAAABJRU5ErkJggg==",dv=B.div`
  margin-top: 8px;
  background: #f9f9f9;
  border-radius: 5px;
  width: 100%;
  height: 80px;
  display: flex;
  align-items: center;
  padding: 10px;
  padding-right: 14px;
  position: relative;
  transition: 200ms background-color ease-in-out;
  cursor: pointer;

  &:hover {
    background-color: #eaeaea;
  }
`,hv=B.div`
  width: 60px;
  height: 60px;
  background-image: url(${cv});
  background-position: center;
  background-size: contain;
  padding: 6px 12.63px 19.26px;
`,gv=B.img`
  width: 35px;
  height: 35px;
`,fv=B.div`
  display: flex;
  flex-direction: column;
  margin-left: 8px;
`,bh=B.div`
  display: flex;
  align-items: center;
`,pv=B.div`
  color: #333333;
  margin-right: 6px;
  line-height: 21px;
  width: 88px;
  font-size: 14px;
  white-space: nowrap;
`,mv=B.div`
  display: flex;
  flex-direction: row;
  align-items: center;
`,vv=B.img`
  width: 20px;
  height: 20px;
`,yv=B.img`
  width: 10px;
  height: 10px;
  margin-right: 4px;
`,_v=B.div`
  font-style: normal;
  font-weight: normal;
  font-size: 12px;
  line-height: 17px;
  letter-spacing: 0.266667px;
  color: #666666;
  margin-right: 8px;
`,wv=B.div`
  font-style: normal;
  font-weight: normal;
  font-size: 12px;
  line-height: 17px;
  color: #666666;
  margin-right: 8px;
  max-width: 64px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;

  :hover {
    cursor: pointer;
  }
`,Sv=B.div`
  font-size: 12px;
  line-height: 17px;
  color: #a8a8a8;
  max-width: 260px;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
`,lg=B.div`
  pointer-events: none;
  font-size: 14px;
  line-height: 20px;
  color: #666;
  background-color: #fff;
  border-radius: 6px;
  position: absolute;
  padding: 10px 12px;
  z-index: 10;
  transition: 300ms;
  opacity: 0;
  visibility: hidden;
  width: max-content;
  top: calc(100% + 9px);
  left: 50%;
  transform: translateX(-50%);
  box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);

  // Arrow
  &:before {
    content: '';
    width: 12px;
    height: 12px;
    position: absolute;
    background-color: #fff;
    top: -6px;
    left: 50%;
    transform: translateX(-50%) rotate(45deg) skew(5deg, 5deg);
    border-radius: 3px 0 0 0;
  }
`,xv=Lh`
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
`,Cv=B.div`
  width: 26px;
  height: 26px;
  position: relative;
  margin-left: auto;
`,Tv=B.img`
  position: absolute;
  inset: 0;

  &:hover + ${lg} {
    visibility: visible;
    opacity: 1;
  }

  ${s=>s.$isSyncing&&Jt`
      animation: ${xv} 1s linear infinite;
    `}
`;function Av({canShowSyncBtn:s,plantRecords:e,isSyncingAll:r,plantRecordToSync:i,setPlantRecordToSync:a}){const l=hr(u0),u=cf();re.useEffect(()=>{u.off()},[e]);const d=({startTime:v,note:w,tag:x})=>{const y=e.map(_=>_.plant.startTime===v?{..._,syncStatus:"Pending",plant:{..._.plant,tag:x,note:w}}:_);nu("plantRecords",y)},g=(v,w)=>Math.round((new Date(w).getTime()-new Date(v).getTime())/6e4),f=v=>{const w=l.find(({tagId:x})=>x===v);return(w==null?void 0:w.title)||J("plant_tag_0")};return O.jsxs(O.Fragment,{children:[e.map(v=>{var _;const{syncStatus:w,plant:x}=v,y=r||x.startTime===((_=i==null?void 0:i.plant)==null?void 0:_.startTime);return O.jsxs(dv,{onClick:()=>u.on(x),children:[O.jsx(hv,{children:O.jsx(gv,{src:uv({treeTypeGid:x.treeTypeGid,isSuccess:x.isSuccess})})}),O.jsxs(fv,{children:[O.jsxs(bh,{children:[O.jsxs(pv,{children:[Pi(new Date(x.startTime),"HH:mm")," ~"," ",Pi(new Date(x.endTime),"HH:mm")]}),O.jsx(mv,{children:x.trees.map(({isDead:A},P)=>O.jsx(vv,{src:A?sv:g0},P))})]}),O.jsxs(bh,{style:{marginTop:7},children:[O.jsx(yv,{src:lv}),O.jsx(_v,{children:g(x.startTime,x.endTime)}),O.jsx(wv,{children:f(x.tag)}),O.jsx(Sv,{children:x.note})]})]}),s&&O.jsxs(Cv,{children:[O.jsx(Tv,{$isSyncing:y,as:pt.img,src:(()=>{if(y)return Ph;switch(w){case"Pending":return Ph;case"Succeeded":return ov;case"Failed":return og}})(),onClick:A=>{y||(A.stopPropagation(),a(v))}}),O.jsx(lg,{children:w==="Pending"||y?J("settings_status_waitforsync"):w==="Succeeded"?J("settings_status_200"):J("settings_status_fail")})]})]},x.startTime)}),u.trans((v,w)=>w&&O.jsx(av,{spring:v,tags:l,plant:w,close:u.off,save:d}))]})}const kv="data:image/svg+xml,%3csvg%20width='25'%20height='24'%20viewBox='0%200%2025%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cmask%20id='mask0'%20mask-type='alpha'%20maskUnits='userSpaceOnUse'%20x='0'%20y='0'%20width='25'%20height='24'%3e%3crect%20x='0.5'%20width='24'%20height='24'%20fill='url(%23pattern0)'/%3e%3c/mask%3e%3cg%20mask='url(%23mask0)'%3e%3crect%20x='0.5'%20width='24'%20height='24'%20fill='white'/%3e%3c/g%3e%3cdefs%3e%3cpattern%20id='pattern0'%20patternContentUnits='objectBoundingBox'%20width='1'%20height='1'%3e%3cuse%20xlink:href='%23image0'%20transform='scale(0.0166667)'/%3e%3c/pattern%3e%3cimage%20id='image0'%20width='60'%20height='60'%20xlink:href='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAABYlAAAWJQFJUiTwAAADT0lEQVRoge1avW4TQRD+QHQpSEeJSzqCFI2QKDCioIwlHgDnCXCRgg7TIUHhPAHOAyA5D4AwBRIaIXF0lHFJlxR0SEEbfYeW1cbc7O1J0Xk/6WR7fTu3387s7vzctfPzc2wSrm8U20J4A1AI9x2FcN9RCPcdG0f4RtcPUNURgCGAHV43g1vOAFQAlu4SkWWX4+nEl1bVAYAJgHGE4P/gJmAGYC4iJ7nHlpWwqm4DmAJ4nkFcTXwmIqcZ5F0gG2FVdWY7B3A7+MsNfEGTrUSkCvrVpu76jyIWsXLtYb9UZCGsqs5030UGOhWReYKsaWTi9q2yYmhNOEL2jERnLeU60i+D5takWxGOkM1qfjT3ZWDmf0lzGc04wYsmMpPPYQ7GJ/vdrcVcZB0oa4eya8z4bIePAO6SdCO0cTz8GXWaHebcTWvwaBpzqYDanlO7ZiQR5vryN5VRF2RrUNMjr8lp9YX3u7GzYva0eNZOvKZXOc04eM6URCua7aF3xj/2bm9MOEXDvve0sqwfC2gxY1rSHtfrLoBfFOMrq1PCvnazekERhEfQAwBbQdvK4oKaCHN39Ndua0dgHUTETe4jAJ/W3PbVItOq4RNvtzzuWLsXcNGTiLgd+R6Ao8gtXyzyzI6HqrpZ3xaRqaljJjASewvgKYCfAO5YJr6UWvqOQrjvKIT7DpMvTf/2B4BbAN4DOOgi0dZwLO5YPLUmGkzHkqoeAHgTNB/RxcweQKwZx4L+tXOCBpZz2GrS9yNtzwB8U9VlaoxqAa1sj11cEDOw9LcS3l3z30MX0ahqJ9GTh7H3fWW1rMaE6dKFmUQXqn1eM6CsiMTi5sm1aNg319/83GK04iKaY8bHcw6sC0y8ST9LidYsu7RP+AOAJ/zuMhALERld0i8LGJr6adukWDxVw6+DTOLCyyRmBy3mn6RharSW5HiwwhfLJJp2zCYg2WWYNEyVZyE8oVbdeq0zif4G4jKJVU5NU1ZF2TX225z5XZRawExmqwQBEw3Ty6oOqSjFtFTQ/BYdlUvHud4M6KIgPuFlrfzHcEgruXoFcR/crceJxGuHYnblX3mIgQHF0Hux5bKXWiq+1NKo7JmKkrXsOwrhvqMQ7jsK4b6jEO47NoswgD/ADmVCi14BBwAAAABJRU5ErkJggg=='/%3e%3c/defs%3e%3c/svg%3e";async function Ev(s,e,{onSucceeded:r,onError:i,onFinished:a}){try{const l=s.map(async d=>{if(d.plant.startTime!==e.plant.startTime)return d;if(e.syncStatus==="Succeeded"){const v=(await Sp(e.plant.startTime)).find(({id:w})=>w===e.plant.id)||null;return v===null?d:{...d,plant:v}}if(e.plant.id){const f=await Qh(e.plant);return{...d,plant:f,syncStatus:"Succeeded"}}const g=await Xh(e.plant);return{...d,plant:g,syncStatus:"Succeeded"}}),u=await Promise.all(l);await nu("plantRecords",u),r==null||r()}catch{const u=s.map(d=>d.plant.startTime===e.plant.startTime?{...d,syncStatus:"Failed"}:d);Xt({plantRecords:u}),i==null||i()}finally{a==null||a()}}function Pv(s){return O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",...s,children:O.jsx("g",{id:"_5","data-name":"5",children:O.jsx("polyline",{style:{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2px"},points:"14.23 18.46 7.77 12 14.23 5.54"})})})}function bv(s){return O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",...s,children:O.jsx("g",{id:"_5","data-name":"5",children:O.jsx("polyline",{style:{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2px"},points:"9.77 18.46 16.23 12 9.77 5.54"})})})}const ug={ArrowLeft:Pv,ArrowRight:bv};B.div`
  color: #333;
  font-size: 16px;
  line-height: 22px;
`;B.div`
  color: #666;
  font-size: 12px;
  line-height: 21px;
  margin-top: 8px;
`;const Rv=B.main`
  &::before {
    content: '';
    position: sticky;
    top: 0;
    height: 20px;
    display: block;
    top: 48px;
    background-color: #fff;
    z-index: 5;
    margin: 0 -12px;
  }

  position: relative;
  flex: 1;
  height: 100%;
  display: flex;
  flex-direction: column;
`,Ov=B.div`
  display: flex;
  flex-direction: column;
  gap: 12px;
`,Mv=B(pt.div)`
  width: 100%;
  height: 38px;
  background-color: #51a387;
  border-radius: 5px;
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 4px;
  transition: 300ms;
  cursor: pointer;
  margin-bottom: 24px;
  font-size: 16px;
  color: #fff;

  ${s=>s.$isDisabled?Jt`
          opacity: 0.45;
          cursor: not-allowed;
          pointer-events: none;
        `:Jt`
          &:hover {
            transform: scale(1.05);
            background-color: #2d6651;
            color: #eaeaea;
          }
        `}
`,Fv=B(pt.button)`
  border: none;
  width: 100%;
  height: 38px;
  background-color: #51a387;
  border-radius: 5px;
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 4px;
  transition: 300ms;
  font-size: 16px;
  color: #fff;

  &:hover {
    transform: scale(1.05);
    background-color: #2d6651;
    color: #eaeaea;
  }
`,Nv=Lh`
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
`,Iv=B.img`
  width: 24px;
  height: 24px;
  ${s=>s.$isSyncing&&Jt`
      animation: ${Nv} 1s linear infinite;
    `};
`,Lv=B.div`
  position: relative;
`;B.div`
  display: flex;
  flex-direction: row;
  justify-content: flex-end;
`;const Rh=B.div`
  font-style: normal;
  font-weight: 500;
  font-size: 14px;
  line-height: 22px;
  /* identical to box height, or 157% */

  display: flex;
  align-items: center;
  color: #333333;
`,Dv=B.div`
  position: relative;
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
`,cg=Jt`
  position: absolute;
  width: 24px;
  height: 24px;
  cursor: pointer;
  box-sizing: content-box;
  padding: 10px;

  & polyline {
    fill: none;
    stroke: #c9c9c9;
  }

  &:hover {
    & polyline {
      stroke: #888888;
    }
  }
`,dg=B(ug.ArrowLeft)`
  ${cg};
  left: -10px;
`,hg=B(ug.ArrowRight)`
  ${cg};
  right: -10px;
`,Uv=B(dg)`
  position: static;
  padding: 0;
  padding-right: 1px;
`,Gv=B(hg)`
  position: static;
  padding: 0;
  padding-left: 1px;
`,zv=B.div`
  width: 100%;
  display: flex;
  justify-content: space-between;
  margin-top: 20px;
  margin-bottom: 32px;
`,Oh=B.div`
  color: #c9c9c9;
  height: 24px;
  display: flex;
  align-items: center;
  font-size: 14px;
  line-height: 22px;
  cursor: pointer;

  &:hover {
    color: #888888;

    polyline {
      stroke: #888888;
    }
  }
`,Il=df();function jv(s){const e=h0({globalLoader:s.globalLoader}),r=Et(Ni),i=hr(lu),a=hr(c0),[l,u]=re.useState(pp()),[d,g]=re.useState(!1),[f,v]=re.useState(null),w=i!==null,[x,y]=re.useState(!1);re.useEffect(()=>{i!==null&&Vn("accessToken").then(m=>{y(!m)})},[i]);const _=async()=>{if(d||f||w===!1)return;const m=await Vn("lastSyncedAt");try{await as(a,{lastSyncedAt:m,onStart:()=>g(!0)});const S=await rs(i.id);await Xt(S),r(J("settings_sync_completed"))}catch{r(J("notification_title_upload_failed"))}finally{g(!1)}};re.useEffect(()=>{f!==null&&(d||w!==!1&&Ev(a,f,{onSucceeded:()=>r(J("settings_sync_completed")),onError:()=>r(J("notification_title_upload_failed")),onFinished:()=>v(null)}))},[f]);const A=()=>{const m=Va(l,1);wd(m)||u(m)},P=()=>u(m=>Sd(m,1));if(a===null)return null;const R=a.filter(({plant:m})=>{const S=new Date(m.startTime);return Wf(l,S)}),M=wd(Va(l,1));return O.jsxs(Rv,{children:[O.jsxs(Ov,{children:[w&&x&&O.jsx(Fv,{onClick:e,children:J("extension_seekrid_cta")}),O.jsxs(Mv,{onClick:w?_:e,$isDisabled:d||f!==null,children:[w&&O.jsx(Iv,{src:kv,$isSyncing:d}),w?J("settings_sync_app_btn"):J("settings_no_sync_btn")]})]}),O.jsx(Lv,{children:O.jsxs(Rh,{children:[Pi(l,"MMMM do (E)",{locale:Il})," ",J("settings_my_forest")]})}),O.jsxs(Dv,{children:[O.jsx(dg,{onClick:P}),O.jsx(J8,{plantRecords:R,todayTime:l.getTime()}),M===!1&&O.jsx(hg,{onClick:A})]}),O.jsx(Rh,{style:{marginTop:16},children:J("settings_my_history")}),O.jsx(Av,{canShowSyncBtn:w,plantRecords:R,isSyncingAll:d,plantRecordToSync:f,setPlantRecordToSync:v}),O.jsxs(zv,{children:[O.jsxs(Oh,{onClick:P,children:[O.jsx(Uv,{}),Pi(Sd(l,1),"MMMM do (E)",{locale:Il})]}),M?O.jsx("div",{}):O.jsxs(Oh,{onClick:A,children:[Pi(Va(l,1),"MMMM do (E)",{locale:Il}),O.jsx(Gv,{})]})]})]})}const Bv="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2020%2020'%3e%3cdefs%3e%3cstyle%3e.cls-1{fill:none;stroke:%23a8a8a8;stroke-linecap:round;stroke-miterlimit:10;stroke-width:2px;}%3c/style%3e%3c/defs%3e%3cg%20id='icon'%3e%3cline%20class='cls-1'%20x1='3.2'%20y1='3.2'%20x2='16.8'%20y2='16.8'/%3e%3cline%20class='cls-1'%20x1='16.8'%20y1='3.2'%20x2='3.2'%20y2='16.8'/%3e%3c/g%3e%3c/svg%3e",Vv=B.div`
  display: flex;
  flex-direction: column;
`,Wv=B.div`
  font-size: 14px;
  font-weight: 500;
  line-height: 20px;
  color: #333;
`,Hv=B.div`
  font-size: 12px;
  line-height: 20px;
  color: #a8a8a8;
`,Yv=B.input`
  margin-top: 16px;
  line-height: 25px;
  height: 25px;
  border: none;
  border-bottom: 1px solid #c9c9c9;
  font-size: 14px;
  width: 100%;
  padding: 0;
  color: #333;
  transition: 300ms border-color;

  &:placeholder {
    color: #c9c9c9;
  }

  &:focus {
    outline: none;
    border-color: rgba(81, 163, 135, 0.8);
  }
`,qv=B.div`
  margin-top: 14px;
  row-gap: 12px;
  width: 100%;
`,gg=B.div`
  height: 32px;
  display: flex;
  align-items: center;
  width: 100%;
  overflow: hidden;
  transition: background-color 300ms;

  &:hover {
    background-color: #f4f4f4;
  }
`,Kv=B.img`
  min-width: 20px;
  height: 20px;
`,Xv=B.div`
  font-size: 14px;
  color: #666;
  margin-left: 4px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  flex-grow: 1;
`,Qv=B.img`
  min-width: 20px;
  height: 20px;
  margin-left: 5px;
  opacity: 0;
  visibility: hidden;
  transition: 300ms;

  ${gg}:hover & {
    visibility: visible;
    opacity: 1;
    cursor: pointer;
  }
`,Jv=B.div`
  width: 422px;
  background: #f9f9f9;
  border-radius: 5px;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 6px 0px;
  margin-bottom: 20px;
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);
`,Zv=B.img`
  width: 20px;
  height: 20px;
  margin-right: 8px;
`,$v=B.div`
  width: 312px;
  font-size: 16px;
  line-height: 22px;
  display: flex;
  align-items: center;
  color: #333;
`,e9=B.div`
  opacity: ${s=>s.$disabled?"0.4":"1"};
  pointer-events: ${s=>s.$disabled?"none":"initial"};
`,t9=B.span`
  color: #66a189;
`;function Mh({siteBlockingMode:s}){const e=Et(Ni),r=hr(o0),i=hr(s==="Allow"?i0:a0),a=Et(s0),[l,u]=re.useState(""),d=v=>{u(v)},g=v=>{if(v!=="Enter")return;const w=hf(l);if(w.domain===null)return e(J("settings_toast_error"));if(i.includes(w.hostname))return e(J("settings_toast_existed"));a([s,[...i,w.hostname]]),u("")},f=v=>{const w=i.filter((x,y)=>y!==v);a([s,w])};return O.jsxs(O.Fragment,{children:[r==="Started"&&O.jsxs(Jv,{children:[O.jsx(Zv,{src:og}),O.jsx($v,{children:J("extension_cannot_edit")})]}),O.jsxs(Vv,{children:[O.jsx(Wv,{children:p0(J("settings_blocklist_allowlist_description"),"[%s]",(v,w)=>O.jsx(t9,{children:s==="Allow"?J("settings_allowlist_can"):J("settings_blocklist_cannot")},w))}),O.jsx(Hv,{children:J("settings_mode_switch")})]}),O.jsxs(e9,{$disabled:r==="Started",children:[O.jsx(Yv,{placeholder:J("settings_newblackbox_placeholder"),value:l,onChange:({target:v})=>d(v.value),onKeyDown:({key:v})=>g(v)}),O.jsx(qv,{children:i.map((v,w)=>O.jsxs(gg,{children:[O.jsx(Kv,{src:`https://www.google.com/s2/favicons?sz=64&domain_url=${v}`}),O.jsx(Xv,{children:v}),O.jsx(Qv,{src:Bv,onClick:()=>f(w)})]},v))})]})]})}const n9=["History","Blocklist","Allowlist","About","FAQ"],r9=gf`
  *, *::before, *::after {
    box-sizing: border-box;
  }

  * {
    margin: 0;
    user-select: none;
  }

  input, textarea {
    user-select: auto;
  }

  button {
    border: none;
    padding: 0;
    cursor: pointer;

    &:focus {
      outline: none;
    }
  }

  html, body, #root {
    height: 100%;
  }

  body {
    overflow: auto;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,
      Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
  }

  #root {
    display: flex;
    justify-content: center;
    align-items: center;
  }
`,i9=B("div")({boxShadow:"0px 10px 30px rgba(0, 0, 0, 0.2)"}),a9=B("div")({height:68,paddingLeft:20,display:"flex",alignItems:"center"}),s9=B("img")({marginRight:10,width:32,hieght:32}),o9=B("div")({color:"#333",fontSize:16,fontWeight:500}),l9=B.div`
  margin: auto;
  min-width: 765px;
  width: 765px;
  min-height: 572px;
  height: 572px;
  display: flex;
  flex-direction: column;
  overflow-x: hidden;
  overflow-y: auto;
`,u9=B.div`
  flex: 1;
  display: flex;
`,c9=B.div`
  flex: 1;
  padding: 28px 72px 28px 48px;
  height: 100%;
`,d9=B(pt.div)`
  z-index: 1000;
  position: fixed;
  inset: 0;
  background-color: rgba(0, 0, 0, 0.3);
`;function h9(){const s=r0(),e=Ih(),[r,i]=re.useState(n9[0]),a=Et(s0),l=Et(o0),u=Et(c0),d=Et(lu),g=Et(u0);return re.useEffect(()=>{Sl(Vr.OPTIONS_PAGE_REVALIDATE_SITE_LIST,({data:f})=>{a([f.siteBlockingMode,f.siteList])}),Sl(Vr.UPDATE_PLANTING_STATUS,({data:f})=>{l(async()=>f)}),Sl(Vr.RELOAD_OPTIONS_PAGE,()=>{location.reload()}),Wr.storage.onChanged.addListener(f=>{const{plantRecords:v,user:w,tags:x,accessToken:y,refreshToken:_}=f;v&&u(v.newValue),w&&d(w.newValue),x&&g(x.newValue),y&&Gl(y.newValue),(_==null?void 0:_.newValue)===null&&vp()})},[]),O.jsxs(O.Fragment,{children:[O.jsx(r9,{}),O.jsxs(i9,{children:[O.jsxs(a9,{children:[O.jsx(s9,{alt:"Logo",src:Gp}),O.jsx(o9,{children:J("settings_title")})]}),O.jsxs(l9,{children:[O.jsx(r3,{globalLoader:s}),O.jsxs(u9,{children:[O.jsx(v2,{currentRoute:r,setCurrentRoute:i}),O.jsxs(c9,{children:[r==="History"&&O.jsx(jv,{globalLoader:s}),r==="About"&&O.jsx(w3,{}),r==="FAQ"&&O.jsx(G3,{}),r==="Allowlist"&&O.jsx(Mh,{siteBlockingMode:"Allow"}),r==="Blocklist"&&O.jsx(Mh,{siteBlockingMode:"Block"})]})]}),O.jsx(g2,{showBlockLoginDialog:e.on}),e.trans((f,v)=>v&&O.jsx(Xp,{style:f,close:e.off})),s.trans((f,v)=>v&&O.jsx(d9,{style:f})),O.jsx(_2,{})]})]})]})}(async function(){const{serverRegion:e,accessToken:r,refreshToken:i}=await ru(["serverRegion","accessToken","refreshToken"]);qh({accessToken:r??null,refreshToken:i??null,serverRegion:e});const a=document.getElementById("root");a!==null&&ff(a).render(O.jsx(re.Suspense,{fallback:O.jsx(O.Fragment,{}),children:O.jsx(h9,{})}))})();

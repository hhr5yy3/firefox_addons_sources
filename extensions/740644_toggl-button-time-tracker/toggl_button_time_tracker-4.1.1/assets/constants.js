var us=(s,e,t)=>{if(!e.has(s))throw TypeError("Cannot "+t)};var m=(s,e,t)=>(us(s,e,"read from private field"),t?t.call(s):e.get(s)),I=(s,e,t)=>{if(e.has(s))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(s):e.set(s,t)},E=(s,e,t,r)=>(us(s,e,"write to private field"),r?r.call(s,t):e.set(s,t),t);var A=(s,e,t)=>(us(s,e,"access private method"),t);import{g as Eo,B,c as Tt}from"./browser-polyfill.js";function Oo(s,e){return e.forEach(function(t){t&&typeof t!="string"&&!Array.isArray(t)&&Object.keys(t).forEach(function(r){if(r!=="default"&&!(r in s)){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(s,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}})}),Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}const qr=Object.prototype.toString;function xo(s){switch(qr.call(s)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Kt(s,Error)}}function Ke(s,e){return qr.call(s)===`[object ${e}]`}function au(s){return Ke(s,"ErrorEvent")}function cu(s){return Ke(s,"DOMError")}function uu(s){return Ke(s,"DOMException")}function ms(s){return Ke(s,"String")}function No(s){return typeof s=="object"&&s!==null&&"__sentry_template_string__"in s&&"__sentry_template_values__"in s}function lu(s){return s===null||No(s)||typeof s!="object"&&typeof s!="function"}function Ns(s){return Ke(s,"Object")}function To(s){return typeof Event!="undefined"&&Kt(s,Event)}function Co(s){return typeof Element!="undefined"&&Kt(s,Element)}function Do(s){return Ke(s,"RegExp")}function Ts(s){return Boolean(s&&s.then&&typeof s.then=="function")}function Po(s){return Ns(s)&&"nativeEvent"in s&&"preventDefault"in s&&"stopPropagation"in s}function jo(s){return typeof s=="number"&&s!==s}function Kt(s,e){try{return s instanceof e}catch{return!1}}function Wr(s){return!!(typeof s=="object"&&s!==null&&(s.__isVue||s._isVue))}function tt(s,e=0){return typeof s!="string"||e===0||s.length<=e?s:`${s.slice(0,e)}...`}function pu(s,e){if(!Array.isArray(s))return"";const t=[];for(let r=0;r<s.length;r++){const n=s[r];try{Wr(n)?t.push("[VueViewModel]"):t.push(String(n))}catch{t.push("[value cannot be serialized]")}}return t.join(e)}function Io(s,e,t=!1){return ms(s)?Do(e)?e.test(s):ms(e)?t?s===e:s.includes(e):!1:!1}function hu(s,e=[],t=!1){return e.some(r=>Io(s,r,t))}var rt=typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{};function Ct(s){return s&&s.Math==Math?s:void 0}const H=typeof globalThis=="object"&&Ct(globalThis)||typeof window=="object"&&Ct(window)||typeof self=="object"&&Ct(self)||typeof rt=="object"&&Ct(rt)||function(){return this}()||{};function Mo(){return H}function Yr(s,e,t){const r=t||H,n=r.__SENTRY__=r.__SENTRY__||{};return n[s]||(n[s]=e())}const Cs=Mo(),Ao=80;function zo(s,e={}){if(!s)return"<unknown>";try{let t=s;const r=5,n=[];let i=0,o=0;const u=" > ",l=u.length;let h;const g=Array.isArray(e)?e:e.keyAttrs,d=!Array.isArray(e)&&e.maxStringLength||Ao;for(;t&&i++<r&&(h=Jo(t,g),!(h==="html"||i>1&&o+n.length*l+h.length>=d));)n.push(h),o+=h.length,t=t.parentNode;return n.reverse().join(u)}catch{return"<unknown>"}}function Jo(s,e){const t=s,r=[];let n,i,o,u,l;if(!t||!t.tagName)return"";if(Cs.HTMLElement&&t instanceof HTMLElement&&t.dataset&&t.dataset.sentryComponent)return t.dataset.sentryComponent;r.push(t.tagName.toLowerCase());const h=e&&e.length?e.filter(d=>t.getAttribute(d)).map(d=>[d,t.getAttribute(d)]):null;if(h&&h.length)h.forEach(d=>{r.push(`[${d[0]}="${d[1]}"]`)});else if(t.id&&r.push(`#${t.id}`),n=t.className,n&&ms(n))for(i=n.split(/\s+/),l=0;l<i.length;l++)r.push(`.${i[l]}`);const g=["aria-label","type","name","title","alt"];for(l=0;l<g.length;l++)o=g[l],u=t.getAttribute(o),u&&r.push(`[${o}="${u}"]`);return r.join("")}function fu(){try{return Cs.document.location.href}catch{return""}}function du(s){if(!Cs.HTMLElement)return null;let e=s;const t=5;for(let r=0;r<t;r++){if(!e)return null;if(e instanceof HTMLElement&&e.dataset.sentryComponent)return e.dataset.sentryComponent;e=e.parentNode}return null}const Vr=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__,Ro="Sentry Logger ",$r=["debug","info","warn","error","log","assert","trace"],Sr={};function Zr(s){if(!("console"in H))return s();const e=H.console,t={},r=Object.keys(Sr);r.forEach(n=>{const i=Sr[n];t[n]=e[n],e[n]=i});try{return s()}finally{r.forEach(n=>{e[n]=t[n]})}}function Lo(){let s=!1;const e={enable:()=>{s=!0},disable:()=>{s=!1},isEnabled:()=>s};return Vr?$r.forEach(t=>{e[t]=(...r)=>{s&&Zr(()=>{H.console[t](`${Ro}[${t}]:`,...r)})}}):$r.forEach(t=>{e[t]=()=>{}}),e}const pe=Lo();function gu(s,e,t){if(!(e in s))return;const r=s[e],n=t(r);typeof n=="function"&&Bo(n,r),s[e]=n}function Xr(s,e,t){try{Object.defineProperty(s,e,{value:t,writable:!0,configurable:!0})}catch{Vr&&pe.log(`Failed to add non-enumerable property "${e}" to object`,s)}}function Bo(s,e){try{const t=e.prototype||{};s.prototype=e.prototype=t,Xr(s,"__sentry_original__",e)}catch{}}function mu(s){return s.__sentry_original__}function yu(s){return Object.keys(s).map(e=>`${encodeURIComponent(e)}=${encodeURIComponent(s[e])}`).join("&")}function Qr(s){if(xo(s))return{message:s.message,name:s.name,stack:s.stack,...kr(s)};if(To(s)){const e={type:s.type,target:wr(s.target),currentTarget:wr(s.currentTarget),...kr(s)};return typeof CustomEvent!="undefined"&&Kt(s,CustomEvent)&&(e.detail=s.detail),e}else return s}function wr(s){try{return Co(s)?zo(s):Object.prototype.toString.call(s)}catch{return"<unknown>"}}function kr(s){if(typeof s=="object"&&s!==null){const e={};for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t]);return e}else return{}}function vu(s,e=40){const t=Object.keys(Qr(s));if(t.sort(),!t.length)return"[object has no keys]";if(t[0].length>=e)return tt(t[0],e);for(let r=t.length;r>0;r--){const n=t.slice(0,r).join(", ");if(!(n.length>e))return r===t.length?n:tt(n,e)}return""}function Ce(s){return ys(s,new Map)}function ys(s,e){if(Uo(s)){const t=e.get(s);if(t!==void 0)return t;const r={};e.set(s,r);for(const n of Object.keys(s))typeof s[n]!="undefined"&&(r[n]=ys(s[n],e));return r}if(Array.isArray(s)){const t=e.get(s);if(t!==void 0)return t;const r=[];return e.set(s,r),s.forEach(n=>{r.push(ys(n,e))}),r}return s}function Uo(s){if(!Ns(s))return!1;try{const e=Object.getPrototypeOf(s).constructor.name;return!e||e==="Object"}catch{return!0}}const en=50,Er=/\(error: (.*)\)/,Or=/captureMessage|captureException/;function Fo(...s){const e=s.sort((t,r)=>t[0]-r[0]).map(t=>t[1]);return(t,r=0)=>{const n=[],i=t.split(`
`);for(let o=r;o<i.length;o++){const u=i[o];if(u.length>1024)continue;const l=Er.test(u)?u.replace(Er,"$1"):u;if(!l.match(/\S*Error: /)){for(const h of e){const g=h(l);if(g){n.push(g);break}}if(n.length>=en)break}}return Ho(n)}}function _u(s){return Array.isArray(s)?Fo(...s):s}function Ho(s){if(!s.length)return[];const e=Array.from(s);return/sentryWrapped/.test(e[e.length-1].function||"")&&e.pop(),e.reverse(),Or.test(e[e.length-1].function||"")&&(e.pop(),Or.test(e[e.length-1].function||"")&&e.pop()),e.slice(0,en).map(t=>({...t,filename:t.filename||e[e.length-1].filename,function:t.function||"?"}))}const ls="<anonymous>";function Go(s){try{return!s||typeof s!="function"?ls:s.name||ls}catch{return ls}}function Q(){const s=H,e=s.crypto||s.msCrypto;let t=()=>Math.random()*16;try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(t=()=>{const r=new Uint8Array(1);return e.getRandomValues(r),r[0]})}catch{}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,r=>(r^(t()&15)>>r/4).toString(16))}function tn(s){return s.exception&&s.exception.values?s.exception.values[0]:void 0}function bu(s){const{message:e,event_id:t}=s;if(e)return e;const r=tn(s);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||t||"<unknown>":t||"<unknown>"}function $u(s,e,t){const r=s.exception=s.exception||{},n=r.values=r.values||[],i=n[0]=n[0]||{};i.value||(i.value=e||""),i.type||(i.type=t||"Error")}function Ko(s,e){const t=tn(s);if(!t)return;const r={type:"generic",handled:!0},n=t.mechanism;if(t.mechanism={...r,...n,...e},e&&"data"in e){const i={...n&&n.data,...e.data};t.mechanism.data=i}}function Su(s){if(s&&s.__sentry_captured__)return!0;try{Xr(s,"__sentry_captured__",!0)}catch{}return!1}function qo(s){return Array.isArray(s)?s:[s]}function Wo(){const s=typeof WeakSet=="function",e=s?new WeakSet:[];function t(n){if(s)return e.has(n)?!0:(e.add(n),!1);for(let i=0;i<e.length;i++)if(e[i]===n)return!0;return e.push(n),!1}function r(n){if(s)e.delete(n);else for(let i=0;i<e.length;i++)if(e[i]===n){e.splice(i,1);break}}return[t,r]}function Te(s,e=100,t=1/0){try{return vs("",s,e,t)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function Yo(s,e=3,t=100*1024){const r=Te(s,e);return Qo(r)>t?Yo(s,e-1,t):r}function vs(s,e,t=1/0,r=1/0,n=Wo()){const[i,o]=n;if(e==null||["number","boolean","string"].includes(typeof e)&&!jo(e))return e;const u=Vo(s,e);if(!u.startsWith("[object "))return u;if(e.__sentry_skip_normalization__)return e;const l=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:t;if(l===0)return u.replace("object ","");if(i(e))return"[Circular ~]";const h=e;if(h&&typeof h.toJSON=="function")try{const y=h.toJSON();return vs("",y,l-1,r,n)}catch{}const g=Array.isArray(e)?[]:{};let d=0;const $=Qr(e);for(const y in $){if(!Object.prototype.hasOwnProperty.call($,y))continue;if(d>=r){g[y]="[MaxProperties ~]";break}const w=$[y];g[y]=vs(y,w,l-1,r,n),d++}return o(e),g}function Vo(s,e){try{if(s==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(s==="domainEmitter")return"[DomainEmitter]";if(typeof rt!="undefined"&&e===rt)return"[Global]";if(typeof window!="undefined"&&e===window)return"[Window]";if(typeof document!="undefined"&&e===document)return"[Document]";if(Wr(e))return"[VueViewModel]";if(Po(e))return"[SyntheticEvent]";if(typeof e=="number"&&e!==e)return"[NaN]";if(typeof e=="function")return`[Function: ${Go(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;const t=Zo(e);return/^HTML(\w*)Element$/.test(t)?`[HTMLElement: ${t}]`:`[object ${t}]`}catch(t){return`**non-serializable** (${t})`}}function Zo(s){const e=Object.getPrototypeOf(s);return e?e.constructor.name:"null prototype"}function Xo(s){return~-encodeURI(s).split(/%..|./).length}function Qo(s){return Xo(JSON.stringify(s))}var ue;(function(s){s[s.PENDING=0]="PENDING";const t=1;s[s.RESOLVED=t]="RESOLVED";const r=2;s[s.REJECTED=r]="REJECTED"})(ue||(ue={}));function wu(s){return new re(e=>{e(s)})}function ku(s){return new re((e,t)=>{t(s)})}class re{constructor(e){re.prototype.__init.call(this),re.prototype.__init2.call(this),re.prototype.__init3.call(this),re.prototype.__init4.call(this),this._state=ue.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(t){this._reject(t)}}then(e,t){return new re((r,n)=>{this._handlers.push([!1,i=>{if(!e)r(i);else try{r(e(i))}catch(o){n(o)}},i=>{if(!t)n(i);else try{r(t(i))}catch(o){n(o)}}]),this._executeHandlers()})}catch(e){return this.then(t=>t,e)}finally(e){return new re((t,r)=>{let n,i;return this.then(o=>{i=!1,n=o,e&&e()},o=>{i=!0,n=o,e&&e()}).then(()=>{if(i){r(n);return}t(n)})})}__init(){this._resolve=e=>{this._setResult(ue.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(ue.REJECTED,e)}}__init3(){this._setResult=(e,t)=>{if(this._state===ue.PENDING){if(Ts(t)){t.then(this._resolve,this._reject);return}this._state=e,this._value=t,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===ue.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach(t=>{t[0]||(this._state===ue.RESOLVED&&t[1](this._value),this._state===ue.REJECTED&&t[2](this._value),t[0]=!0)})}}}const sn=1e3;function qt(){return Date.now()/sn}function ea(){const{performance:s}=H;if(!s||!s.now)return qt;const e=Date.now()-s.now(),t=s.timeOrigin==null?e:s.timeOrigin;return()=>(t+s.now())/sn}const rn=ea();(()=>{const{performance:s}=H;if(!s||!s.now)return;const e=3600*1e3,t=s.now(),r=Date.now(),n=s.timeOrigin?Math.abs(s.timeOrigin+t-r):e,i=n<e,o=s.timing&&s.timing.navigationStart,l=typeof o=="number"?Math.abs(o+t-r):e,h=l<e;return i||h?n<=l?s.timeOrigin:o:r})();const At=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__,Wt="production";function Ds(){return Yr("globalEventProcessors",()=>[])}function Eu(s){Ds().push(s)}function Bt(s,e,t,r=0){return new re((n,i)=>{const o=s[r];if(e===null||typeof o!="function")n(e);else{const u=o({...e},t);At&&o.id&&u===null&&pe.log(`Event processor "${o.id}" dropped event`),Ts(u)?u.then(l=>Bt(s,l,t,r+1).then(n)).then(null,i):Bt(s,u,t,r+1).then(n).then(null,i)}})}function nn(s){const e=rn(),t={sid:Q(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>ta(t)};return s&&ft(t,s),t}function ft(s,e={}){if(e.user&&(!s.ipAddress&&e.user.ip_address&&(s.ipAddress=e.user.ip_address),!s.did&&!e.did&&(s.did=e.user.id||e.user.email||e.user.username)),s.timestamp=e.timestamp||rn(),e.abnormal_mechanism&&(s.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(s.ignoreDuration=e.ignoreDuration),e.sid&&(s.sid=e.sid.length===32?e.sid:Q()),e.init!==void 0&&(s.init=e.init),!s.did&&e.did&&(s.did=`${e.did}`),typeof e.started=="number"&&(s.started=e.started),s.ignoreDuration)s.duration=void 0;else if(typeof e.duration=="number")s.duration=e.duration;else{const t=s.timestamp-s.started;s.duration=t>=0?t:0}e.release&&(s.release=e.release),e.environment&&(s.environment=e.environment),!s.ipAddress&&e.ipAddress&&(s.ipAddress=e.ipAddress),!s.userAgent&&e.userAgent&&(s.userAgent=e.userAgent),typeof e.errors=="number"&&(s.errors=e.errors),e.status&&(s.status=e.status)}function on(s,e){let t={};e?t={status:e}:s.status==="ok"&&(t={status:"exited"}),ft(s,t)}function ta(s){return Ce({sid:`${s.sid}`,init:s.init,started:new Date(s.started*1e3).toISOString(),timestamp:new Date(s.timestamp*1e3).toISOString(),status:s.status,errors:s.errors,did:typeof s.did=="number"||typeof s.did=="string"?`${s.did}`:void 0,duration:s.duration,abnormal_mechanism:s.abnormal_mechanism,attrs:{release:s.release,environment:s.environment,ip_address:s.ipAddress,user_agent:s.userAgent}})}const sa=1;function ra(s){const{spanId:e,traceId:t}=s.spanContext(),{data:r,op:n,parent_span_id:i,status:o,tags:u,origin:l}=nt(s);return Ce({data:r,op:n,parent_span_id:i,span_id:e,status:o,tags:u,trace_id:t,origin:l})}function nt(s){return na(s)?s.getSpanJSON():typeof s.toJSON=="function"?s.toJSON():{}}function na(s){return typeof s.getSpanJSON=="function"}function ia(s){const{traceFlags:e}=s.spanContext();return Boolean(e&sa)}function Ou(s,e,t,r,n,i){const{normalizeDepth:o=3,normalizeMaxBreadth:u=1e3}=s,l={...e,event_id:e.event_id||t.event_id||Q(),timestamp:e.timestamp||qt()},h=t.integrations||s.integrations.map(D=>D.name);oa(l,s),ua(l,h),e.type===void 0&&aa(l,s.stackParser);const g=pa(r,t.captureContext);t.mechanism&&Ko(l,t.mechanism);const d=n&&n.getEventProcessors?n.getEventProcessors():[],$=Ea().getScopeData();if(i){const D=i.getScopeData();Nr($,D)}if(g){const D=g.getScopeData();Nr($,D)}const y=[...t.attachments||[],...$.attachments];y.length&&(t.attachments=y),ln(l,$);const w=[...d,...Ds(),...$.eventProcessors];return Bt(w,l,t).then(D=>(D&&ca(D),typeof o=="number"&&o>0?la(D,o,u):D))}function oa(s,e){const{environment:t,release:r,dist:n,maxValueLength:i=250}=e;"environment"in s||(s.environment="environment"in e?t:Wt),s.release===void 0&&r!==void 0&&(s.release=r),s.dist===void 0&&n!==void 0&&(s.dist=n),s.message&&(s.message=tt(s.message,i));const o=s.exception&&s.exception.values&&s.exception.values[0];o&&o.value&&(o.value=tt(o.value,i));const u=s.request;u&&u.url&&(u.url=tt(u.url,i))}const xr=new WeakMap;function aa(s,e){const t=H._sentryDebugIds;if(!t)return;let r;const n=xr.get(e);n?r=n:(r=new Map,xr.set(e,r));const i=Object.keys(t).reduce((o,u)=>{let l;const h=r.get(u);h?l=h:(l=e(u),r.set(u,l));for(let g=l.length-1;g>=0;g--){const d=l[g];if(d.filename){o[d.filename]=t[u];break}}return o},{});try{s.exception.values.forEach(o=>{o.stacktrace.frames.forEach(u=>{u.filename&&(u.debug_id=i[u.filename])})})}catch{}}function ca(s){const e={};try{s.exception.values.forEach(r=>{r.stacktrace.frames.forEach(n=>{n.debug_id&&(n.abs_path?e[n.abs_path]=n.debug_id:n.filename&&(e[n.filename]=n.debug_id),delete n.debug_id)})})}catch{}if(Object.keys(e).length===0)return;s.debug_meta=s.debug_meta||{},s.debug_meta.images=s.debug_meta.images||[];const t=s.debug_meta.images;Object.keys(e).forEach(r=>{t.push({type:"sourcemap",code_file:r,debug_id:e[r]})})}function ua(s,e){e.length>0&&(s.sdk=s.sdk||{},s.sdk.integrations=[...s.sdk.integrations||[],...e])}function la(s,e,t){if(!s)return null;const r={...s,...s.breadcrumbs&&{breadcrumbs:s.breadcrumbs.map(n=>({...n,...n.data&&{data:Te(n.data,e,t)}}))},...s.user&&{user:Te(s.user,e,t)},...s.contexts&&{contexts:Te(s.contexts,e,t)},...s.extra&&{extra:Te(s.extra,e,t)}};return s.contexts&&s.contexts.trace&&r.contexts&&(r.contexts.trace=s.contexts.trace,s.contexts.trace.data&&(r.contexts.trace.data=Te(s.contexts.trace.data,e,t))),s.spans&&(r.spans=s.spans.map(n=>{const i=nt(n).data;return i&&(n.data=Te(i,e,t)),n})),r}function pa(s,e){if(!e)return s;const t=s?s.clone():new de;return t.update(e),t}function ha(s){if(!!s)return fa(s)?{captureContext:s}:ga(s)?{captureContext:s}:s}function fa(s){return s instanceof de||typeof s=="function"}const da=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function ga(s){return Object.keys(s).some(e=>da.includes(e))}function ma(s,e){return we().captureException(s,ha(e))}function xu(s,e){return we().captureEvent(s,e)}function Nu(s,e){we().addBreadcrumb(s,e)}function Tu(s){we().setUser(s)}function Cu(...s){const e=we();if(s.length===2){const[t,r]=s;return t?e.withScope(()=>(e.getStackTop().scope=t,r(t))):e.withScope(r)}return e.withScope(s[0])}function Ps(){return we().getClient()}function Yt(){return we().getScope()}function Du(s){const e=Ps(),t=js(),r=Yt(),{release:n,environment:i=Wt}=e&&e.getOptions()||{},{userAgent:o}=H.navigator||{},u=nn({release:n,environment:i,user:r.getUser()||t.getUser(),...o&&{userAgent:o},...s}),l=t.getSession();return l&&l.status==="ok"&&ft(l,{status:"exited"}),an(),t.setSession(u),r.setSession(u),u}function an(){const s=js(),e=Yt(),t=e.getSession()||s.getSession();t&&on(t),cn(),s.setSession(),e.setSession()}function cn(){const s=js(),e=Yt(),t=Ps(),r=e.getSession()||s.getSession();r&&t&&t.captureSession&&t.captureSession(r)}function Pu(s=!1){if(s){an();return}cn()}function un(s){return s.transaction}function ya(s,e,t){const r=e.getOptions(),{publicKey:n}=e.getDsn()||{},{segment:i}=t&&t.getUser()||{},o=Ce({environment:r.environment||Wt,release:r.release,user_segment:i,public_key:n,trace_id:s});return e.emit&&e.emit("createDsc",o),o}function va(s){const e=Ps();if(!e)return{};const t=ya(nt(s).trace_id||"",e,Yt()),r=un(s);if(!r)return t;const n=r&&r._frozenDynamicSamplingContext;if(n)return n;const{sampleRate:i,source:o}=r.metadata;i!=null&&(t.sample_rate=`${i}`);const u=nt(r);return o&&o!=="url"&&(t.transaction=u.description),t.sampled=String(ia(r)),e.emit&&e.emit("createDsc",t),t}function ln(s,e){const{fingerprint:t,span:r,breadcrumbs:n,sdkProcessingMetadata:i}=e;_a(s,e),r&&Sa(s,r),wa(s,t),ba(s,n),$a(s,i)}function Nr(s,e){const{extra:t,tags:r,user:n,contexts:i,level:o,sdkProcessingMetadata:u,breadcrumbs:l,fingerprint:h,eventProcessors:g,attachments:d,propagationContext:$,transactionName:y,span:w}=e;Xe(s,"extra",t),Xe(s,"tags",r),Xe(s,"user",n),Xe(s,"contexts",i),Xe(s,"sdkProcessingMetadata",u),o&&(s.level=o),y&&(s.transactionName=y),w&&(s.span=w),l.length&&(s.breadcrumbs=[...s.breadcrumbs,...l]),h.length&&(s.fingerprint=[...s.fingerprint,...h]),g.length&&(s.eventProcessors=[...s.eventProcessors,...g]),d.length&&(s.attachments=[...s.attachments,...d]),s.propagationContext={...s.propagationContext,...$}}function Xe(s,e,t){if(t&&Object.keys(t).length){s[e]={...s[e]};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(s[e][r]=t[r])}}function _a(s,e){const{extra:t,tags:r,user:n,contexts:i,level:o,transactionName:u}=e,l=Ce(t);l&&Object.keys(l).length&&(s.extra={...l,...s.extra});const h=Ce(r);h&&Object.keys(h).length&&(s.tags={...h,...s.tags});const g=Ce(n);g&&Object.keys(g).length&&(s.user={...g,...s.user});const d=Ce(i);d&&Object.keys(d).length&&(s.contexts={...d,...s.contexts}),o&&(s.level=o),u&&(s.transaction=u)}function ba(s,e){const t=[...s.breadcrumbs||[],...e];s.breadcrumbs=t.length?t:void 0}function $a(s,e){s.sdkProcessingMetadata={...s.sdkProcessingMetadata,...e}}function Sa(s,e){s.contexts={trace:ra(e),...s.contexts};const t=un(e);if(t){s.sdkProcessingMetadata={dynamicSamplingContext:va(e),...s.sdkProcessingMetadata};const r=nt(t).description;r&&(s.tags={transaction:r,...s.tags})}}function wa(s,e){s.fingerprint=s.fingerprint?qo(s.fingerprint):[],e&&(s.fingerprint=s.fingerprint.concat(e)),s.fingerprint&&!s.fingerprint.length&&delete s.fingerprint}const ka=100;let ps;class de{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=Tr()}static clone(e){return e?e.clone():new de}clone(){const e=new de;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._span=this._span,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e}setClient(e){this._client=e}getClient(){return this._client}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&ft(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return t===null?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this._span;return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const t=typeof e=="function"?e(this):e;if(t instanceof de){const r=t.getScopeData();this._tags={...this._tags,...r.tags},this._extra={...this._extra,...r.extra},this._contexts={...this._contexts,...r.contexts},r.user&&Object.keys(r.user).length&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint.length&&(this._fingerprint=r.fingerprint),t.getRequestSession()&&(this._requestSession=t.getRequestSession()),r.propagationContext&&(this._propagationContext=r.propagationContext)}else if(Ns(t)){const r=e;this._tags={...this._tags,...r.tags},this._extra={...this._extra,...r.extra},this._contexts={...this._contexts,...r.contexts},r.user&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint&&(this._fingerprint=r.fingerprint),r.requestSession&&(this._requestSession=r.requestSession),r.propagationContext&&(this._propagationContext=r.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=Tr(),this}addBreadcrumb(e,t){const r=typeof t=="number"?t:ka;if(r<=0)return this;const n={timestamp:qt(),...e},i=this._breadcrumbs;return i.push(n),this._breadcrumbs=i.length>r?i.slice(-r):i,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:e,_attachments:t,_contexts:r,_tags:n,_extra:i,_user:o,_level:u,_fingerprint:l,_eventProcessors:h,_propagationContext:g,_sdkProcessingMetadata:d,_transactionName:$,_span:y}=this;return{breadcrumbs:e,attachments:t,contexts:r,tags:n,extra:i,user:o,level:u,fingerprint:l||[],eventProcessors:h,propagationContext:g,sdkProcessingMetadata:d,transactionName:$,span:y}}applyToEvent(e,t={},r=[]){ln(e,this.getScopeData());const n=[...r,...Ds(),...this._eventProcessors];return Bt(n,e,t)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){const r=t&&t.event_id?t.event_id:Q();if(!this._client)return pe.warn("No client configured on scope - will not capture exception!"),r;const n=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:n,...t,event_id:r},this),r}captureMessage(e,t,r){const n=r&&r.event_id?r.event_id:Q();if(!this._client)return pe.warn("No client configured on scope - will not capture message!"),n;const i=new Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:i,...r,event_id:n},this),n}captureEvent(e,t){const r=t&&t.event_id?t.event_id:Q();return this._client?(this._client.captureEvent(e,{...t,event_id:r},this),r):(pe.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}function Ea(){return ps||(ps=new de),ps}function Tr(){return{traceId:Q(),spanId:Q().substring(16)}}const Oa="7.119.0",pn=parseFloat(Oa),xa=100;class hn{constructor(e,t,r,n=pn){this._version=n;let i;t?i=t:(i=new de,i.setClient(e));let o;r?o=r:(o=new de,o.setClient(e)),this._stack=[{scope:i}],e&&this.bindClient(e),this._isolationScope=o}isOlderThan(e){return this._version<e}bindClient(e){const t=this.getStackTop();t.client=e,t.scope.setClient(e),e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(e){const t=this.pushScope();let r;try{r=e(t)}catch(n){throw this.popScope(),n}return Ts(r)?r.then(n=>(this.popScope(),n),n=>{throw this.popScope(),n}):(this.popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,t){const r=this._lastEventId=t&&t.event_id?t.event_id:Q(),n=new Error("Sentry syntheticException");return this.getScope().captureException(e,{originalException:e,syntheticException:n,...t,event_id:r}),r}captureMessage(e,t,r){const n=this._lastEventId=r&&r.event_id?r.event_id:Q(),i=new Error(e);return this.getScope().captureMessage(e,t,{originalException:e,syntheticException:i,...r,event_id:n}),n}captureEvent(e,t){const r=t&&t.event_id?t.event_id:Q();return e.type||(this._lastEventId=r),this.getScope().captureEvent(e,{...t,event_id:r}),r}lastEventId(){return this._lastEventId}addBreadcrumb(e,t){const{scope:r,client:n}=this.getStackTop();if(!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:o=xa}=n.getOptions&&n.getOptions()||{};if(o<=0)return;const l={timestamp:qt(),...e},h=i?Zr(()=>i(l,t)):l;h!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",h,t),r.addBreadcrumb(h,o))}setUser(e){this.getScope().setUser(e),this.getIsolationScope().setUser(e)}setTags(e){this.getScope().setTags(e),this.getIsolationScope().setTags(e)}setExtras(e){this.getScope().setExtras(e),this.getIsolationScope().setExtras(e)}setTag(e,t){this.getScope().setTag(e,t),this.getIsolationScope().setTag(e,t)}setExtra(e,t){this.getScope().setExtra(e,t),this.getIsolationScope().setExtra(e,t)}setContext(e,t){this.getScope().setContext(e,t),this.getIsolationScope().setContext(e,t)}configureScope(e){const{scope:t,client:r}=this.getStackTop();r&&e(t)}run(e){const t=Cr(this);try{e(this)}finally{Cr(t)}}getIntegration(e){const t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch{return At&&pe.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,t){const r=this._callExtensionMethod("startTransaction",e,t);return At&&!r&&(this.getClient()?pe.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):pe.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),r}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const t=this.getStackTop().scope,r=t.getSession();r&&on(r),this._sendSessionUpdate(),t.setSession()}startSession(e){const{scope:t,client:r}=this.getStackTop(),{release:n,environment:i=Wt}=r&&r.getOptions()||{},{userAgent:o}=H.navigator||{},u=nn({release:n,environment:i,user:t.getUser(),...o&&{userAgent:o},...e}),l=t.getSession&&t.getSession();return l&&l.status==="ok"&&ft(l,{status:"exited"}),this.endSession(),t.setSession(u),u}shouldSendDefaultPii(){const e=this.getClient(),t=e&&e.getOptions();return Boolean(t&&t.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:t}=this.getStackTop(),r=e.getSession();r&&t&&t.captureSession&&t.captureSession(r)}_callExtensionMethod(e,...t){const n=Vt().__SENTRY__;if(n&&n.extensions&&typeof n.extensions[e]=="function")return n.extensions[e].apply(this,t);At&&pe.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function Vt(){return H.__SENTRY__=H.__SENTRY__||{extensions:{},hub:void 0},H}function Cr(s){const e=Vt(),t=_s(e);return fn(e,s),t}function we(){const s=Vt();if(s.__SENTRY__&&s.__SENTRY__.acs){const e=s.__SENTRY__.acs.getCurrentHub();if(e)return e}return Na(s)}function js(){return we().getIsolationScope()}function Na(s=Vt()){return(!Ta(s)||_s(s).isOlderThan(pn))&&fn(s,new hn),_s(s)}function Ta(s){return!!(s&&s.__SENTRY__&&s.__SENTRY__.hub)}function _s(s){return Yr("hub",()=>new hn,s)}function fn(s,e){if(!s)return!1;const t=s.__SENTRY__=s.__SENTRY__||{};return t.hub=e,!0}var Ca;function Se(){}Se.prototype=Object.create(null);function O(){O.init.call(this)}O.EventEmitter=O;O.usingDomains=!1;O.prototype.domain=void 0;O.prototype._events=void 0;O.prototype._maxListeners=void 0;O.defaultMaxListeners=10;O.init=function(){this.domain=null,O.usingDomains&&Ca.active,(!this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=new Se,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};O.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this};function dn(s){return s._maxListeners===void 0?O.defaultMaxListeners:s._maxListeners}O.prototype.getMaxListeners=function(){return dn(this)};function Da(s,e,t){if(e)s.call(t);else for(var r=s.length,n=dt(s,r),i=0;i<r;++i)n[i].call(t)}function Pa(s,e,t,r){if(e)s.call(t,r);else for(var n=s.length,i=dt(s,n),o=0;o<n;++o)i[o].call(t,r)}function ja(s,e,t,r,n){if(e)s.call(t,r,n);else for(var i=s.length,o=dt(s,i),u=0;u<i;++u)o[u].call(t,r,n)}function Ia(s,e,t,r,n,i){if(e)s.call(t,r,n,i);else for(var o=s.length,u=dt(s,o),l=0;l<o;++l)u[l].call(t,r,n,i)}function Ma(s,e,t,r){if(e)s.apply(t,r);else for(var n=s.length,i=dt(s,n),o=0;o<n;++o)i[o].apply(t,r)}O.prototype.emit=function(e){var t,r,n,i,o,u,l,h=e==="error";if(u=this._events,u)h=h&&u.error==null;else if(!h)return!1;if(l=this.domain,h){if(t=arguments[1],l)t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=l,t.domainThrown=!1,l.emit("error",t);else{if(t instanceof Error)throw t;var g=new Error('Uncaught, unspecified "error" event. ('+t+")");throw g.context=t,g}return!1}if(r=u[e],!r)return!1;var d=typeof r=="function";switch(n=arguments.length,n){case 1:Da(r,d,this);break;case 2:Pa(r,d,this,arguments[1]);break;case 3:ja(r,d,this,arguments[1],arguments[2]);break;case 4:Ia(r,d,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(n-1),o=1;o<n;o++)i[o-1]=arguments[o];Ma(r,d,this,i)}return!0};function gn(s,e,t,r){var n,i,o;if(typeof t!="function")throw new TypeError('"listener" argument must be a function');if(i=s._events,i?(i.newListener&&(s.emit("newListener",e,t.listener?t.listener:t),i=s._events),o=i[e]):(i=s._events=new Se,s._eventsCount=0),!o)o=i[e]=t,++s._eventsCount;else if(typeof o=="function"?o=i[e]=r?[t,o]:[o,t]:r?o.unshift(t):o.push(t),!o.warned&&(n=dn(s),n&&n>0&&o.length>n)){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+e+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=s,u.type=e,u.count=o.length,Aa(u)}return s}function Aa(s){typeof console.warn=="function"?console.warn(s):console.log(s)}O.prototype.addListener=function(e,t){return gn(this,e,t,!1)};O.prototype.on=O.prototype.addListener;O.prototype.prependListener=function(e,t){return gn(this,e,t,!0)};function mn(s,e,t){var r=!1;function n(){s.removeListener(e,n),r||(r=!0,t.apply(s,arguments))}return n.listener=t,n}O.prototype.once=function(e,t){if(typeof t!="function")throw new TypeError('"listener" argument must be a function');return this.on(e,mn(this,e,t)),this};O.prototype.prependOnceListener=function(e,t){if(typeof t!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(e,mn(this,e,t)),this};O.prototype.removeListener=function(e,t){var r,n,i,o,u;if(typeof t!="function")throw new TypeError('"listener" argument must be a function');if(n=this._events,!n)return this;if(r=n[e],!r)return this;if(r===t||r.listener&&r.listener===t)--this._eventsCount===0?this._events=new Se:(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if(typeof r!="function"){for(i=-1,o=r.length;o-- >0;)if(r[o]===t||r[o].listener&&r[o].listener===t){u=r[o].listener,i=o;break}if(i<0)return this;if(r.length===1){if(r[0]=void 0,--this._eventsCount===0)return this._events=new Se,this;delete n[e]}else za(r,i);n.removeListener&&this.emit("removeListener",e,u||t)}return this};O.prototype.removeAllListeners=function(e){var t,r;if(r=this._events,!r)return this;if(!r.removeListener)return arguments.length===0?(this._events=new Se,this._eventsCount=0):r[e]&&(--this._eventsCount===0?this._events=new Se:delete r[e]),this;if(arguments.length===0){for(var n=Object.keys(r),i=0,o;i<n.length;++i)o=n[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=new Se,this._eventsCount=0,this}if(t=r[e],typeof t=="function")this.removeListener(e,t);else if(t)do this.removeListener(e,t[t.length-1]);while(t[0]);return this};O.prototype.listeners=function(e){var t,r,n=this._events;return n?(t=n[e],t?typeof t=="function"?r=[t.listener||t]:r=Ja(t):r=[]):r=[],r};O.listenerCount=function(s,e){return typeof s.listenerCount=="function"?s.listenerCount(e):yn.call(s,e)};O.prototype.listenerCount=yn;function yn(s){var e=this._events;if(e){var t=e[s];if(typeof t=="function")return 1;if(t)return t.length}return 0}O.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};function za(s,e){for(var t=e,r=t+1,n=s.length;r<n;t+=1,r+=1)s[t]=s[r];s.pop()}function dt(s,e){for(var t=new Array(e);e--;)t[e]=s[e];return t}function Ja(s){for(var e=new Array(s.length),t=0;t<e.length;++t)e[t]=s[t].listener||s[t];return e}var bs={exports:{}},Ra={},La=Object.freeze(Object.defineProperty({__proto__:null,default:Ra},Symbol.toStringTag,{value:"Module"})),Dr=Eo(La);(function(s){var e=Dr,t=Dr,r=s.exports;for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);r.request=function(o,u){return o=i(o),e.request.call(this,o,u)},r.get=function(o,u){return o=i(o),e.get.call(this,o,u)};function i(o){if(typeof o=="string"&&(o=t.parse(o)),o.protocol||(o.protocol="https:"),o.protocol!=="https:")throw new Error('Protocol "'+o.protocol+'" not supported. Expected "https:"');return o}})(bs);const Ba=typeof globalThis!="undefined"?globalThis:rt,Ua=Ba.performance;function Fa(s){const e=Ua.now()*.001;let t=Math.floor(e),r=Math.floor(e%1*1e9);return s!=null&&(t=t-s[0],r=r-s[1],r<0&&(t--,r+=1e9)),[t,r]}function st(){const[s,e]=Fa();return s*1e3+Math.floor(e/1e6)}function vn(s){return new Promise(e=>setTimeout(e,s))}class Ha{constructor({bucketSize:e,tokensPerInterval:t,interval:r,parentBucket:n}){if(this.bucketSize=e,this.tokensPerInterval=t,typeof r=="string")switch(r){case"sec":case"second":this.interval=1e3;break;case"min":case"minute":this.interval=1e3*60;break;case"hr":case"hour":this.interval=1e3*60*60;break;case"day":this.interval=1e3*60*60*24;break;default:throw new Error("Invalid interval "+r)}else this.interval=r;this.parentBucket=n,this.content=0,this.lastDrip=st()}async removeTokens(e){if(this.bucketSize===0)return Number.POSITIVE_INFINITY;if(e>this.bucketSize)throw new Error(`Requested tokens ${e} exceeds bucket size ${this.bucketSize}`);this.drip();const t=async()=>{const r=Math.ceil((e-this.content)*(this.interval/this.tokensPerInterval));return await vn(r),this.removeTokens(e)};if(e>this.content)return t();if(this.parentBucket!=null){const r=await this.parentBucket.removeTokens(e);return e>this.content?t():(this.content-=e,Math.min(r,this.content))}else return this.content-=e,this.content}tryRemoveTokens(e){return this.bucketSize?e>this.bucketSize||(this.drip(),e>this.content)||this.parentBucket&&!this.parentBucket.tryRemoveTokens(e)?!1:(this.content-=e,!0):!0}drip(){if(this.tokensPerInterval===0){const i=this.content;return this.content=this.bucketSize,this.content>i}const e=st(),t=Math.max(e-this.lastDrip,0);this.lastDrip=e;const r=t*(this.tokensPerInterval/this.interval),n=this.content;return this.content=Math.min(this.content+r,this.bucketSize),Math.floor(this.content)>Math.floor(n)}}class Pr{constructor({tokensPerInterval:e,interval:t,fireImmediately:r}){this.tokenBucket=new Ha({bucketSize:e,tokensPerInterval:e,interval:t}),this.tokenBucket.content=e,this.curIntervalStart=st(),this.tokensThisInterval=0,this.fireImmediately=r!=null?r:!1}async removeTokens(e){if(e>this.tokenBucket.bucketSize)throw new Error(`Requested tokens ${e} exceeds maximum tokens per interval ${this.tokenBucket.bucketSize}`);const t=st();if((t<this.curIntervalStart||t-this.curIntervalStart>=this.tokenBucket.interval)&&(this.curIntervalStart=t,this.tokensThisInterval=0),e>this.tokenBucket.tokensPerInterval-this.tokensThisInterval){if(this.fireImmediately)return-1;{const n=Math.ceil(this.curIntervalStart+this.tokenBucket.interval-t);await vn(n);const i=await this.tokenBucket.removeTokens(e);return this.tokensThisInterval+=e,i}}const r=await this.tokenBucket.removeTokens(e);return this.tokensThisInterval+=e,r}tryRemoveTokens(e){if(e>this.tokenBucket.bucketSize)return!1;const t=st();if((t<this.curIntervalStart||t-this.curIntervalStart>=this.tokenBucket.interval)&&(this.curIntervalStart=t,this.tokensThisInterval=0),e>this.tokenBucket.tokensPerInterval-this.tokensThisInterval)return!1;const r=this.tokenBucket.tryRemoveTokens(e);return r&&(this.tokensThisInterval+=e),r}getTokensRemaining(){return this.tokenBucket.drip(),this.tokenBucket.content}}const Ga="apiCache",Ka=1,Ut="responses",qa=30*60*1e3;let _n=5*60*1e3;const Le=new Map;let gt=!1,z=!1;const Wa=s=>{gt=s},Ya=s=>{_n=s*60*1e3},Va=s=>{z=s},q=(s,e)=>{console.log(`%c [API-CACHE] ${s}`,"font-weight: bold; font-size: 1rem; color: #FDE7DF; background: #412A4C; padding: 2px 4px; border-radius: 4px;")},Za=()=>new Promise((s,e)=>{const t=indexedDB.open(Ga,Ka);t.onupgradeneeded=r=>{const n=r.target.result;n.objectStoreNames.contains(Ut)||n.createObjectStore(Ut,{keyPath:"key"})},t.onsuccess=r=>{s(r.target.result)},t.onerror=r=>{e(r.target.error)}}),Ae=async s=>(await Za()).transaction(Ut,s).objectStore(Ut),jr=s=>{const e={};return s.forEach((t,r)=>{e[r]=t}),e},Ir=s=>{const e=new Headers;for(const t in s)e.append(t,s[t]);return e},Xa=async(s,e,t=gt)=>{var r;if(t){const n=await Ae("readwrite"),{data:i,responseHeaders:o}=e;n.put({key:s,data:{...i,responseHeaders:o?jr(o):{}},timestamp:Date.now()})}else{const{data:n,responseHeaders:i}=e;Le.set(s,{data:{...n,responseHeaders:i?jr(i):{}},timestamp:Date.now()})}z&&q(`Cache entry for ${((r=JSON.parse(s))==null?void 0:r.url)||s} stored \u{1F4E6}`)},Qa=async(s,e=gt)=>{var t,r;if(e){const n=await Ae("readonly");return new Promise((i,o)=>{const u=n.get(s);u.onsuccess=l=>{var g,d;const h=l.target.result;h?(i({...h,data:{...h.data,responseHeaders:Ir(h.data.responseHeaders)}}),z&&q(`Cache hit for ${((g=JSON.parse(s))==null?void 0:g.url)||s} \u2705`)):(i(null),z&&q(`Cache miss for ${((d=JSON.parse(s))==null?void 0:d.url)||s} \u274C`))},u.onerror=l=>{o(l.target.error)}})}else{const n=Le.get(s);return n?(z&&q(`Cache hit for ${((t=JSON.parse(s))==null?void 0:t.url)||s} \u2705`),{...n,data:{...n.data,responseHeaders:Ir(n.data.responseHeaders)}}):(z&&q(`Cache miss for ${((r=JSON.parse(s))==null?void 0:r.url)||s} \u274C`),null)}},ec=async s=>{var t;(await Ae("readwrite")).delete(s),z&&q(`Cache entry for ${((t=JSON.parse(s))==null?void 0:t.url)||s} removed \u{1F5D1}\uFE0F`)},bn=async()=>{(await Ae("readwrite")).clear(),z&&q("All cache entries removed \u{1F5D1}\uFE0F")},tc=async()=>{const s=await Ae("readwrite"),e=s.openCursor(),t=Date.now();e.onsuccess=r=>{const n=r.target.result;if(n){const{timestamp:i}=n.value;t-i>_n&&(s.delete(n.key),z&&q(`Expired cache entry ${n.key} removed \u{1F5D1}\uFE0F`)),n.continue()}},e.onerror=r=>{z&&(console.error("Failed to clean up expired cache:",r.target.error),ma(new Error("Failed to clean up expired cache: "+r.target.error)))}},sc=async(s,e=gt)=>{if(e){const r=(await Ae("readwrite")).openCursor();r.onsuccess=n=>{const i=n.target.result;if(i){const{url:o}=JSON.parse(String(i.key));(o.split("?")[0]===s||o===s)&&(i.delete(),z&&q(`Cache entry for ${o} removed \u{1F5D1}\uFE0F`)),i.continue()}},r.onerror=n=>{z&&console.error("Failed to delete cache entry:",n.target.error)}}else Le.forEach((t,r)=>{const{url:n}=JSON.parse(r);n.split("?")[0]===s&&(Le.delete(r),z&&q(`Cache entry for ${n} removed \u{1F5D1}\uFE0F`))})},rc=async(s,e=gt)=>{if(e){const r=(await Ae("readwrite")).openCursor();r.onsuccess=n=>{const i=n.target.result;if(i){const{url:o}=JSON.parse(String(i.key));(s instanceof RegExp&&s.test(o)||o.includes(s))&&(i.delete(),z&&q(`Cache entry for ${o} removed \u{1F5D1}\uFE0F`)),i.continue()}},r.onerror=n=>{z&&console.error("Failed to delete cache entry:",n.target.error)}}else Le.forEach((t,r)=>{const{url:n}=JSON.parse(r);(s instanceof RegExp&&s.test(n)||n.includes(s))&&(Le.delete(r),z&&q(`Cache entry for ${n} removed \u{1F5D1}\uFE0F`))})};let $n;const nc=()=>{$n=setInterval(()=>{tc().catch(s=>{z&&console.error("Failed to clean up expired cache:",s)})},qa)},ic=()=>{bn(),clearInterval($n),z&&q("Cache wiped \u{1F9FC}")},L={set:Xa,get:Qa,remove:ec,removeByUrl:sc,removeByPattern:rc,bust:bn,wipe:ic,setCacheDuration:Ya,setPersist:Wa,setDebug:Va};if(typeof window=="undefined"||typeof indexedDB=="undefined")for(const s in L)s==="get"?L.get=()=>new Promise(e=>e(null)):L[s]=async()=>{};nc();let Sn;const oc=new Promise(s=>{Sn=s});let Mr=!1;const Dt=new Map,Je=typeof window!="undefined"&&typeof localStorage!="undefined";let Ar=!1;const hs={dedupe:!0,cache:!1,persist:!0,cacheDurationInMinutes:5,staleWhileRevalidate:!1,debug:!1,bustOnRapidRefresh:2};var ct,_e,Z,Re,De,Pe,ut,je,lt,be,$e,j,X,pt,Ss,se,ve,ht,ws,Ie,et,Ht,wn,Gt,kn;const Ks=class extends O{constructor({accountsHost:t="https://accounts.toggl.com",apiToken:r,headers:n={},host:i="https://api.track.toggl.com",https:o,planHost:u="https://api.plan.toggl.com",reportsHost:l=i,skipPermissionsDependency:h=!1,version:g="",optimizations:d}={}){var $;super();I(this,pt);I(this,se);I(this,ht);I(this,Ie);I(this,Ht);I(this,Gt);I(this,ct,void 0);I(this,_e,void 0);I(this,Z,void 0);I(this,Re,void 0);I(this,De,void 0);I(this,Pe,void 0);I(this,ut,void 0);I(this,je,void 0);I(this,lt,void 0);I(this,be,void 0);I(this,$e,void 0);I(this,j,void 0);I(this,X,void 0);if(E(this,_e,void 0),E(this,Re,new Set),E(this,be,!1),E(this,X,new Pr({tokensPerInterval:10,interval:3e3})),this.serviceLevel="UNKNOWN",this.throttle=()=>A(this,pt,Ss).call(this),E(this,ct,t),E(this,Z,r),E(this,De,n!=null?n:{}),E(this,Pe,i),E(this,ut,u),E(this,je,l),E(this,lt,h),E(this,$e,g),E(this,j,d||(Je&&localStorage.getItem("api-optimizations")?JSON.parse(($=localStorage.getItem("api-optimizations"))!=null?$:"{}"):hs)),m(this,j).cacheDurationInMinutes&&L.setCacheDuration(m(this,j).cacheDurationInMinutes),m(this,j).persist&&L.setPersist(m(this,j).persist),Je&&m(this,j).debug&&L.setDebug(m(this,j).debug),Je&&m(this,j).bustOnRapidRefresh&&!Ar&&A(this,Gt,kn).call(this),o){if(!bs.exports.Agent)throw new Error("Not running in a Node.js environment");o.certificateAuthority&&E(this,_e,new bs.exports.Agent({ca:o.certificateAuthority}))}}delete(t,r,n){var i,o;return A(this,Ie,et).call(this,t,(i=r==null?void 0:r.optimizations)==null?void 0:i.cacheScope,(o=r==null?void 0:r.optimizations)==null?void 0:o.persist),A(this,se,ve).call(this,t,{...r,method:"DELETE"},n)}get(t,r,n){return A(this,ht,ws).call(this,t,{...r,method:"GET"},n)}head(t,r,n){return A(this,se,ve).call(this,t,{...r,method:"HEAD"},n)}patch(t,r,n){var i,o;return A(this,Ie,et).call(this,t,(i=r==null?void 0:r.optimizations)==null?void 0:i.cacheScope,(o=r==null?void 0:r.optimizations)==null?void 0:o.persist),A(this,se,ve).call(this,t,{...r,method:"PATCH"},n)}post(t,r,n){var i,o,u;return(i=r==null?void 0:r.optimizations)!=null&&i.cacheable?A(this,ht,ws).call(this,t,{...r,method:"POST"},n):(A(this,Ie,et).call(this,t,(o=r==null?void 0:r.optimizations)==null?void 0:o.cacheScope,(u=r==null?void 0:r.optimizations)==null?void 0:u.persist),A(this,se,ve).call(this,t,{...r,method:"POST"},n))}put(t,r,n){var i,o;return A(this,Ie,et).call(this,t,(i=r==null?void 0:r.optimizations)==null?void 0:i.cacheScope,(o=r==null?void 0:r.optimizations)==null?void 0:o.persist),A(this,se,ve).call(this,t,{...r,method:"PUT"},n)}invalidateCacheByPatterns(t,r){t.forEach(n=>L.removeByPattern(n,r))}setOptimizations(t){E(this,j,{...hs,...t}),m(this,j).cacheDurationInMinutes&&L.setCacheDuration(m(this,j).cacheDurationInMinutes),m(this,j).persist&&L.setPersist(m(this,j).persist),Je&&m(this,j).debug&&L.setDebug(m(this,j).debug),Je&&localStorage.setItem("api-optimizations",JSON.stringify(m(this,j)))}bustCache(){L.bust()}wipeCache(){Je&&localStorage.removeItem("api-optimizations"),L.wipe()}apiToken(){return m(this,Z)}setApiToken(t){E(this,Z,t)}setPermissions(t){Mr=t,Sn()}async getPermissions(){return m(this,lt)||await oc,Mr?"true":"false"}newAPI(){const t=new Ks;return E(t,Z,m(this,Z)),E(t,_e,m(this,_e)),E(t,De,m(this,De)),E(t,Pe,m(this,Pe)),E(t,je,m(this,je)),E(t,$e,m(this,$e)),E(t,be,m(this,be)),E(t,X,new Pr({tokensPerInterval:m(this,X).tokenBucket.tokensPerInterval,interval:m(this,X).tokenBucket.interval})),t}};let $s=Ks;ct=new WeakMap,_e=new WeakMap,Z=new WeakMap,Re=new WeakMap,De=new WeakMap,Pe=new WeakMap,ut=new WeakMap,je=new WeakMap,lt=new WeakMap,be=new WeakMap,$e=new WeakMap,j=new WeakMap,X=new WeakMap,pt=new WeakSet,Ss=async function(){await m(this,X).removeTokens(1)},se=new WeakSet,ve=async function(t,r,n){var d,$;let i;const o=new Headers({...m(this,De),...r!=null&&r.headers?Array.isArray(r.headers)?Object.fromEntries(r.headers):r.headers:{}});if(o.set("X-User-Agent",`@toggl/track-api ${{}.NEXT_API_VERSION}${m(this,$e)?`; ${m(this,$e)}`:""}`),!o.has("Content-Type")&&!((r==null?void 0:r.body)instanceof FormData)&&o.set("Content-Type","application/json"),m(this,Z)&&o.set("Authorization",(d=o.get("Authorization"))!=null?d:`Basic ${btoa(`${m(this,Z)||""}:api_token`)}`),n==="plan"&&(o.delete("X-User-Agent"),o.delete("App-Version"),o.delete("X-Toggl-Client"),o.delete("Authorization")),m(this,be))throw new te("I'm a teapot!",{url:t,init:r,response:i});const u=t.startsWith("/reports/api/v3/")?"reports":n!=null?n:"track",l={accounts:m(this,ct),plan:m(this,ut),reports:m(this,je),track:m(this,Pe)},h=new URL(t,l[u]);if(m(this,Re).has(h.pathname))throw new te("blacklist",{url:t,init:r,response:i});let g;try{const y={...r,agent:m(this,_e),headers:o};this.emit("request",h,y);do await A(this,pt,Ss).call(this),i=await fetch(h.toString(),y),g=i.status===429,g&&(this.emit("rateLimited",m(this,X).tokenBucket.content),await m(this,X).removeTokens(m(this,X).tokenBucket.tokensPerInterval));while(g);if(i.status===401)throw E(this,Z,void 0),this.emit("unauthorized"),new te("unauthorized",{url:t,init:r,response:i});if(i.status===403)throw this.emit("forbidden"),new te("Forbidden",{url:t,init:r,response:i});if(i.status===410&&m(this,Re).add(h.pathname),i.status===418)throw E(this,be,!0),this.emit("teapot"),new te("I'm a teapot!",{url:t,init:r,response:i});if(!i.ok){const k=await cc(i);throw new te(typeof k=="string"?k:i.statusText,{init:r,response:i,url:t,data:k})}this.serviceLevel=($=i.headers.get("X-Service-Level"))!=null?$:"UNKNOWN";const w={data:await ac(i),responseHeaders:i.headers,status:i.status,statusText:i.statusText};return this.emit("response",t,w,y),w}catch(y){let w;throw y instanceof te?w=y:y instanceof Error?w=new te(y.message,{init:r,response:i,url:t}):w=new te("failed",{init:r,response:i,url:t}),this.listenerCount("error")&&this.emit("error",w),w}},ht=new WeakSet,ws=async function(t,r,n){const{dedupe:i,cache:o,cacheDurationInMinutes:u,staleWhileRevalidate:l,disableCaching:h,persist:g}={...hs,...m(this,j),...(r==null?void 0:r.optimizations)||{}},d=A(this,Ht,wn).call(this,t,r),$=!o||h?null:await L.get(d,g);if(o&&!h&&$&&Date.now()-$.timestamp<u*60*1e3){if(l){const w=A(this,se,ve).call(this,t,r,n).then(k=>(L.set(d,{data:k,timestamp:Date.now()},g),k));return Promise.resolve({...$.data,revalidatedData:w})}return Promise.resolve($.data)}if(i&&Dt.has(d))return console.warn("\u26A0\uFE0F Duplicate Request",{url:t,init:r}),Dt.get(d);const y=A(this,se,ve).call(this,t,r,n);i&&Dt.set(d,y);try{const w=await y;return o&&!h&&L.set(d,{data:w,timestamp:Date.now()},g),w}finally{Dt.delete(d)}},Ie=new WeakSet,et=function(t,r,n){L.removeByUrl(t,n),r&&this.invalidateCacheByPatterns(r,n)},Ht=new WeakSet,wn=function(t,r){return JSON.stringify({url:t,init:{...r,optimizations:void 0}})},Gt=new WeakSet,kn=function(){if(typeof window=="undefined")return;Ar=!0;const t=30*1e3,r="api-refresh-tracking",n=typeof m(this,j).bustOnRapidRefresh=="number"?m(this,j).bustOnRapidRefresh:3;window.addEventListener("beforeunload",()=>{const i=sessionStorage.getItem(r),o=i?JSON.parse(i):{refreshCount:0,lastRefreshTime:0},u=Date.now();u-o.lastRefreshTime>t?o.refreshCount=1:o.refreshCount+=1,o.lastRefreshTime=u,sessionStorage.setItem(r,JSON.stringify(o)),o.refreshCount>=n&&(this.bustCache(),o.refreshCount=0,sessionStorage.setItem(r,JSON.stringify(o)))})};class te extends Error{constructor(e,t){super(e),this.name="RequestError",this.url=t.url,this.init=t.init,this.response=t.response,this.data=t.data}get fingerprint(){var e,t;return[(e=this.init)==null?void 0:e.method,uc(this.url),(t=this.response)==null?void 0:t.status]}}const ac=s=>{var t;const e=(t=s.headers.get("content-type"))!=null?t:"";return/application\/json/.test(e)&&(s.status===204||s.headers.get("content-length")==="0")?Promise.resolve(null):/application\/json/.test(e)?s.json():!e||/^text\/(plain|html)|charset=utf-8$/.test(e)?s.text():s.arrayBuffer()},cc=async s=>{const e=s.headers.get("content-type")||"";if(/application\/json/.test(e)&&s.headers.get("content-length")==="0")return Promise.resolve("There was an error. If this error persists, please contact support.");let t;if(/application\/json/.test(e)){const r=await s.text();try{t=JSON.parse(r)}catch{return r}}else t=await s.text();return t},uc=s=>s.split("/").map(e=>e.replace(/^\d+$/,":id")).join("/").replace(/\?.*$/,""),T=s=>{const e={...s};for(const r in s)(e[r]===void 0||e[r]===null||e[r]==="")&&delete e[r];const t=new URLSearchParams(e).toString();return t?`?${t}`:""},_=s=>({headers:{...s.reduce((e,t)=>({...e,...t()}),{})}}),b=s=>s==="true"?{"x-toggl-permissions":s}:{};class lc extends $s{constructor(){super(...arguments),this.accounts={closeAccount:{track:(e,t)=>this.post("/api/me/close_account/track",{body:JSON.stringify(e),credentials:"include",optimizations:t},"accounts")},me:{fetch:e=>this.get("/api/me",{credentials:"include",optimizations:e},"accounts"),update:(e,t)=>this.put("/api/me",{body:JSON.stringify(e),credentials:"include",optimizations:t},"accounts")},sessions:{check:e=>this.get("/api/sessions",{credentials:"include",optimizations:e},"accounts"),login:(e,t)=>this.post("/api/sessions",{body:JSON.stringify(e),credentials:"include",optimizations:t},"accounts"),logout:(e=!1,t)=>this.delete("/api/sessions",{body:JSON.stringify({close_all_sessions:e}),credentials:"include",optimizations:t},"accounts")},signup:(e,t)=>this.post("/api/signup",{body:JSON.stringify(e),credentials:"include",optimizations:t},"accounts"),sso:{profiles:{fetch:e=>this.get("/sso/api/profiles",{credentials:"include",optimizations:e},"accounts")}}},this.analytics={charts:{create:(e,t)=>this.post("/analytics/api/charts",{body:JSON.stringify(e),optimizations:t}),list:(e,t)=>this.get(`/analytics/api/charts?organization_id=${e}`,{optimizations:t}),fetch:(e,t)=>this.get(`/analytics/api/charts/${e}`,{optimizations:t}),update:(e,t,r)=>this.patch(`/analytics/api/charts/${e}`,{body:JSON.stringify(t),optimizations:r}),delete:e=>this.delete(`/analytics/api/charts/${e}`),userOptions:{update:(e,t,r)=>this.patch(`/analytics/api/charts/${e}/user_options`,{body:JSON.stringify(t),optimizations:r})},privileges:{update:(e,t,r)=>this.patch(`/analytics/api/charts/${e}/privileges`,{body:JSON.stringify({permissions:t}),optimizations:r}),delete:(e,t,r)=>this.delete(`/analytics/api/charts/${e}/privileges/${t.source}/${t.id}`,{optimizations:r})},tokens:{update:(e,t,r)=>this.patch(`/analytics/api/charts/${e}/tokens`,{body:JSON.stringify(t),optimizations:r})},dashboards:{list:(e,t)=>this.get(`/analytics/api/charts/${e}/dashboards`,{optimizations:t})}},dashboards:{create:(e,t)=>this.post("/analytics/api/dashboards",{body:JSON.stringify(e),optimizations:t}),list:(e,t)=>this.get(`/analytics/api/dashboards?organization_id=${e}`,{optimizations:t}),fetch:(e,t)=>this.get(`/analytics/api/dashboards/${e}`,{optimizations:t}),update:(e,t,r)=>this.patch(`/analytics/api/dashboards/${e}`,{body:JSON.stringify(t),optimizations:r}),delete:(e,t)=>this.delete(`/analytics/api/dashboards/${e}`,{optimizations:t}),charts:{fetch:(e,t)=>this.get(`/analytics/api/dashboards/${e}/charts`,{optimizations:t})},userOptions:{update:(e,t,r)=>this.patch(`/analytics/api/dashboards/${e}/user_options`,{body:JSON.stringify(t),optimizations:r})},privileges:{update:(e,t,r)=>this.patch(`/analytics/api/dashboards/${e}/privileges`,{body:JSON.stringify({permissions:t}),optimizations:r}),delete:(e,t,r)=>this.delete(`/analytics/api/dashboards/${e}/privileges/${t.source}/${t.id}`,{optimizations:r})},tokens:{update:(e,t,r)=>this.patch(`/analytics/api/dashboards/${e}/tokens`,{body:JSON.stringify(t),optimizations:r})}},exports:{chart:(e,t,r,n)=>this.post(`exports/api/v1/chart.${t}${T({useToken:r?!0:void 0})}`,{body:JSON.stringify(e),optimizations:n}),dashboard:(e,t,r,n)=>this.post(`exports/api/v1/dashboard.${t}${T({useToken:r?!0:void 0})}`,{body:JSON.stringify(e),optimizations:n})},shared:{fetch:(e,t)=>this.get(`/analytics/api/shared/${e}`,{optimizations:t})}},this.approvals={timesheetSetup:{list:(e,t,r)=>{const n=T(t);return this.get(`/api/v9/workspaces/${e}/timesheet_setups${n}`,{optimizations:r})},update:(e,t,r,n)=>this.put(`/api/v9/workspaces/${e}/timesheet_setups/${t}`,{body:JSON.stringify(r),optimizations:n}),create:(e,t,r)=>this.post(`/api/v9/workspaces/${e}/timesheet_setups`,{body:JSON.stringify(t),optimizations:r}),delete:(e,t,r)=>this.delete(`/api/v9/workspaces/${e}/timesheet_setups/${t}`,{optimizations:r})},timesheet:{list:(e,t,r)=>{const n=T(t);return this.get(`/api/v9/workspaces/${e}/timesheets${n}`,{optimizations:r})},hours:(e,t,r)=>this.post(`/api/v9/workspaces/${e}/timesheets/hours`,{body:JSON.stringify(t),optimizations:{...r,cacheable:!0}}),update:(e,t,r,n,i)=>this.put(`/api/v9/workspaces/${e}/timesheets/${t}/${r}`,{body:JSON.stringify(n),optimizations:i}),timeEntries:(e,t,r,n)=>this.get(`/api/v9/workspaces/${e}/timesheets/${t}/${r}/time_entries`,{optimizations:n})}},this.auditLog={fetch:(e,t)=>{const{from:r,to:n}=t,i=T({...t,from:void 0,to:void 0});return this.get(`/api/v9/organizations/${e}/audit_log/${r}/${n}${i}`)}},this.auth={saml2login:({email:e,client:t},r)=>this.get(`/api/v9/auth/saml2/login?email=${e}&client=${t}`,{optimizations:r})},this.avatar={gravatar:e=>this.post("/api/v9/avatars/use_gravatar",{body:JSON.stringify({}),optimizations:e}),remove:e=>this.delete("/api/v9/avatars",{optimizations:e}),upload:(e,t)=>{const r=new FormData;return r.append("file",e),this.post("/api/v9/avatars",{body:r,optimizations:t})}},this.calendar={deleteCalendarIntegration:(e,t)=>this.delete(`/api/v9/integrations/calendar/${e}`,{optimizations:t}),fetchCalendarIntegrationCalendars:(e,t,r,n)=>{const i={selected_only:t.toString()};r&&(i.page_token=r);const o="?"+new URLSearchParams(i);return this.get(`/api/v9/integrations/calendar/${e}/calendars${o}`,{optimizations:n})},fetchCalendarIntegrations:e=>this.get("/api/v9/integrations/calendar",{optimizations:e}),fetchCalendarIntegrationEvents:(e,t,r,n)=>{const i={start_date:e,end_date:t};r&&(i.page_token=r);const o="?"+new URLSearchParams(i);return this.get(`/api/v9/integrations/calendar/events${o}`,{optimizations:n})},getEventDetailsSuggestion:(e,t)=>this.get(`/api/v9/integrations/calendar/events/${e}/details-suggestion`,{optimizations:t}),refreshCalendarList:(e,t)=>this.post(`/api/v9/integrations/calendar/${e}/calendars/update`,{optimizations:t}),refreshEvents:e=>this.post("/api/v9/integrations/calendar/events/update",{optimizations:e}),updateCalendar:(e,t,r,n)=>this.patch(`/api/v9/integrations/calendar/${e}/calendars/${t}`,{body:JSON.stringify(r),optimizations:n}),getBulkEventDetailsSuggestion:(e,t)=>this.post("/api/v9/integrations/calendar/events/details-suggestion",{body:JSON.stringify(e),optimizations:t})},this.client={archive:(e,t)=>this.post(`/api/v9/workspaces/${e.wid}/clients/${e.id}/archive`,{optimizations:t}),create:(e,t)=>this.getPermissions().then(r=>this.post(`/api/v9/workspaces/${e.wid}/clients`,{body:JSON.stringify(e),..._([()=>b(r)]),optimizations:t})),data:(e,t)=>this.post(`/api/v9/workspaces/${e}/clients/data`,{body:JSON.stringify({client_ids:t})}),delete:(e,t)=>this.delete(`/api/v9/workspaces/${e.wid}/clients/${e.id}`,{optimizations:t}),fetch:(e,t,r,n)=>{var l,h;const o={status:(t==null?void 0:t.active)==="both"?"both":(t==null?void 0:t.active)===!0?"active":(t==null?void 0:t.active)===!1?"archived":"active"};t!=null&&t.name&&(o.name=t.name),r&&(o.page=(l=r.page)==null?void 0:l.toString(),o.per_page=(h=r.per_page)==null?void 0:h.toString());const u=new URLSearchParams(o);return this.getPermissions().then(g=>this.get(`/api/v9/workspaces/${e}/clients?${u.toString()}`,{..._([()=>b(g)]),optimizations:n}))},restore:(e,t,r)=>this.getPermissions().then(n=>this.post(`/api/v9/workspaces/${e.wid}/clients/${e.id}/restore`,{body:JSON.stringify(t==="all"?{restore_all_projects:!0}:{projects:t}),..._([()=>b(n)]),optimizations:r})),update:(e,t)=>this.getPermissions().then(r=>this.put(`/api/v9/workspaces/${e.wid}/clients/${e.id}`,{body:JSON.stringify(e),..._([()=>b(r)]),optimizations:t}))},this.countries={fetch:e=>this.get("/api/v9/countries",{optimizations:e}),fetchStates:(e,t)=>this.get(`/api/v9/countries/${e}/subdivisions`,{optimizations:t})},this.csv={import:(e,t)=>{const r=new FormData;return r.append("upload_id",""+e.uploadId),r.append("api_token",e.apiToken),r.append("workspace_id",""+e.workspaceId),r.append("toggl_new","true"),e.sendInvites&&r.append("send_invites","1"),this.post("/api/csv/import",{body:r,optimizations:t})},status:(e,t)=>{const r=new FormData;return r.append("upload_id",""+e.uploadId),r.append("api_token",e.apiToken),r.append("workspace_id",""+e.workspaceId),r.append("toggl_new","true"),this.post("/api/csv/status",{body:r,optimizations:t})},validate:(e,t)=>{const r=new FormData;return r.append("filedata",e.file),r.append("api_token",e.apiToken),r.append("workspace_id",""+e.workspaceId),r.append("toggl_new","true"),this.post("/api/csv/validate",{body:r,optimizations:t})}},this.currencies=e=>this.get("/api/v9/currencies",{optimizations:e}),this.feedback={send:(e,t)=>{const r=new FormData;return e.subject&&r.append("subject",e.subject),r.append("details",e.details),r.append("date",e.date),r.append("toggl_version",e.toggl_version),this.post("/api/v9/feedback/web",{body:r,optimizations:t})}},this.flags={change:(e,t)=>this.post("/api/v9/me/flags",{body:JSON.stringify(e),optimizations:t}),fetch:e=>this.get("/api/v9/me/flags",{optimizations:e})},this.insights={workspace:{dataTrends:{projects:(e,t,r)=>this.post(`/insights/api/v1/workspace/${e}/data_trends/projects`,{body:JSON.stringify(t),optimizations:{...r,cacheable:!0}})},profitability:{employeesExport:(e,t,r,n)=>this.post(`insights/api/v1/workspace/${e}/profitability/employees.${r}`,{body:JSON.stringify(t),optimizations:n}),projectsExport:(e,t,r,n)=>this.post(`insights/api/v1/workspace/${e}/profitability/projects.${r}`,{body:JSON.stringify(t),optimizations:n})},trends:{projectsExport:(e,t,r,n)=>this.post(`/insights/api/v1/workspace/${e}/trends/projects.${r}`,{body:JSON.stringify(t),optimizations:n})}}},this.integrations={authService:(e,t,r,n)=>this.post(`/integrations/api/v2/auth/${e}/${t}`,{body:JSON.stringify({redirect_url:r}),credentials:"include",optimizations:n}),createConfiguration:(e,t,r,n,i)=>this.post(`/integrations/api/v2/services/${e}/${t}`,{body:JSON.stringify({enabled:n,configuration:r}),optimizations:i}),deleteConfiguration:(e,t,r)=>this.delete(`/integrations/api/v2/services/${e}/${t}`,{optimizations:r}),getIntegrations:(e,t)=>this.get(`/integrations/api/v2/services/${e}`,{optimizations:t}),removeAuthService:(e,t,r)=>this.delete(`/integrations/api/v2/auth/${e}/${t}`,{optimizations:r}),setServiceEnabled:(e,t,r,n)=>this.patch(`/integrations/api/v2/services/${e}/${t}`,{body:JSON.stringify({enabled:r}),optimizations:n}),sync:(e,t,r)=>this.post(`/integrations/api/v2/sync/${e}/${t}`,{optimizations:r}),updateConfiguration:(e,t,r,n,i)=>this.put(`/integrations/api/v2/services/${e}/${t}`,{body:JSON.stringify({enabled:n,configuration:r}),optimizations:i}),validateJira2Filtering:(e,t,r,n)=>this.post(`/integrations/api/v2/services/${e}/jira2/validate`,{body:JSON.stringify({...r,jira_active_site:t}),optimizations:n}),getQuickBooksCustomers:(e,t)=>this.get(`/integrations/api/v2/services/${e}/quickbooks/customers`,{optimizations:t}),submitInvoiceToQuickBooks:(e,t,r)=>this.post(`/integrations/api/v2/services/${e}/quickbooks/invoices`,{body:JSON.stringify(t),optimizations:r}),asana:{get:(e,t)=>this.get(`/integrations/api/v2/services/${e}/asana/pipes`,{optimizations:t}),accounts:(e,t)=>this.get(`/integrations/api/v2/services/${e}/asana/accounts`,{optimizations:t}),auth:{uninstall:(e,t)=>this.delete(`/integrations/api/v2/services/${e}/asana`,{optimizations:t})},pipes:{setup:(e,t,r,n)=>this.post(`/integrations/api/v2/services/${e}/asana/pipes/${t}`,{body:JSON.stringify(r),optimizations:n}),update:(e,t,r,n)=>this.put(`/integrations/api/v2/services/${e}/asana/pipes/${t}`,{body:JSON.stringify(r),optimizations:n}),run:(e,t,r,n,i)=>this.post(`/integrations/api/v2/services/${e}/asana/pipes/${t}/run`,{body:JSON.stringify({send_invites:r,ids:n}),optimizations:i}),sync:(e,t,r)=>this.post(`/integrations/api/v2/sync/${e}/asana`,{optimizations:r}),users:(e,t,r)=>this.get(`/integrations/api/v2/services/${e}/asana/pipes/users/users`,{optimizations:r}),log:(e,t,r)=>this.get(`/integrations/api/v2/services/${e}/asana/pipes/${t}/log`,{optimizations:r}),config:{get:(e,t,r)=>this.get(`/integrations/api/v2/services/${e}/asana/pipes/${t}`,{optimizations:r}),delete:(e,t,r)=>this.delete(`/integrations/api/v2/services/${e}/asana/pipes/${t}`,{optimizations:r})}}}},this.invitations={invitation:(e,t)=>this.get(`/api/v9/invitations/${e}`,{optimizations:t})},this.location=e=>this.get("/api/v9/me/location",{optimizations:e}),this.me={acceptTermsOfService:e=>this.post("/api/v9/me/accept_tos",{optimizations:e}),changePassword:(e,t,r)=>this.put("/api/v9/me",{body:JSON.stringify({current_password:e,password:t}),optimizations:r}),clients:{list:(e,t)=>this.getPermissions().then(r=>this.get(`/api/v9/me/clients${e?`?since=${e}`:""}`,{..._([()=>b(r)]),optimizations:t}))},closeAccount:(e,t)=>this.post("/api/v9/me/close_account",{body:JSON.stringify(e),optimizations:t}),disableOAuth:{apple:e=>this.post("/api/v9/me/enable_oauth/apple",{body:JSON.stringify({enabled:!1}),optimizations:e}),google:e=>this.post("/api/v9/me/enable_oauth/google",{body:JSON.stringify({enabled:!1}),optimizations:e})},enableOAuth:{apple:(e,t)=>this.post("/api/v9/me/enable_oauth/apple",{body:JSON.stringify({enabled:!0,token:e}),optimizations:t}),google:(e,t)=>this.post("/api/v9/me/enable_oauth/google",{body:JSON.stringify({enabled:!0,code:e}),optimizations:t})},enableSso:(e,t)=>this.post("/api/v9/me/enable_sso",{body:JSON.stringify(e),optimizations:t}),export:{create:(e,t)=>this.post("/api/v9/me/export",{body:JSON.stringify(e),optimizations:t}),get:e=>this.get("/api/v9/me/export",{optimizations:e})},favorites:{create:(e,t=!1,r)=>this.post(`/api/v9/me/favorites${t?"?meta=true":""}`,{body:JSON.stringify(e),optimizations:r}),update:(e,t=!1,r)=>this.put(`/api/v9/me/favorites${t?"?meta=true":""}`,{body:JSON.stringify(e),optimizations:r}),delete:(e,t)=>this.delete(`/api/v9/me/favorites/${e}`,{optimizations:{cacheScope:["me/favorites"],...t}}),list:(e=!1,t)=>this.getPermissions().then(r=>this.get(`/api/v9/me/favorites${e?"?meta=true":""}`,{..._([()=>b(r)]),optimizations:{cache:!0,cacheDurationInMinutes:15,...t}})),suggestions:e=>this.post("/api/v9/me/favorites/suggestions",{optimizations:e})},features:{list:e=>this.get("/api/v9/me/features",{optimizations:{cache:!0,...e}}),organization:{list:e=>this.get("/api/v9/me/features?for_organization=true",{optimizations:{cache:!0,cacheDurationInMinutes:30,...e}})}},get:e=>this.get("/api/v9/me",{optimizations:e}),login:(e,t)=>this.post("/api/v9/me/sessions",{headers:{Authorization:`Basic ${btoa(unescape(encodeURIComponent("email"in e?`${e.email}:${e.password}`:"apiToken"in e?`${e.apiToken}:api_token`:"code"in e?`${e.code}:${e.method}`:"token"in e?`${e.token}:${e.method}`:"")))}`},body:JSON.stringify({remember_me:!0}),optimizations:t}),logout:e=>this.delete("/api/v9/me/sessions",{optimizations:e}),lostPasswords:(e,t)=>this.post("/api/v9/me/lost_passwords",{body:JSON.stringify(e),optimizations:t}),lostPasswordsToken:(e,t)=>this.get(`/api/v9/me/lost_passwords/${e}`,{optimizations:t}),lostPasswordsNewPassword:(e,t)=>this.post("/api/v9/me/lost_passwords/confirm",{body:JSON.stringify(e),optimizations:t}),notifications:{delete:(e,t)=>this.put(`api/v9/me/notifications/${e}/seen`,{body:JSON.stringify({}),optimizations:t}),list:e=>this.get("/api/v9/me/notifications",{optimizations:e})},organizations:{list:e=>this.getPermissions().then(t=>this.get("/api/v9/me/organizations",{..._([()=>b(t)]),optimizations:e}))},preferences:{fetch:e=>this.get("/api/v9/me/preferences/web",{optimizations:{cache:!0,cacheDurationInMinutes:60,...e}}),update:(e,t)=>this.post("/api/v9/me/preferences/web",{body:JSON.stringify(e),optimizations:t})},projects:{list:(e,t)=>this.getPermissions().then(r=>this.get(`/api/v9/me/projects${e?`?since=${e}`:""}`,{..._([()=>b(r)]),optimizations:t}))},reminders:{list:e=>this.getPermissions().then(t=>this.get("/api/v9/me/track_reminders",{..._([()=>b(t)]),optimizations:e}))},resetToken:e=>this.post("/api/v9/me/reset_token",{optimizations:e}),tags:{list:(e,t)=>{const r=T({since:e});return this.getPermissions().then(n=>this.get(`/api/v9/me/tags${r}`,{..._([()=>b(n)]),optimizations:{cache:!0,...t}}))}},tasks:{list:(e,t,r)=>{const n=T({since:e,meta:t});return this.getPermissions().then(i=>this.get(`/api/v9/me/tasks${n}`,{..._([()=>b(i)]),optimizations:r}))}},timeEntries:{current:e=>this.getPermissions().then(t=>this.get("/api/v9/me/time_entries/current",{..._([()=>b(t)]),optimizations:e})),fetch:(e,t,r=!1,n=!1,i)=>{let o;e&&t?o={end_date:new Date(t).toISOString().substring(0,10),start_date:new Date(e).toISOString().substring(0,10)}:o=t?{before:new Date(t).toISOString().substring(0,10)}:{since:e?Math.floor(new Date(e).getTime()/1e3).toString():""};const u=T({...o,meta:r,include_sharing:n});return this.getPermissions().then(l=>this.get(`/api/v9/me/time_entries${u}`,{..._([()=>b(l)]),optimizations:i}))},list:(e,t=!1,r)=>this.getPermissions().then(n=>this.get(`/api/v9/me/time_entries${T({since:e,meta:t})}`,{..._([()=>b(n)]),optimizations:r}))},timeEntryInvitations:{fetch:(e,t)=>this.get(`/api/v9/me/time_entry_invitations${T({since:e})}`,{optimizations:t}),accept:(e,t,r)=>this.post(`/api/v9/workspaces/${e}/time_entry_invitations/${t}/accept`,{optimizations:r}),reject:(e,t,r)=>this.post(`/api/v9/workspaces/${e}/time_entry_invitations/${t}/reject`,{optimizations:r})},timesheets:{list:(e,t)=>this.getPermissions().then(r=>this.get(`/api/v9/me/timesheets${e?`?${T(e)}`:""}`,{..._([()=>b(r)]),optimizations:t}))},unsubscribe:({code:e,unsubType:t},r)=>this.post(`/api/v9/me/${t}/${e}`,{optimizations:r}),update:(e,t)=>this.put("/api/v9/me",{body:JSON.stringify(e),optimizations:t}),workspaces:{list:(e,t)=>this.getPermissions().then(r=>this.get(`/api/v9/me/workspaces${e?`?since=${e}`:""}`,{..._([()=>b(r)]),optimizations:t}))}},this.oauth={appleCallback:(e,t)=>{const r=new FormData;return r.set("code",e.authorization.code),r.set("id_token",e.authorization.id_token),r.set("user",JSON.stringify(e.user)),this.post("/api/v9/oauth/apple/callback",{body:r,optimizations:t})},oauthUrl:(e,t)=>this.get(`/api/v9/oauth_url?state=${e}`,{optimizations:t})},this.organization={create:(e,t,r)=>this.getPermissions().then(n=>this.post("/api/v9/organizations",{body:JSON.stringify({name:e,workspace_name:t!=null?t:e}),..._([()=>b(n)]),optimizations:r})),customer:{get:(e,t)=>this.get(`/api/v9/organizations/${e}/customer`,{optimizations:t}),saveContactDetails:(e,t,r)=>this.post(`/api/v9/organizations/${e}/customer/contact_detail`,{body:JSON.stringify(t),optimizations:r})},get:(e,t)=>this.getPermissions().then(r=>this.get(`/api/v9/organizations/${e}`,{..._([()=>b(r)]),optimizations:t})),groups:{create:(e,t,r)=>this.post(`/api/v9/organizations/${e}/groups`,{body:JSON.stringify(t),optimizations:r}),delete:(e,t,r)=>this.delete(`/api/v9/organizations/${e}/groups/${t}`,{optimizations:r}),list:(e,t)=>this.get(`/api/v9/organizations/${e}/groups`,{optimizations:t}),update:(e,t,r,n)=>this.put(`/api/v9/organizations/${e}/groups/${t}`,{body:JSON.stringify(r),headers:{deferred:"true"},optimizations:n})},metrics:{fetch:(e,t)=>this.get(`/api/v9/organizations/${e}/metrics`,{optimizations:{cache:!0,cacheDurationInMinutes:60*24,...t}})},paymentRecords:{list:(e,t)=>this.get(`/api/v9/organizations/${e}/payment_records`,{optimizations:t})},plans:{list:(e,t)=>this.get(`/api/v9/organizations/${e}/plans`,{optimizations:t})},segmentation:{list:(e,t)=>this.get(`/api/v9/organizations/${e}/segmentation`,{optimizations:t}),update:(e,t,r)=>this.put(`/api/v9/organizations/${e}/segmentation`,{body:JSON.stringify(t),optimizations:r})},saveFeedback:(e,t,r,n)=>this.post(`/api/v9/organizations/${e}/pricing_plans/${t}/feedback`,{body:JSON.stringify(r),optimizations:n}),update:(e,t,r)=>this.getPermissions().then(n=>this.put(`/api/v9/organizations/${e}`,{body:JSON.stringify(t),..._([()=>b(n)]),optimizations:r})),users:{delete:(e,t,r)=>this.patch(`/api/v9/organizations/${e}/users`,{body:JSON.stringify({delete:t}),headers:{deferred:"true"},optimizations:r}),leave:(e,t)=>this.delete(`/api/v9/organizations/${e}/users/leave`,{optimizations:t}),list:(e,t,r)=>{const n=T({sort_dir:t.name,page:t.page,only_admins:t.only_admins,active_status:t.active_status,roles:t.roles,groups:(t.groups||[]).join(","),workspaces:(t.workspaces||[]).join(","),filter:t.filter||""});return this.get(`/api/v9/organizations/${e}/users${n}`,{optimizations:r})},update:(e,t,r,n)=>this.put(`/api/v9/organizations/${e}/users/${t}`,{body:JSON.stringify(r),optimizations:n}),detailed:(e,t,r)=>{const n=T({sort_dir:t.name,page:t.page,active_status:t.active_status,only_admins:t.only_admins,role_ids:(t.roles||[]).join(","),groups:(t.groups||[]).join(","),workspaces:(t.workspaces||[]).join(","),filter:t.filter||"",user_ids:(t.user_ids||[]).join(",")});return this.get(`/api/v9/organizations/${e}/users/detailed${n}`,{optimizations:r})}},roles:{fetch:e=>this.get(`/api/v9/organizations/${e}/roles`)},workspaces:{addAssignments:(e,t,r,n)=>this.put(`/api/v9/organizations/${e}/workspaces/${t}/assignments`,{body:JSON.stringify(r),optimizations:n}),create:(e,t,r)=>this.getPermissions().then(n=>this.post(`/api/v9/organizations/${e}/workspaces`,{body:JSON.stringify(t),..._([()=>b(n)]),optimizations:r})),groups:{list:(e,t,r)=>this.get(`/api/v9/organizations/${e}/workspaces/${t}/groups`,{optimizations:r})},leave:(e,t,r,n)=>this.patch(`/api/v9/organizations/${e}/workspaces/${t}/workspace_users`,{body:JSON.stringify({delete:r}),optimizations:n}),statistics:(e,t)=>this.get(`/api/v9/organizations/${e}/workspaces/statistics`,{optimizations:t}),users:{list:(e,t,r={},n)=>{const i=T(r);return this.get(`/api/v9/organizations/${e}/workspaces/${t}/workspace_users${i}`,{optimizations:n})}}},owner:{createTransfer:(e,t,r)=>this.post(`/api/v9/organizations/${e}/owner/transfer`,{body:JSON.stringify({new_owner_id:t}),optimizations:r}),get:(e,t)=>this.get(`/api/v9/organizations/${e}/owner`,{optimizations:t}),getTransfers:(e,t=!1,r)=>this.get(`/api/v9/organizations/${e}/owner/transfer?ongoing=${t}`,{optimizations:r}),updateTransfer:(e,t,r,n)=>this.post(`/api/v9/organizations/${e}/owner/transfer/${t}/${r}`,{optimizations:n})},subscription:{delete:(e,t,r)=>this.delete(`/api/v9/organizations/${e}/subscription${t?"?immediateCancel=true":""}`,{optimizations:{cacheScope:["me/features?for_organization=true"],...r}}),get:(e,t)=>this.get(`/api/v9/organizations/${e}/subscription`,{optimizations:t}),calculate:(e,t,r=12,n)=>this.post(`/api/v9/organizations/${e}/subscription/calculate`,{body:JSON.stringify({user_count:t,period:r}),optimizations:n}),purchaseOrders:{create:(e,t,r)=>this.post(`/api/v9/organizations/${e}/subscription/purchase_orders`,{body:JSON.stringify({user_count:t}),optimizations:r})},update:(e,t,r)=>this.post(`/api/v9/organizations/${e}/subscription`,{body:JSON.stringify(t),optimizations:r})},subscriptionNext:{get:(e,t)=>this.get(`/api/v9/organizations/${e}/subscription`,{optimizations:t}),create:(e,t,r)=>this.post(`/api/v9/organizations/${e}/subscription`,{body:JSON.stringify({pricing_plan_tag:t}),optimizations:{cacheScope:["me/features?for_organization=true"],...r}}),update:(e,t,r)=>this.put(`/api/v9/organizations/${e}/subscription`,{body:JSON.stringify({pricing_plan_tag:t}),optimizations:{cacheScope:["me/features?for_organization=true"],...r}}),createSetupIntent:(e,t)=>this.post(`/api/v9/organizations/${e}/subscription/setup_intent`,{optimizations:t}),customer:{get:(e,t)=>this.get(`/api/v9/organizations/${e}/subscription/customer`,{optimizations:t}),create:(e,t,r,n,i,o,u,l,h)=>this.post(`/api/v9/organizations/${e}/subscription/customer`,{body:JSON.stringify({customer_name:t,toggl_user_email:r,postal_code:n,country_code:i,state:o,tax_number:u,address_line:l}),optimizations:h}),update:(e,t,r,n,i,o,u,l,h)=>this.put(`/api/v9/organizations/${e}/subscription/customer`,{body:JSON.stringify({customer_name:t,toggl_user_email:r,postal_code:n,country_code:i,state:o,tax_number:u,address_line:l}),optimizations:h})},promoCode:{apply:(e,t,r)=>this.post(`/api/v9/organizations/${e}/subscription/promocode`,{body:JSON.stringify({code:t}),optimizations:r}),delete:(e,t)=>this.delete(`/api/v9/organizations/${e}/subscription/promocode`,{optimizations:t})},invoices:{list:(e,t)=>this.get(`/api/v9/organizations/${e}/payment_records?is_unified=true`,{optimizations:t}),next:(e,t,r)=>this.get(`/api/v9/organizations/${e}/payment_records?is_unified=true&next=${t}`,{optimizations:r}),prev:(e,t,r)=>this.get(`/api/v9/organizations/${e}/payment_records?is_unified=true&prev=${t}`,{optimizations:r})},invoiceSummary:{fetch:(e,t)=>this.get(`/api/v9/organizations/${e}/subscription/invoice_summary`,{optimizations:t}),calculate:(e,t,r,n)=>this.get(`/api/v9/organizations/${e}/subscription/invoice_summary?pricing_plan_tag=${t}&quantity=${r}`,{optimizations:n})},trial:{start:(e,t)=>this.post(`/api/v9/organizations/${e}/subscription/trial`,{optimizations:t})}},invitations:{accept:(e,t)=>this.post(`/api/v9/organizations/invitations/${e}/accept`,{optimizations:t}),invite:(e,t,r)=>this.post(`/api/v9/organizations/${e}/invitations`,{body:JSON.stringify(t),optimizations:r}),reject:(e,t)=>this.post(`/api/v9/organizations/invitations/${e}/reject`,{optimizations:t}),resend:(e,t,r)=>this.put(`/api/v9/organizations/${e}/invitations/${t}/resend`,{optimizations:r})}},this.payments={subscribe:(e,t)=>this.post("/payment_wrapper",{body:JSON.stringify(e),optimizations:t}),updateCardDetails:(e,t,r)=>this.post("/payment_gateway/api/v1/stripe",{body:JSON.stringify({workspace_id:e,stripeToken:t}),optimizations:r}),updateOrganizationCardDetails:(e,t,r)=>this.post("/payment_gateway/api/v1/stripe",{body:JSON.stringify({organization_id:e,stripeToken:t}),optimizations:r})},this.plan={me:e=>this.get("/api/v5/me",{credentials:"include",optimizations:e},"plan"),projects:(e,t)=>this.get(`/api/v5/${e}/projects`,{credentials:"include",optimizations:t},"plan"),tasks:(e,t,r,n,i)=>this.get(`/api/v5/${e}/tasks?since=${r}&until=${n}&short=true&users[]=${t}`,{credentials:"include",optimizations:i},"plan"),planProject:(e,t)=>this.get(`/api/v4/me/track/plan_project?track_project_id=${e}`,{credentials:"include",optimizations:t},"plan"),workspace:(e,t)=>this.get(`/api/v4/workspaces/${e}`,{credentials:"include",optimizations:t},"plan")},this.project={bulkEdit:(e,t,r,n)=>this.patch(`/api/v9/workspaces/${e}/projects/${t.join(",")}`,{body:JSON.stringify(r),optimizations:n}),create:(e,t,r)=>this.getPermissions().then(n=>this.post(`/api/v9/workspaces/${e}/projects`,{body:JSON.stringify(t),..._([()=>b(n)]),optimizations:r})),createProjectGroup:(e,t,r)=>this.post(`/api/v9/workspaces/${e}/project_groups`,{body:JSON.stringify(t),optimizations:r}),createProjectUser:(e,t,r)=>this.post(`/api/v9/workspaces/${e}/project_users`,{body:JSON.stringify(t),optimizations:r}),delete:(e,t,r,n)=>this.delete(`/api/v9/workspaces/${e}/projects/${t}?teDeletionMode=${r}`,{optimizations:n}),deleteProjectGroup:(e,t,r)=>this.delete(`/api/v9/workspaces/${e}/project_groups/${t}`,{optimizations:r}),deleteProjectUser:(e,t,r)=>this.delete(`/api/v9/workspaces/${e}/project_users/${t}`,{optimizations:r}),fetchProjectsBillableAmounts:(e,t,r)=>this.post(`/api/v9/workspaces/${e}/projects/billable-amounts`,{body:JSON.stringify({project_ids:t}),optimizations:{cacheable:!0,...r||{}}}),fetchProjectById:(e,t,r={},n)=>{const i=T(r);return this.getPermissions().then(o=>this.get(`/api/v9/workspaces/${e}/projects/${t}${i}`,{..._([()=>b(o)]),optimizations:n}))},fetchProjectGroups:(e,t,r)=>{const n=t?{project_ids:t.join(",")}:null;let i;return n&&(i=T(n)),this.get(`/api/v9/workspaces/${e}/project_groups${i||""}`,{optimizations:r})},fetchProjectsPage:(e,t,r,n,i)=>{const o={actual_hours:!0,active:!0,force:!1,page:t,...n,...r,billable:(r==null?void 0:r.billable)==null?"both":r.billable},u=T(o);return this.getPermissions().then(l=>this.get(`/api/v9/workspaces/${e}/projects${u}`,{..._([()=>b(l)]),optimizations:i}))},fetchProjectSummary:(e,t,r,n,i)=>{const o=r&&n?{start_date:r,end_date:n}:null;return this.post(`/reports/api/v3/workspace/${e}/projects/${t}/summary`,{body:o?JSON.stringify(o):null,optimizations:i})},fetchProjectUsers:(e,t,r)=>{const n=t?{project_ids:t.join(",")}:null;let i;return n&&(i=T(n)),this.get(`/api/v9/workspaces/${e}/project_users${i||""}`,{optimizations:r})},fetchRecurringPeriods:(e,t,r)=>this.get(`/api/v9/workspaces/${e}/projects/${t}/periods`,{optimizations:r}),update:(e,t,r,n)=>this.getPermissions().then(i=>this.put(`/api/v9/workspaces/${e}/projects/${t}`,{body:JSON.stringify(r),..._([()=>b(i)]),optimizations:n})),updateProjectUser:(e,t,r,n)=>this.put(`/api/v9/workspaces/${e}/project_users/${t}`,{body:JSON.stringify(r),optimizations:n}),fetchProjectStatistics:(e,t,r)=>this.get(`/api/v9/workspaces/${e}/projects/${t}/statistics`,{optimizations:r})},this.pushService={create:(e,t)=>this.post("/api/v9/me/push_services",{body:JSON.stringify({fcm_registration_token:e}),optimizations:t}),delete:(e,t)=>this.delete("/api/v9/me/push_services",{body:JSON.stringify({fcm_registration_token:e}),optimizations:t})},this.reportExports={summary:(e,t,r,n)=>this.post(`exports/api/v1/summary.${r}`,{body:JSON.stringify({...t,workspace_id:e}),optimizations:n}),detailed:(e,t,r,n)=>this.post(`exports/api/v1/detailed.${r}`,{body:JSON.stringify({...t,workspace_id:e}),optimizations:n}),weekly:(e,t,r,n)=>this.post(`exports/api/v1/weekly.${r}`,{body:JSON.stringify({...t,workspace_id:e}),optimizations:n})},this.reports={filters:{projects:(e,t,r)=>this.post(`/reports/api/v3/workspace/${e}/filters/projects`,{body:JSON.stringify(t),optimizations:{cacheable:!0,...r||{}}}),tasks:(e,t,r)=>this.post(`/reports/api/v3/workspace/${e}/filters/tasks`,{body:JSON.stringify(t),optimizations:{cacheable:!0,...r||{}}})},status:e=>this.get("/reports/api/v3/status",{optimizations:e}),workspace:{comparative:(e,t,r)=>this.post(`/reports/api/v3/workspace/${e}/comparative`,{body:JSON.stringify(t),optimizations:r}),dataTrends:{clients:(e,t,r)=>this.post(`/reports/api/v3/workspace/${e}/data_trends/clients`,{body:JSON.stringify(t),optimizations:r}),users:(e,t,r)=>this.post(`/reports/api/v3/workspace/${e}/data_trends/users`,{body:JSON.stringify(t),optimizations:r})},detailed:{timeEntries:{export:(e,t,r,n)=>this.post(`reports/api/v3/workspace/${e}/detailed/time_entries.${r}`,{body:JSON.stringify(t),optimizations:n}),legacyExportV2:(e,t,r)=>{const n=T(e);return this.get(`/reports/api/v2/details.${t}${n}`,{optimizations:r})}}},profitability:{employee:(e,t,r)=>this.post(`/reports/api/v3/workspace/${e}/profitability/employee`,{body:JSON.stringify(t),optimizations:r}),projects:(e,t,r)=>this.post(`/reports/api/v3/workspace/${e}/profitability/projects`,{body:JSON.stringify(t),optimizations:r})},search:{projects:{fetch:(e,{include_recurring_totals:t,...r},n)=>this.post(`/reports/api/v3/workspace/${e}/search/projects${T({include_recurring_totals:t})}`,{body:JSON.stringify(r),optimizations:{cacheable:!0,...n||{}}})},users:{fetch:(e,t,r)=>this.post(`/reports/api/v3/workspace/${e}/search/users`,{body:JSON.stringify(t),optimizations:{cacheable:!0,...r||{}}})},clients:{fetch:(e,t,r)=>this.post(`/reports/api/v3/workspace/${e}/search/clients`,{body:JSON.stringify(t),optimizations:{cacheable:!0,...r||{}}})},tasks:{fetch:(e,t,r)=>this.post(`/reports/api/v3/workspace/${e}/search/tasks`,{body:JSON.stringify(t),optimizations:{cacheable:!0,...r||{}}}),fetchById:(e,t,r)=>this.post(`/reports/api/v3/workspace/${e}/search/tasks`,{body:JSON.stringify({ids:t}),optimizations:r})},timeEntries:{export:(e,t,r,n)=>this.post(`/reports/api/v3/workspace/${e}/search/time_entries.${r}`,{body:JSON.stringify(t),optimizations:n}),fetch:(e,t,r)=>this.post(`/reports/api/v3/workspace/${e}/search/time_entries`,{body:JSON.stringify(t),optimizations:{cacheable:!0,...r||{}}}),totals:{fetch:(e,t,r)=>this.post(`/reports/api/v3/workspace/${e}/search/time_entries/totals`,{body:JSON.stringify(t),optimizations:{cacheable:!0,...r||{}}})}}},summary:{timeEntries:{export:(e,t,r,n)=>this.post(`/reports/api/v3/workspace/${e}/summary/time_entries.${r}`,{body:JSON.stringify(t),optimizations:n}),fetch:(e,t,r)=>this.post(`/reports/api/v3/workspace/${e}/summary/time_entries`,{body:JSON.stringify({...t,include_time_entry_ids:!0}),optimizations:{cacheable:!0,...r||{}}})}},weekly:{timeEntries:{export:(e,t,r,n)=>this.post(`/reports/api/v3/workspace/${e}/weekly/time_entries.${r}`,{body:JSON.stringify(t),optimizations:n}),fetch:(e,t,r)=>this.post(`/reports/api/v3/workspace/${e}/weekly/time_entries`,{body:JSON.stringify(t),optimizations:{cacheable:!0,...r||{}}})}}}},this.sharedProject={createUser:(e,t,r,n)=>this.post(`/api/v9/shared-project/${e}/user`,{body:JSON.stringify({name:t,email:r}),optimizations:n})},this.sharedReport={exportReport:(e,t,r,n)=>this.post(`/reports/api/v3/shared/${e}/${t}`,{body:JSON.stringify(r),optimizations:n}),fetch:(e,{resource:t,chart_id:r,is_totals:n,...i},o)=>this.post(`/reports/api/v3/shared/${e}${T({resource:t,chart_id:r,is_totals:n})}`,{body:JSON.stringify(i),optimizations:o})},this.signup=(e,t)=>this.post("/api/v9/signup",{body:JSON.stringify(e),optimizations:t}),this.smail={contact:(e,t)=>this.post("/api/v9/smail/contact",{body:JSON.stringify(e),optimizations:t}),demo:(e,t)=>this.post("/api/v9/smail/demo",{body:JSON.stringify(e),optimizations:t}),master:(e,t)=>this.post("/api/v9/smail/master",{body:JSON.stringify(e),optimizations:t}),meet:(e,t)=>this.post("/api/v9/smail/meet",{body:JSON.stringify(e),optimizations:t})},this.status=e=>this.get("/api/v9/status",{optimizations:e}),this.tag={create:(e,t,r)=>this.getPermissions().then(n=>this.post(`/api/v9/workspaces/${t}/tags`,{body:JSON.stringify({name:e}),..._([()=>b(n)]),optimizations:{cacheScope:["/me/tags"],...r}})),delete:(e,t)=>this.delete(`/api/v9/workspaces/${e.workspace_id}/tags/${e.id}`,{optimizations:{cacheScope:["/tags"],...t}}),deleteBulk:(e,t,r)=>this.patch(`/api/v9/workspaces/${e}/tags`,{body:JSON.stringify({delete:t}),optimizations:{cacheScope:["/me/tags"],...r}}),update:(e,t)=>this.getPermissions().then(r=>this.put(`/api/v9/workspaces/${e.workspace_id}/tags/${e.id}`,{body:JSON.stringify({name:e.name}),..._([()=>b(r)]),optimizations:{cacheScope:["/tags"],...t}}))},this.tasks={bulkEdit:(e,t,r,n,i)=>this.patch(`/api/v9/workspaces/${e}/projects/${t}/tasks/${r.join(",")}`,{body:JSON.stringify(n),optimizations:i}),create:(e,t,r,n)=>this.getPermissions().then(i=>this.post(`/api/v9/workspaces/${e}/projects/${t}/tasks`,{body:JSON.stringify(r),..._([()=>b(i)]),optimizations:n})),delete:(e,t,r,n)=>this.delete(`/api/v9/workspaces/${e}/projects/${t}/tasks/${r}`,{optimizations:n}),fetch:(e,t,r)=>{const n={pid:t.pid.toString(),actual_hours:String(t.actual_hours),active:String(t.active),page:t.page.toString()};t.start_date&&(n.start_date=t.start_date),t.end_date&&(n.end_date=t.end_date),t.sort_order&&(n.sort_order=t.sort_order),t.sort_field&&(n.sort_field=t.sort_field);const i=new URLSearchParams(n).toString();return this.getPermissions().then(o=>this.get(`/api/v9/workspaces/${e}/tasks?${i}`,{..._([()=>b(o)]),optimizations:r}))},update:(e,t,r,n,i)=>this.getPermissions().then(o=>this.put(`/api/v9/workspaces/${e}/projects/${t}/tasks/${r}`,{body:JSON.stringify(n),..._([()=>b(o)]),optimizations:i}))},this.timeEntry={bulkEdit:(e,t,r)=>this.patch(`/api/v9/time_entries/${e.join(",")}`,{body:JSON.stringify(t),optimizations:r}),create:(e,t=!1,r)=>this.getPermissions().then(n=>this.post(`/api/v9/time_entries${t?"?meta=true":""}`,{body:JSON.stringify(e),..._([()=>b(n)]),optimizations:r})),delete:(e,t)=>this.delete(`/api/v9/time_entries/${e.id}`,{optimizations:t}),get:(e,t)=>this.getPermissions().then(r=>this.get(`/api/v9/time_entries/${e}`,{..._([()=>b(r)]),optimizations:t})),undoDelete:(e,t)=>this.patch(`/api/v9/time_entries/${e.join(",")}`,{body:JSON.stringify([{op:"remove",path:"/deleted_at"}]),optimizations:t}),update:(e,t=!1,r={},n)=>{t&&(r.meta=t);const i=T(r);return this.getPermissions().then(o=>this.put(`/api/v9/time_entries/${e.id}${i}`,{body:JSON.stringify(e),..._([()=>b(o)]),optimizations:n}))}},this.timeline=(e,t,r)=>this.get(`/api/v9/timeline?start_date=${e}&end_date=${t}`,{optimizations:r}),this.timezones={fetch:e=>this.get("/api/v9/timezones",{optimizations:e}),offsets:e=>this.get("/api/v9/timezones/offsets",{optimizations:e})},this.webhooks={create:(e,t,r)=>this.post(`/webhooks/api/v1/subscriptions/${e}`,{body:JSON.stringify(t),optimizations:r}),delete:(e,t,r)=>this.delete(`/webhooks/api/v1/subscriptions/${e}/${t}`,{optimizations:r}),fetch:(e,t)=>this.get(`/webhooks/api/v1/subscriptions/${e}`,{optimizations:t}),ping:(e,t,r)=>this.post(`/webhooks/api/v1/ping/${e}/${t}`,{optimizations:r}),status:e=>this.get("/webhooks/api/v1/status",{optimizations:e}),toggle:(e,t,r,n)=>this.patch(`/webhooks/api/v1/subscriptions/${e}/${r}`,{body:JSON.stringify({enabled:t}),optimizations:n}),update:(e,t,r,n)=>this.put(`/webhooks/api/v1/subscriptions/${e}/${t}`,{body:JSON.stringify(r),optimizations:n}),fetchEventFilters:e=>this.get("/webhooks/api/v1/event_filters",{optimizations:e}),fetchEvents:(e,t,r)=>this.get(`/webhooks/api/v1/subscriptions/${e}/${t}/events`,{optimizations:r})},this.workspaces={alerts:{create:(e,t,r)=>this.post(`/api/v9/workspaces/${t}/alerts`,{body:JSON.stringify(e),optimizations:r}),update:(e,t)=>this.put(`/api/v9/workspaces/${e.wid}/alerts/${e.id}`,{body:JSON.stringify({source_kind:e.source_kind,project_id:e.project_id,threshold_type:e.threshold_type,thresholds:e.thresholds,receiver_roles:e.receiver_roles,receiver_users:e.receiver_users,receiver_groups:e.receiver_groups}),optimizations:t}),delete:(e,t,r)=>this.delete(`/api/v9/workspaces/${t}/alerts/${e}`,{optimizations:r}),fetch:(e,t)=>this.get(`/api/v9/workspaces/${e}/alerts`,{optimizations:t})},create:(e,t)=>this.getPermissions().then(r=>this.post("/api/v9/workspaces",{body:JSON.stringify(e),..._([()=>b(r)]),optimizations:t})),currencies:{fetch:(e,t)=>this.get(`/api/v9/workspaces/${e}/currencies`,{optimizations:t})},dashboard:{fetchActivityByTimeEntry:(e,t,r)=>this.get(`/api/v9/workspaces/${e}/dashboard/top_activity${t?`?since=${t}`:""}`,{optimizations:r}),fetchActivityByUser:(e,t,r)=>this.get(`/api/v9/workspaces/${e}/dashboard/all_activity${t?`?since=${t}`:""}`,{optimizations:r}),fetchMostActive:(e,t,r)=>this.get(`/api/v9/workspaces/${e}/dashboard/most_active${t?`?since=${t}`:""}`,{optimizations:r})},exports:{start:(e,t,r)=>this.post(`/api/v9/workspaces/${e}/exports`,{body:JSON.stringify(t),optimizations:r}),status:(e,t)=>this.get(`/api/v9/workspaces/${e}/exports`,{optimizations:t})},fetch:(e,t)=>this.getPermissions().then(r=>this.get(`/api/v9/workspaces/${e}`,{..._([()=>b(r)]),optimizations:t})),groups:{create:(e,t,r)=>this.post(`/api/v9/workspaces/${e}/groups`,{body:JSON.stringify({wid:e,name:t}),optimizations:r}),delete:(e,t,r)=>this.delete(`/api/v9/workspaces/${e}/groups/${t}`,{optimizations:r}),list:(e,t)=>this.get(`/api/v9/workspaces/${e}/groups`,{optimizations:t}),update:(e,t,r,n)=>this.put(`/api/v9/workspaces/${e}/groups/${t}`,{body:JSON.stringify({name:r}),optimizations:n})},iCal:{reset:(e,t)=>this.post(`/api/v9/workspaces/${e}/ical/reset`,{optimizations:t}),set:(e,t,r)=>this.post(`/api/v9/workspaces/${e}/ical/toggle`,{body:JSON.stringify(t),optimizations:r})},linkedSsoProfiles:{fetch:(e,t)=>this.get(`/api/v9/workspaces/${e}/linked_sso_profiles`,{optimizations:t}),create:(e,t,r)=>this.put(`/api/v9/workspaces/${e}/linked_sso_profiles/${t}`,{optimizations:r}),delete:(e,t,r)=>this.delete(`/api/v9/workspaces/${e}/linked_sso_profiles/${t}`,{optimizations:r})},logo:{fetch:(e,t)=>this.get(`/api/v9/workspaces/${e}/logo`,{optimizations:t}),remove:(e,t)=>this.delete(`/api/v9/workspaces/${e}/logo`,{optimizations:t}),upload:(e,t,r)=>this.post(`/api/v9/workspaces/${e}/logo`,{body:t,optimizations:r})},preferences:{fetch:(e,t)=>this.get(`/api/v9/workspaces/${e}/preferences`,{optimizations:t}),update:(e,t,r)=>this.post(`/api/v9/workspaces/${e}/preferences`,{body:JSON.stringify(t),optimizations:r})},paymentRecords:{list:(e,t)=>this.get(`/api/v9/workspaces/${e}/payment_records`,{optimizations:t})},plans:{list:(e,t)=>this.get(`/api/v9/workspaces/${e}/plans`,{optimizations:t})},projects:{fetch:(e,t,r,{clientIds:n,...i},o,u)=>{const l=T({page:t,since:r,client_ids:n,search:o,...i});return this.getPermissions().then(h=>this.get(`/api/v9/workspaces/${e}/projects${l}`,{..._([()=>b(h)]),optimizations:u}))}},rates:{create:(e,t,r)=>this.post(`/api/v9/workspaces/${e}/rates`,{body:JSON.stringify(t),optimizations:r}),delete:(e,t,r)=>this.delete(`/api/v9/workspaces/${e}/rates/${t}`,{optimizations:r}),list:(e,t,r,n)=>this.get(`/api/v9/workspaces/${e}/rates/${t}/${r}`,{optimizations:n})},reminders:{create:(e,t)=>this.post(`/api/v9/workspaces/${e.workspace_id}/track_reminders`,{body:JSON.stringify(e),optimizations:t}),delete:(e,t,r)=>this.delete(`/api/v9/workspaces/${t}/track_reminders/${e}`,{optimizations:r}),fetch:(e,t)=>this.get(`/api/v9/workspaces/${e}/track_reminders`,{optimizations:t}),update:(e,t)=>this.put(`/api/v9/workspaces/${e.workspace_id}/track_reminders/${e.reminder_id}`,{body:JSON.stringify(e),optimizations:t})},reports:{shared:{create:(e,t,r)=>this.post(`/api/v9/workspaces/${e}/reports/shared`,{body:JSON.stringify(t),optimizations:r}),delete:(e,t,r)=>this.patch(`/api/v9/workspaces/${e}/reports/shared/bulk_delete`,{body:JSON.stringify({ids:t}),optimizations:r}),get:(e,t,r)=>{const n=T(t);return this.get(`/api/v9/workspaces/${e}/reports/shared${n}`,{optimizations:r})},update:(e,t,r,n)=>this.put(`/api/v9/workspaces/${e}/reports/shared/${t}`,{body:JSON.stringify(r),optimizations:n})}},scheduledReports:{delete:(e,t,r)=>this.delete(`/api/v9/workspaces/${e}/scheduled_reports/${t}`,{optimizations:r}),fetch:(e,t)=>this.get(`/api/v9/workspaces/${e}/scheduled_reports`,{optimizations:t}),save:(e,t,r)=>this.post(`/api/v9/workspaces/${e}/scheduled_reports`,{body:JSON.stringify(t),optimizations:r})},sso:{deleteConfig:(e,t)=>this.delete(`/api/v9/workspaces/${e}/sso`,{optimizations:t}),fetchConfig:(e,t)=>this.get(`/api/v9/workspaces/${e}/sso`,{optimizations:t}),updateConfig:(e,t,r)=>this.post(`/api/v9/workspaces/${e}/sso`,{body:JSON.stringify(t),optimizations:r})},tags:{fetch:(e,t)=>this.getPermissions().then(r=>this.get(`/api/v9/workspaces/${e}/tags`,{..._([()=>b(r)]),optimizations:{cache:!0,...t}}))},templates:{fetch:(e,t)=>this.get(`/api/v9/workspaces/${e}/projects/templates`,{optimizations:t})},subscription:{acceptTermsOfService:(e,t)=>this.post(`/api/v9/workspaces/${e}/subscription/inc_accept`,{optimizations:t}),acceptVat:(e,t)=>this.post(`/api/v9/workspaces/${e}/subscription/vat_accept`,{optimizations:t}),calculate:(e,t,r,n)=>this.post(`/api/v9/workspaces/${e}/subscription/calculate`,{body:JSON.stringify({user_count:t,period:r}),optimizations:n}),fetchSelectedFeatures:(e,t)=>this.get(`/api/v9/workspaces/${e}/subscription/selected_features`,{optimizations:t}),get:(e,t)=>this.get(`/api/v9/workspaces/${e}/subscription`,{optimizations:t}),purchaseOrders:{create:(e,t,r)=>this.post(`/api/v9/workspaces/${e}/subscription/purchase_orders`,{body:JSON.stringify({user_count:t}),optimizations:r})},update:(e,t,r)=>this.post(`/api/v9/workspaces/${e}/subscription`,{body:JSON.stringify(t),optimizations:r})},timeEntries:{constraints:{fetch:(e,t)=>this.get(`/api/v9/workspaces/${e}/preferences/time_entry_constraints`,{optimizations:t}),update:(e,t,r)=>this.post(`/api/v9/workspaces/${e}/preferences/time_entry_constraints`,{body:JSON.stringify(t),optimizations:r})},create:(e,t)=>this.getPermissions().then(r=>this.post(`/api/v9/workspaces/${e.workspace_id}/time_entries`,{body:JSON.stringify(e),..._([()=>b(r)]),optimizations:t})),delete:(e,t,r)=>{const n={op:"add",path:"/deleted_at",value:new Date().toISOString()};return this.patch(`/api/v9/workspaces/${e}/time_entries/${t.join(",")}`,{body:JSON.stringify([n]),optimizations:r})},update:(e,t)=>this.getPermissions().then(r=>this.put(`/api/v9/workspaces/${e.workspace_id}/time_entries/${e.id}`,{body:JSON.stringify(e),..._([()=>b(r)]),optimizations:t}))},update:(e,t)=>this.getPermissions().then(r=>this.put(`/api/v9/workspaces/${e.id}`,{body:JSON.stringify(e),..._([()=>b(r)]),optimizations:t})),users:{fetch:(e,t)=>this.get(`/api/v9/workspaces/${e}/workspace_users`,{optimizations:t}),put:(e,t,r,n)=>this.put(`/api/v9/workspaces/${e}/users/${t}`,{body:JSON.stringify(r),optimizations:n}),removeWorkspaceUser:(e,t,r)=>this.delete(`/api/v9/workspaces/${e}/workspace_users/${t}`,{optimizations:r}),updateWorkspaceUser:(e,t,r,n)=>this.put(`/api/v9/workspaces/${e}/workspace_users/${t}`,{body:JSON.stringify(r),optimizations:n})},invoices:{save:(e,t)=>this.post(`/api/v9/workspaces/${e.workspace_id}/invoices`,{body:JSON.stringify(e),optimizations:t}),list:(e,t=1,r)=>{const n=T({page:t,per_page:25});return this.get(`/api/v9/workspaces/${e}/invoices${n}`,{optimizations:{cache:!0,...r}})},delete:(e,t,r)=>this.delete(`/api/v9/workspaces/${e}/invoices/${t}`,{optimizations:{cacheScope:[`${e}/invoices`],...r}})}}}}const Be=new lc({host:"https://track.toggl.com/api",version:"@toggl/track-extension 4.1.1",headers:{"X-Toggl-Client":"track-extension"},skipPermissionsDependency:!0,accountsHost:"https://accounts.toggl.com"});function mt(s){return async function(...t){var r,n;try{return await s.apply(this,t)}catch(i){throw i instanceof te&&(((r=i.response)==null?void 0:r.status)===403||((n=i.response)==null?void 0:n.status)===401)&&(await B.storage.local.clear(),await Js.store(null)),i}}}class En{constructor(e){this.identifier=e,this.eventKey=`${e}_E`,this.storageKey=`${e}_D`}async retrieve(){const e=await B.storage.local.get(this.storageKey);return this.storageKey in e?e[this.storageKey]:null}store(e){return B.storage.local.set({[this.storageKey]:e})}async clear(){await B.storage.local.remove(this.storageKey)}dispatch(){return B.runtime.sendMessage({type:this.eventKey})}}var ks={exports:{}};(function(s,e){var t=200,r="__lodash_hash_undefined__",n=1,i=2,o=9007199254740991,u="[object Arguments]",l="[object Array]",h="[object AsyncFunction]",g="[object Boolean]",d="[object Date]",$="[object Error]",y="[object Function]",w="[object GeneratorFunction]",k="[object Map]",D="[object Number]",F="[object Null]",ie="[object Object]",qs="[object Promise]",Xn="[object Proxy]",Ws="[object RegExp]",_t="[object Set]",Ys="[object String]",Qn="[object Symbol]",ei="[object Undefined]",es="[object WeakMap]",Vs="[object ArrayBuffer]",bt="[object DataView]",ti="[object Float32Array]",si="[object Float64Array]",ri="[object Int8Array]",ni="[object Int16Array]",ii="[object Int32Array]",oi="[object Uint8Array]",ai="[object Uint8ClampedArray]",ci="[object Uint16Array]",ui="[object Uint32Array]",li=/[\\^$.*+?()[\]{}|]/g,pi=/^\[object .+?Constructor\]$/,hi=/^(?:0|[1-9]\d*)$/,x={};x[ti]=x[si]=x[ri]=x[ni]=x[ii]=x[oi]=x[ai]=x[ci]=x[ui]=!0,x[u]=x[l]=x[Vs]=x[g]=x[bt]=x[d]=x[$]=x[y]=x[k]=x[D]=x[ie]=x[Ws]=x[_t]=x[Ys]=x[es]=!1;var Zs=typeof Tt=="object"&&Tt&&Tt.Object===Object&&Tt,fi=typeof self=="object"&&self&&self.Object===Object&&self,oe=Zs||fi||Function("return this")(),Xs=e&&!e.nodeType&&e,Qs=Xs&&!0&&s&&!s.nodeType&&s,er=Qs&&Qs.exports===Xs,ts=er&&Zs.process,tr=function(){try{return ts&&ts.binding&&ts.binding("util")}catch{}}(),sr=tr&&tr.isTypedArray;function di(a,c){for(var p=-1,f=a==null?0:a.length,N=0,v=[];++p<f;){var P=a[p];c(P,p,a)&&(v[N++]=P)}return v}function gi(a,c){for(var p=-1,f=c.length,N=a.length;++p<f;)a[N+p]=c[p];return a}function mi(a,c){for(var p=-1,f=a==null?0:a.length;++p<f;)if(c(a[p],p,a))return!0;return!1}function yi(a,c){for(var p=-1,f=Array(a);++p<a;)f[p]=c(p);return f}function vi(a){return function(c){return a(c)}}function _i(a,c){return a.has(c)}function bi(a,c){return a==null?void 0:a[c]}function $i(a){var c=-1,p=Array(a.size);return a.forEach(function(f,N){p[++c]=[N,f]}),p}function Si(a,c){return function(p){return a(c(p))}}function wi(a){var c=-1,p=Array(a.size);return a.forEach(function(f){p[++c]=f}),p}var ki=Array.prototype,Ei=Function.prototype,$t=Object.prototype,ss=oe["__core-js_shared__"],rr=Ei.toString,ee=$t.hasOwnProperty,nr=function(){var a=/[^.]+$/.exec(ss&&ss.keys&&ss.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),ir=$t.toString,Oi=RegExp("^"+rr.call(ee).replace(li,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),or=er?oe.Buffer:void 0,St=oe.Symbol,ar=oe.Uint8Array,cr=$t.propertyIsEnumerable,xi=ki.splice,ke=St?St.toStringTag:void 0,ur=Object.getOwnPropertySymbols,Ni=or?or.isBuffer:void 0,Ti=Si(Object.keys,Object),rs=ze(oe,"DataView"),We=ze(oe,"Map"),ns=ze(oe,"Promise"),is=ze(oe,"Set"),os=ze(oe,"WeakMap"),Ye=ze(Object,"create"),Ci=xe(rs),Di=xe(We),Pi=xe(ns),ji=xe(is),Ii=xe(os),lr=St?St.prototype:void 0,as=lr?lr.valueOf:void 0;function Ee(a){var c=-1,p=a==null?0:a.length;for(this.clear();++c<p;){var f=a[c];this.set(f[0],f[1])}}function Mi(){this.__data__=Ye?Ye(null):{},this.size=0}function Ai(a){var c=this.has(a)&&delete this.__data__[a];return this.size-=c?1:0,c}function zi(a){var c=this.__data__;if(Ye){var p=c[a];return p===r?void 0:p}return ee.call(c,a)?c[a]:void 0}function Ji(a){var c=this.__data__;return Ye?c[a]!==void 0:ee.call(c,a)}function Ri(a,c){var p=this.__data__;return this.size+=this.has(a)?0:1,p[a]=Ye&&c===void 0?r:c,this}Ee.prototype.clear=Mi,Ee.prototype.delete=Ai,Ee.prototype.get=zi,Ee.prototype.has=Ji,Ee.prototype.set=Ri;function ae(a){var c=-1,p=a==null?0:a.length;for(this.clear();++c<p;){var f=a[c];this.set(f[0],f[1])}}function Li(){this.__data__=[],this.size=0}function Bi(a){var c=this.__data__,p=kt(c,a);if(p<0)return!1;var f=c.length-1;return p==f?c.pop():xi.call(c,p,1),--this.size,!0}function Ui(a){var c=this.__data__,p=kt(c,a);return p<0?void 0:c[p][1]}function Fi(a){return kt(this.__data__,a)>-1}function Hi(a,c){var p=this.__data__,f=kt(p,a);return f<0?(++this.size,p.push([a,c])):p[f][1]=c,this}ae.prototype.clear=Li,ae.prototype.delete=Bi,ae.prototype.get=Ui,ae.prototype.has=Fi,ae.prototype.set=Hi;function Oe(a){var c=-1,p=a==null?0:a.length;for(this.clear();++c<p;){var f=a[c];this.set(f[0],f[1])}}function Gi(){this.size=0,this.__data__={hash:new Ee,map:new(We||ae),string:new Ee}}function Ki(a){var c=Et(this,a).delete(a);return this.size-=c?1:0,c}function qi(a){return Et(this,a).get(a)}function Wi(a){return Et(this,a).has(a)}function Yi(a,c){var p=Et(this,a),f=p.size;return p.set(a,c),this.size+=p.size==f?0:1,this}Oe.prototype.clear=Gi,Oe.prototype.delete=Ki,Oe.prototype.get=qi,Oe.prototype.has=Wi,Oe.prototype.set=Yi;function wt(a){var c=-1,p=a==null?0:a.length;for(this.__data__=new Oe;++c<p;)this.add(a[c])}function Vi(a){return this.__data__.set(a,r),this}function Zi(a){return this.__data__.has(a)}wt.prototype.add=wt.prototype.push=Vi,wt.prototype.has=Zi;function ge(a){var c=this.__data__=new ae(a);this.size=c.size}function Xi(){this.__data__=new ae,this.size=0}function Qi(a){var c=this.__data__,p=c.delete(a);return this.size=c.size,p}function eo(a){return this.__data__.get(a)}function to(a){return this.__data__.has(a)}function so(a,c){var p=this.__data__;if(p instanceof ae){var f=p.__data__;if(!We||f.length<t-1)return f.push([a,c]),this.size=++p.size,this;p=this.__data__=new Oe(f)}return p.set(a,c),this.size=p.size,this}ge.prototype.clear=Xi,ge.prototype.delete=Qi,ge.prototype.get=eo,ge.prototype.has=to,ge.prototype.set=so;function ro(a,c){var p=Ot(a),f=!p&&_o(a),N=!p&&!f&&cs(a),v=!p&&!f&&!N&&_r(a),P=p||f||N||v,M=P?yi(a.length,String):[],J=M.length;for(var C in a)(c||ee.call(a,C))&&!(P&&(C=="length"||N&&(C=="offset"||C=="parent")||v&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||fo(C,J)))&&M.push(C);return M}function kt(a,c){for(var p=a.length;p--;)if(gr(a[p][0],c))return p;return-1}function no(a,c,p){var f=c(a);return Ot(a)?f:gi(f,p(a))}function Ve(a){return a==null?a===void 0?ei:F:ke&&ke in Object(a)?po(a):vo(a)}function pr(a){return Ze(a)&&Ve(a)==u}function hr(a,c,p,f,N){return a===c?!0:a==null||c==null||!Ze(a)&&!Ze(c)?a!==a&&c!==c:io(a,c,p,f,hr,N)}function io(a,c,p,f,N,v){var P=Ot(a),M=Ot(c),J=P?l:me(a),C=M?l:me(c);J=J==u?ie:J,C=C==u?ie:C;var G=J==ie,V=C==ie,R=J==C;if(R&&cs(a)){if(!cs(c))return!1;P=!0,G=!1}if(R&&!G)return v||(v=new ge),P||_r(a)?fr(a,c,p,f,N,v):uo(a,c,J,p,f,N,v);if(!(p&n)){var W=G&&ee.call(a,"__wrapped__"),Y=V&&ee.call(c,"__wrapped__");if(W||Y){var ye=W?a.value():a,ce=Y?c.value():c;return v||(v=new ge),N(ye,ce,p,f,v)}}return R?(v||(v=new ge),lo(a,c,p,f,N,v)):!1}function oo(a){if(!vr(a)||mo(a))return!1;var c=mr(a)?Oi:pi;return c.test(xe(a))}function ao(a){return Ze(a)&&yr(a.length)&&!!x[Ve(a)]}function co(a){if(!yo(a))return Ti(a);var c=[];for(var p in Object(a))ee.call(a,p)&&p!="constructor"&&c.push(p);return c}function fr(a,c,p,f,N,v){var P=p&n,M=a.length,J=c.length;if(M!=J&&!(P&&J>M))return!1;var C=v.get(a);if(C&&v.get(c))return C==c;var G=-1,V=!0,R=p&i?new wt:void 0;for(v.set(a,c),v.set(c,a);++G<M;){var W=a[G],Y=c[G];if(f)var ye=P?f(Y,W,G,c,a,v):f(W,Y,G,a,c,v);if(ye!==void 0){if(ye)continue;V=!1;break}if(R){if(!mi(c,function(ce,Ne){if(!_i(R,Ne)&&(W===ce||N(W,ce,p,f,v)))return R.push(Ne)})){V=!1;break}}else if(!(W===Y||N(W,Y,p,f,v))){V=!1;break}}return v.delete(a),v.delete(c),V}function uo(a,c,p,f,N,v,P){switch(p){case bt:if(a.byteLength!=c.byteLength||a.byteOffset!=c.byteOffset)return!1;a=a.buffer,c=c.buffer;case Vs:return!(a.byteLength!=c.byteLength||!v(new ar(a),new ar(c)));case g:case d:case D:return gr(+a,+c);case $:return a.name==c.name&&a.message==c.message;case Ws:case Ys:return a==c+"";case k:var M=$i;case _t:var J=f&n;if(M||(M=wi),a.size!=c.size&&!J)return!1;var C=P.get(a);if(C)return C==c;f|=i,P.set(a,c);var G=fr(M(a),M(c),f,N,v,P);return P.delete(a),G;case Qn:if(as)return as.call(a)==as.call(c)}return!1}function lo(a,c,p,f,N,v){var P=p&n,M=dr(a),J=M.length,C=dr(c),G=C.length;if(J!=G&&!P)return!1;for(var V=J;V--;){var R=M[V];if(!(P?R in c:ee.call(c,R)))return!1}var W=v.get(a);if(W&&v.get(c))return W==c;var Y=!0;v.set(a,c),v.set(c,a);for(var ye=P;++V<J;){R=M[V];var ce=a[R],Ne=c[R];if(f)var br=P?f(Ne,ce,R,c,a,v):f(ce,Ne,R,a,c,v);if(!(br===void 0?ce===Ne||N(ce,Ne,p,f,v):br)){Y=!1;break}ye||(ye=R=="constructor")}if(Y&&!ye){var xt=a.constructor,Nt=c.constructor;xt!=Nt&&"constructor"in a&&"constructor"in c&&!(typeof xt=="function"&&xt instanceof xt&&typeof Nt=="function"&&Nt instanceof Nt)&&(Y=!1)}return v.delete(a),v.delete(c),Y}function dr(a){return no(a,So,ho)}function Et(a,c){var p=a.__data__;return go(c)?p[typeof c=="string"?"string":"hash"]:p.map}function ze(a,c){var p=bi(a,c);return oo(p)?p:void 0}function po(a){var c=ee.call(a,ke),p=a[ke];try{a[ke]=void 0;var f=!0}catch{}var N=ir.call(a);return f&&(c?a[ke]=p:delete a[ke]),N}var ho=ur?function(a){return a==null?[]:(a=Object(a),di(ur(a),function(c){return cr.call(a,c)}))}:wo,me=Ve;(rs&&me(new rs(new ArrayBuffer(1)))!=bt||We&&me(new We)!=k||ns&&me(ns.resolve())!=qs||is&&me(new is)!=_t||os&&me(new os)!=es)&&(me=function(a){var c=Ve(a),p=c==ie?a.constructor:void 0,f=p?xe(p):"";if(f)switch(f){case Ci:return bt;case Di:return k;case Pi:return qs;case ji:return _t;case Ii:return es}return c});function fo(a,c){return c=c==null?o:c,!!c&&(typeof a=="number"||hi.test(a))&&a>-1&&a%1==0&&a<c}function go(a){var c=typeof a;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?a!=="__proto__":a===null}function mo(a){return!!nr&&nr in a}function yo(a){var c=a&&a.constructor,p=typeof c=="function"&&c.prototype||$t;return a===p}function vo(a){return ir.call(a)}function xe(a){if(a!=null){try{return rr.call(a)}catch{}try{return a+""}catch{}}return""}function gr(a,c){return a===c||a!==a&&c!==c}var _o=pr(function(){return arguments}())?pr:function(a){return Ze(a)&&ee.call(a,"callee")&&!cr.call(a,"callee")},Ot=Array.isArray;function bo(a){return a!=null&&yr(a.length)&&!mr(a)}var cs=Ni||ko;function $o(a,c){return hr(a,c)}function mr(a){if(!vr(a))return!1;var c=Ve(a);return c==y||c==w||c==h||c==Xn}function yr(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=o}function vr(a){var c=typeof a;return a!=null&&(c=="object"||c=="function")}function Ze(a){return a!=null&&typeof a=="object"}var _r=sr?vi(sr):ao;function So(a){return bo(a)?ro(a):co(a)}function wo(){return[]}function ko(){return!1}s.exports=$o})(ks,ks.exports);var Zt=ks.exports,K={exports:{}},S={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yt=Symbol.for("react.element"),pc=Symbol.for("react.portal"),hc=Symbol.for("react.fragment"),fc=Symbol.for("react.strict_mode"),dc=Symbol.for("react.profiler"),gc=Symbol.for("react.provider"),mc=Symbol.for("react.context"),yc=Symbol.for("react.forward_ref"),vc=Symbol.for("react.suspense"),_c=Symbol.for("react.memo"),bc=Symbol.for("react.lazy"),zr=Symbol.iterator;function $c(s){return s===null||typeof s!="object"?null:(s=zr&&s[zr]||s["@@iterator"],typeof s=="function"?s:null)}var On={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xn=Object.assign,Nn={};function qe(s,e,t){this.props=s,this.context=e,this.refs=Nn,this.updater=t||On}qe.prototype.isReactComponent={};qe.prototype.setState=function(s,e){if(typeof s!="object"&&typeof s!="function"&&s!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,s,e,"setState")};qe.prototype.forceUpdate=function(s){this.updater.enqueueForceUpdate(this,s,"forceUpdate")};function Tn(){}Tn.prototype=qe.prototype;function Is(s,e,t){this.props=s,this.context=e,this.refs=Nn,this.updater=t||On}var Ms=Is.prototype=new Tn;Ms.constructor=Is;xn(Ms,qe.prototype);Ms.isPureReactComponent=!0;var Jr=Array.isArray,Cn=Object.prototype.hasOwnProperty,As={current:null},Dn={key:!0,ref:!0,__self:!0,__source:!0};function Pn(s,e,t){var r,n={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Cn.call(e,r)&&!Dn.hasOwnProperty(r)&&(n[r]=e[r]);var u=arguments.length-2;if(u===1)n.children=t;else if(1<u){for(var l=Array(u),h=0;h<u;h++)l[h]=arguments[h+2];n.children=l}if(s&&s.defaultProps)for(r in u=s.defaultProps,u)n[r]===void 0&&(n[r]=u[r]);return{$$typeof:yt,type:s,key:i,ref:o,props:n,_owner:As.current}}function Sc(s,e){return{$$typeof:yt,type:s.type,key:e,ref:s.ref,props:s.props,_owner:s._owner}}function zs(s){return typeof s=="object"&&s!==null&&s.$$typeof===yt}function wc(s){var e={"=":"=0",":":"=2"};return"$"+s.replace(/[=:]/g,function(t){return e[t]})}var Rr=/\/+/g;function fs(s,e){return typeof s=="object"&&s!==null&&s.key!=null?wc(""+s.key):e.toString(36)}function zt(s,e,t,r,n){var i=typeof s;(i==="undefined"||i==="boolean")&&(s=null);var o=!1;if(s===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(s.$$typeof){case yt:case pc:o=!0}}if(o)return o=s,n=n(o),s=r===""?"."+fs(o,0):r,Jr(n)?(t="",s!=null&&(t=s.replace(Rr,"$&/")+"/"),zt(n,e,t,"",function(h){return h})):n!=null&&(zs(n)&&(n=Sc(n,t+(!n.key||o&&o.key===n.key?"":(""+n.key).replace(Rr,"$&/")+"/")+s)),e.push(n)),1;if(o=0,r=r===""?".":r+":",Jr(s))for(var u=0;u<s.length;u++){i=s[u];var l=r+fs(i,u);o+=zt(i,e,t,l,n)}else if(l=$c(s),typeof l=="function")for(s=l.call(s),u=0;!(i=s.next()).done;)i=i.value,l=r+fs(i,u++),o+=zt(i,e,t,l,n);else if(i==="object")throw e=String(s),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Pt(s,e,t){if(s==null)return s;var r=[],n=0;return zt(s,r,"","",function(i){return e.call(t,i,n++)}),r}function kc(s){if(s._status===-1){var e=s._result;e=e(),e.then(function(t){(s._status===0||s._status===-1)&&(s._status=1,s._result=t)},function(t){(s._status===0||s._status===-1)&&(s._status=2,s._result=t)}),s._status===-1&&(s._status=0,s._result=e)}if(s._status===1)return s._result.default;throw s._result}var U={current:null},Jt={transition:null},Ec={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:Jt,ReactCurrentOwner:As};function jn(){throw Error("act(...) is not supported in production builds of React.")}S.Children={map:Pt,forEach:function(s,e,t){Pt(s,function(){e.apply(this,arguments)},t)},count:function(s){var e=0;return Pt(s,function(){e++}),e},toArray:function(s){return Pt(s,function(e){return e})||[]},only:function(s){if(!zs(s))throw Error("React.Children.only expected to receive a single React element child.");return s}};S.Component=qe;S.Fragment=hc;S.Profiler=dc;S.PureComponent=Is;S.StrictMode=fc;S.Suspense=vc;S.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ec;S.act=jn;S.cloneElement=function(s,e,t){if(s==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+s+".");var r=xn({},s.props),n=s.key,i=s.ref,o=s._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=As.current),e.key!==void 0&&(n=""+e.key),s.type&&s.type.defaultProps)var u=s.type.defaultProps;for(l in e)Cn.call(e,l)&&!Dn.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&u!==void 0?u[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){u=Array(l);for(var h=0;h<l;h++)u[h]=arguments[h+2];r.children=u}return{$$typeof:yt,type:s.type,key:n,ref:i,props:r,_owner:o}};S.createContext=function(s){return s={$$typeof:mc,_currentValue:s,_currentValue2:s,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},s.Provider={$$typeof:gc,_context:s},s.Consumer=s};S.createElement=Pn;S.createFactory=function(s){var e=Pn.bind(null,s);return e.type=s,e};S.createRef=function(){return{current:null}};S.forwardRef=function(s){return{$$typeof:yc,render:s}};S.isValidElement=zs;S.lazy=function(s){return{$$typeof:bc,_payload:{_status:-1,_result:s},_init:kc}};S.memo=function(s,e){return{$$typeof:_c,type:s,compare:e===void 0?null:e}};S.startTransition=function(s){var e=Jt.transition;Jt.transition={};try{s()}finally{Jt.transition=e}};S.unstable_act=jn;S.useCallback=function(s,e){return U.current.useCallback(s,e)};S.useContext=function(s){return U.current.useContext(s)};S.useDebugValue=function(){};S.useDeferredValue=function(s){return U.current.useDeferredValue(s)};S.useEffect=function(s,e){return U.current.useEffect(s,e)};S.useId=function(){return U.current.useId()};S.useImperativeHandle=function(s,e,t){return U.current.useImperativeHandle(s,e,t)};S.useInsertionEffect=function(s,e){return U.current.useInsertionEffect(s,e)};S.useLayoutEffect=function(s,e){return U.current.useLayoutEffect(s,e)};S.useMemo=function(s,e){return U.current.useMemo(s,e)};S.useReducer=function(s,e,t){return U.current.useReducer(s,e,t)};S.useRef=function(s){return U.current.useRef(s)};S.useState=function(s){return U.current.useState(s)};S.useSyncExternalStore=function(s,e,t){return U.current.useSyncExternalStore(s,e,t)};S.useTransition=function(){return U.current.useTransition()};S.version="18.3.1";K.exports=S;var Oc=K.exports,ju=Oo({__proto__:null,default:Oc},[K.exports]);const Lr={get:async(s,e,t)=>{const r=e===void 0?s:{[s]:e};return(await B.storage[t].get(r))[s]},set:(s,e,t)=>B.storage[t].set({[s]:e})};function In(s,e,t,r=Zt){const[n]=K.exports.useState(e),[i]=K.exports.useState(t),[o,u]=K.exports.useState(n),[l,h]=K.exports.useState(!0),[g,d]=K.exports.useState(""),[$,y]=K.exports.useState(!1);K.exports.useEffect(()=>{Lr.get(s,n,i).then(k=>{u(k),h(!0),d("")}).catch(k=>{h(!1),d(k)}).finally(()=>{y(!0)})},[s,n,i]);const w=K.exports.useCallback(k=>{const D=typeof k=="function"?k(o):k;Lr.set(s,D,i).then(()=>{h(!0),d("")}).catch(F=>{u(D),h(!1),d(F)})},[i,s,o]);return K.exports.useEffect(()=>{const k=D=>{if(s in D){const F=D[s],ie="newValue"in F;if(r(F==null?void 0:F.oldValue,F==null?void 0:F.newValue))return;u(ie?F.newValue:n),h(ie),d("")}};return B.storage[t].onChanged.addListener(k),()=>{B.storage[t].onChanged.removeListener(k)}},[s,i,n,r,t]),K.exports.useMemo(()=>[o,w,{isPersistent:l,error:g,isCacheLoading:!$}],[o,w,l,g,$])}function vt(s,e,t=Zt){return In(s,e,"local",t)}function Iu(s,e,t=Zt){return In(s,e,"sync",t)}class xc extends En{constructor(){super(...arguments),this.invoke=mt(async(e={store:!1})=>{const{data:t}=await Be.me.get();return e.store&&await this.store(t),t}),this.logoutKey="USER_LOGOUT_E"}async logout(){await Be.accounts.sessions.logout(),await this.clear()}}const Js=new xc("FETCH_USER_V4"),Mu=(s=null)=>vt(Js.storageKey,s);function ds(s,e){return s-e*Math.floor(s/e)}const Mn=1721426;function jt(s,e,t,r){e=Rs(s,e);let n=e-1,i=-2;return t<=2?i=0:Rt(e)&&(i=-1),Mn-1+365*n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400)+Math.floor((367*t-362)/12+i+r)}function Rt(s){return s%4===0&&(s%100!==0||s%400===0)}function Rs(s,e){return s==="BC"?1-e:e}function Nc(s){let e="AD";return s<=0&&(e="BC",s=1-s),[e,s]}const Tc={standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]};class Ue{fromJulianDay(e){let t=e,r=t-Mn,n=Math.floor(r/146097),i=ds(r,146097),o=Math.floor(i/36524),u=ds(i,36524),l=Math.floor(u/1461),h=ds(u,1461),g=Math.floor(h/365),d=n*400+o*100+l*4+g+(o!==4&&g!==4?1:0),[$,y]=Nc(d),w=t-jt($,y,1,1),k=2;t<jt($,y,3,1)?k=0:Rt(y)&&(k=1);let D=Math.floor(((w+k)*12+373)/367),F=t-jt($,y,D,1)+1;return new ot($,y,D,F)}toJulianDay(e){return jt(e.era,e.year,e.month,e.day)}getDaysInMonth(e){return Tc[Rt(e.year)?"leapyear":"standard"][e.month-1]}getMonthsInYear(e){return 12}getDaysInYear(e){return Rt(e.year)?366:365}getYearsInEra(e){return 9999}getEras(){return["BC","AD"]}isInverseEra(e){return e.era==="BC"}balanceDate(e){e.year<=0&&(e.era=e.era==="BC"?"AD":"BC",e.year=1-e.year)}constructor(){this.identifier="gregory"}}function Cc(s){return he(Date.now(),s)}function Au(s){return jc(Cc(s))}function An(s,e){return s.calendar.toJulianDay(s)-e.calendar.toJulianDay(e)}function zn(s,e){return Br(s)-Br(e)}function Br(s){return s.hour*36e5+s.minute*6e4+s.second*1e3+s.millisecond}let gs=null;function Jn(){return gs==null&&(gs=new Intl.DateTimeFormat().resolvedOptions().timeZone),gs}function zu(s){return s.calendar.getMinimumMonthInYear?s.calendar.getMinimumMonthInYear(s):1}function Ju(s){return s.calendar.getMinimumDayInMonth?s.calendar.getMinimumDayInMonth(s):1}function Fe(s){s=ne(s,new Ue);let e=Rs(s.era,s.year);return Rn(e,s.month,s.day,s.hour,s.minute,s.second,s.millisecond)}function Rn(s,e,t,r,n,i,o){let u=new Date;return u.setUTCHours(r,n,i,o),u.setUTCFullYear(s,e-1,t),u.getTime()}function Es(s,e){if(e==="UTC")return 0;if(s>0&&e===Jn())return new Date(s).getTimezoneOffset()*-6e4;let{year:t,month:r,day:n,hour:i,minute:o,second:u}=Ln(s,e);return Rn(t,r,n,i,o,u,0)-Math.floor(s/1e3)*1e3}const Ur=new Map;function Ln(s,e){let t=Ur.get(e);t||(t=new Intl.DateTimeFormat("en-US",{timeZone:e,hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),Ur.set(e,t));let r=t.formatToParts(new Date(s)),n={};for(let i of r)i.type!=="literal"&&(n[i.type]=i.value);return{year:n.era==="BC"||n.era==="B"?-n.year+1:+n.year,month:+n.month,day:+n.day,hour:n.hour==="24"?0:+n.hour,minute:+n.minute,second:+n.second}}const Fr=864e5;function Dc(s,e,t,r){return(t===r?[t]:[t,r]).filter(i=>Pc(s,e,i))}function Pc(s,e,t){let r=Ln(t,e);return s.year===r.year&&s.month===r.month&&s.day===r.day&&s.hour===r.hour&&s.minute===r.minute&&s.second===r.second}function le(s,e,t="compatible"){let r=He(s);if(e==="UTC")return Fe(r);if(e===Jn()&&t==="compatible"){r=ne(r,new Ue);let l=new Date,h=Rs(r.era,r.year);return l.setFullYear(h,r.month-1,r.day),l.setHours(r.hour,r.minute,r.second,r.millisecond),l.getTime()}let n=Fe(r),i=Es(n-Fr,e),o=Es(n+Fr,e),u=Dc(r,e,n-i,n-o);if(u.length===1)return u[0];if(u.length>1)switch(t){case"compatible":case"earlier":return u[0];case"later":return u[u.length-1];case"reject":throw new RangeError("Multiple possible absolute times found")}switch(t){case"earlier":return Math.min(n-i,n-o);case"compatible":case"later":return Math.max(n-i,n-o);case"reject":throw new RangeError("No such absolute time found")}}function Bn(s,e,t="compatible"){return new Date(le(s,e,t))}function he(s,e){let t=Es(s,e),r=new Date(s+t),n=r.getUTCFullYear(),i=r.getUTCMonth()+1,o=r.getUTCDate(),u=r.getUTCHours(),l=r.getUTCMinutes(),h=r.getUTCSeconds(),g=r.getUTCMilliseconds();return new at(n,i,o,e,t,u,l,h,g)}function jc(s){return new ot(s.calendar,s.era,s.year,s.month,s.day)}function He(s,e){let t=0,r=0,n=0,i=0;if("timeZone"in s)({hour:t,minute:r,second:n,millisecond:i}=s);else if("hour"in s&&!e)return s;return e&&({hour:t,minute:r,second:n,millisecond:i}=e),new Ft(s.calendar,s.era,s.year,s.month,s.day,t,r,n,i)}function Ru(s){return new Ge(s.hour,s.minute,s.second,s.millisecond)}function ne(s,e){if(s.calendar.identifier===e.identifier)return s;let t=e.fromJulianDay(s.calendar.toJulianDay(s)),r=s.copy();return r.calendar=e,r.era=t.era,r.year=t.year,r.month=t.month,r.day=t.day,Me(r),r}function Ic(s,e,t){if(s instanceof at)return s.timeZone===e?s:Ac(s,e);let r=le(s,e,t);return he(r,e)}function Mc(s){let e=Fe(s)-s.offset;return new Date(e)}function Ac(s,e){let t=Fe(s)-s.offset;return ne(he(t,e),s.calendar)}const Qe=36e5;function Xt(s,e){let t=s.copy(),r="hour"in t?Gn(t,e):0;Os(t,e.years||0),t.calendar.balanceYearMonth&&t.calendar.balanceYearMonth(t,s),t.month+=e.months||0,xs(t),Un(t),t.day+=(e.weeks||0)*7,t.day+=e.days||0,t.day+=r,zc(t),t.calendar.balanceDate&&t.calendar.balanceDate(t),t.year<1&&(t.year=1,t.month=1,t.day=1);let n=t.calendar.getYearsInEra(t);if(t.year>n){var i,o;let l=(i=(o=t.calendar).isInverseEra)===null||i===void 0?void 0:i.call(o,t);t.year=n,t.month=l?1:t.calendar.getMonthsInYear(t),t.day=l?1:t.calendar.getDaysInMonth(t)}t.month<1&&(t.month=1,t.day=1);let u=t.calendar.getMonthsInYear(t);return t.month>u&&(t.month=u,t.day=t.calendar.getDaysInMonth(t)),t.day=Math.max(1,Math.min(t.calendar.getDaysInMonth(t),t.day)),t}function Os(s,e){var t,r;!((t=(r=s.calendar).isInverseEra)===null||t===void 0)&&t.call(r,s)&&(e=-e),s.year+=e}function xs(s){for(;s.month<1;)Os(s,-1),s.month+=s.calendar.getMonthsInYear(s);let e=0;for(;s.month>(e=s.calendar.getMonthsInYear(s));)s.month-=e,Os(s,1)}function zc(s){for(;s.day<1;)s.month--,xs(s),s.day+=s.calendar.getDaysInMonth(s);for(;s.day>s.calendar.getDaysInMonth(s);)s.day-=s.calendar.getDaysInMonth(s),s.month++,xs(s)}function Un(s){s.month=Math.max(1,Math.min(s.calendar.getMonthsInYear(s),s.month)),s.day=Math.max(1,Math.min(s.calendar.getDaysInMonth(s),s.day))}function Me(s){s.calendar.constrainDate&&s.calendar.constrainDate(s),s.year=Math.max(1,Math.min(s.calendar.getYearsInEra(s),s.year)),Un(s)}function Ls(s){let e={};for(let t in s)typeof s[t]=="number"&&(e[t]=-s[t]);return e}function Fn(s,e){return Xt(s,Ls(e))}function Bs(s,e){let t=s.copy();return e.era!=null&&(t.era=e.era),e.year!=null&&(t.year=e.year),e.month!=null&&(t.month=e.month),e.day!=null&&(t.day=e.day),Me(t),t}function it(s,e){let t=s.copy();return e.hour!=null&&(t.hour=e.hour),e.minute!=null&&(t.minute=e.minute),e.second!=null&&(t.second=e.second),e.millisecond!=null&&(t.millisecond=e.millisecond),Hn(t),t}function Jc(s){s.second+=Math.floor(s.millisecond/1e3),s.millisecond=It(s.millisecond,1e3),s.minute+=Math.floor(s.second/60),s.second=It(s.second,60),s.hour+=Math.floor(s.minute/60),s.minute=It(s.minute,60);let e=Math.floor(s.hour/24);return s.hour=It(s.hour,24),e}function Hn(s){s.millisecond=Math.max(0,Math.min(s.millisecond,1e3)),s.second=Math.max(0,Math.min(s.second,59)),s.minute=Math.max(0,Math.min(s.minute,59)),s.hour=Math.max(0,Math.min(s.hour,23))}function It(s,e){let t=s%e;return t<0&&(t+=e),t}function Gn(s,e){return s.hour+=e.hours||0,s.minute+=e.minutes||0,s.second+=e.seconds||0,s.millisecond+=e.milliseconds||0,Jc(s)}function Kn(s,e){let t=s.copy();return Gn(t,e),t}function Rc(s,e){return Kn(s,Ls(e))}function Us(s,e,t,r){let n=s.copy();switch(e){case"era":{let u=s.calendar.getEras(),l=u.indexOf(s.era);if(l<0)throw new Error("Invalid era: "+s.era);l=fe(l,t,0,u.length-1,r==null?void 0:r.round),n.era=u[l],Me(n);break}case"year":var i,o;!((i=(o=n.calendar).isInverseEra)===null||i===void 0)&&i.call(o,n)&&(t=-t),n.year=fe(s.year,t,-1/0,9999,r==null?void 0:r.round),n.year===-1/0&&(n.year=1),n.calendar.balanceYearMonth&&n.calendar.balanceYearMonth(n,s);break;case"month":n.month=fe(s.month,t,1,s.calendar.getMonthsInYear(s),r==null?void 0:r.round);break;case"day":n.day=fe(s.day,t,1,s.calendar.getDaysInMonth(s),r==null?void 0:r.round);break;default:throw new Error("Unsupported field "+e)}return s.calendar.balanceDate&&s.calendar.balanceDate(n),Me(n),n}function Fs(s,e,t,r){let n=s.copy();switch(e){case"hour":{let i=s.hour,o=0,u=23;if((r==null?void 0:r.hourCycle)===12){let l=i>=12;o=l?12:0,u=l?23:11}n.hour=fe(i,t,o,u,r==null?void 0:r.round);break}case"minute":n.minute=fe(s.minute,t,0,59,r==null?void 0:r.round);break;case"second":n.second=fe(s.second,t,0,59,r==null?void 0:r.round);break;case"millisecond":n.millisecond=fe(s.millisecond,t,0,999,r==null?void 0:r.round);break;default:throw new Error("Unsupported field "+e)}return n}function fe(s,e,t,r,n=!1){if(n){s+=Math.sign(e),s<t&&(s=r);let i=Math.abs(e);e>0?s=Math.ceil(s/i)*i:s=Math.floor(s/i)*i,s>r&&(s=t)}else s+=e,s<t?s=r-(t-s-1):s>r&&(s=t+(s-r-1));return s}function qn(s,e){let t;if(e.years!=null&&e.years!==0||e.months!=null&&e.months!==0||e.weeks!=null&&e.weeks!==0||e.days!=null&&e.days!==0){let n=Xt(He(s),{years:e.years,months:e.months,weeks:e.weeks,days:e.days});t=le(n,s.timeZone)}else t=Fe(s)-s.offset;t+=e.milliseconds||0,t+=(e.seconds||0)*1e3,t+=(e.minutes||0)*6e4,t+=(e.hours||0)*36e5;let r=he(t,s.timeZone);return ne(r,s.calendar)}function Lc(s,e){return qn(s,Ls(e))}function Bc(s,e,t,r){switch(e){case"hour":{let n=0,i=23;if((r==null?void 0:r.hourCycle)===12){let w=s.hour>=12;n=w?12:0,i=w?23:11}let o=He(s),u=ne(it(o,{hour:n}),new Ue),l=[le(u,s.timeZone,"earlier"),le(u,s.timeZone,"later")].filter(w=>he(w,s.timeZone).day===u.day)[0],h=ne(it(o,{hour:i}),new Ue),g=[le(h,s.timeZone,"earlier"),le(h,s.timeZone,"later")].filter(w=>he(w,s.timeZone).day===h.day).pop(),d=Fe(s)-s.offset,$=Math.floor(d/Qe),y=d%Qe;return d=fe($,t,Math.floor(l/Qe),Math.floor(g/Qe),r==null?void 0:r.round)*Qe+y,ne(he(d,s.timeZone),s.calendar)}case"minute":case"second":case"millisecond":return Fs(s,e,t,r);case"era":case"year":case"month":case"day":{let n=Us(He(s),e,t,r),i=le(n,s.timeZone);return ne(he(i,s.timeZone),s.calendar)}default:throw new Error("Unsupported field "+e)}}function Uc(s,e,t){let r=He(s),n=it(Bs(r,e),e);if(n.compare(r)===0)return s;let i=le(n,s.timeZone,t);return ne(he(i,s.timeZone),s.calendar)}const Fc=/^(\d{2})(?::(\d{2}))?(?::(\d{2}))?(\.\d+)?$/;function Lu(s){let e=s.match(Fc);if(!e)throw new Error("Invalid ISO 8601 time string: "+s);return new Ge(Mt(e[1],0,23),e[2]?Mt(e[2],0,59):0,e[3]?Mt(e[3],0,59):0,e[4]?Mt(e[4],0,1/0)*1e3:0)}function Mt(s,e,t){let r=Number(s);if(r<e||r>t)throw new RangeError(`Value out of range: ${e} <= ${r} <= ${t}`);return r}function Wn(s){return`${String(s.hour).padStart(2,"0")}:${String(s.minute).padStart(2,"0")}:${String(s.second).padStart(2,"0")}${s.millisecond?String(s.millisecond/1e3).slice(1):""}`}function Yn(s){let e=ne(s,new Ue);return`${String(e.year).padStart(4,"0")}-${String(e.month).padStart(2,"0")}-${String(e.day).padStart(2,"0")}`}function Vn(s){return`${Yn(s)}T${Wn(s)}`}function Hc(s){let e=Math.sign(s)<0?"-":"+";s=Math.abs(s);let t=Math.floor(s/36e5),r=s%36e5/6e4;return`${e}${String(t).padStart(2,"0")}:${String(r).padStart(2,"0")}`}function Gc(s){return`${Vn(s)}${Hc(s.offset)}[${s.timeZone}]`}function Kc(s,e){if(e.has(s))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Qt(s,e,t){Kc(s,e),e.set(s,t)}function Hs(s){let e=typeof s[0]=="object"?s.shift():new Ue,t;if(typeof s[0]=="string")t=s.shift();else{let o=e.getEras();t=o[o.length-1]}let r=s.shift(),n=s.shift(),i=s.shift();return[e,t,r,n,i]}var qc=new WeakMap;class ot{copy(){return this.era?new ot(this.calendar,this.era,this.year,this.month,this.day):new ot(this.calendar,this.year,this.month,this.day)}add(e){return Xt(this,e)}subtract(e){return Fn(this,e)}set(e){return Bs(this,e)}cycle(e,t,r){return Us(this,e,t,r)}toDate(e){return Bn(this,e)}toString(){return Yn(this)}compare(e){return An(this,e)}constructor(...e){Qt(this,qc,{writable:!0,value:void 0});let[t,r,n,i,o]=Hs(e);this.calendar=t,this.era=r,this.year=n,this.month=i,this.day=o,Me(this)}}var Wc=new WeakMap;class Ge{copy(){return new Ge(this.hour,this.minute,this.second,this.millisecond)}add(e){return Kn(this,e)}subtract(e){return Rc(this,e)}set(e){return it(this,e)}cycle(e,t,r){return Fs(this,e,t,r)}toString(){return Wn(this)}compare(e){return zn(this,e)}constructor(e=0,t=0,r=0,n=0){Qt(this,Wc,{writable:!0,value:void 0}),this.hour=e,this.minute=t,this.second=r,this.millisecond=n,Hn(this)}}var Yc=new WeakMap;class Ft{copy(){return this.era?new Ft(this.calendar,this.era,this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond):new Ft(this.calendar,this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond)}add(e){return Xt(this,e)}subtract(e){return Fn(this,e)}set(e){return Bs(it(this,e),e)}cycle(e,t,r){switch(e){case"era":case"year":case"month":case"day":return Us(this,e,t,r);default:return Fs(this,e,t,r)}}toDate(e,t){return Bn(this,e,t)}toString(){return Vn(this)}compare(e){let t=An(this,e);return t===0?zn(this,He(e)):t}constructor(...e){Qt(this,Yc,{writable:!0,value:void 0});let[t,r,n,i,o]=Hs(e);this.calendar=t,this.era=r,this.year=n,this.month=i,this.day=o,this.hour=e.shift()||0,this.minute=e.shift()||0,this.second=e.shift()||0,this.millisecond=e.shift()||0,Me(this)}}var Vc=new WeakMap;class at{copy(){return this.era?new at(this.calendar,this.era,this.year,this.month,this.day,this.timeZone,this.offset,this.hour,this.minute,this.second,this.millisecond):new at(this.calendar,this.year,this.month,this.day,this.timeZone,this.offset,this.hour,this.minute,this.second,this.millisecond)}add(e){return qn(this,e)}subtract(e){return Lc(this,e)}set(e,t){return Uc(this,e,t)}cycle(e,t,r){return Bc(this,e,t,r)}toDate(){return Mc(this)}toString(){return Gc(this)}toAbsoluteString(){return this.toDate().toISOString()}compare(e){return this.toDate().getTime()-Ic(e,this.timeZone).toDate().getTime()}constructor(...e){Qt(this,Vc,{writable:!0,value:void 0});let[t,r,n,i,o]=Hs(e),u=e.shift(),l=e.shift();this.calendar=t,this.era=r,this.year=n,this.month=i,this.day=o,this.timeZone=u,this.offset=l,this.hour=e.shift()||0,this.minute=e.shift()||0,this.second=e.shift()||0,this.millisecond=e.shift()||0,Me(this)}}var Hr={"airtable.com":{url:"*://airtable.com/*",name:"Airtable",file:"airtable.js"},"any.do":{url:"*://*.any.do/*",name:"Anydo"},"app.asana.com":{url:"*://app.asana.com/*",name:"Asana",file:"asana.js"},"assembla.com":{url:"*://*.assembla.com/*",name:"Assembla"},"atlassian.com":{url:"*://*.atlassian.com/*",name:"Atlassian / Jira",file:"atlassian.js"},"atlassian.net":{url:"*://*.atlassian.net/*",name:"Atlassian / Jira",clone:"true",file:"atlassian.js"},"axosoft.com":{url:"*://*.axosoft.com/*",name:"Axosoft"},"backlog.jp":{url:"*://*.backlog.jp/*",name:"Backlog"},"basecamp.com":{url:"*://*.basecamp.com/*",name:"Basecamp"},"basecamphq.com":{url:"*://*.basecamphq.com/*",name:"BasecampHQ",clone:"true",file:"basecamp.js"},"bitbucket.org":{url:"*://*.bitbucket.org/*",name:"Bitbucket"},"bitrix24.com":{url:"*://*.bitrix24.com/*",name:"Bitrix24"},"app.breeze.pm":{url:"*://app.breeze.pm/*",name:"Breeze"},"app.brokerengine.com.au":{url:"*://app.brokerengine.com.au/*",name:"BrokerEngine"},"bugherd.com":{url:"*://*.bugherd.com/*",name:"BugHerd",file:"bugherd.js"},"app.bugsnag.com":{url:"*://app.bugsnag.com/*",name:"Bugsnag"},"bugzilla.mozilla.org":{url:"*://bugzilla.mozilla.org/*",name:"Bugzilla"},"capsulecrm.com":{url:"*://*.capsulecrm.com/*",name:"CapsuleCRM"},"clickup.com":{url:"*://*.clickup.com/*",name:"ClickUp",file:"clickup.js"},"cloudes.me":{url:"*://*.cloudes.me/*",name:"Cloudes.me"},"app.clubhouse.io":{url:"*://app.clubhouse.io/*",name:"Clubhouse"},"app.codeable.io":{url:"*://app.codeable.io/*",name:"Codeable"},"codebasehq.com":{url:"*://*.codebasehq.com/*",name:"Codebase"},"corgee.com":{url:"*://*.corgee.com/*",name:"Corgee"},"crowdin.com":{url:"*://*.crowdin.com/*",name:"Crowdin",file:"crowdin.js"},"desk.com":{url:"*://*.desk.com/web/agent/*",name:"Desk.com"},"devdocs.io":{url:"*://devdocs.io/*",name:"Devdocs.io"},"dixa.com":{url:"*://*.dixa.com/*",name:"Dixa"},"dobambam.com":{url:"*://*.dobambam.com/*",name:"Dobambam"},"doit.im":{url:"*://*.doit.im/*",name:"Doit"},"doitim.com":{url:"*://*.doitim.com/*",name:"Doit",clone:"true"},"dokuwiki.org":{url:"*://*.dokuwiki.org/*",name:"DokuWiki",file:"dokuwiki.js"},"dom-integration":{url:"*://toggl-button-dom-demo.now.sh/*",name:"DOM Integration"},"draftin.com":{url:"*://*.draftin.com/*",name:"Draftin"},"paper.dropbox.com":{url:"*://paper.dropbox.com/*",name:"Dropbox Paper"},"drupal.org":{url:"*://*.drupal.org/*",name:"Drupal"},"dynamics.com":{url:"*://*.dynamics.com/*",name:"Dynamics 365"},"eproject.me":{url:"*://*.eproject.me/*",name:"Eproject.me"},"esa.io":{url:"*://*.esa.io/*",name:"Esa.io"},eventum:{url:"",name:"Eventum"},"evernote.com":{url:"*://*.evernote.com/*",name:"Evernote"},"fastmail.com":{url:"*://*.fastmail.com/*",name:"Fastmail"},"feedly.com":{url:"*://*.feedly.com/*",name:"Feedly"},"fibery.io":{url:"*://*.fibery.io/*",name:"Fibery"},"figma.com":{url:"*://*.figma.com/*",name:"Figma",file:"figma.js"},"focuster.com":{url:"*://*.focuster.com/*",name:"Focuster"},"fogbugz.com":{url:"*://*.fogbugz.com/*",name:"Fogbugz"},"freedcamp.com":{url:"*://*.freedcamp.com/*",name:"Freedcamp",file:"freedcamp.js"},"freshdesk.com":{url:"*://*.freshdesk.com/*",name:"Freshdesk"},"freshservice.com":{url:"*://*.freshservice.com/*",name:"Freshservice",file:"freshservice.js"},"ongemini.com":{url:"*://*.ongemini.com/*",name:"Gemini"},"getflow.com":{url:"*://*.getflow.com/*",name:"Getflow"},"gingkoapp.com":{url:"*://gingkoapp.com/*",name:"Gingkoapp"},"gitea.com":{url:"*://gitea.com/*",name:"Gitea"},"github.com":{url:"*://github.com/*",name:"Github",file:"github.js"},"gitlab.com":{url:"*://*.gitlab.com/*",name:"Gitlab"},"gogs.io":{url:"*://*.gogs.io/*",name:"Gogs"},"calendar.google.com":{url:"*://calendar.google.com/*",name:"Google Calendar"},"classroom.google.com":{url:"*://classroom.google.com/*",name:"Google Classroom"},"docs.google.com":{url:"*://docs.google.com/*",name:"Google Docs"},"inbox.google.com":{url:"*://inbox.google.com/*",name:"Google Inbox"},"keep.google.com":{url:"*://keep.google.com/*",name:"Google Keep"},"mail.google.com":{url:"*://mail.google.com/*",name:"Google Mail"},"gqueues.com":{url:"*://*.gqueues.com/*",name:"GQueues",file:"gqueues.js"},"habitica.com":{url:"*://habitica.com/*",name:"Habitica"},"app.heflo.com":{url:"*://app.heflo.com/*",name:"HEFLO"},"helprace.com":{url:"*://*.helprace.com/*",name:"Helprace"},"secure.helpscout.net":{url:"*://secure.helpscout.net/*",name:"Helpscout"},"hubspot.com":{url:"*://app.hubspot.com/*",name:"Hubspot",file:"hubspot.js"},"app.huskymarketingplanner.com":{url:"*://app.huskymarketingplanner.com/*",name:"Husky Marketing Planner",file:"husky-marketing-planner.js"},"intercom.com":{url:"*://*.intercom.com/*",name:"Intercom"},"jira.com":{url:"*://*.jira.com/*",name:"Jira",file:"atlassian.js"},"bugs.jquery.com":{url:"*://bugs.jquery.com/*",name:"Jquery Bugs",file:"trac.js"},"kanban.ist":{url:"*://*.kanban.ist/*",name:"Kanbanist"},"kanboard.net":{url:"",name:"Kanboard"},"kantree.io":{url:"*://*.kantree.io/*",name:"Kantree"},"khanacademy.org":{url:"*://*.khanacademy.org/*",name:"KhanAcademy",file:"khanacademy.js"},"www.khanacademy.org":{url:"*://www.khanacademy.org/*",name:"KhanAcademy"},"linear.app":{url:"*://linear.app/*",name:"Linear",file:"linear.js"},"app.liquidplanner.com":{url:"*://app.liquidplanner.com/*",name:"Liquidplanner"},"next.liquidplanner.com":{url:"*://next.liquidplanner.com/*",name:"Liquidplanner Next"},"ladesk.com":{url:"*://*.ladesk.com/*",name:"LiveAgent",file:"liveagent.js"},"manageengine.com":{url:"*://*.manageengine.com/*",name:"ManageEngine"},"mantishub.com":{url:"*://*.mantishub.com/*",name:"Mantishub"},"mantishub.io":{url:"*://*.mantishub.io/*",name:"Mantishub",clone:"true"},"meistertask.com":{url:"*://*.meistertask.com/*",name:"MeisterTask",file:"meistertask.js"},"tasks.office.com":{url:"*://tasks.office.com/*",name:"Microsoft Planner"},"to-do.live.com":{url:"*://*.to-do.live.com/*",name:"Microsoft To-Do",file:"microsoft-to-do.js"},"to-do.microsoft.com":{url:"*://*.to-do.microsoft.com/*",name:"Microsoft To-Do",file:"microsoft-to-do.js"},"to-do.office.com":{url:"*://*.to-do.office.com/*",name:"Microsoft To-Do",file:"microsoft-to-do.js"},"minicrm.pl":{url:"*://*.minicrm.pl/*",name:"Minicrm",clone:"true"},"newsletter2go.com":{url:"*://*.newsletter2go.com/*",name:"Newsletter2go"},"notion.so":{url:"*://*.notion.so/*",name:"Notion",file:"notion.js"},"app.nozbe.com":{url:"*://app.nozbe.com/*",name:"Nozbe"},"odoo.com":{url:"*://*.odoo.com/*",name:"Odoo"},"onlyoffice.com":{url:"*://*.onlyoffice.com/*",name:"OnlyOffice"},"onshape.com":{url:"*://*.onshape.com/*",name:"Onshape"},"openproject.com":{url:"*://*.openproject.com/*",name:"Openproject"},"supportsystem.com":{url:"*://*.supportsystem.com/*",name:"osTicket",file:"osticket.js"},"outlook.office.com":{url:"*://outlook.office.com/*",name:"Outlook",file:"outlook.js"},"outlook.live.com":{url:"*://outlook.live.com/*",name:"Outlook",clone:"true"},"pagerduty.com":{url:"*://*.pagerduty.com/*",name:"PagerDuty"},"pivotaltracker.com":{url:"*://*.pivotaltracker.com/*",name:"PivotalTracker"},"placker.com":{url:"*://*.placker.com/*",name:"Placker",file:"placker.js"},"planbox.com":{url:"*://*.planbox.com/*",name:"Planbox"},"podio.com":{url:"*://*.podio.com/*",name:"Podio"},processwire:{url:"",name:"ProcessWire"},"produck.io":{url:"*://*.produck.io/*",name:"Produck"},"protonmail.com":{url:"*://*.protonmail.com/*",name:"Protonmail"},"proworkflow.com":{url:"*://*.proworkflow.com/*",name:"Proworkflow"},"rally1.rallydev.com":{url:"*://rally1.rallydev.com/*",name:"RallyDev"},"redbooth.com":{url:"*://*.redbooth.com/*",name:"Redbooth"},"redmine.org":{url:"*://*.redmine.org/*",name:"Redmine"},"rememberthemilk.com":{url:"*://*.rememberthemilk.com/*",name:"RememberTheMilk"},"rbcommons.com":{url:"*://*.rbcommons.com/*",name:"Reviewboard"},"rindle.com":{url:"*://*.rindle.com/*",name:"Rindle"},"rollbar.com":{url:"*://*.rollbar.com/*",name:"Rollbar"},"salesforce.com":{url:"*://*.salesforce.com/*,*://*.my.salesforce.com/*",name:"Salesforce",file:"salesforce.js"},"force.com":{url:"*://*.force.com/*,*://*.lightning.force.com/*",name:"Salesforce Lightning",file:"force.js"},"scrapbox.io":{url:"*://scrapbox.io/*",name:"Scrapbox"},"sentry.io":{url:"*://*.sentry.io/*",name:"Sentry"},"sherpadesk.com":{url:"*://*.sherpadesk.com/*",name:"Sherpadesk"},"app.shortcut.com":{url:"*://app.shortcut.com/*",name:"Shortcut",file:"shortcut.js"},"sifterapp.com":{url:"*://*.sifterapp.com/*",name:"Sifterapp"},"slack.com":{url:"*://*.slack.com/*",name:"Slack",file:"slack.js"},"sourcelair.com":{url:"*://*.sourcelair.com/*",name:"Sourcelair",file:"sourcelair.js"},"spidergap.com":{url:"*://*.spidergap.com/*",name:"Spidergap"},"sprint.ly":{url:"*://sprint.ly/*",name:"Sprintly"},"taiga.io":{url:"*://*.taiga.io/*",name:"Taiga",file:"taiga.js"},"targetprocess.com":{url:"*://*.targetprocess.com/*",name:"Targetprocess"},"tpondemand.com":{url:"*://*.tpondemand.com/*",name:"Targetprocess",clone:"true"},"app.teamleader.eu":{url:"*://app.teamleader.eu/*",name:"Teamleader"},"teamwork.com":{url:"*://*.teamwork.com/*",name:"Teamwork",file:"teamwork.js"},"teamworkpm.net":{url:"*://*.teamworkpm.net/*",name:"Teamwork",clone:"true"},"ticktick.com":{url:"*://ticktick.com/*,*://*.ticktick.com/*",name:"TickTick"},"todoist.com":{url:"*://*.todoist.com/app*",name:"Todoist",file:"todoist.js"},"toggl.com":{url:"*://toggl.com/*",name:"Toggl",clone:"true"},"www.toggl.com":{url:"*://www.toggl.com/*",name:"Toggl",clone:"true"},"plan.toggl.com":{url:"*://plan.toggl.com/*",name:"Toggl Plan",file:"toggl-plan.js"},"toodledo.com":{url:"*://*.toodledo.com/*",name:"Toodledo"},"trac-hacks.org":{url:"*://trac-hacks.org/*",name:"Trac"},"trac.edgewall.org":{url:"*://trac.edgewall.org/*",name:"Trac",clone:"true"},"trac.wordpress.org":{url:"*://*.trac.wordpress.org/*",name:"Trac",clone:"true"},"trello.com":{url:"*://trello.com/*",name:"Trello",file:"trello.js"},"unfuddle.com":{url:"*://*.unfuddle.com/*",name:"Unfuddle"},"v1host.com":{url:"*://*.v1host.com/*",name:"VersionOne"},"visualstudio.com":{url:"*://*.visualstudio.com/*",name:"VisualStudio"},"azure.com":{url:"*://*.azure.com/*",name:"VisualStudio / Azure DevOps",file:"visualstudio.js"},"app.vivifyscrum.com":{url:"*://app.vivifyscrum.com/*",name:"VivifyScrum",clone:"true"},"wordpress.com":{url:"*://wordpress.com/*",name:"Wordpress"},"workast.io":{url:"*://*.workast.io/*",name:"Workast"},"workflowy.com":{url:"*://workflowy.com/*",name:"Workflowy"},"attask-ondemand.com":{url:"*://*.attask-ondemand.com/*",name:"Workfront",clone:"true"},"my.workfront.com":{url:"*://*.my.workfront.com/*",name:"Workfront"},"worksection.com":{url:"*://*.worksection.com/*",name:"Worksection"},"worksection.eu":{url:"*://*.worksection.eu/*",name:"Worksection",clone:"true"},"worksection.net":{url:"*://*.worksection.net/*",name:"Worksection",clone:"true"},"wrike.com":{url:"*://*.wrike.com/*",name:"Wrike",file:"wrike.js"},"xero.com":{url:"*://*.xero.com/*",name:"Xero",file:"xero.js"},"youtrack.cloud":{url:"*://*.youtrack.cloud/*",name:"YouTrack",file:"youtrack.js"},"zammad.com":{url:"*://*.zammad.com/*",name:"Zammad"},"zendesk.com":{url:"*://*.zendesk.com/*",name:"Zendesk",file:"zendesk.js"},"app.zenhub.com":{url:"*://app.zenhub.com/*",name:"Zenhub"},"books.zoho.com":{url:"*://books.zoho.com/*",name:"Zoho Books"},"zube.io":{url:"*://zube.io/*",name:"Zube"}};const Gr=(...s)=>{};class Gs{constructor(e){this.identifier=e,this.eventKey=`${e}_E`,this.sinceKey=`${e}_S`,this.storageKey=`${e}_D`}async retrieve(){const e=await B.storage.local.get(this.storageKey);return this.storageKey in e?e[this.storageKey]:null}async arrange(e,t){const r=Math.floor(Date.now()/1e3);if(Gr(`${this.identifier}:: arrange`,{since:e,invokedAt:r,data:t}),await B.storage.local.set({[this.sinceKey]:r}),e!==null){const n=await this.retrieve();n!==null&&await this.store(this.cleanup(Object.assign(n,t)))}else await this.store(this.cleanup(t))}cleanup(e){return Object.fromEntries(Object.entries(e).filter(([,r])=>{if(typeof r!="object")return!0;if(!r)return!1;const n="deleted_at"in r&&r.deleted_at!==null||"server_deleted_at"in r&&r.server_deleted_at!==null;return n&&Gr(`${this.identifier}:: cleanup`,{item:r}),!n}))}async since(){const e=await B.storage.local.get(this.sinceKey);return this.sinceKey in e?e[this.sinceKey]:null}store(e){return B.storage.local.set({[this.storageKey]:e})}async clear(){await B.storage.local.remove(this.storageKey),await B.storage.local.remove(this.sinceKey)}dispatch(){return B.runtime.sendMessage({type:this.eventKey})}}class Zc extends Gs{constructor(){super(...arguments),this.invoke=mt(async(e,t)=>{const r=await Be.me.projects.list(e).then(({data:n})=>Object.fromEntries(n.map(i=>[i.id,i])));return await this.arrange(e,r),t!=null&&t.returnApiData?r:this.retrieve()})}}const Xc=new Zc("FETCH_PROJECTS_V4"),Bu=(s=null)=>vt(Xc.storageKey,s);class Qc extends Gs{constructor(){super(...arguments),this.invoke=mt(async e=>{const t=await Be.me.tags.list(e).then(({data:r})=>Object.fromEntries(r.map(n=>[n.id,n])));return await this.arrange(e,t),this.retrieve()})}}const eu=new Qc("FETCH_TAGS_V4"),Uu=(s=null)=>vt(eu.storageKey,s),tu=s=>{let e;return s.indexOf("//")>-1?e=s.split("/")[2]:e=s.split("/")[0],e=e.split(":")[0],e=e.split("?")[0],e},Fu=s=>{let e=tu(s);const t=e.split("."),r=t.length;if(r>2&&(e=t[r-2]+"."+t[r-1],!Hr[e])){const n=t;for(;n.length>0&&!Hr[n.join(".")];)n.shift();e=n.join(".")}return e},Hu=(s,e)=>{window.heap&&window.heap.track(`extension:${s}`,e)},Kr=()=>typeof browser!="undefined",Gu=()=>["*://*.toggl.com/*","*://toggl.com/*"];function Ku(){return typeof self!="undefined"&&"ServiceWorkerGlobalScope"in self}class su extends En{constructor(){super(...arguments),this.invoke=mt(async(e={store:!1})=>{const{data:t}=await Be.me.timeEntries.current();return e.store&&await this.store(t),t})}fromApi(e){var t;return e?Object.assign({},{billable:e.billable,description:e.description,duration:e.duration,duronly:e.duronly,id:e.id,project_id:e.project_id,server_deleted_at:e.server_deleted_at,shared_with:e.shared_with,start:new Date(e.start).toISOString(),stop:e.stop,tag_ids:(t=e.tag_ids)!=null?t:[],tags:e.tags,task_id:e.task_id,user_id:e.user_id,workspace_id:e.workspace_id}):null}}const Lt=new su("FETCH_CURRENT_TE_V4"),qu=(s=null)=>vt(Lt.storageKey,s,(e,t)=>Zt(Lt.fromApi(e),Lt.fromApi(t)));class ru extends Gs{constructor(){super(...arguments),this.invoke=mt(async e=>{const t=await Be.me.workspaces.list(e).then(({data:r})=>Object.fromEntries(r.map(n=>[n.id,n])));return await this.arrange(e,t),this.retrieve()})}}const Zn=new ru("FETCH_WORKSPACES_V4"),nu=(s=null)=>vt(Zn.storageKey,s),Wu=s=>{const[e]=nu();return s&&e&&s in e?e[s]:null},Yu={integrations:{},idleInterval:15,startAutomatically:!1,stopAutomatically:!1,showRightClickButton:!0,customIntegrations:{},customScripts:{},developmentMode:!1,showPostPopup:!0,remindersCheckEnabled:!1,reminderManuallyEdited:!1,remindersInterval:60,remindersFromTo:[new Ge(9,0).toString(),new Ge(17,0).toString()],idleDetectionEnabled:!1,stopAtDayEnd:!1,dayEndTime:"17:00",defaultProject:0,rememberProjectPer:"none",enableTinyButton:!1,enableAutoTagging:!1,sendErrorReports:!Kr(),sendUsageStatistics:!Kr(),settingsOnboarded:!1,tesListOnboardingStep:"initial",surveyTaken:!1,surveyNTPTaken:!1,showChangelog:!0,tinyButtonBlocklist:[]},Vu={[Lt.storageKey]:null,[Zn.storageKey]:null,[Js.storageKey]:null,defaultProjects:{},fullFetchStatus:{loading:!1,error:null,retryCount:0,lastRunAt:null,lastSuccessfulAt:null},lastIdleTimeEntry:null};export{Cu as $,Eu as A,we as B,Lt as C,Vr as D,Su as E,lu as F,H as G,ft as H,Ou as I,ya as J,js as K,Ts as L,Ns as M,No as N,Yt as O,Xc as P,Oa as Q,te as R,re as S,eu as T,Js as U,bu as V,Zn as W,hu as X,mu as Y,Ps as Z,Bo as _,Be as a,$u as a0,Ko as a1,ma as a2,au as a3,cu as a4,uu as a5,xo as a6,To as a7,Yo as a8,vu as a9,Hu as aA,Tu as aB,Gu as aC,ju as aD,Iu as aE,Oc as aF,Dr as aG,Qt as aH,ne as aI,ot as aJ,Cc as aK,jc as aL,He as aM,Ju as aN,zu as aO,Ue as aP,Ic as aQ,Ru as aR,Au as aS,Jn as aT,rt as aU,Fo as aa,Nu as ab,zo as ac,du as ad,pu as ae,xu as af,fu as ag,_u as ah,Du as ai,Pu as aj,Yu as ak,En as al,vt as am,Vu as an,Uu as ao,Mu as ap,Gs as aq,mt as ar,K as as,Bu as at,In as au,nu as av,Lu as aw,Ge as ax,qu as ay,Wu as az,tu as b,Hr as c,Kr as d,Fu as e,Kt as f,Zr as g,Go as h,Ku as i,$r as j,gu as k,pe as l,Xr as m,Mo as n,Sr as o,ms as p,wu as q,ku as r,Ce as s,tt as t,Q as u,Te as v,qt as w,yu as x,qo as y,At as z};
//# sourceMappingURL=constants.js.map

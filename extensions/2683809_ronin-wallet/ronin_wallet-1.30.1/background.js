(()=>{var e,t={65688:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=65688,e.exports=t},99607:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=99607,e.exports=t},92936:(e,t,n)=>{"use strict";n.d(t,{getAddress:()=>v,getContractAddress:()=>m,getCreate2Address:()=>w,getIcapAddress:()=>g,isAddress:()=>y});var r=n(46366),o=n(2593),i=n(38197),a=n(61843),s=n(66167),c=n(6915);const u=new s.Logger(c.i);function l(e){(0,r.isHexString)(e,20)||u.throwArgumentError("invalid address","address",e);const t=(e=e.toLowerCase()).substring(2).split(""),n=new Uint8Array(40);for(let e=0;e<40;e++)n[e]=t[e].charCodeAt(0);const o=(0,r.arrayify)((0,i.keccak256)(n));for(let e=0;e<40;e+=2)o[e>>1]>>4>=8&&(t[e]=t[e].toUpperCase()),(15&o[e>>1])>=8&&(t[e+1]=t[e+1].toUpperCase());return"0x"+t.join("")}const d={};for(let e=0;e<10;e++)d[String(e)]=String(e);for(let e=0;e<26;e++)d[String.fromCharCode(65+e)]=String(10+e);const f=Math.floor((h=9007199254740991,Math.log10?Math.log10(h):Math.log(h)/Math.LN10));var h;function p(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((e=>d[e])).join("");for(;t.length>=f;){let e=t.substring(0,f);t=parseInt(e,10)%97+t.substring(e.length)}let n=String(98-parseInt(t,10)%97);for(;n.length<2;)n="0"+n;return n}function v(e){let t=null;if("string"!=typeof e&&u.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),t=l(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&u.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==p(e)&&u.throwArgumentError("bad icap checksum","address",e),t=(0,o.g$)(e.substring(4));t.length<40;)t="0"+t;t=l("0x"+t)}else u.throwArgumentError("invalid address","address",e);return t}function y(e){try{return v(e),!0}catch(e){}return!1}function g(e){let t=(0,o.t2)(v(e).substring(2)).toUpperCase();for(;t.length<30;)t="0"+t;return"XE"+p("XE00"+t)+t}function m(e){let t=null;try{t=v(e.from)}catch(t){u.throwArgumentError("missing from address","transaction",e)}const n=(0,r.stripZeros)((0,r.arrayify)(o.O$.from(e.nonce).toHexString()));return v((0,r.hexDataSlice)((0,i.keccak256)((0,a.encode)([t,n])),12))}function w(e,t,n){return 32!==(0,r.hexDataLength)(t)&&u.throwArgumentError("salt must be 32 bytes","salt",t),32!==(0,r.hexDataLength)(n)&&u.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",n),v((0,r.hexDataSlice)((0,i.keccak256)((0,r.concat)(["0xff",v(e),t,n])),12))}},57727:(e,t,n)=>{"use strict";n.d(t,{Base58:()=>a});var r=n(46366),o=n(33654);class i{constructor(e){(0,o.defineReadOnly)(this,"alphabet",e),(0,o.defineReadOnly)(this,"base",e.length),(0,o.defineReadOnly)(this,"_alphabetMap",{}),(0,o.defineReadOnly)(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}encode(e){let t=(0,r.arrayify)(e);if(0===t.length)return"";let n=[0];for(let e=0;e<t.length;++e){let r=t[e];for(let e=0;e<n.length;++e)r+=n[e]<<8,n[e]=r%this.base,r=r/this.base|0;for(;r>0;)n.push(r%this.base),r=r/this.base|0}let o="";for(let e=0;0===t[e]&&e<t.length-1;++e)o+=this._leader;for(let e=n.length-1;e>=0;--e)o+=this.alphabet[n[e]];return o}decode(e){if("string"!=typeof e)throw new TypeError("Expected String");let t=[];if(0===e.length)return new Uint8Array(t);t.push(0);for(let n=0;n<e.length;n++){let r=this._alphabetMap[e[n]];if(void 0===r)throw new Error("Non-base"+this.base+" character");let o=r;for(let e=0;e<t.length;++e)o+=t[e]*this.base,t[e]=255&o,o>>=8;for(;o>0;)t.push(255&o),o>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)t.push(0);return(0,r.arrayify)(new Uint8Array(t.reverse()))}}new i("abcdefghijklmnopqrstuvwxyz234567");const a=new i("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},20335:(e,t,n)=>{"use strict";n.d(t,{Ox:()=>v,S5:()=>p,xs:()=>g});var r=n(46366),o=n(66167),i=n(48794),a=n(2593);const s=new o.Logger(i.i),c={},u=a.O$.from(0),l=a.O$.from(-1);function d(e,t,n,r){const i={fault:t,operation:n};return void 0!==r&&(i.value=r),s.throwError(e,o.Logger.errors.NUMERIC_FAULT,i)}let f="0";for(;f.length<256;)f+=f;function h(e){if("number"!=typeof e)try{e=a.O$.from(e).toNumber()}catch(e){}return"number"==typeof e&&e>=0&&e<=256&&!(e%1)?"1"+f.substring(0,e):s.throwArgumentError("invalid decimal size","decimals",e)}function p(e,t){null==t&&(t=0);const n=h(t),r=(e=a.O$.from(e)).lt(u);r&&(e=e.mul(l));let o=e.mod(n).toString();for(;o.length<n.length-1;)o="0"+o;o=o.match(/^([0-9]*[1-9]|0)(0*)/)[1];const i=e.div(n).toString();return e=1===n.length?i:i+"."+o,r&&(e="-"+e),e}function v(e,t){null==t&&(t=0);const n=h(t);"string"==typeof e&&e.match(/^-?[0-9.]+$/)||s.throwArgumentError("invalid decimal value","value",e);const r="-"===e.substring(0,1);r&&(e=e.substring(1)),"."===e&&s.throwArgumentError("missing value","value",e);const o=e.split(".");o.length>2&&s.throwArgumentError("too many decimal points","value",e);let i=o[0],c=o[1];for(i||(i="0"),c||(c="0");"0"===c[c.length-1];)c=c.substring(0,c.length-1);for(c.length>n.length-1&&d("fractional component exceeds decimals","underflow","parseFixed"),""===c&&(c="0");c.length<n.length-1;)c+="0";const u=a.O$.from(i),f=a.O$.from(c);let p=u.mul(n).add(f);return r&&(p=p.mul(l)),p}class y{constructor(e,t,n,r){e!==c&&s.throwError("cannot use FixedFormat constructor; use FixedFormat.from",o.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=t,this.width=n,this.decimals=r,this.name=(t?"":"u")+"fixed"+String(n)+"x"+String(r),this._multiplier=h(r),Object.freeze(this)}static from(e){if(e instanceof y)return e;"number"==typeof e&&(e=`fixed128x${e}`);let t=!0,n=128,r=18;if("string"==typeof e)if("fixed"===e);else if("ufixed"===e)t=!1;else{const o=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);o||s.throwArgumentError("invalid fixed format","format",e),t="u"!==o[1],n=parseInt(o[2]),r=parseInt(o[3])}else if(e){const o=(t,n,r)=>null==e[t]?r:(typeof e[t]!==n&&s.throwArgumentError("invalid fixed format ("+t+" not "+n+")","format."+t,e[t]),e[t]);t=o("signed","boolean",t),n=o("width","number",n),r=o("decimals","number",r)}return n%8&&s.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),r>80&&s.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",r),new y(c,t,n,r)}}class g{constructor(e,t,n,r){e!==c&&s.throwError("cannot use FixedNumber constructor; use FixedNumber.from",o.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=r,this._hex=t,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&s.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const t=v(this._value,this.format.decimals),n=v(e._value,e.format.decimals);return g.fromValue(t.add(n),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const t=v(this._value,this.format.decimals),n=v(e._value,e.format.decimals);return g.fromValue(t.sub(n),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const t=v(this._value,this.format.decimals),n=v(e._value,e.format.decimals);return g.fromValue(t.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const t=v(this._value,this.format.decimals),n=v(e._value,e.format.decimals);return g.fromValue(t.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");1===e.length&&e.push("0");let t=g.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return this.isNegative()&&n&&(t=t.subUnsafe(m.toFormat(t.format))),t}ceiling(){const e=this.toString().split(".");1===e.length&&e.push("0");let t=g.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return!this.isNegative()&&n&&(t=t.addUnsafe(m.toFormat(t.format))),t}round(e){null==e&&(e=0);const t=this.toString().split(".");if(1===t.length&&t.push("0"),(e<0||e>80||e%1)&&s.throwArgumentError("invalid decimal count","decimals",e),t[1].length<=e)return this;const n=g.from("1"+f.substring(0,e),this.format),r=w.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(r).floor().divUnsafe(n)}isZero(){return"0.0"===this._value||"0"===this._value}isNegative(){return"-"===this._value[0]}toString(){return this._value}toHexString(e){if(null==e)return this._hex;e%8&&s.throwArgumentError("invalid byte width","width",e);const t=a.O$.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return(0,r.hexZeroPad)(t,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return g.fromString(this._value,e)}static fromValue(e,t,n){return null!=n||null==t||(0,a.Zm)(t)||(n=t,t=null),null==t&&(t=0),null==n&&(n="fixed"),g.fromString(p(e,t),y.from(n))}static fromString(e,t){null==t&&(t="fixed");const n=y.from(t),o=v(e,n.decimals);!n.signed&&o.lt(u)&&d("unsigned value cannot be negative","overflow","value",e);let i=null;n.signed?i=o.toTwos(n.width).toHexString():(i=o.toHexString(),i=(0,r.hexZeroPad)(i,n.width/8));const a=p(o,n.decimals);return new g(c,i,a,n)}static fromBytes(e,t){null==t&&(t="fixed");const n=y.from(t);if((0,r.arrayify)(e).length>n.width/8)throw new Error("overflow");let o=a.O$.from(e);n.signed&&(o=o.fromTwos(n.width));const i=o.toTwos((n.signed?0:1)+n.width).toHexString(),s=p(o,n.decimals);return new g(c,i,s,n)}static from(e,t){if("string"==typeof e)return g.fromString(e,t);if((0,r.isBytes)(e))return g.fromBytes(e,t);try{return g.fromValue(e,0,t)}catch(e){if(e.code!==o.Logger.errors.INVALID_ARGUMENT)throw e}return s.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!(!e||!e._isFixedNumber)}}const m=g.from(1),w=g.from("0.5")},46366:(e,t,n)=>{"use strict";n.d(t,{arrayify:()=>d,concat:()=>f,hexConcat:()=>b,hexDataLength:()=>m,hexDataSlice:()=>w,hexStripZeros:()=>E,hexValue:()=>_,hexZeroPad:()=>S,hexlify:()=>g,isBytes:()=>l,isBytesLike:()=>c,isHexString:()=>v,joinSignature:()=>T,splitSignature:()=>A,stripZeros:()=>h,zeroPad:()=>p});var r=n(66167),o=n(38431);const i=new r.Logger(o.i);function a(e){return!!e.toHexString}function s(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return s(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function c(e){return v(e)&&!(e.length%2)||l(e)}function u(e){return"number"==typeof e&&e==e&&e%1==0}function l(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e)return!1;if(!u(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const n=e[t];if(!u(n)||n<0||n>=256)return!1}return!0}function d(e,t){if(t||(t={}),"number"==typeof e){i.checkSafeUint53(e,"invalid arrayify value");const t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),s(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),a(e)&&(e=e.toHexString()),v(e)){let n=e.substring(2);n.length%2&&("left"===t.hexPad?n="0"+n:"right"===t.hexPad?n+="0":i.throwArgumentError("hex data is odd-length","value",e));const r=[];for(let e=0;e<n.length;e+=2)r.push(parseInt(n.substring(e,e+2),16));return s(new Uint8Array(r))}return l(e)?s(new Uint8Array(e)):i.throwArgumentError("invalid arrayify value","value",e)}function f(e){const t=e.map((e=>d(e))),n=t.reduce(((e,t)=>e+t.length),0),r=new Uint8Array(n);return t.reduce(((e,t)=>(r.set(t,e),e+t.length)),0),s(r)}function h(e){let t=d(e);if(0===t.length)return t;let n=0;for(;n<t.length&&0===t[n];)n++;return n&&(t=t.slice(n)),t}function p(e,t){(e=d(e)).length>t&&i.throwArgumentError("value out of range","value",arguments[0]);const n=new Uint8Array(t);return n.set(e,t-e.length),s(n)}function v(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/)||t&&e.length!==2+2*t)}const y="0123456789abcdef";function g(e,t){if(t||(t={}),"number"==typeof e){i.checkSafeUint53(e,"invalid hexlify value");let t="";for(;e;)t=y[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"==typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),a(e))return e.toHexString();if(v(e))return e.length%2&&("left"===t.hexPad?e="0x0"+e.substring(2):"right"===t.hexPad?e+="0":i.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(l(e)){let t="0x";for(let n=0;n<e.length;n++){let r=e[n];t+=y[(240&r)>>4]+y[15&r]}return t}return i.throwArgumentError("invalid hexlify value","value",e)}function m(e){if("string"!=typeof e)e=g(e);else if(!v(e)||e.length%2)return null;return(e.length-2)/2}function w(e,t,n){return"string"!=typeof e?e=g(e):(!v(e)||e.length%2)&&i.throwArgumentError("invalid hexData","value",e),t=2+2*t,null!=n?"0x"+e.substring(t,2+2*n):"0x"+e.substring(t)}function b(e){let t="0x";return e.forEach((e=>{t+=g(e).substring(2)})),t}function _(e){const t=E(g(e,{hexPad:"left"}));return"0x"===t?"0x0":t}function E(e){"string"!=typeof e&&(e=g(e)),v(e)||i.throwArgumentError("invalid hex string","value",e),e=e.substring(2);let t=0;for(;t<e.length&&"0"===e[t];)t++;return"0x"+e.substring(t)}function S(e,t){for("string"!=typeof e?e=g(e):v(e)||i.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&i.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}function A(e){const t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(c(e)){let n=d(e);64===n.length?(t.v=27+(n[32]>>7),n[32]&=127,t.r=g(n.slice(0,32)),t.s=g(n.slice(32,64))):65===n.length?(t.r=g(n.slice(0,32)),t.s=g(n.slice(32,64)),t.v=n[64]):i.throwArgumentError("invalid signature string","signature",e),t.v<27&&(0===t.v||1===t.v?t.v+=27:i.throwArgumentError("signature invalid v byte","signature",e)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(n[32]|=128),t._vs=g(n.slice(32,64))}else{if(t.r=e.r,t.s=e.s,t.v=e.v,t.recoveryParam=e.recoveryParam,t._vs=e._vs,null!=t._vs){const n=p(d(t._vs),32);t._vs=g(n);const r=n[0]>=128?1:0;null==t.recoveryParam?t.recoveryParam=r:t.recoveryParam!==r&&i.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),n[0]&=127;const o=g(n);null==t.s?t.s=o:t.s!==o&&i.throwArgumentError("signature v mismatch _vs","signature",e)}if(null==t.recoveryParam)null==t.v?i.throwArgumentError("signature missing v and recoveryParam","signature",e):0===t.v||1===t.v?t.recoveryParam=t.v:t.recoveryParam=1-t.v%2;else if(null==t.v)t.v=27+t.recoveryParam;else{const n=0===t.v||1===t.v?t.v:1-t.v%2;t.recoveryParam!==n&&i.throwArgumentError("signature recoveryParam mismatch v","signature",e)}null!=t.r&&v(t.r)?t.r=S(t.r,32):i.throwArgumentError("signature missing or invalid r","signature",e),null!=t.s&&v(t.s)?t.s=S(t.s,32):i.throwArgumentError("signature missing or invalid s","signature",e);const n=d(t.s);n[0]>=128&&i.throwArgumentError("signature s out of range","signature",e),t.recoveryParam&&(n[0]|=128);const r=g(n);t._vs&&(v(t._vs)||i.throwArgumentError("signature invalid _vs","signature",e),t._vs=S(t._vs,32)),null==t._vs?t._vs=r:t._vs!==r&&i.throwArgumentError("signature _vs mismatch v and s","signature",e)}return t.yParityAndS=t._vs,t.compact=t.r+t.yParityAndS.substring(2),t}function T(e){return g(f([(e=A(e)).r,e.s,e.recoveryParam?"0x1c":"0x1b"]))}},68945:(e,t,n)=>{"use strict";n.d(t,{BaseContract:()=>O,Contract:()=>x,ContractFactory:()=>M});var r=n(93140),o=n(10954),i=n(64353),a=n(48171),s=n(92936),c=n(2593),u=n(46366),l=n(33654),d=n(64377),f=n(66167),h=n(79270),p=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};const v=new f.Logger(h.i),y={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function g(e,t){return p(this,void 0,void 0,(function*(){const n=yield t;"string"!=typeof n&&v.throwArgumentError("invalid address or ENS name","name",n);try{return(0,s.getAddress)(n)}catch(e){}e||v.throwError("a provider or signer is needed to resolve ENS names",f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const r=yield e.resolveName(n);return null==r&&v.throwArgumentError("resolver or addr is not configured for ENS name","name",n),r}))}function m(e,t,n){return p(this,void 0,void 0,(function*(){return Array.isArray(n)?yield Promise.all(n.map(((n,r)=>m(e,Array.isArray(t)?t[r]:t[n.name],n)))):"address"===n.type?yield g(e,t):"tuple"===n.type?yield m(e,t,n.components):"array"===n.baseType?Array.isArray(t)?yield Promise.all(t.map((t=>m(e,t,n.arrayChildren)))):Promise.reject(v.makeError("invalid value for array",f.Logger.errors.INVALID_ARGUMENT,{argument:"value",value:t})):t}))}function w(e,t,n){return p(this,void 0,void 0,(function*(){let r={};n.length===t.inputs.length+1&&"object"==typeof n[n.length-1]&&(r=(0,l.shallowCopy)(n.pop())),v.checkArgumentCount(n.length,t.inputs.length,"passed to contract"),e.signer?r.from?r.from=(0,l.resolveProperties)({override:g(e.signer,r.from),signer:e.signer.getAddress()}).then((e=>p(this,void 0,void 0,(function*(){return(0,s.getAddress)(e.signer)!==e.override&&v.throwError("Contract with a Signer cannot override from",f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),e.override})))):r.from=e.signer.getAddress():r.from&&(r.from=g(e.provider,r.from));const o=yield(0,l.resolveProperties)({args:m(e.signer||e.provider,n,t.inputs),address:e.resolvedAddress,overrides:(0,l.resolveProperties)(r)||{}}),i=e.interface.encodeFunctionData(t,o.args),a={data:i,to:o.address},h=o.overrides;if(null!=h.nonce&&(a.nonce=c.O$.from(h.nonce).toNumber()),null!=h.gasLimit&&(a.gasLimit=c.O$.from(h.gasLimit)),null!=h.gasPrice&&(a.gasPrice=c.O$.from(h.gasPrice)),null!=h.maxFeePerGas&&(a.maxFeePerGas=c.O$.from(h.maxFeePerGas)),null!=h.maxPriorityFeePerGas&&(a.maxPriorityFeePerGas=c.O$.from(h.maxPriorityFeePerGas)),null!=h.from&&(a.from=h.from),null!=h.type&&(a.type=h.type),null!=h.accessList&&(a.accessList=(0,d.accessListify)(h.accessList)),null==a.gasLimit&&null!=t.gas){let e=21e3;const n=(0,u.arrayify)(i);for(let t=0;t<n.length;t++)e+=4,n[t]&&(e+=64);a.gasLimit=c.O$.from(t.gas).add(e)}if(h.value){const e=c.O$.from(h.value);e.isZero()||t.payable||v.throwError("non-payable method cannot override value",f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:r.value}),a.value=e}h.customData&&(a.customData=(0,l.shallowCopy)(h.customData)),h.ccipReadEnabled&&(a.ccipReadEnabled=!!h.ccipReadEnabled),delete r.nonce,delete r.gasLimit,delete r.gasPrice,delete r.from,delete r.value,delete r.type,delete r.accessList,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas,delete r.customData,delete r.ccipReadEnabled;const y=Object.keys(r).filter((e=>null!=r[e]));return y.length&&v.throwError(`cannot override ${y.map((e=>JSON.stringify(e))).join(",")}`,f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:y}),a}))}function b(e,t){const n=t.wait.bind(t);t.wait=t=>n(t).then((t=>(t.events=t.logs.map((n=>{let r=(0,l.deepCopy)(n),o=null;try{o=e.interface.parseLog(n)}catch(e){}return o&&(r.args=o.args,r.decode=(t,n)=>e.interface.decodeEventLog(o.eventFragment,t,n),r.event=o.name,r.eventSignature=o.signature),r.removeListener=()=>e.provider,r.getBlock=()=>e.provider.getBlock(t.blockHash),r.getTransaction=()=>e.provider.getTransaction(t.transactionHash),r.getTransactionReceipt=()=>Promise.resolve(t),r})),t)))}function _(e,t,n){const r=e.signer||e.provider;return function(...o){return p(this,void 0,void 0,(function*(){let i;if(o.length===t.inputs.length+1&&"object"==typeof o[o.length-1]){const e=(0,l.shallowCopy)(o.pop());null!=e.blockTag&&(i=yield e.blockTag),delete e.blockTag,o.push(e)}null!=e.deployTransaction&&(yield e._deployed(i));const a=yield w(e,t,o),s=yield r.call(a,i);try{let r=e.interface.decodeFunctionResult(t,s);return n&&1===t.outputs.length&&(r=r[0]),r}catch(t){throw t.code===f.Logger.errors.CALL_EXCEPTION&&(t.address=e.address,t.args=o,t.transaction=a),t}}))}}function E(e,t,n){return t.constant?_(e,t,n):function(e,t){return function(...n){return p(this,void 0,void 0,(function*(){e.signer||v.throwError("sending a transaction requires a signer",f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),null!=e.deployTransaction&&(yield e._deployed());const r=yield w(e,t,n),o=yield e.signer.sendTransaction(r);return b(e,o),o}))}}(e,t)}function S(e){return!e.address||null!=e.topics&&0!==e.topics.length?(e.address||"*")+"@"+(e.topics?e.topics.map((e=>Array.isArray(e)?e.join("|"):e)).join(":"):""):"*"}class A{constructor(e,t){(0,l.defineReadOnly)(this,"tag",e),(0,l.defineReadOnly)(this,"filter",t),this._listeners=[]}addListener(e,t){this._listeners.push({listener:e,once:t})}removeListener(e){let t=!1;this._listeners=this._listeners.filter((n=>!(!t&&n.listener===e&&(t=!0,1))))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map((e=>e.listener))}listenerCount(){return this._listeners.length}run(e){const t=this.listenerCount();return this._listeners=this._listeners.filter((t=>{const n=e.slice();return setTimeout((()=>{t.listener.apply(this,n)}),0),!t.once})),t}prepareEvent(e){}getEmit(e){return[e]}}class T extends A{constructor(){super("error",null)}}class k extends A{constructor(e,t,n,r){const o={address:e};let i=t.getEventTopic(n);r?(i!==r[0]&&v.throwArgumentError("topic mismatch","topics",r),o.topics=r.slice()):o.topics=[i],super(S(o),o),(0,l.defineReadOnly)(this,"address",e),(0,l.defineReadOnly)(this,"interface",t),(0,l.defineReadOnly)(this,"fragment",n)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(e,t)=>this.interface.decodeEventLog(this.fragment,e,t);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(t){e.args=null,e.decodeError=t}}getEmit(e){const t=(0,r.BR)(e.args);if(t.length)throw t[0].error;const n=(e.args||[]).slice();return n.push(e),n}}class P extends A{constructor(e,t){super("*",{address:e}),(0,l.defineReadOnly)(this,"address",e),(0,l.defineReadOnly)(this,"interface",t)}prepareEvent(e){super.prepareEvent(e);try{const t=this.interface.parseLog(e);e.event=t.name,e.eventSignature=t.signature,e.decode=(e,n)=>this.interface.decodeEventLog(t.eventFragment,e,n),e.args=t.args}catch(e){}}}class O{constructor(e,t,n){(0,l.defineReadOnly)(this,"interface",(0,l.getStatic)(new.target,"getInterface")(t)),null==n?((0,l.defineReadOnly)(this,"provider",null),(0,l.defineReadOnly)(this,"signer",null)):a.E.isSigner(n)?((0,l.defineReadOnly)(this,"provider",n.provider||null),(0,l.defineReadOnly)(this,"signer",n)):i.zt.isProvider(n)?((0,l.defineReadOnly)(this,"provider",n),(0,l.defineReadOnly)(this,"signer",null)):v.throwArgumentError("invalid signer or provider","signerOrProvider",n),(0,l.defineReadOnly)(this,"callStatic",{}),(0,l.defineReadOnly)(this,"estimateGas",{}),(0,l.defineReadOnly)(this,"functions",{}),(0,l.defineReadOnly)(this,"populateTransaction",{}),(0,l.defineReadOnly)(this,"filters",{});{const e={};Object.keys(this.interface.events).forEach((t=>{const n=this.interface.events[t];(0,l.defineReadOnly)(this.filters,t,((...e)=>({address:this.address,topics:this.interface.encodeFilterTopics(n,e)}))),e[n.name]||(e[n.name]=[]),e[n.name].push(t)})),Object.keys(e).forEach((t=>{const n=e[t];1===n.length?(0,l.defineReadOnly)(this.filters,t,this.filters[n[0]]):v.warn(`Duplicate definition of ${t} (${n.join(", ")})`)}))}if((0,l.defineReadOnly)(this,"_runningEvents",{}),(0,l.defineReadOnly)(this,"_wrappedEmits",{}),null==e&&v.throwArgumentError("invalid contract address or ENS name","addressOrName",e),(0,l.defineReadOnly)(this,"address",e),this.provider)(0,l.defineReadOnly)(this,"resolvedAddress",g(this.provider,e));else try{(0,l.defineReadOnly)(this,"resolvedAddress",Promise.resolve((0,s.getAddress)(e)))}catch(e){v.throwError("provider is required to use ENS name as contract address",f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch((e=>{}));const r={},o={};Object.keys(this.interface.functions).forEach((e=>{const t=this.interface.functions[e];if(o[e])v.warn(`Duplicate ABI entry for ${JSON.stringify(e)}`);else{o[e]=!0;{const n=t.name;r[`%${n}`]||(r[`%${n}`]=[]),r[`%${n}`].push(e)}null==this[e]&&(0,l.defineReadOnly)(this,e,E(this,t,!0)),null==this.functions[e]&&(0,l.defineReadOnly)(this.functions,e,E(this,t,!1)),null==this.callStatic[e]&&(0,l.defineReadOnly)(this.callStatic,e,_(this,t,!0)),null==this.populateTransaction[e]&&(0,l.defineReadOnly)(this.populateTransaction,e,function(e,t){return function(...n){return w(e,t,n)}}(this,t)),null==this.estimateGas[e]&&(0,l.defineReadOnly)(this.estimateGas,e,function(e,t){const n=e.signer||e.provider;return function(...r){return p(this,void 0,void 0,(function*(){n||v.throwError("estimate require a provider or signer",f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const o=yield w(e,t,r);return yield n.estimateGas(o)}))}}(this,t))}})),Object.keys(r).forEach((e=>{const t=r[e];if(t.length>1)return;e=e.substring(1);const n=t[0];try{null==this[e]&&(0,l.defineReadOnly)(this,e,this[n])}catch(e){}null==this.functions[e]&&(0,l.defineReadOnly)(this.functions,e,this.functions[n]),null==this.callStatic[e]&&(0,l.defineReadOnly)(this.callStatic,e,this.callStatic[n]),null==this.populateTransaction[e]&&(0,l.defineReadOnly)(this.populateTransaction,e,this.populateTransaction[n]),null==this.estimateGas[e]&&(0,l.defineReadOnly)(this.estimateGas,e,this.estimateGas[n])}))}static getContractAddress(e){return(0,s.getContractAddress)(e)}static getInterface(e){return o.vU.isInterface(e)?e:new o.vU(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then((()=>this)):this._deployedPromise=this.provider.getCode(this.address,e).then((e=>("0x"===e&&v.throwError("contract not deployed",f.Logger.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this)))),this._deployedPromise}fallback(e){this.signer||v.throwError("sending a transactions require a signer",f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const t=(0,l.shallowCopy)(e||{});return["from","to"].forEach((function(e){null!=t[e]&&v.throwError("cannot override "+e,f.Logger.errors.UNSUPPORTED_OPERATION,{operation:e})})),t.to=this.resolvedAddress,this.deployed().then((()=>this.signer.sendTransaction(t)))}connect(e){"string"==typeof e&&(e=new a.b(e,this.provider));const t=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&(0,l.defineReadOnly)(t,"deployTransaction",this.deployTransaction),t}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return o.Hk.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if("string"==typeof e){if("error"===e)return this._normalizeRunningEvent(new T);if("event"===e)return this._normalizeRunningEvent(new A("event",null));if("*"===e)return this._normalizeRunningEvent(new P(this.address,this.interface));const t=this.interface.getEvent(e);return this._normalizeRunningEvent(new k(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{const t=e.topics[0];if("string"!=typeof t)throw new Error("invalid topic");const n=this.interface.getEvent(t);return this._normalizeRunningEvent(new k(this.address,this.interface,n,e.topics))}catch(e){}const t={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new A(S(t),t))}return this._normalizeRunningEvent(new P(this.address,this.interface))}_checkRunningEvents(e){if(0===e.listenerCount()){delete this._runningEvents[e.tag];const t=this._wrappedEmits[e.tag];t&&e.filter&&(this.provider.off(e.filter,t),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,t,n){const r=(0,l.deepCopy)(t);return r.removeListener=()=>{n&&(e.removeListener(n),this._checkRunningEvents(e))},r.getBlock=()=>this.provider.getBlock(t.blockHash),r.getTransaction=()=>this.provider.getTransaction(t.transactionHash),r.getTransactionReceipt=()=>this.provider.getTransactionReceipt(t.transactionHash),e.prepareEvent(r),r}_addEventListener(e,t,n){if(this.provider||v.throwError("events require a provider or a signer with a provider",f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(t,n),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const n=n=>{let r=this._wrapEvent(e,n,t);if(null==r.decodeError)try{const t=e.getEmit(r);this.emit(e.filter,...t)}catch(e){r.decodeError=e.error}null!=e.filter&&this.emit("event",r),null!=r.decodeError&&this.emit("error",r.decodeError,r)};this._wrappedEmits[e.tag]=n,null!=e.filter&&this.provider.on(e.filter,n)}}queryFilter(e,t,n){const r=this._getRunningEvent(e),o=(0,l.shallowCopy)(r.filter);return"string"==typeof t&&(0,u.isHexString)(t,32)?(null!=n&&v.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),o.blockHash=t):(o.fromBlock=null!=t?t:0,o.toBlock=null!=n?n:"latest"),this.provider.getLogs(o).then((e=>e.map((e=>this._wrapEvent(r,e,null)))))}on(e,t){return this._addEventListener(this._getRunningEvent(e),t,!1),this}once(e,t){return this._addEventListener(this._getRunningEvent(e),t,!0),this}emit(e,...t){if(!this.provider)return!1;const n=this._getRunningEvent(e),r=n.run(t)>0;return this._checkRunningEvents(n),r}listenerCount(e){return this.provider?null==e?Object.keys(this._runningEvents).reduce(((e,t)=>e+this._runningEvents[t].listenerCount()),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(null==e){const e=[];for(let t in this._runningEvents)this._runningEvents[t].listeners().forEach((t=>{e.push(t)}));return e}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(null==e){for(const e in this._runningEvents){const t=this._runningEvents[e];t.removeAllListeners(),this._checkRunningEvents(t)}return this}const t=this._getRunningEvent(e);return t.removeAllListeners(),this._checkRunningEvents(t),this}off(e,t){if(!this.provider)return this;const n=this._getRunningEvent(e);return n.removeListener(t),this._checkRunningEvents(n),this}removeListener(e,t){return this.off(e,t)}}class x extends O{}class M{constructor(e,t,n){let r=null;r="string"==typeof t?t:(0,u.isBytes)(t)?(0,u.hexlify)(t):t&&"string"==typeof t.object?t.object:"!","0x"!==r.substring(0,2)&&(r="0x"+r),(!(0,u.isHexString)(r)||r.length%2)&&v.throwArgumentError("invalid bytecode","bytecode",t),n&&!a.E.isSigner(n)&&v.throwArgumentError("invalid signer","signer",n),(0,l.defineReadOnly)(this,"bytecode",r),(0,l.defineReadOnly)(this,"interface",(0,l.getStatic)(new.target,"getInterface")(e)),(0,l.defineReadOnly)(this,"signer",n||null)}getDeployTransaction(...e){let t={};if(e.length===this.interface.deploy.inputs.length+1&&"object"==typeof e[e.length-1]){t=(0,l.shallowCopy)(e.pop());for(const e in t)if(!y[e])throw new Error("unknown transaction override "+e)}return["data","from","to"].forEach((e=>{null!=t[e]&&v.throwError("cannot override "+e,f.Logger.errors.UNSUPPORTED_OPERATION,{operation:e})})),t.value&&(c.O$.from(t.value).isZero()||this.interface.deploy.payable||v.throwError("non-payable constructor cannot override value",f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:t.value})),v.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor"),t.data=(0,u.hexlify)((0,u.concat)([this.bytecode,this.interface.encodeDeploy(e)])),t}deploy(...e){return p(this,void 0,void 0,(function*(){let t={};e.length===this.interface.deploy.inputs.length+1&&(t=e.pop()),v.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor");const n=yield m(this.signer,e,this.interface.deploy.inputs);n.push(t);const r=this.getDeployTransaction(...n),o=yield this.signer.sendTransaction(r),i=(0,l.getStatic)(this.constructor,"getContractAddress")(o),a=(0,l.getStatic)(this.constructor,"getContract")(i,this.interface,this.signer);return b(a,o),(0,l.defineReadOnly)(a,"deployTransaction",o),a}))}attach(e){return this.constructor.getContract(e,this.interface,this.signer)}connect(e){return new this.constructor(this.interface,this.bytecode,e)}static fromSolidity(e,t){null==e&&v.throwError("missing compiler output",f.Logger.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),"string"==typeof e&&(e=JSON.parse(e));const n=e.abi;let r=null;return e.bytecode?r=e.bytecode:e.evm&&e.evm.bytecode&&(r=e.evm.bytecode),new this(n,r,t)}static getInterface(e){return x.getInterface(e)}static getContractAddress(e){return(0,s.getContractAddress)(e)}static getContract(e,t,n){return new x(e,t,n)}}},93684:(e,t,n)=>{"use strict";n.d(t,{r:()=>s});var r=n(46366),o=n(38197),i=n(44242);const a="Ethereum Signed Message:\n";function s(e){return"string"==typeof e&&(e=(0,i.Y0)(e)),(0,o.keccak256)((0,r.concat)([(0,i.Y0)(a),(0,i.Y0)(String(e.length)),e]))}},63344:(e,t,n)=>{"use strict";n.d(t,{HDNode:()=>k,defaultPath:()=>T,entropyToMnemonic:()=>x,getAccountPath:()=>N,isValidMnemonic:()=>M,mnemonicToEntropy:()=>O,mnemonicToSeed:()=>P});var r=n(57727),o=n(46366),i=n(2593),a=n(44242),s=n(85306),c=n(33654),u=n(77205),l=n(23951),d=n(21261),f=n(64377),h=n(9855),p=n(66167),v=n(71621);const y=new p.Logger(v.i),g=i.O$.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),m=(0,a.Y0)("Bitcoin seed"),w=2147483648;function b(e){return(1<<e)-1<<8-e}function _(e){return(0,o.hexZeroPad)((0,o.hexlify)(e),32)}function E(e){return r.Base58.encode((0,o.concat)([e,(0,o.hexDataSlice)((0,l.JQ)((0,l.JQ)(e)),0,4)]))}function S(e){if(null==e)return h.E.en;if("string"==typeof e){const t=h.E[e];return null==t&&y.throwArgumentError("unknown locale","wordlist",e),t}return e}const A={},T="m/44'/60'/0'/0/0";class k{constructor(e,t,n,r,i,a,s,d){if(e!==A)throw new Error("HDNode constructor cannot be called directly");if(t){const e=new u.SigningKey(t);(0,c.defineReadOnly)(this,"privateKey",e.privateKey),(0,c.defineReadOnly)(this,"publicKey",e.compressedPublicKey)}else(0,c.defineReadOnly)(this,"privateKey",null),(0,c.defineReadOnly)(this,"publicKey",(0,o.hexlify)(n));(0,c.defineReadOnly)(this,"parentFingerprint",r),(0,c.defineReadOnly)(this,"fingerprint",(0,o.hexDataSlice)((0,l.bP)((0,l.JQ)(this.publicKey)),0,4)),(0,c.defineReadOnly)(this,"address",(0,f.computeAddress)(this.publicKey)),(0,c.defineReadOnly)(this,"chainCode",i),(0,c.defineReadOnly)(this,"index",a),(0,c.defineReadOnly)(this,"depth",s),null==d?((0,c.defineReadOnly)(this,"mnemonic",null),(0,c.defineReadOnly)(this,"path",null)):"string"==typeof d?((0,c.defineReadOnly)(this,"mnemonic",null),(0,c.defineReadOnly)(this,"path",d)):((0,c.defineReadOnly)(this,"mnemonic",d),(0,c.defineReadOnly)(this,"path",d.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return E((0,o.concat)([null!=this.privateKey?"0x0488ADE4":"0x0488B21E",(0,o.hexlify)(this.depth),this.parentFingerprint,(0,o.hexZeroPad)((0,o.hexlify)(this.index),4),this.chainCode,null!=this.privateKey?(0,o.concat)(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new k(A,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let t=this.path;t&&(t+="/"+(e&~w));const n=new Uint8Array(37);if(e&w){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set((0,o.arrayify)(this.privateKey),1),t&&(t+="'")}else n.set((0,o.arrayify)(this.publicKey));for(let t=24;t>=0;t-=8)n[33+(t>>3)]=e>>24-t&255;const r=(0,o.arrayify)((0,l.Gy)(d.p.sha512,this.chainCode,n)),a=r.slice(0,32),s=r.slice(32);let c=null,f=null;this.privateKey?c=_(i.O$.from(a).add(this.privateKey).mod(g)):f=new u.SigningKey((0,o.hexlify)(a))._addPoint(this.publicKey);let h=t;const p=this.mnemonic;return p&&(h=Object.freeze({phrase:p.phrase,path:t,locale:p.locale||"en"})),new k(A,c,f,this.fingerprint,_(s),e,this.depth+1,h)}derivePath(e){const t=e.split("/");if(0===t.length||"m"===t[0]&&0!==this.depth)throw new Error("invalid path - "+e);"m"===t[0]&&t.shift();let n=this;for(let e=0;e<t.length;e++){const r=t[e];if(r.match(/^[0-9]+'$/)){const e=parseInt(r.substring(0,r.length-1));if(e>=w)throw new Error("invalid path index - "+r);n=n._derive(w+e)}else{if(!r.match(/^[0-9]+$/))throw new Error("invalid path component - "+r);{const e=parseInt(r);if(e>=w)throw new Error("invalid path index - "+r);n=n._derive(e)}}}return n}static _fromSeed(e,t){const n=(0,o.arrayify)(e);if(n.length<16||n.length>64)throw new Error("invalid seed");const r=(0,o.arrayify)((0,l.Gy)(d.p.sha512,m,n));return new k(A,_(r.slice(0,32)),null,"0x00000000",_(r.slice(32)),0,0,t)}static fromMnemonic(e,t,n){return e=x(O(e,n=S(n)),n),k._fromSeed(P(e,t),{phrase:e,path:"m",locale:n.locale})}static fromSeed(e){return k._fromSeed(e,null)}static fromExtendedKey(e){const t=r.Base58.decode(e);82===t.length&&E(t.slice(0,78))===e||y.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const n=t[4],i=(0,o.hexlify)(t.slice(5,9)),a=parseInt((0,o.hexlify)(t.slice(9,13)).substring(2),16),s=(0,o.hexlify)(t.slice(13,45)),c=t.slice(45,78);switch((0,o.hexlify)(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new k(A,null,(0,o.hexlify)(c),i,s,a,n,null);case"0x0488ade4":case"0x04358394 ":if(0!==c[0])break;return new k(A,(0,o.hexlify)(c.slice(1)),null,i,s,a,n,null)}return y.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function P(e,t){t||(t="");const n=(0,a.Y0)("mnemonic"+t,a.Uj.NFKD);return(0,s.n)((0,a.Y0)(e,a.Uj.NFKD),n,2048,64,"sha512")}function O(e,t){t=S(t),y.checkNormalize();const n=t.split(e);if(n.length%3!=0)throw new Error("invalid mnemonic");const r=(0,o.arrayify)(new Uint8Array(Math.ceil(11*n.length/8)));let i=0;for(let e=0;e<n.length;e++){let o=t.getWordIndex(n[e].normalize("NFKD"));if(-1===o)throw new Error("invalid mnemonic");for(let e=0;e<11;e++)o&1<<10-e&&(r[i>>3]|=1<<7-i%8),i++}const a=32*n.length/3,s=b(n.length/3);if(((0,o.arrayify)((0,l.JQ)(r.slice(0,a/8)))[0]&s)!=(r[r.length-1]&s))throw new Error("invalid checksum");return(0,o.hexlify)(r.slice(0,a/8))}function x(e,t){if(t=S(t),(e=(0,o.arrayify)(e)).length%4!=0||e.length<16||e.length>32)throw new Error("invalid entropy");const n=[0];let r=11;for(let t=0;t<e.length;t++)r>8?(n[n.length-1]<<=8,n[n.length-1]|=e[t],r-=8):(n[n.length-1]<<=r,n[n.length-1]|=e[t]>>8-r,n.push(e[t]&(1<<8-r)-1),r+=3);const i=e.length/4,a=(0,o.arrayify)((0,l.JQ)(e))[0]&b(i);return n[n.length-1]<<=i,n[n.length-1]|=a>>8-i,t.join(n.map((e=>t.getWord(e))))}function M(e,t){try{return O(e,t),!0}catch(e){}return!1}function N(e){return("number"!=typeof e||e<0||e>=w||e%1)&&y.throwArgumentError("invalid account index","index",e),`m/44'/60'/${e}'/0/0`}},30347:(e,t,n)=>{"use strict";n.d(t,{decryptJsonWallet:()=>a,decryptJsonWalletSync:()=>s});var r=n(36513),o=n(67949),i=n(81964);function a(e,t,n){if((0,o.LW)(e)){n&&n(0);const o=(0,r.p)(e,t);return n&&n(1),Promise.resolve(o)}return(0,o.aO)(e)?(0,i.pe)(e,t,n):Promise.reject(new Error("invalid JSON wallet"))}function s(e,t){if((0,o.LW)(e))return(0,r.p)(e,t);if((0,o.aO)(e))return(0,i.hb)(e,t);throw new Error("invalid JSON wallet")}},38197:(e,t,n)=>{"use strict";n.d(t,{keccak256:()=>a});var r=n(64867),o=n.n(r),i=n(46366);function a(e){return"0x"+o().keccak_256((0,i.arrayify)(e))}},66167:(e,t,n)=>{"use strict";n.d(t,{ErrorCode:()=>d,Logger:()=>h});var r=n(35604);let o=!1,i=!1;const a={debug:1,default:2,info:2,warning:3,error:4,off:5};let s=a.default,c=null;const u=function(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(n){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}();var l,d;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(l||(l={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(d||(d={}));const f="0123456789abcdef";class h{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const n=e.toLowerCase();null==a[n]&&this.throwArgumentError("invalid log level name","logLevel",e),s>a[n]||console.log.apply(console,t)}debug(...e){this._log(h.levels.DEBUG,e)}info(...e){this._log(h.levels.INFO,e)}warn(...e){this._log(h.levels.WARNING,e)}makeError(e,t,n){if(i)return this.makeError("censored error",t,{});t||(t=h.errors.UNKNOWN_ERROR),n||(n={});const r=[];Object.keys(n).forEach((e=>{const t=n[e];try{if(t instanceof Uint8Array){let n="";for(let e=0;e<t.length;e++)n+=f[t[e]>>4],n+=f[15&t[e]];r.push(e+"=Uint8Array(0x"+n+")")}else r.push(e+"="+JSON.stringify(t))}catch(t){r.push(e+"="+JSON.stringify(n[e].toString()))}})),r.push(`code=${t}`),r.push(`version=${this.version}`);const o=e;let a="";switch(t){case d.NUMERIC_FAULT:{a="NUMERIC_FAULT";const t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":a+="-"+t;break;case"negative-power":case"negative-width":a+="-unsupported";break;case"unbound-bitwise-result":a+="-unbound-result"}break}case d.CALL_EXCEPTION:case d.INSUFFICIENT_FUNDS:case d.MISSING_NEW:case d.NONCE_EXPIRED:case d.REPLACEMENT_UNDERPRICED:case d.TRANSACTION_REPLACED:case d.UNPREDICTABLE_GAS_LIMIT:a=t}a&&(e+=" [ See: https://links.ethers.org/v5-errors-"+a+" ]"),r.length&&(e+=" ("+r.join(", ")+")");const s=new Error(e);return s.reason=o,s.code=t,Object.keys(n).forEach((function(e){s[e]=n[e]})),s}throwError(e,t,n){throw this.makeError(e,t,n)}throwArgumentError(e,t,n){return this.throwError(e,h.errors.INVALID_ARGUMENT,{argument:t,value:n})}assert(e,t,n,r){e||this.throwError(t,n,r)}assertArgument(e,t,n,r){e||this.throwArgumentError(t,n,r)}checkNormalize(e){null==e&&(e="platform missing String.prototype.normalize"),u&&this.throwError("platform missing String.prototype.normalize",h.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:u})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,h.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,h.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,n){n=n?": "+n:"",e<t&&this.throwError("missing argument"+n,h.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+n,h.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",h.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",h.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",h.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return c||(c=new h(r.i)),c}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",h.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),o){if(!e)return;this.globalLogger().throwError("error censorship permanent",h.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}i=!!e,o=!!t}static setLogLevel(e){const t=a[e.toLowerCase()];null!=t?s=t:h.globalLogger().warn("invalid log level - "+e)}static from(e){return new h(e)}}h.errors=d,h.levels=l},33654:(e,t,n)=>{"use strict";n.d(t,{Description:()=>y,checkProperties:()=>l,deepCopy:()=>v,defineReadOnly:()=>s,getStatic:()=>c,resolveProperties:()=>u,shallowCopy:()=>d});var r=n(66167),o=n(23537),i=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};const a=new r.Logger(o.i);function s(e,t,n){Object.defineProperty(e,t,{enumerable:!0,value:n,writable:!1})}function c(e,t){for(let n=0;n<32;n++){if(e[t])return e[t];if(!e.prototype||"object"!=typeof e.prototype)break;e=Object.getPrototypeOf(e.prototype).constructor}return null}function u(e){return i(this,void 0,void 0,(function*(){const t=Object.keys(e).map((t=>{const n=e[t];return Promise.resolve(n).then((e=>({key:t,value:e})))}));return(yield Promise.all(t)).reduce(((e,t)=>(e[t.key]=t.value,e)),{})}))}function l(e,t){e&&"object"==typeof e||a.throwArgumentError("invalid object","object",e),Object.keys(e).forEach((n=>{t[n]||a.throwArgumentError("invalid object key - "+n,"transaction:"+n,e)}))}function d(e){const t={};for(const n in e)t[n]=e[n];return t}const f={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function h(e){if(null==e||f[typeof e])return!0;if(Array.isArray(e)||"object"==typeof e){if(!Object.isFrozen(e))return!1;const t=Object.keys(e);for(let n=0;n<t.length;n++){let r=null;try{r=e[t[n]]}catch(e){continue}if(!h(r))return!1}return!0}return a.throwArgumentError("Cannot deepCopy "+typeof e,"object",e)}function p(e){if(h(e))return e;if(Array.isArray(e))return Object.freeze(e.map((e=>v(e))));if("object"==typeof e){const t={};for(const n in e){const r=e[n];void 0!==r&&s(t,n,v(r))}return t}return a.throwArgumentError("Cannot deepCopy "+typeof e,"object",e)}function v(e){return p(e)}class y{constructor(e){for(const t in e)this[t]=v(e[t])}}},77205:(e,t,n)=>{"use strict";n.d(t,{SigningKey:()=>d,computePublicKey:()=>h,recoverPublicKey:()=>f});var r=n(21405),o=n(46366),i=n(33654),a=n(66167),s=n(21538);const c=new a.Logger(s.i);let u=null;function l(){return u||(u=new r.EC("secp256k1")),u}class d{constructor(e){(0,i.defineReadOnly)(this,"curve","secp256k1"),(0,i.defineReadOnly)(this,"privateKey",(0,o.hexlify)(e)),32!==(0,o.hexDataLength)(this.privateKey)&&c.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const t=l().keyFromPrivate((0,o.arrayify)(this.privateKey));(0,i.defineReadOnly)(this,"publicKey","0x"+t.getPublic(!1,"hex")),(0,i.defineReadOnly)(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),(0,i.defineReadOnly)(this,"_isSigningKey",!0)}_addPoint(e){const t=l().keyFromPublic((0,o.arrayify)(this.publicKey)),n=l().keyFromPublic((0,o.arrayify)(e));return"0x"+t.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const t=l().keyFromPrivate((0,o.arrayify)(this.privateKey)),n=(0,o.arrayify)(e);32!==n.length&&c.throwArgumentError("bad digest length","digest",e);const r=t.sign(n,{canonical:!0});return(0,o.splitSignature)({recoveryParam:r.recoveryParam,r:(0,o.hexZeroPad)("0x"+r.r.toString(16),32),s:(0,o.hexZeroPad)("0x"+r.s.toString(16),32)})}computeSharedSecret(e){const t=l().keyFromPrivate((0,o.arrayify)(this.privateKey)),n=l().keyFromPublic((0,o.arrayify)(h(e)));return(0,o.hexZeroPad)("0x"+t.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!(!e||!e._isSigningKey)}}function f(e,t){const n=(0,o.splitSignature)(t),r={r:(0,o.arrayify)(n.r),s:(0,o.arrayify)(n.s)};return"0x"+l().recoverPubKey((0,o.arrayify)(e),r,n.recoveryParam).encode("hex",!1)}function h(e,t){const n=(0,o.arrayify)(e);if(32===n.length){const e=new d(n);return t?"0x"+l().keyFromPrivate(n).getPublic(!0,"hex"):e.publicKey}return 33===n.length?t?(0,o.hexlify)(n):"0x"+l().keyFromPublic(n).getPublic(!1,"hex"):65===n.length?t?"0x"+l().keyFromPublic(n).getPublic(!0,"hex"):(0,o.hexlify)(n):c.throwArgumentError("invalid public or private key","key","[REDACTED]")}},24104:(e,t,n)=>{"use strict";n.d(t,{commify:()=>c,formatEther:()=>d,formatUnits:()=>u,parseEther:()=>f,parseUnits:()=>l});var r=n(20335),o=n(66167),i=n(17962);const a=new o.Logger(i.i),s=["wei","kwei","mwei","gwei","szabo","finney","ether"];function c(e){const t=String(e).split(".");(t.length>2||!t[0].match(/^-?[0-9]*$/)||t[1]&&!t[1].match(/^[0-9]*$/)||"."===e||"-."===e)&&a.throwArgumentError("invalid value","value",e);let n=t[0],r="";for("-"===n.substring(0,1)&&(r="-",n=n.substring(1));"0"===n.substring(0,1);)n=n.substring(1);""===n&&(n="0");let o="";for(2===t.length&&(o="."+(t[1]||"0"));o.length>2&&"0"===o[o.length-1];)o=o.substring(0,o.length-1);const i=[];for(;n.length;){if(n.length<=3){i.unshift(n);break}{const e=n.length-3;i.unshift(n.substring(e)),n=n.substring(0,e)}}return r+i.join(",")+o}function u(e,t){if("string"==typeof t){const e=s.indexOf(t);-1!==e&&(t=3*e)}return(0,r.S5)(e,null!=t?t:18)}function l(e,t){if("string"!=typeof e&&a.throwArgumentError("value must be a string","value",e),"string"==typeof t){const e=s.indexOf(t);-1!==e&&(t=3*e)}return(0,r.Ox)(e,null!=t?t:18)}function d(e){return u(e,18)}function f(e){return l(e,18)}},3374:(e,t,n)=>{"use strict";n.d(t,{Wallet:()=>_,verifyMessage:()=>E,verifyTypedData:()=>S});var r=n(92936),o=n(64353),i=n(48171),a=n(46366),s=n(93684),c=n(67827),u=n(63344),l=n(38197),d=n(33654),f=n(44478),h=n(77205),p=n(81964),v=n(30347),y=n(64377),g=n(66167),m=n(95373),w=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};const b=new g.Logger(m.i);class _ extends i.E{constructor(e,t){if(super(),null!=(n=e)&&(0,a.isHexString)(n.privateKey,32)&&null!=n.address){const t=new h.SigningKey(e.privateKey);if((0,d.defineReadOnly)(this,"_signingKey",(()=>t)),(0,d.defineReadOnly)(this,"address",(0,y.computeAddress)(this.publicKey)),this.address!==(0,r.getAddress)(e.address)&&b.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),function(e){const t=e.mnemonic;return t&&t.phrase}(e)){const t=e.mnemonic;(0,d.defineReadOnly)(this,"_mnemonic",(()=>({phrase:t.phrase,path:t.path||u.defaultPath,locale:t.locale||"en"})));const n=this.mnemonic,r=u.HDNode.fromMnemonic(n.phrase,null,n.locale).derivePath(n.path);(0,y.computeAddress)(r.privateKey)!==this.address&&b.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else(0,d.defineReadOnly)(this,"_mnemonic",(()=>null))}else{if(h.SigningKey.isSigningKey(e))"secp256k1"!==e.curve&&b.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),(0,d.defineReadOnly)(this,"_signingKey",(()=>e));else{"string"==typeof e&&e.match(/^[0-9a-f]*$/i)&&64===e.length&&(e="0x"+e);const t=new h.SigningKey(e);(0,d.defineReadOnly)(this,"_signingKey",(()=>t))}(0,d.defineReadOnly)(this,"_mnemonic",(()=>null)),(0,d.defineReadOnly)(this,"address",(0,y.computeAddress)(this.publicKey))}var n;t&&!o.zt.isProvider(t)&&b.throwArgumentError("invalid provider","provider",t),(0,d.defineReadOnly)(this,"provider",t||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new _(this,e)}signTransaction(e){return(0,d.resolveProperties)(e).then((t=>{null!=t.from&&((0,r.getAddress)(t.from)!==this.address&&b.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete t.from);const n=this._signingKey().signDigest((0,l.keccak256)((0,y.serialize)(t)));return(0,y.serialize)(t,n)}))}signMessage(e){return w(this,void 0,void 0,(function*(){return(0,a.joinSignature)(this._signingKey().signDigest((0,s.r)(e)))}))}_signTypedData(e,t,n){return w(this,void 0,void 0,(function*(){const r=yield c.E.resolveNames(e,t,n,(e=>(null==this.provider&&b.throwError("cannot resolve ENS names without a provider",g.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:e}),this.provider.resolveName(e))));return(0,a.joinSignature)(this._signingKey().signDigest(c.E.hash(r.domain,t,r.value)))}))}encrypt(e,t,n){if("function"!=typeof t||n||(n=t,t={}),n&&"function"!=typeof n)throw new Error("invalid callback");return t||(t={}),(0,p.HI)(this,e,t,n)}static createRandom(e){let t=(0,f.O)(16);e||(e={}),e.extraEntropy&&(t=(0,a.arrayify)((0,a.hexDataSlice)((0,l.keccak256)((0,a.concat)([t,e.extraEntropy])),0,16)));const n=(0,u.entropyToMnemonic)(t,e.locale);return _.fromMnemonic(n,e.path,e.locale)}static fromEncryptedJson(e,t,n){return(0,v.decryptJsonWallet)(e,t,n).then((e=>new _(e)))}static fromEncryptedJsonSync(e,t){return new _((0,v.decryptJsonWalletSync)(e,t))}static fromMnemonic(e,t,n){return t||(t=u.defaultPath),new _(u.HDNode.fromMnemonic(e,null,n).derivePath(t))}}function E(e,t){return(0,y.recoverAddress)((0,s.r)(e),t)}function S(e,t,n,r){return(0,y.recoverAddress)(c.E.hash(e,t,n),r)}},89068:(e,t,n)=>{"use strict";n.d(t,{_fetchData:()=>p,fetchJson:()=>v,poll:()=>y});var r=n(59567),o=n(46366),i=n(33654),a=n(44242),s=n(66167),c=n(41528),u=n(19797),l=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};const d=new s.Logger(c.i);function f(e){return new Promise((t=>{setTimeout(t,e)}))}function h(e,t){if(null==e)return null;if("string"==typeof e)return e;if((0,o.isBytesLike)(e)){if(t&&("text"===t.split("/")[0]||"application/json"===t.split(";")[0].trim()))try{return(0,a.ZN)(e)}catch(e){}return(0,o.hexlify)(e)}return e}function p(e,t,n){const o="object"==typeof e&&null!=e.throttleLimit?e.throttleLimit:12;d.assertArgument(o>0&&o%1==0,"invalid connection throttle limit","connection.throttleLimit",o);const i="object"==typeof e?e.throttleCallback:null,c="object"==typeof e&&"number"==typeof e.throttleSlotInterval?e.throttleSlotInterval:100;d.assertArgument(c>0&&c%1==0,"invalid connection throttle slot interval","connection.throttleSlotInterval",c);const p="object"==typeof e&&!!e.errorPassThrough,v={};let y=null;const g={method:"GET"};let m=!1,w=12e4;if("string"==typeof e)y=e;else if("object"==typeof e){if(null!=e&&null!=e.url||d.throwArgumentError("missing URL","connection.url",e),y=e.url,"number"==typeof e.timeout&&e.timeout>0&&(w=e.timeout),e.headers)for(const t in e.headers)v[t.toLowerCase()]={key:t,value:String(e.headers[t])},["if-none-match","if-modified-since"].indexOf(t.toLowerCase())>=0&&(m=!0);if(g.allowGzip=!!e.allowGzip,null!=e.user&&null!=e.password){"https:"!==y.substring(0,6)&&!0!==e.allowInsecureAuthentication&&d.throwError("basic authentication requires a secure https url",s.Logger.errors.INVALID_ARGUMENT,{argument:"url",url:y,user:e.user,password:"[REDACTED]"});const t=e.user+":"+e.password;v.authorization={key:"Authorization",value:"Basic "+(0,r.c)((0,a.Y0)(t))}}null!=e.skipFetchSetup&&(g.skipFetchSetup=!!e.skipFetchSetup)}const b=new RegExp("^data:([a-z0-9-]+/[a-z0-9-]+);base64,(.*)$","i"),_=y?y.match(b):null;if(_)try{const e={statusCode:200,statusMessage:"OK",headers:{"content-type":_[1]},body:(0,r.J)(_[2])};let t=e.body;return n&&(t=n(e.body,e)),Promise.resolve(t)}catch(e){d.throwError("processing response error",s.Logger.errors.SERVER_ERROR,{body:h(_[1],_[2]),error:e,requestBody:null,requestMethod:"GET",url:y})}t&&(g.method="POST",g.body=t,null==v["content-type"]&&(v["content-type"]={key:"Content-Type",value:"application/octet-stream"}),null==v["content-length"]&&(v["content-length"]={key:"Content-Length",value:String(t.length)}));const E={};Object.keys(v).forEach((e=>{const t=v[e];E[t.key]=t.value})),g.headers=E;const S=function(){let e=null;return{promise:new Promise((function(t,n){w&&(e=setTimeout((()=>{null!=e&&(e=null,n(d.makeError("timeout",s.Logger.errors.TIMEOUT,{requestBody:h(g.body,E["content-type"]),requestMethod:g.method,timeout:w,url:y})))}),w))})),cancel:function(){null!=e&&(clearTimeout(e),e=null)}}}(),A=function(){return l(this,void 0,void 0,(function*(){for(let e=0;e<o;e++){let t=null;try{if(t=yield(0,u.G)(y,g),e<o)if(301===t.statusCode||302===t.statusCode){const e=t.headers.location||"";if("GET"===g.method&&e.match(/^https:/)){y=t.headers.location;continue}}else if(429===t.statusCode){let n=!0;if(i&&(n=yield i(e,y)),n){let n=0;const r=t.headers["retry-after"];n="string"==typeof r&&r.match(/^[1-9][0-9]*$/)?1e3*parseInt(r):c*parseInt(String(Math.random()*Math.pow(2,e))),yield f(n);continue}}}catch(e){t=e.response,null==t&&(S.cancel(),d.throwError("missing response",s.Logger.errors.SERVER_ERROR,{requestBody:h(g.body,E["content-type"]),requestMethod:g.method,serverError:e,url:y}))}let r=t.body;if(m&&304===t.statusCode?r=null:!p&&(t.statusCode<200||t.statusCode>=300)&&(S.cancel(),d.throwError("bad response",s.Logger.errors.SERVER_ERROR,{status:t.statusCode,headers:t.headers,body:h(r,t.headers?t.headers["content-type"]:null),requestBody:h(g.body,E["content-type"]),requestMethod:g.method,url:y})),n)try{const e=yield n(r,t);return S.cancel(),e}catch(n){if(n.throttleRetry&&e<o){let t=!0;if(i&&(t=yield i(e,y)),t){const t=c*parseInt(String(Math.random()*Math.pow(2,e)));yield f(t);continue}}S.cancel(),d.throwError("processing response error",s.Logger.errors.SERVER_ERROR,{body:h(r,t.headers?t.headers["content-type"]:null),error:n,requestBody:h(g.body,E["content-type"]),requestMethod:g.method,url:y})}return S.cancel(),r}return d.throwError("failed response",s.Logger.errors.SERVER_ERROR,{requestBody:h(g.body,E["content-type"]),requestMethod:g.method,url:y})}))}();return Promise.race([S.promise,A])}function v(e,t,n){let r=null;if(null!=t){r=(0,a.Y0)(t);const n="string"==typeof e?{url:e}:(0,i.shallowCopy)(e);n.headers?0!==Object.keys(n.headers).filter((e=>"content-type"===e.toLowerCase())).length||(n.headers=(0,i.shallowCopy)(n.headers),n.headers["content-type"]="application/json"):n.headers={"content-type":"application/json"},e=n}return p(e,r,((e,t)=>{let r=null;if(null!=e)try{r=JSON.parse((0,a.ZN)(e))}catch(t){d.throwError("invalid JSON",s.Logger.errors.SERVER_ERROR,{body:e,error:t})}return n&&(r=n(r,t)),r}))}function y(e,t){return t||(t={}),null==(t=(0,i.shallowCopy)(t)).floor&&(t.floor=0),null==t.ceiling&&(t.ceiling=1e4),null==t.interval&&(t.interval=250),new Promise((function(n,r){let o=null,i=!1;const a=()=>!i&&(i=!0,o&&clearTimeout(o),!0);t.timeout&&(o=setTimeout((()=>{a()&&r(new Error("timeout"))}),t.timeout));const s=t.retryLimit;let c=0;!function o(){return e().then((function(e){if(void 0!==e)a()&&n(e);else if(t.oncePoll)t.oncePoll.once("poll",o);else if(t.onceBlock)t.onceBlock.once("block",o);else if(!i){if(c++,c>s)return void(a()&&r(new Error("retry limit reached")));let e=t.interval*parseInt(String(Math.random()*Math.pow(2,c)));e<t.floor&&(e=t.floor),e>t.ceiling&&(e=t.ceiling),setTimeout(o,e)}return null}),(function(e){a()&&r(e)}))}()}))}},54098:function(e,t){var n="undefined"!=typeof self?self:this,r=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(n.arrayBuffer)var r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(e){return e&&r.indexOf(Object.prototype.toString.call(e))>-1};function i(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function a(e){return"string"!=typeof e&&(e=String(e)),e}function s(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n.iterable&&(t[Symbol.iterator]=function(){return t}),t}function c(e){this.map={},e instanceof c?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function u(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function l(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function d(e){var t=new FileReader,n=l(t);return t.readAsArrayBuffer(e),n}function f(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function h(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:n.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:n.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():n.arrayBuffer&&n.blob&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=f(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||o(e))?this._bodyArrayBuffer=f(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var e=u(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?u(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(d)}),this.text=function(){var e,t,n,r=u(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,n=l(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}c.prototype.append=function(e,t){e=i(e),t=a(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},c.prototype.delete=function(e){delete this.map[i(e)]},c.prototype.get=function(e){return e=i(e),this.has(e)?this.map[e]:null},c.prototype.has=function(e){return this.map.hasOwnProperty(i(e))},c.prototype.set=function(e,t){this.map[i(e)]=a(t)},c.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},c.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),s(e)},c.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),s(e)},c.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),s(e)},n.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var p=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function v(e,t){var n,r,o=(t=t||{}).body;if(e instanceof v){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new c(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new c(t.headers)),this.method=(r=(n=t.method||this.method||"GET").toUpperCase(),p.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function y(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}})),t}function g(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new c(t.headers),this.url=t.url||"",this._initBody(e)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},h.call(v.prototype),h.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},g.error=function(){var e=new g(null,{status:0,statusText:""});return e.type="error",e};var m=[301,302,303,307,308];g.redirect=function(e,t){if(-1===m.indexOf(t))throw new RangeError("Invalid status code");return new g(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function w(e,r){return new Promise((function(o,i){var a=new v(e,r);if(a.signal&&a.signal.aborted)return i(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function u(){s.abort()}s.onload=function(){var e,t,n={status:s.status,statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",t=new c,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}})),t)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var r="response"in s?s.response:s.responseText;o(new g(r,n))},s.onerror=function(){i(new TypeError("Network request failed"))},s.ontimeout=function(){i(new TypeError("Network request failed"))},s.onabort=function(){i(new t.DOMException("Aborted","AbortError"))},s.open(a.method,a.url,!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&n.blob&&(s.responseType="blob"),a.headers.forEach((function(e,t){s.setRequestHeader(t,e)})),a.signal&&(a.signal.addEventListener("abort",u),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",u)}),s.send(void 0===a._bodyInit?null:a._bodyInit)}))}w.polyfill=!0,e.fetch||(e.fetch=w,e.Headers=c,e.Request=v,e.Response=g),t.Headers=c,t.Request=v,t.Response=g,t.fetch=w,Object.defineProperty(t,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var o=r;(t=o.fetch).default=o.fetch,t.fetch=o.fetch,t.Headers=o.Headers,t.Request=o.Request,t.Response=o.Response,e.exports=t},30142:(e,t,n)=>{"use strict";n.d(t,{keccak256:()=>g,pack:()=>y,sha256:()=>m});var r=n(2593),o=n(46366),i=n(38197),a=n(23951),s=n(44242),c=n(66167),u=n(72167);const l=new RegExp("^bytes([0-9]+)$"),d=new RegExp("^(u?int)([0-9]*)$"),f=new RegExp("^(.*)\\[([0-9]*)\\]$"),h="0000000000000000000000000000000000000000000000000000000000000000",p=new c.Logger(u.i);function v(e,t,n){switch(e){case"address":return n?(0,o.zeroPad)(t,32):(0,o.arrayify)(t);case"string":return(0,s.Y0)(t);case"bytes":return(0,o.arrayify)(t);case"bool":return t=t?"0x01":"0x00",n?(0,o.zeroPad)(t,32):(0,o.arrayify)(t)}let i=e.match(d);if(i){let a=parseInt(i[2]||"256");return(i[2]&&String(a)!==i[2]||a%8!=0||0===a||a>256)&&p.throwArgumentError("invalid number type","type",e),n&&(a=256),t=r.O$.from(t).toTwos(a),(0,o.zeroPad)(t,a/8)}if(i=e.match(l),i){const r=parseInt(i[1]);return(String(r)!==i[1]||0===r||r>32)&&p.throwArgumentError("invalid bytes type","type",e),(0,o.arrayify)(t).byteLength!==r&&p.throwArgumentError(`invalid value for ${e}`,"value",t),n?(0,o.arrayify)((t+h).substring(0,66)):t}if(i=e.match(f),i&&Array.isArray(t)){const n=i[1];parseInt(i[2]||String(t.length))!=t.length&&p.throwArgumentError(`invalid array length for ${e}`,"value",t);const r=[];return t.forEach((function(e){r.push(v(n,e,!0))})),(0,o.concat)(r)}return p.throwArgumentError("invalid type","type",e)}function y(e,t){e.length!=t.length&&p.throwArgumentError("wrong number of values; expected ${ types.length }","values",t);const n=[];return e.forEach((function(e,r){n.push(v(e,t[r]))})),(0,o.hexlify)((0,o.concat)(n))}function g(e,t){return(0,i.keccak256)(y(e,t))}function m(e,t){return(0,a.JQ)(y(e,t))}},35035:e=>{"use strict";e.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var n,r="boolean"==typeof t.cycles&&t.cycles,o=t.cmp&&(n=t.cmp,function(e){return function(t,r){var o={key:t,value:e[t]},i={key:r,value:e[r]};return n(o,i)}}),i=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var n,a;if(Array.isArray(t)){for(a="[",n=0;n<t.length;n++)n&&(a+=","),a+=e(t[n])||"null";return a+"]"}if(null===t)return"null";if(-1!==i.indexOf(t)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=i.push(t)-1,c=Object.keys(t).sort(o&&o(t));for(a="",n=0;n<c.length;n++){var u=c[n],l=e(t[u]);l&&(a&&(a+=","),a+=JSON.stringify(u)+":"+l)}return i.splice(s,1),"{"+a+"}"}}(e)}},5089:e=>{var t=9007199254740991,n="[object Arguments]",r="[object Function]",o="[object GeneratorFunction]",i=/^(?:0|[1-9]\d*)$/,a=Object.prototype,s=a.hasOwnProperty,c=a.toString,u=a.propertyIsEnumerable,l=Math.max;function d(e,t,n){var r=e[t];s.call(e,t)&&h(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function f(e,n){return!!(n=null==n?t:n)&&("number"==typeof e||i.test(e))&&e>-1&&e%1==0&&e<n}function h(e,t){return e===t||e!=e&&t!=t}var p=Array.isArray;function v(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=t}(e.length)&&!function(e){var t=y(e)?c.call(e):"";return t==r||t==o}(e)}function y(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var g,m,w,b=(g=function(e,t){!function(e,t,n,r){n||(n={});for(var o=-1,i=t.length;++o<i;){var a=t[o];d(n,a,e[a])}}(t,function(e){return v(e)?function(e,t){var r=p(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&v(e)}(e)&&s.call(e,"callee")&&(!u.call(e,"callee")||c.call(e)==n)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],o=r.length,i=!!o;for(var a in e)!t&&!s.call(e,a)||i&&("length"==a||f(a,o))||r.push(a);return r}(e,!0):function(e){if(!y(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t,n,r=(n=(t=e)&&t.constructor,t===("function"==typeof n&&n.prototype||a)),o=[];for(var i in e)("constructor"!=i||!r&&s.call(e,i))&&o.push(i);return o}(e)}(t),e)},m=function(e,t){var n=-1,r=t.length,o=r>1?t[r-1]:void 0,i=r>2?t[2]:void 0;for(o=g.length>3&&"function"==typeof o?(r--,o):void 0,i&&function(e,t,n){if(!y(n))return!1;var r=typeof t;return!!("number"==r?v(n)&&f(t,n.length):"string"==r&&t in n)&&h(n[t],e)}(t[0],t[1],i)&&(o=r<3?void 0:o,r=1),e=Object(e);++n<r;){var a=t[n];a&&g(e,a)}return e},w=l(void 0===w?m.length-1:w,0),function(){for(var e=arguments,t=-1,n=l(e.length-w,0),r=Array(n);++t<n;)r[t]=e[w+t];t=-1;for(var o=Array(w+1);++t<w;)o[t]=e[t];return o[w]=r,function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(m,this,o)});e.exports=b},72378:(e,t,n)=>{e=n.nmd(e);var r="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",a="[object AsyncFunction]",s="[object Function]",c="[object GeneratorFunction]",u="[object Null]",l="[object Object]",d="[object Proxy]",f="[object Undefined]",h=/^\[object .+?Constructor\]$/,p=/^(?:0|[1-9]\d*)$/,v={};v["[object Float32Array]"]=v["[object Float64Array]"]=v["[object Int8Array]"]=v["[object Int16Array]"]=v["[object Int32Array]"]=v["[object Uint8Array]"]=v["[object Uint8ClampedArray]"]=v["[object Uint16Array]"]=v["[object Uint32Array]"]=!0,v[i]=v["[object Array]"]=v["[object ArrayBuffer]"]=v["[object Boolean]"]=v["[object DataView]"]=v["[object Date]"]=v["[object Error]"]=v[s]=v["[object Map]"]=v["[object Number]"]=v[l]=v["[object RegExp]"]=v["[object Set]"]=v["[object String]"]=v["[object WeakMap]"]=!1;var y,g,m,w="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,b="object"==typeof self&&self&&self.Object===Object&&self,_=w||b||Function("return this")(),E=t&&!t.nodeType&&t,S=E&&e&&!e.nodeType&&e,A=S&&S.exports===E,T=A&&w.process,k=function(){try{return S&&S.require&&S.require("util").types||T&&T.binding&&T.binding("util")}catch(e){}}(),P=k&&k.isTypedArray,O=Array.prototype,x=Function.prototype,M=Object.prototype,N=_["__core-js_shared__"],I=x.toString,R=M.hasOwnProperty,C=(y=/[^.]+$/.exec(N&&N.keys&&N.keys.IE_PROTO||""))?"Symbol(src)_1."+y:"",D=M.toString,j=I.call(Object),L=RegExp("^"+I.call(R).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),U=A?_.Buffer:void 0,K=_.Symbol,F=_.Uint8Array,B=(U&&U.allocUnsafe,g=Object.getPrototypeOf,m=Object,function(e){return g(m(e))}),z=Object.create,H=M.propertyIsEnumerable,W=O.splice,G=K?K.toStringTag:void 0,V=function(){try{var e=he(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),q=U?U.isBuffer:void 0,$=Math.max,J=Date.now,Q=he(_,"Map"),Y=he(Object,"create"),Z=function(){function e(){}return function(t){if(!Te(t))return{};if(z)return z(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function X(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ee(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function te(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ne(e){var t=this.__data__=new ee(e);this.size=t.size}function re(e,t,n){(void 0!==n&&!me(e[t],n)||void 0===n&&!(t in e))&&ae(e,t,n)}function oe(e,t,n){var r=e[t];R.call(e,t)&&me(r,n)&&(void 0!==n||t in e)||ae(e,t,n)}function ie(e,t){for(var n=e.length;n--;)if(me(e[n][0],t))return n;return-1}function ae(e,t,n){"__proto__"==t&&V?V(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}X.prototype.clear=function(){this.__data__=Y?Y(null):{},this.size=0},X.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},X.prototype.get=function(e){var t=this.__data__;if(Y){var n=t[e];return n===r?void 0:n}return R.call(t,e)?t[e]:void 0},X.prototype.has=function(e){var t=this.__data__;return Y?void 0!==t[e]:R.call(t,e)},X.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Y&&void 0===t?r:t,this},ee.prototype.clear=function(){this.__data__=[],this.size=0},ee.prototype.delete=function(e){var t=this.__data__,n=ie(t,e);return!(n<0||(n==t.length-1?t.pop():W.call(t,n,1),--this.size,0))},ee.prototype.get=function(e){var t=this.__data__,n=ie(t,e);return n<0?void 0:t[n][1]},ee.prototype.has=function(e){return ie(this.__data__,e)>-1},ee.prototype.set=function(e,t){var n=this.__data__,r=ie(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},te.prototype.clear=function(){this.size=0,this.__data__={hash:new X,map:new(Q||ee),string:new X}},te.prototype.delete=function(e){var t=fe(this,e).delete(e);return this.size-=t?1:0,t},te.prototype.get=function(e){return fe(this,e).get(e)},te.prototype.has=function(e){return fe(this,e).has(e)},te.prototype.set=function(e,t){var n=fe(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},ne.prototype.clear=function(){this.__data__=new ee,this.size=0},ne.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ne.prototype.get=function(e){return this.__data__.get(e)},ne.prototype.has=function(e){return this.__data__.has(e)},ne.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ee){var r=n.__data__;if(!Q||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new te(r)}return n.set(e,t),this.size=n.size,this};var se=function(e,t,n){for(var r=-1,o=Object(e),i=n(e),a=i.length;a--;){var s=i[++r];if(!1===t(o[s],s,o))break}return e};function ce(e){return null==e?void 0===e?f:u:G&&G in Object(e)?function(e){var t=R.call(e,G),n=e[G];try{e[G]=void 0;var r=!0}catch(e){}var o=D.call(e);return r&&(t?e[G]=n:delete e[G]),o}(e):function(e){return D.call(e)}(e)}function ue(e){return ke(e)&&ce(e)==i}function le(e,t,n,r,o){e!==t&&se(t,(function(i,a){if(o||(o=new ne),Te(i))!function(e,t,n,r,o,i,a){var s=ye(e,n),c=ye(t,n),u=a.get(c);if(u)re(e,n,u);else{var d,f,h,p,v,y=i?i(s,c,n+"",e,t,a):void 0,g=void 0===y;if(g){var m=be(c),w=!m&&Ee(c),b=!m&&!w&&Pe(c);y=c,m||w||b?be(s)?y=s:ke(v=s)&&_e(v)?y=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(s):w?(g=!1,y=function(e,t){return e.slice()}(c)):b?(g=!1,p=new(h=(d=c).buffer).constructor(h.byteLength),new F(p).set(new F(h)),f=p,y=new d.constructor(f,d.byteOffset,d.length)):y=[]:function(e){if(!ke(e)||ce(e)!=l)return!1;var t=B(e);if(null===t)return!0;var n=R.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&I.call(n)==j}(c)||we(c)?(y=s,we(s)?y=function(e){return function(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var s=t[i],c=void 0;void 0===c&&(c=e[s]),o?ae(n,s,c):oe(n,s,c)}return n}(e,Oe(e))}(s):Te(s)&&!Se(s)||(y=function(e){return"function"!=typeof e.constructor||ve(e)?{}:Z(B(e))}(c))):g=!1}g&&(a.set(c,y),o(y,c,r,i,a),a.delete(c)),re(e,n,y)}}(e,t,a,n,le,r,o);else{var s=r?r(ye(e,a),i,a+"",e,t,o):void 0;void 0===s&&(s=i),re(e,a,s)}}),Oe)}var de=V?function(e,t){return V(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:Ne;function fe(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function he(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Te(e)||function(e){return!!C&&C in e}(e))&&(Se(e)?L:h).test(function(e){if(null!=e){try{return I.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}(n)?n:void 0}function pe(e,t){var n=typeof e;return!!(t=null==t?o:t)&&("number"==n||"symbol"!=n&&p.test(e))&&e>-1&&e%1==0&&e<t}function ve(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||M)}function ye(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var ge=function(e){var t=0,n=0;return function(){var r=J(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(de);function me(e,t){return e===t||e!=e&&t!=t}var we=ue(function(){return arguments}())?ue:function(e){return ke(e)&&R.call(e,"callee")&&!H.call(e,"callee")},be=Array.isArray;function _e(e){return null!=e&&Ae(e.length)&&!Se(e)}var Ee=q||function(){return!1};function Se(e){if(!Te(e))return!1;var t=ce(e);return t==s||t==c||t==a||t==d}function Ae(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function Te(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ke(e){return null!=e&&"object"==typeof e}var Pe=P?function(e){return function(t){return e(t)}}(P):function(e){return ke(e)&&Ae(e.length)&&!!v[ce(e)]};function Oe(e){return _e(e)?function(e,t){var n=be(e),r=!n&&we(e),o=!n&&!r&&Ee(e),i=!n&&!r&&!o&&Pe(e),a=n||r||o||i,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=s.length;for(var u in e)!t&&!R.call(e,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||pe(u,c))||s.push(u);return s}(e,!0):function(e){if(!Te(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=ve(e),n=[];for(var r in e)("constructor"!=r||!t&&R.call(e,r))&&n.push(r);return n}(e)}var xe,Me=(xe=function(e,t,n){le(e,t,n)},function(e,t){return ge(function(e,t,n){return t=$(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=$(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=r[o];return s[t]=n(a),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,s)}}(e,t,Ne),e+"")}((function(e,t){var n=-1,r=t.length,o=r>1?t[r-1]:void 0,i=r>2?t[2]:void 0;for(o=xe.length>3&&"function"==typeof o?(r--,o):void 0,i&&function(e,t,n){if(!Te(n))return!1;var r=typeof t;return!!("number"==r?_e(n)&&pe(t,n.length):"string"==r&&t in n)&&me(n[t],e)}(t[0],t[1],i)&&(o=r<3?void 0:o,r=1),e=Object(e);++n<r;){var a=t[n];a&&xe(e,a,n)}return e})));function Ne(e){return e}e.exports=Me},17720:e=>{var t=9007199254740991,n="[object Arguments]",r="[object Function]",o="[object GeneratorFunction]",i=/^(?:0|[1-9]\d*)$/;var a,s,c=Object.prototype,u=c.hasOwnProperty,l=c.toString,d=c.propertyIsEnumerable,f=(a=Object.keys,s=Object,function(e){return a(s(e))});function h(e,n){return!!(n=null==n?t:n)&&("number"==typeof e||i.test(e))&&e>-1&&e%1==0&&e<n}var p=Array.isArray;function v(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=t}(e.length)&&!function(e){var t=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)?l.call(e):"";return t==r||t==o}(e)}e.exports=function(e){return e?function(e,t){return function(t,n){for(var r=-1,o=t?t.length:0,i=Array(o);++r<o;)i[r]=(a=t[r],e[a]);var a;return i}(t)}(e,function(e){return v(e)?function(e,t){var r=p(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&v(e)}(e)&&u.call(e,"callee")&&(!d.call(e,"callee")||l.call(e)==n)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],o=r.length,i=!!o;for(var a in e)!t&&!u.call(e,a)||i&&("length"==a||h(a,o))||r.push(a);return r}(e):function(e){if(n=(t=e)&&t.constructor,t!==("function"==typeof n&&n.prototype||c))return f(e);var t,n,r=[];for(var o in Object(e))u.call(e,o)&&"constructor"!=o&&r.push(o);return r}(e)}(e)):[]}},67294:(e,t,n)=>{"use strict";e.exports=n(72408)},63690:(e,t)=>{"use strict";var n,r,o,i,a,s;Object.defineProperty(t,"__esModule",{value:!0}),t.__DEV__=t.KatanaWalletRouterAddress=t.KatanaRouterAddress=t.approveToken=t.swapExactTokensForRONSupportingFeeOnTransferTokens=t.swapTokensForExactRON=t.swapExactTokensForRON=t.accessoryImgUrl=t.Erc1155Type=t.exchangeRateUpdateInterval=t.MAX_WINDOW_WIDTH=t.mavisMarketUrls=t.mavisMarketplaceTestnet=t.mavisMarketplaceMainnet=t.marketplaceTestnet=t.marketplaceMainnet=t.roninMainnetV1=t.config=t.NetworkId=void 0,function(e){e.MAIN_NET="ronin-mainnet-v2",e.TEST_NET="ronin-testnet",e.DEV_NET="ronin-devnet"}(s=t.NetworkId||(t.NetworkId={}));var c={originAddress:"https://game-api-origin.skymavis.com/v2",walletManagerAddress:"https://wallet-manager.skymavis.com",walletManagerV2Address:"https://wallet-manager.skymavis.com/wallet-manager/v2/public",graphql:"https://graphql-gateway.axieinfinity.com/graphql",graphqlTestnet:"https://testnet-graphql.skymavis.one/graphql",multicallMainnetAddress:"0xc76d0d0d3aa608190f78db02bf2f5aef374fc0b9",multicallTestnetAddress:"0x31c9ef8a631e2489e69833df3b2cb4bf0dc413bc",multicallAddresses:(n={},n[s.MAIN_NET]="0xc76d0d0d3aa608190f78db02bf2f5aef374fc0b9",n[s.TEST_NET]="0x31c9ef8a631e2489e69833df3b2cb4bf0dc413bc",n[s.DEV_NET]="0x31c9ef8a631e2489e69833df3b2cb4bf0dc413bc",n),ssoClientId:"bb40ea12-1422-4d26-91b1-01e8f9099005",infuraId:"336c507da6c6480ab5a55ffb709d4cc2",web3AuthVerifier:"production-single-account",exchangeRateUrl:(r={},r[s.MAIN_NET]="https://exchange-rate.skymavis.com",r[s.TEST_NET]="https://exchange-rate.skymavis.com",r[s.DEV_NET]="https://exchange-rate.skymavis.com",r),metadataBackupUrl:"https://wallet-account-metadata.skymavis.com"};(o={})[s.MAIN_NET]="0xc76d0d0d3aa608190f78db02bf2f5aef374fc0b9",o[s.TEST_NET]="0x31c9ef8a631e2489e69833df3b2cb4bf0dc413bc",o[s.DEV_NET]="0x31c9ef8a631e2489e69833df3b2cb4bf0dc413bc",(i={})[s.MAIN_NET]="https://exchange-rate.skymavis.one",i[s.TEST_NET]="https://exchange-rate.skymavis.one",i[s.DEV_NET]="https://exchange-rate.skymavis.one",t.roninMainnetV1="ronin-mainnet",t.marketplaceMainnet="https://app.axieinfinity.com",t.marketplaceTestnet="https://testnet-marketplace.skymavis.one",t.mavisMarketplaceMainnet="https://marketplace.skymavis.com",t.mavisMarketplaceTestnet="https://dev-marketplace.skymavis.one";var u,l,d,f=t.mavisMarketplaceMainnet+"/collections/:roninContractAddress/:tokenId",h=t.mavisMarketplaceTestnet+"/collections/:roninContractAddress/:tokenId";t.mavisMarketUrls=((a={})[s.TEST_NET]=h,a[s.MAIN_NET]=f,a),t.MAX_WINDOW_WIDTH=376,t.exchangeRateUpdateInterval=6e4,(d=t.Erc1155Type||(t.Erc1155Type={})).RUNE="rune",d.CHARM="charm",t.accessoryImgUrl="https://cdn.axieinfinity.com/marketplace-website/accessories/:alias.png",t.swapExactTokensForRON="0xf05b8c56",t.swapTokensForExactRON="0xa5089b8f",t.swapExactTokensForRONSupportingFeeOnTransferTokens="0x54cd9182",t.approveToken="0x095ea7b3000000000000000000000000",(l=t.KatanaRouterAddress||(t.KatanaRouterAddress={}))["ronin-mainnet-v2"]="7d0556d55ca1a92708681e2e231733ebd922597d",l["ronin-testnet"]="Da44546C0715ae78D454fE8B84f0235081584Fe0",l["ronin-devnet"]="Da44546C0715ae78D454fE8B84f0235081584Fe0",(u=t.KatanaWalletRouterAddress||(t.KatanaWalletRouterAddress={}))["ronin-mainnet-v2"]="7C645C35AB772be52a474b1e08414D55e8EA56d5",u["ronin-testnet"]="fa30d399fa1e8adc786a6bcba41537d515355a09",u["ronin-devnet"]="fa30d399fa1e8adc786a6bcba41537d515355a09",t.config=c,t.__DEV__=!1},88704:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.CryptrEncryptor=t.BrowserEncryptor=void 0;var s=n(26522),c=n(17946),u=n(9105),l=function(e){function t(t){if(void 0===n.g.crypto)throw new Error("Browser crypto is not found.");return e.call(this,t)||this}return o(t,e),t.prototype.encrypt=function(e){return s.encrypt(this.password,e)},t.prototype.decrypt=function(e){return i(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,s.decrypt(this.password,e)];case 1:return[2,t.sent().toString("utf8")]}}))}))},t}(u.Encryptor);t.BrowserEncryptor=l;var d=function(e){function t(t){var n=e.call(this,t)||this;return n.cryptr=new c(t),n}return o(t,e),t.prototype.encrypt=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){return t=this.cryptr.encrypt(e),[2,Promise.resolve(t)]}))}))},t.prototype.decrypt=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){return t=this.cryptr.decrypt(e),[2,Promise.resolve(t)]}))}))},t}(u.Encryptor);t.CryptrEncryptor=d},95665:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Fetcher=void 0;var o=function(){function e(){}return e.prototype.fetch=function(e,t){return n(this,void 0,Promise,(function(){var n;return r(this,(function(r){switch(r.label){case 0:return[4,fetch(e,t)];case 1:return(n=r.sent()).ok?[4,n.json()]:[3,3];case 2:return[2,r.sent()];case 3:throw n}}))}))},e}();t.Fetcher=o},21486:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var s=n(26615),c=n(66001),u=function(){function e(){this.rns=new s.RNS}return e.prototype.getCurrentChainId=function(){return c.store.getState().network.selectedConfig.chainId},e.prototype.getName=function(e){return r(this,void 0,Promise,(function(){var t;return o(this,(function(n){return t=this.getCurrentChainId(),[2,this.rns.getName(e,t)]}))}))},e.prototype.getAddress=function(e){return r(this,void 0,Promise,(function(){var t;return o(this,(function(n){return t=this.getCurrentChainId(),[2,this.rns.getAddress(e,t)]}))}))},e.prototype.multicallGetNames=function(e){return r(this,void 0,Promise,(function(){var t;return o(this,(function(n){return t=this.getCurrentChainId(),[2,this.rns.multicallGetNames(e,t)]}))}))},e.prototype.multicallGetAddresses=function(e){var t=this.getCurrentChainId();return this.rns.multicallGetAddresses(e,t)},e.prototype.prefetchNames=function(e){return r(this,void 0,Promise,(function(){var t,n,r,s,u,l,d,f,h,p;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.multicallGetNames(e)];case 1:t=o.sent(),n=c.store.getActions().cache.addOrUpdateRnsNames;try{for(r=i(Object.entries(t)),s=r.next();!s.done;s=r.next())u=a(s.value,2),l=u[0],d=u[1],n({address:l,namesOrPrimaryName:d})}catch(e){h={error:e}}finally{try{s&&!s.done&&(p=r.return)&&p.call(r)}finally{if(h)throw h.error}}return[3,3];case 2:return f=o.sent(),console.error("prefetchNames error:",f),[3,3];case 3:return[2]}}))}))},e.prototype.resetCache=function(){return r(this,void 0,Promise,(function(){return o(this,(function(e){return(0,c.store.getActions().cache.resetRnsCache)(),[2]}))}))},e}();t.default=u},11947:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.TransactionDecoder=void 0;var c=n(8669),u=n(65130),l=n(7539),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.decode=function(e){var t,n;return i(this,void 0,Promise,(function(){var r,o,i,c,d,f,h,p,v,y;return a(this,(function(a){switch(a.label){case 0:r=[],a.label=1;case 1:a.trys.push([1,12,13,14]),o=s(e),i=o.next(),a.label=2;case 2:if(i.done)return[3,11];c=i.value,a.label=3;case 3:if(a.trys.push([3,9,,10]),!(null===(t=c.extra)||void 0===t?void 0:t.hash))return[3,7];a.label=4;case 4:return a.trys.push([4,6,,7]),[4,l.txStore.getById(c.extra.hash,{fromAddress:c.extra.from,chainId:c.extra.chainId})];case 5:return d=a.sent(),(null===(n=null==d?void 0:d.normalized)||void 0===n?void 0:n.decodedData)?(r.push(d.normalized.decodedData),[3,10]):[3,7];case 6:return a.sent(),[3,7];case 7:return h=(f=r).push,[4,this.decodeCalldata(c.address,c.data)];case 8:return h.apply(f,[a.sent()]),[3,10];case 9:return a.sent(),r.push({action:"Contract Interaction",actionId:u.ActionId.ContractInteraction,cost:[]}),[3,10];case 10:return i=o.next(),[3,2];case 11:return[3,14];case 12:return p=a.sent(),v={error:p},[3,14];case 13:try{i&&!i.done&&(y=o.return)&&y.call(o)}finally{if(v)throw v.error}return[7];case 14:return[2,r]}}))}))},t.prototype.decodeMultiCallData=function(e){var t,n;return i(this,void 0,Promise,(function(){var r,o,i,c,d,f,h,p,v,y;return a(this,(function(a){switch(a.label){case 0:r=[],a.label=1;case 1:a.trys.push([1,10,11,12]),o=s(e),i=o.next(),a.label=2;case 2:if(i.done)return[3,9];c=i.value,a.label=3;case 3:return a.trys.push([3,7,,8]),(null===(t=c.extra)||void 0===t?void 0:t.hash)?[4,l.txStore.getById(c.extra.hash)]:[3,5];case 4:if(d=a.sent(),null===(n=null==d?void 0:d.normalized)||void 0===n?void 0:n.decodedData)return r.push(d.normalized.decodedData),[3,8];a.label=5;case 5:return h=(f=r).push,[4,this.decodeData(c.address,c.data)];case 6:return h.apply(f,[a.sent()]),[3,8];case 7:return a.sent(),r.push({action:"Contract Interaction",actionId:u.ActionId.ContractInteraction,cost:[]}),[3,8];case 8:return i=o.next(),[3,2];case 9:return[3,12];case 10:return p=a.sent(),v={error:p},[3,12];case 11:try{i&&!i.done&&(y=o.return)&&y.call(o)}finally{if(v)throw v.error}return[7];case 12:return[2,r]}}))}))},t}(c.SimpleRoninActionDecoder);t.TransactionDecoder=d},7539:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TransactionTrackerModule=t.txStore=t.getStore=t.storage=void 0;var c=n(70687),u=n(87707),l=n(208),d=n(22358),f=s(n(17187)),h=n(19416),p=n(36635),v=n(33877),y=n(95665),g=n(66001),m=n(11947),w=function(e,t){return(t.createdAtTimestamp||0)-(e.createdAtTimestamp||0)};t.storage={get:function(e){return i(void 0,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,h.browser.storage.local.get(e)];case 1:return[2,t.sent()[e.toString()]||[]]}}))}))},set:function(e,t){var n,r=t;return t.length>=150&&(r=t.sort(w).slice(0,100)),h.browser.storage.local.set(((n={})[e.toString()]=r,n))}},t.getStore=function(e){return new u.TransactionStore(e,"transactions.v1",t.storage)},t.txStore=new v.TxStore;var b=function(e){function n(t){var n=e.call(this,t,{})||this;return n.event=new f.default,n.setup(t),n}return o(n,e),n.prototype.setup=function(e){var r;return i(this,void 0,void 0,(function(){var o,i,s,c,d,f;return a(this,(function(a){switch(a.label){case 0:return o=t.getStore(e.network.id),[4,this.createDecoder(e.network.id,e.provider)];case 1:return i=a.sent(),s=new y.Fetcher,c=null===(r=e.network.metadata)||void 0===r?void 0:r.apiExplorerUrl,[4,(d=new u.ApiReceiptProvider(e.network.chainId)).setProvider(new u.RoninTxApi(s,{baseUrl:c}))];case 2:return a.sent(),[4,(f=new u.Web3ReceiptProvider).setProvider(e.provider,e.network.chainId)];case 3:return a.sent(),this.currentTracker=new u.TransactionTracker(o,n.intervalDuration,[d,f],i,{maxFailedBeforeChangeProvider:10}),this._txHistory=new l.TxHistory(s,t.txStore,{chainId:e.network.chainId,localStore:o,decoder:i,baseUrl:c}),g.store.getActions().activities.setTxs({}),g.store.getActions().activities.setSelectedNetwork(e.network),[2]}}))}))},n.prototype.createDecoder=function(e,t){return i(this,void 0,void 0,(function(){var n,r,o,i;return a(this,(function(a){switch(a.label){case 0:return(n=new p.ContractStorage(e))?[4,n.get()]:[2];case 1:return r=a.sent(),o=new c.Web3Wrapper({sendAsync:function(e,n){t.sendAsync(e,n)}}),(i=new m.TransactionDecoder(o)).loadContracts(r),[2,i]}}))}))},n.prototype.updateConfig=function(e){e.network&&e.provider?(this.restartTracker(e),this.setConfig(e)):console.error("Network and provider must be provided")},n.prototype.stopCurrent=function(){var e,t;null===(e=this.currentTracker)||void 0===e||e.stop(),null===(t=this.currentTracker)||void 0===t||t.removeAllListeners()},n.prototype.restartTracker=function(e){var t;return i(this,void 0,void 0,(function(){return a(this,(function(n){switch(n.label){case 0:return this.stopCurrent(),[4,this.setup(e)];case 1:return n.sent(),this.registerEvent(),null===(t=this.currentTracker)||void 0===t||t.startIfNeeded(),[2,this.currentTracker]}}))}))},n.prototype.registerEvent=function(){var e,t,n,r=this;null===(e=this.currentTracker)||void 0===e||e.on(u.TxEvent.TxCreated,(function(e){r.event.emit(u.TxEvent.TxCreated,e)})),null===(t=this.currentTracker)||void 0===t||t.on(u.TxEvent.TxUpdated,(function(e){r.event.emit(u.TxEvent.TxUpdated,e)})),null===(n=this.currentTracker)||void 0===n||n.on(u.TxEvent.TxRemoved,(function(e){r.event.emit(u.TxEvent.TxRemoved,e)}))},n.prototype.on=function(e,t){this.event.on(e,t)},n.intervalDuration=3e3,n}(d.BaseModule);t.TransactionTrackerModule=b},99108:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.networks=t.ContractType=void 0,(n=t.ContractType||(t.ContractType={})).ERC20="erc20",n.ERC721="erc721",n.ERC1155="erc1155",n.Other="other",t.networks={}},49575:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.setupDomainManager=t.isIgnoredDeceptiveSite=t.addIgnoreDeceptiveSite=t.domainManager=void 0;var i=n(34466),a=n(19416),s=n(97954);t.domainManager=new i.DomainManager({remoteDatasetEndpoint:"https://contact.roninchain.com/domain-manager",whitelistOnOffline:["bridge.axieinfinity.com","marketplace.axieinfinity.com","stake.axieinfinity.com","welcome.axieinfinity.com","gnosis-safe.roninchain.com","katana-analytics.roninchain.com","katana.roninchain.com","purchase.roninchain.com","scatter.roninchain.com","validator.roninchain.com","ronin.axiedao.org","connect.trezor.io","localhost"]});var c=[];t.addIgnoreDeceptiveSite=function(e){return c.push(e)},t.isIgnoredDeceptiveSite=function(e){return c.includes(e)},t.setupDomainManager=function(){return r(void 0,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,t.domainManager.getRemoteDataset()];case 1:e.sent(),a.browser.runtime.onMessage.addListener((function(e){var n=e.type,r=e.data;switch(n){case s.BackgroundMessages.CHECK_FOR_BLOCK:var o=t.domainManager.checkForBlocking(r);return Promise.resolve(o);case s.BackgroundMessages.CHECK_FOR_IGNORE:var i=t.isIgnoredDeceptiveSite(r);return Promise.resolve(i);case s.BackgroundMessages.ADD_IGNORE_DOMAIN:return Promise.resolve(!0)}}));try{setInterval((function(){return t.domainManager.getRemoteDataset()}),3e5)}catch(e){console.error("Try to reload phishing dataset failed",e)}return[2]}}))}))}},24023:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=n(18269),u=n(58051),l=n(17045),d=s(n(68241)),f=n(19416),h=n(63690),p=n(7566),v=n(36635),y=n(25741),g=n(49575),m=n(47528),w=n(65204),b=n(95690),_=n(66001),E=n(32248),S=n(55214),A=function(e){return o(void 0,void 0,void 0,(function(){var t,n,r,o;return i(this,(function(i){switch(i.label){case 0:return t=f.browser.runtime.getManifest().version,n="ExtensionWallet/"+(S.isFirefox()?"Firefox":"Chrome")+"/"+t,[4,fetch(h.config.walletManagerV2Address+"/networks/"+e+"/contracts?user-agent="+encodeURIComponent(n))];case 1:return[4,i.sent().json()];case 2:return r=i.sent(),o=new v.ContractStorage(e),r.length&&o.set(r),[2]}}))}))},T=function(){return o(void 0,void 0,void 0,(function(){var e,t,n,r;return i(this,(function(o){switch(o.label){case 0:e=_.store.getState().network.selectedConfig.id,t=f.browser.runtime.getManifest().version,n="ExtensionWallet/"+(S.isFirefox()?"Firefox":"Chrome")+"/"+t,o.label=1;case 1:return o.trys.push([1,4,,5]),[4,fetch(h.config.walletManagerV2Address+"/networks/"+e+"/dapps?user-agent="+encodeURIComponent(n))];case 2:return[4,o.sent().json()];case 3:if(!(r=o.sent()).length)throw new Error("Invalid Data");return E.OFFICIAL_DAPPS.forEach((function(e){r.some((function(t){return t.id===e.id}))||r.push(e)})),_.store.getActions().settings.setDApps(r),_.store.getActions().settings.setIsDAppsReady(!0),[3,5];case 4:return o.sent(),_.store.getActions().settings.setIsDAppsReady(!1),[3,5];case 5:return[2]}}))}))},k=d.default((function(e,t,n){return n.length&&"balance"===n[0]&&n.length<2}));o(void 0,void 0,void 0,(function(){var e,t,n;return i(this,(function(r){switch(r.label){case 0:return[4,m.enableModules()];case 1:return r.sent(),_.store.getActions().account.checkIsWalletCreated(),e=_.store.getActions().axie,t=e.getCharms,n=e.getRunes,T(),o(void 0,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,fetch(h.config.walletManagerV2Address+"/location").then((function(e){return e.json()})).then((function(e){_.store.getActions().settings.setIsUS("US"===e.country)}))];case 1:return e.sent(),[3,3];case 2:return e.sent(),_.store.getActions().settings.setIsUS(!1),[3,3];case 3:return[2]}}))})),setInterval((function(){T()}),3e5),t(),n(),A(h.NetworkId.MAIN_NET),A(h.NetworkId.TEST_NET),A(h.NetworkId.DEV_NET),l.wrapStore(_.store,{dispatchResponder:u.enhancedPromiseResponder,diffStrategy:k}),localStorage.setItem(p.NETWORK,h.NetworkId.MAIN_NET),[2]}}))}));var P=function(e,t){return o(void 0,void 0,void 0,(function(){var n,r,s;return i(this,(function(u){if(e&&"eth_signTransaction"===e.method)return[2,Promise.reject("Signing transaction is not supported. Please use eth_sendTransaction")];if(n=["eth_accounts","eth_requestAccounts","eth_sendTransaction","eth_sign","personal_sign","eth_signTypedData","eth_getFreeGasRequests","ronin_getFreeGasRequests","ronin_getFreeGasSwapQuota","eth_signTypedData_v4"],"eth_signTypedData"===e.method&&(e.method="eth_signTypedData_v4"),r=a(t?m.sessionController.getManager().getSessionsByHostname(new URL(t.url).hostname):[],1),s=r[0],t&&(e.peerMeta=t),"eth_chainId"===e.method)return[2,new Promise((function(t,n){try{var r=_.store.getState().network.selectedConfig.chainId;t({id:e.id,jsonrpc:e.jsonrpc,result:c.numberToHex(r)})}catch(e){n("Can not get current chainId")}}))];if(e&&["eth_requestAccounts","eth_accounts"].includes(e.method))return[2,new Promise((function(n,r){return o(void 0,void 0,void 0,(function(){var o,a,c,u,l;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,11,,12]),o=[],t?(a=_.store.getState().account.isUnlocked,s&&a?(o=s.getAccounts(),[3,8]):[3,1]):[3,9];case 1:return s?[3,5]:"eth_requestAccounts"!==e.method?[3,3]:[4,m.sessionController.requestSessionApproval(t)];case 2:return c=i.sent(),[3,4];case 3:c=[],i.label=4;case 4:return o=c,[3,8];case 5:return"eth_requestAccounts"!==e.method?[3,7]:[4,b.unlockForActions.waitForUnlock()];case 6:return i.sent(),o=s.getAccounts(),[3,8];case 7:o=[],i.label=8;case 8:return[3,10];case 9:u=_.store.getState().account.accounts,o=u.map((function(e){return e.address})),i.label=10;case 10:return l={id:e.id,jsonrpc:e.jsonrpc,result:o},n(l),[3,12];case 11:return i.sent(),r("Can not get selected account"),[3,12];case 12:return[2]}}))}))}))];if("wallet_disconnectSession"===e.method)return[2,new Promise((function(t,n){return o(void 0,void 0,void 0,(function(){var r;return i(this,(function(o){switch(o.label){case 0:r={id:e.id,jsonrpc:e.jsonrpc,result:!0},s||t(r),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,m.sessionController.getManager().deleteSession(s.id)];case 2:return o.sent(),t(r),[3,4];case 3:return o.sent(),n("Failed to disconnect session"),[3,4];case 4:return[2]}}))}))}))];if(e&&!n.includes(e.method))return[2,new Promise((function(t,n){m.networkModule.provider.send(e,(function(e,r){e&&n(e),t(r)}))}))];if(!s&&t)return[2,Promise.reject("Not allowed")];try{m.sessionController.getManager().updateSession(s.id,{lastActiveTime:Date.now()})}catch(e){}return[2,new Promise((function(t,n){m.networkModule.provider.send(e,(function(e,r){e&&n(e),t(r)}))}))]}))}))};f.browser.runtime.onMessage.addListener((function(e,t){if(f.browser.runtime.id!==t.id)return console.error("Receiving message from unauthorized sender "+t+"."),Promise.reject();var n=new URL(t.origin||t.url).origin,o=r(r({},e.peerMeta),{url:n});switch(e.type){case p.REQUEST_TYPES.ASK_PROVIDER_FROM_CONTENT_SCRIPT:return w.actionQueue.setShouldOpenWindow(!0),P(e.message,o);case p.REQUEST_TYPES.ASK_PROVIDER_FROM_POPUP:return w.actionQueue.setShouldOpenWindow(!1),P(e.message)}})),f.browser.runtime.onInstalled.addListener((function(e){return o(void 0,void 0,void 0,(function(){var t,n;return i(this,(function(r){switch(r.label){case 0:return"install"===e.reason&&localStorage.setItem(p.INSTALL,""+Date.now()),[4,f.browser.cookies.get({name:"wl_uid",url:"https://wallet.roninchain.com"})];case 1:return(t=r.sent())&&localStorage.setItem(y.USER_ID,t.value),(!(n=localStorage.getItem(p.NETWORK))||n&&n===h.roninMainnetV1)&&localStorage.setItem(p.NETWORK,h.NetworkId.MAIN_NET),[2]}}))}))})),w.actionQueue.on(w.Event.ActionAdded,(function(){var e=w.actionQueue.actions[0];e&&_.store.getActions().currentAction.setCurrent(e)})),g.setupDomainManager()},34280:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=void 0;var r=n(55835),o=n(89539);t.crypto={pbkdf2:o.promisify(r.pbkdf2)}},26496:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.emptyWalletMiddleware=t.Encryptor=t.crypto=void 0;var s=n(55835),c=n(22140),u=n(89539),l=n(88704);t.crypto={pbkdf2:u.promisify(s.pbkdf2)};var d=function(e){function t(){return e.call(this,void 0)||this}return o(t,e),t.prototype.setPassword=function(e){this.password=e},t}(l.BrowserEncryptor);t.Encryptor=d,t.emptyWalletMiddleware=function(){c.createWalletMiddleware({getAccounts:function(){return i(void 0,void 0,void 0,(function(){return a(this,(function(e){return[2,[]]}))}))}})}},47528:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.rnsService=t.sessionController=t.nftModule=t.tKeyModule=t.ledgerModule=t.archiveAccountModule=t.contactModule=t.privateKeyModule=t.trezorModule=t.userSettingModule=t.transactionTrackerModule=t.networkModule=t.encryptor=t.keychainModule=t.enableModules=t.tKeyModuleStore=t.privateKeyModuleStore=t.vaultStore=t.roninNetworks=t.devnet=t.testnet=t.mainnet=void 0;var s=n(29830),c=n(87707),u=n(22358),l=n(2153),d=n(19416),f=n(63690),h=n(25741),p=n(26496),v=n(65204),y=n(9634),g=a(n(21486)),m=a(n(77121)),w=a(n(41111)),b=n(66001),_=n(64963),E=n(15602),S=n(58426),A=a(n(63649)),T=n(40582),k=n(2776),P=n(7539),O=n(55214),x=n(86953),M=d.browser.storage.local;t.mainnet={id:f.NetworkId.MAIN_NET,name:"Ronin Network",chainId:2020,writeRpcUrl:"https://proxy.roninchain.com/free-gas-rpc",blockExplorerUrl:"https://app.roninchain.com",readRpcUrl:"https://api.roninchain.com/rpc",unit:"RON",metadata:{apiExplorerUrl:"https://explorerv3-api.roninchain.com"}},t.testnet={id:f.NetworkId.TEST_NET,name:"Saigon Testnet",chainId:2021,writeRpcUrl:"https://saigon-testnet.roninchain.com/free-gas-rpc",blockExplorerUrl:"https://saigon-app.roninchain.com",readRpcUrl:"https://saigon-testnet.roninchain.com/rpc",unit:"RON",metadata:{apiExplorerUrl:"https://testnet-explorer-api-v3.skymavis.one"}},t.devnet={id:f.NetworkId.DEV_NET,name:"HCM Devnet",chainId:2022,writeRpcUrl:"https://hcm-devnet.skymavis.one/rpc",blockExplorerUrl:"https://hcm-explorer.skymavis.one",readRpcUrl:"https://hcm-devnet.skymavis.one/rpc",unit:"RON",metadata:{apiExplorerUrl:"https://testnet-explorer-api-v3.skymavis.one"}},t.roninNetworks=[t.mainnet,t.testnet,t.devnet];var N=t.mainnet;t.vaultStore={get:function(){return o(void 0,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,M.get("encryptedVault")];case 1:return[2,e.sent().encryptedVault]}}))}))},set:function(e){return o(void 0,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,M.set({encryptedVault:e})];case 1:return t.sent(),[2,e]}}))}))}};var I={key:"userSettings",get:function(){return o(void 0,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return[4,M.get(I.key)];case 1:return(e=t.sent())[I.key]?[2,JSON.parse(e[I.key])]:[2]}}))}))},set:function(e){return o(void 0,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return[4,M.set((t={},t[I.key]=JSON.stringify(e),t))];case 1:return n.sent(),[2]}}))}))}},R=new u.UserSettingModule({currentFiatOption:"USD",selectedNetwork:t.mainnet.id},I);t.userSettingModule=R;var C=new p.Encryptor;t.encryptor=C;var D=new u.KeychainModule({encryptor:C,crypto:p.crypto,validateSeedphrase:l.validateMnemonic},t.vaultStore);t.keychainModule=D;var j=new u.NetworkModule({network:N,middlewares:[p.emptyWalletMiddleware]});t.networkModule=j;var L=O.rpcEngineProviderToLegacy(j.provider),U=new P.TransactionTrackerModule({network:N,provider:L});t.transactionTrackerModule=U;var K=new k.TrezorModule;t.trezorModule=K;var F=new S.LedgerModule;t.ledgerModule=F,t.privateKeyModuleStore=O.createModuleStore("privateKeyAccounts.v2");var B=new u.PrivateKeyModule({encryptor:C},{accounts:[]},t.privateKeyModuleStore);t.privateKeyModule=B;var z=x.composeWalletMiddleware(j,v.actionQueue,U);j.updateConfig({middlewares:[z]});var H=new E.ContactModule;t.contactModule=H;var W=new _.ArchiveAccountModule;t.archiveAccountModule=W;var G=new A.default;t.nftModule=G,t.tKeyModuleStore=O.createModuleStore("tKey");var V=new T.TKeyModule({encryptor:C},{accounts:[],advancedMode:!1},t.tKeyModuleStore);t.tKeyModule=V;var q=new s.SessionManager({storage:w.default}),$=new m.default(q);t.sessionController=$;var J=new g.default;t.rnsService=J,t.enableModules=function(){return o(void 0,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return j.subscribe((function(e){var t;b.store.getActions().network._setNetwork(e.activeNetwork);var n=O.rpcEngineProviderToLegacy(j.provider);U.updateConfig({network:e.activeNetwork,provider:n}),null===(t=b.store.getState().account.selectedAccount)||void 0===t||t.address})),U.on(y.TxEvent.TxCreated,(function(e){b.store.getActions().activities.addOrUpdateRecord(e)})),U.on(y.TxEvent.TxUpdated,(function(e){var t,n;if((null===(t=e.normalized)||void 0===t?void 0:t.status)===c.TransactionStatus.Dropped){var r=null===(n=b.store.getState().account.selectedAccount)||void 0===n?void 0:n.address;h.trackEvent(h.TrackingCategory.Transactions,h.TrackingActionType.Noop,"Tx Dropped",r)}b.store.getActions().activities.addOrUpdateRecord(e)})),U.on(y.TxEvent.TxRemoved,(function(e){b.store.getActions().activities.removeRecord(e)})),R.subscribe((function(e){var n=t.roninNetworks.find((function(t){return t.id===e.selectedNetwork}));n&&j.updateConfig({network:n})})),[4,R.enable()];case 1:return e.sent(),j.enable(),D.enable(),[4,K.enable()];case 2:return e.sent(),[4,K.migrateFromPreviousVersion()];case 3:return e.sent(),K.initTrezor(),U.enable(),B.enable(),H.enable(),[4,W.enable()];case 4:return e.sent(),[4,F.enable()];case 5:return e.sent(),[4,V.enable()];case 6:return e.sent(),[4,$.init()];case 7:return e.sent(),[2]}}))}))};var Q=function(e,n){switch(e){case"testnet":t.testnet=r({},n);break;case"devnet":t.devnet=r({},n);break;default:t.mainnet=r({},n)}};fetch(f.config.walletManagerV2Address+"/networks/ronin-mainnet-v2/config").then((function(e){return e.json().then((function(e){Q("mainnet",e),j.updateConfig({network:e}),R.updateConfig({selectedNetwork:e.id}),U.updateConfig({network:N,provider:L})}))})),fetch(f.config.walletManagerV2Address+"/networks/ronin-testnet/config").then((function(e){return e.json().then((function(e){Q("testnet",e)}))})),fetch(f.config.walletManagerV2Address+"/networks/ronin-devnet/config").then((function(e){return e.json().then((function(e){return Q("devnet",e)}))}))},65204:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.actionQueue=t.ActionQueue=t.ActionType=t.Event=void 0;var a,s,c=n(17187),u=n(18269),l=n(19416),d=n(7566);!function(e){e.ActionUpdate="action-update",e.ActionAdded="queue-added",e.ActionRemoved="queue-removed"}(a=t.Event||(t.Event={})),function(e){e.SignMessage="sign-message",e.SignTransaction="sign-transaction",e.ApproveContract="approve-contract",e.Enable="enable",e.SessionRequest="session-request"}(s=t.ActionType||(t.ActionType={}));var f=function(e){function t(){var t=e.call(this)||this;return t.actions=[],t.nextId=0,t.shouldOpenWindow=!1,t}return o(t,e),t.prototype.setShouldOpenWindow=function(e){this.shouldOpenWindow=e},t.prototype.add=function(e){var t=this.nextId;return this.actions.push(i(i({},e),{id:t,createdAt:Date.now()})),this.nextId++,this.emit(a.ActionAdded),this.shouldOpenWindow&&(navigator.userAgent.toLowerCase().includes("firefox")?l.browser.windows.create({url:"popup.html?"+(e.type===s.Enable?"unlockForActions=true":"closeOnComplete=true"),type:"detached_panel",width:376,height:600,top:0}):window.open("popup.html?"+(e.type===s.Enable?"unlockForActions=true":"closeOnComplete=true"),"Ronin","width=376,height=600,status=no,scrollbars=no,resizable=no,screenX="+(screen.width-376)+",screenY=0")),t},t.prototype.updateTxGas=function(e,t){var n=t.gas,r=t.gasPrice;if(!this.actions.length)throw new Error("No action found");var o=this.actions.findIndex((function(t){return t.id===e}));if(o<0)throw new Error("No action found");if(this.actions[o].type!==s.SignTransaction)throw new Error("Invalid action type");if(void 0===n&&void 0===r)return this.actions[o];if(void 0!==n&&!u.isHexStrict(n)||void 0!==r&&!u.isHexStrict(r))throw new Error("Invalid gas or gasPrice");return n&&(this.actions[o].data.data.gasLimit=n),r&&(this.actions[o].data.data.gasPrice=r),this.actions[o]},t.prototype.onActionUpdate=function(e){this.addListener(a.ActionUpdate,e)},t.prototype.removeActionUpdateListener=function(e){this.removeListener(a.ActionUpdate,e)},t.prototype.rejectAction=function(e){var t=this.actions.findIndex((function(t){return t.id===e}));void 0!==t&&(this.actions.splice(t,1),this.emit(a.ActionUpdate,{id:e,status:"reject"}))},t.prototype.approveAction=function(e,t){var n=this.actions.findIndex((function(t){return t.id===e}));void 0!==n&&(this.actions.splice(n,1),this.emit(a.ActionUpdate,{id:e,status:"approve",result:t}))},t.prototype.waitForApproval=function(e){var t=this;return new Promise((function(n,r){t.on(a.ActionUpdate,(function(t){var o=t.id,i=t.status,a=t.result;o===e&&("approve"===i?n(a):r(new Error(d.ProviderErrorMessage.USER_REJECTED_REQUEST)))}))}))},t}(c.EventEmitter);t.ActionQueue=f,t.actionQueue=new f},9634:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.getStore=t.storage=t.TxEvent=void 0;var i=n(87707),a=n(19416);t.TxEvent=i.TxEvent,t.storage={get:function(e){return r(void 0,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,a.browser.storage.local.get(e)];case 1:return[2,t.sent()[e.toString()]||[]]}}))}))},set:function(e,t){var n;return a.browser.storage.local.set(((n={})[e.toString()]=t,n))}},t.getStore=function(e){return new i.TransactionStore(e,"transactions.v1",t.storage)}},95690:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.unlockForActions=t.UnlockForActions=void 0;var a=i(n(17187)),s=n(66001),c=n(65204),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isUnlocking=!1,t.requestId=null,t}return o(t,e),t.prototype.unlock=function(){this.isUnlocking=!0,this.requestId=c.actionQueue.add({type:c.ActionType.Enable})},t.prototype.waitForUnlock=function(){var e=this;return new Promise((function(t){var n=s.store.getState().account,r=n.isUnlocked,o=n.selectedAccount;r?(e.isUnlocking=!1,t(null==o?void 0:o.address)):(e.unlock(),e.addListener("wallet-unlocked",(function(n){var r=n.selectedAccount;e.isUnlocking=!1,null!==e.requestId&&(0,s.store.getActions().currentAction.approveCurrent)(),e.removeAllListeners(),t(r)})))}))},t}(a.default);t.UnlockForActions=u,t.unlockForActions=new u},89877:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createRandomId=void 0;var n=Number.MAX_SAFE_INTEGER,r=Math.round(Math.random()*n);t.createRandomId=function(){return r%=n,r++}},77121:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0});var s=n(17491),c=n(29830),u=n(19416),l=n(65204),d=n(95690),f=n(66001),h=n(55214);t.default=function(e){var t=this;this.setupEventListeners=function(){var e=function(){f.store.getActions().session.setSessionsLastUpdatedTime(Date.now())},n=function(){e()};return t.manager.addListener(c.SessionManagerEvents.ADD_SESSION,n),t.manager.addListener(c.SessionManagerEvents.UPDATE_SESSION,(function(n){var r=n.sessionId,o=n.updatePayload;e();var i=t.manager.getSession(r);i&&(o.accounts&&h.notifyDapps(s.RONIN_EVENT.ACCOUNTS_CHANGED,{accounts:o.accounts},[i.getHostname()]),o.chainIds&&h.notifyDapps(s.RONIN_EVENT.CHAIN_ID_CHANGED,{chainId:o.chainIds[0]},[i.getHostname()]))})),t.manager.addListener(c.SessionManagerEvents.DELETE_SESSION,(function(t){e(),h.notifyDapps(s.RONIN_EVENT.ACCOUNTS_CHANGED,{accounts:[]},[t.getHostname()])})),t.manager.addListener(c.SessionManagerEvents.DELETE_ALL,(function(){e(),h.notifyDapps(s.RONIN_EVENT.ACCOUNTS_CHANGED,{accounts:[]})})),function(){t.manager.removeListener(c.SessionManagerEvents.ADD_SESSION,n),t.manager.removeListener(c.SessionManagerEvents.UPDATE_SESSION,n),t.manager.removeListener(c.SessionManagerEvents.DELETE_SESSION,n),t.manager.removeListener(c.SessionManagerEvents.DELETE_ALL,n)}},this.init=function(){return r(t,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,this.manager.init()];case 1:return e.sent(),this.setupEventListeners(),[2]}}))}))},this.getManager=function(){return t.manager},this.requestSessionApproval=function(e){return r(t,void 0,Promise,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return[4,d.unlockForActions.waitForUnlock()];case 1:return n.sent(),t=l.actionQueue.add({type:l.ActionType.SessionRequest,data:{peerMeta:e}}),[4,l.actionQueue.waitForApproval(t)];case 2:return[2,n.sent()]}}))}))},this.reset=function(){t.listenersUnsubscription&&t.listenersUnsubscription()},this.handleUnlockChanged=function(e){e?h.notifyUnlocked():h.notifyDapps(s.RONIN_EVENT.ACCOUNTS_CHANGED,{accounts:[]})},this.handleCurrentAccountChanged=function(e){return r(t,void 0,void 0,(function(){return o(this,(function(t){return[2,this.manager.handleCurrentAccountChanged(e)]}))}))},this.checkIfShouldRemindToConnect=function(e,n){return void 0===n&&(n=!0),r(t,void 0,void 0,(function(){var t,r;return o(this,(function(o){switch(o.label){case 0:return[4,this.getSessionOfCurrentTab()];case 1:return(t=o.sent())?((null===(r=t.ignoredAccounts)||void 0===r?void 0:r.includes(e))&&n||t.getAccounts().includes(e)||setTimeout((function(){f.store.getActions().route.replaceLocation("/session-reminder?shouldShowIgnore="+n)}),n?500:0),[2]):[2]}}))}))},this.getSessionOfCurrentTab=function(){return r(t,void 0,void 0,(function(){var e,t,n;return o(this,(function(r){switch(r.label){case 0:return[4,u.browser.tabs.query({active:!0,currentWindow:!0})];case 1:e=r.sent(),t="";try{t=e.length&&e[0].url?new URL(e[0].url).hostname:""}catch(e){}return[2,(null==(n=e.length&&e[0].url?this.manager.getSessionsByHostname(t):void 0)?void 0:n.length)?n[0]:void 0]}}))}))},this.stopRemindAccount=function(e){return r(t,void 0,void 0,(function(){var t,n;return o(this,(function(r){switch(r.label){case 0:return[4,this.getSessionOfCurrentTab()];case 1:return(t=r.sent())?t.getAccounts().includes(e)||(null===(n=t.ignoredAccounts)||void 0===n?void 0:n.includes(e))?[2]:[2,this.manager.updateSession(t.id,{ignoredAccounts:a(a([],i(t.ignoredAccounts||[])),[e])})]:[2]}}))}))},this.handleResetWallet=function(){return t.manager.deleteAllSessions()},this.manager=e}},41111:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(19416),a={getItem:function(e){return r(void 0,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,i.browser.storage.local.get(e)];case 1:return[2,t.sent()[e]]}}))}))},setItem:function(e,t){var n;return i.browser.storage.local.set(((n={})[e]=t,n))},removeItem:i.browser.storage.local.remove};t.default=a},66001:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.store=t.initial=void 0;var c=s(n(84596)),u=n(58051),l=n(84836),d=n(16954),f=n(21676),h=n(10614),p=n(5639),v=n(83740),y=n(10836),g=n(32330),m=n(14751),w=n(67873),b=n(89070),_=n(31527),E=n(1363),S=n(72340),A=n(38492);t.initial={route:{location:"/",replaceLocation:u.action((function(e,t){e.location=t})),history:[],pushHistory:u.action((function(e,t){Array.isArray(t)||(t=c.default(t));var n=a(a([],i(e.history)),i(t));e.history=n})),replaceLatestHistoryInstead:u.alias((function(e,t,n){var s=n.getStoreState;return r(void 0,void 0,void 0,(function(){var n,r,c,u;return o(this,(function(o){return n=(null!=t?t:{}).query,r=void 0===n?"":n,0===(c=s().route.history).length?[2,{latestLocation:""}]:(u=a([],i(c)).pop())?(e.replaceLocation(u+r),e.cleanUpAferReplaceLatestHistory(null),[2,{latestLocation:u}]):(console.error("Latest location not found."),[2,{latestLocation:""}])}))}))})),cleanUpAferReplaceLatestHistory:u.action((function(e,t){if(null==t?void 0:t.path.length){var n=a([],i(e.history)).filter((function(e){return e!==t.path}));e.history=n}else{var r=a([],i(e.history));r.pop(),e.history=r}}))},fullPageRoute:{location:"/",replaceLocation:u.action((function(e,t){e.location=t}))},network:_.initial,account:f.initial,contact:w.initial,currentAction:b.initial,autoLock:v.initial,axie:y.initial,activities:h.initial,settings:A.initial,balance:g.initialState,app:p.initial,session:S.initial,swapAspect:d.initialState,multicall:l.multicall,cache:m.cache,rns:E.rns},t.store=u.createStore(t.initial)},21676:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.initial=t.selectedAccountStore=t.nicknameStore=t.vaultStore=t.AccountType=void 0;var c,u=n(9105),l=n(67128),d=n(22358),f=n(2153),h=n(22751),p=n(58051),v=n(19416),y=n(88704),g=n(34280),m=n(26496),w=n(47528),b=n(95690),_=v.browser.storage.local;!function(e){e.Software="Software",e.PrivateKey="PrivateKey",e.Hardware="Hardware",e.TKey="TKey"}(c=t.AccountType||(t.AccountType={})),t.vaultStore={get:function(){return o(void 0,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,_.get("encryptedVault")];case 1:return[2,e.sent().encryptedVault]}}))}))},set:function(e){return o(void 0,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,_.set({encryptedVault:e})];case 1:return t.sent(),[2,e]}}))}))},clear:function(){return o(void 0,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,_.remove("encryptedVault")];case 1:return e.sent(),[2]}}))}))}},t.nicknameStore={get:function(){return o(void 0,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,_.get("nickname")];case 1:return[2,e.sent().nickname||{}]}}))}))},set:function(e){return o(void 0,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,_.set({nickname:e})];case 1:return t.sent(),[2,e]}}))}))}},t.selectedAccountStore={get:function(){return o(void 0,void 0,Promise,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,_.get("selectedAccount")];case 1:return[2,e.sent().selectedAccount]}}))}))},set:function(e){return o(void 0,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,_.set({selectedAccount:e})];case 1:return t.sent(),[2,e]}}))}))}},t.initial={retryTKey:p.alias((function(e,t){return w.tKeyModule.tKeyManager.retryKey(t,"What is the password?")})),createTKey:p.alias((function(e,t){return w.tKeyModule.tKeyManager.createKey(t.password,"What is the password?",t.passcode)})),saveTKeyPassword:p.alias((function(e,t){return w.tKeyModule.tKeyManager.savePassword(t.passcode,t.password,"What is the password?")})),getTKeyPrivateKey:p.alias((function(){return new Promise((function(e,t){return o(void 0,void 0,void 0,(function(){var n,r,o;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,w.tKeyModule.tKeyManager.getPrivateKey()];case 1:return n=null===(o=i.sent())||void 0===o?void 0:o.toString("hex"),e(n),[3,3];case 2:return r=i.sent(),t(r),[3,3];case 3:return[2]}}))}))}))})),getTKeyAdvancedMode:p.alias((function(){return new Promise((function(e,t){return o(void 0,void 0,void 0,(function(){var n,r;return i(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,w.tKeyModule.enable()];case 1:return o.sent(),n=w.tKeyModule.getState().advancedMode,e(n),[3,3];case 2:return r=o.sent(),t(r),[3,3];case 3:return[2]}}))}))}))})),setTKeyAdvancedMode:p.alias((function(e,t){return w.tKeyModule.updateAndPersist({advancedMode:t})})),getTKeyPasswordFromCache:p.alias((function(e,t){return w.tKeyModule.tKeyManager.getPasswordFromCache(t)})),getTorusShare:p.alias((function(e,t){return w.tKeyModule.tKeyManager.getTorusShare(t.idToken,t.verifierId,t.isRegister,t.data)})),parseSsoResult:p.alias((function(e,t){return w.tKeyModule.tKeyManager.parseResult(t)})),getKeyDetails:p.alias((function(){return new Promise((function(e,t){try{e(w.tKeyModule.tKeyManager.getTKey().getKeyDetails())}catch(e){t(e)}}))})),getDeviceShareDescription:p.alias((function(){return w.tKeyModule.tKeyManager.getDeviceShareDescription()})),deleteDeviceShareByIndex:p.alias((function(e,t){return w.tKeyModule.tKeyManager.deleteDeviceShareByIndex(t)})),unlockTKey:p.alias((function(e,t){return w.tKeyModule.unlock(t)})),getPasswordShareDescription:p.alias((function(){return w.tKeyModule.tKeyManager.getPasswordShareDescription()})),reconstructTKey:p.alias((function(e,t){return new Promise((function(e,n){return o(void 0,void 0,void 0,(function(){var r,o;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),r=void 0,t.passcode?[4,w.tKeyModule.tKeyManager.reconstructKey(t.passcode)]:[3,2];case 1:return r=i.sent(),[3,4];case 2:return[4,w.tKeyModule.tKeyManager._reconstructKey()];case 3:r=i.sent(),i.label=4;case 4:return e(r),[3,6];case 5:return o=i.sent(),n(o),[3,6];case 6:return[2]}}))}))}))})),changePasswordShare:p.alias((function(e,t){return w.tKeyModule.tKeyManager.changePasswordShare(t.password,"What is the password?",t.passcode)})),inputPasswordShare:p.alias((function(e,t){return w.tKeyModule.tKeyManager.inputPasswordShare(t,"What is the password?")})),getSsoUrl:p.alias((function(e,t){return new Promise((function(e,n){try{e(w.tKeyModule.tKeyManager.getSsoUrl(t.provider,t.providers,t.type,void 0,void 0,void 0,t.state))}catch(e){n(e)}}))})),setTKeyAccount:p.action((function(e,t){e.tKeyAccount=t})),tKeyAccount:void 0,isTKeyWallet:!1,setIsTKeyWallet:p.action((function(e,t){e.isTKeyWallet=t})),selectedAccount:void 0,setSelectedAccount:p.action((function(e,t){e.selectedAccount=t})),changeAccount:p.alias((function(e,n,r){var a=r.getStoreActions;return o(void 0,void 0,void 0,(function(){return i(this,(function(r){switch(r.label){case 0:return[4,t.selectedAccountStore.set(n)];case 1:return r.sent()?(e.setSelectedAccount(n),a().activities.setTxs({}),w.sessionController.handleCurrentAccountChanged(n.address),[2,!0]):[2,!1]}}))}))})),lockAccount:p.action((function(e,t){w.sessionController.handleUnlockChanged(!1)})),accounts:[],setAccounts:p.action((function(e,t){e.accounts=t;var n=t.find((function(t){var n;return t.address===(null===(n=e.selectedAccount)||void 0===n?void 0:n.address)}));n&&(e.selectedAccount=n)})),getArchivedAccounts:p.alias((function(e){return o(void 0,void 0,void 0,(function(){return i(this,(function(e){return[2,w.archiveAccountModule.getArchivedAccounts()]}))}))})),resetArchivedAccounts:p.alias((function(){return o(void 0,void 0,void 0,(function(){return i(this,(function(e){return w.archiveAccountModule.resetArchivedAccount(),[2]}))}))})),archiveAccount:p.alias((function(e,t){return o(void 0,void 0,void 0,(function(){return i(this,(function(e){return w.archiveAccountModule.archiveAccount(t),[2]}))}))})),unarchiveAccount:p.alias((function(e,t){return o(void 0,void 0,void 0,(function(){return i(this,(function(e){return w.archiveAccountModule.unarchiveAccount(t),[2]}))}))})),createTKeyWallet:p.alias((function(e,n){return o(void 0,void 0,void 0,(function(){var r;return i(this,(function(o){switch(o.label){case 0:return r=new y.BrowserEncryptor(n.passcode),[4,w.tKeyModule.updateConfig({encryptor:r})];case 1:return o.sent(),[4,w.tKeyModule.update({accounts:[],advancedMode:!1})];case 2:return o.sent(),[4,w.tKeyModule.importAccount(n.privateKey)];case 3:return o.sent(),[4,w.keychainModule.update({accounts:[]})];case 4:return o.sent(),[4,t.vaultStore.clear()];case 5:return o.sent(),[4,w.privateKeyModule.updateAndPersist({accounts:[]})];case 6:return o.sent(),e.setIsTKeyWallet(!0),[2]}}))}))})),createNewWallet:p.alias((function(e,n){return o(void 0,void 0,void 0,(function(){var r;return i(this,(function(o){switch(o.label){case 0:if(!f.validateMnemonic(n.seedPhrase))throw new Error("Invalid seed phrase.");return r=new y.BrowserEncryptor(n.password),[4,u.MnemonicVault.createMnemonicVault(n.seedPhrase,r,t.vaultStore,f.validateMnemonic)];case 1:return o.sent(),[4,w.privateKeyModule.updateAndPersist({accounts:[]})];case 2:return o.sent(),[4,w.tKeyModule.reset()];case 3:return o.sent(),e.setIsTKeyWallet(!1),[2]}}))}))})),isUnlocked:!1,setIsUnlocked:p.action((function(e,t){e.isUnlocked=t})),unlock:p.alias((function(e,n,r){return o(void 0,void 0,void 0,(function(){var o,a,s,c,d,h,p,v;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,12,,13]),b.unlockForActions.isUnlocking=!0,o=new y.BrowserEncryptor(n),r.getState().isTKeyWallet?[4,w.tKeyModule.unlock(n)]:[3,3];case 1:if(!i.sent())throw Error("Wrong passcode");return s=(a=e).setTKeyAccount,[4,w.tKeyModule.getTKeyAccount()];case 2:return s.apply(a,[i.sent()]),[3,9];case 3:c=new u.MnemonicVault({encryptor:o,store:t.vaultStore},f.validateMnemonic),i.label=4;case 4:return i.trys.push([4,6,,7]),[4,c.retrieveFromStore()];case 5:return i.sent(),[3,7];case 6:throw i.sent(),new Error("Wrong password");case 7:return w.keychainModule.updateConfig({encryptor:o}),[4,w.keychainModule.restoreKeychain()];case 8:i.sent(),i.label=9;case 9:return w.privateKeyModule.updateConfig({encryptor:o}),w.contactModule.updateConfig({encryptor:o}),[4,t.selectedAccountStore.get()];case 10:return d=i.sent(),[4,e.getAllAccounts()];case 11:return(h=i.sent())[0]&&(p=h.find((function(e){return e.address===(null==d?void 0:d.address)})),e.changeAccount(null!=p?p:h[0]),e.setIsUnlocked(!0),b.unlockForActions.isUnlocking&&b.unlockForActions.emit("wallet-unlocked",{selectedAccount:h[0].address})),w.sessionController.handleUnlockChanged(!0),w.rnsService.prefetchNames(h.map((function(e){return e.address}))),[3,13];case 12:if(v=i.sent(),console.error(v),v===l.TKeyResultCode.INVALID_DEVICE_SHARE)throw v;throw new Error("Wrong password");case 13:return[2]}}))}))})),lock:p.action((function(e){e.isUnlocked=!1,e.selectedAccount=void 0,e.accounts=[],e.tKeyAccount=void 0,w.keychainModule.keychain=void 0,w.keychainModule.updateConfig({encryptor:new m.Encryptor}),w.privateKeyModule.updateConfig({encryptor:new m.Encryptor}),w.tKeyModule.updateConfig({encryptor:new m.Encryptor}),w.contactModule.updateConfig({encryptor:new m.Encryptor})})),isWalletCreated:void 0,setIsWalletCreated:p.action((function(e,t){e.isWalletCreated=t})),checkIsWalletCreated:p.alias((function(e){return o(void 0,void 0,void 0,(function(){var n,r,o;return i(this,(function(i){switch(i.label){case 0:return[4,t.vaultStore.get()];case 1:return n=void 0!==i.sent(),[4,w.tKeyModuleStore.get()];case 2:return r=void 0!==i.sent(),o=n||r,e.setIsWalletCreated(o),e.setIsTKeyWallet(r),[2,o]}}))}))})),getSeedPhrase:p.alias((function(e,n){return o(void 0,void 0,void 0,(function(){var e,r,o,a;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),e=new y.BrowserEncryptor(n),r=new u.MnemonicVault({encryptor:e,store:t.vaultStore},f.validateMnemonic),[4,(o=new u.Keychain(r,g.crypto)).getAccounts()];case 1:return i.sent()[0]?[2,null===(a=o.vault.getVault())||void 0===a?void 0:a.mnemonic]:[3,3];case 2:throw i.sent(),new Error("Wrong password");case 3:return[2]}}))}))})),getPrivateKey:p.alias((function(e,n){return o(void 0,void 0,void 0,(function(){var e,r,o;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),e=new y.BrowserEncryptor(n),r=new u.MnemonicVault({encryptor:e,store:t.vaultStore},f.validateMnemonic),[4,new u.Keychain(r,g.crypto).getAccounts()];case 1:return(o=i.sent())[0]?[2,o[0].privateKey]:[3,3];case 2:throw i.sent(),new Error("Wrong password");case 3:return[2]}}))}))})),getPrivateKeyForAccount:p.alias((function(e,n){var r=n.password,a=n.address;return o(void 0,void 0,void 0,(function(){var e,n,o,s,c;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),e=new y.BrowserEncryptor(r),w.tKeyModule.getState().accounts.find((function(e){return e.address===a}))?[2,w.tKeyModule.getPrivateKeyBy(a,e)]:w.privateKeyModule.getState().accounts.find((function(e){return e.address===a}))?[4,new d.PrivateKeyModule({encryptor:e},{accounts:[]},w.privateKeyModuleStore).enable()]:[3,2];case 1:return i.sent(),[2,w.privateKeyModule.getPrivateKeyFor(a)];case 2:return n=new u.MnemonicVault({encryptor:e,store:t.vaultStore},f.validateMnemonic),[4,(o=new u.Keychain(n,g.crypto)).getAccounts()];case 3:return i.sent(),[4,o.getAccountByAddress(a)];case 4:if(null!==(s=i.sent()))return[2,s.privateKey];throw new Error("Cannot find account");case 5:throw c=i.sent(),console.error(c),new Error("Wrong password");case 6:return[2]}}))}))})),getAllAccounts:p.alias((function(e){return o(void 0,void 0,void 0,(function(){var n,r,o,u,l,d,f,h,p,v,y,g,m;return i(this,(function(i){switch(i.label){case 0:return[4,t.nicknameStore.get()];case 1:return n=i.sent(),r=a([w.keychainModule.getState().accounts.map((function(e){return e.address})),w.tKeyModule.getState().accounts.map((function(e){return e.address})),w.privateKeyModule.getState().accounts.map((function(e){return e.address})),w.trezorModule.getState().addresses,w.ledgerModule.getState().addresses.map((function(e){return e.address}))],5),o=r[0],u=r[1],l=r[2],d=r[3],f=r[4],h=o.map((function(e,t){return{address:e,type:c.Software,name:n[e]||"Account #"+(t+1),index:t}})),p=u.map((function(e,t){return{address:e,type:c.TKey,name:n[e]||"Account #"+(t+1),index:t}})),v=l.map((function(e,t){return{address:e,type:c.PrivateKey,name:n[e]||"Private Key #"+(t+1),index:t}})),y=d.map((function(e,t){return{address:e,type:c.Hardware,name:n[e]||"Trezor #"+(t+1),index:t}})),g=f.map((function(e,t){return{address:e,type:c.Hardware,name:n[e]||"Ledger #"+(t+1),index:t}})),m=s(s(s(s(s([],a(h)),a(p)),a(v)),a(y)),a(g)),e.setAccounts(m),[2,m]}}))}))})),latestAccount:void 0,setLatestAccount:p.action((function(e,t){e.latestAccount=t})),createAccountFromSeed:p.alias((function(e,t){var n=t.nickname;return o(void 0,void 0,void 0,(function(){var t,r,o;return i(this,(function(i){switch(i.label){case 0:return[4,w.keychainModule.createNewAccount()];case 1:return t=i.sent(),n?[4,e.setAccountNickname({address:t,nickname:n})]:[3,3];case 2:i.sent(),i.label=3;case 3:return[4,e.getAllAccounts()];case 4:if(r=i.sent(),o=r.find((function(e){return e.address===t})))return[2,o];throw new Error("Can not get account information")}}))}))})),setAccountNickname:p.alias((function(e,n){var a=n.address,s=n.nickname;return o(void 0,void 0,void 0,(function(){var e,n,o;return i(this,(function(i){switch(i.label){case 0:return[4,t.nicknameStore.get()];case 1:return e=i.sent(),n=r(r({},e),((o={})[a]=s,o)),[4,t.nicknameStore.set(n)];case 2:return i.sent(),[2]}}))}))})),trezorAccounts:[],setTrezorAccounts:p.action((function(e,t){e.trezorAccounts=t})),getTrezorAccounts:p.alias((function(e){return o(void 0,void 0,void 0,(function(){var t;return i(this,(function(n){return t=w.trezorModule.getState().addresses,e.setTrezorAccounts(t),[2,!0]}))}))})),exploreTrezorAccounts:p.alias((function(e,t){var n=t.from,r=t.to;return o(void 0,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,w.trezorModule.getAccountsFromDevice(n,r)];case 1:return[2,e.sent()]}}))}))})),createNewTrezorAccount:p.alias((function(e,t){return o(void 0,void 0,void 0,(function(){var n,r;return i(this,(function(o){switch(o.label){case 0:return[4,w.trezorModule.saveNewAccount(t)];case 1:return o.sent(),[4,e.getAllAccounts()];case 2:return n=o.sent(),(r=n.find((function(e){return e.address===t})))?[4,e.changeAccount(r)]:[3,4];case 3:o.sent(),o.label=4;case 4:return[2]}}))}))})),removeTrezorAccount:p.alias((function(e,t){return o(void 0,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return w.trezorModule.removeAccount(t),[4,e.getAllAccounts()];case 1:return(n=r.sent())[0]?[4,e.changeAccount(n[0])]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))})),removeHadrwareAccount:p.alias((function(e,t){return o(void 0,void 0,void 0,(function(){var n,r,o,a;return i(this,(function(i){return n=w.trezorModule.getAccounts(),r=w.ledgerModule.getState().addresses.map((function(e){return e.address})),o=n.includes(t),a=r.includes(t),o?[2,e.removeTrezorAccount(t)]:a?[2,e.removeLedgerAccount(t)]:[2]}))}))})),removeAllHardwareAccount:p.alias((function(e){return o(void 0,void 0,void 0,(function(){var t,n,r,o,a;return i(this,(function(i){for(t=w.trezorModule.getAccounts(),n=w.ledgerModule.getState().addresses.map((function(e){return e.address})),r=e.removeLedgerAccount,o=e.removeTrezorAccount,a=0;a<t.length;a++)o(t[a]);for(a=0;a<n.length;a++)r(n[a]);return[2]}))}))})),createNewLedgerAccount:p.alias((function(e,t){return o(void 0,void 0,void 0,(function(){var n,r;return i(this,(function(o){switch(o.label){case 0:return[4,w.ledgerModule.saveNewAccount(t)];case 1:return o.sent(),[4,e.getAllAccounts()];case 2:return n=o.sent(),(r=n.find((function(e){return e.address===t.address})))?[4,e.changeAccount(r)]:[3,4];case 3:o.sent(),o.label=4;case 4:return[2]}}))}))})),removeLedgerAccount:p.alias((function(e,t){return o(void 0,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return w.ledgerModule.removeAccount(t),[4,e.getAllAccounts()];case 1:return(n=r.sent())[0]?[4,e.changeAccount(n[0])]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))})),tryConnectLedgerModule:p.alias((function(){return o(void 0,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),[4,w.ledgerModule.connect(!1)];case 1:return e.sent(),[4,w.ledgerModule.closeConnection()];case 2:return e.sent(),[2,!0];case 3:return e.sent(),[2,!1];case 4:return[2]}}))}))})),findLedgerAddress:p.alias((function(e,t){return o(void 0,void 0,void 0,(function(){return i(this,(function(e){return[2,w.ledgerModule.getState().addresses.find((function(e){return e.address===t}))]}))}))})),importPrivateKeyAccount:p.alias((function(e,t){return o(void 0,void 0,void 0,(function(){var n,r,o,a,s,c;return i(this,(function(i){switch(i.label){case 0:return[4,e.getAllAccounts()];case 1:if(n=i.sent(),r=n.map((function(e){return e.address})),o=h.bufferToHex(h.privateToAddress(h.toBuffer(t))),r.includes(o))throw new Error("Account existed");return[4,w.privateKeyModule.importAccount(t)];case 2:return a=i.sent(),[4,e.getAllAccounts()];case 3:return s=i.sent(),(c=s.find((function(e){return e.address===a.address})))?[4,e.changeAccount(c)]:[3,5];case 4:i.sent(),i.label=5;case 5:return[2]}}))}))})),removePrivateKeyAccount:p.alias((function(e,t){return o(void 0,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return[4,w.privateKeyModule.removeAccount(t)];case 1:return r.sent(),[4,e.getAllAccounts()];case 2:return(n=r.sent())[0]?[4,e.changeAccount(n[0])]:[3,4];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))})),freeTransactionCount:0,setFreeTransactionCount:p.action((function(e,t){e.freeTransactionCount=t}))}},10614:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.initial=void 0;var c,u=n(87707),l=n(58051),d=n(47528),f=n(7539),h=0;t.initial={selectedNetwork:void 0,setSelectedNetwork:l.action((function(e,t){e.selectedNetwork=t,c=void 0,h=0})),txs:{},setTxs:l.action((function(e,t){e.txs=r({},t),Object.values(t).length||(c=void 0)})),removeRecord:l.thunk((function(e,t,n){var o=n.getState,i=(0,n.getStoreState)().network.selectedConfig.chainId;if(t.chainId===i){var a=o().txs,s=!1;Object.keys(a).forEach((function(e){var n=a[e];if(null==n?void 0:n.data){var r=n.data.findIndex((function(e){return u.compareTxData(t,e)}));r>-1&&(n.data.splice(r,1),s=!0)}})),s&&e.setTxs(r({},a))}})),addOrUpdateRecord:l.thunk((function(e,t,n){var o,i=n.getState,a=n.getStoreState,s=a().network.selectedConfig.chainId,l=null===(o=a().account.selectedAccount)||void 0===o?void 0:o.address,d=r({},i().txs);if(!Object.keys(d).length){if(t.chainId!==s||t.origin.from!==l)return;return d[null!=l?l:""]={data:[t],total:1},void e.setTxs(d)}Object.keys(d).forEach((function(e){var n,r,o,a,f=null!==(n=d[e])&&void 0!==n?n:{results:[],total:0},h=f.data.findIndex((function(e){return u.compareTxData(t,e)}));h>-1?((null===(r=f.data[h].normalized)||void 0===r?void 0:r.status)!==(null===(o=t.normalized)||void 0===o?void 0:o.status)&&(null===(a=t.normalized)||void 0===a?void 0:a.status)===u.TransactionStatus.Success&&(i().lastTimeNeedBalanceRefresh=Date.now()),f.data.splice(h,1,t),null==c||c.updateData(t)):t.chainId===s&&t.origin.from===l&&(f.data.unshift(t),f.total=f.total+1)})),e.setTxs(d)})),lastTimeNeedBalanceRefresh:0,initialPage:l.alias((function(e,t,n){var a=n.getState;return new Promise((function(n){return o(void 0,void 0,void 0,(function(){var o,s,l,p,v,y;return i(this,(function(i){switch(i.label){case 0:return f.txStore.updateConfig(t.accountAddress),h=0,o=null!==(p=t.tokenAddress)&&void 0!==p?p:t.accountAddress,c?null==c||c.updateOptions({pageSize:20,accountAddress:t.accountAddress,tokenAddress:t.tokenAddress},null!==(v=t.toTop)&&void 0!==v&&v,null!==(y=t.refresh)&&void 0!==y&&y):c=new u.WorkaroundTxsLoader(d.transactionTrackerModule._txHistory,{pageSize:20,accountAddress:t.accountAddress,tokenAddress:t.tokenAddress}),[4,c.loadNextPage()];case 1:return s=i.sent(),(l=t.refresh?{}:r({},a().txs))[o]=s,e.setTxs(l),n(s.data),[2]}}))}))}))})),nextPage:l.alias((function(e,t,n){var u=n.getState;return new Promise((function(n){return o(void 0,void 0,void 0,(function(){var o,l,d,f,p,v;return i(this,(function(i){switch(i.label){case 0:return o=null!==(f=t.tokenAddress)&&void 0!==f?f:t.accountAddress,(null==c?void 0:c.isEnd())||h>10?(n([]),[2]):[4,null==c?void 0:c.loadNextPage()];case 1:return(null==(l=i.sent())?void 0:l.data.length)?((d=r({},u().txs))[o]={data:s(s([],a(null!==(v=null===(p=d[o])||void 0===p?void 0:p.data)&&void 0!==v?v:[])),a(l.data)),total:l.total},e.setTxs(d),n(l.data),[2]):(h++,n([]),[2])}}))}))}))})),isEnd:l.alias((function(){return new Promise((function(e){e((null==c?void 0:c.isEnd())||h>10)}))}))}},5639:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initial=void 0;var r=n(58051);t.initial={isShowManyDeviceWarning:!1,setShowManyDeviceWarning:r.action((function(e,t){e.isShowManyDeviceWarning=t})),isShowLogo:!0,setShowLogo:r.action((function(e,t){e.isShowLogo=t})),isAppLoading:!1,setIsAppLoading:r.action((function(e,t){e.isAppLoading=t})),toast:null,setToast:r.action((function(e,t){e.toast=t}))}},83740:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.initial=t.getInitLockSetting=t.defaultLockSetting=t.storageLockSettingKey=void 0;var o=n(58051),i=n(73388),a=n(25741),s=n(66001);t.storageLockSettingKey="lockSetting",t.defaultLockSetting={time:i.LockTime.ThirtyMinutes},t.getInitLockSetting=function(){var e=r(r({},t.defaultLockSetting),{ready:!0}),n=localStorage.getItem(t.storageLockSettingKey);try{n&&(e=JSON.parse(n))}catch(e){console.error(e)}return e};var c=function(e){if(0===e)return null;try{var t=Date.now()+1e3*e,n=setInterval((function(){var e,r,o;try{if(t-Date.now()<=1e3){r=s.store.getActions().account.lock,o=s.store.getActions().account.lockAccount,r(),o();var i=null===(e=s.store.getState().account.selectedAccount)||void 0===e?void 0:e.address;a.trackEvent(a.TrackingCategory.Wallet,a.TrackingActionType.Noop,"Auto Lock",i).then((function(){a.stopTrackingSession()})),clearInterval(n)}}catch(e){console.error("timeoutClock error",e),clearInterval(n)}}));return n}catch(e){return console.error("Create timeoutClock error",e),null}},u=t.getInitLockSetting();t.initial={lockSetting:u,lockTimeout:c(u.time),setLockSetting:o.action((function(e,t){e.lockSetting=t})),resetLockAlarm:o.action((function(e,t){e.lockTimeout&&clearInterval(e.lockTimeout),e.lockTimeout=c(t.time)})),onSetLockSetting:o.thunkOn((function(e,t){return[t.autoLock.setLockSetting]}),(function(e,t){var n=t.payload;e.resetLockAlarm(n)}))}},10836:function(e,t,n){"use strict";var r,o,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.initial=t.OriginDomains=t.CharmRuneRarity=t.CharmRuneCategory=void 0;var s,c,u=n(58051),l=n(63690);(t.CharmRuneCategory||(t.CharmRuneCategory={})).Special="Special",(c=t.CharmRuneRarity||(t.CharmRuneRarity={})).Mystic="Mystic",c.Epic="Epic",c.Rare="Rare",c.Common="Common",function(e){e["ronin-mainnet-v2"]="https://game-api-origin.skymavis.com/v2",e["ronin-testnet"]="https://game-api-origin.skymavis.com/v2",e["ronin-devnet"]="https://game-api-origin.skymavis.com/v2"}(s=t.OriginDomains||(t.OriginDomains={})),t.initial={runes:(r={},r[l.NetworkId.MAIN_NET]=[],r[l.NetworkId.TEST_NET]=[],r[l.NetworkId.DEV_NET]=[],r),getRunes:u.alias((function(e){return i(void 0,void 0,void 0,(function(){var t,n,r,o,i;return a(this,(function(a){switch(a.label){case 0:return a.trys.push([0,7,,8]),t=[],[4,fetch(s["ronin-mainnet-v2"]+"/runes")];case 1:return[4,a.sent().json().then((function(e){t=e._items.filter((function(e){return!!e.item.tokenId}))})).catch(console.error)];case 2:return a.sent(),n=[],[4,fetch(s["ronin-testnet"]+"/runes")];case 3:return[4,a.sent().json().then((function(e){n=e._items.filter((function(e){return!!e.item.tokenId}))})).catch(console.error)];case 4:return a.sent(),r=[],[4,fetch(s["ronin-testnet"]+"/runes")];case 5:return[4,a.sent().json().then((function(e){r=e._items.filter((function(e){return!!e.item.tokenId}))})).catch(console.error)];case 6:return a.sent(),e.setRunes(((i={})[l.NetworkId.MAIN_NET]=t,i[l.NetworkId.TEST_NET]=n,i[l.NetworkId.DEV_NET]=r,i)),[3,8];case 7:return o=a.sent(),console.error(o),[3,8];case 8:return[2]}}))}))})),setRunes:u.action((function(e,t){e.runes=t})),charms:(o={},o[l.NetworkId.MAIN_NET]=[],o[l.NetworkId.TEST_NET]=[],o[l.NetworkId.DEV_NET]=[],o),getCharms:u.alias((function(e){return i(void 0,void 0,void 0,(function(){var t,n,r,o,i;return a(this,(function(a){switch(a.label){case 0:return a.trys.push([0,7,,8]),t=[],[4,fetch(s["ronin-mainnet-v2"]+"/charms")];case 1:return[4,a.sent().json().then((function(e){t=e._items.filter((function(e){return!!e.item.tokenId}))})).catch(console.error)];case 2:return a.sent(),n=[],[4,fetch(s["ronin-testnet"]+"/charms")];case 3:return[4,a.sent().json().then((function(e){n=e._items.filter((function(e){return!!e.item.tokenId}))})).catch(console.error)];case 4:return a.sent(),r=[],[4,fetch(s["ronin-testnet"]+"/charms")];case 5:return[4,a.sent().json().then((function(e){r=e._items.filter((function(e){return!!e.item.tokenId}))})).catch(console.error)];case 6:return a.sent(),e.setCharms(((i={})[l.NetworkId.MAIN_NET]=t,i[l.NetworkId.TEST_NET]=n,i[l.NetworkId.DEV_NET]=r,i)),[3,8];case 7:return o=a.sent(),console.error(o),[3,8];case 8:return[2]}}))}))})),setCharms:u.action((function(e,t){e.charms=t}))}},32330:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=void 0;var a=n(58051);t.initialState={flushBalanceStore:a.thunk((function(e){return o(void 0,void 0,void 0,(function(){return i(this,(function(t){return e.setTotalBalance({fiat:"0",ron:"0"}),e.setNativeTokenBalance(null),e.setFunds(null),e.setErc721Collectibles(null),e.setErc1155Collectibles(null),e.setIsLoading(!1),[2]}))}))})),isLoading:!1,setIsLoading:a.action((function(e,t){e.isLoading=t})),isLoadingNativeBalance:!1,setIsLoadingNativeBalance:a.action((function(e,t){e.isLoadingNativeBalance=t})),nativeTokenBalance:null,setNativeTokenBalance:a.action((function(e,t){e.nativeTokenBalance=t})),isLoadingTotalBalance:!0,setIsLoadingTotalBalance:a.action((function(e,t){e.isLoadingTotalBalance=t})),totalBalance:{fiat:"0",ron:"0"},setTotalBalance:a.action((function(e,t){e.totalBalance=r(r({},e.totalBalance),t)})),isLoadingFunds:!1,setIsLoadingFunds:a.action((function(e,t){e.isLoadingFunds=t})),funds:null,setFunds:a.action((function(e,t){e.funds=t})),isLoadingCollectibles:!1,setIsLoadingCollectibles:a.action((function(e,t){e.isLoadingCollectibles=t})),erc721Collectibles:null,setErc721Collectibles:a.action((function(e,t){e.erc721Collectibles=t})),erc1155Collectibles:null,setErc1155Collectibles:a.action((function(e,t){e.erc1155Collectibles=t}))}},14751:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.cache=void 0;var c=n(96486),u=n(58051);t.cache={rns:{},addOrUpdateRnsNames:u.action((function(e,t){var n,o=t.address,i=t.namesOrPrimaryName,u=!c.isArray(),l=e.rns[o]?r(r({},e.rns[o]),{updatedAt:Date.now()}):{primaryName:null,allNames:[],updatedAt:Date.now()};if(e.rns[o]||100===Object.keys(e.rns).length&&delete e.rns[Object.keys(e.rns)[0]],u){var d=i;l.primaryName=d,d&&!l.allNames.includes(d)&&(l.allNames=s([d],a(l.allNames)))}else i.forEach((function(e){l.allNames.includes(e)||l.allNames.push(e)}));e.rns=r(r({},e.rns),((n={})[o]=l,n))})),addOrUpdateRnsNamesAsync:u.alias((function(e,t){return new Promise((function(n){e.addOrUpdateRnsNames(t),n()}))})),deleteRnsEntity:u.action((function(e,t){delete e.rns[t]})),resetRnsCache:u.action((function(e){e.rns={}})),onNetworkChange:u.thunkOn((function(e,t){return[t.network.changeNetwork]}),(function(e){return o(void 0,void 0,void 0,(function(){return i(this,(function(t){return e.resetRnsCache(),[2]}))}))}))}},67873:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.initial=void 0;var i=n(36124),a=n(58051),s=n(47528);t.initial={contacts:[],setContacts:a.action((function(e,t){e.contacts=t})),getAccountAddress:a.alias((function(e,t,n){var r,o,i=(0,n.getStoreState)().account.isTKeyWallet?null===(r=s.tKeyModule.getState().accounts[0])||void 0===r?void 0:r.address:null===(o=s.keychainModule.getState().accounts[0])||void 0===o?void 0:o.address;if(void 0===i)throw new Error("first account address is not found");return i})),generateEncryptionKey:a.alias((function(e,t,n){var a=n.getStoreState;return r(void 0,void 0,void 0,(function(){var t,n,r;return o(this,(function(o){switch(o.label){case 0:return t=e.getAccountAddress(),a().account.isTKeyWallet?[4,s.tKeyModule.getPrivateKeyFor(t)]:[3,2];case 1:return r=o.sent(),[3,4];case 2:return[4,s.keychainModule.getPrivateKeyFor(t)];case 3:r=o.sent(),o.label=4;case 4:return n=r,[2,i.cipher.keygen(n,t)]}}))}))})),encryptString:a.alias((function(e,t){return r(void 0,void 0,void 0,(function(){var e,n;return o(this,(function(r){switch(r.label){case 0:return[4,s.contactModule.manager.getCipherKey()];case 1:return e=r.sent(),[4,s.contactModule.manager.getCipherIV()];case 2:return n=r.sent(),[2,i.cipher.encrypt(t,e,n)]}}))}))})),isAuthenticated:a.alias((function(e,t){return s.contactModule.manager.isAuthenticated(t)})),auth:a.alias((function(e){return r(void 0,void 0,void 0,(function(){var t,n;return o(this,(function(r){switch(r.label){case 0:return t=e.getAccountAddress(),[4,e.generateEncryptionKey()];case 1:return n=r.sent(),[2,s.contactModule.manager.auth(t,n)]}}))}))})),getContacts:a.alias((function(e){return r(void 0,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return[4,s.contactModule.manager.getContacts()];case 1:return t=n.sent(),e.setContacts(t),[2,t]}}))}))})),getContact:a.alias((function(e,t){return s.contactModule.manager.getContact(t)})),addContact:a.alias((function(e,t){return s.contactModule.manager.addContact(t)})),updateContact:a.alias((function(e,t){return s.contactModule.manager.updateContact(t)})),deleteContact:a.alias((function(e,t){return s.contactModule.manager.deleteContact(t)})),resetContact:a.alias((function(){return s.contactModule.manager.reset()}))}},89070:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.initial=t.setBadge=void 0;var o=n(58051),i=n(19416),a=n(65204);t.setBadge=function(e){i.browser.browserAction.setBadgeBackgroundColor({color:"#ff0000"}),i.browser.browserAction.setBadgeText({text:e})},t.initial={current:void 0,setCurrent:o.action((function(e,n){e.current=n,e.queueCount=a.actionQueue.actions.length,t.setBadge(e.queueCount>0?e.queueCount.toString():"")})),updateCurrentGas:o.action((function(e,t){var n,o=t.gas,i=t.gasPrice;if(null===(n=e.current)||void 0===n?void 0:n.data){var s=a.actionQueue.updateTxGas(e.current.id,{gas:o,gasPrice:i});e.current=r({},s)}})),queueCount:0,approveCurrent:o.action((function(e,n){void 0!==e.current&&(a.actionQueue.approveAction(e.current.id,n),e.current=a.actionQueue.actions[0],e.queueCount=a.actionQueue.actions.length,t.setBadge(e.queueCount>0?e.queueCount.toString():""))})),rejectCurrent:o.action((function(e){void 0!==e.current&&(a.actionQueue.rejectAction(e.current.id),e.current=a.actionQueue.actions[0],e.queueCount=a.actionQueue.actions.length,t.setBadge(e.queueCount>0?e.queueCount.toString():""))}))}},32248:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OFFICIAL_DAPPS=void 0,t.OFFICIAL_DAPPS=[{id:"scatter",title:"Scatter",urls:[{id:"production",url:"https://scatter.roninchain.com"},{id:"staging",url:"https://scatter.roninchain.com"}],description:"Scatter",icon:"Scatter",injection:{},whitelist:["https://scatter.roninchain.com"],platforms:["android","ios"],network_id:"ronin-mainnet-v2",metadata:{default_hidden:!0,domainLevel:0,filter_versions_ios:">= 1.13.0",visible:!1},created_at:"2023-06-23T13:57:14.64015Z",updated_at:"2023-06-23T13:57:14.64015Z"},{id:"multisig",title:"Multisig",urls:[{id:"production",url:"https://multisig.roninchain.com"},{id:"staging",url:"https://multisig.roninchain.com"}],description:"Ronin Safe is the most trusted platform to manage digital assets",icon:"Multisig",injection:{},whitelist:["https://multisig.roninchain.com"],platforms:["android","ios"],network_id:"ronin-mainnet-v2",metadata:{default_hidden:!0,domainLevel:0,filter_versions_ios:">= 1.13.0",visible:!1},created_at:"2023-06-23T13:57:47.493735Z",updated_at:"2023-06-23T13:57:47.493735Z"},{id:"mavis-marketplace",title:"Mavis Marketplace",urls:[{id:"production",url:"https://marketplace.skymavis.com"},{id:"staging",url:"https://marketplace.skymavis.com"}],description:"Sell your game items to anyone, anywhere",icon:"Marketplace",injection:{},whitelist:["https://marketplace.skymavis.com"],platforms:["android","ios"],network_id:"ronin-mainnet-v2",metadata:{default_hidden:!0,domainLevel:0,filter_versions_ios:">= 1.13.0",visible:!1},created_at:"2023-06-23T13:39:20.603794Z",updated_at:"2023-06-23T13:39:20.603794Z"},{id:"sm-account-service",title:"SkyMavis Account Service",urls:[{id:"production",url:"https://accounts.skymavis.com"},{id:"staging",url:"https://accounts.skymavis.one"}],description:"Sell your game items to anyone, anywhere",injection:{},whitelist:["https://accounts.skymavis.com","https://accounts.skymavis.one"],platforms:["android","ios"],network_id:"ronin-mainnet-v2",metadata:{default_hidden:!0,domainLevel:0,filter_versions_ios:">= 1.13.0",visible:!1},created_at:"2023-06-23T13:50:10.577847Z",updated_at:"2023-06-23T13:50:10.577847Z"},{id:"validator.roninchain.com",title:"domain",urls:[{id:"production",url:"https://validator.roninchain.com"},{id:"staging",url:"https://validator.roninchain.com"}],injection:{},network_id:"ronin-mainnet-v2",metadata:{default_hidden:!0,domainLevel:0,filter_versions_ios:">= 1.13.0",visible:!1},created_at:"2023-06-23T17:44:25.35037Z",updated_at:"2023-06-23T17:44:25.35037Z"},{id:"marketplace",title:"App.Axie",urls:[{id:"production",url:"https://app.axieinfinity.com/login"},{id:"staging",url:"https://app-uat.skymavis.one/login"}],description:"Sell your game items to anyone, anywhere",icon:"Marketplace",isDark:!0,injection:{},whitelist:["https://authz.skymavis.one","https://app.axieinfinity.com","https://app.skymavis.one","https://app-uat.skymavis.one","https://challenges.cloudflare.com","https://cdn.axieinfinity.com"],platforms:["android","ios"],useInfura:!1,useMetamaskProvider:!1,network_id:"ronin-mainnet-v2",metadata:{domainLevel:0,filter_versions_ios:"!=1.12.0",visible:!0},created_at:"2023-04-27T04:36:07.582159Z",updated_at:"2023-06-02T10:18:05.465009Z"},{id:"ron-staking",title:"RON Staking",urls:[{id:"staging",url:"https://app.roninchain.com/staking"},{id:"production",url:"https://app.roninchain.com/staking"}],description:"Earn RON and protect the network",icon:"https://cdn.axieinfinity.com/ronin-wallet/assets/ron-staking.png",isDark:!0,injection:{},whitelist:["https://ronin-app.skymavis.one","https://app.roninchain.com","https://authenticate.axieinfinity.services","https://login.okta.com","https://skymavis.okta.com","https://authenticate.skymavis.one","https://authenticate.skymavis.com","https://challenges.cloudflare.com"],platforms:["android","ios"],useInfura:!1,useMetamaskProvider:!1,network_id:"ronin-mainnet-v2",metadata:{domainLevel:0,filter_versions_ios:"!=1.12.0",visible:!0},created_at:"2023-04-27T04:36:07.582159Z",updated_at:"2023-06-02T10:15:39.090769Z"},{id:"staking",title:"AXS Staking",urls:[{id:"production",url:"https://stake.axieinfinity.com"},{id:"staging",url:"https://staking.skymavis.one"}],description:"Lock up AXS token and earn rewards",icon:"Staking",isDark:!1,injection:{},whitelist:["https://explorer.roninchain.com"],platforms:["android","ios"],useInfura:!1,useMetamaskProvider:!1,network_id:"ronin-mainnet-v2",metadata:{domainLevel:0,filter_versions_ios:"!=1.12.0",visible:!0},created_at:"2023-04-27T04:36:07.582159Z",updated_at:"2023-06-17T07:36:53.985035Z"},{id:"katana",title:"Katana",urls:[{id:"production",url:"https://katana.roninchain.com"},{id:"staging",url:"https://katana.skymavis.one"}],description:"Swap tokens within the Ronin ecosystem",icon:"Katana",isDark:!1,injection:{},platforms:["android","ios"],useInfura:!1,useMetamaskProvider:!1,network_id:"ronin-mainnet-v2",metadata:{domainLevel:0,filter_versions_ios:"!=1.12.0",visible:!0},created_at:"2023-04-27T04:36:07.582159Z",updated_at:"2023-06-02T10:14:03.294431Z"},{id:"bridge",title:"Ronin Bridge",urls:[{id:"production",url:"https://bridge.roninchain.com"},{id:"staging",url:"https://bridge.skymavis.one"}],description:"Move assets between Ronin and Ethereum",icon:"Bridge",isDark:!1,injection:{},platforms:["android","ios"],useInfura:!0,useMetamaskProvider:!0,network_id:"ronin-mainnet-v2",metadata:{default_hidden:!0,domainLevel:0,filter_versions_ios:">= 1.13.0",visible:!1},created_at:"2023-04-27T04:36:07.582159Z",updated_at:"2023-06-23T15:09:21.99359Z"},{id:"purchase",title:"Purchase",urls:[{id:"production",url:"https://purchase.roninchain.com"},{id:"staging",url:"https://purchase.roninchain.com"}],description:"Purchase crypto on Ronin with fiat",icon:"Purchase",isDark:!1,injection:{},whitelist:["https://buy.ramp.network"],platforms:["android","ios"],useInfura:!1,useMetamaskProvider:!1,network_id:"ronin-mainnet-v2",metadata:{domainLevel:0,filter_versions_ios:"!=1.12.0",visible:!0},created_at:"2023-04-27T04:36:07.582159Z",updated_at:"2023-06-02T10:11:24.774509Z"}]},31527:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.initial=void 0;var i=n(58051),a=n(63690),s=n(7566),c=n(47528),u=n(66001),l=n(55214);t.initial={selectedConfig:c.mainnet,_setNetwork:i.action((function(e,t){e.selectedConfig=t})),attachTrezorSubprovider:i.action((function(){})),latestFetchingNetworkTime:{"ronin-mainnet-v2":(new Date).getTime(),"ronin-testnet":(new Date).getTime(),"ronin-devnet":(new Date).getTime()},setLatestFetchingNetworkTime:i.action((function(e,t){e.latestFetchingNetworkTime[t]=(new Date).getTime()})),changeNetwork:i.alias((function(e,t){return r(void 0,void 0,void 0,(function(){var n,r;return o(this,(function(o){if(n=u.store.getState,r=c.roninNetworks.findIndex((function(e){return e.id===t})),t!==n().network.selectedConfig.id&&l.notifyDapps(s.RONIN_EVENT.CHAIN_ID_CHANGED,{chainId:c.roninNetworks[r].chainId}),-1===r)throw new Error("Network id cannot be found");return(new Date).getTime()-n().network.latestFetchingNetworkTime[t]>6e4?fetch(a.config.walletManagerV2Address+"/networks/"+t+"/config").then((function(n){return n.json().then((function(n){c.roninNetworks[r]=n,e.setLatestFetchingNetworkTime(t)}))})).catch(console.error).finally((function(){c.userSettingModule.setSetting({selectedNetwork:c.roninNetworks[r].id})})):c.userSettingModule.setSetting({selectedNetwork:c.roninNetworks[r].id}),c.rnsService.prefetchNames(n().account.accounts.map((function(e){return e.address}))),[2]}))}))})),testNetwork:i.alias((function(e){return r(void 0,void 0,void 0,(function(){return o(this,(function(e){return[2]}))}))}))}},1363:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.rns=void 0;var i=n(58051),a=n(47528);t.rns={getName:i.alias((function(e,t){return new Promise((function(e,n){return r(void 0,void 0,void 0,(function(){var r,i;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,a.rnsService.getName(t)];case 1:return r=o.sent(),e(r),[3,3];case 2:return i=o.sent(),n(i),[3,3];case 3:return[2]}}))}))}))})),getAddress:i.alias((function(e,t){return new Promise((function(e,n){return r(void 0,void 0,void 0,(function(){var r,i;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,a.rnsService.getAddress(t)];case 1:return r=o.sent(),e(r),[3,3];case 2:return i=o.sent(),n(i),[3,3];case 3:return[2]}}))}))}))}))}},72340:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.initial=void 0;var i=n(29830),a=n(58051),s=n(47528);t.initial={sessionsLastUpdatedTime:0,setSessionsLastUpdatedTime:a.action((function(e,t){e.sessionsLastUpdatedTime=t})),init:a.alias((function(){return s.sessionController.init()})),addSession:a.alias((function(e,t){return r(void 0,void 0,void 0,(function(){var e;return o(this,(function(n){return e=new i.Session(t),[2,s.sessionController.getManager().addSession(e)]}))}))})),getAllSessions:a.alias((function(e,t){return new Promise((function(e){e(s.sessionController.getManager().getAllSessions(t).map((function(e){return e.toJSON()})))}))})),disconnectAll:a.alias((function(){return s.sessionController.getManager().deleteAllSessions()})),getSession:a.alias((function(e,t){return new Promise((function(e){var n;return e(null===(n=s.sessionController.getManager().getSession(t))||void 0===n?void 0:n.toJSON())}))})),updateSession:a.alias((function(e,t){var n=t.id,r=t.payload;return s.sessionController.getManager().updateSession(n,r)})),deleteSession:a.alias((function(e,t){return s.sessionController.getManager().deleteSession(t)})),getSessionByHostname:a.alias((function(e,t){return new Promise((function(e){var n=s.sessionController.getManager().getSessionsByHostname(t);n.length&&e(n[0].toJSON()),e(void 0)}))})),getSessionOfCurrentTab:a.alias((function(){return new Promise((function(e){return r(void 0,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return[4,s.sessionController.getSessionOfCurrentTab()];case 1:return t=n.sent(),e(t?t.toJSON():void 0),[2]}}))}))}))})),stopRemindAccount:a.alias((function(e,t){return s.sessionController.stopRemindAccount(t)})),handleResetWallet:a.alias((function(){return new Promise((function(e){return r(void 0,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,s.sessionController.handleResetWallet()];case 1:return t.sent(),e(),[2]}}))}))}))})),checkReminder:a.alias((function(e,t){var n=t.address,i=t.shouldShowIgnore;return new Promise((function(e){return r(void 0,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,s.sessionController.checkIfShouldRemindToConnect(n,i)];case 1:return t.sent(),e(),[2]}}))}))}))}))}},38492:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initial=void 0;var r=n(58051),o=n(6506),i=n(84959),a=n(84642),s=n(32248);t.initial={selectedPaymentMethod:i.PaymentMethod.RON,setSelectedPaymentMethod:r.action((function(e,t){e.selectedPaymentMethod=t,o.storeSelectedPaymentMethod(t)})),devModeEnabled:a.checkDevMode(),setDevModeEnabled:r.action((function(e,t){e.devModeEnabled=t,a.setDevMode(t)})),internalModeEnabled:a.checkInternalMode(),setInternalModeEnabled:r.action((function(e,t){e.internalModeEnabled=t,a.setInternalMode(t)})),showBalance:!0,toggleShowBalance:r.action((function(e){e.showBalance=!e.showBalance})),dApps:s.OFFICIAL_DAPPS,setDApps:r.action((function(e,t){e.dApps=t})),isDAppsReady:!1,setIsDAppsReady:r.action((function(e,t){e.isDAppsReady=t})),isUS:!1,setIsUS:r.action((function(e,t){e.isUS=t}))}},64963:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},s=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},c=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.ArchiveAccountModule=void 0;var u=n(22358),l=n(55214).createModuleStore("archiveAccounts"),d=function(e){function t(){return e.call(this,{},{archivedAccounts:[]},{archivedAccounts:{persist:!0}},l)||this}return o(t,e),t.prototype.getArchivedAccounts=function(){return this.getState().archivedAccounts},t.prototype.archiveAccount=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:if((t=this.getState().archivedAccounts).includes(e.toLowerCase()))return[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.updateAndPersist({archivedAccounts:c(c([],s(t)),[e.toLowerCase()])})];case 2:return n.sent(),[3,4];case 3:throw n.sent(),new Error("Could not archive this address");case 4:return[2]}}))}))},t.prototype.unarchiveAccount=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:t=this.getState().archivedAccounts,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.updateAndPersist({archivedAccounts:t.filter((function(t){return t!==e.toLowerCase()}))})];case 2:return n.sent(),[3,4];case 3:throw n.sent(),new Error("Could not unarchive this address");case 4:return[2]}}))}))},t.prototype.resetArchivedAccount=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this.updateAndPersist({archivedAccounts:[]})];case 1:return e.sent(),[2]}}))}))},t}(u.WithStorageModule);t.ArchiveAccountModule=d},15602:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ContactModule=void 0;var s=n(36124),c=n(22358),u=n(18269),l=n(19416),d=n(47528),f=n(66001),h=n(55214),p=l.browser.storage.local,v=h.createModuleStore("contactCipher"),y=function(e,t){return f.store.getState().account.isTKeyWallet?d.tKeyModule.signPersonalMessage(e,u.stringToHex(t)):d.keychainModule.signPersonalMessage(e,u.stringToHex(t))},g=function(e){function t(){var t=e.call(this,{},{cipherKey:""},{cipherKey:{persist:!0}},v)||this,n={get:function(e){return i(t,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return e!==s.StorageKeys.CKey?[3,2]:[4,this.getCipherKey()];case 1:return[2,t.sent()];case 2:return[4,p.get(e)];case 3:return[2,t.sent()[e]]}}))}))},set:function(e,n){return i(t,void 0,void 0,(function(){var t;return a(this,(function(r){switch(r.label){case 0:return e!==s.StorageKeys.CKey?[3,2]:[4,this.updateCipherKey(n)];case 1:return r.sent(),[3,4];case 2:return[4,p.set((t={},t[e]=n,t))];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))},remove:function(e){return e===s.StorageKeys.CKey?t.removeCipherKey():p.remove(e)}},r=new s.ContactManager(y,n,"https://contact.roninchain.com");return t.manager=r,t}return o(t,e),t.prototype.getCipherKey=function(){return i(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:if(!(e=this.config.encryptor))throw new Error("Could not find encryptor");return[4,e.decrypt(this.state.cipherKey)];case 1:return[2,t.sent()]}}))}))},t.prototype.updateCipherKey=function(e){return i(this,void 0,void 0,(function(){var t,n;return a(this,(function(r){switch(r.label){case 0:if(!(t=this.config.encryptor))throw new Error("Could not find encryptor");return[4,t.encrypt(e)];case 1:return n=r.sent(),[4,this.updateAndPersist({cipherKey:n})];case 2:return r.sent(),[2]}}))}))},t.prototype.removeCipherKey=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this.updateAndPersist({cipherKey:""})];case 1:return e.sent(),[2]}}))}))},t.prototype.validatePassword=function(e){var t=this.config.encryptor;return(null==t?void 0:t.password)===e},t}(c.WithStorageModule);t.ContactModule=g},58426:function(e,t,n){"use strict";var r,o=n(48764).Buffer,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),c=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return s(t,e),t},u=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},l=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},d=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},f=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e},h=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LedgerModule=t.SupportedLedgerPath=void 0;var p,v=n(22358),y=h(n(2832)),g=n(66052),m=h(n(3940)),w=h(n(50240)),b=c(n(51091)),_=n(22751),E=c(n(22751)),S=n(51675),A=n(55214).createModuleStore("ledgerAccounts.v1");!function(e){e.RoninLegacy="ronin-legacy",e.LedgerLive="ledger-live",e.LedgerLegacy="legacy"}(p=t.SupportedLedgerPath||(t.SupportedLedgerPath={}));var T=function(e){function t(){var t=e.call(this,{},{addresses:[]},{addresses:{persist:!0}},A)||this;return t.getHdPath=function(e,t){switch(e){case p.LedgerLive:return"m/44'/60'/"+t+"'/0/0";case p.LedgerLegacy:return"m/44'/60'/0'/"+t;default:return"m/44'/60'/0'/0/"+t}},t.findAccount=function(e){return t.getState().addresses.find((function(t){return t.address===e}))},t.ledgerEth=void 0,t.connected=!1,t}return i(t,e),t.prototype.isConnected=function(){return this.connected&&this.ledgerEth},t.prototype.testConnect=function(){return u(this,void 0,void 0,(function(){return l(this,(function(e){switch(e.label){case 0:return[4,this.connect()];case 1:return e.sent(),[4,this.closeConnection()];case 2:return e.sent(),[2]}}))}))},t.prototype.connect=function(e){return u(this,void 0,void 0,(function(){var t,n;return l(this,(function(r){switch(r.label){case 0:return this.isConnected()&&void 0!==this.ledgerEth?[2,this.ledgerEth]:e?[4,w.default.request()]:[3,2];case 1:return n=r.sent(),[3,4];case 2:return[4,w.default.create()];case 3:n=r.sent(),r.label=4;case 4:return t=n,this.ledgerEth=new m.default(t),this.connected=!0,[2,this.ledgerEth]}}))}))},t.prototype.closeConnection=function(){var e;return u(this,void 0,void 0,(function(){return l(this,(function(t){return null===(e=this.ledgerEth)||void 0===e||e.transport.close(),this.ledgerEth=void 0,this.connected=!1,[2]}))}))},t.prototype.getAccounts=function(e,t,n){return u(this,void 0,void 0,(function(){var r,o,i,a,s;return l(this,(function(c){switch(c.label){case 0:t=Math.max(t-e,5)+e,r=[],o=e,c.label=1;case 1:return o<=t?[4,this.connect()]:[3,5];case 2:return i=c.sent(),a=this.getHdPath(n,o),[4,i.getAddress(a)];case 3:s=c.sent(),r.push({address:s.address.toLowerCase(),hdPath:a}),c.label=4;case 4:return o++,[3,1];case 5:return[2,r]}}))}))},t.prototype.signPersonalMessage=function(e,t){return u(this,void 0,void 0,(function(){var n,r;return l(this,(function(i){switch(i.label){case 0:if(void 0===(n=this.findAccount(e)))throw new Error("Address not found");return[4,this.connect()];case 1:return[4,i.sent().signPersonalMessage(n.hdPath,_.stripHexPrefix(t))];case 2:return r=i.sent(),[4,this.closeConnection()];case 3:return i.sent(),[2,_.toRpcSig(r.v,o.from(r.r,"hex"),o.from(r.s,"hex"))]}}))}))},t.prototype.signTransaction=function(e,t,n){return u(this,void 0,void 0,(function(){var r,i,a,s,c,u,d,f;return l(this,(function(l){switch(l.label){case 0:if(void 0===(r=this.findAccount(e)))throw new Error("Address not found");return i=g.Transaction.fromTxData(t,{common:y.default.custom({chainId:n})}),a=i.getMessageToSign(!1),s=o.isBuffer(a)?a.toString("hex"):S.encode(a).toString("hex"),[4,this.connect()];case 1:return[4,(c=l.sent()).getAddress(r.hdPath)];case 2:if(l.sent().address.toLowerCase()!==e)throw new Error("Hd path does not match address");return[4,c.signTransaction(r.hdPath,s)];case 3:return u=l.sent(),[4,this.closeConnection()];case 4:return l.sent(),(d=Object.assign({},t)).v=_.addHexPrefix(u.v),d.r=_.addHexPrefix(u.r),d.s=_.addHexPrefix(u.s),f=g.Transaction.fromTxData(d,{common:y.default.custom({chainId:n}),freeze:!0}),[2,_.addHexPrefix(f.serialize().toString("hex"))]}}))}))},t.prototype.saveNewAccount=function(e){return u(this,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:return void 0!==this.state.addresses.find((function(t){return t.address===e.address.toLowerCase()}))?[2]:[4,this.updateAndPersist({addresses:f(f([],d(this.state.addresses)),[{address:e.address.toLowerCase(),hdPath:e.hdPath}])})];case 1:return t.sent(),[2]}}))}))},t.prototype.removeAccount=function(e){return u(this,void 0,void 0,(function(){var t;return l(this,(function(n){switch(n.label){case 0:return(t=this.state.addresses.findIndex((function(t){return t.address===e})))>-1?(this.state.addresses.splice(t,1),[4,this.updateAndPersist({addresses:this.state.addresses})]):[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},t.prototype.signTypedData=function(e,t){return u(this,void 0,Promise,(function(){var n,r,o,i,a,s,c,u,d,f,h,p;return l(this,(function(l){switch(l.label){case 0:if(void 0===(n=this.findAccount(e)))throw new Error("Address not found");return[4,this.connect()];case 1:return[4,(r=l.sent()).getAddress(n.hdPath)];case 2:if(l.sent().address.toLowerCase()!==e)throw new Error("Hd path does not match address");return o=b.TypedDataUtils.sanitizeData(t),i=o.domain,a=o.types,s=o.primaryType,c=o.message,u=b.TypedDataUtils.hashStruct("EIP712Domain",i,a,b.SignTypedDataVersion.V4).toString("hex"),d=b.TypedDataUtils.hashStruct(s,c,a,b.SignTypedDataVersion.V4).toString("hex"),[4,r.signEIP712HashedMessage(n.hdPath,u,d)];case 3:if(f=l.sent(),h="0x"+f.r+f.s+f.v.toString(16),p=b.recoverTypedSignature({data:t,signature:h,version:b.SignTypedDataVersion.V4}),E.toChecksumAddress(p)!==E.toChecksumAddress(e))throw new Error("The signature doesnt match the right address");return[2,h]}}))}))},t}(v.WithStorageModule);t.LedgerModule=T},63649:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.isERC1155Transfer=t.isERC721Transfer=t.normalizeAddress=void 0;var a,s=n(8669),c=n(55616),u=i(n(18269)),l=n(58945),d=n(13711),f=n(99108);!function(e){e.ASSET_TYPE_REQUIRE="ASSET_TYPE_REQUIRE",e.CONTRACTSET_NOT_FOUND="CONTRACTSET_NOT_FOUND",e.ACTIVED_ADDRESS_NOT_FOUND="ACTIVED_ADDRESS_NOT_FOUND",e.TRANSFER_METHOD_NOT_FOUND="TRANSFER_METHOD_NOT_FOUND",e.INVALID_ADDRESS="INVALID_ADDRESS",e.INVALID_PROVIDER="INVALID_PROVIDER",e.INVALID_QUANTITY="INVALID_QUANTITY"}(a||(a={}));var h=[s.AssetType.Accessory,s.AssetType.Axie,s.AssetType.Land,s.AssetType.Item,s.AssetType.RNS,s.AssetType.Unknown],p=[s.AssetType.Charm,s.AssetType.Rune],v="safeTransferFrom(address,address,uint256)",y="safeTransferFrom";t.normalizeAddress=function(e){if(e)return l.isRoninAddress(e)?e.replace("ronin:","0x"):e},t.isERC721Transfer=function(e){return h.includes(e)},t.isERC1155Transfer=function(e){return p.includes(e)};var g=function(){function e(){this.provider=void 0,this.decoder=void 0}return e.prototype.initModule=function(e){var t=e.decoder;this.decoder=t},e.prototype.buildTx=function(e){var n=e.type,i=e.from,s=e.to,u=e.tokenId,l=e.quantity,d=e.tokenAddress,f=e.contractABI;return r(this,void 0,Promise,(function(){var e=this;return o(this,(function(h){return[2,new Promise((function(h,p){return r(e,void 0,void 0,(function(){var e,g,m,w,b,_,E,S,A=this;return o(this,(function(T){try{if(t.isERC1155Transfer(n)&&!l)throw a.INVALID_QUANTITY;if(this.setProvider(),!this.provider)throw a.INVALID_PROVIDER;if(!(e=this.getContractSet(n,d,f)))throw a.CONTRACTSET_NOT_FOUND;if(g=new c.ethers.Contract(e.address,e.abi,this.provider),m=g.connect(this.provider.getSigner(i)),!(w=this.safeAddressModifier(i,s)))throw a.INVALID_ADDRESS;if(t.isERC721Transfer(n)&&(null==m?void 0:m[v]))return E=function(){return r(A,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,m[v](w.from,w.to,u)];case 1:return[2,e.sent()]}}))}))},h({transfer:E}),[2];if(t.isERC1155Transfer(n)&&(null==m?void 0:m[y])&&l)return b=new c.ethers.utils.Interface(e.abi),_=b.encodeFunctionData(y,[w.from,w.to,u,l,"0x"]),E=function(){return r(A,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,m[y](w.from,w.to,u,l,_)];case 1:return[2,e.sent()]}}))}))},h({transfer:E}),[2];throw a.TRANSFER_METHOD_NOT_FOUND}catch(e){S=this.generateErrorMessage("TransferServices | buildTransfer() err: ",JSON.stringify(e,null,2)),console.warn(S),p(e)}return[2]}))}))}))]}))}))},e.prototype.safeAddressModifier=function(e,n){var r=t.normalizeAddress(e),o=t.normalizeAddress(n);if(!(r&&o&&u.default.isAddress(r)&&u.default.isAddress(o)))throw new Error(a.INVALID_ADDRESS);return{from:r,to:o}},e.prototype.setProvider=function(){this.provider=new c.ethers.providers.Web3Provider(d.proxyProvider)},e.prototype.getContractSet=function(e,t,n){if(!e)throw new Error(a.ASSET_TYPE_REQUIRE);var r=this.decoder;if(!r)throw new Error("Decoder not found.");switch(e){case s.AssetType.Axie:return r.contractSet.axie;case s.AssetType.Land:return r.contractSet.land;case s.AssetType.Item:return r.contractSet.landItem;case s.AssetType.Rune:return r.contractSet.rune;case s.AssetType.Charm:return r.contractSet.charm;case s.AssetType.Accessory:return r.contractSet.accessory;case s.AssetType.RNS:case s.AssetType.Unknown:return{id:"unknown",name:"unknown",address:t,type:f.ContractType.ERC721,abi:n};default:throw new Error(a.CONTRACTSET_NOT_FOUND)}},e.prototype.generateErrorMessage=function(e,t){return t instanceof Error?e+t.message:e+t},e}();t.default=g},40582:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},s=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},c=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TKeyModule=t.WebSSOProvider=void 0;var l=n(67128),d=n(35180),f=n(24574),h=n(84077),p=u(n(33998)),v=u(n(1470)),y=n(12311),g=u(n(2832)),m=n(66052),w=n(51091),b=n(22751),_=u(n(1372)),E=n(19416),S=n(63690),A=n(88704),T=n(47528),k=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.fetch=function(e,t){return fetch(e,t)},t}(p.default);t.WebSSOProvider=k;var P=function(e){function t(t,n,r){var o=e.call(this,t,n,{accounts:{persist:!1},advancedMode:{persist:!0}},r)||this,s=new d.WebPasswordModule,c={ignoreStateCheck:!0,redirectUri:E.browser.identity.getRedirectURL(),ssoClientId:S.config.ssoClientId,ssoVerifyUrl:S.config.walletManagerV2Address+"/account/info",environment:"production",onOpenLink:function(e){return i(o,void 0,void 0,(function(){var t,n,r,o,i,s,c,u;return a(this,(function(a){try{t=e.includes("facebook")?600:450,n=void 0!==window.screenLeft?window.screenLeft:window.screenX,r=void 0!==window.screenTop?window.screenTop:window.screenY,o=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,i=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,s=o/window.screen.availWidth,c=(o-t)/2/s+n,u=(i-600)/2/s+r,window.open(e,"_blank","width="+t+",height=600,left="+c+",top="+u)}catch(e){}return[2]}))}))}};return o._tKeyManager=new v.default({randomPassPhraseMethod:new d.WebRandomPassphrase,infuraId:S.config.infuraId,verifier:S.config.web3AuthVerifier,backupMetadataUrl:S.config.metadataBackupUrl,enableLogging:!1,seedPhraseConfig:{size:12,strength:128},isUseSeedPhrase:!1,crypto:h.webCrypto,accountProvider:new k(c),modules:{passwordModule:s,storageModule:new f.WebDeviceStorageModule({},window.navigator.userAgent)},storeDeviceShare:!0}),s.setTKeyManager(o._tKeyManager),o._tKeyManager.setup(l.TORUS_NETWORK.MAINNET),o}return o(t,e),Object.defineProperty(t.prototype,"tKeyManager",{get:function(){return this._tKeyManager},enumerable:!1,configurable:!0}),t.prototype.unlock=function(e){return i(this,void 0,Promise,(function(){var t,n,r;return a(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,this.tKeyManager.reconstructKey(e)];case 1:if(t=o.sent(),this.tKeyManager.getAccountStatus()===l.AccountStatus.DELETING)throw l.TKeyResultCode.INVALID_DEVICE_SHARE;return n=new A.BrowserEncryptor(e),T.tKeyModule.updateConfig({encryptor:n}),[4,T.tKeyModule.importAccount(t)];case 2:return o.sent(),[3,4];case 3:if((r=o.sent()).code===l.TKeyResultCode.DEVICE_SHARE_NOT_EXISTED)return[2,!1];if(r.code===l.TKeyResultCode.INVALID_DEVICE_SHARE||r.code===l.TKeyResultCode.PASSWORD_CACHE_NOT_EXISTED||r===l.TKeyResultCode.INVALID_DEVICE_SHARE)throw l.TKeyResultCode.INVALID_DEVICE_SHARE;throw Error("Wrong passcode");case 4:return[2,!0]}}))}))},t.prototype.getTKeyAccount=function(){return i(this,void 0,Promise,(function(){var e,t,n,r;return a(this,(function(o){switch(o.label){case 0:return o.trys.push([0,4,,5]),[4,this.tKeyManager.getDeviceShareDescription()];case 1:return e=o.sent(),[4,this.tKeyManager.getTorusShareDescription()];case 2:return t=o.sent(),[4,this.tKeyManager.getPasswordShareDescription()];case 3:return n=o.sent(),[2,{threshold:(r=this.tKeyManager.getTKey().getKeyDetails()).threshold,totalShares:r.totalShares,devicesInfo:e,userInfo:t,passwordInfo:n,accountStatus:this.tKeyManager.getAccountStatus()}];case 4:return o.sent(),[2,void 0];case 5:return[2]}}))}))},t.prototype.reset=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return this.update({accounts:[],advancedMode:!1}),[4,T.tKeyModuleStore.clear()];case 1:return e.sent(),[4,this.tKeyManager.deleteSharesRelateToPinCode(!0)];case 2:return e.sent(),[2]}}))}))},t.prototype.getPrivateKeyBy=function(e,t){return i(this,void 0,Promise,(function(){var n,r;return a(this,(function(o){if(!t)throw new Error("Could not find encryptor");return n=this.state.accounts.find((function(t){return t.address===e})),r=(null==n?void 0:n.encryptedPrivateKey)||"",[2,t.decrypt(r)]}))}))},t.prototype.getAccounts=function(){return this.state.accounts},t.prototype.getAddresses=function(){return this.state.accounts.map((function(e){return e.address}))},t.prototype.importAccount=function(e){return i(this,void 0,Promise,(function(){var t,n,r,o,i,u;return a(this,(function(a){switch(a.label){case 0:if(!(t=this.config.encryptor))throw new Error("Could not find encryptor");if(!b.isValidPrivate(b.toBuffer(b.addHexPrefix(e))))throw new Error("Invalid private key");return n=this.walletFromPrivateKey(e),[4,t.encrypt(e)];case 1:return r=a.sent(),o={encryptedPrivateKey:r,address:n.getAddressString().toLowerCase()},i=c([],s(this.state.accounts)),(u=this.state.accounts.findIndex((function(e){return e.address===o.address})))>=0&&i.splice(u,1),i.push(o),[4,this.updateAndPersist({accounts:i})];case 2:return a.sent(),[2,o]}}))}))},t.prototype.removeAccount=function(e){return i(this,void 0,Promise,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return(t=this.state.accounts.findIndex((function(t){return t.address===e})))>=0?(this.state.accounts.splice(t,1),[4,this.updateAndPersist({accounts:this.state.accounts})]):[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},t.prototype.walletFromPrivateKey=function(e){var t=b.addHexPrefix(e),n=b.toBuffer(t);return _.default.fromPrivateKey(n)},t.prototype.getPrivateKeyFor=function(e){return i(this,void 0,void 0,(function(){var t,n,r;return a(this,(function(o){if(!(t=this.config.encryptor))throw new Error("Could not find encryptor");return n=this.state.accounts.find((function(t){return t.address===e})),r=(null==n?void 0:n.encryptedPrivateKey)||"",[2,t.decrypt(r)]}))}))},t.prototype.getPrivateKeyBufferFor=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return[4,this.getPrivateKeyFor(e)];case 1:if(!(t=n.sent()))throw new Error("Address does not exist private key module");return[2,b.toBuffer(b.addHexPrefix(t))]}}))}))},t.prototype.signPersonalMessage=function(e,t){return i(this,void 0,Promise,(function(){var n,r,o,i;return a(this,(function(a){switch(a.label){case 0:return n=b.toBuffer(t),[4,this.getPrivateKeyBufferFor(e)];case 1:return r=a.sent(),o=b.hashPersonalMessage(n),i=b.ecsign(o,r),[2,b.toRpcSig(i.v,i.r,i.s)]}}))}))},t.prototype.signTransaction=function(e,t,n){return i(this,void 0,Promise,(function(){var r,o,i,s;return a(this,(function(a){switch(a.label){case 0:return[4,this.getPrivateKeyBufferFor(e)];case 1:return r=a.sent(),o=g.default.custom({chainId:n}),i=m.Transaction.fromTxData(t,{common:o}),s=i.sign(r),[2,b.addHexPrefix(s.serialize().toString("hex"))]}}))}))},t.prototype.signTypedData=function(e,t){return i(this,void 0,Promise,(function(){var n;return a(this,(function(r){switch(r.label){case 0:return[4,this.getPrivateKeyBufferFor(e)];case 1:return n=r.sent(),[2,w.signTypedData({privateKey:n,data:t,version:w.SignTypedDataVersion.V4})]}}))}))},t}(y.WithStorageModule);t.TKeyModule=P},2776:function(e,t,n){"use strict";var r,o=n(48764).Buffer,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a.apply(this,arguments)},s=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),c=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return c(t,e),t},l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},d=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},f=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},h=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},p=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e},v=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TrezorModule=void 0;var y=n(22358),g=v(n(2832)),m=n(66052),w=n(48469),b=v(n(81449)),_=u(n(22751)),E=n(22751),S=v(n(49840)),A=n(19416),T=n(55214),k="m/44'/60'/0'/0",P=function(e){return new Promise((function(t){return setTimeout(t,e)}))},O=T.createModuleStore("trezorAccounts.v1"),x=function(e){function t(){var t=e.call(this,{},{addresses:[]},{addresses:{persist:!0}},O)||this;return t.hdk=new S.default,t.paths={},t}return i(t,e),t.prototype.initTrezor=function(){b.default.init({manifest:{email:"support@axieinfinity.com",appUrl:"https://wallet.roninchain.com/"}})},t.prototype.migrateFromPreviousVersion=function(){return l(this,void 0,void 0,(function(){var e,t,n=this;return d(this,(function(r){switch(r.label){case 0:return[4,A.browser.storage.local.get("trezorAccounts")];case 1:return e=r.sent(),(t=e.trezorAccounts||[]).length>0?(t.forEach((function(e){return l(n,void 0,void 0,(function(){var t;return d(this,(function(n){switch(n.label){case 0:return t=e.toLowerCase(),this.state.addresses.find((function(e){return e===t}))?[2]:[4,this.saveNewAccount(t)];case 1:return n.sent(),[2]}}))}))})),[4,A.browser.storage.local.set({trezorAccounts:[]})]):[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))},t.prototype.getAccountsFromDevice=function(e,t){return l(this,void 0,void 0,(function(){var n,r,o;return d(this,(function(i){switch(i.label){case 0:if(t<0||e<0)throw new Error("Invalid from and to");return[4,this.unlock(!0)];case 1:for(i.sent(),n=[],r=e;r<t;r++)o=this.addressFromIndex("m",r),n.push(o.toLowerCase()),this.paths[_.toChecksumAddress(o)]=r;return[2,n]}}))}))},t.prototype.getAccounts=function(){if(!1===this.enabled)throw new Error("Module has to be enabled to get accounts");return this.state.addresses},t.prototype.saveNewAccount=function(e){return l(this,void 0,void 0,(function(){return d(this,(function(t){switch(t.label){case 0:return void 0!==this.state.addresses.find((function(t){return t===e}))?[2]:[4,this.updateAndPersist({addresses:p(p([],h(this.state.addresses)),[e.toLowerCase()])})];case 1:return t.sent(),[2]}}))}))},t.prototype.removeAccount=function(e){return l(this,void 0,void 0,(function(){var t;return d(this,(function(n){switch(n.label){case 0:return(t=this.state.addresses.findIndex((function(t){return t===e})))>-1?(this.state.addresses.splice(t,1),[4,this.updateAndPersist({addresses:this.state.addresses})]):[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},t.prototype.isUnlocked=function(){return Boolean(this.hdk&&this.hdk.publicKey)},t.prototype.unlock=function(e){return void 0===e&&(e=!1),l(this,void 0,Promise,(function(){var t;return d(this,(function(n){switch(n.label){case 0:return!e&&this.isUnlocked()?[2,{justUnlocked:!1}]:[4,b.default.getPublicKey({path:k,coin:"ETH"})];case 1:if(!1===(t=n.sent()).success)throw new Error("There was an error while getting publickey");return this.hdk.publicKey=o.from(t.payload.publicKey,"hex"),this.hdk.chainCode=o.from(t.payload.chainCode,"hex"),[2,{justUnlocked:!0}]}}))}))},t.prototype.signPersonalMessage=function(e,t){return l(this,void 0,void 0,(function(){var n,r;return d(this,(function(o){switch(o.label){case 0:return[4,this.unlock()];case 1:return o.sent().justUnlocked?[4,P(1e3)]:[3,3];case 2:o.sent(),o.label=3;case 3:return n=this.pathFromAddress(e),[4,b.default.ethereumSignMessage({path:n,message:_.stripHexPrefix(t),hex:!0})];case 4:if(!1===(r=o.sent()).success)throw new Error("Unknow error ");if(r.payload.address!==_.toChecksumAddress(e))throw new Error("Signature does not match address");return[2,"0x"+r.payload.signature]}}))}))},t.prototype.signMessage=function(e,t){return l(this,void 0,void 0,(function(){return d(this,(function(n){return[2,this.signPersonalMessage(e,t)]}))}))},t.prototype.signTransaction=function(e,t,n){return l(this,void 0,void 0,(function(){var r,o,i,a,s,c;return d(this,(function(u){switch(u.label){case 0:return[4,this.unlock()];case 1:return u.sent().justUnlocked?[4,P(1e3)]:[3,3];case 2:u.sent(),u.label=3;case 3:return r=this.pathFromAddress(e),[4,b.default.ethereumSignTransaction({path:r,transaction:{to:t.to,value:t.value,gasPrice:t.gasPrice,gasLimit:t.gasLimit,nonce:t.nonce,data:t.data,chainId:n}})];case 4:if(!1===(o=u.sent()).success)throw new Error("Something went wrong");if(i=o.payload,(a=Object.assign({},t)).v=_.addHexPrefix(i.v),a.r=_.addHexPrefix(i.r),a.s=_.addHexPrefix(i.s),s=m.Transaction.fromTxData(a,{common:g.default.custom({chainId:n}),freeze:!0}),c=_.addHexPrefix(s.getSenderAddress().toString()),!1===this.compareAddress(c,e))throw new Error("Signature does not match address");return[2,E.addHexPrefix(s.serialize().toString("hex"))]}}))}))},t.prototype.compareAddress=function(e,t){var n=h([e,t].map((function(e){return _.toChecksumAddress(e)})),2);return n[0]===n[1]},t.prototype.addressFromIndex=function(e,t){var n=this.hdk.derive(e+"/"+t),r=_.publicToAddress(n.publicKey,!0).toString("hex");return _.toChecksumAddress("0x"+r)},t.prototype.pathFromAddress=function(e){var t=_.toChecksumAddress(e),n=this.paths[t];if(void 0===n)for(var r=0;r<1e3;r++)if(t===this.addressFromIndex("m",r)){n=r;break}if(void 0===n)throw new Error("Unknown address");return k+"/"+n},t.prototype.signTypedData=function(e,t){return l(this,void 0,Promise,(function(){var n,r,o,i,s,c,u,l,h,p,v,y,g,m;return d(this,(function(d){switch(d.label){case 0:return n=w.transformTypedData(t,!0),r=n.types,i=(o=void 0===r?{}:r).EIP712Domain,s=void 0===i?[]:i,c=f(o,["EIP712Domain"]),u=n.message,l=void 0===u?{}:u,h=n.domain,p=void 0===h?{}:h,v=n.primaryType,y=n.domain_separator_hash,g=n.message_hash,[4,this.unlock()];case 1:return d.sent().justUnlocked?[4,P(1e3)]:[3,3];case 2:d.sent(),d.label=3;case 3:return[4,b.default.ethereumSignTypedData({path:this.pathFromAddress(e),data:{types:a({EIP712Domain:s},c),message:l,domain:p,primaryType:v},metamask_v4_compat:!0,domain_separator_hash:y,message_hash:g})];case 4:if((m=d.sent()).success){if(_.toChecksumAddress(e)!==m.payload.address)throw new Error("signature doesnt match the right address");return[2,m.payload.signature]}throw new Error(m.payload&&m.payload.error||"Unknown error")}}))}))},t}(y.WithStorageModule);t.TrezorModule=x},55214:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.isFirefox=t.validateSiweMessage=t.parseSiweMessage=t.createModuleStore=t.rpcEngineProviderToLegacy=t.notifyUnlocked=t.notifyDapps=void 0;var a=n(17491),s=n(97544),c=i(n(84564)),u=n(19416),l=n(47528),d=n(66001);t.notifyDapps=function(e,t,n){return r(void 0,void 0,void 0,(function(){var i,a,s,l;return o(this,(function(d){switch(d.label){case 0:return[4,u.browser.tabs.query({currentWindow:!0})];case 1:i=d.sent(),a=!1,d.label=2;case 2:return d.trys.push([2,5,,6]),[4,u.browser.permissions.contains({permissions:["tabs"]})];case 3:return s=d.sent(),[4,u.browser.permissions.contains({permissions:["activeTab"]})];case 4:return l=d.sent(),a=s||l,[3,6];case 5:return d.sent(),[3,6];case 6:return(null==n?void 0:n.length)&&a&&(i=i.filter((function(e){return e.url&&n.includes(new c.default(e.url).hostname)}))),i.forEach((function(n){return r(void 0,void 0,void 0,(function(){var r;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),n.id?[4,u.browser.tabs.sendMessage(n.id,{roninEvent:e,payload:t})]:[3,2];case 1:o.sent(),o.label=2;case 2:return[3,4];case 3:return"Could not establish connection. Receiving end does not exist."===(r=o.sent()).message?[2]:(console.error(r),[3,4]);case 4:return[2]}}))}))})),[2]}}))}))},t.notifyUnlocked=function(){return r(void 0,void 0,void 0,(function(){var e,t;return o(this,(function(n){switch(n.label){case 0:return[4,u.browser.permissions.contains({permissions:["tabs"]})];case 1:return e=n.sent(),[4,u.browser.permissions.contains({permissions:["activeTab"]})];case 2:return t=n.sent(),e||t?[4,u.browser.tabs.query({currentWindow:!0,active:!0})]:[2];case 3:return n.sent().forEach((function(e){return r(void 0,void 0,void 0,(function(){var t;return o(this,(function(n){try{if(e.id&&e.url&&(t=l.sessionController.getManager().getSessionsByHostname(new c.default(e.url).hostname)[0]))return[2,u.browser.tabs.sendMessage(e.id,{roninEvent:a.RONIN_EVENT.ACCOUNTS_CHANGED,payload:{accounts:t.getAccounts()}})]}catch(e){console.error("Send message to tab failed")}return[2]}))}))})),[2]}}))}))},t.rpcEngineProviderToLegacy=function(e){if(void 0===e.send)throw new Error("provider.send is empty");return{sendAsync:function(t,n){e.send(t,n)}}},t.createModuleStore=function(e){var t=u.browser.storage.local,n={key:e,get:function(){return r(void 0,void 0,void 0,(function(){var e;return o(this,(function(r){switch(r.label){case 0:return[4,t.get(n.key)];case 1:return(e=r.sent())[n.key]?[2,JSON.parse(e[n.key])]:[2]}}))}))},set:function(e){return r(void 0,void 0,void 0,(function(){var r;return o(this,(function(o){switch(o.label){case 0:return[4,t.set((r={},r[n.key]=JSON.stringify(e),r))];case 1:return o.sent(),[2]}}))}))},clear:function(){return r(void 0,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,t.remove(n.key)];case 1:return e.sent(),[2]}}))}))}};return n},t.parseSiweMessage=function(e){try{var t=e.replace("sign in with your Ronin account:\nronin:","sign in with your Ethereum account:\n0x");return new s.SiweMessage(t)}catch(t){return e}},t.validateSiweMessage=function(e,t){var n=new c.default(t),r=n.origin,o=n.hostname,i=d.store.getState().network.selectedConfig.chainId;return e.chainId===i&&(e.domain===o&&("1"===e.version&&(!(!e.uri||new c.default(e.uri).origin!==r)&&!(e.expirationTime&&new Date(e.expirationTime).getTime()-Date.now()<=0))))},t.isFirefox=function(){return navigator.userAgent.toLowerCase().includes("firefox")}},86953:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.composeWalletMiddleware=t.emptyWalletMiddleware=void 0;var s,c=n(70687),u=n(81367),l=n(22140),d=n(97544),f=n(18269),h=n(63690),p=n(84959),v=n(47528),y=n(89877),g=n(66001),m=n(55214);t.emptyWalletMiddleware=function(){return l.createWalletMiddleware({getAccounts:function(){return r(void 0,void 0,void 0,(function(){return o(this,(function(e){return[2,[]]}))}))}})},function(e){e.Trezor="trezor",e.Keychain="keychain",e.PrivateKey="privateKey",e.Ledger="ledger",e.TKey="tKey"}(s||(s={}));var w=function(e){return e.toLowerCase()};t.composeWalletMiddleware=function(e,t,n){var b=new c.Web3Wrapper({sendAsync:function(t,n){e.provider.send(t,n)}}),_=function(e,t){return r(void 0,void 0,void 0,(function(){var n,r,i;return o(this,(function(o){switch(o.label){case 0:return void 0===(n=e).data&&(n.data="0x"),void 0===n.gasPrice&&(n.gasPrice=f.numberToHex(0)),void 0!==n.gas&&(n.gasLimit=n.gas,n.gas=void 0),void 0!==n.nonce?[3,2]:[4,b.getAccountNonceAsync(t)];case 1:r=o.sent(),n.nonce=f.numberToHex(r),o.label=2;case 2:return void 0!==n.gasLimit?[3,4]:[4,b.sendRawPayloadAsync({method:"eth_estimateGas",params:[n]})];case 3:i=o.sent(),n.gasLimit=i,o.label=4;case 4:return void 0===n.value&&(n.value=f.numberToHex(0)),[2,n]}}))}))},E=function(){var e=v.keychainModule.getState().accounts.map((function(e){return{type:s.Keychain,address:w(e.address)}})),t=v.privateKeyModule.getState().accounts.map((function(e){return{type:s.PrivateKey,address:w(e.address)}})),n=v.trezorModule.getState().addresses.map((function(e){return{type:s.Trezor,address:w(e)}})),r=v.ledgerModule.getState().addresses.map((function(e){return{type:s.Ledger,address:w(e.address)}})),o=v.tKeyModule.getState().accounts.map((function(e){return{type:s.TKey,address:w(e.address)}}));return a(a(a(a(a([],i(o)),i(e)),i(t)),i(n)),i(r))},S=function(e){return r(void 0,void 0,Promise,(function(){var t,n;return o(this,(function(r){switch(r.label){case 0:if(t=E(),void 0===(n=t.find((function(t){return t.address===w(e)}))))throw new Error("Address does not existed in this wallet");if(n.type===s.Trezor)return[2,v.trezorModule];if(n.type!==s.Ledger)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,v.ledgerModule.testConnect()];case 2:return r.sent(),[3,4];case 3:throw r.sent(),g.store.getActions().fullPageRoute.replaceLocation("/connect-ledger"),window.open("full-page.html"),new Error("Could not connect Ledger. Connect and try again.");case 4:return[2,v.ledgerModule];case 5:if(n.type===s.Keychain)return[2,v.keychainModule];if(n.type===s.PrivateKey)return[2,v.privateKeyModule];if(n.type===s.TKey)return[2,v.tKeyModule];throw new Error("Could not find supported singer")}}))}))},A=function(e,n){var i=e.from,a=e.data;return r(void 0,void 0,void 0,(function(){var e,r,s,c,l;return o(this,(function(o){switch(o.label){case 0:if(e=a,r=a,f.isHex(a))try{e=f.hexToString(a)}catch(t){e=a}else r=f.stringToHex(a);if((s=m.parseSiweMessage(e))instanceof d.SiweMessage&&!m.validateSiweMessage(s,n.peerMeta.url))throw new Error("INVALID PAYLOAD");return[4,S(i)];case 1:return c=o.sent(),l=t.add({type:u.ActionType.SignMessage,data:{data:s,address:i,peerMeta:n.peerMeta}}),[4,t.waitForApproval(l)];case 2:return o.sent(),[4,c.signPersonalMessage(i,r)];case 3:return[2,o.sent()]}}))}))};return l.createWalletMiddleware({getAccounts:function(){return r(void 0,void 0,void 0,(function(){return o(this,(function(e){return[2,E().map((function(e){return e.address}))]}))}))},processPersonalMessage:A,processEthSignMessage:A,processTransaction:function(e,i){var a=e.from;return new Promise((function(e,s){return r(void 0,void 0,void 0,(function(){var r,c,l,d,f,m,w,E,A,T,k,P,O,x,M,N,I,R,C,D;return o(this,(function(o){switch(o.label){case 0:return[4,S(a)];case 1:return r=o.sent(),[4,_(i.params[0],a)];case 2:c=o.sent(),l=!1,(d=null!==(N=null===(M=c.data)||void 0===M?void 0:M.toString().toLowerCase())&&void 0!==N?N:"")&&(f=g.store.getState().network.selectedConfig.id===h.NetworkId.MAIN_NET?h.KatanaRouterAddress["ronin-mainnet-v2"]:h.KatanaRouterAddress["ronin-testnet"],m=g.store.getState().network.selectedConfig.id===h.NetworkId.MAIN_NET?h.KatanaWalletRouterAddress["ronin-mainnet-v2"]:h.KatanaWalletRouterAddress["ronin-testnet"],l=!(!d.startsWith(""+h.approveToken.toLowerCase()+f.toLowerCase())&&!d.startsWith(""+h.approveToken.toLowerCase()+m.toLowerCase()))||[h.swapExactTokensForRON.toLowerCase(),h.swapTokensForExactRON.toLowerCase(),h.swapExactTokensForRONSupportingFeeOnTransferTokens.toLowerCase()].includes(d.substring(0,10))),w=t.add({type:u.ActionType.SignTransaction,data:{data:c,peerMeta:i.peerMeta}}),o.label=3;case 3:return o.trys.push([3,12,,13]),A=0,l?[4,b.sendRawPayloadAsync({method:"ronin_getFreeGasSwapQuota",params:[a]})]:[3,5];case 4:A=o.sent(),o.label=5;case 5:return l&&A<=0||!l?[4,b.sendRawPayloadAsync({method:"ronin_getFreeGasRequests",params:[a]})]:[3,7];case 6:A=o.sent(),o.label=7;case 7:return g.store.getActions().account.setFreeTransactionCount(A),[4,t.waitForApproval(w)];case 8:return o.sent(),[4,r.signTransaction(a,c,v.networkModule.getState().activeNetwork.chainId)];case 9:return T=o.sent(),E=y.createRandomId(),[4,null===(I=n.currentTracker)||void 0===I?void 0:I.createNewTransaction({id:E,txParams:c})];case 10:return o.sent(),k=g.store.getState().settings.selectedPaymentMethod,P=k===p.PaymentMethod.FREE,[4,b.sendRawPayloadAsync({method:"eth_sendRawTransaction",params:[T,P.toString()]})];case 11:return(O=o.sent())?null===(R=n.currentTracker)||void 0===R||R.onNewHash({id:E,txHash:O}):null===(C=n.currentTracker)||void 0===C||C.onNewError({id:E,error:"dropped"}),e(O),[3,13];case 12:return x=o.sent(),E&&(null===(D=n.currentTracker)||void 0===D||D.onNewError({id:E,error:"dropped"})),g.store.getActions().account.setFreeTransactionCount(0),console.error(x),s(x),[3,13];case 13:return[2]}}))}))}))},processTypedMessageV4:function(e,n){return r(void 0,void 0,Promise,(function(){var r,i;return o(this,(function(o){switch(o.label){case 0:return[4,S(e.from)];case 1:return r=o.sent(),i=t.add({type:u.ActionType.SignMessage,data:{data:e.data,address:e.from,peerMeta:n.peerMeta}}),[4,t.waitForApproval(i)];case 2:o.sent(),o.label=3;case 3:return o.trys.push([3,5,,6]),[4,r.signTypedData(e.from,JSON.parse(e.data))];case 4:return[2,o.sent()];case 5:throw o.sent();case 6:return[2]}}))}))}})}},7566:(e,t)=>{"use strict";var n,r,o,i;Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorType=t.ProviderErrorMessage=t.NETWORK=t.INSTALL=t.RONIN_EVENT=t.REQUEST_TYPES=void 0,(i=t.REQUEST_TYPES||(t.REQUEST_TYPES={})).ASK_PROVIDER_FROM_CONTENT_SCRIPT="ask_provider_from_content_script",i.RONIN_WALLET_ENABLE_REQUEST="ronin_wallet_enable_request",i.ASK_PROVIDER_FROM_POPUP="ask_provider_from_popup",(o=t.RONIN_EVENT||(t.RONIN_EVENT={})).ACCOUNTS_CHANGED="accounts_changed",o.ACCOUNT_CHANGED="account_changed",o.CHAIN_ID_CHANGED="chain_id_changed",o.UNLOCK_CHANGED="unlock_changed",t.INSTALL="install",t.NETWORK="network",(r=t.ProviderErrorMessage||(t.ProviderErrorMessage={})).USER_REJECTED_REQUEST="User Rejected Request",r.UNAUTHORIZED="Unauthorized",r.UNSUPPORTED_METHOD="Unsupported Method",r.DISCONNECTED="Disconnected",r.CHAIN_DISCONNECTED="Chain Disconnected",(n=t.ErrorType||(t.ErrorType={})).PROVIDER="ProviderError",n.RPC="JsonRpcError"},33877:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.TxStore=void 0;var c=n(19416),u=n(89877),l="tx_store",d=function(e,t){return(t.origin.timestamp||0)-(e.origin.timestamp||0)},f=function(){function e(){this._storeId=l}return e.prototype.updateConfig=function(e){this._storeId=l+"_"+e},e.prototype.clearAll=function(){return o(this,void 0,Promise,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,c.browser.storage.local.remove(this._storeId)];case 1:return e.sent(),[2]}}))}))},e.prototype.getAll=function(e){return o(this,void 0,Promise,(function(){var t,n,r,o,a,s;return i(this,(function(i){switch(i.label){case 0:return[4,c.browser.storage.local.get(this._storeId)];case 1:return t=(t=i.sent()[this._storeId]||[]).sort(d),n=t.length,e&&(r=e.fromAddress,o=e.chainId,a=e.status,s=e.page,t=t.filter((function(e){var t,n;return(!r||e.origin.from===r||e.origin.to===r||(null===(n=null===(t=e.normalized)||void 0===t?void 0:t.decodedData)||void 0===n?void 0:n.receiver)===r)&&(!o||e.chainId===o)&&(!a||e.origin.localStatus&&a.includes(e.origin.localStatus))})),n=t.length,s&&(t=t.splice(s.from,s.size))),[2,{data:t,total:n}]}}))}))},e.prototype.getById=function(e,t){return o(this,void 0,Promise,(function(){return i(this,(function(n){switch(n.label){case 0:return[4,this.getAll({fromAddress:null==t?void 0:t.fromAddress,chainId:null==t?void 0:t.chainId})];case 1:return[2,n.sent().data.find((function(t){return t.origin.localId===e||t.origin.tx_hash===e||t.origin.hash===e}))]}}))}))},e.prototype.insertOrUpdate=function(e){return o(this,void 0,Promise,(function(){var t,n,o,l,d;return i(this,(function(i){switch(i.label){case 0:return t=s([],a(e)),[4,this.getAll()];case 1:for(n=i.sent(),o=function(e){var o,i=r({},t[e]);i.origin.localId?(o=n.data.findIndex((function(e){return e.origin.localId===i.origin.localId})))>=0?n.data[o]=i:n.data.unshift(i):(o=n.data.findIndex((function(e){return e.origin.hash===i.origin.hash})))>=0?n.data[o]=i:(i.origin.localId=i.origin.hash||""+u.createRandomId(),n.data.unshift(i))},l=t.length-1;l>=0;l--)o(l);return[4,c.browser.storage.local.set((d={},d[this._storeId]=n.data,d))];case 2:return i.sent(),this.removeOldCache(n.data),[2,t.length<n.data.length?t.length:n.data.length]}}))}))},e.prototype.removeById=function(e){var t;return o(this,void 0,Promise,(function(){var n,r;return i(this,(function(o){switch(o.label){case 0:return[4,this.getAll()];case 1:return n=o.sent(),r=null===(t=n.data)||void 0===t?void 0:t.filter((function(t){return t.origin.localId===e||t.origin.hash===e})),n.data.length===(null==r?void 0:r.length)?[3,3]:[4,this.insertOrUpdate(r)];case 2:return o.sent(),[2,1];case 3:return[2,0]}}))}))},e.prototype.removeOldCache=function(e){return o(this,void 0,Promise,(function(){var t,n;return i(this,(function(r){switch(r.label){case 0:return(t=e).length>=1e3&&(t=t.sort(d).slice(0,500)),[4,c.browser.storage.local.set((n={},n[this._storeId]=t,n))];case 1:return r.sent(),[2]}}))}))},e}();t.TxStore=f},36635:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ContractStorage=void 0;var i=n(19416),a=function(){function e(e){this.key="contracts."+e}return e.prototype.set=function(e){return r(this,void 0,void 0,(function(){var t;return o(this,(function(n){return[2,i.browser.storage.local.set((t={},t[this.key]=e,t))]}))}))},e.prototype.get=function(){return r(this,void 0,Promise,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,i.browser.storage.local.get(this.key)];case 1:return[2,e.sent()[this.key]||[]]}}))}))},e}();t.ContractStorage=a},58945:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.toRoninAddress=t.isRoninAddress=t.formatRawAddress=t.roninPrefix=t.Network=void 0;var o,i=r(n(18269));!function(e){e.Ronin="ronin",e.Ethereum="ethereum"}(o=t.Network||(t.Network={})),t.roninPrefix="ronin:",t.formatRawAddress=function(e,n){return i.default.isAddress(n)?e===o.Ronin?""+t.roninPrefix+n.split("0x")[1]:n:(console.error("Invalid address"),n)},t.isRoninAddress=function(e){return e.startsWith(t.roninPrefix)&&i.default.isAddress(e.replace(t.roninPrefix,"0x"))},t.toRoninAddress=function(e){return t.formatRawAddress(o.Ronin,e)}},6506:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.retrieveSelectedPaymentMethod=t.storeSelectedPaymentMethod=t.toRonNumberUnsafe=t.toRon=t.computeTxGas=t.isNumber=void 0;var o=r(n(44431)),i=n(18269);t.isNumber=function(e){return"number"==typeof e},t.computeTxGas=function(e){var t=e.gas,n=e.gasPrice;if(void 0!==t&&void 0!==n){var r=new o.default(t),i=new o.default(n);return r.multipliedBy(i).toString()}},t.toRon=function(e){return i.fromWei(e,"ether")},t.toRonNumberUnsafe=function(e){return e?new o.default(i.fromWei(e,"ether")).toNumber():void 0},t.storeSelectedPaymentMethod=function(e){return localStorage.setItem("selectedPaymentMethod",e)},t.retrieveSelectedPaymentMethod=function(){return localStorage.getItem("selectedPaymentMethod")||null}},84959:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.PaymentMethod=void 0,(n=t.PaymentMethod||(t.PaymentMethod={})).FREE="free",n.RON="ron"},47297:(e,t,n)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.useStoreState=t.useStoreActions=void 0;var o=n(58051);t.useStoreActions=(r=o.createTypedHooks()).useStoreActions,t.useStoreState=r.useStoreState},84836:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.multicall=t.parseCallKey=t.toCallKey=t.LOADING_CALL_STATE=t.INVALID_CALL_STATE=void 0;var o=n(58051);t.INVALID_CALL_STATE={valid:!1,result:void 0,loading:!1,syncing:!1,error:!1},t.LOADING_CALL_STATE={valid:!0,result:void 0,loading:!0,syncing:!0,error:!1};var i=/^0x[a-fA-F0-9]{40}$/,a=/^0x[a-f0-9]*$/;function s(e){if(!i.test(e.address))throw new Error("Invalid address: "+e.address);if(!a.test(e.callData))throw new Error("Invalid hex: "+e.callData);var t=e.address+"-"+e.callData;if(e.gasRequired){if(!Number.isSafeInteger(e.gasRequired))throw new Error("Invalid number: "+e.gasRequired);t+="-"+e.gasRequired}return t}t.toCallKey=s,t.parseCallKey=function(e){var t=e.split("-");if(![2,3].includes(t.length))throw new Error("Invalid call key: "+e);return r({address:t[0],callData:t[1]},t[2]?{gasRequired:Number.parseInt(t[2])}:{})},t.multicall={callResults:{},addMulticallListeners:o.action((function(e,t){var n,r=t.calls,o=t.chainId,i=t.options,a=(void 0===i?{}:i).blocksPerFetch,c=void 0===a?1:a,u=e.callListeners?e.callListeners:e.callListeners={};u[o]=null!==(n=u[o])&&void 0!==n?n:{},r.forEach((function(e){var t,n,r=s(e);u[o][r]=null!==(t=u[o][r])&&void 0!==t?t:{},u[o][r][c]=(null!==(n=u[o][r][c])&&void 0!==n?n:0)+1}))})),removeMulticallListeners:o.action((function(e,t){var n=t.calls,r=t.chainId,o=t.options,i=(void 0===o?{}:o).blocksPerFetch,a=void 0===i?1:i,c=e.callListeners?e.callListeners:e.callListeners={};c[r]&&n.forEach((function(e){var t=s(e);c[r][t]&&c[r][t][a]&&(1===c[r][t][a]?delete c[r][t][a]:c[r][t][a]--)}))})),fetchingMulticallResults:o.action((function(e,t){var n,r=t.chainId,o=t.calls,i=t.fetchingBlockNumber;e.callResults[r]=null!==(n=e.callResults[r])&&void 0!==n?n:{},o.forEach((function(t){var n,o=s(t),a=e.callResults[r][o];if(a){if((null!==(n=a.fetchingBlockNumber)&&void 0!==n?n:0)>=i)return;e.callResults[r][o].fetchingBlockNumber=i}else e.callResults[r][o]={fetchingBlockNumber:i}}))})),errorFetchingMulticallResults:o.action((function(e,t){var n,r=t.chainId,o=t.calls,i=t.fetchingBlockNumber;e.callResults[r]=null!==(n=e.callResults[r])&&void 0!==n?n:{},o.forEach((function(t){var n=s(t),o=e.callResults[r][n];o&&"number"==typeof o.fetchingBlockNumber&&o.fetchingBlockNumber<=i&&(delete o.fetchingBlockNumber,o.data=null,o.blockNumber=i)}))})),updateMulticallResults:o.action((function(e,t){var n,r=t.chainId,o=t.results,i=t.blockNumber;e.callResults[r]=null!==(n=e.callResults[r])&&void 0!==n?n:{},Object.keys(o).forEach((function(t){var n,a=e.callResults[r][t];(null!==(n=null==a?void 0:a.blockNumber)&&void 0!==n?n:0)>i||(e.callResults[r][t]={data:o[t],blockNumber:i})}))}))}},16954:function(e,t,n){"use strict";var r,o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=t.DEFAULT_DEADLINE_FROM_NOW=t.SwapState=t.Field=void 0;var i,a,s=n(58051);!function(e){e.INPUT="INPUT",e.OUTPUT="OUTPUT"}(i=t.Field||(t.Field={})),(a=t.SwapState||(t.SwapState={}))[a.PENDING=0]="PENDING",a[a.SUCCESS=1]="SUCCESS",a[a.FAIL=2]="FAIL",t.DEFAULT_DEADLINE_FROM_NOW=1800;var c=function(){return(new Date).getTime()};t.initialState=((r={independentField:i.INPUT,typedValue:""})[i.INPUT]={currencyId:"RON"},r[i.OUTPUT]={currencyId:""},r.recipient=null,r.setRecipient=s.action((function(e,t){var n=t.recipient;e.recipient=n})),r.selectCurrency=s.action((function(e,t){var n=t.currencyId,r=t.field,o=r===i.INPUT?i.OUTPUT:i.INPUT;n===e[o].currencyId?(e.independentField=e.independentField===i.INPUT?i.OUTPUT:i.INPUT,e[r]={currencyId:n},e[o]={currencyId:e[r].currencyId}):e[r]={currencyId:n}})),r.switchCurrencies=s.action((function(e){var t=e.independentField===i.INPUT?i.OUTPUT:i.INPUT,n=e[i.OUTPUT].currencyId,r=e[i.INPUT].currencyId;e.independentField=t,e[i.INPUT]={currencyId:n},e[i.OUTPUT]={currencyId:r}})),r.typeInput=s.action((function(e,t){var n=t.field,r=t.typedValue;e.independentField=n,e.typedValue=r})),r.replaceSwapState=s.action((function(e,t){var n=t.field,r=t.recipient,o=t.typedValue,a=t.inputCurrencyId,s=t.outputCurrencyId;e.independentField=n,e.typedValue=o,e.recipient=r,(null==a?void 0:a.length)&&(e[i.INPUT]={currencyId:a}),(null==s?void 0:s.length)&&(e[i.OUTPUT]={currencyId:s})})),r.isRouting=!1,r.setIsRouting=s.action((function(e,t){e.isRouting=t})),r.currentSwap=null,r.setCurrentSwap=s.action((function(e,t){e.currentSwap=t})),r.timestamp=c(),r.userSingleHopOnly=!1,r.userSlippageTolerance="auto",r.userSlippageToleranceHasBeenMigratedToAuto=!0,r.userDeadline=t.DEFAULT_DEADLINE_FROM_NOW,r.updateVersion=s.action((function(e){"number"!=typeof e.userSlippageTolerance||!Number.isInteger(e.userSlippageTolerance)||e.userSlippageTolerance<0||e.userSlippageTolerance>5e3?e.userSlippageTolerance="auto":e.userSlippageToleranceHasBeenMigratedToAuto||-1===[10,50,100].indexOf(e.userSlippageTolerance)||(e.userSlippageTolerance="auto",e.userSlippageToleranceHasBeenMigratedToAuto=!0),("number"!=typeof e.userDeadline||!Number.isInteger(e.userDeadline)||e.userDeadline<60||e.userDeadline>10800)&&(e.userDeadline=t.DEFAULT_DEADLINE_FROM_NOW),e.lastUpdateVersionTimestamp=c()})),r.updateUserSlippageTolerance=s.action((function(e,t){var n=t.userSlippageTolerance;e.userSlippageTolerance=n,e.timestamp=c()})),r.updateUserDeadline=s.action((function(e,t){var n=t.userDeadline;e.userDeadline=n,e.timestamp=c()})),r.updateUserSingleHopOnly=s.action((function(e,t){var n=t.userSingleHopOnly;e.userSingleHopOnly=n})),r.latestBlockNumber={},r.updateLatestBlockNumber=s.action((function(e,t){var n,r=t.chainId,o=t.blockNumber;"number"==typeof(null===(n=e.latestBlockNumber)||void 0===n?void 0:n[r])?e.latestBlockNumber[r]=Math.max(o,e.latestBlockNumber[r]):e.latestBlockNumber[r]=o})),r.transactions={},r.addTransaction=s.action((function(e,t){var n,r,i=t.chainId,a=t.hash,s=t.approval,u=t.summary,l=t.claim,d=t.from,f=o({},e.transactions);if(null===(n=f[i])||void 0===n?void 0:n[a])throw Error("Attempted to add existing transaction.");var h=null!==(r=f[i])&&void 0!==r?r:{};h[a]={hash:a,approval:s,summary:u,claim:l,from:d,addedTime:c()},f[i]=h,e.transactions=f})),r.clearAllTransactions=s.action((function(e,t){var n,r,i=t.chainId;(null===(r=e.transactions)||void 0===r?void 0:r[i])&&(e.transactions=o(o({},e.transactions),((n={})[i]={},n)))})),r.finalizeTransaction=s.action((function(e,t){var n,r,o=t.chainId,i=t.hash,a=t.receipt,s=null===(r=null===(n=e.transactions)||void 0===n?void 0:n[o])||void 0===r?void 0:r[i];s&&(s.receipt=a,s.confirmedTime=c())})),r.checkedTransaction=s.action((function(e,t){var n,r,o=t.chainId,i=t.hash,a=t.blockNumber,s=null===(r=null===(n=e.transactions)||void 0===n?void 0:n[o])||void 0===r?void 0:r[i];s&&(s.lastCheckedBlockNumber?s.lastCheckedBlockNumber=Math.max(a,s.lastCheckedBlockNumber):s.lastCheckedBlockNumber=a)})),r)},84642:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setDevMode=t.checkDevMode=t.setInternalMode=t.checkInternalMode=void 0,t.checkInternalMode=function(){return"true"===localStorage.getItem("internal_mode")},t.setInternalMode=function(e){localStorage.setItem("internal_mode",e?"true":"false")},t.checkDevMode=function(){return"true"===localStorage.getItem("dev_mode")},t.setDevMode=function(e){localStorage.setItem("dev_mode",e?"true":"false")}},25741:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},c=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.heartbeating=t.startTrackingSession=t.stopTrackingSession=t.urlToPageName=t.setTrackMode=t.setAskedForTracking=t.askedForTracking=t.trackEvent=t.tracker=t.sendIdentify=t.hashedAddress=t.trackingTimestamp=t.TrackingCategory=t.TrackingActionType=t.isTrackingEnabled=t.USER_ID=void 0;var u=n(7875),l=a(n(55835)),d=n(67429),f=n(19416),h=n(63690),p=n(7566),v="N2s0Y2JNV3M4UnBGMzQzOXBtNVJzc0dyUlA5aWtRM2I6Cg==",y="asked-for-tracking",g="session_id";t.USER_ID="user_id";var m,w,b="device_id",_="device_name",E="heartbeat",S="https://x.skymavis.com/track",A=[],T=null,k=0,P=null,O=null,x=null;t.isTrackingEnabled=function(){return"true"===localStorage.getItem("tracking")},function(e){e.Click="Click",e.KeyPress="KeyPress",e.Access="Access",e.Noop="Noop"}(m=t.TrackingActionType||(t.TrackingActionType={})),function(e){e.Navigation="Navigation",e.Swap="Swap",e.Purchase="Purchase",e.Onboarding="Onboarding",e.Settings="Settings",e.Transactions="Transactions",e.Accounts="Accounts",e.Messages="Messages",e.Retention="Retention",e.Wallet="Wallet",e.Network="Network",e.Contact="Contact",e.Tracking="Tracking"}(w=t.TrackingCategory||(t.TrackingCategory={}));var M=function(){var e=A.shift();T=e?e().then((function(t){var n=e.prototype.event;n&&n!==E&&(k++,O=n)})).catch((function(e){})).finally((function(){return M()})):null},N=function(e,t){t.prototype.event=e,A.push(t),T||M()};t.trackingTimestamp=function(e){var t=e||new Date;return[t.getFullYear(),(t.getMonth()+1).toString().padStart(2,"0"),t.getDate().toString().padStart(2,"0")].join("-")+" "+[t.getHours(),t.getMinutes().toString().padStart(2,"0"),t.getSeconds().toString().padStart(2,"0")].join(":")};var I=function(){var e=localStorage.getItem(t.USER_ID);return e||(e=d.v4())&&localStorage.setItem(t.USER_ID,e),e},R=function(){switch(localStorage.getItem(p.NETWORK)){case h.roninMainnetV1:return localStorage.setItem(p.NETWORK,h.NetworkId.MAIN_NET),v;case h.NetworkId.TEST_NET:case h.NetworkId.DEV_NET:return"cUdxUUdMYnY0RWhZNVlZbjJWcm1LeFpnWE1GaThjOUI6Cg==";case h.NetworkId.MAIN_NET:default:return v}};t.hashedAddress=function(e){return e?l.createHash("sha256").update("eohteaxDtVBDcDfdJVUC"+e).digest("hex"):null},t.sendIdentify=function(e,n,o){return s(void 0,void 0,void 0,(function(){var i,a,s;return c(this,(function(c){return i=d.v4(),localStorage.setItem(g,i),a=function(){var e=localStorage.getItem(b);e||(e=d.v4())&&localStorage.setItem(b,e);var t=localStorage.getItem(_);t||(t=(new u.ClientJS).getFingerprint().toString())&&localStorage.setItem(_,t);var n=function(e){switch(!0){case e.indexOf("edg")>-1:return{name:"Edge",version:e.split(" ").filter((function(e){return e.startsWith("edg")}))[0].split("/")[1]};case e.indexOf("chrome")>-1&&"chrome"in window:return{name:"Chrome",version:e.split(" ").filter((function(e){return e.startsWith("chrome")}))[0].split("/")[1]};case e.indexOf("firefox")>-1:return{name:"Firefox",version:e.split(" ").filter((function(e){return e.startsWith("firefox")}))[0].split("/")[1]};default:return{name:"Unsupported Browser",version:void 0}}}(navigator.userAgent.toLowerCase());return{build_version:f.browser.runtime.getManifest().version,device_name:t,device_id:e,platform_name:n.name,platform_version:n.version,internet_type:null}}(),s=t.trackingTimestamp(),N(e,(function(){return fetch(S,{method:"POST",headers:{Authorization:"Basic "+R(),"Content-Type":"application/json"},body:JSON.stringify({events:[{type:"identify",data:r(r({uuid:d.v4(),event:e,ref:e===E?null:P,timestamp:s,session_id:i,user_id:I(),offset:e===E?void 0:k},a),{user_properties:r({ronin_address:t.hashedAddress(n)},o)})}]})})})),[2,i]}))}))};var C=function(){function e(){}return e.prototype.trackEvent=function(e,n,o,i,a){return s(this,void 0,void 0,(function(){var s,u,l,f,h,p;return c(this,(function(c){switch(c.label){case 0:return c.trys.push([0,4,,5]),t.isTrackingEnabled()?(s=e===w.Tracking?E:n+" "+o.split(" ").map((function(e){return e[0].toUpperCase()+e.slice(1).toLowerCase()})).join(" "),(u=localStorage.getItem(g))?[3,2]:(P=O,[4,t.sendIdentify(s,i)])):[3,3];case 1:return u=c.sent(),[2];case 2:l={ronin_address:t.hashedAddress(i)},s!==E&&(l=r(r({},l),a)),f=t.trackingTimestamp(),h=function(){return fetch(S,{method:"POST",headers:{Authorization:"Basic "+R(),"Content-Type":"application/json"},body:JSON.stringify({events:[{type:"track",data:{uuid:d.v4(),event:s,ref:s===E?null:O,timestamp:f,session_id:u,user_id:I(),offset:s===E?void 0:k,action:s,action_properties:l}}]})})},s===E?h():N(s,h),c.label=3;case 3:return[3,5];case 4:return p=c.sent(),console.error("There was an error while tracking event. "+p),[3,5];case 5:return[2]}}))}))},e.prototype.trackScreen=function(e,n,o){return s(this,void 0,void 0,(function(){var i,a,s,u;return c(this,(function(c){switch(c.label){case 0:return c.trys.push([0,4,,5]),t.isTrackingEnabled()?(i=m.Access+" "+e,(a=localStorage.getItem(g))?[3,2]:(P=O,[4,t.sendIdentify(i,n)])):[3,3];case 1:return a=c.sent(),[2];case 2:s=t.trackingTimestamp(),N(i,(function(){return fetch(S,{method:"POST",headers:{Authorization:"Basic "+R(),"Content-Type":"application/json"},body:JSON.stringify({events:[{type:"screen",data:{uuid:d.v4(),event:i,ref:O,timestamp:s,session_id:a,user_id:I(),offset:k,screen:e,screen_properties:r({ronin_address:t.hashedAddress(n)},o)}}]})})})),c.label=3;case 3:return[3,5];case 4:return u=c.sent(),console.error("There was an error while tracking event. "+u),[3,5];case 5:return[2]}}))}))},e}();t.tracker=new C,t.trackEvent=t.tracker.trackEvent,t.askedForTracking=function(){return"true"===localStorage.getItem(y)},t.setAskedForTracking=function(e){return localStorage.setItem(y,e?"true":"false")},t.setTrackMode=function(e){localStorage.setItem("tracking",e?"true":"false")},t.urlToPageName=function(e){var t=e.split("/")[e.includes("/")?1:0];return t?t.split("-").map((function(e){return e[0].toUpperCase()+e.slice(1,e.length)})).join(" ")+" Page":"Home Page"},t.stopTrackingSession=function(){O=null,P=null,localStorage.removeItem(g),x&&(clearInterval(x),x=null)},t.startTrackingSession=function(e){!x&&t.isTrackingEnabled&&(x=setInterval((function(){t.trackEvent(w.Tracking,m.Noop,"",e)}),2e3))},t.heartbeating=function(){return!!x}},97954:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Message=t.ContentMessages=t.BackgroundMessages=void 0;var i,a,s=n(19416);(a=t.BackgroundMessages||(t.BackgroundMessages={}))[a.CHECK_FOR_BLOCK=0]="CHECK_FOR_BLOCK",a[a.CHECK_FOR_IGNORE=1]="CHECK_FOR_IGNORE",a[a.ADD_IGNORE_DOMAIN=2]="ADD_IGNORE_DOMAIN",(i=t.ContentMessages||(t.ContentMessages={}))[i.PONG=0]="PONG",t.Message={sendToBackground:function(e,t){return r(this,void 0,void 0,(function(){return o(this,(function(n){try{return[2,s.browser.runtime.sendMessage({type:e,data:t})]}catch(e){return console.error("sendToBackground",e),[2,null]}return[2]}))}))},sendToContent:function(e,t,n){return r(this,void 0,void 0,(function(){return o(this,(function(r){try{return[2,s.browser.tabs.sendMessage(e,{type:t,data:n})]}catch(e){return console.error("sendToContent",e),[2,null]}return[2]}))}))}}},73388:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.useLockSetting=t.LockSettingProvider=t.LockTime=void 0;var a,s=i(n(67294)),c=n(83740),u=n(47297);(a=t.LockTime||(t.LockTime={}))[a.ThirtySeconds=30]="ThirtySeconds",a[a.OneMinute=60]="OneMinute",a[a.FiveMinutes=300]="FiveMinutes",a[a.TenMinutes=600]="TenMinutes",a[a.ThirtyMinutes=1800]="ThirtyMinutes",a[a.OneHour=3600]="OneHour",a[a.EightHours=28800]="EightHours",a[a.Never=0]="Never";var l=s.createContext(null);t.LockSettingProvider=function(e){var t=e.children,n=function(){var e=u.useStoreState((function(e){return e.autoLock.lockSetting})),t=u.useStoreActions((function(e){return e.autoLock.setLockSetting}));return{lockSetting:e,save:function(e){t(e),localStorage.setItem(c.storageLockSettingKey,JSON.stringify(e))},resetLockAlarm:u.useStoreActions((function(e){return e.autoLock.resetLockAlarm}))}}();return s.default.createElement(l.Provider,{value:n},t)},t.useLockSetting=function(){var e=s.useContext(l);if(void 0===e)throw new Error("Can't read auto lock setting context");return e}},13711:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},c=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.useWeb3=t.Web3ContextProvider=t.Web3Context=t.web3=t.proxyProvider=void 0;var u=n(70687),l=n(8669),d=n(78957),f=i(n(67294)),h=n(19416),p=n(63690),v=n(47528),y=n(7566),g=n(36635),m=n(47297);t.proxyProvider={sendAsync:function(e,t){return a(void 0,void 0,void 0,(function(){var n,r;return s(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,h.browser.runtime.sendMessage(h.browser.runtime.id,{type:y.REQUEST_TYPES.ASK_PROVIDER_FROM_POPUP,message:e})];case 1:return n=o.sent(),t(null,n),[3,3];case 2:return r=o.sent(),t(r,null),[3,3];case 3:return[2]}}))}))}};var w=function(e,t){var n=d.createBatchCallProvider(e,t);return new u.Web3Wrapper(n)};t.web3=new u.Web3Wrapper(t.proxyProvider);var b=w(p.config.multicallMainnetAddress,t.proxyProvider);t.Web3Context=f.default.createContext({web3:t.web3,batchCallWeb3:b});var _=function(e){var n=p.config.multicallMainnetAddress;return e===p.NetworkId.TEST_NET&&(n=p.config.multicallTestnetAddress),w(n,t.proxyProvider)};t.Web3ContextProvider=function(e){var n,r=c(f.useState(),2),o=r[0],i=r[1],u=null!==(n=m.useStoreState((function(e){var t,n;return null===(n=null===(t=e.network)||void 0===t?void 0:t.selectedConfig)||void 0===n?void 0:n.id})))&&void 0!==n?n:v.mainnet.id,d=c(f.useState((function(){return _(u)})),2),h=d[0],p=d[1];return f.useEffect((function(){p((function(){return _(u)})),a(void 0,void 0,void 0,(function(){var e,n;return s(this,(function(r){switch(r.label){case 0:return[4,a(void 0,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return(e=new g.ContractStorage(u))?[4,e.get()]:[2];case 1:return[2,t.sent()]}}))}))];case 1:return(e=r.sent())&&((n=new l.SimpleRoninActionDecoder(t.web3)).loadContracts(e),i(n),v.nftModule.initModule({decoder:n})),[2]}}))}))}),[u]),f.default.createElement(t.Web3Context.Provider,{value:{web3:t.web3,batchCallWeb3:h,decoder:o}},e.children)},t.useWeb3=function(){return f.useContext(t.Web3Context)}},70655:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>i,__asyncDelegator:()=>_,__asyncGenerator:()=>b,__asyncValues:()=>E,__await:()=>w,__awaiter:()=>l,__classPrivateFieldGet:()=>P,__classPrivateFieldIn:()=>x,__classPrivateFieldSet:()=>O,__createBinding:()=>f,__decorate:()=>s,__exportStar:()=>h,__extends:()=>o,__generator:()=>d,__importDefault:()=>k,__importStar:()=>T,__makeTemplateObject:()=>S,__metadata:()=>u,__param:()=>c,__read:()=>v,__rest:()=>a,__spread:()=>y,__spreadArray:()=>m,__spreadArrays:()=>g,__values:()=>p});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function c(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var f=Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function h(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||f(t,e,n)}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function m(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function w(e){return this instanceof w?(this.v=e,this):new w(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof w?Promise.resolve(n.value.v).then(c,u):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function c(e){s("next",e)}function u(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function _(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:w(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function E(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}function S(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var A=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&f(t,e,n);return A(t,e),t}function k(e){return e&&e.__esModule?e:{default:e}}function P(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function O(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n}function x(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}},89589:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=function(e){return function(){return function(t){return function(n){var r=e[n.type];return t(r?r(n):n)}}}}},17910:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PORT_NAME=t.PATCH_STATE_TYPE=t.STATE_TYPE=t.DISPATCH_TYPE=void 0,t.DISPATCH_TYPE="chromex.dispatch",t.STATE_TYPE="chromex.state",t.PATCH_STATE_TYPE="chromex.patch_state",t.DEFAULT_PORT_NAME="chromex.port_name"},17045:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Store",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"applyMiddleware",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"wrapStore",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"alias",{enumerable:!0,get:function(){return a.default}});var r=s(n(75110)),o=s(n(44600)),i=s(n(18553)),a=s(n(89589));function s(e){return e&&e.__esModule?e:{default:e}}},45277:(e,t)=>{"use strict";function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.withSerializer=t.withDeserializer=t.noop=void 0;var r=function(e){return e};t.noop=r;var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r;return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),o.forEach((function(t){n(e,t,r[t])}))}return e}({},e,e.payload?{payload:t(e.payload)}:{})};t.withDeserializer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;return function(t){return function(n,i){return t(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=arguments.length>2?arguments[2]:void 0;return n?function(r){for(var i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];return n.apply(void 0,[r].concat(a))?e.apply(void 0,[o(r,t)].concat(a)):e.apply(void 0,[r].concat(a))}:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return e.apply(void 0,[o(n,t)].concat(i))}}(n,e,i))}}},t.withSerializer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];if(i.length<=n)throw new Error("Message in request could not be serialized. "+"Expected message in position ".concat(n," but only received ").concat(i.length," args."));return i[n]=o(i[n],e),t.apply(void 0,i)}}}},75110:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(n(5089)),o=n(17910),i=n(45277),a=c(n(96610)),s=n(96179);function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l="\nLooks like there is an error in the background page. You might want to inspect your background page for more details.\n",d={portName:o.DEFAULT_PORT_NAME,state:{},extensionId:null,serializer:i.noop,deserializer:i.noop,patchStrategy:a.default},f=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,r=n.portName,a=void 0===r?d.portName:r,c=n.state,u=void 0===c?d.state:c,l=n.extensionId,f=void 0===l?d.extensionId:l,h=n.serializer,p=void 0===h?d.serializer:h,v=n.deserializer,y=void 0===v?d.deserializer:v,g=n.patchStrategy,m=void 0===g?d.patchStrategy:g;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!a)throw new Error("portName is required in options");if("function"!=typeof p)throw new Error("serializer must be a function");if("function"!=typeof y)throw new Error("deserializer must be a function");if("function"!=typeof m)throw new Error("patchStrategy must be one of the included patching strategies or a custom patching function");this.portName=a,this.readyResolved=!1,this.readyPromise=new Promise((function(e){return t.readyResolve=e})),this.browserAPI=(0,s.getBrowserAPI)(),this.extensionId=f,this.port=this.browserAPI.runtime.connect(this.extensionId,{name:a}),this.safetyHandler=this.safetyHandler.bind(this),this.browserAPI.runtime.onMessage&&(this.safetyMessage=this.browserAPI.runtime.onMessage.addListener(this.safetyHandler)),this.serializedPortListener=(0,i.withDeserializer)(y)((function(){var e;return(e=t.port.onMessage).addListener.apply(e,arguments)})),this.serializedMessageSender=(0,i.withSerializer)(p)((function(){var e;return(e=t.browserAPI.runtime).sendMessage.apply(e,arguments)}),1),this.listeners=[],this.state=u,this.patchStrategy=m,this.serializedPortListener((function(e){switch(e.type){case o.STATE_TYPE:t.replaceState(e.payload),t.readyResolved||(t.readyResolved=!0,t.readyResolve());break;case o.PATCH_STATE_TYPE:t.patchState(e.payload)}})),this.dispatch=this.dispatch.bind(this)}var t,n;return t=e,n=[{key:"ready",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null!==e?this.readyPromise.then(e):this.readyPromise}},{key:"subscribe",value:function(e){var t=this;return this.listeners.push(e),function(){t.listeners=t.listeners.filter((function(t){return t!==e}))}}},{key:"patchState",value:function(e){this.state=this.patchStrategy(this.state,e),this.listeners.forEach((function(e){return e()}))}},{key:"replaceState",value:function(e){this.state=e,this.listeners.forEach((function(e){return e()}))}},{key:"getState",value:function(){return this.state}},{key:"replaceReducer",value:function(){}},{key:"dispatch",value:function(e){var t=this;return new Promise((function(n,i){t.serializedMessageSender(t.extensionId,{type:o.DISPATCH_TYPE,portName:t.portName,payload:e},null,(function(e){if(e){var o=e.error,a=e.value;if(o){var s=new Error("".concat(l).concat(o));i((0,r.default)(s,o))}else n(a&&a.payload)}else{var c=t.browserAPI.runtime.lastError,u=new Error("".concat(l).concat(c));i((0,r.default)(u,c))}}))}))}},{key:"safetyHandler",value:function(e){"storeReady"===e.action&&e.portName===this.portName&&(this.browserAPI.runtime.onMessage.removeListener(this.safetyHandler),this.readyResolved||(this.readyResolved=!0,this.readyResolve()))}}],n&&u(t.prototype,n),e}();t.default=f},44600:(e,t)=>{"use strict";function n(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];var i,a=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},s={getState:e.getState.bind(e),dispatch:function(){return a.apply(void 0,arguments)}};return r=(r||[]).map((function(e){return e(s)})),a=n.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(i=r)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}())(e.dispatch),e.dispatch=a,e}},18003:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.applyPatch=function(e,t){for(var n=[],r=0,o=0;o<t.length;++o){var i=t[o];r!==i.oldPos&&n.push(e.slice(r,i.oldPos)),"add"===i.type?(n.push(i.items),r=i.oldPos):r=i.items?i.oldPos+i.items.length:i.oldPos+i.length}return r!==e.length&&n.push(e.slice(r)),[].concat.apply([],n)}},7575:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.diff=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e,t){return e===t},r={removed:[],added:[]};return(0,o.default)(e,t,n,(function(e,t,n,o,i,a,s){if("add"===e)for(var c=a;c<s;++c)r.added.push(i[c]);else if("remove"===e)for(var u=n;u<o;++u)r.removed.push(t[u])})),r};var r,o=(r=n(97885))&&r.__esModule?r:{default:r}},97885:(e,t)=>{"use strict";function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,i){var a=function(e,t,n){for(var r=e.length,o=t.length,i=r+o,a={1:0},s=0;s<=i;++s)for(var c=-s;c<=s;c+=2){for(var u=void 0,l=(u=c===-s||c!==s&&a[c-1]+1<a[c+1]?a[c+1]:a[c-1]+1)-c;u<r&&l<o&&n(e[u],t[l]);)u++,l++;if(u===r&&l===o)return s;a[c]=u}return-1}(e,t,n);o(e,0,e.length,t,0,t.length,a,r.diagonal,r.all,n,i)};var r={none:0,horizontal:1,vertical:2,diagonal:4};function o(e,t,i,a,s,c,u,l,d,f,h){var p,v;if(0!==u)if(u!==i-t+(c-s)){for(var y=i-t,g=c-s,m=Math.floor(g/2),w={},b=-u-1;b<=u+1;++b)w[b]={d:1/0,segments:0,direct:r.none};for(var _=(n(p={},-u-1,{d:1/0,segments:0,direct:r.none}),n(p,u+1,{d:1/0,segments:0,direct:r.none}),p),E=0;E<=m;++E){var S=[_,w];w=S[0],_=S[1];for(var A=function(n){var o=E+n;if(0===E&&0===o)return w[n]={d:0,segments:0,direct:l},"continue";var i=[{direct:r.horizontal,d:w[n-1].d+1,segments:w[n-1].segments+(w[n-1].direct&r.horizontal?0:1)},{direct:r.vertical,d:_[n+1].d+1,segments:_[n+1].segments+(_[n+1].direct&r.vertical?0:1)}];o>0&&o<=y&&E>0&&E<=g&&f(e[t+o-1],a[s+E-1])&&i.push({direct:r.diagonal,d:_[n].d,segments:_[n].segments+(_[n].direct&r.diagonal?0:1)});var c=i.reduce((function(e,t){return e.d>t.d||e.d===t.d&&e.segments>t.segments?t:e}));i.forEach((function(e){c.d===e.d&&c.segments===e.segments&&(c.direct|=e.direct)})),w[n]=c},T=-u;T<=u;++T)A(T)}for(var k={},P=-u-1;P<=u+1;++P)k[P]={d:1/0,segments:0,direct:r.none};for(var O=(n(v={},-u-1,{d:1/0,segments:0,direct:r.none}),n(v,u+1,{d:1/0,segments:0,direct:r.none}),v),x=g;x>=m;--x){var M=[O,k];k=M[0],O=M[1];for(var N=function(n){var o=x+n;if(x===g&&o===y)return k[n]={d:0,segments:0,direct:d},"continue";var i=[{direct:r.horizontal,d:k[n+1].d+1,segments:k[n+1].segments+(k[n+1].direct&r.horizontal?0:1)},{direct:r.vertical,d:O[n-1].d+1,segments:O[n-1].segments+(O[n-1].direct&r.vertical?0:1)}];o>=0&&o<y&&x>=0&&x<g&&f(e[t+o],a[s+x])&&i.push({direct:r.diagonal,d:O[n].d,segments:O[n].segments+(O[n].direct&r.diagonal?0:1)});var c=i.reduce((function(e,t){return e.d>t.d||e.d===t.d&&e.segments>t.segments?t:e}));i.forEach((function(e){c.d===e.d&&c.segments===e.segments&&(c.direct|=e.direct)})),k[n]=c},I=u;I>=-u;--I)N(I)}for(var R={k:-1,d:1/0,segments:0,direct:r.none},C=-u;C<=u;++C){var D=w[C].d+k[C].d;if(D<R.d)R.k=C,R.d=D,R.segments=w[C].segments+k[C].segments+(w[C].segments&k[C].segments?0:1),R.direct=k[C].direct;else if(D===R.d){var j=w[C].segments+k[C].segments+(w[C].segments&k[C].segments?0:1);(j<R.segments||j===R.segments&&!(R.direct&r.diagonal)&&k[C].direct&r.diagonal)&&(R.k=C,R.d=D,R.segments=j,R.direct=k[C].direct)}}m+R.k===0&&0===m&&(m++,w[R.k].direct=k[R.k].direct,k[R.k].direct=O[R.k].direct),o(e,t,t+m+R.k,a,s,s+m,w[R.k].d,l,k[R.k].direct,f,h),o(e,t+m+R.k,i,a,s+m,c,k[R.k].d,w[R.k].direct,d,f,h)}else(l&r.horizontal?1:0)+(d&r.vertical?1:0)>=(l&r.vertical?1:0)+(d&r.horizontal?1:0)?(t!==i&&h("remove",e,t,i,a,s,s),s!==c&&h("add",e,i,i,a,s,c)):(s!==c&&h("add",e,t,t,a,s,c),t!==i&&h("remove",e,t,i,a,c,c));else h("same",e,t,i,a,s,c)}r.all=r.horizontal|r.vertical|r.diagonal},19392:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPatch=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e,t){return e===t},r=[],i=null,a=null;function s(e,t,n,o,s,c,u){if("same"===e)a&&r.push(a),i&&r.push(i),a=null,i=null;else if("remove"===e){a||(a={type:"remove",oldPos:n,newPos:c,items:[]});for(var l=n;l<o;++l)a.items.push(t[l]);i&&(i.oldPos+=o-n,a.oldPos===n&&(a.newPos-=o-n))}else if("add"===e){i||(i={type:"add",oldPos:n,newPos:c,items:[]});for(var d=c;d<u;++d)i.items.push(s[d])}}return(0,o.default)(e,t,n,s),s("same",[],0,0,[],0,0),r};var r,o=(r=n(97885))&&r.__esModule?r:{default:r}},2627:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e,t){return e===t},r=[];return(0,o.default)(e,t,n,(function(e,t,n,o){if("same"===e)for(var i=n;i<o;++i)r.push(t[i])})),r};var r,o=(r=n(97885))&&r.__esModule?r:{default:r}},59559:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={same:!0};Object.defineProperty(t,"same",{enumerable:!0,get:function(){return i.default}});var o,i=(o=n(2627))&&o.__esModule?o:{default:o},a=n(7575);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var s=n(19392);Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))}));var c=n(18003);Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}}))}))},13134:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,n){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0},u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],l=[];return Object.keys(n).forEach((function(d){t[d]!==n[d]&&l.push(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}({key:d},function(t,n,i,c){return null===t||function(e,t){var n,r=Array.isArray(e)&&Array.isArray(t);return!("object"===a(n=t)&&null!==n&&n.constructor===s||r)||a(t)!==a(e)}(t,n)||!i(t,n,c)?{change:r.DIFF_STATUS_UPDATED,value:n}:Array.isArray(t)&&Array.isArray(n)?{change:r.DIFF_STATUS_ARRAY_UPDATED,value:(0,o.getPatch)(t,n)}:{change:r.DIFF_STATUS_KEYS_UPDATED,value:e(t,n,i,c)}}(t[d],n[d],c,u.concat(d))))})),Object.keys(t).forEach((function(e){n.hasOwnProperty(e)||l.push({key:e,change:r.DIFF_STATUS_REMOVED})})),l};var r=n(79028),o=n(59559);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}var s={}.constructor},68241:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n){return(0,o.default)(t,n,e)}};var r,o=(r=n(13134))&&r.__esModule?r:{default:r}},33410:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=[];return Object.keys(t).forEach((function(o){e[o]!==t[o]&&n.push({key:o,value:t[o],change:r.DIFF_STATUS_UPDATED})})),Object.keys(e).forEach((function(e){t.hasOwnProperty(e)||n.push({key:e,change:r.DIFF_STATUS_REMOVED})})),n};var r=n(79028)},96610:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=Object.assign({},e);return t.forEach((function(e){var t=e.change,o=e.key,i=e.value;switch(t){case r.DIFF_STATUS_UPDATED:n[o]=i;break;case r.DIFF_STATUS_REMOVED:Reflect.deleteProperty(n,o)}})),n};var r=n(79028)},96179:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBrowserAPI=function(){var e;try{e=self.chrome||self.browser||browser}catch(t){e=browser}if(!e)throw new Error("Browser API is not present");return e}},18553:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=n(17910),i=n(45277),a=n(96179),s=(r=n(33410))&&r.__esModule?r:{default:r},c={portName:o.DEFAULT_PORT_NAME,dispatchResponder:function(e,t){Promise.resolve(e).then((function(e){t({error:null,value:e})})).catch((function(e){console.error("error dispatching result:",e),t({error:e.message,value:null})}))},serializer:i.noop,deserializer:i.noop,diffStrategy:s.default};t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c,n=t.portName,r=void 0===n?c.portName:n,s=t.dispatchResponder,u=void 0===s?c.dispatchResponder:s,l=t.serializer,d=void 0===l?c.serializer:l,f=t.deserializer,h=void 0===f?c.deserializer:f,p=t.diffStrategy,v=void 0===p?c.diffStrategy:p;if(!r)throw new Error("portName is required in options");if("function"!=typeof d)throw new Error("serializer must be a function");if("function"!=typeof h)throw new Error("deserializer must be a function");if("function"!=typeof v)throw new Error("diffStrategy must be one of the included diffing strategies or a custom diff function");var y=(0,a.getBrowserAPI)(),g=function(t,n,i){if(t.type===o.DISPATCH_TYPE&&t.portName===r){var a=Object.assign({},t.payload,{_sender:n}),s=null;try{s=e.dispatch(a)}catch(e){s=Promise.reject(e.message),console.error(e)}return u(s,i),!0}},m=function(t){if(t.name===r){var n=(0,i.withSerializer)(d)((function(){return t.postMessage.apply(t,arguments)})),a=e.getState(),s=e.subscribe((function(){var t=e.getState(),r=v(a,t);r.length&&(a=t,n({type:o.PATCH_STATE_TYPE,payload:r}))}));t.onDisconnect.addListener(s),n({type:o.STATE_TYPE,payload:a})}},w=(0,i.withDeserializer)(h),b=function(e){return e.type===o.DISPATCH_TYPE&&e.portName===r};w((function(){var e;return(e=y.runtime.onMessage).addListener.apply(e,arguments)}))(g,b),y.runtime.onMessageExternal?w((function(){var e;return(e=y.runtime.onMessageExternal).addListener.apply(e,arguments)}))(g,b):console.warn("runtime.onMessageExternal is not supported"),y.runtime.onConnect.addListener(m),y.runtime.onConnectExternal?y.runtime.onConnectExternal.addListener(m):console.warn("runtime.onConnectExternal is not supported"),y.tabs.query({},(function(e){var t=!0,n=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var s=i.value;y.tabs.sendMessage(s.id,{action:"storeReady",portName:r},(function(){chrome.runtime.lastError}))}}catch(e){n=!0,o=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw o}}}))}},32772:()=>{},69159:()=>{},35883:()=>{},46601:()=>{},89214:()=>{},96419:()=>{},56353:()=>{},42480:()=>{},5566:()=>{},34498:()=>{},65881:()=>{},89020:()=>{},69386:()=>{},31616:()=>{},29120:()=>{},46586:()=>{},52361:()=>{},94616:()=>{},71408:()=>{},23646:()=>{},88924:()=>{}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={id:e,loaded:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}r.m=t,r.amdO={},e=[],r.O=(t,n,o,i)=>{if(!n){var a=1/0;for(l=0;l<e.length;l++){for(var[n,o,i]=e[l],s=!0,c=0;c<n.length;c++)(!1&i||a>=i)&&Object.keys(r.O).every((e=>r.O[e](n[c])))?n.splice(c--,1):(s=!1,i<a&&(a=i));if(s){e.splice(l--,1);var u=o();void 0!==u&&(t=u)}}return t}i=i||0;for(var l=e.length;l>0&&e[l-1][2]>i;l--)e[l]=e[l-1];e[l]=[n,o,i]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r.j=352,(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),(()=>{var e={352:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,i,[a,s,c]=n,u=0;if(a.some((t=>0!==e[t]))){for(o in s)r.o(s,o)&&(r.m[o]=s[o]);if(c)var l=c(r)}for(t&&t(n);u<a.length;u++)i=a[u],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(l)},n=self.webpackChunkronin_wallet=self.webpackChunkronin_wallet||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var o=r.O(void 0,[216,238,666,184,202],(()=>r(24023)));o=r.O(o)})();
{
  "version": 3,
  "sources": ["../../../../node_modules/webextension-polyfill/dist/browser-polyfill.js", "../../../../node_modules/dompurify/src/utils.js", "../../../../node_modules/dompurify/src/tags.js", "../../../../node_modules/dompurify/src/attrs.js", "../../../../node_modules/dompurify/src/regexp.js", "../../../../node_modules/dompurify/src/purify.js", "../../../../src/js/Core/Info.ts", "../../../../src/js/Core/Storage/SyncedStorage.ts", "../../../../src/js/Core/Storage/Storage.ts", "../../../../src/js/Options/Data/Settings.ts", "../../../../src/js/bootstrapDomPurify.ts", "../../../../src/js/config.ts", "../../../../src/js/Core/ExtensionResources.ts", "../../../../src/js/Core/Localization/Language.ts", "../../../../src/js/Core/Background.ts", "../../../../src/js/Core/Errors/ErrorParser.ts", "../../../../src/js/Content/Modules/Facades/SteamStoreApiFacade.ts", "../../../../src/js/Core/Localization/Localization.ts", "../../../../src/js/Core/Html/HtmlParser.ts", "../../../../src/js/Core/Currencies.ts", "../../../../src/js/Content/Modules/Facades/AugmentedSteamApiFacade.ts", "../../../../src/js/Content/Modules/Currency/CurrencyManager.ts", "../../../../src/js/Content/Modules/Context/Feature.ts", "../../../../src/js/Core/Errors/Errors.ts", "../../../../src/js/Content/Modules/Context/Context.ts", "../../../../src/js/Core/Environment.ts", "../../../../src/js/Core/Storage/CookieReader.ts", "../../../../src/js/Core/Localization/LanguageFactory.ts", "../../../../src/js/Content/Modules/Facades/SteamCommunityApiFacade.ts", "../../../../src/js/Content/Modules/RequestData.ts", "../../../../src/js/Core/User/LegacyUser.ts", "../../../../src/js/Core/User/ReactUser.ts", "../../../../src/js/Core/User/UserFactory.ts", "../../../../src/js/Content/Modules/DOMHelper.ts", "../../../../src/js/Content/Modules/Messaging/Messenger.ts", "../../../../src/js/Content/Modules/Facades/SteamFacade.ts", "../../../../src/js/Core/AppConfig/AppConfig.ts", "../../../../src/js/Core/AppConfig/AppConfigFactory.ts", "../../../../src/js/Content/Features/Page.ts", "../../../../node_modules/svelte/src/runtime/internal/utils.js", "../../../../node_modules/svelte/src/runtime/internal/environment.js", "../../../../node_modules/svelte/src/runtime/internal/loop.js", "../../../../node_modules/svelte/src/runtime/internal/globals.js", "../../../../node_modules/svelte/src/runtime/internal/ResizeObserverSingleton.js", "../../../../node_modules/svelte/src/runtime/internal/dom.js", "../../../../node_modules/svelte/src/runtime/internal/style_manager.js", "../../../../node_modules/svelte/src/runtime/internal/lifecycle.js", "../../../../node_modules/svelte/src/runtime/internal/scheduler.js", "../../../../node_modules/svelte/src/runtime/internal/transitions.js", "../../../../node_modules/svelte/src/runtime/internal/await_block.js", "../../../../node_modules/svelte/src/runtime/internal/each.js", "../../../../node_modules/svelte/src/shared/boolean_attributes.js", "../../../../node_modules/svelte/src/runtime/internal/Component.js", "../../../../node_modules/svelte/src/shared/version.js", "../../../../node_modules/svelte/src/runtime/internal/disclose-version/index.js", "../../../../src/localization/compiled/_strings.ts", "../../../../src/js/Content/Modules/Widgets/ProgressBar.svelte", "../../../../src/js/Content/Steam/ReactDOM.ts", "../../../../src/js/Content/Modules/Widgets/ProgressBar.ts", "../../../../src/js/Content/Modules/Data/DynamicStore.ts", "../../../../src/js/Content/externalLink.ts", "../../../../src/js/Content/Modules/Facades/CacheApiFacade.ts", "../../../../node_modules/svelte/src/runtime/transition/index.js", "../../../../src/js/Core/Modals/Contained/ModalButton.svelte", "../../../../src/js/Core/Modals/Contained/Modal.svelte", "../../../../src/js/Core/Modals/ConfirmDialog.ts", "../../../../src/js/Content/Modules/Widgets/AugmentedSteam/AugmentedSteamMenu.svelte", "../../../../src/js/Content/Modules/Widgets/AugmentedSteam/Components/Warning.svelte", "../../../../src/js/Core/Storage/LocalStorage.ts", "../../../../src/js/Content/Modules/Widgets/AugmentedSteam/Components/LoginWarning.svelte", "../../../../src/js/Content/Modules/Widgets/AugmentedSteam/Components/LanguageWarning.svelte", "../../../../src/js/Content/Modules/Widgets/AugmentedSteam/AugmentedSteamWarnings.svelte", "../../../../src/js/Content/Modules/Widgets/AugmentedSteam/BackToTop.svelte", "../../../../src/js/Content/Modules/AugmentedSteam.ts", "../../../../src/js/Core/Version.ts", "../../../../src/js/Core/Update/Changelog.svelte", "../../../../src/js/Core/Update/ChangelogHandler.ts", "../../../../src/js/Content/Modules/Facades/ITADApiFacade.ts", "../../../../src/js/Core/Sync/ESyncStatus.ts", "../../../../src/js/Core/Sync/SyncIndicator.svelte", "../../../../src/js/Content/Modules/Widgets/ITADSync/ITADSyncStatus.svelte", "../../../../src/js/Content/Modules/Widgets/ITADSync/ITADSyncMenu.svelte", "../../../../src/js/Content/Modules/ITAD.ts", "../../../../src/js/Content/Features/LegacyPage.ts", "../../../../src/js/Content/Features/CommunityPage.ts", "../../../../src/js/Content/Modules/Context/ContextType.ts", "../../../../src/js/Content/Features/Community/FConfirmDeleteComment.ts", "../../../../src/js/Content/Modules/Community/SpamComments.ts", "../../../../src/js/Content/Features/Community/FHideSpamComments.ts", "../../../../src/js/Core/Html/Html.ts", "../../../../src/js/Content/Features/Common/FHideTrademarks.ts", "../../../../src/js/Content/Features/Common/FDisableLinkFilter.ts", "../../../../src/js/Content/Features/Common/FKeepSSACheckboxState.ts", "../../../../src/js/Content/Features/Common/FDefaultCommunityTab.ts", "../../../../src/js/Content/Modules/EarlyAccess/EarlyAccess.svelte", "../../../../src/js/Core/GameId/GameId.ts", "../../../../src/js/Core/GameId/AppId.ts", "../../../../src/js/Content/Modules/EarlyAccess/EarlyAccessUtils.ts", "../../../../src/js/Content/Features/Common/FEarlyAccess.ts", "../../../../src/js/Content/Features/Common/CBase.ts", "../../../../src/js/Content/Features/Community/FFavoriteEmoticons.svelte", "../../../../src/js/Content/Features/Community/FFavoriteEmoticons.ts", "../../../../src/js/Content/Features/Community/CCommunityBase.ts", "../../../../node_modules/luxon/src/errors.js", "../../../../node_modules/luxon/src/impl/formats.js", "../../../../node_modules/luxon/src/zone.js", "../../../../node_modules/luxon/src/zones/systemZone.js", "../../../../node_modules/luxon/src/zones/IANAZone.js", "../../../../node_modules/luxon/src/impl/locale.js", "../../../../node_modules/luxon/src/zones/fixedOffsetZone.js", "../../../../node_modules/luxon/src/zones/invalidZone.js", "../../../../node_modules/luxon/src/impl/zoneUtil.js", "../../../../node_modules/luxon/src/settings.js", "../../../../node_modules/luxon/src/impl/invalid.js", "../../../../node_modules/luxon/src/impl/conversions.js", "../../../../node_modules/luxon/src/impl/util.js", "../../../../node_modules/luxon/src/impl/english.js", "../../../../node_modules/luxon/src/impl/formatter.js", "../../../../node_modules/luxon/src/impl/regexParser.js", "../../../../node_modules/luxon/src/duration.js", "../../../../node_modules/luxon/src/interval.js", "../../../../node_modules/luxon/src/info.js", "../../../../node_modules/luxon/src/impl/diff.js", "../../../../node_modules/luxon/src/impl/digits.js", "../../../../node_modules/luxon/src/impl/tokenParser.js", "../../../../node_modules/luxon/src/datetime.js", "../../../../src/js/Content/Modules/Widgets/SortBox.svelte", "../../../../src/js/Content/Features/Community/ProfileStats/FAchievementSort.ts", "../../../../src/js/Content/Features/Community/ProfileStats/FShowHiddenAchievements.ts", "../../../../src/js/Content/Features/Community/ProfileStats/CProfileStats.ts", "../../../../src/js/Content/Features/Community/ProfileStats/PProfileStats.ts"],
  "sourcesContent": ["/* webextension-polyfill - v0.10.0 - Fri Aug 12 2022 19:42:44 */\n/* -*- Mode: indent-tabs-mode: nil; js-indent-level: 2 -*- */\n/* vim: set sts=2 sw=2 et tw=80: */\n/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\"use strict\";\n\nif (!globalThis.chrome?.runtime?.id) {\n  throw new Error(\"This script should only be loaded in a browser extension.\");\n}\n\nif (typeof globalThis.browser === \"undefined\" || Object.getPrototypeOf(globalThis.browser) !== Object.prototype) {\n  const CHROME_SEND_MESSAGE_CALLBACK_NO_RESPONSE_MESSAGE = \"The message port closed before a response was received.\";\n\n  // Wrapping the bulk of this polyfill in a one-time-use function is a minor\n  // optimization for Firefox. Since Spidermonkey does not fully parse the\n  // contents of a function until the first time it's called, and since it will\n  // never actually need to be called, this allows the polyfill to be included\n  // in Firefox nearly for free.\n  const wrapAPIs = extensionAPIs => {\n    // NOTE: apiMetadata is associated to the content of the api-metadata.json file\n    // at build time by replacing the following \"include\" with the content of the\n    // JSON file.\n    const apiMetadata = {\n      \"alarms\": {\n        \"clear\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"clearAll\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"get\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"getAll\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        }\n      },\n      \"bookmarks\": {\n        \"create\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"get\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getChildren\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getRecent\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getSubTree\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getTree\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"move\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 2\n        },\n        \"remove\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removeTree\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"search\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"update\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 2\n        }\n      },\n      \"browserAction\": {\n        \"disable\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        },\n        \"enable\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        },\n        \"getBadgeBackgroundColor\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getBadgeText\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getPopup\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getTitle\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"openPopup\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"setBadgeBackgroundColor\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        },\n        \"setBadgeText\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        },\n        \"setIcon\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"setPopup\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        },\n        \"setTitle\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        }\n      },\n      \"browsingData\": {\n        \"remove\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 2\n        },\n        \"removeCache\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removeCookies\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removeDownloads\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removeFormData\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removeHistory\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removeLocalStorage\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removePasswords\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removePluginData\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"settings\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        }\n      },\n      \"commands\": {\n        \"getAll\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        }\n      },\n      \"contextMenus\": {\n        \"remove\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removeAll\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"update\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 2\n        }\n      },\n      \"cookies\": {\n        \"get\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getAll\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getAllCookieStores\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"remove\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"set\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        }\n      },\n      \"devtools\": {\n        \"inspectedWindow\": {\n          \"eval\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2,\n            \"singleCallbackArg\": false\n          }\n        },\n        \"panels\": {\n          \"create\": {\n            \"minArgs\": 3,\n            \"maxArgs\": 3,\n            \"singleCallbackArg\": true\n          },\n          \"elements\": {\n            \"createSidebarPane\": {\n              \"minArgs\": 1,\n              \"maxArgs\": 1\n            }\n          }\n        }\n      },\n      \"downloads\": {\n        \"cancel\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"download\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"erase\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getFileIcon\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 2\n        },\n        \"open\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        },\n        \"pause\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removeFile\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"resume\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"search\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"show\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        }\n      },\n      \"extension\": {\n        \"isAllowedFileSchemeAccess\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"isAllowedIncognitoAccess\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        }\n      },\n      \"history\": {\n        \"addUrl\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"deleteAll\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"deleteRange\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"deleteUrl\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getVisits\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"search\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        }\n      },\n      \"i18n\": {\n        \"detectLanguage\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getAcceptLanguages\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        }\n      },\n      \"identity\": {\n        \"launchWebAuthFlow\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        }\n      },\n      \"idle\": {\n        \"queryState\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        }\n      },\n      \"management\": {\n        \"get\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getAll\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"getSelf\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"setEnabled\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 2\n        },\n        \"uninstallSelf\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        }\n      },\n      \"notifications\": {\n        \"clear\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"create\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 2\n        },\n        \"getAll\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"getPermissionLevel\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"update\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 2\n        }\n      },\n      \"pageAction\": {\n        \"getPopup\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getTitle\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"hide\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        },\n        \"setIcon\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"setPopup\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        },\n        \"setTitle\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        },\n        \"show\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        }\n      },\n      \"permissions\": {\n        \"contains\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getAll\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"remove\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"request\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        }\n      },\n      \"runtime\": {\n        \"getBackgroundPage\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"getPlatformInfo\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"openOptionsPage\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"requestUpdateCheck\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"sendMessage\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 3\n        },\n        \"sendNativeMessage\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 2\n        },\n        \"setUninstallURL\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        }\n      },\n      \"sessions\": {\n        \"getDevices\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"getRecentlyClosed\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"restore\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        }\n      },\n      \"storage\": {\n        \"local\": {\n          \"clear\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"get\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getBytesInUse\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"set\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"managed\": {\n          \"get\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getBytesInUse\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          }\n        },\n        \"sync\": {\n          \"clear\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"get\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getBytesInUse\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"set\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        }\n      },\n      \"tabs\": {\n        \"captureVisibleTab\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 2\n        },\n        \"create\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"detectLanguage\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"discard\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"duplicate\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"executeScript\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 2\n        },\n        \"get\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getCurrent\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"getZoom\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"getZoomSettings\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"goBack\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"goForward\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"highlight\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"insertCSS\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 2\n        },\n        \"move\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 2\n        },\n        \"query\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"reload\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 2\n        },\n        \"remove\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removeCSS\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 2\n        },\n        \"sendMessage\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 3\n        },\n        \"setZoom\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 2\n        },\n        \"setZoomSettings\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 2\n        },\n        \"update\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 2\n        }\n      },\n      \"topSites\": {\n        \"get\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        }\n      },\n      \"webNavigation\": {\n        \"getAllFrames\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getFrame\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        }\n      },\n      \"webRequest\": {\n        \"handlerBehaviorChanged\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        }\n      },\n      \"windows\": {\n        \"create\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"get\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 2\n        },\n        \"getAll\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"getCurrent\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"getLastFocused\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"remove\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"update\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 2\n        }\n      }\n    };\n\n    if (Object.keys(apiMetadata).length === 0) {\n      throw new Error(\"api-metadata.json has not been included in browser-polyfill\");\n    }\n\n    /**\n     * A WeakMap subclass which creates and stores a value for any key which does\n     * not exist when accessed, but behaves exactly as an ordinary WeakMap\n     * otherwise.\n     *\n     * @param {function} createItem\n     *        A function which will be called in order to create the value for any\n     *        key which does not exist, the first time it is accessed. The\n     *        function receives, as its only argument, the key being created.\n     */\n    class DefaultWeakMap extends WeakMap {\n      constructor(createItem, items = undefined) {\n        super(items);\n        this.createItem = createItem;\n      }\n\n      get(key) {\n        if (!this.has(key)) {\n          this.set(key, this.createItem(key));\n        }\n\n        return super.get(key);\n      }\n    }\n\n    /**\n     * Returns true if the given object is an object with a `then` method, and can\n     * therefore be assumed to behave as a Promise.\n     *\n     * @param {*} value The value to test.\n     * @returns {boolean} True if the value is thenable.\n     */\n    const isThenable = value => {\n      return value && typeof value === \"object\" && typeof value.then === \"function\";\n    };\n\n    /**\n     * Creates and returns a function which, when called, will resolve or reject\n     * the given promise based on how it is called:\n     *\n     * - If, when called, `chrome.runtime.lastError` contains a non-null object,\n     *   the promise is rejected with that value.\n     * - If the function is called with exactly one argument, the promise is\n     *   resolved to that value.\n     * - Otherwise, the promise is resolved to an array containing all of the\n     *   function's arguments.\n     *\n     * @param {object} promise\n     *        An object containing the resolution and rejection functions of a\n     *        promise.\n     * @param {function} promise.resolve\n     *        The promise's resolution function.\n     * @param {function} promise.reject\n     *        The promise's rejection function.\n     * @param {object} metadata\n     *        Metadata about the wrapped method which has created the callback.\n     * @param {boolean} metadata.singleCallbackArg\n     *        Whether or not the promise is resolved with only the first\n     *        argument of the callback, alternatively an array of all the\n     *        callback arguments is resolved. By default, if the callback\n     *        function is invoked with only a single argument, that will be\n     *        resolved to the promise, while all arguments will be resolved as\n     *        an array if multiple are given.\n     *\n     * @returns {function}\n     *        The generated callback function.\n     */\n    const makeCallback = (promise, metadata) => {\n      return (...callbackArgs) => {\n        if (extensionAPIs.runtime.lastError) {\n          promise.reject(new Error(extensionAPIs.runtime.lastError.message));\n        } else if (metadata.singleCallbackArg ||\n                   (callbackArgs.length <= 1 && metadata.singleCallbackArg !== false)) {\n          promise.resolve(callbackArgs[0]);\n        } else {\n          promise.resolve(callbackArgs);\n        }\n      };\n    };\n\n    const pluralizeArguments = (numArgs) => numArgs == 1 ? \"argument\" : \"arguments\";\n\n    /**\n     * Creates a wrapper function for a method with the given name and metadata.\n     *\n     * @param {string} name\n     *        The name of the method which is being wrapped.\n     * @param {object} metadata\n     *        Metadata about the method being wrapped.\n     * @param {integer} metadata.minArgs\n     *        The minimum number of arguments which must be passed to the\n     *        function. If called with fewer than this number of arguments, the\n     *        wrapper will raise an exception.\n     * @param {integer} metadata.maxArgs\n     *        The maximum number of arguments which may be passed to the\n     *        function. If called with more than this number of arguments, the\n     *        wrapper will raise an exception.\n     * @param {boolean} metadata.singleCallbackArg\n     *        Whether or not the promise is resolved with only the first\n     *        argument of the callback, alternatively an array of all the\n     *        callback arguments is resolved. By default, if the callback\n     *        function is invoked with only a single argument, that will be\n     *        resolved to the promise, while all arguments will be resolved as\n     *        an array if multiple are given.\n     *\n     * @returns {function(object, ...*)}\n     *       The generated wrapper function.\n     */\n    const wrapAsyncFunction = (name, metadata) => {\n      return function asyncFunctionWrapper(target, ...args) {\n        if (args.length < metadata.minArgs) {\n          throw new Error(`Expected at least ${metadata.minArgs} ${pluralizeArguments(metadata.minArgs)} for ${name}(), got ${args.length}`);\n        }\n\n        if (args.length > metadata.maxArgs) {\n          throw new Error(`Expected at most ${metadata.maxArgs} ${pluralizeArguments(metadata.maxArgs)} for ${name}(), got ${args.length}`);\n        }\n\n        return new Promise((resolve, reject) => {\n          if (metadata.fallbackToNoCallback) {\n            // This API method has currently no callback on Chrome, but it return a promise on Firefox,\n            // and so the polyfill will try to call it with a callback first, and it will fallback\n            // to not passing the callback if the first call fails.\n            try {\n              target[name](...args, makeCallback({resolve, reject}, metadata));\n            } catch (cbError) {\n              console.warn(`${name} API method doesn't seem to support the callback parameter, ` +\n                           \"falling back to call it without a callback: \", cbError);\n\n              target[name](...args);\n\n              // Update the API method metadata, so that the next API calls will not try to\n              // use the unsupported callback anymore.\n              metadata.fallbackToNoCallback = false;\n              metadata.noCallback = true;\n\n              resolve();\n            }\n          } else if (metadata.noCallback) {\n            target[name](...args);\n            resolve();\n          } else {\n            target[name](...args, makeCallback({resolve, reject}, metadata));\n          }\n        });\n      };\n    };\n\n    /**\n     * Wraps an existing method of the target object, so that calls to it are\n     * intercepted by the given wrapper function. The wrapper function receives,\n     * as its first argument, the original `target` object, followed by each of\n     * the arguments passed to the original method.\n     *\n     * @param {object} target\n     *        The original target object that the wrapped method belongs to.\n     * @param {function} method\n     *        The method being wrapped. This is used as the target of the Proxy\n     *        object which is created to wrap the method.\n     * @param {function} wrapper\n     *        The wrapper function which is called in place of a direct invocation\n     *        of the wrapped method.\n     *\n     * @returns {Proxy<function>}\n     *        A Proxy object for the given method, which invokes the given wrapper\n     *        method in its place.\n     */\n    const wrapMethod = (target, method, wrapper) => {\n      return new Proxy(method, {\n        apply(targetMethod, thisObj, args) {\n          return wrapper.call(thisObj, target, ...args);\n        },\n      });\n    };\n\n    let hasOwnProperty = Function.call.bind(Object.prototype.hasOwnProperty);\n\n    /**\n     * Wraps an object in a Proxy which intercepts and wraps certain methods\n     * based on the given `wrappers` and `metadata` objects.\n     *\n     * @param {object} target\n     *        The target object to wrap.\n     *\n     * @param {object} [wrappers = {}]\n     *        An object tree containing wrapper functions for special cases. Any\n     *        function present in this object tree is called in place of the\n     *        method in the same location in the `target` object tree. These\n     *        wrapper methods are invoked as described in {@see wrapMethod}.\n     *\n     * @param {object} [metadata = {}]\n     *        An object tree containing metadata used to automatically generate\n     *        Promise-based wrapper functions for asynchronous. Any function in\n     *        the `target` object tree which has a corresponding metadata object\n     *        in the same location in the `metadata` tree is replaced with an\n     *        automatically-generated wrapper function, as described in\n     *        {@see wrapAsyncFunction}\n     *\n     * @returns {Proxy<object>}\n     */\n    const wrapObject = (target, wrappers = {}, metadata = {}) => {\n      let cache = Object.create(null);\n      let handlers = {\n        has(proxyTarget, prop) {\n          return prop in target || prop in cache;\n        },\n\n        get(proxyTarget, prop, receiver) {\n          if (prop in cache) {\n            return cache[prop];\n          }\n\n          if (!(prop in target)) {\n            return undefined;\n          }\n\n          let value = target[prop];\n\n          if (typeof value === \"function\") {\n            // This is a method on the underlying object. Check if we need to do\n            // any wrapping.\n\n            if (typeof wrappers[prop] === \"function\") {\n              // We have a special-case wrapper for this method.\n              value = wrapMethod(target, target[prop], wrappers[prop]);\n            } else if (hasOwnProperty(metadata, prop)) {\n              // This is an async method that we have metadata for. Create a\n              // Promise wrapper for it.\n              let wrapper = wrapAsyncFunction(prop, metadata[prop]);\n              value = wrapMethod(target, target[prop], wrapper);\n            } else {\n              // This is a method that we don't know or care about. Return the\n              // original method, bound to the underlying object.\n              value = value.bind(target);\n            }\n          } else if (typeof value === \"object\" && value !== null &&\n                     (hasOwnProperty(wrappers, prop) ||\n                      hasOwnProperty(metadata, prop))) {\n            // This is an object that we need to do some wrapping for the children\n            // of. Create a sub-object wrapper for it with the appropriate child\n            // metadata.\n            value = wrapObject(value, wrappers[prop], metadata[prop]);\n          } else if (hasOwnProperty(metadata, \"*\")) {\n            // Wrap all properties in * namespace.\n            value = wrapObject(value, wrappers[prop], metadata[\"*\"]);\n          } else {\n            // We don't need to do any wrapping for this property,\n            // so just forward all access to the underlying object.\n            Object.defineProperty(cache, prop, {\n              configurable: true,\n              enumerable: true,\n              get() {\n                return target[prop];\n              },\n              set(value) {\n                target[prop] = value;\n              },\n            });\n\n            return value;\n          }\n\n          cache[prop] = value;\n          return value;\n        },\n\n        set(proxyTarget, prop, value, receiver) {\n          if (prop in cache) {\n            cache[prop] = value;\n          } else {\n            target[prop] = value;\n          }\n          return true;\n        },\n\n        defineProperty(proxyTarget, prop, desc) {\n          return Reflect.defineProperty(cache, prop, desc);\n        },\n\n        deleteProperty(proxyTarget, prop) {\n          return Reflect.deleteProperty(cache, prop);\n        },\n      };\n\n      // Per contract of the Proxy API, the \"get\" proxy handler must return the\n      // original value of the target if that value is declared read-only and\n      // non-configurable. For this reason, we create an object with the\n      // prototype set to `target` instead of using `target` directly.\n      // Otherwise we cannot return a custom object for APIs that\n      // are declared read-only and non-configurable, such as `chrome.devtools`.\n      //\n      // The proxy handlers themselves will still use the original `target`\n      // instead of the `proxyTarget`, so that the methods and properties are\n      // dereferenced via the original targets.\n      let proxyTarget = Object.create(target);\n      return new Proxy(proxyTarget, handlers);\n    };\n\n    /**\n     * Creates a set of wrapper functions for an event object, which handles\n     * wrapping of listener functions that those messages are passed.\n     *\n     * A single wrapper is created for each listener function, and stored in a\n     * map. Subsequent calls to `addListener`, `hasListener`, or `removeListener`\n     * retrieve the original wrapper, so that  attempts to remove a\n     * previously-added listener work as expected.\n     *\n     * @param {DefaultWeakMap<function, function>} wrapperMap\n     *        A DefaultWeakMap object which will create the appropriate wrapper\n     *        for a given listener function when one does not exist, and retrieve\n     *        an existing one when it does.\n     *\n     * @returns {object}\n     */\n    const wrapEvent = wrapperMap => ({\n      addListener(target, listener, ...args) {\n        target.addListener(wrapperMap.get(listener), ...args);\n      },\n\n      hasListener(target, listener) {\n        return target.hasListener(wrapperMap.get(listener));\n      },\n\n      removeListener(target, listener) {\n        target.removeListener(wrapperMap.get(listener));\n      },\n    });\n\n    const onRequestFinishedWrappers = new DefaultWeakMap(listener => {\n      if (typeof listener !== \"function\") {\n        return listener;\n      }\n\n      /**\n       * Wraps an onRequestFinished listener function so that it will return a\n       * `getContent()` property which returns a `Promise` rather than using a\n       * callback API.\n       *\n       * @param {object} req\n       *        The HAR entry object representing the network request.\n       */\n      return function onRequestFinished(req) {\n        const wrappedReq = wrapObject(req, {} /* wrappers */, {\n          getContent: {\n            minArgs: 0,\n            maxArgs: 0,\n          },\n        });\n        listener(wrappedReq);\n      };\n    });\n\n    const onMessageWrappers = new DefaultWeakMap(listener => {\n      if (typeof listener !== \"function\") {\n        return listener;\n      }\n\n      /**\n       * Wraps a message listener function so that it may send responses based on\n       * its return value, rather than by returning a sentinel value and calling a\n       * callback. If the listener function returns a Promise, the response is\n       * sent when the promise either resolves or rejects.\n       *\n       * @param {*} message\n       *        The message sent by the other end of the channel.\n       * @param {object} sender\n       *        Details about the sender of the message.\n       * @param {function(*)} sendResponse\n       *        A callback which, when called with an arbitrary argument, sends\n       *        that value as a response.\n       * @returns {boolean}\n       *        True if the wrapped listener returned a Promise, which will later\n       *        yield a response. False otherwise.\n       */\n      return function onMessage(message, sender, sendResponse) {\n        let didCallSendResponse = false;\n\n        let wrappedSendResponse;\n        let sendResponsePromise = new Promise(resolve => {\n          wrappedSendResponse = function(response) {\n            didCallSendResponse = true;\n            resolve(response);\n          };\n        });\n\n        let result;\n        try {\n          result = listener(message, sender, wrappedSendResponse);\n        } catch (err) {\n          result = Promise.reject(err);\n        }\n\n        const isResultThenable = result !== true && isThenable(result);\n\n        // If the listener didn't returned true or a Promise, or called\n        // wrappedSendResponse synchronously, we can exit earlier\n        // because there will be no response sent from this listener.\n        if (result !== true && !isResultThenable && !didCallSendResponse) {\n          return false;\n        }\n\n        // A small helper to send the message if the promise resolves\n        // and an error if the promise rejects (a wrapped sendMessage has\n        // to translate the message into a resolved promise or a rejected\n        // promise).\n        const sendPromisedResult = (promise) => {\n          promise.then(msg => {\n            // send the message value.\n            sendResponse(msg);\n          }, error => {\n            // Send a JSON representation of the error if the rejected value\n            // is an instance of error, or the object itself otherwise.\n            let message;\n            if (error && (error instanceof Error ||\n                typeof error.message === \"string\")) {\n              message = error.message;\n            } else {\n              message = \"An unexpected error occurred\";\n            }\n\n            sendResponse({\n              __mozWebExtensionPolyfillReject__: true,\n              message,\n            });\n          }).catch(err => {\n            // Print an error on the console if unable to send the response.\n            console.error(\"Failed to send onMessage rejected reply\", err);\n          });\n        };\n\n        // If the listener returned a Promise, send the resolved value as a\n        // result, otherwise wait the promise related to the wrappedSendResponse\n        // callback to resolve and send it as a response.\n        if (isResultThenable) {\n          sendPromisedResult(result);\n        } else {\n          sendPromisedResult(sendResponsePromise);\n        }\n\n        // Let Chrome know that the listener is replying.\n        return true;\n      };\n    });\n\n    const wrappedSendMessageCallback = ({reject, resolve}, reply) => {\n      if (extensionAPIs.runtime.lastError) {\n        // Detect when none of the listeners replied to the sendMessage call and resolve\n        // the promise to undefined as in Firefox.\n        // See https://github.com/mozilla/webextension-polyfill/issues/130\n        if (extensionAPIs.runtime.lastError.message === CHROME_SEND_MESSAGE_CALLBACK_NO_RESPONSE_MESSAGE) {\n          resolve();\n        } else {\n          reject(new Error(extensionAPIs.runtime.lastError.message));\n        }\n      } else if (reply && reply.__mozWebExtensionPolyfillReject__) {\n        // Convert back the JSON representation of the error into\n        // an Error instance.\n        reject(new Error(reply.message));\n      } else {\n        resolve(reply);\n      }\n    };\n\n    const wrappedSendMessage = (name, metadata, apiNamespaceObj, ...args) => {\n      if (args.length < metadata.minArgs) {\n        throw new Error(`Expected at least ${metadata.minArgs} ${pluralizeArguments(metadata.minArgs)} for ${name}(), got ${args.length}`);\n      }\n\n      if (args.length > metadata.maxArgs) {\n        throw new Error(`Expected at most ${metadata.maxArgs} ${pluralizeArguments(metadata.maxArgs)} for ${name}(), got ${args.length}`);\n      }\n\n      return new Promise((resolve, reject) => {\n        const wrappedCb = wrappedSendMessageCallback.bind(null, {resolve, reject});\n        args.push(wrappedCb);\n        apiNamespaceObj.sendMessage(...args);\n      });\n    };\n\n    const staticWrappers = {\n      devtools: {\n        network: {\n          onRequestFinished: wrapEvent(onRequestFinishedWrappers),\n        },\n      },\n      runtime: {\n        onMessage: wrapEvent(onMessageWrappers),\n        onMessageExternal: wrapEvent(onMessageWrappers),\n        sendMessage: wrappedSendMessage.bind(null, \"sendMessage\", {minArgs: 1, maxArgs: 3}),\n      },\n      tabs: {\n        sendMessage: wrappedSendMessage.bind(null, \"sendMessage\", {minArgs: 2, maxArgs: 3}),\n      },\n    };\n    const settingMetadata = {\n      clear: {minArgs: 1, maxArgs: 1},\n      get: {minArgs: 1, maxArgs: 1},\n      set: {minArgs: 1, maxArgs: 1},\n    };\n    apiMetadata.privacy = {\n      network: {\"*\": settingMetadata},\n      services: {\"*\": settingMetadata},\n      websites: {\"*\": settingMetadata},\n    };\n\n    return wrapObject(extensionAPIs, staticWrappers, apiMetadata);\n  };\n\n  // The build process adds a UMD wrapper around this file, which makes the\n  // `module` variable available.\n  module.exports = wrapAPIs(chrome);\n} else {\n  module.exports = globalThis.browser;\n}\n", "const {\n  entries,\n  setPrototypeOf,\n  isFrozen,\n  getPrototypeOf,\n  getOwnPropertyDescriptor,\n} = Object;\n\nlet { freeze, seal, create } = Object; // eslint-disable-line import/no-mutable-exports\nlet { apply, construct } = typeof Reflect !== 'undefined' && Reflect;\n\nif (!freeze) {\n  freeze = function (x) {\n    return x;\n  };\n}\n\nif (!seal) {\n  seal = function (x) {\n    return x;\n  };\n}\n\nif (!apply) {\n  apply = function (fun, thisValue, args) {\n    return fun.apply(thisValue, args);\n  };\n}\n\nif (!construct) {\n  construct = function (Func, args) {\n    return new Func(...args);\n  };\n}\n\nconst arrayForEach = unapply(Array.prototype.forEach);\nconst arrayIndexOf = unapply(Array.prototype.indexOf);\nconst arrayPop = unapply(Array.prototype.pop);\nconst arrayPush = unapply(Array.prototype.push);\nconst arraySlice = unapply(Array.prototype.slice);\n\nconst stringToLowerCase = unapply(String.prototype.toLowerCase);\nconst stringToString = unapply(String.prototype.toString);\nconst stringMatch = unapply(String.prototype.match);\nconst stringReplace = unapply(String.prototype.replace);\nconst stringIndexOf = unapply(String.prototype.indexOf);\nconst stringTrim = unapply(String.prototype.trim);\n\nconst objectHasOwnProperty = unapply(Object.prototype.hasOwnProperty);\n\nconst regExpTest = unapply(RegExp.prototype.test);\n\nconst typeErrorCreate = unconstruct(TypeError);\n\nconst numberIsNaN = unapply(Number.isNaN);\n\n/**\n * Creates a new function that calls the given function with a specified thisArg and arguments.\n *\n * @param {Function} func - The function to be wrapped and called.\n * @returns {Function} A new function that calls the given function with a specified thisArg and arguments.\n */\nfunction unapply(func) {\n  return (thisArg, ...args) => apply(func, thisArg, args);\n}\n\n/**\n * Creates a new function that constructs an instance of the given constructor function with the provided arguments.\n *\n * @param {Function} func - The constructor function to be wrapped and called.\n * @returns {Function} A new function that constructs an instance of the given constructor function with the provided arguments.\n */\nfunction unconstruct(func) {\n  return (...args) => construct(func, args);\n}\n\n/**\n * Add properties to a lookup table\n *\n * @param {Object} set - The set to which elements will be added.\n * @param {Array} array - The array containing elements to be added to the set.\n * @param {Function} transformCaseFunc - An optional function to transform the case of each element before adding to the set.\n * @returns {Object} The modified set with added elements.\n */\nfunction addToSet(set, array, transformCaseFunc = stringToLowerCase) {\n  if (setPrototypeOf) {\n    // Make 'in' and truthy checks like Boolean(set.constructor)\n    // independent of any properties defined on Object.prototype.\n    // Prevent prototype setters from intercepting set as a this value.\n    setPrototypeOf(set, null);\n  }\n\n  let l = array.length;\n  while (l--) {\n    let element = array[l];\n    if (typeof element === 'string') {\n      const lcElement = transformCaseFunc(element);\n      if (lcElement !== element) {\n        // Config presets (e.g. tags.js, attrs.js) are immutable.\n        if (!isFrozen(array)) {\n          array[l] = lcElement;\n        }\n\n        element = lcElement;\n      }\n    }\n\n    set[element] = true;\n  }\n\n  return set;\n}\n\n/**\n * Clean up an array to harden against CSPP\n *\n * @param {Array} array - The array to be cleaned.\n * @returns {Array} The cleaned version of the array\n */\nfunction cleanArray(array) {\n  for (let index = 0; index < array.length; index++) {\n    const isPropertyExist = objectHasOwnProperty(array, index);\n\n    if (!isPropertyExist) {\n      array[index] = null;\n    }\n  }\n\n  return array;\n}\n\n/**\n * Shallow clone an object\n *\n * @param {Object} object - The object to be cloned.\n * @returns {Object} A new object that copies the original.\n */\nfunction clone(object) {\n  const newObject = create(null);\n\n  for (const [property, value] of entries(object)) {\n    const isPropertyExist = objectHasOwnProperty(object, property);\n\n    if (isPropertyExist) {\n      if (Array.isArray(value)) {\n        newObject[property] = cleanArray(value);\n      } else if (\n        value &&\n        typeof value === 'object' &&\n        value.constructor === Object\n      ) {\n        newObject[property] = clone(value);\n      } else {\n        newObject[property] = value;\n      }\n    }\n  }\n\n  return newObject;\n}\n\n/**\n * This method automatically checks if the prop is function or getter and behaves accordingly.\n *\n * @param {Object} object - The object to look up the getter function in its prototype chain.\n * @param {String} prop - The property name for which to find the getter function.\n * @returns {Function} The getter function found in the prototype chain or a fallback function.\n */\nfunction lookupGetter(object, prop) {\n  while (object !== null) {\n    const desc = getOwnPropertyDescriptor(object, prop);\n\n    if (desc) {\n      if (desc.get) {\n        return unapply(desc.get);\n      }\n\n      if (typeof desc.value === 'function') {\n        return unapply(desc.value);\n      }\n    }\n\n    object = getPrototypeOf(object);\n  }\n\n  function fallbackValue() {\n    return null;\n  }\n\n  return fallbackValue;\n}\n\nexport {\n  // Array\n  arrayForEach,\n  arrayIndexOf,\n  arrayPop,\n  arrayPush,\n  arraySlice,\n  // Object\n  entries,\n  freeze,\n  getPrototypeOf,\n  getOwnPropertyDescriptor,\n  isFrozen,\n  setPrototypeOf,\n  seal,\n  clone,\n  create,\n  objectHasOwnProperty,\n  // RegExp\n  regExpTest,\n  // String\n  stringIndexOf,\n  stringMatch,\n  stringReplace,\n  stringToLowerCase,\n  stringToString,\n  stringTrim,\n  // Number\n  numberIsNaN,\n  // Errors\n  typeErrorCreate,\n  // Other\n  lookupGetter,\n  addToSet,\n  // Reflect\n  unapply,\n  unconstruct,\n};\n", "import { freeze } from './utils.js';\n\nexport const html = freeze([\n  'a',\n  'abbr',\n  'acronym',\n  'address',\n  'area',\n  'article',\n  'aside',\n  'audio',\n  'b',\n  'bdi',\n  'bdo',\n  'big',\n  'blink',\n  'blockquote',\n  'body',\n  'br',\n  'button',\n  'canvas',\n  'caption',\n  'center',\n  'cite',\n  'code',\n  'col',\n  'colgroup',\n  'content',\n  'data',\n  'datalist',\n  'dd',\n  'decorator',\n  'del',\n  'details',\n  'dfn',\n  'dialog',\n  'dir',\n  'div',\n  'dl',\n  'dt',\n  'element',\n  'em',\n  'fieldset',\n  'figcaption',\n  'figure',\n  'font',\n  'footer',\n  'form',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'head',\n  'header',\n  'hgroup',\n  'hr',\n  'html',\n  'i',\n  'img',\n  'input',\n  'ins',\n  'kbd',\n  'label',\n  'legend',\n  'li',\n  'main',\n  'map',\n  'mark',\n  'marquee',\n  'menu',\n  'menuitem',\n  'meter',\n  'nav',\n  'nobr',\n  'ol',\n  'optgroup',\n  'option',\n  'output',\n  'p',\n  'picture',\n  'pre',\n  'progress',\n  'q',\n  'rp',\n  'rt',\n  'ruby',\n  's',\n  'samp',\n  'section',\n  'select',\n  'shadow',\n  'small',\n  'source',\n  'spacer',\n  'span',\n  'strike',\n  'strong',\n  'style',\n  'sub',\n  'summary',\n  'sup',\n  'table',\n  'tbody',\n  'td',\n  'template',\n  'textarea',\n  'tfoot',\n  'th',\n  'thead',\n  'time',\n  'tr',\n  'track',\n  'tt',\n  'u',\n  'ul',\n  'var',\n  'video',\n  'wbr',\n]);\n\n// SVG\nexport const svg = freeze([\n  'svg',\n  'a',\n  'altglyph',\n  'altglyphdef',\n  'altglyphitem',\n  'animatecolor',\n  'animatemotion',\n  'animatetransform',\n  'circle',\n  'clippath',\n  'defs',\n  'desc',\n  'ellipse',\n  'filter',\n  'font',\n  'g',\n  'glyph',\n  'glyphref',\n  'hkern',\n  'image',\n  'line',\n  'lineargradient',\n  'marker',\n  'mask',\n  'metadata',\n  'mpath',\n  'path',\n  'pattern',\n  'polygon',\n  'polyline',\n  'radialgradient',\n  'rect',\n  'stop',\n  'style',\n  'switch',\n  'symbol',\n  'text',\n  'textpath',\n  'title',\n  'tref',\n  'tspan',\n  'view',\n  'vkern',\n]);\n\nexport const svgFilters = freeze([\n  'feBlend',\n  'feColorMatrix',\n  'feComponentTransfer',\n  'feComposite',\n  'feConvolveMatrix',\n  'feDiffuseLighting',\n  'feDisplacementMap',\n  'feDistantLight',\n  'feDropShadow',\n  'feFlood',\n  'feFuncA',\n  'feFuncB',\n  'feFuncG',\n  'feFuncR',\n  'feGaussianBlur',\n  'feImage',\n  'feMerge',\n  'feMergeNode',\n  'feMorphology',\n  'feOffset',\n  'fePointLight',\n  'feSpecularLighting',\n  'feSpotLight',\n  'feTile',\n  'feTurbulence',\n]);\n\n// List of SVG elements that are disallowed by default.\n// We still need to know them so that we can do namespace\n// checks properly in case one wants to add them to\n// allow-list.\nexport const svgDisallowed = freeze([\n  'animate',\n  'color-profile',\n  'cursor',\n  'discard',\n  'font-face',\n  'font-face-format',\n  'font-face-name',\n  'font-face-src',\n  'font-face-uri',\n  'foreignobject',\n  'hatch',\n  'hatchpath',\n  'mesh',\n  'meshgradient',\n  'meshpatch',\n  'meshrow',\n  'missing-glyph',\n  'script',\n  'set',\n  'solidcolor',\n  'unknown',\n  'use',\n]);\n\nexport const mathMl = freeze([\n  'math',\n  'menclose',\n  'merror',\n  'mfenced',\n  'mfrac',\n  'mglyph',\n  'mi',\n  'mlabeledtr',\n  'mmultiscripts',\n  'mn',\n  'mo',\n  'mover',\n  'mpadded',\n  'mphantom',\n  'mroot',\n  'mrow',\n  'ms',\n  'mspace',\n  'msqrt',\n  'mstyle',\n  'msub',\n  'msup',\n  'msubsup',\n  'mtable',\n  'mtd',\n  'mtext',\n  'mtr',\n  'munder',\n  'munderover',\n  'mprescripts',\n]);\n\n// Similarly to SVG, we want to know all MathML elements,\n// even those that we disallow by default.\nexport const mathMlDisallowed = freeze([\n  'maction',\n  'maligngroup',\n  'malignmark',\n  'mlongdiv',\n  'mscarries',\n  'mscarry',\n  'msgroup',\n  'mstack',\n  'msline',\n  'msrow',\n  'semantics',\n  'annotation',\n  'annotation-xml',\n  'mprescripts',\n  'none',\n]);\n\nexport const text = freeze(['#text']);\n", "import { freeze } from './utils.js';\n\nexport const html = freeze([\n  'accept',\n  'action',\n  'align',\n  'alt',\n  'autocapitalize',\n  'autocomplete',\n  'autopictureinpicture',\n  'autoplay',\n  'background',\n  'bgcolor',\n  'border',\n  'capture',\n  'cellpadding',\n  'cellspacing',\n  'checked',\n  'cite',\n  'class',\n  'clear',\n  'color',\n  'cols',\n  'colspan',\n  'controls',\n  'controlslist',\n  'coords',\n  'crossorigin',\n  'datetime',\n  'decoding',\n  'default',\n  'dir',\n  'disabled',\n  'disablepictureinpicture',\n  'disableremoteplayback',\n  'download',\n  'draggable',\n  'enctype',\n  'enterkeyhint',\n  'face',\n  'for',\n  'headers',\n  'height',\n  'hidden',\n  'high',\n  'href',\n  'hreflang',\n  'id',\n  'inputmode',\n  'integrity',\n  'ismap',\n  'kind',\n  'label',\n  'lang',\n  'list',\n  'loading',\n  'loop',\n  'low',\n  'max',\n  'maxlength',\n  'media',\n  'method',\n  'min',\n  'minlength',\n  'multiple',\n  'muted',\n  'name',\n  'nonce',\n  'noshade',\n  'novalidate',\n  'nowrap',\n  'open',\n  'optimum',\n  'pattern',\n  'placeholder',\n  'playsinline',\n  'poster',\n  'preload',\n  'pubdate',\n  'radiogroup',\n  'readonly',\n  'rel',\n  'required',\n  'rev',\n  'reversed',\n  'role',\n  'rows',\n  'rowspan',\n  'spellcheck',\n  'scope',\n  'selected',\n  'shape',\n  'size',\n  'sizes',\n  'span',\n  'srclang',\n  'start',\n  'src',\n  'srcset',\n  'step',\n  'style',\n  'summary',\n  'tabindex',\n  'title',\n  'translate',\n  'type',\n  'usemap',\n  'valign',\n  'value',\n  'width',\n  'wrap',\n  'xmlns',\n  'slot',\n]);\n\nexport const svg = freeze([\n  'accent-height',\n  'accumulate',\n  'additive',\n  'alignment-baseline',\n  'ascent',\n  'attributename',\n  'attributetype',\n  'azimuth',\n  'basefrequency',\n  'baseline-shift',\n  'begin',\n  'bias',\n  'by',\n  'class',\n  'clip',\n  'clippathunits',\n  'clip-path',\n  'clip-rule',\n  'color',\n  'color-interpolation',\n  'color-interpolation-filters',\n  'color-profile',\n  'color-rendering',\n  'cx',\n  'cy',\n  'd',\n  'dx',\n  'dy',\n  'diffuseconstant',\n  'direction',\n  'display',\n  'divisor',\n  'dur',\n  'edgemode',\n  'elevation',\n  'end',\n  'fill',\n  'fill-opacity',\n  'fill-rule',\n  'filter',\n  'filterunits',\n  'flood-color',\n  'flood-opacity',\n  'font-family',\n  'font-size',\n  'font-size-adjust',\n  'font-stretch',\n  'font-style',\n  'font-variant',\n  'font-weight',\n  'fx',\n  'fy',\n  'g1',\n  'g2',\n  'glyph-name',\n  'glyphref',\n  'gradientunits',\n  'gradienttransform',\n  'height',\n  'href',\n  'id',\n  'image-rendering',\n  'in',\n  'in2',\n  'k',\n  'k1',\n  'k2',\n  'k3',\n  'k4',\n  'kerning',\n  'keypoints',\n  'keysplines',\n  'keytimes',\n  'lang',\n  'lengthadjust',\n  'letter-spacing',\n  'kernelmatrix',\n  'kernelunitlength',\n  'lighting-color',\n  'local',\n  'marker-end',\n  'marker-mid',\n  'marker-start',\n  'markerheight',\n  'markerunits',\n  'markerwidth',\n  'maskcontentunits',\n  'maskunits',\n  'max',\n  'mask',\n  'media',\n  'method',\n  'mode',\n  'min',\n  'name',\n  'numoctaves',\n  'offset',\n  'operator',\n  'opacity',\n  'order',\n  'orient',\n  'orientation',\n  'origin',\n  'overflow',\n  'paint-order',\n  'path',\n  'pathlength',\n  'patterncontentunits',\n  'patterntransform',\n  'patternunits',\n  'points',\n  'preservealpha',\n  'preserveaspectratio',\n  'primitiveunits',\n  'r',\n  'rx',\n  'ry',\n  'radius',\n  'refx',\n  'refy',\n  'repeatcount',\n  'repeatdur',\n  'restart',\n  'result',\n  'rotate',\n  'scale',\n  'seed',\n  'shape-rendering',\n  'specularconstant',\n  'specularexponent',\n  'spreadmethod',\n  'startoffset',\n  'stddeviation',\n  'stitchtiles',\n  'stop-color',\n  'stop-opacity',\n  'stroke-dasharray',\n  'stroke-dashoffset',\n  'stroke-linecap',\n  'stroke-linejoin',\n  'stroke-miterlimit',\n  'stroke-opacity',\n  'stroke',\n  'stroke-width',\n  'style',\n  'surfacescale',\n  'systemlanguage',\n  'tabindex',\n  'targetx',\n  'targety',\n  'transform',\n  'transform-origin',\n  'text-anchor',\n  'text-decoration',\n  'text-rendering',\n  'textlength',\n  'type',\n  'u1',\n  'u2',\n  'unicode',\n  'values',\n  'viewbox',\n  'visibility',\n  'version',\n  'vert-adv-y',\n  'vert-origin-x',\n  'vert-origin-y',\n  'width',\n  'word-spacing',\n  'wrap',\n  'writing-mode',\n  'xchannelselector',\n  'ychannelselector',\n  'x',\n  'x1',\n  'x2',\n  'xmlns',\n  'y',\n  'y1',\n  'y2',\n  'z',\n  'zoomandpan',\n]);\n\nexport const mathMl = freeze([\n  'accent',\n  'accentunder',\n  'align',\n  'bevelled',\n  'close',\n  'columnsalign',\n  'columnlines',\n  'columnspan',\n  'denomalign',\n  'depth',\n  'dir',\n  'display',\n  'displaystyle',\n  'encoding',\n  'fence',\n  'frame',\n  'height',\n  'href',\n  'id',\n  'largeop',\n  'length',\n  'linethickness',\n  'lspace',\n  'lquote',\n  'mathbackground',\n  'mathcolor',\n  'mathsize',\n  'mathvariant',\n  'maxsize',\n  'minsize',\n  'movablelimits',\n  'notation',\n  'numalign',\n  'open',\n  'rowalign',\n  'rowlines',\n  'rowspacing',\n  'rowspan',\n  'rspace',\n  'rquote',\n  'scriptlevel',\n  'scriptminsize',\n  'scriptsizemultiplier',\n  'selection',\n  'separator',\n  'separators',\n  'stretchy',\n  'subscriptshift',\n  'supscriptshift',\n  'symmetric',\n  'voffset',\n  'width',\n  'xmlns',\n]);\n\nexport const xml = freeze([\n  'xlink:href',\n  'xml:id',\n  'xlink:title',\n  'xml:space',\n  'xmlns:xlink',\n]);\n", "import { seal } from './utils.js';\n\n// eslint-disable-next-line unicorn/better-regex\nexport const MUSTACHE_EXPR = seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode\nexport const ERB_EXPR = seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);\nexport const TMPLIT_EXPR = seal(/\\${[\\w\\W]*}/gm);\nexport const DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]/); // eslint-disable-line no-useless-escape\nexport const ARIA_ATTR = seal(/^aria-[\\-\\w]+$/); // eslint-disable-line no-useless-escape\nexport const IS_ALLOWED_URI = seal(\n  /^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i // eslint-disable-line no-useless-escape\n);\nexport const IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\nexport const ATTR_WHITESPACE = seal(\n  /[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g // eslint-disable-line no-control-regex\n);\nexport const DOCTYPE_NAME = seal(/^html$/i);\nexport const CUSTOM_ELEMENT = seal(/^[a-z][.\\w]*(-[.\\w]+)+$/i);\n", "import * as TAGS from './tags.js';\nimport * as ATTRS from './attrs.js';\nimport * as EXPRESSIONS from './regexp.js';\nimport {\n  addToSet,\n  clone,\n  entries,\n  freeze,\n  arrayForEach,\n  arrayPop,\n  arrayPush,\n  stringMatch,\n  stringReplace,\n  stringToLowerCase,\n  stringToString,\n  stringIndexOf,\n  stringTrim,\n  numberIsNaN,\n  regExpTest,\n  typeErrorCreate,\n  lookupGetter,\n  create,\n  objectHasOwnProperty,\n} from './utils.js';\n\n// https://developer.mozilla.org/en-US/docs/Web/API/Node/nodeType\nconst NODE_TYPE = {\n  element: 1,\n  attribute: 2,\n  text: 3,\n  cdataSection: 4,\n  entityReference: 5, // Deprecated\n  entityNode: 6, // Deprecated\n  progressingInstruction: 7,\n  comment: 8,\n  document: 9,\n  documentType: 10,\n  documentFragment: 11,\n  notation: 12, // Deprecated\n};\n\nconst getGlobal = function () {\n  return typeof window === 'undefined' ? null : window;\n};\n\n/**\n * Creates a no-op policy for internal use only.\n * Don't export this function outside this module!\n * @param {TrustedTypePolicyFactory} trustedTypes The policy factory.\n * @param {HTMLScriptElement} purifyHostElement The Script element used to load DOMPurify (to determine policy name suffix).\n * @return {TrustedTypePolicy} The policy created (or null, if Trusted Types\n * are not supported or creating the policy failed).\n */\nconst _createTrustedTypesPolicy = function (trustedTypes, purifyHostElement) {\n  if (\n    typeof trustedTypes !== 'object' ||\n    typeof trustedTypes.createPolicy !== 'function'\n  ) {\n    return null;\n  }\n\n  // Allow the callers to control the unique policy name\n  // by adding a data-tt-policy-suffix to the script element with the DOMPurify.\n  // Policy creation with duplicate names throws in Trusted Types.\n  let suffix = null;\n  const ATTR_NAME = 'data-tt-policy-suffix';\n  if (purifyHostElement && purifyHostElement.hasAttribute(ATTR_NAME)) {\n    suffix = purifyHostElement.getAttribute(ATTR_NAME);\n  }\n\n  const policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n\n  try {\n    return trustedTypes.createPolicy(policyName, {\n      createHTML(html) {\n        return html;\n      },\n      createScriptURL(scriptUrl) {\n        return scriptUrl;\n      },\n    });\n  } catch (_) {\n    // Policy creation failed (most likely another DOMPurify script has\n    // already run). Skip creating the policy, as this will only cause errors\n    // if TT are enforced.\n    console.warn(\n      'TrustedTypes policy ' + policyName + ' could not be created.'\n    );\n    return null;\n  }\n};\n\nfunction createDOMPurify(window = getGlobal()) {\n  const DOMPurify = (root) => createDOMPurify(root);\n\n  /**\n   * Version label, exposed for easier checks\n   * if DOMPurify is up to date or not\n   */\n  DOMPurify.version = VERSION;\n\n  /**\n   * Array of elements that DOMPurify removed during sanitation.\n   * Empty if nothing was removed.\n   */\n  DOMPurify.removed = [];\n\n  if (\n    !window ||\n    !window.document ||\n    window.document.nodeType !== NODE_TYPE.document\n  ) {\n    // Not running in a browser, provide a factory function\n    // so that you can pass your own Window\n    DOMPurify.isSupported = false;\n\n    return DOMPurify;\n  }\n\n  let { document } = window;\n\n  const originalDocument = document;\n  const currentScript = originalDocument.currentScript;\n  const {\n    DocumentFragment,\n    HTMLTemplateElement,\n    Node,\n    Element,\n    NodeFilter,\n    NamedNodeMap = window.NamedNodeMap || window.MozNamedAttrMap,\n    HTMLFormElement,\n    DOMParser,\n    trustedTypes,\n  } = window;\n\n  const ElementPrototype = Element.prototype;\n\n  const cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n  const getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n  const getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n  const getParentNode = lookupGetter(ElementPrototype, 'parentNode');\n\n  // As per issue #47, the web-components registry is inherited by a\n  // new document created via createHTMLDocument. As per the spec\n  // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n  // a new empty registry is used when creating a template contents owner\n  // document, so we use that as our parent document to ensure nothing\n  // is inherited.\n  if (typeof HTMLTemplateElement === 'function') {\n    const template = document.createElement('template');\n    if (template.content && template.content.ownerDocument) {\n      document = template.content.ownerDocument;\n    }\n  }\n\n  let trustedTypesPolicy;\n  let emptyHTML = '';\n\n  const {\n    implementation,\n    createNodeIterator,\n    createDocumentFragment,\n    getElementsByTagName,\n  } = document;\n  const { importNode } = originalDocument;\n\n  let hooks = {};\n\n  /**\n   * Expose whether this browser supports running the full DOMPurify.\n   */\n  DOMPurify.isSupported =\n    typeof entries === 'function' &&\n    typeof getParentNode === 'function' &&\n    implementation &&\n    implementation.createHTMLDocument !== undefined;\n\n  const {\n    MUSTACHE_EXPR,\n    ERB_EXPR,\n    TMPLIT_EXPR,\n    DATA_ATTR,\n    ARIA_ATTR,\n    IS_SCRIPT_OR_DATA,\n    ATTR_WHITESPACE,\n    CUSTOM_ELEMENT,\n  } = EXPRESSIONS;\n\n  let { IS_ALLOWED_URI } = EXPRESSIONS;\n\n  /**\n   * We consider the elements and attributes below to be safe. Ideally\n   * don't add any new ones but feel free to remove unwanted ones.\n   */\n\n  /* allowed element names */\n  let ALLOWED_TAGS = null;\n  const DEFAULT_ALLOWED_TAGS = addToSet({}, [\n    ...TAGS.html,\n    ...TAGS.svg,\n    ...TAGS.svgFilters,\n    ...TAGS.mathMl,\n    ...TAGS.text,\n  ]);\n\n  /* Allowed attribute names */\n  let ALLOWED_ATTR = null;\n  const DEFAULT_ALLOWED_ATTR = addToSet({}, [\n    ...ATTRS.html,\n    ...ATTRS.svg,\n    ...ATTRS.mathMl,\n    ...ATTRS.xml,\n  ]);\n\n  /*\n   * Configure how DOMPUrify should handle custom elements and their attributes as well as customized built-in elements.\n   * @property {RegExp|Function|null} tagNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any custom elements)\n   * @property {RegExp|Function|null} attributeNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any attributes not on the allow list)\n   * @property {boolean} allowCustomizedBuiltInElements allow custom elements derived from built-ins if they pass CUSTOM_ELEMENT_HANDLING.tagNameCheck. Default: `false`.\n   */\n  let CUSTOM_ELEMENT_HANDLING = Object.seal(\n    create(null, {\n      tagNameCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null,\n      },\n      attributeNameCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null,\n      },\n      allowCustomizedBuiltInElements: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: false,\n      },\n    })\n  );\n\n  /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n  let FORBID_TAGS = null;\n\n  /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n  let FORBID_ATTR = null;\n\n  /* Decide if ARIA attributes are okay */\n  let ALLOW_ARIA_ATTR = true;\n\n  /* Decide if custom data attributes are okay */\n  let ALLOW_DATA_ATTR = true;\n\n  /* Decide if unknown protocols are okay */\n  let ALLOW_UNKNOWN_PROTOCOLS = false;\n\n  /* Decide if self-closing tags in attributes are allowed.\n   * Usually removed due to a mXSS issue in jQuery 3.0 */\n  let ALLOW_SELF_CLOSE_IN_ATTR = true;\n\n  /* Output should be safe for common template engines.\n   * This means, DOMPurify removes data attributes, mustaches and ERB\n   */\n  let SAFE_FOR_TEMPLATES = false;\n\n  /* Output should be safe even for XML used within HTML and alike.\n   * This means, DOMPurify removes comments when containing risky content.\n   */\n  let SAFE_FOR_XML = true;\n\n  /* Decide if document with <html>... should be returned */\n  let WHOLE_DOCUMENT = false;\n\n  /* Track whether config is already set on this instance of DOMPurify. */\n  let SET_CONFIG = false;\n\n  /* Decide if all elements (e.g. style, script) must be children of\n   * document.body. By default, browsers might move them to document.head */\n  let FORCE_BODY = false;\n\n  /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html\n   * string (or a TrustedHTML object if Trusted Types are supported).\n   * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n   */\n  let RETURN_DOM = false;\n\n  /* Decide if a DOM `DocumentFragment` should be returned, instead of a html\n   * string  (or a TrustedHTML object if Trusted Types are supported) */\n  let RETURN_DOM_FRAGMENT = false;\n\n  /* Try to return a Trusted Type object instead of a string, return a string in\n   * case Trusted Types are not supported  */\n  let RETURN_TRUSTED_TYPE = false;\n\n  /* Output should be free from DOM clobbering attacks?\n   * This sanitizes markups named with colliding, clobberable built-in DOM APIs.\n   */\n  let SANITIZE_DOM = true;\n\n  /* Achieve full DOM Clobbering protection by isolating the namespace of named\n   * properties and JS variables, mitigating attacks that abuse the HTML/DOM spec rules.\n   *\n   * HTML/DOM spec rules that enable DOM Clobbering:\n   *   - Named Access on Window (§7.3.3)\n   *   - DOM Tree Accessors (§3.1.5)\n   *   - Form Element Parent-Child Relations (§4.10.3)\n   *   - Iframe srcdoc / Nested WindowProxies (§4.8.5)\n   *   - HTMLCollection (§4.2.10.2)\n   *\n   * Namespace isolation is implemented by prefixing `id` and `name` attributes\n   * with a constant string, i.e., `user-content-`\n   */\n  let SANITIZE_NAMED_PROPS = false;\n  const SANITIZE_NAMED_PROPS_PREFIX = 'user-content-';\n\n  /* Keep element content when removing element? */\n  let KEEP_CONTENT = true;\n\n  /* If a `Node` is passed to sanitize(), then performs sanitization in-place instead\n   * of importing it into a new Document and returning a sanitized copy */\n  let IN_PLACE = false;\n\n  /* Allow usage of profiles like html, svg and mathMl */\n  let USE_PROFILES = {};\n\n  /* Tags to ignore content of when KEEP_CONTENT is true */\n  let FORBID_CONTENTS = null;\n  const DEFAULT_FORBID_CONTENTS = addToSet({}, [\n    'annotation-xml',\n    'audio',\n    'colgroup',\n    'desc',\n    'foreignobject',\n    'head',\n    'iframe',\n    'math',\n    'mi',\n    'mn',\n    'mo',\n    'ms',\n    'mtext',\n    'noembed',\n    'noframes',\n    'noscript',\n    'plaintext',\n    'script',\n    'style',\n    'svg',\n    'template',\n    'thead',\n    'title',\n    'video',\n    'xmp',\n  ]);\n\n  /* Tags that are safe for data: URIs */\n  let DATA_URI_TAGS = null;\n  const DEFAULT_DATA_URI_TAGS = addToSet({}, [\n    'audio',\n    'video',\n    'img',\n    'source',\n    'image',\n    'track',\n  ]);\n\n  /* Attributes safe for values like \"javascript:\" */\n  let URI_SAFE_ATTRIBUTES = null;\n  const DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, [\n    'alt',\n    'class',\n    'for',\n    'id',\n    'label',\n    'name',\n    'pattern',\n    'placeholder',\n    'role',\n    'summary',\n    'title',\n    'value',\n    'style',\n    'xmlns',\n  ]);\n\n  const MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n  const SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n  const HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n  /* Document namespace */\n  let NAMESPACE = HTML_NAMESPACE;\n  let IS_EMPTY_INPUT = false;\n\n  /* Allowed XHTML+XML namespaces */\n  let ALLOWED_NAMESPACES = null;\n  const DEFAULT_ALLOWED_NAMESPACES = addToSet(\n    {},\n    [MATHML_NAMESPACE, SVG_NAMESPACE, HTML_NAMESPACE],\n    stringToString\n  );\n\n  /* Parsing of strict XHTML documents */\n  let PARSER_MEDIA_TYPE = null;\n  const SUPPORTED_PARSER_MEDIA_TYPES = ['application/xhtml+xml', 'text/html'];\n  const DEFAULT_PARSER_MEDIA_TYPE = 'text/html';\n  let transformCaseFunc = null;\n\n  /* Keep a reference to config to pass to hooks */\n  let CONFIG = null;\n\n  /* Specify the maximum element nesting depth to prevent mXSS */\n  const MAX_NESTING_DEPTH = 255;\n\n  /* Ideally, do not touch anything below this line */\n  /* ______________________________________________ */\n\n  const formElement = document.createElement('form');\n\n  const isRegexOrFunction = function (testValue) {\n    return testValue instanceof RegExp || testValue instanceof Function;\n  };\n\n  /**\n   * _parseConfig\n   *\n   * @param  {Object} cfg optional config literal\n   */\n  // eslint-disable-next-line complexity\n  const _parseConfig = function (cfg = {}) {\n    if (CONFIG && CONFIG === cfg) {\n      return;\n    }\n\n    /* Shield configuration object from tampering */\n    if (!cfg || typeof cfg !== 'object') {\n      cfg = {};\n    }\n\n    /* Shield configuration object from prototype pollution */\n    cfg = clone(cfg);\n\n    PARSER_MEDIA_TYPE =\n      // eslint-disable-next-line unicorn/prefer-includes\n      SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1\n        ? DEFAULT_PARSER_MEDIA_TYPE\n        : cfg.PARSER_MEDIA_TYPE;\n\n    // HTML tags and attributes are not case-sensitive, converting to lowercase. Keeping XHTML as is.\n    transformCaseFunc =\n      PARSER_MEDIA_TYPE === 'application/xhtml+xml'\n        ? stringToString\n        : stringToLowerCase;\n\n    /* Set configuration parameters */\n    ALLOWED_TAGS = objectHasOwnProperty(cfg, 'ALLOWED_TAGS')\n      ? addToSet({}, cfg.ALLOWED_TAGS, transformCaseFunc)\n      : DEFAULT_ALLOWED_TAGS;\n    ALLOWED_ATTR = objectHasOwnProperty(cfg, 'ALLOWED_ATTR')\n      ? addToSet({}, cfg.ALLOWED_ATTR, transformCaseFunc)\n      : DEFAULT_ALLOWED_ATTR;\n    ALLOWED_NAMESPACES = objectHasOwnProperty(cfg, 'ALLOWED_NAMESPACES')\n      ? addToSet({}, cfg.ALLOWED_NAMESPACES, stringToString)\n      : DEFAULT_ALLOWED_NAMESPACES;\n    URI_SAFE_ATTRIBUTES = objectHasOwnProperty(cfg, 'ADD_URI_SAFE_ATTR')\n      ? addToSet(\n          clone(DEFAULT_URI_SAFE_ATTRIBUTES), // eslint-disable-line indent\n          cfg.ADD_URI_SAFE_ATTR, // eslint-disable-line indent\n          transformCaseFunc // eslint-disable-line indent\n        ) // eslint-disable-line indent\n      : DEFAULT_URI_SAFE_ATTRIBUTES;\n    DATA_URI_TAGS = objectHasOwnProperty(cfg, 'ADD_DATA_URI_TAGS')\n      ? addToSet(\n          clone(DEFAULT_DATA_URI_TAGS), // eslint-disable-line indent\n          cfg.ADD_DATA_URI_TAGS, // eslint-disable-line indent\n          transformCaseFunc // eslint-disable-line indent\n        ) // eslint-disable-line indent\n      : DEFAULT_DATA_URI_TAGS;\n    FORBID_CONTENTS = objectHasOwnProperty(cfg, 'FORBID_CONTENTS')\n      ? addToSet({}, cfg.FORBID_CONTENTS, transformCaseFunc)\n      : DEFAULT_FORBID_CONTENTS;\n    FORBID_TAGS = objectHasOwnProperty(cfg, 'FORBID_TAGS')\n      ? addToSet({}, cfg.FORBID_TAGS, transformCaseFunc)\n      : {};\n    FORBID_ATTR = objectHasOwnProperty(cfg, 'FORBID_ATTR')\n      ? addToSet({}, cfg.FORBID_ATTR, transformCaseFunc)\n      : {};\n    USE_PROFILES = objectHasOwnProperty(cfg, 'USE_PROFILES')\n      ? cfg.USE_PROFILES\n      : false;\n    ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true\n    ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true\n    ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n    ALLOW_SELF_CLOSE_IN_ATTR = cfg.ALLOW_SELF_CLOSE_IN_ATTR !== false; // Default true\n    SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false\n    SAFE_FOR_XML = cfg.SAFE_FOR_XML !== false; // Default true\n    WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false\n    RETURN_DOM = cfg.RETURN_DOM || false; // Default false\n    RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false\n    RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false\n    FORCE_BODY = cfg.FORCE_BODY || false; // Default false\n    SANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true\n    SANITIZE_NAMED_PROPS = cfg.SANITIZE_NAMED_PROPS || false; // Default false\n    KEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true\n    IN_PLACE = cfg.IN_PLACE || false; // Default false\n    IS_ALLOWED_URI = cfg.ALLOWED_URI_REGEXP || EXPRESSIONS.IS_ALLOWED_URI;\n    NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n    CUSTOM_ELEMENT_HANDLING = cfg.CUSTOM_ELEMENT_HANDLING || {};\n    if (\n      cfg.CUSTOM_ELEMENT_HANDLING &&\n      isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)\n    ) {\n      CUSTOM_ELEMENT_HANDLING.tagNameCheck =\n        cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;\n    }\n\n    if (\n      cfg.CUSTOM_ELEMENT_HANDLING &&\n      isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)\n    ) {\n      CUSTOM_ELEMENT_HANDLING.attributeNameCheck =\n        cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;\n    }\n\n    if (\n      cfg.CUSTOM_ELEMENT_HANDLING &&\n      typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements ===\n        'boolean'\n    ) {\n      CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements =\n        cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;\n    }\n\n    if (SAFE_FOR_TEMPLATES) {\n      ALLOW_DATA_ATTR = false;\n    }\n\n    if (RETURN_DOM_FRAGMENT) {\n      RETURN_DOM = true;\n    }\n\n    /* Parse profile info */\n    if (USE_PROFILES) {\n      ALLOWED_TAGS = addToSet({}, TAGS.text);\n      ALLOWED_ATTR = [];\n      if (USE_PROFILES.html === true) {\n        addToSet(ALLOWED_TAGS, TAGS.html);\n        addToSet(ALLOWED_ATTR, ATTRS.html);\n      }\n\n      if (USE_PROFILES.svg === true) {\n        addToSet(ALLOWED_TAGS, TAGS.svg);\n        addToSet(ALLOWED_ATTR, ATTRS.svg);\n        addToSet(ALLOWED_ATTR, ATTRS.xml);\n      }\n\n      if (USE_PROFILES.svgFilters === true) {\n        addToSet(ALLOWED_TAGS, TAGS.svgFilters);\n        addToSet(ALLOWED_ATTR, ATTRS.svg);\n        addToSet(ALLOWED_ATTR, ATTRS.xml);\n      }\n\n      if (USE_PROFILES.mathMl === true) {\n        addToSet(ALLOWED_TAGS, TAGS.mathMl);\n        addToSet(ALLOWED_ATTR, ATTRS.mathMl);\n        addToSet(ALLOWED_ATTR, ATTRS.xml);\n      }\n    }\n\n    /* Merge configuration parameters */\n    if (cfg.ADD_TAGS) {\n      if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n        ALLOWED_TAGS = clone(ALLOWED_TAGS);\n      }\n\n      addToSet(ALLOWED_TAGS, cfg.ADD_TAGS, transformCaseFunc);\n    }\n\n    if (cfg.ADD_ATTR) {\n      if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n        ALLOWED_ATTR = clone(ALLOWED_ATTR);\n      }\n\n      addToSet(ALLOWED_ATTR, cfg.ADD_ATTR, transformCaseFunc);\n    }\n\n    if (cfg.ADD_URI_SAFE_ATTR) {\n      addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR, transformCaseFunc);\n    }\n\n    if (cfg.FORBID_CONTENTS) {\n      if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n        FORBID_CONTENTS = clone(FORBID_CONTENTS);\n      }\n\n      addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS, transformCaseFunc);\n    }\n\n    /* Add #text in case KEEP_CONTENT is set to true */\n    if (KEEP_CONTENT) {\n      ALLOWED_TAGS['#text'] = true;\n    }\n\n    /* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */\n    if (WHOLE_DOCUMENT) {\n      addToSet(ALLOWED_TAGS, ['html', 'head', 'body']);\n    }\n\n    /* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */\n    if (ALLOWED_TAGS.table) {\n      addToSet(ALLOWED_TAGS, ['tbody']);\n      delete FORBID_TAGS.tbody;\n    }\n\n    if (cfg.TRUSTED_TYPES_POLICY) {\n      if (typeof cfg.TRUSTED_TYPES_POLICY.createHTML !== 'function') {\n        throw typeErrorCreate(\n          'TRUSTED_TYPES_POLICY configuration option must provide a \"createHTML\" hook.'\n        );\n      }\n\n      if (typeof cfg.TRUSTED_TYPES_POLICY.createScriptURL !== 'function') {\n        throw typeErrorCreate(\n          'TRUSTED_TYPES_POLICY configuration option must provide a \"createScriptURL\" hook.'\n        );\n      }\n\n      // Overwrite existing TrustedTypes policy.\n      trustedTypesPolicy = cfg.TRUSTED_TYPES_POLICY;\n\n      // Sign local variables required by `sanitize`.\n      emptyHTML = trustedTypesPolicy.createHTML('');\n    } else {\n      // Uninitialized policy, attempt to initialize the internal dompurify policy.\n      if (trustedTypesPolicy === undefined) {\n        trustedTypesPolicy = _createTrustedTypesPolicy(\n          trustedTypes,\n          currentScript\n        );\n      }\n\n      // If creating the internal policy succeeded sign internal variables.\n      if (trustedTypesPolicy !== null && typeof emptyHTML === 'string') {\n        emptyHTML = trustedTypesPolicy.createHTML('');\n      }\n    }\n\n    // Prevent further manipulation of configuration.\n    // Not available in IE8, Safari 5, etc.\n    if (freeze) {\n      freeze(cfg);\n    }\n\n    CONFIG = cfg;\n  };\n\n  const MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, [\n    'mi',\n    'mo',\n    'mn',\n    'ms',\n    'mtext',\n  ]);\n\n  const HTML_INTEGRATION_POINTS = addToSet({}, [\n    'foreignobject',\n    'annotation-xml',\n  ]);\n\n  // Certain elements are allowed in both SVG and HTML\n  // namespace. We need to specify them explicitly\n  // so that they don't get erroneously deleted from\n  // HTML namespace.\n  const COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, [\n    'title',\n    'style',\n    'font',\n    'a',\n    'script',\n  ]);\n\n  /* Keep track of all possible SVG and MathML tags\n   * so that we can perform the namespace checks\n   * correctly. */\n  const ALL_SVG_TAGS = addToSet({}, [\n    ...TAGS.svg,\n    ...TAGS.svgFilters,\n    ...TAGS.svgDisallowed,\n  ]);\n  const ALL_MATHML_TAGS = addToSet({}, [\n    ...TAGS.mathMl,\n    ...TAGS.mathMlDisallowed,\n  ]);\n\n  /**\n   * @param  {Element} element a DOM element whose namespace is being checked\n   * @returns {boolean} Return false if the element has a\n   *  namespace that a spec-compliant parser would never\n   *  return. Return true otherwise.\n   */\n  const _checkValidNamespace = function (element) {\n    let parent = getParentNode(element);\n\n    // In JSDOM, if we're inside shadow DOM, then parentNode\n    // can be null. We just simulate parent in this case.\n    if (!parent || !parent.tagName) {\n      parent = {\n        namespaceURI: NAMESPACE,\n        tagName: 'template',\n      };\n    }\n\n    const tagName = stringToLowerCase(element.tagName);\n    const parentTagName = stringToLowerCase(parent.tagName);\n\n    if (!ALLOWED_NAMESPACES[element.namespaceURI]) {\n      return false;\n    }\n\n    if (element.namespaceURI === SVG_NAMESPACE) {\n      // The only way to switch from HTML namespace to SVG\n      // is via <svg>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'svg';\n      }\n\n      // The only way to switch from MathML to SVG is via`\n      // svg if parent is either <annotation-xml> or MathML\n      // text integration points.\n      if (parent.namespaceURI === MATHML_NAMESPACE) {\n        return (\n          tagName === 'svg' &&\n          (parentTagName === 'annotation-xml' ||\n            MATHML_TEXT_INTEGRATION_POINTS[parentTagName])\n        );\n      }\n\n      // We only allow elements that are defined in SVG\n      // spec. All others are disallowed in SVG namespace.\n      return Boolean(ALL_SVG_TAGS[tagName]);\n    }\n\n    if (element.namespaceURI === MATHML_NAMESPACE) {\n      // The only way to switch from HTML namespace to MathML\n      // is via <math>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'math';\n      }\n\n      // The only way to switch from SVG to MathML is via\n      // <math> and HTML integration points\n      if (parent.namespaceURI === SVG_NAMESPACE) {\n        return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n      }\n\n      // We only allow elements that are defined in MathML\n      // spec. All others are disallowed in MathML namespace.\n      return Boolean(ALL_MATHML_TAGS[tagName]);\n    }\n\n    if (element.namespaceURI === HTML_NAMESPACE) {\n      // The only way to switch from SVG to HTML is via\n      // HTML integration points, and from MathML to HTML\n      // is via MathML text integration points\n      if (\n        parent.namespaceURI === SVG_NAMESPACE &&\n        !HTML_INTEGRATION_POINTS[parentTagName]\n      ) {\n        return false;\n      }\n\n      if (\n        parent.namespaceURI === MATHML_NAMESPACE &&\n        !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]\n      ) {\n        return false;\n      }\n\n      // We disallow tags that are specific for MathML\n      // or SVG and should never appear in HTML namespace\n      return (\n        !ALL_MATHML_TAGS[tagName] &&\n        (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName])\n      );\n    }\n\n    // For XHTML and XML documents that support custom namespaces\n    if (\n      PARSER_MEDIA_TYPE === 'application/xhtml+xml' &&\n      ALLOWED_NAMESPACES[element.namespaceURI]\n    ) {\n      return true;\n    }\n\n    // The code should never reach this place (this means\n    // that the element somehow got namespace that is not\n    // HTML, SVG, MathML or allowed via ALLOWED_NAMESPACES).\n    // Return false just in case.\n    return false;\n  };\n\n  /**\n   * _forceRemove\n   *\n   * @param  {Node} node a DOM node\n   */\n  const _forceRemove = function (node) {\n    arrayPush(DOMPurify.removed, { element: node });\n\n    try {\n      // eslint-disable-next-line unicorn/prefer-dom-node-remove\n      node.parentNode.removeChild(node);\n    } catch (_) {\n      node.remove();\n    }\n  };\n\n  /**\n   * _removeAttribute\n   *\n   * @param  {String} name an Attribute name\n   * @param  {Node} node a DOM node\n   */\n  const _removeAttribute = function (name, node) {\n    try {\n      arrayPush(DOMPurify.removed, {\n        attribute: node.getAttributeNode(name),\n        from: node,\n      });\n    } catch (_) {\n      arrayPush(DOMPurify.removed, {\n        attribute: null,\n        from: node,\n      });\n    }\n\n    node.removeAttribute(name);\n\n    // We void attribute values for unremovable \"is\"\" attributes\n    if (name === 'is' && !ALLOWED_ATTR[name]) {\n      if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n        try {\n          _forceRemove(node);\n        } catch (_) {}\n      } else {\n        try {\n          node.setAttribute(name, '');\n        } catch (_) {}\n      }\n    }\n  };\n\n  /**\n   * _initDocument\n   *\n   * @param  {String} dirty a string of dirty markup\n   * @return {Document} a DOM, filled with the dirty markup\n   */\n  const _initDocument = function (dirty) {\n    /* Create a HTML document */\n    let doc = null;\n    let leadingWhitespace = null;\n\n    if (FORCE_BODY) {\n      dirty = '<remove></remove>' + dirty;\n    } else {\n      /* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */\n      const matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n      leadingWhitespace = matches && matches[0];\n    }\n\n    if (\n      PARSER_MEDIA_TYPE === 'application/xhtml+xml' &&\n      NAMESPACE === HTML_NAMESPACE\n    ) {\n      // Root of XHTML doc must contain xmlns declaration (see https://www.w3.org/TR/xhtml1/normative.html#strict)\n      dirty =\n        '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' +\n        dirty +\n        '</body></html>';\n    }\n\n    const dirtyPayload = trustedTypesPolicy\n      ? trustedTypesPolicy.createHTML(dirty)\n      : dirty;\n    /*\n     * Use the DOMParser API by default, fallback later if needs be\n     * DOMParser not work for svg when has multiple root element.\n     */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      try {\n        doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);\n      } catch (_) {}\n    }\n\n    /* Use createHTMLDocument in case DOMParser is not available */\n    if (!doc || !doc.documentElement) {\n      doc = implementation.createDocument(NAMESPACE, 'template', null);\n      try {\n        doc.documentElement.innerHTML = IS_EMPTY_INPUT\n          ? emptyHTML\n          : dirtyPayload;\n      } catch (_) {\n        // Syntax error if dirtyPayload is invalid xml\n      }\n    }\n\n    const body = doc.body || doc.documentElement;\n\n    if (dirty && leadingWhitespace) {\n      body.insertBefore(\n        document.createTextNode(leadingWhitespace),\n        body.childNodes[0] || null\n      );\n    }\n\n    /* Work on whole document or just its body */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      return getElementsByTagName.call(\n        doc,\n        WHOLE_DOCUMENT ? 'html' : 'body'\n      )[0];\n    }\n\n    return WHOLE_DOCUMENT ? doc.documentElement : body;\n  };\n\n  /**\n   * Creates a NodeIterator object that you can use to traverse filtered lists of nodes or elements in a document.\n   *\n   * @param  {Node} root The root element or node to start traversing on.\n   * @return {NodeIterator} The created NodeIterator\n   */\n  const _createNodeIterator = function (root) {\n    return createNodeIterator.call(\n      root.ownerDocument || root,\n      root,\n      // eslint-disable-next-line no-bitwise\n      NodeFilter.SHOW_ELEMENT |\n        NodeFilter.SHOW_COMMENT |\n        NodeFilter.SHOW_TEXT |\n        NodeFilter.SHOW_PROCESSING_INSTRUCTION |\n        NodeFilter.SHOW_CDATA_SECTION,\n      null\n    );\n  };\n\n  /**\n   * _isClobbered\n   *\n   * @param  {Node} elm element to check for clobbering attacks\n   * @return {Boolean} true if clobbered, false if safe\n   */\n  const _isClobbered = function (elm) {\n    return (\n      elm instanceof HTMLFormElement &&\n      // eslint-disable-next-line unicorn/no-typeof-undefined\n      ((typeof elm.__depth !== 'undefined' &&\n        typeof elm.__depth !== 'number') ||\n        // eslint-disable-next-line unicorn/no-typeof-undefined\n        (typeof elm.__removalCount !== 'undefined' &&\n          typeof elm.__removalCount !== 'number') ||\n        typeof elm.nodeName !== 'string' ||\n        typeof elm.textContent !== 'string' ||\n        typeof elm.removeChild !== 'function' ||\n        !(elm.attributes instanceof NamedNodeMap) ||\n        typeof elm.removeAttribute !== 'function' ||\n        typeof elm.setAttribute !== 'function' ||\n        typeof elm.namespaceURI !== 'string' ||\n        typeof elm.insertBefore !== 'function' ||\n        typeof elm.hasChildNodes !== 'function')\n    );\n  };\n\n  /**\n   * Checks whether the given object is a DOM node.\n   *\n   * @param  {Node} object object to check whether it's a DOM node\n   * @return {Boolean} true is object is a DOM node\n   */\n  const _isNode = function (object) {\n    return typeof Node === 'function' && object instanceof Node;\n  };\n\n  /**\n   * _executeHook\n   * Execute user configurable hooks\n   *\n   * @param  {String} entryPoint  Name of the hook's entry point\n   * @param  {Node} currentNode node to work on with the hook\n   * @param  {Object} data additional hook parameters\n   */\n  const _executeHook = function (entryPoint, currentNode, data) {\n    if (!hooks[entryPoint]) {\n      return;\n    }\n\n    arrayForEach(hooks[entryPoint], (hook) => {\n      hook.call(DOMPurify, currentNode, data, CONFIG);\n    });\n  };\n\n  /**\n   * _sanitizeElements\n   *\n   * @protect nodeName\n   * @protect textContent\n   * @protect removeChild\n   *\n   * @param   {Node} currentNode to check for permission to exist\n   * @return  {Boolean} true if node was killed, false if left alive\n   */\n  const _sanitizeElements = function (currentNode) {\n    let content = null;\n\n    /* Execute a hook if present */\n    _executeHook('beforeSanitizeElements', currentNode, null);\n\n    /* Check if element is clobbered or can clobber */\n    if (_isClobbered(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Now let's check the element's type and name */\n    const tagName = transformCaseFunc(currentNode.nodeName);\n\n    /* Execute a hook if present */\n    _executeHook('uponSanitizeElement', currentNode, {\n      tagName,\n      allowedTags: ALLOWED_TAGS,\n    });\n\n    /* Detect mXSS attempts abusing namespace confusion */\n    if (\n      currentNode.hasChildNodes() &&\n      !_isNode(currentNode.firstElementChild) &&\n      regExpTest(/<[/\\w]/g, currentNode.innerHTML) &&\n      regExpTest(/<[/\\w]/g, currentNode.textContent)\n    ) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Remove any ocurrence of processing instructions */\n    if (currentNode.nodeType === NODE_TYPE.progressingInstruction) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Remove any kind of possibly harmful comments */\n    if (\n      SAFE_FOR_XML &&\n      currentNode.nodeType === NODE_TYPE.comment &&\n      regExpTest(/<[/\\w]/g, currentNode.data)\n    ) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Remove element if anything forbids its presence */\n    if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n      /* Check if we have a custom element to handle */\n      if (!FORBID_TAGS[tagName] && _isBasicCustomElement(tagName)) {\n        if (\n          CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp &&\n          regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName)\n        ) {\n          return false;\n        }\n\n        if (\n          CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function &&\n          CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName)\n        ) {\n          return false;\n        }\n      }\n\n      /* Keep content except for bad-listed elements */\n      if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n        const parentNode = getParentNode(currentNode) || currentNode.parentNode;\n        const childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n\n        if (childNodes && parentNode) {\n          const childCount = childNodes.length;\n\n          for (let i = childCount - 1; i >= 0; --i) {\n            const childClone = cloneNode(childNodes[i], true);\n            childClone.__removalCount = (currentNode.__removalCount || 0) + 1;\n            parentNode.insertBefore(childClone, getNextSibling(currentNode));\n          }\n        }\n      }\n\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Check whether element has a valid namespace */\n    if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Make sure that older browsers don't get fallback-tag mXSS */\n    if (\n      (tagName === 'noscript' ||\n        tagName === 'noembed' ||\n        tagName === 'noframes') &&\n      regExpTest(/<\\/no(script|embed|frames)/i, currentNode.innerHTML)\n    ) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Sanitize element content to be template-safe */\n    if (SAFE_FOR_TEMPLATES && currentNode.nodeType === NODE_TYPE.text) {\n      /* Get the element's text content */\n      content = currentNode.textContent;\n\n      arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], (expr) => {\n        content = stringReplace(content, expr, ' ');\n      });\n\n      if (currentNode.textContent !== content) {\n        arrayPush(DOMPurify.removed, { element: currentNode.cloneNode() });\n        currentNode.textContent = content;\n      }\n    }\n\n    /* Execute a hook if present */\n    _executeHook('afterSanitizeElements', currentNode, null);\n\n    return false;\n  };\n\n  /**\n   * _isValidAttribute\n   *\n   * @param  {string} lcTag Lowercase tag name of containing element.\n   * @param  {string} lcName Lowercase attribute name.\n   * @param  {string} value Attribute value.\n   * @return {Boolean} Returns true if `value` is valid, otherwise false.\n   */\n  // eslint-disable-next-line complexity\n  const _isValidAttribute = function (lcTag, lcName, value) {\n    /* Make sure attribute cannot clobber */\n    if (\n      SANITIZE_DOM &&\n      (lcName === 'id' || lcName === 'name') &&\n      (value in document ||\n        value in formElement ||\n        value === '__depth' ||\n        value === '__removalCount')\n    ) {\n      return false;\n    }\n\n    /* Allow valid data-* attributes: At least one character after \"-\"\n        (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n        XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n        We don't need to check the value; it's always URI safe. */\n    if (\n      ALLOW_DATA_ATTR &&\n      !FORBID_ATTR[lcName] &&\n      regExpTest(DATA_ATTR, lcName)\n    ) {\n      // This attribute is safe\n    } else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR, lcName)) {\n      // This attribute is safe\n      /* Otherwise, check the name is permitted */\n    } else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n      if (\n        // First condition does a very basic check if a) it's basically a valid custom element tagname AND\n        // b) if the tagName passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n        // and c) if the attribute name passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.attributeNameCheck\n        (_isBasicCustomElement(lcTag) &&\n          ((CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp &&\n            regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag)) ||\n            (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function &&\n              CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag))) &&\n          ((CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp &&\n            regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName)) ||\n            (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function &&\n              CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName)))) ||\n        // Alternative, second condition checks if it's an `is`-attribute, AND\n        // the value passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n        (lcName === 'is' &&\n          CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements &&\n          ((CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp &&\n            regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value)) ||\n            (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function &&\n              CUSTOM_ELEMENT_HANDLING.tagNameCheck(value))))\n      ) {\n        // If user has supplied a regexp or function in CUSTOM_ELEMENT_HANDLING.tagNameCheck, we need to also allow derived custom elements using the same tagName test.\n        // Additionally, we need to allow attributes passing the CUSTOM_ELEMENT_HANDLING.attributeNameCheck user has configured, as custom elements can define these at their own discretion.\n      } else {\n        return false;\n      }\n      /* Check value is safe. First, is attr inert? If so, is safe */\n    } else if (URI_SAFE_ATTRIBUTES[lcName]) {\n      // This attribute is safe\n      /* Check no script, data or unknown possibly unsafe URI\n        unless we know URI values are safe for that attribute */\n    } else if (\n      regExpTest(IS_ALLOWED_URI, stringReplace(value, ATTR_WHITESPACE, ''))\n    ) {\n      // This attribute is safe\n      /* Keep image data URIs alive if src/xlink:href is allowed */\n      /* Further prevent gadget XSS for dynamically built script tags */\n    } else if (\n      (lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') &&\n      lcTag !== 'script' &&\n      stringIndexOf(value, 'data:') === 0 &&\n      DATA_URI_TAGS[lcTag]\n    ) {\n      // This attribute is safe\n      /* Allow unknown protocols: This provides support for links that\n        are handled by protocol handlers which may be unknown ahead of\n        time, e.g. fb:, spotify: */\n    } else if (\n      ALLOW_UNKNOWN_PROTOCOLS &&\n      !regExpTest(IS_SCRIPT_OR_DATA, stringReplace(value, ATTR_WHITESPACE, ''))\n    ) {\n      // This attribute is safe\n      /* Check for binary attributes */\n    } else if (value) {\n      return false;\n    } else {\n      // Binary attributes are safe at this point\n      /* Anything else, presume unsafe, do not add it back */\n    }\n\n    return true;\n  };\n\n  /**\n   * _isBasicCustomElement\n   * checks if at least one dash is included in tagName, and it's not the first char\n   * for more sophisticated checking see https://github.com/sindresorhus/validate-element-name\n   *\n   * @param {string} tagName name of the tag of the node to sanitize\n   * @returns {boolean} Returns true if the tag name meets the basic criteria for a custom element, otherwise false.\n   */\n  const _isBasicCustomElement = function (tagName) {\n    return tagName !== 'annotation-xml' && stringMatch(tagName, CUSTOM_ELEMENT);\n  };\n\n  /**\n   * _sanitizeAttributes\n   *\n   * @protect attributes\n   * @protect nodeName\n   * @protect removeAttribute\n   * @protect setAttribute\n   *\n   * @param  {Node} currentNode to sanitize\n   */\n  const _sanitizeAttributes = function (currentNode) {\n    /* Execute a hook if present */\n    _executeHook('beforeSanitizeAttributes', currentNode, null);\n\n    const { attributes } = currentNode;\n\n    /* Check if we have attributes; if not we might have a text node */\n    if (!attributes) {\n      return;\n    }\n\n    const hookEvent = {\n      attrName: '',\n      attrValue: '',\n      keepAttr: true,\n      allowedAttributes: ALLOWED_ATTR,\n    };\n    let l = attributes.length;\n\n    /* Go backwards over all attributes; safely remove bad ones */\n    while (l--) {\n      const attr = attributes[l];\n      const { name, namespaceURI, value: attrValue } = attr;\n      const lcName = transformCaseFunc(name);\n\n      let value = name === 'value' ? attrValue : stringTrim(attrValue);\n\n      /* Execute a hook if present */\n      hookEvent.attrName = lcName;\n      hookEvent.attrValue = value;\n      hookEvent.keepAttr = true;\n      hookEvent.forceKeepAttr = undefined; // Allows developers to see this is a property they can set\n      _executeHook('uponSanitizeAttribute', currentNode, hookEvent);\n      value = hookEvent.attrValue;\n      /* Did the hooks approve of the attribute? */\n      if (hookEvent.forceKeepAttr) {\n        continue;\n      }\n\n      /* Remove attribute */\n      _removeAttribute(name, currentNode);\n\n      /* Did the hooks approve of the attribute? */\n      if (!hookEvent.keepAttr) {\n        continue;\n      }\n\n      /* Work around a security issue in jQuery 3.0 */\n      if (!ALLOW_SELF_CLOSE_IN_ATTR && regExpTest(/\\/>/i, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n\n      /* Work around a security issue with comments inside attributes */\n      if (SAFE_FOR_XML && regExpTest(/((--!?|])>)|<\\/(style|title)/i, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n\n      /* Sanitize attribute content to be template-safe */\n      if (SAFE_FOR_TEMPLATES) {\n        arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], (expr) => {\n          value = stringReplace(value, expr, ' ');\n        });\n      }\n\n      /* Is `value` valid for this attribute? */\n      const lcTag = transformCaseFunc(currentNode.nodeName);\n      if (!_isValidAttribute(lcTag, lcName, value)) {\n        continue;\n      }\n\n      /* Full DOM Clobbering protection via namespace isolation,\n       * Prefix id and name attributes with `user-content-`\n       */\n      if (SANITIZE_NAMED_PROPS && (lcName === 'id' || lcName === 'name')) {\n        // Remove the attribute with this value\n        _removeAttribute(name, currentNode);\n\n        // Prefix the value and later re-create the attribute with the sanitized value\n        value = SANITIZE_NAMED_PROPS_PREFIX + value;\n      }\n\n      /* Handle attributes that require Trusted Types */\n      if (\n        trustedTypesPolicy &&\n        typeof trustedTypes === 'object' &&\n        typeof trustedTypes.getAttributeType === 'function'\n      ) {\n        if (namespaceURI) {\n          /* Namespaces are not yet supported, see https://bugs.chromium.org/p/chromium/issues/detail?id=1305293 */\n        } else {\n          switch (trustedTypes.getAttributeType(lcTag, lcName)) {\n            case 'TrustedHTML': {\n              value = trustedTypesPolicy.createHTML(value);\n              break;\n            }\n\n            case 'TrustedScriptURL': {\n              value = trustedTypesPolicy.createScriptURL(value);\n              break;\n            }\n\n            default: {\n              break;\n            }\n          }\n        }\n      }\n\n      /* Handle invalid data-* attribute set by try-catching it */\n      try {\n        if (namespaceURI) {\n          currentNode.setAttributeNS(namespaceURI, name, value);\n        } else {\n          /* Fallback to setAttribute() for browser-unrecognized namespaces e.g. \"x-schema\". */\n          currentNode.setAttribute(name, value);\n        }\n\n        if (_isClobbered(currentNode)) {\n          _forceRemove(currentNode);\n        } else {\n          arrayPop(DOMPurify.removed);\n        }\n      } catch (_) {}\n    }\n\n    /* Execute a hook if present */\n    _executeHook('afterSanitizeAttributes', currentNode, null);\n  };\n\n  /**\n   * _sanitizeShadowDOM\n   *\n   * @param  {DocumentFragment} fragment to iterate over recursively\n   */\n  const _sanitizeShadowDOM = function (fragment) {\n    let shadowNode = null;\n    const shadowIterator = _createNodeIterator(fragment);\n\n    /* Execute a hook if present */\n    _executeHook('beforeSanitizeShadowDOM', fragment, null);\n\n    while ((shadowNode = shadowIterator.nextNode())) {\n      /* Execute a hook if present */\n      _executeHook('uponSanitizeShadowNode', shadowNode, null);\n\n      /* Sanitize tags and elements */\n      if (_sanitizeElements(shadowNode)) {\n        continue;\n      }\n\n      const parentNode = getParentNode(shadowNode);\n\n      /* Set the nesting depth of an element */\n      if (shadowNode.nodeType === NODE_TYPE.element) {\n        if (parentNode && parentNode.__depth) {\n          /*\n            We want the depth of the node in the original tree, which can\n            change when it's removed from its parent.\n          */\n          shadowNode.__depth =\n            (shadowNode.__removalCount || 0) + parentNode.__depth + 1;\n        } else {\n          shadowNode.__depth = 1;\n        }\n      }\n\n      /*\n       * Remove an element if nested too deeply to avoid mXSS\n       * or if the __depth might have been tampered with\n       */\n      if (\n        shadowNode.__depth >= MAX_NESTING_DEPTH ||\n        shadowNode.__depth < 0 ||\n        numberIsNaN(shadowNode.__depth)\n      ) {\n        _forceRemove(shadowNode);\n      }\n\n      /* Deep shadow DOM detected */\n      if (shadowNode.content instanceof DocumentFragment) {\n        shadowNode.content.__depth = shadowNode.__depth;\n        _sanitizeShadowDOM(shadowNode.content);\n      }\n\n      /* Check attributes, sanitize if necessary */\n      _sanitizeAttributes(shadowNode);\n    }\n\n    /* Execute a hook if present */\n    _executeHook('afterSanitizeShadowDOM', fragment, null);\n  };\n\n  /**\n   * Sanitize\n   * Public method providing core sanitation functionality\n   *\n   * @param {String|Node} dirty string or DOM node\n   * @param {Object} cfg object\n   */\n  // eslint-disable-next-line complexity\n  DOMPurify.sanitize = function (dirty, cfg = {}) {\n    let body = null;\n    let importedNode = null;\n    let currentNode = null;\n    let returnNode = null;\n    /* Make sure we have a string to sanitize.\n      DO NOT return early, as this will return the wrong type if\n      the user has requested a DOM object rather than a string */\n    IS_EMPTY_INPUT = !dirty;\n    if (IS_EMPTY_INPUT) {\n      dirty = '<!-->';\n    }\n\n    /* Stringify, in case dirty is an object */\n    if (typeof dirty !== 'string' && !_isNode(dirty)) {\n      if (typeof dirty.toString === 'function') {\n        dirty = dirty.toString();\n        if (typeof dirty !== 'string') {\n          throw typeErrorCreate('dirty is not a string, aborting');\n        }\n      } else {\n        throw typeErrorCreate('toString is not a function');\n      }\n    }\n\n    /* Return dirty HTML if DOMPurify cannot run */\n    if (!DOMPurify.isSupported) {\n      return dirty;\n    }\n\n    /* Assign config vars */\n    if (!SET_CONFIG) {\n      _parseConfig(cfg);\n    }\n\n    /* Clean up removed elements */\n    DOMPurify.removed = [];\n\n    /* Check if dirty is correctly typed for IN_PLACE */\n    if (typeof dirty === 'string') {\n      IN_PLACE = false;\n    }\n\n    if (IN_PLACE) {\n      /* Do some early pre-sanitization to avoid unsafe root nodes */\n      if (dirty.nodeName) {\n        const tagName = transformCaseFunc(dirty.nodeName);\n        if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n          throw typeErrorCreate(\n            'root node is forbidden and cannot be sanitized in-place'\n          );\n        }\n      }\n    } else if (dirty instanceof Node) {\n      /* If dirty is a DOM element, append to an empty document to avoid\n         elements being stripped by the parser */\n      body = _initDocument('<!---->');\n      importedNode = body.ownerDocument.importNode(dirty, true);\n      if (\n        importedNode.nodeType === NODE_TYPE.element &&\n        importedNode.nodeName === 'BODY'\n      ) {\n        /* Node is already a body, use as is */\n        body = importedNode;\n      } else if (importedNode.nodeName === 'HTML') {\n        body = importedNode;\n      } else {\n        // eslint-disable-next-line unicorn/prefer-dom-node-append\n        body.appendChild(importedNode);\n      }\n    } else {\n      /* Exit directly if we have nothing to do */\n      if (\n        !RETURN_DOM &&\n        !SAFE_FOR_TEMPLATES &&\n        !WHOLE_DOCUMENT &&\n        // eslint-disable-next-line unicorn/prefer-includes\n        dirty.indexOf('<') === -1\n      ) {\n        return trustedTypesPolicy && RETURN_TRUSTED_TYPE\n          ? trustedTypesPolicy.createHTML(dirty)\n          : dirty;\n      }\n\n      /* Initialize the document to work on */\n      body = _initDocument(dirty);\n\n      /* Check we have a DOM node from the data */\n      if (!body) {\n        return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : '';\n      }\n    }\n\n    /* Remove first element node (ours) if FORCE_BODY is set */\n    if (body && FORCE_BODY) {\n      _forceRemove(body.firstChild);\n    }\n\n    /* Get node iterator */\n    const nodeIterator = _createNodeIterator(IN_PLACE ? dirty : body);\n\n    /* Now start iterating over the created document */\n    while ((currentNode = nodeIterator.nextNode())) {\n      /* Sanitize tags and elements */\n      if (_sanitizeElements(currentNode)) {\n        continue;\n      }\n\n      const parentNode = getParentNode(currentNode);\n\n      /* Set the nesting depth of an element */\n      if (currentNode.nodeType === NODE_TYPE.element) {\n        if (parentNode && parentNode.__depth) {\n          /*\n            We want the depth of the node in the original tree, which can\n            change when it's removed from its parent.\n          */\n          currentNode.__depth =\n            (currentNode.__removalCount || 0) + parentNode.__depth + 1;\n        } else {\n          currentNode.__depth = 1;\n        }\n      }\n\n      /*\n       * Remove an element if nested too deeply to avoid mXSS\n       * or if the __depth might have been tampered with\n       */\n      if (\n        currentNode.__depth >= MAX_NESTING_DEPTH ||\n        currentNode.__depth < 0 ||\n        numberIsNaN(currentNode.__depth)\n      ) {\n        _forceRemove(currentNode);\n      }\n\n      /* Shadow DOM detected, sanitize it */\n      if (currentNode.content instanceof DocumentFragment) {\n        currentNode.content.__depth = currentNode.__depth;\n        _sanitizeShadowDOM(currentNode.content);\n      }\n\n      /* Check attributes, sanitize if necessary */\n      _sanitizeAttributes(currentNode);\n    }\n\n    /* If we sanitized `dirty` in-place, return it. */\n    if (IN_PLACE) {\n      return dirty;\n    }\n\n    /* Return sanitized string or DOM */\n    if (RETURN_DOM) {\n      if (RETURN_DOM_FRAGMENT) {\n        returnNode = createDocumentFragment.call(body.ownerDocument);\n\n        while (body.firstChild) {\n          // eslint-disable-next-line unicorn/prefer-dom-node-append\n          returnNode.appendChild(body.firstChild);\n        }\n      } else {\n        returnNode = body;\n      }\n\n      if (ALLOWED_ATTR.shadowroot || ALLOWED_ATTR.shadowrootmode) {\n        /*\n          AdoptNode() is not used because internal state is not reset\n          (e.g. the past names map of a HTMLFormElement), this is safe\n          in theory but we would rather not risk another attack vector.\n          The state that is cloned by importNode() is explicitly defined\n          by the specs.\n        */\n        returnNode = importNode.call(originalDocument, returnNode, true);\n      }\n\n      return returnNode;\n    }\n\n    let serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n\n    /* Serialize doctype if allowed */\n    if (\n      WHOLE_DOCUMENT &&\n      ALLOWED_TAGS['!doctype'] &&\n      body.ownerDocument &&\n      body.ownerDocument.doctype &&\n      body.ownerDocument.doctype.name &&\n      regExpTest(EXPRESSIONS.DOCTYPE_NAME, body.ownerDocument.doctype.name)\n    ) {\n      serializedHTML =\n        '<!DOCTYPE ' + body.ownerDocument.doctype.name + '>\\n' + serializedHTML;\n    }\n\n    /* Sanitize final string template-safe */\n    if (SAFE_FOR_TEMPLATES) {\n      arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], (expr) => {\n        serializedHTML = stringReplace(serializedHTML, expr, ' ');\n      });\n    }\n\n    return trustedTypesPolicy && RETURN_TRUSTED_TYPE\n      ? trustedTypesPolicy.createHTML(serializedHTML)\n      : serializedHTML;\n  };\n\n  /**\n   * Public method to set the configuration once\n   * setConfig\n   *\n   * @param {Object} cfg configuration object\n   */\n  DOMPurify.setConfig = function (cfg = {}) {\n    _parseConfig(cfg);\n    SET_CONFIG = true;\n  };\n\n  /**\n   * Public method to remove the configuration\n   * clearConfig\n   *\n   */\n  DOMPurify.clearConfig = function () {\n    CONFIG = null;\n    SET_CONFIG = false;\n  };\n\n  /**\n   * Public method to check if an attribute value is valid.\n   * Uses last set config, if any. Otherwise, uses config defaults.\n   * isValidAttribute\n   *\n   * @param  {String} tag Tag name of containing element.\n   * @param  {String} attr Attribute name.\n   * @param  {String} value Attribute value.\n   * @return {Boolean} Returns true if `value` is valid. Otherwise, returns false.\n   */\n  DOMPurify.isValidAttribute = function (tag, attr, value) {\n    /* Initialize shared config vars if necessary. */\n    if (!CONFIG) {\n      _parseConfig({});\n    }\n\n    const lcTag = transformCaseFunc(tag);\n    const lcName = transformCaseFunc(attr);\n    return _isValidAttribute(lcTag, lcName, value);\n  };\n\n  /**\n   * AddHook\n   * Public method to add DOMPurify hooks\n   *\n   * @param {String} entryPoint entry point for the hook to add\n   * @param {Function} hookFunction function to execute\n   */\n  DOMPurify.addHook = function (entryPoint, hookFunction) {\n    if (typeof hookFunction !== 'function') {\n      return;\n    }\n\n    hooks[entryPoint] = hooks[entryPoint] || [];\n    arrayPush(hooks[entryPoint], hookFunction);\n  };\n\n  /**\n   * RemoveHook\n   * Public method to remove a DOMPurify hook at a given entryPoint\n   * (pops it from the stack of hooks if more are present)\n   *\n   * @param {String} entryPoint entry point for the hook to remove\n   * @return {Function} removed(popped) hook\n   */\n  DOMPurify.removeHook = function (entryPoint) {\n    if (hooks[entryPoint]) {\n      return arrayPop(hooks[entryPoint]);\n    }\n  };\n\n  /**\n   * RemoveHooks\n   * Public method to remove all DOMPurify hooks at a given entryPoint\n   *\n   * @param  {String} entryPoint entry point for the hooks to remove\n   */\n  DOMPurify.removeHooks = function (entryPoint) {\n    if (hooks[entryPoint]) {\n      hooks[entryPoint] = [];\n    }\n  };\n\n  /**\n   * RemoveAllHooks\n   * Public method to remove all DOMPurify hooks\n   */\n  DOMPurify.removeAllHooks = function () {\n    hooks = {};\n  };\n\n  return DOMPurify;\n}\n\nexport default createDOMPurify();\n", "import browser from \"webextension-polyfill\";\r\n\r\nexport default {\r\n    \"version\": browser.runtime.getManifest().version,\r\n    \"db_version\": 6,\r\n} as const;\r\n", "import browser, {type Storage as ns} from \"webextension-polyfill\";\r\nimport Storage, {type StorageSchema} from \"./Storage\";\r\n\r\n// FIXME exports are confusing, figure out better export scheme\r\n\r\n/**\r\n * NOTE: Settings are stored in synced storage, but are omitted from default schema,\r\n * because they should not be accessed directly from storage\r\n */\r\ninterface SyncedStorageSchema extends StorageSchema {\r\n    user_notes: Record<string, string>,\r\n    fav_emoticons: string[],\r\n    sortfriendsby: string,\r\n    sortgroupsby: string,\r\n    sortmylistingsby: string,\r\n    sortreviewsby: string,\r\n    homepage_tab_last: string;\r\n}\r\n\r\n/*\r\n * browser.storage.sync limits\r\n * QUOTA_BYTES = 102400 // 100KB\r\n * QUOTA_BYTES_PER_ITEM = 8192 // 8KB\r\n * MAX_ITEMS = 512\r\n * MAX_WRITE_OPERATIONS_PER_HOUR = 1800\r\n * MAX_WRITE_OPERATIONS_PER_MINUTE = 120\r\n */\r\nexport class SyncedStorage<Schema extends StorageSchema> extends Storage<ns.SyncStorageAreaSync, Schema> {\r\n\r\n    constructor() {\r\n        super(browser.storage.sync);\r\n    }\r\n\r\n    get QUOTA_BYTES_PER_ITEM(): number {\r\n        // see https://github.com/DefinitelyTyped/DefinitelyTyped/discussions/66696\r\n        return browser.storage.sync.QUOTA_BYTES_PER_ITEM ?? 8192;\r\n    }\r\n}\r\n\r\nexport default new SyncedStorage<SyncedStorageSchema>();\r\n", "import {type Storage as ns} from \"webextension-polyfill\";\r\n\r\n/*\r\n * Type declarations stolen from idb, because I was too dumb to figure them out on my own\r\n * */\r\ndeclare type KeyToKeyNoIndex<T> = {\r\n    [K in keyof T]: string extends K ? never : number extends K ? never : K;\r\n};\r\nexport declare type ValuesOf<T> = T extends {\r\n    [K in keyof T]: infer U;\r\n} ? U : never;\r\ndeclare type KnownKeys<T> = ValuesOf<KeyToKeyNoIndex<T>>;\r\n\r\nexport declare type StorageSchema = Record<string, any>;\r\nexport declare type SchemaKeys<Schema extends StorageSchema | unknown> = Schema extends StorageSchema ? (KnownKeys<Schema> & string) : string;\r\nexport declare type SchemaValue<Schema extends StorageSchema | unknown, Key extends SchemaKeys<Schema>> = Schema extends StorageSchema ? Schema[Key] : any;\r\n\r\nexport interface StorageInterface<Schema extends StorageSchema> {\r\n    get<K extends SchemaKeys<Schema>>(key: K): Promise<SchemaValue<Schema, K>|undefined>;\r\n    getObject<T extends Partial<Schema>>(object: T): Promise<T>;\r\n\r\n    set<K extends SchemaKeys<Schema>>(key: K, value: SchemaValue<Schema, K>): Promise<void>;\r\n    setObject(object: Partial<Schema>): Promise<void>;\r\n\r\n    remove<K extends SchemaKeys<Schema>>(...keys: K[]): Promise<void>;\r\n}\r\n\r\nexport default class Storage<\r\n    Area extends ns.SyncStorageAreaSync|ns.LocalStorageArea,\r\n    Schema extends StorageSchema\r\n> implements StorageInterface<Schema> {\r\n\r\n    private storageArea: Area;\r\n\r\n    constructor(storageArea: Area) {\r\n        this.storageArea = storageArea;\r\n    }\r\n\r\n    get onChanged() {\r\n        return this.storageArea.onChanged;\r\n    }\r\n\r\n    async get<K extends SchemaKeys<Schema>>(key: K): Promise<SchemaValue<Schema, K> | undefined> {\r\n        let response = await this.storageArea.get(key);\r\n        return response[key] ?? undefined;\r\n    }\r\n\r\n    getObject<T extends Partial<Schema>>(object: T): Promise<T> {\r\n        return this.storageArea.get(object) as Promise<T>;\r\n    }\r\n\r\n    set<K extends SchemaKeys<Schema>>(key: K, value: SchemaValue<Schema, K>): Promise<void> {\r\n        return this.storageArea.set({[key]: value});\r\n    }\r\n\r\n    setObject(object: Partial<Schema>): Promise<void> {\r\n        return this.storageArea.set(object);\r\n    }\r\n\r\n    remove<K extends SchemaKeys<Schema>>(...keys: K[]): Promise<void> {\r\n        return this.storageArea.remove(keys);\r\n    }\r\n}\r\n", "import Info from \"@Core/Info\";\r\nimport type {SettingsSchema} from \"./_types\";\r\nimport type {SchemaKeys, SchemaValue, StorageInterface} from \"@Core/Storage/Storage\";\r\nimport {SyncedStorage} from \"@Core/Storage/SyncedStorage\";\r\n\r\nexport const DefaultSettings: Readonly<SettingsSchema> = {\r\n    language: \"english\",\r\n\r\n    version: Info.version,\r\n    version_show: true,\r\n\r\n    highlight_owned_color: \"#00ce67\",\r\n    highlight_wishlist_color: \"#0491bf\",\r\n    highlight_coupon_color: \"#a26426\",\r\n    highlight_inv_gift_color: \"#800040\",\r\n    highlight_inv_guestpass_color: \"#513c73\",\r\n    highlight_notinterested_color: \"#4f4f4f\",\r\n    highlight_ignored_owned_color: \"#4f4f4f\",\r\n    highlight_collection_color: \"#856d0e\",\r\n    highlight_waitlist_color: \"#4c7521\",\r\n\r\n    tag_owned_color: \"#00b75b\",\r\n    tag_wishlist_color: \"#0383b4\",\r\n    tag_coupon_color: \"#c27120\",\r\n    tag_inv_gift_color: \"#b10059\",\r\n    tag_inv_guestpass_color: \"#65449a\",\r\n    tag_notinterested_color: \"#4f4f4f\",\r\n    tag_ignored_owned_color: \"#4f4f4f\",\r\n    tag_collection_color: \"#856d0e\",\r\n    tag_waitlist_color: \"#4c7521\",\r\n\r\n    highlight_owned: true,\r\n    highlight_wishlist: true,\r\n    highlight_coupon: false,\r\n    highlight_inv_gift: false,\r\n    highlight_inv_guestpass: false,\r\n    highlight_notinterested: false,\r\n    highlight_ignored_owned: false,\r\n    highlight_excludef2p: false,\r\n    highlight_collection: true,\r\n    highlight_waitlist: true,\r\n\r\n    tag_owned: false,\r\n    tag_wishlist: false,\r\n    tag_coupon: false,\r\n    tag_inv_gift: false,\r\n    tag_inv_guestpass: false,\r\n    tag_notinterested: true,\r\n    tag_ignored_owned: true,\r\n    tag_collection: false,\r\n    tag_waitlist: false,\r\n    tag_short: false,\r\n\r\n    hidetmsymbols: false,\r\n\r\n    showlowestprice: true,\r\n    showlowestprice_onwishlist: true,\r\n    showlowestpricecoupon: true,\r\n    showallstores: true,\r\n    excluded_stores: [],\r\n    override_price: \"auto\",\r\n    showregionalprice: \"mouse\",\r\n    regional_countries: [\"us\", \"gb\", \"fr\", \"br\", \"au\", \"jp\"],\r\n\r\n    show_es_homepagetabs: true,\r\n    showmarkettotal: false,\r\n    showsteamrepapi: true,\r\n    showmcus: true,\r\n    showoc: true,\r\n    showhltb: true,\r\n    showyoutube: true,\r\n    showtwitch: true,\r\n    showpcgw: true,\r\n    showcompletionistme: false,\r\n    showprotondb: false,\r\n    showviewinlibrary: false,\r\n    showsteamcardexchange: false,\r\n    showitadlinks: true,\r\n    showsteamdb: true,\r\n    showbartervg: false,\r\n    showastatslink: true,\r\n    showyoutubegameplay: true,\r\n    showyoutubereviews: true,\r\n    showwsgf: true,\r\n    exfgls: true,\r\n    app_custom_link: [\r\n        {\r\n            enabled: true,\r\n            name: \"Google\",\r\n            url: \"https://www.google.com/search?q=[ID]+[NAME]\",\r\n            icon: \"https://www.google.com/images/branding/product/ico/googleg_lodp.ico\"\r\n        },\r\n    ],\r\n\r\n    customize_apppage: {},\r\n    customize_frontpage: {},\r\n\r\n    show_package_info: false,\r\n    show_players_info: true,\r\n    show_early_access: true,\r\n    show_alternative_linux_icon: false,\r\n    show_itad_button: false,\r\n    skip_got_steam: false,\r\n\r\n    installsteam: \"show\",\r\n    openinnewtab: false,\r\n    keepssachecked: false,\r\n    showemptywishlist: true,\r\n    user_notes_app: true,\r\n    user_notes_wishlist: true,\r\n    showwishliststats: true,\r\n    oneclickremovewl: false,\r\n    user_notes_adapter: \"synced_storage\",\r\n    showlanguagewarning: true,\r\n    showlanguagewarninglanguage: \"english\",\r\n    homepage_tab_selection: \"remember\",\r\n    send_age_info: true,\r\n    removebroadcasts: false,\r\n    mp4video: false,\r\n    horizontalscrolling: true,\r\n    showsupportinfo: true,\r\n    showdrm: true,\r\n    regional_hideworld: false,\r\n    showinvnav: true,\r\n    quickinv: true,\r\n    quickinv_diff: -0.01,\r\n    community_default_tab: \"\",\r\n    showallstats: true,\r\n    replacecommunityhublinks: false,\r\n    hideannouncementcomments: false,\r\n    showachinstore: true,\r\n    hideactivelistings: false,\r\n    showlowestmarketprice: true,\r\n    hidespamcomments: false,\r\n    spamcommentregex: \"[\\\\u2500-\\\\u25FF]\",\r\n    wlbuttoncommunityapp: true,\r\n    removeguideslanguagefilter: false,\r\n    confirmdeletecomment: true,\r\n    disablelinkfilter: false,\r\n    show1clickgoo: true,\r\n    show_profile_link_images: \"gray\",\r\n    show_custom_themes: true,\r\n    profile_pinned_bg: false,\r\n    friends_append_nickname: false,\r\n    profile_steamrepcn: true,\r\n    profile_steamgifts: true,\r\n    profile_steamtrades: true,\r\n    profile_bartervg: true,\r\n    profile_steamrep: true,\r\n    profile_steamdbcalc: true,\r\n    profile_astats: true,\r\n    profile_backpacktf: true,\r\n    profile_astatsnl: true,\r\n    profile_steamid: true,\r\n    profile_custom_link: [\r\n        {\r\n            enabled: true,\r\n            name: \"Google\",\r\n            url: \"https://www.google.com/search?q=[ID]\",\r\n            icon: \"https://www.google.com/images/branding/product/ico/googleg_lodp.ico\"\r\n        },\r\n    ],\r\n    group_steamgifts: true,\r\n    steamcardexchange: true,\r\n    purchase_dates: true,\r\n    show_badge_progress: true,\r\n    show_coupon: true,\r\n    show_wishlist_link: true,\r\n    show_wishlist_count: true,\r\n    show_progressbar: true,\r\n    show_backtotop: false,\r\n\r\n    profile_showcase_twitch: true,\r\n    profile_showcase_own_twitch: false,\r\n    profile_showcase_twitch_profileonly: false,\r\n\r\n    itad_sync_library: true,\r\n    itad_sync_wishlist: true,\r\n    add_to_waitlist: false,\r\n    collection_banner_notowned: false,\r\n    itad_sync_notes: false,\r\n\r\n    context_steam_store: false,\r\n    context_steam_market: false,\r\n    context_itad: false,\r\n    context_bartervg: false,\r\n    context_steamdb: false,\r\n    context_steamdb_instant: false,\r\n    context_steam_keys: false,\r\n};\r\n\r\n\r\ntype TListener = () => void;\r\n\r\nclass Event {\r\n    private listeners: Set<TListener> = new Set();\r\n\r\n    addListener(listener: TListener): void {\r\n        this.listeners.add(listener);\r\n    }\r\n\r\n    removeListener(listener: TListener): void {\r\n        this.listeners.delete(listener);\r\n    }\r\n\r\n    invoke(): void {\r\n        for (const listener of this.listeners) {\r\n            listener();\r\n        }\r\n    }\r\n}\r\n\r\nexport class SettingsStore {\r\n\r\n    private static promise: Promise<void>;\r\n\r\n    private static data: SettingsSchema;\r\n    private static storage: StorageInterface<SettingsSchema> = new SyncedStorage<SettingsSchema>();\r\n\r\n    public static readonly onSaveStart: Event = new Event();\r\n    public static readonly onSaveEnd: Event = new Event();\r\n\r\n    public static async load(): Promise<void> {\r\n        this.data = await this.storage.getObject(DefaultSettings);\r\n    }\r\n\r\n    static init(): Promise<void> {\r\n        if (!this.promise) {\r\n            this.promise = this.load();\r\n        }\r\n        return this.promise;\r\n    }\r\n\r\n    static getDefault<K extends keyof SettingsSchema>(key: K): SettingsSchema[K] {\r\n        return DefaultSettings[key];\r\n    }\r\n\r\n    static get<K extends keyof SettingsSchema>(key: K): SettingsSchema[K] {\r\n        if (!this.data) {\r\n            throw new Error(\"Settings have not been loaded\");\r\n        }\r\n\r\n        return this.data[key];\r\n    }\r\n\r\n    static async set<K extends SchemaKeys<SettingsSchema>>(key: K, value: SchemaValue<SettingsSchema, K>): Promise<void> {\r\n        this.onSaveStart.invoke();\r\n\r\n        this.data[key] = value;\r\n        await this.storage.set(key, value);\r\n\r\n        this.onSaveEnd.invoke();\r\n    }\r\n\r\n    static remove<K extends SchemaKeys<SettingsSchema>>(key: K): void {\r\n        this.storage.remove(key);\r\n        this.data[key] = structuredClone(DefaultSettings[key]);\r\n    }\r\n\r\n    static clear(): void {\r\n        this.storage.remove(...(Object.keys(this.data) as SchemaKeys<SettingsSchema>[]));\r\n        this.data = structuredClone(DefaultSettings);\r\n    }\r\n\r\n    static async import(data: Partial<SettingsSchema>): Promise<void> {\r\n        // TODO check data for valid keys and values\r\n        await this.storage.setObject(data);\r\n        await this.load();\r\n    }\r\n\r\n    static asObject(): SettingsSchema {\r\n        return structuredClone(this.data);\r\n    }\r\n}\r\n\r\nexport default (new Proxy(SettingsStore, {\r\n    get<K extends SchemaKeys<SettingsSchema>>(target: typeof SettingsStore, prop: K): SchemaValue<SettingsSchema, K> {\r\n        return target.get(prop);\r\n    },\r\n\r\n    set<K extends SchemaKeys<SettingsSchema>>(target: typeof SettingsStore, prop: K, value: SchemaValue<SettingsSchema, K>): boolean {\r\n        target.set(prop, value);\r\n        return true;\r\n    }\r\n})) as unknown as SettingsSchema;\r\n\r\n\r\n/*\r\n FIXME not settings, more like cached values\r\n\"user_notes\": {},\r\n\"homepage_tab_last\": null,\r\n\"sortfriendsby\": \"default_ASC\",\r\n\"sortreviewsby\": \"default_ASC\",\r\n\"sortgroupsby\": \"default_ASC\",\r\n\"sortmylistingsby\": \"default_ASC\",\r\n\"fav_emoticons\": [],\r\n\r\n\r\nconst PERSISTENT: (keyof typeof DEFAULTS)[] = [\r\n    \"user_notes\",\r\n    \"user_notes_adapter\",\r\n];\r\n*/\r\n", "import Settings, {SettingsStore} from \"@Options/Data/Settings\";\r\nimport DOMPurify, {type Config} from \"dompurify\";\r\n\r\nlet initialized = false;\r\n\r\n/**\r\n * DOMPurify setup\r\n * @see https://github.com/cure53/DOMPurify\r\n */\r\nexport default async function() {\r\n\r\n    if (initialized) { return; }\r\n    initialized = true;\r\n\r\n    await SettingsStore.init();\r\n    const allowOpenInNewTab = Settings.openinnewtab;\r\n\r\n    /*\r\n     * NOTE FOR ADDON REVIEWER:\r\n     * We are modifying default DOMPurify settings to allow other protocols in URLs\r\n     * and to allow links to safely open in new tabs.\r\n     *\r\n     * We took the original Regex and added chrome-extension://, moz-extension:// and steam://\r\n     * First two are needed for linking local resources from extension,\r\n     * steam:// protocol is used by Steam store to open their own client (e.g. when you want to launch a game).\r\n     *\r\n     * The addition of the `target` attribute to the allowed attributes is done in order to be able to open links in a new tab.\r\n     * We only allow target=\"_blank\" while adding rel=\"noreferrer noopener\" to prevent child window to access window.opener\r\n     * as described in https://www.jitbit.com/alexblog/256-targetblank---the-most-underestimated-vulnerability-ever/\r\n     */\r\n\r\n    const purifyConfig: Config = {\r\n        \"ALLOWED_URI_REGEXP\": /^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|chrome-extension|moz-extension|steam):|[^a-z]|[a-z+.-]+(?:[^a-z+.\\-:]|$))/i\r\n    };\r\n\r\n    if (allowOpenInNewTab) {\r\n        purifyConfig.ADD_ATTR = [\"target\"];\r\n\r\n        DOMPurify.addHook(\"uponSanitizeAttribute\", (node, data) => {\r\n            if (data.attrName === \"target\") {\r\n                if (data.attrValue === \"_blank\") {\r\n                    node.setAttribute(\"rel\", \"noreferrer noopener\");\r\n                } else {\r\n                    data.keepAttr = false;\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    DOMPurify.setConfig(purifyConfig);\r\n}\r\n", "// This is the basic configuration for the Augmented Steam extension\r\n\r\nexport default {\r\n    ApiServerHost: \"https://api.augmentedsteam.com\",\r\n    PublicHost: \"https://augmentedsteam.com\",\r\n    ITADApiServerHost: \"https://api.isthereanydeal.com\",\r\n    ITADServer: \"https://isthereanydeal.com\",\r\n    ITADClientId: \"5fe78af07889f43a\",\r\n    ITADDiscord: \"https://discord.gg/yn57q7f\",\r\n} as const;\r\n", "import browser from \"webextension-polyfill\";\r\n\r\nexport default class ExtensionResources {\r\n\r\n    static getURL(pathname: string) {\r\n        return browser.runtime.getURL(pathname);\r\n    }\r\n\r\n    static get(pathname: string): Promise<Response> {\r\n        return fetch(ExtensionResources.getURL(pathname));\r\n    }\r\n\r\n    static async getJSON<T>(pathname: string): Promise<T> {\r\n        let response = await ExtensionResources.get(pathname);\r\n        return await response.json();\r\n    }\r\n\r\n    static async getText(pathname: string): Promise<string> {\r\n        let response = await ExtensionResources.get(pathname);\r\n        return await response.text();\r\n    }\r\n}\r\n", "\r\nexport default class Language {\r\n\r\n    public static readonly map: Record<string, string> ={\r\n        \"english\": \"en\",\r\n        \"bulgarian\": \"bg\",\r\n        \"czech\": \"cs\",\r\n        \"danish\": \"da\",\r\n        \"dutch\": \"nl\",\r\n        \"finnish\": \"fi\",\r\n        \"french\": \"fr\",\r\n        \"greek\": \"el\",\r\n        \"german\": \"de\",\r\n        \"hungarian\": \"hu\",\r\n        \"italian\": \"it\",\r\n        \"japanese\": \"ja\",\r\n        \"koreana\": \"ko\",\r\n        \"norwegian\": \"no\",\r\n        \"polish\": \"pl\",\r\n        \"portuguese\": \"pt-PT\",\r\n        \"brazilian\": \"pt-BR\",\r\n        \"russian\": \"ru\",\r\n        \"romanian\": \"ro\",\r\n        \"schinese\": \"zh-CN\",\r\n        \"spanish\": \"es-ES\",\r\n        \"latam\": \"es-419\",\r\n        \"swedish\": \"sv-SE\",\r\n        \"tchinese\": \"zh-TW\",\r\n        \"thai\": \"th\",\r\n        \"turkish\": \"tr\",\r\n        \"ukrainian\": \"ua\",\r\n        \"vietnamese\": \"vi\",\r\n    };\r\n\r\n    private readonly _name: string;\r\n    private readonly _code: string|null;\r\n\r\n    constructor(language: string) {\r\n        this._name = language;\r\n        this._code = Language.map[language] ?? null;\r\n        // TODO should we throw when there is unsupported language?\r\n    }\r\n\r\n    get name(): string {\r\n        return this._name;\r\n    }\r\n\r\n    get code(): string|null {\r\n        return this._code;\r\n    }\r\n\r\n    isOneOf(...languages: string[]) {\r\n        return languages.includes(this._name);\r\n    }\r\n}\r\n\r\n", "import browser from \"webextension-polyfill\";\r\nimport ErrorParser from \"@Core/Errors/ErrorParser\";\r\n\r\nexport default class Background {\r\n\r\n    static async send<Response>(action: string, params: Record<string, any>={}): Promise<Response> {\r\n        document.dispatchEvent(new CustomEvent(\"asRequestStart\"));\r\n        try {\r\n            const result = await browser.runtime.sendMessage({action, params});\r\n            document.dispatchEvent(new CustomEvent(\"asRequestDone\"));\r\n            return result;\r\n        } catch(e: any) {\r\n            const error = ErrorParser.parse(e.message ?? \"\");\r\n            document.dispatchEvent(new CustomEvent(\"asRequestError\", {detail: error}));\r\n            throw e;\r\n        }\r\n    }\r\n}\r\n", "\r\n/**\r\n * Convenience class for passing errors between contexts.\r\n * Errors thrown in the context of a message callback on the background page are\r\n * {@link https://github.com/mozilla/webextension-polyfill/blob/87bdfa844da054d189ac28423cf01b64ebfe1e5b/src/browser-polyfill.js#L418\r\n *  cut down to only send the message of the error},\r\n * losing information about the type.\r\n */\r\nexport default class ErrorParser {\r\n\r\n    /**\r\n     * Takes an Error string and parses it by splitting it into name and message\r\n     * @param {String} errStr a string created by Error.prototype.toString\r\n     * @returns {{name: String, msg: String}} an object containing information about the error name and its message\r\n     */\r\n    static parse(errStr: string): {name: string|null, message: string|null} {\r\n        const info = errStr.match(/(.*):\\s(.+)/);\r\n        return info\r\n            ? {name: info[1] ?? \"\", message: info[2] ?? \"\"}\r\n            : {name: null, message: null}\r\n    }\r\n}\r\n", "import Background from \"@Core/Background\";\r\nimport {EAction} from \"@Background/EAction\";\r\nimport type {TAppDetail, TDynamicStoreStatusResponse} from \"@Background/Modules/Store/_types\";\r\n\r\nexport default class SteamStoreApiFacade {\r\n\r\n    static wishlistAdd(appid: number): Promise<void> {\r\n        return Background.send(EAction.Wishlist_Add, {appid});\r\n    }\r\n\r\n    static wishlistRemove(appid: number): Promise<void> {\r\n        return Background.send(EAction.Wishlist_Remove, {appid});\r\n    }\r\n\r\n    static fetchAppDetails(appid: number, filter: string|undefined=undefined): Promise<TAppDetail|null> {\r\n        return Background.send(EAction.AppDetails, {appid, filter});\r\n    }\r\n\r\n    static getPurchaseDate(appName: string, lang: string): Promise<string|null> {\r\n        return Background.send(EAction.Purchases, {appName, lang});\r\n    }\r\n\r\n    static getCurrency(): Promise<string> {\r\n        return Background.send(EAction.Currency);\r\n    }\r\n\r\n    static clearPurchases(): Promise<void> {\r\n        return Background.send(EAction.Purchases_Clear);\r\n    }\r\n\r\n    static clearDynamicStore(): Promise<void> {\r\n        return Background.send(EAction.DynamicStore_Clear);\r\n    }\r\n\r\n    static getDynamicStoreStatus(ids: string[]): Promise<TDynamicStoreStatusResponse> {\r\n        return Background.send(EAction.DynamicStore_Status, {ids});\r\n    }\r\n\r\n    static getDynamicStoreRandomApp(): Promise<number|null> {\r\n        return Background.send(EAction.DynamicStore_RandomApp);\r\n    }\r\n}\r\n", "import Settings from \"@Options/Data/Settings\";\r\nimport ExtensionResources from \"@Core/ExtensionResources\";\r\nimport Language from \"@Core/Localization/Language\";\r\nimport SteamStoreApiFacade from \"@Content/Modules/Facades/SteamStoreApiFacade\";\r\n\r\nexport interface TLocale {\r\n    stats: {\r\n        strings: number,\r\n        translated: number,\r\n    },\r\n    strings: Record<string, string>\r\n}\r\n\r\nexport default class Localization {\r\n\r\n    public static locale: TLocale;\r\n\r\n    static load(code: string): Promise<TLocale> {\r\n        return ExtensionResources.getJSON(`/localization/compiled/${code}.json`);\r\n    }\r\n\r\n    static async init(current: Language|null): Promise<void> {\r\n        const stored: string = Settings.language;\r\n        if (current === null) {\r\n            current = new Language(stored);\r\n        } else if (current.name !== stored) {\r\n            Settings.language = current.name;\r\n            SteamStoreApiFacade.clearPurchases(); // TODO this is a nasty side effect, get rid of it\r\n        }\r\n\r\n        const lang = current.code ?? \"en\";\r\n\r\n        try {\r\n            this.locale = await this.load(lang);\r\n        } catch(e) {\r\n            console.error(`Failed to load ${lang}`);\r\n            this.locale = await this.load(\"en\");\r\n        }\r\n    }\r\n}\r\n\r\nexport function L(key: string, replacements: Record<string, string|number>|null = null): string {\r\n    let text = Localization.locale.strings[key] ?? \"<<missing text>>\";\r\n    if (replacements !== null) {\r\n        for (let [key, value] of Object.entries(replacements)) {\r\n            text = text.replaceAll(`__${key}__`, String(value));\r\n        }\r\n    }\r\n    return text;\r\n}\r\n", "\r\nexport default class HTMLParser {\r\n\r\n    private static getVariable(source: string|Element|Document, regex: RegExp): string|null {\r\n        if (typeof source === \"string\") {\r\n            const m = source.match(regex);\r\n            return m && m[1] ? m[1] : null;\r\n        }\r\n\r\n        for (const node of source.querySelectorAll<HTMLScriptElement>(\"script\")) {\r\n            if (node.textContent) {\r\n                const m = node.textContent.match(regex)\r\n                if (m) {\r\n                    return m && m[1] ? m[1] : null;\r\n                }\r\n            }\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    static getStringVariable(nameOrRegex: string|RegExp, source: string|Element|Document = document): string|null {\r\n        const regex = typeof nameOrRegex === \"string\"\r\n            ? new RegExp(`${nameOrRegex}\\\\s*=\\\\s*['\"](.+?)['\"];`)\r\n            : nameOrRegex;\r\n        return this.getVariable(source, regex);\r\n    }\r\n\r\n    static getIntVariable(nameOrRegex: string|RegExp, source: string|Element|Document = document): number|null {\r\n        const regex = typeof nameOrRegex === \"string\"\r\n            ? new RegExp(`${nameOrRegex}\\\\s*=\\\\s*(.+?);`)\r\n            : nameOrRegex;\r\n        const v = this.getVariable(source, regex);\r\n        return v ? Number(v) : null;\r\n    }\r\n\r\n    static getArrayVariable<T>(nameOrRegex: string|RegExp, source: string|Element|Document = document): T[]|null {\r\n        const regex = typeof nameOrRegex === \"string\"\r\n            ? new RegExp(`${nameOrRegex}\\\\s*=\\\\s*(\\\\[.+?]);`)\r\n            : nameOrRegex;\r\n        const v = this.getVariable(source, regex);\r\n        return v ? JSON.parse(v) : null;\r\n    }\r\n\r\n    static getObjectVariable<T extends Record<string, any>>(nameOrRegex: string|RegExp, source: string|Element|Document = document): T|null {\r\n        const regex = typeof nameOrRegex === \"string\"\r\n            ? new RegExp(`${nameOrRegex}\\\\s*=\\\\s*(\\\\{.+?});`)\r\n            : nameOrRegex;\r\n        const v = this.getVariable(source, regex);\r\n        return v ? JSON.parse(v) : null;\r\n    }\r\n}\r\n", "\r\n/**\r\n * @see https://partner.steamgames.com/doc/store/pricing/currencies\r\n */\r\n\r\nexport interface TCurrency {\r\n    id: number,\r\n    abbr: string,\r\n    symbol: string|null,\r\n    hint: string,\r\n    multiplier: number,\r\n    unit: number,\r\n    format: {\r\n        places: number,\r\n        hidePlacesWhenZero: boolean,\r\n        symbolFormat: string,\r\n        thousand: string,\r\n        group?: number,\r\n        decimal: string,\r\n        right: boolean\r\n    }\r\n}\r\n\r\nexport default <ReadonlyArray<TCurrency>>[\r\n    { \"id\": 1, \"abbr\": \"USD\", \"symbol\": \"$\", \"hint\": \"United States Dollars\", \"multiplier\": 100, \"unit\": 1, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \"$\", \"thousand\": \",\", \"decimal\": \".\", \"right\": false } },\r\n    { \"id\": 2, \"abbr\": \"GBP\", \"symbol\": \"\u00A3\", \"hint\": \"British Pound\", \"multiplier\": 100, \"unit\": 1, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \"\u00A3\", \"thousand\": \",\", \"decimal\": \".\", \"right\": false } },\r\n    { \"id\": 3, \"abbr\": \"EUR\", \"symbol\": \"\u20AC\", \"hint\": \"European Union Euro\", \"multiplier\": 100, \"unit\": 1, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \"\u20AC\", \"thousand\": \" \", \"decimal\": \",\", \"right\": true } },\r\n    { \"id\": 4, \"abbr\": \"CHF\", \"symbol\": \"CHF\", \"hint\": \"Swiss Francs\", \"multiplier\": 100, \"unit\": 1, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \"CHF \", \"thousand\": \"'\", \"decimal\": \".\", \"right\": false } },\r\n    { \"id\": 5, \"abbr\": \"RUB\", \"symbol\": \"p\u0443\u0431\", \"hint\": \"Russian Rouble\", \"multiplier\": 100, \"unit\": 1, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": true,  \"symbolFormat\": \" p\u0443\u0431.\", \"thousand\": \"\", \"decimal\": \",\", \"right\": true } },\r\n    { \"id\": 6, \"abbr\": \"PLN\", \"symbol\": \"z\u0142\", \"hint\": \"Polish Z\u0142oty\", \"multiplier\": 100, \"unit\": 1, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \" z\u0142\", \"thousand\": \" \", \"decimal\": \",\", \"right\": true } },\r\n    { \"id\": 7, \"abbr\": \"BRL\", \"symbol\": \"R$\", \"hint\": \"Brazilian Reals\", \"multiplier\": 100, \"unit\": 1, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \"R$ \", \"thousand\": \".\", \"decimal\": \",\", \"right\": false } },\r\n    { \"id\": 8, \"abbr\": \"JPY\", \"symbol\": \"\u00A5\", \"hint\": \"Japanese Yen\", \"multiplier\": 100, \"unit\": 100, \"format\": { \"places\": 0, \"hidePlacesWhenZero\": false, \"symbolFormat\": \"\u00A5 \", \"thousand\": \" \", \"group\": 4, \"decimal\": \".\", \"right\": false } },\r\n    { \"id\": 9, \"abbr\": \"NOK\", \"symbol\": \"kr\", \"hint\": \"Norwegian Krone\", \"multiplier\": 100, \"unit\": 1, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \" kr\", \"thousand\": \".\", \"decimal\": \",\", \"right\": true } },\r\n    { \"id\": 10, \"abbr\": \"IDR\", \"symbol\": \"Rp\", \"hint\": \"Indonesian Rupiah\", \"multiplier\": 100, \"unit\": 100, \"format\": { \"places\": 0, \"hidePlacesWhenZero\": false, \"symbolFormat\": \"Rp \", \"thousand\": \" \", \"decimal\": \".\", \"right\": false } },\r\n    { \"id\": 11, \"abbr\": \"MYR\", \"symbol\": \"RM\", \"hint\": \"Malaysian Ringgit\", \"multiplier\": 100, \"unit\": 1, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \"RM\", \"thousand\": \",\", \"decimal\": \".\", \"right\": false } },\r\n    { \"id\": 12, \"abbr\": \"PHP\", \"symbol\": \"P\", \"hint\": \"Philippine Pes\", \"multiplier\": 100, \"unit\": 1, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \"P\", \"thousand\": \",\", \"decimal\": \".\", \"right\": false } },\r\n    { \"id\": 13, \"abbr\": \"SGD\", \"symbol\": \"S$\", \"hint\": \"Singapore Dollar\", \"multiplier\": 100, \"unit\": 1, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \"S$\", \"thousand\": \",\", \"decimal\": \".\", \"right\": false } },\r\n    { \"id\": 14, \"abbr\": \"THB\", \"symbol\": \"\u0E3F\", \"hint\": \"Thai Baht\", \"multiplier\": 100, \"unit\": 1, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \"\u0E3F\", \"thousand\": \",\", \"decimal\": \".\", \"right\": false } },\r\n    { \"id\": 15, \"abbr\": \"VND\", \"symbol\": \"\u20AB\", \"hint\": \"Vietnamese Dong\", \"multiplier\": 100, \"unit\": 50000, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \"\u20AB\", \"thousand\": \",\", \"decimal\": \".\", \"right\": false } },\r\n    { \"id\": 16, \"abbr\": \"KRW\", \"symbol\": \"\u20A9\", \"hint\": \"South Korean Won\", \"multiplier\": 100, \"unit\": 1000, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \"\u20A9\", \"thousand\": \",\", \"decimal\": \".\", \"right\": false } },\r\n    { \"id\": 17, \"abbr\": \"TRY\", \"symbol\": \"TL\", \"hint\": \"Turkish Lira\", \"multiplier\": 100, \"unit\": 1, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \" TL\", \"thousand\": \"\", \"decimal\": \",\", \"right\": true } },\r\n    { \"id\": 18, \"abbr\": \"UAH\", \"symbol\": \"\u20B4\", \"hint\": \"Ukrainian Hryvnia\", \"multiplier\": 100, \"unit\": 100, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \"\u20B4\", \"thousand\": \"\", \"decimal\": \",\", \"right\": true } },\r\n    { \"id\": 19, \"abbr\": \"MXN\", \"symbol\": \"Mex$\", \"hint\": \"Mexican Peso\", \"multiplier\": 100, \"unit\": 1, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \"Mex$ \", \"thousand\": \",\", \"decimal\": \".\", \"right\": false } },\r\n    { \"id\": 20, \"abbr\": \"CAD\", \"symbol\": \"CDN$\", \"hint\": \"Canadian Dollars\", \"multiplier\": 100, \"unit\": 1, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \"CDN$ \", \"thousand\": \",\", \"decimal\": \".\", \"right\": false } },\r\n    { \"id\": 21, \"abbr\": \"AUD\", \"symbol\": \"A$\", \"hint\": \"Australian Dollars\", \"multiplier\": 100, \"unit\": 1, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \"A$ \", \"thousand\": \",\", \"decimal\": \".\", \"right\": false } },\r\n    { \"id\": 22, \"abbr\": \"NZD\", \"symbol\": \"NZ$\", \"hint\": \"New Zealand Dollar\", \"multiplier\": 100, \"unit\": 1, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \"NZ$ \", \"thousand\": \",\", \"decimal\": \".\", \"right\": false } },\r\n    { \"id\": 23, \"abbr\": \"CNY\", \"symbol\": null, \"hint\": \"Chinese Renminbi (yuan)\", \"multiplier\": 100, \"unit\": 100, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \"\u00A5 \", \"thousand\": \",\", \"decimal\": \".\", \"right\": false } },\r\n    { \"id\": 24, \"abbr\": \"INR\", \"symbol\": \"\u20B9\", \"hint\": \"Indian Rupee\", \"multiplier\": 100, \"unit\": 100, \"format\": { \"places\": 0, \"hidePlacesWhenZero\": false, \"symbolFormat\": \"\u20B9 \", \"thousand\": \",\", \"decimal\": \".\", \"right\": false } },\r\n    { \"id\": 25, \"abbr\": \"CLP\", \"symbol\": \"CLP$\", \"hint\": \"Chilean Peso\", \"multiplier\": 100, \"unit\": 100, \"format\": { \"places\": 0, \"hidePlacesWhenZero\": true, \"symbolFormat\": \"CLP$ \", \"thousand\": \".\", \"decimal\": \",\", \"right\": false } },\r\n    { \"id\": 26, \"abbr\": \"PEN\", \"symbol\": \"S/.\", \"hint\": \"Peruvian Nuevo Sol\", \"multiplier\": 100, \"unit\": 1, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \"S/.\", \"thousand\": \",\", \"decimal\": \".\", \"right\": false } },\r\n    { \"id\": 27, \"abbr\": \"COP\", \"symbol\": \"COL$\", \"hint\": \"Colombian Peso\", \"multiplier\": 100, \"unit\": 100, \"format\": { \"places\": 0, \"hidePlacesWhenZero\": true, \"symbolFormat\": \"COL$ \", \"thousand\": \".\", \"decimal\": \",\", \"right\": false } },\r\n    { \"id\": 28, \"abbr\": \"ZAR\", \"symbol\": \"R \", \"hint\": \"South African Rand\", \"multiplier\": 100, \"unit\": 1, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \"R \", \"thousand\": \" \", \"decimal\": \".\", \"right\": false } },\r\n    { \"id\": 29, \"abbr\": \"HKD\", \"symbol\": \"HK$\", \"hint\": \"Hong Kong Dollar\", \"multiplier\": 100, \"unit\": 1, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \"HK$ \", \"thousand\": \",\", \"decimal\": \".\", \"right\": false } },\r\n    { \"id\": 30, \"abbr\": \"TWD\", \"symbol\": \"NT$\", \"hint\": \"New Taiwan Dollar\", \"multiplier\": 100, \"unit\": 100, \"format\": { \"places\": 0, \"hidePlacesWhenZero\": false, \"symbolFormat\": \"NT$ \", \"thousand\": \",\", \"decimal\": \".\", \"right\": false } },\r\n    { \"id\": 31, \"abbr\": \"SAR\", \"symbol\": \"SR\", \"hint\": \"Saudi Riyal\", \"multiplier\": 100, \"unit\": 1, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \" SR\", \"thousand\": \",\", \"decimal\": \".\", \"right\": true } },\r\n    { \"id\": 32, \"abbr\": \"AED\", \"symbol\": \"DH\", \"hint\": \"United Arab Emirates Dirham\", \"multiplier\": 100, \"unit\": 1, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \" DH\", \"thousand\": \",\", \"decimal\": \".\", \"right\": true } },\r\n    { \"id\": 34, \"abbr\": \"ARS\", \"symbol\": \"ARS$\", \"hint\": \"Argentine Peso\", \"multiplier\": 100, \"unit\": 1, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \"ARS$ \", \"thousand\": \".\", \"decimal\": \",\", \"right\": false } },\r\n    { \"id\": 35, \"abbr\": \"ILS\", \"symbol\": \"\u20AA\", \"hint\": \"Israeli New Shekel\", \"multiplier\": 100, \"unit\": 1, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \"\u20AA\", \"thousand\": \",\", \"decimal\": \".\", \"right\": false } },\r\n    { \"id\": 37, \"abbr\": \"KZT\", \"symbol\": \"\u20B8\", \"hint\": \"Kazakhstani Tenge\", \"multiplier\": 100, \"unit\": 100, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": true, \"symbolFormat\": \"\u20B8 \", \"thousand\": \" \", \"decimal\": \".\", \"right\": false } },\r\n    { \"id\": 38, \"abbr\": \"KWD\", \"symbol\": \"KD\", \"hint\": \"Kuwaiti Dinar\", \"multiplier\": 100, \"unit\": 1, \"format\": { \"places\": 3, \"hidePlacesWhenZero\": false, \"symbolFormat\": \" KD\", \"thousand\": \",\", \"decimal\": \".\", \"right\": true } },\r\n    { \"id\": 39, \"abbr\": \"QAR\", \"symbol\": \"QR\", \"hint\": \"Qatari Riyal\", \"multiplier\": 100, \"unit\": 1, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \" QR\", \"thousand\": \",\", \"decimal\": \".\", \"right\": true } },\r\n    { \"id\": 40, \"abbr\": \"CRC\", \"symbol\": \"\u20A1\", \"hint\": \"Costa Rican Col\u00F3n\", \"multiplier\": 100, \"unit\": 500, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \"\u20A1\", \"thousand\": \".\", \"decimal\": \",\", \"right\": false } },\r\n    { \"id\": 41, \"abbr\": \"UYU\", \"symbol\": \"$U\", \"hint\": \"Uruguayan Peso\", \"multiplier\": 100, \"unit\": 100, \"format\": { \"places\": 0, \"hidePlacesWhenZero\": true, \"symbolFormat\": \"$U\", \"thousand\": \",\", \"decimal\": \".\", \"right\": false } }\r\n];\r\n", "import Background from \"@Core/Background\";\r\nimport type {\r\n    TDlcInfo,\r\n    TFetchMarketCardAveragePricesResponse,\r\n    TFetchMarketCardPricesResponse,\r\n    TFetchPricesResponse,\r\n    TFetchProfileBackgroundsGamesResponse,\r\n    TFetchProfileBackgroundsResponse,\r\n    TFetchRatesResponse,\r\n    TStorePageData,\r\n    TFetchTwitchStreamResponse,\r\n    TIsEarlyAccessResponse, TProfileData,\r\n    TSimilarResponse\r\n} from \"@Background/Modules/AugmentedSteam/_types\";\r\nimport {EAction} from \"@Background/EAction\";\r\n\r\nexport default class AugmentedSteamApiFacade {\r\n\r\n    static fetchPrices(\r\n        country: string,\r\n        apps: number[],\r\n        subs: number[],\r\n        bundles: number[],\r\n        voucher: boolean,\r\n        shops: number[]\r\n    ): Promise<TFetchPricesResponse> {\r\n        return Background.send(EAction.Prices, {country, apps, subs, bundles, voucher, shops});\r\n    }\r\n\r\n    static fetchDlcInfo(appid: number): Promise<TDlcInfo> {\r\n        return Background.send(EAction.DlcInfo, {appid});\r\n    }\r\n\r\n    static getStorePageData(appid: number): Promise<TStorePageData> {\r\n        return Background.send(EAction.StorePageData, {appid});\r\n    }\r\n\r\n    static expireStorePageData(appid: number): Promise<void> {\r\n        return Background.send(EAction.StorePageData_Expire, {appid});\r\n    }\r\n\r\n    static getRates(to: string[]): Promise<TFetchRatesResponse> {\r\n        return Background.send(EAction.Rates, {to});\r\n    }\r\n\r\n    static clearRates(): Promise<void> {\r\n        return Background.send(EAction.Rates_Clear);\r\n    }\r\n\r\n    static isEarlyAccess(appids: number[]): Promise<TIsEarlyAccessResponse> {\r\n        return Background.send(EAction.IsEA, {appids});\r\n    }\r\n\r\n    static fetchProfileBackground(appid: number): Promise<TFetchProfileBackgroundsResponse> {\r\n        return Background.send(EAction.ProfileBackground, {appid});\r\n    }\r\n\r\n    static fetchProfileBackgroundGames(): Promise<TFetchProfileBackgroundsGamesResponse> {\r\n        return Background.send(EAction.ProfileBackgroundGames);\r\n    }\r\n\r\n    static fetchTwitchStream(channelId: string): Promise<TFetchTwitchStreamResponse> {\r\n        return Background.send(EAction.TwitchStream, {channelId});\r\n    }\r\n\r\n    static fetchMarketCardPrices(currency: string, appid: number): Promise<TFetchMarketCardPricesResponse> {\r\n        return Background.send(EAction.Market_CardPrices, {currency, appid});\r\n    }\r\n\r\n    static fetchMarketCardAveragePrices(currency: string, appids: number[]): Promise<TFetchMarketCardAveragePricesResponse> {\r\n        return Background.send(EAction.Market_AverageCardPrices, {currency, appids});\r\n    }\r\n\r\n    static fetchSteamPeek(appid: number): Promise<TSimilarResponse> {\r\n        return Background.send(EAction.SteamPeek, {appid});\r\n    }\r\n\r\n    static async getProfileData(steamId: string): Promise<TProfileData> {\r\n        return Background.send(EAction.Profile, {steamId});\r\n    }\r\n\r\n    static clearOwn(steamId: string): Promise<void> {\r\n        return Background.send(EAction.Profile_Clear, {steamId});\r\n    }\r\n}\r\n", "import HTMLParser from \"@Core/Html/HtmlParser\";\r\nimport type {TCurrency} from \"@Core/Currencies\";\r\nimport Currencies from \"@Core/Currencies\";\r\nimport Settings from \"@Options/Data/Settings\";\r\nimport AugmentedSteamApiFacade from \"@Content/Modules/Facades/AugmentedSteamApiFacade\";\r\nimport SteamStoreApiFacade from \"@Content/Modules/Facades/SteamStoreApiFacade\";\r\n\r\nexport default class CurrencyManager {\r\n\r\n    private static promise: Promise<void>;\r\n    private static _rates: Record<string, Record<string, number>>;\r\n\r\n    private static readonly _defaultCurrency: string = \"USD\";\r\n    private static storeCurrencyCode: string;\r\n    private static customCurrencyCode: string;\r\n\r\n    static get storeCurrency(): string {\r\n        return this.storeCurrencyCode;\r\n    }\r\n\r\n    static get customCurrency(): string {\r\n        return this.customCurrencyCode;\r\n    }\r\n\r\n    static getRate(from: string, to: string): number|null {\r\n        if (from === to) {\r\n            return 1;\r\n        }\r\n        return this._rates?.[from]?.[to] ?? null;\r\n    }\r\n\r\n    static getCurrencyInfo(code: string): TCurrency {\r\n        for (let currency of Currencies) {\r\n            if (currency.abbr === code) {\r\n                return currency;\r\n            }\r\n        }\r\n        throw new Error(\"Unknown currency\");\r\n    }\r\n\r\n    static currencyIdToCode(id: number): string {\r\n        for (let currency of Currencies) {\r\n            if (currency.id  === id) {\r\n                return currency.abbr;\r\n            }\r\n        }\r\n        throw new Error(\"Unknown currency\");\r\n    }\r\n\r\n    private static _getCurrencyCodeFromDom(): string|null {\r\n        const currencyNode = document.querySelector(\"meta[itemprop=priceCurrency][content]\");\r\n        if (currencyNode) {\r\n            return currencyNode.getAttribute(\"content\");\r\n        }\r\n        return null\r\n    }\r\n\r\n    private static _getCurrencyCodeFromWallet(): string|null {\r\n        const walletInfo = HTMLParser.getObjectVariable(\"g_rgWalletInfo\");\r\n        if (walletInfo && walletInfo.wallet_currency) {\r\n            return this.currencyIdToCode(walletInfo.wallet_currency);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    private static async _getStoreCurrency(): Promise<string> {\r\n        let currency = this._getCurrencyCodeFromDom() ?? this._getCurrencyCodeFromWallet();\r\n        if (currency) {\r\n            return currency;\r\n        }\r\n\r\n        try {\r\n            return await SteamStoreApiFacade.getCurrency();\r\n        } catch (err) {\r\n            console.error(err);\r\n        }\r\n        return \"USD\"; // fallback\r\n    }\r\n\r\n    private static async _loadCurrency(): Promise<void> {\r\n        const currencySetting = Settings.override_price;\r\n        this.storeCurrencyCode = await this._getStoreCurrency();\r\n        this.customCurrencyCode = (currencySetting === \"auto\")\r\n            ? this.storeCurrencyCode\r\n            : currencySetting;\r\n    }\r\n\r\n    private static async _loadRates(): Promise<void> {\r\n        const toCurrencies = [this.storeCurrencyCode];\r\n        if (this.customCurrencyCode !== this.storeCurrencyCode) {\r\n            toCurrencies.push(this.customCurrencyCode);\r\n        }\r\n        this._rates = await AugmentedSteamApiFacade.getRates(toCurrencies);\r\n    }\r\n\r\n    static init(): Promise<void> {\r\n        if (!this.promise) {\r\n            this.promise = (async () => {\r\n                try {\r\n                    await this._loadCurrency();\r\n                    await this._loadRates();\r\n                } catch (err) {\r\n                    console.error(\"Failed to initialize Currency\");\r\n                    console.error(err);\r\n                }\r\n            })();\r\n        }\r\n\r\n        return this.promise;\r\n    }\r\n}\r\n", "import type Context from \"@Content/Modules/Context/Context\";\r\n\r\nexport default abstract class Feature<C extends Context> {\r\n\r\n    public constructor(\r\n        protected context: C,\r\n    ) {}\r\n\r\n    public checkPrerequisites(): boolean|Promise<boolean> {\r\n        return true;\r\n    }\r\n\r\n    public abstract apply(): void|Promise<void>;\r\n\r\n    protected logError(err: unknown, msg: unknown, ...args: unknown[]): void {\r\n        console.group(this.constructor.name);\r\n        console.error(msg, ...args);\r\n        console.error(err);\r\n        console.groupEnd();\r\n    }\r\n}\r\n", "\r\nclass LoginError extends Error {\r\n    constructor(type: string) {\r\n        super(type);\r\n        this.name = \"LoginError\";\r\n    }\r\n}\r\n\r\nclass ServerOutageError extends Error {\r\n    constructor(msg: string) {\r\n        super(msg);\r\n        this.name = \"ServerOutageError\";\r\n    }\r\n}\r\n\r\nclass OAuthUnauthorized extends Error {\r\n    constructor(msg?: string) {\r\n        super(msg);\r\n        this.name = \"OAuth Unauthorized\";\r\n    }\r\n}\r\n\r\nclass HTTPError extends Error {\r\n    public code: number;\r\n\r\n    constructor(code: number, message: string) {\r\n        super(message);\r\n        this.code = code;\r\n    }\r\n}\r\n\r\nclass FeatureDependencyError extends Error {\r\n    public featureName: string;\r\n\r\n    constructor(msg: string, featureName: string) {\r\n        super(msg);\r\n        this.featureName = featureName;\r\n    }\r\n}\r\n\r\nexport default {\r\n    LoginError,\r\n    ServerOutageError,\r\n    HTTPError,\r\n    FeatureDependencyError,\r\n    OAuthUnauthorized\r\n};\r\n", "import Feature from \"@Content/Modules/Context/Feature\";\r\nimport type ContextType from \"@Content/Modules/Context/ContextType\";\r\nimport Errors from \"@Core/Errors/Errors\";\r\nimport type Language from \"@Core/Localization/Language\";\r\nimport type UserInterface from \"@Core/User/UserInterface\";\r\n\r\nexport interface ContextParams {\r\n    language: Language|null,\r\n    user: UserInterface\r\n}\r\n\r\nexport default class Context {\r\n\r\n    public readonly language: Language|null = null;\r\n    public readonly user: UserInterface;\r\n    public readonly type: ContextType;\r\n\r\n    private readonly featureMap: Map<Function, Feature<Context>> = new Map();\r\n    private readonly promiseMap: Map<Function, Promise<boolean>> = new Map();\r\n    private readonly dependencies: Map<Function, Map<Function, boolean>> = new Map();\r\n\r\n    private stats = {\r\n        completed: 0,\r\n        failed: 0,\r\n        dependency: 0,\r\n    };\r\n\r\n    public static async create(_params: ContextParams): Promise<Context|null> {\r\n        // left for overrides, when init requires async things to finish because we can't await constructor\r\n        // TODO we should move all instantiation to init, make constructor private, probably?\r\n        return null;\r\n    }\r\n\r\n    constructor(\r\n        params: ContextParams,\r\n        type: ContextType,\r\n        features: (typeof Feature<Context>)[]\r\n    ) {\r\n        this.language = params.language;\r\n        this.user = params.user;\r\n        this.type = type;\r\n\r\n        for (let ref of features) {\r\n            // @ts-ignore\r\n            const feature = new ref(this);\r\n            this.featureMap.set(feature.constructor, feature)\r\n        }\r\n    }\r\n\r\n    dependency(dependent: Function, ...dependencies: Array<[Function, boolean]>) {\r\n        this.dependencies.set(dependent, new Map(dependencies));\r\n    }\r\n\r\n    async applyFeatures(): Promise<void> {\r\n\r\n        let promises = [...this.featureMap.values()].map(feature => this.getFeaturePromise(feature));\r\n        await Promise.allSettled(promises);\r\n\r\n        console.log(\r\n            \"Feature loading complete, %i successfully loaded, %i failed to load, %i didn't load due to dependency errors\",\r\n            this.stats.completed,\r\n            this.stats.failed,\r\n            this.stats.dependency\r\n        );\r\n    }\r\n\r\n    private getFeaturePromise(feature: Feature<Context>): Promise<boolean> {\r\n        const func = feature.constructor;\r\n\r\n        let promise = this.promiseMap.get(func);\r\n        if (!promise) {\r\n            promise = this.applyInternal(feature);\r\n            this.promiseMap.set(func, promise);\r\n\r\n        }\r\n        return promise;\r\n    }\r\n\r\n    private async applyInternal(feature: Feature<Context>): Promise<boolean> {\r\n        const func = feature.constructor;\r\n\r\n        const dependencies = this.dependencies.get(func);\r\n        if (dependencies) {\r\n            try {\r\n                let promises = [];\r\n                for (let [dependencyFunc, weak] of dependencies) {\r\n                    promises.push((async () => {\r\n                        const dependency = this.featureMap.get(dependencyFunc);\r\n                        if (!dependency) {\r\n                            throw new Errors.FeatureDependencyError(\"Dependency feature not found\", dependencyFunc.name);\r\n                        }\r\n                        let pass = await this.getFeaturePromise(dependency);\r\n                        return weak || pass;\r\n                    })());\r\n                }\r\n\r\n                if (!(await Promise.all(promises)).every(res => res)) {\r\n                    return false;\r\n                }\r\n            } catch(e) {\r\n                console.warn(\r\n                    \"Not applying feature %s due to an error in the dependency chain\",\r\n                    func.name\r\n                );\r\n                ++this.stats.dependency;\r\n            }\r\n        }\r\n\r\n        let pass = Boolean(await feature.checkPrerequisites());\r\n        if (pass) {\r\n            try {\r\n                await feature.apply();\r\n                ++this.stats.completed;\r\n            } catch(e) {\r\n                const featureName = func.name;\r\n\r\n                console.group(featureName);\r\n                console.error(\"Error while applying feature %s\", featureName);\r\n                console.error(e);\r\n                console.groupEnd();\r\n\r\n                ++this.stats.failed;\r\n                throw new Errors.FeatureDependencyError(\"Failed to apply\", featureName);\r\n            }\r\n        }\r\n        return pass;\r\n    }\r\n}\r\n", "export enum ContextType {\r\n    Unknown,\r\n    Background,\r\n    ContentScript,\r\n    Options,\r\n    Offscreen\r\n}\r\n\r\nexport default class Environment {\r\n\r\n    private static currentContext: ContextType = ContextType.Unknown;\r\n\r\n    public static set CurrentContext(context: ContextType) {\r\n        this.currentContext = context;\r\n    }\r\n\r\n    static isBackgroundScript(): boolean {\r\n        return this.currentContext === ContextType.Background;\r\n    }\r\n\r\n    static isContentScript(): boolean {\r\n        return this.currentContext === ContextType.ContentScript;\r\n    }\r\n\r\n    static isOptions(): boolean {\r\n        return this.currentContext === ContextType.Options;\r\n    }\r\n}\r\n", "import Environment from \"@Core/Environment\";\r\n\r\nexport default class CookieReader {\r\n\r\n    private static cache: Map<string, string>|null;\r\n\r\n    private static load(): void {\r\n        this.cache = new Map<string, string>();\r\n\r\n        if (!Environment.isBackgroundScript() && typeof document !== \"undefined\") {\r\n            for (let [key, val] of <[string, string][]>document.cookie.split(\";\").map(kv => kv.split(\"=\", 2))) {\r\n                key = key.trim();\r\n                this.cache.set(key, decodeURIComponent(val));\r\n            }\r\n        }\r\n    }\r\n\r\n    static get(name: string, defaultValue: string|null = null): string|null {\r\n        if (this.cache === null) {\r\n            this.load();\r\n        }\r\n        return this.cache!.get(name.trim()) ?? defaultValue;\r\n    }\r\n}\r\n", "import Language from \"@Core/Localization/Language\";\r\nimport CookieReader from \"@Core/Storage/CookieReader\";\r\nimport type AppConfig from \"@Core/AppConfig/AppConfig\";\r\n\r\nexport default class LanguageFactory {\r\n\r\n    constructor(\r\n        private readonly config: AppConfig\r\n    ) {}\r\n\r\n    createFromLegacy(): Language|null {\r\n\r\n        if (this.config.language) {\r\n            return new Language(this.config.language);\r\n        }\r\n\r\n        for (const script of document.querySelectorAll<HTMLScriptElement>(\"script[src]\")) {\r\n            const language = new URL(script.src).searchParams.get(\"l\");\r\n            if (language) {\r\n                return new Language(language);\r\n            }\r\n        }\r\n\r\n        // last resort, try cookie\r\n        const cookie = CookieReader.get(\"Steam_Language\", null);\r\n        if (cookie) {\r\n            return new Language(cookie);\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    createFromReact(): Language|null {\r\n        if (this.config.language) {\r\n            return new Language(this.config.language);\r\n        }\r\n\r\n        return null;\r\n    }\r\n}", "import Background from \"@Core/Background\";\r\nimport type {TFetchBadgeInfoResponse, TFetchReviewsResponse, TLogin} from \"@Background/Modules/Community/_types\";\r\nimport {EAction} from \"@Background/EAction\";\r\n\r\nexport default class SteamCommunityApiFacade {\r\n\r\n    static fetchBadgeInfo(steamId: string, appid: number): Promise<TFetchBadgeInfoResponse> {\r\n        return Background.send(EAction.BadgeInfo, {steamId, appid});\r\n    }\r\n\r\n    static getWorkshopFileSize(id: number, preventFetch: boolean): Promise<number|null> {\r\n        return Background.send(EAction.WorkshopFileSize, {id, preventFetch});\r\n    }\r\n\r\n    static getReviews(steamId: string, pages: number): Promise<TFetchReviewsResponse> {\r\n        return Background.send(EAction.Reviews, {steamId, pages});\r\n    }\r\n\r\n    static login(profilePath: string): Promise<TLogin> {\r\n        return Background.send(EAction.Login, {profilePath});\r\n    }\r\n\r\n    static logout(force: boolean|undefined=undefined): Promise<void> {\r\n        return Background.send(EAction.Logout, {force});\r\n    }\r\n\r\n    static setStoreCountry(newCountry: string): Promise<void> {\r\n        return Background.send(EAction.StoreCountry_Set, {newCountry});\r\n    }\r\n\r\n    static getStoreCountry(): Promise<string|null> {\r\n        return Background.send(EAction.StoreCountry_Get);\r\n    }\r\n}\r\n", "import Errors from \"@Core/Errors/Errors\";\r\n\r\ndeclare global {\r\n    let content: any;\r\n}\r\n\r\nexport default class RequestData {\r\n\r\n    /**\r\n     * In Firefox, the global fetch lies in the sandbox environment, thus we have to\r\n     * access the fetch function of the content window.\r\n     * See https://bugzilla.mozilla.org/show_bug.cgi?id=1579347#c5\r\n     */\r\n    // FIXME this will not work anymore in Manifest V3\r\n    private static _fetchFn\r\n        = (typeof content !== \"undefined\" && content && content.fetch)\r\n        || fetch.bind(window);\r\n\r\n\r\n    private static async getHttp(url: URL|string, settings: RequestInit = {}): Promise<Response> {\r\n\r\n        const _settings = {\r\n            \"method\": \"GET\",\r\n            \"credentials\": \"include\",\r\n            \"headers\": {\"origin\": window.location.origin},\r\n            \"referrer\": window.location.origin + window.location.pathname,\r\n            ...settings\r\n        };\r\n\r\n        document.dispatchEvent(new CustomEvent(\"asRequestStart\"));\r\n\r\n        let response;\r\n        try {\r\n            response = await RequestData._fetchFn(url, _settings);\r\n\r\n            if (!response.ok) {\r\n                throw new Errors.HTTPError(response.status, `HTTP ${response.status} ${response.statusText} for ${response.url}`);\r\n            }\r\n        } catch (e) {\r\n            document.dispatchEvent(new CustomEvent(\"asRequestError\", {detail: e}));\r\n            throw e;\r\n        }\r\n\r\n        document.dispatchEvent(new CustomEvent(\"asRequestDone\"));\r\n        return response;\r\n    }\r\n\r\n    static async getText(url: URL|string, settings: RequestInit={}): Promise<string> {\r\n        const response = await this.getHttp(url, settings);\r\n        return response.text();\r\n    }\r\n\r\n    static async getJson<T>(url: URL|string, settings: RequestInit={}): Promise<T> {\r\n        const response = await this.getHttp(url, settings);\r\n        return response.json();\r\n    }\r\n\r\n    static async getBlob(url: URL|string, settings: RequestInit={}): Promise<Blob> {\r\n        const response = await this.getHttp(url, settings);\r\n        return response.blob();\r\n    }\r\n\r\n    static async post(\r\n        url: URL|string,\r\n        data: Record<string, string>,\r\n        settings: RequestInit = {}\r\n    ): Promise<Response> {\r\n\r\n        const _settings = {\r\n            \"method\": \"POST\",\r\n            \"body\": new URLSearchParams(data),\r\n            \"credentials\": \"include\",\r\n            \"headers\": {\"origin\": window.location.origin},\r\n            \"referrer\": window.location.origin + window.location.pathname,\r\n            ...settings\r\n        };\r\n\r\n        return await RequestData._fetchFn(url, _settings);\r\n    }\r\n}\r\n", "import HTMLParser from \"@Core/Html/HtmlParser\";\r\nimport StringUtils from \"@Core/Utils/StringUtils\";\r\nimport SteamStoreApiFacade from \"@Content/Modules/Facades/SteamStoreApiFacade\";\r\nimport RequestData from \"@Content/Modules/RequestData\";\r\nimport type UserInterface from \"@Core/User/UserInterface\";\r\n\r\nexport default class LegacyUser implements UserInterface {\r\n\r\n    private _signedIn: boolean = false;\r\n    private _steamId: string|undefined;\r\n    private _storeCountry: string|undefined;\r\n    private _profileUrl: string|undefined;\r\n    private _profilePath: string|undefined;\r\n\r\n    private _sessionId: string|null|undefined;\r\n    private _webApiToken: string|undefined;\r\n\r\n    set isSignedIn(value: boolean) {\r\n        this._signedIn = value;\r\n    }\r\n\r\n    get isSignedIn(): boolean {\r\n        return this._signedIn;\r\n    }\r\n\r\n    set steamId(value: string) {\r\n        this._steamId = value;\r\n    }\r\n\r\n    get steamId(): string {\r\n        return this._steamId!;\r\n    }\r\n\r\n    set storeCountry(value: string) {\r\n        this._storeCountry = value;\r\n    }\r\n\r\n    get storeCountry(): string {\r\n        let country;\r\n\r\n        const params = new URLSearchParams(window.location.search);\r\n        if (params.has(\"cc\")) {\r\n            // Support overrides, though this only works when logged out now\r\n            country = params.get(\"cc\");\r\n        } else {\r\n            country = this._storeCountry;\r\n        }\r\n\r\n        if (!country) {\r\n            console.warn(\"Failed to detect store country, falling back to US\");\r\n            country = \"US\";\r\n        }\r\n\r\n        return country;\r\n    }\r\n\r\n    set profileUrl(value: string) {\r\n        this._profileUrl = value;\r\n    }\r\n\r\n    get profileUrl(): string {\r\n        return this._profileUrl!;\r\n    }\r\n\r\n    set profilePath(value: string) {\r\n        this._profilePath = value;\r\n    }\r\n\r\n    get profilePath(): string {\r\n        return this._profilePath!;\r\n    }\r\n\r\n    get sessionId(): string|null {\r\n        if (!this._sessionId) {\r\n            this._sessionId = HTMLParser.getStringVariable(\"g_sessionID\");\r\n        }\r\n        return this._sessionId;\r\n    }\r\n\r\n    /*\r\n     * Fetch the user's web api token to use in new style WebAPI calls (Services)\r\n     * https://github.com/Revadike/UnofficialSteamWebAPI/wiki/Get-Points-Summary-Config\r\n     * Works on both store and community, but only returns the store token\r\n     */\r\n    async getWebApiToken(): Promise<string> {\r\n        if (!this._webApiToken) {\r\n            const response = await RequestData.getJson<{\r\n                success?: boolean,\r\n                data?: {\r\n                    webapi_token?: string\r\n                }\r\n            }>(`${window.location.origin}/pointssummary/ajaxgetasyncconfig`);\r\n\r\n            if (!response.success || !response.data?.webapi_token) {\r\n                throw new Error(\"Failed to get webapi token\");\r\n            }\r\n\r\n            this._webApiToken = response.data.webapi_token;\r\n        }\r\n\r\n        return this._webApiToken;\r\n    }\r\n}\r\n\r\n", "import HTMLParser from \"@Core/Html/HtmlParser\";\r\nimport StringUtils from \"@Core/Utils/StringUtils\";\r\nimport SteamStoreApiFacade from \"@Content/Modules/Facades/SteamStoreApiFacade\";\r\nimport type UserInterface from \"@Core/User/UserInterface\";\r\n\r\nexport default class ReactUser implements UserInterface {\r\n\r\n    private _signedIn: boolean = false;\r\n    private _steamId: string|undefined;\r\n    private _storeCountry: string|undefined;\r\n    private _profileUrl: string|undefined;\r\n    private _profilePath: string|undefined;\r\n    private _sessionId: string|null|undefined;\r\n    private _webApiToken: string|undefined;\r\n\r\n    get isSignedIn(): boolean {\r\n        return !!this._steamId;\r\n    }\r\n\r\n    set steamId(value: string) {\r\n        this._steamId = value;\r\n    }\r\n\r\n    get steamId(): string {\r\n        return this._steamId!;\r\n    }\r\n\r\n    set storeCountry(value: string) {\r\n        this._storeCountry = value;\r\n    }\r\n\r\n    get storeCountry(): string {\r\n        return this._storeCountry!;\r\n    }\r\n\r\n    get profileUrl(): string {\r\n        return `https://steamcommunity.com${this.profilePath}`\r\n    }\r\n\r\n    get profilePath(): string {\r\n        return `/profiles/${this.steamId}/`\r\n    }\r\n\r\n    get sessionId(): string|null {\r\n        throw new Error(\"Not supported\");\r\n    }\r\n\r\n    set webApiToken(value: string | undefined) {\r\n        this._webApiToken = value;\r\n    }\r\n\r\n    async getWebApiToken(): Promise<string> {\r\n        return this._webApiToken!;\r\n    }\r\n}\r\n\r\n", "import HTMLParser from \"@Core/Html/HtmlParser\";\r\nimport SteamCommunityApiFacade from \"@Content/Modules/Facades/SteamCommunityApiFacade\";\r\nimport LegacyUser from \"@Core/User/LegacyUser\";\r\nimport type AppConfig from \"@Core/AppConfig/AppConfig\";\r\nimport ReactUser from \"@Core/User/ReactUser\";\r\n\r\nexport default class UserFactory {\r\n\r\n    constructor(\r\n        private readonly appConfig: AppConfig\r\n    ) {}\r\n\r\n    async createFromLegacy(): Promise<LegacyUser> {\r\n        const user = new LegacyUser();\r\n\r\n        const avatarNode = document.querySelector<HTMLAnchorElement>(\"#global_actions > a.user_avatar\");\r\n\r\n        try {\r\n            if (avatarNode) {\r\n                user.profileUrl = avatarNode.href;\r\n                user.profilePath = avatarNode.pathname;\r\n\r\n                const login = await SteamCommunityApiFacade.login(user.profilePath);\r\n                user.isSignedIn = true;\r\n                user.steamId = login.steamId;\r\n            } else {\r\n                await SteamCommunityApiFacade.logout();\r\n            }\r\n        } catch(e) {\r\n            console.log(e);\r\n        }\r\n\r\n        try {\r\n            let country = await SteamCommunityApiFacade.getStoreCountry();\r\n            if (country) {\r\n                user.storeCountry = country;\r\n                return user;\r\n            }\r\n\r\n            let newCountry: string|null = null;\r\n\r\n            // Check config first since it's the fastest and present on most pages\r\n            const config = document.querySelector<HTMLElement>(\"#webui_config, #application_config\");\r\n            if (config) {\r\n                newCountry = config.dataset.config\r\n                    ? JSON.parse(config.dataset.config).COUNTRY\r\n                    : null;\r\n            } else if (window.location.hostname === \"steamcommunity.com\") {\r\n                // This variable is present on market-related pages\r\n                newCountry = HTMLParser.getStringVariable(\"g_strCountryCode\");\r\n            } else {\r\n                newCountry = HTMLParser.getStringVariable(/GDynamicStore\\.Init\\(.+?,\\s*'([A-Z]{2})'/);\r\n            }\r\n\r\n            if (!newCountry) {\r\n                throw new Error(\"Script with user store country not found\");\r\n            }\r\n\r\n            user.storeCountry = newCountry;\r\n            await SteamCommunityApiFacade.setStoreCountry(newCountry);\r\n        } catch(e) {\r\n            console.group(\"Store country detection\");\r\n            console.warn(\"Failed to detect store country from page\");\r\n            console.error(e);\r\n            console.groupEnd();\r\n        }\r\n\r\n        return user;\r\n    }\r\n\r\n\r\n    async createFromReact(): Promise<ReactUser> {\r\n        const user = new ReactUser();\r\n\r\n        if (this.appConfig.steamId && this.appConfig.steamId !== \"0\") {\r\n            user.steamId = this.appConfig.steamId;\r\n        }\r\n\r\n        user.storeCountry = this.appConfig.countryCode!;\r\n\r\n        if (this.appConfig.webApiToken) {\r\n            user.webApiToken = this.appConfig.webApiToken;\r\n        }\r\n\r\n        return user;\r\n    }\r\n}\r\n\r\n", "import browser from \"webextension-polyfill\";\r\nimport ExtensionResources from \"@Core/ExtensionResources\";\r\n\r\nexport default class DOMHelper {\r\n\r\n    static selectLastNode<T extends Element=Element>(parent: HTMLElement|Document, selector: string): T|null {\r\n        const nodes = parent.querySelectorAll<T>(selector);\r\n        return nodes[nodes.length - 1] ?? null;\r\n    }\r\n\r\n    static insertRemoteStylesheet(url: string): void {\r\n        const stylesheet = document.createElement(\"link\");\r\n        stylesheet.rel = \"stylesheet\";\r\n        stylesheet.type = \"text/css\";\r\n        stylesheet.href = url;\r\n        document.head.appendChild(stylesheet);\r\n    }\r\n\r\n    static insertStylesheet(path: string): void {\r\n        const stylesheet = document.createElement(\"link\");\r\n        stylesheet.rel = \"stylesheet\";\r\n        stylesheet.type = \"text/css\";\r\n        stylesheet.href = ExtensionResources.getURL(path);\r\n        document.head.appendChild(stylesheet);\r\n    }\r\n\r\n    static insertCSS(content: string): void {\r\n        const style = document.createElement(\"style\");\r\n        style.textContent = content;\r\n        document.head.appendChild(style);\r\n    }\r\n\r\n    /**\r\n     * @see https://stackoverflow.com/a/9517879\r\n     */\r\n    static insertScript(path: string, params: Record<string, any>|undefined=undefined): void {\r\n        let s = document.createElement(\"script\");\r\n        s.src = browser.runtime.getURL(path);\r\n        // @ts-ignore\r\n        s.onload = function() { this.remove(); };\r\n\r\n        if (params) {\r\n            s.dataset.params = JSON.stringify(params);\r\n        }\r\n\r\n        // see also \"Dynamic values in the injected code\" section in this answer\r\n        (document.head || document.documentElement).appendChild(s);\r\n    }\r\n}\r\n", "import type {MessageHandler} from \"@Content/Modules/Messaging/MessageHandler\";\r\nimport DOMHelper from \"@Content/Modules/DOMHelper\";\r\n\r\nexport default class Messenger {\r\n\r\n    private static id: number = 0;\r\n\r\n    private static dispatchEvent(handler: MessageHandler, action: string, params: any[]=[], id: string|undefined=undefined): void {\r\n\r\n        DOMHelper.insertScript(\"scriptlets/event.js\", {handler, detail: {\r\n            action, params, id\r\n        }});\r\n    }\r\n\r\n    static call(handler: MessageHandler, action: string, params: any[]=[]): void {\r\n        this.dispatchEvent(handler, action, params);\r\n    }\r\n\r\n    static get<T>(handler: MessageHandler, action: string, params: any[]=[]): Promise<T> {\r\n        return new Promise(resolve => {\r\n            const id = `as_msg_${this.id++}`;\r\n\r\n            // @ts-ignore\r\n            document.addEventListener(id, (e) => resolve(e.detail), {once: true});\r\n            this.dispatchEvent(handler, action, params, id);\r\n        });\r\n    }\r\n}\r\n", "import Messenger from \"@Content/Modules/Messaging/Messenger\";\r\nimport {MessageHandler} from \"@Content/Modules/Messaging/MessageHandler\";\r\n\r\nexport default class SteamFacade {\r\n\r\n    // variables\r\n\r\n    static global<T=any>(name: string): Promise<T> {\r\n        return Messenger.get(MessageHandler.SteamFacade, \"global\", [name]);\r\n    }\r\n\r\n    static globalExists(name: string): Promise<boolean> {\r\n        return Messenger.get(MessageHandler.SteamFacade, \"globalExists\", [name]);\r\n    }\r\n\r\n    static globalSet(name: string, value: any): void {\r\n        Messenger.call(MessageHandler.SteamFacade, \"globalSet\", [name, value]);\r\n    }\r\n\r\n    // dialogs\r\n\r\n    static showDialog(strTitle: string, strDescription: string, rgModalParams?: any): void {\r\n        Messenger.call(MessageHandler.SteamFacade, \"showDialog\", [strTitle, strDescription, rgModalParams]);\r\n    }\r\n\r\n    static showConfirmDialog(\r\n        title: string,\r\n        description: string,\r\n        options: {\r\n            okButton?: string, // Default \"OK\"\r\n            cancelButton?: string,  // Default \"Cancel\"\r\n            secondaryActionButton?: string, // Needs a value else won't get rendered\r\n            explicitConfirm?: boolean, // Avoids releasing Enter from auto-confirming\r\n            explicitDismissal?: boolean // Avoids dismissal on clicking on background\r\n        } = {}\r\n    ): Promise<\"OK\"|\"SECONDARY\"|\"CANCEL\"> {\r\n        return Messenger.get(MessageHandler.SteamFacade, \"showConfirmDialog\", [\r\n            title,\r\n            description,\r\n            options.okButton ?? null,\r\n            options.cancelButton ?? null,\r\n            options.secondaryActionButton ?? null,\r\n            options.explicitConfirm ?? false,\r\n            options.explicitDismissal ?? false\r\n        ]);\r\n    }\r\n\r\n    static showAlertDialog(\r\n        strTitle: string,\r\n        strDescription: string,\r\n        strOKButton?: string\r\n    ): Promise<void> {\r\n        return Messenger.get(MessageHandler.SteamFacade, \"showAlertDialog\", [\r\n            strTitle, strDescription, strOKButton\r\n        ]);\r\n    }\r\n\r\n    static showBlockingWaitDialog(strTitle: string, strDescription: string): Promise<void> {\r\n        return Messenger.get(MessageHandler.SteamFacade, \"showBlockingWaitDialog\", [\r\n            strTitle, strDescription\r\n        ]);\r\n    }\r\n\r\n    static dismissActiveModal(id?: string): void {\r\n        Messenger.call(MessageHandler.SteamFacade, \"dismissActiveModal\", [id]);\r\n    }\r\n\r\n    // menu\r\n\r\n    static showMenu(elemLink: string, elemPopup: string, align?: string, valign?: string, bLinkHasBorder?: boolean): void {\r\n        Messenger.call(MessageHandler.SteamFacade, \"showMenu\", [elemLink, elemPopup, align, valign, bLinkHasBorder]);\r\n    }\r\n\r\n    static hideMenu(elemLink: string, elemPopup: string): void {\r\n        Messenger.call(MessageHandler.SteamFacade, \"hideMenu\", [elemLink, elemPopup]);\r\n    }\r\n\r\n    static changeLanguage(strTargetLanguage: string, bStayOnPage: boolean): void {\r\n        Messenger.call(MessageHandler.SteamFacade, \"changeLanguage\", [strTargetLanguage, bStayOnPage]);\r\n    }\r\n\r\n    // app pages\r\n\r\n    static collapseLongStrings(selector: string): void {\r\n        Messenger.call(MessageHandler.SteamFacade, \"collapseLongStrings\", [selector]);\r\n    }\r\n\r\n    static removeFromWishlist(\r\n        appid: number,\r\n        divToHide: string,\r\n        divToShowSuccess: string,\r\n        divToShowError: string,\r\n        navref?: string,\r\n        divToHide2?: string,\r\n    ): void {\r\n        Messenger.call(MessageHandler.SteamFacade, \"removeFromWishlist\", [\r\n            appid, divToHide, divToShowSuccess, divToShowError, navref, divToHide2\r\n        ]);\r\n    }\r\n\r\n    static addToWishlist(\r\n        appid: number,\r\n        divToHide: string,\r\n        divToShowSuccess: string,\r\n        divToShowError: string,\r\n        navref?: string,\r\n        divToHide2?: string,\r\n    ): void {\r\n        Messenger.call(MessageHandler.SteamFacade, \"addToWishlist\", [\r\n            appid, divToHide, divToShowSuccess, divToShowError, navref, divToHide2\r\n        ]);\r\n    }\r\n\r\n    // events\r\n\r\n    static bindAutoFlyoutEvents(): void {\r\n        Messenger.call(MessageHandler.SteamFacade, \"bindAutoFlyoutEvents\");\r\n    }\r\n\r\n    // tooltips\r\n\r\n    static vTooltip(selector: string, isHtml: boolean = false): void {\r\n        Messenger.call(MessageHandler.SteamFacade, \"vTooltip\", [selector, isHtml]);\r\n    }\r\n\r\n    // market\r\n\r\n    static calculateFeeAmount(amount: number, publisherFee: number): Promise<{\r\n        amount: number,\r\n        fees: number\r\n    }> {\r\n        return Messenger.get(MessageHandler.SteamFacade, \"calculateFeeAmount\", [amount, publisherFee]);\r\n    }\r\n\r\n    static vCurrencyFormat(amount: number, currencyCode: string): Promise<string> {\r\n        return Messenger.get(MessageHandler.SteamFacade, \"vCurrencyFormat\", [amount, currencyCode])\r\n    }\r\n\r\n    // profile home\r\n\r\n    static openFriendChatInWebChat(steamid: string, accountid: number): void {\r\n        Messenger.call(MessageHandler.SteamFacade, \"openFriendChatInWebChat\", [steamid, accountid]);\r\n    }\r\n\r\n    // edit guide\r\n\r\n    static submitGuide(): void {\r\n        Messenger.call(MessageHandler.SteamFacade, \"submitGuide\");\r\n    }\r\n}\r\n", "\r\nexport interface AppConfigData {\r\n    language?: string,\r\n    countryCode?: string,\r\n    webApiToken?: string,\r\n    steamId?: string\r\n}\r\n\r\nexport default class AppConfig {\r\n    public readonly language: string|undefined;\r\n    public readonly countryCode: string|undefined;\r\n    public readonly webApiToken: string|undefined;\r\n    public readonly steamId: string|undefined;\r\n\r\n    public constructor(data: AppConfigData) {\r\n        this.language = data.language;\r\n        this.countryCode = data.countryCode;\r\n        this.webApiToken = data.webApiToken;\r\n        this.steamId = data.steamId;\r\n    }\r\n}\r\n", "import SteamFacade from \"@Content/Modules/Facades/SteamFacade\";\r\nimport AppConfig, {type AppConfigData} from \"@Core/AppConfig/AppConfig\";\r\n\r\nexport default class AppConfigFactory {\r\n\r\n    public createFromLegacy(): AppConfig {\r\n        const configNode: HTMLElement|null = document.querySelector(\"#application_config\");\r\n\r\n        const data: AppConfigData = {};\r\n\r\n        if (configNode?.dataset.config) {\r\n            const config = JSON.parse(configNode.dataset.config);\r\n            data.language = config.LANGUAGE;\r\n            data.countryCode = config.COUNTRY;\r\n        }\r\n\r\n        if (configNode?.dataset.store_user_config) {\r\n            const storeUserConfig = JSON.parse(configNode.dataset.store_user_config);\r\n            data.webApiToken = storeUserConfig.webapi_token;\r\n        }\r\n\r\n        return new AppConfig(data);\r\n    }\r\n\r\n    public async createFromReact(): Promise<AppConfig> {\r\n\r\n        const [loaderData, Config, UserConfig] = await Promise.all([\r\n            SteamFacade.global(\"SSR.loaderData\"),\r\n            SteamFacade.global(\"Config\"),\r\n            SteamFacade.global(\"UserConfig\")\r\n        ]);\r\n\r\n        const data: AppConfigData = {\r\n            language: Config.LANGUAGE,\r\n            countryCode: Config.COUNTRY\r\n        }\r\n\r\n        if (Array.isArray(loaderData) && loaderData[0]) {\r\n            for (let item of loaderData) {\r\n                item = JSON.parse(item);\r\n                if (item.strWebAPIToken) {\r\n                    data.webApiToken = item.strWebAPIToken;\r\n                }\r\n\r\n                if (item.storeBrowseContext && item.steamid) { // find correct object\r\n                    data.steamId = item.steamid;\r\n                }\r\n            }\r\n        }\r\n        return new AppConfig(data);\r\n    }\r\n}", "import bootstrapDomPurify from \"../../bootstrapDomPurify\";\r\nimport Config from \"config\";\r\nimport Info from \"@Core/Info\";\r\nimport Localization from \"@Core/Localization/Localization\";\r\nimport {SettingsStore} from \"@Options/Data/Settings\";\r\nimport CurrencyManager from \"@Content/Modules/Currency/CurrencyManager\";\r\nimport Context, {type ContextParams} from \"@Content/Modules/Context/Context\";\r\nimport Environment, {ContextType} from \"@Core/Environment\";\r\nimport Language from \"@Core/Localization/Language\";\r\nimport type UserInterface from \"@Core/User/UserInterface\";\r\nimport type AppConfig from \"@Core/AppConfig/AppConfig\";\r\nimport LanguageFactory from \"@Core/Localization/LanguageFactory\";\r\nimport UserFactory from \"@Core/User/UserFactory\";\r\nimport AppConfigFactory from \"@Core/AppConfig/AppConfigFactory\";\r\n\r\nEnvironment.CurrentContext = ContextType.ContentScript;\r\n\r\n/**\r\n * Event handler for uncaught Background errors\r\n */\r\nfunction unhandledrejection(e: PromiseRejectionEvent) {\r\n    const err = e.reason;\r\n    if (!err || !err.error) {\r\n        return;\r\n    } // Not a background error\r\n\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    console.group(\"An error occurred in the background context.\");\r\n    console.error(err.stack);\r\n    console.groupEnd();\r\n}\r\nwindow.addEventListener(\"unhandledrejection\", unhandledrejection);\r\n\r\ninterface ContextClass {\r\n    create: (params: ContextParams) => Promise<InstanceType<typeof Context>|null>,\r\n    new(params: ContextParams, ...rest: any[]): InstanceType<typeof Context>\r\n}\r\n\r\nexport default abstract class Page {\r\n\r\n    constructor(\r\n        private readonly contextClass: ContextClass\r\n    ) {}\r\n\r\n    /**\r\n     * Run any kind of checks we might need to do, to see if the page is properly loaded\r\n     */\r\n    protected abstract check(): boolean;\r\n    protected abstract preApply(language: Language|null, user: UserInterface): Promise<void>\r\n\r\n    protected abstract getAppConfig(factory: AppConfigFactory): Promise<AppConfig>;\r\n    protected abstract getLanguage(factory: LanguageFactory): Promise<Language|null>;\r\n    protected abstract getUser(factory: UserFactory): Promise<UserInterface>;\r\n\r\n    async run(): Promise<void> {\r\n        if (!this.check()) { return; }\r\n\r\n        let language: Language|null;\r\n        let user: UserInterface;\r\n\r\n        // TODO What errors can be \"suppressed\" here?\r\n        try {\r\n            await SettingsStore.init();\r\n            await bootstrapDomPurify();\r\n        } catch (err) {\r\n            console.error(err);\r\n        }\r\n\r\n        try {\r\n            const appFactory = new AppConfigFactory();\r\n            const appConfig = await this.getAppConfig(appFactory);\r\n\r\n            const languageFactory = new LanguageFactory(appConfig);\r\n            language = await this.getLanguage(languageFactory);\r\n\r\n            const userFactory = new UserFactory(appConfig);\r\n            user = await this.getUser(userFactory);\r\n\r\n            await Promise.all([\r\n                Localization.init(language),\r\n                CurrencyManager.init()\r\n            ]);\r\n        } catch (err) {\r\n            console.group(\"Augmented Steam initialization\");\r\n            console.error(\"Failed to initialize Augmented Steam\");\r\n            console.error(err);\r\n            console.groupEnd();\r\n            return;\r\n        }\r\n\r\n        console.log(\r\n            `%c Augmented %cSteam v${Info.version} %c ${Config.PublicHost}`,\r\n            \"background: #000000; color: #046eb2\",\r\n            \"background: #000000; color: #ffffff\",\r\n            \"\",\r\n        );\r\n\r\n        await this.preApply(language, user);\r\n\r\n        const params = {language, user};\r\n        const context: Context = await this.contextClass.create(params)\r\n            ?? new (this.contextClass)(params);\r\n        await context.applyFeatures();\r\n    }\r\n}\r\n", "/** @returns {void} */\nexport function noop() {}\n\nexport const identity = (x) => x;\n\n/**\n * @template T\n * @template S\n * @param {T} tar\n * @param {S} src\n * @returns {T & S}\n */\nexport function assign(tar, src) {\n\t// @ts-ignore\n\tfor (const k in src) tar[k] = src[k];\n\treturn /** @type {T & S} */ (tar);\n}\n\n// Adapted from https://github.com/then/is-promise/blob/master/index.js\n// Distributed under MIT License https://github.com/then/is-promise/blob/master/LICENSE\n/**\n * @param {any} value\n * @returns {value is PromiseLike<any>}\n */\nexport function is_promise(value) {\n\treturn (\n\t\t!!value &&\n\t\t(typeof value === 'object' || typeof value === 'function') &&\n\t\ttypeof (/** @type {any} */ (value).then) === 'function'\n\t);\n}\n\n/** @returns {void} */\nexport function add_location(element, file, line, column, char) {\n\telement.__svelte_meta = {\n\t\tloc: { file, line, column, char }\n\t};\n}\n\nexport function run(fn) {\n\treturn fn();\n}\n\nexport function blank_object() {\n\treturn Object.create(null);\n}\n\n/**\n * @param {Function[]} fns\n * @returns {void}\n */\nexport function run_all(fns) {\n\tfns.forEach(run);\n}\n\n/**\n * @param {any} thing\n * @returns {thing is Function}\n */\nexport function is_function(thing) {\n\treturn typeof thing === 'function';\n}\n\n/** @returns {boolean} */\nexport function safe_not_equal(a, b) {\n\treturn a != a ? b == b : a !== b || (a && typeof a === 'object') || typeof a === 'function';\n}\n\nlet src_url_equal_anchor;\n\n/**\n * @param {string} element_src\n * @param {string} url\n * @returns {boolean}\n */\nexport function src_url_equal(element_src, url) {\n\tif (element_src === url) return true;\n\tif (!src_url_equal_anchor) {\n\t\tsrc_url_equal_anchor = document.createElement('a');\n\t}\n\t// This is actually faster than doing URL(..).href\n\tsrc_url_equal_anchor.href = url;\n\treturn element_src === src_url_equal_anchor.href;\n}\n\n/** @param {string} srcset */\nfunction split_srcset(srcset) {\n\treturn srcset.split(',').map((src) => src.trim().split(' ').filter(Boolean));\n}\n\n/**\n * @param {HTMLSourceElement | HTMLImageElement} element_srcset\n * @param {string | undefined | null} srcset\n * @returns {boolean}\n */\nexport function srcset_url_equal(element_srcset, srcset) {\n\tconst element_urls = split_srcset(element_srcset.srcset);\n\tconst urls = split_srcset(srcset || '');\n\n\treturn (\n\t\turls.length === element_urls.length &&\n\t\turls.every(\n\t\t\t([url, width], i) =>\n\t\t\t\twidth === element_urls[i][1] &&\n\t\t\t\t// We need to test both ways because Vite will create an a full URL with\n\t\t\t\t// `new URL(asset, import.meta.url).href` for the client when `base: './'`, and the\n\t\t\t\t// relative URLs inside srcset are not automatically resolved to absolute URLs by\n\t\t\t\t// browsers (in contrast to img.src). This means both SSR and DOM code could\n\t\t\t\t// contain relative or absolute URLs.\n\t\t\t\t(src_url_equal(element_urls[i][0], url) || src_url_equal(url, element_urls[i][0]))\n\t\t)\n\t);\n}\n\n/** @returns {boolean} */\nexport function not_equal(a, b) {\n\treturn a != a ? b == b : a !== b;\n}\n\n/** @returns {boolean} */\nexport function is_empty(obj) {\n\treturn Object.keys(obj).length === 0;\n}\n\n/** @returns {void} */\nexport function validate_store(store, name) {\n\tif (store != null && typeof store.subscribe !== 'function') {\n\t\tthrow new Error(`'${name}' is not a store with a 'subscribe' method`);\n\t}\n}\n\nexport function subscribe(store, ...callbacks) {\n\tif (store == null) {\n\t\tfor (const callback of callbacks) {\n\t\t\tcallback(undefined);\n\t\t}\n\t\treturn noop;\n\t}\n\tconst unsub = store.subscribe(...callbacks);\n\treturn unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\n\n/**\n * Get the current value from a store by subscribing and immediately unsubscribing.\n *\n * https://svelte.dev/docs/svelte-store#get\n * @template T\n * @param {import('../store/public.js').Readable<T>} store\n * @returns {T}\n */\nexport function get_store_value(store) {\n\tlet value;\n\tsubscribe(store, (_) => (value = _))();\n\treturn value;\n}\n\n/** @returns {void} */\nexport function component_subscribe(component, store, callback) {\n\tcomponent.$$.on_destroy.push(subscribe(store, callback));\n}\n\nexport function create_slot(definition, ctx, $$scope, fn) {\n\tif (definition) {\n\t\tconst slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n\t\treturn definition[0](slot_ctx);\n\t}\n}\n\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n\treturn definition[1] && fn ? assign($$scope.ctx.slice(), definition[1](fn(ctx))) : $$scope.ctx;\n}\n\nexport function get_slot_changes(definition, $$scope, dirty, fn) {\n\tif (definition[2] && fn) {\n\t\tconst lets = definition[2](fn(dirty));\n\t\tif ($$scope.dirty === undefined) {\n\t\t\treturn lets;\n\t\t}\n\t\tif (typeof lets === 'object') {\n\t\t\tconst merged = [];\n\t\t\tconst len = Math.max($$scope.dirty.length, lets.length);\n\t\t\tfor (let i = 0; i < len; i += 1) {\n\t\t\t\tmerged[i] = $$scope.dirty[i] | lets[i];\n\t\t\t}\n\t\t\treturn merged;\n\t\t}\n\t\treturn $$scope.dirty | lets;\n\t}\n\treturn $$scope.dirty;\n}\n\n/** @returns {void} */\nexport function update_slot_base(\n\tslot,\n\tslot_definition,\n\tctx,\n\t$$scope,\n\tslot_changes,\n\tget_slot_context_fn\n) {\n\tif (slot_changes) {\n\t\tconst slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n\t\tslot.p(slot_context, slot_changes);\n\t}\n}\n\n/** @returns {void} */\nexport function update_slot(\n\tslot,\n\tslot_definition,\n\tctx,\n\t$$scope,\n\tdirty,\n\tget_slot_changes_fn,\n\tget_slot_context_fn\n) {\n\tconst slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n\tupdate_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn);\n}\n\n/** @returns {any[] | -1} */\nexport function get_all_dirty_from_scope($$scope) {\n\tif ($$scope.ctx.length > 32) {\n\t\tconst dirty = [];\n\t\tconst length = $$scope.ctx.length / 32;\n\t\tfor (let i = 0; i < length; i++) {\n\t\t\tdirty[i] = -1;\n\t\t}\n\t\treturn dirty;\n\t}\n\treturn -1;\n}\n\n/** @returns {{}} */\nexport function exclude_internal_props(props) {\n\tconst result = {};\n\tfor (const k in props) if (k[0] !== '$') result[k] = props[k];\n\treturn result;\n}\n\n/** @returns {{}} */\nexport function compute_rest_props(props, keys) {\n\tconst rest = {};\n\tkeys = new Set(keys);\n\tfor (const k in props) if (!keys.has(k) && k[0] !== '$') rest[k] = props[k];\n\treturn rest;\n}\n\n/** @returns {{}} */\nexport function compute_slots(slots) {\n\tconst result = {};\n\tfor (const key in slots) {\n\t\tresult[key] = true;\n\t}\n\treturn result;\n}\n\n/** @returns {(this: any, ...args: any[]) => void} */\nexport function once(fn) {\n\tlet ran = false;\n\treturn function (...args) {\n\t\tif (ran) return;\n\t\tran = true;\n\t\tfn.call(this, ...args);\n\t};\n}\n\nexport function null_to_empty(value) {\n\treturn value == null ? '' : value;\n}\n\nexport function set_store_value(store, ret, value) {\n\tstore.set(value);\n\treturn ret;\n}\n\nexport const has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\n\nexport function action_destroyer(action_result) {\n\treturn action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\n/** @param {number | string} value\n * @returns {[number, string]}\n */\nexport function split_css_unit(value) {\n\tconst split = typeof value === 'string' && value.match(/^\\s*(-?[\\d.]+)([^\\s]*)\\s*$/);\n\treturn split ? [parseFloat(split[1]), split[2] || 'px'] : [/** @type {number} */ (value), 'px'];\n}\n\nexport const contenteditable_truthy_values = ['', true, 1, 'true', 'contenteditable'];\n", "import { noop } from './utils.js';\n\nexport const is_client = typeof window !== 'undefined';\n\n/** @type {() => number} */\nexport let now = is_client ? () => window.performance.now() : () => Date.now();\n\nexport let raf = is_client ? (cb) => requestAnimationFrame(cb) : noop;\n\n// used internally for testing\n/** @returns {void} */\nexport function set_now(fn) {\n\tnow = fn;\n}\n\n/** @returns {void} */\nexport function set_raf(fn) {\n\traf = fn;\n}\n", "import { raf } from './environment.js';\n\nconst tasks = new Set();\n\n/**\n * @param {number} now\n * @returns {void}\n */\nfunction run_tasks(now) {\n\ttasks.forEach((task) => {\n\t\tif (!task.c(now)) {\n\t\t\ttasks.delete(task);\n\t\t\ttask.f();\n\t\t}\n\t});\n\tif (tasks.size !== 0) raf(run_tasks);\n}\n\n/**\n * For testing purposes only!\n * @returns {void}\n */\nexport function clear_loops() {\n\ttasks.clear();\n}\n\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n * @param {import('./private.js').TaskCallback} callback\n * @returns {import('./private.js').Task}\n */\nexport function loop(callback) {\n\t/** @type {import('./private.js').TaskEntry} */\n\tlet task;\n\tif (tasks.size === 0) raf(run_tasks);\n\treturn {\n\t\tpromise: new Promise((fulfill) => {\n\t\t\ttasks.add((task = { c: callback, f: fulfill }));\n\t\t}),\n\t\tabort() {\n\t\t\ttasks.delete(task);\n\t\t}\n\t};\n}\n", "/** @type {typeof globalThis} */\nexport const globals =\n\ttypeof window !== 'undefined'\n\t\t? window\n\t\t: typeof globalThis !== 'undefined'\n\t\t? globalThis\n\t\t: // @ts-ignore Node typings have this\n\t\t  global;\n", "import { globals } from './globals.js';\n\n/**\n * Resize observer singleton.\n * One listener per element only!\n * https://groups.google.com/a/chromium.org/g/blink-dev/c/z6ienONUb5A/m/F5-VcUZtBAAJ\n */\nexport class ResizeObserverSingleton {\n\t/**\n\t * @private\n\t * @readonly\n\t * @type {WeakMap<Element, import('./private.js').Listener>}\n\t */\n\t_listeners = 'WeakMap' in globals ? new WeakMap() : undefined;\n\n\t/**\n\t * @private\n\t * @type {ResizeObserver}\n\t */\n\t_observer = undefined;\n\n\t/** @type {ResizeObserverOptions} */\n\toptions;\n\n\t/** @param {ResizeObserverOptions} options */\n\tconstructor(options) {\n\t\tthis.options = options;\n\t}\n\n\t/**\n\t * @param {Element} element\n\t * @param {import('./private.js').Listener} listener\n\t * @returns {() => void}\n\t */\n\tobserve(element, listener) {\n\t\tthis._listeners.set(element, listener);\n\t\tthis._getObserver().observe(element, this.options);\n\t\treturn () => {\n\t\t\tthis._listeners.delete(element);\n\t\t\tthis._observer.unobserve(element); // this line can probably be removed\n\t\t};\n\t}\n\n\t/**\n\t * @private\n\t */\n\t_getObserver() {\n\t\treturn (\n\t\t\tthis._observer ??\n\t\t\t(this._observer = new ResizeObserver((entries) => {\n\t\t\t\tfor (const entry of entries) {\n\t\t\t\t\tResizeObserverSingleton.entries.set(entry.target, entry);\n\t\t\t\t\tthis._listeners.get(entry.target)?.(entry);\n\t\t\t\t}\n\t\t\t}))\n\t\t);\n\t}\n}\n\n// Needs to be written like this to pass the tree-shake-test\nResizeObserverSingleton.entries = 'WeakMap' in globals ? new WeakMap() : undefined;\n", "import { contenteditable_truthy_values, has_prop } from './utils.js';\n\nimport { ResizeObserverSingleton } from './ResizeObserverSingleton.js';\n\n// Track which nodes are claimed during hydration. Unclaimed nodes can then be removed from the DOM\n// at the end of hydration without touching the remaining nodes.\nlet is_hydrating = false;\n\n/**\n * @returns {void}\n */\nexport function start_hydrating() {\n\tis_hydrating = true;\n}\n\n/**\n * @returns {void}\n */\nexport function end_hydrating() {\n\tis_hydrating = false;\n}\n\n/**\n * @param {number} low\n * @param {number} high\n * @param {(index: number) => number} key\n * @param {number} value\n * @returns {number}\n */\nfunction upper_bound(low, high, key, value) {\n\t// Return first index of value larger than input value in the range [low, high)\n\twhile (low < high) {\n\t\tconst mid = low + ((high - low) >> 1);\n\t\tif (key(mid) <= value) {\n\t\t\tlow = mid + 1;\n\t\t} else {\n\t\t\thigh = mid;\n\t\t}\n\t}\n\treturn low;\n}\n\n/**\n * @param {NodeEx} target\n * @returns {void}\n */\nfunction init_hydrate(target) {\n\tif (target.hydrate_init) return;\n\ttarget.hydrate_init = true;\n\t// We know that all children have claim_order values since the unclaimed have been detached if target is not <head>\n\n\tlet children = /** @type {ArrayLike<NodeEx2>} */ (target.childNodes);\n\t// If target is <head>, there may be children without claim_order\n\tif (target.nodeName === 'HEAD') {\n\t\tconst my_children = [];\n\t\tfor (let i = 0; i < children.length; i++) {\n\t\t\tconst node = children[i];\n\t\t\tif (node.claim_order !== undefined) {\n\t\t\t\tmy_children.push(node);\n\t\t\t}\n\t\t}\n\t\tchildren = my_children;\n\t}\n\t/*\n\t * Reorder claimed children optimally.\n\t * We can reorder claimed children optimally by finding the longest subsequence of\n\t * nodes that are already claimed in order and only moving the rest. The longest\n\t * subsequence of nodes that are claimed in order can be found by\n\t * computing the longest increasing subsequence of .claim_order values.\n\t *\n\t * This algorithm is optimal in generating the least amount of reorder operations\n\t * possible.\n\t *\n\t * Proof:\n\t * We know that, given a set of reordering operations, the nodes that do not move\n\t * always form an increasing subsequence, since they do not move among each other\n\t * meaning that they must be already ordered among each other. Thus, the maximal\n\t * set of nodes that do not move form a longest increasing subsequence.\n\t */\n\t// Compute longest increasing subsequence\n\t// m: subsequence length j => index k of smallest value that ends an increasing subsequence of length j\n\tconst m = new Int32Array(children.length + 1);\n\t// Predecessor indices + 1\n\tconst p = new Int32Array(children.length);\n\tm[0] = -1;\n\tlet longest = 0;\n\tfor (let i = 0; i < children.length; i++) {\n\t\tconst current = children[i].claim_order;\n\t\t// Find the largest subsequence length such that it ends in a value less than our current value\n\t\t// upper_bound returns first greater value, so we subtract one\n\t\t// with fast path for when we are on the current longest subsequence\n\t\tconst seq_len =\n\t\t\t(longest > 0 && children[m[longest]].claim_order <= current\n\t\t\t\t? longest + 1\n\t\t\t\t: upper_bound(1, longest, (idx) => children[m[idx]].claim_order, current)) - 1;\n\t\tp[i] = m[seq_len] + 1;\n\t\tconst new_len = seq_len + 1;\n\t\t// We can guarantee that current is the smallest value. Otherwise, we would have generated a longer sequence.\n\t\tm[new_len] = i;\n\t\tlongest = Math.max(new_len, longest);\n\t}\n\t// The longest increasing subsequence of nodes (initially reversed)\n\n\t/**\n\t * @type {NodeEx2[]}\n\t */\n\tconst lis = [];\n\t// The rest of the nodes, nodes that will be moved\n\n\t/**\n\t * @type {NodeEx2[]}\n\t */\n\tconst to_move = [];\n\tlet last = children.length - 1;\n\tfor (let cur = m[longest] + 1; cur != 0; cur = p[cur - 1]) {\n\t\tlis.push(children[cur - 1]);\n\t\tfor (; last >= cur; last--) {\n\t\t\tto_move.push(children[last]);\n\t\t}\n\t\tlast--;\n\t}\n\tfor (; last >= 0; last--) {\n\t\tto_move.push(children[last]);\n\t}\n\tlis.reverse();\n\t// We sort the nodes being moved to guarantee that their insertion order matches the claim order\n\tto_move.sort((a, b) => a.claim_order - b.claim_order);\n\t// Finally, we move the nodes\n\tfor (let i = 0, j = 0; i < to_move.length; i++) {\n\t\twhile (j < lis.length && to_move[i].claim_order >= lis[j].claim_order) {\n\t\t\tj++;\n\t\t}\n\t\tconst anchor = j < lis.length ? lis[j] : null;\n\t\ttarget.insertBefore(to_move[i], anchor);\n\t}\n}\n\n/**\n * @param {Node} target\n * @param {Node} node\n * @returns {void}\n */\nexport function append(target, node) {\n\ttarget.appendChild(node);\n}\n\n/**\n * @param {Node} target\n * @param {string} style_sheet_id\n * @param {string} styles\n * @returns {void}\n */\nexport function append_styles(target, style_sheet_id, styles) {\n\tconst append_styles_to = get_root_for_style(target);\n\tif (!append_styles_to.getElementById(style_sheet_id)) {\n\t\tconst style = element('style');\n\t\tstyle.id = style_sheet_id;\n\t\tstyle.textContent = styles;\n\t\tappend_stylesheet(append_styles_to, style);\n\t}\n}\n\n/**\n * @param {Node} node\n * @returns {ShadowRoot | Document}\n */\nexport function get_root_for_style(node) {\n\tif (!node) return document;\n\tconst root = node.getRootNode ? node.getRootNode() : node.ownerDocument;\n\tif (root && /** @type {ShadowRoot} */ (root).host) {\n\t\treturn /** @type {ShadowRoot} */ (root);\n\t}\n\treturn node.ownerDocument;\n}\n\n/**\n * @param {Node} node\n * @returns {CSSStyleSheet}\n */\nexport function append_empty_stylesheet(node) {\n\tconst style_element = element('style');\n\t// For transitions to work without 'style-src: unsafe-inline' Content Security Policy,\n\t// these empty tags need to be allowed with a hash as a workaround until we move to the Web Animations API.\n\t// Using the hash for the empty string (for an empty tag) works in all browsers except Safari.\n\t// So as a workaround for the workaround, when we append empty style tags we set their content to /* empty */.\n\t// The hash 'sha256-9OlNO0DNEeaVzHL4RZwCLsBHA8WBQ8toBp/4F5XV2nc=' will then work even in Safari.\n\tstyle_element.textContent = '/* empty */';\n\tappend_stylesheet(get_root_for_style(node), style_element);\n\treturn style_element.sheet;\n}\n\n/**\n * @param {ShadowRoot | Document} node\n * @param {HTMLStyleElement} style\n * @returns {CSSStyleSheet}\n */\nfunction append_stylesheet(node, style) {\n\tappend(/** @type {Document} */ (node).head || node, style);\n\treturn style.sheet;\n}\n\n/**\n * @param {NodeEx} target\n * @param {NodeEx} node\n * @returns {void}\n */\nexport function append_hydration(target, node) {\n\tif (is_hydrating) {\n\t\tinit_hydrate(target);\n\t\tif (\n\t\t\ttarget.actual_end_child === undefined ||\n\t\t\t(target.actual_end_child !== null && target.actual_end_child.parentNode !== target)\n\t\t) {\n\t\t\ttarget.actual_end_child = target.firstChild;\n\t\t}\n\t\t// Skip nodes of undefined ordering\n\t\twhile (target.actual_end_child !== null && target.actual_end_child.claim_order === undefined) {\n\t\t\ttarget.actual_end_child = target.actual_end_child.nextSibling;\n\t\t}\n\t\tif (node !== target.actual_end_child) {\n\t\t\t// We only insert if the ordering of this node should be modified or the parent node is not target\n\t\t\tif (node.claim_order !== undefined || node.parentNode !== target) {\n\t\t\t\ttarget.insertBefore(node, target.actual_end_child);\n\t\t\t}\n\t\t} else {\n\t\t\ttarget.actual_end_child = node.nextSibling;\n\t\t}\n\t} else if (node.parentNode !== target || node.nextSibling !== null) {\n\t\ttarget.appendChild(node);\n\t}\n}\n\n/**\n * @param {Node} target\n * @param {Node} node\n * @param {Node} [anchor]\n * @returns {void}\n */\nexport function insert(target, node, anchor) {\n\ttarget.insertBefore(node, anchor || null);\n}\n\n/**\n * @param {NodeEx} target\n * @param {NodeEx} node\n * @param {NodeEx} [anchor]\n * @returns {void}\n */\nexport function insert_hydration(target, node, anchor) {\n\tif (is_hydrating && !anchor) {\n\t\tappend_hydration(target, node);\n\t} else if (node.parentNode !== target || node.nextSibling != anchor) {\n\t\ttarget.insertBefore(node, anchor || null);\n\t}\n}\n\n/**\n * @param {Node} node\n * @returns {void}\n */\nexport function detach(node) {\n\tif (node.parentNode) {\n\t\tnode.parentNode.removeChild(node);\n\t}\n}\n\n/**\n * @returns {void} */\nexport function destroy_each(iterations, detaching) {\n\tfor (let i = 0; i < iterations.length; i += 1) {\n\t\tif (iterations[i]) iterations[i].d(detaching);\n\t}\n}\n\n/**\n * @template {keyof HTMLElementTagNameMap} K\n * @param {K} name\n * @returns {HTMLElementTagNameMap[K]}\n */\nexport function element(name) {\n\treturn document.createElement(name);\n}\n\n/**\n * @template {keyof HTMLElementTagNameMap} K\n * @param {K} name\n * @param {string} is\n * @returns {HTMLElementTagNameMap[K]}\n */\nexport function element_is(name, is) {\n\treturn document.createElement(name, { is });\n}\n\n/**\n * @template T\n * @template {keyof T} K\n * @param {T} obj\n * @param {K[]} exclude\n * @returns {Pick<T, Exclude<keyof T, K>>}\n */\nexport function object_without_properties(obj, exclude) {\n\tconst target = /** @type {Pick<T, Exclude<keyof T, K>>} */ ({});\n\tfor (const k in obj) {\n\t\tif (\n\t\t\thas_prop(obj, k) &&\n\t\t\t// @ts-ignore\n\t\t\texclude.indexOf(k) === -1\n\t\t) {\n\t\t\t// @ts-ignore\n\t\t\ttarget[k] = obj[k];\n\t\t}\n\t}\n\treturn target;\n}\n\n/**\n * @template {keyof SVGElementTagNameMap} K\n * @param {K} name\n * @returns {SVGElement}\n */\nexport function svg_element(name) {\n\treturn document.createElementNS('http://www.w3.org/2000/svg', name);\n}\n\n/**\n * @param {string} data\n * @returns {Text}\n */\nexport function text(data) {\n\treturn document.createTextNode(data);\n}\n\n/**\n * @returns {Text} */\nexport function space() {\n\treturn text(' ');\n}\n\n/**\n * @returns {Text} */\nexport function empty() {\n\treturn text('');\n}\n\n/**\n * @param {string} content\n * @returns {Comment}\n */\nexport function comment(content) {\n\treturn document.createComment(content);\n}\n\n/**\n * @param {EventTarget} node\n * @param {string} event\n * @param {EventListenerOrEventListenerObject} handler\n * @param {boolean | AddEventListenerOptions | EventListenerOptions} [options]\n * @returns {() => void}\n */\nexport function listen(node, event, handler, options) {\n\tnode.addEventListener(event, handler, options);\n\treturn () => node.removeEventListener(event, handler, options);\n}\n\n/**\n * @returns {(event: any) => any} */\nexport function prevent_default(fn) {\n\treturn function (event) {\n\t\tevent.preventDefault();\n\t\t// @ts-ignore\n\t\treturn fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => any} */\nexport function stop_propagation(fn) {\n\treturn function (event) {\n\t\tevent.stopPropagation();\n\t\t// @ts-ignore\n\t\treturn fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => any} */\nexport function stop_immediate_propagation(fn) {\n\treturn function (event) {\n\t\tevent.stopImmediatePropagation();\n\t\t// @ts-ignore\n\t\treturn fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => void} */\nexport function self(fn) {\n\treturn function (event) {\n\t\t// @ts-ignore\n\t\tif (event.target === this) fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => void} */\nexport function trusted(fn) {\n\treturn function (event) {\n\t\t// @ts-ignore\n\t\tif (event.isTrusted) fn.call(this, event);\n\t};\n}\n\n/**\n * @param {Element} node\n * @param {string} attribute\n * @param {string} [value]\n * @returns {void}\n */\nexport function attr(node, attribute, value) {\n\tif (value == null) node.removeAttribute(attribute);\n\telse if (node.getAttribute(attribute) !== value) node.setAttribute(attribute, value);\n}\n/**\n * List of attributes that should always be set through the attr method,\n * because updating them through the property setter doesn't work reliably.\n * In the example of `width`/`height`, the problem is that the setter only\n * accepts numeric values, but the attribute can also be set to a string like `50%`.\n * If this list becomes too big, rethink this approach.\n */\nconst always_set_through_set_attribute = ['width', 'height'];\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {{ [x: string]: string }} attributes\n * @returns {void}\n */\nexport function set_attributes(node, attributes) {\n\t// @ts-ignore\n\tconst descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n\tfor (const key in attributes) {\n\t\tif (attributes[key] == null) {\n\t\t\tnode.removeAttribute(key);\n\t\t} else if (key === 'style') {\n\t\t\tnode.style.cssText = attributes[key];\n\t\t} else if (key === '__value') {\n\t\t\t/** @type {any} */ (node).value = node[key] = attributes[key];\n\t\t} else if (\n\t\t\tdescriptors[key] &&\n\t\t\tdescriptors[key].set &&\n\t\t\talways_set_through_set_attribute.indexOf(key) === -1\n\t\t) {\n\t\t\tnode[key] = attributes[key];\n\t\t} else {\n\t\t\tattr(node, key, attributes[key]);\n\t\t}\n\t}\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {{ [x: string]: string }} attributes\n * @returns {void}\n */\nexport function set_svg_attributes(node, attributes) {\n\tfor (const key in attributes) {\n\t\tattr(node, key, attributes[key]);\n\t}\n}\n\n/**\n * @param {Record<string, unknown>} data_map\n * @returns {void}\n */\nexport function set_custom_element_data_map(node, data_map) {\n\tObject.keys(data_map).forEach((key) => {\n\t\tset_custom_element_data(node, key, data_map[key]);\n\t});\n}\n\n/**\n * @returns {void} */\nexport function set_custom_element_data(node, prop, value) {\n\tconst lower = prop.toLowerCase(); // for backwards compatibility with existing behavior we do lowercase first\n\tif (lower in node) {\n\t\tnode[lower] = typeof node[lower] === 'boolean' && value === '' ? true : value;\n\t} else if (prop in node) {\n\t\tnode[prop] = typeof node[prop] === 'boolean' && value === '' ? true : value;\n\t} else {\n\t\tattr(node, prop, value);\n\t}\n}\n\n/**\n * @param {string} tag\n */\nexport function set_dynamic_element_data(tag) {\n\treturn /-/.test(tag) ? set_custom_element_data_map : set_attributes;\n}\n\n/**\n * @returns {void}\n */\nexport function xlink_attr(node, attribute, value) {\n\tnode.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\n\n/**\n * @param {HTMLElement} node\n * @returns {string}\n */\nexport function get_svelte_dataset(node) {\n\treturn node.dataset.svelteH;\n}\n\n/**\n * @returns {unknown[]} */\nexport function get_binding_group_value(group, __value, checked) {\n\tconst value = new Set();\n\tfor (let i = 0; i < group.length; i += 1) {\n\t\tif (group[i].checked) value.add(group[i].__value);\n\t}\n\tif (!checked) {\n\t\tvalue.delete(__value);\n\t}\n\treturn Array.from(value);\n}\n\n/**\n * @param {HTMLInputElement[]} group\n * @returns {{ p(...inputs: HTMLInputElement[]): void; r(): void; }}\n */\nexport function init_binding_group(group) {\n\t/**\n\t * @type {HTMLInputElement[]} */\n\tlet _inputs;\n\treturn {\n\t\t/* push */ p(...inputs) {\n\t\t\t_inputs = inputs;\n\t\t\t_inputs.forEach((input) => group.push(input));\n\t\t},\n\t\t/* remove */ r() {\n\t\t\t_inputs.forEach((input) => group.splice(group.indexOf(input), 1));\n\t\t}\n\t};\n}\n\n/**\n * @param {number[]} indexes\n * @returns {{ u(new_indexes: number[]): void; p(...inputs: HTMLInputElement[]): void; r: () => void; }}\n */\nexport function init_binding_group_dynamic(group, indexes) {\n\t/**\n\t * @type {HTMLInputElement[]} */\n\tlet _group = get_binding_group(group);\n\n\t/**\n\t * @type {HTMLInputElement[]} */\n\tlet _inputs;\n\n\tfunction get_binding_group(group) {\n\t\tfor (let i = 0; i < indexes.length; i++) {\n\t\t\tgroup = group[indexes[i]] = group[indexes[i]] || [];\n\t\t}\n\t\treturn group;\n\t}\n\n\t/**\n\t * @returns {void} */\n\tfunction push() {\n\t\t_inputs.forEach((input) => _group.push(input));\n\t}\n\n\t/**\n\t * @returns {void} */\n\tfunction remove() {\n\t\t_inputs.forEach((input) => _group.splice(_group.indexOf(input), 1));\n\t}\n\treturn {\n\t\t/* update */ u(new_indexes) {\n\t\t\tindexes = new_indexes;\n\t\t\tconst new_group = get_binding_group(group);\n\t\t\tif (new_group !== _group) {\n\t\t\t\tremove();\n\t\t\t\t_group = new_group;\n\t\t\t\tpush();\n\t\t\t}\n\t\t},\n\t\t/* push */ p(...inputs) {\n\t\t\t_inputs = inputs;\n\t\t\tpush();\n\t\t},\n\t\t/* remove */ r: remove\n\t};\n}\n\n/** @returns {number} */\nexport function to_number(value) {\n\treturn value === '' ? null : +value;\n}\n\n/** @returns {any[]} */\nexport function time_ranges_to_array(ranges) {\n\tconst array = [];\n\tfor (let i = 0; i < ranges.length; i += 1) {\n\t\tarray.push({ start: ranges.start(i), end: ranges.end(i) });\n\t}\n\treturn array;\n}\n\n/**\n * @param {Element} element\n * @returns {ChildNode[]}\n */\nexport function children(element) {\n\treturn Array.from(element.childNodes);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @returns {void}\n */\nfunction init_claim_info(nodes) {\n\tif (nodes.claim_info === undefined) {\n\t\tnodes.claim_info = { last_index: 0, total_claimed: 0 };\n\t}\n}\n\n/**\n * @template {ChildNodeEx} R\n * @param {ChildNodeArray} nodes\n * @param {(node: ChildNodeEx) => node is R} predicate\n * @param {(node: ChildNodeEx) => ChildNodeEx | undefined} process_node\n * @param {() => R} create_node\n * @param {boolean} dont_update_last_index\n * @returns {R}\n */\nfunction claim_node(nodes, predicate, process_node, create_node, dont_update_last_index = false) {\n\t// Try to find nodes in an order such that we lengthen the longest increasing subsequence\n\tinit_claim_info(nodes);\n\tconst result_node = (() => {\n\t\t// We first try to find an element after the previous one\n\t\tfor (let i = nodes.claim_info.last_index; i < nodes.length; i++) {\n\t\t\tconst node = nodes[i];\n\t\t\tif (predicate(node)) {\n\t\t\t\tconst replacement = process_node(node);\n\t\t\t\tif (replacement === undefined) {\n\t\t\t\t\tnodes.splice(i, 1);\n\t\t\t\t} else {\n\t\t\t\t\tnodes[i] = replacement;\n\t\t\t\t}\n\t\t\t\tif (!dont_update_last_index) {\n\t\t\t\t\tnodes.claim_info.last_index = i;\n\t\t\t\t}\n\t\t\t\treturn node;\n\t\t\t}\n\t\t}\n\t\t// Otherwise, we try to find one before\n\t\t// We iterate in reverse so that we don't go too far back\n\t\tfor (let i = nodes.claim_info.last_index - 1; i >= 0; i--) {\n\t\t\tconst node = nodes[i];\n\t\t\tif (predicate(node)) {\n\t\t\t\tconst replacement = process_node(node);\n\t\t\t\tif (replacement === undefined) {\n\t\t\t\t\tnodes.splice(i, 1);\n\t\t\t\t} else {\n\t\t\t\t\tnodes[i] = replacement;\n\t\t\t\t}\n\t\t\t\tif (!dont_update_last_index) {\n\t\t\t\t\tnodes.claim_info.last_index = i;\n\t\t\t\t} else if (replacement === undefined) {\n\t\t\t\t\t// Since we spliced before the last_index, we decrease it\n\t\t\t\t\tnodes.claim_info.last_index--;\n\t\t\t\t}\n\t\t\t\treturn node;\n\t\t\t}\n\t\t}\n\t\t// If we can't find any matching node, we create a new one\n\t\treturn create_node();\n\t})();\n\tresult_node.claim_order = nodes.claim_info.total_claimed;\n\tnodes.claim_info.total_claimed += 1;\n\treturn result_node;\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @param {string} name\n * @param {{ [key: string]: boolean }} attributes\n * @param {(name: string) => Element | SVGElement} create_element\n * @returns {Element | SVGElement}\n */\nfunction claim_element_base(nodes, name, attributes, create_element) {\n\treturn claim_node(\n\t\tnodes,\n\t\t/** @returns {node is Element | SVGElement} */\n\t\t(node) => node.nodeName === name,\n\t\t/** @param {Element} node */\n\t\t(node) => {\n\t\t\tconst remove = [];\n\t\t\tfor (let j = 0; j < node.attributes.length; j++) {\n\t\t\t\tconst attribute = node.attributes[j];\n\t\t\t\tif (!attributes[attribute.name]) {\n\t\t\t\t\tremove.push(attribute.name);\n\t\t\t\t}\n\t\t\t}\n\t\t\tremove.forEach((v) => node.removeAttribute(v));\n\t\t\treturn undefined;\n\t\t},\n\t\t() => create_element(name)\n\t);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @param {string} name\n * @param {{ [key: string]: boolean }} attributes\n * @returns {Element | SVGElement}\n */\nexport function claim_element(nodes, name, attributes) {\n\treturn claim_element_base(nodes, name, attributes, element);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @param {string} name\n * @param {{ [key: string]: boolean }} attributes\n * @returns {Element | SVGElement}\n */\nexport function claim_svg_element(nodes, name, attributes) {\n\treturn claim_element_base(nodes, name, attributes, svg_element);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @returns {Text}\n */\nexport function claim_text(nodes, data) {\n\treturn claim_node(\n\t\tnodes,\n\t\t/** @returns {node is Text} */\n\t\t(node) => node.nodeType === 3,\n\t\t/** @param {Text} node */\n\t\t(node) => {\n\t\t\tconst data_str = '' + data;\n\t\t\tif (node.data.startsWith(data_str)) {\n\t\t\t\tif (node.data.length !== data_str.length) {\n\t\t\t\t\treturn node.splitText(data_str.length);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnode.data = data_str;\n\t\t\t}\n\t\t},\n\t\t() => text(data),\n\t\ttrue // Text nodes should not update last index since it is likely not worth it to eliminate an increasing subsequence of actual elements\n\t);\n}\n\n/**\n * @returns {Text} */\nexport function claim_space(nodes) {\n\treturn claim_text(nodes, ' ');\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @returns {Comment}\n */\nexport function claim_comment(nodes, data) {\n\treturn claim_node(\n\t\tnodes,\n\t\t/** @returns {node is Comment} */\n\t\t(node) => node.nodeType === 8,\n\t\t/** @param {Comment} node */\n\t\t(node) => {\n\t\t\tnode.data = '' + data;\n\t\t\treturn undefined;\n\t\t},\n\t\t() => comment(data),\n\t\ttrue\n\t);\n}\n\nfunction get_comment_idx(nodes, text, start) {\n\tfor (let i = start; i < nodes.length; i += 1) {\n\t\tconst node = nodes[i];\n\t\tif (node.nodeType === 8 /* comment node */ && node.textContent.trim() === text) {\n\t\t\treturn i;\n\t\t}\n\t}\n\treturn -1;\n}\n\n/**\n * @param {boolean} is_svg\n * @returns {HtmlTagHydration}\n */\nexport function claim_html_tag(nodes, is_svg) {\n\t// find html opening tag\n\tconst start_index = get_comment_idx(nodes, 'HTML_TAG_START', 0);\n\tconst end_index = get_comment_idx(nodes, 'HTML_TAG_END', start_index + 1);\n\tif (start_index === -1 || end_index === -1) {\n\t\treturn new HtmlTagHydration(is_svg);\n\t}\n\n\tinit_claim_info(nodes);\n\tconst html_tag_nodes = nodes.splice(start_index, end_index - start_index + 1);\n\tdetach(html_tag_nodes[0]);\n\tdetach(html_tag_nodes[html_tag_nodes.length - 1]);\n\tconst claimed_nodes = html_tag_nodes.slice(1, html_tag_nodes.length - 1);\n\tif (claimed_nodes.length === 0) {\n\t\treturn new HtmlTagHydration(is_svg);\n\t}\n\tfor (const n of claimed_nodes) {\n\t\tn.claim_order = nodes.claim_info.total_claimed;\n\t\tnodes.claim_info.total_claimed += 1;\n\t}\n\treturn new HtmlTagHydration(is_svg, claimed_nodes);\n}\n\n/**\n * @param {Text} text\n * @param {unknown} data\n * @returns {void}\n */\nexport function set_data(text, data) {\n\tdata = '' + data;\n\tif (text.data === data) return;\n\ttext.data = /** @type {string} */ (data);\n}\n\n/**\n * @param {Text} text\n * @param {unknown} data\n * @returns {void}\n */\nexport function set_data_contenteditable(text, data) {\n\tdata = '' + data;\n\tif (text.wholeText === data) return;\n\ttext.data = /** @type {string} */ (data);\n}\n\n/**\n * @param {Text} text\n * @param {unknown} data\n * @param {string} attr_value\n * @returns {void}\n */\nexport function set_data_maybe_contenteditable(text, data, attr_value) {\n\tif (~contenteditable_truthy_values.indexOf(attr_value)) {\n\t\tset_data_contenteditable(text, data);\n\t} else {\n\t\tset_data(text, data);\n\t}\n}\n\n/**\n * @returns {void} */\nexport function set_input_value(input, value) {\n\tinput.value = value == null ? '' : value;\n}\n\n/**\n * @returns {void} */\nexport function set_input_type(input, type) {\n\ttry {\n\t\tinput.type = type;\n\t} catch (e) {\n\t\t// do nothing\n\t}\n}\n\n/**\n * @returns {void} */\nexport function set_style(node, key, value, important) {\n\tif (value == null) {\n\t\tnode.style.removeProperty(key);\n\t} else {\n\t\tnode.style.setProperty(key, value, important ? 'important' : '');\n\t}\n}\n\n/**\n * @returns {void} */\nexport function select_option(select, value, mounting) {\n\tfor (let i = 0; i < select.options.length; i += 1) {\n\t\tconst option = select.options[i];\n\t\tif (option.__value === value) {\n\t\t\toption.selected = true;\n\t\t\treturn;\n\t\t}\n\t}\n\tif (!mounting || value !== undefined) {\n\t\tselect.selectedIndex = -1; // no option should be selected\n\t}\n}\n\n/**\n * @returns {void} */\nexport function select_options(select, value) {\n\tfor (let i = 0; i < select.options.length; i += 1) {\n\t\tconst option = select.options[i];\n\t\toption.selected = ~value.indexOf(option.__value);\n\t}\n}\n\nexport function select_value(select) {\n\tconst selected_option = select.querySelector(':checked');\n\treturn selected_option && selected_option.__value;\n}\n\nexport function select_multiple_value(select) {\n\treturn [].map.call(select.querySelectorAll(':checked'), (option) => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\n\n/**\n * @type {boolean} */\nlet crossorigin;\n\n/**\n * @returns {boolean} */\nexport function is_crossorigin() {\n\tif (crossorigin === undefined) {\n\t\tcrossorigin = false;\n\t\ttry {\n\t\t\tif (typeof window !== 'undefined' && window.parent) {\n\t\t\t\tvoid window.parent.document;\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tcrossorigin = true;\n\t\t}\n\t}\n\treturn crossorigin;\n}\n\n/**\n * @param {HTMLElement} node\n * @param {() => void} fn\n * @returns {() => void}\n */\nexport function add_iframe_resize_listener(node, fn) {\n\tconst computed_style = getComputedStyle(node);\n\tif (computed_style.position === 'static') {\n\t\tnode.style.position = 'relative';\n\t}\n\tconst iframe = element('iframe');\n\tiframe.setAttribute(\n\t\t'style',\n\t\t'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' +\n\t\t\t'overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;'\n\t);\n\tiframe.setAttribute('aria-hidden', 'true');\n\tiframe.tabIndex = -1;\n\tconst crossorigin = is_crossorigin();\n\n\t/**\n\t * @type {() => void}\n\t */\n\tlet unsubscribe;\n\tif (crossorigin) {\n\t\tiframe.src = \"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>\";\n\t\tunsubscribe = listen(\n\t\t\twindow,\n\t\t\t'message',\n\t\t\t/** @param {MessageEvent} event */ (event) => {\n\t\t\t\tif (event.source === iframe.contentWindow) fn();\n\t\t\t}\n\t\t);\n\t} else {\n\t\tiframe.src = 'about:blank';\n\t\tiframe.onload = () => {\n\t\t\tunsubscribe = listen(iframe.contentWindow, 'resize', fn);\n\t\t\t// make sure an initial resize event is fired _after_ the iframe is loaded (which is asynchronous)\n\t\t\t// see https://github.com/sveltejs/svelte/issues/4233\n\t\t\tfn();\n\t\t};\n\t}\n\tappend(node, iframe);\n\treturn () => {\n\t\tif (crossorigin) {\n\t\t\tunsubscribe();\n\t\t} else if (unsubscribe && iframe.contentWindow) {\n\t\t\tunsubscribe();\n\t\t}\n\t\tdetach(iframe);\n\t};\n}\nexport const resize_observer_content_box = /* @__PURE__ */ new ResizeObserverSingleton({\n\tbox: 'content-box'\n});\nexport const resize_observer_border_box = /* @__PURE__ */ new ResizeObserverSingleton({\n\tbox: 'border-box'\n});\nexport const resize_observer_device_pixel_content_box = /* @__PURE__ */ new ResizeObserverSingleton(\n\t{ box: 'device-pixel-content-box' }\n);\nexport { ResizeObserverSingleton };\n\n/**\n * @returns {void} */\nexport function toggle_class(element, name, toggle) {\n\t// The `!!` is required because an `undefined` flag means flipping the current state.\n\telement.classList.toggle(name, !!toggle);\n}\n\n/**\n * @template T\n * @param {string} type\n * @param {T} [detail]\n * @param {{ bubbles?: boolean, cancelable?: boolean }} [options]\n * @returns {CustomEvent<T>}\n */\nexport function custom_event(type, detail, { bubbles = false, cancelable = false } = {}) {\n\treturn new CustomEvent(type, { detail, bubbles, cancelable });\n}\n\n/**\n * @param {string} selector\n * @param {HTMLElement} parent\n * @returns {ChildNodeArray}\n */\nexport function query_selector_all(selector, parent = document.body) {\n\treturn Array.from(parent.querySelectorAll(selector));\n}\n\n/**\n * @param {string} nodeId\n * @param {HTMLElement} head\n * @returns {any[]}\n */\nexport function head_selector(nodeId, head) {\n\tconst result = [];\n\tlet started = 0;\n\tfor (const node of head.childNodes) {\n\t\tif (node.nodeType === 8 /* comment node */) {\n\t\t\tconst comment = node.textContent.trim();\n\t\t\tif (comment === `HEAD_${nodeId}_END`) {\n\t\t\t\tstarted -= 1;\n\t\t\t\tresult.push(node);\n\t\t\t} else if (comment === `HEAD_${nodeId}_START`) {\n\t\t\t\tstarted += 1;\n\t\t\t\tresult.push(node);\n\t\t\t}\n\t\t} else if (started > 0) {\n\t\t\tresult.push(node);\n\t\t}\n\t}\n\treturn result;\n}\n/** */\nexport class HtmlTag {\n\t/**\n\t * @private\n\t * @default false\n\t */\n\tis_svg = false;\n\t/** parent for creating node */\n\te = undefined;\n\t/** html tag nodes */\n\tn = undefined;\n\t/** target */\n\tt = undefined;\n\t/** anchor */\n\ta = undefined;\n\tconstructor(is_svg = false) {\n\t\tthis.is_svg = is_svg;\n\t\tthis.e = this.n = null;\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\tc(html) {\n\t\tthis.h(html);\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @param {HTMLElement | SVGElement} target\n\t * @param {HTMLElement | SVGElement} anchor\n\t * @returns {void}\n\t */\n\tm(html, target, anchor = null) {\n\t\tif (!this.e) {\n\t\t\tif (this.is_svg)\n\t\t\t\tthis.e = svg_element(/** @type {keyof SVGElementTagNameMap} */ (target.nodeName));\n\t\t\t/** #7364  target for <template> may be provided as #document-fragment(11) */ else\n\t\t\t\tthis.e = element(\n\t\t\t\t\t/** @type {keyof HTMLElementTagNameMap} */ (\n\t\t\t\t\t\ttarget.nodeType === 11 ? 'TEMPLATE' : target.nodeName\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\tthis.t =\n\t\t\t\ttarget.tagName !== 'TEMPLATE'\n\t\t\t\t\t? target\n\t\t\t\t\t: /** @type {HTMLTemplateElement} */ (target).content;\n\t\t\tthis.c(html);\n\t\t}\n\t\tthis.i(anchor);\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\th(html) {\n\t\tthis.e.innerHTML = html;\n\t\tthis.n = Array.from(\n\t\t\tthis.e.nodeName === 'TEMPLATE' ? this.e.content.childNodes : this.e.childNodes\n\t\t);\n\t}\n\n\t/**\n\t * @returns {void} */\n\ti(anchor) {\n\t\tfor (let i = 0; i < this.n.length; i += 1) {\n\t\t\tinsert(this.t, this.n[i], anchor);\n\t\t}\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\tp(html) {\n\t\tthis.d();\n\t\tthis.h(html);\n\t\tthis.i(this.a);\n\t}\n\n\t/**\n\t * @returns {void} */\n\td() {\n\t\tthis.n.forEach(detach);\n\t}\n}\n\nexport class HtmlTagHydration extends HtmlTag {\n\t/** @type {Element[]} hydration claimed nodes */\n\tl = undefined;\n\n\tconstructor(is_svg = false, claimed_nodes) {\n\t\tsuper(is_svg);\n\t\tthis.e = this.n = null;\n\t\tthis.l = claimed_nodes;\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\tc(html) {\n\t\tif (this.l) {\n\t\t\tthis.n = this.l;\n\t\t} else {\n\t\t\tsuper.c(html);\n\t\t}\n\t}\n\n\t/**\n\t * @returns {void} */\n\ti(anchor) {\n\t\tfor (let i = 0; i < this.n.length; i += 1) {\n\t\t\tinsert_hydration(this.t, this.n[i], anchor);\n\t\t}\n\t}\n}\n\n/**\n * @param {NamedNodeMap} attributes\n * @returns {{}}\n */\nexport function attribute_to_object(attributes) {\n\tconst result = {};\n\tfor (const attribute of attributes) {\n\t\tresult[attribute.name] = attribute.value;\n\t}\n\treturn result;\n}\n\nconst escaped = {\n\t'\"': '&quot;',\n\t'&': '&amp;',\n\t'<': '&lt;'\n};\n\nconst regex_attribute_characters_to_escape = /[\"&<]/g;\n\n/**\n * Note that the attribute itself should be surrounded in double quotes\n * @param {any} attribute\n */\nfunction escape_attribute(attribute) {\n\treturn String(attribute).replace(regex_attribute_characters_to_escape, (match) => escaped[match]);\n}\n\n/**\n * @param {Record<string, string>} attributes\n */\nexport function stringify_spread(attributes) {\n\tlet str = ' ';\n\tfor (const key in attributes) {\n\t\tif (attributes[key] != null) {\n\t\t\tstr += `${key}=\"${escape_attribute(attributes[key])}\" `;\n\t\t}\n\t}\n\n\treturn str;\n}\n\n/**\n * @param {HTMLElement} element\n * @returns {{}}\n */\nexport function get_custom_elements_slots(element) {\n\tconst result = {};\n\telement.childNodes.forEach(\n\t\t/** @param {Element} node */ (node) => {\n\t\t\tresult[node.slot || 'default'] = true;\n\t\t}\n\t);\n\treturn result;\n}\n\nexport function construct_svelte_component(component, props) {\n\treturn new component(props);\n}\n\n/**\n * @typedef {Node & {\n * \tclaim_order?: number;\n * \thydrate_init?: true;\n * \tactual_end_child?: NodeEx;\n * \tchildNodes: NodeListOf<NodeEx>;\n * }} NodeEx\n */\n\n/** @typedef {ChildNode & NodeEx} ChildNodeEx */\n\n/** @typedef {NodeEx & { claim_order: number }} NodeEx2 */\n\n/**\n * @typedef {ChildNodeEx[] & {\n * \tclaim_info?: {\n * \t\tlast_index: number;\n * \t\ttotal_claimed: number;\n * \t};\n * }} ChildNodeArray\n */\n", "import { append_empty_stylesheet, detach, get_root_for_style } from './dom.js';\nimport { raf } from './environment.js';\n\n// we need to store the information for multiple documents because a Svelte application could also contain iframes\n// https://github.com/sveltejs/svelte/issues/3624\n/** @type {Map<Document | ShadowRoot, import('./private.d.ts').StyleInformation>} */\nconst managed_styles = new Map();\n\nlet active = 0;\n\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\n/**\n * @param {string} str\n * @returns {number}\n */\nfunction hash(str) {\n\tlet hash = 5381;\n\tlet i = str.length;\n\twhile (i--) hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n\treturn hash >>> 0;\n}\n\n/**\n * @param {Document | ShadowRoot} doc\n * @param {Element & ElementCSSInlineStyle} node\n * @returns {{ stylesheet: any; rules: {}; }}\n */\nfunction create_style_information(doc, node) {\n\tconst info = { stylesheet: append_empty_stylesheet(node), rules: {} };\n\tmanaged_styles.set(doc, info);\n\treturn info;\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {number} a\n * @param {number} b\n * @param {number} duration\n * @param {number} delay\n * @param {(t: number) => number} ease\n * @param {(t: number, u: number) => string} fn\n * @param {number} uid\n * @returns {string}\n */\nexport function create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n\tconst step = 16.666 / duration;\n\tlet keyframes = '{\\n';\n\tfor (let p = 0; p <= 1; p += step) {\n\t\tconst t = a + (b - a) * ease(p);\n\t\tkeyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n\t}\n\tconst rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n\tconst name = `__svelte_${hash(rule)}_${uid}`;\n\tconst doc = get_root_for_style(node);\n\tconst { stylesheet, rules } = managed_styles.get(doc) || create_style_information(doc, node);\n\tif (!rules[name]) {\n\t\trules[name] = true;\n\t\tstylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n\t}\n\tconst animation = node.style.animation || '';\n\tnode.style.animation = `${\n\t\tanimation ? `${animation}, ` : ''\n\t}${name} ${duration}ms linear ${delay}ms 1 both`;\n\tactive += 1;\n\treturn name;\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {string} [name]\n * @returns {void}\n */\nexport function delete_rule(node, name) {\n\tconst previous = (node.style.animation || '').split(', ');\n\tconst next = previous.filter(\n\t\tname\n\t\t\t? (anim) => anim.indexOf(name) < 0 // remove specific animation\n\t\t\t: (anim) => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n\t);\n\tconst deleted = previous.length - next.length;\n\tif (deleted) {\n\t\tnode.style.animation = next.join(', ');\n\t\tactive -= deleted;\n\t\tif (!active) clear_rules();\n\t}\n}\n\n/** @returns {void} */\nexport function clear_rules() {\n\traf(() => {\n\t\tif (active) return;\n\t\tmanaged_styles.forEach((info) => {\n\t\t\tconst { ownerNode } = info.stylesheet;\n\t\t\t// there is no ownerNode if it runs on jsdom.\n\t\t\tif (ownerNode) detach(ownerNode);\n\t\t});\n\t\tmanaged_styles.clear();\n\t});\n}\n", "import { custom_event } from './dom.js';\n\nexport let current_component;\n\n/** @returns {void} */\nexport function set_current_component(component) {\n\tcurrent_component = component;\n}\n\nexport function get_current_component() {\n\tif (!current_component) throw new Error('Function called outside component initialization');\n\treturn current_component;\n}\n\n/**\n * Schedules a callback to run immediately before the component is updated after any state change.\n *\n * The first time the callback runs will be before the initial `onMount`\n *\n * https://svelte.dev/docs/svelte#beforeupdate\n * @param {() => any} fn\n * @returns {void}\n */\nexport function beforeUpdate(fn) {\n\tget_current_component().$$.before_update.push(fn);\n}\n\n/**\n * The `onMount` function schedules a callback to run as soon as the component has been mounted to the DOM.\n * It must be called during the component's initialisation (but doesn't need to live *inside* the component;\n * it can be called from an external module).\n *\n * If a function is returned _synchronously_ from `onMount`, it will be called when the component is unmounted.\n *\n * `onMount` does not run inside a [server-side component](https://svelte.dev/docs#run-time-server-side-component-api).\n *\n * https://svelte.dev/docs/svelte#onmount\n * @template T\n * @param {() => import('./private.js').NotFunction<T> | Promise<import('./private.js').NotFunction<T>> | (() => any)} fn\n * @returns {void}\n */\nexport function onMount(fn) {\n\tget_current_component().$$.on_mount.push(fn);\n}\n\n/**\n * Schedules a callback to run immediately after the component has been updated.\n *\n * The first time the callback runs will be after the initial `onMount`\n *\n * https://svelte.dev/docs/svelte#afterupdate\n * @param {() => any} fn\n * @returns {void}\n */\nexport function afterUpdate(fn) {\n\tget_current_component().$$.after_update.push(fn);\n}\n\n/**\n * Schedules a callback to run immediately before the component is unmounted.\n *\n * Out of `onMount`, `beforeUpdate`, `afterUpdate` and `onDestroy`, this is the\n * only one that runs inside a server-side component.\n *\n * https://svelte.dev/docs/svelte#ondestroy\n * @param {() => any} fn\n * @returns {void}\n */\nexport function onDestroy(fn) {\n\tget_current_component().$$.on_destroy.push(fn);\n}\n\n/**\n * Creates an event dispatcher that can be used to dispatch [component events](https://svelte.dev/docs#template-syntax-component-directives-on-eventname).\n * Event dispatchers are functions that can take two arguments: `name` and `detail`.\n *\n * Component events created with `createEventDispatcher` create a\n * [CustomEvent](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent).\n * These events do not [bubble](https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Events#Event_bubbling_and_capture).\n * The `detail` argument corresponds to the [CustomEvent.detail](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/detail)\n * property and can contain any type of data.\n *\n * The event dispatcher can be typed to narrow the allowed event names and the type of the `detail` argument:\n * ```ts\n * const dispatch = createEventDispatcher<{\n *  loaded: never; // does not take a detail argument\n *  change: string; // takes a detail argument of type string, which is required\n *  optional: number | null; // takes an optional detail argument of type number\n * }>();\n * ```\n *\n * https://svelte.dev/docs/svelte#createeventdispatcher\n * @template {Record<string, any>} [EventMap=any]\n * @returns {import('./public.js').EventDispatcher<EventMap>}\n */\nexport function createEventDispatcher() {\n\tconst component = get_current_component();\n\treturn (type, detail, { cancelable = false } = {}) => {\n\t\tconst callbacks = component.$$.callbacks[type];\n\t\tif (callbacks) {\n\t\t\t// TODO are there situations where events could be dispatched\n\t\t\t// in a server (non-DOM) environment?\n\t\t\tconst event = custom_event(/** @type {string} */ (type), detail, { cancelable });\n\t\t\tcallbacks.slice().forEach((fn) => {\n\t\t\t\tfn.call(component, event);\n\t\t\t});\n\t\t\treturn !event.defaultPrevented;\n\t\t}\n\t\treturn true;\n\t};\n}\n\n/**\n * Associates an arbitrary `context` object with the current component and the specified `key`\n * and returns that object. The context is then available to children of the component\n * (including slotted content) with `getContext`.\n *\n * Like lifecycle functions, this must be called during component initialisation.\n *\n * https://svelte.dev/docs/svelte#setcontext\n * @template T\n * @param {any} key\n * @param {T} context\n * @returns {T}\n */\nexport function setContext(key, context) {\n\tget_current_component().$$.context.set(key, context);\n\treturn context;\n}\n\n/**\n * Retrieves the context that belongs to the closest parent component with the specified `key`.\n * Must be called during component initialisation.\n *\n * https://svelte.dev/docs/svelte#getcontext\n * @template T\n * @param {any} key\n * @returns {T}\n */\nexport function getContext(key) {\n\treturn get_current_component().$$.context.get(key);\n}\n\n/**\n * Retrieves the whole context map that belongs to the closest parent component.\n * Must be called during component initialisation. Useful, for example, if you\n * programmatically create a component and want to pass the existing context to it.\n *\n * https://svelte.dev/docs/svelte#getallcontexts\n * @template {Map<any, any>} [T=Map<any, any>]\n * @returns {T}\n */\nexport function getAllContexts() {\n\treturn get_current_component().$$.context;\n}\n\n/**\n * Checks whether a given `key` has been set in the context of a parent component.\n * Must be called during component initialisation.\n *\n * https://svelte.dev/docs/svelte#hascontext\n * @param {any} key\n * @returns {boolean}\n */\nexport function hasContext(key) {\n\treturn get_current_component().$$.context.has(key);\n}\n\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\n/**\n * @param component\n * @param event\n * @returns {void}\n */\nexport function bubble(component, event) {\n\tconst callbacks = component.$$.callbacks[event.type];\n\tif (callbacks) {\n\t\t// @ts-ignore\n\t\tcallbacks.slice().forEach((fn) => fn.call(this, event));\n\t}\n}\n", "import { run_all } from './utils.js';\nimport { current_component, set_current_component } from './lifecycle.js';\n\nexport const dirty_components = [];\nexport const intros = { enabled: false };\nexport const binding_callbacks = [];\n\nlet render_callbacks = [];\n\nconst flush_callbacks = [];\n\nconst resolved_promise = /* @__PURE__ */ Promise.resolve();\n\nlet update_scheduled = false;\n\n/** @returns {void} */\nexport function schedule_update() {\n\tif (!update_scheduled) {\n\t\tupdate_scheduled = true;\n\t\tresolved_promise.then(flush);\n\t}\n}\n\n/** @returns {Promise<void>} */\nexport function tick() {\n\tschedule_update();\n\treturn resolved_promise;\n}\n\n/** @returns {void} */\nexport function add_render_callback(fn) {\n\trender_callbacks.push(fn);\n}\n\n/** @returns {void} */\nexport function add_flush_callback(fn) {\n\tflush_callbacks.push(fn);\n}\n\n// flush() calls callbacks in this order:\n// 1. All beforeUpdate callbacks, in order: parents before children\n// 2. All bind:this callbacks, in reverse order: children before parents.\n// 3. All afterUpdate callbacks, in order: parents before children. EXCEPT\n//    for afterUpdates called during the initial onMount, which are called in\n//    reverse order: children before parents.\n// Since callbacks might update component values, which could trigger another\n// call to flush(), the following steps guard against this:\n// 1. During beforeUpdate, any updated components will be added to the\n//    dirty_components array and will cause a reentrant call to flush(). Because\n//    the flush index is kept outside the function, the reentrant call will pick\n//    up where the earlier call left off and go through all dirty components. The\n//    current_component value is saved and restored so that the reentrant call will\n//    not interfere with the \"parent\" flush() call.\n// 2. bind:this callbacks cannot trigger new flush() calls.\n// 3. During afterUpdate, any updated components will NOT have their afterUpdate\n//    callback called a second time; the seen_callbacks set, outside the flush()\n//    function, guarantees this behavior.\nconst seen_callbacks = new Set();\n\nlet flushidx = 0; // Do *not* move this inside the flush() function\n\n/** @returns {void} */\nexport function flush() {\n\t// Do not reenter flush while dirty components are updated, as this can\n\t// result in an infinite loop. Instead, let the inner flush handle it.\n\t// Reentrancy is ok afterwards for bindings etc.\n\tif (flushidx !== 0) {\n\t\treturn;\n\t}\n\tconst saved_component = current_component;\n\tdo {\n\t\t// first, call beforeUpdate functions\n\t\t// and update components\n\t\ttry {\n\t\t\twhile (flushidx < dirty_components.length) {\n\t\t\t\tconst component = dirty_components[flushidx];\n\t\t\t\tflushidx++;\n\t\t\t\tset_current_component(component);\n\t\t\t\tupdate(component.$$);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t// reset dirty state to not end up in a deadlocked state and then rethrow\n\t\t\tdirty_components.length = 0;\n\t\t\tflushidx = 0;\n\t\t\tthrow e;\n\t\t}\n\t\tset_current_component(null);\n\t\tdirty_components.length = 0;\n\t\tflushidx = 0;\n\t\twhile (binding_callbacks.length) binding_callbacks.pop()();\n\t\t// then, once components are updated, call\n\t\t// afterUpdate functions. This may cause\n\t\t// subsequent updates...\n\t\tfor (let i = 0; i < render_callbacks.length; i += 1) {\n\t\t\tconst callback = render_callbacks[i];\n\t\t\tif (!seen_callbacks.has(callback)) {\n\t\t\t\t// ...so guard against infinite loops\n\t\t\t\tseen_callbacks.add(callback);\n\t\t\t\tcallback();\n\t\t\t}\n\t\t}\n\t\trender_callbacks.length = 0;\n\t} while (dirty_components.length);\n\twhile (flush_callbacks.length) {\n\t\tflush_callbacks.pop()();\n\t}\n\tupdate_scheduled = false;\n\tseen_callbacks.clear();\n\tset_current_component(saved_component);\n}\n\n/** @returns {void} */\nfunction update($$) {\n\tif ($$.fragment !== null) {\n\t\t$$.update();\n\t\trun_all($$.before_update);\n\t\tconst dirty = $$.dirty;\n\t\t$$.dirty = [-1];\n\t\t$$.fragment && $$.fragment.p($$.ctx, dirty);\n\t\t$$.after_update.forEach(add_render_callback);\n\t}\n}\n\n/**\n * Useful for example to execute remaining `afterUpdate` callbacks before executing `destroy`.\n * @param {Function[]} fns\n * @returns {void}\n */\nexport function flush_render_callbacks(fns) {\n\tconst filtered = [];\n\tconst targets = [];\n\trender_callbacks.forEach((c) => (fns.indexOf(c) === -1 ? filtered.push(c) : targets.push(c)));\n\ttargets.forEach((c) => c());\n\trender_callbacks = filtered;\n}\n", "import { identity as linear, is_function, noop, run_all } from './utils.js';\nimport { now } from './environment.js';\nimport { loop } from './loop.js';\nimport { create_rule, delete_rule } from './style_manager.js';\nimport { custom_event } from './dom.js';\nimport { add_render_callback } from './scheduler.js';\n\n/**\n * @type {Promise<void> | null}\n */\nlet promise;\n\n/**\n * @returns {Promise<void>}\n */\nfunction wait() {\n\tif (!promise) {\n\t\tpromise = Promise.resolve();\n\t\tpromise.then(() => {\n\t\t\tpromise = null;\n\t\t});\n\t}\n\treturn promise;\n}\n\n/**\n * @param {Element} node\n * @param {INTRO | OUTRO | boolean} direction\n * @param {'start' | 'end'} kind\n * @returns {void}\n */\nfunction dispatch(node, direction, kind) {\n\tnode.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\n\nconst outroing = new Set();\n\n/**\n * @type {Outro}\n */\nlet outros;\n\n/**\n * @returns {void} */\nexport function group_outros() {\n\toutros = {\n\t\tr: 0,\n\t\tc: [],\n\t\tp: outros // parent group\n\t};\n}\n\n/**\n * @returns {void} */\nexport function check_outros() {\n\tif (!outros.r) {\n\t\trun_all(outros.c);\n\t}\n\toutros = outros.p;\n}\n\n/**\n * @param {import('./private.js').Fragment} block\n * @param {0 | 1} [local]\n * @returns {void}\n */\nexport function transition_in(block, local) {\n\tif (block && block.i) {\n\t\toutroing.delete(block);\n\t\tblock.i(local);\n\t}\n}\n\n/**\n * @param {import('./private.js').Fragment} block\n * @param {0 | 1} local\n * @param {0 | 1} [detach]\n * @param {() => void} [callback]\n * @returns {void}\n */\nexport function transition_out(block, local, detach, callback) {\n\tif (block && block.o) {\n\t\tif (outroing.has(block)) return;\n\t\toutroing.add(block);\n\t\toutros.c.push(() => {\n\t\t\toutroing.delete(block);\n\t\t\tif (callback) {\n\t\t\t\tif (detach) block.d(1);\n\t\t\t\tcallback();\n\t\t\t}\n\t\t});\n\t\tblock.o(local);\n\t} else if (callback) {\n\t\tcallback();\n\t}\n}\n\n/**\n * @type {import('../transition/public.js').TransitionConfig}\n */\nconst null_transition = { duration: 0 };\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {TransitionFn} fn\n * @param {any} params\n * @returns {{ start(): void; invalidate(): void; end(): void; }}\n */\nexport function create_in_transition(node, fn, params) {\n\t/**\n\t * @type {TransitionOptions} */\n\tconst options = { direction: 'in' };\n\tlet config = fn(node, params, options);\n\tlet running = false;\n\tlet animation_name;\n\tlet task;\n\tlet uid = 0;\n\n\t/**\n\t * @returns {void} */\n\tfunction cleanup() {\n\t\tif (animation_name) delete_rule(node, animation_name);\n\t}\n\n\t/**\n\t * @returns {void} */\n\tfunction go() {\n\t\tconst {\n\t\t\tdelay = 0,\n\t\t\tduration = 300,\n\t\t\teasing = linear,\n\t\t\ttick = noop,\n\t\t\tcss\n\t\t} = config || null_transition;\n\t\tif (css) animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n\t\ttick(0, 1);\n\t\tconst start_time = now() + delay;\n\t\tconst end_time = start_time + duration;\n\t\tif (task) task.abort();\n\t\trunning = true;\n\t\tadd_render_callback(() => dispatch(node, true, 'start'));\n\t\ttask = loop((now) => {\n\t\t\tif (running) {\n\t\t\t\tif (now >= end_time) {\n\t\t\t\t\ttick(1, 0);\n\t\t\t\t\tdispatch(node, true, 'end');\n\t\t\t\t\tcleanup();\n\t\t\t\t\treturn (running = false);\n\t\t\t\t}\n\t\t\t\tif (now >= start_time) {\n\t\t\t\t\tconst t = easing((now - start_time) / duration);\n\t\t\t\t\ttick(t, 1 - t);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn running;\n\t\t});\n\t}\n\tlet started = false;\n\treturn {\n\t\tstart() {\n\t\t\tif (started) return;\n\t\t\tstarted = true;\n\t\t\tdelete_rule(node);\n\t\t\tif (is_function(config)) {\n\t\t\t\tconfig = config(options);\n\t\t\t\twait().then(go);\n\t\t\t} else {\n\t\t\t\tgo();\n\t\t\t}\n\t\t},\n\t\tinvalidate() {\n\t\t\tstarted = false;\n\t\t},\n\t\tend() {\n\t\t\tif (running) {\n\t\t\t\tcleanup();\n\t\t\t\trunning = false;\n\t\t\t}\n\t\t}\n\t};\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {TransitionFn} fn\n * @param {any} params\n * @returns {{ end(reset: any): void; }}\n */\nexport function create_out_transition(node, fn, params) {\n\t/** @type {TransitionOptions} */\n\tconst options = { direction: 'out' };\n\tlet config = fn(node, params, options);\n\tlet running = true;\n\tlet animation_name;\n\tconst group = outros;\n\tgroup.r += 1;\n\t/** @type {boolean} */\n\tlet original_inert_value;\n\n\t/**\n\t * @returns {void} */\n\tfunction go() {\n\t\tconst {\n\t\t\tdelay = 0,\n\t\t\tduration = 300,\n\t\t\teasing = linear,\n\t\t\ttick = noop,\n\t\t\tcss\n\t\t} = config || null_transition;\n\n\t\tif (css) animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n\n\t\tconst start_time = now() + delay;\n\t\tconst end_time = start_time + duration;\n\t\tadd_render_callback(() => dispatch(node, false, 'start'));\n\n\t\tif ('inert' in node) {\n\t\t\toriginal_inert_value = /** @type {HTMLElement} */ (node).inert;\n\t\t\tnode.inert = true;\n\t\t}\n\n\t\tloop((now) => {\n\t\t\tif (running) {\n\t\t\t\tif (now >= end_time) {\n\t\t\t\t\ttick(0, 1);\n\t\t\t\t\tdispatch(node, false, 'end');\n\t\t\t\t\tif (!--group.r) {\n\t\t\t\t\t\t// this will result in `end()` being called,\n\t\t\t\t\t\t// so we don't need to clean up here\n\t\t\t\t\t\trun_all(group.c);\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (now >= start_time) {\n\t\t\t\t\tconst t = easing((now - start_time) / duration);\n\t\t\t\t\ttick(1 - t, t);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn running;\n\t\t});\n\t}\n\n\tif (is_function(config)) {\n\t\twait().then(() => {\n\t\t\t// @ts-ignore\n\t\t\tconfig = config(options);\n\t\t\tgo();\n\t\t});\n\t} else {\n\t\tgo();\n\t}\n\n\treturn {\n\t\tend(reset) {\n\t\t\tif (reset && 'inert' in node) {\n\t\t\t\tnode.inert = original_inert_value;\n\t\t\t}\n\t\t\tif (reset && config.tick) {\n\t\t\t\tconfig.tick(1, 0);\n\t\t\t}\n\t\t\tif (running) {\n\t\t\t\tif (animation_name) delete_rule(node, animation_name);\n\t\t\t\trunning = false;\n\t\t\t}\n\t\t}\n\t};\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {TransitionFn} fn\n * @param {any} params\n * @param {boolean} intro\n * @returns {{ run(b: 0 | 1): void; end(): void; }}\n */\nexport function create_bidirectional_transition(node, fn, params, intro) {\n\t/**\n\t * @type {TransitionOptions} */\n\tconst options = { direction: 'both' };\n\tlet config = fn(node, params, options);\n\tlet t = intro ? 0 : 1;\n\n\t/**\n\t * @type {Program | null} */\n\tlet running_program = null;\n\n\t/**\n\t * @type {PendingProgram | null} */\n\tlet pending_program = null;\n\tlet animation_name = null;\n\n\t/** @type {boolean} */\n\tlet original_inert_value;\n\n\t/**\n\t * @returns {void} */\n\tfunction clear_animation() {\n\t\tif (animation_name) delete_rule(node, animation_name);\n\t}\n\n\t/**\n\t * @param {PendingProgram} program\n\t * @param {number} duration\n\t * @returns {Program}\n\t */\n\tfunction init(program, duration) {\n\t\tconst d = /** @type {Program['d']} */ (program.b - t);\n\t\tduration *= Math.abs(d);\n\t\treturn {\n\t\t\ta: t,\n\t\t\tb: program.b,\n\t\t\td,\n\t\t\tduration,\n\t\t\tstart: program.start,\n\t\t\tend: program.start + duration,\n\t\t\tgroup: program.group\n\t\t};\n\t}\n\n\t/**\n\t * @param {INTRO | OUTRO} b\n\t * @returns {void}\n\t */\n\tfunction go(b) {\n\t\tconst {\n\t\t\tdelay = 0,\n\t\t\tduration = 300,\n\t\t\teasing = linear,\n\t\t\ttick = noop,\n\t\t\tcss\n\t\t} = config || null_transition;\n\n\t\t/**\n\t\t * @type {PendingProgram} */\n\t\tconst program = {\n\t\t\tstart: now() + delay,\n\t\t\tb\n\t\t};\n\n\t\tif (!b) {\n\t\t\t// @ts-ignore todo: improve typings\n\t\t\tprogram.group = outros;\n\t\t\toutros.r += 1;\n\t\t}\n\n\t\tif ('inert' in node) {\n\t\t\tif (b) {\n\t\t\t\tif (original_inert_value !== undefined) {\n\t\t\t\t\t// aborted/reversed outro \u2014 restore previous inert value\n\t\t\t\t\tnode.inert = original_inert_value;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toriginal_inert_value = /** @type {HTMLElement} */ (node).inert;\n\t\t\t\tnode.inert = true;\n\t\t\t}\n\t\t}\n\n\t\tif (running_program || pending_program) {\n\t\t\tpending_program = program;\n\t\t} else {\n\t\t\t// if this is an intro, and there's a delay, we need to do\n\t\t\t// an initial tick and/or apply CSS animation immediately\n\t\t\tif (css) {\n\t\t\t\tclear_animation();\n\t\t\t\tanimation_name = create_rule(node, t, b, duration, delay, easing, css);\n\t\t\t}\n\t\t\tif (b) tick(0, 1);\n\t\t\trunning_program = init(program, duration);\n\t\t\tadd_render_callback(() => dispatch(node, b, 'start'));\n\t\t\tloop((now) => {\n\t\t\t\tif (pending_program && now > pending_program.start) {\n\t\t\t\t\trunning_program = init(pending_program, duration);\n\t\t\t\t\tpending_program = null;\n\t\t\t\t\tdispatch(node, running_program.b, 'start');\n\t\t\t\t\tif (css) {\n\t\t\t\t\t\tclear_animation();\n\t\t\t\t\t\tanimation_name = create_rule(\n\t\t\t\t\t\t\tnode,\n\t\t\t\t\t\t\tt,\n\t\t\t\t\t\t\trunning_program.b,\n\t\t\t\t\t\t\trunning_program.duration,\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\teasing,\n\t\t\t\t\t\t\tconfig.css\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (running_program) {\n\t\t\t\t\tif (now >= running_program.end) {\n\t\t\t\t\t\ttick((t = running_program.b), 1 - t);\n\t\t\t\t\t\tdispatch(node, running_program.b, 'end');\n\t\t\t\t\t\tif (!pending_program) {\n\t\t\t\t\t\t\t// we're done\n\t\t\t\t\t\t\tif (running_program.b) {\n\t\t\t\t\t\t\t\t// intro \u2014 we can tidy up immediately\n\t\t\t\t\t\t\t\tclear_animation();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// outro \u2014 needs to be coordinated\n\t\t\t\t\t\t\t\tif (!--running_program.group.r) run_all(running_program.group.c);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\trunning_program = null;\n\t\t\t\t\t} else if (now >= running_program.start) {\n\t\t\t\t\t\tconst p = now - running_program.start;\n\t\t\t\t\t\tt = running_program.a + running_program.d * easing(p / running_program.duration);\n\t\t\t\t\t\ttick(t, 1 - t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn !!(running_program || pending_program);\n\t\t\t});\n\t\t}\n\t}\n\treturn {\n\t\trun(b) {\n\t\t\tif (is_function(config)) {\n\t\t\t\twait().then(() => {\n\t\t\t\t\tconst opts = { direction: b ? 'in' : 'out' };\n\t\t\t\t\t// @ts-ignore\n\t\t\t\t\tconfig = config(opts);\n\t\t\t\t\tgo(b);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tgo(b);\n\t\t\t}\n\t\t},\n\t\tend() {\n\t\t\tclear_animation();\n\t\t\trunning_program = pending_program = null;\n\t\t}\n\t};\n}\n\n/** @typedef {1} INTRO */\n/** @typedef {0} OUTRO */\n/** @typedef {{ direction: 'in' | 'out' | 'both' }} TransitionOptions */\n/** @typedef {(node: Element, params: any, options: TransitionOptions) => import('../transition/public.js').TransitionConfig} TransitionFn */\n\n/**\n * @typedef {Object} Outro\n * @property {number} r\n * @property {Function[]} c\n * @property {Object} p\n */\n\n/**\n * @typedef {Object} PendingProgram\n * @property {number} start\n * @property {INTRO|OUTRO} b\n * @property {Outro} [group]\n */\n\n/**\n * @typedef {Object} Program\n * @property {number} a\n * @property {INTRO|OUTRO} b\n * @property {1|-1} d\n * @property {number} duration\n * @property {number} start\n * @property {number} end\n * @property {Outro} [group]\n */\n", "import { is_promise } from './utils.js';\nimport { check_outros, group_outros, transition_in, transition_out } from './transitions.js';\nimport { flush } from './scheduler.js';\nimport { get_current_component, set_current_component } from './lifecycle.js';\n\n/**\n * @template T\n * @param {Promise<T>} promise\n * @param {import('./private.js').PromiseInfo<T>} info\n * @returns {boolean}\n */\nexport function handle_promise(promise, info) {\n\tconst token = (info.token = {});\n\t/**\n\t * @param {import('./private.js').FragmentFactory} type\n\t * @param {0 | 1 | 2} index\n\t * @param {number} [key]\n\t * @param {any} [value]\n\t * @returns {void}\n\t */\n\tfunction update(type, index, key, value) {\n\t\tif (info.token !== token) return;\n\t\tinfo.resolved = value;\n\t\tlet child_ctx = info.ctx;\n\t\tif (key !== undefined) {\n\t\t\tchild_ctx = child_ctx.slice();\n\t\t\tchild_ctx[key] = value;\n\t\t}\n\t\tconst block = type && (info.current = type)(child_ctx);\n\t\tlet needs_flush = false;\n\t\tif (info.block) {\n\t\t\tif (info.blocks) {\n\t\t\t\tinfo.blocks.forEach((block, i) => {\n\t\t\t\t\tif (i !== index && block) {\n\t\t\t\t\t\tgroup_outros();\n\t\t\t\t\t\ttransition_out(block, 1, 1, () => {\n\t\t\t\t\t\t\tif (info.blocks[i] === block) {\n\t\t\t\t\t\t\t\tinfo.blocks[i] = null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcheck_outros();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tinfo.block.d(1);\n\t\t\t}\n\t\t\tblock.c();\n\t\t\ttransition_in(block, 1);\n\t\t\tblock.m(info.mount(), info.anchor);\n\t\t\tneeds_flush = true;\n\t\t}\n\t\tinfo.block = block;\n\t\tif (info.blocks) info.blocks[index] = block;\n\t\tif (needs_flush) {\n\t\t\tflush();\n\t\t}\n\t}\n\tif (is_promise(promise)) {\n\t\tconst current_component = get_current_component();\n\t\tpromise.then(\n\t\t\t(value) => {\n\t\t\t\tset_current_component(current_component);\n\t\t\t\tupdate(info.then, 1, info.value, value);\n\t\t\t\tset_current_component(null);\n\t\t\t},\n\t\t\t(error) => {\n\t\t\t\tset_current_component(current_component);\n\t\t\t\tupdate(info.catch, 2, info.error, error);\n\t\t\t\tset_current_component(null);\n\t\t\t\tif (!info.hasCatch) {\n\t\t\t\t\tthrow error;\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t\t// if we previously had a then/catch block, destroy it\n\t\tif (info.current !== info.pending) {\n\t\t\tupdate(info.pending, 0);\n\t\t\treturn true;\n\t\t}\n\t} else {\n\t\tif (info.current !== info.then) {\n\t\t\tupdate(info.then, 1, info.value, promise);\n\t\t\treturn true;\n\t\t}\n\t\tinfo.resolved = /** @type {T} */ (promise);\n\t}\n}\n\n/** @returns {void} */\nexport function update_await_block_branch(info, ctx, dirty) {\n\tconst child_ctx = ctx.slice();\n\tconst { resolved } = info;\n\tif (info.current === info.then) {\n\t\tchild_ctx[info.value] = resolved;\n\t}\n\tif (info.current === info.catch) {\n\t\tchild_ctx[info.error] = resolved;\n\t}\n\tinfo.block.p(child_ctx, dirty);\n}\n", "import { transition_in, transition_out } from './transitions.js';\nimport { run_all } from './utils.js';\n\n// general each functions:\n\nexport function ensure_array_like(array_like_or_iterator) {\n\treturn array_like_or_iterator?.length !== undefined\n\t\t? array_like_or_iterator\n\t\t: Array.from(array_like_or_iterator);\n}\n\n// keyed each functions:\n\n/** @returns {void} */\nexport function destroy_block(block, lookup) {\n\tblock.d(1);\n\tlookup.delete(block.key);\n}\n\n/** @returns {void} */\nexport function outro_and_destroy_block(block, lookup) {\n\ttransition_out(block, 1, 1, () => {\n\t\tlookup.delete(block.key);\n\t});\n}\n\n/** @returns {void} */\nexport function fix_and_destroy_block(block, lookup) {\n\tblock.f();\n\tdestroy_block(block, lookup);\n}\n\n/** @returns {void} */\nexport function fix_and_outro_and_destroy_block(block, lookup) {\n\tblock.f();\n\toutro_and_destroy_block(block, lookup);\n}\n\n/** @returns {any[]} */\nexport function update_keyed_each(\n\told_blocks,\n\tdirty,\n\tget_key,\n\tdynamic,\n\tctx,\n\tlist,\n\tlookup,\n\tnode,\n\tdestroy,\n\tcreate_each_block,\n\tnext,\n\tget_context\n) {\n\tlet o = old_blocks.length;\n\tlet n = list.length;\n\tlet i = o;\n\tconst old_indexes = {};\n\twhile (i--) old_indexes[old_blocks[i].key] = i;\n\tconst new_blocks = [];\n\tconst new_lookup = new Map();\n\tconst deltas = new Map();\n\tconst updates = [];\n\ti = n;\n\twhile (i--) {\n\t\tconst child_ctx = get_context(ctx, list, i);\n\t\tconst key = get_key(child_ctx);\n\t\tlet block = lookup.get(key);\n\t\tif (!block) {\n\t\t\tblock = create_each_block(key, child_ctx);\n\t\t\tblock.c();\n\t\t} else if (dynamic) {\n\t\t\t// defer updates until all the DOM shuffling is done\n\t\t\tupdates.push(() => block.p(child_ctx, dirty));\n\t\t}\n\t\tnew_lookup.set(key, (new_blocks[i] = block));\n\t\tif (key in old_indexes) deltas.set(key, Math.abs(i - old_indexes[key]));\n\t}\n\tconst will_move = new Set();\n\tconst did_move = new Set();\n\t/** @returns {void} */\n\tfunction insert(block) {\n\t\ttransition_in(block, 1);\n\t\tblock.m(node, next);\n\t\tlookup.set(block.key, block);\n\t\tnext = block.first;\n\t\tn--;\n\t}\n\twhile (o && n) {\n\t\tconst new_block = new_blocks[n - 1];\n\t\tconst old_block = old_blocks[o - 1];\n\t\tconst new_key = new_block.key;\n\t\tconst old_key = old_block.key;\n\t\tif (new_block === old_block) {\n\t\t\t// do nothing\n\t\t\tnext = new_block.first;\n\t\t\to--;\n\t\t\tn--;\n\t\t} else if (!new_lookup.has(old_key)) {\n\t\t\t// remove old block\n\t\t\tdestroy(old_block, lookup);\n\t\t\to--;\n\t\t} else if (!lookup.has(new_key) || will_move.has(new_key)) {\n\t\t\tinsert(new_block);\n\t\t} else if (did_move.has(old_key)) {\n\t\t\to--;\n\t\t} else if (deltas.get(new_key) > deltas.get(old_key)) {\n\t\t\tdid_move.add(new_key);\n\t\t\tinsert(new_block);\n\t\t} else {\n\t\t\twill_move.add(old_key);\n\t\t\to--;\n\t\t}\n\t}\n\twhile (o--) {\n\t\tconst old_block = old_blocks[o];\n\t\tif (!new_lookup.has(old_block.key)) destroy(old_block, lookup);\n\t}\n\twhile (n) insert(new_blocks[n - 1]);\n\trun_all(updates);\n\treturn new_blocks;\n}\n\n/** @returns {void} */\nexport function validate_each_keys(ctx, list, get_context, get_key) {\n\tconst keys = new Map();\n\tfor (let i = 0; i < list.length; i++) {\n\t\tconst key = get_key(get_context(ctx, list, i));\n\t\tif (keys.has(key)) {\n\t\t\tlet value = '';\n\t\t\ttry {\n\t\t\t\tvalue = `with value '${String(key)}' `;\n\t\t\t} catch (e) {\n\t\t\t\t// can't stringify\n\t\t\t}\n\t\t\tthrow new Error(\n\t\t\t\t`Cannot have duplicate keys in a keyed each: Keys at index ${keys.get(\n\t\t\t\t\tkey\n\t\t\t\t)} and ${i} ${value}are duplicates`\n\t\t\t);\n\t\t}\n\t\tkeys.set(key, i);\n\t}\n}\n", "const _boolean_attributes = /** @type {const} */ ([\n\t'allowfullscreen',\n\t'allowpaymentrequest',\n\t'async',\n\t'autofocus',\n\t'autoplay',\n\t'checked',\n\t'controls',\n\t'default',\n\t'defer',\n\t'disabled',\n\t'formnovalidate',\n\t'hidden',\n\t'inert',\n\t'ismap',\n\t'loop',\n\t'multiple',\n\t'muted',\n\t'nomodule',\n\t'novalidate',\n\t'open',\n\t'playsinline',\n\t'readonly',\n\t'required',\n\t'reversed',\n\t'selected'\n]);\n\n/**\n * List of HTML boolean attributes (e.g. `<input disabled>`).\n * Source: https://html.spec.whatwg.org/multipage/indices.html\n *\n * @type {Set<string>}\n */\nexport const boolean_attributes = new Set([..._boolean_attributes]);\n\n/** @typedef {typeof _boolean_attributes[number]} BooleanAttributes */\n", "import {\n\tadd_render_callback,\n\tflush,\n\tflush_render_callbacks,\n\tschedule_update,\n\tdirty_components\n} from './scheduler.js';\nimport { current_component, set_current_component } from './lifecycle.js';\nimport { blank_object, is_empty, is_function, run, run_all, noop } from './utils.js';\nimport {\n\tchildren,\n\tdetach,\n\tstart_hydrating,\n\tend_hydrating,\n\tget_custom_elements_slots,\n\tinsert,\n\telement,\n\tattr\n} from './dom.js';\nimport { transition_in } from './transitions.js';\n\n/** @returns {void} */\nexport function bind(component, name, callback) {\n\tconst index = component.$$.props[name];\n\tif (index !== undefined) {\n\t\tcomponent.$$.bound[index] = callback;\n\t\tcallback(component.$$.ctx[index]);\n\t}\n}\n\n/** @returns {void} */\nexport function create_component(block) {\n\tblock && block.c();\n}\n\n/** @returns {void} */\nexport function claim_component(block, parent_nodes) {\n\tblock && block.l(parent_nodes);\n}\n\n/** @returns {void} */\nexport function mount_component(component, target, anchor) {\n\tconst { fragment, after_update } = component.$$;\n\tfragment && fragment.m(target, anchor);\n\t// onMount happens before the initial afterUpdate\n\tadd_render_callback(() => {\n\t\tconst new_on_destroy = component.$$.on_mount.map(run).filter(is_function);\n\t\t// if the component was destroyed immediately\n\t\t// it will update the `$$.on_destroy` reference to `null`.\n\t\t// the destructured on_destroy may still reference to the old array\n\t\tif (component.$$.on_destroy) {\n\t\t\tcomponent.$$.on_destroy.push(...new_on_destroy);\n\t\t} else {\n\t\t\t// Edge case - component was destroyed immediately,\n\t\t\t// most likely as a result of a binding initialising\n\t\t\trun_all(new_on_destroy);\n\t\t}\n\t\tcomponent.$$.on_mount = [];\n\t});\n\tafter_update.forEach(add_render_callback);\n}\n\n/** @returns {void} */\nexport function destroy_component(component, detaching) {\n\tconst $$ = component.$$;\n\tif ($$.fragment !== null) {\n\t\tflush_render_callbacks($$.after_update);\n\t\trun_all($$.on_destroy);\n\t\t$$.fragment && $$.fragment.d(detaching);\n\t\t// TODO null out other refs, including component.$$ (but need to\n\t\t// preserve final state?)\n\t\t$$.on_destroy = $$.fragment = null;\n\t\t$$.ctx = [];\n\t}\n}\n\n/** @returns {void} */\nfunction make_dirty(component, i) {\n\tif (component.$$.dirty[0] === -1) {\n\t\tdirty_components.push(component);\n\t\tschedule_update();\n\t\tcomponent.$$.dirty.fill(0);\n\t}\n\tcomponent.$$.dirty[(i / 31) | 0] |= 1 << i % 31;\n}\n\n// TODO: Document the other params\n/**\n * @param {SvelteComponent} component\n * @param {import('./public.js').ComponentConstructorOptions} options\n *\n * @param {import('./utils.js')['not_equal']} not_equal Used to compare props and state values.\n * @param {(target: Element | ShadowRoot) => void} [append_styles] Function that appends styles to the DOM when the component is first initialised.\n * This will be the `add_css` function from the compiled component.\n *\n * @returns {void}\n */\nexport function init(\n\tcomponent,\n\toptions,\n\tinstance,\n\tcreate_fragment,\n\tnot_equal,\n\tprops,\n\tappend_styles = null,\n\tdirty = [-1]\n) {\n\tconst parent_component = current_component;\n\tset_current_component(component);\n\t/** @type {import('./private.js').T$$} */\n\tconst $$ = (component.$$ = {\n\t\tfragment: null,\n\t\tctx: [],\n\t\t// state\n\t\tprops,\n\t\tupdate: noop,\n\t\tnot_equal,\n\t\tbound: blank_object(),\n\t\t// lifecycle\n\t\ton_mount: [],\n\t\ton_destroy: [],\n\t\ton_disconnect: [],\n\t\tbefore_update: [],\n\t\tafter_update: [],\n\t\tcontext: new Map(options.context || (parent_component ? parent_component.$$.context : [])),\n\t\t// everything else\n\t\tcallbacks: blank_object(),\n\t\tdirty,\n\t\tskip_bound: false,\n\t\troot: options.target || parent_component.$$.root\n\t});\n\tappend_styles && append_styles($$.root);\n\tlet ready = false;\n\t$$.ctx = instance\n\t\t? instance(component, options.props || {}, (i, ret, ...rest) => {\n\t\t\t\tconst value = rest.length ? rest[0] : ret;\n\t\t\t\tif ($$.ctx && not_equal($$.ctx[i], ($$.ctx[i] = value))) {\n\t\t\t\t\tif (!$$.skip_bound && $$.bound[i]) $$.bound[i](value);\n\t\t\t\t\tif (ready) make_dirty(component, i);\n\t\t\t\t}\n\t\t\t\treturn ret;\n\t\t  })\n\t\t: [];\n\t$$.update();\n\tready = true;\n\trun_all($$.before_update);\n\t// `false` as a special case of no DOM component\n\t$$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n\tif (options.target) {\n\t\tif (options.hydrate) {\n\t\t\tstart_hydrating();\n\t\t\t// TODO: what is the correct type here?\n\t\t\t// @ts-expect-error\n\t\t\tconst nodes = children(options.target);\n\t\t\t$$.fragment && $$.fragment.l(nodes);\n\t\t\tnodes.forEach(detach);\n\t\t} else {\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\t$$.fragment && $$.fragment.c();\n\t\t}\n\t\tif (options.intro) transition_in(component.$$.fragment);\n\t\tmount_component(component, options.target, options.anchor);\n\t\tend_hydrating();\n\t\tflush();\n\t}\n\tset_current_component(parent_component);\n}\n\nexport let SvelteElement;\n\nif (typeof HTMLElement === 'function') {\n\tSvelteElement = class extends HTMLElement {\n\t\t/** The Svelte component constructor */\n\t\t$$ctor;\n\t\t/** Slots */\n\t\t$$s;\n\t\t/** The Svelte component instance */\n\t\t$$c;\n\t\t/** Whether or not the custom element is connected */\n\t\t$$cn = false;\n\t\t/** Component props data */\n\t\t$$d = {};\n\t\t/** `true` if currently in the process of reflecting component props back to attributes */\n\t\t$$r = false;\n\t\t/** @type {Record<string, CustomElementPropDefinition>} Props definition (name, reflected, type etc) */\n\t\t$$p_d = {};\n\t\t/** @type {Record<string, Function[]>} Event listeners */\n\t\t$$l = {};\n\t\t/** @type {Map<Function, Function>} Event listener unsubscribe functions */\n\t\t$$l_u = new Map();\n\n\t\tconstructor($$componentCtor, $$slots, use_shadow_dom) {\n\t\t\tsuper();\n\t\t\tthis.$$ctor = $$componentCtor;\n\t\t\tthis.$$s = $$slots;\n\t\t\tif (use_shadow_dom) {\n\t\t\t\tthis.attachShadow({ mode: 'open' });\n\t\t\t}\n\t\t}\n\n\t\taddEventListener(type, listener, options) {\n\t\t\t// We can't determine upfront if the event is a custom event or not, so we have to\n\t\t\t// listen to both. If someone uses a custom event with the same name as a regular\n\t\t\t// browser event, this fires twice - we can't avoid that.\n\t\t\tthis.$$l[type] = this.$$l[type] || [];\n\t\t\tthis.$$l[type].push(listener);\n\t\t\tif (this.$$c) {\n\t\t\t\tconst unsub = this.$$c.$on(type, listener);\n\t\t\t\tthis.$$l_u.set(listener, unsub);\n\t\t\t}\n\t\t\tsuper.addEventListener(type, listener, options);\n\t\t}\n\n\t\tremoveEventListener(type, listener, options) {\n\t\t\tsuper.removeEventListener(type, listener, options);\n\t\t\tif (this.$$c) {\n\t\t\t\tconst unsub = this.$$l_u.get(listener);\n\t\t\t\tif (unsub) {\n\t\t\t\t\tunsub();\n\t\t\t\t\tthis.$$l_u.delete(listener);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tasync connectedCallback() {\n\t\t\tthis.$$cn = true;\n\t\t\tif (!this.$$c) {\n\t\t\t\t// We wait one tick to let possible child slot elements be created/mounted\n\t\t\t\tawait Promise.resolve();\n\t\t\t\tif (!this.$$cn || this.$$c) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tfunction create_slot(name) {\n\t\t\t\t\treturn () => {\n\t\t\t\t\t\tlet node;\n\t\t\t\t\t\tconst obj = {\n\t\t\t\t\t\t\tc: function create() {\n\t\t\t\t\t\t\t\tnode = element('slot');\n\t\t\t\t\t\t\t\tif (name !== 'default') {\n\t\t\t\t\t\t\t\t\tattr(node, 'name', name);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t * @param {HTMLElement} target\n\t\t\t\t\t\t\t * @param {HTMLElement} [anchor]\n\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\tm: function mount(target, anchor) {\n\t\t\t\t\t\t\t\tinsert(target, node, anchor);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\td: function destroy(detaching) {\n\t\t\t\t\t\t\t\tif (detaching) {\n\t\t\t\t\t\t\t\t\tdetach(node);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\treturn obj;\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tconst $$slots = {};\n\t\t\t\tconst existing_slots = get_custom_elements_slots(this);\n\t\t\t\tfor (const name of this.$$s) {\n\t\t\t\t\tif (name in existing_slots) {\n\t\t\t\t\t\t$$slots[name] = [create_slot(name)];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor (const attribute of this.attributes) {\n\t\t\t\t\t// this.$$data takes precedence over this.attributes\n\t\t\t\t\tconst name = this.$$g_p(attribute.name);\n\t\t\t\t\tif (!(name in this.$$d)) {\n\t\t\t\t\t\tthis.$$d[name] = get_custom_element_value(name, attribute.value, this.$$p_d, 'toProp');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// Port over props that were set programmatically before ce was initialized\n\t\t\t\tfor (const key in this.$$p_d) {\n\t\t\t\t\tif (!(key in this.$$d) && this[key] !== undefined) {\n\t\t\t\t\t\tthis.$$d[key] = this[key]; // don't transform, these were set through JavaScript\n\t\t\t\t\t\tdelete this[key]; // remove the property that shadows the getter/setter\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.$$c = new this.$$ctor({\n\t\t\t\t\ttarget: this.shadowRoot || this,\n\t\t\t\t\tprops: {\n\t\t\t\t\t\t...this.$$d,\n\t\t\t\t\t\t$$slots,\n\t\t\t\t\t\t$$scope: {\n\t\t\t\t\t\t\tctx: []\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// Reflect component props as attributes\n\t\t\t\tconst reflect_attributes = () => {\n\t\t\t\t\tthis.$$r = true;\n\t\t\t\t\tfor (const key in this.$$p_d) {\n\t\t\t\t\t\tthis.$$d[key] = this.$$c.$$.ctx[this.$$c.$$.props[key]];\n\t\t\t\t\t\tif (this.$$p_d[key].reflect) {\n\t\t\t\t\t\t\tconst attribute_value = get_custom_element_value(\n\t\t\t\t\t\t\t\tkey,\n\t\t\t\t\t\t\t\tthis.$$d[key],\n\t\t\t\t\t\t\t\tthis.$$p_d,\n\t\t\t\t\t\t\t\t'toAttribute'\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif (attribute_value == null) {\n\t\t\t\t\t\t\t\tthis.removeAttribute(this.$$p_d[key].attribute || key);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.setAttribute(this.$$p_d[key].attribute || key, attribute_value);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.$$r = false;\n\t\t\t\t};\n\t\t\t\tthis.$$c.$$.after_update.push(reflect_attributes);\n\t\t\t\treflect_attributes(); // once initially because after_update is added too late for first render\n\n\t\t\t\tfor (const type in this.$$l) {\n\t\t\t\t\tfor (const listener of this.$$l[type]) {\n\t\t\t\t\t\tconst unsub = this.$$c.$on(type, listener);\n\t\t\t\t\t\tthis.$$l_u.set(listener, unsub);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.$$l = {};\n\t\t\t}\n\t\t}\n\n\t\t// We don't need this when working within Svelte code, but for compatibility of people using this outside of Svelte\n\t\t// and setting attributes through setAttribute etc, this is helpful\n\t\tattributeChangedCallback(attr, _oldValue, newValue) {\n\t\t\tif (this.$$r) return;\n\t\t\tattr = this.$$g_p(attr);\n\t\t\tthis.$$d[attr] = get_custom_element_value(attr, newValue, this.$$p_d, 'toProp');\n\t\t\tthis.$$c?.$set({ [attr]: this.$$d[attr] });\n\t\t}\n\n\t\tdisconnectedCallback() {\n\t\t\tthis.$$cn = false;\n\t\t\t// In a microtask, because this could be a move within the DOM\n\t\t\tPromise.resolve().then(() => {\n\t\t\t\tif (!this.$$cn && this.$$c) {\n\t\t\t\t\tthis.$$c.$destroy();\n\t\t\t\t\tthis.$$c = undefined;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t$$g_p(attribute_name) {\n\t\t\treturn (\n\t\t\t\tObject.keys(this.$$p_d).find(\n\t\t\t\t\t(key) =>\n\t\t\t\t\t\tthis.$$p_d[key].attribute === attribute_name ||\n\t\t\t\t\t\t(!this.$$p_d[key].attribute && key.toLowerCase() === attribute_name)\n\t\t\t\t) || attribute_name\n\t\t\t);\n\t\t}\n\t};\n}\n\n/**\n * @param {string} prop\n * @param {any} value\n * @param {Record<string, CustomElementPropDefinition>} props_definition\n * @param {'toAttribute' | 'toProp'} [transform]\n */\nfunction get_custom_element_value(prop, value, props_definition, transform) {\n\tconst type = props_definition[prop]?.type;\n\tvalue = type === 'Boolean' && typeof value !== 'boolean' ? value != null : value;\n\tif (!transform || !props_definition[prop]) {\n\t\treturn value;\n\t} else if (transform === 'toAttribute') {\n\t\tswitch (type) {\n\t\t\tcase 'Object':\n\t\t\tcase 'Array':\n\t\t\t\treturn value == null ? null : JSON.stringify(value);\n\t\t\tcase 'Boolean':\n\t\t\t\treturn value ? '' : null;\n\t\t\tcase 'Number':\n\t\t\t\treturn value == null ? null : value;\n\t\t\tdefault:\n\t\t\t\treturn value;\n\t\t}\n\t} else {\n\t\tswitch (type) {\n\t\t\tcase 'Object':\n\t\t\tcase 'Array':\n\t\t\t\treturn value && JSON.parse(value);\n\t\t\tcase 'Boolean':\n\t\t\t\treturn value; // conversion already handled above\n\t\t\tcase 'Number':\n\t\t\t\treturn value != null ? +value : value;\n\t\t\tdefault:\n\t\t\t\treturn value;\n\t\t}\n\t}\n}\n\n/**\n * @internal\n *\n * Turn a Svelte component into a custom element.\n * @param {import('./public.js').ComponentType} Component  A Svelte component constructor\n * @param {Record<string, CustomElementPropDefinition>} props_definition  The props to observe\n * @param {string[]} slots  The slots to create\n * @param {string[]} accessors  Other accessors besides the ones for props the component has\n * @param {boolean} use_shadow_dom  Whether to use shadow DOM\n * @param {(ce: new () => HTMLElement) => new () => HTMLElement} [extend]\n */\nexport function create_custom_element(\n\tComponent,\n\tprops_definition,\n\tslots,\n\taccessors,\n\tuse_shadow_dom,\n\textend\n) {\n\tlet Class = class extends SvelteElement {\n\t\tconstructor() {\n\t\t\tsuper(Component, slots, use_shadow_dom);\n\t\t\tthis.$$p_d = props_definition;\n\t\t}\n\t\tstatic get observedAttributes() {\n\t\t\treturn Object.keys(props_definition).map((key) =>\n\t\t\t\t(props_definition[key].attribute || key).toLowerCase()\n\t\t\t);\n\t\t}\n\t};\n\tObject.keys(props_definition).forEach((prop) => {\n\t\tObject.defineProperty(Class.prototype, prop, {\n\t\t\tget() {\n\t\t\t\treturn this.$$c && prop in this.$$c ? this.$$c[prop] : this.$$d[prop];\n\t\t\t},\n\t\t\tset(value) {\n\t\t\t\tvalue = get_custom_element_value(prop, value, props_definition);\n\t\t\t\tthis.$$d[prop] = value;\n\t\t\t\tthis.$$c?.$set({ [prop]: value });\n\t\t\t}\n\t\t});\n\t});\n\taccessors.forEach((accessor) => {\n\t\tObject.defineProperty(Class.prototype, accessor, {\n\t\t\tget() {\n\t\t\t\treturn this.$$c?.[accessor];\n\t\t\t}\n\t\t});\n\t});\n\tif (extend) {\n\t\t// @ts-expect-error - assigning here is fine\n\t\tClass = extend(Class);\n\t}\n\tComponent.element = /** @type {any} */ (Class);\n\treturn Class;\n}\n\n/**\n * Base class for Svelte components. Used when dev=false.\n *\n * @template {Record<string, any>} [Props=any]\n * @template {Record<string, any>} [Events=any]\n */\nexport class SvelteComponent {\n\t/**\n\t * ### PRIVATE API\n\t *\n\t * Do not use, may change at any time\n\t *\n\t * @type {any}\n\t */\n\t$$ = undefined;\n\t/**\n\t * ### PRIVATE API\n\t *\n\t * Do not use, may change at any time\n\t *\n\t * @type {any}\n\t */\n\t$$set = undefined;\n\n\t/** @returns {void} */\n\t$destroy() {\n\t\tdestroy_component(this, 1);\n\t\tthis.$destroy = noop;\n\t}\n\n\t/**\n\t * @template {Extract<keyof Events, string>} K\n\t * @param {K} type\n\t * @param {((e: Events[K]) => void) | null | undefined} callback\n\t * @returns {() => void}\n\t */\n\t$on(type, callback) {\n\t\tif (!is_function(callback)) {\n\t\t\treturn noop;\n\t\t}\n\t\tconst callbacks = this.$$.callbacks[type] || (this.$$.callbacks[type] = []);\n\t\tcallbacks.push(callback);\n\t\treturn () => {\n\t\t\tconst index = callbacks.indexOf(callback);\n\t\t\tif (index !== -1) callbacks.splice(index, 1);\n\t\t};\n\t}\n\n\t/**\n\t * @param {Partial<Props>} props\n\t * @returns {void}\n\t */\n\t$set(props) {\n\t\tif (this.$$set && !is_empty(props)) {\n\t\t\tthis.$$.skip_bound = true;\n\t\t\tthis.$$set(props);\n\t\t\tthis.$$.skip_bound = false;\n\t\t}\n\t}\n}\n\n/**\n * @typedef {Object} CustomElementPropDefinition\n * @property {string} [attribute]\n * @property {boolean} [reflect]\n * @property {'String'|'Boolean'|'Number'|'Array'|'Object'} [type]\n */\n", "// generated during release, do not modify\n\n/**\n * The current version, as set in package.json.\n *\n * https://svelte.dev/docs/svelte-compiler#svelte-version\n * @type {string}\n */\nexport const VERSION = '4.2.19';\nexport const PUBLIC_VERSION = '4';\n", "import { PUBLIC_VERSION } from '../../../shared/version.js';\n\nif (typeof window !== 'undefined')\n\t// @ts-ignore\n\t(window.__svelte || (window.__svelte = { v: new Set() })).v.add(PUBLIC_VERSION);\n", "export const __deleteCommentPrompt = \"deleteCommentPrompt\";\r\nexport const __downloadDemoHeader = \"downloadDemoHeader\";\r\nexport const __featureHint_desc = \"featureHint_desc\";\r\nexport const __featureHint_reminder = \"featureHint_reminder\";\r\nexport const __thewordyes = \"thewordyes\";\r\nexport const __thewordno = \"thewordno\";\r\nexport const __theworderror = \"theworderror\";\r\nexport const __noData = \"noData\";\r\nexport const __toomanyrequests = \"toomanyrequests\";\r\nexport const __showComments = \"showComments\";\r\nexport const __hideComments = \"hideComments\";\r\nexport const __thewordunknown = \"thewordunknown\";\r\nexport const __calcWorkshopSize_fileSize = \"calcWorkshopSize_fileSize\";\r\nexport const __calcWorkshopSize_calcSize = \"calcWorkshopSize_calcSize\";\r\nexport const __calcWorkshopSize_calcLoading = \"calcWorkshopSize_calcLoading\";\r\nexport const __calcWorkshopSize_calcFinished = \"calcWorkshopSize_calcFinished\";\r\nexport const __calcWorkshopSize_totalSize = \"calcWorkshopSize_totalSize\";\r\nexport const __cart = \"cart\";\r\nexport const __inCart = \"inCart\";\r\nexport const __steamidOfUser = \"steamidOfUser\";\r\nexport const __copied = \"copied\";\r\nexport const __viewSteamid = \"viewSteamid\";\r\nexport const __moreOnSteampeek = \"moreOnSteampeek\";\r\nexport const __date = \"date\";\r\nexport const __rating = \"rating\";\r\nexport const __helpful = \"helpful\";\r\nexport const __funny = \"funny\";\r\nexport const __length = \"length\";\r\nexport const __visibility = \"visibility\";\r\nexport const __processing = \"processing\";\r\nexport const __wait = \"wait\";\r\nexport const __inviteFriends = \"inviteFriends\";\r\nexport const __inviteToGroup = \"inviteToGroup\";\r\nexport const __inverse = \"inverse\";\r\nexport const __transactionStatus = \"transactionStatus\";\r\nexport const __customTags = \"customTags\";\r\nexport const __addTag = \"addTag\";\r\nexport const __enterTag = \"enterTag\";\r\nexport const __status = \"status\";\r\nexport const __connect = \"connect\";\r\nexport const __connected = \"connected\";\r\nexport const __disconnect = \"disconnect\";\r\nexport const __disconnected = \"disconnected\";\r\nexport const __oneclickgoo = \"oneclickgoo\";\r\nexport const __viewInLibrary = \"viewInLibrary\";\r\nexport const __support = \"support\";\r\nexport const __email = \"email\";\r\nexport const __contact = \"contact\";\r\nexport const __favEmoticonsDragging = \"favEmoticonsDragging\";\r\nexport const __favEmoticonsNoAccess = \"favEmoticonsNoAccess\";\r\nexport const __postHistory = \"postHistory\";\r\nexport const __addNickname = \"addNickname\";\r\nexport const __totalSize = \"totalSize\";\r\nexport const __dlcDetails = \"dlcDetails\";\r\nexport const __badgeNotUnlocked = \"badgeNotUnlocked\";\r\nexport const __badgeLevel = \"badgeLevel\";\r\nexport const __each = \"each\";\r\nexport const __viewInMarket = \"viewInMarket\";\r\nexport const __remove = \"remove\";\r\nexport const __getHelp = \"getHelp\";\r\nexport const __addSelectedDlcToCart = \"addSelectedDlcToCart\";\r\nexport const __close = \"close\";\r\nexport const __error = \"error\";\r\nexport const __go = \"go\";\r\nexport const __activate = \"activate\";\r\nexport const __activateMultipleHeader = \"activateMultipleHeader\";\r\nexport const __activateMultiple = \"activateMultiple\";\r\nexport const __activateProducts = \"activateProducts\";\r\nexport const __couponApplicationNote = \"couponApplicationNote\";\r\nexport const __hide = \"hide\";\r\nexport const __filters = \"filters\";\r\nexport const __cardsOwned = \"cardsOwned\";\r\nexport const __libraryMenu = \"libraryMenu\";\r\nexport const __clearCache = \"clearCache\";\r\nexport const __translation = \"translation\";\r\nexport const __helpTranslate = \"helpTranslate\";\r\nexport const __lowest = \"lowest\";\r\nexport const __lowestPrice = \"lowestPrice\";\r\nexport const __viewBadgeProgress = \"viewBadgeProgress\";\r\nexport const __badgeProgress = \"badgeProgress\";\r\nexport const __salesTotal = \"salesTotal\";\r\nexport const __viewNormalBadge = \"viewNormalBadge\";\r\nexport const __apppageSections = \"apppageSections\";\r\nexport const __website = \"website\";\r\nexport const __games = \"games\";\r\nexport const __badgeCompletionCost = \"badgeCompletionCost\";\r\nexport const __loading = \"loading\";\r\nexport const __selling = \"selling\";\r\nexport const __quickSell = \"quickSell\";\r\nexport const __quickSellDesc = \"quickSellDesc\";\r\nexport const __instantSell = \"instantSell\";\r\nexport const __instantSellDesc = \"instantSellDesc\";\r\nexport const __quickSellVerify = \"quickSellVerify\";\r\nexport const __startingAt = \"startingAt\";\r\nexport const __homepageTabs = \"homepageTabs\";\r\nexport const __store = \"store\";\r\nexport const __viewInStore = \"viewInStore\";\r\nexport const __communityHub = \"communityHub\";\r\nexport const __viewOnWebsite = \"viewOnWebsite\";\r\nexport const __drmThirdParty = \"drmThirdParty\";\r\nexport const __hoursShort = \"hoursShort\";\r\nexport const __spamCommentShow = \"spamCommentShow\";\r\nexport const __addToWishlist = \"addToWishlist\";\r\nexport const __addFullgameToWishlist = \"addFullgameToWishlist\";\r\nexport const __addToWaitlist = \"addToWaitlist\";\r\nexport const __addFullgameToWaitlist = \"addFullgameToWaitlist\";\r\nexport const __removeFromWaitlistTooltip = \"removeFromWaitlistTooltip\";\r\nexport const __removeFullgameFromWaitlistTooltip = \"removeFullgameFromWaitlistTooltip\";\r\nexport const __removeFromWishlistAndWaitlistTooltip = \"removeFromWishlistAndWaitlistTooltip\";\r\nexport const __removeFullgameFromWishlistAndWaitlistTooltip = \"removeFullgameFromWishlistAndWaitlistTooltip\";\r\nexport const __language = \"language\";\r\nexport const __theworddefault = \"theworddefault\";\r\nexport const __thewordclear = \"thewordclear\";\r\nexport const __couponLearnMore_linkText = \"couponLearnMore_linkText\";\r\nexport const __couponLearnMore_fullText = \"couponLearnMore_fullText\";\r\nexport const __show = \"show\";\r\nexport const __showAll = \"showAll\";\r\nexport const __badgesAll = \"badgesAll\";\r\nexport const __esSupporter = \"esSupporter\";\r\nexport const __community = \"community\";\r\nexport const __ownedCollection = \"ownedCollection\";\r\nexport const __viewBadge = \"viewBadge\";\r\nexport const __purchaseTotal = \"purchaseTotal\";\r\nexport const __viewFoilBadge = \"viewFoilBadge\";\r\nexport const __viewAstats = \"viewAstats\";\r\nexport const __contribute = \"contribute\";\r\nexport const __reviews = \"reviews\";\r\nexport const __readReviews = \"readReviews\";\r\nexport const __readMoreReviews = \"readMoreReviews\";\r\nexport const __youtubeGameplay = \"youtubeGameplay\";\r\nexport const __youtubeReviews = \"youtubeReviews\";\r\nexport const __packageInfo = \"packageInfo\";\r\nexport const __badgeCompletionAvg = \"badgeCompletionAvg\";\r\nexport const __volumeSoldLast_24 = \"volumeSoldLast_24\";\r\nexport const __soldLast_24 = \"soldLast_24\";\r\nexport const __homepageCurators = \"homepageCurators\";\r\nexport const __homepageTopnewreleases = \"homepageTopnewreleases\";\r\nexport const __homepageSidebar = \"homepageSidebar\";\r\nexport const __dropCalc = \"dropCalc\";\r\nexport const __price = \"price\";\r\nexport const __marketTransactions = \"marketTransactions\";\r\nexport const __loadMarketStats = \"loadMarketStats\";\r\nexport const __cardDropsRemaining = \"cardDropsRemaining\";\r\nexport const __badgesDrops = \"badgesDrops\";\r\nexport const __usingLanguageReturn = \"usingLanguageReturn\";\r\nexport const __guides = \"guides\";\r\nexport const __highlight = \"highlight\";\r\nexport const __save = \"save\";\r\nexport const __view = \"view\";\r\nexport const __gameName = \"gameName\";\r\nexport const __notinterested = \"notinterested\";\r\nexport const __ignoredOwned = \"ignoredOwned\";\r\nexport const __searchFilters_reviewsScore_between = \"searchFilters_reviewsScore_between\";\r\nexport const __searchFilters_reviewsScore_any = \"searchFilters_reviewsScore_any\";\r\nexport const __searchFilters_reviewsScore_upTo = \"searchFilters_reviewsScore_upTo\";\r\nexport const __searchFilters_reviewsScore_from = \"searchFilters_reviewsScore_from\";\r\nexport const __searchFilters_reviewsCount_count = \"searchFilters_reviewsCount_count\";\r\nexport const __searchFilters_reviewsCount_minCount = \"searchFilters_reviewsCount_minCount\";\r\nexport const __searchFilters_reviewsCount_maxCount = \"searchFilters_reviewsCount_maxCount\";\r\nexport const __searchFilters_discountPercent_count = \"searchFilters_discountPercent_count\";\r\nexport const __searchFilters_discountPercent_minCount = \"searchFilters_discountPercent_minCount\";\r\nexport const __searchFilters_discountPercent_maxCount = \"searchFilters_discountPercent_maxCount\";\r\nexport const __searchFilters_hideCart = \"searchFilters_hideCart\";\r\nexport const __searchFilters_hideEa = \"searchFilters_hideEa\";\r\nexport const __searchFilters_hideMixed = \"searchFilters_hideMixed\";\r\nexport const __searchFilters_hideNegative = \"searchFilters_hideNegative\";\r\nexport const __news = \"news\";\r\nexport const __viewinclient = \"viewinclient\";\r\nexport const __customBackground = \"customBackground\";\r\nexport const __customStyle = \"customStyle\";\r\nexport const __customStyleHelp = \"customStyleHelp\";\r\nexport const __noneselected = \"noneselected\";\r\nexport const __mostDrops = \"mostDrops\";\r\nexport const __netGain = \"netGain\";\r\nexport const __apppageRecentupdates = \"apppageRecentupdates\";\r\nexport const __apppageEaheader = \"apppageEaheader\";\r\nexport const __apppageEabanner = \"apppageEabanner\";\r\nexport const __apppageWorkshop = \"apppageWorkshop\";\r\nexport const __apppageGreenlight = \"apppageGreenlight\";\r\nexport const __apppageLegal = \"apppageLegal\";\r\nexport const __apppageFranchise = \"apppageFranchise\";\r\nexport const __apppageMorefromfranchise = \"apppageMorefromfranchise\";\r\nexport const __bugFeature = \"bugFeature\";\r\nexport const __always = \"always\";\r\nexport const __ratingDetails = \"ratingDetails\";\r\nexport const __dropsWorthAvg = \"dropsWorthAvg\";\r\nexport const __familySharingNotice_notice = \"familySharingNotice_notice\";\r\nexport const __familySharingNotice_desc = \"familySharingNotice_desc\";\r\nexport const __visitStore = \"visitStore\";\r\nexport const __all = \"all\";\r\nexport const __externalFunds = \"externalFunds\";\r\nexport const __shoppingCartHistory = \"shoppingCartHistory\";\r\nexport const __manageWebapiKey = \"manageWebapiKey\";\r\nexport const __steamCloudHeader = \"steamCloudHeader\";\r\nexport const __steamCloudSaves = \"steamCloudSaves\";\r\nexport const __gamesWithDrops = \"gamesWithDrops\";\r\nexport const __binderView = \"binderView\";\r\nexport const __usingLanguage = \"usingLanguage\";\r\nexport const __loginWarning = \"loginWarning\";\r\nexport const __visitTradeForum = \"visitTradeForum\";\r\nexport const __purchaseDate = \"purchaseDate\";\r\nexport const __customBackgroundHelp = \"customBackgroundHelp\";\r\nexport const __dateUnlocked = \"dateUnlocked\";\r\nexport const __netSpent = \"netSpent\";\r\nexport const __buy = \"buy\";\r\nexport const __buyPackage = \"buyPackage\";\r\nexport const __moreInformation = \"moreInformation\";\r\nexport const __regionUnavailable = \"regionUnavailable\";\r\nexport const __avgPrice_3cards = \"avgPrice_3cards\";\r\nexport const __groups_leaveGroupsConfirm = \"groups_leaveGroupsConfirm\";\r\nexport const __groups_manageGroups = \"groups_manageGroups\";\r\nexport const __groups_actionGroups = \"groups_actionGroups\";\r\nexport const __groups_select = \"groups_select\";\r\nexport const __groups_leave = \"groups_leave\";\r\nexport const __groups_selected = \"groups_selected\";\r\nexport const __groups_leaveAdminConfirm_currentlyAdmin = \"groups_leaveAdminConfirm_currentlyAdmin\";\r\nexport const __groups_leaveAdminConfirm_wantToLeave = \"groups_leaveAdminConfirm_wantToLeave\";\r\nexport const __export_wishlist = \"export_wishlist\";\r\nexport const __export_type = \"export_type\";\r\nexport const __export_format = \"export_format\";\r\nexport const __export_text = \"export_text\";\r\nexport const __export_download = \"export_download\";\r\nexport const __export_copyClipboard = \"export_copyClipboard\";\r\nexport const __none = \"none\";\r\nexport const __emptyWishlist_title = \"emptyWishlist_title\";\r\nexport const __emptyWishlist_confirm = \"emptyWishlist_confirm\";\r\nexport const __emptyWishlist_removing = \"emptyWishlist_removing\";\r\nexport const __about = \"about\";\r\nexport const __never = \"never\";\r\nexport const __couponAvailable = \"couponAvailable\";\r\nexport const __launchRandom = \"launchRandom\";\r\nexport const __playGame = \"playGame\";\r\nexport const __dropsValue = \"dropsValue\";\r\nexport const __cardsRemain = \"cardsRemain\";\r\nexport const __wishlist = \"wishlist\";\r\nexport const __onWishlist = \"onWishlist\";\r\nexport const __onWaitlist = \"onWaitlist\";\r\nexport const __onWishlistAndWaitlist = \"onWishlistAndWaitlist\";\r\nexport const __ok = \"ok\";\r\nexport const __cancel = \"cancel\";\r\nexport const __wikiArticle = \"wikiArticle\";\r\nexport const __viewAll = \"viewAll\";\r\nexport const __gamesWithBooster = \"gamesWithBooster\";\r\nexport const __sortBy = \"sortBy\";\r\nexport const __playtime = \"playtime\";\r\nexport const __awards = \"awards\";\r\nexport const __year = \"year\";\r\nexport const __lastonline = \"lastonline\";\r\nexport const __members = \"members\";\r\nexport const __name = \"name\";\r\nexport const __drmThirdPartySub = \"drmThirdPartySub\";\r\nexport const __customize = \"customize\";\r\nexport const __bundleSavingText = \"bundleSavingText\";\r\nexport const __thewordoptions = \"thewordoptions\";\r\nexport const __discussions = \"discussions\";\r\nexport const __pricing_lowestPrice = \"pricing_lowestPrice\";\r\nexport const __pricing_historicalLow = \"pricing_historicalLow\";\r\nexport const __pricing_bundled = \"pricing_bundled\";\r\nexport const __pricing_withVoucher = \"pricing_withVoucher\";\r\nexport const __pricing_store = \"pricing_store\";\r\nexport const __pricing_bundleCount = \"pricing_bundleCount\";\r\nexport const __webBrowserChat = \"webBrowserChat\";\r\nexport const __steamClientChat = \"steamClientChat\";\r\nexport const __equipOnProfile = \"equipOnProfile\";\r\nexport const __previewBackground = \"previewBackground\";\r\nexport const __expandSlider = \"expandSlider\";\r\nexport const __contractSlider = \"contractSlider\";\r\nexport const __earlyAccess = \"earlyAccess\";\r\nexport const __tagShort = \"tagShort\";\r\nexport const __noPriceData = \"noPriceData\";\r\nexport const __userScore = \"userScore\";\r\nexport const __marketPopularItemsToggle = \"marketPopularItemsToggle\";\r\nexport const __showProgressbar = \"showProgressbar\";\r\nexport const __achievements_option = \"achievements_option\";\r\nexport const __achievements_summary = \"achievements_summary\";\r\nexport const __bundle_offerEnds = \"bundle_offerEnds\";\r\nexport const __bundle_includes = \"bundle_includes\";\r\nexport const __bundle_tierIncludes = \"bundle_tierIncludes\";\r\nexport const __bundle_tier = \"bundle_tier\";\r\nexport const __bundle_header = \"bundle_header\";\r\nexport const __bundle_info = \"bundle_info\";\r\nexport const __charts_peakall = \"charts_peakall\";\r\nexport const __charts_current = \"charts_current\";\r\nexport const __charts_playingNow = \"charts_playingNow\";\r\nexport const __charts_peaktoday = \"charts_peaktoday\";\r\nexport const __hltb_title = \"hltb_title\";\r\nexport const __hltb_mainE = \"hltb_mainE\";\r\nexport const __hltb_compl = \"hltb_compl\";\r\nexport const __hltb_main = \"hltb_main\";\r\nexport const __options_friendsAndGroups = \"options_friendsAndGroups\";\r\nexport const __options_friendsAppendNickname = \"options_friendsAppendNickname\";\r\nexport const __options_settingsMngmt_import = \"options_settingsMngmt_import\";\r\nexport const __options_settingsMngmt_importSuccess = \"options_settingsMngmt_importSuccess\";\r\nexport const __options_settingsMngmt_importFail = \"options_settingsMngmt_importFail\";\r\nexport const __options_settingsMngmt_export = \"options_settingsMngmt_export\";\r\nexport const __options_settingsMngmt_reset = \"options_settingsMngmt_reset\";\r\nexport const __options_showCustomThemes = \"options_showCustomThemes\";\r\nexport const __options_communityDefaultTab = \"options_communityDefaultTab\";\r\nexport const __options_videos = \"options_videos\";\r\nexport const __options_broadcasts = \"options_broadcasts\";\r\nexport const __options_artwork = \"options_artwork\";\r\nexport const __options_screenshots = \"options_screenshots\";\r\nexport const __options_showBacktotop = \"options_showBacktotop\";\r\nexport const __options_contextMenu = \"options_contextMenu\";\r\nexport const __options_contextSteamStore = \"options_contextSteamStore\";\r\nexport const __options_contextSteamMarket = \"options_contextSteamMarket\";\r\nexport const __options_contextItad = \"options_contextItad\";\r\nexport const __options_contextBartervg = \"options_contextBartervg\";\r\nexport const __options_contextSteamdb = \"options_contextSteamdb\";\r\nexport const __options_contextSteamdbInstant = \"options_contextSteamdbInstant\";\r\nexport const __options_contextSteamKeys = \"options_contextSteamKeys\";\r\nexport const __options_wsgf = \"options_wsgf\";\r\nexport const __options_versionShow = \"options_versionShow\";\r\nexport const __options_steamcardexchange = \"options_steamcardexchange\";\r\nexport const __options_regionalPrice = \"options_regionalPrice\";\r\nexport const __options_excludef2p = \"options_excludef2p\";\r\nexport const __options_profileLinkImagesNone = \"options_profileLinkImagesNone\";\r\nexport const __options_profileLinks = \"options_profileLinks\";\r\nexport const __options_tag = \"options_tag\";\r\nexport const __options_icon = \"options_icon\";\r\nexport const __options_name = \"options_name\";\r\nexport const __options_showAlternativeLinuxIcon = \"options_showAlternativeLinuxIcon\";\r\nexport const __options_replacecommunityhublinks = \"options_replacecommunityhublinks\";\r\nexport const __options_hideannouncementcomments = \"options_hideannouncementcomments\";\r\nexport const __options_hidetmsymbols = \"options_hidetmsymbols\";\r\nexport const __options_metacritic = \"options_metacritic\";\r\nexport const __options_opencritic = \"options_opencritic\";\r\nexport const __options_hideactivelistings = \"options_hideactivelistings\";\r\nexport const __options_showlowestmarketprice = \"options_showlowestmarketprice\";\r\nexport const __options_clear = \"options_clear\";\r\nexport const __options_coupon = \"options_coupon\";\r\nexport const __options_showPackageInfo = \"options_showPackageInfo\";\r\nexport const __options_wlbuttoncommunityapp = \"options_wlbuttoncommunityapp\";\r\nexport const __options_removeguideslanguagefilter = \"options_removeguideslanguagefilter\";\r\nexport const __options_confirmdeletecomment = \"options_confirmdeletecomment\";\r\nexport const __options_disablelinkfilter = \"options_disablelinkfilter\";\r\nexport const __options_regionalPriceOn = \"options_regionalPriceOn\";\r\nexport const __options_horizontalscrolling = \"options_horizontalscrolling\";\r\nexport const __options_supportinfo = \"options_supportinfo\";\r\nexport const __options_drm = \"options_drm\";\r\nexport const __options_profileLinkImages = \"options_profileLinkImages\";\r\nexport const __options_show1clickgoo = \"options_show1clickgoo\";\r\nexport const __options_hltb = \"options_hltb\";\r\nexport const __options_hidespamcomments = \"options_hidespamcomments\";\r\nexport const __options_gift = \"options_gift\";\r\nexport const __options_regionalPriceMouse = \"options_regionalPriceMouse\";\r\nexport const __options_lowestpriceHeader = \"options_lowestpriceHeader\";\r\nexport const __options_storesAll = \"options_storesAll\";\r\nexport const __options_viewInCurrency = \"options_viewInCurrency\";\r\nexport const __options_showEarlyAccess = \"options_showEarlyAccess\";\r\nexport const __options_profileLinkImagesGray = \"options_profileLinkImagesGray\";\r\nexport const __options_quickinv = \"options_quickinv\";\r\nexport const __options_quickinvDiff = \"options_quickinvDiff\";\r\nexport const __options_sendAgeInfo = \"options_sendAgeInfo\";\r\nexport const __options_removebroadcasts = \"options_removebroadcasts\";\r\nexport const __options_exfgls = \"options_exfgls\";\r\nexport const __options_mp4video = \"options_mp4video\";\r\nexport const __options_youtube = \"options_youtube\";\r\nexport const __options_twitch = \"options_twitch\";\r\nexport const __options_pcgw = \"options_pcgw\";\r\nexport const __options_completionistme = \"options_completionistme\";\r\nexport const __options_protondb = \"options_protondb\";\r\nexport const __options_storeSteamcards = \"options_storeSteamcards\";\r\nexport const __options_spamcommentregex = \"options_spamcommentregex\";\r\nexport const __options_regionalHideworld = \"options_regionalHideworld\";\r\nexport const __options_showAstatslink = \"options_showAstatslink\";\r\nexport const __options_showYoutubegameplay = \"options_showYoutubegameplay\";\r\nexport const __options_showYoutubereviews = \"options_showYoutubereviews\";\r\nexport const __options_openinnewtab = \"options_openinnewtab\";\r\nexport const __options_showbartervg = \"options_showbartervg\";\r\nexport const __options_guest = \"options_guest\";\r\nexport const __options_collection = \"options_collection\";\r\nexport const __options_waitlist = \"options_waitlist\";\r\nexport const __options_showPlayersInfo = \"options_showPlayersInfo\";\r\nexport const __options_showallstats = \"options_showallstats\";\r\nexport const __options_lowestpriceOnwishlist = \"options_lowestpriceOnwishlist\";\r\nexport const __options_steamrepapi = \"options_steamrepapi\";\r\nexport const __options_profileSteamid = \"options_profileSteamid\";\r\nexport const __options_profilePinnedBg = \"options_profilePinnedBg\";\r\nexport const __options_lowestprice = \"options_lowestprice\";\r\nexport const __options_owned = \"options_owned\";\r\nexport const __options_itadlinks = \"options_itadlinks\";\r\nexport const __options_steamdb = \"options_steamdb\";\r\nexport const __options_profileLinkImagesColor = \"options_profileLinkImagesColor\";\r\nexport const __options_showViewInLibrary = \"options_showViewInLibrary\";\r\nexport const __options_installSteamButton = \"options_installSteamButton\";\r\nexport const __options_replaceViewClient = \"options_replaceViewClient\";\r\nexport const __options_showEmptyWishlist = \"options_showEmptyWishlist\";\r\nexport const __options_showWishlistStats = \"options_showWishlistStats\";\r\nexport const __options_oneclickremovewl = \"options_oneclickremovewl\";\r\nexport const __options_userNotes_userNotes = \"options_userNotes_userNotes\";\r\nexport const __options_userNotes_app = \"options_userNotes_app\";\r\nexport const __options_userNotes_wishlist = \"options_userNotes_wishlist\";\r\nexport const __options_userNotes_loc = \"options_userNotes_loc\";\r\nexport const __options_userNotes_syncedStorage = \"options_userNotes_syncedStorage\";\r\nexport const __options_userNotes_local = \"options_userNotes_local\";\r\nexport const __options_inventoryNavText = \"options_inventoryNavText\";\r\nexport const __options_marketTotal = \"options_marketTotal\";\r\nexport const __options_lowestpriceCoupon = \"options_lowestpriceCoupon\";\r\nexport const __options_general = \"options_general\";\r\nexport const __options_apppage = \"options_apppage\";\r\nexport const __options_market = \"options_market\";\r\nexport const __options_inventory = \"options_inventory\";\r\nexport const __options_profile = \"options_profile\";\r\nexport const __options_group = \"options_group\";\r\nexport const __options_friendActivity = \"options_friendActivity\";\r\nexport const __options_groupLinks = \"options_groupLinks\";\r\nexport const __options_showLanguagewarning = \"options_showLanguagewarning\";\r\nexport const __options_homepage = \"options_homepage\";\r\nexport const __options_homepageDefaultTab = \"options_homepageDefaultTab\";\r\nexport const __options_homepageDefaultTabRemember = \"options_homepageDefaultTabRemember\";\r\nexport const __options_homepageDefaultTabNewreleases = \"options_homepageDefaultTabNewreleases\";\r\nexport const __options_homepageDefaultTabTopsellers = \"options_homepageDefaultTabTopsellers\";\r\nexport const __options_homepageDefaultTabUpcoming = \"options_homepageDefaultTabUpcoming\";\r\nexport const __options_homepageDefaultTabSpecials = \"options_homepageDefaultTabSpecials\";\r\nexport const __options_homepageDefaultTabFree = \"options_homepageDefaultTabFree\";\r\nexport const __options_wishlist = \"options_wishlist\";\r\nexport const __options_addAnotherRegion = \"options_addAnotherRegion\";\r\nexport const __options_skipGotSteam = \"options_skipGotSteam\";\r\nexport const __options_storeGeneralThirdparty = \"options_storeGeneralThirdparty\";\r\nexport const __options_purchaseDates = \"options_purchaseDates\";\r\nexport const __options_showBadgeProgress = \"options_showBadgeProgress\";\r\nexport const __options_showCoupon = \"options_showCoupon\";\r\nexport const __options_showWishlistLink = \"options_showWishlistLink\";\r\nexport const __options_showWishlistCount = \"options_showWishlistCount\";\r\nexport const __options_profileShowcaseTwitch = \"options_profileShowcaseTwitch\";\r\nexport const __options_profileShowcaseOwnTwitch = \"options_profileShowcaseOwnTwitch\";\r\nexport const __options_profileShowcaseTwitchProfileonly = \"options_profileShowcaseTwitchProfileonly\";\r\nexport const __options_lang_english = \"options_lang_english\";\r\nexport const __options_lang_brazilian = \"options_lang_brazilian\";\r\nexport const __options_lang_bulgarian = \"options_lang_bulgarian\";\r\nexport const __options_lang_czech = \"options_lang_czech\";\r\nexport const __options_lang_danish = \"options_lang_danish\";\r\nexport const __options_lang_dutch = \"options_lang_dutch\";\r\nexport const __options_lang_finnish = \"options_lang_finnish\";\r\nexport const __options_lang_french = \"options_lang_french\";\r\nexport const __options_lang_greek = \"options_lang_greek\";\r\nexport const __options_lang_german = \"options_lang_german\";\r\nexport const __options_lang_hungarian = \"options_lang_hungarian\";\r\nexport const __options_lang_indonesian = \"options_lang_indonesian\";\r\nexport const __options_lang_italian = \"options_lang_italian\";\r\nexport const __options_lang_japanese = \"options_lang_japanese\";\r\nexport const __options_lang_koreana = \"options_lang_koreana\";\r\nexport const __options_lang_norwegian = \"options_lang_norwegian\";\r\nexport const __options_lang_polish = \"options_lang_polish\";\r\nexport const __options_lang_portuguese = \"options_lang_portuguese\";\r\nexport const __options_lang_russian = \"options_lang_russian\";\r\nexport const __options_lang_romanian = \"options_lang_romanian\";\r\nexport const __options_lang_schinese = \"options_lang_schinese\";\r\nexport const __options_lang_spanish = \"options_lang_spanish\";\r\nexport const __options_lang_latam = \"options_lang_latam\";\r\nexport const __options_lang_swedish = \"options_lang_swedish\";\r\nexport const __options_lang_tchinese = \"options_lang_tchinese\";\r\nexport const __options_lang_thai = \"options_lang_thai\";\r\nexport const __options_lang_turkish = \"options_lang_turkish\";\r\nexport const __options_lang_ukrainian = \"options_lang_ukrainian\";\r\nexport const __options_lang_vietnamese = \"options_lang_vietnamese\";\r\nexport const __options_addCustomLink = \"options_addCustomLink\";\r\nexport const __options_autoDetect = \"options_autoDetect\";\r\nexport const __options_addToWaitlist = \"options_addToWaitlist\";\r\nexport const __options_collectionBannerNotOwned = \"options_collectionBannerNotOwned\";\r\nexport const __options_maintainers = \"options_maintainers\";\r\nexport const __options_withHelpOf = \"options_withHelpOf\";\r\nexport const __options_contributors = \"options_contributors\";\r\nexport const __options_aboutDesc = \"options_aboutDesc\";\r\nexport const __options_aboutDescLinks = \"options_aboutDescLinks\";\r\nexport const __options_footerFork = \"options_footerFork\";\r\nexport const __options_footerAuthor = \"options_footerAuthor\";\r\nexport const __ready_loading = \"ready_loading\";\r\nexport const __ready_ready = \"ready_ready\";\r\nexport const __ready_failed = \"ready_failed\";\r\nexport const __ready_serverOutage = \"ready_serverOutage\";\r\nexport const __twitch_nowStreaming = \"twitch_nowStreaming\";\r\nexport const __twitch_viewers = \"twitch_viewers\";\r\nexport const __dlcSelect_wishlistedDlc = \"dlcSelect_wishlistedDlc\";\r\nexport const __dlcSelect_none = \"dlcSelect_none\";\r\nexport const __dlcSelect_unownedDlc = \"dlcSelect_unownedDlc\";\r\nexport const __tag_wishlist = \"tag_wishlist\";\r\nexport const __tag_coupon = \"tag_coupon\";\r\nexport const __tag_invGift = \"tag_invGift\";\r\nexport const __tag_invGuestpass = \"tag_invGuestpass\";\r\nexport const __tag_owned = \"tag_owned\";\r\nexport const __tag_notinterested = \"tag_notinterested\";\r\nexport const __tag_ignoredOwned = \"tag_ignoredOwned\";\r\nexport const __tag_collection = \"tag_collection\";\r\nexport const __tag_waitlist = \"tag_waitlist\";\r\nexport const __wallet_customAmount = \"wallet_customAmount\";\r\nexport const __wallet_customAmountText = \"wallet_customAmountText\";\r\nexport const __wallet_customGiftcard = \"wallet_customGiftcard\";\r\nexport const __wsgf_incomplete = \"wsgf_incomplete\";\r\nexport const __wsgf_unsupported = \"wsgf_unsupported\";\r\nexport const __wsgf_gold = \"wsgf_gold\";\r\nexport const __wsgf_silver = \"wsgf_silver\";\r\nexport const __wsgf_limited = \"wsgf_limited\";\r\nexport const __wsgf_certifications = \"wsgf_certifications\";\r\nexport const __itad_enableSyncLibrary = \"itad_enableSyncLibrary\";\r\nexport const __itad_enableSyncWishlist = \"itad_enableSyncWishlist\";\r\nexport const __itad_import = \"itad_import\";\r\nexport const __itad_lastImport = \"itad_lastImport\";\r\nexport const __itad_from = \"itad_from\";\r\nexport const __itad_to = \"itad_to\";\r\nexport const __itad_syncNow = \"itad_syncNow\";\r\nexport const __itad_info_itadSteam = \"itad_info_itadSteam\";\r\nexport const __itad_info_steamItad = \"itad_info_steamItad\";\r\nexport const __itad_syncEvents = \"itad_syncEvents\";\r\nexport const __tradeoffer_numItem = \"tradeoffer_numItem\";\r\nexport const __tradeoffer_numItems = \"tradeoffer_numItems\";\r\nexport const __tradeoffer_back = \"tradeoffer_back\";\r\nexport const __update_dontShow = \"update_dontShow\";\r\nexport const __update_updated = \"update_updated\";\r\nexport const __update_changes = \"update_changes\";\r\nexport const __register_success = \"register_success\";\r\nexport const __register_owned = \"register_owned\";\r\nexport const __register_notavail = \"register_notavail\";\r\nexport const __register_invalid = \"register_invalid\";\r\nexport const __register_already = \"register_already\";\r\nexport const __register_dlc = \"register_dlc\";\r\nexport const __register_wallet = \"register_wallet\";\r\nexport const __register_toomany = \"register_toomany\";\r\nexport const __register_default = \"register_default\";\r\nexport const __wl_label = \"wl_label\";\r\nexport const __wl_totalPrice = \"wl_totalPrice\";\r\nexport const __wl_inWishlist = \"wl_inWishlist\";\r\nexport const __wl_onSale = \"wl_onSale\";\r\nexport const __wl_noPrice = \"wl_noPrice\";\r\nexport const __wl_hidden = \"wl_hidden\";\r\nexport const __wl_hiddenTooltip = \"wl_hiddenTooltip\";\r\nexport const __wl_removeTitle = \"wl_removeTitle\";\r\nexport const __wl_removeConfirm = \"wl_removeConfirm\";\r\nexport const __wl_removeConfirmWarn = \"wl_removeConfirmWarn\";\r\nexport const __coll_totalTime = \"coll_totalTime\";\r\nexport const __coll_inCollection = \"coll_inCollection\";\r\nexport const __coll_played = \"coll_played\";\r\nexport const __coll_neverPlayed = \"coll_neverPlayed\";\r\nexport const __userNote_add = \"userNote_add\";\r\nexport const __userNote_update = \"userNote_update\";\r\nexport const __userNote_addForGame = \"userNote_addForGame\";\r\nexport const __userNote_notEnoughSpace = \"userNote_notEnoughSpace\";\r\nexport const __userNote_notEnoughSpaceDesc = \"userNote_notEnoughSpaceDesc\";\r\nexport const __userNote_closeOnStorage = \"userNote_closeOnStorage\";\r\nexport const __userNote_closeOnStorageDesc = \"userNote_closeOnStorageDesc\";\r\nexport const __userNote_storageWarningDesc = \"userNote_storageWarningDesc\";\r\nexport const __userNote_saveSyncedStorage = \"userNote_saveSyncedStorage\";\r\nexport const __userNote_saveLocal = \"userNote_saveLocal\";\r\nexport const __userNote_syncOption = \"userNote_syncOption\";\r\nexport const __userNote_syncInfo_1 = \"userNote_syncInfo_1\";\r\nexport const __userNote_syncInfo_2 = \"userNote_syncInfo_2\";\r\nexport const __userNote_syncInfo_3 = \"userNote_syncInfo_3\";\r\nexport const __userNote_syncButtonPush = \"userNote_syncButtonPush\";\r\nexport const __userNote_syncButtonPull = \"userNote_syncButtonPull\";\r\nexport const __userNote_syncPulled = \"userNote_syncPulled\";\r\nexport const __userNote_syncPushed = \"userNote_syncPushed\";\r\nexport const __userNote_syncFailed = \"userNote_syncFailed\";\r\nexport const __userNote_syncError = \"userNote_syncError\";\r\nexport const __userNote_syncErrorEmpty = \"userNote_syncErrorEmpty\";\r\nexport const __userNote_syncErrorUnknown = \"userNote_syncErrorUnknown\";\r\nexport const __userNote_syncErrorLength = \"userNote_syncErrorLength\";\r\nexport const __queue_new = \"queue_new\";\r\nexport const __queue_newTooltip = \"queue_newTooltip\";\r\nexport const __workshop_workshop = \"workshop_workshop\";\r\nexport const __workshop_subscriptions = \"workshop_subscriptions\";\r\nexport const __workshop_subscribeAll = \"workshop_subscribeAll\";\r\nexport const __workshop_subscribeConfirm = \"workshop_subscribeConfirm\";\r\nexport const __workshop_subscribeLoading = \"workshop_subscribeLoading\";\r\nexport const __workshop_unsubscribeAll = \"workshop_unsubscribeAll\";\r\nexport const __workshop_unsubscribeConfirm = \"workshop_unsubscribeConfirm\";\r\nexport const __workshop_unsubscribeLoading = \"workshop_unsubscribeLoading\";\r\nexport const __workshop_finished = \"workshop_finished\";\r\nexport const __workshop_failed = \"workshop_failed\";\r\nexport const __originalAuthors = \"originalAuthors\";\r\nexport const __acknowledgements = \"acknowledgements\";\r\nexport const __countries_ad = \"countries_ad\";\r\nexport const __countries_ae = \"countries_ae\";\r\nexport const __countries_af = \"countries_af\";\r\nexport const __countries_ag = \"countries_ag\";\r\nexport const __countries_ai = \"countries_ai\";\r\nexport const __countries_al = \"countries_al\";\r\nexport const __countries_am = \"countries_am\";\r\nexport const __countries_an = \"countries_an\";\r\nexport const __countries_ao = \"countries_ao\";\r\nexport const __countries_ar = \"countries_ar\";\r\nexport const __countries_as = \"countries_as\";\r\nexport const __countries_at = \"countries_at\";\r\nexport const __countries_au = \"countries_au\";\r\nexport const __countries_aw = \"countries_aw\";\r\nexport const __countries_az = \"countries_az\";\r\nexport const __countries_ba = \"countries_ba\";\r\nexport const __countries_bb = \"countries_bb\";\r\nexport const __countries_bd = \"countries_bd\";\r\nexport const __countries_be = \"countries_be\";\r\nexport const __countries_bf = \"countries_bf\";\r\nexport const __countries_bg = \"countries_bg\";\r\nexport const __countries_bh = \"countries_bh\";\r\nexport const __countries_bi = \"countries_bi\";\r\nexport const __countries_bj = \"countries_bj\";\r\nexport const __countries_bm = \"countries_bm\";\r\nexport const __countries_bn = \"countries_bn\";\r\nexport const __countries_bo = \"countries_bo\";\r\nexport const __countries_br = \"countries_br\";\r\nexport const __countries_bs = \"countries_bs\";\r\nexport const __countries_bt = \"countries_bt\";\r\nexport const __countries_bv = \"countries_bv\";\r\nexport const __countries_bw = \"countries_bw\";\r\nexport const __countries_by = \"countries_by\";\r\nexport const __countries_bz = \"countries_bz\";\r\nexport const __countries_ca = \"countries_ca\";\r\nexport const __countries_cd = \"countries_cd\";\r\nexport const __countries_cf = \"countries_cf\";\r\nexport const __countries_cg = \"countries_cg\";\r\nexport const __countries_ch = \"countries_ch\";\r\nexport const __countries_ci = \"countries_ci\";\r\nexport const __countries_ck = \"countries_ck\";\r\nexport const __countries_cl = \"countries_cl\";\r\nexport const __countries_cm = \"countries_cm\";\r\nexport const __countries_cn = \"countries_cn\";\r\nexport const __countries_co = \"countries_co\";\r\nexport const __countries_cr = \"countries_cr\";\r\nexport const __countries_cu = \"countries_cu\";\r\nexport const __countries_cv = \"countries_cv\";\r\nexport const __countries_cy = \"countries_cy\";\r\nexport const __countries_cz = \"countries_cz\";\r\nexport const __countries_de = \"countries_de\";\r\nexport const __countries_dj = \"countries_dj\";\r\nexport const __countries_dk = \"countries_dk\";\r\nexport const __countries_dm = \"countries_dm\";\r\nexport const __countries_do = \"countries_do\";\r\nexport const __countries_dz = \"countries_dz\";\r\nexport const __countries_ec = \"countries_ec\";\r\nexport const __countries_ee = \"countries_ee\";\r\nexport const __countries_eg = \"countries_eg\";\r\nexport const __countries_eh = \"countries_eh\";\r\nexport const __countries_er = \"countries_er\";\r\nexport const __countries_es = \"countries_es\";\r\nexport const __countries_et = \"countries_et\";\r\nexport const __countries_fi = \"countries_fi\";\r\nexport const __countries_fj = \"countries_fj\";\r\nexport const __countries_fk = \"countries_fk\";\r\nexport const __countries_fm = \"countries_fm\";\r\nexport const __countries_fo = \"countries_fo\";\r\nexport const __countries_fr = \"countries_fr\";\r\nexport const __countries_ga = \"countries_ga\";\r\nexport const __countries_gb = \"countries_gb\";\r\nexport const __countries_gd = \"countries_gd\";\r\nexport const __countries_ge = \"countries_ge\";\r\nexport const __countries_gf = \"countries_gf\";\r\nexport const __countries_gg = \"countries_gg\";\r\nexport const __countries_gh = \"countries_gh\";\r\nexport const __countries_gi = \"countries_gi\";\r\nexport const __countries_gl = \"countries_gl\";\r\nexport const __countries_gm = \"countries_gm\";\r\nexport const __countries_gn = \"countries_gn\";\r\nexport const __countries_gp = \"countries_gp\";\r\nexport const __countries_gq = \"countries_gq\";\r\nexport const __countries_gr = \"countries_gr\";\r\nexport const __countries_gs = \"countries_gs\";\r\nexport const __countries_gt = \"countries_gt\";\r\nexport const __countries_gu = \"countries_gu\";\r\nexport const __countries_gw = \"countries_gw\";\r\nexport const __countries_gy = \"countries_gy\";\r\nexport const __countries_hk = \"countries_hk\";\r\nexport const __countries_hm = \"countries_hm\";\r\nexport const __countries_hn = \"countries_hn\";\r\nexport const __countries_hr = \"countries_hr\";\r\nexport const __countries_ht = \"countries_ht\";\r\nexport const __countries_hu = \"countries_hu\";\r\nexport const __countries_id = \"countries_id\";\r\nexport const __countries_ie = \"countries_ie\";\r\nexport const __countries_il = \"countries_il\";\r\nexport const __countries_im = \"countries_im\";\r\nexport const __countries_in = \"countries_in\";\r\nexport const __countries_io = \"countries_io\";\r\nexport const __countries_iq = \"countries_iq\";\r\nexport const __countries_ir = \"countries_ir\";\r\nexport const __countries_is = \"countries_is\";\r\nexport const __countries_it = \"countries_it\";\r\nexport const __countries_je = \"countries_je\";\r\nexport const __countries_jm = \"countries_jm\";\r\nexport const __countries_jo = \"countries_jo\";\r\nexport const __countries_jp = \"countries_jp\";\r\nexport const __countries_ke = \"countries_ke\";\r\nexport const __countries_kg = \"countries_kg\";\r\nexport const __countries_kh = \"countries_kh\";\r\nexport const __countries_ki = \"countries_ki\";\r\nexport const __countries_km = \"countries_km\";\r\nexport const __countries_kn = \"countries_kn\";\r\nexport const __countries_kp = \"countries_kp\";\r\nexport const __countries_kr = \"countries_kr\";\r\nexport const __countries_kw = \"countries_kw\";\r\nexport const __countries_ky = \"countries_ky\";\r\nexport const __countries_kz = \"countries_kz\";\r\nexport const __countries_la = \"countries_la\";\r\nexport const __countries_lb = \"countries_lb\";\r\nexport const __countries_lc = \"countries_lc\";\r\nexport const __countries_li = \"countries_li\";\r\nexport const __countries_lk = \"countries_lk\";\r\nexport const __countries_lr = \"countries_lr\";\r\nexport const __countries_ls = \"countries_ls\";\r\nexport const __countries_lt = \"countries_lt\";\r\nexport const __countries_lu = \"countries_lu\";\r\nexport const __countries_lv = \"countries_lv\";\r\nexport const __countries_ly = \"countries_ly\";\r\nexport const __countries_ma = \"countries_ma\";\r\nexport const __countries_mc = \"countries_mc\";\r\nexport const __countries_md = \"countries_md\";\r\nexport const __countries_me = \"countries_me\";\r\nexport const __countries_mg = \"countries_mg\";\r\nexport const __countries_mh = \"countries_mh\";\r\nexport const __countries_mk = \"countries_mk\";\r\nexport const __countries_ml = \"countries_ml\";\r\nexport const __countries_mm = \"countries_mm\";\r\nexport const __countries_mn = \"countries_mn\";\r\nexport const __countries_mo = \"countries_mo\";\r\nexport const __countries_mp = \"countries_mp\";\r\nexport const __countries_mq = \"countries_mq\";\r\nexport const __countries_mr = \"countries_mr\";\r\nexport const __countries_ms = \"countries_ms\";\r\nexport const __countries_mt = \"countries_mt\";\r\nexport const __countries_mu = \"countries_mu\";\r\nexport const __countries_mv = \"countries_mv\";\r\nexport const __countries_mw = \"countries_mw\";\r\nexport const __countries_mx = \"countries_mx\";\r\nexport const __countries_my = \"countries_my\";\r\nexport const __countries_mz = \"countries_mz\";\r\nexport const __countries_na = \"countries_na\";\r\nexport const __countries_nc = \"countries_nc\";\r\nexport const __countries_ne = \"countries_ne\";\r\nexport const __countries_nf = \"countries_nf\";\r\nexport const __countries_ng = \"countries_ng\";\r\nexport const __countries_ni = \"countries_ni\";\r\nexport const __countries_nl = \"countries_nl\";\r\nexport const __countries_no = \"countries_no\";\r\nexport const __countries_np = \"countries_np\";\r\nexport const __countries_nr = \"countries_nr\";\r\nexport const __countries_nu = \"countries_nu\";\r\nexport const __countries_nz = \"countries_nz\";\r\nexport const __countries_om = \"countries_om\";\r\nexport const __countries_pa = \"countries_pa\";\r\nexport const __countries_pe = \"countries_pe\";\r\nexport const __countries_pf = \"countries_pf\";\r\nexport const __countries_pg = \"countries_pg\";\r\nexport const __countries_ph = \"countries_ph\";\r\nexport const __countries_pk = \"countries_pk\";\r\nexport const __countries_pl = \"countries_pl\";\r\nexport const __countries_pm = \"countries_pm\";\r\nexport const __countries_pn = \"countries_pn\";\r\nexport const __countries_pr = \"countries_pr\";\r\nexport const __countries_ps = \"countries_ps\";\r\nexport const __countries_pt = \"countries_pt\";\r\nexport const __countries_pw = \"countries_pw\";\r\nexport const __countries_py = \"countries_py\";\r\nexport const __countries_qa = \"countries_qa\";\r\nexport const __countries_re = \"countries_re\";\r\nexport const __countries_ro = \"countries_ro\";\r\nexport const __countries_rs = \"countries_rs\";\r\nexport const __countries_ru = \"countries_ru\";\r\nexport const __countries_rw = \"countries_rw\";\r\nexport const __countries_sa = \"countries_sa\";\r\nexport const __countries_sb = \"countries_sb\";\r\nexport const __countries_sc = \"countries_sc\";\r\nexport const __countries_sd = \"countries_sd\";\r\nexport const __countries_se = \"countries_se\";\r\nexport const __countries_sg = \"countries_sg\";\r\nexport const __countries_sh = \"countries_sh\";\r\nexport const __countries_si = \"countries_si\";\r\nexport const __countries_sk = \"countries_sk\";\r\nexport const __countries_sl = \"countries_sl\";\r\nexport const __countries_sm = \"countries_sm\";\r\nexport const __countries_sn = \"countries_sn\";\r\nexport const __countries_so = \"countries_so\";\r\nexport const __countries_sr = \"countries_sr\";\r\nexport const __countries_st = \"countries_st\";\r\nexport const __countries_sv = \"countries_sv\";\r\nexport const __countries_sy = \"countries_sy\";\r\nexport const __countries_sz = \"countries_sz\";\r\nexport const __countries_tc = \"countries_tc\";\r\nexport const __countries_td = \"countries_td\";\r\nexport const __countries_tf = \"countries_tf\";\r\nexport const __countries_tg = \"countries_tg\";\r\nexport const __countries_th = \"countries_th\";\r\nexport const __countries_tj = \"countries_tj\";\r\nexport const __countries_tk = \"countries_tk\";\r\nexport const __countries_tl = \"countries_tl\";\r\nexport const __countries_tm = \"countries_tm\";\r\nexport const __countries_tn = \"countries_tn\";\r\nexport const __countries_to = \"countries_to\";\r\nexport const __countries_tr = \"countries_tr\";\r\nexport const __countries_tt = \"countries_tt\";\r\nexport const __countries_tv = \"countries_tv\";\r\nexport const __countries_tw = \"countries_tw\";\r\nexport const __countries_tz = \"countries_tz\";\r\nexport const __countries_ua = \"countries_ua\";\r\nexport const __countries_ug = \"countries_ug\";\r\nexport const __countries_um = \"countries_um\";\r\nexport const __countries_us = \"countries_us\";\r\nexport const __countries_uy = \"countries_uy\";\r\nexport const __countries_uz = \"countries_uz\";\r\nexport const __countries_va = \"countries_va\";\r\nexport const __countries_vc = \"countries_vc\";\r\nexport const __countries_ve = \"countries_ve\";\r\nexport const __countries_vg = \"countries_vg\";\r\nexport const __countries_vi = \"countries_vi\";\r\nexport const __countries_vn = \"countries_vn\";\r\nexport const __countries_vu = \"countries_vu\";\r\nexport const __countries_wf = \"countries_wf\";\r\nexport const __countries_ws = \"countries_ws\";\r\nexport const __countries_ye = \"countries_ye\";\r\nexport const __countries_yt = \"countries_yt\";\r\nexport const __countries_za = \"countries_za\";\r\nexport const __countries_zm = \"countries_zm\";\r\nexport const __countries_zw = \"countries_zw\";\r\n", "<script lang=\"ts\">\r\n    import {onMount} from \"svelte\";\r\n    import {__ready_failed, __ready_loading, __ready_ready, __ready_serverOutage} from \"@Strings/_strings\";\r\n    import {L} from \"@Core/Localization/Localization\";\r\n\r\n    export let react: boolean;\r\n\r\n    let started: number = 0;\r\n    let done: number = 0;\r\n    let failed: number = 0;\r\n\r\n    let progress: number = 0;\r\n    let isLoading: boolean = false;\r\n\r\n    let hasWarning: boolean = false;\r\n    let hasError: boolean = false;\r\n\r\n    $: if (started > 0) {\r\n        progress = Math.min(100, 100 * (done / started));\r\n\r\n        isLoading = (done + failed) < started;\r\n    }\r\n\r\n    onMount(() => {\r\n        function onStart(): void {\r\n            started += 1;\r\n        }\r\n\r\n        function onDone(): void {\r\n            done += 1;\r\n        }\r\n\r\n        function onError(e: Event) {\r\n            failed += 1;\r\n\r\n            const name = (<CustomEvent>e).detail.name ?? null;\r\n\r\n            if (name === \"ServerOutageError\") {\r\n                hasWarning = true;\r\n            } else {\r\n                hasError = true;\r\n            }\r\n        }\r\n\r\n        document.addEventListener(\"asRequestStart\", onStart);\r\n        document.addEventListener(\"asRequestDone\", onDone);\r\n        document.addEventListener(\"asRequestError\", onError);\r\n\r\n        return () => {\r\n            document.removeEventListener(\"asRequestStart\", onStart);\r\n            document.removeEventListener(\"asRequestDone\", onDone);\r\n            document.removeEventListener(\"asRequestError\", onError);\r\n        }\r\n    });\r\n</script>\r\n\r\n\r\n<div class=\"wrapper\" class:is-react={react} class:is-legacy={!react}>\r\n    <div class=\"progress\"\r\n         class:is-complete=\"{!isLoading}\"\r\n         class:is-warning=\"{hasWarning}\"\r\n         class:is-error=\"{hasError}\"\r\n         title={L(isLoading ? __ready_loading : __ready_ready)}>\r\n        <div class=\"bar\">\r\n            <div class=\"value\" style:width=\"{isLoading ? progress : 18}px\"></div>\r\n        </div>\r\n    </div>\r\n\r\n    {#if hasError}\r\n        <div class=\"error\">{L(__ready_failed, {\"amount\": failed})}</div>\r\n    {:else if hasWarning}\r\n        <div class=\"warning\">{L(__ready_serverOutage)}</div>\r\n    {/if}\r\n</div>\r\n\r\n\r\n<style>\r\n    .wrapper.is-legacy {\r\n        position: relative;\r\n        float: right;\r\n    }\r\n    .wrapper.is-react {\r\n        position: absolute;\r\n        top: 0;\r\n        right: 0;\r\n    }\r\n\r\n    .progress {\r\n        position: relative;\r\n        top: 55px;\r\n        width: 100px;\r\n        min-width: 16px;\r\n        height: 16px;\r\n        box-sizing: content-box;\r\n        border-radius: 8px;\r\n        overflow: hidden;\r\n        border-bottom: 1px solid rgba(255, 255, 255, 0.20);\r\n    }\r\n    .is-error,\r\n    .is-warning,\r\n    .is-complete {\r\n        width: 16px;\r\n    }\r\n    .progress,\r\n    .value {\r\n        transition: width 1s ease-in-out;\r\n    }\r\n    .value {\r\n        width: 18px;\r\n    }\r\n    /* This prevents the black bleeding from \"es_progress__bar\" background\r\n        around the edges of \"es_progress__value\" to make it look smoother */\r\n    .is-error .value,\r\n    .is-warning .value,\r\n    .is-complete .value {\r\n        width: calc(100% + 4px) !important;\r\n    }\r\n    .is-complete {\r\n        animation: delayBoxShadowGreen linear 1s;\r\n        animation-fill-mode: forwards;\r\n    }\r\n    .is-error, .is-warning {\r\n        cursor: help;\r\n        animation: linear 1s;\r\n        animation-fill-mode: forwards;\r\n    }\r\n    .is-error {\r\n        animation-name: delayBoxShadowRed;\r\n    }\r\n    .is-warning {\r\n        animation-name: delayBoxShadowYellow;\r\n    }\r\n    .is-error::before, .is-warning::before {\r\n        display: block;\r\n        content: \"!\";\r\n        position: absolute;\r\n        top: 2px;\r\n        right: 0;\r\n        left: 0;\r\n        line-height: 12px;\r\n        text-align: center;\r\n        font-size: 14px;\r\n        font-family: Impact, Charcoal, sans-serif;\r\n        text-shadow: 0 0 1px black;\r\n    }\r\n    .is-error::before {\r\n        color: rgb(255, 149, 149);\r\n    }\r\n    .is-warning::before {\r\n        color: white;\r\n    }\r\n    .progress .bar {\r\n        background-color: black;\r\n        border-radius: 8px;\r\n    }\r\n    .value {\r\n        height: 16px;\r\n        margin-left: -2px;\r\n        background-color: #51771d;\r\n        border-radius: 8px;\r\n        background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0.25) 5%, rgba(255, 255, 255, 0) 95%);\r\n    }\r\n    .is-error .value, .is-warning .value {\r\n        transition: unset;\r\n        border-radius: 8px;\r\n    }\r\n    .is-error .value {\r\n        background-color: #b31414;\r\n    }\r\n    .is-warning .value {\r\n        background-color: #d9ab05;\r\n    }\r\n    @keyframes delayBoxShadowRed {\r\n        100% {\r\n            box-shadow: 0 0 8px 1px #b31414;\r\n        }\r\n    }\r\n    @keyframes delayBoxShadowYellow {\r\n        100% {\r\n            box-shadow: 0 0 8px 1px #d9ab05;\r\n        }\r\n    }\r\n    @keyframes delayBoxShadowGreen {\r\n        100% {\r\n            box-shadow: 0 0 8px 1px #51771d;\r\n        }\r\n    }\r\n\r\n    .error, .warning {\r\n        display: none;\r\n        color: #ccc;\r\n        font-size: 11px;\r\n        background-color: #333;\r\n        border: 1px solid #444;\r\n        position: absolute;\r\n        min-width: 200px;\r\n        max-width: 250px;\r\n        padding: 5px;\r\n        top: 52px;\r\n        right: 22px;\r\n        list-style-position: inside;\r\n    }\r\n    .error::before, .warning::before {\r\n        content: \"\";\r\n        display: block;\r\n        background-color: #444;\r\n        width: 10px;\r\n        height: 10px;\r\n        position: absolute;\r\n        top: 5px;\r\n        right: -5px;\r\n        z-index: -1;\r\n        transform: rotateZ(45deg);\r\n    }\r\n    .wrapper:hover .error, .wrapper:hover .warning {\r\n        display: block !important;\r\n    }\r\n</style>\r\n", "\r\n/**\r\n * Utility class for mapping commonly used Steam elements\r\n */\r\nexport default class ReactDOM {\r\n\r\n    static globalHeader(): HTMLElement|null {\r\n        return document.querySelector<HTMLElement>(\".eGsI8rO3zfU-.bp0Pu4TVwpI-,#StoreTemplate > header\");\r\n    }\r\n\r\n    static globalActions(): HTMLElement|null {\r\n        return this.globalHeader()?.querySelector<HTMLElement>(\".h3Jy-1Il1os-,nav + div\") ?? null;\r\n    }\r\n}", "import self_ from \"./ProgressBar.svelte\";\r\nimport Settings from \"@Options/Data/Settings\";\r\nimport ReactDOM from \"@Content/Steam/ReactDOM\";\r\n\r\nexport default class ProgressBar {\r\n\r\n    private static build(react: boolean, node: HTMLElement|null): void {\r\n        if (!Settings.show_progressbar || !node) {\r\n            return;\r\n        }\r\n\r\n        new self_({\r\n            target: node.parentElement!,\r\n            anchor: node.nextElementSibling ?? undefined,\r\n            props: {react}\r\n        });\r\n    }\r\n\r\n    static buildLegacy(): void {\r\n        this.build(false, document.querySelector(\"#global_actions\"));\r\n    }\r\n\r\n    static buildReact(): void {\r\n        this.build(true, ReactDOM.globalActions());\r\n    }\r\n}\r\n", "import SteamStoreApiFacade from \"@Content/Modules/Facades/SteamStoreApiFacade\";\r\nimport DOMHelper from \"@Content/Modules/DOMHelper\";\r\nimport {MessageHandler} from \"@Content/Modules/Messaging/MessageHandler\";\r\nimport Messenger from \"@Content/Modules/Messaging/Messenger\";\r\n\r\nexport default class DynamicStore {\r\n\r\n    private static registered: boolean = false;\r\n    private static readyPromise: Promise<void>;\r\n\r\n    private static register(): void {\r\n        if (this.registered) {\r\n            return;\r\n        }\r\n        DOMHelper.insertScript(\"scriptlets/DynamicStoreScriptlet.js\");\r\n        this.registered = true;\r\n    }\r\n\r\n    static onReady(): Promise<void> {\r\n        if (!this.readyPromise) {\r\n            this.readyPromise = new Promise(resolve => {\r\n                this.register();\r\n                window.addEventListener(\"DSReady\", () => resolve(), {once: true});\r\n                Messenger.call(MessageHandler.DynamicStore, \"onReady\");\r\n            });\r\n        }\r\n        return this.readyPromise;\r\n    }\r\n\r\n    static invalidateCacheHandler(): void {\r\n        this.register();\r\n        window.addEventListener(\"DSInvalidateCache\", () => this.clear());\r\n        Messenger.call(MessageHandler.DynamicStore, \"invalidateCache\");\r\n    }\r\n\r\n    static clear(): Promise<void> {\r\n        return SteamStoreApiFacade.clearDynamicStore();\r\n    }\r\n\r\n    static async getAppsStatus(storeIds: string[]): Promise<{\r\n        ignored: Set<string>,\r\n        ignoredOwned: Set<string>,\r\n        owned: Set<string>,\r\n        wishlisted: Set<string>\r\n    }> {\r\n        const dsStatus = await SteamStoreApiFacade.getDynamicStoreStatus(storeIds);\r\n        return {\r\n            ignored: new Set(dsStatus.ignored),\r\n            ignoredOwned: new Set(dsStatus.ignoredOwned),\r\n            owned: new Set(dsStatus.owned),\r\n            wishlisted: new Set(dsStatus.wishlisted),\r\n        }\r\n    }\r\n\r\n    static async getAppStatus(storeId: string): Promise<{\r\n        ignored: boolean,\r\n        ignoredOwned: boolean,\r\n        owned: boolean,\r\n        wishlisted: boolean\r\n    }> {\r\n        const dsStatus = await SteamStoreApiFacade.getDynamicStoreStatus([storeId]);\r\n        return {\r\n            ignored: dsStatus.ignored.length > 0,\r\n            ignoredOwned: dsStatus.ignoredOwned.length > 0,\r\n            owned: dsStatus.owned.length > 0,\r\n            wishlisted: dsStatus.wishlisted.length > 0,\r\n        }\r\n    }\r\n\r\n    static getRandomApp(): Promise<number|null> {\r\n        return SteamStoreApiFacade.getDynamicStoreRandomApp();\r\n    }\r\n}\r\n", "import Settings from \"@Options/Data/Settings\";\r\n\r\nexport default function external(node: HTMLAnchorElement): void {\r\n    const OpenInNewTab = Settings.openinnewtab;\r\n    if (!OpenInNewTab) { return; }\r\n\r\n    node.target = \"_blank\";\r\n    node.rel = \"noreferrer noopener\";\r\n}\r\n", "import Background from \"@Core/Background\";\r\nimport {EAction} from \"@Background/EAction\";\r\n\r\nexport default class CacheApiFacade {\r\n\r\n    static clearCache(): Promise<void> {\r\n        return Background.send<void>(EAction.CacheClear);\r\n    }\r\n}\r\n", "import { cubicOut, cubicInOut, linear } from '../easing/index.js';\nimport { assign, split_css_unit, is_function } from '../internal/index.js';\n\n/**\n * Animates a `blur` filter alongside an element's opacity.\n *\n * https://svelte.dev/docs/svelte-transition#blur\n * @param {Element} node\n * @param {import('./public').BlurParams} [params]\n * @returns {import('./public').TransitionConfig}\n */\nexport function blur(\n\tnode,\n\t{ delay = 0, duration = 400, easing = cubicInOut, amount = 5, opacity = 0 } = {}\n) {\n\tconst style = getComputedStyle(node);\n\tconst target_opacity = +style.opacity;\n\tconst f = style.filter === 'none' ? '' : style.filter;\n\tconst od = target_opacity * (1 - opacity);\n\tconst [value, unit] = split_css_unit(amount);\n\treturn {\n\t\tdelay,\n\t\tduration,\n\t\teasing,\n\t\tcss: (_t, u) => `opacity: ${target_opacity - od * u}; filter: ${f} blur(${u * value}${unit});`\n\t};\n}\n\n/**\n * Animates the opacity of an element from 0 to the current opacity for `in` transitions and from the current opacity to 0 for `out` transitions.\n *\n * https://svelte.dev/docs/svelte-transition#fade\n * @param {Element} node\n * @param {import('./public').FadeParams} [params]\n * @returns {import('./public').TransitionConfig}\n */\nexport function fade(node, { delay = 0, duration = 400, easing = linear } = {}) {\n\tconst o = +getComputedStyle(node).opacity;\n\treturn {\n\t\tdelay,\n\t\tduration,\n\t\teasing,\n\t\tcss: (t) => `opacity: ${t * o}`\n\t};\n}\n\n/**\n * Animates the x and y positions and the opacity of an element. `in` transitions animate from the provided values, passed as parameters to the element's default values. `out` transitions animate from the element's default values to the provided values.\n *\n * https://svelte.dev/docs/svelte-transition#fly\n * @param {Element} node\n * @param {import('./public').FlyParams} [params]\n * @returns {import('./public').TransitionConfig}\n */\nexport function fly(\n\tnode,\n\t{ delay = 0, duration = 400, easing = cubicOut, x = 0, y = 0, opacity = 0 } = {}\n) {\n\tconst style = getComputedStyle(node);\n\tconst target_opacity = +style.opacity;\n\tconst transform = style.transform === 'none' ? '' : style.transform;\n\tconst od = target_opacity * (1 - opacity);\n\tconst [xValue, xUnit] = split_css_unit(x);\n\tconst [yValue, yUnit] = split_css_unit(y);\n\treturn {\n\t\tdelay,\n\t\tduration,\n\t\teasing,\n\t\tcss: (t, u) => `\n\t\t\ttransform: ${transform} translate(${(1 - t) * xValue}${xUnit}, ${(1 - t) * yValue}${yUnit});\n\t\t\topacity: ${target_opacity - od * u}`\n\t};\n}\n\n/**\n * Slides an element in and out.\n *\n * https://svelte.dev/docs/svelte-transition#slide\n * @param {Element} node\n * @param {import('./public').SlideParams} [params]\n * @returns {import('./public').TransitionConfig}\n */\nexport function slide(node, { delay = 0, duration = 400, easing = cubicOut, axis = 'y' } = {}) {\n\tconst style = getComputedStyle(node);\n\tconst opacity = +style.opacity;\n\tconst primary_property = axis === 'y' ? 'height' : 'width';\n\tconst primary_property_value = parseFloat(style[primary_property]);\n\tconst secondary_properties = axis === 'y' ? ['top', 'bottom'] : ['left', 'right'];\n\tconst capitalized_secondary_properties = secondary_properties.map(\n\t\t(e) => `${e[0].toUpperCase()}${e.slice(1)}`\n\t);\n\tconst padding_start_value = parseFloat(style[`padding${capitalized_secondary_properties[0]}`]);\n\tconst padding_end_value = parseFloat(style[`padding${capitalized_secondary_properties[1]}`]);\n\tconst margin_start_value = parseFloat(style[`margin${capitalized_secondary_properties[0]}`]);\n\tconst margin_end_value = parseFloat(style[`margin${capitalized_secondary_properties[1]}`]);\n\tconst border_width_start_value = parseFloat(\n\t\tstyle[`border${capitalized_secondary_properties[0]}Width`]\n\t);\n\tconst border_width_end_value = parseFloat(\n\t\tstyle[`border${capitalized_secondary_properties[1]}Width`]\n\t);\n\treturn {\n\t\tdelay,\n\t\tduration,\n\t\teasing,\n\t\tcss: (t) =>\n\t\t\t'overflow: hidden;' +\n\t\t\t`opacity: ${Math.min(t * 20, 1) * opacity};` +\n\t\t\t`${primary_property}: ${t * primary_property_value}px;` +\n\t\t\t`padding-${secondary_properties[0]}: ${t * padding_start_value}px;` +\n\t\t\t`padding-${secondary_properties[1]}: ${t * padding_end_value}px;` +\n\t\t\t`margin-${secondary_properties[0]}: ${t * margin_start_value}px;` +\n\t\t\t`margin-${secondary_properties[1]}: ${t * margin_end_value}px;` +\n\t\t\t`border-${secondary_properties[0]}-width: ${t * border_width_start_value}px;` +\n\t\t\t`border-${secondary_properties[1]}-width: ${t * border_width_end_value}px;`\n\t};\n}\n\n/**\n * Animates the opacity and scale of an element. `in` transitions animate from an element's current (default) values to the provided values, passed as parameters. `out` transitions animate from the provided values to an element's default values.\n *\n * https://svelte.dev/docs/svelte-transition#scale\n * @param {Element} node\n * @param {import('./public').ScaleParams} [params]\n * @returns {import('./public').TransitionConfig}\n */\nexport function scale(\n\tnode,\n\t{ delay = 0, duration = 400, easing = cubicOut, start = 0, opacity = 0 } = {}\n) {\n\tconst style = getComputedStyle(node);\n\tconst target_opacity = +style.opacity;\n\tconst transform = style.transform === 'none' ? '' : style.transform;\n\tconst sd = 1 - start;\n\tconst od = target_opacity * (1 - opacity);\n\treturn {\n\t\tdelay,\n\t\tduration,\n\t\teasing,\n\t\tcss: (_t, u) => `\n\t\t\ttransform: ${transform} scale(${1 - sd * u});\n\t\t\topacity: ${target_opacity - od * u}\n\t\t`\n\t};\n}\n\n/**\n * Animates the stroke of an SVG element, like a snake in a tube. `in` transitions begin with the path invisible and draw the path to the screen over time. `out` transitions start in a visible state and gradually erase the path. `draw` only works with elements that have a `getTotalLength` method, like `<path>` and `<polyline>`.\n *\n * https://svelte.dev/docs/svelte-transition#draw\n * @param {SVGElement & { getTotalLength(): number }} node\n * @param {import('./public').DrawParams} [params]\n * @returns {import('./public').TransitionConfig}\n */\nexport function draw(node, { delay = 0, speed, duration, easing = cubicInOut } = {}) {\n\tlet len = node.getTotalLength();\n\tconst style = getComputedStyle(node);\n\tif (style.strokeLinecap !== 'butt') {\n\t\tlen += parseInt(style.strokeWidth);\n\t}\n\tif (duration === undefined) {\n\t\tif (speed === undefined) {\n\t\t\tduration = 800;\n\t\t} else {\n\t\t\tduration = len / speed;\n\t\t}\n\t} else if (typeof duration === 'function') {\n\t\tduration = duration(len);\n\t}\n\treturn {\n\t\tdelay,\n\t\tduration,\n\t\teasing,\n\t\tcss: (_, u) => `\n\t\t\tstroke-dasharray: ${len};\n\t\t\tstroke-dashoffset: ${u * len};\n\t\t`\n\t};\n}\n\n/**\n * The `crossfade` function creates a pair of [transitions](https://svelte.dev/docs#template-syntax-element-directives-transition-fn) called `send` and `receive`. When an element is 'sent', it looks for a corresponding element being 'received', and generates a transition that transforms the element to its counterpart's position and fades it out. When an element is 'received', the reverse happens. If there is no counterpart, the `fallback` transition is used.\n *\n * https://svelte.dev/docs/svelte-transition#crossfade\n * @param {import('./public').CrossfadeParams & {\n * \tfallback?: (node: Element, params: import('./public').CrossfadeParams, intro: boolean) => import('./public').TransitionConfig;\n * }} params\n * @returns {[(node: any, params: import('./public').CrossfadeParams & { key: any; }) => () => import('./public').TransitionConfig, (node: any, params: import('./public').CrossfadeParams & { key: any; }) => () => import('./public').TransitionConfig]}\n */\nexport function crossfade({ fallback, ...defaults }) {\n\t/** @type {Map<any, Element>} */\n\tconst to_receive = new Map();\n\t/** @type {Map<any, Element>} */\n\tconst to_send = new Map();\n\t/**\n\t * @param {Element} from_node\n\t * @param {Element} node\n\t * @param {import('./public').CrossfadeParams} params\n\t * @returns {import('./public').TransitionConfig}\n\t */\n\tfunction crossfade(from_node, node, params) {\n\t\tconst {\n\t\t\tdelay = 0,\n\t\t\tduration = (d) => Math.sqrt(d) * 30,\n\t\t\teasing = cubicOut\n\t\t} = assign(assign({}, defaults), params);\n\t\tconst from = from_node.getBoundingClientRect();\n\t\tconst to = node.getBoundingClientRect();\n\t\tconst dx = from.left - to.left;\n\t\tconst dy = from.top - to.top;\n\t\tconst dw = from.width / to.width;\n\t\tconst dh = from.height / to.height;\n\t\tconst d = Math.sqrt(dx * dx + dy * dy);\n\t\tconst style = getComputedStyle(node);\n\t\tconst transform = style.transform === 'none' ? '' : style.transform;\n\t\tconst opacity = +style.opacity;\n\t\treturn {\n\t\t\tdelay,\n\t\t\tduration: is_function(duration) ? duration(d) : duration,\n\t\t\teasing,\n\t\t\tcss: (t, u) => `\n\t\t\t\topacity: ${t * opacity};\n\t\t\t\ttransform-origin: top left;\n\t\t\t\ttransform: ${transform} translate(${u * dx}px,${u * dy}px) scale(${t + (1 - t) * dw}, ${\n\t\t\t\tt + (1 - t) * dh\n\t\t\t});\n\t\t\t`\n\t\t};\n\t}\n\n\t/**\n\t * @param {Map<any, Element>} items\n\t * @param {Map<any, Element>} counterparts\n\t * @param {boolean} intro\n\t * @returns {(node: any, params: import('./public').CrossfadeParams & { key: any; }) => () => import('./public').TransitionConfig}\n\t */\n\tfunction transition(items, counterparts, intro) {\n\t\treturn (node, params) => {\n\t\t\titems.set(params.key, node);\n\t\t\treturn () => {\n\t\t\t\tif (counterparts.has(params.key)) {\n\t\t\t\t\tconst other_node = counterparts.get(params.key);\n\t\t\t\t\tcounterparts.delete(params.key);\n\t\t\t\t\treturn crossfade(other_node, node, params);\n\t\t\t\t}\n\t\t\t\t// if the node is disappearing altogether\n\t\t\t\t// (i.e. wasn't claimed by the other list)\n\t\t\t\t// then we need to supply an outro\n\t\t\t\titems.delete(params.key);\n\t\t\t\treturn fallback && fallback(node, params, intro);\n\t\t\t};\n\t\t};\n\t}\n\treturn [transition(to_send, to_receive, false), transition(to_receive, to_send, true)];\n}\n", "<script lang=\"ts\">\r\n    export let type: \"primary\"|\"secondary\"|\"cancel\";\r\n</script>\r\n\r\n\r\n<button type=\"button\"\r\n        class:primary={type === \"primary\"}\r\n        class:secondary={type === \"secondary\"}\r\n        class:cancel={type === \"cancel\"}\r\n        on:click>\r\n    <span><slot></slot></span>\r\n</button>\r\n\r\n\r\n<style>\r\n    button {\r\n        margin-left: 12px;\r\n        margin-top: 12px;\r\n        border-radius: 2px;\r\n        border: none;\r\n        padding: 1px;\r\n        display: inline-block;\r\n        cursor: pointer;\r\n        text-decoration: none !important;\r\n        color: #d2efa9;\r\n        text-shadow: 1px 1px 0 rgba(0, 0, 0, 0.3);\r\n        box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.2);\r\n        background-size: 330% 100%;\r\n    }\r\n    .primary {\r\n        background-image: linear-gradient( to right, #75b022 5%, #588a1b 95%);\r\n        color: #d2efa9;\r\n    }\r\n    .primary:hover {\r\n        background-image: linear-gradient( to right, #8ed629 5%, #6aa621 95%);\r\n        color: white;\r\n    }\r\n\r\n    .secondary {\r\n        background-image: linear-gradient( to right, #47bfff 5%, #1a44c2 60%);\r\n        color: #c3e1f8;\r\n    }\r\n    .secondary:hover {\r\n        background-image: linear-gradient( to right, #47bfff 5%, #1a44c2 60%);\r\n        color: white;\r\n    }\r\n\r\n    .cancel {\r\n        background-image: linear-gradient( to right, #32363f 5%, #32363f 95%);\r\n        color: #dfe3e6;\r\n    }\r\n    .cancel:hover {\r\n        background-image: linear-gradient( to right, #464d58 5%, #464d58 95%);\r\n        color: white;\r\n    }\r\n\r\n    span {\r\n        padding: 0 15px;\r\n        font-size: 15px;\r\n        line-height: 30px;\r\n    }\r\n</style>", "<script lang=\"ts\">\r\n    import {createEventDispatcher} from \"svelte\";\r\n    import {fade} from \"svelte/transition\";\r\n    import ModalButton from \"@Core/Modals/Contained/ModalButton.svelte\";\r\n    import {EModalAction} from \"@Core/Modals/Contained/EModalAction\";\r\n\r\n    const dispatch = createEventDispatcher<{\r\n        button: EModalAction\r\n    }>();\r\n\r\n    export let title: string;\r\n    export let body: string = \"\";\r\n    export let showClose: boolean = false;\r\n    export let buttons: {\r\n        primary?: string,\r\n        secondary?: string,\r\n        cancel?: string\r\n    }|undefined = undefined;\r\n</script>\r\n\r\n<div class=\"container\">\r\n    <div class=\"bg\" in:fade={{duration: 200}}></div>\r\n    <div class=\"modal\">\r\n        <div class=\"top-bar\"></div>\r\n        <div>\r\n            <div class=\"header\">\r\n                {#if showClose}\r\n                    <button type=\"button\" on:click={() => dispatch(\"button\", EModalAction.Cancel)}></button>\r\n                {/if}\r\n                <div class=\"title\">{title}</div>\r\n            </div>\r\n        </div>\r\n        <div class=\"content\">\r\n            <slot>{@html body}</slot>\r\n\r\n            {#if buttons && (buttons?.primary || buttons?.secondary || buttons?.cancel)}\r\n                <div class=\"buttons\">\r\n                    {#if buttons?.primary}\r\n                        <ModalButton type=\"primary\" on:click={() => dispatch(\"button\", EModalAction.OK)}>{buttons.primary}</ModalButton>\r\n                    {/if}\r\n                    {#if buttons?.secondary}\r\n                        <ModalButton type=\"secondary\" on:click={() => dispatch(\"button\", EModalAction.Secondary)}>{buttons.secondary}</ModalButton>\r\n                    {/if}\r\n                    {#if buttons?.cancel}\r\n                        <ModalButton type=\"cancel\" on:click={() => dispatch(\"button\", EModalAction.Cancel)}>{buttons.cancel}</ModalButton>\r\n                    {/if}\r\n                </div>\r\n            {/if}\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n<style>\r\n    .container {\r\n        position: fixed;\r\n        top: 0;\r\n        left: 0;\r\n        z-index: 900;\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        width: 100vw;\r\n        height: 100vh\r\n    }\r\n\r\n    .modal {\r\n        position: relative;\r\n        min-width: 500px;\r\n        max-width: calc(100vw - 100px);\r\n        margin: auto;\r\n        font-family: \"Motiva Sans\", Sans-serif;\r\n        font-weight: normal;\r\n        background: radial-gradient(circle at top left, rgba(74, 81, 92, 0.4) 0%, rgba(75, 81, 92, 0) 60%), #25282e;\r\n    }\r\n\r\n    .top-bar {\r\n        width: 100%;\r\n        height: 1px;\r\n        background: linear-gradient(to right, #00ccff, #3366ff);\r\n    }\r\n\r\n    .header {\r\n        padding: 0;\r\n        text-align: left;\r\n        font-size: 22px;\r\n        font-weight: 700;\r\n        color: #ffffff;\r\n        letter-spacing: unset;\r\n        text-transform: unset;\r\n    }\r\n\r\n    button {\r\n        border: none;\r\n        background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjVBREZBRDlBNzdCNzExRTI5ODAzRUE3MDU0Mzk5MjM5IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjVBREZBRDlCNzdCNzExRTI5ODAzRUE3MDU0Mzk5MjM5Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NUFERkFEOTg3N0I3MTFFMjk4MDNFQTcwNTQzOTkyMzkiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NUFERkFEOTk3N0I3MTFFMjk4MDNFQTcwNTQzOTkyMzkiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4iulRzAAABPElEQVR42mI8cuQIAyWABUqbAXEylH0fiDtwqI8FYhsoewEQH4cZcBaI64DYG8p/AVWADDyAeD4QMwPxJiA+BRJkgkr+BeJoIL4D5U8DYi0kzepAvAKq+TJU7V9kA0DgIxD7Q2lOIF4NpfmBeAuUfg3EPkD8BaaJCc2Z14A4EcoGuWAC1NkqQPwLqvkRsgYmLAG1HoiboOw0IA6EshNh/iZkAAjUA/FBJP5KIF6GTSEuAwygUQsDflAxogwQAuJ10AAExcpNKHsjEIsSMoAZGl2K0EALBeIIKFsOKSpxGtACxK5Qdi4QX4DiAqiYExB34TIgBIgrkAJtFpLcdKgYCBQBcRRMghGamUBxfhKIeaB+NkFOLFAAkjsDTZXfgdgK5DpYXvBGiqYpWDQzQMVAYZKDlDcuMFKanQECDAAqw0LA+GRiqAAAAABJRU5ErkJggg==);\r\n        background-color: transparent;\r\n        background-repeat: no-repeat;\r\n        background-position: center right;\r\n        cursor: pointer;\r\n        float: right;\r\n        margin-top: 9px;\r\n        margin-right: 9px;\r\n        height: 16px;\r\n        width: 16px;\r\n        opacity: 0.7;\r\n    }\r\n    button:hover {\r\n        opacity: 1;\r\n    }\r\n\r\n    .title {\r\n        padding: 24px 24px 0 24px;\r\n        display: block;\r\n    }\r\n\r\n    .content {\r\n        width: 100%;\r\n        overflow: auto;\r\n        word-wrap: break-word;\r\n        padding: 24px 25px 25px 25px;\r\n        font-size: 16px;\r\n        line-height: 1.25;\r\n        color: #acb2b8;\r\n        position: relative;\r\n        max-height: calc(100vh - 100px);\r\n        box-sizing: border-box;\r\n    }\r\n\r\n    .buttons {\r\n        text-align: right;\r\n    }\r\n\r\n    .bg {\r\n        position: fixed;\r\n        background: #000000;\r\n        opacity: 0.8;\r\n        top: 0;\r\n        right: 0;\r\n        bottom: 0;\r\n        left: 0;\r\n    }\r\n</style>", "import {__cancel, __ok} from \"@Strings/_strings\";\r\nimport {L} from \"@Core/Localization/Localization\";\r\nimport Modal from \"@Core/Modals/Contained/Modal.svelte\";\r\nimport type {EModalAction} from \"@Core/Modals/Contained/EModalAction\";\r\n\r\nexport default class ConfirmDialog {\r\n\r\n    constructor(\r\n        private readonly title: string,\r\n        private readonly body: string=\"\",\r\n        private readonly buttons: {\r\n            primary?: string,\r\n            secondary?: string,\r\n            cancel?: string\r\n        } = {\r\n            primary: L(__ok),\r\n            cancel: L(__cancel)\r\n        }\r\n    ) {}\r\n\r\n    show(): Promise<EModalAction> {\r\n        return new Promise(resolve => {\r\n            const modal = new Modal({\r\n                target: document.body,\r\n                props: {\r\n                    title: this.title,\r\n                    body: this.body,\r\n                    buttons: this.buttons\r\n                }\r\n            });\r\n            modal.$on(\"button\", (e: CustomEvent<EModalAction>) => {\r\n                resolve(e.detail);\r\n                modal.$destroy();\r\n            });\r\n        });\r\n    }\r\n}\r\n", "<script lang=\"ts\">\r\n    import {L} from \"@Core/Localization/Localization\";\r\n    import ExtensionResources from \"@Core/ExtensionResources\";\r\n    import {\r\n        __bugFeature,\r\n        __cancel,\r\n        __clearCache,\r\n        __contribute,\r\n        __launchRandom,\r\n        __ok,\r\n        __playGame,\r\n        __thewordoptions,\r\n        __visitStore,\r\n        __website\r\n    } from \"@Strings/_strings\";\r\n    import Config from \"config\";\r\n    import SteamStoreApiFacade from \"@Content/Modules/Facades/SteamStoreApiFacade\";\r\n    import DynamicStore from \"@Content/Modules/Data/DynamicStore\";\r\n    import external from \"@Content/externalLink\";\r\n    import type UserInterface from \"@Core/User/UserInterface\";\r\n    import CacheApiFacade from \"@Content/Modules/Facades/CacheApiFacade\";\r\n    import {onMount} from \"svelte\";\r\n    import {fade} from \"svelte/transition\";\r\n    import ConfirmDialog from \"@Core/Modals/ConfirmDialog\";\r\n    import {EModalAction} from \"@Core/Modals/Contained/EModalAction\";\r\n\r\n    export let user: UserInterface;\r\n\r\n    let isOpen: boolean = false;\r\n    let parentNode: HTMLElement;\r\n\r\n    function outsideClickHandler(e: MouseEvent) {\r\n        const target = e.target as HTMLElement;\r\n        if (parentNode.contains(target)) {\r\n            return;\r\n        }\r\n        closeMenu();\r\n    }\r\n\r\n    function toggleMenu(): void {\r\n        if (isOpen) {\r\n            closeMenu();\r\n        } else {\r\n            openMenu();\r\n        }\r\n    }\r\n\r\n    function openMenu(): void {\r\n        isOpen = true;\r\n        document.addEventListener(\"click\", outsideClickHandler);\r\n    }\r\n\r\n    function closeMenu(): void {\r\n        isOpen = false;\r\n        document.removeEventListener(\"click\", outsideClickHandler);\r\n    }\r\n\r\n    async function clearCache(): Promise<void> {\r\n        await CacheApiFacade.clearCache();\r\n        window.location.reload();\r\n    }\r\n\r\n    async function launchRandom(): Promise<void> {\r\n        const appid = await DynamicStore.getRandomApp();\r\n        if (!appid) { return; }\r\n\r\n        const appdetails = await SteamStoreApiFacade.fetchAppDetails(appid);\r\n        if (!appdetails) {\r\n            return;\r\n        }\r\n\r\n        const gameid = appdetails.fullgame?.appid ?? appid;\r\n        const gamename = appdetails.fullgame?.name ?? appdetails.name;\r\n\r\n        const confirm = await (new ConfirmDialog(\r\n            L(__playGame, {gamename}),\r\n            `<img src=\"https://shared.fastly.steamstatic.com/store_item_assets/steam/apps/${gameid}/header.jpg\">`,\r\n            {\r\n                primary: L(__ok),\r\n                secondary: L(__visitStore),\r\n                cancel: L(__cancel)\r\n            }\r\n        )).show();\r\n\r\n        if (confirm === EModalAction.OK) {\r\n            window.location.assign(`steam://run/${gameid}`)\r\n        } else if (confirm === EModalAction.Secondary) {\r\n            window.location.assign(`//store.steampowered.com/app/${gameid}`)\r\n        }\r\n    }\r\n\r\n    onMount(() => {\r\n        parentNode\r\n    });\r\n</script>\r\n\r\n<div class=\"as-menu\" bind:this={parentNode}>\r\n    <button class:is-open={isOpen} on:click={toggleMenu}>Augmented Steam</button>\r\n\r\n    {#if isOpen}\r\n        <!-- svelte-ignore a11y-click-events-have-key-events a11y-no-static-element-interactions -->\r\n        <div class=\"body\" on:click={closeMenu} transition:fade={{duration: 100}}>\r\n            <div class=\"group\">\r\n                <a target=\"_blank\" href={ExtensionResources.getURL(\"html/options.html\")}>{L(__thewordoptions)}</a>\r\n                <a href=\"#clear_cache\" on:click|preventDefault={clearCache}>{L(__clearCache)}</a>\r\n            </div>\r\n            <div class=\"group\">\r\n                <a use:external href=\"https://github.com/IsThereAnyDeal/AugmentedSteam\">{L(__contribute)}</a>\r\n                <a use:external href=\"https://github.com/IsThereAnyDeal/AugmentedSteam/issues\">{L(__bugFeature)}</a>\r\n            </div>\r\n            <div class=\"group\">\r\n                <a use:external href=\"{Config.PublicHost}\">{L(__website)}</a>\r\n                <a use:external href=\"https://isthereanydeal.com/\">IsThereAnyDeal</a>\r\n                <a use:external href=\"{Config.ITADDiscord}\">Discord</a>\r\n            </div>\r\n\r\n            {#if user.isSignedIn}\r\n                <div class=\"group\">\r\n                    <a id=\"es_random_game\" class=\"popup_menu_item\" on:click={launchRandom}>{L(__launchRandom)}</a>\r\n                </div>\r\n            {/if}\r\n        </div>\r\n    {/if}\r\n</div>\r\n\r\n\r\n<style>\r\n    .as-menu {\r\n        display: inline-block;\r\n        position: relative;\r\n    }\r\n\r\n    button {\r\n        display: inline-flex;\r\n        align-items: center;\r\n        border: none;\r\n        height: 25px;\r\n        font: inherit;\r\n        line-height: 25px;\r\n        margin-right: 5px;\r\n        color: #b8b6b4;\r\n        background-color: transparent;\r\n        background-image: url(\"https://cdn.fastly.steamstatic.com/store/ssr/btn_arrow_down_padded-LIJGVCWF.png\");\r\n        background-position: right center;\r\n        background-repeat: no-repeat;\r\n        padding-right: 18px;\r\n        cursor: pointer;\r\n    }\r\n    button.is-open,\r\n    button:hover {\r\n        color: #ffffff;\r\n    }\r\n\r\n    .body {\r\n        position: absolute;\r\n        right: 0;\r\n        top: 100%;\r\n        white-space: nowrap;\r\n        font-size: 13px;\r\n        color: #b8b6b4;\r\n        padding: 0;\r\n        margin: 0;\r\n        background: #3d4450;\r\n        box-shadow: 0 0 12px #000000;\r\n        z-index: 1000;\r\n    }\r\n\r\n    .group + .group {\r\n        border-top: 1px solid #63717e;\r\n    }\r\n\r\n    a {\r\n        padding: 8px 18px;\r\n        display: block;\r\n        text-decoration: none;\r\n        color: #dcdedf;\r\n        white-space: nowrap;\r\n        cursor: pointer;\r\n        background: none;\r\n        border: none;\r\n        box-sizing: border-box;\r\n        text-align: start;\r\n        width: 100%;\r\n    }\r\n    a:hover {\r\n        background: #dcdedf;\r\n        color: #171a21;\r\n    }\r\n</style>\r\n", "<script lang=\"ts\">\r\n    import {L} from \"@Core/Localization/Localization\";\r\n    import {__hide, __update_dontShow} from \"@Strings/_strings\";\r\n    import {createEventDispatcher} from \"svelte\";\r\n\r\n    export let react: boolean;\r\n\r\n    const dispatch = createEventDispatcher<{\r\n        close: void,\r\n        hide: void\r\n    }>();\r\n</script>\r\n\r\n\r\n<div class=\"es_warn\" class:is-react={react}>\r\n    <div class=\"es_warn__cnt\">\r\n        <div><slot></slot></div>\r\n        <div class=\"es_warn__control\">\r\n            <button type=\"button\" class=\"es_warn__btn\" on:click={() => dispatch(\"close\")}>{L(__update_dontShow)}</button>\r\n            <button type=\"button\" class=\"es_warn__btn\" on:click={() => dispatch(\"hide\")}>{L(__hide)}</button>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n<style>\r\n    .es_warn {\r\n        font-size: 12px;\r\n        padding: 8px 0;\r\n        text-align: center;\r\n        background: #9a2820;\r\n        border-top: 1px solid #d63525;\r\n        border-bottom: 1px solid #d63525;\r\n        margin-bottom: -1px;\r\n        color: white;\r\n    }\r\n    .es_warn.is-react {\r\n        margin-left: -14px;\r\n        padding-left: 14px;\r\n    }\r\n\r\n    .es_warn__cnt {\r\n        max-width: 940px;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        margin: auto;\r\n        line-height: 20px;\r\n    }\r\n    .es_warn__cnt button {\r\n        text-decoration: underline;\r\n    }\r\n\r\n    .es_warn__control {\r\n        white-space: nowrap;\r\n    }\r\n\r\n    button {\r\n        background: #ffaaaa;\r\n        padding: 0 10px;\r\n        color: black;\r\n        text-transform: uppercase;\r\n        font-size: 11px;\r\n        border-radius: 1px;\r\n        text-decoration: none !important;\r\n        display: inline-block;\r\n        line-height: 20px;\r\n        cursor: pointer;\r\n        white-space: nowrap;\r\n        border: 0;\r\n    }\r\n    button:hover {\r\n        background: #e89a9a;\r\n    }\r\n</style>\r\n", "import browser, {type Storage as ns} from \"webextension-polyfill\";\r\nimport Storage, {type StorageSchema} from \"./Storage\";\r\nimport type {TLogin} from \"@Background/Modules/Community/_types\";\r\n\r\n// FIXME exports are confusing, figure out better export scheme\r\n\r\ninterface CacheEntry<V = unknown> {\r\n    data: V,\r\n    expiry: number\r\n}\r\n\r\nexport interface LocalStorageSchema extends StorageSchema {\r\n    login: TLogin,\r\n    storeCountry: string,\r\n    currency: CacheEntry<string>,\r\n    access_token: {\r\n        token: string,\r\n        expiry: number\r\n    },\r\n    lastItadImport: {\r\n        from: null|number,\r\n        to: null|number\r\n    },\r\n    syncEvents: Array<{\r\n        section: string,\r\n        type: \"push\"|\"pull\",\r\n        timestamp: number,\r\n        count: number\r\n    }>,\r\n    db_cleanup: number,\r\n    show_review_section: boolean,\r\n    hide_login_warn_store: boolean,\r\n    hide_login_warn_community: boolean,\r\n    guide_tags: string[],\r\n    market_stats: {\r\n        startListing: string|null,\r\n        purchaseTotal: number,\r\n        saleTotal: number\r\n    },\r\n    popular_refresh: boolean,\r\n    expand_slider: boolean,\r\n    workshop_state: string,\r\n    playback_hd: boolean,\r\n    steampeek: boolean,\r\n    support_info: {\r\n        data: any, // TODO fix type\r\n        expiry: number\r\n    },\r\n    review_filters: {\r\n        context?: string,\r\n        language?: string,\r\n        minPlaytime?: string,\r\n        maxPlaytime?: string\r\n    },\r\n    cachedUser?: string\r\n}\r\n\r\nclass LocalStorage<Schema extends StorageSchema> extends Storage<ns.LocalStorageArea, Schema>{\r\n\r\n    public constructor() {\r\n        super(browser.storage.local);\r\n    }\r\n}\r\n\r\nexport default new LocalStorage<LocalStorageSchema>();\r\n\r\n/* FIXME\r\nconst DEFAULTS = {\r\n    \"access_token\": null,\r\n    \"lastItadImport\": {\"from\": null, \"to\": null},\r\n    \"login\": {\"steamId\": null, \"profilePath\": null},\r\n    \"storeCountry\": null,\r\n    \"expand_slider\": false,\r\n    \"market_stats\": {\"startListing\": null, \"purchaseTotal\": 0, \"saleTotal\": 0},\r\n    \"popular_refresh\": false,\r\n    \"workshop_state\": \"\",\r\n    \"playback_hd\": false,\r\n    \"show_review_section\": true,\r\n    \"steampeek\": false,\r\n    \"support_info\": null,\r\n    \"hide_login_warn_store\": false,\r\n    \"hide_login_warn_community\": false,\r\n    \"review_filters\": {},\r\n    \"local_storage_migration\": {\"store\": false, \"community\": false, \"extension\": false},\r\n};\r\n\r\nconst PERSISTENT: (keyof typeof DEFAULTS)[] = [];\r\n*/\r\n", "<script lang=\"ts\">\r\n    import {L} from \"@Core/Localization/Localization\";\r\n    import {__loginWarning} from \"@Strings/_strings\";\r\n    import Warning from \"@Content/Modules/Widgets/AugmentedSteam/Components/Warning.svelte\";\r\n    import LocalStorage from \"@Core/Storage/LocalStorage\";\r\n    import {createEventDispatcher} from \"svelte\";\r\n\r\n    const dispatch = createEventDispatcher<{\r\n        close: void\r\n    }>();\r\n\r\n    export let react: boolean;\r\n    export let page: \"store\"|\"community\";\r\n\r\n    let host: string;\r\n    $: switch(page) {\r\n          case \"store\": host = \"store.steampowered.com\"; break;\r\n          case \"community\": host = \"steamcommunity.com\"; break;\r\n          default: throw new Error();\r\n      }\r\n\r\n    function handleClose(): void {\r\n        if (page === \"store\") {\r\n            LocalStorage.set(`hide_login_warn_store`, true);\r\n        } else if (page === \"community\") {\r\n            LocalStorage.set(`hide_login_warn_community`, true);\r\n        }\r\n        dispatch(\"close\");\r\n    }\r\n</script>\r\n\r\n\r\n<Warning {react} on:close={handleClose} on:hide={() => dispatch(\"close\")}>\r\n    {@html L(__loginWarning, {\"link\": `<a href=\"https://${host}/login/\">${host}</a>`})}\r\n</Warning>\r\n\r\n\r\n", "<script lang=\"ts\">\r\n    import Localization, {type TLocale} from \"@Core/Localization/Localization\";\r\n    import {__usingLanguage, __usingLanguageReturn} from \"@Strings/_strings\";\r\n    import {createEventDispatcher, onMount} from \"svelte\";\r\n    import Warning from \"@Content/Modules/Widgets/AugmentedSteam/Components/Warning.svelte\";\r\n    import SteamFacade from \"@Content/Modules/Facades/SteamFacade\";\r\n    import Settings from \"@Options/Data/Settings\";\r\n    import Language from \"@Core/Localization/Language\";\r\n\r\n    const dispatch = createEventDispatcher<{\r\n        close: void\r\n    }>();\r\n\r\n    let promise: Promise<TLocale>;\r\n\r\n    export let react: boolean;\r\n    export let currentLanguage: Language;\r\n    export let warningLanguage: Language;\r\n\r\n    function resetLanguageCode(): void {\r\n        // TODO find a way to change language for user in React pages\r\n        SteamFacade.changeLanguage(warningLanguage.name, true);\r\n    }\r\n\r\n    function handleClose(): void {\r\n        Settings.showlanguagewarning = false;\r\n        dispatch(\"close\");\r\n    }\r\n\r\n    async function handleSetLanguage(): Promise<void> {\r\n        const payload = new FormData();\r\n        payload.set(\"language\", warningLanguage.name);\r\n\r\n        await fetch(\"https://store.steampowered.com/account/setlanguage/\", {\r\n            method: \"POST\",\r\n            body: payload\r\n        });\r\n        window.location.href = `?l=${warningLanguage.name}`;\r\n    }\r\n\r\n    function str__usingLanguage(loc: TLocale): string {\r\n        return loc.strings[__usingLanguage]!\r\n            .replace(\"__current__\", loc.strings[`options_lang_${currentLanguage.name}`] ?? currentLanguage.name);\r\n    }\r\n\r\n    function str__usingLanguageReturn(loc: TLocale): string {\r\n        return loc.strings[__usingLanguageReturn]!\r\n            .replace(\"__base__\", loc.strings[`options_lang_${warningLanguage.name}`] ?? warningLanguage.name);\r\n    }\r\n\r\n    onMount(() => {\r\n        promise = Localization.load(warningLanguage.code ?? \"en\");\r\n    });\r\n</script>\r\n\r\n\r\n{#if promise}\r\n    {#await promise then locale}\r\n        <Warning {react} on:close={handleClose} on:hide={() => dispatch(\"close\")}>\r\n            {str__usingLanguage(locale)}\r\n\r\n            {#if react}\r\n                <button type=\"button\" on:click={handleSetLanguage}>\r\n                    {str__usingLanguageReturn(locale)}\r\n                </button>\r\n            {:else}\r\n                <button type=\"button\" on:click|preventDefault={resetLanguageCode}>\r\n                    {str__usingLanguageReturn(locale)}\r\n                </button>\r\n            {/if}\r\n        </Warning>\r\n    {/await}\r\n{/if}\r\n\r\n\r\n<style>\r\n    button {\r\n        background: #ffaaaa;\r\n        padding: 3px 10px;\r\n        color: black;\r\n        font-size: 12px;\r\n        border-radius: 1px;\r\n        text-decoration: none;\r\n        cursor: pointer;\r\n        white-space: nowrap;\r\n        border: 0;\r\n        margin-left: 10px;\r\n    }\r\n    button:hover {\r\n        background: #e89a9a;\r\n    }\r\n</style>", "<script lang=\"ts\">\r\n    import Settings from \"@Options/Data/Settings\";\r\n    import {onMount} from \"svelte\";\r\n    import LoginWarning from \"@Content/Modules/Widgets/AugmentedSteam/Components/LoginWarning.svelte\";\r\n    import Language from \"@Core/Localization/Language\";\r\n    import LanguageWarning from \"@Content/Modules/Widgets/AugmentedSteam/Components/LanguageWarning.svelte\";\r\n\r\n    export let language: Language;\r\n    export let react: boolean;\r\n\r\n    let languageWarning: Language|null = null;\r\n    let loginWarning: \"store\"|\"community\"|null = null;\r\n\r\n    onMount(() => {\r\n        document.addEventListener(\"asRequestError\", async (e) => {\r\n            const {detail} = e as CustomEvent;\r\n            const name = detail.name ?? null;\r\n            const message = detail.message ?? null;\r\n\r\n            if (name === \"LoginError\" && (message === \"store\" || message === \"community\")) {\r\n                loginWarning = message;\r\n            }\r\n        });\r\n\r\n        if (Settings.showlanguagewarning) {\r\n            if (!Settings.showlanguagewarninglanguage) {\r\n                Settings.showlanguagewarninglanguage = language.name;\r\n            }\r\n\r\n            const warningLanguage = Settings.showlanguagewarninglanguage;\r\n            if (language.name !== warningLanguage) {\r\n                languageWarning = new Language(warningLanguage);\r\n            }\r\n        }\r\n    });\r\n</script>\r\n\r\n\r\n{#if languageWarning}\r\n    <LanguageWarning {react}\r\n            currentLanguage={language}\r\n            warningLanguage={languageWarning}\r\n            on:close={() => languageWarning = null}\r\n    />\r\n{/if}\r\n\r\n{#if loginWarning}\r\n    <LoginWarning {react}\r\n            page={loginWarning}\r\n            on:close={() => loginWarning = null}\r\n    />\r\n{/if}\r\n", "<script lang=\"ts\">\r\n    import {onMount} from \"svelte\";\r\n\r\n    export let target: HTMLElement|undefined;\r\n\r\n    let visible: boolean = false;\r\n\r\n    function toTop(): void {\r\n        (target ?? window).scroll({\r\n            \"top\": 0,\r\n            \"left\": 0,\r\n            \"behavior\": \"smooth\"\r\n        });\r\n    }\r\n\r\n    function handleScroll(): void {\r\n        const scrollTop = target\r\n            ? target.scrollTop\r\n            : window.scrollY;\r\n\r\n        visible = scrollTop >= 400;\r\n    }\r\n\r\n    onMount(() => {\r\n        (target ?? window).addEventListener(\"scroll\", handleScroll);\r\n    });\r\n</script>\r\n\r\n\r\n<button class:is-visible={visible}\r\n     on:click={toTop}\r\n>▲</button>\r\n\r\n\r\n<style>\r\n    button {\r\n        position: fixed;\r\n        display: flex;\r\n        width: 50px;\r\n        height: 50px;\r\n        align-items: center;\r\n        justify-content: center;\r\n        z-index: 9999;\r\n        opacity: 0;\r\n        visibility: hidden;\r\n        box-shadow: 0 0 10px 2px #000000;\r\n        left: 50%;\r\n        bottom: 20px;\r\n        top: auto;\r\n        margin-left: 500px;\r\n        font-size: 22px;\r\n        border: 0;\r\n        border-radius: 50%;\r\n        cursor: pointer;\r\n        background: linear-gradient( to bottom, rgba(33,101,138,1) 5%, rgba(23,67,92,1) 95%);\r\n        transition: visibility 0s 200ms, opacity 200ms ease-in-out;\r\n        color: white;\r\n    }\r\n    button:hover {\r\n        background: linear-gradient( to bottom, rgba(47,137,188,1) 5%, rgba(23,67,92,1) 95%);\r\n    }\r\n    button.is-visible {\r\n        opacity: 1;\r\n        visibility: visible;\r\n        transition: visibility, opacity 200ms ease-in-out;\r\n    }\r\n\r\n</style>", "import {L} from \"@Core/Localization/Localization\";\r\nimport {__activate, __viewinclient,} from \"@Strings/_strings\";\r\nimport Settings from \"@Options/Data/Settings\";\r\nimport AugmentedSteamMenu from \"@Content/Modules/Widgets/AugmentedSteam/AugmentedSteamMenu.svelte\";\r\nimport CacheApiFacade from \"@Content/Modules/Facades/CacheApiFacade\";\r\nimport AugmentedSteamWarnings from \"@Content/Modules/Widgets/AugmentedSteam/AugmentedSteamWarnings.svelte\";\r\nimport Language from \"@Core/Localization/Language\";\r\nimport type UserInterface from \"@Core/User/UserInterface\";\r\nimport BackToTop from \"@Content/Modules/Widgets/AugmentedSteam/BackToTop.svelte\";\r\nimport DynamicStore from \"@Content/Modules/Data/DynamicStore\";\r\nimport LocalStorage from \"@Core/Storage/LocalStorage\";\r\n\r\nexport default class AugmentedSteam {\r\n\r\n    private warningComponent: AugmentedSteamWarnings|undefined;\r\n\r\n    private readonly language: Language;\r\n    private readonly user: UserInterface;\r\n    private readonly react: boolean;\r\n\r\n    constructor(\r\n        language: Language|null,\r\n        user: UserInterface,\r\n        react: boolean\r\n    ) {\r\n        this.language = language ?? new Language(\"english\");\r\n        this.user = user;\r\n        this.react = react;\r\n    }\r\n\r\n    private addMenu(): void {\r\n        const target = document.querySelector(this.react\r\n            ? \"header nav + div\"\r\n            : \"#global_action_menu\"\r\n        )!;\r\n\r\n        (new AugmentedSteamMenu({\r\n            target,\r\n            anchor: target.firstElementChild!,\r\n            props: {\r\n                user: this.user\r\n            }\r\n        }));\r\n    }\r\n\r\n    private addBackToTop(): void {\r\n        if (!Settings.show_backtotop) { return; }\r\n\r\n        const scrollTarget = this.react\r\n            ? document.querySelector<HTMLElement>(\"#StoreTemplate\")\r\n            : null;\r\n\r\n        (new BackToTop({\r\n            target: document.body,\r\n            props: {\r\n                target: scrollTarget ?? undefined\r\n            }\r\n        }))\r\n    }\r\n\r\n    private focusSearchBox() {\r\n\r\n        const node = document.querySelector<HTMLElement>(\r\n            (this.react\r\n                ? [\r\n                    \"input.Focusable\" // Wishlist\r\n                ] : [\r\n                    \"#store_nav_search_term\", // Store pages\r\n                    \"input.discussionSearchText\", // Community discussions\r\n                    \"#workshopSearchText\", // Workshop\r\n                    \"#findItemsSearchBox\", // Market\r\n                    \"input#filter_control\", // Inventory\r\n                    // TODO support dynamic pages e.g. groups/friends, Games page (React)\r\n                ]).join(\",\"));\r\n\r\n        if (!node) { return; }\r\n\r\n        function isContentEditable(el: Element): boolean {\r\n            return el.tagName === \"INPUT\"\r\n                || el.tagName === \"TEXTAREA\"\r\n                || (el instanceof HTMLElement && el.isContentEditable);\r\n        }\r\n\r\n        document.addEventListener(\"keydown\", (e: KeyboardEvent) => {\r\n            if (e.key !== \"s\" || e.ctrlKey || e.repeat) { return; }\r\n\r\n            let el = document.activeElement;\r\n            if (el && isContentEditable(el)) { return; }\r\n\r\n            // Check if active element is within a shadow root, see #1623\r\n            el = el?.shadowRoot?.activeElement ?? null;\r\n            if (el && isContentEditable(el)) { return; }\r\n\r\n            e.preventDefault();\r\n            node.focus();\r\n        });\r\n    }\r\n\r\n    private getWarningComponent(): AugmentedSteamWarnings {\r\n\r\n        if (!this.warningComponent) {\r\n            const header = document.querySelector(\"#global_header\")!;\r\n            this.warningComponent = new AugmentedSteamWarnings({\r\n                target: header.parentElement!,\r\n                anchor: header.nextElementSibling!\r\n            });\r\n        }\r\n        return this.warningComponent;\r\n    }\r\n\r\n    private addWarnings(): void {\r\n\r\n        let target: Element;\r\n        let anchor: Element|undefined;\r\n        if (this.react) {\r\n            target = document.querySelector(\"header ~ section\")!;\r\n            anchor = target.firstElementChild!;\r\n        } else {\r\n            const header = document.querySelector(\"#global_header\")!\r\n            target = header.parentElement!;\r\n            anchor = header.nextElementSibling!;\r\n        }\r\n\r\n        new AugmentedSteamWarnings({\r\n            target,\r\n            anchor,\r\n            props: {\r\n                react: this.react,\r\n                language: this.language\r\n            }\r\n        });\r\n    }\r\n\r\n    private handleInstallSteamButton(): void {\r\n        const option = Settings.installsteam;\r\n        if (option === \"show\") { return; }\r\n\r\n        const btn = document.querySelector<HTMLAnchorElement>(this.react\r\n            ? \"header nav ~ div a[href*='/about/']\"\r\n            : \"a.header_installsteam_btn\"\r\n        );\r\n        if (!btn) {\r\n            console.error(`Couldn't find \"Install Steam\" button element.`);\r\n            return;\r\n        }\r\n\r\n        if (option === \"hide\") {\r\n            btn.remove();\r\n        } else if (option === \"replace\") {\r\n\r\n            if (this.react) {\r\n                btn.textContent = L(__viewinclient);\r\n                btn.classList.add(\"is-react\");\r\n            } else {\r\n                btn.querySelector(\"div\")!.textContent = L(__viewinclient);\r\n            }\r\n\r\n            btn.href = `steam://openurl/${window.location.href}`;\r\n            btn.classList.add(\"es_steamclient_btn\");\r\n\r\n        }\r\n    }\r\n\r\n    private addRedeemLink(): void {\r\n\r\n        let node: HTMLAnchorElement|null;\r\n\r\n        node = document.querySelector(\r\n            this.react\r\n                ? \"header a[href*='/addfunds/']\"\r\n                : \"#account_dropdown a[href*='/addfunds/']\"\r\n        );\r\n        if (!node) {\r\n            console.error(\"Didn't find node to copy for adding redeem link\");\r\n            return;\r\n        }\r\n\r\n        const cloned = node.cloneNode(true) as HTMLAnchorElement;\r\n        cloned.href = \"https://store.steampowered.com/account/registerkey\";\r\n        cloned.textContent = L(__activate);\r\n\r\n        node.insertAdjacentElement(\"beforebegin\", cloned);\r\n    }\r\n\r\n    async build(): Promise<void> {\r\n\r\n        const userId = this.user.steamId ?? \"0\";\r\n        const cachedUser = await LocalStorage.get(\"cachedUser\");\r\n\r\n        if (cachedUser !== userId) {\r\n            console.log(`Clear cache, old: ${cachedUser}, new: ${userId}`);\r\n            await CacheApiFacade.clearCache();\r\n            await LocalStorage.set(\"cachedUser\", userId);\r\n        }\r\n\r\n        this.addBackToTop();\r\n        this.focusSearchBox();\r\n        this.addMenu();\r\n        this.addWarnings();\r\n        this.handleInstallSteamButton();\r\n\r\n        if (this.user.isSignedIn) {\r\n            this.addRedeemLink();\r\n\r\n            // TODO probably doesn't used on React pages?\r\n            DynamicStore.invalidateCacheHandler();\r\n        }\r\n    }\r\n}\r\n", "import Info from \"@Core/Info\";\r\n\r\ntype VersionTypes = Version|string|Array<string|number>;\r\n\r\nexport default class Version {\r\n\r\n    private readonly major: number;\r\n    private readonly minor: number;\r\n    private readonly patch:number;\r\n\r\n    constructor(major: number, minor: number = 0, patch: number = 0) {\r\n        console.assert([major, minor, patch].filter(Number.isInteger).length === 3, `${major}.${minor}.${patch} must be integers`);\r\n        this.major = major;\r\n        this.minor = minor;\r\n        this.patch = patch;\r\n    }\r\n\r\n    static from(version: VersionTypes) {\r\n        if (version instanceof Version) {\r\n            return new Version(version.major, version.minor, version.patch);\r\n        }\r\n        if (typeof version == \"string\") {\r\n            return Version.fromString(version);\r\n        }\r\n        if (Array.isArray(version)) {\r\n            return Version.fromArray(version);\r\n        }\r\n        throw new Error(`Could not construct a Version from ${version}`);\r\n    }\r\n\r\n    static fromArray(version: Array<string|number>): Version {\r\n        if (version.length === 0) {\r\n            throw new Error();\r\n        }\r\n\r\n        return new Version(\r\n            Number(version[0]),\r\n            Number(version[1] ?? 0),\r\n            Number(version[2] ?? 0)\r\n        );\r\n    }\r\n\r\n    static fromString(version: string): Version {\r\n        return Version.fromArray(version.split(\".\"));\r\n    }\r\n\r\n    static coerce(version: VersionTypes): Version {\r\n        if (version instanceof Version) {\r\n            return version;\r\n        }\r\n        return Version.from(version);\r\n    }\r\n\r\n    toString(): string {\r\n        return `${this.major}.${this.minor}.${this.patch}`;\r\n    }\r\n\r\n    toArray(): [number, number, number] {\r\n        return [this.major, this.minor, this.patch];\r\n    }\r\n\r\n    toJSON(): string {\r\n        return this.toString();\r\n    }\r\n\r\n    isCurrent(): boolean {\r\n        return this.isSameOrAfter(Info.version);\r\n    }\r\n\r\n    isSame(version: VersionTypes): boolean {\r\n        const _version = Version.coerce(version);\r\n        return this.major === _version.major\r\n            && this.minor === _version.minor\r\n            && this.patch === _version.patch;\r\n    }\r\n\r\n    isBefore(version: VersionTypes): boolean {\r\n        const _version = Version.coerce(version);\r\n        if (this.major < _version.major) { return true; }\r\n        if (this.major > _version.major) { return false; }\r\n\r\n        // this.major == _version.major\r\n        if (this.minor < _version.minor) { return true; }\r\n        if (this.minor > _version.minor) { return false; }\r\n\r\n        // this.minor == _version.minor\r\n        if (this.patch < _version.patch) { return true; }\r\n        return false;\r\n    }\r\n\r\n    isSameOrBefore(version: VersionTypes): boolean {\r\n        return this.isSame(version) || this.isBefore(version);\r\n    }\r\n\r\n    isAfter(version: VersionTypes): boolean {\r\n        const _version = Version.coerce(version);\r\n        return _version.isBefore(this);\r\n    }\r\n\r\n    isSameOrAfter(version: VersionTypes): boolean {\r\n        const _version = Version.coerce(version);\r\n        return _version.isSameOrBefore(this);\r\n    }\r\n}\r\n", "<script lang=\"ts\">\r\n    import ExtensionResources from \"@Core/ExtensionResources\";\r\n    import Info from \"@Core/Info\";\r\n    import {L} from \"@Core/Localization/Localization\";\r\n    import {__update_changes, __update_updated} from \"@Strings/_strings\";\r\n    import Modal from \"@Core/Modals/Contained/Modal.svelte\";\r\n    import {createEventDispatcher, onMount} from \"svelte\";\r\n    import type Version from \"@Core/Version\";\r\n\r\n    const dispatch = createEventDispatcher<{\r\n        close: void\r\n    }>();\r\n\r\n    export let lastVersion: Version;\r\n\r\n    let promise: Promise<string>\r\n\r\n    onMount(() => {\r\n        promise = (async () => {\r\n            const changelog = await ExtensionResources.getJSON<Record<string, string>>(\"changelog.json\");\r\n            const html = changelog[Info.version];\r\n            if (!html) {\r\n                throw new Error(`Can't find changelog for version ${Info.version}`);\r\n            }\r\n            return html;\r\n        })();\r\n    });\r\n</script>\r\n\r\n\r\n{#if promise}\r\n    {#await promise then html}\r\n        <Modal title={L(__update_updated, {\"version\": Info.version})}\r\n               showClose\r\n               buttons={{cancel: \"OK\"}}\r\n               on:button={() => dispatch(\"close\")}\r\n        >\r\n            <div class=\"changelog\">\r\n                <img src={ExtensionResources.getURL(\"img/logo/as128.png\")} alt=\"Logo\">\r\n                <div>\r\n                    {@html html}\r\n                    <p>\r\n                        <a href={`https://github.com/IsThereAnyDeal/AugmentedSteam/compare/v${lastVersion}...v${Info.version}`} target=\"_blank\">\r\n                            {L(__update_changes)}\r\n                        </a>\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </Modal>\r\n    {/await}\r\n{/if}\r\n\r\n\r\n<style>\r\n    .changelog {\r\n        height: 100%;\r\n        display: flex;\r\n        flex-direction: row;\r\n        align-items: flex-start;\r\n        max-width: 800px;\r\n        font-size: 14px;\r\n    }\r\n    .changelog :global(h1) {\r\n        font-size: 18px;\r\n        margin: 20px 0 5px 0;\r\n    }\r\n    .changelog :global(p) {\r\n        margin-bottom: 0.4em;\r\n        font-size: 14px !important;\r\n    }\r\n    .changelog :global(img) {\r\n        margin-right: 21px;\r\n    }\r\n    .changelog :global(ul) {\r\n        list-style-position: outside;\r\n        padding: 0 10px 10px 10px;\r\n        margin: 0 0 0 15px;\r\n    }\r\n    .changelog :global(li) {\r\n        margin-bottom: 3px;\r\n    }\r\n    .changelog :global(a) {\r\n        text-decoration: none;\r\n        color: #ffffff;\r\n    }\r\n    .changelog :global(a:hover) {\r\n        color: #66c0f4;\r\n    }\r\n</style>", "import Version from \"@Core/Version\";\r\nimport Info from \"@Core/Info\";\r\nimport Settings from \"@Options/Data/Settings\";\r\nimport Changelog from \"@Core/Update/Changelog.svelte\";\r\n\r\nexport default class ChangelogHandler {\r\n\r\n    static async checkVersion(): Promise<void> {\r\n        const lastVersion = Version.fromString(Settings.version);\r\n        const currentVersion = Version.fromString(Info.version);\r\n\r\n        if (currentVersion.isAfter(lastVersion) && Settings.version_show) {\r\n            const changelog = new Changelog({\r\n                target: document.body,\r\n                props: {lastVersion}\r\n            });\r\n            changelog.$on(\"close\", () => changelog.$destroy());\r\n        }\r\n\r\n        Settings.version = Info.version;\r\n    }\r\n}\r\n", "import type {\r\n    TCollectionCopy,\r\n    TGetStoreListResponse, TInCollectionResponse,\r\n    TInWaitlistResponse,\r\n    TLastImportResponse, TNotesList, TPushNotesStatus, TSyncEvent\r\n} from \"@Background/Modules/IsThereAnyDeal/_types\";\r\nimport Background from \"@Core/Background\";\r\nimport {EAction} from \"@Background/EAction\";\r\n\r\nexport default class ITADApiFacade {\r\n\r\n    static getStoreList(): Promise<TGetStoreListResponse> {\r\n        return Background.send<TGetStoreListResponse>(EAction.StoreList);\r\n    }\r\n\r\n    static authorize(): Promise<void> {\r\n        return Background.send(EAction.Authorize);\r\n    }\r\n\r\n    static disconnect(): Promise<void> {\r\n        return Background.send(EAction.Disconnect);\r\n    }\r\n\r\n    static isConnected(): Promise<boolean> {\r\n        return Background.send(EAction.IsConnected);\r\n    }\r\n\r\n    static sync(force: boolean=false): Promise<void> {\r\n        return Background.send(EAction.Sync, {force});\r\n    }\r\n\r\n    static getLastImport(): Promise<TLastImportResponse> {\r\n        return Background.send(EAction.LastImport);\r\n    }\r\n\r\n    static getSyncEvents(): Promise<TSyncEvent[]> {\r\n        return Background.send(EAction.SyncEvents);\r\n    }\r\n\r\n    static async inWaitlist(storeIds: string[]): Promise<TInWaitlistResponse> {\r\n        return Background.send(EAction.InWaitlist, {storeIds});\r\n    }\r\n\r\n    static async addToWaitlist(...appids: number[]) {\r\n        return Background.send(EAction.AddToWaitlist, {appids});\r\n    }\r\n\r\n    static async removeFromWaitlist(...appids: number[]) {\r\n        return Background.send(EAction.RemoveFromWaitlist, {appids});\r\n    }\r\n\r\n    static async inCollection(storeIds: string[]): Promise<TInCollectionResponse> {\r\n        return Background.send(EAction.InCollection, {storeIds});\r\n    }\r\n\r\n    static async getFromCollection(storeId: string): Promise<TCollectionCopy[]|null> {\r\n        return Background.send(EAction.GetFromCollection, {storeId});\r\n    }\r\n\r\n    static async pullNotes(): Promise<number> {\r\n        return Background.send(EAction.ITAD_Notes_Pull);\r\n    }\r\n\r\n    static async pushNotes(notes: TNotesList): Promise<TPushNotesStatus> {\r\n        return Background.send(EAction.ITAD_Notes_Push, {notes});\r\n    }\r\n\r\n    /**\r\n     * Just a convenience wrapper around PushNotes\r\n     */\r\n    static async pushNote(appid: number, note: string): Promise<TPushNotesStatus> {\r\n        return Background.send(EAction.ITAD_Notes_Push, {notes: [[appid, note]]});\r\n    }\r\n\r\n    static async deleteNote(appid: number): Promise<void> {\r\n        return Background.send(EAction.ITAD_Notes_Delete, {appids: [appid]});\r\n    }\r\n}\r\n", "\r\nconst enum ESyncStatus {\r\n    OK,\r\n    Loading,\r\n    Error\r\n}\r\nexport default ESyncStatus;", "<script lang=\"ts\">\r\n    import ESyncStatus from \"@Core/Sync/ESyncStatus\";\r\n\r\n    export let status: ESyncStatus = ESyncStatus.OK;\r\n</script>\r\n\r\n\r\n<span class:is-loading={status === ESyncStatus.Loading}\r\n      class:is-error={status === ESyncStatus.Error}></span>\r\n\r\n\r\n<style>\r\n    span {\r\n        display: inline-block;\r\n        vertical-align: middle;\r\n        align-self: center;\r\n        border: 3px solid #02ba55;\r\n        border-radius: 50%;\r\n    }\r\n    span.is-error {\r\n        border-color: #d72e2e;\r\n    }\r\n    span.is-loading {\r\n        border-color: #3090ce;\r\n        animation: pulse 600ms alternate infinite;\r\n    }\r\n    @keyframes pulse {\r\n        0% { opacity: 0; }\r\n        100% { opacity: 1; }\r\n    }\r\n</style>", "<script lang=\"ts\">\r\n    import ITADApiFacade from \"@Content/Modules/Facades/ITADApiFacade\";\r\n    import {L} from \"@Core/Localization/Localization\";\r\n    import {__itad_from, __itad_lastImport, __itad_syncNow, __itad_to, __loading, __never} from \"@Strings/_strings\";\r\n    import ESyncStatus from \"@Core/Sync/ESyncStatus\";\r\n    import SyncIndicator from \"@Core/Sync/SyncIndicator.svelte\";\r\n    import {fade} from \"svelte/transition\";\r\n    import {createEventDispatcher} from \"svelte\";\r\n\r\n    const dispatch = createEventDispatcher<{syncEvent: void}>();\r\n\r\n    export let isConnected: boolean;\r\n    export let enableSync: boolean;\r\n    export let status: ESyncStatus = ESyncStatus.OK;\r\n\r\n    let from: number|null = null;\r\n    let to: number|null = null;\r\n\r\n    export async function updateLastImport(): Promise<void> {\r\n        const last = await ITADApiFacade.getLastImport();\r\n        from = last.from;\r\n        to = last.to;\r\n    }\r\n\r\n    async function syncNow(): Promise<void> {\r\n        status = ESyncStatus.Loading;\r\n\r\n        try {\r\n            await ITADApiFacade.sync(true);\r\n            status = ESyncStatus.OK;\r\n            await updateLastImport();\r\n            dispatch(\"syncEvent\");\r\n        } catch (e) {\r\n            status = ESyncStatus.Error;\r\n\r\n            console.group(\"ITAD sync\");\r\n            console.error(\"Failed to sync with ITAD\");\r\n            console.error(e);\r\n            console.groupEnd();\r\n        }\r\n    }\r\n</script>\r\n\r\n\r\n<div class=\"asi-container\">\r\n    <div class=\"asi-head\">{L(__itad_lastImport)}</div>\r\n\r\n    <div class=\"asi-status\">\r\n        <div class=\"asi-label\">{L(__itad_from)}</div>\r\n        {from ? new Date(from * 1000).toLocaleString() : L(__never)}\r\n    </div>\r\n\r\n    <div class=\"asi-status\">\r\n        <div class=\"asi-label\">{L(__itad_to)}</div>\r\n        {to ? new Date(to * 1000).toLocaleString() : L(__never)}\r\n    </div>\r\n\r\n    {#if isConnected && enableSync}\r\n        <div transition:fade={{duration: 200}}>\r\n            {#if status === ESyncStatus.Loading}\r\n                <span><SyncIndicator status={ESyncStatus.Loading} /> {L(__loading)}</span>\r\n            {:else}\r\n                <button type=\"button\" class=\"asi__sync-now\" on:click={syncNow}>{L(__itad_syncNow)}</button>\r\n            {/if}\r\n        </div>\r\n    {/if}\r\n</div>\r\n\r\n\r\n<style>\r\n    .asi-container {\r\n        line-height: 1.25;\r\n        color: #c6d4df;\r\n    }\r\n\r\n    .asi-head {\r\n        font-size: 14px;\r\n        margin-bottom: 15px;\r\n    }\r\n\r\n    .asi-status {\r\n        line-height: 1.25;\r\n        font-size: 13px;\r\n        margin: 15px 0;\r\n    }\r\n    .asi-label {\r\n        font-family: Arial, Helvetica, sans-serif;\r\n        text-transform: uppercase;\r\n        font-size: 10px;\r\n        color: #8f98a0;\r\n    }\r\n\r\n    button {\r\n        cursor: pointer;\r\n        text-decoration: underline;\r\n        background: none;\r\n        outline: 0;\r\n        border: 0;\r\n        font-size: 12px;\r\n        font-family: inherit;\r\n        color: inherit;\r\n        font-weight: inherit;\r\n        text-align: left;\r\n    }\r\n    button:hover {\r\n        color: white;\r\n    }\r\n</style>\r\n", "<script lang=\"ts\">\r\n    import ExtensionResources from \"@Core/ExtensionResources\";\r\n    import ITADSyncStatus from \"@Content/Modules/Widgets/ITADSync/ITADSyncStatus.svelte\";\r\n    import ESyncStatus from \"@Core/Sync/ESyncStatus\";\r\n    import SyncIndicator from \"@Core/Sync/SyncIndicator.svelte\";\r\n    import Settings from \"@Options/Data/Settings\";\r\n\r\n    const itadLogo = ExtensionResources.getURL(\"img/itad.png\");\r\n\r\n    let statusComponent: ITADSyncStatus;\r\n    let status: ESyncStatus|undefined = undefined;\r\n</script>\r\n\r\n\r\n<!-- svelte-ignore a11y-no-static-element-interactions -->\r\n<div class=\"asi\" on:mouseenter={() => statusComponent.updateLastImport()}>\r\n    <img class=\"asi__logo\" src={itadLogo} alt=\"ITAD logo\">\r\n    <SyncIndicator {status} />\r\n\r\n    <div class=\"asi__hover\">\r\n        <div class=\"asi__content\">\r\n            <ITADSyncStatus isConnected\r\n                            enableSync={Settings.itad_sync_library || Settings.itad_sync_wishlist}\r\n                            bind:status bind:this={statusComponent} />\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n<style>\r\n    .asi {\r\n        display: inline-flex;\r\n        align-items: center;\r\n        margin-right: 1em;\r\n    }\r\n    .asi__logo {\r\n        height: 20px;\r\n    }\r\n    img {\r\n        margin-right: 0.4em;\r\n    }\r\n\r\n    .asi__hover {\r\n        display: none;\r\n        position: absolute;\r\n        top: 0;\r\n        z-index: 1200;\r\n        left: -115px;\r\n        width: 250px;\r\n        margin-top: 13px;\r\n    }\r\n    .asi:hover .asi__hover {\r\n        display: block;\r\n    }\r\n\r\n    .asi__content {\r\n        padding: 12px;\r\n        border: 1px solid #3d4450;\r\n        position: relative;\r\n        background-color: #3d4450;\r\n        margin: 12px 12px 12px 12px;\r\n        box-shadow: 0 0 12px #000000;\r\n        white-space: nowrap;\r\n    }\r\n</style>\r\n", "import ITADApiFacade from \"@Content/Modules/Facades/ITADApiFacade\";\r\nimport ITADSyncMenu from \"@Content/Modules/Widgets/ITADSync/ITADSyncMenu.svelte\";\r\nimport type UserInterface from \"@Core/User/UserInterface\";\r\n\r\nexport default class ITAD {\r\n\r\n    static async init(user: UserInterface) {\r\n        if (!await ITADApiFacade.isConnected()) {\r\n            return;\r\n        }\r\n\r\n        if (user.isSignedIn) {\r\n            await ITADApiFacade.sync();\r\n        }\r\n\r\n        const menu = document.querySelector(\".as-menu\");\r\n        if (menu) {\r\n            (new ITADSyncMenu({\r\n                target: menu.parentElement!,\r\n                anchor: menu\r\n            }));\r\n        }\r\n    }\r\n\r\n    static async getInCollection(storeIds: string[]): Promise<Set<string>> {\r\n        const result = new Set<string>();\r\n        if (await ITADApiFacade.isConnected()) {\r\n            const map = await ITADApiFacade.inCollection(storeIds);\r\n            for (let [steamId, value] of Object.entries(map)) {\r\n                if (value) {\r\n                    result.add(steamId);\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    static async getInWaitlist(storeIds: string[]): Promise<Set<string>> {\r\n        const result = new Set<string>();\r\n        if (await ITADApiFacade.isConnected()) {\r\n            const map = await ITADApiFacade.inWaitlist(storeIds);\r\n            for (let [steamId, value] of Object.entries(map)) {\r\n                if (value) {\r\n                    result.add(steamId);\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n}\r\n", "import Page from \"@Content/Features/Page\";\r\nimport LanguageFactory from \"@Core/Localization/LanguageFactory\";\r\nimport UserFactory from \"@Core/User/UserFactory\";\r\nimport AppConfigFactory from \"@Core/AppConfig/AppConfigFactory\";\r\nimport type AppConfig from \"@Core/AppConfig/AppConfig\";\r\nimport type Language from \"@Core/Localization/Language\";\r\nimport type UserInterface from \"@Core/User/UserInterface\";\r\nimport ProgressBar from \"@Content/Modules/Widgets/ProgressBar\";\r\nimport AugmentedSteam from \"@Content/Modules/AugmentedSteam\";\r\nimport ChangelogHandler from \"@Core/Update/ChangelogHandler\";\r\nimport ITAD from \"@Content/Modules/ITAD\";\r\n\r\nexport default class LegacyPage extends Page {\r\n\r\n    override check(): boolean {\r\n        return !!document.getElementById(\"global_header\");\r\n    }\r\n\r\n    protected override async getAppConfig(factory: AppConfigFactory): Promise<AppConfig> {\r\n        return factory.createFromLegacy();\r\n    }\r\n\r\n    protected override async getLanguage(factory: LanguageFactory): Promise<Language|null> {\r\n       return factory.createFromLegacy();\r\n    }\r\n\r\n    protected override getUser(factory: UserFactory): Promise<UserInterface> {\r\n        return factory.createFromLegacy();\r\n    }\r\n\r\n    protected override async preApply(language: Language|null, user: UserInterface): Promise<void> {\r\n        ProgressBar.buildLegacy();\r\n\r\n        await (new AugmentedSteam(language, user, false))\r\n            .build();\r\n\r\n        await ChangelogHandler.checkVersion();\r\n        await ITAD.init(user);\r\n    }\r\n}\r\n", "import LegacyPage from \"@Content/Features/LegacyPage\";\r\n\r\nexport default class CommunityPage extends LegacyPage {}\r\n", "\r\nconst enum ContextType {\r\n    ACCOUNT,\r\n    APP,\r\n    BUNDLE,\r\n    STORE_DEFAULT,\r\n    FUNDS,\r\n    REGISTER_KEY,\r\n    CART,\r\n    SEARCH,\r\n    CHARTS,\r\n    STORE_FRONT,\r\n    SUB,\r\n    WISHLIST,\r\n    AGECHECK,\r\n    COMMUNITY_DEFAULT,\r\n    WORKSHOP,\r\n    PROFILE_ACTIVITY,\r\n    GAMES,\r\n    PROFILE_EDIT,\r\n    BADGES,\r\n    GAME_CARD,\r\n    FRIENDS_THAT_PLAY,\r\n    GLOBAL_STATS,\r\n    MARKET_SEARCH,\r\n    INVENTORY,\r\n    MARKET_LISTING,\r\n    MARKET_HOME,\r\n    PROFILE_HOME,\r\n    GROUP_HOME,\r\n    GUIDES,\r\n    COMMUNITY_APP,\r\n    PROFILE_STATS,\r\n    MY_WORKSHOP,\r\n    SHARED_FILES,\r\n    WORKSHOP_BROWSE,\r\n    EDIT_GUIDE,\r\n    RECOMMENDED,\r\n    BOOSTER_CREATOR,\r\n    TRADE_OFFER,\r\n    FRIENDS_AND_GROUPS,\r\n    POINTS_SHOP,\r\n    LICENSES,\r\n}\r\n\r\nexport default ContextType;\r\n", "import {__deleteCommentPrompt, __update_dontShow} from \"@Strings/_strings\";\r\nimport {L} from \"@Core/Localization/Localization\";\r\nimport Feature from \"@Content/Modules/Context/Feature\";\r\nimport type CCommunityBase from \"@Content/Features/Community/CCommunityBase\";\r\nimport Settings from \"@Options/Data/Settings\";\r\nimport DOMHelper from \"@Content/Modules/DOMHelper\";\r\n\r\nexport default class FConfirmDeleteComment extends Feature<CCommunityBase> {\r\n\r\n    override checkPrerequisites(): boolean {\r\n        return this.context.user.isSignedIn && Settings.confirmdeletecomment;\r\n    }\r\n\r\n    override apply(): void {\r\n\r\n        document.addEventListener(\"noDeletionConfirm\", () => {\r\n            Settings.confirmdeletecomment = false;\r\n        });\r\n\r\n        DOMHelper.insertScript(\"scriptlets/Community/confirmDeleteComments.js\", {\r\n            prompt: L(__deleteCommentPrompt),\r\n            label: L(__update_dontShow)\r\n        });\r\n    }\r\n}\r\n", "import Settings from \"@Options/Data/Settings\";\r\nimport {L} from \"@Core/Localization/Localization\";\r\nimport {__spamCommentShow} from \"@Strings/_strings\";\r\n\r\nexport default class SpamComments {\r\n\r\n    private static _spamRegex: RegExp|undefined;\r\n\r\n    static handleAllCommentThreads(parent: HTMLElement|Document = document) {\r\n        if (!Settings.hidespamcomments) { return; }\r\n\r\n        if (this._spamRegex === undefined) {\r\n            this._spamRegex = new RegExp(Settings.spamcommentregex, \"i\");\r\n        }\r\n\r\n        const nodes = parent.querySelectorAll<HTMLElement>(\".commentthread_comment_container:not(.esi_commentthread)\");\r\n        for (const node of nodes) {\r\n            this._updateCommentThread(node);\r\n            this._addCommentThreadObserver(node);\r\n        }\r\n    }\r\n\r\n    private static _addCommentThreadObserver(threadNode: HTMLElement): void {\r\n        if (threadNode.dataset.esiCommentObserver) {\r\n            return;\r\n        }\r\n        threadNode.dataset.esiCommentObserver = \"1\";\r\n\r\n        const commentsThread = threadNode.querySelector(\".commentthread_comments\");\r\n        if (!commentsThread) {\r\n            return;\r\n        }\r\n\r\n        (new MutationObserver(() => {\r\n            this._updateCommentThread(threadNode);\r\n        })).observe(commentsThread, {\"childList\": true});\r\n    }\r\n\r\n    private static _updateCommentThread(threadNode: HTMLElement): void {\r\n        const count = this._hideSpamComments(threadNode);\r\n\r\n        threadNode.classList.add(\"esi_commentthread\");\r\n\r\n        let button = threadNode.querySelector(\".esi_commentthread_button\");\r\n\r\n        if (count === 0) {\r\n            if (button) {\r\n                button.classList.add(\"esi-hidden\");\r\n            }\r\n            return;\r\n        }\r\n\r\n        if (!button) {\r\n            button = document.createElement(\"a\");\r\n            button.classList.add(\"esi_commentthread_button\");\r\n            threadNode.insertAdjacentElement(\"afterbegin\", button);\r\n\r\n            button.addEventListener(\"click\", () => {\r\n                threadNode.classList.add(\"esi_commentthread--showspam\");\r\n            });\r\n        }\r\n\r\n        button.classList.remove(\"esi-hidden\");\r\n        button.textContent = L(__spamCommentShow, {\"num\": count});\r\n        threadNode.classList.remove(\"esi_commentthread--showspam\");\r\n    }\r\n\r\n    private static _hideSpamComments(threadNode: HTMLElement): number {\r\n        if (!this._spamRegex) {\r\n            return 0;\r\n        }\r\n\r\n        const nodes = threadNode.querySelectorAll(\".commentthread_comment .commentthread_comment_text\");\r\n        let hiddenCount = 0;\r\n        for (const node of nodes) {\r\n            const commentText = node.textContent;\r\n            if (!commentText || !this._spamRegex.test(commentText)) {\r\n                continue;\r\n            }\r\n\r\n            const comment = node.closest(\".commentthread_comment\");\r\n            if (comment) {\r\n                comment.classList.add(\"esi_comment_hidden\");\r\n                hiddenCount++;\r\n            }\r\n        }\r\n\r\n        return hiddenCount;\r\n    }\r\n}\r\n", "import type CCommunityBase from \"@Content/Features/Community/CCommunityBase\";\r\nimport Feature from \"@Content/Modules/Context/Feature\";\r\nimport Settings from \"@Options/Data/Settings\";\r\nimport SpamComments from \"@Content/Modules/Community/SpamComments\";\r\n\r\nexport default class FHideSpamComments extends Feature<CCommunityBase> {\r\n\r\n    override checkPrerequisites(): boolean {\r\n        return Settings.hidespamcomments;\r\n    }\r\n\r\n    override apply(): void {\r\n        SpamComments.handleAllCommentThreads();\r\n\r\n        // TODO this should be moved to CCommunityBase and support other features\r\n        const modalWait = document.querySelector(\"#modalContentWait\");\r\n        if (!modalWait) { return; }\r\n\r\n        new MutationObserver(() => {\r\n            const modalContainer = document.querySelector(\"#modalContentFrameContainer\");\r\n            if (!modalContainer) { return; }\r\n\r\n            const latestFrame = window.frames[window.frames.length - 1]; // Only check latest added frame\r\n            if (latestFrame) {\r\n                SpamComments.handleAllCommentThreads(latestFrame.document);\r\n            }\r\n        }).observe(modalWait, {\"attributes\": true});\r\n    }\r\n\r\n}\r\n", "import DOMPurify from \"dompurify\";\r\n\r\nexport default class HTML {\r\n\r\n    static formatUrl(link: string): string {\r\n        const protocolReg = /^[a-z]+:\\/\\//;\r\n        const _link = protocolReg.test(link) ? link : `//${link}`;\r\n        return encodeURI(_link);\r\n    }\r\n\r\n    static escape(str: string): string {\r\n\r\n        // @see https://stackoverflow.com/a/4835406\r\n        const map: Record<string, string> = {\r\n            \"&\": \"&amp;\",\r\n            \"<\": \"&lt;\",\r\n            \">\": \"&gt;\",\r\n            '\"': \"&quot;\",\r\n            \"'\": \"&#039;\"\r\n        };\r\n\r\n        return str.replace(/[&<>\"']/g, (m: string): string => {\r\n            if (!map[m]) {\r\n                throw new Error();\r\n            }\r\n            return map[m]!;\r\n        });\r\n    }\r\n\r\n    static toDom(html: string): DocumentFragment {\r\n        const template = document.createElement(\"template\");\r\n        template.innerHTML = DOMPurify.sanitize(html);\r\n        return template.content;\r\n    }\r\n\r\n    static toElement<T extends Element>(html: string): T|null {\r\n        // @ts-ignore\r\n        return HTML.toDom(html).firstElementChild;\r\n    }\r\n\r\n    private static _getNode(nodeOrSelector: Element|string|null): Element|null {\r\n        let node: Element|null = typeof nodeOrSelector === \"string\"\r\n            ? document.querySelector(nodeOrSelector)\r\n            : nodeOrSelector;\r\n\r\n        if (node instanceof Element) {\r\n            return node;\r\n        }\r\n\r\n        console.warn(`${node} is not an Element.`);\r\n        console.trace();\r\n        return null;\r\n    }\r\n\r\n    static inner(nodeOrSelector: Element|string, html: string): Element|null {\r\n        const node = HTML._getNode(nodeOrSelector);\r\n\r\n        if (node) {\r\n            node.innerHTML = DOMPurify.sanitize(html);\r\n        }\r\n\r\n        return node;\r\n    }\r\n\r\n    static replace(nodeOrSelector: Element|string, html: string): Element|null {\r\n        const node = HTML._getNode(nodeOrSelector);\r\n\r\n        if (!node) {\r\n            return null;\r\n        }\r\n\r\n        const dom = HTML.toDom(html); // Support replacing with multiple nodes\r\n        const firstElement = dom.firstElementChild; // Save reference before emptying the docFrag\r\n        node.replaceWith(dom);\r\n\r\n        return firstElement;\r\n    }\r\n\r\n    static wrap<T extends Element>(\r\n        wrapperHtml: string,\r\n        startElementOrSelector: Element|string,\r\n        endElementOrSelector: Element|string|null = startElementOrSelector\r\n    ): T|null {\r\n        const startElement = HTML._getNode(startElementOrSelector);\r\n        if (!startElement) {\r\n            return null;\r\n        }\r\n\r\n        const endElement = endElementOrSelector === null\r\n            ? (startElement.parentElement?.lastElementChild ?? null)\r\n            : HTML._getNode(endElementOrSelector);\r\n\r\n        const wrappedNodes = [startElement];\r\n        for (let cur = startElement; cur.nextElementSibling !== null && cur !== endElement; cur = cur.nextElementSibling) {\r\n            wrappedNodes.push(cur.nextElementSibling);\r\n        }\r\n\r\n        const wrapperElement = HTML.toElement<T>(wrapperHtml);\r\n        if (!wrapperElement) {\r\n            return null;\r\n        }\r\n\r\n        startElement.replaceWith(wrapperElement);\r\n        wrapperElement.append(...wrappedNodes);\r\n        return wrapperElement;\r\n    }\r\n\r\n    private static _adjacent(nodeOrSelector: Element|string, position: InsertPosition, html: string): Element|null {\r\n        const node = HTML._getNode(nodeOrSelector);\r\n        if (node) {\r\n            node.insertAdjacentHTML(position, DOMPurify.sanitize(html));\r\n        }\r\n        return node;\r\n    }\r\n\r\n    static beforeBegin(nodeOrSelector: Element|string|null, html: string): void {\r\n        if (!nodeOrSelector) { return; }\r\n        HTML._adjacent(nodeOrSelector, \"beforebegin\", html);\r\n    }\r\n\r\n    static afterBegin(nodeOrSelector: Element|string|null, html: string): void {\r\n        if (!nodeOrSelector) { return; }\r\n        HTML._adjacent(nodeOrSelector, \"afterbegin\", html);\r\n    }\r\n\r\n    static beforeEnd(nodeOrSelector: Element|string|null, html: string): void {\r\n        if (!nodeOrSelector) { return; }\r\n        HTML._adjacent(nodeOrSelector, \"beforeend\", html);\r\n    }\r\n\r\n    static afterEnd(nodeOrSelector: Element|string|null, html: string): void {\r\n        if (!nodeOrSelector) { return; }\r\n        HTML._adjacent(nodeOrSelector, \"afterend\", html);\r\n    }\r\n}\r\n", "import ContextType from \"@Content/Modules/Context/ContextType\";\r\nimport Feature from \"@Content/Modules/Context/Feature\";\r\nimport HTML from \"@Core/Html/Html\";\r\nimport type CBase from \"@Content/Features/Common/CBase\";\r\nimport Settings from \"@Options/Data/Settings\";\r\n\r\nexport default class FHideTrademarks extends Feature<CBase> {\r\n\r\n    override checkPrerequisites(): boolean {\r\n        return Settings.hidetmsymbols;\r\n    }\r\n\r\n    override apply(): void {\r\n\r\n        // TODO I would try to reduce number of selectors here\r\n        let selectors = \"title, .apphub_AppName, .breadcrumbs, h1, h4\";\r\n        if (this.context.type === ContextType.STORE_DEFAULT) {\r\n            selectors\r\n                += \".game_area_already_owned, .details_block, .game_description_snippet, \"\r\n                + \".game_area_description p, .glance_details, .game_area_dlc_bubble game_area_bubble, .package_contents, \"\r\n                + \".game_area_dlc_name, .tab_desc, .tab_item_name\";\r\n        } else {\r\n            selectors\r\n                += \".game_suggestion, .appHubShortcut_Title, .apphub_CardContentNewsTitle, \"\r\n                + \".apphub_CardTextContent, .apphub_CardContentAppName, .apphub_AppName\";\r\n        }\r\n\r\n        // Replaces \"R\", \"C\" and \"TM\" signs\r\n        function replaceSymbols(node: Element) {\r\n\r\n            // tfedor I don't trust this won't break any inline JS\r\n            if (!node || !node.innerHTML) { return; }\r\n            HTML.inner(node, node.innerHTML.replace(/[\\u00AE\\u00A9\\u2122]/g, \"\"));\r\n        }\r\n\r\n        for (const node of document.querySelectorAll(selectors)) {\r\n            replaceSymbols(node);\r\n        }\r\n\r\n        const observer = new MutationObserver(mutations => {\r\n            mutations.forEach(mutation => {\r\n                mutation.addedNodes.forEach(node => {\r\n                    replaceSymbols(<Element>node);\r\n                });\r\n            });\r\n        });\r\n\r\n        const nodes = document.querySelectorAll(\"#game_select_suggestions,#search_suggestion_contents,.tab_content_ctn\");\r\n        for (const node of nodes) {\r\n            observer.observe(node, {\"childList\": true, \"subtree\": true});\r\n        }\r\n    }\r\n}\r\n", "import type CBase from \"@Content/Features/Common/CBase\";\r\nimport Feature from \"@Content/Modules/Context/Feature\";\r\nimport Settings from \"@Options/Data/Settings\";\r\n\r\nexport default class FDisableLinkFilter extends Feature<CBase> {\r\n\r\n    override checkPrerequisites(): boolean {\r\n        return Settings.disablelinkfilter;\r\n    }\r\n\r\n    override apply(): void {\r\n\r\n        document.addEventListener(\"click\", (e: MouseEvent) => {\r\n            if (!e.target) { return; }\r\n\r\n            const target = e.target as HTMLElement;\r\n            if (target.tagName !== \"A\") { return; }\r\n\r\n            const href = (<HTMLAnchorElement>target).href;\r\n            if (!/\\/linkfilter\\//.test(href)) { return; }\r\n\r\n            const params = new URL(href).searchParams;\r\n            // TODO \"url\" param was used prior to 11/2023, remove after some time\r\n            const url = params.get(\"u\") ?? params.get(\"url\");\r\n            if (!url) { return; }\r\n\r\n            // Skip censored links (has '\u2665')\r\n            if (url.includes(\"%E2%99%A5\")) { return; }\r\n\r\n            e.preventDefault();\r\n\r\n            // TODO check whether it's safe to just directly edit e.target.href\r\n            window.location.href = url;\r\n        });\r\n    }\r\n}\r\n", "import Feature from \"@Content/Modules/Context/Feature\";\r\nimport Settings from \"@Options/Data/Settings\";\r\nimport type CBase from \"@Content/Features/Common/CBase\";\r\nimport type CRegisterKey from \"@Content/Features/Store/RegisterKey/CRegisterKey\";\r\n\r\nexport default class FKeepSSACheckboxState extends Feature<CBase|CRegisterKey> {\r\n\r\n    override apply(): void {\r\n\r\n        const selector = [\r\n            \"input#market_sell_dialog_accept_ssa\",\r\n            \"input#market_buyorder_dialog_accept_ssa\",\r\n            \"input#accept_ssa\",\r\n        ].join(\",\");\r\n\r\n        for (const node of document.querySelectorAll<HTMLInputElement>(selector)) {\r\n            node.checked = Settings.keepssachecked;\r\n\r\n            node.addEventListener(\"click\", () => {\r\n                Settings.keepssachecked = node.checked;\r\n            });\r\n        }\r\n    }\r\n}\r\n", "import Feature from \"@Content/Modules/Context/Feature\";\r\nimport type CBase from \"@Content/Features/Common/CBase\";\r\nimport Settings from \"@Options/Data/Settings\";\r\n\r\nexport default class FDefaultCommunityTab extends Feature<CBase> {\r\n\r\n    override checkPrerequisites(): boolean {\r\n        return Settings.community_default_tab !== \"\"; // Default value is an empty string\r\n    }\r\n\r\n    override apply(): void {\r\n        const tab = Settings.community_default_tab;\r\n\r\n        const links = document.querySelectorAll<HTMLAnchorElement>(\"a[href^='https://steamcommunity.com/app/']\");\r\n        for (const link of links) {\r\n            if (link.classList.contains(\"apphub_sectionTab\")) { continue; }\r\n            if (!/^\\/app\\/[0-9]+\\/?$/.test(link.pathname)) { continue; }\r\n            if (!link.pathname.endsWith(\"/\")) {\r\n                link.pathname += \"/\";\r\n            }\r\n            link.pathname += `${tab}/`;\r\n        }\r\n    }\r\n}\r\n", "<script lang=\"ts\">\r\n    import {onMount} from \"svelte\";\r\n    import {L} from \"@Core/Localization/Localization\";\r\n    import {__earlyAccess} from \"@Strings/_strings\";\r\n\r\n    export let imageUrl: string;\r\n    export let imgHeader: HTMLImageElement;\r\n\r\n    let container: HTMLSpanElement;\r\n\r\n    onMount(() => {\r\n        container.append(imgHeader);\r\n    });\r\n</script>\r\n\r\n\r\n<span bind:this={container} class=\"es_overlay_container\">\r\n    <span class=\"es_overlay\">\r\n        <img title={L(__earlyAccess)} src={imageUrl} alt=\"Early Access banner\">\r\n    </span>\r\n</span>\r\n\r\n\r\n<style>\r\n    :global(.home_content_item) .es_overlay_container,\r\n    :global(.small_cap) .es_overlay_container,\r\n    :global(.special.special_img_ctn) .es_overlay_container,\r\n    :global(.game_capsule_ctn) .es_overlay_container,\r\n    :global(.review_app_actions .gameLogoHolder_default) .es_overlay_container {\r\n        position: relative;\r\n        display: inherit;\r\n    }\r\n\r\n    :global(.store_capsule) .es_overlay_container {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        width: 100%;\r\n        height: auto;\r\n        vertical-align: top;\r\n    }\r\n    :global(.store_capsule) .es_overlay_container > :global(img) {\r\n        width: 100%;\r\n    }\r\n\r\n    .es_overlay,\r\n    .es_overlay img {\r\n        position: absolute;\r\n        z-index: 4; /* Should be lower than .ds_flag (currently 5) */\r\n        width: auto !important;\r\n        height: 60%;\r\n        min-height: 35px;\r\n        max-height: 120px;\r\n    }\r\n    .es_overlay img {\r\n        position: relative;\r\n        height: 100% !important;\r\n    }\r\n\r\n    :global(.home_content.single) .es_overlay {\r\n        z-index: 11;\r\n    }\r\n    :global(.gameListRowLogo) .es_overlay,\r\n    :global(.game_capsule_ctn) .es_overlay {\r\n        height: 70%;\r\n    }\r\n    :global(.gameLogo) .es_overlay {\r\n        height: 50%;\r\n    }\r\n    :global(.curator_featured) .es_overlay {\r\n        height: 25%;\r\n    }\r\n</style>\r\n", "\r\nexport default abstract class GameId {\r\n\r\n    private readonly full: string;\r\n\r\n    protected constructor(\r\n        private type_: \"app\"|\"sub\"|\"bundle\",\r\n        private id_: number\r\n    ) {\r\n        this.full = `${this.type_}/${this.id_}`;\r\n    }\r\n\r\n    get type(): \"app\"|\"sub\"|\"bundle\" {\r\n        return this.type_;\r\n    }\r\n\r\n    get number(): number {\r\n        return this.id_;\r\n    }\r\n\r\n    get string(): string {\r\n        return this.full;\r\n    };\r\n}\r\n", "import GameId from \"@Core/GameId/GameId\";\r\n\r\n// TODO refactor to return instance\r\nexport default class AppId extends GameId {\r\n\r\n    static fromUrl(url: string) {\r\n        const m = url.match(/(?:store\\.steampowered|steamcommunity)\\.com\\/(?:app|games|market\\/listings)\\/(\\d+)\\/?/);\r\n        return m && m[1] !== undefined\r\n            ? Number(m[1])\r\n            : null;\r\n    }\r\n\r\n    static fromCDNUrl(url: string): number|null {\r\n        const CDNRegex_1 = /(?:cdn\\.(?:(?:akamai|cloudflare|fastly)\\.)?steamstatic\\.com\\/steam|steamcdn-a\\.akamaihd\\.net\\/steam|steamcommunity\\/public\\/images)\\/apps\\/(\\d+)\\//;\r\n        const CDNRegex_2 = /shared\\.(?:(?:akamai|cloudflare|fastly)\\.)?steamstatic\\.com\\/store_item_assets\\/steam\\/apps\\/(\\d+)\\//;\r\n        const m = url.match(CDNRegex_1) ?? url.match(CDNRegex_2);\r\n        return m && m[1] !== undefined\r\n            ? Number(m[1])\r\n            : null;\r\n    }\r\n\r\n    static fromGameCardUrl(url: string): number|null {\r\n        const m = url.match(/\\/gamecards\\/(\\d+)/);\r\n        return m && m[1] !== undefined\r\n            ? Number(m[1])\r\n            : null;\r\n    }\r\n\r\n    static fromElement(element: HTMLElement|null): number|null {\r\n        if (!element) {\r\n            return null;\r\n        }\r\n\r\n        const appid = element.dataset.dsAppid;\r\n        if (appid) {\r\n            return Number(appid);\r\n        }\r\n\r\n        const href = element.getAttribute(\"href\");\r\n        if (!href) {\r\n            return null;\r\n        }\r\n\r\n        return this.fromUrl(href);\r\n    }\r\n\r\n    static fromImageElement(element: HTMLImageElement|null): number|null {\r\n        if (!element) {\r\n            return null;\r\n        }\r\n\r\n        const src = element.getAttribute(\"src\");\r\n        if (src) {\r\n            return this.fromCDNUrl(src);\r\n        } else if (element.dataset.imageUrl) {\r\n            return this.fromCDNUrl(element.dataset.imageUrl);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    static fromText(text: string): number[] {\r\n        const regex = /(?:store\\.steampowered|steamcommunity)\\.com\\/app\\/(\\d+)\\/?/g;\r\n        const result: number[] = [];\r\n        let m;\r\n        while ((m = regex.exec(text)) !== null) {\r\n            result.push(Number(m[1]));\r\n        }\r\n        return result;\r\n    }\r\n\r\n    constructor(id: number) {\r\n        super(\"app\", id);\r\n    }\r\n}\r\n", "import EarlyAccess from \"./EarlyAccess.svelte\";\r\nimport Settings from \"@Options/Data/Settings\";\r\nimport AppId from \"@Core/GameId/AppId\";\r\nimport Language from \"@Core/Localization/Language\";\r\nimport ExtensionResources from \"@Core/ExtensionResources\";\r\nimport AugmentedSteamApiFacade from \"@Content/Modules/Facades/AugmentedSteamApiFacade\";\r\n\r\nexport default class EarlyAccessUtils {\r\n\r\n    // TODO support React-based sales pages, curator lists, etc.\r\n    private static readonly storeSelectors = [\r\n        \".tab_item\", // Item rows on storefront\r\n        \".newonsteam_headercap\", // explore/new\r\n        \".comingsoon_headercap\", // explore/upcoming\r\n        \".store_capsule\",\r\n        \".dailydeal_ctn\",\r\n        \".special.special_img_ctn\", // explore/new, cart/\r\n        /*\r\n         * These use CSS backgrounds instead of img elements, unsupported for now\r\n         * \".store_main_capsule\", // Featured & Recommended\r\n         * \".home_marketing_message\", // Updates and Offers\r\n         */\r\n        \".home_area_spotlight\", // Special Offers, specials/\r\n        \".curator_giant_capsule\", // Curator Recommendations\r\n        \".home_content_item\", // Recommendations at the bottom of the storefront (small)\r\n        \".home_content.single > .gamelink\", // ...aforementioned (big)\r\n        \".highlighted_app_header\", // curators/\r\n        \"body.dlc_curator #curator_avatar_image\", // Header image on dlc pages\r\n        \".curator_featured .capsule\", // Featured items on curator, developer, publisher, franchise, dlc etc. pages\r\n        \".search_result_row\",\r\n        \".small_cap\", // \"recommended\" section on app pages\r\n        \".browse_tag_game_cap\", // tag/browse\r\n        \".recommendation_highlight > .header_image\", // recommended/morelike, recommended/friendactivity/\r\n        \".similar_grid_item\", // recommended/morelike\r\n        \".friend_game_block > .game_capsule\", // recommended/friendactivity/\r\n        \".friendactivity_tab_row\", // recommended/friendactivity/\r\n        \".recommendation_app\", // recommended/byfriends/\r\n        \".recommendation_carousel_item\",\r\n        \".app_header\",\r\n        \".friendplaytime_appheader\",\r\n    ];\r\n\r\n    private static readonly communitySelectors = [\r\n        // Selectors for Profile Home are split out due to issues with running them on my/edit/showcases\r\n        \".gameLogo\", // Various game community pages e.g. global/personal achievements\r\n        \".blotter_gamepurchase_logo\", // activity home\r\n        \".gameLogoHolder_default\", // activity home, individual reviews\r\n        \".game_capsule_ctn\", // reviews list\r\n    ];\r\n\r\n    private static readonly selector = (window.location.hostname === \"store.steampowered.com\" ? this.storeSelectors : this.communitySelectors)\r\n        .join(\",\");\r\n\r\n    public static async show(language: Language|null, nodes?: NodeListOf<HTMLElement>|Array<HTMLElement>): Promise<void> {\r\n        if (!Settings.show_early_access || !language) { return; }\r\n\r\n        const _nodes: NodeListOf<HTMLElement>|Array<HTMLElement> = nodes ?? document.querySelectorAll(this.selector);\r\n        if (_nodes.length === 0) { return; }\r\n\r\n        // TODO add missing images for supported locales\r\n        let imageName = \"img/overlay/early_access_banner_english.png\";\r\n        if (language.isOneOf(\r\n            \"brazilian\",\r\n            \"french\",\r\n            \"italian\",\r\n            \"japanese\",\r\n            \"koreana\",\r\n            \"polish\",\r\n            \"portuguese\",\r\n            \"russian\",\r\n            \"schinese\",\r\n            \"spanish\",\r\n            \"latam\",\r\n            \"tchinese\",\r\n            \"thai\"\r\n        )) {\r\n            imageName = `img/overlay/early_access_banner_${language.name}.png`;\r\n        }\r\n\r\n        const imageUrl = ExtensionResources.getURL(imageName);\r\n\r\n        for (const node of await this.getEaNodes(_nodes)) {\r\n\r\n            /*\r\n             * TODO It's possible a child element has been checked already, remove when not needed\r\n             * e.g. duplicate elements on the storefront (More Curator Recommendations)\r\n             * and when called with the same arguments as highlighting (observing changes in CStoreBase)\r\n             */\r\n            if (node.querySelector(\".es_overlay_container\") !== null) { continue; }\r\n\r\n            node.classList.add(\"es_early_access\");\r\n\r\n            const imgHeader = node.querySelector(\"img\");\r\n            if (!imgHeader) { continue; }\r\n\r\n            new EarlyAccess({\r\n                target: imgHeader.parentElement!,\r\n                anchor: imgHeader, // Render the component \"before\" the original image\r\n                props: {\r\n                    imageUrl,\r\n                    imgHeader,\r\n                },\r\n            });\r\n        }\r\n    }\r\n\r\n    static async getEaNodes(nodes: Iterable<HTMLElement>): Promise<HTMLElement[]> {\r\n\r\n        const appidsMap: Map<number, HTMLElement[]> = new Map();\r\n\r\n        for (const node of nodes) {\r\n            if (node.classList.contains(\"es_ea_checked\")) {\r\n                continue;\r\n            }\r\n            node.classList.add(\"es_ea_checked\");\r\n\r\n            // Skip the live streams section since the thumbnail is shown on top\r\n            if (node.classList.contains(\"store_capsule\") && node.querySelector(\".capsule[id^=broadcast]\") !== null) {\r\n                continue;\r\n            }\r\n\r\n            let appid = AppId.fromElement(node)\r\n                || AppId.fromElement(node.querySelector<HTMLAnchorElement>(\"a\"))\r\n                || AppId.fromElement(node.querySelector<HTMLImageElement>(\"img\"));\r\n\r\n            if (appid) {\r\n                const nodes = (appidsMap.get(appid) ?? []);\r\n                nodes.push(node);\r\n                appidsMap.set(appid, nodes);\r\n            } else {\r\n                // console.warn(\"FEarlyAccess: Couldn't find appid for node %o\", node);\r\n            }\r\n        }\r\n\r\n        if (appidsMap.size === 0) {\r\n            return [];\r\n        }\r\n\r\n        const eaStatus = await AugmentedSteamApiFacade.isEarlyAccess([...appidsMap.keys()]);\r\n\r\n        return Array.from(appidsMap).flatMap(([appid, nodesArray]) => {\r\n            return eaStatus[appid] ? nodesArray : [];\r\n        });\r\n    }\r\n}\r\n", "import type CBase from \"@Content/Features/Common/CBase\";\r\nimport Feature from \"@Content/Modules/Context/Feature\";\r\nimport EarlyAccessUtils from \"@Content/Modules/EarlyAccess/EarlyAccessUtils\";\r\n\r\nexport default class FEarlyAccess extends Feature<CBase> {\r\n\r\n    public override async apply(): Promise<void> {\r\n        await EarlyAccessUtils.show(this.context.language);\r\n    }\r\n}\r\n", "import FHideTrademarks from \"./FHideTrademarks\";\r\nimport FDisableLinkFilter from \"./FDisableLinkFilter\";\r\nimport FKeepSSACheckboxState from \"./FKeepSSACheckboxState\";\r\nimport FDefaultCommunityTab from \"./FDefaultCommunityTab\";\r\nimport Context, {type ContextParams} from \"@Content/Modules/Context/Context\";\r\nimport ContextType from \"@Content/Modules/Context/ContextType\";\r\nimport type Feature from \"@Content/Modules/Context/Feature\";\r\nimport FEarlyAccess from \"@Content/Features/Common/FEarlyAccess\";\r\n\r\nexport default class CBase extends Context {\r\n\r\n    constructor(\r\n        params: ContextParams,\r\n        type: ContextType,\r\n        features: (typeof Feature<Context>)[] = []\r\n    ) {\r\n\r\n        features.push(\r\n            FEarlyAccess,\r\n            FHideTrademarks,\r\n            FDisableLinkFilter,\r\n            FKeepSSACheckboxState,\r\n            FDefaultCommunityTab,\r\n        );\r\n\r\n        super(params, type, features);\r\n    }\r\n}\r\n", "<svelte:options immutable={false} />\r\n\r\n<script lang=\"ts\">\r\n    import {__favEmoticonsDragging, __favEmoticonsNoAccess, __loading} from \"@Strings/_strings\";\r\n    import {L} from \"@Core/Localization/Localization\";\r\n    import {onMount} from \"svelte\";\r\n    import SyncedStorage from \"@Core/Storage/SyncedStorage\";\r\n    import {handleDrag} from \"@Content/Features/Community/FFavoriteEmoticons\";\r\n\r\n    export let emoticonPopup: HTMLElement;\r\n\r\n    let promise: Promise<void> = Promise.resolve();\r\n    let favs: string[] = [];\r\n\r\n    let favBox: HTMLDivElement;\r\n    let overBox: boolean = false;\r\n    let overRemove: boolean = false;\r\n\r\n    function handleClick(e: MouseEvent): void {\r\n        if (!e.target) {\r\n            return;\r\n        }\r\n\r\n        const node = (<HTMLElement>(e.target)).closest<HTMLElement>(\".emoticon_option\");\r\n        if (!node) {\r\n            return;\r\n        }\r\n\r\n        const noFav = emoticonPopup.querySelector<HTMLElement>(`[data-emoticon=${node.dataset.emoticon}]:not(.es_fav)`);\r\n        if (!noFav) {\r\n            // The user doesn't have access to this emoticon\r\n            e.stopPropagation();\r\n            node.classList.add(\"no-access\");\r\n            const img = node.querySelector<HTMLImageElement>(\"img\");\r\n            if (img) {\r\n                img.title = L(__favEmoticonsNoAccess);\r\n            }\r\n            return;\r\n        }\r\n        noFav.click();\r\n    }\r\n\r\n    function leaveBox(e: DragEvent): void {\r\n        // Additional check to avoid background flicker when hovering over child elements, see https://stackoverflow.com/a/54960084\r\n        if (e.relatedTarget && !favBox.contains(e.relatedTarget as HTMLElement)) {\r\n            overBox = false;\r\n        }\r\n    }\r\n\r\n    function addFavorite(e: DragEvent) {\r\n        overBox = false;\r\n        if (!e.dataTransfer) { return; }\r\n\r\n        const name = e.dataTransfer.getData(\"emoticon\");\r\n        if (favs.includes(name)) { return; }\r\n\r\n        favs.push(name);\r\n        favs = favs;\r\n        persistFavorites();\r\n    }\r\n\r\n    function removeFavorite(e: DragEvent): void {\r\n        overRemove = false;\r\n        const name = e.dataTransfer?.getData(\"emoticon\");\r\n        favs = favs.filter(fav => fav !== name);\r\n        persistFavorites();\r\n    }\r\n\r\n    function persistFavorites(): void {\r\n        SyncedStorage.set(\"fav_emoticons\", favs);\r\n    }\r\n\r\n    onMount(() => {\r\n        promise = (async () => {\r\n            favs = (await SyncedStorage.get(\"fav_emoticons\")) ?? [];\r\n        })();\r\n    });\r\n</script>\r\n\r\n\r\n<div class=\"emoticon_popup_content es_emoticons_content\">\r\n    <!-- svelte-ignore a11y-no-static-element-interactions -->\r\n    <div class=\"commentthread_entry_quotebox es_fav_remove\"\r\n         class:is-over={overRemove}\r\n         on:dragover|preventDefault={() => overRemove = true}\r\n         on:dragenter={() => overRemove = true}\r\n         on:dragleave={() => overRemove = false}\r\n         on:drop|preventDefault={removeFavorite}\r\n    ></div>\r\n\r\n    <!-- svelte-ignore a11y-no-static-element-interactions -->\r\n    <div bind:this={favBox}\r\n         class=\"commentthread_entry_quotebox es_fav_emoticons\"\r\n         class:is-over={overBox}\r\n         on:dragover|preventDefault={() => overBox = true}\r\n         on:dragenter|preventDefault={() => overBox = true}\r\n         on:dragleave={leaveBox}\r\n         on:drop|preventDefault={addFavorite}\r\n    >\r\n\r\n        {#await promise}\r\n            {L(__loading)}\r\n        {:then _}\r\n            {#each favs as name}\r\n                <!-- svelte-ignore a11y-click-events-have-key-events a11y-no-static-element-interactions -->\r\n                <div class=\"emoticon_option es_fav\"\r\n                     data-emoticon={name}\r\n                     draggable=\"true\"\r\n                     on:dragstart={handleDrag}\r\n                     on:click={handleClick}>\r\n\r\n                    <!-- svelte-ignore a11y-missing-attribute -->\r\n                    <img src=\"//community.cloudflare.steamstatic.com/economy/emoticon/{name}\"\r\n                         class=\"emoticon\"\r\n                         draggable=\"false\" />\r\n                </div>\r\n            {:else}\r\n                {L(__favEmoticonsDragging)}\r\n            {/each}\r\n        {/await}\r\n    </div>\r\n</div>\r\n\r\n\r\n<style>\r\n    /** Favorite emoticons */\r\n    :global(.es_emoticons.emoticon_popup) {\r\n        max-width: 352px;\r\n    }\r\n    .es_emoticons_content {\r\n        margin-bottom: 10px;\r\n        min-height: 32px;\r\n        line-height: 32px;\r\n        text-align: center;\r\n        max-height: none;\r\n        display: flex;\r\n    }\r\n    .es_emoticons_content :global(.no-access) {\r\n        cursor: help;\r\n        opacity: 0.4;\r\n    }\r\n    .es_fav_remove {\r\n        width: 10%;\r\n        background-image: url(https://community.cloudflare.steamstatic.com/economy/emoticon/remove);\r\n        background-repeat: no-repeat;\r\n        background-position: center;\r\n    }\r\n    .es_fav_emoticons {\r\n        width: 90%;\r\n    }\r\n\r\n    .is-over {\r\n        background-color: black;\r\n    }\r\n</style>\r\n", "import self_ from \"./FFavoriteEmoticons.svelte\";\r\nimport type CCommunityBase from \"@Content/Features/Community/CCommunityBase\";\r\nimport Feature from \"@Content/Modules/Context/Feature\";\r\n\r\nexport function handleDrag(e: DragEvent): void {\r\n    if (!e.dataTransfer || !e.target) {\r\n        return;\r\n    }\r\n\r\n    const emoticon = (<HTMLElement>(e.target)).dataset.emoticon;\r\n    if (!emoticon) {\r\n        return;\r\n    }\r\n\r\n    e.dataTransfer.setData(\"emoticon\", emoticon);\r\n    const emoticonHover = document.querySelector<HTMLElement>(\".emoticon_hover\");\r\n    if (emoticonHover) {\r\n        emoticonHover.style.display = \"none\";\r\n    }\r\n}\r\n\r\nexport default class FFavoriteEmoticons extends Feature<CCommunityBase> {\r\n\r\n    override checkPrerequisites(): boolean {\r\n        return document.querySelector(\".emoticon_button\") !== null;\r\n    }\r\n\r\n    override apply(): void {\r\n        new MutationObserver(() => {\r\n            const emoticonPopup = document.querySelector<HTMLElement>(\".emoticon_popup:not(.es_emoticons)\");\r\n            if (!emoticonPopup) { return; }\r\n\r\n            emoticonPopup.classList.add(\"es_emoticons\");\r\n\r\n            for (const node of emoticonPopup.querySelectorAll<HTMLElement>(\".emoticon_option\")) {\r\n                node.draggable = true;\r\n                node.querySelector(\"img\")!.draggable = false;\r\n                node.addEventListener(\"dragstart\", handleDrag);\r\n            }\r\n\r\n            new self_({\r\n                target: emoticonPopup,\r\n                anchor: emoticonPopup.firstElementChild ?? undefined,\r\n                props: {\r\n                    emoticonPopup\r\n                }\r\n            });\r\n        }).observe(document.body, {\"childList\": true});\r\n    }\r\n}\r\n", "import FConfirmDeleteComment from \"./FConfirmDeleteComment\";\r\nimport FHideSpamComments from \"./FHideSpamComments\";\r\nimport type Feature from \"@Content/Modules/Context/Feature\";\r\nimport Context, {type ContextParams} from \"@Content/Modules/Context/Context\";\r\nimport CBase from \"@Content/Features/Common/CBase\";\r\nimport ContextType from \"@Content/Modules/Context/ContextType\";\r\nimport FFavoriteEmoticons from \"./FFavoriteEmoticons\";\r\n\r\nexport default class CCommunityBase extends CBase {\r\n\r\n    constructor(params: ContextParams, type = ContextType.COMMUNITY_DEFAULT, features: (typeof Feature<Context>[]) = []) {\r\n\r\n        features.push(\r\n            FConfirmDeleteComment,\r\n            FHideSpamComments,\r\n            FFavoriteEmoticons,\r\n        );\r\n\r\n        super(params, type, features);\r\n    }\r\n}\r\n", "// these aren't really private, but nor are they really useful to document\n\n/**\n * @private\n */\nclass LuxonError extends Error {}\n\n/**\n * @private\n */\nexport class InvalidDateTimeError extends LuxonError {\n  constructor(reason) {\n    super(`Invalid DateTime: ${reason.toMessage()}`);\n  }\n}\n\n/**\n * @private\n */\nexport class InvalidIntervalError extends LuxonError {\n  constructor(reason) {\n    super(`Invalid Interval: ${reason.toMessage()}`);\n  }\n}\n\n/**\n * @private\n */\nexport class InvalidDurationError extends LuxonError {\n  constructor(reason) {\n    super(`Invalid Duration: ${reason.toMessage()}`);\n  }\n}\n\n/**\n * @private\n */\nexport class ConflictingSpecificationError extends LuxonError {}\n\n/**\n * @private\n */\nexport class InvalidUnitError extends LuxonError {\n  constructor(unit) {\n    super(`Invalid unit ${unit}`);\n  }\n}\n\n/**\n * @private\n */\nexport class InvalidArgumentError extends LuxonError {}\n\n/**\n * @private\n */\nexport class ZoneIsAbstractError extends LuxonError {\n  constructor() {\n    super(\"Zone is an abstract class\");\n  }\n}\n", "/**\n * @private\n */\n\nconst n = \"numeric\",\n  s = \"short\",\n  l = \"long\";\n\nexport const DATE_SHORT = {\n  year: n,\n  month: n,\n  day: n,\n};\n\nexport const DATE_MED = {\n  year: n,\n  month: s,\n  day: n,\n};\n\nexport const DATE_MED_WITH_WEEKDAY = {\n  year: n,\n  month: s,\n  day: n,\n  weekday: s,\n};\n\nexport const DATE_FULL = {\n  year: n,\n  month: l,\n  day: n,\n};\n\nexport const DATE_HUGE = {\n  year: n,\n  month: l,\n  day: n,\n  weekday: l,\n};\n\nexport const TIME_SIMPLE = {\n  hour: n,\n  minute: n,\n};\n\nexport const TIME_WITH_SECONDS = {\n  hour: n,\n  minute: n,\n  second: n,\n};\n\nexport const TIME_WITH_SHORT_OFFSET = {\n  hour: n,\n  minute: n,\n  second: n,\n  timeZoneName: s,\n};\n\nexport const TIME_WITH_LONG_OFFSET = {\n  hour: n,\n  minute: n,\n  second: n,\n  timeZoneName: l,\n};\n\nexport const TIME_24_SIMPLE = {\n  hour: n,\n  minute: n,\n  hourCycle: \"h23\",\n};\n\nexport const TIME_24_WITH_SECONDS = {\n  hour: n,\n  minute: n,\n  second: n,\n  hourCycle: \"h23\",\n};\n\nexport const TIME_24_WITH_SHORT_OFFSET = {\n  hour: n,\n  minute: n,\n  second: n,\n  hourCycle: \"h23\",\n  timeZoneName: s,\n};\n\nexport const TIME_24_WITH_LONG_OFFSET = {\n  hour: n,\n  minute: n,\n  second: n,\n  hourCycle: \"h23\",\n  timeZoneName: l,\n};\n\nexport const DATETIME_SHORT = {\n  year: n,\n  month: n,\n  day: n,\n  hour: n,\n  minute: n,\n};\n\nexport const DATETIME_SHORT_WITH_SECONDS = {\n  year: n,\n  month: n,\n  day: n,\n  hour: n,\n  minute: n,\n  second: n,\n};\n\nexport const DATETIME_MED = {\n  year: n,\n  month: s,\n  day: n,\n  hour: n,\n  minute: n,\n};\n\nexport const DATETIME_MED_WITH_SECONDS = {\n  year: n,\n  month: s,\n  day: n,\n  hour: n,\n  minute: n,\n  second: n,\n};\n\nexport const DATETIME_MED_WITH_WEEKDAY = {\n  year: n,\n  month: s,\n  day: n,\n  weekday: s,\n  hour: n,\n  minute: n,\n};\n\nexport const DATETIME_FULL = {\n  year: n,\n  month: l,\n  day: n,\n  hour: n,\n  minute: n,\n  timeZoneName: s,\n};\n\nexport const DATETIME_FULL_WITH_SECONDS = {\n  year: n,\n  month: l,\n  day: n,\n  hour: n,\n  minute: n,\n  second: n,\n  timeZoneName: s,\n};\n\nexport const DATETIME_HUGE = {\n  year: n,\n  month: l,\n  day: n,\n  weekday: l,\n  hour: n,\n  minute: n,\n  timeZoneName: l,\n};\n\nexport const DATETIME_HUGE_WITH_SECONDS = {\n  year: n,\n  month: l,\n  day: n,\n  weekday: l,\n  hour: n,\n  minute: n,\n  second: n,\n  timeZoneName: l,\n};\n", "import { ZoneIsAbstractError } from \"./errors.js\";\n\n/**\n * @interface\n */\nexport default class Zone {\n  /**\n   * The type of zone\n   * @abstract\n   * @type {string}\n   */\n  get type() {\n    throw new ZoneIsAbstractError();\n  }\n\n  /**\n   * The name of this zone.\n   * @abstract\n   * @type {string}\n   */\n  get name() {\n    throw new ZoneIsAbstractError();\n  }\n\n  get ianaName() {\n    return this.name;\n  }\n\n  /**\n   * Returns whether the offset is known to be fixed for the whole year.\n   * @abstract\n   * @type {boolean}\n   */\n  get isUniversal() {\n    throw new ZoneIsAbstractError();\n  }\n\n  /**\n   * Returns the offset's common name (such as EST) at the specified timestamp\n   * @abstract\n   * @param {number} ts - Epoch milliseconds for which to get the name\n   * @param {Object} opts - Options to affect the format\n   * @param {string} opts.format - What style of offset to return. Accepts 'long' or 'short'.\n   * @param {string} opts.locale - What locale to return the offset name in.\n   * @return {string}\n   */\n  offsetName(ts, opts) {\n    throw new ZoneIsAbstractError();\n  }\n\n  /**\n   * Returns the offset's value as a string\n   * @abstract\n   * @param {number} ts - Epoch milliseconds for which to get the offset\n   * @param {string} format - What style of offset to return.\n   *                          Accepts 'narrow', 'short', or 'techie'. Returning '+6', '+06:00', or '+0600' respectively\n   * @return {string}\n   */\n  formatOffset(ts, format) {\n    throw new ZoneIsAbstractError();\n  }\n\n  /**\n   * Return the offset in minutes for this zone at the specified timestamp.\n   * @abstract\n   * @param {number} ts - Epoch milliseconds for which to compute the offset\n   * @return {number}\n   */\n  offset(ts) {\n    throw new ZoneIsAbstractError();\n  }\n\n  /**\n   * Return whether this Zone is equal to another zone\n   * @abstract\n   * @param {Zone} otherZone - the zone to compare\n   * @return {boolean}\n   */\n  equals(otherZone) {\n    throw new ZoneIsAbstractError();\n  }\n\n  /**\n   * Return whether this Zone is valid.\n   * @abstract\n   * @type {boolean}\n   */\n  get isValid() {\n    throw new ZoneIsAbstractError();\n  }\n}\n", "import { formatOffset, parseZoneInfo } from \"../impl/util.js\";\nimport Zone from \"../zone.js\";\n\nlet singleton = null;\n\n/**\n * Represents the local zone for this JavaScript environment.\n * @implements {Zone}\n */\nexport default class SystemZone extends Zone {\n  /**\n   * Get a singleton instance of the local zone\n   * @return {SystemZone}\n   */\n  static get instance() {\n    if (singleton === null) {\n      singleton = new SystemZone();\n    }\n    return singleton;\n  }\n\n  /** @override **/\n  get type() {\n    return \"system\";\n  }\n\n  /** @override **/\n  get name() {\n    return new Intl.DateTimeFormat().resolvedOptions().timeZone;\n  }\n\n  /** @override **/\n  get isUniversal() {\n    return false;\n  }\n\n  /** @override **/\n  offsetName(ts, { format, locale }) {\n    return parseZoneInfo(ts, format, locale);\n  }\n\n  /** @override **/\n  formatOffset(ts, format) {\n    return formatOffset(this.offset(ts), format);\n  }\n\n  /** @override **/\n  offset(ts) {\n    return -new Date(ts).getTimezoneOffset();\n  }\n\n  /** @override **/\n  equals(otherZone) {\n    return otherZone.type === \"system\";\n  }\n\n  /** @override **/\n  get isValid() {\n    return true;\n  }\n}\n", "import { formatOffset, parseZoneInfo, isUndefined, objToLocalTS } from \"../impl/util.js\";\nimport Zone from \"../zone.js\";\n\nlet dtfCache = {};\nfunction makeDTF(zone) {\n  if (!dtfCache[zone]) {\n    dtfCache[zone] = new Intl.DateTimeFormat(\"en-US\", {\n      hour12: false,\n      timeZone: zone,\n      year: \"numeric\",\n      month: \"2-digit\",\n      day: \"2-digit\",\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n      second: \"2-digit\",\n      era: \"short\",\n    });\n  }\n  return dtfCache[zone];\n}\n\nconst typeToPos = {\n  year: 0,\n  month: 1,\n  day: 2,\n  era: 3,\n  hour: 4,\n  minute: 5,\n  second: 6,\n};\n\nfunction hackyOffset(dtf, date) {\n  const formatted = dtf.format(date).replace(/\\u200E/g, \"\"),\n    parsed = /(\\d+)\\/(\\d+)\\/(\\d+) (AD|BC),? (\\d+):(\\d+):(\\d+)/.exec(formatted),\n    [, fMonth, fDay, fYear, fadOrBc, fHour, fMinute, fSecond] = parsed;\n  return [fYear, fMonth, fDay, fadOrBc, fHour, fMinute, fSecond];\n}\n\nfunction partsOffset(dtf, date) {\n  const formatted = dtf.formatToParts(date);\n  const filled = [];\n  for (let i = 0; i < formatted.length; i++) {\n    const { type, value } = formatted[i];\n    const pos = typeToPos[type];\n\n    if (type === \"era\") {\n      filled[pos] = value;\n    } else if (!isUndefined(pos)) {\n      filled[pos] = parseInt(value, 10);\n    }\n  }\n  return filled;\n}\n\nlet ianaZoneCache = {};\n/**\n * A zone identified by an IANA identifier, like America/New_York\n * @implements {Zone}\n */\nexport default class IANAZone extends Zone {\n  /**\n   * @param {string} name - Zone name\n   * @return {IANAZone}\n   */\n  static create(name) {\n    if (!ianaZoneCache[name]) {\n      ianaZoneCache[name] = new IANAZone(name);\n    }\n    return ianaZoneCache[name];\n  }\n\n  /**\n   * Reset local caches. Should only be necessary in testing scenarios.\n   * @return {void}\n   */\n  static resetCache() {\n    ianaZoneCache = {};\n    dtfCache = {};\n  }\n\n  /**\n   * Returns whether the provided string is a valid specifier. This only checks the string's format, not that the specifier identifies a known zone; see isValidZone for that.\n   * @param {string} s - The string to check validity on\n   * @example IANAZone.isValidSpecifier(\"America/New_York\") //=> true\n   * @example IANAZone.isValidSpecifier(\"Sport~~blorp\") //=> false\n   * @deprecated This method returns false for some valid IANA names. Use isValidZone instead.\n   * @return {boolean}\n   */\n  static isValidSpecifier(s) {\n    return this.isValidZone(s);\n  }\n\n  /**\n   * Returns whether the provided string identifies a real zone\n   * @param {string} zone - The string to check\n   * @example IANAZone.isValidZone(\"America/New_York\") //=> true\n   * @example IANAZone.isValidZone(\"Fantasia/Castle\") //=> false\n   * @example IANAZone.isValidZone(\"Sport~~blorp\") //=> false\n   * @return {boolean}\n   */\n  static isValidZone(zone) {\n    if (!zone) {\n      return false;\n    }\n    try {\n      new Intl.DateTimeFormat(\"en-US\", { timeZone: zone }).format();\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  constructor(name) {\n    super();\n    /** @private **/\n    this.zoneName = name;\n    /** @private **/\n    this.valid = IANAZone.isValidZone(name);\n  }\n\n  /** @override **/\n  get type() {\n    return \"iana\";\n  }\n\n  /** @override **/\n  get name() {\n    return this.zoneName;\n  }\n\n  /** @override **/\n  get isUniversal() {\n    return false;\n  }\n\n  /** @override **/\n  offsetName(ts, { format, locale }) {\n    return parseZoneInfo(ts, format, locale, this.name);\n  }\n\n  /** @override **/\n  formatOffset(ts, format) {\n    return formatOffset(this.offset(ts), format);\n  }\n\n  /** @override **/\n  offset(ts) {\n    const date = new Date(ts);\n\n    if (isNaN(date)) return NaN;\n\n    const dtf = makeDTF(this.name);\n    let [year, month, day, adOrBc, hour, minute, second] = dtf.formatToParts\n      ? partsOffset(dtf, date)\n      : hackyOffset(dtf, date);\n\n    if (adOrBc === \"BC\") {\n      year = -Math.abs(year) + 1;\n    }\n\n    // because we're using hour12 and https://bugs.chromium.org/p/chromium/issues/detail?id=1025564&can=2&q=%2224%3A00%22%20datetimeformat\n    const adjustedHour = hour === 24 ? 0 : hour;\n\n    const asUTC = objToLocalTS({\n      year,\n      month,\n      day,\n      hour: adjustedHour,\n      minute,\n      second,\n      millisecond: 0,\n    });\n\n    let asTS = +date;\n    const over = asTS % 1000;\n    asTS -= over >= 0 ? over : 1000 + over;\n    return (asUTC - asTS) / (60 * 1000);\n  }\n\n  /** @override **/\n  equals(otherZone) {\n    return otherZone.type === \"iana\" && otherZone.name === this.name;\n  }\n\n  /** @override **/\n  get isValid() {\n    return this.valid;\n  }\n}\n", "import { hasLocaleWeekInfo, hasRelative, padStart, roundTo, validateWeekSettings } from \"./util.js\";\nimport * as English from \"./english.js\";\nimport Settings from \"../settings.js\";\nimport DateTime from \"../datetime.js\";\nimport IANAZone from \"../zones/IANAZone.js\";\n\n// todo - remap caching\n\nlet intlLFCache = {};\nfunction getCachedLF(locString, opts = {}) {\n  const key = JSON.stringify([locString, opts]);\n  let dtf = intlLFCache[key];\n  if (!dtf) {\n    dtf = new Intl.ListFormat(locString, opts);\n    intlLFCache[key] = dtf;\n  }\n  return dtf;\n}\n\nlet intlDTCache = {};\nfunction getCachedDTF(locString, opts = {}) {\n  const key = JSON.stringify([locString, opts]);\n  let dtf = intlDTCache[key];\n  if (!dtf) {\n    dtf = new Intl.DateTimeFormat(locString, opts);\n    intlDTCache[key] = dtf;\n  }\n  return dtf;\n}\n\nlet intlNumCache = {};\nfunction getCachedINF(locString, opts = {}) {\n  const key = JSON.stringify([locString, opts]);\n  let inf = intlNumCache[key];\n  if (!inf) {\n    inf = new Intl.NumberFormat(locString, opts);\n    intlNumCache[key] = inf;\n  }\n  return inf;\n}\n\nlet intlRelCache = {};\nfunction getCachedRTF(locString, opts = {}) {\n  const { base, ...cacheKeyOpts } = opts; // exclude `base` from the options\n  const key = JSON.stringify([locString, cacheKeyOpts]);\n  let inf = intlRelCache[key];\n  if (!inf) {\n    inf = new Intl.RelativeTimeFormat(locString, opts);\n    intlRelCache[key] = inf;\n  }\n  return inf;\n}\n\nlet sysLocaleCache = null;\nfunction systemLocale() {\n  if (sysLocaleCache) {\n    return sysLocaleCache;\n  } else {\n    sysLocaleCache = new Intl.DateTimeFormat().resolvedOptions().locale;\n    return sysLocaleCache;\n  }\n}\n\nlet weekInfoCache = {};\nfunction getCachedWeekInfo(locString) {\n  let data = weekInfoCache[locString];\n  if (!data) {\n    const locale = new Intl.Locale(locString);\n    // browsers currently implement this as a property, but spec says it should be a getter function\n    data = \"getWeekInfo\" in locale ? locale.getWeekInfo() : locale.weekInfo;\n    weekInfoCache[locString] = data;\n  }\n  return data;\n}\n\nfunction parseLocaleString(localeStr) {\n  // I really want to avoid writing a BCP 47 parser\n  // see, e.g. https://github.com/wooorm/bcp-47\n  // Instead, we'll do this:\n\n  // a) if the string has no -u extensions, just leave it alone\n  // b) if it does, use Intl to resolve everything\n  // c) if Intl fails, try again without the -u\n\n  // private subtags and unicode subtags have ordering requirements,\n  // and we're not properly parsing this, so just strip out the\n  // private ones if they exist.\n  const xIndex = localeStr.indexOf(\"-x-\");\n  if (xIndex !== -1) {\n    localeStr = localeStr.substring(0, xIndex);\n  }\n\n  const uIndex = localeStr.indexOf(\"-u-\");\n  if (uIndex === -1) {\n    return [localeStr];\n  } else {\n    let options;\n    let selectedStr;\n    try {\n      options = getCachedDTF(localeStr).resolvedOptions();\n      selectedStr = localeStr;\n    } catch (e) {\n      const smaller = localeStr.substring(0, uIndex);\n      options = getCachedDTF(smaller).resolvedOptions();\n      selectedStr = smaller;\n    }\n\n    const { numberingSystem, calendar } = options;\n    return [selectedStr, numberingSystem, calendar];\n  }\n}\n\nfunction intlConfigString(localeStr, numberingSystem, outputCalendar) {\n  if (outputCalendar || numberingSystem) {\n    if (!localeStr.includes(\"-u-\")) {\n      localeStr += \"-u\";\n    }\n\n    if (outputCalendar) {\n      localeStr += `-ca-${outputCalendar}`;\n    }\n\n    if (numberingSystem) {\n      localeStr += `-nu-${numberingSystem}`;\n    }\n    return localeStr;\n  } else {\n    return localeStr;\n  }\n}\n\nfunction mapMonths(f) {\n  const ms = [];\n  for (let i = 1; i <= 12; i++) {\n    const dt = DateTime.utc(2009, i, 1);\n    ms.push(f(dt));\n  }\n  return ms;\n}\n\nfunction mapWeekdays(f) {\n  const ms = [];\n  for (let i = 1; i <= 7; i++) {\n    const dt = DateTime.utc(2016, 11, 13 + i);\n    ms.push(f(dt));\n  }\n  return ms;\n}\n\nfunction listStuff(loc, length, englishFn, intlFn) {\n  const mode = loc.listingMode();\n\n  if (mode === \"error\") {\n    return null;\n  } else if (mode === \"en\") {\n    return englishFn(length);\n  } else {\n    return intlFn(length);\n  }\n}\n\nfunction supportsFastNumbers(loc) {\n  if (loc.numberingSystem && loc.numberingSystem !== \"latn\") {\n    return false;\n  } else {\n    return (\n      loc.numberingSystem === \"latn\" ||\n      !loc.locale ||\n      loc.locale.startsWith(\"en\") ||\n      new Intl.DateTimeFormat(loc.intl).resolvedOptions().numberingSystem === \"latn\"\n    );\n  }\n}\n\n/**\n * @private\n */\n\nclass PolyNumberFormatter {\n  constructor(intl, forceSimple, opts) {\n    this.padTo = opts.padTo || 0;\n    this.floor = opts.floor || false;\n\n    const { padTo, floor, ...otherOpts } = opts;\n\n    if (!forceSimple || Object.keys(otherOpts).length > 0) {\n      const intlOpts = { useGrouping: false, ...opts };\n      if (opts.padTo > 0) intlOpts.minimumIntegerDigits = opts.padTo;\n      this.inf = getCachedINF(intl, intlOpts);\n    }\n  }\n\n  format(i) {\n    if (this.inf) {\n      const fixed = this.floor ? Math.floor(i) : i;\n      return this.inf.format(fixed);\n    } else {\n      // to match the browser's numberformatter defaults\n      const fixed = this.floor ? Math.floor(i) : roundTo(i, 3);\n      return padStart(fixed, this.padTo);\n    }\n  }\n}\n\n/**\n * @private\n */\n\nclass PolyDateFormatter {\n  constructor(dt, intl, opts) {\n    this.opts = opts;\n    this.originalZone = undefined;\n\n    let z = undefined;\n    if (this.opts.timeZone) {\n      // Don't apply any workarounds if a timeZone is explicitly provided in opts\n      this.dt = dt;\n    } else if (dt.zone.type === \"fixed\") {\n      // UTC-8 or Etc/UTC-8 are not part of tzdata, only Etc/GMT+8 and the like.\n      // That is why fixed-offset TZ is set to that unless it is:\n      // 1. Representing offset 0 when UTC is used to maintain previous behavior and does not become GMT.\n      // 2. Unsupported by the browser:\n      //    - some do not support Etc/\n      //    - < Etc/GMT-14, > Etc/GMT+12, and 30-minute or 45-minute offsets are not part of tzdata\n      const gmtOffset = -1 * (dt.offset / 60);\n      const offsetZ = gmtOffset >= 0 ? `Etc/GMT+${gmtOffset}` : `Etc/GMT${gmtOffset}`;\n      if (dt.offset !== 0 && IANAZone.create(offsetZ).valid) {\n        z = offsetZ;\n        this.dt = dt;\n      } else {\n        // Not all fixed-offset zones like Etc/+4:30 are present in tzdata so\n        // we manually apply the offset and substitute the zone as needed.\n        z = \"UTC\";\n        this.dt = dt.offset === 0 ? dt : dt.setZone(\"UTC\").plus({ minutes: dt.offset });\n        this.originalZone = dt.zone;\n      }\n    } else if (dt.zone.type === \"system\") {\n      this.dt = dt;\n    } else if (dt.zone.type === \"iana\") {\n      this.dt = dt;\n      z = dt.zone.name;\n    } else {\n      // Custom zones can have any offset / offsetName so we just manually\n      // apply the offset and substitute the zone as needed.\n      z = \"UTC\";\n      this.dt = dt.setZone(\"UTC\").plus({ minutes: dt.offset });\n      this.originalZone = dt.zone;\n    }\n\n    const intlOpts = { ...this.opts };\n    intlOpts.timeZone = intlOpts.timeZone || z;\n    this.dtf = getCachedDTF(intl, intlOpts);\n  }\n\n  format() {\n    if (this.originalZone) {\n      // If we have to substitute in the actual zone name, we have to use\n      // formatToParts so that the timezone can be replaced.\n      return this.formatToParts()\n        .map(({ value }) => value)\n        .join(\"\");\n    }\n    return this.dtf.format(this.dt.toJSDate());\n  }\n\n  formatToParts() {\n    const parts = this.dtf.formatToParts(this.dt.toJSDate());\n    if (this.originalZone) {\n      return parts.map((part) => {\n        if (part.type === \"timeZoneName\") {\n          const offsetName = this.originalZone.offsetName(this.dt.ts, {\n            locale: this.dt.locale,\n            format: this.opts.timeZoneName,\n          });\n          return {\n            ...part,\n            value: offsetName,\n          };\n        } else {\n          return part;\n        }\n      });\n    }\n    return parts;\n  }\n\n  resolvedOptions() {\n    return this.dtf.resolvedOptions();\n  }\n}\n\n/**\n * @private\n */\nclass PolyRelFormatter {\n  constructor(intl, isEnglish, opts) {\n    this.opts = { style: \"long\", ...opts };\n    if (!isEnglish && hasRelative()) {\n      this.rtf = getCachedRTF(intl, opts);\n    }\n  }\n\n  format(count, unit) {\n    if (this.rtf) {\n      return this.rtf.format(count, unit);\n    } else {\n      return English.formatRelativeTime(unit, count, this.opts.numeric, this.opts.style !== \"long\");\n    }\n  }\n\n  formatToParts(count, unit) {\n    if (this.rtf) {\n      return this.rtf.formatToParts(count, unit);\n    } else {\n      return [];\n    }\n  }\n}\n\nconst fallbackWeekSettings = {\n  firstDay: 1,\n  minimalDays: 4,\n  weekend: [6, 7],\n};\n\n/**\n * @private\n */\n\nexport default class Locale {\n  static fromOpts(opts) {\n    return Locale.create(\n      opts.locale,\n      opts.numberingSystem,\n      opts.outputCalendar,\n      opts.weekSettings,\n      opts.defaultToEN\n    );\n  }\n\n  static create(locale, numberingSystem, outputCalendar, weekSettings, defaultToEN = false) {\n    const specifiedLocale = locale || Settings.defaultLocale;\n    // the system locale is useful for human readable strings but annoying for parsing/formatting known formats\n    const localeR = specifiedLocale || (defaultToEN ? \"en-US\" : systemLocale());\n    const numberingSystemR = numberingSystem || Settings.defaultNumberingSystem;\n    const outputCalendarR = outputCalendar || Settings.defaultOutputCalendar;\n    const weekSettingsR = validateWeekSettings(weekSettings) || Settings.defaultWeekSettings;\n    return new Locale(localeR, numberingSystemR, outputCalendarR, weekSettingsR, specifiedLocale);\n  }\n\n  static resetCache() {\n    sysLocaleCache = null;\n    intlDTCache = {};\n    intlNumCache = {};\n    intlRelCache = {};\n  }\n\n  static fromObject({ locale, numberingSystem, outputCalendar, weekSettings } = {}) {\n    return Locale.create(locale, numberingSystem, outputCalendar, weekSettings);\n  }\n\n  constructor(locale, numbering, outputCalendar, weekSettings, specifiedLocale) {\n    const [parsedLocale, parsedNumberingSystem, parsedOutputCalendar] = parseLocaleString(locale);\n\n    this.locale = parsedLocale;\n    this.numberingSystem = numbering || parsedNumberingSystem || null;\n    this.outputCalendar = outputCalendar || parsedOutputCalendar || null;\n    this.weekSettings = weekSettings;\n    this.intl = intlConfigString(this.locale, this.numberingSystem, this.outputCalendar);\n\n    this.weekdaysCache = { format: {}, standalone: {} };\n    this.monthsCache = { format: {}, standalone: {} };\n    this.meridiemCache = null;\n    this.eraCache = {};\n\n    this.specifiedLocale = specifiedLocale;\n    this.fastNumbersCached = null;\n  }\n\n  get fastNumbers() {\n    if (this.fastNumbersCached == null) {\n      this.fastNumbersCached = supportsFastNumbers(this);\n    }\n\n    return this.fastNumbersCached;\n  }\n\n  listingMode() {\n    const isActuallyEn = this.isEnglish();\n    const hasNoWeirdness =\n      (this.numberingSystem === null || this.numberingSystem === \"latn\") &&\n      (this.outputCalendar === null || this.outputCalendar === \"gregory\");\n    return isActuallyEn && hasNoWeirdness ? \"en\" : \"intl\";\n  }\n\n  clone(alts) {\n    if (!alts || Object.getOwnPropertyNames(alts).length === 0) {\n      return this;\n    } else {\n      return Locale.create(\n        alts.locale || this.specifiedLocale,\n        alts.numberingSystem || this.numberingSystem,\n        alts.outputCalendar || this.outputCalendar,\n        validateWeekSettings(alts.weekSettings) || this.weekSettings,\n        alts.defaultToEN || false\n      );\n    }\n  }\n\n  redefaultToEN(alts = {}) {\n    return this.clone({ ...alts, defaultToEN: true });\n  }\n\n  redefaultToSystem(alts = {}) {\n    return this.clone({ ...alts, defaultToEN: false });\n  }\n\n  months(length, format = false) {\n    return listStuff(this, length, English.months, () => {\n      const intl = format ? { month: length, day: \"numeric\" } : { month: length },\n        formatStr = format ? \"format\" : \"standalone\";\n      if (!this.monthsCache[formatStr][length]) {\n        this.monthsCache[formatStr][length] = mapMonths((dt) => this.extract(dt, intl, \"month\"));\n      }\n      return this.monthsCache[formatStr][length];\n    });\n  }\n\n  weekdays(length, format = false) {\n    return listStuff(this, length, English.weekdays, () => {\n      const intl = format\n          ? { weekday: length, year: \"numeric\", month: \"long\", day: \"numeric\" }\n          : { weekday: length },\n        formatStr = format ? \"format\" : \"standalone\";\n      if (!this.weekdaysCache[formatStr][length]) {\n        this.weekdaysCache[formatStr][length] = mapWeekdays((dt) =>\n          this.extract(dt, intl, \"weekday\")\n        );\n      }\n      return this.weekdaysCache[formatStr][length];\n    });\n  }\n\n  meridiems() {\n    return listStuff(\n      this,\n      undefined,\n      () => English.meridiems,\n      () => {\n        // In theory there could be aribitrary day periods. We're gonna assume there are exactly two\n        // for AM and PM. This is probably wrong, but it's makes parsing way easier.\n        if (!this.meridiemCache) {\n          const intl = { hour: \"numeric\", hourCycle: \"h12\" };\n          this.meridiemCache = [DateTime.utc(2016, 11, 13, 9), DateTime.utc(2016, 11, 13, 19)].map(\n            (dt) => this.extract(dt, intl, \"dayperiod\")\n          );\n        }\n\n        return this.meridiemCache;\n      }\n    );\n  }\n\n  eras(length) {\n    return listStuff(this, length, English.eras, () => {\n      const intl = { era: length };\n\n      // This is problematic. Different calendars are going to define eras totally differently. What I need is the minimum set of dates\n      // to definitely enumerate them.\n      if (!this.eraCache[length]) {\n        this.eraCache[length] = [DateTime.utc(-40, 1, 1), DateTime.utc(2017, 1, 1)].map((dt) =>\n          this.extract(dt, intl, \"era\")\n        );\n      }\n\n      return this.eraCache[length];\n    });\n  }\n\n  extract(dt, intlOpts, field) {\n    const df = this.dtFormatter(dt, intlOpts),\n      results = df.formatToParts(),\n      matching = results.find((m) => m.type.toLowerCase() === field);\n    return matching ? matching.value : null;\n  }\n\n  numberFormatter(opts = {}) {\n    // this forcesimple option is never used (the only caller short-circuits on it, but it seems safer to leave)\n    // (in contrast, the rest of the condition is used heavily)\n    return new PolyNumberFormatter(this.intl, opts.forceSimple || this.fastNumbers, opts);\n  }\n\n  dtFormatter(dt, intlOpts = {}) {\n    return new PolyDateFormatter(dt, this.intl, intlOpts);\n  }\n\n  relFormatter(opts = {}) {\n    return new PolyRelFormatter(this.intl, this.isEnglish(), opts);\n  }\n\n  listFormatter(opts = {}) {\n    return getCachedLF(this.intl, opts);\n  }\n\n  isEnglish() {\n    return (\n      this.locale === \"en\" ||\n      this.locale.toLowerCase() === \"en-us\" ||\n      new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith(\"en-us\")\n    );\n  }\n\n  getWeekSettings() {\n    if (this.weekSettings) {\n      return this.weekSettings;\n    } else if (!hasLocaleWeekInfo()) {\n      return fallbackWeekSettings;\n    } else {\n      return getCachedWeekInfo(this.locale);\n    }\n  }\n\n  getStartOfWeek() {\n    return this.getWeekSettings().firstDay;\n  }\n\n  getMinDaysInFirstWeek() {\n    return this.getWeekSettings().minimalDays;\n  }\n\n  getWeekendDays() {\n    return this.getWeekSettings().weekend;\n  }\n\n  equals(other) {\n    return (\n      this.locale === other.locale &&\n      this.numberingSystem === other.numberingSystem &&\n      this.outputCalendar === other.outputCalendar\n    );\n  }\n}\n", "import { formatOffset, signedOffset } from \"../impl/util.js\";\nimport Zone from \"../zone.js\";\n\nlet singleton = null;\n\n/**\n * A zone with a fixed offset (meaning no DST)\n * @implements {Zone}\n */\nexport default class FixedOffsetZone extends Zone {\n  /**\n   * Get a singleton instance of UTC\n   * @return {FixedOffsetZone}\n   */\n  static get utcInstance() {\n    if (singleton === null) {\n      singleton = new FixedOffsetZone(0);\n    }\n    return singleton;\n  }\n\n  /**\n   * Get an instance with a specified offset\n   * @param {number} offset - The offset in minutes\n   * @return {FixedOffsetZone}\n   */\n  static instance(offset) {\n    return offset === 0 ? FixedOffsetZone.utcInstance : new FixedOffsetZone(offset);\n  }\n\n  /**\n   * Get an instance of FixedOffsetZone from a UTC offset string, like \"UTC+6\"\n   * @param {string} s - The offset string to parse\n   * @example FixedOffsetZone.parseSpecifier(\"UTC+6\")\n   * @example FixedOffsetZone.parseSpecifier(\"UTC+06\")\n   * @example FixedOffsetZone.parseSpecifier(\"UTC-6:00\")\n   * @return {FixedOffsetZone}\n   */\n  static parseSpecifier(s) {\n    if (s) {\n      const r = s.match(/^utc(?:([+-]\\d{1,2})(?::(\\d{2}))?)?$/i);\n      if (r) {\n        return new FixedOffsetZone(signedOffset(r[1], r[2]));\n      }\n    }\n    return null;\n  }\n\n  constructor(offset) {\n    super();\n    /** @private **/\n    this.fixed = offset;\n  }\n\n  /** @override **/\n  get type() {\n    return \"fixed\";\n  }\n\n  /** @override **/\n  get name() {\n    return this.fixed === 0 ? \"UTC\" : `UTC${formatOffset(this.fixed, \"narrow\")}`;\n  }\n\n  get ianaName() {\n    if (this.fixed === 0) {\n      return \"Etc/UTC\";\n    } else {\n      return `Etc/GMT${formatOffset(-this.fixed, \"narrow\")}`;\n    }\n  }\n\n  /** @override **/\n  offsetName() {\n    return this.name;\n  }\n\n  /** @override **/\n  formatOffset(ts, format) {\n    return formatOffset(this.fixed, format);\n  }\n\n  /** @override **/\n  get isUniversal() {\n    return true;\n  }\n\n  /** @override **/\n  offset() {\n    return this.fixed;\n  }\n\n  /** @override **/\n  equals(otherZone) {\n    return otherZone.type === \"fixed\" && otherZone.fixed === this.fixed;\n  }\n\n  /** @override **/\n  get isValid() {\n    return true;\n  }\n}\n", "import Zone from \"../zone.js\";\n\n/**\n * A zone that failed to parse. You should never need to instantiate this.\n * @implements {Zone}\n */\nexport default class InvalidZone extends Zone {\n  constructor(zoneName) {\n    super();\n    /**  @private */\n    this.zoneName = zoneName;\n  }\n\n  /** @override **/\n  get type() {\n    return \"invalid\";\n  }\n\n  /** @override **/\n  get name() {\n    return this.zoneName;\n  }\n\n  /** @override **/\n  get isUniversal() {\n    return false;\n  }\n\n  /** @override **/\n  offsetName() {\n    return null;\n  }\n\n  /** @override **/\n  formatOffset() {\n    return \"\";\n  }\n\n  /** @override **/\n  offset() {\n    return NaN;\n  }\n\n  /** @override **/\n  equals() {\n    return false;\n  }\n\n  /** @override **/\n  get isValid() {\n    return false;\n  }\n}\n", "/**\n * @private\n */\n\nimport Zone from \"../zone.js\";\nimport IANAZone from \"../zones/IANAZone.js\";\nimport FixedOffsetZone from \"../zones/fixedOffsetZone.js\";\nimport InvalidZone from \"../zones/invalidZone.js\";\n\nimport { isUndefined, isString, isNumber } from \"./util.js\";\nimport SystemZone from \"../zones/systemZone.js\";\n\nexport function normalizeZone(input, defaultZone) {\n  let offset;\n  if (isUndefined(input) || input === null) {\n    return defaultZone;\n  } else if (input instanceof Zone) {\n    return input;\n  } else if (isString(input)) {\n    const lowered = input.toLowerCase();\n    if (lowered === \"default\") return defaultZone;\n    else if (lowered === \"local\" || lowered === \"system\") return SystemZone.instance;\n    else if (lowered === \"utc\" || lowered === \"gmt\") return FixedOffsetZone.utcInstance;\n    else return FixedOffsetZone.parseSpecifier(lowered) || IANAZone.create(input);\n  } else if (isNumber(input)) {\n    return FixedOffsetZone.instance(input);\n  } else if (typeof input === \"object\" && \"offset\" in input && typeof input.offset === \"function\") {\n    // This is dumb, but the instanceof check above doesn't seem to really work\n    // so we're duck checking it\n    return input;\n  } else {\n    return new InvalidZone(input);\n  }\n}\n", "import SystemZone from \"./zones/systemZone.js\";\nimport IANAZone from \"./zones/IANAZone.js\";\nimport Locale from \"./impl/locale.js\";\n\nimport { normalizeZone } from \"./impl/zoneUtil.js\";\nimport { validateWeekSettings } from \"./impl/util.js\";\n\nlet now = () => Date.now(),\n  defaultZone = \"system\",\n  defaultLocale = null,\n  defaultNumberingSystem = null,\n  defaultOutputCalendar = null,\n  twoDigitCutoffYear = 60,\n  throwOnInvalid,\n  defaultWeekSettings = null;\n\n/**\n * Settings contains static getters and setters that control Luxon's overall behavior. Luxon is a simple library with few options, but the ones it does have live here.\n */\nexport default class Settings {\n  /**\n   * Get the callback for returning the current timestamp.\n   * @type {function}\n   */\n  static get now() {\n    return now;\n  }\n\n  /**\n   * Set the callback for returning the current timestamp.\n   * The function should return a number, which will be interpreted as an Epoch millisecond count\n   * @type {function}\n   * @example Settings.now = () => Date.now() + 3000 // pretend it is 3 seconds in the future\n   * @example Settings.now = () => 0 // always pretend it's Jan 1, 1970 at midnight in UTC time\n   */\n  static set now(n) {\n    now = n;\n  }\n\n  /**\n   * Set the default time zone to create DateTimes in. Does not affect existing instances.\n   * Use the value \"system\" to reset this value to the system's time zone.\n   * @type {string}\n   */\n  static set defaultZone(zone) {\n    defaultZone = zone;\n  }\n\n  /**\n   * Get the default time zone object currently used to create DateTimes. Does not affect existing instances.\n   * The default value is the system's time zone (the one set on the machine that runs this code).\n   * @type {Zone}\n   */\n  static get defaultZone() {\n    return normalizeZone(defaultZone, SystemZone.instance);\n  }\n\n  /**\n   * Get the default locale to create DateTimes with. Does not affect existing instances.\n   * @type {string}\n   */\n  static get defaultLocale() {\n    return defaultLocale;\n  }\n\n  /**\n   * Set the default locale to create DateTimes with. Does not affect existing instances.\n   * @type {string}\n   */\n  static set defaultLocale(locale) {\n    defaultLocale = locale;\n  }\n\n  /**\n   * Get the default numbering system to create DateTimes with. Does not affect existing instances.\n   * @type {string}\n   */\n  static get defaultNumberingSystem() {\n    return defaultNumberingSystem;\n  }\n\n  /**\n   * Set the default numbering system to create DateTimes with. Does not affect existing instances.\n   * @type {string}\n   */\n  static set defaultNumberingSystem(numberingSystem) {\n    defaultNumberingSystem = numberingSystem;\n  }\n\n  /**\n   * Get the default output calendar to create DateTimes with. Does not affect existing instances.\n   * @type {string}\n   */\n  static get defaultOutputCalendar() {\n    return defaultOutputCalendar;\n  }\n\n  /**\n   * Set the default output calendar to create DateTimes with. Does not affect existing instances.\n   * @type {string}\n   */\n  static set defaultOutputCalendar(outputCalendar) {\n    defaultOutputCalendar = outputCalendar;\n  }\n\n  /**\n   * @typedef {Object} WeekSettings\n   * @property {number} firstDay\n   * @property {number} minimalDays\n   * @property {number[]} weekend\n   */\n\n  /**\n   * @return {WeekSettings|null}\n   */\n  static get defaultWeekSettings() {\n    return defaultWeekSettings;\n  }\n\n  /**\n   * Allows overriding the default locale week settings, i.e. the start of the week, the weekend and\n   * how many days are required in the first week of a year.\n   * Does not affect existing instances.\n   *\n   * @param {WeekSettings|null} weekSettings\n   */\n  static set defaultWeekSettings(weekSettings) {\n    defaultWeekSettings = validateWeekSettings(weekSettings);\n  }\n\n  /**\n   * Get the cutoff year after which a string encoding a year as two digits is interpreted to occur in the current century.\n   * @type {number}\n   */\n  static get twoDigitCutoffYear() {\n    return twoDigitCutoffYear;\n  }\n\n  /**\n   * Set the cutoff year after which a string encoding a year as two digits is interpreted to occur in the current century.\n   * @type {number}\n   * @example Settings.twoDigitCutoffYear = 0 // cut-off year is 0, so all 'yy' are interpreted as current century\n   * @example Settings.twoDigitCutoffYear = 50 // '49' -> 1949; '50' -> 2050\n   * @example Settings.twoDigitCutoffYear = 1950 // interpreted as 50\n   * @example Settings.twoDigitCutoffYear = 2050 // ALSO interpreted as 50\n   */\n  static set twoDigitCutoffYear(cutoffYear) {\n    twoDigitCutoffYear = cutoffYear % 100;\n  }\n\n  /**\n   * Get whether Luxon will throw when it encounters invalid DateTimes, Durations, or Intervals\n   * @type {boolean}\n   */\n  static get throwOnInvalid() {\n    return throwOnInvalid;\n  }\n\n  /**\n   * Set whether Luxon will throw when it encounters invalid DateTimes, Durations, or Intervals\n   * @type {boolean}\n   */\n  static set throwOnInvalid(t) {\n    throwOnInvalid = t;\n  }\n\n  /**\n   * Reset Luxon's global caches. Should only be necessary in testing scenarios.\n   * @return {void}\n   */\n  static resetCaches() {\n    Locale.resetCache();\n    IANAZone.resetCache();\n  }\n}\n", "export default class Invalid {\n  constructor(reason, explanation) {\n    this.reason = reason;\n    this.explanation = explanation;\n  }\n\n  toMessage() {\n    if (this.explanation) {\n      return `${this.reason}: ${this.explanation}`;\n    } else {\n      return this.reason;\n    }\n  }\n}\n", "import {\n  integerBetween,\n  isLeapYear,\n  timeObject,\n  daysInYear,\n  daysInMonth,\n  weeksInWeekYear,\n  isInteger,\n  isUndefined,\n} from \"./util.js\";\nimport Invalid from \"./invalid.js\";\nimport { ConflictingSpecificationError } from \"../errors.js\";\n\nconst nonLeapLadder = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334],\n  leapLadder = [0, 31, 60, 91, 121, 152, 182, 213, 244, 274, 305, 335];\n\nfunction unitOutOfRange(unit, value) {\n  return new Invalid(\n    \"unit out of range\",\n    `you specified ${value} (of type ${typeof value}) as a ${unit}, which is invalid`\n  );\n}\n\nexport function dayOfWeek(year, month, day) {\n  const d = new Date(Date.UTC(year, month - 1, day));\n\n  if (year < 100 && year >= 0) {\n    d.setUTCFullYear(d.getUTCFullYear() - 1900);\n  }\n\n  const js = d.getUTCDay();\n\n  return js === 0 ? 7 : js;\n}\n\nfunction computeOrdinal(year, month, day) {\n  return day + (isLeapYear(year) ? leapLadder : nonLeapLadder)[month - 1];\n}\n\nfunction uncomputeOrdinal(year, ordinal) {\n  const table = isLeapYear(year) ? leapLadder : nonLeapLadder,\n    month0 = table.findIndex((i) => i < ordinal),\n    day = ordinal - table[month0];\n  return { month: month0 + 1, day };\n}\n\nexport function isoWeekdayToLocal(isoWeekday, startOfWeek) {\n  return ((isoWeekday - startOfWeek + 7) % 7) + 1;\n}\n\n/**\n * @private\n */\n\nexport function gregorianToWeek(gregObj, minDaysInFirstWeek = 4, startOfWeek = 1) {\n  const { year, month, day } = gregObj,\n    ordinal = computeOrdinal(year, month, day),\n    weekday = isoWeekdayToLocal(dayOfWeek(year, month, day), startOfWeek);\n\n  let weekNumber = Math.floor((ordinal - weekday + 14 - minDaysInFirstWeek) / 7),\n    weekYear;\n\n  if (weekNumber < 1) {\n    weekYear = year - 1;\n    weekNumber = weeksInWeekYear(weekYear, minDaysInFirstWeek, startOfWeek);\n  } else if (weekNumber > weeksInWeekYear(year, minDaysInFirstWeek, startOfWeek)) {\n    weekYear = year + 1;\n    weekNumber = 1;\n  } else {\n    weekYear = year;\n  }\n\n  return { weekYear, weekNumber, weekday, ...timeObject(gregObj) };\n}\n\nexport function weekToGregorian(weekData, minDaysInFirstWeek = 4, startOfWeek = 1) {\n  const { weekYear, weekNumber, weekday } = weekData,\n    weekdayOfJan4 = isoWeekdayToLocal(dayOfWeek(weekYear, 1, minDaysInFirstWeek), startOfWeek),\n    yearInDays = daysInYear(weekYear);\n\n  let ordinal = weekNumber * 7 + weekday - weekdayOfJan4 - 7 + minDaysInFirstWeek,\n    year;\n\n  if (ordinal < 1) {\n    year = weekYear - 1;\n    ordinal += daysInYear(year);\n  } else if (ordinal > yearInDays) {\n    year = weekYear + 1;\n    ordinal -= daysInYear(weekYear);\n  } else {\n    year = weekYear;\n  }\n\n  const { month, day } = uncomputeOrdinal(year, ordinal);\n  return { year, month, day, ...timeObject(weekData) };\n}\n\nexport function gregorianToOrdinal(gregData) {\n  const { year, month, day } = gregData;\n  const ordinal = computeOrdinal(year, month, day);\n  return { year, ordinal, ...timeObject(gregData) };\n}\n\nexport function ordinalToGregorian(ordinalData) {\n  const { year, ordinal } = ordinalData;\n  const { month, day } = uncomputeOrdinal(year, ordinal);\n  return { year, month, day, ...timeObject(ordinalData) };\n}\n\n/**\n * Check if local week units like localWeekday are used in obj.\n * If so, validates that they are not mixed with ISO week units and then copies them to the normal week unit properties.\n * Modifies obj in-place!\n * @param obj the object values\n */\nexport function usesLocalWeekValues(obj, loc) {\n  const hasLocaleWeekData =\n    !isUndefined(obj.localWeekday) ||\n    !isUndefined(obj.localWeekNumber) ||\n    !isUndefined(obj.localWeekYear);\n  if (hasLocaleWeekData) {\n    const hasIsoWeekData =\n      !isUndefined(obj.weekday) || !isUndefined(obj.weekNumber) || !isUndefined(obj.weekYear);\n\n    if (hasIsoWeekData) {\n      throw new ConflictingSpecificationError(\n        \"Cannot mix locale-based week fields with ISO-based week fields\"\n      );\n    }\n    if (!isUndefined(obj.localWeekday)) obj.weekday = obj.localWeekday;\n    if (!isUndefined(obj.localWeekNumber)) obj.weekNumber = obj.localWeekNumber;\n    if (!isUndefined(obj.localWeekYear)) obj.weekYear = obj.localWeekYear;\n    delete obj.localWeekday;\n    delete obj.localWeekNumber;\n    delete obj.localWeekYear;\n    return {\n      minDaysInFirstWeek: loc.getMinDaysInFirstWeek(),\n      startOfWeek: loc.getStartOfWeek(),\n    };\n  } else {\n    return { minDaysInFirstWeek: 4, startOfWeek: 1 };\n  }\n}\n\nexport function hasInvalidWeekData(obj, minDaysInFirstWeek = 4, startOfWeek = 1) {\n  const validYear = isInteger(obj.weekYear),\n    validWeek = integerBetween(\n      obj.weekNumber,\n      1,\n      weeksInWeekYear(obj.weekYear, minDaysInFirstWeek, startOfWeek)\n    ),\n    validWeekday = integerBetween(obj.weekday, 1, 7);\n\n  if (!validYear) {\n    return unitOutOfRange(\"weekYear\", obj.weekYear);\n  } else if (!validWeek) {\n    return unitOutOfRange(\"week\", obj.weekNumber);\n  } else if (!validWeekday) {\n    return unitOutOfRange(\"weekday\", obj.weekday);\n  } else return false;\n}\n\nexport function hasInvalidOrdinalData(obj) {\n  const validYear = isInteger(obj.year),\n    validOrdinal = integerBetween(obj.ordinal, 1, daysInYear(obj.year));\n\n  if (!validYear) {\n    return unitOutOfRange(\"year\", obj.year);\n  } else if (!validOrdinal) {\n    return unitOutOfRange(\"ordinal\", obj.ordinal);\n  } else return false;\n}\n\nexport function hasInvalidGregorianData(obj) {\n  const validYear = isInteger(obj.year),\n    validMonth = integerBetween(obj.month, 1, 12),\n    validDay = integerBetween(obj.day, 1, daysInMonth(obj.year, obj.month));\n\n  if (!validYear) {\n    return unitOutOfRange(\"year\", obj.year);\n  } else if (!validMonth) {\n    return unitOutOfRange(\"month\", obj.month);\n  } else if (!validDay) {\n    return unitOutOfRange(\"day\", obj.day);\n  } else return false;\n}\n\nexport function hasInvalidTimeData(obj) {\n  const { hour, minute, second, millisecond } = obj;\n  const validHour =\n      integerBetween(hour, 0, 23) ||\n      (hour === 24 && minute === 0 && second === 0 && millisecond === 0),\n    validMinute = integerBetween(minute, 0, 59),\n    validSecond = integerBetween(second, 0, 59),\n    validMillisecond = integerBetween(millisecond, 0, 999);\n\n  if (!validHour) {\n    return unitOutOfRange(\"hour\", hour);\n  } else if (!validMinute) {\n    return unitOutOfRange(\"minute\", minute);\n  } else if (!validSecond) {\n    return unitOutOfRange(\"second\", second);\n  } else if (!validMillisecond) {\n    return unitOutOfRange(\"millisecond\", millisecond);\n  } else return false;\n}\n", "/*\n  This is just a junk drawer, containing anything used across multiple classes.\n  Because Luxon is small(ish), this should stay small and we won't worry about splitting\n  it up into, say, parsingUtil.js and basicUtil.js and so on. But they are divided up by feature area.\n*/\n\nimport { InvalidArgumentError } from \"../errors.js\";\nimport Settings from \"../settings.js\";\nimport { dayOfWeek, isoWeekdayToLocal } from \"./conversions.js\";\n\n/**\n * @private\n */\n\n// TYPES\n\nexport function isUndefined(o) {\n  return typeof o === \"undefined\";\n}\n\nexport function isNumber(o) {\n  return typeof o === \"number\";\n}\n\nexport function isInteger(o) {\n  return typeof o === \"number\" && o % 1 === 0;\n}\n\nexport function isString(o) {\n  return typeof o === \"string\";\n}\n\nexport function isDate(o) {\n  return Object.prototype.toString.call(o) === \"[object Date]\";\n}\n\n// CAPABILITIES\n\nexport function hasRelative() {\n  try {\n    return typeof Intl !== \"undefined\" && !!Intl.RelativeTimeFormat;\n  } catch (e) {\n    return false;\n  }\n}\n\nexport function hasLocaleWeekInfo() {\n  try {\n    return (\n      typeof Intl !== \"undefined\" &&\n      !!Intl.Locale &&\n      (\"weekInfo\" in Intl.Locale.prototype || \"getWeekInfo\" in Intl.Locale.prototype)\n    );\n  } catch (e) {\n    return false;\n  }\n}\n\n// OBJECTS AND ARRAYS\n\nexport function maybeArray(thing) {\n  return Array.isArray(thing) ? thing : [thing];\n}\n\nexport function bestBy(arr, by, compare) {\n  if (arr.length === 0) {\n    return undefined;\n  }\n  return arr.reduce((best, next) => {\n    const pair = [by(next), next];\n    if (!best) {\n      return pair;\n    } else if (compare(best[0], pair[0]) === best[0]) {\n      return best;\n    } else {\n      return pair;\n    }\n  }, null)[1];\n}\n\nexport function pick(obj, keys) {\n  return keys.reduce((a, k) => {\n    a[k] = obj[k];\n    return a;\n  }, {});\n}\n\nexport function hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nexport function validateWeekSettings(settings) {\n  if (settings == null) {\n    return null;\n  } else if (typeof settings !== \"object\") {\n    throw new InvalidArgumentError(\"Week settings must be an object\");\n  } else {\n    if (\n      !integerBetween(settings.firstDay, 1, 7) ||\n      !integerBetween(settings.minimalDays, 1, 7) ||\n      !Array.isArray(settings.weekend) ||\n      settings.weekend.some((v) => !integerBetween(v, 1, 7))\n    ) {\n      throw new InvalidArgumentError(\"Invalid week settings\");\n    }\n    return {\n      firstDay: settings.firstDay,\n      minimalDays: settings.minimalDays,\n      weekend: Array.from(settings.weekend),\n    };\n  }\n}\n\n// NUMBERS AND STRINGS\n\nexport function integerBetween(thing, bottom, top) {\n  return isInteger(thing) && thing >= bottom && thing <= top;\n}\n\n// x % n but takes the sign of n instead of x\nexport function floorMod(x, n) {\n  return x - n * Math.floor(x / n);\n}\n\nexport function padStart(input, n = 2) {\n  const isNeg = input < 0;\n  let padded;\n  if (isNeg) {\n    padded = \"-\" + (\"\" + -input).padStart(n, \"0\");\n  } else {\n    padded = (\"\" + input).padStart(n, \"0\");\n  }\n  return padded;\n}\n\nexport function parseInteger(string) {\n  if (isUndefined(string) || string === null || string === \"\") {\n    return undefined;\n  } else {\n    return parseInt(string, 10);\n  }\n}\n\nexport function parseFloating(string) {\n  if (isUndefined(string) || string === null || string === \"\") {\n    return undefined;\n  } else {\n    return parseFloat(string);\n  }\n}\n\nexport function parseMillis(fraction) {\n  // Return undefined (instead of 0) in these cases, where fraction is not set\n  if (isUndefined(fraction) || fraction === null || fraction === \"\") {\n    return undefined;\n  } else {\n    const f = parseFloat(\"0.\" + fraction) * 1000;\n    return Math.floor(f);\n  }\n}\n\nexport function roundTo(number, digits, towardZero = false) {\n  const factor = 10 ** digits,\n    rounder = towardZero ? Math.trunc : Math.round;\n  return rounder(number * factor) / factor;\n}\n\n// DATE BASICS\n\nexport function isLeapYear(year) {\n  return year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0);\n}\n\nexport function daysInYear(year) {\n  return isLeapYear(year) ? 366 : 365;\n}\n\nexport function daysInMonth(year, month) {\n  const modMonth = floorMod(month - 1, 12) + 1,\n    modYear = year + (month - modMonth) / 12;\n\n  if (modMonth === 2) {\n    return isLeapYear(modYear) ? 29 : 28;\n  } else {\n    return [31, null, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][modMonth - 1];\n  }\n}\n\n// convert a calendar object to a local timestamp (epoch, but with the offset baked in)\nexport function objToLocalTS(obj) {\n  let d = Date.UTC(\n    obj.year,\n    obj.month - 1,\n    obj.day,\n    obj.hour,\n    obj.minute,\n    obj.second,\n    obj.millisecond\n  );\n\n  // for legacy reasons, years between 0 and 99 are interpreted as 19XX; revert that\n  if (obj.year < 100 && obj.year >= 0) {\n    d = new Date(d);\n    // set the month and day again, this is necessary because year 2000 is a leap year, but year 100 is not\n    // so if obj.year is in 99, but obj.day makes it roll over into year 100,\n    // the calculations done by Date.UTC are using year 2000 - which is incorrect\n    d.setUTCFullYear(obj.year, obj.month - 1, obj.day);\n  }\n  return +d;\n}\n\n// adapted from moment.js: https://github.com/moment/moment/blob/000ac1800e620f770f4eb31b5ae908f6167b0ab2/src/lib/units/week-calendar-utils.js\nfunction firstWeekOffset(year, minDaysInFirstWeek, startOfWeek) {\n  const fwdlw = isoWeekdayToLocal(dayOfWeek(year, 1, minDaysInFirstWeek), startOfWeek);\n  return -fwdlw + minDaysInFirstWeek - 1;\n}\n\nexport function weeksInWeekYear(weekYear, minDaysInFirstWeek = 4, startOfWeek = 1) {\n  const weekOffset = firstWeekOffset(weekYear, minDaysInFirstWeek, startOfWeek);\n  const weekOffsetNext = firstWeekOffset(weekYear + 1, minDaysInFirstWeek, startOfWeek);\n  return (daysInYear(weekYear) - weekOffset + weekOffsetNext) / 7;\n}\n\nexport function untruncateYear(year) {\n  if (year > 99) {\n    return year;\n  } else return year > Settings.twoDigitCutoffYear ? 1900 + year : 2000 + year;\n}\n\n// PARSING\n\nexport function parseZoneInfo(ts, offsetFormat, locale, timeZone = null) {\n  const date = new Date(ts),\n    intlOpts = {\n      hourCycle: \"h23\",\n      year: \"numeric\",\n      month: \"2-digit\",\n      day: \"2-digit\",\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n    };\n\n  if (timeZone) {\n    intlOpts.timeZone = timeZone;\n  }\n\n  const modified = { timeZoneName: offsetFormat, ...intlOpts };\n\n  const parsed = new Intl.DateTimeFormat(locale, modified)\n    .formatToParts(date)\n    .find((m) => m.type.toLowerCase() === \"timezonename\");\n  return parsed ? parsed.value : null;\n}\n\n// signedOffset('-5', '30') -> -330\nexport function signedOffset(offHourStr, offMinuteStr) {\n  let offHour = parseInt(offHourStr, 10);\n\n  // don't || this because we want to preserve -0\n  if (Number.isNaN(offHour)) {\n    offHour = 0;\n  }\n\n  const offMin = parseInt(offMinuteStr, 10) || 0,\n    offMinSigned = offHour < 0 || Object.is(offHour, -0) ? -offMin : offMin;\n  return offHour * 60 + offMinSigned;\n}\n\n// COERCION\n\nexport function asNumber(value) {\n  const numericValue = Number(value);\n  if (typeof value === \"boolean\" || value === \"\" || Number.isNaN(numericValue))\n    throw new InvalidArgumentError(`Invalid unit value ${value}`);\n  return numericValue;\n}\n\nexport function normalizeObject(obj, normalizer) {\n  const normalized = {};\n  for (const u in obj) {\n    if (hasOwnProperty(obj, u)) {\n      const v = obj[u];\n      if (v === undefined || v === null) continue;\n      normalized[normalizer(u)] = asNumber(v);\n    }\n  }\n  return normalized;\n}\n\nexport function formatOffset(offset, format) {\n  const hours = Math.trunc(Math.abs(offset / 60)),\n    minutes = Math.trunc(Math.abs(offset % 60)),\n    sign = offset >= 0 ? \"+\" : \"-\";\n\n  switch (format) {\n    case \"short\":\n      return `${sign}${padStart(hours, 2)}:${padStart(minutes, 2)}`;\n    case \"narrow\":\n      return `${sign}${hours}${minutes > 0 ? `:${minutes}` : \"\"}`;\n    case \"techie\":\n      return `${sign}${padStart(hours, 2)}${padStart(minutes, 2)}`;\n    default:\n      throw new RangeError(`Value format ${format} is out of range for property format`);\n  }\n}\n\nexport function timeObject(obj) {\n  return pick(obj, [\"hour\", \"minute\", \"second\", \"millisecond\"]);\n}\n", "import * as Formats from \"./formats.js\";\nimport { pick } from \"./util.js\";\n\nfunction stringify(obj) {\n  return JSON.stringify(obj, Object.keys(obj).sort());\n}\n\n/**\n * @private\n */\n\nexport const monthsLong = [\n  \"January\",\n  \"February\",\n  \"March\",\n  \"April\",\n  \"May\",\n  \"June\",\n  \"July\",\n  \"August\",\n  \"September\",\n  \"October\",\n  \"November\",\n  \"December\",\n];\n\nexport const monthsShort = [\n  \"Jan\",\n  \"Feb\",\n  \"Mar\",\n  \"Apr\",\n  \"May\",\n  \"Jun\",\n  \"Jul\",\n  \"Aug\",\n  \"Sep\",\n  \"Oct\",\n  \"Nov\",\n  \"Dec\",\n];\n\nexport const monthsNarrow = [\"J\", \"F\", \"M\", \"A\", \"M\", \"J\", \"J\", \"A\", \"S\", \"O\", \"N\", \"D\"];\n\nexport function months(length) {\n  switch (length) {\n    case \"narrow\":\n      return [...monthsNarrow];\n    case \"short\":\n      return [...monthsShort];\n    case \"long\":\n      return [...monthsLong];\n    case \"numeric\":\n      return [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\", \"11\", \"12\"];\n    case \"2-digit\":\n      return [\"01\", \"02\", \"03\", \"04\", \"05\", \"06\", \"07\", \"08\", \"09\", \"10\", \"11\", \"12\"];\n    default:\n      return null;\n  }\n}\n\nexport const weekdaysLong = [\n  \"Monday\",\n  \"Tuesday\",\n  \"Wednesday\",\n  \"Thursday\",\n  \"Friday\",\n  \"Saturday\",\n  \"Sunday\",\n];\n\nexport const weekdaysShort = [\"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"];\n\nexport const weekdaysNarrow = [\"M\", \"T\", \"W\", \"T\", \"F\", \"S\", \"S\"];\n\nexport function weekdays(length) {\n  switch (length) {\n    case \"narrow\":\n      return [...weekdaysNarrow];\n    case \"short\":\n      return [...weekdaysShort];\n    case \"long\":\n      return [...weekdaysLong];\n    case \"numeric\":\n      return [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\"];\n    default:\n      return null;\n  }\n}\n\nexport const meridiems = [\"AM\", \"PM\"];\n\nexport const erasLong = [\"Before Christ\", \"Anno Domini\"];\n\nexport const erasShort = [\"BC\", \"AD\"];\n\nexport const erasNarrow = [\"B\", \"A\"];\n\nexport function eras(length) {\n  switch (length) {\n    case \"narrow\":\n      return [...erasNarrow];\n    case \"short\":\n      return [...erasShort];\n    case \"long\":\n      return [...erasLong];\n    default:\n      return null;\n  }\n}\n\nexport function meridiemForDateTime(dt) {\n  return meridiems[dt.hour < 12 ? 0 : 1];\n}\n\nexport function weekdayForDateTime(dt, length) {\n  return weekdays(length)[dt.weekday - 1];\n}\n\nexport function monthForDateTime(dt, length) {\n  return months(length)[dt.month - 1];\n}\n\nexport function eraForDateTime(dt, length) {\n  return eras(length)[dt.year < 0 ? 0 : 1];\n}\n\nexport function formatRelativeTime(unit, count, numeric = \"always\", narrow = false) {\n  const units = {\n    years: [\"year\", \"yr.\"],\n    quarters: [\"quarter\", \"qtr.\"],\n    months: [\"month\", \"mo.\"],\n    weeks: [\"week\", \"wk.\"],\n    days: [\"day\", \"day\", \"days\"],\n    hours: [\"hour\", \"hr.\"],\n    minutes: [\"minute\", \"min.\"],\n    seconds: [\"second\", \"sec.\"],\n  };\n\n  const lastable = [\"hours\", \"minutes\", \"seconds\"].indexOf(unit) === -1;\n\n  if (numeric === \"auto\" && lastable) {\n    const isDay = unit === \"days\";\n    switch (count) {\n      case 1:\n        return isDay ? \"tomorrow\" : `next ${units[unit][0]}`;\n      case -1:\n        return isDay ? \"yesterday\" : `last ${units[unit][0]}`;\n      case 0:\n        return isDay ? \"today\" : `this ${units[unit][0]}`;\n      default: // fall through\n    }\n  }\n\n  const isInPast = Object.is(count, -0) || count < 0,\n    fmtValue = Math.abs(count),\n    singular = fmtValue === 1,\n    lilUnits = units[unit],\n    fmtUnit = narrow\n      ? singular\n        ? lilUnits[1]\n        : lilUnits[2] || lilUnits[1]\n      : singular\n      ? units[unit][0]\n      : unit;\n  return isInPast ? `${fmtValue} ${fmtUnit} ago` : `in ${fmtValue} ${fmtUnit}`;\n}\n\nexport function formatString(knownFormat) {\n  // these all have the offsets removed because we don't have access to them\n  // without all the intl stuff this is backfilling\n  const filtered = pick(knownFormat, [\n      \"weekday\",\n      \"era\",\n      \"year\",\n      \"month\",\n      \"day\",\n      \"hour\",\n      \"minute\",\n      \"second\",\n      \"timeZoneName\",\n      \"hourCycle\",\n    ]),\n    key = stringify(filtered),\n    dateTimeHuge = \"EEEE, LLLL d, yyyy, h:mm a\";\n  switch (key) {\n    case stringify(Formats.DATE_SHORT):\n      return \"M/d/yyyy\";\n    case stringify(Formats.DATE_MED):\n      return \"LLL d, yyyy\";\n    case stringify(Formats.DATE_MED_WITH_WEEKDAY):\n      return \"EEE, LLL d, yyyy\";\n    case stringify(Formats.DATE_FULL):\n      return \"LLLL d, yyyy\";\n    case stringify(Formats.DATE_HUGE):\n      return \"EEEE, LLLL d, yyyy\";\n    case stringify(Formats.TIME_SIMPLE):\n      return \"h:mm a\";\n    case stringify(Formats.TIME_WITH_SECONDS):\n      return \"h:mm:ss a\";\n    case stringify(Formats.TIME_WITH_SHORT_OFFSET):\n      return \"h:mm a\";\n    case stringify(Formats.TIME_WITH_LONG_OFFSET):\n      return \"h:mm a\";\n    case stringify(Formats.TIME_24_SIMPLE):\n      return \"HH:mm\";\n    case stringify(Formats.TIME_24_WITH_SECONDS):\n      return \"HH:mm:ss\";\n    case stringify(Formats.TIME_24_WITH_SHORT_OFFSET):\n      return \"HH:mm\";\n    case stringify(Formats.TIME_24_WITH_LONG_OFFSET):\n      return \"HH:mm\";\n    case stringify(Formats.DATETIME_SHORT):\n      return \"M/d/yyyy, h:mm a\";\n    case stringify(Formats.DATETIME_MED):\n      return \"LLL d, yyyy, h:mm a\";\n    case stringify(Formats.DATETIME_FULL):\n      return \"LLLL d, yyyy, h:mm a\";\n    case stringify(Formats.DATETIME_HUGE):\n      return dateTimeHuge;\n    case stringify(Formats.DATETIME_SHORT_WITH_SECONDS):\n      return \"M/d/yyyy, h:mm:ss a\";\n    case stringify(Formats.DATETIME_MED_WITH_SECONDS):\n      return \"LLL d, yyyy, h:mm:ss a\";\n    case stringify(Formats.DATETIME_MED_WITH_WEEKDAY):\n      return \"EEE, d LLL yyyy, h:mm a\";\n    case stringify(Formats.DATETIME_FULL_WITH_SECONDS):\n      return \"LLLL d, yyyy, h:mm:ss a\";\n    case stringify(Formats.DATETIME_HUGE_WITH_SECONDS):\n      return \"EEEE, LLLL d, yyyy, h:mm:ss a\";\n    default:\n      return dateTimeHuge;\n  }\n}\n", "import * as English from \"./english.js\";\nimport * as Formats from \"./formats.js\";\nimport { padStart } from \"./util.js\";\n\nfunction stringifyTokens(splits, tokenToString) {\n  let s = \"\";\n  for (const token of splits) {\n    if (token.literal) {\n      s += token.val;\n    } else {\n      s += tokenToString(token.val);\n    }\n  }\n  return s;\n}\n\nconst macroTokenToFormatOpts = {\n  D: Formats.DATE_SHORT,\n  DD: Formats.DATE_MED,\n  DDD: Formats.DATE_FULL,\n  DDDD: Formats.DATE_HUGE,\n  t: Formats.TIME_SIMPLE,\n  tt: Formats.TIME_WITH_SECONDS,\n  ttt: Formats.TIME_WITH_SHORT_OFFSET,\n  tttt: Formats.TIME_WITH_LONG_OFFSET,\n  T: Formats.TIME_24_SIMPLE,\n  TT: Formats.TIME_24_WITH_SECONDS,\n  TTT: Formats.TIME_24_WITH_SHORT_OFFSET,\n  TTTT: Formats.TIME_24_WITH_LONG_OFFSET,\n  f: Formats.DATETIME_SHORT,\n  ff: Formats.DATETIME_MED,\n  fff: Formats.DATETIME_FULL,\n  ffff: Formats.DATETIME_HUGE,\n  F: Formats.DATETIME_SHORT_WITH_SECONDS,\n  FF: Formats.DATETIME_MED_WITH_SECONDS,\n  FFF: Formats.DATETIME_FULL_WITH_SECONDS,\n  FFFF: Formats.DATETIME_HUGE_WITH_SECONDS,\n};\n\n/**\n * @private\n */\n\nexport default class Formatter {\n  static create(locale, opts = {}) {\n    return new Formatter(locale, opts);\n  }\n\n  static parseFormat(fmt) {\n    // white-space is always considered a literal in user-provided formats\n    // the \" \" token has a special meaning (see unitForToken)\n\n    let current = null,\n      currentFull = \"\",\n      bracketed = false;\n    const splits = [];\n    for (let i = 0; i < fmt.length; i++) {\n      const c = fmt.charAt(i);\n      if (c === \"'\") {\n        if (currentFull.length > 0) {\n          splits.push({ literal: bracketed || /^\\s+$/.test(currentFull), val: currentFull });\n        }\n        current = null;\n        currentFull = \"\";\n        bracketed = !bracketed;\n      } else if (bracketed) {\n        currentFull += c;\n      } else if (c === current) {\n        currentFull += c;\n      } else {\n        if (currentFull.length > 0) {\n          splits.push({ literal: /^\\s+$/.test(currentFull), val: currentFull });\n        }\n        currentFull = c;\n        current = c;\n      }\n    }\n\n    if (currentFull.length > 0) {\n      splits.push({ literal: bracketed || /^\\s+$/.test(currentFull), val: currentFull });\n    }\n\n    return splits;\n  }\n\n  static macroTokenToFormatOpts(token) {\n    return macroTokenToFormatOpts[token];\n  }\n\n  constructor(locale, formatOpts) {\n    this.opts = formatOpts;\n    this.loc = locale;\n    this.systemLoc = null;\n  }\n\n  formatWithSystemDefault(dt, opts) {\n    if (this.systemLoc === null) {\n      this.systemLoc = this.loc.redefaultToSystem();\n    }\n    const df = this.systemLoc.dtFormatter(dt, { ...this.opts, ...opts });\n    return df.format();\n  }\n\n  dtFormatter(dt, opts = {}) {\n    return this.loc.dtFormatter(dt, { ...this.opts, ...opts });\n  }\n\n  formatDateTime(dt, opts) {\n    return this.dtFormatter(dt, opts).format();\n  }\n\n  formatDateTimeParts(dt, opts) {\n    return this.dtFormatter(dt, opts).formatToParts();\n  }\n\n  formatInterval(interval, opts) {\n    const df = this.dtFormatter(interval.start, opts);\n    return df.dtf.formatRange(interval.start.toJSDate(), interval.end.toJSDate());\n  }\n\n  resolvedOptions(dt, opts) {\n    return this.dtFormatter(dt, opts).resolvedOptions();\n  }\n\n  num(n, p = 0) {\n    // we get some perf out of doing this here, annoyingly\n    if (this.opts.forceSimple) {\n      return padStart(n, p);\n    }\n\n    const opts = { ...this.opts };\n\n    if (p > 0) {\n      opts.padTo = p;\n    }\n\n    return this.loc.numberFormatter(opts).format(n);\n  }\n\n  formatDateTimeFromString(dt, fmt) {\n    const knownEnglish = this.loc.listingMode() === \"en\",\n      useDateTimeFormatter = this.loc.outputCalendar && this.loc.outputCalendar !== \"gregory\",\n      string = (opts, extract) => this.loc.extract(dt, opts, extract),\n      formatOffset = (opts) => {\n        if (dt.isOffsetFixed && dt.offset === 0 && opts.allowZ) {\n          return \"Z\";\n        }\n\n        return dt.isValid ? dt.zone.formatOffset(dt.ts, opts.format) : \"\";\n      },\n      meridiem = () =>\n        knownEnglish\n          ? English.meridiemForDateTime(dt)\n          : string({ hour: \"numeric\", hourCycle: \"h12\" }, \"dayperiod\"),\n      month = (length, standalone) =>\n        knownEnglish\n          ? English.monthForDateTime(dt, length)\n          : string(standalone ? { month: length } : { month: length, day: \"numeric\" }, \"month\"),\n      weekday = (length, standalone) =>\n        knownEnglish\n          ? English.weekdayForDateTime(dt, length)\n          : string(\n              standalone ? { weekday: length } : { weekday: length, month: \"long\", day: \"numeric\" },\n              \"weekday\"\n            ),\n      maybeMacro = (token) => {\n        const formatOpts = Formatter.macroTokenToFormatOpts(token);\n        if (formatOpts) {\n          return this.formatWithSystemDefault(dt, formatOpts);\n        } else {\n          return token;\n        }\n      },\n      era = (length) =>\n        knownEnglish ? English.eraForDateTime(dt, length) : string({ era: length }, \"era\"),\n      tokenToString = (token) => {\n        // Where possible: https://cldr.unicode.org/translation/date-time/date-time-symbols\n        switch (token) {\n          // ms\n          case \"S\":\n            return this.num(dt.millisecond);\n          case \"u\":\n          // falls through\n          case \"SSS\":\n            return this.num(dt.millisecond, 3);\n          // seconds\n          case \"s\":\n            return this.num(dt.second);\n          case \"ss\":\n            return this.num(dt.second, 2);\n          // fractional seconds\n          case \"uu\":\n            return this.num(Math.floor(dt.millisecond / 10), 2);\n          case \"uuu\":\n            return this.num(Math.floor(dt.millisecond / 100));\n          // minutes\n          case \"m\":\n            return this.num(dt.minute);\n          case \"mm\":\n            return this.num(dt.minute, 2);\n          // hours\n          case \"h\":\n            return this.num(dt.hour % 12 === 0 ? 12 : dt.hour % 12);\n          case \"hh\":\n            return this.num(dt.hour % 12 === 0 ? 12 : dt.hour % 12, 2);\n          case \"H\":\n            return this.num(dt.hour);\n          case \"HH\":\n            return this.num(dt.hour, 2);\n          // offset\n          case \"Z\":\n            // like +6\n            return formatOffset({ format: \"narrow\", allowZ: this.opts.allowZ });\n          case \"ZZ\":\n            // like +06:00\n            return formatOffset({ format: \"short\", allowZ: this.opts.allowZ });\n          case \"ZZZ\":\n            // like +0600\n            return formatOffset({ format: \"techie\", allowZ: this.opts.allowZ });\n          case \"ZZZZ\":\n            // like EST\n            return dt.zone.offsetName(dt.ts, { format: \"short\", locale: this.loc.locale });\n          case \"ZZZZZ\":\n            // like Eastern Standard Time\n            return dt.zone.offsetName(dt.ts, { format: \"long\", locale: this.loc.locale });\n          // zone\n          case \"z\":\n            // like America/New_York\n            return dt.zoneName;\n          // meridiems\n          case \"a\":\n            return meridiem();\n          // dates\n          case \"d\":\n            return useDateTimeFormatter ? string({ day: \"numeric\" }, \"day\") : this.num(dt.day);\n          case \"dd\":\n            return useDateTimeFormatter ? string({ day: \"2-digit\" }, \"day\") : this.num(dt.day, 2);\n          // weekdays - standalone\n          case \"c\":\n            // like 1\n            return this.num(dt.weekday);\n          case \"ccc\":\n            // like 'Tues'\n            return weekday(\"short\", true);\n          case \"cccc\":\n            // like 'Tuesday'\n            return weekday(\"long\", true);\n          case \"ccccc\":\n            // like 'T'\n            return weekday(\"narrow\", true);\n          // weekdays - format\n          case \"E\":\n            // like 1\n            return this.num(dt.weekday);\n          case \"EEE\":\n            // like 'Tues'\n            return weekday(\"short\", false);\n          case \"EEEE\":\n            // like 'Tuesday'\n            return weekday(\"long\", false);\n          case \"EEEEE\":\n            // like 'T'\n            return weekday(\"narrow\", false);\n          // months - standalone\n          case \"L\":\n            // like 1\n            return useDateTimeFormatter\n              ? string({ month: \"numeric\", day: \"numeric\" }, \"month\")\n              : this.num(dt.month);\n          case \"LL\":\n            // like 01, doesn't seem to work\n            return useDateTimeFormatter\n              ? string({ month: \"2-digit\", day: \"numeric\" }, \"month\")\n              : this.num(dt.month, 2);\n          case \"LLL\":\n            // like Jan\n            return month(\"short\", true);\n          case \"LLLL\":\n            // like January\n            return month(\"long\", true);\n          case \"LLLLL\":\n            // like J\n            return month(\"narrow\", true);\n          // months - format\n          case \"M\":\n            // like 1\n            return useDateTimeFormatter\n              ? string({ month: \"numeric\" }, \"month\")\n              : this.num(dt.month);\n          case \"MM\":\n            // like 01\n            return useDateTimeFormatter\n              ? string({ month: \"2-digit\" }, \"month\")\n              : this.num(dt.month, 2);\n          case \"MMM\":\n            // like Jan\n            return month(\"short\", false);\n          case \"MMMM\":\n            // like January\n            return month(\"long\", false);\n          case \"MMMMM\":\n            // like J\n            return month(\"narrow\", false);\n          // years\n          case \"y\":\n            // like 2014\n            return useDateTimeFormatter ? string({ year: \"numeric\" }, \"year\") : this.num(dt.year);\n          case \"yy\":\n            // like 14\n            return useDateTimeFormatter\n              ? string({ year: \"2-digit\" }, \"year\")\n              : this.num(dt.year.toString().slice(-2), 2);\n          case \"yyyy\":\n            // like 0012\n            return useDateTimeFormatter\n              ? string({ year: \"numeric\" }, \"year\")\n              : this.num(dt.year, 4);\n          case \"yyyyyy\":\n            // like 000012\n            return useDateTimeFormatter\n              ? string({ year: \"numeric\" }, \"year\")\n              : this.num(dt.year, 6);\n          // eras\n          case \"G\":\n            // like AD\n            return era(\"short\");\n          case \"GG\":\n            // like Anno Domini\n            return era(\"long\");\n          case \"GGGGG\":\n            return era(\"narrow\");\n          case \"kk\":\n            return this.num(dt.weekYear.toString().slice(-2), 2);\n          case \"kkkk\":\n            return this.num(dt.weekYear, 4);\n          case \"W\":\n            return this.num(dt.weekNumber);\n          case \"WW\":\n            return this.num(dt.weekNumber, 2);\n          case \"n\":\n            return this.num(dt.localWeekNumber);\n          case \"nn\":\n            return this.num(dt.localWeekNumber, 2);\n          case \"ii\":\n            return this.num(dt.localWeekYear.toString().slice(-2), 2);\n          case \"iiii\":\n            return this.num(dt.localWeekYear, 4);\n          case \"o\":\n            return this.num(dt.ordinal);\n          case \"ooo\":\n            return this.num(dt.ordinal, 3);\n          case \"q\":\n            // like 1\n            return this.num(dt.quarter);\n          case \"qq\":\n            // like 01\n            return this.num(dt.quarter, 2);\n          case \"X\":\n            return this.num(Math.floor(dt.ts / 1000));\n          case \"x\":\n            return this.num(dt.ts);\n          default:\n            return maybeMacro(token);\n        }\n      };\n\n    return stringifyTokens(Formatter.parseFormat(fmt), tokenToString);\n  }\n\n  formatDurationFromString(dur, fmt) {\n    const tokenToField = (token) => {\n        switch (token[0]) {\n          case \"S\":\n            return \"millisecond\";\n          case \"s\":\n            return \"second\";\n          case \"m\":\n            return \"minute\";\n          case \"h\":\n            return \"hour\";\n          case \"d\":\n            return \"day\";\n          case \"w\":\n            return \"week\";\n          case \"M\":\n            return \"month\";\n          case \"y\":\n            return \"year\";\n          default:\n            return null;\n        }\n      },\n      tokenToString = (lildur) => (token) => {\n        const mapped = tokenToField(token);\n        if (mapped) {\n          return this.num(lildur.get(mapped), token.length);\n        } else {\n          return token;\n        }\n      },\n      tokens = Formatter.parseFormat(fmt),\n      realTokens = tokens.reduce(\n        (found, { literal, val }) => (literal ? found : found.concat(val)),\n        []\n      ),\n      collapsed = dur.shiftTo(...realTokens.map(tokenToField).filter((t) => t));\n    return stringifyTokens(tokens, tokenToString(collapsed));\n  }\n}\n", "import {\n  untruncateYear,\n  signedOffset,\n  parseInteger,\n  parseMillis,\n  isUndefined,\n  parseFloating,\n} from \"./util.js\";\nimport * as English from \"./english.js\";\nimport FixedOffsetZone from \"../zones/fixedOffsetZone.js\";\nimport IANAZone from \"../zones/IANAZone.js\";\n\n/*\n * This file handles parsing for well-specified formats. Here's how it works:\n * Two things go into parsing: a regex to match with and an extractor to take apart the groups in the match.\n * An extractor is just a function that takes a regex match array and returns a { year: ..., month: ... } object\n * parse() does the work of executing the regex and applying the extractor. It takes multiple regex/extractor pairs to try in sequence.\n * Extractors can take a \"cursor\" representing the offset in the match to look at. This makes it easy to combine extractors.\n * combineExtractors() does the work of combining them, keeping track of the cursor through multiple extractions.\n * Some extractions are super dumb and simpleParse and fromStrings help DRY them.\n */\n\nconst ianaRegex = /[A-Za-z_+-]{1,256}(?::?\\/[A-Za-z0-9_+-]{1,256}(?:\\/[A-Za-z0-9_+-]{1,256})?)?/;\n\nfunction combineRegexes(...regexes) {\n  const full = regexes.reduce((f, r) => f + r.source, \"\");\n  return RegExp(`^${full}$`);\n}\n\nfunction combineExtractors(...extractors) {\n  return (m) =>\n    extractors\n      .reduce(\n        ([mergedVals, mergedZone, cursor], ex) => {\n          const [val, zone, next] = ex(m, cursor);\n          return [{ ...mergedVals, ...val }, zone || mergedZone, next];\n        },\n        [{}, null, 1]\n      )\n      .slice(0, 2);\n}\n\nfunction parse(s, ...patterns) {\n  if (s == null) {\n    return [null, null];\n  }\n\n  for (const [regex, extractor] of patterns) {\n    const m = regex.exec(s);\n    if (m) {\n      return extractor(m);\n    }\n  }\n  return [null, null];\n}\n\nfunction simpleParse(...keys) {\n  return (match, cursor) => {\n    const ret = {};\n    let i;\n\n    for (i = 0; i < keys.length; i++) {\n      ret[keys[i]] = parseInteger(match[cursor + i]);\n    }\n    return [ret, null, cursor + i];\n  };\n}\n\n// ISO and SQL parsing\nconst offsetRegex = /(?:(Z)|([+-]\\d\\d)(?::?(\\d\\d))?)/;\nconst isoExtendedZone = `(?:${offsetRegex.source}?(?:\\\\[(${ianaRegex.source})\\\\])?)?`;\nconst isoTimeBaseRegex = /(\\d\\d)(?::?(\\d\\d)(?::?(\\d\\d)(?:[.,](\\d{1,30}))?)?)?/;\nconst isoTimeRegex = RegExp(`${isoTimeBaseRegex.source}${isoExtendedZone}`);\nconst isoTimeExtensionRegex = RegExp(`(?:T${isoTimeRegex.source})?`);\nconst isoYmdRegex = /([+-]\\d{6}|\\d{4})(?:-?(\\d\\d)(?:-?(\\d\\d))?)?/;\nconst isoWeekRegex = /(\\d{4})-?W(\\d\\d)(?:-?(\\d))?/;\nconst isoOrdinalRegex = /(\\d{4})-?(\\d{3})/;\nconst extractISOWeekData = simpleParse(\"weekYear\", \"weekNumber\", \"weekDay\");\nconst extractISOOrdinalData = simpleParse(\"year\", \"ordinal\");\nconst sqlYmdRegex = /(\\d{4})-(\\d\\d)-(\\d\\d)/; // dumbed-down version of the ISO one\nconst sqlTimeRegex = RegExp(\n  `${isoTimeBaseRegex.source} ?(?:${offsetRegex.source}|(${ianaRegex.source}))?`\n);\nconst sqlTimeExtensionRegex = RegExp(`(?: ${sqlTimeRegex.source})?`);\n\nfunction int(match, pos, fallback) {\n  const m = match[pos];\n  return isUndefined(m) ? fallback : parseInteger(m);\n}\n\nfunction extractISOYmd(match, cursor) {\n  const item = {\n    year: int(match, cursor),\n    month: int(match, cursor + 1, 1),\n    day: int(match, cursor + 2, 1),\n  };\n\n  return [item, null, cursor + 3];\n}\n\nfunction extractISOTime(match, cursor) {\n  const item = {\n    hours: int(match, cursor, 0),\n    minutes: int(match, cursor + 1, 0),\n    seconds: int(match, cursor + 2, 0),\n    milliseconds: parseMillis(match[cursor + 3]),\n  };\n\n  return [item, null, cursor + 4];\n}\n\nfunction extractISOOffset(match, cursor) {\n  const local = !match[cursor] && !match[cursor + 1],\n    fullOffset = signedOffset(match[cursor + 1], match[cursor + 2]),\n    zone = local ? null : FixedOffsetZone.instance(fullOffset);\n  return [{}, zone, cursor + 3];\n}\n\nfunction extractIANAZone(match, cursor) {\n  const zone = match[cursor] ? IANAZone.create(match[cursor]) : null;\n  return [{}, zone, cursor + 1];\n}\n\n// ISO time parsing\n\nconst isoTimeOnly = RegExp(`^T?${isoTimeBaseRegex.source}$`);\n\n// ISO duration parsing\n\nconst isoDuration =\n  /^-?P(?:(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)Y)?(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)M)?(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)W)?(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)D)?(?:T(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)H)?(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)M)?(?:(-?\\d{1,20})(?:[.,](-?\\d{1,20}))?S)?)?)$/;\n\nfunction extractISODuration(match) {\n  const [s, yearStr, monthStr, weekStr, dayStr, hourStr, minuteStr, secondStr, millisecondsStr] =\n    match;\n\n  const hasNegativePrefix = s[0] === \"-\";\n  const negativeSeconds = secondStr && secondStr[0] === \"-\";\n\n  const maybeNegate = (num, force = false) =>\n    num !== undefined && (force || (num && hasNegativePrefix)) ? -num : num;\n\n  return [\n    {\n      years: maybeNegate(parseFloating(yearStr)),\n      months: maybeNegate(parseFloating(monthStr)),\n      weeks: maybeNegate(parseFloating(weekStr)),\n      days: maybeNegate(parseFloating(dayStr)),\n      hours: maybeNegate(parseFloating(hourStr)),\n      minutes: maybeNegate(parseFloating(minuteStr)),\n      seconds: maybeNegate(parseFloating(secondStr), secondStr === \"-0\"),\n      milliseconds: maybeNegate(parseMillis(millisecondsStr), negativeSeconds),\n    },\n  ];\n}\n\n// These are a little braindead. EDT *should* tell us that we're in, say, America/New_York\n// and not just that we're in -240 *right now*. But since I don't think these are used that often\n// I'm just going to ignore that\nconst obsOffsets = {\n  GMT: 0,\n  EDT: -4 * 60,\n  EST: -5 * 60,\n  CDT: -5 * 60,\n  CST: -6 * 60,\n  MDT: -6 * 60,\n  MST: -7 * 60,\n  PDT: -7 * 60,\n  PST: -8 * 60,\n};\n\nfunction fromStrings(weekdayStr, yearStr, monthStr, dayStr, hourStr, minuteStr, secondStr) {\n  const result = {\n    year: yearStr.length === 2 ? untruncateYear(parseInteger(yearStr)) : parseInteger(yearStr),\n    month: English.monthsShort.indexOf(monthStr) + 1,\n    day: parseInteger(dayStr),\n    hour: parseInteger(hourStr),\n    minute: parseInteger(minuteStr),\n  };\n\n  if (secondStr) result.second = parseInteger(secondStr);\n  if (weekdayStr) {\n    result.weekday =\n      weekdayStr.length > 3\n        ? English.weekdaysLong.indexOf(weekdayStr) + 1\n        : English.weekdaysShort.indexOf(weekdayStr) + 1;\n  }\n\n  return result;\n}\n\n// RFC 2822/5322\nconst rfc2822 =\n  /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\\s)?(\\d{1,2})\\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\s(\\d{2,4})\\s(\\d\\d):(\\d\\d)(?::(\\d\\d))?\\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\\d\\d)(\\d\\d)))$/;\n\nfunction extractRFC2822(match) {\n  const [\n      ,\n      weekdayStr,\n      dayStr,\n      monthStr,\n      yearStr,\n      hourStr,\n      minuteStr,\n      secondStr,\n      obsOffset,\n      milOffset,\n      offHourStr,\n      offMinuteStr,\n    ] = match,\n    result = fromStrings(weekdayStr, yearStr, monthStr, dayStr, hourStr, minuteStr, secondStr);\n\n  let offset;\n  if (obsOffset) {\n    offset = obsOffsets[obsOffset];\n  } else if (milOffset) {\n    offset = 0;\n  } else {\n    offset = signedOffset(offHourStr, offMinuteStr);\n  }\n\n  return [result, new FixedOffsetZone(offset)];\n}\n\nfunction preprocessRFC2822(s) {\n  // Remove comments and folding whitespace and replace multiple-spaces with a single space\n  return s\n    .replace(/\\([^()]*\\)|[\\n\\t]/g, \" \")\n    .replace(/(\\s\\s+)/g, \" \")\n    .trim();\n}\n\n// http date\n\nconst rfc1123 =\n    /^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\\d\\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\\d{4}) (\\d\\d):(\\d\\d):(\\d\\d) GMT$/,\n  rfc850 =\n    /^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\\d\\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\\d\\d) (\\d\\d):(\\d\\d):(\\d\\d) GMT$/,\n  ascii =\n    /^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \\d|\\d\\d) (\\d\\d):(\\d\\d):(\\d\\d) (\\d{4})$/;\n\nfunction extractRFC1123Or850(match) {\n  const [, weekdayStr, dayStr, monthStr, yearStr, hourStr, minuteStr, secondStr] = match,\n    result = fromStrings(weekdayStr, yearStr, monthStr, dayStr, hourStr, minuteStr, secondStr);\n  return [result, FixedOffsetZone.utcInstance];\n}\n\nfunction extractASCII(match) {\n  const [, weekdayStr, monthStr, dayStr, hourStr, minuteStr, secondStr, yearStr] = match,\n    result = fromStrings(weekdayStr, yearStr, monthStr, dayStr, hourStr, minuteStr, secondStr);\n  return [result, FixedOffsetZone.utcInstance];\n}\n\nconst isoYmdWithTimeExtensionRegex = combineRegexes(isoYmdRegex, isoTimeExtensionRegex);\nconst isoWeekWithTimeExtensionRegex = combineRegexes(isoWeekRegex, isoTimeExtensionRegex);\nconst isoOrdinalWithTimeExtensionRegex = combineRegexes(isoOrdinalRegex, isoTimeExtensionRegex);\nconst isoTimeCombinedRegex = combineRegexes(isoTimeRegex);\n\nconst extractISOYmdTimeAndOffset = combineExtractors(\n  extractISOYmd,\n  extractISOTime,\n  extractISOOffset,\n  extractIANAZone\n);\nconst extractISOWeekTimeAndOffset = combineExtractors(\n  extractISOWeekData,\n  extractISOTime,\n  extractISOOffset,\n  extractIANAZone\n);\nconst extractISOOrdinalDateAndTime = combineExtractors(\n  extractISOOrdinalData,\n  extractISOTime,\n  extractISOOffset,\n  extractIANAZone\n);\nconst extractISOTimeAndOffset = combineExtractors(\n  extractISOTime,\n  extractISOOffset,\n  extractIANAZone\n);\n\n/*\n * @private\n */\n\nexport function parseISODate(s) {\n  return parse(\n    s,\n    [isoYmdWithTimeExtensionRegex, extractISOYmdTimeAndOffset],\n    [isoWeekWithTimeExtensionRegex, extractISOWeekTimeAndOffset],\n    [isoOrdinalWithTimeExtensionRegex, extractISOOrdinalDateAndTime],\n    [isoTimeCombinedRegex, extractISOTimeAndOffset]\n  );\n}\n\nexport function parseRFC2822Date(s) {\n  return parse(preprocessRFC2822(s), [rfc2822, extractRFC2822]);\n}\n\nexport function parseHTTPDate(s) {\n  return parse(\n    s,\n    [rfc1123, extractRFC1123Or850],\n    [rfc850, extractRFC1123Or850],\n    [ascii, extractASCII]\n  );\n}\n\nexport function parseISODuration(s) {\n  return parse(s, [isoDuration, extractISODuration]);\n}\n\nconst extractISOTimeOnly = combineExtractors(extractISOTime);\n\nexport function parseISOTimeOnly(s) {\n  return parse(s, [isoTimeOnly, extractISOTimeOnly]);\n}\n\nconst sqlYmdWithTimeExtensionRegex = combineRegexes(sqlYmdRegex, sqlTimeExtensionRegex);\nconst sqlTimeCombinedRegex = combineRegexes(sqlTimeRegex);\n\nconst extractISOTimeOffsetAndIANAZone = combineExtractors(\n  extractISOTime,\n  extractISOOffset,\n  extractIANAZone\n);\n\nexport function parseSQL(s) {\n  return parse(\n    s,\n    [sqlYmdWithTimeExtensionRegex, extractISOYmdTimeAndOffset],\n    [sqlTimeCombinedRegex, extractISOTimeOffsetAndIANAZone]\n  );\n}\n", "import { InvalidArgumentError, InvalidDurationError, InvalidUnitError } from \"./errors.js\";\nimport Formatter from \"./impl/formatter.js\";\nimport Invalid from \"./impl/invalid.js\";\nimport Locale from \"./impl/locale.js\";\nimport { parseISODuration, parseISOTimeOnly } from \"./impl/regexParser.js\";\nimport {\n  asNumber,\n  hasOwnProperty,\n  isNumber,\n  isUndefined,\n  normalizeObject,\n  roundTo,\n} from \"./impl/util.js\";\nimport Settings from \"./settings.js\";\nimport DateTime from \"./datetime.js\";\n\nconst INVALID = \"Invalid Duration\";\n\n// unit conversion constants\nexport const lowOrderMatrix = {\n    weeks: {\n      days: 7,\n      hours: 7 * 24,\n      minutes: 7 * 24 * 60,\n      seconds: 7 * 24 * 60 * 60,\n      milliseconds: 7 * 24 * 60 * 60 * 1000,\n    },\n    days: {\n      hours: 24,\n      minutes: 24 * 60,\n      seconds: 24 * 60 * 60,\n      milliseconds: 24 * 60 * 60 * 1000,\n    },\n    hours: { minutes: 60, seconds: 60 * 60, milliseconds: 60 * 60 * 1000 },\n    minutes: { seconds: 60, milliseconds: 60 * 1000 },\n    seconds: { milliseconds: 1000 },\n  },\n  casualMatrix = {\n    years: {\n      quarters: 4,\n      months: 12,\n      weeks: 52,\n      days: 365,\n      hours: 365 * 24,\n      minutes: 365 * 24 * 60,\n      seconds: 365 * 24 * 60 * 60,\n      milliseconds: 365 * 24 * 60 * 60 * 1000,\n    },\n    quarters: {\n      months: 3,\n      weeks: 13,\n      days: 91,\n      hours: 91 * 24,\n      minutes: 91 * 24 * 60,\n      seconds: 91 * 24 * 60 * 60,\n      milliseconds: 91 * 24 * 60 * 60 * 1000,\n    },\n    months: {\n      weeks: 4,\n      days: 30,\n      hours: 30 * 24,\n      minutes: 30 * 24 * 60,\n      seconds: 30 * 24 * 60 * 60,\n      milliseconds: 30 * 24 * 60 * 60 * 1000,\n    },\n\n    ...lowOrderMatrix,\n  },\n  daysInYearAccurate = 146097.0 / 400,\n  daysInMonthAccurate = 146097.0 / 4800,\n  accurateMatrix = {\n    years: {\n      quarters: 4,\n      months: 12,\n      weeks: daysInYearAccurate / 7,\n      days: daysInYearAccurate,\n      hours: daysInYearAccurate * 24,\n      minutes: daysInYearAccurate * 24 * 60,\n      seconds: daysInYearAccurate * 24 * 60 * 60,\n      milliseconds: daysInYearAccurate * 24 * 60 * 60 * 1000,\n    },\n    quarters: {\n      months: 3,\n      weeks: daysInYearAccurate / 28,\n      days: daysInYearAccurate / 4,\n      hours: (daysInYearAccurate * 24) / 4,\n      minutes: (daysInYearAccurate * 24 * 60) / 4,\n      seconds: (daysInYearAccurate * 24 * 60 * 60) / 4,\n      milliseconds: (daysInYearAccurate * 24 * 60 * 60 * 1000) / 4,\n    },\n    months: {\n      weeks: daysInMonthAccurate / 7,\n      days: daysInMonthAccurate,\n      hours: daysInMonthAccurate * 24,\n      minutes: daysInMonthAccurate * 24 * 60,\n      seconds: daysInMonthAccurate * 24 * 60 * 60,\n      milliseconds: daysInMonthAccurate * 24 * 60 * 60 * 1000,\n    },\n    ...lowOrderMatrix,\n  };\n\n// units ordered by size\nconst orderedUnits = [\n  \"years\",\n  \"quarters\",\n  \"months\",\n  \"weeks\",\n  \"days\",\n  \"hours\",\n  \"minutes\",\n  \"seconds\",\n  \"milliseconds\",\n];\n\nconst reverseUnits = orderedUnits.slice(0).reverse();\n\n// clone really means \"create another instance just like this one, but with these changes\"\nfunction clone(dur, alts, clear = false) {\n  // deep merge for vals\n  const conf = {\n    values: clear ? alts.values : { ...dur.values, ...(alts.values || {}) },\n    loc: dur.loc.clone(alts.loc),\n    conversionAccuracy: alts.conversionAccuracy || dur.conversionAccuracy,\n    matrix: alts.matrix || dur.matrix,\n  };\n  return new Duration(conf);\n}\n\nfunction durationToMillis(matrix, vals) {\n  let sum = vals.milliseconds ?? 0;\n  for (const unit of reverseUnits.slice(1)) {\n    if (vals[unit]) {\n      sum += vals[unit] * matrix[unit][\"milliseconds\"];\n    }\n  }\n  return sum;\n}\n\n// NB: mutates parameters\nfunction normalizeValues(matrix, vals) {\n  // the logic below assumes the overall value of the duration is positive\n  // if this is not the case, factor is used to make it so\n  const factor = durationToMillis(matrix, vals) < 0 ? -1 : 1;\n\n  orderedUnits.reduceRight((previous, current) => {\n    if (!isUndefined(vals[current])) {\n      if (previous) {\n        const previousVal = vals[previous] * factor;\n        const conv = matrix[current][previous];\n\n        // if (previousVal < 0):\n        // lower order unit is negative (e.g. { years: 2, days: -2 })\n        // normalize this by reducing the higher order unit by the appropriate amount\n        // and increasing the lower order unit\n        // this can never make the higher order unit negative, because this function only operates\n        // on positive durations, so the amount of time represented by the lower order unit cannot\n        // be larger than the higher order unit\n        // else:\n        // lower order unit is positive (e.g. { years: 2, days: 450 } or { years: -2, days: 450 })\n        // in this case we attempt to convert as much as possible from the lower order unit into\n        // the higher order one\n        //\n        // Math.floor takes care of both of these cases, rounding away from 0\n        // if previousVal < 0 it makes the absolute value larger\n        // if previousVal >= it makes the absolute value smaller\n        const rollUp = Math.floor(previousVal / conv);\n        vals[current] += rollUp * factor;\n        vals[previous] -= rollUp * conv * factor;\n      }\n      return current;\n    } else {\n      return previous;\n    }\n  }, null);\n\n  // try to convert any decimals into smaller units if possible\n  // for example for { years: 2.5, days: 0, seconds: 0 } we want to get { years: 2, days: 182, hours: 12 }\n  orderedUnits.reduce((previous, current) => {\n    if (!isUndefined(vals[current])) {\n      if (previous) {\n        const fraction = vals[previous] % 1;\n        vals[previous] -= fraction;\n        vals[current] += fraction * matrix[previous][current];\n      }\n      return current;\n    } else {\n      return previous;\n    }\n  }, null);\n}\n\n// Remove all properties with a value of 0 from an object\nfunction removeZeroes(vals) {\n  const newVals = {};\n  for (const [key, value] of Object.entries(vals)) {\n    if (value !== 0) {\n      newVals[key] = value;\n    }\n  }\n  return newVals;\n}\n\n/**\n * A Duration object represents a period of time, like \"2 months\" or \"1 day, 1 hour\". Conceptually, it's just a map of units to their quantities, accompanied by some additional configuration and methods for creating, parsing, interrogating, transforming, and formatting them. They can be used on their own or in conjunction with other Luxon types; for example, you can use {@link DateTime#plus} to add a Duration object to a DateTime, producing another DateTime.\n *\n * Here is a brief overview of commonly used methods and getters in Duration:\n *\n * * **Creation** To create a Duration, use {@link Duration.fromMillis}, {@link Duration.fromObject}, or {@link Duration.fromISO}.\n * * **Unit values** See the {@link Duration#years}, {@link Duration#months}, {@link Duration#weeks}, {@link Duration#days}, {@link Duration#hours}, {@link Duration#minutes}, {@link Duration#seconds}, {@link Duration#milliseconds} accessors.\n * * **Configuration** See  {@link Duration#locale} and {@link Duration#numberingSystem} accessors.\n * * **Transformation** To create new Durations out of old ones use {@link Duration#plus}, {@link Duration#minus}, {@link Duration#normalize}, {@link Duration#set}, {@link Duration#reconfigure}, {@link Duration#shiftTo}, and {@link Duration#negate}.\n * * **Output** To convert the Duration into other representations, see {@link Duration#as}, {@link Duration#toISO}, {@link Duration#toFormat}, and {@link Duration#toJSON}\n *\n * There's are more methods documented below. In addition, for more information on subtler topics like internationalization and validity, see the external documentation.\n */\nexport default class Duration {\n  /**\n   * @private\n   */\n  constructor(config) {\n    const accurate = config.conversionAccuracy === \"longterm\" || false;\n    let matrix = accurate ? accurateMatrix : casualMatrix;\n\n    if (config.matrix) {\n      matrix = config.matrix;\n    }\n\n    /**\n     * @access private\n     */\n    this.values = config.values;\n    /**\n     * @access private\n     */\n    this.loc = config.loc || Locale.create();\n    /**\n     * @access private\n     */\n    this.conversionAccuracy = accurate ? \"longterm\" : \"casual\";\n    /**\n     * @access private\n     */\n    this.invalid = config.invalid || null;\n    /**\n     * @access private\n     */\n    this.matrix = matrix;\n    /**\n     * @access private\n     */\n    this.isLuxonDuration = true;\n  }\n\n  /**\n   * Create Duration from a number of milliseconds.\n   * @param {number} count of milliseconds\n   * @param {Object} opts - options for parsing\n   * @param {string} [opts.locale='en-US'] - the locale to use\n   * @param {string} opts.numberingSystem - the numbering system to use\n   * @param {string} [opts.conversionAccuracy='casual'] - the conversion system to use\n   * @return {Duration}\n   */\n  static fromMillis(count, opts) {\n    return Duration.fromObject({ milliseconds: count }, opts);\n  }\n\n  /**\n   * Create a Duration from a JavaScript object with keys like 'years' and 'hours'.\n   * If this object is empty then a zero milliseconds duration is returned.\n   * @param {Object} obj - the object to create the DateTime from\n   * @param {number} obj.years\n   * @param {number} obj.quarters\n   * @param {number} obj.months\n   * @param {number} obj.weeks\n   * @param {number} obj.days\n   * @param {number} obj.hours\n   * @param {number} obj.minutes\n   * @param {number} obj.seconds\n   * @param {number} obj.milliseconds\n   * @param {Object} [opts=[]] - options for creating this Duration\n   * @param {string} [opts.locale='en-US'] - the locale to use\n   * @param {string} opts.numberingSystem - the numbering system to use\n   * @param {string} [opts.conversionAccuracy='casual'] - the preset conversion system to use\n   * @param {string} [opts.matrix=Object] - the custom conversion system to use\n   * @return {Duration}\n   */\n  static fromObject(obj, opts = {}) {\n    if (obj == null || typeof obj !== \"object\") {\n      throw new InvalidArgumentError(\n        `Duration.fromObject: argument expected to be an object, got ${\n          obj === null ? \"null\" : typeof obj\n        }`\n      );\n    }\n\n    return new Duration({\n      values: normalizeObject(obj, Duration.normalizeUnit),\n      loc: Locale.fromObject(opts),\n      conversionAccuracy: opts.conversionAccuracy,\n      matrix: opts.matrix,\n    });\n  }\n\n  /**\n   * Create a Duration from DurationLike.\n   *\n   * @param {Object | number | Duration} durationLike\n   * One of:\n   * - object with keys like 'years' and 'hours'.\n   * - number representing milliseconds\n   * - Duration instance\n   * @return {Duration}\n   */\n  static fromDurationLike(durationLike) {\n    if (isNumber(durationLike)) {\n      return Duration.fromMillis(durationLike);\n    } else if (Duration.isDuration(durationLike)) {\n      return durationLike;\n    } else if (typeof durationLike === \"object\") {\n      return Duration.fromObject(durationLike);\n    } else {\n      throw new InvalidArgumentError(\n        `Unknown duration argument ${durationLike} of type ${typeof durationLike}`\n      );\n    }\n  }\n\n  /**\n   * Create a Duration from an ISO 8601 duration string.\n   * @param {string} text - text to parse\n   * @param {Object} opts - options for parsing\n   * @param {string} [opts.locale='en-US'] - the locale to use\n   * @param {string} opts.numberingSystem - the numbering system to use\n   * @param {string} [opts.conversionAccuracy='casual'] - the preset conversion system to use\n   * @param {string} [opts.matrix=Object] - the preset conversion system to use\n   * @see https://en.wikipedia.org/wiki/ISO_8601#Durations\n   * @example Duration.fromISO('P3Y6M1W4DT12H30M5S').toObject() //=> { years: 3, months: 6, weeks: 1, days: 4, hours: 12, minutes: 30, seconds: 5 }\n   * @example Duration.fromISO('PT23H').toObject() //=> { hours: 23 }\n   * @example Duration.fromISO('P5Y3M').toObject() //=> { years: 5, months: 3 }\n   * @return {Duration}\n   */\n  static fromISO(text, opts) {\n    const [parsed] = parseISODuration(text);\n    if (parsed) {\n      return Duration.fromObject(parsed, opts);\n    } else {\n      return Duration.invalid(\"unparsable\", `the input \"${text}\" can't be parsed as ISO 8601`);\n    }\n  }\n\n  /**\n   * Create a Duration from an ISO 8601 time string.\n   * @param {string} text - text to parse\n   * @param {Object} opts - options for parsing\n   * @param {string} [opts.locale='en-US'] - the locale to use\n   * @param {string} opts.numberingSystem - the numbering system to use\n   * @param {string} [opts.conversionAccuracy='casual'] - the preset conversion system to use\n   * @param {string} [opts.matrix=Object] - the conversion system to use\n   * @see https://en.wikipedia.org/wiki/ISO_8601#Times\n   * @example Duration.fromISOTime('11:22:33.444').toObject() //=> { hours: 11, minutes: 22, seconds: 33, milliseconds: 444 }\n   * @example Duration.fromISOTime('11:00').toObject() //=> { hours: 11, minutes: 0, seconds: 0 }\n   * @example Duration.fromISOTime('T11:00').toObject() //=> { hours: 11, minutes: 0, seconds: 0 }\n   * @example Duration.fromISOTime('1100').toObject() //=> { hours: 11, minutes: 0, seconds: 0 }\n   * @example Duration.fromISOTime('T1100').toObject() //=> { hours: 11, minutes: 0, seconds: 0 }\n   * @return {Duration}\n   */\n  static fromISOTime(text, opts) {\n    const [parsed] = parseISOTimeOnly(text);\n    if (parsed) {\n      return Duration.fromObject(parsed, opts);\n    } else {\n      return Duration.invalid(\"unparsable\", `the input \"${text}\" can't be parsed as ISO 8601`);\n    }\n  }\n\n  /**\n   * Create an invalid Duration.\n   * @param {string} reason - simple string of why this datetime is invalid. Should not contain parameters or anything else data-dependent\n   * @param {string} [explanation=null] - longer explanation, may include parameters and other useful debugging information\n   * @return {Duration}\n   */\n  static invalid(reason, explanation = null) {\n    if (!reason) {\n      throw new InvalidArgumentError(\"need to specify a reason the Duration is invalid\");\n    }\n\n    const invalid = reason instanceof Invalid ? reason : new Invalid(reason, explanation);\n\n    if (Settings.throwOnInvalid) {\n      throw new InvalidDurationError(invalid);\n    } else {\n      return new Duration({ invalid });\n    }\n  }\n\n  /**\n   * @private\n   */\n  static normalizeUnit(unit) {\n    const normalized = {\n      year: \"years\",\n      years: \"years\",\n      quarter: \"quarters\",\n      quarters: \"quarters\",\n      month: \"months\",\n      months: \"months\",\n      week: \"weeks\",\n      weeks: \"weeks\",\n      day: \"days\",\n      days: \"days\",\n      hour: \"hours\",\n      hours: \"hours\",\n      minute: \"minutes\",\n      minutes: \"minutes\",\n      second: \"seconds\",\n      seconds: \"seconds\",\n      millisecond: \"milliseconds\",\n      milliseconds: \"milliseconds\",\n    }[unit ? unit.toLowerCase() : unit];\n\n    if (!normalized) throw new InvalidUnitError(unit);\n\n    return normalized;\n  }\n\n  /**\n   * Check if an object is a Duration. Works across context boundaries\n   * @param {object} o\n   * @return {boolean}\n   */\n  static isDuration(o) {\n    return (o && o.isLuxonDuration) || false;\n  }\n\n  /**\n   * Get  the locale of a Duration, such 'en-GB'\n   * @type {string}\n   */\n  get locale() {\n    return this.isValid ? this.loc.locale : null;\n  }\n\n  /**\n   * Get the numbering system of a Duration, such 'beng'. The numbering system is used when formatting the Duration\n   *\n   * @type {string}\n   */\n  get numberingSystem() {\n    return this.isValid ? this.loc.numberingSystem : null;\n  }\n\n  /**\n   * Returns a string representation of this Duration formatted according to the specified format string. You may use these tokens:\n   * * `S` for milliseconds\n   * * `s` for seconds\n   * * `m` for minutes\n   * * `h` for hours\n   * * `d` for days\n   * * `w` for weeks\n   * * `M` for months\n   * * `y` for years\n   * Notes:\n   * * Add padding by repeating the token, e.g. \"yy\" pads the years to two digits, \"hhhh\" pads the hours out to four digits\n   * * Tokens can be escaped by wrapping with single quotes.\n   * * The duration will be converted to the set of units in the format string using {@link Duration#shiftTo} and the Durations's conversion accuracy setting.\n   * @param {string} fmt - the format string\n   * @param {Object} opts - options\n   * @param {boolean} [opts.floor=true] - floor numerical values\n   * @example Duration.fromObject({ years: 1, days: 6, seconds: 2 }).toFormat(\"y d s\") //=> \"1 6 2\"\n   * @example Duration.fromObject({ years: 1, days: 6, seconds: 2 }).toFormat(\"yy dd sss\") //=> \"01 06 002\"\n   * @example Duration.fromObject({ years: 1, days: 6, seconds: 2 }).toFormat(\"M S\") //=> \"12 518402000\"\n   * @return {string}\n   */\n  toFormat(fmt, opts = {}) {\n    // reverse-compat since 1.2; we always round down now, never up, and we do it by default\n    const fmtOpts = {\n      ...opts,\n      floor: opts.round !== false && opts.floor !== false,\n    };\n    return this.isValid\n      ? Formatter.create(this.loc, fmtOpts).formatDurationFromString(this, fmt)\n      : INVALID;\n  }\n\n  /**\n   * Returns a string representation of a Duration with all units included.\n   * To modify its behavior, use `listStyle` and any Intl.NumberFormat option, though `unitDisplay` is especially relevant.\n   * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat/NumberFormat#options\n   * @param {Object} opts - Formatting options. Accepts the same keys as the options parameter of the native `Intl.NumberFormat` constructor, as well as `listStyle`.\n   * @param {string} [opts.listStyle='narrow'] - How to format the merged list. Corresponds to the `style` property of the options parameter of the native `Intl.ListFormat` constructor.\n   * @example\n   * ```js\n   * var dur = Duration.fromObject({ days: 1, hours: 5, minutes: 6 })\n   * dur.toHuman() //=> '1 day, 5 hours, 6 minutes'\n   * dur.toHuman({ listStyle: \"long\" }) //=> '1 day, 5 hours, and 6 minutes'\n   * dur.toHuman({ unitDisplay: \"short\" }) //=> '1 day, 5 hr, 6 min'\n   * ```\n   */\n  toHuman(opts = {}) {\n    if (!this.isValid) return INVALID;\n\n    const l = orderedUnits\n      .map((unit) => {\n        const val = this.values[unit];\n        if (isUndefined(val)) {\n          return null;\n        }\n        return this.loc\n          .numberFormatter({ style: \"unit\", unitDisplay: \"long\", ...opts, unit: unit.slice(0, -1) })\n          .format(val);\n      })\n      .filter((n) => n);\n\n    return this.loc\n      .listFormatter({ type: \"conjunction\", style: opts.listStyle || \"narrow\", ...opts })\n      .format(l);\n  }\n\n  /**\n   * Returns a JavaScript object with this Duration's values.\n   * @example Duration.fromObject({ years: 1, days: 6, seconds: 2 }).toObject() //=> { years: 1, days: 6, seconds: 2 }\n   * @return {Object}\n   */\n  toObject() {\n    if (!this.isValid) return {};\n    return { ...this.values };\n  }\n\n  /**\n   * Returns an ISO 8601-compliant string representation of this Duration.\n   * @see https://en.wikipedia.org/wiki/ISO_8601#Durations\n   * @example Duration.fromObject({ years: 3, seconds: 45 }).toISO() //=> 'P3YT45S'\n   * @example Duration.fromObject({ months: 4, seconds: 45 }).toISO() //=> 'P4MT45S'\n   * @example Duration.fromObject({ months: 5 }).toISO() //=> 'P5M'\n   * @example Duration.fromObject({ minutes: 5 }).toISO() //=> 'PT5M'\n   * @example Duration.fromObject({ milliseconds: 6 }).toISO() //=> 'PT0.006S'\n   * @return {string}\n   */\n  toISO() {\n    // we could use the formatter, but this is an easier way to get the minimum string\n    if (!this.isValid) return null;\n\n    let s = \"P\";\n    if (this.years !== 0) s += this.years + \"Y\";\n    if (this.months !== 0 || this.quarters !== 0) s += this.months + this.quarters * 3 + \"M\";\n    if (this.weeks !== 0) s += this.weeks + \"W\";\n    if (this.days !== 0) s += this.days + \"D\";\n    if (this.hours !== 0 || this.minutes !== 0 || this.seconds !== 0 || this.milliseconds !== 0)\n      s += \"T\";\n    if (this.hours !== 0) s += this.hours + \"H\";\n    if (this.minutes !== 0) s += this.minutes + \"M\";\n    if (this.seconds !== 0 || this.milliseconds !== 0)\n      // this will handle \"floating point madness\" by removing extra decimal places\n      // https://stackoverflow.com/questions/588004/is-floating-point-math-broken\n      s += roundTo(this.seconds + this.milliseconds / 1000, 3) + \"S\";\n    if (s === \"P\") s += \"T0S\";\n    return s;\n  }\n\n  /**\n   * Returns an ISO 8601-compliant string representation of this Duration, formatted as a time of day.\n   * Note that this will return null if the duration is invalid, negative, or equal to or greater than 24 hours.\n   * @see https://en.wikipedia.org/wiki/ISO_8601#Times\n   * @param {Object} opts - options\n   * @param {boolean} [opts.suppressMilliseconds=false] - exclude milliseconds from the format if they're 0\n   * @param {boolean} [opts.suppressSeconds=false] - exclude seconds from the format if they're 0\n   * @param {boolean} [opts.includePrefix=false] - include the `T` prefix\n   * @param {string} [opts.format='extended'] - choose between the basic and extended format\n   * @example Duration.fromObject({ hours: 11 }).toISOTime() //=> '11:00:00.000'\n   * @example Duration.fromObject({ hours: 11 }).toISOTime({ suppressMilliseconds: true }) //=> '11:00:00'\n   * @example Duration.fromObject({ hours: 11 }).toISOTime({ suppressSeconds: true }) //=> '11:00'\n   * @example Duration.fromObject({ hours: 11 }).toISOTime({ includePrefix: true }) //=> 'T11:00:00.000'\n   * @example Duration.fromObject({ hours: 11 }).toISOTime({ format: 'basic' }) //=> '110000.000'\n   * @return {string}\n   */\n  toISOTime(opts = {}) {\n    if (!this.isValid) return null;\n\n    const millis = this.toMillis();\n    if (millis < 0 || millis >= 86400000) return null;\n\n    opts = {\n      suppressMilliseconds: false,\n      suppressSeconds: false,\n      includePrefix: false,\n      format: \"extended\",\n      ...opts,\n      includeOffset: false,\n    };\n\n    const dateTime = DateTime.fromMillis(millis, { zone: \"UTC\" });\n    return dateTime.toISOTime(opts);\n  }\n\n  /**\n   * Returns an ISO 8601 representation of this Duration appropriate for use in JSON.\n   * @return {string}\n   */\n  toJSON() {\n    return this.toISO();\n  }\n\n  /**\n   * Returns an ISO 8601 representation of this Duration appropriate for use in debugging.\n   * @return {string}\n   */\n  toString() {\n    return this.toISO();\n  }\n\n  /**\n   * Returns a string representation of this Duration appropriate for the REPL.\n   * @return {string}\n   */\n  [Symbol.for(\"nodejs.util.inspect.custom\")]() {\n    if (this.isValid) {\n      return `Duration { values: ${JSON.stringify(this.values)} }`;\n    } else {\n      return `Duration { Invalid, reason: ${this.invalidReason} }`;\n    }\n  }\n\n  /**\n   * Returns an milliseconds value of this Duration.\n   * @return {number}\n   */\n  toMillis() {\n    if (!this.isValid) return NaN;\n\n    return durationToMillis(this.matrix, this.values);\n  }\n\n  /**\n   * Returns an milliseconds value of this Duration. Alias of {@link toMillis}\n   * @return {number}\n   */\n  valueOf() {\n    return this.toMillis();\n  }\n\n  /**\n   * Make this Duration longer by the specified amount. Return a newly-constructed Duration.\n   * @param {Duration|Object|number} duration - The amount to add. Either a Luxon Duration, a number of milliseconds, the object argument to Duration.fromObject()\n   * @return {Duration}\n   */\n  plus(duration) {\n    if (!this.isValid) return this;\n\n    const dur = Duration.fromDurationLike(duration),\n      result = {};\n\n    for (const k of orderedUnits) {\n      if (hasOwnProperty(dur.values, k) || hasOwnProperty(this.values, k)) {\n        result[k] = dur.get(k) + this.get(k);\n      }\n    }\n\n    return clone(this, { values: result }, true);\n  }\n\n  /**\n   * Make this Duration shorter by the specified amount. Return a newly-constructed Duration.\n   * @param {Duration|Object|number} duration - The amount to subtract. Either a Luxon Duration, a number of milliseconds, the object argument to Duration.fromObject()\n   * @return {Duration}\n   */\n  minus(duration) {\n    if (!this.isValid) return this;\n\n    const dur = Duration.fromDurationLike(duration);\n    return this.plus(dur.negate());\n  }\n\n  /**\n   * Scale this Duration by the specified amount. Return a newly-constructed Duration.\n   * @param {function} fn - The function to apply to each unit. Arity is 1 or 2: the value of the unit and, optionally, the unit name. Must return a number.\n   * @example Duration.fromObject({ hours: 1, minutes: 30 }).mapUnits(x => x * 2) //=> { hours: 2, minutes: 60 }\n   * @example Duration.fromObject({ hours: 1, minutes: 30 }).mapUnits((x, u) => u === \"hours\" ? x * 2 : x) //=> { hours: 2, minutes: 30 }\n   * @return {Duration}\n   */\n  mapUnits(fn) {\n    if (!this.isValid) return this;\n    const result = {};\n    for (const k of Object.keys(this.values)) {\n      result[k] = asNumber(fn(this.values[k], k));\n    }\n    return clone(this, { values: result }, true);\n  }\n\n  /**\n   * Get the value of unit.\n   * @param {string} unit - a unit such as 'minute' or 'day'\n   * @example Duration.fromObject({years: 2, days: 3}).get('years') //=> 2\n   * @example Duration.fromObject({years: 2, days: 3}).get('months') //=> 0\n   * @example Duration.fromObject({years: 2, days: 3}).get('days') //=> 3\n   * @return {number}\n   */\n  get(unit) {\n    return this[Duration.normalizeUnit(unit)];\n  }\n\n  /**\n   * \"Set\" the values of specified units. Return a newly-constructed Duration.\n   * @param {Object} values - a mapping of units to numbers\n   * @example dur.set({ years: 2017 })\n   * @example dur.set({ hours: 8, minutes: 30 })\n   * @return {Duration}\n   */\n  set(values) {\n    if (!this.isValid) return this;\n\n    const mixed = { ...this.values, ...normalizeObject(values, Duration.normalizeUnit) };\n    return clone(this, { values: mixed });\n  }\n\n  /**\n   * \"Set\" the locale and/or numberingSystem.  Returns a newly-constructed Duration.\n   * @example dur.reconfigure({ locale: 'en-GB' })\n   * @return {Duration}\n   */\n  reconfigure({ locale, numberingSystem, conversionAccuracy, matrix } = {}) {\n    const loc = this.loc.clone({ locale, numberingSystem });\n    const opts = { loc, matrix, conversionAccuracy };\n    return clone(this, opts);\n  }\n\n  /**\n   * Return the length of the duration in the specified unit.\n   * @param {string} unit - a unit such as 'minutes' or 'days'\n   * @example Duration.fromObject({years: 1}).as('days') //=> 365\n   * @example Duration.fromObject({years: 1}).as('months') //=> 12\n   * @example Duration.fromObject({hours: 60}).as('days') //=> 2.5\n   * @return {number}\n   */\n  as(unit) {\n    return this.isValid ? this.shiftTo(unit).get(unit) : NaN;\n  }\n\n  /**\n   * Reduce this Duration to its canonical representation in its current units.\n   * Assuming the overall value of the Duration is positive, this means:\n   * - excessive values for lower-order units are converted to higher-order units (if possible, see first and second example)\n   * - negative lower-order units are converted to higher order units (there must be such a higher order unit, otherwise\n   *   the overall value would be negative, see third example)\n   * - fractional values for higher-order units are converted to lower-order units (if possible, see fourth example)\n   *\n   * If the overall value is negative, the result of this method is equivalent to `this.negate().normalize().negate()`.\n   * @example Duration.fromObject({ years: 2, days: 5000 }).normalize().toObject() //=> { years: 15, days: 255 }\n   * @example Duration.fromObject({ days: 5000 }).normalize().toObject() //=> { days: 5000 }\n   * @example Duration.fromObject({ hours: 12, minutes: -45 }).normalize().toObject() //=> { hours: 11, minutes: 15 }\n   * @example Duration.fromObject({ years: 2.5, days: 0, hours: 0 }).normalize().toObject() //=> { years: 2, days: 182, hours: 12 }\n   * @return {Duration}\n   */\n  normalize() {\n    if (!this.isValid) return this;\n    const vals = this.toObject();\n    normalizeValues(this.matrix, vals);\n    return clone(this, { values: vals }, true);\n  }\n\n  /**\n   * Rescale units to its largest representation\n   * @example Duration.fromObject({ milliseconds: 90000 }).rescale().toObject() //=> { minutes: 1, seconds: 30 }\n   * @return {Duration}\n   */\n  rescale() {\n    if (!this.isValid) return this;\n    const vals = removeZeroes(this.normalize().shiftToAll().toObject());\n    return clone(this, { values: vals }, true);\n  }\n\n  /**\n   * Convert this Duration into its representation in a different set of units.\n   * @example Duration.fromObject({ hours: 1, seconds: 30 }).shiftTo('minutes', 'milliseconds').toObject() //=> { minutes: 60, milliseconds: 30000 }\n   * @return {Duration}\n   */\n  shiftTo(...units) {\n    if (!this.isValid) return this;\n\n    if (units.length === 0) {\n      return this;\n    }\n\n    units = units.map((u) => Duration.normalizeUnit(u));\n\n    const built = {},\n      accumulated = {},\n      vals = this.toObject();\n    let lastUnit;\n\n    for (const k of orderedUnits) {\n      if (units.indexOf(k) >= 0) {\n        lastUnit = k;\n\n        let own = 0;\n\n        // anything we haven't boiled down yet should get boiled to this unit\n        for (const ak in accumulated) {\n          own += this.matrix[ak][k] * accumulated[ak];\n          accumulated[ak] = 0;\n        }\n\n        // plus anything that's already in this unit\n        if (isNumber(vals[k])) {\n          own += vals[k];\n        }\n\n        // only keep the integer part for now in the hopes of putting any decimal part\n        // into a smaller unit later\n        const i = Math.trunc(own);\n        built[k] = i;\n        accumulated[k] = (own * 1000 - i * 1000) / 1000;\n\n        // otherwise, keep it in the wings to boil it later\n      } else if (isNumber(vals[k])) {\n        accumulated[k] = vals[k];\n      }\n    }\n\n    // anything leftover becomes the decimal for the last unit\n    // lastUnit must be defined since units is not empty\n    for (const key in accumulated) {\n      if (accumulated[key] !== 0) {\n        built[lastUnit] +=\n          key === lastUnit ? accumulated[key] : accumulated[key] / this.matrix[lastUnit][key];\n      }\n    }\n\n    normalizeValues(this.matrix, built);\n    return clone(this, { values: built }, true);\n  }\n\n  /**\n   * Shift this Duration to all available units.\n   * Same as shiftTo(\"years\", \"months\", \"weeks\", \"days\", \"hours\", \"minutes\", \"seconds\", \"milliseconds\")\n   * @return {Duration}\n   */\n  shiftToAll() {\n    if (!this.isValid) return this;\n    return this.shiftTo(\n      \"years\",\n      \"months\",\n      \"weeks\",\n      \"days\",\n      \"hours\",\n      \"minutes\",\n      \"seconds\",\n      \"milliseconds\"\n    );\n  }\n\n  /**\n   * Return the negative of this Duration.\n   * @example Duration.fromObject({ hours: 1, seconds: 30 }).negate().toObject() //=> { hours: -1, seconds: -30 }\n   * @return {Duration}\n   */\n  negate() {\n    if (!this.isValid) return this;\n    const negated = {};\n    for (const k of Object.keys(this.values)) {\n      negated[k] = this.values[k] === 0 ? 0 : -this.values[k];\n    }\n    return clone(this, { values: negated }, true);\n  }\n\n  /**\n   * Get the years.\n   * @type {number}\n   */\n  get years() {\n    return this.isValid ? this.values.years || 0 : NaN;\n  }\n\n  /**\n   * Get the quarters.\n   * @type {number}\n   */\n  get quarters() {\n    return this.isValid ? this.values.quarters || 0 : NaN;\n  }\n\n  /**\n   * Get the months.\n   * @type {number}\n   */\n  get months() {\n    return this.isValid ? this.values.months || 0 : NaN;\n  }\n\n  /**\n   * Get the weeks\n   * @type {number}\n   */\n  get weeks() {\n    return this.isValid ? this.values.weeks || 0 : NaN;\n  }\n\n  /**\n   * Get the days.\n   * @type {number}\n   */\n  get days() {\n    return this.isValid ? this.values.days || 0 : NaN;\n  }\n\n  /**\n   * Get the hours.\n   * @type {number}\n   */\n  get hours() {\n    return this.isValid ? this.values.hours || 0 : NaN;\n  }\n\n  /**\n   * Get the minutes.\n   * @type {number}\n   */\n  get minutes() {\n    return this.isValid ? this.values.minutes || 0 : NaN;\n  }\n\n  /**\n   * Get the seconds.\n   * @return {number}\n   */\n  get seconds() {\n    return this.isValid ? this.values.seconds || 0 : NaN;\n  }\n\n  /**\n   * Get the milliseconds.\n   * @return {number}\n   */\n  get milliseconds() {\n    return this.isValid ? this.values.milliseconds || 0 : NaN;\n  }\n\n  /**\n   * Returns whether the Duration is invalid. Invalid durations are returned by diff operations\n   * on invalid DateTimes or Intervals.\n   * @return {boolean}\n   */\n  get isValid() {\n    return this.invalid === null;\n  }\n\n  /**\n   * Returns an error code if this Duration became invalid, or null if the Duration is valid\n   * @return {string}\n   */\n  get invalidReason() {\n    return this.invalid ? this.invalid.reason : null;\n  }\n\n  /**\n   * Returns an explanation of why this Duration became invalid, or null if the Duration is valid\n   * @type {string}\n   */\n  get invalidExplanation() {\n    return this.invalid ? this.invalid.explanation : null;\n  }\n\n  /**\n   * Equality check\n   * Two Durations are equal iff they have the same units and the same values for each unit.\n   * @param {Duration} other\n   * @return {boolean}\n   */\n  equals(other) {\n    if (!this.isValid || !other.isValid) {\n      return false;\n    }\n\n    if (!this.loc.equals(other.loc)) {\n      return false;\n    }\n\n    function eq(v1, v2) {\n      // Consider 0 and undefined as equal\n      if (v1 === undefined || v1 === 0) return v2 === undefined || v2 === 0;\n      return v1 === v2;\n    }\n\n    for (const u of orderedUnits) {\n      if (!eq(this.values[u], other.values[u])) {\n        return false;\n      }\n    }\n    return true;\n  }\n}\n", "import DateTime, { friendlyDateTime } from \"./datetime.js\";\nimport Duration from \"./duration.js\";\nimport Settings from \"./settings.js\";\nimport { InvalidArgumentError, InvalidIntervalError } from \"./errors.js\";\nimport Invalid from \"./impl/invalid.js\";\nimport Formatter from \"./impl/formatter.js\";\nimport * as Formats from \"./impl/formats.js\";\n\nconst INVALID = \"Invalid Interval\";\n\n// checks if the start is equal to or before the end\nfunction validateStartEnd(start, end) {\n  if (!start || !start.isValid) {\n    return Interval.invalid(\"missing or invalid start\");\n  } else if (!end || !end.isValid) {\n    return Interval.invalid(\"missing or invalid end\");\n  } else if (end < start) {\n    return Interval.invalid(\n      \"end before start\",\n      `The end of an interval must be after its start, but you had start=${start.toISO()} and end=${end.toISO()}`\n    );\n  } else {\n    return null;\n  }\n}\n\n/**\n * An Interval object represents a half-open interval of time, where each endpoint is a {@link DateTime}. Conceptually, it's a container for those two endpoints, accompanied by methods for creating, parsing, interrogating, comparing, transforming, and formatting them.\n *\n * Here is a brief overview of the most commonly used methods and getters in Interval:\n *\n * * **Creation** To create an Interval, use {@link Interval.fromDateTimes}, {@link Interval.after}, {@link Interval.before}, or {@link Interval.fromISO}.\n * * **Accessors** Use {@link Interval#start} and {@link Interval#end} to get the start and end.\n * * **Interrogation** To analyze the Interval, use {@link Interval#count}, {@link Interval#length}, {@link Interval#hasSame}, {@link Interval#contains}, {@link Interval#isAfter}, or {@link Interval#isBefore}.\n * * **Transformation** To create other Intervals out of this one, use {@link Interval#set}, {@link Interval#splitAt}, {@link Interval#splitBy}, {@link Interval#divideEqually}, {@link Interval.merge}, {@link Interval.xor}, {@link Interval#union}, {@link Interval#intersection}, or {@link Interval#difference}.\n * * **Comparison** To compare this Interval to another one, use {@link Interval#equals}, {@link Interval#overlaps}, {@link Interval#abutsStart}, {@link Interval#abutsEnd}, {@link Interval#engulfs}\n * * **Output** To convert the Interval into other representations, see {@link Interval#toString}, {@link Interval#toLocaleString}, {@link Interval#toISO}, {@link Interval#toISODate}, {@link Interval#toISOTime}, {@link Interval#toFormat}, and {@link Interval#toDuration}.\n */\nexport default class Interval {\n  /**\n   * @private\n   */\n  constructor(config) {\n    /**\n     * @access private\n     */\n    this.s = config.start;\n    /**\n     * @access private\n     */\n    this.e = config.end;\n    /**\n     * @access private\n     */\n    this.invalid = config.invalid || null;\n    /**\n     * @access private\n     */\n    this.isLuxonInterval = true;\n  }\n\n  /**\n   * Create an invalid Interval.\n   * @param {string} reason - simple string of why this Interval is invalid. Should not contain parameters or anything else data-dependent\n   * @param {string} [explanation=null] - longer explanation, may include parameters and other useful debugging information\n   * @return {Interval}\n   */\n  static invalid(reason, explanation = null) {\n    if (!reason) {\n      throw new InvalidArgumentError(\"need to specify a reason the Interval is invalid\");\n    }\n\n    const invalid = reason instanceof Invalid ? reason : new Invalid(reason, explanation);\n\n    if (Settings.throwOnInvalid) {\n      throw new InvalidIntervalError(invalid);\n    } else {\n      return new Interval({ invalid });\n    }\n  }\n\n  /**\n   * Create an Interval from a start DateTime and an end DateTime. Inclusive of the start but not the end.\n   * @param {DateTime|Date|Object} start\n   * @param {DateTime|Date|Object} end\n   * @return {Interval}\n   */\n  static fromDateTimes(start, end) {\n    const builtStart = friendlyDateTime(start),\n      builtEnd = friendlyDateTime(end);\n\n    const validateError = validateStartEnd(builtStart, builtEnd);\n\n    if (validateError == null) {\n      return new Interval({\n        start: builtStart,\n        end: builtEnd,\n      });\n    } else {\n      return validateError;\n    }\n  }\n\n  /**\n   * Create an Interval from a start DateTime and a Duration to extend to.\n   * @param {DateTime|Date|Object} start\n   * @param {Duration|Object|number} duration - the length of the Interval.\n   * @return {Interval}\n   */\n  static after(start, duration) {\n    const dur = Duration.fromDurationLike(duration),\n      dt = friendlyDateTime(start);\n    return Interval.fromDateTimes(dt, dt.plus(dur));\n  }\n\n  /**\n   * Create an Interval from an end DateTime and a Duration to extend backwards to.\n   * @param {DateTime|Date|Object} end\n   * @param {Duration|Object|number} duration - the length of the Interval.\n   * @return {Interval}\n   */\n  static before(end, duration) {\n    const dur = Duration.fromDurationLike(duration),\n      dt = friendlyDateTime(end);\n    return Interval.fromDateTimes(dt.minus(dur), dt);\n  }\n\n  /**\n   * Create an Interval from an ISO 8601 string.\n   * Accepts `<start>/<end>`, `<start>/<duration>`, and `<duration>/<end>` formats.\n   * @param {string} text - the ISO string to parse\n   * @param {Object} [opts] - options to pass {@link DateTime#fromISO} and optionally {@link Duration#fromISO}\n   * @see https://en.wikipedia.org/wiki/ISO_8601#Time_intervals\n   * @return {Interval}\n   */\n  static fromISO(text, opts) {\n    const [s, e] = (text || \"\").split(\"/\", 2);\n    if (s && e) {\n      let start, startIsValid;\n      try {\n        start = DateTime.fromISO(s, opts);\n        startIsValid = start.isValid;\n      } catch (e) {\n        startIsValid = false;\n      }\n\n      let end, endIsValid;\n      try {\n        end = DateTime.fromISO(e, opts);\n        endIsValid = end.isValid;\n      } catch (e) {\n        endIsValid = false;\n      }\n\n      if (startIsValid && endIsValid) {\n        return Interval.fromDateTimes(start, end);\n      }\n\n      if (startIsValid) {\n        const dur = Duration.fromISO(e, opts);\n        if (dur.isValid) {\n          return Interval.after(start, dur);\n        }\n      } else if (endIsValid) {\n        const dur = Duration.fromISO(s, opts);\n        if (dur.isValid) {\n          return Interval.before(end, dur);\n        }\n      }\n    }\n    return Interval.invalid(\"unparsable\", `the input \"${text}\" can't be parsed as ISO 8601`);\n  }\n\n  /**\n   * Check if an object is an Interval. Works across context boundaries\n   * @param {object} o\n   * @return {boolean}\n   */\n  static isInterval(o) {\n    return (o && o.isLuxonInterval) || false;\n  }\n\n  /**\n   * Returns the start of the Interval\n   * @type {DateTime}\n   */\n  get start() {\n    return this.isValid ? this.s : null;\n  }\n\n  /**\n   * Returns the end of the Interval\n   * @type {DateTime}\n   */\n  get end() {\n    return this.isValid ? this.e : null;\n  }\n\n  /**\n   * Returns whether this Interval's end is at least its start, meaning that the Interval isn't 'backwards'.\n   * @type {boolean}\n   */\n  get isValid() {\n    return this.invalidReason === null;\n  }\n\n  /**\n   * Returns an error code if this Interval is invalid, or null if the Interval is valid\n   * @type {string}\n   */\n  get invalidReason() {\n    return this.invalid ? this.invalid.reason : null;\n  }\n\n  /**\n   * Returns an explanation of why this Interval became invalid, or null if the Interval is valid\n   * @type {string}\n   */\n  get invalidExplanation() {\n    return this.invalid ? this.invalid.explanation : null;\n  }\n\n  /**\n   * Returns the length of the Interval in the specified unit.\n   * @param {string} unit - the unit (such as 'hours' or 'days') to return the length in.\n   * @return {number}\n   */\n  length(unit = \"milliseconds\") {\n    return this.isValid ? this.toDuration(...[unit]).get(unit) : NaN;\n  }\n\n  /**\n   * Returns the count of minutes, hours, days, months, or years included in the Interval, even in part.\n   * Unlike {@link Interval#length} this counts sections of the calendar, not periods of time, e.g. specifying 'day'\n   * asks 'what dates are included in this interval?', not 'how many days long is this interval?'\n   * @param {string} [unit='milliseconds'] - the unit of time to count.\n   * @param {Object} opts - options\n   * @param {boolean} [opts.useLocaleWeeks=false] - If true, use weeks based on the locale, i.e. use the locale-dependent start of the week; this operation will always use the locale of the start DateTime\n   * @return {number}\n   */\n  count(unit = \"milliseconds\", opts) {\n    if (!this.isValid) return NaN;\n    const start = this.start.startOf(unit, opts);\n    let end;\n    if (opts?.useLocaleWeeks) {\n      end = this.end.reconfigure({ locale: start.locale });\n    } else {\n      end = this.end;\n    }\n    end = end.startOf(unit, opts);\n    return Math.floor(end.diff(start, unit).get(unit)) + (end.valueOf() !== this.end.valueOf());\n  }\n\n  /**\n   * Returns whether this Interval's start and end are both in the same unit of time\n   * @param {string} unit - the unit of time to check sameness on\n   * @return {boolean}\n   */\n  hasSame(unit) {\n    return this.isValid ? this.isEmpty() || this.e.minus(1).hasSame(this.s, unit) : false;\n  }\n\n  /**\n   * Return whether this Interval has the same start and end DateTimes.\n   * @return {boolean}\n   */\n  isEmpty() {\n    return this.s.valueOf() === this.e.valueOf();\n  }\n\n  /**\n   * Return whether this Interval's start is after the specified DateTime.\n   * @param {DateTime} dateTime\n   * @return {boolean}\n   */\n  isAfter(dateTime) {\n    if (!this.isValid) return false;\n    return this.s > dateTime;\n  }\n\n  /**\n   * Return whether this Interval's end is before the specified DateTime.\n   * @param {DateTime} dateTime\n   * @return {boolean}\n   */\n  isBefore(dateTime) {\n    if (!this.isValid) return false;\n    return this.e <= dateTime;\n  }\n\n  /**\n   * Return whether this Interval contains the specified DateTime.\n   * @param {DateTime} dateTime\n   * @return {boolean}\n   */\n  contains(dateTime) {\n    if (!this.isValid) return false;\n    return this.s <= dateTime && this.e > dateTime;\n  }\n\n  /**\n   * \"Sets\" the start and/or end dates. Returns a newly-constructed Interval.\n   * @param {Object} values - the values to set\n   * @param {DateTime} values.start - the starting DateTime\n   * @param {DateTime} values.end - the ending DateTime\n   * @return {Interval}\n   */\n  set({ start, end } = {}) {\n    if (!this.isValid) return this;\n    return Interval.fromDateTimes(start || this.s, end || this.e);\n  }\n\n  /**\n   * Split this Interval at each of the specified DateTimes\n   * @param {...DateTime} dateTimes - the unit of time to count.\n   * @return {Array}\n   */\n  splitAt(...dateTimes) {\n    if (!this.isValid) return [];\n    const sorted = dateTimes\n        .map(friendlyDateTime)\n        .filter((d) => this.contains(d))\n        .sort((a, b) => a.toMillis() - b.toMillis()),\n      results = [];\n    let { s } = this,\n      i = 0;\n\n    while (s < this.e) {\n      const added = sorted[i] || this.e,\n        next = +added > +this.e ? this.e : added;\n      results.push(Interval.fromDateTimes(s, next));\n      s = next;\n      i += 1;\n    }\n\n    return results;\n  }\n\n  /**\n   * Split this Interval into smaller Intervals, each of the specified length.\n   * Left over time is grouped into a smaller interval\n   * @param {Duration|Object|number} duration - The length of each resulting interval.\n   * @return {Array}\n   */\n  splitBy(duration) {\n    const dur = Duration.fromDurationLike(duration);\n\n    if (!this.isValid || !dur.isValid || dur.as(\"milliseconds\") === 0) {\n      return [];\n    }\n\n    let { s } = this,\n      idx = 1,\n      next;\n\n    const results = [];\n    while (s < this.e) {\n      const added = this.start.plus(dur.mapUnits((x) => x * idx));\n      next = +added > +this.e ? this.e : added;\n      results.push(Interval.fromDateTimes(s, next));\n      s = next;\n      idx += 1;\n    }\n\n    return results;\n  }\n\n  /**\n   * Split this Interval into the specified number of smaller intervals.\n   * @param {number} numberOfParts - The number of Intervals to divide the Interval into.\n   * @return {Array}\n   */\n  divideEqually(numberOfParts) {\n    if (!this.isValid) return [];\n    return this.splitBy(this.length() / numberOfParts).slice(0, numberOfParts);\n  }\n\n  /**\n   * Return whether this Interval overlaps with the specified Interval\n   * @param {Interval} other\n   * @return {boolean}\n   */\n  overlaps(other) {\n    return this.e > other.s && this.s < other.e;\n  }\n\n  /**\n   * Return whether this Interval's end is adjacent to the specified Interval's start.\n   * @param {Interval} other\n   * @return {boolean}\n   */\n  abutsStart(other) {\n    if (!this.isValid) return false;\n    return +this.e === +other.s;\n  }\n\n  /**\n   * Return whether this Interval's start is adjacent to the specified Interval's end.\n   * @param {Interval} other\n   * @return {boolean}\n   */\n  abutsEnd(other) {\n    if (!this.isValid) return false;\n    return +other.e === +this.s;\n  }\n\n  /**\n   * Return whether this Interval engulfs the start and end of the specified Interval.\n   * @param {Interval} other\n   * @return {boolean}\n   */\n  engulfs(other) {\n    if (!this.isValid) return false;\n    return this.s <= other.s && this.e >= other.e;\n  }\n\n  /**\n   * Return whether this Interval has the same start and end as the specified Interval.\n   * @param {Interval} other\n   * @return {boolean}\n   */\n  equals(other) {\n    if (!this.isValid || !other.isValid) {\n      return false;\n    }\n\n    return this.s.equals(other.s) && this.e.equals(other.e);\n  }\n\n  /**\n   * Return an Interval representing the intersection of this Interval and the specified Interval.\n   * Specifically, the resulting Interval has the maximum start time and the minimum end time of the two Intervals.\n   * Returns null if the intersection is empty, meaning, the intervals don't intersect.\n   * @param {Interval} other\n   * @return {Interval}\n   */\n  intersection(other) {\n    if (!this.isValid) return this;\n    const s = this.s > other.s ? this.s : other.s,\n      e = this.e < other.e ? this.e : other.e;\n\n    if (s >= e) {\n      return null;\n    } else {\n      return Interval.fromDateTimes(s, e);\n    }\n  }\n\n  /**\n   * Return an Interval representing the union of this Interval and the specified Interval.\n   * Specifically, the resulting Interval has the minimum start time and the maximum end time of the two Intervals.\n   * @param {Interval} other\n   * @return {Interval}\n   */\n  union(other) {\n    if (!this.isValid) return this;\n    const s = this.s < other.s ? this.s : other.s,\n      e = this.e > other.e ? this.e : other.e;\n    return Interval.fromDateTimes(s, e);\n  }\n\n  /**\n   * Merge an array of Intervals into a equivalent minimal set of Intervals.\n   * Combines overlapping and adjacent Intervals.\n   * @param {Array} intervals\n   * @return {Array}\n   */\n  static merge(intervals) {\n    const [found, final] = intervals\n      .sort((a, b) => a.s - b.s)\n      .reduce(\n        ([sofar, current], item) => {\n          if (!current) {\n            return [sofar, item];\n          } else if (current.overlaps(item) || current.abutsStart(item)) {\n            return [sofar, current.union(item)];\n          } else {\n            return [sofar.concat([current]), item];\n          }\n        },\n        [[], null]\n      );\n    if (final) {\n      found.push(final);\n    }\n    return found;\n  }\n\n  /**\n   * Return an array of Intervals representing the spans of time that only appear in one of the specified Intervals.\n   * @param {Array} intervals\n   * @return {Array}\n   */\n  static xor(intervals) {\n    let start = null,\n      currentCount = 0;\n    const results = [],\n      ends = intervals.map((i) => [\n        { time: i.s, type: \"s\" },\n        { time: i.e, type: \"e\" },\n      ]),\n      flattened = Array.prototype.concat(...ends),\n      arr = flattened.sort((a, b) => a.time - b.time);\n\n    for (const i of arr) {\n      currentCount += i.type === \"s\" ? 1 : -1;\n\n      if (currentCount === 1) {\n        start = i.time;\n      } else {\n        if (start && +start !== +i.time) {\n          results.push(Interval.fromDateTimes(start, i.time));\n        }\n\n        start = null;\n      }\n    }\n\n    return Interval.merge(results);\n  }\n\n  /**\n   * Return an Interval representing the span of time in this Interval that doesn't overlap with any of the specified Intervals.\n   * @param {...Interval} intervals\n   * @return {Array}\n   */\n  difference(...intervals) {\n    return Interval.xor([this].concat(intervals))\n      .map((i) => this.intersection(i))\n      .filter((i) => i && !i.isEmpty());\n  }\n\n  /**\n   * Returns a string representation of this Interval appropriate for debugging.\n   * @return {string}\n   */\n  toString() {\n    if (!this.isValid) return INVALID;\n    return `[${this.s.toISO()} \u2013 ${this.e.toISO()})`;\n  }\n\n  /**\n   * Returns a string representation of this Interval appropriate for the REPL.\n   * @return {string}\n   */\n  [Symbol.for(\"nodejs.util.inspect.custom\")]() {\n    if (this.isValid) {\n      return `Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`;\n    } else {\n      return `Interval { Invalid, reason: ${this.invalidReason} }`;\n    }\n  }\n\n  /**\n   * Returns a localized string representing this Interval. Accepts the same options as the\n   * Intl.DateTimeFormat constructor and any presets defined by Luxon, such as\n   * {@link DateTime.DATE_FULL} or {@link DateTime.TIME_SIMPLE}. The exact behavior of this method\n   * is browser-specific, but in general it will return an appropriate representation of the\n   * Interval in the assigned locale. Defaults to the system's locale if no locale has been\n   * specified.\n   * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DateTimeFormat\n   * @param {Object} [formatOpts=DateTime.DATE_SHORT] - Either a DateTime preset or\n   * Intl.DateTimeFormat constructor options.\n   * @param {Object} opts - Options to override the configuration of the start DateTime.\n   * @example Interval.fromISO('2022-11-07T09:00Z/2022-11-08T09:00Z').toLocaleString(); //=> 11/7/2022 \u2013 11/8/2022\n   * @example Interval.fromISO('2022-11-07T09:00Z/2022-11-08T09:00Z').toLocaleString(DateTime.DATE_FULL); //=> November 7 \u2013 8, 2022\n   * @example Interval.fromISO('2022-11-07T09:00Z/2022-11-08T09:00Z').toLocaleString(DateTime.DATE_FULL, { locale: 'fr-FR' }); //=> 7\u20138 novembre 2022\n   * @example Interval.fromISO('2022-11-07T17:00Z/2022-11-07T19:00Z').toLocaleString(DateTime.TIME_SIMPLE); //=> 6:00 \u2013 8:00 PM\n   * @example Interval.fromISO('2022-11-07T17:00Z/2022-11-07T19:00Z').toLocaleString({ weekday: 'short', month: 'short', day: '2-digit', hour: '2-digit', minute: '2-digit' }); //=> Mon, Nov 07, 6:00 \u2013 8:00 p\n   * @return {string}\n   */\n  toLocaleString(formatOpts = Formats.DATE_SHORT, opts = {}) {\n    return this.isValid\n      ? Formatter.create(this.s.loc.clone(opts), formatOpts).formatInterval(this)\n      : INVALID;\n  }\n\n  /**\n   * Returns an ISO 8601-compliant string representation of this Interval.\n   * @see https://en.wikipedia.org/wiki/ISO_8601#Time_intervals\n   * @param {Object} opts - The same options as {@link DateTime#toISO}\n   * @return {string}\n   */\n  toISO(opts) {\n    if (!this.isValid) return INVALID;\n    return `${this.s.toISO(opts)}/${this.e.toISO(opts)}`;\n  }\n\n  /**\n   * Returns an ISO 8601-compliant string representation of date of this Interval.\n   * The time components are ignored.\n   * @see https://en.wikipedia.org/wiki/ISO_8601#Time_intervals\n   * @return {string}\n   */\n  toISODate() {\n    if (!this.isValid) return INVALID;\n    return `${this.s.toISODate()}/${this.e.toISODate()}`;\n  }\n\n  /**\n   * Returns an ISO 8601-compliant string representation of time of this Interval.\n   * The date components are ignored.\n   * @see https://en.wikipedia.org/wiki/ISO_8601#Time_intervals\n   * @param {Object} opts - The same options as {@link DateTime#toISO}\n   * @return {string}\n   */\n  toISOTime(opts) {\n    if (!this.isValid) return INVALID;\n    return `${this.s.toISOTime(opts)}/${this.e.toISOTime(opts)}`;\n  }\n\n  /**\n   * Returns a string representation of this Interval formatted according to the specified format\n   * string. **You may not want this.** See {@link Interval#toLocaleString} for a more flexible\n   * formatting tool.\n   * @param {string} dateFormat - The format string. This string formats the start and end time.\n   * See {@link DateTime#toFormat} for details.\n   * @param {Object} opts - Options.\n   * @param {string} [opts.separator =  ' \u2013 '] - A separator to place between the start and end\n   * representations.\n   * @return {string}\n   */\n  toFormat(dateFormat, { separator = \" \u2013 \" } = {}) {\n    if (!this.isValid) return INVALID;\n    return `${this.s.toFormat(dateFormat)}${separator}${this.e.toFormat(dateFormat)}`;\n  }\n\n  /**\n   * Return a Duration representing the time spanned by this interval.\n   * @param {string|string[]} [unit=['milliseconds']] - the unit or units (such as 'hours' or 'days') to include in the duration.\n   * @param {Object} opts - options that affect the creation of the Duration\n   * @param {string} [opts.conversionAccuracy='casual'] - the conversion system to use\n   * @example Interval.fromDateTimes(dt1, dt2).toDuration().toObject() //=> { milliseconds: 88489257 }\n   * @example Interval.fromDateTimes(dt1, dt2).toDuration('days').toObject() //=> { days: 1.0241812152777778 }\n   * @example Interval.fromDateTimes(dt1, dt2).toDuration(['hours', 'minutes']).toObject() //=> { hours: 24, minutes: 34.82095 }\n   * @example Interval.fromDateTimes(dt1, dt2).toDuration(['hours', 'minutes', 'seconds']).toObject() //=> { hours: 24, minutes: 34, seconds: 49.257 }\n   * @example Interval.fromDateTimes(dt1, dt2).toDuration('seconds').toObject() //=> { seconds: 88489.257 }\n   * @return {Duration}\n   */\n  toDuration(unit, opts) {\n    if (!this.isValid) {\n      return Duration.invalid(this.invalidReason);\n    }\n    return this.e.diff(this.s, unit, opts);\n  }\n\n  /**\n   * Run mapFn on the interval start and end, returning a new Interval from the resulting DateTimes\n   * @param {function} mapFn\n   * @return {Interval}\n   * @example Interval.fromDateTimes(dt1, dt2).mapEndpoints(endpoint => endpoint.toUTC())\n   * @example Interval.fromDateTimes(dt1, dt2).mapEndpoints(endpoint => endpoint.plus({ hours: 2 }))\n   */\n  mapEndpoints(mapFn) {\n    return Interval.fromDateTimes(mapFn(this.s), mapFn(this.e));\n  }\n}\n", "import DateTime from \"./datetime.js\";\nimport Settings from \"./settings.js\";\nimport Locale from \"./impl/locale.js\";\nimport IANAZone from \"./zones/IANAZone.js\";\nimport { normalizeZone } from \"./impl/zoneUtil.js\";\n\nimport { hasLocaleWeekInfo, hasRelative } from \"./impl/util.js\";\n\n/**\n * The Info class contains static methods for retrieving general time and date related data. For example, it has methods for finding out if a time zone has a DST, for listing the months in any supported locale, and for discovering which of Luxon features are available in the current environment.\n */\nexport default class Info {\n  /**\n   * Return whether the specified zone contains a DST.\n   * @param {string|Zone} [zone='local'] - Zone to check. Defaults to the environment's local zone.\n   * @return {boolean}\n   */\n  static hasDST(zone = Settings.defaultZone) {\n    const proto = DateTime.now().setZone(zone).set({ month: 12 });\n\n    return !zone.isUniversal && proto.offset !== proto.set({ month: 6 }).offset;\n  }\n\n  /**\n   * Return whether the specified zone is a valid IANA specifier.\n   * @param {string} zone - Zone to check\n   * @return {boolean}\n   */\n  static isValidIANAZone(zone) {\n    return IANAZone.isValidZone(zone);\n  }\n\n  /**\n   * Converts the input into a {@link Zone} instance.\n   *\n   * * If `input` is already a Zone instance, it is returned unchanged.\n   * * If `input` is a string containing a valid time zone name, a Zone instance\n   *   with that name is returned.\n   * * If `input` is a string that doesn't refer to a known time zone, a Zone\n   *   instance with {@link Zone#isValid} == false is returned.\n   * * If `input is a number, a Zone instance with the specified fixed offset\n   *   in minutes is returned.\n   * * If `input` is `null` or `undefined`, the default zone is returned.\n   * @param {string|Zone|number} [input] - the value to be converted\n   * @return {Zone}\n   */\n  static normalizeZone(input) {\n    return normalizeZone(input, Settings.defaultZone);\n  }\n\n  /**\n   * Get the weekday on which the week starts according to the given locale.\n   * @param {Object} opts - options\n   * @param {string} [opts.locale] - the locale code\n   * @param {string} [opts.locObj=null] - an existing locale object to use\n   * @returns {number} the start of the week, 1 for Monday through 7 for Sunday\n   */\n  static getStartOfWeek({ locale = null, locObj = null } = {}) {\n    return (locObj || Locale.create(locale)).getStartOfWeek();\n  }\n\n  /**\n   * Get the minimum number of days necessary in a week before it is considered part of the next year according\n   * to the given locale.\n   * @param {Object} opts - options\n   * @param {string} [opts.locale] - the locale code\n   * @param {string} [opts.locObj=null] - an existing locale object to use\n   * @returns {number}\n   */\n  static getMinimumDaysInFirstWeek({ locale = null, locObj = null } = {}) {\n    return (locObj || Locale.create(locale)).getMinDaysInFirstWeek();\n  }\n\n  /**\n   * Get the weekdays, which are considered the weekend according to the given locale\n   * @param {Object} opts - options\n   * @param {string} [opts.locale] - the locale code\n   * @param {string} [opts.locObj=null] - an existing locale object to use\n   * @returns {number[]} an array of weekdays, 1 for Monday through 7 for Sunday\n   */\n  static getWeekendWeekdays({ locale = null, locObj = null } = {}) {\n    // copy the array, because we cache it internally\n    return (locObj || Locale.create(locale)).getWeekendDays().slice();\n  }\n\n  /**\n   * Return an array of standalone month names.\n   * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DateTimeFormat\n   * @param {string} [length='long'] - the length of the month representation, such as \"numeric\", \"2-digit\", \"narrow\", \"short\", \"long\"\n   * @param {Object} opts - options\n   * @param {string} [opts.locale] - the locale code\n   * @param {string} [opts.numberingSystem=null] - the numbering system\n   * @param {string} [opts.locObj=null] - an existing locale object to use\n   * @param {string} [opts.outputCalendar='gregory'] - the calendar\n   * @example Info.months()[0] //=> 'January'\n   * @example Info.months('short')[0] //=> 'Jan'\n   * @example Info.months('numeric')[0] //=> '1'\n   * @example Info.months('short', { locale: 'fr-CA' } )[0] //=> 'janv.'\n   * @example Info.months('numeric', { locale: 'ar' })[0] //=> '\u0661'\n   * @example Info.months('long', { outputCalendar: 'islamic' })[0] //=> 'Rabi\u02BB I'\n   * @return {Array}\n   */\n  static months(\n    length = \"long\",\n    { locale = null, numberingSystem = null, locObj = null, outputCalendar = \"gregory\" } = {}\n  ) {\n    return (locObj || Locale.create(locale, numberingSystem, outputCalendar)).months(length);\n  }\n\n  /**\n   * Return an array of format month names.\n   * Format months differ from standalone months in that they're meant to appear next to the day of the month. In some languages, that\n   * changes the string.\n   * See {@link Info#months}\n   * @param {string} [length='long'] - the length of the month representation, such as \"numeric\", \"2-digit\", \"narrow\", \"short\", \"long\"\n   * @param {Object} opts - options\n   * @param {string} [opts.locale] - the locale code\n   * @param {string} [opts.numberingSystem=null] - the numbering system\n   * @param {string} [opts.locObj=null] - an existing locale object to use\n   * @param {string} [opts.outputCalendar='gregory'] - the calendar\n   * @return {Array}\n   */\n  static monthsFormat(\n    length = \"long\",\n    { locale = null, numberingSystem = null, locObj = null, outputCalendar = \"gregory\" } = {}\n  ) {\n    return (locObj || Locale.create(locale, numberingSystem, outputCalendar)).months(length, true);\n  }\n\n  /**\n   * Return an array of standalone week names.\n   * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DateTimeFormat\n   * @param {string} [length='long'] - the length of the weekday representation, such as \"narrow\", \"short\", \"long\".\n   * @param {Object} opts - options\n   * @param {string} [opts.locale] - the locale code\n   * @param {string} [opts.numberingSystem=null] - the numbering system\n   * @param {string} [opts.locObj=null] - an existing locale object to use\n   * @example Info.weekdays()[0] //=> 'Monday'\n   * @example Info.weekdays('short')[0] //=> 'Mon'\n   * @example Info.weekdays('short', { locale: 'fr-CA' })[0] //=> 'lun.'\n   * @example Info.weekdays('short', { locale: 'ar' })[0] //=> '\u0627\u0644\u0627\u062B\u0646\u064A\u0646'\n   * @return {Array}\n   */\n  static weekdays(length = \"long\", { locale = null, numberingSystem = null, locObj = null } = {}) {\n    return (locObj || Locale.create(locale, numberingSystem, null)).weekdays(length);\n  }\n\n  /**\n   * Return an array of format week names.\n   * Format weekdays differ from standalone weekdays in that they're meant to appear next to more date information. In some languages, that\n   * changes the string.\n   * See {@link Info#weekdays}\n   * @param {string} [length='long'] - the length of the month representation, such as \"narrow\", \"short\", \"long\".\n   * @param {Object} opts - options\n   * @param {string} [opts.locale=null] - the locale code\n   * @param {string} [opts.numberingSystem=null] - the numbering system\n   * @param {string} [opts.locObj=null] - an existing locale object to use\n   * @return {Array}\n   */\n  static weekdaysFormat(\n    length = \"long\",\n    { locale = null, numberingSystem = null, locObj = null } = {}\n  ) {\n    return (locObj || Locale.create(locale, numberingSystem, null)).weekdays(length, true);\n  }\n\n  /**\n   * Return an array of meridiems.\n   * @param {Object} opts - options\n   * @param {string} [opts.locale] - the locale code\n   * @example Info.meridiems() //=> [ 'AM', 'PM' ]\n   * @example Info.meridiems({ locale: 'my' }) //=> [ '\u1014\u1036\u1014\u1000\u103A', '\u100A\u1014\u1031' ]\n   * @return {Array}\n   */\n  static meridiems({ locale = null } = {}) {\n    return Locale.create(locale).meridiems();\n  }\n\n  /**\n   * Return an array of eras, such as ['BC', 'AD']. The locale can be specified, but the calendar system is always Gregorian.\n   * @param {string} [length='short'] - the length of the era representation, such as \"short\" or \"long\".\n   * @param {Object} opts - options\n   * @param {string} [opts.locale] - the locale code\n   * @example Info.eras() //=> [ 'BC', 'AD' ]\n   * @example Info.eras('long') //=> [ 'Before Christ', 'Anno Domini' ]\n   * @example Info.eras('long', { locale: 'fr' }) //=> [ 'avant J\u00E9sus-Christ', 'apr\u00E8s J\u00E9sus-Christ' ]\n   * @return {Array}\n   */\n  static eras(length = \"short\", { locale = null } = {}) {\n    return Locale.create(locale, null, \"gregory\").eras(length);\n  }\n\n  /**\n   * Return the set of available features in this environment.\n   * Some features of Luxon are not available in all environments. For example, on older browsers, relative time formatting support is not available. Use this function to figure out if that's the case.\n   * Keys:\n   * * `relative`: whether this environment supports relative time formatting\n   * * `localeWeek`: whether this environment supports different weekdays for the start of the week based on the locale\n   * @example Info.features() //=> { relative: false, localeWeek: true }\n   * @return {Object}\n   */\n  static features() {\n    return { relative: hasRelative(), localeWeek: hasLocaleWeekInfo() };\n  }\n}\n", "import Duration from \"../duration.js\";\n\nfunction dayDiff(earlier, later) {\n  const utcDayStart = (dt) => dt.toUTC(0, { keepLocalTime: true }).startOf(\"day\").valueOf(),\n    ms = utcDayStart(later) - utcDayStart(earlier);\n  return Math.floor(Duration.fromMillis(ms).as(\"days\"));\n}\n\nfunction highOrderDiffs(cursor, later, units) {\n  const differs = [\n    [\"years\", (a, b) => b.year - a.year],\n    [\"quarters\", (a, b) => b.quarter - a.quarter + (b.year - a.year) * 4],\n    [\"months\", (a, b) => b.month - a.month + (b.year - a.year) * 12],\n    [\n      \"weeks\",\n      (a, b) => {\n        const days = dayDiff(a, b);\n        return (days - (days % 7)) / 7;\n      },\n    ],\n    [\"days\", dayDiff],\n  ];\n\n  const results = {};\n  const earlier = cursor;\n  let lowestOrder, highWater;\n\n  /* This loop tries to diff using larger units first.\n     If we overshoot, we backtrack and try the next smaller unit.\n     \"cursor\" starts out at the earlier timestamp and moves closer and closer to \"later\"\n     as we use smaller and smaller units.\n     highWater keeps track of where we would be if we added one more of the smallest unit,\n     this is used later to potentially convert any difference smaller than the smallest higher order unit\n     into a fraction of that smallest higher order unit\n  */\n  for (const [unit, differ] of differs) {\n    if (units.indexOf(unit) >= 0) {\n      lowestOrder = unit;\n\n      results[unit] = differ(cursor, later);\n      highWater = earlier.plus(results);\n\n      if (highWater > later) {\n        // we overshot the end point, backtrack cursor by 1\n        results[unit]--;\n        cursor = earlier.plus(results);\n\n        // if we are still overshooting now, we need to backtrack again\n        // this happens in certain situations when diffing times in different zones,\n        // because this calculation ignores time zones\n        if (cursor > later) {\n          // keep the \"overshot by 1\" around as highWater\n          highWater = cursor;\n          // backtrack cursor by 1\n          results[unit]--;\n          cursor = earlier.plus(results);\n        }\n      } else {\n        cursor = highWater;\n      }\n    }\n  }\n\n  return [cursor, results, highWater, lowestOrder];\n}\n\nexport default function (earlier, later, units, opts) {\n  let [cursor, results, highWater, lowestOrder] = highOrderDiffs(earlier, later, units);\n\n  const remainingMillis = later - cursor;\n\n  const lowerOrderUnits = units.filter(\n    (u) => [\"hours\", \"minutes\", \"seconds\", \"milliseconds\"].indexOf(u) >= 0\n  );\n\n  if (lowerOrderUnits.length === 0) {\n    if (highWater < later) {\n      highWater = cursor.plus({ [lowestOrder]: 1 });\n    }\n\n    if (highWater !== cursor) {\n      results[lowestOrder] = (results[lowestOrder] || 0) + remainingMillis / (highWater - cursor);\n    }\n  }\n\n  const duration = Duration.fromObject(results, opts);\n\n  if (lowerOrderUnits.length > 0) {\n    return Duration.fromMillis(remainingMillis, opts)\n      .shiftTo(...lowerOrderUnits)\n      .plus(duration);\n  } else {\n    return duration;\n  }\n}\n", "const numberingSystems = {\n  arab: \"[\\u0660-\\u0669]\",\n  arabext: \"[\\u06F0-\\u06F9]\",\n  bali: \"[\\u1B50-\\u1B59]\",\n  beng: \"[\\u09E6-\\u09EF]\",\n  deva: \"[\\u0966-\\u096F]\",\n  fullwide: \"[\\uFF10-\\uFF19]\",\n  gujr: \"[\\u0AE6-\\u0AEF]\",\n  hanidec: \"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]\",\n  khmr: \"[\\u17E0-\\u17E9]\",\n  knda: \"[\\u0CE6-\\u0CEF]\",\n  laoo: \"[\\u0ED0-\\u0ED9]\",\n  limb: \"[\\u1946-\\u194F]\",\n  mlym: \"[\\u0D66-\\u0D6F]\",\n  mong: \"[\\u1810-\\u1819]\",\n  mymr: \"[\\u1040-\\u1049]\",\n  orya: \"[\\u0B66-\\u0B6F]\",\n  tamldec: \"[\\u0BE6-\\u0BEF]\",\n  telu: \"[\\u0C66-\\u0C6F]\",\n  thai: \"[\\u0E50-\\u0E59]\",\n  tibt: \"[\\u0F20-\\u0F29]\",\n  latn: \"\\\\d\",\n};\n\nconst numberingSystemsUTF16 = {\n  arab: [1632, 1641],\n  arabext: [1776, 1785],\n  bali: [6992, 7001],\n  beng: [2534, 2543],\n  deva: [2406, 2415],\n  fullwide: [65296, 65303],\n  gujr: [2790, 2799],\n  khmr: [6112, 6121],\n  knda: [3302, 3311],\n  laoo: [3792, 3801],\n  limb: [6470, 6479],\n  mlym: [3430, 3439],\n  mong: [6160, 6169],\n  mymr: [4160, 4169],\n  orya: [2918, 2927],\n  tamldec: [3046, 3055],\n  telu: [3174, 3183],\n  thai: [3664, 3673],\n  tibt: [3872, 3881],\n};\n\nconst hanidecChars = numberingSystems.hanidec.replace(/[\\[|\\]]/g, \"\").split(\"\");\n\nexport function parseDigits(str) {\n  let value = parseInt(str, 10);\n  if (isNaN(value)) {\n    value = \"\";\n    for (let i = 0; i < str.length; i++) {\n      const code = str.charCodeAt(i);\n\n      if (str[i].search(numberingSystems.hanidec) !== -1) {\n        value += hanidecChars.indexOf(str[i]);\n      } else {\n        for (const key in numberingSystemsUTF16) {\n          const [min, max] = numberingSystemsUTF16[key];\n          if (code >= min && code <= max) {\n            value += code - min;\n          }\n        }\n      }\n    }\n    return parseInt(value, 10);\n  } else {\n    return value;\n  }\n}\n\nexport function digitRegex({ numberingSystem }, append = \"\") {\n  return new RegExp(`${numberingSystems[numberingSystem || \"latn\"]}${append}`);\n}\n", "import { parseMillis, isUndefined, untruncateYear, signedOffset, hasOwnProperty } from \"./util.js\";\nimport Formatter from \"./formatter.js\";\nimport FixedOffsetZone from \"../zones/fixedOffsetZone.js\";\nimport IANAZone from \"../zones/IANAZone.js\";\nimport DateTime from \"../datetime.js\";\nimport { digitRegex, parseDigits } from \"./digits.js\";\nimport { ConflictingSpecificationError } from \"../errors.js\";\n\nconst MISSING_FTP = \"missing Intl.DateTimeFormat.formatToParts support\";\n\nfunction intUnit(regex, post = (i) => i) {\n  return { regex, deser: ([s]) => post(parseDigits(s)) };\n}\n\nconst NBSP = String.fromCharCode(160);\nconst spaceOrNBSP = `[ ${NBSP}]`;\nconst spaceOrNBSPRegExp = new RegExp(spaceOrNBSP, \"g\");\n\nfunction fixListRegex(s) {\n  // make dots optional and also make them literal\n  // make space and non breakable space characters interchangeable\n  return s.replace(/\\./g, \"\\\\.?\").replace(spaceOrNBSPRegExp, spaceOrNBSP);\n}\n\nfunction stripInsensitivities(s) {\n  return s\n    .replace(/\\./g, \"\") // ignore dots that were made optional\n    .replace(spaceOrNBSPRegExp, \" \") // interchange space and nbsp\n    .toLowerCase();\n}\n\nfunction oneOf(strings, startIndex) {\n  if (strings === null) {\n    return null;\n  } else {\n    return {\n      regex: RegExp(strings.map(fixListRegex).join(\"|\")),\n      deser: ([s]) =>\n        strings.findIndex((i) => stripInsensitivities(s) === stripInsensitivities(i)) + startIndex,\n    };\n  }\n}\n\nfunction offset(regex, groups) {\n  return { regex, deser: ([, h, m]) => signedOffset(h, m), groups };\n}\n\nfunction simple(regex) {\n  return { regex, deser: ([s]) => s };\n}\n\nfunction escapeToken(value) {\n  return value.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g, \"\\\\$&\");\n}\n\n/**\n * @param token\n * @param {Locale} loc\n */\nfunction unitForToken(token, loc) {\n  const one = digitRegex(loc),\n    two = digitRegex(loc, \"{2}\"),\n    three = digitRegex(loc, \"{3}\"),\n    four = digitRegex(loc, \"{4}\"),\n    six = digitRegex(loc, \"{6}\"),\n    oneOrTwo = digitRegex(loc, \"{1,2}\"),\n    oneToThree = digitRegex(loc, \"{1,3}\"),\n    oneToSix = digitRegex(loc, \"{1,6}\"),\n    oneToNine = digitRegex(loc, \"{1,9}\"),\n    twoToFour = digitRegex(loc, \"{2,4}\"),\n    fourToSix = digitRegex(loc, \"{4,6}\"),\n    literal = (t) => ({ regex: RegExp(escapeToken(t.val)), deser: ([s]) => s, literal: true }),\n    unitate = (t) => {\n      if (token.literal) {\n        return literal(t);\n      }\n      switch (t.val) {\n        // era\n        case \"G\":\n          return oneOf(loc.eras(\"short\"), 0);\n        case \"GG\":\n          return oneOf(loc.eras(\"long\"), 0);\n        // years\n        case \"y\":\n          return intUnit(oneToSix);\n        case \"yy\":\n          return intUnit(twoToFour, untruncateYear);\n        case \"yyyy\":\n          return intUnit(four);\n        case \"yyyyy\":\n          return intUnit(fourToSix);\n        case \"yyyyyy\":\n          return intUnit(six);\n        // months\n        case \"M\":\n          return intUnit(oneOrTwo);\n        case \"MM\":\n          return intUnit(two);\n        case \"MMM\":\n          return oneOf(loc.months(\"short\", true), 1);\n        case \"MMMM\":\n          return oneOf(loc.months(\"long\", true), 1);\n        case \"L\":\n          return intUnit(oneOrTwo);\n        case \"LL\":\n          return intUnit(two);\n        case \"LLL\":\n          return oneOf(loc.months(\"short\", false), 1);\n        case \"LLLL\":\n          return oneOf(loc.months(\"long\", false), 1);\n        // dates\n        case \"d\":\n          return intUnit(oneOrTwo);\n        case \"dd\":\n          return intUnit(two);\n        // ordinals\n        case \"o\":\n          return intUnit(oneToThree);\n        case \"ooo\":\n          return intUnit(three);\n        // time\n        case \"HH\":\n          return intUnit(two);\n        case \"H\":\n          return intUnit(oneOrTwo);\n        case \"hh\":\n          return intUnit(two);\n        case \"h\":\n          return intUnit(oneOrTwo);\n        case \"mm\":\n          return intUnit(two);\n        case \"m\":\n          return intUnit(oneOrTwo);\n        case \"q\":\n          return intUnit(oneOrTwo);\n        case \"qq\":\n          return intUnit(two);\n        case \"s\":\n          return intUnit(oneOrTwo);\n        case \"ss\":\n          return intUnit(two);\n        case \"S\":\n          return intUnit(oneToThree);\n        case \"SSS\":\n          return intUnit(three);\n        case \"u\":\n          return simple(oneToNine);\n        case \"uu\":\n          return simple(oneOrTwo);\n        case \"uuu\":\n          return intUnit(one);\n        // meridiem\n        case \"a\":\n          return oneOf(loc.meridiems(), 0);\n        // weekYear (k)\n        case \"kkkk\":\n          return intUnit(four);\n        case \"kk\":\n          return intUnit(twoToFour, untruncateYear);\n        // weekNumber (W)\n        case \"W\":\n          return intUnit(oneOrTwo);\n        case \"WW\":\n          return intUnit(two);\n        // weekdays\n        case \"E\":\n        case \"c\":\n          return intUnit(one);\n        case \"EEE\":\n          return oneOf(loc.weekdays(\"short\", false), 1);\n        case \"EEEE\":\n          return oneOf(loc.weekdays(\"long\", false), 1);\n        case \"ccc\":\n          return oneOf(loc.weekdays(\"short\", true), 1);\n        case \"cccc\":\n          return oneOf(loc.weekdays(\"long\", true), 1);\n        // offset/zone\n        case \"Z\":\n        case \"ZZ\":\n          return offset(new RegExp(`([+-]${oneOrTwo.source})(?::(${two.source}))?`), 2);\n        case \"ZZZ\":\n          return offset(new RegExp(`([+-]${oneOrTwo.source})(${two.source})?`), 2);\n        // we don't support ZZZZ (PST) or ZZZZZ (Pacific Standard Time) in parsing\n        // because we don't have any way to figure out what they are\n        case \"z\":\n          return simple(/[a-z_+-/]{1,256}?/i);\n        // this special-case \"token\" represents a place where a macro-token expanded into a white-space literal\n        // in this case we accept any non-newline white-space\n        case \" \":\n          return simple(/[^\\S\\n\\r]/);\n        default:\n          return literal(t);\n      }\n    };\n\n  const unit = unitate(token) || {\n    invalidReason: MISSING_FTP,\n  };\n\n  unit.token = token;\n\n  return unit;\n}\n\nconst partTypeStyleToTokenVal = {\n  year: {\n    \"2-digit\": \"yy\",\n    numeric: \"yyyyy\",\n  },\n  month: {\n    numeric: \"M\",\n    \"2-digit\": \"MM\",\n    short: \"MMM\",\n    long: \"MMMM\",\n  },\n  day: {\n    numeric: \"d\",\n    \"2-digit\": \"dd\",\n  },\n  weekday: {\n    short: \"EEE\",\n    long: \"EEEE\",\n  },\n  dayperiod: \"a\",\n  dayPeriod: \"a\",\n  hour12: {\n    numeric: \"h\",\n    \"2-digit\": \"hh\",\n  },\n  hour24: {\n    numeric: \"H\",\n    \"2-digit\": \"HH\",\n  },\n  minute: {\n    numeric: \"m\",\n    \"2-digit\": \"mm\",\n  },\n  second: {\n    numeric: \"s\",\n    \"2-digit\": \"ss\",\n  },\n  timeZoneName: {\n    long: \"ZZZZZ\",\n    short: \"ZZZ\",\n  },\n};\n\nfunction tokenForPart(part, formatOpts, resolvedOpts) {\n  const { type, value } = part;\n\n  if (type === \"literal\") {\n    const isSpace = /^\\s+$/.test(value);\n    return {\n      literal: !isSpace,\n      val: isSpace ? \" \" : value,\n    };\n  }\n\n  const style = formatOpts[type];\n\n  // The user might have explicitly specified hour12 or hourCycle\n  // if so, respect their decision\n  // if not, refer back to the resolvedOpts, which are based on the locale\n  let actualType = type;\n  if (type === \"hour\") {\n    if (formatOpts.hour12 != null) {\n      actualType = formatOpts.hour12 ? \"hour12\" : \"hour24\";\n    } else if (formatOpts.hourCycle != null) {\n      if (formatOpts.hourCycle === \"h11\" || formatOpts.hourCycle === \"h12\") {\n        actualType = \"hour12\";\n      } else {\n        actualType = \"hour24\";\n      }\n    } else {\n      // tokens only differentiate between 24 hours or not,\n      // so we do not need to check hourCycle here, which is less supported anyways\n      actualType = resolvedOpts.hour12 ? \"hour12\" : \"hour24\";\n    }\n  }\n  let val = partTypeStyleToTokenVal[actualType];\n  if (typeof val === \"object\") {\n    val = val[style];\n  }\n\n  if (val) {\n    return {\n      literal: false,\n      val,\n    };\n  }\n\n  return undefined;\n}\n\nfunction buildRegex(units) {\n  const re = units.map((u) => u.regex).reduce((f, r) => `${f}(${r.source})`, \"\");\n  return [`^${re}$`, units];\n}\n\nfunction match(input, regex, handlers) {\n  const matches = input.match(regex);\n\n  if (matches) {\n    const all = {};\n    let matchIndex = 1;\n    for (const i in handlers) {\n      if (hasOwnProperty(handlers, i)) {\n        const h = handlers[i],\n          groups = h.groups ? h.groups + 1 : 1;\n        if (!h.literal && h.token) {\n          all[h.token.val[0]] = h.deser(matches.slice(matchIndex, matchIndex + groups));\n        }\n        matchIndex += groups;\n      }\n    }\n    return [matches, all];\n  } else {\n    return [matches, {}];\n  }\n}\n\nfunction dateTimeFromMatches(matches) {\n  const toField = (token) => {\n    switch (token) {\n      case \"S\":\n        return \"millisecond\";\n      case \"s\":\n        return \"second\";\n      case \"m\":\n        return \"minute\";\n      case \"h\":\n      case \"H\":\n        return \"hour\";\n      case \"d\":\n        return \"day\";\n      case \"o\":\n        return \"ordinal\";\n      case \"L\":\n      case \"M\":\n        return \"month\";\n      case \"y\":\n        return \"year\";\n      case \"E\":\n      case \"c\":\n        return \"weekday\";\n      case \"W\":\n        return \"weekNumber\";\n      case \"k\":\n        return \"weekYear\";\n      case \"q\":\n        return \"quarter\";\n      default:\n        return null;\n    }\n  };\n\n  let zone = null;\n  let specificOffset;\n  if (!isUndefined(matches.z)) {\n    zone = IANAZone.create(matches.z);\n  }\n\n  if (!isUndefined(matches.Z)) {\n    if (!zone) {\n      zone = new FixedOffsetZone(matches.Z);\n    }\n    specificOffset = matches.Z;\n  }\n\n  if (!isUndefined(matches.q)) {\n    matches.M = (matches.q - 1) * 3 + 1;\n  }\n\n  if (!isUndefined(matches.h)) {\n    if (matches.h < 12 && matches.a === 1) {\n      matches.h += 12;\n    } else if (matches.h === 12 && matches.a === 0) {\n      matches.h = 0;\n    }\n  }\n\n  if (matches.G === 0 && matches.y) {\n    matches.y = -matches.y;\n  }\n\n  if (!isUndefined(matches.u)) {\n    matches.S = parseMillis(matches.u);\n  }\n\n  const vals = Object.keys(matches).reduce((r, k) => {\n    const f = toField(k);\n    if (f) {\n      r[f] = matches[k];\n    }\n\n    return r;\n  }, {});\n\n  return [vals, zone, specificOffset];\n}\n\nlet dummyDateTimeCache = null;\n\nfunction getDummyDateTime() {\n  if (!dummyDateTimeCache) {\n    dummyDateTimeCache = DateTime.fromMillis(1555555555555);\n  }\n\n  return dummyDateTimeCache;\n}\n\nfunction maybeExpandMacroToken(token, locale) {\n  if (token.literal) {\n    return token;\n  }\n\n  const formatOpts = Formatter.macroTokenToFormatOpts(token.val);\n  const tokens = formatOptsToTokens(formatOpts, locale);\n\n  if (tokens == null || tokens.includes(undefined)) {\n    return token;\n  }\n\n  return tokens;\n}\n\nexport function expandMacroTokens(tokens, locale) {\n  return Array.prototype.concat(...tokens.map((t) => maybeExpandMacroToken(t, locale)));\n}\n\n/**\n * @private\n */\n\nexport function explainFromTokens(locale, input, format) {\n  const tokens = expandMacroTokens(Formatter.parseFormat(format), locale),\n    units = tokens.map((t) => unitForToken(t, locale)),\n    disqualifyingUnit = units.find((t) => t.invalidReason);\n\n  if (disqualifyingUnit) {\n    return { input, tokens, invalidReason: disqualifyingUnit.invalidReason };\n  } else {\n    const [regexString, handlers] = buildRegex(units),\n      regex = RegExp(regexString, \"i\"),\n      [rawMatches, matches] = match(input, regex, handlers),\n      [result, zone, specificOffset] = matches\n        ? dateTimeFromMatches(matches)\n        : [null, null, undefined];\n    if (hasOwnProperty(matches, \"a\") && hasOwnProperty(matches, \"H\")) {\n      throw new ConflictingSpecificationError(\n        \"Can't include meridiem when specifying 24-hour format\"\n      );\n    }\n    return { input, tokens, regex, rawMatches, matches, result, zone, specificOffset };\n  }\n}\n\nexport function parseFromTokens(locale, input, format) {\n  const { result, zone, specificOffset, invalidReason } = explainFromTokens(locale, input, format);\n  return [result, zone, specificOffset, invalidReason];\n}\n\nexport function formatOptsToTokens(formatOpts, locale) {\n  if (!formatOpts) {\n    return null;\n  }\n\n  const formatter = Formatter.create(locale, formatOpts);\n  const df = formatter.dtFormatter(getDummyDateTime());\n  const parts = df.formatToParts();\n  const resolvedOpts = df.resolvedOptions();\n  return parts.map((p) => tokenForPart(p, formatOpts, resolvedOpts));\n}\n", "import Duration from \"./duration.js\";\nimport Interval from \"./interval.js\";\nimport Settings from \"./settings.js\";\nimport Info from \"./info.js\";\nimport Formatter from \"./impl/formatter.js\";\nimport FixedOffsetZone from \"./zones/fixedOffsetZone.js\";\nimport Locale from \"./impl/locale.js\";\nimport {\n  isUndefined,\n  maybeArray,\n  isDate,\n  isNumber,\n  bestBy,\n  daysInMonth,\n  daysInYear,\n  isLeapYear,\n  weeksInWeekYear,\n  normalizeObject,\n  roundTo,\n  objToLocalTS,\n  padStart,\n} from \"./impl/util.js\";\nimport { normalizeZone } from \"./impl/zoneUtil.js\";\nimport diff from \"./impl/diff.js\";\nimport { parseRFC2822Date, parseISODate, parseHTTPDate, parseSQL } from \"./impl/regexParser.js\";\nimport {\n  parseFromTokens,\n  explainFromTokens,\n  formatOptsToTokens,\n  expandMacroTokens,\n} from \"./impl/tokenParser.js\";\nimport {\n  gregorianToWeek,\n  weekToGregorian,\n  gregorianToOrdinal,\n  ordinalToGregorian,\n  hasInvalidGregorianData,\n  hasInvalidWeekData,\n  hasInvalidOrdinalData,\n  hasInvalidTimeData,\n  usesLocalWeekValues,\n  isoWeekdayToLocal,\n} from \"./impl/conversions.js\";\nimport * as Formats from \"./impl/formats.js\";\nimport {\n  InvalidArgumentError,\n  ConflictingSpecificationError,\n  InvalidUnitError,\n  InvalidDateTimeError,\n} from \"./errors.js\";\nimport Invalid from \"./impl/invalid.js\";\n\nconst INVALID = \"Invalid DateTime\";\nconst MAX_DATE = 8.64e15;\n\nfunction unsupportedZone(zone) {\n  return new Invalid(\"unsupported zone\", `the zone \"${zone.name}\" is not supported`);\n}\n\n// we cache week data on the DT object and this intermediates the cache\n/**\n * @param {DateTime} dt\n */\nfunction possiblyCachedWeekData(dt) {\n  if (dt.weekData === null) {\n    dt.weekData = gregorianToWeek(dt.c);\n  }\n  return dt.weekData;\n}\n\n/**\n * @param {DateTime} dt\n */\nfunction possiblyCachedLocalWeekData(dt) {\n  if (dt.localWeekData === null) {\n    dt.localWeekData = gregorianToWeek(\n      dt.c,\n      dt.loc.getMinDaysInFirstWeek(),\n      dt.loc.getStartOfWeek()\n    );\n  }\n  return dt.localWeekData;\n}\n\n// clone really means, \"make a new object with these modifications\". all \"setters\" really use this\n// to create a new object while only changing some of the properties\nfunction clone(inst, alts) {\n  const current = {\n    ts: inst.ts,\n    zone: inst.zone,\n    c: inst.c,\n    o: inst.o,\n    loc: inst.loc,\n    invalid: inst.invalid,\n  };\n  return new DateTime({ ...current, ...alts, old: current });\n}\n\n// find the right offset a given local time. The o input is our guess, which determines which\n// offset we'll pick in ambiguous cases (e.g. there are two 3 AMs b/c Fallback DST)\nfunction fixOffset(localTS, o, tz) {\n  // Our UTC time is just a guess because our offset is just a guess\n  let utcGuess = localTS - o * 60 * 1000;\n\n  // Test whether the zone matches the offset for this ts\n  const o2 = tz.offset(utcGuess);\n\n  // If so, offset didn't change and we're done\n  if (o === o2) {\n    return [utcGuess, o];\n  }\n\n  // If not, change the ts by the difference in the offset\n  utcGuess -= (o2 - o) * 60 * 1000;\n\n  // If that gives us the local time we want, we're done\n  const o3 = tz.offset(utcGuess);\n  if (o2 === o3) {\n    return [utcGuess, o2];\n  }\n\n  // If it's different, we're in a hole time. The offset has changed, but the we don't adjust the time\n  return [localTS - Math.min(o2, o3) * 60 * 1000, Math.max(o2, o3)];\n}\n\n// convert an epoch timestamp into a calendar object with the given offset\nfunction tsToObj(ts, offset) {\n  ts += offset * 60 * 1000;\n\n  const d = new Date(ts);\n\n  return {\n    year: d.getUTCFullYear(),\n    month: d.getUTCMonth() + 1,\n    day: d.getUTCDate(),\n    hour: d.getUTCHours(),\n    minute: d.getUTCMinutes(),\n    second: d.getUTCSeconds(),\n    millisecond: d.getUTCMilliseconds(),\n  };\n}\n\n// convert a calendar object to a epoch timestamp\nfunction objToTS(obj, offset, zone) {\n  return fixOffset(objToLocalTS(obj), offset, zone);\n}\n\n// create a new DT instance by adding a duration, adjusting for DSTs\nfunction adjustTime(inst, dur) {\n  const oPre = inst.o,\n    year = inst.c.year + Math.trunc(dur.years),\n    month = inst.c.month + Math.trunc(dur.months) + Math.trunc(dur.quarters) * 3,\n    c = {\n      ...inst.c,\n      year,\n      month,\n      day:\n        Math.min(inst.c.day, daysInMonth(year, month)) +\n        Math.trunc(dur.days) +\n        Math.trunc(dur.weeks) * 7,\n    },\n    millisToAdd = Duration.fromObject({\n      years: dur.years - Math.trunc(dur.years),\n      quarters: dur.quarters - Math.trunc(dur.quarters),\n      months: dur.months - Math.trunc(dur.months),\n      weeks: dur.weeks - Math.trunc(dur.weeks),\n      days: dur.days - Math.trunc(dur.days),\n      hours: dur.hours,\n      minutes: dur.minutes,\n      seconds: dur.seconds,\n      milliseconds: dur.milliseconds,\n    }).as(\"milliseconds\"),\n    localTS = objToLocalTS(c);\n\n  let [ts, o] = fixOffset(localTS, oPre, inst.zone);\n\n  if (millisToAdd !== 0) {\n    ts += millisToAdd;\n    // that could have changed the offset by going over a DST, but we want to keep the ts the same\n    o = inst.zone.offset(ts);\n  }\n\n  return { ts, o };\n}\n\n// helper useful in turning the results of parsing into real dates\n// by handling the zone options\nfunction parseDataToDateTime(parsed, parsedZone, opts, format, text, specificOffset) {\n  const { setZone, zone } = opts;\n  if ((parsed && Object.keys(parsed).length !== 0) || parsedZone) {\n    const interpretationZone = parsedZone || zone,\n      inst = DateTime.fromObject(parsed, {\n        ...opts,\n        zone: interpretationZone,\n        specificOffset,\n      });\n    return setZone ? inst : inst.setZone(zone);\n  } else {\n    return DateTime.invalid(\n      new Invalid(\"unparsable\", `the input \"${text}\" can't be parsed as ${format}`)\n    );\n  }\n}\n\n// if you want to output a technical format (e.g. RFC 2822), this helper\n// helps handle the details\nfunction toTechFormat(dt, format, allowZ = true) {\n  return dt.isValid\n    ? Formatter.create(Locale.create(\"en-US\"), {\n        allowZ,\n        forceSimple: true,\n      }).formatDateTimeFromString(dt, format)\n    : null;\n}\n\nfunction toISODate(o, extended) {\n  const longFormat = o.c.year > 9999 || o.c.year < 0;\n  let c = \"\";\n  if (longFormat && o.c.year >= 0) c += \"+\";\n  c += padStart(o.c.year, longFormat ? 6 : 4);\n\n  if (extended) {\n    c += \"-\";\n    c += padStart(o.c.month);\n    c += \"-\";\n    c += padStart(o.c.day);\n  } else {\n    c += padStart(o.c.month);\n    c += padStart(o.c.day);\n  }\n  return c;\n}\n\nfunction toISOTime(\n  o,\n  extended,\n  suppressSeconds,\n  suppressMilliseconds,\n  includeOffset,\n  extendedZone\n) {\n  let c = padStart(o.c.hour);\n  if (extended) {\n    c += \":\";\n    c += padStart(o.c.minute);\n    if (o.c.millisecond !== 0 || o.c.second !== 0 || !suppressSeconds) {\n      c += \":\";\n    }\n  } else {\n    c += padStart(o.c.minute);\n  }\n\n  if (o.c.millisecond !== 0 || o.c.second !== 0 || !suppressSeconds) {\n    c += padStart(o.c.second);\n\n    if (o.c.millisecond !== 0 || !suppressMilliseconds) {\n      c += \".\";\n      c += padStart(o.c.millisecond, 3);\n    }\n  }\n\n  if (includeOffset) {\n    if (o.isOffsetFixed && o.offset === 0 && !extendedZone) {\n      c += \"Z\";\n    } else if (o.o < 0) {\n      c += \"-\";\n      c += padStart(Math.trunc(-o.o / 60));\n      c += \":\";\n      c += padStart(Math.trunc(-o.o % 60));\n    } else {\n      c += \"+\";\n      c += padStart(Math.trunc(o.o / 60));\n      c += \":\";\n      c += padStart(Math.trunc(o.o % 60));\n    }\n  }\n\n  if (extendedZone) {\n    c += \"[\" + o.zone.ianaName + \"]\";\n  }\n  return c;\n}\n\n// defaults for unspecified units in the supported calendars\nconst defaultUnitValues = {\n    month: 1,\n    day: 1,\n    hour: 0,\n    minute: 0,\n    second: 0,\n    millisecond: 0,\n  },\n  defaultWeekUnitValues = {\n    weekNumber: 1,\n    weekday: 1,\n    hour: 0,\n    minute: 0,\n    second: 0,\n    millisecond: 0,\n  },\n  defaultOrdinalUnitValues = {\n    ordinal: 1,\n    hour: 0,\n    minute: 0,\n    second: 0,\n    millisecond: 0,\n  };\n\n// Units in the supported calendars, sorted by bigness\nconst orderedUnits = [\"year\", \"month\", \"day\", \"hour\", \"minute\", \"second\", \"millisecond\"],\n  orderedWeekUnits = [\n    \"weekYear\",\n    \"weekNumber\",\n    \"weekday\",\n    \"hour\",\n    \"minute\",\n    \"second\",\n    \"millisecond\",\n  ],\n  orderedOrdinalUnits = [\"year\", \"ordinal\", \"hour\", \"minute\", \"second\", \"millisecond\"];\n\n// standardize case and plurality in units\nfunction normalizeUnit(unit) {\n  const normalized = {\n    year: \"year\",\n    years: \"year\",\n    month: \"month\",\n    months: \"month\",\n    day: \"day\",\n    days: \"day\",\n    hour: \"hour\",\n    hours: \"hour\",\n    minute: \"minute\",\n    minutes: \"minute\",\n    quarter: \"quarter\",\n    quarters: \"quarter\",\n    second: \"second\",\n    seconds: \"second\",\n    millisecond: \"millisecond\",\n    milliseconds: \"millisecond\",\n    weekday: \"weekday\",\n    weekdays: \"weekday\",\n    weeknumber: \"weekNumber\",\n    weeksnumber: \"weekNumber\",\n    weeknumbers: \"weekNumber\",\n    weekyear: \"weekYear\",\n    weekyears: \"weekYear\",\n    ordinal: \"ordinal\",\n  }[unit.toLowerCase()];\n\n  if (!normalized) throw new InvalidUnitError(unit);\n\n  return normalized;\n}\n\nfunction normalizeUnitWithLocalWeeks(unit) {\n  switch (unit.toLowerCase()) {\n    case \"localweekday\":\n    case \"localweekdays\":\n      return \"localWeekday\";\n    case \"localweeknumber\":\n    case \"localweeknumbers\":\n      return \"localWeekNumber\";\n    case \"localweekyear\":\n    case \"localweekyears\":\n      return \"localWeekYear\";\n    default:\n      return normalizeUnit(unit);\n  }\n}\n\n// this is a dumbed down version of fromObject() that runs about 60% faster\n// but doesn't do any validation, makes a bunch of assumptions about what units\n// are present, and so on.\nfunction quickDT(obj, opts) {\n  const zone = normalizeZone(opts.zone, Settings.defaultZone),\n    loc = Locale.fromObject(opts),\n    tsNow = Settings.now();\n\n  let ts, o;\n\n  // assume we have the higher-order units\n  if (!isUndefined(obj.year)) {\n    for (const u of orderedUnits) {\n      if (isUndefined(obj[u])) {\n        obj[u] = defaultUnitValues[u];\n      }\n    }\n\n    const invalid = hasInvalidGregorianData(obj) || hasInvalidTimeData(obj);\n    if (invalid) {\n      return DateTime.invalid(invalid);\n    }\n\n    const offsetProvis = zone.offset(tsNow);\n    [ts, o] = objToTS(obj, offsetProvis, zone);\n  } else {\n    ts = tsNow;\n  }\n\n  return new DateTime({ ts, zone, loc, o });\n}\n\nfunction diffRelative(start, end, opts) {\n  const round = isUndefined(opts.round) ? true : opts.round,\n    format = (c, unit) => {\n      c = roundTo(c, round || opts.calendary ? 0 : 2, true);\n      const formatter = end.loc.clone(opts).relFormatter(opts);\n      return formatter.format(c, unit);\n    },\n    differ = (unit) => {\n      if (opts.calendary) {\n        if (!end.hasSame(start, unit)) {\n          return end.startOf(unit).diff(start.startOf(unit), unit).get(unit);\n        } else return 0;\n      } else {\n        return end.diff(start, unit).get(unit);\n      }\n    };\n\n  if (opts.unit) {\n    return format(differ(opts.unit), opts.unit);\n  }\n\n  for (const unit of opts.units) {\n    const count = differ(unit);\n    if (Math.abs(count) >= 1) {\n      return format(count, unit);\n    }\n  }\n  return format(start > end ? -0 : 0, opts.units[opts.units.length - 1]);\n}\n\nfunction lastOpts(argList) {\n  let opts = {},\n    args;\n  if (argList.length > 0 && typeof argList[argList.length - 1] === \"object\") {\n    opts = argList[argList.length - 1];\n    args = Array.from(argList).slice(0, argList.length - 1);\n  } else {\n    args = Array.from(argList);\n  }\n  return [opts, args];\n}\n\n/**\n * A DateTime is an immutable data structure representing a specific date and time and accompanying methods. It contains class and instance methods for creating, parsing, interrogating, transforming, and formatting them.\n *\n * A DateTime comprises of:\n * * A timestamp. Each DateTime instance refers to a specific millisecond of the Unix epoch.\n * * A time zone. Each instance is considered in the context of a specific zone (by default the local system's zone).\n * * Configuration properties that effect how output strings are formatted, such as `locale`, `numberingSystem`, and `outputCalendar`.\n *\n * Here is a brief overview of the most commonly used functionality it provides:\n *\n * * **Creation**: To create a DateTime from its components, use one of its factory class methods: {@link DateTime.local}, {@link DateTime.utc}, and (most flexibly) {@link DateTime.fromObject}. To create one from a standard string format, use {@link DateTime.fromISO}, {@link DateTime.fromHTTP}, and {@link DateTime.fromRFC2822}. To create one from a custom string format, use {@link DateTime.fromFormat}. To create one from a native JS date, use {@link DateTime.fromJSDate}.\n * * **Gregorian calendar and time**: To examine the Gregorian properties of a DateTime individually (i.e as opposed to collectively through {@link DateTime#toObject}), use the {@link DateTime#year}, {@link DateTime#month},\n * {@link DateTime#day}, {@link DateTime#hour}, {@link DateTime#minute}, {@link DateTime#second}, {@link DateTime#millisecond} accessors.\n * * **Week calendar**: For ISO week calendar attributes, see the {@link DateTime#weekYear}, {@link DateTime#weekNumber}, and {@link DateTime#weekday} accessors.\n * * **Configuration** See the {@link DateTime#locale} and {@link DateTime#numberingSystem} accessors.\n * * **Transformation**: To transform the DateTime into other DateTimes, use {@link DateTime#set}, {@link DateTime#reconfigure}, {@link DateTime#setZone}, {@link DateTime#setLocale}, {@link DateTime.plus}, {@link DateTime#minus}, {@link DateTime#endOf}, {@link DateTime#startOf}, {@link DateTime#toUTC}, and {@link DateTime#toLocal}.\n * * **Output**: To convert the DateTime to other representations, use the {@link DateTime#toRelative}, {@link DateTime#toRelativeCalendar}, {@link DateTime#toJSON}, {@link DateTime#toISO}, {@link DateTime#toHTTP}, {@link DateTime#toObject}, {@link DateTime#toRFC2822}, {@link DateTime#toString}, {@link DateTime#toLocaleString}, {@link DateTime#toFormat}, {@link DateTime#toMillis} and {@link DateTime#toJSDate}.\n *\n * There's plenty others documented below. In addition, for more information on subtler topics like internationalization, time zones, alternative calendars, validity, and so on, see the external documentation.\n */\nexport default class DateTime {\n  /**\n   * @access private\n   */\n  constructor(config) {\n    const zone = config.zone || Settings.defaultZone;\n\n    let invalid =\n      config.invalid ||\n      (Number.isNaN(config.ts) ? new Invalid(\"invalid input\") : null) ||\n      (!zone.isValid ? unsupportedZone(zone) : null);\n    /**\n     * @access private\n     */\n    this.ts = isUndefined(config.ts) ? Settings.now() : config.ts;\n\n    let c = null,\n      o = null;\n    if (!invalid) {\n      const unchanged = config.old && config.old.ts === this.ts && config.old.zone.equals(zone);\n\n      if (unchanged) {\n        [c, o] = [config.old.c, config.old.o];\n      } else {\n        const ot = zone.offset(this.ts);\n        c = tsToObj(this.ts, ot);\n        invalid = Number.isNaN(c.year) ? new Invalid(\"invalid input\") : null;\n        c = invalid ? null : c;\n        o = invalid ? null : ot;\n      }\n    }\n\n    /**\n     * @access private\n     */\n    this._zone = zone;\n    /**\n     * @access private\n     */\n    this.loc = config.loc || Locale.create();\n    /**\n     * @access private\n     */\n    this.invalid = invalid;\n    /**\n     * @access private\n     */\n    this.weekData = null;\n    /**\n     * @access private\n     */\n    this.localWeekData = null;\n    /**\n     * @access private\n     */\n    this.c = c;\n    /**\n     * @access private\n     */\n    this.o = o;\n    /**\n     * @access private\n     */\n    this.isLuxonDateTime = true;\n  }\n\n  // CONSTRUCT\n\n  /**\n   * Create a DateTime for the current instant, in the system's time zone.\n   *\n   * Use Settings to override these default values if needed.\n   * @example DateTime.now().toISO() //~> now in the ISO format\n   * @return {DateTime}\n   */\n  static now() {\n    return new DateTime({});\n  }\n\n  /**\n   * Create a local DateTime\n   * @param {number} [year] - The calendar year. If omitted (as in, call `local()` with no arguments), the current time will be used\n   * @param {number} [month=1] - The month, 1-indexed\n   * @param {number} [day=1] - The day of the month, 1-indexed\n   * @param {number} [hour=0] - The hour of the day, in 24-hour time\n   * @param {number} [minute=0] - The minute of the hour, meaning a number between 0 and 59\n   * @param {number} [second=0] - The second of the minute, meaning a number between 0 and 59\n   * @param {number} [millisecond=0] - The millisecond of the second, meaning a number between 0 and 999\n   * @example DateTime.local()                                  //~> now\n   * @example DateTime.local({ zone: \"America/New_York\" })      //~> now, in US east coast time\n   * @example DateTime.local(2017)                              //~> 2017-01-01T00:00:00\n   * @example DateTime.local(2017, 3)                           //~> 2017-03-01T00:00:00\n   * @example DateTime.local(2017, 3, 12, { locale: \"fr\" })     //~> 2017-03-12T00:00:00, with a French locale\n   * @example DateTime.local(2017, 3, 12, 5)                    //~> 2017-03-12T05:00:00\n   * @example DateTime.local(2017, 3, 12, 5, { zone: \"utc\" })   //~> 2017-03-12T05:00:00, in UTC\n   * @example DateTime.local(2017, 3, 12, 5, 45)                //~> 2017-03-12T05:45:00\n   * @example DateTime.local(2017, 3, 12, 5, 45, 10)            //~> 2017-03-12T05:45:10\n   * @example DateTime.local(2017, 3, 12, 5, 45, 10, 765)       //~> 2017-03-12T05:45:10.765\n   * @return {DateTime}\n   */\n  static local() {\n    const [opts, args] = lastOpts(arguments),\n      [year, month, day, hour, minute, second, millisecond] = args;\n    return quickDT({ year, month, day, hour, minute, second, millisecond }, opts);\n  }\n\n  /**\n   * Create a DateTime in UTC\n   * @param {number} [year] - The calendar year. If omitted (as in, call `utc()` with no arguments), the current time will be used\n   * @param {number} [month=1] - The month, 1-indexed\n   * @param {number} [day=1] - The day of the month\n   * @param {number} [hour=0] - The hour of the day, in 24-hour time\n   * @param {number} [minute=0] - The minute of the hour, meaning a number between 0 and 59\n   * @param {number} [second=0] - The second of the minute, meaning a number between 0 and 59\n   * @param {number} [millisecond=0] - The millisecond of the second, meaning a number between 0 and 999\n   * @param {Object} options - configuration options for the DateTime\n   * @param {string} [options.locale] - a locale to set on the resulting DateTime instance\n   * @param {string} [options.outputCalendar] - the output calendar to set on the resulting DateTime instance\n   * @param {string} [options.numberingSystem] - the numbering system to set on the resulting DateTime instance\n   * @example DateTime.utc()                                              //~> now\n   * @example DateTime.utc(2017)                                          //~> 2017-01-01T00:00:00Z\n   * @example DateTime.utc(2017, 3)                                       //~> 2017-03-01T00:00:00Z\n   * @example DateTime.utc(2017, 3, 12)                                   //~> 2017-03-12T00:00:00Z\n   * @example DateTime.utc(2017, 3, 12, 5)                                //~> 2017-03-12T05:00:00Z\n   * @example DateTime.utc(2017, 3, 12, 5, 45)                            //~> 2017-03-12T05:45:00Z\n   * @example DateTime.utc(2017, 3, 12, 5, 45, { locale: \"fr\" })          //~> 2017-03-12T05:45:00Z with a French locale\n   * @example DateTime.utc(2017, 3, 12, 5, 45, 10)                        //~> 2017-03-12T05:45:10Z\n   * @example DateTime.utc(2017, 3, 12, 5, 45, 10, 765, { locale: \"fr\" }) //~> 2017-03-12T05:45:10.765Z with a French locale\n   * @return {DateTime}\n   */\n  static utc() {\n    const [opts, args] = lastOpts(arguments),\n      [year, month, day, hour, minute, second, millisecond] = args;\n\n    opts.zone = FixedOffsetZone.utcInstance;\n    return quickDT({ year, month, day, hour, minute, second, millisecond }, opts);\n  }\n\n  /**\n   * Create a DateTime from a JavaScript Date object. Uses the default zone.\n   * @param {Date} date - a JavaScript Date object\n   * @param {Object} options - configuration options for the DateTime\n   * @param {string|Zone} [options.zone='local'] - the zone to place the DateTime into\n   * @return {DateTime}\n   */\n  static fromJSDate(date, options = {}) {\n    const ts = isDate(date) ? date.valueOf() : NaN;\n    if (Number.isNaN(ts)) {\n      return DateTime.invalid(\"invalid input\");\n    }\n\n    const zoneToUse = normalizeZone(options.zone, Settings.defaultZone);\n    if (!zoneToUse.isValid) {\n      return DateTime.invalid(unsupportedZone(zoneToUse));\n    }\n\n    return new DateTime({\n      ts: ts,\n      zone: zoneToUse,\n      loc: Locale.fromObject(options),\n    });\n  }\n\n  /**\n   * Create a DateTime from a number of milliseconds since the epoch (meaning since 1 January 1970 00:00:00 UTC). Uses the default zone.\n   * @param {number} milliseconds - a number of milliseconds since 1970 UTC\n   * @param {Object} options - configuration options for the DateTime\n   * @param {string|Zone} [options.zone='local'] - the zone to place the DateTime into\n   * @param {string} [options.locale] - a locale to set on the resulting DateTime instance\n   * @param {string} options.outputCalendar - the output calendar to set on the resulting DateTime instance\n   * @param {string} options.numberingSystem - the numbering system to set on the resulting DateTime instance\n   * @return {DateTime}\n   */\n  static fromMillis(milliseconds, options = {}) {\n    if (!isNumber(milliseconds)) {\n      throw new InvalidArgumentError(\n        `fromMillis requires a numerical input, but received a ${typeof milliseconds} with value ${milliseconds}`\n      );\n    } else if (milliseconds < -MAX_DATE || milliseconds > MAX_DATE) {\n      // this isn't perfect because because we can still end up out of range because of additional shifting, but it's a start\n      return DateTime.invalid(\"Timestamp out of range\");\n    } else {\n      return new DateTime({\n        ts: milliseconds,\n        zone: normalizeZone(options.zone, Settings.defaultZone),\n        loc: Locale.fromObject(options),\n      });\n    }\n  }\n\n  /**\n   * Create a DateTime from a number of seconds since the epoch (meaning since 1 January 1970 00:00:00 UTC). Uses the default zone.\n   * @param {number} seconds - a number of seconds since 1970 UTC\n   * @param {Object} options - configuration options for the DateTime\n   * @param {string|Zone} [options.zone='local'] - the zone to place the DateTime into\n   * @param {string} [options.locale] - a locale to set on the resulting DateTime instance\n   * @param {string} options.outputCalendar - the output calendar to set on the resulting DateTime instance\n   * @param {string} options.numberingSystem - the numbering system to set on the resulting DateTime instance\n   * @return {DateTime}\n   */\n  static fromSeconds(seconds, options = {}) {\n    if (!isNumber(seconds)) {\n      throw new InvalidArgumentError(\"fromSeconds requires a numerical input\");\n    } else {\n      return new DateTime({\n        ts: seconds * 1000,\n        zone: normalizeZone(options.zone, Settings.defaultZone),\n        loc: Locale.fromObject(options),\n      });\n    }\n  }\n\n  /**\n   * Create a DateTime from a JavaScript object with keys like 'year' and 'hour' with reasonable defaults.\n   * @param {Object} obj - the object to create the DateTime from\n   * @param {number} obj.year - a year, such as 1987\n   * @param {number} obj.month - a month, 1-12\n   * @param {number} obj.day - a day of the month, 1-31, depending on the month\n   * @param {number} obj.ordinal - day of the year, 1-365 or 366\n   * @param {number} obj.weekYear - an ISO week year\n   * @param {number} obj.weekNumber - an ISO week number, between 1 and 52 or 53, depending on the year\n   * @param {number} obj.weekday - an ISO weekday, 1-7, where 1 is Monday and 7 is Sunday\n   * @param {number} obj.localWeekYear - a week year, according to the locale\n   * @param {number} obj.localWeekNumber - a week number, between 1 and 52 or 53, depending on the year, according to the locale\n   * @param {number} obj.localWeekday - a weekday, 1-7, where 1 is the first and 7 is the last day of the week, according to the locale\n   * @param {number} obj.hour - hour of the day, 0-23\n   * @param {number} obj.minute - minute of the hour, 0-59\n   * @param {number} obj.second - second of the minute, 0-59\n   * @param {number} obj.millisecond - millisecond of the second, 0-999\n   * @param {Object} opts - options for creating this DateTime\n   * @param {string|Zone} [opts.zone='local'] - interpret the numbers in the context of a particular zone. Can take any value taken as the first argument to setZone()\n   * @param {string} [opts.locale='system\\'s locale'] - a locale to set on the resulting DateTime instance\n   * @param {string} opts.outputCalendar - the output calendar to set on the resulting DateTime instance\n   * @param {string} opts.numberingSystem - the numbering system to set on the resulting DateTime instance\n   * @example DateTime.fromObject({ year: 1982, month: 5, day: 25}).toISODate() //=> '1982-05-25'\n   * @example DateTime.fromObject({ year: 1982 }).toISODate() //=> '1982-01-01'\n   * @example DateTime.fromObject({ hour: 10, minute: 26, second: 6 }) //~> today at 10:26:06\n   * @example DateTime.fromObject({ hour: 10, minute: 26, second: 6 }, { zone: 'utc' }),\n   * @example DateTime.fromObject({ hour: 10, minute: 26, second: 6 }, { zone: 'local' })\n   * @example DateTime.fromObject({ hour: 10, minute: 26, second: 6 }, { zone: 'America/New_York' })\n   * @example DateTime.fromObject({ weekYear: 2016, weekNumber: 2, weekday: 3 }).toISODate() //=> '2016-01-13'\n   * @example DateTime.fromObject({ localWeekYear: 2022, localWeekNumber: 1, localWeekday: 1 }, { locale: \"en-US\" }).toISODate() //=> '2021-12-26'\n   * @return {DateTime}\n   */\n  static fromObject(obj, opts = {}) {\n    obj = obj || {};\n    const zoneToUse = normalizeZone(opts.zone, Settings.defaultZone);\n    if (!zoneToUse.isValid) {\n      return DateTime.invalid(unsupportedZone(zoneToUse));\n    }\n\n    const loc = Locale.fromObject(opts);\n    const normalized = normalizeObject(obj, normalizeUnitWithLocalWeeks);\n    const { minDaysInFirstWeek, startOfWeek } = usesLocalWeekValues(normalized, loc);\n\n    const tsNow = Settings.now(),\n      offsetProvis = !isUndefined(opts.specificOffset)\n        ? opts.specificOffset\n        : zoneToUse.offset(tsNow),\n      containsOrdinal = !isUndefined(normalized.ordinal),\n      containsGregorYear = !isUndefined(normalized.year),\n      containsGregorMD = !isUndefined(normalized.month) || !isUndefined(normalized.day),\n      containsGregor = containsGregorYear || containsGregorMD,\n      definiteWeekDef = normalized.weekYear || normalized.weekNumber;\n\n    // cases:\n    // just a weekday -> this week's instance of that weekday, no worries\n    // (gregorian data or ordinal) + (weekYear or weekNumber) -> error\n    // (gregorian month or day) + ordinal -> error\n    // otherwise just use weeks or ordinals or gregorian, depending on what's specified\n\n    if ((containsGregor || containsOrdinal) && definiteWeekDef) {\n      throw new ConflictingSpecificationError(\n        \"Can't mix weekYear/weekNumber units with year/month/day or ordinals\"\n      );\n    }\n\n    if (containsGregorMD && containsOrdinal) {\n      throw new ConflictingSpecificationError(\"Can't mix ordinal dates with month/day\");\n    }\n\n    const useWeekData = definiteWeekDef || (normalized.weekday && !containsGregor);\n\n    // configure ourselves to deal with gregorian dates or week stuff\n    let units,\n      defaultValues,\n      objNow = tsToObj(tsNow, offsetProvis);\n    if (useWeekData) {\n      units = orderedWeekUnits;\n      defaultValues = defaultWeekUnitValues;\n      objNow = gregorianToWeek(objNow, minDaysInFirstWeek, startOfWeek);\n    } else if (containsOrdinal) {\n      units = orderedOrdinalUnits;\n      defaultValues = defaultOrdinalUnitValues;\n      objNow = gregorianToOrdinal(objNow);\n    } else {\n      units = orderedUnits;\n      defaultValues = defaultUnitValues;\n    }\n\n    // set default values for missing stuff\n    let foundFirst = false;\n    for (const u of units) {\n      const v = normalized[u];\n      if (!isUndefined(v)) {\n        foundFirst = true;\n      } else if (foundFirst) {\n        normalized[u] = defaultValues[u];\n      } else {\n        normalized[u] = objNow[u];\n      }\n    }\n\n    // make sure the values we have are in range\n    const higherOrderInvalid = useWeekData\n        ? hasInvalidWeekData(normalized, minDaysInFirstWeek, startOfWeek)\n        : containsOrdinal\n        ? hasInvalidOrdinalData(normalized)\n        : hasInvalidGregorianData(normalized),\n      invalid = higherOrderInvalid || hasInvalidTimeData(normalized);\n\n    if (invalid) {\n      return DateTime.invalid(invalid);\n    }\n\n    // compute the actual time\n    const gregorian = useWeekData\n        ? weekToGregorian(normalized, minDaysInFirstWeek, startOfWeek)\n        : containsOrdinal\n        ? ordinalToGregorian(normalized)\n        : normalized,\n      [tsFinal, offsetFinal] = objToTS(gregorian, offsetProvis, zoneToUse),\n      inst = new DateTime({\n        ts: tsFinal,\n        zone: zoneToUse,\n        o: offsetFinal,\n        loc,\n      });\n\n    // gregorian data + weekday serves only to validate\n    if (normalized.weekday && containsGregor && obj.weekday !== inst.weekday) {\n      return DateTime.invalid(\n        \"mismatched weekday\",\n        `you can't specify both a weekday of ${normalized.weekday} and a date of ${inst.toISO()}`\n      );\n    }\n\n    return inst;\n  }\n\n  /**\n   * Create a DateTime from an ISO 8601 string\n   * @param {string} text - the ISO string\n   * @param {Object} opts - options to affect the creation\n   * @param {string|Zone} [opts.zone='local'] - use this zone if no offset is specified in the input string itself. Will also convert the time to this zone\n   * @param {boolean} [opts.setZone=false] - override the zone with a fixed-offset zone specified in the string itself, if it specifies one\n   * @param {string} [opts.locale='system's locale'] - a locale to set on the resulting DateTime instance\n   * @param {string} [opts.outputCalendar] - the output calendar to set on the resulting DateTime instance\n   * @param {string} [opts.numberingSystem] - the numbering system to set on the resulting DateTime instance\n   * @example DateTime.fromISO('2016-05-25T09:08:34.123')\n   * @example DateTime.fromISO('2016-05-25T09:08:34.123+06:00')\n   * @example DateTime.fromISO('2016-05-25T09:08:34.123+06:00', {setZone: true})\n   * @example DateTime.fromISO('2016-05-25T09:08:34.123', {zone: 'utc'})\n   * @example DateTime.fromISO('2016-W05-4')\n   * @return {DateTime}\n   */\n  static fromISO(text, opts = {}) {\n    const [vals, parsedZone] = parseISODate(text);\n    return parseDataToDateTime(vals, parsedZone, opts, \"ISO 8601\", text);\n  }\n\n  /**\n   * Create a DateTime from an RFC 2822 string\n   * @param {string} text - the RFC 2822 string\n   * @param {Object} opts - options to affect the creation\n   * @param {string|Zone} [opts.zone='local'] - convert the time to this zone. Since the offset is always specified in the string itself, this has no effect on the interpretation of string, merely the zone the resulting DateTime is expressed in.\n   * @param {boolean} [opts.setZone=false] - override the zone with a fixed-offset zone specified in the string itself, if it specifies one\n   * @param {string} [opts.locale='system's locale'] - a locale to set on the resulting DateTime instance\n   * @param {string} opts.outputCalendar - the output calendar to set on the resulting DateTime instance\n   * @param {string} opts.numberingSystem - the numbering system to set on the resulting DateTime instance\n   * @example DateTime.fromRFC2822('25 Nov 2016 13:23:12 GMT')\n   * @example DateTime.fromRFC2822('Fri, 25 Nov 2016 13:23:12 +0600')\n   * @example DateTime.fromRFC2822('25 Nov 2016 13:23 Z')\n   * @return {DateTime}\n   */\n  static fromRFC2822(text, opts = {}) {\n    const [vals, parsedZone] = parseRFC2822Date(text);\n    return parseDataToDateTime(vals, parsedZone, opts, \"RFC 2822\", text);\n  }\n\n  /**\n   * Create a DateTime from an HTTP header date\n   * @see https://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.3.1\n   * @param {string} text - the HTTP header date\n   * @param {Object} opts - options to affect the creation\n   * @param {string|Zone} [opts.zone='local'] - convert the time to this zone. Since HTTP dates are always in UTC, this has no effect on the interpretation of string, merely the zone the resulting DateTime is expressed in.\n   * @param {boolean} [opts.setZone=false] - override the zone with the fixed-offset zone specified in the string. For HTTP dates, this is always UTC, so this option is equivalent to setting the `zone` option to 'utc', but this option is included for consistency with similar methods.\n   * @param {string} [opts.locale='system's locale'] - a locale to set on the resulting DateTime instance\n   * @param {string} opts.outputCalendar - the output calendar to set on the resulting DateTime instance\n   * @param {string} opts.numberingSystem - the numbering system to set on the resulting DateTime instance\n   * @example DateTime.fromHTTP('Sun, 06 Nov 1994 08:49:37 GMT')\n   * @example DateTime.fromHTTP('Sunday, 06-Nov-94 08:49:37 GMT')\n   * @example DateTime.fromHTTP('Sun Nov  6 08:49:37 1994')\n   * @return {DateTime}\n   */\n  static fromHTTP(text, opts = {}) {\n    const [vals, parsedZone] = parseHTTPDate(text);\n    return parseDataToDateTime(vals, parsedZone, opts, \"HTTP\", opts);\n  }\n\n  /**\n   * Create a DateTime from an input string and format string.\n   * Defaults to en-US if no locale has been specified, regardless of the system's locale. For a table of tokens and their interpretations, see [here](https://moment.github.io/luxon/#/parsing?id=table-of-tokens).\n   * @param {string} text - the string to parse\n   * @param {string} fmt - the format the string is expected to be in (see the link below for the formats)\n   * @param {Object} opts - options to affect the creation\n   * @param {string|Zone} [opts.zone='local'] - use this zone if no offset is specified in the input string itself. Will also convert the DateTime to this zone\n   * @param {boolean} [opts.setZone=false] - override the zone with a zone specified in the string itself, if it specifies one\n   * @param {string} [opts.locale='en-US'] - a locale string to use when parsing. Will also set the DateTime to this locale\n   * @param {string} opts.numberingSystem - the numbering system to use when parsing. Will also set the resulting DateTime to this numbering system\n   * @param {string} opts.outputCalendar - the output calendar to set on the resulting DateTime instance\n   * @return {DateTime}\n   */\n  static fromFormat(text, fmt, opts = {}) {\n    if (isUndefined(text) || isUndefined(fmt)) {\n      throw new InvalidArgumentError(\"fromFormat requires an input string and a format\");\n    }\n\n    const { locale = null, numberingSystem = null } = opts,\n      localeToUse = Locale.fromOpts({\n        locale,\n        numberingSystem,\n        defaultToEN: true,\n      }),\n      [vals, parsedZone, specificOffset, invalid] = parseFromTokens(localeToUse, text, fmt);\n    if (invalid) {\n      return DateTime.invalid(invalid);\n    } else {\n      return parseDataToDateTime(vals, parsedZone, opts, `format ${fmt}`, text, specificOffset);\n    }\n  }\n\n  /**\n   * @deprecated use fromFormat instead\n   */\n  static fromString(text, fmt, opts = {}) {\n    return DateTime.fromFormat(text, fmt, opts);\n  }\n\n  /**\n   * Create a DateTime from a SQL date, time, or datetime\n   * Defaults to en-US if no locale has been specified, regardless of the system's locale\n   * @param {string} text - the string to parse\n   * @param {Object} opts - options to affect the creation\n   * @param {string|Zone} [opts.zone='local'] - use this zone if no offset is specified in the input string itself. Will also convert the DateTime to this zone\n   * @param {boolean} [opts.setZone=false] - override the zone with a zone specified in the string itself, if it specifies one\n   * @param {string} [opts.locale='en-US'] - a locale string to use when parsing. Will also set the DateTime to this locale\n   * @param {string} opts.numberingSystem - the numbering system to use when parsing. Will also set the resulting DateTime to this numbering system\n   * @param {string} opts.outputCalendar - the output calendar to set on the resulting DateTime instance\n   * @example DateTime.fromSQL('2017-05-15')\n   * @example DateTime.fromSQL('2017-05-15 09:12:34')\n   * @example DateTime.fromSQL('2017-05-15 09:12:34.342')\n   * @example DateTime.fromSQL('2017-05-15 09:12:34.342+06:00')\n   * @example DateTime.fromSQL('2017-05-15 09:12:34.342 America/Los_Angeles')\n   * @example DateTime.fromSQL('2017-05-15 09:12:34.342 America/Los_Angeles', { setZone: true })\n   * @example DateTime.fromSQL('2017-05-15 09:12:34.342', { zone: 'America/Los_Angeles' })\n   * @example DateTime.fromSQL('09:12:34.342')\n   * @return {DateTime}\n   */\n  static fromSQL(text, opts = {}) {\n    const [vals, parsedZone] = parseSQL(text);\n    return parseDataToDateTime(vals, parsedZone, opts, \"SQL\", text);\n  }\n\n  /**\n   * Create an invalid DateTime.\n   * @param {string} reason - simple string of why this DateTime is invalid. Should not contain parameters or anything else data-dependent.\n   * @param {string} [explanation=null] - longer explanation, may include parameters and other useful debugging information\n   * @return {DateTime}\n   */\n  static invalid(reason, explanation = null) {\n    if (!reason) {\n      throw new InvalidArgumentError(\"need to specify a reason the DateTime is invalid\");\n    }\n\n    const invalid = reason instanceof Invalid ? reason : new Invalid(reason, explanation);\n\n    if (Settings.throwOnInvalid) {\n      throw new InvalidDateTimeError(invalid);\n    } else {\n      return new DateTime({ invalid });\n    }\n  }\n\n  /**\n   * Check if an object is an instance of DateTime. Works across context boundaries\n   * @param {object} o\n   * @return {boolean}\n   */\n  static isDateTime(o) {\n    return (o && o.isLuxonDateTime) || false;\n  }\n\n  /**\n   * Produce the format string for a set of options\n   * @param formatOpts\n   * @param localeOpts\n   * @returns {string}\n   */\n  static parseFormatForOpts(formatOpts, localeOpts = {}) {\n    const tokenList = formatOptsToTokens(formatOpts, Locale.fromObject(localeOpts));\n    return !tokenList ? null : tokenList.map((t) => (t ? t.val : null)).join(\"\");\n  }\n\n  /**\n   * Produce the the fully expanded format token for the locale\n   * Does NOT quote characters, so quoted tokens will not round trip correctly\n   * @param fmt\n   * @param localeOpts\n   * @returns {string}\n   */\n  static expandFormat(fmt, localeOpts = {}) {\n    const expanded = expandMacroTokens(Formatter.parseFormat(fmt), Locale.fromObject(localeOpts));\n    return expanded.map((t) => t.val).join(\"\");\n  }\n\n  // INFO\n\n  /**\n   * Get the value of unit.\n   * @param {string} unit - a unit such as 'minute' or 'day'\n   * @example DateTime.local(2017, 7, 4).get('month'); //=> 7\n   * @example DateTime.local(2017, 7, 4).get('day'); //=> 4\n   * @return {number}\n   */\n  get(unit) {\n    return this[unit];\n  }\n\n  /**\n   * Returns whether the DateTime is valid. Invalid DateTimes occur when:\n   * * The DateTime was created from invalid calendar information, such as the 13th month or February 30\n   * * The DateTime was created by an operation on another invalid date\n   * @type {boolean}\n   */\n  get isValid() {\n    return this.invalid === null;\n  }\n\n  /**\n   * Returns an error code if this DateTime is invalid, or null if the DateTime is valid\n   * @type {string}\n   */\n  get invalidReason() {\n    return this.invalid ? this.invalid.reason : null;\n  }\n\n  /**\n   * Returns an explanation of why this DateTime became invalid, or null if the DateTime is valid\n   * @type {string}\n   */\n  get invalidExplanation() {\n    return this.invalid ? this.invalid.explanation : null;\n  }\n\n  /**\n   * Get the locale of a DateTime, such 'en-GB'. The locale is used when formatting the DateTime\n   *\n   * @type {string}\n   */\n  get locale() {\n    return this.isValid ? this.loc.locale : null;\n  }\n\n  /**\n   * Get the numbering system of a DateTime, such 'beng'. The numbering system is used when formatting the DateTime\n   *\n   * @type {string}\n   */\n  get numberingSystem() {\n    return this.isValid ? this.loc.numberingSystem : null;\n  }\n\n  /**\n   * Get the output calendar of a DateTime, such 'islamic'. The output calendar is used when formatting the DateTime\n   *\n   * @type {string}\n   */\n  get outputCalendar() {\n    return this.isValid ? this.loc.outputCalendar : null;\n  }\n\n  /**\n   * Get the time zone associated with this DateTime.\n   * @type {Zone}\n   */\n  get zone() {\n    return this._zone;\n  }\n\n  /**\n   * Get the name of the time zone.\n   * @type {string}\n   */\n  get zoneName() {\n    return this.isValid ? this.zone.name : null;\n  }\n\n  /**\n   * Get the year\n   * @example DateTime.local(2017, 5, 25).year //=> 2017\n   * @type {number}\n   */\n  get year() {\n    return this.isValid ? this.c.year : NaN;\n  }\n\n  /**\n   * Get the quarter\n   * @example DateTime.local(2017, 5, 25).quarter //=> 2\n   * @type {number}\n   */\n  get quarter() {\n    return this.isValid ? Math.ceil(this.c.month / 3) : NaN;\n  }\n\n  /**\n   * Get the month (1-12).\n   * @example DateTime.local(2017, 5, 25).month //=> 5\n   * @type {number}\n   */\n  get month() {\n    return this.isValid ? this.c.month : NaN;\n  }\n\n  /**\n   * Get the day of the month (1-30ish).\n   * @example DateTime.local(2017, 5, 25).day //=> 25\n   * @type {number}\n   */\n  get day() {\n    return this.isValid ? this.c.day : NaN;\n  }\n\n  /**\n   * Get the hour of the day (0-23).\n   * @example DateTime.local(2017, 5, 25, 9).hour //=> 9\n   * @type {number}\n   */\n  get hour() {\n    return this.isValid ? this.c.hour : NaN;\n  }\n\n  /**\n   * Get the minute of the hour (0-59).\n   * @example DateTime.local(2017, 5, 25, 9, 30).minute //=> 30\n   * @type {number}\n   */\n  get minute() {\n    return this.isValid ? this.c.minute : NaN;\n  }\n\n  /**\n   * Get the second of the minute (0-59).\n   * @example DateTime.local(2017, 5, 25, 9, 30, 52).second //=> 52\n   * @type {number}\n   */\n  get second() {\n    return this.isValid ? this.c.second : NaN;\n  }\n\n  /**\n   * Get the millisecond of the second (0-999).\n   * @example DateTime.local(2017, 5, 25, 9, 30, 52, 654).millisecond //=> 654\n   * @type {number}\n   */\n  get millisecond() {\n    return this.isValid ? this.c.millisecond : NaN;\n  }\n\n  /**\n   * Get the week year\n   * @see https://en.wikipedia.org/wiki/ISO_week_date\n   * @example DateTime.local(2014, 12, 31).weekYear //=> 2015\n   * @type {number}\n   */\n  get weekYear() {\n    return this.isValid ? possiblyCachedWeekData(this).weekYear : NaN;\n  }\n\n  /**\n   * Get the week number of the week year (1-52ish).\n   * @see https://en.wikipedia.org/wiki/ISO_week_date\n   * @example DateTime.local(2017, 5, 25).weekNumber //=> 21\n   * @type {number}\n   */\n  get weekNumber() {\n    return this.isValid ? possiblyCachedWeekData(this).weekNumber : NaN;\n  }\n\n  /**\n   * Get the day of the week.\n   * 1 is Monday and 7 is Sunday\n   * @see https://en.wikipedia.org/wiki/ISO_week_date\n   * @example DateTime.local(2014, 11, 31).weekday //=> 4\n   * @type {number}\n   */\n  get weekday() {\n    return this.isValid ? possiblyCachedWeekData(this).weekday : NaN;\n  }\n\n  /**\n   * Returns true if this date is on a weekend according to the locale, false otherwise\n   * @returns {boolean}\n   */\n  get isWeekend() {\n    return this.isValid && this.loc.getWeekendDays().includes(this.weekday);\n  }\n\n  /**\n   * Get the day of the week according to the locale.\n   * 1 is the first day of the week and 7 is the last day of the week.\n   * If the locale assigns Sunday as the first day of the week, then a date which is a Sunday will return 1,\n   * @returns {number}\n   */\n  get localWeekday() {\n    return this.isValid ? possiblyCachedLocalWeekData(this).weekday : NaN;\n  }\n\n  /**\n   * Get the week number of the week year according to the locale. Different locales assign week numbers differently,\n   * because the week can start on different days of the week (see localWeekday) and because a different number of days\n   * is required for a week to count as the first week of a year.\n   * @returns {number}\n   */\n  get localWeekNumber() {\n    return this.isValid ? possiblyCachedLocalWeekData(this).weekNumber : NaN;\n  }\n\n  /**\n   * Get the week year according to the locale. Different locales assign week numbers (and therefor week years)\n   * differently, see localWeekNumber.\n   * @returns {number}\n   */\n  get localWeekYear() {\n    return this.isValid ? possiblyCachedLocalWeekData(this).weekYear : NaN;\n  }\n\n  /**\n   * Get the ordinal (meaning the day of the year)\n   * @example DateTime.local(2017, 5, 25).ordinal //=> 145\n   * @type {number|DateTime}\n   */\n  get ordinal() {\n    return this.isValid ? gregorianToOrdinal(this.c).ordinal : NaN;\n  }\n\n  /**\n   * Get the human readable short month name, such as 'Oct'.\n   * Defaults to the system's locale if no locale has been specified\n   * @example DateTime.local(2017, 10, 30).monthShort //=> Oct\n   * @type {string}\n   */\n  get monthShort() {\n    return this.isValid ? Info.months(\"short\", { locObj: this.loc })[this.month - 1] : null;\n  }\n\n  /**\n   * Get the human readable long month name, such as 'October'.\n   * Defaults to the system's locale if no locale has been specified\n   * @example DateTime.local(2017, 10, 30).monthLong //=> October\n   * @type {string}\n   */\n  get monthLong() {\n    return this.isValid ? Info.months(\"long\", { locObj: this.loc })[this.month - 1] : null;\n  }\n\n  /**\n   * Get the human readable short weekday, such as 'Mon'.\n   * Defaults to the system's locale if no locale has been specified\n   * @example DateTime.local(2017, 10, 30).weekdayShort //=> Mon\n   * @type {string}\n   */\n  get weekdayShort() {\n    return this.isValid ? Info.weekdays(\"short\", { locObj: this.loc })[this.weekday - 1] : null;\n  }\n\n  /**\n   * Get the human readable long weekday, such as 'Monday'.\n   * Defaults to the system's locale if no locale has been specified\n   * @example DateTime.local(2017, 10, 30).weekdayLong //=> Monday\n   * @type {string}\n   */\n  get weekdayLong() {\n    return this.isValid ? Info.weekdays(\"long\", { locObj: this.loc })[this.weekday - 1] : null;\n  }\n\n  /**\n   * Get the UTC offset of this DateTime in minutes\n   * @example DateTime.now().offset //=> -240\n   * @example DateTime.utc().offset //=> 0\n   * @type {number}\n   */\n  get offset() {\n    return this.isValid ? +this.o : NaN;\n  }\n\n  /**\n   * Get the short human name for the zone's current offset, for example \"EST\" or \"EDT\".\n   * Defaults to the system's locale if no locale has been specified\n   * @type {string}\n   */\n  get offsetNameShort() {\n    if (this.isValid) {\n      return this.zone.offsetName(this.ts, {\n        format: \"short\",\n        locale: this.locale,\n      });\n    } else {\n      return null;\n    }\n  }\n\n  /**\n   * Get the long human name for the zone's current offset, for example \"Eastern Standard Time\" or \"Eastern Daylight Time\".\n   * Defaults to the system's locale if no locale has been specified\n   * @type {string}\n   */\n  get offsetNameLong() {\n    if (this.isValid) {\n      return this.zone.offsetName(this.ts, {\n        format: \"long\",\n        locale: this.locale,\n      });\n    } else {\n      return null;\n    }\n  }\n\n  /**\n   * Get whether this zone's offset ever changes, as in a DST.\n   * @type {boolean}\n   */\n  get isOffsetFixed() {\n    return this.isValid ? this.zone.isUniversal : null;\n  }\n\n  /**\n   * Get whether the DateTime is in a DST.\n   * @type {boolean}\n   */\n  get isInDST() {\n    if (this.isOffsetFixed) {\n      return false;\n    } else {\n      return (\n        this.offset > this.set({ month: 1, day: 1 }).offset ||\n        this.offset > this.set({ month: 5 }).offset\n      );\n    }\n  }\n\n  /**\n   * Get those DateTimes which have the same local time as this DateTime, but a different offset from UTC\n   * in this DateTime's zone. During DST changes local time can be ambiguous, for example\n   * `2023-10-29T02:30:00` in `Europe/Berlin` can have offset `+01:00` or `+02:00`.\n   * This method will return both possible DateTimes if this DateTime's local time is ambiguous.\n   * @returns {DateTime[]}\n   */\n  getPossibleOffsets() {\n    if (!this.isValid || this.isOffsetFixed) {\n      return [this];\n    }\n    const dayMs = 86400000;\n    const minuteMs = 60000;\n    const localTS = objToLocalTS(this.c);\n    const oEarlier = this.zone.offset(localTS - dayMs);\n    const oLater = this.zone.offset(localTS + dayMs);\n\n    const o1 = this.zone.offset(localTS - oEarlier * minuteMs);\n    const o2 = this.zone.offset(localTS - oLater * minuteMs);\n    if (o1 === o2) {\n      return [this];\n    }\n    const ts1 = localTS - o1 * minuteMs;\n    const ts2 = localTS - o2 * minuteMs;\n    const c1 = tsToObj(ts1, o1);\n    const c2 = tsToObj(ts2, o2);\n    if (\n      c1.hour === c2.hour &&\n      c1.minute === c2.minute &&\n      c1.second === c2.second &&\n      c1.millisecond === c2.millisecond\n    ) {\n      return [clone(this, { ts: ts1 }), clone(this, { ts: ts2 })];\n    }\n    return [this];\n  }\n\n  /**\n   * Returns true if this DateTime is in a leap year, false otherwise\n   * @example DateTime.local(2016).isInLeapYear //=> true\n   * @example DateTime.local(2013).isInLeapYear //=> false\n   * @type {boolean}\n   */\n  get isInLeapYear() {\n    return isLeapYear(this.year);\n  }\n\n  /**\n   * Returns the number of days in this DateTime's month\n   * @example DateTime.local(2016, 2).daysInMonth //=> 29\n   * @example DateTime.local(2016, 3).daysInMonth //=> 31\n   * @type {number}\n   */\n  get daysInMonth() {\n    return daysInMonth(this.year, this.month);\n  }\n\n  /**\n   * Returns the number of days in this DateTime's year\n   * @example DateTime.local(2016).daysInYear //=> 366\n   * @example DateTime.local(2013).daysInYear //=> 365\n   * @type {number}\n   */\n  get daysInYear() {\n    return this.isValid ? daysInYear(this.year) : NaN;\n  }\n\n  /**\n   * Returns the number of weeks in this DateTime's year\n   * @see https://en.wikipedia.org/wiki/ISO_week_date\n   * @example DateTime.local(2004).weeksInWeekYear //=> 53\n   * @example DateTime.local(2013).weeksInWeekYear //=> 52\n   * @type {number}\n   */\n  get weeksInWeekYear() {\n    return this.isValid ? weeksInWeekYear(this.weekYear) : NaN;\n  }\n\n  /**\n   * Returns the number of weeks in this DateTime's local week year\n   * @example DateTime.local(2020, 6, {locale: 'en-US'}).weeksInLocalWeekYear //=> 52\n   * @example DateTime.local(2020, 6, {locale: 'de-DE'}).weeksInLocalWeekYear //=> 53\n   * @type {number}\n   */\n  get weeksInLocalWeekYear() {\n    return this.isValid\n      ? weeksInWeekYear(\n          this.localWeekYear,\n          this.loc.getMinDaysInFirstWeek(),\n          this.loc.getStartOfWeek()\n        )\n      : NaN;\n  }\n\n  /**\n   * Returns the resolved Intl options for this DateTime.\n   * This is useful in understanding the behavior of formatting methods\n   * @param {Object} opts - the same options as toLocaleString\n   * @return {Object}\n   */\n  resolvedLocaleOptions(opts = {}) {\n    const { locale, numberingSystem, calendar } = Formatter.create(\n      this.loc.clone(opts),\n      opts\n    ).resolvedOptions(this);\n    return { locale, numberingSystem, outputCalendar: calendar };\n  }\n\n  // TRANSFORM\n\n  /**\n   * \"Set\" the DateTime's zone to UTC. Returns a newly-constructed DateTime.\n   *\n   * Equivalent to {@link DateTime#setZone}('utc')\n   * @param {number} [offset=0] - optionally, an offset from UTC in minutes\n   * @param {Object} [opts={}] - options to pass to `setZone()`\n   * @return {DateTime}\n   */\n  toUTC(offset = 0, opts = {}) {\n    return this.setZone(FixedOffsetZone.instance(offset), opts);\n  }\n\n  /**\n   * \"Set\" the DateTime's zone to the host's local zone. Returns a newly-constructed DateTime.\n   *\n   * Equivalent to `setZone('local')`\n   * @return {DateTime}\n   */\n  toLocal() {\n    return this.setZone(Settings.defaultZone);\n  }\n\n  /**\n   * \"Set\" the DateTime's zone to specified zone. Returns a newly-constructed DateTime.\n   *\n   * By default, the setter keeps the underlying time the same (as in, the same timestamp), but the new instance will report different local times and consider DSTs when making computations, as with {@link DateTime#plus}. You may wish to use {@link DateTime#toLocal} and {@link DateTime#toUTC} which provide simple convenience wrappers for commonly used zones.\n   * @param {string|Zone} [zone='local'] - a zone identifier. As a string, that can be any IANA zone supported by the host environment, or a fixed-offset name of the form 'UTC+3', or the strings 'local' or 'utc'. You may also supply an instance of a {@link DateTime#Zone} class.\n   * @param {Object} opts - options\n   * @param {boolean} [opts.keepLocalTime=false] - If true, adjust the underlying time so that the local time stays the same, but in the target zone. You should rarely need this.\n   * @return {DateTime}\n   */\n  setZone(zone, { keepLocalTime = false, keepCalendarTime = false } = {}) {\n    zone = normalizeZone(zone, Settings.defaultZone);\n    if (zone.equals(this.zone)) {\n      return this;\n    } else if (!zone.isValid) {\n      return DateTime.invalid(unsupportedZone(zone));\n    } else {\n      let newTS = this.ts;\n      if (keepLocalTime || keepCalendarTime) {\n        const offsetGuess = zone.offset(this.ts);\n        const asObj = this.toObject();\n        [newTS] = objToTS(asObj, offsetGuess, zone);\n      }\n      return clone(this, { ts: newTS, zone });\n    }\n  }\n\n  /**\n   * \"Set\" the locale, numberingSystem, or outputCalendar. Returns a newly-constructed DateTime.\n   * @param {Object} properties - the properties to set\n   * @example DateTime.local(2017, 5, 25).reconfigure({ locale: 'en-GB' })\n   * @return {DateTime}\n   */\n  reconfigure({ locale, numberingSystem, outputCalendar } = {}) {\n    const loc = this.loc.clone({ locale, numberingSystem, outputCalendar });\n    return clone(this, { loc });\n  }\n\n  /**\n   * \"Set\" the locale. Returns a newly-constructed DateTime.\n   * Just a convenient alias for reconfigure({ locale })\n   * @example DateTime.local(2017, 5, 25).setLocale('en-GB')\n   * @return {DateTime}\n   */\n  setLocale(locale) {\n    return this.reconfigure({ locale });\n  }\n\n  /**\n   * \"Set\" the values of specified units. Returns a newly-constructed DateTime.\n   * You can only set units with this method; for \"setting\" metadata, see {@link DateTime#reconfigure} and {@link DateTime#setZone}.\n   *\n   * This method also supports setting locale-based week units, i.e. `localWeekday`, `localWeekNumber` and `localWeekYear`.\n   * They cannot be mixed with ISO-week units like `weekday`.\n   * @param {Object} values - a mapping of units to numbers\n   * @example dt.set({ year: 2017 })\n   * @example dt.set({ hour: 8, minute: 30 })\n   * @example dt.set({ weekday: 5 })\n   * @example dt.set({ year: 2005, ordinal: 234 })\n   * @return {DateTime}\n   */\n  set(values) {\n    if (!this.isValid) return this;\n\n    const normalized = normalizeObject(values, normalizeUnitWithLocalWeeks);\n    const { minDaysInFirstWeek, startOfWeek } = usesLocalWeekValues(normalized, this.loc);\n\n    const settingWeekStuff =\n        !isUndefined(normalized.weekYear) ||\n        !isUndefined(normalized.weekNumber) ||\n        !isUndefined(normalized.weekday),\n      containsOrdinal = !isUndefined(normalized.ordinal),\n      containsGregorYear = !isUndefined(normalized.year),\n      containsGregorMD = !isUndefined(normalized.month) || !isUndefined(normalized.day),\n      containsGregor = containsGregorYear || containsGregorMD,\n      definiteWeekDef = normalized.weekYear || normalized.weekNumber;\n\n    if ((containsGregor || containsOrdinal) && definiteWeekDef) {\n      throw new ConflictingSpecificationError(\n        \"Can't mix weekYear/weekNumber units with year/month/day or ordinals\"\n      );\n    }\n\n    if (containsGregorMD && containsOrdinal) {\n      throw new ConflictingSpecificationError(\"Can't mix ordinal dates with month/day\");\n    }\n\n    let mixed;\n    if (settingWeekStuff) {\n      mixed = weekToGregorian(\n        { ...gregorianToWeek(this.c, minDaysInFirstWeek, startOfWeek), ...normalized },\n        minDaysInFirstWeek,\n        startOfWeek\n      );\n    } else if (!isUndefined(normalized.ordinal)) {\n      mixed = ordinalToGregorian({ ...gregorianToOrdinal(this.c), ...normalized });\n    } else {\n      mixed = { ...this.toObject(), ...normalized };\n\n      // if we didn't set the day but we ended up on an overflow date,\n      // use the last day of the right month\n      if (isUndefined(normalized.day)) {\n        mixed.day = Math.min(daysInMonth(mixed.year, mixed.month), mixed.day);\n      }\n    }\n\n    const [ts, o] = objToTS(mixed, this.o, this.zone);\n    return clone(this, { ts, o });\n  }\n\n  /**\n   * Add a period of time to this DateTime and return the resulting DateTime\n   *\n   * Adding hours, minutes, seconds, or milliseconds increases the timestamp by the right number of milliseconds. Adding days, months, or years shifts the calendar, accounting for DSTs and leap years along the way. Thus, `dt.plus({ hours: 24 })` may result in a different time than `dt.plus({ days: 1 })` if there's a DST shift in between.\n   * @param {Duration|Object|number} duration - The amount to add. Either a Luxon Duration, a number of milliseconds, the object argument to Duration.fromObject()\n   * @example DateTime.now().plus(123) //~> in 123 milliseconds\n   * @example DateTime.now().plus({ minutes: 15 }) //~> in 15 minutes\n   * @example DateTime.now().plus({ days: 1 }) //~> this time tomorrow\n   * @example DateTime.now().plus({ days: -1 }) //~> this time yesterday\n   * @example DateTime.now().plus({ hours: 3, minutes: 13 }) //~> in 3 hr, 13 min\n   * @example DateTime.now().plus(Duration.fromObject({ hours: 3, minutes: 13 })) //~> in 3 hr, 13 min\n   * @return {DateTime}\n   */\n  plus(duration) {\n    if (!this.isValid) return this;\n    const dur = Duration.fromDurationLike(duration);\n    return clone(this, adjustTime(this, dur));\n  }\n\n  /**\n   * Subtract a period of time to this DateTime and return the resulting DateTime\n   * See {@link DateTime#plus}\n   * @param {Duration|Object|number} duration - The amount to subtract. Either a Luxon Duration, a number of milliseconds, the object argument to Duration.fromObject()\n   @return {DateTime}\n   */\n  minus(duration) {\n    if (!this.isValid) return this;\n    const dur = Duration.fromDurationLike(duration).negate();\n    return clone(this, adjustTime(this, dur));\n  }\n\n  /**\n   * \"Set\" this DateTime to the beginning of a unit of time.\n   * @param {string} unit - The unit to go to the beginning of. Can be 'year', 'quarter', 'month', 'week', 'day', 'hour', 'minute', 'second', or 'millisecond'.\n   * @param {Object} opts - options\n   * @param {boolean} [opts.useLocaleWeeks=false] - If true, use weeks based on the locale, i.e. use the locale-dependent start of the week\n   * @example DateTime.local(2014, 3, 3).startOf('month').toISODate(); //=> '2014-03-01'\n   * @example DateTime.local(2014, 3, 3).startOf('year').toISODate(); //=> '2014-01-01'\n   * @example DateTime.local(2014, 3, 3).startOf('week').toISODate(); //=> '2014-03-03', weeks always start on Mondays\n   * @example DateTime.local(2014, 3, 3, 5, 30).startOf('day').toISOTime(); //=> '00:00.000-05:00'\n   * @example DateTime.local(2014, 3, 3, 5, 30).startOf('hour').toISOTime(); //=> '05:00:00.000-05:00'\n   * @return {DateTime}\n   */\n  startOf(unit, { useLocaleWeeks = false } = {}) {\n    if (!this.isValid) return this;\n\n    const o = {},\n      normalizedUnit = Duration.normalizeUnit(unit);\n    switch (normalizedUnit) {\n      case \"years\":\n        o.month = 1;\n      // falls through\n      case \"quarters\":\n      case \"months\":\n        o.day = 1;\n      // falls through\n      case \"weeks\":\n      case \"days\":\n        o.hour = 0;\n      // falls through\n      case \"hours\":\n        o.minute = 0;\n      // falls through\n      case \"minutes\":\n        o.second = 0;\n      // falls through\n      case \"seconds\":\n        o.millisecond = 0;\n        break;\n      case \"milliseconds\":\n        break;\n      // no default, invalid units throw in normalizeUnit()\n    }\n\n    if (normalizedUnit === \"weeks\") {\n      if (useLocaleWeeks) {\n        const startOfWeek = this.loc.getStartOfWeek();\n        const { weekday } = this;\n        if (weekday < startOfWeek) {\n          o.weekNumber = this.weekNumber - 1;\n        }\n        o.weekday = startOfWeek;\n      } else {\n        o.weekday = 1;\n      }\n    }\n\n    if (normalizedUnit === \"quarters\") {\n      const q = Math.ceil(this.month / 3);\n      o.month = (q - 1) * 3 + 1;\n    }\n\n    return this.set(o);\n  }\n\n  /**\n   * \"Set\" this DateTime to the end (meaning the last millisecond) of a unit of time\n   * @param {string} unit - The unit to go to the end of. Can be 'year', 'quarter', 'month', 'week', 'day', 'hour', 'minute', 'second', or 'millisecond'.\n   * @param {Object} opts - options\n   * @param {boolean} [opts.useLocaleWeeks=false] - If true, use weeks based on the locale, i.e. use the locale-dependent start of the week\n   * @example DateTime.local(2014, 3, 3).endOf('month').toISO(); //=> '2014-03-31T23:59:59.999-05:00'\n   * @example DateTime.local(2014, 3, 3).endOf('year').toISO(); //=> '2014-12-31T23:59:59.999-05:00'\n   * @example DateTime.local(2014, 3, 3).endOf('week').toISO(); // => '2014-03-09T23:59:59.999-05:00', weeks start on Mondays\n   * @example DateTime.local(2014, 3, 3, 5, 30).endOf('day').toISO(); //=> '2014-03-03T23:59:59.999-05:00'\n   * @example DateTime.local(2014, 3, 3, 5, 30).endOf('hour').toISO(); //=> '2014-03-03T05:59:59.999-05:00'\n   * @return {DateTime}\n   */\n  endOf(unit, opts) {\n    return this.isValid\n      ? this.plus({ [unit]: 1 })\n          .startOf(unit, opts)\n          .minus(1)\n      : this;\n  }\n\n  // OUTPUT\n\n  /**\n   * Returns a string representation of this DateTime formatted according to the specified format string.\n   * **You may not want this.** See {@link DateTime#toLocaleString} for a more flexible formatting tool. For a table of tokens and their interpretations, see [here](https://moment.github.io/luxon/#/formatting?id=table-of-tokens).\n   * Defaults to en-US if no locale has been specified, regardless of the system's locale.\n   * @param {string} fmt - the format string\n   * @param {Object} opts - opts to override the configuration options on this DateTime\n   * @example DateTime.now().toFormat('yyyy LLL dd') //=> '2017 Apr 22'\n   * @example DateTime.now().setLocale('fr').toFormat('yyyy LLL dd') //=> '2017 avr. 22'\n   * @example DateTime.now().toFormat('yyyy LLL dd', { locale: \"fr\" }) //=> '2017 avr. 22'\n   * @example DateTime.now().toFormat(\"HH 'hours and' mm 'minutes'\") //=> '20 hours and 55 minutes'\n   * @return {string}\n   */\n  toFormat(fmt, opts = {}) {\n    return this.isValid\n      ? Formatter.create(this.loc.redefaultToEN(opts)).formatDateTimeFromString(this, fmt)\n      : INVALID;\n  }\n\n  /**\n   * Returns a localized string representing this date. Accepts the same options as the Intl.DateTimeFormat constructor and any presets defined by Luxon, such as `DateTime.DATE_FULL` or `DateTime.TIME_SIMPLE`.\n   * The exact behavior of this method is browser-specific, but in general it will return an appropriate representation\n   * of the DateTime in the assigned locale.\n   * Defaults to the system's locale if no locale has been specified\n   * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DateTimeFormat\n   * @param formatOpts {Object} - Intl.DateTimeFormat constructor options and configuration options\n   * @param {Object} opts - opts to override the configuration options on this DateTime\n   * @example DateTime.now().toLocaleString(); //=> 4/20/2017\n   * @example DateTime.now().setLocale('en-gb').toLocaleString(); //=> '20/04/2017'\n   * @example DateTime.now().toLocaleString(DateTime.DATE_FULL); //=> 'April 20, 2017'\n   * @example DateTime.now().toLocaleString(DateTime.DATE_FULL, { locale: 'fr' }); //=> '28 ao\u00FBt 2022'\n   * @example DateTime.now().toLocaleString(DateTime.TIME_SIMPLE); //=> '11:32 AM'\n   * @example DateTime.now().toLocaleString(DateTime.DATETIME_SHORT); //=> '4/20/2017, 11:32 AM'\n   * @example DateTime.now().toLocaleString({ weekday: 'long', month: 'long', day: '2-digit' }); //=> 'Thursday, April 20'\n   * @example DateTime.now().toLocaleString({ weekday: 'short', month: 'short', day: '2-digit', hour: '2-digit', minute: '2-digit' }); //=> 'Thu, Apr 20, 11:27 AM'\n   * @example DateTime.now().toLocaleString({ hour: '2-digit', minute: '2-digit', hourCycle: 'h23' }); //=> '11:32'\n   * @return {string}\n   */\n  toLocaleString(formatOpts = Formats.DATE_SHORT, opts = {}) {\n    return this.isValid\n      ? Formatter.create(this.loc.clone(opts), formatOpts).formatDateTime(this)\n      : INVALID;\n  }\n\n  /**\n   * Returns an array of format \"parts\", meaning individual tokens along with metadata. This is allows callers to post-process individual sections of the formatted output.\n   * Defaults to the system's locale if no locale has been specified\n   * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DateTimeFormat/formatToParts\n   * @param opts {Object} - Intl.DateTimeFormat constructor options, same as `toLocaleString`.\n   * @example DateTime.now().toLocaleParts(); //=> [\n   *                                   //=>   { type: 'day', value: '25' },\n   *                                   //=>   { type: 'literal', value: '/' },\n   *                                   //=>   { type: 'month', value: '05' },\n   *                                   //=>   { type: 'literal', value: '/' },\n   *                                   //=>   { type: 'year', value: '1982' }\n   *                                   //=> ]\n   */\n  toLocaleParts(opts = {}) {\n    return this.isValid\n      ? Formatter.create(this.loc.clone(opts), opts).formatDateTimeParts(this)\n      : [];\n  }\n\n  /**\n   * Returns an ISO 8601-compliant string representation of this DateTime\n   * @param {Object} opts - options\n   * @param {boolean} [opts.suppressMilliseconds=false] - exclude milliseconds from the format if they're 0\n   * @param {boolean} [opts.suppressSeconds=false] - exclude seconds from the format if they're 0\n   * @param {boolean} [opts.includeOffset=true] - include the offset, such as 'Z' or '-04:00'\n   * @param {boolean} [opts.extendedZone=false] - add the time zone format extension\n   * @param {string} [opts.format='extended'] - choose between the basic and extended format\n   * @example DateTime.utc(1983, 5, 25).toISO() //=> '1982-05-25T00:00:00.000Z'\n   * @example DateTime.now().toISO() //=> '2017-04-22T20:47:05.335-04:00'\n   * @example DateTime.now().toISO({ includeOffset: false }) //=> '2017-04-22T20:47:05.335'\n   * @example DateTime.now().toISO({ format: 'basic' }) //=> '20170422T204705.335-0400'\n   * @return {string}\n   */\n  toISO({\n    format = \"extended\",\n    suppressSeconds = false,\n    suppressMilliseconds = false,\n    includeOffset = true,\n    extendedZone = false,\n  } = {}) {\n    if (!this.isValid) {\n      return null;\n    }\n\n    const ext = format === \"extended\";\n\n    let c = toISODate(this, ext);\n    c += \"T\";\n    c += toISOTime(this, ext, suppressSeconds, suppressMilliseconds, includeOffset, extendedZone);\n    return c;\n  }\n\n  /**\n   * Returns an ISO 8601-compliant string representation of this DateTime's date component\n   * @param {Object} opts - options\n   * @param {string} [opts.format='extended'] - choose between the basic and extended format\n   * @example DateTime.utc(1982, 5, 25).toISODate() //=> '1982-05-25'\n   * @example DateTime.utc(1982, 5, 25).toISODate({ format: 'basic' }) //=> '19820525'\n   * @return {string}\n   */\n  toISODate({ format = \"extended\" } = {}) {\n    if (!this.isValid) {\n      return null;\n    }\n\n    return toISODate(this, format === \"extended\");\n  }\n\n  /**\n   * Returns an ISO 8601-compliant string representation of this DateTime's week date\n   * @example DateTime.utc(1982, 5, 25).toISOWeekDate() //=> '1982-W21-2'\n   * @return {string}\n   */\n  toISOWeekDate() {\n    return toTechFormat(this, \"kkkk-'W'WW-c\");\n  }\n\n  /**\n   * Returns an ISO 8601-compliant string representation of this DateTime's time component\n   * @param {Object} opts - options\n   * @param {boolean} [opts.suppressMilliseconds=false] - exclude milliseconds from the format if they're 0\n   * @param {boolean} [opts.suppressSeconds=false] - exclude seconds from the format if they're 0\n   * @param {boolean} [opts.includeOffset=true] - include the offset, such as 'Z' or '-04:00'\n   * @param {boolean} [opts.extendedZone=true] - add the time zone format extension\n   * @param {boolean} [opts.includePrefix=false] - include the `T` prefix\n   * @param {string} [opts.format='extended'] - choose between the basic and extended format\n   * @example DateTime.utc().set({ hour: 7, minute: 34 }).toISOTime() //=> '07:34:19.361Z'\n   * @example DateTime.utc().set({ hour: 7, minute: 34, seconds: 0, milliseconds: 0 }).toISOTime({ suppressSeconds: true }) //=> '07:34Z'\n   * @example DateTime.utc().set({ hour: 7, minute: 34 }).toISOTime({ format: 'basic' }) //=> '073419.361Z'\n   * @example DateTime.utc().set({ hour: 7, minute: 34 }).toISOTime({ includePrefix: true }) //=> 'T07:34:19.361Z'\n   * @return {string}\n   */\n  toISOTime({\n    suppressMilliseconds = false,\n    suppressSeconds = false,\n    includeOffset = true,\n    includePrefix = false,\n    extendedZone = false,\n    format = \"extended\",\n  } = {}) {\n    if (!this.isValid) {\n      return null;\n    }\n\n    let c = includePrefix ? \"T\" : \"\";\n    return (\n      c +\n      toISOTime(\n        this,\n        format === \"extended\",\n        suppressSeconds,\n        suppressMilliseconds,\n        includeOffset,\n        extendedZone\n      )\n    );\n  }\n\n  /**\n   * Returns an RFC 2822-compatible string representation of this DateTime\n   * @example DateTime.utc(2014, 7, 13).toRFC2822() //=> 'Sun, 13 Jul 2014 00:00:00 +0000'\n   * @example DateTime.local(2014, 7, 13).toRFC2822() //=> 'Sun, 13 Jul 2014 00:00:00 -0400'\n   * @return {string}\n   */\n  toRFC2822() {\n    return toTechFormat(this, \"EEE, dd LLL yyyy HH:mm:ss ZZZ\", false);\n  }\n\n  /**\n   * Returns a string representation of this DateTime appropriate for use in HTTP headers. The output is always expressed in GMT.\n   * Specifically, the string conforms to RFC 1123.\n   * @see https://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.3.1\n   * @example DateTime.utc(2014, 7, 13).toHTTP() //=> 'Sun, 13 Jul 2014 00:00:00 GMT'\n   * @example DateTime.utc(2014, 7, 13, 19).toHTTP() //=> 'Sun, 13 Jul 2014 19:00:00 GMT'\n   * @return {string}\n   */\n  toHTTP() {\n    return toTechFormat(this.toUTC(), \"EEE, dd LLL yyyy HH:mm:ss 'GMT'\");\n  }\n\n  /**\n   * Returns a string representation of this DateTime appropriate for use in SQL Date\n   * @example DateTime.utc(2014, 7, 13).toSQLDate() //=> '2014-07-13'\n   * @return {string}\n   */\n  toSQLDate() {\n    if (!this.isValid) {\n      return null;\n    }\n    return toISODate(this, true);\n  }\n\n  /**\n   * Returns a string representation of this DateTime appropriate for use in SQL Time\n   * @param {Object} opts - options\n   * @param {boolean} [opts.includeZone=false] - include the zone, such as 'America/New_York'. Overrides includeOffset.\n   * @param {boolean} [opts.includeOffset=true] - include the offset, such as 'Z' or '-04:00'\n   * @param {boolean} [opts.includeOffsetSpace=true] - include the space between the time and the offset, such as '05:15:16.345 -04:00'\n   * @example DateTime.utc().toSQL() //=> '05:15:16.345'\n   * @example DateTime.now().toSQL() //=> '05:15:16.345 -04:00'\n   * @example DateTime.now().toSQL({ includeOffset: false }) //=> '05:15:16.345'\n   * @example DateTime.now().toSQL({ includeZone: false }) //=> '05:15:16.345 America/New_York'\n   * @return {string}\n   */\n  toSQLTime({ includeOffset = true, includeZone = false, includeOffsetSpace = true } = {}) {\n    let fmt = \"HH:mm:ss.SSS\";\n\n    if (includeZone || includeOffset) {\n      if (includeOffsetSpace) {\n        fmt += \" \";\n      }\n      if (includeZone) {\n        fmt += \"z\";\n      } else if (includeOffset) {\n        fmt += \"ZZ\";\n      }\n    }\n\n    return toTechFormat(this, fmt, true);\n  }\n\n  /**\n   * Returns a string representation of this DateTime appropriate for use in SQL DateTime\n   * @param {Object} opts - options\n   * @param {boolean} [opts.includeZone=false] - include the zone, such as 'America/New_York'. Overrides includeOffset.\n   * @param {boolean} [opts.includeOffset=true] - include the offset, such as 'Z' or '-04:00'\n   * @param {boolean} [opts.includeOffsetSpace=true] - include the space between the time and the offset, such as '05:15:16.345 -04:00'\n   * @example DateTime.utc(2014, 7, 13).toSQL() //=> '2014-07-13 00:00:00.000 Z'\n   * @example DateTime.local(2014, 7, 13).toSQL() //=> '2014-07-13 00:00:00.000 -04:00'\n   * @example DateTime.local(2014, 7, 13).toSQL({ includeOffset: false }) //=> '2014-07-13 00:00:00.000'\n   * @example DateTime.local(2014, 7, 13).toSQL({ includeZone: true }) //=> '2014-07-13 00:00:00.000 America/New_York'\n   * @return {string}\n   */\n  toSQL(opts = {}) {\n    if (!this.isValid) {\n      return null;\n    }\n\n    return `${this.toSQLDate()} ${this.toSQLTime(opts)}`;\n  }\n\n  /**\n   * Returns a string representation of this DateTime appropriate for debugging\n   * @return {string}\n   */\n  toString() {\n    return this.isValid ? this.toISO() : INVALID;\n  }\n\n  /**\n   * Returns a string representation of this DateTime appropriate for the REPL.\n   * @return {string}\n   */\n  [Symbol.for(\"nodejs.util.inspect.custom\")]() {\n    if (this.isValid) {\n      return `DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`;\n    } else {\n      return `DateTime { Invalid, reason: ${this.invalidReason} }`;\n    }\n  }\n\n  /**\n   * Returns the epoch milliseconds of this DateTime. Alias of {@link DateTime#toMillis}\n   * @return {number}\n   */\n  valueOf() {\n    return this.toMillis();\n  }\n\n  /**\n   * Returns the epoch milliseconds of this DateTime.\n   * @return {number}\n   */\n  toMillis() {\n    return this.isValid ? this.ts : NaN;\n  }\n\n  /**\n   * Returns the epoch seconds of this DateTime.\n   * @return {number}\n   */\n  toSeconds() {\n    return this.isValid ? this.ts / 1000 : NaN;\n  }\n\n  /**\n   * Returns the epoch seconds (as a whole number) of this DateTime.\n   * @return {number}\n   */\n  toUnixInteger() {\n    return this.isValid ? Math.floor(this.ts / 1000) : NaN;\n  }\n\n  /**\n   * Returns an ISO 8601 representation of this DateTime appropriate for use in JSON.\n   * @return {string}\n   */\n  toJSON() {\n    return this.toISO();\n  }\n\n  /**\n   * Returns a BSON serializable equivalent to this DateTime.\n   * @return {Date}\n   */\n  toBSON() {\n    return this.toJSDate();\n  }\n\n  /**\n   * Returns a JavaScript object with this DateTime's year, month, day, and so on.\n   * @param opts - options for generating the object\n   * @param {boolean} [opts.includeConfig=false] - include configuration attributes in the output\n   * @example DateTime.now().toObject() //=> { year: 2017, month: 4, day: 22, hour: 20, minute: 49, second: 42, millisecond: 268 }\n   * @return {Object}\n   */\n  toObject(opts = {}) {\n    if (!this.isValid) return {};\n\n    const base = { ...this.c };\n\n    if (opts.includeConfig) {\n      base.outputCalendar = this.outputCalendar;\n      base.numberingSystem = this.loc.numberingSystem;\n      base.locale = this.loc.locale;\n    }\n    return base;\n  }\n\n  /**\n   * Returns a JavaScript Date equivalent to this DateTime.\n   * @return {Date}\n   */\n  toJSDate() {\n    return new Date(this.isValid ? this.ts : NaN);\n  }\n\n  // COMPARE\n\n  /**\n   * Return the difference between two DateTimes as a Duration.\n   * @param {DateTime} otherDateTime - the DateTime to compare this one to\n   * @param {string|string[]} [unit=['milliseconds']] - the unit or array of units (such as 'hours' or 'days') to include in the duration.\n   * @param {Object} opts - options that affect the creation of the Duration\n   * @param {string} [opts.conversionAccuracy='casual'] - the conversion system to use\n   * @example\n   * var i1 = DateTime.fromISO('1982-05-25T09:45'),\n   *     i2 = DateTime.fromISO('1983-10-14T10:30');\n   * i2.diff(i1).toObject() //=> { milliseconds: 43807500000 }\n   * i2.diff(i1, 'hours').toObject() //=> { hours: 12168.75 }\n   * i2.diff(i1, ['months', 'days']).toObject() //=> { months: 16, days: 19.03125 }\n   * i2.diff(i1, ['months', 'days', 'hours']).toObject() //=> { months: 16, days: 19, hours: 0.75 }\n   * @return {Duration}\n   */\n  diff(otherDateTime, unit = \"milliseconds\", opts = {}) {\n    if (!this.isValid || !otherDateTime.isValid) {\n      return Duration.invalid(\"created by diffing an invalid DateTime\");\n    }\n\n    const durOpts = { locale: this.locale, numberingSystem: this.numberingSystem, ...opts };\n\n    const units = maybeArray(unit).map(Duration.normalizeUnit),\n      otherIsLater = otherDateTime.valueOf() > this.valueOf(),\n      earlier = otherIsLater ? this : otherDateTime,\n      later = otherIsLater ? otherDateTime : this,\n      diffed = diff(earlier, later, units, durOpts);\n\n    return otherIsLater ? diffed.negate() : diffed;\n  }\n\n  /**\n   * Return the difference between this DateTime and right now.\n   * See {@link DateTime#diff}\n   * @param {string|string[]} [unit=['milliseconds']] - the unit or units units (such as 'hours' or 'days') to include in the duration\n   * @param {Object} opts - options that affect the creation of the Duration\n   * @param {string} [opts.conversionAccuracy='casual'] - the conversion system to use\n   * @return {Duration}\n   */\n  diffNow(unit = \"milliseconds\", opts = {}) {\n    return this.diff(DateTime.now(), unit, opts);\n  }\n\n  /**\n   * Return an Interval spanning between this DateTime and another DateTime\n   * @param {DateTime} otherDateTime - the other end point of the Interval\n   * @return {Interval}\n   */\n  until(otherDateTime) {\n    return this.isValid ? Interval.fromDateTimes(this, otherDateTime) : this;\n  }\n\n  /**\n   * Return whether this DateTime is in the same unit of time as another DateTime.\n   * Higher-order units must also be identical for this function to return `true`.\n   * Note that time zones are **ignored** in this comparison, which compares the **local** calendar time. Use {@link DateTime#setZone} to convert one of the dates if needed.\n   * @param {DateTime} otherDateTime - the other DateTime\n   * @param {string} unit - the unit of time to check sameness on\n   * @param {Object} opts - options\n   * @param {boolean} [opts.useLocaleWeeks=false] - If true, use weeks based on the locale, i.e. use the locale-dependent start of the week; only the locale of this DateTime is used\n   * @example DateTime.now().hasSame(otherDT, 'day'); //~> true if otherDT is in the same current calendar day\n   * @return {boolean}\n   */\n  hasSame(otherDateTime, unit, opts) {\n    if (!this.isValid) return false;\n\n    const inputMs = otherDateTime.valueOf();\n    const adjustedToZone = this.setZone(otherDateTime.zone, { keepLocalTime: true });\n    return (\n      adjustedToZone.startOf(unit, opts) <= inputMs && inputMs <= adjustedToZone.endOf(unit, opts)\n    );\n  }\n\n  /**\n   * Equality check\n   * Two DateTimes are equal if and only if they represent the same millisecond, have the same zone and location, and are both valid.\n   * To compare just the millisecond values, use `+dt1 === +dt2`.\n   * @param {DateTime} other - the other DateTime\n   * @return {boolean}\n   */\n  equals(other) {\n    return (\n      this.isValid &&\n      other.isValid &&\n      this.valueOf() === other.valueOf() &&\n      this.zone.equals(other.zone) &&\n      this.loc.equals(other.loc)\n    );\n  }\n\n  /**\n   * Returns a string representation of a this time relative to now, such as \"in two days\". Can only internationalize if your\n   * platform supports Intl.RelativeTimeFormat. Rounds down by default.\n   * @param {Object} options - options that affect the output\n   * @param {DateTime} [options.base=DateTime.now()] - the DateTime to use as the basis to which this time is compared. Defaults to now.\n   * @param {string} [options.style=\"long\"] - the style of units, must be \"long\", \"short\", or \"narrow\"\n   * @param {string|string[]} options.unit - use a specific unit or array of units; if omitted, or an array, the method will pick the best unit. Use an array or one of \"years\", \"quarters\", \"months\", \"weeks\", \"days\", \"hours\", \"minutes\", or \"seconds\"\n   * @param {boolean} [options.round=true] - whether to round the numbers in the output.\n   * @param {number} [options.padding=0] - padding in milliseconds. This allows you to round up the result if it fits inside the threshold. Don't use in combination with {round: false} because the decimal output will include the padding.\n   * @param {string} options.locale - override the locale of this DateTime\n   * @param {string} options.numberingSystem - override the numberingSystem of this DateTime. The Intl system may choose not to honor this\n   * @example DateTime.now().plus({ days: 1 }).toRelative() //=> \"in 1 day\"\n   * @example DateTime.now().setLocale(\"es\").toRelative({ days: 1 }) //=> \"dentro de 1 d\u00EDa\"\n   * @example DateTime.now().plus({ days: 1 }).toRelative({ locale: \"fr\" }) //=> \"dans 23 heures\"\n   * @example DateTime.now().minus({ days: 2 }).toRelative() //=> \"2 days ago\"\n   * @example DateTime.now().minus({ days: 2 }).toRelative({ unit: \"hours\" }) //=> \"48 hours ago\"\n   * @example DateTime.now().minus({ hours: 36 }).toRelative({ round: false }) //=> \"1.5 days ago\"\n   */\n  toRelative(options = {}) {\n    if (!this.isValid) return null;\n    const base = options.base || DateTime.fromObject({}, { zone: this.zone }),\n      padding = options.padding ? (this < base ? -options.padding : options.padding) : 0;\n    let units = [\"years\", \"months\", \"days\", \"hours\", \"minutes\", \"seconds\"];\n    let unit = options.unit;\n    if (Array.isArray(options.unit)) {\n      units = options.unit;\n      unit = undefined;\n    }\n    return diffRelative(base, this.plus(padding), {\n      ...options,\n      numeric: \"always\",\n      units,\n      unit,\n    });\n  }\n\n  /**\n   * Returns a string representation of this date relative to today, such as \"yesterday\" or \"next month\".\n   * Only internationalizes on platforms that supports Intl.RelativeTimeFormat.\n   * @param {Object} options - options that affect the output\n   * @param {DateTime} [options.base=DateTime.now()] - the DateTime to use as the basis to which this time is compared. Defaults to now.\n   * @param {string} options.locale - override the locale of this DateTime\n   * @param {string} options.unit - use a specific unit; if omitted, the method will pick the unit. Use one of \"years\", \"quarters\", \"months\", \"weeks\", or \"days\"\n   * @param {string} options.numberingSystem - override the numberingSystem of this DateTime. The Intl system may choose not to honor this\n   * @example DateTime.now().plus({ days: 1 }).toRelativeCalendar() //=> \"tomorrow\"\n   * @example DateTime.now().setLocale(\"es\").plus({ days: 1 }).toRelative() //=> \"\"ma\u00F1ana\"\n   * @example DateTime.now().plus({ days: 1 }).toRelativeCalendar({ locale: \"fr\" }) //=> \"demain\"\n   * @example DateTime.now().minus({ days: 2 }).toRelativeCalendar() //=> \"2 days ago\"\n   */\n  toRelativeCalendar(options = {}) {\n    if (!this.isValid) return null;\n\n    return diffRelative(options.base || DateTime.fromObject({}, { zone: this.zone }), this, {\n      ...options,\n      numeric: \"auto\",\n      units: [\"years\", \"months\", \"days\"],\n      calendary: true,\n    });\n  }\n\n  /**\n   * Return the min of several date times\n   * @param {...DateTime} dateTimes - the DateTimes from which to choose the minimum\n   * @return {DateTime} the min DateTime, or undefined if called with no argument\n   */\n  static min(...dateTimes) {\n    if (!dateTimes.every(DateTime.isDateTime)) {\n      throw new InvalidArgumentError(\"min requires all arguments be DateTimes\");\n    }\n    return bestBy(dateTimes, (i) => i.valueOf(), Math.min);\n  }\n\n  /**\n   * Return the max of several date times\n   * @param {...DateTime} dateTimes - the DateTimes from which to choose the maximum\n   * @return {DateTime} the max DateTime, or undefined if called with no argument\n   */\n  static max(...dateTimes) {\n    if (!dateTimes.every(DateTime.isDateTime)) {\n      throw new InvalidArgumentError(\"max requires all arguments be DateTimes\");\n    }\n    return bestBy(dateTimes, (i) => i.valueOf(), Math.max);\n  }\n\n  // MISC\n\n  /**\n   * Explain how a string would be parsed by fromFormat()\n   * @param {string} text - the string to parse\n   * @param {string} fmt - the format the string is expected to be in (see description)\n   * @param {Object} options - options taken by fromFormat()\n   * @return {Object}\n   */\n  static fromFormatExplain(text, fmt, options = {}) {\n    const { locale = null, numberingSystem = null } = options,\n      localeToUse = Locale.fromOpts({\n        locale,\n        numberingSystem,\n        defaultToEN: true,\n      });\n    return explainFromTokens(localeToUse, text, fmt);\n  }\n\n  /**\n   * @deprecated use fromFormatExplain instead\n   */\n  static fromStringExplain(text, fmt, options = {}) {\n    return DateTime.fromFormatExplain(text, fmt, options);\n  }\n\n  // FORMAT PRESETS\n\n  /**\n   * {@link DateTime#toLocaleString} format like 10/14/1983\n   * @type {Object}\n   */\n  static get DATE_SHORT() {\n    return Formats.DATE_SHORT;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like 'Oct 14, 1983'\n   * @type {Object}\n   */\n  static get DATE_MED() {\n    return Formats.DATE_MED;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like 'Fri, Oct 14, 1983'\n   * @type {Object}\n   */\n  static get DATE_MED_WITH_WEEKDAY() {\n    return Formats.DATE_MED_WITH_WEEKDAY;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like 'October 14, 1983'\n   * @type {Object}\n   */\n  static get DATE_FULL() {\n    return Formats.DATE_FULL;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like 'Tuesday, October 14, 1983'\n   * @type {Object}\n   */\n  static get DATE_HUGE() {\n    return Formats.DATE_HUGE;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like '09:30 AM'. Only 12-hour if the locale is.\n   * @type {Object}\n   */\n  static get TIME_SIMPLE() {\n    return Formats.TIME_SIMPLE;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like '09:30:23 AM'. Only 12-hour if the locale is.\n   * @type {Object}\n   */\n  static get TIME_WITH_SECONDS() {\n    return Formats.TIME_WITH_SECONDS;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like '09:30:23 AM EDT'. Only 12-hour if the locale is.\n   * @type {Object}\n   */\n  static get TIME_WITH_SHORT_OFFSET() {\n    return Formats.TIME_WITH_SHORT_OFFSET;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like '09:30:23 AM Eastern Daylight Time'. Only 12-hour if the locale is.\n   * @type {Object}\n   */\n  static get TIME_WITH_LONG_OFFSET() {\n    return Formats.TIME_WITH_LONG_OFFSET;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like '09:30', always 24-hour.\n   * @type {Object}\n   */\n  static get TIME_24_SIMPLE() {\n    return Formats.TIME_24_SIMPLE;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like '09:30:23', always 24-hour.\n   * @type {Object}\n   */\n  static get TIME_24_WITH_SECONDS() {\n    return Formats.TIME_24_WITH_SECONDS;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like '09:30:23 EDT', always 24-hour.\n   * @type {Object}\n   */\n  static get TIME_24_WITH_SHORT_OFFSET() {\n    return Formats.TIME_24_WITH_SHORT_OFFSET;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like '09:30:23 Eastern Daylight Time', always 24-hour.\n   * @type {Object}\n   */\n  static get TIME_24_WITH_LONG_OFFSET() {\n    return Formats.TIME_24_WITH_LONG_OFFSET;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like '10/14/1983, 9:30 AM'. Only 12-hour if the locale is.\n   * @type {Object}\n   */\n  static get DATETIME_SHORT() {\n    return Formats.DATETIME_SHORT;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like '10/14/1983, 9:30:33 AM'. Only 12-hour if the locale is.\n   * @type {Object}\n   */\n  static get DATETIME_SHORT_WITH_SECONDS() {\n    return Formats.DATETIME_SHORT_WITH_SECONDS;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like 'Oct 14, 1983, 9:30 AM'. Only 12-hour if the locale is.\n   * @type {Object}\n   */\n  static get DATETIME_MED() {\n    return Formats.DATETIME_MED;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like 'Oct 14, 1983, 9:30:33 AM'. Only 12-hour if the locale is.\n   * @type {Object}\n   */\n  static get DATETIME_MED_WITH_SECONDS() {\n    return Formats.DATETIME_MED_WITH_SECONDS;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like 'Fri, 14 Oct 1983, 9:30 AM'. Only 12-hour if the locale is.\n   * @type {Object}\n   */\n  static get DATETIME_MED_WITH_WEEKDAY() {\n    return Formats.DATETIME_MED_WITH_WEEKDAY;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like 'October 14, 1983, 9:30 AM EDT'. Only 12-hour if the locale is.\n   * @type {Object}\n   */\n  static get DATETIME_FULL() {\n    return Formats.DATETIME_FULL;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like 'October 14, 1983, 9:30:33 AM EDT'. Only 12-hour if the locale is.\n   * @type {Object}\n   */\n  static get DATETIME_FULL_WITH_SECONDS() {\n    return Formats.DATETIME_FULL_WITH_SECONDS;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like 'Friday, October 14, 1983, 9:30 AM Eastern Daylight Time'. Only 12-hour if the locale is.\n   * @type {Object}\n   */\n  static get DATETIME_HUGE() {\n    return Formats.DATETIME_HUGE;\n  }\n\n  /**\n   * {@link DateTime#toLocaleString} format like 'Friday, October 14, 1983, 9:30:33 AM Eastern Daylight Time'. Only 12-hour if the locale is.\n   * @type {Object}\n   */\n  static get DATETIME_HUGE_WITH_SECONDS() {\n    return Formats.DATETIME_HUGE_WITH_SECONDS;\n  }\n}\n\n/**\n * @private\n */\nexport function friendlyDateTime(dateTimeish) {\n  if (DateTime.isDateTime(dateTimeish)) {\n    return dateTimeish;\n  } else if (dateTimeish && dateTimeish.valueOf && isNumber(dateTimeish.valueOf())) {\n    return DateTime.fromJSDate(dateTimeish);\n  } else if (dateTimeish && typeof dateTimeish === \"object\") {\n    return DateTime.fromObject(dateTimeish);\n  } else {\n    throw new InvalidArgumentError(\n      `Unknown datetime argument: ${dateTimeish}, of type ${typeof dateTimeish}`\n    );\n  }\n}\n", "<script lang=\"ts\">\r\n    import {L} from \"@Core/Localization/Localization\";\r\n    import {__sortBy, __thewordunknown} from \"@Strings/_strings\";\r\n    import {createEventDispatcher, onMount, tick} from \"svelte\";\r\n    import type {SortboxChangeEvent} from \"@Content/Modules/Widgets/SortboxChangeEvent\";\r\n\r\n    const dispatch = createEventDispatcher<{\r\n        change: SortboxChangeEvent\r\n    }>();\r\n\r\n    export let name: string;\r\n    export let options: Array<[string, string]>;\r\n    export let value: string; // format: {key}_{ASC|DESC}\r\n\r\n    let highlighted: string;\r\n    let selected: string;\r\n    let selectedName: string;\r\n    let direction: number;\r\n\r\n    let containerNode: HTMLElement;\r\n    let isOpen: boolean = false;\r\n\r\n    function clickOutsideHandler(e: MouseEvent): void {\r\n        if (!containerNode.contains(<HTMLElement>e.target)) {\r\n            hide();\r\n        }\r\n    }\r\n\r\n    function show(): void {\r\n        document.addEventListener(\"mousedown\", clickOutsideHandler);\r\n        isOpen = true;\r\n    }\r\n\r\n    function hide(): void {\r\n        document.removeEventListener(\"mousedown\", clickOutsideHandler);\r\n        isOpen = false;\r\n    }\r\n\r\n    function dispatchChange(): void {\r\n        dispatch(\"change\", {\r\n            value,\r\n            key: selected,\r\n            direction\r\n        });\r\n    }\r\n\r\n    function select(key: string, name: string): void {\r\n        hide();\r\n        selected = key;\r\n        selectedName = name;\r\n        value = `${selected}_${direction < 0 ? \"DESC\" : \"ASC\"}`;\r\n        dispatchChange();\r\n    }\r\n\r\n    function reverse(): void {\r\n        direction = direction * -1;\r\n        value = `${selected}_${direction < 0 ? \"DESC\" : \"ASC\"}`;\r\n        dispatchChange();\r\n    }\r\n\r\n    onMount(() => {\r\n        direction = value.endsWith(\"_DESC\") ? -1 : 1;\r\n        selected = value.replace(/(_ASC|_DESC)$/, \"\");\r\n        highlighted = selected;\r\n        selectedName = L(__thewordunknown);\r\n        for (let [key, name] of options) {\r\n            if (key === selected) {\r\n                selectedName = name;\r\n                break;\r\n            }\r\n        }\r\n\r\n        // Trigger change for initial option\r\n        if (value !== \"default_ASC\") {\r\n            tick().then(dispatchChange);\r\n        }\r\n    });\r\n</script>\r\n\r\n\r\n<div class=\"as-sortbox\"\r\n     class:as-sortbox--groups={name === \"groups\"}\r\n     class:as-sortbox--reviews={name === \"reviews\"}\r\n     class:as-sortbox--friends={name === \"friends\"}\r\n>\r\n    <div class=\"as-sortbox__label\">{L(__sortBy)}</div>\r\n    <div class=\"as-sortbox__container\" bind:this={containerNode}>\r\n        <button class=\"as-sortbox__trigger\"\r\n                class:is-open={isOpen}\r\n                on:click={show}>{selectedName}</button>\r\n\r\n        <div class=\"as-dropdown\" class:is-open={isOpen}>\r\n            <ul>\r\n                {#each options as [key, name]}\r\n                    <li>\r\n                        <!-- svelte-ignore a11y-mouse-events-have-key-events -->\r\n                        <button type=\"button\"\r\n                                class:is-highlighted={highlighted === key}\r\n                                on:mouseover={() => highlighted = key}\r\n                                on:click={() => select(key, name)}\r\n                        >{name}</button>\r\n                    </li>\r\n                {/each}\r\n            </ul>\r\n        </div>\r\n    </div>\r\n\r\n    <button type=\"button\" class=\"as-sortbox__reverse\" on:click={reverse}>\r\n        {#if direction < 0}↓{:else}↑{/if}\r\n    </button>\r\n</div>\r\n\r\n\r\n<style>\r\n    button {\r\n        background: transparent;\r\n        text-align: left;\r\n        border: 0;\r\n        outline: 0;\r\n    }\r\n\r\n    .as-sortbox {\r\n        color: #fff;\r\n        float: right;\r\n        margin-top: 4px;\r\n    }\r\n    .as-sortbox--reviews {\r\n        padding: 20px 0 5px 0;\r\n    }\r\n    .as-sortbox--friends, .as-sortbox--groups {\r\n        flex-grow: 2;\r\n        margin-right: 20px;\r\n        margin-top: 0;\r\n        text-align: right;\r\n    }\r\n\r\n    .as-sortbox__label {\r\n        font-size: 12px;\r\n        display: inline-block;\r\n        margin-right: 4px;\r\n    }\r\n    .as-sortbox__container {\r\n        display: inline-block;\r\n        vertical-align: middle;\r\n        width: 120px;\r\n        position: relative;\r\n        font-size: 12px;\r\n        text-align: left;\r\n    }\r\n    .as-sortbox__reverse {\r\n        cursor: pointer;\r\n        color: white;\r\n    }\r\n    .as-sortbox__trigger {\r\n        display: block;\r\n        width: 100%;\r\n        color: #67c1f5;\r\n        padding: 0 30px 0 8px;\r\n        font-size: 12px;\r\n        line-height: 21px;\r\n        border: 0;\r\n        border-radius: 3px;\r\n        text-decoration: none;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n        white-space: nowrap;\r\n        position: relative;\r\n        background: rgba( 103, 193, 245, 0.1 );\r\n    }\r\n    .as-sortbox__trigger.is-open {\r\n        border-bottom-left-radius: 0;\r\n        border-bottom-right-radius: 0;\r\n        z-index: 91;\r\n        position: relative;\r\n        color: #ffffff;\r\n        background: #67c1f5;\r\n    }\r\n    .as-sortbox__trigger::after {\r\n        position: absolute;\r\n        right: 0;\r\n        top: 0;\r\n        bottom: 0;\r\n        width: 20px;\r\n        background: url(\"https://store.cloudflare.steamstatic.com/public/images/v6/ico/ico_arrow_dn_for_select.png\") no-repeat left center;\r\n        content: '';\r\n    }\r\n    .as-dropdown {\r\n        position: relative;\r\n        display: none;\r\n    }\r\n    .as-dropdown.is-open {\r\n        display: block;\r\n    }\r\n    ul {\r\n        list-style-type: none;\r\n        line-height: 22px;\r\n        margin: 0;\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        right: 0;\r\n        padding: 0;\r\n        z-index: 900;\r\n        overflow: auto;\r\n        overflow-x: hidden;\r\n        box-shadow: 0 0 5px 0 #000000;\r\n        background: #417A9B;\r\n    }\r\n    ul button {\r\n        padding: 0 10px;\r\n        display: block;\r\n        width: 100%;\r\n        text-decoration: none;\r\n        color: #e5e4dc;\r\n        white-space: nowrap;\r\n    }\r\n    ul button.is-highlighted {\r\n        color: #ffffff;\r\n        background: #67c1f5 linear-gradient(-60deg, #417a9b 5%, #67c1f5 95%);\r\n    }\r\n</style>\r\n", "import {DateTime, type DateTimeOptions} from \"luxon\";\r\nimport {__dateUnlocked, __theworddefault} from \"@Strings/_strings\";\r\nimport {L} from \"@Core/Localization/Localization\";\r\nimport Language from \"@Core/Localization/Language\";\r\nimport HTML from \"@Core/Html/Html\";\r\nimport Feature from \"@Content/Modules/Context/Feature\";\r\nimport type CProfileStats from \"@Content/Features/Community/ProfileStats/CProfileStats\";\r\nimport SortBox from \"@Content/Modules/Widgets/SortBox.svelte\";\r\nimport RequestData from \"@Content/Modules/RequestData\";\r\n\r\ninterface DateFormatSettings {\r\n    format: string,\r\n    formatShort: string,\r\n    options: DateTimeOptions\r\n}\r\n\r\nexport default class FAchievementSort extends Feature<CProfileStats> {\r\n\r\n    private container: Element|null = null;\r\n    private bookmark: Element|null = null;\r\n\r\n    private defaultSort: Element[] = [];\r\n    private unlockedMap: Map<Element, number> = new Map();\r\n\r\n    override checkPrerequisites(): boolean {\r\n\r\n        // Check if the user has unlocked more than 1 achievement\r\n        return document.querySelectorAll(\"#personalAchieve .achieveUnlockTime\").length > 1;\r\n    }\r\n\r\n    override async apply(): Promise<void> {\r\n\r\n        this.container = document.getElementById(\"personalAchieve\");\r\n        if (this.container === null) {\r\n            throw new Error(\"Did not find #personalAchieve node\");\r\n        }\r\n\r\n        const tabs = document.getElementById(\"tabs\");\r\n        if (tabs === null) {\r\n            throw new Error(\"Did not find #tabs\");\r\n        }\r\n\r\n        (new SortBox({\r\n            target: tabs.parentElement!,\r\n            anchor: tabs,\r\n            props: {\r\n                name: \"achievements\",\r\n                options: [\r\n                    [\"default\", L(__theworddefault)],\r\n                    [\"time\", L(__dateUnlocked)],\r\n                ],\r\n                value: \"default_ASC\"\r\n            }\r\n        })).$on(\"change\", e => {\r\n            const {key, direction} = e.detail;\r\n            this._sortRows(key, direction < 0);\r\n        })\r\n    }\r\n\r\n    private getDateFormat(language: string): DateFormatSettings|null {\r\n\r\n        switch (language) {\r\n            case \"english\":\r\n                // English format is unstable (different based on region)\r\n                return null;\r\n\r\n            case \"czech\":\r\n                return {\r\n                    format: \"'Odem\u010Deno' d. LLL. yyyy v H.mm\",\r\n                    formatShort: \"'Odem\u010Deno' d. LLL. v H.mm\",\r\n                    options: {locale: \"cs\"}\r\n                };\r\n\r\n            // TODO add support for more locales without need to fallback\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    private async onFirstSort() {\r\n\r\n        const achieveRow = document.querySelector(\".achieveRow\");\r\n        if (!achieveRow) {\r\n            throw new Error(\"Could not create bookmark\");\r\n        }\r\n\r\n        this.bookmark = document.createElement(\"div\");\r\n        achieveRow.insertAdjacentElement(\"beforebegin\", this.bookmark);\r\n\r\n        let dateSetup = this.getDateFormat(this.context.language?.name ?? \"\");\r\n\r\n        const nodes = this.container!.querySelectorAll(\".achieveUnlockTime\");\r\n        for (const node of nodes) {\r\n            if (!node.firstChild?.textContent) { continue; }\r\n\r\n            const achieveRow = node.closest(\".achieveRow\");\r\n            if (!achieveRow) { continue; }\r\n\r\n            this.defaultSort.push(achieveRow);\r\n\r\n            if (dateSetup) {\r\n                const dateString = node.firstChild.textContent.trim();\r\n\r\n                const {format, formatShort, options} = dateSetup;\r\n                const fmt = /\\d{4}/.test(dateString) ? format : formatShort;\r\n                const unlockedTime = DateTime.fromFormat(dateString, fmt, options).toUnixInteger();\r\n\r\n                if (Number.isNaN(unlockedTime)) {\r\n                    this.logError(\r\n                        new Error(\"Invalid unlocked time\"),\r\n                        `Failed to parse \"${dateString}\" with format \"${fmt}\"`\r\n                    );\r\n                    return;\r\n                }\r\n\r\n                this.unlockedMap.set(achieveRow, unlockedTime);\r\n            }\r\n        }\r\n\r\n        // fallback, load the same page in czech\r\n        if (dateSetup === null) {\r\n            dateSetup = this.getDateFormat(\"czech\")!;\r\n\r\n            const url = new URL(window.location.origin + window.location.pathname);\r\n            url.searchParams.set(\"l\", \"czech\");\r\n\r\n            const data = await RequestData.getText(url.toString());\r\n            const nodes = HTML.toDom(data).querySelectorAll(\".achieveUnlockTime\");\r\n            if (nodes.length !== this.defaultSort.length) {\r\n                throw new Error(\"Achievement nodes mismatch\");\r\n            }\r\n\r\n            for (let i = 0; i < nodes.length; i++) {\r\n                const node = nodes[i];\r\n                if (!node || !node.firstChild?.textContent) { continue; }\r\n\r\n                const achieveRow = node.closest(\".achieveRow\");\r\n                if (!achieveRow) { continue; }\r\n\r\n                const dateString = node.firstChild.textContent.trim();\r\n\r\n                const {format, formatShort, options} = dateSetup;\r\n                const fmt = /\\d{4}/.test(dateString) ? format : formatShort;\r\n                const unlockedTime = DateTime.fromFormat(dateString, fmt, options).toUnixInteger();\r\n\r\n                if (Number.isNaN(unlockedTime)) {\r\n                    this.logError(\r\n                        new Error(\"Invalid unlocked time\"),\r\n                        `Failed to parse \"${dateString}\" with format \"${fmt}\"`\r\n                    );\r\n                    return;\r\n                }\r\n\r\n                this.unlockedMap.set(this.defaultSort[i]!, unlockedTime);\r\n            }\r\n        }\r\n    }\r\n\r\n    private async _sortRows(sortBy: string, reversed: boolean) {\r\n        if (!this.bookmark) {\r\n            await this.onFirstSort();\r\n        }\r\n\r\n        let sortedNodes: Element[] = [];\r\n\r\n        if (sortBy === \"default\") {\r\n            sortedNodes = [...this.defaultSort];\r\n        } else if (sortBy === \"time\") {\r\n            sortedNodes = [...this.unlockedMap.keys()]\r\n                .sort((a, b) => (this.unlockedMap.get(a) ?? 0) - (this.unlockedMap.get(b) ?? 0));\r\n        }\r\n\r\n        if (reversed) {\r\n            sortedNodes.reverse();\r\n        }\r\n\r\n        for (let node of sortedNodes) {\r\n            this.bookmark!.insertAdjacentElement(\"beforebegin\", node);\r\n        }\r\n    }\r\n}\r\n", "import AppId from \"@Core/GameId/AppId\";\r\nimport {__showAll} from \"@Strings/_strings\";\r\nimport {L} from \"@Core/Localization/Localization\";\r\nimport Feature from \"@Content/Modules/Context/Feature\";\r\nimport type CProfileStats from \"@Content/Features/Community/ProfileStats/CProfileStats\";\r\nimport HTML from \"@Core/Html/Html\";\r\nimport RequestData from \"@Content/Modules/RequestData\";\r\n\r\nexport default class FShowHiddenAchievements extends Feature<CProfileStats> {\r\n\r\n    private _node: HTMLElement|null = null;\r\n\r\n    override checkPrerequisites(): boolean {\r\n        // Check if there's a \"x hidden achievements remaining\" row present\r\n        this._node = document.querySelector(\".achieveHiddenBox\");\r\n        return this._node !== null;\r\n    }\r\n\r\n    override apply(): void {\r\n\r\n        const img = document.querySelector<HTMLImageElement>(\".gameLogo img\");\r\n        if (!img) {\r\n            return;\r\n        }\r\n\r\n        const appid = AppId.fromImageElement(img);\r\n        if (!appid) {\r\n            return;\r\n        }\r\n\r\n        const parent = this._node!.parentNode! as HTMLElement;\r\n\r\n        HTML.afterEnd(parent.querySelector(\".achieveTxt\"),\r\n            `<div id=\"as_ach_showall\" class=\"btnv6_blue_hoverfade btn_medium\">\r\n                <span>${L(__showAll)}</span>\r\n            </div>`);\r\n\r\n        const btn = document.getElementById(\"as_ach_showall\")!;\r\n        btn.addEventListener(\"click\", async() => {\r\n            if (btn.classList.contains(\"btn_disabled\")) { return; }\r\n\r\n            const visibleAchievements = [...document.querySelectorAll(\".achieveTxt\")].map(x => {\r\n                return {\r\n                    name: x.querySelector(\"h3\")!.textContent,\r\n                    desc: x.querySelector(\"h5\")!.textContent,\r\n                };\r\n            });\r\n\r\n            let achievements = (await this._getAchievements(appid))\r\n                .response.achievements.filter(\r\n                    val => val.hidden\r\n                        && !visibleAchievements.some(\r\n                            x => x.name === val.localized_name && x.desc === val.localized_desc\r\n                        )\r\n                );\r\n\r\n            for (const ach of achievements) {\r\n                HTML.afterEnd(parent,\r\n                    `<div class=\"achieveRow\">\r\n                        <div class=\"achieveImgHolder\">\r\n                            <img src=\"//cdn.cloudflare.steamstatic.com/steamcommunity/public/images/apps/${appid}/${ach.icon}\">\r\n                        </div>\r\n                        <div class=\"achieveTxtHolder\">\r\n                            <div class=\"achieveTxt\">\r\n                                <h3 class=\"ellipsis\">${ach.localized_name}</h3>\r\n                                <h5>${ach.localized_desc}</h5>\r\n                            </div>\r\n                        </div>\r\n                    </div>`);\r\n            }\r\n\r\n            btn.classList.add(\"btn_disabled\");\r\n        });\r\n    }\r\n\r\n    async _getAchievements(appid: number) {\r\n\r\n        const params = new URLSearchParams();\r\n        params.set(\"format\", \"json\");\r\n        params.set(\"access_token\", await this.context.user.getWebApiToken());\r\n        params.set(\"appid\", String(appid));\r\n        params.set(\"language\", this.context.language?.name ?? \"en\");\r\n        params.set(\"x_requested_with\", \"AugmentedSteam\");\r\n\r\n        return RequestData.getJson<{\r\n            response: {\r\n                achievements: Array<{\r\n                    hidden: boolean,\r\n                    localized_name: string,\r\n                    localized_desc: string,\r\n                    icon: string\r\n                }>\r\n            }\r\n        }>(\r\n            `https://api.steampowered.com/IPlayerService/GetGameAchievements/v1/?${params.toString()}`,\r\n            {\"credentials\": \"omit\"}\r\n        );\r\n    }\r\n}\r\n", "import ContextType from \"@Content/Modules/Context/ContextType\";\r\nimport CCommunityBase from \"../CCommunityBase\";\r\nimport FAchievementSort from \"./FAchievementSort\";\r\nimport FShowHiddenAchievements from \"./FShowHiddenAchievements\";\r\nimport type {ContextParams} from \"@Content/Modules/Context/Context\";\r\n\r\nexport default class CProfileStats extends CCommunityBase {\r\n\r\n    constructor(params: ContextParams) {\r\n\r\n        // Don't apply features if there's an error message (e.g. user doesn't own the game)\r\n        if (document.querySelector(\".profile_fatalerror\") !== null) {\r\n            super(params, ContextType.PROFILE_STATS);\r\n            return;\r\n        }\r\n\r\n        super(params, ContextType.PROFILE_STATS, [\r\n            FAchievementSort,\r\n            FShowHiddenAchievements,\r\n        ]);\r\n    }\r\n}\r\n", "/**\r\n * @contentScript\r\n * @match *://steamcommunity.com/(id|profiles)/*\\/stats/*\r\n */\r\n\r\nimport CommunityPage from \"../../CommunityPage\";\r\nimport CProfileStats from \"./CProfileStats\";\r\n\r\n(new CommunityPage(CProfileStats)).run();\r\n"],
  "mappings": "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ACA,MACA,QACA,aACA,OACA,KACA,SACA,SACA,UACA,SACA,OACA,OACA,MACA,WACA,UACA,OACA,WACA,KACA,YACA,MACA,UACA,MACA,SACA,MACA,MACA,KACA,KACA,UACA,KACA,WACA,aACA,SACA,OACA,SACA,OACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,SACA,SACA,KACA,OACA,IACA,MACA,QACA,MACA,MACA,QACA,SACA,KACA,OACA,MACA,OACA,UACA,OACA,WACA,QACA,MACA,OACA,KACA,WACA,SACA,SACA,IACA,UACA,MACA,WACA,IACA,KACA,KACA,OACA,IACA,OACA,UACA,SACA,SACA,QACA,SACA,SACA,OACA,SACA,SACA,QACA,MACA,UACA,MACA,QACA,QACA,KACA,WACA,WACA,QACA,KACA,QACA,OACA,KACA,QACA,KACA,IACA,KACA,MACA,QACA,KAAK,CACN,EAGY2E,GAAM3E,EAAO,CACxB,MACA,IACA,WACA,cACA,eACA,eACA,gBACA,mBACA,SACA,WACA,OACA,OACA,UACA,SACA,OACA,IACA,QACA,WACA,QACA,QACA,OACA,iBACA,SACA,OACA,WACA,QACA,OACA,UACA,UACA,WACA,iBACA,OACA,OACA,QACA,SACA,SACA,OACA,WACA,QACA,OACA,QACA,OACA,OAAO,CACR,EAEY4E,GAAa5E,EAAO,CAC/B,UACA,gBACA,sBACA,cACA,mBACA,oBACA,oBACA,iBACA,eACA,UACA,UACA,UACA,UACA,UACA,iBACA,UACA,UACA,cACA,eACA,WACA,eACA,qBACA,cACA,SACA,cAAc,CACf,EAMY6E,GAAgB7E,EAAO,CAClC,UACA,gBACA,SACA,UACA,YACA,mBACA,iBACA,gBACA,gBACA,gBACA,QACA,YACA,OACA,eACA,YACA,UACA,gBACA,SACA,MACA,aACA,UACA,KAAK,CACN,EAEY8E,GAAS9E,EAAO,CAC3B,OACA,WACA,SACA,UACA,QACA,SACA,KACA,aACA,gBACA,KACA,KACA,QACA,UACA,WACA,QACA,OACA,KACA,SACA,QACA,SACA,OACA,OACA,UACA,SACA,MACA,QACA,MACA,SACA,aACA,aAAa,CACd,EAIY+E,GAAmB/E,EAAO,CACrC,UACA,cACA,aACA,WACA,YACA,UACA,UACA,SACA,SACA,QACA,YACA,aACA,iBACA,cACA,MAAM,CACP,EAEYgF,GAAOhF,EAAO,CAAC,OAAO,CAAC,ECrRvB0E,GAAO1E,EAAO,CACzB,SACA,SACA,QACA,MACA,iBACA,eACA,uBACA,WACA,aACA,UACA,SACA,UACA,cACA,cACA,UACA,OACA,QACA,QACA,QACA,OACA,UACA,WACA,eACA,SACA,cACA,WACA,WACA,UACA,MACA,WACA,0BACA,wBACA,WACA,YACA,UACA,eACA,OACA,MACA,UACA,SACA,SACA,OACA,OACA,WACA,KACA,YACA,YACA,QACA,OACA,QACA,OACA,OACA,UACA,OACA,MACA,MACA,YACA,QACA,SACA,MACA,YACA,WACA,QACA,OACA,QACA,UACA,aACA,SACA,OACA,UACA,UACA,cACA,cACA,SACA,UACA,UACA,aACA,WACA,MACA,WACA,MACA,WACA,OACA,OACA,UACA,aACA,QACA,WACA,QACA,OACA,QACA,OACA,UACA,QACA,MACA,SACA,OACA,QACA,UACA,WACA,QACA,YACA,OACA,SACA,SACA,QACA,QACA,OACA,QACA,MAAM,CACP,EAEY2E,GAAM3E,EAAO,CACxB,gBACA,aACA,WACA,qBACA,SACA,gBACA,gBACA,UACA,gBACA,iBACA,QACA,OACA,KACA,QACA,OACA,gBACA,YACA,YACA,QACA,sBACA,8BACA,gBACA,kBACA,KACA,KACA,IACA,KACA,KACA,kBACA,YACA,UACA,UACA,MACA,WACA,YACA,MACA,OACA,eACA,YACA,SACA,cACA,cACA,gBACA,cACA,YACA,mBACA,eACA,aACA,eACA,cACA,KACA,KACA,KACA,KACA,aACA,WACA,gBACA,oBACA,SACA,OACA,KACA,kBACA,KACA,MACA,IACA,KACA,KACA,KACA,KACA,UACA,YACA,aACA,WACA,OACA,eACA,iBACA,eACA,mBACA,iBACA,QACA,aACA,aACA,eACA,eACA,cACA,cACA,mBACA,YACA,MACA,OACA,QACA,SACA,OACA,MACA,OACA,aACA,SACA,WACA,UACA,QACA,SACA,cACA,SACA,WACA,cACA,OACA,aACA,sBACA,mBACA,eACA,SACA,gBACA,sBACA,iBACA,IACA,KACA,KACA,SACA,OACA,OACA,cACA,YACA,UACA,SACA,SACA,QACA,OACA,kBACA,mBACA,mBACA,eACA,cACA,eACA,cACA,aACA,eACA,mBACA,oBACA,iBACA,kBACA,oBACA,iBACA,SACA,eACA,QACA,eACA,iBACA,WACA,UACA,UACA,YACA,mBACA,cACA,kBACA,iBACA,aACA,OACA,KACA,KACA,UACA,SACA,UACA,aACA,UACA,aACA,gBACA,gBACA,QACA,eACA,OACA,eACA,mBACA,mBACA,IACA,KACA,KACA,QACA,IACA,KACA,KACA,IACA,YAAY,CACb,EAEY8E,GAAS9E,EAAO,CAC3B,SACA,cACA,QACA,WACA,QACA,eACA,cACA,aACA,aACA,QACA,MACA,UACA,eACA,WACA,QACA,QACA,SACA,OACA,KACA,UACA,SACA,gBACA,SACA,SACA,iBACA,YACA,WACA,cACA,UACA,UACA,gBACA,WACA,WACA,OACA,WACA,WACA,aACA,UACA,SACA,SACA,cACA,gBACA,uBACA,YACA,YACA,aACA,WACA,iBACA,iBACA,YACA,UACA,QACA,OAAO,CACR,EAEYiF,GAAMjF,EAAO,CACxB,aACA,SACA,cACA,YACA,aAAa,CACd,ECvWYkF,GAAgBjF,EAAK,2BAA2B,EAChDkF,EAAWlF,EAAK,uBAAuB,EACvCmF,GAAcnF,EAAK,eAAe,EAClCoF,GAAYpF,EAAK,4BAA4B,EAC7CqF,GAAYrF,EAAK,gBAAgB,EACjCsF,GAAiBtF,EAC5B,2FACF,EACauF,GAAoBvF,EAAK,uBAAuB,EAChDwF,GAAkBxF,EAC7B,6DACF,EACayF,GAAezF,EAAK,SAAS,EAC7B0F,GAAi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",
  "names": ["globalThis", "chrome", "runtime", "id", "Error", "browser", "Object", "getPrototypeOf", "prototype", "CHROME_SEND_MESSAGE_CALLBACK_NO_RESPONSE_MESSAGE", "wrapAPIs", "extensionAPIs", "apiMetadata", "keys", "length", "DefaultWeakMap", "WeakMap", "constructor", "createItem", "items", "undefined", "get", "key", "has", "set", "isThenable", "value", "then", "makeCallback", "promise", "metadata", "callbackArgs", "lastError", "reject", "message", "singleCallbackArg", "resolve", "pluralizeArguments", "numArgs", "wrapAsyncFunction", "name", "target", "args", "minArgs", "maxArgs", "Promise", "fallbackToNoCallback", "cbError", "console", "warn", "noCallback", "wrapMethod", "method", "wrapper", "Proxy", "apply", "targetMethod", "thisObj", "call", "hasOwnProperty", "Function", "bind", "wrapObject", "wrappers", "cache", "create", "handlers", "proxyTarget", "prop", "receiver", "defineProperty", "configurable", "enumerable", "desc", "Reflect", "deleteProperty", "wrapEvent", "wrapperMap", "addListener", "listener", "hasListener", "removeListener", "onRequestFinishedWrappers", "req", "wrappedReq", "getContent", "onMessageWrappers", "sender", "sendResponse", "didCallSendResponse", "wrappedSendResponse", "sendResponsePromise", "response", "result", "err", "isResultThenable", "sendPromisedResult", "msg", "error", "__mozWebExtensionPolyfillReject__", "catch", "wrappedSendMessageCallback", "reply", "wrappedSendMessage", "apiNamespaceObj", "wrappedCb", "push", "sendMessage", "staticWrappers", "devtools", "network", "onRequestFinished", "onMessage", "onMessageExternal", "tabs", "settingMetadata", "clear", "privacy", "services", "websites", "module", "exports", "entries", "setPrototypeOf", "isFrozen", "getPrototypeOf", "getOwnPropertyDescriptor", "Object", "freeze", "seal", "create", "apply", "construct", "Reflect", "x", "fun", "thisValue", "args", "Func", "arrayForEach", "unapply", "Array", "prototype", "forEach", "arrayPop", "pop", "arrayPush", "push", "stringToLowerCase", "String", "toLowerCase", "stringToString", "toString", "stringMatch", "match", "stringReplace", "replace", "stringIndexOf", "indexOf", "stringTrim", "trim", "objectHasOwnProperty", "hasOwnProperty", "regExpTest", "RegExp", "test", "typeErrorCreate", "unconstruct", "TypeError", "numberIsNaN", "Number", "isNaN", "func", "thisArg", "_len", "arguments", "length", "_key", "_len2", "_key2", "addToSet", "set", "array", "transformCaseFunc", "undefined", "l", "element", "lcElement", "cleanArray", "index", "clone", "object", "newObject", "property", "value", "isArray", "constructor", "lookupGetter", "prop", "desc", "get", "fallbackValue", "html", "svg", "svgFilters", "svgDisallowed", "mathMl", "mathMlDisallowed", "text", "xml", "MUSTACHE_EXPR", "ERB_EXPR", "TMPLIT_EXPR", "DATA_ATTR", "ARIA_ATTR", "IS_ALLOWED_URI", "IS_SCRIPT_OR_DATA", "ATTR_WHITESPACE", "DOCTYPE_NAME", "CUSTOM_ELEMENT", "NODE_TYPE", "attribute", "cdataSection", "entityReference", "entityNode", "progressingInstruction", "comment", "document", "documentType", "documentFragment", "notation", "getGlobal", "window", "_createTrustedTypesPolicy", "trustedTypes", "purifyHostElement", "createPolicy", "suffix", "ATTR_NAME", "hasAttribute", "getAttribute", "policyName", "createHTML", "createScriptURL", "scriptUrl", "console", "warn", "createDOMPurify", "DOMPurify", "root", "version", "VERSION", "removed", "nodeType", "isSupported", "originalDocument", "currentScript", "DocumentFragment", "HTMLTemplateElement", "Node", "Element", "NodeFilter", "NamedNodeMap", "MozNamedAttrMap", "HTMLFormElement", "DOMParser", "ElementPrototype", "cloneNode", "getNextSibling", "getChildNodes", "getParentNode", "template", "createElement", "content", "ownerDocument", "trustedTypesPolicy", "emptyHTML", "implementation", "createNodeIterator", "createDocumentFragment", "getElementsByTagName", "importNode", "hooks", "createHTMLDocument", "EXPRESSIONS", "ALLOWED_TAGS", "DEFAULT_ALLOWED_TAGS", "TAGS", "ALLOWED_ATTR", "DEFAULT_ALLOWED_ATTR", "ATTRS", "CUSTOM_ELEMENT_HANDLING", "tagNameCheck", "writable", "configurable", "enumerable", "attributeNameCheck", "allowCustomizedBuiltInElements", "FORBID_TAGS", "FORBID_ATTR", "ALLOW_ARIA_ATTR", "ALLOW_DATA_ATTR", "ALLOW_UNKNOWN_PROTOCOLS", "ALLOW_SELF_CLOSE_IN_ATTR", "SAFE_FOR_TEMPLATES", "SAFE_FOR_XML", "WHOLE_DOCUMENT", "SET_CONFIG", "FORCE_BODY", "RETURN_DOM", "RETURN_DOM_FRAGMENT", "RETURN_TRUSTED_TYPE", "SANITIZE_DOM", "SANITIZE_NAMED_PROPS", "SANITIZE_NAMED_PROPS_PREFIX", "KEEP_CONTENT", "IN_PLACE", "USE_PROFILES", "FORBID_CONTENTS", "DEFAULT_FORBID_CONTENTS", "DATA_URI_TAGS", "DEFAULT_DATA_URI_TAGS", "URI_SAFE_ATTRIBUTES", "DEFAULT_URI_SAFE_ATTRIBUTES", "MATHML_NAMESPACE", "SVG_NAMESPACE", "HTML_NAMESPACE", "NAMESPACE", "IS_EMPTY_INPUT", "ALLOWED_NAMESPACES", "DEFAULT_ALLOWED_NAMESPACES", "PARSER_MEDIA_TYPE", "SUPPORTED_PARSER_MEDIA_TYPES", "DEFAULT_PARSER_MEDIA_TYPE", "CONFIG", "MAX_NESTING_DEPTH", "formElement", "isRegexOrFunction", "testValue", "Function", "_parseConfig", "cfg", "ADD_URI_SAFE_ATTR", "ADD_DATA_URI_TAGS", "ALLOWED_URI_REGEXP", "ADD_TAGS", "ADD_ATTR", "table", "tbody", "TRUSTED_TYPES_POLICY", "MATHML_TEXT_INTEGRATION_POINTS", "HTML_INTEGRATION_POINTS", "COMMON_SVG_AND_HTML_ELEMENTS", "ALL_SVG_TAGS", "ALL_MATHML_TAGS", "_checkValidNamespace", "parent", "tagName", "namespaceURI", "parentTagName", "Boolean", "_forceRemove", "node", "parentNode", "removeChild", "remove", "_removeAttribute", "name", "getAttributeNode", "from", "removeAttribute", "setAttribute", "_initDocument", "dirty", "doc", "leadingWhitespace", "matches", "dirtyPayload", "parseFromString", "documentElement", "createDocument", "innerHTML", "body", "insertBefore", "createTextNode", "childNodes", "call", "_createNodeIterator", "SHOW_ELEMENT", "SHOW_COMMENT", "SHOW_TEXT", "SHOW_PROCESSING_INSTRUCTION", "SHOW_CDATA_SECTION", "_isClobbered", "elm", "__depth", "__removalCount", "nodeName", "textContent", "attributes", "hasChildNodes", "_isNode", "_executeHook", "entryPoint", "currentNode", "data", "hook", "_sanitizeElements", "allowedTags", "firstElementChild", "_isBasicCustomElement", "childCount", "i", "childClone", "expr", "_isValidAttribute", "lcTag", "lcName", "_sanitizeAttributes", "hookEvent", "attrName", "attrValue", "keepAttr", "allowedAttributes", "attr", "forceKeepAttr", "getAttributeType", "setAttributeNS", "_sanitizeShadowDOM", "fragment", "shadowNode", "shadowIterator", "nextNode", "sanitize", "importedNode", "returnNode", "appendChild", "firstChild", "nodeIterator", "shadowroot", "shadowrootmode", "serializedHTML", "outerHTML", "doctype", "setConfig", "clearConfig", "isValidAttribute", "tag", "addHook", "hookFunction", "removeHook", "removeHooks", "removeAllHooks", "purify", "import_webextension_polyfill", "Info_default", "browser", "import_webextension_polyfill", "import_webextension_polyfill", "Storage", "storageArea", "key", "object", "value", "keys", "SyncedStorage", "Storage", "browser", "SyncedStorage_default", "DefaultSettings", "Info_default", "Event", "listener", "SettingsStore", "SyncedStorage", "key", "value", "data", "Settings_default", "target", "prop", "import_dompurify", "initialized", "bootstrapDomPurify_default", "SettingsStore", "allowOpenInNewTab", "Settings_default", "purifyConfig", "DOMPurify", "node", "data", "config_default", "import_webextension_polyfill", "ExtensionResources", "_ExtensionResources", "pathname", "browser", "Language", "_Language", "language", "languages", "import_webextension_polyfill", "ErrorParser", "errStr", "info", "Background", "action", "params", "result", "browser", "e", "error", "ErrorParser", "SteamStoreApiFacade", "appid", "Background", "filter", "appName", "lang", "ids", "Localization", "code", "ExtensionResources", "current", "stored", "Settings_default", "Language", "SteamStoreApiFacade", "lang", "L", "key", "replacements", "text", "value", "HTMLParser", "source", "regex", "m", "node", "nameOrRegex", "v", "Currencies_default", "AugmentedSteamApiFacade", "country", "apps", "subs", "bundles", "voucher", "shops", "Background", "appid", "to", "appids", "channelId", "currency", "steamId", "CurrencyManager", "from", "to", "code", "currency", "Currencies_default", "id", "currencyNode", "walletInfo", "HTMLParser", "SteamStoreApiFacade", "err", "currencySetting", "Settings_default", "toCurrencies", "AugmentedSteamApiFacade", "Feature", "context", "err", "msg", "args", "LoginError", "type", "ServerOutageError", "msg", "OAuthUnauthorized", "HTTPError", "code", "message", "FeatureDependencyError", "featureName", "Errors_default", "Context", "params", "type", "features", "ref", "feature", "_params", "dependent", "dependencies", "promises", "func", "promise", "dependencyFunc", "weak", "dependency", "Errors_default", "pass", "res", "e", "featureName", "Environment", "context", "CookieReader", "Environment", "key", "val", "kv", "name", "defaultValue", "LanguageFactory", "config", "Language", "script", "language", "cookie", "CookieReader", "SteamCommunityApiFacade", "steamId", "appid", "Background", "id", "preventFetch", "pages", "profilePath", "force", "newCountry", "RequestData", "_RequestData", "url", "settings", "_settings", "response", "Errors_default", "e", "data", "LegacyUser", "value", "country", "params", "HTMLParser", "response", "RequestData", "ReactUser", "value", "UserFactory", "appConfig", "user", "LegacyUser", "avatarNode", "login", "SteamCommunityApiFacade", "e", "country", "newCountry", "config", "HTMLParser", "ReactUser", "import_webextension_polyfill", "DOMHelper", "parent", "selector", "nodes", "url", "stylesheet", "path", "ExtensionResources", "content", "style", "params", "s", "browser", "Messenger", "handler", "action", "params", "id", "DOMHelper", "resolve", "e", "SteamFacade", "name", "Messenger", "value", "strTitle", "strDescription", "rgModalParams", "title", "description", "options", "strOKButton", "id", "elemLink", "elemPopup", "align", "valign", "bLinkHasBorder", "strTargetLanguage", "bStayOnPage", "selector", "appid", "divToHide", "divToShowSuccess", "divToShowError", "navref", "divToHide2", "isHtml", "amount", "publisherFee", "currencyCode", "steamid", "accountid", "AppConfig", "data", "AppConfigFactory", "configNode", "data", "config", "storeUserConfig", "AppConfig", "loaderData", "Config", "UserConfig", "SteamFacade", "item", "Environment", "unhandledrejection", "e", "err", "Page", "contextClass", "language", "user", "SettingsStore", "bootstrapDomPurify_default", "appFactory", "AppConfigFactory", "appConfig", "languageFactory", "LanguageFactory", "userFactory", "UserFactory", "Localization", "CurrencyManager", "Info_default", "config_default", "params", "noop", "identity", "x", "assign", "tar", "src", "k", "is_promise", "value", "run", "fn", "blank_object", "run_all", "fns", "is_function", "thing", "safe_not_equal", "a", "b", "src_url_equal_anchor", "src_url_equal", "element_src", "url", "is_empty", "obj", "create_slot", "definition", "ctx", "$$scope", "fn", "slot_ctx", "get_slot_context", "assign", "get_slot_changes", "dirty", "lets", "merged", "len", "i", "update_slot_base", "slot", "slot_definition", "slot_changes", "get_slot_context_fn", "slot_context", "get_all_dirty_from_scope", "$$scope", "dirty", "length", "i", "action_destroyer", "action_result", "is_function", "noop", "is_client", "now", "raf", "cb", "noop", "tasks", "run_tasks", "now", "task", "raf", "loop", "callback", "task", "tasks", "raf", "run_tasks", "fulfill", "globals", "ResizeObserverSingleton", "_ResizeObserverSingleton", "globals", "options", "element", "listener", "entries", "entry", "is_hydrating", "start_hydrating", "end_hydrating", "append", "target", "node", "get_root_for_style", "node", "root", "append_empty_stylesheet", "style_element", "element", "append_stylesheet", "style", "append", "insert", "target", "node", "anchor", "detach", "node", "destroy_each", "iterations", "detaching", "i", "element", "name", "svg_element", "name", "text", "data", "space", "empty", "listen", "node", "event", "handler", "options", "prevent_default", "fn", "attr", "node", "attribute", "value", "children", "element", "set_data", "text", "data", "set_style", "node", "key", "value", "important", "toggle_class", "element", "name", "toggle", "custom_event", "type", "detail", "bubbles", "cancelable", "HtmlTag", "is_svg", "html", "target", "anchor", "svg_element", "element", "i", "insert", "detach", "get_custom_elements_slots", "element", "result", "node", "managed_styles", "active", "hash", "str", "i", "create_style_information", "doc", "node", "info", "append_empty_stylesheet", "create_rule", "a", "b", "duration", "delay", "ease", "fn", "uid", "step", "keyframes", "p", "t", "rule", "name", "get_root_for_style", "stylesheet", "rules", "animation", "delete_rule", "previous", "next", "anim", "deleted", "clear_rules", "raf", "ownerNode", "detach", "current_component", "set_current_component", "component", "get_current_component", "onMount", "fn", "get_current_component", "createEventDispatcher", "component", "get_current_component", "type", "detail", "cancelable", "callbacks", "event", "custom_event", "fn", "bubble", "component", "event", "callbacks", "fn", "dirty_components", "binding_callbacks", "render_callbacks", "flush_callbacks", "resolved_promise", "update_scheduled", "schedule_update", "flush", "tick", "add_render_callback", "fn", "add_flush_callback", "seen_callbacks", "flushidx", "saved_component", "current_component", "dirty_components", "component", "set_current_component", "update", "i", "callback", "$$", "run_all", "dirty", "flush_render_callbacks", "fns", "filtered", "targets", "c", "promise", "wait", "dispatch", "node", "direction", "kind", "custom_event", "outroing", "outros", "group_outros", "check_outros", "run_all", "transition_in", "block", "local", "transition_out", "detach", "callback", "null_transition", "create_in_transition", "fn", "params", "options", "config", "running", "animation_name", "task", "uid", "cleanup", "delete_rule", "go", "delay", "duration", "easing", "identity", "tick", "noop", "css", "create_rule", "start_time", "now", "end_time", "add_render_callback", "loop", "t", "started", "is_function", "create_bidirectional_transition", "node", "fn", "params", "intro", "config", "t", "running_program", "pending_program", "animation_name", "original_inert_value", "clear_animation", "delete_rule", "init", "program", "duration", "d", "go", "b", "delay", "easing", "identity", "tick", "noop", "css", "null_transition", "now", "outros", "create_rule", "add_render_callback", "dispatch", "loop", "run_all", "p", "is_function", "wait", "handle_promise", "promise", "info", "token", "update", "type", "index", "key", "value", "child_ctx", "block", "needs_flush", "i", "group_outros", "transition_out", "check_outros", "transition_in", "flush", "is_promise", "current_component", "get_current_component", "set_current_component", "error", "update_await_block_branch", "ctx", "dirty", "resolved", "ensure_array_like", "array_like_or_iterator", "_boolean_attributes", "boolean_attributes", "bind", "component", "name", "callback", "index", "create_component", "block", "mount_component", "component", "target", "anchor", "fragment", "after_update", "add_render_callback", "new_on_destroy", "run", "is_function", "run_all", "destroy_component", "detaching", "$$", "flush_render_callbacks", "make_dirty", "i", "dirty_components", "schedule_update", "init", "options", "instance", "create_fragment", "not_equal", "props", "append_styles", "dirty", "parent_component", "current_component", "set_current_component", "noop", "blank_object", "ready", "ret", "rest", "value", "start_hydrating", "nodes", "children", "detach", "transition_in", "end_hydrating", "flush", "SvelteElement", "$$componentCtor", "$$slots", "use_shadow_dom", "type", "listener", "unsub", "create_slot", "name", "node", "element", "attr", "insert", "existing_slots", "get_custom_elements_slots", "attribute", "get_custom_element_value", "key", "reflect_attributes", "attribute_value", "_oldValue", "newValue", "attribute_name", "prop", "props_definition", "transform", "SvelteComponent", "destroy_component", "noop", "type", "callback", "is_function", "callbacks", "index", "props", "is_empty", "PUBLIC_VERSION", "PUBLIC_VERSION", "__deleteCommentPrompt", "__thewordunknown", "__favEmoticonsDragging", "__favEmoticonsNoAccess", "__activate", "__hide", "__clearCache", "__website", "__loading", "__spamCommentShow", "__theworddefault", "__showAll", "__contribute", "__usingLanguageReturn", "__viewinclient", "__bugFeature", "__visitStore", "__usingLanguage", "__loginWarning", "__dateUnlocked", "__never", "__launchRandom", "__playGame", "__ok", "__cancel", "__sortBy", "__thewordoptions", "__earlyAccess", "__ready_loading", "__ready_ready", "__ready_failed", "__ready_serverOutage", "__itad_lastImport", "__itad_from", "__itad_to", "__itad_syncNow", "__update_dontShow", "__update_updated", "__update_changes", "L", "__ready_serverOutage", "insert", "target", "div", "anchor", "__ready_failed", "ctx", "set_data", "t", "t_value", "create_if_block", "create_if_block_1", "__ready_loading", "__ready_ready", "div3", "append", "div2", "div1", "div0", "react", "$$props", "started", "done", "failed", "progress", "isLoading", "hasWarning", "hasError", "onMount", "onStart", "onDone", "onError", "e", "ReactDOM", "ProgressBar", "react", "node", "Settings_default", "ProgressBar_default", "ReactDOM", "DynamicStore", "DOMHelper", "resolve", "Messenger", "SteamStoreApiFacade", "storeIds", "dsStatus", "storeId", "external", "node", "Settings_default", "CacheApiFacade", "Background", "fade", "node", "delay", "duration", "easing", "identity", "o", "t", "ctx", "insert", "target", "button", "anchor", "append", "span", "type", "$$props", "insert", "target", "button", "anchor", "ctx", "create_if_block_3", "create_if_block_2", "create_if_block_1", "div", "set_data", "t_value", "create_if_block_4", "create_if_block", "div7", "append", "div0", "div6", "div1", "div4", "div3", "div2", "div5", "dispatch", "createEventDispatcher", "title", "$$props", "body", "showClose", "buttons", "ConfirmDialog", "title", "body", "buttons", "L", "__ok", "__cancel", "resolve", "modal", "Modal_default", "e", "ctx", "create_if_block_1", "L", "__thewordoptions", "__clearCache", "__contribute", "__bugFeature", "__website", "ExtensionResources", "config_default", "insert", "target", "div3", "anchor", "append", "div0", "a0", "a1", "div1", "a2", "a3", "div2", "a4", "a5", "a6", "__launchRandom", "div", "a", "create_if_block", "button", "user", "$$props", "isOpen", "parentNode", "outsideClickHandler", "e", "closeMenu", "toggleMenu", "openMenu", "clearCache", "CacheApiFacade", "launchRandom", "appid", "DynamicStore", "appdetails", "SteamStoreApiFacade", "gameid", "gamename", "confirm", "ConfirmDialog", "__playGame", "__ok", "__visitStore", "__cancel", "onMount", "$$value", "L", "__update_dontShow", "__hide", "ctx", "insert", "target", "div3", "anchor", "append", "div2", "div0", "div1", "button0", "button1", "react", "$$props", "dispatch", "createEventDispatcher", "import_webextension_polyfill", "LocalStorage", "Storage", "browser", "LocalStorage_default", "L", "__loginWarning", "ctx", "dispatch", "createEventDispatcher", "react", "$$props", "page", "host", "handleClose", "LocalStorage_default", "ctx", "info", "handle_promise", "promise_1", "insert", "target", "button", "anchor", "set_data", "t", "t_value", "create_if_block_1", "t0", "t0_value", "create_if_block", "dispatch", "createEventDispatcher", "promise", "react", "$$props", "currentLanguage", "warningLanguage", "resetLanguageCode", "SteamFacade", "handleClose", "Settings_default", "handleSetLanguage", "payload", "str__usingLanguage", "loc", "__usingLanguage", "str__usingLanguageReturn", "__usingLanguageReturn", "onMount", "Localization", "ctx", "create_if_block_1", "create_if_block", "language", "$$props", "react", "languageWarning", "loginWarning", "onMount", "e", "detail", "name", "message", "Settings_default", "warningLanguage", "Language", "ctx", "insert", "target", "button", "anchor", "$$props", "visible", "toTop", "handleScroll", "scrollTop", "onMount", "AugmentedSteam", "language", "user", "react", "Language", "target", "AugmentedSteamMenu_default", "Settings_default", "scrollTarget", "BackToTop_default", "node", "isContentEditable", "el", "e", "header", "AugmentedSteamWarnings_default", "anchor", "option", "btn", "L", "__viewinclient", "cloned", "__activate", "userId", "cachedUser", "LocalStorage_default", "CacheApiFacade", "DynamicStore", "Version", "_Version", "major", "minor", "patch", "version", "Info_default", "_version", "ctx", "info", "handle_promise", "promise_1", "L", "__update_updated", "Info_default", "__update_changes", "ExtensionResources", "attr", "img", "img_src_value", "insert", "target", "div1", "anchor", "append", "div0", "p", "a", "html_tag", "raw_value", "create_if_block", "dispatch", "createEventDispatcher", "lastVersion", "$$props", "promise", "onMount", "html", "ChangelogHandler", "lastVersion", "Version", "Settings_default", "Info_default", "changelog", "Changelog_default", "ITADApiFacade", "Background", "force", "storeIds", "appids", "storeId", "notes", "appid", "note", "ESyncStatus", "ESyncStatus_default", "ctx", "ESyncStatus_default", "insert", "target", "span", "anchor", "status", "$$props", "ctx", "ESyncStatus_default", "insert", "target", "div", "anchor", "L", "__itad_syncNow", "button", "__loading", "span", "__never", "create_if_block", "__itad_lastImport", "__itad_from", "__itad_to", "div5", "append", "div0", "div2", "div1", "div4", "div3", "set_data", "t4", "t4_value", "t8", "t8_value", "dispatch", "createEventDispatcher", "isConnected", "$$props", "enableSync", "status", "from", "to", "updateLastImport", "last", "ITADApiFacade", "syncNow", "e", "Settings_default", "ctx", "attr", "img", "img_src_value", "insert", "target", "div2", "anchor", "append", "div1", "div0", "itadLogo", "ExtensionResources", "statusComponent", "status", "$$value", "ITAD", "user", "ITADApiFacade", "menu", "ITADSyncMenu_default", "storeIds", "result", "map", "steamId", "value", "LegacyPage", "Page", "factory", "language", "user", "ProgressBar", "AugmentedSteam", "ChangelogHandler", "ITAD", "CommunityPage", "LegacyPage", "ContextType", "ContextType_default", "FConfirmDeleteComment", "Feature", "Settings_default", "DOMHelper", "L", "__deleteCommentPrompt", "__update_dontShow", "SpamComments", "parent", "Settings_default", "nodes", "node", "threadNode", "commentsThread", "count", "button", "L", "__spamCommentShow", "hiddenCount", "commentText", "comment", "FHideSpamComments", "Feature", "Settings_default", "SpamComments", "modalWait", "latestFrame", "import_dompurify", "HTML", "_HTML", "link", "_link", "str", "map", "m", "html", "template", "DOMPurify", "nodeOrSelector", "node", "dom", "firstElement", "wrapperHtml", "startElementOrSelector", "endElementOrSelector", "startElement", "endElement", "wrappedNodes", "cur", "wrapperElement", "position", "FHideTrademarks", "Feature", "Settings_default", "selectors", "ContextType_default", "replaceSymbols", "node", "HTML", "observer", "mutations", "mutation", "nodes", "FDisableLinkFilter", "Feature", "Settings_default", "target", "href", "params", "url", "FKeepSSACheckboxState", "Feature", "selector", "node", "Settings_default", "FDefaultCommunityTab", "Feature", "Settings_default", "tab", "links", "link", "L", "__earlyAccess", "ctx", "attr", "img", "img_src_value", "insert", "target", "span1", "anchor", "append", "span0", "imageUrl", "$$props", "imgHeader", "container", "onMount", "$$value", "GameId", "type_", "id_", "AppId", "GameId", "url", "m", "CDNRegex_1", "CDNRegex_2", "element", "appid", "href", "src", "text", "regex", "result", "id", "EarlyAccessUtils", "language", "nodes", "Settings_default", "_nodes", "imageName", "imageUrl", "ExtensionResources", "node", "imgHeader", "EarlyAccess_default", "appidsMap", "appid", "AppId", "eaStatus", "AugmentedSteamApiFacade", "nodesArray", "FEarlyAccess", "Feature", "EarlyAccessUtils", "CBase", "Context", "params", "type", "features", "FEarlyAccess", "FHideTrademarks", "FDisableLinkFilter", "FKeepSSACheckboxState", "FDefaultCommunityTab", "ctx", "i", "each_1_else", "L", "__favEmoticonsDragging", "attr", "img", "img_src_value", "insert", "target", "div", "anchor", "append", "handleDrag", "__loading", "info", "div2", "div0", "div1", "handle_promise", "promise_1", "emoticonPopup", "$$props", "promise", "favs", "favBox", "overBox", "overRemove", "handleClick", "e", "node", "noFav", "__favEmoticonsNoAccess", "leaveBox", "addFavorite", "name", "persistFavorites", "removeFavorite", "fav", "SyncedStorage_default", "onMount", "$$value", "handleDrag", "e", "emoticon", "emoticonHover", "FFavoriteEmoticons", "Feature", "emoticonPopup", "node", "FFavoriteEmoticons_default", "CCommunityBase", "CBase", "params", "type", "ContextType_default", "features", "FConfirmDeleteComment", "FHideSpamComments", "FFavoriteEmoticons", "LuxonError", "InvalidDateTimeError", "reason", "InvalidIntervalError", "InvalidDurationError", "ConflictingSpecificationError", "InvalidUnitError", "unit", "InvalidArgumentError", "ZoneIsAbstractError", "n", "s", "l", "DATE_SHORT", "DATE_MED", "DATE_MED_WITH_WEEKDAY", "DATE_FULL", "DATE_HUGE", "TIME_SIMPLE", "TIME_WITH_SECONDS", "TIME_WITH_SHORT_OFFSET", "TIME_WITH_LONG_OFFSET", "TIME_24_SIMPLE", "TIME_24_WITH_SECONDS", "TIME_24_WITH_SHORT_OFFSET", "TIME_24_WITH_LONG_OFFSET", "DATETIME_SHORT", "DATETIME_SHORT_WITH_SECONDS", "DATETIME_MED", "DATETIME_MED_WITH_SECONDS", "DATETIME_MED_WITH_WEEKDAY", "DATETIME_FULL", "DATETIME_FULL_WITH_SECONDS", "DATETIME_HUGE", "DATETIME_HUGE_WITH_SECONDS", "Zone", "ZoneIsAbstractError", "ts", "opts", "format", "otherZone", "singleton", "SystemZone", "_SystemZone", "Zone", "ts", "format", "locale", "parseZoneInfo", "formatOffset", "otherZone", "dtfCache", "makeDTF", "zone", "typeToPos", "hackyOffset", "dtf", "date", "formatted", "parsed", "fMonth", "fDay", "fYear", "fadOrBc", "fHour", "fMinute", "fSecond", "partsOffset", "filled", "i", "type", "value", "pos", "isUndefined", "ianaZoneCache", "IANAZone", "_IANAZone", "Zone", "name", "s", "ts", "format", "locale", "parseZoneInfo", "formatOffset", "year", "month", "day", "adOrBc", "hour", "minute", "second", "asUTC", "objToLocalTS", "asTS", "over", "otherZone", "intlLFCache", "getCachedLF", "locString", "opts", "key", "dtf", "intlDTCache", "getCachedDTF", "intlNumCache", "getCachedINF", "inf", "intlRelCache", "getCachedRTF", "base", "cacheKeyOpts", "sysLocaleCache", "systemLocale", "weekInfoCache", "getCachedWeekInfo", "data", "locale", "parseLocaleString", "localeStr", "xIndex", "uIndex", "options", "selectedStr", "smaller", "numberingSystem", "calendar", "intlConfigString", "outputCalendar", "mapMonths", "f", "ms", "i", "dt", "DateTime", "mapWeekdays", "listStuff", "loc", "length", "englishFn", "intlFn", "mode", "supportsFastNumbers", "PolyNumberFormatter", "intl", "forceSimple", "padTo", "floor", "otherOpts", "intlOpts", "fixed", "roundTo", "padStart", "PolyDateFormatter", "z", "gmtOffset", "offsetZ", "IANAZone", "value", "parts", "part", "offsetName", "PolyRelFormatter", "isEnglish", "hasRelative", "count", "unit", "formatRelativeTime", "fallbackWeekSettings", "Locale", "_Locale", "weekSettings", "defaultToEN", "specifiedLocale", "Settings", "localeR", "numberingSystemR", "outputCalendarR", "weekSettingsR", "validateWeekSettings", "numbering", "parsedLocale", "parsedNumberingSystem", "parsedOutputCalendar", "isActuallyEn", "hasNoWeirdness", "alts", "format", "months", "formatStr", "weekdays", "meridiems", "eras", "field", "df", "results", "matching", "m", "hasLocaleWeekInfo", "other", "singleton", "FixedOffsetZone", "_FixedOffsetZone", "Zone", "offset", "s", "r", "signedOffset", "formatOffset", "ts", "format", "otherZone", "InvalidZone", "Zone", "zoneName", "normalizeZone", "input", "defaultZone", "offset", "isUndefined", "Zone", "isString", "lowered", "SystemZone", "FixedOffsetZone", "IANAZone", "isNumber", "InvalidZone", "now", "defaultZone", "defaultLocale", "defaultNumberingSystem", "defaultOutputCalendar", "twoDigitCutoffYear", "throwOnInvalid", "defaultWeekSettings", "Settings", "n", "zone", "normalizeZone", "SystemZone", "locale", "numberingSystem", "outputCalendar", "weekSettings", "validateWeekSettings", "cutoffYear", "t", "Locale", "IANAZone", "Invalid", "reason", "explanation", "nonLeapLadder", "leapLadder", "unitOutOfRange", "unit", "value", "Invalid", "dayOfWeek", "year", "month", "day", "d", "js", "computeOrdinal", "isLeapYear", "uncomputeOrdinal", "ordinal", "table", "month0", "i", "isoWeekdayToLocal", "isoWeekday", "startOfWeek", "gregorianToWeek", "gregObj", "minDaysInFirstWeek", "weekday", "weekNumber", "weekYear", "weeksInWeekYear", "timeObject", "weekToGregorian", "weekData", "weekdayOfJan4", "yearInDays", "daysInYear", "gregorianToOrdinal", "gregData", "ordinalToGregorian", "ordinalData", "usesLocalWeekValues", "obj", "loc", "isUndefined", "ConflictingSpecificationError", "hasInvalidWeekData", "validYear", "isInteger", "validWeek", "integerBetween", "validWeekday", "hasInvalidOrdinalData", "validOrdinal", "hasInvalidGregorianData", "validMonth", "validDay", "daysInMonth", "hasInvalidTimeData", "hour", "minute", "second", "millisecond", "validHour", "validMinute", "validSecond", "validMillisecond", "isUndefined", "isNumber", "isInteger", "isString", "isDate", "hasRelative", "hasLocaleWeekInfo", "maybeArray", "thing", "bestBy", "arr", "by", "compare", "best", "next", "pair", "pick", "obj", "keys", "a", "k", "hasOwnProperty", "prop", "validateWeekSettings", "settings", "InvalidArgumentError", "integerBetween", "v", "bottom", "top", "floorMod", "x", "n", "padStart", "input", "isNeg", "padded", "parseInteger", "string", "parseFloating", "parseMillis", "fraction", "f", "roundTo", "number", "digits", "towardZero", "factor", "isLeapYear", "year", "daysInYear", "daysInMonth", "month", "modMonth", "modYear", "objToLocalTS", "d", "firstWeekOffset", "minDaysInFirstWeek", "startOfWeek", "isoWeekdayToLocal", "dayOfWeek", "weeksInWeekYear", "weekYear", "weekOffset", "weekOffsetNext", "untruncateYear", "Settings", "parseZoneInfo", "ts", "offsetFormat", "locale", "timeZone", "date", "intlOpts", "modified", "parsed", "m", "signedOffset", "offHourStr", "offMinuteStr", "offHour", "offMin", "offMinSigned", "asNumber", "value", "numericValue", "normalizeObject", "normalizer", "normalized", "u", "formatOffset", "offset", "format", "hours", "minutes", "sign", "timeObject", "monthsLong", "monthsShort", "monthsNarrow", "months", "length", "weekdaysLong", "weekdaysShort", "weekdaysNarrow", "weekdays", "meridiems", "erasLong", "erasShort", "erasNarrow", "eras", "meridiemForDateTime", "dt", "weekdayForDateTime", "monthForDateTime", "eraForDateTime", "formatRelativeTime", "unit", "count", "numeric", "narrow", "units", "lastable", "isDay", "isInPast", "fmtValue", "singular", "lilUnits", "fmtUnit", "stringifyTokens", "splits", "tokenToString", "s", "token", "macroTokenToFormatOpts", "DATE_SHORT", "DATE_MED", "DATE_FULL", "DATE_HUGE", "TIME_SIMPLE", "TIME_WITH_SECONDS", "TIME_WITH_SHORT_OFFSET", "TIME_WITH_LONG_OFFSET", "TIME_24_SIMPLE", "TIME_24_WITH_SECONDS", "TIME_24_WITH_SHORT_OFFSET", "TIME_24_WITH_LONG_OFFSET", "DATETIME_SHORT", "DATETIME_MED", "DATETIME_FULL", "DATETIME_HUGE", "DATETIME_SHORT_WITH_SECONDS", "DATETIME_MED_WITH_SECONDS", "DATETIME_FULL_WITH_SECONDS", "DATETIME_HUGE_WITH_SECONDS", "Formatter", "_Formatter", "locale", "opts", "fmt", "current", "currentFull", "bracketed", "c", "formatOpts", "dt", "interval", "n", "p", "padStart", "knownEnglish", "useDateTimeFormatter", "string", "extract", "formatOffset", "meridiem", "meridiemForDateTime", "month", "length", "standalone", "monthForDateTime", "weekday", "weekdayForDateTime", "maybeMacro", "era", "eraForDateTime", "dur", "tokenToField", "lildur", "mapped", "tokens", "realTokens", "found", "literal", "val", "collapsed", "t", "ianaRegex", "combineRegexes", "regexes", "full", "f", "r", "combineExtractors", "extractors", "m", "mergedVals", "mergedZone", "cursor", "ex", "val", "zone", "next", "parse", "s", "patterns", "regex", "extractor", "simpleParse", "keys", "match", "ret", "i", "parseInteger", "offsetRegex", "isoExtendedZone", "isoTimeBaseRegex", "isoTimeRegex", "isoTimeExtensionRegex", "isoYmdRegex", "isoWeekRegex", "isoOrdinalRegex", "extractISOWeekData", "extractISOOrdinalData", "sqlYmdRegex", "sqlTimeRegex", "sqlTimeExtensionRegex", "int", "pos", "fallback", "isUndefined", "extractISOYmd", "extractISOTime", "parseMillis", "extractISOOffset", "local", "fullOffset", "signedOffset", "FixedOffsetZone", "extractIANAZone", "IANAZone", "isoTimeOnly", "isoDuration", "extractISODuration", "yearStr", "monthStr", "weekStr", "dayStr", "hourStr", "minuteStr", "secondStr", "millisecondsStr", "hasNegativePrefix", "negativeSeconds", "maybeNegate", "num", "force", "parseFloating", "obsOffsets", "fromStrings", "weekdayStr", "result", "untruncateYear", "monthsShort", "weekdaysLong", "weekdaysShort", "rfc2822", "extractRFC2822", "obsOffset", "milOffset", "offHourStr", "offMinuteStr", "offset", "preprocessRFC2822", "rfc1123", "rfc850", "ascii", "extractRFC1123Or850", "extractASCII", "isoYmdWithTimeExtensionRegex", "isoWeekWithTimeExtensionRegex", "isoOrdinalWithTimeExtensionRegex", "isoTimeCombinedRegex", "extractISOYmdTimeAndOffset", "extractISOWeekTimeAndOffset", "extractISOOrdinalDateAndTime", "extractISOTimeAndOffset", "parseISODate", "parseRFC2822Date", "parseHTTPDate", "parseISODuration", "extractISOTimeOnly", "parseISOTimeOnly", "sqlYmdWithTimeExtensionRegex", "sqlTimeCombinedRegex", "extractISOTimeOffsetAndIANAZone", "parseSQL", "INVALID", "lowOrderMatrix", "casualMatrix", "daysInYearAccurate", "daysInMonthAccurate", "accurateMatrix", "orderedUnits", "reverseUnits", "clone", "dur", "alts", "clear", "conf", "Duration", "durationToMillis", "matrix", "vals", "sum", "unit", "normalizeValues", "factor", "previous", "current", "isUndefined", "previousVal", "conv", "rollUp", "fraction", "removeZeroes", "newVals", "key", "value", "_Duration", "config", "accurate", "Locale", "count", "opts", "obj", "InvalidArgumentError", "normalizeObject", "durationLike", "isNumber", "text", "parsed", "parseISODuration", "parseISOTimeOnly", "reason", "explanation", "invalid", "Invalid", "Settings", "InvalidDurationError", "normalized", "InvalidUnitError", "o", "fmt", "fmtOpts", "Formatter", "l", "val", "s", "roundTo", "millis", "DateTime", "duration", "result", "k", "hasOwnProperty", "fn", "asNumber", "values", "mixed", "locale", "numberingSystem", "conversionAccuracy", "units", "u", "built", "accumulated", "lastUnit", "own", "ak", "i", "negated", "other", "eq", "v1", "v2", "INVALID", "validateStartEnd", "start", "end", "Interval", "_Interval", "config", "reason", "explanation", "InvalidArgumentError", "invalid", "Invalid", "Settings", "InvalidIntervalError", "builtStart", "friendlyDateTime", "builtEnd", "validateError", "duration", "dur", "Duration", "dt", "text", "opts", "s", "e", "startIsValid", "DateTime", "endIsValid", "o", "unit", "dateTime", "dateTimes", "sorted", "d", "a", "b", "results", "i", "added", "next", "idx", "x", "numberOfParts", "other", "intervals", "found", "final", "sofar", "current", "item", "currentCount", "ends", "flattened", "arr", "formatOpts", "DATE_SHORT", "Formatter", "dateFormat", "separator", "mapFn", "Info", "zone", "Settings", "proto", "DateTime", "IANAZone", "input", "normalizeZone", "locale", "locObj", "Locale", "length", "numberingSystem", "outputCalendar", "hasRelative", "hasLocaleWeekInfo", "dayDiff", "earlier", "later", "utcDayStart", "dt", "ms", "Duration", "highOrderDiffs", "cursor", "units", "differs", "a", "b", "days", "results", "lowestOrder", "highWater", "unit", "differ", "diff_default", "opts", "remainingMillis", "lowerOrderUnits", "u", "duration", "numberingSystems", "numberingSystemsUTF16", "hanidecChars", "parseDigits", "str", "value", "i", "code", "key", "min", "max", "digitRegex", "numberingSystem", "append", "MISSING_FTP", "intUnit", "regex", "post", "i", "s", "parseDigits", "NBSP", "spaceOrNBSP", "spaceOrNBSPRegExp", "fixListRegex", "stripInsensitivities", "oneOf", "strings", "startIndex", "offset", "groups", "h", "m", "signedOffset", "simple", "escapeToken", "value", "unitForToken", "token", "loc", "one", "digitRegex", "two", "three", "four", "six", "oneOrTwo", "oneToThree", "oneToSix", "oneToNine", "twoToFour", "fourToSix", "literal", "t", "unit", "untruncateYear", "partTypeStyleToTokenVal", "tokenForPart", "part", "formatOpts", "resolvedOpts", "type", "isSpace", "style", "actualType", "val", "buildRegex", "units", "u", "f", "r", "match", "input", "handlers", "matches", "all", "matchIndex", "hasOwnProperty", "dateTimeFromMatches", "toField", "zone", "specificOffset", "isUndefined", "IANAZone", "FixedOffsetZone", "parseMillis", "k", "dummyDateTimeCache", "getDummyDateTime", "DateTime", "maybeExpandMacroToken", "locale", "Formatter", "tokens", "formatOptsToTokens", "expandMacroTokens", "explainFromTokens", "format", "disqualifyingUnit", "regexString", "rawMatches", "result", "ConflictingSpecificationError", "parseFromTokens", "invalidReason", "df", "parts", "p", "INVALID", "MAX_DATE", "unsupportedZone", "zone", "Invalid", "possiblyCachedWeekData", "dt", "gregorianToWeek", "possiblyCachedLocalWeekData", "clone", "inst", "alts", "current", "DateTime", "fixOffset", "localTS", "o", "tz", "utcGuess", "o2", "o3", "tsToObj", "ts", "offset", "d", "objToTS", "obj", "objToLocalTS", "adjustTime", "dur", "oPre", "year", "month", "c", "daysInMonth", "millisToAdd", "Duration", "parseDataToDateTime", "parsed", "parsedZone", "opts", "format", "text", "specificOffset", "setZone", "interpretationZone", "toTechFormat", "allowZ", "Formatter", "Locale", "toISODate", "extended", "longFormat", "padStart", "toISOTime", "suppressSeconds", "suppressMilliseconds", "includeOffset", "extendedZone", "defaultUnitValues", "defaultWeekUnitValues", "defaultOrdinalUnitValues", "orderedUnits", "orderedWeekUnits", "orderedOrdinalUnits", "normalizeUnit", "unit", "normalized", "InvalidUnitError", "normalizeUnitWithLocalWeeks", "quickDT", "normalizeZone", "Settings", "loc", "tsNow", "isUndefined", "u", "invalid", "hasInvalidGregorianData", "hasInvalidTimeData", "offsetProvis", "diffRelative", "start", "end", "round", "roundTo", "differ", "count", "lastOpts", "argList", "args", "_DateTime", "config", "ot", "day", "hour", "minute", "second", "millisecond", "FixedOffsetZone", "date", "options", "isDate", "zoneToUse", "milliseconds", "isNumber", "InvalidArgumentError", "seconds", "normalizeObject", "minDaysInFirstWeek", "startOfWeek", "usesLocalWeekValues", "containsOrdinal", "containsGregorYear", "containsGregorMD", "containsGregor", "definiteWeekDef", "ConflictingSpecificationError", "useWeekData", "units", "defaultValues", "objNow", "gregorianToOrdinal", "foundFirst", "v", "higherOrderInvalid", "hasInvalidWeekData", "hasInvalidOrdinalData", "gregorian", "weekToGregorian", "ordinalToGregorian", "tsFinal", "offsetFinal", "vals", "parseISODate", "parseRFC2822Date", "parseHTTPDate", "fmt", "locale", "numberingSystem", "localeToUse", "parseFromTokens", "parseSQL", "reason", "explanation", "InvalidDateTimeError", "formatOpts", "localeOpts", "tokenList", "formatOptsToTokens", "t", "expandMacroTokens", "Info", "dayMs", "minuteMs", "oEarlier", "oLater", "o1", "ts1", "ts2", "c1", "c2", "isLeapYear", "daysInYear", "weeksInWeekYear", "calendar", "keepLocalTime", "keepCalendarTime", "newTS", "offsetGuess", "asObj", "outputCalendar", "values", "settingWeekStuff", "mixed", "duration", "useLocaleWeeks", "normalizedUnit", "weekday", "q", "DATE_SHORT", "ext", "includePrefix", "includeZone", "includeOffsetSpace", "base", "otherDateTime", "durOpts", "maybeArray", "otherIsLater", "earlier", "later", "diffed", "diff_default", "Interval", "inputMs", "adjustedToZone", "other", "padding", "dateTimes", "bestBy", "i", "explainFromTokens", "DATE_MED", "DATE_MED_WITH_WEEKDAY", "DATE_FULL", "DATE_HUGE", "TIME_SIMPLE", "TIME_WITH_SECONDS", "TIME_WITH_SHORT_OFFSET", "TIME_WITH_LONG_OFFSET", "TIME_24_SIMPLE", "TIME_24_WITH_SECONDS", "TIME_24_WITH_SHORT_OFFSET", "TIME_24_WITH_LONG_OFFSET", "DATETIME_SHORT", "DATETIME_SHORT_WITH_SECONDS", "DATETIME_MED", "DATETIME_MED_WITH_SECONDS", "DATETIME_MED_WITH_WEEKDAY", "DATETIME_FULL", "DATETIME_FULL_WITH_SECONDS", "DATETIME_HUGE", "DATETIME_HUGE_WITH_SECONDS", "friendlyDateTime", "dateTimeish", "ctx", "insert", "target", "li", "anchor", "append", "button", "set_data", "t0", "t0_value", "i", "create_if_block", "L", "__sortBy", "div3", "div0", "div2", "button0", "div1", "ul", "button1", "dispatch", "createEventDispatcher", "name", "$$props", "options", "value", "highlighted", "selected", "selectedName", "direction", "containerNode", "isOpen", "clickOutsideHandler", "e", "hide", "show", "dispatchChange", "select", "key", "reverse", "onMount", "__thewordunknown", "tick", "$$value", "FAchievementSort", "Feature", "tabs", "SortBox_default", "L", "__theworddefault", "__dateUnlocked", "e", "key", "direction", "language", "achieveRow", "dateSetup", "nodes", "node", "dateString", "format", "formatShort", "options", "fmt", "unlockedTime", "DateTime", "url", "data", "RequestData", "HTML", "i", "sortBy", "reversed", "sortedNodes", "a", "b", "FShowHiddenAchievements", "Feature", "img", "appid", "AppId", "parent", "HTML", "L", "__showAll", "btn", "visibleAchievements", "x", "achievements", "val", "ach", "params", "RequestData", "CProfileStats", "CCommunityBase", "params", "ContextType_default", "FAchievementSort", "FShowHiddenAchievements", "CommunityPage", "CProfileStats"]
}

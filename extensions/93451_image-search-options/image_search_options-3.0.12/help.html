<!DOCTYPE html>

<html>
   <head>
    <meta charset="utf-8">
	<link rel="stylesheet" href="help.css">
  </head>
<body>
	<div id="result">
	<fieldset>
	<legend> WE Version Changes </legend>
	Due to limitations in the available WebExtensions APIs, the following feature changes needed to be made:<br /><br />
	Direct POST no longer works for websites where no new page is generated by a POST request.
	<br /><br />
	To work around the POST issue, an intermediary "Use IMGDATA to URL Host" option has been added. This option uses POST to upload the image to a temporary host, and then uses a URL provided by that temporary host to perform a GET request with the option's settings. The intermediary host is also used when data uris and other non-usable URLs are encountered if the selected option is not set to use ::$IMGDATA::.
	<br /><br />
	Right click on context menu items is no longer usable for triggering the alternate option settings. This functionality has been replaced with a checkbox added to the context menu. To use the alternate options, first click the 'Use Alternate' option checkbox.
	<br /><br />
	It is no longer possible to add multiple options to the main menu, a submenu will be created automaticly.
	<br /><br />
	It is no longer possible to search for images stored on your local system, we will look into alternative solutions for an upcoming version.
	
	</fieldset>
	<fieldset>
	<legend> IMGDATA to URL Host Specifications </legend>
		Default host: https://tmp.saucenao.com<br />
		POST Variable: file=::$IMGDATA::<br />
		Replies with JSON: {"status":"success","url":"https://temporary.image.file.url"}<br /><br />
		A future version of this extension will allow changing the host used.
	</fieldset>
	<fieldset>
	<legend> Variable Substitution </legend>
	The following strings can be used with site specific variables to pass information about the image. <br />
	<br />
	::$URL::		-> replaced with the urlencoded url of the image - Valid for GET and POST <br />
	::$RAWURL::		-> replaced with the unaltered url of the image - Valid for GET and POST <br />
	::$IMGDATA::	-> replaced with the data of the image that was right-clicked on - Valid for POST <br />
	</fieldset>
	
	<fieldset>
	<legend> Example site Variables </legend>
	<br />
	By default, the default sites are configured with the minimum set of variables, but there are many more that can be added. <br />
	Here are a few examples: <br />
	<br />
	SauceNAO-> <br />
	url=				- Specify the image to search. <br />
	db=				- Select the database set to use. (db=999 enables all databases) <br />
	numres=				- Set the number of results to return. <br />
	<br />
	IQDB-> <br />
	service[]=			- Enable specific services by number. (can be set multiple times to enable additional services) <br />
	service_mask=		- Enable a set of services using a bitmask. (service_mask=1151 would enable all currently 'visible' services) <br />
	<br />
	TinEye-> <br />
	sort=			- Set the attribute to sort results by. (sort=score sorts by similarity, and sort=size sorts by image size) <br />
	order=			- Set the order of the sorted results. (order=asc orders ascending, and order=desc orders descending) <br />
	<br />
	<br />
	Generally variables such as these are not 'advertised', but many sites have similar ones which can be used to customize their results. <br />
	Typicly they can be found by viewing the source of the search form and a bit of trial and error. <br />
	</fieldset>
	
	</div>
</body>

</html>
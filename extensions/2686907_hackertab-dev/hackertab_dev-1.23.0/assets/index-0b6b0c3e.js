import{j as e,ac as x,ad as C,ae as y,af as F,a as f,u as B,ag as E,ah as O,ai as R,aj as T,ak as L,N as w}from"./index.js";import{r as g}from"./core-ed2e5051.js";import{F as H,c as M,d as A,e as D,T as U,S as N,R as P}from"./DNDLayout-ad7f971c.js";import{k as _}from"./ui-e578ee10.js";import{a as I,C as k}from"./index-2c235288.js";import"./utils-db1e3024.js";const z=({onFinish:d,onSkip:r,skipSteps:p=!1,steps:n})=>{const[s,l]=g.useState(0),[t,u]=g.useState(),[a,b]=g.useState(n.reduce((i,c,m)=>(c.status&&(i[m]=c.status),i),{0:"current"})),j=()=>{s<n.length-1?(b(i=>(i[s]="completed",i[s+1]="current",i)),l(i=>i+1)):d(t)},o=()=>{s>0?l(i=>i-1):s===0&&r()},h=(i,c)=>{i.preventDefault(),l(c)},S=()=>{const i={moveToNext:j,moveToPrevious:o,tabsData:t,setTabsData:u};return g.createElement(n[s].element,i)};return e.jsxs("div",{children:[e.jsx("nav",{className:"my-8","aria-label":"Progress",children:e.jsx("ol",{role:"presentation",className:"steps",children:n.map((i,c)=>e.jsx("li",{className:"wrapper",children:a[c]==="completed"||a[c]==="current"?e.jsxs("button",{onClick:m=>h(m,c),className:"step active",children:[e.jsx("span",{className:"stepBadge",children:c+1}),e.jsx("div",{className:"stepLine",children:c!==n.length-1&&e.jsx("div",{className:"progressLine"})})]}):e.jsxs("button",{onClick:m=>{m.preventDefault(),p&&h(m,c)},className:"step",children:[e.jsx("span",{className:"stepBadge",children:c+1}),e.jsx("div",{className:"stepLine",children:c!==n.length-1&&e.jsx("div",{className:"progressLine"})})]})},c))})}),e.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg px-8 py-4",children:S()})]})},v=[{title:"Front-End Engineer",icon:H,sources:["devto","github","medium","hashnode"],tags:["javascript","typescript"]},{title:"Back-End Engineer",icon:C,sources:["devto","github","medium","hashnode"],tags:["go","php","ruby","rust","r"]},{title:"Full Stack Engineer",icon:I,sources:["devto","github","medium","hashnode"],tags:["javascript","typescript","php","ruby","rust"]},{title:"Mobile",icon:y,sources:["reddit","github","medium","hashnode"],tags:["android","kotlin","java","swift","objective-c"]},{title:"Devops Engineer",icon:M,sources:["freecodecamp","github","reddit","devto"],tags:["devops","bash"]},{title:"Data Engineer",icon:A,sources:["freecodecamp","github","reddit","devto"],tags:["data-science","python","artificial-intelligence","machine-learning"]},{title:"Security Engineer",icon:F,sources:["freecodecamp","github","reddit","devto"],tags:["c++","bash","python"]},{title:"ML Engineer",icon:D,sources:["github","freecodecamp","hackernews","devto"],tags:["machine-learning","artificial-intelligence","python"]},{title:"Other",icon:U,sources:["hackernews","github","producthunt","devto"],tags:[]}],V=({moveToNext:d,moveToPrevious:r,setTabsData:p,tabsData:n})=>{const[s,l]=g.useState(n||v[0]),t=a=>{l(a)},u=()=>{s!==void 0&&(p(s),d&&d())};return e.jsxs("div",{children:[e.jsxs("div",{className:"tabHeader",children:[e.jsx("h1",{className:"tabTitle",children:"Hi, ðŸ‘‹ Welcome to Hackertab"}),e.jsx("p",{className:"tabBody",children:"Let's customize your Hackertab experience!"})]}),e.jsx("div",{className:"occupations",children:v.map((a,b)=>e.jsxs("button",{onClick:()=>t(a),className:_("occupation",(s==null?void 0:s.title)===a.title&&"active"),children:[e.jsx("span",{children:e.jsx(a.icon,{className:"occupationIcon"})}),e.jsx("h3",{className:"occupationTitle",children:a.title})]},a.title))}),e.jsxs("div",{className:"tabFooter",children:[e.jsx("button",{onClick:()=>r&&r(),children:"Skip"}),e.jsxs("button",{className:"positiveButton",onClick:()=>u(),children:[e.jsx(x,{})," Next"]})]})]})},q=({moveToPrevious:d,moveToNext:r,setTabsData:p,tabsData:n})=>{const{supportedTags:s}=f(),l=s.map(t=>({label:t.label,value:t.value})).sort((t,u)=>t.label>u.label?1:-1);return e.jsxs("div",{children:[e.jsxs("div",{className:"tabHeader",children:[e.jsx("h1",{className:"tabTitle",children:"ðŸ¦¾ Select your languages & topics"}),e.jsx("p",{className:"tabBody",children:"Select the languages you're interested in following."})]}),e.jsx("div",{className:"tabContent sources",children:e.jsx(k,{canSelectMultiple:!0,options:l,defaultValues:n.tags,onChange:(t,u)=>{p({...n,tags:u.map(a=>a.value)})}})}),e.jsxs("div",{className:"tabFooter",children:[e.jsx("button",{onClick:()=>d&&d(),children:"Back"}),e.jsx("button",{className:"positiveButton",onClick:()=>r&&r(),children:"Finish"})]})]})},G=({moveToPrevious:d,moveToNext:r,setTabsData:p,tabsData:n})=>{const s=N.map(l=>({label:l.label,value:l.value,icon:l.icon})).sort((l,t)=>l.label>t.label?1:-1);return e.jsxs("div",{children:[e.jsxs("div",{className:"tabHeader",children:[e.jsx("h1",{className:"tabTitle",children:"ðŸ“™ Pick your sources"}),e.jsx("p",{className:"tabBody",children:"Your feed will be tailored by your followed sources"})]}),e.jsx("div",{className:"tabContent sources",children:e.jsx(k,{canSelectMultiple:!0,options:s,defaultValues:n.sources,onChange:(l,t)=>{console.log("sources",t.map(u=>u.value)),p({...n,sources:t.map(u=>u.value)})}})}),e.jsxs("div",{className:"tabFooter",children:[e.jsx("button",{onClick:()=>d&&d(),children:"Back"}),e.jsxs("button",{className:"positiveButton",onClick:()=>r&&r(),children:[e.jsx(x,{})," Next"]})]})]})};const Z=({showOnboarding:d,setShowOnboarding:r})=>{const{markOnboardingAsCompleted:p,setTags:n,setCards:s}=B(),{supportedTags:l}=f();return g.useEffect(()=>{E()},[]),e.jsx(P,{isOpen:d,ariaHideApp:!1,shouldCloseOnEsc:!1,shouldCloseOnOverlayClick:!1,shouldFocusAfterRender:!1,onRequestClose:()=>r(!1),contentLabel:"Onboarding",className:"Modal scrollable",style:{overlay:{zIndex:3}},overlayClassName:"Overlay",children:e.jsx("div",{className:"onboardingModal",children:e.jsx(z,{steps:[{title:"Hello",element:V},{title:"Sources",element:G},{title:"Languages",element:q}],onSkip:()=>{O(),p(null),r(!1)},onFinish:t=>{if(R(),t){const{icon:u,...a}=t;p(a),T(a.title);const b=a.tags.map(o=>l.find(h=>h.value===o)).filter(Boolean)||[];n(b),L(b.map(o=>o.value));const j=a.sources.map(o=>N.find(h=>h.value===o)).filter(Boolean).map((o,h)=>({id:h,name:(o==null?void 0:o.value)||"",type:"supported"}))||[];s(j),w(j.map(o=>o.name))}r(!1)}})})})};export{Z as OnboardingModal};
